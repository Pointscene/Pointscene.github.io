(function(fs,Oi){typeof exports=="object"&&typeof module<"u"?Oi(exports):typeof define=="function"&&define.amd?define(["exports"],Oi):(fs=typeof globalThis<"u"?globalThis:fs||self,Oi(fs.Pointscene={}))})(this,function(fs){"use strict";const Oi="139",eY={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},sY=0,n0=1,iY=2,l0=1,nY=2,Qa=3,ll=0,gi=1,pi=2,r0=1,un=0,gr=1,Rc=2,a0=3,o0=4,lY=5,Wr=100,rY=101,aY=102,c0=103,h0=104,oY=200,cY=201,hY=202,dY=203,d0=204,u0=205,uY=206,pY=207,mY=208,bY=209,yY=210,GY=0,ZY=1,XY=2,_a=3,TY=4,RY=5,IY=6,gY=7,Ic=0,WY=1,LY=2,En=0,SY=1,CY=2,fY=3,VY=4,xY=5,p0=300,Lr=301,Sr=302,fd=303,Vd=304,gc=306,xd=1e3,Bi=1001,Nd=1002,ds=1003,m0=1004,b0=1005,Es=1006,NY=1007,Wc=1008,kl=1009,FY=1010,MY=1011,qa=1012,YY=1013,$a=1014,rl=1015,Cr=1016,vY=1017,EY=1018,fr=1020,zY=1021,HY=1022,li=1023,KY=1024,wY=1025,Pl=1026,Vr=1027,kY=1028,PY=1029,UY=1030,DY=1031,JY=1033,Fd=33776,Md=33777,Yd=33778,vd=33779,y0=35840,G0=35841,Z0=35842,X0=35843,OY=36196,T0=37492,R0=37496,I0=37808,g0=37809,W0=37810,L0=37811,S0=37812,C0=37813,f0=37814,V0=37815,x0=37816,N0=37817,F0=37818,M0=37819,Y0=37820,v0=37821,E0=36492,BY=2200,AY=2201,jY=2202,Lc=2300,Sc=2301,Ed=2302,xr=2400,Nr=2401,Cc=2402,zd=2500,z0=2501,QY=0,zn=3e3,Xs=3001,_Y=3200,qY=3201,Fr=0,$Y=1,Hn="srgb",Ul="srgb-linear",Hd=7680,tv=519,to=35044,fc=35048,H0="300 es",Kd=1035;class Kn{addEventListener(i,e){this._listeners===void 0&&(this._listeners={});const s=this._listeners;s[i]===void 0&&(s[i]=[]),s[i].indexOf(e)===-1&&s[i].push(e)}hasEventListener(i,e){if(this._listeners===void 0)return!1;const s=this._listeners;return s[i]!==void 0&&s[i].indexOf(e)!==-1}removeEventListener(i,e){if(this._listeners===void 0)return;const n=this._listeners[i];if(n!==void 0){const l=n.indexOf(e);l!==-1&&n.splice(l,1)}}dispatchEvent(i){if(this._listeners===void 0)return;const s=this._listeners[i.type];if(s!==void 0){i.target=this;const n=s.slice(0);for(let l=0,r=n.length;l<r;l++)n[l].call(this,i);i.target=null}}}const Os=[];for(let t=0;t<256;t++)Os[t]=(t<16?"0":"")+t.toString(16);let K0=1234567;const eo=Math.PI/180,so=180/Math.PI;function Ai(){const t=Math.random()*4294967295|0,i=Math.random()*4294967295|0,e=Math.random()*4294967295|0,s=Math.random()*4294967295|0;return(Os[t&255]+Os[t>>8&255]+Os[t>>16&255]+Os[t>>24&255]+"-"+Os[i&255]+Os[i>>8&255]+"-"+Os[i>>16&15|64]+Os[i>>24&255]+"-"+Os[e&63|128]+Os[e>>8&255]+"-"+Os[e>>16&255]+Os[e>>24&255]+Os[s&255]+Os[s>>8&255]+Os[s>>16&255]+Os[s>>24&255]).toLowerCase()}function zs(t,i,e){return Math.max(i,Math.min(e,t))}function wd(t,i){return(t%i+i)%i}function ev(t,i,e,s,n){return s+(t-i)*(n-s)/(e-i)}function sv(t,i,e){return t!==i?(e-t)/(i-t):0}function io(t,i,e){return(1-e)*t+e*i}function iv(t,i,e,s){return io(t,i,1-Math.exp(-e*s))}function nv(t,i=1){return i-Math.abs(wd(t,i*2)-i)}function lv(t,i,e){return t<=i?0:t>=e?1:(t=(t-i)/(e-i),t*t*(3-2*t))}function rv(t,i,e){return t<=i?0:t>=e?1:(t=(t-i)/(e-i),t*t*t*(t*(t*6-15)+10))}function av(t,i){return t+Math.floor(Math.random()*(i-t+1))}function ov(t,i){return t+Math.random()*(i-t)}function cv(t){return t*(.5-Math.random())}function hv(t){t!==void 0&&(K0=t);let i=K0+=1831565813;return i=Math.imul(i^i>>>15,i|1),i^=i+Math.imul(i^i>>>7,i|61),((i^i>>>14)>>>0)/4294967296}function dv(t){return t*eo}function uv(t){return t*so}function kd(t){return(t&t-1)===0&&t!==0}function pv(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function Vc(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function mv(t,i,e,s,n){const l=Math.cos,r=Math.sin,a=l(e/2),o=r(e/2),c=l((i+s)/2),h=r((i+s)/2),d=l((i-s)/2),u=r((i-s)/2),p=l((s-i)/2),Z=r((s-i)/2);switch(n){case"XYX":t.set(a*h,o*d,o*u,a*c);break;case"YZY":t.set(o*u,a*h,o*d,a*c);break;case"ZXZ":t.set(o*d,o*u,a*h,a*c);break;case"XZX":t.set(a*h,o*Z,o*p,a*c);break;case"YXY":t.set(o*p,a*h,o*Z,a*c);break;case"ZYZ":t.set(o*Z,o*p,a*h,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+n)}}function bv(t,i){switch(i.constructor){case Float32Array:return t;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function yv(t,i){switch(i.constructor){case Float32Array:return t;case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}var w0=Object.freeze({__proto__:null,DEG2RAD:eo,RAD2DEG:so,generateUUID:Ai,clamp:zs,euclideanModulo:wd,mapLinear:ev,inverseLerp:sv,lerp:io,damp:iv,pingpong:nv,smoothstep:lv,smootherstep:rv,randInt:av,randFloat:ov,randFloatSpread:cv,seededRandom:hv,degToRad:dv,radToDeg:uv,isPowerOfTwo:kd,ceilPowerOfTwo:pv,floorPowerOfTwo:Vc,setQuaternionFromProperEuler:mv,normalize:yv,denormalize:bv});class Wt{constructor(i=0,e=0){this.x=i,this.y=e}get width(){return this.x}set width(i){this.x=i}get height(){return this.y}set height(i){this.y=i}set(i,e){return this.x=i,this.y=e,this}setScalar(i){return this.x=i,this.y=i,this}setX(i){return this.x=i,this}setY(i){return this.y=i,this}setComponent(i,e){switch(i){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+i)}return this}getComponent(i){switch(i){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+i)}}clone(){return new this.constructor(this.x,this.y)}copy(i){return this.x=i.x,this.y=i.y,this}add(i,e){return e!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(i,e)):(this.x+=i.x,this.y+=i.y,this)}addScalar(i){return this.x+=i,this.y+=i,this}addVectors(i,e){return this.x=i.x+e.x,this.y=i.y+e.y,this}addScaledVector(i,e){return this.x+=i.x*e,this.y+=i.y*e,this}sub(i,e){return e!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(i,e)):(this.x-=i.x,this.y-=i.y,this)}subScalar(i){return this.x-=i,this.y-=i,this}subVectors(i,e){return this.x=i.x-e.x,this.y=i.y-e.y,this}multiply(i){return this.x*=i.x,this.y*=i.y,this}multiplyScalar(i){return this.x*=i,this.y*=i,this}divide(i){return this.x/=i.x,this.y/=i.y,this}divideScalar(i){return this.multiplyScalar(1/i)}applyMatrix3(i){const e=this.x,s=this.y,n=i.elements;return this.x=n[0]*e+n[3]*s+n[6],this.y=n[1]*e+n[4]*s+n[7],this}min(i){return this.x=Math.min(this.x,i.x),this.y=Math.min(this.y,i.y),this}max(i){return this.x=Math.max(this.x,i.x),this.y=Math.max(this.y,i.y),this}clamp(i,e){return this.x=Math.max(i.x,Math.min(e.x,this.x)),this.y=Math.max(i.y,Math.min(e.y,this.y)),this}clampScalar(i,e){return this.x=Math.max(i,Math.min(e,this.x)),this.y=Math.max(i,Math.min(e,this.y)),this}clampLength(i,e){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(i,Math.min(e,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(i){return this.x*i.x+this.y*i.y}cross(i){return this.x*i.y-this.y*i.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(i){return Math.sqrt(this.distanceToSquared(i))}distanceToSquared(i){const e=this.x-i.x,s=this.y-i.y;return e*e+s*s}manhattanDistanceTo(i){return Math.abs(this.x-i.x)+Math.abs(this.y-i.y)}setLength(i){return this.normalize().multiplyScalar(i)}lerp(i,e){return this.x+=(i.x-this.x)*e,this.y+=(i.y-this.y)*e,this}lerpVectors(i,e,s){return this.x=i.x+(e.x-i.x)*s,this.y=i.y+(e.y-i.y)*s,this}equals(i){return i.x===this.x&&i.y===this.y}fromArray(i,e=0){return this.x=i[e],this.y=i[e+1],this}toArray(i=[],e=0){return i[e]=this.x,i[e+1]=this.y,i}fromBufferAttribute(i,e,s){return s!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=i.getX(e),this.y=i.getY(e),this}rotateAround(i,e){const s=Math.cos(e),n=Math.sin(e),l=this.x-i.x,r=this.y-i.y;return this.x=l*s-r*n+i.x,this.y=l*n+r*s+i.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}Wt.prototype.isVector2=!0;class Ys{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(i,e,s,n,l,r,a,o,c){const h=this.elements;return h[0]=i,h[1]=n,h[2]=a,h[3]=e,h[4]=l,h[5]=o,h[6]=s,h[7]=r,h[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(i){const e=this.elements,s=i.elements;return e[0]=s[0],e[1]=s[1],e[2]=s[2],e[3]=s[3],e[4]=s[4],e[5]=s[5],e[6]=s[6],e[7]=s[7],e[8]=s[8],this}extractBasis(i,e,s){return i.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),s.setFromMatrix3Column(this,2),this}setFromMatrix4(i){const e=i.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(i){return this.multiplyMatrices(this,i)}premultiply(i){return this.multiplyMatrices(i,this)}multiplyMatrices(i,e){const s=i.elements,n=e.elements,l=this.elements,r=s[0],a=s[3],o=s[6],c=s[1],h=s[4],d=s[7],u=s[2],p=s[5],Z=s[8],X=n[0],R=n[3],W=n[6],S=n[1],F=n[4],M=n[7],N=n[2],E=n[5],Y=n[8];return l[0]=r*X+a*S+o*N,l[3]=r*R+a*F+o*E,l[6]=r*W+a*M+o*Y,l[1]=c*X+h*S+d*N,l[4]=c*R+h*F+d*E,l[7]=c*W+h*M+d*Y,l[2]=u*X+p*S+Z*N,l[5]=u*R+p*F+Z*E,l[8]=u*W+p*M+Z*Y,this}multiplyScalar(i){const e=this.elements;return e[0]*=i,e[3]*=i,e[6]*=i,e[1]*=i,e[4]*=i,e[7]*=i,e[2]*=i,e[5]*=i,e[8]*=i,this}determinant(){const i=this.elements,e=i[0],s=i[1],n=i[2],l=i[3],r=i[4],a=i[5],o=i[6],c=i[7],h=i[8];return e*r*h-e*a*c-s*l*h+s*a*o+n*l*c-n*r*o}invert(){const i=this.elements,e=i[0],s=i[1],n=i[2],l=i[3],r=i[4],a=i[5],o=i[6],c=i[7],h=i[8],d=h*r-a*c,u=a*o-h*l,p=c*l-r*o,Z=e*d+s*u+n*p;if(Z===0)return this.set(0,0,0,0,0,0,0,0,0);const X=1/Z;return i[0]=d*X,i[1]=(n*c-h*s)*X,i[2]=(a*s-n*r)*X,i[3]=u*X,i[4]=(h*e-n*o)*X,i[5]=(n*l-a*e)*X,i[6]=p*X,i[7]=(s*o-c*e)*X,i[8]=(r*e-s*l)*X,this}transpose(){let i;const e=this.elements;return i=e[1],e[1]=e[3],e[3]=i,i=e[2],e[2]=e[6],e[6]=i,i=e[5],e[5]=e[7],e[7]=i,this}getNormalMatrix(i){return this.setFromMatrix4(i).invert().transpose()}transposeIntoArray(i){const e=this.elements;return i[0]=e[0],i[1]=e[3],i[2]=e[6],i[3]=e[1],i[4]=e[4],i[5]=e[7],i[6]=e[2],i[7]=e[5],i[8]=e[8],this}setUvTransform(i,e,s,n,l,r,a){const o=Math.cos(l),c=Math.sin(l);return this.set(s*o,s*c,-s*(o*r+c*a)+r+i,-n*c,n*o,-n*(-c*r+o*a)+a+e,0,0,1),this}scale(i,e){const s=this.elements;return s[0]*=i,s[3]*=i,s[6]*=i,s[1]*=e,s[4]*=e,s[7]*=e,this}rotate(i){const e=Math.cos(i),s=Math.sin(i),n=this.elements,l=n[0],r=n[3],a=n[6],o=n[1],c=n[4],h=n[7];return n[0]=e*l+s*o,n[3]=e*r+s*c,n[6]=e*a+s*h,n[1]=-s*l+e*o,n[4]=-s*r+e*c,n[7]=-s*a+e*h,this}translate(i,e){const s=this.elements;return s[0]+=i*s[2],s[3]+=i*s[5],s[6]+=i*s[8],s[1]+=e*s[2],s[4]+=e*s[5],s[7]+=e*s[8],this}equals(i){const e=this.elements,s=i.elements;for(let n=0;n<9;n++)if(e[n]!==s[n])return!1;return!0}fromArray(i,e=0){for(let s=0;s<9;s++)this.elements[s]=i[s+e];return this}toArray(i=[],e=0){const s=this.elements;return i[e]=s[0],i[e+1]=s[1],i[e+2]=s[2],i[e+3]=s[3],i[e+4]=s[4],i[e+5]=s[5],i[e+6]=s[6],i[e+7]=s[7],i[e+8]=s[8],i}clone(){return new this.constructor().fromArray(this.elements)}}Ys.prototype.isMatrix3=!0;function k0(t){for(let i=t.length-1;i>=0;--i)if(t[i]>65535)return!0;return!1}function no(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Dl(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function xc(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const Pd={[Hn]:{[Ul]:Dl},[Ul]:{[Hn]:xc}},ji={legacyMode:!0,get workingColorSpace(){return Ul},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,i,e){if(this.legacyMode||i===e||!i||!e)return t;if(Pd[i]&&Pd[i][e]!==void 0){const s=Pd[i][e];return t.r=s(t.r),t.g=s(t.g),t.b=s(t.b),t}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(t,i){return this.convert(t,this.workingColorSpace,i)},toWorkingColorSpace:function(t,i){return this.convert(t,i,this.workingColorSpace)}},P0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Hs={r:0,g:0,b:0},Qi={h:0,s:0,l:0},Nc={h:0,s:0,l:0};function Ud(t,i,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?t+(i-t)*6*e:e<1/2?i:e<2/3?t+(i-t)*6*(2/3-e):t}function Fc(t,i){return i.r=t.r,i.g=t.g,i.b=t.b,i}class it{constructor(i,e,s){return e===void 0&&s===void 0?this.set(i):this.setRGB(i,e,s)}set(i){return i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i),this}setScalar(i){return this.r=i,this.g=i,this.b=i,this}setHex(i,e=Hn){return i=Math.floor(i),this.r=(i>>16&255)/255,this.g=(i>>8&255)/255,this.b=(i&255)/255,ji.toWorkingColorSpace(this,e),this}setRGB(i,e,s,n=Ul){return this.r=i,this.g=e,this.b=s,ji.toWorkingColorSpace(this,n),this}setHSL(i,e,s,n=Ul){if(i=wd(i,1),e=zs(e,0,1),s=zs(s,0,1),e===0)this.r=this.g=this.b=s;else{const l=s<=.5?s*(1+e):s+e-s*e,r=2*s-l;this.r=Ud(r,l,i+1/3),this.g=Ud(r,l,i),this.b=Ud(r,l,i-1/3)}return ji.toWorkingColorSpace(this,n),this}setStyle(i,e=Hn){function s(l){l!==void 0&&parseFloat(l)<1&&console.warn("THREE.Color: Alpha component of "+i+" will be ignored.")}let n;if(n=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(i)){let l;const r=n[1],a=n[2];switch(r){case"rgb":case"rgba":if(l=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(l[1],10))/255,this.g=Math.min(255,parseInt(l[2],10))/255,this.b=Math.min(255,parseInt(l[3],10))/255,ji.toWorkingColorSpace(this,e),s(l[4]),this;if(l=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(l[1],10))/100,this.g=Math.min(100,parseInt(l[2],10))/100,this.b=Math.min(100,parseInt(l[3],10))/100,ji.toWorkingColorSpace(this,e),s(l[4]),this;break;case"hsl":case"hsla":if(l=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const o=parseFloat(l[1])/360,c=parseInt(l[2],10)/100,h=parseInt(l[3],10)/100;return s(l[4]),this.setHSL(o,c,h,e)}break}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(i)){const l=n[1],r=l.length;if(r===3)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,ji.toWorkingColorSpace(this,e),this;if(r===6)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,ji.toWorkingColorSpace(this,e),this}return i&&i.length>0?this.setColorName(i,e):this}setColorName(i,e=Hn){const s=P0[i.toLowerCase()];return s!==void 0?this.setHex(s,e):console.warn("THREE.Color: Unknown color "+i),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(i){return this.r=i.r,this.g=i.g,this.b=i.b,this}copySRGBToLinear(i){return this.r=Dl(i.r),this.g=Dl(i.g),this.b=Dl(i.b),this}copyLinearToSRGB(i){return this.r=xc(i.r),this.g=xc(i.g),this.b=xc(i.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(i=Hn){return ji.fromWorkingColorSpace(Fc(this,Hs),i),zs(Hs.r*255,0,255)<<16^zs(Hs.g*255,0,255)<<8^zs(Hs.b*255,0,255)<<0}getHexString(i=Hn){return("000000"+this.getHex(i).toString(16)).slice(-6)}getHSL(i,e=Ul){ji.fromWorkingColorSpace(Fc(this,Hs),e);const s=Hs.r,n=Hs.g,l=Hs.b,r=Math.max(s,n,l),a=Math.min(s,n,l);let o,c;const h=(a+r)/2;if(a===r)o=0,c=0;else{const d=r-a;switch(c=h<=.5?d/(r+a):d/(2-r-a),r){case s:o=(n-l)/d+(n<l?6:0);break;case n:o=(l-s)/d+2;break;case l:o=(s-n)/d+4;break}o/=6}return i.h=o,i.s=c,i.l=h,i}getRGB(i,e=Ul){return ji.fromWorkingColorSpace(Fc(this,Hs),e),i.r=Hs.r,i.g=Hs.g,i.b=Hs.b,i}getStyle(i=Hn){return ji.fromWorkingColorSpace(Fc(this,Hs),i),i!==Hn?`color(${i} ${Hs.r} ${Hs.g} ${Hs.b})`:`rgb(${Hs.r*255|0},${Hs.g*255|0},${Hs.b*255|0})`}offsetHSL(i,e,s){return this.getHSL(Qi),Qi.h+=i,Qi.s+=e,Qi.l+=s,this.setHSL(Qi.h,Qi.s,Qi.l),this}add(i){return this.r+=i.r,this.g+=i.g,this.b+=i.b,this}addColors(i,e){return this.r=i.r+e.r,this.g=i.g+e.g,this.b=i.b+e.b,this}addScalar(i){return this.r+=i,this.g+=i,this.b+=i,this}sub(i){return this.r=Math.max(0,this.r-i.r),this.g=Math.max(0,this.g-i.g),this.b=Math.max(0,this.b-i.b),this}multiply(i){return this.r*=i.r,this.g*=i.g,this.b*=i.b,this}multiplyScalar(i){return this.r*=i,this.g*=i,this.b*=i,this}lerp(i,e){return this.r+=(i.r-this.r)*e,this.g+=(i.g-this.g)*e,this.b+=(i.b-this.b)*e,this}lerpColors(i,e,s){return this.r=i.r+(e.r-i.r)*s,this.g=i.g+(e.g-i.g)*s,this.b=i.b+(e.b-i.b)*s,this}lerpHSL(i,e){this.getHSL(Qi),i.getHSL(Nc);const s=io(Qi.h,Nc.h,e),n=io(Qi.s,Nc.s,e),l=io(Qi.l,Nc.l,e);return this.setHSL(s,n,l),this}equals(i){return i.r===this.r&&i.g===this.g&&i.b===this.b}fromArray(i,e=0){return this.r=i[e],this.g=i[e+1],this.b=i[e+2],this}toArray(i=[],e=0){return i[e]=this.r,i[e+1]=this.g,i[e+2]=this.b,i}fromBufferAttribute(i,e){return this.r=i.getX(e),this.g=i.getY(e),this.b=i.getZ(e),i.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}it.NAMES=P0,it.prototype.isColor=!0,it.prototype.r=1,it.prototype.g=1,it.prototype.b=1;let Mr;class Jl{static getDataURL(i){if(/^data:/i.test(i.src)||typeof HTMLCanvasElement>"u")return i.src;let e;if(i instanceof HTMLCanvasElement)e=i;else{Mr===void 0&&(Mr=no("canvas")),Mr.width=i.width,Mr.height=i.height;const s=Mr.getContext("2d");i instanceof ImageData?s.putImageData(i,0,0):s.drawImage(i,0,0,i.width,i.height),e=Mr}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",i),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}static sRGBToLinear(i){if(typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap){const e=no("canvas");e.width=i.width,e.height=i.height;const s=e.getContext("2d");s.drawImage(i,0,0,i.width,i.height);const n=s.getImageData(0,0,i.width,i.height),l=n.data;for(let r=0;r<l.length;r++)l[r]=Dl(l[r]/255)*255;return s.putImageData(n,0,0),e}else if(i.data){const e=i.data.slice(0);for(let s=0;s<e.length;s++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[s]=Math.floor(Dl(e[s]/255)*255):e[s]=Dl(e[s]);return{data:e,width:i.width,height:i.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),i}}class U0{constructor(i=null){this.uuid=Ai(),this.data=i,this.version=0}set needsUpdate(i){i===!0&&this.version++}toJSON(i){const e=i===void 0||typeof i=="string";if(!e&&i.images[this.uuid]!==void 0)return i.images[this.uuid];const s={uuid:this.uuid,url:""},n=this.data;if(n!==null){let l;if(Array.isArray(n)){l=[];for(let r=0,a=n.length;r<a;r++)n[r].isDataTexture?l.push(Dd(n[r].image)):l.push(Dd(n[r]))}else l=Dd(n);s.url=l}return e||(i.images[this.uuid]=s),s}}function Dd(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?Jl.getDataURL(t):t.data?{data:Array.prototype.slice.call(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}U0.prototype.isSource=!0;let Gv=0;class Ls extends Kn{constructor(i=Ls.DEFAULT_IMAGE,e=Ls.DEFAULT_MAPPING,s=Bi,n=Bi,l=Es,r=Wc,a=li,o=kl,c=1,h=zn){super();Object.defineProperty(this,"id",{value:Gv++}),this.uuid=Ai(),this.name="",this.source=new U0(i),this.mipmaps=[],this.mapping=e,this.wrapS=s,this.wrapT=n,this.magFilter=l,this.minFilter=r,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=o,this.offset=new Wt(0,0),this.repeat=new Wt(1,1),this.center=new Wt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ys,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=h,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(i){this.source.data=i}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(i){return this.name=i.name,this.source=i.source,this.mipmaps=i.mipmaps.slice(0),this.mapping=i.mapping,this.wrapS=i.wrapS,this.wrapT=i.wrapT,this.magFilter=i.magFilter,this.minFilter=i.minFilter,this.anisotropy=i.anisotropy,this.format=i.format,this.internalFormat=i.internalFormat,this.type=i.type,this.offset.copy(i.offset),this.repeat.copy(i.repeat),this.center.copy(i.center),this.rotation=i.rotation,this.matrixAutoUpdate=i.matrixAutoUpdate,this.matrix.copy(i.matrix),this.generateMipmaps=i.generateMipmaps,this.premultiplyAlpha=i.premultiplyAlpha,this.flipY=i.flipY,this.unpackAlignment=i.unpackAlignment,this.encoding=i.encoding,this.userData=JSON.parse(JSON.stringify(i.userData)),this.needsUpdate=!0,this}toJSON(i){const e=i===void 0||typeof i=="string";if(!e&&i.textures[this.uuid]!==void 0)return i.textures[this.uuid];const s={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(i).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(s.userData=this.userData),e||(i.textures[this.uuid]=s),s}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(i){if(this.mapping!==p0)return i;if(i.applyMatrix3(this.matrix),i.x<0||i.x>1)switch(this.wrapS){case xd:i.x=i.x-Math.floor(i.x);break;case Bi:i.x=i.x<0?0:1;break;case Nd:Math.abs(Math.floor(i.x)%2)===1?i.x=Math.ceil(i.x)-i.x:i.x=i.x-Math.floor(i.x);break}if(i.y<0||i.y>1)switch(this.wrapT){case xd:i.y=i.y-Math.floor(i.y);break;case Bi:i.y=i.y<0?0:1;break;case Nd:Math.abs(Math.floor(i.y)%2)===1?i.y=Math.ceil(i.y)-i.y:i.y=i.y-Math.floor(i.y);break}return this.flipY&&(i.y=1-i.y),i}set needsUpdate(i){i===!0&&(this.version++,this.source.needsUpdate=!0)}}Ls.DEFAULT_IMAGE=null,Ls.DEFAULT_MAPPING=p0,Ls.prototype.isTexture=!0;class Ut{constructor(i=0,e=0,s=0,n=1){this.x=i,this.y=e,this.z=s,this.w=n}get width(){return this.z}set width(i){this.z=i}get height(){return this.w}set height(i){this.w=i}set(i,e,s,n){return this.x=i,this.y=e,this.z=s,this.w=n,this}setScalar(i){return this.x=i,this.y=i,this.z=i,this.w=i,this}setX(i){return this.x=i,this}setY(i){return this.y=i,this}setZ(i){return this.z=i,this}setW(i){return this.w=i,this}setComponent(i,e){switch(i){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+i)}return this}getComponent(i){switch(i){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+i)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(i){return this.x=i.x,this.y=i.y,this.z=i.z,this.w=i.w!==void 0?i.w:1,this}add(i,e){return e!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(i,e)):(this.x+=i.x,this.y+=i.y,this.z+=i.z,this.w+=i.w,this)}addScalar(i){return this.x+=i,this.y+=i,this.z+=i,this.w+=i,this}addVectors(i,e){return this.x=i.x+e.x,this.y=i.y+e.y,this.z=i.z+e.z,this.w=i.w+e.w,this}addScaledVector(i,e){return this.x+=i.x*e,this.y+=i.y*e,this.z+=i.z*e,this.w+=i.w*e,this}sub(i,e){return e!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(i,e)):(this.x-=i.x,this.y-=i.y,this.z-=i.z,this.w-=i.w,this)}subScalar(i){return this.x-=i,this.y-=i,this.z-=i,this.w-=i,this}subVectors(i,e){return this.x=i.x-e.x,this.y=i.y-e.y,this.z=i.z-e.z,this.w=i.w-e.w,this}multiply(i){return this.x*=i.x,this.y*=i.y,this.z*=i.z,this.w*=i.w,this}multiplyScalar(i){return this.x*=i,this.y*=i,this.z*=i,this.w*=i,this}applyMatrix4(i){const e=this.x,s=this.y,n=this.z,l=this.w,r=i.elements;return this.x=r[0]*e+r[4]*s+r[8]*n+r[12]*l,this.y=r[1]*e+r[5]*s+r[9]*n+r[13]*l,this.z=r[2]*e+r[6]*s+r[10]*n+r[14]*l,this.w=r[3]*e+r[7]*s+r[11]*n+r[15]*l,this}divideScalar(i){return this.multiplyScalar(1/i)}setAxisAngleFromQuaternion(i){this.w=2*Math.acos(i.w);const e=Math.sqrt(1-i.w*i.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=i.x/e,this.y=i.y/e,this.z=i.z/e),this}setAxisAngleFromRotationMatrix(i){let e,s,n,l;const o=i.elements,c=o[0],h=o[4],d=o[8],u=o[1],p=o[5],Z=o[9],X=o[2],R=o[6],W=o[10];if(Math.abs(h-u)<.01&&Math.abs(d-X)<.01&&Math.abs(Z-R)<.01){if(Math.abs(h+u)<.1&&Math.abs(d+X)<.1&&Math.abs(Z+R)<.1&&Math.abs(c+p+W-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;const F=(c+1)/2,M=(p+1)/2,N=(W+1)/2,E=(h+u)/4,Y=(d+X)/4,O=(Z+R)/4;return F>M&&F>N?F<.01?(s=0,n=.707106781,l=.707106781):(s=Math.sqrt(F),n=E/s,l=Y/s):M>N?M<.01?(s=.707106781,n=0,l=.707106781):(n=Math.sqrt(M),s=E/n,l=O/n):N<.01?(s=.707106781,n=.707106781,l=0):(l=Math.sqrt(N),s=Y/l,n=O/l),this.set(s,n,l,e),this}let S=Math.sqrt((R-Z)*(R-Z)+(d-X)*(d-X)+(u-h)*(u-h));return Math.abs(S)<.001&&(S=1),this.x=(R-Z)/S,this.y=(d-X)/S,this.z=(u-h)/S,this.w=Math.acos((c+p+W-1)/2),this}min(i){return this.x=Math.min(this.x,i.x),this.y=Math.min(this.y,i.y),this.z=Math.min(this.z,i.z),this.w=Math.min(this.w,i.w),this}max(i){return this.x=Math.max(this.x,i.x),this.y=Math.max(this.y,i.y),this.z=Math.max(this.z,i.z),this.w=Math.max(this.w,i.w),this}clamp(i,e){return this.x=Math.max(i.x,Math.min(e.x,this.x)),this.y=Math.max(i.y,Math.min(e.y,this.y)),this.z=Math.max(i.z,Math.min(e.z,this.z)),this.w=Math.max(i.w,Math.min(e.w,this.w)),this}clampScalar(i,e){return this.x=Math.max(i,Math.min(e,this.x)),this.y=Math.max(i,Math.min(e,this.y)),this.z=Math.max(i,Math.min(e,this.z)),this.w=Math.max(i,Math.min(e,this.w)),this}clampLength(i,e){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(i,Math.min(e,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(i){return this.x*i.x+this.y*i.y+this.z*i.z+this.w*i.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(i){return this.normalize().multiplyScalar(i)}lerp(i,e){return this.x+=(i.x-this.x)*e,this.y+=(i.y-this.y)*e,this.z+=(i.z-this.z)*e,this.w+=(i.w-this.w)*e,this}lerpVectors(i,e,s){return this.x=i.x+(e.x-i.x)*s,this.y=i.y+(e.y-i.y)*s,this.z=i.z+(e.z-i.z)*s,this.w=i.w+(e.w-i.w)*s,this}equals(i){return i.x===this.x&&i.y===this.y&&i.z===this.z&&i.w===this.w}fromArray(i,e=0){return this.x=i[e],this.y=i[e+1],this.z=i[e+2],this.w=i[e+3],this}toArray(i=[],e=0){return i[e]=this.x,i[e+1]=this.y,i[e+2]=this.z,i[e+3]=this.w,i}fromBufferAttribute(i,e,s){return s!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=i.getX(e),this.y=i.getY(e),this.z=i.getZ(e),this.w=i.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}Ut.prototype.isVector4=!0;class _s extends Kn{constructor(i,e,s={}){super();this.width=i,this.height=e,this.depth=1,this.scissor=new Ut(0,0,i,e),this.scissorTest=!1,this.viewport=new Ut(0,0,i,e);const n={width:i,height:e,depth:1};this.texture=new Ls(n,s.mapping,s.wrapS,s.wrapT,s.magFilter,s.minFilter,s.format,s.type,s.anisotropy,s.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=s.generateMipmaps!==void 0?s.generateMipmaps:!1,this.texture.internalFormat=s.internalFormat!==void 0?s.internalFormat:null,this.texture.minFilter=s.minFilter!==void 0?s.minFilter:Es,this.depthBuffer=s.depthBuffer!==void 0?s.depthBuffer:!0,this.stencilBuffer=s.stencilBuffer!==void 0?s.stencilBuffer:!1,this.depthTexture=s.depthTexture!==void 0?s.depthTexture:null,this.samples=s.samples!==void 0?s.samples:0}setSize(i,e,s=1){(this.width!==i||this.height!==e||this.depth!==s)&&(this.width=i,this.height=e,this.depth=s,this.texture.image.width=i,this.texture.image.height=e,this.texture.image.depth=s,this.dispose()),this.viewport.set(0,0,i,e),this.scissor.set(0,0,i,e)}clone(){return new this.constructor().copy(this)}copy(i){return this.width=i.width,this.height=i.height,this.depth=i.depth,this.viewport.copy(i.viewport),this.texture=i.texture.clone(),this.texture.isRenderTargetTexture=!0,this.texture.image=Object.assign({},i.texture.image),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,i.depthTexture!==null&&(this.depthTexture=i.depthTexture.clone()),this.samples=i.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}_s.prototype.isWebGLRenderTarget=!0;class Mc extends Ls{constructor(i=null,e=1,s=1,n=1){super(null);this.image={data:i,width:e,height:s,depth:n},this.magFilter=ds,this.minFilter=ds,this.wrapR=Bi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}Mc.prototype.isDataArrayTexture=!0;class Zv extends _s{constructor(i,e,s){super(i,e);this.depth=s,this.texture=new Mc(null,i,e,s),this.texture.isRenderTargetTexture=!0}}Zv.prototype.isWebGLArrayRenderTarget=!0;class Jd extends Ls{constructor(i=null,e=1,s=1,n=1){super(null);this.image={data:i,width:e,height:s,depth:n},this.magFilter=ds,this.minFilter=ds,this.wrapR=Bi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}Jd.prototype.isData3DTexture=!0;class Xv extends _s{constructor(i,e,s){super(i,e);this.depth=s,this.texture=new Jd(null,i,e,s),this.texture.isRenderTargetTexture=!0}}Xv.prototype.isWebGL3DRenderTarget=!0;class Tv extends _s{constructor(i,e,s,n={}){super(i,e,n);const l=this.texture;this.texture=[];for(let r=0;r<s;r++)this.texture[r]=l.clone(),this.texture[r].isRenderTargetTexture=!0}setSize(i,e,s=1){if(this.width!==i||this.height!==e||this.depth!==s){this.width=i,this.height=e,this.depth=s;for(let n=0,l=this.texture.length;n<l;n++)this.texture[n].image.width=i,this.texture[n].image.height=e,this.texture[n].image.depth=s;this.dispose()}return this.viewport.set(0,0,i,e),this.scissor.set(0,0,i,e),this}copy(i){this.dispose(),this.width=i.width,this.height=i.height,this.depth=i.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.depthTexture=i.depthTexture,this.texture.length=0;for(let e=0,s=i.texture.length;e<s;e++)this.texture[e]=i.texture[e].clone();return this}}Tv.prototype.isWebGLMultipleRenderTargets=!0;class Vs{constructor(i=0,e=0,s=0,n=1){this._x=i,this._y=e,this._z=s,this._w=n}static slerp(i,e,s,n){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),s.slerpQuaternions(i,e,n)}static slerpFlat(i,e,s,n,l,r,a){let o=s[n+0],c=s[n+1],h=s[n+2],d=s[n+3];const u=l[r+0],p=l[r+1],Z=l[r+2],X=l[r+3];if(a===0){i[e+0]=o,i[e+1]=c,i[e+2]=h,i[e+3]=d;return}if(a===1){i[e+0]=u,i[e+1]=p,i[e+2]=Z,i[e+3]=X;return}if(d!==X||o!==u||c!==p||h!==Z){let R=1-a;const W=o*u+c*p+h*Z+d*X,S=W>=0?1:-1,F=1-W*W;if(F>Number.EPSILON){const N=Math.sqrt(F),E=Math.atan2(N,W*S);R=Math.sin(R*E)/N,a=Math.sin(a*E)/N}const M=a*S;if(o=o*R+u*M,c=c*R+p*M,h=h*R+Z*M,d=d*R+X*M,R===1-a){const N=1/Math.sqrt(o*o+c*c+h*h+d*d);o*=N,c*=N,h*=N,d*=N}}i[e]=o,i[e+1]=c,i[e+2]=h,i[e+3]=d}static multiplyQuaternionsFlat(i,e,s,n,l,r){const a=s[n],o=s[n+1],c=s[n+2],h=s[n+3],d=l[r],u=l[r+1],p=l[r+2],Z=l[r+3];return i[e]=a*Z+h*d+o*p-c*u,i[e+1]=o*Z+h*u+c*d-a*p,i[e+2]=c*Z+h*p+a*u-o*d,i[e+3]=h*Z-a*d-o*u-c*p,i}get x(){return this._x}set x(i){this._x=i,this._onChangeCallback()}get y(){return this._y}set y(i){this._y=i,this._onChangeCallback()}get z(){return this._z}set z(i){this._z=i,this._onChangeCallback()}get w(){return this._w}set w(i){this._w=i,this._onChangeCallback()}set(i,e,s,n){return this._x=i,this._y=e,this._z=s,this._w=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(i){return this._x=i.x,this._y=i.y,this._z=i.z,this._w=i.w,this._onChangeCallback(),this}setFromEuler(i,e){if(!(i&&i.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const s=i._x,n=i._y,l=i._z,r=i._order,a=Math.cos,o=Math.sin,c=a(s/2),h=a(n/2),d=a(l/2),u=o(s/2),p=o(n/2),Z=o(l/2);switch(r){case"XYZ":this._x=u*h*d+c*p*Z,this._y=c*p*d-u*h*Z,this._z=c*h*Z+u*p*d,this._w=c*h*d-u*p*Z;break;case"YXZ":this._x=u*h*d+c*p*Z,this._y=c*p*d-u*h*Z,this._z=c*h*Z-u*p*d,this._w=c*h*d+u*p*Z;break;case"ZXY":this._x=u*h*d-c*p*Z,this._y=c*p*d+u*h*Z,this._z=c*h*Z+u*p*d,this._w=c*h*d-u*p*Z;break;case"ZYX":this._x=u*h*d-c*p*Z,this._y=c*p*d+u*h*Z,this._z=c*h*Z-u*p*d,this._w=c*h*d+u*p*Z;break;case"YZX":this._x=u*h*d+c*p*Z,this._y=c*p*d+u*h*Z,this._z=c*h*Z-u*p*d,this._w=c*h*d-u*p*Z;break;case"XZY":this._x=u*h*d-c*p*Z,this._y=c*p*d-u*h*Z,this._z=c*h*Z+u*p*d,this._w=c*h*d+u*p*Z;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+r)}return e!==!1&&this._onChangeCallback(),this}setFromAxisAngle(i,e){const s=e/2,n=Math.sin(s);return this._x=i.x*n,this._y=i.y*n,this._z=i.z*n,this._w=Math.cos(s),this._onChangeCallback(),this}setFromRotationMatrix(i){const e=i.elements,s=e[0],n=e[4],l=e[8],r=e[1],a=e[5],o=e[9],c=e[2],h=e[6],d=e[10],u=s+a+d;if(u>0){const p=.5/Math.sqrt(u+1);this._w=.25/p,this._x=(h-o)*p,this._y=(l-c)*p,this._z=(r-n)*p}else if(s>a&&s>d){const p=2*Math.sqrt(1+s-a-d);this._w=(h-o)/p,this._x=.25*p,this._y=(n+r)/p,this._z=(l+c)/p}else if(a>d){const p=2*Math.sqrt(1+a-s-d);this._w=(l-c)/p,this._x=(n+r)/p,this._y=.25*p,this._z=(o+h)/p}else{const p=2*Math.sqrt(1+d-s-a);this._w=(r-n)/p,this._x=(l+c)/p,this._y=(o+h)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(i,e){let s=i.dot(e)+1;return s<Number.EPSILON?(s=0,Math.abs(i.x)>Math.abs(i.z)?(this._x=-i.y,this._y=i.x,this._z=0,this._w=s):(this._x=0,this._y=-i.z,this._z=i.y,this._w=s)):(this._x=i.y*e.z-i.z*e.y,this._y=i.z*e.x-i.x*e.z,this._z=i.x*e.y-i.y*e.x,this._w=s),this.normalize()}angleTo(i){return 2*Math.acos(Math.abs(zs(this.dot(i),-1,1)))}rotateTowards(i,e){const s=this.angleTo(i);if(s===0)return this;const n=Math.min(1,e/s);return this.slerp(i,n),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(i){return this._x*i._x+this._y*i._y+this._z*i._z+this._w*i._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let i=this.length();return i===0?(this._x=0,this._y=0,this._z=0,this._w=1):(i=1/i,this._x=this._x*i,this._y=this._y*i,this._z=this._z*i,this._w=this._w*i),this._onChangeCallback(),this}multiply(i,e){return e!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(i,e)):this.multiplyQuaternions(this,i)}premultiply(i){return this.multiplyQuaternions(i,this)}multiplyQuaternions(i,e){const s=i._x,n=i._y,l=i._z,r=i._w,a=e._x,o=e._y,c=e._z,h=e._w;return this._x=s*h+r*a+n*c-l*o,this._y=n*h+r*o+l*a-s*c,this._z=l*h+r*c+s*o-n*a,this._w=r*h-s*a-n*o-l*c,this._onChangeCallback(),this}slerp(i,e){if(e===0)return this;if(e===1)return this.copy(i);const s=this._x,n=this._y,l=this._z,r=this._w;let a=r*i._w+s*i._x+n*i._y+l*i._z;if(a<0?(this._w=-i._w,this._x=-i._x,this._y=-i._y,this._z=-i._z,a=-a):this.copy(i),a>=1)return this._w=r,this._x=s,this._y=n,this._z=l,this;const o=1-a*a;if(o<=Number.EPSILON){const p=1-e;return this._w=p*r+e*this._w,this._x=p*s+e*this._x,this._y=p*n+e*this._y,this._z=p*l+e*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(o),h=Math.atan2(c,a),d=Math.sin((1-e)*h)/c,u=Math.sin(e*h)/c;return this._w=r*d+this._w*u,this._x=s*d+this._x*u,this._y=n*d+this._y*u,this._z=l*d+this._z*u,this._onChangeCallback(),this}slerpQuaternions(i,e,s){return this.copy(i).slerp(e,s)}random(){const i=Math.random(),e=Math.sqrt(1-i),s=Math.sqrt(i),n=2*Math.PI*Math.random(),l=2*Math.PI*Math.random();return this.set(e*Math.cos(n),s*Math.sin(l),s*Math.cos(l),e*Math.sin(n))}equals(i){return i._x===this._x&&i._y===this._y&&i._z===this._z&&i._w===this._w}fromArray(i,e=0){return this._x=i[e],this._y=i[e+1],this._z=i[e+2],this._w=i[e+3],this._onChangeCallback(),this}toArray(i=[],e=0){return i[e]=this._x,i[e+1]=this._y,i[e+2]=this._z,i[e+3]=this._w,i}fromBufferAttribute(i,e){return this._x=i.getX(e),this._y=i.getY(e),this._z=i.getZ(e),this._w=i.getW(e),this}_onChange(i){return this._onChangeCallback=i,this}_onChangeCallback(){}}Vs.prototype.isQuaternion=!0;class z{constructor(i=0,e=0,s=0){this.x=i,this.y=e,this.z=s}set(i,e,s){return s===void 0&&(s=this.z),this.x=i,this.y=e,this.z=s,this}setScalar(i){return this.x=i,this.y=i,this.z=i,this}setX(i){return this.x=i,this}setY(i){return this.y=i,this}setZ(i){return this.z=i,this}setComponent(i,e){switch(i){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+i)}return this}getComponent(i){switch(i){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+i)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(i){return this.x=i.x,this.y=i.y,this.z=i.z,this}add(i,e){return e!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(i,e)):(this.x+=i.x,this.y+=i.y,this.z+=i.z,this)}addScalar(i){return this.x+=i,this.y+=i,this.z+=i,this}addVectors(i,e){return this.x=i.x+e.x,this.y=i.y+e.y,this.z=i.z+e.z,this}addScaledVector(i,e){return this.x+=i.x*e,this.y+=i.y*e,this.z+=i.z*e,this}sub(i,e){return e!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(i,e)):(this.x-=i.x,this.y-=i.y,this.z-=i.z,this)}subScalar(i){return this.x-=i,this.y-=i,this.z-=i,this}subVectors(i,e){return this.x=i.x-e.x,this.y=i.y-e.y,this.z=i.z-e.z,this}multiply(i,e){return e!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(i,e)):(this.x*=i.x,this.y*=i.y,this.z*=i.z,this)}multiplyScalar(i){return this.x*=i,this.y*=i,this.z*=i,this}multiplyVectors(i,e){return this.x=i.x*e.x,this.y=i.y*e.y,this.z=i.z*e.z,this}applyEuler(i){return i&&i.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(D0.setFromEuler(i))}applyAxisAngle(i,e){return this.applyQuaternion(D0.setFromAxisAngle(i,e))}applyMatrix3(i){const e=this.x,s=this.y,n=this.z,l=i.elements;return this.x=l[0]*e+l[3]*s+l[6]*n,this.y=l[1]*e+l[4]*s+l[7]*n,this.z=l[2]*e+l[5]*s+l[8]*n,this}applyNormalMatrix(i){return this.applyMatrix3(i).normalize()}applyMatrix4(i){const e=this.x,s=this.y,n=this.z,l=i.elements,r=1/(l[3]*e+l[7]*s+l[11]*n+l[15]);return this.x=(l[0]*e+l[4]*s+l[8]*n+l[12])*r,this.y=(l[1]*e+l[5]*s+l[9]*n+l[13])*r,this.z=(l[2]*e+l[6]*s+l[10]*n+l[14])*r,this}applyQuaternion(i){const e=this.x,s=this.y,n=this.z,l=i.x,r=i.y,a=i.z,o=i.w,c=o*e+r*n-a*s,h=o*s+a*e-l*n,d=o*n+l*s-r*e,u=-l*e-r*s-a*n;return this.x=c*o+u*-l+h*-a-d*-r,this.y=h*o+u*-r+d*-l-c*-a,this.z=d*o+u*-a+c*-r-h*-l,this}project(i){return this.applyMatrix4(i.matrixWorldInverse).applyMatrix4(i.projectionMatrix)}unproject(i){return this.applyMatrix4(i.projectionMatrixInverse).applyMatrix4(i.matrixWorld)}transformDirection(i){const e=this.x,s=this.y,n=this.z,l=i.elements;return this.x=l[0]*e+l[4]*s+l[8]*n,this.y=l[1]*e+l[5]*s+l[9]*n,this.z=l[2]*e+l[6]*s+l[10]*n,this.normalize()}divide(i){return this.x/=i.x,this.y/=i.y,this.z/=i.z,this}divideScalar(i){return this.multiplyScalar(1/i)}min(i){return this.x=Math.min(this.x,i.x),this.y=Math.min(this.y,i.y),this.z=Math.min(this.z,i.z),this}max(i){return this.x=Math.max(this.x,i.x),this.y=Math.max(this.y,i.y),this.z=Math.max(this.z,i.z),this}clamp(i,e){return this.x=Math.max(i.x,Math.min(e.x,this.x)),this.y=Math.max(i.y,Math.min(e.y,this.y)),this.z=Math.max(i.z,Math.min(e.z,this.z)),this}clampScalar(i,e){return this.x=Math.max(i,Math.min(e,this.x)),this.y=Math.max(i,Math.min(e,this.y)),this.z=Math.max(i,Math.min(e,this.z)),this}clampLength(i,e){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(i,Math.min(e,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(i){return this.x*i.x+this.y*i.y+this.z*i.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(i){return this.normalize().multiplyScalar(i)}lerp(i,e){return this.x+=(i.x-this.x)*e,this.y+=(i.y-this.y)*e,this.z+=(i.z-this.z)*e,this}lerpVectors(i,e,s){return this.x=i.x+(e.x-i.x)*s,this.y=i.y+(e.y-i.y)*s,this.z=i.z+(e.z-i.z)*s,this}cross(i,e){return e!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(i,e)):this.crossVectors(this,i)}crossVectors(i,e){const s=i.x,n=i.y,l=i.z,r=e.x,a=e.y,o=e.z;return this.x=n*o-l*a,this.y=l*r-s*o,this.z=s*a-n*r,this}projectOnVector(i){const e=i.lengthSq();if(e===0)return this.set(0,0,0);const s=i.dot(this)/e;return this.copy(i).multiplyScalar(s)}projectOnPlane(i){return Od.copy(this).projectOnVector(i),this.sub(Od)}reflect(i){return this.sub(Od.copy(i).multiplyScalar(2*this.dot(i)))}angleTo(i){const e=Math.sqrt(this.lengthSq()*i.lengthSq());if(e===0)return Math.PI/2;const s=this.dot(i)/e;return Math.acos(zs(s,-1,1))}distanceTo(i){return Math.sqrt(this.distanceToSquared(i))}distanceToSquared(i){const e=this.x-i.x,s=this.y-i.y,n=this.z-i.z;return e*e+s*s+n*n}manhattanDistanceTo(i){return Math.abs(this.x-i.x)+Math.abs(this.y-i.y)+Math.abs(this.z-i.z)}setFromSpherical(i){return this.setFromSphericalCoords(i.radius,i.phi,i.theta)}setFromSphericalCoords(i,e,s){const n=Math.sin(e)*i;return this.x=n*Math.sin(s),this.y=Math.cos(e)*i,this.z=n*Math.cos(s),this}setFromCylindrical(i){return this.setFromCylindricalCoords(i.radius,i.theta,i.y)}setFromCylindricalCoords(i,e,s){return this.x=i*Math.sin(e),this.y=s,this.z=i*Math.cos(e),this}setFromMatrixPosition(i){const e=i.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(i){const e=this.setFromMatrixColumn(i,0).length(),s=this.setFromMatrixColumn(i,1).length(),n=this.setFromMatrixColumn(i,2).length();return this.x=e,this.y=s,this.z=n,this}setFromMatrixColumn(i,e){return this.fromArray(i.elements,e*4)}setFromMatrix3Column(i,e){return this.fromArray(i.elements,e*3)}setFromEuler(i){return this.x=i._x,this.y=i._y,this.z=i._z,this}equals(i){return i.x===this.x&&i.y===this.y&&i.z===this.z}fromArray(i,e=0){return this.x=i[e],this.y=i[e+1],this.z=i[e+2],this}toArray(i=[],e=0){return i[e]=this.x,i[e+1]=this.y,i[e+2]=this.z,i}fromBufferAttribute(i,e,s){return s!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=i.getX(e),this.y=i.getY(e),this.z=i.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const i=(Math.random()-.5)*2,e=Math.random()*Math.PI*2,s=Math.sqrt(1-i**2);return this.x=s*Math.cos(e),this.y=s*Math.sin(e),this.z=i,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}z.prototype.isVector3=!0;const Od=new z,D0=new Vs;class is{constructor(i=new z(1/0,1/0,1/0),e=new z(-1/0,-1/0,-1/0)){this.min=i,this.max=e}set(i,e){return this.min.copy(i),this.max.copy(e),this}setFromArray(i){let e=1/0,s=1/0,n=1/0,l=-1/0,r=-1/0,a=-1/0;for(let o=0,c=i.length;o<c;o+=3){const h=i[o],d=i[o+1],u=i[o+2];h<e&&(e=h),d<s&&(s=d),u<n&&(n=u),h>l&&(l=h),d>r&&(r=d),u>a&&(a=u)}return this.min.set(e,s,n),this.max.set(l,r,a),this}setFromBufferAttribute(i){let e=1/0,s=1/0,n=1/0,l=-1/0,r=-1/0,a=-1/0;for(let o=0,c=i.count;o<c;o++){const h=i.getX(o),d=i.getY(o),u=i.getZ(o);h<e&&(e=h),d<s&&(s=d),u<n&&(n=u),h>l&&(l=h),d>r&&(r=d),u>a&&(a=u)}return this.min.set(e,s,n),this.max.set(l,r,a),this}setFromPoints(i){this.makeEmpty();for(let e=0,s=i.length;e<s;e++)this.expandByPoint(i[e]);return this}setFromCenterAndSize(i,e){const s=Ol.copy(e).multiplyScalar(.5);return this.min.copy(i).sub(s),this.max.copy(i).add(s),this}setFromObject(i,e=!1){return this.makeEmpty(),this.expandByObject(i,e)}clone(){return new this.constructor().copy(this)}copy(i){return this.min.copy(i.min),this.max.copy(i.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(i){return this.isEmpty()?i.set(0,0,0):i.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(i){return this.isEmpty()?i.set(0,0,0):i.subVectors(this.max,this.min)}expandByPoint(i){return this.min.min(i),this.max.max(i),this}expandByVector(i){return this.min.sub(i),this.max.add(i),this}expandByScalar(i){return this.min.addScalar(-i),this.max.addScalar(i),this}expandByObject(i,e=!1){i.updateWorldMatrix(!1,!1);const s=i.geometry;if(s!==void 0)if(e&&s.attributes!=null&&s.attributes.position!==void 0){const l=s.attributes.position;for(let r=0,a=l.count;r<a;r++)Ol.fromBufferAttribute(l,r).applyMatrix4(i.matrixWorld),this.expandByPoint(Ol)}else s.boundingBox===null&&s.computeBoundingBox(),Bd.copy(s.boundingBox),Bd.applyMatrix4(i.matrixWorld),this.union(Bd);const n=i.children;for(let l=0,r=n.length;l<r;l++)this.expandByObject(n[l],e);return this}containsPoint(i){return!(i.x<this.min.x||i.x>this.max.x||i.y<this.min.y||i.y>this.max.y||i.z<this.min.z||i.z>this.max.z)}containsBox(i){return this.min.x<=i.min.x&&i.max.x<=this.max.x&&this.min.y<=i.min.y&&i.max.y<=this.max.y&&this.min.z<=i.min.z&&i.max.z<=this.max.z}getParameter(i,e){return e.set((i.x-this.min.x)/(this.max.x-this.min.x),(i.y-this.min.y)/(this.max.y-this.min.y),(i.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(i){return!(i.max.x<this.min.x||i.min.x>this.max.x||i.max.y<this.min.y||i.min.y>this.max.y||i.max.z<this.min.z||i.min.z>this.max.z)}intersectsSphere(i){return this.clampPoint(i.center,Ol),Ol.distanceToSquared(i.center)<=i.radius*i.radius}intersectsPlane(i){let e,s;return i.normal.x>0?(e=i.normal.x*this.min.x,s=i.normal.x*this.max.x):(e=i.normal.x*this.max.x,s=i.normal.x*this.min.x),i.normal.y>0?(e+=i.normal.y*this.min.y,s+=i.normal.y*this.max.y):(e+=i.normal.y*this.max.y,s+=i.normal.y*this.min.y),i.normal.z>0?(e+=i.normal.z*this.min.z,s+=i.normal.z*this.max.z):(e+=i.normal.z*this.max.z,s+=i.normal.z*this.min.z),e<=-i.constant&&s>=-i.constant}intersectsTriangle(i){if(this.isEmpty())return!1;this.getCenter(lo),Yc.subVectors(this.max,lo),Yr.subVectors(i.a,lo),vr.subVectors(i.b,lo),Er.subVectors(i.c,lo),al.subVectors(vr,Yr),ol.subVectors(Er,vr),Bl.subVectors(Yr,Er);let e=[0,-al.z,al.y,0,-ol.z,ol.y,0,-Bl.z,Bl.y,al.z,0,-al.x,ol.z,0,-ol.x,Bl.z,0,-Bl.x,-al.y,al.x,0,-ol.y,ol.x,0,-Bl.y,Bl.x,0];return!Ad(e,Yr,vr,Er,Yc)||(e=[1,0,0,0,1,0,0,0,1],!Ad(e,Yr,vr,Er,Yc))?!1:(vc.crossVectors(al,ol),e=[vc.x,vc.y,vc.z],Ad(e,Yr,vr,Er,Yc))}clampPoint(i,e){return e.copy(i).clamp(this.min,this.max)}distanceToPoint(i){return Ol.copy(i).clamp(this.min,this.max).sub(i).length()}getBoundingSphere(i){return this.getCenter(i.center),i.radius=this.getSize(Ol).length()*.5,i}intersect(i){return this.min.max(i.min),this.max.min(i.max),this.isEmpty()&&this.makeEmpty(),this}union(i){return this.min.min(i.min),this.max.max(i.max),this}applyMatrix4(i){return this.isEmpty()?this:(wn[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(i),wn[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(i),wn[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(i),wn[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(i),wn[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(i),wn[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(i),wn[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(i),wn[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(i),this.setFromPoints(wn),this)}translate(i){return this.min.add(i),this.max.add(i),this}equals(i){return i.min.equals(this.min)&&i.max.equals(this.max)}}is.prototype.isBox3=!0;const wn=[new z,new z,new z,new z,new z,new z,new z,new z],Ol=new z,Bd=new is,Yr=new z,vr=new z,Er=new z,al=new z,ol=new z,Bl=new z,lo=new z,Yc=new z,vc=new z,Al=new z;function Ad(t,i,e,s,n){for(let l=0,r=t.length-3;l<=r;l+=3){Al.fromArray(t,l);const a=n.x*Math.abs(Al.x)+n.y*Math.abs(Al.y)+n.z*Math.abs(Al.z),o=i.dot(Al),c=e.dot(Al),h=s.dot(Al);if(Math.max(-Math.max(o,c,h),Math.min(o,c,h))>a)return!1}return!0}const Rv=new is,J0=new z,Ec=new z,jd=new z;class _i{constructor(i=new z,e=-1){this.center=i,this.radius=e}set(i,e){return this.center.copy(i),this.radius=e,this}setFromPoints(i,e){const s=this.center;e!==void 0?s.copy(e):Rv.setFromPoints(i).getCenter(s);let n=0;for(let l=0,r=i.length;l<r;l++)n=Math.max(n,s.distanceToSquared(i[l]));return this.radius=Math.sqrt(n),this}copy(i){return this.center.copy(i.center),this.radius=i.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(i){return i.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(i){return i.distanceTo(this.center)-this.radius}intersectsSphere(i){const e=this.radius+i.radius;return i.center.distanceToSquared(this.center)<=e*e}intersectsBox(i){return i.intersectsSphere(this)}intersectsPlane(i){return Math.abs(i.distanceToPoint(this.center))<=this.radius}clampPoint(i,e){const s=this.center.distanceToSquared(i);return e.copy(i),s>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(i){return this.isEmpty()?(i.makeEmpty(),i):(i.set(this.center,this.center),i.expandByScalar(this.radius),i)}applyMatrix4(i){return this.center.applyMatrix4(i),this.radius=this.radius*i.getMaxScaleOnAxis(),this}translate(i){return this.center.add(i),this}expandByPoint(i){jd.subVectors(i,this.center);const e=jd.lengthSq();if(e>this.radius*this.radius){const s=Math.sqrt(e),n=(s-this.radius)*.5;this.center.add(jd.multiplyScalar(n/s)),this.radius+=n}return this}union(i){return this.center.equals(i.center)===!0?Ec.set(0,0,1).multiplyScalar(i.radius):Ec.subVectors(i.center,this.center).normalize().multiplyScalar(i.radius),this.expandByPoint(J0.copy(i.center).add(Ec)),this.expandByPoint(J0.copy(i.center).sub(Ec)),this}equals(i){return i.center.equals(this.center)&&i.radius===this.radius}clone(){return new this.constructor().copy(this)}}const kn=new z,Qd=new z,zc=new z,cl=new z,_d=new z,Hc=new z,qd=new z;class hl{constructor(i=new z,e=new z(0,0,-1)){this.origin=i,this.direction=e}set(i,e){return this.origin.copy(i),this.direction.copy(e),this}copy(i){return this.origin.copy(i.origin),this.direction.copy(i.direction),this}at(i,e){return e.copy(this.direction).multiplyScalar(i).add(this.origin)}lookAt(i){return this.direction.copy(i).sub(this.origin).normalize(),this}recast(i){return this.origin.copy(this.at(i,kn)),this}closestPointToPoint(i,e){e.subVectors(i,this.origin);const s=e.dot(this.direction);return s<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(s).add(this.origin)}distanceToPoint(i){return Math.sqrt(this.distanceSqToPoint(i))}distanceSqToPoint(i){const e=kn.subVectors(i,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(i):(kn.copy(this.direction).multiplyScalar(e).add(this.origin),kn.distanceToSquared(i))}distanceSqToSegment(i,e,s,n){Qd.copy(i).add(e).multiplyScalar(.5),zc.copy(e).sub(i).normalize(),cl.copy(this.origin).sub(Qd);const l=i.distanceTo(e)*.5,r=-this.direction.dot(zc),a=cl.dot(this.direction),o=-cl.dot(zc),c=cl.lengthSq(),h=Math.abs(1-r*r);let d,u,p,Z;if(h>0)if(d=r*o-a,u=r*a-o,Z=l*h,d>=0)if(u>=-Z)if(u<=Z){const X=1/h;d*=X,u*=X,p=d*(d+r*u+2*a)+u*(r*d+u+2*o)+c}else u=l,d=Math.max(0,-(r*u+a)),p=-d*d+u*(u+2*o)+c;else u=-l,d=Math.max(0,-(r*u+a)),p=-d*d+u*(u+2*o)+c;else u<=-Z?(d=Math.max(0,-(-r*l+a)),u=d>0?-l:Math.min(Math.max(-l,-o),l),p=-d*d+u*(u+2*o)+c):u<=Z?(d=0,u=Math.min(Math.max(-l,-o),l),p=u*(u+2*o)+c):(d=Math.max(0,-(r*l+a)),u=d>0?l:Math.min(Math.max(-l,-o),l),p=-d*d+u*(u+2*o)+c);else u=r>0?-l:l,d=Math.max(0,-(r*u+a)),p=-d*d+u*(u+2*o)+c;return s&&s.copy(this.direction).multiplyScalar(d).add(this.origin),n&&n.copy(zc).multiplyScalar(u).add(Qd),p}intersectSphere(i,e){kn.subVectors(i.center,this.origin);const s=kn.dot(this.direction),n=kn.dot(kn)-s*s,l=i.radius*i.radius;if(n>l)return null;const r=Math.sqrt(l-n),a=s-r,o=s+r;return a<0&&o<0?null:a<0?this.at(o,e):this.at(a,e)}intersectsSphere(i){return this.distanceSqToPoint(i.center)<=i.radius*i.radius}distanceToPlane(i){const e=i.normal.dot(this.direction);if(e===0)return i.distanceToPoint(this.origin)===0?0:null;const s=-(this.origin.dot(i.normal)+i.constant)/e;return s>=0?s:null}intersectPlane(i,e){const s=this.distanceToPlane(i);return s===null?null:this.at(s,e)}intersectsPlane(i){const e=i.distanceToPoint(this.origin);return e===0||i.normal.dot(this.direction)*e<0}intersectBox(i,e){let s,n,l,r,a,o;const c=1/this.direction.x,h=1/this.direction.y,d=1/this.direction.z,u=this.origin;return c>=0?(s=(i.min.x-u.x)*c,n=(i.max.x-u.x)*c):(s=(i.max.x-u.x)*c,n=(i.min.x-u.x)*c),h>=0?(l=(i.min.y-u.y)*h,r=(i.max.y-u.y)*h):(l=(i.max.y-u.y)*h,r=(i.min.y-u.y)*h),s>r||l>n||((l>s||s!==s)&&(s=l),(r<n||n!==n)&&(n=r),d>=0?(a=(i.min.z-u.z)*d,o=(i.max.z-u.z)*d):(a=(i.max.z-u.z)*d,o=(i.min.z-u.z)*d),s>o||a>n)||((a>s||s!==s)&&(s=a),(o<n||n!==n)&&(n=o),n<0)?null:this.at(s>=0?s:n,e)}intersectsBox(i){return this.intersectBox(i,kn)!==null}intersectTriangle(i,e,s,n,l){_d.subVectors(e,i),Hc.subVectors(s,i),qd.crossVectors(_d,Hc);let r=this.direction.dot(qd),a;if(r>0){if(n)return null;a=1}else if(r<0)a=-1,r=-r;else return null;cl.subVectors(this.origin,i);const o=a*this.direction.dot(Hc.crossVectors(cl,Hc));if(o<0)return null;const c=a*this.direction.dot(_d.cross(cl));if(c<0||o+c>r)return null;const h=-a*cl.dot(qd);return h<0?null:this.at(h/r,l)}applyMatrix4(i){return this.origin.applyMatrix4(i),this.direction.transformDirection(i),this}equals(i){return i.origin.equals(this.origin)&&i.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class _t{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(i,e,s,n,l,r,a,o,c,h,d,u,p,Z,X,R){const W=this.elements;return W[0]=i,W[4]=e,W[8]=s,W[12]=n,W[1]=l,W[5]=r,W[9]=a,W[13]=o,W[2]=c,W[6]=h,W[10]=d,W[14]=u,W[3]=p,W[7]=Z,W[11]=X,W[15]=R,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new _t().fromArray(this.elements)}copy(i){const e=this.elements,s=i.elements;return e[0]=s[0],e[1]=s[1],e[2]=s[2],e[3]=s[3],e[4]=s[4],e[5]=s[5],e[6]=s[6],e[7]=s[7],e[8]=s[8],e[9]=s[9],e[10]=s[10],e[11]=s[11],e[12]=s[12],e[13]=s[13],e[14]=s[14],e[15]=s[15],this}copyPosition(i){const e=this.elements,s=i.elements;return e[12]=s[12],e[13]=s[13],e[14]=s[14],this}setFromMatrix3(i){const e=i.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(i,e,s){return i.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),s.setFromMatrixColumn(this,2),this}makeBasis(i,e,s){return this.set(i.x,e.x,s.x,0,i.y,e.y,s.y,0,i.z,e.z,s.z,0,0,0,0,1),this}extractRotation(i){const e=this.elements,s=i.elements,n=1/zr.setFromMatrixColumn(i,0).length(),l=1/zr.setFromMatrixColumn(i,1).length(),r=1/zr.setFromMatrixColumn(i,2).length();return e[0]=s[0]*n,e[1]=s[1]*n,e[2]=s[2]*n,e[3]=0,e[4]=s[4]*l,e[5]=s[5]*l,e[6]=s[6]*l,e[7]=0,e[8]=s[8]*r,e[9]=s[9]*r,e[10]=s[10]*r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(i){i&&i.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const e=this.elements,s=i.x,n=i.y,l=i.z,r=Math.cos(s),a=Math.sin(s),o=Math.cos(n),c=Math.sin(n),h=Math.cos(l),d=Math.sin(l);if(i.order==="XYZ"){const u=r*h,p=r*d,Z=a*h,X=a*d;e[0]=o*h,e[4]=-o*d,e[8]=c,e[1]=p+Z*c,e[5]=u-X*c,e[9]=-a*o,e[2]=X-u*c,e[6]=Z+p*c,e[10]=r*o}else if(i.order==="YXZ"){const u=o*h,p=o*d,Z=c*h,X=c*d;e[0]=u+X*a,e[4]=Z*a-p,e[8]=r*c,e[1]=r*d,e[5]=r*h,e[9]=-a,e[2]=p*a-Z,e[6]=X+u*a,e[10]=r*o}else if(i.order==="ZXY"){const u=o*h,p=o*d,Z=c*h,X=c*d;e[0]=u-X*a,e[4]=-r*d,e[8]=Z+p*a,e[1]=p+Z*a,e[5]=r*h,e[9]=X-u*a,e[2]=-r*c,e[6]=a,e[10]=r*o}else if(i.order==="ZYX"){const u=r*h,p=r*d,Z=a*h,X=a*d;e[0]=o*h,e[4]=Z*c-p,e[8]=u*c+X,e[1]=o*d,e[5]=X*c+u,e[9]=p*c-Z,e[2]=-c,e[6]=a*o,e[10]=r*o}else if(i.order==="YZX"){const u=r*o,p=r*c,Z=a*o,X=a*c;e[0]=o*h,e[4]=X-u*d,e[8]=Z*d+p,e[1]=d,e[5]=r*h,e[9]=-a*h,e[2]=-c*h,e[6]=p*d+Z,e[10]=u-X*d}else if(i.order==="XZY"){const u=r*o,p=r*c,Z=a*o,X=a*c;e[0]=o*h,e[4]=-d,e[8]=c*h,e[1]=u*d+X,e[5]=r*h,e[9]=p*d-Z,e[2]=Z*d-p,e[6]=a*h,e[10]=X*d+u}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(i){return this.compose(Iv,i,gv)}lookAt(i,e,s){const n=this.elements;return Wi.subVectors(i,e),Wi.lengthSq()===0&&(Wi.z=1),Wi.normalize(),dl.crossVectors(s,Wi),dl.lengthSq()===0&&(Math.abs(s.z)===1?Wi.x+=1e-4:Wi.z+=1e-4,Wi.normalize(),dl.crossVectors(s,Wi)),dl.normalize(),Kc.crossVectors(Wi,dl),n[0]=dl.x,n[4]=Kc.x,n[8]=Wi.x,n[1]=dl.y,n[5]=Kc.y,n[9]=Wi.y,n[2]=dl.z,n[6]=Kc.z,n[10]=Wi.z,this}multiply(i,e){return e!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(i,e)):this.multiplyMatrices(this,i)}premultiply(i){return this.multiplyMatrices(i,this)}multiplyMatrices(i,e){const s=i.elements,n=e.elements,l=this.elements,r=s[0],a=s[4],o=s[8],c=s[12],h=s[1],d=s[5],u=s[9],p=s[13],Z=s[2],X=s[6],R=s[10],W=s[14],S=s[3],F=s[7],M=s[11],N=s[15],E=n[0],Y=n[4],O=n[8],q=n[12],$=n[1],H=n[5],j=n[9],mt=n[13],st=n[2],ot=n[6],rt=n[10],lt=n[14],nt=n[3],Gt=n[7],gt=n[11],Mt=n[15];return l[0]=r*E+a*$+o*st+c*nt,l[4]=r*Y+a*H+o*ot+c*Gt,l[8]=r*O+a*j+o*rt+c*gt,l[12]=r*q+a*mt+o*lt+c*Mt,l[1]=h*E+d*$+u*st+p*nt,l[5]=h*Y+d*H+u*ot+p*Gt,l[9]=h*O+d*j+u*rt+p*gt,l[13]=h*q+d*mt+u*lt+p*Mt,l[2]=Z*E+X*$+R*st+W*nt,l[6]=Z*Y+X*H+R*ot+W*Gt,l[10]=Z*O+X*j+R*rt+W*gt,l[14]=Z*q+X*mt+R*lt+W*Mt,l[3]=S*E+F*$+M*st+N*nt,l[7]=S*Y+F*H+M*ot+N*Gt,l[11]=S*O+F*j+M*rt+N*gt,l[15]=S*q+F*mt+M*lt+N*Mt,this}multiplyScalar(i){const e=this.elements;return e[0]*=i,e[4]*=i,e[8]*=i,e[12]*=i,e[1]*=i,e[5]*=i,e[9]*=i,e[13]*=i,e[2]*=i,e[6]*=i,e[10]*=i,e[14]*=i,e[3]*=i,e[7]*=i,e[11]*=i,e[15]*=i,this}determinant(){const i=this.elements,e=i[0],s=i[4],n=i[8],l=i[12],r=i[1],a=i[5],o=i[9],c=i[13],h=i[2],d=i[6],u=i[10],p=i[14],Z=i[3],X=i[7],R=i[11],W=i[15];return Z*(+l*o*d-n*c*d-l*a*u+s*c*u+n*a*p-s*o*p)+X*(+e*o*p-e*c*u+l*r*u-n*r*p+n*c*h-l*o*h)+R*(+e*c*d-e*a*p-l*r*d+s*r*p+l*a*h-s*c*h)+W*(-n*a*h-e*o*d+e*a*u+n*r*d-s*r*u+s*o*h)}transpose(){const i=this.elements;let e;return e=i[1],i[1]=i[4],i[4]=e,e=i[2],i[2]=i[8],i[8]=e,e=i[6],i[6]=i[9],i[9]=e,e=i[3],i[3]=i[12],i[12]=e,e=i[7],i[7]=i[13],i[13]=e,e=i[11],i[11]=i[14],i[14]=e,this}setPosition(i,e,s){const n=this.elements;return i.isVector3?(n[12]=i.x,n[13]=i.y,n[14]=i.z):(n[12]=i,n[13]=e,n[14]=s),this}invert(){const i=this.elements,e=i[0],s=i[1],n=i[2],l=i[3],r=i[4],a=i[5],o=i[6],c=i[7],h=i[8],d=i[9],u=i[10],p=i[11],Z=i[12],X=i[13],R=i[14],W=i[15],S=d*R*c-X*u*c+X*o*p-a*R*p-d*o*W+a*u*W,F=Z*u*c-h*R*c-Z*o*p+r*R*p+h*o*W-r*u*W,M=h*X*c-Z*d*c+Z*a*p-r*X*p-h*a*W+r*d*W,N=Z*d*o-h*X*o-Z*a*u+r*X*u+h*a*R-r*d*R,E=e*S+s*F+n*M+l*N;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Y=1/E;return i[0]=S*Y,i[1]=(X*u*l-d*R*l-X*n*p+s*R*p+d*n*W-s*u*W)*Y,i[2]=(a*R*l-X*o*l+X*n*c-s*R*c-a*n*W+s*o*W)*Y,i[3]=(d*o*l-a*u*l-d*n*c+s*u*c+a*n*p-s*o*p)*Y,i[4]=F*Y,i[5]=(h*R*l-Z*u*l+Z*n*p-e*R*p-h*n*W+e*u*W)*Y,i[6]=(Z*o*l-r*R*l-Z*n*c+e*R*c+r*n*W-e*o*W)*Y,i[7]=(r*u*l-h*o*l+h*n*c-e*u*c-r*n*p+e*o*p)*Y,i[8]=M*Y,i[9]=(Z*d*l-h*X*l-Z*s*p+e*X*p+h*s*W-e*d*W)*Y,i[10]=(r*X*l-Z*a*l+Z*s*c-e*X*c-r*s*W+e*a*W)*Y,i[11]=(h*a*l-r*d*l-h*s*c+e*d*c+r*s*p-e*a*p)*Y,i[12]=N*Y,i[13]=(h*X*n-Z*d*n+Z*s*u-e*X*u-h*s*R+e*d*R)*Y,i[14]=(Z*a*n-r*X*n-Z*s*o+e*X*o+r*s*R-e*a*R)*Y,i[15]=(r*d*n-h*a*n+h*s*o-e*d*o-r*s*u+e*a*u)*Y,this}scale(i){const e=this.elements,s=i.x,n=i.y,l=i.z;return e[0]*=s,e[4]*=n,e[8]*=l,e[1]*=s,e[5]*=n,e[9]*=l,e[2]*=s,e[6]*=n,e[10]*=l,e[3]*=s,e[7]*=n,e[11]*=l,this}getMaxScaleOnAxis(){const i=this.elements,e=i[0]*i[0]+i[1]*i[1]+i[2]*i[2],s=i[4]*i[4]+i[5]*i[5]+i[6]*i[6],n=i[8]*i[8]+i[9]*i[9]+i[10]*i[10];return Math.sqrt(Math.max(e,s,n))}makeTranslation(i,e,s){return this.set(1,0,0,i,0,1,0,e,0,0,1,s,0,0,0,1),this}makeRotationX(i){const e=Math.cos(i),s=Math.sin(i);return this.set(1,0,0,0,0,e,-s,0,0,s,e,0,0,0,0,1),this}makeRotationY(i){const e=Math.cos(i),s=Math.sin(i);return this.set(e,0,s,0,0,1,0,0,-s,0,e,0,0,0,0,1),this}makeRotationZ(i){const e=Math.cos(i),s=Math.sin(i);return this.set(e,-s,0,0,s,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(i,e){const s=Math.cos(e),n=Math.sin(e),l=1-s,r=i.x,a=i.y,o=i.z,c=l*r,h=l*a;return this.set(c*r+s,c*a-n*o,c*o+n*a,0,c*a+n*o,h*a+s,h*o-n*r,0,c*o-n*a,h*o+n*r,l*o*o+s,0,0,0,0,1),this}makeScale(i,e,s){return this.set(i,0,0,0,0,e,0,0,0,0,s,0,0,0,0,1),this}makeShear(i,e,s,n,l,r){return this.set(1,s,l,0,i,1,r,0,e,n,1,0,0,0,0,1),this}compose(i,e,s){const n=this.elements,l=e._x,r=e._y,a=e._z,o=e._w,c=l+l,h=r+r,d=a+a,u=l*c,p=l*h,Z=l*d,X=r*h,R=r*d,W=a*d,S=o*c,F=o*h,M=o*d,N=s.x,E=s.y,Y=s.z;return n[0]=(1-(X+W))*N,n[1]=(p+M)*N,n[2]=(Z-F)*N,n[3]=0,n[4]=(p-M)*E,n[5]=(1-(u+W))*E,n[6]=(R+S)*E,n[7]=0,n[8]=(Z+F)*Y,n[9]=(R-S)*Y,n[10]=(1-(u+X))*Y,n[11]=0,n[12]=i.x,n[13]=i.y,n[14]=i.z,n[15]=1,this}decompose(i,e,s){const n=this.elements;let l=zr.set(n[0],n[1],n[2]).length();const r=zr.set(n[4],n[5],n[6]).length(),a=zr.set(n[8],n[9],n[10]).length();this.determinant()<0&&(l=-l),i.x=n[12],i.y=n[13],i.z=n[14],qi.copy(this);const c=1/l,h=1/r,d=1/a;return qi.elements[0]*=c,qi.elements[1]*=c,qi.elements[2]*=c,qi.elements[4]*=h,qi.elements[5]*=h,qi.elements[6]*=h,qi.elements[8]*=d,qi.elements[9]*=d,qi.elements[10]*=d,e.setFromRotationMatrix(qi),s.x=l,s.y=r,s.z=a,this}makePerspective(i,e,s,n,l,r){r===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,o=2*l/(e-i),c=2*l/(s-n),h=(e+i)/(e-i),d=(s+n)/(s-n),u=-(r+l)/(r-l),p=-2*r*l/(r-l);return a[0]=o,a[4]=0,a[8]=h,a[12]=0,a[1]=0,a[5]=c,a[9]=d,a[13]=0,a[2]=0,a[6]=0,a[10]=u,a[14]=p,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(i,e,s,n,l,r){const a=this.elements,o=1/(e-i),c=1/(s-n),h=1/(r-l),d=(e+i)*o,u=(s+n)*c,p=(r+l)*h;return a[0]=2*o,a[4]=0,a[8]=0,a[12]=-d,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-u,a[2]=0,a[6]=0,a[10]=-2*h,a[14]=-p,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(i){const e=this.elements,s=i.elements;for(let n=0;n<16;n++)if(e[n]!==s[n])return!1;return!0}fromArray(i,e=0){for(let s=0;s<16;s++)this.elements[s]=i[s+e];return this}toArray(i=[],e=0){const s=this.elements;return i[e]=s[0],i[e+1]=s[1],i[e+2]=s[2],i[e+3]=s[3],i[e+4]=s[4],i[e+5]=s[5],i[e+6]=s[6],i[e+7]=s[7],i[e+8]=s[8],i[e+9]=s[9],i[e+10]=s[10],i[e+11]=s[11],i[e+12]=s[12],i[e+13]=s[13],i[e+14]=s[14],i[e+15]=s[15],i}}_t.prototype.isMatrix4=!0;const zr=new z,qi=new _t,Iv=new z(0,0,0),gv=new z(1,1,1),dl=new z,Kc=new z,Wi=new z,O0=new _t,B0=new Vs;class pn{constructor(i=0,e=0,s=0,n=pn.DefaultOrder){this._x=i,this._y=e,this._z=s,this._order=n}get x(){return this._x}set x(i){this._x=i,this._onChangeCallback()}get y(){return this._y}set y(i){this._y=i,this._onChangeCallback()}get z(){return this._z}set z(i){this._z=i,this._onChangeCallback()}get order(){return this._order}set order(i){this._order=i,this._onChangeCallback()}set(i,e,s,n=this._order){return this._x=i,this._y=e,this._z=s,this._order=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(i){return this._x=i._x,this._y=i._y,this._z=i._z,this._order=i._order,this._onChangeCallback(),this}setFromRotationMatrix(i,e=this._order,s=!0){const n=i.elements,l=n[0],r=n[4],a=n[8],o=n[1],c=n[5],h=n[9],d=n[2],u=n[6],p=n[10];switch(e){case"XYZ":this._y=Math.asin(zs(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-h,p),this._z=Math.atan2(-r,l)):(this._x=Math.atan2(u,c),this._z=0);break;case"YXZ":this._x=Math.asin(-zs(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(a,p),this._z=Math.atan2(o,c)):(this._y=Math.atan2(-d,l),this._z=0);break;case"ZXY":this._x=Math.asin(zs(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(-d,p),this._z=Math.atan2(-r,c)):(this._y=0,this._z=Math.atan2(o,l));break;case"ZYX":this._y=Math.asin(-zs(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(u,p),this._z=Math.atan2(o,l)):(this._x=0,this._z=Math.atan2(-r,c));break;case"YZX":this._z=Math.asin(zs(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-h,c),this._y=Math.atan2(-d,l)):(this._x=0,this._y=Math.atan2(a,p));break;case"XZY":this._z=Math.asin(-zs(r,-1,1)),Math.abs(r)<.9999999?(this._x=Math.atan2(u,c),this._y=Math.atan2(a,l)):(this._x=Math.atan2(-h,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,s===!0&&this._onChangeCallback(),this}setFromQuaternion(i,e,s){return O0.makeRotationFromQuaternion(i),this.setFromRotationMatrix(O0,e,s)}setFromVector3(i,e=this._order){return this.set(i.x,i.y,i.z,e)}reorder(i){return B0.setFromEuler(this),this.setFromQuaternion(B0,i)}equals(i){return i._x===this._x&&i._y===this._y&&i._z===this._z&&i._order===this._order}fromArray(i){return this._x=i[0],this._y=i[1],this._z=i[2],i[3]!==void 0&&(this._order=i[3]),this._onChangeCallback(),this}toArray(i=[],e=0){return i[e]=this._x,i[e+1]=this._y,i[e+2]=this._z,i[e+3]=this._order,i}_onChange(i){return this._onChangeCallback=i,this}_onChangeCallback(){}}pn.prototype.isEuler=!0,pn.DefaultOrder="XYZ",pn.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class $d{constructor(){this.mask=1}set(i){this.mask=(1<<i|0)>>>0}enable(i){this.mask|=1<<i|0}enableAll(){this.mask=-1}toggle(i){this.mask^=1<<i|0}disable(i){this.mask&=~(1<<i|0)}disableAll(){this.mask=0}test(i){return(this.mask&i.mask)!==0}isEnabled(i){return(this.mask&(1<<i|0))!==0}}let Wv=0;const A0=new z,Hr=new Vs,Pn=new _t,wc=new z,ro=new z,Lv=new z,Sv=new Vs,j0=new z(1,0,0),Q0=new z(0,1,0),_0=new z(0,0,1),Cv={type:"added"},q0={type:"removed"};class we extends Kn{constructor(){super();Object.defineProperty(this,"id",{value:Wv++}),this.uuid=Ai(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=we.DefaultUp.clone();const i=new z,e=new pn,s=new Vs,n=new z(1,1,1);function l(){s.setFromEuler(e,!1)}function r(){e.setFromQuaternion(s,void 0,!1)}e._onChange(l),s._onChange(r),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:i},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:s},scale:{configurable:!0,enumerable:!0,value:n},modelViewMatrix:{value:new _t},normalMatrix:{value:new Ys}}),this.matrix=new _t,this.matrixWorld=new _t,this.matrixAutoUpdate=we.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new $d,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(i){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(i),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(i){return this.quaternion.premultiply(i),this}setRotationFromAxisAngle(i,e){this.quaternion.setFromAxisAngle(i,e)}setRotationFromEuler(i){this.quaternion.setFromEuler(i,!0)}setRotationFromMatrix(i){this.quaternion.setFromRotationMatrix(i)}setRotationFromQuaternion(i){this.quaternion.copy(i)}rotateOnAxis(i,e){return Hr.setFromAxisAngle(i,e),this.quaternion.multiply(Hr),this}rotateOnWorldAxis(i,e){return Hr.setFromAxisAngle(i,e),this.quaternion.premultiply(Hr),this}rotateX(i){return this.rotateOnAxis(j0,i)}rotateY(i){return this.rotateOnAxis(Q0,i)}rotateZ(i){return this.rotateOnAxis(_0,i)}translateOnAxis(i,e){return A0.copy(i).applyQuaternion(this.quaternion),this.position.add(A0.multiplyScalar(e)),this}translateX(i){return this.translateOnAxis(j0,i)}translateY(i){return this.translateOnAxis(Q0,i)}translateZ(i){return this.translateOnAxis(_0,i)}localToWorld(i){return i.applyMatrix4(this.matrixWorld)}worldToLocal(i){return i.applyMatrix4(Pn.copy(this.matrixWorld).invert())}lookAt(i,e,s){i.isVector3?wc.copy(i):wc.set(i,e,s);const n=this.parent;this.updateWorldMatrix(!0,!1),ro.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Pn.lookAt(ro,wc,this.up):Pn.lookAt(wc,ro,this.up),this.quaternion.setFromRotationMatrix(Pn),n&&(Pn.extractRotation(n.matrixWorld),Hr.setFromRotationMatrix(Pn),this.quaternion.premultiply(Hr.invert()))}add(i){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return i===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",i),this):(i&&i.isObject3D?(i.parent!==null&&i.parent.remove(i),i.parent=this,this.children.push(i),i.dispatchEvent(Cv)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",i),this)}remove(i){if(arguments.length>1){for(let s=0;s<arguments.length;s++)this.remove(arguments[s]);return this}const e=this.children.indexOf(i);return e!==-1&&(i.parent=null,this.children.splice(e,1),i.dispatchEvent(q0)),this}removeFromParent(){const i=this.parent;return i!==null&&i.remove(this),this}clear(){for(let i=0;i<this.children.length;i++){const e=this.children[i];e.parent=null,e.dispatchEvent(q0)}return this.children.length=0,this}attach(i){return this.updateWorldMatrix(!0,!1),Pn.copy(this.matrixWorld).invert(),i.parent!==null&&(i.parent.updateWorldMatrix(!0,!1),Pn.multiply(i.parent.matrixWorld)),i.applyMatrix4(Pn),this.add(i),i.updateWorldMatrix(!1,!0),this}getObjectById(i){return this.getObjectByProperty("id",i)}getObjectByName(i){return this.getObjectByProperty("name",i)}getObjectByProperty(i,e){if(this[i]===e)return this;for(let s=0,n=this.children.length;s<n;s++){const r=this.children[s].getObjectByProperty(i,e);if(r!==void 0)return r}}getWorldPosition(i){return this.updateWorldMatrix(!0,!1),i.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(i){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ro,i,Lv),i}getWorldScale(i){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ro,Sv,i),i}getWorldDirection(i){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return i.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(i){i(this);const e=this.children;for(let s=0,n=e.length;s<n;s++)e[s].traverse(i)}traverseVisible(i){if(this.visible===!1)return;i(this);const e=this.children;for(let s=0,n=e.length;s<n;s++)e[s].traverseVisible(i)}traverseAncestors(i){const e=this.parent;e!==null&&(i(e),e.traverseAncestors(i))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(i){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||i)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,i=!0);const e=this.children;for(let s=0,n=e.length;s<n;s++)e[s].updateMatrixWorld(i)}updateWorldMatrix(i,e){const s=this.parent;if(i===!0&&s!==null&&s.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),e===!0){const n=this.children;for(let l=0,r=n.length;l<r;l++)n[l].updateWorldMatrix(!1,!0)}}toJSON(i){const e=i===void 0||typeof i=="string",s={};e&&(i={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},s.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const n={};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.castShadow===!0&&(n.castShadow=!0),this.receiveShadow===!0&&(n.receiveShadow=!0),this.visible===!1&&(n.visible=!1),this.frustumCulled===!1&&(n.frustumCulled=!1),this.renderOrder!==0&&(n.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(n.userData=this.userData),n.layers=this.layers.mask,n.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(n.matrixAutoUpdate=!1),this.isInstancedMesh&&(n.type="InstancedMesh",n.count=this.count,n.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(n.instanceColor=this.instanceColor.toJSON()));function l(a,o){return a[o.uuid]===void 0&&(a[o.uuid]=o.toJSON(i)),o.uuid}if(this.isScene)this.background&&(this.background.isColor?n.background=this.background.toJSON():this.background.isTexture&&(n.background=this.background.toJSON(i).uuid)),this.environment&&this.environment.isTexture&&(n.environment=this.environment.toJSON(i).uuid);else if(this.isMesh||this.isLine||this.isPoints){n.geometry=l(i.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const o=a.shapes;if(Array.isArray(o))for(let c=0,h=o.length;c<h;c++){const d=o[c];l(i.shapes,d)}else l(i.shapes,o)}}if(this.isSkinnedMesh&&(n.bindMode=this.bindMode,n.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(l(i.skeletons,this.skeleton),n.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let o=0,c=this.material.length;o<c;o++)a.push(l(i.materials,this.material[o]));n.material=a}else n.material=l(i.materials,this.material);if(this.children.length>0){n.children=[];for(let a=0;a<this.children.length;a++)n.children.push(this.children[a].toJSON(i).object)}if(this.animations.length>0){n.animations=[];for(let a=0;a<this.animations.length;a++){const o=this.animations[a];n.animations.push(l(i.animations,o))}}if(e){const a=r(i.geometries),o=r(i.materials),c=r(i.textures),h=r(i.images),d=r(i.shapes),u=r(i.skeletons),p=r(i.animations),Z=r(i.nodes);a.length>0&&(s.geometries=a),o.length>0&&(s.materials=o),c.length>0&&(s.textures=c),h.length>0&&(s.images=h),d.length>0&&(s.shapes=d),u.length>0&&(s.skeletons=u),p.length>0&&(s.animations=p),Z.length>0&&(s.nodes=Z)}return s.object=n,s;function r(a){const o=[];for(const c in a){const h=a[c];delete h.metadata,o.push(h)}return o}}clone(i){return new this.constructor().copy(this,i)}copy(i,e=!0){if(this.name=i.name,this.up.copy(i.up),this.position.copy(i.position),this.rotation.order=i.rotation.order,this.quaternion.copy(i.quaternion),this.scale.copy(i.scale),this.matrix.copy(i.matrix),this.matrixWorld.copy(i.matrixWorld),this.matrixAutoUpdate=i.matrixAutoUpdate,this.matrixWorldNeedsUpdate=i.matrixWorldNeedsUpdate,this.layers.mask=i.layers.mask,this.visible=i.visible,this.castShadow=i.castShadow,this.receiveShadow=i.receiveShadow,this.frustumCulled=i.frustumCulled,this.renderOrder=i.renderOrder,this.userData=JSON.parse(JSON.stringify(i.userData)),e===!0)for(let s=0;s<i.children.length;s++){const n=i.children[s];this.add(n.clone())}return this}}we.DefaultUp=new z(0,1,0),we.DefaultMatrixAutoUpdate=!0,we.prototype.isObject3D=!0;const $i=new z,Un=new z,tu=new z,Dn=new z,Kr=new z,wr=new z,$0=new z,eu=new z,su=new z,iu=new z;class Ts{constructor(i=new z,e=new z,s=new z){this.a=i,this.b=e,this.c=s}static getNormal(i,e,s,n){n.subVectors(s,e),$i.subVectors(i,e),n.cross($i);const l=n.lengthSq();return l>0?n.multiplyScalar(1/Math.sqrt(l)):n.set(0,0,0)}static getBarycoord(i,e,s,n,l){$i.subVectors(n,e),Un.subVectors(s,e),tu.subVectors(i,e);const r=$i.dot($i),a=$i.dot(Un),o=$i.dot(tu),c=Un.dot(Un),h=Un.dot(tu),d=r*c-a*a;if(d===0)return l.set(-2,-1,-1);const u=1/d,p=(c*o-a*h)*u,Z=(r*h-a*o)*u;return l.set(1-p-Z,Z,p)}static containsPoint(i,e,s,n){return this.getBarycoord(i,e,s,n,Dn),Dn.x>=0&&Dn.y>=0&&Dn.x+Dn.y<=1}static getUV(i,e,s,n,l,r,a,o){return this.getBarycoord(i,e,s,n,Dn),o.set(0,0),o.addScaledVector(l,Dn.x),o.addScaledVector(r,Dn.y),o.addScaledVector(a,Dn.z),o}static isFrontFacing(i,e,s,n){return $i.subVectors(s,e),Un.subVectors(i,e),$i.cross(Un).dot(n)<0}set(i,e,s){return this.a.copy(i),this.b.copy(e),this.c.copy(s),this}setFromPointsAndIndices(i,e,s,n){return this.a.copy(i[e]),this.b.copy(i[s]),this.c.copy(i[n]),this}setFromAttributeAndIndices(i,e,s,n){return this.a.fromBufferAttribute(i,e),this.b.fromBufferAttribute(i,s),this.c.fromBufferAttribute(i,n),this}clone(){return new this.constructor().copy(this)}copy(i){return this.a.copy(i.a),this.b.copy(i.b),this.c.copy(i.c),this}getArea(){return $i.subVectors(this.c,this.b),Un.subVectors(this.a,this.b),$i.cross(Un).length()*.5}getMidpoint(i){return i.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(i){return Ts.getNormal(this.a,this.b,this.c,i)}getPlane(i){return i.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(i,e){return Ts.getBarycoord(i,this.a,this.b,this.c,e)}getUV(i,e,s,n,l){return Ts.getUV(i,this.a,this.b,this.c,e,s,n,l)}containsPoint(i){return Ts.containsPoint(i,this.a,this.b,this.c)}isFrontFacing(i){return Ts.isFrontFacing(this.a,this.b,this.c,i)}intersectsBox(i){return i.intersectsTriangle(this)}closestPointToPoint(i,e){const s=this.a,n=this.b,l=this.c;let r,a;Kr.subVectors(n,s),wr.subVectors(l,s),eu.subVectors(i,s);const o=Kr.dot(eu),c=wr.dot(eu);if(o<=0&&c<=0)return e.copy(s);su.subVectors(i,n);const h=Kr.dot(su),d=wr.dot(su);if(h>=0&&d<=h)return e.copy(n);const u=o*d-h*c;if(u<=0&&o>=0&&h<=0)return r=o/(o-h),e.copy(s).addScaledVector(Kr,r);iu.subVectors(i,l);const p=Kr.dot(iu),Z=wr.dot(iu);if(Z>=0&&p<=Z)return e.copy(l);const X=p*c-o*Z;if(X<=0&&c>=0&&Z<=0)return a=c/(c-Z),e.copy(s).addScaledVector(wr,a);const R=h*Z-p*d;if(R<=0&&d-h>=0&&p-Z>=0)return $0.subVectors(l,n),a=(d-h)/(d-h+(p-Z)),e.copy(n).addScaledVector($0,a);const W=1/(R+X+u);return r=X*W,a=u*W,e.copy(s).addScaledVector(Kr,r).addScaledVector(wr,a)}equals(i){return i.a.equals(this.a)&&i.b.equals(this.b)&&i.c.equals(this.c)}}let fv=0;class Ks extends Kn{constructor(){super();Object.defineProperty(this,"id",{value:fv++}),this.uuid=Ai(),this.name="",this.type="Material",this.fog=!0,this.blending=gr,this.side=ll,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=d0,this.blendDst=u0,this.blendEquation=Wr,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=_a,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=tv,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Hd,this.stencilZFail=Hd,this.stencilZPass=Hd,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(i){this._alphaTest>0!=i>0&&this.version++,this._alphaTest=i}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(i){if(i!==void 0)for(const e in i){const s=i[e];if(s===void 0){console.warn("THREE.Material: '"+e+"' parameter is undefined.");continue}if(e==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=s===r0;continue}const n=this[e];if(n===void 0){console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.");continue}n&&n.isColor?n.set(s):n&&n.isVector3&&s&&s.isVector3?n.copy(s):this[e]=s}}toJSON(i){const e=i===void 0||typeof i=="string";e&&(i={textures:{},images:{}});const s={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.color&&this.color.isColor&&(s.color=this.color.getHex()),this.roughness!==void 0&&(s.roughness=this.roughness),this.metalness!==void 0&&(s.metalness=this.metalness),this.sheen!==void 0&&(s.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(s.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(s.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(s.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(s.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(s.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(s.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(s.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(s.shininess=this.shininess),this.clearcoat!==void 0&&(s.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(s.clearcoatMap=this.clearcoatMap.toJSON(i).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(s.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(i).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(s.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(i).uuid,s.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(s.map=this.map.toJSON(i).uuid),this.matcap&&this.matcap.isTexture&&(s.matcap=this.matcap.toJSON(i).uuid),this.alphaMap&&this.alphaMap.isTexture&&(s.alphaMap=this.alphaMap.toJSON(i).uuid),this.lightMap&&this.lightMap.isTexture&&(s.lightMap=this.lightMap.toJSON(i).uuid,s.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(s.aoMap=this.aoMap.toJSON(i).uuid,s.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(s.bumpMap=this.bumpMap.toJSON(i).uuid,s.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(s.normalMap=this.normalMap.toJSON(i).uuid,s.normalMapType=this.normalMapType,s.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(s.displacementMap=this.displacementMap.toJSON(i).uuid,s.displacementScale=this.displacementScale,s.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(s.roughnessMap=this.roughnessMap.toJSON(i).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(s.metalnessMap=this.metalnessMap.toJSON(i).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(s.emissiveMap=this.emissiveMap.toJSON(i).uuid),this.specularMap&&this.specularMap.isTexture&&(s.specularMap=this.specularMap.toJSON(i).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(s.specularIntensityMap=this.specularIntensityMap.toJSON(i).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(s.specularColorMap=this.specularColorMap.toJSON(i).uuid),this.envMap&&this.envMap.isTexture&&(s.envMap=this.envMap.toJSON(i).uuid,this.combine!==void 0&&(s.combine=this.combine)),this.envMapIntensity!==void 0&&(s.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(s.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(s.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(s.gradientMap=this.gradientMap.toJSON(i).uuid),this.transmission!==void 0&&(s.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(s.transmissionMap=this.transmissionMap.toJSON(i).uuid),this.thickness!==void 0&&(s.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(s.thicknessMap=this.thicknessMap.toJSON(i).uuid),this.attenuationDistance!==void 0&&(s.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(s.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(s.size=this.size),this.shadowSide!==null&&(s.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(s.sizeAttenuation=this.sizeAttenuation),this.blending!==gr&&(s.blending=this.blending),this.side!==ll&&(s.side=this.side),this.vertexColors&&(s.vertexColors=!0),this.opacity<1&&(s.opacity=this.opacity),this.transparent===!0&&(s.transparent=this.transparent),s.depthFunc=this.depthFunc,s.depthTest=this.depthTest,s.depthWrite=this.depthWrite,s.colorWrite=this.colorWrite,s.stencilWrite=this.stencilWrite,s.stencilWriteMask=this.stencilWriteMask,s.stencilFunc=this.stencilFunc,s.stencilRef=this.stencilRef,s.stencilFuncMask=this.stencilFuncMask,s.stencilFail=this.stencilFail,s.stencilZFail=this.stencilZFail,s.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(s.rotation=this.rotation),this.polygonOffset===!0&&(s.polygonOffset=!0),this.polygonOffsetFactor!==0&&(s.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(s.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(s.linewidth=this.linewidth),this.dashSize!==void 0&&(s.dashSize=this.dashSize),this.gapSize!==void 0&&(s.gapSize=this.gapSize),this.scale!==void 0&&(s.scale=this.scale),this.dithering===!0&&(s.dithering=!0),this.alphaTest>0&&(s.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(s.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(s.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(s.wireframe=this.wireframe),this.wireframeLinewidth>1&&(s.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(s.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(s.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(s.flatShading=this.flatShading),this.visible===!1&&(s.visible=!1),this.toneMapped===!1&&(s.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(s.userData=this.userData);function n(l){const r=[];for(const a in l){const o=l[a];delete o.metadata,r.push(o)}return r}if(e){const l=n(i.textures),r=n(i.images);l.length>0&&(s.textures=l),r.length>0&&(s.images=r)}return s}clone(){return new this.constructor().copy(this)}copy(i){this.name=i.name,this.fog=i.fog,this.blending=i.blending,this.side=i.side,this.vertexColors=i.vertexColors,this.opacity=i.opacity,this.transparent=i.transparent,this.blendSrc=i.blendSrc,this.blendDst=i.blendDst,this.blendEquation=i.blendEquation,this.blendSrcAlpha=i.blendSrcAlpha,this.blendDstAlpha=i.blendDstAlpha,this.blendEquationAlpha=i.blendEquationAlpha,this.depthFunc=i.depthFunc,this.depthTest=i.depthTest,this.depthWrite=i.depthWrite,this.stencilWriteMask=i.stencilWriteMask,this.stencilFunc=i.stencilFunc,this.stencilRef=i.stencilRef,this.stencilFuncMask=i.stencilFuncMask,this.stencilFail=i.stencilFail,this.stencilZFail=i.stencilZFail,this.stencilZPass=i.stencilZPass,this.stencilWrite=i.stencilWrite;const e=i.clippingPlanes;let s=null;if(e!==null){const n=e.length;s=new Array(n);for(let l=0;l!==n;++l)s[l]=e[l].clone()}return this.clippingPlanes=s,this.clipIntersection=i.clipIntersection,this.clipShadows=i.clipShadows,this.shadowSide=i.shadowSide,this.colorWrite=i.colorWrite,this.precision=i.precision,this.polygonOffset=i.polygonOffset,this.polygonOffsetFactor=i.polygonOffsetFactor,this.polygonOffsetUnits=i.polygonOffsetUnits,this.dithering=i.dithering,this.alphaTest=i.alphaTest,this.alphaToCoverage=i.alphaToCoverage,this.premultipliedAlpha=i.premultipliedAlpha,this.visible=i.visible,this.toneMapped=i.toneMapped,this.userData=JSON.parse(JSON.stringify(i.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(i){i===!0&&this.version++}}Ks.prototype.isMaterial=!0,Ks.fromType=function(){return null};class ul extends Ks{constructor(i){super();this.type="MeshBasicMaterial",this.color=new it(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Ic,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(i)}copy(i){return super.copy(i),this.color.copy(i.color),this.map=i.map,this.lightMap=i.lightMap,this.lightMapIntensity=i.lightMapIntensity,this.aoMap=i.aoMap,this.aoMapIntensity=i.aoMapIntensity,this.specularMap=i.specularMap,this.alphaMap=i.alphaMap,this.envMap=i.envMap,this.combine=i.combine,this.reflectivity=i.reflectivity,this.refractionRatio=i.refractionRatio,this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this.wireframeLinecap=i.wireframeLinecap,this.wireframeLinejoin=i.wireframeLinejoin,this}}ul.prototype.isMeshBasicMaterial=!0;const vs=new z,kc=new Wt;class Ne{constructor(i,e,s){if(Array.isArray(i))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=i,this.itemSize=e,this.count=i!==void 0?i.length/e:0,this.normalized=s===!0,this.usage=to,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(i){i===!0&&this.version++}setUsage(i){return this.usage=i,this}copy(i){return this.name=i.name,this.array=new i.array.constructor(i.array),this.itemSize=i.itemSize,this.count=i.count,this.normalized=i.normalized,this.usage=i.usage,this}copyAt(i,e,s){i*=this.itemSize,s*=e.itemSize;for(let n=0,l=this.itemSize;n<l;n++)this.array[i+n]=e.array[s+n];return this}copyArray(i){return this.array.set(i),this}copyColorsArray(i){const e=this.array;let s=0;for(let n=0,l=i.length;n<l;n++){let r=i[n];r===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",n),r=new it),e[s++]=r.r,e[s++]=r.g,e[s++]=r.b}return this}copyVector2sArray(i){const e=this.array;let s=0;for(let n=0,l=i.length;n<l;n++){let r=i[n];r===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",n),r=new Wt),e[s++]=r.x,e[s++]=r.y}return this}copyVector3sArray(i){const e=this.array;let s=0;for(let n=0,l=i.length;n<l;n++){let r=i[n];r===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",n),r=new z),e[s++]=r.x,e[s++]=r.y,e[s++]=r.z}return this}copyVector4sArray(i){const e=this.array;let s=0;for(let n=0,l=i.length;n<l;n++){let r=i[n];r===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",n),r=new Ut),e[s++]=r.x,e[s++]=r.y,e[s++]=r.z,e[s++]=r.w}return this}applyMatrix3(i){if(this.itemSize===2)for(let e=0,s=this.count;e<s;e++)kc.fromBufferAttribute(this,e),kc.applyMatrix3(i),this.setXY(e,kc.x,kc.y);else if(this.itemSize===3)for(let e=0,s=this.count;e<s;e++)vs.fromBufferAttribute(this,e),vs.applyMatrix3(i),this.setXYZ(e,vs.x,vs.y,vs.z);return this}applyMatrix4(i){for(let e=0,s=this.count;e<s;e++)vs.fromBufferAttribute(this,e),vs.applyMatrix4(i),this.setXYZ(e,vs.x,vs.y,vs.z);return this}applyNormalMatrix(i){for(let e=0,s=this.count;e<s;e++)vs.fromBufferAttribute(this,e),vs.applyNormalMatrix(i),this.setXYZ(e,vs.x,vs.y,vs.z);return this}transformDirection(i){for(let e=0,s=this.count;e<s;e++)vs.fromBufferAttribute(this,e),vs.transformDirection(i),this.setXYZ(e,vs.x,vs.y,vs.z);return this}set(i,e=0){return this.array.set(i,e),this}getX(i){return this.array[i*this.itemSize]}setX(i,e){return this.array[i*this.itemSize]=e,this}getY(i){return this.array[i*this.itemSize+1]}setY(i,e){return this.array[i*this.itemSize+1]=e,this}getZ(i){return this.array[i*this.itemSize+2]}setZ(i,e){return this.array[i*this.itemSize+2]=e,this}getW(i){return this.array[i*this.itemSize+3]}setW(i,e){return this.array[i*this.itemSize+3]=e,this}setXY(i,e,s){return i*=this.itemSize,this.array[i+0]=e,this.array[i+1]=s,this}setXYZ(i,e,s,n){return i*=this.itemSize,this.array[i+0]=e,this.array[i+1]=s,this.array[i+2]=n,this}setXYZW(i,e,s,n,l){return i*=this.itemSize,this.array[i+0]=e,this.array[i+1]=s,this.array[i+2]=n,this.array[i+3]=l,this}onUpload(i){return this.onUploadCallback=i,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const i={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(i.name=this.name),this.usage!==to&&(i.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(i.updateRange=this.updateRange),i}}Ne.prototype.isBufferAttribute=!0;class tb extends Ne{constructor(i,e,s){super(new Uint16Array(i),e,s)}}class eb extends Ne{constructor(i,e,s){super(new Uint32Array(i),e,s)}}class Vv extends Ne{constructor(i,e,s){super(new Uint16Array(i),e,s)}}Vv.prototype.isFloat16BufferAttribute=!0;class us extends Ne{constructor(i,e,s){super(new Float32Array(i),e,s)}}let xv=0;const Yi=new _t,nu=new we,kr=new z,Li=new is,ao=new is,Ps=new z;class Re extends Kn{constructor(){super();Object.defineProperty(this,"id",{value:xv++}),this.uuid=Ai(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(i){return Array.isArray(i)?this.index=new(k0(i)?eb:tb)(i,1):this.index=i,this}getAttribute(i){return this.attributes[i]}setAttribute(i,e){return this.attributes[i]=e,this}deleteAttribute(i){return delete this.attributes[i],this}hasAttribute(i){return this.attributes[i]!==void 0}addGroup(i,e,s=0){this.groups.push({start:i,count:e,materialIndex:s})}clearGroups(){this.groups=[]}setDrawRange(i,e){this.drawRange.start=i,this.drawRange.count=e}applyMatrix4(i){const e=this.attributes.position;e!==void 0&&(e.applyMatrix4(i),e.needsUpdate=!0);const s=this.attributes.normal;if(s!==void 0){const l=new Ys().getNormalMatrix(i);s.applyNormalMatrix(l),s.needsUpdate=!0}const n=this.attributes.tangent;return n!==void 0&&(n.transformDirection(i),n.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(i){return Yi.makeRotationFromQuaternion(i),this.applyMatrix4(Yi),this}rotateX(i){return Yi.makeRotationX(i),this.applyMatrix4(Yi),this}rotateY(i){return Yi.makeRotationY(i),this.applyMatrix4(Yi),this}rotateZ(i){return Yi.makeRotationZ(i),this.applyMatrix4(Yi),this}translate(i,e,s){return Yi.makeTranslation(i,e,s),this.applyMatrix4(Yi),this}scale(i,e,s){return Yi.makeScale(i,e,s),this.applyMatrix4(Yi),this}lookAt(i){return nu.lookAt(i),nu.updateMatrix(),this.applyMatrix4(nu.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(kr).negate(),this.translate(kr.x,kr.y,kr.z),this}setFromPoints(i){const e=[];for(let s=0,n=i.length;s<n;s++){const l=i[s];e.push(l.x,l.y,l.z||0)}return this.setAttribute("position",new us(e,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new is);const i=this.attributes.position,e=this.morphAttributes.position;if(i&&i.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new z(-1/0,-1/0,-1/0),new z(1/0,1/0,1/0));return}if(i!==void 0){if(this.boundingBox.setFromBufferAttribute(i),e)for(let s=0,n=e.length;s<n;s++){const l=e[s];Li.setFromBufferAttribute(l),this.morphTargetsRelative?(Ps.addVectors(this.boundingBox.min,Li.min),this.boundingBox.expandByPoint(Ps),Ps.addVectors(this.boundingBox.max,Li.max),this.boundingBox.expandByPoint(Ps)):(this.boundingBox.expandByPoint(Li.min),this.boundingBox.expandByPoint(Li.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new _i);const i=this.attributes.position,e=this.morphAttributes.position;if(i&&i.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new z,1/0);return}if(i){const s=this.boundingSphere.center;if(Li.setFromBufferAttribute(i),e)for(let l=0,r=e.length;l<r;l++){const a=e[l];ao.setFromBufferAttribute(a),this.morphTargetsRelative?(Ps.addVectors(Li.min,ao.min),Li.expandByPoint(Ps),Ps.addVectors(Li.max,ao.max),Li.expandByPoint(Ps)):(Li.expandByPoint(ao.min),Li.expandByPoint(ao.max))}Li.getCenter(s);let n=0;for(let l=0,r=i.count;l<r;l++)Ps.fromBufferAttribute(i,l),n=Math.max(n,s.distanceToSquared(Ps));if(e)for(let l=0,r=e.length;l<r;l++){const a=e[l],o=this.morphTargetsRelative;for(let c=0,h=a.count;c<h;c++)Ps.fromBufferAttribute(a,c),o&&(kr.fromBufferAttribute(i,c),Ps.add(kr)),n=Math.max(n,s.distanceToSquared(Ps))}this.boundingSphere.radius=Math.sqrt(n),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const i=this.index,e=this.attributes;if(i===null||e.position===void 0||e.normal===void 0||e.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const s=i.array,n=e.position.array,l=e.normal.array,r=e.uv.array,a=n.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Ne(new Float32Array(4*a),4));const o=this.getAttribute("tangent").array,c=[],h=[];for(let $=0;$<a;$++)c[$]=new z,h[$]=new z;const d=new z,u=new z,p=new z,Z=new Wt,X=new Wt,R=new Wt,W=new z,S=new z;function F($,H,j){d.fromArray(n,$*3),u.fromArray(n,H*3),p.fromArray(n,j*3),Z.fromArray(r,$*2),X.fromArray(r,H*2),R.fromArray(r,j*2),u.sub(d),p.sub(d),X.sub(Z),R.sub(Z);const mt=1/(X.x*R.y-R.x*X.y);!isFinite(mt)||(W.copy(u).multiplyScalar(R.y).addScaledVector(p,-X.y).multiplyScalar(mt),S.copy(p).multiplyScalar(X.x).addScaledVector(u,-R.x).multiplyScalar(mt),c[$].add(W),c[H].add(W),c[j].add(W),h[$].add(S),h[H].add(S),h[j].add(S))}let M=this.groups;M.length===0&&(M=[{start:0,count:s.length}]);for(let $=0,H=M.length;$<H;++$){const j=M[$],mt=j.start,st=j.count;for(let ot=mt,rt=mt+st;ot<rt;ot+=3)F(s[ot+0],s[ot+1],s[ot+2])}const N=new z,E=new z,Y=new z,O=new z;function q($){Y.fromArray(l,$*3),O.copy(Y);const H=c[$];N.copy(H),N.sub(Y.multiplyScalar(Y.dot(H))).normalize(),E.crossVectors(O,H);const mt=E.dot(h[$])<0?-1:1;o[$*4]=N.x,o[$*4+1]=N.y,o[$*4+2]=N.z,o[$*4+3]=mt}for(let $=0,H=M.length;$<H;++$){const j=M[$],mt=j.start,st=j.count;for(let ot=mt,rt=mt+st;ot<rt;ot+=3)q(s[ot+0]),q(s[ot+1]),q(s[ot+2])}}computeVertexNormals(){const i=this.index,e=this.getAttribute("position");if(e!==void 0){let s=this.getAttribute("normal");if(s===void 0)s=new Ne(new Float32Array(e.count*3),3),this.setAttribute("normal",s);else for(let u=0,p=s.count;u<p;u++)s.setXYZ(u,0,0,0);const n=new z,l=new z,r=new z,a=new z,o=new z,c=new z,h=new z,d=new z;if(i)for(let u=0,p=i.count;u<p;u+=3){const Z=i.getX(u+0),X=i.getX(u+1),R=i.getX(u+2);n.fromBufferAttribute(e,Z),l.fromBufferAttribute(e,X),r.fromBufferAttribute(e,R),h.subVectors(r,l),d.subVectors(n,l),h.cross(d),a.fromBufferAttribute(s,Z),o.fromBufferAttribute(s,X),c.fromBufferAttribute(s,R),a.add(h),o.add(h),c.add(h),s.setXYZ(Z,a.x,a.y,a.z),s.setXYZ(X,o.x,o.y,o.z),s.setXYZ(R,c.x,c.y,c.z)}else for(let u=0,p=e.count;u<p;u+=3)n.fromBufferAttribute(e,u+0),l.fromBufferAttribute(e,u+1),r.fromBufferAttribute(e,u+2),h.subVectors(r,l),d.subVectors(n,l),h.cross(d),s.setXYZ(u+0,h.x,h.y,h.z),s.setXYZ(u+1,h.x,h.y,h.z),s.setXYZ(u+2,h.x,h.y,h.z);this.normalizeNormals(),s.needsUpdate=!0}}merge(i,e){if(!(i&&i.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",i);return}e===void 0&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const s=this.attributes;for(const n in s){if(i.attributes[n]===void 0)continue;const r=s[n].array,a=i.attributes[n],o=a.array,c=a.itemSize*e,h=Math.min(o.length,r.length-c);for(let d=0,u=c;d<h;d++,u++)r[u]=o[d]}return this}normalizeNormals(){const i=this.attributes.normal;for(let e=0,s=i.count;e<s;e++)Ps.fromBufferAttribute(i,e),Ps.normalize(),i.setXYZ(e,Ps.x,Ps.y,Ps.z)}toNonIndexed(){function i(a,o){const c=a.array,h=a.itemSize,d=a.normalized,u=new c.constructor(o.length*h);let p=0,Z=0;for(let X=0,R=o.length;X<R;X++){a.isInterleavedBufferAttribute?p=o[X]*a.data.stride+a.offset:p=o[X]*h;for(let W=0;W<h;W++)u[Z++]=c[p++]}return new Ne(u,h,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new Re,s=this.index.array,n=this.attributes;for(const a in n){const o=n[a],c=i(o,s);e.setAttribute(a,c)}const l=this.morphAttributes;for(const a in l){const o=[],c=l[a];for(let h=0,d=c.length;h<d;h++){const u=c[h],p=i(u,s);o.push(p)}e.morphAttributes[a]=o}e.morphTargetsRelative=this.morphTargetsRelative;const r=this.groups;for(let a=0,o=r.length;a<o;a++){const c=r[a];e.addGroup(c.start,c.count,c.materialIndex)}return e}toJSON(){const i={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),Object.keys(this.userData).length>0&&(i.userData=this.userData),this.parameters!==void 0){const o=this.parameters;for(const c in o)o[c]!==void 0&&(i[c]=o[c]);return i}i.data={attributes:{}};const e=this.index;e!==null&&(i.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const s=this.attributes;for(const o in s){const c=s[o];i.data.attributes[o]=c.toJSON(i.data)}const n={};let l=!1;for(const o in this.morphAttributes){const c=this.morphAttributes[o],h=[];for(let d=0,u=c.length;d<u;d++){const p=c[d];h.push(p.toJSON(i.data))}h.length>0&&(n[o]=h,l=!0)}l&&(i.data.morphAttributes=n,i.data.morphTargetsRelative=this.morphTargetsRelative);const r=this.groups;r.length>0&&(i.data.groups=JSON.parse(JSON.stringify(r)));const a=this.boundingSphere;return a!==null&&(i.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),i}clone(){return new this.constructor().copy(this)}copy(i){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=i.name;const s=i.index;s!==null&&this.setIndex(s.clone(e));const n=i.attributes;for(const c in n){const h=n[c];this.setAttribute(c,h.clone(e))}const l=i.morphAttributes;for(const c in l){const h=[],d=l[c];for(let u=0,p=d.length;u<p;u++)h.push(d[u].clone(e));this.morphAttributes[c]=h}this.morphTargetsRelative=i.morphTargetsRelative;const r=i.groups;for(let c=0,h=r.length;c<h;c++){const d=r[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=i.boundingBox;a!==null&&(this.boundingBox=a.clone());const o=i.boundingSphere;return o!==null&&(this.boundingSphere=o.clone()),this.drawRange.start=i.drawRange.start,this.drawRange.count=i.drawRange.count,this.userData=i.userData,i.parameters!==void 0&&(this.parameters=Object.assign({},i.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}Re.prototype.isBufferGeometry=!0;const sb=new _t,Pr=new hl,lu=new _i,pl=new z,ml=new z,bl=new z,ru=new z,au=new z,ou=new z,Pc=new z,Uc=new z,Dc=new z,Jc=new Wt,Oc=new Wt,Bc=new Wt,cu=new z,Ac=new z;class ns extends we{constructor(i=new Re,e=new ul){super();this.type="Mesh",this.geometry=i,this.material=e,this.updateMorphTargets()}copy(i){return super.copy(i),i.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=i.morphTargetInfluences.slice()),i.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},i.morphTargetDictionary)),this.material=i.material,this.geometry=i.geometry,this}updateMorphTargets(){const i=this.geometry;if(i.isBufferGeometry){const e=i.morphAttributes,s=Object.keys(e);if(s.length>0){const n=e[s[0]];if(n!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,r=n.length;l<r;l++){const a=n[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=l}}}}else{const e=i.morphTargets;e!==void 0&&e.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(i,e){const s=this.geometry,n=this.material,l=this.matrixWorld;if(n===void 0||(s.boundingSphere===null&&s.computeBoundingSphere(),lu.copy(s.boundingSphere),lu.applyMatrix4(l),i.ray.intersectsSphere(lu)===!1)||(sb.copy(l).invert(),Pr.copy(i.ray).applyMatrix4(sb),s.boundingBox!==null&&Pr.intersectsBox(s.boundingBox)===!1))return;let r;if(s.isBufferGeometry){const a=s.index,o=s.attributes.position,c=s.morphAttributes.position,h=s.morphTargetsRelative,d=s.attributes.uv,u=s.attributes.uv2,p=s.groups,Z=s.drawRange;if(a!==null)if(Array.isArray(n))for(let X=0,R=p.length;X<R;X++){const W=p[X],S=n[W.materialIndex],F=Math.max(W.start,Z.start),M=Math.min(a.count,Math.min(W.start+W.count,Z.start+Z.count));for(let N=F,E=M;N<E;N+=3){const Y=a.getX(N),O=a.getX(N+1),q=a.getX(N+2);r=jc(this,S,i,Pr,o,c,h,d,u,Y,O,q),r&&(r.faceIndex=Math.floor(N/3),r.face.materialIndex=W.materialIndex,e.push(r))}}else{const X=Math.max(0,Z.start),R=Math.min(a.count,Z.start+Z.count);for(let W=X,S=R;W<S;W+=3){const F=a.getX(W),M=a.getX(W+1),N=a.getX(W+2);r=jc(this,n,i,Pr,o,c,h,d,u,F,M,N),r&&(r.faceIndex=Math.floor(W/3),e.push(r))}}else if(o!==void 0)if(Array.isArray(n))for(let X=0,R=p.length;X<R;X++){const W=p[X],S=n[W.materialIndex],F=Math.max(W.start,Z.start),M=Math.min(o.count,Math.min(W.start+W.count,Z.start+Z.count));for(let N=F,E=M;N<E;N+=3){const Y=N,O=N+1,q=N+2;r=jc(this,S,i,Pr,o,c,h,d,u,Y,O,q),r&&(r.faceIndex=Math.floor(N/3),r.face.materialIndex=W.materialIndex,e.push(r))}}else{const X=Math.max(0,Z.start),R=Math.min(o.count,Z.start+Z.count);for(let W=X,S=R;W<S;W+=3){const F=W,M=W+1,N=W+2;r=jc(this,n,i,Pr,o,c,h,d,u,F,M,N),r&&(r.faceIndex=Math.floor(W/3),e.push(r))}}}else s.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}ns.prototype.isMesh=!0;function Nv(t,i,e,s,n,l,r,a){let o;if(i.side===gi?o=s.intersectTriangle(r,l,n,!0,a):o=s.intersectTriangle(n,l,r,i.side!==pi,a),o===null)return null;Ac.copy(a),Ac.applyMatrix4(t.matrixWorld);const c=e.ray.origin.distanceTo(Ac);return c<e.near||c>e.far?null:{distance:c,point:Ac.clone(),object:t}}function jc(t,i,e,s,n,l,r,a,o,c,h,d){pl.fromBufferAttribute(n,c),ml.fromBufferAttribute(n,h),bl.fromBufferAttribute(n,d);const u=t.morphTargetInfluences;if(l&&u){Pc.set(0,0,0),Uc.set(0,0,0),Dc.set(0,0,0);for(let Z=0,X=l.length;Z<X;Z++){const R=u[Z],W=l[Z];R!==0&&(ru.fromBufferAttribute(W,c),au.fromBufferAttribute(W,h),ou.fromBufferAttribute(W,d),r?(Pc.addScaledVector(ru,R),Uc.addScaledVector(au,R),Dc.addScaledVector(ou,R)):(Pc.addScaledVector(ru.sub(pl),R),Uc.addScaledVector(au.sub(ml),R),Dc.addScaledVector(ou.sub(bl),R)))}pl.add(Pc),ml.add(Uc),bl.add(Dc)}t.isSkinnedMesh&&(t.boneTransform(c,pl),t.boneTransform(h,ml),t.boneTransform(d,bl));const p=Nv(t,i,e,s,pl,ml,bl,cu);if(p){a&&(Jc.fromBufferAttribute(a,c),Oc.fromBufferAttribute(a,h),Bc.fromBufferAttribute(a,d),p.uv=Ts.getUV(cu,pl,ml,bl,Jc,Oc,Bc,new Wt)),o&&(Jc.fromBufferAttribute(o,c),Oc.fromBufferAttribute(o,h),Bc.fromBufferAttribute(o,d),p.uv2=Ts.getUV(cu,pl,ml,bl,Jc,Oc,Bc,new Wt));const Z={a:c,b:h,c:d,normal:new z,materialIndex:0};Ts.getNormal(pl,ml,bl,Z.normal),p.face=Z}return p}class Ur extends Re{constructor(i=1,e=1,s=1,n=1,l=1,r=1){super();this.type="BoxGeometry",this.parameters={width:i,height:e,depth:s,widthSegments:n,heightSegments:l,depthSegments:r};const a=this;n=Math.floor(n),l=Math.floor(l),r=Math.floor(r);const o=[],c=[],h=[],d=[];let u=0,p=0;Z("z","y","x",-1,-1,s,e,i,r,l,0),Z("z","y","x",1,-1,s,e,-i,r,l,1),Z("x","z","y",1,1,i,s,e,n,r,2),Z("x","z","y",1,-1,i,s,-e,n,r,3),Z("x","y","z",1,-1,i,e,s,n,l,4),Z("x","y","z",-1,-1,i,e,-s,n,l,5),this.setIndex(o),this.setAttribute("position",new us(c,3)),this.setAttribute("normal",new us(h,3)),this.setAttribute("uv",new us(d,2));function Z(X,R,W,S,F,M,N,E,Y,O,q){const $=M/Y,H=N/O,j=M/2,mt=N/2,st=E/2,ot=Y+1,rt=O+1;let lt=0,nt=0;const Gt=new z;for(let gt=0;gt<rt;gt++){const Mt=gt*H-mt;for(let Ct=0;Ct<ot;Ct++){const wt=Ct*$-j;Gt[X]=wt*S,Gt[R]=Mt*F,Gt[W]=st,c.push(Gt.x,Gt.y,Gt.z),Gt[X]=0,Gt[R]=0,Gt[W]=E>0?1:-1,h.push(Gt.x,Gt.y,Gt.z),d.push(Ct/Y),d.push(1-gt/O),lt+=1}}for(let gt=0;gt<O;gt++)for(let Mt=0;Mt<Y;Mt++){const Ct=u+Mt+ot*gt,wt=u+Mt+ot*(gt+1),Me=u+(Mt+1)+ot*(gt+1),Xe=u+(Mt+1)+ot*gt;o.push(Ct,wt,Xe),o.push(wt,Me,Xe),nt+=6}a.addGroup(p,nt,q),p+=nt,u+=lt}}static fromJSON(i){return new Ur(i.width,i.height,i.depth,i.widthSegments,i.heightSegments,i.depthSegments)}}function Dr(t){const i={};for(const e in t){i[e]={};for(const s in t[e]){const n=t[e][s];n&&(n.isColor||n.isMatrix3||n.isMatrix4||n.isVector2||n.isVector3||n.isVector4||n.isTexture||n.isQuaternion)?i[e][s]=n.clone():Array.isArray(n)?i[e][s]=n.slice():i[e][s]=n}}return i}function qs(t){const i={};for(let e=0;e<t.length;e++){const s=Dr(t[e]);for(const n in s)i[n]=s[n]}return i}const Fv={clone:Dr,merge:qs};var Mv=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Yv=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ri extends Ks{constructor(i){super();this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=Mv,this.fragmentShader=Yv,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,i!==void 0&&(i.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(i))}copy(i){return super.copy(i),this.fragmentShader=i.fragmentShader,this.vertexShader=i.vertexShader,this.uniforms=Dr(i.uniforms),this.defines=Object.assign({},i.defines),this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this.lights=i.lights,this.clipping=i.clipping,this.extensions=Object.assign({},i.extensions),this.glslVersion=i.glslVersion,this}toJSON(i){const e=super.toJSON(i);e.glslVersion=this.glslVersion,e.uniforms={};for(const n in this.uniforms){const r=this.uniforms[n].value;r&&r.isTexture?e.uniforms[n]={type:"t",value:r.toJSON(i).uuid}:r&&r.isColor?e.uniforms[n]={type:"c",value:r.getHex()}:r&&r.isVector2?e.uniforms[n]={type:"v2",value:r.toArray()}:r&&r.isVector3?e.uniforms[n]={type:"v3",value:r.toArray()}:r&&r.isVector4?e.uniforms[n]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?e.uniforms[n]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?e.uniforms[n]={type:"m4",value:r.toArray()}:e.uniforms[n]={value:r}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;const s={};for(const n in this.extensions)this.extensions[n]===!0&&(s[n]=!0);return Object.keys(s).length>0&&(e.extensions=s),e}}ri.prototype.isShaderMaterial=!0;class Qc extends we{constructor(){super();this.type="Camera",this.matrixWorldInverse=new _t,this.projectionMatrix=new _t,this.projectionMatrixInverse=new _t}copy(i,e){return super.copy(i,e),this.matrixWorldInverse.copy(i.matrixWorldInverse),this.projectionMatrix.copy(i.projectionMatrix),this.projectionMatrixInverse.copy(i.projectionMatrixInverse),this}getWorldDirection(i){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return i.set(-e[8],-e[9],-e[10]).normalize()}updateMatrixWorld(i){super.updateMatrixWorld(i),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(i,e){super.updateWorldMatrix(i,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}Qc.prototype.isCamera=!0;class ai extends Qc{constructor(i=50,e=1,s=.1,n=2e3){super();this.type="PerspectiveCamera",this.fov=i,this.zoom=1,this.near=s,this.far=n,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(i,e){return super.copy(i,e),this.fov=i.fov,this.zoom=i.zoom,this.near=i.near,this.far=i.far,this.focus=i.focus,this.aspect=i.aspect,this.view=i.view===null?null:Object.assign({},i.view),this.filmGauge=i.filmGauge,this.filmOffset=i.filmOffset,this}setFocalLength(i){const e=.5*this.getFilmHeight()/i;this.fov=so*2*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const i=Math.tan(eo*.5*this.fov);return .5*this.getFilmHeight()/i}getEffectiveFOV(){return so*2*Math.atan(Math.tan(eo*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(i,e,s,n,l,r){this.aspect=i/e,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=i,this.view.fullHeight=e,this.view.offsetX=s,this.view.offsetY=n,this.view.width=l,this.view.height=r,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const i=this.near;let e=i*Math.tan(eo*.5*this.fov)/this.zoom,s=2*e,n=this.aspect*s,l=-.5*n;const r=this.view;if(this.view!==null&&this.view.enabled){const o=r.fullWidth,c=r.fullHeight;l+=r.offsetX*n/o,e-=r.offsetY*s/c,n*=r.width/o,s*=r.height/c}const a=this.filmOffset;a!==0&&(l+=i*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(l,l+n,e,e-s,i,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(i){const e=super.toJSON(i);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,this.view!==null&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}ai.prototype.isPerspectiveCamera=!0;const Jr=90,Or=1;class hu extends we{constructor(i,e,s){super();if(this.type="CubeCamera",s.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=s;const n=new ai(Jr,Or,i,e);n.layers=this.layers,n.up.set(0,-1,0),n.lookAt(new z(1,0,0)),this.add(n);const l=new ai(Jr,Or,i,e);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new z(-1,0,0)),this.add(l);const r=new ai(Jr,Or,i,e);r.layers=this.layers,r.up.set(0,0,1),r.lookAt(new z(0,1,0)),this.add(r);const a=new ai(Jr,Or,i,e);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new z(0,-1,0)),this.add(a);const o=new ai(Jr,Or,i,e);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new z(0,0,1)),this.add(o);const c=new ai(Jr,Or,i,e);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new z(0,0,-1)),this.add(c)}update(i,e){this.parent===null&&this.updateMatrixWorld();const s=this.renderTarget,[n,l,r,a,o,c]=this.children,h=i.getRenderTarget(),d=i.outputEncoding,u=i.toneMapping,p=i.xr.enabled;i.outputEncoding=zn,i.toneMapping=En,i.xr.enabled=!1;const Z=s.texture.generateMipmaps;s.texture.generateMipmaps=!1,i.setRenderTarget(s,0),i.render(e,n),i.setRenderTarget(s,1),i.render(e,l),i.setRenderTarget(s,2),i.render(e,r),i.setRenderTarget(s,3),i.render(e,a),i.setRenderTarget(s,4),i.render(e,o),s.texture.generateMipmaps=Z,i.setRenderTarget(s,5),i.render(e,c),i.setRenderTarget(h),i.outputEncoding=d,i.toneMapping=u,i.xr.enabled=p,s.texture.needsPMREMUpdate=!0}}class _c extends Ls{constructor(i,e,s,n,l,r,a,o,c,h){i=i!==void 0?i:[],e=e!==void 0?e:Lr;super(i,e,s,n,l,r,a,o,c,h);this.flipY=!1}get images(){return this.image}set images(i){this.image=i}}_c.prototype.isCubeTexture=!0;class ib extends _s{constructor(i,e={}){super(i,i,e);const s={width:i,height:i,depth:1},n=[s,s,s,s,s,s];this.texture=new _c(n,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=e.generateMipmaps!==void 0?e.generateMipmaps:!1,this.texture.minFilter=e.minFilter!==void 0?e.minFilter:Es}fromEquirectangularTexture(i,e){this.texture.type=e.type,this.texture.encoding=e.encoding,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const s={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},n=new Ur(5,5,5),l=new ri({name:"CubemapFromEquirect",uniforms:Dr(s.uniforms),vertexShader:s.vertexShader,fragmentShader:s.fragmentShader,side:gi,blending:un});l.uniforms.tEquirect.value=e;const r=new ns(n,l),a=e.minFilter;return e.minFilter===Wc&&(e.minFilter=Es),new hu(1,10,this).update(i,r),e.minFilter=a,r.geometry.dispose(),r.material.dispose(),this}clear(i,e,s,n){const l=i.getRenderTarget();for(let r=0;r<6;r++)i.setRenderTarget(this,r),i.clear(e,s,n);i.setRenderTarget(l)}}ib.prototype.isWebGLCubeRenderTarget=!0;const du=new z,vv=new z,Ev=new Ys;class mi{constructor(i=new z(1,0,0),e=0){this.normal=i,this.constant=e}set(i,e){return this.normal.copy(i),this.constant=e,this}setComponents(i,e,s,n){return this.normal.set(i,e,s),this.constant=n,this}setFromNormalAndCoplanarPoint(i,e){return this.normal.copy(i),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(i,e,s){const n=du.subVectors(s,e).cross(vv.subVectors(i,e)).normalize();return this.setFromNormalAndCoplanarPoint(n,i),this}copy(i){return this.normal.copy(i.normal),this.constant=i.constant,this}normalize(){const i=1/this.normal.length();return this.normal.multiplyScalar(i),this.constant*=i,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(i){return this.normal.dot(i)+this.constant}distanceToSphere(i){return this.distanceToPoint(i.center)-i.radius}projectPoint(i,e){return e.copy(this.normal).multiplyScalar(-this.distanceToPoint(i)).add(i)}intersectLine(i,e){const s=i.delta(du),n=this.normal.dot(s);if(n===0)return this.distanceToPoint(i.start)===0?e.copy(i.start):null;const l=-(i.start.dot(this.normal)+this.constant)/n;return l<0||l>1?null:e.copy(s).multiplyScalar(l).add(i.start)}intersectsLine(i){const e=this.distanceToPoint(i.start),s=this.distanceToPoint(i.end);return e<0&&s>0||s<0&&e>0}intersectsBox(i){return i.intersectsPlane(this)}intersectsSphere(i){return i.intersectsPlane(this)}coplanarPoint(i){return i.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(i,e){const s=e||Ev.getNormalMatrix(i),n=this.coplanarPoint(du).applyMatrix4(i),l=this.normal.applyMatrix3(s).normalize();return this.constant=-n.dot(l),this}translate(i){return this.constant-=i.dot(this.normal),this}equals(i){return i.normal.equals(this.normal)&&i.constant===this.constant}clone(){return new this.constructor().copy(this)}}mi.prototype.isPlane=!0;const Br=new _i,qc=new z;class oo{constructor(i=new mi,e=new mi,s=new mi,n=new mi,l=new mi,r=new mi){this.planes=[i,e,s,n,l,r]}set(i,e,s,n,l,r){const a=this.planes;return a[0].copy(i),a[1].copy(e),a[2].copy(s),a[3].copy(n),a[4].copy(l),a[5].copy(r),this}copy(i){const e=this.planes;for(let s=0;s<6;s++)e[s].copy(i.planes[s]);return this}setFromProjectionMatrix(i){const e=this.planes,s=i.elements,n=s[0],l=s[1],r=s[2],a=s[3],o=s[4],c=s[5],h=s[6],d=s[7],u=s[8],p=s[9],Z=s[10],X=s[11],R=s[12],W=s[13],S=s[14],F=s[15];return e[0].setComponents(a-n,d-o,X-u,F-R).normalize(),e[1].setComponents(a+n,d+o,X+u,F+R).normalize(),e[2].setComponents(a+l,d+c,X+p,F+W).normalize(),e[3].setComponents(a-l,d-c,X-p,F-W).normalize(),e[4].setComponents(a-r,d-h,X-Z,F-S).normalize(),e[5].setComponents(a+r,d+h,X+Z,F+S).normalize(),this}intersectsObject(i){const e=i.geometry;return e.boundingSphere===null&&e.computeBoundingSphere(),Br.copy(e.boundingSphere).applyMatrix4(i.matrixWorld),this.intersectsSphere(Br)}intersectsSprite(i){return Br.center.set(0,0,0),Br.radius=.7071067811865476,Br.applyMatrix4(i.matrixWorld),this.intersectsSphere(Br)}intersectsSphere(i){const e=this.planes,s=i.center,n=-i.radius;for(let l=0;l<6;l++)if(e[l].distanceToPoint(s)<n)return!1;return!0}intersectsBox(i){const e=this.planes;for(let s=0;s<6;s++){const n=e[s];if(qc.x=n.normal.x>0?i.max.x:i.min.x,qc.y=n.normal.y>0?i.max.y:i.min.y,qc.z=n.normal.z>0?i.max.z:i.min.z,n.distanceToPoint(qc)<0)return!1}return!0}containsPoint(i){const e=this.planes;for(let s=0;s<6;s++)if(e[s].distanceToPoint(i)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function nb(){let t=null,i=!1,e=null,s=null;function n(l,r){e(l,r),s=t.requestAnimationFrame(n)}return{start:function(){i!==!0&&e!==null&&(s=t.requestAnimationFrame(n),i=!0)},stop:function(){t.cancelAnimationFrame(s),i=!1},setAnimationLoop:function(l){e=l},setContext:function(l){t=l}}}function zv(t,i){const e=i.isWebGL2,s=new WeakMap;function n(c,h){const d=c.array,u=c.usage,p=t.createBuffer();t.bindBuffer(h,p),t.bufferData(h,d,u),c.onUploadCallback();let Z;if(d instanceof Float32Array)Z=5126;else if(d instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(e)Z=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else Z=5123;else if(d instanceof Int16Array)Z=5122;else if(d instanceof Uint32Array)Z=5125;else if(d instanceof Int32Array)Z=5124;else if(d instanceof Int8Array)Z=5120;else if(d instanceof Uint8Array)Z=5121;else if(d instanceof Uint8ClampedArray)Z=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:p,type:Z,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}function l(c,h,d){const u=h.array,p=h.updateRange;t.bindBuffer(d,c),p.count===-1?t.bufferSubData(d,0,u):(e?t.bufferSubData(d,p.offset*u.BYTES_PER_ELEMENT,u,p.offset,p.count):t.bufferSubData(d,p.offset*u.BYTES_PER_ELEMENT,u.subarray(p.offset,p.offset+p.count)),p.count=-1)}function r(c){return c.isInterleavedBufferAttribute&&(c=c.data),s.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const h=s.get(c);h&&(t.deleteBuffer(h.buffer),s.delete(c))}function o(c,h){if(c.isGLBufferAttribute){const u=s.get(c);(!u||u.version<c.version)&&s.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const d=s.get(c);d===void 0?s.set(c,n(c,h)):d.version<c.version&&(l(d.buffer,c,h),d.version=c.version)}return{get:r,remove:a,update:o}}class co extends Re{constructor(i=1,e=1,s=1,n=1){super();this.type="PlaneGeometry",this.parameters={width:i,height:e,widthSegments:s,heightSegments:n};const l=i/2,r=e/2,a=Math.floor(s),o=Math.floor(n),c=a+1,h=o+1,d=i/a,u=e/o,p=[],Z=[],X=[],R=[];for(let W=0;W<h;W++){const S=W*u-r;for(let F=0;F<c;F++){const M=F*d-l;Z.push(M,-S,0),X.push(0,0,1),R.push(F/a),R.push(1-W/o)}}for(let W=0;W<o;W++)for(let S=0;S<a;S++){const F=S+c*W,M=S+c*(W+1),N=S+1+c*(W+1),E=S+1+c*W;p.push(F,M,E),p.push(M,N,E)}this.setIndex(p),this.setAttribute("position",new us(Z,3)),this.setAttribute("normal",new us(X,3)),this.setAttribute("uv",new us(R,2))}static fromJSON(i){return new co(i.width,i.height,i.widthSegments,i.heightSegments)}}var Hv=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,Kv=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,wv=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,kv=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Pv=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Uv=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Dv="vec3 transformed = vec3( position );",Jv=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Ov=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,Bv=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Av=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,jv=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Qv=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,_v=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,qv=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,$v=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,tE=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,eE=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,sE=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,iE=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 ) + 0.5;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,nE=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,lE=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,rE=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,aE=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,oE=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,cE="gl_FragColor = linearToOutputTexel( gl_FragColor );",hE=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,dE=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,uE=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,pE=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,mE=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,bE=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,yE=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,GE=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,ZE=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,XE=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,TE=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,RE=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,IE=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,gE=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,WE=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,LE=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,SE=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,CE=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,fE=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,VE=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,xE=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,NE=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,FE=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,ME=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,YE=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,vE=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,EE=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,zE=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,HE=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,KE=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,wE=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,kE=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,PE=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,UE=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,DE=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,JE=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,OE=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,BE=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,AE=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,jE=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,QE=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,_E=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,qE=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,$E=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,tz=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,ez=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,sz=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,iz=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,nz=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,lz=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,rz=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,az=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,oz=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,cz=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,hz=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,dz=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,uz=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,pz=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,mz=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,bz=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,yz=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Gz=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,Zz=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Xz=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Tz=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Rz=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Iz=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,gz=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Wz=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,Lz=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,Sz=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,Cz=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,fz=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,Vz=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,xz=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,Nz=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,Fz=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Ee={alphamap_fragment:Hv,alphamap_pars_fragment:Kv,alphatest_fragment:wv,alphatest_pars_fragment:kv,aomap_fragment:Pv,aomap_pars_fragment:Uv,begin_vertex:Dv,beginnormal_vertex:Jv,bsdfs:Ov,bumpmap_pars_fragment:Bv,clipping_planes_fragment:Av,clipping_planes_pars_fragment:jv,clipping_planes_pars_vertex:Qv,clipping_planes_vertex:_v,color_fragment:qv,color_pars_fragment:$v,color_pars_vertex:tE,color_vertex:eE,common:sE,cube_uv_reflection_fragment:iE,defaultnormal_vertex:nE,displacementmap_pars_vertex:lE,displacementmap_vertex:rE,emissivemap_fragment:aE,emissivemap_pars_fragment:oE,encodings_fragment:cE,encodings_pars_fragment:hE,envmap_fragment:dE,envmap_common_pars_fragment:uE,envmap_pars_fragment:pE,envmap_pars_vertex:mE,envmap_physical_pars_fragment:LE,envmap_vertex:bE,fog_vertex:yE,fog_pars_vertex:GE,fog_fragment:ZE,fog_pars_fragment:XE,gradientmap_pars_fragment:TE,lightmap_fragment:RE,lightmap_pars_fragment:IE,lights_lambert_vertex:gE,lights_pars_begin:WE,lights_toon_fragment:SE,lights_toon_pars_fragment:CE,lights_phong_fragment:fE,lights_phong_pars_fragment:VE,lights_physical_fragment:xE,lights_physical_pars_fragment:NE,lights_fragment_begin:FE,lights_fragment_maps:ME,lights_fragment_end:YE,logdepthbuf_fragment:vE,logdepthbuf_pars_fragment:EE,logdepthbuf_pars_vertex:zE,logdepthbuf_vertex:HE,map_fragment:KE,map_pars_fragment:wE,map_particle_fragment:kE,map_particle_pars_fragment:PE,metalnessmap_fragment:UE,metalnessmap_pars_fragment:DE,morphcolor_vertex:JE,morphnormal_vertex:OE,morphtarget_pars_vertex:BE,morphtarget_vertex:AE,normal_fragment_begin:jE,normal_fragment_maps:QE,normal_pars_fragment:_E,normal_pars_vertex:qE,normal_vertex:$E,normalmap_pars_fragment:tz,clearcoat_normal_fragment_begin:ez,clearcoat_normal_fragment_maps:sz,clearcoat_pars_fragment:iz,output_fragment:nz,packing:lz,premultiplied_alpha_fragment:rz,project_vertex:az,dithering_fragment:oz,dithering_pars_fragment:cz,roughnessmap_fragment:hz,roughnessmap_pars_fragment:dz,shadowmap_pars_fragment:uz,shadowmap_pars_vertex:pz,shadowmap_vertex:mz,shadowmask_pars_fragment:bz,skinbase_vertex:yz,skinning_pars_vertex:Gz,skinning_vertex:Zz,skinnormal_vertex:Xz,specularmap_fragment:Tz,specularmap_pars_fragment:Rz,tonemapping_fragment:Iz,tonemapping_pars_fragment:gz,transmission_fragment:Wz,transmission_pars_fragment:Lz,uv_pars_fragment:Sz,uv_pars_vertex:Cz,uv_vertex:fz,uv2_pars_fragment:Vz,uv2_pars_vertex:xz,uv2_vertex:Nz,worldpos_vertex:Fz,background_vert:`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,background_frag:`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,cube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,cube_frag:`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,depth_vert:`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,depth_frag:`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,distanceRGBA_vert:`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,distanceRGBA_frag:`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,equirect_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,equirect_frag:`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,linedashed_vert:`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,linedashed_frag:`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,meshbasic_vert:`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,meshbasic_frag:`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshlambert_vert:`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshlambert_frag:`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshmatcap_vert:`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,meshmatcap_frag:`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshnormal_vert:`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,meshnormal_frag:`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,meshphong_vert:`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphong_frag:`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphysical_vert:`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,meshphysical_frag:`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshtoon_vert:`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshtoon_frag:`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,points_vert:`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,points_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,shadow_vert:`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,shadow_frag:`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,sprite_vert:`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,sprite_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`},Jt={common:{diffuse:{value:new it(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Ys},uv2Transform:{value:new Ys},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Wt(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new it(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new it(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ys}},sprite:{diffuse:{value:new it(16777215)},opacity:{value:1},center:{value:new Wt(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ys}}},mn={basic:{uniforms:qs([Jt.common,Jt.specularmap,Jt.envmap,Jt.aomap,Jt.lightmap,Jt.fog]),vertexShader:Ee.meshbasic_vert,fragmentShader:Ee.meshbasic_frag},lambert:{uniforms:qs([Jt.common,Jt.specularmap,Jt.envmap,Jt.aomap,Jt.lightmap,Jt.emissivemap,Jt.fog,Jt.lights,{emissive:{value:new it(0)}}]),vertexShader:Ee.meshlambert_vert,fragmentShader:Ee.meshlambert_frag},phong:{uniforms:qs([Jt.common,Jt.specularmap,Jt.envmap,Jt.aomap,Jt.lightmap,Jt.emissivemap,Jt.bumpmap,Jt.normalmap,Jt.displacementmap,Jt.fog,Jt.lights,{emissive:{value:new it(0)},specular:{value:new it(1118481)},shininess:{value:30}}]),vertexShader:Ee.meshphong_vert,fragmentShader:Ee.meshphong_frag},standard:{uniforms:qs([Jt.common,Jt.envmap,Jt.aomap,Jt.lightmap,Jt.emissivemap,Jt.bumpmap,Jt.normalmap,Jt.displacementmap,Jt.roughnessmap,Jt.metalnessmap,Jt.fog,Jt.lights,{emissive:{value:new it(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ee.meshphysical_vert,fragmentShader:Ee.meshphysical_frag},toon:{uniforms:qs([Jt.common,Jt.aomap,Jt.lightmap,Jt.emissivemap,Jt.bumpmap,Jt.normalmap,Jt.displacementmap,Jt.gradientmap,Jt.fog,Jt.lights,{emissive:{value:new it(0)}}]),vertexShader:Ee.meshtoon_vert,fragmentShader:Ee.meshtoon_frag},matcap:{uniforms:qs([Jt.common,Jt.bumpmap,Jt.normalmap,Jt.displacementmap,Jt.fog,{matcap:{value:null}}]),vertexShader:Ee.meshmatcap_vert,fragmentShader:Ee.meshmatcap_frag},points:{uniforms:qs([Jt.points,Jt.fog]),vertexShader:Ee.points_vert,fragmentShader:Ee.points_frag},dashed:{uniforms:qs([Jt.common,Jt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ee.linedashed_vert,fragmentShader:Ee.linedashed_frag},depth:{uniforms:qs([Jt.common,Jt.displacementmap]),vertexShader:Ee.depth_vert,fragmentShader:Ee.depth_frag},normal:{uniforms:qs([Jt.common,Jt.bumpmap,Jt.normalmap,Jt.displacementmap,{opacity:{value:1}}]),vertexShader:Ee.meshnormal_vert,fragmentShader:Ee.meshnormal_frag},sprite:{uniforms:qs([Jt.sprite,Jt.fog]),vertexShader:Ee.sprite_vert,fragmentShader:Ee.sprite_frag},background:{uniforms:{uvTransform:{value:new Ys},t2D:{value:null}},vertexShader:Ee.background_vert,fragmentShader:Ee.background_frag},cube:{uniforms:qs([Jt.envmap,{opacity:{value:1}}]),vertexShader:Ee.cube_vert,fragmentShader:Ee.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ee.equirect_vert,fragmentShader:Ee.equirect_frag},distanceRGBA:{uniforms:qs([Jt.common,Jt.displacementmap,{referencePosition:{value:new z},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ee.distanceRGBA_vert,fragmentShader:Ee.distanceRGBA_frag},shadow:{uniforms:qs([Jt.lights,Jt.fog,{color:{value:new it(0)},opacity:{value:1}}]),vertexShader:Ee.shadow_vert,fragmentShader:Ee.shadow_frag}};mn.physical={uniforms:qs([mn.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Wt(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new it(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Wt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new it(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new it(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Ee.meshphysical_vert,fragmentShader:Ee.meshphysical_frag};function Mz(t,i,e,s,n,l){const r=new it(0);let a=n===!0?0:1,o,c,h=null,d=0,u=null;function p(X,R){let W=!1,S=R.isScene===!0?R.background:null;S&&S.isTexture&&(S=i.get(S));const F=t.xr,M=F.getSession&&F.getSession();M&&M.environmentBlendMode==="additive"&&(S=null),S===null?Z(r,a):S&&S.isColor&&(Z(S,1),W=!0),(t.autoClear||W)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),S&&(S.isCubeTexture||S.mapping===gc)?(c===void 0&&(c=new ns(new Ur(1,1,1),new ri({name:"BackgroundCubeMaterial",uniforms:Dr(mn.cube.uniforms),vertexShader:mn.cube.vertexShader,fragmentShader:mn.cube.fragmentShader,side:gi,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(N,E,Y){this.matrixWorld.copyPosition(Y.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),s.update(c)),c.material.uniforms.envMap.value=S,c.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,(h!==S||d!==S.version||u!==t.toneMapping)&&(c.material.needsUpdate=!0,h=S,d=S.version,u=t.toneMapping),X.unshift(c,c.geometry,c.material,0,0,null)):S&&S.isTexture&&(o===void 0&&(o=new ns(new co(2,2),new ri({name:"BackgroundMaterial",uniforms:Dr(mn.background.uniforms),vertexShader:mn.background.vertexShader,fragmentShader:mn.background.fragmentShader,side:ll,depthTest:!1,depthWrite:!1,fog:!1})),o.geometry.deleteAttribute("normal"),Object.defineProperty(o.material,"map",{get:function(){return this.uniforms.t2D.value}}),s.update(o)),o.material.uniforms.t2D.value=S,S.matrixAutoUpdate===!0&&S.updateMatrix(),o.material.uniforms.uvTransform.value.copy(S.matrix),(h!==S||d!==S.version||u!==t.toneMapping)&&(o.material.needsUpdate=!0,h=S,d=S.version,u=t.toneMapping),X.unshift(o,o.geometry,o.material,0,0,null))}function Z(X,R){e.buffers.color.setClear(X.r,X.g,X.b,R,l)}return{getClearColor:function(){return r},setClearColor:function(X,R=1){r.set(X),a=R,Z(r,a)},getClearAlpha:function(){return a},setClearAlpha:function(X){a=X,Z(r,a)},render:p}}function Yz(t,i,e,s){const n=t.getParameter(34921),l=s.isWebGL2?null:i.get("OES_vertex_array_object"),r=s.isWebGL2||l!==null,a={},o=R(null);let c=o,h=!1;function d(st,ot,rt,lt,nt){let Gt=!1;if(r){const gt=X(lt,rt,ot);c!==gt&&(c=gt,p(c.object)),Gt=W(lt,nt),Gt&&S(lt,nt)}else{const gt=ot.wireframe===!0;(c.geometry!==lt.id||c.program!==rt.id||c.wireframe!==gt)&&(c.geometry=lt.id,c.program=rt.id,c.wireframe=gt,Gt=!0)}st.isInstancedMesh===!0&&(Gt=!0),nt!==null&&e.update(nt,34963),(Gt||h)&&(h=!1,O(st,ot,rt,lt),nt!==null&&t.bindBuffer(34963,e.get(nt).buffer))}function u(){return s.isWebGL2?t.createVertexArray():l.createVertexArrayOES()}function p(st){return s.isWebGL2?t.bindVertexArray(st):l.bindVertexArrayOES(st)}function Z(st){return s.isWebGL2?t.deleteVertexArray(st):l.deleteVertexArrayOES(st)}function X(st,ot,rt){const lt=rt.wireframe===!0;let nt=a[st.id];nt===void 0&&(nt={},a[st.id]=nt);let Gt=nt[ot.id];Gt===void 0&&(Gt={},nt[ot.id]=Gt);let gt=Gt[lt];return gt===void 0&&(gt=R(u()),Gt[lt]=gt),gt}function R(st){const ot=[],rt=[],lt=[];for(let nt=0;nt<n;nt++)ot[nt]=0,rt[nt]=0,lt[nt]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:ot,enabledAttributes:rt,attributeDivisors:lt,object:st,attributes:{},index:null}}function W(st,ot){const rt=c.attributes,lt=st.attributes;let nt=0;for(const Gt in lt){const gt=rt[Gt],Mt=lt[Gt];if(gt===void 0||gt.attribute!==Mt||gt.data!==Mt.data)return!0;nt++}return c.attributesNum!==nt||c.index!==ot}function S(st,ot){const rt={},lt=st.attributes;let nt=0;for(const Gt in lt){const gt=lt[Gt],Mt={};Mt.attribute=gt,gt.data&&(Mt.data=gt.data),rt[Gt]=Mt,nt++}c.attributes=rt,c.attributesNum=nt,c.index=ot}function F(){const st=c.newAttributes;for(let ot=0,rt=st.length;ot<rt;ot++)st[ot]=0}function M(st){N(st,0)}function N(st,ot){const rt=c.newAttributes,lt=c.enabledAttributes,nt=c.attributeDivisors;rt[st]=1,lt[st]===0&&(t.enableVertexAttribArray(st),lt[st]=1),nt[st]!==ot&&((s.isWebGL2?t:i.get("ANGLE_instanced_arrays"))[s.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](st,ot),nt[st]=ot)}function E(){const st=c.newAttributes,ot=c.enabledAttributes;for(let rt=0,lt=ot.length;rt<lt;rt++)ot[rt]!==st[rt]&&(t.disableVertexAttribArray(rt),ot[rt]=0)}function Y(st,ot,rt,lt,nt,Gt){s.isWebGL2===!0&&(rt===5124||rt===5125)?t.vertexAttribIPointer(st,ot,rt,nt,Gt):t.vertexAttribPointer(st,ot,rt,lt,nt,Gt)}function O(st,ot,rt,lt){if(s.isWebGL2===!1&&(st.isInstancedMesh||lt.isInstancedBufferGeometry)&&i.get("ANGLE_instanced_arrays")===null)return;F();const nt=lt.attributes,Gt=rt.getAttributes(),gt=ot.defaultAttributeValues;for(const Mt in Gt){const Ct=Gt[Mt];if(Ct.location>=0){let wt=nt[Mt];if(wt===void 0&&(Mt==="instanceMatrix"&&st.instanceMatrix&&(wt=st.instanceMatrix),Mt==="instanceColor"&&st.instanceColor&&(wt=st.instanceColor)),wt!==void 0){const Me=wt.normalized,Xe=wt.itemSize,Zt=e.get(wt);if(Zt===void 0)continue;const Oe=Zt.buffer,Se=Zt.type,ye=Zt.bytesPerElement;if(wt.isInterleavedBufferAttribute){const Lt=wt.data,ce=Lt.stride,bt=wt.offset;if(Lt.isInstancedInterleavedBuffer){for(let Xt=0;Xt<Ct.locationSize;Xt++)N(Ct.location+Xt,Lt.meshPerAttribute);st.isInstancedMesh!==!0&&lt._maxInstanceCount===void 0&&(lt._maxInstanceCount=Lt.meshPerAttribute*Lt.count)}else for(let Xt=0;Xt<Ct.locationSize;Xt++)M(Ct.location+Xt);t.bindBuffer(34962,Oe);for(let Xt=0;Xt<Ct.locationSize;Xt++)Y(Ct.location+Xt,Xe/Ct.locationSize,Se,Me,ce*ye,(bt+Xe/Ct.locationSize*Xt)*ye)}else{if(wt.isInstancedBufferAttribute){for(let Lt=0;Lt<Ct.locationSize;Lt++)N(Ct.location+Lt,wt.meshPerAttribute);st.isInstancedMesh!==!0&&lt._maxInstanceCount===void 0&&(lt._maxInstanceCount=wt.meshPerAttribute*wt.count)}else for(let Lt=0;Lt<Ct.locationSize;Lt++)M(Ct.location+Lt);t.bindBuffer(34962,Oe);for(let Lt=0;Lt<Ct.locationSize;Lt++)Y(Ct.location+Lt,Xe/Ct.locationSize,Se,Me,Xe*ye,Xe/Ct.locationSize*Lt*ye)}}else if(gt!==void 0){const Me=gt[Mt];if(Me!==void 0)switch(Me.length){case 2:t.vertexAttrib2fv(Ct.location,Me);break;case 3:t.vertexAttrib3fv(Ct.location,Me);break;case 4:t.vertexAttrib4fv(Ct.location,Me);break;default:t.vertexAttrib1fv(Ct.location,Me)}}}}E()}function q(){j();for(const st in a){const ot=a[st];for(const rt in ot){const lt=ot[rt];for(const nt in lt)Z(lt[nt].object),delete lt[nt];delete ot[rt]}delete a[st]}}function $(st){if(a[st.id]===void 0)return;const ot=a[st.id];for(const rt in ot){const lt=ot[rt];for(const nt in lt)Z(lt[nt].object),delete lt[nt];delete ot[rt]}delete a[st.id]}function H(st){for(const ot in a){const rt=a[ot];if(rt[st.id]===void 0)continue;const lt=rt[st.id];for(const nt in lt)Z(lt[nt].object),delete lt[nt];delete rt[st.id]}}function j(){mt(),h=!0,c!==o&&(c=o,p(c.object))}function mt(){o.geometry=null,o.program=null,o.wireframe=!1}return{setup:d,reset:j,resetDefaultState:mt,dispose:q,releaseStatesOfGeometry:$,releaseStatesOfProgram:H,initAttributes:F,enableAttribute:M,disableUnusedAttributes:E}}function vz(t,i,e,s){const n=s.isWebGL2;let l;function r(c){l=c}function a(c,h){t.drawArrays(l,c,h),e.update(h,l,1)}function o(c,h,d){if(d===0)return;let u,p;if(n)u=t,p="drawArraysInstanced";else if(u=i.get("ANGLE_instanced_arrays"),p="drawArraysInstancedANGLE",u===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}u[p](l,c,h,d),e.update(h,l,d)}this.setMode=r,this.render=a,this.renderInstances=o}function Ez(t,i,e){let s;function n(){if(s!==void 0)return s;if(i.has("EXT_texture_filter_anisotropic")===!0){const Y=i.get("EXT_texture_filter_anisotropic");s=t.getParameter(Y.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else s=0;return s}function l(Y){if(Y==="highp"){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";Y="mediump"}return Y==="mediump"&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const r=typeof WebGL2RenderingContext<"u"&&t instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&t instanceof WebGL2ComputeRenderingContext;let a=e.precision!==void 0?e.precision:"highp";const o=l(a);o!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",o,"instead."),a=o);const c=r||i.has("WEBGL_draw_buffers"),h=e.logarithmicDepthBuffer===!0,d=t.getParameter(34930),u=t.getParameter(35660),p=t.getParameter(3379),Z=t.getParameter(34076),X=t.getParameter(34921),R=t.getParameter(36347),W=t.getParameter(36348),S=t.getParameter(36349),F=u>0,M=r||i.has("OES_texture_float"),N=F&&M,E=r?t.getParameter(36183):0;return{isWebGL2:r,drawBuffers:c,getMaxAnisotropy:n,getMaxPrecision:l,precision:a,logarithmicDepthBuffer:h,maxTextures:d,maxVertexTextures:u,maxTextureSize:p,maxCubemapSize:Z,maxAttributes:X,maxVertexUniforms:R,maxVaryings:W,maxFragmentUniforms:S,vertexTextures:F,floatFragmentTextures:M,floatVertexTextures:N,maxSamples:E}}function zz(t){const i=this;let e=null,s=0,n=!1,l=!1;const r=new mi,a=new Ys,o={value:null,needsUpdate:!1};this.uniform=o,this.numPlanes=0,this.numIntersection=0,this.init=function(d,u,p){const Z=d.length!==0||u||s!==0||n;return n=u,e=h(d,p,0),s=d.length,Z},this.beginShadows=function(){l=!0,h(null)},this.endShadows=function(){l=!1,c()},this.setState=function(d,u,p){const Z=d.clippingPlanes,X=d.clipIntersection,R=d.clipShadows,W=t.get(d);if(!n||Z===null||Z.length===0||l&&!R)l?h(null):c();else{const S=l?0:s,F=S*4;let M=W.clippingState||null;o.value=M,M=h(Z,u,F,p);for(let N=0;N!==F;++N)M[N]=e[N];W.clippingState=M,this.numIntersection=X?this.numPlanes:0,this.numPlanes+=S}};function c(){o.value!==e&&(o.value=e,o.needsUpdate=s>0),i.numPlanes=s,i.numIntersection=0}function h(d,u,p,Z){const X=d!==null?d.length:0;let R=null;if(X!==0){if(R=o.value,Z!==!0||R===null){const W=p+X*4,S=u.matrixWorldInverse;a.getNormalMatrix(S),(R===null||R.length<W)&&(R=new Float32Array(W));for(let F=0,M=p;F!==X;++F,M+=4)r.copy(d[F]).applyMatrix4(S,a),r.normal.toArray(R,M),R[M+3]=r.constant}o.value=R,o.needsUpdate=!0}return i.numPlanes=X,i.numIntersection=0,R}}function Hz(t){let i=new WeakMap;function e(r,a){return a===fd?r.mapping=Lr:a===Vd&&(r.mapping=Sr),r}function s(r){if(r&&r.isTexture&&r.isRenderTargetTexture===!1){const a=r.mapping;if(a===fd||a===Vd)if(i.has(r)){const o=i.get(r).texture;return e(o,r.mapping)}else{const o=r.image;if(o&&o.height>0){const c=new ib(o.height/2);return c.fromEquirectangularTexture(t,r),i.set(r,c),r.addEventListener("dispose",n),e(c.texture,r.mapping)}else return null}}return r}function n(r){const a=r.target;a.removeEventListener("dispose",n);const o=i.get(a);o!==void 0&&(i.delete(a),o.dispose())}function l(){i=new WeakMap}return{get:s,dispose:l}}class $c extends Qc{constructor(i=-1,e=1,s=1,n=-1,l=.1,r=2e3){super();this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=i,this.right=e,this.top=s,this.bottom=n,this.near=l,this.far=r,this.updateProjectionMatrix()}copy(i,e){return super.copy(i,e),this.left=i.left,this.right=i.right,this.top=i.top,this.bottom=i.bottom,this.near=i.near,this.far=i.far,this.zoom=i.zoom,this.view=i.view===null?null:Object.assign({},i.view),this}setViewOffset(i,e,s,n,l,r){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=i,this.view.fullHeight=e,this.view.offsetX=s,this.view.offsetY=n,this.view.width=l,this.view.height=r,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const i=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),s=(this.right+this.left)/2,n=(this.top+this.bottom)/2;let l=s-i,r=s+i,a=n+e,o=n-e;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;l+=c*this.view.offsetX,r=l+c*this.view.width,a-=h*this.view.offsetY,o=a-h*this.view.height}this.projectionMatrix.makeOrthographic(l,r,a,o,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(i){const e=super.toJSON(i);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,this.view!==null&&(e.object.view=Object.assign({},this.view)),e}}$c.prototype.isOrthographicCamera=!0;const Ar=4,lb=[.125,.215,.35,.446,.526,.582],jl=20,uu=new $c,rb=new it;let pu=null;const Ql=(1+Math.sqrt(5))/2,jr=1/Ql,ab=[new z(1,1,1),new z(-1,1,1),new z(1,1,-1),new z(-1,1,-1),new z(0,Ql,jr),new z(0,Ql,-jr),new z(jr,0,Ql),new z(-jr,0,Ql),new z(Ql,jr,0),new z(-Ql,jr,0)];class ob{constructor(i){this._renderer=i,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(i,e=0,s=.1,n=100){pu=this._renderer.getRenderTarget(),this._setSize(256);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(i,s,n,l),e>0&&this._blur(l,0,0,e),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(i,e=null){return this._fromTexture(i,e)}fromCubemap(i,e=null){return this._fromTexture(i,e)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=db(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=hb(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(i){this._lodMax=Math.floor(Math.log2(i)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let i=0;i<this._lodPlanes.length;i++)this._lodPlanes[i].dispose()}_cleanup(i){this._renderer.setRenderTarget(pu),i.scissorTest=!1,th(i,0,0,i.width,i.height)}_fromTexture(i,e){i.mapping===Lr||i.mapping===Sr?this._setSize(i.image.length===0?16:i.image[0].width||i.image[0].image.width):this._setSize(i.image.width/4),pu=this._renderer.getRenderTarget();const s=e||this._allocateTargets();return this._textureToCubeUV(i,s),this._applyPMREM(s),this._cleanup(s),s}_allocateTargets(){const i=3*Math.max(this._cubeSize,112),e=4*this._cubeSize-32,s={magFilter:Es,minFilter:Es,generateMipmaps:!1,type:Cr,format:li,encoding:zn,depthBuffer:!1},n=cb(i,e,s);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==i){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=cb(i,e,s);const{_lodMax:l}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Kz(l)),this._blurMaterial=wz(l,i,e)}return n}_compileMaterial(i){const e=new ns(this._lodPlanes[0],i);this._renderer.compile(e,uu)}_sceneToCubeUV(i,e,s,n){const a=new ai(90,1,e,s),o=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],h=this._renderer,d=h.autoClear,u=h.toneMapping;h.getClearColor(rb),h.toneMapping=En,h.autoClear=!1;const p=new ul({name:"PMREM.Background",side:gi,depthWrite:!1,depthTest:!1}),Z=new ns(new Ur,p);let X=!1;const R=i.background;R?R.isColor&&(p.color.copy(R),i.background=null,X=!0):(p.color.copy(rb),X=!0);for(let W=0;W<6;W++){const S=W%3;S===0?(a.up.set(0,o[W],0),a.lookAt(c[W],0,0)):S===1?(a.up.set(0,0,o[W]),a.lookAt(0,c[W],0)):(a.up.set(0,o[W],0),a.lookAt(0,0,c[W]));const F=this._cubeSize;th(n,S*F,W>2?F:0,F,F),h.setRenderTarget(n),X&&h.render(Z,a),h.render(i,a)}Z.geometry.dispose(),Z.material.dispose(),h.toneMapping=u,h.autoClear=d,i.background=R}_textureToCubeUV(i,e){const s=this._renderer,n=i.mapping===Lr||i.mapping===Sr;n?(this._cubemapMaterial===null&&(this._cubemapMaterial=db()),this._cubemapMaterial.uniforms.flipEnvMap.value=i.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=hb());const l=n?this._cubemapMaterial:this._equirectMaterial,r=new ns(this._lodPlanes[0],l),a=l.uniforms;a.envMap.value=i;const o=this._cubeSize;th(e,0,0,3*o,2*o),s.setRenderTarget(e),s.render(r,uu)}_applyPMREM(i){const e=this._renderer,s=e.autoClear;e.autoClear=!1;for(let n=1;n<this._lodPlanes.length;n++){const l=Math.sqrt(this._sigmas[n]*this._sigmas[n]-this._sigmas[n-1]*this._sigmas[n-1]),r=ab[(n-1)%ab.length];this._blur(i,n-1,n,l,r)}e.autoClear=s}_blur(i,e,s,n,l){const r=this._pingPongRenderTarget;this._halfBlur(i,r,e,s,n,"latitudinal",l),this._halfBlur(r,i,s,s,n,"longitudinal",l)}_halfBlur(i,e,s,n,l,r,a){const o=this._renderer,c=this._blurMaterial;r!=="latitudinal"&&r!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const h=3,d=new ns(this._lodPlanes[n],c),u=c.uniforms,p=this._sizeLods[s]-1,Z=isFinite(l)?Math.PI/(2*p):2*Math.PI/(2*jl-1),X=l/Z,R=isFinite(l)?1+Math.floor(h*X):jl;R>jl&&console.warn(`sigmaRadians, ${l}, is too large and will clip, as it requested ${R} samples when the maximum is set to ${jl}`);const W=[];let S=0;for(let Y=0;Y<jl;++Y){const O=Y/X,q=Math.exp(-O*O/2);W.push(q),Y===0?S+=q:Y<R&&(S+=2*q)}for(let Y=0;Y<W.length;Y++)W[Y]=W[Y]/S;u.envMap.value=i.texture,u.samples.value=R,u.weights.value=W,u.latitudinal.value=r==="latitudinal",a&&(u.poleAxis.value=a);const{_lodMax:F}=this;u.dTheta.value=Z,u.mipInt.value=F-s;const M=this._sizeLods[n],N=3*M*(n>F-Ar?n-F+Ar:0),E=4*(this._cubeSize-M);th(e,N,E,3*M,2*M),o.setRenderTarget(e),o.render(d,uu)}}function Kz(t){const i=[],e=[],s=[];let n=t;const l=t-Ar+1+lb.length;for(let r=0;r<l;r++){const a=Math.pow(2,n);e.push(a);let o=1/a;r>t-Ar?o=lb[r-t+Ar-1]:r===0&&(o=0),s.push(o);const c=1/(a-1),h=-c/2,d=1+c/2,u=[h,h,d,h,d,d,h,h,d,d,h,d],p=6,Z=6,X=3,R=2,W=1,S=new Float32Array(X*Z*p),F=new Float32Array(R*Z*p),M=new Float32Array(W*Z*p);for(let E=0;E<p;E++){const Y=E%3*2/3-1,O=E>2?0:-1,q=[Y,O,0,Y+2/3,O,0,Y+2/3,O+1,0,Y,O,0,Y+2/3,O+1,0,Y,O+1,0];S.set(q,X*Z*E),F.set(u,R*Z*E);const $=[E,E,E,E,E,E];M.set($,W*Z*E)}const N=new Re;N.setAttribute("position",new Ne(S,X)),N.setAttribute("uv",new Ne(F,R)),N.setAttribute("faceIndex",new Ne(M,W)),i.push(N),n>Ar&&n--}return{lodPlanes:i,sizeLods:e,sigmas:s}}function cb(t,i,e){const s=new _s(t,i,e);return s.texture.mapping=gc,s.texture.name="PMREM.cubeUv",s.scissorTest=!0,s}function th(t,i,e,s,n){t.viewport.set(i,e,s,n),t.scissor.set(i,e,s,n)}function wz(t,i,e){const s=new Float32Array(jl),n=new z(0,1,0);return new ri({name:"SphericalGaussianBlur",defines:{n:jl,CUBEUV_TEXEL_WIDTH:1/i,CUBEUV_TEXEL_HEIGHT:1/e,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:s},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n}},vertexShader:mu(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:un,depthTest:!1,depthWrite:!1})}function hb(){return new ri({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:mu(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:un,depthTest:!1,depthWrite:!1})}function db(){return new ri({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:mu(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:un,depthTest:!1,depthWrite:!1})}function mu(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function kz(t){let i=new WeakMap,e=null;function s(a){if(a&&a.isTexture){const o=a.mapping,c=o===fd||o===Vd,h=o===Lr||o===Sr;if(c||h)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let d=i.get(a);return e===null&&(e=new ob(t)),d=c?e.fromEquirectangular(a,d):e.fromCubemap(a,d),i.set(a,d),d.texture}else{if(i.has(a))return i.get(a).texture;{const d=a.image;if(c&&d&&d.height>0||h&&d&&n(d)){e===null&&(e=new ob(t));const u=c?e.fromEquirectangular(a):e.fromCubemap(a);return i.set(a,u),a.addEventListener("dispose",l),u.texture}else return null}}}return a}function n(a){let o=0;const c=6;for(let h=0;h<c;h++)a[h]!==void 0&&o++;return o===c}function l(a){const o=a.target;o.removeEventListener("dispose",l);const c=i.get(o);c!==void 0&&(i.delete(o),c.dispose())}function r(){i=new WeakMap,e!==null&&(e.dispose(),e=null)}return{get:s,dispose:r}}function Pz(t){const i={};function e(s){if(i[s]!==void 0)return i[s];let n;switch(s){case"WEBGL_depth_texture":n=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":n=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:n=t.getExtension(s)}return i[s]=n,n}return{has:function(s){return e(s)!==null},init:function(s){s.isWebGL2?e("EXT_color_buffer_float"):(e("WEBGL_depth_texture"),e("OES_texture_float"),e("OES_texture_half_float"),e("OES_texture_half_float_linear"),e("OES_standard_derivatives"),e("OES_element_index_uint"),e("OES_vertex_array_object"),e("ANGLE_instanced_arrays")),e("OES_texture_float_linear"),e("EXT_color_buffer_half_float"),e("WEBGL_multisampled_render_to_texture")},get:function(s){const n=e(s);return n===null&&console.warn("THREE.WebGLRenderer: "+s+" extension not supported."),n}}}function Uz(t,i,e,s){const n={},l=new WeakMap;function r(d){const u=d.target;u.index!==null&&i.remove(u.index);for(const Z in u.attributes)i.remove(u.attributes[Z]);u.removeEventListener("dispose",r),delete n[u.id];const p=l.get(u);p&&(i.remove(p),l.delete(u)),s.releaseStatesOfGeometry(u),u.isInstancedBufferGeometry===!0&&delete u._maxInstanceCount,e.memory.geometries--}function a(d,u){return n[u.id]===!0||(u.addEventListener("dispose",r),n[u.id]=!0,e.memory.geometries++),u}function o(d){const u=d.attributes;for(const Z in u)i.update(u[Z],34962);const p=d.morphAttributes;for(const Z in p){const X=p[Z];for(let R=0,W=X.length;R<W;R++)i.update(X[R],34962)}}function c(d){const u=[],p=d.index,Z=d.attributes.position;let X=0;if(p!==null){const S=p.array;X=p.version;for(let F=0,M=S.length;F<M;F+=3){const N=S[F+0],E=S[F+1],Y=S[F+2];u.push(N,E,E,Y,Y,N)}}else{const S=Z.array;X=Z.version;for(let F=0,M=S.length/3-1;F<M;F+=3){const N=F+0,E=F+1,Y=F+2;u.push(N,E,E,Y,Y,N)}}const R=new(k0(u)?eb:tb)(u,1);R.version=X;const W=l.get(d);W&&i.remove(W),l.set(d,R)}function h(d){const u=l.get(d);if(u){const p=d.index;p!==null&&u.version<p.version&&c(d)}else c(d);return l.get(d)}return{get:a,update:o,getWireframeAttribute:h}}function Dz(t,i,e,s){const n=s.isWebGL2;let l;function r(u){l=u}let a,o;function c(u){a=u.type,o=u.bytesPerElement}function h(u,p){t.drawElements(l,p,a,u*o),e.update(p,l,1)}function d(u,p,Z){if(Z===0)return;let X,R;if(n)X=t,R="drawElementsInstanced";else if(X=i.get("ANGLE_instanced_arrays"),R="drawElementsInstancedANGLE",X===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}X[R](l,p,a,u*o,Z),e.update(p,l,Z)}this.setMode=r,this.setIndex=c,this.render=h,this.renderInstances=d}function Jz(t){const i={geometries:0,textures:0},e={frame:0,calls:0,triangles:0,points:0,lines:0};function s(l,r,a){switch(e.calls++,r){case 4:e.triangles+=a*(l/3);break;case 1:e.lines+=a*(l/2);break;case 3:e.lines+=a*(l-1);break;case 2:e.lines+=a*l;break;case 0:e.points+=a*l;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r);break}}function n(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0}return{memory:i,render:e,programs:null,autoReset:!0,reset:n,update:s}}function Oz(t,i){return t[0]-i[0]}function Bz(t,i){return Math.abs(i[1])-Math.abs(t[1])}function bu(t,i){let e=1;const s=i.isInterleavedBufferAttribute?i.data.array:i.array;s instanceof Int8Array?e=127:s instanceof Int16Array?e=32767:s instanceof Int32Array?e=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",s),t.divideScalar(e)}function Az(t,i,e){const s={},n=new Float32Array(8),l=new WeakMap,r=new Ut,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function o(c,h,d,u){const p=c.morphTargetInfluences;if(i.isWebGL2===!0){const Z=h.morphAttributes.position||h.morphAttributes.normal||h.morphAttributes.color,X=Z!==void 0?Z.length:0;let R=l.get(h);if(R===void 0||R.count!==X){let ot=function(){mt.dispose(),l.delete(h),h.removeEventListener("dispose",ot)};R!==void 0&&R.texture.dispose();const F=h.morphAttributes.position!==void 0,M=h.morphAttributes.normal!==void 0,N=h.morphAttributes.color!==void 0,E=h.morphAttributes.position||[],Y=h.morphAttributes.normal||[],O=h.morphAttributes.color||[];let q=0;F===!0&&(q=1),M===!0&&(q=2),N===!0&&(q=3);let $=h.attributes.position.count*q,H=1;$>i.maxTextureSize&&(H=Math.ceil($/i.maxTextureSize),$=i.maxTextureSize);const j=new Float32Array($*H*4*X),mt=new Mc(j,$,H,X);mt.type=rl,mt.needsUpdate=!0;const st=q*4;for(let rt=0;rt<X;rt++){const lt=E[rt],nt=Y[rt],Gt=O[rt],gt=$*H*4*rt;for(let Mt=0;Mt<lt.count;Mt++){const Ct=Mt*st;F===!0&&(r.fromBufferAttribute(lt,Mt),lt.normalized===!0&&bu(r,lt),j[gt+Ct+0]=r.x,j[gt+Ct+1]=r.y,j[gt+Ct+2]=r.z,j[gt+Ct+3]=0),M===!0&&(r.fromBufferAttribute(nt,Mt),nt.normalized===!0&&bu(r,nt),j[gt+Ct+4]=r.x,j[gt+Ct+5]=r.y,j[gt+Ct+6]=r.z,j[gt+Ct+7]=0),N===!0&&(r.fromBufferAttribute(Gt,Mt),Gt.normalized===!0&&bu(r,Gt),j[gt+Ct+8]=r.x,j[gt+Ct+9]=r.y,j[gt+Ct+10]=r.z,j[gt+Ct+11]=Gt.itemSize===4?r.w:1)}}R={count:X,texture:mt,size:new Wt($,H)},l.set(h,R),h.addEventListener("dispose",ot)}let W=0;for(let F=0;F<p.length;F++)W+=p[F];const S=h.morphTargetsRelative?1:1-W;u.getUniforms().setValue(t,"morphTargetBaseInfluence",S),u.getUniforms().setValue(t,"morphTargetInfluences",p),u.getUniforms().setValue(t,"morphTargetsTexture",R.texture,e),u.getUniforms().setValue(t,"morphTargetsTextureSize",R.size)}else{const Z=p===void 0?0:p.length;let X=s[h.id];if(X===void 0||X.length!==Z){X=[];for(let M=0;M<Z;M++)X[M]=[M,0];s[h.id]=X}for(let M=0;M<Z;M++){const N=X[M];N[0]=M,N[1]=p[M]}X.sort(Bz);for(let M=0;M<8;M++)M<Z&&X[M][1]?(a[M][0]=X[M][0],a[M][1]=X[M][1]):(a[M][0]=Number.MAX_SAFE_INTEGER,a[M][1]=0);a.sort(Oz);const R=h.morphAttributes.position,W=h.morphAttributes.normal;let S=0;for(let M=0;M<8;M++){const N=a[M],E=N[0],Y=N[1];E!==Number.MAX_SAFE_INTEGER&&Y?(R&&h.getAttribute("morphTarget"+M)!==R[E]&&h.setAttribute("morphTarget"+M,R[E]),W&&h.getAttribute("morphNormal"+M)!==W[E]&&h.setAttribute("morphNormal"+M,W[E]),n[M]=Y,S+=Y):(R&&h.hasAttribute("morphTarget"+M)===!0&&h.deleteAttribute("morphTarget"+M),W&&h.hasAttribute("morphNormal"+M)===!0&&h.deleteAttribute("morphNormal"+M),n[M]=0)}const F=h.morphTargetsRelative?1:1-S;u.getUniforms().setValue(t,"morphTargetBaseInfluence",F),u.getUniforms().setValue(t,"morphTargetInfluences",n)}}return{update:o}}function jz(t,i,e,s){let n=new WeakMap;function l(o){const c=s.render.frame,h=o.geometry,d=i.get(o,h);return n.get(d)!==c&&(i.update(d),n.set(d,c)),o.isInstancedMesh&&(o.hasEventListener("dispose",a)===!1&&o.addEventListener("dispose",a),e.update(o.instanceMatrix,34962),o.instanceColor!==null&&e.update(o.instanceColor,34962)),d}function r(){n=new WeakMap}function a(o){const c=o.target;c.removeEventListener("dispose",a),e.remove(c.instanceMatrix),c.instanceColor!==null&&e.remove(c.instanceColor)}return{update:l,dispose:r}}const ub=new Ls,pb=new Mc,mb=new Jd,bb=new _c,yb=[],Gb=[],Zb=new Float32Array(16),Xb=new Float32Array(9),Tb=new Float32Array(4);function Qr(t,i,e){const s=t[0];if(s<=0||s>0)return t;const n=i*e;let l=yb[n];if(l===void 0&&(l=new Float32Array(n),yb[n]=l),i!==0){s.toArray(l,0);for(let r=1,a=0;r!==i;++r)a+=e,t[r].toArray(l,a)}return l}function oi(t,i){if(t.length!==i.length)return!1;for(let e=0,s=t.length;e<s;e++)if(t[e]!==i[e])return!1;return!0}function $s(t,i){for(let e=0,s=i.length;e<s;e++)t[e]=i[e]}function eh(t,i){let e=Gb[i];e===void 0&&(e=new Int32Array(i),Gb[i]=e);for(let s=0;s!==i;++s)e[s]=t.allocateTextureUnit();return e}function Qz(t,i){const e=this.cache;e[0]!==i&&(t.uniform1f(this.addr,i),e[0]=i)}function _z(t,i){const e=this.cache;if(i.x!==void 0)(e[0]!==i.x||e[1]!==i.y)&&(t.uniform2f(this.addr,i.x,i.y),e[0]=i.x,e[1]=i.y);else{if(oi(e,i))return;t.uniform2fv(this.addr,i),$s(e,i)}}function qz(t,i){const e=this.cache;if(i.x!==void 0)(e[0]!==i.x||e[1]!==i.y||e[2]!==i.z)&&(t.uniform3f(this.addr,i.x,i.y,i.z),e[0]=i.x,e[1]=i.y,e[2]=i.z);else if(i.r!==void 0)(e[0]!==i.r||e[1]!==i.g||e[2]!==i.b)&&(t.uniform3f(this.addr,i.r,i.g,i.b),e[0]=i.r,e[1]=i.g,e[2]=i.b);else{if(oi(e,i))return;t.uniform3fv(this.addr,i),$s(e,i)}}function $z(t,i){const e=this.cache;if(i.x!==void 0)(e[0]!==i.x||e[1]!==i.y||e[2]!==i.z||e[3]!==i.w)&&(t.uniform4f(this.addr,i.x,i.y,i.z,i.w),e[0]=i.x,e[1]=i.y,e[2]=i.z,e[3]=i.w);else{if(oi(e,i))return;t.uniform4fv(this.addr,i),$s(e,i)}}function t3(t,i){const e=this.cache,s=i.elements;if(s===void 0){if(oi(e,i))return;t.uniformMatrix2fv(this.addr,!1,i),$s(e,i)}else{if(oi(e,s))return;Tb.set(s),t.uniformMatrix2fv(this.addr,!1,Tb),$s(e,s)}}function e3(t,i){const e=this.cache,s=i.elements;if(s===void 0){if(oi(e,i))return;t.uniformMatrix3fv(this.addr,!1,i),$s(e,i)}else{if(oi(e,s))return;Xb.set(s),t.uniformMatrix3fv(this.addr,!1,Xb),$s(e,s)}}function s3(t,i){const e=this.cache,s=i.elements;if(s===void 0){if(oi(e,i))return;t.uniformMatrix4fv(this.addr,!1,i),$s(e,i)}else{if(oi(e,s))return;Zb.set(s),t.uniformMatrix4fv(this.addr,!1,Zb),$s(e,s)}}function i3(t,i){const e=this.cache;e[0]!==i&&(t.uniform1i(this.addr,i),e[0]=i)}function n3(t,i){const e=this.cache;oi(e,i)||(t.uniform2iv(this.addr,i),$s(e,i))}function l3(t,i){const e=this.cache;oi(e,i)||(t.uniform3iv(this.addr,i),$s(e,i))}function r3(t,i){const e=this.cache;oi(e,i)||(t.uniform4iv(this.addr,i),$s(e,i))}function a3(t,i){const e=this.cache;e[0]!==i&&(t.uniform1ui(this.addr,i),e[0]=i)}function o3(t,i){const e=this.cache;oi(e,i)||(t.uniform2uiv(this.addr,i),$s(e,i))}function c3(t,i){const e=this.cache;oi(e,i)||(t.uniform3uiv(this.addr,i),$s(e,i))}function h3(t,i){const e=this.cache;oi(e,i)||(t.uniform4uiv(this.addr,i),$s(e,i))}function d3(t,i,e){const s=this.cache,n=e.allocateTextureUnit();s[0]!==n&&(t.uniform1i(this.addr,n),s[0]=n),e.setTexture2D(i||ub,n)}function u3(t,i,e){const s=this.cache,n=e.allocateTextureUnit();s[0]!==n&&(t.uniform1i(this.addr,n),s[0]=n),e.setTexture3D(i||mb,n)}function p3(t,i,e){const s=this.cache,n=e.allocateTextureUnit();s[0]!==n&&(t.uniform1i(this.addr,n),s[0]=n),e.setTextureCube(i||bb,n)}function m3(t,i,e){const s=this.cache,n=e.allocateTextureUnit();s[0]!==n&&(t.uniform1i(this.addr,n),s[0]=n),e.setTexture2DArray(i||pb,n)}function b3(t){switch(t){case 5126:return Qz;case 35664:return _z;case 35665:return qz;case 35666:return $z;case 35674:return t3;case 35675:return e3;case 35676:return s3;case 5124:case 35670:return i3;case 35667:case 35671:return n3;case 35668:case 35672:return l3;case 35669:case 35673:return r3;case 5125:return a3;case 36294:return o3;case 36295:return c3;case 36296:return h3;case 35678:case 36198:case 36298:case 36306:case 35682:return d3;case 35679:case 36299:case 36307:return u3;case 35680:case 36300:case 36308:case 36293:return p3;case 36289:case 36303:case 36311:case 36292:return m3}}function y3(t,i){t.uniform1fv(this.addr,i)}function G3(t,i){const e=Qr(i,this.size,2);t.uniform2fv(this.addr,e)}function Z3(t,i){const e=Qr(i,this.size,3);t.uniform3fv(this.addr,e)}function X3(t,i){const e=Qr(i,this.size,4);t.uniform4fv(this.addr,e)}function T3(t,i){const e=Qr(i,this.size,4);t.uniformMatrix2fv(this.addr,!1,e)}function R3(t,i){const e=Qr(i,this.size,9);t.uniformMatrix3fv(this.addr,!1,e)}function I3(t,i){const e=Qr(i,this.size,16);t.uniformMatrix4fv(this.addr,!1,e)}function g3(t,i){t.uniform1iv(this.addr,i)}function W3(t,i){t.uniform2iv(this.addr,i)}function L3(t,i){t.uniform3iv(this.addr,i)}function S3(t,i){t.uniform4iv(this.addr,i)}function C3(t,i){t.uniform1uiv(this.addr,i)}function f3(t,i){t.uniform2uiv(this.addr,i)}function V3(t,i){t.uniform3uiv(this.addr,i)}function x3(t,i){t.uniform4uiv(this.addr,i)}function N3(t,i,e){const s=i.length,n=eh(e,s);t.uniform1iv(this.addr,n);for(let l=0;l!==s;++l)e.setTexture2D(i[l]||ub,n[l])}function F3(t,i,e){const s=i.length,n=eh(e,s);t.uniform1iv(this.addr,n);for(let l=0;l!==s;++l)e.setTexture3D(i[l]||mb,n[l])}function M3(t,i,e){const s=i.length,n=eh(e,s);t.uniform1iv(this.addr,n);for(let l=0;l!==s;++l)e.setTextureCube(i[l]||bb,n[l])}function Y3(t,i,e){const s=i.length,n=eh(e,s);t.uniform1iv(this.addr,n);for(let l=0;l!==s;++l)e.setTexture2DArray(i[l]||pb,n[l])}function v3(t){switch(t){case 5126:return y3;case 35664:return G3;case 35665:return Z3;case 35666:return X3;case 35674:return T3;case 35675:return R3;case 35676:return I3;case 5124:case 35670:return g3;case 35667:case 35671:return W3;case 35668:case 35672:return L3;case 35669:case 35673:return S3;case 5125:return C3;case 36294:return f3;case 36295:return V3;case 36296:return x3;case 35678:case 36198:case 36298:case 36306:case 35682:return N3;case 35679:case 36299:case 36307:return F3;case 35680:case 36300:case 36308:case 36293:return M3;case 36289:case 36303:case 36311:case 36292:return Y3}}function E3(t,i,e){this.id=t,this.addr=e,this.cache=[],this.setValue=b3(i.type)}function Rb(t,i,e){this.id=t,this.addr=e,this.cache=[],this.size=i.size,this.setValue=v3(i.type)}Rb.prototype.updateCache=function(t){const i=this.cache;t instanceof Float32Array&&i.length!==t.length&&(this.cache=new Float32Array(t.length)),$s(i,t)};function Ib(t){this.id=t,this.seq=[],this.map={}}Ib.prototype.setValue=function(t,i,e){const s=this.seq;for(let n=0,l=s.length;n!==l;++n){const r=s[n];r.setValue(t,i[r.id],e)}};const yu=/(\w+)(\])?(\[|\.)?/g;function gb(t,i){t.seq.push(i),t.map[i.id]=i}function z3(t,i,e){const s=t.name,n=s.length;for(yu.lastIndex=0;;){const l=yu.exec(s),r=yu.lastIndex;let a=l[1];const o=l[2]==="]",c=l[3];if(o&&(a=a|0),c===void 0||c==="["&&r+2===n){gb(e,c===void 0?new E3(a,t,i):new Rb(a,t,i));break}else{let d=e.map[a];d===void 0&&(d=new Ib(a),gb(e,d)),e=d}}}function yl(t,i){this.seq=[],this.map={};const e=t.getProgramParameter(i,35718);for(let s=0;s<e;++s){const n=t.getActiveUniform(i,s),l=t.getUniformLocation(i,n.name);z3(n,l,this)}}yl.prototype.setValue=function(t,i,e,s){const n=this.map[i];n!==void 0&&n.setValue(t,e,s)},yl.prototype.setOptional=function(t,i,e){const s=i[e];s!==void 0&&this.setValue(t,e,s)},yl.upload=function(t,i,e,s){for(let n=0,l=i.length;n!==l;++n){const r=i[n],a=e[r.id];a.needsUpdate!==!1&&r.setValue(t,a.value,s)}},yl.seqWithValue=function(t,i){const e=[];for(let s=0,n=t.length;s!==n;++s){const l=t[s];l.id in i&&e.push(l)}return e};function Wb(t,i,e){const s=t.createShader(i);return t.shaderSource(s,e),t.compileShader(s),s}let H3=0;function K3(t,i){const e=t.split(`
`),s=[],n=Math.max(i-6,0),l=Math.min(i+6,e.length);for(let r=n;r<l;r++)s.push(r+1+": "+e[r]);return s.join(`
`)}function w3(t){switch(t){case zn:return["Linear","( value )"];case Xs:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function Lb(t,i,e){const s=t.getShaderParameter(i,35713),n=t.getShaderInfoLog(i).trim();if(s&&n==="")return"";const l=parseInt(/ERROR: 0:(\d+)/.exec(n)[1]);return e.toUpperCase()+`

`+n+`

`+K3(t.getShaderSource(i),l)}function k3(t,i){const e=w3(i);return"vec4 "+t+"( vec4 value ) { return LinearTo"+e[0]+e[1]+"; }"}function P3(t,i){let e;switch(i){case SY:e="Linear";break;case CY:e="Reinhard";break;case fY:e="OptimizedCineon";break;case VY:e="ACESFilmic";break;case xY:e="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",i),e="Linear"}return"vec3 "+t+"( vec3 color ) { return "+e+"ToneMapping( color ); }"}function U3(t){return[t.extensionDerivatives||!!t.envMapCubeUVHeight||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ho).join(`
`)}function D3(t){const i=[];for(const e in t){const s=t[e];s!==!1&&i.push("#define "+e+" "+s)}return i.join(`
`)}function J3(t,i){const e={},s=t.getProgramParameter(i,35721);for(let n=0;n<s;n++){const l=t.getActiveAttrib(i,n),r=l.name;let a=1;l.type===35674&&(a=2),l.type===35675&&(a=3),l.type===35676&&(a=4),e[r]={type:l.type,location:t.getAttribLocation(i,r),locationSize:a}}return e}function ho(t){return t!==""}function Sb(t,i){return t.replace(/NUM_DIR_LIGHTS/g,i.numDirLights).replace(/NUM_SPOT_LIGHTS/g,i.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,i.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,i.numPointLights).replace(/NUM_HEMI_LIGHTS/g,i.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,i.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,i.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,i.numPointLightShadows)}function Cb(t,i){return t.replace(/NUM_CLIPPING_PLANES/g,i.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,i.numClippingPlanes-i.numClipIntersection)}const O3=/^[ \t]*#include +<([\w\d./]+)>/gm;function Gu(t){return t.replace(O3,B3)}function B3(t,i){const e=Ee[i];if(e===void 0)throw new Error("Can not resolve #include <"+i+">");return Gu(e)}const A3=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,j3=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function fb(t){return t.replace(j3,Vb).replace(A3,Q3)}function Q3(t,i,e,s){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),Vb(t,i,e,s)}function Vb(t,i,e,s){let n="";for(let l=parseInt(i);l<parseInt(e);l++)n+=s.replace(/\[\s*i\s*\]/g,"[ "+l+" ]").replace(/UNROLLED_LOOP_INDEX/g,l);return n}function xb(t){let i="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?i+=`
#define HIGH_PRECISION`:t.precision==="mediump"?i+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(i+=`
#define LOW_PRECISION`),i}function _3(t){let i="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===l0?i="SHADOWMAP_TYPE_PCF":t.shadowMapType===nY?i="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Qa&&(i="SHADOWMAP_TYPE_VSM"),i}function q3(t){let i="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Lr:case Sr:i="ENVMAP_TYPE_CUBE";break;case gc:i="ENVMAP_TYPE_CUBE_UV";break}return i}function $3(t){let i="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Sr:i="ENVMAP_MODE_REFRACTION";break}return i}function tH(t){let i="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Ic:i="ENVMAP_BLENDING_MULTIPLY";break;case WY:i="ENVMAP_BLENDING_MIX";break;case LY:i="ENVMAP_BLENDING_ADD";break}return i}function eH(t){const i=t.envMapCubeUVHeight;if(i===null)return null;const e=Math.log2(i/32+1)+3,s=1/i;return{texelWidth:1/(3*Math.max(Math.pow(2,e),7*16)),texelHeight:s,maxMip:e}}function sH(t,i,e,s){const n=t.getContext(),l=e.defines;let r=e.vertexShader,a=e.fragmentShader;const o=_3(e),c=q3(e),h=$3(e),d=tH(e),u=eH(e),p=e.isWebGL2?"":U3(e),Z=D3(l),X=n.createProgram();let R,W,S=e.glslVersion?"#version "+e.glslVersion+`
`:"";e.isRawShaderMaterial?(R=[Z].filter(ho).join(`
`),R.length>0&&(R+=`
`),W=[p,Z].filter(ho).join(`
`),W.length>0&&(W+=`
`)):(R=[xb(e),"#define SHADER_NAME "+e.shaderName,Z,e.instancing?"#define USE_INSTANCING":"",e.instancingColor?"#define USE_INSTANCING_COLOR":"",e.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define MAX_BONES "+e.maxBones,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+h:"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMap&&e.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",e.normalMap&&e.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.displacementMap&&e.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",e.specularColorMap?"#define USE_SPECULARCOLORMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.sheenColorMap?"#define USE_SHEENCOLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",e.vertexTangents?"#define USE_TANGENT":"",e.vertexColors?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUvs?"#define USE_UV":"",e.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",e.flatShading?"#define FLAT_SHADED":"",e.skinning?"#define USE_SKINNING":"",e.useVertexTexture?"#define BONE_TEXTURE":"",e.morphTargets?"#define USE_MORPHTARGETS":"",e.morphNormals&&e.flatShading===!1?"#define USE_MORPHNORMALS":"",e.morphColors&&e.isWebGL2?"#define USE_MORPHCOLORS":"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+e.morphTextureStride:"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_COUNT "+e.morphTargetsCount:"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+o:"",e.sizeAttenuation?"#define USE_SIZEATTENUATION":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.logarithmicDepthBuffer&&e.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(ho).join(`
`),W=[p,xb(e),"#define SHADER_NAME "+e.shaderName,Z,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.matcap?"#define USE_MATCAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+c:"",e.envMap?"#define "+h:"",e.envMap?"#define "+d:"",u?"#define CUBEUV_TEXEL_WIDTH "+u.texelWidth:"",u?"#define CUBEUV_TEXEL_HEIGHT "+u.texelHeight:"",u?"#define CUBEUV_MAX_MIP "+u.maxMip+".0":"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMap&&e.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",e.normalMap&&e.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",e.clearcoat?"#define USE_CLEARCOAT":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",e.specularColorMap?"#define USE_SPECULARCOLORMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaTest?"#define USE_ALPHATEST":"",e.sheen?"#define USE_SHEEN":"",e.sheenColorMap?"#define USE_SHEENCOLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",e.vertexTangents?"#define USE_TANGENT":"",e.vertexColors||e.instancingColor?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUvs?"#define USE_UV":"",e.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",e.gradientMap?"#define USE_GRADIENTMAP":"",e.flatShading?"#define FLAT_SHADED":"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+o:"",e.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",e.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.logarithmicDepthBuffer&&e.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",e.toneMapping!==En?"#define TONE_MAPPING":"",e.toneMapping!==En?Ee.tonemapping_pars_fragment:"",e.toneMapping!==En?P3("toneMapping",e.toneMapping):"",e.dithering?"#define DITHERING":"",e.opaque?"#define OPAQUE":"",Ee.encodings_pars_fragment,k3("linearToOutputTexel",e.outputEncoding),e.depthPacking?"#define DEPTH_PACKING "+e.depthPacking:"",`
`].filter(ho).join(`
`)),r=Gu(r),r=Sb(r,e),r=Cb(r,e),a=Gu(a),a=Sb(a,e),a=Cb(a,e),r=fb(r),a=fb(a),e.isWebGL2&&e.isRawShaderMaterial!==!0&&(S=`#version 300 es
`,R=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+R,W=["#define varying in",e.glslVersion===H0?"":"layout(location = 0) out highp vec4 pc_fragColor;",e.glslVersion===H0?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+W);const F=S+R+r,M=S+W+a,N=Wb(n,35633,F),E=Wb(n,35632,M);if(n.attachShader(X,N),n.attachShader(X,E),e.index0AttributeName!==void 0?n.bindAttribLocation(X,0,e.index0AttributeName):e.morphTargets===!0&&n.bindAttribLocation(X,0,"position"),n.linkProgram(X),t.debug.checkShaderErrors){const q=n.getProgramInfoLog(X).trim(),$=n.getShaderInfoLog(N).trim(),H=n.getShaderInfoLog(E).trim();let j=!0,mt=!0;if(n.getProgramParameter(X,35714)===!1){j=!1;const st=Lb(n,N,"vertex"),ot=Lb(n,E,"fragment");console.error("THREE.WebGLProgram: Shader Error "+n.getError()+" - VALIDATE_STATUS "+n.getProgramParameter(X,35715)+`

Program Info Log: `+q+`
`+st+`
`+ot)}else q!==""?console.warn("THREE.WebGLProgram: Program Info Log:",q):($===""||H==="")&&(mt=!1);mt&&(this.diagnostics={runnable:j,programLog:q,vertexShader:{log:$,prefix:R},fragmentShader:{log:H,prefix:W}})}n.deleteShader(N),n.deleteShader(E);let Y;this.getUniforms=function(){return Y===void 0&&(Y=new yl(n,X)),Y};let O;return this.getAttributes=function(){return O===void 0&&(O=J3(n,X)),O},this.destroy=function(){s.releaseStatesOfProgram(this),n.deleteProgram(X),this.program=void 0},this.name=e.shaderName,this.id=H3++,this.cacheKey=i,this.usedTimes=1,this.program=X,this.vertexShader=N,this.fragmentShader=E,this}let iH=0;class nH{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(i){const e=i.vertexShader,s=i.fragmentShader,n=this._getShaderStage(e),l=this._getShaderStage(s),r=this._getShaderCacheForMaterial(i);return r.has(n)===!1&&(r.add(n),n.usedTimes++),r.has(l)===!1&&(r.add(l),l.usedTimes++),this}remove(i){const e=this.materialCache.get(i);for(const s of e)s.usedTimes--,s.usedTimes===0&&this.shaderCache.delete(s.code);return this.materialCache.delete(i),this}getVertexShaderID(i){return this._getShaderStage(i.vertexShader).id}getFragmentShaderID(i){return this._getShaderStage(i.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(i){const e=this.materialCache;return e.has(i)===!1&&e.set(i,new Set),e.get(i)}_getShaderStage(i){const e=this.shaderCache;if(e.has(i)===!1){const s=new lH(i);e.set(i,s)}return e.get(i)}}class lH{constructor(i){this.id=iH++,this.code=i,this.usedTimes=0}}function rH(t,i,e,s,n,l,r){const a=new $d,o=new nH,c=[],h=n.isWebGL2,d=n.logarithmicDepthBuffer,u=n.floatVertexTextures,p=n.maxVertexUniforms,Z=n.vertexTextures;let X=n.precision;const R={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function W(H){const mt=H.skeleton.bones;if(u)return 1024;{const ot=Math.floor((p-20)/4),rt=Math.min(ot,mt.length);return rt<mt.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+mt.length+" bones. This GPU supports "+rt+"."),0):rt}}function S(H,j,mt,st,ot){const rt=st.fog,lt=ot.geometry,nt=H.isMeshStandardMaterial?st.environment:null,Gt=(H.isMeshStandardMaterial?e:i).get(H.envMap||nt),gt=!!Gt&&Gt.mapping===gc?Gt.image.height:null,Mt=R[H.type],Ct=ot.isSkinnedMesh?W(ot):0;H.precision!==null&&(X=n.getMaxPrecision(H.precision),X!==H.precision&&console.warn("THREE.WebGLProgram.getParameters:",H.precision,"not supported, using",X,"instead."));const wt=lt.morphAttributes.position||lt.morphAttributes.normal||lt.morphAttributes.color,Me=wt!==void 0?wt.length:0;let Xe=0;lt.morphAttributes.position!==void 0&&(Xe=1),lt.morphAttributes.normal!==void 0&&(Xe=2),lt.morphAttributes.color!==void 0&&(Xe=3);let Zt,Oe,Se,ye;if(Mt){const at=mn[Mt];Zt=at.vertexShader,Oe=at.fragmentShader}else Zt=H.vertexShader,Oe=H.fragmentShader,o.update(H),Se=o.getVertexShaderID(H),ye=o.getFragmentShaderID(H);const Lt=t.getRenderTarget(),ce=H.alphaTest>0,bt=H.clearcoat>0;return{isWebGL2:h,shaderID:Mt,shaderName:H.type,vertexShader:Zt,fragmentShader:Oe,defines:H.defines,customVertexShaderID:Se,customFragmentShaderID:ye,isRawShaderMaterial:H.isRawShaderMaterial===!0,glslVersion:H.glslVersion,precision:X,instancing:ot.isInstancedMesh===!0,instancingColor:ot.isInstancedMesh===!0&&ot.instanceColor!==null,supportsVertexTextures:Z,outputEncoding:Lt===null?t.outputEncoding:Lt.isXRRenderTarget===!0?Lt.texture.encoding:zn,map:!!H.map,matcap:!!H.matcap,envMap:!!Gt,envMapMode:Gt&&Gt.mapping,envMapCubeUVHeight:gt,lightMap:!!H.lightMap,aoMap:!!H.aoMap,emissiveMap:!!H.emissiveMap,bumpMap:!!H.bumpMap,normalMap:!!H.normalMap,objectSpaceNormalMap:H.normalMapType===$Y,tangentSpaceNormalMap:H.normalMapType===Fr,decodeVideoTexture:!!H.map&&H.map.isVideoTexture===!0&&H.map.encoding===Xs,clearcoat:bt,clearcoatMap:bt&&!!H.clearcoatMap,clearcoatRoughnessMap:bt&&!!H.clearcoatRoughnessMap,clearcoatNormalMap:bt&&!!H.clearcoatNormalMap,displacementMap:!!H.displacementMap,roughnessMap:!!H.roughnessMap,metalnessMap:!!H.metalnessMap,specularMap:!!H.specularMap,specularIntensityMap:!!H.specularIntensityMap,specularColorMap:!!H.specularColorMap,opaque:H.transparent===!1&&H.blending===gr,alphaMap:!!H.alphaMap,alphaTest:ce,gradientMap:!!H.gradientMap,sheen:H.sheen>0,sheenColorMap:!!H.sheenColorMap,sheenRoughnessMap:!!H.sheenRoughnessMap,transmission:H.transmission>0,transmissionMap:!!H.transmissionMap,thicknessMap:!!H.thicknessMap,combine:H.combine,vertexTangents:!!H.normalMap&&!!lt.attributes.tangent,vertexColors:H.vertexColors,vertexAlphas:H.vertexColors===!0&&!!lt.attributes.color&&lt.attributes.color.itemSize===4,vertexUvs:!!H.map||!!H.bumpMap||!!H.normalMap||!!H.specularMap||!!H.alphaMap||!!H.emissiveMap||!!H.roughnessMap||!!H.metalnessMap||!!H.clearcoatMap||!!H.clearcoatRoughnessMap||!!H.clearcoatNormalMap||!!H.displacementMap||!!H.transmissionMap||!!H.thicknessMap||!!H.specularIntensityMap||!!H.specularColorMap||!!H.sheenColorMap||!!H.sheenRoughnessMap,uvsVertexOnly:!(!!H.map||!!H.bumpMap||!!H.normalMap||!!H.specularMap||!!H.alphaMap||!!H.emissiveMap||!!H.roughnessMap||!!H.metalnessMap||!!H.clearcoatNormalMap||H.transmission>0||!!H.transmissionMap||!!H.thicknessMap||!!H.specularIntensityMap||!!H.specularColorMap||H.sheen>0||!!H.sheenColorMap||!!H.sheenRoughnessMap)&&!!H.displacementMap,fog:!!rt,useFog:H.fog,fogExp2:rt&&rt.isFogExp2,flatShading:!!H.flatShading,sizeAttenuation:H.sizeAttenuation,logarithmicDepthBuffer:d,skinning:ot.isSkinnedMesh===!0&&Ct>0,maxBones:Ct,useVertexTexture:u,morphTargets:lt.morphAttributes.position!==void 0,morphNormals:lt.morphAttributes.normal!==void 0,morphColors:lt.morphAttributes.color!==void 0,morphTargetsCount:Me,morphTextureStride:Xe,numDirLights:j.directional.length,numPointLights:j.point.length,numSpotLights:j.spot.length,numRectAreaLights:j.rectArea.length,numHemiLights:j.hemi.length,numDirLightShadows:j.directionalShadowMap.length,numPointLightShadows:j.pointShadowMap.length,numSpotLightShadows:j.spotShadowMap.length,numClippingPlanes:r.numPlanes,numClipIntersection:r.numIntersection,dithering:H.dithering,shadowMapEnabled:t.shadowMap.enabled&&mt.length>0,shadowMapType:t.shadowMap.type,toneMapping:H.toneMapped?t.toneMapping:En,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:H.premultipliedAlpha,doubleSided:H.side===pi,flipSided:H.side===gi,depthPacking:H.depthPacking!==void 0?H.depthPacking:!1,index0AttributeName:H.index0AttributeName,extensionDerivatives:H.extensions&&H.extensions.derivatives,extensionFragDepth:H.extensions&&H.extensions.fragDepth,extensionDrawBuffers:H.extensions&&H.extensions.drawBuffers,extensionShaderTextureLOD:H.extensions&&H.extensions.shaderTextureLOD,rendererExtensionFragDepth:h||s.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||s.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||s.has("EXT_shader_texture_lod"),customProgramCacheKey:H.customProgramCacheKey()}}function F(H){const j=[];if(H.shaderID?j.push(H.shaderID):(j.push(H.customVertexShaderID),j.push(H.customFragmentShaderID)),H.defines!==void 0)for(const mt in H.defines)j.push(mt),j.push(H.defines[mt]);return H.isRawShaderMaterial===!1&&(M(j,H),N(j,H),j.push(t.outputEncoding)),j.push(H.customProgramCacheKey),j.join()}function M(H,j){H.push(j.precision),H.push(j.outputEncoding),H.push(j.envMapMode),H.push(j.envMapCubeUVHeight),H.push(j.combine),H.push(j.vertexUvs),H.push(j.fogExp2),H.push(j.sizeAttenuation),H.push(j.maxBones),H.push(j.morphTargetsCount),H.push(j.morphAttributeCount),H.push(j.numDirLights),H.push(j.numPointLights),H.push(j.numSpotLights),H.push(j.numHemiLights),H.push(j.numRectAreaLights),H.push(j.numDirLightShadows),H.push(j.numPointLightShadows),H.push(j.numSpotLightShadows),H.push(j.shadowMapType),H.push(j.toneMapping),H.push(j.numClippingPlanes),H.push(j.numClipIntersection)}function N(H,j){a.disableAll(),j.isWebGL2&&a.enable(0),j.supportsVertexTextures&&a.enable(1),j.instancing&&a.enable(2),j.instancingColor&&a.enable(3),j.map&&a.enable(4),j.matcap&&a.enable(5),j.envMap&&a.enable(6),j.lightMap&&a.enable(7),j.aoMap&&a.enable(8),j.emissiveMap&&a.enable(9),j.bumpMap&&a.enable(10),j.normalMap&&a.enable(11),j.objectSpaceNormalMap&&a.enable(12),j.tangentSpaceNormalMap&&a.enable(13),j.clearcoat&&a.enable(14),j.clearcoatMap&&a.enable(15),j.clearcoatRoughnessMap&&a.enable(16),j.clearcoatNormalMap&&a.enable(17),j.displacementMap&&a.enable(18),j.specularMap&&a.enable(19),j.roughnessMap&&a.enable(20),j.metalnessMap&&a.enable(21),j.gradientMap&&a.enable(22),j.alphaMap&&a.enable(23),j.alphaTest&&a.enable(24),j.vertexColors&&a.enable(25),j.vertexAlphas&&a.enable(26),j.vertexUvs&&a.enable(27),j.vertexTangents&&a.enable(28),j.uvsVertexOnly&&a.enable(29),j.fog&&a.enable(30),H.push(a.mask),a.disableAll(),j.useFog&&a.enable(0),j.flatShading&&a.enable(1),j.logarithmicDepthBuffer&&a.enable(2),j.skinning&&a.enable(3),j.useVertexTexture&&a.enable(4),j.morphTargets&&a.enable(5),j.morphNormals&&a.enable(6),j.morphColors&&a.enable(7),j.premultipliedAlpha&&a.enable(8),j.shadowMapEnabled&&a.enable(9),j.physicallyCorrectLights&&a.enable(10),j.doubleSided&&a.enable(11),j.flipSided&&a.enable(12),j.depthPacking&&a.enable(13),j.dithering&&a.enable(14),j.specularIntensityMap&&a.enable(15),j.specularColorMap&&a.enable(16),j.transmission&&a.enable(17),j.transmissionMap&&a.enable(18),j.thicknessMap&&a.enable(19),j.sheen&&a.enable(20),j.sheenColorMap&&a.enable(21),j.sheenRoughnessMap&&a.enable(22),j.decodeVideoTexture&&a.enable(23),j.opaque&&a.enable(24),H.push(a.mask)}function E(H){const j=R[H.type];let mt;if(j){const st=mn[j];mt=Fv.clone(st.uniforms)}else mt=H.uniforms;return mt}function Y(H,j){let mt;for(let st=0,ot=c.length;st<ot;st++){const rt=c[st];if(rt.cacheKey===j){mt=rt,++mt.usedTimes;break}}return mt===void 0&&(mt=new sH(t,j,H,l),c.push(mt)),mt}function O(H){if(--H.usedTimes===0){const j=c.indexOf(H);c[j]=c[c.length-1],c.pop(),H.destroy()}}function q(H){o.remove(H)}function $(){o.dispose()}return{getParameters:S,getProgramCacheKey:F,getUniforms:E,acquireProgram:Y,releaseProgram:O,releaseShaderCache:q,programs:c,dispose:$}}function aH(){let t=new WeakMap;function i(l){let r=t.get(l);return r===void 0&&(r={},t.set(l,r)),r}function e(l){t.delete(l)}function s(l,r,a){t.get(l)[r]=a}function n(){t=new WeakMap}return{get:i,remove:e,update:s,dispose:n}}function oH(t,i){return t.groupOrder!==i.groupOrder?t.groupOrder-i.groupOrder:t.renderOrder!==i.renderOrder?t.renderOrder-i.renderOrder:t.material.id!==i.material.id?t.material.id-i.material.id:t.z!==i.z?t.z-i.z:t.id-i.id}function Nb(t,i){return t.groupOrder!==i.groupOrder?t.groupOrder-i.groupOrder:t.renderOrder!==i.renderOrder?t.renderOrder-i.renderOrder:t.z!==i.z?i.z-t.z:t.id-i.id}function Fb(){const t=[];let i=0;const e=[],s=[],n=[];function l(){i=0,e.length=0,s.length=0,n.length=0}function r(d,u,p,Z,X,R){let W=t[i];return W===void 0?(W={id:d.id,object:d,geometry:u,material:p,groupOrder:Z,renderOrder:d.renderOrder,z:X,group:R},t[i]=W):(W.id=d.id,W.object=d,W.geometry=u,W.material=p,W.groupOrder=Z,W.renderOrder=d.renderOrder,W.z=X,W.group=R),i++,W}function a(d,u,p,Z,X,R){const W=r(d,u,p,Z,X,R);p.transmission>0?s.push(W):p.transparent===!0?n.push(W):e.push(W)}function o(d,u,p,Z,X,R){const W=r(d,u,p,Z,X,R);p.transmission>0?s.unshift(W):p.transparent===!0?n.unshift(W):e.unshift(W)}function c(d,u){e.length>1&&e.sort(d||oH),s.length>1&&s.sort(u||Nb),n.length>1&&n.sort(u||Nb)}function h(){for(let d=i,u=t.length;d<u;d++){const p=t[d];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:e,transmissive:s,transparent:n,init:l,push:a,unshift:o,finish:h,sort:c}}function cH(){let t=new WeakMap;function i(s,n){let l;return t.has(s)===!1?(l=new Fb,t.set(s,[l])):n>=t.get(s).length?(l=new Fb,t.get(s).push(l)):l=t.get(s)[n],l}function e(){t=new WeakMap}return{get:i,dispose:e}}function hH(){const t={};return{get:function(i){if(t[i.id]!==void 0)return t[i.id];let e;switch(i.type){case"DirectionalLight":e={direction:new z,color:new it};break;case"SpotLight":e={position:new z,direction:new z,color:new it,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":e={position:new z,color:new it,distance:0,decay:0};break;case"HemisphereLight":e={direction:new z,skyColor:new it,groundColor:new it};break;case"RectAreaLight":e={color:new it,position:new z,halfWidth:new z,halfHeight:new z};break}return t[i.id]=e,e}}}function dH(){const t={};return{get:function(i){if(t[i.id]!==void 0)return t[i.id];let e;switch(i.type){case"DirectionalLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Wt};break;case"SpotLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Wt};break;case"PointLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Wt,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[i.id]=e,e}}}let uH=0;function pH(t,i){return(i.castShadow?1:0)-(t.castShadow?1:0)}function mH(t,i){const e=new hH,s=dH(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let h=0;h<9;h++)n.probe.push(new z);const l=new z,r=new _t,a=new _t;function o(h,d){let u=0,p=0,Z=0;for(let q=0;q<9;q++)n.probe[q].set(0,0,0);let X=0,R=0,W=0,S=0,F=0,M=0,N=0,E=0;h.sort(pH);const Y=d!==!0?Math.PI:1;for(let q=0,$=h.length;q<$;q++){const H=h[q],j=H.color,mt=H.intensity,st=H.distance,ot=H.shadow&&H.shadow.map?H.shadow.map.texture:null;if(H.isAmbientLight)u+=j.r*mt*Y,p+=j.g*mt*Y,Z+=j.b*mt*Y;else if(H.isLightProbe)for(let rt=0;rt<9;rt++)n.probe[rt].addScaledVector(H.sh.coefficients[rt],mt);else if(H.isDirectionalLight){const rt=e.get(H);if(rt.color.copy(H.color).multiplyScalar(H.intensity*Y),H.castShadow){const lt=H.shadow,nt=s.get(H);nt.shadowBias=lt.bias,nt.shadowNormalBias=lt.normalBias,nt.shadowRadius=lt.radius,nt.shadowMapSize=lt.mapSize,n.directionalShadow[X]=nt,n.directionalShadowMap[X]=ot,n.directionalShadowMatrix[X]=H.shadow.matrix,M++}n.directional[X]=rt,X++}else if(H.isSpotLight){const rt=e.get(H);if(rt.position.setFromMatrixPosition(H.matrixWorld),rt.color.copy(j).multiplyScalar(mt*Y),rt.distance=st,rt.coneCos=Math.cos(H.angle),rt.penumbraCos=Math.cos(H.angle*(1-H.penumbra)),rt.decay=H.decay,H.castShadow){const lt=H.shadow,nt=s.get(H);nt.shadowBias=lt.bias,nt.shadowNormalBias=lt.normalBias,nt.shadowRadius=lt.radius,nt.shadowMapSize=lt.mapSize,n.spotShadow[W]=nt,n.spotShadowMap[W]=ot,n.spotShadowMatrix[W]=H.shadow.matrix,E++}n.spot[W]=rt,W++}else if(H.isRectAreaLight){const rt=e.get(H);rt.color.copy(j).multiplyScalar(mt),rt.halfWidth.set(H.width*.5,0,0),rt.halfHeight.set(0,H.height*.5,0),n.rectArea[S]=rt,S++}else if(H.isPointLight){const rt=e.get(H);if(rt.color.copy(H.color).multiplyScalar(H.intensity*Y),rt.distance=H.distance,rt.decay=H.decay,H.castShadow){const lt=H.shadow,nt=s.get(H);nt.shadowBias=lt.bias,nt.shadowNormalBias=lt.normalBias,nt.shadowRadius=lt.radius,nt.shadowMapSize=lt.mapSize,nt.shadowCameraNear=lt.camera.near,nt.shadowCameraFar=lt.camera.far,n.pointShadow[R]=nt,n.pointShadowMap[R]=ot,n.pointShadowMatrix[R]=H.shadow.matrix,N++}n.point[R]=rt,R++}else if(H.isHemisphereLight){const rt=e.get(H);rt.skyColor.copy(H.color).multiplyScalar(mt*Y),rt.groundColor.copy(H.groundColor).multiplyScalar(mt*Y),n.hemi[F]=rt,F++}}S>0&&(i.isWebGL2||t.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=Jt.LTC_FLOAT_1,n.rectAreaLTC2=Jt.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(n.rectAreaLTC1=Jt.LTC_HALF_1,n.rectAreaLTC2=Jt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),n.ambient[0]=u,n.ambient[1]=p,n.ambient[2]=Z;const O=n.hash;(O.directionalLength!==X||O.pointLength!==R||O.spotLength!==W||O.rectAreaLength!==S||O.hemiLength!==F||O.numDirectionalShadows!==M||O.numPointShadows!==N||O.numSpotShadows!==E)&&(n.directional.length=X,n.spot.length=W,n.rectArea.length=S,n.point.length=R,n.hemi.length=F,n.directionalShadow.length=M,n.directionalShadowMap.length=M,n.pointShadow.length=N,n.pointShadowMap.length=N,n.spotShadow.length=E,n.spotShadowMap.length=E,n.directionalShadowMatrix.length=M,n.pointShadowMatrix.length=N,n.spotShadowMatrix.length=E,O.directionalLength=X,O.pointLength=R,O.spotLength=W,O.rectAreaLength=S,O.hemiLength=F,O.numDirectionalShadows=M,O.numPointShadows=N,O.numSpotShadows=E,n.version=uH++)}function c(h,d){let u=0,p=0,Z=0,X=0,R=0;const W=d.matrixWorldInverse;for(let S=0,F=h.length;S<F;S++){const M=h[S];if(M.isDirectionalLight){const N=n.directional[u];N.direction.setFromMatrixPosition(M.matrixWorld),l.setFromMatrixPosition(M.target.matrixWorld),N.direction.sub(l),N.direction.transformDirection(W),u++}else if(M.isSpotLight){const N=n.spot[Z];N.position.setFromMatrixPosition(M.matrixWorld),N.position.applyMatrix4(W),N.direction.setFromMatrixPosition(M.matrixWorld),l.setFromMatrixPosition(M.target.matrixWorld),N.direction.sub(l),N.direction.transformDirection(W),Z++}else if(M.isRectAreaLight){const N=n.rectArea[X];N.position.setFromMatrixPosition(M.matrixWorld),N.position.applyMatrix4(W),a.identity(),r.copy(M.matrixWorld),r.premultiply(W),a.extractRotation(r),N.halfWidth.set(M.width*.5,0,0),N.halfHeight.set(0,M.height*.5,0),N.halfWidth.applyMatrix4(a),N.halfHeight.applyMatrix4(a),X++}else if(M.isPointLight){const N=n.point[p];N.position.setFromMatrixPosition(M.matrixWorld),N.position.applyMatrix4(W),p++}else if(M.isHemisphereLight){const N=n.hemi[R];N.direction.setFromMatrixPosition(M.matrixWorld),N.direction.transformDirection(W),N.direction.normalize(),R++}}}return{setup:o,setupView:c,state:n}}function Mb(t,i){const e=new mH(t,i),s=[],n=[];function l(){s.length=0,n.length=0}function r(d){s.push(d)}function a(d){n.push(d)}function o(d){e.setup(s,d)}function c(d){e.setupView(s,d)}return{init:l,state:{lightsArray:s,shadowsArray:n,lights:e},setupLights:o,setupLightsView:c,pushLight:r,pushShadow:a}}function bH(t,i){let e=new WeakMap;function s(l,r=0){let a;return e.has(l)===!1?(a=new Mb(t,i),e.set(l,[a])):r>=e.get(l).length?(a=new Mb(t,i),e.get(l).push(a)):a=e.get(l)[r],a}function n(){e=new WeakMap}return{get:s,dispose:n}}class Zu extends Ks{constructor(i){super();this.type="MeshDepthMaterial",this.depthPacking=_Y,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(i)}copy(i){return super.copy(i),this.depthPacking=i.depthPacking,this.map=i.map,this.alphaMap=i.alphaMap,this.displacementMap=i.displacementMap,this.displacementScale=i.displacementScale,this.displacementBias=i.displacementBias,this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this}}Zu.prototype.isMeshDepthMaterial=!0;class Xu extends Ks{constructor(i){super();this.type="MeshDistanceMaterial",this.referencePosition=new z,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(i)}copy(i){return super.copy(i),this.referencePosition.copy(i.referencePosition),this.nearDistance=i.nearDistance,this.farDistance=i.farDistance,this.map=i.map,this.alphaMap=i.alphaMap,this.displacementMap=i.displacementMap,this.displacementScale=i.displacementScale,this.displacementBias=i.displacementBias,this}}Xu.prototype.isMeshDistanceMaterial=!0;const yH=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,GH=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Yb(t,i,e){let s=new oo;const n=new Wt,l=new Wt,r=new Ut,a=new Zu({depthPacking:qY}),o=new Xu,c={},h=e.maxTextureSize,d={0:gi,1:ll,2:pi},u=new ri({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Wt},radius:{value:4}},vertexShader:yH,fragmentShader:GH}),p=u.clone();p.defines.HORIZONTAL_PASS=1;const Z=new Re;Z.setAttribute("position",new Ne(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const X=new ns(Z,u),R=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=l0,this.render=function(M,N,E){if(R.enabled===!1||R.autoUpdate===!1&&R.needsUpdate===!1||M.length===0)return;const Y=t.getRenderTarget(),O=t.getActiveCubeFace(),q=t.getActiveMipmapLevel(),$=t.state;$.setBlending(un),$.buffers.color.setClear(1,1,1,1),$.buffers.depth.setTest(!0),$.setScissorTest(!1);for(let H=0,j=M.length;H<j;H++){const mt=M[H],st=mt.shadow;if(st===void 0){console.warn("THREE.WebGLShadowMap:",mt,"has no shadow.");continue}if(st.autoUpdate===!1&&st.needsUpdate===!1)continue;n.copy(st.mapSize);const ot=st.getFrameExtents();if(n.multiply(ot),l.copy(st.mapSize),(n.x>h||n.y>h)&&(n.x>h&&(l.x=Math.floor(h/ot.x),n.x=l.x*ot.x,st.mapSize.x=l.x),n.y>h&&(l.y=Math.floor(h/ot.y),n.y=l.y*ot.y,st.mapSize.y=l.y)),st.map===null&&!st.isPointLightShadow&&this.type===Qa&&(st.map=new _s(n.x,n.y),st.map.texture.name=mt.name+".shadowMap",st.mapPass=new _s(n.x,n.y),st.camera.updateProjectionMatrix()),st.map===null){const lt={minFilter:ds,magFilter:ds,format:li};st.map=new _s(n.x,n.y,lt),st.map.texture.name=mt.name+".shadowMap",st.camera.updateProjectionMatrix()}t.setRenderTarget(st.map),t.clear();const rt=st.getViewportCount();for(let lt=0;lt<rt;lt++){const nt=st.getViewport(lt);r.set(l.x*nt.x,l.y*nt.y,l.x*nt.z,l.y*nt.w),$.viewport(r),st.updateMatrices(mt,lt),s=st.getFrustum(),F(N,E,st.camera,mt,this.type)}!st.isPointLightShadow&&this.type===Qa&&W(st,E),st.needsUpdate=!1}R.needsUpdate=!1,t.setRenderTarget(Y,O,q)};function W(M,N){const E=i.update(X);u.defines.VSM_SAMPLES!==M.blurSamples&&(u.defines.VSM_SAMPLES=M.blurSamples,p.defines.VSM_SAMPLES=M.blurSamples,u.needsUpdate=!0,p.needsUpdate=!0),u.uniforms.shadow_pass.value=M.map.texture,u.uniforms.resolution.value=M.mapSize,u.uniforms.radius.value=M.radius,t.setRenderTarget(M.mapPass),t.clear(),t.renderBufferDirect(N,null,E,u,X,null),p.uniforms.shadow_pass.value=M.mapPass.texture,p.uniforms.resolution.value=M.mapSize,p.uniforms.radius.value=M.radius,t.setRenderTarget(M.map),t.clear(),t.renderBufferDirect(N,null,E,p,X,null)}function S(M,N,E,Y,O,q){let $=null;const H=E.isPointLight===!0?M.customDistanceMaterial:M.customDepthMaterial;if(H!==void 0?$=H:$=E.isPointLight===!0?o:a,t.localClippingEnabled&&N.clipShadows===!0&&N.clippingPlanes.length!==0||N.displacementMap&&N.displacementScale!==0||N.alphaMap&&N.alphaTest>0){const j=$.uuid,mt=N.uuid;let st=c[j];st===void 0&&(st={},c[j]=st);let ot=st[mt];ot===void 0&&(ot=$.clone(),st[mt]=ot),$=ot}return $.visible=N.visible,$.wireframe=N.wireframe,q===Qa?$.side=N.shadowSide!==null?N.shadowSide:N.side:$.side=N.shadowSide!==null?N.shadowSide:d[N.side],$.alphaMap=N.alphaMap,$.alphaTest=N.alphaTest,$.clipShadows=N.clipShadows,$.clippingPlanes=N.clippingPlanes,$.clipIntersection=N.clipIntersection,$.displacementMap=N.displacementMap,$.displacementScale=N.displacementScale,$.displacementBias=N.displacementBias,$.wireframeLinewidth=N.wireframeLinewidth,$.linewidth=N.linewidth,E.isPointLight===!0&&$.isMeshDistanceMaterial===!0&&($.referencePosition.setFromMatrixPosition(E.matrixWorld),$.nearDistance=Y,$.farDistance=O),$}function F(M,N,E,Y,O){if(M.visible===!1)return;if(M.layers.test(N.layers)&&(M.isMesh||M.isLine||M.isPoints)&&(M.castShadow||M.receiveShadow&&O===Qa)&&(!M.frustumCulled||s.intersectsObject(M))){M.modelViewMatrix.multiplyMatrices(E.matrixWorldInverse,M.matrixWorld);const H=i.update(M),j=M.material;if(Array.isArray(j)){const mt=H.groups;for(let st=0,ot=mt.length;st<ot;st++){const rt=mt[st],lt=j[rt.materialIndex];if(lt&&lt.visible){const nt=S(M,lt,Y,E.near,E.far,O);t.renderBufferDirect(E,null,H,nt,M,rt)}}}else if(j.visible){const mt=S(M,j,Y,E.near,E.far,O);t.renderBufferDirect(E,null,H,mt,M,null)}}const $=M.children;for(let H=0,j=$.length;H<j;H++)F($[H],N,E,Y,O)}}function ZH(t,i,e){const s=e.isWebGL2;function n(){let _=!1;const kt=new Ut;let zt=null;const me=new Ut(0,0,0,0);return{setMask:function(qt){zt!==qt&&!_&&(t.colorMask(qt,qt,qt,qt),zt=qt)},setLocked:function(qt){_=qt},setClear:function(qt,se,Pt,We,qe){qe===!0&&(qt*=We,se*=We,Pt*=We),kt.set(qt,se,Pt,We),me.equals(kt)===!1&&(t.clearColor(qt,se,Pt,We),me.copy(kt))},reset:function(){_=!1,zt=null,me.set(-1,0,0,0)}}}function l(){let _=!1,kt=null,zt=null,me=null;return{setTest:function(qt){qt?Xe(2929):Zt(2929)},setMask:function(qt){kt!==qt&&!_&&(t.depthMask(qt),kt=qt)},setFunc:function(qt){if(zt!==qt){if(qt)switch(qt){case GY:t.depthFunc(512);break;case ZY:t.depthFunc(519);break;case XY:t.depthFunc(513);break;case _a:t.depthFunc(515);break;case TY:t.depthFunc(514);break;case RY:t.depthFunc(518);break;case IY:t.depthFunc(516);break;case gY:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);zt=qt}},setLocked:function(qt){_=qt},setClear:function(qt){me!==qt&&(t.clearDepth(qt),me=qt)},reset:function(){_=!1,kt=null,zt=null,me=null}}}function r(){let _=!1,kt=null,zt=null,me=null,qt=null,se=null,Pt=null,We=null,qe=null;return{setTest:function(Ze){_||(Ze?Xe(2960):Zt(2960))},setMask:function(Ze){kt!==Ze&&!_&&(t.stencilMask(Ze),kt=Ze)},setFunc:function(Ze,ei,Zi){(zt!==Ze||me!==ei||qt!==Zi)&&(t.stencilFunc(Ze,ei,Zi),zt=Ze,me=ei,qt=Zi)},setOp:function(Ze,ei,Zi){(se!==Ze||Pt!==ei||We!==Zi)&&(t.stencilOp(Ze,ei,Zi),se=Ze,Pt=ei,We=Zi)},setLocked:function(Ze){_=Ze},setClear:function(Ze){qe!==Ze&&(t.clearStencil(Ze),qe=Ze)},reset:function(){_=!1,kt=null,zt=null,me=null,qt=null,se=null,Pt=null,We=null,qe=null}}}const a=new n,o=new l,c=new r;let h={},d={},u=new WeakMap,p=[],Z=null,X=!1,R=null,W=null,S=null,F=null,M=null,N=null,E=null,Y=!1,O=null,q=null,$=null,H=null,j=null;const mt=t.getParameter(35661);let st=!1,ot=0;const rt=t.getParameter(7938);rt.indexOf("WebGL")!==-1?(ot=parseFloat(/^WebGL (\d)/.exec(rt)[1]),st=ot>=1):rt.indexOf("OpenGL ES")!==-1&&(ot=parseFloat(/^OpenGL ES (\d)/.exec(rt)[1]),st=ot>=2);let lt=null,nt={};const Gt=t.getParameter(3088),gt=t.getParameter(2978),Mt=new Ut().fromArray(Gt),Ct=new Ut().fromArray(gt);function wt(_,kt,zt){const me=new Uint8Array(4),qt=t.createTexture();t.bindTexture(_,qt),t.texParameteri(_,10241,9728),t.texParameteri(_,10240,9728);for(let se=0;se<zt;se++)t.texImage2D(kt+se,0,6408,1,1,0,6408,5121,me);return qt}const Me={};Me[3553]=wt(3553,3553,1),Me[34067]=wt(34067,34069,6),a.setClear(0,0,0,1),o.setClear(1),c.setClear(0),Xe(2929),o.setFunc(_a),at(!1),jt(n0),Xe(2884),bt(un);function Xe(_){h[_]!==!0&&(t.enable(_),h[_]=!0)}function Zt(_){h[_]!==!1&&(t.disable(_),h[_]=!1)}function Oe(_,kt){return d[_]!==kt?(t.bindFramebuffer(_,kt),d[_]=kt,s&&(_===36009&&(d[36160]=kt),_===36160&&(d[36009]=kt)),!0):!1}function Se(_,kt){let zt=p,me=!1;if(_)if(zt=u.get(kt),zt===void 0&&(zt=[],u.set(kt,zt)),_.isWebGLMultipleRenderTargets){const qt=_.texture;if(zt.length!==qt.length||zt[0]!==36064){for(let se=0,Pt=qt.length;se<Pt;se++)zt[se]=36064+se;zt.length=qt.length,me=!0}}else zt[0]!==36064&&(zt[0]=36064,me=!0);else zt[0]!==1029&&(zt[0]=1029,me=!0);me&&(e.isWebGL2?t.drawBuffers(zt):i.get("WEBGL_draw_buffers").drawBuffersWEBGL(zt))}function ye(_){return Z!==_?(t.useProgram(_),Z=_,!0):!1}const Lt={[Wr]:32774,[rY]:32778,[aY]:32779};if(s)Lt[c0]=32775,Lt[h0]=32776;else{const _=i.get("EXT_blend_minmax");_!==null&&(Lt[c0]=_.MIN_EXT,Lt[h0]=_.MAX_EXT)}const ce={[oY]:0,[cY]:1,[hY]:768,[d0]:770,[yY]:776,[mY]:774,[uY]:772,[dY]:769,[u0]:771,[bY]:775,[pY]:773};function bt(_,kt,zt,me,qt,se,Pt,We){if(_===un){X===!0&&(Zt(3042),X=!1);return}if(X===!1&&(Xe(3042),X=!0),_!==lY){if(_!==R||We!==Y){if((W!==Wr||M!==Wr)&&(t.blendEquation(32774),W=Wr,M=Wr),We)switch(_){case gr:t.blendFuncSeparate(1,771,1,771);break;case Rc:t.blendFunc(1,1);break;case a0:t.blendFuncSeparate(0,769,0,1);break;case o0:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",_);break}else switch(_){case gr:t.blendFuncSeparate(770,771,1,771);break;case Rc:t.blendFunc(770,1);break;case a0:t.blendFuncSeparate(0,769,0,1);break;case o0:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",_);break}S=null,F=null,N=null,E=null,R=_,Y=We}return}qt=qt||kt,se=se||zt,Pt=Pt||me,(kt!==W||qt!==M)&&(t.blendEquationSeparate(Lt[kt],Lt[qt]),W=kt,M=qt),(zt!==S||me!==F||se!==N||Pt!==E)&&(t.blendFuncSeparate(ce[zt],ce[me],ce[se],ce[Pt]),S=zt,F=me,N=se,E=Pt),R=_,Y=null}function Xt(_,kt){_.side===pi?Zt(2884):Xe(2884);let zt=_.side===gi;kt&&(zt=!zt),at(zt),_.blending===gr&&_.transparent===!1?bt(un):bt(_.blending,_.blendEquation,_.blendSrc,_.blendDst,_.blendEquationAlpha,_.blendSrcAlpha,_.blendDstAlpha,_.premultipliedAlpha),o.setFunc(_.depthFunc),o.setTest(_.depthTest),o.setMask(_.depthWrite),a.setMask(_.colorWrite);const me=_.stencilWrite;c.setTest(me),me&&(c.setMask(_.stencilWriteMask),c.setFunc(_.stencilFunc,_.stencilRef,_.stencilFuncMask),c.setOp(_.stencilFail,_.stencilZFail,_.stencilZPass)),Le(_.polygonOffset,_.polygonOffsetFactor,_.polygonOffsetUnits),_.alphaToCoverage===!0?Xe(32926):Zt(32926)}function at(_){O!==_&&(_?t.frontFace(2304):t.frontFace(2305),O=_)}function jt(_){_!==sY?(Xe(2884),_!==q&&(_===n0?t.cullFace(1029):_===iY?t.cullFace(1028):t.cullFace(1032))):Zt(2884),q=_}function Ot(_){_!==$&&(st&&t.lineWidth(_),$=_)}function Le(_,kt,zt){_?(Xe(32823),(H!==kt||j!==zt)&&(t.polygonOffset(kt,zt),H=kt,j=zt)):Zt(32823)}function Ge(_){_?Xe(3089):Zt(3089)}function ae(_){_===void 0&&(_=33984+mt-1),lt!==_&&(t.activeTexture(_),lt=_)}function cs(_,kt){lt===null&&ae();let zt=nt[lt];zt===void 0&&(zt={type:void 0,texture:void 0},nt[lt]=zt),(zt.type!==_||zt.texture!==kt)&&(t.bindTexture(_,kt||Me[_]),zt.type=_,zt.texture=kt)}function _e(){const _=nt[lt];_!==void 0&&_.type!==void 0&&(t.bindTexture(_.type,null),_.type=void 0,_.texture=void 0)}function B(){try{t.compressedTexImage2D.apply(t,arguments)}catch(_){console.error("THREE.WebGLState:",_)}}function U(){try{t.texSubImage2D.apply(t,arguments)}catch(_){console.error("THREE.WebGLState:",_)}}function ht(){try{t.texSubImage3D.apply(t,arguments)}catch(_){console.error("THREE.WebGLState:",_)}}function xt(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(_){console.error("THREE.WebGLState:",_)}}function Dt(){try{t.texStorage2D.apply(t,arguments)}catch(_){console.error("THREE.WebGLState:",_)}}function $t(){try{t.texStorage3D.apply(t,arguments)}catch(_){console.error("THREE.WebGLState:",_)}}function pe(){try{t.texImage2D.apply(t,arguments)}catch(_){console.error("THREE.WebGLState:",_)}}function yt(){try{t.texImage3D.apply(t,arguments)}catch(_){console.error("THREE.WebGLState:",_)}}function Ce(_){Mt.equals(_)===!1&&(t.scissor(_.x,_.y,_.z,_.w),Mt.copy(_))}function xe(_){Ct.equals(_)===!1&&(t.viewport(_.x,_.y,_.z,_.w),Ct.copy(_))}function ie(){t.disable(3042),t.disable(2884),t.disable(2929),t.disable(32823),t.disable(3089),t.disable(2960),t.disable(32926),t.blendEquation(32774),t.blendFunc(1,0),t.blendFuncSeparate(1,0,1,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(513),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(519,0,4294967295),t.stencilOp(7680,7680,7680),t.clearStencil(0),t.cullFace(1029),t.frontFace(2305),t.polygonOffset(0,0),t.activeTexture(33984),t.bindFramebuffer(36160,null),s===!0&&(t.bindFramebuffer(36009,null),t.bindFramebuffer(36008,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),h={},lt=null,nt={},d={},u=new WeakMap,p=[],Z=null,X=!1,R=null,W=null,S=null,F=null,M=null,N=null,E=null,Y=!1,O=null,q=null,$=null,H=null,j=null,Mt.set(0,0,t.canvas.width,t.canvas.height),Ct.set(0,0,t.canvas.width,t.canvas.height),a.reset(),o.reset(),c.reset()}return{buffers:{color:a,depth:o,stencil:c},enable:Xe,disable:Zt,bindFramebuffer:Oe,drawBuffers:Se,useProgram:ye,setBlending:bt,setMaterial:Xt,setFlipSided:at,setCullFace:jt,setLineWidth:Ot,setPolygonOffset:Le,setScissorTest:Ge,activeTexture:ae,bindTexture:cs,unbindTexture:_e,compressedTexImage2D:B,texImage2D:pe,texImage3D:yt,texStorage2D:Dt,texStorage3D:$t,texSubImage2D:U,texSubImage3D:ht,compressedTexSubImage2D:xt,scissor:Ce,viewport:xe,reset:ie}}function XH(t,i,e,s,n,l,r){const a=n.isWebGL2,o=n.maxTextures,c=n.maxCubemapSize,h=n.maxTextureSize,d=n.maxSamples,u=i.has("WEBGL_multisampled_render_to_texture")?i.get("WEBGL_multisampled_render_to_texture"):null,p=/OculusBrowser/g.test(navigator.userAgent),Z=new WeakMap;let X;const R=new WeakMap;let W=!1;try{W=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function S(B,U){return W?new OffscreenCanvas(B,U):no("canvas")}function F(B,U,ht,xt){let Dt=1;if((B.width>xt||B.height>xt)&&(Dt=xt/Math.max(B.width,B.height)),Dt<1||U===!0)if(typeof HTMLImageElement<"u"&&B instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&B instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&B instanceof ImageBitmap){const $t=U?Vc:Math.floor,pe=$t(Dt*B.width),yt=$t(Dt*B.height);X===void 0&&(X=S(pe,yt));const Ce=ht?S(pe,yt):X;return Ce.width=pe,Ce.height=yt,Ce.getContext("2d").drawImage(B,0,0,pe,yt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+B.width+"x"+B.height+") to ("+pe+"x"+yt+")."),Ce}else return"data"in B&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+B.width+"x"+B.height+")."),B;return B}function M(B){return kd(B.width)&&kd(B.height)}function N(B){return a?!1:B.wrapS!==Bi||B.wrapT!==Bi||B.minFilter!==ds&&B.minFilter!==Es}function E(B,U){return B.generateMipmaps&&U&&B.minFilter!==ds&&B.minFilter!==Es}function Y(B){t.generateMipmap(B)}function O(B,U,ht,xt,Dt=!1){if(a===!1)return U;if(B!==null){if(t[B]!==void 0)return t[B];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+B+"'")}let $t=U;return U===6403&&(ht===5126&&($t=33326),ht===5131&&($t=33325),ht===5121&&($t=33321)),U===33319&&(ht===5126&&($t=33328),ht===5131&&($t=33327),ht===5121&&($t=33323)),U===6408&&(ht===5126&&($t=34836),ht===5131&&($t=34842),ht===5121&&($t=xt===Xs&&Dt===!1?35907:32856),ht===32819&&($t=32854),ht===32820&&($t=32855)),($t===33325||$t===33326||$t===33327||$t===33328||$t===34842||$t===34836)&&i.get("EXT_color_buffer_float"),$t}function q(B,U,ht){return E(B,ht)===!0||B.isFramebufferTexture&&B.minFilter!==ds&&B.minFilter!==Es?Math.log2(Math.max(U.width,U.height))+1:B.mipmaps!==void 0&&B.mipmaps.length>0?B.mipmaps.length:B.isCompressedTexture&&Array.isArray(B.image)?U.mipmaps.length:1}function $(B){return B===ds||B===m0||B===b0?9728:9729}function H(B){const U=B.target;U.removeEventListener("dispose",H),mt(U),U.isVideoTexture&&Z.delete(U)}function j(B){const U=B.target;U.removeEventListener("dispose",j),ot(U)}function mt(B){const U=s.get(B);if(U.__webglInit===void 0)return;const ht=B.source,xt=R.get(ht);if(xt){const Dt=xt[U.__cacheKey];Dt.usedTimes--,Dt.usedTimes===0&&st(B),Object.keys(xt).length===0&&R.delete(ht)}s.remove(B)}function st(B){const U=s.get(B);t.deleteTexture(U.__webglTexture);const ht=B.source,xt=R.get(ht);delete xt[U.__cacheKey],r.memory.textures--}function ot(B){const U=B.texture,ht=s.get(B),xt=s.get(U);if(xt.__webglTexture!==void 0&&(t.deleteTexture(xt.__webglTexture),r.memory.textures--),B.depthTexture&&B.depthTexture.dispose(),B.isWebGLCubeRenderTarget)for(let Dt=0;Dt<6;Dt++)t.deleteFramebuffer(ht.__webglFramebuffer[Dt]),ht.__webglDepthbuffer&&t.deleteRenderbuffer(ht.__webglDepthbuffer[Dt]);else t.deleteFramebuffer(ht.__webglFramebuffer),ht.__webglDepthbuffer&&t.deleteRenderbuffer(ht.__webglDepthbuffer),ht.__webglMultisampledFramebuffer&&t.deleteFramebuffer(ht.__webglMultisampledFramebuffer),ht.__webglColorRenderbuffer&&t.deleteRenderbuffer(ht.__webglColorRenderbuffer),ht.__webglDepthRenderbuffer&&t.deleteRenderbuffer(ht.__webglDepthRenderbuffer);if(B.isWebGLMultipleRenderTargets)for(let Dt=0,$t=U.length;Dt<$t;Dt++){const pe=s.get(U[Dt]);pe.__webglTexture&&(t.deleteTexture(pe.__webglTexture),r.memory.textures--),s.remove(U[Dt])}s.remove(U),s.remove(B)}let rt=0;function lt(){rt=0}function nt(){const B=rt;return B>=o&&console.warn("THREE.WebGLTextures: Trying to use "+B+" texture units while this GPU supports only "+o),rt+=1,B}function Gt(B){const U=[];return U.push(B.wrapS),U.push(B.wrapT),U.push(B.magFilter),U.push(B.minFilter),U.push(B.anisotropy),U.push(B.internalFormat),U.push(B.format),U.push(B.type),U.push(B.generateMipmaps),U.push(B.premultiplyAlpha),U.push(B.flipY),U.push(B.unpackAlignment),U.push(B.encoding),U.join()}function gt(B,U){const ht=s.get(B);if(B.isVideoTexture&&cs(B),B.isRenderTargetTexture===!1&&B.version>0&&ht.__version!==B.version){const xt=B.image;if(xt===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(xt.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Se(ht,B,U);return}}e.activeTexture(33984+U),e.bindTexture(3553,ht.__webglTexture)}function Mt(B,U){const ht=s.get(B);if(B.version>0&&ht.__version!==B.version){Se(ht,B,U);return}e.activeTexture(33984+U),e.bindTexture(35866,ht.__webglTexture)}function Ct(B,U){const ht=s.get(B);if(B.version>0&&ht.__version!==B.version){Se(ht,B,U);return}e.activeTexture(33984+U),e.bindTexture(32879,ht.__webglTexture)}function wt(B,U){const ht=s.get(B);if(B.version>0&&ht.__version!==B.version){ye(ht,B,U);return}e.activeTexture(33984+U),e.bindTexture(34067,ht.__webglTexture)}const Me={[xd]:10497,[Bi]:33071,[Nd]:33648},Xe={[ds]:9728,[m0]:9984,[b0]:9986,[Es]:9729,[NY]:9985,[Wc]:9987};function Zt(B,U,ht){if(ht?(t.texParameteri(B,10242,Me[U.wrapS]),t.texParameteri(B,10243,Me[U.wrapT]),(B===32879||B===35866)&&t.texParameteri(B,32882,Me[U.wrapR]),t.texParameteri(B,10240,Xe[U.magFilter]),t.texParameteri(B,10241,Xe[U.minFilter])):(t.texParameteri(B,10242,33071),t.texParameteri(B,10243,33071),(B===32879||B===35866)&&t.texParameteri(B,32882,33071),(U.wrapS!==Bi||U.wrapT!==Bi)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(B,10240,$(U.magFilter)),t.texParameteri(B,10241,$(U.minFilter)),U.minFilter!==ds&&U.minFilter!==Es&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),i.has("EXT_texture_filter_anisotropic")===!0){const xt=i.get("EXT_texture_filter_anisotropic");if(U.type===rl&&i.has("OES_texture_float_linear")===!1||a===!1&&U.type===Cr&&i.has("OES_texture_half_float_linear")===!1)return;(U.anisotropy>1||s.get(U).__currentAnisotropy)&&(t.texParameterf(B,xt.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(U.anisotropy,n.getMaxAnisotropy())),s.get(U).__currentAnisotropy=U.anisotropy)}}function Oe(B,U){let ht=!1;B.__webglInit===void 0&&(B.__webglInit=!0,U.addEventListener("dispose",H));const xt=U.source;let Dt=R.get(xt);Dt===void 0&&(Dt={},R.set(xt,Dt));const $t=Gt(U);if($t!==B.__cacheKey){Dt[$t]===void 0&&(Dt[$t]={texture:t.createTexture(),usedTimes:0},r.memory.textures++,ht=!0),Dt[$t].usedTimes++;const pe=Dt[B.__cacheKey];pe!==void 0&&(Dt[B.__cacheKey].usedTimes--,pe.usedTimes===0&&st(U)),B.__cacheKey=$t,B.__webglTexture=Dt[$t].texture}return ht}function Se(B,U,ht){let xt=3553;U.isDataArrayTexture&&(xt=35866),U.isData3DTexture&&(xt=32879);const Dt=Oe(B,U),$t=U.source;if(e.activeTexture(33984+ht),e.bindTexture(xt,B.__webglTexture),$t.version!==$t.__currentVersion||Dt===!0){t.pixelStorei(37440,U.flipY),t.pixelStorei(37441,U.premultiplyAlpha),t.pixelStorei(3317,U.unpackAlignment),t.pixelStorei(37443,0);const pe=N(U)&&M(U.image)===!1;let yt=F(U.image,pe,!1,h);yt=_e(U,yt);const Ce=M(yt)||a,xe=l.convert(U.format,U.encoding);let ie=l.convert(U.type),_=O(U.internalFormat,xe,ie,U.encoding,U.isVideoTexture);Zt(xt,U,Ce);let kt;const zt=U.mipmaps,me=a&&U.isVideoTexture!==!0,qt=B.__version===void 0,se=q(U,yt,Ce);if(U.isDepthTexture)_=6402,a?U.type===rl?_=36012:U.type===$a?_=33190:U.type===fr?_=35056:_=33189:U.type===rl&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),U.format===Pl&&_===6402&&U.type!==qa&&U.type!==$a&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),U.type=qa,ie=l.convert(U.type)),U.format===Vr&&_===6402&&(_=34041,U.type!==fr&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),U.type=fr,ie=l.convert(U.type))),me&&qt?e.texStorage2D(3553,1,_,yt.width,yt.height):e.texImage2D(3553,0,_,yt.width,yt.height,0,xe,ie,null);else if(U.isDataTexture)if(zt.length>0&&Ce){me&&qt&&e.texStorage2D(3553,se,_,zt[0].width,zt[0].height);for(let Pt=0,We=zt.length;Pt<We;Pt++)kt=zt[Pt],me?e.texSubImage2D(3553,Pt,0,0,kt.width,kt.height,xe,ie,kt.data):e.texImage2D(3553,Pt,_,kt.width,kt.height,0,xe,ie,kt.data);U.generateMipmaps=!1}else me?(qt&&e.texStorage2D(3553,se,_,yt.width,yt.height),e.texSubImage2D(3553,0,0,0,yt.width,yt.height,xe,ie,yt.data)):e.texImage2D(3553,0,_,yt.width,yt.height,0,xe,ie,yt.data);else if(U.isCompressedTexture){me&&qt&&e.texStorage2D(3553,se,_,zt[0].width,zt[0].height);for(let Pt=0,We=zt.length;Pt<We;Pt++)kt=zt[Pt],U.format!==li?xe!==null?me?e.compressedTexSubImage2D(3553,Pt,0,0,kt.width,kt.height,xe,kt.data):e.compressedTexImage2D(3553,Pt,_,kt.width,kt.height,0,kt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):me?e.texSubImage2D(3553,Pt,0,0,kt.width,kt.height,xe,ie,kt.data):e.texImage2D(3553,Pt,_,kt.width,kt.height,0,xe,ie,kt.data)}else if(U.isDataArrayTexture)me?(qt&&e.texStorage3D(35866,se,_,yt.width,yt.height,yt.depth),e.texSubImage3D(35866,0,0,0,0,yt.width,yt.height,yt.depth,xe,ie,yt.data)):e.texImage3D(35866,0,_,yt.width,yt.height,yt.depth,0,xe,ie,yt.data);else if(U.isData3DTexture)me?(qt&&e.texStorage3D(32879,se,_,yt.width,yt.height,yt.depth),e.texSubImage3D(32879,0,0,0,0,yt.width,yt.height,yt.depth,xe,ie,yt.data)):e.texImage3D(32879,0,_,yt.width,yt.height,yt.depth,0,xe,ie,yt.data);else if(U.isFramebufferTexture)me&&qt?e.texStorage2D(3553,se,_,yt.width,yt.height):e.texImage2D(3553,0,_,yt.width,yt.height,0,xe,ie,null);else if(zt.length>0&&Ce){me&&qt&&e.texStorage2D(3553,se,_,zt[0].width,zt[0].height);for(let Pt=0,We=zt.length;Pt<We;Pt++)kt=zt[Pt],me?e.texSubImage2D(3553,Pt,0,0,xe,ie,kt):e.texImage2D(3553,Pt,_,xe,ie,kt);U.generateMipmaps=!1}else me?(qt&&e.texStorage2D(3553,se,_,yt.width,yt.height),e.texSubImage2D(3553,0,0,0,xe,ie,yt)):e.texImage2D(3553,0,_,xe,ie,yt);E(U,Ce)&&Y(xt),$t.__currentVersion=$t.version,U.onUpdate&&U.onUpdate(U)}B.__version=U.version}function ye(B,U,ht){if(U.image.length!==6)return;const xt=Oe(B,U),Dt=U.source;if(e.activeTexture(33984+ht),e.bindTexture(34067,B.__webglTexture),Dt.version!==Dt.__currentVersion||xt===!0){t.pixelStorei(37440,U.flipY),t.pixelStorei(37441,U.premultiplyAlpha),t.pixelStorei(3317,U.unpackAlignment),t.pixelStorei(37443,0);const $t=U.isCompressedTexture||U.image[0].isCompressedTexture,pe=U.image[0]&&U.image[0].isDataTexture,yt=[];for(let Pt=0;Pt<6;Pt++)!$t&&!pe?yt[Pt]=F(U.image[Pt],!1,!0,c):yt[Pt]=pe?U.image[Pt].image:U.image[Pt],yt[Pt]=_e(U,yt[Pt]);const Ce=yt[0],xe=M(Ce)||a,ie=l.convert(U.format,U.encoding),_=l.convert(U.type),kt=O(U.internalFormat,ie,_,U.encoding),zt=a&&U.isVideoTexture!==!0,me=B.__version===void 0;let qt=q(U,Ce,xe);Zt(34067,U,xe);let se;if($t){zt&&me&&e.texStorage2D(34067,qt,kt,Ce.width,Ce.height);for(let Pt=0;Pt<6;Pt++){se=yt[Pt].mipmaps;for(let We=0;We<se.length;We++){const qe=se[We];U.format!==li?ie!==null?zt?e.compressedTexSubImage2D(34069+Pt,We,0,0,qe.width,qe.height,ie,qe.data):e.compressedTexImage2D(34069+Pt,We,kt,qe.width,qe.height,0,qe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):zt?e.texSubImage2D(34069+Pt,We,0,0,qe.width,qe.height,ie,_,qe.data):e.texImage2D(34069+Pt,We,kt,qe.width,qe.height,0,ie,_,qe.data)}}}else{se=U.mipmaps,zt&&me&&(se.length>0&&qt++,e.texStorage2D(34067,qt,kt,yt[0].width,yt[0].height));for(let Pt=0;Pt<6;Pt++)if(pe){zt?e.texSubImage2D(34069+Pt,0,0,0,yt[Pt].width,yt[Pt].height,ie,_,yt[Pt].data):e.texImage2D(34069+Pt,0,kt,yt[Pt].width,yt[Pt].height,0,ie,_,yt[Pt].data);for(let We=0;We<se.length;We++){const Ze=se[We].image[Pt].image;zt?e.texSubImage2D(34069+Pt,We+1,0,0,Ze.width,Ze.height,ie,_,Ze.data):e.texImage2D(34069+Pt,We+1,kt,Ze.width,Ze.height,0,ie,_,Ze.data)}}else{zt?e.texSubImage2D(34069+Pt,0,0,0,ie,_,yt[Pt]):e.texImage2D(34069+Pt,0,kt,ie,_,yt[Pt]);for(let We=0;We<se.length;We++){const qe=se[We];zt?e.texSubImage2D(34069+Pt,We+1,0,0,ie,_,qe.image[Pt]):e.texImage2D(34069+Pt,We+1,kt,ie,_,qe.image[Pt])}}}E(U,xe)&&Y(34067),Dt.__currentVersion=Dt.version,U.onUpdate&&U.onUpdate(U)}B.__version=U.version}function Lt(B,U,ht,xt,Dt){const $t=l.convert(ht.format,ht.encoding),pe=l.convert(ht.type),yt=O(ht.internalFormat,$t,pe,ht.encoding);s.get(U).__hasExternalTextures||(Dt===32879||Dt===35866?e.texImage3D(Dt,0,yt,U.width,U.height,U.depth,0,$t,pe,null):e.texImage2D(Dt,0,yt,U.width,U.height,0,$t,pe,null)),e.bindFramebuffer(36160,B),ae(U)?u.framebufferTexture2DMultisampleEXT(36160,xt,Dt,s.get(ht).__webglTexture,0,Ge(U)):t.framebufferTexture2D(36160,xt,Dt,s.get(ht).__webglTexture,0),e.bindFramebuffer(36160,null)}function ce(B,U,ht){if(t.bindRenderbuffer(36161,B),U.depthBuffer&&!U.stencilBuffer){let xt=33189;if(ht||ae(U)){const Dt=U.depthTexture;Dt&&Dt.isDepthTexture&&(Dt.type===rl?xt=36012:Dt.type===$a&&(xt=33190));const $t=Ge(U);ae(U)?u.renderbufferStorageMultisampleEXT(36161,$t,xt,U.width,U.height):t.renderbufferStorageMultisample(36161,$t,xt,U.width,U.height)}else t.renderbufferStorage(36161,xt,U.width,U.height);t.framebufferRenderbuffer(36160,36096,36161,B)}else if(U.depthBuffer&&U.stencilBuffer){const xt=Ge(U);ht&&ae(U)===!1?t.renderbufferStorageMultisample(36161,xt,35056,U.width,U.height):ae(U)?u.renderbufferStorageMultisampleEXT(36161,xt,35056,U.width,U.height):t.renderbufferStorage(36161,34041,U.width,U.height),t.framebufferRenderbuffer(36160,33306,36161,B)}else{const xt=U.isWebGLMultipleRenderTargets===!0?U.texture[0]:U.texture,Dt=l.convert(xt.format,xt.encoding),$t=l.convert(xt.type),pe=O(xt.internalFormat,Dt,$t,xt.encoding),yt=Ge(U);ht&&ae(U)===!1?t.renderbufferStorageMultisample(36161,yt,pe,U.width,U.height):ae(U)?u.renderbufferStorageMultisampleEXT(36161,yt,pe,U.width,U.height):t.renderbufferStorage(36161,pe,U.width,U.height)}t.bindRenderbuffer(36161,null)}function bt(B,U){if(U&&U.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,B),!(U.depthTexture&&U.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!s.get(U.depthTexture).__webglTexture||U.depthTexture.image.width!==U.width||U.depthTexture.image.height!==U.height)&&(U.depthTexture.image.width=U.width,U.depthTexture.image.height=U.height,U.depthTexture.needsUpdate=!0),gt(U.depthTexture,0);const xt=s.get(U.depthTexture).__webglTexture,Dt=Ge(U);if(U.depthTexture.format===Pl)ae(U)?u.framebufferTexture2DMultisampleEXT(36160,36096,3553,xt,0,Dt):t.framebufferTexture2D(36160,36096,3553,xt,0);else if(U.depthTexture.format===Vr)ae(U)?u.framebufferTexture2DMultisampleEXT(36160,33306,3553,xt,0,Dt):t.framebufferTexture2D(36160,33306,3553,xt,0);else throw new Error("Unknown depthTexture format")}function Xt(B){const U=s.get(B),ht=B.isWebGLCubeRenderTarget===!0;if(B.depthTexture&&!U.__autoAllocateDepthBuffer){if(ht)throw new Error("target.depthTexture not supported in Cube render targets");bt(U.__webglFramebuffer,B)}else if(ht){U.__webglDepthbuffer=[];for(let xt=0;xt<6;xt++)e.bindFramebuffer(36160,U.__webglFramebuffer[xt]),U.__webglDepthbuffer[xt]=t.createRenderbuffer(),ce(U.__webglDepthbuffer[xt],B,!1)}else e.bindFramebuffer(36160,U.__webglFramebuffer),U.__webglDepthbuffer=t.createRenderbuffer(),ce(U.__webglDepthbuffer,B,!1);e.bindFramebuffer(36160,null)}function at(B,U,ht){const xt=s.get(B);U!==void 0&&Lt(xt.__webglFramebuffer,B,B.texture,36064,3553),ht!==void 0&&Xt(B)}function jt(B){const U=B.texture,ht=s.get(B),xt=s.get(U);B.addEventListener("dispose",j),B.isWebGLMultipleRenderTargets!==!0&&(xt.__webglTexture===void 0&&(xt.__webglTexture=t.createTexture()),xt.__version=U.version,r.memory.textures++);const Dt=B.isWebGLCubeRenderTarget===!0,$t=B.isWebGLMultipleRenderTargets===!0,pe=M(B)||a;if(Dt){ht.__webglFramebuffer=[];for(let yt=0;yt<6;yt++)ht.__webglFramebuffer[yt]=t.createFramebuffer()}else if(ht.__webglFramebuffer=t.createFramebuffer(),$t)if(n.drawBuffers){const yt=B.texture;for(let Ce=0,xe=yt.length;Ce<xe;Ce++){const ie=s.get(yt[Ce]);ie.__webglTexture===void 0&&(ie.__webglTexture=t.createTexture(),r.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(a&&B.samples>0&&ae(B)===!1){ht.__webglMultisampledFramebuffer=t.createFramebuffer(),ht.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,ht.__webglColorRenderbuffer);const yt=l.convert(U.format,U.encoding),Ce=l.convert(U.type),xe=O(U.internalFormat,yt,Ce,U.encoding),ie=Ge(B);t.renderbufferStorageMultisample(36161,ie,xe,B.width,B.height),e.bindFramebuffer(36160,ht.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,ht.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),B.depthBuffer&&(ht.__webglDepthRenderbuffer=t.createRenderbuffer(),ce(ht.__webglDepthRenderbuffer,B,!0)),e.bindFramebuffer(36160,null)}if(Dt){e.bindTexture(34067,xt.__webglTexture),Zt(34067,U,pe);for(let yt=0;yt<6;yt++)Lt(ht.__webglFramebuffer[yt],B,U,36064,34069+yt);E(U,pe)&&Y(34067),e.unbindTexture()}else if($t){const yt=B.texture;for(let Ce=0,xe=yt.length;Ce<xe;Ce++){const ie=yt[Ce],_=s.get(ie);e.bindTexture(3553,_.__webglTexture),Zt(3553,ie,pe),Lt(ht.__webglFramebuffer,B,ie,36064+Ce,3553),E(ie,pe)&&Y(3553)}e.unbindTexture()}else{let yt=3553;(B.isWebGL3DRenderTarget||B.isWebGLArrayRenderTarget)&&(a?yt=B.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),e.bindTexture(yt,xt.__webglTexture),Zt(yt,U,pe),Lt(ht.__webglFramebuffer,B,U,36064,yt),E(U,pe)&&Y(yt),e.unbindTexture()}B.depthBuffer&&Xt(B)}function Ot(B){const U=M(B)||a,ht=B.isWebGLMultipleRenderTargets===!0?B.texture:[B.texture];for(let xt=0,Dt=ht.length;xt<Dt;xt++){const $t=ht[xt];if(E($t,U)){const pe=B.isWebGLCubeRenderTarget?34067:3553,yt=s.get($t).__webglTexture;e.bindTexture(pe,yt),Y(pe),e.unbindTexture()}}}function Le(B){if(a&&B.samples>0&&ae(B)===!1){const U=B.width,ht=B.height;let xt=16384;const Dt=[36064],$t=B.stencilBuffer?33306:36096;B.depthBuffer&&Dt.push($t);const pe=s.get(B),yt=pe.__ignoreDepthValues!==void 0?pe.__ignoreDepthValues:!1;yt===!1&&(B.depthBuffer&&(xt|=256),B.stencilBuffer&&(xt|=1024)),e.bindFramebuffer(36008,pe.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,pe.__webglFramebuffer),yt===!0&&(t.invalidateFramebuffer(36008,[$t]),t.invalidateFramebuffer(36009,[$t])),t.blitFramebuffer(0,0,U,ht,0,0,U,ht,xt,9728),p&&t.invalidateFramebuffer(36008,Dt),e.bindFramebuffer(36008,null),e.bindFramebuffer(36009,pe.__webglMultisampledFramebuffer)}}function Ge(B){return Math.min(d,B.samples)}function ae(B){const U=s.get(B);return a&&B.samples>0&&i.has("WEBGL_multisampled_render_to_texture")===!0&&U.__useRenderToTexture!==!1}function cs(B){const U=r.render.frame;Z.get(B)!==U&&(Z.set(B,U),B.update())}function _e(B,U){const ht=B.encoding,xt=B.format,Dt=B.type;return B.isCompressedTexture===!0||B.isVideoTexture===!0||B.format===Kd||ht!==zn&&(ht===Xs?a===!1?i.has("EXT_sRGB")===!0&&xt===li?(B.format=Kd,B.minFilter=Es,B.generateMipmaps=!1):U=Jl.sRGBToLinear(U):(xt!==li||Dt!==kl)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",ht)),U}this.allocateTextureUnit=nt,this.resetTextureUnits=lt,this.setTexture2D=gt,this.setTexture2DArray=Mt,this.setTexture3D=Ct,this.setTextureCube=wt,this.rebindTextures=at,this.setupRenderTarget=jt,this.updateRenderTargetMipmap=Ot,this.updateMultisampleRenderTarget=Le,this.setupDepthRenderbuffer=Xt,this.setupFrameBufferTexture=Lt,this.useMultisampledRTT=ae}function TH(t,i,e){const s=e.isWebGL2;function n(l,r=null){let a;if(l===kl)return 5121;if(l===vY)return 32819;if(l===EY)return 32820;if(l===FY)return 5120;if(l===MY)return 5122;if(l===qa)return 5123;if(l===YY)return 5124;if(l===$a)return 5125;if(l===rl)return 5126;if(l===Cr)return s?5131:(a=i.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(l===zY)return 6406;if(l===li)return 6408;if(l===KY)return 6409;if(l===wY)return 6410;if(l===Pl)return 6402;if(l===Vr)return 34041;if(l===kY)return 6403;if(l===HY)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(l===Kd)return a=i.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(l===PY)return 36244;if(l===UY)return 33319;if(l===DY)return 33320;if(l===JY)return 36249;if(l===Fd||l===Md||l===Yd||l===vd)if(r===Xs)if(a=i.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(l===Fd)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(l===Md)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(l===Yd)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(l===vd)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=i.get("WEBGL_compressed_texture_s3tc"),a!==null){if(l===Fd)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(l===Md)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(l===Yd)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(l===vd)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(l===y0||l===G0||l===Z0||l===X0)if(a=i.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(l===y0)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(l===G0)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(l===Z0)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(l===X0)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(l===OY)return a=i.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(l===T0||l===R0)if(a=i.get("WEBGL_compressed_texture_etc"),a!==null){if(l===T0)return r===Xs?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(l===R0)return r===Xs?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(l===I0||l===g0||l===W0||l===L0||l===S0||l===C0||l===f0||l===V0||l===x0||l===N0||l===F0||l===M0||l===Y0||l===v0)if(a=i.get("WEBGL_compressed_texture_astc"),a!==null){if(l===I0)return r===Xs?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(l===g0)return r===Xs?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(l===W0)return r===Xs?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(l===L0)return r===Xs?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(l===S0)return r===Xs?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(l===C0)return r===Xs?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(l===f0)return r===Xs?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(l===V0)return r===Xs?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(l===x0)return r===Xs?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(l===N0)return r===Xs?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(l===F0)return r===Xs?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(l===M0)return r===Xs?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(l===Y0)return r===Xs?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(l===v0)return r===Xs?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(l===E0)if(a=i.get("EXT_texture_compression_bptc"),a!==null){if(l===E0)return r===Xs?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(l===fr)return s?34042:(a=i.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:n}}class vb extends ai{constructor(i=[]){super();this.cameras=i}}vb.prototype.isArrayCamera=!0;class Si extends we{constructor(){super();this.type="Group"}}Si.prototype.isGroup=!0;const RH={type:"move"};class Tu{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Si,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Si,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new z,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new z),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Si,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new z,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new z),this._grip}dispatchEvent(i){return this._targetRay!==null&&this._targetRay.dispatchEvent(i),this._grip!==null&&this._grip.dispatchEvent(i),this._hand!==null&&this._hand.dispatchEvent(i),this}disconnect(i){return this.dispatchEvent({type:"disconnected",data:i}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(i,e,s){let n=null,l=null,r=null;const a=this._targetRay,o=this._grip,c=this._hand;if(i&&e.session.visibilityState!=="visible-blurred")if(a!==null&&(n=e.getPose(i.targetRaySpace,s),n!==null&&(a.matrix.fromArray(n.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),n.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(n.linearVelocity)):a.hasLinearVelocity=!1,n.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(n.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(RH))),c&&i.hand){r=!0;for(const X of i.hand.values()){const R=e.getJointPose(X,s);if(c.joints[X.jointName]===void 0){const S=new Si;S.matrixAutoUpdate=!1,S.visible=!1,c.joints[X.jointName]=S,c.add(S)}const W=c.joints[X.jointName];R!==null&&(W.matrix.fromArray(R.transform.matrix),W.matrix.decompose(W.position,W.rotation,W.scale),W.jointRadius=R.radius),W.visible=R!==null}const h=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],u=h.position.distanceTo(d.position),p=.02,Z=.005;c.inputState.pinching&&u>p+Z?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:i.handedness,target:this})):!c.inputState.pinching&&u<=p-Z&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:i.handedness,target:this}))}else o!==null&&i.gripSpace&&(l=e.getPose(i.gripSpace,s),l!==null&&(o.matrix.fromArray(l.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),l.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(l.linearVelocity)):o.hasLinearVelocity=!1,l.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(l.angularVelocity)):o.hasAngularVelocity=!1));return a!==null&&(a.visible=n!==null),o!==null&&(o.visible=l!==null),c!==null&&(c.visible=r!==null),this}}class Ru extends Ls{constructor(i,e,s,n,l,r,a,o,c,h){if(h=h!==void 0?h:Pl,h!==Pl&&h!==Vr)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");s===void 0&&h===Pl&&(s=qa),s===void 0&&h===Vr&&(s=fr);super(null,n,l,r,a,o,h,s,c);this.image={width:i,height:e},this.magFilter=a!==void 0?a:ds,this.minFilter=o!==void 0?o:ds,this.flipY=!1,this.generateMipmaps=!1}}Ru.prototype.isDepthTexture=!0;class IH extends Kn{constructor(i,e){super();const s=this;let n=null,l=1,r=null,a="local-floor",o=null,c=null,h=null,d=null,u=null;const p=e.getContextAttributes();let Z=null,X=null;const R=[],W=new Map,S=new ai;S.layers.enable(1),S.viewport=new Ut;const F=new ai;F.layers.enable(2),F.viewport=new Ut;const M=[S,F],N=new vb;N.layers.enable(1),N.layers.enable(2);let E=null,Y=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(nt){let Gt=R[nt];return Gt===void 0&&(Gt=new Tu,R[nt]=Gt),Gt.getTargetRaySpace()},this.getControllerGrip=function(nt){let Gt=R[nt];return Gt===void 0&&(Gt=new Tu,R[nt]=Gt),Gt.getGripSpace()},this.getHand=function(nt){let Gt=R[nt];return Gt===void 0&&(Gt=new Tu,R[nt]=Gt),Gt.getHandSpace()};function O(nt){const Gt=W.get(nt.inputSource);Gt&&Gt.dispatchEvent({type:nt.type,data:nt.inputSource})}function q(){W.forEach(function(nt,Gt){nt.disconnect(Gt)}),W.clear(),E=null,Y=null,i.setRenderTarget(Z),d=null,h=null,c=null,n=null,X=null,lt.stop(),s.isPresenting=!1,s.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(nt){l=nt,s.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(nt){a=nt,s.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return r},this.getBaseLayer=function(){return h!==null?h:d},this.getBinding=function(){return c},this.getFrame=function(){return u},this.getSession=function(){return n},this.setSession=async function(nt){if(n=nt,n!==null){if(Z=i.getRenderTarget(),n.addEventListener("select",O),n.addEventListener("selectstart",O),n.addEventListener("selectend",O),n.addEventListener("squeeze",O),n.addEventListener("squeezestart",O),n.addEventListener("squeezeend",O),n.addEventListener("end",q),n.addEventListener("inputsourceschange",$),p.xrCompatible!==!0&&await e.makeXRCompatible(),n.renderState.layers===void 0||i.capabilities.isWebGL2===!1){const Gt={antialias:n.renderState.layers===void 0?p.antialias:!0,alpha:p.alpha,depth:p.depth,stencil:p.stencil,framebufferScaleFactor:l};d=new XRWebGLLayer(n,e,Gt),n.updateRenderState({baseLayer:d}),X=new _s(d.framebufferWidth,d.framebufferHeight,{format:li,type:kl,encoding:i.outputEncoding})}else{let Gt=null,gt=null,Mt=null;p.depth&&(Mt=p.stencil?35056:33190,Gt=p.stencil?Vr:Pl,gt=p.stencil?fr:qa);const Ct={colorFormat:i.outputEncoding===Xs?35907:32856,depthFormat:Mt,scaleFactor:l};c=new XRWebGLBinding(n,e),h=c.createProjectionLayer(Ct),n.updateRenderState({layers:[h]}),X=new _s(h.textureWidth,h.textureHeight,{format:li,type:kl,depthTexture:new Ru(h.textureWidth,h.textureHeight,gt,void 0,void 0,void 0,void 0,void 0,void 0,Gt),stencilBuffer:p.stencil,encoding:i.outputEncoding,samples:p.antialias?4:0});const wt=i.properties.get(X);wt.__ignoreDepthValues=h.ignoreDepthValues}X.isXRRenderTarget=!0,this.setFoveation(1),r=await n.requestReferenceSpace(a),lt.setContext(n),lt.start(),s.isPresenting=!0,s.dispatchEvent({type:"sessionstart"})}};function $(nt){const Gt=n.inputSources;for(let gt=0;gt<R.length;gt++)W.set(Gt[gt],R[gt]);for(let gt=0;gt<nt.removed.length;gt++){const Mt=nt.removed[gt],Ct=W.get(Mt);Ct&&(Ct.dispatchEvent({type:"disconnected",data:Mt}),W.delete(Mt))}for(let gt=0;gt<nt.added.length;gt++){const Mt=nt.added[gt],Ct=W.get(Mt);Ct&&Ct.dispatchEvent({type:"connected",data:Mt})}}const H=new z,j=new z;function mt(nt,Gt,gt){H.setFromMatrixPosition(Gt.matrixWorld),j.setFromMatrixPosition(gt.matrixWorld);const Mt=H.distanceTo(j),Ct=Gt.projectionMatrix.elements,wt=gt.projectionMatrix.elements,Me=Ct[14]/(Ct[10]-1),Xe=Ct[14]/(Ct[10]+1),Zt=(Ct[9]+1)/Ct[5],Oe=(Ct[9]-1)/Ct[5],Se=(Ct[8]-1)/Ct[0],ye=(wt[8]+1)/wt[0],Lt=Me*Se,ce=Me*ye,bt=Mt/(-Se+ye),Xt=bt*-Se;Gt.matrixWorld.decompose(nt.position,nt.quaternion,nt.scale),nt.translateX(Xt),nt.translateZ(bt),nt.matrixWorld.compose(nt.position,nt.quaternion,nt.scale),nt.matrixWorldInverse.copy(nt.matrixWorld).invert();const at=Me+bt,jt=Xe+bt,Ot=Lt-Xt,Le=ce+(Mt-Xt),Ge=Zt*Xe/jt*at,ae=Oe*Xe/jt*at;nt.projectionMatrix.makePerspective(Ot,Le,Ge,ae,at,jt)}function st(nt,Gt){Gt===null?nt.matrixWorld.copy(nt.matrix):nt.matrixWorld.multiplyMatrices(Gt.matrixWorld,nt.matrix),nt.matrixWorldInverse.copy(nt.matrixWorld).invert()}this.updateCamera=function(nt){if(n===null)return;N.near=F.near=S.near=nt.near,N.far=F.far=S.far=nt.far,(E!==N.near||Y!==N.far)&&(n.updateRenderState({depthNear:N.near,depthFar:N.far}),E=N.near,Y=N.far);const Gt=nt.parent,gt=N.cameras;st(N,Gt);for(let Ct=0;Ct<gt.length;Ct++)st(gt[Ct],Gt);N.matrixWorld.decompose(N.position,N.quaternion,N.scale),nt.position.copy(N.position),nt.quaternion.copy(N.quaternion),nt.scale.copy(N.scale),nt.matrix.copy(N.matrix),nt.matrixWorld.copy(N.matrixWorld);const Mt=nt.children;for(let Ct=0,wt=Mt.length;Ct<wt;Ct++)Mt[Ct].updateMatrixWorld(!0);gt.length===2?mt(N,S,F):N.projectionMatrix.copy(S.projectionMatrix)},this.getCamera=function(){return N},this.getFoveation=function(){if(h!==null)return h.fixedFoveation;if(d!==null)return d.fixedFoveation},this.setFoveation=function(nt){h!==null&&(h.fixedFoveation=nt),d!==null&&d.fixedFoveation!==void 0&&(d.fixedFoveation=nt)};let ot=null;function rt(nt,Gt){if(o=Gt.getViewerPose(r),u=Gt,o!==null){const Mt=o.views;d!==null&&(i.setRenderTargetFramebuffer(X,d.framebuffer),i.setRenderTarget(X));let Ct=!1;Mt.length!==N.cameras.length&&(N.cameras.length=0,Ct=!0);for(let wt=0;wt<Mt.length;wt++){const Me=Mt[wt];let Xe=null;if(d!==null)Xe=d.getViewport(Me);else{const Oe=c.getViewSubImage(h,Me);Xe=Oe.viewport,wt===0&&(i.setRenderTargetTextures(X,Oe.colorTexture,h.ignoreDepthValues?void 0:Oe.depthStencilTexture),i.setRenderTarget(X))}const Zt=M[wt];Zt.matrix.fromArray(Me.transform.matrix),Zt.projectionMatrix.fromArray(Me.projectionMatrix),Zt.viewport.set(Xe.x,Xe.y,Xe.width,Xe.height),wt===0&&N.matrix.copy(Zt.matrix),Ct===!0&&N.cameras.push(Zt)}}const gt=n.inputSources;for(let Mt=0;Mt<R.length;Mt++){const Ct=R[Mt],wt=gt[Mt];Ct.update(wt,Gt,r)}ot&&ot(nt,Gt),u=null}const lt=new nb;lt.setAnimationLoop(rt),this.setAnimationLoop=function(nt){ot=nt},this.dispose=function(){}}}function gH(t,i){function e(X,R){X.fogColor.value.copy(R.color),R.isFog?(X.fogNear.value=R.near,X.fogFar.value=R.far):R.isFogExp2&&(X.fogDensity.value=R.density)}function s(X,R,W,S,F){R.isMeshBasicMaterial||R.isMeshLambertMaterial?n(X,R):R.isMeshToonMaterial?(n(X,R),h(X,R)):R.isMeshPhongMaterial?(n(X,R),c(X,R)):R.isMeshStandardMaterial?(n(X,R),d(X,R),R.isMeshPhysicalMaterial&&u(X,R,F)):R.isMeshMatcapMaterial?(n(X,R),p(X,R)):R.isMeshDepthMaterial?n(X,R):R.isMeshDistanceMaterial?(n(X,R),Z(X,R)):R.isMeshNormalMaterial?n(X,R):R.isLineBasicMaterial?(l(X,R),R.isLineDashedMaterial&&r(X,R)):R.isPointsMaterial?a(X,R,W,S):R.isSpriteMaterial?o(X,R):R.isShadowMaterial?(X.color.value.copy(R.color),X.opacity.value=R.opacity):R.isShaderMaterial&&(R.uniformsNeedUpdate=!1)}function n(X,R){X.opacity.value=R.opacity,R.color&&X.diffuse.value.copy(R.color),R.emissive&&X.emissive.value.copy(R.emissive).multiplyScalar(R.emissiveIntensity),R.map&&(X.map.value=R.map),R.alphaMap&&(X.alphaMap.value=R.alphaMap),R.bumpMap&&(X.bumpMap.value=R.bumpMap,X.bumpScale.value=R.bumpScale,R.side===gi&&(X.bumpScale.value*=-1)),R.displacementMap&&(X.displacementMap.value=R.displacementMap,X.displacementScale.value=R.displacementScale,X.displacementBias.value=R.displacementBias),R.emissiveMap&&(X.emissiveMap.value=R.emissiveMap),R.normalMap&&(X.normalMap.value=R.normalMap,X.normalScale.value.copy(R.normalScale),R.side===gi&&X.normalScale.value.negate()),R.specularMap&&(X.specularMap.value=R.specularMap),R.alphaTest>0&&(X.alphaTest.value=R.alphaTest);const W=i.get(R).envMap;if(W&&(X.envMap.value=W,X.flipEnvMap.value=W.isCubeTexture&&W.isRenderTargetTexture===!1?-1:1,X.reflectivity.value=R.reflectivity,X.ior.value=R.ior,X.refractionRatio.value=R.refractionRatio),R.lightMap){X.lightMap.value=R.lightMap;const M=t.physicallyCorrectLights!==!0?Math.PI:1;X.lightMapIntensity.value=R.lightMapIntensity*M}R.aoMap&&(X.aoMap.value=R.aoMap,X.aoMapIntensity.value=R.aoMapIntensity);let S;R.map?S=R.map:R.specularMap?S=R.specularMap:R.displacementMap?S=R.displacementMap:R.normalMap?S=R.normalMap:R.bumpMap?S=R.bumpMap:R.roughnessMap?S=R.roughnessMap:R.metalnessMap?S=R.metalnessMap:R.alphaMap?S=R.alphaMap:R.emissiveMap?S=R.emissiveMap:R.clearcoatMap?S=R.clearcoatMap:R.clearcoatNormalMap?S=R.clearcoatNormalMap:R.clearcoatRoughnessMap?S=R.clearcoatRoughnessMap:R.specularIntensityMap?S=R.specularIntensityMap:R.specularColorMap?S=R.specularColorMap:R.transmissionMap?S=R.transmissionMap:R.thicknessMap?S=R.thicknessMap:R.sheenColorMap?S=R.sheenColorMap:R.sheenRoughnessMap&&(S=R.sheenRoughnessMap),S!==void 0&&(S.isWebGLRenderTarget&&(S=S.texture),S.matrixAutoUpdate===!0&&S.updateMatrix(),X.uvTransform.value.copy(S.matrix));let F;R.aoMap?F=R.aoMap:R.lightMap&&(F=R.lightMap),F!==void 0&&(F.isWebGLRenderTarget&&(F=F.texture),F.matrixAutoUpdate===!0&&F.updateMatrix(),X.uv2Transform.value.copy(F.matrix))}function l(X,R){X.diffuse.value.copy(R.color),X.opacity.value=R.opacity}function r(X,R){X.dashSize.value=R.dashSize,X.totalSize.value=R.dashSize+R.gapSize,X.scale.value=R.scale}function a(X,R,W,S){X.diffuse.value.copy(R.color),X.opacity.value=R.opacity,X.size.value=R.size*W,X.scale.value=S*.5,R.map&&(X.map.value=R.map),R.alphaMap&&(X.alphaMap.value=R.alphaMap),R.alphaTest>0&&(X.alphaTest.value=R.alphaTest);let F;R.map?F=R.map:R.alphaMap&&(F=R.alphaMap),F!==void 0&&(F.matrixAutoUpdate===!0&&F.updateMatrix(),X.uvTransform.value.copy(F.matrix))}function o(X,R){X.diffuse.value.copy(R.color),X.opacity.value=R.opacity,X.rotation.value=R.rotation,R.map&&(X.map.value=R.map),R.alphaMap&&(X.alphaMap.value=R.alphaMap),R.alphaTest>0&&(X.alphaTest.value=R.alphaTest);let W;R.map?W=R.map:R.alphaMap&&(W=R.alphaMap),W!==void 0&&(W.matrixAutoUpdate===!0&&W.updateMatrix(),X.uvTransform.value.copy(W.matrix))}function c(X,R){X.specular.value.copy(R.specular),X.shininess.value=Math.max(R.shininess,1e-4)}function h(X,R){R.gradientMap&&(X.gradientMap.value=R.gradientMap)}function d(X,R){X.roughness.value=R.roughness,X.metalness.value=R.metalness,R.roughnessMap&&(X.roughnessMap.value=R.roughnessMap),R.metalnessMap&&(X.metalnessMap.value=R.metalnessMap),i.get(R).envMap&&(X.envMapIntensity.value=R.envMapIntensity)}function u(X,R,W){X.ior.value=R.ior,R.sheen>0&&(X.sheenColor.value.copy(R.sheenColor).multiplyScalar(R.sheen),X.sheenRoughness.value=R.sheenRoughness,R.sheenColorMap&&(X.sheenColorMap.value=R.sheenColorMap),R.sheenRoughnessMap&&(X.sheenRoughnessMap.value=R.sheenRoughnessMap)),R.clearcoat>0&&(X.clearcoat.value=R.clearcoat,X.clearcoatRoughness.value=R.clearcoatRoughness,R.clearcoatMap&&(X.clearcoatMap.value=R.clearcoatMap),R.clearcoatRoughnessMap&&(X.clearcoatRoughnessMap.value=R.clearcoatRoughnessMap),R.clearcoatNormalMap&&(X.clearcoatNormalScale.value.copy(R.clearcoatNormalScale),X.clearcoatNormalMap.value=R.clearcoatNormalMap,R.side===gi&&X.clearcoatNormalScale.value.negate())),R.transmission>0&&(X.transmission.value=R.transmission,X.transmissionSamplerMap.value=W.texture,X.transmissionSamplerSize.value.set(W.width,W.height),R.transmissionMap&&(X.transmissionMap.value=R.transmissionMap),X.thickness.value=R.thickness,R.thicknessMap&&(X.thicknessMap.value=R.thicknessMap),X.attenuationDistance.value=R.attenuationDistance,X.attenuationColor.value.copy(R.attenuationColor)),X.specularIntensity.value=R.specularIntensity,X.specularColor.value.copy(R.specularColor),R.specularIntensityMap&&(X.specularIntensityMap.value=R.specularIntensityMap),R.specularColorMap&&(X.specularColorMap.value=R.specularColorMap)}function p(X,R){R.matcap&&(X.matcap.value=R.matcap)}function Z(X,R){X.referencePosition.value.copy(R.referencePosition),X.nearDistance.value=R.nearDistance,X.farDistance.value=R.farDistance}return{refreshFogUniforms:e,refreshMaterialUniforms:s}}function WH(){const t=no("canvas");return t.style.display="block",t}function ls(t={}){const i=t.canvas!==void 0?t.canvas:WH(),e=t.context!==void 0?t.context:null,s=t.depth!==void 0?t.depth:!0,n=t.stencil!==void 0?t.stencil:!0,l=t.antialias!==void 0?t.antialias:!1,r=t.premultipliedAlpha!==void 0?t.premultipliedAlpha:!0,a=t.preserveDrawingBuffer!==void 0?t.preserveDrawingBuffer:!1,o=t.powerPreference!==void 0?t.powerPreference:"default",c=t.failIfMajorPerformanceCaveat!==void 0?t.failIfMajorPerformanceCaveat:!1;let h;t.context!==void 0?h=e.getContextAttributes().alpha:h=t.alpha!==void 0?t.alpha:!1;let d=null,u=null;const p=[],Z=[];this.domElement=i,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=zn,this.physicallyCorrectLights=!1,this.toneMapping=En,this.toneMappingExposure=1;const X=this;let R=!1,W=0,S=0,F=null,M=-1,N=null;const E=new Ut,Y=new Ut;let O=null,q=i.width,$=i.height,H=1,j=null,mt=null;const st=new Ut(0,0,q,$),ot=new Ut(0,0,q,$);let rt=!1;const lt=new oo;let nt=!1,Gt=!1,gt=null;const Mt=new _t,Ct=new Wt,wt=new z,Me={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Xe(){return F===null?H:1}let Zt=e;function Oe(D,et){for(let pt=0;pt<D.length;pt++){const ct=D[pt],Tt=i.getContext(ct,et);if(Tt!==null)return Tt}return null}try{const D={alpha:!0,depth:s,stencil:n,antialias:l,premultipliedAlpha:r,preserveDrawingBuffer:a,powerPreference:o,failIfMajorPerformanceCaveat:c};if("setAttribute"in i&&i.setAttribute("data-engine",`three.js r${Oi}`),i.addEventListener("webglcontextlost",_,!1),i.addEventListener("webglcontextrestored",kt,!1),Zt===null){const et=["webgl2","webgl","experimental-webgl"];if(X.isWebGL1Renderer===!0&&et.shift(),Zt=Oe(et,D),Zt===null)throw Oe(et)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Zt.getShaderPrecisionFormat===void 0&&(Zt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(D){throw console.error("THREE.WebGLRenderer: "+D.message),D}let Se,ye,Lt,ce,bt,Xt,at,jt,Ot,Le,Ge,ae,cs,_e,B,U,ht,xt,Dt,$t,pe,yt,Ce;function xe(){Se=new Pz(Zt),ye=new Ez(Zt,Se,t),Se.init(ye),yt=new TH(Zt,Se,ye),Lt=new ZH(Zt,Se,ye),ce=new Jz(Zt),bt=new aH,Xt=new XH(Zt,Se,Lt,bt,ye,yt,ce),at=new Hz(X),jt=new kz(X),Ot=new zv(Zt,ye),Ce=new Yz(Zt,Se,Ot,ye),Le=new Uz(Zt,Ot,ce,Ce),Ge=new jz(Zt,Le,Ot,ce),Dt=new Az(Zt,ye,Xt),U=new zz(bt),ae=new rH(X,at,jt,Se,ye,Ce,U),cs=new gH(X,bt),_e=new cH,B=new bH(Se,ye),xt=new Mz(X,at,Lt,Ge,h,r),ht=new Yb(X,Ge,ye),$t=new vz(Zt,Se,ce,ye),pe=new Dz(Zt,Se,ce,ye),ce.programs=ae.programs,X.capabilities=ye,X.extensions=Se,X.properties=bt,X.renderLists=_e,X.shadowMap=ht,X.state=Lt,X.info=ce}xe();const ie=new IH(X,Zt);this.xr=ie,this.getContext=function(){return Zt},this.getContextAttributes=function(){return Zt.getContextAttributes()},this.forceContextLoss=function(){const D=Se.get("WEBGL_lose_context");D&&D.loseContext()},this.forceContextRestore=function(){const D=Se.get("WEBGL_lose_context");D&&D.restoreContext()},this.getPixelRatio=function(){return H},this.setPixelRatio=function(D){D!==void 0&&(H=D,this.setSize(q,$,!1))},this.getSize=function(D){return D.set(q,$)},this.setSize=function(D,et,pt){if(ie.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}q=D,$=et,i.width=Math.floor(D*H),i.height=Math.floor(et*H),pt!==!1&&(i.style.width=D+"px",i.style.height=et+"px"),this.setViewport(0,0,D,et)},this.getDrawingBufferSize=function(D){return D.set(q*H,$*H).floor()},this.setDrawingBufferSize=function(D,et,pt){q=D,$=et,H=pt,i.width=Math.floor(D*pt),i.height=Math.floor(et*pt),this.setViewport(0,0,D,et)},this.getCurrentViewport=function(D){return D.copy(E)},this.getViewport=function(D){return D.copy(st)},this.setViewport=function(D,et,pt,ct){D.isVector4?st.set(D.x,D.y,D.z,D.w):st.set(D,et,pt,ct),Lt.viewport(E.copy(st).multiplyScalar(H).floor())},this.getScissor=function(D){return D.copy(ot)},this.setScissor=function(D,et,pt,ct){D.isVector4?ot.set(D.x,D.y,D.z,D.w):ot.set(D,et,pt,ct),Lt.scissor(Y.copy(ot).multiplyScalar(H).floor())},this.getScissorTest=function(){return rt},this.setScissorTest=function(D){Lt.setScissorTest(rt=D)},this.setOpaqueSort=function(D){j=D},this.setTransparentSort=function(D){mt=D},this.getClearColor=function(D){return D.copy(xt.getClearColor())},this.setClearColor=function(){xt.setClearColor.apply(xt,arguments)},this.getClearAlpha=function(){return xt.getClearAlpha()},this.setClearAlpha=function(){xt.setClearAlpha.apply(xt,arguments)},this.clear=function(D=!0,et=!0,pt=!0){let ct=0;D&&(ct|=16384),et&&(ct|=256),pt&&(ct|=1024),Zt.clear(ct)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){i.removeEventListener("webglcontextlost",_,!1),i.removeEventListener("webglcontextrestored",kt,!1),_e.dispose(),B.dispose(),bt.dispose(),at.dispose(),jt.dispose(),Ge.dispose(),Ce.dispose(),ae.dispose(),ie.dispose(),ie.removeEventListener("sessionstart",We),ie.removeEventListener("sessionend",qe),gt&&(gt.dispose(),gt=null),Ze.stop()};function _(D){D.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),R=!0}function kt(){console.log("THREE.WebGLRenderer: Context Restored."),R=!1;const D=ce.autoReset,et=ht.enabled,pt=ht.autoUpdate,ct=ht.needsUpdate,Tt=ht.type;xe(),ce.autoReset=D,ht.enabled=et,ht.autoUpdate=pt,ht.needsUpdate=ct,ht.type=Tt}function zt(D){const et=D.target;et.removeEventListener("dispose",zt),me(et)}function me(D){qt(D),bt.remove(D)}function qt(D){const et=bt.get(D).programs;et!==void 0&&(et.forEach(function(pt){ae.releaseProgram(pt)}),D.isShaderMaterial&&ae.releaseShaderCache(D))}this.renderBufferDirect=function(D,et,pt,ct,Tt,ne){et===null&&(et=Me);const vt=Tt.isMesh&&Tt.matrixWorld.determinant()<0,Fe=tl(D,et,pt,ct,Tt);Lt.setMaterial(ct,vt);let f=pt.index;const te=pt.attributes.position;if(f===null){if(te===void 0||te.count===0)return}else if(f.count===0)return;let fe=1;ct.wireframe===!0&&(f=Le.getWireframeAttribute(pt),fe=2),Ce.setup(Tt,ct,Fe,pt,f);let He,bs=$t;f!==null&&(He=Ot.get(f),bs=pe,bs.setIndex(He));const js=f!==null?f.count:te.count,si=pt.drawRange.start*fe,hi=pt.drawRange.count*fe,ws=ne!==null?ne.start*fe:0,Ye=ne!==null?ne.count*fe:1/0,At=Math.max(si,ws),Ws=Math.min(js,si+hi,ws+Ye)-1,Xi=Math.max(0,Ws-At+1);if(Xi!==0){if(Tt.isMesh)ct.wireframe===!0?(Lt.setLineWidth(ct.wireframeLinewidth*Xe()),bs.setMode(1)):bs.setMode(4);else if(Tt.isLine){let Ti=ct.linewidth;Ti===void 0&&(Ti=1),Lt.setLineWidth(Ti*Xe()),Tt.isLineSegments?bs.setMode(1):Tt.isLineLoop?bs.setMode(2):bs.setMode(3)}else Tt.isPoints?bs.setMode(0):Tt.isSprite&&bs.setMode(4);if(Tt.isInstancedMesh)bs.renderInstances(At,Xi,Tt.count);else if(pt.isInstancedBufferGeometry){const Ti=Math.min(pt.instanceCount,pt._maxInstanceCount);bs.renderInstances(At,Xi,Ti)}else bs.render(At,Xi)}},this.compile=function(D,et){u=B.get(D),u.init(),Z.push(u),D.traverseVisible(function(pt){pt.isLight&&pt.layers.test(et.layers)&&(u.pushLight(pt),pt.castShadow&&u.pushShadow(pt))}),u.setupLights(X.physicallyCorrectLights),D.traverse(function(pt){const ct=pt.material;if(ct)if(Array.isArray(ct))for(let Tt=0;Tt<ct.length;Tt++){const ne=ct[Tt];Mn(ne,D,pt)}else Mn(ct,D,pt)}),Z.pop(),u=null};let se=null;function Pt(D){se&&se(D)}function We(){Ze.stop()}function qe(){Ze.start()}const Ze=new nb;Ze.setAnimationLoop(Pt),typeof self<"u"&&Ze.setContext(self),this.setAnimationLoop=function(D){se=D,ie.setAnimationLoop(D),D===null?Ze.stop():Ze.start()},ie.addEventListener("sessionstart",We),ie.addEventListener("sessionend",qe),this.render=function(D,et){if(et!==void 0&&et.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(R===!0)return;D.autoUpdate===!0&&D.updateMatrixWorld(),et.parent===null&&et.updateMatrixWorld(),ie.enabled===!0&&ie.isPresenting===!0&&(ie.cameraAutoUpdate===!0&&ie.updateCamera(et),et=ie.getCamera()),D.isScene===!0&&D.onBeforeRender(X,D,et,F),u=B.get(D,Z.length),u.init(),Z.push(u),Mt.multiplyMatrices(et.projectionMatrix,et.matrixWorldInverse),lt.setFromProjectionMatrix(Mt),Gt=this.localClippingEnabled,nt=U.init(this.clippingPlanes,Gt,et),d=_e.get(D,p.length),d.init(),p.push(d),ei(D,et,0,X.sortObjects),d.finish(),X.sortObjects===!0&&d.sort(j,mt),nt===!0&&U.beginShadows();const pt=u.state.shadowsArray;if(ht.render(pt,D,et),nt===!0&&U.endShadows(),this.info.autoReset===!0&&this.info.reset(),xt.render(d,D),u.setupLights(X.physicallyCorrectLights),et.isArrayCamera){const ct=et.cameras;for(let Tt=0,ne=ct.length;Tt<ne;Tt++){const vt=ct[Tt];Zi(d,D,vt,vt.viewport)}}else Zi(d,D,et);F!==null&&(Xt.updateMultisampleRenderTarget(F),Xt.updateRenderTargetMipmap(F)),D.isScene===!0&&D.onAfterRender(X,D,et),Ce.resetDefaultState(),M=-1,N=null,Z.pop(),Z.length>0?u=Z[Z.length-1]:u=null,p.pop(),p.length>0?d=p[p.length-1]:d=null};function ei(D,et,pt,ct){if(D.visible===!1)return;if(D.layers.test(et.layers)){if(D.isGroup)pt=D.renderOrder;else if(D.isLOD)D.autoUpdate===!0&&D.update(et);else if(D.isLight)u.pushLight(D),D.castShadow&&u.pushShadow(D);else if(D.isSprite){if(!D.frustumCulled||lt.intersectsSprite(D)){ct&&wt.setFromMatrixPosition(D.matrixWorld).applyMatrix4(Mt);const vt=Ge.update(D),Fe=D.material;Fe.visible&&d.push(D,vt,Fe,pt,wt.z,null)}}else if((D.isMesh||D.isLine||D.isPoints)&&(D.isSkinnedMesh&&D.skeleton.frame!==ce.render.frame&&(D.skeleton.update(),D.skeleton.frame=ce.render.frame),!D.frustumCulled||lt.intersectsObject(D))){ct&&wt.setFromMatrixPosition(D.matrixWorld).applyMatrix4(Mt);const vt=Ge.update(D),Fe=D.material;if(Array.isArray(Fe)){const f=vt.groups;for(let te=0,fe=f.length;te<fe;te++){const He=f[te],bs=Fe[He.materialIndex];bs&&bs.visible&&d.push(D,vt,bs,pt,wt.z,He)}}else Fe.visible&&d.push(D,vt,Fe,pt,wt.z,null)}}const ne=D.children;for(let vt=0,Fe=ne.length;vt<Fe;vt++)ei(ne[vt],et,pt,ct)}function Zi(D,et,pt,ct){const Tt=D.opaque,ne=D.transmissive,vt=D.transparent;u.setupLightsView(pt),ne.length>0&&ic(Tt,et,pt),ct&&Lt.viewport(E.copy(ct)),Tt.length>0&&Zs(Tt,et,pt),ne.length>0&&Zs(ne,et,pt),vt.length>0&&Zs(vt,et,pt),Lt.buffers.depth.setTest(!0),Lt.buffers.depth.setMask(!0),Lt.buffers.color.setMask(!0),Lt.setPolygonOffset(!1)}function ic(D,et,pt){const ct=ye.isWebGL2;gt===null&&(gt=new _s(1,1,{generateMipmaps:!0,type:yt.convert(Cr)!==null?Cr:kl,minFilter:Wc,samples:ct&&l===!0?4:0})),X.getDrawingBufferSize(Ct),ct?gt.setSize(Ct.x,Ct.y):gt.setSize(Vc(Ct.x),Vc(Ct.y));const Tt=X.getRenderTarget();X.setRenderTarget(gt),X.clear();const ne=X.toneMapping;X.toneMapping=En,Zs(D,et,pt),X.toneMapping=ne,Xt.updateMultisampleRenderTarget(gt),Xt.updateRenderTargetMipmap(gt),X.setRenderTarget(Tt)}function Zs(D,et,pt){const ct=et.isScene===!0?et.overrideMaterial:null;for(let Tt=0,ne=D.length;Tt<ne;Tt++){const vt=D[Tt],Fe=vt.object,f=vt.geometry,te=ct===null?vt.material:ct,fe=vt.group;Fe.layers.test(pt.layers)&&fi(Fe,et,pt,f,te,fe)}}function fi(D,et,pt,ct,Tt,ne){D.onBeforeRender(X,et,pt,ct,Tt,ne),D.modelViewMatrix.multiplyMatrices(pt.matrixWorldInverse,D.matrixWorld),D.normalMatrix.getNormalMatrix(D.modelViewMatrix),Tt.onBeforeRender(X,et,pt,ct,D,ne),Tt.transparent===!0&&Tt.side===pi?(Tt.side=gi,Tt.needsUpdate=!0,X.renderBufferDirect(pt,et,ct,Tt,D,ne),Tt.side=ll,Tt.needsUpdate=!0,X.renderBufferDirect(pt,et,ct,Tt,D,ne),Tt.side=pi):X.renderBufferDirect(pt,et,ct,Tt,D,ne),D.onAfterRender(X,et,pt,ct,Tt,ne)}function Mn(D,et,pt){et.isScene!==!0&&(et=Me);const ct=bt.get(D),Tt=u.state.lights,ne=u.state.shadowsArray,vt=Tt.state.version,Fe=ae.getParameters(D,Tt.state,ne,et,pt),f=ae.getProgramCacheKey(Fe);let te=ct.programs;ct.environment=D.isMeshStandardMaterial?et.environment:null,ct.fog=et.fog,ct.envMap=(D.isMeshStandardMaterial?jt:at).get(D.envMap||ct.environment),te===void 0&&(D.addEventListener("dispose",zt),te=new Map,ct.programs=te);let fe=te.get(f);if(fe!==void 0){if(ct.currentProgram===fe&&ct.lightsStateVersion===vt)return wi(D,Fe),fe}else Fe.uniforms=ae.getUniforms(D),D.onBuild(pt,Fe,X),D.onBeforeCompile(Fe,X),fe=ae.acquireProgram(Fe,f),te.set(f,fe),ct.uniforms=Fe.uniforms;const He=ct.uniforms;(!D.isShaderMaterial&&!D.isRawShaderMaterial||D.clipping===!0)&&(He.clippingPlanes=U.uniform),wi(D,Fe),ct.needsLights=Ml(D),ct.lightsStateVersion=vt,ct.needsLights&&(He.ambientLightColor.value=Tt.state.ambient,He.lightProbe.value=Tt.state.probe,He.directionalLights.value=Tt.state.directional,He.directionalLightShadows.value=Tt.state.directionalShadow,He.spotLights.value=Tt.state.spot,He.spotLightShadows.value=Tt.state.spotShadow,He.rectAreaLights.value=Tt.state.rectArea,He.ltc_1.value=Tt.state.rectAreaLTC1,He.ltc_2.value=Tt.state.rectAreaLTC2,He.pointLights.value=Tt.state.point,He.pointLightShadows.value=Tt.state.pointShadow,He.hemisphereLights.value=Tt.state.hemi,He.directionalShadowMap.value=Tt.state.directionalShadowMap,He.directionalShadowMatrix.value=Tt.state.directionalShadowMatrix,He.spotShadowMap.value=Tt.state.spotShadowMap,He.spotShadowMatrix.value=Tt.state.spotShadowMatrix,He.pointShadowMap.value=Tt.state.pointShadowMap,He.pointShadowMatrix.value=Tt.state.pointShadowMatrix);const bs=fe.getUniforms(),js=yl.seqWithValue(bs.seq,He);return ct.currentProgram=fe,ct.uniformsList=js,fe}function wi(D,et){const pt=bt.get(D);pt.outputEncoding=et.outputEncoding,pt.instancing=et.instancing,pt.skinning=et.skinning,pt.morphTargets=et.morphTargets,pt.morphNormals=et.morphNormals,pt.morphColors=et.morphColors,pt.morphTargetsCount=et.morphTargetsCount,pt.numClippingPlanes=et.numClippingPlanes,pt.numIntersection=et.numClipIntersection,pt.vertexAlphas=et.vertexAlphas,pt.vertexTangents=et.vertexTangents,pt.toneMapping=et.toneMapping}function tl(D,et,pt,ct,Tt){et.isScene!==!0&&(et=Me),Xt.resetTextureUnits();const ne=et.fog,vt=ct.isMeshStandardMaterial?et.environment:null,Fe=F===null?X.outputEncoding:F.isXRRenderTarget===!0?F.texture.encoding:zn,f=(ct.isMeshStandardMaterial?jt:at).get(ct.envMap||vt),te=ct.vertexColors===!0&&!!pt.attributes.color&&pt.attributes.color.itemSize===4,fe=!!ct.normalMap&&!!pt.attributes.tangent,He=!!pt.morphAttributes.position,bs=!!pt.morphAttributes.normal,js=!!pt.morphAttributes.color,si=ct.toneMapped?X.toneMapping:En,hi=pt.morphAttributes.position||pt.morphAttributes.normal||pt.morphAttributes.color,ws=hi!==void 0?hi.length:0,Ye=bt.get(ct),At=u.state.lights;if(nt===!0&&(Gt===!0||D!==N)){const di=D===N&&ct.id===M;U.setState(ct,D,di)}let Ws=!1;ct.version===Ye.__version?(Ye.needsLights&&Ye.lightsStateVersion!==At.state.version||Ye.outputEncoding!==Fe||Tt.isInstancedMesh&&Ye.instancing===!1||!Tt.isInstancedMesh&&Ye.instancing===!0||Tt.isSkinnedMesh&&Ye.skinning===!1||!Tt.isSkinnedMesh&&Ye.skinning===!0||Ye.envMap!==f||ct.fog&&Ye.fog!==ne||Ye.numClippingPlanes!==void 0&&(Ye.numClippingPlanes!==U.numPlanes||Ye.numIntersection!==U.numIntersection)||Ye.vertexAlphas!==te||Ye.vertexTangents!==fe||Ye.morphTargets!==He||Ye.morphNormals!==bs||Ye.morphColors!==js||Ye.toneMapping!==si||ye.isWebGL2===!0&&Ye.morphTargetsCount!==ws)&&(Ws=!0):(Ws=!0,Ye.__version=ct.version);let Xi=Ye.currentProgram;Ws===!0&&(Xi=Mn(ct,et,Tt));let Ti=!1,ii=!1,el=!1;const xs=Xi.getUniforms(),ki=Ye.uniforms;if(Lt.useProgram(Xi.program)&&(Ti=!0,ii=!0,el=!0),ct.id!==M&&(M=ct.id,ii=!0),Ti||N!==D){if(xs.setValue(Zt,"projectionMatrix",D.projectionMatrix),ye.logarithmicDepthBuffer&&xs.setValue(Zt,"logDepthBufFC",2/(Math.log(D.far+1)/Math.LN2)),N!==D&&(N=D,ii=!0,el=!0),ct.isShaderMaterial||ct.isMeshPhongMaterial||ct.isMeshToonMaterial||ct.isMeshStandardMaterial||ct.envMap){const di=xs.map.cameraPosition;di!==void 0&&di.setValue(Zt,wt.setFromMatrixPosition(D.matrixWorld))}(ct.isMeshPhongMaterial||ct.isMeshToonMaterial||ct.isMeshLambertMaterial||ct.isMeshBasicMaterial||ct.isMeshStandardMaterial||ct.isShaderMaterial)&&xs.setValue(Zt,"isOrthographic",D.isOrthographicCamera===!0),(ct.isMeshPhongMaterial||ct.isMeshToonMaterial||ct.isMeshLambertMaterial||ct.isMeshBasicMaterial||ct.isMeshStandardMaterial||ct.isShaderMaterial||ct.isShadowMaterial||Tt.isSkinnedMesh)&&xs.setValue(Zt,"viewMatrix",D.matrixWorldInverse)}if(Tt.isSkinnedMesh){xs.setOptional(Zt,Tt,"bindMatrix"),xs.setOptional(Zt,Tt,"bindMatrixInverse");const di=Tt.skeleton;di&&(ye.floatVertexTextures?(di.boneTexture===null&&di.computeBoneTexture(),xs.setValue(Zt,"boneTexture",di.boneTexture,Xt),xs.setValue(Zt,"boneTextureSize",di.boneTextureSize)):xs.setOptional(Zt,di,"boneMatrices"))}const Ri=pt.morphAttributes;return(Ri.position!==void 0||Ri.normal!==void 0||Ri.color!==void 0&&ye.isWebGL2===!0)&&Dt.update(Tt,pt,ct,Xi),(ii||Ye.receiveShadow!==Tt.receiveShadow)&&(Ye.receiveShadow=Tt.receiveShadow,xs.setValue(Zt,"receiveShadow",Tt.receiveShadow)),ii&&(xs.setValue(Zt,"toneMappingExposure",X.toneMappingExposure),Ye.needsLights&&ed(ki,el),ne&&ct.fog&&cs.refreshFogUniforms(ki,ne),cs.refreshMaterialUniforms(ki,ct,H,$,gt),yl.upload(Zt,Ye.uniformsList,ki,Xt)),ct.isShaderMaterial&&ct.uniformsNeedUpdate===!0&&(yl.upload(Zt,Ye.uniformsList,ki,Xt),ct.uniformsNeedUpdate=!1),ct.isSpriteMaterial&&xs.setValue(Zt,"center",Tt.center),xs.setValue(Zt,"modelViewMatrix",Tt.modelViewMatrix),xs.setValue(Zt,"normalMatrix",Tt.normalMatrix),xs.setValue(Zt,"modelMatrix",Tt.matrixWorld),Xi}function ed(D,et){D.ambientLightColor.needsUpdate=et,D.lightProbe.needsUpdate=et,D.directionalLights.needsUpdate=et,D.directionalLightShadows.needsUpdate=et,D.pointLights.needsUpdate=et,D.pointLightShadows.needsUpdate=et,D.spotLights.needsUpdate=et,D.spotLightShadows.needsUpdate=et,D.rectAreaLights.needsUpdate=et,D.hemisphereLights.needsUpdate=et}function Ml(D){return D.isMeshLambertMaterial||D.isMeshToonMaterial||D.isMeshPhongMaterial||D.isMeshStandardMaterial||D.isShadowMaterial||D.isShaderMaterial&&D.lights===!0}this.getActiveCubeFace=function(){return W},this.getActiveMipmapLevel=function(){return S},this.getRenderTarget=function(){return F},this.setRenderTargetTextures=function(D,et,pt){bt.get(D.texture).__webglTexture=et,bt.get(D.depthTexture).__webglTexture=pt;const ct=bt.get(D);ct.__hasExternalTextures=!0,ct.__hasExternalTextures&&(ct.__autoAllocateDepthBuffer=pt===void 0,ct.__autoAllocateDepthBuffer||Se.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ct.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(D,et){const pt=bt.get(D);pt.__webglFramebuffer=et,pt.__useDefaultFramebuffer=et===void 0},this.setRenderTarget=function(D,et=0,pt=0){F=D,W=et,S=pt;let ct=!0;if(D){const f=bt.get(D);f.__useDefaultFramebuffer!==void 0?(Lt.bindFramebuffer(36160,null),ct=!1):f.__webglFramebuffer===void 0?Xt.setupRenderTarget(D):f.__hasExternalTextures&&Xt.rebindTextures(D,bt.get(D.texture).__webglTexture,bt.get(D.depthTexture).__webglTexture)}let Tt=null,ne=!1,vt=!1;if(D){const f=D.texture;(f.isData3DTexture||f.isDataArrayTexture)&&(vt=!0);const te=bt.get(D).__webglFramebuffer;D.isWebGLCubeRenderTarget?(Tt=te[et],ne=!0):ye.isWebGL2&&D.samples>0&&Xt.useMultisampledRTT(D)===!1?Tt=bt.get(D).__webglMultisampledFramebuffer:Tt=te,E.copy(D.viewport),Y.copy(D.scissor),O=D.scissorTest}else E.copy(st).multiplyScalar(H).floor(),Y.copy(ot).multiplyScalar(H).floor(),O=rt;if(Lt.bindFramebuffer(36160,Tt)&&ye.drawBuffers&&ct&&Lt.drawBuffers(D,Tt),Lt.viewport(E),Lt.scissor(Y),Lt.setScissorTest(O),ne){const f=bt.get(D.texture);Zt.framebufferTexture2D(36160,36064,34069+et,f.__webglTexture,pt)}else if(vt){const f=bt.get(D.texture),te=et||0;Zt.framebufferTextureLayer(36160,36064,f.__webglTexture,pt||0,te)}M=-1},this.readRenderTargetPixels=function(D,et,pt,ct,Tt,ne,vt){if(!(D&&D.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Fe=bt.get(D).__webglFramebuffer;if(D.isWebGLCubeRenderTarget&&vt!==void 0&&(Fe=Fe[vt]),Fe){Lt.bindFramebuffer(36160,Fe);try{const f=D.texture,te=f.format,fe=f.type;if(te!==li&&yt.convert(te)!==Zt.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const He=fe===Cr&&(Se.has("EXT_color_buffer_half_float")||ye.isWebGL2&&Se.has("EXT_color_buffer_float"));if(fe!==kl&&yt.convert(fe)!==Zt.getParameter(35738)&&!(fe===rl&&(ye.isWebGL2||Se.has("OES_texture_float")||Se.has("WEBGL_color_buffer_float")))&&!He){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}et>=0&&et<=D.width-ct&&pt>=0&&pt<=D.height-Tt&&Zt.readPixels(et,pt,ct,Tt,yt.convert(te),yt.convert(fe),ne)}finally{const f=F!==null?bt.get(F).__webglFramebuffer:null;Lt.bindFramebuffer(36160,f)}}},this.copyFramebufferToTexture=function(D,et,pt=0){if(et.isFramebufferTexture!==!0){console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.");return}const ct=Math.pow(2,-pt),Tt=Math.floor(et.image.width*ct),ne=Math.floor(et.image.height*ct);Xt.setTexture2D(et,0),Zt.copyTexSubImage2D(3553,pt,0,0,D.x,D.y,Tt,ne),Lt.unbindTexture()},this.copyTextureToTexture=function(D,et,pt,ct=0){const Tt=et.image.width,ne=et.image.height,vt=yt.convert(pt.format),Fe=yt.convert(pt.type);Xt.setTexture2D(pt,0),Zt.pixelStorei(37440,pt.flipY),Zt.pixelStorei(37441,pt.premultiplyAlpha),Zt.pixelStorei(3317,pt.unpackAlignment),et.isDataTexture?Zt.texSubImage2D(3553,ct,D.x,D.y,Tt,ne,vt,Fe,et.image.data):et.isCompressedTexture?Zt.compressedTexSubImage2D(3553,ct,D.x,D.y,et.mipmaps[0].width,et.mipmaps[0].height,vt,et.mipmaps[0].data):Zt.texSubImage2D(3553,ct,D.x,D.y,vt,Fe,et.image),ct===0&&pt.generateMipmaps&&Zt.generateMipmap(3553),Lt.unbindTexture()},this.copyTextureToTexture3D=function(D,et,pt,ct,Tt=0){if(X.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const ne=D.max.x-D.min.x+1,vt=D.max.y-D.min.y+1,Fe=D.max.z-D.min.z+1,f=yt.convert(ct.format),te=yt.convert(ct.type);let fe;if(ct.isData3DTexture)Xt.setTexture3D(ct,0),fe=32879;else if(ct.isDataArrayTexture)Xt.setTexture2DArray(ct,0),fe=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Zt.pixelStorei(37440,ct.flipY),Zt.pixelStorei(37441,ct.premultiplyAlpha),Zt.pixelStorei(3317,ct.unpackAlignment);const He=Zt.getParameter(3314),bs=Zt.getParameter(32878),js=Zt.getParameter(3316),si=Zt.getParameter(3315),hi=Zt.getParameter(32877),ws=pt.isCompressedTexture?pt.mipmaps[0]:pt.image;Zt.pixelStorei(3314,ws.width),Zt.pixelStorei(32878,ws.height),Zt.pixelStorei(3316,D.min.x),Zt.pixelStorei(3315,D.min.y),Zt.pixelStorei(32877,D.min.z),pt.isDataTexture||pt.isData3DTexture?Zt.texSubImage3D(fe,Tt,et.x,et.y,et.z,ne,vt,Fe,f,te,ws.data):pt.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Zt.compressedTexSubImage3D(fe,Tt,et.x,et.y,et.z,ne,vt,Fe,f,ws.data)):Zt.texSubImage3D(fe,Tt,et.x,et.y,et.z,ne,vt,Fe,f,te,ws),Zt.pixelStorei(3314,He),Zt.pixelStorei(32878,bs),Zt.pixelStorei(3316,js),Zt.pixelStorei(3315,si),Zt.pixelStorei(32877,hi),Tt===0&&ct.generateMipmaps&&Zt.generateMipmap(fe),Lt.unbindTexture()},this.initTexture=function(D){Xt.setTexture2D(D,0),Lt.unbindTexture()},this.resetState=function(){W=0,S=0,F=null,Lt.reset(),Ce.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}ls.prototype.isWebGLRenderer=!0;class LH extends ls{}LH.prototype.isWebGL1Renderer=!0;class Jn extends we{constructor(){super();this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(i,e){return super.copy(i,e),i.background!==null&&(this.background=i.background.clone()),i.environment!==null&&(this.environment=i.environment.clone()),i.fog!==null&&(this.fog=i.fog.clone()),i.overrideMaterial!==null&&(this.overrideMaterial=i.overrideMaterial.clone()),this.autoUpdate=i.autoUpdate,this.matrixAutoUpdate=i.matrixAutoUpdate,this}toJSON(i){const e=super.toJSON(i);return this.fog!==null&&(e.object.fog=this.fog.toJSON()),e}}Jn.prototype.isScene=!0;class uo{constructor(i,e){this.array=i,this.stride=e,this.count=i!==void 0?i.length/e:0,this.usage=to,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Ai()}onUploadCallback(){}set needsUpdate(i){i===!0&&this.version++}setUsage(i){return this.usage=i,this}copy(i){return this.array=new i.array.constructor(i.array),this.count=i.count,this.stride=i.stride,this.usage=i.usage,this}copyAt(i,e,s){i*=this.stride,s*=e.stride;for(let n=0,l=this.stride;n<l;n++)this.array[i+n]=e.array[s+n];return this}set(i,e=0){return this.array.set(i,e),this}clone(i){i.arrayBuffers===void 0&&(i.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ai()),i.arrayBuffers[this.array.buffer._uuid]===void 0&&(i.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(i.arrayBuffers[this.array.buffer._uuid]),s=new this.constructor(e,this.stride);return s.setUsage(this.usage),s}onUpload(i){return this.onUploadCallback=i,this}toJSON(i){return i.arrayBuffers===void 0&&(i.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ai()),i.arrayBuffers[this.array.buffer._uuid]===void 0&&(i.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}uo.prototype.isInterleavedBuffer=!0;const ci=new z;class po{constructor(i,e,s,n=!1){this.name="",this.data=i,this.itemSize=e,this.offset=s,this.normalized=n===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(i){this.data.needsUpdate=i}applyMatrix4(i){for(let e=0,s=this.data.count;e<s;e++)ci.fromBufferAttribute(this,e),ci.applyMatrix4(i),this.setXYZ(e,ci.x,ci.y,ci.z);return this}applyNormalMatrix(i){for(let e=0,s=this.count;e<s;e++)ci.fromBufferAttribute(this,e),ci.applyNormalMatrix(i),this.setXYZ(e,ci.x,ci.y,ci.z);return this}transformDirection(i){for(let e=0,s=this.count;e<s;e++)ci.fromBufferAttribute(this,e),ci.transformDirection(i),this.setXYZ(e,ci.x,ci.y,ci.z);return this}setX(i,e){return this.data.array[i*this.data.stride+this.offset]=e,this}setY(i,e){return this.data.array[i*this.data.stride+this.offset+1]=e,this}setZ(i,e){return this.data.array[i*this.data.stride+this.offset+2]=e,this}setW(i,e){return this.data.array[i*this.data.stride+this.offset+3]=e,this}getX(i){return this.data.array[i*this.data.stride+this.offset]}getY(i){return this.data.array[i*this.data.stride+this.offset+1]}getZ(i){return this.data.array[i*this.data.stride+this.offset+2]}getW(i){return this.data.array[i*this.data.stride+this.offset+3]}setXY(i,e,s){return i=i*this.data.stride+this.offset,this.data.array[i+0]=e,this.data.array[i+1]=s,this}setXYZ(i,e,s,n){return i=i*this.data.stride+this.offset,this.data.array[i+0]=e,this.data.array[i+1]=s,this.data.array[i+2]=n,this}setXYZW(i,e,s,n,l){return i=i*this.data.stride+this.offset,this.data.array[i+0]=e,this.data.array[i+1]=s,this.data.array[i+2]=n,this.data.array[i+3]=l,this}clone(i){if(i===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let s=0;s<this.count;s++){const n=s*this.data.stride+this.offset;for(let l=0;l<this.itemSize;l++)e.push(this.data.array[n+l])}return new Ne(new this.array.constructor(e),this.itemSize,this.normalized)}else return i.interleavedBuffers===void 0&&(i.interleavedBuffers={}),i.interleavedBuffers[this.data.uuid]===void 0&&(i.interleavedBuffers[this.data.uuid]=this.data.clone(i)),new po(i.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(i){if(i===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let s=0;s<this.count;s++){const n=s*this.data.stride+this.offset;for(let l=0;l<this.itemSize;l++)e.push(this.data.array[n+l])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}else return i.interleavedBuffers===void 0&&(i.interleavedBuffers={}),i.interleavedBuffers[this.data.uuid]===void 0&&(i.interleavedBuffers[this.data.uuid]=this.data.toJSON(i)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}po.prototype.isInterleavedBufferAttribute=!0;class sh extends Ks{constructor(i){super();this.type="SpriteMaterial",this.color=new it(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(i)}copy(i){return super.copy(i),this.color.copy(i.color),this.map=i.map,this.alphaMap=i.alphaMap,this.rotation=i.rotation,this.sizeAttenuation=i.sizeAttenuation,this}}sh.prototype.isSpriteMaterial=!0;let _r;const mo=new z,qr=new z,$r=new z,ta=new Wt,bo=new Wt,Eb=new _t,ih=new z,yo=new z,nh=new z,zb=new Wt,Iu=new Wt,Hb=new Wt;class Kb extends we{constructor(i){super();if(this.type="Sprite",_r===void 0){_r=new Re;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),s=new uo(e,5);_r.setIndex([0,1,2,0,2,3]),_r.setAttribute("position",new po(s,3,0,!1)),_r.setAttribute("uv",new po(s,2,3,!1))}this.geometry=_r,this.material=i!==void 0?i:new sh,this.center=new Wt(.5,.5)}raycast(i,e){i.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),qr.setFromMatrixScale(this.matrixWorld),Eb.copy(i.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(i.camera.matrixWorldInverse,this.matrixWorld),$r.setFromMatrixPosition(this.modelViewMatrix),i.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&qr.multiplyScalar(-$r.z);const s=this.material.rotation;let n,l;s!==0&&(l=Math.cos(s),n=Math.sin(s));const r=this.center;lh(ih.set(-.5,-.5,0),$r,r,qr,n,l),lh(yo.set(.5,-.5,0),$r,r,qr,n,l),lh(nh.set(.5,.5,0),$r,r,qr,n,l),zb.set(0,0),Iu.set(1,0),Hb.set(1,1);let a=i.ray.intersectTriangle(ih,yo,nh,!1,mo);if(a===null&&(lh(yo.set(-.5,.5,0),$r,r,qr,n,l),Iu.set(0,1),a=i.ray.intersectTriangle(ih,nh,yo,!1,mo),a===null))return;const o=i.ray.origin.distanceTo(mo);o<i.near||o>i.far||e.push({distance:o,point:mo.clone(),uv:Ts.getUV(mo,ih,yo,nh,zb,Iu,Hb,new Wt),face:null,object:this})}copy(i){return super.copy(i),i.center!==void 0&&this.center.copy(i.center),this.material=i.material,this}}Kb.prototype.isSprite=!0;function lh(t,i,e,s,n,l){ta.subVectors(t,e).addScalar(.5).multiply(s),n!==void 0?(bo.x=l*ta.x-n*ta.y,bo.y=n*ta.x+l*ta.y):bo.copy(ta),t.copy(i),t.x+=bo.x,t.y+=bo.y,t.applyMatrix4(Eb)}const wb=new z,kb=new Ut,Pb=new Ut,SH=new z,Ub=new _t;class Db extends ns{constructor(i,e){super(i,e);this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new _t,this.bindMatrixInverse=new _t}copy(i){return super.copy(i),this.bindMode=i.bindMode,this.bindMatrix.copy(i.bindMatrix),this.bindMatrixInverse.copy(i.bindMatrixInverse),this.skeleton=i.skeleton,this}bind(i,e){this.skeleton=i,e===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const i=new Ut,e=this.geometry.attributes.skinWeight;for(let s=0,n=e.count;s<n;s++){i.fromBufferAttribute(e,s);const l=1/i.manhattanLength();l!==1/0?i.multiplyScalar(l):i.set(1,0,0,0),e.setXYZW(s,i.x,i.y,i.z,i.w)}}updateMatrixWorld(i){super.updateMatrixWorld(i),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(i,e){const s=this.skeleton,n=this.geometry;kb.fromBufferAttribute(n.attributes.skinIndex,i),Pb.fromBufferAttribute(n.attributes.skinWeight,i),wb.copy(e).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let l=0;l<4;l++){const r=Pb.getComponent(l);if(r!==0){const a=kb.getComponent(l);Ub.multiplyMatrices(s.bones[a].matrixWorld,s.boneInverses[a]),e.addScaledVector(SH.copy(wb).applyMatrix4(Ub),r)}}return e.applyMatrix4(this.bindMatrixInverse)}}Db.prototype.isSkinnedMesh=!0;class CH extends we{constructor(){super();this.type="Bone"}}CH.prototype.isBone=!0;class gu extends Ls{constructor(i=null,e=1,s=1,n,l,r,a,o,c=ds,h=ds,d,u){super(null,r,a,o,c,h,n,l,d,u);this.image={data:i,width:e,height:s},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}gu.prototype.isDataTexture=!0;class Wu extends Ne{constructor(i,e,s,n=1){typeof s=="number"&&(n=s,s=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument."));super(i,e,s);this.meshPerAttribute=n}copy(i){return super.copy(i),this.meshPerAttribute=i.meshPerAttribute,this}toJSON(){const i=super.toJSON();return i.meshPerAttribute=this.meshPerAttribute,i.isInstancedBufferAttribute=!0,i}}Wu.prototype.isInstancedBufferAttribute=!0;const Jb=new _t,Ob=new _t,rh=[],Go=new ns;class fH extends ns{constructor(i,e,s){super(i,e);this.instanceMatrix=new Wu(new Float32Array(s*16),16),this.instanceColor=null,this.count=s,this.frustumCulled=!1}copy(i){return super.copy(i),this.instanceMatrix.copy(i.instanceMatrix),i.instanceColor!==null&&(this.instanceColor=i.instanceColor.clone()),this.count=i.count,this}getColorAt(i,e){e.fromArray(this.instanceColor.array,i*3)}getMatrixAt(i,e){e.fromArray(this.instanceMatrix.array,i*16)}raycast(i,e){const s=this.matrixWorld,n=this.count;if(Go.geometry=this.geometry,Go.material=this.material,Go.material!==void 0)for(let l=0;l<n;l++){this.getMatrixAt(l,Jb),Ob.multiplyMatrices(s,Jb),Go.matrixWorld=Ob,Go.raycast(i,rh);for(let r=0,a=rh.length;r<a;r++){const o=rh[r];o.instanceId=l,o.object=this,e.push(o)}rh.length=0}}setColorAt(i,e){this.instanceColor===null&&(this.instanceColor=new Wu(new Float32Array(this.instanceMatrix.count*3),3)),e.toArray(this.instanceColor.array,i*3)}setMatrixAt(i,e){e.toArray(this.instanceMatrix.array,i*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}fH.prototype.isInstancedMesh=!0;class bn extends Ks{constructor(i){super();this.type="LineBasicMaterial",this.color=new it(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(i)}copy(i){return super.copy(i),this.color.copy(i.color),this.linewidth=i.linewidth,this.linecap=i.linecap,this.linejoin=i.linejoin,this}}bn.prototype.isLineBasicMaterial=!0;const Bb=new z,Ab=new z,jb=new _t,Lu=new hl,ah=new _i;class _l extends we{constructor(i=new Re,e=new bn){super();this.type="Line",this.geometry=i,this.material=e,this.updateMorphTargets()}copy(i){return super.copy(i),this.material=i.material,this.geometry=i.geometry,this}computeLineDistances(){const i=this.geometry;if(i.isBufferGeometry)if(i.index===null){const e=i.attributes.position,s=[0];for(let n=1,l=e.count;n<l;n++)Bb.fromBufferAttribute(e,n-1),Ab.fromBufferAttribute(e,n),s[n]=s[n-1],s[n]+=Bb.distanceTo(Ab);i.setAttribute("lineDistance",new us(s,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else i.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(i,e){const s=this.geometry,n=this.matrixWorld,l=i.params.Line.threshold,r=s.drawRange;if(s.boundingSphere===null&&s.computeBoundingSphere(),ah.copy(s.boundingSphere),ah.applyMatrix4(n),ah.radius+=l,i.ray.intersectsSphere(ah)===!1)return;jb.copy(n).invert(),Lu.copy(i.ray).applyMatrix4(jb);const a=l/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a,c=new z,h=new z,d=new z,u=new z,p=this.isLineSegments?2:1;if(s.isBufferGeometry){const Z=s.index,R=s.attributes.position;if(Z!==null){const W=Math.max(0,r.start),S=Math.min(Z.count,r.start+r.count);for(let F=W,M=S-1;F<M;F+=p){const N=Z.getX(F),E=Z.getX(F+1);if(c.fromBufferAttribute(R,N),h.fromBufferAttribute(R,E),Lu.distanceSqToSegment(c,h,u,d)>o)continue;u.applyMatrix4(this.matrixWorld);const O=i.ray.origin.distanceTo(u);O<i.near||O>i.far||e.push({distance:O,point:d.clone().applyMatrix4(this.matrixWorld),index:F,face:null,faceIndex:null,object:this})}}else{const W=Math.max(0,r.start),S=Math.min(R.count,r.start+r.count);for(let F=W,M=S-1;F<M;F+=p){if(c.fromBufferAttribute(R,F),h.fromBufferAttribute(R,F+1),Lu.distanceSqToSegment(c,h,u,d)>o)continue;u.applyMatrix4(this.matrixWorld);const E=i.ray.origin.distanceTo(u);E<i.near||E>i.far||e.push({distance:E,point:d.clone().applyMatrix4(this.matrixWorld),index:F,face:null,faceIndex:null,object:this})}}}else s.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const i=this.geometry;if(i.isBufferGeometry){const e=i.morphAttributes,s=Object.keys(e);if(s.length>0){const n=e[s[0]];if(n!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,r=n.length;l<r;l++){const a=n[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=l}}}}else{const e=i.morphTargets;e!==void 0&&e.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}_l.prototype.isLine=!0;const Qb=new z,_b=new z;class oh extends _l{constructor(i,e){super(i,e);this.type="LineSegments"}computeLineDistances(){const i=this.geometry;if(i.isBufferGeometry)if(i.index===null){const e=i.attributes.position,s=[];for(let n=0,l=e.count;n<l;n+=2)Qb.fromBufferAttribute(e,n),_b.fromBufferAttribute(e,n+1),s[n]=n===0?0:s[n-1],s[n+1]=s[n]+Qb.distanceTo(_b);i.setAttribute("lineDistance",new us(s,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else i.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}oh.prototype.isLineSegments=!0;class VH extends _l{constructor(i,e){super(i,e);this.type="LineLoop"}}VH.prototype.isLineLoop=!0;class Su extends Ks{constructor(i){super();this.type="PointsMaterial",this.color=new it(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(i)}copy(i){return super.copy(i),this.color.copy(i.color),this.map=i.map,this.alphaMap=i.alphaMap,this.size=i.size,this.sizeAttenuation=i.sizeAttenuation,this}}Su.prototype.isPointsMaterial=!0;const qb=new _t,Cu=new hl,ch=new _i,hh=new z;class fu extends we{constructor(i=new Re,e=new Su){super();this.type="Points",this.geometry=i,this.material=e,this.updateMorphTargets()}copy(i){return super.copy(i),this.material=i.material,this.geometry=i.geometry,this}raycast(i,e){const s=this.geometry,n=this.matrixWorld,l=i.params.Points.threshold,r=s.drawRange;if(s.boundingSphere===null&&s.computeBoundingSphere(),ch.copy(s.boundingSphere),ch.applyMatrix4(n),ch.radius+=l,i.ray.intersectsSphere(ch)===!1)return;qb.copy(n).invert(),Cu.copy(i.ray).applyMatrix4(qb);const a=l/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a;if(s.isBufferGeometry){const c=s.index,d=s.attributes.position;if(c!==null){const u=Math.max(0,r.start),p=Math.min(c.count,r.start+r.count);for(let Z=u,X=p;Z<X;Z++){const R=c.getX(Z);hh.fromBufferAttribute(d,R),$b(hh,R,o,n,i,e,this)}}else{const u=Math.max(0,r.start),p=Math.min(d.count,r.start+r.count);for(let Z=u,X=p;Z<X;Z++)hh.fromBufferAttribute(d,Z),$b(hh,Z,o,n,i,e,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const i=this.geometry;if(i.isBufferGeometry){const e=i.morphAttributes,s=Object.keys(e);if(s.length>0){const n=e[s[0]];if(n!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,r=n.length;l<r;l++){const a=n[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=l}}}}else{const e=i.morphTargets;e!==void 0&&e.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}fu.prototype.isPoints=!0;function $b(t,i,e,s,n,l,r){const a=Cu.distanceSqToPoint(t);if(a<e){const o=new z;Cu.closestPointToPoint(t,o),o.applyMatrix4(s);const c=n.ray.origin.distanceTo(o);if(c<n.near||c>n.far)return;l.push({distance:c,distanceToRay:Math.sqrt(a),point:o,index:i,face:null,object:r})}}class xH extends Ls{constructor(i,e,s,n,l,r,a,o,c){super(i,e,s,n,l,r,a,o,c);this.minFilter=r!==void 0?r:Es,this.magFilter=l!==void 0?l:Es,this.generateMipmaps=!1;const h=this;function d(){h.needsUpdate=!0,i.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in i&&i.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const i=this.image;"requestVideoFrameCallback"in i===!1&&i.readyState>=i.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}xH.prototype.isVideoTexture=!0;class NH extends Ls{constructor(i,e,s){super({width:i,height:e});this.format=s,this.magFilter=ds,this.minFilter=ds,this.generateMipmaps=!1,this.needsUpdate=!0}}NH.prototype.isFramebufferTexture=!0;class FH extends Ls{constructor(i,e,s,n,l,r,a,o,c,h,d,u){super(null,r,a,o,c,h,n,l,d,u);this.image={width:e,height:s},this.mipmaps=i,this.flipY=!1,this.generateMipmaps=!1}}FH.prototype.isCompressedTexture=!0;class ty extends Ls{constructor(i,e,s,n,l,r,a,o,c){super(i,e,s,n,l,r,a,o,c);this.needsUpdate=!0}}ty.prototype.isCanvasTexture=!0;class vi{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(i,e){const s=this.getUtoTmapping(i);return this.getPoint(s,e)}getPoints(i=5){const e=[];for(let s=0;s<=i;s++)e.push(this.getPoint(s/i));return e}getSpacedPoints(i=5){const e=[];for(let s=0;s<=i;s++)e.push(this.getPointAt(s/i));return e}getLength(){const i=this.getLengths();return i[i.length-1]}getLengths(i=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===i+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let s,n=this.getPoint(0),l=0;e.push(0);for(let r=1;r<=i;r++)s=this.getPoint(r/i),l+=s.distanceTo(n),e.push(l),n=s;return this.cacheArcLengths=e,e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(i,e){const s=this.getLengths();let n=0;const l=s.length;let r;e?r=e:r=i*s[l-1];let a=0,o=l-1,c;for(;a<=o;)if(n=Math.floor(a+(o-a)/2),c=s[n]-r,c<0)a=n+1;else if(c>0)o=n-1;else{o=n;break}if(n=o,s[n]===r)return n/(l-1);const h=s[n],u=s[n+1]-h,p=(r-h)/u;return(n+p)/(l-1)}getTangent(i,e){let n=i-1e-4,l=i+1e-4;n<0&&(n=0),l>1&&(l=1);const r=this.getPoint(n),a=this.getPoint(l),o=e||(r.isVector2?new Wt:new z);return o.copy(a).sub(r).normalize(),o}getTangentAt(i,e){const s=this.getUtoTmapping(i);return this.getTangent(s,e)}computeFrenetFrames(i,e){const s=new z,n=[],l=[],r=[],a=new z,o=new _t;for(let p=0;p<=i;p++){const Z=p/i;n[p]=this.getTangentAt(Z,new z)}l[0]=new z,r[0]=new z;let c=Number.MAX_VALUE;const h=Math.abs(n[0].x),d=Math.abs(n[0].y),u=Math.abs(n[0].z);h<=c&&(c=h,s.set(1,0,0)),d<=c&&(c=d,s.set(0,1,0)),u<=c&&s.set(0,0,1),a.crossVectors(n[0],s).normalize(),l[0].crossVectors(n[0],a),r[0].crossVectors(n[0],l[0]);for(let p=1;p<=i;p++){if(l[p]=l[p-1].clone(),r[p]=r[p-1].clone(),a.crossVectors(n[p-1],n[p]),a.length()>Number.EPSILON){a.normalize();const Z=Math.acos(zs(n[p-1].dot(n[p]),-1,1));l[p].applyMatrix4(o.makeRotationAxis(a,Z))}r[p].crossVectors(n[p],l[p])}if(e===!0){let p=Math.acos(zs(l[0].dot(l[i]),-1,1));p/=i,n[0].dot(a.crossVectors(l[0],l[i]))>0&&(p=-p);for(let Z=1;Z<=i;Z++)l[Z].applyMatrix4(o.makeRotationAxis(n[Z],p*Z)),r[Z].crossVectors(n[Z],l[Z])}return{tangents:n,normals:l,binormals:r}}clone(){return new this.constructor().copy(this)}copy(i){return this.arcLengthDivisions=i.arcLengthDivisions,this}toJSON(){const i={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return i.arcLengthDivisions=this.arcLengthDivisions,i.type=this.type,i}fromJSON(i){return this.arcLengthDivisions=i.arcLengthDivisions,this}}class dh extends vi{constructor(i=0,e=0,s=1,n=1,l=0,r=Math.PI*2,a=!1,o=0){super();this.type="EllipseCurve",this.aX=i,this.aY=e,this.xRadius=s,this.yRadius=n,this.aStartAngle=l,this.aEndAngle=r,this.aClockwise=a,this.aRotation=o}getPoint(i,e){const s=e||new Wt,n=Math.PI*2;let l=this.aEndAngle-this.aStartAngle;const r=Math.abs(l)<Number.EPSILON;for(;l<0;)l+=n;for(;l>n;)l-=n;l<Number.EPSILON&&(r?l=0:l=n),this.aClockwise===!0&&!r&&(l===n?l=-n:l=l-n);const a=this.aStartAngle+i*l;let o=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const h=Math.cos(this.aRotation),d=Math.sin(this.aRotation),u=o-this.aX,p=c-this.aY;o=u*h-p*d+this.aX,c=u*d+p*h+this.aY}return s.set(o,c)}copy(i){return super.copy(i),this.aX=i.aX,this.aY=i.aY,this.xRadius=i.xRadius,this.yRadius=i.yRadius,this.aStartAngle=i.aStartAngle,this.aEndAngle=i.aEndAngle,this.aClockwise=i.aClockwise,this.aRotation=i.aRotation,this}toJSON(){const i=super.toJSON();return i.aX=this.aX,i.aY=this.aY,i.xRadius=this.xRadius,i.yRadius=this.yRadius,i.aStartAngle=this.aStartAngle,i.aEndAngle=this.aEndAngle,i.aClockwise=this.aClockwise,i.aRotation=this.aRotation,i}fromJSON(i){return super.fromJSON(i),this.aX=i.aX,this.aY=i.aY,this.xRadius=i.xRadius,this.yRadius=i.yRadius,this.aStartAngle=i.aStartAngle,this.aEndAngle=i.aEndAngle,this.aClockwise=i.aClockwise,this.aRotation=i.aRotation,this}}dh.prototype.isEllipseCurve=!0;class ey extends dh{constructor(i,e,s,n,l,r){super(i,e,s,s,n,l,r);this.type="ArcCurve"}}ey.prototype.isArcCurve=!0;function Vu(){let t=0,i=0,e=0,s=0;function n(l,r,a,o){t=l,i=a,e=-3*l+3*r-2*a-o,s=2*l-2*r+a+o}return{initCatmullRom:function(l,r,a,o,c){n(r,a,c*(a-l),c*(o-r))},initNonuniformCatmullRom:function(l,r,a,o,c,h,d){let u=(r-l)/c-(a-l)/(c+h)+(a-r)/h,p=(a-r)/h-(o-r)/(h+d)+(o-a)/d;u*=h,p*=h,n(r,a,u,p)},calc:function(l){const r=l*l,a=r*l;return t+i*l+e*r+s*a}}}const uh=new z,xu=new Vu,Nu=new Vu,Fu=new Vu;class sy extends vi{constructor(i=[],e=!1,s="centripetal",n=.5){super();this.type="CatmullRomCurve3",this.points=i,this.closed=e,this.curveType=s,this.tension=n}getPoint(i,e=new z){const s=e,n=this.points,l=n.length,r=(l-(this.closed?0:1))*i;let a=Math.floor(r),o=r-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/l)+1)*l:o===0&&a===l-1&&(a=l-2,o=1);let c,h;this.closed||a>0?c=n[(a-1)%l]:(uh.subVectors(n[0],n[1]).add(n[0]),c=uh);const d=n[a%l],u=n[(a+1)%l];if(this.closed||a+2<l?h=n[(a+2)%l]:(uh.subVectors(n[l-1],n[l-2]).add(n[l-1]),h=uh),this.curveType==="centripetal"||this.curveType==="chordal"){const p=this.curveType==="chordal"?.5:.25;let Z=Math.pow(c.distanceToSquared(d),p),X=Math.pow(d.distanceToSquared(u),p),R=Math.pow(u.distanceToSquared(h),p);X<1e-4&&(X=1),Z<1e-4&&(Z=X),R<1e-4&&(R=X),xu.initNonuniformCatmullRom(c.x,d.x,u.x,h.x,Z,X,R),Nu.initNonuniformCatmullRom(c.y,d.y,u.y,h.y,Z,X,R),Fu.initNonuniformCatmullRom(c.z,d.z,u.z,h.z,Z,X,R)}else this.curveType==="catmullrom"&&(xu.initCatmullRom(c.x,d.x,u.x,h.x,this.tension),Nu.initCatmullRom(c.y,d.y,u.y,h.y,this.tension),Fu.initCatmullRom(c.z,d.z,u.z,h.z,this.tension));return s.set(xu.calc(o),Nu.calc(o),Fu.calc(o)),s}copy(i){super.copy(i),this.points=[];for(let e=0,s=i.points.length;e<s;e++){const n=i.points[e];this.points.push(n.clone())}return this.closed=i.closed,this.curveType=i.curveType,this.tension=i.tension,this}toJSON(){const i=super.toJSON();i.points=[];for(let e=0,s=this.points.length;e<s;e++){const n=this.points[e];i.points.push(n.toArray())}return i.closed=this.closed,i.curveType=this.curveType,i.tension=this.tension,i}fromJSON(i){super.fromJSON(i),this.points=[];for(let e=0,s=i.points.length;e<s;e++){const n=i.points[e];this.points.push(new z().fromArray(n))}return this.closed=i.closed,this.curveType=i.curveType,this.tension=i.tension,this}}sy.prototype.isCatmullRomCurve3=!0;function iy(t,i,e,s,n){const l=(s-i)*.5,r=(n-e)*.5,a=t*t,o=t*a;return(2*e-2*s+l+r)*o+(-3*e+3*s-2*l-r)*a+l*t+e}function MH(t,i){const e=1-t;return e*e*i}function YH(t,i){return 2*(1-t)*t*i}function vH(t,i){return t*t*i}function Zo(t,i,e,s){return MH(t,i)+YH(t,e)+vH(t,s)}function EH(t,i){const e=1-t;return e*e*e*i}function zH(t,i){const e=1-t;return 3*e*e*t*i}function HH(t,i){return 3*(1-t)*t*t*i}function KH(t,i){return t*t*t*i}function Xo(t,i,e,s,n){return EH(t,i)+zH(t,e)+HH(t,s)+KH(t,n)}class Mu extends vi{constructor(i=new Wt,e=new Wt,s=new Wt,n=new Wt){super();this.type="CubicBezierCurve",this.v0=i,this.v1=e,this.v2=s,this.v3=n}getPoint(i,e=new Wt){const s=e,n=this.v0,l=this.v1,r=this.v2,a=this.v3;return s.set(Xo(i,n.x,l.x,r.x,a.x),Xo(i,n.y,l.y,r.y,a.y)),s}copy(i){return super.copy(i),this.v0.copy(i.v0),this.v1.copy(i.v1),this.v2.copy(i.v2),this.v3.copy(i.v3),this}toJSON(){const i=super.toJSON();return i.v0=this.v0.toArray(),i.v1=this.v1.toArray(),i.v2=this.v2.toArray(),i.v3=this.v3.toArray(),i}fromJSON(i){return super.fromJSON(i),this.v0.fromArray(i.v0),this.v1.fromArray(i.v1),this.v2.fromArray(i.v2),this.v3.fromArray(i.v3),this}}Mu.prototype.isCubicBezierCurve=!0;class ny extends vi{constructor(i=new z,e=new z,s=new z,n=new z){super();this.type="CubicBezierCurve3",this.v0=i,this.v1=e,this.v2=s,this.v3=n}getPoint(i,e=new z){const s=e,n=this.v0,l=this.v1,r=this.v2,a=this.v3;return s.set(Xo(i,n.x,l.x,r.x,a.x),Xo(i,n.y,l.y,r.y,a.y),Xo(i,n.z,l.z,r.z,a.z)),s}copy(i){return super.copy(i),this.v0.copy(i.v0),this.v1.copy(i.v1),this.v2.copy(i.v2),this.v3.copy(i.v3),this}toJSON(){const i=super.toJSON();return i.v0=this.v0.toArray(),i.v1=this.v1.toArray(),i.v2=this.v2.toArray(),i.v3=this.v3.toArray(),i}fromJSON(i){return super.fromJSON(i),this.v0.fromArray(i.v0),this.v1.fromArray(i.v1),this.v2.fromArray(i.v2),this.v3.fromArray(i.v3),this}}ny.prototype.isCubicBezierCurve3=!0;class ph extends vi{constructor(i=new Wt,e=new Wt){super();this.type="LineCurve",this.v1=i,this.v2=e}getPoint(i,e=new Wt){const s=e;return i===1?s.copy(this.v2):(s.copy(this.v2).sub(this.v1),s.multiplyScalar(i).add(this.v1)),s}getPointAt(i,e){return this.getPoint(i,e)}getTangent(i,e){const s=e||new Wt;return s.copy(this.v2).sub(this.v1).normalize(),s}copy(i){return super.copy(i),this.v1.copy(i.v1),this.v2.copy(i.v2),this}toJSON(){const i=super.toJSON();return i.v1=this.v1.toArray(),i.v2=this.v2.toArray(),i}fromJSON(i){return super.fromJSON(i),this.v1.fromArray(i.v1),this.v2.fromArray(i.v2),this}}ph.prototype.isLineCurve=!0;class wH extends vi{constructor(i=new z,e=new z){super();this.type="LineCurve3",this.isLineCurve3=!0,this.v1=i,this.v2=e}getPoint(i,e=new z){const s=e;return i===1?s.copy(this.v2):(s.copy(this.v2).sub(this.v1),s.multiplyScalar(i).add(this.v1)),s}getPointAt(i,e){return this.getPoint(i,e)}copy(i){return super.copy(i),this.v1.copy(i.v1),this.v2.copy(i.v2),this}toJSON(){const i=super.toJSON();return i.v1=this.v1.toArray(),i.v2=this.v2.toArray(),i}fromJSON(i){return super.fromJSON(i),this.v1.fromArray(i.v1),this.v2.fromArray(i.v2),this}}class Yu extends vi{constructor(i=new Wt,e=new Wt,s=new Wt){super();this.type="QuadraticBezierCurve",this.v0=i,this.v1=e,this.v2=s}getPoint(i,e=new Wt){const s=e,n=this.v0,l=this.v1,r=this.v2;return s.set(Zo(i,n.x,l.x,r.x),Zo(i,n.y,l.y,r.y)),s}copy(i){return super.copy(i),this.v0.copy(i.v0),this.v1.copy(i.v1),this.v2.copy(i.v2),this}toJSON(){const i=super.toJSON();return i.v0=this.v0.toArray(),i.v1=this.v1.toArray(),i.v2=this.v2.toArray(),i}fromJSON(i){return super.fromJSON(i),this.v0.fromArray(i.v0),this.v1.fromArray(i.v1),this.v2.fromArray(i.v2),this}}Yu.prototype.isQuadraticBezierCurve=!0;class ly extends vi{constructor(i=new z,e=new z,s=new z){super();this.type="QuadraticBezierCurve3",this.v0=i,this.v1=e,this.v2=s}getPoint(i,e=new z){const s=e,n=this.v0,l=this.v1,r=this.v2;return s.set(Zo(i,n.x,l.x,r.x),Zo(i,n.y,l.y,r.y),Zo(i,n.z,l.z,r.z)),s}copy(i){return super.copy(i),this.v0.copy(i.v0),this.v1.copy(i.v1),this.v2.copy(i.v2),this}toJSON(){const i=super.toJSON();return i.v0=this.v0.toArray(),i.v1=this.v1.toArray(),i.v2=this.v2.toArray(),i}fromJSON(i){return super.fromJSON(i),this.v0.fromArray(i.v0),this.v1.fromArray(i.v1),this.v2.fromArray(i.v2),this}}ly.prototype.isQuadraticBezierCurve3=!0;class vu extends vi{constructor(i=[]){super();this.type="SplineCurve",this.points=i}getPoint(i,e=new Wt){const s=e,n=this.points,l=(n.length-1)*i,r=Math.floor(l),a=l-r,o=n[r===0?r:r-1],c=n[r],h=n[r>n.length-2?n.length-1:r+1],d=n[r>n.length-3?n.length-1:r+2];return s.set(iy(a,o.x,c.x,h.x,d.x),iy(a,o.y,c.y,h.y,d.y)),s}copy(i){super.copy(i),this.points=[];for(let e=0,s=i.points.length;e<s;e++){const n=i.points[e];this.points.push(n.clone())}return this}toJSON(){const i=super.toJSON();i.points=[];for(let e=0,s=this.points.length;e<s;e++){const n=this.points[e];i.points.push(n.toArray())}return i}fromJSON(i){super.fromJSON(i),this.points=[];for(let e=0,s=i.points.length;e<s;e++){const n=i.points[e];this.points.push(new Wt().fromArray(n))}return this}}vu.prototype.isSplineCurve=!0;var ry=Object.freeze({__proto__:null,ArcCurve:ey,CatmullRomCurve3:sy,CubicBezierCurve:Mu,CubicBezierCurve3:ny,EllipseCurve:dh,LineCurve:ph,LineCurve3:wH,QuadraticBezierCurve:Yu,QuadraticBezierCurve3:ly,SplineCurve:vu});class kH extends vi{constructor(){super();this.type="CurvePath",this.curves=[],this.autoClose=!1}add(i){this.curves.push(i)}closePath(){const i=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);i.equals(e)||this.curves.push(new ph(e,i))}getPoint(i,e){const s=i*this.getLength(),n=this.getCurveLengths();let l=0;for(;l<n.length;){if(n[l]>=s){const r=n[l]-s,a=this.curves[l],o=a.getLength(),c=o===0?0:1-r/o;return a.getPointAt(c,e)}l++}return null}getLength(){const i=this.getCurveLengths();return i[i.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const i=[];let e=0;for(let s=0,n=this.curves.length;s<n;s++)e+=this.curves[s].getLength(),i.push(e);return this.cacheLengths=i,i}getSpacedPoints(i=40){const e=[];for(let s=0;s<=i;s++)e.push(this.getPoint(s/i));return this.autoClose&&e.push(e[0]),e}getPoints(i=12){const e=[];let s;for(let n=0,l=this.curves;n<l.length;n++){const r=l[n],a=r.isEllipseCurve?i*2:r.isLineCurve||r.isLineCurve3?1:r.isSplineCurve?i*r.points.length:i,o=r.getPoints(a);for(let c=0;c<o.length;c++){const h=o[c];s&&s.equals(h)||(e.push(h),s=h)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e}copy(i){super.copy(i),this.curves=[];for(let e=0,s=i.curves.length;e<s;e++){const n=i.curves[e];this.curves.push(n.clone())}return this.autoClose=i.autoClose,this}toJSON(){const i=super.toJSON();i.autoClose=this.autoClose,i.curves=[];for(let e=0,s=this.curves.length;e<s;e++){const n=this.curves[e];i.curves.push(n.toJSON())}return i}fromJSON(i){super.fromJSON(i),this.autoClose=i.autoClose,this.curves=[];for(let e=0,s=i.curves.length;e<s;e++){const n=i.curves[e];this.curves.push(new ry[n.type]().fromJSON(n))}return this}}class Eu extends kH{constructor(i){super();this.type="Path",this.currentPoint=new Wt,i&&this.setFromPoints(i)}setFromPoints(i){this.moveTo(i[0].x,i[0].y);for(let e=1,s=i.length;e<s;e++)this.lineTo(i[e].x,i[e].y);return this}moveTo(i,e){return this.currentPoint.set(i,e),this}lineTo(i,e){const s=new ph(this.currentPoint.clone(),new Wt(i,e));return this.curves.push(s),this.currentPoint.set(i,e),this}quadraticCurveTo(i,e,s,n){const l=new Yu(this.currentPoint.clone(),new Wt(i,e),new Wt(s,n));return this.curves.push(l),this.currentPoint.set(s,n),this}bezierCurveTo(i,e,s,n,l,r){const a=new Mu(this.currentPoint.clone(),new Wt(i,e),new Wt(s,n),new Wt(l,r));return this.curves.push(a),this.currentPoint.set(l,r),this}splineThru(i){const e=[this.currentPoint.clone()].concat(i),s=new vu(e);return this.curves.push(s),this.currentPoint.copy(i[i.length-1]),this}arc(i,e,s,n,l,r){const a=this.currentPoint.x,o=this.currentPoint.y;return this.absarc(i+a,e+o,s,n,l,r),this}absarc(i,e,s,n,l,r){return this.absellipse(i,e,s,s,n,l,r),this}ellipse(i,e,s,n,l,r,a,o){const c=this.currentPoint.x,h=this.currentPoint.y;return this.absellipse(i+c,e+h,s,n,l,r,a,o),this}absellipse(i,e,s,n,l,r,a,o){const c=new dh(i,e,s,n,l,r,a,o);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const h=c.getPoint(1);return this.currentPoint.copy(h),this}copy(i){return super.copy(i),this.currentPoint.copy(i.currentPoint),this}toJSON(){const i=super.toJSON();return i.currentPoint=this.currentPoint.toArray(),i}fromJSON(i){return super.fromJSON(i),this.currentPoint.fromArray(i.currentPoint),this}}class zu extends Re{constructor(i=1,e=8,s=0,n=Math.PI*2){super();this.type="CircleGeometry",this.parameters={radius:i,segments:e,thetaStart:s,thetaLength:n},e=Math.max(3,e);const l=[],r=[],a=[],o=[],c=new z,h=new Wt;r.push(0,0,0),a.push(0,0,1),o.push(.5,.5);for(let d=0,u=3;d<=e;d++,u+=3){const p=s+d/e*n;c.x=i*Math.cos(p),c.y=i*Math.sin(p),r.push(c.x,c.y,c.z),a.push(0,0,1),h.x=(r[u]/i+1)/2,h.y=(r[u+1]/i+1)/2,o.push(h.x,h.y)}for(let d=1;d<=e;d++)l.push(d,d+1,0);this.setIndex(l),this.setAttribute("position",new us(r,3)),this.setAttribute("normal",new us(a,3)),this.setAttribute("uv",new us(o,2))}static fromJSON(i){return new zu(i.radius,i.segments,i.thetaStart,i.thetaLength)}}new z,new z,new z,new Ts;class To extends Eu{constructor(i){super(i);this.uuid=Ai(),this.type="Shape",this.holes=[]}getPointsHoles(i){const e=[];for(let s=0,n=this.holes.length;s<n;s++)e[s]=this.holes[s].getPoints(i);return e}extractPoints(i){return{shape:this.getPoints(i),holes:this.getPointsHoles(i)}}copy(i){super.copy(i),this.holes=[];for(let e=0,s=i.holes.length;e<s;e++){const n=i.holes[e];this.holes.push(n.clone())}return this}toJSON(){const i=super.toJSON();i.uuid=this.uuid,i.holes=[];for(let e=0,s=this.holes.length;e<s;e++){const n=this.holes[e];i.holes.push(n.toJSON())}return i}fromJSON(i){super.fromJSON(i),this.uuid=i.uuid,this.holes=[];for(let e=0,s=i.holes.length;e<s;e++){const n=i.holes[e];this.holes.push(new Eu().fromJSON(n))}return this}}const PH={triangulate:function(t,i,e=2){const s=i&&i.length,n=s?i[0]*e:t.length;let l=ay(t,0,n,e,!0);const r=[];if(!l||l.next===l.prev)return r;let a,o,c,h,d,u,p;if(s&&(l=BH(t,i,l,e)),t.length>80*e){a=c=t[0],o=h=t[1];for(let Z=e;Z<n;Z+=e)d=t[Z],u=t[Z+1],d<a&&(a=d),u<o&&(o=u),d>c&&(c=d),u>h&&(h=u);p=Math.max(c-a,h-o),p=p!==0?1/p:0}return Ro(l,r,e,a,o,p),r}};function ay(t,i,e,s,n){let l,r;if(n===nK(t,i,e,s)>0)for(l=i;l<e;l+=s)r=hy(l,t[l],t[l+1],r);else for(l=e-s;l>=i;l-=s)r=hy(l,t[l],t[l+1],r);return r&&mh(r,r.next)&&(go(r),r=r.next),r}function Gl(t,i){if(!t)return t;i||(i=t);let e=t,s;do if(s=!1,!e.steiner&&(mh(e,e.next)||Ss(e.prev,e,e.next)===0)){if(go(e),e=i=e.prev,e===e.next)break;s=!0}else e=e.next;while(s||e!==i);return i}function Ro(t,i,e,s,n,l,r){if(!t)return;!r&&l&&qH(t,s,n,l);let a=t,o,c;for(;t.prev!==t.next;){if(o=t.prev,c=t.next,l?DH(t,s,n,l):UH(t)){i.push(o.i/e),i.push(t.i/e),i.push(c.i/e),go(t),t=c.next,a=c.next;continue}if(t=c,t===a){r?r===1?(t=JH(Gl(t),i,e),Ro(t,i,e,s,n,l,2)):r===2&&OH(t,i,e,s,n,l):Ro(Gl(t),i,e,s,n,l,1);break}}}function UH(t){const i=t.prev,e=t,s=t.next;if(Ss(i,e,s)>=0)return!1;let n=t.next.next;for(;n!==t.prev;){if(ea(i.x,i.y,e.x,e.y,s.x,s.y,n.x,n.y)&&Ss(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function DH(t,i,e,s){const n=t.prev,l=t,r=t.next;if(Ss(n,l,r)>=0)return!1;const a=n.x<l.x?n.x<r.x?n.x:r.x:l.x<r.x?l.x:r.x,o=n.y<l.y?n.y<r.y?n.y:r.y:l.y<r.y?l.y:r.y,c=n.x>l.x?n.x>r.x?n.x:r.x:l.x>r.x?l.x:r.x,h=n.y>l.y?n.y>r.y?n.y:r.y:l.y>r.y?l.y:r.y,d=Hu(a,o,i,e,s),u=Hu(c,h,i,e,s);let p=t.prevZ,Z=t.nextZ;for(;p&&p.z>=d&&Z&&Z.z<=u;){if(p!==t.prev&&p!==t.next&&ea(n.x,n.y,l.x,l.y,r.x,r.y,p.x,p.y)&&Ss(p.prev,p,p.next)>=0||(p=p.prevZ,Z!==t.prev&&Z!==t.next&&ea(n.x,n.y,l.x,l.y,r.x,r.y,Z.x,Z.y)&&Ss(Z.prev,Z,Z.next)>=0))return!1;Z=Z.nextZ}for(;p&&p.z>=d;){if(p!==t.prev&&p!==t.next&&ea(n.x,n.y,l.x,l.y,r.x,r.y,p.x,p.y)&&Ss(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;Z&&Z.z<=u;){if(Z!==t.prev&&Z!==t.next&&ea(n.x,n.y,l.x,l.y,r.x,r.y,Z.x,Z.y)&&Ss(Z.prev,Z,Z.next)>=0)return!1;Z=Z.nextZ}return!0}function JH(t,i,e){let s=t;do{const n=s.prev,l=s.next.next;!mh(n,l)&&oy(n,s,s.next,l)&&Io(n,l)&&Io(l,n)&&(i.push(n.i/e),i.push(s.i/e),i.push(l.i/e),go(s),go(s.next),s=t=l),s=s.next}while(s!==t);return Gl(s)}function OH(t,i,e,s,n,l){let r=t;do{let a=r.next.next;for(;a!==r.prev;){if(r.i!==a.i&&eK(r,a)){let o=cy(r,a);r=Gl(r,r.next),o=Gl(o,o.next),Ro(r,i,e,s,n,l),Ro(o,i,e,s,n,l);return}a=a.next}r=r.next}while(r!==t)}function BH(t,i,e,s){const n=[];let l,r,a,o,c;for(l=0,r=i.length;l<r;l++)a=i[l]*s,o=l<r-1?i[l+1]*s:t.length,c=ay(t,a,o,s,!1),c===c.next&&(c.steiner=!0),n.push(tK(c));for(n.sort(AH),l=0;l<n.length;l++)jH(n[l],e),e=Gl(e,e.next);return e}function AH(t,i){return t.x-i.x}function jH(t,i){if(i=QH(t,i),i){const e=cy(i,t);Gl(i,i.next),Gl(e,e.next)}}function QH(t,i){let e=i;const s=t.x,n=t.y;let l=-1/0,r;do{if(n<=e.y&&n>=e.next.y&&e.next.y!==e.y){const u=e.x+(n-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(u<=s&&u>l){if(l=u,u===s){if(n===e.y)return e;if(n===e.next.y)return e.next}r=e.x<e.next.x?e:e.next}}e=e.next}while(e!==i);if(!r)return null;if(s===l)return r;const a=r,o=r.x,c=r.y;let h=1/0,d;e=r;do s>=e.x&&e.x>=o&&s!==e.x&&ea(n<c?s:l,n,o,c,n<c?l:s,n,e.x,e.y)&&(d=Math.abs(n-e.y)/(s-e.x),Io(e,t)&&(d<h||d===h&&(e.x>r.x||e.x===r.x&&_H(r,e)))&&(r=e,h=d)),e=e.next;while(e!==a);return r}function _H(t,i){return Ss(t.prev,t,i.prev)<0&&Ss(i.next,t,t.next)<0}function qH(t,i,e,s){let n=t;do n.z===null&&(n.z=Hu(n.x,n.y,i,e,s)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next;while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,$H(n)}function $H(t){let i,e,s,n,l,r,a,o,c=1;do{for(e=t,t=null,l=null,r=0;e;){for(r++,s=e,a=0,i=0;i<c&&(a++,s=s.nextZ,!!s);i++);for(o=c;a>0||o>0&&s;)a!==0&&(o===0||!s||e.z<=s.z)?(n=e,e=e.nextZ,a--):(n=s,s=s.nextZ,o--),l?l.nextZ=n:t=n,n.prevZ=l,l=n;e=s}l.nextZ=null,c*=2}while(r>1);return t}function Hu(t,i,e,s,n){return t=32767*(t-e)*n,i=32767*(i-s)*n,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,t|i<<1}function tK(t){let i=t,e=t;do(i.x<e.x||i.x===e.x&&i.y<e.y)&&(e=i),i=i.next;while(i!==t);return e}function ea(t,i,e,s,n,l,r,a){return(n-r)*(i-a)-(t-r)*(l-a)>=0&&(t-r)*(s-a)-(e-r)*(i-a)>=0&&(e-r)*(l-a)-(n-r)*(s-a)>=0}function eK(t,i){return t.next.i!==i.i&&t.prev.i!==i.i&&!sK(t,i)&&(Io(t,i)&&Io(i,t)&&iK(t,i)&&(Ss(t.prev,t,i.prev)||Ss(t,i.prev,i))||mh(t,i)&&Ss(t.prev,t,t.next)>0&&Ss(i.prev,i,i.next)>0)}function Ss(t,i,e){return(i.y-t.y)*(e.x-i.x)-(i.x-t.x)*(e.y-i.y)}function mh(t,i){return t.x===i.x&&t.y===i.y}function oy(t,i,e,s){const n=yh(Ss(t,i,e)),l=yh(Ss(t,i,s)),r=yh(Ss(e,s,t)),a=yh(Ss(e,s,i));return!!(n!==l&&r!==a||n===0&&bh(t,e,i)||l===0&&bh(t,s,i)||r===0&&bh(e,t,s)||a===0&&bh(e,i,s))}function bh(t,i,e){return i.x<=Math.max(t.x,e.x)&&i.x>=Math.min(t.x,e.x)&&i.y<=Math.max(t.y,e.y)&&i.y>=Math.min(t.y,e.y)}function yh(t){return t>0?1:t<0?-1:0}function sK(t,i){let e=t;do{if(e.i!==t.i&&e.next.i!==t.i&&e.i!==i.i&&e.next.i!==i.i&&oy(e,e.next,t,i))return!0;e=e.next}while(e!==t);return!1}function Io(t,i){return Ss(t.prev,t,t.next)<0?Ss(t,i,t.next)>=0&&Ss(t,t.prev,i)>=0:Ss(t,i,t.prev)<0||Ss(t,t.next,i)<0}function iK(t,i){let e=t,s=!1;const n=(t.x+i.x)/2,l=(t.y+i.y)/2;do e.y>l!=e.next.y>l&&e.next.y!==e.y&&n<(e.next.x-e.x)*(l-e.y)/(e.next.y-e.y)+e.x&&(s=!s),e=e.next;while(e!==t);return s}function cy(t,i){const e=new Ku(t.i,t.x,t.y),s=new Ku(i.i,i.x,i.y),n=t.next,l=i.prev;return t.next=i,i.prev=t,e.next=n,n.prev=e,s.next=e,e.prev=s,l.next=s,s.prev=l,s}function hy(t,i,e,s){const n=new Ku(t,i,e);return s?(n.next=s.next,n.prev=s,s.next.prev=n,s.next=n):(n.prev=n,n.next=n),n}function go(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Ku(t,i,e){this.i=t,this.x=i,this.y=e,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function nK(t,i,e,s){let n=0;for(let l=i,r=e-s;l<e;l+=s)n+=(t[r]-t[l])*(t[l+1]+t[r+1]),r=l;return n}class Zl{static area(i){const e=i.length;let s=0;for(let n=e-1,l=0;l<e;n=l++)s+=i[n].x*i[l].y-i[l].x*i[n].y;return s*.5}static isClockWise(i){return Zl.area(i)<0}static triangulateShape(i,e){const s=[],n=[],l=[];dy(i),uy(s,i);let r=i.length;e.forEach(dy);for(let o=0;o<e.length;o++)n.push(r),r+=e[o].length,uy(s,e[o]);const a=PH.triangulate(s,n);for(let o=0;o<a.length;o+=3)l.push(a.slice(o,o+3));return l}}function dy(t){const i=t.length;i>2&&t[i-1].equals(t[0])&&t.pop()}function uy(t,i){for(let e=0;e<i.length;e++)t.push(i[e].x),t.push(i[e].y)}class sa extends Re{constructor(i=new To([new Wt(.5,.5),new Wt(-.5,.5),new Wt(-.5,-.5),new Wt(.5,-.5)]),e={}){super();this.type="ExtrudeGeometry",this.parameters={shapes:i,options:e},i=Array.isArray(i)?i:[i];const s=this,n=[],l=[];for(let a=0,o=i.length;a<o;a++){const c=i[a];r(c)}this.setAttribute("position",new us(n,3)),this.setAttribute("uv",new us(l,2)),this.computeVertexNormals();function r(a){const o=[],c=e.curveSegments!==void 0?e.curveSegments:12,h=e.steps!==void 0?e.steps:1;let d=e.depth!==void 0?e.depth:1,u=e.bevelEnabled!==void 0?e.bevelEnabled:!0,p=e.bevelThickness!==void 0?e.bevelThickness:.2,Z=e.bevelSize!==void 0?e.bevelSize:p-.1,X=e.bevelOffset!==void 0?e.bevelOffset:0,R=e.bevelSegments!==void 0?e.bevelSegments:3;const W=e.extrudePath,S=e.UVGenerator!==void 0?e.UVGenerator:lK;e.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),d=e.amount);let F,M=!1,N,E,Y,O;W&&(F=W.getSpacedPoints(h),M=!0,u=!1,N=W.computeFrenetFrames(h,!1),E=new z,Y=new z,O=new z),u||(R=0,p=0,Z=0,X=0);const q=a.extractPoints(c);let $=q.shape;const H=q.holes;if(!Zl.isClockWise($)){$=$.reverse();for(let bt=0,Xt=H.length;bt<Xt;bt++){const at=H[bt];Zl.isClockWise(at)&&(H[bt]=at.reverse())}}const mt=Zl.triangulateShape($,H),st=$;for(let bt=0,Xt=H.length;bt<Xt;bt++){const at=H[bt];$=$.concat(at)}function ot(bt,Xt,at){return Xt||console.error("THREE.ExtrudeGeometry: vec does not exist"),Xt.clone().multiplyScalar(at).add(bt)}const rt=$.length,lt=mt.length;function nt(bt,Xt,at){let jt,Ot,Le;const Ge=bt.x-Xt.x,ae=bt.y-Xt.y,cs=at.x-bt.x,_e=at.y-bt.y,B=Ge*Ge+ae*ae,U=Ge*_e-ae*cs;if(Math.abs(U)>Number.EPSILON){const ht=Math.sqrt(B),xt=Math.sqrt(cs*cs+_e*_e),Dt=Xt.x-ae/ht,$t=Xt.y+Ge/ht,pe=at.x-_e/xt,yt=at.y+cs/xt,Ce=((pe-Dt)*_e-(yt-$t)*cs)/(Ge*_e-ae*cs);jt=Dt+Ge*Ce-bt.x,Ot=$t+ae*Ce-bt.y;const xe=jt*jt+Ot*Ot;if(xe<=2)return new Wt(jt,Ot);Le=Math.sqrt(xe/2)}else{let ht=!1;Ge>Number.EPSILON?cs>Number.EPSILON&&(ht=!0):Ge<-Number.EPSILON?cs<-Number.EPSILON&&(ht=!0):Math.sign(ae)===Math.sign(_e)&&(ht=!0),ht?(jt=-ae,Ot=Ge,Le=Math.sqrt(B)):(jt=Ge,Ot=ae,Le=Math.sqrt(B/2))}return new Wt(jt/Le,Ot/Le)}const Gt=[];for(let bt=0,Xt=st.length,at=Xt-1,jt=bt+1;bt<Xt;bt++,at++,jt++)at===Xt&&(at=0),jt===Xt&&(jt=0),Gt[bt]=nt(st[bt],st[at],st[jt]);const gt=[];let Mt,Ct=Gt.concat();for(let bt=0,Xt=H.length;bt<Xt;bt++){const at=H[bt];Mt=[];for(let jt=0,Ot=at.length,Le=Ot-1,Ge=jt+1;jt<Ot;jt++,Le++,Ge++)Le===Ot&&(Le=0),Ge===Ot&&(Ge=0),Mt[jt]=nt(at[jt],at[Le],at[Ge]);gt.push(Mt),Ct=Ct.concat(Mt)}for(let bt=0;bt<R;bt++){const Xt=bt/R,at=p*Math.cos(Xt*Math.PI/2),jt=Z*Math.sin(Xt*Math.PI/2)+X;for(let Ot=0,Le=st.length;Ot<Le;Ot++){const Ge=ot(st[Ot],Gt[Ot],jt);Oe(Ge.x,Ge.y,-at)}for(let Ot=0,Le=H.length;Ot<Le;Ot++){const Ge=H[Ot];Mt=gt[Ot];for(let ae=0,cs=Ge.length;ae<cs;ae++){const _e=ot(Ge[ae],Mt[ae],jt);Oe(_e.x,_e.y,-at)}}}const wt=Z+X;for(let bt=0;bt<rt;bt++){const Xt=u?ot($[bt],Ct[bt],wt):$[bt];M?(Y.copy(N.normals[0]).multiplyScalar(Xt.x),E.copy(N.binormals[0]).multiplyScalar(Xt.y),O.copy(F[0]).add(Y).add(E),Oe(O.x,O.y,O.z)):Oe(Xt.x,Xt.y,0)}for(let bt=1;bt<=h;bt++)for(let Xt=0;Xt<rt;Xt++){const at=u?ot($[Xt],Ct[Xt],wt):$[Xt];M?(Y.copy(N.normals[bt]).multiplyScalar(at.x),E.copy(N.binormals[bt]).multiplyScalar(at.y),O.copy(F[bt]).add(Y).add(E),Oe(O.x,O.y,O.z)):Oe(at.x,at.y,d/h*bt)}for(let bt=R-1;bt>=0;bt--){const Xt=bt/R,at=p*Math.cos(Xt*Math.PI/2),jt=Z*Math.sin(Xt*Math.PI/2)+X;for(let Ot=0,Le=st.length;Ot<Le;Ot++){const Ge=ot(st[Ot],Gt[Ot],jt);Oe(Ge.x,Ge.y,d+at)}for(let Ot=0,Le=H.length;Ot<Le;Ot++){const Ge=H[Ot];Mt=gt[Ot];for(let ae=0,cs=Ge.length;ae<cs;ae++){const _e=ot(Ge[ae],Mt[ae],jt);M?Oe(_e.x,_e.y+F[h-1].y,F[h-1].x+at):Oe(_e.x,_e.y,d+at)}}}Me(),Xe();function Me(){const bt=n.length/3;if(u){let Xt=0,at=rt*Xt;for(let jt=0;jt<lt;jt++){const Ot=mt[jt];Se(Ot[2]+at,Ot[1]+at,Ot[0]+at)}Xt=h+R*2,at=rt*Xt;for(let jt=0;jt<lt;jt++){const Ot=mt[jt];Se(Ot[0]+at,Ot[1]+at,Ot[2]+at)}}else{for(let Xt=0;Xt<lt;Xt++){const at=mt[Xt];Se(at[2],at[1],at[0])}for(let Xt=0;Xt<lt;Xt++){const at=mt[Xt];Se(at[0]+rt*h,at[1]+rt*h,at[2]+rt*h)}}s.addGroup(bt,n.length/3-bt,0)}function Xe(){const bt=n.length/3;let Xt=0;Zt(st,Xt),Xt+=st.length;for(let at=0,jt=H.length;at<jt;at++){const Ot=H[at];Zt(Ot,Xt),Xt+=Ot.length}s.addGroup(bt,n.length/3-bt,1)}function Zt(bt,Xt){let at=bt.length;for(;--at>=0;){const jt=at;let Ot=at-1;Ot<0&&(Ot=bt.length-1);for(let Le=0,Ge=h+R*2;Le<Ge;Le++){const ae=rt*Le,cs=rt*(Le+1),_e=Xt+jt+ae,B=Xt+Ot+ae,U=Xt+Ot+cs,ht=Xt+jt+cs;ye(_e,B,U,ht)}}}function Oe(bt,Xt,at){o.push(bt),o.push(Xt),o.push(at)}function Se(bt,Xt,at){Lt(bt),Lt(Xt),Lt(at);const jt=n.length/3,Ot=S.generateTopUV(s,n,jt-3,jt-2,jt-1);ce(Ot[0]),ce(Ot[1]),ce(Ot[2])}function ye(bt,Xt,at,jt){Lt(bt),Lt(Xt),Lt(jt),Lt(Xt),Lt(at),Lt(jt);const Ot=n.length/3,Le=S.generateSideWallUV(s,n,Ot-6,Ot-3,Ot-2,Ot-1);ce(Le[0]),ce(Le[1]),ce(Le[3]),ce(Le[1]),ce(Le[2]),ce(Le[3])}function Lt(bt){n.push(o[bt*3+0]),n.push(o[bt*3+1]),n.push(o[bt*3+2])}function ce(bt){l.push(bt.x),l.push(bt.y)}}}toJSON(){const i=super.toJSON(),e=this.parameters.shapes,s=this.parameters.options;return rK(e,s,i)}static fromJSON(i,e){const s=[];for(let l=0,r=i.shapes.length;l<r;l++){const a=e[i.shapes[l]];s.push(a)}const n=i.options.extrudePath;return n!==void 0&&(i.options.extrudePath=new ry[n.type]().fromJSON(n)),new sa(s,i.options)}}const lK={generateTopUV:function(t,i,e,s,n){const l=i[e*3],r=i[e*3+1],a=i[s*3],o=i[s*3+1],c=i[n*3],h=i[n*3+1];return[new Wt(l,r),new Wt(a,o),new Wt(c,h)]},generateSideWallUV:function(t,i,e,s,n,l){const r=i[e*3],a=i[e*3+1],o=i[e*3+2],c=i[s*3],h=i[s*3+1],d=i[s*3+2],u=i[n*3],p=i[n*3+1],Z=i[n*3+2],X=i[l*3],R=i[l*3+1],W=i[l*3+2];return Math.abs(a-h)<Math.abs(r-c)?[new Wt(r,1-o),new Wt(c,1-d),new Wt(u,1-Z),new Wt(X,1-W)]:[new Wt(a,1-o),new Wt(h,1-d),new Wt(p,1-Z),new Wt(R,1-W)]}};function rK(t,i,e){if(e.shapes=[],Array.isArray(t))for(let s=0,n=t.length;s<n;s++){const l=t[s];e.shapes.push(l.uuid)}else e.shapes.push(t.uuid);return i.extrudePath!==void 0&&(e.options.extrudePath=i.extrudePath.toJSON()),e}class wu extends Re{constructor(i=.5,e=1,s=8,n=1,l=0,r=Math.PI*2){super();this.type="RingGeometry",this.parameters={innerRadius:i,outerRadius:e,thetaSegments:s,phiSegments:n,thetaStart:l,thetaLength:r},s=Math.max(3,s),n=Math.max(1,n);const a=[],o=[],c=[],h=[];let d=i;const u=(e-i)/n,p=new z,Z=new Wt;for(let X=0;X<=n;X++){for(let R=0;R<=s;R++){const W=l+R/s*r;p.x=d*Math.cos(W),p.y=d*Math.sin(W),o.push(p.x,p.y,p.z),c.push(0,0,1),Z.x=(p.x/e+1)/2,Z.y=(p.y/e+1)/2,h.push(Z.x,Z.y)}d+=u}for(let X=0;X<n;X++){const R=X*(s+1);for(let W=0;W<s;W++){const S=W+R,F=S,M=S+s+1,N=S+s+2,E=S+1;a.push(F,M,E),a.push(M,N,E)}}this.setIndex(a),this.setAttribute("position",new us(o,3)),this.setAttribute("normal",new us(c,3)),this.setAttribute("uv",new us(h,2))}static fromJSON(i){return new wu(i.innerRadius,i.outerRadius,i.thetaSegments,i.phiSegments,i.thetaStart,i.thetaLength)}}class ku extends Re{constructor(i=new To([new Wt(0,.5),new Wt(-.5,-.5),new Wt(.5,-.5)]),e=12){super();this.type="ShapeGeometry",this.parameters={shapes:i,curveSegments:e};const s=[],n=[],l=[],r=[];let a=0,o=0;if(Array.isArray(i)===!1)c(i);else for(let h=0;h<i.length;h++)c(i[h]),this.addGroup(a,o,h),a+=o,o=0;this.setIndex(s),this.setAttribute("position",new us(n,3)),this.setAttribute("normal",new us(l,3)),this.setAttribute("uv",new us(r,2));function c(h){const d=n.length/3,u=h.extractPoints(e);let p=u.shape;const Z=u.holes;Zl.isClockWise(p)===!1&&(p=p.reverse());for(let R=0,W=Z.length;R<W;R++){const S=Z[R];Zl.isClockWise(S)===!0&&(Z[R]=S.reverse())}const X=Zl.triangulateShape(p,Z);for(let R=0,W=Z.length;R<W;R++){const S=Z[R];p=p.concat(S)}for(let R=0,W=p.length;R<W;R++){const S=p[R];n.push(S.x,S.y,0),l.push(0,0,1),r.push(S.x,S.y)}for(let R=0,W=X.length;R<W;R++){const S=X[R],F=S[0]+d,M=S[1]+d,N=S[2]+d;s.push(F,M,N),o+=3}}}toJSON(){const i=super.toJSON(),e=this.parameters.shapes;return aK(e,i)}static fromJSON(i,e){const s=[];for(let n=0,l=i.shapes.length;n<l;n++){const r=e[i.shapes[n]];s.push(r)}return new ku(s,i.curveSegments)}}function aK(t,i){if(i.shapes=[],Array.isArray(t))for(let e=0,s=t.length;e<s;e++){const n=t[e];i.shapes.push(n.uuid)}else i.shapes.push(t.uuid);return i}class Gh extends Re{constructor(i=1,e=32,s=16,n=0,l=Math.PI*2,r=0,a=Math.PI){super();this.type="SphereGeometry",this.parameters={radius:i,widthSegments:e,heightSegments:s,phiStart:n,phiLength:l,thetaStart:r,thetaLength:a},e=Math.max(3,Math.floor(e)),s=Math.max(2,Math.floor(s));const o=Math.min(r+a,Math.PI);let c=0;const h=[],d=new z,u=new z,p=[],Z=[],X=[],R=[];for(let W=0;W<=s;W++){const S=[],F=W/s;let M=0;W==0&&r==0?M=.5/e:W==s&&o==Math.PI&&(M=-.5/e);for(let N=0;N<=e;N++){const E=N/e;d.x=-i*Math.cos(n+E*l)*Math.sin(r+F*a),d.y=i*Math.cos(r+F*a),d.z=i*Math.sin(n+E*l)*Math.sin(r+F*a),Z.push(d.x,d.y,d.z),u.copy(d).normalize(),X.push(u.x,u.y,u.z),R.push(E+M,1-F),S.push(c++)}h.push(S)}for(let W=0;W<s;W++)for(let S=0;S<e;S++){const F=h[W][S+1],M=h[W][S],N=h[W+1][S],E=h[W+1][S+1];(W!==0||r>0)&&p.push(F,M,E),(W!==s-1||o<Math.PI)&&p.push(M,N,E)}this.setIndex(p),this.setAttribute("position",new us(Z,3)),this.setAttribute("normal",new us(X,3)),this.setAttribute("uv",new us(R,2))}static fromJSON(i){return new Gh(i.radius,i.widthSegments,i.heightSegments,i.phiStart,i.phiLength,i.thetaStart,i.thetaLength)}}class py extends Ks{constructor(i){super();this.type="ShadowMaterial",this.color=new it(0),this.transparent=!0,this.setValues(i)}copy(i){return super.copy(i),this.color.copy(i.color),this}}py.prototype.isShadowMaterial=!0;class Pu extends ri{constructor(i){super(i);this.type="RawShaderMaterial"}}Pu.prototype.isRawShaderMaterial=!0;class Uu extends Ks{constructor(i){super();this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new it(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new it(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fr,this.normalScale=new Wt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(i)}copy(i){return super.copy(i),this.defines={STANDARD:""},this.color.copy(i.color),this.roughness=i.roughness,this.metalness=i.metalness,this.map=i.map,this.lightMap=i.lightMap,this.lightMapIntensity=i.lightMapIntensity,this.aoMap=i.aoMap,this.aoMapIntensity=i.aoMapIntensity,this.emissive.copy(i.emissive),this.emissiveMap=i.emissiveMap,this.emissiveIntensity=i.emissiveIntensity,this.bumpMap=i.bumpMap,this.bumpScale=i.bumpScale,this.normalMap=i.normalMap,this.normalMapType=i.normalMapType,this.normalScale.copy(i.normalScale),this.displacementMap=i.displacementMap,this.displacementScale=i.displacementScale,this.displacementBias=i.displacementBias,this.roughnessMap=i.roughnessMap,this.metalnessMap=i.metalnessMap,this.alphaMap=i.alphaMap,this.envMap=i.envMap,this.envMapIntensity=i.envMapIntensity,this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this.wireframeLinecap=i.wireframeLinecap,this.wireframeLinejoin=i.wireframeLinejoin,this.flatShading=i.flatShading,this}}Uu.prototype.isMeshStandardMaterial=!0;class my extends Uu{constructor(i){super();this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Wt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return zs(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.sheenColor=new it(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new it(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new it(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(i)}get sheen(){return this._sheen}set sheen(i){this._sheen>0!=i>0&&this.version++,this._sheen=i}get clearcoat(){return this._clearcoat}set clearcoat(i){this._clearcoat>0!=i>0&&this.version++,this._clearcoat=i}get transmission(){return this._transmission}set transmission(i){this._transmission>0!=i>0&&this.version++,this._transmission=i}copy(i){return super.copy(i),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=i.clearcoat,this.clearcoatMap=i.clearcoatMap,this.clearcoatRoughness=i.clearcoatRoughness,this.clearcoatRoughnessMap=i.clearcoatRoughnessMap,this.clearcoatNormalMap=i.clearcoatNormalMap,this.clearcoatNormalScale.copy(i.clearcoatNormalScale),this.ior=i.ior,this.sheen=i.sheen,this.sheenColor.copy(i.sheenColor),this.sheenColorMap=i.sheenColorMap,this.sheenRoughness=i.sheenRoughness,this.sheenRoughnessMap=i.sheenRoughnessMap,this.transmission=i.transmission,this.transmissionMap=i.transmissionMap,this.thickness=i.thickness,this.thicknessMap=i.thicknessMap,this.attenuationDistance=i.attenuationDistance,this.attenuationColor.copy(i.attenuationColor),this.specularIntensity=i.specularIntensity,this.specularIntensityMap=i.specularIntensityMap,this.specularColor.copy(i.specularColor),this.specularColorMap=i.specularColorMap,this}}my.prototype.isMeshPhysicalMaterial=!0;class Du extends Ks{constructor(i){super();this.type="MeshPhongMaterial",this.color=new it(16777215),this.specular=new it(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new it(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fr,this.normalScale=new Wt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Ic,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(i)}copy(i){return super.copy(i),this.color.copy(i.color),this.specular.copy(i.specular),this.shininess=i.shininess,this.map=i.map,this.lightMap=i.lightMap,this.lightMapIntensity=i.lightMapIntensity,this.aoMap=i.aoMap,this.aoMapIntensity=i.aoMapIntensity,this.emissive.copy(i.emissive),this.emissiveMap=i.emissiveMap,this.emissiveIntensity=i.emissiveIntensity,this.bumpMap=i.bumpMap,this.bumpScale=i.bumpScale,this.normalMap=i.normalMap,this.normalMapType=i.normalMapType,this.normalScale.copy(i.normalScale),this.displacementMap=i.displacementMap,this.displacementScale=i.displacementScale,this.displacementBias=i.displacementBias,this.specularMap=i.specularMap,this.alphaMap=i.alphaMap,this.envMap=i.envMap,this.combine=i.combine,this.reflectivity=i.reflectivity,this.refractionRatio=i.refractionRatio,this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this.wireframeLinecap=i.wireframeLinecap,this.wireframeLinejoin=i.wireframeLinejoin,this.flatShading=i.flatShading,this}}Du.prototype.isMeshPhongMaterial=!0;class by extends Ks{constructor(i){super();this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new it(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new it(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fr,this.normalScale=new Wt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(i)}copy(i){return super.copy(i),this.color.copy(i.color),this.map=i.map,this.gradientMap=i.gradientMap,this.lightMap=i.lightMap,this.lightMapIntensity=i.lightMapIntensity,this.aoMap=i.aoMap,this.aoMapIntensity=i.aoMapIntensity,this.emissive.copy(i.emissive),this.emissiveMap=i.emissiveMap,this.emissiveIntensity=i.emissiveIntensity,this.bumpMap=i.bumpMap,this.bumpScale=i.bumpScale,this.normalMap=i.normalMap,this.normalMapType=i.normalMapType,this.normalScale.copy(i.normalScale),this.displacementMap=i.displacementMap,this.displacementScale=i.displacementScale,this.displacementBias=i.displacementBias,this.alphaMap=i.alphaMap,this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this.wireframeLinecap=i.wireframeLinecap,this.wireframeLinejoin=i.wireframeLinejoin,this}}by.prototype.isMeshToonMaterial=!0;class yy extends Ks{constructor(i){super();this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fr,this.normalScale=new Wt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(i)}copy(i){return super.copy(i),this.bumpMap=i.bumpMap,this.bumpScale=i.bumpScale,this.normalMap=i.normalMap,this.normalMapType=i.normalMapType,this.normalScale.copy(i.normalScale),this.displacementMap=i.displacementMap,this.displacementScale=i.displacementScale,this.displacementBias=i.displacementBias,this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this.flatShading=i.flatShading,this}}yy.prototype.isMeshNormalMaterial=!0;class Zh extends Ks{constructor(i){super();this.type="MeshLambertMaterial",this.color=new it(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new it(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Ic,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(i)}copy(i){return super.copy(i),this.color.copy(i.color),this.map=i.map,this.lightMap=i.lightMap,this.lightMapIntensity=i.lightMapIntensity,this.aoMap=i.aoMap,this.aoMapIntensity=i.aoMapIntensity,this.emissive.copy(i.emissive),this.emissiveMap=i.emissiveMap,this.emissiveIntensity=i.emissiveIntensity,this.specularMap=i.specularMap,this.alphaMap=i.alphaMap,this.envMap=i.envMap,this.combine=i.combine,this.reflectivity=i.reflectivity,this.refractionRatio=i.refractionRatio,this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this.wireframeLinecap=i.wireframeLinecap,this.wireframeLinejoin=i.wireframeLinejoin,this}}Zh.prototype.isMeshLambertMaterial=!0;class Gy extends Ks{constructor(i){super();this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new it(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fr,this.normalScale=new Wt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(i)}copy(i){return super.copy(i),this.defines={MATCAP:""},this.color.copy(i.color),this.matcap=i.matcap,this.map=i.map,this.bumpMap=i.bumpMap,this.bumpScale=i.bumpScale,this.normalMap=i.normalMap,this.normalMapType=i.normalMapType,this.normalScale.copy(i.normalScale),this.displacementMap=i.displacementMap,this.displacementScale=i.displacementScale,this.displacementBias=i.displacementBias,this.alphaMap=i.alphaMap,this.flatShading=i.flatShading,this}}Gy.prototype.isMeshMatcapMaterial=!0;class Ju extends bn{constructor(i){super();this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(i)}copy(i){return super.copy(i),this.scale=i.scale,this.dashSize=i.dashSize,this.gapSize=i.gapSize,this}}Ju.prototype.isLineDashedMaterial=!0;const oK={ShadowMaterial:py,SpriteMaterial:sh,RawShaderMaterial:Pu,ShaderMaterial:ri,PointsMaterial:Su,MeshPhysicalMaterial:my,MeshStandardMaterial:Uu,MeshPhongMaterial:Du,MeshToonMaterial:by,MeshNormalMaterial:yy,MeshLambertMaterial:Zh,MeshDepthMaterial:Zu,MeshDistanceMaterial:Xu,MeshBasicMaterial:ul,MeshMatcapMaterial:Gy,LineDashedMaterial:Ju,LineBasicMaterial:bn,Material:Ks};Ks.fromType=function(t){return new oK[t]};const Rs={arraySlice:function(t,i,e){return Rs.isTypedArray(t)?new t.constructor(t.subarray(i,e!==void 0?e:t.length)):t.slice(i,e)},convertArray:function(t,i,e){return!t||!e&&t.constructor===i?t:typeof i.BYTES_PER_ELEMENT=="number"?new i(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){function i(n,l){return t[n]-t[l]}const e=t.length,s=new Array(e);for(let n=0;n!==e;++n)s[n]=n;return s.sort(i),s},sortedArray:function(t,i,e){const s=t.length,n=new t.constructor(s);for(let l=0,r=0;r!==s;++l){const a=e[l]*i;for(let o=0;o!==i;++o)n[r++]=t[a+o]}return n},flattenJSON:function(t,i,e,s){let n=1,l=t[0];for(;l!==void 0&&l[s]===void 0;)l=t[n++];if(l===void 0)return;let r=l[s];if(r!==void 0)if(Array.isArray(r))do r=l[s],r!==void 0&&(i.push(l.time),e.push.apply(e,r)),l=t[n++];while(l!==void 0);else if(r.toArray!==void 0)do r=l[s],r!==void 0&&(i.push(l.time),r.toArray(e,e.length)),l=t[n++];while(l!==void 0);else do r=l[s],r!==void 0&&(i.push(l.time),e.push(r)),l=t[n++];while(l!==void 0)},subclip:function(t,i,e,s,n=30){const l=t.clone();l.name=i;const r=[];for(let o=0;o<l.tracks.length;++o){const c=l.tracks[o],h=c.getValueSize(),d=[],u=[];for(let p=0;p<c.times.length;++p){const Z=c.times[p]*n;if(!(Z<e||Z>=s)){d.push(c.times[p]);for(let X=0;X<h;++X)u.push(c.values[p*h+X])}}d.length!==0&&(c.times=Rs.convertArray(d,c.times.constructor),c.values=Rs.convertArray(u,c.values.constructor),r.push(c))}l.tracks=r;let a=1/0;for(let o=0;o<l.tracks.length;++o)a>l.tracks[o].times[0]&&(a=l.tracks[o].times[0]);for(let o=0;o<l.tracks.length;++o)l.tracks[o].shift(-1*a);return l.resetDuration(),l},makeClipAdditive:function(t,i=0,e=t,s=30){s<=0&&(s=30);const n=e.tracks.length,l=i/s;for(let r=0;r<n;++r){const a=e.tracks[r],o=a.ValueTypeName;if(o==="bool"||o==="string")continue;const c=t.tracks.find(function(W){return W.name===a.name&&W.ValueTypeName===o});if(c===void 0)continue;let h=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=d/3);let u=0;const p=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=p/3);const Z=a.times.length-1;let X;if(l<=a.times[0]){const W=h,S=d-h;X=Rs.arraySlice(a.values,W,S)}else if(l>=a.times[Z]){const W=Z*d+h,S=W+d-h;X=Rs.arraySlice(a.values,W,S)}else{const W=a.createInterpolant(),S=h,F=d-h;W.evaluate(l),X=Rs.arraySlice(W.resultBuffer,S,F)}o==="quaternion"&&new Vs().fromArray(X).normalize().conjugate().toArray(X);const R=c.times.length;for(let W=0;W<R;++W){const S=W*p+u;if(o==="quaternion")Vs.multiplyQuaternionsFlat(c.values,S,X,0,c.values,S);else{const F=p-u*2;for(let M=0;M<F;++M)c.values[S+M]-=X[M]}}}return t.blendMode=z0,t}};class Xl{constructor(i,e,s,n){this.parameterPositions=i,this._cachedIndex=0,this.resultBuffer=n!==void 0?n:new e.constructor(s),this.sampleValues=e,this.valueSize=s,this.settings=null,this.DefaultSettings_={}}evaluate(i){const e=this.parameterPositions;let s=this._cachedIndex,n=e[s],l=e[s-1];t:{e:{let r;s:{i:if(!(i<n)){for(let a=s+2;;){if(n===void 0){if(i<l)break i;return s=e.length,this._cachedIndex=s,this.afterEnd_(s-1,i,l)}if(s===a)break;if(l=n,n=e[++s],i<n)break e}r=e.length;break s}if(!(i>=l)){const a=e[1];i<a&&(s=2,l=a);for(let o=s-2;;){if(l===void 0)return this._cachedIndex=0,this.beforeStart_(0,i,n);if(s===o)break;if(n=l,l=e[--s-1],i>=l)break e}r=s,s=0;break s}break t}for(;s<r;){const a=s+r>>>1;i<e[a]?r=a:s=a+1}if(n=e[s],l=e[s-1],l===void 0)return this._cachedIndex=0,this.beforeStart_(0,i,n);if(n===void 0)return s=e.length,this._cachedIndex=s,this.afterEnd_(s-1,l,i)}this._cachedIndex=s,this.intervalChanged_(s,l,n)}return this.interpolate_(s,l,i,n)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(i){const e=this.resultBuffer,s=this.sampleValues,n=this.valueSize,l=i*n;for(let r=0;r!==n;++r)e[r]=s[l+r];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}Xl.prototype.beforeStart_=Xl.prototype.copySampleValue_,Xl.prototype.afterEnd_=Xl.prototype.copySampleValue_;class cK extends Xl{constructor(i,e,s,n){super(i,e,s,n);this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:xr,endingEnd:xr}}intervalChanged_(i,e,s){const n=this.parameterPositions;let l=i-2,r=i+1,a=n[l],o=n[r];if(a===void 0)switch(this.getSettings_().endingStart){case Nr:l=i,a=2*e-s;break;case Cc:l=n.length-2,a=e+n[l]-n[l+1];break;default:l=i,a=s}if(o===void 0)switch(this.getSettings_().endingEnd){case Nr:r=i,o=2*s-e;break;case Cc:r=1,o=s+n[1]-n[0];break;default:r=i-1,o=e}const c=(s-e)*.5,h=this.valueSize;this._weightPrev=c/(e-a),this._weightNext=c/(o-s),this._offsetPrev=l*h,this._offsetNext=r*h}interpolate_(i,e,s,n){const l=this.resultBuffer,r=this.sampleValues,a=this.valueSize,o=i*a,c=o-a,h=this._offsetPrev,d=this._offsetNext,u=this._weightPrev,p=this._weightNext,Z=(s-e)/(n-e),X=Z*Z,R=X*Z,W=-u*R+2*u*X-u*Z,S=(1+u)*R+(-1.5-2*u)*X+(-.5+u)*Z+1,F=(-1-p)*R+(1.5+p)*X+.5*Z,M=p*R-p*X;for(let N=0;N!==a;++N)l[N]=W*r[h+N]+S*r[c+N]+F*r[o+N]+M*r[d+N];return l}}class Zy extends Xl{constructor(i,e,s,n){super(i,e,s,n)}interpolate_(i,e,s,n){const l=this.resultBuffer,r=this.sampleValues,a=this.valueSize,o=i*a,c=o-a,h=(s-e)/(n-e),d=1-h;for(let u=0;u!==a;++u)l[u]=r[c+u]*d+r[o+u]*h;return l}}class hK extends Xl{constructor(i,e,s,n){super(i,e,s,n)}interpolate_(i){return this.copySampleValue_(i-1)}}class yn{constructor(i,e,s,n){if(i===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(e===void 0||e.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+i);this.name=i,this.times=Rs.convertArray(e,this.TimeBufferType),this.values=Rs.convertArray(s,this.ValueBufferType),this.setInterpolation(n||this.DefaultInterpolation)}static toJSON(i){const e=i.constructor;let s;if(e.toJSON!==this.toJSON)s=e.toJSON(i);else{s={name:i.name,times:Rs.convertArray(i.times,Array),values:Rs.convertArray(i.values,Array)};const n=i.getInterpolation();n!==i.DefaultInterpolation&&(s.interpolation=n)}return s.type=i.ValueTypeName,s}InterpolantFactoryMethodDiscrete(i){return new hK(this.times,this.values,this.getValueSize(),i)}InterpolantFactoryMethodLinear(i){return new Zy(this.times,this.values,this.getValueSize(),i)}InterpolantFactoryMethodSmooth(i){return new cK(this.times,this.values,this.getValueSize(),i)}setInterpolation(i){let e;switch(i){case Lc:e=this.InterpolantFactoryMethodDiscrete;break;case Sc:e=this.InterpolantFactoryMethodLinear;break;case Ed:e=this.InterpolantFactoryMethodSmooth;break}if(e===void 0){const s="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(i!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(s);return console.warn("THREE.KeyframeTrack:",s),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Lc;case this.InterpolantFactoryMethodLinear:return Sc;case this.InterpolantFactoryMethodSmooth:return Ed}}getValueSize(){return this.values.length/this.times.length}shift(i){if(i!==0){const e=this.times;for(let s=0,n=e.length;s!==n;++s)e[s]+=i}return this}scale(i){if(i!==1){const e=this.times;for(let s=0,n=e.length;s!==n;++s)e[s]*=i}return this}trim(i,e){const s=this.times,n=s.length;let l=0,r=n-1;for(;l!==n&&s[l]<i;)++l;for(;r!==-1&&s[r]>e;)--r;if(++r,l!==0||r!==n){l>=r&&(r=Math.max(r,1),l=r-1);const a=this.getValueSize();this.times=Rs.arraySlice(s,l,r),this.values=Rs.arraySlice(this.values,l*a,r*a)}return this}validate(){let i=!0;const e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),i=!1);const s=this.times,n=this.values,l=s.length;l===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),i=!1);let r=null;for(let a=0;a!==l;a++){const o=s[a];if(typeof o=="number"&&isNaN(o)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,o),i=!1;break}if(r!==null&&r>o){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,o,r),i=!1;break}r=o}if(n!==void 0&&Rs.isTypedArray(n))for(let a=0,o=n.length;a!==o;++a){const c=n[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),i=!1;break}}return i}optimize(){const i=Rs.arraySlice(this.times),e=Rs.arraySlice(this.values),s=this.getValueSize(),n=this.getInterpolation()===Ed,l=i.length-1;let r=1;for(let a=1;a<l;++a){let o=!1;const c=i[a],h=i[a+1];if(c!==h&&(a!==1||c!==i[0]))if(n)o=!0;else{const d=a*s,u=d-s,p=d+s;for(let Z=0;Z!==s;++Z){const X=e[d+Z];if(X!==e[u+Z]||X!==e[p+Z]){o=!0;break}}}if(o){if(a!==r){i[r]=i[a];const d=a*s,u=r*s;for(let p=0;p!==s;++p)e[u+p]=e[d+p]}++r}}if(l>0){i[r]=i[l];for(let a=l*s,o=r*s,c=0;c!==s;++c)e[o+c]=e[a+c];++r}return r!==i.length?(this.times=Rs.arraySlice(i,0,r),this.values=Rs.arraySlice(e,0,r*s)):(this.times=i,this.values=e),this}clone(){const i=Rs.arraySlice(this.times,0),e=Rs.arraySlice(this.values,0),s=this.constructor,n=new s(this.name,i,e);return n.createInterpolant=this.createInterpolant,n}}yn.prototype.TimeBufferType=Float32Array,yn.prototype.ValueBufferType=Float32Array,yn.prototype.DefaultInterpolation=Sc;class ia extends yn{}ia.prototype.ValueTypeName="bool",ia.prototype.ValueBufferType=Array,ia.prototype.DefaultInterpolation=Lc,ia.prototype.InterpolantFactoryMethodLinear=void 0,ia.prototype.InterpolantFactoryMethodSmooth=void 0;class Xy extends yn{}Xy.prototype.ValueTypeName="color";class Xh extends yn{}Xh.prototype.ValueTypeName="number";class dK extends Xl{constructor(i,e,s,n){super(i,e,s,n)}interpolate_(i,e,s,n){const l=this.resultBuffer,r=this.sampleValues,a=this.valueSize,o=(s-e)/(n-e);let c=i*a;for(let h=c+a;c!==h;c+=4)Vs.slerpFlat(l,0,r,c-a,r,c,o);return l}}class Wo extends yn{InterpolantFactoryMethodLinear(i){return new dK(this.times,this.values,this.getValueSize(),i)}}Wo.prototype.ValueTypeName="quaternion",Wo.prototype.DefaultInterpolation=Sc,Wo.prototype.InterpolantFactoryMethodSmooth=void 0;class na extends yn{}na.prototype.ValueTypeName="string",na.prototype.ValueBufferType=Array,na.prototype.DefaultInterpolation=Lc,na.prototype.InterpolantFactoryMethodLinear=void 0,na.prototype.InterpolantFactoryMethodSmooth=void 0;class Th extends yn{}Th.prototype.ValueTypeName="vector";class Ty{constructor(i,e=-1,s,n=zd){this.name=i,this.tracks=s,this.duration=e,this.blendMode=n,this.uuid=Ai(),this.duration<0&&this.resetDuration()}static parse(i){const e=[],s=i.tracks,n=1/(i.fps||1);for(let r=0,a=s.length;r!==a;++r)e.push(pK(s[r]).scale(n));const l=new this(i.name,i.duration,e,i.blendMode);return l.uuid=i.uuid,l}static toJSON(i){const e=[],s=i.tracks,n={name:i.name,duration:i.duration,tracks:e,uuid:i.uuid,blendMode:i.blendMode};for(let l=0,r=s.length;l!==r;++l)e.push(yn.toJSON(s[l]));return n}static CreateFromMorphTargetSequence(i,e,s,n){const l=e.length,r=[];for(let a=0;a<l;a++){let o=[],c=[];o.push((a+l-1)%l,a,(a+1)%l),c.push(0,1,0);const h=Rs.getKeyframeOrder(o);o=Rs.sortedArray(o,1,h),c=Rs.sortedArray(c,1,h),!n&&o[0]===0&&(o.push(l),c.push(c[0])),r.push(new Xh(".morphTargetInfluences["+e[a].name+"]",o,c).scale(1/s))}return new this(i,-1,r)}static findByName(i,e){let s=i;if(!Array.isArray(i)){const n=i;s=n.geometry&&n.geometry.animations||n.animations}for(let n=0;n<s.length;n++)if(s[n].name===e)return s[n];return null}static CreateClipsFromMorphTargetSequences(i,e,s){const n={},l=/^([\w-]*?)([\d]+)$/;for(let a=0,o=i.length;a<o;a++){const c=i[a],h=c.name.match(l);if(h&&h.length>1){const d=h[1];let u=n[d];u||(n[d]=u=[]),u.push(c)}}const r=[];for(const a in n)r.push(this.CreateFromMorphTargetSequence(a,n[a],e,s));return r}static parseAnimation(i,e){if(!i)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const s=function(d,u,p,Z,X){if(p.length!==0){const R=[],W=[];Rs.flattenJSON(p,R,W,Z),R.length!==0&&X.push(new d(u,R,W))}},n=[],l=i.name||"default",r=i.fps||30,a=i.blendMode;let o=i.length||-1;const c=i.hierarchy||[];for(let d=0;d<c.length;d++){const u=c[d].keys;if(!(!u||u.length===0))if(u[0].morphTargets){const p={};let Z;for(Z=0;Z<u.length;Z++)if(u[Z].morphTargets)for(let X=0;X<u[Z].morphTargets.length;X++)p[u[Z].morphTargets[X]]=-1;for(const X in p){const R=[],W=[];for(let S=0;S!==u[Z].morphTargets.length;++S){const F=u[Z];R.push(F.time),W.push(F.morphTarget===X?1:0)}n.push(new Xh(".morphTargetInfluence["+X+"]",R,W))}o=p.length*r}else{const p=".bones["+e[d].name+"]";s(Th,p+".position",u,"pos",n),s(Wo,p+".quaternion",u,"rot",n),s(Th,p+".scale",u,"scl",n)}}return n.length===0?null:new this(l,o,n,a)}resetDuration(){const i=this.tracks;let e=0;for(let s=0,n=i.length;s!==n;++s){const l=this.tracks[s];e=Math.max(e,l.times[l.times.length-1])}return this.duration=e,this}trim(){for(let i=0;i<this.tracks.length;i++)this.tracks[i].trim(0,this.duration);return this}validate(){let i=!0;for(let e=0;e<this.tracks.length;e++)i=i&&this.tracks[e].validate();return i}optimize(){for(let i=0;i<this.tracks.length;i++)this.tracks[i].optimize();return this}clone(){const i=[];for(let e=0;e<this.tracks.length;e++)i.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,i,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function uK(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Xh;case"vector":case"vector2":case"vector3":case"vector4":return Th;case"color":return Xy;case"quaternion":return Wo;case"bool":case"boolean":return ia;case"string":return na}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function pK(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const i=uK(t.type);if(t.times===void 0){const e=[],s=[];Rs.flattenJSON(t.keys,e,s,"value"),t.times=e,t.values=s}return i.parse!==void 0?i.parse(t):new i(t.name,t.times,t.values,t.interpolation)}const la={enabled:!1,files:{},add:function(t,i){this.enabled!==!1&&(this.files[t]=i)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class Ry{constructor(i,e,s){const n=this;let l=!1,r=0,a=0,o;const c=[];this.onStart=void 0,this.onLoad=i,this.onProgress=e,this.onError=s,this.itemStart=function(h){a++,l===!1&&n.onStart!==void 0&&n.onStart(h,r,a),l=!0},this.itemEnd=function(h){r++,n.onProgress!==void 0&&n.onProgress(h,r,a),r===a&&(l=!1,n.onLoad!==void 0&&n.onLoad())},this.itemError=function(h){n.onError!==void 0&&n.onError(h)},this.resolveURL=function(h){return o?o(h):h},this.setURLModifier=function(h){return o=h,this},this.addHandler=function(h,d){return c.push(h,d),this},this.removeHandler=function(h){const d=c.indexOf(h);return d!==-1&&c.splice(d,2),this},this.getHandler=function(h){for(let d=0,u=c.length;d<u;d+=2){const p=c[d],Z=c[d+1];if(p.global&&(p.lastIndex=0),p.test(h))return Z}return null}}}const mK=new Ry;class On{constructor(i){this.manager=i!==void 0?i:mK,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(i,e){const s=this;return new Promise(function(n,l){s.load(i,n,e,l)})}parse(){}setCrossOrigin(i){return this.crossOrigin=i,this}setWithCredentials(i){return this.withCredentials=i,this}setPath(i){return this.path=i,this}setResourcePath(i){return this.resourcePath=i,this}setRequestHeader(i){return this.requestHeader=i,this}}const Bn={};class Iy extends On{constructor(i){super(i)}load(i,e,s,n){i===void 0&&(i=""),this.path!==void 0&&(i=this.path+i),i=this.manager.resolveURL(i);const l=la.get(i);if(l!==void 0)return this.manager.itemStart(i),setTimeout(()=>{e&&e(l),this.manager.itemEnd(i)},0),l;if(Bn[i]!==void 0){Bn[i].push({onLoad:e,onProgress:s,onError:n});return}Bn[i]=[],Bn[i].push({onLoad:e,onProgress:s,onError:n});const r=new Request(i,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,o=this.responseType;fetch(r).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const h=Bn[i],d=c.body.getReader(),u=c.headers.get("Content-Length"),p=u?parseInt(u):0,Z=p!==0;let X=0;const R=new ReadableStream({start(W){S();function S(){d.read().then(({done:F,value:M})=>{if(F)W.close();else{X+=M.byteLength;const N=new ProgressEvent("progress",{lengthComputable:Z,loaded:X,total:p});for(let E=0,Y=h.length;E<Y;E++){const O=h[E];O.onProgress&&O.onProgress(N)}W.enqueue(M),S()}})}}});return new Response(R)}else throw Error(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`)}).then(c=>{switch(o){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(h=>new DOMParser().parseFromString(h,a));case"json":return c.json();default:if(a===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),u=d&&d[1]?d[1].toLowerCase():void 0,p=new TextDecoder(u);return c.arrayBuffer().then(Z=>p.decode(Z))}}}).then(c=>{la.add(i,c);const h=Bn[i];delete Bn[i];for(let d=0,u=h.length;d<u;d++){const p=h[d];p.onLoad&&p.onLoad(c)}}).catch(c=>{const h=Bn[i];if(h===void 0)throw this.manager.itemError(i),c;delete Bn[i];for(let d=0,u=h.length;d<u;d++){const p=h[d];p.onError&&p.onError(c)}this.manager.itemError(i)}).finally(()=>{this.manager.itemEnd(i)}),this.manager.itemStart(i)}setResponseType(i){return this.responseType=i,this}setMimeType(i){return this.mimeType=i,this}}class gy extends On{constructor(i){super(i)}load(i,e,s,n){this.path!==void 0&&(i=this.path+i),i=this.manager.resolveURL(i);const l=this,r=la.get(i);if(r!==void 0)return l.manager.itemStart(i),setTimeout(function(){e&&e(r),l.manager.itemEnd(i)},0),r;const a=no("img");function o(){h(),la.add(i,this),e&&e(this),l.manager.itemEnd(i)}function c(d){h(),n&&n(d),l.manager.itemError(i),l.manager.itemEnd(i)}function h(){a.removeEventListener("load",o,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",o,!1),a.addEventListener("error",c,!1),i.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),l.manager.itemStart(i),a.src=i,a}}class bK extends On{constructor(i){super(i)}load(i,e,s,n){const l=new _c,r=new gy(this.manager);r.setCrossOrigin(this.crossOrigin),r.setPath(this.path);let a=0;function o(c){r.load(i[c],function(h){l.images[c]=h,a++,a===6&&(l.needsUpdate=!0,e&&e(l))},void 0,n)}for(let c=0;c<i.length;++c)o(c);return l}}class Wy extends On{constructor(i){super(i)}load(i,e,s,n){const l=new Ls,r=new gy(this.manager);return r.setCrossOrigin(this.crossOrigin),r.setPath(this.path),r.load(i,function(a){l.image=a,l.needsUpdate=!0,e!==void 0&&e(l)},s,n),l}}class Gn extends we{constructor(i,e=1){super();this.type="Light",this.color=new it(i),this.intensity=e}dispose(){}copy(i){return super.copy(i),this.color.copy(i.color),this.intensity=i.intensity,this}toJSON(i){const e=super.toJSON(i);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,this.groundColor!==void 0&&(e.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(e.object.distance=this.distance),this.angle!==void 0&&(e.object.angle=this.angle),this.decay!==void 0&&(e.object.decay=this.decay),this.penumbra!==void 0&&(e.object.penumbra=this.penumbra),this.shadow!==void 0&&(e.object.shadow=this.shadow.toJSON()),e}}Gn.prototype.isLight=!0;class yK extends Gn{constructor(i,e,s){super(i,s);this.type="HemisphereLight",this.position.copy(we.DefaultUp),this.updateMatrix(),this.groundColor=new it(e)}copy(i){return Gn.prototype.copy.call(this,i),this.groundColor.copy(i.groundColor),this}}yK.prototype.isHemisphereLight=!0;const Ly=new _t,Sy=new z,Cy=new z;class Ou{constructor(i){this.camera=i,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Wt(512,512),this.map=null,this.mapPass=null,this.matrix=new _t,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new oo,this._frameExtents=new Wt(1,1),this._viewportCount=1,this._viewports=[new Ut(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(i){const e=this.camera,s=this.matrix;Sy.setFromMatrixPosition(i.matrixWorld),e.position.copy(Sy),Cy.setFromMatrixPosition(i.target.matrixWorld),e.lookAt(Cy),e.updateMatrixWorld(),Ly.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Ly),s.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),s.multiply(e.projectionMatrix),s.multiply(e.matrixWorldInverse)}getViewport(i){return this._viewports[i]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(i){return this.camera=i.camera.clone(),this.bias=i.bias,this.radius=i.radius,this.mapSize.copy(i.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const i={};return this.bias!==0&&(i.bias=this.bias),this.normalBias!==0&&(i.normalBias=this.normalBias),this.radius!==1&&(i.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(i.mapSize=this.mapSize.toArray()),i.camera=this.camera.toJSON(!1).object,delete i.camera.matrix,i}}class fy extends Ou{constructor(){super(new ai(50,1,.5,500));this.focus=1}updateMatrices(i){const e=this.camera,s=so*2*i.angle*this.focus,n=this.mapSize.width/this.mapSize.height,l=i.distance||e.far;(s!==e.fov||n!==e.aspect||l!==e.far)&&(e.fov=s,e.aspect=n,e.far=l,e.updateProjectionMatrix()),super.updateMatrices(i)}copy(i){return super.copy(i),this.focus=i.focus,this}}fy.prototype.isSpotLightShadow=!0;class GK extends Gn{constructor(i,e,s=0,n=Math.PI/3,l=0,r=1){super(i,e);this.type="SpotLight",this.position.copy(we.DefaultUp),this.updateMatrix(),this.target=new we,this.distance=s,this.angle=n,this.penumbra=l,this.decay=r,this.shadow=new fy}get power(){return this.intensity*Math.PI}set power(i){this.intensity=i/Math.PI}dispose(){this.shadow.dispose()}copy(i){return super.copy(i),this.distance=i.distance,this.angle=i.angle,this.penumbra=i.penumbra,this.decay=i.decay,this.target=i.target.clone(),this.shadow=i.shadow.clone(),this}}GK.prototype.isSpotLight=!0;const Vy=new _t,Lo=new z,Bu=new z;class xy extends Ou{constructor(){super(new ai(90,1,.5,500));this._frameExtents=new Wt(4,2),this._viewportCount=6,this._viewports=[new Ut(2,1,1,1),new Ut(0,1,1,1),new Ut(3,1,1,1),new Ut(1,1,1,1),new Ut(3,0,1,1),new Ut(1,0,1,1)],this._cubeDirections=[new z(1,0,0),new z(-1,0,0),new z(0,0,1),new z(0,0,-1),new z(0,1,0),new z(0,-1,0)],this._cubeUps=[new z(0,1,0),new z(0,1,0),new z(0,1,0),new z(0,1,0),new z(0,0,1),new z(0,0,-1)]}updateMatrices(i,e=0){const s=this.camera,n=this.matrix,l=i.distance||s.far;l!==s.far&&(s.far=l,s.updateProjectionMatrix()),Lo.setFromMatrixPosition(i.matrixWorld),s.position.copy(Lo),Bu.copy(s.position),Bu.add(this._cubeDirections[e]),s.up.copy(this._cubeUps[e]),s.lookAt(Bu),s.updateMatrixWorld(),n.makeTranslation(-Lo.x,-Lo.y,-Lo.z),Vy.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Vy)}}xy.prototype.isPointLightShadow=!0;class ZK extends Gn{constructor(i,e,s=0,n=1){super(i,e);this.type="PointLight",this.distance=s,this.decay=n,this.shadow=new xy}get power(){return this.intensity*4*Math.PI}set power(i){this.intensity=i/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(i){return super.copy(i),this.distance=i.distance,this.decay=i.decay,this.shadow=i.shadow.clone(),this}}ZK.prototype.isPointLight=!0;class Ny extends Ou{constructor(){super(new $c(-5,5,5,-5,.5,500))}}Ny.prototype.isDirectionalLightShadow=!0;class Au extends Gn{constructor(i,e){super(i,e);this.type="DirectionalLight",this.position.copy(we.DefaultUp),this.updateMatrix(),this.target=new we,this.shadow=new Ny}dispose(){this.shadow.dispose()}copy(i){return super.copy(i),this.target=i.target.clone(),this.shadow=i.shadow.clone(),this}}Au.prototype.isDirectionalLight=!0;class Fy extends Gn{constructor(i,e){super(i,e);this.type="AmbientLight"}}Fy.prototype.isAmbientLight=!0;class XK extends Gn{constructor(i,e,s=10,n=10){super(i,e);this.type="RectAreaLight",this.width=s,this.height=n}get power(){return this.intensity*this.width*this.height*Math.PI}set power(i){this.intensity=i/(this.width*this.height*Math.PI)}copy(i){return super.copy(i),this.width=i.width,this.height=i.height,this}toJSON(i){const e=super.toJSON(i);return e.object.width=this.width,e.object.height=this.height,e}}XK.prototype.isRectAreaLight=!0;class My{constructor(){this.coefficients=[];for(let i=0;i<9;i++)this.coefficients.push(new z)}set(i){for(let e=0;e<9;e++)this.coefficients[e].copy(i[e]);return this}zero(){for(let i=0;i<9;i++)this.coefficients[i].set(0,0,0);return this}getAt(i,e){const s=i.x,n=i.y,l=i.z,r=this.coefficients;return e.copy(r[0]).multiplyScalar(.282095),e.addScaledVector(r[1],.488603*n),e.addScaledVector(r[2],.488603*l),e.addScaledVector(r[3],.488603*s),e.addScaledVector(r[4],1.092548*(s*n)),e.addScaledVector(r[5],1.092548*(n*l)),e.addScaledVector(r[6],.315392*(3*l*l-1)),e.addScaledVector(r[7],1.092548*(s*l)),e.addScaledVector(r[8],.546274*(s*s-n*n)),e}getIrradianceAt(i,e){const s=i.x,n=i.y,l=i.z,r=this.coefficients;return e.copy(r[0]).multiplyScalar(.886227),e.addScaledVector(r[1],2*.511664*n),e.addScaledVector(r[2],2*.511664*l),e.addScaledVector(r[3],2*.511664*s),e.addScaledVector(r[4],2*.429043*s*n),e.addScaledVector(r[5],2*.429043*n*l),e.addScaledVector(r[6],.743125*l*l-.247708),e.addScaledVector(r[7],2*.429043*s*l),e.addScaledVector(r[8],.429043*(s*s-n*n)),e}add(i){for(let e=0;e<9;e++)this.coefficients[e].add(i.coefficients[e]);return this}addScaledSH(i,e){for(let s=0;s<9;s++)this.coefficients[s].addScaledVector(i.coefficients[s],e);return this}scale(i){for(let e=0;e<9;e++)this.coefficients[e].multiplyScalar(i);return this}lerp(i,e){for(let s=0;s<9;s++)this.coefficients[s].lerp(i.coefficients[s],e);return this}equals(i){for(let e=0;e<9;e++)if(!this.coefficients[e].equals(i.coefficients[e]))return!1;return!0}copy(i){return this.set(i.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(i,e=0){const s=this.coefficients;for(let n=0;n<9;n++)s[n].fromArray(i,e+n*3);return this}toArray(i=[],e=0){const s=this.coefficients;for(let n=0;n<9;n++)s[n].toArray(i,e+n*3);return i}static getBasisAt(i,e){const s=i.x,n=i.y,l=i.z;e[0]=.282095,e[1]=.488603*n,e[2]=.488603*l,e[3]=.488603*s,e[4]=1.092548*s*n,e[5]=1.092548*n*l,e[6]=.315392*(3*l*l-1),e[7]=1.092548*s*l,e[8]=.546274*(s*s-n*n)}}My.prototype.isSphericalHarmonics3=!0;class ju extends Gn{constructor(i=new My,e=1){super(void 0,e);this.sh=i}copy(i){return super.copy(i),this.sh.copy(i.sh),this}fromJSON(i){return this.intensity=i.intensity,this.sh.fromArray(i.sh),this}toJSON(i){const e=super.toJSON(i);return e.object.sh=this.sh.toArray(),e}}ju.prototype.isLightProbe=!0;class TK{static decodeText(i){if(typeof TextDecoder<"u")return new TextDecoder().decode(i);let e="";for(let s=0,n=i.length;s<n;s++)e+=String.fromCharCode(i[s]);try{return decodeURIComponent(escape(e))}catch{return e}}static extractUrlBase(i){const e=i.lastIndexOf("/");return e===-1?"./":i.slice(0,e+1)}static resolveURL(i,e){return typeof i!="string"||i===""?"":(/^https?:\/\//i.test(e)&&/^\//.test(i)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(i)||/^data:.*,.*$/i.test(i)||/^blob:.*$/i.test(i)?i:e+i)}}class RK extends Re{constructor(){super();this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(i){return super.copy(i),this.instanceCount=i.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const i=super.toJSON(this);return i.instanceCount=this.instanceCount,i.isInstancedBufferGeometry=!0,i}}RK.prototype.isInstancedBufferGeometry=!0;class IK extends On{constructor(i){super(i);typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(i){return this.options=i,this}load(i,e,s,n){i===void 0&&(i=""),this.path!==void 0&&(i=this.path+i),i=this.manager.resolveURL(i);const l=this,r=la.get(i);if(r!==void 0)return l.manager.itemStart(i),setTimeout(function(){e&&e(r),l.manager.itemEnd(i)},0),r;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(i,a).then(function(o){return o.blob()}).then(function(o){return createImageBitmap(o,Object.assign(l.options,{colorSpaceConversion:"none"}))}).then(function(o){la.add(i,o),e&&e(o),l.manager.itemEnd(i)}).catch(function(o){n&&n(o),l.manager.itemError(i),l.manager.itemEnd(i)}),l.manager.itemStart(i)}}IK.prototype.isImageBitmapLoader=!0;let Rh;const gK={getContext:function(){return Rh===void 0&&(Rh=new(window.AudioContext||window.webkitAudioContext)),Rh},setContext:function(t){Rh=t}};class WK extends On{constructor(i){super(i)}load(i,e,s,n){const l=this,r=new Iy(this.manager);r.setResponseType("arraybuffer"),r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(i,function(a){try{const o=a.slice(0);gK.getContext().decodeAudioData(o,function(h){e(h)})}catch(o){n?n(o):console.error(o),l.manager.itemError(i)}},s,n)}}class LK extends ju{constructor(i,e,s=1){super(void 0,s);const n=new it().set(i),l=new it().set(e),r=new z(n.r,n.g,n.b),a=new z(l.r,l.g,l.b),o=Math.sqrt(Math.PI),c=o*Math.sqrt(.75);this.sh.coefficients[0].copy(r).add(a).multiplyScalar(o),this.sh.coefficients[1].copy(r).sub(a).multiplyScalar(c)}}LK.prototype.isHemisphereLightProbe=!0;class SK extends ju{constructor(i,e=1){super(void 0,e);const s=new it().set(i);this.sh.coefficients[0].set(s.r,s.g,s.b).multiplyScalar(2*Math.sqrt(Math.PI))}}SK.prototype.isAmbientLightProbe=!0;class CK{constructor(i=!0){this.autoStart=i,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Yy(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let i=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=Yy();i=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=i}return i}}function Yy(){return(typeof performance>"u"?Date:performance).now()}class fK extends we{constructor(i){super();this.type="Audio",this.listener=i,this.context=i.context,this.gain=this.context.createGain(),this.gain.connect(i.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(i){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=i,this.connect(),this}setMediaElementSource(i){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(i),this.connect(),this}setMediaStreamSource(i){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(i),this.connect(),this}setBuffer(i){return this.buffer=i,this.sourceType="buffer",this.autoplay&&this.play(),this}play(i=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+i;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let i=1,e=this.filters.length;i<e;i++)this.filters[i-1].connect(this.filters[i]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let i=1,e=this.filters.length;i<e;i++)this.filters[i-1].disconnect(this.filters[i]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(i){return i||(i=[]),this._connected===!0?(this.disconnect(),this.filters=i.slice(),this.connect()):this.filters=i.slice(),this}setDetune(i){if(this.detune=i,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(i){return this.setFilters(i?[i]:[])}setPlaybackRate(i){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=i,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(i){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=i,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(i){return this.loopStart=i,this}setLoopEnd(i){return this.loopEnd=i,this}getVolume(){return this.gain.gain.value}setVolume(i){return this.gain.gain.setTargetAtTime(i,this.context.currentTime,.01),this}}class VK{constructor(i,e,s){this.binding=i,this.valueSize=s;let n,l,r;switch(e){case"quaternion":n=this._slerp,l=this._slerpAdditive,r=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(s*6),this._workIndex=5;break;case"string":case"bool":n=this._select,l=this._select,r=this._setAdditiveIdentityOther,this.buffer=new Array(s*5);break;default:n=this._lerp,l=this._lerpAdditive,r=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(s*5)}this._mixBufferRegion=n,this._mixBufferRegionAdditive=l,this._setIdentity=r,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(i,e){const s=this.buffer,n=this.valueSize,l=i*n+n;let r=this.cumulativeWeight;if(r===0){for(let a=0;a!==n;++a)s[l+a]=s[a];r=e}else{r+=e;const a=e/r;this._mixBufferRegion(s,l,0,a,n)}this.cumulativeWeight=r}accumulateAdditive(i){const e=this.buffer,s=this.valueSize,n=s*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(e,n,0,i,s),this.cumulativeWeightAdditive+=i}apply(i){const e=this.valueSize,s=this.buffer,n=i*e+e,l=this.cumulativeWeight,r=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,l<1){const o=e*this._origIndex;this._mixBufferRegion(s,n,o,1-l,e)}r>0&&this._mixBufferRegionAdditive(s,n,this._addIndex*e,1,e);for(let o=e,c=e+e;o!==c;++o)if(s[o]!==s[o+e]){a.setValue(s,n);break}}saveOriginalState(){const i=this.binding,e=this.buffer,s=this.valueSize,n=s*this._origIndex;i.getValue(e,n);for(let l=s,r=n;l!==r;++l)e[l]=e[n+l%s];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const i=this.valueSize*3;this.binding.setValue(this.buffer,i)}_setAdditiveIdentityNumeric(){const i=this._addIndex*this.valueSize,e=i+this.valueSize;for(let s=i;s<e;s++)this.buffer[s]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const i=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let s=0;s<this.valueSize;s++)this.buffer[e+s]=this.buffer[i+s]}_select(i,e,s,n,l){if(n>=.5)for(let r=0;r!==l;++r)i[e+r]=i[s+r]}_slerp(i,e,s,n){Vs.slerpFlat(i,e,i,e,i,s,n)}_slerpAdditive(i,e,s,n,l){const r=this._workIndex*l;Vs.multiplyQuaternionsFlat(i,r,i,e,i,s),Vs.slerpFlat(i,e,i,e,i,r,n)}_lerp(i,e,s,n,l){const r=1-n;for(let a=0;a!==l;++a){const o=e+a;i[o]=i[o]*r+i[s+a]*n}}_lerpAdditive(i,e,s,n,l){for(let r=0;r!==l;++r){const a=e+r;i[a]=i[a]+i[s+r]*n}}}const Qu="\\[\\]\\.:\\/",xK=new RegExp("["+Qu+"]","g"),_u="[^"+Qu+"]",NK="[^"+Qu.replace("\\.","")+"]",FK=/((?:WC+[\/:])*)/.source.replace("WC",_u),MK=/(WCOD+)?/.source.replace("WCOD",NK),YK=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_u),vK=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_u),EK=new RegExp("^"+FK+MK+YK+vK+"$"),zK=["material","materials","bones"];class HK{constructor(i,e,s){const n=s||rs.parseTrackName(e);this._targetGroup=i,this._bindings=i.subscribe_(e,n)}getValue(i,e){this.bind();const s=this._targetGroup.nCachedObjects_,n=this._bindings[s];n!==void 0&&n.getValue(i,e)}setValue(i,e){const s=this._bindings;for(let n=this._targetGroup.nCachedObjects_,l=s.length;n!==l;++n)s[n].setValue(i,e)}bind(){const i=this._bindings;for(let e=this._targetGroup.nCachedObjects_,s=i.length;e!==s;++e)i[e].bind()}unbind(){const i=this._bindings;for(let e=this._targetGroup.nCachedObjects_,s=i.length;e!==s;++e)i[e].unbind()}}class rs{constructor(i,e,s){this.path=e,this.parsedPath=s||rs.parseTrackName(e),this.node=rs.findNode(i,this.parsedPath.nodeName)||i,this.rootNode=i,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(i,e,s){return i&&i.isAnimationObjectGroup?new rs.Composite(i,e,s):new rs(i,e,s)}static sanitizeNodeName(i){return i.replace(/\s/g,"_").replace(xK,"")}static parseTrackName(i){const e=EK.exec(i);if(e===null)throw new Error("PropertyBinding: Cannot parse trackName: "+i);const s={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},n=s.nodeName&&s.nodeName.lastIndexOf(".");if(n!==void 0&&n!==-1){const l=s.nodeName.substring(n+1);zK.indexOf(l)!==-1&&(s.nodeName=s.nodeName.substring(0,n),s.objectName=l)}if(s.propertyName===null||s.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+i);return s}static findNode(i,e){if(e===void 0||e===""||e==="."||e===-1||e===i.name||e===i.uuid)return i;if(i.skeleton){const s=i.skeleton.getBoneByName(e);if(s!==void 0)return s}if(i.children){const s=function(l){for(let r=0;r<l.length;r++){const a=l[r];if(a.name===e||a.uuid===e)return a;const o=s(a.children);if(o)return o}return null},n=s(i.children);if(n)return n}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(i,e){i[e]=this.targetObject[this.propertyName]}_getValue_array(i,e){const s=this.resolvedProperty;for(let n=0,l=s.length;n!==l;++n)i[e++]=s[n]}_getValue_arrayElement(i,e){i[e]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(i,e){this.resolvedProperty.toArray(i,e)}_setValue_direct(i,e){this.targetObject[this.propertyName]=i[e]}_setValue_direct_setNeedsUpdate(i,e){this.targetObject[this.propertyName]=i[e],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(i,e){this.targetObject[this.propertyName]=i[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(i,e){const s=this.resolvedProperty;for(let n=0,l=s.length;n!==l;++n)s[n]=i[e++]}_setValue_array_setNeedsUpdate(i,e){const s=this.resolvedProperty;for(let n=0,l=s.length;n!==l;++n)s[n]=i[e++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(i,e){const s=this.resolvedProperty;for(let n=0,l=s.length;n!==l;++n)s[n]=i[e++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(i,e){this.resolvedProperty[this.propertyIndex]=i[e]}_setValue_arrayElement_setNeedsUpdate(i,e){this.resolvedProperty[this.propertyIndex]=i[e],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(i,e){this.resolvedProperty[this.propertyIndex]=i[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(i,e){this.resolvedProperty.fromArray(i,e)}_setValue_fromArray_setNeedsUpdate(i,e){this.resolvedProperty.fromArray(i,e),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(i,e){this.resolvedProperty.fromArray(i,e),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(i,e){this.bind(),this.getValue(i,e)}_setValue_unbound(i,e){this.bind(),this.setValue(i,e)}bind(){let i=this.node;const e=this.parsedPath,s=e.objectName,n=e.propertyName;let l=e.propertyIndex;if(i||(i=rs.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=i),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!i){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(s){let c=e.objectIndex;switch(s){case"materials":if(!i.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!i.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}i=i.material.materials;break;case"bones":if(!i.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}i=i.skeleton.bones;for(let h=0;h<i.length;h++)if(i[h].name===c){c=h;break}break;default:if(i[s]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}i=i[s]}if(c!==void 0){if(i[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,i);return}i=i[c]}}const r=i[n];if(r===void 0){const c=e.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+n+" but it wasn't found.",i);return}let a=this.Versioning.None;this.targetObject=i,i.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:i.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let o=this.BindingType.Direct;if(l!==void 0){if(n==="morphTargetInfluences"){if(!i.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(i.geometry.isBufferGeometry){if(!i.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}i.morphTargetDictionary[l]!==void 0&&(l=i.morphTargetDictionary[l])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}o=this.BindingType.ArrayElement,this.resolvedProperty=r,this.propertyIndex=l}else r.fromArray!==void 0&&r.toArray!==void 0?(o=this.BindingType.HasFromToArray,this.resolvedProperty=r):Array.isArray(r)?(o=this.BindingType.EntireArray,this.resolvedProperty=r):this.propertyName=n;this.getValue=this.GetterByBindingType[o],this.setValue=this.SetterByBindingTypeAndVersioning[o][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}rs.Composite=HK,rs.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},rs.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},rs.prototype.GetterByBindingType=[rs.prototype._getValue_direct,rs.prototype._getValue_array,rs.prototype._getValue_arrayElement,rs.prototype._getValue_toArray],rs.prototype.SetterByBindingTypeAndVersioning=[[rs.prototype._setValue_direct,rs.prototype._setValue_direct_setNeedsUpdate,rs.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[rs.prototype._setValue_array,rs.prototype._setValue_array_setNeedsUpdate,rs.prototype._setValue_array_setMatrixWorldNeedsUpdate],[rs.prototype._setValue_arrayElement,rs.prototype._setValue_arrayElement_setNeedsUpdate,rs.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[rs.prototype._setValue_fromArray,rs.prototype._setValue_fromArray_setNeedsUpdate,rs.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class KK{constructor(i,e,s=null,n=e.blendMode){this._mixer=i,this._clip=e,this._localRoot=s,this.blendMode=n;const l=e.tracks,r=l.length,a=new Array(r),o={endingStart:xr,endingEnd:xr};for(let c=0;c!==r;++c){const h=l[c].createInterpolant(null);a[c]=h,h.settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(r),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=AY,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(i){return this._startTime=i,this}setLoop(i,e){return this.loop=i,this.repetitions=e,this}setEffectiveWeight(i){return this.weight=i,this._effectiveWeight=this.enabled?i:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(i){return this._scheduleFading(i,0,1)}fadeOut(i){return this._scheduleFading(i,1,0)}crossFadeFrom(i,e,s){if(i.fadeOut(e),this.fadeIn(e),s){const n=this._clip.duration,l=i._clip.duration,r=l/n,a=n/l;i.warp(1,r,e),this.warp(a,1,e)}return this}crossFadeTo(i,e,s){return i.crossFadeFrom(this,e,s)}stopFading(){const i=this._weightInterpolant;return i!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(i)),this}setEffectiveTimeScale(i){return this.timeScale=i,this._effectiveTimeScale=this.paused?0:i,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(i){return this.timeScale=this._clip.duration/i,this.stopWarping()}syncWith(i){return this.time=i.time,this.timeScale=i.timeScale,this.stopWarping()}halt(i){return this.warp(this._effectiveTimeScale,0,i)}warp(i,e,s){const n=this._mixer,l=n.time,r=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=n._lendControlInterpolant(),this._timeScaleInterpolant=a);const o=a.parameterPositions,c=a.sampleValues;return o[0]=l,o[1]=l+s,c[0]=i/r,c[1]=e/r,this}stopWarping(){const i=this._timeScaleInterpolant;return i!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(i)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(i,e,s,n){if(!this.enabled){this._updateWeight(i);return}const l=this._startTime;if(l!==null){const o=(i-l)*s;if(o<0||s===0)return;this._startTime=null,e=s*o}e*=this._updateTimeScale(i);const r=this._updateTime(e),a=this._updateWeight(i);if(a>0){const o=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case z0:for(let h=0,d=o.length;h!==d;++h)o[h].evaluate(r),c[h].accumulateAdditive(a);break;case zd:default:for(let h=0,d=o.length;h!==d;++h)o[h].evaluate(r),c[h].accumulate(n,a)}}}_updateWeight(i){let e=0;if(this.enabled){e=this.weight;const s=this._weightInterpolant;if(s!==null){const n=s.evaluate(i)[0];e*=n,i>s.parameterPositions[1]&&(this.stopFading(),n===0&&(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(i){let e=0;if(!this.paused){e=this.timeScale;const s=this._timeScaleInterpolant;s!==null&&(e*=s.evaluate(i)[0],i>s.parameterPositions[1]&&(this.stopWarping(),e===0?this.paused=!0:this.timeScale=e))}return this._effectiveTimeScale=e,e}_updateTime(i){const e=this._clip.duration,s=this.loop;let n=this.time+i,l=this._loopCount;const r=s===jY;if(i===0)return l===-1?n:r&&(l&1)===1?e-n:n;if(s===BY){l===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(n>=e)n=e;else if(n<0)n=0;else{this.time=n;break t}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=n,this._mixer.dispatchEvent({type:"finished",action:this,direction:i<0?-1:1})}}else{if(l===-1&&(i>=0?(l=0,this._setEndings(!0,this.repetitions===0,r)):this._setEndings(this.repetitions===0,!0,r)),n>=e||n<0){const a=Math.floor(n/e);n-=e*a,l+=Math.abs(a);const o=this.repetitions-l;if(o<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,n=i>0?e:0,this.time=n,this._mixer.dispatchEvent({type:"finished",action:this,direction:i>0?1:-1});else{if(o===1){const c=i<0;this._setEndings(c,!c,r)}else this._setEndings(!1,!1,r);this._loopCount=l,this.time=n,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=n;if(r&&(l&1)===1)return e-n}return n}_setEndings(i,e,s){const n=this._interpolantSettings;s?(n.endingStart=Nr,n.endingEnd=Nr):(i?n.endingStart=this.zeroSlopeAtStart?Nr:xr:n.endingStart=Cc,e?n.endingEnd=this.zeroSlopeAtEnd?Nr:xr:n.endingEnd=Cc)}_scheduleFading(i,e,s){const n=this._mixer,l=n.time;let r=this._weightInterpolant;r===null&&(r=n._lendControlInterpolant(),this._weightInterpolant=r);const a=r.parameterPositions,o=r.sampleValues;return a[0]=l,o[0]=e,a[1]=l+i,o[1]=s,this}}class wK extends Kn{constructor(i){super();this._root=i,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(i,e){const s=i._localRoot||this._root,n=i._clip.tracks,l=n.length,r=i._propertyBindings,a=i._interpolants,o=s.uuid,c=this._bindingsByRootAndName;let h=c[o];h===void 0&&(h={},c[o]=h);for(let d=0;d!==l;++d){const u=n[d],p=u.name;let Z=h[p];if(Z!==void 0)++Z.referenceCount,r[d]=Z;else{if(Z=r[d],Z!==void 0){Z._cacheIndex===null&&(++Z.referenceCount,this._addInactiveBinding(Z,o,p));continue}const X=e&&e._propertyBindings[d].binding.parsedPath;Z=new VK(rs.create(s,p,X),u.ValueTypeName,u.getValueSize()),++Z.referenceCount,this._addInactiveBinding(Z,o,p),r[d]=Z}a[d].resultBuffer=Z.buffer}}_activateAction(i){if(!this._isActiveAction(i)){if(i._cacheIndex===null){const s=(i._localRoot||this._root).uuid,n=i._clip.uuid,l=this._actionsByClip[n];this._bindAction(i,l&&l.knownActions[0]),this._addInactiveAction(i,n,s)}const e=i._propertyBindings;for(let s=0,n=e.length;s!==n;++s){const l=e[s];l.useCount++===0&&(this._lendBinding(l),l.saveOriginalState())}this._lendAction(i)}}_deactivateAction(i){if(this._isActiveAction(i)){const e=i._propertyBindings;for(let s=0,n=e.length;s!==n;++s){const l=e[s];--l.useCount===0&&(l.restoreOriginalState(),this._takeBackBinding(l))}this._takeBackAction(i)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const i=this;this.stats={actions:{get total(){return i._actions.length},get inUse(){return i._nActiveActions}},bindings:{get total(){return i._bindings.length},get inUse(){return i._nActiveBindings}},controlInterpolants:{get total(){return i._controlInterpolants.length},get inUse(){return i._nActiveControlInterpolants}}}}_isActiveAction(i){const e=i._cacheIndex;return e!==null&&e<this._nActiveActions}_addInactiveAction(i,e,s){const n=this._actions,l=this._actionsByClip;let r=l[e];if(r===void 0)r={knownActions:[i],actionByRoot:{}},i._byClipCacheIndex=0,l[e]=r;else{const a=r.knownActions;i._byClipCacheIndex=a.length,a.push(i)}i._cacheIndex=n.length,n.push(i),r.actionByRoot[s]=i}_removeInactiveAction(i){const e=this._actions,s=e[e.length-1],n=i._cacheIndex;s._cacheIndex=n,e[n]=s,e.pop(),i._cacheIndex=null;const l=i._clip.uuid,r=this._actionsByClip,a=r[l],o=a.knownActions,c=o[o.length-1],h=i._byClipCacheIndex;c._byClipCacheIndex=h,o[h]=c,o.pop(),i._byClipCacheIndex=null;const d=a.actionByRoot,u=(i._localRoot||this._root).uuid;delete d[u],o.length===0&&delete r[l],this._removeInactiveBindingsForAction(i)}_removeInactiveBindingsForAction(i){const e=i._propertyBindings;for(let s=0,n=e.length;s!==n;++s){const l=e[s];--l.referenceCount===0&&this._removeInactiveBinding(l)}}_lendAction(i){const e=this._actions,s=i._cacheIndex,n=this._nActiveActions++,l=e[n];i._cacheIndex=n,e[n]=i,l._cacheIndex=s,e[s]=l}_takeBackAction(i){const e=this._actions,s=i._cacheIndex,n=--this._nActiveActions,l=e[n];i._cacheIndex=n,e[n]=i,l._cacheIndex=s,e[s]=l}_addInactiveBinding(i,e,s){const n=this._bindingsByRootAndName,l=this._bindings;let r=n[e];r===void 0&&(r={},n[e]=r),r[s]=i,i._cacheIndex=l.length,l.push(i)}_removeInactiveBinding(i){const e=this._bindings,s=i.binding,n=s.rootNode.uuid,l=s.path,r=this._bindingsByRootAndName,a=r[n],o=e[e.length-1],c=i._cacheIndex;o._cacheIndex=c,e[c]=o,e.pop(),delete a[l],Object.keys(a).length===0&&delete r[n]}_lendBinding(i){const e=this._bindings,s=i._cacheIndex,n=this._nActiveBindings++,l=e[n];i._cacheIndex=n,e[n]=i,l._cacheIndex=s,e[s]=l}_takeBackBinding(i){const e=this._bindings,s=i._cacheIndex,n=--this._nActiveBindings,l=e[n];i._cacheIndex=n,e[n]=i,l._cacheIndex=s,e[s]=l}_lendControlInterpolant(){const i=this._controlInterpolants,e=this._nActiveControlInterpolants++;let s=i[e];return s===void 0&&(s=new Zy(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),s.__cacheIndex=e,i[e]=s),s}_takeBackControlInterpolant(i){const e=this._controlInterpolants,s=i.__cacheIndex,n=--this._nActiveControlInterpolants,l=e[n];i.__cacheIndex=n,e[n]=i,l.__cacheIndex=s,e[s]=l}clipAction(i,e,s){const n=e||this._root,l=n.uuid;let r=typeof i=="string"?Ty.findByName(n,i):i;const a=r!==null?r.uuid:i,o=this._actionsByClip[a];let c=null;if(s===void 0&&(r!==null?s=r.blendMode:s=zd),o!==void 0){const d=o.actionByRoot[l];if(d!==void 0&&d.blendMode===s)return d;c=o.knownActions[0],r===null&&(r=c._clip)}if(r===null)return null;const h=new KK(this,r,e,s);return this._bindAction(h,c),this._addInactiveAction(h,a,l),h}existingAction(i,e){const s=e||this._root,n=s.uuid,l=typeof i=="string"?Ty.findByName(s,i):i,r=l?l.uuid:i,a=this._actionsByClip[r];return a!==void 0&&a.actionByRoot[n]||null}stopAllAction(){const i=this._actions,e=this._nActiveActions;for(let s=e-1;s>=0;--s)i[s].stop();return this}update(i){i*=this.timeScale;const e=this._actions,s=this._nActiveActions,n=this.time+=i,l=Math.sign(i),r=this._accuIndex^=1;for(let c=0;c!==s;++c)e[c]._update(n,i,l,r);const a=this._bindings,o=this._nActiveBindings;for(let c=0;c!==o;++c)a[c].apply(r);return this}setTime(i){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(i)}getRoot(){return this._root}uncacheClip(i){const e=this._actions,s=i.uuid,n=this._actionsByClip,l=n[s];if(l!==void 0){const r=l.knownActions;for(let a=0,o=r.length;a!==o;++a){const c=r[a];this._deactivateAction(c);const h=c._cacheIndex,d=e[e.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=h,e[h]=d,e.pop(),this._removeInactiveBindingsForAction(c)}delete n[s]}}uncacheRoot(i){const e=i.uuid,s=this._actionsByClip;for(const r in s){const a=s[r].actionByRoot,o=a[e];o!==void 0&&(this._deactivateAction(o),this._removeInactiveAction(o))}const n=this._bindingsByRootAndName,l=n[e];if(l!==void 0)for(const r in l){const a=l[r];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(i,e){const s=this.existingAction(i,e);s!==null&&(this._deactivateAction(s),this._removeInactiveAction(s))}}wK.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class Ih{constructor(i){typeof i=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),i=arguments[1]),this.value=i}clone(){return new Ih(this.value.clone===void 0?this.value:this.value.clone())}}class kK extends uo{constructor(i,e,s=1){super(i,e);this.meshPerAttribute=s}copy(i){return super.copy(i),this.meshPerAttribute=i.meshPerAttribute,this}clone(i){const e=super.clone(i);return e.meshPerAttribute=this.meshPerAttribute,e}toJSON(i){const e=super.toJSON(i);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}kK.prototype.isInstancedInterleavedBuffer=!0;class gh{constructor(i,e,s=0,n=1/0){this.ray=new hl(i,e),this.near=s,this.far=n,this.camera=null,this.layers=new $d,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(i,e){this.ray.set(i,e)}setFromCamera(i,e){e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(i.x,i.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e.isOrthographicCamera?(this.ray.origin.set(i.x,i.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)}intersectObject(i,e=!0,s=[]){return qu(i,this,s,e),s.sort(vy),s}intersectObjects(i,e=!0,s=[]){for(let n=0,l=i.length;n<l;n++)qu(i[n],this,s,e);return s.sort(vy),s}}function vy(t,i){return t.distance-i.distance}function qu(t,i,e,s){if(t.layers.test(i.layers)&&t.raycast(i,e),s===!0){const n=t.children;for(let l=0,r=n.length;l<r;l++)qu(n[l],i,e,!0)}}class PK{constructor(i=1,e=0,s=0){return this.radius=i,this.phi=e,this.theta=s,this}set(i,e,s){return this.radius=i,this.phi=e,this.theta=s,this}copy(i){return this.radius=i.radius,this.phi=i.phi,this.theta=i.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(i){return this.setFromCartesianCoords(i.x,i.y,i.z)}setFromCartesianCoords(i,e,s){return this.radius=Math.sqrt(i*i+e*e+s*s),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(i,s),this.phi=Math.acos(zs(e/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}const Ey=new z,Wh=new z;class Zn{constructor(i=new z,e=new z){this.start=i,this.end=e}set(i,e){return this.start.copy(i),this.end.copy(e),this}copy(i){return this.start.copy(i.start),this.end.copy(i.end),this}getCenter(i){return i.addVectors(this.start,this.end).multiplyScalar(.5)}delta(i){return i.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(i,e){return this.delta(e).multiplyScalar(i).add(this.start)}closestPointToPointParameter(i,e){Ey.subVectors(i,this.start),Wh.subVectors(this.end,this.start);const s=Wh.dot(Wh);let l=Wh.dot(Ey)/s;return e&&(l=zs(l,0,1)),l}closestPointToPoint(i,e,s){const n=this.closestPointToPointParameter(i,e);return this.delta(s).multiplyScalar(n).add(this.start)}applyMatrix4(i){return this.start.applyMatrix4(i),this.end.applyMatrix4(i),this}equals(i){return i.start.equals(this.start)&&i.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const Tl=new z,Lh=new _t,$u=new _t;class UK extends oh{constructor(i){const e=zy(i),s=new Re,n=[],l=[],r=new it(0,0,1),a=new it(0,1,0);for(let c=0;c<e.length;c++){const h=e[c];h.parent&&h.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),l.push(r.r,r.g,r.b),l.push(a.r,a.g,a.b))}s.setAttribute("position",new us(n,3)),s.setAttribute("color",new us(l,3));const o=new bn({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(s,o);this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=i,this.bones=e,this.matrix=i.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(i){const e=this.bones,s=this.geometry,n=s.getAttribute("position");$u.copy(this.root.matrixWorld).invert();for(let l=0,r=0;l<e.length;l++){const a=e[l];a.parent&&a.parent.isBone&&(Lh.multiplyMatrices($u,a.matrixWorld),Tl.setFromMatrixPosition(Lh),n.setXYZ(r,Tl.x,Tl.y,Tl.z),Lh.multiplyMatrices($u,a.parent.matrixWorld),Tl.setFromMatrixPosition(Lh),n.setXYZ(r+1,Tl.x,Tl.y,Tl.z),r+=2)}s.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(i)}}function zy(t){const i=[];t.isBone===!0&&i.push(t);for(let e=0;e<t.children.length;e++)i.push.apply(i,zy(t.children[e]));return i}class DK extends oh{constructor(i=10,e=10,s=4473924,n=8947848){s=new it(s),n=new it(n);const l=e/2,r=i/e,a=i/2,o=[],c=[];for(let u=0,p=0,Z=-a;u<=e;u++,Z+=r){o.push(-a,0,Z,a,0,Z),o.push(Z,0,-a,Z,0,a);const X=u===l?s:n;X.toArray(c,p),p+=3,X.toArray(c,p),p+=3,X.toArray(c,p),p+=3,X.toArray(c,p),p+=3}const h=new Re;h.setAttribute("position",new us(o,3)),h.setAttribute("color",new us(c,3));const d=new bn({vertexColors:!0,toneMapped:!1});super(h,d);this.type="GridHelper"}}const Xn=new Uint32Array(512),Tn=new Uint32Array(512);for(let t=0;t<256;++t){const i=t-127;i<-27?(Xn[t]=0,Xn[t|256]=32768,Tn[t]=24,Tn[t|256]=24):i<-14?(Xn[t]=1024>>-i-14,Xn[t|256]=1024>>-i-14|32768,Tn[t]=-i-1,Tn[t|256]=-i-1):i<=15?(Xn[t]=i+15<<10,Xn[t|256]=i+15<<10|32768,Tn[t]=13,Tn[t|256]=13):i<128?(Xn[t]=31744,Xn[t|256]=64512,Tn[t]=24,Tn[t|256]=24):(Xn[t]=31744,Xn[t|256]=64512,Tn[t]=13,Tn[t|256]=13)}const Hy=new Uint32Array(2048),So=new Uint32Array(64),JK=new Uint32Array(64);for(let t=1;t<1024;++t){let i=t<<13,e=0;for(;(i&8388608)===0;)i<<=1,e-=8388608;i&=-8388609,e+=947912704,Hy[t]=i|e}for(let t=1024;t<2048;++t)Hy[t]=939524096+(t-1024<<13);for(let t=1;t<31;++t)So[t]=t<<23;So[31]=1199570944,So[32]=2147483648;for(let t=33;t<63;++t)So[t]=2147483648+(t-32<<23);So[63]=3347054592;for(let t=1;t<64;++t)t!==32&&(JK[t]=1024);vi.create=function(t,i){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(vi.prototype),t.prototype.constructor=t,t.prototype.getPoint=i,t},Eu.prototype.fromPoints=function(t){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)},DK.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},UK.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},On.prototype.extractUrlBase=function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),TK.extractUrlBase(t)},On.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},is.prototype.center=function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},is.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},is.prototype.isIntersectionBox=function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},is.prototype.isIntersectionSphere=function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},is.prototype.size=function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)},pn.prototype.toVector3=function(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")},_i.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},oo.prototype.setFromMatrix=function(t){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(t)},Zn.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)},Ys.prototype.flattenToArrayOffset=function(t,i){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,i)},Ys.prototype.multiplyVector3=function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},Ys.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},Ys.prototype.applyToBufferAttribute=function(t){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},Ys.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},Ys.prototype.getInverse=function(t){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()},_t.prototype.extractPosition=function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},_t.prototype.flattenToArrayOffset=function(t,i){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,i)},_t.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new z().setFromMatrixColumn(this,3)},_t.prototype.setRotationFromQuaternion=function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},_t.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},_t.prototype.multiplyVector3=function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},_t.prototype.multiplyVector4=function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},_t.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},_t.prototype.rotateAxis=function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},_t.prototype.crossVector=function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},_t.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},_t.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},_t.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},_t.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},_t.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},_t.prototype.applyToBufferAttribute=function(t){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},_t.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},_t.prototype.makeFrustum=function(t,i,e,s,n,l){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,i,s,e,n,l)},_t.prototype.getInverse=function(t){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()},mi.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},Vs.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},Vs.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},hl.prototype.isIntersectionBox=function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},hl.prototype.isIntersectionPlane=function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},hl.prototype.isIntersectionSphere=function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},Ts.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},Ts.prototype.barycoordFromPoint=function(t,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,i)},Ts.prototype.midpoint=function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)},Ts.prototypenormal=function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)},Ts.prototype.plane=function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)},Ts.barycoordFromPoint=function(t,i,e,s,n){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Ts.getBarycoord(t,i,e,s,n)},Ts.normal=function(t,i,e,s){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Ts.getNormal(t,i,e,s)},To.prototype.extractAllPoints=function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},To.prototype.extrude=function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new sa(this,t)},To.prototype.makeGeometry=function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new ku(this,t)},Wt.prototype.fromAttribute=function(t,i,e){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,i,e)},Wt.prototype.distanceToManhattan=function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},Wt.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},z.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},z.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},z.prototype.getPositionFromMatrix=function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},z.prototype.getScaleFromMatrix=function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},z.prototype.getColumnFromMatrix=function(t,i){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(i,t)},z.prototype.applyProjection=function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},z.prototype.fromAttribute=function(t,i,e){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,i,e)},z.prototype.distanceToManhattan=function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},z.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Ut.prototype.fromAttribute=function(t,i,e){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,i,e)},Ut.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},we.prototype.getChildByName=function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},we.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},we.prototype.translate=function(t,i){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(i,t)},we.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},we.prototype.applyMatrix=function(t){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)},Object.defineProperties(we.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),ns.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(ns.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),QY},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Db.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},ai.prototype.setLens=function(t,i){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),i!==void 0&&(this.filmGauge=i),this.setFocalLength(t)},Object.defineProperties(Gn.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(Ne.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===fc},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(fc)}}}),Ne.prototype.setDynamic=function(t){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(t===!0?fc:to),this},Ne.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},Ne.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},Re.prototype.addIndex=function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},Re.prototype.addAttribute=function(t,i){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(i&&i.isBufferAttribute)&&!(i&&i.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(t,new Ne(arguments[1],arguments[2]))):t==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(i),this):this.setAttribute(t,i)},Re.prototype.addDrawCall=function(t,i,e){e!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,i)},Re.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},Re.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},Re.prototype.removeAttribute=function(t){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(t)},Re.prototype.applyMatrix=function(t){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)},Object.defineProperties(Re.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),uo.prototype.setDynamic=function(t){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(t===!0?fc:to),this},uo.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},sa.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},sa.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},sa.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},Jn.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},Ih.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this},Object.defineProperties(Ks.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new it}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=t===r0}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(t){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=t}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}}),Object.defineProperties(ri.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),ls.prototype.clearTarget=function(t,i,e,s){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(t),this.clear(i,e,s)},ls.prototype.animate=function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)},ls.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},ls.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},ls.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},ls.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},ls.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},ls.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},ls.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},ls.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},ls.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},ls.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},ls.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},ls.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},ls.prototype.enableScissorTest=function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},ls.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},ls.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},ls.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},ls.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},ls.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},ls.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},ls.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},ls.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},ls.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},ls.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties(ls.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(t){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=t===!0?Xs:zn}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}}),Object.defineProperties(Yb.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(_s.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),fK.prototype.load=function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const i=this;return new WK().load(t,function(s){i.setBuffer(s)}),this},hu.prototype.updateCubeMap=function(t,i){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,i)},hu.prototype.clear=function(t,i,e,s){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(t,i,e,s)},Jl.crossOrigin=void 0,Jl.loadTexture=function(t,i,e,s){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const n=new Wy;n.setCrossOrigin(this.crossOrigin);const l=n.load(t,e,void 0,s);return i&&(l.mapping=i),l},Jl.loadTextureCube=function(t,i,e,s){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const n=new bK;n.setCrossOrigin(this.crossOrigin);const l=n.load(t,e,void 0,s);return i&&(l.mapping=i),l},Jl.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Jl.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Oi}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Oi);var Ky=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wy={exports:{}};(function(t,i){(function(e,s){t.exports=s()})(Ky,function(){var e=function(){function s(p){return r.appendChild(p.dom),p}function n(p){for(var Z=0;Z<r.children.length;Z++)r.children[Z].style.display=Z===p?"block":"none";l=p}var l=0,r=document.createElement("div");r.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",r.addEventListener("click",function(p){p.preventDefault(),n(++l%r.children.length)},!1);var a=(performance||Date).now(),o=a,c=0,h=s(new e.Panel("FPS","#0ff","#002")),d=s(new e.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var u=s(new e.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:r,addPanel:s,showPanel:n,begin:function(){a=(performance||Date).now()},end:function(){c++;var p=(performance||Date).now();if(d.update(p-a,200),p>o+1e3&&(h.update(1e3*c/(p-o),100),o=p,c=0,u)){var Z=performance.memory;u.update(Z.usedJSHeapSize/1048576,Z.jsHeapSizeLimit/1048576)}return p},update:function(){a=this.end()},domElement:r,setMode:n}};return e.Panel=function(s,n,l){var r=1/0,a=0,o=Math.round,c=o(window.devicePixelRatio||1),h=80*c,d=48*c,u=3*c,p=2*c,Z=3*c,X=15*c,R=74*c,W=30*c,S=document.createElement("canvas");S.width=h,S.height=d,S.style.cssText="width:80px;height:48px";var F=S.getContext("2d");return F.font="bold "+9*c+"px Helvetica,Arial,sans-serif",F.textBaseline="top",F.fillStyle=l,F.fillRect(0,0,h,d),F.fillStyle=n,F.fillText(s,u,p),F.fillRect(Z,X,R,W),F.fillStyle=l,F.globalAlpha=.9,F.fillRect(Z,X,R,W),{dom:S,update:function(M,N){r=Math.min(r,M),a=Math.max(a,M),F.fillStyle=l,F.globalAlpha=1,F.fillRect(0,0,h,X),F.fillStyle=n,F.fillText(o(M)+" "+s+" ("+o(r)+"-"+o(a)+")",u,p),F.drawImage(S,Z+c,X,R-c,W,Z,X,R-c,W),F.fillRect(Z+R-c,X,c,W),F.fillStyle=l,F.globalAlpha=.9,F.fillRect(Z+R-c,X,c,o((1-M/N)*W))}}},e})})(wy);var OK=wy.exports;const BK="62.5.1";var ee=(t=>(t.ControlModeChanged="pointscene_control_mode_change",t.ControlsUICreated="pointscene_controls_ui_created",t.DepthEnabled="pointscene_depth_enabled",t.DisableControls="pointscene_disable_controls",t.EnableControls="pointscene_enable_controls",t.EnterSphereMode="pointscene_enter_sphere_mode",t.ExitSphereMode="pointscene_exit_sphere_mode",t.LayerUICreated="pointscene_layer_ui_created",t.MeasureUICreated="pointscene_measure_ui_created",t.PointcloudUICreated="pointscene_pointcloud_ui_created",t.RegisterControls="pointscene_register_controls",t.RegisterLayers="pointscene_register_layers",t.RegisterPicker="pointscene_register_picker",t.RegisterPointclouds="pointscene_register_pointclouds",t.RegisterUpdateHook="pointscene_register_update_hook",t.SetPhotoBackgroundMode="pointscene_set_photo_background_mode",t.SetPhotoPeekMode="pointscene_set_photo_peek_mode",t.UpdateOrbitPoint="pointscene_update_orbit_point",t))(ee||{});class Ei{constructor(){this._debug=!1}dispatch(i,e,s){const n={};e!==void 0&&(n.detail=e),this._debug&&console.log(i,e);const l=new CustomEvent(i,n);(s||window).dispatchEvent(l)}}const AK=(t,i,e)=>{const s=[];let n=-1,l=0,r=t.length/i-1,a=0,o=0,c=0;const h=function(X,R){for(X*=i,R*=i,c=0;c<i;c++)a=t[X+c],t[X+c]=t[R+c],t[R+c]=a};let d,u;const p=new Float64Array(i),Z=new Float64Array(i);for(;;)if(r-l<=25){for(u=l+1;u<=r;u++){for(o=0;o<i;o++)p[o]=t[u*i+o];for(d=u-1;d>=l&&t[d*i+e]>p[e];){for(o=0;o<i;o++)t[(d+1)*i+o]=t[d*i+o];d--}for(o=0;o<i;o++)t[(d+1)*i+o]=p[o]}if(n===-1)break;r=s[n--],l=s[n--]}else{const X=l+r>>1;for(d=l+1,u=r,h(X,d),t[l*i+e]>t[r*i+e]&&h(l,r),t[d*i+e]>t[r*i+e]&&h(d,r),t[l*i+e]>t[d*i+e]&&h(l,d),o=0;o<i;o++)Z[o]=t[d*i+o];for(;;){do d++;while(t[d*i+e]<Z[e]);do u--;while(t[u*i+e]>Z[e]);if(u<d)break;h(d,u)}for(o=0;o<i;o++)t[(l+1)*i+o]=t[u*i+o],t[u*i+o]=Z[o];r-d+1>=u-l?(s[++n]=d,s[++n]=r,r=u-1):(s[++n]=l,s[++n]=u-1,l=d)}return t};class jK{constructor(i,e,s){this.metric=e,this.maxDepth=0,this.eleSize=s;const n=function(r,a){return r.subarray(a*s,a*s+s)},l=(r,a,o,c)=>{const h=a%s;let d,u;const p=r.length/s;return a>this.maxDepth&&(this.maxDepth=a),p===0?null:p===1?new ky(n(r,0),a,o,c):(AK(r,s,h),d=Math.floor(p/2),u=new ky(n(r,d),a,o,d+c),u.left=l(r.subarray(0,d*s),a+1,u,c),u.right=l(r.subarray((d+1)*s,r.length),a+1,u,c+d+1),u)};this.root=l(i,0,null,0)}getMaxDepth(){return this.maxDepth}nearest(i,e,s){let n;const l=new QK(function(a){return-a[1]}),r=a=>{let o;const c=a.depth%this.eleSize,h=this.metric(i,a.obj);let d=0,u,p;const Z=[];function X(R,W){l.push([R,W]),l.size()>e&&l.pop()}for(p=0;p<this.eleSize;p+=1)p===a.depth%this.eleSize?Z[p]=i[p]:Z[p]=a.obj[p];if(d=this.metric(Z,a.obj),a.right===null&&a.left===null){(l.size()<e||h<l.peek()[1])&&X(a,h);return}a.right===null?o=a.left:a.left===null?o=a.right:i[c]<a.obj[c]?o=a.left:o=a.right,r(o),(l.size()<e||h<l.peek()[1])&&X(a,h),(l.size()<e||Math.abs(d)<l.peek()[1])&&(o===a.left?u=a.right:u=a.left,u!==null&&r(u))};if(s)for(let a=0;a<e;a+=1)l.push([null,s]);r(this.root),n=[];for(let a=0;a<e;a+=1)l.content[a][0]&&n.push([l.content[a][0],l.content[a][1]]);return n}}class ky{constructor(i,e,s,n){this.obj=i,this.left=null,this.right=null,this.parent=s,this.depth=e,this.pos=n}}class QK{constructor(i){this.content=[],this.scoreFunction=i}push(i){this.content.push(i),this.bubbleUp(this.content.length-1)}pop(){const i=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.sinkDown(0)),i}peek(){return this.content[0]}remove(i){const e=this.content.length;for(let s=0;s<e;s++)if(this.content[s]===i){const n=this.content.pop();s!==e-1&&(this.content[s]=n,this.scoreFunction(n)<this.scoreFunction(i)?this.bubbleUp(s):this.sinkDown(s));return}throw new Error("Node not found.")}size(){return this.content.length}bubbleUp(i){const e=this.content[i];for(;i>0;){const s=Math.floor((i+1)/2)-1,n=this.content[s];if(this.scoreFunction(e)<this.scoreFunction(n))this.content[s]=e,this.content[i]=n,i=s;else break}}sinkDown(i){const e=this.content.length,s=this.content[i],n=this.scoreFunction(s);for(;;){const l=(i+1)*2,r=l-1;let a=null,o;if(r<e){const c=this.content[r];o=this.scoreFunction(c),o<n&&(a=r)}if(l<e){const c=this.content[l];this.scoreFunction(c)<(a===null?n:o)&&(a=l)}if(a!==null)this.content[i]=this.content[a],this.content[a]=s,i=a;else break}}}class Py{constructor(i){this.depthScale=100,this.scene=i.scene,this.sceneLabels=i.sceneLabels,this.domEl=i.domEl,this.mouse=i.mouse,this.camera=i.camera,this.referenceFrame=i.referenceFrame,this.screenWidth=this.domEl.clientWidth,this.screenHeight=this.domEl.clientHeight,this.group=new Si,this.scene.add(this.group),this.toolActive=!1,this.manager=new Ry,this.loader=new Wy(this.manager),this.loader.setCrossOrigin("*"),this.events=new Ei,this.color=16777215,this.hoverColor=15886354,this.activeColor=12320768,this.type="Photo",this.eps=1e-5,this.activeOpacity=1,this.peekMplier=.1,this.peekRadius=0,this.monoColor=0,this.activeMaterialNeedsUpdate=!1,this.nNearest=25,this.maxDistance=100,this.addPhotosBinds(),this.addPhotosListeners(),this.binds(),this.addListeners()}dispose(){this.nearestObjects=void 0,this.geometry&&(this.geometry.dispose(),this.geometry=void 0),this.activeTexture=void 0,this.activeDepthTexture=void 0,this.activeDepthData=void 0,this.activeObject&&(this.activeObject.geometry.dispose(),this.activeObject.material.map&&this.activeObject.material.map.dispose(),this.activeObject.material.dispose(),this.activeObject=void 0),this.targetObject&&(this.targetObject.geometry.dispose(),this.targetObject.material.map&&this.targetObject.material.map.dispose(),this.targetObject.material.dispose(),this.targetObject=void 0),this.scene.remove(this.group),this.removeListeners()}update(){if(this.activeMaterialNeedsUpdate&&this.activeObject){const i=this.activeObject.material;i.uniforms.screen.value=new Wt(this.screenWidth,this.screenHeight),i.uniforms.radius.value=this.peekRadius,i.uniforms.opacity.value=this.activeOpacity,this.activeMaterialNeedsUpdate=!1}if(this.peekRadius>this.eps&&this.activeObject){const i=this.mouse.x/this.domEl.clientWidth*2-1,e=-(this.mouse.y/this.domEl.clientHeight)*2+1;this.activeObject.material.uniforms.mouse.value=new Wt(i,e)}}setAllPickable(i){for(let e=0;e<this.group.children.length;e++)this.group.children[e].userData.isPickable=i}getGeometry(){return this.geometry===void 0&&(this.geometry=new Gh(1,32,16)),this.geometry}getRingGeometry(){return typeof this.ringGeometry>"u"&&(this.ringGeometry=new zu(1,24)),this.ringGeometry}getActiveMaterial(){const i={vertexShader:["#ifdef GL_ES","precision highp float;","#endif","varying vec2 vUv;","varying vec2 pixel;","uniform sampler2D depthmap;","uniform float depthScale;","const float eps = 1e-5;","void main(){","  vUv = uv;","  if (depthScale > eps) {","    vec4 depth = texture2D(depthmap, vUv);","    vec3 newPosition = position + normal * depth.x * depthScale;","    vec4 v = projectionMatrix * modelViewMatrix * vec4(newPosition, 1.0);","    float x = v.x / v.z;","    float y = v.y / v.z;","    pixel = vec2(0.5 * x + 0.5, - 0.5 * y + 0.5);","    gl_Position = v;","  } else {","    vec4 v = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","    float x = v.x / v.z;","    float y = v.y / v.z;","    pixel = vec2(0.5 * x + 0.5, - 0.5 * y + 0.5);","    gl_Position = v;","  }","}"].join(`
`),fragmentShader:["#ifdef GL_ES","precision highp float;","#endif","uniform sampler2D texture1;","uniform sampler2D depthmap;","uniform vec2 mouse;","uniform vec2 screen;","uniform float radius;","uniform float opacity;","uniform float mono;","varying vec2 vUv;","varying vec2 pixel;","const float eps = 1e-5;","const float PI = 3.14159265359;","void main() {","  vec2 pos = vUv;","  vec2 px = pixel;","  vec4 color1 = texture2D(texture1, vUv);","  float opacityOut = opacity;","  if(radius >= eps) {","    vec2 mouse_n = vec2(mouse.x * 0.5 + 0.5, -mouse.y * 0.5 + 0.5);","    vec2 px_screen = vec2(px.x * screen.x, px.y * screen.y);","    vec2 mouse_screen = vec2(mouse_n.x * screen.x, mouse_n.y * screen.y);","    if(distance(mouse_screen, px_screen) < radius) {","      discard;","    }","  }","  vec4 colorOut = color1;","  colorOut.a = opacityOut;","  if(mono > eps){","    vec3 luma = vec3(.299, 0.587, 0.114);","    gl_FragColor = vec4(vec3(dot(colorOut.rgb, luma)), colorOut.a);","  }","  else {","    gl_FragColor = colorOut;","  }","}"].join(`
`)},e={texture1:{type:"t",value:""},depthmap:{type:"t",value:""},depthScale:{type:"f",value:0},mouse:{type:"v2",value:new Wt(.5,.5)},screen:{type:"v2",value:new Wt(this.screenWidth,this.screenHeight)},mono:{type:"f",value:0},radius:{type:"f",value:this.peekRadius},opacity:{type:"f",value:this.activeOpacity}};return new ri({uniforms:e,vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:gi,transparent:!0,depthWrite:!1,depthTest:!1,clipping:!1})}getMaterial(){return new ul({color:this.color,visible:!0,wireframe:!1,transparent:!0,depthTest:!0,depthWrite:!0,opacity:.8,side:ll})}setPeekMode(i){this.peekRadius=this.screenWidth>this.screenHeight?this.peekMplier*this.screenWidth:this.peekMplier*this.screenHeight,i?this.activeObject.material.uniforms.radius.value=this.peekRadius:this.activeObject.material.uniforms.radius.value=0}handleResize(){if(this.activeObject===void 0)return;const i=this.domEl,e=this.activeObject.material;e.uniforms.screen.value=new Wt(i.clientWidth,i.clientHeight),e.needsUpdate=!0}handleClearHoveredObjects(){this.hoveredObject!==void 0&&this.hoveredObject.dispatchEvent({type:"hover_out"})}handleSetPhotoPeekMode(i){this.setPeekMode(i.detail.value)}handleLeftClick(){this.hoveredObject!==void 0&&this.hoveredObject.dispatchEvent({type:"set_active"})}handleRightClick(){this.isActive&&!this.toolActive&&this.events.dispatch("pointscene_exit_sphere_mode",void 0,this.domEl)}handleEnterSphereMode(){this.setAllPickable(!1),this.isActive=!0}handleExitSphereMode(){!this.targetObject||(this.targetObject.dispatchEvent({type:"set_deactive"}),this.setAllPickable(!0),this.isActive=!1,this.activeObject&&this.scene.remove(this.activeObject),this.nearestObjects=[],this.targetObject.material&&(this.targetObject.material.map&&this.targetObject.material.map.dispose(),this.targetObject.material.dispose()),this.targetObject=void 0,this.activeTexture=void 0,this.activeDepthTexture=void 0,this.activeDepthData=void 0)}addPhotosBinds(){this.handleResize=this.handleResize.bind(this),this.handleSetPhotoPeekMode=this.handleSetPhotoPeekMode.bind(this),this.handleLeftClick=this.handleLeftClick.bind(this),this.handleEnterSphereMode=this.handleEnterSphereMode.bind(this),this.handleExitSphereMode=this.handleExitSphereMode.bind(this)}addPhotosListeners(){window.addEventListener("resize",this.handleResize,!1),this.domEl.addEventListener("pointscene_clear_hovered_objects",this.handleClearHoveredObjects,!1),this.domEl.addEventListener(ee.SetPhotoPeekMode,this.handleSetPhotoPeekMode,!1),this.domEl.addEventListener("pointscene_on_leftclick",this.handleLeftClick,!1),this.domEl.addEventListener("pointscene_on_rightclick",this.handleRightClick,!1),this.domEl.addEventListener(ee.EnterSphereMode,this.handleEnterSphereMode,!1),this.domEl.addEventListener(ee.ExitSphereMode,this.handleExitSphereMode,!1)}removePhotosListeners(){window.removeEventListener("resize",this.handleResize,!1),this.domEl.removeEventListener("pointscene_clear_hovered_objects",this.handleClearHoveredObjects,!1),this.domEl.removeEventListener(ee.SetPhotoPeekMode,this.handleSetPhotoPeekMode,!1),this.domEl.removeEventListener("pointscene_on_leftclick",this.handleLeftClick,!1),this.domEl.removeEventListener("pointscene_on_rightclick",this.handleRightClick,!1),this.domEl.removeEventListener(ee.EnterSphereMode,this.handleEnterSphereMode,!1),this.domEl.removeEventListener(ee.ExitSphereMode,this.handleExitSphereMode,!1)}binds(){}addListeners(){}removeListeners(){}addObjectListeners(i){const e=this;i.addEventListener("hover_in",function(s){const n=s.target;!n.material.visible||!n.userData.isInteractive||e.toolActive||(n.material.color.equals(new it(e.activeColor))||n.material.color.setHex(e.hoverColor),e.hoveredObject=i,e.domEl.style.cursor="pointer")}),i.addEventListener("hover_out",function(s){const n=s.target;n.material.color.equals(new it(e.activeColor))||n.material.color.setHex(e.color),e.hoveredObject=void 0,e.domEl.style.cursor="auto"}),i.addEventListener("set_active",function(s){const n=s.target;n.userData.activateCallback(n)}),i.addEventListener("set_deactive",function(s){const n=s.target;n.userData.deactivateCallback(n)})}load(i){console.warn("Photos.load: not implemented in base class.",i)}add(i,e){if(typeof i.quaternion>"u"&&typeof i.euler>"u")throw new Error('Missing "quaternion" or "euler" from photo object');if(typeof i.position>"u")throw new Error('Missing "position" from photo object');e=e||{};const s=e.geometry||this.getGeometry(),n=e.material||this.getMaterial(),l=this.referenceFrame.toScene(i.position);let r;if(i.quaternion)r=new Vs(i.quaternion.x,i.quaternion.y,i.quaternion.z,i.quaternion.w);else if(i.euler)r=new Vs().setFromEuler(new pn(i.euler.x,i.euler.y,i.euler.z));else throw new Error("No photo orientation");i.url;const a=e.activateCallback||function(){console.error("Photos.activateCallback missing")},o=e.deactivateCallback||function(){console.error("Photos.deactivateCallback missing")},c=new ns(s,n);c.userData.idx=this.group.children.length,c.userData.isPickable=!0,c.userData.isInteractive=!0,this.addObjectListeners(c),c.up.set(0,0,1),c.position.set(l.x,l.y,l.z),c.rotation.setFromQuaternion(r),c.scale.set(1,1,1),c.userData=Object.assign(c.userData,i),c.userData.activateCallback=a,c.userData.deactivateCallback=o,c.userData.position=l,c.userData.quaternion=r,this.group.add(c)}getObjectAtIndex(i){return this.group.children[i]}index(){const i=function(l,r){return(l[0]-r[0])*(l[0]-r[0])+(l[1]-r[1])*(l[1]-r[1])},e=[],s=this.group.children.length;for(let l=0;l<s;l++){const r=this.group.children[l].position,a=[r.x,r.y,r.z,l];e.push(...a)}const n=new Float64Array(e);this.kdtree=new jK(n,i,4)}openNearest(i){const e=this.getNearest(i);if(!e||e.length===0)return;e.sort(function(n,l){return n.d-l.d});const s=this.getObjectAtIndex(e[0].idx);this.isActive?this.targetObject===s||s.dispatchEvent({type:"set_active"}):s.dispatchEvent({type:"set_active"})}getNearest(i,e){if(!this.kdtree)return;e=e||{};const s=e.nNearest||10;let n=e.maxDistance||100;n*=n;const l=this.kdtree.nearest([i.x,i.y,i.z],s,n),r=[];for(let a=0;a<l.length;a++){const o=l[a],c=o[0],h=Math.round(c.obj[3]),d=o[1];r.push({d,idx:h})}return r}}var _K=(t,i,e)=>new Promise((s,n)=>{var l=o=>{try{a(e.next(o))}catch(c){n(c)}},r=o=>{try{a(e.throw(o))}catch(c){n(c)}},a=o=>o.done?s(o.value):Promise.resolve(o.value).then(l,r);a((e=e.apply(t,i)).next())});const Uy=1/255,Dy=Uy*1/255,Jy=Dy*1/255,qK=Jy*1/255;class Oy extends Py{constructor(i){super(i);this.ringOffset=new z(0,0,-1.86),this.type="PhotoSphere",this.createActiveSphere()}pick(i){if(!this.activeObject)return null;const e=i.intersectObject(this.activeObject);if(e.length<1)return null;const s=e[0].point,n=this.camera.position.clone(),l=new z().subVectors(s,n).normalize(),r=e[0].uv;if(!r)return null;const a=this.getDepthPixelValue(r);if(a.length===0||a.reduce((d,u)=>d+u,0)===0)return null;const o=100,c=this.getDepthMetricValue(a,o);return{point:new z().addVectors(n,l.clone().multiplyScalar(c)),object:e[0].object,objectType:"depth",distance:c}}hasDepthData(){return typeof this.activeDepthData<"u"}createActiveSphere(){const s=new Gh(1,360,180),n=this.getActiveMaterial();this.activeObject=new ns(s,n),this.activeObject.up.set(0,0,1),this.activeObject.scale.set(-100,100,100),this.activeObject.name="ActivePhotoSphere",this.activeObject.userData.isPickable=!1}getDepthMetricValue(i,e=100){const s=i[0]*Uy+i[1]*Dy+i[2]*Jy+i[3]*qK;return e*s}normalizePixel(i,e,s){let n=i[0],l=i[1];return n=n<0?e-n:n,n=n>e?n-(e-1):n,l=l<0?s-l:l,l=l>s?l-(s-1):l,[n,l]}getDepthPixelValue(i){if(typeof this.activeDepthData>"u")return[];const e=this.activeDepthData,s=this.normalizePixel([Math.floor(i.x*e.width),Math.floor((1-i.y)*e.height)],e.width,e.height),n=(s[1]*e.width+s[0])*4;return[e.data[n+0],e.data[n+1],e.data[n+2],e.data[n+3]]}load(i,e){typeof e<"u"&&(this.getUrlCallback=e.getUrl,this.getDepthCallback=e.getDepthUrl),this.nearestObjects=[],this.targetObject=void 0;const s=this,n=p=>{const Z=this.camera.position,R=p.position.clone().sub(Z).normalize();this.events.dispatch(ee.EnterSphereMode,{target:p,normal:R,saveState:!1},this.domEl)},l=function(p,Z=.01){for(let X=0;X<p.length;X++){if(p[X].d<Z)continue;const R=s.getObjectAtIndex(p[X].idx);R.geometry.dispose(),R.geometry=s.getRingGeometry(),R.position.add(s.ringOffset),R.rotation.set(0,0,0)}},r=function(p,Z=.01){for(let X=0;X<p.length;X++){if(p[X].d<Z)continue;const R=s.getObjectAtIndex(p[X].idx);R.geometry.dispose(),R.geometry=s.getGeometry(),R.position.set(R.userData.position.x,R.userData.position.y,R.userData.position.z),R.rotation.setFromQuaternion(new Vs(R.userData.quaternion.x,R.userData.quaternion.y,R.userData.quaternion.z,R.userData.quaternion.w))}},a=function(p,Z){for(let X=0;X<p.length;X++){const R=s.getObjectAtIndex(p[X].idx);Z?(R.userData.isPickable=!1,R.renderOrder=0):(R.userData.isPickable=!0,R.renderOrder=Number.MAX_VALUE),R.material.depthTest=Z,R.material.depthWrite=Z,R.material.needsUpdate=!0}},o=p=>{p.minFilter=Es,s.activeTexture=p,!!s.targetObject&&(s.targetObject.material.visible=!1,s.targetObject.material.needsUpdate=!0,s.nearestObjects=s.getNearest(s.targetObject.position,{nNearest:s.nNearest,maxDistance:s.maxDistance}),l(s.nearestObjects),a(s.nearestObjects,!1),s.scene.getObjectByName("ActivePhotoSphere")&&n(s.targetObject),!!s.activeObject&&(s.activeObject.material.uniforms.texture1.value=s.activeTexture,s.activeObject.position.set(s.targetObject.userData.position.x,s.targetObject.userData.position.y,s.targetObject.userData.position.z),s.activeObject.rotation.setFromQuaternion(new Vs(s.targetObject.userData.quaternion.x,s.targetObject.userData.quaternion.y,s.targetObject.userData.quaternion.z,s.targetObject.userData.quaternion.w)),s.activeObject.material.uniforms.mono.value=0,s.scene.getObjectByName("ActivePhotoSphere")||s.scene.add(s.activeObject)))},c=function(){},h=function(){},d=p=>_K(this,null,function*(){s.isActive&&s.targetObject?s.targetObject.dispatchEvent({type:"set_deactive"}):s.events.dispatch(ee.EnterSphereMode,{target:p,normal:new z(0,1,0),saveState:!0},s.domEl);const Z=p.userData;let X;if(Z.url)X=Z.url;else{if(typeof this.getUrlCallback>"u")throw new Error('Provide either "url" for photo object or "getUrl" as callback in load opts');X=yield this.getUrlCallback(Z)}s.targetObject=p,s.activeObject&&(s.activeObject.material.uniforms.mono.value=1),s.loader.load(X,o,c,h);let R;typeof Z.depthUrl<"u"?R=Z.depthUrl:typeof this.getDepthCallback<"u"&&(R=yield this.getDepthCallback(Z)),typeof R<"u"?s.loader.load(R,function(W){const S=document.createElement("canvas");S.width=W.image.width,S.height=W.image.height;const F=S.getContext("2d");!F||(F.drawImage(W.image,0,0),s.activeDepthData=F.getImageData(0,0,W.image.width,W.image.height),s.activeDepthTexture=W,s.activeObject.material.uniforms.depthmap.value=W,s.events.dispatch(ee.DepthEnabled,{value:!0},s.domEl))}):s.events.dispatch(ee.DepthEnabled,{value:!1},s.domEl)}),u=function(){!s.targetObject||(s.targetObject.material.visible=!0,s.targetObject.material.needsUpdate=!0,r(s.nearestObjects),a(s.nearestObjects,!0))};for(const p of i)this.referenceFrame.isSet()||(this.referenceFrame.position=new z(p.position.x,p.position.y,p.position.z)),this.add(p,{activateCallback:d,deactivateCallback:u});return this.index(),this.group}setTargetSize(i){for(let e=0;e<this.group.children.length;e++)this.group.children[e].scale.set(i,i,i);this.events.dispatch("pointscene_photosphere_target_size_changed",{value:i},this.domEl)}setActiveOpacity(i){this.activeObject&&(this.activeObject.material.uniforms.opacity.value=i),this.events.dispatch("pointscene_photosphere_active_opacity_changed",{value:i},this.domEl)}setVisibility(i){for(let e=0;e<this.group.children.length;e++)this.group.children[e].material.visible=i,this.group.children[e].userData.isPickable=i;this.events.dispatch("pointscene_photosphere_target_visiblity_changed",{value:i},this.domEl)}setBackgroundMode(i){!this.activeObject||(i?(this.activeObject.material.depthTest=!0,this.activeObject.material.depthWrite=!1,this.activeObject.scale.set(-1e3,1e3,1e3)):(this.activeObject.material.depthTest=!1,this.activeObject.material.depthWrite=!1,this.activeObject.scale.set(-100,100,100)),this.activeObject.material.needsUpdate=!0,this.events.dispatch("pointscene_photosphere_background_mode_changed",{value:i},this.domEl))}handleOpenNearestSphere(i){this.openNearest(i.detail.position)}handleSetSphereBackgroundMode(i){this.setBackgroundMode(i.detail.value)}handleSetSphereVisibility(i){this.setVisibility(i.detail.value)}handleSetSphereSize(i){this.setTargetSize(i.detail.value)}handleSetSphereOpacity(i){this.setActiveOpacity(i.detail.value)}handleLoadSpheres(i){this.load(i.detail)}binds(){this.handleSetSphereBackgroundMode=this.handleSetSphereBackgroundMode.bind(this)}addListeners(){this.domEl.addEventListener(ee.SetPhotoBackgroundMode,this.handleSetSphereBackgroundMode,!1)}removeListeners(){this.domEl.removeEventListener(ee.SetPhotoBackgroundMode,this.handleSetSphereBackgroundMode,!1),this.removePhotosListeners()}}function Sh(t,i){return new is().setFromPoints([new z(t.min.x,t.min.y,t.min.z).applyMatrix4(i),new z(t.min.x,t.min.y,t.min.z).applyMatrix4(i),new z(t.max.x,t.min.y,t.min.z).applyMatrix4(i),new z(t.min.x,t.max.y,t.min.z).applyMatrix4(i),new z(t.min.x,t.min.y,t.max.z).applyMatrix4(i),new z(t.min.x,t.max.y,t.max.z).applyMatrix4(i),new z(t.max.x,t.max.y,t.min.z).applyMatrix4(i),new z(t.max.x,t.min.y,t.max.z).applyMatrix4(i),new z(t.max.x,t.max.y,t.max.z).applyMatrix4(i)])}function By(t,i){const e=t.min.clone(),s=t.max.clone(),n=new z().subVectors(s,e);return(i&1)>0?e.z+=n.z/2:s.z-=n.z/2,(i&2)>0?e.y+=n.y/2:s.y-=n.y/2,(i&4)>0?e.x+=n.x/2:s.x-=n.x/2,new is(e,s)}const Ay=["Y","Z"];class jy{constructor(){this._isSet=!1,this._upAxis="Z",this.mRotation=new _t().identity(),this.mScale=new _t().identity(),this.mPosition=new _t().identity(),this.mPreComputed=new _t().identity(),this.mNeedsUpdate=!1}computeBoundingBox(i){const e=this.getTransformationMatrix();return Sh(i,e)}computeUntranslatedBoundingBox(i){const e=this.mRotation.clone().multiply(this.mScale);return Sh(i,e)}decomposeMatrix(i){const e=new z,s=new Vs,n=new z,l=new pn;if(i.decompose(e,s,n),l.setFromQuaternion(s),this._upAxis==="Z"){const r=n.x;n.x=n.y,n.y=r}return{position:e,quaternion:s,rotation:l,scale:n}}getSceneGroup(i){const e=this.getTransformationMatrix(),{position:s,quaternion:n,rotation:l}=this.decomposeMatrix(e),r=this.getScale(),a=new Si;this._upAxis==="Z"?a.up.set(0,0,1):a.up.set(0,1,0),a.matrixAutoUpdate=!1,a.matrix=e,a.matrixWorld=e,a.position.copy(s),a.quaternion.copy(n),a.rotation.copy(l),a.updateMatrix();for(const o of i)o.scale.copy(r),o.matrixAutoUpdate=!1,a.add(o),o.updateMatrix();return a.updateMatrixWorld(!0),a}getTransformationMatrix(i,e){if(!i&&!this.mNeedsUpdate)return this.mPreComputed;const s=this.mRotation.clone();return this.mPreComputed=s.copyPosition(this.mPosition),e&&(this.mPreComputed.elements[0]=this.mScale.elements[0],this.mPreComputed.elements[5]=this.mScale.elements[5],this.mPreComputed.elements[10]=this.mScale.elements[10]),this.mNeedsUpdate=!!e,this.mPreComputed}isSet(){return this._isSet}toGeo(i,e={}){this.isSet()||console.warn("ReferenceFrame.toGeo: ref not set");const s=this._normalize(i),l=this.getTransformationMatrix(e.forceMatrixUpdate,e.useScale).clone().invert();return s.applyMatrix4(l)}toScene(i,e={}){return this.isSet()||console.warn("ReferenceFrame.toScene: ref not set"),this._normalize(i).applyMatrix4(this.getTransformationMatrix(e.forceMatrixUpdate,e.useScale))}set upAxis(i){if(!Ay.includes(i))throw new Error("Invalid up axis: "+i+". Allowed: "+Ay.join(" "));i==="Y"?this.mRotation.makeRotationX(-Math.PI/2):this.mRotation.identity(),this.mNeedsUpdate=!0,this._upAxis=i}get upAxis(){return this._upAxis}setPosition(i,e){const s=e?this._normalize(i).clone().negate():this._normalize(i).clone();this.mPosition.makeTranslation(s.x,s.y,s.z),this.mNeedsUpdate=!0,this._isSet=!0}set position(i){this.mPosition.makeTranslation(-i.x,-i.y,-i.z),this.mNeedsUpdate=!0,this._isSet=!0}get position(){const i=new z,e=new Vs,s=new z;return this.getTransformationMatrix().decompose(i,e,s),i.negate()}setScale(i){this.mScale.makeScale(i.x,i.y,i.z),this.mNeedsUpdate=!0}set scale(i){this.mScale.makeScale(i.x,i.y,i.z),this.mNeedsUpdate=!0}getScale(){return new z(this.mScale.elements[0],this.mScale.elements[5],this.mScale.elements[10])}getScaleMatrix3(){return new Ys().setFromMatrix4(this.mScale)}_normalize(i){return i instanceof z?i.clone():i instanceof we?i.position.clone():i.x!==void 0&&i.y!==void 0&&i.z!==void 0?new z(i.x,i.y,i.z):(console.warn("referenceFrame: Invalid object",i),new z)}}var $K=`precision highp float;
precision highp int;

uniform mat4 projectionMatrix;

uniform float screenWidth;
uniform float screenHeight;
uniform float near;
uniform float far;

uniform sampler2D map;

varying vec2 vUv;

void main() {

	float dx = 1.0 / screenWidth;
	float dy = 1.0 / screenHeight;

	vec3 color = vec3(0.0, 0.0, 0.0);
	color += texture2D(map, vUv + vec2(-dx, -dy)).rgb;
	color += texture2D(map, vUv + vec2(  0, -dy)).rgb;
	color += texture2D(map, vUv + vec2(+dx, -dy)).rgb;
	color += texture2D(map, vUv + vec2(-dx,   0)).rgb;
	color += texture2D(map, vUv + vec2(  0,   0)).rgb;
	color += texture2D(map, vUv + vec2(+dx,   0)).rgb;
	color += texture2D(map, vUv + vec2(-dx,  dy)).rgb;
	color += texture2D(map, vUv + vec2(  0,  dy)).rgb;
	color += texture2D(map, vUv + vec2(+dx,  dy)).rgb;
    
	color = color / 9.0;
	
	gl_FragColor = vec4(color, 1.0);
	
	
}`,tw=Object.freeze({__proto__:null,default:$K}),ew=`precision highp float;
precision highp int;

attribute vec3 position;
attribute vec2 uv;

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;

varying vec2 vUv;

void main() {
    vUv = uv;

    gl_Position =   projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}`,sw=Object.freeze({__proto__:null,default:ew});class iw extends ri{constructor(){super(...arguments);this.vertexShader=sw,this.fragmentShader=tw,this.uniforms={near:{type:"f",value:0},far:{type:"f",value:0},screenWidth:{type:"f",value:0},screenHeight:{type:"f",value:0},map:{type:"t",value:null}}}}var An=(t=>(t[t.DISABLED=0]="DISABLED",t[t.CLIP_OUTSIDE=1]="CLIP_OUTSIDE",t[t.HIGHLIGHT_INSIDE=2]="HIGHLIGHT_INSIDE",t))(An||{}),tn=(t=>(t[t.FIXED=0]="FIXED",t[t.ATTENUATED=1]="ATTENUATED",t[t.ADAPTIVE=2]="ADAPTIVE",t))(tn||{}),jn=(t=>(t[t.SQUARE=0]="SQUARE",t[t.CIRCLE=1]="CIRCLE",t[t.PARABOLOID=2]="PARABOLOID",t))(jn||{}),ra=(t=>(t[t.OCTREE=0]="OCTREE",t[t.KDTREE=1]="KDTREE",t))(ra||{}),Co=(t=>(t[t.FIXED=0]="FIXED",t[t.ATTENUATED=1]="ATTENUATED",t))(Co||{}),Gs=(t=>(t[t.RGB=0]="RGB",t[t.COLOR=1]="COLOR",t[t.DEPTH=2]="DEPTH",t[t.HEIGHT=3]="HEIGHT",t[t.ELEVATION=3]="ELEVATION",t[t.INTENSITY=4]="INTENSITY",t[t.INTENSITY_GRADIENT=5]="INTENSITY_GRADIENT",t[t.LOD=6]="LOD",t[t.LEVEL_OF_DETAIL=6]="LEVEL_OF_DETAIL",t[t.POINT_INDEX=7]="POINT_INDEX",t[t.CLASSIFICATION=8]="CLASSIFICATION",t[t.RETURN_NUMBER=9]="RETURN_NUMBER",t[t.SOURCE=10]="SOURCE",t[t.NORMAL=11]="NORMAL",t[t.PHONG=12]="PHONG",t[t.RGB_HEIGHT=13]="RGB_HEIGHT",t[t.COMPOSITE=50]="COMPOSITE",t))(Gs||{});const Qy=0,_y=0,qy=1,nw=50,lw=50,rw=2,aw=15,ow=1e6,$y=2,cw=4,tG="PerspectiveCamera",hw=new it(0,0,0),dw=new Ut(1,0,0,1);function tp(t){return parseInt(t.charAt(t.length-1),10)}function uw(t,i){const e=t.name,s=i.name;return e.length!==s.length?e.length-s.length:e<s?-1:e>s?1:0}const eG={0:new Ut(.5,.5,.5,1),1:new Ut(.5,.5,.5,1),2:new Ut(.63,.32,.18,1),3:new Ut(0,1,0,1),4:new Ut(0,.8,0,1),5:new Ut(0,.6,0,1),6:new Ut(1,.66,0,1),7:new Ut(1,0,1,1),8:new Ut(1,0,0,1),9:new Ut(0,0,1,1),12:new Ut(1,1,0,1),DEFAULT:new Ut(.3,.6,.6,.5)},pw=[[0,new it(0,0,0)],[1,new it(1,1,1)]],mw=[[0,new it(.077,.042,.206)],[.1,new it(.225,.036,.388)],[.2,new it(.373,.074,.432)],[.3,new it(.522,.128,.42)],[.4,new it(.665,.182,.37)],[.5,new it(.797,.255,.287)],[.6,new it(.902,.364,.184)],[.7,new it(.969,.516,.063)],[.8,new it(.988,.683,.072)],[.9,new it(.961,.859,.298)],[1,new it(.988,.998,.645)]],bw=[[0,new it(.241,.015,.61)],[.1,new it(.387,.001,.654)],[.2,new it(.524,.025,.653)],[.3,new it(.651,.125,.596)],[.4,new it(.752,.227,.513)],[.5,new it(.837,.329,.431)],[.6,new it(.907,.435,.353)],[.7,new it(.963,.554,.272)],[.8,new it(.992,.681,.195)],[.9,new it(.987,.822,.144)],[1,new it(.94,.975,.131)]],yw=[[0,new it(.278,0,.714)],[1/6,new it(0,0,1)],[2/6,new it(0,1,1)],[3/6,new it(0,1,0)],[4/6,new it(1,1,0)],[5/6,new it(1,.64,0)],[1,new it(1,0,0)]],sG=[[0,new it(.3686,.3098,.6353)],[.1,new it(.1961,.5333,.7412)],[.2,new it(.4,.7608,.6471)],[.3,new it(.6706,.8667,.6431)],[.4,new it(.902,.9608,.5961)],[.5,new it(1,1,.749)],[.6,new it(.9961,.8784,.5451)],[.7,new it(.9922,.6824,.3804)],[.8,new it(.9569,.4275,.2627)],[.9,new it(.8353,.2431,.3098)],[1,new it(.6196,.0039,.2588)]],Gw=[[0,new it(.267,.005,.329)],[.1,new it(.283,.141,.458)],[.2,new it(.254,.265,.53)],[.3,new it(.207,.372,.553)],[.4,new it(.164,.471,.558)],[.5,new it(.128,.567,.551)],[.6,new it(.135,.659,.518)],[.7,new it(.267,.749,.441)],[.8,new it(.478,.821,.318)],[.9,new it(.741,.873,.15)],[1,new it(.993,.906,.144)]],Zw=[[0,new it(.1647,.2824,.3451)],[.1,new it(.1338,.3555,.4227)],[.2,new it(.061,.4319,.4864)],[.3,new it(0,.5099,.5319)],[.4,new it(0,.5881,.5569)],[.5,new it(.137,.665,.5614)],[.6,new it(.2906,.7395,.5477)],[.7,new it(.4453,.8099,.5201)],[.8,new it(.6102,.8748,.485)],[.9,new it(.7883,.9323,.4514)],[1,new it(.9804,.9804,.4314)]];function iG(t,i,e){const s=t*i,n=new Uint8Array(4*s),l=Math.floor(e.r*255),r=Math.floor(e.g*255),a=Math.floor(e.b*255);for(let c=0;c<s;c++)n[c*3]=l,n[c*3+1]=r,n[c*3+2]=a;const o=new gu(n,t,i,li);return o.needsUpdate=!0,o.magFilter=ds,o}function ep(t){const e=document.createElement("canvas");e.width=64,e.height=64;const s=e.getContext("2d");s.rect(0,0,64,64);const n=s.createLinearGradient(0,0,64,64);for(let r=0;r<t.length;r++){const a=t[r];n.addColorStop(a[0],`#${a[1].getHexString()}`)}s.fillStyle=n,s.fill();const l=new ty(e);return l.needsUpdate=!0,l.minFilter=Es,l}function sp(t){const n=new Uint8Array(262144);for(let r=0;r<256;r++)for(let a=0;a<256;a++){const o=r+256*a;let c;t[r]?c=t[r]:t[r%32]?c=t[r%32]:c=t.DEFAULT,n[4*o+0]=255*c.x,n[4*o+1]=255*c.y,n[4*o+2]=255*c.z,n[4*o+3]=255*c.w}const l=new gu(n,256,256,li);return l.magFilter=ds,l.needsUpdate=!0,l}var Xw=`precision highp float;
precision highp int;

//#if NUM_CLIPPING_PLANES > 0
//	varying vec3 vClipPosition;
//	uniform vec4 clippingPlanes[NUM_CLIPPING_PLANES];
//#endif

#if defined paraboloid_point_shape
	#extension GL_EXT_frag_depth : enable
#endif

uniform mat4 viewMatrix;
uniform vec3 cameraPosition;

uniform mat4 projectionMatrix;
uniform float opacity;

uniform float blendHardness;
uniform float blendDepthSupplement;
uniform float fov;
uniform float spacing;
uniform float pcIndex;
uniform float screenWidth;
uniform float screenHeight;

uniform sampler2D depthMap;

#ifdef highlight_point
	uniform vec4 highlightedPointColor;
#endif

varying vec3 vColor;

#if !defined(color_type_point_index)
	varying float vOpacity;
#endif

#if defined(weighted_splats)
	varying float vLinearDepth;
#endif

#if !defined(paraboloid_point_shape) && defined(use_edl)
	varying float vLogDepth;
#endif

#if defined(color_type_phong) && (MAX_POINT_LIGHTS > 0 || MAX_DIR_LIGHTS > 0) || defined(paraboloid_point_shape)
	varying vec3 vViewPosition;
#endif

#if defined(weighted_splats) || defined(paraboloid_point_shape)
	varying float vRadius;
#endif

#if defined(color_type_phong) && (MAX_POINT_LIGHTS > 0 || MAX_DIR_LIGHTS > 0)
	varying vec3 vNormal;
#endif

#ifdef highlight_point
	varying float vHighlight;
#endif

float specularStrength = 1.0;

#include <clipping_planes_pars_fragment>

void main() {
	#include <clipping_planes_fragment>

	vec3 color = vColor;
	float depth = gl_FragCoord.z;
	/*
	#if NUM_CLIPPING_PLANES > 0
		vec4 plane;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
	*/
	
	#if defined(circle_point_shape) || defined(paraboloid_point_shape) || defined (weighted_splats)
		float u = 2.0 * gl_PointCoord.x - 1.0;
		float v = 2.0 * gl_PointCoord.y - 1.0;
	#endif
	
	#if defined(circle_point_shape) || defined (weighted_splats)
		float cc = u*u + v*v;
		if(cc > 1.0){
			discard;
		}
	#endif
	
	#if defined weighted_splats
		vec2 uv = gl_FragCoord.xy / vec2(screenWidth, screenHeight);
		float sDepth = texture2D(depthMap, uv).r;
		if(vLinearDepth > sDepth + vRadius + blendDepthSupplement){
			discard;
		}
	#endif
		
	#if defined color_type_point_index
		gl_FragColor = vec4(color, pcIndex / 255.0);
	#else
		gl_FragColor = vec4(color, vOpacity);
	#endif

	#if defined(color_type_phong)
		#if MAX_POINT_LIGHTS > 0 || MAX_DIR_LIGHTS > 0
			vec3 normal = normalize( vNormal );
			normal.z = abs(normal.z);

			vec3 viewPosition = normalize( vViewPosition );
		#endif

		// code taken from three.js phong light fragment shader
	
		#if MAX_POINT_LIGHTS > 0

			vec3 pointDiffuse = vec3( 0.0 );
			vec3 pointSpecular = vec3( 0.0 );

			for ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {

				vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );
				vec3 lVector = lPosition.xyz + vViewPosition.xyz;

				float lDistance = 1.0;
				if ( pointLightDistance[ i ] > 0.0 )
					lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );

				lVector = normalize( lVector );

						// diffuse

				float dotProduct = dot( normal, lVector );

				#ifdef WRAP_AROUND

					float pointDiffuseWeightFull = max( dotProduct, 0.0 );
					float pointDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );

					vec3 pointDiffuseWeight = mix( vec3( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );

				#else

					float pointDiffuseWeight = max( dotProduct, 0.0 );

				#endif

				pointDiffuse += diffuse * pointLightColor[ i ] * pointDiffuseWeight * lDistance;

				// specular

				vec3 pointHalfVector = normalize( lVector + viewPosition );
				float pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );
				float pointSpecularWeight = specularStrength * max( pow( pointDotNormalHalf, shininess ), 0.0 );

				float specularNormalization = ( shininess + 2.0 ) / 8.0;

				vec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, pointHalfVector ), 0.0 ), 5.0 );
				pointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * lDistance * specularNormalization;
				pointSpecular = vec3(0.0, 0.0, 0.0);
			}
		
		#endif
		
		#if MAX_DIR_LIGHTS > 0

			vec3 dirDiffuse = vec3( 0.0 );
			vec3 dirSpecular = vec3( 0.0 );

			for( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {

				vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );
				vec3 dirVector = normalize( lDirection.xyz );

						// diffuse

				float dotProduct = dot( normal, dirVector );

				#ifdef WRAP_AROUND

					float dirDiffuseWeightFull = max( dotProduct, 0.0 );
					float dirDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );

					vec3 dirDiffuseWeight = mix( vec3( dirDiffuseWeightFull ), vec3( dirDiffuseWeightHalf ), wrapRGB );

				#else

					float dirDiffuseWeight = max( dotProduct, 0.0 );

				#endif

				dirDiffuse += diffuse * directionalLightColor[ i ] * dirDiffuseWeight;

				// specular

				vec3 dirHalfVector = normalize( dirVector + viewPosition );
				float dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );
				float dirSpecularWeight = specularStrength * max( pow( dirDotNormalHalf, shininess ), 0.0 );

				float specularNormalization = ( shininess + 2.0 ) / 8.0;

				vec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( dirVector, dirHalfVector ), 0.0 ), 5.0 );
				dirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;
			}

		#endif
		
		vec3 totalDiffuse = vec3( 0.0 );
		vec3 totalSpecular = vec3( 0.0 );
		
		#if MAX_POINT_LIGHTS > 0

			totalDiffuse += pointDiffuse;
			totalSpecular += pointSpecular;

		#endif
		
		#if MAX_DIR_LIGHTS > 0

			totalDiffuse += dirDiffuse;
			totalSpecular += dirSpecular;

		#endif
		
		gl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient ) + totalSpecular;

	#endif
	
	#if defined weighted_splats
	    //float w = pow(1.0 - (u*u + v*v), blendHardness);
		
		float wx = 2.0 * length(2.0 * gl_PointCoord - 1.0);
		float w = exp(-wx * wx * 0.5);
		
		//float distance = length(2.0 * gl_PointCoord - 1.0);
		//float w = exp( -(distance * distance) / blendHardness);
		
		gl_FragColor.rgb = gl_FragColor.rgb * w;
		gl_FragColor.a = w;
	#endif
	
	#if defined paraboloid_point_shape
		float wi = 0.0 - ( u*u + v*v);
		vec4 pos = vec4(vViewPosition, 1.0);
		pos.z += wi * vRadius;
		float linearDepth = -pos.z;
		pos = projectionMatrix * pos;
		pos = pos / pos.w;
		float expDepth = pos.z;
		depth = (pos.z + 1.0) / 2.0;
		gl_FragDepthEXT = depth;
		
		#if defined(color_type_depth)
			gl_FragColor.r = linearDepth;
			gl_FragColor.g = expDepth;
		#endif
		
		#if defined(use_edl)
			gl_FragColor.a = log2(linearDepth);
		#endif
		
	#else
		#if defined(use_edl)
			gl_FragColor.a = vLogDepth;
		#endif
	#endif

	#ifdef highlight_point
		if (vHighlight > 0.0) {
			gl_FragColor = highlightedPointColor;
		}
	#endif
}
`,Tw=`precision highp float;
precision highp int;

//#if NUM_CLIPPING_PLANES > 0
//	varying vec3 vClipPosition;
//	uniform vec4 clippingPlanes[NUM_CLIPPING_PLANES];
//#endif

#define max_clip_boxes 30

attribute vec3 position;
attribute vec3 color;
attribute vec3 normal;
attribute float intensity;
attribute float classification;
attribute float returnNumber;
attribute float numberOfReturns;
attribute float pointSourceID;
attribute vec4 indices;

uniform mat4 modelMatrix;
uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;

uniform float pcIndex;

uniform float screenWidth;
uniform float screenHeight;
uniform float fov;
uniform float spacing;

#if defined use_clip_box
	uniform mat4 clipBoxes[max_clip_boxes];
#endif

uniform float heightMin;
uniform float heightMax;
uniform float size; // pixel size factor
uniform float minSize; // minimum pixel size
uniform float maxSize; // maximum pixel size
uniform float octreeSize;
uniform vec3 bbSize;
uniform vec3 uColor;
uniform float opacity;
uniform float clipBoxCount;
uniform float level;
uniform float vnStart;
uniform bool isLeafNode;
uniform bool useUnscaledElevation; // Use unscaled z for elevation coloring

uniform float filterByNormalThreshold;
uniform vec2 intensityRange;
uniform float opacityAttenuation;
uniform float intensityGamma;
uniform float intensityContrast;
uniform float intensityBrightness;
uniform float rgbGamma;
uniform float rgbContrast;
uniform float rgbBrightness;
uniform float transition;
uniform float wRGB;
uniform float wIntensity;
uniform float wElevation;
uniform float wClassification;
uniform float wReturnNumber;
uniform float wSourceID;

uniform sampler2D visibleNodes;
uniform sampler2D gradient;
uniform sampler2D classificationLUT;
uniform sampler2D depthMap;

#ifdef highlight_point
	uniform vec3 highlightedPointCoordinate;
	uniform bool enablePointHighlighting;
	uniform float highlightedPointScale;
#endif

varying vec3 vColor;

#if !defined(color_type_point_index)
	varying float vOpacity;
#endif

#if defined(weighted_splats)
	varying float vLinearDepth;
#endif

#if !defined(paraboloid_point_shape) && defined(use_edl)
	varying float vLogDepth;
#endif

#if defined(color_type_phong) && (MAX_POINT_LIGHTS > 0 || MAX_DIR_LIGHTS > 0) || defined(paraboloid_point_shape)
	varying vec3 vViewPosition;
#endif

#if defined(weighted_splats) || defined(paraboloid_point_shape)
	varying float vRadius;
#endif

#if defined(color_type_phong) && (MAX_POINT_LIGHTS > 0 || MAX_DIR_LIGHTS > 0)
	varying vec3 vNormal;
#endif

#ifdef highlight_point
	varying float vHighlight;
#endif

#include <clipping_planes_pars_vertex>

// ---------------------
// OCTREE
// ---------------------

#if (defined(adaptive_point_size) || defined(color_type_lod)) && defined(tree_type_octree)

/**
 * Rounds the specified number to the closest integer.
 */
float round(float number){
	return floor(number + 0.5);
}

/**
 * Gets the number of 1-bits up to inclusive index position.
 * 
 * number is treated as if it were an integer in the range 0-255
 */
int numberOfOnes(int number, int index) {
	int numOnes = 0;
	int tmp = 128;
	for (int i = 7; i >= 0; i--) {

		if (number >= tmp) {
			number = number - tmp;

			if (i <= index) {
				numOnes++;
			}
		}

		tmp = tmp / 2;
	}

	return numOnes;
}

/**
 * Checks whether the bit at index is 1.0
 *
 * number is treated as if it were an integer in the range 0-255
 */
bool isBitSet(int number, int index){

	// weird multi else if due to lack of proper array, int and bitwise support in WebGL 1.0
	int powi = 1;
	if (index == 0) {
		powi = 1;
	} else if (index == 1) {
		powi = 2;
	} else if (index == 2) {
		powi = 4;
	} else if (index == 3) {
		powi = 8;
	} else if (index == 4) {
		powi = 16;
	} else if (index == 5) {
		powi = 32;
	} else if (index == 6) {
		powi = 64;
	} else if (index == 7) {
		powi = 128;
	}

	int ndp = number / powi;

	return mod(float(ndp), 2.0) != 0.0;
}

/**
 * Gets the the LOD at the point position.
 */
float getLOD() {
	vec3 offset = vec3(0.0, 0.0, 0.0);
	int iOffset = int(vnStart);
	float depth = level;

	for (float i = 0.0; i <= 30.0; i++) {
		float nodeSizeAtLevel = octreeSize  / pow(2.0, i + level + 0.0);
		
		vec3 index3d = (position-offset) / nodeSizeAtLevel;
		index3d = floor(index3d + 0.5);
		int index = int(round(4.0 * index3d.x + 2.0 * index3d.y + index3d.z));
		
		vec4 value = texture2D(visibleNodes, vec2(float(iOffset) / 2048.0, 0.0));
		int mask = int(round(value.r * 255.0));

		if (isBitSet(mask, index)) {
			// there are more visible child nodes at this position
			int advanceG = int(round(value.g * 255.0)) * 256;
			int advanceB = int(round(value.b * 255.0));
			int advanceChild = numberOfOnes(mask, index - 1);
			int advance = advanceG + advanceB + advanceChild;

			iOffset = iOffset + advance;

			depth++;
		} else {
			return value.a * 255.0; // no more visible child nodes at this position
		}
		
		offset = offset + (vec3(1.0, 1.0, 1.0) * nodeSizeAtLevel * 0.5) * index3d;  
	}
		
	return depth;
}

float getPointSizeAttenuation() {
	return 0.5 * pow(2.0, getLOD());
}

#endif

// ---------------------
// KD-TREE
// ---------------------

#if (defined(adaptive_point_size) || defined(color_type_lod)) && defined(tree_type_kdtree)

float getLOD() {
	vec3 offset = vec3(0.0, 0.0, 0.0);
	float intOffset = 0.0;
	float depth = 0.0;
			
	vec3 size = bbSize;	
	vec3 pos = position;
		
	for (float i = 0.0; i <= 1000.0; i++) {
		
		vec4 value = texture2D(visibleNodes, vec2(intOffset / 2048.0, 0.0));
		
		int children = int(value.r * 255.0);
		float next = value.g * 255.0;
		int split = int(value.b * 255.0);
		
		if (next == 0.0) {
		 	return depth;
		}
		
		vec3 splitv = vec3(0.0, 0.0, 0.0);
		if (split == 1) {
			splitv.x = 1.0;
		} else if (split == 2) {
		 	splitv.y = 1.0;
		} else if (split == 4) {
		 	splitv.z = 1.0;
		}
		
		intOffset = intOffset + next;
		
		float factor = length(pos * splitv / size);
		if (factor < 0.5) {
		 	// left
			if (children == 0 || children == 2) {
				return depth;
			}
		} else {
			// right
			pos = pos - size * splitv * 0.5;
			if (children == 0 || children == 1) {
				return depth;
			}
			if (children == 3) {
				intOffset = intOffset + 1.0;
			}
		}
		size = size * ((1.0 - (splitv + 1.0) / 2.0) + 0.5);
		
		depth++;
	}
		
		
	return depth;	
}

float getPointSizeAttenuation() {
	return 0.5 * pow(1.3, getLOD());
}

#endif

// formula adapted from: http://www.dfstudios.co.uk/articles/programming/image-programming-algorithms/image-processing-algorithms-part-5-contrast-adjustment/
float getContrastFactor(float contrast) {
	return (1.0158730158730156 * (contrast + 1.0)) / (1.0158730158730156 - contrast);
}

vec3 getRGB() {
	#if defined(use_rgb_gamma_contrast_brightness)
	  vec3 rgb = color;
		rgb = pow(rgb, vec3(rgbGamma));
		rgb = rgb + rgbBrightness;
		rgb = (rgb - 0.5) * getContrastFactor(rgbContrast) + 0.5;
		rgb = clamp(rgb, 0.0, 1.0);
		return rgb;
	#else
		return color;
	#endif
}

float getIntensity() {
	float w = (intensity - intensityRange.x) / (intensityRange.y - intensityRange.x);
	w = pow(w, intensityGamma);
	w = w + intensityBrightness;
	w = (w - 0.5) * getContrastFactor(intensityContrast) + 0.5;
	w = clamp(w, 0.0, 1.0);
	
	return w;
}

vec3 getElevation() {
	float w;
	if (useUnscaledElevation) {
		// Use unscaled/unprojected values directly as elevations with a small scale do not work
		w = (position.z - heightMin) / (heightMax - heightMin);
	} else {
		// Original:
		vec4 world = modelMatrix * vec4(position, 1.0);
		w = (world.z - heightMin) / (heightMax - heightMin);
	}
	vec3 cElevation = texture2D(gradient, vec2(w, 1.0 - w)).rgb;
	return cElevation;
}

vec4 getClassification() {
	vec2 uv = vec2(classification / 255.0, 0.5);
	vec4 classColor = texture2D(classificationLUT, uv);
	
	return classColor;
}

vec3 getReturnNumber() {
	if (numberOfReturns == 1.0) {
		return vec3(1.0, 1.0, 0.0);
	} else {
		if (returnNumber == 1.0) {
			return vec3(1.0, 0.0, 0.0);
		} else if (returnNumber == numberOfReturns) {
			return vec3(0.0, 0.0, 1.0);
		} else {
			return vec3(0.0, 1.0, 0.0);
		}
	}
}

vec3 getSourceID() {
	float w = mod(pointSourceID, 10.0) / 10.0;
	return texture2D(gradient, vec2(w, 1.0 - w)).rgb;
}

vec3 getCompositeColor() {
	vec3 c;
	float w;

	c += wRGB * getRGB();
	w += wRGB;
	
	c += wIntensity * getIntensity() * vec3(1.0, 1.0, 1.0);
	w += wIntensity;
	
	c += wElevation * getElevation();
	w += wElevation;
	
	c += wReturnNumber * getReturnNumber();
	w += wReturnNumber;
	
	c += wSourceID * getSourceID();
	w += wSourceID;
	
	vec4 cl = wClassification * getClassification();
	c += cl.a * cl.rgb;
	w += wClassification * cl.a;

	c = c / w;
	
	if (w == 0.0) {
		gl_Position = vec4(100.0, 100.0, 100.0, 0.0);
	}
	
	return c;
}

void main() {
	//vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
	
	#include <begin_vertex>

	//gl_Position = projectionMatrix * mvPosition;
	#include <project_vertex>

	#if defined(color_type_phong) && (MAX_POINT_LIGHTS > 0 || MAX_DIR_LIGHTS > 0) || defined(paraboloid_point_shape)
		vViewPosition = mvPosition.xyz;
	#endif

	#if defined weighted_splats
		vLinearDepth = gl_Position.w;
	#endif

	#if defined(color_type_phong) && (MAX_POINT_LIGHTS > 0 || MAX_DIR_LIGHTS > 0)
		vNormal = normalize(normalMatrix * normal);
	#endif

	#if !defined(paraboloid_point_shape) && defined(use_edl)
		vLogDepth = log2(-mvPosition.z);
	#endif

	// ---------------------
	// POINT SIZE
	// ---------------------

	float pointSize = 1.0;
	float slope = tan(fov / 2.0);
	float projFactor =  -0.5 * screenHeight / (slope * mvPosition.z);

	#if defined fixed_point_size
		pointSize = size;
	#elif defined attenuated_point_size
		pointSize = size * spacing * projFactor;
	#elif defined adaptive_point_size
		float worldSpaceSize = 2.0 * size * spacing / getPointSizeAttenuation();
		pointSize = worldSpaceSize * projFactor;
	#endif

	pointSize = max(minSize, pointSize);
	pointSize = min(maxSize, pointSize);

	#if defined(weighted_splats) || defined(paraboloid_point_shape)
		vRadius = pointSize / projFactor;
	#endif
	
	gl_PointSize = pointSize;

	// ---------------------
	// HIGHLIGHTING
	// ---------------------

	#ifdef highlight_point
		vec4 mPosition = modelMatrix * vec4(position, 1.0);
		if (enablePointHighlighting && abs(mPosition.x - highlightedPointCoordinate.x) < 0.0001 &&
			abs(mPosition.y - highlightedPointCoordinate.y) < 0.0001 &&
			abs(mPosition.z - highlightedPointCoordinate.z) < 0.0001) {
			vHighlight = 1.0;
			gl_PointSize = pointSize * highlightedPointScale;
		} else {
			vHighlight = 0.0;
		}
	#endif

	// ---------------------
	// OPACITY
	// ---------------------

	#ifndef color_type_point_index
		#ifdef attenuated_opacity
			vOpacity = opacity * exp(-length(-mvPosition.xyz) / opacityAttenuation);
		#else
			vOpacity = opacity;
		#endif
	#endif

	// ---------------------
	// FILTERING
	// ---------------------

	#ifdef use_filter_by_normal
		if(abs((modelViewMatrix * vec4(normal, 0.0)).z) > filterByNormalThreshold) {
			// Move point outside clip space space to discard it.
			gl_Position = vec4(0.0, 0.0, 2.0, 1.0);
		}
	#endif

	// ---------------------
	// POINT COLOR
	// ---------------------	

	#ifdef color_type_rgb
		vColor = getRGB();
	#elif defined color_type_height
		vColor = getElevation();
	#elif defined color_type_rgb_height
		vec3 cHeight = getElevation();
		vColor = (1.0 - transition) * getRGB() + transition * cHeight;
	#elif defined color_type_depth
		float linearDepth = -mvPosition.z ;
		float expDepth = (gl_Position.z / gl_Position.w) * 0.5 + 0.5;
		vColor = vec3(linearDepth, expDepth, 0.0);
	#elif defined color_type_intensity
		float w = getIntensity();
		vColor = vec3(w, w, w);
	#elif defined color_type_intensity_gradient
		float w = getIntensity();
		vColor = texture2D(gradient, vec2(w, 1.0 - w)).rgb;
	#elif defined color_type_color
		vColor = uColor;
	#elif defined color_type_lod
	float w = getLOD() / 10.0;
	vColor = texture2D(gradient, vec2(w, 1.0 - w)).rgb;
	#elif defined color_type_point_index
		vColor = indices.rgb;
	#elif defined color_type_classification
	  vec4 cl = getClassification(); 
		vColor = cl.rgb;
	#elif defined color_type_return_number
		vColor = getReturnNumber();
	#elif defined color_type_source
		vColor = getSourceID();
	#elif defined color_type_normal
		vColor = (modelMatrix * vec4(normal, 0.0)).xyz;
	#elif defined color_type_phong
		vColor = color;
	#elif defined color_type_composite
		vColor = getCompositeColor();
	#endif
	
	#if !defined color_type_composite && defined color_type_classification
		if (cl.a == 0.0) {
			gl_Position = vec4(100.0, 100.0, 100.0, 0.0);
			return;
		}
	#endif

	// ---------------------
	// CLIPPING
	// ---------------------
	//#if NUM_CLIPPING_PLANES > 0
		// TODO: Optimize modelPositions
	//	vClipPosition = -(modelMatrix * vec4(position, 1.0)).xyz;
	//#endif
	#include <clipping_planes_vertex>

	#if defined use_clip_box
		bool insideAny = false;
		for (int i = 0; i < max_clip_boxes; i++) {
			if (i == int(clipBoxCount)) {
				break;
			}
		
			vec4 clipPosition = clipBoxes[i] * modelMatrix * vec4(position, 1.0);
			bool inside = -0.5 <= clipPosition.x && clipPosition.x <= 0.5;
			inside = inside && -0.5 <= clipPosition.y && clipPosition.y <= 0.5;
			inside = inside && -0.5 <= clipPosition.z && clipPosition.z <= 0.5;
			insideAny = insideAny || inside;
		}

		if (!insideAny) {
			#if defined clip_outside
				gl_Position = vec4(1000.0, 1000.0, 1000.0, 1.0);
			#elif defined clip_highlight_inside && !defined(color_type_depth)
				float c = (vColor.r + vColor.g + vColor.b) / 6.0;
			#endif
		} else {
			#if defined clip_highlight_inside
				vColor.r += 0.5;
			#endif
		}
	#endif
}
`,Rw=Object.defineProperty,Iw=Object.getOwnPropertyDescriptor,ge=(t,i,e,s)=>{for(var n=s>1?void 0:s?Iw(i,e):i,l=t.length-1,r;l>=0;l--)(r=t[l])&&(n=(s?r(i,e,n):r(n))||n);return s&&n&&Rw(i,e,n),n};const gw={[ra.OCTREE]:"tree_type_octree",[ra.KDTREE]:"tree_type_kdtree"},Ww={[tn.FIXED]:"fixed_point_size",[tn.ATTENUATED]:"attenuated_point_size",[tn.ADAPTIVE]:"adaptive_point_size"},Lw={[Co.ATTENUATED]:"attenuated_opacity",[Co.FIXED]:"fixed_opacity"},Sw={[jn.SQUARE]:"square_point_shape",[jn.CIRCLE]:"circle_point_shape",[jn.PARABOLOID]:"paraboloid_point_shape"},Cw={[Gs.RGB]:"color_type_rgb",[Gs.COLOR]:"color_type_color",[Gs.DEPTH]:"color_type_depth",[Gs.HEIGHT]:"color_type_height",[Gs.INTENSITY]:"color_type_intensity",[Gs.INTENSITY_GRADIENT]:"color_type_intensity_gradient",[Gs.LOD]:"color_type_lod",[Gs.POINT_INDEX]:"color_type_point_index",[Gs.CLASSIFICATION]:"color_type_classification",[Gs.RETURN_NUMBER]:"color_type_return_number",[Gs.SOURCE]:"color_type_source",[Gs.NORMAL]:"color_type_normal",[Gs.PHONG]:"color_type_phong",[Gs.RGB_HEIGHT]:"color_type_rgb_height",[Gs.COMPOSITE]:"color_type_composite"},fw={[An.DISABLED]:"clip_disabled",[An.CLIP_OUTSIDE]:"clip_outside",[An.HIGHLIGHT_INSIDE]:"clip_highlight_inside"},nG=class extends Pu{constructor(t={}){super();this.morphTargets=!1,this.lights=!1,this.fog=!1,this.numClipBoxes=0,this.clipBoxes=[],this.cacheKeyIndex=0,this.visibleNodeTextureOffsets=new Map,this._gradient=sG,this.gradientTexture=ep(this._gradient),this._classification=eG,this.classificationTexture=sp(this._classification),this.uniforms={bbSize:Te("fv",[0,0,0]),blendDepthSupplement:Te("f",0),blendHardness:Te("f",2),classificationLUT:Te("t",this.classificationTexture||new Ls),clipBoxCount:Te("f",0),clipBoxes:Te("Matrix4fv",[]),depthMap:Te("t",null),diffuse:Te("fv",[1,1,1]),fov:Te("f",1),gradient:Te("t",this.gradientTexture||new Ls),heightMax:Te("f",1),heightMin:Te("f",0),intensityBrightness:Te("f",0),intensityContrast:Te("f",0),intensityGamma:Te("f",1),intensityRange:Te("fv",[0,65e3]),isLeafNode:Te("b",0),level:Te("f",0),maxSize:Te("f",nw),minSize:Te("f",rw),octreeSize:Te("f",0),opacity:Te("f",1),pcIndex:Te("f",0),rgbBrightness:Te("f",Qy),rgbContrast:Te("f",_y),rgbGamma:Te("f",qy),screenHeight:Te("f",1),screenWidth:Te("f",1),size:Te("f",1),spacing:Te("f",1),toModel:Te("Matrix4f",[]),transition:Te("f",.5),uColor:Te("c",new it(16777215)),visibleNodes:Te("t",this.visibleNodesTexture||new Ls),vnStart:Te("f",0),wClassification:Te("f",0),wElevation:Te("f",0),wIntensity:Te("f",0),wReturnNumber:Te("f",0),wRGB:Te("f",1),wSourceID:Te("f",0),opacityAttenuation:Te("f",1),filterByNormalThreshold:Te("f",0),highlightedPointCoordinate:Te("fv",new z),highlightedPointColor:Te("fv",dw.clone()),enablePointHighlighting:Te("b",!0),highlightedPointScale:Te("f",2),useUnscaledElevation:Te("b",!1),clipIntersection:Te("b",!1)},this.useClipBox=!1,this.weighted=!1,this.pointColorType=Gs.RGB,this.pointSizeType=tn.ADAPTIVE,this.clipMode=An.DISABLED,this.useEDL=!1,this.shape=jn.CIRCLE,this.treeType=ra.OCTREE,this.pointOpacityType=Co.FIXED,this.useFilterByNormal=!1,this.highlightPoint=!1,this.attributes={position:{type:"fv",value:[]},color:{type:"fv",value:[]},normal:{type:"fv",value:[]},intensity:{type:"f",value:[]},classification:{type:"f",value:[]},returnNumber:{type:"f",value:[]},numberOfReturns:{type:"f",value:[]},pointSourceID:{type:"f",value:[]},indices:{type:"fv",value:[]}},this.clipping=!0;const i=this.visibleNodesTexture=iG(2048,1,new it(16777215));i.minFilter=ds,i.magFilter=ds,this.setUniform("visibleNodes",i),this.treeType=Ch(t.treeType,ra.OCTREE),this.size=Ch(t.size,1),this.minSize=Ch(t.minSize,2),this.maxSize=Ch(t.maxSize,50),this.classification=eG,this.defaultAttributeValues.normal=[0,0,0],this.defaultAttributeValues.classification=[0,0,0],this.defaultAttributeValues.indices=[0,0,0,0],this.vertexColors=!0,this.updateShaderSource()}dispose(){super.dispose(),this.gradientTexture&&(this.gradientTexture.dispose(),this.gradientTexture=void 0),this.visibleNodesTexture&&(this.visibleNodesTexture.dispose(),this.visibleNodesTexture=void 0),this.clearVisibleNodeTextureOffsets(),this.classificationTexture&&(this.classificationTexture.dispose(),this.classificationTexture=void 0),this.depthMap&&(this.depthMap.dispose(),this.depthMap=void 0)}clearVisibleNodeTextureOffsets(){this.visibleNodeTextureOffsets.clear()}updateShaderSource(){this.vertexShader=this.applyDefines(Tw),this.fragmentShader=this.applyDefines(Xw),this.opacity===1?(this.blending=un,this.transparent=!1,this.depthTest=!0,this.depthWrite=!0,this.depthFunc=_a):this.opacity<1&&!this.useEDL&&(this.blending=Rc,this.transparent=!0,this.depthTest=!1,this.depthWrite=!0),this.weighted&&(this.blending=Rc,this.transparent=!0,this.depthTest=!0,this.depthWrite=!1,this.depthFunc=_a),this.needsUpdate=!0}applyDefines(t){const i=[];function e(s){s&&i.push(`#define ${s}`)}return e(gw[this.treeType]),e(Ww[this.pointSizeType]),e(Sw[this.shape]),e(Cw[this.pointColorType]),e(fw[this.clipMode]),e(Lw[this.pointOpacityType]),(this.rgbGamma!==qy||this.rgbBrightness!==Qy||this.rgbContrast!==_y)&&e("use_rgb_gamma_contrast_brightness"),this.useFilterByNormal&&e("use_filter_by_normal"),this.useEDL&&e("use_edl"),this.weighted&&e("weighted_splats"),this.numClipBoxes>0&&e("use_clip_box"),this.highlightPoint&&e("highlight_point"),e("MAX_POINT_LIGHTS 0"),e("MAX_DIR_LIGHTS 0"),i.push(t),i.join(`
`)}setClipBoxes(t){if(!t)return;this.clipBoxes=t;const i=this.numClipBoxes!==t.length&&(t.length===0||this.numClipBoxes===0);this.numClipBoxes=t.length,this.setUniform("clipBoxCount",this.numClipBoxes),i&&this.updateShaderSource();const e=this.numClipBoxes*16,s=new Float32Array(e);for(let n=0;n<this.numClipBoxes;n++)s.set(t[n].inverse.elements,16*n);for(let n=0;n<e;n++)isNaN(s[n])&&(s[n]=1/0);this.setUniform("clipBoxes",s)}get gradient(){return this._gradient}set gradient(t){this._gradient!==t&&(this._gradient=t,this.gradientTexture=ep(this._gradient),this.setUniform("gradient",this.gradientTexture))}get classification(){return this._classification}set classification(t){const i={};for(const s of Object.keys(t))i[s]=t[s].clone();let e=!1;if(this._classification===void 0)e=!1;else{e=Object.keys(i).length===Object.keys(this._classification).length;for(const s of Object.keys(i))e=e&&this._classification[s]!==void 0,e=e&&i[s].equals(this._classification[s])}e||(this._classification=i,this.recomputeClassification())}recomputeClassification(){this.classificationTexture=sp(this._classification),this.setUniform("classificationLUT",this.classificationTexture)}get elevationRange(){return[this.heightMin,this.heightMax]}set elevationRange(t){this.heightMin=t[0],this.heightMax=t[1]}getUniform(t){return this.uniforms===void 0?void 0:this.uniforms[t].value}setUniform(t,i){if(this.uniforms===void 0)return;const e=this.uniforms[t];e.type==="c"?e.value.copy(i):i!==e.value&&(e.value=i)}updateMaterial(t,i,e,s){const n=s.getPixelRatio();e.type===tG?this.fov=e.fov*(Math.PI/180):this.fov=Math.PI/2;const l=s.getRenderTarget();l!==null&&l instanceof _s?(this.screenWidth=l.width,this.screenHeight=l.height):(this.screenWidth=s.domElement.clientWidth*n,this.screenHeight=s.domElement.clientHeight*n);const r=Math.max(t.scale.x,t.scale.y,t.scale.z);this.spacing=t.pcoGeometry.spacing*r,this.octreeSize=t.pcoGeometry.boundingBox.getSize(nG.helperVec3).x,(this.pointSizeType===tn.ADAPTIVE||this.pointColorType===Gs.LOD)&&this.updateVisibilityTextureData(i)}updateVisibilityTextureData(t){t.sort(uw);const i=new Uint8Array(t.length*4),e=new Array(t.length).fill(1/0);this.visibleNodeTextureOffsets.clear();for(let n=0;n<t.length;n++){const l=t[n];if(this.visibleNodeTextureOffsets.set(l.name,n),n>0){const r=l.name.slice(0,-1),a=this.visibleNodeTextureOffsets.get(r),o=n-a;e[a]=Math.min(e[a],o);const c=a*4;i[c]=i[c]|1<<l.index,i[c+1]=e[a]>>8,i[c+2]=e[a]%256}i[n*4+3]=l.name.length}const s=this.visibleNodesTexture;s&&(s.image.data.set(i),s.needsUpdate=!0)}onBeforeCompile(t,i){this.cacheKeyIndex++}customProgramCacheKey(){return`pc-mat-${this.cacheKeyIndex}`}static makeOnBeforeRender(t,i,e){return(s,n,l,r,a)=>{const o=a,c=o.uniforms;c.level.value=i.level,c.isLeafNode.value=i.isLeafNode;const h=o.visibleNodeTextureOffsets.get(i.name);h!==void 0&&(c.vnStart.value=h),c.pcIndex.value=e!==void 0?e:t.visibleNodes.indexOf(i),a.uniformsNeedUpdate=!0}}};let ue=nG;ue.helperVec3=new z,ge([ke("bbSize")],ue.prototype,"bbSize",2),ge([ke("depthMap")],ue.prototype,"depthMap",2),ge([ke("fov")],ue.prototype,"fov",2),ge([ke("heightMax")],ue.prototype,"heightMax",2),ge([ke("heightMin")],ue.prototype,"heightMin",2),ge([ke("intensityBrightness")],ue.prototype,"intensityBrightness",2),ge([ke("intensityContrast")],ue.prototype,"intensityContrast",2),ge([ke("intensityGamma")],ue.prototype,"intensityGamma",2),ge([ke("intensityRange")],ue.prototype,"intensityRange",2),ge([ke("maxSize")],ue.prototype,"maxSize",2),ge([ke("minSize")],ue.prototype,"minSize",2),ge([ke("octreeSize")],ue.prototype,"octreeSize",2),ge([ke("opacity",!0)],ue.prototype,"opacity",2),ge([ke("rgbBrightness",!0)],ue.prototype,"rgbBrightness",2),ge([ke("rgbContrast",!0)],ue.prototype,"rgbContrast",2),ge([ke("rgbGamma",!0)],ue.prototype,"rgbGamma",2),ge([ke("screenHeight")],ue.prototype,"screenHeight",2),ge([ke("screenWidth")],ue.prototype,"screenWidth",2),ge([ke("size")],ue.prototype,"size",2),ge([ke("spacing")],ue.prototype,"spacing",2),ge([ke("transition")],ue.prototype,"transition",2),ge([ke("uColor")],ue.prototype,"color",2),ge([ke("wClassification")],ue.prototype,"weightClassification",2),ge([ke("wElevation")],ue.prototype,"weightElevation",2),ge([ke("wIntensity")],ue.prototype,"weightIntensity",2),ge([ke("wReturnNumber")],ue.prototype,"weightReturnNumber",2),ge([ke("wRGB")],ue.prototype,"weightRGB",2),ge([ke("wSourceID")],ue.prototype,"weightSourceID",2),ge([ke("opacityAttenuation")],ue.prototype,"opacityAttenuation",2),ge([ke("filterByNormalThreshold")],ue.prototype,"filterByNormalThreshold",2),ge([ke("highlightedPointCoordinate")],ue.prototype,"highlightedPointCoordinate",2),ge([ke("highlightedPointColor")],ue.prototype,"highlightedPointColor",2),ge([ke("enablePointHighlighting")],ue.prototype,"enablePointHighlighting",2),ge([ke("highlightedPointScale")],ue.prototype,"highlightedPointScale",2),ge([ke("useUnscaledElevation")],ue.prototype,"useUnscaledElevation",2),ge([ke("clipIntersection")],ue.prototype,"clipIntersection",2),ge([en()],ue.prototype,"useClipBox",2),ge([en()],ue.prototype,"weighted",2),ge([en()],ue.prototype,"pointColorType",2),ge([en()],ue.prototype,"pointSizeType",2),ge([en()],ue.prototype,"clipMode",2),ge([en()],ue.prototype,"useEDL",2),ge([en()],ue.prototype,"shape",2),ge([en()],ue.prototype,"treeType",2),ge([en()],ue.prototype,"pointOpacityType",2),ge([en()],ue.prototype,"useFilterByNormal",2),ge([en()],ue.prototype,"highlightPoint",2);function Te(t,i){return{type:t,value:i}}function Ch(t,i){return t===void 0?i:t}function ke(t,i=!1){return(e,s)=>{Object.defineProperty(e,s,{get(){return this.getUniform(t)},set(n){n!==this.getUniform(t)&&(this.setUniform(t,n),i&&this.updateShaderSource())}})}}function en(){return(t,i)=>{const e=`_${i.toString()}`;Object.defineProperty(t,i,{get(){return this[e]},set(s){s!==this[e]&&(this[e]=s,this.updateShaderSource())}})}}var lG=(t=>(t[t.POSITION_CARTESIAN=0]="POSITION_CARTESIAN",t[t.COLOR_PACKED=1]="COLOR_PACKED",t[t.COLOR_FLOATS_1=2]="COLOR_FLOATS_1",t[t.COLOR_FLOATS_255=3]="COLOR_FLOATS_255",t[t.NORMAL_FLOATS=4]="NORMAL_FLOATS",t[t.FILLER=5]="FILLER",t[t.INTENSITY=6]="INTENSITY",t[t.CLASSIFICATION=7]="CLASSIFICATION",t[t.NORMAL_SPHEREMAPPED=8]="NORMAL_SPHEREMAPPED",t[t.NORMAL_OCT16=9]="NORMAL_OCT16",t[t.NORMAL=10]="NORMAL",t))(lG||{});const sn={DATA_TYPE_DOUBLE:{ordinal:0,size:8},DATA_TYPE_FLOAT:{ordinal:1,size:4},DATA_TYPE_INT8:{ordinal:2,size:1},DATA_TYPE_UINT8:{ordinal:3,size:1},DATA_TYPE_INT16:{ordinal:4,size:2},DATA_TYPE_UINT16:{ordinal:5,size:2},DATA_TYPE_INT32:{ordinal:6,size:4},DATA_TYPE_UINT32:{ordinal:7,size:4},DATA_TYPE_INT64:{ordinal:8,size:8},DATA_TYPE_UINT64:{ordinal:9,size:8}};function Rn(t,i,e){return{name:t,type:i,numElements:e,byteSize:e*i.size}}const rG=Rn(1,sn.DATA_TYPE_INT8,4),aG={POSITION_CARTESIAN:Rn(0,sn.DATA_TYPE_FLOAT,3),RGBA_PACKED:rG,COLOR_PACKED:rG,RGB_PACKED:Rn(1,sn.DATA_TYPE_INT8,3),NORMAL_FLOATS:Rn(4,sn.DATA_TYPE_FLOAT,3),FILLER_1B:Rn(5,sn.DATA_TYPE_UINT8,1),INTENSITY:Rn(6,sn.DATA_TYPE_UINT16,1),CLASSIFICATION:Rn(7,sn.DATA_TYPE_UINT8,1),NORMAL_SPHEREMAPPED:Rn(8,sn.DATA_TYPE_UINT8,2),NORMAL_OCT16:Rn(9,sn.DATA_TYPE_UINT8,2),NORMAL:Rn(10,sn.DATA_TYPE_FLOAT,3)};class ip{constructor(i=[]){this.attributes=[],this.byteSize=0,this.size=0;for(let e=0;e<i.length;e++){const s=i[e],n=aG[s];this.attributes.push(n),this.byteSize+=n.byteSize,this.size++}}add(i){this.attributes.push(i),this.byteSize+=i.byteSize,this.size++}hasColors(){return this.attributes.find(Vw)!==void 0}hasNormals(){return this.attributes.find(xw)!==void 0}}function Vw({name:t}){return t===1}function xw({name:t}){return t===8||t===4||t===10||t===9}const oG=5,np=class extends Kn{constructor(t,i,e,s){super();this.id=np.idCount++,this.level=0,this.spacing=0,this.hasChildren=!1,this.children=[null,null,null,null,null,null,null,null],this.mean=new z,this.numPoints=0,this.geometry=new Re,this.loaded=!1,this.loading=!1,this.failed=!1,this.parent=null,this.oneTimeDisposeHandlers=[],this.isLeafNode=!0,this.isTreeNode=!1,this.isGeometryNode=!0,this.name=t,this.index=tp(t),this.pcoGeometry=i,this.boundingBox=e,this.tightBoundingBox=e.clone(),this.boundingSphere=e.getBoundingSphere(new _i),this.xhrInit=s||{}}dispose(){!this.geometry||!this.parent||(this.geometry.dispose(),this.geometry=new Re,this.loaded=!1,this.oneTimeDisposeHandlers.forEach(t=>t()),this.oneTimeDisposeHandlers=[])}getUrl(){const t=this.pcoGeometry,i=t.loader.version,e=[t.octreeDir];return t.loader&&i.equalOrHigher("1.5")?(e.push(this.getHierarchyBaseUrl()),e.push(this.name)):i.equalOrHigher("1.4")?e.push(this.name):i.upTo("1.3")&&e.push(this.name),e.join("/")}getHierarchyUrl(){return`${this.pcoGeometry.octreeDir}/${this.getHierarchyBaseUrl()}/${this.name}.hrc`}addChild(t){this.children[t.index]=t,this.isLeafNode=!1,t.parent=this}traverse(t,i=!0){const e=i?[this]:[];let s;for(;(s=e.pop())!==void 0;){t(s);for(const n of s.children)n!==null&&e.push(n)}}load(){if(!this.canLoad())return Promise.resolve();this.loading=!0,this.pcoGeometry.numNodesLoading++,this.pcoGeometry.needsUpdate=!0;let t;return this.pcoGeometry.loader.version.equalOrHigher("1.5")&&this.level%this.pcoGeometry.hierarchyStepSize===0&&this.hasChildren?t=this.loadHierachyThenPoints():t=this.loadPoints(),t.catch(i=>{throw this.loading=!1,this.failed=!0,this.pcoGeometry.numNodesLoading--,i})}canLoad(){return!this.loading&&!this.loaded&&!this.pcoGeometry.disposed&&!this.pcoGeometry.loader.disposed&&this.pcoGeometry.numNodesLoading<this.pcoGeometry.maxNumNodesLoading}loadPoints(){return this.pcoGeometry.needsUpdate=!0,this.pcoGeometry.loader.load(this)}loadHierachyThenPoints(){return this.level%this.pcoGeometry.hierarchyStepSize!==0?Promise.resolve():Promise.resolve(this.pcoGeometry.loader.getUrl(this.getHierarchyUrl())).then(t=>this.pcoGeometry.xhrRequest(t,this.xhrInit)).then(t=>t.arrayBuffer()).then(t=>this.loadHierarchy(this,t))}getHierarchyBaseUrl(){const t=this.pcoGeometry.hierarchyStepSize,i=this.name.substr(1),e=Math.floor(i.length/t);let s="r/";for(let n=0;n<e;n++)s+=`${i.substr(n*t,t)}/`;return s.slice(0,-1)}loadHierarchy(t,i){const e=new DataView(i),s=this.getNodeData(t.name,0,e);t.numPoints=s.numPoints;const n=[s],l=[];let r=oG;for(;n.length>0;){const o=n.shift();let c=1;for(let h=0;h<8&&r+1<i.byteLength;h++){if((o.children&c)!==0){const d=this.getNodeData(o.name+h,r,e);l.push(d),n.push(d),r+=oG}c=c*2}}t.pcoGeometry.needsUpdate=!0;const a=new Map;a.set(t.name,t),l.forEach(o=>this.addNode(o,t.pcoGeometry,a)),t.loadPoints()}getNodeData(t,i,e){const s=e.getUint8(i),n=e.getUint32(i+1,!0);return{children:s,numPoints:n,name:t}}addNode({name:t,numPoints:i,children:e},s,n){const l=tp(t),r=t.substring(0,t.length-1),a=n.get(r),o=t.length-1,c=By(a.boundingBox,l),h=new np(t,s,c,this.xhrInit);h.level=o,h.numPoints=i,h.hasChildren=e>0,h.spacing=s.spacing/Math.pow(2,o),a.addChild(h),n.set(t,h)}};let fh=np;fh.idCount=0;class cG{constructor(i,e,s,n,l,r){this.loader=i,this.boundingBox=e,this.tightBoundingBox=s,this.offset=n,this.xhrRequest=l,this.xhrInit=r,this.disposed=!1,this.needsUpdate=!0,this.octreeDir="",this.hierarchyStepSize=-1,this.nodes={},this.numNodesLoading=0,this.maxNumNodesLoading=3,this.spacing=0,this.pointAttributes=new ip([]),this.projection=null,this.url=null}dispose(){this.loader.dispose(),this.root.traverse(i=>i.dispose()),this.disposed=!0}addNodeLoadedCallback(i){this.loader.callbacks.push(i)}clearNodeLoadedCallbacks(){this.loader.callbacks=[]}}class hG extends Kn{constructor(i,e){super();this.pcIndex=void 0,this.boundingBoxNode=null,this.loaded=!0,this.isTreeNode=!0,this.isGeometryNode=!1,this.geometryNode=i,this.sceneNode=e,this.children=i.children.slice()}dispose(){this.geometryNode.dispose()}disposeSceneNode(){const i=this.sceneNode;if(i.geometry instanceof Re){const e=i.geometry.attributes;for(const s in e)s==="position"&&delete e[s].array,delete e[s];i.geometry.dispose(),i.geometry=void 0}}traverse(i,e){this.geometryNode.traverse(i,e)}get id(){return this.geometryNode.id}get name(){return this.geometryNode.name}get level(){return this.geometryNode.level}get isLeafNode(){return this.geometryNode.isLeafNode}get numPoints(){return this.geometryNode.numPoints}get index(){return this.geometryNode.index}get boundingSphere(){return this.geometryNode.boundingSphere}get boundingBox(){return this.geometryNode.boundingBox}get spacing(){return this.geometryNode.spacing}}function dG(t,i,e){return Math.min(Math.max(i,t),e)}const Bs=class{dispose(){this.pickState&&(this.pickState.material.dispose(),this.pickState.renderTarget.dispose())}pick(t,i,e,s,n={}){if(s.length===0)return null;const l=this.pickState?this.pickState:this.pickState=Bs.getPickState(),r=l.material,a=t.getPixelRatio(),o=Math.ceil(t.domElement.clientWidth*a),c=Math.ceil(t.domElement.clientHeight*a);Bs.updatePickRenderTarget(this.pickState,o,c);const h=Bs.helperVec3;n.pixelPosition?h.copy(n.pixelPosition):(h.addVectors(i.position,e.direction).project(i),h.x=(h.x+1)*o*.5,h.y=(h.y+1)*c*.5);const d=Math.floor((n.pickWindowSize||aw)*a),u=(d-1)/2,p=Math.floor(dG(h.x-u,0,o)),Z=Math.floor(dG(h.y-u,0,c));Bs.prepareRender(t,p,Z,d,r,l);const X=Bs.render(t,i,r,s,e,l,n);r.clearVisibleNodeTextureOffsets();const R=Bs.readPixels(t,p,Z,d),W=Bs.findHit(R,d);return Bs.getPickPoint(W,X)}static prepareRender(t,i,e,s,n,l){t.setScissor(i,e,s,s),t.setScissorTest(!0),t.state.buffers.depth.setTest(n.depthTest),t.state.buffers.depth.setMask(n.depthWrite),t.state.setBlending(un),t.setRenderTarget(l.renderTarget),t.getClearColor(this.clearColor);const r=t.getClearAlpha();t.setClearColor(hw,0),t.clear(!0,!0,!0),t.setClearColor(this.clearColor,r)}static render(t,i,e,s,n,l,r){const a=[];for(const o of s){const c=Bs.nodesOnRay(o,n);!c.length||(Bs.updatePickMaterial(e,o.material,r),e.updateMaterial(o,c,i,t),r.onBeforePickRender&&r.onBeforePickRender(e,l.renderTarget),l.scene.children=Bs.createTempNodes(o,c,e,a.length),t.render(l.scene,i),c.forEach(h=>a.push({node:h,octree:o})))}return a}static nodesOnRay(t,i){const e=[],s=i.clone();for(const n of t.visibleNodes){const l=Bs.helperSphere.copy(n.boundingSphere).applyMatrix4(t.matrixWorld);s.intersectsSphere(l)&&e.push(n)}return e}static readPixels(t,i,e,s){const n=new Uint8Array(4*s*s);return t.readRenderTargetPixels(t.getRenderTarget(),i,e,s,s,n),t.setScissorTest(!1),t.setRenderTarget(null),n}static createTempNodes(t,i,e,s){const n=[];for(let l=0;l<i.length;l++){const r=i[l],a=r.sceneNode,o=new fu(a.geometry,e);o.matrix=a.matrix,o.matrixWorld=a.matrixWorld,o.matrixAutoUpdate=!1,o.frustumCulled=!1;const c=s+l+1;c>255&&console.error("More than 255 nodes for pick are not supported."),o.onBeforeRender=ue.makeOnBeforeRender(t,r,c),n.push(o)}return n}static updatePickMaterial(t,i,e){t.pointSizeType=i.pointSizeType,t.shape=i.shape,t.size=i.size,t.minSize=i.minSize,t.maxSize=i.maxSize,t.classification=i.classification,t.useFilterByNormal=i.useFilterByNormal,t.filterByNormalThreshold=i.filterByNormalThreshold,e.pickOutsideClipRegion?t.clipMode=An.DISABLED:(t.clipMode=i.clipMode,t.setClipBoxes(i.clipMode===An.CLIP_OUTSIDE?i.clipBoxes:[]))}static updatePickRenderTarget(t,i,e){t.renderTarget.width===i&&t.renderTarget.height===e||(t.renderTarget.dispose(),t.renderTarget=Bs.makePickRenderTarget(),t.renderTarget.setSize(i,e))}static makePickRenderTarget(){return new _s(1,1,{minFilter:Es,magFilter:ds,format:li})}static findHit(t,i){const e=new Uint32Array(t.buffer);let s=Number.MAX_VALUE,n=null;for(let l=0;l<i;l++)for(let r=0;r<i;r++){const a=l+r*i,o=Math.pow(l-(i-1)/2,2)+Math.pow(r-(i-1)/2,2),c=t[4*a+3];t[4*a+3]=0;const h=e[a];c>0&&o<s&&(n={pIndex:h,pcIndex:c-1},s=o)}return n}static getPickPoint(t,i){if(!t)return null;const e={},s=i[t.pcIndex]&&i[t.pcIndex].node.sceneNode;if(!s)return null;e.pointCloud=i[t.pcIndex].octree;const n=s.geometry.attributes;for(const l in n){if(!n.hasOwnProperty(l))continue;const r=n[l];if(l==="position")Bs.addPositionToPickPoint(e,t,r,s);else if(l==="normal")Bs.addNormalToPickPoint(e,t,r,s);else if(l!=="indices")if(r.itemSize===1)e[l]=r.array[t.pIndex];else{const a=[];for(let o=0;o<r.itemSize;o++)a.push(r.array[r.itemSize*t.pIndex+o]);e[l]=a}}return e}static addPositionToPickPoint(t,i,e,s){t.position=new z().fromBufferAttribute(e,i.pIndex).applyMatrix4(s.matrixWorld)}static addNormalToPickPoint(t,i,e,s){const n=new z().fromBufferAttribute(e,i.pIndex),l=new Ut(n.x,n.y,n.z,0).applyMatrix4(s.matrixWorld);n.set(l.x,l.y,l.z),t.normal=n}static getPickState(){const t=new Jn;t.autoUpdate=!1;const i=new ue;return i.pointColorType=Gs.POINT_INDEX,{renderTarget:Bs.makePickRenderTarget(),material:i,scene:t}}};let fo=Bs;fo.helperVec3=new z,fo.helperSphere=new _i,fo.clearColor=new it;class uG extends we{constructor(){super(...arguments);this.root=null,this.geometry=new Re}initialized(){return this.root!==null}}class pG extends uG{constructor(i,e,s){super();this.disposed=!1,this.level=0,this.maxLevel=1/0,this.minNodePixelSize=lw,this.root=null,this.boundingBoxNodes=[],this.visibleNodes=[],this.visibleGeometry=[],this.numVisiblePoints=0,this.showBoundingBox=!1,this.visibleBounds=new is,this.name="",this.potree=i,this.root=e.root,this.pcoGeometry=e,this.boundingBox=e.boundingBox,this.boundingSphere=this.boundingBox.getBoundingSphere(new _i),this.position.copy(e.offset),this.updateMatrix(),this.material=s||new ue,this.initMaterial(this.material)}initMaterial(i){this.updateMatrixWorld(!0);const{min:e,max:s}=Sh(this.pcoGeometry.tightBoundingBox||this.getBoundingBoxWorld(),this.matrixWorld),n=s.z-e.z;i.heightMin=e.z-.2*n,i.heightMax=s.z+.2*n}dispose(){this.root&&this.root.dispose(),this.pcoGeometry.root.traverse(i=>this.potree.lru.remove(i)),this.pcoGeometry.dispose(),this.material.dispose(),this.visibleNodes=[],this.visibleGeometry=[],this.picker&&(this.picker.dispose(),this.picker=void 0),this.disposed=!0}get pointSizeType(){return this.material.pointSizeType}set pointSizeType(i){this.material.pointSizeType=i}toTreeNode(i,e){const s=new fu(i.geometry,this.material),n=new hG(i,s);return s.name=i.name,s.position.copy(i.boundingBox.min),s.frustumCulled=!1,s.onBeforeRender=ue.makeOnBeforeRender(this,n),e?(e.sceneNode.add(s),e.children[i.index]=n,i.oneTimeDisposeHandlers.push(()=>{n.disposeSceneNode(),e.sceneNode.remove(n.sceneNode),e.children[i.index]=i})):(this.root=n,this.add(s)),n}updateVisibleBounds(){const i=this.visibleBounds;i.min.set(1/0,1/0,1/0),i.max.set(-1/0,-1/0,-1/0);for(const e of this.visibleNodes)e.isLeafNode&&(i.expandByPoint(e.boundingBox.min),i.expandByPoint(e.boundingBox.max))}updateBoundingBoxes(){if(!this.showBoundingBox||!this.parent)return;let i=this.parent.getObjectByName("bbroot");i||(i=new we,i.name="bbroot",this.parent.add(i));const e=[];for(const s of this.visibleNodes)s.boundingBoxNode!==void 0&&s.isLeafNode&&e.push(s.boundingBoxNode);i.children=e}updateMatrixWorld(i){this.matrixAutoUpdate===!0&&this.updateMatrix(),(this.matrixWorldNeedsUpdate===!0||i===!0)&&(this.parent?this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix):this.matrixWorld.copy(this.matrix),this.matrixWorldNeedsUpdate=!1,i=!0)}hideDescendants(i){const e=[];for(s(i);e.length>0;){const n=e.shift();n.visible=!1,s(n)}function s(n){for(const l of n.children)l.visible&&e.push(l)}}moveToOrigin(){this.position.set(0,0,0),this.position.set(0,0,0).sub(this.getBoundingBoxWorld().getCenter(new z))}moveToGroundPlane(){this.position.y+=-this.getBoundingBoxWorld().min.y}getBoundingBoxWorld(){return this.updateMatrixWorld(!0),Sh(this.boundingBox,this.matrixWorld)}getVisibleExtent(){return this.visibleBounds.applyMatrix4(this.matrixWorld)}pick(i,e,s,n={}){return this.picker=this.picker||new fo,this.picker.pick(i,e,s,[this],n)}get progress(){return this.visibleGeometry.length===0?0:this.visibleNodes.length/this.visibleGeometry.length}}const mG=document.createElement("canvas"),Us=mG.getContext("webgl")||mG.getContext("experimental-webgl"),Nw={SHADER_INTERPOLATION:Vh("EXT_frag_depth")&&lp(8),SHADER_SPLATS:Vh("EXT_frag_depth")&&Vh("OES_texture_float")&&lp(8),SHADER_EDL:Vh("OES_texture_float")&&lp(8),precision:Fw()};function Vh(t){return Us!==null&&Boolean(Us.getExtension(t))}function lp(t){return Us!==null&&Us.getParameter(Us.MAX_VARYING_VECTORS)>=t}function Fw(){if(Us===null)return"";const t=Us.getShaderPrecisionFormat(Us.VERTEX_SHADER,Us.HIGH_FLOAT),i=Us.getShaderPrecisionFormat(Us.VERTEX_SHADER,Us.MEDIUM_FLOAT),e=Us.getShaderPrecisionFormat(Us.FRAGMENT_SHADER,Us.HIGH_FLOAT),s=Us.getShaderPrecisionFormat(Us.FRAGMENT_SHADER,Us.MEDIUM_FLOAT),n=t&&e&&t.precision>0&&e.precision>0,l=i&&s&&i.precision>0&&s.precision>0;return n?"highp":l?"mediump":"lowp"}class aa{constructor(i){this.versionMinor=0,this.version=i;const e=i.indexOf(".")===-1?i.length:i.indexOf(".");this.versionMajor=parseInt(i.substr(0,e),10),this.versionMinor=parseInt(i.substr(e+1),10),isNaN(this.versionMinor)&&(this.versionMinor=0)}newerThan(i){const e=new aa(i);return this.versionMajor>e.versionMajor?!0:this.versionMajor===e.versionMajor&&this.versionMinor>e.versionMinor}equalOrHigher(i){const e=new aa(i);return this.versionMajor>e.versionMajor?!0:this.versionMajor===e.versionMajor&&this.versionMinor>=e.versionMinor}upTo(i){return!this.newerThan(i)}}var bG=null;try{var Mw=typeof module<"u"&&typeof module.require=="function"&&module.require("worker_threads")||typeof __non_webpack_require__=="function"&&__non_webpack_require__("worker_threads")||typeof require=="function"&&require("worker_threads");bG=Mw.Worker}catch{}function Yw(t,i){return Buffer.from(t,"base64").toString(i?"utf16":"utf8")}function vw(t,i,e){var s=i===void 0?null:i,n=e===void 0?!1:e,l=Yw(t,n),r=l.indexOf(`
`,10)+1,a=l.substring(r)+(s?"//# sourceMappingURL="+s:"");return function(c){return new bG(a,Object.assign({},c,{eval:!0}))}}function Ew(t,i){var e=atob(t);if(i){for(var s=new Uint8Array(e.length),n=0,l=e.length;n<l;++n)s[n]=e.charCodeAt(n);return String.fromCharCode.apply(null,new Uint16Array(s.buffer))}return e}function zw(t,i,e){var s=i===void 0?null:i,n=e===void 0?!1:e,l=Ew(t,n),r=l.indexOf(`
`,10)+1,a=l.substring(r)+(s?"//# sourceMappingURL="+s:""),o=new Blob([a],{type:"application/javascript"});return URL.createObjectURL(o)}function Hw(t,i,e){var s;return function(l){return s=s||zw(t,i,e),new Worker(s,l)}}var Kw=Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]";function ww(){return Kw}function Vo(t,i,e){return ww()?vw(t,i,e):Hw(t,i,e)}Vo("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwp2YXIgd29ya2VyX2NvZGU9ZnVuY3Rpb24oUCl7InVzZSBzdHJpY3QiO3ZhciBUPShuPT4obltuLlBPU0lUSU9OX0NBUlRFU0lBTj0wXT0iUE9TSVRJT05fQ0FSVEVTSUFOIixuW24uQ09MT1JfUEFDS0VEPTFdPSJDT0xPUl9QQUNLRUQiLG5bbi5DT0xPUl9GTE9BVFNfMT0yXT0iQ09MT1JfRkxPQVRTXzEiLG5bbi5DT0xPUl9GTE9BVFNfMjU1PTNdPSJDT0xPUl9GTE9BVFNfMjU1IixuW24uTk9STUFMX0ZMT0FUUz00XT0iTk9STUFMX0ZMT0FUUyIsbltuLkZJTExFUj01XT0iRklMTEVSIixuW24uSU5URU5TSVRZPTZdPSJJTlRFTlNJVFkiLG5bbi5DTEFTU0lGSUNBVElPTj03XT0iQ0xBU1NJRklDQVRJT04iLG5bbi5OT1JNQUxfU1BIRVJFTUFQUEVEPThdPSJOT1JNQUxfU1BIRVJFTUFQUEVEIixuW24uTk9STUFMX09DVDE2PTldPSJOT1JNQUxfT0NUMTYiLG5bbi5OT1JNQUw9MTBdPSJOT1JNQUwiLG4pKShUfHx7fSk7Y29uc3QgTz17REFUQV9UWVBFX0RPVUJMRTp7b3JkaW5hbDowLHNpemU6OH0sREFUQV9UWVBFX0ZMT0FUOntvcmRpbmFsOjEsc2l6ZTo0fSxEQVRBX1RZUEVfSU5UODp7b3JkaW5hbDoyLHNpemU6MX0sREFUQV9UWVBFX1VJTlQ4OntvcmRpbmFsOjMsc2l6ZToxfSxEQVRBX1RZUEVfSU5UMTY6e29yZGluYWw6NCxzaXplOjJ9LERBVEFfVFlQRV9VSU5UMTY6e29yZGluYWw6NSxzaXplOjJ9LERBVEFfVFlQRV9JTlQzMjp7b3JkaW5hbDo2LHNpemU6NH0sREFUQV9UWVBFX1VJTlQzMjp7b3JkaW5hbDo3LHNpemU6NH0sREFUQV9UWVBFX0lOVDY0OntvcmRpbmFsOjgsc2l6ZTo4fSxEQVRBX1RZUEVfVUlOVDY0OntvcmRpbmFsOjksc2l6ZTo4fX07ZnVuY3Rpb24gSShuLHQsZSl7cmV0dXJue25hbWU6bix0eXBlOnQsbnVtRWxlbWVudHM6ZSxieXRlU2l6ZTplKnQuc2l6ZX19Y29uc3QgaD1JKDEsTy5EQVRBX1RZUEVfSU5UOCw0KSxTPXtQT1NJVElPTl9DQVJURVNJQU46SSgwLE8uREFUQV9UWVBFX0ZMT0FULDMpLFJHQkFfUEFDS0VEOmgsQ09MT1JfUEFDS0VEOmgsUkdCX1BBQ0tFRDpJKDEsTy5EQVRBX1RZUEVfSU5UOCwzKSxOT1JNQUxfRkxPQVRTOkkoNCxPLkRBVEFfVFlQRV9GTE9BVCwzKSxGSUxMRVJfMUI6SSg1LE8uREFUQV9UWVBFX1VJTlQ4LDEpLElOVEVOU0lUWTpJKDYsTy5EQVRBX1RZUEVfVUlOVDE2LDEpLENMQVNTSUZJQ0FUSU9OOkkoNyxPLkRBVEFfVFlQRV9VSU5UOCwxKSxOT1JNQUxfU1BIRVJFTUFQUEVEOkkoOCxPLkRBVEFfVFlQRV9VSU5UOCwyKSxOT1JNQUxfT0NUMTY6SSg5LE8uREFUQV9UWVBFX1VJTlQ4LDIpLE5PUk1BTDpJKDEwLE8uREFUQV9UWVBFX0ZMT0FULDMpfTtjbGFzcyBfe2NvbnN0cnVjdG9yKHQpe3RoaXMudmVyc2lvbk1pbm9yPTAsdGhpcy52ZXJzaW9uPXQ7Y29uc3QgZT10LmluZGV4T2YoIi4iKT09PS0xP3QubGVuZ3RoOnQuaW5kZXhPZigiLiIpO3RoaXMudmVyc2lvbk1ham9yPXBhcnNlSW50KHQuc3Vic3RyKDAsZSksMTApLHRoaXMudmVyc2lvbk1pbm9yPXBhcnNlSW50KHQuc3Vic3RyKGUrMSksMTApLGlzTmFOKHRoaXMudmVyc2lvbk1pbm9yKSYmKHRoaXMudmVyc2lvbk1pbm9yPTApfW5ld2VyVGhhbih0KXtjb25zdCBlPW5ldyBfKHQpO3JldHVybiB0aGlzLnZlcnNpb25NYWpvcj5lLnZlcnNpb25NYWpvcj8hMDp0aGlzLnZlcnNpb25NYWpvcj09PWUudmVyc2lvbk1ham9yJiZ0aGlzLnZlcnNpb25NaW5vcj5lLnZlcnNpb25NaW5vcn1lcXVhbE9ySGlnaGVyKHQpe2NvbnN0IGU9bmV3IF8odCk7cmV0dXJuIHRoaXMudmVyc2lvbk1ham9yPmUudmVyc2lvbk1ham9yPyEwOnRoaXMudmVyc2lvbk1ham9yPT09ZS52ZXJzaW9uTWFqb3ImJnRoaXMudmVyc2lvbk1pbm9yPj1lLnZlcnNpb25NaW5vcn11cFRvKHQpe3JldHVybiF0aGlzLm5ld2VyVGhhbih0KX19Y2xhc3MgRXtjb25zdHJ1Y3Rvcih0KXt0aGlzLnRtcD1uZXcgQXJyYXlCdWZmZXIoNCksdGhpcy50bXBmPW5ldyBGbG9hdDMyQXJyYXkodGhpcy50bXApLHRoaXMudG1wdTg9bmV3IFVpbnQ4QXJyYXkodGhpcy50bXApLHRoaXMudTg9bmV3IFVpbnQ4QXJyYXkodCl9Z2V0VWludDMyKHQpe3JldHVybiB0aGlzLnU4W3QrM108PDI0fHRoaXMudThbdCsyXTw8MTZ8dGhpcy51OFt0KzFdPDw4fHRoaXMudThbdF19Z2V0VWludDE2KHQpe3JldHVybiB0aGlzLnU4W3QrMV08PDh8dGhpcy51OFt0XX1nZXRGbG9hdDMyKHQpe2NvbnN0IGU9dGhpcy50bXB1OCxpPXRoaXMudTgscj10aGlzLnRtcGY7cmV0dXJuIGVbMF09aVt0KzBdLGVbMV09aVt0KzFdLGVbMl09aVt0KzJdLGVbM109aVt0KzNdLHJbMF19Z2V0VWludDgodCl7cmV0dXJuIHRoaXMudThbdF19fWNvbnN0IE49TWF0aC5zaWdufHxmdW5jdGlvbihuKXtyZXR1cm4obj0rbik9PTB8fG4hPW4/bjpuPDA/LTE6MX07ZnVuY3Rpb24gbChuKXtjb25zdCB0PW4uZGF0YS5idWZmZXIsZT1uLmRhdGEucG9pbnRBdHRyaWJ1dGVzLGk9e2F0dHJpYnV0ZUJ1ZmZlcnM6e30sY3VycmVudE9mZnNldDowLGRhdGE6bmV3IEUodCksbWVhbjpbMCwwLDBdLG5vZGVPZmZzZXQ6bi5kYXRhLm9mZnNldCxudW1Qb2ludHM6bi5kYXRhLmJ1ZmZlci5ieXRlTGVuZ3RoL2UuYnl0ZVNpemUscG9pbnRBdHRyaWJ1dGVzOmUsc2NhbGU6bi5kYXRhLnNjYWxlLHRpZ2h0Qm94TWF4OltOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLE51bWJlci5ORUdBVElWRV9JTkZJTklUWV0sdGlnaHRCb3hNaW46W051bWJlci5QT1NJVElWRV9JTkZJTklUWSxOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZXSx0cmFuc2ZlcmFibGVzOltdLHZlcnNpb246bmV3IF8obi5kYXRhLnZlcnNpb24pfTtmb3IoY29uc3QgcyBvZiBpLnBvaW50QXR0cmlidXRlcy5hdHRyaWJ1dGVzKWQocyxpKSxpLmN1cnJlbnRPZmZzZXQrPXMuYnl0ZVNpemU7Y29uc3Qgcj1uZXcgQXJyYXlCdWZmZXIoaS5udW1Qb2ludHMqNCksbz1uZXcgVWludDMyQXJyYXkocik7Zm9yKGxldCBzPTA7czxpLm51bVBvaW50cztzKyspb1tzXT1zO2kuYXR0cmlidXRlQnVmZmVyc1tULkNMQVNTSUZJQ0FUSU9OXXx8bShpKTtjb25zdCB1PXtidWZmZXI6dCxtZWFuOmkubWVhbixhdHRyaWJ1dGVCdWZmZXJzOmkuYXR0cmlidXRlQnVmZmVycyx0aWdodEJvdW5kaW5nQm94OnttaW46aS50aWdodEJveE1pbixtYXg6aS50aWdodEJveE1heH0saW5kaWNlczpyfTtwb3N0TWVzc2FnZSh1LGkudHJhbnNmZXJhYmxlcyl9ZnVuY3Rpb24gbShuKXtjb25zdCB0PW5ldyBBcnJheUJ1ZmZlcihuLm51bVBvaW50cyo0KSxlPW5ldyBGbG9hdDMyQXJyYXkodCk7Zm9yKGxldCBpPTA7aTxuLm51bVBvaW50cztpKyspZVtpXT0wO24uYXR0cmlidXRlQnVmZmVyc1tULkNMQVNTSUZJQ0FUSU9OXT17YnVmZmVyOnQsYXR0cmlidXRlOlMuQ0xBU1NJRklDQVRJT059fWZ1bmN0aW9uIGQobix0KXtjb25zdCBlPUwobix0KTtlIT09dm9pZCAwJiYodC5hdHRyaWJ1dGVCdWZmZXJzW2UuYXR0cmlidXRlLm5hbWVdPWUsdC50cmFuc2ZlcmFibGVzLnB1c2goZS5idWZmZXIpKX1mdW5jdGlvbiBMKG4sdCl7c3dpdGNoKG4ubmFtZSl7Y2FzZSBULlBPU0lUSU9OX0NBUlRFU0lBTjpyZXR1cm4gZyhuLHQpO2Nhc2UgVC5DT0xPUl9QQUNLRUQ6cmV0dXJuIHkobix0KTtjYXNlIFQuSU5URU5TSVRZOnJldHVybiBGKG4sdCk7Y2FzZSBULkNMQVNTSUZJQ0FUSU9OOnJldHVybiBCKG4sdCk7Y2FzZSBULk5PUk1BTF9TUEhFUkVNQVBQRUQ6cmV0dXJuIEMobix0KTtjYXNlIFQuTk9STUFMX09DVDE2OnJldHVybiBSKG4sdCk7Y2FzZSBULk5PUk1BTDpyZXR1cm4gcChuLHQpO2RlZmF1bHQ6cmV0dXJufX1mdW5jdGlvbiBnKG4sdCl7Y29uc3QgZT1uZXcgQXJyYXlCdWZmZXIodC5udW1Qb2ludHMqNCozKSxpPW5ldyBGbG9hdDMyQXJyYXkoZSk7Zm9yKGxldCByPTA7cjx0Lm51bVBvaW50cztyKyspe2xldCBvLHUsczt0LnZlcnNpb24ubmV3ZXJUaGFuKCIxLjMiKT8obz10LmRhdGEuZ2V0VWludDMyKHQuY3VycmVudE9mZnNldCtyKnQucG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplKzApKnQuc2NhbGUsdT10LmRhdGEuZ2V0VWludDMyKHQuY3VycmVudE9mZnNldCtyKnQucG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplKzQpKnQuc2NhbGUscz10LmRhdGEuZ2V0VWludDMyKHQuY3VycmVudE9mZnNldCtyKnQucG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplKzgpKnQuc2NhbGUpOihvPXQuZGF0YS5nZXRGbG9hdDMyKHIqdC5wb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUrMCkrdC5ub2RlT2Zmc2V0WzBdLHU9dC5kYXRhLmdldEZsb2F0MzIocip0LnBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSs0KSt0Lm5vZGVPZmZzZXRbMV0scz10LmRhdGEuZ2V0RmxvYXQzMihyKnQucG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplKzgpK3Qubm9kZU9mZnNldFsyXSksaVszKnIrMF09byxpWzMqcisxXT11LGlbMypyKzJdPXMsdC5tZWFuWzBdKz1vL3QubnVtUG9pbnRzLHQubWVhblsxXSs9dS90Lm51bVBvaW50cyx0Lm1lYW5bMl0rPXMvdC5udW1Qb2ludHMsdC50aWdodEJveE1pblswXT1NYXRoLm1pbih0LnRpZ2h0Qm94TWluWzBdLG8pLHQudGlnaHRCb3hNaW5bMV09TWF0aC5taW4odC50aWdodEJveE1pblsxXSx1KSx0LnRpZ2h0Qm94TWluWzJdPU1hdGgubWluKHQudGlnaHRCb3hNaW5bMl0scyksdC50aWdodEJveE1heFswXT1NYXRoLm1heCh0LnRpZ2h0Qm94TWF4WzBdLG8pLHQudGlnaHRCb3hNYXhbMV09TWF0aC5tYXgodC50aWdodEJveE1heFsxXSx1KSx0LnRpZ2h0Qm94TWF4WzJdPU1hdGgubWF4KHQudGlnaHRCb3hNYXhbMl0scyl9cmV0dXJue2J1ZmZlcjplLGF0dHJpYnV0ZTpufX1mdW5jdGlvbiB5KG4sdCl7Y29uc3QgZT1uZXcgQXJyYXlCdWZmZXIodC5udW1Qb2ludHMqMyksaT1uZXcgVWludDhBcnJheShlKTtmb3IobGV0IHI9MDtyPHQubnVtUG9pbnRzO3IrKylpWzMqciswXT10LmRhdGEuZ2V0VWludDgodC5jdXJyZW50T2Zmc2V0K3IqdC5wb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUrMCksaVszKnIrMV09dC5kYXRhLmdldFVpbnQ4KHQuY3VycmVudE9mZnNldCtyKnQucG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplKzEpLGlbMypyKzJdPXQuZGF0YS5nZXRVaW50OCh0LmN1cnJlbnRPZmZzZXQrcip0LnBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSsyKTtyZXR1cm57YnVmZmVyOmUsYXR0cmlidXRlOm59fWZ1bmN0aW9uIEYobix0KXtjb25zdCBlPW5ldyBBcnJheUJ1ZmZlcih0Lm51bVBvaW50cyo0KSxpPW5ldyBGbG9hdDMyQXJyYXkoZSk7Zm9yKGxldCByPTA7cjx0Lm51bVBvaW50cztyKyspaVtyXT10LmRhdGEuZ2V0VWludDE2KHQuY3VycmVudE9mZnNldCtyKnQucG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplKTtyZXR1cm57YnVmZmVyOmUsYXR0cmlidXRlOm59fWZ1bmN0aW9uIEIobix0KXtjb25zdCBlPW5ldyBBcnJheUJ1ZmZlcih0Lm51bVBvaW50cyksaT1uZXcgVWludDhBcnJheShlKTtmb3IobGV0IHI9MDtyPHQubnVtUG9pbnRzO3IrKylpW3JdPXQuZGF0YS5nZXRVaW50OCh0LmN1cnJlbnRPZmZzZXQrcip0LnBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSk7cmV0dXJue2J1ZmZlcjplLGF0dHJpYnV0ZTpufX1mdW5jdGlvbiBDKG4sdCl7Y29uc3QgZT1uZXcgQXJyYXlCdWZmZXIodC5udW1Qb2ludHMqNCozKSxpPW5ldyBGbG9hdDMyQXJyYXkoZSk7Zm9yKGxldCByPTA7cjx0Lm51bVBvaW50cztyKyspe2NvbnN0IG89dC5kYXRhLmdldFVpbnQ4KHQuY3VycmVudE9mZnNldCtyKnQucG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplKzApLHU9dC5kYXRhLmdldFVpbnQ4KHQuY3VycmVudE9mZnNldCtyKnQucG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplKzEpLHM9by8yNTUsYj11LzI1NTtsZXQgQT1zKjItMSxhPWIqMi0xLGY9MTtjb25zdCBjPS0xLE09QSotQSthKi1hK2YqLWM7Zj1NLEE9QSpNYXRoLnNxcnQoTSksYT1hKk1hdGguc3FydChNKSxBPUEqMixhPWEqMixmPWYqMi0xLGlbMypyKzBdPUEsaVszKnIrMV09YSxpWzMqcisyXT1mfXJldHVybntidWZmZXI6ZSxhdHRyaWJ1dGU6bn19ZnVuY3Rpb24gUihuLHQpe2NvbnN0IGU9bmV3IEFycmF5QnVmZmVyKHQubnVtUG9pbnRzKjQqMyksaT1uZXcgRmxvYXQzMkFycmF5KGUpO2ZvcihsZXQgcj0wO3I8dC5udW1Qb2ludHM7cisrKXtjb25zdCBvPXQuZGF0YS5nZXRVaW50OCh0LmN1cnJlbnRPZmZzZXQrcip0LnBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSswKSx1PXQuZGF0YS5nZXRVaW50OCh0LmN1cnJlbnRPZmZzZXQrcip0LnBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSsxKSxzPW8vMjU1KjItMSxiPXUvMjU1KjItMTtsZXQgQT0xLU1hdGguYWJzKHMpLU1hdGguYWJzKGIpLGE9MCxmPTA7QT49MD8oYT1zLGY9Yik6KGE9LShiL04oYiktMSkvTihzKSxmPS0ocy9OKHMpLTEpL04oYikpO2NvbnN0IGM9TWF0aC5zcXJ0KGEqYStmKmYrQSpBKTthPWEvYyxmPWYvYyxBPUEvYyxpWzMqciswXT1hLGlbMypyKzFdPWYsaVszKnIrMl09QX1yZXR1cm57YnVmZmVyOmUsYXR0cmlidXRlOm59fWZ1bmN0aW9uIHAobix0KXtjb25zdCBlPW5ldyBBcnJheUJ1ZmZlcih0Lm51bVBvaW50cyo0KjMpLGk9bmV3IEZsb2F0MzJBcnJheShlKTtmb3IobGV0IHI9MDtyPHQubnVtUG9pbnRzO3IrKyl7Y29uc3Qgbz10LmRhdGEuZ2V0RmxvYXQzMih0LmN1cnJlbnRPZmZzZXQrcip0LnBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSswKSx1PXQuZGF0YS5nZXRGbG9hdDMyKHQuY3VycmVudE9mZnNldCtyKnQucG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplKzQpLHM9dC5kYXRhLmdldEZsb2F0MzIodC5jdXJyZW50T2Zmc2V0K3IqdC5wb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUrOCk7aVszKnIrMF09byxpWzMqcisxXT11LGlbMypyKzJdPXN9cmV0dXJue2J1ZmZlcjplLGF0dHJpYnV0ZTpufX1yZXR1cm4gUC5oYW5kbGVNZXNzYWdlPWwsT2JqZWN0LmRlZmluZVByb3BlcnR5KFAsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLFB9KHt9KTsKCg==",null,!1);var kw=Vo("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbChpKXtjb25zdCBFPWkuZGF0YS5idWZmZXIsbj1pLmRhdGEubnVtUG9pbnRzLHI9aS5kYXRhLnBvaW50U2l6ZSxGPWkuZGF0YS5wb2ludEZvcm1hdElELGM9aS5kYXRhLnNjYWxlLE49aS5kYXRhLm9mZnNldCxhPW5ldyBEYXRhVmlldyhFKSxlPXttaW46W051bWJlci5QT1NJVElWRV9JTkZJTklUWSxOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZXSxtYXg6W051bWJlci5ORUdBVElWRV9JTkZJTklUWSxOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZXX0sbT1bMCwwLDBdLHc9bmV3IEFycmF5QnVmZmVyKG4qMyo0KSx5PW5ldyBBcnJheUJ1ZmZlcihuKjQpLGc9bmV3IEFycmF5QnVmZmVyKG4qNCksVT1uZXcgQXJyYXlCdWZmZXIobiksZD1uZXcgQXJyYXlCdWZmZXIobiksVD1uZXcgQXJyYXlCdWZmZXIobiksYj1uZXcgQXJyYXlCdWZmZXIobioyKSxBPW5ldyBGbG9hdDMyQXJyYXkodykscz1uZXcgVWludDhBcnJheSh5KSxoPW5ldyBGbG9hdDMyQXJyYXkoZykscD1uZXcgVWludDhBcnJheShVKSxNPW5ldyBVaW50OEFycmF5KGQpLFY9bmV3IFVpbnQ4QXJyYXkoVCksUz1uZXcgVWludDE2QXJyYXkoYik7Zm9yKGxldCB0PTA7dDxuO3QrKyl7Y29uc3QgTz1hLmdldEludDMyKHQqciswLCEwKSxEPWEuZ2V0SW50MzIodCpyKzQsITApLFA9YS5nZXRJbnQzMih0KnIrOCwhMCksST1PKmNbMF0rTlswXS1pLmRhdGEubWluc1swXSxmPUQqY1sxXStOWzFdLWkuZGF0YS5taW5zWzFdLG89UCpjWzJdK05bMl0taS5kYXRhLm1pbnNbMl07QVszKnQrMF09SSxBWzMqdCsxXT1mLEFbMyp0KzJdPW8sbVswXSs9SS9uLG1bMV0rPWYvbixtWzJdKz1vL24sZS5taW5bMF09TWF0aC5taW4oZS5taW5bMF0sSSksZS5taW5bMV09TWF0aC5taW4oZS5taW5bMV0sZiksZS5taW5bMl09TWF0aC5taW4oZS5taW5bMl0sbyksZS5tYXhbMF09TWF0aC5tYXgoZS5tYXhbMF0sSSksZS5tYXhbMV09TWF0aC5tYXgoZS5tYXhbMV0sZiksZS5tYXhbMl09TWF0aC5tYXgoZS5tYXhbMl0sbyk7Y29uc3QgRz1hLmdldFVpbnQxNih0KnIrMTIsITApO2hbdF09Rztjb25zdCBCPWEuZ2V0VWludDgodCpyKzE0KSxSPUImNyx6PShCJjU2KT4+MztNW3RdPVIsVlt0XT16O2NvbnN0IGo9YS5nZXRVaW50OCh0KnIrMTUpO3BbdF09ajtjb25zdCBrPWEuZ2V0VWludDE2KHQqcisxOCwhMCk7aWYoU1t0XT1rLEY9PT0yKXtjb25zdCBxPWEuZ2V0VWludDE2KHQqcisyMCwhMCkvMjU2LEM9YS5nZXRVaW50MTYodCpyKzIyLCEwKS8yNTYsSD1hLmdldFVpbnQxNih0KnIrMjQsITApLzI1NjtzWzQqdCswXT1xLHNbNCp0KzFdPUMsc1s0KnQrMl09SCxzWzQqdCszXT0yNTV9fWNvbnN0IHg9bmV3IEFycmF5QnVmZmVyKG4qNCksWT1uZXcgVWludDMyQXJyYXkoeCk7Zm9yKGxldCB0PTA7dDxuO3QrKylZW3RdPXQ7Y29uc3QgdT17bWVhbjptLHBvc2l0aW9uOncsY29sb3I6eSxpbnRlbnNpdHk6ZyxjbGFzc2lmaWNhdGlvbjpVLHJldHVybk51bWJlcjpkLG51bWJlck9mUmV0dXJuczpULHBvaW50U291cmNlSUQ6Yix0aWdodEJvdW5kaW5nQm94OmUsaW5kaWNlczp4fSxfPVt1LnBvc2l0aW9uLHUuY29sb3IsdS5pbnRlbnNpdHksdS5jbGFzc2lmaWNhdGlvbix1LnJldHVybk51bWJlcix1Lm51bWJlck9mUmV0dXJucyx1LnBvaW50U291cmNlSUQsdS5pbmRpY2VzXTtwb3N0TWVzc2FnZSh1LF8pfW9ubWVzc2FnZT1sfSkoKTsKCg==",null,!1);const yG={0:t=>({position:[t.getInt32(0,!0),t.getInt32(4,!0),t.getInt32(8,!0)],intensity:t.getUint16(12,!0),classification:t.getUint8(16)}),1:t=>({position:[t.getInt32(0,!0),t.getInt32(4,!0),t.getInt32(8,!0)],intensity:t.getUint16(12,!0),classification:t.getUint8(16)}),2:t=>({position:[t.getInt32(0,!0),t.getInt32(4,!0),t.getInt32(8,!0)],intensity:t.getUint16(12,!0),classification:t.getUint8(16),color:[t.getUint16(20,!0),t.getUint16(22,!0),t.getUint16(24,!0)]}),3:t=>({position:[t.getInt32(0,!0),t.getInt32(4,!0),t.getInt32(8,!0)],intensity:t.getUint16(12,!0),classification:t.getUint8(16),color:[t.getUint16(28,!0),t.getUint16(30,!0),t.getUint16(32,!0)]})},Rl=(t,i,e,s)=>{s=s===void 0||s===0?1:s;const n=t.slice(e,e+i.BYTES_PER_ELEMENT*s),l=new i(n);if(s===void 0||s===1)return l[0];const r=[];for(let a=0;a<s;a++)r.push(l[a]);return r},Pw=t=>{const i={pointsOffset:0,pointsFormatId:0,pointsStructSize:0,pointsCount:0,scale:[],offset:[],maxs:[],mins:[]};i.pointsOffset=Rl(t,Uint32Array,32*3),i.pointsFormatId=Rl(t,Uint8Array,32*3+8),i.pointsStructSize=Rl(t,Uint16Array,32*3+8+1),i.pointsCount=Rl(t,Uint32Array,32*3+11);let e=32*3+35;i.scale=Rl(t,Float64Array,e,3),e+=24,i.offset=Rl(t,Float64Array,e,3),e+=24;const s=Rl(t,Float64Array,e,6);return e+=48,i.maxs=[s[0],s[2],s[4]],i.mins=[s[1],s[3],s[5]],i};class Uw{constructor(i){this.arrayBuffer=i,this.readOffset=0}open(){return new Promise(function(i){setTimeout(i,0)})}getHeader(){return new Promise(i=>{setTimeout(()=>{this.header=Pw(this.arrayBuffer),i(this.header)},0)})}readData(i,e,s){return new Promise((n,l)=>{setTimeout(()=>{if(!this.header)return l(new Error("Cannot start reading data till a header request is issued"));let r;if(s<=1){i=Math.min(i,this.header.pointsCount-this.readOffset),r=this.header.pointsOffset+this.readOffset*this.header.pointsStructSize;const a=r+i*this.header.pointsStructSize;return this.readOffset+=i,n({buffer:this.arrayBuffer.slice(r,a),count:i,hasMoreData:this.readOffset+i<this.header.pointsCount})}else{const a=Math.min(i*s,this.header.pointsCount-this.readOffset),o=Math.ceil(a/s);let c=0;const h=new Uint8Array(o*this.header.pointsStructSize);for(let d=0;d<a;d++){if(d%s===0){r=this.header.pointsOffset+this.readOffset*this.header.pointsStructSize;const u=new Uint8Array(this.arrayBuffer,r,this.header.pointsStructSize);h.set(u,c*this.header.pointsStructSize),c++}this.readOffset++}return n({buffer:h.buffer,count:c,hasMoreData:this.readOffset<this.header.pointsCount})}},0)})}close(){return new Promise(i=>{setTimeout(i,0)})}}class Dw{constructor(i){if(this.arrayBuffer=i,this.version=-1,this.formatId=-1,this.isCompressed=!1,this.versionAsString="-1",this.determineVersion(),this.version>12)throw new Error("Only file versions <= 1.2 are supported at this time");if(this.determineFormat(),!yG[this.formatId])throw new Error("The point format ID is not supported: "+this.formatId);if(this.isCompressed)throw new Error("LAZ not supported");this.loader=new Uw(this.arrayBuffer)}determineFormat(){const i=Rl(this.arrayBuffer,Uint8Array,104),e=(i&128)>>7,s=(i&64)>>6;if(e===1&&s===1)throw new Error("Old style compression not supported");this.formatId=i&63,this.isCompressed=e===1||s===1}determineVersion(){const i=new Int8Array(this.arrayBuffer,24,2);this.version=i[0]*10+i[1],this.versionAsString=i[0]+"."+i[1]}open(){return this.loader.open()}getHeader(){return this.loader.getHeader()}readData(i,e,s){return this.loader.readData(i,e,s)}close(){return this.loader.close()}}class Jw{constructor(i,e,s,n,l,r,a,o){this.arrayb=i,this.decoder=yG[e],this.pointsCount=n,this.pointSize=s,this.scale=l,this.offset=r,this.mins=a,this.maxs=o}getPoint(i){if(i<0||i>=this.pointsCount)throw new Error("Point index out of range");const e=new DataView(this.arrayb,i*this.pointSize,this.pointSize);return this.decoder(e)}}var Ow=(t,i,e)=>new Promise((s,n)=>{var l=o=>{try{a(e.next(o))}catch(c){n(c)}},r=o=>{try{a(e.throw(o))}catch(c){n(c)}},a=o=>o.done?s(o.value):Promise.resolve(o.value).then(l,r);a((e=e.apply(t,i)).next())});class Bw{constructor({getUrl:i=a=>Promise.resolve(a),version:e,boundingBox:s,scale:n,xhrRequest:l,xhrInit:r}){this.disposed=!1,this.workers=[],typeof e=="string"?this.version=new aa(e):this.version=e,this.xhrRequest=l,this.xhrInit=r||{},this.getUrl=i,this.boundingBox=s,this.scale=n,this.callbacks=[]}dispose(){this.workers.forEach(i=>i.terminate()),this.workers=[],this.disposed=!0}load(i){return i.loaded||this.disposed?Promise.resolve():Promise.resolve(this.getUrl(this.getNodeUrl(i))).then(e=>this.xhrRequest(e,this.xhrInit)).then(e=>e.arrayBuffer()).then(e=>new Promise(s=>this.parse(i,e,s)))}getNodeUrl(i){let e=i.getUrl();return this.version.equalOrHigher("1.4")&&(e+=".las"),e}parse(i,e,s){return Ow(this,null,function*(){if(this.disposed){s();return}const n=new Dw(e),l=yield n.getHeader(),r=1,a=l.pointsCount;yield n.readData(a,0,r).then(o=>{const c=new Jw(o.buffer,l.pointsFormatId,l.pointsStructSize,o.count,l.scale,l.offset,l.mins,l.maxs),h=this.getWorker();h.onmessage=u=>{const p=i.geometry=i.geometry||new Re,Z=c.pointsCount,X=new Float32Array(u.data.position),R=new Uint8Array(u.data.color),W=new Float32Array(u.data.intensity),S=new Uint8Array(u.data.classification),F=new Uint8Array(u.data.returnNumber),M=new Uint8Array(u.data.numberOfReturns),N=new Uint16Array(u.data.pointSourceID),E=new Uint8Array(u.data.indices);p.setAttribute("position",new Ne(X,3)),p.setAttribute("color",new Ne(R,4,!0)),p.setAttribute("intensity",new Ne(W,1)),p.setAttribute("classification",new Ne(S,1)),p.setAttribute("returnNumber",new Ne(F,1)),p.setAttribute("numberOfReturns",new Ne(M,1)),p.setAttribute("pointSourceID",new Ne(N,1)),p.setAttribute("indices",new Ne(E,4)),p.attributes.indices.normalized=!0;const Y=new is(new z().fromArray(u.data.tightBoundingBox.min),new z().fromArray(u.data.tightBoundingBox.max));p.boundingBox=i.boundingBox,i.tightBoundingBox=Y,i.loaded=!0,i.loading=!1,i.failed=!1,i.pcoGeometry.numNodesLoading--,i.pcoGeometry.needsUpdate=!0,i.geometry=p,i.numPoints=Z,i.mean=new z(...u.data.mean),this.releaseWorker(h),this.callbacks.forEach(O=>O(i)),s()};const d={buffer:c.arrayb,numPoints:c.pointsCount,pointSize:c.pointSize,pointFormatID:2,scale:c.scale,offset:c.offset,mins:c.mins,maxs:c.maxs};h.postMessage(d,[d.buffer])}).catch(o=>{throw new Error(o)})})}getWorker(){const i=this.workers.pop();return i||new kw}releaseWorker(i){this.workers.push(i)}}function Aw(t,i,e,s){return Promise.resolve(i(t)).then(n=>e(n,s).then(l=>l.json()).then(jw(n,i,e,s)))}function jw(t,i,e,s){return n=>{const{offset:l,boundingBox:r,tightBoundingBox:a}=Qw(n);let o,c;if(!Array.isArray(n.pointAttributes)&&n.pointAttributes==="LAS")o=new Bw({getUrl:i,version:n.version,boundingBox:r,scale:n.scale,xhrRequest:e,xhrInit:s}),c=["POSITION_CARTESIAN","RGB_PACKED","INTENSITY","CLASSIFICATION"];else throw new Error("Unsupported format "+n.pointAttributes);const h=new cG(o,r,a,l,e,s);h.url=t,h.octreeDir=n.octreeDir,h.needsUpdate=!0,h.spacing=n.spacing,h.hierarchyStepSize=n.hierarchyStepSize,h.projection=n.projection,h.offset=l,h.pointAttributes=new ip(c);const d={},u=new aa(n.version);return _w(h,n,d,u,s).then(()=>(u.upTo("1.4")&&qw(h,n,d,s),h.nodes=d,h))}}function Qw(t){const i=new z(t.boundingBox.lx,t.boundingBox.ly,t.boundingBox.lz),e=new z(t.boundingBox.ux,t.boundingBox.uy,t.boundingBox.uz),s=new is(i,e),n=s.clone(),l=i.clone();if(t.tightBoundingBox){const{lx:r,ly:a,lz:o,ux:c,uy:h,uz:d}=t.tightBoundingBox;n.min.set(r,a,o),n.max.set(c,h,d)}return s.min.sub(l),s.max.sub(l),n.min.sub(l),n.max.sub(l),{offset:l,boundingBox:s,tightBoundingBox:n}}function _w(t,i,e,s,n){const l="r",r=new fh(l,t,t.boundingBox,n);return r.hasChildren=!0,r.spacing=t.spacing,s.upTo("1.5")?r.numPoints=i.hierarchy[0][1]:r.numPoints=0,t.root=r,e[l]=r,t.root.load()}function qw(t,i,e,s){for(let n=1;n<i.hierarchy.length;n++){const[l,r]=i.hierarchy[n],{index:a,parentName:o,level:c}=$w(l),h=e[o],d=By(h.boundingBox,a),u=new fh(l,t,d,s);u.level=c,u.numPoints=r,u.spacing=t.spacing/Math.pow(2,u.level),e[l]=u,h.addChild(u)}}function $w(t){return{index:tp(t),parentName:t.substring(0,t.length-1),level:t.length-1}}function tk(t){return t!=null&&t.isGeometryNode}function rp(t){return t!=null&&t.isTreeNode}function GG(t){this.content=[],this.scoreFunction=t}GG.prototype={push:function(t){this.content.push(t),this.bubbleUp(this.content.length-1)},pop:function(){var t=this.content[0],i=this.content.pop();return this.content.length>0&&(this.content[0]=i,this.sinkDown(0)),t},remove:function(t){for(var i=this.content.length,e=0;e<i;e++)if(this.content[e]==t){var s=this.content.pop();if(e==i-1)break;this.content[e]=s,this.bubbleUp(e),this.sinkDown(e);break}},size:function(){return this.content.length},bubbleUp:function(t){for(var i=this.content[t],e=this.scoreFunction(i);t>0;){var s=Math.floor((t+1)/2)-1,n=this.content[s];if(e>=this.scoreFunction(n))break;this.content[s]=i,this.content[t]=n,t=s}},sinkDown:function(t){for(var i=this.content.length,e=this.content[t],s=this.scoreFunction(e);;){var n=(t+1)*2,l=n-1,r=null;if(l<i){var a=this.content[l],o=this.scoreFunction(a);o<s&&(r=l)}if(n<i){var c=this.content[n],h=this.scoreFunction(c);h<(r==null?s:o)&&(r=n)}if(r==null)break;this.content[t]=this.content[r],this.content[r]=e,t=r}}};class ek extends oh{constructor(i,e=new it(16776960)){const s=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new Float32Array([i.min.x,i.min.y,i.min.z,i.max.x,i.min.y,i.min.z,i.max.x,i.min.y,i.max.z,i.min.x,i.min.y,i.max.z,i.min.x,i.max.y,i.min.z,i.max.x,i.max.y,i.min.z,i.max.x,i.max.y,i.max.z,i.min.x,i.max.y,i.max.z]),l=new Re;l.setIndex(new Ne(s,1)),l.setAttribute("position",new Ne(n,3));const r=new bn({color:e});super(l,r)}}class sk{constructor(i){this.node=i,this.next=null,this.previous=null}}class ik{constructor(i=1e6){this.pointBudget=i,this.first=null,this.last=null,this.numPoints=0,this.items=new Map}get size(){return this.items.size}has(i){return this.items.has(i.id)}touch(i){if(!i.loaded)return;const e=this.items.get(i.id);e?this.touchExisting(e):this.addNew(i)}addNew(i){const e=new sk(i);e.previous=this.last,this.last=e,e.previous&&(e.previous.next=e),this.first||(this.first=e),this.items.set(i.id,e),this.numPoints+=i.numPoints}touchExisting(i){i.previous?i.next&&(i.previous.next=i.next,i.next.previous=i.previous,i.previous=this.last,i.next=null,this.last=i,i.previous&&(i.previous.next=i)):i.next&&(this.first=i.next,this.first.previous=null,i.previous=this.last,i.next=null,this.last=i,i.previous&&(i.previous.next=i))}remove(i){const e=this.items.get(i.id);!e||(this.items.size===1?(this.first=null,this.last=null):(e.previous||(this.first=e.next,this.first.previous=null),e.next||(this.last=e.previous,this.last.next=null),e.previous&&e.next&&(e.previous.next=e.next,e.next.previous=e.previous)),this.items.delete(i.id),this.numPoints-=i.numPoints)}getLRUItem(){return this.first?this.first.node:void 0}freeMemory(){if(!(this.items.size<=1))for(;this.numPoints>this.pointBudget*2;){const i=this.getLRUItem();i&&this.disposeSubtree(i)}}dispose(){let i=this.getLRUItem();for(;i!==void 0;)this.disposeSubtree(i),i=this.getLRUItem()}disposeSubtree(i){const e=[i];i.traverse(s=>{s.loaded&&e.push(s)});for(const s of e)s.dispose(),this.remove(s)}}class ap{constructor(i,e,s,n){this.pointCloudIndex=i,this.weight=e,this.node=s,this.parent=n}}class oa{constructor(){this._pointBudget=ow,this._rendererSize=new Wt,this.maxNumNodesLoading=cw,this.features=Nw,this.lru=new ik(this._pointBudget),this.updateVisibilityStructures=(()=>{const i=new _t,e=new _t,s=new _t;return(n,l)=>{const r=[],a=[],o=new GG(c=>1/c.weight);for(let c=0;c<n.length;c++){const h=n[c];if(!h.initialized())continue;h.numVisiblePoints=0,h.visibleNodes=[],h.visibleGeometry=[],l.updateMatrixWorld(!1);const d=l.matrixWorldInverse,u=h.matrixWorld;if(i.identity().multiply(l.projectionMatrix).multiply(d).multiply(u),r.push(new oo().setFromProjectionMatrix(i)),e.copy(u).invert(),s.identity().multiply(e).multiply(l.matrixWorld),a.push(new z().setFromMatrixPosition(s)),h.visible&&h.root!==null){const p=Number.MAX_VALUE;o.push(new ap(c,p,h.root))}rp(h.root)&&h.hideDescendants(h.root.sceneNode);for(const p of h.boundingBoxNodes)p.visible=!1}return{frustums:r,cameraPositions:a,priorityQueue:o}}})()}loadPointCloud(i,e,s=(l,r)=>fetch(l,r),n){return Aw(i,e,s,n).then(l=>new pG(this,l))}updatePointClouds(i,e,s){const n=this.updateVisibility(i,e,s);for(let l=0;l<i.length;l++){const r=i[l];r.disposed||(r.material.updateMaterial(r,r.visibleNodes,e,s),r.updateVisibleBounds(),r.updateBoundingBoxes())}return this.lru.freeMemory(),n}static pick(i,e,s,n,l={}){return oa.picker=oa.picker||new fo,oa.picker.pick(e,s,n,i,l)}dispose(){this.lru.dispose()}get pointBudget(){return this._pointBudget}set pointBudget(i){i!==this._pointBudget&&(this._pointBudget=i,this.lru.pointBudget=i,this.lru.freeMemory())}updateVisibility(i,e,s){let n=0;const l=[],r=[],{frustums:a,cameraPositions:o,priorityQueue:c}=this.updateVisibilityStructures(i,e);let h=0,d=!1,u=!1,p;for(;(p=c.pop())!==void 0;){let R=p.node;if(n+R.numPoints>this.pointBudget)break;const W=p.pointCloudIndex,S=i[W],F=S.maxLevel!==void 0?S.maxLevel:1/0;if(R.level>F||!a[W].intersectsBox(R.boundingBox)||this.shouldClip(S,R.boundingBox))continue;n+=R.numPoints,S.numVisiblePoints+=R.numPoints;const M=p.parent;if(tk(R)&&(!M||rp(M)))if(R.loaded&&h<$y)R=S.toTreeNode(R,M),h++;else if(!R.failed)R.loaded&&h>=$y&&(d=!0),r.push(R),S.visibleGeometry.push(R);else{u=!0;continue}rp(R)&&(this.updateTreeNodeVisibility(S,R,l),S.visibleGeometry.push(R.geometryNode));const N=.5*s.getSize(this._rendererSize).height*s.getPixelRatio();this.updateChildVisibility(p,c,S,R,o[W],e,N)}const Z=Math.min(this.maxNumNodesLoading,r.length),X=[];for(let R=0;R<Z;R++)X.push(r[R].load());return{visibleNodes:l,numVisiblePoints:n,exceededMaxLoadsToGPU:d,nodeLoadFailed:u,nodeLoadPromises:X}}updateTreeNodeVisibility(i,e,s){this.lru.touch(e.geometryNode);const n=e.sceneNode;n.visible=!0,n.material=i.material,n.updateMatrix(),n.matrixWorld.multiplyMatrices(i.matrixWorld,n.matrix),s.push(e),i.visibleNodes.push(e),this.updateBoundingBoxVisibility(i,e)}updateChildVisibility(i,e,s,n,l,r,a){const o=n.children;for(let c=0;c<o.length;c++){const h=o[c];if(h===null)continue;const d=h.boundingSphere,u=d.center.distanceTo(l),p=d.radius;let Z=0;if(r.type===tG){const S=r.fov*Math.PI/180,F=Math.tan(S/2);Z=a/(F*u)}else{const W=r;Z=2*a/(W.top-W.bottom)}const X=p*Z;if(X<s.minNodePixelSize)continue;const R=u<p?Number.MAX_VALUE:X+1/u;e.push(new ap(i.pointCloudIndex,R,h,n))}}updateBoundingBoxVisibility(i,e){if(i.showBoundingBox&&!e.boundingBoxNode){const s=new ek(e.boundingBox);s.matrixAutoUpdate=!1,i.boundingBoxNodes.push(s),e.boundingBoxNode=s,e.boundingBoxNode.matrix.copy(i.matrixWorld)}else i.showBoundingBox&&e.boundingBoxNode?(e.boundingBoxNode.visible=!0,e.boundingBoxNode.matrix.copy(i.matrixWorld)):!i.showBoundingBox&&e.boundingBoxNode&&(e.boundingBoxNode.visible=!1)}shouldClip(i,e){const s=i.material;if(s.numClipBoxes===0||s.clipMode!==An.CLIP_OUTSIDE)return!1;const n=e.clone();i.updateMatrixWorld(!0),n.applyMatrix4(i.matrixWorld);const l=s.clipBoxes;for(let r=0;r<l.length;r++){const a=l[r].matrix,o=new is(new z(-.5,-.5,-.5),new z(.5,.5,.5)).applyMatrix4(a);if(n.intersectsBox(o))return!1}return!0}}var nk=Object.freeze({__proto__:null,BlurMaterial:iw,ClipMode:An,PointSizeType:tn,PointShape:jn,TreeType:ra,PointOpacityType:Co,PointColorType:Gs,PointCloudMaterial:ue,generateDataTexture:iG,generateGradientTexture:ep,generateClassificationTexture:sp,GRAYSCALE:pw,INFERNO:mw,PLASMA:bw,RAINBOW:yw,SPECTRAL:sG,VIRIDIS:Gw,YELLOW_GREEN:Zw,PointAttributeName:lG,POINT_ATTRIBUTE_TYPES:sn,POINT_ATTRIBUTES:aG,PointAttributes:ip,PointCloudOctreeGeometryNode:fh,PointCloudOctreeGeometry:cG,PointCloudOctreeNode:hG,PointCloudOctree:pG,PointCloudTree:uG,QueueItem:ap,Potree:oa,Version:aa}),ZG=`// 
// adapted from the EDL shader code from Christian Boucheny in cloud compare:
// https://github.com/cloudcompare/trunk/tree/master/plugins/qEDL/shaders/EDL
//
#ifndef IS_WEBGL_2
	#extension GL_EXT_frag_depth : enable
#endif

uniform float screenWidth;
uniform float screenHeight;
uniform vec2 neighbours[NEIGHBOUR_COUNT];
uniform float edlStrength;
uniform float radius;
uniform float opacity;

uniform float uNear;
uniform float uFar;

uniform mat4 uProj;

uniform sampler2D uEDLColor;
uniform sampler2D uEDLDepth;

varying vec2 vUv;

float response(float depth){
	vec2 uvRadius = radius / vec2(screenWidth, screenHeight);
	
	float sum = 0.0;
	
	for(int i = 0; i < NEIGHBOUR_COUNT; i++){
		vec2 uvNeighbor = vUv + uvRadius * neighbours[i];
		
		float neighbourDepth = texture2D(uEDLColor, uvNeighbor).a;
		neighbourDepth = (neighbourDepth == 1.0) ? 0.0 : neighbourDepth;

		if(neighbourDepth != 0.0){
			if(depth == 0.0){
				sum += 100.0;
			}else{
				sum += max(0.0, depth - neighbourDepth);
			}
		}
	}
	
	return sum / float(NEIGHBOUR_COUNT);
}

void main(){
	vec4 cEDL = texture2D(uEDLColor, vUv);
	
	float depth = cEDL.a;
	depth = (depth == 1.0) ? 0.0 : depth;
	float res = response(depth);
	float shade = exp(-res * 300.0 * edlStrength);

	gl_FragColor = vec4(cEDL.rgb * shade, opacity);

	float dl = pow(2.0, depth);

	vec4 dp = uProj * vec4(0.0, 0.0, -dl, 1.0);
	float pz = dp.z / dp.w;
	float fragDepth = (pz + 1.0) / 2.0;

	gl_FragDepthEXT = fragDepth;

	if(depth == 0.0){
		discard;
	}
}`,XG=`varying vec2 vUv;

void main() {
	vUv = uv;
	vec4 mvPosition = modelViewMatrix * vec4(position,1.0);
	gl_Position = projectionMatrix * mvPosition;
}`;class lk extends ri{constructor(){super();this.neighbourCnt=0,this.isWebGL2=!1;const i={screenWidth:{type:"f",value:1024},screenHeight:{type:"f",value:768},edlStrength:{type:"f",value:1},uNear:{type:"f",value:1},uFar:{type:"f",value:1},radius:{type:"f",value:1},neighbours:{type:"2fv",value:[]},uEDLColor:{type:"t",value:null},uEDLDepth:{type:"t",value:null},opacity:{type:"f",value:1},uProj:{type:"Matrix4fv",value:[]}};this.setValues({uniforms:i,vertexShader:this.getDefines()+XG,fragmentShader:this.getDefines()+ZG,lights:!1}),this.neighbourCount=8}getDefines(){let i="";return i+="#define NEIGHBOUR_COUNT "+this.neighbourCnt+`
`,this.isWebGL2&&(i+=`#define IS_WEBGL_2
`),i}setIsWebGL2(i){this.isWebGL2=i,this.updateShaderSource()}updateShaderSource(){const i=this.getDefines()+XG,e=this.getDefines()+ZG;this.setValues({vertexShader:i,fragmentShader:e}),this.uniforms.neighbours.value=this.neighbours,this.needsUpdate=!0}get neighbourCount(){return this.neighbourCnt}set neighbourCount(i){if(this.neighbourCnt!==i){this.neighbourCnt=i,this.neighbours=new Float32Array(this.neighbourCnt*2);for(let e=0;e<this.neighbourCount;e++)this.neighbours[2*e+0]=Math.cos(2*e*Math.PI/this.neighbourCnt),this.neighbours[2*e+1]=Math.sin(2*e*Math.PI/this.neighbourCnt);this.updateShaderSource()}}}class rk{constructor(i,e,s){this.screenScene=new Jn,this.camera=new Qc,this.edlMaterial=new lk,this.edlMaterial.depthTest=!0,this.edlMaterial.depthWrite=!0,this.edlMaterial.transparent=!0,this.edlMaterial.uniforms.edlStrength.value=.4,this.edlMaterial.uniforms.radius.value=1.6,this.edlMaterial.uniforms.opacity.value=1,this.rtEDL=new _s(1024,1024,{minFilter:ds,magFilter:ds,format:li,type:rl,depthTexture:new Ru(1024,1024,$a)}),this.screenQuad=new ns(new co(2,2,1,1),this.edlMaterial),this.screenQuad.frustumCulled=!1,this.screenScene.add(this.screenQuad),i&&e&&s&&this.resize(i,e,s)}resize(i,e,s){const n=e.getPixelRatio(),l=i.clientWidth,r=i.clientHeight,a=Math.floor(l*n),o=Math.floor(r*n);this.rtEDL.setSize(a,o),this.edlMaterial.uniforms.screenWidth.value=l,this.edlMaterial.uniforms.screenHeight.value=r,this.edlMaterial.uniforms.uNear.value=s.near,this.edlMaterial.uniforms.uFar.value=s.far}dispose(){this.edlMaterial.dispose(),this.rtEDL.dispose(),this.screenQuad.material.dispose(),this.screenQuad.geometry.dispose(),this.screenScene.remove(this.screenQuad)}render(i,e,s){i.setRenderTarget(this.rtEDL),i.clear(!0,!0,!0),i.render(e,s),i.setRenderTarget(null);const n=s.projectionMatrix,l=new Float32Array(16);l.set(n.elements),this.edlMaterial.uniforms.uEDLColor.value=this.rtEDL.texture,this.edlMaterial.uniforms.uEDLDepth.value=this.rtEDL.depthTexture,this.edlMaterial.uniforms.uProj.value=l,i.render(this.screenScene,this.camera)}}var ak=Object.defineProperty,ok=Object.defineProperties,ck=Object.getOwnPropertyDescriptors,TG=Object.getOwnPropertySymbols,hk=Object.prototype.hasOwnProperty,dk=Object.prototype.propertyIsEnumerable,RG=(t,i,e)=>i in t?ak(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e,uk=(t,i)=>{for(var e in i||(i={}))hk.call(i,e)&&RG(t,e,i[e]);if(TG)for(var e of TG(i))dk.call(i,e)&&RG(t,e,i[e]);return t},pk=(t,i)=>ok(t,ck(i)),IG=(t,i,e)=>new Promise((s,n)=>{var l=o=>{try{a(e.next(o))}catch(c){n(c)}},r=o=>{try{a(e.throw(o))}catch(c){n(c)}},a=o=>o.done?s(o.value):Promise.resolve(o.value).then(l,r);a((e=e.apply(t,i)).next())});class gG{constructor(i={}){if(this.pointclouds=[],this.pointBudgetLow=2e5,this.pointBudgetMed=15e5,this.pointBudgetHigh=3e6,this.events=new Ei,this.potree=new oa,this.useEDL=!1,this.edlRenderer=new rk,this.needsVisibilityFlip=!1,this.prevClippingPlaneCount=0,this.scene=i.scene,this.camera=i.camera,this.renderer=i.renderer,this.domEl=i.domEl,this.referenceFrame=i.referenceFrame,this.referenceFrame&&i.referenceFramePosition)throw new Error("PointClouds: ReferenceFrame and ReferenceFramePosition both provider. Use only one.");!this.referenceFrame&&i.referenceFramePosition&&(this.referenceFrame=new jy,this.referenceFrame.position=i.referenceFramePosition),this.renderer&&this.initGLExtensions(this.renderer),this.binds(),this.addListeners(),this.setPointBudget("Med"),this.camera&&this.domEl&&this.renderer&&this.resize(this.renderer,this.camera,this.domEl)}initGLExtensions(i){const e=i.capabilities.isWebGL2,s=i.getContext(),n=s.getExtension("EXT_frag_depth"),l=s.getExtension("WEBGL_depth_texture");if(!e&&!n&&!l&&console.error("Device/browser not supported. Capabilities",i.capabilities),!e){const r=s.getExtension("OES_vertex_array_object");r&&(s.createVertexArray=r.createVertexArrayOES.bind(r),s.bindVertexArray=r.bindVertexArrayOES.bind(r))}this.edlRenderer.edlMaterial.setIsWebGL2(e)}dispose(){for(const i of this.pointclouds)i.dispose();this.pointclouds=[],this.potree&&(this.potree.dispose(),this.potree=void 0),this.edlRenderer.dispose(),this.removeListeners()}pick(i){const e=i.screenPos,s=i.renderer||this.renderer,n=i.pickClipped||!1,l=i.camera||this.camera,r=i.pointclouds||this.pointclouds,a=i.pickWindowSize||17;if(!l)throw new Error("PointClouds.pick: camera required");if(!s)throw new Error("PointClouds.pick: renderer required");let o=i.raycaster;if(!o){if(!e)throw new Error('Missing "screenPos" or "raycaster"');const p={x:e.x/s.domElement.clientWidth*2-1,y:-(e.y/s.domElement.clientHeight)*2+1};o=new gh,o.setFromCamera(p,l)}const c=o.ray;let h,d=1/0,u;for(const p of r){if(!p.visible)continue;const Z=p.pick(s,l,c,{pickOutsideClipRegion:n,pickWindowSize:a});if(!Z||!Z.position)continue;const X=l.position.distanceTo(Z.position);X<d&&(d=X,h=p,u=Z.position)}return h&&u?{distance:d,point:u,object:h,objectType:"pointcloud"}:null}getBoundingBox(i){i=i||this.pointclouds;const e=new is;for(let s=0;s<i.length;s++){const l=i[s].getBoundingBoxWorld();e.union(l)}return e}getHeightRange(){if(this.pointclouds.length===0||!this.referenceFrame)return[0,100];const i=this.referenceFrame.toGeo({x:0,y:0,z:this.pointclouds[0].material.elevationRange[0]}),e=this.referenceFrame.toGeo({x:0,y:0,z:this.pointclouds[0].material.elevationRange[1]});return[i.z,e.z]}setReferenceFrame(i){this.referenceFrame=i}fitHeightRange(){const i=this.getBoundingBox();this.setHeightRange([i.min.z,i.max.z])}fitIntensityRange(){let i=!1;const e=this.pointclouds.length>0?this.pointclouds[0].material.intensityRange:ca.intensityRange;for(let s=0;s<this.pointclouds.length;s++){const n=this.pointclouds[s].pcoGeometry.root,l=.85;if(n!==void 0){if(!n.loaded)return!1;const r=n.geometry.attributes;if(r.intensity!==void 0){const a=r.intensity.array,o=[];for(let d=0;d<a.length;d++)o.push(a[d]);o.sort();const c=Math.floor((o.length-1)*l),h=Math.floor((o.length-1)*(1-l));e[0]=e[0]>o[h]?o[h]:e[0],e[1]=e[1]<o[c]?o[c]:e[1],i=!0}}}return i&&this.setIntensityRange(e),!0}setDefaults(i){const e=new z;for(const s of i){s.material.shape=ca.pointShape,s.material.gradient=ca.heightGradient,s.material.classification=ca.classificationColors,s.material.pointColorType=ca.pointColorType,s.material.pointSizeType=ca.pointSizeType,s.pcoGeometry.boundingBox.getSize(e),s.material.opacity=1;const n=e.x;s.material.uniforms.octreeSize.value=n,s.material.spacing=s.pcoGeometry.spacing*s.scale.x}}load(i){return IG(this,arguments,function*(e,s={}){const n=Array.isArray(e)?e:[e],l=[];if(!this.potree)throw new Error("Potree needs to be initialized first");let r="";s.queryString&&(r=s.queryString.startsWith("?")?s.queryString:"?"+s.queryString);const a=s.xhrInit||{};for(const o of n){const c=o.endsWith("/")?o:o+"/",h=yield this.potree.loadPointCloud("cloud.js",d=>c+d+r,(d,u)=>fetch(d,u),pk(uk({},a),{mode:"cors"})).catch(d=>{throw new Error(d)});l.push(h)}return this.setDefaults(l),this.pointclouds.push(...l),l})}loadInternal(i){return IG(this,arguments,function*(e,s={}){const n=yield this.load(e,s).catch(r=>{throw new Error(r)});if(!this.referenceFrame)throw new Error("PointClouds.loadInternal: ReferenceFrame not initialized");const l=this.addToReferenceFrame(n,this.referenceFrame);if(!this.scene)throw new Error("PointClouds.loadInternal: scene required");return this.scene.add(l),n})}addToReferenceFrame(i,e){if(i.length<1)throw new Error("PointClouds.addToReferenceFrame: at least one POC required");return e.isSet()||e.setPosition(i[0].position,!0),e.getSceneGroup(i)}render(i,e,s){const n=i||this.renderer,l=e||this.scene,r=s||this.camera;if(!n||!l||!r)throw new Error("PointClouds.render: renderer, scene and camera required");this.useEDL?this.edlRenderer.render(n,l,r):n.render(l,r)}update(i,e,s){const n=i||this.pointclouds,l=s||this.camera,r=e||this.renderer;if(!n||!l||!r)throw new Error("PointClouds.update: pointclouds, camera and renderer required");this.pointclouds.forEach(a=>{a.material.clippingPlanes=r.clippingPlanes}),this.potree&&this.potree.updatePointClouds(n,l,r)}setClipBoxes(i){this.pointclouds.forEach(function(e){e.material.setClipBoxes(i)}),i&&i.length>0?this.pointclouds.forEach(function(e){e.material.useClipBox=!0}):this.pointclouds.forEach(function(e){e.material.useClipBox=!1})}setEDLEnabled(i){this.useEDL=i;for(const e of this.pointclouds)e.material.useEDL=i;this.events.dispatch("pointscene_pointclouds_edl_changed",{value:i},this.domEl)}isEDLEnabled(){return this.useEDL}setOpacity(i){this.pointclouds.forEach(function(e){e.material.opacity=i}),this.events.dispatch("pointscene_pointclouds_opacity_changed",{value:i},this.domEl)}setPointBudget(i){if(!this.potree)throw new Error("Potree needs to be initialized first");if(i==="Low")this.potree.pointBudget=this.pointBudgetLow;else if(i==="Med")this.potree.pointBudget=this.pointBudgetMed;else if(i==="High")this.potree.pointBudget=this.pointBudgetHigh;else{console.warn("Pointclouds.setPointBudget: unknown value",i);return}this.events.dispatch("pointscene_pointclouds_lod_changed",{value:i},this.domEl)}translatePosition(i){this.pointclouds.forEach(e=>{e.position.add(i),e.updateMatrix()})}setColorType(i){this.events.dispatch("pointscene_pointclouds_color_type_changed",{value:i},this.domEl),this.pointclouds.forEach(function(e){e.material.pointColorType=i})}setMaterialWeights(i){i=i||{};const e=i.rgb||0,s=i.int||0,n=i.z||0,l=i.cls||0;this.pointclouds.forEach(r=>{r.material.uniforms.wRGB.value=e,r.material.uniforms.wIntensity.value=s,r.material.uniforms.wElevation.value=n,r.material.uniforms.wClassification.value=l}),this.events.dispatch("pointscene_pointclouds_material_weights_changed",{weights:i},this.domEl)}setColorWeight(i){this.pointclouds.forEach(e=>{e.material.uniforms.wRGB.value=i}),this.events.dispatch("pointscene_pointclouds_rgb_weight_changed",{value:i},this.domEl)}setElevationWeight(i){this.pointclouds.forEach(e=>{e.material.uniforms.wElevation.value=i}),this.events.dispatch("pointscene_pointclouds_elevation_weight_changed",{value:i},this.domEl)}setIntensityWeight(i){this.pointclouds.forEach(e=>{e.material.uniforms.wIntensity.value=i}),this.events.dispatch("pointscene_pointclouds_intensity_weight_changed",{value:i},this.domEl)}setClassificationWeight(i){this.pointclouds.forEach(e=>{e.material.uniforms.wClassification.value=i}),this.events.dispatch("pointscene_pointclouds_classification_weight_changed",{value:i},this.domEl)}setClassVisibility(i,e){let s=!1;for(let n=0;n<this.pointclouds.length;n++){const l=this.pointclouds[n],r=l.material.classification,a=r[i].w;r[i].w=e?1:0,a!==r[i].w&&(s=!0),l.material.classification=r}s&&this.events.dispatch("pointscene_pointclouds_class_visibility_changed",{key:i,value:e},this.domEl)}setClipMode(i){this.events.dispatch("pointscene_pointclouds_clip_mode_changed",{value:i},this.domEl),this.pointclouds.forEach(e=>{e.material.clipMode=i})}setPointShape(i){let e=jn.SQUARE;typeof i=="string"?i.toLowerCase()==="circle"&&(e=jn.CIRCLE):e=i,this.events.dispatch("pointscene_pointclouds_point_shape_changed",{value:e},this.domEl),this.pointclouds.forEach(function(s){s.material.shape=e})}setPointSize(i){i<0&&(i=0),this.events.dispatch("pointscene_pointclouds_point_size_changed",{value:i},this.domEl),this.pointclouds.forEach(function(e){e.material.size=i})}setPointSizeType(i){let e;typeof i=="string"?i==="Adaptive"?e=tn.ADAPTIVE:i==="Attenuated"?e=tn.ATTENUATED:e=tn.FIXED:e=i,this.events.dispatch("pointscene_pointclouds_point_size_type_changed",{value:e},this.domEl),this.pointclouds.forEach(function(s){s.material.pointSizeType=e})}setHeightRange(i){let e={x:0,y:0,z:i[0]},s={x:0,y:0,z:i[1]};if(!this.referenceFrame||!this.referenceFrame.isSet())throw new Error("Reference frame has not been set");e=this.referenceFrame.toScene(e),s=this.referenceFrame.toScene(s),this.events.dispatch("pointscene_pointclouds_height_range_changed",{range:[i[0],i[1]]},this.domEl),this.pointclouds.forEach(function(n){n.material.elevationRange=[e.z,s.z]})}setUseUnscaledElevation(i){this.pointclouds.forEach(function(e){})}setIntensityRange(i){this.events.dispatch("pointscene_pointclouds_intensity_range_changed",{range:i},this.domEl),this.pointclouds.forEach(function(e){e.material.uniforms.intensityRange.value=i})}setVisibility(i){this.pointclouds.forEach(function(e){e.visible=i}),this.events.dispatch("pointscene_pointclouds_visibility_changed",{value:i},this.domEl)}resize(i,e,s){const n=e||this.camera,l=s||this.domEl,r=i||this.renderer;if(!n||!l||!r)throw new Error("PointClouds.onWindowResize: camera, domEl and renderer required");this.edlRenderer.resize(l,r,n);for(let a=0;a<this.pointclouds.length;a++){const o=this.pointclouds[a];o.material.screenWidth=l.clientWidth,o.material.screenHeight=l.clientHeight,typeof n.fov<"u"&&(o.material.fov=n.fov*(Math.PI/180))}}handleWindowResize(){!this.camera&&!this.domEl||this.resize()}handleLoadPointcloud(i){this.load(i.detail.path)}handleSetClipBoxes(i){this.setClipBoxes(i.detail.clipBoxes)}handleSetClipMode(i){this.setClipMode(i.detail.clipMode)}handleSetLOD(i){this.setPointBudget(i.detail.value)}handleSetMaterialWeights(i){this.setMaterialWeights(i.detail.weights)}handleSetClassVisibility(i){this.setClassVisibility(i.detail.key,i.detail.value)}handleUpdateClassRange(i){throw new Error("Update class range not implemented "+i)}handleSetPointShape(i){this.setPointShape(i.detail.value)}handleSetPointSize(i){this.setPointSize(i.detail.value)}handleSetPointSizeType(i){this.setPointSizeType(i.detail.value)}handleSetHeightRange(i){this.setHeightRange(i.detail.range)}handleSetIntensityRange(i){this.setIntensityRange(i.detail.range)}handleSetEDL(i){this.setEDLEnabled(i.detail.value)}handleSetVisibility(i){this.setVisibility(i.detail.value)}binds(){this.handleLoadPointcloud=this.handleLoadPointcloud.bind(this),this.handleSetClassVisibility=this.handleSetClassVisibility.bind(this),this.handleSetClipBoxes=this.handleSetClipBoxes.bind(this),this.handleSetClipMode=this.handleSetClipMode.bind(this),this.handleSetEDL=this.handleSetEDL.bind(this),this.handleSetHeightRange=this.handleSetHeightRange.bind(this),this.handleSetIntensityRange=this.handleSetIntensityRange.bind(this),this.handleSetLOD=this.handleSetLOD.bind(this),this.handleSetMaterialWeights=this.handleSetMaterialWeights.bind(this),this.handleSetPointShape=this.handleSetPointShape.bind(this),this.handleSetPointSize=this.handleSetPointSize.bind(this),this.handleSetPointSizeType=this.handleSetPointSizeType.bind(this),this.handleSetVisibility=this.handleSetVisibility.bind(this),this.handleUpdateClassRange=this.handleUpdateClassRange.bind(this),this.handleWindowResize=this.handleWindowResize.bind(this)}addListeners(i){const e=i||this.domEl;!e||(e.addEventListener("pointscene_load_pointcloud",this.handleLoadPointcloud,!1),e.addEventListener("pointscene_set_clipboxes",this.handleSetClipBoxes,!1),e.addEventListener("pointscene_set_clip_mode",this.handleSetClipMode,!1),e.addEventListener("pointscene_set_pointclouds_lod",this.handleSetLOD,!1),e.addEventListener("pointscene_set_pointclouds_material_weights",this.handleSetMaterialWeights,!1),e.addEventListener("pointscene_set_pointclouds_class_visibility",this.handleSetClassVisibility,!1),e.addEventListener("pointscene_pointclouds_update_class_range",this.handleUpdateClassRange,!1),e.addEventListener("pointscene_set_pointclouds_shape",this.handleSetPointShape,!1),e.addEventListener("pointscene_set_pointclouds_point_size",this.handleSetPointSize,!1),e.addEventListener("pointscene_set_pointclouds_size_type",this.handleSetPointSizeType,!1),e.addEventListener("pointscene_set_pointclouds_height_range",this.handleSetHeightRange,!1),e.addEventListener("pointscene_set_pointclouds_intensity_range",this.handleSetIntensityRange,!1),e.addEventListener("pointscene_set_pointclouds_edl",this.handleSetEDL,!1),e.addEventListener("pointscene_set_pointclouds_visibility",this.handleSetVisibility,!1),window.addEventListener("resize",this.handleWindowResize,!1))}removeListeners(i){const e=i||this.domEl;!e||(e.removeEventListener("pointscene_load_pointcloud",this.handleLoadPointcloud,!1),e.removeEventListener("pointscene_set_clipboxes",this.handleSetClipBoxes,!1),e.removeEventListener("pointscene_set_clip_mode",this.handleSetClipMode,!1),e.removeEventListener("pointscene_set_pointclouds_lod",this.handleSetLOD,!1),e.removeEventListener("pointscene_set_pointclouds_material_weights",this.handleSetMaterialWeights,!1),e.removeEventListener("pointscene_set_pointclouds_class_visibility",this.handleSetClassVisibility,!1),e.removeEventListener("pointscene_pointclouds_update_class_range",this.handleUpdateClassRange,!1),e.removeEventListener("pointscene_set_pointclouds_shape",this.handleSetPointShape,!1),e.removeEventListener("pointscene_set_pointclouds_point_size",this.handleSetPointSize,!1),e.removeEventListener("pointscene_set_pointclouds_size_type",this.handleSetPointSizeType,!1),e.removeEventListener("pointscene_set_pointclouds_height_range",this.handleSetHeightRange,!1),e.removeEventListener("pointscene_set_pointclouds_intensity_range",this.handleSetIntensityRange,!1),e.removeEventListener("pointscene_set_pointclouds_edl",this.handleSetEDL,!1),e.removeEventListener("pointscene_set_pointclouds_visibility",this.handleSetVisibility,!1),window.removeEventListener("resize",this.handleWindowResize,!1))}}const ca={pointShape:jn.CIRCLE,pointSize:1,minPointSize:1,maxPointSize:50,opacity:1,sizeType:"Adaptive",pointSizeType:tn.ADAPTIVE,pointColorType:Gs.RGB,minNodeSize:1,edlStrength:1,edlRadius:1.4,useEDL:!1,useHqSplat:!1,heightMin:0,heightMax:100,useUnscaledElevation:!1,materialTransition:.5,weightRGB:.4,weightIntensity:0,weightElevation:.6,weightClassification:0,weightReturnNumber:0,weightSourceID:0,intensityRange:[0,65536],intensityGamma:1,intensityContrast:0,intensityBrightness:0,rgbGamma:1,rgbContrast:0,rgbBrightness:0,heightGradient:[[0/36,new it(54/255,83/255,121/255)],[1/36,new it(54/255,94/255,123/255)],[2/36,new it(53/255,106/255,124/255)],[3/36,new it(53/255,119/255,126/255)],[4/36,new it(52/255,128/255,124/255)],[5/36,new it(52/255,129/255,113/255)],[6/36,new it(51/255,131/255,102/255)],[7/36,new it(50/255,133/255,90/255)],[8/36,new it(50/255,134/255,77/255)],[9/36,new it(49/255,136/255,64/255)],[10/36,new it(48/255,138/255,50/255)],[11/36,new it(61/255,139/255,48/255)],[12/36,new it(75/255,141/255,47/255)],[13/36,new it(89/255,149/255,47/255)],[14/36,new it(104/255,158/255,46/255)],[15/36,new it(121/255,166/255,45/255)],[16/36,new it(140/255,175/255,43/255)],[17/36,new it(161/255,183/255,41/255)],[18/36,new it(185/255,192/255,39/255)],[19/36,new it(200/255,189/255,36/255)],[20/36,new it(208/255,177/255,33/255)],[21/36,new it(217/255,163/255,30/255)],[22/36,new it(225/255,146/255,26/255)],[23/36,new it(234/255,127/255,22/255)],[24/36,new it(242/255,104/255,18/255)],[25/36,new it(237/255,94/255,16/255)],[26/36,new it(233/255,84/255,14/255)],[27/36,new it(228/255,75/255,13/255)],[28/36,new it(224/255,66/255,11/255)],[29/36,new it(219/255,57/255,10/255)],[30/36,new it(215/255,48/255,8/255)],[31/36,new it(211/255,39/255,7/255)],[32/36,new it(206/255,31/255,5/255)],[33/36,new it(202/255,23/255,4/255)],[34/36,new it(197/255,15/255,2/255)],[35/36,new it(193/255,7/255,1/255)],[36/36,new it(188/255,0/255,0/255)]],classificationColors:{0:new Ut(.5,.5,.5,1),1:new Ut(1,1,1,1),2:new Ut(177/255,110/255,13/255,1),3:new Ut(43/255,143/255,81/255,1),4:new Ut(39/255,149/255,48/255,1),5:new Ut(60/255,155/255,34/255,1),6:new Ut(188/255,0/255,0/255,1),7:new Ut(158/255,30/255,160/255,1),8:new Ut(166/255,25/255,139/255,1),9:new Ut(52/255,106/255,127/255,1),10:new Ut(49/255,132/255,130/255,1),11:new Ut(182/255,59/255,7/255,1),12:new Ut(171/255,155/255,19/255,1),13:new Ut(166/255,25/255,139/255,1),14:new Ut(129/255,34/255,155/255,1),15:new Ut(182/255,7/255,42/255,1),16:new Ut(158/255,30/255,160/255,1),17:new Ut(46/255,138/255,108/255,1),18:new Ut(158/255,30/255,160/255,1),19:new Ut(188/255,10/255,10/255,1),20:new Ut(188/255,20/255,20/255,1),21:new Ut(188/255,30/255,30/255,1),22:new Ut(188/255,40/255,40/255,1),23:new Ut(188/255,50/255,50/255,1),24:new Ut(188/255,60/255,60/255,1),25:new Ut(188/255,70/255,70/255,1),26:new Ut(188/255,80/255,80/255,1),27:new Ut(188/255,90/255,90/255,1),28:new Ut(188/255,100/255,100/255,1),29:new Ut(188/255,110/255,110/255,1),30:new Ut(188/255,120/255,120/255,1),31:new Ut(188/255,130/255,130/255,1),DEFAULT:new Ut(.5,.5,.5,1)}};var mk=Object.defineProperty,bk=Object.defineProperties,yk=Object.getOwnPropertyDescriptors,WG=Object.getOwnPropertySymbols,Gk=Object.prototype.hasOwnProperty,Zk=Object.prototype.propertyIsEnumerable,LG=(t,i,e)=>i in t?mk(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e,Xk=(t,i)=>{for(var e in i||(i={}))Gk.call(i,e)&&LG(t,e,i[e]);if(WG)for(var e of WG(i))Zk.call(i,e)&&LG(t,e,i[e]);return t},Tk=(t,i)=>bk(t,yk(i));class Rk{constructor(i){this.raycaster=new gh,this.pickPointclouds=!0,this.pickModels=!0,this.pickDepth=!0,this.pickInteractive=!1,this.mouse=i.mouse,this.domEl=i.domEl,this.camera=i.camera,this.scenePickable=i.scenePickable,this.sceneStatic=i.sceneStatic,this.modules=i.modules}getFaceNormal(i){const e=new _t;i.object.updateWorldMatrix(!0,!1),e.extractRotation(i.object.matrixWorld);const s=i.face;if(!s)return null;const n=s.normal.clone();return n.applyMatrix4(e),n}pick(i){const e=i||new Wt(this.mouse.x/this.domEl.clientWidth*2-1,-(this.mouse.y/this.domEl.clientHeight)*2+1);this.raycaster.setFromCamera(e,this.camera);let s=[];if(this.pickModels){const l=this.raycaster.intersectObjects(this.scenePickable.children,!0).filter(r=>{const a=r.object.visible,o=typeof r.object.userData.isPickable<"u"&&r.object.userData.isPickable,c=typeof r.object.userData.isInteractive<"u"&&r.object.userData.isInteractive;return a&&o&&!c});if(l.length>0){const r=l.map(a=>Tk(Xk({},a),{objectType:"mesh",normal:this.getFaceNormal(a)}));s.push(...r)}}if(this.pickDepth&&this.modules.photoSpheres&&this.modules.photoSpheres.hasDepthData()){const n=this.modules.photoSpheres.pick(this.raycaster);n&&s.push(n)}if(this.pickPointclouds&&this.modules.pointclouds){const n=this.modules.pointclouds.pick({raycaster:this.raycaster});n&&s.push(n)}return s.length>0?(s.sort((n,l)=>n.distance-l.distance),s[0]):null}intersectPlane(i){let e=new z;const s=new Wt(this.mouse.x/this.domEl.clientWidth*2-1,-(this.mouse.y/this.domEl.clientHeight)*2+1);return this.raycaster.setFromCamera(s,this.camera),this.raycaster.ray.intersectPlane(i,e)?{point:e,distance:this.camera.position.distanceTo(e),objectType:"plane",object:new we}:null}}var Ik=(t,i,e)=>new Promise((s,n)=>{var l=o=>{try{a(e.next(o))}catch(c){n(c)}},r=o=>{try{a(e.throw(o))}catch(c){n(c)}},a=o=>o.done?s(o.value):Promise.resolve(o.value).then(l,r);a((e=e.apply(t,i)).next())});class SG{constructor(i){this.raycastDelta=0,this.updateHooks=[],this.scene=i.scene,this.camera=i.camera,this.renderer=i.renderer,this.domEl=i.domEl,this.sceneStatic=new Jn,this.scenePointCloud=new Jn,this.scenePickable=new Jn,this.sceneLabels=new Jn,this.referenceFrame=typeof i.referenceFrame<"u"?i.referenceFrame:new jy,this.mouse=new Wt,this.scene.background=new it(2109510),this.events=new Ei,this.raycastActive=!0,this.raycaster=new gh,this.dragActive=!1,this.mouseDownActive=!1,this.touchDownActive=!1,this.picker=new Rk({mouse:this.mouse,domEl:this.domEl,camera:this.camera,scenePickable:this.scenePickable,sceneStatic:this.sceneStatic,modules:this}),this.binds(),this.addListeners(),this.mouseDownRightStarted=Date.now(),this.mouseDownLeftStarted=Date.now(),this.disposeCount={geometry:0,material:0,pcoGeometry:0,points:0,nodes:0}}setupLights(i){const e=new Au(16772863,.8);e.position.set(1,1,1),i.add(e);const s=new Au(16777215,.8);s.position.set(-1,.5,-1),i.add(s);const n=new Fy(16777198,.25);i.add(n)}render(){this.freezeRenderAndUpdate||(this.renderer.clear(),this.renderer.render(this.scene,this.camera),this.pointclouds&&this.pointclouds.render(),this.renderer.render(this.scenePickable,this.camera),this.renderer.render(this.sceneStatic,this.camera),this.renderer.render(this.sceneLabels,this.camera))}raycast(){const i=new Wt(this.mouse.x/this.domEl.clientWidth*2-1,-(this.mouse.y/this.domEl.clientHeight)*2+1);return this.raycaster.setFromCamera(i,this.camera),this.raycaster.intersectObjects(this.scenePickable.children,!0)}disposeMaterial(i){i.map&&i.map.dispose(),i.lightMap&&i.lightMap.dispose(),i.bumpMap&&i.bumpMap.dispose(),i.normalMap&&i.normalMap.dispose(),i.specularMap&&i.specularMap.dispose(),i.envMap&&i.envMap.dispose(),i.dispose()}recursiveRemove(i){if(Array.isArray(i))for(const e of i)for(;e.children.length>0;)e.children[0].children.length>0&&this.recursiveRemove(e.children[0].children),e.remove(e.children[0]),this.disposeCount.nodes++;else for(;i.children.length>0;)i.children[0].children.length>0&&this.recursiveRemove(i.children[0].children),i.remove(i.children[0]),this.disposeCount.nodes++}disposeScene(i){i.traverse(e=>{e.geometry&&(e.geometry.dispose(),e.geometry=void 0,this.disposeCount.geometry++),e.pcoGeometry&&this.disposeCount.pcoGeometry++,e.type==="Points"&&this.disposeCount.points++,e.material&&(this.disposeMaterial(e.material),e.material=void 0,this.disposeCount.material++),e.texture&&(e.texture.dispose(),e.texture=void 0)}),this.recursiveRemove(i)}dispose(){this.freezeRenderAndUpdate=!0,this.disposeCount={geometry:0,material:0,pcoGeometry:0,points:0,nodes:0},this.hoveredElement&&(this.hoveredElement.material.dispose(),this.hoveredElement.geometry.dispose(),this.hoveredElement=void 0),this.pointclouds&&(this.pointclouds.dispose(),this.pointclouds=void 0),this.photoSpheres&&(this.photoSpheres.dispose(),this.photoSpheres=void 0),this.disposeScene(this.scene),this.disposeScene(this.scenePointCloud),this.disposeScene(this.scenePickable),this.disposeScene(this.sceneLabels),this.disposeScene(this.sceneStatic),this.renderer.dispose(),this.renderer.forceContextLoss(),this.removeListeners()}handleRegisterUpdateHook(i){this.registerUpdateHook(i.detail.fn)}registerUpdateHook(i){this.updateHooks.push(i)}update(i){if(!this.freezeRenderAndUpdate){this.pointclouds&&this.pointclouds.update(),this.photoSpheres&&this.photoSpheres.update();for(let e of this.updateHooks)e(i);if(this.raycastActive&&!this.disableRaycast&&!this.mouseDownActive&&!this.touchDownActive){if(this.raycastDelta+=i,this.raycastDelta<.1)return;this.raycastDelta=0;const s=this.raycast().filter(n=>n.object.userData.isInteractive);if(s.length>0){const n=s[0].object;this.hoveredElement!==n&&this.hoveredElement!==void 0&&this.hoveredElement.dispatchEvent({type:"hover_out"}),!n.userData.hoverActive&&n.visible&&(n.parent&&n.parent.visible||!n.parent)&&n.dispatchEvent({type:"hover_in"}),this.hoveredElement=n}else this.hoveredElement!==void 0&&(this.hoveredElement.dispatchEvent({type:"hover_out"}),this.hoveredElement=void 0)}}}loadPhotoSpheres(i,e){return typeof this.photoSpheres>"u"&&(this.photoSpheres=new Oy({scene:this.scenePickable,sceneLabels:this.sceneLabels,domEl:this.domEl,mouse:this.mouse,camera:this.camera,referenceFrame:this.referenceFrame})),this.photoSpheres.load(i,e)}createPointcloudModule(){this.pointclouds=new gG({scene:this.scenePointCloud,camera:this.camera,renderer:this.renderer,domEl:this.domEl,referenceFrame:this.referenceFrame})}loadPointcloud(i){return Ik(this,arguments,function*(e,s={}){return typeof this.pointclouds>"u"&&this.createPointcloudModule(),yield this.pointclouds.loadInternal(e,{xhrInit:s.xhrInit,queryString:s.queryString})})}updateMouseFromTouch(i){const e=this.domEl.getBoundingClientRect();this.mouse.x=i.touches[0].clientX-e.left,this.mouse.y=i.touches[0].clientY-e.top}handleMouseMove(i){const e=this.domEl.getBoundingClientRect();this.mouse.x=i.clientX-e.left,this.mouse.y=i.clientY-e.top,this.events.dispatch("pointscene_on_mousemove",{mouse:this.mouse},this.domEl),this.mouseDownActive&&this.hoveredElement&&(this.dragActive?this.hoveredElement.dispatchEvent({type:"drag"}):(this.hoveredElement.dispatchEvent({type:"drag_start",intersects:this.raycast()}),this.dragActive=!0))}handleTouchMove(i){this.updateMouseFromTouch(i),i.preventDefault(),this.touchDownActive&&this.hoveredElement&&(this.dragActive?this.hoveredElement.dispatchEvent({type:"drag"}):(this.hoveredElement.dispatchEvent({type:"drag_start",intersects:this.raycast()}),this.dragActive=!0))}handleTouchStart(i){this.updateMouseFromTouch(i),i.touches.length===1&&(this.touchDownActive=!0)}handleTouchEnd(){this.touchDownActive=!1,this.dragActive&&this.hoveredElement&&(this.hoveredElement.dispatchEvent({type:"drag_end"}),this.dragActive=!1)}isHoveredInteractive(){return this.hoveredElement?!!this.hoveredElement.userData.isInteractive:!1}handleMouseDown(i){var e;const s=i.target;if(!(s.tagName!=="CANVAS"||((e=s.parentElement)==null?void 0:e.id)!==this.domEl.id))switch(i.button){case 0:this.mouseDownActive=!0,this.mouseDownLeftStarted=Date.now();const n=this.picker.pick();n&&!this.isHoveredInteractive()&&this.events.dispatch(ee.UpdateOrbitPoint,{point:n.point},this.domEl);break;case 2:this.mouseDownRightStarted=Date.now();break}}handleMouseUp(i){if(!!this.mouseDownActive)switch(this.events.dispatch("pointscene_camera_position_changed",{position:{x:this.camera.position.x,y:this.camera.position.y,z:this.camera.position.z}},this.domEl),i.button){case 0:const e=Date.now()-this.mouseDownLeftStarted;e<300&&(this.dragActive=!1),this.mouseDownActive=!1,this.dragActive&&this.hoveredElement?(this.hoveredElement.dispatchEvent({type:"drag_end"}),this.dragActive=!1):e<150&&this.raycastActive&&this.events.dispatch("pointscene_on_leftclick",{},this.domEl);break;case 2:this.mouseDownActive||Date.now()-this.mouseDownRightStarted<300&&this.events.dispatch("pointscene_on_rightclick",{},this.domEl);break}}binds(){this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleTouchEnd=this.handleTouchEnd.bind(this),this.handleTouchMove=this.handleTouchMove.bind(this),this.handleTouchStart=this.handleTouchStart.bind(this),this.handleRegisterUpdateHook=this.handleRegisterUpdateHook.bind(this)}addListeners(){this.domEl.addEventListener("mousemove",this.handleMouseMove,!1),this.domEl.addEventListener("touchmove",this.handleTouchMove,!1),this.domEl.addEventListener("touchstart",this.handleTouchStart,!1),this.domEl.addEventListener("touchend",this.handleTouchEnd,!1),this.domEl.addEventListener("mousedown",this.handleMouseDown,!1),this.domEl.addEventListener("mouseup",this.handleMouseUp,!1),this.domEl.addEventListener(ee.RegisterUpdateHook,this.handleRegisterUpdateHook,!1)}removeListeners(){this.domEl.removeEventListener("mousemove",this.handleMouseMove,!1),this.domEl.removeEventListener("touchmove",this.handleTouchMove,!1),this.domEl.removeEventListener("touchstart",this.handleTouchStart,!1),this.domEl.removeEventListener("touchend",this.handleTouchEnd,!1),this.domEl.removeEventListener("mousedown",this.handleMouseDown,!1),this.domEl.removeEventListener("mouseup",this.handleMouseUp,!1),this.domEl.removeEventListener(ee.RegisterUpdateHook,this.handleRegisterUpdateHook,!1)}}const op=window.ShadowRoot&&(window.ShadyCSS===void 0||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,cp=Symbol(),CG=new Map;class fG{constructor(i,e){if(this._$cssResult$=!0,e!==cp)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=i}get styleSheet(){let i=CG.get(this.cssText);return op&&i===void 0&&(CG.set(this.cssText,i=new CSSStyleSheet),i.replaceSync(this.cssText)),i}toString(){return this.cssText}}const gk=t=>new fG(typeof t=="string"?t:t+"",cp),nn=(t,...i)=>{const e=t.length===1?t[0]:i.reduce((s,n,l)=>s+(r=>{if(r._$cssResult$===!0)return r.cssText;if(typeof r=="number")return r;throw Error("Value passed to 'css' function must be a 'css' function result: "+r+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+t[l+1],t[0]);return new fG(e,cp)},Wk=(t,i)=>{op?t.adoptedStyleSheets=i.map(e=>e instanceof CSSStyleSheet?e:e.styleSheet):i.forEach(e=>{const s=document.createElement("style"),n=window.litNonce;n!==void 0&&s.setAttribute("nonce",n),s.textContent=e.cssText,t.appendChild(s)})},VG=op?t=>t:t=>t instanceof CSSStyleSheet?(i=>{let e="";for(const s of i.cssRules)e+=s.cssText;return gk(e)})(t):t;var hp;const xG=window.trustedTypes,Lk=xG?xG.emptyScript:"",NG=window.reactiveElementPolyfillSupport,dp={toAttribute(t,i){switch(i){case Boolean:t=t?Lk:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,i){let e=t;switch(i){case Boolean:e=t!==null;break;case Number:e=t===null?null:Number(t);break;case Object:case Array:try{e=JSON.parse(t)}catch{e=null}}return e}},FG=(t,i)=>i!==t&&(i==i||t==t),up={attribute:!0,type:String,converter:dp,reflect:!1,hasChanged:FG};class ha extends HTMLElement{constructor(){super(),this._$Et=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Ei=null,this.o()}static addInitializer(i){var e;(e=this.l)!==null&&e!==void 0||(this.l=[]),this.l.push(i)}static get observedAttributes(){this.finalize();const i=[];return this.elementProperties.forEach((e,s)=>{const n=this._$Eh(s,e);n!==void 0&&(this._$Eu.set(n,s),i.push(n))}),i}static createProperty(i,e=up){if(e.state&&(e.attribute=!1),this.finalize(),this.elementProperties.set(i,e),!e.noAccessor&&!this.prototype.hasOwnProperty(i)){const s=typeof i=="symbol"?Symbol():"__"+i,n=this.getPropertyDescriptor(i,s,e);n!==void 0&&Object.defineProperty(this.prototype,i,n)}}static getPropertyDescriptor(i,e,s){return{get(){return this[e]},set(n){const l=this[i];this[e]=n,this.requestUpdate(i,l,s)},configurable:!0,enumerable:!0}}static getPropertyOptions(i){return this.elementProperties.get(i)||up}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const i=Object.getPrototypeOf(this);if(i.finalize(),this.elementProperties=new Map(i.elementProperties),this._$Eu=new Map,this.hasOwnProperty("properties")){const e=this.properties,s=[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)];for(const n of s)this.createProperty(n,e[n])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(i){const e=[];if(Array.isArray(i)){const s=new Set(i.flat(1/0).reverse());for(const n of s)e.unshift(VG(n))}else i!==void 0&&e.push(VG(i));return e}static _$Eh(i,e){const s=e.attribute;return s===!1?void 0:typeof s=="string"?s:typeof i=="string"?i.toLowerCase():void 0}o(){var i;this._$Ep=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$Em(),this.requestUpdate(),(i=this.constructor.l)===null||i===void 0||i.forEach(e=>e(this))}addController(i){var e,s;((e=this._$Eg)!==null&&e!==void 0?e:this._$Eg=[]).push(i),this.renderRoot!==void 0&&this.isConnected&&((s=i.hostConnected)===null||s===void 0||s.call(i))}removeController(i){var e;(e=this._$Eg)===null||e===void 0||e.splice(this._$Eg.indexOf(i)>>>0,1)}_$Em(){this.constructor.elementProperties.forEach((i,e)=>{this.hasOwnProperty(e)&&(this._$Et.set(e,this[e]),delete this[e])})}createRenderRoot(){var i;const e=(i=this.shadowRoot)!==null&&i!==void 0?i:this.attachShadow(this.constructor.shadowRootOptions);return Wk(e,this.constructor.elementStyles),e}connectedCallback(){var i;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(i=this._$Eg)===null||i===void 0||i.forEach(e=>{var s;return(s=e.hostConnected)===null||s===void 0?void 0:s.call(e)})}enableUpdating(i){}disconnectedCallback(){var i;(i=this._$Eg)===null||i===void 0||i.forEach(e=>{var s;return(s=e.hostDisconnected)===null||s===void 0?void 0:s.call(e)})}attributeChangedCallback(i,e,s){this._$AK(i,s)}_$ES(i,e,s=up){var n,l;const r=this.constructor._$Eh(i,s);if(r!==void 0&&s.reflect===!0){const a=((l=(n=s.converter)===null||n===void 0?void 0:n.toAttribute)!==null&&l!==void 0?l:dp.toAttribute)(e,s.type);this._$Ei=i,a==null?this.removeAttribute(r):this.setAttribute(r,a),this._$Ei=null}}_$AK(i,e){var s,n,l;const r=this.constructor,a=r._$Eu.get(i);if(a!==void 0&&this._$Ei!==a){const o=r.getPropertyOptions(a),c=o.converter,h=(l=(n=(s=c)===null||s===void 0?void 0:s.fromAttribute)!==null&&n!==void 0?n:typeof c=="function"?c:null)!==null&&l!==void 0?l:dp.fromAttribute;this._$Ei=a,this[a]=h(e,o.type),this._$Ei=null}}requestUpdate(i,e,s){let n=!0;i!==void 0&&(((s=s||this.constructor.getPropertyOptions(i)).hasChanged||FG)(this[i],e)?(this._$AL.has(i)||this._$AL.set(i,e),s.reflect===!0&&this._$Ei!==i&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(i,s))):n=!1),!this.isUpdatePending&&n&&(this._$Ep=this._$E_())}async _$E_(){this.isUpdatePending=!0;try{await this._$Ep}catch(e){Promise.reject(e)}const i=this.scheduleUpdate();return i!=null&&await i,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var i;if(!this.isUpdatePending)return;this.hasUpdated,this._$Et&&(this._$Et.forEach((n,l)=>this[l]=n),this._$Et=void 0);let e=!1;const s=this._$AL;try{e=this.shouldUpdate(s),e?(this.willUpdate(s),(i=this._$Eg)===null||i===void 0||i.forEach(n=>{var l;return(l=n.hostUpdate)===null||l===void 0?void 0:l.call(n)}),this.update(s)):this._$EU()}catch(n){throw e=!1,this._$EU(),n}e&&this._$AE(s)}willUpdate(i){}_$AE(i){var e;(e=this._$Eg)===null||e===void 0||e.forEach(s=>{var n;return(n=s.hostUpdated)===null||n===void 0?void 0:n.call(s)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(i)),this.updated(i)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Ep}shouldUpdate(i){return!0}update(i){this._$EC!==void 0&&(this._$EC.forEach((e,s)=>this._$ES(s,this[s],e)),this._$EC=void 0),this._$EU()}updated(i){}firstUpdated(i){}}ha.finalized=!0,ha.elementProperties=new Map,ha.elementStyles=[],ha.shadowRootOptions={mode:"open"},NG==null||NG({ReactiveElement:ha}),((hp=globalThis.reactiveElementVersions)!==null&&hp!==void 0?hp:globalThis.reactiveElementVersions=[]).push("1.3.0");var pp;const da=globalThis.trustedTypes,MG=da?da.createPolicy("lit-html",{createHTML:t=>t}):void 0,Il=`lit$${(Math.random()+"").slice(9)}$`,YG="?"+Il,Sk=`<${YG}>`,ua=document,xo=(t="")=>ua.createComment(t),No=t=>t===null||typeof t!="object"&&typeof t!="function",vG=Array.isArray,Ck=t=>{var i;return vG(t)||typeof((i=t)===null||i===void 0?void 0:i[Symbol.iterator])=="function"},Fo=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,EG=/-->/g,zG=/>/g,ql=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,HG=/'/g,KG=/"/g,wG=/^(?:script|style|textarea|title)$/i,fk=t=>(i,...e)=>({_$litType$:t,strings:i,values:e}),as=fk(1),pa=Symbol.for("lit-noChange"),Ds=Symbol.for("lit-nothing"),kG=new WeakMap,Vk=(t,i,e)=>{var s,n;const l=(s=e==null?void 0:e.renderBefore)!==null&&s!==void 0?s:i;let r=l._$litPart$;if(r===void 0){const a=(n=e==null?void 0:e.renderBefore)!==null&&n!==void 0?n:null;l._$litPart$=r=new Yo(i.insertBefore(xo(),a),a,void 0,e??{})}return r._$AI(t),r},ma=ua.createTreeWalker(ua,129,null,!1),xk=(t,i)=>{const e=t.length-1,s=[];let n,l=i===2?"<svg>":"",r=Fo;for(let o=0;o<e;o++){const c=t[o];let h,d,u=-1,p=0;for(;p<c.length&&(r.lastIndex=p,d=r.exec(c),d!==null);)p=r.lastIndex,r===Fo?d[1]==="!--"?r=EG:d[1]!==void 0?r=zG:d[2]!==void 0?(wG.test(d[2])&&(n=RegExp("</"+d[2],"g")),r=ql):d[3]!==void 0&&(r=ql):r===ql?d[0]===">"?(r=n??Fo,u=-1):d[1]===void 0?u=-2:(u=r.lastIndex-d[2].length,h=d[1],r=d[3]===void 0?ql:d[3]==='"'?KG:HG):r===KG||r===HG?r=ql:r===EG||r===zG?r=Fo:(r=ql,n=void 0);const Z=r===ql&&t[o+1].startsWith("/>")?" ":"";l+=r===Fo?c+Sk:u>=0?(s.push(h),c.slice(0,u)+"$lit$"+c.slice(u)+Il+Z):c+Il+(u===-2?(s.push(void 0),o):Z)}const a=l+(t[e]||"<?>")+(i===2?"</svg>":"");if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return[MG!==void 0?MG.createHTML(a):a,s]};class Mo{constructor({strings:i,_$litType$:e},s){let n;this.parts=[];let l=0,r=0;const a=i.length-1,o=this.parts,[c,h]=xk(i,e);if(this.el=Mo.createElement(c,s),ma.currentNode=this.el.content,e===2){const d=this.el.content,u=d.firstChild;u.remove(),d.append(...u.childNodes)}for(;(n=ma.nextNode())!==null&&o.length<a;){if(n.nodeType===1){if(n.hasAttributes()){const d=[];for(const u of n.getAttributeNames())if(u.endsWith("$lit$")||u.startsWith(Il)){const p=h[r++];if(d.push(u),p!==void 0){const Z=n.getAttribute(p.toLowerCase()+"$lit$").split(Il),X=/([.?@])?(.*)/.exec(p);o.push({type:1,index:l,name:X[2],strings:Z,ctor:X[1]==="."?Fk:X[1]==="?"?Yk:X[1]==="@"?vk:xh})}else o.push({type:6,index:l})}for(const u of d)n.removeAttribute(u)}if(wG.test(n.tagName)){const d=n.textContent.split(Il),u=d.length-1;if(u>0){n.textContent=da?da.emptyScript:"";for(let p=0;p<u;p++)n.append(d[p],xo()),ma.nextNode(),o.push({type:2,index:++l});n.append(d[u],xo())}}}else if(n.nodeType===8)if(n.data===YG)o.push({type:2,index:l});else{let d=-1;for(;(d=n.data.indexOf(Il,d+1))!==-1;)o.push({type:7,index:l}),d+=Il.length-1}l++}}static createElement(i,e){const s=ua.createElement("template");return s.innerHTML=i,s}}function ba(t,i,e=t,s){var n,l,r,a;if(i===pa)return i;let o=s!==void 0?(n=e._$Cl)===null||n===void 0?void 0:n[s]:e._$Cu;const c=No(i)?void 0:i._$litDirective$;return(o==null?void 0:o.constructor)!==c&&((l=o==null?void 0:o._$AO)===null||l===void 0||l.call(o,!1),c===void 0?o=void 0:(o=new c(t),o._$AT(t,e,s)),s!==void 0?((r=(a=e)._$Cl)!==null&&r!==void 0?r:a._$Cl=[])[s]=o:e._$Cu=o),o!==void 0&&(i=ba(t,o._$AS(t,i.values),o,s)),i}class Nk{constructor(i,e){this.v=[],this._$AN=void 0,this._$AD=i,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(i){var e;const{el:{content:s},parts:n}=this._$AD,l=((e=i==null?void 0:i.creationScope)!==null&&e!==void 0?e:ua).importNode(s,!0);ma.currentNode=l;let r=ma.nextNode(),a=0,o=0,c=n[0];for(;c!==void 0;){if(a===c.index){let h;c.type===2?h=new Yo(r,r.nextSibling,this,i):c.type===1?h=new c.ctor(r,c.name,c.strings,this,i):c.type===6&&(h=new Ek(r,this,i)),this.v.push(h),c=n[++o]}a!==(c==null?void 0:c.index)&&(r=ma.nextNode(),a++)}return l}m(i){let e=0;for(const s of this.v)s!==void 0&&(s.strings!==void 0?(s._$AI(i,s,e),e+=s.strings.length-2):s._$AI(i[e])),e++}}class Yo{constructor(i,e,s,n){var l;this.type=2,this._$AH=Ds,this._$AN=void 0,this._$AA=i,this._$AB=e,this._$AM=s,this.options=n,this._$Cg=(l=n==null?void 0:n.isConnected)===null||l===void 0||l}get _$AU(){var i,e;return(e=(i=this._$AM)===null||i===void 0?void 0:i._$AU)!==null&&e!==void 0?e:this._$Cg}get parentNode(){let i=this._$AA.parentNode;const e=this._$AM;return e!==void 0&&i.nodeType===11&&(i=e.parentNode),i}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(i,e=this){i=ba(this,i,e),No(i)?i===Ds||i==null||i===""?(this._$AH!==Ds&&this._$AR(),this._$AH=Ds):i!==this._$AH&&i!==pa&&this.$(i):i._$litType$!==void 0?this.T(i):i.nodeType!==void 0?this.k(i):Ck(i)?this.S(i):this.$(i)}A(i,e=this._$AB){return this._$AA.parentNode.insertBefore(i,e)}k(i){this._$AH!==i&&(this._$AR(),this._$AH=this.A(i))}$(i){this._$AH!==Ds&&No(this._$AH)?this._$AA.nextSibling.data=i:this.k(ua.createTextNode(i)),this._$AH=i}T(i){var e;const{values:s,_$litType$:n}=i,l=typeof n=="number"?this._$AC(i):(n.el===void 0&&(n.el=Mo.createElement(n.h,this.options)),n);if(((e=this._$AH)===null||e===void 0?void 0:e._$AD)===l)this._$AH.m(s);else{const r=new Nk(l,this),a=r.p(this.options);r.m(s),this.k(a),this._$AH=r}}_$AC(i){let e=kG.get(i.strings);return e===void 0&&kG.set(i.strings,e=new Mo(i)),e}S(i){vG(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let s,n=0;for(const l of i)n===e.length?e.push(s=new Yo(this.A(xo()),this.A(xo()),this,this.options)):s=e[n],s._$AI(l),n++;n<e.length&&(this._$AR(s&&s._$AB.nextSibling,n),e.length=n)}_$AR(i=this._$AA.nextSibling,e){var s;for((s=this._$AP)===null||s===void 0||s.call(this,!1,!0,e);i&&i!==this._$AB;){const n=i.nextSibling;i.remove(),i=n}}setConnected(i){var e;this._$AM===void 0&&(this._$Cg=i,(e=this._$AP)===null||e===void 0||e.call(this,i))}}class xh{constructor(i,e,s,n,l){this.type=1,this._$AH=Ds,this._$AN=void 0,this.element=i,this.name=e,this._$AM=n,this.options=l,s.length>2||s[0]!==""||s[1]!==""?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=Ds}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(i,e=this,s,n){const l=this.strings;let r=!1;if(l===void 0)i=ba(this,i,e,0),r=!No(i)||i!==this._$AH&&i!==pa,r&&(this._$AH=i);else{const a=i;let o,c;for(i=l[0],o=0;o<l.length-1;o++)c=ba(this,a[s+o],e,o),c===pa&&(c=this._$AH[o]),r||(r=!No(c)||c!==this._$AH[o]),c===Ds?i=Ds:i!==Ds&&(i+=(c??"")+l[o+1]),this._$AH[o]=c}r&&!n&&this.C(i)}C(i){i===Ds?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,i??"")}}class Fk extends xh{constructor(){super(...arguments),this.type=3}C(i){this.element[this.name]=i===Ds?void 0:i}}const Mk=da?da.emptyScript:"";class Yk extends xh{constructor(){super(...arguments),this.type=4}C(i){i&&i!==Ds?this.element.setAttribute(this.name,Mk):this.element.removeAttribute(this.name)}}class vk extends xh{constructor(i,e,s,n,l){super(i,e,s,n,l),this.type=5}_$AI(i,e=this){var s;if((i=(s=ba(this,i,e,0))!==null&&s!==void 0?s:Ds)===pa)return;const n=this._$AH,l=i===Ds&&n!==Ds||i.capture!==n.capture||i.once!==n.once||i.passive!==n.passive,r=i!==Ds&&(n===Ds||l);l&&this.element.removeEventListener(this.name,this,n),r&&this.element.addEventListener(this.name,this,i),this._$AH=i}handleEvent(i){var e,s;typeof this._$AH=="function"?this._$AH.call((s=(e=this.options)===null||e===void 0?void 0:e.host)!==null&&s!==void 0?s:this.element,i):this._$AH.handleEvent(i)}}class Ek{constructor(i,e,s){this.element=i,this.type=6,this._$AN=void 0,this._$AM=e,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(i){ba(this,i)}}const PG=window.litHtmlPolyfillSupport;PG==null||PG(Mo,Yo),((pp=globalThis.litHtmlVersions)!==null&&pp!==void 0?pp:globalThis.litHtmlVersions=[]).push("2.2.0");var mp,bp;class bi extends ha{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var i,e;const s=super.createRenderRoot();return(i=(e=this.renderOptions).renderBefore)!==null&&i!==void 0||(e.renderBefore=s.firstChild),s}update(i){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(i),this._$Dt=Vk(e,this.renderRoot,this.renderOptions)}connectedCallback(){var i;super.connectedCallback(),(i=this._$Dt)===null||i===void 0||i.setConnected(!0)}disconnectedCallback(){var i;super.disconnectedCallback(),(i=this._$Dt)===null||i===void 0||i.setConnected(!1)}render(){return pa}}bi.finalized=!0,bi._$litElement$=!0,(mp=globalThis.litElementHydrateSupport)===null||mp===void 0||mp.call(globalThis,{LitElement:bi});const UG=globalThis.litElementPolyfillSupport;UG==null||UG({LitElement:bi}),((bp=globalThis.litElementVersions)!==null&&bp!==void 0?bp:globalThis.litElementVersions=[]).push("3.2.0");const In=t=>i=>typeof i=="function"?((e,s)=>(window.customElements.define(e,s),s))(t,i):((e,s)=>{const{kind:n,elements:l}=s;return{kind:n,elements:l,finisher(r){window.customElements.define(e,r)}}})(t,i);const zk=(t,i)=>i.kind==="method"&&i.descriptor&&!("value"in i.descriptor)?{...i,finisher(e){e.createProperty(i.key,t)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:i.key,initializer(){typeof i.initializer=="function"&&(this[i.key]=i.initializer.call(this))},finisher(e){e.createProperty(i.key,t)}};function Qe(t){return(i,e)=>e!==void 0?((s,n,l)=>{n.constructor.createProperty(l,s)})(t,i,e):zk(t,i)}function Fs(t){return Qe({...t,state:!0})}var yp;((yp=window.HTMLSlotElement)===null||yp===void 0?void 0:yp.prototype.assignedElements)!=null;const $l=nn`
  :host {
    font-family: 'Open Sans';
    margin: 0px;
    padding: 0px;
    padding-top: 4px;
    padding-bottom: 4px;
    opacity: 0.90;
    background-color: white;
    color: #365379;
    border-radius: 5px;
    border-color: #365379;
    width: 100%;
    z-index: 100;
  }

  .pointscene-ui-expand-toggle {
    background-color: #fff;
    color: #365379;
    position: absolute;
    border-radius: 5px;
    left: -28px;
    top: 10px;
    width: 35px;
    height: 30px;
  }
  .pointscene-ui-expand-toggle-icon {
    position: absolute;
    top: 4px;
    left: 4px;
    -webkit-transform: rotate(90deg);
    -moz-transform: rotate(90deg);
    -o-transform: rotate(90deg);
    -ms-transform: rotate(90deg);
    transform: rotate(90deg);
  }
  .pointscene-ui-expand-toggle:hover {
    background-color: #eee;
    cursor: pointer;
  }
  .pointscene-header {
    text-align: center;
    position: relative;
    top: 2px;
    padding: 4px;
    font-size: 14px;
    cursor: pointer;
    width: 94%;
    height: 24px;
  }
  .pointscene-header-icon {
    position: absolute;
    left: 8px;
    top: 6px;
  }
  .pointscene-header-title {
    position: absolute;
    left: 32px;
    top: 6px;
  }
  .pointscene-header-toggle {
    position: absolute;
    right: 12px;
    top: 6px;
  }
  .pointscene-header:hover {
    background-color: #eee;
  }
  .pointscene-expanded-content {
    padding-top: 4px;
    padding-bottom: 4px;
    animation: append-animate .2s linear;
  }
  hr {
    border-top: 1px solid #365379;
    width: 60px;
    opacity: 0.4;
    margin-top: 16px;
  }
  .offset-bottom-4px {
    bottom: 4px;
    position: relative;
  }
  .expand-mark {
    position: absolute;
    right: -12px;
    top: 0px;
  }

  @keyframes append-animate {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
`,Hk=nn`
.pointscene-collapsible-button {
  border-width: 0px;
  border-radius: 0px;
  width: 100%;
  height: 24px;
  font-size: 12px;
  padding-top: 0px;
  background-color: white;
  color: #f26812;
  transition: all 0.3s ease 0s;
}
.pointscene-collapsible-button:hover {
  cursor: pointer;
  background-color: #eee;
}
`,DG=nn`
.pointscene-cancel-button {
  border-width: 0px;
  border-radius: 0px;
  width: 48%;
  height: 24px;
  font-size: 12px;
  background-color: white;
  color: #bc0000;
  transition: all 0.3s ease 0s;
}
.pointscene-cancel-button:hover {
  cursor: pointer;
  background-color: #eee;
}
`,Kk=nn`
.pointscene-basic-button {
  border-width: 0px;
  border-radius: 0px;
  width: 48%;
  height: 24px;
  font-size: 12px;
  background-color: white;
  color: #365379;
  transition: all 0.3s ease 0s;
}
.pointscene-basic-button:hover {
  cursor: pointer;
  background-color: #eee;
}
`,wk=nn`
.pointscene-switch {
  position: relative;
  display: inline-block;
  width: 32px;
  height: 16px;
  left: 4px;
}

.pointscene-switch input {
  opacity: 0;
  width: 0px;
  height: 0px;
}

.pointscene-slider {
  position: absolute;
  cursor: pointer;
  top: 0px;
  left: 4px;
  right: 0px;
  bottom: 0px;
  background-color: #ccc;
  -webkit-transition: .4s;
  transition: .4s;
}

.pointscene-slider:before {
  position: absolute;
  content: "";
  height: 12px;
  width: 12px;
  left: 2px;
  bottom: 2px;
  background-color: white;
  -webkit-transition: .4s;
  transition: .4s;
}

input:checked + .pointscene-slider {
  background-color: #365379;
}

input:disabled + .pointscene-slider {
  background-color: #eee;
}

input:focus + .pointscene-slider {
  box-shadow: 0 0 1px #365379;
}

input:checked + .pointscene-slider:before {
  -webkit-transform: translateX(12px);
  -ms-transform: translateX(12px);
  transform: translateX(12px);
}

/* Rounded sliders */
.pointscene-slider.round {
  border-radius: 10px;
}

.pointscene-slider.round:before {
  border-radius: 50%;
}

.pointscene-switch-label {
  position: absolute;
  top: 0px;
  left: 36px;
  width: 110px;
  cursor: pointer;
  font-size: 12px;
  text-overflow: ellipsis;
  white-space: nowrap;
  overflow: hidden;
}
`;var he;(function(t){t[t.NONE=0]="NONE",t[t.ROTATE=1]="ROTATE",t[t.TRUCK=2]="TRUCK",t[t.OFFSET=3]="OFFSET",t[t.DOLLY=4]="DOLLY",t[t.ZOOM=5]="ZOOM",t[t.TOUCH_ROTATE=6]="TOUCH_ROTATE",t[t.TOUCH_TRUCK=7]="TOUCH_TRUCK",t[t.TOUCH_OFFSET=8]="TOUCH_OFFSET",t[t.TOUCH_DOLLY=9]="TOUCH_DOLLY",t[t.TOUCH_ZOOM=10]="TOUCH_ZOOM",t[t.TOUCH_DOLLY_TRUCK=11]="TOUCH_DOLLY_TRUCK",t[t.TOUCH_DOLLY_OFFSET=12]="TOUCH_DOLLY_OFFSET",t[t.TOUCH_ZOOM_TRUCK=13]="TOUCH_ZOOM_TRUCK",t[t.TOUCH_ZOOM_OFFSET=14]="TOUCH_ZOOM_OFFSET"})(he||(he={}));function tr(t){return t.isPerspectiveCamera}function gl(t){return t.isOrthographicCamera}const ya=Math.PI*2,JG=Math.PI/2,OG=1e-5;function Is(t,i=OG){return Math.abs(t)<i}function gs(t,i,e=OG){return Is(t-i,e)}function BG(t,i){return Math.round(t/i)*i}function vo(t){return isFinite(t)?t:t<0?-Number.MAX_VALUE:Number.MAX_VALUE}function Eo(t){return Math.abs(t)<Number.MAX_VALUE?t:t*(1/0)}function Gp(t,i){i.set(0,0),t.forEach(e=>{i.x+=e.clientX,i.y+=e.clientY}),i.x/=t.length,i.y/=t.length}function Zp(t,i){return gl(t)?(console.warn(`${i} is not supported in OrthographicCamera`),!0):!1}function AG(t){return t.invert?t.invert():t.inverse(),t}class kk{constructor(){this._listeners={}}addEventListener(i,e){const s=this._listeners;s[i]===void 0&&(s[i]=[]),s[i].indexOf(e)===-1&&s[i].push(e)}removeEventListener(i,e){const n=this._listeners[i];if(n!==void 0){const l=n.indexOf(e);l!==-1&&n.splice(l,1)}}removeAllEventListeners(i){if(!i){this._listeners={};return}Array.isArray(this._listeners[i])&&(this._listeners[i].length=0)}dispatchEvent(i){const s=this._listeners[i.type];if(s!==void 0){i.target=this;const n=s.slice(0);for(let l=0,r=n.length;l<r;l++)n[l].call(this,i)}}}const jG=typeof window<"u",Pk=jG&&/Mac/.test(navigator.platform),QG=!(jG&&"PointerEvent"in window),Uk=Object.freeze(he),Nh=1/8;let oe,_G,Fh,Xp,yi,ze,os,Ga,gn,Wn,er,ln,zo,Za,qG,Tp,$G,tZ,Rp,Mh;class ps extends kk{constructor(i,e){super();if(this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.minDistance=0,this.maxDistance=1/0,this.infinityDolly=!1,this.minZoom=.01,this.maxZoom=1/0,this.dampingFactor=.05,this.draggingDampingFactor=.25,this.azimuthRotateSpeed=1,this.polarRotateSpeed=1,this.dollySpeed=1,this.truckSpeed=2,this.dollyToCursor=!1,this.dragToOffset=!1,this.verticalDragToForward=!1,this.boundaryFriction=0,this.restThreshold=.01,this.colliderMeshes=[],this.cancel=()=>{},this._enabled=!0,this._state=he.NONE,this._viewport=null,this._dollyControlAmount=0,this._hasRested=!0,this._boundaryEnclosesCamera=!1,this._needsUpdate=!0,this._updatedLastTime=!1,this._elementRect=new DOMRect,this._activePointers=[],this._truckInternal=(s,n,l)=>{if(tr(this._camera)){const r=ze.copy(this._camera.position).sub(this._target),a=this._camera.getEffectiveFOV()*oe.MathUtils.DEG2RAD,o=r.length()*Math.tan(a*.5),c=this.truckSpeed*s*o/this._elementRect.height,h=this.truckSpeed*n*o/this._elementRect.height;this.verticalDragToForward?(l?this.setFocalOffset(this._focalOffsetEnd.x+c,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(c,0,!0),this.forward(-h,!0)):l?this.setFocalOffset(this._focalOffsetEnd.x+c,this._focalOffsetEnd.y+h,this._focalOffsetEnd.z,!0):this.truck(c,h,!0)}else if(gl(this._camera)){const r=this._camera,a=s*(r.right-r.left)/r.zoom/this._elementRect.width,o=n*(r.top-r.bottom)/r.zoom/this._elementRect.height;l?this.setFocalOffset(this._focalOffsetEnd.x+a,this._focalOffsetEnd.y+o,this._focalOffsetEnd.z,!0):this.truck(a,o,!0)}},this._rotateInternal=(s,n)=>{const l=ya*this.azimuthRotateSpeed*s/this._elementRect.height,r=ya*this.polarRotateSpeed*n/this._elementRect.height;this.rotate(l,r,!0)},this._dollyInternal=(s,n,l)=>{const r=Math.pow(.95,-s*this.dollySpeed),a=this._sphericalEnd.radius*r,o=this._sphericalEnd.radius,c=o*(s>=0?-1:1);this.dollyTo(a),this.infinityDolly&&(a<this.minDistance||this.maxDistance===this.minDistance)&&(this._camera.getWorldDirection(ze),this._targetEnd.add(ze.normalize().multiplyScalar(c)),this._target.add(ze.normalize().multiplyScalar(c))),this.dollyToCursor&&(this._dollyControlAmount+=this._sphericalEnd.radius-o,this.infinityDolly&&(a<this.minDistance||this.maxDistance===this.minDistance)&&(this._dollyControlAmount-=c),this._dollyControlCoord.set(n,l))},this._zoomInternal=(s,n,l)=>{const r=Math.pow(.95,s*this.dollySpeed);this.zoomTo(this._zoom*r),this.dollyToCursor&&(this._dollyControlAmount=this._zoomEnd,this._dollyControlCoord.set(n,l))},typeof oe>"u"&&console.error("camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information."),this._camera=i,this._yAxisUpSpace=new oe.Quaternion().setFromUnitVectors(this._camera.up,Fh),this._yAxisUpSpaceInverse=AG(this._yAxisUpSpace.clone()),this._state=he.NONE,this._domElement=e,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._target=new oe.Vector3,this._targetEnd=this._target.clone(),this._focalOffset=new oe.Vector3,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=new oe.Spherical().setFromVector3(ze.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._nearPlaneCorners=[new oe.Vector3,new oe.Vector3,new oe.Vector3,new oe.Vector3],this._updateNearPlaneCorners(),this._boundary=new oe.Box3(new oe.Vector3(-1/0,-1/0,-1/0),new oe.Vector3(1/0,1/0,1/0)),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlAmount=0,this._dollyControlCoord=new oe.Vector2,this.mouseButtons={left:he.ROTATE,middle:he.DOLLY,right:he.TRUCK,wheel:tr(this._camera)?he.DOLLY:gl(this._camera)?he.ZOOM:he.NONE,shiftLeft:he.NONE},this.touches={one:he.TOUCH_ROTATE,two:tr(this._camera)?he.TOUCH_DOLLY_TRUCK:gl(this._camera)?he.TOUCH_ZOOM_TRUCK:he.NONE,three:he.TOUCH_TRUCK},this._domElement){const s=new oe.Vector2,n=new oe.Vector2,l=new oe.Vector2,r=N=>{if(!this._enabled)return;const E={pointerId:N.pointerId,clientX:N.clientX,clientY:N.clientY};switch(this._activePointers.push(E),N.button){case oe.MOUSE.LEFT:this._state=N.shiftKey?this.mouseButtons.shiftLeft:this.mouseButtons.left;break;case oe.MOUSE.MIDDLE:this._state=this.mouseButtons.middle;break;case oe.MOUSE.RIGHT:this._state=this.mouseButtons.right;break}if(N.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}this._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",u),this._domElement.ownerDocument.addEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",u),S()},a=N=>{if(!this._enabled)return;const E={pointerId:0,clientX:N.clientX,clientY:N.clientY};switch(this._activePointers.push(E),N.button){case oe.MOUSE.LEFT:this._state=N.shiftKey?this.mouseButtons.shiftLeft:this.mouseButtons.left;break;case oe.MOUSE.MIDDLE:this._state=this.mouseButtons.middle;break;case oe.MOUSE.RIGHT:this._state=this.mouseButtons.right;break}this._domElement.ownerDocument.removeEventListener("mousemove",h),this._domElement.ownerDocument.removeEventListener("mouseup",p),this._domElement.ownerDocument.addEventListener("mousemove",h),this._domElement.ownerDocument.addEventListener("mouseup",p),S()},o=N=>{if(!!this._enabled){switch(N.preventDefault(),Array.prototype.forEach.call(N.changedTouches,E=>{const Y={pointerId:E.identifier,clientX:E.clientX,clientY:E.clientY};this._activePointers.push(Y)}),this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}this._domElement.ownerDocument.removeEventListener("touchmove",d,{passive:!1}),this._domElement.ownerDocument.removeEventListener("touchend",Z),this._domElement.ownerDocument.addEventListener("touchmove",d,{passive:!1}),this._domElement.ownerDocument.addEventListener("touchend",Z),S()}},c=N=>{N.cancelable&&N.preventDefault();const E=N.pointerId,Y=this._findPointerById(E);!Y||(Y.clientX=N.clientX,Y.clientY=N.clientY,F())},h=N=>{const E=this._findPointerById(0);!E||(E.clientX=N.clientX,E.clientY=N.clientY,F())},d=N=>{N.cancelable&&N.preventDefault(),Array.prototype.forEach.call(N.changedTouches,E=>{const Y=E.identifier,O=this._findPointerById(Y);!O||(O.clientX=E.clientX,O.clientY=E.clientY)}),F()},u=N=>{const E=N.pointerId,Y=this._findPointerById(E);if(Y&&this._activePointers.splice(this._activePointers.indexOf(Y),1),N.pointerType==="touch")switch(this._activePointers.length){case 0:this._state=he.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=he.NONE;M()},p=()=>{const N=this._findPointerById(0);N&&this._activePointers.splice(this._activePointers.indexOf(N),1),this._state=he.NONE,M()},Z=N=>{switch(Array.prototype.forEach.call(N.changedTouches,E=>{const Y=E.identifier,O=this._findPointerById(Y);O&&this._activePointers.splice(this._activePointers.indexOf(O),1)}),this._activePointers.length){case 0:this._state=he.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}M()};let X=-1;const R=N=>{if(!this._enabled||this.mouseButtons.wheel===he.NONE)return;if(N.preventDefault(),this.dollyToCursor||this.mouseButtons.wheel===he.ROTATE||this.mouseButtons.wheel===he.TRUCK){const $=performance.now();X-$<1e3&&this._getClientRect(this._elementRect),X=$}const E=Pk?-1:-3,Y=N.deltaMode===1?N.deltaY/E:N.deltaY/(E*10),O=this.dollyToCursor?(N.clientX-this._elementRect.x)/this._elementRect.width*2-1:0,q=this.dollyToCursor?(N.clientY-this._elementRect.y)/this._elementRect.height*-2+1:0;switch(this.mouseButtons.wheel){case he.ROTATE:{this._rotateInternal(N.deltaX,N.deltaY);break}case he.TRUCK:{this._truckInternal(N.deltaX,N.deltaY,!1);break}case he.OFFSET:{this._truckInternal(N.deltaX,N.deltaY,!0);break}case he.DOLLY:{this._dollyInternal(-Y,O,q);break}case he.ZOOM:{this._zoomInternal(-Y,O,q);break}}this.dispatchEvent({type:"control"})},W=N=>{!this._enabled||N.preventDefault()},S=()=>{if(!this._enabled)return;if(Gp(this._activePointers,yi),this._getClientRect(this._elementRect),s.copy(yi),n.copy(yi),this._activePointers.length>=2){const E=yi.x-this._activePointers[1].clientX,Y=yi.y-this._activePointers[1].clientY,O=Math.sqrt(E*E+Y*Y);l.set(0,O);const q=(this._activePointers[0].clientX+this._activePointers[1].clientX)*.5,$=(this._activePointers[0].clientY+this._activePointers[1].clientY)*.5;n.set(q,$)}this.dispatchEvent({type:"controlstart"})},F=()=>{if(!this._enabled)return;Gp(this._activePointers,yi);const N=n.x-yi.x,E=n.y-yi.y;switch(n.copy(yi),this._state){case he.ROTATE:case he.TOUCH_ROTATE:{this._rotateInternal(N,E);break}case he.DOLLY:case he.ZOOM:{const Y=this.dollyToCursor?(s.x-this._elementRect.x)/this._elementRect.width*2-1:0,O=this.dollyToCursor?(s.y-this._elementRect.y)/this._elementRect.height*-2+1:0;this._state===he.DOLLY?this._dollyInternal(E*Nh,Y,O):this._zoomInternal(E*Nh,Y,O);break}case he.TOUCH_DOLLY:case he.TOUCH_ZOOM:case he.TOUCH_DOLLY_TRUCK:case he.TOUCH_ZOOM_TRUCK:case he.TOUCH_DOLLY_OFFSET:case he.TOUCH_ZOOM_OFFSET:{const Y=yi.x-this._activePointers[1].clientX,O=yi.y-this._activePointers[1].clientY,q=Math.sqrt(Y*Y+O*O),$=l.y-q;l.set(0,q);const H=this.dollyToCursor?(n.x-this._elementRect.x)/this._elementRect.width*2-1:0,j=this.dollyToCursor?(n.y-this._elementRect.y)/this._elementRect.height*-2+1:0;this._state===he.TOUCH_DOLLY||this._state===he.TOUCH_DOLLY_TRUCK||this._state===he.TOUCH_DOLLY_OFFSET?this._dollyInternal($*Nh,H,j):this._zoomInternal($*Nh,H,j),this._state===he.TOUCH_DOLLY_TRUCK||this._state===he.TOUCH_ZOOM_TRUCK?this._truckInternal(N,E,!1):(this._state===he.TOUCH_DOLLY_OFFSET||this._state===he.TOUCH_ZOOM_OFFSET)&&this._truckInternal(N,E,!0);break}case he.TRUCK:case he.TOUCH_TRUCK:{this._truckInternal(N,E,!1);break}case he.OFFSET:case he.TOUCH_OFFSET:{this._truckInternal(N,E,!0);break}}this.dispatchEvent({type:"control"})},M=()=>{Gp(this._activePointers,yi),n.copy(yi),this._activePointers.length===0&&(this._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",u),this._domElement.ownerDocument.removeEventListener("touchmove",d,{passive:!1}),this._domElement.ownerDocument.removeEventListener("touchend",Z),this.dispatchEvent({type:"controlend"}))};this._domElement.addEventListener("pointerdown",r),QG&&this._domElement.addEventListener("mousedown",a),QG&&this._domElement.addEventListener("touchstart",o),this._domElement.addEventListener("pointercancel",u),this._domElement.addEventListener("wheel",R,{passive:!1}),this._domElement.addEventListener("contextmenu",W),this._removeAllEventListeners=()=>{this._domElement.removeEventListener("pointerdown",r),this._domElement.removeEventListener("mousedown",a),this._domElement.removeEventListener("touchstart",o),this._domElement.removeEventListener("pointercancel",u),this._domElement.removeEventListener("wheel",R,{passive:!1}),this._domElement.removeEventListener("contextmenu",W),this._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.removeEventListener("mousemove",h),this._domElement.ownerDocument.removeEventListener("touchmove",d,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",u),this._domElement.ownerDocument.removeEventListener("mouseup",p),this._domElement.ownerDocument.removeEventListener("touchend",Z)},this.cancel=()=>{this._state!==he.NONE&&(this._state=he.NONE,this._activePointers.length=0,M())}}this.update(0)}static install(i){oe=i.THREE,_G=Object.freeze(new oe.Vector3(0,0,0)),Fh=Object.freeze(new oe.Vector3(0,1,0)),Xp=Object.freeze(new oe.Vector3(0,0,1)),yi=new oe.Vector2,ze=new oe.Vector3,os=new oe.Vector3,Ga=new oe.Vector3,gn=new oe.Vector3,Wn=new oe.Vector3,er=new oe.Vector3,ln=new oe.Spherical,zo=new oe.Spherical,Za=new oe.Box3,qG=new oe.Box3,Tp=new oe.Sphere,$G=new oe.Quaternion,tZ=new oe.Quaternion,Rp=new oe.Matrix4,Mh=new oe.Raycaster}static get ACTION(){return Uk}get camera(){return this._camera}set camera(i){this._camera=i,this.updateCameraUp(),this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(i){this._enabled=i,i?(this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none"):(this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect="")}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(i){this._spherical.radius===i&&this._sphericalEnd.radius===i||(this._spherical.radius=i,this._sphericalEnd.radius=i,this._needsUpdate=!0)}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(i){this._spherical.theta===i&&this._sphericalEnd.theta===i||(this._spherical.theta=i,this._sphericalEnd.theta=i,this._needsUpdate=!0)}get polarAngle(){return this._spherical.phi}set polarAngle(i){this._spherical.phi===i&&this._sphericalEnd.phi===i||(this._spherical.phi=i,this._sphericalEnd.phi=i,this._needsUpdate=!0)}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(i){this._boundaryEnclosesCamera=i,this._needsUpdate=!0}addEventListener(i,e){super.addEventListener(i,e)}removeEventListener(i,e){super.removeEventListener(i,e)}rotate(i,e,s=!1){return this.rotateTo(this._sphericalEnd.theta+i,this._sphericalEnd.phi+e,s)}rotateAzimuthTo(i,e=!1){return this.rotateTo(i,this._sphericalEnd.phi,e)}rotatePolarTo(i,e=!1){return this.rotateTo(this._sphericalEnd.theta,i,e)}rotateTo(i,e,s=!1){const n=oe.MathUtils.clamp(i,this.minAzimuthAngle,this.maxAzimuthAngle),l=oe.MathUtils.clamp(e,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=n,this._sphericalEnd.phi=l,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,s||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi);const r=!s||gs(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&gs(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(r)}dolly(i,e=!1){return this.dollyTo(this._sphericalEnd.radius-i,e)}dollyTo(i,e=!1){const s=this._sphericalEnd.radius,n=oe.MathUtils.clamp(i,this.minDistance,this.maxDistance);if(this.colliderMeshes.length>=1){const a=this._collisionTest(),o=gs(a,this._spherical.radius);if(!(s>n)&&o)return Promise.resolve();this._sphericalEnd.radius=Math.min(n,a)}else this._sphericalEnd.radius=n;this._needsUpdate=!0,e||(this._spherical.radius=this._sphericalEnd.radius);const r=!e||gs(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(r)}zoom(i,e=!1){return this.zoomTo(this._zoomEnd+i,e)}zoomTo(i,e=!1){this._zoomEnd=oe.MathUtils.clamp(i,this.minZoom,this.maxZoom),this._needsUpdate=!0,e||(this._zoom=this._zoomEnd);const s=!e||gs(this._zoom,this._zoomEnd,this.restThreshold);return this._createOnRestPromise(s)}pan(i,e,s=!1){return console.warn("`pan` has been renamed to `truck`"),this.truck(i,e,s)}truck(i,e,s=!1){this._camera.updateMatrix(),gn.setFromMatrixColumn(this._camera.matrix,0),Wn.setFromMatrixColumn(this._camera.matrix,1),gn.multiplyScalar(i),Wn.multiplyScalar(-e);const n=ze.copy(gn).add(Wn),l=os.copy(this._targetEnd).add(n);return this.moveTo(l.x,l.y,l.z,s)}forward(i,e=!1){ze.setFromMatrixColumn(this._camera.matrix,0),ze.crossVectors(this._camera.up,ze),ze.multiplyScalar(i);const s=os.copy(this._targetEnd).add(ze);return this.moveTo(s.x,s.y,s.z,e)}moveTo(i,e,s,n=!1){const l=ze.set(i,e,s).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,l,this.boundaryFriction),this._needsUpdate=!0,n||this._target.copy(this._targetEnd);const r=!n||gs(this._target.x,this._targetEnd.x,this.restThreshold)&&gs(this._target.y,this._targetEnd.y,this.restThreshold)&&gs(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(r)}fitToBox(i,e,{paddingLeft:s=0,paddingRight:n=0,paddingBottom:l=0,paddingTop:r=0}={}){const a=[],o=i.isBox3?Za.copy(i):Za.setFromObject(i);o.isEmpty()&&(console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve());const c=BG(this._sphericalEnd.theta,JG),h=BG(this._sphericalEnd.phi,JG);a.push(this.rotateTo(c,h,e));const d=ze.setFromSpherical(this._sphericalEnd).normalize(),u=$G.setFromUnitVectors(d,Xp);gs(Math.abs(d.y),1)&&u.multiply(tZ.setFromAxisAngle(Fh,c));const Z=qG.makeEmpty();os.copy(o.min).applyQuaternion(u),Z.expandByPoint(os),os.copy(o.min).setX(o.max.x).applyQuaternion(u),Z.expandByPoint(os),os.copy(o.min).setY(o.max.y).applyQuaternion(u),Z.expandByPoint(os),os.copy(o.max).setZ(o.min.z).applyQuaternion(u),Z.expandByPoint(os),os.copy(o.min).setZ(o.max.z).applyQuaternion(u),Z.expandByPoint(os),os.copy(o.max).setY(o.min.y).applyQuaternion(u),Z.expandByPoint(os),os.copy(o.max).setX(o.min.x).applyQuaternion(u),Z.expandByPoint(os),os.copy(o.max).applyQuaternion(u),Z.expandByPoint(os),u.setFromUnitVectors(Xp,d),Z.min.x-=s,Z.min.y-=l,Z.max.x+=n,Z.max.y+=r;const X=Z.getSize(ze),R=Z.getCenter(os).applyQuaternion(u);if(tr(this._camera)){const W=this.getDistanceToFitBox(X.x,X.y,X.z);a.push(this.moveTo(R.x,R.y,R.z,e)),a.push(this.dollyTo(W,e)),a.push(this.setFocalOffset(0,0,0,e))}else if(gl(this._camera)){const W=this._camera,S=W.right-W.left,F=W.top-W.bottom,M=Math.min(S/X.x,F/X.y);a.push(this.moveTo(R.x,R.y,R.z,e)),a.push(this.zoomTo(M,e)),a.push(this.setFocalOffset(0,0,0,e))}return Promise.all(a)}fitTo(i,e,s={}){return console.warn("camera-controls: fitTo() has been renamed to fitToBox()"),this.fitToBox(i,e,s)}fitToSphere(i,e){const s=[],l=i instanceof oe.Sphere?Tp.copy(i):Dk(i,Tp);if(s.push(this.moveTo(l.center.x,l.center.y,l.center.z,e)),tr(this._camera)){const r=this.getDistanceToFitSphere(l.radius);s.push(this.dollyTo(r,e))}else if(gl(this._camera)){const r=this._camera.right-this._camera.left,a=this._camera.top-this._camera.bottom,o=2*l.radius,c=Math.min(r/o,a/o);s.push(this.zoomTo(c,e))}return s.push(this.setFocalOffset(0,0,0,e)),Promise.all(s)}setLookAt(i,e,s,n,l,r,a=!1){const o=os.set(n,l,r),c=ze.set(i,e,s);this._targetEnd.copy(o),this._sphericalEnd.setFromVector3(c.sub(o).applyQuaternion(this._yAxisUpSpace)),this.normalizeRotations(),this._needsUpdate=!0,a||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const h=!a||gs(this._target.x,this._targetEnd.x,this.restThreshold)&&gs(this._target.y,this._targetEnd.y,this.restThreshold)&&gs(this._target.z,this._targetEnd.z,this.restThreshold)&&gs(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&gs(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&gs(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(h)}lerpLookAt(i,e,s,n,l,r,a,o,c,h,d,u,p,Z=!1){const X=ze.set(n,l,r),R=os.set(i,e,s);ln.setFromVector3(R.sub(X).applyQuaternion(this._yAxisUpSpace));const W=Ga.set(h,d,u),S=os.set(a,o,c);zo.setFromVector3(S.sub(W).applyQuaternion(this._yAxisUpSpace)),this._targetEnd.copy(X.lerp(W,p));const F=zo.theta-ln.theta,M=zo.phi-ln.phi,N=zo.radius-ln.radius;this._sphericalEnd.set(ln.radius+N*p,ln.phi+M*p,ln.theta+F*p),this.normalizeRotations(),this._needsUpdate=!0,Z||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const E=!Z||gs(this._target.x,this._targetEnd.x,this.restThreshold)&&gs(this._target.y,this._targetEnd.y,this.restThreshold)&&gs(this._target.z,this._targetEnd.z,this.restThreshold)&&gs(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&gs(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&gs(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(E)}setPosition(i,e,s,n=!1){return this.setLookAt(i,e,s,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,n)}setTarget(i,e,s,n=!1){const l=this.getPosition(ze);return this.setLookAt(l.x,l.y,l.z,i,e,s,n)}setFocalOffset(i,e,s,n=!1){this._focalOffsetEnd.set(i,e,s),this._needsUpdate=!0,n||this._focalOffset.copy(this._focalOffsetEnd);const l=!n||gs(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&gs(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&gs(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(l)}setOrbitPoint(i,e,s){gn.setFromMatrixColumn(this._camera.matrixWorldInverse,0),Wn.setFromMatrixColumn(this._camera.matrixWorldInverse,1),er.setFromMatrixColumn(this._camera.matrixWorldInverse,2);const n=ze.set(i,e,s),l=n.distanceTo(this._camera.position),r=n.sub(this._camera.position);gn.multiplyScalar(r.x),Wn.multiplyScalar(r.y),er.multiplyScalar(r.z),ze.copy(gn).add(Wn).add(er),ze.z=ze.z+l,this.dollyTo(l,!1),this.setFocalOffset(-ze.x,ze.y,-ze.z,!1),this.moveTo(i,e,s,!1)}setBoundary(i){if(!i){this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),this._needsUpdate=!0;return}this._boundary.copy(i),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(i,e,s,n){if(i===null){this._viewport=null;return}this._viewport=this._viewport||new oe.Vector4,typeof i=="number"?this._viewport.set(i,e,s,n):this._viewport.copy(i)}getDistanceToFitBox(i,e,s){if(Zp(this._camera,"getDistanceToFitBox"))return this._spherical.radius;const n=i/e,l=this._camera.getEffectiveFOV()*oe.MathUtils.DEG2RAD,r=this._camera.aspect;return(n<r?e:i/r)*.5/Math.tan(l*.5)+s*.5}getDistanceToFit(i,e,s){return console.warn("camera-controls: getDistanceToFit() has been renamed to getDistanceToFitBox()"),this.getDistanceToFitBox(i,e,s)}getDistanceToFitSphere(i){if(Zp(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;const e=this._camera.getEffectiveFOV()*oe.MathUtils.DEG2RAD,s=Math.atan(Math.tan(e*.5)*this._camera.aspect)*2,n=1<this._camera.aspect?e:s;return i/Math.sin(n*.5)}getTarget(i){return(!!i&&i.isVector3?i:new oe.Vector3).copy(this._targetEnd)}getPosition(i){return(!!i&&i.isVector3?i:new oe.Vector3).setFromSpherical(this._sphericalEnd).applyQuaternion(this._yAxisUpSpaceInverse).add(this._targetEnd)}getFocalOffset(i){return(!!i&&i.isVector3?i:new oe.Vector3).copy(this._focalOffsetEnd)}normalizeRotations(){this._sphericalEnd.theta=this._sphericalEnd.theta%ya,this._sphericalEnd.theta<0&&(this._sphericalEnd.theta+=ya),this._spherical.theta+=ya*Math.round((this._sphericalEnd.theta-this._spherical.theta)/ya)}reset(i=!1){const e=[this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,i),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,i),this.zoomTo(this._zoom0,i)];return Promise.all(e)}saveState(){this._target0.copy(this._target),this._position0.copy(this._camera.position),this._zoom0=this._zoom}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,Fh),AG(this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace))}update(i){const e=this._state===he.NONE?this.dampingFactor:this.draggingDampingFactor,s=Math.min(e*i*60,1),n=this._sphericalEnd.theta-this._spherical.theta,l=this._sphericalEnd.phi-this._spherical.phi,r=this._sphericalEnd.radius-this._spherical.radius,a=ze.subVectors(this._targetEnd,this._target),o=os.subVectors(this._focalOffsetEnd,this._focalOffset);if(!Is(n)||!Is(l)||!Is(r)||!Is(a.x)||!Is(a.y)||!Is(a.z)||!Is(o.x)||!Is(o.y)||!Is(o.z)?(this._spherical.set(this._spherical.radius+r*s,this._spherical.phi+l*s,this._spherical.theta+n*s),this._target.add(a.multiplyScalar(s)),this._focalOffset.add(o.multiplyScalar(s)),this._needsUpdate=!0):(this._spherical.copy(this._sphericalEnd),this._target.copy(this._targetEnd),this._focalOffset.copy(this._focalOffsetEnd)),this._dollyControlAmount!==0){if(tr(this._camera)){const p=this._camera,Z=ze.setFromSpherical(this._sphericalEnd).applyQuaternion(this._yAxisUpSpaceInverse).normalize().negate(),X=os.copy(Z).cross(p.up).normalize();X.lengthSq()===0&&(X.x=1);const R=Ga.crossVectors(X,Z),W=this._sphericalEnd.radius*Math.tan(p.getEffectiveFOV()*oe.MathUtils.DEG2RAD*.5),F=(this._sphericalEnd.radius-this._dollyControlAmount-this._sphericalEnd.radius)/this._sphericalEnd.radius,M=ze.copy(this._targetEnd).add(X.multiplyScalar(this._dollyControlCoord.x*W*p.aspect)).add(R.multiplyScalar(this._dollyControlCoord.y*W));this._targetEnd.lerp(M,F),this._target.copy(this._targetEnd)}else if(gl(this._camera)){const p=this._camera,Z=ze.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(p.near+p.far)/(p.near-p.far)).unproject(p),X=os.set(0,0,-1).applyQuaternion(p.quaternion),R=X.dot(p.up),W=Is(R)?-Z.dot(p.up):-Z.dot(p.up)/R,S=Ga.copy(Z).add(X.multiplyScalar(W));this._targetEnd.lerp(S,1-p.zoom/this._dollyControlAmount),this._target.copy(this._targetEnd)}this._dollyControlAmount=0}const c=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,c),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),(!Is(this._focalOffset.x)||!Is(this._focalOffset.y)||!Is(this._focalOffset.z))&&(this._camera.updateMatrix(),gn.setFromMatrixColumn(this._camera.matrix,0),Wn.setFromMatrixColumn(this._camera.matrix,1),er.setFromMatrixColumn(this._camera.matrix,2),gn.multiplyScalar(this._focalOffset.x),Wn.multiplyScalar(-this._focalOffset.y),er.multiplyScalar(this._focalOffset.z),ze.copy(gn).add(Wn).add(er),this._camera.position.add(ze)),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),ze.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);const d=this._zoomEnd-this._zoom;this._zoom+=d*s,this._camera.zoom!==this._zoom&&(Is(d)&&(this._zoom=this._zoomEnd),this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0);const u=this._needsUpdate;return u&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):u?(this.dispatchEvent({type:"update"}),Is(n,this.restThreshold)&&Is(l,this.restThreshold)&&Is(r,this.restThreshold)&&Is(a.x,this.restThreshold)&&Is(a.y,this.restThreshold)&&Is(a.z,this.restThreshold)&&Is(o.x,this.restThreshold)&&Is(o.y,this.restThreshold)&&Is(o.z,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:"rest"}))):!u&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._updatedLastTime=u,this._needsUpdate=!1,u}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:vo(this.maxDistance),minZoom:this.minZoom,maxZoom:vo(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:vo(this.maxPolarAngle),minAzimuthAngle:vo(this.minAzimuthAngle),maxAzimuthAngle:vo(this.maxAzimuthAngle),dampingFactor:this.dampingFactor,draggingDampingFactor:this.draggingDampingFactor,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,verticalDragToForward:this.verticalDragToForward,target:this._targetEnd.toArray(),position:ze.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(i,e=!1){const s=JSON.parse(i),n=ze.fromArray(s.position);this.enabled=s.enabled,this.minDistance=s.minDistance,this.maxDistance=Eo(s.maxDistance),this.minZoom=s.minZoom,this.maxZoom=Eo(s.maxZoom),this.minPolarAngle=s.minPolarAngle,this.maxPolarAngle=Eo(s.maxPolarAngle),this.minAzimuthAngle=Eo(s.minAzimuthAngle),this.maxAzimuthAngle=Eo(s.maxAzimuthAngle),this.dampingFactor=s.dampingFactor,this.draggingDampingFactor=s.draggingDampingFactor,this.dollySpeed=s.dollySpeed,this.truckSpeed=s.truckSpeed,this.dollyToCursor=s.dollyToCursor,this.verticalDragToForward=s.verticalDragToForward,this._target0.fromArray(s.target0),this._position0.fromArray(s.position0),this._zoom0=s.zoom0,this._focalOffset0.fromArray(s.focalOffset0),this.moveTo(s.target[0],s.target[1],s.target[2],e),ln.setFromVector3(n.sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(ln.theta,ln.phi,e),this.zoomTo(s.zoom,e),this.setFocalOffset(s.focalOffset[0],s.focalOffset[1],s.focalOffset[2],e),this._needsUpdate=!0}dispose(){this._removeAllEventListeners()}_findPointerById(i){let e=null;return this._activePointers.some(s=>s.pointerId===i?(e=s,!0):!1),e}_encloseToBoundary(i,e,s){const n=e.lengthSq();if(n===0)return i;const l=os.copy(e).add(i),a=this._boundary.clampPoint(l,Ga).sub(l),o=a.lengthSq();if(o===0)return i.add(e);if(o===n)return i;if(s===0)return i.add(e).add(a);{const c=1+s*o/e.dot(a);return i.add(os.copy(e).multiplyScalar(c)).add(a.multiplyScalar(1-s))}}_updateNearPlaneCorners(){if(tr(this._camera)){const i=this._camera,e=i.near,s=i.getEffectiveFOV()*oe.MathUtils.DEG2RAD,n=Math.tan(s*.5)*e,l=n*i.aspect;this._nearPlaneCorners[0].set(-l,-n,0),this._nearPlaneCorners[1].set(l,-n,0),this._nearPlaneCorners[2].set(l,n,0),this._nearPlaneCorners[3].set(-l,n,0)}else if(gl(this._camera)){const i=this._camera,e=1/i.zoom,s=i.left*e,n=i.right*e,l=i.top*e,r=i.bottom*e;this._nearPlaneCorners[0].set(s,l,0),this._nearPlaneCorners[1].set(n,l,0),this._nearPlaneCorners[2].set(n,r,0),this._nearPlaneCorners[3].set(s,r,0)}}_collisionTest(){let i=1/0;if(!(this.colliderMeshes.length>=1)||Zp(this._camera,"_collisionTest"))return i;const s=ze.setFromSpherical(this._spherical).divideScalar(this._spherical.radius);Rp.lookAt(_G,s,this._camera.up);for(let n=0;n<4;n++){const l=os.copy(this._nearPlaneCorners[n]);l.applyMatrix4(Rp);const r=Ga.addVectors(this._target,l);Mh.set(r,s),Mh.far=this._spherical.radius+1;const a=Mh.intersectObjects(this.colliderMeshes);a.length!==0&&a[0].distance<i&&(i=a[0].distance)}return i}_getClientRect(i){const e=this._domElement.getBoundingClientRect();return i.x=e.left,i.y=e.top,this._viewport?(i.x+=this._viewport.x,i.y+=e.height-this._viewport.w-this._viewport.y,i.width=this._viewport.z,i.height=this._viewport.w):(i.width=e.width,i.height=e.height),i}_createOnRestPromise(i){return i?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise(e=>{const s=()=>{this.removeEventListener("rest",s),e()};this.addEventListener("rest",s)}))}_removeAllEventListeners(){}}function Dk(t,i){const e=i,s=e.center;Za.makeEmpty(),t.traverseVisible(l=>{!l.isMesh||Za.expandByObject(l)}),Za.getCenter(s);let n=0;return t.traverseVisible(l=>{if(!l.isMesh)return;const r=l,a=r.geometry.clone();if(a.applyMatrix4(r.matrixWorld),a.isBufferGeometry){const c=a.attributes.position;for(let h=0,d=c.count;h<d;h++)ze.fromBufferAttribute(c,h),n=Math.max(n,s.distanceToSquared(ze))}else{const o=a.attributes.position,c=new oe.Vector3;for(let h=0,d=o.count;h<d;h++)c.fromBufferAttribute(o,h),n=Math.max(n,s.distanceToSquared(c))}}),e.radius=Math.sqrt(n),e}const Jk={MOUSE:eY,Vector2:Wt,Vector3:z,Vector4:Ut,Quaternion:Vs,Matrix4:_t,Spherical:PK,Box3:is,Sphere:_i,Raycaster:gh,MathUtils:{DEG2RAD:w0.DEG2RAD,clamp:w0.clamp}};ps.install({THREE:Jk});var Ci=(t=>(t.FirstPerson="walk",t.Orbit="orbit",t.Spherical="360",t))(Ci||{});class eZ{constructor(i){this.mode="orbit",this.allowOrbitWalkAutoChange=!1,this.orbitMinDistance=.5,this.orbitMaxDistance=5e3,this.events=new Ei,this.orbitTruckSpeed=5,this.orbitDollySpeed=.25,this.fpsMinDistance=.1,this.fpsMaxDistance=.5,this.fpsTruckSpeed=20,this.fpsDollySpeed=5,this.sphereMinDistance=.001,this.sphereMaxDistance=.0011,this.domEl=i.domEl,this.controls=new ps(i.camera,i.domEl),this.controls.minDistance=this.orbitMinDistance,this.controls.maxDistance=this.orbitMaxDistance,this.controls.infinityDolly=!0,this.controls.dollyToCursor=!0,this.controls.mouseButtons.wheel=ps.ACTION.DOLLY,this.controls.mouseButtons.right=ps.ACTION.TRUCK,this.controls.mouseButtons.middle=ps.ACTION.NONE,this.controls.touches.two=ps.ACTION.TOUCH_DOLLY_TRUCK,this.controls.truckSpeed=this.orbitTruckSpeed,this.controls.dollySpeed=this.orbitDollySpeed,this.controls.minZoom=.35,this.controls.maxZoom=3,this.handleDisableControls=this.handleDisableControls.bind(this),this.handleEnableControls=this.handleEnableControls.bind(this),this.domEl.addEventListener(ee.DisableControls,this.handleDisableControls),this.domEl.addEventListener(ee.EnableControls,this.handleEnableControls)}handleDisableControls(){this.disable()}handleEnableControls(){this.enable()}getMode(){return this.mode}updateOrbitPoint(i){this.mode==="orbit"&&this.controls.setOrbitPoint(i.x,i.y,i.z)}setFirstPersonMode(i=!1,e=!1){i&&this.controls.saveState(),e&&this.controls.reset(!0),this.controls.mouseButtons.wheel=ps.ACTION.DOLLY,this.controls.mouseButtons.left=ps.ACTION.ROTATE,this.controls.mouseButtons.middle=ps.ACTION.DOLLY,this.controls.mouseButtons.right=ps.ACTION.TRUCK,this.controls.touches.one=ps.ACTION.TOUCH_ROTATE,this.controls.touches.two=ps.ACTION.TOUCH_DOLLY_TRUCK,this.controls.touches.three=ps.ACTION.TOUCH_DOLLY_TRUCK,this.controls.minDistance=this.fpsMinDistance,this.controls.maxDistance=this.fpsMaxDistance,this.controls.dollySpeed=this.fpsDollySpeed,this.controls.truckSpeed=this.fpsTruckSpeed,this.controls.infinityDolly=!0,this.controls.dollyToCursor=!0;let s=new z;this.controls.camera.getWorldDirection(s),s.setLength(this.fpsMinDistance);const n=this.controls.camera.position;s=n.clone().add(s),this.controls.setFocalOffset(0,0,0,!1),this.controls.setLookAt(n.x,n.y,n.z,s.x,s.y,s.z,!1),this.mode="walk",this.events.dispatch(ee.ControlModeChanged,{value:this.mode},this.domEl)}setSphericalMode(i,e,s=!1,n=!1){s&&this.controls.saveState(),n&&this.controls.reset(!0),this.controls.mouseButtons.wheel=ps.ACTION.ZOOM,this.controls.mouseButtons.left=ps.ACTION.ROTATE,this.controls.mouseButtons.middle=ps.ACTION.DOLLY,this.controls.mouseButtons.right=ps.ACTION.NONE,this.controls.touches.one=ps.ACTION.TOUCH_ROTATE,this.controls.touches.two=ps.ACTION.TOUCH_ZOOM,this.controls.touches.three=ps.ACTION.TOUCH_DOLLY_TRUCK,this.controls.minDistance=this.sphereMinDistance,this.controls.maxDistance=this.sphereMaxDistance,this.controls.infinityDolly=!1,this.controls.dollyToCursor=!1;const l=i.clone().add(e.setLength(.001));this.controls.setFocalOffset(0,0,0,!1),this.controls.setLookAt(i.x,i.y,i.z,l.x,l.y,l.z,!0),this.mode="360",this.events.dispatch(ee.ControlModeChanged,{value:this.mode},this.domEl)}setOrbitMode(i=!1,e=!1){i&&this.controls.saveState(),e&&this.controls.reset(!0),this.controls.mouseButtons.wheel=ps.ACTION.DOLLY,this.controls.mouseButtons.left=ps.ACTION.ROTATE,this.controls.mouseButtons.middle=ps.ACTION.DOLLY,this.controls.mouseButtons.right=ps.ACTION.TRUCK,this.controls.touches.one=ps.ACTION.TOUCH_ROTATE,this.controls.touches.two=ps.ACTION.TOUCH_DOLLY_TRUCK,this.controls.touches.three=ps.ACTION.TOUCH_DOLLY_TRUCK,this.controls.minDistance=this.orbitMinDistance,this.controls.maxDistance=this.orbitMaxDistance,this.controls.truckSpeed=this.orbitTruckSpeed,this.controls.dollySpeed=this.orbitDollySpeed,this.controls.infinityDolly=!0,this.controls.dollyToCursor=!0,this.mode="orbit",this.events.dispatch(ee.ControlModeChanged,{value:this.mode},this.domEl)}disable(){this.controls.enabled=!1}enable(){this.controls.enabled=!0}update(i){this.controls.update(i)}dispose(){this.controls.dispose(),this.domEl.removeEventListener(ee.DisableControls,this.handleDisableControls),this.domEl.removeEventListener(ee.EnableControls,this.handleEnableControls)}}var Ok=Object.defineProperty,Bk=Object.getOwnPropertyDescriptor,Ip=(t,i,e,s)=>{for(var n=s>1?void 0:s?Bk(i,e):i,l=t.length-1,r;l>=0;l--)(r=t[l])&&(n=(s?r(i,e,n):r(n))||n);return s&&n&&Ok(i,e,n),n};let Ho=class extends bi{constructor(){super(...arguments);this.options=[],this.disabled=!1,this.divId=`pointscene-dropdown-${Date.now()}`}render(){return as`
      <label>
        <select id="${this.divId}" class="pointscene-dropdown" @change=${this.handleChange}>
          ${this.options.map(t=>as`
            <option value="${t.value}" .disabled=${t.disabled} .selected=${t.selected}>${t.label}</option>
          `)}
        </select>
      </label>
    `}handleChange(t){var i;const e=(i=this.shadowRoot)==null?void 0:i.querySelector(`#${this.divId}`);this.dispatchEvent(new CustomEvent("change",{detail:{value:e.value}}))}};Ho.styles=[$l,nn`
      .pointscene-dropdown {
        border-radius: 10px;
        border-width: 0px;
        color: #365379;
        width: 92%;
        margin-left: 8px;
        margin-bottom: 8px;
      }
      .pointscene-dropdown:hover {
        cursor: pointer;
        background-color: #eee;
      }
    `],Ip([Qe({type:Array})],Ho.prototype,"options",2),Ip([Qe({type:Boolean})],Ho.prototype,"disabled",2),Ho=Ip([In("pointscene-dropdown")],Ho);var Ak=Object.defineProperty,jk=Object.getOwnPropertyDescriptor,Xa=(t,i,e,s)=>{for(var n=s>1?void 0:s?jk(i,e):i,l=t.length-1,r;l>=0;l--)(r=t[l])&&(n=(s?r(i,e,n):r(n))||n);return s&&n&&Ak(i,e,n),n};let Wl=class extends bi{constructor(){super();this.isCollapsed=!0,this.autoEnabled=!1,this.domEl="",this.spherical=!1,this.mode=Ci.Orbit,this.events=new Ei,this.registerControls=this.registerControls.bind(this),this.handleExternalModeChange=this.handleExternalModeChange.bind(this)}connectedCallback(){super.connectedCallback();const t=document.querySelector(`#${this.domEl}`);t==null||t.addEventListener(ee.RegisterControls,this.registerControls),t==null||t.addEventListener(ee.ControlModeChanged,this.handleExternalModeChange),this.events.dispatch(ee.ControlsUICreated,{},t)}disconnectedCallback(){const t=document.querySelector(`#${this.domEl}`);t==null||t.removeEventListener(ee.RegisterControls,this.registerControls),t==null||t.removeEventListener(ee.ControlModeChanged,this.handleExternalModeChange),super.disconnectedCallback()}render(){return as`
      <div class="pointscene-header" @click=${this.toggleCollapsed}>
        <div class="pointscene-header-icon">
          <pointscene-icon icon="controls" width="18px" height="18px"></pointscene-icon>
        </div>
        <div class="pointscene-header-title">
          CONTROL
        </div>
        <div class="pointscene-header-toggle">
          ${this.isCollapsed?"+":"-"}
        </div>
      </div>
      ${this.isCollapsed?"":as`
      <div class="pointscene-expanded-content">
        <div>
          <pointscene-switch
            .disabled=${this.spherical}
            .checked=${this.autoEnabled}
            label="Auto mode"
            @change=${this.handleAutoChange}
          ></pointscene-switch>
        </div>
        <div>
          <pointscene-dropdown
            @change=${this.handleInternalModeChange}
            options=${JSON.stringify([{value:Ci.Orbit,label:"Orbit",selected:this.mode===Ci.Orbit,disabled:this.autoEnabled||this.spherical},{value:Ci.FirstPerson,label:"Walk",selected:this.mode===Ci.FirstPerson,disabled:this.autoEnabled||this.spherical},{value:Ci.Spherical,label:"360",selected:this.mode===Ci.Spherical,disabled:!0}])}
          ></pointscene-dropdown>
        </div>
      </div>
      `}
    `}handleAutoChange(){!this.controls||(this.controls.allowOrbitWalkAutoChange=!this.controls.allowOrbitWalkAutoChange,this.autoEnabled=this.controls.allowOrbitWalkAutoChange)}handleExternalModeChange(t){this.mode=t.detail.value}handleInternalModeChange(t){var i,e;if(this.spherical)return;switch(t.detail.value){case"walk":(i=this.controls)==null||i.setFirstPersonMode(!1,!1),this.mode=Ci.FirstPerson;break;case"orbit":(e=this.controls)==null||e.setOrbitMode(!1,!1),this.mode=Ci.Orbit;break}}toggleCollapsed(){this.isCollapsed=!this.isCollapsed}registerControls(t){this.controls=t.detail.controls}};Wl.styles=[$l],Xa([Fs()],Wl.prototype,"isCollapsed",2),Xa([Fs()],Wl.prototype,"autoEnabled",2),Xa([Qe({type:String})],Wl.prototype,"domEl",2),Xa([Qe({type:Boolean})],Wl.prototype,"spherical",2),Xa([Qe({type:String})],Wl.prototype,"mode",2),Wl=Xa([In("pointscene-controls")],Wl);class sZ extends we{constructor(i=document.createElement("div")){super();this.element=i,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",function(){this.traverse(function(e){e.element instanceof Element&&e.element.parentNode!==null&&e.element.parentNode.removeChild(e.element)})})}copy(i,e){return super.copy(i,e),this.element=i.element.cloneNode(!0),this}}sZ.prototype.isCSS2DObject=!0;const Ll=new z,iZ=new _t,nZ=new _t,lZ=new z,rZ=new z;class Qk{constructor(i={}){const e=this;let s,n,l,r;const a={objects:new WeakMap},o=i.element!==void 0?i.element:document.createElement("div");o.style.overflow="hidden",this.domElement=o,this.getSize=function(){return{width:s,height:n}},this.render=function(p,Z){p.autoUpdate===!0&&p.updateMatrixWorld(),Z.parent===null&&Z.updateMatrixWorld(),iZ.copy(Z.matrixWorldInverse),nZ.multiplyMatrices(Z.projectionMatrix,iZ),c(p,p,Z),u(p)},this.setSize=function(p,Z){s=p,n=Z,l=s/2,r=n/2,o.style.width=p+"px",o.style.height=Z+"px"};function c(p,Z,X){if(p.isCSS2DObject){Ll.setFromMatrixPosition(p.matrixWorld),Ll.applyMatrix4(nZ);const R=p.visible===!0&&Ll.z>=-1&&Ll.z<=1&&p.layers.test(X.layers)===!0;if(p.element.style.display=R===!0?"":"none",R===!0){p.onBeforeRender(e,Z,X);const S=p.element;/apple/i.test(navigator.vendor)?S.style.transform="translate(-50%,-50%) translate("+Math.round(Ll.x*l+l)+"px,"+Math.round(-Ll.y*r+r)+"px)":S.style.transform="translate(-50%,-50%) translate("+(Ll.x*l+l)+"px,"+(-Ll.y*r+r)+"px)",S.parentNode!==o&&o.appendChild(S),p.onAfterRender(e,Z,X)}const W={distanceToCameraSquared:h(X,p)};a.objects.set(p,W)}for(let R=0,W=p.children.length;R<W;R++)c(p.children[R],Z,X)}function h(p,Z){return lZ.setFromMatrixPosition(p.matrixWorld),rZ.setFromMatrixPosition(Z.matrixWorld),lZ.distanceToSquared(rZ)}function d(p){const Z=[];return p.traverse(function(X){X.isCSS2DObject&&Z.push(X)}),Z}function u(p){const Z=d(p).sort(function(R,W){if(R.renderOrder!==W.renderOrder)return W.renderOrder-R.renderOrder;const S=a.objects.get(R).distanceToCameraSquared,F=a.objects.get(W).distanceToCameraSquared;return S-F}),X=Z.length;for(let R=0,W=Z.length;R<W;R++)Z[R].element.style.zIndex=X-R}}}const _k={triangulate:function(t,i,e=2){const s=i&&i.length,n=s?i[0]*e:t.length;let l=aZ(t,0,n,e,!0);const r=[];if(!l||l.next===l.prev)return r;let a,o,c,h,d,u,p;if(s&&(l=sP(t,i,l,e)),t.length>80*e){a=c=t[0],o=h=t[1];for(let Z=e;Z<n;Z+=e)d=t[Z],u=t[Z+1],d<a&&(a=d),u<o&&(o=u),d>c&&(c=d),u>h&&(h=u);p=Math.max(c-a,h-o),p=p!==0?1/p:0}return Ko(l,r,e,a,o,p),r}};function aZ(t,i,e,s,n){let l,r;if(n===pP(t,i,e,s)>0)for(l=i;l<e;l+=s)r=hZ(l,t[l],t[l+1],r);else for(l=e-s;l>=i;l-=s)r=hZ(l,t[l],t[l+1],r);return r&&Yh(r,r.next)&&(ko(r),r=r.next),r}function Sl(t,i){if(!t)return t;i||(i=t);let e=t,s;do if(s=!1,!e.steiner&&(Yh(e,e.next)||Cs(e.prev,e,e.next)===0)){if(ko(e),e=i=e.prev,e===e.next)break;s=!0}else e=e.next;while(s||e!==i);return i}function Ko(t,i,e,s,n,l,r){if(!t)return;!r&&l&&aP(t,s,n,l);let a=t,o,c;for(;t.prev!==t.next;){if(o=t.prev,c=t.next,l?$k(t,s,n,l):qk(t)){i.push(o.i/e),i.push(t.i/e),i.push(c.i/e),ko(t),t=c.next,a=c.next;continue}if(t=c,t===a){r?r===1?(t=tP(Sl(t),i,e),Ko(t,i,e,s,n,l,2)):r===2&&eP(t,i,e,s,n,l):Ko(Sl(t),i,e,s,n,l,1);break}}}function qk(t){const i=t.prev,e=t,s=t.next;if(Cs(i,e,s)>=0)return!1;let n=t.next.next;for(;n!==t.prev;){if(Ta(i.x,i.y,e.x,e.y,s.x,s.y,n.x,n.y)&&Cs(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function $k(t,i,e,s){const n=t.prev,l=t,r=t.next;if(Cs(n,l,r)>=0)return!1;const a=n.x<l.x?n.x<r.x?n.x:r.x:l.x<r.x?l.x:r.x,o=n.y<l.y?n.y<r.y?n.y:r.y:l.y<r.y?l.y:r.y,c=n.x>l.x?n.x>r.x?n.x:r.x:l.x>r.x?l.x:r.x,h=n.y>l.y?n.y>r.y?n.y:r.y:l.y>r.y?l.y:r.y,d=gp(a,o,i,e,s),u=gp(c,h,i,e,s);let p=t.prevZ,Z=t.nextZ;for(;p&&p.z>=d&&Z&&Z.z<=u;){if(p!==t.prev&&p!==t.next&&Ta(n.x,n.y,l.x,l.y,r.x,r.y,p.x,p.y)&&Cs(p.prev,p,p.next)>=0||(p=p.prevZ,Z!==t.prev&&Z!==t.next&&Ta(n.x,n.y,l.x,l.y,r.x,r.y,Z.x,Z.y)&&Cs(Z.prev,Z,Z.next)>=0))return!1;Z=Z.nextZ}for(;p&&p.z>=d;){if(p!==t.prev&&p!==t.next&&Ta(n.x,n.y,l.x,l.y,r.x,r.y,p.x,p.y)&&Cs(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;Z&&Z.z<=u;){if(Z!==t.prev&&Z!==t.next&&Ta(n.x,n.y,l.x,l.y,r.x,r.y,Z.x,Z.y)&&Cs(Z.prev,Z,Z.next)>=0)return!1;Z=Z.nextZ}return!0}function tP(t,i,e){let s=t;do{const n=s.prev,l=s.next.next;!Yh(n,l)&&oZ(n,s,s.next,l)&&wo(n,l)&&wo(l,n)&&(i.push(n.i/e),i.push(s.i/e),i.push(l.i/e),ko(s),ko(s.next),s=t=l),s=s.next}while(s!==t);return Sl(s)}function eP(t,i,e,s,n,l){let r=t;do{let a=r.next.next;for(;a!==r.prev;){if(r.i!==a.i&&hP(r,a)){let o=cZ(r,a);r=Sl(r,r.next),o=Sl(o,o.next),Ko(r,i,e,s,n,l),Ko(o,i,e,s,n,l);return}a=a.next}r=r.next}while(r!==t)}function sP(t,i,e,s){const n=[];let l,r,a,o,c;for(l=0,r=i.length;l<r;l++)a=i[l]*s,o=l<r-1?i[l+1]*s:t.length,c=aZ(t,a,o,s,!1),c===c.next&&(c.steiner=!0),n.push(cP(c));for(n.sort(iP),l=0;l<n.length;l++)nP(n[l],e),e=Sl(e,e.next);return e}function iP(t,i){return t.x-i.x}function nP(t,i){if(i=lP(t,i),i){const e=cZ(i,t);Sl(i,i.next),Sl(e,e.next)}}function lP(t,i){let e=i;const s=t.x,n=t.y;let l=-1/0,r;do{if(n<=e.y&&n>=e.next.y&&e.next.y!==e.y){const u=e.x+(n-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(u<=s&&u>l){if(l=u,u===s){if(n===e.y)return e;if(n===e.next.y)return e.next}r=e.x<e.next.x?e:e.next}}e=e.next}while(e!==i);if(!r)return null;if(s===l)return r;const a=r,o=r.x,c=r.y;let h=1/0,d;e=r;do s>=e.x&&e.x>=o&&s!==e.x&&Ta(n<c?s:l,n,o,c,n<c?l:s,n,e.x,e.y)&&(d=Math.abs(n-e.y)/(s-e.x),wo(e,t)&&(d<h||d===h&&(e.x>r.x||e.x===r.x&&rP(r,e)))&&(r=e,h=d)),e=e.next;while(e!==a);return r}function rP(t,i){return Cs(t.prev,t,i.prev)<0&&Cs(i.next,t,t.next)<0}function aP(t,i,e,s){let n=t;do n.z===null&&(n.z=gp(n.x,n.y,i,e,s)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next;while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,oP(n)}function oP(t){let i,e,s,n,l,r,a,o,c=1;do{for(e=t,t=null,l=null,r=0;e;){for(r++,s=e,a=0,i=0;i<c&&(a++,s=s.nextZ,!!s);i++);for(o=c;a>0||o>0&&s;)a!==0&&(o===0||!s||e.z<=s.z)?(n=e,e=e.nextZ,a--):(n=s,s=s.nextZ,o--),l?l.nextZ=n:t=n,n.prevZ=l,l=n;e=s}l.nextZ=null,c*=2}while(r>1);return t}function gp(t,i,e,s,n){return t=32767*(t-e)*n,i=32767*(i-s)*n,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,t|i<<1}function cP(t){let i=t,e=t;do(i.x<e.x||i.x===e.x&&i.y<e.y)&&(e=i),i=i.next;while(i!==t);return e}function Ta(t,i,e,s,n,l,r,a){return(n-r)*(i-a)-(t-r)*(l-a)>=0&&(t-r)*(s-a)-(e-r)*(i-a)>=0&&(e-r)*(l-a)-(n-r)*(s-a)>=0}function hP(t,i){return t.next.i!==i.i&&t.prev.i!==i.i&&!dP(t,i)&&(wo(t,i)&&wo(i,t)&&uP(t,i)&&(Cs(t.prev,t,i.prev)||Cs(t,i.prev,i))||Yh(t,i)&&Cs(t.prev,t,t.next)>0&&Cs(i.prev,i,i.next)>0)}function Cs(t,i,e){return(i.y-t.y)*(e.x-i.x)-(i.x-t.x)*(e.y-i.y)}function Yh(t,i){return t.x===i.x&&t.y===i.y}function oZ(t,i,e,s){const n=Eh(Cs(t,i,e)),l=Eh(Cs(t,i,s)),r=Eh(Cs(e,s,t)),a=Eh(Cs(e,s,i));return!!(n!==l&&r!==a||n===0&&vh(t,e,i)||l===0&&vh(t,s,i)||r===0&&vh(e,t,s)||a===0&&vh(e,i,s))}function vh(t,i,e){return i.x<=Math.max(t.x,e.x)&&i.x>=Math.min(t.x,e.x)&&i.y<=Math.max(t.y,e.y)&&i.y>=Math.min(t.y,e.y)}function Eh(t){return t>0?1:t<0?-1:0}function dP(t,i){let e=t;do{if(e.i!==t.i&&e.next.i!==t.i&&e.i!==i.i&&e.next.i!==i.i&&oZ(e,e.next,t,i))return!0;e=e.next}while(e!==t);return!1}function wo(t,i){return Cs(t.prev,t,t.next)<0?Cs(t,i,t.next)>=0&&Cs(t,t.prev,i)>=0:Cs(t,i,t.prev)<0||Cs(t,t.next,i)<0}function uP(t,i){let e=t,s=!1;const n=(t.x+i.x)/2,l=(t.y+i.y)/2;do e.y>l!=e.next.y>l&&e.next.y!==e.y&&n<(e.next.x-e.x)*(l-e.y)/(e.next.y-e.y)+e.x&&(s=!s),e=e.next;while(e!==t);return s}function cZ(t,i){const e=new Wp(t.i,t.x,t.y),s=new Wp(i.i,i.x,i.y),n=t.next,l=i.prev;return t.next=i,i.prev=t,e.next=n,n.prev=e,s.next=e,e.prev=s,l.next=s,s.prev=l,s}function hZ(t,i,e,s){const n=new Wp(t,i,e);return s?(n.next=s.next,n.prev=s,s.next.prev=n,s.next=n):(n.prev=n,n.next=n),n}function ko(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Wp(t,i,e){this.i=t,this.x=i,this.y=e,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function pP(t,i,e,s){let n=0;for(let l=i,r=e-s;l<e;l+=s)n+=(t[r]-t[l])*(t[l+1]+t[r+1]),r=l;return n}function dZ(t,i,e){e===void 0&&(e={});var s={type:"Feature"};return(e.id===0||e.id)&&(s.id=e.id),e.bbox&&(s.bbox=e.bbox),s.properties=i||{},s.geometry=t,s}function mP(t,i,e){if(e===void 0&&(e={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!uZ(t[0])||!uZ(t[1]))throw new Error("coordinates must contain numbers");var s={type:"Point",coordinates:t};return dZ(s,i,e)}function bP(t,i,e){if(e===void 0&&(e={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");var s={type:"LineString",coordinates:t};return dZ(s,i,e)}function uZ(t){return!isNaN(t)&&t!==null&&!Array.isArray(t)}function yP(t){var i,e,s={type:"FeatureCollection",features:[]};if(t.type==="Feature"?e=t.geometry:e=t,e.type==="LineString")i=[e.coordinates];else if(e.type==="MultiLineString")i=e.coordinates;else if(e.type==="MultiPolygon")i=[].concat.apply([],e.coordinates);else if(e.type==="Polygon")i=e.coordinates;else throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");return i.forEach(function(n){i.forEach(function(l){for(var r=0;r<n.length-1;r++)for(var a=r;a<l.length-1;a++)if(!(n===l&&(Math.abs(r-a)===1||r===0&&a===n.length-2&&n[r][0]===n[n.length-1][0]&&n[r][1]===n[n.length-1][1]))){var o=GP(n[r][0],n[r][1],n[r+1][0],n[r+1][1],l[a][0],l[a][1],l[a+1][0],l[a+1][1]);o&&s.features.push(mP([o[0],o[1]]))}})}),s}function GP(t,i,e,s,n,l,r,a){var o,c,h,d,u,p={x:null,y:null,onLine1:!1,onLine2:!1};return o=(a-l)*(e-t)-(r-n)*(s-i),o===0?p.x!==null&&p.y!==null?p:!1:(c=i-l,h=t-n,d=(r-n)*c-(a-l)*h,u=(e-t)*c-(s-i)*h,c=d/o,h=u/o,p.x=t+c*(e-t),p.y=i+c*(s-i),c>=0&&c<=1&&(p.onLine1=!0),h>=0&&h<=1&&(p.onLine2=!0),p.onLine1&&p.onLine2?[p.x,p.y]:!1)}const Lp=1e3;class Sp{constructor(i){this.points=[],this.activeType="none",this.activeDimensions="all",this.markerRadius=.5,this.hasKinks=!1,this.labelRenderer=new Qk,this.events=new Ei,this.updateCounter=0,this.markerMinPixelSize=10,this.markerMaxPixelSize=40,this.hideLabels=!1,this.picker=i.picker,this.referenceFrame=i.referenceFrame,this.getPositionFn=i.getPositionFn,this.getDistanceFn=i.getDistanceFn,this.getAreaFn=i.getAreaFn,i.hideLabels&&(this.hideLabels=i.hideLabels),this.markers=[],this.markerGeometry=new wu(this.markerRadius-.1,this.markerRadius,32),this.domEl=i.picker.domEl,this.labelRenderer.setSize(this.domEl.clientWidth,this.domEl.clientHeight),this.labelRenderer.domElement.style.position="absolute",this.labelRenderer.domElement.style.top="0px",this.labelRenderer.domElement.style.pointerEvents="none",this.labelRenderer.domElement.style.zIndex="99",this.domEl.appendChild(this.labelRenderer.domElement),this.activeMarker=this.createMarker(16777215),this.activeMarker.userData.isPickable=!1,this.activeLine=this.createLine(new Array(Lp).fill(new z),this.getLineMaterial(16777215)),this.activeDashedLine=this.createLine(new Array(Lp).fill(new z),this.getLineDashedMaterial(16777215)),this.activeAreaMesh=this.createMesh(new Array(Lp*3).fill(new z),this.getMaterial()),this.activeAreaMesh.material.opacity=.4,this.activeLabelDiv=this.getLabelDiv(),this.activeLabel=this.getLabel(this.activeLabelDiv),this.activeMarker.add(this.activeLabel),this.handleLeftClick=this.handleLeftClick.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.domEl.addEventListener("pointscene_on_leftclick",this.handleLeftClick),this.domEl.addEventListener("pointscene_on_mousemove",this.handleMouseMove),this.events.dispatch("pointscene_register_update_hook",{fn:this.update.bind(this)},this.domEl)}getLabelDiv(){const i=document.createElement("div");return i.className="label",i.textContent="",this.setLabelStyle(i),i}getLabel(i){const e=new sZ(i);return e.position.set(0,0,0),e}setLabelStyle(i){i.style.color="#fff",i.style.backgroundColor="#365379",i.style.opacity="0.9",i.style.borderRadius="10px",i.style.borderWidth="0px",i.style.borderColor="#365379",i.style.fontFamily="Open Sans",i.style.fontWeight="bolder",i.style.fontSize="12px",i.style.pointerEvents="none",i.style.minWidth="90px",i.style.marginTop="-45px",i.style.padding="5px",i.style.paddingLeft="10px",i.style.paddingRight="10px"}start(i,e){this.points=[],this.activeType=i,this.hasKinks=!1,this.activeMarker.add(this.activeLabel),this.picker.sceneStatic.add(this.activeMarker),this.picker.sceneStatic.add(this.activeLine),this.picker.sceneStatic.add(this.activeDashedLine),this.picker.sceneStatic.add(this.activeAreaMesh);const s=new Si;s.userData.isPickable=!1,s.userData.measureType=i,s.userData.labelNeedsUpdate=!1;const n={group:s};this.markers.push(n),this.picker.sceneStatic.add(this.markers[this.markers.length-1].group),this.activeLine.geometry.setDrawRange(0,0),this.activeDashedLine.geometry.setDrawRange(0,0),this.activeAreaMesh.geometry.setDrawRange(0,0),this.onFinish=e.onFinish,this.onUpdate=e.onUpdate}setActiveDimensions(i){for(let e=0;e<this.points.length;e++){const s=this.points[e];this.activeDashedLine.geometry.attributes.position.setXYZ(e,s.x,s.y,s.z),this.activeDashedLine.geometry.attributes.position.needsUpdate=!0}this.activeDimensions=i}getPosition(i){switch(this.activeDimensions){case"all":return i;case"xy":if(this.points.length===0)return i;const e=this.points[this.points.length-1];return new z(i.x,i.y,e.z);case"z":if(this.points.length===0)return i;const s=this.points[this.points.length-1];return new z(s.x,s.y,i.z)}}getNormal(i){switch(this.activeDimensions){case"all":return i;case"xy":return new z(0,0,1);case"z":return new z(0,0,1)}}getArea(i){const s=(i.drawRange.count-1)/3;let n=0,l=[];for(let r=0;r<s;r++){const a=r*3,o=i.attributes.position.getX(a+0),c=i.attributes.position.getY(a+0),h=i.attributes.position.getZ(a+0),d=i.attributes.position.getX(a+1),u=i.attributes.position.getY(a+1),p=i.attributes.position.getZ(a+1),Z=i.attributes.position.getX(a+2),X=i.attributes.position.getY(a+2),R=i.attributes.position.getZ(a+2),W=new z(o,c,h),S=new z(d,u,p),F=new z(Z,X,R);this.getAreaFn?l.push([this.referenceFrame.toGeo(W),this.referenceFrame.toGeo(S),this.referenceFrame.toGeo(S)]):n+=new Ts(W,S,F).getArea()}return this.getAreaFn?this.getAreaFn(l):n}update(i){if(this.updateCounter+=i,!(this.updateCounter<.05)&&(this.updateCounter=0,this.hideLabels||(this.updateLabels(),this.labelRenderer.render(this.picker.sceneStatic,this.picker.camera)),this.updateMarkers(),this.onUpdate)){const e=this.activeMarker.position.clone();this.onUpdate(this.referenceFrame.toGeo(e))}}findGeometryObject(i,e){return i.children.filter(n=>n instanceof _l&&n.userData.measureType===e)[0]}findMarkerGroup(i){return i.children.filter(s=>s instanceof Si&&s.userData.isMarkerGroup)}calculateScale(i,e,s,n){const l=this.domEl.clientHeight,r=this.picker.camera.position.distanceTo(i),a=this.picker.camera.fov*Math.PI/180,o=2*Math.tan(a/2)*r,h=e/o*l;return h<s?s/h:h>=n?n/h:1}updateMarkers(){for(const i of this.markers){const e=this.findMarkerGroup(i.group);for(const s of e){if(!s)continue;const n=this.calculateScale(s.position,this.markerRadius,this.markerMinPixelSize,this.markerMaxPixelSize);s.scale.set(n,n,n),s.lookAt(this.picker.camera.position)}}}updateLabels(){for(const i of this.markers){const e=this.findMarkerGroup(i.group);if(e.length===0)continue;const s=e[0],n=i.group.userData;if(!!n.labelNeedsUpdate){if(i.labelDiv||(i.labelDiv=this.getLabelDiv()),i.label||(i.label=this.getLabel(i.labelDiv),i.group.add(i.label)),n.measureType==="point")this.setLabelText(n.measureType,i.labelDiv,new Re().setFromPoints([s.position]),i.label);else if(n.measureType==="distance"){const l=this.findGeometryObject(i.group,"distance");l&&this.setLabelText(n.measureType,i.labelDiv,l.geometry,i.label)}else if(n.measureType==="area"){const l=this.findGeometryObject(i.group,"area");l&&this.setLabelText(n.measureType,i.labelDiv,l.geometry,i.label)}i.group.userData.labelNeedsUpdate=!1}}}clear(){for(;this.markers.length>0;){let i=this.markers.pop();!i||(i.label&&i.group.remove(i.label),this.picker.sceneStatic.remove(i.group),i.group.children.forEach(e=>{e.material&&e.material.dispose(),e.geometry&&e.geometry.dispose()}),i=void 0)}}getDistance(i){if(this.getDistanceFn){const e=this.referenceFrame.toGeo({x:i.attributes.position.getX(0),y:i.attributes.position.getY(0),z:i.attributes.position.getZ(0)}),s=this.referenceFrame.toGeo({x:i.attributes.position.getX(1),y:i.attributes.position.getY(1),z:i.attributes.position.getZ(1)});return this.getDistanceFn(e,s)}else{const e=new z(i.attributes.position.getX(0),i.attributes.position.getY(0),i.attributes.position.getZ(0)),s=new z(i.attributes.position.getX(1),i.attributes.position.getY(1),i.attributes.position.getZ(1));return e.distanceTo(s)}}setLabelText(i,e,s,n){var l,r;const a=s.drawRange.count-1;switch(i){case"point":const o=s.attributes.position.getX(0),c=s.attributes.position.getY(0),h=s.attributes.position.getZ(0);let d=this.referenceFrame.toGeo({x:o,y:c,z:h});this.getPositionFn&&(d=this.getPosition(d)),e.innerHTML=`x = ${Math.round(d.x*1e3)/1e3}<br />y = ${Math.round(d.y*1e3)/1e3}<br />z = ${Math.round(d.z*1e3)/1e3}`,n&&n.position.set(o,c,h);break;case"distance":if(a<1||this.hideLabels){e.textContent="Add point";return}const u=this.getDistance(s);e.textContent=`distance = ${Math.round(u*1e3)/1e3}`,n&&n.position.copy((l=s.boundingSphere)==null?void 0:l.center);break;case"area":if(a<2){e.textContent="Add point";return}let p=s;n&&(p=this.triangulatePolygon(s),n.position.copy((r=s.boundingSphere)==null?void 0:r.center));const Z=this.getArea(p);e.textContent=`area = ${Math.round(Z*1e3)/1e3}`;break}}updateActiveMarker(){let i;if(this.pickingPlane?i=this.picker.intersectPlane(this.pickingPlane):i=this.picker.pick(),!i)return;const e=this.getPosition(i.point);this.activeMarker.position.copy(e);const s=this.calculateScale(e,this.markerRadius,this.markerMinPixelSize,this.markerMaxPixelSize);if(this.activeMarker.scale.set(s,s,s),i.normal){const l=this.getNormal(i.normal);this.activeMarker.lookAt(e.clone().add(l))}else{const l=this.getNormal(this.picker.camera.position.clone().sub(e).normalize());this.activeMarker.lookAt(e.clone().add(l))}const n=this.points.length;if(this.activeLine.geometry.setDrawRange(0,n+1),this.activeLine.geometry.attributes.position.setXYZ(n,e.x,e.y,e.z),this.activeLine.geometry.attributes.position.needsUpdate=!0,this.activeLine.geometry.computeBoundingBox(),this.activeLine.geometry.computeBoundingSphere(),this.activeDimensions!=="all"&&(this.activeDashedLine.geometry.attributes.position.setXYZ(n,i.point.x,i.point.y,i.point.z),this.activeDashedLine.geometry.attributes.position.setXYZ(n+1,e.x,e.y,e.z),this.activeDashedLine.geometry.attributes.position.needsUpdate=!0,this.activeDashedLine.geometry.computeBoundingBox(),this.activeDashedLine.geometry.computeBoundingSphere(),this.activeDashedLine.geometry.setDrawRange(0,n+2),this.activeDashedLine.computeLineDistances()),this.activeType==="area"&&this.points.length>1){const l=this.activeLine.geometry.attributes.position.getX(0),r=this.activeLine.geometry.attributes.position.getY(0),a=this.activeLine.geometry.attributes.position.getZ(0);this.activeLine.geometry.attributes.position.setXYZ(n+1,l,r,a),this.activeLine.geometry.setDrawRange(0,n+2),this.updateActiveArea(e),this.setLabelText(this.activeType,this.activeLabelDiv,this.activeAreaMesh.geometry)}else this.setLabelText(this.activeType,this.activeLabelDiv,this.activeLine.geometry)}triangulatePolygon(i,e){const s=i.drawRange.count*3,n=_k.triangulate(i.attributes.position.array.subarray(0,s),[],3),l=e||new Re().setFromPoints(Array(n.length).fill(new z));for(let r=0;r<n.length;r+=3){const a=n[r+0],o=n[r+1],c=n[r+2],h=i.attributes.position.getX(a),d=i.attributes.position.getY(a),u=i.attributes.position.getZ(a),p=i.attributes.position.getX(o),Z=i.attributes.position.getY(o),X=i.attributes.position.getZ(o),R=i.attributes.position.getX(c),W=i.attributes.position.getY(c),S=i.attributes.position.getZ(c);l.attributes.position.setXYZ(r+0,h,d,u),l.attributes.position.setXYZ(r+1,p,Z,X),l.attributes.position.setXYZ(r+2,R,W,S),l.attributes.position.needsUpdate=!0,l.computeBoundingBox(),l.computeBoundingSphere()}return l.setDrawRange(0,n.length+1),l}updateActiveArea(i){const e=this.points.map(l=>[l.x,l.y]);e.push([i.x,i.y]);const s=bP(e);yP(s).features.length>0?(this.activeLine.material.color.setHex(12320768),this.hasKinks=!0,this.activeAreaMesh.geometry.setDrawRange(0,0),this.activeAreaMesh.geometry.attributes.position.needsUpdate=!0):(this.activeLine.material.color.setHex(16777215),this.triangulatePolygon(this.activeLine.geometry,this.activeAreaMesh.geometry),this.hasKinks=!1)}addPoint(){if(this.activeType==="area"&&this.hasKinks)return;let i;if(this.pickingPlane?i=this.picker.intersectPlane(this.pickingPlane):i=this.picker.pick(),!i)return;const e=this.getPosition(i.point);this.points.push(e);const s=this.createMarker();if(s.position.copy(e),s.userData.isPickable=!1,s.userData.measureType=this.activeType,s.userData.isMarkerGroup=!0,!!this.markers[this.markers.length-1]){if(this.markers[this.markers.length-1].group.add(s),i.normal){const n=this.getNormal(i.normal);s.lookAt(e.clone().add(n))}else{const n=this.getNormal(this.picker.camera.position.clone().sub(e).normalize());s.lookAt(this.picker.camera.position.clone().add(n))}if(this.activeType==="point")return this.end();if(this.activeType==="distance"&&this.points.length===2)return this.end()}}handleLeftClick(){this.activeType!=="none"&&this.addPoint()}handleMouseMove(){this.activeType!=="none"&&this.updateActiveMarker()}cancel(){this.activeType="none";const i=this.markers.pop();!i||(this.picker.sceneStatic.remove(i.group),this.activeMarker.remove(this.activeLabel),this.picker.sceneStatic.remove(this.activeMarker),this.picker.sceneStatic.remove(this.activeLine),this.picker.sceneStatic.remove(this.activeDashedLine),this.picker.sceneStatic.remove(this.activeAreaMesh))}dispose(){this.domEl.removeChild(this.labelRenderer.domElement),this.domEl.removeEventListener("pointscene_on_leftclick",this.handleLeftClick),this.domEl.removeEventListener("pointscene_on_mousemove",this.handleMouseMove)}end(){if(this.activeMarker.remove(this.activeLabel),this.picker.sceneStatic.remove(this.activeMarker),this.picker.sceneStatic.remove(this.activeLine),this.picker.sceneStatic.remove(this.activeDashedLine),this.picker.sceneStatic.remove(this.activeAreaMesh),this.activeType==="point")this.markers[this.markers.length-1].group.userData.labelNeedsUpdate=!0;else if(this.activeType==="distance"){if(this.points.length<2)return this.cancel();const i=this.createLine(this.points,this.getLineMaterial());i.userData.measureType="distance",i.geometry.computeBoundingBox(),i.geometry.computeBoundingSphere(),this.markers[this.markers.length-1].group.add(i),this.markers[this.markers.length-1].group.userData.labelNeedsUpdate=!0}else if(this.activeType==="area"){if(this.points.length<3)return this.cancel();this.points.push(this.points[0].clone());const i=this.createLine(this.points,this.getLineMaterial());i.geometry.computeBoundingBox(),i.geometry.computeBoundingSphere(),i.userData.measureType="area",this.markers[this.markers.length-1].group.add(i),this.markers[this.markers.length-1].group.userData.labelNeedsUpdate=!0}this.activeType="none",typeof this.onFinish<"u"&&this.onFinish(this.points.map(i=>this.referenceFrame.toGeo(i))),this.onFinish=void 0,this.onUpdate=void 0}createMarker(i=15886354){const e=new Si;e.userData.measureType=this.activeType;const s=new ns(this.markerGeometry,this.getMaterial(i)),n=[new z(-this.markerRadius,0,0),new z(this.markerRadius,0,0)],l=[new z(0,-this.markerRadius,0),new z(0,this.markerRadius,0)],r=this.createLine(n,this.getLineMaterial(i)),a=this.createLine(l,this.getLineMaterial(i));return s.userData.isPickable=!1,r.userData.isPickable=!1,a.userData.isPickable=!1,e.add(s),e.add(r),e.add(a),e.up.set(0,0,1),e}createMesh(i,e){const s=new Re().setFromPoints(i);return new ns(s,e)}createLine(i,e){const s=new Re().setFromPoints(i);return new _l(s,e)}getMaterial(i=15886354){return new ul({color:i,visible:!0,transparent:!1,wireframe:!1,side:pi,depthTest:!1,depthWrite:!1})}getLineMaterial(i=15886354){return new bn({color:i,depthTest:!1,depthWrite:!1})}getLineDashedMaterial(i=15886354){return new Ju({color:i,depthTest:!1,depthWrite:!1,dashSize:.25,gapSize:.5})}getGeometryArray(i){const e=i.attributes.position.count,s=i.attributes.position;let n=[];for(let l=0;l<e;l++){const r=s.getX(l),a=s.getY(l),o=s.getZ(l);n.push(this.referenceFrame.toGeo({x:r,y:a,z:o}))}return n}getGeometry(){let i=[],e=[],s=[];for(let n of this.markers){const l=this.findMarkerGroup(n.group);if(l.length===0)continue;const r=l[0];switch(n.group.userData.measureType){case"point":i.push(this.referenceFrame.toGeo(r.position.clone()));break;case"distance":const o=this.findGeometryObject(n.group,"distance");e.push(this.getGeometryArray(o.geometry));break;case"area":const c=this.findGeometryObject(n.group,"area");s.push(this.getGeometryArray(c.geometry));break}}return{points:i,lines:e,polygons:s}}}var pZ="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='24px' viewBox='0 0 24 24' width='24px' fill='%23365379'%3e%3cpath d='M0 0h24v24H0V0z' fill='none'/%3e%3cpath d='M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3-8c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3z'/%3e%3c/svg%3e",ZP="data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8'%3f%3e%3c!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' width='24' height='24' viewBox='0 0 24 24' fill='%23365379'%3e%3cpath d='M3%2c14L3.5%2c14.07L8.07%2c9.5C7.89%2c8.85 8.06%2c8.11 8.59%2c7.59C9.37%2c6.8 10.63%2c6.8 11.41%2c7.59C11.94%2c8.11 12.11%2c8.85 11.93%2c9.5L14.5%2c12.07L15%2c12C15.18%2c12 15.35%2c12 15.5%2c12.07L19.07%2c8.5C19%2c8.35 19%2c8.18 19%2c8A2%2c2 0 0%2c1 21%2c6A2%2c2 0 0%2c1 23%2c8A2%2c2 0 0%2c1 21%2c10C20.82%2c10 20.65%2c10 20.5%2c9.93L16.93%2c13.5C17%2c13.65 17%2c13.82 17%2c14A2%2c2 0 0%2c1 15%2c16A2%2c2 0 0%2c1 13%2c14L13.07%2c13.5L10.5%2c10.93C10.18%2c11 9.82%2c11 9.5%2c10.93L4.93%2c15.5L5%2c16A2%2c2 0 0%2c1 3%2c18A2%2c2 0 0%2c1 1%2c16A2%2c2 0 0%2c1 3%2c14Z' /%3e%3c/svg%3e",XP="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='24px' viewBox='0 0 24 24' width='24px' fill='%23365379'%3e%3cpath d='M0 0h24v24H0V0z' fill='none'/%3e%3cpath d='M23 7V1h-6v2H7V1H1v6h2v10H1v6h6v-2h10v2h6v-6h-2V7h2zM3 3h2v2H3V3zm2 18H3v-2h2v2zm12-2H7v-2H5V7h2V5h10v2h2v10h-2v2zm4 2h-2v-2h2v2zM19 5V3h2v2h-2zm-5.27 9h-3.49l-.73 2H7.89l3.4-9h1.4l3.41 9h-1.63l-.74-2zm-3.04-1.26h2.61L12 8.91l-1.31 3.83z'/%3e%3c/svg%3e",TP="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='24px' viewBox='0 0 24 24' width='24px' fill='%23bc0000'%3e%3cpath d='M0 0h24v24H0V0z' fill='none' opacity='.87'/%3e%3cpath d='M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z'/%3e%3c/svg%3e",RP="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='24px' viewBox='0 0 24 24' width='24px' fill='%23f26812'%3e%3cpath d='M0 0h24v24H0V0z' fill='none'/%3e%3cpath d='M12 7C6.48 7 2 9.24 2 12c0 2.24 2.94 4.13 7 4.77V20l4-4-4-4v2.73c-3.15-.56-5-1.9-5-2.73 0-1.06 3.04-3 8-3s8 1.94 8 3c0 .73-1.46 1.89-4 2.53v2.05c3.53-.77 6-2.53 6-4.58 0-2.76-4.48-5-10-5z'/%3e%3c/svg%3e",IP="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='24px' viewBox='0 0 24 24' width='24px' fill='%23f26812'%3e%3cpath d='M0 0h24v24H0V0z' fill='none'/%3e%3cpath d='M11.99 18.54l-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16zm0-11.47L17.74 9 12 13.47 6.26 9 12 4.53z'/%3e%3c/svg%3e",gP="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='24px' viewBox='0 0 24 24' width='24px' fill='%23f26812'%3e%3cpath d='M0 0h24v24H0V0z' fill='none'/%3e%3cpath d='M21 6H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 10H3V8h2v4h2V8h2v4h2V8h2v4h2V8h2v4h2V8h2v8z'/%3e%3c/svg%3e",WP="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='24px' viewBox='0 0 24 24' width='24px' fill='%23f26812'%3e%3cpath d='M0 0h24v24H0V0z' fill='none'/%3e%3cpath d='M10 12c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM6 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12-8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm-4 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm4-4c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-4-4c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-4-4c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z'/%3e%3c/svg%3e",LP="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='24px' viewBox='0 0 24 24' width='24px' fill='%23f26812'%3e%3cpath d='M0 0h24v24H0V0z' fill='none'/%3e%3cpath d='M20 9c-.04-4.39-3.6-7.93-8-7.93S4.04 4.61 4 9v6c0 4.42 3.58 8 8 8s8-3.58 8-8V9zm-2 0h-5V3.16c2.81.47 4.96 2.9 5 5.84zm-7-5.84V9H6c.04-2.94 2.19-5.37 5-5.84zM18 15c0 3.31-2.69 6-6 6s-6-2.69-6-6v-4h12v4z'/%3e%3c/svg%3e",SP="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='48' width='48' fill='%23f26812'%3e%3cpath d='M17.2 17.4 15 15.2 24 6.2 33 15.2 30.8 17.4 24 10.6ZM24 42 15 33 17.2 30.8 24 37.6 30.8 30.8 33 33Z'/%3e%3c/svg%3e",CP="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='48' width='48' fill='%23f26812'%3e%3cpath d='M24 19.15 15 10.15 17.15 8 24 14.85 30.85 8 33 10.15ZM17.15 40 15 37.85 24 28.85 33 37.85 30.85 40 24 33.15Z'/%3e%3c/svg%3e",fP="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='48' width='48' fill='%23f26812'%3e%3cpath d='M7 40Q5.85 40 4.925 39.075Q4 38.15 4 37V11Q4 9.85 4.925 8.925Q5.85 8 7 8H21.05L24.05 11H41Q42.15 11 43.075 11.925Q44 12.85 44 14H22.75L19.75 11H7Q7 11 7 11Q7 11 7 11V37Q7 37 7 37Q7 37 7 37L12.1 17H47L41.65 37.7Q41.35 38.9 40.55 39.45Q39.75 40 38.5 40ZM10.15 37H38.75L42.95 20H14.35ZM10.15 37 14.35 20 10.15 37ZM7 14V11Q7 11 7 11Q7 11 7 11V14Z'/%3e%3c/svg%3e",VP="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='48' width='48' fill='%23f26812'%3e%3cpath d='M7.05 40Q5.85 40 4.95 39.075Q4.05 38.15 4.05 37V11Q4.05 9.85 4.95 8.925Q5.85 8 7.05 8H21.05L24.05 11H41.05Q42.2 11 43.125 11.925Q44.05 12.85 44.05 14V37Q44.05 38.15 43.125 39.075Q42.2 40 41.05 40ZM7.05 11V37Q7.05 37 7.05 37Q7.05 37 7.05 37H41.05Q41.05 37 41.05 37Q41.05 37 41.05 37V14Q41.05 14 41.05 14Q41.05 14 41.05 14H22.8L19.8 11H7.05Q7.05 11 7.05 11Q7.05 11 7.05 11ZM7.05 11Q7.05 11 7.05 11Q7.05 11 7.05 11V14Q7.05 14 7.05 14Q7.05 14 7.05 14V37Q7.05 37 7.05 37Q7.05 37 7.05 37Q7.05 37 7.05 37Q7.05 37 7.05 37Z'/%3e%3c/svg%3e",xP="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='48' width='48'%3e%3cpath d='M19.6 42H9Q7.8 42 6.9 41.1Q6 40.2 6 39V9Q6 7.8 6.9 6.9Q7.8 6 9 6H19.6V9H9Q9 9 9 9Q9 9 9 9V39Q9 39 9 39Q9 39 9 39H19.6ZM22.6 46V2H25.6V46ZM39 9H38.3V6H39Q40.2 6 41.1 6.9Q42 7.8 42 9V9.7H39ZM39 26.75V21.25H42V26.75ZM39 42H38.3V39H39V38.3H42V39Q42 40.2 41.1 41.1Q40.2 42 39 42ZM39 18.25V12.7H42V18.25ZM39 35.3V29.75H42V35.3ZM28.6 42V39H35.3V42ZM28.6 9V6H35.3V9Z'/%3e%3c/svg%3e",NP=Object.defineProperty,FP=Object.getOwnPropertyDescriptor,Po=(t,i,e,s)=>{for(var n=s>1?void 0:s?FP(i,e):i,l=t.length-1,r;l>=0;l--)(r=t[l])&&(n=(s?r(i,e,n):r(n))||n);return s&&n&&NP(i,e,n),n};let Ra=class extends bi{constructor(){super(...arguments);this.icon="point",this.width="22px",this.height="22px",this.class=""}render(){return as`
      <img class=${this.class} width=${this.width} height=${this.height} src=${this.getImage(this.icon)} />
    `}getImage(t){switch(t){case"point":return pZ;case"distance":return ZP;case"area":return XP;case"cancel":return TP;case"360":return RP;case"layers":return IP;case"ruler":return gP;case"pointcloud":return WP;case"controls":return LP;case"unfold_more":return SP;case"unfold_less":return CP;case"folder_open":return fP;case"folder_closed":return VP;case"clip":return xP;default:return pZ}}};Po([Qe({type:String})],Ra.prototype,"icon",2),Po([Qe({type:String})],Ra.prototype,"width",2),Po([Qe({type:String})],Ra.prototype,"height",2),Po([Qe({type:String})],Ra.prototype,"class",2),Ra=Po([In("pointscene-icon")],Ra);var MP=Object.defineProperty,YP=Object.getOwnPropertyDescriptor,sr=(t,i,e,s)=>{for(var n=s>1?void 0:s?YP(i,e):i,l=t.length-1,r;l>=0;l--)(r=t[l])&&(n=(s?r(i,e,n):r(n))||n);return s&&n&&MP(i,e,n),n};let Qn=class extends bi{constructor(){super(...arguments);this.disabled=!1,this.active=!1,this.label="",this.badge=""}render(){return as`
      <button ?disabled=${this.disabled} class="${this.active?"button-active":""}">
        <span class="pointscene-button-icon">
          <pointscene-icon icon=${this.active===!0?this.iconCancel:this.icon}></pointscene-icon>
        </span>
        <span class="pointscene-button-label">
          ${this.label}
        </span>
        ${this.badge?as`
          <span class="pointscene-button-badge">
            ${this.badge}
          </span>
        `:""}
      </button>
    `}};Qn.styles=nn`
    button {
      position: relative;
      left: 3px;
      font-family: 'Open Sans';
      padding: 2px;
      margin: 2px;
      padding-left: 4px;
      padding-right: 4px;
      background-color: white;
      border-radius: 5px;
      border-color: #365379;
      border-width: 0px;
      transition: all 0.3s ease 0s;
      color: #365379;
      width: 92%;
      height: 30px;
      box-shadow: none;
    }
    button:active {
      background-color: #eee;
    }
    button:hover {
      cursor: pointer;
      background-color: #eee;
    }
    button:disabled {
      border-color: transparent;
      background-color: #fff;
      cursor: not-allowed;
    }
    .button-active {
      background-color: #eee;
    }
    .pointscene-button-icon {
      position: absolute;
      left: 4px;
      top: 4px;
      color: ##365379;
    }
    .pointscene-button-label {
      position: absolute;
      left: 32px;
      top: 4px;
      font-size: 14px;
    }
    .pointscene-button-badge {
      position: absolute;
      right: 8px;
      top: 0px;
      font-size: 12px;
      color: #f26812;
    }
  `,sr([Qe({type:Boolean})],Qn.prototype,"disabled",2),sr([Qe({type:Boolean})],Qn.prototype,"active",2),sr([Qe({type:String})],Qn.prototype,"label",2),sr([Qe({type:String})],Qn.prototype,"badge",2),sr([Qe({type:String})],Qn.prototype,"icon",2),sr([Qe({type:String})],Qn.prototype,"iconCancel",2),Qn=sr([In("pointscene-button")],Qn);var vP=Object.defineProperty,EP=Object.getOwnPropertyDescriptor,Uo=(t,i,e,s)=>{for(var n=s>1?void 0:s?EP(i,e):i,l=t.length-1,r;l>=0;l--)(r=t[l])&&(n=(s?r(i,e,n):r(n))||n);return s&&n&&vP(i,e,n),n};let ir=class extends bi{constructor(){super(...arguments);this.label="",this.checked=!1,this.disabled=!1,this.expanded=!1}render(){return as`
        <label class="pointscene-switch">
            <input type="checkbox"
                .disabled=${this.disabled}
                @change=${this.handleChange}
                .checked=${this.checked}
            >
            <span class="pointscene-slider round"></span>
            <span class="pointscene-switch-label" style="${this.expanded?"width: 300px;":""}">
                ${this.label}
            </span>
        </label>
    `}handleChange(t){this.dispatchEvent(new CustomEvent("change",{}))}};ir.styles=[wk],Uo([Qe({type:String})],ir.prototype,"label",2),Uo([Qe({type:Boolean})],ir.prototype,"checked",2),Uo([Qe({type:Boolean})],ir.prototype,"disabled",2),Uo([Qe({type:Boolean})],ir.prototype,"expanded",2),ir=Uo([In("pointscene-switch")],ir);class zP{constructor(){this.header=`999
DXF downloaded from Pointscene.com
0
SECTION
2
HEADER
9
$ACADVER
1
AC1006
9
$INSBASE
10
0.0
20
0.0
30
0.0
9
$EXTMIN
10
{xmin}
20
{ymin}
30
{zmin}
9
$EXTMAX
10
{xmax}
20
{ymax}
30
{zmax}
0
ENDSEC
`,this.header+=`0
SECTION
2
TABLES
0
TABLE
2
LTYPE
70
1
0
LTYPE
2
CONTINUOUS
70
64
3
Solid line
72
65
73
0
40
0.000000
0
ENDTAB
`,this.header+=`0
TABLE
2
LAYER
70
6
0
LAYER
2
1
70
64
62
7
6
CONTINUOUS
0
LAYER
2
2
70
64
62
7
6
CONTINUOUS
0
ENDTAB
0
TABLE
2
STYLE
70
0
0
ENDTAB
0
ENDSEC
`,this.header+=`0
SECTION
2
BLOCKS
0
ENDSEC
`,this.body="",this.footer=`0
EOF`,this.entitiesBegin=`0
SECTION
2
ENTITIES
`,this.entityEnd=`0
ENDSEC
`,this.pointEnt=`0
POINT
5
{id}
8
{layer}
6
CONTINUOUS
62
150
10
{x}
20
{y}
30
{z}
`,this.vertexBegin=`0
POLYLINE
8
{layer}
62
0
66
1
10
0.0
20
0.0
30
0.0
70
8
`,this.vertex=`0
VERTEX
8
{layer}
10
{x}
20
{y}
30
{z}
70
32
`,this.vertexEnd=`0
SEQEND
`,this.points=[],this.lines=[],this.polygons=[],this.xmin=9999999999e-2,this.ymin=9999999999e-2,this.zmin=9999999999e-2,this.xmax=-9999999999e-2,this.ymax=-9999999999e-2,this.zmax=-9999999999e-2}dispose(){this.points=[],this.lines=[],this.polygons=[]}setPoints(i){this.points=[],this.points=i}setLines(i){this.lines=[],this.lines=i}setPolygons(i){this.polygons=[],this.polygons=i}addPoint(i){this.points.push(i)}addLine(i){this.lines.push(i)}addPolygon(i){this.polygons.push(i)}updateExtremes(i){this.xmin=Math.min(this.xmin,i.x),this.ymin=Math.min(this.ymin,i.y),this.zmin=Math.min(this.zmin,i.z),this.xmax=Math.max(this.xmax,i.x),this.ymax=Math.max(this.ymax,i.y),this.zmax=Math.max(this.zmax,i.z)}getData(){if(this.lines.length===0&&this.polygons.length===0&&this.points.length===0)return;let i="";i+=this.entitiesBegin;for(let s=0;s<this.points.length;s++){const n=this.points[s];this.updateExtremes(n),i+=this.pointEnt.replace("{id}",s.toString()).replace("{x}",n.x.toString()).replace("{y}",n.y.toString()).replace("{z}",n.z.toString()).replace("{layer}","POINTS")}for(let s=0;s<this.lines.length;s++){const n=this.lines[s];i+=this.vertexBegin.replace("{layer}","LINES");for(let l=0;l<n.length;l++){const r=n[l];this.updateExtremes(r);let a=this.vertex.slice(0);a=a.replace("{x}",r.x.toString()).replace("{y}",r.y.toString()).replace("{z}",r.z.toString()).replace("{layer}","LINES"),i+=a}i+=this.vertexEnd.slice(0)}for(let s=0;s<this.polygons.length;s++){const n=this.polygons[s];i+=this.vertexBegin.replace("{layer}","POLYGONS");for(let l=0;l<n.length;l++){const r=n[l];this.updateExtremes(r);let a=this.vertex.slice(0);a=a.replace("{x}",r.x.toString()).replace("{y}",r.y.toString()).replace("{z}",r.z.toString()).replace("{layer}","POLYGONS"),i+=a}i+=this.vertexEnd.slice(0)}i+=this.entityEnd;let e=this.header;return e=e.replace("{xmin}",this.xmin.toString()).replace("{ymin}",this.ymin.toString()).replace("{zmin}",this.zmin.toString()),e=e.replace("{xmax}",this.xmax.toString()).replace("{ymax}",this.ymax.toString()).replace("{zmax}",this.zmax.toString()),e+i+this.footer}reset(){this.points=[],this.lines=[],this.polygons=[]}saveFile(){const i=this.getData();if(!i)return;const e=new Blob([i],{type:"text/plain;charset=utf-8"}),s=document.createElement("a");s.href=window.URL.createObjectURL(e),s.download="pointscene_export_"+Date.now()+".dxf",s.style.display="none",document.body.appendChild(s),s.click(),setTimeout(function(){document.body.removeChild(s)},1e3)}}var HP=Object.defineProperty,mZ=Object.getOwnPropertySymbols,KP=Object.prototype.hasOwnProperty,wP=Object.prototype.propertyIsEnumerable,bZ=(t,i,e)=>i in t?HP(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e,kP=(t,i)=>{for(var e in i||(i={}))KP.call(i,e)&&bZ(t,e,i[e]);if(mZ)for(var e of mZ(i))wP.call(i,e)&&bZ(t,e,i[e]);return t};class PP{constructor(i){this.clipPlane=new mi,this.pickPlane=new mi,this.axis=new z(0,0,1),this.meshVisible=!1,this.needsUpdate=!1,this.events=new Ei,this.isDragging=!1,this.measureTool=new Sp({picker:i.picker,referenceFrame:i.referenceFrame,hideLabels:!0}),this.renderer=i.renderer,this.model=new Si;const e=[];e.push(new z(-.5,-.5,0)),e.push(new z(-.5,.5,0)),e.push(new z(.5,.5,0)),e.push(new z(.5,-.5,0)),e.push(new z(-.5,-.5,0));const s=new Re().setFromPoints(e),n=new bn({color:15886354,side:pi,transparent:!0,opacity:.8});this.model.add(new _l(s,n));const l=new co(1,1,1,1),r=new ul({color:15886354,side:pi,transparent:!0,opacity:.05});this.model.add(new ns(l,r)),this.handleSliderDragStart=this.handleSliderDragStart.bind(this),this.handleSliderDragEnd=this.handleSliderDragEnd.bind(this),this.handleSliderHoverIn=this.handleSliderHoverIn.bind(this),this.handleSliderHoverOut=this.handleSliderHoverOut.bind(this),this.slider=this.getSlider(),this.events.dispatch("pointscene_register_update_hook",{fn:this.update.bind(this)},this.measureTool.picker.domEl)}update(){!this.needsUpdate||this.measureTool.points.length!==2||(this.updatePlane(),this.isDragging&&this.translatePlane())}start(i){this.onUpdate=i.onUpdate,this.onFinish=i.onFinish,this.needsUpdate=!0,this.add()}flipNormal(i,e,s){return e=e||new z(0,0,0),s=s||new z(0,0,Number.MAX_VALUE),new z(s.x-e.x,s.y-e.y,s.z-e.z).clone().dot(i)<0&&i.multiplyScalar(-1),i}getNonClipMaterial(){const i={vertexShader:`
        attribute vec3 center;
        varying vec3 vCenter;

        void main() {
          vCenter = center;
          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
        }
      `,fragmentShader:`
        varying vec3 vCenter;
        uniform float thickness;
        uniform float opacity;
        uniform vec3 color;

        void main() {
          vec3 afwidth = fwidth(vCenter.xyz);
          vec3 edge3 = smoothstep((thickness - 1.0) * afwidth, thickness * afwidth, vCenter.xyz);

          float edge = 1.0 - min(min(edge3.x, edge3.y), edge3.z);
  
          gl_FragColor.rgb = color;
          gl_FragColor.a = edge > opacity ? edge : opacity;
        }
      `,uniforms:{opacity:{type:"f",value:.4},color:new Ih(new it(16777215)),thickness:{type:"f",value:1.5}}};return new ri(kP({side:pi,transparent:!0,depthWrite:!1,depthTest:!1,clipping:!1},i))}getSlider(){const i=o=>{const c=[new z(1,0,0),new z(0,1,0),new z(0,0,1)],h=o.attributes.position,d=new Float32Array(h.count*3);for(let u=0,p=h.count;u<p;u++)c[u%3].toArray(d,u*3);o.setAttribute("center",new Ne(d,3))},e=new Float32Array([0,0,.25,0,-.25,0,0,.25,0]),s=new Re;s.setAttribute("position",new Ne(e,3)),i(s);const n=this.getNonClipMaterial(),l=new ns(s,n);l.position.z=.5;const r=new ns(s,n);r.position.z=-.5,r.rotateY(Math.PI);const a=new Si;return a.add(l),a.add(r),a.userData.isInteractive=!0,a.userData.isPickable=!0,l.userData.isInteractive=!0,l.userData.isPickable=!0,l.userData.side="forward",r.userData.isInteractive=!0,r.userData.isPickable=!0,r.userData.side="back",l.addEventListener("hover_in",this.handleSliderHoverIn),l.addEventListener("hover_out",this.handleSliderHoverOut),l.addEventListener("drag_start",this.handleSliderDragStart),l.addEventListener("drag_end",this.handleSliderDragEnd),r.addEventListener("hover_in",this.handleSliderHoverIn),r.addEventListener("hover_out",this.handleSliderHoverOut),r.addEventListener("drag_start",this.handleSliderDragStart),r.addEventListener("drag_end",this.handleSliderDragEnd),a}handleSliderHoverIn(i){i.target.material.uniforms.opacity.value=.8,i.target.material.uniforms.thickness.value=2.5,i.target.material.uniforms.color.value=new it(15886354),this.measureTool.picker.domEl.style.cursor="grab"}handleSliderHoverOut(i){i.target.material.uniforms.opacity.value=.2,i.target.material.uniforms.thickness.value=1.5,i.target.material.uniforms.color.value=new it(16777215),this.measureTool&&(this.measureTool.picker.domEl.style.cursor="auto")}handleSliderDragStart(){const i=this.measureTool.picker.domEl;this.events.dispatch(ee.DisableControls,{},i),this.isDragging=!0}handleSliderDragEnd(){const i=this.measureTool.picker.domEl;this.events.dispatch(ee.EnableControls,{},i),this.isDragging=!1,this.dragStartOffset=void 0}translatePlane(){const i=this.measureTool.picker.intersectPlane(this.pickPlane);if(!i)return;if(!this.dragStartOffset){const l=this.model.position.clone();this.dragStartOffset=l.sub(i.point)}const e=i.point.clone().add(this.dragStartOffset);let s=this.clipPlane.normal.clone();s=this.flipNormal(s,this.measureTool.picker.camera.position,e),this.clipPlane.setFromNormalAndCoplanarPoint(s,e),this.pickPlane.setFromNormalAndCoplanarPoint(this.axis,e);const n=i.point.clone().add(this.dragStartOffset).add(s.clone().setLength(.01));this.model.position.copy(n),this.slider.position.copy(n)}updatePlane(){let i=this.clipPlane.normal.clone();const e=this.model.position.clone();i=this.flipNormal(i,this.measureTool.picker.camera.position,e),this.clipPlane.setFromNormalAndCoplanarPoint(i,e),this.pickPlane.setFromNormalAndCoplanarPoint(this.axis,e)}updatePlaneFromPoints(i){const e=i,s=new z().lerpVectors(e[0],e[1],.5),n=i[1].clone().sub(e[0]),l=n.length();let r=n.cross(this.axis).normalize();r=this.flipNormal(r,this.measureTool.picker.camera.position,s);const a=r.clone().setLength(.01);this.clipPlane.setFromNormalAndCoplanarPoint(r,s),this.pickPlane.setFromNormalAndCoplanarPoint(this.axis,s),this.model.position.copy(s.clone().add(a)),this.model.scale.set(l,l,l),this.model.lookAt(s.clone().add(r)),this.slider.position.copy(s.clone().add(a)),this.slider.scale.set(l,l,l),this.slider.lookAt(s.clone().add(r))}add(){this.measureTool.start("distance",{onFinish:i=>{this.updatePlaneFromPoints(this.measureTool.points),this.end()},onUpdate:i=>{!this.needsUpdate||this.measureTool.points.length!==0&&(this.meshVisible||(this.measureTool.picker.sceneStatic.add(this.model),this.measureTool.picker.scenePickable.add(this.slider),this.measureTool.pickingPlane=this.pickPlane,this.meshVisible=!0),this.updatePlaneFromPoints([this.measureTool.points[0],this.measureTool.referenceFrame.toScene(i)]),this.renderer&&this.meshVisible&&(this.renderer.clippingPlanes=[this.clipPlane],this.renderer.localClippingEnabled=!1),this.onUpdate&&this.onUpdate([]))}})}end(){this.onFinish&&this.onFinish(this.measureTool.points),this.measureTool.clear(),this.onUpdate=void 0,this.onFinish=void 0}clear(){this.measureTool.picker.sceneStatic.remove(this.model),this.measureTool.picker.scenePickable.remove(this.slider),this.meshVisible=!1,this.needsUpdate=!1,this.renderer&&(this.renderer.clippingPlanes=[],this.renderer.localClippingEnabled=!0)}dispose(){this.slider&&this.slider.children.forEach(i=>{i.removeEventListener("drag_start",this.handleSliderDragStart),i.removeEventListener("drag_end",this.handleSliderDragEnd),i.removeEventListener("hover_in",this.handleSliderHoverIn),i.removeEventListener("hover_out",this.handleSliderHoverOut),i.material.dispose(),i.geometry.dispose()}),this.model&&this.model.children.forEach(i=>{i.material.dispose(),i.geometry.dispose()})}}var UP=Object.defineProperty,DP=Object.getOwnPropertyDescriptor,Ln=(t,i,e,s)=>{for(var n=s>1?void 0:s?DP(i,e):i,l=t.length-1,r;l>=0;l--)(r=t[l])&&(n=(s?r(i,e,n):r(n))||n);return s&&n&&UP(i,e,n),n};let zi=class extends bi{constructor(){super();this.expanded=!1,this._activeTool="none",this._snapDepth=!1,this._snapPointcloud=!0,this._snapModel=!0,this._xyOnly=!1,this._zOnly=!1,this.isCollapsed=!0,this.domEl="",this.events=new Ei,this.registerPicker=this.registerPicker.bind(this)}connectedCallback(){super.connectedCallback();const t=document.querySelector(`#${this.domEl}`);t==null||t.addEventListener(ee.RegisterPicker,this.registerPicker),this.events.dispatch(ee.MeasureUICreated,{},t)}disconnectedCallback(){var t,i;const e=document.querySelector(`#${this.domEl}`);e==null||e.removeEventListener(ee.RegisterPicker,this.registerPicker),(t=this.measureTool)==null||t.dispose(),(i=this.clippingTool)==null||i.dispose(),super.disconnectedCallback()}registerPicker(t){this.picker=t.detail.picker,this.referenceFrame=t.detail.referenceFrame;const i=t.detail.renderer;if(!this.picker||!this.referenceFrame||!i)throw new Error("Missing picker or reference frame: "+this.picker+" "+this.referenceFrame);this.measureTool=new Sp({picker:this.picker,referenceFrame:this.referenceFrame}),this.clippingTool=new PP({picker:this.picker,referenceFrame:this.referenceFrame,renderer:i})}render(){return as`
      <div class="pointscene-header" @click=${this.toggleCollapsed}>
        <div class="pointscene-header-icon">
          <pointscene-icon icon="ruler" width="18px" height="18px"></pointscene-icon>
        </div>
        <div class="pointscene-header-title">
          TOOLS
        </div>
        <div class="pointscene-header-toggle">
          ${this.isCollapsed?"+":"-"}
        </div>
      </div>
      ${this.isCollapsed?"":as`
        <div>
          <pointscene-button
            ?disabled=${this.isDisabled("point")}
            ?active=${this._activeTool==="point"}
            @click=${()=>this.toggleActiveTool("point")}
            icon="point"
            iconCancel="cancel"
            label="Point"
            .badge=${this.getDimensionBadge(!1)}
          ></pointscene-button>
        </div>
        <div>
          <pointscene-button
            ?disabled=${this.isDisabled("distance")}
            ?active=${this._activeTool==="distance"}
            @click=${()=>this.toggleActiveTool("distance")}
            icon="distance"
            iconCancel="cancel"
            label="Distance"
            .badge=${this.getDimensionBadge(this._activeTool==="distance")}
          ></pointscene-button>
        </div>
        <div>
          <pointscene-button
            ?disabled=${this.isDisabled("area")}
            ?active=${this._activeTool==="area"}
            @click=${()=>this.toggleActiveTool("area")}
            icon="area"
            iconCancel="cancel"
            label="Area"
            .badge=${this.getDimensionBadge(this._activeTool==="area")}
          ></pointscene-button>
        </div>
        <div>
          <pointscene-button
            ?disabled=${this.isDisabled("clip")}
            ?active=${this._activeTool==="clip"}
            @click=${()=>this.toggleActiveTool("clip")}
            icon="clip"
            iconCancel="cancel"
            label="Clip"
            .badge=${this.getDimensionBadge(this._activeTool==="clip")}
          ></pointscene-button>
        </div>

        <button
          class="pointscene-cancel-button"
          @click=${this.clearMeasurements}
        >
            Clear
        </button>

        <button
          class="pointscene-basic-button"
          @click=${this.exportMeasurements}
        >
            Export
        </button>

        <button
          class="pointscene-collapsible-button"
          @click=${this.toggleExpanded}
        >
            Advanced ${this.expanded?"-":"+"}
        </button>

        ${this.expanded?as`
        <div class="pointscene-expanded-content">
          <div class="pointscene-header">Dimensions</div>
          <div>
            <pointscene-switch
              .checked=${this._xyOnly}
              label="X/Y only"
              @change=${this.toggleXYOnly}
            ></pointscene-switch>
          </div>
          <div>
            <pointscene-switch
              .checked=${this._zOnly}
              label="Z only"
              @change=${this.toggleZOnly}
            ></pointscene-switch>
          </div>

          <hr />

          <div class="pointscene-header">Snap</div>
          <div>
            <pointscene-switch
              .checked=${this._snapDepth}
              label="360 depth"
              @change=${this.toggleSnapDepth}
            ></pointscene-switch>
          </div>
          <div>
            <pointscene-switch
              .checked=${this._snapModel}
              label="Model"
              @change=${this.toggleSnapModel}
            ></pointscene-switch>
          </div>
          <div>
            <pointscene-switch
              .checked=${this._snapPointcloud}
              label="Point cloud"
              @change=${this.toggleSnapPointcloud}
            ></pointscene-switch>
          </div>
        </div>
        `:""}
      `}
    `}getDimensionBadge(t){if(!!t)return this._xyOnly?"XY":this._zOnly?"Z":void 0}clearMeasurements(){var t,i;(t=this.measureTool)==null||t.clear(),(i=this.clippingTool)==null||i.clear()}isDisabled(t){return this._activeTool==="none"?!1:t!==this._activeTool}exportMeasurements(){var t;const i=(t=this.measureTool)==null?void 0:t.getGeometry();if(!this.measureTool||!i||!this.referenceFrame)return;const e=new zP;for(const s of i.points)e.addPoint(this.referenceFrame.toGeo(s));for(const s of i.lines)e.addLine(s.map(n=>this.referenceFrame.toGeo(n)));for(const s of i.polygons)e.addPolygon(s.map(n=>this.referenceFrame.toGeo(n)));e.saveFile()}toggleActiveTool(t){var i,e,s;if(!(this._activeTool!=="none"&&t!==this._activeTool))switch(this._activeTool=t===this._activeTool?"none":t,this._activeTool){case"point":case"distance":case"area":(i=this.measureTool)==null||i.start(this._activeTool,{onFinish:n=>this._activeTool="none"});return;case"clip":(e=this.clippingTool)==null||e.start({onUpdate:n=>{},onFinish:n=>{this._activeTool="none"}});return;case"none":(s=this.measureTool)==null||s.end();default:return}}toggleCollapsed(){this.isCollapsed=!this.isCollapsed}toggleExpanded(){this.expanded=!this.expanded}toggleSnapDepth(){this._snapDepth=!this._snapDepth,this.measureTool&&(this.measureTool.picker.pickDepth=this._snapDepth)}toggleSnapPointcloud(){this._snapPointcloud=!this._snapPointcloud,this.measureTool&&(this.measureTool.picker.pickPointclouds=this._snapPointcloud)}toggleSnapModel(){this._snapModel=!this._snapModel,this.measureTool&&(this.measureTool.picker.pickModels=this._snapModel)}toggleXYOnly(){this._xyOnly=!this._xyOnly,this._xyOnly&&this._zOnly&&(this._zOnly=!1),!!this.measureTool&&this.measureTool.setActiveDimensions(this._xyOnly?"xy":"all")}toggleZOnly(){this._zOnly=!this._zOnly,this._zOnly&&this._xyOnly&&(this._xyOnly=!1),!!this.measureTool&&this.measureTool.setActiveDimensions(this._zOnly?"z":"all")}updateActiveDimension(){!this.measureTool||(this._xyOnly?this.measureTool.setActiveDimensions("xy"):this._zOnly?this.measureTool.setActiveDimensions("z"):this.measureTool.setActiveDimensions("all"))}};zi.styles=[$l,Kk,DG,Hk],Ln([Fs()],zi.prototype,"expanded",2),Ln([Fs()],zi.prototype,"_activeTool",2),Ln([Fs()],zi.prototype,"_snapDepth",2),Ln([Fs()],zi.prototype,"_snapPointcloud",2),Ln([Fs()],zi.prototype,"_snapModel",2),Ln([Fs()],zi.prototype,"_xyOnly",2),Ln([Fs()],zi.prototype,"_zOnly",2),Ln([Fs()],zi.prototype,"isCollapsed",2),Ln([Qe({type:String})],zi.prototype,"domEl",2),zi=Ln([In("pointscene-tools")],zi);var JP=Object.defineProperty,OP=Object.getOwnPropertyDescriptor,Ia=(t,i,e,s)=>{for(var n=s>1?void 0:s?OP(i,e):i,l=t.length-1,r;l>=0;l--)(r=t[l])&&(n=(s?r(i,e,n):r(n))||n);return s&&n&&JP(i,e,n),n};let Cl=class extends bi{constructor(){super(...arguments);this.domEl="",this.depthEnabled=!1,this.peekMode=!1,this.backgroundMode=!1,this.isCollapsed=!0,this.events=new Ei}render(){return as`
      <div class="pointscene-header" @click=${this.toggleCollapsed}>
        <div class="pointscene-header-icon">
          <pointscene-icon icon="360" width="18px" height="18px"></pointscene-icon>
        </div>
        <div class="pointscene-header-title">
          PHOTO
        </div>
        <div class="pointscene-header-toggle">
          ${this.isCollapsed?"+":"-"}
        </div>
      </div>
      ${this.isCollapsed?as`
      <div>
        <button
          class="pointscene-cancel-button"
          @click=${this.exitPhotoMode}
        >
          Exit 360
        </button>
      </div>
      `:""}
      ${this.isCollapsed?"":as`
      <div class="pointscene-expanded-content">
        <div>
          <pointscene-switch
            .checked=${this.peekMode}
            label="Peek mode"
            @change=${this.togglePeekMode}
          ></pointscene-switch>
        </div>
        <div>
          <pointscene-switch
            .checked=${this.backgroundMode}
            label="Background"
            @change=${this.toggleBackgroundMode}
          ></pointscene-switch>
        </div>
        ${this.depthEnabled?as`
        <div class="pointscene-depth-enabled">
          Depth enabled
        </div>
        `:""}
        <div>
          <button
            class="pointscene-cancel-button"
            @click=${this.exitPhotoMode}
          >
            Exit 360
          </button>
        </div>
      </div>
      `}
    `}dispatch(t,i){const e=document.querySelector(`#${this.domEl}`);!e||this.events.dispatch(t,i,e)}exitPhotoMode(){this.dispatch(ee.ExitSphereMode,{}),this.dispatch(ee.SetPhotoPeekMode,{value:!1}),this.dispatch(ee.SetPhotoBackgroundMode,{value:!1})}toggleCollapsed(){this.isCollapsed=!this.isCollapsed}togglePeekMode(){this.peekMode=!this.peekMode,this.peekMode&&this.backgroundMode&&this.toggleBackgroundMode(),this.dispatch(ee.SetPhotoPeekMode,{value:this.peekMode})}toggleBackgroundMode(){this.backgroundMode=!this.backgroundMode,this.backgroundMode&&this.peekMode&&this.togglePeekMode(),this.dispatch(ee.SetPhotoBackgroundMode,{value:this.backgroundMode})}};Cl.styles=[$l,DG,nn`
    /*
      :host {
        position: absolute;
        right: 160px;
        top: 20px;
      }*/
      .pointscene-depth-enabled {
        color: #4b8d2f;
        font-size: 12px;
        padding: 4px;
        text-align: center;
      }
    `],Ia([Qe({type:String})],Cl.prototype,"domEl",2),Ia([Qe({type:Boolean})],Cl.prototype,"depthEnabled",2),Ia([Fs()],Cl.prototype,"peekMode",2),Ia([Fs()],Cl.prototype,"backgroundMode",2),Ia([Fs()],Cl.prototype,"isCollapsed",2),Cl=Ia([In("pointscene-spherical")],Cl);var BP=Object.defineProperty,AP=Object.getOwnPropertyDescriptor,Do=(t,i,e,s)=>{for(var n=s>1?void 0:s?AP(i,e):i,l=t.length-1,r;l>=0;l--)(r=t[l])&&(n=(s?r(i,e,n):r(n))||n);return s&&n&&BP(i,e,n),n};let nr=class extends bi{constructor(){super();this.domEl="",this.expanded=!1,this.isCollapsed=!0,this.data=[],this.events=new Ei,this.registerLayers=this.registerLayers.bind(this)}connectedCallback(){super.connectedCallback();const t=document.querySelector(`#${this.domEl}`);t==null||t.addEventListener(ee.RegisterLayers,this.registerLayers),this.events.dispatch(ee.LayerUICreated,{},t)}disconnectedCallback(){var t;const i=document.querySelector(`#${this.domEl}`);i==null||i.removeEventListener(ee.RegisterLayers,this.registerLayers),(t=this.layers)==null||t.dispose(),super.disconnectedCallback()}registerLayers(t){this.layers=t.detail.layers,!!this.layers&&(this.layers.registerOnUpdateCallback(this.layerUpdateCallback.bind(this)),this.data=this.layers.getAll())}layerUpdateCallback(){!this.layers||(this.data=this.layers.getAll())}render(){return as`
      <div class="pointscene-header" @click=${this.toggleCollapsed}>
        <div class="pointscene-header-icon">
          <pointscene-icon icon="layers" width="18px" height="18px"></pointscene-icon>
        </div>
        <div class="pointscene-header-title">
          LAYERS
        </div>
        <div class="pointscene-header-toggle">
          ${this.isCollapsed?"+":"-"}
        </div>
      </div>
      ${this.isCollapsed?"":as`
          <div class="pointscene-expanded-content">
          ${this.data.map(t=>{var i;return as`
            <div class="layer-switch-container">
              <pointscene-switch
                ?expanded=${this.expanded}
                ?checked=${(i=this.layers)==null?void 0:i.isVisible(t.id)}
                label="${t.name}"
                @change=${()=>{var e;return(e=this.layers)==null?void 0:e.toggleVisibility(t.id)}}
              ></pointscene-switch>
            </div>
            `})}
          </div>
        `}
    `}handleMouseOut(t){var i;if(!this.hoverTarget)return;const e=t.target;if(!e||!this.hoverTarget.isEqualNode(e))return;const s=(i=this.shadowRoot)==null?void 0:i.getElementById("layer-hover-text");!s||(s.style.visibility="hidden")}handleMouseOver(t){var i;const e=t.target;if(console.log("name",e.className),!e)return;const s=(i=this.shadowRoot)==null?void 0:i.getElementById("layer-hover-text");!s||(this.hoverTarget=e,s.style.visibility="visible",s.style.left=`${t.clientX-180}px`,s.style.top=`${t.clientY}px`,s.innerText=e.getAttribute("label"))}toggleCollapsed(){this.isCollapsed=!this.isCollapsed}};nr.styles=[$l,nn`
      .layer-switch-container {
        width: 94%;
        height: 24px;
      }
    `],Do([Qe({type:String})],nr.prototype,"domEl",2),Do([Qe({type:Boolean})],nr.prototype,"expanded",2),Do([Fs()],nr.prototype,"isCollapsed",2),Do([Fs()],nr.prototype,"data",2),nr=Do([In("pointscene-layers")],nr);class jP{constructor(i){this.points=[],this.measureTool=new Sp({picker:i.picker,referenceFrame:i.referenceFrame})}start(i){this.onUpdate=i.onUpdate,this.onFinish=i.onFinish,this.add()}add(){this.measureTool.start("point",{onFinish:i=>{this.points.push(i[0]),this.points.length===2?this.end():this.add()},onUpdate:i=>{if(this.onUpdate){if(this.points.length===0)return;this.points[0].z<i.z?this.onUpdate([this.points[0].z,i.z]):this.onUpdate([i.z,this.points[0].z])}}})}end(){this.onFinish&&(this.points[0].z>this.points[1].z&&this.points.reverse(),this.onFinish([this.points[0].z,this.points[1].z])),this.points=[],this.measureTool.clear(),this.onUpdate=void 0,this.onFinish=void 0}}var QP=Object.defineProperty,_P=Object.getOwnPropertyDescriptor,Jo=(t,i,e,s)=>{for(var n=s>1?void 0:s?_P(i,e):i,l=t.length-1,r;l>=0;l--)(r=t[l])&&(n=(s?r(i,e,n):r(n))||n);return s&&n&&QP(i,e,n),n};let lr=class extends bi{constructor(){super();this.isCollapsed=!0,this.pointColorType="rgb",this.rangeToolActive=!1,this.domEl="",this.events=new Ei,this.registerPointclouds=this.registerPointclouds.bind(this)}connectedCallback(){super.connectedCallback();const t=document.querySelector(`#${this.domEl}`);t==null||t.addEventListener(ee.RegisterPointclouds,this.registerPointclouds),this.events.dispatch(ee.PointcloudUICreated,{},t)}disconnectedCallback(){const t=document.querySelector(`#${this.domEl}`);t==null||t.removeEventListener(ee.RegisterPointclouds,this.registerPointclouds),super.disconnectedCallback()}render(){var t;return as`
      <div class="pointscene-header" @click=${this.toggleCollapsed}>
        <div class="pointscene-header-icon">
          <pointscene-icon icon="pointcloud" width="18px" height="18px"></pointscene-icon>
        </div>
        <div class="pointscene-header-title">
          POINTS
        </div>
        <div class="pointscene-header-toggle">
          ${this.isCollapsed?"+":"-"}
        </div>
      </div>
      ${this.isCollapsed?"":as`
      <div class="pointscene-expanded-content">
        <div>
          <pointscene-dropdown
            @change=${this.handleColorChange}
            options=${JSON.stringify([{value:"rgb",label:"Color",selected:!1},{value:"z",label:"Height",selected:!1},{value:"intensity",label:"Intensity",selected:!1},{value:"classification",label:"Classification",selected:!1}])}
          ></pointscene-dropdown>
        </div>
        ${this.pointColorType==="z"?as`
        <div class="pointscene-elevation-range">
          <button
            class="pointscene-set-elevation-button"
            @click=${this.setElevationStart}
          >
              Set
          </button>
          <span id="elevation-range">0 - 100</span>
        </div>
        `:""}
        <div>
          <pointscene-switch
            .checked=${(t=this.pointclouds)==null?void 0:t.isEDLEnabled()}
            label="Edge"
            @change=${this.handleEdlChange}
          ></pointscene-switch>
        </div>
      </div>
      `}
    `}setElevationStart(){var t;if(!this.rangeTool||!this.pointclouds)return;const i=(t=this.shadowRoot)==null?void 0:t.querySelector("#elevation-range");this.pointclouds.getHeightRange(),this.rangeToolActive=!0;const e=s=>{s.length<2||!this.rangeToolActive||(i&&(i.innerHTML=`${s[0].toFixed(3)} - ${s[1].toFixed(3)}`),this.pointclouds.setHeightRange(s))};this.rangeTool.start({onUpdate:s=>e(s),onFinish:s=>{e(s),this.rangeToolActive=!1}})}cancelElevationRange(){var t;(t=this.rangeTool)==null||t.end(),this.rangeToolActive=!1}registerPointclouds(t){this.pointclouds=t.detail.pointclouds;const i=t.detail.picker,e=t.detail.referenceFrame;this.rangeTool=new jP({picker:i,referenceFrame:e})}handleColorChange(t){var i,e,s,n;const l=t.detail.value;switch(this.pointColorType=l,l){case"rgb":(i=this.pointclouds)==null||i.setColorType(Gs.RGB);break;case"z":(e=this.pointclouds)==null||e.setColorType(Gs.ELEVATION);break;case"intensity":(s=this.pointclouds)==null||s.setColorType(Gs.INTENSITY);break;case"classification":(n=this.pointclouds)==null||n.setColorType(Gs.CLASSIFICATION);break}}handleEdlChange(){var t;(t=this.pointclouds)==null||t.setEDLEnabled(!this.pointclouds.isEDLEnabled())}toggleCollapsed(){this.isCollapsed=!this.isCollapsed}};lr.styles=[$l,nn`
    .pointscene-elevation-range {
      width: 92%;
      padding-bottom: 8px;
    }
    .pointscene-set-elevation-button {
      border-width: 0px;
      border-radius: 10px;
      border-color: #365379;
      width: 32px;
      height: 18px;
      font-size: 12px;
      background-color: #f26812;
      color: white;
      transition: all 0.3s ease 0s;
      position: relative;
      top: -2px;
      left: 8px;
    }
    .pointscene-set-elevation-button:hover {
      cursor: pointer;
      background-color: #365379;
    }
    #elevation-range {
      font-size: 12px;
      position: relative;
      top: -2px;
      left: 8px;
    }
    `],Jo([Fs()],lr.prototype,"isCollapsed",2),Jo([Fs()],lr.prototype,"pointColorType",2),Jo([Fs()],lr.prototype,"rangeToolActive",2),Jo([Qe({type:String})],lr.prototype,"domEl",2),lr=Jo([In("pointscene-pointcloud")],lr);var qP=Object.defineProperty,$P=Object.getOwnPropertyDescriptor,Sn=(t,i,e,s)=>{for(var n=s>1?void 0:s?$P(i,e):i,l=t.length-1,r;l>=0;l--)(r=t[l])&&(n=(s?r(i,e,n):r(n))||n);return s&&n&&qP(i,e,n),n};let Hi=class extends bi{constructor(){super();this.controls=!1,this.measure=!1,this.spherical=!1,this.layers=!1,this.pointcloud=!1,this.domEl="",this.sphericalViewIsActive=!1,this.depthEnabled=!1,this.expanded=!1,this.handleEnterSphereMode=this.handleEnterSphereMode.bind(this),this.handleExitSphereMode=this.handleExitSphereMode.bind(this),this.handleDepthEnabled=this.handleDepthEnabled.bind(this)}connectedCallback(){super.connectedCallback();const t=document.querySelector(`#${this.domEl}`);t==null||t.addEventListener(ee.EnterSphereMode,this.handleEnterSphereMode),t==null||t.addEventListener(ee.ExitSphereMode,this.handleExitSphereMode),t==null||t.addEventListener(ee.DepthEnabled,this.handleDepthEnabled)}disconnectedCallback(){const t=document.querySelector(`#${this.domEl}`);t==null||t.removeEventListener(ee.EnterSphereMode,this.handleEnterSphereMode),t==null||t.removeEventListener(ee.ExitSphereMode,this.handleExitSphereMode),super.disconnectedCallback()}render(){return as`
      <div class="pointscene-ui-expand-toggle" @click=${this.handleExpandToggle}>
        <span class="pointscene-ui-expand-toggle-icon">
          ${this.expanded?as`
          <pointscene-icon icon="unfold_less" width="18px" height="18px"></pointscene-icon>
          `:as`
          <pointscene-icon icon="unfold_more" width="18px" height="18px"></pointscene-icon>
          `}
          
        </span>
      </div>
      ${this.layers?as`<pointscene-layers domel=${this.domEl} ?expanded=${this.expanded}></pointscene-layers>`:""}
      ${this.controls?as`<pointscene-controls ?spherical=${this.sphericalViewIsActive} domel=${this.domEl}></pointscene-controls>`:""}
      ${this.measure?as`<pointscene-tools domel=${this.domEl}></pointscene-measure>`:""}
      ${this.pointcloud?as`<pointscene-pointcloud domel=${this.domEl}></pointscene-pointcloud>`:""}
      ${this.sphericalViewIsActive&&this.spherical?as`<pointscene-spherical domel=${this.domEl} ?depthenabled=${this.depthEnabled}></pointscene-spherical`:""}
    `}handleExpandToggle(){this.expanded=!this.expanded,this.style.width=this.expanded?"350px":"160px"}handleDepthEnabled(t){this.depthEnabled=t.detail.value}handleEnterSphereMode(){this.sphericalViewIsActive=!0}handleExitSphereMode(){this.sphericalViewIsActive=!1}};Hi.styles=[$l,nn`
      :host {
        display: flex;
        flex-direction: column;
        z-index: 100;
        position: absolute;
        top: 20px;
        right: 20px;
        width: 160px;
        max-height: 90vh;
        transition: width 0.5s;
      }
    `],Sn([Qe({type:Boolean})],Hi.prototype,"controls",2),Sn([Qe({type:Boolean})],Hi.prototype,"measure",2),Sn([Qe({type:Boolean})],Hi.prototype,"spherical",2),Sn([Qe({type:Boolean})],Hi.prototype,"layers",2),Sn([Qe({type:Boolean})],Hi.prototype,"pointcloud",2),Sn([Qe({type:String})],Hi.prototype,"domEl",2),Sn([Fs()],Hi.prototype,"sphericalViewIsActive",2),Sn([Fs()],Hi.prototype,"depthEnabled",2),Sn([Fs()],Hi.prototype,"expanded",2),Hi=Sn([In("pointscene-js-ui")],Hi);class tU{constructor(){this.data={},this.onUpdateFn=[]}add(i){if(this.data[i.id])throw new Error(`Layer id ${i.id} already exists`);this.data[i.id]=i,this.triggerUpdate()}dispose(){for(const i of Object.keys(this.data))delete this.data[i]}getAll(){const i=Object.keys(this.data).map(e=>this.data[e]);return i.sort((e,s)=>e.name>s.name?1:s.name>e.name?-1:0),i}remove(i){this.data[i.id]&&delete this.data[i.id],this.triggerUpdate()}registerOnUpdateCallback(i){this.onUpdateFn.push(i)}triggerUpdate(){for(const i of this.onUpdateFn)i()}count(){return Object.keys(this.data).length}isVisible(i){if(!!this.data[i])return this.data[i].object.visible}setVisibility(i,e){const s=this.data[i];if(!s)throw new Error("Tried to set visibility for non-existing layer id:"+i);s.object.visible=e}toggleVisibility(i){const e=this.data[i];!e||(e.object.visible=!e.object.visible)}}var eU=Vo("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwp2YXIgd29ya2VyX2NvZGU9ZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIEdzPShGcyxhdCk9PigpPT4oYXR8fEZzKChhdD17ZXhwb3J0czp7fX0pLmV4cG9ydHMsYXQpLGF0LmV4cG9ydHMpLEJzPUdzKGs9PntmdW5jdGlvbiBhdCh0KXt0KCJFUFNHOjQzMjYiLCIrdGl0bGU9V0dTIDg0IChsb25nL2xhdCkgK3Byb2o9bG9uZ2xhdCArZWxscHM9V0dTODQgK2RhdHVtPVdHUzg0ICt1bml0cz1kZWdyZWVzIiksdCgiRVBTRzo0MjY5IiwiK3RpdGxlPU5BRDgzIChsb25nL2xhdCkgK3Byb2o9bG9uZ2xhdCArYT02Mzc4MTM3LjAgK2I9NjM1Njc1Mi4zMTQxNDAzNiArZWxscHM9R1JTODAgK2RhdHVtPU5BRDgzICt1bml0cz1kZWdyZWVzIiksdCgiRVBTRzozODU3IiwiK3RpdGxlPVdHUyA4NCAvIFBzZXVkby1NZXJjYXRvciArcHJvaj1tZXJjICthPTYzNzgxMzcgK2I9NjM3ODEzNyArbGF0X3RzPTAuMCArbG9uXzA9MC4wICt4XzA9MC4wICt5XzA9MCAraz0xLjAgK3VuaXRzPW0gK25hZGdyaWRzPUBudWxsICtub19kZWZzIiksdC5XR1M4ND10WyJFUFNHOjQzMjYiXSx0WyJFUFNHOjM3ODUiXT10WyJFUFNHOjM4NTciXSx0LkdPT0dMRT10WyJFUFNHOjM4NTciXSx0WyJFUFNHOjkwMDkxMyJdPXRbIkVQU0c6Mzg1NyJdLHRbIkVQU0c6MTAyMTEzIl09dFsiRVBTRzozODU3Il19dmFyICQ9MSx0dD0yLEV0PTMsRHM9NCx6dD01LFp0PTYzNzgxMzcsVXM9NjM1Njc1MjMxNGUtMyxZdD0uMDA2Njk0Mzc5OTkwMTQxMzE2NSxmdD00ODQ4MTM2ODExMDk1MzZlLTIwLHA9TWF0aC5QSS8yLFFzPS4xNjY2NjY2NjY2NjY2NjY2NixXcz0uMDQ3MjIyMjIyMjIyMjIyMjIsSHM9LjAyMjE1NjA4NDY1NjA4NDY1NSxfPTFlLTEwLHE9LjAxNzQ1MzI5MjUxOTk0MzI5NSxRPTU3LjI5NTc3OTUxMzA4MjMyLEE9TWF0aC5QSS80LGR0PU1hdGguUEkqMixJPTMuMTQxNTkyNjUzNTksRz17fTtHLmdyZWVud2ljaD0wLEcubGlzYm9uPS05LjEzMTkwNjExMTExMSxHLnBhcmlzPTIuMzM3MjI5MTY2NjY3LEcuYm9nb3RhPS03NC4wODA5MTY2NjY2NjcsRy5tYWRyaWQ9LTMuNjg3OTM4ODg4ODg5LEcucm9tZT0xMi40NTIzMzMzMzMzMzMsRy5iZXJuPTcuNDM5NTgzMzMzMzMzLEcuamFrYXJ0YT0xMDYuODA3NzE5NDQ0NDQ0LEcuZmVycm89LTE3LjY2NjY2NjY2NjY2NyxHLmJydXNzZWxzPTQuMzY3OTc1LEcuc3RvY2tob2xtPTE4LjA1ODI3Nzc3Nzc3OCxHLmF0aGVucz0yMy43MTYzMzc1LEcub3Nsbz0xMC43MjI5MTY2NjY2Njc7dmFyIFhzPXtmdDp7dG9fbWV0ZXI6LjMwNDh9LCJ1cy1mdCI6e3RvX21ldGVyOjEyMDAvMzkzN319LCR0PS9bXHNfXC1cL1woXCldL2c7ZnVuY3Rpb24gVih0LHMpe2lmKHRbc10pcmV0dXJuIHRbc107Zm9yKHZhciBpPU9iamVjdC5rZXlzKHQpLGg9cy50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJHQsIiIpLGE9LTEscixuOysrYTxpLmxlbmd0aDspaWYocj1pW2FdLG49ci50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJHQsIiIpLG49PT1oKXJldHVybiB0W3JdfWZ1bmN0aW9uIEZ0KHQpe3ZhciBzPXt9LGk9dC5zcGxpdCgiKyIpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmltKCl9KS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KS5yZWR1Y2UoZnVuY3Rpb24oZSxvKXt2YXIgbD1vLnNwbGl0KCI9Iik7cmV0dXJuIGwucHVzaCghMCksZVtsWzBdLnRvTG93ZXJDYXNlKCldPWxbMV0sZX0se30pLGgsYSxyLG49e3Byb2o6InByb2pOYW1lIixkYXR1bToiZGF0dW1Db2RlIixyZjpmdW5jdGlvbihlKXtzLnJmPXBhcnNlRmxvYXQoZSl9LGxhdF8wOmZ1bmN0aW9uKGUpe3MubGF0MD1lKnF9LGxhdF8xOmZ1bmN0aW9uKGUpe3MubGF0MT1lKnF9LGxhdF8yOmZ1bmN0aW9uKGUpe3MubGF0Mj1lKnF9LGxhdF90czpmdW5jdGlvbihlKXtzLmxhdF90cz1lKnF9LGxvbl8wOmZ1bmN0aW9uKGUpe3MubG9uZzA9ZSpxfSxsb25fMTpmdW5jdGlvbihlKXtzLmxvbmcxPWUqcX0sbG9uXzI6ZnVuY3Rpb24oZSl7cy5sb25nMj1lKnF9LGFscGhhOmZ1bmN0aW9uKGUpe3MuYWxwaGE9cGFyc2VGbG9hdChlKSpxfSxnYW1tYTpmdW5jdGlvbihlKXtzLnJlY3RpZmllZF9ncmlkX2FuZ2xlPXBhcnNlRmxvYXQoZSl9LGxvbmM6ZnVuY3Rpb24oZSl7cy5sb25nYz1lKnF9LHhfMDpmdW5jdGlvbihlKXtzLngwPXBhcnNlRmxvYXQoZSl9LHlfMDpmdW5jdGlvbihlKXtzLnkwPXBhcnNlRmxvYXQoZSl9LGtfMDpmdW5jdGlvbihlKXtzLmswPXBhcnNlRmxvYXQoZSl9LGs6ZnVuY3Rpb24oZSl7cy5rMD1wYXJzZUZsb2F0KGUpfSxhOmZ1bmN0aW9uKGUpe3MuYT1wYXJzZUZsb2F0KGUpfSxiOmZ1bmN0aW9uKGUpe3MuYj1wYXJzZUZsb2F0KGUpfSxyX2E6ZnVuY3Rpb24oKXtzLlJfQT0hMH0sem9uZTpmdW5jdGlvbihlKXtzLnpvbmU9cGFyc2VJbnQoZSwxMCl9LHNvdXRoOmZ1bmN0aW9uKCl7cy51dG1Tb3V0aD0hMH0sdG93Z3M4NDpmdW5jdGlvbihlKXtzLmRhdHVtX3BhcmFtcz1lLnNwbGl0KCIsIikubWFwKGZ1bmN0aW9uKG8pe3JldHVybiBwYXJzZUZsb2F0KG8pfSl9LHRvX21ldGVyOmZ1bmN0aW9uKGUpe3MudG9fbWV0ZXI9cGFyc2VGbG9hdChlKX0sdW5pdHM6ZnVuY3Rpb24oZSl7cy51bml0cz1lO3ZhciBvPVYoWHMsZSk7byYmKHMudG9fbWV0ZXI9by50b19tZXRlcil9LGZyb21fZ3JlZW53aWNoOmZ1bmN0aW9uKGUpe3MuZnJvbV9ncmVlbndpY2g9ZSpxfSxwbTpmdW5jdGlvbihlKXt2YXIgbz1WKEcsZSk7cy5mcm9tX2dyZWVud2ljaD0ob3x8cGFyc2VGbG9hdChlKSkqcX0sbmFkZ3JpZHM6ZnVuY3Rpb24oZSl7ZT09PSJAbnVsbCI/cy5kYXR1bUNvZGU9Im5vbmUiOnMubmFkZ3JpZHM9ZX0sYXhpczpmdW5jdGlvbihlKXt2YXIgbz0iZXduc3VkIjtlLmxlbmd0aD09PTMmJm8uaW5kZXhPZihlLnN1YnN0cigwLDEpKSE9PS0xJiZvLmluZGV4T2YoZS5zdWJzdHIoMSwxKSkhPT0tMSYmby5pbmRleE9mKGUuc3Vic3RyKDIsMSkpIT09LTEmJihzLmF4aXM9ZSl9LGFwcHJveDpmdW5jdGlvbigpe3MuYXBwcm94PSEwfX07Zm9yKGggaW4gaSlhPWlbaF0saCBpbiBuPyhyPW5baF0sdHlwZW9mIHI9PSJmdW5jdGlvbiI/cihhKTpzW3JdPWEpOnNbaF09YTtyZXR1cm4gdHlwZW9mIHMuZGF0dW1Db2RlPT0ic3RyaW5nIiYmcy5kYXR1bUNvZGUhPT0iV0dTODQiJiYocy5kYXR1bUNvZGU9cy5kYXR1bUNvZGUudG9Mb3dlckNhc2UoKSksc312YXIgcHQ9MSx0cz0yLHNzPTMsQ3Q9NCxpcz01LER0PS0xLEpzPS9ccy8sS3M9L1tBLVphLXpdLyxWcz0vW0EtWmEtejg0X10vLFB0PS9bLFxdXS8sYXM9L1tcZFwuRVwtXCtdLztmdW5jdGlvbiBKKHQpe2lmKHR5cGVvZiB0IT0ic3RyaW5nIil0aHJvdyBuZXcgRXJyb3IoIm5vdCBhIHN0cmluZyIpO3RoaXMudGV4dD10LnRyaW0oKSx0aGlzLmxldmVsPTAsdGhpcy5wbGFjZT0wLHRoaXMucm9vdD1udWxsLHRoaXMuc3RhY2s9W10sdGhpcy5jdXJyZW50T2JqZWN0PW51bGwsdGhpcy5zdGF0ZT1wdH1KLnByb3RvdHlwZS5yZWFkQ2hhcmljdGVyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy50ZXh0W3RoaXMucGxhY2UrK107aWYodGhpcy5zdGF0ZSE9PUN0KWZvcig7SnMudGVzdCh0KTspe2lmKHRoaXMucGxhY2U+PXRoaXMudGV4dC5sZW5ndGgpcmV0dXJuO3Q9dGhpcy50ZXh0W3RoaXMucGxhY2UrK119c3dpdGNoKHRoaXMuc3RhdGUpe2Nhc2UgcHQ6cmV0dXJuIHRoaXMubmV1dHJhbCh0KTtjYXNlIHRzOnJldHVybiB0aGlzLmtleXdvcmQodCk7Y2FzZSBDdDpyZXR1cm4gdGhpcy5xdW90ZWQodCk7Y2FzZSBpczpyZXR1cm4gdGhpcy5hZnRlcnF1b3RlKHQpO2Nhc2Ugc3M6cmV0dXJuIHRoaXMubnVtYmVyKHQpO2Nhc2UgRHQ6cmV0dXJufX0sSi5wcm90b3R5cGUuYWZ0ZXJxdW90ZT1mdW5jdGlvbih0KXtpZih0PT09JyInKXt0aGlzLndvcmQrPSciJyx0aGlzLnN0YXRlPUN0O3JldHVybn1pZihQdC50ZXN0KHQpKXt0aGlzLndvcmQ9dGhpcy53b3JkLnRyaW0oKSx0aGlzLmFmdGVySXRlbSh0KTtyZXR1cm59dGhyb3cgbmV3IEVycm9yKGBoYXZuJ3QgaGFuZGxlZCAiYCt0KyciIGluIGFmdGVycXVvdGUgeWV0LCBpbmRleCAnK3RoaXMucGxhY2UpfSxKLnByb3RvdHlwZS5hZnRlckl0ZW09ZnVuY3Rpb24odCl7aWYodD09PSIsIil7dGhpcy53b3JkIT09bnVsbCYmdGhpcy5jdXJyZW50T2JqZWN0LnB1c2godGhpcy53b3JkKSx0aGlzLndvcmQ9bnVsbCx0aGlzLnN0YXRlPXB0O3JldHVybn1pZih0PT09Il0iKXt0aGlzLmxldmVsLS0sdGhpcy53b3JkIT09bnVsbCYmKHRoaXMuY3VycmVudE9iamVjdC5wdXNoKHRoaXMud29yZCksdGhpcy53b3JkPW51bGwpLHRoaXMuc3RhdGU9cHQsdGhpcy5jdXJyZW50T2JqZWN0PXRoaXMuc3RhY2sucG9wKCksdGhpcy5jdXJyZW50T2JqZWN0fHwodGhpcy5zdGF0ZT1EdCk7cmV0dXJufX0sSi5wcm90b3R5cGUubnVtYmVyPWZ1bmN0aW9uKHQpe2lmKGFzLnRlc3QodCkpe3RoaXMud29yZCs9dDtyZXR1cm59aWYoUHQudGVzdCh0KSl7dGhpcy53b3JkPXBhcnNlRmxvYXQodGhpcy53b3JkKSx0aGlzLmFmdGVySXRlbSh0KTtyZXR1cm59dGhyb3cgbmV3IEVycm9yKGBoYXZuJ3QgaGFuZGxlZCAiYCt0KyciIGluIG51bWJlciB5ZXQsIGluZGV4ICcrdGhpcy5wbGFjZSl9LEoucHJvdG90eXBlLnF1b3RlZD1mdW5jdGlvbih0KXtpZih0PT09JyInKXt0aGlzLnN0YXRlPWlzO3JldHVybn10aGlzLndvcmQrPXR9LEoucHJvdG90eXBlLmtleXdvcmQ9ZnVuY3Rpb24odCl7aWYoVnMudGVzdCh0KSl7dGhpcy53b3JkKz10O3JldHVybn1pZih0PT09IlsiKXt2YXIgcz1bXTtzLnB1c2godGhpcy53b3JkKSx0aGlzLmxldmVsKyssdGhpcy5yb290PT09bnVsbD90aGlzLnJvb3Q9czp0aGlzLmN1cnJlbnRPYmplY3QucHVzaChzKSx0aGlzLnN0YWNrLnB1c2godGhpcy5jdXJyZW50T2JqZWN0KSx0aGlzLmN1cnJlbnRPYmplY3Q9cyx0aGlzLnN0YXRlPXB0O3JldHVybn1pZihQdC50ZXN0KHQpKXt0aGlzLmFmdGVySXRlbSh0KTtyZXR1cm59dGhyb3cgbmV3IEVycm9yKGBoYXZuJ3QgaGFuZGxlZCAiYCt0KyciIGluIGtleXdvcmQgeWV0LCBpbmRleCAnK3RoaXMucGxhY2UpfSxKLnByb3RvdHlwZS5uZXV0cmFsPWZ1bmN0aW9uKHQpe2lmKEtzLnRlc3QodCkpe3RoaXMud29yZD10LHRoaXMuc3RhdGU9dHM7cmV0dXJufWlmKHQ9PT0nIicpe3RoaXMud29yZD0iIix0aGlzLnN0YXRlPUN0O3JldHVybn1pZihhcy50ZXN0KHQpKXt0aGlzLndvcmQ9dCx0aGlzLnN0YXRlPXNzO3JldHVybn1pZihQdC50ZXN0KHQpKXt0aGlzLmFmdGVySXRlbSh0KTtyZXR1cm59dGhyb3cgbmV3IEVycm9yKGBoYXZuJ3QgaGFuZGxlZCAiYCt0KyciIGluIG5ldXRyYWwgeWV0LCBpbmRleCAnK3RoaXMucGxhY2UpfSxKLnByb3RvdHlwZS5vdXRwdXQ9ZnVuY3Rpb24oKXtmb3IoO3RoaXMucGxhY2U8dGhpcy50ZXh0Lmxlbmd0aDspdGhpcy5yZWFkQ2hhcmljdGVyKCk7aWYodGhpcy5zdGF0ZT09PUR0KXJldHVybiB0aGlzLnJvb3Q7dGhyb3cgbmV3IEVycm9yKCd1bmFibGUgdG8gcGFyc2Ugc3RyaW5nICInK3RoaXMudGV4dCsnIi4gU3RhdGUgaXMgJyt0aGlzLnN0YXRlKX07ZnVuY3Rpb24gWnModCl7dmFyIHM9bmV3IEoodCk7cmV0dXJuIHMub3V0cHV0KCl9ZnVuY3Rpb24gaHModCxzLGkpe0FycmF5LmlzQXJyYXkocykmJihpLnVuc2hpZnQocykscz1udWxsKTt2YXIgaD1zP3t9OnQsYT1pLnJlZHVjZShmdW5jdGlvbihyLG4pe3JldHVybiBodChuLHIpLHJ9LGgpO3MmJih0W3NdPWEpfWZ1bmN0aW9uIGh0KHQscyl7aWYoIUFycmF5LmlzQXJyYXkodCkpe3NbdF09ITA7cmV0dXJufXZhciBpPXQuc2hpZnQoKTtpZihpPT09IlBBUkFNRVRFUiImJihpPXQuc2hpZnQoKSksdC5sZW5ndGg9PT0xKXtpZihBcnJheS5pc0FycmF5KHRbMF0pKXtzW2ldPXt9LGh0KHRbMF0sc1tpXSk7cmV0dXJufXNbaV09dFswXTtyZXR1cm59aWYoIXQubGVuZ3RoKXtzW2ldPSEwO3JldHVybn1pZihpPT09IlRPV0dTODQiKXtzW2ldPXQ7cmV0dXJufWlmKGk9PT0iQVhJUyIpe2kgaW4gc3x8KHNbaV09W10pLHNbaV0ucHVzaCh0KTtyZXR1cm59QXJyYXkuaXNBcnJheShpKXx8KHNbaV09e30pO3ZhciBoO3N3aXRjaChpKXtjYXNlIlVOSVQiOmNhc2UiUFJJTUVNIjpjYXNlIlZFUlRfREFUVU0iOnNbaV09e25hbWU6dFswXS50b0xvd2VyQ2FzZSgpLGNvbnZlcnQ6dFsxXX0sdC5sZW5ndGg9PT0zJiZodCh0WzJdLHNbaV0pO3JldHVybjtjYXNlIlNQSEVST0lEIjpjYXNlIkVMTElQU09JRCI6c1tpXT17bmFtZTp0WzBdLGE6dFsxXSxyZjp0WzJdfSx0Lmxlbmd0aD09PTQmJmh0KHRbM10sc1tpXSk7cmV0dXJuO2Nhc2UiUFJPSkVDVEVEQ1JTIjpjYXNlIlBST0pDUlMiOmNhc2UiR0VPR0NTIjpjYXNlIkdFT0NDUyI6Y2FzZSJQUk9KQ1MiOmNhc2UiTE9DQUxfQ1MiOmNhc2UiR0VPRENSUyI6Y2FzZSJHRU9ERVRJQ0NSUyI6Y2FzZSJHRU9ERVRJQ0RBVFVNIjpjYXNlIkVEQVRVTSI6Y2FzZSJFTkdJTkVFUklOR0RBVFVNIjpjYXNlIlZFUlRfQ1MiOmNhc2UiVkVSVENSUyI6Y2FzZSJWRVJUSUNBTENSUyI6Y2FzZSJDT01QRF9DUyI6Y2FzZSJDT01QT1VORENSUyI6Y2FzZSJFTkdJTkVFUklOR0NSUyI6Y2FzZSJFTkdDUlMiOmNhc2UiRklUVEVEX0NTIjpjYXNlIkxPQ0FMX0RBVFVNIjpjYXNlIkRBVFVNIjp0WzBdPVsibmFtZSIsdFswXV0saHMocyxpLHQpO3JldHVybjtkZWZhdWx0OmZvcihoPS0xOysraDx0Lmxlbmd0aDspaWYoIUFycmF5LmlzQXJyYXkodFtoXSkpcmV0dXJuIGh0KHQsc1tpXSk7cmV0dXJuIGhzKHMsaSx0KX19dmFyIFlzPS4wMTc0NTMyOTI1MTk5NDMyOTU7ZnVuY3Rpb24gJHModCxzKXt2YXIgaT1zWzBdLGg9c1sxXTshKGkgaW4gdCkmJmggaW4gdCYmKHRbaV09dFtoXSxzLmxlbmd0aD09PTMmJih0W2ldPXNbMl0odFtpXSkpKX1mdW5jdGlvbiBLKHQpe3JldHVybiB0KllzfWZ1bmN0aW9uIHRpKHQpe2lmKHQudHlwZT09PSJHRU9HQ1MiP3QucHJvak5hbWU9ImxvbmdsYXQiOnQudHlwZT09PSJMT0NBTF9DUyI/KHQucHJvak5hbWU9ImlkZW50aXR5Iix0LmxvY2FsPSEwKTp0eXBlb2YgdC5QUk9KRUNUSU9OPT0ib2JqZWN0Ij90LnByb2pOYW1lPU9iamVjdC5rZXlzKHQuUFJPSkVDVElPTilbMF06dC5wcm9qTmFtZT10LlBST0pFQ1RJT04sdC5BWElTKXtmb3IodmFyIHM9IiIsaT0wLGg9dC5BWElTLmxlbmd0aDtpPGg7KytpKXt2YXIgYT1bdC5BWElTW2ldWzBdLnRvTG93ZXJDYXNlKCksdC5BWElTW2ldWzFdLnRvTG93ZXJDYXNlKCldO2FbMF0uaW5kZXhPZigibm9ydGgiKSE9PS0xfHwoYVswXT09PSJ5Inx8YVswXT09PSJsYXQiKSYmYVsxXT09PSJub3J0aCI/cys9Im4iOmFbMF0uaW5kZXhPZigic291dGgiKSE9PS0xfHwoYVswXT09PSJ5Inx8YVswXT09PSJsYXQiKSYmYVsxXT09PSJzb3V0aCI/cys9InMiOmFbMF0uaW5kZXhPZigiZWFzdCIpIT09LTF8fChhWzBdPT09IngifHxhWzBdPT09ImxvbiIpJiZhWzFdPT09ImVhc3QiP3MrPSJlIjooYVswXS5pbmRleE9mKCJ3ZXN0IikhPT0tMXx8KGFbMF09PT0ieCJ8fGFbMF09PT0ibG9uIikmJmFbMV09PT0id2VzdCIpJiYocys9InciKX1zLmxlbmd0aD09PTImJihzKz0idSIpLHMubGVuZ3RoPT09MyYmKHQuYXhpcz1zKX10LlVOSVQmJih0LnVuaXRzPXQuVU5JVC5uYW1lLnRvTG93ZXJDYXNlKCksdC51bml0cz09PSJtZXRyZSImJih0LnVuaXRzPSJtZXRlciIpLHQuVU5JVC5jb252ZXJ0JiYodC50eXBlPT09IkdFT0dDUyI/dC5EQVRVTSYmdC5EQVRVTS5TUEhFUk9JRCYmKHQudG9fbWV0ZXI9dC5VTklULmNvbnZlcnQqdC5EQVRVTS5TUEhFUk9JRC5hKTp0LnRvX21ldGVyPXQuVU5JVC5jb252ZXJ0KSk7dmFyIHI9dC5HRU9HQ1M7dC50eXBlPT09IkdFT0dDUyImJihyPXQpLHImJihyLkRBVFVNP3QuZGF0dW1Db2RlPXIuREFUVU0ubmFtZS50b0xvd2VyQ2FzZSgpOnQuZGF0dW1Db2RlPXIubmFtZS50b0xvd2VyQ2FzZSgpLHQuZGF0dW1Db2RlLnNsaWNlKDAsMik9PT0iZF8iJiYodC5kYXR1bUNvZGU9dC5kYXR1bUNvZGUuc2xpY2UoMikpLCh0LmRhdHVtQ29kZT09PSJuZXdfemVhbGFuZF9nZW9kZXRpY19kYXR1bV8xOTQ5Inx8dC5kYXR1bUNvZGU9PT0ibmV3X3plYWxhbmRfMTk0OSIpJiYodC5kYXR1bUNvZGU9Im56Z2Q0OSIpLCh0LmRhdHVtQ29kZT09PSJ3Z3NfMTk4NCJ8fHQuZGF0dW1Db2RlPT09IndvcmxkX2dlb2RldGljX3N5c3RlbV8xOTg0IikmJih0LlBST0pFQ1RJT049PT0iTWVyY2F0b3JfQXV4aWxpYXJ5X1NwaGVyZSImJih0LnNwaGVyZT0hMCksdC5kYXR1bUNvZGU9Indnczg0IiksdC5kYXR1bUNvZGUuc2xpY2UoLTYpPT09Il9mZXJybyImJih0LmRhdHVtQ29kZT10LmRhdHVtQ29kZS5zbGljZSgwLC02KSksdC5kYXR1bUNvZGUuc2xpY2UoLTgpPT09Il9qYWthcnRhIiYmKHQuZGF0dW1Db2RlPXQuZGF0dW1Db2RlLnNsaWNlKDAsLTgpKSx+dC5kYXR1bUNvZGUuaW5kZXhPZigiYmVsZ2UiKSYmKHQuZGF0dW1Db2RlPSJybmI3MiIpLHIuREFUVU0mJnIuREFUVU0uU1BIRVJPSUQmJih0LmVsbHBzPXIuREFUVU0uU1BIRVJPSUQubmFtZS5yZXBsYWNlKCJfMTkiLCIiKS5yZXBsYWNlKC9bQ2NdbGFya2VcXzE4LywiY2xyayIpLHQuZWxscHMudG9Mb3dlckNhc2UoKS5zbGljZSgwLDEzKT09PSJpbnRlcm5hdGlvbmFsIiYmKHQuZWxscHM9ImludGwiKSx0LmE9ci5EQVRVTS5TUEhFUk9JRC5hLHQucmY9cGFyc2VGbG9hdChyLkRBVFVNLlNQSEVST0lELnJmLDEwKSksci5EQVRVTSYmci5EQVRVTS5UT1dHUzg0JiYodC5kYXR1bV9wYXJhbXM9ci5EQVRVTS5UT1dHUzg0KSx+dC5kYXR1bUNvZGUuaW5kZXhPZigib3NnYl8xOTM2IikmJih0LmRhdHVtQ29kZT0ib3NnYjM2IiksfnQuZGF0dW1Db2RlLmluZGV4T2YoIm9zbmlfMTk1MiIpJiYodC5kYXR1bUNvZGU9Im9zbmk1MiIpLCh+dC5kYXR1bUNvZGUuaW5kZXhPZigidG02NSIpfHx+dC5kYXR1bUNvZGUuaW5kZXhPZigiZ2VvZGV0aWNfZGF0dW1fb2ZfMTk2NSIpKSYmKHQuZGF0dW1Db2RlPSJpcmU2NSIpLHQuZGF0dW1Db2RlPT09ImNoMTkwMysiJiYodC5kYXR1bUNvZGU9ImNoMTkwMyIpLH50LmRhdHVtQ29kZS5pbmRleE9mKCJpc3JhZWwiKSYmKHQuZGF0dW1Db2RlPSJpc3I5MyIpKSx0LmImJiFpc0Zpbml0ZSh0LmIpJiYodC5iPXQuYSk7ZnVuY3Rpb24gbihsKXt2YXIgYz10LnRvX21ldGVyfHwxO3JldHVybiBsKmN9dmFyIGU9ZnVuY3Rpb24obCl7cmV0dXJuICRzKHQsbCl9LG89W1sic3RhbmRhcmRfcGFyYWxsZWxfMSIsIlN0YW5kYXJkX1BhcmFsbGVsXzEiXSxbInN0YW5kYXJkX3BhcmFsbGVsXzEiLCJMYXRpdHVkZSBvZiAxc3Qgc3RhbmRhcmQgcGFyYWxsZWwiXSxbInN0YW5kYXJkX3BhcmFsbGVsXzIiLCJTdGFuZGFyZF9QYXJhbGxlbF8yIl0sWyJzdGFuZGFyZF9wYXJhbGxlbF8yIiwiTGF0aXR1ZGUgb2YgMm5kIHN0YW5kYXJkIHBhcmFsbGVsIl0sWyJmYWxzZV9lYXN0aW5nIiwiRmFsc2VfRWFzdGluZyJdLFsiZmFsc2VfZWFzdGluZyIsIkZhbHNlIGVhc3RpbmciXSxbImZhbHNlLWVhc3RpbmciLCJFYXN0aW5nIGF0IGZhbHNlIG9yaWdpbiJdLFsiZmFsc2Vfbm9ydGhpbmciLCJGYWxzZV9Ob3J0aGluZyJdLFsiZmFsc2Vfbm9ydGhpbmciLCJGYWxzZSBub3J0aGluZyJdLFsiZmFsc2Vfbm9ydGhpbmciLCJOb3J0aGluZyBhdCBmYWxzZSBvcmlnaW4iXSxbImNlbnRyYWxfbWVyaWRpYW4iLCJDZW50cmFsX01lcmlkaWFuIl0sWyJjZW50cmFsX21lcmlkaWFuIiwiTG9uZ2l0dWRlIG9mIG5hdHVyYWwgb3JpZ2luIl0sWyJjZW50cmFsX21lcmlkaWFuIiwiTG9uZ2l0dWRlIG9mIGZhbHNlIG9yaWdpbiJdLFsibGF0aXR1ZGVfb2Zfb3JpZ2luIiwiTGF0aXR1ZGVfT2ZfT3JpZ2luIl0sWyJsYXRpdHVkZV9vZl9vcmlnaW4iLCJDZW50cmFsX1BhcmFsbGVsIl0sWyJsYXRpdHVkZV9vZl9vcmlnaW4iLCJMYXRpdHVkZSBvZiBuYXR1cmFsIG9yaWdpbiJdLFsibGF0aXR1ZGVfb2Zfb3JpZ2luIiwiTGF0aXR1ZGUgb2YgZmFsc2Ugb3JpZ2luIl0sWyJzY2FsZV9mYWN0b3IiLCJTY2FsZV9GYWN0b3IiXSxbImswIiwic2NhbGVfZmFjdG9yIl0sWyJsYXRpdHVkZV9vZl9jZW50ZXIiLCJMYXRpdHVkZV9PZl9DZW50ZXIiXSxbImxhdGl0dWRlX29mX2NlbnRlciIsIkxhdGl0dWRlX29mX2NlbnRlciJdLFsibGF0MCIsImxhdGl0dWRlX29mX2NlbnRlciIsS10sWyJsb25naXR1ZGVfb2ZfY2VudGVyIiwiTG9uZ2l0dWRlX09mX0NlbnRlciJdLFsibG9uZ2l0dWRlX29mX2NlbnRlciIsIkxvbmdpdHVkZV9vZl9jZW50ZXIiXSxbImxvbmdjIiwibG9uZ2l0dWRlX29mX2NlbnRlciIsS10sWyJ4MCIsImZhbHNlX2Vhc3RpbmciLG5dLFsieTAiLCJmYWxzZV9ub3J0aGluZyIsbl0sWyJsb25nMCIsImNlbnRyYWxfbWVyaWRpYW4iLEtdLFsibGF0MCIsImxhdGl0dWRlX29mX29yaWdpbiIsS10sWyJsYXQwIiwic3RhbmRhcmRfcGFyYWxsZWxfMSIsS10sWyJsYXQxIiwic3RhbmRhcmRfcGFyYWxsZWxfMSIsS10sWyJsYXQyIiwic3RhbmRhcmRfcGFyYWxsZWxfMiIsS10sWyJhemltdXRoIiwiQXppbXV0aCJdLFsiYWxwaGEiLCJhemltdXRoIixLXSxbInNyc0NvZGUiLCJuYW1lIl1dO28uZm9yRWFjaChlKSwhdC5sb25nMCYmdC5sb25nYyYmKHQucHJvak5hbWU9PT0iQWxiZXJzX0NvbmljX0VxdWFsX0FyZWEifHx0LnByb2pOYW1lPT09IkxhbWJlcnRfQXppbXV0aGFsX0VxdWFsX0FyZWEiKSYmKHQubG9uZzA9dC5sb25nYyksIXQubGF0X3RzJiZ0LmxhdDEmJih0LnByb2pOYW1lPT09IlN0ZXJlb2dyYXBoaWNfU291dGhfUG9sZSJ8fHQucHJvak5hbWU9PT0iUG9sYXIgU3RlcmVvZ3JhcGhpYyAodmFyaWFudCBCKSIpJiYodC5sYXQwPUsodC5sYXQxPjA/OTA6LTkwKSx0LmxhdF90cz10LmxhdDEpfWZ1bmN0aW9uIGVzKHQpe3ZhciBzPVpzKHQpLGk9cy5zaGlmdCgpLGg9cy5zaGlmdCgpO3MudW5zaGlmdChbIm5hbWUiLGhdKSxzLnVuc2hpZnQoWyJ0eXBlIixpXSk7dmFyIGE9e307cmV0dXJuIGh0KHMsYSksdGkoYSksYX1mdW5jdGlvbiBUKHQpe3ZhciBzPXRoaXM7aWYoYXJndW1lbnRzLmxlbmd0aD09PTIpe3ZhciBpPWFyZ3VtZW50c1sxXTt0eXBlb2YgaT09InN0cmluZyI/aS5jaGFyQXQoMCk9PT0iKyI/VFt0XT1GdChhcmd1bWVudHNbMV0pOlRbdF09ZXMoYXJndW1lbnRzWzFdKTpUW3RdPWl9ZWxzZSBpZihhcmd1bWVudHMubGVuZ3RoPT09MSl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdC5tYXAoZnVuY3Rpb24oaCl7QXJyYXkuaXNBcnJheShoKT9ULmFwcGx5KHMsaCk6VChoKX0pO2lmKHR5cGVvZiB0PT0ic3RyaW5nIil7aWYodCBpbiBUKXJldHVybiBUW3RdfWVsc2UiRVBTRyJpbiB0P1RbIkVQU0c6Iit0LkVQU0ddPXQ6IkVTUkkiaW4gdD9UWyJFU1JJOiIrdC5FU1JJXT10OiJJQVUyMDAwImluIHQ/VFsiSUFVMjAwMDoiK3QuSUFVMjAwMF09dDpjb25zb2xlLmxvZyh0KTtyZXR1cm59fWF0KFQpO2Z1bmN0aW9uIHNpKHQpe3JldHVybiB0eXBlb2YgdD09InN0cmluZyJ9ZnVuY3Rpb24gaWkodCl7cmV0dXJuIHQgaW4gVH12YXIgYWk9WyJQUk9KRUNURURDUlMiLCJQUk9KQ1JTIiwiR0VPR0NTIiwiR0VPQ0NTIiwiUFJPSkNTIiwiTE9DQUxfQ1MiLCJHRU9EQ1JTIiwiR0VPREVUSUNDUlMiLCJHRU9ERVRJQ0RBVFVNIiwiRU5HQ1JTIiwiRU5HSU5FRVJJTkdDUlMiXTtmdW5jdGlvbiBoaSh0KXtyZXR1cm4gYWkuc29tZShmdW5jdGlvbihzKXtyZXR1cm4gdC5pbmRleE9mKHMpPi0xfSl9dmFyIGVpPVsiMzg1NyIsIjkwMDkxMyIsIjM3ODUiLCIxMDIxMTMiXTtmdW5jdGlvbiByaSh0KXt2YXIgcz1WKHQsImF1dGhvcml0eSIpO2lmKHMpe3ZhciBpPVYocywiZXBzZyIpO3JldHVybiBpJiZlaS5pbmRleE9mKGkpPi0xfX1mdW5jdGlvbiBuaSh0KXt2YXIgcz1WKHQsImV4dGVuc2lvbiIpO2lmKHMpcmV0dXJuIFYocywicHJvajQiKX1mdW5jdGlvbiBvaSh0KXtyZXR1cm4gdFswXT09PSIrIn1mdW5jdGlvbiBsaSh0KXtpZihzaSh0KSl7aWYoaWkodCkpcmV0dXJuIFRbdF07aWYoaGkodCkpe3ZhciBzPWVzKHQpO2lmKHJpKHMpKXJldHVybiBUWyJFUFNHOjM4NTciXTt2YXIgaT1uaShzKTtyZXR1cm4gaT9GdChpKTpzfWlmKG9pKHQpKXJldHVybiBGdCh0KX1lbHNlIHJldHVybiB0fWZ1bmN0aW9uIHJzKHQscyl7dD10fHx7fTt2YXIgaSxoO2lmKCFzKXJldHVybiB0O2ZvcihoIGluIHMpaT1zW2hdLGkhPT12b2lkIDAmJih0W2hdPWkpO3JldHVybiB0fWZ1bmN0aW9uIFcodCxzLGkpe3ZhciBoPXQqcztyZXR1cm4gaS9NYXRoLnNxcnQoMS1oKmgpfWZ1bmN0aW9uIG10KHQpe3JldHVybiB0PDA/LTE6MX1mdW5jdGlvbiB5KHQpe3JldHVybiBNYXRoLmFicyh0KTw9ST90OnQtbXQodCkqZHR9ZnVuY3Rpb24gRCh0LHMsaSl7dmFyIGg9dCppLGE9LjUqdDtyZXR1cm4gaD1NYXRoLnBvdygoMS1oKS8oMStoKSxhKSxNYXRoLnRhbiguNSoocC1zKSkvaH1mdW5jdGlvbiBfdCh0LHMpe2Zvcih2YXIgaT0uNSp0LGgsYSxyPXAtMipNYXRoLmF0YW4ocyksbj0wO248PTE1O24rKylpZihoPXQqTWF0aC5zaW4ociksYT1wLTIqTWF0aC5hdGFuKHMqTWF0aC5wb3coKDEtaCkvKDEraCksaSkpLXIscis9YSxNYXRoLmFicyhhKTw9MWUtMTApcmV0dXJuIHI7cmV0dXJuLTk5OTl9ZnVuY3Rpb24gdWkoKXt2YXIgdD10aGlzLmIvdGhpcy5hO3RoaXMuZXM9MS10KnQsIngwImluIHRoaXN8fCh0aGlzLngwPTApLCJ5MCJpbiB0aGlzfHwodGhpcy55MD0wKSx0aGlzLmU9TWF0aC5zcXJ0KHRoaXMuZXMpLHRoaXMubGF0X3RzP3RoaXMuc3BoZXJlP3RoaXMuazA9TWF0aC5jb3ModGhpcy5sYXRfdHMpOnRoaXMuazA9Vyh0aGlzLmUsTWF0aC5zaW4odGhpcy5sYXRfdHMpLE1hdGguY29zKHRoaXMubGF0X3RzKSk6dGhpcy5rMHx8KHRoaXMuaz90aGlzLmswPXRoaXMuazp0aGlzLmswPTEpfWZ1bmN0aW9uIGNpKHQpe3ZhciBzPXQueCxpPXQueTtpZihpKlE+OTAmJmkqUTwtOTAmJnMqUT4xODAmJnMqUTwtMTgwKXJldHVybiBudWxsO3ZhciBoLGE7aWYoTWF0aC5hYnMoTWF0aC5hYnMoaSktcCk8PV8pcmV0dXJuIG51bGw7aWYodGhpcy5zcGhlcmUpaD10aGlzLngwK3RoaXMuYSp0aGlzLmswKnkocy10aGlzLmxvbmcwKSxhPXRoaXMueTArdGhpcy5hKnRoaXMuazAqTWF0aC5sb2coTWF0aC50YW4oQSsuNSppKSk7ZWxzZXt2YXIgcj1NYXRoLnNpbihpKSxuPUQodGhpcy5lLGkscik7aD10aGlzLngwK3RoaXMuYSp0aGlzLmswKnkocy10aGlzLmxvbmcwKSxhPXRoaXMueTAtdGhpcy5hKnRoaXMuazAqTWF0aC5sb2cobil9cmV0dXJuIHQueD1oLHQueT1hLHR9ZnVuY3Rpb24gTWkodCl7dmFyIHM9dC54LXRoaXMueDAsaT10LnktdGhpcy55MCxoLGE7aWYodGhpcy5zcGhlcmUpYT1wLTIqTWF0aC5hdGFuKE1hdGguZXhwKC1pLyh0aGlzLmEqdGhpcy5rMCkpKTtlbHNle3ZhciByPU1hdGguZXhwKC1pLyh0aGlzLmEqdGhpcy5rMCkpO2lmKGE9X3QodGhpcy5lLHIpLGE9PT0tOTk5OSlyZXR1cm4gbnVsbH1yZXR1cm4gaD15KHRoaXMubG9uZzArcy8odGhpcy5hKnRoaXMuazApKSx0Lng9aCx0Lnk9YSx0fXZhciBmaT1bIk1lcmNhdG9yIiwiUG9wdWxhciBWaXN1YWxpc2F0aW9uIFBzZXVkbyBNZXJjYXRvciIsIk1lcmNhdG9yXzFTUCIsIk1lcmNhdG9yX0F1eGlsaWFyeV9TcGhlcmUiLCJtZXJjIl0sZGk9e2luaXQ6dWksZm9yd2FyZDpjaSxpbnZlcnNlOk1pLG5hbWVzOmZpfTtmdW5jdGlvbiBwaSgpe31mdW5jdGlvbiBucyh0KXtyZXR1cm4gdH12YXIgbWk9WyJsb25nbGF0IiwiaWRlbnRpdHkiXSxfaT17aW5pdDpwaSxmb3J3YXJkOm5zLGludmVyc2U6bnMsbmFtZXM6bWl9LHlpPVtkaSxfaV0sU3Q9e30sT3Q9W107ZnVuY3Rpb24gb3ModCxzKXt2YXIgaT1PdC5sZW5ndGg7cmV0dXJuIHQubmFtZXM/KE90W2ldPXQsdC5uYW1lcy5mb3JFYWNoKGZ1bmN0aW9uKGgpe1N0W2gudG9Mb3dlckNhc2UoKV09aX0pLHRoaXMpOihjb25zb2xlLmxvZyhzKSwhMCl9ZnVuY3Rpb24geGkodCl7aWYoIXQpcmV0dXJuITE7dmFyIHM9dC50b0xvd2VyQ2FzZSgpO2lmKHR5cGVvZiBTdFtzXTwidSImJk90W1N0W3NdXSlyZXR1cm4gT3RbU3Rbc11dfWZ1bmN0aW9uIGdpKCl7eWkuZm9yRWFjaChvcyl9dmFyIHZpPXtzdGFydDpnaSxhZGQ6b3MsZ2V0OnhpfSx2PXt9O3YuTUVSSVQ9e2E6NjM3ODEzNyxyZjoyOTguMjU3LGVsbGlwc2VOYW1lOiJNRVJJVCAxOTgzIn0sdi5TR1M4NT17YTo2Mzc4MTM2LHJmOjI5OC4yNTcsZWxsaXBzZU5hbWU6IlNvdmlldCBHZW9kZXRpYyBTeXN0ZW0gODUifSx2LkdSUzgwPXthOjYzNzgxMzcscmY6Mjk4LjI1NzIyMjEwMSxlbGxpcHNlTmFtZToiR1JTIDE5ODAoSVVHRywgMTk4MCkifSx2LklBVTc2PXthOjYzNzgxNDAscmY6Mjk4LjI1NyxlbGxpcHNlTmFtZToiSUFVIDE5NzYifSx2LmFpcnk9e2E6NjM3NzU2MzM5NmUtMyxiOjYzNTYyNTY5MWUtMixlbGxpcHNlTmFtZToiQWlyeSAxODMwIn0sdi5BUEw0PXthOjYzNzgxMzcscmY6Mjk4LjI1LGVsbGlwc2VOYW1lOiJBcHBsLiBQaHlzaWNzLiAxOTY1In0sdi5OV0w5RD17YTo2Mzc4MTQ1LHJmOjI5OC4yNSxlbGxpcHNlTmFtZToiTmF2YWwgV2VhcG9ucyBMYWIuLCAxOTY1In0sdi5tb2RfYWlyeT17YTo2Mzc3MzQwMTg5ZS0zLGI6NjM1NjAzNDQ0NmUtMyxlbGxpcHNlTmFtZToiTW9kaWZpZWQgQWlyeSJ9LHYuYW5kcmFlPXthOjYzNzcxMDQ0M2UtMixyZjozMDAsZWxsaXBzZU5hbWU6IkFuZHJhZSAxODc2IChEZW4uLCBJY2xuZC4pIn0sdi5hdXN0X1NBPXthOjYzNzgxNjAscmY6Mjk4LjI1LGVsbGlwc2VOYW1lOiJBdXN0cmFsaWFuIE5hdGwgJiBTLiBBbWVyLiAxOTY5In0sdi5HUlM2Nz17YTo2Mzc4MTYwLHJmOjI5OC4yNDcxNjc0MjcsZWxsaXBzZU5hbWU6IkdSUyA2NyhJVUdHIDE5NjcpIn0sdi5iZXNzZWw9e2E6NjM3NzM5NzE1NWUtMyxyZjoyOTkuMTUyODEyOCxlbGxpcHNlTmFtZToiQmVzc2VsIDE4NDEifSx2LmJlc3NfbmFtPXthOjYzNzc0ODM4NjVlLTMscmY6Mjk5LjE1MjgxMjgsZWxsaXBzZU5hbWU6IkJlc3NlbCAxODQxIChOYW1pYmlhKSJ9LHYuY2xyazY2PXthOjYzNzgyMDY0ZS0xLGI6NjM1NjU4MzhlLTEsZWxsaXBzZU5hbWU6IkNsYXJrZSAxODY2In0sdi5jbHJrODA9e2E6NjM3ODI0OTE0NWUtMyxyZjoyOTMuNDY2MyxlbGxpcHNlTmFtZToiQ2xhcmtlIDE4ODAgbW9kLiJ9LHYuY2xyazU4PXthOjYzNzgyOTM2NDUyMDg3NTllLTkscmY6Mjk0LjI2MDY3NjM2OTI2NTQsZWxsaXBzZU5hbWU6IkNsYXJrZSAxODU4In0sdi5DUE09e2E6NjM3NTczODdlLTEscmY6MzM0LjI5LGVsbGlwc2VOYW1lOiJDb21tLiBkZXMgUG9pZHMgZXQgTWVzdXJlcyAxNzk5In0sdi5kZWxtYnI9e2E6NjM3NjQyOCxyZjozMTEuNSxlbGxpcHNlTmFtZToiRGVsYW1icmUgMTgxMCAoQmVsZ2l1bSkifSx2LmVuZ2VsaXM9e2E6NjM3ODEzNjA1ZS0yLHJmOjI5OC4yNTY2LGVsbGlwc2VOYW1lOiJFbmdlbGlzIDE5ODUifSx2LmV2cnN0MzA9e2E6NjM3NzI3NjM0NWUtMyxyZjozMDAuODAxNyxlbGxpcHNlTmFtZToiRXZlcmVzdCAxODMwIn0sdi5ldnJzdDQ4PXthOjYzNzczMDQwNjNlLTMscmY6MzAwLjgwMTcsZWxsaXBzZU5hbWU6IkV2ZXJlc3QgMTk0OCJ9LHYuZXZyc3Q1Nj17YTo2Mzc3MzAxMjQzZS0zLHJmOjMwMC44MDE3LGVsbGlwc2VOYW1lOiJFdmVyZXN0IDE5NTYifSx2LmV2cnN0Njk9e2E6NjM3NzI5NTY2NGUtMyxyZjozMDAuODAxNyxlbGxpcHNlTmFtZToiRXZlcmVzdCAxOTY5In0sdi5ldnJzdFNTPXthOjYzNzcyOTg1NTZlLTMscmY6MzAwLjgwMTcsZWxsaXBzZU5hbWU6IkV2ZXJlc3QgKFNhYmFoICYgU2FyYXdhaykifSx2LmZzY2hyNjA9e2E6NjM3ODE2NixyZjoyOTguMyxlbGxpcHNlTmFtZToiRmlzY2hlciAoTWVyY3VyeSBEYXR1bSkgMTk2MCJ9LHYuZnNjaHI2MG09e2E6NjM3ODE1NSxyZjoyOTguMyxlbGxpcHNlTmFtZToiRmlzY2hlciAxOTYwIn0sdi5mc2NocjY4PXthOjYzNzgxNTAscmY6Mjk4LjMsZWxsaXBzZU5hbWU6IkZpc2NoZXIgMTk2OCJ9LHYuaGVsbWVydD17YTo2Mzc4MjAwLHJmOjI5OC4zLGVsbGlwc2VOYW1lOiJIZWxtZXJ0IDE5MDYifSx2LmhvdWdoPXthOjYzNzgyNzAscmY6Mjk3LGVsbGlwc2VOYW1lOiJIb3VnaCJ9LHYuaW50bD17YTo2Mzc4Mzg4LHJmOjI5NyxlbGxpcHNlTmFtZToiSW50ZXJuYXRpb25hbCAxOTA5IChIYXlmb3JkKSJ9LHYua2F1bGE9e2E6NjM3ODE2MyxyZjoyOTguMjQsZWxsaXBzZU5hbWU6IkthdWxhIDE5NjEifSx2LmxlcmNoPXthOjYzNzgxMzkscmY6Mjk4LjI1NyxlbGxpcHNlTmFtZToiTGVyY2ggMTk3OSJ9LHYubXBydHM9e2E6NjM5NzMwMCxyZjoxOTEsZWxsaXBzZU5hbWU6Ik1hdXBlcnRpdXMgMTczOCJ9LHYubmV3X2ludGw9e2E6NjM3ODE1NzVlLTEsYjo2MzU2NzcyMmUtMSxlbGxpcHNlTmFtZToiTmV3IEludGVybmF0aW9uYWwgMTk2NyJ9LHYucGxlc3Npcz17YTo2Mzc2NTIzLHJmOjYzNTU4NjMsZWxsaXBzZU5hbWU6IlBsZXNzaXMgMTgxNyAoRnJhbmNlKSJ9LHYua3Jhc3M9e2E6NjM3ODI0NSxyZjoyOTguMyxlbGxpcHNlTmFtZToiS3Jhc3NvdnNreSwgMTk0MiJ9LHYuU0Vhc2lhPXthOjYzNzgxNTUsYjo2MzU2NzczMzIwNWUtNCxlbGxpcHNlTmFtZToiU291dGhlYXN0IEFzaWEifSx2LndhbGJlY2s9e2E6NjM3Njg5NixiOjYzNTU4MzQ4NDY3ZS00LGVsbGlwc2VOYW1lOiJXYWxiZWNrIn0sdi5XR1M2MD17YTo2Mzc4MTY1LHJmOjI5OC4zLGVsbGlwc2VOYW1lOiJXR1MgNjAifSx2LldHUzY2PXthOjYzNzgxNDUscmY6Mjk4LjI1LGVsbGlwc2VOYW1lOiJXR1MgNjYifSx2LldHUzc9e2E6NjM3ODEzNSxyZjoyOTguMjYsZWxsaXBzZU5hbWU6IldHUyA3MiJ9O3ZhciBiaT12LldHUzg0PXthOjYzNzgxMzcscmY6Mjk4LjI1NzIyMzU2MyxlbGxpcHNlTmFtZToiV0dTIDg0In07di5zcGhlcmU9e2E6NjM3MDk5NyxiOjYzNzA5OTcsZWxsaXBzZU5hbWU6Ik5vcm1hbCBTcGhlcmUgKHI9NjM3MDk5NykifTtmdW5jdGlvbiB3aSh0LHMsaSxoKXt2YXIgYT10KnQscj1zKnMsbj0oYS1yKS9hLGU9MDtoPyh0Kj0xLW4qKFFzK24qKFdzK24qSHMpKSxhPXQqdCxuPTApOmU9TWF0aC5zcXJ0KG4pO3ZhciBvPShhLXIpL3I7cmV0dXJue2VzOm4sZSxlcDI6b319ZnVuY3Rpb24gTmkodCxzLGksaCxhKXtpZighdCl7dmFyIHI9Vih2LGgpO3J8fChyPWJpKSx0PXIuYSxzPXIuYixpPXIucmZ9cmV0dXJuIGkmJiFzJiYocz0oMS0xL2kpKnQpLChpPT09MHx8TWF0aC5hYnModC1zKTxfKSYmKGE9ITAscz10KSx7YTp0LGI6cyxyZjppLHNwaGVyZTphfX12YXIgaz17fTtrLndnczg0PXt0b3dnczg0OiIwLDAsMCIsZWxsaXBzZToiV0dTODQiLGRhdHVtTmFtZToiV0dTODQifSxrLmNoMTkwMz17dG93Z3M4NDoiNjc0LjM3NCwxNS4wNTYsNDA1LjM0NiIsZWxsaXBzZToiYmVzc2VsIixkYXR1bU5hbWU6InN3aXNzIn0say5nZ3JzODc9e3Rvd2dzODQ6Ii0xOTkuODcsNzQuNzksMjQ2LjYyIixlbGxpcHNlOiJHUlM4MCIsZGF0dW1OYW1lOiJHcmVla19HZW9kZXRpY19SZWZlcmVuY2VfU3lzdGVtXzE5ODcifSxrLm5hZDgzPXt0b3dnczg0OiIwLDAsMCIsZWxsaXBzZToiR1JTODAiLGRhdHVtTmFtZToiTm9ydGhfQW1lcmljYW5fRGF0dW1fMTk4MyJ9LGsubmFkMjc9e25hZGdyaWRzOiJAY29udXMsQGFsYXNrYSxAbnR2Ml8wLmdzYixAbnR2MV9jYW4uZGF0IixlbGxpcHNlOiJjbHJrNjYiLGRhdHVtTmFtZToiTm9ydGhfQW1lcmljYW5fRGF0dW1fMTkyNyJ9LGsucG90c2RhbT17dG93Z3M4NDoiNTk4LjEsNzMuNyw0MTguMiwwLjIwMiwwLjA0NSwtMi40NTUsNi43IixlbGxpcHNlOiJiZXNzZWwiLGRhdHVtTmFtZToiUG90c2RhbSBSYXVlbmJlcmcgMTk1MCBESEROIn0say5jYXJ0aGFnZT17dG93Z3M4NDoiLTI2My4wLDYuMCw0MzEuMCIsZWxsaXBzZToiY2xhcms4MCIsZGF0dW1OYW1lOiJDYXJ0aGFnZSAxOTM0IFR1bmlzaWEifSxrLmhlcm1hbm5za29nZWw9e3Rvd2dzODQ6IjU3Ny4zMjYsOTAuMTI5LDQ2My45MTksNS4xMzcsMS40NzQsNS4yOTcsMi40MjMyIixlbGxpcHNlOiJiZXNzZWwiLGRhdHVtTmFtZToiSGVybWFubnNrb2dlbCJ9LGsub3NuaTUyPXt0b3dnczg0OiI0ODIuNTMwLC0xMzAuNTk2LDU2NC41NTcsLTEuMDQyLC0wLjIxNCwtMC42MzEsOC4xNSIsZWxsaXBzZToiYWlyeSIsZGF0dW1OYW1lOiJJcmlzaCBOYXRpb25hbCJ9LGsuaXJlNjU9e3Rvd2dzODQ6IjQ4Mi41MzAsLTEzMC41OTYsNTY0LjU1NywtMS4wNDIsLTAuMjE0LC0wLjYzMSw4LjE1IixlbGxpcHNlOiJtb2RfYWlyeSIsZGF0dW1OYW1lOiJJcmVsYW5kIDE5NjUifSxrLnJhc3NhZGlyYW49e3Rvd2dzODQ6Ii0xMzMuNjMsLTE1Ny41LC0xNTguNjIiLGVsbGlwc2U6ImludGwiLGRhdHVtTmFtZToiUmFzc2FkaXJhbiJ9LGsubnpnZDQ5PXt0b3dnczg0OiI1OS40NywtNS4wNCwxODcuNDQsMC40NywtMC4xLDEuMDI0LC00LjU5OTMiLGVsbGlwc2U6ImludGwiLGRhdHVtTmFtZToiTmV3IFplYWxhbmQgR2VvZGV0aWMgRGF0dW0gMTk0OSJ9LGsub3NnYjM2PXt0b3dnczg0OiI0NDYuNDQ4LC0xMjUuMTU3LDU0Mi4wNjAsMC4xNTAyLDAuMjQ3MCwwLjg0MjEsLTIwLjQ4OTQiLGVsbGlwc2U6ImFpcnkiLGRhdHVtTmFtZToiQWlyeSAxODMwIn0say5zX2p0c2s9e3Rvd2dzODQ6IjU4OSw3Niw0ODAiLGVsbGlwc2U6ImJlc3NlbCIsZGF0dW1OYW1lOiJTLUpUU0sgKEZlcnJvKSJ9LGsuYmVkdWFyYW09e3Rvd2dzODQ6Ii0xMDYsLTg3LDE4OCIsZWxsaXBzZToiY2xyazgwIixkYXR1bU5hbWU6IkJlZHVhcmFtIn0say5ndW51bmdfc2VnYXJhPXt0b3dnczg0OiItNDAzLDY4NCw0MSIsZWxsaXBzZToiYmVzc2VsIixkYXR1bU5hbWU6Ikd1bnVuZyBTZWdhcmEgSmFrYXJ0YSJ9LGsucm5iNzI9e3Rvd2dzODQ6IjEwNi44NjksLTUyLjI5NzgsMTAzLjcyNCwtMC4zMzY1NywwLjQ1Njk1NSwtMS44NDIxOCwxIixlbGxpcHNlOiJpbnRsIixkYXR1bU5hbWU6IlJlc2VhdSBOYXRpb25hbCBCZWxnZSAxOTcyIn07ZnVuY3Rpb24gQWkodCxzLGksaCxhLHIsbil7dmFyIGU9e307cmV0dXJuIHQ9PT12b2lkIDB8fHQ9PT0ibm9uZSI/ZS5kYXR1bV90eXBlPXp0OmUuZGF0dW1fdHlwZT1EcyxzJiYoZS5kYXR1bV9wYXJhbXM9cy5tYXAocGFyc2VGbG9hdCksKGUuZGF0dW1fcGFyYW1zWzBdIT09MHx8ZS5kYXR1bV9wYXJhbXNbMV0hPT0wfHxlLmRhdHVtX3BhcmFtc1syXSE9PTApJiYoZS5kYXR1bV90eXBlPSQpLGUuZGF0dW1fcGFyYW1zLmxlbmd0aD4zJiYoZS5kYXR1bV9wYXJhbXNbM10hPT0wfHxlLmRhdHVtX3BhcmFtc1s0XSE9PTB8fGUuZGF0dW1fcGFyYW1zWzVdIT09MHx8ZS5kYXR1bV9wYXJhbXNbNl0hPT0wKSYmKGUuZGF0dW1fdHlwZT10dCxlLmRhdHVtX3BhcmFtc1szXSo9ZnQsZS5kYXR1bV9wYXJhbXNbNF0qPWZ0LGUuZGF0dW1fcGFyYW1zWzVdKj1mdCxlLmRhdHVtX3BhcmFtc1s2XT1lLmRhdHVtX3BhcmFtc1s2XS8xZTYrMSkpLG4mJihlLmRhdHVtX3R5cGU9RXQsZS5ncmlkcz1uKSxlLmE9aSxlLmI9aCxlLmVzPWEsZS5lcDI9cixlfXZhciBscz17fTtmdW5jdGlvbiBFaSh0LHMpe3ZhciBpPW5ldyBEYXRhVmlldyhzKSxoPVNpKGkpLGE9T2koaSxoKTthLm5TdWJncmlkcz4xJiZjb25zb2xlLmxvZygiT25seSBzaW5nbGUgTlR2MiBzdWJncmlkcyBhcmUgY3VycmVudGx5IHN1cHBvcnRlZCwgc3Vic2VxdWVudCBzdWIgZ3JpZHMgYXJlIGlnbm9yZWQiKTt2YXIgcj1JaShpLGEsaCksbj17aGVhZGVyOmEsc3ViZ3JpZHM6cn07cmV0dXJuIGxzW3RdPW4sbn1mdW5jdGlvbiBDaSh0KXtpZih0PT09dm9pZCAwKXJldHVybiBudWxsO3ZhciBzPXQuc3BsaXQoIiwiKTtyZXR1cm4gcy5tYXAoUGkpfWZ1bmN0aW9uIFBpKHQpe2lmKHQubGVuZ3RoPT09MClyZXR1cm4gbnVsbDt2YXIgcz10WzBdPT09IkAiO3JldHVybiBzJiYodD10LnNsaWNlKDEpKSx0PT09Im51bGwiP3tuYW1lOiJudWxsIixtYW5kYXRvcnk6IXMsZ3JpZDpudWxsLGlzTnVsbDohMH06e25hbWU6dCxtYW5kYXRvcnk6IXMsZ3JpZDpsc1t0XXx8bnVsbCxpc051bGw6ITF9fWZ1bmN0aW9uIGV0KHQpe3JldHVybiB0LzM2MDAqTWF0aC5QSS8xODB9ZnVuY3Rpb24gU2kodCl7dmFyIHM9dC5nZXRJbnQzMig4LCExKTtyZXR1cm4gcz09PTExPyExOihzPXQuZ2V0SW50MzIoOCwhMCkscyE9PTExJiZjb25zb2xlLndhcm4oIkZhaWxlZCB0byBkZXRlY3QgbmFkZ3JpZCBlbmRpYW4tbmVzcywgZGVmYXVsdGluZyB0byBsaXR0bGUtZW5kaWFuIiksITApfWZ1bmN0aW9uIE9pKHQscyl7cmV0dXJue25GaWVsZHM6dC5nZXRJbnQzMig4LHMpLG5TdWJncmlkRmllbGRzOnQuZ2V0SW50MzIoMjQscyksblN1YmdyaWRzOnQuZ2V0SW50MzIoNDAscyksc2hpZnRUeXBlOlV0KHQsNTYsNjQpLnRyaW0oKSxmcm9tU2VtaU1ham9yQXhpczp0LmdldEZsb2F0NjQoMTIwLHMpLGZyb21TZW1pTWlub3JBeGlzOnQuZ2V0RmxvYXQ2NCgxMzYscyksdG9TZW1pTWFqb3JBeGlzOnQuZ2V0RmxvYXQ2NCgxNTIscyksdG9TZW1pTWlub3JBeGlzOnQuZ2V0RmxvYXQ2NCgxNjgscyl9fWZ1bmN0aW9uIFV0KHQscyxpKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KHQuYnVmZmVyLnNsaWNlKHMsaSkpKX1mdW5jdGlvbiBJaSh0LHMsaSl7Zm9yKHZhciBoPTE3NixhPVtdLHI9MDtyPHMublN1YmdyaWRzO3IrKyl7dmFyIG49cWkodCxoLGkpLGU9UmkodCxoLG4saSksbz1NYXRoLnJvdW5kKDErKG4udXBwZXJMb25naXR1ZGUtbi5sb3dlckxvbmdpdHVkZSkvbi5sb25naXR1ZGVJbnRlcnZhbCksbD1NYXRoLnJvdW5kKDErKG4udXBwZXJMYXRpdHVkZS1uLmxvd2VyTGF0aXR1ZGUpL24ubGF0aXR1ZGVJbnRlcnZhbCk7YS5wdXNoKHtsbDpbZXQobi5sb3dlckxvbmdpdHVkZSksZXQobi5sb3dlckxhdGl0dWRlKV0sZGVsOltldChuLmxvbmdpdHVkZUludGVydmFsKSxldChuLmxhdGl0dWRlSW50ZXJ2YWwpXSxsaW06W28sbF0sY291bnQ6bi5ncmlkTm9kZUNvdW50LGN2czpraShlKX0pfXJldHVybiBhfWZ1bmN0aW9uIGtpKHQpe3JldHVybiB0Lm1hcChmdW5jdGlvbihzKXtyZXR1cm5bZXQocy5sb25naXR1ZGVTaGlmdCksZXQocy5sYXRpdHVkZVNoaWZ0KV19KX1mdW5jdGlvbiBxaSh0LHMsaSl7cmV0dXJue25hbWU6VXQodCxzKzgscysxNikudHJpbSgpLHBhcmVudDpVdCh0LHMrMjQscysyNCs4KS50cmltKCksbG93ZXJMYXRpdHVkZTp0LmdldEZsb2F0NjQocys3MixpKSx1cHBlckxhdGl0dWRlOnQuZ2V0RmxvYXQ2NChzKzg4LGkpLGxvd2VyTG9uZ2l0dWRlOnQuZ2V0RmxvYXQ2NChzKzEwNCxpKSx1cHBlckxvbmdpdHVkZTp0LmdldEZsb2F0NjQocysxMjAsaSksbGF0aXR1ZGVJbnRlcnZhbDp0LmdldEZsb2F0NjQocysxMzYsaSksbG9uZ2l0dWRlSW50ZXJ2YWw6dC5nZXRGbG9hdDY0KHMrMTUyLGkpLGdyaWROb2RlQ291bnQ6dC5nZXRJbnQzMihzKzE2OCxpKX19ZnVuY3Rpb24gUmkodCxzLGksaCl7Zm9yKHZhciBhPXMrMTc2LHI9MTYsbj1bXSxlPTA7ZTxpLmdyaWROb2RlQ291bnQ7ZSsrKXt2YXIgbz17bGF0aXR1ZGVTaGlmdDp0LmdldEZsb2F0MzIoYStlKnIsaCksbG9uZ2l0dWRlU2hpZnQ6dC5nZXRGbG9hdDMyKGErZSpyKzQsaCksbGF0aXR1ZGVBY2N1cmFjeTp0LmdldEZsb2F0MzIoYStlKnIrOCxoKSxsb25naXR1ZGVBY2N1cmFjeTp0LmdldEZsb2F0MzIoYStlKnIrMTIsaCl9O24ucHVzaChvKX1yZXR1cm4gbn1mdW5jdGlvbiBIKHQscyl7aWYoISh0aGlzIGluc3RhbmNlb2YgSCkpcmV0dXJuIG5ldyBIKHQpO3M9c3x8ZnVuY3Rpb24obCl7aWYobCl0aHJvdyBsfTt2YXIgaT1saSh0KTtpZih0eXBlb2YgaSE9Im9iamVjdCIpe3ModCk7cmV0dXJufXZhciBoPUgucHJvamVjdGlvbnMuZ2V0KGkucHJvak5hbWUpO2lmKCFoKXtzKHQpO3JldHVybn1pZihpLmRhdHVtQ29kZSYmaS5kYXR1bUNvZGUhPT0ibm9uZSIpe3ZhciBhPVYoayxpLmRhdHVtQ29kZSk7YSYmKGkuZGF0dW1fcGFyYW1zPWkuZGF0dW1fcGFyYW1zfHwoYS50b3dnczg0P2EudG93Z3M4NC5zcGxpdCgiLCIpOm51bGwpLGkuZWxscHM9YS5lbGxpcHNlLGkuZGF0dW1OYW1lPWEuZGF0dW1OYW1lP2EuZGF0dW1OYW1lOmkuZGF0dW1Db2RlKX1pLmswPWkuazB8fDEsaS5heGlzPWkuYXhpc3x8ImVudSIsaS5lbGxwcz1pLmVsbHBzfHwid2dzODQiLGkubGF0MT1pLmxhdDF8fGkubGF0MDt2YXIgcj1OaShpLmEsaS5iLGkucmYsaS5lbGxwcyxpLnNwaGVyZSksbj13aShyLmEsci5iLHIucmYsaS5SX0EpLGU9Q2koaS5uYWRncmlkcyksbz1pLmRhdHVtfHxBaShpLmRhdHVtQ29kZSxpLmRhdHVtX3BhcmFtcyxyLmEsci5iLG4uZXMsbi5lcDIsZSk7cnModGhpcyxpKSxycyh0aGlzLGgpLHRoaXMuYT1yLmEsdGhpcy5iPXIuYix0aGlzLnJmPXIucmYsdGhpcy5zcGhlcmU9ci5zcGhlcmUsdGhpcy5lcz1uLmVzLHRoaXMuZT1uLmUsdGhpcy5lcDI9bi5lcDIsdGhpcy5kYXR1bT1vLHRoaXMuaW5pdCgpLHMobnVsbCx0aGlzKX1ILnByb2plY3Rpb25zPXZpLEgucHJvamVjdGlvbnMuc3RhcnQoKTtmdW5jdGlvbiBMaSh0LHMpe3JldHVybiB0LmRhdHVtX3R5cGUhPT1zLmRhdHVtX3R5cGV8fHQuYSE9PXMuYXx8TWF0aC5hYnModC5lcy1zLmVzKT41ZS0xMT8hMTp0LmRhdHVtX3R5cGU9PT0kP3QuZGF0dW1fcGFyYW1zWzBdPT09cy5kYXR1bV9wYXJhbXNbMF0mJnQuZGF0dW1fcGFyYW1zWzFdPT09cy5kYXR1bV9wYXJhbXNbMV0mJnQuZGF0dW1fcGFyYW1zWzJdPT09cy5kYXR1bV9wYXJhbXNbMl06dC5kYXR1bV90eXBlPT09dHQ/dC5kYXR1bV9wYXJhbXNbMF09PT1zLmRhdHVtX3BhcmFtc1swXSYmdC5kYXR1bV9wYXJhbXNbMV09PT1zLmRhdHVtX3BhcmFtc1sxXSYmdC5kYXR1bV9wYXJhbXNbMl09PT1zLmRhdHVtX3BhcmFtc1syXSYmdC5kYXR1bV9wYXJhbXNbM109PT1zLmRhdHVtX3BhcmFtc1szXSYmdC5kYXR1bV9wYXJhbXNbNF09PT1zLmRhdHVtX3BhcmFtc1s0XSYmdC5kYXR1bV9wYXJhbXNbNV09PT1zLmRhdHVtX3BhcmFtc1s1XSYmdC5kYXR1bV9wYXJhbXNbNl09PT1zLmRhdHVtX3BhcmFtc1s2XTohMH1mdW5jdGlvbiB1cyh0LHMsaSl7dmFyIGg9dC54LGE9dC55LHI9dC56P3QuejowLG4sZSxvLGw7aWYoYTwtcCYmYT4tMS4wMDEqcClhPS1wO2Vsc2UgaWYoYT5wJiZhPDEuMDAxKnApYT1wO2Vsc2V7aWYoYTwtcClyZXR1cm57eDotMS8wLHk6LTEvMCx6OnQuen07aWYoYT5wKXJldHVybnt4OjEvMCx5OjEvMCx6OnQuen19cmV0dXJuIGg+TWF0aC5QSSYmKGgtPTIqTWF0aC5QSSksZT1NYXRoLnNpbihhKSxsPU1hdGguY29zKGEpLG89ZSplLG49aS9NYXRoLnNxcnQoMS1zKm8pLHt4OihuK3IpKmwqTWF0aC5jb3MoaCkseToobityKSpsKk1hdGguc2luKGgpLHo6KG4qKDEtcykrcikqZX19ZnVuY3Rpb24gY3ModCxzLGksaCl7dmFyIGE9MWUtMTIscj1hKmEsbj0zMCxlLG8sbCxjLHUsTSxkLGYsbSx4LGcsYix3LFA9dC54LE49dC55LEM9dC56P3QuejowLEwsTyxYO2lmKGU9TWF0aC5zcXJ0KFAqUCtOKk4pLG89TWF0aC5zcXJ0KFAqUCtOKk4rQypDKSxlL2k8YSl7aWYoTD0wLG8vaTxhKXJldHVybiBPPXAsWD0taCx7eDp0LngseTp0Lnksejp0Lnp9fWVsc2UgTD1NYXRoLmF0YW4yKE4sUCk7bD1DL28sYz1lL28sdT0xL01hdGguc3FydCgxLXMqKDItcykqYypjKSxmPWMqKDEtcykqdSxtPWwqdSx3PTA7ZG8gdysrLGQ9aS9NYXRoLnNxcnQoMS1zKm0qbSksWD1lKmYrQyptLWQqKDEtcyptKm0pLE09cypkLyhkK1gpLHU9MS9NYXRoLnNxcnQoMS1NKigyLU0pKmMqYykseD1jKigxLU0pKnUsZz1sKnUsYj1nKmYteCptLGY9eCxtPWc7d2hpbGUoYipiPnImJnc8bik7cmV0dXJuIE89TWF0aC5hdGFuKGcvTWF0aC5hYnMoeCkpLHt4OkwseTpPLHo6WH19ZnVuY3Rpb24gVGkodCxzLGkpe2lmKHM9PT0kKXJldHVybnt4OnQueCtpWzBdLHk6dC55K2lbMV0sejp0LnoraVsyXX07aWYocz09PXR0KXt2YXIgaD1pWzBdLGE9aVsxXSxyPWlbMl0sbj1pWzNdLGU9aVs0XSxvPWlbNV0sbD1pWzZdO3JldHVybnt4OmwqKHQueC1vKnQueStlKnQueikraCx5OmwqKG8qdC54K3QueS1uKnQueikrYSx6OmwqKC1lKnQueCtuKnQueSt0LnopK3J9fX1mdW5jdGlvbiBqaSh0LHMsaSl7aWYocz09PSQpcmV0dXJue3g6dC54LWlbMF0seTp0LnktaVsxXSx6OnQuei1pWzJdfTtpZihzPT09dHQpe3ZhciBoPWlbMF0sYT1pWzFdLHI9aVsyXSxuPWlbM10sZT1pWzRdLG89aVs1XSxsPWlbNl0sYz0odC54LWgpL2wsdT0odC55LWEpL2wsTT0odC56LXIpL2w7cmV0dXJue3g6YytvKnUtZSpNLHk6LW8qYyt1K24qTSx6OmUqYy1uKnUrTX19fWZ1bmN0aW9uIEl0KHQpe3JldHVybiB0PT09JHx8dD09PXR0fWZ1bmN0aW9uIEdpKHQscyxpKXtpZihMaSh0LHMpfHx0LmRhdHVtX3R5cGU9PT16dHx8cy5kYXR1bV90eXBlPT09enQpcmV0dXJuIGk7dmFyIGg9dC5hLGE9dC5lcztpZih0LmRhdHVtX3R5cGU9PT1FdCl7dmFyIHI9TXModCwhMSxpKTtpZihyIT09MClyZXR1cm47aD1adCxhPVl0fXZhciBuPXMuYSxlPXMuYixvPXMuZXM7aWYocy5kYXR1bV90eXBlPT09RXQmJihuPVp0LGU9VXMsbz1ZdCksYT09PW8mJmg9PT1uJiYhSXQodC5kYXR1bV90eXBlKSYmIUl0KHMuZGF0dW1fdHlwZSkpcmV0dXJuIGk7aWYoaT11cyhpLGEsaCksSXQodC5kYXR1bV90eXBlKSYmKGk9VGkoaSx0LmRhdHVtX3R5cGUsdC5kYXR1bV9wYXJhbXMpKSxJdChzLmRhdHVtX3R5cGUpJiYoaT1qaShpLHMuZGF0dW1fdHlwZSxzLmRhdHVtX3BhcmFtcykpLGk9Y3MoaSxvLG4sZSkscy5kYXR1bV90eXBlPT09RXQpe3ZhciBsPU1zKHMsITAsaSk7aWYobCE9PTApcmV0dXJufXJldHVybiBpfWZ1bmN0aW9uIE1zKHQscyxpKXtpZih0LmdyaWRzPT09bnVsbHx8dC5ncmlkcy5sZW5ndGg9PT0wKXJldHVybiBjb25zb2xlLmxvZygiR3JpZCBzaGlmdCBncmlkcyBub3QgZm91bmQiKSwtMTtmb3IodmFyIGg9e3g6LWkueCx5OmkueX0sYT17eDpOdW1iZXIuTmFOLHk6TnVtYmVyLk5hTn0scj1bXSxuPTA7bjx0LmdyaWRzLmxlbmd0aDtuKyspe3ZhciBlPXQuZ3JpZHNbbl07aWYoci5wdXNoKGUubmFtZSksZS5pc051bGwpe2E9aDticmVha31pZihlLmdyaWQ9PT1udWxsKXtpZihlLm1hbmRhdG9yeSlyZXR1cm4gY29uc29sZS5sb2coIlVuYWJsZSB0byBmaW5kIG1hbmRhdG9yeSBncmlkICciK2UubmFtZSsiJyIpLC0xO2NvbnRpbnVlfXZhciBvPWUuZ3JpZC5zdWJncmlkc1swXSxsPShNYXRoLmFicyhvLmRlbFsxXSkrTWF0aC5hYnMoby5kZWxbMF0pKS8xZTQsYz1vLmxsWzBdLWwsdT1vLmxsWzFdLWwsTT1vLmxsWzBdKyhvLmxpbVswXS0xKSpvLmRlbFswXStsLGQ9by5sbFsxXSsoby5saW1bMV0tMSkqby5kZWxbMV0rbDtpZighKHU+aC55fHxjPmgueHx8ZDxoLnl8fE08aC54KSYmKGE9QmkoaCxzLG8pLCFpc05hTihhLngpKSlicmVha31yZXR1cm4gaXNOYU4oYS54KT8oY29uc29sZS5sb2coIkZhaWxlZCB0byBmaW5kIGEgZ3JpZCBzaGlmdCB0YWJsZSBmb3IgbG9jYXRpb24gJyIrLWgueCpRKyIgIitoLnkqUSsiIHRyaWVkOiAnIityKyInIiksLTEpOihpLng9LWEueCxpLnk9YS55LDApfWZ1bmN0aW9uIEJpKHQscyxpKXt2YXIgaD17eDpOdW1iZXIuTmFOLHk6TnVtYmVyLk5hTn07aWYoaXNOYU4odC54KSlyZXR1cm4gaDt2YXIgYT17eDp0LngseTp0Lnl9O2EueC09aS5sbFswXSxhLnktPWkubGxbMV0sYS54PXkoYS54LU1hdGguUEkpK01hdGguUEk7dmFyIHI9ZnMoYSxpKTtpZihzKXtpZihpc05hTihyLngpKXJldHVybiBoO3IueD1hLngtci54LHIueT1hLnktci55O3ZhciBuPTksZT0xZS0xMixvLGw7ZG97aWYobD1mcyhyLGkpLGlzTmFOKGwueCkpe2NvbnNvbGUubG9nKCJJbnZlcnNlIGdyaWQgc2hpZnQgaXRlcmF0aW9uIGZhaWxlZCwgcHJlc3VtYWJseSBhdCBncmlkIGVkZ2UuICBVc2luZyBmaXJzdCBhcHByb3hpbWF0aW9uLiIpO2JyZWFrfW89e3g6YS54LShsLngrci54KSx5OmEueS0obC55K3IueSl9LHIueCs9by54LHIueSs9by55fXdoaWxlKG4tLSYmTWF0aC5hYnMoby54KT5lJiZNYXRoLmFicyhvLnkpPmUpO2lmKG48MClyZXR1cm4gY29uc29sZS5sb2coIkludmVyc2UgZ3JpZCBzaGlmdCBpdGVyYXRvciBmYWlsZWQgdG8gY29udmVyZ2UuIiksaDtoLng9eShyLngraS5sbFswXSksaC55PXIueStpLmxsWzFdfWVsc2UgaXNOYU4oci54KXx8KGgueD10Lngrci54LGgueT10Lnkrci55KTtyZXR1cm4gaH1mdW5jdGlvbiBmcyh0LHMpe3ZhciBpPXt4OnQueC9zLmRlbFswXSx5OnQueS9zLmRlbFsxXX0saD17eDpNYXRoLmZsb29yKGkueCkseTpNYXRoLmZsb29yKGkueSl9LGE9e3g6aS54LTEqaC54LHk6aS55LTEqaC55fSxyPXt4Ok51bWJlci5OYU4seTpOdW1iZXIuTmFOfSxuO2lmKGgueDwwfHxoLng+PXMubGltWzBdfHxoLnk8MHx8aC55Pj1zLmxpbVsxXSlyZXR1cm4gcjtuPWgueSpzLmxpbVswXStoLng7dmFyIGU9e3g6cy5jdnNbbl1bMF0seTpzLmN2c1tuXVsxXX07bisrO3ZhciBvPXt4OnMuY3ZzW25dWzBdLHk6cy5jdnNbbl1bMV19O24rPXMubGltWzBdO3ZhciBsPXt4OnMuY3ZzW25dWzBdLHk6cy5jdnNbbl1bMV19O24tLTt2YXIgYz17eDpzLmN2c1tuXVswXSx5OnMuY3ZzW25dWzFdfSx1PWEueCphLnksTT1hLngqKDEtYS55KSxkPSgxLWEueCkqKDEtYS55KSxmPSgxLWEueCkqYS55O3JldHVybiByLng9ZCplLngrTSpvLngrZipjLngrdSpsLngsci55PWQqZS55K00qby55K2YqYy55K3UqbC55LHJ9ZnVuY3Rpb24gZHModCxzLGkpe3ZhciBoPWkueCxhPWkueSxyPWkuenx8MCxuLGUsbyxsPXt9O2ZvcihvPTA7bzwzO28rKylpZighKHMmJm89PT0yJiZpLno9PT12b2lkIDApKXN3aXRjaChvPT09MD8obj1oLCJldyIuaW5kZXhPZih0LmF4aXNbb10pIT09LTE/ZT0ieCI6ZT0ieSIpOm89PT0xPyhuPWEsIm5zIi5pbmRleE9mKHQuYXhpc1tvXSkhPT0tMT9lPSJ5IjplPSJ4Iik6KG49cixlPSJ6IiksdC5heGlzW29dKXtjYXNlImUiOmxbZV09bjticmVhaztjYXNlInciOmxbZV09LW47YnJlYWs7Y2FzZSJuIjpsW2VdPW47YnJlYWs7Y2FzZSJzIjpsW2VdPS1uO2JyZWFrO2Nhc2UidSI6aVtlXSE9PXZvaWQgMCYmKGwuej1uKTticmVhaztjYXNlImQiOmlbZV0hPT12b2lkIDAmJihsLno9LW4pO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIG51bGx9cmV0dXJuIGx9ZnVuY3Rpb24gcHModCl7dmFyIHM9e3g6dFswXSx5OnRbMV19O3JldHVybiB0Lmxlbmd0aD4yJiYocy56PXRbMl0pLHQubGVuZ3RoPjMmJihzLm09dFszXSksc31mdW5jdGlvbiB6aSh0KXttcyh0LngpLG1zKHQueSl9ZnVuY3Rpb24gbXModCl7aWYodHlwZW9mIE51bWJlci5pc0Zpbml0ZT09ImZ1bmN0aW9uIil7aWYoTnVtYmVyLmlzRmluaXRlKHQpKXJldHVybjt0aHJvdyBuZXcgVHlwZUVycm9yKCJjb29yZGluYXRlcyBtdXN0IGJlIGZpbml0ZSBudW1iZXJzIil9aWYodHlwZW9mIHQhPSJudW1iZXIifHx0IT09dHx8IWlzRmluaXRlKHQpKXRocm93IG5ldyBUeXBlRXJyb3IoImNvb3JkaW5hdGVzIG11c3QgYmUgZmluaXRlIG51bWJlcnMiKX1mdW5jdGlvbiBGaSh0LHMpe3JldHVybih0LmRhdHVtLmRhdHVtX3R5cGU9PT0kfHx0LmRhdHVtLmRhdHVtX3R5cGU9PT10dCkmJnMuZGF0dW1Db2RlIT09IldHUzg0Inx8KHMuZGF0dW0uZGF0dW1fdHlwZT09PSR8fHMuZGF0dW0uZGF0dW1fdHlwZT09PXR0KSYmdC5kYXR1bUNvZGUhPT0iV0dTODQifWZ1bmN0aW9uIGt0KHQscyxpLGgpe3ZhciBhO2lmKEFycmF5LmlzQXJyYXkoaSkmJihpPXBzKGkpKSx6aShpKSx0LmRhdHVtJiZzLmRhdHVtJiZGaSh0LHMpJiYoYT1uZXcgSCgiV0dTODQiKSxpPWt0KHQsYSxpLGgpLHQ9YSksaCYmdC5heGlzIT09ImVudSImJihpPWRzKHQsITEsaSkpLHQucHJvak5hbWU9PT0ibG9uZ2xhdCIpaT17eDppLngqcSx5OmkueSpxLHo6aS56fHwwfTtlbHNlIGlmKHQudG9fbWV0ZXImJihpPXt4OmkueCp0LnRvX21ldGVyLHk6aS55KnQudG9fbWV0ZXIsejppLnp8fDB9KSxpPXQuaW52ZXJzZShpKSwhaSlyZXR1cm47aWYodC5mcm9tX2dyZWVud2ljaCYmKGkueCs9dC5mcm9tX2dyZWVud2ljaCksaT1HaSh0LmRhdHVtLHMuZGF0dW0saSksISFpKXJldHVybiBzLmZyb21fZ3JlZW53aWNoJiYoaT17eDppLngtcy5mcm9tX2dyZWVud2ljaCx5OmkueSx6Omkuenx8MH0pLHMucHJvak5hbWU9PT0ibG9uZ2xhdCI/aT17eDppLngqUSx5OmkueSpRLHo6aS56fHwwfTooaT1zLmZvcndhcmQoaSkscy50b19tZXRlciYmKGk9e3g6aS54L3MudG9fbWV0ZXIseTppLnkvcy50b19tZXRlcix6Omkuenx8MH0pKSxoJiZzLmF4aXMhPT0iZW51Ij9kcyhzLCEwLGkpOml9dmFyIF9zPUgoIldHUzg0Iik7ZnVuY3Rpb24gUXQodCxzLGksaCl7dmFyIGEscixuO3JldHVybiBBcnJheS5pc0FycmF5KGkpPyhhPWt0KHQscyxpLGgpfHx7eDpOYU4seTpOYU59LGkubGVuZ3RoPjI/dHlwZW9mIHQubmFtZTwidSImJnQubmFtZT09PSJnZW9jZW50Inx8dHlwZW9mIHMubmFtZTwidSImJnMubmFtZT09PSJnZW9jZW50Ij90eXBlb2YgYS56PT0ibnVtYmVyIj9bYS54LGEueSxhLnpdLmNvbmNhdChpLnNwbGljZSgzKSk6W2EueCxhLnksaVsyXV0uY29uY2F0KGkuc3BsaWNlKDMpKTpbYS54LGEueV0uY29uY2F0KGkuc3BsaWNlKDIpKTpbYS54LGEueV0pOihyPWt0KHQscyxpLGgpLG49T2JqZWN0LmtleXMoaSksbi5sZW5ndGg9PT0yfHxuLmZvckVhY2goZnVuY3Rpb24oZSl7aWYodHlwZW9mIHQubmFtZTwidSImJnQubmFtZT09PSJnZW9jZW50Inx8dHlwZW9mIHMubmFtZTwidSImJnMubmFtZT09PSJnZW9jZW50Iil7aWYoZT09PSJ4Inx8ZT09PSJ5Inx8ZT09PSJ6IilyZXR1cm59ZWxzZSBpZihlPT09IngifHxlPT09InkiKXJldHVybjtyW2VdPWlbZV19KSxyKX1mdW5jdGlvbiB5cyh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEg/dDp0Lm9Qcm9qP3Qub1Byb2o6SCh0KX1mdW5jdGlvbiB6KHQscyxpKXt0PXlzKHQpO3ZhciBoPSExLGE7cmV0dXJuIHR5cGVvZiBzPiJ1Ij8ocz10LHQ9X3MsaD0hMCk6KHR5cGVvZiBzLng8InUifHxBcnJheS5pc0FycmF5KHMpKSYmKGk9cyxzPXQsdD1fcyxoPSEwKSxzPXlzKHMpLGk/UXQodCxzLGkpOihhPXtmb3J3YXJkOmZ1bmN0aW9uKHIsbil7cmV0dXJuIFF0KHQscyxyLG4pfSxpbnZlcnNlOmZ1bmN0aW9uKHIsbil7cmV0dXJuIFF0KHMsdCxyLG4pfX0saCYmKGEub1Byb2o9cyksYSl9dmFyIHhzPTYsZ3M9IkFKU0FKUyIsdnM9IkFGQUZBRiIscnQ9NjUsQj03MyxGPTc5LHl0PTg2LHh0PTkwLERpPXtmb3J3YXJkOmJzLGludmVyc2U6VWksdG9Qb2ludDp3c307ZnVuY3Rpb24gYnModCxzKXtyZXR1cm4gcz1zfHw1LEhpKFFpKHtsYXQ6dFsxXSxsb246dFswXX0pLHMpfWZ1bmN0aW9uIFVpKHQpe3ZhciBzPUh0KEVzKHQudG9VcHBlckNhc2UoKSkpO3JldHVybiBzLmxhdCYmcy5sb24/W3MubG9uLHMubGF0LHMubG9uLHMubGF0XTpbcy5sZWZ0LHMuYm90dG9tLHMucmlnaHQscy50b3BdfWZ1bmN0aW9uIHdzKHQpe3ZhciBzPUh0KEVzKHQudG9VcHBlckNhc2UoKSkpO3JldHVybiBzLmxhdCYmcy5sb24/W3MubG9uLHMubGF0XTpbKHMubGVmdCtzLnJpZ2h0KS8yLChzLnRvcCtzLmJvdHRvbSkvMl19ZnVuY3Rpb24gV3QodCl7cmV0dXJuIHQqKE1hdGguUEkvMTgwKX1mdW5jdGlvbiBOcyh0KXtyZXR1cm4gMTgwKih0L01hdGguUEkpfWZ1bmN0aW9uIFFpKHQpe3ZhciBzPXQubGF0LGk9dC5sb24saD02Mzc4MTM3LGE9LjAwNjY5NDM4LHI9Ljk5OTYsbixlLG8sbCxjLHUsTSxkPVd0KHMpLGY9V3QoaSksbSx4O3g9TWF0aC5mbG9vcigoaSsxODApLzYpKzEsaT09PTE4MCYmKHg9NjApLHM+PTU2JiZzPDY0JiZpPj0zJiZpPDEyJiYoeD0zMikscz49NzImJnM8ODQmJihpPj0wJiZpPDk/eD0zMTppPj05JiZpPDIxP3g9MzM6aT49MjEmJmk8MzM/eD0zNTppPj0zMyYmaTw0MiYmKHg9MzcpKSxuPSh4LTEpKjYtMTgwKzMsbT1XdChuKSxlPWEvKDEtYSksbz1oL01hdGguc3FydCgxLWEqTWF0aC5zaW4oZCkqTWF0aC5zaW4oZCkpLGw9TWF0aC50YW4oZCkqTWF0aC50YW4oZCksYz1lKk1hdGguY29zKGQpKk1hdGguY29zKGQpLHU9TWF0aC5jb3MoZCkqKGYtbSksTT1oKigoMS1hLzQtMyphKmEvNjQtNSphKmEqYS8yNTYpKmQtKDMqYS84KzMqYSphLzMyKzQ1KmEqYSphLzEwMjQpKk1hdGguc2luKDIqZCkrKDE1KmEqYS8yNTYrNDUqYSphKmEvMTAyNCkqTWF0aC5zaW4oNCpkKS0zNSphKmEqYS8zMDcyKk1hdGguc2luKDYqZCkpO3ZhciBnPXIqbyoodSsoMS1sK2MpKnUqdSp1LzYrKDUtMTgqbCtsKmwrNzIqYy01OCplKSp1KnUqdSp1KnUvMTIwKSs1ZTUsYj1yKihNK28qTWF0aC50YW4oZCkqKHUqdS8yKyg1LWwrOSpjKzQqYypjKSp1KnUqdSp1LzI0Kyg2MS01OCpsK2wqbCs2MDAqYy0zMzAqZSkqdSp1KnUqdSp1KnUvNzIwKSk7cmV0dXJuIHM8MCYmKGIrPTFlNykse25vcnRoaW5nOk1hdGgucm91bmQoYiksZWFzdGluZzpNYXRoLnJvdW5kKGcpLHpvbmVOdW1iZXI6eCx6b25lTGV0dGVyOldpKHMpfX1mdW5jdGlvbiBIdCh0KXt2YXIgcz10Lm5vcnRoaW5nLGk9dC5lYXN0aW5nLGg9dC56b25lTGV0dGVyLGE9dC56b25lTnVtYmVyO2lmKGE8MHx8YT42MClyZXR1cm4gbnVsbDt2YXIgcj0uOTk5NixuPTYzNzgxMzcsZT0uMDA2Njk0MzgsbyxsPSgxLU1hdGguc3FydCgxLWUpKS8oMStNYXRoLnNxcnQoMS1lKSksYyx1LE0sZCxmLG0seCxnLGIsdz1pLTVlNSxQPXM7aDwiTiImJihQLT0xZTcpLHg9KGEtMSkqNi0xODArMyxvPWUvKDEtZSksbT1QL3IsZz1tLyhuKigxLWUvNC0zKmUqZS82NC01KmUqZSplLzI1NikpLGI9ZysoMypsLzItMjcqbCpsKmwvMzIpKk1hdGguc2luKDIqZykrKDIxKmwqbC8xNi01NSpsKmwqbCpsLzMyKSpNYXRoLnNpbig0KmcpKzE1MSpsKmwqbC85NipNYXRoLnNpbig2KmcpLGM9bi9NYXRoLnNxcnQoMS1lKk1hdGguc2luKGIpKk1hdGguc2luKGIpKSx1PU1hdGgudGFuKGIpKk1hdGgudGFuKGIpLE09bypNYXRoLmNvcyhiKSpNYXRoLmNvcyhiKSxkPW4qKDEtZSkvTWF0aC5wb3coMS1lKk1hdGguc2luKGIpKk1hdGguc2luKGIpLDEuNSksZj13LyhjKnIpO3ZhciBOPWItYypNYXRoLnRhbihiKS9kKihmKmYvMi0oNSszKnUrMTAqTS00Kk0qTS05Km8pKmYqZipmKmYvMjQrKDYxKzkwKnUrMjk4Kk0rNDUqdSp1LTI1MipvLTMqTSpNKSpmKmYqZipmKmYqZi83MjApO049TnMoTik7dmFyIEM9KGYtKDErMip1K00pKmYqZipmLzYrKDUtMipNKzI4KnUtMypNKk0rOCpvKzI0KnUqdSkqZipmKmYqZipmLzEyMCkvTWF0aC5jb3MoYik7Qz14K05zKEMpO3ZhciBMO2lmKHQuYWNjdXJhY3kpe3ZhciBPPUh0KHtub3J0aGluZzp0Lm5vcnRoaW5nK3QuYWNjdXJhY3ksZWFzdGluZzp0LmVhc3RpbmcrdC5hY2N1cmFjeSx6b25lTGV0dGVyOnQuem9uZUxldHRlcix6b25lTnVtYmVyOnQuem9uZU51bWJlcn0pO0w9e3RvcDpPLmxhdCxyaWdodDpPLmxvbixib3R0b206TixsZWZ0OkN9fWVsc2UgTD17bGF0Ok4sbG9uOkN9O3JldHVybiBMfWZ1bmN0aW9uIFdpKHQpe3ZhciBzPSJaIjtyZXR1cm4gODQ+PXQmJnQ+PTcyP3M9IlgiOjcyPnQmJnQ+PTY0P3M9IlciOjY0PnQmJnQ+PTU2P3M9IlYiOjU2PnQmJnQ+PTQ4P3M9IlUiOjQ4PnQmJnQ+PTQwP3M9IlQiOjQwPnQmJnQ+PTMyP3M9IlMiOjMyPnQmJnQ+PTI0P3M9IlIiOjI0PnQmJnQ+PTE2P3M9IlEiOjE2PnQmJnQ+PTg/cz0iUCI6OD50JiZ0Pj0wP3M9Ik4iOjA+dCYmdD49LTg/cz0iTSI6LTg+dCYmdD49LTE2P3M9IkwiOi0xNj50JiZ0Pj0tMjQ/cz0iSyI6LTI0PnQmJnQ+PS0zMj9zPSJKIjotMzI+dCYmdD49LTQwP3M9IkgiOi00MD50JiZ0Pj0tNDg/cz0iRyI6LTQ4PnQmJnQ+PS01Nj9zPSJGIjotNTY+dCYmdD49LTY0P3M9IkUiOi02ND50JiZ0Pj0tNzI/cz0iRCI6LTcyPnQmJnQ+PS04MCYmKHM9IkMiKSxzfWZ1bmN0aW9uIEhpKHQscyl7dmFyIGk9IjAwMDAwIit0LmVhc3RpbmcsaD0iMDAwMDAiK3Qubm9ydGhpbmc7cmV0dXJuIHQuem9uZU51bWJlcit0LnpvbmVMZXR0ZXIrWGkodC5lYXN0aW5nLHQubm9ydGhpbmcsdC56b25lTnVtYmVyKStpLnN1YnN0cihpLmxlbmd0aC01LHMpK2guc3Vic3RyKGgubGVuZ3RoLTUscyl9ZnVuY3Rpb24gWGkodCxzLGkpe3ZhciBoPUFzKGkpLGE9TWF0aC5mbG9vcih0LzFlNSkscj1NYXRoLmZsb29yKHMvMWU1KSUyMDtyZXR1cm4gSmkoYSxyLGgpfWZ1bmN0aW9uIEFzKHQpe3ZhciBzPXQleHM7cmV0dXJuIHM9PT0wJiYocz14cyksc31mdW5jdGlvbiBKaSh0LHMsaSl7dmFyIGg9aS0xLGE9Z3MuY2hhckNvZGVBdChoKSxyPXZzLmNoYXJDb2RlQXQoaCksbj1hK3QtMSxlPXIrcyxvPSExO24+eHQmJihuPW4teHQrcnQtMSxvPSEwKSwobj09PUJ8fGE8QiYmbj5CfHwobj5CfHxhPEIpJiZvKSYmbisrLChuPT09Rnx8YTxGJiZuPkZ8fChuPkZ8fGE8RikmJm8pJiYobisrLG49PT1CJiZuKyspLG4+eHQmJihuPW4teHQrcnQtMSksZT55dD8oZT1lLXl0K3J0LTEsbz0hMCk6bz0hMSwoZT09PUJ8fHI8QiYmZT5CfHwoZT5CfHxyPEIpJiZvKSYmZSsrLChlPT09Rnx8cjxGJiZlPkZ8fChlPkZ8fHI8RikmJm8pJiYoZSsrLGU9PT1CJiZlKyspLGU+eXQmJihlPWUteXQrcnQtMSk7dmFyIGw9U3RyaW5nLmZyb21DaGFyQ29kZShuKStTdHJpbmcuZnJvbUNoYXJDb2RlKGUpO3JldHVybiBsfWZ1bmN0aW9uIEVzKHQpe2lmKHQmJnQubGVuZ3RoPT09MCl0aHJvdyJNR1JTUG9pbnQgY292ZXJ0aW5nIGZyb20gbm90aGluZyI7Zm9yKHZhciBzPXQubGVuZ3RoLGk9bnVsbCxoPSIiLGEscj0wOyEvW0EtWl0vLnRlc3QoYT10LmNoYXJBdChyKSk7KXtpZihyPj0yKXRocm93Ik1HUlNQb2ludCBiYWQgY29udmVyc2lvbiBmcm9tOiAiK3Q7aCs9YSxyKyt9dmFyIG49cGFyc2VJbnQoaCwxMCk7aWYocj09PTB8fHIrMz5zKXRocm93Ik1HUlNQb2ludCBiYWQgY29udmVyc2lvbiBmcm9tOiAiK3Q7dmFyIGU9dC5jaGFyQXQocisrKTtpZihlPD0iQSJ8fGU9PT0iQiJ8fGU9PT0iWSJ8fGU+PSJaInx8ZT09PSJJInx8ZT09PSJPIil0aHJvdyJNR1JTUG9pbnQgem9uZSBsZXR0ZXIgIitlKyIgbm90IGhhbmRsZWQ6ICIrdDtpPXQuc3Vic3RyaW5nKHIscis9Mik7Zm9yKHZhciBvPUFzKG4pLGw9S2koaS5jaGFyQXQoMCksbyksYz1WaShpLmNoYXJBdCgxKSxvKTtjPFppKGUpOyljKz0yZTY7dmFyIHU9cy1yO2lmKHUlMiE9PTApdGhyb3dgTUdSU1BvaW50IGhhcyB0byBoYXZlIGFuIGV2ZW4gbnVtYmVyIApvZiBkaWdpdHMgYWZ0ZXIgdGhlIHpvbmUgbGV0dGVyIGFuZCB0d28gMTAwa20gbGV0dGVycyAtIGZyb250IApoYWxmIGZvciBlYXN0aW5nIG1ldGVycywgc2Vjb25kIGhhbGYgZm9yIApub3J0aGluZyBtZXRlcnNgK3Q7dmFyIE09dS8yLGQ9MCxmPTAsbSx4LGcsYix3O3JldHVybiBNPjAmJihtPTFlNS9NYXRoLnBvdygxMCxNKSx4PXQuc3Vic3RyaW5nKHIscitNKSxkPXBhcnNlRmxvYXQoeCkqbSxnPXQuc3Vic3RyaW5nKHIrTSksZj1wYXJzZUZsb2F0KGcpKm0pLGI9ZCtsLHc9ZitjLHtlYXN0aW5nOmIsbm9ydGhpbmc6dyx6b25lTGV0dGVyOmUsem9uZU51bWJlcjpuLGFjY3VyYWN5Om19fWZ1bmN0aW9uIEtpKHQscyl7Zm9yKHZhciBpPWdzLmNoYXJDb2RlQXQocy0xKSxoPTFlNSxhPSExO2khPT10LmNoYXJDb2RlQXQoMCk7KXtpZihpKyssaT09PUImJmkrKyxpPT09RiYmaSsrLGk+eHQpe2lmKGEpdGhyb3ciQmFkIGNoYXJhY3RlcjogIit0O2k9cnQsYT0hMH1oKz0xZTV9cmV0dXJuIGh9ZnVuY3Rpb24gVmkodCxzKXtpZih0PiJWIil0aHJvdyJNR1JTUG9pbnQgZ2l2ZW4gaW52YWxpZCBOb3J0aGluZyAiK3Q7Zm9yKHZhciBpPXZzLmNoYXJDb2RlQXQocy0xKSxoPTAsYT0hMTtpIT09dC5jaGFyQ29kZUF0KDApOyl7aWYoaSsrLGk9PT1CJiZpKyssaT09PUYmJmkrKyxpPnl0KXtpZihhKXRocm93IkJhZCBjaGFyYWN0ZXI6ICIrdDtpPXJ0LGE9ITB9aCs9MWU1fXJldHVybiBofWZ1bmN0aW9uIFppKHQpe3ZhciBzO3N3aXRjaCh0KXtjYXNlIkMiOnM9MTFlNTticmVhaztjYXNlIkQiOnM9MmU2O2JyZWFrO2Nhc2UiRSI6cz0yOGU1O2JyZWFrO2Nhc2UiRiI6cz0zN2U1O2JyZWFrO2Nhc2UiRyI6cz00NmU1O2JyZWFrO2Nhc2UiSCI6cz01NWU1O2JyZWFrO2Nhc2UiSiI6cz02NGU1O2JyZWFrO2Nhc2UiSyI6cz03M2U1O2JyZWFrO2Nhc2UiTCI6cz04MmU1O2JyZWFrO2Nhc2UiTSI6cz05MWU1O2JyZWFrO2Nhc2UiTiI6cz0wO2JyZWFrO2Nhc2UiUCI6cz04ZTU7YnJlYWs7Y2FzZSJRIjpzPTE3ZTU7YnJlYWs7Y2FzZSJSIjpzPTI2ZTU7YnJlYWs7Y2FzZSJTIjpzPTM1ZTU7YnJlYWs7Y2FzZSJUIjpzPTQ0ZTU7YnJlYWs7Y2FzZSJVIjpzPTUzZTU7YnJlYWs7Y2FzZSJWIjpzPTYyZTU7YnJlYWs7Y2FzZSJXIjpzPTdlNjticmVhaztjYXNlIlgiOnM9NzllNTticmVhaztkZWZhdWx0OnM9LTF9aWYocz49MClyZXR1cm4gczt0aHJvdyJJbnZhbGlkIHpvbmUgbGV0dGVyOiAiK3R9ZnVuY3Rpb24gbnQodCxzLGkpe2lmKCEodGhpcyBpbnN0YW5jZW9mIG50KSlyZXR1cm4gbmV3IG50KHQscyxpKTtpZihBcnJheS5pc0FycmF5KHQpKXRoaXMueD10WzBdLHRoaXMueT10WzFdLHRoaXMuej10WzJdfHwwO2Vsc2UgaWYodHlwZW9mIHQ9PSJvYmplY3QiKXRoaXMueD10LngsdGhpcy55PXQueSx0aGlzLno9dC56fHwwO2Vsc2UgaWYodHlwZW9mIHQ9PSJzdHJpbmciJiZ0eXBlb2Ygcz4idSIpe3ZhciBoPXQuc3BsaXQoIiwiKTt0aGlzLng9cGFyc2VGbG9hdChoWzBdLDEwKSx0aGlzLnk9cGFyc2VGbG9hdChoWzFdLDEwKSx0aGlzLno9cGFyc2VGbG9hdChoWzJdLDEwKXx8MH1lbHNlIHRoaXMueD10LHRoaXMueT1zLHRoaXMuej1pfHwwO2NvbnNvbGUud2FybigicHJvajQuUG9pbnQgd2lsbCBiZSByZW1vdmVkIGluIHZlcnNpb24gMywgdXNlIHByb2o0LnRvUG9pbnQiKX1udC5mcm9tTUdSUz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IG50KHdzKHQpKX0sbnQucHJvdG90eXBlLnRvTUdSUz1mdW5jdGlvbih0KXtyZXR1cm4gYnMoW3RoaXMueCx0aGlzLnldLHQpfTt2YXIgWWk9MSwkaT0uMjUsQ3M9LjA0Njg3NSxQcz0uMDE5NTMxMjUsU3M9LjAxMDY4MTE1MjM0Mzc1LHRhPS43NSxzYT0uNDY4NzUsaWE9LjAxMzAyMDgzMzMzMzMzMzMzNCxhYT0uMDA3MTIwNzY4MjI5MTY2NjY3LGhhPS4zNjQ1ODMzMzMzMzMzMzMzLGVhPS4wMDU2OTY2MTQ1ODMzMzMzMzMscmE9LjMwNzYxNzE4NzU7ZnVuY3Rpb24gT3ModCl7dmFyIHM9W107c1swXT1ZaS10KigkaSt0KihDcyt0KihQcyt0KlNzKSkpLHNbMV09dCoodGEtdCooQ3MrdCooUHMrdCpTcykpKTt2YXIgaT10KnQ7cmV0dXJuIHNbMl09aSooc2EtdCooaWErdCphYSkpLGkqPXQsc1szXT1pKihoYS10KmVhKSxzWzRdPWkqdCpyYSxzfWZ1bmN0aW9uIHF0KHQscyxpLGgpe3JldHVybiBpKj1zLHMqPXMsaFswXSp0LWkqKGhbMV0rcyooaFsyXStzKihoWzNdK3MqaFs0XSkpKX12YXIgbmE9MjA7ZnVuY3Rpb24gSXModCxzLGkpe2Zvcih2YXIgaD0xLygxLXMpLGE9dCxyPW5hO3I7LS1yKXt2YXIgbj1NYXRoLnNpbihhKSxlPTEtcypuKm47aWYoZT0ocXQoYSxuLE1hdGguY29zKGEpLGkpLXQpKihlKk1hdGguc3FydChlKSkqaCxhLT1lLE1hdGguYWJzKGUpPF8pcmV0dXJuIGF9cmV0dXJuIGF9ZnVuY3Rpb24gb2EoKXt0aGlzLngwPXRoaXMueDAhPT12b2lkIDA/dGhpcy54MDowLHRoaXMueTA9dGhpcy55MCE9PXZvaWQgMD90aGlzLnkwOjAsdGhpcy5sb25nMD10aGlzLmxvbmcwIT09dm9pZCAwP3RoaXMubG9uZzA6MCx0aGlzLmxhdDA9dGhpcy5sYXQwIT09dm9pZCAwP3RoaXMubGF0MDowLHRoaXMuZXMmJih0aGlzLmVuPU9zKHRoaXMuZXMpLHRoaXMubWwwPXF0KHRoaXMubGF0MCxNYXRoLnNpbih0aGlzLmxhdDApLE1hdGguY29zKHRoaXMubGF0MCksdGhpcy5lbikpfWZ1bmN0aW9uIGxhKHQpe3ZhciBzPXQueCxpPXQueSxoPXkocy10aGlzLmxvbmcwKSxhLHIsbixlPU1hdGguc2luKGkpLG89TWF0aC5jb3MoaSk7aWYodGhpcy5lcyl7dmFyIGw9bypoLGM9TWF0aC5wb3cobCwyKSx1PXRoaXMuZXAyKk1hdGgucG93KG8sMiksTT1NYXRoLnBvdyh1LDIpLGQ9TWF0aC5hYnMobyk+Xz9NYXRoLnRhbihpKTowLGY9TWF0aC5wb3coZCwyKSxtPU1hdGgucG93KGYsMik7YT0xLXRoaXMuZXMqTWF0aC5wb3coZSwyKSxsPWwvTWF0aC5zcXJ0KGEpO3ZhciB4PXF0KGksZSxvLHRoaXMuZW4pO3I9dGhpcy5hKih0aGlzLmswKmwqKDErYy82KigxLWYrdStjLzIwKig1LTE4KmYrbSsxNCp1LTU4KmYqdStjLzQyKig2MSsxNzkqbS1tKmYtNDc5KmYpKSkpKSt0aGlzLngwLG49dGhpcy5hKih0aGlzLmswKih4LXRoaXMubWwwK2UqaCpsLzIqKDErYy8xMiooNS1mKzkqdSs0Kk0rYy8zMCooNjErbS01OCpmKzI3MCp1LTMzMCpmKnUrYy81NiooMTM4NSs1NDMqbS1tKmYtMzExMSpmKSkpKSkpK3RoaXMueTB9ZWxzZXt2YXIgZz1vKk1hdGguc2luKGgpO2lmKE1hdGguYWJzKE1hdGguYWJzKGcpLTEpPF8pcmV0dXJuIDkzO2lmKHI9LjUqdGhpcy5hKnRoaXMuazAqTWF0aC5sb2coKDErZykvKDEtZykpK3RoaXMueDAsbj1vKk1hdGguY29zKGgpL01hdGguc3FydCgxLU1hdGgucG93KGcsMikpLGc9TWF0aC5hYnMobiksZz49MSl7aWYoZy0xPl8pcmV0dXJuIDkzO249MH1lbHNlIG49TWF0aC5hY29zKG4pO2k8MCYmKG49LW4pLG49dGhpcy5hKnRoaXMuazAqKG4tdGhpcy5sYXQwKSt0aGlzLnkwfXJldHVybiB0Lng9cix0Lnk9bix0fWZ1bmN0aW9uIHVhKHQpe3ZhciBzLGksaCxhLHI9KHQueC10aGlzLngwKSooMS90aGlzLmEpLG49KHQueS10aGlzLnkwKSooMS90aGlzLmEpO2lmKHRoaXMuZXMpaWYocz10aGlzLm1sMCtuL3RoaXMuazAsaT1JcyhzLHRoaXMuZXMsdGhpcy5lbiksTWF0aC5hYnMoaSk8cCl7dmFyIGU9TWF0aC5zaW4oaSksbz1NYXRoLmNvcyhpKSxsPU1hdGguYWJzKG8pPl8/TWF0aC50YW4oaSk6MCxjPXRoaXMuZXAyKk1hdGgucG93KG8sMiksdT1NYXRoLnBvdyhjLDIpLE09TWF0aC5wb3cobCwyKSxkPU1hdGgucG93KE0sMik7cz0xLXRoaXMuZXMqTWF0aC5wb3coZSwyKTt2YXIgZj1yKk1hdGguc3FydChzKS90aGlzLmswLG09TWF0aC5wb3coZiwyKTtzPXMqbCxoPWktcyptLygxLXRoaXMuZXMpKi41KigxLW0vMTIqKDUrMypNLTkqYypNK2MtNCp1LW0vMzAqKDYxKzkwKk0tMjUyKmMqTSs0NSpkKzQ2KmMtbS81NiooMTM4NSszNjMzKk0rNDA5NSpkKzE1NzQqZCpNKSkpKSxhPXkodGhpcy5sb25nMCtmKigxLW0vNiooMSsyKk0rYy1tLzIwKig1KzI4Kk0rMjQqZCs4KmMqTSs2KmMtbS80MiooNjErNjYyKk0rMTMyMCpkKzcyMCpkKk0pKSkpL28pfWVsc2UgaD1wKm10KG4pLGE9MDtlbHNle3ZhciB4PU1hdGguZXhwKHIvdGhpcy5rMCksZz0uNSooeC0xL3gpLGI9dGhpcy5sYXQwK24vdGhpcy5rMCx3PU1hdGguY29zKGIpO3M9TWF0aC5zcXJ0KCgxLU1hdGgucG93KHcsMikpLygxK01hdGgucG93KGcsMikpKSxoPU1hdGguYXNpbihzKSxuPDAmJihoPS1oKSxnPT09MCYmdz09PTA/YT0wOmE9eShNYXRoLmF0YW4yKGcsdykrdGhpcy5sb25nMCl9cmV0dXJuIHQueD1hLHQueT1oLHR9dmFyIGNhPVsiRmFzdF9UcmFuc3ZlcnNlX01lcmNhdG9yIiwiRmFzdCBUcmFuc3ZlcnNlIE1lcmNhdG9yIl0sUnQ9e2luaXQ6b2EsZm9yd2FyZDpsYSxpbnZlcnNlOnVhLG5hbWVzOmNhfTtmdW5jdGlvbiBrcyh0KXt2YXIgcz1NYXRoLmV4cCh0KTtyZXR1cm4gcz0ocy0xL3MpLzIsc31mdW5jdGlvbiBVKHQscyl7dD1NYXRoLmFicyh0KSxzPU1hdGguYWJzKHMpO3ZhciBpPU1hdGgubWF4KHQscyksaD1NYXRoLm1pbih0LHMpLyhpfHwxKTtyZXR1cm4gaSpNYXRoLnNxcnQoMStNYXRoLnBvdyhoLDIpKX1mdW5jdGlvbiBNYSh0KXt2YXIgcz0xK3QsaT1zLTE7cmV0dXJuIGk9PT0wP3Q6dCpNYXRoLmxvZyhzKS9pfWZ1bmN0aW9uIGZhKHQpe3ZhciBzPU1hdGguYWJzKHQpO3JldHVybiBzPU1hKHMqKDErcy8oVSgxLHMpKzEpKSksdDwwPy1zOnN9ZnVuY3Rpb24gWHQodCxzKXtmb3IodmFyIGk9MipNYXRoLmNvcygyKnMpLGg9dC5sZW5ndGgtMSxhPXRbaF0scj0wLG47LS1oPj0wOyluPS1yK2kqYSt0W2hdLHI9YSxhPW47cmV0dXJuIHMrbipNYXRoLnNpbigyKnMpfWZ1bmN0aW9uIGRhKHQscyl7Zm9yKHZhciBpPTIqTWF0aC5jb3MocyksaD10Lmxlbmd0aC0xLGE9dFtoXSxyPTAsbjstLWg+PTA7KW49LXIraSphK3RbaF0scj1hLGE9bjtyZXR1cm4gTWF0aC5zaW4ocykqbn1mdW5jdGlvbiBwYSh0KXt2YXIgcz1NYXRoLmV4cCh0KTtyZXR1cm4gcz0ocysxL3MpLzIsc31mdW5jdGlvbiBxcyh0LHMsaSl7Zm9yKHZhciBoPU1hdGguc2luKHMpLGE9TWF0aC5jb3Mocykscj1rcyhpKSxuPXBhKGkpLGU9MiphKm4sbz0tMipoKnIsbD10Lmxlbmd0aC0xLGM9dFtsXSx1PTAsTT0wLGQ9MCxmLG07LS1sPj0wOylmPU0sbT11LE09Yyx1PWQsYz0tZitlKk0tbyp1K3RbbF0sZD0tbStvKk0rZSp1O3JldHVybiBlPWgqbixvPWEqcixbZSpjLW8qZCxlKmQrbypjXX1mdW5jdGlvbiBtYSgpe2lmKCF0aGlzLmFwcHJveCYmKGlzTmFOKHRoaXMuZXMpfHx0aGlzLmVzPD0wKSl0aHJvdyBuZXcgRXJyb3IoJ0luY29ycmVjdCBlbGxpcHRpY2FsIHVzYWdlLiBUcnkgdXNpbmcgdGhlICthcHByb3ggb3B0aW9uIGluIHRoZSBwcm9qIHN0cmluZywgb3IgUFJPSkVDVElPTlsiRmFzdF9UcmFuc3ZlcnNlX01lcmNhdG9yIl0gaW4gdGhlIFdLVC4nKTt0aGlzLmFwcHJveCYmKFJ0LmluaXQuYXBwbHkodGhpcyksdGhpcy5mb3J3YXJkPVJ0LmZvcndhcmQsdGhpcy5pbnZlcnNlPVJ0LmludmVyc2UpLHRoaXMueDA9dGhpcy54MCE9PXZvaWQgMD90aGlzLngwOjAsdGhpcy55MD10aGlzLnkwIT09dm9pZCAwP3RoaXMueTA6MCx0aGlzLmxvbmcwPXRoaXMubG9uZzAhPT12b2lkIDA/dGhpcy5sb25nMDowLHRoaXMubGF0MD10aGlzLmxhdDAhPT12b2lkIDA/dGhpcy5sYXQwOjAsdGhpcy5jZ2I9W10sdGhpcy5jYmc9W10sdGhpcy51dGc9W10sdGhpcy5ndHU9W107dmFyIHQ9dGhpcy5lcy8oMStNYXRoLnNxcnQoMS10aGlzLmVzKSkscz10LygyLXQpLGk9czt0aGlzLmNnYlswXT1zKigyK3MqKC0uNjY2NjY2NjY2NjY2NjY2NitzKigtMitzKigyLjU3Nzc3Nzc3Nzc3Nzc3OCtzKiguNTc3Nzc3Nzc3Nzc3Nzc3NytzKi00LjIyODE0ODE0ODE0ODE0OCkpKSkpLHRoaXMuY2JnWzBdPXMqKC0yK3MqKC42NjY2NjY2NjY2NjY2NjY2K3MqKDEuMzMzMzMzMzMzMzMzMzMzMytzKigtMS44MjIyMjIyMjIyMjIyMjIyK3MqKC43MTExMTExMTExMTExMTExK3MqLjk4MjQzMzg2MjQzMzg2MjQpKSkpKSxpPWkqcyx0aGlzLmNnYlsxXT1pKigyLjMzMzMzMzMzMzMzMzMzMzUrcyooLTEuNitzKigtNS4wNDQ0NDQ0NDQ0NDQ0NDQrcyooOC41ODQxMjY5ODQxMjY5ODQrcyoyLjQ1ODIwMTA1ODIwMTA1OCkpKSksdGhpcy5jYmdbMV09aSooMS42NjY2NjY2NjY2NjY2NjY3K3MqKC0xLjA2NjY2NjY2NjY2NjY2NjcrcyooLTEuNDQ0NDQ0NDQ0NDQ0NDQ0NCtzKigyLjg2OTg0MTI2OTg0MTI3K3MqLTEuNjEwNTgyMDEwNTgyMDEwNikpKSksaT1pKnMsdGhpcy5jZ2JbMl09aSooMy43MzMzMzMzMzMzMzMzMzM0K3MqKC0zLjg4NTcxNDI4NTcxNDI4NTcrcyooLTEyLjAxOTA0NzYxOTA0NzYxOStzKjI2LjAzNjY4NDMwMzM1MDk3KSkpLHRoaXMuY2JnWzJdPWkqKC0xLjczMzMzMzMzMzMzMzMzMzQrcyooMS42MTkwNDc2MTkwNDc2MTkrcyooMS42K3MqLTQuNDc0Nzc5NTQxNDQ2MjA4KSkpLGk9aSpzLHRoaXMuY2diWzNdPWkqKDYuNzkyMDYzNDkyMDYzNDkyK3MqKC05LjQ4NTcxNDI4NTcxNDI4NitzKi0yOC4xODg1MDA4ODE4MzQyMTYpKSx0aGlzLmNiZ1szXT1pKigxLjk2MzQ5MjA2MzQ5MjA2MzQrcyooLTIuNCtzKi0xLjc1MTgxNjU3ODQ4MzI0NTEpKSxpPWkqcyx0aGlzLmNnYls0XT1pKigxMy4yNTA3OTM2NTA3OTM2NTIrcyotMjMuMjIyMzgyNTU1NzE1ODkpLHRoaXMuY2JnWzRdPWkqKC0yLjMzMDE1ODczMDE1ODczMDMrcyozLjUxNDQ0NjA0Nzc3OTM4MTMpLGk9aSpzLHRoaXMuY2diWzVdPWkqMjcuMDExMjY4MjM3OTM0OTAzLHRoaXMuY2JnWzVdPWkqMi44NDk2ODQxNDMwMTc0NzY0LGk9TWF0aC5wb3cocywyKSx0aGlzLlFuPXRoaXMuazAvKDErcykqKDEraSooLjI1K2kqKC4wMTU2MjUraS8yNTYpKSksdGhpcy51dGdbMF09cyooLS41K3MqKC42NjY2NjY2NjY2NjY2NjY2K3MqKC0uMzg1NDE2NjY2NjY2NjY2NytzKiguMDAyNzc3Nzc3Nzc3Nzc3Nzc4K3MqKC4xNTgyMDMxMjUrcyotLjE1OTA1OTE5MzEyMTY5MzEyKSkpKSksdGhpcy5ndHVbMF09cyooLjUrcyooLS42NjY2NjY2NjY2NjY2NjY2K3MqKC4zMTI1K3MqKC4yMjc3Nzc3Nzc3Nzc3Nzc3NytzKigtLjQ0MDk3MjIyMjIyMjIyMjIrcyouMjA4NzU2NjEzNzU2NjEzNzUpKSkpKSx0aGlzLnV0Z1sxXT1pKigtLjAyMDgzMzMzMzMzMzMzMzMzMitzKigtLjA2NjY2NjY2NjY2NjY2NjY3K3MqKC4zMDM0NzIyMjIyMjIyMjIyK3MqKC0uNDM4MDk1MjM4MDk1MjM4MStzKi4yODkwMTg4Mzg4NzIzNTQ1KSkpKSx0aGlzLmd0dVsxXT1pKiguMjcwODMzMzMzMzMzMzMzMytzKigtLjYrcyooLjM4NjgwNTU1NTU1NTU1NTU3K3MqKC40NDYwMzE3NDYwMzE3NDYwNitzKi0xLjAyNDgzOTMwNjM4MjI3NTIpKSkpLGk9aSpzLHRoaXMudXRnWzJdPWkqKC0uMDM1NDE2NjY2NjY2NjY2NjY2K3MqKC4wNDQwNDc2MTkwNDc2MTkwNStzKiguMDQ2NjUxNzg1NzE0Mjg1NzE1K3MqLS4wNjEzODY2ODQzMDMzNTA5NykpKSx0aGlzLmd0dVsyXT1pKiguMjU0MTY2NjY2NjY2NjY2NjUrcyooLS43MzU3MTQyODU3MTQyODU4K3MqKC41NjAzMDUwNTk1MjM4MDk1K3MqLjkyMzczNzg3NDc3OTU0MTUpKSksaT1pKnMsdGhpcy51dGdbM109aSooLS4wMjcyNjMxNDQ4NDEyNjk4NCtzKiguMDIxODI1Mzk2ODI1Mzk2ODI0K3MqLjExNDM5NzQ1OTIxNTE2NzU0KSksdGhpcy5ndHVbM109aSooLjMwNzI5Nzg2NzA2MzQ5MjA1K3MqKC0xLjA2NTQ3NjE5MDQ3NjE5MDUrcyouOTA5NjIwMzk3OTI3Njg5NikpLGk9aSpzLHRoaXMudXRnWzRdPWkqKC0uMDI4NDE2NDE4NjUwNzkzNjUrcyouMDI3MjY4NDY4NDE0MzAxNzQ2KSx0aGlzLmd0dVs0XT1pKiguNDMwNjY3MTYyNjk4NDEyNytzKi0xLjcxMzAwNzU1NTcxNTg4OSksaT1pKnMsdGhpcy51dGdbNV09aSotLjAzMjMzMDgzMDk0MDg1Njk4LHRoaXMuZ3R1WzVdPWkqLjY2NTA2NzUzMTA4OTY2NjU7dmFyIGg9WHQodGhpcy5jYmcsdGhpcy5sYXQwKTt0aGlzLlpiPS10aGlzLlFuKihoK2RhKHRoaXMuZ3R1LDIqaCkpfWZ1bmN0aW9uIF9hKHQpe3ZhciBzPXkodC54LXRoaXMubG9uZzApLGk9dC55O2k9WHQodGhpcy5jYmcsaSk7dmFyIGg9TWF0aC5zaW4oaSksYT1NYXRoLmNvcyhpKSxyPU1hdGguc2luKHMpLG49TWF0aC5jb3Mocyk7aT1NYXRoLmF0YW4yKGgsbiphKSxzPU1hdGguYXRhbjIociphLFUoaCxhKm4pKSxzPWZhKE1hdGgudGFuKHMpKTt2YXIgZT1xcyh0aGlzLmd0dSwyKmksMipzKTtpPWkrZVswXSxzPXMrZVsxXTt2YXIgbyxsO3JldHVybiBNYXRoLmFicyhzKTw9Mi42MjMzOTUxNjI3Nzg/KG89dGhpcy5hKih0aGlzLlFuKnMpK3RoaXMueDAsbD10aGlzLmEqKHRoaXMuUW4qaSt0aGlzLlpiKSt0aGlzLnkwKToobz0xLzAsbD0xLzApLHQueD1vLHQueT1sLHR9ZnVuY3Rpb24geWEodCl7dmFyIHM9KHQueC10aGlzLngwKSooMS90aGlzLmEpLGk9KHQueS10aGlzLnkwKSooMS90aGlzLmEpO2k9KGktdGhpcy5aYikvdGhpcy5RbixzPXMvdGhpcy5Rbjt2YXIgaCxhO2lmKE1hdGguYWJzKHMpPD0yLjYyMzM5NTE2Mjc3OCl7dmFyIHI9cXModGhpcy51dGcsMippLDIqcyk7aT1pK3JbMF0scz1zK3JbMV0scz1NYXRoLmF0YW4oa3MocykpO3ZhciBuPU1hdGguc2luKGkpLGU9TWF0aC5jb3MoaSksbz1NYXRoLnNpbihzKSxsPU1hdGguY29zKHMpO2k9TWF0aC5hdGFuMihuKmwsVShvLGwqZSkpLHM9TWF0aC5hdGFuMihvLGwqZSksaD15KHMrdGhpcy5sb25nMCksYT1YdCh0aGlzLmNnYixpKX1lbHNlIGg9MS8wLGE9MS8wO3JldHVybiB0Lng9aCx0Lnk9YSx0fXZhciB4YT1bIkV4dGVuZGVkX1RyYW5zdmVyc2VfTWVyY2F0b3IiLCJFeHRlbmRlZCBUcmFuc3ZlcnNlIE1lcmNhdG9yIiwiZXRtZXJjIiwiVHJhbnN2ZXJzZV9NZXJjYXRvciIsIlRyYW5zdmVyc2UgTWVyY2F0b3IiLCJ0bWVyYyJdLEx0PXtpbml0Om1hLGZvcndhcmQ6X2EsaW52ZXJzZTp5YSxuYW1lczp4YX07ZnVuY3Rpb24gZ2EodCxzKXtpZih0PT09dm9pZCAwKXtpZih0PU1hdGguZmxvb3IoKHkocykrTWF0aC5QSSkqMzAvTWF0aC5QSSkrMSx0PDApcmV0dXJuIDA7aWYodD42MClyZXR1cm4gNjB9cmV0dXJuIHR9dmFyIHZhPSJldG1lcmMiO2Z1bmN0aW9uIGJhKCl7dmFyIHQ9Z2EodGhpcy56b25lLHRoaXMubG9uZzApO2lmKHQ9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKCJ1bmtub3duIHV0bSB6b25lIik7dGhpcy5sYXQwPTAsdGhpcy5sb25nMD0oNipNYXRoLmFicyh0KS0xODMpKnEsdGhpcy54MD01ZTUsdGhpcy55MD10aGlzLnV0bVNvdXRoPzFlNzowLHRoaXMuazA9Ljk5OTYsTHQuaW5pdC5hcHBseSh0aGlzKSx0aGlzLmZvcndhcmQ9THQuZm9yd2FyZCx0aGlzLmludmVyc2U9THQuaW52ZXJzZX12YXIgd2E9WyJVbml2ZXJzYWwgVHJhbnN2ZXJzZSBNZXJjYXRvciBTeXN0ZW0iLCJ1dG0iXSxOYT17aW5pdDpiYSxuYW1lczp3YSxkZXBlbmRzT246dmF9O2Z1bmN0aW9uIEp0KHQscyl7cmV0dXJuIE1hdGgucG93KCgxLXQpLygxK3QpLHMpfXZhciBBYT0yMDtmdW5jdGlvbiBFYSgpe3ZhciB0PU1hdGguc2luKHRoaXMubGF0MCkscz1NYXRoLmNvcyh0aGlzLmxhdDApO3MqPXMsdGhpcy5yYz1NYXRoLnNxcnQoMS10aGlzLmVzKS8oMS10aGlzLmVzKnQqdCksdGhpcy5DPU1hdGguc3FydCgxK3RoaXMuZXMqcypzLygxLXRoaXMuZXMpKSx0aGlzLnBoaWMwPU1hdGguYXNpbih0L3RoaXMuQyksdGhpcy5yYXRleHA9LjUqdGhpcy5DKnRoaXMuZSx0aGlzLks9TWF0aC50YW4oLjUqdGhpcy5waGljMCtBKS8oTWF0aC5wb3coTWF0aC50YW4oLjUqdGhpcy5sYXQwK0EpLHRoaXMuQykqSnQodGhpcy5lKnQsdGhpcy5yYXRleHApKX1mdW5jdGlvbiBDYSh0KXt2YXIgcz10LngsaT10Lnk7cmV0dXJuIHQueT0yKk1hdGguYXRhbih0aGlzLksqTWF0aC5wb3coTWF0aC50YW4oLjUqaStBKSx0aGlzLkMpKkp0KHRoaXMuZSpNYXRoLnNpbihpKSx0aGlzLnJhdGV4cCkpLXAsdC54PXRoaXMuQypzLHR9ZnVuY3Rpb24gUGEodCl7Zm9yKHZhciBzPTFlLTE0LGk9dC54L3RoaXMuQyxoPXQueSxhPU1hdGgucG93KE1hdGgudGFuKC41KmgrQSkvdGhpcy5LLDEvdGhpcy5DKSxyPUFhO3I+MCYmKGg9MipNYXRoLmF0YW4oYSpKdCh0aGlzLmUqTWF0aC5zaW4odC55KSwtLjUqdGhpcy5lKSktcCwhKE1hdGguYWJzKGgtdC55KTxzKSk7LS1yKXQueT1oO3JldHVybiByPyh0Lng9aSx0Lnk9aCx0KTpudWxsfXZhciBTYT1bImdhdXNzIl0sS3Q9e2luaXQ6RWEsZm9yd2FyZDpDYSxpbnZlcnNlOlBhLG5hbWVzOlNhfTtmdW5jdGlvbiBPYSgpe0t0LmluaXQuYXBwbHkodGhpcyksISF0aGlzLnJjJiYodGhpcy5zaW5jMD1NYXRoLnNpbih0aGlzLnBoaWMwKSx0aGlzLmNvc2MwPU1hdGguY29zKHRoaXMucGhpYzApLHRoaXMuUjI9Mip0aGlzLnJjLHRoaXMudGl0bGV8fCh0aGlzLnRpdGxlPSJPYmxpcXVlIFN0ZXJlb2dyYXBoaWMgQWx0ZXJuYXRpdmUiKSl9ZnVuY3Rpb24gSWEodCl7dmFyIHMsaSxoLGE7cmV0dXJuIHQueD15KHQueC10aGlzLmxvbmcwKSxLdC5mb3J3YXJkLmFwcGx5KHRoaXMsW3RdKSxzPU1hdGguc2luKHQueSksaT1NYXRoLmNvcyh0LnkpLGg9TWF0aC5jb3ModC54KSxhPXRoaXMuazAqdGhpcy5SMi8oMSt0aGlzLnNpbmMwKnMrdGhpcy5jb3NjMCppKmgpLHQueD1hKmkqTWF0aC5zaW4odC54KSx0Lnk9YSoodGhpcy5jb3NjMCpzLXRoaXMuc2luYzAqaSpoKSx0Lng9dGhpcy5hKnQueCt0aGlzLngwLHQueT10aGlzLmEqdC55K3RoaXMueTAsdH1mdW5jdGlvbiBrYSh0KXt2YXIgcyxpLGgsYSxyO2lmKHQueD0odC54LXRoaXMueDApL3RoaXMuYSx0Lnk9KHQueS10aGlzLnkwKS90aGlzLmEsdC54Lz10aGlzLmswLHQueS89dGhpcy5rMCxyPU1hdGguc3FydCh0LngqdC54K3QueSp0LnkpKXt2YXIgbj0yKk1hdGguYXRhbjIocix0aGlzLlIyKTtzPU1hdGguc2luKG4pLGk9TWF0aC5jb3MobiksYT1NYXRoLmFzaW4oaSp0aGlzLnNpbmMwK3QueSpzKnRoaXMuY29zYzAvciksaD1NYXRoLmF0YW4yKHQueCpzLHIqdGhpcy5jb3NjMCppLXQueSp0aGlzLnNpbmMwKnMpfWVsc2UgYT10aGlzLnBoaWMwLGg9MDtyZXR1cm4gdC54PWgsdC55PWEsS3QuaW52ZXJzZS5hcHBseSh0aGlzLFt0XSksdC54PXkodC54K3RoaXMubG9uZzApLHR9dmFyIHFhPVsiU3RlcmVvZ3JhcGhpY19Ob3J0aF9Qb2xlIiwiT2JsaXF1ZV9TdGVyZW9ncmFwaGljIiwiUG9sYXJfU3RlcmVvZ3JhcGhpYyIsInN0ZXJlYSIsIk9ibGlxdWUgU3RlcmVvZ3JhcGhpYyBBbHRlcm5hdGl2ZSIsIkRvdWJsZV9TdGVyZW9ncmFwaGljIl0sUmE9e2luaXQ6T2EsZm9yd2FyZDpJYSxpbnZlcnNlOmthLG5hbWVzOnFhfTtmdW5jdGlvbiBMYSh0LHMsaSl7cmV0dXJuIHMqPWksTWF0aC50YW4oLjUqKHArdCkpKk1hdGgucG93KCgxLXMpLygxK3MpLC41KmkpfWZ1bmN0aW9uIFRhKCl7dGhpcy5jb3NsYXQwPU1hdGguY29zKHRoaXMubGF0MCksdGhpcy5zaW5sYXQwPU1hdGguc2luKHRoaXMubGF0MCksdGhpcy5zcGhlcmU/dGhpcy5rMD09PTEmJiFpc05hTih0aGlzLmxhdF90cykmJk1hdGguYWJzKHRoaXMuY29zbGF0MCk8PV8mJih0aGlzLmswPS41KigxK210KHRoaXMubGF0MCkqTWF0aC5zaW4odGhpcy5sYXRfdHMpKSk6KE1hdGguYWJzKHRoaXMuY29zbGF0MCk8PV8mJih0aGlzLmxhdDA+MD90aGlzLmNvbj0xOnRoaXMuY29uPS0xKSx0aGlzLmNvbnM9TWF0aC5zcXJ0KE1hdGgucG93KDErdGhpcy5lLDErdGhpcy5lKSpNYXRoLnBvdygxLXRoaXMuZSwxLXRoaXMuZSkpLHRoaXMuazA9PT0xJiYhaXNOYU4odGhpcy5sYXRfdHMpJiZNYXRoLmFicyh0aGlzLmNvc2xhdDApPD1fJiYodGhpcy5rMD0uNSp0aGlzLmNvbnMqVyh0aGlzLmUsTWF0aC5zaW4odGhpcy5sYXRfdHMpLE1hdGguY29zKHRoaXMubGF0X3RzKSkvRCh0aGlzLmUsdGhpcy5jb24qdGhpcy5sYXRfdHMsdGhpcy5jb24qTWF0aC5zaW4odGhpcy5sYXRfdHMpKSksdGhpcy5tczE9Vyh0aGlzLmUsdGhpcy5zaW5sYXQwLHRoaXMuY29zbGF0MCksdGhpcy5YMD0yKk1hdGguYXRhbih0aGlzLnNzZm5fKHRoaXMubGF0MCx0aGlzLnNpbmxhdDAsdGhpcy5lKSktcCx0aGlzLmNvc1gwPU1hdGguY29zKHRoaXMuWDApLHRoaXMuc2luWDA9TWF0aC5zaW4odGhpcy5YMCkpfWZ1bmN0aW9uIGphKHQpe3ZhciBzPXQueCxpPXQueSxoPU1hdGguc2luKGkpLGE9TWF0aC5jb3MoaSkscixuLGUsbyxsLGMsdT15KHMtdGhpcy5sb25nMCk7cmV0dXJuIE1hdGguYWJzKE1hdGguYWJzKHMtdGhpcy5sb25nMCktTWF0aC5QSSk8PV8mJk1hdGguYWJzKGkrdGhpcy5sYXQwKTw9Xz8odC54PU5hTix0Lnk9TmFOLHQpOnRoaXMuc3BoZXJlPyhyPTIqdGhpcy5rMC8oMSt0aGlzLnNpbmxhdDAqaCt0aGlzLmNvc2xhdDAqYSpNYXRoLmNvcyh1KSksdC54PXRoaXMuYSpyKmEqTWF0aC5zaW4odSkrdGhpcy54MCx0Lnk9dGhpcy5hKnIqKHRoaXMuY29zbGF0MCpoLXRoaXMuc2lubGF0MCphKk1hdGguY29zKHUpKSt0aGlzLnkwLHQpOihuPTIqTWF0aC5hdGFuKHRoaXMuc3Nmbl8oaSxoLHRoaXMuZSkpLXAsbz1NYXRoLmNvcyhuKSxlPU1hdGguc2luKG4pLE1hdGguYWJzKHRoaXMuY29zbGF0MCk8PV8/KGw9RCh0aGlzLmUsaSp0aGlzLmNvbix0aGlzLmNvbipoKSxjPTIqdGhpcy5hKnRoaXMuazAqbC90aGlzLmNvbnMsdC54PXRoaXMueDArYypNYXRoLnNpbihzLXRoaXMubG9uZzApLHQueT10aGlzLnkwLXRoaXMuY29uKmMqTWF0aC5jb3Mocy10aGlzLmxvbmcwKSx0KTooTWF0aC5hYnModGhpcy5zaW5sYXQwKTxfPyhyPTIqdGhpcy5hKnRoaXMuazAvKDErbypNYXRoLmNvcyh1KSksdC55PXIqZSk6KHI9Mip0aGlzLmEqdGhpcy5rMCp0aGlzLm1zMS8odGhpcy5jb3NYMCooMSt0aGlzLnNpblgwKmUrdGhpcy5jb3NYMCpvKk1hdGguY29zKHUpKSksdC55PXIqKHRoaXMuY29zWDAqZS10aGlzLnNpblgwKm8qTWF0aC5jb3ModSkpK3RoaXMueTApLHQueD1yKm8qTWF0aC5zaW4odSkrdGhpcy54MCx0KSl9ZnVuY3Rpb24gR2EodCl7dC54LT10aGlzLngwLHQueS09dGhpcy55MDt2YXIgcyxpLGgsYSxyLG49TWF0aC5zcXJ0KHQueCp0LngrdC55KnQueSk7aWYodGhpcy5zcGhlcmUpe3ZhciBlPTIqTWF0aC5hdGFuKG4vKDIqdGhpcy5hKnRoaXMuazApKTtyZXR1cm4gcz10aGlzLmxvbmcwLGk9dGhpcy5sYXQwLG48PV8/KHQueD1zLHQueT1pLHQpOihpPU1hdGguYXNpbihNYXRoLmNvcyhlKSp0aGlzLnNpbmxhdDArdC55Kk1hdGguc2luKGUpKnRoaXMuY29zbGF0MC9uKSxNYXRoLmFicyh0aGlzLmNvc2xhdDApPF8/dGhpcy5sYXQwPjA/cz15KHRoaXMubG9uZzArTWF0aC5hdGFuMih0LngsLTEqdC55KSk6cz15KHRoaXMubG9uZzArTWF0aC5hdGFuMih0LngsdC55KSk6cz15KHRoaXMubG9uZzArTWF0aC5hdGFuMih0LngqTWF0aC5zaW4oZSksbip0aGlzLmNvc2xhdDAqTWF0aC5jb3MoZSktdC55KnRoaXMuc2lubGF0MCpNYXRoLnNpbihlKSkpLHQueD1zLHQueT1pLHQpfWVsc2UgaWYoTWF0aC5hYnModGhpcy5jb3NsYXQwKTw9Xyl7aWYobjw9XylyZXR1cm4gaT10aGlzLmxhdDAscz10aGlzLmxvbmcwLHQueD1zLHQueT1pLHQ7dC54Kj10aGlzLmNvbix0LnkqPXRoaXMuY29uLGg9bip0aGlzLmNvbnMvKDIqdGhpcy5hKnRoaXMuazApLGk9dGhpcy5jb24qX3QodGhpcy5lLGgpLHM9dGhpcy5jb24qeSh0aGlzLmNvbip0aGlzLmxvbmcwK01hdGguYXRhbjIodC54LC0xKnQueSkpfWVsc2UgYT0yKk1hdGguYXRhbihuKnRoaXMuY29zWDAvKDIqdGhpcy5hKnRoaXMuazAqdGhpcy5tczEpKSxzPXRoaXMubG9uZzAsbjw9Xz9yPXRoaXMuWDA6KHI9TWF0aC5hc2luKE1hdGguY29zKGEpKnRoaXMuc2luWDArdC55Kk1hdGguc2luKGEpKnRoaXMuY29zWDAvbikscz15KHRoaXMubG9uZzArTWF0aC5hdGFuMih0LngqTWF0aC5zaW4oYSksbip0aGlzLmNvc1gwKk1hdGguY29zKGEpLXQueSp0aGlzLnNpblgwKk1hdGguc2luKGEpKSkpLGk9LTEqX3QodGhpcy5lLE1hdGgudGFuKC41KihwK3IpKSk7cmV0dXJuIHQueD1zLHQueT1pLHR9dmFyIEJhPVsic3RlcmUiLCJTdGVyZW9ncmFwaGljX1NvdXRoX1BvbGUiLCJQb2xhciBTdGVyZW9ncmFwaGljICh2YXJpYW50IEIpIl0semE9e2luaXQ6VGEsZm9yd2FyZDpqYSxpbnZlcnNlOkdhLG5hbWVzOkJhLHNzZm5fOkxhfTtmdW5jdGlvbiBGYSgpe3ZhciB0PXRoaXMubGF0MDt0aGlzLmxhbWJkYTA9dGhpcy5sb25nMDt2YXIgcz1NYXRoLnNpbih0KSxpPXRoaXMuYSxoPXRoaXMucmYsYT0xL2gscj0yKmEtTWF0aC5wb3coYSwyKSxuPXRoaXMuZT1NYXRoLnNxcnQocik7dGhpcy5SPXRoaXMuazAqaSpNYXRoLnNxcnQoMS1yKS8oMS1yKk1hdGgucG93KHMsMikpLHRoaXMuYWxwaGE9TWF0aC5zcXJ0KDErci8oMS1yKSpNYXRoLnBvdyhNYXRoLmNvcyh0KSw0KSksdGhpcy5iMD1NYXRoLmFzaW4ocy90aGlzLmFscGhhKTt2YXIgZT1NYXRoLmxvZyhNYXRoLnRhbihNYXRoLlBJLzQrdGhpcy5iMC8yKSksbz1NYXRoLmxvZyhNYXRoLnRhbihNYXRoLlBJLzQrdC8yKSksbD1NYXRoLmxvZygoMStuKnMpLygxLW4qcykpO3RoaXMuSz1lLXRoaXMuYWxwaGEqbyt0aGlzLmFscGhhKm4vMipsfWZ1bmN0aW9uIERhKHQpe3ZhciBzPU1hdGgubG9nKE1hdGgudGFuKE1hdGguUEkvNC10LnkvMikpLGk9dGhpcy5lLzIqTWF0aC5sb2coKDErdGhpcy5lKk1hdGguc2luKHQueSkpLygxLXRoaXMuZSpNYXRoLnNpbih0LnkpKSksaD0tdGhpcy5hbHBoYSoocytpKSt0aGlzLkssYT0yKihNYXRoLmF0YW4oTWF0aC5leHAoaCkpLU1hdGguUEkvNCkscj10aGlzLmFscGhhKih0LngtdGhpcy5sYW1iZGEwKSxuPU1hdGguYXRhbihNYXRoLnNpbihyKS8oTWF0aC5zaW4odGhpcy5iMCkqTWF0aC50YW4oYSkrTWF0aC5jb3ModGhpcy5iMCkqTWF0aC5jb3MocikpKSxlPU1hdGguYXNpbihNYXRoLmNvcyh0aGlzLmIwKSpNYXRoLnNpbihhKS1NYXRoLnNpbih0aGlzLmIwKSpNYXRoLmNvcyhhKSpNYXRoLmNvcyhyKSk7cmV0dXJuIHQueT10aGlzLlIvMipNYXRoLmxvZygoMStNYXRoLnNpbihlKSkvKDEtTWF0aC5zaW4oZSkpKSt0aGlzLnkwLHQueD10aGlzLlIqbit0aGlzLngwLHR9ZnVuY3Rpb24gVWEodCl7Zm9yKHZhciBzPXQueC10aGlzLngwLGk9dC55LXRoaXMueTAsaD1zL3RoaXMuUixhPTIqKE1hdGguYXRhbihNYXRoLmV4cChpL3RoaXMuUikpLU1hdGguUEkvNCkscj1NYXRoLmFzaW4oTWF0aC5jb3ModGhpcy5iMCkqTWF0aC5zaW4oYSkrTWF0aC5zaW4odGhpcy5iMCkqTWF0aC5jb3MoYSkqTWF0aC5jb3MoaCkpLG49TWF0aC5hdGFuKE1hdGguc2luKGgpLyhNYXRoLmNvcyh0aGlzLmIwKSpNYXRoLmNvcyhoKS1NYXRoLnNpbih0aGlzLmIwKSpNYXRoLnRhbihhKSkpLGU9dGhpcy5sYW1iZGEwK24vdGhpcy5hbHBoYSxvPTAsbD1yLGM9LTFlMyx1PTA7TWF0aC5hYnMobC1jKT4xZS03Oyl7aWYoKyt1PjIwKXJldHVybjtvPTEvdGhpcy5hbHBoYSooTWF0aC5sb2coTWF0aC50YW4oTWF0aC5QSS80K3IvMikpLXRoaXMuSykrdGhpcy5lKk1hdGgubG9nKE1hdGgudGFuKE1hdGguUEkvNCtNYXRoLmFzaW4odGhpcy5lKk1hdGguc2luKGwpKS8yKSksYz1sLGw9MipNYXRoLmF0YW4oTWF0aC5leHAobykpLU1hdGguUEkvMn1yZXR1cm4gdC54PWUsdC55PWwsdH12YXIgUWE9WyJzb21lcmMiXSxXYT17aW5pdDpGYSxmb3J3YXJkOkRhLGludmVyc2U6VWEsbmFtZXM6UWF9LG90PTFlLTc7ZnVuY3Rpb24gSGEodCl7dmFyIHM9WyJIb3RpbmVfT2JsaXF1ZV9NZXJjYXRvciIsIkhvdGluZV9PYmxpcXVlX01lcmNhdG9yX0F6aW11dGhfTmF0dXJhbF9PcmlnaW4iXSxpPXR5cGVvZiB0LlBST0pFQ1RJT049PSJvYmplY3QiP09iamVjdC5rZXlzKHQuUFJPSkVDVElPTilbMF06dC5QUk9KRUNUSU9OO3JldHVybiJub191b2ZmImluIHR8fCJub19vZmYiaW4gdHx8cy5pbmRleE9mKGkpIT09LTF9ZnVuY3Rpb24gWGEoKXt2YXIgdCxzLGksaCxhLHIsbixlLG8sbCxjPTAsdSxNPTAsZD0wLGY9MCxtPTAseD0wLGc9MDt0aGlzLm5vX29mZj1IYSh0aGlzKSx0aGlzLm5vX3JvdD0ibm9fcm90ImluIHRoaXM7dmFyIGI9ITE7ImFscGhhImluIHRoaXMmJihiPSEwKTt2YXIgdz0hMTtpZigicmVjdGlmaWVkX2dyaWRfYW5nbGUiaW4gdGhpcyYmKHc9ITApLGImJihnPXRoaXMuYWxwaGEpLHcmJihjPXRoaXMucmVjdGlmaWVkX2dyaWRfYW5nbGUqcSksYnx8dylNPXRoaXMubG9uZ2M7ZWxzZSBpZihkPXRoaXMubG9uZzEsbT10aGlzLmxhdDEsZj10aGlzLmxvbmcyLHg9dGhpcy5sYXQyLE1hdGguYWJzKG0teCk8PW90fHwodD1NYXRoLmFicyhtKSk8PW90fHxNYXRoLmFicyh0LXApPD1vdHx8TWF0aC5hYnMoTWF0aC5hYnModGhpcy5sYXQwKS1wKTw9b3R8fE1hdGguYWJzKE1hdGguYWJzKHgpLXApPD1vdCl0aHJvdyBuZXcgRXJyb3I7dmFyIFA9MS10aGlzLmVzO3M9TWF0aC5zcXJ0KFApLE1hdGguYWJzKHRoaXMubGF0MCk+Xz8oZT1NYXRoLnNpbih0aGlzLmxhdDApLGk9TWF0aC5jb3ModGhpcy5sYXQwKSx0PTEtdGhpcy5lcyplKmUsdGhpcy5CPWkqaSx0aGlzLkI9TWF0aC5zcXJ0KDErdGhpcy5lcyp0aGlzLkIqdGhpcy5CL1ApLHRoaXMuQT10aGlzLkIqdGhpcy5rMCpzL3QsaD10aGlzLkIqcy8oaSpNYXRoLnNxcnQodCkpLGE9aCpoLTEsYTw9MD9hPTA6KGE9TWF0aC5zcXJ0KGEpLHRoaXMubGF0MDwwJiYoYT0tYSkpLHRoaXMuRT1hKz1oLHRoaXMuRSo9TWF0aC5wb3coRCh0aGlzLmUsdGhpcy5sYXQwLGUpLHRoaXMuQikpOih0aGlzLkI9MS9zLHRoaXMuQT10aGlzLmswLHRoaXMuRT1oPWE9MSksYnx8dz8oYj8odT1NYXRoLmFzaW4oTWF0aC5zaW4oZykvaCksd3x8KGM9ZykpOih1PWMsZz1NYXRoLmFzaW4oaCpNYXRoLnNpbih1KSkpLHRoaXMubGFtMD1NLU1hdGguYXNpbiguNSooYS0xL2EpKk1hdGgudGFuKHUpKS90aGlzLkIpOihyPU1hdGgucG93KEQodGhpcy5lLG0sTWF0aC5zaW4obSkpLHRoaXMuQiksbj1NYXRoLnBvdyhEKHRoaXMuZSx4LE1hdGguc2luKHgpKSx0aGlzLkIpLGE9dGhpcy5FL3Isbz0obi1yKS8obityKSxsPXRoaXMuRSp0aGlzLkUsbD0obC1uKnIpLyhsK24qciksdD1kLWYsdDwtTWF0aC5waT9mLT1kdDp0Pk1hdGgucGkmJihmKz1kdCksdGhpcy5sYW0wPXkoLjUqKGQrZiktTWF0aC5hdGFuKGwqTWF0aC50YW4oLjUqdGhpcy5CKihkLWYpKS9vKS90aGlzLkIpLHU9TWF0aC5hdGFuKDIqTWF0aC5zaW4odGhpcy5CKnkoZC10aGlzLmxhbTApKS8oYS0xL2EpKSxjPWc9TWF0aC5hc2luKGgqTWF0aC5zaW4odSkpKSx0aGlzLnNpbmdhbT1NYXRoLnNpbih1KSx0aGlzLmNvc2dhbT1NYXRoLmNvcyh1KSx0aGlzLnNpbnJvdD1NYXRoLnNpbihjKSx0aGlzLmNvc3JvdD1NYXRoLmNvcyhjKSx0aGlzLnJCPTEvdGhpcy5CLHRoaXMuQXJCPXRoaXMuQSp0aGlzLnJCLHRoaXMuQnJBPTEvdGhpcy5BckIsdGhpcy5BKnRoaXMuQix0aGlzLm5vX29mZj90aGlzLnVfMD0wOih0aGlzLnVfMD1NYXRoLmFicyh0aGlzLkFyQipNYXRoLmF0YW4oTWF0aC5zcXJ0KGgqaC0xKS9NYXRoLmNvcyhnKSkpLHRoaXMubGF0MDwwJiYodGhpcy51XzA9LXRoaXMudV8wKSksYT0uNSp1LHRoaXMudl9wb2xlX249dGhpcy5BckIqTWF0aC5sb2coTWF0aC50YW4oQS1hKSksdGhpcy52X3BvbGVfcz10aGlzLkFyQipNYXRoLmxvZyhNYXRoLnRhbihBK2EpKX1mdW5jdGlvbiBKYSh0KXt2YXIgcz17fSxpLGgsYSxyLG4sZSxvLGw7aWYodC54PXQueC10aGlzLmxhbTAsTWF0aC5hYnMoTWF0aC5hYnModC55KS1wKT5fKXtpZihuPXRoaXMuRS9NYXRoLnBvdyhEKHRoaXMuZSx0LnksTWF0aC5zaW4odC55KSksdGhpcy5CKSxlPTEvbixpPS41KihuLWUpLGg9LjUqKG4rZSkscj1NYXRoLnNpbih0aGlzLkIqdC54KSxhPShpKnRoaXMuc2luZ2FtLXIqdGhpcy5jb3NnYW0pL2gsTWF0aC5hYnMoTWF0aC5hYnMoYSktMSk8Xyl0aHJvdyBuZXcgRXJyb3I7bD0uNSp0aGlzLkFyQipNYXRoLmxvZygoMS1hKS8oMSthKSksZT1NYXRoLmNvcyh0aGlzLkIqdC54KSxNYXRoLmFicyhlKTxvdD9vPXRoaXMuQSp0Lng6bz10aGlzLkFyQipNYXRoLmF0YW4yKGkqdGhpcy5jb3NnYW0rcip0aGlzLnNpbmdhbSxlKX1lbHNlIGw9dC55PjA/dGhpcy52X3BvbGVfbjp0aGlzLnZfcG9sZV9zLG89dGhpcy5BckIqdC55O3JldHVybiB0aGlzLm5vX3JvdD8ocy54PW8scy55PWwpOihvLT10aGlzLnVfMCxzLng9bCp0aGlzLmNvc3JvdCtvKnRoaXMuc2lucm90LHMueT1vKnRoaXMuY29zcm90LWwqdGhpcy5zaW5yb3QpLHMueD10aGlzLmEqcy54K3RoaXMueDAscy55PXRoaXMuYSpzLnkrdGhpcy55MCxzfWZ1bmN0aW9uIEthKHQpe3ZhciBzLGksaCxhLHIsbixlLG89e307aWYodC54PSh0LngtdGhpcy54MCkqKDEvdGhpcy5hKSx0Lnk9KHQueS10aGlzLnkwKSooMS90aGlzLmEpLHRoaXMubm9fcm90PyhpPXQueSxzPXQueCk6KGk9dC54KnRoaXMuY29zcm90LXQueSp0aGlzLnNpbnJvdCxzPXQueSp0aGlzLmNvc3JvdCt0LngqdGhpcy5zaW5yb3QrdGhpcy51XzApLGg9TWF0aC5leHAoLXRoaXMuQnJBKmkpLGE9LjUqKGgtMS9oKSxyPS41KihoKzEvaCksbj1NYXRoLnNpbih0aGlzLkJyQSpzKSxlPShuKnRoaXMuY29zZ2FtK2EqdGhpcy5zaW5nYW0pL3IsTWF0aC5hYnMoTWF0aC5hYnMoZSktMSk8XylvLng9MCxvLnk9ZTwwPy1wOnA7ZWxzZXtpZihvLnk9dGhpcy5FL01hdGguc3FydCgoMStlKS8oMS1lKSksby55PV90KHRoaXMuZSxNYXRoLnBvdyhvLnksMS90aGlzLkIpKSxvLnk9PT0xLzApdGhyb3cgbmV3IEVycm9yO28ueD0tdGhpcy5yQipNYXRoLmF0YW4yKGEqdGhpcy5jb3NnYW0tbip0aGlzLnNpbmdhbSxNYXRoLmNvcyh0aGlzLkJyQSpzKSl9cmV0dXJuIG8ueCs9dGhpcy5sYW0wLG99dmFyIFZhPVsiSG90aW5lX09ibGlxdWVfTWVyY2F0b3IiLCJIb3RpbmUgT2JsaXF1ZSBNZXJjYXRvciIsIkhvdGluZV9PYmxpcXVlX01lcmNhdG9yX0F6aW11dGhfTmF0dXJhbF9PcmlnaW4iLCJIb3RpbmVfT2JsaXF1ZV9NZXJjYXRvcl9Ud29fUG9pbnRfTmF0dXJhbF9PcmlnaW4iLCJIb3RpbmVfT2JsaXF1ZV9NZXJjYXRvcl9BemltdXRoX0NlbnRlciIsIk9ibGlxdWVfTWVyY2F0b3IiLCJvbWVyYyJdLFphPXtpbml0OlhhLGZvcndhcmQ6SmEsaW52ZXJzZTpLYSxuYW1lczpWYX07ZnVuY3Rpb24gWWEoKXtpZih0aGlzLmxhdDJ8fCh0aGlzLmxhdDI9dGhpcy5sYXQxKSx0aGlzLmswfHwodGhpcy5rMD0xKSx0aGlzLngwPXRoaXMueDB8fDAsdGhpcy55MD10aGlzLnkwfHwwLCEoTWF0aC5hYnModGhpcy5sYXQxK3RoaXMubGF0Mik8Xykpe3ZhciB0PXRoaXMuYi90aGlzLmE7dGhpcy5lPU1hdGguc3FydCgxLXQqdCk7dmFyIHM9TWF0aC5zaW4odGhpcy5sYXQxKSxpPU1hdGguY29zKHRoaXMubGF0MSksaD1XKHRoaXMuZSxzLGkpLGE9RCh0aGlzLmUsdGhpcy5sYXQxLHMpLHI9TWF0aC5zaW4odGhpcy5sYXQyKSxuPU1hdGguY29zKHRoaXMubGF0MiksZT1XKHRoaXMuZSxyLG4pLG89RCh0aGlzLmUsdGhpcy5sYXQyLHIpLGw9RCh0aGlzLmUsdGhpcy5sYXQwLE1hdGguc2luKHRoaXMubGF0MCkpO01hdGguYWJzKHRoaXMubGF0MS10aGlzLmxhdDIpPl8/dGhpcy5ucz1NYXRoLmxvZyhoL2UpL01hdGgubG9nKGEvbyk6dGhpcy5ucz1zLGlzTmFOKHRoaXMubnMpJiYodGhpcy5ucz1zKSx0aGlzLmYwPWgvKHRoaXMubnMqTWF0aC5wb3coYSx0aGlzLm5zKSksdGhpcy5yaD10aGlzLmEqdGhpcy5mMCpNYXRoLnBvdyhsLHRoaXMubnMpLHRoaXMudGl0bGV8fCh0aGlzLnRpdGxlPSJMYW1iZXJ0IENvbmZvcm1hbCBDb25pYyIpfX1mdW5jdGlvbiAkYSh0KXt2YXIgcz10LngsaT10Lnk7TWF0aC5hYnMoMipNYXRoLmFicyhpKS1NYXRoLlBJKTw9XyYmKGk9bXQoaSkqKHAtMipfKSk7dmFyIGg9TWF0aC5hYnMoTWF0aC5hYnMoaSktcCksYSxyO2lmKGg+XylhPUQodGhpcy5lLGksTWF0aC5zaW4oaSkpLHI9dGhpcy5hKnRoaXMuZjAqTWF0aC5wb3coYSx0aGlzLm5zKTtlbHNle2lmKGg9aSp0aGlzLm5zLGg8PTApcmV0dXJuIG51bGw7cj0wfXZhciBuPXRoaXMubnMqeShzLXRoaXMubG9uZzApO3JldHVybiB0Lng9dGhpcy5rMCoocipNYXRoLnNpbihuKSkrdGhpcy54MCx0Lnk9dGhpcy5rMCoodGhpcy5yaC1yKk1hdGguY29zKG4pKSt0aGlzLnkwLHR9ZnVuY3Rpb24gdGgodCl7dmFyIHMsaSxoLGEscixuPSh0LngtdGhpcy54MCkvdGhpcy5rMCxlPXRoaXMucmgtKHQueS10aGlzLnkwKS90aGlzLmswO3RoaXMubnM+MD8ocz1NYXRoLnNxcnQobipuK2UqZSksaT0xKToocz0tTWF0aC5zcXJ0KG4qbitlKmUpLGk9LTEpO3ZhciBvPTA7aWYocyE9PTAmJihvPU1hdGguYXRhbjIoaSpuLGkqZSkpLHMhPT0wfHx0aGlzLm5zPjApe2lmKGk9MS90aGlzLm5zLGg9TWF0aC5wb3cocy8odGhpcy5hKnRoaXMuZjApLGkpLGE9X3QodGhpcy5lLGgpLGE9PT0tOTk5OSlyZXR1cm4gbnVsbH1lbHNlIGE9LXA7cmV0dXJuIHI9eShvL3RoaXMubnMrdGhpcy5sb25nMCksdC54PXIsdC55PWEsdH12YXIgc2g9WyJMYW1iZXJ0IFRhbmdlbnRpYWwgQ29uZm9ybWFsIENvbmljIFByb2plY3Rpb24iLCJMYW1iZXJ0X0NvbmZvcm1hbF9Db25pYyIsIkxhbWJlcnRfQ29uZm9ybWFsX0NvbmljXzFTUCIsIkxhbWJlcnRfQ29uZm9ybWFsX0NvbmljXzJTUCIsImxjYyIsIkxhbWJlcnQgQ29uaWMgQ29uZm9ybWFsICgxU1ApIiwiTGFtYmVydCBDb25pYyBDb25mb3JtYWwgKDJTUCkiXSxpaD17aW5pdDpZYSxmb3J3YXJkOiRhLGludmVyc2U6dGgsbmFtZXM6c2h9O2Z1bmN0aW9uIGFoKCl7dGhpcy5hPTYzNzczOTcxNTVlLTMsdGhpcy5lcz0uMDA2Njc0MzcyMjMwNjE0LHRoaXMuZT1NYXRoLnNxcnQodGhpcy5lcyksdGhpcy5sYXQwfHwodGhpcy5sYXQwPS44NjM5Mzc5Nzk3MzcxOTMpLHRoaXMubG9uZzB8fCh0aGlzLmxvbmcwPS40MzM0MjM0MzA5MTE5MjUxKSx0aGlzLmswfHwodGhpcy5rMD0uOTk5OSksdGhpcy5zNDU9Ljc4NTM5ODE2MzM5NzQ0OCx0aGlzLnM5MD0yKnRoaXMuczQ1LHRoaXMuZmkwPXRoaXMubGF0MCx0aGlzLmUyPXRoaXMuZXMsdGhpcy5lPU1hdGguc3FydCh0aGlzLmUyKSx0aGlzLmFsZmE9TWF0aC5zcXJ0KDErdGhpcy5lMipNYXRoLnBvdyhNYXRoLmNvcyh0aGlzLmZpMCksNCkvKDEtdGhpcy5lMikpLHRoaXMudXE9MS4wNDIxNjg1NjM4MDQ3NCx0aGlzLnUwPU1hdGguYXNpbihNYXRoLnNpbih0aGlzLmZpMCkvdGhpcy5hbGZhKSx0aGlzLmc9TWF0aC5wb3coKDErdGhpcy5lKk1hdGguc2luKHRoaXMuZmkwKSkvKDEtdGhpcy5lKk1hdGguc2luKHRoaXMuZmkwKSksdGhpcy5hbGZhKnRoaXMuZS8yKSx0aGlzLms9TWF0aC50YW4odGhpcy51MC8yK3RoaXMuczQ1KS9NYXRoLnBvdyhNYXRoLnRhbih0aGlzLmZpMC8yK3RoaXMuczQ1KSx0aGlzLmFsZmEpKnRoaXMuZyx0aGlzLmsxPXRoaXMuazAsdGhpcy5uMD10aGlzLmEqTWF0aC5zcXJ0KDEtdGhpcy5lMikvKDEtdGhpcy5lMipNYXRoLnBvdyhNYXRoLnNpbih0aGlzLmZpMCksMikpLHRoaXMuczA9MS4zNzAwODM0NjI4MTU1NSx0aGlzLm49TWF0aC5zaW4odGhpcy5zMCksdGhpcy5ybzA9dGhpcy5rMSp0aGlzLm4wL01hdGgudGFuKHRoaXMuczApLHRoaXMuYWQ9dGhpcy5zOTAtdGhpcy51cX1mdW5jdGlvbiBoaCh0KXt2YXIgcyxpLGgsYSxyLG4sZSxvPXQueCxsPXQueSxjPXkoby10aGlzLmxvbmcwKTtyZXR1cm4gcz1NYXRoLnBvdygoMSt0aGlzLmUqTWF0aC5zaW4obCkpLygxLXRoaXMuZSpNYXRoLnNpbihsKSksdGhpcy5hbGZhKnRoaXMuZS8yKSxpPTIqKE1hdGguYXRhbih0aGlzLmsqTWF0aC5wb3coTWF0aC50YW4obC8yK3RoaXMuczQ1KSx0aGlzLmFsZmEpL3MpLXRoaXMuczQ1KSxoPS1jKnRoaXMuYWxmYSxhPU1hdGguYXNpbihNYXRoLmNvcyh0aGlzLmFkKSpNYXRoLnNpbihpKStNYXRoLnNpbih0aGlzLmFkKSpNYXRoLmNvcyhpKSpNYXRoLmNvcyhoKSkscj1NYXRoLmFzaW4oTWF0aC5jb3MoaSkqTWF0aC5zaW4oaCkvTWF0aC5jb3MoYSkpLG49dGhpcy5uKnIsZT10aGlzLnJvMCpNYXRoLnBvdyhNYXRoLnRhbih0aGlzLnMwLzIrdGhpcy5zNDUpLHRoaXMubikvTWF0aC5wb3coTWF0aC50YW4oYS8yK3RoaXMuczQ1KSx0aGlzLm4pLHQueT1lKk1hdGguY29zKG4pLzEsdC54PWUqTWF0aC5zaW4obikvMSx0aGlzLmN6ZWNofHwodC55Kj0tMSx0LngqPS0xKSx0fWZ1bmN0aW9uIGVoKHQpe3ZhciBzLGksaCxhLHIsbixlLG8sbD10Lng7dC54PXQueSx0Lnk9bCx0aGlzLmN6ZWNofHwodC55Kj0tMSx0LngqPS0xKSxuPU1hdGguc3FydCh0LngqdC54K3QueSp0LnkpLHI9TWF0aC5hdGFuMih0LnksdC54KSxhPXIvTWF0aC5zaW4odGhpcy5zMCksaD0yKihNYXRoLmF0YW4oTWF0aC5wb3codGhpcy5ybzAvbiwxL3RoaXMubikqTWF0aC50YW4odGhpcy5zMC8yK3RoaXMuczQ1KSktdGhpcy5zNDUpLHM9TWF0aC5hc2luKE1hdGguY29zKHRoaXMuYWQpKk1hdGguc2luKGgpLU1hdGguc2luKHRoaXMuYWQpKk1hdGguY29zKGgpKk1hdGguY29zKGEpKSxpPU1hdGguYXNpbihNYXRoLmNvcyhoKSpNYXRoLnNpbihhKS9NYXRoLmNvcyhzKSksdC54PXRoaXMubG9uZzAtaS90aGlzLmFsZmEsZT1zLG89MDt2YXIgYz0wO2RvIHQueT0yKihNYXRoLmF0YW4oTWF0aC5wb3codGhpcy5rLC0xL3RoaXMuYWxmYSkqTWF0aC5wb3coTWF0aC50YW4ocy8yK3RoaXMuczQ1KSwxL3RoaXMuYWxmYSkqTWF0aC5wb3coKDErdGhpcy5lKk1hdGguc2luKGUpKS8oMS10aGlzLmUqTWF0aC5zaW4oZSkpLHRoaXMuZS8yKSktdGhpcy5zNDUpLE1hdGguYWJzKGUtdC55KTwxZS0xMCYmKG89MSksZT10LnksYys9MTt3aGlsZShvPT09MCYmYzwxNSk7cmV0dXJuIGM+PTE1P251bGw6dH12YXIgcmg9WyJLcm92YWsiLCJrcm92YWsiXSxuaD17aW5pdDphaCxmb3J3YXJkOmhoLGludmVyc2U6ZWgsbmFtZXM6cmh9O2Z1bmN0aW9uIGoodCxzLGksaCxhKXtyZXR1cm4gdCphLXMqTWF0aC5zaW4oMiphKStpKk1hdGguc2luKDQqYSktaCpNYXRoLnNpbig2KmEpfWZ1bmN0aW9uIGd0KHQpe3JldHVybiAxLS4yNSp0KigxK3QvMTYqKDMrMS4yNSp0KSl9ZnVuY3Rpb24gdnQodCl7cmV0dXJuIC4zNzUqdCooMSsuMjUqdCooMSsuNDY4NzUqdCkpfWZ1bmN0aW9uIGJ0KHQpe3JldHVybiAuMDU4NTkzNzUqdCp0KigxKy43NSp0KX1mdW5jdGlvbiB3dCh0KXtyZXR1cm4gdCp0KnQqLjAxMTM5MzIyOTE2NjY2NjY2Nn1mdW5jdGlvbiBsdCh0LHMsaSl7dmFyIGg9cyppO3JldHVybiB0L01hdGguc3FydCgxLWgqaCl9ZnVuY3Rpb24gdXQodCl7cmV0dXJuIE1hdGguYWJzKHQpPHA/dDp0LW10KHQpKk1hdGguUEl9ZnVuY3Rpb24gVHQodCxzLGksaCxhKXt2YXIgcixuO3I9dC9zO2Zvcih2YXIgZT0wO2U8MTU7ZSsrKWlmKG49KHQtKHMqci1pKk1hdGguc2luKDIqcikraCpNYXRoLnNpbig0KnIpLWEqTWF0aC5zaW4oNipyKSkpLyhzLTIqaSpNYXRoLmNvcygyKnIpKzQqaCpNYXRoLmNvcyg0KnIpLTYqYSpNYXRoLmNvcyg2KnIpKSxyKz1uLE1hdGguYWJzKG4pPD0xZS0xMClyZXR1cm4gcjtyZXR1cm4gTmFOfWZ1bmN0aW9uIG9oKCl7dGhpcy5zcGhlcmV8fCh0aGlzLmUwPWd0KHRoaXMuZXMpLHRoaXMuZTE9dnQodGhpcy5lcyksdGhpcy5lMj1idCh0aGlzLmVzKSx0aGlzLmUzPXd0KHRoaXMuZXMpLHRoaXMubWwwPXRoaXMuYSpqKHRoaXMuZTAsdGhpcy5lMSx0aGlzLmUyLHRoaXMuZTMsdGhpcy5sYXQwKSl9ZnVuY3Rpb24gbGgodCl7dmFyIHMsaSxoPXQueCxhPXQueTtpZihoPXkoaC10aGlzLmxvbmcwKSx0aGlzLnNwaGVyZSlzPXRoaXMuYSpNYXRoLmFzaW4oTWF0aC5jb3MoYSkqTWF0aC5zaW4oaCkpLGk9dGhpcy5hKihNYXRoLmF0YW4yKE1hdGgudGFuKGEpLE1hdGguY29zKGgpKS10aGlzLmxhdDApO2Vsc2V7dmFyIHI9TWF0aC5zaW4oYSksbj1NYXRoLmNvcyhhKSxlPWx0KHRoaXMuYSx0aGlzLmUsciksbz1NYXRoLnRhbihhKSpNYXRoLnRhbihhKSxsPWgqTWF0aC5jb3MoYSksYz1sKmwsdT10aGlzLmVzKm4qbi8oMS10aGlzLmVzKSxNPXRoaXMuYSpqKHRoaXMuZTAsdGhpcy5lMSx0aGlzLmUyLHRoaXMuZTMsYSk7cz1lKmwqKDEtYypvKiguMTY2NjY2NjY2NjY2NjY2NjYtKDgtbys4KnUpKmMvMTIwKSksaT1NLXRoaXMubWwwK2Uqci9uKmMqKC41Kyg1LW8rNip1KSpjLzI0KX1yZXR1cm4gdC54PXMrdGhpcy54MCx0Lnk9aSt0aGlzLnkwLHR9ZnVuY3Rpb24gdWgodCl7dC54LT10aGlzLngwLHQueS09dGhpcy55MDt2YXIgcz10LngvdGhpcy5hLGk9dC55L3RoaXMuYSxoLGE7aWYodGhpcy5zcGhlcmUpe3ZhciByPWkrdGhpcy5sYXQwO2g9TWF0aC5hc2luKE1hdGguc2luKHIpKk1hdGguY29zKHMpKSxhPU1hdGguYXRhbjIoTWF0aC50YW4ocyksTWF0aC5jb3MocikpfWVsc2V7dmFyIG49dGhpcy5tbDAvdGhpcy5hK2ksZT1UdChuLHRoaXMuZTAsdGhpcy5lMSx0aGlzLmUyLHRoaXMuZTMpO2lmKE1hdGguYWJzKE1hdGguYWJzKGUpLXApPD1fKXJldHVybiB0Lng9dGhpcy5sb25nMCx0Lnk9cCxpPDAmJih0LnkqPS0xKSx0O3ZhciBvPWx0KHRoaXMuYSx0aGlzLmUsTWF0aC5zaW4oZSkpLGw9bypvKm8vdGhpcy5hL3RoaXMuYSooMS10aGlzLmVzKSxjPU1hdGgucG93KE1hdGgudGFuKGUpLDIpLHU9cyp0aGlzLmEvbyxNPXUqdTtoPWUtbypNYXRoLnRhbihlKS9sKnUqdSooLjUtKDErMypjKSp1KnUvMjQpLGE9dSooMS1NKihjLzMrKDErMypjKSpjKk0vMTUpKS9NYXRoLmNvcyhlKX1yZXR1cm4gdC54PXkoYSt0aGlzLmxvbmcwKSx0Lnk9dXQoaCksdH12YXIgY2g9WyJDYXNzaW5pIiwiQ2Fzc2luaV9Tb2xkbmVyIiwiY2FzcyJdLE1oPXtpbml0Om9oLGZvcndhcmQ6bGgsaW52ZXJzZTp1aCxuYW1lczpjaH07ZnVuY3Rpb24gWih0LHMpe3ZhciBpO3JldHVybiB0PjFlLTc/KGk9dCpzLCgxLXQqdCkqKHMvKDEtaSppKS0uNS90Kk1hdGgubG9nKCgxLWkpLygxK2kpKSkpOjIqc312YXIgZmg9MSxkaD0yLHBoPTMsbWg9NDtmdW5jdGlvbiBfaCgpe3ZhciB0PU1hdGguYWJzKHRoaXMubGF0MCk7aWYoTWF0aC5hYnModC1wKTxfP3RoaXMubW9kZT10aGlzLmxhdDA8MD90aGlzLlNfUE9MRTp0aGlzLk5fUE9MRTpNYXRoLmFicyh0KTxfP3RoaXMubW9kZT10aGlzLkVRVUlUOnRoaXMubW9kZT10aGlzLk9CTElRLHRoaXMuZXM+MCl7dmFyIHM7c3dpdGNoKHRoaXMucXA9Wih0aGlzLmUsMSksdGhpcy5tbWY9LjUvKDEtdGhpcy5lcyksdGhpcy5hcGE9RWgodGhpcy5lcyksdGhpcy5tb2RlKXtjYXNlIHRoaXMuTl9QT0xFOnRoaXMuZGQ9MTticmVhaztjYXNlIHRoaXMuU19QT0xFOnRoaXMuZGQ9MTticmVhaztjYXNlIHRoaXMuRVFVSVQ6dGhpcy5ycT1NYXRoLnNxcnQoLjUqdGhpcy5xcCksdGhpcy5kZD0xL3RoaXMucnEsdGhpcy54bWY9MSx0aGlzLnltZj0uNSp0aGlzLnFwO2JyZWFrO2Nhc2UgdGhpcy5PQkxJUTp0aGlzLnJxPU1hdGguc3FydCguNSp0aGlzLnFwKSxzPU1hdGguc2luKHRoaXMubGF0MCksdGhpcy5zaW5iMT1aKHRoaXMuZSxzKS90aGlzLnFwLHRoaXMuY29zYjE9TWF0aC5zcXJ0KDEtdGhpcy5zaW5iMSp0aGlzLnNpbmIxKSx0aGlzLmRkPU1hdGguY29zKHRoaXMubGF0MCkvKE1hdGguc3FydCgxLXRoaXMuZXMqcypzKSp0aGlzLnJxKnRoaXMuY29zYjEpLHRoaXMueW1mPSh0aGlzLnhtZj10aGlzLnJxKS90aGlzLmRkLHRoaXMueG1mKj10aGlzLmRkO2JyZWFrfX1lbHNlIHRoaXMubW9kZT09PXRoaXMuT0JMSVEmJih0aGlzLnNpbnBoMD1NYXRoLnNpbih0aGlzLmxhdDApLHRoaXMuY29zcGgwPU1hdGguY29zKHRoaXMubGF0MCkpfWZ1bmN0aW9uIHloKHQpe3ZhciBzLGksaCxhLHIsbixlLG8sbCxjLHU9dC54LE09dC55O2lmKHU9eSh1LXRoaXMubG9uZzApLHRoaXMuc3BoZXJlKXtpZihyPU1hdGguc2luKE0pLGM9TWF0aC5jb3MoTSksaD1NYXRoLmNvcyh1KSx0aGlzLm1vZGU9PT10aGlzLk9CTElRfHx0aGlzLm1vZGU9PT10aGlzLkVRVUlUKXtpZihpPXRoaXMubW9kZT09PXRoaXMuRVFVSVQ/MStjKmg6MSt0aGlzLnNpbnBoMCpyK3RoaXMuY29zcGgwKmMqaCxpPD1fKXJldHVybiBudWxsO2k9TWF0aC5zcXJ0KDIvaSkscz1pKmMqTWF0aC5zaW4odSksaSo9dGhpcy5tb2RlPT09dGhpcy5FUVVJVD9yOnRoaXMuY29zcGgwKnItdGhpcy5zaW5waDAqYypofWVsc2UgaWYodGhpcy5tb2RlPT09dGhpcy5OX1BPTEV8fHRoaXMubW9kZT09PXRoaXMuU19QT0xFKXtpZih0aGlzLm1vZGU9PT10aGlzLk5fUE9MRSYmKGg9LWgpLE1hdGguYWJzKE0rdGhpcy5sYXQwKTxfKXJldHVybiBudWxsO2k9QS1NKi41LGk9MioodGhpcy5tb2RlPT09dGhpcy5TX1BPTEU/TWF0aC5jb3MoaSk6TWF0aC5zaW4oaSkpLHM9aSpNYXRoLnNpbih1KSxpKj1ofX1lbHNle3N3aXRjaChlPTAsbz0wLGw9MCxoPU1hdGguY29zKHUpLGE9TWF0aC5zaW4odSkscj1NYXRoLnNpbihNKSxuPVoodGhpcy5lLHIpLCh0aGlzLm1vZGU9PT10aGlzLk9CTElRfHx0aGlzLm1vZGU9PT10aGlzLkVRVUlUKSYmKGU9bi90aGlzLnFwLG89TWF0aC5zcXJ0KDEtZSplKSksdGhpcy5tb2RlKXtjYXNlIHRoaXMuT0JMSVE6bD0xK3RoaXMuc2luYjEqZSt0aGlzLmNvc2IxKm8qaDticmVhaztjYXNlIHRoaXMuRVFVSVQ6bD0xK28qaDticmVhaztjYXNlIHRoaXMuTl9QT0xFOmw9cCtNLG49dGhpcy5xcC1uO2JyZWFrO2Nhc2UgdGhpcy5TX1BPTEU6bD1NLXAsbj10aGlzLnFwK247YnJlYWt9aWYoTWF0aC5hYnMobCk8XylyZXR1cm4gbnVsbDtzd2l0Y2godGhpcy5tb2RlKXtjYXNlIHRoaXMuT0JMSVE6Y2FzZSB0aGlzLkVRVUlUOmw9TWF0aC5zcXJ0KDIvbCksdGhpcy5tb2RlPT09dGhpcy5PQkxJUT9pPXRoaXMueW1mKmwqKHRoaXMuY29zYjEqZS10aGlzLnNpbmIxKm8qaCk6aT0obD1NYXRoLnNxcnQoMi8oMStvKmgpKSkqZSp0aGlzLnltZixzPXRoaXMueG1mKmwqbyphO2JyZWFrO2Nhc2UgdGhpcy5OX1BPTEU6Y2FzZSB0aGlzLlNfUE9MRTpuPj0wPyhzPShsPU1hdGguc3FydChuKSkqYSxpPWgqKHRoaXMubW9kZT09PXRoaXMuU19QT0xFP2w6LWwpKTpzPWk9MDticmVha319cmV0dXJuIHQueD10aGlzLmEqcyt0aGlzLngwLHQueT10aGlzLmEqaSt0aGlzLnkwLHR9ZnVuY3Rpb24geGgodCl7dC54LT10aGlzLngwLHQueS09dGhpcy55MDt2YXIgcz10LngvdGhpcy5hLGk9dC55L3RoaXMuYSxoLGEscixuLGUsbyxsO2lmKHRoaXMuc3BoZXJlKXt2YXIgYz0wLHUsTT0wO2lmKHU9TWF0aC5zcXJ0KHMqcytpKmkpLGE9dSouNSxhPjEpcmV0dXJuIG51bGw7c3dpdGNoKGE9MipNYXRoLmFzaW4oYSksKHRoaXMubW9kZT09PXRoaXMuT0JMSVF8fHRoaXMubW9kZT09PXRoaXMuRVFVSVQpJiYoTT1NYXRoLnNpbihhKSxjPU1hdGguY29zKGEpKSx0aGlzLm1vZGUpe2Nhc2UgdGhpcy5FUVVJVDphPU1hdGguYWJzKHUpPD1fPzA6TWF0aC5hc2luKGkqTS91KSxzKj1NLGk9Yyp1O2JyZWFrO2Nhc2UgdGhpcy5PQkxJUTphPU1hdGguYWJzKHUpPD1fP3RoaXMubGF0MDpNYXRoLmFzaW4oYyp0aGlzLnNpbnBoMCtpKk0qdGhpcy5jb3NwaDAvdSkscyo9TSp0aGlzLmNvc3BoMCxpPShjLU1hdGguc2luKGEpKnRoaXMuc2lucGgwKSp1O2JyZWFrO2Nhc2UgdGhpcy5OX1BPTEU6aT0taSxhPXAtYTticmVhaztjYXNlIHRoaXMuU19QT0xFOmEtPXA7YnJlYWt9aD1pPT09MCYmKHRoaXMubW9kZT09PXRoaXMuRVFVSVR8fHRoaXMubW9kZT09PXRoaXMuT0JMSVEpPzA6TWF0aC5hdGFuMihzLGkpfWVsc2V7aWYobD0wLHRoaXMubW9kZT09PXRoaXMuT0JMSVF8fHRoaXMubW9kZT09PXRoaXMuRVFVSVQpe2lmKHMvPXRoaXMuZGQsaSo9dGhpcy5kZCxvPU1hdGguc3FydChzKnMraSppKSxvPF8pcmV0dXJuIHQueD10aGlzLmxvbmcwLHQueT10aGlzLmxhdDAsdDtuPTIqTWF0aC5hc2luKC41Km8vdGhpcy5ycSkscj1NYXRoLmNvcyhuKSxzKj1uPU1hdGguc2luKG4pLHRoaXMubW9kZT09PXRoaXMuT0JMSVE/KGw9cip0aGlzLnNpbmIxK2kqbip0aGlzLmNvc2IxL28sZT10aGlzLnFwKmwsaT1vKnRoaXMuY29zYjEqci1pKnRoaXMuc2luYjEqbik6KGw9aSpuL28sZT10aGlzLnFwKmwsaT1vKnIpfWVsc2UgaWYodGhpcy5tb2RlPT09dGhpcy5OX1BPTEV8fHRoaXMubW9kZT09PXRoaXMuU19QT0xFKXtpZih0aGlzLm1vZGU9PT10aGlzLk5fUE9MRSYmKGk9LWkpLGU9cypzK2kqaSwhZSlyZXR1cm4gdC54PXRoaXMubG9uZzAsdC55PXRoaXMubGF0MCx0O2w9MS1lL3RoaXMucXAsdGhpcy5tb2RlPT09dGhpcy5TX1BPTEUmJihsPS1sKX1oPU1hdGguYXRhbjIocyxpKSxhPUNoKE1hdGguYXNpbihsKSx0aGlzLmFwYSl9cmV0dXJuIHQueD15KHRoaXMubG9uZzAraCksdC55PWEsdH12YXIgZ2g9LjMzMzMzMzMzMzMzMzMzMzMsdmg9LjE3MjIyMjIyMjIyMjIyMjIyLGJoPS4xMDI1NzkzNjUwNzkzNjUwOCx3aD0uMDYzODg4ODg4ODg4ODg4ODgsTmg9LjA2NjQwMjExNjQwMjExNjQsQWg9LjAxNjQxNTAxMjk0MjE5MTU0MztmdW5jdGlvbiBFaCh0KXt2YXIgcyxpPVtdO3JldHVybiBpWzBdPXQqZ2gscz10KnQsaVswXSs9cyp2aCxpWzFdPXMqd2gscyo9dCxpWzBdKz1zKmJoLGlbMV0rPXMqTmgsaVsyXT1zKkFoLGl9ZnVuY3Rpb24gQ2godCxzKXt2YXIgaT10K3Q7cmV0dXJuIHQrc1swXSpNYXRoLnNpbihpKStzWzFdKk1hdGguc2luKGkraSkrc1syXSpNYXRoLnNpbihpK2kraSl9dmFyIFBoPVsiTGFtYmVydCBBemltdXRoYWwgRXF1YWwgQXJlYSIsIkxhbWJlcnRfQXppbXV0aGFsX0VxdWFsX0FyZWEiLCJsYWVhIl0sU2g9e2luaXQ6X2gsZm9yd2FyZDp5aCxpbnZlcnNlOnhoLG5hbWVzOlBoLFNfUE9MRTpmaCxOX1BPTEU6ZGgsRVFVSVQ6cGgsT0JMSVE6bWh9O2Z1bmN0aW9uIFkodCl7cmV0dXJuIE1hdGguYWJzKHQpPjEmJih0PXQ+MT8xOi0xKSxNYXRoLmFzaW4odCl9ZnVuY3Rpb24gT2goKXtNYXRoLmFicyh0aGlzLmxhdDErdGhpcy5sYXQyKTxffHwodGhpcy50ZW1wPXRoaXMuYi90aGlzLmEsdGhpcy5lcz0xLU1hdGgucG93KHRoaXMudGVtcCwyKSx0aGlzLmUzPU1hdGguc3FydCh0aGlzLmVzKSx0aGlzLnNpbl9wbz1NYXRoLnNpbih0aGlzLmxhdDEpLHRoaXMuY29zX3BvPU1hdGguY29zKHRoaXMubGF0MSksdGhpcy50MT10aGlzLnNpbl9wbyx0aGlzLmNvbj10aGlzLnNpbl9wbyx0aGlzLm1zMT1XKHRoaXMuZTMsdGhpcy5zaW5fcG8sdGhpcy5jb3NfcG8pLHRoaXMucXMxPVoodGhpcy5lMyx0aGlzLnNpbl9wbyx0aGlzLmNvc19wbyksdGhpcy5zaW5fcG89TWF0aC5zaW4odGhpcy5sYXQyKSx0aGlzLmNvc19wbz1NYXRoLmNvcyh0aGlzLmxhdDIpLHRoaXMudDI9dGhpcy5zaW5fcG8sdGhpcy5tczI9Vyh0aGlzLmUzLHRoaXMuc2luX3BvLHRoaXMuY29zX3BvKSx0aGlzLnFzMj1aKHRoaXMuZTMsdGhpcy5zaW5fcG8sdGhpcy5jb3NfcG8pLHRoaXMuc2luX3BvPU1hdGguc2luKHRoaXMubGF0MCksdGhpcy5jb3NfcG89TWF0aC5jb3ModGhpcy5sYXQwKSx0aGlzLnQzPXRoaXMuc2luX3BvLHRoaXMucXMwPVoodGhpcy5lMyx0aGlzLnNpbl9wbyx0aGlzLmNvc19wbyksTWF0aC5hYnModGhpcy5sYXQxLXRoaXMubGF0Mik+Xz90aGlzLm5zMD0odGhpcy5tczEqdGhpcy5tczEtdGhpcy5tczIqdGhpcy5tczIpLyh0aGlzLnFzMi10aGlzLnFzMSk6dGhpcy5uczA9dGhpcy5jb24sdGhpcy5jPXRoaXMubXMxKnRoaXMubXMxK3RoaXMubnMwKnRoaXMucXMxLHRoaXMucmg9dGhpcy5hKk1hdGguc3FydCh0aGlzLmMtdGhpcy5uczAqdGhpcy5xczApL3RoaXMubnMwKX1mdW5jdGlvbiBJaCh0KXt2YXIgcz10LngsaT10Lnk7dGhpcy5zaW5fcGhpPU1hdGguc2luKGkpLHRoaXMuY29zX3BoaT1NYXRoLmNvcyhpKTt2YXIgaD1aKHRoaXMuZTMsdGhpcy5zaW5fcGhpLHRoaXMuY29zX3BoaSksYT10aGlzLmEqTWF0aC5zcXJ0KHRoaXMuYy10aGlzLm5zMCpoKS90aGlzLm5zMCxyPXRoaXMubnMwKnkocy10aGlzLmxvbmcwKSxuPWEqTWF0aC5zaW4ocikrdGhpcy54MCxlPXRoaXMucmgtYSpNYXRoLmNvcyhyKSt0aGlzLnkwO3JldHVybiB0Lng9bix0Lnk9ZSx0fWZ1bmN0aW9uIGtoKHQpe3ZhciBzLGksaCxhLHIsbjtyZXR1cm4gdC54LT10aGlzLngwLHQueT10aGlzLnJoLXQueSt0aGlzLnkwLHRoaXMubnMwPj0wPyhzPU1hdGguc3FydCh0LngqdC54K3QueSp0LnkpLGg9MSk6KHM9LU1hdGguc3FydCh0LngqdC54K3QueSp0LnkpLGg9LTEpLGE9MCxzIT09MCYmKGE9TWF0aC5hdGFuMihoKnQueCxoKnQueSkpLGg9cyp0aGlzLm5zMC90aGlzLmEsdGhpcy5zcGhlcmU/bj1NYXRoLmFzaW4oKHRoaXMuYy1oKmgpLygyKnRoaXMubnMwKSk6KGk9KHRoaXMuYy1oKmgpL3RoaXMubnMwLG49dGhpcy5waGkxeih0aGlzLmUzLGkpKSxyPXkoYS90aGlzLm5zMCt0aGlzLmxvbmcwKSx0Lng9cix0Lnk9bix0fWZ1bmN0aW9uIHFoKHQscyl7dmFyIGksaCxhLHIsbixlPVkoLjUqcyk7aWYodDxfKXJldHVybiBlO2Zvcih2YXIgbz10KnQsbD0xO2w8PTI1O2wrKylpZihpPU1hdGguc2luKGUpLGg9TWF0aC5jb3MoZSksYT10Kmkscj0xLWEqYSxuPS41KnIqci9oKihzLygxLW8pLWkvcisuNS90Kk1hdGgubG9nKCgxLWEpLygxK2EpKSksZT1lK24sTWF0aC5hYnMobik8PTFlLTcpcmV0dXJuIGU7cmV0dXJuIG51bGx9dmFyIFJoPVsiQWxiZXJzX0NvbmljX0VxdWFsX0FyZWEiLCJBbGJlcnMiLCJhZWEiXSxMaD17aW5pdDpPaCxmb3J3YXJkOkloLGludmVyc2U6a2gsbmFtZXM6UmgscGhpMXo6cWh9O2Z1bmN0aW9uIFRoKCl7dGhpcy5zaW5fcDE0PU1hdGguc2luKHRoaXMubGF0MCksdGhpcy5jb3NfcDE0PU1hdGguY29zKHRoaXMubGF0MCksdGhpcy5pbmZpbml0eV9kaXN0PTFlMyp0aGlzLmEsdGhpcy5yYz0xfWZ1bmN0aW9uIGpoKHQpe3ZhciBzLGksaCxhLHIsbixlLG8sbD10LngsYz10Lnk7cmV0dXJuIGg9eShsLXRoaXMubG9uZzApLHM9TWF0aC5zaW4oYyksaT1NYXRoLmNvcyhjKSxhPU1hdGguY29zKGgpLG49dGhpcy5zaW5fcDE0KnMrdGhpcy5jb3NfcDE0KmkqYSxyPTEsbj4wfHxNYXRoLmFicyhuKTw9Xz8oZT10aGlzLngwK3RoaXMuYSpyKmkqTWF0aC5zaW4oaCkvbixvPXRoaXMueTArdGhpcy5hKnIqKHRoaXMuY29zX3AxNCpzLXRoaXMuc2luX3AxNCppKmEpL24pOihlPXRoaXMueDArdGhpcy5pbmZpbml0eV9kaXN0KmkqTWF0aC5zaW4oaCksbz10aGlzLnkwK3RoaXMuaW5maW5pdHlfZGlzdCoodGhpcy5jb3NfcDE0KnMtdGhpcy5zaW5fcDE0KmkqYSkpLHQueD1lLHQueT1vLHR9ZnVuY3Rpb24gR2godCl7dmFyIHMsaSxoLGEscixuO3JldHVybiB0Lng9KHQueC10aGlzLngwKS90aGlzLmEsdC55PSh0LnktdGhpcy55MCkvdGhpcy5hLHQueC89dGhpcy5rMCx0LnkvPXRoaXMuazAsKHM9TWF0aC5zcXJ0KHQueCp0LngrdC55KnQueSkpPyhhPU1hdGguYXRhbjIocyx0aGlzLnJjKSxpPU1hdGguc2luKGEpLGg9TWF0aC5jb3MoYSksbj1ZKGgqdGhpcy5zaW5fcDE0K3QueSppKnRoaXMuY29zX3AxNC9zKSxyPU1hdGguYXRhbjIodC54Kmkscyp0aGlzLmNvc19wMTQqaC10LnkqdGhpcy5zaW5fcDE0KmkpLHI9eSh0aGlzLmxvbmcwK3IpKToobj10aGlzLnBoaWMwLHI9MCksdC54PXIsdC55PW4sdH12YXIgQmg9WyJnbm9tIl0semg9e2luaXQ6VGgsZm9yd2FyZDpqaCxpbnZlcnNlOkdoLG5hbWVzOkJofTtmdW5jdGlvbiBGaCh0LHMpe3ZhciBpPTEtKDEtdCp0KS8oMip0KSpNYXRoLmxvZygoMS10KS8oMSt0KSk7aWYoTWF0aC5hYnMoTWF0aC5hYnMocyktaSk8MWUtNilyZXR1cm4gczwwPy0xKnA6cDtmb3IodmFyIGg9TWF0aC5hc2luKC41KnMpLGEscixuLGUsbz0wO288MzA7bysrKWlmKHI9TWF0aC5zaW4oaCksbj1NYXRoLmNvcyhoKSxlPXQqcixhPU1hdGgucG93KDEtZSplLDIpLygyKm4pKihzLygxLXQqdCktci8oMS1lKmUpKy41L3QqTWF0aC5sb2coKDEtZSkvKDErZSkpKSxoKz1hLE1hdGguYWJzKGEpPD0xZS0xMClyZXR1cm4gaDtyZXR1cm4gTmFOfWZ1bmN0aW9uIERoKCl7dGhpcy5zcGhlcmV8fCh0aGlzLmswPVcodGhpcy5lLE1hdGguc2luKHRoaXMubGF0X3RzKSxNYXRoLmNvcyh0aGlzLmxhdF90cykpKX1mdW5jdGlvbiBVaCh0KXt2YXIgcz10LngsaT10LnksaCxhLHI9eShzLXRoaXMubG9uZzApO2lmKHRoaXMuc3BoZXJlKWg9dGhpcy54MCt0aGlzLmEqcipNYXRoLmNvcyh0aGlzLmxhdF90cyksYT10aGlzLnkwK3RoaXMuYSpNYXRoLnNpbihpKS9NYXRoLmNvcyh0aGlzLmxhdF90cyk7ZWxzZXt2YXIgbj1aKHRoaXMuZSxNYXRoLnNpbihpKSk7aD10aGlzLngwK3RoaXMuYSp0aGlzLmswKnIsYT10aGlzLnkwK3RoaXMuYSpuKi41L3RoaXMuazB9cmV0dXJuIHQueD1oLHQueT1hLHR9ZnVuY3Rpb24gUWgodCl7dC54LT10aGlzLngwLHQueS09dGhpcy55MDt2YXIgcyxpO3JldHVybiB0aGlzLnNwaGVyZT8ocz15KHRoaXMubG9uZzArdC54L3RoaXMuYS9NYXRoLmNvcyh0aGlzLmxhdF90cykpLGk9TWF0aC5hc2luKHQueS90aGlzLmEqTWF0aC5jb3ModGhpcy5sYXRfdHMpKSk6KGk9RmgodGhpcy5lLDIqdC55KnRoaXMuazAvdGhpcy5hKSxzPXkodGhpcy5sb25nMCt0LngvKHRoaXMuYSp0aGlzLmswKSkpLHQueD1zLHQueT1pLHR9dmFyIFdoPVsiY2VhIl0sSGg9e2luaXQ6RGgsZm9yd2FyZDpVaCxpbnZlcnNlOlFoLG5hbWVzOldofTtmdW5jdGlvbiBYaCgpe3RoaXMueDA9dGhpcy54MHx8MCx0aGlzLnkwPXRoaXMueTB8fDAsdGhpcy5sYXQwPXRoaXMubGF0MHx8MCx0aGlzLmxvbmcwPXRoaXMubG9uZzB8fDAsdGhpcy5sYXRfdHM9dGhpcy5sYXRfdHN8fDAsdGhpcy50aXRsZT10aGlzLnRpdGxlfHwiRXF1aWRpc3RhbnQgQ3lsaW5kcmljYWwgKFBsYXRlIENhcnJlKSIsdGhpcy5yYz1NYXRoLmNvcyh0aGlzLmxhdF90cyl9ZnVuY3Rpb24gSmgodCl7dmFyIHM9dC54LGk9dC55LGg9eShzLXRoaXMubG9uZzApLGE9dXQoaS10aGlzLmxhdDApO3JldHVybiB0Lng9dGhpcy54MCt0aGlzLmEqaCp0aGlzLnJjLHQueT10aGlzLnkwK3RoaXMuYSphLHR9ZnVuY3Rpb24gS2godCl7dmFyIHM9dC54LGk9dC55O3JldHVybiB0Lng9eSh0aGlzLmxvbmcwKyhzLXRoaXMueDApLyh0aGlzLmEqdGhpcy5yYykpLHQueT11dCh0aGlzLmxhdDArKGktdGhpcy55MCkvdGhpcy5hKSx0fXZhciBWaD1bIkVxdWlyZWN0YW5ndWxhciIsIkVxdWlkaXN0YW50X0N5bGluZHJpY2FsIiwiZXFjIl0sWmg9e2luaXQ6WGgsZm9yd2FyZDpKaCxpbnZlcnNlOktoLG5hbWVzOlZofSxScz0yMDtmdW5jdGlvbiBZaCgpe3RoaXMudGVtcD10aGlzLmIvdGhpcy5hLHRoaXMuZXM9MS1NYXRoLnBvdyh0aGlzLnRlbXAsMiksdGhpcy5lPU1hdGguc3FydCh0aGlzLmVzKSx0aGlzLmUwPWd0KHRoaXMuZXMpLHRoaXMuZTE9dnQodGhpcy5lcyksdGhpcy5lMj1idCh0aGlzLmVzKSx0aGlzLmUzPXd0KHRoaXMuZXMpLHRoaXMubWwwPXRoaXMuYSpqKHRoaXMuZTAsdGhpcy5lMSx0aGlzLmUyLHRoaXMuZTMsdGhpcy5sYXQwKX1mdW5jdGlvbiAkaCh0KXt2YXIgcz10LngsaT10LnksaCxhLHIsbj15KHMtdGhpcy5sb25nMCk7aWYocj1uKk1hdGguc2luKGkpLHRoaXMuc3BoZXJlKU1hdGguYWJzKGkpPD1fPyhoPXRoaXMuYSpuLGE9LTEqdGhpcy5hKnRoaXMubGF0MCk6KGg9dGhpcy5hKk1hdGguc2luKHIpL01hdGgudGFuKGkpLGE9dGhpcy5hKih1dChpLXRoaXMubGF0MCkrKDEtTWF0aC5jb3MocikpL01hdGgudGFuKGkpKSk7ZWxzZSBpZihNYXRoLmFicyhpKTw9XyloPXRoaXMuYSpuLGE9LTEqdGhpcy5tbDA7ZWxzZXt2YXIgZT1sdCh0aGlzLmEsdGhpcy5lLE1hdGguc2luKGkpKS9NYXRoLnRhbihpKTtoPWUqTWF0aC5zaW4ociksYT10aGlzLmEqaih0aGlzLmUwLHRoaXMuZTEsdGhpcy5lMix0aGlzLmUzLGkpLXRoaXMubWwwK2UqKDEtTWF0aC5jb3MocikpfXJldHVybiB0Lng9aCt0aGlzLngwLHQueT1hK3RoaXMueTAsdH1mdW5jdGlvbiB0ZSh0KXt2YXIgcyxpLGgsYSxyLG4sZSxvLGw7aWYoaD10LngtdGhpcy54MCxhPXQueS10aGlzLnkwLHRoaXMuc3BoZXJlKWlmKE1hdGguYWJzKGErdGhpcy5hKnRoaXMubGF0MCk8PV8pcz15KGgvdGhpcy5hK3RoaXMubG9uZzApLGk9MDtlbHNle249dGhpcy5sYXQwK2EvdGhpcy5hLGU9aCpoL3RoaXMuYS90aGlzLmErbipuLG89bjt2YXIgYztmb3Iocj1ScztyOy0tcilpZihjPU1hdGgudGFuKG8pLGw9LTEqKG4qKG8qYysxKS1vLS41KihvKm8rZSkqYykvKChvLW4pL2MtMSksbys9bCxNYXRoLmFicyhsKTw9Xyl7aT1vO2JyZWFrfXM9eSh0aGlzLmxvbmcwK01hdGguYXNpbihoKk1hdGgudGFuKG8pL3RoaXMuYSkvTWF0aC5zaW4oaSkpfWVsc2UgaWYoTWF0aC5hYnMoYSt0aGlzLm1sMCk8PV8paT0wLHM9eSh0aGlzLmxvbmcwK2gvdGhpcy5hKTtlbHNle249KHRoaXMubWwwK2EpL3RoaXMuYSxlPWgqaC90aGlzLmEvdGhpcy5hK24qbixvPW47dmFyIHUsTSxkLGYsbTtmb3Iocj1ScztyOy0tcilpZihtPXRoaXMuZSpNYXRoLnNpbihvKSx1PU1hdGguc3FydCgxLW0qbSkqTWF0aC50YW4obyksTT10aGlzLmEqaih0aGlzLmUwLHRoaXMuZTEsdGhpcy5lMix0aGlzLmUzLG8pLGQ9dGhpcy5lMC0yKnRoaXMuZTEqTWF0aC5jb3MoMipvKSs0KnRoaXMuZTIqTWF0aC5jb3MoNCpvKS02KnRoaXMuZTMqTWF0aC5jb3MoNipvKSxmPU0vdGhpcy5hLGw9KG4qKHUqZisxKS1mLS41KnUqKGYqZitlKSkvKHRoaXMuZXMqTWF0aC5zaW4oMipvKSooZipmK2UtMipuKmYpLyg0KnUpKyhuLWYpKih1KmQtMi9NYXRoLnNpbigyKm8pKS1kKSxvLT1sLE1hdGguYWJzKGwpPD1fKXtpPW87YnJlYWt9dT1NYXRoLnNxcnQoMS10aGlzLmVzKk1hdGgucG93KE1hdGguc2luKGkpLDIpKSpNYXRoLnRhbihpKSxzPXkodGhpcy5sb25nMCtNYXRoLmFzaW4oaCp1L3RoaXMuYSkvTWF0aC5zaW4oaSkpfXJldHVybiB0Lng9cyx0Lnk9aSx0fXZhciBzZT1bIlBvbHljb25pYyIsInBvbHkiXSxpZT17aW5pdDpZaCxmb3J3YXJkOiRoLGludmVyc2U6dGUsbmFtZXM6c2V9O2Z1bmN0aW9uIGFlKCl7dGhpcy5BPVtdLHRoaXMuQVsxXT0uNjM5OTE3NTA3Myx0aGlzLkFbMl09LS4xMzU4Nzk3NjEzLHRoaXMuQVszXT0uMDYzMjk0NDA5LHRoaXMuQVs0XT0tLjAyNTI2ODUzLHRoaXMuQVs1XT0uMDExNzg3OSx0aGlzLkFbNl09LS4wMDU1MTYxLHRoaXMuQVs3XT0uMDAyNjkwNix0aGlzLkFbOF09LS4wMDEzMzMsdGhpcy5BWzldPTY3ZS01LHRoaXMuQVsxMF09LTM0ZS01LHRoaXMuQl9yZT1bXSx0aGlzLkJfaW09W10sdGhpcy5CX3JlWzFdPS43NTU3ODUzMjI4LHRoaXMuQl9pbVsxXT0wLHRoaXMuQl9yZVsyXT0uMjQ5MjA0NjQ2LHRoaXMuQl9pbVsyXT0uMDAzMzcxNTA3LHRoaXMuQl9yZVszXT0tLjAwMTU0MTczOSx0aGlzLkJfaW1bM109LjA0MTA1ODU2LHRoaXMuQl9yZVs0XT0tLjEwMTYyOTA3LHRoaXMuQl9pbVs0XT0uMDE3Mjc2MDksdGhpcy5CX3JlWzVdPS0uMjY2MjM0ODksdGhpcy5CX2ltWzVdPS0uMzYyNDkyMTgsdGhpcy5CX3JlWzZdPS0uNjg3MDk4Myx0aGlzLkJfaW1bNl09LTEuMTY1MTk2Nyx0aGlzLkNfcmU9W10sdGhpcy5DX2ltPVtdLHRoaXMuQ19yZVsxXT0xLjMyMzEyNzA0MzksdGhpcy5DX2ltWzFdPTAsdGhpcy5DX3JlWzJdPS0uNTc3MjQ1Nzg5LHRoaXMuQ19pbVsyXT0tLjAwNzgwOTU5OCx0aGlzLkNfcmVbM109LjUwODMwNzUxMyx0aGlzLkNfaW1bM109LS4xMTIyMDg5NTIsdGhpcy5DX3JlWzRdPS0uMTUwOTQ3NjIsdGhpcy5DX2ltWzRdPS4xODIwMDYwMix0aGlzLkNfcmVbNV09MS4wMTQxODE3OSx0aGlzLkNfaW1bNV09MS42NDQ5NzY5Nix0aGlzLkNfcmVbNl09MS45NjYwNTQ5LHRoaXMuQ19pbVs2XT0yLjUxMjc2NDUsdGhpcy5EPVtdLHRoaXMuRFsxXT0xLjU2MjcwMTQyNDMsdGhpcy5EWzJdPS41MTg1NDA2Mzk4LHRoaXMuRFszXT0tLjAzMzMzMDk4LHRoaXMuRFs0XT0tLjEwNTI5MDYsdGhpcy5EWzVdPS0uMDM2ODU5NCx0aGlzLkRbNl09LjAwNzMxNyx0aGlzLkRbN109LjAxMjIsdGhpcy5EWzhdPS4wMDM5NCx0aGlzLkRbOV09LS4wMDEzfWZ1bmN0aW9uIGhlKHQpe3ZhciBzLGk9dC54LGg9dC55LGE9aC10aGlzLmxhdDAscj1pLXRoaXMubG9uZzAsbj1hL2Z0KjFlLTUsZT1yLG89MSxsPTA7Zm9yKHM9MTtzPD0xMDtzKyspbz1vKm4sbD1sK3RoaXMuQVtzXSpvO3ZhciBjPWwsdT1lLE09MSxkPTAsZixtLHg9MCxnPTA7Zm9yKHM9MTtzPD02O3MrKylmPU0qYy1kKnUsbT1kKmMrTSp1LE09ZixkPW0seD14K3RoaXMuQl9yZVtzXSpNLXRoaXMuQl9pbVtzXSpkLGc9Zyt0aGlzLkJfaW1bc10qTSt0aGlzLkJfcmVbc10qZDtyZXR1cm4gdC54PWcqdGhpcy5hK3RoaXMueDAsdC55PXgqdGhpcy5hK3RoaXMueTAsdH1mdW5jdGlvbiBlZSh0KXt2YXIgcyxpPXQueCxoPXQueSxhPWktdGhpcy54MCxyPWgtdGhpcy55MCxuPXIvdGhpcy5hLGU9YS90aGlzLmEsbz0xLGw9MCxjLHUsTT0wLGQ9MDtmb3Iocz0xO3M8PTY7cysrKWM9bypuLWwqZSx1PWwqbitvKmUsbz1jLGw9dSxNPU0rdGhpcy5DX3JlW3NdKm8tdGhpcy5DX2ltW3NdKmwsZD1kK3RoaXMuQ19pbVtzXSpvK3RoaXMuQ19yZVtzXSpsO2Zvcih2YXIgZj0wO2Y8dGhpcy5pdGVyYXRpb25zO2YrKyl7dmFyIG09TSx4PWQsZyxiLHc9bixQPWU7Zm9yKHM9MjtzPD02O3MrKylnPW0qTS14KmQsYj14Kk0rbSpkLG09Zyx4PWIsdz13KyhzLTEpKih0aGlzLkJfcmVbc10qbS10aGlzLkJfaW1bc10qeCksUD1QKyhzLTEpKih0aGlzLkJfaW1bc10qbSt0aGlzLkJfcmVbc10qeCk7bT0xLHg9MDt2YXIgTj10aGlzLkJfcmVbMV0sQz10aGlzLkJfaW1bMV07Zm9yKHM9MjtzPD02O3MrKylnPW0qTS14KmQsYj14Kk0rbSpkLG09Zyx4PWIsTj1OK3MqKHRoaXMuQl9yZVtzXSptLXRoaXMuQl9pbVtzXSp4KSxDPUMrcyoodGhpcy5CX2ltW3NdKm0rdGhpcy5CX3JlW3NdKngpO3ZhciBMPU4qTitDKkM7TT0odypOK1AqQykvTCxkPShQKk4tdypDKS9MfXZhciBPPU0sWD1kLHN0PTEsaXQ9MDtmb3Iocz0xO3M8PTk7cysrKXN0PXN0Kk8saXQ9aXQrdGhpcy5EW3NdKnN0O3ZhciBCdD10aGlzLmxhdDAraXQqZnQqMWU1LGdyPXRoaXMubG9uZzArWDtyZXR1cm4gdC54PWdyLHQueT1CdCx0fXZhciByZT1bIk5ld19aZWFsYW5kX01hcF9HcmlkIiwibnptZyJdLG5lPXtpbml0OmFlLGZvcndhcmQ6aGUsaW52ZXJzZTplZSxuYW1lczpyZX07ZnVuY3Rpb24gb2UoKXt9ZnVuY3Rpb24gbGUodCl7dmFyIHM9dC54LGk9dC55LGg9eShzLXRoaXMubG9uZzApLGE9dGhpcy54MCt0aGlzLmEqaCxyPXRoaXMueTArdGhpcy5hKk1hdGgubG9nKE1hdGgudGFuKE1hdGguUEkvNCtpLzIuNSkpKjEuMjU7cmV0dXJuIHQueD1hLHQueT1yLHR9ZnVuY3Rpb24gdWUodCl7dC54LT10aGlzLngwLHQueS09dGhpcy55MDt2YXIgcz15KHRoaXMubG9uZzArdC54L3RoaXMuYSksaT0yLjUqKE1hdGguYXRhbihNYXRoLmV4cCguOCp0LnkvdGhpcy5hKSktTWF0aC5QSS80KTtyZXR1cm4gdC54PXMsdC55PWksdH12YXIgY2U9WyJNaWxsZXJfQ3lsaW5kcmljYWwiLCJtaWxsIl0sTWU9e2luaXQ6b2UsZm9yd2FyZDpsZSxpbnZlcnNlOnVlLG5hbWVzOmNlfSxmZT0yMDtmdW5jdGlvbiBkZSgpe3RoaXMuc3BoZXJlPyh0aGlzLm49MSx0aGlzLm09MCx0aGlzLmVzPTAsdGhpcy5DX3k9TWF0aC5zcXJ0KCh0aGlzLm0rMSkvdGhpcy5uKSx0aGlzLkNfeD10aGlzLkNfeS8odGhpcy5tKzEpKTp0aGlzLmVuPU9zKHRoaXMuZXMpfWZ1bmN0aW9uIHBlKHQpe3ZhciBzLGksaD10LngsYT10Lnk7aWYoaD15KGgtdGhpcy5sb25nMCksdGhpcy5zcGhlcmUpe2lmKCF0aGlzLm0pYT10aGlzLm4hPT0xP01hdGguYXNpbih0aGlzLm4qTWF0aC5zaW4oYSkpOmE7ZWxzZSBmb3IodmFyIHI9dGhpcy5uKk1hdGguc2luKGEpLG49ZmU7bjstLW4pe3ZhciBlPSh0aGlzLm0qYStNYXRoLnNpbihhKS1yKS8odGhpcy5tK01hdGguY29zKGEpKTtpZihhLT1lLE1hdGguYWJzKGUpPF8pYnJlYWt9cz10aGlzLmEqdGhpcy5DX3gqaCoodGhpcy5tK01hdGguY29zKGEpKSxpPXRoaXMuYSp0aGlzLkNfeSphfWVsc2V7dmFyIG89TWF0aC5zaW4oYSksbD1NYXRoLmNvcyhhKTtpPXRoaXMuYSpxdChhLG8sbCx0aGlzLmVuKSxzPXRoaXMuYSpoKmwvTWF0aC5zcXJ0KDEtdGhpcy5lcypvKm8pfXJldHVybiB0Lng9cyx0Lnk9aSx0fWZ1bmN0aW9uIG1lKHQpe3ZhciBzLGksaCxhO3JldHVybiB0LngtPXRoaXMueDAsaD10LngvdGhpcy5hLHQueS09dGhpcy55MCxzPXQueS90aGlzLmEsdGhpcy5zcGhlcmU/KHMvPXRoaXMuQ195LGg9aC8odGhpcy5DX3gqKHRoaXMubStNYXRoLmNvcyhzKSkpLHRoaXMubT9zPVkoKHRoaXMubSpzK01hdGguc2luKHMpKS90aGlzLm4pOnRoaXMubiE9PTEmJihzPVkoTWF0aC5zaW4ocykvdGhpcy5uKSksaD15KGgrdGhpcy5sb25nMCkscz11dChzKSk6KHM9SXModC55L3RoaXMuYSx0aGlzLmVzLHRoaXMuZW4pLGE9TWF0aC5hYnMocyksYTxwPyhhPU1hdGguc2luKHMpLGk9dGhpcy5sb25nMCt0LngqTWF0aC5zcXJ0KDEtdGhpcy5lcyphKmEpLyh0aGlzLmEqTWF0aC5jb3MocykpLGg9eShpKSk6YS1fPHAmJihoPXRoaXMubG9uZzApKSx0Lng9aCx0Lnk9cyx0fXZhciBfZT1bIlNpbnVzb2lkYWwiLCJzaW51Il0seWU9e2luaXQ6ZGUsZm9yd2FyZDpwZSxpbnZlcnNlOm1lLG5hbWVzOl9lfTtmdW5jdGlvbiB4ZSgpe31mdW5jdGlvbiBnZSh0KXtmb3IodmFyIHM9dC54LGk9dC55LGg9eShzLXRoaXMubG9uZzApLGE9aSxyPU1hdGguUEkqTWF0aC5zaW4oaSk7Oyl7dmFyIG49LShhK01hdGguc2luKGEpLXIpLygxK01hdGguY29zKGEpKTtpZihhKz1uLE1hdGguYWJzKG4pPF8pYnJlYWt9YS89MixNYXRoLlBJLzItTWF0aC5hYnMoaSk8XyYmKGg9MCk7dmFyIGU9LjkwMDMxNjMxNjE1OCp0aGlzLmEqaCpNYXRoLmNvcyhhKSt0aGlzLngwLG89MS40MTQyMTM1NjIzNzMxKnRoaXMuYSpNYXRoLnNpbihhKSt0aGlzLnkwO3JldHVybiB0Lng9ZSx0Lnk9byx0fWZ1bmN0aW9uIHZlKHQpe3ZhciBzLGk7dC54LT10aGlzLngwLHQueS09dGhpcy55MCxpPXQueS8oMS40MTQyMTM1NjIzNzMxKnRoaXMuYSksTWF0aC5hYnMoaSk+Ljk5OTk5OTk5OTk5OSYmKGk9Ljk5OTk5OTk5OTk5OSkscz1NYXRoLmFzaW4oaSk7dmFyIGg9eSh0aGlzLmxvbmcwK3QueC8oLjkwMDMxNjMxNjE1OCp0aGlzLmEqTWF0aC5jb3MocykpKTtoPC1NYXRoLlBJJiYoaD0tTWF0aC5QSSksaD5NYXRoLlBJJiYoaD1NYXRoLlBJKSxpPSgyKnMrTWF0aC5zaW4oMipzKSkvTWF0aC5QSSxNYXRoLmFicyhpKT4xJiYoaT0xKTt2YXIgYT1NYXRoLmFzaW4oaSk7cmV0dXJuIHQueD1oLHQueT1hLHR9dmFyIGJlPVsiTW9sbHdlaWRlIiwibW9sbCJdLHdlPXtpbml0OnhlLGZvcndhcmQ6Z2UsaW52ZXJzZTp2ZSxuYW1lczpiZX07ZnVuY3Rpb24gTmUoKXtNYXRoLmFicyh0aGlzLmxhdDErdGhpcy5sYXQyKTxffHwodGhpcy5sYXQyPXRoaXMubGF0Mnx8dGhpcy5sYXQxLHRoaXMudGVtcD10aGlzLmIvdGhpcy5hLHRoaXMuZXM9MS1NYXRoLnBvdyh0aGlzLnRlbXAsMiksdGhpcy5lPU1hdGguc3FydCh0aGlzLmVzKSx0aGlzLmUwPWd0KHRoaXMuZXMpLHRoaXMuZTE9dnQodGhpcy5lcyksdGhpcy5lMj1idCh0aGlzLmVzKSx0aGlzLmUzPXd0KHRoaXMuZXMpLHRoaXMuc2lucGhpPU1hdGguc2luKHRoaXMubGF0MSksdGhpcy5jb3NwaGk9TWF0aC5jb3ModGhpcy5sYXQxKSx0aGlzLm1zMT1XKHRoaXMuZSx0aGlzLnNpbnBoaSx0aGlzLmNvc3BoaSksdGhpcy5tbDE9aih0aGlzLmUwLHRoaXMuZTEsdGhpcy5lMix0aGlzLmUzLHRoaXMubGF0MSksTWF0aC5hYnModGhpcy5sYXQxLXRoaXMubGF0Mik8Xz90aGlzLm5zPXRoaXMuc2lucGhpOih0aGlzLnNpbnBoaT1NYXRoLnNpbih0aGlzLmxhdDIpLHRoaXMuY29zcGhpPU1hdGguY29zKHRoaXMubGF0MiksdGhpcy5tczI9Vyh0aGlzLmUsdGhpcy5zaW5waGksdGhpcy5jb3NwaGkpLHRoaXMubWwyPWoodGhpcy5lMCx0aGlzLmUxLHRoaXMuZTIsdGhpcy5lMyx0aGlzLmxhdDIpLHRoaXMubnM9KHRoaXMubXMxLXRoaXMubXMyKS8odGhpcy5tbDItdGhpcy5tbDEpKSx0aGlzLmc9dGhpcy5tbDErdGhpcy5tczEvdGhpcy5ucyx0aGlzLm1sMD1qKHRoaXMuZTAsdGhpcy5lMSx0aGlzLmUyLHRoaXMuZTMsdGhpcy5sYXQwKSx0aGlzLnJoPXRoaXMuYSoodGhpcy5nLXRoaXMubWwwKSl9ZnVuY3Rpb24gQWUodCl7dmFyIHM9dC54LGk9dC55LGg7aWYodGhpcy5zcGhlcmUpaD10aGlzLmEqKHRoaXMuZy1pKTtlbHNle3ZhciBhPWoodGhpcy5lMCx0aGlzLmUxLHRoaXMuZTIsdGhpcy5lMyxpKTtoPXRoaXMuYSoodGhpcy5nLWEpfXZhciByPXRoaXMubnMqeShzLXRoaXMubG9uZzApLG49dGhpcy54MCtoKk1hdGguc2luKHIpLGU9dGhpcy55MCt0aGlzLnJoLWgqTWF0aC5jb3Mocik7cmV0dXJuIHQueD1uLHQueT1lLHR9ZnVuY3Rpb24gRWUodCl7dC54LT10aGlzLngwLHQueT10aGlzLnJoLXQueSt0aGlzLnkwO3ZhciBzLGksaCxhO3RoaXMubnM+PTA/KGk9TWF0aC5zcXJ0KHQueCp0LngrdC55KnQueSkscz0xKTooaT0tTWF0aC5zcXJ0KHQueCp0LngrdC55KnQueSkscz0tMSk7dmFyIHI9MDtpZihpIT09MCYmKHI9TWF0aC5hdGFuMihzKnQueCxzKnQueSkpLHRoaXMuc3BoZXJlKXJldHVybiBhPXkodGhpcy5sb25nMCtyL3RoaXMubnMpLGg9dXQodGhpcy5nLWkvdGhpcy5hKSx0Lng9YSx0Lnk9aCx0O3ZhciBuPXRoaXMuZy1pL3RoaXMuYTtyZXR1cm4gaD1UdChuLHRoaXMuZTAsdGhpcy5lMSx0aGlzLmUyLHRoaXMuZTMpLGE9eSh0aGlzLmxvbmcwK3IvdGhpcy5ucyksdC54PWEsdC55PWgsdH12YXIgQ2U9WyJFcXVpZGlzdGFudF9Db25pYyIsImVxZGMiXSxQZT17aW5pdDpOZSxmb3J3YXJkOkFlLGludmVyc2U6RWUsbmFtZXM6Q2V9O2Z1bmN0aW9uIFNlKCl7dGhpcy5SPXRoaXMuYX1mdW5jdGlvbiBPZSh0KXt2YXIgcz10LngsaT10LnksaD15KHMtdGhpcy5sb25nMCksYSxyO01hdGguYWJzKGkpPD1fJiYoYT10aGlzLngwK3RoaXMuUipoLHI9dGhpcy55MCk7dmFyIG49WSgyKk1hdGguYWJzKGkvTWF0aC5QSSkpOyhNYXRoLmFicyhoKTw9X3x8TWF0aC5hYnMoTWF0aC5hYnMoaSktcCk8PV8pJiYoYT10aGlzLngwLGk+PTA/cj10aGlzLnkwK01hdGguUEkqdGhpcy5SKk1hdGgudGFuKC41Km4pOnI9dGhpcy55MCtNYXRoLlBJKnRoaXMuUiotTWF0aC50YW4oLjUqbikpO3ZhciBlPS41Kk1hdGguYWJzKE1hdGguUEkvaC1oL01hdGguUEkpLG89ZSplLGw9TWF0aC5zaW4obiksYz1NYXRoLmNvcyhuKSx1PWMvKGwrYy0xKSxNPXUqdSxkPXUqKDIvbC0xKSxmPWQqZCxtPU1hdGguUEkqdGhpcy5SKihlKih1LWYpK01hdGguc3FydChvKih1LWYpKih1LWYpLShmK28pKihNLWYpKSkvKGYrbyk7aDwwJiYobT0tbSksYT10aGlzLngwK207dmFyIHg9byt1O3JldHVybiBtPU1hdGguUEkqdGhpcy5SKihkKngtZSpNYXRoLnNxcnQoKGYrbykqKG8rMSkteCp4KSkvKGYrbyksaT49MD9yPXRoaXMueTArbTpyPXRoaXMueTAtbSx0Lng9YSx0Lnk9cix0fWZ1bmN0aW9uIEllKHQpe3ZhciBzLGksaCxhLHIsbixlLG8sbCxjLHUsTSxkO3JldHVybiB0LngtPXRoaXMueDAsdC55LT10aGlzLnkwLHU9TWF0aC5QSSp0aGlzLlIsaD10LngvdSxhPXQueS91LHI9aCpoK2EqYSxuPS1NYXRoLmFicyhhKSooMStyKSxlPW4tMiphKmEraCpoLG89LTIqbisxKzIqYSphK3IqcixkPWEqYS9vKygyKmUqZSplL28vby9vLTkqbiplL28vbykvMjcsbD0obi1lKmUvMy9vKS9vLGM9MipNYXRoLnNxcnQoLWwvMyksdT0zKmQvbC9jLE1hdGguYWJzKHUpPjEmJih1Pj0wP3U9MTp1PS0xKSxNPU1hdGguYWNvcyh1KS8zLHQueT49MD9pPSgtYypNYXRoLmNvcyhNK01hdGguUEkvMyktZS8zL28pKk1hdGguUEk6aT0tKC1jKk1hdGguY29zKE0rTWF0aC5QSS8zKS1lLzMvbykqTWF0aC5QSSxNYXRoLmFicyhoKTxfP3M9dGhpcy5sb25nMDpzPXkodGhpcy5sb25nMCtNYXRoLlBJKihyLTErTWF0aC5zcXJ0KDErMiooaCpoLWEqYSkrcipyKSkvMi9oKSx0Lng9cyx0Lnk9aSx0fXZhciBrZT1bIlZhbl9kZXJfR3JpbnRlbl9JIiwiVmFuRGVyR3JpbnRlbiIsInZhbmRnIl0scWU9e2luaXQ6U2UsZm9yd2FyZDpPZSxpbnZlcnNlOkllLG5hbWVzOmtlfTtmdW5jdGlvbiBSZSgpe3RoaXMuc2luX3AxMj1NYXRoLnNpbih0aGlzLmxhdDApLHRoaXMuY29zX3AxMj1NYXRoLmNvcyh0aGlzLmxhdDApfWZ1bmN0aW9uIExlKHQpe3ZhciBzPXQueCxpPXQueSxoPU1hdGguc2luKHQueSksYT1NYXRoLmNvcyh0LnkpLHI9eShzLXRoaXMubG9uZzApLG4sZSxvLGwsYyx1LE0sZCxmLG0seCxnLGIsdyxQLE4sQyxMLE8sWCxzdCxpdCxCdDtyZXR1cm4gdGhpcy5zcGhlcmU/TWF0aC5hYnModGhpcy5zaW5fcDEyLTEpPD1fPyh0Lng9dGhpcy54MCt0aGlzLmEqKHAtaSkqTWF0aC5zaW4ociksdC55PXRoaXMueTAtdGhpcy5hKihwLWkpKk1hdGguY29zKHIpLHQpOk1hdGguYWJzKHRoaXMuc2luX3AxMisxKTw9Xz8odC54PXRoaXMueDArdGhpcy5hKihwK2kpKk1hdGguc2luKHIpLHQueT10aGlzLnkwK3RoaXMuYSoocCtpKSpNYXRoLmNvcyhyKSx0KTooTD10aGlzLnNpbl9wMTIqaCt0aGlzLmNvc19wMTIqYSpNYXRoLmNvcyhyKSxOPU1hdGguYWNvcyhMKSxDPU4/Ti9NYXRoLnNpbihOKToxLHQueD10aGlzLngwK3RoaXMuYSpDKmEqTWF0aC5zaW4ociksdC55PXRoaXMueTArdGhpcy5hKkMqKHRoaXMuY29zX3AxMipoLXRoaXMuc2luX3AxMiphKk1hdGguY29zKHIpKSx0KToobj1ndCh0aGlzLmVzKSxlPXZ0KHRoaXMuZXMpLG89YnQodGhpcy5lcyksbD13dCh0aGlzLmVzKSxNYXRoLmFicyh0aGlzLnNpbl9wMTItMSk8PV8/KGM9dGhpcy5hKmoobixlLG8sbCxwKSx1PXRoaXMuYSpqKG4sZSxvLGwsaSksdC54PXRoaXMueDArKGMtdSkqTWF0aC5zaW4ociksdC55PXRoaXMueTAtKGMtdSkqTWF0aC5jb3MociksdCk6TWF0aC5hYnModGhpcy5zaW5fcDEyKzEpPD1fPyhjPXRoaXMuYSpqKG4sZSxvLGwscCksdT10aGlzLmEqaihuLGUsbyxsLGkpLHQueD10aGlzLngwKyhjK3UpKk1hdGguc2luKHIpLHQueT10aGlzLnkwKyhjK3UpKk1hdGguY29zKHIpLHQpOihNPWgvYSxkPWx0KHRoaXMuYSx0aGlzLmUsdGhpcy5zaW5fcDEyKSxmPWx0KHRoaXMuYSx0aGlzLmUsaCksbT1NYXRoLmF0YW4oKDEtdGhpcy5lcykqTSt0aGlzLmVzKmQqdGhpcy5zaW5fcDEyLyhmKmEpKSx4PU1hdGguYXRhbjIoTWF0aC5zaW4ociksdGhpcy5jb3NfcDEyKk1hdGgudGFuKG0pLXRoaXMuc2luX3AxMipNYXRoLmNvcyhyKSkseD09PTA/Tz1NYXRoLmFzaW4odGhpcy5jb3NfcDEyKk1hdGguc2luKG0pLXRoaXMuc2luX3AxMipNYXRoLmNvcyhtKSk6TWF0aC5hYnMoTWF0aC5hYnMoeCktTWF0aC5QSSk8PV8/Tz0tTWF0aC5hc2luKHRoaXMuY29zX3AxMipNYXRoLnNpbihtKS10aGlzLnNpbl9wMTIqTWF0aC5jb3MobSkpOk89TWF0aC5hc2luKE1hdGguc2luKHIpKk1hdGguY29zKG0pL01hdGguc2luKHgpKSxnPXRoaXMuZSp0aGlzLnNpbl9wMTIvTWF0aC5zcXJ0KDEtdGhpcy5lcyksYj10aGlzLmUqdGhpcy5jb3NfcDEyKk1hdGguY29zKHgpL01hdGguc3FydCgxLXRoaXMuZXMpLHc9ZypiLFA9YipiLFg9TypPLHN0PVgqTyxpdD1zdCpPLEJ0PWl0Kk8sTj1kKk8qKDEtWCpQKigxLVApLzYrc3QvOCp3KigxLTIqUCkraXQvMTIwKihQKig0LTcqUCktMypnKmcqKDEtNypQKSktQnQvNDgqdyksdC54PXRoaXMueDArTipNYXRoLnNpbih4KSx0Lnk9dGhpcy55MCtOKk1hdGguY29zKHgpLHQpKX1mdW5jdGlvbiBUZSh0KXt0LngtPXRoaXMueDAsdC55LT10aGlzLnkwO3ZhciBzLGksaCxhLHIsbixlLG8sbCxjLHUsTSxkLGYsbSx4LGcsYix3LFAsTixDLEwsTztyZXR1cm4gdGhpcy5zcGhlcmU/KHM9TWF0aC5zcXJ0KHQueCp0LngrdC55KnQueSkscz4yKnAqdGhpcy5hP3ZvaWQgMDooaT1zL3RoaXMuYSxoPU1hdGguc2luKGkpLGE9TWF0aC5jb3MoaSkscj10aGlzLmxvbmcwLE1hdGguYWJzKHMpPD1fP249dGhpcy5sYXQwOihuPVkoYSp0aGlzLnNpbl9wMTIrdC55KmgqdGhpcy5jb3NfcDEyL3MpLGU9TWF0aC5hYnModGhpcy5sYXQwKS1wLE1hdGguYWJzKGUpPD1fP3RoaXMubGF0MD49MD9yPXkodGhpcy5sb25nMCtNYXRoLmF0YW4yKHQueCwtdC55KSk6cj15KHRoaXMubG9uZzAtTWF0aC5hdGFuMigtdC54LHQueSkpOnI9eSh0aGlzLmxvbmcwK01hdGguYXRhbjIodC54Kmgscyp0aGlzLmNvc19wMTIqYS10LnkqdGhpcy5zaW5fcDEyKmgpKSksdC54PXIsdC55PW4sdCkpOihvPWd0KHRoaXMuZXMpLGw9dnQodGhpcy5lcyksYz1idCh0aGlzLmVzKSx1PXd0KHRoaXMuZXMpLE1hdGguYWJzKHRoaXMuc2luX3AxMi0xKTw9Xz8oTT10aGlzLmEqaihvLGwsYyx1LHApLHM9TWF0aC5zcXJ0KHQueCp0LngrdC55KnQueSksZD1NLXMsbj1UdChkL3RoaXMuYSxvLGwsYyx1KSxyPXkodGhpcy5sb25nMCtNYXRoLmF0YW4yKHQueCwtMSp0LnkpKSx0Lng9cix0Lnk9bix0KTpNYXRoLmFicyh0aGlzLnNpbl9wMTIrMSk8PV8/KE09dGhpcy5hKmoobyxsLGMsdSxwKSxzPU1hdGguc3FydCh0LngqdC54K3QueSp0LnkpLGQ9cy1NLG49VHQoZC90aGlzLmEsbyxsLGMsdSkscj15KHRoaXMubG9uZzArTWF0aC5hdGFuMih0LngsdC55KSksdC54PXIsdC55PW4sdCk6KHM9TWF0aC5zcXJ0KHQueCp0LngrdC55KnQueSkseD1NYXRoLmF0YW4yKHQueCx0LnkpLGY9bHQodGhpcy5hLHRoaXMuZSx0aGlzLnNpbl9wMTIpLGc9TWF0aC5jb3MoeCksYj10aGlzLmUqdGhpcy5jb3NfcDEyKmcsdz0tYipiLygxLXRoaXMuZXMpLFA9Myp0aGlzLmVzKigxLXcpKnRoaXMuc2luX3AxMip0aGlzLmNvc19wMTIqZy8oMS10aGlzLmVzKSxOPXMvZixDPU4tdyooMSt3KSpNYXRoLnBvdyhOLDMpLzYtUCooMSszKncpKk1hdGgucG93KE4sNCkvMjQsTD0xLXcqQypDLzItTipDKkMqQy82LG09TWF0aC5hc2luKHRoaXMuc2luX3AxMipNYXRoLmNvcyhDKSt0aGlzLmNvc19wMTIqTWF0aC5zaW4oQykqZykscj15KHRoaXMubG9uZzArTWF0aC5hc2luKE1hdGguc2luKHgpKk1hdGguc2luKEMpL01hdGguY29zKG0pKSksTz1NYXRoLnNpbihtKSxuPU1hdGguYXRhbjIoKE8tdGhpcy5lcypMKnRoaXMuc2luX3AxMikqTWF0aC50YW4obSksTyooMS10aGlzLmVzKSksdC54PXIsdC55PW4sdCkpfXZhciBqZT1bIkF6aW11dGhhbF9FcXVpZGlzdGFudCIsImFlcWQiXSxHZT17aW5pdDpSZSxmb3J3YXJkOkxlLGludmVyc2U6VGUsbmFtZXM6amV9O2Z1bmN0aW9uIEJlKCl7dGhpcy5zaW5fcDE0PU1hdGguc2luKHRoaXMubGF0MCksdGhpcy5jb3NfcDE0PU1hdGguY29zKHRoaXMubGF0MCl9ZnVuY3Rpb24gemUodCl7dmFyIHMsaSxoLGEscixuLGUsbyxsPXQueCxjPXQueTtyZXR1cm4gaD15KGwtdGhpcy5sb25nMCkscz1NYXRoLnNpbihjKSxpPU1hdGguY29zKGMpLGE9TWF0aC5jb3MoaCksbj10aGlzLnNpbl9wMTQqcyt0aGlzLmNvc19wMTQqaSphLHI9MSwobj4wfHxNYXRoLmFicyhuKTw9XykmJihlPXRoaXMuYSpyKmkqTWF0aC5zaW4oaCksbz10aGlzLnkwK3RoaXMuYSpyKih0aGlzLmNvc19wMTQqcy10aGlzLnNpbl9wMTQqaSphKSksdC54PWUsdC55PW8sdH1mdW5jdGlvbiBGZSh0KXt2YXIgcyxpLGgsYSxyLG4sZTtyZXR1cm4gdC54LT10aGlzLngwLHQueS09dGhpcy55MCxzPU1hdGguc3FydCh0LngqdC54K3QueSp0LnkpLGk9WShzL3RoaXMuYSksaD1NYXRoLnNpbihpKSxhPU1hdGguY29zKGkpLG49dGhpcy5sb25nMCxNYXRoLmFicyhzKTw9Xz8oZT10aGlzLmxhdDAsdC54PW4sdC55PWUsdCk6KGU9WShhKnRoaXMuc2luX3AxNCt0LnkqaCp0aGlzLmNvc19wMTQvcykscj1NYXRoLmFicyh0aGlzLmxhdDApLXAsTWF0aC5hYnMocik8PV8/KHRoaXMubGF0MD49MD9uPXkodGhpcy5sb25nMCtNYXRoLmF0YW4yKHQueCwtdC55KSk6bj15KHRoaXMubG9uZzAtTWF0aC5hdGFuMigtdC54LHQueSkpLHQueD1uLHQueT1lLHQpOihuPXkodGhpcy5sb25nMCtNYXRoLmF0YW4yKHQueCpoLHMqdGhpcy5jb3NfcDE0KmEtdC55KnRoaXMuc2luX3AxNCpoKSksdC54PW4sdC55PWUsdCkpfXZhciBEZT1bIm9ydGhvIl0sVWU9e2luaXQ6QmUsZm9yd2FyZDp6ZSxpbnZlcnNlOkZlLG5hbWVzOkRlfSxTPXtGUk9OVDoxLFJJR0hUOjIsQkFDSzozLExFRlQ6NCxUT1A6NSxCT1RUT006Nn0sRT17QVJFQV8wOjEsQVJFQV8xOjIsQVJFQV8yOjMsQVJFQV8zOjR9O2Z1bmN0aW9uIFFlKCl7dGhpcy54MD10aGlzLngwfHwwLHRoaXMueTA9dGhpcy55MHx8MCx0aGlzLmxhdDA9dGhpcy5sYXQwfHwwLHRoaXMubG9uZzA9dGhpcy5sb25nMHx8MCx0aGlzLmxhdF90cz10aGlzLmxhdF90c3x8MCx0aGlzLnRpdGxlPXRoaXMudGl0bGV8fCJRdWFkcmlsYXRlcmFsaXplZCBTcGhlcmljYWwgQ3ViZSIsdGhpcy5sYXQwPj1wLUEvMj90aGlzLmZhY2U9Uy5UT1A6dGhpcy5sYXQwPD0tKHAtQS8yKT90aGlzLmZhY2U9Uy5CT1RUT006TWF0aC5hYnModGhpcy5sb25nMCk8PUE/dGhpcy5mYWNlPVMuRlJPTlQ6TWF0aC5hYnModGhpcy5sb25nMCk8PXArQT90aGlzLmZhY2U9dGhpcy5sb25nMD4wP1MuUklHSFQ6Uy5MRUZUOnRoaXMuZmFjZT1TLkJBQ0ssdGhpcy5lcyE9PTAmJih0aGlzLm9uZV9taW51c19mPTEtKHRoaXMuYS10aGlzLmIpL3RoaXMuYSx0aGlzLm9uZV9taW51c19mX3NxdWFyZWQ9dGhpcy5vbmVfbWludXNfZip0aGlzLm9uZV9taW51c19mKX1mdW5jdGlvbiBXZSh0KXt2YXIgcz17eDowLHk6MH0saSxoLGEscixuLGUsbz17dmFsdWU6MH07aWYodC54LT10aGlzLmxvbmcwLHRoaXMuZXMhPT0wP2k9TWF0aC5hdGFuKHRoaXMub25lX21pbnVzX2Zfc3F1YXJlZCpNYXRoLnRhbih0LnkpKTppPXQueSxoPXQueCx0aGlzLmZhY2U9PT1TLlRPUClyPXAtaSxoPj1BJiZoPD1wK0E/KG8udmFsdWU9RS5BUkVBXzAsYT1oLXApOmg+cCtBfHxoPD0tKHArQSk/KG8udmFsdWU9RS5BUkVBXzEsYT1oPjA/aC1JOmgrSSk6aD4tKHArQSkmJmg8PS1BPyhvLnZhbHVlPUUuQVJFQV8yLGE9aCtwKTooby52YWx1ZT1FLkFSRUFfMyxhPWgpO2Vsc2UgaWYodGhpcy5mYWNlPT09Uy5CT1RUT00pcj1wK2ksaD49QSYmaDw9cCtBPyhvLnZhbHVlPUUuQVJFQV8wLGE9LWgrcCk6aDxBJiZoPj0tQT8oby52YWx1ZT1FLkFSRUFfMSxhPS1oKTpoPC1BJiZoPj0tKHArQSk/KG8udmFsdWU9RS5BUkVBXzIsYT0taC1wKTooby52YWx1ZT1FLkFSRUFfMyxhPWg+MD8taCtJOi1oLUkpO2Vsc2V7dmFyIGwsYyx1LE0sZCxmLG07dGhpcy5mYWNlPT09Uy5SSUdIVD9oPWN0KGgsK3ApOnRoaXMuZmFjZT09PVMuQkFDSz9oPWN0KGgsK0kpOnRoaXMuZmFjZT09PVMuTEVGVCYmKGg9Y3QoaCwtcCkpLE09TWF0aC5zaW4oaSksZD1NYXRoLmNvcyhpKSxmPU1hdGguc2luKGgpLG09TWF0aC5jb3MoaCksbD1kKm0sYz1kKmYsdT1NLHRoaXMuZmFjZT09PVMuRlJPTlQ/KHI9TWF0aC5hY29zKGwpLGE9anQocix1LGMsbykpOnRoaXMuZmFjZT09PVMuUklHSFQ/KHI9TWF0aC5hY29zKGMpLGE9anQocix1LC1sLG8pKTp0aGlzLmZhY2U9PT1TLkJBQ0s/KHI9TWF0aC5hY29zKC1sKSxhPWp0KHIsdSwtYyxvKSk6dGhpcy5mYWNlPT09Uy5MRUZUPyhyPU1hdGguYWNvcygtYyksYT1qdChyLHUsbCxvKSk6KHI9YT0wLG8udmFsdWU9RS5BUkVBXzApfXJldHVybiBlPU1hdGguYXRhbigxMi9JKihhK01hdGguYWNvcyhNYXRoLnNpbihhKSpNYXRoLmNvcyhBKSktcCkpLG49TWF0aC5zcXJ0KCgxLU1hdGguY29zKHIpKS8oTWF0aC5jb3MoZSkqTWF0aC5jb3MoZSkpLygxLU1hdGguY29zKE1hdGguYXRhbigxL01hdGguY29zKGEpKSkpKSxvLnZhbHVlPT09RS5BUkVBXzE/ZSs9cDpvLnZhbHVlPT09RS5BUkVBXzI/ZSs9STpvLnZhbHVlPT09RS5BUkVBXzMmJihlKz0xLjUqSSkscy54PW4qTWF0aC5jb3MoZSkscy55PW4qTWF0aC5zaW4oZSkscy54PXMueCp0aGlzLmErdGhpcy54MCxzLnk9cy55KnRoaXMuYSt0aGlzLnkwLHQueD1zLngsdC55PXMueSx0fWZ1bmN0aW9uIEhlKHQpe3ZhciBzPXtsYW06MCxwaGk6MH0saSxoLGEscixuLGUsbyxsLGMsdT17dmFsdWU6MH07aWYodC54PSh0LngtdGhpcy54MCkvdGhpcy5hLHQueT0odC55LXRoaXMueTApL3RoaXMuYSxoPU1hdGguYXRhbihNYXRoLnNxcnQodC54KnQueCt0LnkqdC55KSksaT1NYXRoLmF0YW4yKHQueSx0LngpLHQueD49MCYmdC54Pj1NYXRoLmFicyh0LnkpP3UudmFsdWU9RS5BUkVBXzA6dC55Pj0wJiZ0Lnk+PU1hdGguYWJzKHQueCk/KHUudmFsdWU9RS5BUkVBXzEsaS09cCk6dC54PDAmJi10Lng+PU1hdGguYWJzKHQueSk/KHUudmFsdWU9RS5BUkVBXzIsaT1pPDA/aStJOmktSSk6KHUudmFsdWU9RS5BUkVBXzMsaSs9cCksYz1JLzEyKk1hdGgudGFuKGkpLG49TWF0aC5zaW4oYykvKE1hdGguY29zKGMpLTEvTWF0aC5zcXJ0KDIpKSxlPU1hdGguYXRhbihuKSxhPU1hdGguY29zKGkpLHI9TWF0aC50YW4oaCksbz0xLWEqYSpyKnIqKDEtTWF0aC5jb3MoTWF0aC5hdGFuKDEvTWF0aC5jb3MoZSkpKSksbzwtMT9vPS0xOm8+MSYmKG89MSksdGhpcy5mYWNlPT09Uy5UT1ApbD1NYXRoLmFjb3Mobykscy5waGk9cC1sLHUudmFsdWU9PT1FLkFSRUFfMD9zLmxhbT1lK3A6dS52YWx1ZT09PUUuQVJFQV8xP3MubGFtPWU8MD9lK0k6ZS1JOnUudmFsdWU9PT1FLkFSRUFfMj9zLmxhbT1lLXA6cy5sYW09ZTtlbHNlIGlmKHRoaXMuZmFjZT09PVMuQk9UVE9NKWw9TWF0aC5hY29zKG8pLHMucGhpPWwtcCx1LnZhbHVlPT09RS5BUkVBXzA/cy5sYW09LWUrcDp1LnZhbHVlPT09RS5BUkVBXzE/cy5sYW09LWU6dS52YWx1ZT09PUUuQVJFQV8yP3MubGFtPS1lLXA6cy5sYW09ZTwwPy1lLUk6LWUrSTtlbHNle3ZhciBNLGQsZjtNPW8sYz1NKk0sYz49MT9mPTA6Zj1NYXRoLnNxcnQoMS1jKSpNYXRoLnNpbihlKSxjKz1mKmYsYz49MT9kPTA6ZD1NYXRoLnNxcnQoMS1jKSx1LnZhbHVlPT09RS5BUkVBXzE/KGM9ZCxkPS1mLGY9Yyk6dS52YWx1ZT09PUUuQVJFQV8yPyhkPS1kLGY9LWYpOnUudmFsdWU9PT1FLkFSRUFfMyYmKGM9ZCxkPWYsZj0tYyksdGhpcy5mYWNlPT09Uy5SSUdIVD8oYz1NLE09LWQsZD1jKTp0aGlzLmZhY2U9PT1TLkJBQ0s/KE09LU0sZD0tZCk6dGhpcy5mYWNlPT09Uy5MRUZUJiYoYz1NLE09ZCxkPS1jKSxzLnBoaT1NYXRoLmFjb3MoLWYpLXAscy5sYW09TWF0aC5hdGFuMihkLE0pLHRoaXMuZmFjZT09PVMuUklHSFQ/cy5sYW09Y3Qocy5sYW0sLXApOnRoaXMuZmFjZT09PVMuQkFDSz9zLmxhbT1jdChzLmxhbSwtSSk6dGhpcy5mYWNlPT09Uy5MRUZUJiYocy5sYW09Y3Qocy5sYW0sK3ApKX1pZih0aGlzLmVzIT09MCl7dmFyIG0seCxnO209cy5waGk8MD8xOjAseD1NYXRoLnRhbihzLnBoaSksZz10aGlzLmIvTWF0aC5zcXJ0KHgqeCt0aGlzLm9uZV9taW51c19mX3NxdWFyZWQpLHMucGhpPU1hdGguYXRhbihNYXRoLnNxcnQodGhpcy5hKnRoaXMuYS1nKmcpLyh0aGlzLm9uZV9taW51c19mKmcpKSxtJiYocy5waGk9LXMucGhpKX1yZXR1cm4gcy5sYW0rPXRoaXMubG9uZzAsdC54PXMubGFtLHQueT1zLnBoaSx0fWZ1bmN0aW9uIGp0KHQscyxpLGgpe3ZhciBhO3JldHVybiB0PF8/KGgudmFsdWU9RS5BUkVBXzAsYT0wKTooYT1NYXRoLmF0YW4yKHMsaSksTWF0aC5hYnMoYSk8PUE/aC52YWx1ZT1FLkFSRUFfMDphPkEmJmE8PXArQT8oaC52YWx1ZT1FLkFSRUFfMSxhLT1wKTphPnArQXx8YTw9LShwK0EpPyhoLnZhbHVlPUUuQVJFQV8yLGE9YT49MD9hLUk6YStJKTooaC52YWx1ZT1FLkFSRUFfMyxhKz1wKSksYX1mdW5jdGlvbiBjdCh0LHMpe3ZhciBpPXQrcztyZXR1cm4gaTwtST9pKz1kdDppPitJJiYoaS09ZHQpLGl9dmFyIFhlPVsiUXVhZHJpbGF0ZXJhbGl6ZWQgU3BoZXJpY2FsIEN1YmUiLCJRdWFkcmlsYXRlcmFsaXplZF9TcGhlcmljYWxfQ3ViZSIsInFzYyJdLEplPXtpbml0OlFlLGZvcndhcmQ6V2UsaW52ZXJzZTpIZSxuYW1lczpYZX0sVnQ9W1sxLDIyMTk5ZS0yMSwtNzE1NTE1ZS0xMCwzMTEwM2UtMTBdLFsuOTk4NiwtNDgyMjQzZS05LC0yNDg5N2UtOSwtMTMzMDllLTEwXSxbLjk5NTQsLTgzMTAzZS04LC00NDg2MDVlLTEwLC05ODY3MDFlLTEyXSxbLjk5LC0uMDAxMzUzNjQsLTU5NjYxZS05LDM2Nzc3ZS0xMF0sWy45ODIyLC0uMDAxNjc0NDIsLTQ0OTU0N2UtMTEsLTU3MjQxMWUtMTFdLFsuOTczLC0uMDAyMTQ4NjgsLTkwMzU3MWUtMTAsMTg3MzZlLTEyXSxbLjk2LC0uMDAzMDUwODUsLTkwMDc2MWUtMTAsMTY0OTE3ZS0xMV0sWy45NDI3LC0uMDAzODI3OTIsLTY1MzM4NmUtMTAsLTI2MTU0ZS0xMF0sWy45MjE2LC0uMDA0Njc3NDYsLTEwNDU3ZS04LDQ4MTI0M2UtMTFdLFsuODk2MiwtLjAwNTM2MjIzLC0zMjM4MzFlLTEwLC01NDM0MzJlLTExXSxbLjg2NzksLS4wMDYwOTM2MywtMTEzODk4ZS05LDMzMjQ4NGUtMTFdLFsuODM1LC0uMDA2OTgzMjUsLTY0MDI1M2UtMTAsOTM0OTU5ZS0xMl0sWy43OTg2LC0uMDA3NTUzMzgsLTUwMDAwOWUtMTAsOTM1MzI0ZS0xMl0sWy43NTk3LC0uMDA3OTgzMjQsLTM1OTcxZS05LC0yMjc2MjZlLTExXSxbLjcxODYsLS4wMDg1MTM2NywtNzAxMTQ5ZS0xMCwtODYzMDNlLTEwXSxbLjY3MzIsLS4wMDk4NjIwOSwtMTk5NTY5ZS05LDE5MTk3NGUtMTBdLFsuNjIxMywtLjAxMDQxOCw4ODM5MjNlLTEwLDYyNDA1MWUtMTFdLFsuNTcyMiwtLjAwOTA2NjAxLDE4MmUtNiw2MjQwNTFlLTExXSxbLjUzMjIsLS4wMDY3Nzc5NywyNzU2MDhlLTksNjI0MDUxZS0xMV1dLE50PVtbLTUyMDQxN2UtMjMsLjAxMjQsMTIxNDMxZS0yMywtODQ1Mjg0ZS0xNl0sWy4wNjIsLjAxMjQsLTEyNjc5M2UtMTQsNDIyNjQyZS0xNV0sWy4xMjQsLjAxMjQsNTA3MTcxZS0xNCwtMTYwNjA0ZS0xNF0sWy4xODYsLjAxMjM5OTksLTE5MDE4OWUtMTMsNjAwMTUyZS0xNF0sWy4yNDgsLjAxMjQwMDIsNzEwMDM5ZS0xMywtMjI0ZS0xMF0sWy4zMSwuMDEyMzk5MiwtMjY0OTk3ZS0xMiw4MzU5ODZlLTEzXSxbLjM3MiwuMDEyNDAyOSw5ODg5ODNlLTEyLC0zMTE5OTRlLTEyXSxbLjQzNCwuMDEyMzg5MywtMzY5MDkzZS0xMSwtNDM1NjIxZS0xMl0sWy40OTU4LC4wMTIzMTk4LC0xMDIyNTJlLTEwLC0zNDU1MjNlLTEyXSxbLjU1NzEsLjAxMjE5MTYsLTE1NDA4MWUtMTAsLTU4MjI4OGUtMTJdLFsuNjE3NiwuMDExOTkzOCwtMjQxNDI0ZS0xMCwtNTI1MzI3ZS0xMl0sWy42NzY5LC4wMTE3MTMsLTMyMDIyM2UtMTAsLTUxNjQwNWUtMTJdLFsuNzM0NiwuMDExMzU0MSwtMzk3Njg0ZS0xMCwtNjA5MDUyZS0xMl0sWy43OTAzLC4wMTA5MTA3LC00ODkwNDJlLTEwLC0xMDQ3MzllLTExXSxbLjg0MzUsLjAxMDM0MzEsLTY0NjE1ZS05LC0xNDAzNzRlLTE0XSxbLjg5MzYsLjAwOTY5Njg2LC02NDYzNmUtOSwtODU0N2UtOV0sWy45Mzk0LC4wMDg0MDk0NywtMTkyODQxZS05LC00MjEwNmUtMTBdLFsuOTc2MSwuMDA2MTY1MjcsLTI1NmUtNiwtNDIxMDZlLTEwXSxbMSwuMDAzMjg5NDcsLTMxOTE1OWUtOSwtNDIxMDZlLTEwXV0sTHM9Ljg0ODcsVHM9MS4zNTIzLGpzPVEvNSxLZT0xL2pzLE10PTE4LEd0PWZ1bmN0aW9uKHQscyl7cmV0dXJuIHRbMF0rcyoodFsxXStzKih0WzJdK3MqdFszXSkpfSxWZT1mdW5jdGlvbih0LHMpe3JldHVybiB0WzFdK3MqKDIqdFsyXStzKjMqdFszXSl9O2Z1bmN0aW9uIFplKHQscyxpLGgpe2Zvcih2YXIgYT1zO2g7LS1oKXt2YXIgcj10KGEpO2lmKGEtPXIsTWF0aC5hYnMocik8aSlicmVha31yZXR1cm4gYX1mdW5jdGlvbiBZZSgpe3RoaXMueDA9dGhpcy54MHx8MCx0aGlzLnkwPXRoaXMueTB8fDAsdGhpcy5sb25nMD10aGlzLmxvbmcwfHwwLHRoaXMuZXM9MCx0aGlzLnRpdGxlPXRoaXMudGl0bGV8fCJSb2JpbnNvbiJ9ZnVuY3Rpb24gJGUodCl7dmFyIHM9eSh0LngtdGhpcy5sb25nMCksaT1NYXRoLmFicyh0LnkpLGg9TWF0aC5mbG9vcihpKmpzKTtoPDA/aD0wOmg+PU10JiYoaD1NdC0xKSxpPVEqKGktS2UqaCk7dmFyIGE9e3g6R3QoVnRbaF0saSkqcyx5Okd0KE50W2hdLGkpfTtyZXR1cm4gdC55PDAmJihhLnk9LWEueSksYS54PWEueCp0aGlzLmEqTHMrdGhpcy54MCxhLnk9YS55KnRoaXMuYSpUcyt0aGlzLnkwLGF9ZnVuY3Rpb24gdHIodCl7dmFyIHM9e3g6KHQueC10aGlzLngwKS8odGhpcy5hKkxzKSx5Ok1hdGguYWJzKHQueS10aGlzLnkwKS8odGhpcy5hKlRzKX07aWYocy55Pj0xKXMueC89VnRbTXRdWzBdLHMueT10Lnk8MD8tcDpwO2Vsc2V7dmFyIGk9TWF0aC5mbG9vcihzLnkqTXQpO2ZvcihpPDA/aT0wOmk+PU10JiYoaT1NdC0xKTs7KWlmKE50W2ldWzBdPnMueSktLWk7ZWxzZSBpZihOdFtpKzFdWzBdPD1zLnkpKytpO2Vsc2UgYnJlYWs7dmFyIGg9TnRbaV0sYT01KihzLnktaFswXSkvKE50W2krMV1bMF0taFswXSk7YT1aZShmdW5jdGlvbihyKXtyZXR1cm4oR3QoaCxyKS1zLnkpL1ZlKGgscil9LGEsXywxMDApLHMueC89R3QoVnRbaV0sYSkscy55PSg1KmkrYSkqcSx0Lnk8MCYmKHMueT0tcy55KX1yZXR1cm4gcy54PXkocy54K3RoaXMubG9uZzApLHN9dmFyIHNyPVsiUm9iaW5zb24iLCJyb2JpbiJdLGlyPXtpbml0OlllLGZvcndhcmQ6JGUsaW52ZXJzZTp0cixuYW1lczpzcn07ZnVuY3Rpb24gYXIoKXt0aGlzLm5hbWU9Imdlb2NlbnQifWZ1bmN0aW9uIGhyKHQpe3ZhciBzPXVzKHQsdGhpcy5lcyx0aGlzLmEpO3JldHVybiBzfWZ1bmN0aW9uIGVyKHQpe3ZhciBzPWNzKHQsdGhpcy5lcyx0aGlzLmEsdGhpcy5iKTtyZXR1cm4gc312YXIgcnI9WyJHZW9jZW50cmljIiwiZ2VvY2VudHJpYyIsImdlb2NlbnQiLCJHZW9jZW50Il0sbnI9e2luaXQ6YXIsZm9yd2FyZDpocixpbnZlcnNlOmVyLG5hbWVzOnJyfSxSPXtOX1BPTEU6MCxTX1BPTEU6MSxFUVVJVDoyLE9CTElROjN9LEF0PXtoOntkZWY6MWU1LG51bTohMH0sYXppOntkZWY6MCxudW06ITAsZGVncmVlczohMH0sdGlsdDp7ZGVmOjAsbnVtOiEwLGRlZ3JlZXM6ITB9LGxvbmcwOntkZWY6MCxudW06ITB9LGxhdDA6e2RlZjowLG51bTohMH19O2Z1bmN0aW9uIG9yKCl7aWYoT2JqZWN0LmtleXMoQXQpLmZvckVhY2goZnVuY3Rpb24oaSl7aWYodHlwZW9mIHRoaXNbaV0+InUiKXRoaXNbaV09QXRbaV0uZGVmO2Vsc2V7aWYoQXRbaV0ubnVtJiZpc05hTih0aGlzW2ldKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgcGFyYW1ldGVyIHZhbHVlLCBtdXN0IGJlIG51bWVyaWMgIitpKyIgPSAiK3RoaXNbaV0pO0F0W2ldLm51bSYmKHRoaXNbaV09cGFyc2VGbG9hdCh0aGlzW2ldKSl9QXRbaV0uZGVncmVlcyYmKHRoaXNbaV09dGhpc1tpXSpxKX0uYmluZCh0aGlzKSksTWF0aC5hYnMoTWF0aC5hYnModGhpcy5sYXQwKS1wKTxfP3RoaXMubW9kZT10aGlzLmxhdDA8MD9SLlNfUE9MRTpSLk5fUE9MRTpNYXRoLmFicyh0aGlzLmxhdDApPF8/dGhpcy5tb2RlPVIuRVFVSVQ6KHRoaXMubW9kZT1SLk9CTElRLHRoaXMuc2lucGgwPU1hdGguc2luKHRoaXMubGF0MCksdGhpcy5jb3NwaDA9TWF0aC5jb3ModGhpcy5sYXQwKSksdGhpcy5wbjE9dGhpcy5oL3RoaXMuYSx0aGlzLnBuMTw9MHx8dGhpcy5wbjE+MWUxMCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgaGVpZ2h0Iik7dGhpcy5wPTErdGhpcy5wbjEsdGhpcy5ycD0xL3RoaXMucCx0aGlzLmgxPTEvdGhpcy5wbjEsdGhpcy5wZmFjdD0odGhpcy5wKzEpKnRoaXMuaDEsdGhpcy5lcz0wO3ZhciB0PXRoaXMudGlsdCxzPXRoaXMuYXppO3RoaXMuY2c9TWF0aC5jb3MocyksdGhpcy5zZz1NYXRoLnNpbihzKSx0aGlzLmN3PU1hdGguY29zKHQpLHRoaXMuc3c9TWF0aC5zaW4odCl9ZnVuY3Rpb24gbHIodCl7dC54LT10aGlzLmxvbmcwO3ZhciBzPU1hdGguc2luKHQueSksaT1NYXRoLmNvcyh0LnkpLGg9TWF0aC5jb3ModC54KSxhLHI7c3dpdGNoKHRoaXMubW9kZSl7Y2FzZSBSLk9CTElROnI9dGhpcy5zaW5waDAqcyt0aGlzLmNvc3BoMCppKmg7YnJlYWs7Y2FzZSBSLkVRVUlUOnI9aSpoO2JyZWFrO2Nhc2UgUi5TX1BPTEU6cj0tczticmVhaztjYXNlIFIuTl9QT0xFOnI9czticmVha31zd2l0Y2gocj10aGlzLnBuMS8odGhpcy5wLXIpLGE9cippKk1hdGguc2luKHQueCksdGhpcy5tb2RlKXtjYXNlIFIuT0JMSVE6cio9dGhpcy5jb3NwaDAqcy10aGlzLnNpbnBoMCppKmg7YnJlYWs7Y2FzZSBSLkVRVUlUOnIqPXM7YnJlYWs7Y2FzZSBSLk5fUE9MRTpyKj0tKGkqaCk7YnJlYWs7Y2FzZSBSLlNfUE9MRTpyKj1pKmg7YnJlYWt9dmFyIG4sZTtyZXR1cm4gbj1yKnRoaXMuY2crYSp0aGlzLnNnLGU9MS8obip0aGlzLnN3KnRoaXMuaDErdGhpcy5jdyksYT0oYSp0aGlzLmNnLXIqdGhpcy5zZykqdGhpcy5jdyplLHI9biplLHQueD1hKnRoaXMuYSx0Lnk9cip0aGlzLmEsdH1mdW5jdGlvbiB1cih0KXt0LngvPXRoaXMuYSx0LnkvPXRoaXMuYTt2YXIgcz17eDp0LngseTp0Lnl9LGksaCxhO2E9MS8odGhpcy5wbjEtdC55KnRoaXMuc3cpLGk9dGhpcy5wbjEqdC54KmEsaD10aGlzLnBuMSp0LnkqdGhpcy5jdyphLHQueD1pKnRoaXMuY2craCp0aGlzLnNnLHQueT1oKnRoaXMuY2ctaSp0aGlzLnNnO3ZhciByPVUodC54LHQueSk7aWYoTWF0aC5hYnMocik8XylzLng9MCxzLnk9dC55O2Vsc2V7dmFyIG4sZTtzd2l0Y2goZT0xLXIqcip0aGlzLnBmYWN0LGU9KHRoaXMucC1NYXRoLnNxcnQoZSkpLyh0aGlzLnBuMS9yK3IvdGhpcy5wbjEpLG49TWF0aC5zcXJ0KDEtZSplKSx0aGlzLm1vZGUpe2Nhc2UgUi5PQkxJUTpzLnk9TWF0aC5hc2luKG4qdGhpcy5zaW5waDArdC55KmUqdGhpcy5jb3NwaDAvciksdC55PShuLXRoaXMuc2lucGgwKk1hdGguc2luKHMueSkpKnIsdC54Kj1lKnRoaXMuY29zcGgwO2JyZWFrO2Nhc2UgUi5FUVVJVDpzLnk9TWF0aC5hc2luKHQueSplL3IpLHQueT1uKnIsdC54Kj1lO2JyZWFrO2Nhc2UgUi5OX1BPTEU6cy55PU1hdGguYXNpbihuKSx0Lnk9LXQueTticmVhaztjYXNlIFIuU19QT0xFOnMueT0tTWF0aC5hc2luKG4pO2JyZWFrfXMueD1NYXRoLmF0YW4yKHQueCx0LnkpfXJldHVybiB0Lng9cy54K3RoaXMubG9uZzAsdC55PXMueSx0fXZhciBjcj1bIlRpbHRlZF9QZXJzcGVjdGl2ZSIsInRwZXJzIl0sTXI9e2luaXQ6b3IsZm9yd2FyZDpscixpbnZlcnNlOnVyLG5hbWVzOmNyfTtmdW5jdGlvbiBmcigpe2lmKHRoaXMuZmxpcF9heGlzPXRoaXMuc3dlZXA9PT0ieCI/MTowLHRoaXMuaD1OdW1iZXIodGhpcy5oKSx0aGlzLnJhZGl1c19nXzE9dGhpcy5oL3RoaXMuYSx0aGlzLnJhZGl1c19nXzE8PTB8fHRoaXMucmFkaXVzX2dfMT4xZTEwKXRocm93IG5ldyBFcnJvcjtpZih0aGlzLnJhZGl1c19nPTErdGhpcy5yYWRpdXNfZ18xLHRoaXMuQz10aGlzLnJhZGl1c19nKnRoaXMucmFkaXVzX2ctMSx0aGlzLmVzIT09MCl7dmFyIHQ9MS10aGlzLmVzLHM9MS90O3RoaXMucmFkaXVzX3A9TWF0aC5zcXJ0KHQpLHRoaXMucmFkaXVzX3AyPXQsdGhpcy5yYWRpdXNfcF9pbnYyPXMsdGhpcy5zaGFwZT0iZWxsaXBzZSJ9ZWxzZSB0aGlzLnJhZGl1c19wPTEsdGhpcy5yYWRpdXNfcDI9MSx0aGlzLnJhZGl1c19wX2ludjI9MSx0aGlzLnNoYXBlPSJzcGhlcmUiO3RoaXMudGl0bGV8fCh0aGlzLnRpdGxlPSJHZW9zdGF0aW9uYXJ5IFNhdGVsbGl0ZSBWaWV3Iil9ZnVuY3Rpb24gZHIodCl7dmFyIHM9dC54LGk9dC55LGgsYSxyLG47aWYocz1zLXRoaXMubG9uZzAsdGhpcy5zaGFwZT09PSJlbGxpcHNlIil7aT1NYXRoLmF0YW4odGhpcy5yYWRpdXNfcDIqTWF0aC50YW4oaSkpO3ZhciBlPXRoaXMucmFkaXVzX3AvVSh0aGlzLnJhZGl1c19wKk1hdGguY29zKGkpLE1hdGguc2luKGkpKTtpZihhPWUqTWF0aC5jb3MocykqTWF0aC5jb3MoaSkscj1lKk1hdGguc2luKHMpKk1hdGguY29zKGkpLG49ZSpNYXRoLnNpbihpKSwodGhpcy5yYWRpdXNfZy1hKSphLXIqci1uKm4qdGhpcy5yYWRpdXNfcF9pbnYyPDApcmV0dXJuIHQueD1OdW1iZXIuTmFOLHQueT1OdW1iZXIuTmFOLHQ7aD10aGlzLnJhZGl1c19nLWEsdGhpcy5mbGlwX2F4aXM/KHQueD10aGlzLnJhZGl1c19nXzEqTWF0aC5hdGFuKHIvVShuLGgpKSx0Lnk9dGhpcy5yYWRpdXNfZ18xKk1hdGguYXRhbihuL2gpKToodC54PXRoaXMucmFkaXVzX2dfMSpNYXRoLmF0YW4oci9oKSx0Lnk9dGhpcy5yYWRpdXNfZ18xKk1hdGguYXRhbihuL1UocixoKSkpfWVsc2UgdGhpcy5zaGFwZT09PSJzcGhlcmUiJiYoaD1NYXRoLmNvcyhpKSxhPU1hdGguY29zKHMpKmgscj1NYXRoLnNpbihzKSpoLG49TWF0aC5zaW4oaSksaD10aGlzLnJhZGl1c19nLWEsdGhpcy5mbGlwX2F4aXM/KHQueD10aGlzLnJhZGl1c19nXzEqTWF0aC5hdGFuKHIvVShuLGgpKSx0Lnk9dGhpcy5yYWRpdXNfZ18xKk1hdGguYXRhbihuL2gpKToodC54PXRoaXMucmFkaXVzX2dfMSpNYXRoLmF0YW4oci9oKSx0Lnk9dGhpcy5yYWRpdXNfZ18xKk1hdGguYXRhbihuL1UocixoKSkpKTtyZXR1cm4gdC54PXQueCp0aGlzLmEsdC55PXQueSp0aGlzLmEsdH1mdW5jdGlvbiBwcih0KXt2YXIgcz0tMSxpPTAsaD0wLGEscixuLGU7aWYodC54PXQueC90aGlzLmEsdC55PXQueS90aGlzLmEsdGhpcy5zaGFwZT09PSJlbGxpcHNlIil7dGhpcy5mbGlwX2F4aXM/KGg9TWF0aC50YW4odC55L3RoaXMucmFkaXVzX2dfMSksaT1NYXRoLnRhbih0LngvdGhpcy5yYWRpdXNfZ18xKSpVKDEsaCkpOihpPU1hdGgudGFuKHQueC90aGlzLnJhZGl1c19nXzEpLGg9TWF0aC50YW4odC55L3RoaXMucmFkaXVzX2dfMSkqVSgxLGkpKTt2YXIgbz1oL3RoaXMucmFkaXVzX3A7aWYoYT1pKmkrbypvK3MqcyxyPTIqdGhpcy5yYWRpdXNfZypzLG49cipyLTQqYSp0aGlzLkMsbjwwKXJldHVybiB0Lng9TnVtYmVyLk5hTix0Lnk9TnVtYmVyLk5hTix0O2U9KC1yLU1hdGguc3FydChuKSkvKDIqYSkscz10aGlzLnJhZGl1c19nK2UqcyxpKj1lLGgqPWUsdC54PU1hdGguYXRhbjIoaSxzKSx0Lnk9TWF0aC5hdGFuKGgqTWF0aC5jb3ModC54KS9zKSx0Lnk9TWF0aC5hdGFuKHRoaXMucmFkaXVzX3BfaW52MipNYXRoLnRhbih0LnkpKX1lbHNlIGlmKHRoaXMuc2hhcGU9PT0ic3BoZXJlIil7aWYodGhpcy5mbGlwX2F4aXM/KGg9TWF0aC50YW4odC55L3RoaXMucmFkaXVzX2dfMSksaT1NYXRoLnRhbih0LngvdGhpcy5yYWRpdXNfZ18xKSpNYXRoLnNxcnQoMStoKmgpKTooaT1NYXRoLnRhbih0LngvdGhpcy5yYWRpdXNfZ18xKSxoPU1hdGgudGFuKHQueS90aGlzLnJhZGl1c19nXzEpKk1hdGguc3FydCgxK2kqaSkpLGE9aSppK2gqaCtzKnMscj0yKnRoaXMucmFkaXVzX2cqcyxuPXIqci00KmEqdGhpcy5DLG48MClyZXR1cm4gdC54PU51bWJlci5OYU4sdC55PU51bWJlci5OYU4sdDtlPSgtci1NYXRoLnNxcnQobikpLygyKmEpLHM9dGhpcy5yYWRpdXNfZytlKnMsaSo9ZSxoKj1lLHQueD1NYXRoLmF0YW4yKGkscyksdC55PU1hdGguYXRhbihoKk1hdGguY29zKHQueCkvcyl9cmV0dXJuIHQueD10LngrdGhpcy5sb25nMCx0fXZhciBtcj1bIkdlb3N0YXRpb25hcnkgU2F0ZWxsaXRlIFZpZXciLCJHZW9zdGF0aW9uYXJ5X1NhdGVsbGl0ZSIsImdlb3MiXSxfcj17aW5pdDpmcixmb3J3YXJkOmRyLGludmVyc2U6cHIsbmFtZXM6bXJ9O2Z1bmN0aW9uIHlyKHQpe3QuUHJvai5wcm9qZWN0aW9ucy5hZGQoUnQpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoTHQpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoTmEpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoUmEpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoemEpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoV2EpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoWmEpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoaWgpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQobmgpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoTWgpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoU2gpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoTGgpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoemgpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoSGgpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoWmgpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoaWUpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQobmUpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoTWUpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoeWUpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQod2UpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoUGUpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQocWUpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoR2UpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoVWUpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoSmUpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoaXIpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQobnIpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoTXIpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoX3IpfXouZGVmYXVsdERhdHVtPSJXR1M4NCIsei5Qcm9qPUgsei5XR1M4ND1uZXcgei5Qcm9qKCJXR1M4NCIpLHouUG9pbnQ9bnQsei50b1BvaW50PXBzLHouZGVmcz1ULHoubmFkZ3JpZD1FaSx6LnRyYW5zZm9ybT1rdCx6Lm1ncnM9RGksei52ZXJzaW9uPSJfX1ZFUlNJT05fXyIseXIoeik7ZnVuY3Rpb24geHIodCl7Y29uc3Qgcz10LmRhdGEucHJvakluLGk9dC5kYXRhLnByb2pPdXQsaD16KHMsaSksYT10LmRhdGEucG9pbnRzLHI9W107Zm9yKGNvbnN0IG4gb2YgYSl7Y29uc3QgZT1oLmZvcndhcmQobik7ci5wdXNoKGUpfXBvc3RNZXNzYWdlKHtwb2ludHM6cn0pfW9ubWVzc2FnZT14cn0pLHpzPUJzKCk7cmV0dXJuIHpzfSgpOwoK",null,!1),sU=(t,i,e)=>new Promise((s,n)=>{var l=o=>{try{a(e.next(o))}catch(c){n(c)}},r=o=>{try{a(e.throw(o))}catch(c){n(c)}},a=o=>o.done?s(o.value):Promise.resolve(o.value).then(l,r);a((e=e.apply(t,i)).next())});class yZ{constructor(i){this.layers=new tU,this.showStats=!1,this.preserveDrawingBuffer=!1,this.prevControlDistance=0,this.domEl=i.domEl,this.showStats=i.showStats||!1,this.preserveDrawingBuffer=i.preserveDrawingBuffer||!1,this.scene=new Jn,this.rangeNear=.1,this.rangeFar=1e4,this.fov=60,this.aspectRatio=this.domEl.clientWidth/this.domEl.clientHeight,this.perspectiveCamera=new ai(this.fov,this.aspectRatio,this.rangeNear,this.rangeFar),this.orthoCamera=new $c(-this.domEl.clientWidth/2,this.domEl.clientWidth/2,this.domEl.clientHeight/2,-this.domEl.clientHeight/2,1,1e4),this.camera=this.perspectiveCamera,this.camera.up.set(0,0,1),this.camControls=new eZ({camera:this.camera,domEl:this.domEl}),this.controls=this.camControls.controls,this.screenWidth=this.domEl.clientWidth,this.screenHeight=this.domEl.clientHeight,this.aspectRatio=this.screenWidth/this.screenHeight,this.renderer=new ls({premultipliedAlpha:!1,preserveDrawingBuffer:this.preserveDrawingBuffer}),this.renderer.setSize(this.screenWidth,this.screenHeight),this.renderer.localClippingEnabled=!1,this.renderer.clippingPlanes=[],this.renderer.autoClear=!1,this.renderer.autoClearDepth=!1,this.domEl.appendChild(this.renderer.domElement),this.clock=new CK,this.freezeAnimate=!1,this.binds(),this.addListeners(),this.events=new Ei,this.showStats&&(this.stats=new OK,this.stats.showPanel(0),document.body.appendChild(this.stats.dom)),this.modules=new SG({domEl:this.domEl,scene:this.scene,camera:this.camera,renderer:this.renderer,referenceFrame:i.referenceFrame}),this.start()}dispose(){this.freezeAnimate=!0,this.modules&&(this.modules.dispose(),this.modules=void 0),this.renderer.dispose(),this.camControls.dispose(),this.removeListeners()}onWindowResize(){const i=this.domEl.clientWidth,e=this.domEl.clientHeight;this.screenWidth=i,this.screenHeight=e,this.renderer.setSize(i,e),this.aspectRatio=this.screenWidth/this.screenHeight,this.camera.aspect=this.aspectRatio,this.camera.updateProjectionMatrix()}handleStart(){this.start()}handleFitTopView(){this.fitTopView()}handleRendererFocus(){this.renderer.domElement.focus()}binds(){this.handleRendererFocus=this.handleRendererFocus.bind(this),this.handleControlUICreated=this.handleControlUICreated.bind(this),this.handleMeasureUICreated=this.handleMeasureUICreated.bind(this),this.handleLayerUICreated=this.handleLayerUICreated.bind(this),this.handlePointcloudUICreated=this.handlePointcloudUICreated.bind(this),this.handleSetOrbitMode=this.handleSetOrbitMode.bind(this),this.handleSetSphericalMode=this.handleSetSphericalMode.bind(this),this.handleUpdateOrbitPoint=this.handleUpdateOrbitPoint.bind(this),this.onWindowResize=this.onWindowResize.bind(this)}addListeners(){window.addEventListener("resize",this.onWindowResize,!1),this.renderer.domElement.addEventListener("mousedown",this.handleRendererFocus,!1),this.domEl.addEventListener(ee.EnterSphereMode,this.handleSetSphericalMode),this.domEl.addEventListener(ee.ExitSphereMode,this.handleSetOrbitMode),this.domEl.addEventListener(ee.ControlsUICreated,this.handleControlUICreated,!1),this.domEl.addEventListener(ee.MeasureUICreated,this.handleMeasureUICreated,!1),this.domEl.addEventListener(ee.LayerUICreated,this.handleLayerUICreated,!1),this.domEl.addEventListener(ee.PointcloudUICreated,this.handlePointcloudUICreated,!1),this.domEl.addEventListener(ee.UpdateOrbitPoint,this.handleUpdateOrbitPoint)}handleUpdateOrbitPoint(i){const e=i.detail.point;this.camControls.updateOrbitPoint(e)}handleControlUICreated(){this.events.dispatch(ee.RegisterControls,{controls:this.camControls},this.domEl)}handleLayerUICreated(){this.events.dispatch(ee.RegisterLayers,{layers:this.layers},this.domEl)}handleSetSphericalMode(i){const e=i.detail.target,s=i.detail.normal,n=i.detail.saveState;this.camControls.setSphericalMode(e.position,s,!!n)}handleSetOrbitMode(){this.camControls.setOrbitMode()}removeListeners(){window.removeEventListener("resize",this.onWindowResize,!1),this.renderer.domElement.removeEventListener("mousedown",this.handleRendererFocus,!1),this.domEl.removeEventListener(ee.EnterSphereMode,this.handleSetSphericalMode),this.domEl.removeEventListener(ee.ExitSphereMode,this.handleSetOrbitMode),this.domEl.removeEventListener(ee.MeasureUICreated,this.handleMeasureUICreated),this.domEl.removeEventListener(ee.LayerUICreated,this.handleLayerUICreated),this.domEl.removeEventListener(ee.PointcloudUICreated,this.handlePointcloudUICreated),this.domEl.removeEventListener(ee.UpdateOrbitPoint,this.handleUpdateOrbitPoint),this.modules&&this.modules.removeListeners()}handleMeasureUICreated(){if(!this.modules)throw new Error("Missing modules");this.events.dispatch(ee.RegisterPicker,{picker:this.modules.picker,referenceFrame:this.modules.referenceFrame,renderer:this.renderer},this.domEl)}handlePointcloudUICreated(){if(!this.modules)throw new Error("Missing modules");this.modules.pointclouds||this.modules.createPointcloudModule(),this.events.dispatch(ee.RegisterPointclouds,{pointclouds:this.modules.pointclouds,picker:this.modules.picker,referenceFrame:this.modules.referenceFrame},this.domEl)}initUI(i={}){const e=document.createElement("pointscene-js-ui");e.setAttribute("spherical",""),i.disableControls||e.setAttribute("controls",""),i.disableMeasure||e.setAttribute("measure",""),i.disableLayers||e.setAttribute("layers",""),i.disablePointclouds||e.setAttribute("pointcloud",""),e.setAttribute("domel",this.domEl.id),this.domEl.append(e)}fitTopView(){if(!this.modules){console.error("Modules is undefined");return}const i=[];if(typeof this.modules.pointclouds<"u"){const n=this.modules.pointclouds.getBoundingBox();isFinite(n.min.x)&&isFinite(n.min.y)&&isFinite(n.min.z)&&isFinite(n.max.x)&&isFinite(n.max.y)&&isFinite(n.max.z)&&i.push(new z(n.min.x,n.min.y,n.min.z),new z(n.max.x,n.max.y,n.max.z))}const e=new is;this.modules.scenePickable.children.forEach(n=>{e.expandByObject(n)}),this.modules.sceneLabels.children.forEach(n=>{e.expandByObject(n)}),this.modules.sceneStatic.children.forEach(n=>{e.expandByObject(n)}),isFinite(e.min.x)&&isFinite(e.min.y)&&isFinite(e.min.z)&&isFinite(e.max.x)&&isFinite(e.max.y)&&isFinite(e.max.z)&&i.push(new z(e.min.x,e.min.y,e.min.z),new z(e.max.x,e.max.y,e.max.z));const s=new Re().setFromPoints(i);if(s.computeBoundingSphere(),s.computeBoundingBox(),!s.boundingBox){console.error("Failed to get scene bounding box");return}this.controls.fitToBox(s.boundingBox,!1)}getScreenShot(i){let e=!0;i!==void 0&&(e=i);try{this.render();const s=this.renderer.domElement.toDataURL("image/png");if(e){const n=document.createElement("a");return n.href=s,n.download="pointscene_"+Date.now()+".png",n.style.display="none",document.body.appendChild(n),n.click(),setTimeout(function(){document.body.removeChild(n)},1e3),!0}else return s}catch(s){return console.warn("Error saving screenshot",s),!1}}setClipMode(i){!this.modules||this.modules.pointclouds&&this.modules.pointclouds.setClipMode(i)}setCameraMode(i){switch(i){case"orthographic":console.log("set orthographic"),this.camera=this.orthoCamera;break;case"perspective":console.log("set perspective"),this.camera=this.perspectiveCamera;break}this.controls.camera=this.camera}setClippingPlanes(i){this.renderer.clippingPlanes=i,this.renderer.localClippingEnabled=!1}render(){this.freezeAnimate||this.modules&&this.modules.render()}update(){if(this.freezeAnimate)return;const i=this.clock.getDelta();this.camControls.update(i);let e;this.controls.distance&&this.camControls.allowOrbitWalkAutoChange&&(this.controls.distance>this.prevControlDistance?e="out":e="in",this.prevControlDistance=this.controls.distance),e&&e==="in"&&this.controls.distance<this.camControls.fpsMaxDistance+.2&&this.camControls.mode===Ci.Orbit?this.camControls.setFirstPersonMode(!1,!1):e&&this.controls.distance>this.camControls.fpsMaxDistance-.2&&this.camControls.mode===Ci.FirstPerson&&this.camControls.setOrbitMode(!1,!1),this.modules&&this.modules.update(i)}animate(){this.stats&&this.stats.begin(),requestAnimationFrame(this.animate.bind(this)),this.update(),this.render(),this.stats&&this.stats.end()}projectPoints(i,e,s){return sU(this,null,function*(){return new Promise(n=>{const l=new eU;l.onmessage=a=>{l.terminate(),n(a.data.points)};const r={projIn:e,projOut:s,points:i};l.postMessage(r)})})}start(){console.log("Pointscene.js",BK,"(c) 3point Ltd"),this.animate()}}const GZ=t=>new yZ({domEl:t.domEl,showStats:t.showStats||!1,preserveDrawingBuffer:t.preserveDrawingBuffer||!1,referenceFrame:t.referenceFrame}),iU=(t,i,e,s="XYZ",n=[1,0,0,0,1,0,0,0,1])=>{if(n.length!==9)throw new Error("Transformation must be an column-major array defining a 3x3 matrix");const l=new pn(t,i,e,s),r=new _t().makeRotationFromEuler(l),a=new Ys().setFromMatrix4(r),o=new Ys().fromArray(n);a.multiply(o);const c=new _t().setFromMatrix3(a),h=new Vs().setFromRotationMatrix(c);return{x:h.x,y:h.y,z:h.z,w:h.w}},nU=(t,i,e,s)=>new mi(new z(t,i,e),s);class lU{projectedRadius(i,e,s,n){let l=1/Math.tan(e/2)/s;return l=l*n/2,i*l}lineSegmentIntersection2D(i,e,s,n){function r(c,h,d){return c-1e-7<=h&&h<=d+1e-7}function a(c,h,d,u,p,Z,X,R){const W=((c*u-h*d)*(p-X)-(c-d)*(p*R-Z*X))/((c-d)*(Z-R)-(h-u)*(p-X)),S=((c*u-h*d)*(Z-R)-(h-u)*(p*R-Z*X))/((c-d)*(Z-R)-(h-u)*(p-X));if(isNaN(W)||isNaN(S))return!1;if(c>=d){if(!r(d,W,c))return!1}else if(!r(c,W,d))return!1;if(h>=u){if(!r(u,S,h))return!1}else if(!r(h,S,u))return!1;if(p>=X){if(!r(X,W,p))return!1}else if(!r(p,W,X))return!1;if(Z>=R){if(!r(R,S,Z))return!1}else if(!r(Z,S,R))return!1;return{x:W,y:S}}return a(i.x,i.y,e.x,e.y,s.x,s.y,n.x,n.y)!==!1}lineLineIntersection2D(i,e,s,n){const l=function(r,a,o){return(o.y-r.y)*(a.x-r.x)>(a.y-r.y)*(o.x-r.x)};return l(i,s,n)!==l(e,s,n)&&l(i,e,s)!==l(i,e,n)}pointInPolygon2D(i,e){let s,n,l=!1;for(s=0,n=i.length-1;s<i.length;n=s++)i[s].y>e.y!=i[n].y>e.y&&e.x<(i[n].x-i[s].x)*(e.y-i[s].y)/(i[n].y-i[s].y)+i[s].x&&(l=!l);return l}almostEquals(i,e,s,n){return n=n||!1,n&&i<0&&(i*=-1),s=s||Number.EPSILON,i>e-s&&i<=e+s}getMiddlePoint(i,e){return i.clone().lerp(e,.5)}getLineIntersectionXY(i,e,s,n){const l=Number.EPSILON,r=(i.x-e.x)*(s.y-n.y)-(i.y-e.y)*(s.x-n.x);if(r<l&&r>=-l)return;const a=i.x*e.y-i.y*e.x,o=s.x*n.y-s.y*n.x;let c=a*(s.x-n.x)-(i.x-e.x)*o;c/=r;let h=a*(s.y-n.y)-(i.y-e.y)*o;return h/=r,new z(c,h,0)}arrayToMatrix(i,e){e=e||3;const s=i.length/e,n=[];for(let l=0;l<s;l++){const r=l*e;n.push([i[r+0],i[r+1],i[r+2]])}return n}typedToArray(i,e){e=e||3;const s=i.length/e,n=[];for(const l=0;l<s;l+e)n.push(i[l+0]),n.push(i[l+1]),n.push(i[l+2]);return n}arrayToTyped(i){const e=i[0].length,s=i.length,n=new Float32Array(e*s);for(let l=0;l<s;l++)n[l*e+0]=i[l][0],n[l*e+1]=i[l][1],n[l*e+2]=i[l][2];return n}flipNormal(i,e,s){return e=e||new z(0,0,0),s=s||new z(0,0,Number.MAX_VALUE),new z(s.x-e.x,s.y-e.y,s.z-e.z).clone().dot(i)<0&&i.multiplyScalar(-1),i}getPlaneNormal(i){const e=this.getCentroid(i);for(let l=0;l<i.length;l++)i[l][0]-=e[0],i[l][1]-=e[1],i[l][2]-=e[2];const s=this.getSVD(i);return new z(s.V[2][0],s.V[2][1],s.V[2][2])}getCentroid(i){let e=0,s=0,n=0;const l=i.length;for(let r=0;r<l;r++){const a=i[r];e+=a[0],s+=a[1],n+=a[2]}return[e/l,s/l,n/l]}rep(i,e,s){typeof s>"u"&&(s=0);const n=i[s],l=Array(n);let r;if(s===i.length-1){for(r=n-2;r>=0;r-=2)l[r+1]=e,l[r]=e;return r===-1&&(l[0]=e),l}for(r=n-1;r>=0;r--)l[r]=this.rep(i,e,s+1);return l}getSVD(i){let e=2220446049250313e-31;const s=1e-64/e,n=50;let l=0,r=0,a=0,o=0,c=0;const h=i,d=h.length,u=h[0].length;if(d<u)throw new Error("Need more rows than columns");const p=new Array(u),Z=new Array(u);for(r=0;r<u;r++)p[r]=Z[r]=0;const X=this.rep([u,u],0);function R(O,q){return O=Math.abs(O),q=Math.abs(q),O>q?O*Math.sqrt(1+q*q/O/O):q===0?O:q*Math.sqrt(1+O*O/q/q)}let W=0,S=0,F=0,M=0,N=0,E=0,Y=0;for(r=0;r<u;r++){for(p[r]=S,Y=0,c=r+1,a=r;a<d;a++)Y+=h[a][r]*h[a][r];if(Y<=s)S=0;else for(W=h[r][r],S=Math.sqrt(Y),W>=0&&(S=-S),F=W*S-Y,h[r][r]=W-S,a=c;a<u;a++){for(Y=0,o=r;o<d;o++)Y+=h[o][r]*h[o][a];for(W=Y/F,o=r;o<d;o++)h[o][a]+=W*h[o][r]}for(Z[r]=S,Y=0,a=c;a<u;a++)Y+=h[r][a]*h[r][a];if(Y<=s)S=0;else{for(W=h[r][r+1],S=Math.sqrt(Y),W>=0&&(S=-S),F=W*S-Y,h[r][r+1]=W-S,a=c;a<u;a++)p[a]=h[r][a]/F;for(a=c;a<d;a++){for(Y=0,o=c;o<u;o++)Y+=h[a][o]*h[r][o];for(o=c;o<u;o++)h[a][o]+=Y*p[o]}}N=Math.abs(Z[r])+Math.abs(p[r]),N>M&&(M=N)}for(r=u-1;r!==-1;r+=-1){if(S!==0){for(F=S*h[r][r+1],a=c;a<u;a++)X[a][r]=h[r][a]/F;for(a=c;a<u;a++){for(Y=0,o=c;o<u;o++)Y+=h[r][o]*X[o][a];for(o=c;o<u;o++)X[o][a]+=Y*X[o][r]}}for(a=c;a<u;a++)X[r][a]=0,X[a][r]=0;X[r][r]=1,S=p[r],c=r}for(r=u-1;r!==-1;r+=-1){for(c=r+1,S=Z[r],a=c;a<u;a++)h[r][a]=0;if(S!==0){for(F=h[r][r]*S,a=c;a<u;a++){for(Y=0,o=c;o<d;o++)Y+=h[o][r]*h[o][a];for(W=Y/F,o=r;o<d;o++)h[o][a]+=W*h[o][r]}for(a=r;a<d;a++)h[a][r]/=S}else for(a=r;a<d;a++)h[a][r]=0;h[r][r]+=1}for(e*=M,o=u-1;o!==-1;o+=-1)for(let O=0;O<n;O++){let q=!1;for(c=o;c!==-1;c+=-1){if(Math.abs(p[c])<=e){q=!0;break}if(Math.abs(Z[c-1])<=e)break}if(!q){l=0,Y=1;const $=c-1;for(r=c;r<o+1&&(W=Y*p[r],p[r]*=l,!(Math.abs(W)<=e));r++)for(S=Z[r],F=R(W,S),Z[r]=F,l=S/F,Y=-W/F,a=0;a<d;a++)N=h[a][$],E=h[a][r],h[a][$]=N*l+E*Y,h[a][r]=-N*Y+E*l}if(E=Z[o],c===o){if(E<0)for(Z[o]=-E,a=0;a<u;a++)X[a][o]=-X[a][o];break}if(O>=n-1)throw new Error("Error: no convergence.");for(M=Z[c],N=Z[o-1],S=p[o-1],F=p[o],W=((N-E)*(N+E)+(S-F)*(S+F))/(2*F*N),S=R(W,1),W<0?W=((M-E)*(M+E)+F*(N/(W-S)-F))/M:W=((M-E)*(M+E)+F*(N/(W+S)-F))/M,l=1,Y=1,r=c+1;r<o+1;r++){for(S=p[r],N=Z[r],F=Y*S,S*=l,E=R(W,F),p[r-1]=E,l=W/E,Y=F/E,W=M*l+S*Y,S=-M*Y+S*l,F=N*Y,N*=l,a=0;a<u;a++)M=X[a][r-1],E=X[a][r],X[a][r-1]=M*l+E*Y,X[a][r]=-M*Y+E*l;for(E=R(W,F),Z[r-1]=E,l=W/E,Y=F/E,W=l*S+Y*N,M=-Y*S+l*N,a=0;a<d;a++)N=h[a][r-1],E=h[a][r],h[a][r-1]=N*l+E*Y,h[a][r]=-N*Y+E*l}p[c]=0,p[o]=W,Z[o]=M}for(r=0;r<Z.length;r++)Z[r]<e&&(Z[r]=0);for(r=0;r<u;r++)for(a=r-1;a>=0;a--)if(Z[a]<Z[r]){for(l=Z[a],Z[a]=Z[r],Z[r]=l,o=0;o<h.length;o++){const O=h[o][r];h[o][r]=h[o][a],h[o][a]=O}for(o=0;o<X.length;o++){const O=X[o][r];X[o][r]=X[o][a],X[o][a]=O}r=a}return{U:h,S:Z,V:X}}}class rU extends we{constructor(){super();const i=new Ls;i.minFilter=ds,i.magFilter=ds;const e=new sh({map:i,depthTest:!0,depthWrite:!0});this.material=e,this.sprite=new Kb(e),this.add(this.sprite),this.borderThickness=0,this.fontface="Open Sans",this.fontsize=24,this.borderColor={r:255,g:255,b:255,a:1},this.backgroundColor={r:255,g:255,b:255,a:1},this.textColor={r:255,g:255,b:255,a:1},this.text=""}setText(i){this.text!==i&&(this.text=i,this.update())}setTextColor(i){this.textColor=i,this.update()}setBorderColor(i){this.borderColor=i,this.update()}setBackgroundColor(i){this.backgroundColor=i,this.update()}update(){let i=document.createElement("canvas"),e=i.getContext("2d");if(!e)return;e.font=this.fontsize+"px "+this.fontface;const n=e.measureText(this.text).width,l=4,r=2*l+n+2*this.borderThickness,a=this.fontsize*1.4+2*this.borderThickness;if(i=document.createElement("canvas"),e=i.getContext("2d"),!e)return;e.canvas.width=r,e.canvas.height=a,e.font=this.fontsize+"px "+this.fontface,e.fillStyle="rgba("+this.backgroundColor.r+","+this.backgroundColor.g+","+this.backgroundColor.b+","+this.backgroundColor.a+")",e.strokeStyle="rgba("+this.borderColor.r+","+this.borderColor.g+","+this.borderColor.b+","+this.borderColor.a+")",e.lineWidth=this.borderThickness,this.roundRect(e,this.borderThickness/2,this.borderThickness/2,n+this.borderThickness+2*l,this.fontsize*1.4+this.borderThickness,0),e.strokeStyle="rgba(255, 255, 255, 1.0)",e.strokeText(this.text,this.borderThickness+l,this.fontsize+this.borderThickness),e.fillStyle="rgba("+this.textColor.r+","+this.textColor.g+","+this.textColor.b+","+this.textColor.a+")",e.fillText(this.text,this.borderThickness+l,this.fontsize+this.borderThickness);const o=new Ls(i);o.minFilter=Es,o.magFilter=Es,o.needsUpdate=!0,this.sprite.material.map=o,this.sprite.scale.set(r*.01,a*.01,1)}roundRect(i,e,s,n,l,r){i.beginPath(),i.moveTo(e+r,s),i.lineTo(e+n-r,s),i.quadraticCurveTo(e+n,s,e+n,s+r),i.lineTo(e+n,s+l-r),i.quadraticCurveTo(e+n,s+l,e+n-r,s+l),i.lineTo(e+r,s+l),i.quadraticCurveTo(e,s+l,e,s+l-r),i.lineTo(e,s+r),i.quadraticCurveTo(e,s,e+r,s),i.closePath(),i.fill(),i.stroke()}}class aU{getPotreeProfileFromBBox(i){let e;if(i instanceof is){let R;parseInt(Oi,10)<102?R=i.getSize():(R=new z,i.getSize(R));const W=new Ur(R.x,R.y,R.z),S=new ul;e=new ns(W,S);let F;parseInt(Oi,10)<102?F=i.getCenter():(F=new z,i.getCenter(F)),e.position.set(F.x,F.y,F.z)}else e=i;const s={};s.points=[],s.width=1;const n=e.quaternion.clone();e.rotation.set(0,0,0);const l=i instanceof we?new is().setFromObject(e):i;let r;parseInt(Oi,10)<102?r=l.getSize():(r=new z,l.getSize(r));const a=r.x,o=r.z;let c;parseInt(Oi,10)<102?c=l.getCenter():(c=new z,l.getCenter(c));const h=new z(0,0,o/2),d=new z(0,0,-o/2),u=new z(0,r.y/2,0),p=new z(0,-r.y/2,0);h.applyQuaternion(n),d.applyQuaternion(n),h.add(c),d.add(c),u.add(c),p.add(c);const Z=h,X=d;return s.points.push(Z),s.points.push(X),s.start=Z,s.end=X,s.width=a,s.top=u,s.bottom=p,s}}function ZZ(t,i=new it("#ffffff")){const e=t.map(r=>new z(r[0],r[1],r[2])),s=new Re().setFromPoints(e),n=new bn({color:i});return new _l(s,n)}function XZ(t,i,e=new it("#eeeeee"),s,n,l={}){const r=(p,Z,X)=>{p[Z+0]=X[0],p[Z+1]=X[1],p[Z+2]=X[2]},a=new Float32Array(i.length*3*3),o=new Float32Array(i.length*3*3),c=new Float32Array(i.length*3*3);for(let p=0;p<i.length;p++){const Z=p*3*3,X=i[p],R=t[X[0]],W=t[X[1]],S=t[X[2]];if(r(a,Z+0,R),r(a,Z+3,W),r(a,Z+6,S),typeof s<"u"){const F=s[X[0]],M=s[X[1]],N=s[X[2]];r(c,Z+0,F),r(c,Z+3,M),r(c,Z+6,N)}}const h=new Re;h.setAttribute("position",new Ne(a,3)),h.setAttribute("normal",new Ne(o,3)),typeof s<"u"&&h.setAttribute("color",new Ne(c,3)),h.computeBoundingBox(),h.computeBoundingSphere(),h.computeVertexNormals();const d=typeof n<"u"?n:new Du({color:e,flatShading:!0,side:pi}),u=new ns(h,d);return u.userData.isPickable=!!l.isPickable,u.userData.isInteractive=!!l.isInteractive,u.updateMatrixWorld(),u}const TZ=0,oU=1,cU=2,RZ=2,Cp=1.25,IZ=1,zh=6*4+4+4,fp=65535,hU=Math.pow(2,-24);class Hh{constructor(){}}function Cn(t,i,e){return e.min.x=i[t],e.min.y=i[t+1],e.min.z=i[t+2],e.max.x=i[t+3],e.max.y=i[t+4],e.max.z=i[t+5],e}function gZ(t){let i=-1,e=-1/0;for(let s=0;s<3;s++){const n=t[s+3]-t[s];n>e&&(e=n,i=s)}return i}function WZ(t,i){i.set(t)}function LZ(t,i,e){let s,n;for(let l=0;l<3;l++){const r=l+3;s=t[l],n=i[l],e[l]=s<n?s:n,s=t[r],n=i[r],e[r]=s>n?s:n}}function Kh(t,i,e){for(let s=0;s<3;s++){const n=i[t+2*s],l=i[t+2*s+1],r=n-l,a=n+l;r<e[s]&&(e[s]=r),a>e[s+3]&&(e[s+3]=a)}}function Oo(t){const i=t[3]-t[0],e=t[4]-t[1],s=t[5]-t[2];return 2*(i*e+e*s+s*i)}function dU(t,i){if(!t.index){const e=t.attributes.position.count,s=i.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;let n;e>65535?n=new Uint32Array(new s(4*e)):n=new Uint16Array(new s(2*e)),t.setIndex(new Ne(n,1));for(let l=0;l<e;l++)n[l]=l}}function uU(t){if(!t.groups||!t.groups.length)return[{offset:0,count:t.index.count/3}];const i=[],e=new Set;for(const n of t.groups)e.add(n.start),e.add(n.start+n.count);const s=Array.from(e.values()).sort((n,l)=>n-l);for(let n=0;n<s.length-1;n++){const l=s[n],r=s[n+1];i.push({offset:l/3,count:(r-l)/3})}return i}function Vp(t,i,e,s,n=null){let l=1/0,r=1/0,a=1/0,o=-1/0,c=-1/0,h=-1/0,d=1/0,u=1/0,p=1/0,Z=-1/0,X=-1/0,R=-1/0;const W=n!==null;for(let S=i*6,F=(i+e)*6;S<F;S+=6){const M=t[S+0],N=t[S+1],E=M-N,Y=M+N;E<l&&(l=E),Y>o&&(o=Y),W&&M<d&&(d=M),W&&M>Z&&(Z=M);const O=t[S+2],q=t[S+3],$=O-q,H=O+q;$<r&&(r=$),H>c&&(c=H),W&&O<u&&(u=O),W&&O>X&&(X=O);const j=t[S+4],mt=t[S+5],st=j-mt,ot=j+mt;st<a&&(a=st),ot>h&&(h=ot),W&&j<p&&(p=j),W&&j>R&&(R=j)}s[0]=l,s[1]=r,s[2]=a,s[3]=o,s[4]=c,s[5]=h,W&&(n[0]=d,n[1]=u,n[2]=p,n[3]=Z,n[4]=X,n[5]=R)}function pU(t,i,e,s){let n=1/0,l=1/0,r=1/0,a=-1/0,o=-1/0,c=-1/0;for(let h=i*6,d=(i+e)*6;h<d;h+=6){const u=t[h+0];u<n&&(n=u),u>a&&(a=u);const p=t[h+2];p<l&&(l=p),p>o&&(o=p);const Z=t[h+4];Z<r&&(r=Z),Z>c&&(c=Z)}s[0]=n,s[1]=l,s[2]=r,s[3]=a,s[4]=o,s[5]=c}function mU(t,i,e,s,n){let l=e,r=e+s-1;const a=n.pos,o=n.axis*2;for(;;){for(;l<=r&&i[l*6+o]<a;)l++;for(;l<=r&&i[r*6+o]>=a;)r--;if(l<r){for(let c=0;c<3;c++){let h=t[l*3+c];t[l*3+c]=t[r*3+c],t[r*3+c]=h;let d=i[l*6+c*2+0];i[l*6+c*2+0]=i[r*6+c*2+0],i[r*6+c*2+0]=d;let u=i[l*6+c*2+1];i[l*6+c*2+1]=i[r*6+c*2+1],i[r*6+c*2+1]=u}l++,r--}else return l}}const _n=32,bU=(t,i)=>t.candidate-i.candidate,fl=new Array(_n).fill().map(()=>({count:0,bounds:new Float32Array(6),rightCacheBounds:new Float32Array(6),leftCacheBounds:new Float32Array(6),candidate:0})),wh=new Float32Array(6);function yU(t,i,e,s,n,l){let r=-1,a=0;if(l===TZ)r=gZ(i),r!==-1&&(a=(i[r]+i[r+3])/2);else if(l===oU)r=gZ(t),r!==-1&&(a=GU(e,s,n,r));else if(l===cU){const o=Oo(t);let c=Cp*n;const h=s*6,d=(s+n)*6;for(let u=0;u<3;u++){const p=i[u],R=(i[u+3]-p)/_n;if(n<_n/4){const W=[...fl];W.length=n;let S=0;for(let M=h;M<d;M+=6,S++){const N=W[S];N.candidate=e[M+2*u],N.count=0;const{bounds:E,leftCacheBounds:Y,rightCacheBounds:O}=N;for(let q=0;q<3;q++)O[q]=1/0,O[q+3]=-1/0,Y[q]=1/0,Y[q+3]=-1/0,E[q]=1/0,E[q+3]=-1/0;Kh(M,e,E)}W.sort(bU);let F=n;for(let M=0;M<F;M++){const N=W[M];for(;M+1<F&&W[M+1].candidate===N.candidate;)W.splice(M+1,1),F--}for(let M=h;M<d;M+=6){const N=e[M+2*u];for(let E=0;E<F;E++){const Y=W[E];N>=Y.candidate?Kh(M,e,Y.rightCacheBounds):(Kh(M,e,Y.leftCacheBounds),Y.count++)}}for(let M=0;M<F;M++){const N=W[M],E=N.count,Y=n-N.count,O=N.leftCacheBounds,q=N.rightCacheBounds;let $=0;E!==0&&($=Oo(O)/o);let H=0;Y!==0&&(H=Oo(q)/o);const j=IZ+Cp*($*E+H*Y);j<c&&(r=u,c=j,a=N.candidate)}}else{for(let F=0;F<_n;F++){const M=fl[F];M.count=0,M.candidate=p+R+F*R;const N=M.bounds;for(let E=0;E<3;E++)N[E]=1/0,N[E+3]=-1/0}for(let F=h;F<d;F+=6){let E=~~((e[F+2*u]-p)/R);E>=_n&&(E=_n-1);const Y=fl[E];Y.count++,Kh(F,e,Y.bounds)}const W=fl[_n-1];WZ(W.bounds,W.rightCacheBounds);for(let F=_n-2;F>=0;F--){const M=fl[F],N=fl[F+1];LZ(M.bounds,N.rightCacheBounds,M.rightCacheBounds)}let S=0;for(let F=0;F<_n-1;F++){const M=fl[F],N=M.count,E=M.bounds,O=fl[F+1].rightCacheBounds;N!==0&&(S===0?WZ(E,wh):LZ(E,wh,wh)),S+=N;let q=0,$=0;S!==0&&(q=Oo(wh)/o);const H=n-S;H!==0&&($=Oo(O)/o);const j=IZ+Cp*(q*S+$*H);j<c&&(r=u,c=j,a=M.candidate)}}}}else console.warn(`MeshBVH: Invalid build strategy value ${l} used.`);return{axis:r,pos:a}}function GU(t,i,e,s){let n=0;for(let l=i,r=i+e;l<r;l++)n+=t[l*6+s*2];return n/e}function ZU(t,i){const e=t.attributes.position,s=e.array,n=t.index.array,l=n.length/3,r=new Float32Array(l*6),a=e.offset||0;let o=3;e.isInterleavedBufferAttribute&&(o=e.data.stride);for(let c=0;c<l;c++){const h=c*3,d=c*6,u=n[h+0]*o+a,p=n[h+1]*o+a,Z=n[h+2]*o+a;for(let X=0;X<3;X++){const R=s[u+X],W=s[p+X],S=s[Z+X];let F=R;W<F&&(F=W),S<F&&(F=S);let M=R;W>M&&(M=W),S>M&&(M=S);const N=(M-F)/2,E=X*2;r[d+E+0]=F+N,r[d+E+1]=N+(Math.abs(F)+N)*hU,F<i[X]&&(i[X]=F),M>i[X+3]&&(i[X+3]=M)}}return r}function XU(t,i){function e(W){u&&u(W/p)}function s(W,S,F,M=null,N=0){if(!Z&&N>=o&&(Z=!0,c&&(console.warn(`MeshBVH: Max depth of ${o} reached when generating BVH. Consider increasing maxDepth.`),console.warn(t))),F<=h||N>=o)return e(S+F),W.offset=S,W.count=F,W;const E=yU(W.boundingData,M,r,S,F,d);if(E.axis===-1)return e(S+F),W.offset=S,W.count=F,W;const Y=mU(a,r,S,F,E);if(Y===S||Y===S+F)e(S+F),W.offset=S,W.count=F;else{W.splitAxis=E.axis;const O=new Hh,q=S,$=Y-S;W.left=O,O.boundingData=new Float32Array(6),Vp(r,q,$,O.boundingData,l),s(O,q,$,l,N+1);const H=new Hh,j=Y,mt=F-$;W.right=H,H.boundingData=new Float32Array(6),Vp(r,j,mt,H.boundingData,l),s(H,j,mt,l,N+1)}return W}dU(t,i);const n=new Float32Array(6),l=new Float32Array(6),r=ZU(t,n),a=t.index.array,o=i.maxDepth,c=i.verbose,h=i.maxLeafTris,d=i.strategy,u=i.onProgress,p=t.index.count/3;let Z=!1;const X=[],R=uU(t);if(R.length===1){const W=R[0],S=new Hh;S.boundingData=n,pU(r,W.offset,W.count,l),s(S,W.offset,W.count,l),X.push(S)}else for(let W of R){const S=new Hh;S.boundingData=new Float32Array(6),Vp(r,W.offset,W.count,S.boundingData,l),s(S,W.offset,W.count,l),X.push(S)}return X}function TU(t,i){const e=XU(t,i);let s,n,l;const r=[],a=i.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;for(let h=0;h<e.length;h++){const d=e[h];let u=o(d);const p=new a(zh*u);s=new Float32Array(p),n=new Uint32Array(p),l=new Uint16Array(p),c(0,d),r.push(p)}return r;function o(h){return h.count?1:1+o(h.left)+o(h.right)}function c(h,d){const u=h/4,p=h/2,Z=!!d.count,X=d.boundingData;for(let R=0;R<6;R++)s[u+R]=X[R];if(Z){const R=d.offset,W=d.count;return n[u+6]=R,l[p+14]=W,l[p+15]=fp,h+zh}else{const R=d.left,W=d.right,S=d.splitAxis;let F;if(F=c(h+zh,R),F/4>Math.pow(2,32))throw new Error("MeshBVH: Cannot store child pointer greater than 32 bits.");return n[u+6]=F/4,F=c(F,W),n[u+7]=S,F}}}class fn{constructor(){this.min=1/0,this.max=-1/0}setFromPointsField(i,e){let s=1/0,n=-1/0;for(let l=0,r=i.length;l<r;l++){const o=i[l][e];s=o<s?o:s,n=o>n?o:n}this.min=s,this.max=n}setFromPoints(i,e){let s=1/0,n=-1/0;for(let l=0,r=e.length;l<r;l++){const a=e[l],o=i.dot(a);s=o<s?o:s,n=o>n?o:n}this.min=s,this.max=n}isSeparated(i){return this.min>i.max||i.min>this.max}}fn.prototype.setFromBox=function(){const t=new z;return function(e,s){const n=s.min,l=s.max;let r=1/0,a=-1/0;for(let o=0;o<=1;o++)for(let c=0;c<=1;c++)for(let h=0;h<=1;h++){t.x=n.x*o+l.x*(1-o),t.y=n.y*c+l.y*(1-c),t.z=n.z*h+l.z*(1-h);const d=e.dot(t);r=Math.min(d,r),a=Math.max(d,a)}this.min=r,this.max=a}}(),function(){const t=new fn;return function(e,s){const n=e.points,l=e.satAxes,r=e.satBounds,a=s.points,o=s.satAxes,c=s.satBounds;for(let h=0;h<3;h++){const d=r[h],u=l[h];if(t.setFromPoints(u,a),d.isSeparated(t))return!1}for(let h=0;h<3;h++){const d=c[h],u=o[h];if(t.setFromPoints(u,n),d.isSeparated(t))return!1}}}();const RU=function(){const t=new z,i=new z,e=new z;return function(n,l,r){const a=n.start,o=t,c=l.start,h=i;e.subVectors(a,c),t.subVectors(n.end,l.start),i.subVectors(l.end,l.start);const d=e.dot(h),u=h.dot(o),p=h.dot(h),Z=e.dot(o),R=o.dot(o)*p-u*u;let W,S;R!==0?W=(d*u-Z*p)/R:W=0,S=(d+W*u)/p,r.x=W,r.y=S}}(),xp=function(){const t=new Wt,i=new z,e=new z;return function(n,l,r,a){RU(n,l,t);let o=t.x,c=t.y;if(o>=0&&o<=1&&c>=0&&c<=1){n.at(o,r),l.at(c,a);return}else if(o>=0&&o<=1){c<0?l.at(0,a):l.at(1,a),n.closestPointToPoint(a,!0,r);return}else if(c>=0&&c<=1){o<0?n.at(0,r):n.at(1,r),l.closestPointToPoint(r,!0,a);return}else{let h;o<0?h=n.start:h=n.end;let d;c<0?d=l.start:d=l.end;const u=i,p=e;if(n.closestPointToPoint(d,!0,i),l.closestPointToPoint(h,!0,e),u.distanceToSquared(d)<=p.distanceToSquared(h)){r.copy(u),a.copy(d);return}else{r.copy(h),a.copy(p);return}}}}(),IU=function(){const t=new z,i=new z,e=new mi,s=new Zn;return function(l,r){const{radius:a,center:o}=l,{a:c,b:h,c:d}=r;if(s.start=c,s.end=h,s.closestPointToPoint(o,!0,t).distanceTo(o)<=a||(s.start=c,s.end=d,s.closestPointToPoint(o,!0,t).distanceTo(o)<=a)||(s.start=h,s.end=d,s.closestPointToPoint(o,!0,t).distanceTo(o)<=a))return!0;const X=r.getPlane(e);if(Math.abs(X.distanceToPoint(o))<=a){const W=X.projectPoint(o,i);if(r.containsPoint(W))return!0}return!1}}();class qn extends Ts{constructor(...i){super(...i);this.isSeparatingAxisTriangle=!0,this.satAxes=new Array(4).fill().map(()=>new z),this.satBounds=new Array(4).fill().map(()=>new fn),this.points=[this.a,this.b,this.c],this.sphere=new _i,this.plane=new mi,this.needsUpdate=!1}intersectsSphere(i){return IU(i,this)}update(){const i=this.a,e=this.b,s=this.c,n=this.points,l=this.satAxes,r=this.satBounds,a=l[0],o=r[0];this.getNormal(a),o.setFromPoints(a,n);const c=l[1],h=r[1];c.subVectors(i,e),h.setFromPoints(c,n);const d=l[2],u=r[2];d.subVectors(e,s),u.setFromPoints(d,n);const p=l[3],Z=r[3];p.subVectors(s,i),Z.setFromPoints(p,n),this.sphere.setFromPoints(this.points),this.plane.setFromNormalAndCoplanarPoint(a,i),this.needsUpdate=!1}}qn.prototype.closestPointToSegment=function(){const t=new z,i=new z,e=new Zn;return function(n,l=null,r=null){const{start:a,end:o}=n,c=this.points;let h,d=1/0;for(let u=0;u<3;u++){const p=(u+1)%3;e.start.copy(c[u]),e.end.copy(c[p]),xp(e,n,t,i),h=t.distanceToSquared(i),h<d&&(d=h,l&&l.copy(t),r&&r.copy(i))}return this.closestPointToPoint(a,t),h=a.distanceToSquared(t),h<d&&(d=h,l&&l.copy(t),r&&r.copy(a)),this.closestPointToPoint(o,t),h=o.distanceToSquared(t),h<d&&(d=h,l&&l.copy(t),r&&r.copy(o)),Math.sqrt(d)}}(),qn.prototype.intersectsTriangle=function(){const t=new qn,i=new Array(3),e=new Array(3),s=new fn,n=new fn,l=new z,r=new z,a=new z,o=new z,c=new Zn,h=new Zn,d=new Zn;return function(p,Z=null){this.needsUpdate&&this.update(),p.isSeparatingAxisTriangle?p.needsUpdate&&p.update():(t.copy(p),t.update(),p=t);const X=this.satBounds,R=this.satAxes;e[0]=p.a,e[1]=p.b,e[2]=p.c;for(let F=0;F<4;F++){const M=X[F],N=R[F];if(s.setFromPoints(N,e),M.isSeparated(s))return!1}const W=p.satBounds,S=p.satAxes;i[0]=this.a,i[1]=this.b,i[2]=this.c;for(let F=0;F<4;F++){const M=W[F],N=S[F];if(s.setFromPoints(N,i),M.isSeparated(s))return!1}for(let F=0;F<4;F++){const M=R[F];for(let N=0;N<4;N++){const E=S[N];if(l.crossVectors(M,E),s.setFromPoints(l,i),n.setFromPoints(l,e),s.isSeparated(n))return!1}}if(Z){const F=this.plane,M=p.plane;if(Math.abs(F.normal.dot(M.normal))>1-1e-10)console.warn("SeparatingAxisTriangle.intersectsTriangle: Triangles are coplanar which does not support an output edge. Setting edge to 0, 0, 0."),Z.start.set(0,0,0),Z.end.set(0,0,0);else{const N=this.points;let E=!1;for(let q=0;q<3;q++){const $=N[q],H=N[(q+1)%3];if(c.start.copy($),c.end.copy(H),M.intersectLine(c,E?h.start:h.end)){if(E)break;E=!0}}const Y=p.points;let O=!1;for(let q=0;q<3;q++){const $=Y[q],H=Y[(q+1)%3];if(c.start.copy($),c.end.copy(H),F.intersectLine(c,O?d.start:d.end)){if(O)break;O=!0}}if(h.delta(r),d.delta(a),r.dot(a)<0){let q=d.start;d.start=d.end,d.end=q}o.subVectors(h.start,d.start),o.dot(r)>0?Z.start.copy(h.start):Z.start.copy(d.start),o.subVectors(h.end,d.end),o.dot(r)<0?Z.end.copy(h.end):Z.end.copy(d.end)}}return!0}}(),qn.prototype.distanceToPoint=function(){const t=new z;return function(e){return this.closestPointToPoint(e,t),e.distanceTo(t)}}(),qn.prototype.distanceToTriangle=function(){const t=new z,i=new z,e=["a","b","c"],s=new Zn,n=new Zn;return function(r,a=null,o=null){const c=a||o?s:null;if(this.intersectsTriangle(r,c))return(a||o)&&(a&&c.getCenter(a),o&&c.getCenter(o)),0;let h=1/0;for(let d=0;d<3;d++){let u;const p=e[d],Z=r[p];this.closestPointToPoint(Z,t),u=Z.distanceToSquared(t),u<h&&(h=u,a&&a.copy(t),o&&o.copy(Z));const X=this[p];r.closestPointToPoint(X,t),u=X.distanceToSquared(t),u<h&&(h=u,a&&a.copy(X),o&&o.copy(t))}for(let d=0;d<3;d++){const u=e[d],p=e[(d+1)%3];s.set(this[u],this[p]);for(let Z=0;Z<3;Z++){const X=e[Z],R=e[(Z+1)%3];n.set(r[X],r[R]),xp(s,n,t,i);const W=t.distanceToSquared(i);W<h&&(h=W,a&&a.copy(t),o&&o.copy(i))}}return Math.sqrt(h)}}();class Vn extends is{constructor(...i){super(...i);this.isOrientedBox=!0,this.matrix=new _t,this.invMatrix=new _t,this.points=new Array(8).fill().map(()=>new z),this.satAxes=new Array(3).fill().map(()=>new z),this.satBounds=new Array(3).fill().map(()=>new fn),this.alignedSatBounds=new Array(3).fill().map(()=>new fn),this.needsUpdate=!1}set(i,e,s){super.set(i,e),this.matrix=s,this.needsUpdate=!0}copy(i){super.copy(i),this.matrix.copy(i.matrix),this.needsUpdate=!0}}Vn.prototype.update=function(){return function(){const i=this.matrix,e=this.min,s=this.max,n=this.points;for(let c=0;c<=1;c++)for(let h=0;h<=1;h++)for(let d=0;d<=1;d++){const u=1*c|2*h|4*d,p=n[u];p.x=c?s.x:e.x,p.y=h?s.y:e.y,p.z=d?s.z:e.z,p.applyMatrix4(i)}const l=this.satBounds,r=this.satAxes,a=n[0];for(let c=0;c<3;c++){const h=r[c],d=l[c],u=1<<c,p=n[u];h.subVectors(a,p),d.setFromPoints(h,n)}const o=this.alignedSatBounds;o[0].setFromPointsField(n,"x"),o[1].setFromPointsField(n,"y"),o[2].setFromPointsField(n,"z"),this.invMatrix.copy(this.matrix).invert(),this.needsUpdate=!1}}(),Vn.prototype.intersectsBox=function(){const t=new fn;return function(e){this.needsUpdate&&this.update();const s=e.min,n=e.max,l=this.satBounds,r=this.satAxes,a=this.alignedSatBounds;if(t.min=s.x,t.max=n.x,a[0].isSeparated(t)||(t.min=s.y,t.max=n.y,a[1].isSeparated(t))||(t.min=s.z,t.max=n.z,a[2].isSeparated(t)))return!1;for(let o=0;o<3;o++){const c=r[o],h=l[o];if(t.setFromBox(c,e),h.isSeparated(t))return!1}return!0}}(),Vn.prototype.intersectsTriangle=function(){const t=new qn,i=new Array(3),e=new fn,s=new fn,n=new z;return function(r){this.needsUpdate&&this.update(),r.isSeparatingAxisTriangle?r.needsUpdate&&r.update():(t.copy(r),t.update(),r=t);const a=this.satBounds,o=this.satAxes;i[0]=r.a,i[1]=r.b,i[2]=r.c;for(let u=0;u<3;u++){const p=a[u],Z=o[u];if(e.setFromPoints(Z,i),p.isSeparated(e))return!1}const c=r.satBounds,h=r.satAxes,d=this.points;for(let u=0;u<3;u++){const p=c[u],Z=h[u];if(e.setFromPoints(Z,d),p.isSeparated(e))return!1}for(let u=0;u<3;u++){const p=o[u];for(let Z=0;Z<4;Z++){const X=h[Z];if(n.crossVectors(p,X),e.setFromPoints(n,i),s.setFromPoints(n,d),e.isSeparated(s))return!1}}return!0}}(),Vn.prototype.closestPointToPoint=function(){return function(i,e){return this.needsUpdate&&this.update(),e.copy(i).applyMatrix4(this.invMatrix).clamp(this.min,this.max).applyMatrix4(this.matrix),e}}(),Vn.prototype.distanceToPoint=function(){const t=new z;return function(e){return this.closestPointToPoint(e,t),e.distanceTo(t)}}(),Vn.prototype.distanceToBox=function(){const t=["x","y","z"],i=new Array(12).fill().map(()=>new Zn),e=new Array(12).fill().map(()=>new Zn),s=new z,n=new z;return function(r,a=0,o=null,c=null){if(this.needsUpdate&&this.update(),this.intersectsBox(r))return(o||c)&&(r.getCenter(n),this.closestPointToPoint(n,s),r.closestPointToPoint(s,n),o&&o.copy(s),c&&c.copy(n)),0;const h=a*a,d=r.min,u=r.max,p=this.points;let Z=1/0;for(let R=0;R<8;R++){const W=p[R];n.copy(W).clamp(d,u);const S=W.distanceToSquared(n);if(S<Z&&(Z=S,o&&o.copy(W),c&&c.copy(n),S<h))return Math.sqrt(S)}let X=0;for(let R=0;R<3;R++)for(let W=0;W<=1;W++)for(let S=0;S<=1;S++){const F=(R+1)%3,M=(R+2)%3,N=W<<F|S<<M,E=1<<R|W<<F|S<<M,Y=p[N],O=p[E];i[X].set(Y,O);const $=t[R],H=t[F],j=t[M],mt=e[X],st=mt.start,ot=mt.end;st[$]=d[$],st[H]=W?d[H]:u[H],st[j]=S?d[j]:u[H],ot[$]=u[$],ot[H]=W?d[H]:u[H],ot[j]=S?d[j]:u[H],X++}for(let R=0;R<=1;R++)for(let W=0;W<=1;W++)for(let S=0;S<=1;S++){n.x=R?u.x:d.x,n.y=W?u.y:d.y,n.z=S?u.z:d.z,this.closestPointToPoint(n,s);const F=n.distanceToSquared(s);if(F<Z&&(Z=F,o&&o.copy(s),c&&c.copy(n),F<h))return Math.sqrt(F)}for(let R=0;R<12;R++){const W=i[R];for(let S=0;S<12;S++){const F=e[S];xp(W,F,s,n);const M=s.distanceToSquared(n);if(M<Z&&(Z=M,o&&o.copy(s),c&&c.copy(n),M<h))return Math.sqrt(M)}}return Math.sqrt(Z)}}();const kh=new z,Ph=new z,Uh=new z,SZ=new Wt,CZ=new Wt,fZ=new Wt,VZ=new z;function gU(t,i,e,s,n,l){let r;return l===gi?r=t.intersectTriangle(s,e,i,!0,n):r=t.intersectTriangle(i,e,s,l!==pi,n),r===null?null:{distance:t.origin.distanceTo(n),point:n.clone()}}function WU(t,i,e,s,n,l,r){kh.fromBufferAttribute(i,s),Ph.fromBufferAttribute(i,n),Uh.fromBufferAttribute(i,l);const a=gU(t,kh,Ph,Uh,VZ,r);if(a){e&&(SZ.fromBufferAttribute(e,s),CZ.fromBufferAttribute(e,n),fZ.fromBufferAttribute(e,l),a.uv=Ts.getUV(VZ,kh,Ph,Uh,SZ,CZ,fZ,new Wt));const o={a:s,b:n,c:l,normal:new z,materialIndex:0};Ts.getNormal(kh,Ph,Uh,o.normal),a.face=o,a.faceIndex=s}return a}function xZ(t,i,e,s,n){const l=s*3,r=t.index.getX(l),a=t.index.getX(l+1),o=t.index.getX(l+2),c=WU(e,t.attributes.position,t.attributes.uv,r,a,o,i);return c?(c.faceIndex=s,n&&n.push(c),c):null}function LU(t,i,e,s,n,l){for(let r=s,a=s+n;r<a;r++)xZ(t,i,e,r,l)}function SU(t,i,e,s,n){let l=1/0,r=null;for(let a=s,o=s+n;a<o;a++){const c=xZ(t,i,e,a);c&&c.distance<l&&(r=c,l=c.distance)}return r}function Dh(t,i,e){return t===null||(t.point.applyMatrix4(i.matrixWorld),t.distance=t.point.distanceTo(e.ray.origin),t.object=i,t.distance<e.near||t.distance>e.far)?null:t}function xn(t,i,e,s){const n=t.a,l=t.b,r=t.c;let a=i,o=i+1,c=i+2;e&&(a=e.getX(i),o=e.getX(i+1),c=e.getX(i+2)),n.x=s.getX(a),n.y=s.getY(a),n.z=s.getZ(a),l.x=s.getX(o),l.y=s.getY(o),l.z=s.getZ(o),r.x=s.getX(c),r.y=s.getY(c),r.z=s.getZ(c)}function NZ(t,i,e,s,n,l,r){const a=e.index,o=e.attributes.position;for(let c=t,h=i+t;c<h;c++)if(xn(r,c*3,a,o),r.needsUpdate=!0,s(r,c,n,l))return!0;return!1}class FZ{constructor(i){this._getNewPrimitive=i,this._primitives=[]}getPrimitive(){const i=this._primitives;return i.length===0?this._getNewPrimitive():i.pop()}releasePrimitive(i){this._primitives.push(i)}}function Vl(t,i){return i[t+15]===65535}function ga(t,i){return i[t+6]}function Bo(t,i){return i[t+14]}function Ao(t){return t+8}function jo(t,i){return i[t+6]}function CU(t,i){return i[t+7]}function Itt(t){return t}const Wa=new is,Jh=new z,fU=["x","y","z"];function Np(t,i,e,s,n){let l=t*2,r=La,a=xl,o=Nl;if(Vl(l,a)){const h=ga(t,o),d=Bo(l,a);LU(i,e,s,h,d,n)}else{const h=Ao(t);Oh(h,r,s,Jh)&&Np(h,i,e,s,n);const d=jo(t,o);Oh(d,r,s,Jh)&&Np(d,i,e,s,n)}}function Fp(t,i,e,s){let n=t*2,l=La,r=xl,a=Nl;if(Vl(n,r)){const c=ga(t,a),h=Bo(n,r);return SU(i,e,s,c,h)}else{const c=CU(t,a),h=fU[c],u=s.direction[h]>=0;let p,Z;u?(p=Ao(t),Z=jo(t,a)):(p=jo(t,a),Z=Ao(t));const R=Oh(p,l,s,Jh)?Fp(p,i,e,s):null;if(R){const F=R.point[h];if(u?F<=l[Z+c]:F>=l[Z+c+3])return R}const S=Oh(Z,l,s,Jh)?Fp(Z,i,e,s):null;return R&&S?R.distance<=S.distance?R:S:R||S||null}}const VU=function(){let t,i;const e=[],s=new FZ(()=>new is);return function(...r){t=s.getPrimitive(),i=s.getPrimitive(),e.push(t,i);const a=n(...r);s.releasePrimitive(t),s.releasePrimitive(i),e.pop(),e.pop();const o=e.length;return o>0&&(i=e[o-1],t=e[o-2]),a};function n(l,r,a,o,c=null,h=0,d=0){function u(F){let M=F*2,N=xl,E=Nl;for(;!Vl(M,N);)F=Ao(F),M=F*2;return ga(F,E)}function p(F){let M=F*2,N=xl,E=Nl;for(;!Vl(M,N);)F=jo(F,E),M=F*2;return ga(F,E)+Bo(M,N)}let Z=l*2,X=La,R=xl,W=Nl;if(Vl(Z,R)){const F=ga(l,W),M=Bo(Z,R);return Cn(l,X,t),o(F,M,!1,d,h+l,t)}else{const F=Ao(l),M=jo(l,W);let N=F,E=M,Y,O,q,$;if(c&&(q=t,$=i,Cn(N,X,q),Cn(E,X,$),Y=c(q),O=c($),O<Y)){N=M,E=F;const lt=Y;Y=O,O=lt,q=$}q||(q=t,Cn(N,X,q));const H=Vl(N*2,R),j=a(q,H,Y,d+1,h+N);let mt;if(j===RZ){const lt=u(N),Gt=p(N)-lt;mt=o(lt,Gt,!0,d+1,h+N,q)}else mt=j&&n(N,r,a,o,c,h,d+1);if(mt)return!0;$=i,Cn(E,X,$);const st=Vl(E*2,R),ot=a($,st,O,d+1,h+E);let rt;if(ot===RZ){const lt=u(E),Gt=p(E)-lt;rt=o(lt,Gt,!0,d+1,h+E,$)}else rt=ot&&n(E,r,a,o,c,h,d+1);return!!rt}}}(),xU=function(){const t=new qn,i=new qn,e=new _t,s=new Vn,n=new Vn;return function l(r,a,o,c,h=null){let d=r*2,u=La,p=xl,Z=Nl;if(h===null&&(o.boundingBox||o.computeBoundingBox(),s.set(o.boundingBox.min,o.boundingBox.max,c),h=s),Vl(d,p)){const R=a,W=R.index,S=R.attributes.position,F=o.index,M=o.attributes.position,N=ga(r,Z),E=Bo(d,p);if(e.copy(c).invert(),o.boundsTree)return Cn(r,u,n),n.matrix.copy(e),n.needsUpdate=!0,o.boundsTree.shapecast({intersectsBounds:O=>n.intersectsBox(O),intersectsTriangle:O=>{O.a.applyMatrix4(c),O.b.applyMatrix4(c),O.c.applyMatrix4(c),O.needsUpdate=!0;for(let q=N*3,$=(E+N)*3;q<$;q+=3)if(xn(i,q,W,S),i.needsUpdate=!0,O.intersectsTriangle(i))return!0;return!1}});for(let Y=N*3,O=E+N*3;Y<O;Y+=3){xn(t,Y,W,S),t.a.applyMatrix4(e),t.b.applyMatrix4(e),t.c.applyMatrix4(e),t.needsUpdate=!0;for(let q=0,$=F.count;q<$;q+=3)if(xn(i,q,F,M),i.needsUpdate=!0,t.intersectsTriangle(i))return!0}}else{const R=r+8,W=Z[r+6];return Cn(R,u,Wa),!!(h.intersectsBox(Wa)&&l(R,a,o,c,h)||(Cn(W,u,Wa),h.intersectsBox(Wa)&&l(W,a,o,c,h)))}}}();function Oh(t,i,e,s){return Cn(t,i,Wa),e.intersectBox(Wa,s)}const Mp=[];let Bh,La,xl,Nl;function Qo(t){Bh&&Mp.push(Bh),Bh=t,La=new Float32Array(t),xl=new Uint16Array(t),Nl=new Uint32Array(t)}function Ah(){Bh=null,La=null,xl=null,Nl=null,Mp.length&&Qo(Mp.pop())}const Yp=Symbol("skip tree generation"),vp=new is,Ep=new is,Sa=new _t,rr=new Vn,_o=new Vn,qo=new z,jh=new z,NU=new z,FU=new z,MU=new z,MZ=new is,Nn=new FZ(()=>new qn);class As{static serialize(i,e={}){if(e.isBufferGeometry)return console.warn("MeshBVH.serialize: The arguments for the function have changed. See documentation for new signature."),As.serialize(arguments[0],{cloneBuffers:arguments[2]===void 0?!0:arguments[2]});e={cloneBuffers:!0,...e};const s=i.geometry,n=i._roots,l=s.getIndex();let r;return e.cloneBuffers?r={roots:n.map(a=>a.slice()),index:l.array.slice()}:r={roots:n,index:l.array},r}static deserialize(i,e,s={}){if(typeof s=="boolean")return console.warn("MeshBVH.deserialize: The arguments for the function have changed. See documentation for new signature."),As.deserialize(arguments[0],arguments[1],{setIndex:arguments[2]===void 0?!0:arguments[2]});s={setIndex:!0,...s};const{index:n,roots:l}=i,r=new As(e,{...s,[Yp]:!0});if(r._roots=l,s.setIndex){const a=e.getIndex();if(a===null){const o=new Ne(i.index,1,!1);e.setIndex(o)}else a.array!==n&&(a.array.set(n),a.needsUpdate=!0)}return r}constructor(i,e={}){if(i.isBufferGeometry){if(i.index&&i.index.isInterleavedBufferAttribute)throw new Error("MeshBVH: InterleavedBufferAttribute is not supported for the index attribute.")}else throw new Error("MeshBVH: Only BufferGeometries are supported.");if(e=Object.assign({strategy:TZ,maxDepth:40,maxLeafTris:10,verbose:!0,useSharedArrayBuffer:!1,setBoundingBox:!0,onProgress:null,[Yp]:!1},e),e.useSharedArrayBuffer&&typeof SharedArrayBuffer>"u")throw new Error("MeshBVH: SharedArrayBuffer is not available.");this._roots=null,e[Yp]||(this._roots=TU(i,e),!i.boundingBox&&e.setBoundingBox&&(i.boundingBox=this.getBoundingBox(new is))),this.geometry=i}refit(i=null){i&&Array.isArray(i)&&(i=new Set(i));const e=this.geometry,s=e.index.array,n=e.attributes.position,l=n.array,r=n.offset||0;let a=3;n.isInterleavedBufferAttribute&&(a=n.data.stride);let o,c,h,d,u=0;const p=this._roots;for(let X=0,R=p.length;X<R;X++)o=p[X],c=new Uint32Array(o),h=new Uint16Array(o),d=new Float32Array(o),Z(0,u),u+=o.byteLength;function Z(X,R,W=!1){const S=X*2;if(h[S+15]===fp){const M=c[X+6],N=h[S+14];let E=1/0,Y=1/0,O=1/0,q=-1/0,$=-1/0,H=-1/0;for(let j=3*M,mt=3*(M+N);j<mt;j++){const st=s[j]*a+r,ot=l[st+0],rt=l[st+1],lt=l[st+2];ot<E&&(E=ot),ot>q&&(q=ot),rt<Y&&(Y=rt),rt>$&&($=rt),lt<O&&(O=lt),lt>H&&(H=lt)}return d[X+0]!==E||d[X+1]!==Y||d[X+2]!==O||d[X+3]!==q||d[X+4]!==$||d[X+5]!==H?(d[X+0]=E,d[X+1]=Y,d[X+2]=O,d[X+3]=q,d[X+4]=$,d[X+5]=H,!0):!1}else{const M=X+8,N=c[X+6],E=M+R,Y=N+R;let O=W,q=!1,$=!1;i?O||(q=i.has(E),$=i.has(Y),O=!q&&!$):(q=!0,$=!0);const H=O||q,j=O||$;let mt=!1;H&&(mt=Z(M,R,O));let st=!1;j&&(st=Z(N,R,O));const ot=mt||st;if(ot)for(let rt=0;rt<3;rt++){const lt=M+rt,nt=N+rt,Gt=d[lt],gt=d[lt+3],Mt=d[nt],Ct=d[nt+3];d[X+rt]=Gt<Mt?Gt:Mt,d[X+rt+3]=gt>Ct?gt:Ct}return ot}}}traverse(i,e=0){const s=this._roots[e],n=new Uint32Array(s),l=new Uint16Array(s);r(0);function r(a,o=0){const c=a*2,h=l[c+15]===fp;if(h){const d=n[a+6],u=l[c+14];i(o,h,new Float32Array(s,a*4,6),d,u)}else{const d=a+zh/4,u=n[a+6],p=n[a+7];i(o,h,new Float32Array(s,a*4,6),p)||(r(d,o+1),r(u,o+1))}}}raycast(i,e=ll){const s=this._roots,n=this.geometry,l=[],r=e.isMaterial,a=Array.isArray(e),o=n.groups,c=r?e.side:e;for(let h=0,d=s.length;h<d;h++){const u=a?e[o[h].materialIndex].side:c,p=l.length;if(Qo(s[h]),Np(0,n,u,i,l),Ah(),a){const Z=o[h].materialIndex;for(let X=p,R=l.length;X<R;X++)l[X].face.materialIndex=Z}}return l}raycastFirst(i,e=ll){const s=this._roots,n=this.geometry,l=e.isMaterial,r=Array.isArray(e);let a=null;const o=n.groups,c=l?e.side:e;for(let h=0,d=s.length;h<d;h++){const u=r?e[o[h].materialIndex].side:c;Qo(s[h]);const p=Fp(0,n,u,i);Ah(),p!=null&&(a==null||p.distance<a.distance)&&(a=p,r&&(p.face.materialIndex=o[h].materialIndex))}return a}intersectsGeometry(i,e){const s=this.geometry;let n=!1;for(const l of this._roots)if(Qo(l),n=xU(0,s,i,e),Ah(),n)break;return n}shapecast(i,e,s){const n=this.geometry;if(i instanceof Function){if(e){const u=e;e=(p,Z,X,R)=>{const W=Z*3;return u(p,W,W+1,W+2,X,R)}}i={boundsTraverseOrder:s,intersectsBounds:i,intersectsTriangle:e,intersectsRange:null},console.warn("MeshBVH: Shapecast function signature has changed and now takes an object of callbacks as a second argument. See docs for new signature.")}const l=Nn.getPrimitive();let{boundsTraverseOrder:r,intersectsBounds:a,intersectsRange:o,intersectsTriangle:c}=i;if(o&&c){const u=o;o=(p,Z,X,R,W)=>u(p,Z,X,R,W)?!0:NZ(p,Z,n,c,X,R,l)}else o||(c?o=(u,p,Z,X)=>NZ(u,p,n,c,Z,X,l):o=(u,p,Z)=>Z);let h=!1,d=0;for(const u of this._roots){if(Qo(u),h=VU(0,n,a,o,r,d),Ah(),h)break;d+=u.byteLength}return Nn.releasePrimitive(l),h}bvhcast(i,e,s){let{intersectsRanges:n,intersectsTriangles:l}=s;const r=this.geometry.index,a=this.geometry.attributes.position,o=i.geometry.index,c=i.geometry.attributes.position;Sa.copy(e).invert();const h=Nn.getPrimitive(),d=Nn.getPrimitive();if(l){let p=function(Z,X,R,W,S,F,M,N){for(let E=R,Y=R+W;E<Y;E++){xn(d,E*3,o,c),d.a.applyMatrix4(e),d.b.applyMatrix4(e),d.c.applyMatrix4(e),d.needsUpdate=!0;for(let O=Z,q=Z+X;O<q;O++)if(xn(h,O*3,r,a),h.needsUpdate=!0,l(h,d,O,E,S,F,M,N))return!0}return!1};if(n){const Z=n;n=function(X,R,W,S,F,M,N,E){return Z(X,R,W,S,F,M,N,E)?!0:p(X,R,W,S,F,M,N,E)}}else n=p}this.getBoundingBox(Ep),Ep.applyMatrix4(e);const u=this.shapecast({intersectsBounds:p=>Ep.intersectsBox(p),intersectsRange:(p,Z,X,R,W,S)=>(vp.copy(S),vp.applyMatrix4(Sa),i.shapecast({intersectsBounds:F=>vp.intersectsBox(F),intersectsRange:(F,M,N,E,Y)=>n(p,Z,F,M,R,W,E,Y)}))});return Nn.releasePrimitive(h),Nn.releasePrimitive(d),u}intersectsBox(i,e){return rr.set(i.min,i.max,e),rr.needsUpdate=!0,this.shapecast({intersectsBounds:s=>rr.intersectsBox(s),intersectsTriangle:s=>rr.intersectsTriangle(s)})}intersectsSphere(i){return this.shapecast({intersectsBounds:e=>i.intersectsBox(e),intersectsTriangle:e=>e.intersectsSphere(i)})}closestPointToGeometry(i,e,s={},n={},l=0,r=1/0){i.boundingBox||i.computeBoundingBox(),rr.set(i.boundingBox.min,i.boundingBox.max,e),rr.needsUpdate=!0;const a=this.geometry,o=a.attributes.position,c=a.index,h=i.attributes.position,d=i.index,u=Nn.getPrimitive(),p=Nn.getPrimitive();let Z=jh,X=NU,R=null,W=null;n&&(R=FU,W=MU);let S=1/0,F=null,M=null;return Sa.copy(e).invert(),_o.matrix.copy(Sa),this.shapecast({boundsTraverseOrder:N=>rr.distanceToBox(N,Math.min(S,r)),intersectsBounds:(N,E,Y)=>Y<S&&Y<r?(E&&(_o.min.copy(N.min),_o.max.copy(N.max),_o.needsUpdate=!0),!0):!1,intersectsRange:(N,E)=>{if(i.boundsTree)return i.boundsTree.shapecast({boundsTraverseOrder:Y=>_o.distanceToBox(Y,Math.min(S,r)),intersectsBounds:(Y,O,q)=>q<S&&q<r,intersectsRange:(Y,O)=>{for(let q=Y*3,$=(Y+O)*3;q<$;q+=3){xn(p,q,d,h),p.a.applyMatrix4(e),p.b.applyMatrix4(e),p.c.applyMatrix4(e),p.needsUpdate=!0;for(let H=N*3,j=(N+E)*3;H<j;H+=3){xn(u,H,c,o),u.needsUpdate=!0;const mt=u.distanceToTriangle(p,Z,R);if(mt<S&&(X.copy(Z),W&&W.copy(R),S=mt,F=H/3,M=q/3),mt<l)return!0}}}});{const Y=d?d.count:h.count;for(let O=0,q=Y;O<q;O+=3){xn(p,O,d,h),p.a.applyMatrix4(e),p.b.applyMatrix4(e),p.c.applyMatrix4(e),p.needsUpdate=!0;for(let $=N*3,H=(N+E)*3;$<H;$+=3){xn(u,$,c,o),u.needsUpdate=!0;const j=u.distanceToTriangle(p,Z,R);if(j<S&&(X.copy(Z),W&&W.copy(R),S=j,F=$/3,M=O/3),j<l)return!0}}}}}),Nn.releasePrimitive(u),Nn.releasePrimitive(p),S===1/0?null:(s.point?s.point.copy(X):s.point=X.clone(),s.distance=S,s.faceIndex=F,n&&(n.point?n.point.copy(W):n.point=W.clone(),n.point.applyMatrix4(Sa),X.applyMatrix4(Sa),n.distance=X.sub(n.point).length(),n.faceIndex=M),s)}closestPointToPoint(i,e={},s=0,n=1/0){const l=s*s,r=n*n;let a=1/0,o=null;if(this.shapecast({boundsTraverseOrder:h=>(qo.copy(i).clamp(h.min,h.max),qo.distanceToSquared(i)),intersectsBounds:(h,d,u)=>u<a&&u<r,intersectsTriangle:(h,d)=>{h.closestPointToPoint(i,qo);const u=i.distanceToSquared(qo);return u<a&&(jh.copy(qo),a=u,o=d),u<l}}),a===1/0)return null;const c=Math.sqrt(a);return e.point?e.point.copy(jh):e.point=jh.clone(),e.distance=c,e.faceIndex=o,e}getBoundingBox(i){return i.makeEmpty(),this._roots.forEach(s=>{Cn(0,new Float32Array(s),MZ),i.union(MZ)}),i}}const YZ=As.prototype.raycast;As.prototype.raycast=function(...t){if(t[0].isMesh){console.warn('MeshBVH: The function signature and results frame for "raycast" has changed. See docs for new signature.');const[i,e,s,n]=t;return YZ.call(this,s,i.material).forEach(r=>{r=Dh(r,i,e),r&&n.push(r)}),n}else return YZ.apply(this,t)};const vZ=As.prototype.raycastFirst;As.prototype.raycastFirst=function(...t){if(t[0].isMesh){console.warn('MeshBVH: The function signature and results frame for "raycastFirst" has changed. See docs for new signature.');const[i,e,s]=t;return Dh(vZ.call(this,s,i.material),i,e)}else return vZ.apply(this,t)};const EZ=As.prototype.closestPointToPoint;As.prototype.closestPointToPoint=function(...t){if(t[0].isMesh){console.warn('MeshBVH: The function signature and results frame for "closestPointToPoint" has changed. See docs for new signature.'),t.unshift();const i=t[1],e={};return t[1]=e,EZ.apply(this,t),i&&i.copy(e.point),e.distance}else return EZ.apply(this,t)};const zZ=As.prototype.closestPointToGeometry;As.prototype.closestPointToGeometry=function(...t){const i=t[2],e=t[3];if(i&&i.isVector3||e&&e.isVector3){console.warn('MeshBVH: The function signature and results frame for "closestPointToGeometry" has changed. See docs for new signature.');const s={},n={},l=t[1];return t[2]=s,t[3]=n,zZ.apply(this,t),i&&i.copy(s.point),e&&e.copy(n.point).applyMatrix4(l),s.distance}else return zZ.apply(this,t)};const HZ=As.prototype.refit;As.prototype.refit=function(...t){const i=t[0],e=t[1];if(e&&(e instanceof Set||Array.isArray(e))){console.warn('MeshBVH: The function signature for "refit" has changed. See docs for new signature.');const s=new Set;e.forEach(n=>s.add(n)),i&&i.forEach(n=>s.add(n)),HZ.call(this,s)}else HZ.apply(this,t)},["intersectsGeometry","shapecast","intersectsBox","intersectsSphere"].forEach(t=>{const i=As.prototype[t];As.prototype[t]=function(...e){return(e[0]===null||e[0].isMesh)&&(e.shift(),console.warn(`MeshBVH: The function signature for "${t}" has changed and no longer takes Mesh. See docs for new signature.`)),i.apply(this,e)}});const zp=new hl,KZ=new _t,YU=ns.prototype.raycast;function vU(t,i){if(this.geometry.boundsTree){if(this.material===void 0)return;KZ.copy(this.matrixWorld).invert(),zp.copy(t.ray).applyMatrix4(KZ);const e=this.geometry.boundsTree;if(t.firstHitOnly===!0){const s=Dh(e.raycastFirst(zp,this.material),this,t);s&&i.push(s)}else{const s=e.raycast(zp,this.material);for(let n=0,l=s.length;n<l;n++){const r=Dh(s[n],this,t);r&&i.push(r)}}}else YU.call(this,t,i)}function EU(t){return this.boundsTree=new As(this,t),this.boundsTree}function zU(){this.boundsTree=null}var HU=Object.defineProperty,wZ=Object.getOwnPropertySymbols,KU=Object.prototype.hasOwnProperty,wU=Object.prototype.propertyIsEnumerable,kZ=(t,i,e)=>i in t?HU(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e,Qh=(t,i)=>{for(var e in i||(i={}))KU.call(i,e)&&kZ(t,e,i[e]);if(wZ)for(var e of wZ(i))wU.call(i,e)&&kZ(t,e,i[e]);return t},ti=t=>{if(typeof require<"u")return require(t);throw new Error('Dynamic require of "'+t+'" is not supported')},Hp=(t,i)=>function(){return i||(0,t[Object.keys(t)[0]])((i={exports:{}}).exports,i),i.exports},Gi=(t,i,e)=>new Promise((s,n)=>{var l=o=>{try{a(e.next(o))}catch(c){n(c)}},r=o=>{try{a(e.throw(o))}catch(c){n(c)}},a=o=>o.done?s(o.value):Promise.resolve(o.value).then(l,r);a((e=e.apply(t,i)).next())}),PZ=Hp({"(disabled):crypto"(){}}),kU=Hp({"dist/web-ifc-mt.js"(t,i){var e=function(){var s=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(s=s||__filename),function(n){n=n||{};function l(){return wt.buffer!=ht&&_(wt.buffer),xt}function r(){return wt.buffer!=ht&&_(wt.buffer),Dt}function a(){return wt.buffer!=ht&&_(wt.buffer),$t}function o(){return wt.buffer!=ht&&_(wt.buffer),pe}function c(){return wt.buffer!=ht&&_(wt.buffer),yt}function h(){return wt.buffer!=ht&&_(wt.buffer),Ce}function d(){return wt.buffer!=ht&&_(wt.buffer),xe}function u(){return wt.buffer!=ht&&_(wt.buffer),ie}var p=typeof n<"u"?n:{},Z,X;p.ready=new Promise(function(m,b){Z=m,X=b});var R={},W;for(W in p)p.hasOwnProperty(W)&&(R[W]=p[W]);var S="./this.program",F=function(m,b){throw b},M=typeof window=="object",N=typeof importScripts=="function",E=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",Y=p.ENVIRONMENT_IS_PTHREAD||!1,O="";function q(m){return p.locateFile?p.locateFile(m,O):O+m}var $,H,j,mt,st;if(E){N?O=ti("path").dirname(O)+"/":O=__dirname+"/",$=function(b,T){return mt||(mt=ti("fs")),st||(st=ti("path")),b=st.normalize(b),mt.readFileSync(b,T?null:"utf8")},j=function(b){var T=$(b,!0);return T.buffer||(T=new Uint8Array(T)),Zt(T.buffer),T},H=function(b,T,L){mt||(mt=ti("fs")),st||(st=ti("path")),b=st.normalize(b),mt.readFile(b,function(x,K){x?L(x):T(K.buffer)})},process.argv.length>1&&(S=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(m){if(!(m instanceof ja))throw m}),process.on("unhandledRejection",et),F=function(m,b){if(qe())throw process.exitCode=m,b;process.exit(m)},p.inspect=function(){return"[Emscripten Module object]"};var ot;try{ot=ti("worker_threads")}catch(m){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),m}global.Worker=ot.Worker}else(M||N)&&(N?O=self.location.href:typeof document<"u"&&document.currentScript&&(O=document.currentScript.src),s&&(O=s),O.indexOf("blob:")!==0?O=O.substr(0,O.lastIndexOf("/")+1):O="",E?($=function(b,T){return mt||(mt=ti("fs")),st||(st=ti("path")),b=st.normalize(b),mt.readFileSync(b,T?null:"utf8")},j=function(b){var T=$(b,!0);return T.buffer||(T=new Uint8Array(T)),Zt(T.buffer),T},H=function(b,T,L){mt||(mt=ti("fs")),st||(st=ti("path")),b=st.normalize(b),mt.readFile(b,function(x,K){x?L(x):T(K.buffer)})}):($=function(m){var b=new XMLHttpRequest;return b.open("GET",m,!1),b.send(null),b.responseText},N&&(j=function(m){var b=new XMLHttpRequest;return b.open("GET",m,!1),b.responseType="arraybuffer",b.send(null),new Uint8Array(b.response)}),H=function(m,b,T){var L=new XMLHttpRequest;L.open("GET",m,!0),L.responseType="arraybuffer",L.onload=function(){if(L.status==200||L.status==0&&L.response){b(L.response);return}T()},L.onerror=T,L.send(null)}));E&&typeof performance>"u"&&(global.performance=ti("perf_hooks").performance);var rt=p.print||console.log.bind(console),lt=p.printErr||console.warn.bind(console);for(W in R)R.hasOwnProperty(W)&&(p[W]=R[W]);R=null,p.arguments,p.thisProgram&&(S=p.thisProgram),p.quit&&(F=p.quit);var nt=16;function Gt(m,b){return b||(b=nt),Math.ceil(m/b)*b}function gt(m){gt.shown||(gt.shown={}),gt.shown[m]||(gt.shown[m]=1,lt(m))}var Mt;p.wasmBinary&&(Mt=p.wasmBinary);var Ct=p.noExitRuntime||!0;typeof WebAssembly!="object"&&et("no native wasm support detected");var wt,Me,Xe=!1;function Zt(m,b){m||et("Assertion failed: "+b)}function Oe(m){var b=new TextDecoder(m);this.decode=function(T){return T.buffer instanceof SharedArrayBuffer&&(T=new Uint8Array(T)),b.decode.call(b,T)}}var Se=typeof TextDecoder<"u"?new Oe("utf8"):void 0;function ye(m,b,T){b>>>=0;for(var L=b+T,x=b;m[x>>>0]&&!(x>=L);)++x;if(x-b>16&&m.subarray&&Se)return Se.decode(m.subarray(b>>>0,x>>>0));for(var K="";b<x;){var w=m[b++>>>0];if(!(w&128)){K+=String.fromCharCode(w);continue}var J=m[b++>>>0]&63;if((w&224)==192){K+=String.fromCharCode((w&31)<<6|J);continue}var Q=m[b++>>>0]&63;if((w&240)==224?w=(w&15)<<12|J<<6|Q:w=(w&7)<<18|J<<12|Q<<6|m[b++>>>0]&63,w<65536)K+=String.fromCharCode(w);else{var dt=w-65536;K+=String.fromCharCode(55296|dt>>10,56320|dt&1023)}}return K}function Lt(m,b){return m>>>=0,m?ye(r(),m,b):""}function ce(m,b,T,L){if(T>>>=0,!(L>0))return 0;for(var x=T,K=T+L-1,w=0;w<m.length;++w){var J=m.charCodeAt(w);if(J>=55296&&J<=57343){var Q=m.charCodeAt(++w);J=65536+((J&1023)<<10)|Q&1023}if(J<=127){if(T>=K)break;b[T++>>>0]=J}else if(J<=2047){if(T+1>=K)break;b[T++>>>0]=192|J>>6,b[T++>>>0]=128|J&63}else if(J<=65535){if(T+2>=K)break;b[T++>>>0]=224|J>>12,b[T++>>>0]=128|J>>6&63,b[T++>>>0]=128|J&63}else{if(T+3>=K)break;b[T++>>>0]=240|J>>18,b[T++>>>0]=128|J>>12&63,b[T++>>>0]=128|J>>6&63,b[T++>>>0]=128|J&63}}return b[T>>>0]=0,T-x}function bt(m,b,T){return ce(m,r(),b,T)}function Xt(m){for(var b=0,T=0;T<m.length;++T){var L=m.charCodeAt(T);L>=55296&&L<=57343&&(L=65536+((L&1023)<<10)|m.charCodeAt(++T)&1023),L<=127?++b:L<=2047?b+=2:L<=65535?b+=3:b+=4}return b}var at=typeof TextDecoder<"u"?new Oe("utf-16le"):void 0;function jt(m,b){for(var T=m,L=T>>1,x=L+b/2;!(L>=x)&&o()[L>>>0];)++L;if(T=L<<1,T-m>32&&at)return at.decode(r().subarray(m>>>0,T>>>0));for(var K="",w=0;!(w>=b/2);++w){var J=a()[m+w*2>>>1];if(J==0)break;K+=String.fromCharCode(J)}return K}function Ot(m,b,T){if(T===void 0&&(T=2147483647),T<2)return 0;T-=2;for(var L=b,x=T<m.length*2?T/2:m.length,K=0;K<x;++K){var w=m.charCodeAt(K);a()[b>>>1]=w,b+=2}return a()[b>>>1]=0,b-L}function Le(m){return m.length*2}function Ge(m,b){for(var T=0,L="";!(T>=b/4);){var x=c()[m+T*4>>>2];if(x==0)break;if(++T,x>=65536){var K=x-65536;L+=String.fromCharCode(55296|K>>10,56320|K&1023)}else L+=String.fromCharCode(x)}return L}function ae(m,b,T){if(b>>>=0,T===void 0&&(T=2147483647),T<4)return 0;for(var L=b,x=L+T-4,K=0;K<m.length;++K){var w=m.charCodeAt(K);if(w>=55296&&w<=57343){var J=m.charCodeAt(++K);w=65536+((w&1023)<<10)|J&1023}if(c()[b>>>2]=w,b+=4,b+4>x)break}return c()[b>>>2]=0,b-L}function cs(m){for(var b=0,T=0;T<m.length;++T){var L=m.charCodeAt(T);L>=55296&&L<=57343&&++T,b+=4}return b}function _e(m,b){l().set(m,b>>>0)}function B(m,b,T){for(var L=0;L<m.length;++L)l()[b++>>>0]=m.charCodeAt(L);T||(l()[b>>>0]=0)}function U(m,b){return m%b>0&&(m+=b-m%b),m}var ht,xt,Dt,$t,pe,yt,Ce,xe,ie;Y&&(ht=p.buffer);function _(m){ht=m,p.HEAP8=xt=new Int8Array(m),p.HEAP16=$t=new Int16Array(m),p.HEAP32=yt=new Int32Array(m),p.HEAPU8=Dt=new Uint8Array(m),p.HEAPU16=pe=new Uint16Array(m),p.HEAPU32=Ce=new Uint32Array(m),p.HEAPF32=xe=new Float32Array(m),p.HEAPF64=ie=new Float64Array(m)}var kt=p.INITIAL_MEMORY||16777216;if(Y)wt=p.wasmMemory,ht=p.buffer;else if(p.wasmMemory)wt=p.wasmMemory;else if(wt=new WebAssembly.Memory({initial:kt/65536,maximum:65536,shared:!0}),!(wt.buffer instanceof SharedArrayBuffer))throw lt("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),E&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");wt&&(ht=wt.buffer),kt=ht.byteLength,_(ht);var zt,me=[],qt=[],se=[],Pt=[],We=0;function qe(){return Ct||We>0}function Ze(){if(!Y){if(p.preRun)for(typeof p.preRun=="function"&&(p.preRun=[p.preRun]);p.preRun.length;)Zs(p.preRun.shift());js(me)}}function ei(){Y||(!p.noFSInit&&!V.init.initialized&&V.init(),V.ignorePermissions=!1,js(qt))}function Zi(){Y||js(se)}function ic(){if(!Y){if(p.postRun)for(typeof p.postRun=="function"&&(p.postRun=[p.postRun]);p.postRun.length;)Mn(p.postRun.shift());js(Pt)}}function Zs(m){me.unshift(m)}function fi(m){qt.unshift(m)}function Mn(m){Pt.unshift(m)}var wi=0,tl=null;function ed(m){return m}function Ml(m){wi++,p.monitorRunDependencies&&p.monitorRunDependencies(wi)}function D(m){if(wi--,p.monitorRunDependencies&&p.monitorRunDependencies(wi),wi==0&&tl){var b=tl;tl=null,b()}}p.preloadedImages={},p.preloadedAudios={};function et(m){p.onAbort&&p.onAbort(m),Y&&console.error("Pthread aborting at "+new Error().stack),m+="",lt(m),Xe=!0,m="abort("+m+"). Build with -s ASSERTIONS=1 for more info.";var b=new WebAssembly.RuntimeError(m);throw X(b),b}var pt="data:application/octet-stream;base64,";function ct(m){return m.startsWith(pt)}function Tt(m){return m.startsWith("file://")}var ne;ne="web-ifc-mt.wasm",ct(ne)||(ne=q(ne));function vt(m){try{if(m==ne&&Mt)return new Uint8Array(Mt);if(j)return j(m);throw"both async and sync fetching of the wasm failed"}catch(b){et(b)}}function Fe(){if(!Mt&&(M||N)){if(typeof fetch=="function"&&!Tt(ne))return fetch(ne,{credentials:"same-origin"}).then(function(m){if(!m.ok)throw"failed to load wasm binary file at '"+ne+"'";return m.arrayBuffer()}).catch(function(){return vt(ne)});if(H)return new Promise(function(m,b){H(ne,function(T){m(new Uint8Array(T))},b)})}return Promise.resolve().then(function(){return vt(ne)})}function f(){var m={a:P$};function b(w,J){var Q=w.exports;if(p.asm=Q,zt=p.asm.ta,fi(p.asm.oa),At.tlsInitFunctions.push(p.asm.sa),Me=J,!Y){var dt=At.unusedWorkers.length;At.unusedWorkers.forEach(function(Rt){At.loadWasmModuleToWorker(Rt,function(){--dt||D()})})}}Y||Ml();function T(w){b(w.instance,w.module)}function L(w){return Fe().then(function(J){var Q=WebAssembly.instantiate(J,m);return Q}).then(w,function(J){lt("failed to asynchronously prepare wasm: "+J),et(J)})}function x(){return!Mt&&typeof WebAssembly.instantiateStreaming=="function"&&!ct(ne)&&!Tt(ne)&&typeof fetch=="function"?fetch(ne,{credentials:"same-origin"}).then(function(w){var J=WebAssembly.instantiateStreaming(w,m);return J.then(T,function(Q){return lt("wasm streaming compile failed: "+Q),lt("falling back to ArrayBuffer instantiation"),L(T)})}):L(T)}if(p.instantiateWasm)try{var K=p.instantiateWasm(m,b);return K}catch(w){return lt("Module.instantiateWasm callback failed with error: "+w),!1}return x().catch(X),{}}var te,fe,He={44848:function(){throw"Canceled!"},44866:function(m,b){setTimeout(function(){JM(m,b)},0)}};function bs(){At.initRuntime()}function js(m){for(;m.length>0;){var b=m.shift();if(typeof b=="function"){b(p);continue}var T=b.func;typeof T=="number"?b.arg===void 0?zt.get(T)():zt.get(T)(b.arg):T(b.arg===void 0?null:b.arg)}}function si(m,b){if(m<=0||m>l().length||m&!0||b<0)return-28;if(b==0)return 0;b>=2147483647&&(b=1/0);var T=Atomics.load(c(),Aa>>2),L=0;if(T==m){var x=Atomics.compareExchange(c(),Aa>>2,T,0);if(x==T&&(--b,L=1,b<=0))return 1}var K=Atomics.notify(c(),m>>2,b);if(K>=0)return K+L;throw"Atomics.notify returned an unexpected value "+K}p._emscripten_futex_wake=si;function hi(m){if(Y)throw"Internal Error! killThread() can only ever be called from main application thread!";if(!m)throw"Internal Error! Null pthread_ptr in killThread!";c()[m+12>>>2]=0;var b=At.pthreads[m];b.worker.terminate(),At.freeThreadData(b),At.runningWorkers.splice(At.runningWorkers.indexOf(b.worker),1),b.worker.pthread=void 0}function ws(m){if(Y)throw"Internal Error! cancelThread() can only ever be called from main application thread!";if(!m)throw"Internal Error! Null pthread_ptr in cancelThread!";var b=At.pthreads[m];b.worker.postMessage({cmd:"cancel"})}function Ye(m){if(Y)throw"Internal Error! cleanupThread() can only ever be called from main application thread!";if(!m)throw"Internal Error! Null pthread_ptr in cleanupThread!";var b=At.pthreads[m];if(b){c()[m+12>>>2]=0;var T=b.worker;At.returnWorkerToPool(T)}}var At={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],initMainThreadBlock:function(){for(var m=navigator.hardwareConcurrency,b=0;b<m;++b)At.allocateUnusedWorker()},initRuntime:function(){for(var m=vn(228),b=0;b<228/4;++b)h()[m/4+b>>>0]=0;c()[m+12>>>2]=m;var T=m+152;c()[T>>>2]=T;for(var L=vn(512),b=0;b<128;++b)h()[L/4+b>>>0]=0;Atomics.store(h(),m+100>>2,L),Atomics.store(h(),m+40>>2,m),e0(m,!N,1),DM(m)},initWorker:function(){},pthreads:{},threadExitHandlers:[],runExitHandlers:function(){for(;At.threadExitHandlers.length>0;)At.threadExitHandlers.pop()();QM()},runExitHandlersAndDeinitThread:function(m,b){Atomics.store(h(),m+56>>2,1),Atomics.store(h(),m+60>>2,0),At.runExitHandlers(),Atomics.store(h(),m+4>>2,b),Atomics.store(h(),m+0>>2,1),si(m+0,2147483647),e0(0,0,0)},setExitStatus:function(m){},threadExit:function(m){var b=Xc();b&&(At.runExitHandlersAndDeinitThread(b,m),Y&&postMessage({cmd:"exit"}))},threadCancel:function(){At.runExitHandlersAndDeinitThread(Xc(),-1),postMessage({cmd:"cancelDone"})},terminateAllThreads:function(){for(var m in At.pthreads){var b=At.pthreads[m];b&&b.worker&&At.returnWorkerToPool(b.worker)}At.pthreads={};for(var T=0;T<At.unusedWorkers.length;++T){var L=At.unusedWorkers[T];L.terminate()}At.unusedWorkers=[];for(var T=0;T<At.runningWorkers.length;++T){var L=At.runningWorkers[T],b=L.pthread;At.freeThreadData(b),L.terminate()}At.runningWorkers=[]},freeThreadData:function(m){if(!!m){if(m.threadInfoStruct){var b=c()[m.threadInfoStruct+100>>>2];c()[m.threadInfoStruct+100>>>2]=0,Mi(b),Mi(m.threadInfoStruct)}m.threadInfoStruct=0,m.allocatedOwnStack&&m.stackBase&&Mi(m.stackBase),m.stackBase=0,m.worker&&(m.worker.pthread=null)}},returnWorkerToPool:function(m){At.runWithoutMainThreadQueuedCalls(function(){delete At.pthreads[m.pthread.threadInfoStruct],At.unusedWorkers.push(m),At.runningWorkers.splice(At.runningWorkers.indexOf(m),1),At.freeThreadData(m.pthread),m.pthread=void 0})},runWithoutMainThreadQueuedCalls:function(m){c()[qM>>>2]=0;try{m()}finally{c()[qM>>>2]=1}},receiveObjectTransfer:function(m){},threadInit:function(){for(var m in At.tlsInitFunctions)At.tlsInitFunctions[m]()},loadWasmModuleToWorker:function(m,b){m.onmessage=function(T){var L=T.data,x=L.cmd;if(m.pthread&&(At.currentProxiedOperationCallerThread=m.pthread.threadInfoStruct),L.targetThread&&L.targetThread!=Xc()){var K=At.pthreads[L.targetThread];K?K.worker.postMessage(T.data,L.transferList):console.error('Internal error! Worker sent a message "'+x+'" to target pthread '+L.targetThread+", but that thread no longer exists!"),At.currentProxiedOperationCallerThread=void 0;return}if(x==="processQueuedMainThreadWork")$m();else if(x==="spawnThread")wM(T.data);else if(x==="cleanupThread")Ye(L.thread);else if(x==="killThread")hi(L.thread);else if(x==="cancelThread")ws(L.thread);else if(x==="loaded")m.loaded=!0,b&&b(m),m.runPthread&&(m.runPthread(),delete m.runPthread);else if(x==="print")rt("Thread "+L.threadId+": "+L.text);else if(x==="printErr")lt("Thread "+L.threadId+": "+L.text);else if(x==="alert")alert("Thread "+L.threadId+": "+L.text);else if(x==="exit"){var w=m.pthread&&Atomics.load(h(),m.pthread.threadInfoStruct+64>>2);w&&At.returnWorkerToPool(m)}else if(x==="exitProcess")try{$M(L.returnCode)}catch(J){if(J instanceof ja)return;throw J}else x==="cancelDone"?At.returnWorkerToPool(m):x==="objectTransfer"?At.receiveObjectTransfer(T.data):T.data.target==="setimmediate"?m.postMessage(T.data):lt("worker sent an unknown command "+x);At.currentProxiedOperationCallerThread=void 0},m.onerror=function(T){lt("pthread sent an error! "+T.filename+":"+T.lineno+": "+T.message)},E&&(m.on("message",function(T){m.onmessage({data:T})}),m.on("error",function(T){m.onerror(T)}),m.on("exit",function(T){})),m.postMessage({cmd:"load",urlOrBlob:p.mainScriptUrlOrBlob||s,wasmMemory:wt,wasmModule:Me})},allocateUnusedWorker:function(){var m=q("web-ifc-mt.worker.js");At.unusedWorkers.push(new Worker(m))},getNewWorker:function(){return At.unusedWorkers.length==0&&(At.allocateUnusedWorker(),At.loadWasmModuleToWorker(At.unusedWorkers[0])),At.unusedWorkers.pop()},busySpinWait:function(m){for(var b=performance.now()+m;performance.now()<b;);}};function Ws(m,b){_M(m,b),Tc(m)}p.establishStackSpace=Ws;function Xi(m,b){return zt.get(m)(b)}p.invokeEntryPoint=Xi;function Ti(m,b,T,L){et("Assertion failed: "+Lt(m)+", at: "+[b?Lt(b):"unknown filename",T,L?Lt(L):"unknown function"])}var ii;E?ii=function(){var m=process.hrtime();return m[0]*1e3+m[1]/1e6}:Y?ii=function(){return performance.now()-p.__performance_now_clock_drift}:ii=function(){return performance.now()};var el=!0;function xs(m){return c()[jM()>>>2]=m,m}function ki(m,b){var T;if(m===0)T=Date.now();else if((m===1||m===4)&&el)T=ii();else return xs(28),-1;return c()[b>>>2]=T/1e3|0,c()[b+4>>>2]=T%1e3*1e3*1e3|0,0}function Ri(m){return vn(m+16)+16}function di(m,b){if(Y)return G(1,1,m,b)}function Ca(m,b){At.threadExitHandlers.push(function(){zt.get(m)(b)})}function $p(m){this.excPtr=m,this.ptr=m-16,this.set_type=function(b){c()[this.ptr+4>>>2]=b},this.get_type=function(){return c()[this.ptr+4>>>2]},this.set_destructor=function(b){c()[this.ptr+8>>>2]=b},this.get_destructor=function(){return c()[this.ptr+8>>>2]},this.set_refcount=function(b){c()[this.ptr>>>2]=b},this.set_caught=function(b){b=b?1:0,l()[this.ptr+12>>>0]=b},this.get_caught=function(){return l()[this.ptr+12>>>0]!=0},this.set_rethrown=function(b){b=b?1:0,l()[this.ptr+13>>>0]=b},this.get_rethrown=function(){return l()[this.ptr+13>>>0]!=0},this.init=function(b,T){this.set_type(b),this.set_destructor(T),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){Atomics.add(c(),this.ptr+0>>2,1)},this.release_ref=function(){var b=Atomics.sub(c(),this.ptr+0>>2,1);return b===1}}function tm(m,b,T){var L=new $p(m);throw L.init(b,T),m}var Pe={splitPath:function(m){var b=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return b.exec(m).slice(1)},normalizeArray:function(m,b){for(var T=0,L=m.length-1;L>=0;L--){var x=m[L];x==="."?m.splice(L,1):x===".."?(m.splice(L,1),T++):T&&(m.splice(L,1),T--)}if(b)for(;T;T--)m.unshift("..");return m},normalize:function(m){var b=m.charAt(0)==="/",T=m.substr(-1)==="/";return m=Pe.normalizeArray(m.split("/").filter(function(L){return!!L}),!b).join("/"),!m&&!b&&(m="."),m&&T&&(m+="/"),(b?"/":"")+m},dirname:function(m){var b=Pe.splitPath(m),T=b[0],L=b[1];return!T&&!L?".":(L&&(L=L.substr(0,L.length-1)),T+L)},basename:function(m){if(m==="/")return"/";m=Pe.normalize(m),m=m.replace(/\/$/,"");var b=m.lastIndexOf("/");return b===-1?m:m.substr(b+1)},extname:function(m){return Pe.splitPath(m)[3]},join:function(){var m=Array.prototype.slice.call(arguments,0);return Pe.normalize(m.join("/"))},join2:function(m,b){return Pe.normalize(m+"/"+b)}};function em(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var m=new Uint8Array(1);return function(){return crypto.getRandomValues(m),m[0]}}else if(E)try{var b=PZ();return function(){return b.randomBytes(1)[0]}}catch{}return function(){et("randomDevice")}}var Pi={resolve:function(){for(var m="",b=!1,T=arguments.length-1;T>=-1&&!b;T--){var L=T>=0?arguments[T]:V.cwd();if(typeof L!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!L)return"";m=L+"/"+m,b=L.charAt(0)==="/"}return m=Pe.normalizeArray(m.split("/").filter(function(x){return!!x}),!b).join("/"),(b?"/":"")+m||"."},relative:function(m,b){m=Pi.resolve(m).substr(1),b=Pi.resolve(b).substr(1);function T(dt){for(var Rt=0;Rt<dt.length&&dt[Rt]==="";Rt++);for(var Yt=dt.length-1;Yt>=0&&dt[Yt]==="";Yt--);return Rt>Yt?[]:dt.slice(Rt,Yt-Rt+1)}for(var L=T(m.split("/")),x=T(b.split("/")),K=Math.min(L.length,x.length),w=K,J=0;J<K;J++)if(L[J]!==x[J]){w=J;break}for(var Q=[],J=w;J<L.length;J++)Q.push("..");return Q=Q.concat(x.slice(w)),Q.join("/")}},ms={ttys:[],init:function(){},shutdown:function(){},register:function(m,b){ms.ttys[m]={input:[],output:[],ops:b},V.registerDevice(m,ms.stream_ops)},stream_ops:{open:function(m){var b=ms.ttys[m.node.rdev];if(!b)throw new V.ErrnoError(43);m.tty=b,m.seekable=!1},close:function(m){m.tty.ops.flush(m.tty)},flush:function(m){m.tty.ops.flush(m.tty)},read:function(m,b,T,L,x){if(!m.tty||!m.tty.ops.get_char)throw new V.ErrnoError(60);for(var K=0,w=0;w<L;w++){var J;try{J=m.tty.ops.get_char(m.tty)}catch{throw new V.ErrnoError(29)}if(J===void 0&&K===0)throw new V.ErrnoError(6);if(J==null)break;K++,b[T+w]=J}return K&&(m.node.timestamp=Date.now()),K},write:function(m,b,T,L,x){if(!m.tty||!m.tty.ops.put_char)throw new V.ErrnoError(60);try{for(var K=0;K<L;K++)m.tty.ops.put_char(m.tty,b[T+K])}catch{throw new V.ErrnoError(29)}return L&&(m.node.timestamp=Date.now()),K}},default_tty_ops:{get_char:function(m){if(!m.input.length){var b=null;if(E){var T=256,L=Buffer.alloc(T),x=0;try{x=mt.readSync(process.stdin.fd,L,0,T,null)}catch(K){if(K.toString().includes("EOF"))x=0;else throw K}x>0?b=L.slice(0,x).toString("utf-8"):b=null}else typeof window<"u"&&typeof window.prompt=="function"?(b=window.prompt("Input: "),b!==null&&(b+=`
`)):typeof readline=="function"&&(b=readline(),b!==null&&(b+=`
`));if(!b)return null;m.input=Wd(b,!0)}return m.input.shift()},put_char:function(m,b){b===null||b===10?(rt(ye(m.output,0)),m.output=[]):b!=0&&m.output.push(b)},flush:function(m){m.output&&m.output.length>0&&(rt(ye(m.output,0)),m.output=[])}},default_tty1_ops:{put_char:function(m,b){b===null||b===10?(lt(ye(m.output,0)),m.output=[]):b!=0&&m.output.push(b)},flush:function(m){m.output&&m.output.length>0&&(lt(ye(m.output,0)),m.output=[])}}};function Yl(m,b){r().fill(0,m,m+b)}function Be(m){m=Gt(m,65536);var b=s0(65536,m);return b?(Yl(b,m),b):0}var be={ops_table:null,mount:function(m){return be.createNode(null,"/",16895,0)},createNode:function(m,b,T,L){if(V.isBlkdev(T)||V.isFIFO(T))throw new V.ErrnoError(63);be.ops_table||(be.ops_table={dir:{node:{getattr:be.node_ops.getattr,setattr:be.node_ops.setattr,lookup:be.node_ops.lookup,mknod:be.node_ops.mknod,rename:be.node_ops.rename,unlink:be.node_ops.unlink,rmdir:be.node_ops.rmdir,readdir:be.node_ops.readdir,symlink:be.node_ops.symlink},stream:{llseek:be.stream_ops.llseek}},file:{node:{getattr:be.node_ops.getattr,setattr:be.node_ops.setattr},stream:{llseek:be.stream_ops.llseek,read:be.stream_ops.read,write:be.stream_ops.write,allocate:be.stream_ops.allocate,mmap:be.stream_ops.mmap,msync:be.stream_ops.msync}},link:{node:{getattr:be.node_ops.getattr,setattr:be.node_ops.setattr,readlink:be.node_ops.readlink},stream:{}},chrdev:{node:{getattr:be.node_ops.getattr,setattr:be.node_ops.setattr},stream:V.chrdev_stream_ops}});var x=V.createNode(m,b,T,L);return V.isDir(x.mode)?(x.node_ops=be.ops_table.dir.node,x.stream_ops=be.ops_table.dir.stream,x.contents={}):V.isFile(x.mode)?(x.node_ops=be.ops_table.file.node,x.stream_ops=be.ops_table.file.stream,x.usedBytes=0,x.contents=null):V.isLink(x.mode)?(x.node_ops=be.ops_table.link.node,x.stream_ops=be.ops_table.link.stream):V.isChrdev(x.mode)&&(x.node_ops=be.ops_table.chrdev.node,x.stream_ops=be.ops_table.chrdev.stream),x.timestamp=Date.now(),m&&(m.contents[b]=x,m.timestamp=x.timestamp),x},getFileDataAsTypedArray:function(m){return m.contents?m.contents.subarray?m.contents.subarray(0,m.usedBytes):new Uint8Array(m.contents):new Uint8Array(0)},expandFileStorage:function(m,b){b>>>=0;var T=m.contents?m.contents.length:0;if(!(T>=b)){var L=1024*1024;b=Math.max(b,T*(T<L?2:1.125)>>>0),T!=0&&(b=Math.max(b,256));var x=m.contents;m.contents=new Uint8Array(b),m.usedBytes>0&&m.contents.set(x.subarray(0,m.usedBytes),0)}},resizeFileStorage:function(m,b){if(b>>>=0,m.usedBytes!=b)if(b==0)m.contents=null,m.usedBytes=0;else{var T=m.contents;m.contents=new Uint8Array(b),T&&m.contents.set(T.subarray(0,Math.min(b,m.usedBytes))),m.usedBytes=b}},node_ops:{getattr:function(m){var b={};return b.dev=V.isChrdev(m.mode)?m.id:1,b.ino=m.id,b.mode=m.mode,b.nlink=1,b.uid=0,b.gid=0,b.rdev=m.rdev,V.isDir(m.mode)?b.size=4096:V.isFile(m.mode)?b.size=m.usedBytes:V.isLink(m.mode)?b.size=m.link.length:b.size=0,b.atime=new Date(m.timestamp),b.mtime=new Date(m.timestamp),b.ctime=new Date(m.timestamp),b.blksize=4096,b.blocks=Math.ceil(b.size/b.blksize),b},setattr:function(m,b){b.mode!==void 0&&(m.mode=b.mode),b.timestamp!==void 0&&(m.timestamp=b.timestamp),b.size!==void 0&&be.resizeFileStorage(m,b.size)},lookup:function(m,b){throw V.genericErrors[44]},mknod:function(m,b,T,L){return be.createNode(m,b,T,L)},rename:function(m,b,T){if(V.isDir(m.mode)){var L;try{L=V.lookupNode(b,T)}catch{}if(L)for(var x in L.contents)throw new V.ErrnoError(55)}delete m.parent.contents[m.name],m.parent.timestamp=Date.now(),m.name=T,b.contents[T]=m,b.timestamp=m.parent.timestamp,m.parent=b},unlink:function(m,b){delete m.contents[b],m.timestamp=Date.now()},rmdir:function(m,b){var T=V.lookupNode(m,b);for(var L in T.contents)throw new V.ErrnoError(55);delete m.contents[b],m.timestamp=Date.now()},readdir:function(m){var b=[".",".."];for(var T in m.contents)!m.contents.hasOwnProperty(T)||b.push(T);return b},symlink:function(m,b,T){var L=be.createNode(m,b,41471,0);return L.link=T,L},readlink:function(m){if(!V.isLink(m.mode))throw new V.ErrnoError(28);return m.link}},stream_ops:{read:function(m,b,T,L,x){var K=m.node.contents;if(x>=m.node.usedBytes)return 0;var w=Math.min(m.node.usedBytes-x,L);if(w>8&&K.subarray)b.set(K.subarray(x,x+w),T);else for(var J=0;J<w;J++)b[T+J]=K[x+J];return w},write:function(m,b,T,L,x,K){if(b.buffer===l().buffer&&(K=!1),!L)return 0;var w=m.node;if(w.timestamp=Date.now(),b.subarray&&(!w.contents||w.contents.subarray)){if(K)return w.contents=b.subarray(T,T+L),w.usedBytes=L,L;if(w.usedBytes===0&&x===0)return w.contents=b.slice(T,T+L),w.usedBytes=L,L;if(x+L<=w.usedBytes)return w.contents.set(b.subarray(T,T+L),x),L}if(be.expandFileStorage(w,x+L),w.contents.subarray&&b.subarray)w.contents.set(b.subarray(T,T+L),x);else for(var J=0;J<L;J++)w.contents[x+J]=b[T+J];return w.usedBytes=Math.max(w.usedBytes,x+L),L},llseek:function(m,b,T){var L=b;if(T===1?L+=m.position:T===2&&V.isFile(m.node.mode)&&(L+=m.node.usedBytes),L<0)throw new V.ErrnoError(28);return L},allocate:function(m,b,T){be.expandFileStorage(m.node,b+T),m.node.usedBytes=Math.max(m.node.usedBytes,b+T)},mmap:function(m,b,T,L,x,K){if(b!==0)throw new V.ErrnoError(28);if(!V.isFile(m.node.mode))throw new V.ErrnoError(43);var w,J,Q=m.node.contents;if(!(K&2)&&Q.buffer===ht)J=!1,w=Q.byteOffset;else{if((L>0||L+T<Q.length)&&(Q.subarray?Q=Q.subarray(L,L+T):Q=Array.prototype.slice.call(Q,L,L+T)),J=!0,w=Be(T),!w)throw new V.ErrnoError(48);w>>>=0,l().set(Q,w>>>0)}return{ptr:w,allocated:J}},msync:function(m,b,T,L,x){if(!V.isFile(m.node.mode))throw new V.ErrnoError(43);return x&2||be.stream_ops.write(m,b,0,L,T,!1),0}}};function sm(m,b,T,L){var x=L?"":"al "+m;H(m,function(K){Zt(K,'Loading data file "'+m+'" failed (no arrayBuffer).'),b(new Uint8Array(K)),x&&D()},function(K){if(T)T();else throw'Loading data file "'+m+'" failed.'}),x&&Ml()}var V={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(m,b){if(m=Pi.resolve(V.cwd(),m),b=b||{},!m)return{path:"",node:null};var T={follow_mount:!0,recurse_count:0};for(var L in T)b[L]===void 0&&(b[L]=T[L]);if(b.recurse_count>8)throw new V.ErrnoError(32);for(var x=Pe.normalizeArray(m.split("/").filter(function(Nt){return!!Nt}),!1),K=V.root,w="/",J=0;J<x.length;J++){var Q=J===x.length-1;if(Q&&b.parent)break;if(K=V.lookupNode(K,x[J]),w=Pe.join2(w,x[J]),V.isMountpoint(K)&&(!Q||Q&&b.follow_mount)&&(K=K.mounted.root),!Q||b.follow)for(var dt=0;V.isLink(K.mode);){var Rt=V.readlink(w);w=Pi.resolve(Pe.dirname(w),Rt);var Yt=V.lookupPath(w,{recurse_count:b.recurse_count});if(K=Yt.node,dt++>40)throw new V.ErrnoError(32)}}return{path:w,node:K}},getPath:function(m){for(var b;;){if(V.isRoot(m)){var T=m.mount.mountpoint;return b?T[T.length-1]!=="/"?T+"/"+b:T+b:T}b=b?m.name+"/"+b:m.name,m=m.parent}},hashName:function(m,b){for(var T=0,L=0;L<b.length;L++)T=(T<<5)-T+b.charCodeAt(L)|0;return(m+T>>>0)%V.nameTable.length},hashAddNode:function(m){var b=V.hashName(m.parent.id,m.name);m.name_next=V.nameTable[b],V.nameTable[b]=m},hashRemoveNode:function(m){var b=V.hashName(m.parent.id,m.name);if(V.nameTable[b]===m)V.nameTable[b]=m.name_next;else for(var T=V.nameTable[b];T;){if(T.name_next===m){T.name_next=m.name_next;break}T=T.name_next}},lookupNode:function(m,b){var T=V.mayLookup(m);if(T)throw new V.ErrnoError(T,m);for(var L=V.hashName(m.id,b),x=V.nameTable[L];x;x=x.name_next){var K=x.name;if(x.parent.id===m.id&&K===b)return x}return V.lookup(m,b)},createNode:function(m,b,T,L){var x=new V.FSNode(m,b,T,L);return V.hashAddNode(x),x},destroyNode:function(m){V.hashRemoveNode(m)},isRoot:function(m){return m===m.parent},isMountpoint:function(m){return!!m.mounted},isFile:function(m){return(m&61440)===32768},isDir:function(m){return(m&61440)===16384},isLink:function(m){return(m&61440)===40960},isChrdev:function(m){return(m&61440)===8192},isBlkdev:function(m){return(m&61440)===24576},isFIFO:function(m){return(m&61440)===4096},isSocket:function(m){return(m&49152)===49152},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(m){var b=V.flagModes[m];if(typeof b>"u")throw new Error("Unknown file open mode: "+m);return b},flagsToPermissionString:function(m){var b=["r","w","rw"][m&3];return m&512&&(b+="w"),b},nodePermissions:function(m,b){return V.ignorePermissions?0:b.includes("r")&&!(m.mode&292)||b.includes("w")&&!(m.mode&146)||b.includes("x")&&!(m.mode&73)?2:0},mayLookup:function(m){var b=V.nodePermissions(m,"x");return b||(m.node_ops.lookup?0:2)},mayCreate:function(m,b){try{var T=V.lookupNode(m,b);return 20}catch{}return V.nodePermissions(m,"wx")},mayDelete:function(m,b,T){var L;try{L=V.lookupNode(m,b)}catch(K){return K.errno}var x=V.nodePermissions(m,"wx");if(x)return x;if(T){if(!V.isDir(L.mode))return 54;if(V.isRoot(L)||V.getPath(L)===V.cwd())return 10}else if(V.isDir(L.mode))return 31;return 0},mayOpen:function(m,b){return m?V.isLink(m.mode)?32:V.isDir(m.mode)&&(V.flagsToPermissionString(b)!=="r"||b&512)?31:V.nodePermissions(m,V.flagsToPermissionString(b)):44},MAX_OPEN_FDS:4096,nextfd:function(m,b){m=m||0,b=b||V.MAX_OPEN_FDS;for(var T=m;T<=b;T++)if(!V.streams[T])return T;throw new V.ErrnoError(33)},getStream:function(m){return V.streams[m]},createStream:function(m,b,T){V.FSStream||(V.FSStream=function(){},V.FSStream.prototype={object:{get:function(){return this.node},set:function(w){this.node=w}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}}});var L=new V.FSStream;for(var x in m)L[x]=m[x];m=L;var K=V.nextfd(b,T);return m.fd=K,V.streams[K]=m,m},closeStream:function(m){V.streams[m]=null},chrdev_stream_ops:{open:function(m){var b=V.getDevice(m.node.rdev);m.stream_ops=b.stream_ops,m.stream_ops.open&&m.stream_ops.open(m)},llseek:function(){throw new V.ErrnoError(70)}},major:function(m){return m>>8},minor:function(m){return m&255},makedev:function(m,b){return m<<8|b},registerDevice:function(m,b){V.devices[m]={stream_ops:b}},getDevice:function(m){return V.devices[m]},getMounts:function(m){for(var b=[],T=[m];T.length;){var L=T.pop();b.push(L),T.push.apply(T,L.mounts)}return b},syncfs:function(m,b){typeof m=="function"&&(b=m,m=!1),V.syncFSRequests++,V.syncFSRequests>1&&lt("warning: "+V.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var T=V.getMounts(V.root.mount),L=0;function x(w){return V.syncFSRequests--,b(w)}function K(w){if(w)return K.errored?void 0:(K.errored=!0,x(w));++L>=T.length&&x(null)}T.forEach(function(w){if(!w.type.syncfs)return K(null);w.type.syncfs(w,m,K)})},mount:function(m,b,T){var L=T==="/",x=!T,K;if(L&&V.root)throw new V.ErrnoError(10);if(!L&&!x){var w=V.lookupPath(T,{follow_mount:!1});if(T=w.path,K=w.node,V.isMountpoint(K))throw new V.ErrnoError(10);if(!V.isDir(K.mode))throw new V.ErrnoError(54)}var J={type:m,opts:b,mountpoint:T,mounts:[]},Q=m.mount(J);return Q.mount=J,J.root=Q,L?V.root=Q:K&&(K.mounted=J,K.mount&&K.mount.mounts.push(J)),Q},unmount:function(m){var b=V.lookupPath(m,{follow_mount:!1});if(!V.isMountpoint(b.node))throw new V.ErrnoError(28);var T=b.node,L=T.mounted,x=V.getMounts(L);Object.keys(V.nameTable).forEach(function(w){for(var J=V.nameTable[w];J;){var Q=J.name_next;x.includes(J.mount)&&V.destroyNode(J),J=Q}}),T.mounted=null;var K=T.mount.mounts.indexOf(L);T.mount.mounts.splice(K,1)},lookup:function(m,b){return m.node_ops.lookup(m,b)},mknod:function(m,b,T){var L=V.lookupPath(m,{parent:!0}),x=L.node,K=Pe.basename(m);if(!K||K==="."||K==="..")throw new V.ErrnoError(28);var w=V.mayCreate(x,K);if(w)throw new V.ErrnoError(w);if(!x.node_ops.mknod)throw new V.ErrnoError(63);return x.node_ops.mknod(x,K,b,T)},create:function(m,b){return b=b!==void 0?b:438,b&=4095,b|=32768,V.mknod(m,b,0)},mkdir:function(m,b){return b=b!==void 0?b:511,b&=1023,b|=16384,V.mknod(m,b,0)},mkdirTree:function(m,b){for(var T=m.split("/"),L="",x=0;x<T.length;++x)if(!!T[x]){L+="/"+T[x];try{V.mkdir(L,b)}catch(K){if(K.errno!=20)throw K}}},mkdev:function(m,b,T){return typeof T>"u"&&(T=b,b=438),b|=8192,V.mknod(m,b,T)},symlink:function(m,b){if(!Pi.resolve(m))throw new V.ErrnoError(44);var T=V.lookupPath(b,{parent:!0}),L=T.node;if(!L)throw new V.ErrnoError(44);var x=Pe.basename(b),K=V.mayCreate(L,x);if(K)throw new V.ErrnoError(K);if(!L.node_ops.symlink)throw new V.ErrnoError(63);return L.node_ops.symlink(L,x,m)},rename:function(m,b){var T=Pe.dirname(m),L=Pe.dirname(b),x=Pe.basename(m),K=Pe.basename(b),w,J,Q;if(w=V.lookupPath(m,{parent:!0}),J=w.node,w=V.lookupPath(b,{parent:!0}),Q=w.node,!J||!Q)throw new V.ErrnoError(44);if(J.mount!==Q.mount)throw new V.ErrnoError(75);var dt=V.lookupNode(J,x),Rt=Pi.relative(m,L);if(Rt.charAt(0)!==".")throw new V.ErrnoError(28);if(Rt=Pi.relative(b,T),Rt.charAt(0)!==".")throw new V.ErrnoError(55);var Yt;try{Yt=V.lookupNode(Q,K)}catch{}if(dt!==Yt){var Nt=V.isDir(dt.mode),Kt=V.mayDelete(J,x,Nt);if(Kt)throw new V.ErrnoError(Kt);if(Kt=Yt?V.mayDelete(Q,K,Nt):V.mayCreate(Q,K),Kt)throw new V.ErrnoError(Kt);if(!J.node_ops.rename)throw new V.ErrnoError(63);if(V.isMountpoint(dt)||Yt&&V.isMountpoint(Yt))throw new V.ErrnoError(10);if(Q!==J&&(Kt=V.nodePermissions(J,"w"),Kt))throw new V.ErrnoError(Kt);try{V.trackingDelegate.willMovePath&&V.trackingDelegate.willMovePath(m,b)}catch(re){lt("FS.trackingDelegate['willMovePath']('"+m+"', '"+b+"') threw an exception: "+re.message)}V.hashRemoveNode(dt);try{J.node_ops.rename(dt,Q,K)}catch(re){throw re}finally{V.hashAddNode(dt)}try{V.trackingDelegate.onMovePath&&V.trackingDelegate.onMovePath(m,b)}catch(re){lt("FS.trackingDelegate['onMovePath']('"+m+"', '"+b+"') threw an exception: "+re.message)}}},rmdir:function(m){var b=V.lookupPath(m,{parent:!0}),T=b.node,L=Pe.basename(m),x=V.lookupNode(T,L),K=V.mayDelete(T,L,!0);if(K)throw new V.ErrnoError(K);if(!T.node_ops.rmdir)throw new V.ErrnoError(63);if(V.isMountpoint(x))throw new V.ErrnoError(10);try{V.trackingDelegate.willDeletePath&&V.trackingDelegate.willDeletePath(m)}catch(w){lt("FS.trackingDelegate['willDeletePath']('"+m+"') threw an exception: "+w.message)}T.node_ops.rmdir(T,L),V.destroyNode(x);try{V.trackingDelegate.onDeletePath&&V.trackingDelegate.onDeletePath(m)}catch(w){lt("FS.trackingDelegate['onDeletePath']('"+m+"') threw an exception: "+w.message)}},readdir:function(m){var b=V.lookupPath(m,{follow:!0}),T=b.node;if(!T.node_ops.readdir)throw new V.ErrnoError(54);return T.node_ops.readdir(T)},unlink:function(m){var b=V.lookupPath(m,{parent:!0}),T=b.node,L=Pe.basename(m),x=V.lookupNode(T,L),K=V.mayDelete(T,L,!1);if(K)throw new V.ErrnoError(K);if(!T.node_ops.unlink)throw new V.ErrnoError(63);if(V.isMountpoint(x))throw new V.ErrnoError(10);try{V.trackingDelegate.willDeletePath&&V.trackingDelegate.willDeletePath(m)}catch(w){lt("FS.trackingDelegate['willDeletePath']('"+m+"') threw an exception: "+w.message)}T.node_ops.unlink(T,L),V.destroyNode(x);try{V.trackingDelegate.onDeletePath&&V.trackingDelegate.onDeletePath(m)}catch(w){lt("FS.trackingDelegate['onDeletePath']('"+m+"') threw an exception: "+w.message)}},readlink:function(m){var b=V.lookupPath(m),T=b.node;if(!T)throw new V.ErrnoError(44);if(!T.node_ops.readlink)throw new V.ErrnoError(28);return Pi.resolve(V.getPath(T.parent),T.node_ops.readlink(T))},stat:function(m,b){var T=V.lookupPath(m,{follow:!b}),L=T.node;if(!L)throw new V.ErrnoError(44);if(!L.node_ops.getattr)throw new V.ErrnoError(63);return L.node_ops.getattr(L)},lstat:function(m){return V.stat(m,!0)},chmod:function(m,b,T){var L;if(typeof m=="string"){var x=V.lookupPath(m,{follow:!T});L=x.node}else L=m;if(!L.node_ops.setattr)throw new V.ErrnoError(63);L.node_ops.setattr(L,{mode:b&4095|L.mode&-4096,timestamp:Date.now()})},lchmod:function(m,b){V.chmod(m,b,!0)},fchmod:function(m,b){var T=V.getStream(m);if(!T)throw new V.ErrnoError(8);V.chmod(T.node,b)},chown:function(m,b,T,L){var x;if(typeof m=="string"){var K=V.lookupPath(m,{follow:!L});x=K.node}else x=m;if(!x.node_ops.setattr)throw new V.ErrnoError(63);x.node_ops.setattr(x,{timestamp:Date.now()})},lchown:function(m,b,T){V.chown(m,b,T,!0)},fchown:function(m,b,T){var L=V.getStream(m);if(!L)throw new V.ErrnoError(8);V.chown(L.node,b,T)},truncate:function(m,b){if(b<0)throw new V.ErrnoError(28);var T;if(typeof m=="string"){var L=V.lookupPath(m,{follow:!0});T=L.node}else T=m;if(!T.node_ops.setattr)throw new V.ErrnoError(63);if(V.isDir(T.mode))throw new V.ErrnoError(31);if(!V.isFile(T.mode))throw new V.ErrnoError(28);var x=V.nodePermissions(T,"w");if(x)throw new V.ErrnoError(x);T.node_ops.setattr(T,{size:b,timestamp:Date.now()})},ftruncate:function(m,b){var T=V.getStream(m);if(!T)throw new V.ErrnoError(8);if((T.flags&2097155)===0)throw new V.ErrnoError(28);V.truncate(T.node,b)},utime:function(m,b,T){var L=V.lookupPath(m,{follow:!0}),x=L.node;x.node_ops.setattr(x,{timestamp:Math.max(b,T)})},open:function(m,b,T,L,x){if(m==="")throw new V.ErrnoError(44);b=typeof b=="string"?V.modeStringToFlags(b):b,T=typeof T>"u"?438:T,b&64?T=T&4095|32768:T=0;var K;if(typeof m=="object")K=m;else{m=Pe.normalize(m);try{var w=V.lookupPath(m,{follow:!(b&131072)});K=w.node}catch{}}var J=!1;if(b&64)if(K){if(b&128)throw new V.ErrnoError(20)}else K=V.mknod(m,T,0),J=!0;if(!K)throw new V.ErrnoError(44);if(V.isChrdev(K.mode)&&(b&=-513),b&65536&&!V.isDir(K.mode))throw new V.ErrnoError(54);if(!J){var Q=V.mayOpen(K,b);if(Q)throw new V.ErrnoError(Q)}b&512&&V.truncate(K,0),b&=-131713;var dt=V.createStream({node:K,path:V.getPath(K),flags:b,seekable:!0,position:0,stream_ops:K.stream_ops,ungotten:[],error:!1},L,x);dt.stream_ops.open&&dt.stream_ops.open(dt),p.logReadFiles&&!(b&1)&&(V.readFiles||(V.readFiles={}),m in V.readFiles||(V.readFiles[m]=1,lt("FS.trackingDelegate error on read file: "+m)));try{if(V.trackingDelegate.onOpenFile){var Rt=0;(b&2097155)!==1&&(Rt|=V.tracking.openFlags.READ),(b&2097155)!==0&&(Rt|=V.tracking.openFlags.WRITE),V.trackingDelegate.onOpenFile(m,Rt)}}catch(Yt){lt("FS.trackingDelegate['onOpenFile']('"+m+"', flags) threw an exception: "+Yt.message)}return dt},close:function(m){if(V.isClosed(m))throw new V.ErrnoError(8);m.getdents&&(m.getdents=null);try{m.stream_ops.close&&m.stream_ops.close(m)}catch(b){throw b}finally{V.closeStream(m.fd)}m.fd=null},isClosed:function(m){return m.fd===null},llseek:function(m,b,T){if(V.isClosed(m))throw new V.ErrnoError(8);if(!m.seekable||!m.stream_ops.llseek)throw new V.ErrnoError(70);if(T!=0&&T!=1&&T!=2)throw new V.ErrnoError(28);return m.position=m.stream_ops.llseek(m,b,T),m.ungotten=[],m.position},read:function(m,b,T,L,x){if(T>>>=0,L<0||x<0)throw new V.ErrnoError(28);if(V.isClosed(m))throw new V.ErrnoError(8);if((m.flags&2097155)===1)throw new V.ErrnoError(8);if(V.isDir(m.node.mode))throw new V.ErrnoError(31);if(!m.stream_ops.read)throw new V.ErrnoError(28);var K=typeof x<"u";if(!K)x=m.position;else if(!m.seekable)throw new V.ErrnoError(70);var w=m.stream_ops.read(m,b,T,L,x);return K||(m.position+=w),w},write:function(m,b,T,L,x,K){if(T>>>=0,L<0||x<0)throw new V.ErrnoError(28);if(V.isClosed(m))throw new V.ErrnoError(8);if((m.flags&2097155)===0)throw new V.ErrnoError(8);if(V.isDir(m.node.mode))throw new V.ErrnoError(31);if(!m.stream_ops.write)throw new V.ErrnoError(28);m.seekable&&m.flags&1024&&V.llseek(m,0,2);var w=typeof x<"u";if(!w)x=m.position;else if(!m.seekable)throw new V.ErrnoError(70);var J=m.stream_ops.write(m,b,T,L,x,K);w||(m.position+=J);try{m.path&&V.trackingDelegate.onWriteToFile&&V.trackingDelegate.onWriteToFile(m.path)}catch(Q){lt("FS.trackingDelegate['onWriteToFile']('"+m.path+"') threw an exception: "+Q.message)}return J},allocate:function(m,b,T){if(V.isClosed(m))throw new V.ErrnoError(8);if(b<0||T<=0)throw new V.ErrnoError(28);if((m.flags&2097155)===0)throw new V.ErrnoError(8);if(!V.isFile(m.node.mode)&&!V.isDir(m.node.mode))throw new V.ErrnoError(43);if(!m.stream_ops.allocate)throw new V.ErrnoError(138);m.stream_ops.allocate(m,b,T)},mmap:function(m,b,T,L,x,K){if(b>>>=0,(x&2)!==0&&(K&2)===0&&(m.flags&2097155)!==2)throw new V.ErrnoError(2);if((m.flags&2097155)===1)throw new V.ErrnoError(2);if(!m.stream_ops.mmap)throw new V.ErrnoError(43);return m.stream_ops.mmap(m,b,T,L,x,K)},msync:function(m,b,T,L,x){return T>>>=0,!m||!m.stream_ops.msync?0:m.stream_ops.msync(m,b,T,L,x)},munmap:function(m){return 0},ioctl:function(m,b,T){if(!m.stream_ops.ioctl)throw new V.ErrnoError(59);return m.stream_ops.ioctl(m,b,T)},readFile:function(m,b){if(b=b||{},b.flags=b.flags||0,b.encoding=b.encoding||"binary",b.encoding!=="utf8"&&b.encoding!=="binary")throw new Error('Invalid encoding type "'+b.encoding+'"');var T,L=V.open(m,b.flags),x=V.stat(m),K=x.size,w=new Uint8Array(K);return V.read(L,w,0,K,0),b.encoding==="utf8"?T=ye(w,0):b.encoding==="binary"&&(T=w),V.close(L),T},writeFile:function(m,b,T){T=T||{},T.flags=T.flags||577;var L=V.open(m,T.flags,T.mode);if(typeof b=="string"){var x=new Uint8Array(Xt(b)+1),K=ce(b,x,0,x.length);V.write(L,x,0,K,void 0,T.canOwn)}else if(ArrayBuffer.isView(b))V.write(L,b,0,b.byteLength,void 0,T.canOwn);else throw new Error("Unsupported data type");V.close(L)},cwd:function(){return V.currentPath},chdir:function(m){var b=V.lookupPath(m,{follow:!0});if(b.node===null)throw new V.ErrnoError(44);if(!V.isDir(b.node.mode))throw new V.ErrnoError(54);var T=V.nodePermissions(b.node,"x");if(T)throw new V.ErrnoError(T);V.currentPath=b.path},createDefaultDirectories:function(){V.mkdir("/tmp"),V.mkdir("/home"),V.mkdir("/home/web_user")},createDefaultDevices:function(){V.mkdir("/dev"),V.registerDevice(V.makedev(1,3),{read:function(){return 0},write:function(b,T,L,x,K){return x}}),V.mkdev("/dev/null",V.makedev(1,3)),ms.register(V.makedev(5,0),ms.default_tty_ops),ms.register(V.makedev(6,0),ms.default_tty1_ops),V.mkdev("/dev/tty",V.makedev(5,0)),V.mkdev("/dev/tty1",V.makedev(6,0));var m=em();V.createDevice("/dev","random",m),V.createDevice("/dev","urandom",m),V.mkdir("/dev/shm"),V.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){V.mkdir("/proc");var m=V.mkdir("/proc/self");V.mkdir("/proc/self/fd"),V.mount({mount:function(){var b=V.createNode(m,"fd",16895,73);return b.node_ops={lookup:function(T,L){var x=+L,K=V.getStream(x);if(!K)throw new V.ErrnoError(8);var w={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return K.path}}};return w.parent=w,w}},b}},{},"/proc/self/fd")},createStandardStreams:function(){p.stdin?V.createDevice("/dev","stdin",p.stdin):V.symlink("/dev/tty","/dev/stdin"),p.stdout?V.createDevice("/dev","stdout",null,p.stdout):V.symlink("/dev/tty","/dev/stdout"),p.stderr?V.createDevice("/dev","stderr",null,p.stderr):V.symlink("/dev/tty1","/dev/stderr"),V.open("/dev/stdin",0),V.open("/dev/stdout",1),V.open("/dev/stderr",1)},ensureErrnoError:function(){V.ErrnoError||(V.ErrnoError=function(b,T){this.node=T,this.setErrno=function(L){this.errno=L},this.setErrno(b),this.message="FS error"},V.ErrnoError.prototype=new Error,V.ErrnoError.prototype.constructor=V.ErrnoError,[44].forEach(function(m){V.genericErrors[m]=new V.ErrnoError(m),V.genericErrors[m].stack="<generic error, no stack>"}))},staticInit:function(){V.ensureErrnoError(),V.nameTable=new Array(4096),V.mount(be,{},"/"),V.createDefaultDirectories(),V.createDefaultDevices(),V.createSpecialDirectories(),V.filesystems={MEMFS:be}},init:function(m,b,T){V.init.initialized=!0,V.ensureErrnoError(),p.stdin=m||p.stdin,p.stdout=b||p.stdout,p.stderr=T||p.stderr,V.createStandardStreams()},quit:function(){V.init.initialized=!1;var m=p._fflush;m&&m(0);for(var b=0;b<V.streams.length;b++){var T=V.streams[b];!T||V.close(T)}},getMode:function(m,b){var T=0;return m&&(T|=365),b&&(T|=146),T},findObject:function(m,b){var T=V.analyzePath(m,b);return T.exists?T.object:null},analyzePath:function(m,b){try{var T=V.lookupPath(m,{follow:!b});m=T.path}catch{}var L={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var T=V.lookupPath(m,{parent:!0});L.parentExists=!0,L.parentPath=T.path,L.parentObject=T.node,L.name=Pe.basename(m),T=V.lookupPath(m,{follow:!b}),L.exists=!0,L.path=T.path,L.object=T.node,L.name=T.node.name,L.isRoot=T.path==="/"}catch(x){L.error=x.errno}return L},createPath:function(m,b,T,L){m=typeof m=="string"?m:V.getPath(m);for(var x=b.split("/").reverse();x.length;){var K=x.pop();if(!!K){var w=Pe.join2(m,K);try{V.mkdir(w)}catch{}m=w}}return w},createFile:function(m,b,T,L,x){var K=Pe.join2(typeof m=="string"?m:V.getPath(m),b),w=V.getMode(L,x);return V.create(K,w)},createDataFile:function(m,b,T,L,x,K){var w=b?Pe.join2(typeof m=="string"?m:V.getPath(m),b):m,J=V.getMode(L,x),Q=V.create(w,J);if(T){if(typeof T=="string"){for(var dt=new Array(T.length),Rt=0,Yt=T.length;Rt<Yt;++Rt)dt[Rt]=T.charCodeAt(Rt);T=dt}V.chmod(Q,J|146);var Nt=V.open(Q,577);V.write(Nt,T,0,T.length,0,K),V.close(Nt),V.chmod(Q,J)}return Q},createDevice:function(m,b,T,L){var x=Pe.join2(typeof m=="string"?m:V.getPath(m),b),K=V.getMode(!!T,!!L);V.createDevice.major||(V.createDevice.major=64);var w=V.makedev(V.createDevice.major++,0);return V.registerDevice(w,{open:function(J){J.seekable=!1},close:function(J){L&&L.buffer&&L.buffer.length&&L(10)},read:function(J,Q,dt,Rt,Yt){for(var Nt=0,Kt=0;Kt<Rt;Kt++){var re;try{re=T()}catch{throw new V.ErrnoError(29)}if(re===void 0&&Nt===0)throw new V.ErrnoError(6);if(re==null)break;Nt++,Q[dt+Kt]=re}return Nt&&(J.node.timestamp=Date.now()),Nt},write:function(J,Q,dt,Rt,Yt){for(var Nt=0;Nt<Rt;Nt++)try{L(Q[dt+Nt])}catch{throw new V.ErrnoError(29)}return Rt&&(J.node.timestamp=Date.now()),Nt}}),V.mkdev(x,K,w)},forceLoadFile:function(m){if(m.isDevice||m.isFolder||m.link||m.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if($)try{m.contents=Wd($(m.url),!0),m.usedBytes=m.contents.length}catch{throw new V.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:function(m,b,T,L,x){function K(){this.lengthKnown=!1,this.chunks=[]}if(K.prototype.get=function(Nt){if(!(Nt>this.length-1||Nt<0)){var Kt=Nt%this.chunkSize,re=Nt/this.chunkSize|0;return this.getter(re)[Kt]}},K.prototype.setDataGetter=function(Nt){this.getter=Nt},K.prototype.cacheLength=function(){var Nt=new XMLHttpRequest;if(Nt.open("HEAD",T,!1),Nt.send(null),!(Nt.status>=200&&Nt.status<300||Nt.status===304))throw new Error("Couldn't load "+T+". Status: "+Nt.status);var Kt=Number(Nt.getResponseHeader("Content-length")),re,je=(re=Nt.getResponseHeader("Accept-Ranges"))&&re==="bytes",ys=(re=Nt.getResponseHeader("Content-Encoding"))&&re==="gzip",ss=1024*1024;je||(ss=Kt);var ft=function(ts,De){if(ts>De)throw new Error("invalid range ("+ts+", "+De+") or no bytes requested!");if(De>Kt-1)throw new Error("only "+Kt+" bytes available! programmer error!");var es=new XMLHttpRequest;if(es.open("GET",T,!1),Kt!==ss&&es.setRequestHeader("Range","bytes="+ts+"-"+De),typeof Uint8Array<"u"&&(es.responseType="arraybuffer"),es.overrideMimeType&&es.overrideMimeType("text/plain; charset=x-user-defined"),es.send(null),!(es.status>=200&&es.status<300||es.status===304))throw new Error("Couldn't load "+T+". Status: "+es.status);return es.response!==void 0?new Uint8Array(es.response||[]):Wd(es.responseText||"",!0)},Qt=this;Qt.setDataGetter(function(ts){var De=ts*ss,es=(ts+1)*ss-1;if(es=Math.min(es,Kt-1),typeof Qt.chunks[ts]>"u"&&(Qt.chunks[ts]=ft(De,es)),typeof Qt.chunks[ts]>"u")throw new Error("doXHR failed!");return Qt.chunks[ts]}),(ys||!Kt)&&(ss=Kt=1,Kt=this.getter(0).length,ss=Kt,rt("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Kt,this._chunkSize=ss,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!N)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var w=new K;Object.defineProperties(w,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var J={isDevice:!1,contents:w}}else var J={isDevice:!1,url:T};var Q=V.createFile(m,b,J,L,x);J.contents?Q.contents=J.contents:J.url&&(Q.contents=null,Q.url=J.url),Object.defineProperties(Q,{usedBytes:{get:function(){return this.contents.length}}});var dt={},Rt=Object.keys(Q.stream_ops);return Rt.forEach(function(Yt){var Nt=Q.stream_ops[Yt];dt[Yt]=function(){return V.forceLoadFile(Q),Nt.apply(null,arguments)}}),dt.read=function(Nt,Kt,re,je,ys){V.forceLoadFile(Q);var ss=Nt.node.contents;if(ys>=ss.length)return 0;var ft=Math.min(ss.length-ys,je);if(ss.slice)for(var Qt=0;Qt<ft;Qt++)Kt[re+Qt]=ss[ys+Qt];else for(var Qt=0;Qt<ft;Qt++)Kt[re+Qt]=ss.get(ys+Qt);return ft},Q.stream_ops=dt,Q},createPreloadedFile:function(m,b,T,L,x,K,w,J,Q,dt){Browser.init();var Rt=b?Pi.resolve(Pe.join2(m,b)):m;function Yt(Nt){function Kt(je){dt&&dt(),J||V.createDataFile(m,b,je,L,x,Q),K&&K(),D()}var re=!1;p.preloadPlugins.forEach(function(je){re||je.canHandle(Rt)&&(je.handle(Nt,Rt,Kt,function(){w&&w(),D()}),re=!0)}),re||Kt(Nt)}Ml(),typeof T=="string"?sm(T,function(Nt){Yt(Nt)},w):Yt(T)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(m,b,T){b=b||function(){},T=T||function(){};var L=V.indexedDB();try{var x=L.open(V.DB_NAME(),V.DB_VERSION)}catch(K){return T(K)}x.onupgradeneeded=function(){rt("creating db");var w=x.result;w.createObjectStore(V.DB_STORE_NAME)},x.onsuccess=function(){var w=x.result,J=w.transaction([V.DB_STORE_NAME],"readwrite"),Q=J.objectStore(V.DB_STORE_NAME),dt=0,Rt=0,Yt=m.length;function Nt(){Rt==0?b():T()}m.forEach(function(Kt){var re=Q.put(V.analyzePath(Kt).object.contents,Kt);re.onsuccess=function(){dt++,dt+Rt==Yt&&Nt()},re.onerror=function(){Rt++,dt+Rt==Yt&&Nt()}}),J.onerror=T},x.onerror=T},loadFilesFromDB:function(m,b,T){b=b||function(){},T=T||function(){};var L=V.indexedDB();try{var x=L.open(V.DB_NAME(),V.DB_VERSION)}catch(K){return T(K)}x.onupgradeneeded=T,x.onsuccess=function(){var w=x.result;try{var J=w.transaction([V.DB_STORE_NAME],"readonly")}catch(Kt){T(Kt);return}var Q=J.objectStore(V.DB_STORE_NAME),dt=0,Rt=0,Yt=m.length;function Nt(){Rt==0?b():T()}m.forEach(function(Kt){var re=Q.get(Kt);re.onsuccess=function(){V.analyzePath(Kt).exists&&V.unlink(Kt),V.createDataFile(Pe.dirname(Kt),Pe.basename(Kt),re.result,!0,!0,!0),dt++,dt+Rt==Yt&&Nt()},re.onerror=function(){Rt++,dt+Rt==Yt&&Nt()}}),J.onerror=T},x.onerror=T}},Ns={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(m,b,T){if(b[0]==="/")return b;var L;if(m===-100)L=V.cwd();else{var x=V.getStream(m);if(!x)throw new V.ErrnoError(8);L=x.path}if(b.length==0){if(!T)throw new V.ErrnoError(44);return L}return Pe.join2(L,b)},doStat:function(m,b,T){try{var L=m(b)}catch(x){if(x&&x.node&&Pe.normalize(b)!==Pe.normalize(V.getPath(x.node)))return-54;throw x}return c()[T>>>2]=L.dev,c()[T+4>>>2]=0,c()[T+8>>>2]=L.ino,c()[T+12>>>2]=L.mode,c()[T+16>>>2]=L.nlink,c()[T+20>>>2]=L.uid,c()[T+24>>>2]=L.gid,c()[T+28>>>2]=L.rdev,c()[T+32>>>2]=0,fe=[L.size>>>0,(te=L.size,+Math.abs(te)>=1?te>0?(Math.min(+Math.floor(te/4294967296),4294967295)|0)>>>0:~~+Math.ceil((te-+(~~te>>>0))/4294967296)>>>0:0)],c()[T+40>>>2]=fe[0],c()[T+44>>>2]=fe[1],c()[T+48>>>2]=4096,c()[T+52>>>2]=L.blocks,c()[T+56>>>2]=L.atime.getTime()/1e3|0,c()[T+60>>>2]=0,c()[T+64>>>2]=L.mtime.getTime()/1e3|0,c()[T+68>>>2]=0,c()[T+72>>>2]=L.ctime.getTime()/1e3|0,c()[T+76>>>2]=0,fe=[L.ino>>>0,(te=L.ino,+Math.abs(te)>=1?te>0?(Math.min(+Math.floor(te/4294967296),4294967295)|0)>>>0:~~+Math.ceil((te-+(~~te>>>0))/4294967296)>>>0:0)],c()[T+80>>>2]=fe[0],c()[T+84>>>2]=fe[1],0},doMsync:function(m,b,T,L,x){var K=r().slice(m,m+T);V.msync(b,K,x,T,L)},doMkdir:function(m,b){return m=Pe.normalize(m),m[m.length-1]==="/"&&(m=m.substr(0,m.length-1)),V.mkdir(m,b,0),0},doMknod:function(m,b,T){switch(b&61440){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return V.mknod(m,b,T),0},doReadlink:function(m,b,T){if(T<=0)return-28;var L=V.readlink(m),x=Math.min(T,Xt(L)),K=l()[b+x>>>0];return bt(L,b,T+1),l()[b+x>>>0]=K,x},doAccess:function(m,b){if(b&-8)return-28;var T,L=V.lookupPath(m,{follow:!0});if(T=L.node,!T)return-44;var x="";return b&4&&(x+="r"),b&2&&(x+="w"),b&1&&(x+="x"),x&&V.nodePermissions(T,x)?-2:0},doDup:function(m,b,T){var L=V.getStream(T);return L&&V.close(L),V.open(m,b,0,T,T).fd},doReadv:function(m,b,T,L){for(var x=0,K=0;K<T;K++){var w=c()[b+K*8>>>2],J=c()[b+(K*8+4)>>>2],Q=V.read(m,l(),w,J,L);if(Q<0)return-1;if(x+=Q,Q<J)break}return x},doWritev:function(m,b,T,L){for(var x=0,K=0;K<T;K++){var w=c()[b+K*8>>>2],J=c()[b+(K*8+4)>>>2],Q=V.write(m,l(),w,J,L);if(Q<0)return-1;x+=Q}return x},varargs:void 0,get:function(){Ns.varargs+=4;var m=c()[Ns.varargs-4>>>2];return m},getStr:function(m){var b=Lt(m);return b},getStreamFromFD:function(m){var b=V.getStream(m);if(!b)throw new V.ErrnoError(8);return b},get64:function(m,b){return m}};function fa(m,b,T){if(Y)return G(2,1,m,b,T);Ns.varargs=T;try{var L=Ns.getStreamFromFD(m);switch(b){case 0:{var x=Ns.get();if(x<0)return-28;var K;return K=V.open(L.path,L.flags,0,x),K.fd}case 1:case 2:return 0;case 3:return L.flags;case 4:{var x=Ns.get();return L.flags|=x,0}case 12:{var x=Ns.get(),w=0;return a()[x+w>>>1]=2,0}case 13:case 14:return 0;case 16:case 8:return-28;case 9:return xs(28),-1;default:return-28}}catch(J){return(typeof V>"u"||!(J instanceof V.ErrnoError))&&et(J),-J.errno}}function Va(m,b,T){if(Y)return G(3,1,m,b,T);Ns.varargs=T;try{var L=Ns.getStreamFromFD(m);switch(b){case 21509:case 21505:return L.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return L.tty?0:-59;case 21519:{if(!L.tty)return-59;var x=Ns.get();return c()[x>>>2]=0,0}case 21520:return L.tty?-28:-59;case 21531:{var x=Ns.get();return V.ioctl(L,b,x)}case 21523:return L.tty?0:-59;case 21524:return L.tty?0:-59;default:et("bad ioctl syscall "+b)}}catch(K){return(typeof V>"u"||!(K instanceof V.ErrnoError))&&et(K),-K.errno}}function nc(m,b,T){if(Y)return G(4,1,m,b,T);Ns.varargs=T;try{var L=Ns.getStr(m),x=T?Ns.get():0,K=V.open(L,b,x);return K.fd}catch(w){return(typeof V>"u"||!(w instanceof V.ErrnoError))&&et(w),-w.errno}}var xa={};function vl(m){for(;m.length;){var b=m.pop(),T=m.pop();T(b)}}function Ui(m){return this.fromWireType(h()[m>>>2])}var El={},sl={},Na={},ur=48,pr=57;function mr(m){if(m===void 0)return"_unknown";m=m.replace(/[^a-zA-Z0-9_]/g,"$");var b=m.charCodeAt(0);return b>=ur&&b<=pr?"_"+m:m}function Fa(m,b){return m=mr(m),new Function("body","return function "+m+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(b)}function lc(m,b){var T=Fa(b,function(L){this.name=b,this.message=L;var x=new Error(L).stack;x!==void 0&&(this.stack=this.toString()+`
`+x.replace(/^Error(:[^\n]*)?\n/,""))});return T.prototype=Object.create(m.prototype),T.prototype.constructor=T,T.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},T}var rn=void 0;function br(m){throw new rn(m)}function an(m,b,T){m.forEach(function(J){Na[J]=b});function L(J){var Q=T(J);Q.length!==m.length&&br("Mismatched type converter count");for(var dt=0;dt<m.length;++dt)Di(m[dt],Q[dt])}var x=new Array(b.length),K=[],w=0;b.forEach(function(J,Q){sl.hasOwnProperty(J)?x[Q]=sl[J]:(K.push(J),El.hasOwnProperty(J)||(El[J]=[]),El[J].push(function(){x[Q]=sl[J],++w,w===K.length&&L(x)}))}),K.length===0&&L(x)}function rc(m){var b=xa[m];delete xa[m];var T=b.elements,L=T.length,x=T.map(function(J){return J.getterReturnType}).concat(T.map(function(J){return J.setterArgumentType})),K=b.rawConstructor,w=b.rawDestructor;an([m],x,function(J){return T.forEach(function(Q,dt){var Rt=J[dt],Yt=Q.getter,Nt=Q.getterContext,Kt=J[dt+L],re=Q.setter,je=Q.setterContext;Q.read=function(ys){return Rt.fromWireType(Yt(Nt,ys))},Q.write=function(ys,ss){var ft=[];re(je,ys,Kt.toWireType(ft,ss)),vl(ft)}}),[{name:b.name,fromWireType:function(Q){for(var dt=new Array(L),Rt=0;Rt<L;++Rt)dt[Rt]=T[Rt].read(Q);return w(Q),dt},toWireType:function(Q,dt){if(L!==dt.length)throw new TypeError("Incorrect number of tuple elements for "+b.name+": expected="+L+", actual="+dt.length);for(var Rt=K(),Yt=0;Yt<L;++Yt)T[Yt].write(Rt,dt[Yt]);return Q!==null&&Q.push(w,Rt),Rt},argPackAdvance:8,readValueFromPointer:Ui,destructorFunction:w}]})}var Ma={};function ac(m){var b=Ma[m];delete Ma[m];var T=b.rawConstructor,L=b.rawDestructor,x=b.fields,K=x.map(function(w){return w.getterReturnType}).concat(x.map(function(w){return w.setterArgumentType}));an([m],K,function(w){var J={};return x.forEach(function(Q,dt){var Rt=Q.fieldName,Yt=w[dt],Nt=Q.getter,Kt=Q.getterContext,re=w[dt+x.length],je=Q.setter,ys=Q.setterContext;J[Rt]={read:function(ss){return Yt.fromWireType(Nt(Kt,ss))},write:function(ss,ft){var Qt=[];je(ys,ss,re.toWireType(Qt,ft)),vl(Qt)}}}),[{name:b.name,fromWireType:function(Q){var dt={};for(var Rt in J)dt[Rt]=J[Rt].read(Q);return L(Q),dt},toWireType:function(Q,dt){for(var Rt in J)if(!(Rt in dt))throw new TypeError('Missing field:  "'+Rt+'"');var Yt=T();for(Rt in J)J[Rt].write(Yt,dt[Rt]);return Q!==null&&Q.push(L,Yt),Yt},argPackAdvance:8,readValueFromPointer:Ui,destructorFunction:L}]})}function im(m,b,T,L,x){}function Ya(m){switch(m){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+m)}}function nm(){for(var m=new Array(256),b=0;b<256;++b)m[b]=String.fromCharCode(b);sd=m}var sd=void 0;function Ms(m){for(var b="",T=m;r()[T>>>0];)b+=sd[r()[T++>>>0]];return b}var zl=void 0;function Ue(m){throw new zl(m)}function Di(m,b,T){if(T=T||{},!("argPackAdvance"in b))throw new TypeError("registerType registeredInstance requires argPackAdvance");var L=b.name;if(m||Ue('type "'+L+'" must have a positive integer typeid pointer'),sl.hasOwnProperty(m)){if(T.ignoreDuplicateRegistrations)return;Ue("Cannot register type '"+L+"' twice")}if(sl[m]=b,delete Na[m],El.hasOwnProperty(m)){var x=El[m];delete El[m],x.forEach(function(K){K()})}}function lm(m,b,T,L,x){var K=Ya(T);b=Ms(b),Di(m,{name:b,fromWireType:function(w){return!!w},toWireType:function(w,J){return J?L:x},argPackAdvance:8,readValueFromPointer:function(w){var J;if(T===1)J=l();else if(T===2)J=a();else if(T===4)J=c();else throw new TypeError("Unknown boolean type size: "+b);return this.fromWireType(J[w>>>K])},destructorFunction:null})}function rm(m){if(!(this instanceof Vi)||!(m instanceof Vi))return!1;for(var b=this.$$.ptrType.registeredClass,T=this.$$.ptr,L=m.$$.ptrType.registeredClass,x=m.$$.ptr;b.baseClass;)T=b.upcast(T),b=b.baseClass;for(;L.baseClass;)x=L.upcast(x),L=L.baseClass;return b===L&&T===x}function am(m){return{count:m.count,deleteScheduled:m.deleteScheduled,preservePointerOnDelete:m.preservePointerOnDelete,ptr:m.ptr,ptrType:m.ptrType,smartPtr:m.smartPtr,smartPtrType:m.smartPtrType}}function il(m){function b(T){return T.$$.ptrType.registeredClass.name}Ue(b(m)+" instance already deleted")}var oc=!1;function id(m){}function va(m){m.smartPtr?m.smartPtrType.rawDestructor(m.smartPtr):m.ptrType.registeredClass.rawDestructor(m.ptr)}function nd(m){m.count.value-=1;var b=m.count.value===0;b&&va(m)}function yr(m){return typeof FinalizationGroup>"u"?(yr=function(b){return b},m):(oc=new FinalizationGroup(function(b){for(var T=b.next();!T.done;T=b.next()){var L=T.value;L.ptr?nd(L):console.warn("object already deleted: "+L.ptr)}}),yr=function(b){return oc.register(b,b.$$,b.$$),b},id=function(b){oc.unregister(b.$$)},yr(m))}function on(){if(this.$$.ptr||il(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var m=yr(Object.create(Object.getPrototypeOf(this),{$$:{value:am(this.$$)}}));return m.$$.count.value+=1,m.$$.deleteScheduled=!1,m}function ld(){this.$$.ptr||il(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ue("Object already scheduled for deletion"),id(this),nd(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function om(){return!this.$$.ptr}var Gr=void 0,Zr=[];function ks(){for(;Zr.length;){var m=Zr.pop();m.$$.deleteScheduled=!1,m.delete()}}function rd(){return this.$$.ptr||il(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ue("Object already scheduled for deletion"),Zr.push(this),Zr.length===1&&Gr&&Gr(ks),this.$$.deleteScheduled=!0,this}function ad(){Vi.prototype.isAliasOf=rm,Vi.prototype.clone=on,Vi.prototype.delete=ld,Vi.prototype.isDeleted=om,Vi.prototype.deleteLater=rd}function Vi(){}var od={};function Ea(m,b,T){if(m[b].overloadTable===void 0){var L=m[b];m[b]=function(){return m[b].overloadTable.hasOwnProperty(arguments.length)||Ue("Function '"+T+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+m[b].overloadTable+")!"),m[b].overloadTable[arguments.length].apply(this,arguments)},m[b].overloadTable=[],m[b].overloadTable[L.argCount]=L}}function cc(m,b,T){p.hasOwnProperty(m)?((T===void 0||p[m].overloadTable!==void 0&&p[m].overloadTable[T]!==void 0)&&Ue("Cannot register public name '"+m+"' twice"),Ea(p,m,m),p.hasOwnProperty(T)&&Ue("Cannot register multiple overloads of a function with the same number of arguments ("+T+")!"),p[m].overloadTable[T]=b):(p[m]=b,T!==void 0&&(p[m].numArguments=T))}function cm(m,b,T,L,x,K,w,J){this.name=m,this.constructor=b,this.instancePrototype=T,this.rawDestructor=L,this.baseClass=x,this.getActualType=K,this.upcast=w,this.downcast=J,this.pureVirtualFunctions=[]}function za(m,b,T){for(;b!==T;)b.upcast||Ue("Expected null or instance of "+T.name+", got an instance of "+b.name),m=b.upcast(m),b=b.baseClass;return m}function hm(m,b){if(b===null)return this.isReference&&Ue("null is not a valid "+this.name),0;b.$$||Ue('Cannot pass "'+Kl(b)+'" as a '+this.name),b.$$.ptr||Ue("Cannot pass deleted object as a pointer of type "+this.name);var T=b.$$.ptrType.registeredClass,L=za(b.$$.ptr,T,this.registeredClass);return L}function hc(m,b){var T;if(b===null)return this.isReference&&Ue("null is not a valid "+this.name),this.isSmartPointer?(T=this.rawConstructor(),m!==null&&m.push(this.rawDestructor,T),T):0;b.$$||Ue('Cannot pass "'+Kl(b)+'" as a '+this.name),b.$$.ptr||Ue("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&b.$$.ptrType.isConst&&Ue("Cannot convert argument of type "+(b.$$.smartPtrType?b.$$.smartPtrType.name:b.$$.ptrType.name)+" to parameter type "+this.name);var L=b.$$.ptrType.registeredClass;if(T=za(b.$$.ptr,L,this.registeredClass),this.isSmartPointer)switch(b.$$.smartPtr===void 0&&Ue("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:b.$$.smartPtrType===this?T=b.$$.smartPtr:Ue("Cannot convert argument of type "+(b.$$.smartPtrType?b.$$.smartPtrType.name:b.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:T=b.$$.smartPtr;break;case 2:if(b.$$.smartPtrType===this)T=b.$$.smartPtr;else{var x=b.clone();T=this.rawShare(T,Ni(function(){x.delete()})),m!==null&&m.push(this.rawDestructor,T)}break;default:Ue("Unsupporting sharing policy")}return T}function ui(m,b){if(b===null)return this.isReference&&Ue("null is not a valid "+this.name),0;b.$$||Ue('Cannot pass "'+Kl(b)+'" as a '+this.name),b.$$.ptr||Ue("Cannot pass deleted object as a pointer of type "+this.name),b.$$.ptrType.isConst&&Ue("Cannot convert argument of type "+b.$$.ptrType.name+" to parameter type "+this.name);var T=b.$$.ptrType.registeredClass,L=za(b.$$.ptr,T,this.registeredClass);return L}function dc(m){return this.rawGetPointee&&(m=this.rawGetPointee(m)),m}function dm(m){this.rawDestructor&&this.rawDestructor(m)}function um(m){m!==null&&m.delete()}function cd(m,b,T){if(b===T)return m;if(T.baseClass===void 0)return null;var L=cd(m,b,T.baseClass);return L===null?null:T.downcast(L)}function xi(){return Object.keys(Yn).length}function pm(){var m=[];for(var b in Yn)Yn.hasOwnProperty(b)&&m.push(Yn[b]);return m}function mm(m){Gr=m,Zr.length&&Gr&&Gr(ks)}function bm(){p.getInheritedInstanceCount=xi,p.getLiveInheritedInstances=pm,p.flushPendingDeletes=ks,p.setDelayFunction=mm}var Yn={};function ym(m,b){for(b===void 0&&Ue("ptr should not be undefined");m.baseClass;)b=m.upcast(b),m=m.baseClass;return b}function Hl(m,b){return b=ym(m,b),Yn[b]}function Ha(m,b){(!b.ptrType||!b.ptr)&&br("makeClassHandle requires ptr and ptrType");var T=!!b.smartPtrType,L=!!b.smartPtr;return T!==L&&br("Both smartPtrType and smartPtr must be specified"),b.count={value:1},yr(Object.create(m,{$$:{value:b}}))}function Gm(m){var b=this.getPointee(m);if(!b)return this.destructor(m),null;var T=Hl(this.registeredClass,b);if(T!==void 0){if(T.$$.count.value===0)return T.$$.ptr=b,T.$$.smartPtr=m,T.clone();var L=T.clone();return this.destructor(m),L}function x(){return this.isSmartPointer?Ha(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:b,smartPtrType:this,smartPtr:m}):Ha(this.registeredClass.instancePrototype,{ptrType:this,ptr:m})}var K=this.registeredClass.getActualType(b),w=od[K];if(!w)return x.call(this);var J;this.isConst?J=w.constPointerType:J=w.pointerType;var Q=cd(b,this.registeredClass,J.registeredClass);return Q===null?x.call(this):this.isSmartPointer?Ha(J.registeredClass.instancePrototype,{ptrType:J,ptr:Q,smartPtrType:this,smartPtr:m}):Ha(J.registeredClass.instancePrototype,{ptrType:J,ptr:Q})}function Zm(){cn.prototype.getPointee=dc,cn.prototype.destructor=dm,cn.prototype.argPackAdvance=8,cn.prototype.readValueFromPointer=Ui,cn.prototype.deleteObject=um,cn.prototype.fromWireType=Gm}function cn(m,b,T,L,x,K,w,J,Q,dt,Rt){this.name=m,this.registeredClass=b,this.isReference=T,this.isConst=L,this.isSmartPointer=x,this.pointeeType=K,this.sharingPolicy=w,this.rawGetPointee=J,this.rawConstructor=Q,this.rawShare=dt,this.rawDestructor=Rt,!x&&b.baseClass===void 0?L?(this.toWireType=hm,this.destructorFunction=null):(this.toWireType=ui,this.destructorFunction=null):this.toWireType=hc}function hd(m,b,T){p.hasOwnProperty(m)||br("Replacing nonexistant public symbol"),p[m].overloadTable!==void 0&&T!==void 0?p[m].overloadTable[T]=b:(p[m]=b,p[m].argCount=T)}function Xm(m,b,T){var L=p["dynCall_"+m];return T&&T.length?L.apply(null,[b].concat(T)):L.call(null,b)}function Tm(m,b,T){return m.includes("j")?Xm(m,b,T):zt.get(b).apply(null,T)}function Rm(m,b){var T=[];return function(){T.length=arguments.length;for(var L=0;L<arguments.length;L++)T[L]=arguments[L];return Tm(m,b,T)}}function Qs(m,b){m=Ms(m);function T(){return m.includes("j")?Rm(m,b):zt.get(b)}var L=T();return typeof L!="function"&&Ue("unknown function pointer with signature "+m+": "+b),L}var dd=void 0;function ud(m){var b=UM(m),T=Ms(b);return Mi(b),T}function Ka(m,b){var T=[],L={};function x(K){if(!L[K]&&!sl[K]){if(Na[K]){Na[K].forEach(x);return}T.push(K),L[K]=!0}}throw b.forEach(x),new dd(m+": "+T.map(ud).join([", "]))}function Im(m,b,T,L,x,K,w,J,Q,dt,Rt,Yt,Nt){Rt=Ms(Rt),K=Qs(x,K),J&&(J=Qs(w,J)),dt&&(dt=Qs(Q,dt)),Nt=Qs(Yt,Nt);var Kt=mr(Rt);cc(Kt,function(){Ka("Cannot construct "+Rt+" due to unbound types",[L])}),an([m,b,T],L?[L]:[],function(re){re=re[0];var je,ys;L?(je=re.registeredClass,ys=je.instancePrototype):ys=Vi.prototype;var ss=Fa(Kt,function(){if(Object.getPrototypeOf(this)!==ft)throw new zl("Use 'new' to construct "+Rt);if(Qt.constructor_body===void 0)throw new zl(Rt+" has no accessible constructor");var dn=Qt.constructor_body[arguments.length];if(dn===void 0)throw new zl("Tried to invoke ctor of "+Rt+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(Qt.constructor_body).toString()+") parameters instead!");return dn.apply(this,arguments)}),ft=Object.create(ys,{constructor:{value:ss}});ss.prototype=ft;var Qt=new cm(Rt,ss,ft,Nt,je,K,J,dt),ts=new cn(Rt,Qt,!0,!1,!1),De=new cn(Rt+"*",Qt,!1,!1,!1),es=new cn(Rt+" const*",Qt,!1,!0,!1);return od[m]={pointerType:De,constPointerType:es},hd(Kt,ss),[ts,De,es]})}function Ii(m,b){for(var T=[],L=0;L<m;L++)T.push(c()[(b>>2)+L>>>0]);return T}function gm(m,b,T,L,x,K){Zt(b>0);var w=Ii(b,T);x=Qs(L,x);var J=[K],Q=[];an([],[m],function(dt){dt=dt[0];var Rt="constructor "+dt.name;if(dt.registeredClass.constructor_body===void 0&&(dt.registeredClass.constructor_body=[]),dt.registeredClass.constructor_body[b-1]!==void 0)throw new zl("Cannot register multiple constructors with identical number of parameters ("+(b-1)+") for class '"+dt.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return dt.registeredClass.constructor_body[b-1]=function(){Ka("Cannot construct "+dt.name+" due to unbound types",w)},an([],w,function(Yt){return dt.registeredClass.constructor_body[b-1]=function(){arguments.length!==b-1&&Ue(Rt+" called with "+arguments.length+" arguments, expected "+(b-1)),Q.length=0,J.length=b;for(var Kt=1;Kt<b;++Kt)J[Kt]=Yt[Kt].toWireType(Q,arguments[Kt-1]);var re=x.apply(null,J);return vl(Q),Yt[0].fromWireType(re)},[]}),[]})}function Wm(m,b){if(!(m instanceof Function))throw new TypeError("new_ called with constructor type "+typeof m+" which is not a function");var T=Fa(m.name||"unknownFunctionName",function(){});T.prototype=m.prototype;var L=new T,x=m.apply(L,b);return x instanceof Object?x:L}function pd(m,b,T,L,x){var K=b.length;K<2&&Ue("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var w=b[1]!==null&&T!==null,J=!1,Q=1;Q<b.length;++Q)if(b[Q]!==null&&b[Q].destructorFunction===void 0){J=!0;break}for(var dt=b[0].name!=="void",Rt="",Yt="",Q=0;Q<K-2;++Q)Rt+=(Q!==0?", ":"")+"arg"+Q,Yt+=(Q!==0?", ":"")+"arg"+Q+"Wired";var Nt="return function "+mr(m)+"("+Rt+`) {
if (arguments.length !== `+(K-2)+`) {
throwBindingError('function `+m+" called with ' + arguments.length + ' arguments, expected "+(K-2)+` args!');
}
`;J&&(Nt+=`var destructors = [];
`);var Kt=J?"destructors":"null",re=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],je=[Ue,L,x,vl,b[0],b[1]];w&&(Nt+="var thisWired = classParam.toWireType("+Kt+`, this);
`);for(var Q=0;Q<K-2;++Q)Nt+="var arg"+Q+"Wired = argType"+Q+".toWireType("+Kt+", arg"+Q+"); // "+b[Q+2].name+`
`,re.push("argType"+Q),je.push(b[Q+2]);if(w&&(Yt="thisWired"+(Yt.length>0?", ":"")+Yt),Nt+=(dt?"var rv = ":"")+"invoker(fn"+(Yt.length>0?", ":"")+Yt+`);
`,J)Nt+=`runDestructors(destructors);
`;else for(var Q=w?1:2;Q<b.length;++Q){var ys=Q===1?"thisWired":"arg"+(Q-2)+"Wired";b[Q].destructorFunction!==null&&(Nt+=ys+"_dtor("+ys+"); // "+b[Q].name+`
`,re.push(ys+"_dtor"),je.push(b[Q].destructorFunction))}dt&&(Nt+=`var ret = retType.fromWireType(rv);
return ret;
`),Nt+=`}
`,re.push(Nt);var ss=Wm(Function,re).apply(null,je);return ss}function Lm(m,b,T,L,x,K,w,J){var Q=Ii(T,L);b=Ms(b),K=Qs(x,K),an([],[m],function(dt){dt=dt[0];var Rt=dt.name+"."+b;b.startsWith("@@")&&(b=Symbol[b.substring(2)]),J&&dt.registeredClass.pureVirtualFunctions.push(b);function Yt(){Ka("Cannot call "+Rt+" due to unbound types",Q)}var Nt=dt.registeredClass.instancePrototype,Kt=Nt[b];return Kt===void 0||Kt.overloadTable===void 0&&Kt.className!==dt.name&&Kt.argCount===T-2?(Yt.argCount=T-2,Yt.className=dt.name,Nt[b]=Yt):(Ea(Nt,b,Rt),Nt[b].overloadTable[T-2]=Yt),an([],Q,function(re){var je=pd(Rt,re,dt,K,w);return Nt[b].overloadTable===void 0?(je.argCount=T-2,Nt[b]=je):Nt[b].overloadTable[T-2]=je,[]}),[]})}var wa=[],ni=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function uc(m){m>4&&--ni[m].refcount===0&&(ni[m]=void 0,wa.push(m))}function Sm(){for(var m=0,b=5;b<ni.length;++b)ni[b]!==void 0&&++m;return m}function Cm(){for(var m=5;m<ni.length;++m)if(ni[m]!==void 0)return ni[m];return null}function fm(){p.count_emval_handles=Sm,p.get_first_emval=Cm}function Ni(m){switch(m){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var b=wa.length?wa.pop():ni.length;return ni[b]={refcount:1,value:m},b}}}function Vm(m,b){b=Ms(b),Di(m,{name:b,fromWireType:function(T){var L=ni[T].value;return uc(T),L},toWireType:function(T,L){return Ni(L)},argPackAdvance:8,readValueFromPointer:Ui,destructorFunction:null})}function xm(m,b,T){switch(b){case 0:return function(L){var x=T?l():r();return this.fromWireType(x[L>>>0])};case 1:return function(L){var x=T?a():o();return this.fromWireType(x[L>>>1])};case 2:return function(L){var x=T?c():h();return this.fromWireType(x[L>>>2])};default:throw new TypeError("Unknown integer type: "+m)}}function Nm(m,b,T,L){var x=Ya(T);b=Ms(b);function K(){}K.values={},Di(m,{name:b,constructor:K,fromWireType:function(w){return this.constructor.values[w]},toWireType:function(w,J){return J.value},argPackAdvance:8,readValueFromPointer:xm(b,x,L),destructorFunction:null}),cc(b,K)}function ka(m,b){var T=sl[m];return T===void 0&&Ue(b+" has unknown type "+ud(m)),T}function Fm(m,b,T){var L=ka(m,"enum");b=Ms(b);var x=L.constructor,K=Object.create(L.constructor.prototype,{value:{value:T},constructor:{value:Fa(L.name+"_"+b,function(){})}});x.values[T]=K,x[b]=K}function Kl(m){if(m===null)return"null";var b=typeof m;return b==="object"||b==="array"||b==="function"?m.toString():""+m}function Mm(m,b){switch(b){case 2:return function(T){return this.fromWireType(d()[T>>>2])};case 3:return function(T){return this.fromWireType(u()[T>>>3])};default:throw new TypeError("Unknown float type: "+m)}}function pc(m,b,T){var L=Ya(T);b=Ms(b),Di(m,{name:b,fromWireType:function(x){return x},toWireType:function(x,K){if(typeof K!="number"&&typeof K!="boolean")throw new TypeError('Cannot convert "'+Kl(K)+'" to '+this.name);return K},argPackAdvance:8,readValueFromPointer:Mm(b,L),destructorFunction:null})}function Ym(m,b,T,L,x,K){var w=Ii(b,T);m=Ms(m),x=Qs(L,x),cc(m,function(){Ka("Cannot call "+m+" due to unbound types",w)},b-1),an([],w,function(J){var Q=[J[0],null].concat(J.slice(1));return hd(m,pd(m,Q,null,x,K),b-1),[]})}function vm(m,b,T){switch(b){case 0:return T?function(x){return l()[x>>>0]}:function(x){return r()[x>>>0]};case 1:return T?function(x){return a()[x>>>1]}:function(x){return o()[x>>>1]};case 2:return T?function(x){return c()[x>>>2]}:function(x){return h()[x>>>2]};default:throw new TypeError("Unknown integer type: "+m)}}function Em(m,b,T,L,x){b=Ms(b),x===-1&&(x=4294967295);var K=Ya(T),w=function(dt){return dt};if(L===0){var J=32-8*T;w=function(dt){return dt<<J>>>J}}var Q=b.includes("unsigned");Di(m,{name:b,fromWireType:w,toWireType:function(dt,Rt){if(typeof Rt!="number"&&typeof Rt!="boolean")throw new TypeError('Cannot convert "'+Kl(Rt)+'" to '+this.name);if(Rt<L||Rt>x)throw new TypeError('Passing a number "'+Kl(Rt)+'" from JS side to C/C++ side to an argument of type "'+b+'", which is outside the valid range ['+L+", "+x+"]!");return Q?Rt>>>0:Rt|0},argPackAdvance:8,readValueFromPointer:vm(b,K,L!==0),destructorFunction:null})}function zm(m,b,T){var L=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],x=L[b];function K(w){w=w>>2;var J=h(),Q=J[w>>>0],dt=J[w+1>>>0];return new x(ht,dt,Q)}T=Ms(T),Di(m,{name:T,fromWireType:K,argPackAdvance:8,readValueFromPointer:K},{ignoreDuplicateRegistrations:!0})}function Hm(m,b){b=Ms(b);var T=b==="std::string";Di(m,{name:b,fromWireType:function(L){var x=h()[L>>>2],K;if(T)for(var w=L+4,J=0;J<=x;++J){var Q=L+4+J;if(J==x||r()[Q>>>0]==0){var dt=Q-w,Rt=Lt(w,dt);K===void 0?K=Rt:(K+=String.fromCharCode(0),K+=Rt),w=Q+1}}else{for(var Yt=new Array(x),J=0;J<x;++J)Yt[J]=String.fromCharCode(r()[L+4+J>>>0]);K=Yt.join("")}return Mi(L),K},toWireType:function(L,x){x instanceof ArrayBuffer&&(x=new Uint8Array(x));var K,w=typeof x=="string";w||x instanceof Uint8Array||x instanceof Uint8ClampedArray||x instanceof Int8Array||Ue("Cannot pass non-string to std::string"),T&&w?K=function(){return Xt(x)}:K=function(){return x.length};var J=K(),Q=vn(4+J+1);if(Q>>>=0,h()[Q>>>2]=J,T&&w)bt(x,Q+4,J+1);else if(w)for(var dt=0;dt<J;++dt){var Rt=x.charCodeAt(dt);Rt>255&&(Mi(Q),Ue("String has UTF-16 code units that do not fit in 8 bits")),r()[Q+4+dt>>>0]=Rt}else for(var dt=0;dt<J;++dt)r()[Q+4+dt>>>0]=x[dt];return L!==null&&L.push(Mi,Q),Q},argPackAdvance:8,readValueFromPointer:Ui,destructorFunction:function(L){Mi(L)}})}function mc(m,b,T){T=Ms(T);var L,x,K,w,J;b===2?(L=jt,x=Ot,w=Le,K=function(){return o()},J=1):b===4&&(L=Ge,x=ae,w=cs,K=function(){return h()},J=2),Di(m,{name:T,fromWireType:function(Q){for(var dt=h()[Q>>>2],Rt=K(),Yt,Nt=Q+4,Kt=0;Kt<=dt;++Kt){var re=Q+4+Kt*b;if(Kt==dt||Rt[re>>>J]==0){var je=re-Nt,ys=L(Nt,je);Yt===void 0?Yt=ys:(Yt+=String.fromCharCode(0),Yt+=ys),Nt=re+b}}return Mi(Q),Yt},toWireType:function(Q,dt){typeof dt!="string"&&Ue("Cannot pass non-string to C++ string type "+T);var Rt=w(dt),Yt=vn(4+Rt+b);return Yt>>>=0,h()[Yt>>>2]=Rt>>J,x(dt,Yt+4,Rt+b),Q!==null&&Q.push(Mi,Yt),Yt},argPackAdvance:8,readValueFromPointer:Ui,destructorFunction:function(Q){Mi(Q)}})}function Km(m,b,T,L,x,K){xa[m]={name:Ms(b),rawConstructor:Qs(T,L),rawDestructor:Qs(x,K),elements:[]}}function Xr(m,b,T,L,x,K,w,J,Q){xa[m].elements.push({getterReturnType:b,getter:Qs(T,L),getterContext:x,setterArgumentType:K,setter:Qs(w,J),setterContext:Q})}function wm(m,b,T,L,x,K){Ma[m]={name:Ms(b),rawConstructor:Qs(T,L),rawDestructor:Qs(x,K),fields:[]}}function km(m,b,T,L,x,K,w,J,Q,dt){Ma[m].fields.push({fieldName:Ms(b),getterReturnType:T,getter:Qs(L,x),getterContext:K,setterArgumentType:w,setter:Qs(J,Q),setterContext:dt})}function Pm(m,b){b=Ms(b),Di(m,{isVoid:!0,name:b,argPackAdvance:0,fromWireType:function(){},toWireType:function(T,L){}})}function Um(m,b){if(m==b)postMessage({cmd:"processQueuedMainThreadWork"});else if(Y)postMessage({targetThread:m,cmd:"processThreadQueue"});else{var T=At.pthreads[m],L=T&&T.worker;if(!L)return;L.postMessage({cmd:"processThreadQueue"})}return 1}function Ji(m){return m||Ue("Cannot use deleted val. handle = "+m),ni[m].value}function Dm(m,b,T){m=Ji(m),b=ka(b,"emval::as");var L=[],x=Ni(L);return c()[T>>>2]=x,b.toWireType(L,m)}function Jm(m,b){for(var T=new Array(m),L=0;L<m;++L)T[L]=ka(c()[(b>>2)+L>>>0],"parameter "+L);return T}function Pa(m,b,T,L){m=Ji(m);for(var x=Jm(b,T),K=new Array(b),w=0;w<b;++w){var J=x[w];K[w]=J.readValueFromPointer(L),L+=J.argPackAdvance}var Q=m.apply(void 0,K);return Ni(Q)}var bc={};function Tr(m){var b=bc[m];return b===void 0?Ms(m):b}function Rr(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function Ua(m){return m===0?Ni(Rr()):(m=Tr(m),Ni(Rr()[m]))}function Om(m,b){return m=Ji(m),b=Ji(b),Ni(m[b])}function Bm(m){m>4&&(ni[m].refcount+=1)}function md(m,b){return m=Ji(m),b=Ji(b),m instanceof b}function Da(m){return m=Ji(m),typeof m=="number"}function Ja(){return Ni([])}function Oa(m){return Ni(Tr(m))}function Am(){return Ni({})}function Ba(m){var b=ni[m].value;vl(b),uc(m)}function hn(m,b,T){m=Ji(m),b=Ji(b),T=Ji(T),m[b]=T}function bd(m,b){m=ka(m,"_emval_take_value");var T=m.readValueFromPointer(b);return Ni(T)}function yd(){et()}var wl=[];function yc(m,b){wl.length=0;var T;for(b>>=2;T=r()[m++>>>0];){var L=T<105;L&&b&1&&b++,wl.push(L?u()[b++>>>1]:c()[b>>>0]),++b}return wl}function jm(m,b,T){var L=yc(b,T);return He[m].apply(null,L)}function Gc(){E||N||gt("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")}function Qm(m,b){}function Gd(m,b,T){if(m<=0||m>l().length||m&!0)return-28;if(M){if(Atomics.load(c(),m>>2)!=b)return-6;for(var x=performance.now(),K=x+T,w=Atomics.exchange(c(),Aa>>2,m);;){if(x=performance.now(),x>K)return w=Atomics.exchange(c(),Aa>>2,0),-73;if(w=Atomics.exchange(c(),Aa>>2,0),w==0)break;if($m(),Atomics.load(c(),m>>2)!=b)return-6;w=Atomics.exchange(c(),Aa>>2,m)}return 0}else{var L=Atomics.wait(c(),m>>2,b,T);if(L==="timed-out")return-73;if(L==="not-equal")return-6;if(L==="ok")return 0;throw"Atomics.wait returned an unexpected value "+L}}function y(m,b,T){r().copyWithin(m>>>0,b>>>0,b+T>>>0)}function G(m,b){for(var T=arguments.length-2,L=Ld(),x=T,K=Sd(x*8),w=K>>3,J=0;J<T;J++){var Q=arguments[2+J];u()[w+J>>>0]=Q}var dt=BM(m,x,K,b);return Tc(L),dt}var g=[];function C(m,b,T){g.length=b;for(var L=T>>3,x=0;x<b;x++)g[x]=u()[L+x>>>0];var K=m<0,w=K?He[-m-1]:k$[m];return w.apply(null,g)}function v(m){try{return wt.grow(m-ht.byteLength+65535>>>16),_(wt.buffer),1}catch{}}function P(m){var b=r().length;if(m=m>>>0,m<=b)return!1;var T=4294901760;if(m>T)return!1;for(var L=1;L<=4;L*=2){var x=b*(1+.2/L);x=Math.min(x,m+100663296);var K=Math.min(T,U(Math.max(m,x),65536)),w=v(K);if(w)return!0}return!1}var k={inEventHandler:0,removeAllEventListeners:function(){for(var m=k.eventHandlers.length-1;m>=0;--m)k._removeHandler(m);k.eventHandlers=[],k.deferredCalls=[]},registerRemoveEventListeners:function(){k.removeEventListenersRegistered||(k.removeEventListenersRegistered=!0)},deferredCalls:[],deferCall:function(m,b,T){function L(w,J){if(w.length!=J.length)return!1;for(var Q in w)if(w[Q]!=J[Q])return!1;return!0}for(var x in k.deferredCalls){var K=k.deferredCalls[x];if(K.targetFunction==m&&L(K.argsList,T))return}k.deferredCalls.push({targetFunction:m,precedence:b,argsList:T}),k.deferredCalls.sort(function(w,J){return w.precedence<J.precedence})},removeDeferredCalls:function(m){for(var b=0;b<k.deferredCalls.length;++b)k.deferredCalls[b].targetFunction==m&&(k.deferredCalls.splice(b,1),--b)},canPerformEventHandlerRequests:function(){return k.inEventHandler&&k.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(!!k.canPerformEventHandlerRequests())for(var m=0;m<k.deferredCalls.length;++m){var b=k.deferredCalls[m];k.deferredCalls.splice(m,1),--m,b.targetFunction.apply(null,b.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:function(m,b){for(var T=0;T<k.eventHandlers.length;++T)k.eventHandlers[T].target==m&&(!b||b==k.eventHandlers[T].eventTypeString)&&k._removeHandler(T--)},_removeHandler:function(m){var b=k.eventHandlers[m];b.target.removeEventListener(b.eventTypeString,b.eventListenerFunc,b.useCapture),k.eventHandlers.splice(m,1)},registerOrRemoveHandler:function(m){var b=function(x){++k.inEventHandler,k.currentEventHandler=m,k.runDeferredCalls(),m.handlerFunc(x),k.runDeferredCalls(),--k.inEventHandler};if(m.callbackfunc)m.eventListenerFunc=b,m.target.addEventListener(m.eventTypeString,b,m.useCapture),k.eventHandlers.push(m),k.registerRemoveEventListeners();else for(var T=0;T<k.eventHandlers.length;++T)k.eventHandlers[T].target==m.target&&k.eventHandlers[T].eventTypeString==m.eventTypeString&&k._removeHandler(T--)},queueEventHandlerOnThread_iiii:function(m,b,T,L,x){var K=Ld(),w=Sd(12);c()[w>>>2]=T,c()[w+4>>>2]=L,c()[w+8>>>2]=x,t0(0,m,637534208,b,L,w),Tc(K)},getTargetThreadForEventCallback:function(m){switch(m){case 1:return 0;case 2:return At.currentProxiedOperationCallerThread;default:return m}},getNodeNameForTarget:function(m){return m?m==window?"#window":m==screen?"#screen":m&&m.nodeName?m.nodeName:"":""},fullscreenEnabled:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}};function A(m){var b=Xt(m)+1,T=vn(b);return bt(m,T,b),T}function tt(m,b,T,L){var x=Ld(),K=Sd(12),w=0;b&&(w=A(b)),c()[K>>>2]=w,c()[K+4>>>2]=T,c()[K+8>>>2]=L,t0(0,m,657457152,0,w,K),Tc(x)}function ut(m,b,T,L){b=b?Lt(b):"",tt(m,b,T,L)}function It(m){return m>2?Lt(m):m}var Et=[0,typeof document<"u"?document:0,typeof window<"u"?window:0];function Ft(m){m=It(m);var b=Et[m]||(typeof document<"u"?document.querySelector(m):void 0);return b}function Ht(m){return Ft(m)}function le(m,b,T){var L=Ht(m);if(!L)return-4;if(L.canvasSharedPtr&&(c()[L.canvasSharedPtr>>>2]=b,c()[L.canvasSharedPtr+4>>>2]=T),L.offscreenCanvas||!L.controlTransferredOffscreen){L.offscreenCanvas&&(L=L.offscreenCanvas);var x=!1;if(L.GLctxObject&&L.GLctxObject.GLctx){var K=L.GLctxObject.GLctx.getParameter(2978);x=K[0]===0&&K[1]===0&&K[2]===L.width&&K[3]===L.height}L.width=b,L.height=T,x&&L.GLctxObject.GLctx.viewport(0,0,b,T)}else if(L.canvasSharedPtr){var w=c()[L.canvasSharedPtr+8>>>2];return ut(w,m,b,T),1}else return-4;return 0}function Ke(m,b,T){return Y?G(5,1,m,b,T):le(m,b,T)}function hs(m,b,T){var L=Ht(m);return L?le(m,b,T):Ke(m,b,T)}function $e(m){}function St(m){var b=m.getExtension("ANGLE_instanced_arrays");if(b)return m.vertexAttribDivisor=function(T,L){b.vertexAttribDivisorANGLE(T,L)},m.drawArraysInstanced=function(T,L,x,K){b.drawArraysInstancedANGLE(T,L,x,K)},m.drawElementsInstanced=function(T,L,x,K,w){b.drawElementsInstancedANGLE(T,L,x,K,w)},1}function Bt(m){var b=m.getExtension("OES_vertex_array_object");if(b)return m.createVertexArray=function(){return b.createVertexArrayOES()},m.deleteVertexArray=function(T){b.deleteVertexArrayOES(T)},m.bindVertexArray=function(T){b.bindVertexArrayOES(T)},m.isVertexArray=function(T){return b.isVertexArrayOES(T)},1}function Ae(m){var b=m.getExtension("WEBGL_draw_buffers");if(b)return m.drawBuffers=function(T,L){b.drawBuffersWEBGL(T,L)},1}function ve(m){return!!(m.multiDrawWebgl=m.getExtension("WEBGL_multi_draw"))}var de={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],shaders:[],vaos:[],contexts:{},offscreenCanvases:{},queries:[],stringCache:{},unpackAlignment:4,recordError:function(b){de.lastError||(de.lastError=b)},getNewId:function(m){for(var b=de.counter++,T=m.length;T<b;T++)m[T]=null;return b},getSource:function(m,b,T,L){for(var x="",K=0;K<b;++K){var w=L?c()[L+K*4>>>2]:-1;x+=Lt(c()[T+K*4>>>2],w<0?void 0:w)}return x},createContext:function(m,b){m.getContextSafariWebGL2Fixed||(m.getContextSafariWebGL2Fixed=m.getContext,m.getContext=function(x,K){var w=m.getContextSafariWebGL2Fixed(x,K);return x=="webgl"==w instanceof WebGLRenderingContext?w:null});var T=m.getContext("webgl",b);if(!T)return 0;var L=de.registerContext(T,b);return L},registerContext:function(m,b){var T=vn(8);c()[T+4>>>2]=Xc();var L={handle:T,attributes:b,version:b.majorVersion,GLctx:m};return m.canvas&&(m.canvas.GLctxObject=L),de.contexts[T]=L,(typeof b.enableExtensionsByDefault>"u"||b.enableExtensionsByDefault)&&de.initExtensions(L),T},makeContextCurrent:function(m){return de.currentContext=de.contexts[m],p.ctx=PM=de.currentContext&&de.currentContext.GLctx,!(m&&!PM)},getContext:function(m){return de.contexts[m]},deleteContext:function(m){de.currentContext===de.contexts[m]&&(de.currentContext=null),typeof k=="object"&&k.removeAllHandlersOnTarget(de.contexts[m].GLctx.canvas),de.contexts[m]&&de.contexts[m].GLctx.canvas&&(de.contexts[m].GLctx.canvas.GLctxObject=void 0),Mi(de.contexts[m].handle),de.contexts[m]=null},initExtensions:function(m){if(m||(m=de.currentContext),!m.initExtensionsDone){m.initExtensionsDone=!0;var b=m.GLctx;St(b),Bt(b),Ae(b),b.disjointTimerQueryExt=b.getExtension("EXT_disjoint_timer_query"),ve(b);var T=b.getSupportedExtensions()||[];T.forEach(function(L){!L.includes("lose_context")&&!L.includes("debug")&&b.getExtension(L)})}}},Fi=["default","low-power","high-performance"];function nl(m,b){var T=b>>2,L=c()[T+6>>>0],x={alpha:!!c()[T+0>>>0],depth:!!c()[T+1>>>0],stencil:!!c()[T+2>>>0],antialias:!!c()[T+3>>>0],premultipliedAlpha:!!c()[T+4>>>0],preserveDrawingBuffer:!!c()[T+5>>>0],powerPreference:Fi[L],failIfMajorPerformanceCaveat:!!c()[T+7>>>0],majorVersion:c()[T+8>>>0],minorVersion:c()[T+9>>>0],enableExtensionsByDefault:c()[T+10>>>0],explicitSwapControl:c()[T+11>>>0],proxyContextToMainThread:c()[T+12>>>0],renderViaOffscreenBackBuffer:c()[T+13>>>0]},K=Ht(m);if(!K||x.explicitSwapControl)return 0;var w=de.createContext(K,x);return w}function v$(m,b){return nl(m,b)}var _m={};function E$(){return S||"./this.program"}function Zc(){if(!Zc.strings){var m=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",b={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:m,_:E$()};for(var T in _m)_m[T]===void 0?delete b[T]:b[T]=_m[T];var L=[];for(var T in b)L.push(T+"="+b[T]);Zc.strings=L}return Zc.strings}function YM(m,b){if(Y)return G(6,1,m,b);try{var T=0;return Zc().forEach(function(L,x){var K=b+T;c()[m+x*4>>>2]=K,B(L,K),T+=L.length+1}),0}catch(L){return(typeof V>"u"||!(L instanceof V.ErrnoError))&&et(L),L.errno}}function vM(m,b){if(Y)return G(7,1,m,b);try{var T=Zc();c()[m>>>2]=T.length;var L=0;return T.forEach(function(x){L+=x.length+1}),c()[b>>>2]=L,0}catch(x){return(typeof V>"u"||!(x instanceof V.ErrnoError))&&et(x),x.errno}}function EM(m){if(Y)return G(8,1,m);try{var b=Ns.getStreamFromFD(m);return V.close(b),0}catch(T){return(typeof V>"u"||!(T instanceof V.ErrnoError))&&et(T),T.errno}}function zM(m,b,T,L){if(Y)return G(9,1,m,b,T,L);try{var x=Ns.getStreamFromFD(m),K=Ns.doReadv(x,b,T);return c()[L>>>2]=K,0}catch(w){return(typeof V>"u"||!(w instanceof V.ErrnoError))&&et(w),w.errno}}function HM(m,b,T,L,x){if(Y)return G(10,1,m,b,T,L,x);try{var K=Ns.getStreamFromFD(m),w=4294967296,J=T*w+(b>>>0),Q=9007199254740992;return J<=-Q||J>=Q?-61:(V.llseek(K,J,L),fe=[K.position>>>0,(te=K.position,+Math.abs(te)>=1?te>0?(Math.min(+Math.floor(te/4294967296),4294967295)|0)>>>0:~~+Math.ceil((te-+(~~te>>>0))/4294967296)>>>0:0)],c()[x>>>2]=fe[0],c()[x+4>>>2]=fe[1],K.getdents&&J===0&&L===0&&(K.getdents=null),0)}catch(dt){return(typeof V>"u"||!(dt instanceof V.ErrnoError))&&et(dt),dt.errno}}function KM(m,b,T,L){if(Y)return G(11,1,m,b,T,L);try{var x=Ns.getStreamFromFD(m),K=Ns.doWritev(x,b,T);return c()[L>>>2]=K,0}catch(w){return(typeof V>"u"||!(w instanceof V.ErrnoError))&&et(w),w.errno}}function wM(m){if(Y)throw"Internal Error! spawnThread() can only ever be called from main application thread!";var b=At.getNewWorker();if(!b)return 6;if(b.pthread!==void 0)throw"Internal error!";if(!m.pthread_ptr)throw"Internal error, no pthread ptr!";At.runningWorkers.push(b);for(var T=vn(128*4),L=0;L<128;++L)c()[T+L*4>>>2]=0;var x=m.stackBase+m.stackSize,K=At.pthreads[m.pthread_ptr]={worker:b,stackBase:m.stackBase,stackSize:m.stackSize,allocatedOwnStack:m.allocatedOwnStack,threadInfoStruct:m.pthread_ptr},w=K.threadInfoStruct>>2;Atomics.store(h(),w+16,m.detached),Atomics.store(h(),w+25,T),Atomics.store(h(),w+10,K.threadInfoStruct),Atomics.store(h(),w+20,m.stackSize),Atomics.store(h(),w+19,x),Atomics.store(h(),w+26,m.stackSize),Atomics.store(h(),w+28,x),Atomics.store(h(),w+29,m.detached);var J=AM(),Q=J+40;Atomics.store(h(),w+43,Q),b.pthread=K;var dt={cmd:"run",start_routine:m.startRoutine,arg:m.arg,threadInfoStruct:m.pthread_ptr,stackBase:m.stackBase,stackSize:m.stackSize};return b.runPthread=function(){dt.time=performance.now(),b.postMessage(dt,m.transferList)},b.loaded&&(b.runPthread(),delete b.runPthread),0}function z$(m,b,T,L){if(typeof SharedArrayBuffer>"u")return lt("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;if(!m)return lt("pthread_create called with a null thread pointer!"),28;var x=[],K=0;if(Y&&(x.length===0||K))return OM(687865856,m,b,T,L);var w=0,J=0,Q=0;b&&b!=-1?(w=c()[b>>>2],w+=81920,J=c()[b+8>>>2],Q=c()[b+12>>>2]!==0):w=2097152;var dt=J==0;dt?J=s0(16,w):(J-=w,Zt(J>0));for(var Rt=vn(228),Yt=0;Yt<57;++Yt)h()[(Rt>>2)+Yt>>>0]=0;c()[m>>>2]=Rt,c()[Rt+12>>>2]=Rt;var Nt=Rt+152;c()[Nt>>>2]=Nt;var Kt={stackBase:J,stackSize:w,allocatedOwnStack:dt,detached:Q,startRoutine:T,pthread_ptr:Rt,arg:L,transferList:x};return Y?(Kt.cmd="spawnThread",postMessage(Kt,x),0):wM(Kt)}function H$(m){}function Zd(m){return m%4===0&&(m%100!==0||m%400===0)}function qm(m,b){for(var T=0,L=0;L<=b;T+=m[L++]);return T}var Xd=[31,29,31,30,31,30,31,31,30,31,30,31],Td=[31,28,31,30,31,30,31,31,30,31,30,31];function Rd(m,b){for(var T=new Date(m.getTime());b>0;){var L=Zd(T.getFullYear()),x=T.getMonth(),K=(L?Xd:Td)[x];if(b>K-T.getDate())b-=K-T.getDate()+1,T.setDate(1),x<11?T.setMonth(x+1):(T.setMonth(0),T.setFullYear(T.getFullYear()+1));else return T.setDate(T.getDate()+b),T}return T}function K$(m,b,T,L){var x=c()[L+40>>>2],K={tm_sec:c()[L>>>2],tm_min:c()[L+4>>>2],tm_hour:c()[L+8>>>2],tm_mday:c()[L+12>>>2],tm_mon:c()[L+16>>>2],tm_year:c()[L+20>>>2],tm_wday:c()[L+24>>>2],tm_yday:c()[L+28>>>2],tm_isdst:c()[L+32>>>2],tm_gmtoff:c()[L+36>>>2],tm_zone:x?Lt(x):""},w=Lt(T),J={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Q in J)w=w.replace(new RegExp(Q,"g"),J[Q]);var dt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Rt=["January","February","March","April","May","June","July","August","September","October","November","December"];function Yt(ft,Qt,ts){for(var De=typeof ft=="number"?ft.toString():ft||"";De.length<Qt;)De=ts[0]+De;return De}function Nt(ft,Qt){return Yt(ft,Qt,"0")}function Kt(ft,Qt){function ts(es){return es<0?-1:es>0?1:0}var De;return(De=ts(ft.getFullYear()-Qt.getFullYear()))===0&&(De=ts(ft.getMonth()-Qt.getMonth()))===0&&(De=ts(ft.getDate()-Qt.getDate())),De}function re(ft){switch(ft.getDay()){case 0:return new Date(ft.getFullYear()-1,11,29);case 1:return ft;case 2:return new Date(ft.getFullYear(),0,3);case 3:return new Date(ft.getFullYear(),0,2);case 4:return new Date(ft.getFullYear(),0,1);case 5:return new Date(ft.getFullYear()-1,11,31);case 6:return new Date(ft.getFullYear()-1,11,30)}}function je(ft){var Qt=Rd(new Date(ft.tm_year+1900,0,1),ft.tm_yday),ts=new Date(Qt.getFullYear(),0,4),De=new Date(Qt.getFullYear()+1,0,4),es=re(ts),dn=re(De);return Kt(es,Qt)<=0?Kt(dn,Qt)<=0?Qt.getFullYear()+1:Qt.getFullYear():Qt.getFullYear()-1}var ys={"%a":function(ft){return dt[ft.tm_wday].substring(0,3)},"%A":function(ft){return dt[ft.tm_wday]},"%b":function(ft){return Rt[ft.tm_mon].substring(0,3)},"%B":function(ft){return Rt[ft.tm_mon]},"%C":function(ft){var Qt=ft.tm_year+1900;return Nt(Qt/100|0,2)},"%d":function(ft){return Nt(ft.tm_mday,2)},"%e":function(ft){return Yt(ft.tm_mday,2," ")},"%g":function(ft){return je(ft).toString().substring(2)},"%G":function(ft){return je(ft)},"%H":function(ft){return Nt(ft.tm_hour,2)},"%I":function(ft){var Qt=ft.tm_hour;return Qt==0?Qt=12:Qt>12&&(Qt-=12),Nt(Qt,2)},"%j":function(ft){return Nt(ft.tm_mday+qm(Zd(ft.tm_year+1900)?Xd:Td,ft.tm_mon-1),3)},"%m":function(ft){return Nt(ft.tm_mon+1,2)},"%M":function(ft){return Nt(ft.tm_min,2)},"%n":function(){return`
`},"%p":function(ft){return ft.tm_hour>=0&&ft.tm_hour<12?"AM":"PM"},"%S":function(ft){return Nt(ft.tm_sec,2)},"%t":function(){return"	"},"%u":function(ft){return ft.tm_wday||7},"%U":function(ft){var Qt=new Date(ft.tm_year+1900,0,1),ts=Qt.getDay()===0?Qt:Rd(Qt,7-Qt.getDay()),De=new Date(ft.tm_year+1900,ft.tm_mon,ft.tm_mday);if(Kt(ts,De)<0){var es=qm(Zd(De.getFullYear())?Xd:Td,De.getMonth()-1)-31,dn=31-ts.getDate(),Ir=dn+es+De.getDate();return Nt(Math.ceil(Ir/7),2)}return Kt(ts,Qt)===0?"01":"00"},"%V":function(ft){var Qt=new Date(ft.tm_year+1900,0,4),ts=new Date(ft.tm_year+1901,0,4),De=re(Qt),es=re(ts),dn=Rd(new Date(ft.tm_year+1900,0,1),ft.tm_yday);if(Kt(dn,De)<0)return"53";if(Kt(es,dn)<=0)return"01";var Ir;return De.getFullYear()<ft.tm_year+1900?Ir=ft.tm_yday+32-De.getDate():Ir=ft.tm_yday+1-De.getDate(),Nt(Math.ceil(Ir/7),2)},"%w":function(ft){return ft.tm_wday},"%W":function(ft){var Qt=new Date(ft.tm_year,0,1),ts=Qt.getDay()===1?Qt:Rd(Qt,Qt.getDay()===0?1:7-Qt.getDay()+1),De=new Date(ft.tm_year+1900,ft.tm_mon,ft.tm_mday);if(Kt(ts,De)<0){var es=qm(Zd(De.getFullYear())?Xd:Td,De.getMonth()-1)-31,dn=31-ts.getDate(),Ir=dn+es+De.getDate();return Nt(Math.ceil(Ir/7),2)}return Kt(ts,Qt)===0?"01":"00"},"%y":function(ft){return(ft.tm_year+1900).toString().substring(2)},"%Y":function(ft){return ft.tm_year+1900},"%z":function(ft){var Qt=ft.tm_gmtoff,ts=Qt>=0;return Qt=Math.abs(Qt)/60,Qt=Qt/60*100+Qt%60,(ts?"+":"-")+String("0000"+Qt).slice(-4)},"%Z":function(ft){return ft.tm_zone},"%%":function(){return"%"}};for(var Q in ys)w.includes(Q)&&(w=w.replace(new RegExp(Q,"g"),ys[Q](K)));var ss=Wd(w,!1);return ss.length>b?0:(_e(ss,m),ss.length-1)}function w$(m,b,T,L){return K$(m,b,T,L)}Y||At.initMainThreadBlock();var kM=function(m,b,T,L){m||(m=this),this.parent=m,this.mount=m.mount,this.mounted=null,this.id=V.nextInode++,this.name=b,this.mode=T,this.node_ops={},this.stream_ops={},this.rdev=L},Id=365,gd=146;Object.defineProperties(kM.prototype,{read:{get:function(){return(this.mode&Id)===Id},set:function(m){m?this.mode|=Id:this.mode&=~Id}},write:{get:function(){return(this.mode&gd)===gd},set:function(m){m?this.mode|=gd:this.mode&=~gd}},isFolder:{get:function(){return V.isDir(this.mode)}},isDevice:{get:function(){return V.isChrdev(this.mode)}}}),V.FSNode=kM,V.staticInit(),p.FS_createPath=V.createPath,p.FS_createDataFile=V.createDataFile,p.FS_createPreloadedFile=V.createPreloadedFile,p.FS_createLazyFile=V.createLazyFile,p.FS_createDevice=V.createDevice,p.FS_unlink=V.unlink,rn=p.InternalError=lc(Error,"InternalError"),nm(),zl=p.BindingError=lc(Error,"BindingError"),ad(),Zm(),bm(),dd=p.UnboundTypeError=lc(Error,"UnboundTypeError"),fm();var PM,k$=[null,di,fa,Va,nc,Ke,YM,vM,EM,zM,HM,KM];function Wd(m,b,T){var L=T>0?T:Xt(m)+1,x=new Array(L),K=ce(m,x,0,x.length);return b&&(x.length=K),x}var P$={l:Ti,B:Ri,ka:Ca,A:tm,D:fa,V:Va,W:nc,ma:rc,s:ac,O:im,ia:lm,v:Im,u:gm,c:Lm,ha:Vm,la:Nm,y:Fm,J:pc,f:Ym,p:Em,k:zm,K:Hm,z:mc,na:Km,h:Xr,t:wm,e:km,ja:Pm,ea:Um,n:Dm,L:Pa,b:uc,U:Ua,o:Om,j:Bm,ca:md,M:Da,C:Ja,g:Oa,w:Am,m:Ba,i:hn,d:bd,I:yd,T:ki,G:jm,_:Gc,F:Qm,r:Gd,q:si,x:ii,R:y,$:C,S:P,aa:hs,E:$e,ba:v$,Y:YM,Z:vM,H:EM,ga:zM,N:HM,fa:KM,Q:bs,a:wt||p.wasmMemory,da:z$,P:H$,X:w$};f(),p.___wasm_call_ctors=function(){return(p.___wasm_call_ctors=p.asm.oa).apply(null,arguments)},p._main=function(){return(p._main=p.asm.pa).apply(null,arguments)};var vn=p._malloc=function(){return(vn=p._malloc=p.asm.qa).apply(null,arguments)},Mi=p._free=function(){return(Mi=p._free=p.asm.ra).apply(null,arguments)};p._emscripten_tls_init=function(){return(p._emscripten_tls_init=p.asm.sa).apply(null,arguments)};var UM=p.___getTypeName=function(){return(UM=p.___getTypeName=p.asm.ua).apply(null,arguments)};p.___embind_register_native_and_builtin_types=function(){return(p.___embind_register_native_and_builtin_types=p.asm.va).apply(null,arguments)},p._emscripten_current_thread_process_queued_calls=function(){return(p._emscripten_current_thread_process_queued_calls=p.asm.wa).apply(null,arguments)};var DM=p._emscripten_register_main_browser_thread_id=function(){return(DM=p._emscripten_register_main_browser_thread_id=p.asm.xa).apply(null,arguments)},JM=p.__emscripten_do_dispatch_to_thread=function(){return(JM=p.__emscripten_do_dispatch_to_thread=p.asm.ya).apply(null,arguments)},OM=p._emscripten_sync_run_in_main_thread_4=function(){return(OM=p._emscripten_sync_run_in_main_thread_4=p.asm.za).apply(null,arguments)},$m=p._emscripten_main_thread_process_queued_calls=function(){return($m=p._emscripten_main_thread_process_queued_calls=p.asm.Aa).apply(null,arguments)},BM=p._emscripten_run_in_main_runtime_thread_js=function(){return(BM=p._emscripten_run_in_main_runtime_thread_js=p.asm.Ba).apply(null,arguments)},t0=p.__emscripten_call_on_thread=function(){return(t0=p.__emscripten_call_on_thread=p.asm.Ca).apply(null,arguments)},e0=p.__emscripten_thread_init=function(){return(e0=p.__emscripten_thread_init=p.asm.Da).apply(null,arguments)},AM=p._emscripten_get_global_libc=function(){return(AM=p._emscripten_get_global_libc=p.asm.Ea).apply(null,arguments)},jM=p.___errno_location=function(){return(jM=p.___errno_location=p.asm.Fa).apply(null,arguments)},Xc=p._pthread_self=function(){return(Xc=p._pthread_self=p.asm.Ga).apply(null,arguments)},QM=p.___pthread_tsd_run_dtors=function(){return(QM=p.___pthread_tsd_run_dtors=p.asm.Ha).apply(null,arguments)},Ld=p.stackSave=function(){return(Ld=p.stackSave=p.asm.Ia).apply(null,arguments)},Tc=p.stackRestore=function(){return(Tc=p.stackRestore=p.asm.Ja).apply(null,arguments)},Sd=p.stackAlloc=function(){return(Sd=p.stackAlloc=p.asm.Ka).apply(null,arguments)},_M=p._emscripten_stack_set_limits=function(){return(_M=p._emscripten_stack_set_limits=p.asm.La).apply(null,arguments)},s0=p._memalign=function(){return(s0=p._memalign=p.asm.Ma).apply(null,arguments)};p.dynCall_jiji=function(){return(p.dynCall_jiji=p.asm.Na).apply(null,arguments)},p.dynCall_viijii=function(){return(p.dynCall_viijii=p.asm.Oa).apply(null,arguments)},p.dynCall_iiiiij=function(){return(p.dynCall_iiiiij=p.asm.Pa).apply(null,arguments)},p.dynCall_iiiiijj=function(){return(p.dynCall_iiiiijj=p.asm.Qa).apply(null,arguments)},p.dynCall_iiiiiijj=function(){return(p.dynCall_iiiiiijj=p.asm.Ra).apply(null,arguments)};var qM=p.__emscripten_allow_main_runtime_queued_calls=44840,Aa=p.__emscripten_main_thread_futex=48292;p.addRunDependency=Ml,p.removeRunDependency=D,p.FS_createPath=V.createPath,p.FS_createDataFile=V.createDataFile,p.FS_createPreloadedFile=V.createPreloadedFile,p.FS_createLazyFile=V.createLazyFile,p.FS_createDevice=V.createDevice,p.FS_unlink=V.unlink,p.keepRuntimeAlive=qe,p.FS=V,p.PThread=At,p.PThread=At,p.wasmMemory=wt,p.ExitStatus=ja;var Cd;function ja(m){this.name="ExitStatus",this.message="Program terminated with exit("+m+")",this.status=m}tl=function m(){Cd||i0(),Cd||(tl=m)};function U$(m){var b=p._main,T=0,L=0;try{var x=b(T,L);$M(x,!0)}catch(w){if(w instanceof ja||w=="unwind")return;var K=w;w&&typeof w=="object"&&w.stack&&(K=[w,w.stack]),lt("exception thrown: "+K),F(1,w)}finally{}}function i0(m){if(wi>0)return;if(Y){Z(p),ei(),postMessage({cmd:"loaded"});return}if(Ze(),wi>0)return;function b(){Cd||(Cd=!0,p.calledRun=!0,!Xe&&(ei(),Zi(),Z(p),p.onRuntimeInitialized&&p.onRuntimeInitialized(),tY&&U$(),ic()))}p.setStatus?(p.setStatus("Running..."),setTimeout(function(){setTimeout(function(){p.setStatus("")},1),b()},1)):b()}p.run=i0;function $M(m,b){if(!b&&Y)throw postMessage({cmd:"exitProcess",returnCode:m}),new ja(m);qe()||(At.terminateAllThreads(),p.onExit&&p.onExit(m),Xe=!0),F(m,new ja(m))}if(p.preInit)for(typeof p.preInit=="function"&&(p.preInit=[p.preInit]);p.preInit.length>0;)p.preInit.pop()();var tY=!0;return p.noInitialRun&&(tY=!1),Y&&(Ct=!1,At.initWorker()),i0(),n.ready}}();typeof t=="object"&&typeof i=="object"?i.exports=e:typeof define=="function"&&define.amd?define([],function(){return e}):typeof t=="object"&&(t.WebIFCWasm=e)}}),PU=Hp({"dist/web-ifc.js"(t,i){var e=function(){var s=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(s=s||__filename),function(n){n=n||{};var l=typeof n<"u"?n:{},r,a;l.ready=new Promise(function(y,G){r=y,a=G});var o={},c;for(c in l)l.hasOwnProperty(c)&&(o[c]=l[c]);var h="./this.program",d=function(y,G){throw G},u=typeof window=="object",p=typeof importScripts=="function",Z=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",X="";function R(y){return l.locateFile?l.locateFile(y,X):X+y}var W,S,F,M,N;Z?(p?X=ti("path").dirname(X)+"/":X=__dirname+"/",W=function(G,g){return M||(M=ti("fs")),N||(N=ti("path")),G=N.normalize(G),M.readFileSync(G,g?null:"utf8")},F=function(G){var g=W(G,!0);return g.buffer||(g=new Uint8Array(g)),j(g.buffer),g},S=function(G,g,C){M||(M=ti("fs")),N||(N=ti("path")),G=N.normalize(G),M.readFile(G,function(v,P){v?C(v):g(P.buffer)})},process.argv.length>1&&(h=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(y){if(!(y instanceof yc))throw y}),process.on("unhandledRejection",se),d=function(y,G){if(xt())throw process.exitCode=y,G;process.exit(y)},l.inspect=function(){return"[Emscripten Module object]"}):(u||p)&&(p?X=self.location.href:typeof document<"u"&&document.currentScript&&(X=document.currentScript.src),s&&(X=s),X.indexOf("blob:")!==0?X=X.substr(0,X.lastIndexOf("/")+1):X="",W=function(y){var G=new XMLHttpRequest;return G.open("GET",y,!1),G.send(null),G.responseText},p&&(F=function(y){var G=new XMLHttpRequest;return G.open("GET",y,!1),G.responseType="arraybuffer",G.send(null),new Uint8Array(G.response)}),S=function(y,G,g){var C=new XMLHttpRequest;C.open("GET",y,!0),C.responseType="arraybuffer",C.onload=function(){if(C.status==200||C.status==0&&C.response){G(C.response);return}g()},C.onerror=g,C.send(null)});var E=l.print||console.log.bind(console),Y=l.printErr||console.warn.bind(console);for(c in o)o.hasOwnProperty(c)&&(l[c]=o[c]);o=null,l.arguments,l.thisProgram&&(h=l.thisProgram),l.quit&&(d=l.quit);var O;l.wasmBinary&&(O=l.wasmBinary);var q=l.noExitRuntime||!0;typeof WebAssembly!="object"&&se("no native wasm support detected");var $,H=!1;function j(y,G){y||se("Assertion failed: "+G)}var mt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function st(y,G,g){G>>>=0;for(var C=G+g,v=G;y[v>>>0]&&!(v>=C);)++v;if(v-G>16&&y.subarray&&mt)return mt.decode(y.subarray(G>>>0,v>>>0));for(var P="";G<v;){var k=y[G++>>>0];if(!(k&128)){P+=String.fromCharCode(k);continue}var A=y[G++>>>0]&63;if((k&224)==192){P+=String.fromCharCode((k&31)<<6|A);continue}var tt=y[G++>>>0]&63;if((k&240)==224?k=(k&15)<<12|A<<6|tt:k=(k&7)<<18|A<<12|tt<<6|y[G++>>>0]&63,k<65536)P+=String.fromCharCode(k);else{var ut=k-65536;P+=String.fromCharCode(55296|ut>>10,56320|ut&1023)}}return P}function ot(y,G){return y>>>=0,y?st(ce,y,G):""}function rt(y,G,g,C){if(g>>>=0,!(C>0))return 0;for(var v=g,P=g+C-1,k=0;k<y.length;++k){var A=y.charCodeAt(k);if(A>=55296&&A<=57343){var tt=y.charCodeAt(++k);A=65536+((A&1023)<<10)|tt&1023}if(A<=127){if(g>=P)break;G[g++>>>0]=A}else if(A<=2047){if(g+1>=P)break;G[g++>>>0]=192|A>>6,G[g++>>>0]=128|A&63}else if(A<=65535){if(g+2>=P)break;G[g++>>>0]=224|A>>12,G[g++>>>0]=128|A>>6&63,G[g++>>>0]=128|A&63}else{if(g+3>=P)break;G[g++>>>0]=240|A>>18,G[g++>>>0]=128|A>>12&63,G[g++>>>0]=128|A>>6&63,G[g++>>>0]=128|A&63}}return G[g>>>0]=0,g-v}function lt(y,G,g){return rt(y,ce,G,g)}function nt(y){for(var G=0,g=0;g<y.length;++g){var C=y.charCodeAt(g);C>=55296&&C<=57343&&(C=65536+((C&1023)<<10)|y.charCodeAt(++g)&1023),C<=127?++G:C<=2047?G+=2:C<=65535?G+=3:G+=4}return G}var Gt=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;function gt(y,G){for(var g=y,C=g>>1,v=C+G/2;!(C>=v)&&Xt[C>>>0];)++C;if(g=C<<1,g-y>32&&Gt)return Gt.decode(ce.subarray(y>>>0,g>>>0));for(var P="",k=0;!(k>=G/2);++k){var A=bt[y+k*2>>>1];if(A==0)break;P+=String.fromCharCode(A)}return P}function Mt(y,G,g){if(g===void 0&&(g=2147483647),g<2)return 0;g-=2;for(var C=G,v=g<y.length*2?g/2:y.length,P=0;P<v;++P){var k=y.charCodeAt(P);bt[G>>>1]=k,G+=2}return bt[G>>>1]=0,G-C}function Ct(y){return y.length*2}function wt(y,G){for(var g=0,C="";!(g>=G/4);){var v=at[y+g*4>>>2];if(v==0)break;if(++g,v>=65536){var P=v-65536;C+=String.fromCharCode(55296|P>>10,56320|P&1023)}else C+=String.fromCharCode(v)}return C}function Me(y,G,g){if(G>>>=0,g===void 0&&(g=2147483647),g<4)return 0;for(var C=G,v=C+g-4,P=0;P<y.length;++P){var k=y.charCodeAt(P);if(k>=55296&&k<=57343){var A=y.charCodeAt(++P);k=65536+((k&1023)<<10)|A&1023}if(at[G>>>2]=k,G+=4,G+4>v)break}return at[G>>>2]=0,G-C}function Xe(y){for(var G=0,g=0;g<y.length;++g){var C=y.charCodeAt(g);C>=55296&&C<=57343&&++g,G+=4}return G}function Zt(y,G){Lt.set(y,G>>>0)}function Oe(y,G,g){for(var C=0;C<y.length;++C)Lt[G++>>>0]=y.charCodeAt(C);g||(Lt[G>>>0]=0)}function Se(y,G){return y%G>0&&(y+=G-y%G),y}var ye,Lt,ce,bt,Xt,at,jt,Ot,Le;function Ge(y){ye=y,l.HEAP8=Lt=new Int8Array(y),l.HEAP16=bt=new Int16Array(y),l.HEAP32=at=new Int32Array(y),l.HEAPU8=ce=new Uint8Array(y),l.HEAPU16=Xt=new Uint16Array(y),l.HEAPU32=jt=new Uint32Array(y),l.HEAPF32=Ot=new Float32Array(y),l.HEAPF64=Le=new Float64Array(y)}l.INITIAL_MEMORY;var ae,cs=[],_e=[],B=[],U=[],ht=0;function xt(){return q||ht>0}function Dt(){if(l.preRun)for(typeof l.preRun=="function"&&(l.preRun=[l.preRun]);l.preRun.length;)Ce(l.preRun.shift());Mn(cs)}function $t(){!l.noFSInit&&!f.init.initialized&&f.init(),f.ignorePermissions=!1,Mn(_e)}function pe(){Mn(B)}function yt(){if(l.postRun)for(typeof l.postRun=="function"&&(l.postRun=[l.postRun]);l.postRun.length;)ie(l.postRun.shift());Mn(U)}function Ce(y){cs.unshift(y)}function xe(y){_e.unshift(y)}function ie(y){U.unshift(y)}var _=0,kt=null;function zt(y){return y}function me(y){_++,l.monitorRunDependencies&&l.monitorRunDependencies(_)}function qt(y){if(_--,l.monitorRunDependencies&&l.monitorRunDependencies(_),_==0&&kt){var G=kt;kt=null,G()}}l.preloadedImages={},l.preloadedAudios={};function se(y){l.onAbort&&l.onAbort(y),y+="",Y(y),H=!0,y="abort("+y+"). Build with -s ASSERTIONS=1 for more info.";var G=new WebAssembly.RuntimeError(y);throw a(G),G}var Pt="data:application/octet-stream;base64,";function We(y){return y.startsWith(Pt)}function qe(y){return y.startsWith("file://")}var Ze;Ze="web-ifc.wasm",We(Ze)||(Ze=R(Ze));function ei(y){try{if(y==Ze&&O)return new Uint8Array(O);if(F)return F(y);throw"both async and sync fetching of the wasm failed"}catch(G){se(G)}}function Zi(){if(!O&&(u||p)){if(typeof fetch=="function"&&!qe(Ze))return fetch(Ze,{credentials:"same-origin"}).then(function(y){if(!y.ok)throw"failed to load wasm binary file at '"+Ze+"'";return y.arrayBuffer()}).catch(function(){return ei(Ze)});if(S)return new Promise(function(y,G){S(Ze,function(g){y(new Uint8Array(g))},G)})}return Promise.resolve().then(function(){return ei(Ze)})}function ic(){var y={a:Am};function G(k,A){var tt=k.exports;l.asm=tt,$=l.asm.$,Ge($.buffer),ae=l.asm.ha,xe(l.asm.aa),qt()}me();function g(k){G(k.instance)}function C(k){return Zi().then(function(A){var tt=WebAssembly.instantiate(A,y);return tt}).then(k,function(A){Y("failed to asynchronously prepare wasm: "+A),se(A)})}function v(){return!O&&typeof WebAssembly.instantiateStreaming=="function"&&!We(Ze)&&!qe(Ze)&&typeof fetch=="function"?fetch(Ze,{credentials:"same-origin"}).then(function(k){var A=WebAssembly.instantiateStreaming(k,y);return A.then(g,function(tt){return Y("wasm streaming compile failed: "+tt),Y("falling back to ArrayBuffer instantiation"),C(g)})}):C(g)}if(l.instantiateWasm)try{var P=l.instantiateWasm(y,G);return P}catch(k){return Y("Module.instantiateWasm callback failed with error: "+k),!1}return v().catch(a),{}}var Zs,fi;function Mn(y){for(;y.length>0;){var G=y.shift();if(typeof G=="function"){G(l);continue}var g=G.func;typeof g=="number"?G.arg===void 0?ae.get(g)():ae.get(g)(G.arg):g(G.arg===void 0?null:G.arg)}}function wi(y,G,g,C){se("Assertion failed: "+ot(y)+", at: "+[G?ot(G):"unknown filename",g,C?ot(C):"unknown function"])}function tl(y){return Ba(y+16)+16}function ed(y){this.excPtr=y,this.ptr=y-16,this.set_type=function(G){at[this.ptr+4>>>2]=G},this.get_type=function(){return at[this.ptr+4>>>2]},this.set_destructor=function(G){at[this.ptr+8>>>2]=G},this.get_destructor=function(){return at[this.ptr+8>>>2]},this.set_refcount=function(G){at[this.ptr>>>2]=G},this.set_caught=function(G){G=G?1:0,Lt[this.ptr+12>>>0]=G},this.get_caught=function(){return Lt[this.ptr+12>>>0]!=0},this.set_rethrown=function(G){G=G?1:0,Lt[this.ptr+13>>>0]=G},this.get_rethrown=function(){return Lt[this.ptr+13>>>0]!=0},this.init=function(G,g){this.set_type(G),this.set_destructor(g),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var G=at[this.ptr>>>2];at[this.ptr>>>2]=G+1},this.release_ref=function(){var G=at[this.ptr>>>2];return at[this.ptr>>>2]=G-1,G===1}}function Ml(y,G,g){var C=new ed(y);throw C.init(G,g),y}function D(y){return at[yd()>>>2]=y,y}var et={splitPath:function(y){var G=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return G.exec(y).slice(1)},normalizeArray:function(y,G){for(var g=0,C=y.length-1;C>=0;C--){var v=y[C];v==="."?y.splice(C,1):v===".."?(y.splice(C,1),g++):g&&(y.splice(C,1),g--)}if(G)for(;g;g--)y.unshift("..");return y},normalize:function(y){var G=y.charAt(0)==="/",g=y.substr(-1)==="/";return y=et.normalizeArray(y.split("/").filter(function(C){return!!C}),!G).join("/"),!y&&!G&&(y="."),y&&g&&(y+="/"),(G?"/":"")+y},dirname:function(y){var G=et.splitPath(y),g=G[0],C=G[1];return!g&&!C?".":(C&&(C=C.substr(0,C.length-1)),g+C)},basename:function(y){if(y==="/")return"/";y=et.normalize(y),y=y.replace(/\/$/,"");var G=y.lastIndexOf("/");return G===-1?y:y.substr(G+1)},extname:function(y){return et.splitPath(y)[3]},join:function(){var y=Array.prototype.slice.call(arguments,0);return et.normalize(y.join("/"))},join2:function(y,G){return et.normalize(y+"/"+G)}};function pt(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var y=new Uint8Array(1);return function(){return crypto.getRandomValues(y),y[0]}}else if(Z)try{var G=PZ();return function(){return G.randomBytes(1)[0]}}catch{}return function(){se("randomDevice")}}var ct={resolve:function(){for(var y="",G=!1,g=arguments.length-1;g>=-1&&!G;g--){var C=g>=0?arguments[g]:f.cwd();if(typeof C!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!C)return"";y=C+"/"+y,G=C.charAt(0)==="/"}return y=et.normalizeArray(y.split("/").filter(function(v){return!!v}),!G).join("/"),(G?"/":"")+y||"."},relative:function(y,G){y=ct.resolve(y).substr(1),G=ct.resolve(G).substr(1);function g(ut){for(var It=0;It<ut.length&&ut[It]==="";It++);for(var Et=ut.length-1;Et>=0&&ut[Et]==="";Et--);return It>Et?[]:ut.slice(It,Et-It+1)}for(var C=g(y.split("/")),v=g(G.split("/")),P=Math.min(C.length,v.length),k=P,A=0;A<P;A++)if(C[A]!==v[A]){k=A;break}for(var tt=[],A=k;A<C.length;A++)tt.push("..");return tt=tt.concat(v.slice(k)),tt.join("/")}},Tt={ttys:[],init:function(){},shutdown:function(){},register:function(y,G){Tt.ttys[y]={input:[],output:[],ops:G},f.registerDevice(y,Tt.stream_ops)},stream_ops:{open:function(y){var G=Tt.ttys[y.node.rdev];if(!G)throw new f.ErrnoError(43);y.tty=G,y.seekable=!1},close:function(y){y.tty.ops.flush(y.tty)},flush:function(y){y.tty.ops.flush(y.tty)},read:function(y,G,g,C,v){if(!y.tty||!y.tty.ops.get_char)throw new f.ErrnoError(60);for(var P=0,k=0;k<C;k++){var A;try{A=y.tty.ops.get_char(y.tty)}catch{throw new f.ErrnoError(29)}if(A===void 0&&P===0)throw new f.ErrnoError(6);if(A==null)break;P++,G[g+k]=A}return P&&(y.node.timestamp=Date.now()),P},write:function(y,G,g,C,v){if(!y.tty||!y.tty.ops.put_char)throw new f.ErrnoError(60);try{for(var P=0;P<C;P++)y.tty.ops.put_char(y.tty,G[g+P])}catch{throw new f.ErrnoError(29)}return C&&(y.node.timestamp=Date.now()),P}},default_tty_ops:{get_char:function(y){if(!y.input.length){var G=null;if(Z){var g=256,C=Buffer.alloc(g),v=0;try{v=M.readSync(process.stdin.fd,C,0,g,null)}catch(P){if(P.toString().includes("EOF"))v=0;else throw P}v>0?G=C.slice(0,v).toString("utf-8"):G=null}else typeof window<"u"&&typeof window.prompt=="function"?(G=window.prompt("Input: "),G!==null&&(G+=`
`)):typeof readline=="function"&&(G=readline(),G!==null&&(G+=`
`));if(!G)return null;y.input=Oa(G,!0)}return y.input.shift()},put_char:function(y,G){G===null||G===10?(E(st(y.output,0)),y.output=[]):G!=0&&y.output.push(G)},flush:function(y){y.output&&y.output.length>0&&(E(st(y.output,0)),y.output=[])}},default_tty1_ops:{put_char:function(y,G){G===null||G===10?(Y(st(y.output,0)),y.output=[]):G!=0&&y.output.push(G)},flush:function(y){y.output&&y.output.length>0&&(Y(st(y.output,0)),y.output=[])}}};function ne(y){se()}var vt={ops_table:null,mount:function(y){return vt.createNode(null,"/",16895,0)},createNode:function(y,G,g,C){if(f.isBlkdev(g)||f.isFIFO(g))throw new f.ErrnoError(63);vt.ops_table||(vt.ops_table={dir:{node:{getattr:vt.node_ops.getattr,setattr:vt.node_ops.setattr,lookup:vt.node_ops.lookup,mknod:vt.node_ops.mknod,rename:vt.node_ops.rename,unlink:vt.node_ops.unlink,rmdir:vt.node_ops.rmdir,readdir:vt.node_ops.readdir,symlink:vt.node_ops.symlink},stream:{llseek:vt.stream_ops.llseek}},file:{node:{getattr:vt.node_ops.getattr,setattr:vt.node_ops.setattr},stream:{llseek:vt.stream_ops.llseek,read:vt.stream_ops.read,write:vt.stream_ops.write,allocate:vt.stream_ops.allocate,mmap:vt.stream_ops.mmap,msync:vt.stream_ops.msync}},link:{node:{getattr:vt.node_ops.getattr,setattr:vt.node_ops.setattr,readlink:vt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:vt.node_ops.getattr,setattr:vt.node_ops.setattr},stream:f.chrdev_stream_ops}});var v=f.createNode(y,G,g,C);return f.isDir(v.mode)?(v.node_ops=vt.ops_table.dir.node,v.stream_ops=vt.ops_table.dir.stream,v.contents={}):f.isFile(v.mode)?(v.node_ops=vt.ops_table.file.node,v.stream_ops=vt.ops_table.file.stream,v.usedBytes=0,v.contents=null):f.isLink(v.mode)?(v.node_ops=vt.ops_table.link.node,v.stream_ops=vt.ops_table.link.stream):f.isChrdev(v.mode)&&(v.node_ops=vt.ops_table.chrdev.node,v.stream_ops=vt.ops_table.chrdev.stream),v.timestamp=Date.now(),y&&(y.contents[G]=v,y.timestamp=v.timestamp),v},getFileDataAsTypedArray:function(y){return y.contents?y.contents.subarray?y.contents.subarray(0,y.usedBytes):new Uint8Array(y.contents):new Uint8Array(0)},expandFileStorage:function(y,G){G>>>=0;var g=y.contents?y.contents.length:0;if(!(g>=G)){var C=1024*1024;G=Math.max(G,g*(g<C?2:1.125)>>>0),g!=0&&(G=Math.max(G,256));var v=y.contents;y.contents=new Uint8Array(G),y.usedBytes>0&&y.contents.set(v.subarray(0,y.usedBytes),0)}},resizeFileStorage:function(y,G){if(G>>>=0,y.usedBytes!=G)if(G==0)y.contents=null,y.usedBytes=0;else{var g=y.contents;y.contents=new Uint8Array(G),g&&y.contents.set(g.subarray(0,Math.min(G,y.usedBytes))),y.usedBytes=G}},node_ops:{getattr:function(y){var G={};return G.dev=f.isChrdev(y.mode)?y.id:1,G.ino=y.id,G.mode=y.mode,G.nlink=1,G.uid=0,G.gid=0,G.rdev=y.rdev,f.isDir(y.mode)?G.size=4096:f.isFile(y.mode)?G.size=y.usedBytes:f.isLink(y.mode)?G.size=y.link.length:G.size=0,G.atime=new Date(y.timestamp),G.mtime=new Date(y.timestamp),G.ctime=new Date(y.timestamp),G.blksize=4096,G.blocks=Math.ceil(G.size/G.blksize),G},setattr:function(y,G){G.mode!==void 0&&(y.mode=G.mode),G.timestamp!==void 0&&(y.timestamp=G.timestamp),G.size!==void 0&&vt.resizeFileStorage(y,G.size)},lookup:function(y,G){throw f.genericErrors[44]},mknod:function(y,G,g,C){return vt.createNode(y,G,g,C)},rename:function(y,G,g){if(f.isDir(y.mode)){var C;try{C=f.lookupNode(G,g)}catch{}if(C)for(var v in C.contents)throw new f.ErrnoError(55)}delete y.parent.contents[y.name],y.parent.timestamp=Date.now(),y.name=g,G.contents[g]=y,G.timestamp=y.parent.timestamp,y.parent=G},unlink:function(y,G){delete y.contents[G],y.timestamp=Date.now()},rmdir:function(y,G){var g=f.lookupNode(y,G);for(var C in g.contents)throw new f.ErrnoError(55);delete y.contents[G],y.timestamp=Date.now()},readdir:function(y){var G=[".",".."];for(var g in y.contents)!y.contents.hasOwnProperty(g)||G.push(g);return G},symlink:function(y,G,g){var C=vt.createNode(y,G,41471,0);return C.link=g,C},readlink:function(y){if(!f.isLink(y.mode))throw new f.ErrnoError(28);return y.link}},stream_ops:{read:function(y,G,g,C,v){var P=y.node.contents;if(v>=y.node.usedBytes)return 0;var k=Math.min(y.node.usedBytes-v,C);if(k>8&&P.subarray)G.set(P.subarray(v,v+k),g);else for(var A=0;A<k;A++)G[g+A]=P[v+A];return k},write:function(y,G,g,C,v,P){if(G.buffer===Lt.buffer&&(P=!1),!C)return 0;var k=y.node;if(k.timestamp=Date.now(),G.subarray&&(!k.contents||k.contents.subarray)){if(P)return k.contents=G.subarray(g,g+C),k.usedBytes=C,C;if(k.usedBytes===0&&v===0)return k.contents=G.slice(g,g+C),k.usedBytes=C,C;if(v+C<=k.usedBytes)return k.contents.set(G.subarray(g,g+C),v),C}if(vt.expandFileStorage(k,v+C),k.contents.subarray&&G.subarray)k.contents.set(G.subarray(g,g+C),v);else for(var A=0;A<C;A++)k.contents[v+A]=G[g+A];return k.usedBytes=Math.max(k.usedBytes,v+C),C},llseek:function(y,G,g){var C=G;if(g===1?C+=y.position:g===2&&f.isFile(y.node.mode)&&(C+=y.node.usedBytes),C<0)throw new f.ErrnoError(28);return C},allocate:function(y,G,g){vt.expandFileStorage(y.node,G+g),y.node.usedBytes=Math.max(y.node.usedBytes,G+g)},mmap:function(y,G,g,C,v,P){if(G!==0)throw new f.ErrnoError(28);if(!f.isFile(y.node.mode))throw new f.ErrnoError(43);var k,A,tt=y.node.contents;if(!(P&2)&&tt.buffer===ye)A=!1,k=tt.byteOffset;else{if((C>0||C+g<tt.length)&&(tt.subarray?tt=tt.subarray(C,C+g):tt=Array.prototype.slice.call(tt,C,C+g)),A=!0,k=ne(),!k)throw new f.ErrnoError(48);k>>>=0,Lt.set(tt,k>>>0)}return{ptr:k,allocated:A}},msync:function(y,G,g,C,v){if(!f.isFile(y.node.mode))throw new f.ErrnoError(43);return v&2||vt.stream_ops.write(y,G,0,C,g,!1),0}}};function Fe(y,G,g,C){var v=C?"":"al "+y;S(y,function(P){j(P,'Loading data file "'+y+'" failed (no arrayBuffer).'),G(new Uint8Array(P)),v&&qt()},function(P){if(g)g();else throw'Loading data file "'+y+'" failed.'}),v&&me()}var f={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(y,G){if(y=ct.resolve(f.cwd(),y),G=G||{},!y)return{path:"",node:null};var g={follow_mount:!0,recurse_count:0};for(var C in g)G[C]===void 0&&(G[C]=g[C]);if(G.recurse_count>8)throw new f.ErrnoError(32);for(var v=et.normalizeArray(y.split("/").filter(function(Ft){return!!Ft}),!1),P=f.root,k="/",A=0;A<v.length;A++){var tt=A===v.length-1;if(tt&&G.parent)break;if(P=f.lookupNode(P,v[A]),k=et.join2(k,v[A]),f.isMountpoint(P)&&(!tt||tt&&G.follow_mount)&&(P=P.mounted.root),!tt||G.follow)for(var ut=0;f.isLink(P.mode);){var It=f.readlink(k);k=ct.resolve(et.dirname(k),It);var Et=f.lookupPath(k,{recurse_count:G.recurse_count});if(P=Et.node,ut++>40)throw new f.ErrnoError(32)}}return{path:k,node:P}},getPath:function(y){for(var G;;){if(f.isRoot(y)){var g=y.mount.mountpoint;return G?g[g.length-1]!=="/"?g+"/"+G:g+G:g}G=G?y.name+"/"+G:y.name,y=y.parent}},hashName:function(y,G){for(var g=0,C=0;C<G.length;C++)g=(g<<5)-g+G.charCodeAt(C)|0;return(y+g>>>0)%f.nameTable.length},hashAddNode:function(y){var G=f.hashName(y.parent.id,y.name);y.name_next=f.nameTable[G],f.nameTable[G]=y},hashRemoveNode:function(y){var G=f.hashName(y.parent.id,y.name);if(f.nameTable[G]===y)f.nameTable[G]=y.name_next;else for(var g=f.nameTable[G];g;){if(g.name_next===y){g.name_next=y.name_next;break}g=g.name_next}},lookupNode:function(y,G){var g=f.mayLookup(y);if(g)throw new f.ErrnoError(g,y);for(var C=f.hashName(y.id,G),v=f.nameTable[C];v;v=v.name_next){var P=v.name;if(v.parent.id===y.id&&P===G)return v}return f.lookup(y,G)},createNode:function(y,G,g,C){var v=new f.FSNode(y,G,g,C);return f.hashAddNode(v),v},destroyNode:function(y){f.hashRemoveNode(y)},isRoot:function(y){return y===y.parent},isMountpoint:function(y){return!!y.mounted},isFile:function(y){return(y&61440)===32768},isDir:function(y){return(y&61440)===16384},isLink:function(y){return(y&61440)===40960},isChrdev:function(y){return(y&61440)===8192},isBlkdev:function(y){return(y&61440)===24576},isFIFO:function(y){return(y&61440)===4096},isSocket:function(y){return(y&49152)===49152},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(y){var G=f.flagModes[y];if(typeof G>"u")throw new Error("Unknown file open mode: "+y);return G},flagsToPermissionString:function(y){var G=["r","w","rw"][y&3];return y&512&&(G+="w"),G},nodePermissions:function(y,G){return f.ignorePermissions?0:G.includes("r")&&!(y.mode&292)||G.includes("w")&&!(y.mode&146)||G.includes("x")&&!(y.mode&73)?2:0},mayLookup:function(y){var G=f.nodePermissions(y,"x");return G||(y.node_ops.lookup?0:2)},mayCreate:function(y,G){try{var g=f.lookupNode(y,G);return 20}catch{}return f.nodePermissions(y,"wx")},mayDelete:function(y,G,g){var C;try{C=f.lookupNode(y,G)}catch(P){return P.errno}var v=f.nodePermissions(y,"wx");if(v)return v;if(g){if(!f.isDir(C.mode))return 54;if(f.isRoot(C)||f.getPath(C)===f.cwd())return 10}else if(f.isDir(C.mode))return 31;return 0},mayOpen:function(y,G){return y?f.isLink(y.mode)?32:f.isDir(y.mode)&&(f.flagsToPermissionString(G)!=="r"||G&512)?31:f.nodePermissions(y,f.flagsToPermissionString(G)):44},MAX_OPEN_FDS:4096,nextfd:function(y,G){y=y||0,G=G||f.MAX_OPEN_FDS;for(var g=y;g<=G;g++)if(!f.streams[g])return g;throw new f.ErrnoError(33)},getStream:function(y){return f.streams[y]},createStream:function(y,G,g){f.FSStream||(f.FSStream=function(){},f.FSStream.prototype={object:{get:function(){return this.node},set:function(k){this.node=k}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}}});var C=new f.FSStream;for(var v in y)C[v]=y[v];y=C;var P=f.nextfd(G,g);return y.fd=P,f.streams[P]=y,y},closeStream:function(y){f.streams[y]=null},chrdev_stream_ops:{open:function(y){var G=f.getDevice(y.node.rdev);y.stream_ops=G.stream_ops,y.stream_ops.open&&y.stream_ops.open(y)},llseek:function(){throw new f.ErrnoError(70)}},major:function(y){return y>>8},minor:function(y){return y&255},makedev:function(y,G){return y<<8|G},registerDevice:function(y,G){f.devices[y]={stream_ops:G}},getDevice:function(y){return f.devices[y]},getMounts:function(y){for(var G=[],g=[y];g.length;){var C=g.pop();G.push(C),g.push.apply(g,C.mounts)}return G},syncfs:function(y,G){typeof y=="function"&&(G=y,y=!1),f.syncFSRequests++,f.syncFSRequests>1&&Y("warning: "+f.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var g=f.getMounts(f.root.mount),C=0;function v(k){return f.syncFSRequests--,G(k)}function P(k){if(k)return P.errored?void 0:(P.errored=!0,v(k));++C>=g.length&&v(null)}g.forEach(function(k){if(!k.type.syncfs)return P(null);k.type.syncfs(k,y,P)})},mount:function(y,G,g){var C=g==="/",v=!g,P;if(C&&f.root)throw new f.ErrnoError(10);if(!C&&!v){var k=f.lookupPath(g,{follow_mount:!1});if(g=k.path,P=k.node,f.isMountpoint(P))throw new f.ErrnoError(10);if(!f.isDir(P.mode))throw new f.ErrnoError(54)}var A={type:y,opts:G,mountpoint:g,mounts:[]},tt=y.mount(A);return tt.mount=A,A.root=tt,C?f.root=tt:P&&(P.mounted=A,P.mount&&P.mount.mounts.push(A)),tt},unmount:function(y){var G=f.lookupPath(y,{follow_mount:!1});if(!f.isMountpoint(G.node))throw new f.ErrnoError(28);var g=G.node,C=g.mounted,v=f.getMounts(C);Object.keys(f.nameTable).forEach(function(k){for(var A=f.nameTable[k];A;){var tt=A.name_next;v.includes(A.mount)&&f.destroyNode(A),A=tt}}),g.mounted=null;var P=g.mount.mounts.indexOf(C);g.mount.mounts.splice(P,1)},lookup:function(y,G){return y.node_ops.lookup(y,G)},mknod:function(y,G,g){var C=f.lookupPath(y,{parent:!0}),v=C.node,P=et.basename(y);if(!P||P==="."||P==="..")throw new f.ErrnoError(28);var k=f.mayCreate(v,P);if(k)throw new f.ErrnoError(k);if(!v.node_ops.mknod)throw new f.ErrnoError(63);return v.node_ops.mknod(v,P,G,g)},create:function(y,G){return G=G!==void 0?G:438,G&=4095,G|=32768,f.mknod(y,G,0)},mkdir:function(y,G){return G=G!==void 0?G:511,G&=1023,G|=16384,f.mknod(y,G,0)},mkdirTree:function(y,G){for(var g=y.split("/"),C="",v=0;v<g.length;++v)if(!!g[v]){C+="/"+g[v];try{f.mkdir(C,G)}catch(P){if(P.errno!=20)throw P}}},mkdev:function(y,G,g){return typeof g>"u"&&(g=G,G=438),G|=8192,f.mknod(y,G,g)},symlink:function(y,G){if(!ct.resolve(y))throw new f.ErrnoError(44);var g=f.lookupPath(G,{parent:!0}),C=g.node;if(!C)throw new f.ErrnoError(44);var v=et.basename(G),P=f.mayCreate(C,v);if(P)throw new f.ErrnoError(P);if(!C.node_ops.symlink)throw new f.ErrnoError(63);return C.node_ops.symlink(C,v,y)},rename:function(y,G){var g=et.dirname(y),C=et.dirname(G),v=et.basename(y),P=et.basename(G),k,A,tt;if(k=f.lookupPath(y,{parent:!0}),A=k.node,k=f.lookupPath(G,{parent:!0}),tt=k.node,!A||!tt)throw new f.ErrnoError(44);if(A.mount!==tt.mount)throw new f.ErrnoError(75);var ut=f.lookupNode(A,v),It=ct.relative(y,C);if(It.charAt(0)!==".")throw new f.ErrnoError(28);if(It=ct.relative(G,g),It.charAt(0)!==".")throw new f.ErrnoError(55);var Et;try{Et=f.lookupNode(tt,P)}catch{}if(ut!==Et){var Ft=f.isDir(ut.mode),Ht=f.mayDelete(A,v,Ft);if(Ht)throw new f.ErrnoError(Ht);if(Ht=Et?f.mayDelete(tt,P,Ft):f.mayCreate(tt,P),Ht)throw new f.ErrnoError(Ht);if(!A.node_ops.rename)throw new f.ErrnoError(63);if(f.isMountpoint(ut)||Et&&f.isMountpoint(Et))throw new f.ErrnoError(10);if(tt!==A&&(Ht=f.nodePermissions(A,"w"),Ht))throw new f.ErrnoError(Ht);try{f.trackingDelegate.willMovePath&&f.trackingDelegate.willMovePath(y,G)}catch(le){Y("FS.trackingDelegate['willMovePath']('"+y+"', '"+G+"') threw an exception: "+le.message)}f.hashRemoveNode(ut);try{A.node_ops.rename(ut,tt,P)}catch(le){throw le}finally{f.hashAddNode(ut)}try{f.trackingDelegate.onMovePath&&f.trackingDelegate.onMovePath(y,G)}catch(le){Y("FS.trackingDelegate['onMovePath']('"+y+"', '"+G+"') threw an exception: "+le.message)}}},rmdir:function(y){var G=f.lookupPath(y,{parent:!0}),g=G.node,C=et.basename(y),v=f.lookupNode(g,C),P=f.mayDelete(g,C,!0);if(P)throw new f.ErrnoError(P);if(!g.node_ops.rmdir)throw new f.ErrnoError(63);if(f.isMountpoint(v))throw new f.ErrnoError(10);try{f.trackingDelegate.willDeletePath&&f.trackingDelegate.willDeletePath(y)}catch(k){Y("FS.trackingDelegate['willDeletePath']('"+y+"') threw an exception: "+k.message)}g.node_ops.rmdir(g,C),f.destroyNode(v);try{f.trackingDelegate.onDeletePath&&f.trackingDelegate.onDeletePath(y)}catch(k){Y("FS.trackingDelegate['onDeletePath']('"+y+"') threw an exception: "+k.message)}},readdir:function(y){var G=f.lookupPath(y,{follow:!0}),g=G.node;if(!g.node_ops.readdir)throw new f.ErrnoError(54);return g.node_ops.readdir(g)},unlink:function(y){var G=f.lookupPath(y,{parent:!0}),g=G.node,C=et.basename(y),v=f.lookupNode(g,C),P=f.mayDelete(g,C,!1);if(P)throw new f.ErrnoError(P);if(!g.node_ops.unlink)throw new f.ErrnoError(63);if(f.isMountpoint(v))throw new f.ErrnoError(10);try{f.trackingDelegate.willDeletePath&&f.trackingDelegate.willDeletePath(y)}catch(k){Y("FS.trackingDelegate['willDeletePath']('"+y+"') threw an exception: "+k.message)}g.node_ops.unlink(g,C),f.destroyNode(v);try{f.trackingDelegate.onDeletePath&&f.trackingDelegate.onDeletePath(y)}catch(k){Y("FS.trackingDelegate['onDeletePath']('"+y+"') threw an exception: "+k.message)}},readlink:function(y){var G=f.lookupPath(y),g=G.node;if(!g)throw new f.ErrnoError(44);if(!g.node_ops.readlink)throw new f.ErrnoError(28);return ct.resolve(f.getPath(g.parent),g.node_ops.readlink(g))},stat:function(y,G){var g=f.lookupPath(y,{follow:!G}),C=g.node;if(!C)throw new f.ErrnoError(44);if(!C.node_ops.getattr)throw new f.ErrnoError(63);return C.node_ops.getattr(C)},lstat:function(y){return f.stat(y,!0)},chmod:function(y,G,g){var C;if(typeof y=="string"){var v=f.lookupPath(y,{follow:!g});C=v.node}else C=y;if(!C.node_ops.setattr)throw new f.ErrnoError(63);C.node_ops.setattr(C,{mode:G&4095|C.mode&-4096,timestamp:Date.now()})},lchmod:function(y,G){f.chmod(y,G,!0)},fchmod:function(y,G){var g=f.getStream(y);if(!g)throw new f.ErrnoError(8);f.chmod(g.node,G)},chown:function(y,G,g,C){var v;if(typeof y=="string"){var P=f.lookupPath(y,{follow:!C});v=P.node}else v=y;if(!v.node_ops.setattr)throw new f.ErrnoError(63);v.node_ops.setattr(v,{timestamp:Date.now()})},lchown:function(y,G,g){f.chown(y,G,g,!0)},fchown:function(y,G,g){var C=f.getStream(y);if(!C)throw new f.ErrnoError(8);f.chown(C.node,G,g)},truncate:function(y,G){if(G<0)throw new f.ErrnoError(28);var g;if(typeof y=="string"){var C=f.lookupPath(y,{follow:!0});g=C.node}else g=y;if(!g.node_ops.setattr)throw new f.ErrnoError(63);if(f.isDir(g.mode))throw new f.ErrnoError(31);if(!f.isFile(g.mode))throw new f.ErrnoError(28);var v=f.nodePermissions(g,"w");if(v)throw new f.ErrnoError(v);g.node_ops.setattr(g,{size:G,timestamp:Date.now()})},ftruncate:function(y,G){var g=f.getStream(y);if(!g)throw new f.ErrnoError(8);if((g.flags&2097155)===0)throw new f.ErrnoError(28);f.truncate(g.node,G)},utime:function(y,G,g){var C=f.lookupPath(y,{follow:!0}),v=C.node;v.node_ops.setattr(v,{timestamp:Math.max(G,g)})},open:function(y,G,g,C,v){if(y==="")throw new f.ErrnoError(44);G=typeof G=="string"?f.modeStringToFlags(G):G,g=typeof g>"u"?438:g,G&64?g=g&4095|32768:g=0;var P;if(typeof y=="object")P=y;else{y=et.normalize(y);try{var k=f.lookupPath(y,{follow:!(G&131072)});P=k.node}catch{}}var A=!1;if(G&64)if(P){if(G&128)throw new f.ErrnoError(20)}else P=f.mknod(y,g,0),A=!0;if(!P)throw new f.ErrnoError(44);if(f.isChrdev(P.mode)&&(G&=-513),G&65536&&!f.isDir(P.mode))throw new f.ErrnoError(54);if(!A){var tt=f.mayOpen(P,G);if(tt)throw new f.ErrnoError(tt)}G&512&&f.truncate(P,0),G&=-131713;var ut=f.createStream({node:P,path:f.getPath(P),flags:G,seekable:!0,position:0,stream_ops:P.stream_ops,ungotten:[],error:!1},C,v);ut.stream_ops.open&&ut.stream_ops.open(ut),l.logReadFiles&&!(G&1)&&(f.readFiles||(f.readFiles={}),y in f.readFiles||(f.readFiles[y]=1,Y("FS.trackingDelegate error on read file: "+y)));try{if(f.trackingDelegate.onOpenFile){var It=0;(G&2097155)!==1&&(It|=f.tracking.openFlags.READ),(G&2097155)!==0&&(It|=f.tracking.openFlags.WRITE),f.trackingDelegate.onOpenFile(y,It)}}catch(Et){Y("FS.trackingDelegate['onOpenFile']('"+y+"', flags) threw an exception: "+Et.message)}return ut},close:function(y){if(f.isClosed(y))throw new f.ErrnoError(8);y.getdents&&(y.getdents=null);try{y.stream_ops.close&&y.stream_ops.close(y)}catch(G){throw G}finally{f.closeStream(y.fd)}y.fd=null},isClosed:function(y){return y.fd===null},llseek:function(y,G,g){if(f.isClosed(y))throw new f.ErrnoError(8);if(!y.seekable||!y.stream_ops.llseek)throw new f.ErrnoError(70);if(g!=0&&g!=1&&g!=2)throw new f.ErrnoError(28);return y.position=y.stream_ops.llseek(y,G,g),y.ungotten=[],y.position},read:function(y,G,g,C,v){if(g>>>=0,C<0||v<0)throw new f.ErrnoError(28);if(f.isClosed(y))throw new f.ErrnoError(8);if((y.flags&2097155)===1)throw new f.ErrnoError(8);if(f.isDir(y.node.mode))throw new f.ErrnoError(31);if(!y.stream_ops.read)throw new f.ErrnoError(28);var P=typeof v<"u";if(!P)v=y.position;else if(!y.seekable)throw new f.ErrnoError(70);var k=y.stream_ops.read(y,G,g,C,v);return P||(y.position+=k),k},write:function(y,G,g,C,v,P){if(g>>>=0,C<0||v<0)throw new f.ErrnoError(28);if(f.isClosed(y))throw new f.ErrnoError(8);if((y.flags&2097155)===0)throw new f.ErrnoError(8);if(f.isDir(y.node.mode))throw new f.ErrnoError(31);if(!y.stream_ops.write)throw new f.ErrnoError(28);y.seekable&&y.flags&1024&&f.llseek(y,0,2);var k=typeof v<"u";if(!k)v=y.position;else if(!y.seekable)throw new f.ErrnoError(70);var A=y.stream_ops.write(y,G,g,C,v,P);k||(y.position+=A);try{y.path&&f.trackingDelegate.onWriteToFile&&f.trackingDelegate.onWriteToFile(y.path)}catch(tt){Y("FS.trackingDelegate['onWriteToFile']('"+y.path+"') threw an exception: "+tt.message)}return A},allocate:function(y,G,g){if(f.isClosed(y))throw new f.ErrnoError(8);if(G<0||g<=0)throw new f.ErrnoError(28);if((y.flags&2097155)===0)throw new f.ErrnoError(8);if(!f.isFile(y.node.mode)&&!f.isDir(y.node.mode))throw new f.ErrnoError(43);if(!y.stream_ops.allocate)throw new f.ErrnoError(138);y.stream_ops.allocate(y,G,g)},mmap:function(y,G,g,C,v,P){if(G>>>=0,(v&2)!==0&&(P&2)===0&&(y.flags&2097155)!==2)throw new f.ErrnoError(2);if((y.flags&2097155)===1)throw new f.ErrnoError(2);if(!y.stream_ops.mmap)throw new f.ErrnoError(43);return y.stream_ops.mmap(y,G,g,C,v,P)},msync:function(y,G,g,C,v){return g>>>=0,!y||!y.stream_ops.msync?0:y.stream_ops.msync(y,G,g,C,v)},munmap:function(y){return 0},ioctl:function(y,G,g){if(!y.stream_ops.ioctl)throw new f.ErrnoError(59);return y.stream_ops.ioctl(y,G,g)},readFile:function(y,G){if(G=G||{},G.flags=G.flags||0,G.encoding=G.encoding||"binary",G.encoding!=="utf8"&&G.encoding!=="binary")throw new Error('Invalid encoding type "'+G.encoding+'"');var g,C=f.open(y,G.flags),v=f.stat(y),P=v.size,k=new Uint8Array(P);return f.read(C,k,0,P,0),G.encoding==="utf8"?g=st(k,0):G.encoding==="binary"&&(g=k),f.close(C),g},writeFile:function(y,G,g){g=g||{},g.flags=g.flags||577;var C=f.open(y,g.flags,g.mode);if(typeof G=="string"){var v=new Uint8Array(nt(G)+1),P=rt(G,v,0,v.length);f.write(C,v,0,P,void 0,g.canOwn)}else if(ArrayBuffer.isView(G))f.write(C,G,0,G.byteLength,void 0,g.canOwn);else throw new Error("Unsupported data type");f.close(C)},cwd:function(){return f.currentPath},chdir:function(y){var G=f.lookupPath(y,{follow:!0});if(G.node===null)throw new f.ErrnoError(44);if(!f.isDir(G.node.mode))throw new f.ErrnoError(54);var g=f.nodePermissions(G.node,"x");if(g)throw new f.ErrnoError(g);f.currentPath=G.path},createDefaultDirectories:function(){f.mkdir("/tmp"),f.mkdir("/home"),f.mkdir("/home/web_user")},createDefaultDevices:function(){f.mkdir("/dev"),f.registerDevice(f.makedev(1,3),{read:function(){return 0},write:function(G,g,C,v,P){return v}}),f.mkdev("/dev/null",f.makedev(1,3)),Tt.register(f.makedev(5,0),Tt.default_tty_ops),Tt.register(f.makedev(6,0),Tt.default_tty1_ops),f.mkdev("/dev/tty",f.makedev(5,0)),f.mkdev("/dev/tty1",f.makedev(6,0));var y=pt();f.createDevice("/dev","random",y),f.createDevice("/dev","urandom",y),f.mkdir("/dev/shm"),f.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){f.mkdir("/proc");var y=f.mkdir("/proc/self");f.mkdir("/proc/self/fd"),f.mount({mount:function(){var G=f.createNode(y,"fd",16895,73);return G.node_ops={lookup:function(g,C){var v=+C,P=f.getStream(v);if(!P)throw new f.ErrnoError(8);var k={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return P.path}}};return k.parent=k,k}},G}},{},"/proc/self/fd")},createStandardStreams:function(){l.stdin?f.createDevice("/dev","stdin",l.stdin):f.symlink("/dev/tty","/dev/stdin"),l.stdout?f.createDevice("/dev","stdout",null,l.stdout):f.symlink("/dev/tty","/dev/stdout"),l.stderr?f.createDevice("/dev","stderr",null,l.stderr):f.symlink("/dev/tty1","/dev/stderr"),f.open("/dev/stdin",0),f.open("/dev/stdout",1),f.open("/dev/stderr",1)},ensureErrnoError:function(){f.ErrnoError||(f.ErrnoError=function(G,g){this.node=g,this.setErrno=function(C){this.errno=C},this.setErrno(G),this.message="FS error"},f.ErrnoError.prototype=new Error,f.ErrnoError.prototype.constructor=f.ErrnoError,[44].forEach(function(y){f.genericErrors[y]=new f.ErrnoError(y),f.genericErrors[y].stack="<generic error, no stack>"}))},staticInit:function(){f.ensureErrnoError(),f.nameTable=new Array(4096),f.mount(vt,{},"/"),f.createDefaultDirectories(),f.createDefaultDevices(),f.createSpecialDirectories(),f.filesystems={MEMFS:vt}},init:function(y,G,g){f.init.initialized=!0,f.ensureErrnoError(),l.stdin=y||l.stdin,l.stdout=G||l.stdout,l.stderr=g||l.stderr,f.createStandardStreams()},quit:function(){f.init.initialized=!1;var y=l._fflush;y&&y(0);for(var G=0;G<f.streams.length;G++){var g=f.streams[G];!g||f.close(g)}},getMode:function(y,G){var g=0;return y&&(g|=365),G&&(g|=146),g},findObject:function(y,G){var g=f.analyzePath(y,G);return g.exists?g.object:null},analyzePath:function(y,G){try{var g=f.lookupPath(y,{follow:!G});y=g.path}catch{}var C={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var g=f.lookupPath(y,{parent:!0});C.parentExists=!0,C.parentPath=g.path,C.parentObject=g.node,C.name=et.basename(y),g=f.lookupPath(y,{follow:!G}),C.exists=!0,C.path=g.path,C.object=g.node,C.name=g.node.name,C.isRoot=g.path==="/"}catch(v){C.error=v.errno}return C},createPath:function(y,G,g,C){y=typeof y=="string"?y:f.getPath(y);for(var v=G.split("/").reverse();v.length;){var P=v.pop();if(!!P){var k=et.join2(y,P);try{f.mkdir(k)}catch{}y=k}}return k},createFile:function(y,G,g,C,v){var P=et.join2(typeof y=="string"?y:f.getPath(y),G),k=f.getMode(C,v);return f.create(P,k)},createDataFile:function(y,G,g,C,v,P){var k=G?et.join2(typeof y=="string"?y:f.getPath(y),G):y,A=f.getMode(C,v),tt=f.create(k,A);if(g){if(typeof g=="string"){for(var ut=new Array(g.length),It=0,Et=g.length;It<Et;++It)ut[It]=g.charCodeAt(It);g=ut}f.chmod(tt,A|146);var Ft=f.open(tt,577);f.write(Ft,g,0,g.length,0,P),f.close(Ft),f.chmod(tt,A)}return tt},createDevice:function(y,G,g,C){var v=et.join2(typeof y=="string"?y:f.getPath(y),G),P=f.getMode(!!g,!!C);f.createDevice.major||(f.createDevice.major=64);var k=f.makedev(f.createDevice.major++,0);return f.registerDevice(k,{open:function(A){A.seekable=!1},close:function(A){C&&C.buffer&&C.buffer.length&&C(10)},read:function(A,tt,ut,It,Et){for(var Ft=0,Ht=0;Ht<It;Ht++){var le;try{le=g()}catch{throw new f.ErrnoError(29)}if(le===void 0&&Ft===0)throw new f.ErrnoError(6);if(le==null)break;Ft++,tt[ut+Ht]=le}return Ft&&(A.node.timestamp=Date.now()),Ft},write:function(A,tt,ut,It,Et){for(var Ft=0;Ft<It;Ft++)try{C(tt[ut+Ft])}catch{throw new f.ErrnoError(29)}return It&&(A.node.timestamp=Date.now()),Ft}}),f.mkdev(v,P,k)},forceLoadFile:function(y){if(y.isDevice||y.isFolder||y.link||y.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(W)try{y.contents=Oa(W(y.url),!0),y.usedBytes=y.contents.length}catch{throw new f.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:function(y,G,g,C,v){function P(){this.lengthKnown=!1,this.chunks=[]}if(P.prototype.get=function(Ft){if(!(Ft>this.length-1||Ft<0)){var Ht=Ft%this.chunkSize,le=Ft/this.chunkSize|0;return this.getter(le)[Ht]}},P.prototype.setDataGetter=function(Ft){this.getter=Ft},P.prototype.cacheLength=function(){var Ft=new XMLHttpRequest;if(Ft.open("HEAD",g,!1),Ft.send(null),!(Ft.status>=200&&Ft.status<300||Ft.status===304))throw new Error("Couldn't load "+g+". Status: "+Ft.status);var Ht=Number(Ft.getResponseHeader("Content-length")),le,Ke=(le=Ft.getResponseHeader("Accept-Ranges"))&&le==="bytes",hs=(le=Ft.getResponseHeader("Content-Encoding"))&&le==="gzip",$e=1024*1024;Ke||($e=Ht);var St=function(Ae,ve){if(Ae>ve)throw new Error("invalid range ("+Ae+", "+ve+") or no bytes requested!");if(ve>Ht-1)throw new Error("only "+Ht+" bytes available! programmer error!");var de=new XMLHttpRequest;if(de.open("GET",g,!1),Ht!==$e&&de.setRequestHeader("Range","bytes="+Ae+"-"+ve),typeof Uint8Array<"u"&&(de.responseType="arraybuffer"),de.overrideMimeType&&de.overrideMimeType("text/plain; charset=x-user-defined"),de.send(null),!(de.status>=200&&de.status<300||de.status===304))throw new Error("Couldn't load "+g+". Status: "+de.status);return de.response!==void 0?new Uint8Array(de.response||[]):Oa(de.responseText||"",!0)},Bt=this;Bt.setDataGetter(function(Ae){var ve=Ae*$e,de=(Ae+1)*$e-1;if(de=Math.min(de,Ht-1),typeof Bt.chunks[Ae]>"u"&&(Bt.chunks[Ae]=St(ve,de)),typeof Bt.chunks[Ae]>"u")throw new Error("doXHR failed!");return Bt.chunks[Ae]}),(hs||!Ht)&&($e=Ht=1,Ht=this.getter(0).length,$e=Ht,E("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Ht,this._chunkSize=$e,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!p)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var k=new P;Object.defineProperties(k,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var A={isDevice:!1,contents:k}}else var A={isDevice:!1,url:g};var tt=f.createFile(y,G,A,C,v);A.contents?tt.contents=A.contents:A.url&&(tt.contents=null,tt.url=A.url),Object.defineProperties(tt,{usedBytes:{get:function(){return this.contents.length}}});var ut={},It=Object.keys(tt.stream_ops);return It.forEach(function(Et){var Ft=tt.stream_ops[Et];ut[Et]=function(){return f.forceLoadFile(tt),Ft.apply(null,arguments)}}),ut.read=function(Ft,Ht,le,Ke,hs){f.forceLoadFile(tt);var $e=Ft.node.contents;if(hs>=$e.length)return 0;var St=Math.min($e.length-hs,Ke);if($e.slice)for(var Bt=0;Bt<St;Bt++)Ht[le+Bt]=$e[hs+Bt];else for(var Bt=0;Bt<St;Bt++)Ht[le+Bt]=$e.get(hs+Bt);return St},tt.stream_ops=ut,tt},createPreloadedFile:function(y,G,g,C,v,P,k,A,tt,ut){Browser.init();var It=G?ct.resolve(et.join2(y,G)):y;function Et(Ft){function Ht(Ke){ut&&ut(),A||f.createDataFile(y,G,Ke,C,v,tt),P&&P(),qt()}var le=!1;l.preloadPlugins.forEach(function(Ke){le||Ke.canHandle(It)&&(Ke.handle(Ft,It,Ht,function(){k&&k(),qt()}),le=!0)}),le||Ht(Ft)}me(),typeof g=="string"?Fe(g,function(Ft){Et(Ft)},k):Et(g)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(y,G,g){G=G||function(){},g=g||function(){};var C=f.indexedDB();try{var v=C.open(f.DB_NAME(),f.DB_VERSION)}catch(P){return g(P)}v.onupgradeneeded=function(){E("creating db");var k=v.result;k.createObjectStore(f.DB_STORE_NAME)},v.onsuccess=function(){var k=v.result,A=k.transaction([f.DB_STORE_NAME],"readwrite"),tt=A.objectStore(f.DB_STORE_NAME),ut=0,It=0,Et=y.length;function Ft(){It==0?G():g()}y.forEach(function(Ht){var le=tt.put(f.analyzePath(Ht).object.contents,Ht);le.onsuccess=function(){ut++,ut+It==Et&&Ft()},le.onerror=function(){It++,ut+It==Et&&Ft()}}),A.onerror=g},v.onerror=g},loadFilesFromDB:function(y,G,g){G=G||function(){},g=g||function(){};var C=f.indexedDB();try{var v=C.open(f.DB_NAME(),f.DB_VERSION)}catch(P){return g(P)}v.onupgradeneeded=g,v.onsuccess=function(){var k=v.result;try{var A=k.transaction([f.DB_STORE_NAME],"readonly")}catch(Ht){g(Ht);return}var tt=A.objectStore(f.DB_STORE_NAME),ut=0,It=0,Et=y.length;function Ft(){It==0?G():g()}y.forEach(function(Ht){var le=tt.get(Ht);le.onsuccess=function(){f.analyzePath(Ht).exists&&f.unlink(Ht),f.createDataFile(et.dirname(Ht),et.basename(Ht),le.result,!0,!0,!0),ut++,ut+It==Et&&Ft()},le.onerror=function(){It++,ut+It==Et&&Ft()}}),A.onerror=g},v.onerror=g}},te={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(y,G,g){if(G[0]==="/")return G;var C;if(y===-100)C=f.cwd();else{var v=f.getStream(y);if(!v)throw new f.ErrnoError(8);C=v.path}if(G.length==0){if(!g)throw new f.ErrnoError(44);return C}return et.join2(C,G)},doStat:function(y,G,g){try{var C=y(G)}catch(v){if(v&&v.node&&et.normalize(G)!==et.normalize(f.getPath(v.node)))return-54;throw v}return at[g>>>2]=C.dev,at[g+4>>>2]=0,at[g+8>>>2]=C.ino,at[g+12>>>2]=C.mode,at[g+16>>>2]=C.nlink,at[g+20>>>2]=C.uid,at[g+24>>>2]=C.gid,at[g+28>>>2]=C.rdev,at[g+32>>>2]=0,fi=[C.size>>>0,(Zs=C.size,+Math.abs(Zs)>=1?Zs>0?(Math.min(+Math.floor(Zs/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Zs-+(~~Zs>>>0))/4294967296)>>>0:0)],at[g+40>>>2]=fi[0],at[g+44>>>2]=fi[1],at[g+48>>>2]=4096,at[g+52>>>2]=C.blocks,at[g+56>>>2]=C.atime.getTime()/1e3|0,at[g+60>>>2]=0,at[g+64>>>2]=C.mtime.getTime()/1e3|0,at[g+68>>>2]=0,at[g+72>>>2]=C.ctime.getTime()/1e3|0,at[g+76>>>2]=0,fi=[C.ino>>>0,(Zs=C.ino,+Math.abs(Zs)>=1?Zs>0?(Math.min(+Math.floor(Zs/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Zs-+(~~Zs>>>0))/4294967296)>>>0:0)],at[g+80>>>2]=fi[0],at[g+84>>>2]=fi[1],0},doMsync:function(y,G,g,C,v){var P=ce.slice(y,y+g);f.msync(G,P,v,g,C)},doMkdir:function(y,G){return y=et.normalize(y),y[y.length-1]==="/"&&(y=y.substr(0,y.length-1)),f.mkdir(y,G,0),0},doMknod:function(y,G,g){switch(G&61440){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return f.mknod(y,G,g),0},doReadlink:function(y,G,g){if(g<=0)return-28;var C=f.readlink(y),v=Math.min(g,nt(C)),P=Lt[G+v>>>0];return lt(C,G,g+1),Lt[G+v>>>0]=P,v},doAccess:function(y,G){if(G&-8)return-28;var g,C=f.lookupPath(y,{follow:!0});if(g=C.node,!g)return-44;var v="";return G&4&&(v+="r"),G&2&&(v+="w"),G&1&&(v+="x"),v&&f.nodePermissions(g,v)?-2:0},doDup:function(y,G,g){var C=f.getStream(g);return C&&f.close(C),f.open(y,G,0,g,g).fd},doReadv:function(y,G,g,C){for(var v=0,P=0;P<g;P++){var k=at[G+P*8>>>2],A=at[G+(P*8+4)>>>2],tt=f.read(y,Lt,k,A,C);if(tt<0)return-1;if(v+=tt,tt<A)break}return v},doWritev:function(y,G,g,C){for(var v=0,P=0;P<g;P++){var k=at[G+P*8>>>2],A=at[G+(P*8+4)>>>2],tt=f.write(y,Lt,k,A,C);if(tt<0)return-1;v+=tt}return v},varargs:void 0,get:function(){te.varargs+=4;var y=at[te.varargs-4>>>2];return y},getStr:function(y){var G=ot(y);return G},getStreamFromFD:function(y){var G=f.getStream(y);if(!G)throw new f.ErrnoError(8);return G},get64:function(y,G){return y}};function fe(y,G,g){te.varargs=g;try{var C=te.getStreamFromFD(y);switch(G){case 0:{var v=te.get();if(v<0)return-28;var P;return P=f.open(C.path,C.flags,0,v),P.fd}case 1:case 2:return 0;case 3:return C.flags;case 4:{var v=te.get();return C.flags|=v,0}case 12:{var v=te.get(),k=0;return bt[v+k>>>1]=2,0}case 13:case 14:return 0;case 16:case 8:return-28;case 9:return D(28),-1;default:return-28}}catch(A){return(typeof f>"u"||!(A instanceof f.ErrnoError))&&se(A),-A.errno}}function He(y,G,g){te.varargs=g;try{var C=te.getStreamFromFD(y);switch(G){case 21509:case 21505:return C.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return C.tty?0:-59;case 21519:{if(!C.tty)return-59;var v=te.get();return at[v>>>2]=0,0}case 21520:return C.tty?-28:-59;case 21531:{var v=te.get();return f.ioctl(C,G,v)}case 21523:return C.tty?0:-59;case 21524:return C.tty?0:-59;default:se("bad ioctl syscall "+G)}}catch(P){return(typeof f>"u"||!(P instanceof f.ErrnoError))&&se(P),-P.errno}}function bs(y,G,g){te.varargs=g;try{var C=te.getStr(y),v=g?te.get():0,P=f.open(C,G,v);return P.fd}catch(k){return(typeof f>"u"||!(k instanceof f.ErrnoError))&&se(k),-k.errno}}var js={};function si(y){for(;y.length;){var G=y.pop(),g=y.pop();g(G)}}function hi(y){return this.fromWireType(jt[y>>>2])}var ws={},Ye={},At={},Ws=48,Xi=57;function Ti(y){if(y===void 0)return"_unknown";y=y.replace(/[^a-zA-Z0-9_]/g,"$");var G=y.charCodeAt(0);return G>=Ws&&G<=Xi?"_"+y:y}function ii(y,G){return y=Ti(y),new Function("body","return function "+y+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(G)}function el(y,G){var g=ii(G,function(C){this.name=G,this.message=C;var v=new Error(C).stack;v!==void 0&&(this.stack=this.toString()+`
`+v.replace(/^Error(:[^\n]*)?\n/,""))});return g.prototype=Object.create(y.prototype),g.prototype.constructor=g,g.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},g}var xs=void 0;function ki(y){throw new xs(y)}function Ri(y,G,g){y.forEach(function(A){At[A]=G});function C(A){var tt=g(A);tt.length!==y.length&&ki("Mismatched type converter count");for(var ut=0;ut<y.length;++ut)be(y[ut],tt[ut])}var v=new Array(G.length),P=[],k=0;G.forEach(function(A,tt){Ye.hasOwnProperty(A)?v[tt]=Ye[A]:(P.push(A),ws.hasOwnProperty(A)||(ws[A]=[]),ws[A].push(function(){v[tt]=Ye[A],++k,k===P.length&&C(v)}))}),P.length===0&&C(v)}function di(y){var G=js[y];delete js[y];var g=G.elements,C=g.length,v=g.map(function(A){return A.getterReturnType}).concat(g.map(function(A){return A.setterArgumentType})),P=G.rawConstructor,k=G.rawDestructor;Ri([y],v,function(A){return g.forEach(function(tt,ut){var It=A[ut],Et=tt.getter,Ft=tt.getterContext,Ht=A[ut+C],le=tt.setter,Ke=tt.setterContext;tt.read=function(hs){return It.fromWireType(Et(Ft,hs))},tt.write=function(hs,$e){var St=[];le(Ke,hs,Ht.toWireType(St,$e)),si(St)}}),[{name:G.name,fromWireType:function(tt){for(var ut=new Array(C),It=0;It<C;++It)ut[It]=g[It].read(tt);return k(tt),ut},toWireType:function(tt,ut){if(C!==ut.length)throw new TypeError("Incorrect number of tuple elements for "+G.name+": expected="+C+", actual="+ut.length);for(var It=P(),Et=0;Et<C;++Et)g[Et].write(It,ut[Et]);return tt!==null&&tt.push(k,It),It},argPackAdvance:8,readValueFromPointer:hi,destructorFunction:k}]})}var Ca={};function $p(y){var G=Ca[y];delete Ca[y];var g=G.rawConstructor,C=G.rawDestructor,v=G.fields,P=v.map(function(k){return k.getterReturnType}).concat(v.map(function(k){return k.setterArgumentType}));Ri([y],P,function(k){var A={};return v.forEach(function(tt,ut){var It=tt.fieldName,Et=k[ut],Ft=tt.getter,Ht=tt.getterContext,le=k[ut+v.length],Ke=tt.setter,hs=tt.setterContext;A[It]={read:function($e){return Et.fromWireType(Ft(Ht,$e))},write:function($e,St){var Bt=[];Ke(hs,$e,le.toWireType(Bt,St)),si(Bt)}}}),[{name:G.name,fromWireType:function(tt){var ut={};for(var It in A)ut[It]=A[It].read(tt);return C(tt),ut},toWireType:function(tt,ut){for(var It in A)if(!(It in ut))throw new TypeError('Missing field:  "'+It+'"');var Et=g();for(It in A)A[It].write(Et,ut[It]);return tt!==null&&tt.push(C,Et),Et},argPackAdvance:8,readValueFromPointer:hi,destructorFunction:C}]})}function tm(y,G,g,C,v){}function Pe(y){switch(y){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+y)}}function em(){for(var y=new Array(256),G=0;G<256;++G)y[G]=String.fromCharCode(G);Pi=y}var Pi=void 0;function ms(y){for(var G="",g=y;ce[g>>>0];)G+=Pi[ce[g++>>>0]];return G}var Yl=void 0;function Be(y){throw new Yl(y)}function be(y,G,g){if(g=g||{},!("argPackAdvance"in G))throw new TypeError("registerType registeredInstance requires argPackAdvance");var C=G.name;if(y||Be('type "'+C+'" must have a positive integer typeid pointer'),Ye.hasOwnProperty(y)){if(g.ignoreDuplicateRegistrations)return;Be("Cannot register type '"+C+"' twice")}if(Ye[y]=G,delete At[y],ws.hasOwnProperty(y)){var v=ws[y];delete ws[y],v.forEach(function(P){P()})}}function sm(y,G,g,C,v){var P=Pe(g);G=ms(G),be(y,{name:G,fromWireType:function(k){return!!k},toWireType:function(k,A){return A?C:v},argPackAdvance:8,readValueFromPointer:function(k){var A;if(g===1)A=Lt;else if(g===2)A=bt;else if(g===4)A=at;else throw new TypeError("Unknown boolean type size: "+G);return this.fromWireType(A[k>>>P])},destructorFunction:null})}function V(y){if(!(this instanceof rn)||!(y instanceof rn))return!1;for(var G=this.$$.ptrType.registeredClass,g=this.$$.ptr,C=y.$$.ptrType.registeredClass,v=y.$$.ptr;G.baseClass;)g=G.upcast(g),G=G.baseClass;for(;C.baseClass;)v=C.upcast(v),C=C.baseClass;return G===C&&g===v}function Ns(y){return{count:y.count,deleteScheduled:y.deleteScheduled,preservePointerOnDelete:y.preservePointerOnDelete,ptr:y.ptr,ptrType:y.ptrType,smartPtr:y.smartPtr,smartPtrType:y.smartPtrType}}function fa(y){function G(g){return g.$$.ptrType.registeredClass.name}Be(G(y)+" instance already deleted")}var Va=!1;function nc(y){}function xa(y){y.smartPtr?y.smartPtrType.rawDestructor(y.smartPtr):y.ptrType.registeredClass.rawDestructor(y.ptr)}function vl(y){y.count.value-=1;var G=y.count.value===0;G&&xa(y)}function Ui(y){return typeof FinalizationGroup>"u"?(Ui=function(G){return G},y):(Va=new FinalizationGroup(function(G){for(var g=G.next();!g.done;g=G.next()){var C=g.value;C.ptr?vl(C):console.warn("object already deleted: "+C.ptr)}}),Ui=function(G){return Va.register(G,G.$$,G.$$),G},nc=function(G){Va.unregister(G.$$)},Ui(y))}function El(){if(this.$$.ptr||fa(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var y=Ui(Object.create(Object.getPrototypeOf(this),{$$:{value:Ns(this.$$)}}));return y.$$.count.value+=1,y.$$.deleteScheduled=!1,y}function sl(){this.$$.ptr||fa(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Be("Object already scheduled for deletion"),nc(this),vl(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function Na(){return!this.$$.ptr}var ur=void 0,pr=[];function mr(){for(;pr.length;){var y=pr.pop();y.$$.deleteScheduled=!1,y.delete()}}function Fa(){return this.$$.ptr||fa(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Be("Object already scheduled for deletion"),pr.push(this),pr.length===1&&ur&&ur(mr),this.$$.deleteScheduled=!0,this}function lc(){rn.prototype.isAliasOf=V,rn.prototype.clone=El,rn.prototype.delete=sl,rn.prototype.isDeleted=Na,rn.prototype.deleteLater=Fa}function rn(){}var br={};function an(y,G,g){if(y[G].overloadTable===void 0){var C=y[G];y[G]=function(){return y[G].overloadTable.hasOwnProperty(arguments.length)||Be("Function '"+g+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+y[G].overloadTable+")!"),y[G].overloadTable[arguments.length].apply(this,arguments)},y[G].overloadTable=[],y[G].overloadTable[C.argCount]=C}}function rc(y,G,g){l.hasOwnProperty(y)?((g===void 0||l[y].overloadTable!==void 0&&l[y].overloadTable[g]!==void 0)&&Be("Cannot register public name '"+y+"' twice"),an(l,y,y),l.hasOwnProperty(g)&&Be("Cannot register multiple overloads of a function with the same number of arguments ("+g+")!"),l[y].overloadTable[g]=G):(l[y]=G,g!==void 0&&(l[y].numArguments=g))}function Ma(y,G,g,C,v,P,k,A){this.name=y,this.constructor=G,this.instancePrototype=g,this.rawDestructor=C,this.baseClass=v,this.getActualType=P,this.upcast=k,this.downcast=A,this.pureVirtualFunctions=[]}function ac(y,G,g){for(;G!==g;)G.upcast||Be("Expected null or instance of "+g.name+", got an instance of "+G.name),y=G.upcast(y),G=G.baseClass;return y}function im(y,G){if(G===null)return this.isReference&&Be("null is not a valid "+this.name),0;G.$$||Be('Cannot pass "'+Hl(G)+'" as a '+this.name),G.$$.ptr||Be("Cannot pass deleted object as a pointer of type "+this.name);var g=G.$$.ptrType.registeredClass,C=ac(G.$$.ptr,g,this.registeredClass);return C}function Ya(y,G){var g;if(G===null)return this.isReference&&Be("null is not a valid "+this.name),this.isSmartPointer?(g=this.rawConstructor(),y!==null&&y.push(this.rawDestructor,g),g):0;G.$$||Be('Cannot pass "'+Hl(G)+'" as a '+this.name),G.$$.ptr||Be("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&G.$$.ptrType.isConst&&Be("Cannot convert argument of type "+(G.$$.smartPtrType?G.$$.smartPtrType.name:G.$$.ptrType.name)+" to parameter type "+this.name);var C=G.$$.ptrType.registeredClass;if(g=ac(G.$$.ptr,C,this.registeredClass),this.isSmartPointer)switch(G.$$.smartPtr===void 0&&Be("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:G.$$.smartPtrType===this?g=G.$$.smartPtr:Be("Cannot convert argument of type "+(G.$$.smartPtrType?G.$$.smartPtrType.name:G.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:g=G.$$.smartPtr;break;case 2:if(G.$$.smartPtrType===this)g=G.$$.smartPtr;else{var v=G.clone();g=this.rawShare(g,xi(function(){v.delete()})),y!==null&&y.push(this.rawDestructor,g)}break;default:Be("Unsupporting sharing policy")}return g}function nm(y,G){if(G===null)return this.isReference&&Be("null is not a valid "+this.name),0;G.$$||Be('Cannot pass "'+Hl(G)+'" as a '+this.name),G.$$.ptr||Be("Cannot pass deleted object as a pointer of type "+this.name),G.$$.ptrType.isConst&&Be("Cannot convert argument of type "+G.$$.ptrType.name+" to parameter type "+this.name);var g=G.$$.ptrType.registeredClass,C=ac(G.$$.ptr,g,this.registeredClass);return C}function sd(y){return this.rawGetPointee&&(y=this.rawGetPointee(y)),y}function Ms(y){this.rawDestructor&&this.rawDestructor(y)}function zl(y){y!==null&&y.delete()}function Ue(y,G,g){if(G===g)return y;if(g.baseClass===void 0)return null;var C=Ue(y,G,g.baseClass);return C===null?null:g.downcast(C)}function Di(){return Object.keys(il).length}function lm(){var y=[];for(var G in il)il.hasOwnProperty(G)&&y.push(il[G]);return y}function rm(y){ur=y,pr.length&&ur&&ur(mr)}function am(){l.getInheritedInstanceCount=Di,l.getLiveInheritedInstances=lm,l.flushPendingDeletes=mr,l.setDelayFunction=rm}var il={};function oc(y,G){for(G===void 0&&Be("ptr should not be undefined");y.baseClass;)G=y.upcast(G),y=y.baseClass;return G}function id(y,G){return G=oc(y,G),il[G]}function va(y,G){(!G.ptrType||!G.ptr)&&ki("makeClassHandle requires ptr and ptrType");var g=!!G.smartPtrType,C=!!G.smartPtr;return g!==C&&ki("Both smartPtrType and smartPtr must be specified"),G.count={value:1},Ui(Object.create(y,{$$:{value:G}}))}function nd(y){var G=this.getPointee(y);if(!G)return this.destructor(y),null;var g=id(this.registeredClass,G);if(g!==void 0){if(g.$$.count.value===0)return g.$$.ptr=G,g.$$.smartPtr=y,g.clone();var C=g.clone();return this.destructor(y),C}function v(){return this.isSmartPointer?va(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:G,smartPtrType:this,smartPtr:y}):va(this.registeredClass.instancePrototype,{ptrType:this,ptr:y})}var P=this.registeredClass.getActualType(G),k=br[P];if(!k)return v.call(this);var A;this.isConst?A=k.constPointerType:A=k.pointerType;var tt=Ue(G,this.registeredClass,A.registeredClass);return tt===null?v.call(this):this.isSmartPointer?va(A.registeredClass.instancePrototype,{ptrType:A,ptr:tt,smartPtrType:this,smartPtr:y}):va(A.registeredClass.instancePrototype,{ptrType:A,ptr:tt})}function yr(){on.prototype.getPointee=sd,on.prototype.destructor=Ms,on.prototype.argPackAdvance=8,on.prototype.readValueFromPointer=hi,on.prototype.deleteObject=zl,on.prototype.fromWireType=nd}function on(y,G,g,C,v,P,k,A,tt,ut,It){this.name=y,this.registeredClass=G,this.isReference=g,this.isConst=C,this.isSmartPointer=v,this.pointeeType=P,this.sharingPolicy=k,this.rawGetPointee=A,this.rawConstructor=tt,this.rawShare=ut,this.rawDestructor=It,!v&&G.baseClass===void 0?C?(this.toWireType=im,this.destructorFunction=null):(this.toWireType=nm,this.destructorFunction=null):this.toWireType=Ya}function ld(y,G,g){l.hasOwnProperty(y)||ki("Replacing nonexistant public symbol"),l[y].overloadTable!==void 0&&g!==void 0?l[y].overloadTable[g]=G:(l[y]=G,l[y].argCount=g)}function om(y,G,g){var C=l["dynCall_"+y];return g&&g.length?C.apply(null,[G].concat(g)):C.call(null,G)}function Gr(y,G,g){return y.includes("j")?om(y,G,g):ae.get(G).apply(null,g)}function Zr(y,G){var g=[];return function(){g.length=arguments.length;for(var C=0;C<arguments.length;C++)g[C]=arguments[C];return Gr(y,G,g)}}function ks(y,G){y=ms(y);function g(){return y.includes("j")?Zr(y,G):ae.get(G)}var C=g();return typeof C!="function"&&Be("unknown function pointer with signature "+y+": "+G),C}var rd=void 0;function ad(y){var G=bd(y),g=ms(G);return hn(G),g}function Vi(y,G){var g=[],C={};function v(P){if(!C[P]&&!Ye[P]){if(At[P]){At[P].forEach(v);return}g.push(P),C[P]=!0}}throw G.forEach(v),new rd(y+": "+g.map(ad).join([", "]))}function od(y,G,g,C,v,P,k,A,tt,ut,It,Et,Ft){It=ms(It),P=ks(v,P),A&&(A=ks(k,A)),ut&&(ut=ks(tt,ut)),Ft=ks(Et,Ft);var Ht=Ti(It);rc(Ht,function(){Vi("Cannot construct "+It+" due to unbound types",[C])}),Ri([y,G,g],C?[C]:[],function(le){le=le[0];var Ke,hs;C?(Ke=le.registeredClass,hs=Ke.instancePrototype):hs=rn.prototype;var $e=ii(Ht,function(){if(Object.getPrototypeOf(this)!==St)throw new Yl("Use 'new' to construct "+It);if(Bt.constructor_body===void 0)throw new Yl(It+" has no accessible constructor");var Fi=Bt.constructor_body[arguments.length];if(Fi===void 0)throw new Yl("Tried to invoke ctor of "+It+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(Bt.constructor_body).toString()+") parameters instead!");return Fi.apply(this,arguments)}),St=Object.create(hs,{constructor:{value:$e}});$e.prototype=St;var Bt=new Ma(It,$e,St,Ft,Ke,P,A,ut),Ae=new on(It,Bt,!0,!1,!1),ve=new on(It+"*",Bt,!1,!1,!1),de=new on(It+" const*",Bt,!1,!0,!1);return br[y]={pointerType:ve,constPointerType:de},ld(Ht,$e),[Ae,ve,de]})}function Ea(y,G){for(var g=[],C=0;C<y;C++)g.push(at[(G>>2)+C>>>0]);return g}function cc(y,G,g,C,v,P){j(G>0);var k=Ea(G,g);v=ks(C,v);var A=[P],tt=[];Ri([],[y],function(ut){ut=ut[0];var It="constructor "+ut.name;if(ut.registeredClass.constructor_body===void 0&&(ut.registeredClass.constructor_body=[]),ut.registeredClass.constructor_body[G-1]!==void 0)throw new Yl("Cannot register multiple constructors with identical number of parameters ("+(G-1)+") for class '"+ut.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return ut.registeredClass.constructor_body[G-1]=function(){Vi("Cannot construct "+ut.name+" due to unbound types",k)},Ri([],k,function(Et){return ut.registeredClass.constructor_body[G-1]=function(){arguments.length!==G-1&&Be(It+" called with "+arguments.length+" arguments, expected "+(G-1)),tt.length=0,A.length=G;for(var Ht=1;Ht<G;++Ht)A[Ht]=Et[Ht].toWireType(tt,arguments[Ht-1]);var le=v.apply(null,A);return si(tt),Et[0].fromWireType(le)},[]}),[]})}function cm(y,G){if(!(y instanceof Function))throw new TypeError("new_ called with constructor type "+typeof y+" which is not a function");var g=ii(y.name||"unknownFunctionName",function(){});g.prototype=y.prototype;var C=new g,v=y.apply(C,G);return v instanceof Object?v:C}function za(y,G,g,C,v){var P=G.length;P<2&&Be("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var k=G[1]!==null&&g!==null,A=!1,tt=1;tt<G.length;++tt)if(G[tt]!==null&&G[tt].destructorFunction===void 0){A=!0;break}for(var ut=G[0].name!=="void",It="",Et="",tt=0;tt<P-2;++tt)It+=(tt!==0?", ":"")+"arg"+tt,Et+=(tt!==0?", ":"")+"arg"+tt+"Wired";var Ft="return function "+Ti(y)+"("+It+`) {
if (arguments.length !== `+(P-2)+`) {
throwBindingError('function `+y+" called with ' + arguments.length + ' arguments, expected "+(P-2)+` args!');
}
`;A&&(Ft+=`var destructors = [];
`);var Ht=A?"destructors":"null",le=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],Ke=[Be,C,v,si,G[0],G[1]];k&&(Ft+="var thisWired = classParam.toWireType("+Ht+`, this);
`);for(var tt=0;tt<P-2;++tt)Ft+="var arg"+tt+"Wired = argType"+tt+".toWireType("+Ht+", arg"+tt+"); // "+G[tt+2].name+`
`,le.push("argType"+tt),Ke.push(G[tt+2]);if(k&&(Et="thisWired"+(Et.length>0?", ":"")+Et),Ft+=(ut?"var rv = ":"")+"invoker(fn"+(Et.length>0?", ":"")+Et+`);
`,A)Ft+=`runDestructors(destructors);
`;else for(var tt=k?1:2;tt<G.length;++tt){var hs=tt===1?"thisWired":"arg"+(tt-2)+"Wired";G[tt].destructorFunction!==null&&(Ft+=hs+"_dtor("+hs+"); // "+G[tt].name+`
`,le.push(hs+"_dtor"),Ke.push(G[tt].destructorFunction))}ut&&(Ft+=`var ret = retType.fromWireType(rv);
return ret;
`),Ft+=`}
`,le.push(Ft);var $e=cm(Function,le).apply(null,Ke);return $e}function hm(y,G,g,C,v,P,k,A){var tt=Ea(g,C);G=ms(G),P=ks(v,P),Ri([],[y],function(ut){ut=ut[0];var It=ut.name+"."+G;G.startsWith("@@")&&(G=Symbol[G.substring(2)]),A&&ut.registeredClass.pureVirtualFunctions.push(G);function Et(){Vi("Cannot call "+It+" due to unbound types",tt)}var Ft=ut.registeredClass.instancePrototype,Ht=Ft[G];return Ht===void 0||Ht.overloadTable===void 0&&Ht.className!==ut.name&&Ht.argCount===g-2?(Et.argCount=g-2,Et.className=ut.name,Ft[G]=Et):(an(Ft,G,It),Ft[G].overloadTable[g-2]=Et),Ri([],tt,function(le){var Ke=za(It,le,ut,P,k);return Ft[G].overloadTable===void 0?(Ke.argCount=g-2,Ft[G]=Ke):Ft[G].overloadTable[g-2]=Ke,[]}),[]})}var hc=[],ui=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function dc(y){y>4&&--ui[y].refcount===0&&(ui[y]=void 0,hc.push(y))}function dm(){for(var y=0,G=5;G<ui.length;++G)ui[G]!==void 0&&++y;return y}function um(){for(var y=5;y<ui.length;++y)if(ui[y]!==void 0)return ui[y];return null}function cd(){l.count_emval_handles=dm,l.get_first_emval=um}function xi(y){switch(y){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var G=hc.length?hc.pop():ui.length;return ui[G]={refcount:1,value:y},G}}}function pm(y,G){G=ms(G),be(y,{name:G,fromWireType:function(g){var C=ui[g].value;return dc(g),C},toWireType:function(g,C){return xi(C)},argPackAdvance:8,readValueFromPointer:hi,destructorFunction:null})}function mm(y,G,g){switch(G){case 0:return function(C){var v=g?Lt:ce;return this.fromWireType(v[C>>>0])};case 1:return function(C){var v=g?bt:Xt;return this.fromWireType(v[C>>>1])};case 2:return function(C){var v=g?at:jt;return this.fromWireType(v[C>>>2])};default:throw new TypeError("Unknown integer type: "+y)}}function bm(y,G,g,C){var v=Pe(g);G=ms(G);function P(){}P.values={},be(y,{name:G,constructor:P,fromWireType:function(k){return this.constructor.values[k]},toWireType:function(k,A){return A.value},argPackAdvance:8,readValueFromPointer:mm(G,v,C),destructorFunction:null}),rc(G,P)}function Yn(y,G){var g=Ye[y];return g===void 0&&Be(G+" has unknown type "+ad(y)),g}function ym(y,G,g){var C=Yn(y,"enum");G=ms(G);var v=C.constructor,P=Object.create(C.constructor.prototype,{value:{value:g},constructor:{value:ii(C.name+"_"+G,function(){})}});v.values[g]=P,v[G]=P}function Hl(y){if(y===null)return"null";var G=typeof y;return G==="object"||G==="array"||G==="function"?y.toString():""+y}function Ha(y,G){switch(G){case 2:return function(g){return this.fromWireType(Ot[g>>>2])};case 3:return function(g){return this.fromWireType(Le[g>>>3])};default:throw new TypeError("Unknown float type: "+y)}}function Gm(y,G,g){var C=Pe(g);G=ms(G),be(y,{name:G,fromWireType:function(v){return v},toWireType:function(v,P){if(typeof P!="number"&&typeof P!="boolean")throw new TypeError('Cannot convert "'+Hl(P)+'" to '+this.name);return P},argPackAdvance:8,readValueFromPointer:Ha(G,C),destructorFunction:null})}function Zm(y,G,g,C,v,P){var k=Ea(G,g);y=ms(y),v=ks(C,v),rc(y,function(){Vi("Cannot call "+y+" due to unbound types",k)},G-1),Ri([],k,function(A){var tt=[A[0],null].concat(A.slice(1));return ld(y,za(y,tt,null,v,P),G-1),[]})}function cn(y,G,g){switch(G){case 0:return g?function(v){return Lt[v>>>0]}:function(v){return ce[v>>>0]};case 1:return g?function(v){return bt[v>>>1]}:function(v){return Xt[v>>>1]};case 2:return g?function(v){return at[v>>>2]}:function(v){return jt[v>>>2]};default:throw new TypeError("Unknown integer type: "+y)}}function hd(y,G,g,C,v){G=ms(G),v===-1&&(v=4294967295);var P=Pe(g),k=function(ut){return ut};if(C===0){var A=32-8*g;k=function(ut){return ut<<A>>>A}}var tt=G.includes("unsigned");be(y,{name:G,fromWireType:k,toWireType:function(ut,It){if(typeof It!="number"&&typeof It!="boolean")throw new TypeError('Cannot convert "'+Hl(It)+'" to '+this.name);if(It<C||It>v)throw new TypeError('Passing a number "'+Hl(It)+'" from JS side to C/C++ side to an argument of type "'+G+'", which is outside the valid range ['+C+", "+v+"]!");return tt?It>>>0:It|0},argPackAdvance:8,readValueFromPointer:cn(G,P,C!==0),destructorFunction:null})}function Xm(y,G,g){var C=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],v=C[G];function P(k){k=k>>2;var A=jt,tt=A[k>>>0],ut=A[k+1>>>0];return new v(ye,ut,tt)}g=ms(g),be(y,{name:g,fromWireType:P,argPackAdvance:8,readValueFromPointer:P},{ignoreDuplicateRegistrations:!0})}function Tm(y,G){G=ms(G);var g=G==="std::string";be(y,{name:G,fromWireType:function(C){var v=jt[C>>>2],P;if(g)for(var k=C+4,A=0;A<=v;++A){var tt=C+4+A;if(A==v||ce[tt>>>0]==0){var ut=tt-k,It=ot(k,ut);P===void 0?P=It:(P+=String.fromCharCode(0),P+=It),k=tt+1}}else{for(var Et=new Array(v),A=0;A<v;++A)Et[A]=String.fromCharCode(ce[C+4+A>>>0]);P=Et.join("")}return hn(C),P},toWireType:function(C,v){v instanceof ArrayBuffer&&(v=new Uint8Array(v));var P,k=typeof v=="string";k||v instanceof Uint8Array||v instanceof Uint8ClampedArray||v instanceof Int8Array||Be("Cannot pass non-string to std::string"),g&&k?P=function(){return nt(v)}:P=function(){return v.length};var A=P(),tt=Ba(4+A+1);if(tt>>>=0,jt[tt>>>2]=A,g&&k)lt(v,tt+4,A+1);else if(k)for(var ut=0;ut<A;++ut){var It=v.charCodeAt(ut);It>255&&(hn(tt),Be("String has UTF-16 code units that do not fit in 8 bits")),ce[tt+4+ut>>>0]=It}else for(var ut=0;ut<A;++ut)ce[tt+4+ut>>>0]=v[ut];return C!==null&&C.push(hn,tt),tt},argPackAdvance:8,readValueFromPointer:hi,destructorFunction:function(C){hn(C)}})}function Rm(y,G,g){g=ms(g);var C,v,P,k,A;G===2?(C=gt,v=Mt,k=Ct,P=function(){return Xt},A=1):G===4&&(C=wt,v=Me,k=Xe,P=function(){return jt},A=2),be(y,{name:g,fromWireType:function(tt){for(var ut=jt[tt>>>2],It=P(),Et,Ft=tt+4,Ht=0;Ht<=ut;++Ht){var le=tt+4+Ht*G;if(Ht==ut||It[le>>>A]==0){var Ke=le-Ft,hs=C(Ft,Ke);Et===void 0?Et=hs:(Et+=String.fromCharCode(0),Et+=hs),Ft=le+G}}return hn(tt),Et},toWireType:function(tt,ut){typeof ut!="string"&&Be("Cannot pass non-string to C++ string type "+g);var It=k(ut),Et=Ba(4+It+G);return Et>>>=0,jt[Et>>>2]=It>>A,v(ut,Et+4,It+G),tt!==null&&tt.push(hn,Et),Et},argPackAdvance:8,readValueFromPointer:hi,destructorFunction:function(tt){hn(tt)}})}function Qs(y,G,g,C,v,P){js[y]={name:ms(G),rawConstructor:ks(g,C),rawDestructor:ks(v,P),elements:[]}}function dd(y,G,g,C,v,P,k,A,tt){js[y].elements.push({getterReturnType:G,getter:ks(g,C),getterContext:v,setterArgumentType:P,setter:ks(k,A),setterContext:tt})}function ud(y,G,g,C,v,P){Ca[y]={name:ms(G),rawConstructor:ks(g,C),rawDestructor:ks(v,P),fields:[]}}function Ka(y,G,g,C,v,P,k,A,tt,ut){Ca[y].fields.push({fieldName:ms(G),getterReturnType:g,getter:ks(C,v),getterContext:P,setterArgumentType:k,setter:ks(A,tt),setterContext:ut})}function Im(y,G){G=ms(G),be(y,{isVoid:!0,name:G,argPackAdvance:0,fromWireType:function(){},toWireType:function(g,C){}})}function Ii(y){return y||Be("Cannot use deleted val. handle = "+y),ui[y].value}function gm(y,G,g){y=Ii(y),G=Yn(G,"emval::as");var C=[],v=xi(C);return at[g>>>2]=v,G.toWireType(C,y)}function Wm(y,G){for(var g=new Array(y),C=0;C<y;++C)g[C]=Yn(at[(G>>2)+C>>>0],"parameter "+C);return g}function pd(y,G,g,C){y=Ii(y);for(var v=Wm(G,g),P=new Array(G),k=0;k<G;++k){var A=v[k];P[k]=A.readValueFromPointer(C),C+=A.argPackAdvance}var tt=y.apply(void 0,P);return xi(tt)}var Lm={};function wa(y){var G=Lm[y];return G===void 0?ms(y):G}function ni(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function uc(y){return y===0?xi(ni()):(y=wa(y),xi(ni()[y]))}function Sm(y,G){return y=Ii(y),G=Ii(G),xi(y[G])}function Cm(y){y>4&&(ui[y].refcount+=1)}function fm(y,G){return y=Ii(y),G=Ii(G),y instanceof G}function Ni(y){return y=Ii(y),typeof y=="number"}function Vm(){return xi([])}function xm(y){return xi(wa(y))}function Nm(){return xi({})}function ka(y){var G=ui[y].value;si(G),dc(y)}function Fm(y,G,g){y=Ii(y),G=Ii(G),g=Ii(g),y[G]=g}function Kl(y,G){y=Yn(y,"_emval_take_value");var g=y.readValueFromPointer(G);return xi(g)}function Mm(){se()}var pc;Z?pc=function(){var y=process.hrtime();return y[0]*1e3+y[1]/1e6}:pc=function(){return performance.now()};var Ym=!0;function vm(y,G){var g;if(y===0)g=Date.now();else if((y===1||y===4)&&Ym)g=pc();else return D(28),-1;return at[G>>>2]=g/1e3|0,at[G+4>>>2]=g%1e3*1e3*1e3|0,0}function Em(y,G,g){ce.copyWithin(y>>>0,G>>>0,G+g>>>0)}function zm(y){try{return $.grow(y-ye.byteLength+65535>>>16),Ge($.buffer),1}catch{}}function Hm(y){var G=ce.length;y=y>>>0;var g=4294901760;if(y>g)return!1;for(var C=1;C<=4;C*=2){var v=G*(1+.2/C);v=Math.min(v,y+100663296);var P=Math.min(g,Se(Math.max(y,v),65536)),k=zm(P);if(k)return!0}return!1}var mc={};function Km(){return h||"./this.program"}function Xr(){if(!Xr.strings){var y=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",G={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:y,_:Km()};for(var g in mc)mc[g]===void 0?delete G[g]:G[g]=mc[g];var C=[];for(var g in G)C.push(g+"="+G[g]);Xr.strings=C}return Xr.strings}function wm(y,G){try{var g=0;return Xr().forEach(function(C,v){var P=G+g;at[y+v*4>>>2]=P,Oe(C,P),g+=C.length+1}),0}catch(C){return(typeof f>"u"||!(C instanceof f.ErrnoError))&&se(C),C.errno}}function km(y,G){try{var g=Xr();at[y>>>2]=g.length;var C=0;return g.forEach(function(v){C+=v.length+1}),at[G>>>2]=C,0}catch(v){return(typeof f>"u"||!(v instanceof f.ErrnoError))&&se(v),v.errno}}function Pm(y){try{var G=te.getStreamFromFD(y);return f.close(G),0}catch(g){return(typeof f>"u"||!(g instanceof f.ErrnoError))&&se(g),g.errno}}function Um(y,G,g,C){try{var v=te.getStreamFromFD(y),P=te.doReadv(v,G,g);return at[C>>>2]=P,0}catch(k){return(typeof f>"u"||!(k instanceof f.ErrnoError))&&se(k),k.errno}}function Ji(y,G,g,C,v){try{var P=te.getStreamFromFD(y),k=4294967296,A=g*k+(G>>>0),tt=9007199254740992;return A<=-tt||A>=tt?-61:(f.llseek(P,A,C),fi=[P.position>>>0,(Zs=P.position,+Math.abs(Zs)>=1?Zs>0?(Math.min(+Math.floor(Zs/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Zs-+(~~Zs>>>0))/4294967296)>>>0:0)],at[v>>>2]=fi[0],at[v+4>>>2]=fi[1],P.getdents&&A===0&&C===0&&(P.getdents=null),0)}catch(ut){return(typeof f>"u"||!(ut instanceof f.ErrnoError))&&se(ut),ut.errno}}function Dm(y,G,g,C){try{var v=te.getStreamFromFD(y),P=te.doWritev(v,G,g);return at[C>>>2]=P,0}catch(k){return(typeof f>"u"||!(k instanceof f.ErrnoError))&&se(k),k.errno}}function Jm(y){}function Pa(y){return y%4===0&&(y%100!==0||y%400===0)}function bc(y,G){for(var g=0,C=0;C<=G;g+=y[C++]);return g}var Tr=[31,29,31,30,31,30,31,31,30,31,30,31],Rr=[31,28,31,30,31,30,31,31,30,31,30,31];function Ua(y,G){for(var g=new Date(y.getTime());G>0;){var C=Pa(g.getFullYear()),v=g.getMonth(),P=(C?Tr:Rr)[v];if(G>P-g.getDate())G-=P-g.getDate()+1,g.setDate(1),v<11?g.setMonth(v+1):(g.setMonth(0),g.setFullYear(g.getFullYear()+1));else return g.setDate(g.getDate()+G),g}return g}function Om(y,G,g,C){var v=at[C+40>>>2],P={tm_sec:at[C>>>2],tm_min:at[C+4>>>2],tm_hour:at[C+8>>>2],tm_mday:at[C+12>>>2],tm_mon:at[C+16>>>2],tm_year:at[C+20>>>2],tm_wday:at[C+24>>>2],tm_yday:at[C+28>>>2],tm_isdst:at[C+32>>>2],tm_gmtoff:at[C+36>>>2],tm_zone:v?ot(v):""},k=ot(g),A={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var tt in A)k=k.replace(new RegExp(tt,"g"),A[tt]);var ut=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],It=["January","February","March","April","May","June","July","August","September","October","November","December"];function Et(St,Bt,Ae){for(var ve=typeof St=="number"?St.toString():St||"";ve.length<Bt;)ve=Ae[0]+ve;return ve}function Ft(St,Bt){return Et(St,Bt,"0")}function Ht(St,Bt){function Ae(de){return de<0?-1:de>0?1:0}var ve;return(ve=Ae(St.getFullYear()-Bt.getFullYear()))===0&&(ve=Ae(St.getMonth()-Bt.getMonth()))===0&&(ve=Ae(St.getDate()-Bt.getDate())),ve}function le(St){switch(St.getDay()){case 0:return new Date(St.getFullYear()-1,11,29);case 1:return St;case 2:return new Date(St.getFullYear(),0,3);case 3:return new Date(St.getFullYear(),0,2);case 4:return new Date(St.getFullYear(),0,1);case 5:return new Date(St.getFullYear()-1,11,31);case 6:return new Date(St.getFullYear()-1,11,30)}}function Ke(St){var Bt=Ua(new Date(St.tm_year+1900,0,1),St.tm_yday),Ae=new Date(Bt.getFullYear(),0,4),ve=new Date(Bt.getFullYear()+1,0,4),de=le(Ae),Fi=le(ve);return Ht(de,Bt)<=0?Ht(Fi,Bt)<=0?Bt.getFullYear()+1:Bt.getFullYear():Bt.getFullYear()-1}var hs={"%a":function(St){return ut[St.tm_wday].substring(0,3)},"%A":function(St){return ut[St.tm_wday]},"%b":function(St){return It[St.tm_mon].substring(0,3)},"%B":function(St){return It[St.tm_mon]},"%C":function(St){var Bt=St.tm_year+1900;return Ft(Bt/100|0,2)},"%d":function(St){return Ft(St.tm_mday,2)},"%e":function(St){return Et(St.tm_mday,2," ")},"%g":function(St){return Ke(St).toString().substring(2)},"%G":function(St){return Ke(St)},"%H":function(St){return Ft(St.tm_hour,2)},"%I":function(St){var Bt=St.tm_hour;return Bt==0?Bt=12:Bt>12&&(Bt-=12),Ft(Bt,2)},"%j":function(St){return Ft(St.tm_mday+bc(Pa(St.tm_year+1900)?Tr:Rr,St.tm_mon-1),3)},"%m":function(St){return Ft(St.tm_mon+1,2)},"%M":function(St){return Ft(St.tm_min,2)},"%n":function(){return`
`},"%p":function(St){return St.tm_hour>=0&&St.tm_hour<12?"AM":"PM"},"%S":function(St){return Ft(St.tm_sec,2)},"%t":function(){return"	"},"%u":function(St){return St.tm_wday||7},"%U":function(St){var Bt=new Date(St.tm_year+1900,0,1),Ae=Bt.getDay()===0?Bt:Ua(Bt,7-Bt.getDay()),ve=new Date(St.tm_year+1900,St.tm_mon,St.tm_mday);if(Ht(Ae,ve)<0){var de=bc(Pa(ve.getFullYear())?Tr:Rr,ve.getMonth()-1)-31,Fi=31-Ae.getDate(),nl=Fi+de+ve.getDate();return Ft(Math.ceil(nl/7),2)}return Ht(Ae,Bt)===0?"01":"00"},"%V":function(St){var Bt=new Date(St.tm_year+1900,0,4),Ae=new Date(St.tm_year+1901,0,4),ve=le(Bt),de=le(Ae),Fi=Ua(new Date(St.tm_year+1900,0,1),St.tm_yday);if(Ht(Fi,ve)<0)return"53";if(Ht(de,Fi)<=0)return"01";var nl;return ve.getFullYear()<St.tm_year+1900?nl=St.tm_yday+32-ve.getDate():nl=St.tm_yday+1-ve.getDate(),Ft(Math.ceil(nl/7),2)},"%w":function(St){return St.tm_wday},"%W":function(St){var Bt=new Date(St.tm_year,0,1),Ae=Bt.getDay()===1?Bt:Ua(Bt,Bt.getDay()===0?1:7-Bt.getDay()+1),ve=new Date(St.tm_year+1900,St.tm_mon,St.tm_mday);if(Ht(Ae,ve)<0){var de=bc(Pa(ve.getFullYear())?Tr:Rr,ve.getMonth()-1)-31,Fi=31-Ae.getDate(),nl=Fi+de+ve.getDate();return Ft(Math.ceil(nl/7),2)}return Ht(Ae,Bt)===0?"01":"00"},"%y":function(St){return(St.tm_year+1900).toString().substring(2)},"%Y":function(St){return St.tm_year+1900},"%z":function(St){var Bt=St.tm_gmtoff,Ae=Bt>=0;return Bt=Math.abs(Bt)/60,Bt=Bt/60*100+Bt%60,(Ae?"+":"-")+String("0000"+Bt).slice(-4)},"%Z":function(St){return St.tm_zone},"%%":function(){return"%"}};for(var tt in hs)k.includes(tt)&&(k=k.replace(new RegExp(tt,"g"),hs[tt](P)));var $e=Oa(k,!1);return $e.length>G?0:(Zt($e,y),$e.length-1)}function Bm(y,G,g,C){return Om(y,G,g,C)}var md=function(y,G,g,C){y||(y=this),this.parent=y,this.mount=y.mount,this.mounted=null,this.id=f.nextInode++,this.name=G,this.mode=g,this.node_ops={},this.stream_ops={},this.rdev=C},Da=365,Ja=146;Object.defineProperties(md.prototype,{read:{get:function(){return(this.mode&Da)===Da},set:function(y){y?this.mode|=Da:this.mode&=~Da}},write:{get:function(){return(this.mode&Ja)===Ja},set:function(y){y?this.mode|=Ja:this.mode&=~Ja}},isFolder:{get:function(){return f.isDir(this.mode)}},isDevice:{get:function(){return f.isChrdev(this.mode)}}}),f.FSNode=md,f.staticInit(),l.FS_createPath=f.createPath,l.FS_createDataFile=f.createDataFile,l.FS_createPreloadedFile=f.createPreloadedFile,l.FS_createLazyFile=f.createLazyFile,l.FS_createDevice=f.createDevice,l.FS_unlink=f.unlink,xs=l.InternalError=el(Error,"InternalError"),em(),Yl=l.BindingError=el(Error,"BindingError"),lc(),yr(),am(),rd=l.UnboundTypeError=el(Error,"UnboundTypeError"),cd();function Oa(y,G,g){var C=g>0?g:nt(y)+1,v=new Array(C),P=rt(y,v,0,v.length);return G&&(v.length=P),v}var Am={y:wi,x:tl,w:Ml,A:fe,O:He,P:bs,Z:di,o:$p,J:tm,W:sm,r:od,q:cc,b:hm,V:pm,Y:bm,t:ym,D:Gm,e:Zm,n:hd,j:Xm,E:Tm,v:Rm,_:Qs,g:dd,p:ud,d:Ka,X:Im,l:gm,F:pd,a:dc,H:uc,m:Sm,i:Cm,L:fm,G:Ni,z:Vm,f:xm,s:Nm,k:ka,h:Fm,c:Kl,C:Mm,N:vm,M:Em,u:Hm,R:wm,S:km,B:Pm,U:Um,I:Ji,T:Dm,K:Jm,Q:Bm};ic(),l.___wasm_call_ctors=function(){return(l.___wasm_call_ctors=l.asm.aa).apply(null,arguments)},l._main=function(){return(l._main=l.asm.ba).apply(null,arguments)};var Ba=l._malloc=function(){return(Ba=l._malloc=l.asm.ca).apply(null,arguments)},hn=l._free=function(){return(hn=l._free=l.asm.da).apply(null,arguments)},bd=l.___getTypeName=function(){return(bd=l.___getTypeName=l.asm.ea).apply(null,arguments)};l.___embind_register_native_and_builtin_types=function(){return(l.___embind_register_native_and_builtin_types=l.asm.fa).apply(null,arguments)};var yd=l.___errno_location=function(){return(yd=l.___errno_location=l.asm.ga).apply(null,arguments)};l.dynCall_jiji=function(){return(l.dynCall_jiji=l.asm.ia).apply(null,arguments)},l.dynCall_viijii=function(){return(l.dynCall_viijii=l.asm.ja).apply(null,arguments)},l.dynCall_iiiiij=function(){return(l.dynCall_iiiiij=l.asm.ka).apply(null,arguments)},l.dynCall_iiiiijj=function(){return(l.dynCall_iiiiijj=l.asm.la).apply(null,arguments)},l.dynCall_iiiiiijj=function(){return(l.dynCall_iiiiiijj=l.asm.ma).apply(null,arguments)},l.addRunDependency=me,l.removeRunDependency=qt,l.FS_createPath=f.createPath,l.FS_createDataFile=f.createDataFile,l.FS_createPreloadedFile=f.createPreloadedFile,l.FS_createLazyFile=f.createLazyFile,l.FS_createDevice=f.createDevice,l.FS_unlink=f.unlink,l.FS=f;var wl;function yc(y){this.name="ExitStatus",this.message="Program terminated with exit("+y+")",this.status=y}kt=function y(){wl||Gc(),wl||(kt=y)};function jm(y){var G=l._main,g=0,C=0;try{var v=G(g,C);Qm(v,!0)}catch(k){if(k instanceof yc||k=="unwind")return;var P=k;k&&typeof k=="object"&&k.stack&&(P=[k,k.stack]),Y("exception thrown: "+P),d(1,k)}finally{}}function Gc(y){if(_>0||(Dt(),_>0))return;function G(){wl||(wl=!0,l.calledRun=!0,!H&&($t(),pe(),r(l),l.onRuntimeInitialized&&l.onRuntimeInitialized(),Gd&&jm(),yt()))}l.setStatus?(l.setStatus("Running..."),setTimeout(function(){setTimeout(function(){l.setStatus("")},1),G()},1)):G()}l.run=Gc;function Qm(y,G){xt()||(l.onExit&&l.onExit(y),H=!0),d(y,new yc(y))}if(l.preInit)for(typeof l.preInit=="function"&&(l.preInit=[l.preInit]);l.preInit.length>0;)l.preInit.pop()();var Gd=!0;return l.noInitialRun&&(Gd=!1),Gc(),n.ready}}();typeof t=="object"&&typeof i=="object"?i.exports=e:typeof define=="function"&&define.amd?define([],function(){return e}):typeof t=="object"&&(t.WebIFCWasm=e)}}),UU=3821786052,DU=2296667514,JU=3630933823,UZ=4288193352,OU=2874132201,BU=618182010,AU=1635779807,jU=2603310189,QU=3406155212,DZ=1634111441,JZ=177149247,_U=1411407467,qU=3352864051,OZ=2056796094,$U=1871374353,BZ=3087945054,tD=3001207471,AZ=325726236,eD=749761778,sD=3199563722,iD=2483840362,nD=3379348081,lD=3239324667,rD=4263986512,aD=53199957,oD=2029264950,cD=3512275521,jZ=1674181508,hD=669184980,dD=639542469,uD=411424972,pD=130549933,mD=3869604511,bD=3798115385,yD=1310608509,GD=2705031697,ZD=3460190687,XD=3207858831,QZ=277319702,TD=1532957894,RD=4261334040,ID=3125803723,gD=2740243338,WD=1967976161,LD=2461110595,SD=2887950389,CD=167062518,_Z=753842376,qZ=2906023776,fD=819618141,$Z=4196446775,VD=3649138523,xD=616511568,ND=1334484129,tX=32344328,FD=231477066,MD=3649129432,YD=2736907675,vD=4037036970,ED=1136057603,zD=1560379544,HD=3367102660,KD=1387855156,wD=2069777674,kD=1260505505,PD=4182860854,UD=2581212453,DD=2713105998,eX=644574406,sX=963979645,iX=4031249490,nX=3299480353,lX=2979338954,JD=39481116,rX=1095909175,OD=1909888760,BD=1950629157,aX=3124254112,AD=1177604601,oX=2938176219,jD=2188180465,QD=2898889636,cX=635142910,_D=395041908,hX=3758799889,qD=3293546465,dX=1051757585,$D=2674252688,uX=4217484030,tJ=1285652485,pX=3999819293,eJ=3203706013,sJ=1123145078,iJ=574549367,nJ=1675464909,lJ=2059837836,rJ=59481748,aJ=3749851601,oJ=3486308946,cJ=3331915920,hJ=1416205885,dJ=3150382593,mX=3902619387,uJ=2951183804,bX=3296154744,pJ=2197970202,mJ=2611217952,bJ=2937912522,yJ=1383045692,GJ=1062206242,yX=1677625105,ZJ=3893394355,XJ=747523909,TJ=647927063,RJ=2205249479,GX=639361253,IJ=2301859152,gJ=776857604,WJ=3285139300,LJ=3264961684,ZX=843113511,XX=905975707,SJ=300633059,TX=3221913625,CJ=400855858,fJ=2542286263,VJ=3875453745,xJ=3732776249,NJ=15328376,FJ=2485617015,MJ=1485152156,RX=3571504051,YJ=3850581409,IX=2272882330,vJ=2816379211,EJ=2510884976,zJ=370225590,HJ=1981873012,KJ=2859738748,wJ=45288368,kJ=2614616156,PJ=2732653382,UJ=775493141,DJ=1959218052,JJ=3898045240,OJ=2185764099,BJ=1060000209,AJ=4105962743,jJ=488727124,QJ=1525564444,_J=2559216714,qJ=2574617495,$J=3419103109,tO=3050246964,eO=3293443760,gX=25142252,sO=578613899,iO=2889183280,nO=2713554722,WX=4136498852,lO=335055490,LX=3640358203,rO=2954562838,aO=1785450214,oO=1466758467,cO=3895139033,hO=1419761937,dO=602808272,SX=1973544240,uO=1916426348,pO=3295246426,mO=1815067380,bO=2506170314,yO=2147822146,GO=539742890,CX=3495092785,ZO=1457835157,XO=2601014836,TO=2827736869,RO=2629017746,IO=1186437898,gO=3800577675,WO=1105321065,LO=2367409068,SO=3510044353,CO=1213902940,fX=4074379575,fO=3961806047,VX=3426335179,VO=1306400036,xO=3632507154,NO=1765591967,FO=1045800335,MO=2949456006,YO=32440307,xX=1335981549,vO=2635815018,EO=1945343521,NX=1052013943,zO=1599208980,HO=562808652,FX=1062813311,KO=2063403501,MX=1945004755,wO=3256556792,YX=3040386961,kO=3849074793,vX=3041715199,PO=3205830791,UO=1154170062,DO=770865208,JO=3732053477,EX=395920057,OO=2963535650,BO=1714330368,zX=3242481149,AO=526551008,jO=2323601079,QO=445594917,_O=4006246654,HX=342316401,qO=869906466,KX=3518393246,$O=3760055223,wX=1360408905,tB=2030761528,eB=3900360178,sB=476780140,iB=1472233963,kX=1904799276,nB=663422040,PX=862014818,lB=2417008758,UX=3310460725,rB=3277789161,DX=264262732,aB=1534661035,JX=402227799,oB=1217240411,OX=1003880860,cB=712377611,BX=1758889154,AX=4123344466,hB=2397081782,jX=1623761950,dB=2590856083,uB=1883228015,pB=339256511,mB=2777663545,bB=1704287377,yB=2835456948,QX=1658829314,GB=2107101300,_X=2814081492,ZB=132023988,qX=3747195512,XB=3174744832,$X=484807127,TB=3390157468,RB=4148101412,IB=211053100,gB=4024345920,WB=297599258,LB=4294318154,SB=3200245327,CB=1437805879,tT=1209101575,eT=2853485674,fB=2242383968,VB=1040185647,xB=3548104201,NB=477187591,FB=2804161546,MB=2556980723,YB=2047409740,vB=1809719519,EB=803316827,zB=3008276851,HB=807026263,KB=3737207727,sT=24185140,iT=1310830890,wB=4219587988,nT=3415622556,kB=346874300,lT=647756555,PB=2489546625,rT=2827207264,aT=2143335405,oT=1287392070,UB=738692330,DB=374418227,JB=315944413,cT=819412036,OB=1810631287,hT=1426591983,BB=4222183408,AB=2652556860,dT=2058353004,jB=3907093117,uT=4278956645,QB=3198132628,pT=182646315,_B=4037862832,mT=2188021234,qB=3815607619,bT=3132237377,$B=1482959167,yT=987401354,tA=1834744321,GT=707683696,eA=1339347760,ZT=2223149337,sA=2297155007,XT=3508470533,iA=3009222698,TT=900683007,nA=1893162501,RT=263784265,lA=4238390223,IT=1509553395,rA=1268542332,gT=3493046030,aA=4095422895,oA=987898635,cA=3448662350,hA=2453401579,dA=4142052618,uA=3590301190,WT=3009204131,pA=852622518,mA=178086475,bA=2706460486,yA=812098782,LT=3319311131,GA=1251058090,ST=2068733104,ZA=1806887404,XA=1484403080,TA=3905492369,RA=3570813810,IA=2571569899,gA=178912537,WA=2294589976,LA=1437953363,SA=2133299955,CT=4175244083,CA=3946677679,fA=3113134337,VA=2391368822,xA=3741457305,NA=3020489413,fT=2176052936,FA=4288270099,MA=572779678,YA=3827777499,vA=428585644,EA=1585845231,VT=76236018,zA=1051575348,HA=2655187982,KA=3452421091,wA=4162380809,xT=629592764,kA=1161773419,PA=1566485204,UA=1402838566,DA=125510826,JA=2604431987,OA=4266656042,BA=1520743889,AA=3422422726,jA=1281925730,QA=3092502836,_A=388784114,NT=1154579445,qA=2624227202,$A=1008929658,tj=1425443689,ej=3057273783,sj=2347385850,ij=1838606355,nj=1847130766,lj=3708119e3,rj=2852063980,aj=760658860,oj=2022407955,cj=248100487,hj=3303938423,dj=1303795690,uj=1847252529,pj=2199411900,mj=2235152071,bj=164193824,yj=3079605661,Gj=3404854881,Zj=552965576,Xj=3265635763,Tj=853536259,Rj=1507914824,Ij=2597039031,FT=377706215,gj=2108223431,MT=1437502449,Wj=1114901282,YT=1073191201,vT=1911478936,Lj=3181161470,Sj=3368373690,Cj=2998442950,fj=2706619895,ET=2474470126,Vj=977012517,xj=1918398963,Nj=3888040117,Fj=219451334,Mj=3701648758,Yj=2251480897,vj=4143007308,Ej=590820931,zj=3388369263,Hj=3505215534,Kj=2485787929,wj=2665983363,$o=3588315303,zT=3079942009,kj=4251960020,Pj=1411181986,Uj=643959842,Dj=1029017970,Jj=144952367,HT=3694346114,Oj=2837617999,Bj=1207048766,Aj=2529465313,jj=2519244187,Qj=1682466193,_j=2382730787,qj=3566463478,$j=3327091369,t4=2077209135,e4=101040310,s4=3021840470,i4=2483315170,n4=2226359599,KT=1687234759,l4=1158309216,wT=310824031,r4=804291784,kT=3612865200,a4=4231323485,o4=597895409,c4=2004835150,h4=603570806,d4=1663979128,u4=220341763,PT=3171933400,UT=1156407060,p4=4017108033,m4=2067069095,b4=4022376103,y4=1423911732,G4=2924175390,Z4=2775532180,X4=2839578677,T4=3724593414,DT=3740093272,JT=1946335990,R4=3355820592,I4=759155922,g4=2559016684,W4=3727388367,L4=3778827333,S4=3967405729,C4=1775413392,f4=677532197,V4=2022622350,x4=1304840413,N4=3119450353,F4=2417041796,M4=2744685151,Y4=569719735,v4=2945172077,E4=4208778838,OT=673634403,z4=2095639259,H4=3958567839,K4=2802850158,_h=103090709,w4=653396225,k4=2904328755,P4=3843373140,BT=3651124850,U4=2598011224,D4=986844984,J4=871118103,O4=1680319473,B4=148025276,A4=4166981789,j4=3710013099,Q4=2752243245,_4=941946838,q4=1451395588,$4=3357820518,tQ=492091185,eQ=3650150729,sQ=110355661,iQ=3521284610,nQ=1482703590,AT=738039164,jT=2295281155,lQ=655969474,rQ=1842657554,QT=3219374653,_T=90941305,aQ=2250791053,oQ=2044713172,cQ=2093928680,hQ=931644368,dQ=2090586900,uQ=3252649465,pQ=2405470396,mQ=825690147,qT=2262370178,bQ=2893384427,$T=3024970846,tR=3283111854,yQ=2324767716,GQ=1469900589,ZQ=1232101972,XQ=683857671,TQ=2770003689,RQ=3615266464,IQ=2798486643,gQ=3454111270,WQ=3915482550,LQ=2433181523,eR=4021432810,SQ=3413951693,CQ=1580146022,fQ=3765753017,sR=979691226,VQ=2572171363,iR=3027567501,xQ=964333572,nR=2320036040,NQ=2310774935,Kp=160246688,FQ=3939117080,MQ=1683148259,YQ=2495723537,vQ=1307041759,EQ=1027710054,zQ=4278684876,HQ=2857406711,KQ=205026976,wQ=1865459582,kQ=4095574036,PQ=919958153,UQ=2728634034,DQ=982818633,JQ=3840914261,wp=2655215786,OQ=826625072,BQ=1204542856,AQ=3945020480,jQ=4201705270,QQ=3190031847,_Q=2127690289,qQ=1638771189,$Q=504942748,t_=3678494232,kp=3242617779,e_=886880790,s_=2802773753,i_=2565941209,n_=2551354335,l_=693640335,r_=1462361463,Pp=4186316022,a_=307848117,Up=781010003,o_=3940055652,c_=279856033,h_=427948657,d_=3268803585,u_=1441486842,p_=750771296,m_=1245217292,b_=4122056220,y_=366585022,G_=3451746338,Z_=3523091289,X_=1521410863,T_=1401173127,R_=478536968,I_=816062949,g_=1076942058,W_=3377609919,L_=3008791417,S_=1660063152,C_=2914609552,f_=2943643501,V_=1608871552,x_=2439245199,N_=1042787934,F_=1856042241,M_=3243963512,Y_=4158566097,v_=3626867408,lR=2016517767,E_=2781568857,z_=2341007311,H_=2778083089,K_=448429030,rR=3053780830,w_=1768891740,k_=1054537805,P_=2157484638,U_=2042790032,D_=4165799628,J_=1862484736,O_=1290935644,B_=1509187699,aR=4086658281,A_=1783015770,oR=1329646415,j_=4074543187,Q_=867548509,__=3982875396,q_=4240577450,$_=4124623270,t7=3692461612,e7=3663146110,cR=4097777520,hR=1529196076,dR=3127900445,uR=3027962421,s7=2533589738,i7=2609359061,pR=3420628829,n7=1072016465,l7=723233188,tc=3856911033,mR=1999602285,r7=1305183839,a7=3812236995,bR=1412071761,o7=710998568,yR=2706606064,c7=3893378262,GR=463610769,h7=2481509218,d7=451544542,u7=4015995234,ZR=1404847402,p7=3112655638,XR=331165859,TR=4252922144,m7=1039846685,b7=338393293,RR=682877961,IR=3544373492,y7=2515109513,gR=1179482911,G7=2273995522,WR=1004757350,LR=4243806635,SR=214636428,CR=2445595289,fR=2757150158,VR=3136571912,xR=1807405624,Z7=2162789131,X7=385403989,T7=3478079324,R7=1252848954,I7=1595516126,g7=609421318,W7=2668620305,L7=2473145415,S7=1973038258,C7=1597423693,f7=1190533807,V7=2525727697,x7=3408363356,NR=530289379,FR=1621171031,MR=2082059205,YR=734778138,vR=1235345126,ER=3689010777,N7=2986769608,zR=3657597509,HR=1975003073,KR=3979015343,wR=2218152070,kR=603775116,F7=2830218821,M7=3958052878,Y7=3049322572,v7=148013059,E7=4095615324,z7=2233826070,H7=2513912981,K7=699246055,w7=2028607225,PR=3101698114,k7=2809605785,P7=4124788165,U7=2934153892,D7=1300840506,J7=3303107099,O7=1607154358,B7=1878645084,A7=846575682,j7=1351298697,Q7=626085974,_7=2247615214,q7=1260650574,$7=1096409881,t8=230924584,UR=1162798199,e8=2315554128,s8=2254336722,DR=413509423,i8=1580310250,n8=3071757647,l8=985171141,r8=2043862942,a8=531007025,JR=812556717,o8=5716631,c8=3473067441,h8=1549132990,d8=2771591690,u8=3206491090,p8=912023232,OR=3824725483,BR=2347447852,m8=3081323446,AR=3663046924,b8=2281632017,y8=2415094496,G8=2387106220,Z8=901063453,X8=4282788508,T8=3124975700,R8=1447204868,I8=1983826977,g8=2636378356,W8=1640371178,L8=280115917,S8=1742049831,C8=2552916305,f8=1210645708,V8=3611470254,x8=1199560280,N8=3101149627,F8=581633288,M8=1377556343,Y8=1735638870,v8=1935646853,jR=3825984169,E8=1692211062,z8=2595432518,QR=1620046519,H8=2097647324,K8=2715220739,w8=2916149573,k8=1229763772,P8=3593883385,_R=3026737570,U8=1600972822,D8=1628702193,J8=3736923433,O8=2347495698,B8=3698973494,A8=427810014,j8=180925521,qR=630975310,Q8=3179687236,$R=4292641817,_8=1911125066,tI=4207607924,q8=728799441,$8=1417489154,t6=2799835756,e6=2759199220,s6=1907098498,eI=1530820697,i6=3956297820,sI=2391383451,n6=3313531582,iI=2769231204,l6=891718957,nI=926996030,lI=2391406946,rI=4156078855,aI=3512223829,r6=1898987631,oI=4237592921,a6=1133259667,cI=3304561284,o6=336235671,c6=512836454,hI=486154966,h6=1299126871,d6=4009809668,u6=4088093105,p6=1028945134,m6=4218914973,b6=3342526732,y6=1236880293,G6=2543172580,Z6=1033361043,dI=[UZ,DZ,JZ,OZ,BZ,AZ,jZ,QZ,_Z,qZ,$Z,tX,eX,sX,iX,nX,lX,rX,aX,oX,cX,hX,dX,uX,pX,mX,bX,yX,GX,ZX,XX,TX,RX,IX,gX,WX,LX,SX,CX,fX,VX,xX,NX,FX,MX,YX,vX,EX,zX,HX,KX,wX,kX,PX,UX,DX,JX,OX,BX,AX,jX,QX,_X,qX,$X,tT,eT,sT,iT,nT,lT,rT,aT,oT,cT,hT,dT,uT,pT,mT,bT,yT,GT,ZT,XT,TT,RT,IT,gT,WT,LT,ST,CT,fT,VT,xT,NT,FT,MT,YT,vT,ET,$o,zT,HT,KT,wT,kT,PT,UT,DT,JT,BT,AT,jT,QT,_T,qT,$T,tR,eR,sR,iR,nR,lR,rR,aR,oR,cR,hR,dR,uR,pR,tc,mR,bR,yR,GR,ZR,XR,TR,RR,IR,gR,WR,LR,SR,CR,fR,VR,xR,NR,FR,MR,YR,vR,ER,zR,HR,KR,wR,kR,PR,UR,DR,JR,OR,BR,AR,jR,QR,_R,qR,$R,tI,eI,sI,iI,nI,lI,rI,aI,oI,cI,hI],I={};I[UU]=t=>uI.FromTape(t.ID,t.type,t.arguments),I[DU]=t=>pI.FromTape(t.ID,t.type,t.arguments),I[JU]=t=>mI.FromTape(t.ID,t.type,t.arguments),I[UZ]=t=>bI.FromTape(t.ID,t.type,t.arguments),I[OU]=t=>yI.FromTape(t.ID,t.type,t.arguments),I[BU]=t=>GI.FromTape(t.ID,t.type,t.arguments),I[AU]=t=>ZI.FromTape(t.ID,t.type,t.arguments),I[jU]=t=>XI.FromTape(t.ID,t.type,t.arguments),I[QU]=t=>TI.FromTape(t.ID,t.type,t.arguments),I[DZ]=t=>RI.FromTape(t.ID,t.type,t.arguments),I[JZ]=t=>II.FromTape(t.ID,t.type,t.arguments),I[_U]=t=>gI.FromTape(t.ID,t.type,t.arguments),I[qU]=t=>WI.FromTape(t.ID,t.type,t.arguments),I[OZ]=t=>LI.FromTape(t.ID,t.type,t.arguments),I[$U]=t=>SI.FromTape(t.ID,t.type,t.arguments),I[BZ]=t=>CI.FromTape(t.ID,t.type,t.arguments),I[tD]=t=>fI.FromTape(t.ID,t.type,t.arguments),I[AZ]=t=>VI.FromTape(t.ID,t.type,t.arguments),I[eD]=t=>xI.FromTape(t.ID,t.type,t.arguments),I[sD]=t=>NI.FromTape(t.ID,t.type,t.arguments),I[iD]=t=>FI.FromTape(t.ID,t.type,t.arguments),I[nD]=t=>MI.FromTape(t.ID,t.type,t.arguments),I[lD]=t=>YI.FromTape(t.ID,t.type,t.arguments),I[rD]=t=>vI.FromTape(t.ID,t.type,t.arguments),I[aD]=t=>EI.FromTape(t.ID,t.type,t.arguments),I[oD]=t=>zI.FromTape(t.ID,t.type,t.arguments),I[cD]=t=>HI.FromTape(t.ID,t.type,t.arguments),I[jZ]=t=>KI.FromTape(t.ID,t.type,t.arguments),I[hD]=t=>wI.FromTape(t.ID,t.type,t.arguments),I[dD]=t=>kI.FromTape(t.ID,t.type,t.arguments),I[uD]=t=>PI.FromTape(t.ID,t.type,t.arguments),I[pD]=t=>UI.FromTape(t.ID,t.type,t.arguments),I[mD]=t=>DI.FromTape(t.ID,t.type,t.arguments),I[bD]=t=>JI.FromTape(t.ID,t.type,t.arguments),I[yD]=t=>OI.FromTape(t.ID,t.type,t.arguments),I[GD]=t=>BI.FromTape(t.ID,t.type,t.arguments),I[ZD]=t=>AI.FromTape(t.ID,t.type,t.arguments),I[XD]=t=>jI.FromTape(t.ID,t.type,t.arguments),I[QZ]=t=>QI.FromTape(t.ID,t.type,t.arguments),I[TD]=t=>_I.FromTape(t.ID,t.type,t.arguments),I[RD]=t=>qI.FromTape(t.ID,t.type,t.arguments),I[ID]=t=>$I.FromTape(t.ID,t.type,t.arguments),I[gD]=t=>tg.FromTape(t.ID,t.type,t.arguments),I[WD]=t=>eg.FromTape(t.ID,t.type,t.arguments),I[LD]=t=>sg.FromTape(t.ID,t.type,t.arguments),I[SD]=t=>ig.FromTape(t.ID,t.type,t.arguments),I[CD]=t=>ng.FromTape(t.ID,t.type,t.arguments),I[_Z]=t=>lg.FromTape(t.ID,t.type,t.arguments),I[qZ]=t=>rg.FromTape(t.ID,t.type,t.arguments),I[fD]=t=>ag.FromTape(t.ID,t.type,t.arguments),I[$Z]=t=>og.FromTape(t.ID,t.type,t.arguments),I[VD]=t=>cg.FromTape(t.ID,t.type,t.arguments),I[xD]=t=>hg.FromTape(t.ID,t.type,t.arguments),I[ND]=t=>dg.FromTape(t.ID,t.type,t.arguments),I[tX]=t=>ug.FromTape(t.ID,t.type,t.arguments),I[FD]=t=>pg.FromTape(t.ID,t.type,t.arguments),I[MD]=t=>mg.FromTape(t.ID,t.type,t.arguments),I[YD]=t=>bg.FromTape(t.ID,t.type,t.arguments),I[vD]=t=>yg.FromTape(t.ID,t.type,t.arguments),I[ED]=t=>Gg.FromTape(t.ID,t.type,t.arguments),I[zD]=t=>Zg.FromTape(t.ID,t.type,t.arguments),I[HD]=t=>Xg.FromTape(t.ID,t.type,t.arguments),I[KD]=t=>Tg.FromTape(t.ID,t.type,t.arguments),I[wD]=t=>Rg.FromTape(t.ID,t.type,t.arguments),I[kD]=t=>Ig.FromTape(t.ID,t.type,t.arguments),I[PD]=t=>gg.FromTape(t.ID,t.type,t.arguments),I[UD]=t=>Wg.FromTape(t.ID,t.type,t.arguments),I[DD]=t=>Lg.FromTape(t.ID,t.type,t.arguments),I[eX]=t=>Sg.FromTape(t.ID,t.type,t.arguments),I[sX]=t=>Cg.FromTape(t.ID,t.type,t.arguments),I[iX]=t=>fg.FromTape(t.ID,t.type,t.arguments),I[nX]=t=>Vg.FromTape(t.ID,t.type,t.arguments),I[lX]=t=>xg.FromTape(t.ID,t.type,t.arguments),I[JD]=t=>Ng.FromTape(t.ID,t.type,t.arguments),I[rX]=t=>Fg.FromTape(t.ID,t.type,t.arguments),I[OD]=t=>Mg.FromTape(t.ID,t.type,t.arguments),I[BD]=t=>Yg.FromTape(t.ID,t.type,t.arguments),I[aX]=t=>vg.FromTape(t.ID,t.type,t.arguments),I[AD]=t=>Eg.FromTape(t.ID,t.type,t.arguments),I[oX]=t=>zg.FromTape(t.ID,t.type,t.arguments),I[jD]=t=>Hg.FromTape(t.ID,t.type,t.arguments),I[QD]=t=>Kg.FromTape(t.ID,t.type,t.arguments),I[cX]=t=>wg.FromTape(t.ID,t.type,t.arguments),I[_D]=t=>kg.FromTape(t.ID,t.type,t.arguments),I[hX]=t=>Pg.FromTape(t.ID,t.type,t.arguments),I[qD]=t=>Ug.FromTape(t.ID,t.type,t.arguments),I[dX]=t=>Dg.FromTape(t.ID,t.type,t.arguments),I[$D]=t=>Jg.FromTape(t.ID,t.type,t.arguments),I[uX]=t=>Og.FromTape(t.ID,t.type,t.arguments),I[tJ]=t=>Bg.FromTape(t.ID,t.type,t.arguments),I[pX]=t=>Ag.FromTape(t.ID,t.type,t.arguments),I[eJ]=t=>jg.FromTape(t.ID,t.type,t.arguments),I[sJ]=t=>Qg.FromTape(t.ID,t.type,t.arguments),I[iJ]=t=>_g.FromTape(t.ID,t.type,t.arguments),I[nJ]=t=>qg.FromTape(t.ID,t.type,t.arguments),I[lJ]=t=>$g.FromTape(t.ID,t.type,t.arguments),I[rJ]=t=>tW.FromTape(t.ID,t.type,t.arguments),I[aJ]=t=>eW.FromTape(t.ID,t.type,t.arguments),I[oJ]=t=>sW.FromTape(t.ID,t.type,t.arguments),I[cJ]=t=>iW.FromTape(t.ID,t.type,t.arguments),I[hJ]=t=>nW.FromTape(t.ID,t.type,t.arguments),I[dJ]=t=>lW.FromTape(t.ID,t.type,t.arguments),I[mX]=t=>rW.FromTape(t.ID,t.type,t.arguments),I[uJ]=t=>aW.FromTape(t.ID,t.type,t.arguments),I[bX]=t=>oW.FromTape(t.ID,t.type,t.arguments),I[pJ]=t=>cW.FromTape(t.ID,t.type,t.arguments),I[mJ]=t=>hW.FromTape(t.ID,t.type,t.arguments),I[bJ]=t=>dW.FromTape(t.ID,t.type,t.arguments),I[yJ]=t=>uW.FromTape(t.ID,t.type,t.arguments),I[GJ]=t=>pW.FromTape(t.ID,t.type,t.arguments),I[yX]=t=>mW.FromTape(t.ID,t.type,t.arguments),I[ZJ]=t=>bW.FromTape(t.ID,t.type,t.arguments),I[XJ]=t=>yW.FromTape(t.ID,t.type,t.arguments),I[TJ]=t=>GW.FromTape(t.ID,t.type,t.arguments),I[RJ]=t=>ZW.FromTape(t.ID,t.type,t.arguments),I[GX]=t=>XW.FromTape(t.ID,t.type,t.arguments),I[IJ]=t=>TW.FromTape(t.ID,t.type,t.arguments),I[gJ]=t=>RW.FromTape(t.ID,t.type,t.arguments),I[WJ]=t=>IW.FromTape(t.ID,t.type,t.arguments),I[LJ]=t=>gW.FromTape(t.ID,t.type,t.arguments),I[ZX]=t=>WW.FromTape(t.ID,t.type,t.arguments),I[XX]=t=>LW.FromTape(t.ID,t.type,t.arguments),I[SJ]=t=>SW.FromTape(t.ID,t.type,t.arguments),I[TX]=t=>CW.FromTape(t.ID,t.type,t.arguments),I[CJ]=t=>fW.FromTape(t.ID,t.type,t.arguments),I[fJ]=t=>VW.FromTape(t.ID,t.type,t.arguments),I[VJ]=t=>xW.FromTape(t.ID,t.type,t.arguments),I[xJ]=t=>NW.FromTape(t.ID,t.type,t.arguments),I[NJ]=t=>FW.FromTape(t.ID,t.type,t.arguments),I[FJ]=t=>MW.FromTape(t.ID,t.type,t.arguments),I[MJ]=t=>YW.FromTape(t.ID,t.type,t.arguments),I[RX]=t=>vW.FromTape(t.ID,t.type,t.arguments),I[YJ]=t=>EW.FromTape(t.ID,t.type,t.arguments),I[IX]=t=>zW.FromTape(t.ID,t.type,t.arguments),I[vJ]=t=>HW.FromTape(t.ID,t.type,t.arguments),I[EJ]=t=>KW.FromTape(t.ID,t.type,t.arguments),I[zJ]=t=>wW.FromTape(t.ID,t.type,t.arguments),I[HJ]=t=>kW.FromTape(t.ID,t.type,t.arguments),I[KJ]=t=>PW.FromTape(t.ID,t.type,t.arguments),I[wJ]=t=>UW.FromTape(t.ID,t.type,t.arguments),I[kJ]=t=>DW.FromTape(t.ID,t.type,t.arguments),I[PJ]=t=>JW.FromTape(t.ID,t.type,t.arguments),I[UJ]=t=>OW.FromTape(t.ID,t.type,t.arguments),I[DJ]=t=>BW.FromTape(t.ID,t.type,t.arguments),I[JJ]=t=>AW.FromTape(t.ID,t.type,t.arguments),I[OJ]=t=>jW.FromTape(t.ID,t.type,t.arguments),I[BJ]=t=>QW.FromTape(t.ID,t.type,t.arguments),I[AJ]=t=>_W.FromTape(t.ID,t.type,t.arguments),I[jJ]=t=>qW.FromTape(t.ID,t.type,t.arguments),I[QJ]=t=>$W.FromTape(t.ID,t.type,t.arguments),I[_J]=t=>tL.FromTape(t.ID,t.type,t.arguments),I[qJ]=t=>eL.FromTape(t.ID,t.type,t.arguments),I[$J]=t=>sL.FromTape(t.ID,t.type,t.arguments),I[tO]=t=>iL.FromTape(t.ID,t.type,t.arguments),I[eO]=t=>nL.FromTape(t.ID,t.type,t.arguments),I[gX]=t=>lL.FromTape(t.ID,t.type,t.arguments),I[sO]=t=>rL.FromTape(t.ID,t.type,t.arguments),I[iO]=t=>aL.FromTape(t.ID,t.type,t.arguments),I[nO]=t=>oL.FromTape(t.ID,t.type,t.arguments),I[WX]=t=>cL.FromTape(t.ID,t.type,t.arguments),I[lO]=t=>hL.FromTape(t.ID,t.type,t.arguments),I[LX]=t=>dL.FromTape(t.ID,t.type,t.arguments),I[rO]=t=>uL.FromTape(t.ID,t.type,t.arguments),I[aO]=t=>pL.FromTape(t.ID,t.type,t.arguments),I[oO]=t=>mL.FromTape(t.ID,t.type,t.arguments),I[cO]=t=>bL.FromTape(t.ID,t.type,t.arguments),I[hO]=t=>yL.FromTape(t.ID,t.type,t.arguments),I[dO]=t=>GL.FromTape(t.ID,t.type,t.arguments),I[SX]=t=>ZL.FromTape(t.ID,t.type,t.arguments),I[uO]=t=>XL.FromTape(t.ID,t.type,t.arguments),I[pO]=t=>TL.FromTape(t.ID,t.type,t.arguments),I[mO]=t=>RL.FromTape(t.ID,t.type,t.arguments),I[bO]=t=>IL.FromTape(t.ID,t.type,t.arguments),I[yO]=t=>gL.FromTape(t.ID,t.type,t.arguments),I[GO]=t=>WL.FromTape(t.ID,t.type,t.arguments),I[CX]=t=>LL.FromTape(t.ID,t.type,t.arguments),I[ZO]=t=>SL.FromTape(t.ID,t.type,t.arguments),I[XO]=t=>CL.FromTape(t.ID,t.type,t.arguments),I[TO]=t=>fL.FromTape(t.ID,t.type,t.arguments),I[RO]=t=>VL.FromTape(t.ID,t.type,t.arguments),I[IO]=t=>xL.FromTape(t.ID,t.type,t.arguments),I[gO]=t=>NL.FromTape(t.ID,t.type,t.arguments),I[WO]=t=>FL.FromTape(t.ID,t.type,t.arguments),I[LO]=t=>ML.FromTape(t.ID,t.type,t.arguments),I[SO]=t=>YL.FromTape(t.ID,t.type,t.arguments),I[CO]=t=>vL.FromTape(t.ID,t.type,t.arguments),I[fX]=t=>EL.FromTape(t.ID,t.type,t.arguments),I[fO]=t=>zL.FromTape(t.ID,t.type,t.arguments),I[VX]=t=>HL.FromTape(t.ID,t.type,t.arguments),I[VO]=t=>KL.FromTape(t.ID,t.type,t.arguments),I[xO]=t=>wL.FromTape(t.ID,t.type,t.arguments),I[NO]=t=>kL.FromTape(t.ID,t.type,t.arguments),I[FO]=t=>PL.FromTape(t.ID,t.type,t.arguments),I[MO]=t=>UL.FromTape(t.ID,t.type,t.arguments),I[YO]=t=>DL.FromTape(t.ID,t.type,t.arguments),I[xX]=t=>JL.FromTape(t.ID,t.type,t.arguments),I[vO]=t=>OL.FromTape(t.ID,t.type,t.arguments),I[EO]=t=>BL.FromTape(t.ID,t.type,t.arguments),I[NX]=t=>AL.FromTape(t.ID,t.type,t.arguments),I[zO]=t=>jL.FromTape(t.ID,t.type,t.arguments),I[HO]=t=>QL.FromTape(t.ID,t.type,t.arguments),I[FX]=t=>_L.FromTape(t.ID,t.type,t.arguments),I[KO]=t=>qL.FromTape(t.ID,t.type,t.arguments),I[MX]=t=>$L.FromTape(t.ID,t.type,t.arguments),I[wO]=t=>t1.FromTape(t.ID,t.type,t.arguments),I[YX]=t=>e1.FromTape(t.ID,t.type,t.arguments),I[kO]=t=>s1.FromTape(t.ID,t.type,t.arguments),I[vX]=t=>i1.FromTape(t.ID,t.type,t.arguments),I[PO]=t=>n1.FromTape(t.ID,t.type,t.arguments),I[UO]=t=>l1.FromTape(t.ID,t.type,t.arguments),I[DO]=t=>r1.FromTape(t.ID,t.type,t.arguments),I[JO]=t=>a1.FromTape(t.ID,t.type,t.arguments),I[EX]=t=>o1.FromTape(t.ID,t.type,t.arguments),I[OO]=t=>c1.FromTape(t.ID,t.type,t.arguments),I[BO]=t=>h1.FromTape(t.ID,t.type,t.arguments),I[zX]=t=>d1.FromTape(t.ID,t.type,t.arguments),I[AO]=t=>u1.FromTape(t.ID,t.type,t.arguments),I[jO]=t=>p1.FromTape(t.ID,t.type,t.arguments),I[QO]=t=>m1.FromTape(t.ID,t.type,t.arguments),I[_O]=t=>b1.FromTape(t.ID,t.type,t.arguments),I[HX]=t=>y1.FromTape(t.ID,t.type,t.arguments),I[qO]=t=>G1.FromTape(t.ID,t.type,t.arguments),I[KX]=t=>Z1.FromTape(t.ID,t.type,t.arguments),I[$O]=t=>X1.FromTape(t.ID,t.type,t.arguments),I[wX]=t=>T1.FromTape(t.ID,t.type,t.arguments),I[tB]=t=>R1.FromTape(t.ID,t.type,t.arguments),I[eB]=t=>I1.FromTape(t.ID,t.type,t.arguments),I[sB]=t=>g1.FromTape(t.ID,t.type,t.arguments),I[iB]=t=>W1.FromTape(t.ID,t.type,t.arguments),I[kX]=t=>L1.FromTape(t.ID,t.type,t.arguments),I[nB]=t=>S1.FromTape(t.ID,t.type,t.arguments),I[PX]=t=>C1.FromTape(t.ID,t.type,t.arguments),I[lB]=t=>f1.FromTape(t.ID,t.type,t.arguments),I[UX]=t=>V1.FromTape(t.ID,t.type,t.arguments),I[rB]=t=>x1.FromTape(t.ID,t.type,t.arguments),I[DX]=t=>N1.FromTape(t.ID,t.type,t.arguments),I[aB]=t=>F1.FromTape(t.ID,t.type,t.arguments),I[JX]=t=>M1.FromTape(t.ID,t.type,t.arguments),I[oB]=t=>Y1.FromTape(t.ID,t.type,t.arguments),I[OX]=t=>v1.FromTape(t.ID,t.type,t.arguments),I[cB]=t=>E1.FromTape(t.ID,t.type,t.arguments),I[BX]=t=>z1.FromTape(t.ID,t.type,t.arguments),I[AX]=t=>H1.FromTape(t.ID,t.type,t.arguments),I[hB]=t=>K1.FromTape(t.ID,t.type,t.arguments),I[jX]=t=>w1.FromTape(t.ID,t.type,t.arguments),I[dB]=t=>k1.FromTape(t.ID,t.type,t.arguments),I[uB]=t=>P1.FromTape(t.ID,t.type,t.arguments),I[pB]=t=>U1.FromTape(t.ID,t.type,t.arguments),I[mB]=t=>D1.FromTape(t.ID,t.type,t.arguments),I[bB]=t=>J1.FromTape(t.ID,t.type,t.arguments),I[yB]=t=>O1.FromTape(t.ID,t.type,t.arguments),I[QX]=t=>B1.FromTape(t.ID,t.type,t.arguments),I[GB]=t=>A1.FromTape(t.ID,t.type,t.arguments),I[_X]=t=>j1.FromTape(t.ID,t.type,t.arguments),I[ZB]=t=>Q1.FromTape(t.ID,t.type,t.arguments),I[qX]=t=>_1.FromTape(t.ID,t.type,t.arguments),I[XB]=t=>q1.FromTape(t.ID,t.type,t.arguments),I[$X]=t=>$1.FromTape(t.ID,t.type,t.arguments),I[TB]=t=>t2.FromTape(t.ID,t.type,t.arguments),I[RB]=t=>e2.FromTape(t.ID,t.type,t.arguments),I[IB]=t=>s2.FromTape(t.ID,t.type,t.arguments),I[gB]=t=>i2.FromTape(t.ID,t.type,t.arguments),I[WB]=t=>n2.FromTape(t.ID,t.type,t.arguments),I[LB]=t=>l2.FromTape(t.ID,t.type,t.arguments),I[SB]=t=>r2.FromTape(t.ID,t.type,t.arguments),I[CB]=t=>a2.FromTape(t.ID,t.type,t.arguments),I[tT]=t=>o2.FromTape(t.ID,t.type,t.arguments),I[eT]=t=>c2.FromTape(t.ID,t.type,t.arguments),I[fB]=t=>h2.FromTape(t.ID,t.type,t.arguments),I[VB]=t=>d2.FromTape(t.ID,t.type,t.arguments),I[xB]=t=>u2.FromTape(t.ID,t.type,t.arguments),I[NB]=t=>p2.FromTape(t.ID,t.type,t.arguments),I[FB]=t=>m2.FromTape(t.ID,t.type,t.arguments),I[MB]=t=>b2.FromTape(t.ID,t.type,t.arguments),I[YB]=t=>y2.FromTape(t.ID,t.type,t.arguments),I[vB]=t=>G2.FromTape(t.ID,t.type,t.arguments),I[EB]=t=>Z2.FromTape(t.ID,t.type,t.arguments),I[zB]=t=>X2.FromTape(t.ID,t.type,t.arguments),I[HB]=t=>T2.FromTape(t.ID,t.type,t.arguments),I[KB]=t=>R2.FromTape(t.ID,t.type,t.arguments),I[sT]=t=>I2.FromTape(t.ID,t.type,t.arguments),I[iT]=t=>g2.FromTape(t.ID,t.type,t.arguments),I[wB]=t=>W2.FromTape(t.ID,t.type,t.arguments),I[nT]=t=>L2.FromTape(t.ID,t.type,t.arguments),I[kB]=t=>S2.FromTape(t.ID,t.type,t.arguments),I[lT]=t=>C2.FromTape(t.ID,t.type,t.arguments),I[PB]=t=>f2.FromTape(t.ID,t.type,t.arguments),I[rT]=t=>V2.FromTape(t.ID,t.type,t.arguments),I[aT]=t=>x2.FromTape(t.ID,t.type,t.arguments),I[oT]=t=>N2.FromTape(t.ID,t.type,t.arguments),I[UB]=t=>F2.FromTape(t.ID,t.type,t.arguments),I[DB]=t=>M2.FromTape(t.ID,t.type,t.arguments),I[JB]=t=>Y2.FromTape(t.ID,t.type,t.arguments),I[cT]=t=>v2.FromTape(t.ID,t.type,t.arguments),I[OB]=t=>E2.FromTape(t.ID,t.type,t.arguments),I[hT]=t=>z2.FromTape(t.ID,t.type,t.arguments),I[BB]=t=>H2.FromTape(t.ID,t.type,t.arguments),I[AB]=t=>K2.FromTape(t.ID,t.type,t.arguments),I[dT]=t=>w2.FromTape(t.ID,t.type,t.arguments),I[jB]=t=>k2.FromTape(t.ID,t.type,t.arguments),I[uT]=t=>P2.FromTape(t.ID,t.type,t.arguments),I[QB]=t=>U2.FromTape(t.ID,t.type,t.arguments),I[pT]=t=>D2.FromTape(t.ID,t.type,t.arguments),I[_B]=t=>J2.FromTape(t.ID,t.type,t.arguments),I[mT]=t=>O2.FromTape(t.ID,t.type,t.arguments),I[qB]=t=>B2.FromTape(t.ID,t.type,t.arguments),I[bT]=t=>A2.FromTape(t.ID,t.type,t.arguments),I[$B]=t=>j2.FromTape(t.ID,t.type,t.arguments),I[yT]=t=>Q2.FromTape(t.ID,t.type,t.arguments),I[tA]=t=>_2.FromTape(t.ID,t.type,t.arguments),I[GT]=t=>q2.FromTape(t.ID,t.type,t.arguments),I[eA]=t=>$2.FromTape(t.ID,t.type,t.arguments),I[ZT]=t=>tS.FromTape(t.ID,t.type,t.arguments),I[sA]=t=>eS.FromTape(t.ID,t.type,t.arguments),I[XT]=t=>sS.FromTape(t.ID,t.type,t.arguments),I[iA]=t=>iS.FromTape(t.ID,t.type,t.arguments),I[TT]=t=>nS.FromTape(t.ID,t.type,t.arguments),I[nA]=t=>lS.FromTape(t.ID,t.type,t.arguments),I[RT]=t=>rS.FromTape(t.ID,t.type,t.arguments),I[lA]=t=>aS.FromTape(t.ID,t.type,t.arguments),I[IT]=t=>oS.FromTape(t.ID,t.type,t.arguments),I[rA]=t=>cS.FromTape(t.ID,t.type,t.arguments),I[gT]=t=>hS.FromTape(t.ID,t.type,t.arguments),I[aA]=t=>dS.FromTape(t.ID,t.type,t.arguments),I[oA]=t=>uS.FromTape(t.ID,t.type,t.arguments),I[cA]=t=>pS.FromTape(t.ID,t.type,t.arguments),I[hA]=t=>mS.FromTape(t.ID,t.type,t.arguments),I[dA]=t=>bS.FromTape(t.ID,t.type,t.arguments),I[uA]=t=>yS.FromTape(t.ID,t.type,t.arguments),I[WT]=t=>GS.FromTape(t.ID,t.type,t.arguments),I[pA]=t=>ZS.FromTape(t.ID,t.type,t.arguments),I[mA]=t=>XS.FromTape(t.ID,t.type,t.arguments),I[bA]=t=>TS.FromTape(t.ID,t.type,t.arguments),I[yA]=t=>RS.FromTape(t.ID,t.type,t.arguments),I[LT]=t=>IS.FromTape(t.ID,t.type,t.arguments),I[GA]=t=>gS.FromTape(t.ID,t.type,t.arguments),I[ST]=t=>WS.FromTape(t.ID,t.type,t.arguments),I[ZA]=t=>LS.FromTape(t.ID,t.type,t.arguments),I[XA]=t=>SS.FromTape(t.ID,t.type,t.arguments),I[TA]=t=>CS.FromTape(t.ID,t.type,t.arguments),I[RA]=t=>fS.FromTape(t.ID,t.type,t.arguments),I[IA]=t=>VS.FromTape(t.ID,t.type,t.arguments),I[gA]=t=>xS.FromTape(t.ID,t.type,t.arguments),I[WA]=t=>NS.FromTape(t.ID,t.type,t.arguments),I[LA]=t=>FS.FromTape(t.ID,t.type,t.arguments),I[SA]=t=>MS.FromTape(t.ID,t.type,t.arguments),I[CT]=t=>YS.FromTape(t.ID,t.type,t.arguments),I[CA]=t=>vS.FromTape(t.ID,t.type,t.arguments),I[fA]=t=>ES.FromTape(t.ID,t.type,t.arguments),I[VA]=t=>zS.FromTape(t.ID,t.type,t.arguments),I[xA]=t=>HS.FromTape(t.ID,t.type,t.arguments),I[NA]=t=>KS.FromTape(t.ID,t.type,t.arguments),I[fT]=t=>wS.FromTape(t.ID,t.type,t.arguments),I[FA]=t=>kS.FromTape(t.ID,t.type,t.arguments),I[MA]=t=>PS.FromTape(t.ID,t.type,t.arguments),I[YA]=t=>US.FromTape(t.ID,t.type,t.arguments),I[vA]=t=>DS.FromTape(t.ID,t.type,t.arguments),I[EA]=t=>JS.FromTape(t.ID,t.type,t.arguments),I[VT]=t=>OS.FromTape(t.ID,t.type,t.arguments),I[zA]=t=>BS.FromTape(t.ID,t.type,t.arguments),I[HA]=t=>AS.FromTape(t.ID,t.type,t.arguments),I[KA]=t=>jS.FromTape(t.ID,t.type,t.arguments),I[wA]=t=>QS.FromTape(t.ID,t.type,t.arguments),I[xT]=t=>_S.FromTape(t.ID,t.type,t.arguments),I[kA]=t=>qS.FromTape(t.ID,t.type,t.arguments),I[PA]=t=>$S.FromTape(t.ID,t.type,t.arguments),I[UA]=t=>tC.FromTape(t.ID,t.type,t.arguments),I[DA]=t=>eC.FromTape(t.ID,t.type,t.arguments),I[JA]=t=>sC.FromTape(t.ID,t.type,t.arguments),I[OA]=t=>iC.FromTape(t.ID,t.type,t.arguments),I[BA]=t=>nC.FromTape(t.ID,t.type,t.arguments),I[AA]=t=>lC.FromTape(t.ID,t.type,t.arguments),I[jA]=t=>rC.FromTape(t.ID,t.type,t.arguments),I[QA]=t=>aC.FromTape(t.ID,t.type,t.arguments),I[_A]=t=>oC.FromTape(t.ID,t.type,t.arguments),I[NT]=t=>cC.FromTape(t.ID,t.type,t.arguments),I[qA]=t=>hC.FromTape(t.ID,t.type,t.arguments),I[$A]=t=>dC.FromTape(t.ID,t.type,t.arguments),I[tj]=t=>uC.FromTape(t.ID,t.type,t.arguments),I[ej]=t=>pC.FromTape(t.ID,t.type,t.arguments),I[sj]=t=>mC.FromTape(t.ID,t.type,t.arguments),I[ij]=t=>bC.FromTape(t.ID,t.type,t.arguments),I[nj]=t=>yC.FromTape(t.ID,t.type,t.arguments),I[lj]=t=>GC.FromTape(t.ID,t.type,t.arguments),I[rj]=t=>ZC.FromTape(t.ID,t.type,t.arguments),I[aj]=t=>XC.FromTape(t.ID,t.type,t.arguments),I[oj]=t=>TC.FromTape(t.ID,t.type,t.arguments),I[cj]=t=>RC.FromTape(t.ID,t.type,t.arguments),I[hj]=t=>IC.FromTape(t.ID,t.type,t.arguments),I[dj]=t=>gC.FromTape(t.ID,t.type,t.arguments),I[uj]=t=>WC.FromTape(t.ID,t.type,t.arguments),I[pj]=t=>LC.FromTape(t.ID,t.type,t.arguments),I[mj]=t=>SC.FromTape(t.ID,t.type,t.arguments),I[bj]=t=>CC.FromTape(t.ID,t.type,t.arguments),I[yj]=t=>fC.FromTape(t.ID,t.type,t.arguments),I[Gj]=t=>VC.FromTape(t.ID,t.type,t.arguments),I[Zj]=t=>xC.FromTape(t.ID,t.type,t.arguments),I[Xj]=t=>NC.FromTape(t.ID,t.type,t.arguments),I[Tj]=t=>FC.FromTape(t.ID,t.type,t.arguments),I[Rj]=t=>MC.FromTape(t.ID,t.type,t.arguments),I[Ij]=t=>YC.FromTape(t.ID,t.type,t.arguments),I[FT]=t=>vC.FromTape(t.ID,t.type,t.arguments),I[gj]=t=>EC.FromTape(t.ID,t.type,t.arguments),I[MT]=t=>zC.FromTape(t.ID,t.type,t.arguments),I[Wj]=t=>HC.FromTape(t.ID,t.type,t.arguments),I[YT]=t=>KC.FromTape(t.ID,t.type,t.arguments),I[vT]=t=>wC.FromTape(t.ID,t.type,t.arguments),I[Lj]=t=>kC.FromTape(t.ID,t.type,t.arguments),I[Sj]=t=>PC.FromTape(t.ID,t.type,t.arguments),I[Cj]=t=>UC.FromTape(t.ID,t.type,t.arguments),I[fj]=t=>DC.FromTape(t.ID,t.type,t.arguments),I[ET]=t=>JC.FromTape(t.ID,t.type,t.arguments),I[Vj]=t=>OC.FromTape(t.ID,t.type,t.arguments),I[xj]=t=>BC.FromTape(t.ID,t.type,t.arguments),I[Nj]=t=>AC.FromTape(t.ID,t.type,t.arguments),I[Fj]=t=>jC.FromTape(t.ID,t.type,t.arguments),I[Mj]=t=>QC.FromTape(t.ID,t.type,t.arguments),I[Yj]=t=>_C.FromTape(t.ID,t.type,t.arguments),I[vj]=t=>qC.FromTape(t.ID,t.type,t.arguments),I[Ej]=t=>$C.FromTape(t.ID,t.type,t.arguments),I[zj]=t=>tf.FromTape(t.ID,t.type,t.arguments),I[Hj]=t=>ef.FromTape(t.ID,t.type,t.arguments),I[Kj]=t=>sf.FromTape(t.ID,t.type,t.arguments),I[wj]=t=>nf.FromTape(t.ID,t.type,t.arguments),I[$o]=t=>lf.FromTape(t.ID,t.type,t.arguments),I[zT]=t=>rf.FromTape(t.ID,t.type,t.arguments),I[kj]=t=>af.FromTape(t.ID,t.type,t.arguments),I[Pj]=t=>of.FromTape(t.ID,t.type,t.arguments),I[Uj]=t=>cf.FromTape(t.ID,t.type,t.arguments),I[Dj]=t=>hf.FromTape(t.ID,t.type,t.arguments),I[Jj]=t=>df.FromTape(t.ID,t.type,t.arguments),I[HT]=t=>uf.FromTape(t.ID,t.type,t.arguments),I[Oj]=t=>pf.FromTape(t.ID,t.type,t.arguments),I[Bj]=t=>mf.FromTape(t.ID,t.type,t.arguments),I[Aj]=t=>bf.FromTape(t.ID,t.type,t.arguments),I[jj]=t=>yf.FromTape(t.ID,t.type,t.arguments),I[Qj]=t=>Gf.FromTape(t.ID,t.type,t.arguments),I[_j]=t=>Zf.FromTape(t.ID,t.type,t.arguments),I[qj]=t=>Xf.FromTape(t.ID,t.type,t.arguments),I[$j]=t=>Tf.FromTape(t.ID,t.type,t.arguments),I[t4]=t=>Rf.FromTape(t.ID,t.type,t.arguments),I[e4]=t=>If.FromTape(t.ID,t.type,t.arguments),I[s4]=t=>gf.FromTape(t.ID,t.type,t.arguments),I[i4]=t=>Wf.FromTape(t.ID,t.type,t.arguments),I[n4]=t=>Lf.FromTape(t.ID,t.type,t.arguments),I[KT]=t=>Sf.FromTape(t.ID,t.type,t.arguments),I[l4]=t=>Cf.FromTape(t.ID,t.type,t.arguments),I[wT]=t=>ff.FromTape(t.ID,t.type,t.arguments),I[r4]=t=>Vf.FromTape(t.ID,t.type,t.arguments),I[kT]=t=>xf.FromTape(t.ID,t.type,t.arguments),I[a4]=t=>Nf.FromTape(t.ID,t.type,t.arguments),I[o4]=t=>Ff.FromTape(t.ID,t.type,t.arguments),I[c4]=t=>Mf.FromTape(t.ID,t.type,t.arguments),I[h4]=t=>Yf.FromTape(t.ID,t.type,t.arguments),I[d4]=t=>vf.FromTape(t.ID,t.type,t.arguments),I[u4]=t=>Ef.FromTape(t.ID,t.type,t.arguments),I[PT]=t=>zf.FromTape(t.ID,t.type,t.arguments),I[UT]=t=>Hf.FromTape(t.ID,t.type,t.arguments),I[p4]=t=>Kf.FromTape(t.ID,t.type,t.arguments),I[m4]=t=>wf.FromTape(t.ID,t.type,t.arguments),I[b4]=t=>kf.FromTape(t.ID,t.type,t.arguments),I[y4]=t=>Pf.FromTape(t.ID,t.type,t.arguments),I[G4]=t=>Uf.FromTape(t.ID,t.type,t.arguments),I[Z4]=t=>Df.FromTape(t.ID,t.type,t.arguments),I[X4]=t=>Jf.FromTape(t.ID,t.type,t.arguments),I[T4]=t=>Of.FromTape(t.ID,t.type,t.arguments),I[DT]=t=>Bf.FromTape(t.ID,t.type,t.arguments),I[JT]=t=>Af.FromTape(t.ID,t.type,t.arguments),I[R4]=t=>jf.FromTape(t.ID,t.type,t.arguments),I[I4]=t=>Qf.FromTape(t.ID,t.type,t.arguments),I[g4]=t=>_f.FromTape(t.ID,t.type,t.arguments),I[W4]=t=>qf.FromTape(t.ID,t.type,t.arguments),I[L4]=t=>$f.FromTape(t.ID,t.type,t.arguments),I[S4]=t=>t5.FromTape(t.ID,t.type,t.arguments),I[C4]=t=>e5.FromTape(t.ID,t.type,t.arguments),I[f4]=t=>s5.FromTape(t.ID,t.type,t.arguments),I[V4]=t=>i5.FromTape(t.ID,t.type,t.arguments),I[x4]=t=>n5.FromTape(t.ID,t.type,t.arguments),I[N4]=t=>l5.FromTape(t.ID,t.type,t.arguments),I[F4]=t=>r5.FromTape(t.ID,t.type,t.arguments),I[M4]=t=>a5.FromTape(t.ID,t.type,t.arguments),I[Y4]=t=>o5.FromTape(t.ID,t.type,t.arguments),I[v4]=t=>c5.FromTape(t.ID,t.type,t.arguments),I[E4]=t=>h5.FromTape(t.ID,t.type,t.arguments),I[OT]=t=>d5.FromTape(t.ID,t.type,t.arguments),I[z4]=t=>u5.FromTape(t.ID,t.type,t.arguments),I[H4]=t=>p5.FromTape(t.ID,t.type,t.arguments),I[K4]=t=>m5.FromTape(t.ID,t.type,t.arguments),I[_h]=t=>b5.FromTape(t.ID,t.type,t.arguments),I[w4]=t=>y5.FromTape(t.ID,t.type,t.arguments),I[k4]=t=>G5.FromTape(t.ID,t.type,t.arguments),I[P4]=t=>Z5.FromTape(t.ID,t.type,t.arguments),I[BT]=t=>X5.FromTape(t.ID,t.type,t.arguments),I[U4]=t=>T5.FromTape(t.ID,t.type,t.arguments),I[D4]=t=>R5.FromTape(t.ID,t.type,t.arguments),I[J4]=t=>I5.FromTape(t.ID,t.type,t.arguments),I[O4]=t=>g5.FromTape(t.ID,t.type,t.arguments),I[B4]=t=>W5.FromTape(t.ID,t.type,t.arguments),I[A4]=t=>L5.FromTape(t.ID,t.type,t.arguments),I[j4]=t=>S5.FromTape(t.ID,t.type,t.arguments),I[Q4]=t=>C5.FromTape(t.ID,t.type,t.arguments),I[_4]=t=>f5.FromTape(t.ID,t.type,t.arguments),I[q4]=t=>V5.FromTape(t.ID,t.type,t.arguments),I[$4]=t=>x5.FromTape(t.ID,t.type,t.arguments),I[tQ]=t=>N5.FromTape(t.ID,t.type,t.arguments),I[eQ]=t=>F5.FromTape(t.ID,t.type,t.arguments),I[sQ]=t=>M5.FromTape(t.ID,t.type,t.arguments),I[iQ]=t=>Y5.FromTape(t.ID,t.type,t.arguments),I[nQ]=t=>v5.FromTape(t.ID,t.type,t.arguments),I[AT]=t=>E5.FromTape(t.ID,t.type,t.arguments),I[jT]=t=>z5.FromTape(t.ID,t.type,t.arguments),I[lQ]=t=>H5.FromTape(t.ID,t.type,t.arguments),I[rQ]=t=>K5.FromTape(t.ID,t.type,t.arguments),I[QT]=t=>w5.FromTape(t.ID,t.type,t.arguments),I[_T]=t=>k5.FromTape(t.ID,t.type,t.arguments),I[aQ]=t=>P5.FromTape(t.ID,t.type,t.arguments),I[oQ]=t=>U5.FromTape(t.ID,t.type,t.arguments),I[cQ]=t=>D5.FromTape(t.ID,t.type,t.arguments),I[hQ]=t=>J5.FromTape(t.ID,t.type,t.arguments),I[dQ]=t=>O5.FromTape(t.ID,t.type,t.arguments),I[uQ]=t=>B5.FromTape(t.ID,t.type,t.arguments),I[pQ]=t=>A5.FromTape(t.ID,t.type,t.arguments),I[mQ]=t=>j5.FromTape(t.ID,t.type,t.arguments),I[qT]=t=>Q5.FromTape(t.ID,t.type,t.arguments),I[bQ]=t=>_5.FromTape(t.ID,t.type,t.arguments),I[$T]=t=>q5.FromTape(t.ID,t.type,t.arguments),I[tR]=t=>$5.FromTape(t.ID,t.type,t.arguments),I[yQ]=t=>tV.FromTape(t.ID,t.type,t.arguments),I[GQ]=t=>eV.FromTape(t.ID,t.type,t.arguments),I[ZQ]=t=>sV.FromTape(t.ID,t.type,t.arguments),I[XQ]=t=>iV.FromTape(t.ID,t.type,t.arguments),I[TQ]=t=>nV.FromTape(t.ID,t.type,t.arguments),I[RQ]=t=>lV.FromTape(t.ID,t.type,t.arguments),I[IQ]=t=>rV.FromTape(t.ID,t.type,t.arguments),I[gQ]=t=>aV.FromTape(t.ID,t.type,t.arguments),I[WQ]=t=>oV.FromTape(t.ID,t.type,t.arguments),I[LQ]=t=>cV.FromTape(t.ID,t.type,t.arguments),I[eR]=t=>hV.FromTape(t.ID,t.type,t.arguments),I[SQ]=t=>dV.FromTape(t.ID,t.type,t.arguments),I[CQ]=t=>uV.FromTape(t.ID,t.type,t.arguments),I[fQ]=t=>pV.FromTape(t.ID,t.type,t.arguments),I[sR]=t=>mV.FromTape(t.ID,t.type,t.arguments),I[VQ]=t=>bV.FromTape(t.ID,t.type,t.arguments),I[iR]=t=>yV.FromTape(t.ID,t.type,t.arguments),I[xQ]=t=>GV.FromTape(t.ID,t.type,t.arguments),I[nR]=t=>ZV.FromTape(t.ID,t.type,t.arguments),I[NQ]=t=>XV.FromTape(t.ID,t.type,t.arguments),I[Kp]=t=>TV.FromTape(t.ID,t.type,t.arguments),I[FQ]=t=>RV.FromTape(t.ID,t.type,t.arguments),I[MQ]=t=>IV.FromTape(t.ID,t.type,t.arguments),I[YQ]=t=>gV.FromTape(t.ID,t.type,t.arguments),I[vQ]=t=>WV.FromTape(t.ID,t.type,t.arguments),I[EQ]=t=>LV.FromTape(t.ID,t.type,t.arguments),I[zQ]=t=>SV.FromTape(t.ID,t.type,t.arguments),I[HQ]=t=>CV.FromTape(t.ID,t.type,t.arguments),I[KQ]=t=>fV.FromTape(t.ID,t.type,t.arguments),I[wQ]=t=>VV.FromTape(t.ID,t.type,t.arguments),I[kQ]=t=>xV.FromTape(t.ID,t.type,t.arguments),I[PQ]=t=>NV.FromTape(t.ID,t.type,t.arguments),I[UQ]=t=>FV.FromTape(t.ID,t.type,t.arguments),I[DQ]=t=>MV.FromTape(t.ID,t.type,t.arguments),I[JQ]=t=>YV.FromTape(t.ID,t.type,t.arguments),I[wp]=t=>vV.FromTape(t.ID,t.type,t.arguments),I[OQ]=t=>EV.FromTape(t.ID,t.type,t.arguments),I[BQ]=t=>zV.FromTape(t.ID,t.type,t.arguments),I[AQ]=t=>HV.FromTape(t.ID,t.type,t.arguments),I[jQ]=t=>KV.FromTape(t.ID,t.type,t.arguments),I[QQ]=t=>wV.FromTape(t.ID,t.type,t.arguments),I[_Q]=t=>kV.FromTape(t.ID,t.type,t.arguments),I[qQ]=t=>PV.FromTape(t.ID,t.type,t.arguments),I[$Q]=t=>UV.FromTape(t.ID,t.type,t.arguments),I[t_]=t=>DV.FromTape(t.ID,t.type,t.arguments),I[kp]=t=>JV.FromTape(t.ID,t.type,t.arguments),I[e_]=t=>OV.FromTape(t.ID,t.type,t.arguments),I[s_]=t=>BV.FromTape(t.ID,t.type,t.arguments),I[i_]=t=>AV.FromTape(t.ID,t.type,t.arguments),I[n_]=t=>jV.FromTape(t.ID,t.type,t.arguments),I[l_]=t=>QV.FromTape(t.ID,t.type,t.arguments),I[r_]=t=>_V.FromTape(t.ID,t.type,t.arguments),I[Pp]=t=>qV.FromTape(t.ID,t.type,t.arguments),I[a_]=t=>$V.FromTape(t.ID,t.type,t.arguments),I[Up]=t=>tx.FromTape(t.ID,t.type,t.arguments),I[o_]=t=>ex.FromTape(t.ID,t.type,t.arguments),I[c_]=t=>sx.FromTape(t.ID,t.type,t.arguments),I[h_]=t=>ix.FromTape(t.ID,t.type,t.arguments),I[d_]=t=>nx.FromTape(t.ID,t.type,t.arguments),I[u_]=t=>lx.FromTape(t.ID,t.type,t.arguments),I[p_]=t=>rx.FromTape(t.ID,t.type,t.arguments),I[m_]=t=>ax.FromTape(t.ID,t.type,t.arguments),I[b_]=t=>ox.FromTape(t.ID,t.type,t.arguments),I[y_]=t=>cx.FromTape(t.ID,t.type,t.arguments),I[G_]=t=>hx.FromTape(t.ID,t.type,t.arguments),I[Z_]=t=>dx.FromTape(t.ID,t.type,t.arguments),I[X_]=t=>ux.FromTape(t.ID,t.type,t.arguments),I[T_]=t=>px.FromTape(t.ID,t.type,t.arguments),I[R_]=t=>mx.FromTape(t.ID,t.type,t.arguments),I[I_]=t=>bx.FromTape(t.ID,t.type,t.arguments),I[g_]=t=>yx.FromTape(t.ID,t.type,t.arguments),I[W_]=t=>Gx.FromTape(t.ID,t.type,t.arguments),I[L_]=t=>Zx.FromTape(t.ID,t.type,t.arguments),I[S_]=t=>Xx.FromTape(t.ID,t.type,t.arguments),I[C_]=t=>Tx.FromTape(t.ID,t.type,t.arguments),I[f_]=t=>Rx.FromTape(t.ID,t.type,t.arguments),I[V_]=t=>Ix.FromTape(t.ID,t.type,t.arguments),I[x_]=t=>gx.FromTape(t.ID,t.type,t.arguments),I[N_]=t=>Wx.FromTape(t.ID,t.type,t.arguments),I[F_]=t=>Lx.FromTape(t.ID,t.type,t.arguments),I[M_]=t=>Sx.FromTape(t.ID,t.type,t.arguments),I[Y_]=t=>Cx.FromTape(t.ID,t.type,t.arguments),I[v_]=t=>fx.FromTape(t.ID,t.type,t.arguments),I[lR]=t=>Vx.FromTape(t.ID,t.type,t.arguments),I[E_]=t=>xx.FromTape(t.ID,t.type,t.arguments),I[z_]=t=>Nx.FromTape(t.ID,t.type,t.arguments),I[H_]=t=>Fx.FromTape(t.ID,t.type,t.arguments),I[K_]=t=>Mx.FromTape(t.ID,t.type,t.arguments),I[rR]=t=>Yx.FromTape(t.ID,t.type,t.arguments),I[w_]=t=>vx.FromTape(t.ID,t.type,t.arguments),I[k_]=t=>Ex.FromTape(t.ID,t.type,t.arguments),I[P_]=t=>zx.FromTape(t.ID,t.type,t.arguments),I[U_]=t=>Hx.FromTape(t.ID,t.type,t.arguments),I[D_]=t=>Kx.FromTape(t.ID,t.type,t.arguments),I[J_]=t=>wx.FromTape(t.ID,t.type,t.arguments),I[O_]=t=>kx.FromTape(t.ID,t.type,t.arguments),I[B_]=t=>Px.FromTape(t.ID,t.type,t.arguments),I[aR]=t=>Ux.FromTape(t.ID,t.type,t.arguments),I[A_]=t=>Dx.FromTape(t.ID,t.type,t.arguments),I[oR]=t=>Jx.FromTape(t.ID,t.type,t.arguments),I[j_]=t=>Ox.FromTape(t.ID,t.type,t.arguments),I[Q_]=t=>Bx.FromTape(t.ID,t.type,t.arguments),I[__]=t=>Ax.FromTape(t.ID,t.type,t.arguments),I[q_]=t=>jx.FromTape(t.ID,t.type,t.arguments),I[$_]=t=>Qx.FromTape(t.ID,t.type,t.arguments),I[t7]=t=>_x.FromTape(t.ID,t.type,t.arguments),I[e7]=t=>qx.FromTape(t.ID,t.type,t.arguments),I[cR]=t=>$x.FromTape(t.ID,t.type,t.arguments),I[hR]=t=>tN.FromTape(t.ID,t.type,t.arguments),I[dR]=t=>eN.FromTape(t.ID,t.type,t.arguments),I[uR]=t=>sN.FromTape(t.ID,t.type,t.arguments),I[s7]=t=>iN.FromTape(t.ID,t.type,t.arguments),I[i7]=t=>nN.FromTape(t.ID,t.type,t.arguments),I[pR]=t=>lN.FromTape(t.ID,t.type,t.arguments),I[n7]=t=>rN.FromTape(t.ID,t.type,t.arguments),I[l7]=t=>aN.FromTape(t.ID,t.type,t.arguments),I[tc]=t=>oN.FromTape(t.ID,t.type,t.arguments),I[mR]=t=>cN.FromTape(t.ID,t.type,t.arguments),I[r7]=t=>hN.FromTape(t.ID,t.type,t.arguments),I[a7]=t=>dN.FromTape(t.ID,t.type,t.arguments),I[bR]=t=>uN.FromTape(t.ID,t.type,t.arguments),I[o7]=t=>pN.FromTape(t.ID,t.type,t.arguments),I[yR]=t=>mN.FromTape(t.ID,t.type,t.arguments),I[c7]=t=>bN.FromTape(t.ID,t.type,t.arguments),I[GR]=t=>yN.FromTape(t.ID,t.type,t.arguments),I[h7]=t=>GN.FromTape(t.ID,t.type,t.arguments),I[d7]=t=>ZN.FromTape(t.ID,t.type,t.arguments),I[u7]=t=>XN.FromTape(t.ID,t.type,t.arguments),I[ZR]=t=>TN.FromTape(t.ID,t.type,t.arguments),I[p7]=t=>RN.FromTape(t.ID,t.type,t.arguments),I[XR]=t=>IN.FromTape(t.ID,t.type,t.arguments),I[TR]=t=>gN.FromTape(t.ID,t.type,t.arguments),I[m7]=t=>WN.FromTape(t.ID,t.type,t.arguments),I[b7]=t=>LN.FromTape(t.ID,t.type,t.arguments),I[RR]=t=>SN.FromTape(t.ID,t.type,t.arguments),I[IR]=t=>CN.FromTape(t.ID,t.type,t.arguments),I[y7]=t=>fN.FromTape(t.ID,t.type,t.arguments),I[gR]=t=>VN.FromTape(t.ID,t.type,t.arguments),I[G7]=t=>xN.FromTape(t.ID,t.type,t.arguments),I[WR]=t=>NN.FromTape(t.ID,t.type,t.arguments),I[LR]=t=>FN.FromTape(t.ID,t.type,t.arguments),I[SR]=t=>MN.FromTape(t.ID,t.type,t.arguments),I[CR]=t=>YN.FromTape(t.ID,t.type,t.arguments),I[fR]=t=>vN.FromTape(t.ID,t.type,t.arguments),I[VR]=t=>EN.FromTape(t.ID,t.type,t.arguments),I[xR]=t=>zN.FromTape(t.ID,t.type,t.arguments),I[Z7]=t=>HN.FromTape(t.ID,t.type,t.arguments),I[X7]=t=>KN.FromTape(t.ID,t.type,t.arguments),I[T7]=t=>wN.FromTape(t.ID,t.type,t.arguments),I[R7]=t=>kN.FromTape(t.ID,t.type,t.arguments),I[I7]=t=>PN.FromTape(t.ID,t.type,t.arguments),I[g7]=t=>UN.FromTape(t.ID,t.type,t.arguments),I[W7]=t=>DN.FromTape(t.ID,t.type,t.arguments),I[L7]=t=>JN.FromTape(t.ID,t.type,t.arguments),I[S7]=t=>ON.FromTape(t.ID,t.type,t.arguments),I[C7]=t=>BN.FromTape(t.ID,t.type,t.arguments),I[f7]=t=>AN.FromTape(t.ID,t.type,t.arguments),I[V7]=t=>jN.FromTape(t.ID,t.type,t.arguments),I[x7]=t=>QN.FromTape(t.ID,t.type,t.arguments),I[NR]=t=>_N.FromTape(t.ID,t.type,t.arguments),I[FR]=t=>qN.FromTape(t.ID,t.type,t.arguments),I[MR]=t=>$N.FromTape(t.ID,t.type,t.arguments),I[YR]=t=>t9.FromTape(t.ID,t.type,t.arguments),I[vR]=t=>e9.FromTape(t.ID,t.type,t.arguments),I[ER]=t=>s9.FromTape(t.ID,t.type,t.arguments),I[N7]=t=>i9.FromTape(t.ID,t.type,t.arguments),I[zR]=t=>n9.FromTape(t.ID,t.type,t.arguments),I[HR]=t=>l9.FromTape(t.ID,t.type,t.arguments),I[KR]=t=>r9.FromTape(t.ID,t.type,t.arguments),I[wR]=t=>a9.FromTape(t.ID,t.type,t.arguments),I[kR]=t=>o9.FromTape(t.ID,t.type,t.arguments),I[F7]=t=>c9.FromTape(t.ID,t.type,t.arguments),I[M7]=t=>h9.FromTape(t.ID,t.type,t.arguments),I[Y7]=t=>d9.FromTape(t.ID,t.type,t.arguments),I[v7]=t=>u9.FromTape(t.ID,t.type,t.arguments),I[E7]=t=>p9.FromTape(t.ID,t.type,t.arguments),I[z7]=t=>m9.FromTape(t.ID,t.type,t.arguments),I[H7]=t=>b9.FromTape(t.ID,t.type,t.arguments),I[K7]=t=>y9.FromTape(t.ID,t.type,t.arguments),I[w7]=t=>G9.FromTape(t.ID,t.type,t.arguments),I[PR]=t=>Z9.FromTape(t.ID,t.type,t.arguments),I[k7]=t=>X9.FromTape(t.ID,t.type,t.arguments),I[P7]=t=>T9.FromTape(t.ID,t.type,t.arguments),I[U7]=t=>R9.FromTape(t.ID,t.type,t.arguments),I[D7]=t=>I9.FromTape(t.ID,t.type,t.arguments),I[J7]=t=>g9.FromTape(t.ID,t.type,t.arguments),I[O7]=t=>W9.FromTape(t.ID,t.type,t.arguments),I[B7]=t=>L9.FromTape(t.ID,t.type,t.arguments),I[A7]=t=>S9.FromTape(t.ID,t.type,t.arguments),I[j7]=t=>C9.FromTape(t.ID,t.type,t.arguments),I[Q7]=t=>f9.FromTape(t.ID,t.type,t.arguments),I[_7]=t=>V9.FromTape(t.ID,t.type,t.arguments),I[q7]=t=>x9.FromTape(t.ID,t.type,t.arguments),I[$7]=t=>N9.FromTape(t.ID,t.type,t.arguments),I[t8]=t=>F9.FromTape(t.ID,t.type,t.arguments),I[UR]=t=>M9.FromTape(t.ID,t.type,t.arguments),I[e8]=t=>Y9.FromTape(t.ID,t.type,t.arguments),I[s8]=t=>v9.FromTape(t.ID,t.type,t.arguments),I[DR]=t=>E9.FromTape(t.ID,t.type,t.arguments),I[i8]=t=>z9.FromTape(t.ID,t.type,t.arguments),I[n8]=t=>H9.FromTape(t.ID,t.type,t.arguments),I[l8]=t=>K9.FromTape(t.ID,t.type,t.arguments),I[r8]=t=>w9.FromTape(t.ID,t.type,t.arguments),I[a8]=t=>k9.FromTape(t.ID,t.type,t.arguments),I[JR]=t=>P9.FromTape(t.ID,t.type,t.arguments),I[o8]=t=>U9.FromTape(t.ID,t.type,t.arguments),I[c8]=t=>D9.FromTape(t.ID,t.type,t.arguments),I[h8]=t=>J9.FromTape(t.ID,t.type,t.arguments),I[d8]=t=>O9.FromTape(t.ID,t.type,t.arguments),I[u8]=t=>B9.FromTape(t.ID,t.type,t.arguments),I[p8]=t=>A9.FromTape(t.ID,t.type,t.arguments),I[OR]=t=>j9.FromTape(t.ID,t.type,t.arguments),I[BR]=t=>Q9.FromTape(t.ID,t.type,t.arguments),I[m8]=t=>_9.FromTape(t.ID,t.type,t.arguments),I[AR]=t=>q9.FromTape(t.ID,t.type,t.arguments),I[b8]=t=>$9.FromTape(t.ID,t.type,t.arguments),I[y8]=t=>tF.FromTape(t.ID,t.type,t.arguments),I[G8]=t=>eF.FromTape(t.ID,t.type,t.arguments),I[Z8]=t=>sF.FromTape(t.ID,t.type,t.arguments),I[X8]=t=>iF.FromTape(t.ID,t.type,t.arguments),I[T8]=t=>nF.FromTape(t.ID,t.type,t.arguments),I[R8]=t=>lF.FromTape(t.ID,t.type,t.arguments),I[I8]=t=>rF.FromTape(t.ID,t.type,t.arguments),I[g8]=t=>aF.FromTape(t.ID,t.type,t.arguments),I[W8]=t=>oF.FromTape(t.ID,t.type,t.arguments),I[L8]=t=>cF.FromTape(t.ID,t.type,t.arguments),I[S8]=t=>hF.FromTape(t.ID,t.type,t.arguments),I[C8]=t=>dF.FromTape(t.ID,t.type,t.arguments),I[f8]=t=>uF.FromTape(t.ID,t.type,t.arguments),I[V8]=t=>pF.FromTape(t.ID,t.type,t.arguments),I[x8]=t=>mF.FromTape(t.ID,t.type,t.arguments),I[N8]=t=>bF.FromTape(t.ID,t.type,t.arguments),I[F8]=t=>yF.FromTape(t.ID,t.type,t.arguments),I[M8]=t=>GF.FromTape(t.ID,t.type,t.arguments),I[Y8]=t=>ZF.FromTape(t.ID,t.type,t.arguments),I[v8]=t=>XF.FromTape(t.ID,t.type,t.arguments),I[jR]=t=>TF.FromTape(t.ID,t.type,t.arguments),I[E8]=t=>RF.FromTape(t.ID,t.type,t.arguments),I[z8]=t=>IF.FromTape(t.ID,t.type,t.arguments),I[QR]=t=>gF.FromTape(t.ID,t.type,t.arguments),I[H8]=t=>WF.FromTape(t.ID,t.type,t.arguments),I[K8]=t=>LF.FromTape(t.ID,t.type,t.arguments),I[w8]=t=>SF.FromTape(t.ID,t.type,t.arguments),I[k8]=t=>CF.FromTape(t.ID,t.type,t.arguments),I[P8]=t=>fF.FromTape(t.ID,t.type,t.arguments),I[_R]=t=>VF.FromTape(t.ID,t.type,t.arguments),I[U8]=t=>xF.FromTape(t.ID,t.type,t.arguments),I[D8]=t=>NF.FromTape(t.ID,t.type,t.arguments),I[J8]=t=>FF.FromTape(t.ID,t.type,t.arguments),I[O8]=t=>MF.FromTape(t.ID,t.type,t.arguments),I[B8]=t=>YF.FromTape(t.ID,t.type,t.arguments),I[A8]=t=>vF.FromTape(t.ID,t.type,t.arguments),I[j8]=t=>EF.FromTape(t.ID,t.type,t.arguments),I[qR]=t=>zF.FromTape(t.ID,t.type,t.arguments),I[Q8]=t=>HF.FromTape(t.ID,t.type,t.arguments),I[$R]=t=>KF.FromTape(t.ID,t.type,t.arguments),I[_8]=t=>wF.FromTape(t.ID,t.type,t.arguments),I[tI]=t=>kF.FromTape(t.ID,t.type,t.arguments),I[q8]=t=>PF.FromTape(t.ID,t.type,t.arguments),I[$8]=t=>UF.FromTape(t.ID,t.type,t.arguments),I[t6]=t=>DF.FromTape(t.ID,t.type,t.arguments),I[e6]=t=>JF.FromTape(t.ID,t.type,t.arguments),I[s6]=t=>OF.FromTape(t.ID,t.type,t.arguments),I[eI]=t=>BF.FromTape(t.ID,t.type,t.arguments),I[i6]=t=>AF.FromTape(t.ID,t.type,t.arguments),I[sI]=t=>jF.FromTape(t.ID,t.type,t.arguments),I[n6]=t=>QF.FromTape(t.ID,t.type,t.arguments),I[iI]=t=>_F.FromTape(t.ID,t.type,t.arguments),I[l6]=t=>qF.FromTape(t.ID,t.type,t.arguments),I[nI]=t=>$F.FromTape(t.ID,t.type,t.arguments),I[lI]=t=>tM.FromTape(t.ID,t.type,t.arguments),I[rI]=t=>eM.FromTape(t.ID,t.type,t.arguments),I[aI]=t=>sM.FromTape(t.ID,t.type,t.arguments),I[r6]=t=>iM.FromTape(t.ID,t.type,t.arguments),I[oI]=t=>nM.FromTape(t.ID,t.type,t.arguments),I[a6]=t=>lM.FromTape(t.ID,t.type,t.arguments),I[cI]=t=>rM.FromTape(t.ID,t.type,t.arguments),I[o6]=t=>aM.FromTape(t.ID,t.type,t.arguments),I[c6]=t=>oM.FromTape(t.ID,t.type,t.arguments),I[hI]=t=>cM.FromTape(t.ID,t.type,t.arguments),I[h6]=t=>hM.FromTape(t.ID,t.type,t.arguments),I[d6]=t=>dM.FromTape(t.ID,t.type,t.arguments),I[u6]=t=>uM.FromTape(t.ID,t.type,t.arguments),I[p6]=t=>pM.FromTape(t.ID,t.type,t.arguments),I[m6]=t=>mM.FromTape(t.ID,t.type,t.arguments),I[b6]=t=>bM.FromTape(t.ID,t.type,t.arguments),I[y6]=t=>yM.FromTape(t.ID,t.type,t.arguments),I[G6]=t=>GM.FromTape(t.ID,t.type,t.arguments),I[Z6]=t=>ZM.FromTape(t.ID,t.type,t.arguments);var uI=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.Identification=a,this.PredefinedType=o,this.Status=c,this.LongDescription=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new uI(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.Identification),t.push(this.PredefinedType),t.push(this.Status),t.push(this.LongDescription),t}},pI=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.TheActor=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new pI(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.TheActor),t}},mI=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.Role=e,this.UserDefinedRole=s,this.Description=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new mI(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.Role),t.push(this.UserDefinedRole),t.push(this.Description),t}},bI=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new bI(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},yI=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new yI(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},GI=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.Purpose=e,this.Description=s,this.UserDefinedPurpose=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new GI(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.Purpose),t.push(this.Description),t.push(this.UserDefinedPurpose),t}},ZI=class{constructor(t,i,e){this.expressID=t,this.type=i,this.Outer=e}static FromTape(t,i,e){let s=0,n=e[s++];return new ZI(t,i,n)}ToTape(){let t=[];return t.push(this.Outer),t}},XI=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.Outer=e,this.Voids=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new XI(t,i,n,l)}ToTape(){let t=[];return t.push(this.Outer),t.push(this.Voids),t}},TI=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.Bounds=e,this.FaceSurface=s,this.SameSense=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new TI(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.Bounds),t.push(this.FaceSurface),t.push(this.SameSense),t}},RI=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new RI(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},II=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new II(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},gI=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new gI(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},WI=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new WI(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},LI=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new LI(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},SI=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new SI(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},CI=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new CI(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},fI=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new fI(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},VI=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Axis=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new VI(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Axis),t.push(this.PredefinedType),t}},xI=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.StartDistAlong=e,this.Segments=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new xI(t,i,n,l)}ToTape(){let t=[];return t.push(this.StartDistAlong),t.push(this.Segments),t}},NI=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.TangentialContinuity=e,this.StartTag=s,this.EndTag=n,this.CurveGeometry=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new NI(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.TangentialContinuity),t.push(this.StartTag),t.push(this.EndTag),t.push(this.CurveGeometry),t}},FI=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.TangentialContinuity=e,this.StartTag=s,this.EndTag=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new FI(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.TangentialContinuity),t.push(this.StartTag),t.push(this.EndTag),t}},MI=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.TangentialContinuity=e,this.StartTag=s,this.EndTag=n,this.StartDistAlong=l,this.HorizontalLength=r,this.StartHeight=a,this.StartGradient=o,this.Radius=c,this.IsConvex=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new MI(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.TangentialContinuity),t.push(this.StartTag),t.push(this.EndTag),t.push(this.StartDistAlong),t.push(this.HorizontalLength),t.push(this.StartHeight),t.push(this.StartGradient),t.push(this.Radius),t.push(this.IsConvex),t}},YI=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.TangentialContinuity=e,this.StartTag=s,this.EndTag=n,this.StartDistAlong=l,this.HorizontalLength=r,this.StartHeight=a,this.StartGradient=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new YI(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.TangentialContinuity),t.push(this.StartTag),t.push(this.EndTag),t.push(this.StartDistAlong),t.push(this.HorizontalLength),t.push(this.StartHeight),t.push(this.StartGradient),t}},vI=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.TangentialContinuity=e,this.StartTag=s,this.EndTag=n,this.StartDistAlong=l,this.HorizontalLength=r,this.StartHeight=a,this.StartGradient=o,this.ParabolaConstant=c,this.IsConvex=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new vI(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.TangentialContinuity),t.push(this.StartTag),t.push(this.EndTag),t.push(this.StartDistAlong),t.push(this.HorizontalLength),t.push(this.StartHeight),t.push(this.StartGradient),t.push(this.ParabolaConstant),t.push(this.IsConvex),t}},EI=class{constructor(t,i,e){this.expressID=t,this.type=i,this.Segments=e}static FromTape(t,i,e){let s=0,n=e[s++];return new EI(t,i,n)}ToTape(){let t=[];return t.push(this.Segments),t}},zI=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.TangentialContinuity=e,this.StartTag=s,this.EndTag=n,this.StartDistAlong=l,this.HorizontalLength=r,this.StartHeight=a,this.StartGradient=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new zI(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.TangentialContinuity),t.push(this.StartTag),t.push(this.EndTag),t.push(this.StartDistAlong),t.push(this.HorizontalLength),t.push(this.StartHeight),t.push(this.StartGradient),t}},HI=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.Horizontal=e,this.Vertical=s,this.Tag=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new HI(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.Horizontal),t.push(this.Vertical),t.push(this.Tag),t}},KI=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new KI(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t}},wI=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.OuterBoundary=e,this.InnerBoundaries=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new wI(t,i,n,l)}ToTape(){let t=[];return t.push(this.OuterBoundary),t.push(this.InnerBoundaries),t}},kI=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.ApplicationDeveloper=e,this.Version=s,this.ApplicationFullName=n,this.ApplicationIdentifier=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new kI(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.ApplicationDeveloper),t.push(this.Version),t.push(this.ApplicationFullName),t.push(this.ApplicationIdentifier),t}},PI=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.AppliedValue=n,this.UnitBasis=l,this.ApplicableDate=r,this.FixedUntilDate=a,this.Category=o,this.Condition=c,this.ArithmeticOperator=h,this.Components=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new PI(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.AppliedValue),t.push(this.UnitBasis),t.push(this.ApplicableDate),t.push(this.FixedUntilDate),t.push(this.Category),t.push(this.Condition),t.push(this.ArithmeticOperator),t.push(this.Components),t}},UI=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.Identifier=e,this.Name=s,this.Description=n,this.TimeOfApproval=l,this.Status=r,this.Level=a,this.Qualifier=o,this.RequestingApproval=c,this.GivingApproval=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new UI(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.Identifier),t.push(this.Name),t.push(this.Description),t.push(this.TimeOfApproval),t.push(this.Status),t.push(this.Level),t.push(this.Qualifier),t.push(this.RequestingApproval),t.push(this.GivingApproval),t}},DI=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.RelatingApproval=n,this.RelatedApprovals=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new DI(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.RelatingApproval),t.push(this.RelatedApprovals),t}},JI=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.ProfileType=e,this.ProfileName=s,this.OuterCurve=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new JI(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.ProfileType),t.push(this.ProfileName),t.push(this.OuterCurve),t}},OI=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.ProfileType=e,this.ProfileName=s,this.Curve=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new OI(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.ProfileType),t.push(this.ProfileName),t.push(this.Curve),t}},BI=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.ProfileType=e,this.ProfileName=s,this.OuterCurve=n,this.InnerCurves=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new BI(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.ProfileType),t.push(this.ProfileName),t.push(this.OuterCurve),t.push(this.InnerCurves),t}},AI=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p,Z,X){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.Identification=a,this.OriginalValue=o,this.CurrentValue=c,this.TotalReplacementCost=h,this.Owner=d,this.User=u,this.ResponsiblePerson=p,this.IncorporationDate=Z,this.DepreciatedValue=X}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++],R=e[s++],W=e[s++];return new AI(t,i,n,l,r,a,o,c,h,d,u,p,Z,X,R,W)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.Identification),t.push(this.OriginalValue),t.push(this.CurrentValue),t.push(this.TotalReplacementCost),t.push(this.Owner),t.push(this.User),t.push(this.ResponsiblePerson),t.push(this.IncorporationDate),t.push(this.DepreciatedValue),t}},jI=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p,Z,X,R){this.expressID=t,this.type=i,this.ProfileType=e,this.ProfileName=s,this.Position=n,this.BottomFlangeWidth=l,this.OverallDepth=r,this.WebThickness=a,this.BottomFlangeThickness=o,this.BottomFlangeFilletRadius=c,this.TopFlangeWidth=h,this.TopFlangeThickness=d,this.TopFlangeFilletRadius=u,this.BottomFlangeEdgeRadius=p,this.BottomFlangeSlope=Z,this.TopFlangeEdgeRadius=X,this.TopFlangeSlope=R}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++],R=e[s++],W=e[s++],S=e[s++];return new jI(t,i,n,l,r,a,o,c,h,d,u,p,Z,X,R,W,S)}ToTape(){let t=[];return t.push(this.ProfileType),t.push(this.ProfileName),t.push(this.Position),t.push(this.BottomFlangeWidth),t.push(this.OverallDepth),t.push(this.WebThickness),t.push(this.BottomFlangeThickness),t.push(this.BottomFlangeFilletRadius),t.push(this.TopFlangeWidth),t.push(this.TopFlangeThickness),t.push(this.TopFlangeFilletRadius),t.push(this.BottomFlangeEdgeRadius),t.push(this.BottomFlangeSlope),t.push(this.TopFlangeEdgeRadius),t.push(this.TopFlangeSlope),t}},QI=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new QI(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},_I=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new _I(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},qI=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.Location=e,this.Axis=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new qI(t,i,n,l)}ToTape(){let t=[];return t.push(this.Location),t.push(this.Axis),t}},$I=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.Location=e,this.RefDirection=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new $I(t,i,n,l)}ToTape(){let t=[];return t.push(this.Location),t.push(this.RefDirection),t}},tg=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.Location=e,this.Axis=s,this.RefDirection=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new tg(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.Location),t.push(this.Axis),t.push(this.RefDirection),t}},eg=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.Degree=e,this.ControlPointsList=s,this.CurveForm=n,this.ClosedCurve=l,this.SelfIntersect=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new eg(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.Degree),t.push(this.ControlPointsList),t.push(this.CurveForm),t.push(this.ClosedCurve),t.push(this.SelfIntersect),t}},sg=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.Degree=e,this.ControlPointsList=s,this.CurveForm=n,this.ClosedCurve=l,this.SelfIntersect=r,this.KnotMultiplicities=a,this.Knots=o,this.KnotSpec=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new sg(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.Degree),t.push(this.ControlPointsList),t.push(this.CurveForm),t.push(this.ClosedCurve),t.push(this.SelfIntersect),t.push(this.KnotMultiplicities),t.push(this.Knots),t.push(this.KnotSpec),t}},ig=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.UDegree=e,this.VDegree=s,this.ControlPointsList=n,this.SurfaceForm=l,this.UClosed=r,this.VClosed=a,this.SelfIntersect=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new ig(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.UDegree),t.push(this.VDegree),t.push(this.ControlPointsList),t.push(this.SurfaceForm),t.push(this.UClosed),t.push(this.VClosed),t.push(this.SelfIntersect),t}},ng=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p){this.expressID=t,this.type=i,this.UDegree=e,this.VDegree=s,this.ControlPointsList=n,this.SurfaceForm=l,this.UClosed=r,this.VClosed=a,this.SelfIntersect=o,this.UMultiplicities=c,this.VMultiplicities=h,this.UKnots=d,this.VKnots=u,this.KnotSpec=p}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++];return new ng(t,i,n,l,r,a,o,c,h,d,u,p,Z,X)}ToTape(){let t=[];return t.push(this.UDegree),t.push(this.VDegree),t.push(this.ControlPointsList),t.push(this.SurfaceForm),t.push(this.UClosed),t.push(this.VClosed),t.push(this.SelfIntersect),t.push(this.UMultiplicities),t.push(this.VMultiplicities),t.push(this.UKnots),t.push(this.VKnots),t.push(this.KnotSpec),t}},lg=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new lg(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},rg=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new rg(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},ag=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new ag(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},og=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new og(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},cg=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new cg(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},hg=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.RepeatS=e,this.RepeatT=s,this.Mode=n,this.TextureTransform=l,this.Parameter=r,this.RasterFormat=a,this.RasterCode=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new hg(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.RepeatS),t.push(this.RepeatT),t.push(this.Mode),t.push(this.TextureTransform),t.push(this.Parameter),t.push(this.RasterFormat),t.push(this.RasterCode),t}},dg=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.Position=e,this.XLength=s,this.YLength=n,this.ZLength=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new dg(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.Position),t.push(this.XLength),t.push(this.YLength),t.push(this.ZLength),t}},ug=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new ug(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},pg=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new pg(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},mg=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.Operator=e,this.FirstOperand=s,this.SecondOperand=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new mg(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.Operator),t.push(this.FirstOperand),t.push(this.SecondOperand),t}},bg=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.Operator=e,this.FirstOperand=s,this.SecondOperand=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new bg(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.Operator),t.push(this.FirstOperand),t.push(this.SecondOperand),t}},yg=class{constructor(t,i,e){this.expressID=t,this.type=i,this.Name=e}static FromTape(t,i,e){let s=0,n=e[s++];return new yg(t,i,n)}ToTape(){let t=[];return t.push(this.Name),t}},Gg=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.Segments=e,this.SelfIntersect=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new Gg(t,i,n,l)}ToTape(){let t=[];return t.push(this.Segments),t.push(this.SelfIntersect),t}},Zg=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.Name=e,this.TranslationalStiffnessByLengthX=s,this.TranslationalStiffnessByLengthY=n,this.TranslationalStiffnessByLengthZ=l,this.RotationalStiffnessByLengthX=r,this.RotationalStiffnessByLengthY=a,this.RotationalStiffnessByLengthZ=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new Zg(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.Name),t.push(this.TranslationalStiffnessByLengthX),t.push(this.TranslationalStiffnessByLengthY),t.push(this.TranslationalStiffnessByLengthZ),t.push(this.RotationalStiffnessByLengthX),t.push(this.RotationalStiffnessByLengthY),t.push(this.RotationalStiffnessByLengthZ),t}},Xg=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.Name=e,this.TranslationalStiffnessByAreaX=s,this.TranslationalStiffnessByAreaY=n,this.TranslationalStiffnessByAreaZ=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new Xg(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.Name),t.push(this.TranslationalStiffnessByAreaX),t.push(this.TranslationalStiffnessByAreaY),t.push(this.TranslationalStiffnessByAreaZ),t}},Tg=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.Name=e,this.TranslationalStiffnessX=s,this.TranslationalStiffnessY=n,this.TranslationalStiffnessZ=l,this.RotationalStiffnessX=r,this.RotationalStiffnessY=a,this.RotationalStiffnessZ=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new Tg(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.Name),t.push(this.TranslationalStiffnessX),t.push(this.TranslationalStiffnessY),t.push(this.TranslationalStiffnessZ),t.push(this.RotationalStiffnessX),t.push(this.RotationalStiffnessY),t.push(this.RotationalStiffnessZ),t}},Rg=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.Name=e,this.TranslationalStiffnessX=s,this.TranslationalStiffnessY=n,this.TranslationalStiffnessZ=l,this.RotationalStiffnessX=r,this.RotationalStiffnessY=a,this.RotationalStiffnessZ=o,this.WarpingStiffness=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new Rg(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.Name),t.push(this.TranslationalStiffnessX),t.push(this.TranslationalStiffnessY),t.push(this.TranslationalStiffnessZ),t.push(this.RotationalStiffnessX),t.push(this.RotationalStiffnessY),t.push(this.RotationalStiffnessZ),t.push(this.WarpingStiffness),t}},Ig=class{constructor(t,i){this.expressID=t,this.type=i}static FromTape(t,i,e){return new Ig(t,i)}ToTape(){return[]}},gg=class{constructor(t,i){this.expressID=t,this.type=i}static FromTape(t,i,e){return new gg(t,i)}ToTape(){return[]}},Wg=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.Corner=e,this.XDim=s,this.YDim=n,this.ZDim=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new Wg(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.Corner),t.push(this.XDim),t.push(this.YDim),t.push(this.ZDim),t}},Lg=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.BaseSurface=e,this.AgreementFlag=s,this.Enclosure=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new Lg(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.BaseSurface),t.push(this.AgreementFlag),t.push(this.Enclosure),t}},Sg=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.LongName=c,this.CompositionType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new Sg(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.LongName),t.push(this.CompositionType),t.push(this.PredefinedType),t}},Cg=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.LongName=c,this.CompositionType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new Cg(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.LongName),t.push(this.CompositionType),t.push(this.PredefinedType),t}},fg=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.LongName=c,this.CompositionType=h,this.ElevationOfRefHeight=d,this.ElevationOfTerrain=u,this.BuildingAddress=p}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++];return new fg(t,i,n,l,r,a,o,c,h,d,u,p,Z,X)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.LongName),t.push(this.CompositionType),t.push(this.ElevationOfRefHeight),t.push(this.ElevationOfTerrain),t.push(this.BuildingAddress),t}},Vg=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new Vg(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t}},xg=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new xg(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},Ng=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new Ng(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},Fg=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new Fg(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},Mg=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new Mg(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},Yg=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new Yg(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t}},vg=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.LongName=c,this.CompositionType=h,this.Elevation=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new vg(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.LongName),t.push(this.CompositionType),t.push(this.Elevation),t}},Eg=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.PredefinedType=a,this.LongName=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new Eg(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.PredefinedType),t.push(this.LongName),t}},zg=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new zg(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},Hg=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new Hg(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},Kg=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.ProfileType=e,this.ProfileName=s,this.Position=n,this.Depth=l,this.Width=r,this.WallThickness=a,this.Girth=o,this.InternalFilletRadius=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new Kg(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.ProfileType),t.push(this.ProfileName),t.push(this.Position),t.push(this.Depth),t.push(this.Width),t.push(this.WallThickness),t.push(this.Girth),t.push(this.InternalFilletRadius),t}},wg=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new wg(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},kg=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new kg(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},Pg=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new Pg(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},Ug=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new Ug(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},Dg=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new Dg(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},Jg=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new Jg(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},Og=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new Og(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},Bg=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new Bg(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},Ag=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new Ag(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},jg=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new jg(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},Qg=class{constructor(t,i,e){this.expressID=t,this.type=i,this.Coordinates=e}static FromTape(t,i,e){let s=0,n=e[s++];return new Qg(t,i,n)}ToTape(){let t=[];return t.push(this.Coordinates),t}},_g=class{constructor(t,i){this.expressID=t,this.type=i}static FromTape(t,i,e){return new _g(t,i)}ToTape(){return[]}},qg=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.CoordList=e,this.TagList=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new qg(t,i,n,l)}ToTape(){let t=[];return t.push(this.CoordList),t.push(this.TagList),t}},$g=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.CoordList=e,this.TagList=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new $g(t,i,n,l)}ToTape(){let t=[];return t.push(this.CoordList),t.push(this.TagList),t}},tW=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.Axis1=e,this.Axis2=s,this.LocalOrigin=n,this.Scale=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new tW(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.Axis1),t.push(this.Axis2),t.push(this.LocalOrigin),t.push(this.Scale),t}},eW=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.Axis1=e,this.Axis2=s,this.LocalOrigin=n,this.Scale=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new eW(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.Axis1),t.push(this.Axis2),t.push(this.LocalOrigin),t.push(this.Scale),t}},sW=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.Axis1=e,this.Axis2=s,this.LocalOrigin=n,this.Scale=l,this.Scale2=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new sW(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.Axis1),t.push(this.Axis2),t.push(this.LocalOrigin),t.push(this.Scale),t.push(this.Scale2),t}},iW=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.Axis1=e,this.Axis2=s,this.LocalOrigin=n,this.Scale=l,this.Axis3=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new iW(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.Axis1),t.push(this.Axis2),t.push(this.LocalOrigin),t.push(this.Scale),t.push(this.Axis3),t}},nW=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.Axis1=e,this.Axis2=s,this.LocalOrigin=n,this.Scale=l,this.Axis3=r,this.Scale2=a,this.Scale3=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new nW(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.Axis1),t.push(this.Axis2),t.push(this.LocalOrigin),t.push(this.Scale),t.push(this.Axis3),t.push(this.Scale2),t.push(this.Scale3),t}},lW=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.ProfileType=e,this.ProfileName=s,this.Curve=n,this.Thickness=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new lW(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.ProfileType),t.push(this.ProfileName),t.push(this.Curve),t.push(this.Thickness),t}},rW=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new rW(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},aW=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new aW(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},oW=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new oW(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},cW=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new cW(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},hW=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.Position=e,this.Radius=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new hW(t,i,n,l)}ToTape(){let t=[];return t.push(this.Position),t.push(this.Radius),t}},dW=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.ProfileType=e,this.ProfileName=s,this.Position=n,this.Radius=l,this.WallThickness=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new dW(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.ProfileType),t.push(this.ProfileName),t.push(this.Position),t.push(this.Radius),t.push(this.WallThickness),t}},uW=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.ProfileType=e,this.ProfileName=s,this.Position=n,this.Radius=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new uW(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.ProfileType),t.push(this.ProfileName),t.push(this.Position),t.push(this.Radius),t}},pW=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.StartPoint=e,this.StartDirection=s,this.SegmentLength=n,this.Radius=l,this.IsCCW=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new pW(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.StartPoint),t.push(this.StartDirection),t.push(this.SegmentLength),t.push(this.Radius),t.push(this.IsCCW),t}},mW=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new mW(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t}},bW=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new bW(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t}},yW=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.Source=e,this.Edition=s,this.EditionDate=n,this.Name=l,this.Description=r,this.Location=a,this.ReferenceTokens=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new yW(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.Source),t.push(this.Edition),t.push(this.EditionDate),t.push(this.Name),t.push(this.Description),t.push(this.Location),t.push(this.ReferenceTokens),t}},GW=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.Location=e,this.Identification=s,this.Name=n,this.ReferencedSource=l,this.Description=r,this.Sort=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new GW(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.Location),t.push(this.Identification),t.push(this.Name),t.push(this.ReferencedSource),t.push(this.Description),t.push(this.Sort),t}},ZW=class{constructor(t,i,e){this.expressID=t,this.type=i,this.CfsFaces=e}static FromTape(t,i,e){let s=0,n=e[s++];return new ZW(t,i,n)}ToTape(){let t=[];return t.push(this.CfsFaces),t}},XW=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new XW(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},TW=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new TW(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},RW=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.Name=e,this.Red=s,this.Green=n,this.Blue=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new RW(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Red),t.push(this.Green),t.push(this.Blue),t}},IW=class{constructor(t,i,e){this.expressID=t,this.type=i,this.ColourList=e}static FromTape(t,i,e){let s=0,n=e[s++];return new IW(t,i,n)}ToTape(){let t=[];return t.push(this.ColourList),t}},gW=class{constructor(t,i,e){this.expressID=t,this.type=i,this.Name=e}static FromTape(t,i,e){let s=0,n=e[s++];return new gW(t,i,n)}ToTape(){let t=[];return t.push(this.Name),t}},WW=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new WW(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},LW=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new LW(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},SW=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new SW(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},CW=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new CW(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},fW=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new fW(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},VW=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.UsageName=n,this.HasProperties=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new VW(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.UsageName),t.push(this.HasProperties),t}},xW=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.UsageName=r,this.TemplateType=a,this.HasPropertyTemplates=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new xW(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.UsageName),t.push(this.TemplateType),t.push(this.HasPropertyTemplates),t}},NW=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.Segments=e,this.SelfIntersect=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new NW(t,i,n,l)}ToTape(){let t=[];return t.push(this.Segments),t.push(this.SelfIntersect),t}},FW=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.Segments=e,this.SelfIntersect=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new FW(t,i,n,l)}ToTape(){let t=[];return t.push(this.Segments),t.push(this.SelfIntersect),t}},MW=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.Transition=e,this.SameSense=s,this.ParentCurve=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new MW(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.Transition),t.push(this.SameSense),t.push(this.ParentCurve),t}},YW=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.ProfileType=e,this.ProfileName=s,this.Profiles=n,this.Label=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new YW(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.ProfileType),t.push(this.ProfileName),t.push(this.Profiles),t.push(this.Label),t}},vW=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new vW(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},EW=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new EW(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},zW=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new zW(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},HW=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new HW(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},KW=class{constructor(t,i,e){this.expressID=t,this.type=i,this.Position=e}static FromTape(t,i,e){let s=0,n=e[s++];return new KW(t,i,n)}ToTape(){let t=[];return t.push(this.Position),t}},wW=class{constructor(t,i,e){this.expressID=t,this.type=i,this.CfsFaces=e}static FromTape(t,i,e){let s=0,n=e[s++];return new wW(t,i,n)}ToTape(){let t=[];return t.push(this.CfsFaces),t}},kW=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.CurveOnRelatingElement=e,this.CurveOnRelatedElement=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new kW(t,i,n,l)}ToTape(){let t=[];return t.push(this.CurveOnRelatingElement),t.push(this.CurveOnRelatedElement),t}},PW=class{constructor(t,i){this.expressID=t,this.type=i}static FromTape(t,i,e){return new PW(t,i)}ToTape(){return[]}},UW=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.PointOnRelatingElement=e,this.PointOnRelatedElement=s,this.EccentricityInX=n,this.EccentricityInY=l,this.EccentricityInZ=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new UW(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.PointOnRelatingElement),t.push(this.PointOnRelatedElement),t.push(this.EccentricityInX),t.push(this.EccentricityInY),t.push(this.EccentricityInZ),t}},DW=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.PointOnRelatingElement=e,this.PointOnRelatedElement=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new DW(t,i,n,l)}ToTape(){let t=[];return t.push(this.PointOnRelatingElement),t.push(this.PointOnRelatedElement),t}},JW=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.SurfaceOnRelatingElement=e,this.SurfaceOnRelatedElement=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new JW(t,i,n,l)}ToTape(){let t=[];return t.push(this.SurfaceOnRelatingElement),t.push(this.SurfaceOnRelatedElement),t}},OW=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.VolumeOnRelatingElement=e,this.VolumeOnRelatedElement=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new OW(t,i,n,l)}ToTape(){let t=[];return t.push(this.VolumeOnRelatingElement),t.push(this.VolumeOnRelatedElement),t}},BW=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.ConstraintGrade=n,this.ConstraintSource=l,this.CreatingActor=r,this.CreationTime=a,this.UserDefinedGrade=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new BW(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.ConstraintGrade),t.push(this.ConstraintSource),t.push(this.CreatingActor),t.push(this.CreationTime),t.push(this.UserDefinedGrade),t}},AW=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.Identification=a,this.LongDescription=o,this.Usage=c,this.BaseCosts=h,this.BaseQuantity=d,this.PredefinedType=u}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++];return new AW(t,i,n,l,r,a,o,c,h,d,u,p,Z)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.Identification),t.push(this.LongDescription),t.push(this.Usage),t.push(this.BaseCosts),t.push(this.BaseQuantity),t.push(this.PredefinedType),t}},jW=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.Identification=o,this.LongDescription=c,this.ResourceType=h,this.BaseCosts=d,this.BaseQuantity=u,this.PredefinedType=p}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++];return new jW(t,i,n,l,r,a,o,c,h,d,u,p,Z,X)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.Identification),t.push(this.LongDescription),t.push(this.ResourceType),t.push(this.BaseCosts),t.push(this.BaseQuantity),t.push(this.PredefinedType),t}},QW=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.Identification=a,this.LongDescription=o,this.Usage=c,this.BaseCosts=h,this.BaseQuantity=d,this.PredefinedType=u}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++];return new QW(t,i,n,l,r,a,o,c,h,d,u,p,Z)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.Identification),t.push(this.LongDescription),t.push(this.Usage),t.push(this.BaseCosts),t.push(this.BaseQuantity),t.push(this.PredefinedType),t}},_W=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.Identification=o,this.LongDescription=c,this.ResourceType=h,this.BaseCosts=d,this.BaseQuantity=u,this.PredefinedType=p}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++];return new _W(t,i,n,l,r,a,o,c,h,d,u,p,Z,X)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.Identification),t.push(this.LongDescription),t.push(this.ResourceType),t.push(this.BaseCosts),t.push(this.BaseQuantity),t.push(this.PredefinedType),t}},qW=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.Identification=a,this.LongDescription=o,this.Usage=c,this.BaseCosts=h,this.BaseQuantity=d,this.PredefinedType=u}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++];return new qW(t,i,n,l,r,a,o,c,h,d,u,p,Z)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.Identification),t.push(this.LongDescription),t.push(this.Usage),t.push(this.BaseCosts),t.push(this.BaseQuantity),t.push(this.PredefinedType),t}},$W=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.Identification=o,this.LongDescription=c,this.ResourceType=h,this.BaseCosts=d,this.BaseQuantity=u,this.PredefinedType=p}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++];return new $W(t,i,n,l,r,a,o,c,h,d,u,p,Z,X)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.Identification),t.push(this.LongDescription),t.push(this.ResourceType),t.push(this.BaseCosts),t.push(this.BaseQuantity),t.push(this.PredefinedType),t}},tL=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.Identification=a,this.LongDescription=o,this.Usage=c,this.BaseCosts=h,this.BaseQuantity=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new tL(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.Identification),t.push(this.LongDescription),t.push(this.Usage),t.push(this.BaseCosts),t.push(this.BaseQuantity),t}},eL=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.Identification=o,this.LongDescription=c,this.ResourceType=h,this.BaseCosts=d,this.BaseQuantity=u}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++];return new eL(t,i,n,l,r,a,o,c,h,d,u,p,Z)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.Identification),t.push(this.LongDescription),t.push(this.ResourceType),t.push(this.BaseCosts),t.push(this.BaseQuantity),t}},sL=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.LongName=a,this.Phase=o,this.RepresentationContexts=c,this.UnitsInContext=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new sL(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.LongName),t.push(this.Phase),t.push(this.RepresentationContexts),t.push(this.UnitsInContext),t}},iL=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.Dimensions=e,this.UnitType=s,this.Name=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new iL(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.Dimensions),t.push(this.UnitType),t.push(this.Name),t}},nL=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.Identification=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new nL(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.Identification),t}},lL=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new lL(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},rL=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new rL(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},aL=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.Dimensions=e,this.UnitType=s,this.Name=n,this.ConversionFactor=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new aL(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.Dimensions),t.push(this.UnitType),t.push(this.Name),t.push(this.ConversionFactor),t}},oL=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.Dimensions=e,this.UnitType=s,this.Name=n,this.ConversionFactor=l,this.ConversionOffset=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new oL(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.Dimensions),t.push(this.UnitType),t.push(this.Name),t.push(this.ConversionFactor),t.push(this.ConversionOffset),t}},cL=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new cL(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},hL=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new hL(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},dL=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new dL(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},uL=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new uL(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},pL=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.SourceCRS=e,this.TargetCRS=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new pL(t,i,n,l)}ToTape(){let t=[];return t.push(this.SourceCRS),t.push(this.TargetCRS),t}},mL=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.GeodeticDatum=n,this.VerticalDatum=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new mL(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.GeodeticDatum),t.push(this.VerticalDatum),t}},bL=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.Identification=a,this.PredefinedType=o,this.CostValues=c,this.CostQuantities=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new bL(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.Identification),t.push(this.PredefinedType),t.push(this.CostValues),t.push(this.CostQuantities),t}},yL=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.Identification=a,this.PredefinedType=o,this.Status=c,this.SubmittedOn=h,this.UpdateDate=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new yL(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.Identification),t.push(this.PredefinedType),t.push(this.Status),t.push(this.SubmittedOn),t.push(this.UpdateDate),t}},GL=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.AppliedValue=n,this.UnitBasis=l,this.ApplicableDate=r,this.FixedUntilDate=a,this.Category=o,this.Condition=c,this.ArithmeticOperator=h,this.Components=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new GL(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.AppliedValue),t.push(this.UnitBasis),t.push(this.ApplicableDate),t.push(this.FixedUntilDate),t.push(this.Category),t.push(this.Condition),t.push(this.ArithmeticOperator),t.push(this.Components),t}},ZL=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new ZL(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},XL=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new XL(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},TL=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.Identification=a,this.LongDescription=o,this.Usage=c,this.BaseCosts=h,this.BaseQuantity=d,this.PredefinedType=u}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++];return new TL(t,i,n,l,r,a,o,c,h,d,u,p,Z)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.Identification),t.push(this.LongDescription),t.push(this.Usage),t.push(this.BaseCosts),t.push(this.BaseQuantity),t.push(this.PredefinedType),t}},RL=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.Identification=o,this.LongDescription=c,this.ResourceType=h,this.BaseCosts=d,this.BaseQuantity=u,this.PredefinedType=p}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++];return new RL(t,i,n,l,r,a,o,c,h,d,u,p,Z,X)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.Identification),t.push(this.LongDescription),t.push(this.ResourceType),t.push(this.BaseCosts),t.push(this.BaseQuantity),t.push(this.PredefinedType),t}},IL=class{constructor(t,i,e){this.expressID=t,this.type=i,this.Position=e}static FromTape(t,i,e){let s=0,n=e[s++];return new IL(t,i,n)}ToTape(){let t=[];return t.push(this.Position),t}},gL=class{constructor(t,i,e){this.expressID=t,this.type=i,this.TreeRootExpression=e}static FromTape(t,i,e){let s=0,n=e[s++];return new gL(t,i,n)}ToTape(){let t=[];return t.push(this.TreeRootExpression),t}},WL=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.RelatingMonetaryUnit=n,this.RelatedMonetaryUnit=l,this.ExchangeRate=r,this.RateDateTime=a,this.RateSource=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new WL(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.RelatingMonetaryUnit),t.push(this.RelatedMonetaryUnit),t.push(this.ExchangeRate),t.push(this.RateDateTime),t.push(this.RateSource),t}},LL=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new LL(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},SL=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new SL(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},CL=class{constructor(t,i){this.expressID=t,this.type=i}static FromTape(t,i,e){return new CL(t,i)}ToTape(){return[]}},fL=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.BasisSurface=e,this.OuterBoundary=s,this.InnerBoundaries=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new fL(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.BasisSurface),t.push(this.OuterBoundary),t.push(this.InnerBoundaries),t}},VL=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.BasisSurface=e,this.Boundaries=s,this.ImplicitOuter=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new VL(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.BasisSurface),t.push(this.Boundaries),t.push(this.ImplicitOuter),t}},xL=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.StartPoint=e,this.StartDirection=s,this.SegmentLength=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new xL(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.StartPoint),t.push(this.StartDirection),t.push(this.SegmentLength),t}},NL=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.Name=e,this.CurveFont=s,this.CurveWidth=n,this.CurveColour=l,this.ModelOrDraughting=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new NL(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.Name),t.push(this.CurveFont),t.push(this.CurveWidth),t.push(this.CurveColour),t.push(this.ModelOrDraughting),t}},FL=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.Name=e,this.PatternList=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new FL(t,i,n,l)}ToTape(){let t=[];return t.push(this.Name),t.push(this.PatternList),t}},ML=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.Name=e,this.CurveFont=s,this.CurveFontScaling=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new ML(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.Name),t.push(this.CurveFont),t.push(this.CurveFontScaling),t}},YL=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.VisibleSegmentLength=e,this.InvisibleSegmentLength=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new YL(t,i,n,l)}ToTape(){let t=[];return t.push(this.VisibleSegmentLength),t.push(this.InvisibleSegmentLength),t}},vL=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.Position=e,this.Radius=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new vL(t,i,n,l)}ToTape(){let t=[];return t.push(this.Position),t.push(this.Radius),t}},EL=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new EL(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},zL=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new zL(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},HL=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new HL(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t}},KL=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new KL(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t}},wL=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.ProfileType=e,this.ProfileName=s,this.ParentProfile=n,this.Operator=l,this.Label=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new wL(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.ProfileType),t.push(this.ProfileName),t.push(this.ParentProfile),t.push(this.Operator),t.push(this.Label),t}},kL=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.Elements=e,this.UnitType=s,this.UserDefinedType=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new kL(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.Elements),t.push(this.UnitType),t.push(this.UserDefinedType),t}},PL=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.Unit=e,this.Exponent=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new PL(t,i,n,l)}ToTape(){let t=[];return t.push(this.Unit),t.push(this.Exponent),t}},UL=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.LengthExponent=e,this.MassExponent=s,this.TimeExponent=n,this.ElectricCurrentExponent=l,this.ThermodynamicTemperatureExponent=r,this.AmountOfSubstanceExponent=a,this.LuminousIntensityExponent=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new UL(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.LengthExponent),t.push(this.MassExponent),t.push(this.TimeExponent),t.push(this.ElectricCurrentExponent),t.push(this.ThermodynamicTemperatureExponent),t.push(this.AmountOfSubstanceExponent),t.push(this.LuminousIntensityExponent),t}},DL=class{constructor(t,i,e){this.expressID=t,this.type=i,this.DirectionRatios=e}static FromTape(t,i,e){let s=0,n=e[s++];return new DL(t,i,n)}ToTape(){let t=[];return t.push(this.DirectionRatios),t}},JL=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new JL(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},OL=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new OL(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},BL=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.DistanceAlong=e,this.OffsetLateral=s,this.OffsetVertical=n,this.OffsetLongitudinal=l,this.AlongHorizontal=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new BL(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.DistanceAlong),t.push(this.OffsetLateral),t.push(this.OffsetVertical),t.push(this.OffsetLongitudinal),t.push(this.AlongHorizontal),t}},AL=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new AL(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},jL=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new jL(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},QL=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.LongName=a,this.PredefinedType=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new QL(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.LongName),t.push(this.PredefinedType),t}},_L=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new _L(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t}},qL=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new qL(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t}},$L=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new $L(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t}},t1=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new t1(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t}},e1=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new e1(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t}},s1=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new s1(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t}},i1=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.FlowDirection=c,this.PredefinedType=h,this.SystemType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new i1(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.FlowDirection),t.push(this.PredefinedType),t.push(this.SystemType),t}},n1=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.LongName=a,this.PredefinedType=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new n1(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.LongName),t.push(this.PredefinedType),t}},l1=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p,Z,X,R,W,S){this.expressID=t,this.type=i,this.Identification=e,this.Name=s,this.Description=n,this.Location=l,this.Purpose=r,this.IntendedUse=a,this.Scope=o,this.Revision=c,this.DocumentOwner=h,this.Editors=d,this.CreationTime=u,this.LastRevisionTime=p,this.ElectronicFormat=Z,this.ValidFrom=X,this.ValidUntil=R,this.Confidentiality=W,this.Status=S}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++],R=e[s++],W=e[s++],S=e[s++],F=e[s++],M=e[s++];return new l1(t,i,n,l,r,a,o,c,h,d,u,p,Z,X,R,W,S,F,M)}ToTape(){let t=[];return t.push(this.Identification),t.push(this.Name),t.push(this.Description),t.push(this.Location),t.push(this.Purpose),t.push(this.IntendedUse),t.push(this.Scope),t.push(this.Revision),t.push(this.DocumentOwner),t.push(this.Editors),t.push(this.CreationTime),t.push(this.LastRevisionTime),t.push(this.ElectronicFormat),t.push(this.ValidFrom),t.push(this.ValidUntil),t.push(this.Confidentiality),t.push(this.Status),t}},r1=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.RelatingDocument=n,this.RelatedDocuments=l,this.RelationshipType=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new r1(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.RelatingDocument),t.push(this.RelatedDocuments),t.push(this.RelationshipType),t}},a1=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.Location=e,this.Identification=s,this.Name=n,this.Description=l,this.ReferencedDocument=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new a1(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.Location),t.push(this.Identification),t.push(this.Name),t.push(this.Description),t.push(this.ReferencedDocument),t}},o1=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p,Z){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.OverallHeight=h,this.OverallWidth=d,this.PredefinedType=u,this.OperationType=p,this.UserDefinedOperationType=Z}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++],R=e[s++];return new o1(t,i,n,l,r,a,o,c,h,d,u,p,Z,X,R)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.OverallHeight),t.push(this.OverallWidth),t.push(this.PredefinedType),t.push(this.OperationType),t.push(this.UserDefinedOperationType),t}},c1=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p,Z,X,R,W,S){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.LiningDepth=r,this.LiningThickness=a,this.ThresholdDepth=o,this.ThresholdThickness=c,this.TransomThickness=h,this.TransomOffset=d,this.LiningOffset=u,this.ThresholdOffset=p,this.CasingThickness=Z,this.CasingDepth=X,this.ShapeAspectStyle=R,this.LiningToPanelOffsetX=W,this.LiningToPanelOffsetY=S}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++],R=e[s++],W=e[s++],S=e[s++],F=e[s++],M=e[s++];return new c1(t,i,n,l,r,a,o,c,h,d,u,p,Z,X,R,W,S,F,M)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.LiningDepth),t.push(this.LiningThickness),t.push(this.ThresholdDepth),t.push(this.ThresholdThickness),t.push(this.TransomThickness),t.push(this.TransomOffset),t.push(this.LiningOffset),t.push(this.ThresholdOffset),t.push(this.CasingThickness),t.push(this.CasingDepth),t.push(this.ShapeAspectStyle),t.push(this.LiningToPanelOffsetX),t.push(this.LiningToPanelOffsetY),t}},h1=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.PanelDepth=r,this.PanelOperation=a,this.PanelWidth=o,this.PanelPosition=c,this.ShapeAspectStyle=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new h1(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.PanelDepth),t.push(this.PanelOperation),t.push(this.PanelWidth),t.push(this.PanelPosition),t.push(this.ShapeAspectStyle),t}},d1=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p,Z){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.OverallHeight=h,this.OverallWidth=d,this.PredefinedType=u,this.OperationType=p,this.UserDefinedOperationType=Z}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++],R=e[s++];return new d1(t,i,n,l,r,a,o,c,h,d,u,p,Z,X,R)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.OverallHeight),t.push(this.OverallWidth),t.push(this.PredefinedType),t.push(this.OperationType),t.push(this.UserDefinedOperationType),t}},u1=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.OperationType=h,this.ConstructionType=d,this.ParameterTakesPrecedence=u,this.Sizeable=p}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++];return new u1(t,i,n,l,r,a,o,c,h,d,u,p,Z,X)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.OperationType),t.push(this.ConstructionType),t.push(this.ParameterTakesPrecedence),t.push(this.Sizeable),t}},p1=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p,Z){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d,this.OperationType=u,this.ParameterTakesPrecedence=p,this.UserDefinedOperationType=Z}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++],R=e[s++];return new p1(t,i,n,l,r,a,o,c,h,d,u,p,Z,X,R)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t.push(this.OperationType),t.push(this.ParameterTakesPrecedence),t.push(this.UserDefinedOperationType),t}},m1=class{constructor(t,i,e){this.expressID=t,this.type=i,this.Name=e}static FromTape(t,i,e){let s=0,n=e[s++];return new m1(t,i,n)}ToTape(){let t=[];return t.push(this.Name),t}},b1=class{constructor(t,i,e){this.expressID=t,this.type=i,this.Name=e}static FromTape(t,i,e){let s=0,n=e[s++];return new b1(t,i,n)}ToTape(){let t=[];return t.push(this.Name),t}},y1=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new y1(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},G1=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new G1(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},Z1=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new Z1(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},X1=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new X1(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},T1=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new T1(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},R1=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new R1(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},I1=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.EdgeStart=e,this.EdgeEnd=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new I1(t,i,n,l)}ToTape(){let t=[];return t.push(this.EdgeStart),t.push(this.EdgeEnd),t}},g1=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.EdgeStart=e,this.EdgeEnd=s,this.EdgeGeometry=n,this.SameSense=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new g1(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.EdgeStart),t.push(this.EdgeEnd),t.push(this.EdgeGeometry),t.push(this.SameSense),t}},W1=class{constructor(t,i,e){this.expressID=t,this.type=i,this.EdgeList=e}static FromTape(t,i,e){let s=0,n=e[s++];return new W1(t,i,n)}ToTape(){let t=[];return t.push(this.EdgeList),t}},L1=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new L1(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},S1=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new S1(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},C1=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new C1(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},f1=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new f1(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},V1=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new V1(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},x1=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new x1(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},N1=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new N1(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},F1=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new F1(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},M1=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new M1(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},Y1=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new Y1(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},v1=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new v1(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},E1=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new E1(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},z1=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new z1(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t}},H1=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.AssemblyPlace=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new H1(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.AssemblyPlace),t.push(this.PredefinedType),t}},K1=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new K1(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},w1=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new w1(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t}},k1=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new k1(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t}},P1=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.MethodOfMeasurement=r,this.Quantities=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new P1(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.MethodOfMeasurement),t.push(this.Quantities),t}},U1=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new U1(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t}},D1=class{constructor(t,i,e){this.expressID=t,this.type=i,this.Position=e}static FromTape(t,i,e){let s=0,n=e[s++];return new D1(t,i,n)}ToTape(){let t=[];return t.push(this.Position),t}},J1=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.Position=e,this.SemiAxis1=s,this.SemiAxis2=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new J1(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.Position),t.push(this.SemiAxis1),t.push(this.SemiAxis2),t}},O1=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.ProfileType=e,this.ProfileName=s,this.Position=n,this.SemiAxis1=l,this.SemiAxis2=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new O1(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.ProfileType),t.push(this.ProfileName),t.push(this.Position),t.push(this.SemiAxis1),t.push(this.SemiAxis2),t}},B1=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new B1(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t}},A1=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new A1(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t}},j1=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new j1(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},Q1=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new Q1(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},_1=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new _1(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},q1=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new q1(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},$1=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new $1(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},t2=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new t2(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},e2=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.Identification=a,this.LongDescription=o,this.PredefinedType=c,this.EventTriggerType=h,this.UserDefinedEventTriggerType=d,this.EventOccurenceTime=u}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++];return new e2(t,i,n,l,r,a,o,c,h,d,u,p,Z)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.Identification),t.push(this.LongDescription),t.push(this.PredefinedType),t.push(this.EventTriggerType),t.push(this.UserDefinedEventTriggerType),t.push(this.EventOccurenceTime),t}},s2=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.Name=e,this.DataOrigin=s,this.UserDefinedDataOrigin=n,this.ActualDate=l,this.EarlyDate=r,this.LateDate=a,this.ScheduleDate=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new s2(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.Name),t.push(this.DataOrigin),t.push(this.UserDefinedDataOrigin),t.push(this.ActualDate),t.push(this.EarlyDate),t.push(this.LateDate),t.push(this.ScheduleDate),t}},i2=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.Identification=o,this.LongDescription=c,this.ProcessType=h,this.PredefinedType=d,this.EventTriggerType=u,this.UserDefinedEventTriggerType=p}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++];return new i2(t,i,n,l,r,a,o,c,h,d,u,p,Z,X)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.Identification),t.push(this.LongDescription),t.push(this.ProcessType),t.push(this.PredefinedType),t.push(this.EventTriggerType),t.push(this.UserDefinedEventTriggerType),t}},n2=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.Properties=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new n2(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.Properties),t}},l2=class{constructor(t,i){this.expressID=t,this.type=i}static FromTape(t,i,e){return new l2(t,i)}ToTape(){return[]}},r2=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.Location=e,this.Identification=s,this.Name=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new r2(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.Location),t.push(this.Identification),t.push(this.Name),t}},a2=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.RelatingReference=n,this.RelatedResourceObjects=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new a2(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.RelatingReference),t.push(this.RelatedResourceObjects),t}},o2=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.LongName=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new o2(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.LongName),t.push(this.PredefinedType),t}},c2=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.LongName=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new c2(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.LongName),t}},h2=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.Location=e,this.Identification=s,this.Name=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new h2(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.Location),t.push(this.Identification),t.push(this.Name),t}},d2=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.Location=e,this.Identification=s,this.Name=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new d2(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.Location),t.push(this.Identification),t.push(this.Name),t}},u2=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.Location=e,this.Identification=s,this.Name=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new u2(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.Location),t.push(this.Identification),t.push(this.Name),t}},p2=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.SweptArea=e,this.Position=s,this.ExtrudedDirection=n,this.Depth=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new p2(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.SweptArea),t.push(this.Position),t.push(this.ExtrudedDirection),t.push(this.Depth),t}},m2=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.SweptArea=e,this.Position=s,this.ExtrudedDirection=n,this.Depth=l,this.EndSweptArea=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new m2(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.SweptArea),t.push(this.Position),t.push(this.ExtrudedDirection),t.push(this.Depth),t.push(this.EndSweptArea),t}},b2=class{constructor(t,i,e){this.expressID=t,this.type=i,this.Bounds=e}static FromTape(t,i,e){let s=0,n=e[s++];return new b2(t,i,n)}ToTape(){let t=[];return t.push(this.Bounds),t}},y2=class{constructor(t,i,e){this.expressID=t,this.type=i,this.FbsmFaces=e}static FromTape(t,i,e){let s=0,n=e[s++];return new y2(t,i,n)}ToTape(){let t=[];return t.push(this.FbsmFaces),t}},G2=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.Bound=e,this.Orientation=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new G2(t,i,n,l)}ToTape(){let t=[];return t.push(this.Bound),t.push(this.Orientation),t}},Z2=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.Bound=e,this.Orientation=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new Z2(t,i,n,l)}ToTape(){let t=[];return t.push(this.Bound),t.push(this.Orientation),t}},X2=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.Bounds=e,this.FaceSurface=s,this.SameSense=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new X2(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.Bounds),t.push(this.FaceSurface),t.push(this.SameSense),t}},T2=class{constructor(t,i,e){this.expressID=t,this.type=i,this.Outer=e}static FromTape(t,i,e){let s=0,n=e[s++];return new T2(t,i,n)}ToTape(){let t=[];return t.push(this.Outer),t}},R2=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.Outer=e,this.Voids=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new R2(t,i,n,l)}ToTape(){let t=[];return t.push(this.Outer),t.push(this.Voids),t}},I2=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.LongName=c,this.CompositionType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new I2(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.LongName),t.push(this.CompositionType),t}},g2=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.LongName=c,this.CompositionType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new g2(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.LongName),t.push(this.CompositionType),t}},W2=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.Name=e,this.TensionFailureX=s,this.TensionFailureY=n,this.TensionFailureZ=l,this.CompressionFailureX=r,this.CompressionFailureY=a,this.CompressionFailureZ=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new W2(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.Name),t.push(this.TensionFailureX),t.push(this.TensionFailureY),t.push(this.TensionFailureZ),t.push(this.CompressionFailureX),t.push(this.CompressionFailureY),t.push(this.CompressionFailureZ),t}},L2=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new L2(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},S2=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new S2(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},C2=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new C2(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},f2=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new f2(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},V2=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new V2(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t}},x2=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new x2(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t}},N2=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new N2(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t}},F2=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.Name=e,this.FillStyles=s,this.ModelorDraughting=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new F2(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.Name),t.push(this.FillStyles),t.push(this.ModelorDraughting),t}},M2=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.HatchLineAppearance=e,this.StartOfNextHatchLine=s,this.PointOfReferenceHatchLine=n,this.PatternStart=l,this.HatchLineAngle=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new M2(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.HatchLineAppearance),t.push(this.StartOfNextHatchLine),t.push(this.PointOfReferenceHatchLine),t.push(this.PatternStart),t.push(this.HatchLineAngle),t}},Y2=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.TilingPattern=e,this.Tiles=s,this.TilingScale=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new Y2(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.TilingPattern),t.push(this.Tiles),t.push(this.TilingScale),t}},v2=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new v2(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},E2=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new E2(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},z2=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new z2(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},H2=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new H2(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},K2=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.SweptArea=e,this.Position=s,this.Directrix=n,this.StartParam=l,this.EndParam=r,this.FixedReference=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new K2(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.SweptArea),t.push(this.Position),t.push(this.Directrix),t.push(this.StartParam),t.push(this.EndParam),t.push(this.FixedReference),t}},w2=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new w2(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t}},k2=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new k2(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t}},P2=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new P2(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t}},U2=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new U2(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t}},D2=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new D2(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},J2=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new J2(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},O2=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new O2(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},B2=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new B2(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},A2=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new A2(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t}},j2=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new j2(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t}},Q2=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new Q2(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t}},_2=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new _2(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t}},q2=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new q2(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t}},$2=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new $2(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t}},tS=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new tS(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t}},eS=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new eS(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t}},sS=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new sS(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t}},iS=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new iS(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t}},nS=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new nS(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},lS=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new lS(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},rS=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new rS(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t}},aS=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new aS(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t}},oS=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new oS(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},cS=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.AssemblyPlace=d,this.PredefinedType=u}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++];return new cS(t,i,n,l,r,a,o,c,h,d,u,p,Z)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.AssemblyPlace),t.push(this.PredefinedType),t}},hS=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new hS(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},dS=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new dS(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},uS=class{constructor(t,i,e){this.expressID=t,this.type=i,this.Elements=e}static FromTape(t,i,e){let s=0,n=e[s++];return new uS(t,i,n)}ToTape(){let t=[];return t.push(this.Elements),t}},pS=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.ContextIdentifier=e,this.ContextType=s,this.CoordinateSpaceDimension=n,this.Precision=l,this.WorldCoordinateSystem=r,this.TrueNorth=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new pS(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.ContextIdentifier),t.push(this.ContextType),t.push(this.CoordinateSpaceDimension),t.push(this.Precision),t.push(this.WorldCoordinateSystem),t.push(this.TrueNorth),t}},mS=class{constructor(t,i){this.expressID=t,this.type=i}static FromTape(t,i,e){return new mS(t,i)}ToTape(){return[]}},bS=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.ContextIdentifier=e,this.ContextType=s,this.CoordinateSpaceDimension=n,this.Precision=l,this.WorldCoordinateSystem=r,this.TrueNorth=a,this.ParentContext=o,this.TargetScale=c,this.TargetView=h,this.UserDefinedTargetView=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new bS(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.ContextIdentifier),t.push(this.ContextType),t.push(this.CoordinateSpaceDimension),t.push(this.Precision),t.push(this.WorldCoordinateSystem),t.push(this.TrueNorth),t.push(this.ParentContext),t.push(this.TargetScale),t.push(this.TargetView),t.push(this.UserDefinedTargetView),t}},yS=class{constructor(t,i,e){this.expressID=t,this.type=i,this.Elements=e}static FromTape(t,i,e){let s=0,n=e[s++];return new yS(t,i,n)}ToTape(){let t=[];return t.push(this.Elements),t}},GS=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.UAxes=c,this.VAxes=h,this.WAxes=d,this.PredefinedType=u}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++];return new GS(t,i,n,l,r,a,o,c,h,d,u,p,Z)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.UAxes),t.push(this.VAxes),t.push(this.WAxes),t.push(this.PredefinedType),t}},ZS=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.AxisTag=e,this.AxisCurve=s,this.SameSense=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new ZS(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.AxisTag),t.push(this.AxisCurve),t.push(this.SameSense),t}},XS=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.PlacementRelTo=e,this.PlacementLocation=s,this.PlacementRefDirection=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new XS(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.PlacementRelTo),t.push(this.PlacementLocation),t.push(this.PlacementRefDirection),t}},TS=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new TS(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t}},RS=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.BaseSurface=e,this.AgreementFlag=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new RS(t,i,n,l)}ToTape(){let t=[];return t.push(this.BaseSurface),t.push(this.AgreementFlag),t}},IS=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new IS(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},gS=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new gS(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},WS=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new WS(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},LS=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new LS(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},SS=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.ProfileType=e,this.ProfileName=s,this.Position=n,this.OverallWidth=l,this.OverallDepth=r,this.WebThickness=a,this.FlangeThickness=o,this.FilletRadius=c,this.FlangeEdgeRadius=h,this.FlangeSlope=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new SS(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.ProfileType),t.push(this.ProfileName),t.push(this.Position),t.push(this.OverallWidth),t.push(this.OverallDepth),t.push(this.WebThickness),t.push(this.FlangeThickness),t.push(this.FilletRadius),t.push(this.FlangeEdgeRadius),t.push(this.FlangeSlope),t}},CS=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.RepeatS=e,this.RepeatT=s,this.Mode=n,this.TextureTransform=l,this.Parameter=r,this.URLReference=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new CS(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.RepeatS),t.push(this.RepeatT),t.push(this.Mode),t.push(this.TextureTransform),t.push(this.Parameter),t.push(this.URLReference),t}},fS=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.MappedTo=e,this.Opacity=s,this.Colours=n,this.ColourIndex=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new fS(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.MappedTo),t.push(this.Opacity),t.push(this.Colours),t.push(this.ColourIndex),t}},VS=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.Points=e,this.Segments=s,this.SelfIntersect=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new VS(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.Points),t.push(this.Segments),t.push(this.SelfIntersect),t}},xS=class{constructor(t,i,e){this.expressID=t,this.type=i,this.CoordIndex=e}static FromTape(t,i,e){let s=0,n=e[s++];return new xS(t,i,n)}ToTape(){let t=[];return t.push(this.CoordIndex),t}},NS=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.CoordIndex=e,this.InnerCoordIndices=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new NS(t,i,n,l)}ToTape(){let t=[];return t.push(this.CoordIndex),t.push(this.InnerCoordIndices),t}},FS=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.Maps=e,this.MappedTo=s,this.TexCoords=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new FS(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.Maps),t.push(this.MappedTo),t.push(this.TexCoords),t}},MS=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.Maps=e,this.MappedTo=s,this.TexCoords=n,this.TexCoordIndex=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new MS(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.Maps),t.push(this.MappedTo),t.push(this.TexCoords),t.push(this.TexCoordIndex),t}},YS=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new YS(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},vS=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new vS(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},ES=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.Curve3D=e,this.AssociatedGeometry=s,this.MasterRepresentation=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new ES(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.Curve3D),t.push(this.AssociatedGeometry),t.push(this.MasterRepresentation),t}},zS=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.PredefinedType=a,this.Jurisdiction=o,this.ResponsiblePersons=c,this.LastUpdateDate=h,this.CurrentValue=d,this.OriginalValue=u}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++];return new zS(t,i,n,l,r,a,o,c,h,d,u,p,Z)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.PredefinedType),t.push(this.Jurisdiction),t.push(this.ResponsiblePersons),t.push(this.LastUpdateDate),t.push(this.CurrentValue),t.push(this.OriginalValue),t}},HS=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.StartTime=n,this.EndTime=l,this.TimeSeriesDataType=r,this.DataOrigin=a,this.UserDefinedDataOrigin=o,this.Unit=c,this.Values=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new HS(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.StartTime),t.push(this.EndTime),t.push(this.TimeSeriesDataType),t.push(this.DataOrigin),t.push(this.UserDefinedDataOrigin),t.push(this.Unit),t.push(this.Values),t}},KS=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.TimeStamp=e,this.ListValues=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new KS(t,i,n,l)}ToTape(){let t=[];return t.push(this.TimeStamp),t.push(this.ListValues),t}},wS=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new wS(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},kS=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new kS(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},PS=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.ProfileType=e,this.ProfileName=s,this.Position=n,this.Depth=l,this.Width=r,this.Thickness=a,this.FilletRadius=o,this.EdgeRadius=c,this.LegSlope=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new PS(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.ProfileType),t.push(this.ProfileName),t.push(this.Position),t.push(this.Depth),t.push(this.Width),t.push(this.Thickness),t.push(this.FilletRadius),t.push(this.EdgeRadius),t.push(this.LegSlope),t}},US=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.Identification=a,this.LongDescription=o,this.Usage=c,this.BaseCosts=h,this.BaseQuantity=d,this.PredefinedType=u}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++];return new US(t,i,n,l,r,a,o,c,h,d,u,p,Z)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.Identification),t.push(this.LongDescription),t.push(this.Usage),t.push(this.BaseCosts),t.push(this.BaseQuantity),t.push(this.PredefinedType),t}},DS=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.Identification=o,this.LongDescription=c,this.ResourceType=h,this.BaseCosts=d,this.BaseQuantity=u,this.PredefinedType=p}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++];return new DS(t,i,n,l,r,a,o,c,h,d,u,p,Z,X)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.Identification),t.push(this.LongDescription),t.push(this.ResourceType),t.push(this.BaseCosts),t.push(this.BaseQuantity),t.push(this.PredefinedType),t}},JS=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.Name=e,this.DataOrigin=s,this.UserDefinedDataOrigin=n,this.LagValue=l,this.DurationType=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new JS(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.Name),t.push(this.DataOrigin),t.push(this.UserDefinedDataOrigin),t.push(this.LagValue),t.push(this.DurationType),t}},OS=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new OS(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},BS=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new BS(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},AS=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.Name=e,this.Version=s,this.Publisher=n,this.VersionDate=l,this.Location=r,this.Description=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new AS(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Version),t.push(this.Publisher),t.push(this.VersionDate),t.push(this.Location),t.push(this.Description),t}},jS=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.Location=e,this.Identification=s,this.Name=n,this.Description=l,this.Language=r,this.ReferencedLibrary=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new jS(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.Location),t.push(this.Identification),t.push(this.Name),t.push(this.Description),t.push(this.Language),t.push(this.ReferencedLibrary),t}},QS=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.MainPlaneAngle=e,this.SecondaryPlaneAngle=s,this.LuminousIntensity=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new QS(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.MainPlaneAngle),t.push(this.SecondaryPlaneAngle),t.push(this.LuminousIntensity),t}},_S=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new _S(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},qS=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new qS(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},$S=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.LightDistributionCurve=e,this.DistributionData=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new $S(t,i,n,l)}ToTape(){let t=[];return t.push(this.LightDistributionCurve),t.push(this.DistributionData),t}},tC=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.Name=e,this.LightColour=s,this.AmbientIntensity=n,this.Intensity=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new tC(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.Name),t.push(this.LightColour),t.push(this.AmbientIntensity),t.push(this.Intensity),t}},eC=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.Name=e,this.LightColour=s,this.AmbientIntensity=n,this.Intensity=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new eC(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.Name),t.push(this.LightColour),t.push(this.AmbientIntensity),t.push(this.Intensity),t}},sC=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.Name=e,this.LightColour=s,this.AmbientIntensity=n,this.Intensity=l,this.Orientation=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new sC(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.Name),t.push(this.LightColour),t.push(this.AmbientIntensity),t.push(this.Intensity),t.push(this.Orientation),t}},iC=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.Name=e,this.LightColour=s,this.AmbientIntensity=n,this.Intensity=l,this.Position=r,this.ColourAppearance=a,this.ColourTemperature=o,this.LuminousFlux=c,this.LightEmissionSource=h,this.LightDistributionDataSource=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new iC(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.Name),t.push(this.LightColour),t.push(this.AmbientIntensity),t.push(this.Intensity),t.push(this.Position),t.push(this.ColourAppearance),t.push(this.ColourTemperature),t.push(this.LuminousFlux),t.push(this.LightEmissionSource),t.push(this.LightDistributionDataSource),t}},nC=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.Name=e,this.LightColour=s,this.AmbientIntensity=n,this.Intensity=l,this.Position=r,this.Radius=a,this.ConstantAttenuation=o,this.DistanceAttenuation=c,this.QuadricAttenuation=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new nC(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.Name),t.push(this.LightColour),t.push(this.AmbientIntensity),t.push(this.Intensity),t.push(this.Position),t.push(this.Radius),t.push(this.ConstantAttenuation),t.push(this.DistanceAttenuation),t.push(this.QuadricAttenuation),t}},lC=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p,Z){this.expressID=t,this.type=i,this.Name=e,this.LightColour=s,this.AmbientIntensity=n,this.Intensity=l,this.Position=r,this.Radius=a,this.ConstantAttenuation=o,this.DistanceAttenuation=c,this.QuadricAttenuation=h,this.Orientation=d,this.ConcentrationExponent=u,this.SpreadAngle=p,this.BeamWidthAngle=Z}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++],R=e[s++];return new lC(t,i,n,l,r,a,o,c,h,d,u,p,Z,X,R)}ToTape(){let t=[];return t.push(this.Name),t.push(this.LightColour),t.push(this.AmbientIntensity),t.push(this.Intensity),t.push(this.Position),t.push(this.Radius),t.push(this.ConstantAttenuation),t.push(this.DistanceAttenuation),t.push(this.QuadricAttenuation),t.push(this.Orientation),t.push(this.ConcentrationExponent),t.push(this.SpreadAngle),t.push(this.BeamWidthAngle),t}},rC=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.Pnt=e,this.Dir=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new rC(t,i,n,l)}ToTape(){let t=[];return t.push(this.Pnt),t.push(this.Dir),t}},aC=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.StartPoint=e,this.StartDirection=s,this.SegmentLength=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new aC(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.StartPoint),t.push(this.StartDirection),t.push(this.SegmentLength),t}},oC=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.PlacementRelTo=e,this.PlacementMeasuredAlong=s,this.Distance=n,this.Orientation=l,this.CartesianPosition=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new oC(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.PlacementRelTo),t.push(this.PlacementMeasuredAlong),t.push(this.Distance),t.push(this.Orientation),t.push(this.CartesianPosition),t}},cC=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Axis=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new cC(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Axis),t}},hC=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.PlacementRelTo=e,this.RelativePlacement=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new hC(t,i,n,l)}ToTape(){let t=[];return t.push(this.PlacementRelTo),t.push(this.RelativePlacement),t}},dC=class{constructor(t,i){this.expressID=t,this.type=i}static FromTape(t,i,e){return new dC(t,i)}ToTape(){return[]}},uC=class{constructor(t,i,e){this.expressID=t,this.type=i,this.Outer=e}static FromTape(t,i,e){let s=0,n=e[s++];return new uC(t,i,n)}ToTape(){let t=[];return t.push(this.Outer),t}},pC=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.SourceCRS=e,this.TargetCRS=s,this.Eastings=n,this.Northings=l,this.OrthogonalHeight=r,this.XAxisAbscissa=a,this.XAxisOrdinate=o,this.Scale=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new pC(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.SourceCRS),t.push(this.TargetCRS),t.push(this.Eastings),t.push(this.Northings),t.push(this.OrthogonalHeight),t.push(this.XAxisAbscissa),t.push(this.XAxisOrdinate),t.push(this.Scale),t}},mC=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.MappingSource=e,this.MappingTarget=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new mC(t,i,n,l)}ToTape(){let t=[];return t.push(this.MappingSource),t.push(this.MappingTarget),t}},bC=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.Category=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new bC(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.Category),t}},yC=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.MaterialClassifications=e,this.ClassifiedMaterial=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new yC(t,i,n,l)}ToTape(){let t=[];return t.push(this.MaterialClassifications),t.push(this.ClassifiedMaterial),t}},GC=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.Material=n,this.Fraction=l,this.Category=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new GC(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.Material),t.push(this.Fraction),t.push(this.Category),t}},ZC=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.MaterialConstituents=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new ZC(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.MaterialConstituents),t}},XC=class{constructor(t,i){this.expressID=t,this.type=i}static FromTape(t,i,e){return new XC(t,i)}ToTape(){return[]}},TC=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.Representations=n,this.RepresentedMaterial=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new TC(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.Representations),t.push(this.RepresentedMaterial),t}},RC=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.Material=e,this.LayerThickness=s,this.IsVentilated=n,this.Name=l,this.Description=r,this.Category=a,this.Priority=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new RC(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.Material),t.push(this.LayerThickness),t.push(this.IsVentilated),t.push(this.Name),t.push(this.Description),t.push(this.Category),t.push(this.Priority),t}},IC=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.MaterialLayers=e,this.LayerSetName=s,this.Description=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new IC(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.MaterialLayers),t.push(this.LayerSetName),t.push(this.Description),t}},gC=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.ForLayerSet=e,this.LayerSetDirection=s,this.DirectionSense=n,this.OffsetFromReferenceLine=l,this.ReferenceExtent=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new gC(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.ForLayerSet),t.push(this.LayerSetDirection),t.push(this.DirectionSense),t.push(this.OffsetFromReferenceLine),t.push(this.ReferenceExtent),t}},WC=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.Material=e,this.LayerThickness=s,this.IsVentilated=n,this.Name=l,this.Description=r,this.Category=a,this.Priority=o,this.OffsetDirection=c,this.OffsetValues=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new WC(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.Material),t.push(this.LayerThickness),t.push(this.IsVentilated),t.push(this.Name),t.push(this.Description),t.push(this.Category),t.push(this.Priority),t.push(this.OffsetDirection),t.push(this.OffsetValues),t}},LC=class{constructor(t,i,e){this.expressID=t,this.type=i,this.Materials=e}static FromTape(t,i,e){let s=0,n=e[s++];return new LC(t,i,n)}ToTape(){let t=[];return t.push(this.Materials),t}},SC=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.Material=n,this.Profile=l,this.Priority=r,this.Category=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new SC(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.Material),t.push(this.Profile),t.push(this.Priority),t.push(this.Category),t}},CC=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.MaterialProfiles=n,this.CompositeProfile=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new CC(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.MaterialProfiles),t.push(this.CompositeProfile),t}},fC=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.ForProfileSet=e,this.CardinalPoint=s,this.ReferenceExtent=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new fC(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.ForProfileSet),t.push(this.CardinalPoint),t.push(this.ReferenceExtent),t}},VC=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.ForProfileSet=e,this.CardinalPoint=s,this.ReferenceExtent=n,this.ForProfileEndSet=l,this.CardinalEndPoint=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new VC(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.ForProfileSet),t.push(this.CardinalPoint),t.push(this.ReferenceExtent),t.push(this.ForProfileEndSet),t.push(this.CardinalEndPoint),t}},xC=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.Material=n,this.Profile=l,this.Priority=r,this.Category=a,this.OffsetValues=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new xC(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.Material),t.push(this.Profile),t.push(this.Priority),t.push(this.Category),t.push(this.OffsetValues),t}},NC=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.Properties=n,this.Material=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new NC(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.Properties),t.push(this.Material),t}},FC=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.RelatingMaterial=n,this.RelatedMaterials=l,this.Expression=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new FC(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.RelatingMaterial),t.push(this.RelatedMaterials),t.push(this.Expression),t}},MC=class{constructor(t,i){this.expressID=t,this.type=i}static FromTape(t,i,e){return new MC(t,i)}ToTape(){return[]}},YC=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.ValueComponent=e,this.UnitComponent=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new YC(t,i,n,l)}ToTape(){let t=[];return t.push(this.ValueComponent),t.push(this.UnitComponent),t}},vC=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.NominalDiameter=h,this.NominalLength=d,this.PredefinedType=u}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++];return new vC(t,i,n,l,r,a,o,c,h,d,u,p,Z)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.NominalDiameter),t.push(this.NominalLength),t.push(this.PredefinedType),t}},EC=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d,this.NominalDiameter=u,this.NominalLength=p}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++];return new EC(t,i,n,l,r,a,o,c,h,d,u,p,Z,X)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t.push(this.NominalDiameter),t.push(this.NominalLength),t}},zC=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new zC(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},HC=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new HC(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},KC=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new KC(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},wC=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new wC(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},kC=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new kC(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},PC=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.ConstraintGrade=n,this.ConstraintSource=l,this.CreatingActor=r,this.CreationTime=a,this.UserDefinedGrade=o,this.Benchmark=c,this.ValueSource=h,this.DataValue=d,this.ReferencePath=u}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++];return new PC(t,i,n,l,r,a,o,c,h,d,u,p,Z)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.ConstraintGrade),t.push(this.ConstraintSource),t.push(this.CreatingActor),t.push(this.CreationTime),t.push(this.UserDefinedGrade),t.push(this.Benchmark),t.push(this.ValueSource),t.push(this.DataValue),t.push(this.ReferencePath),t}},UC=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.ProfileType=e,this.ProfileName=s,this.ParentProfile=n,this.Operator=l,this.Label=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new UC(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.ProfileType),t.push(this.ProfileName),t.push(this.ParentProfile),t.push(this.Operator),t.push(this.Label),t}},DC=class{constructor(t,i,e){this.expressID=t,this.type=i,this.Currency=e}static FromTape(t,i,e){let s=0,n=e[s++];return new DC(t,i,n)}ToTape(){let t=[];return t.push(this.Currency),t}},JC=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new JC(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},OC=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new OC(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},BC=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.Dimensions=e,this.UnitType=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new BC(t,i,n,l)}ToTape(){let t=[];return t.push(this.Dimensions),t.push(this.UnitType),t}},AC=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new AC(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t}},jC=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new jC(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t}},QC=class{constructor(t,i,e){this.expressID=t,this.type=i,this.PlacementRelTo=e}static FromTape(t,i,e){let s=0,n=e[s++];return new QC(t,i,n)}ToTape(){let t=[];return t.push(this.PlacementRelTo),t}},_C=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.ConstraintGrade=n,this.ConstraintSource=l,this.CreatingActor=r,this.CreationTime=a,this.UserDefinedGrade=o,this.BenchmarkValues=c,this.LogicalAggregator=h,this.ObjectiveQualifier=d,this.UserDefinedQualifier=u}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++];return new _C(t,i,n,l,r,a,o,c,h,d,u,p,Z)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.ConstraintGrade),t.push(this.ConstraintSource),t.push(this.CreatingActor),t.push(this.CreationTime),t.push(this.UserDefinedGrade),t.push(this.BenchmarkValues),t.push(this.LogicalAggregator),t.push(this.ObjectiveQualifier),t.push(this.UserDefinedQualifier),t}},qC=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.TheActor=a,this.PredefinedType=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new qC(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.TheActor),t.push(this.PredefinedType),t}},$C=class{constructor(t,i,e){this.expressID=t,this.type=i,this.BasisCurve=e}static FromTape(t,i,e){let s=0,n=e[s++];return new $C(t,i,n)}ToTape(){let t=[];return t.push(this.BasisCurve),t}},tf=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.BasisCurve=e,this.Distance=s,this.SelfIntersect=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new tf(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.BasisCurve),t.push(this.Distance),t.push(this.SelfIntersect),t}},ef=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.BasisCurve=e,this.Distance=s,this.SelfIntersect=n,this.RefDirection=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new ef(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.BasisCurve),t.push(this.Distance),t.push(this.SelfIntersect),t.push(this.RefDirection),t}},sf=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.BasisCurve=e,this.OffsetValues=s,this.Tag=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new sf(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.BasisCurve),t.push(this.OffsetValues),t.push(this.Tag),t}},nf=class{constructor(t,i,e){this.expressID=t,this.type=i,this.CfsFaces=e}static FromTape(t,i,e){let s=0,n=e[s++];return new nf(t,i,n)}ToTape(){let t=[];return t.push(this.CfsFaces),t}},lf=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new lf(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},rf=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new rf(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},af=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.Identification=e,this.Name=s,this.Description=n,this.Roles=l,this.Addresses=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new af(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.Identification),t.push(this.Name),t.push(this.Description),t.push(this.Roles),t.push(this.Addresses),t}},of=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.RelatingOrganization=n,this.RelatedOrganizations=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new of(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.RelatingOrganization),t.push(this.RelatedOrganizations),t}},cf=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.LateralAxisDirection=e,this.VerticalAxisDirection=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new cf(t,i,n,l)}ToTape(){let t=[];return t.push(this.LateralAxisDirection),t.push(this.VerticalAxisDirection),t}},hf=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.EdgeStart=e,this.EdgeEnd=s,this.EdgeElement=n,this.Orientation=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new hf(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.EdgeStart),t.push(this.EdgeEnd),t.push(this.EdgeElement),t.push(this.Orientation),t}},df=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.Segments=e,this.SelfIntersect=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new df(t,i,n,l)}ToTape(){let t=[];return t.push(this.Segments),t.push(this.SelfIntersect),t}},uf=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new uf(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},pf=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new pf(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},mf=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.OwningUser=e,this.OwningApplication=s,this.State=n,this.ChangeAction=l,this.LastModifiedDate=r,this.LastModifyingUser=a,this.LastModifyingApplication=o,this.CreationDate=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new mf(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.OwningUser),t.push(this.OwningApplication),t.push(this.State),t.push(this.ChangeAction),t.push(this.LastModifiedDate),t.push(this.LastModifyingUser),t.push(this.LastModifyingApplication),t.push(this.CreationDate),t}},bf=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.ProfileType=e,this.ProfileName=s,this.Position=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new bf(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.ProfileType),t.push(this.ProfileName),t.push(this.Position),t}},yf=class{constructor(t,i,e){this.expressID=t,this.type=i,this.EdgeList=e}static FromTape(t,i,e){let s=0,n=e[s++];return new yf(t,i,n)}ToTape(){let t=[];return t.push(this.EdgeList),t}},Gf=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.BasisSurface=e,this.ReferenceCurve=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new Gf(t,i,n,l)}ToTape(){let t=[];return t.push(this.BasisSurface),t.push(this.ReferenceCurve),t}},Zf=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.Identification=a,this.LifeCyclePhase=o,this.PredefinedType=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new Zf(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.Identification),t.push(this.LifeCyclePhase),t.push(this.PredefinedType),t}},Xf=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.OperationType=r,this.PanelPosition=a,this.FrameDepth=o,this.FrameThickness=c,this.ShapeAspectStyle=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new Xf(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.OperationType),t.push(this.PanelPosition),t.push(this.FrameDepth),t.push(this.FrameThickness),t.push(this.ShapeAspectStyle),t}},Tf=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.Identification=a,this.PredefinedType=o,this.Status=c,this.LongDescription=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new Tf(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.Identification),t.push(this.PredefinedType),t.push(this.Status),t.push(this.LongDescription),t}},Rf=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.Identification=e,this.FamilyName=s,this.GivenName=n,this.MiddleNames=l,this.PrefixTitles=r,this.SuffixTitles=a,this.Roles=o,this.Addresses=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new Rf(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.Identification),t.push(this.FamilyName),t.push(this.GivenName),t.push(this.MiddleNames),t.push(this.PrefixTitles),t.push(this.SuffixTitles),t.push(this.Roles),t.push(this.Addresses),t}},If=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.ThePerson=e,this.TheOrganization=s,this.Roles=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new If(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.ThePerson),t.push(this.TheOrganization),t.push(this.Roles),t}},gf=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.HasQuantities=n,this.Discrimination=l,this.Quality=r,this.Usage=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new gf(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.HasQuantities),t.push(this.Discrimination),t.push(this.Quality),t.push(this.Usage),t}},Wf=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.Name=e,this.Description=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new Wf(t,i,n,l)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t}},Lf=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.Unit=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new Lf(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.Unit),t}},Sf=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h,this.ConstructionType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new Sf(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t.push(this.ConstructionType),t}},Cf=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new Cf(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},ff=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new ff(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},Vf=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new Vf(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},xf=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new xf(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},Nf=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new Nf(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},Ff=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.RepeatS=e,this.RepeatT=s,this.Mode=n,this.TextureTransform=l,this.Parameter=r,this.Width=a,this.Height=o,this.ColourComponents=c,this.Pixel=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new Ff(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.RepeatS),t.push(this.RepeatT),t.push(this.Mode),t.push(this.TextureTransform),t.push(this.Parameter),t.push(this.Width),t.push(this.Height),t.push(this.ColourComponents),t.push(this.Pixel),t}},Mf=class{constructor(t,i,e){this.expressID=t,this.type=i,this.Location=e}static FromTape(t,i,e){let s=0,n=e[s++];return new Mf(t,i,n)}ToTape(){let t=[];return t.push(this.Location),t}},Yf=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.SizeInX=e,this.SizeInY=s,this.Placement=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new Yf(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.SizeInX),t.push(this.SizeInY),t.push(this.Placement),t}},vf=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.SizeInX=e,this.SizeInY=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new vf(t,i,n,l)}ToTape(){let t=[];return t.push(this.SizeInX),t.push(this.SizeInY),t}},Ef=class{constructor(t,i,e){this.expressID=t,this.type=i,this.Position=e}static FromTape(t,i,e){let s=0,n=e[s++];return new Ef(t,i,n)}ToTape(){let t=[];return t.push(this.Position),t}},zf=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new zf(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},Hf=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new Hf(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},Kf=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new Kf(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},wf=class{constructor(t,i){this.expressID=t,this.type=i}static FromTape(t,i,e){return new wf(t,i)}ToTape(){return[]}},kf=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.BasisCurve=e,this.PointParameter=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new kf(t,i,n,l)}ToTape(){let t=[];return t.push(this.BasisCurve),t.push(this.PointParameter),t}},Pf=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.BasisSurface=e,this.PointParameterU=s,this.PointParameterV=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new Pf(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.BasisSurface),t.push(this.PointParameterU),t.push(this.PointParameterV),t}},Uf=class{constructor(t,i,e){this.expressID=t,this.type=i,this.Polygon=e}static FromTape(t,i,e){let s=0,n=e[s++];return new Uf(t,i,n)}ToTape(){let t=[];return t.push(this.Polygon),t}},Df=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.BaseSurface=e,this.AgreementFlag=s,this.Position=n,this.PolygonalBoundary=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new Df(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.BaseSurface),t.push(this.AgreementFlag),t.push(this.Position),t.push(this.PolygonalBoundary),t}},Jf=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.Coordinates=e,this.Closed=s,this.Faces=n,this.PnIndex=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new Jf(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.Coordinates),t.push(this.Closed),t.push(this.Faces),t.push(this.PnIndex),t}},Of=class{constructor(t,i,e){this.expressID=t,this.type=i,this.Points=e}static FromTape(t,i,e){let s=0,n=e[s++];return new Of(t,i,n)}ToTape(){let t=[];return t.push(this.Points),t}},Bf=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new Bf(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t}},Af=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new Af(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t}},jf=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.Purpose=e,this.Description=s,this.UserDefinedPurpose=n,this.InternalLocation=l,this.AddressLines=r,this.PostalBox=a,this.Town=o,this.Region=c,this.PostalCode=h,this.Country=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new jf(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.Purpose),t.push(this.Description),t.push(this.UserDefinedPurpose),t.push(this.InternalLocation),t.push(this.AddressLines),t.push(this.PostalBox),t.push(this.Town),t.push(this.Region),t.push(this.PostalCode),t.push(this.Country),t}},Qf=class{constructor(t,i,e){this.expressID=t,this.type=i,this.Name=e}static FromTape(t,i,e){let s=0,n=e[s++];return new Qf(t,i,n)}ToTape(){let t=[];return t.push(this.Name),t}},_f=class{constructor(t,i,e){this.expressID=t,this.type=i,this.Name=e}static FromTape(t,i,e){let s=0,n=e[s++];return new _f(t,i,n)}ToTape(){let t=[];return t.push(this.Name),t}},qf=class{constructor(t,i,e){this.expressID=t,this.type=i,this.Name=e}static FromTape(t,i,e){let s=0,n=e[s++];return new qf(t,i,n)}ToTape(){let t=[];return t.push(this.Name),t}},$f=class{constructor(t,i){this.expressID=t,this.type=i}static FromTape(t,i,e){return new $f(t,i)}ToTape(){return[]}},t5=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new t5(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t}},e5=class{constructor(t,i,e){this.expressID=t,this.type=i,this.Name=e}static FromTape(t,i,e){let s=0,n=e[s++];return new e5(t,i,n)}ToTape(){let t=[];return t.push(this.Name),t}},s5=class{constructor(t,i){this.expressID=t,this.type=i}static FromTape(t,i,e){return new s5(t,i)}ToTape(){return[]}},i5=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.AssignedItems=n,this.Identifier=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new i5(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.AssignedItems),t.push(this.Identifier),t}},n5=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.AssignedItems=n,this.Identifier=l,this.LayerOn=r,this.LayerFrozen=a,this.LayerBlocked=o,this.LayerStyles=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new n5(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.AssignedItems),t.push(this.Identifier),t.push(this.LayerOn),t.push(this.LayerFrozen),t.push(this.LayerBlocked),t.push(this.LayerStyles),t}},l5=class{constructor(t,i,e){this.expressID=t,this.type=i,this.Name=e}static FromTape(t,i,e){let s=0,n=e[s++];return new l5(t,i,n)}ToTape(){let t=[];return t.push(this.Name),t}},r5=class{constructor(t,i,e){this.expressID=t,this.type=i,this.Styles=e}static FromTape(t,i,e){let s=0,n=e[s++];return new r5(t,i,n)}ToTape(){let t=[];return t.push(this.Styles),t}},a5=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.Identification=a,this.LongDescription=o,this.PredefinedType=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new a5(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.Identification),t.push(this.LongDescription),t.push(this.PredefinedType),t}},o5=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.Identification=o,this.LongDescription=c,this.ProcessType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new o5(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.Identification),t.push(this.LongDescription),t.push(this.ProcessType),t.push(this.PredefinedType),t}},c5=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.Identification=a,this.LongDescription=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new c5(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.Identification),t.push(this.LongDescription),t}},h5=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new h5(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t}},d5=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.Representations=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new d5(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.Representations),t}},u5=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.Representations=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new u5(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.Representations),t}},p5=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.ProfileType=e,this.ProfileName=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new p5(t,i,n,l)}ToTape(){let t=[];return t.push(this.ProfileType),t.push(this.ProfileName),t}},m5=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.Properties=n,this.ProfileDefinition=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new m5(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.Properties),t.push(this.ProfileDefinition),t}},b5=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.LongName=a,this.Phase=o,this.RepresentationContexts=c,this.UnitsInContext=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new b5(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.LongName),t.push(this.Phase),t.push(this.RepresentationContexts),t.push(this.UnitsInContext),t}},y5=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.LongName=a,this.Phase=o,this.RepresentationContexts=c,this.UnitsInContext=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new y5(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.LongName),t.push(this.Phase),t.push(this.RepresentationContexts),t.push(this.UnitsInContext),t}},G5=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.Identification=a,this.PredefinedType=o,this.Status=c,this.LongDescription=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new G5(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.Identification),t.push(this.PredefinedType),t.push(this.Status),t.push(this.LongDescription),t}},Z5=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.GeodeticDatum=n,this.VerticalDatum=l,this.MapProjection=r,this.MapZone=a,this.MapUnit=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new Z5(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.GeodeticDatum),t.push(this.VerticalDatum),t.push(this.MapProjection),t.push(this.MapZone),t.push(this.MapUnit),t}},X5=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new X5(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},T5=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.Name=e,this.Description=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new T5(t,i,n,l)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t}},R5=class{constructor(t,i){this.expressID=t,this.type=i}static FromTape(t,i,e){return new R5(t,i)}ToTape(){return[]}},I5=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.UpperBoundValue=n,this.LowerBoundValue=l,this.Unit=r,this.SetPointValue=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new I5(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.UpperBoundValue),t.push(this.LowerBoundValue),t.push(this.Unit),t.push(this.SetPointValue),t}},g5=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new g5(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t}},W5=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.DependingProperty=n,this.DependantProperty=l,this.Expression=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new W5(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.DependingProperty),t.push(this.DependantProperty),t.push(this.Expression),t}},L5=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.EnumerationValues=n,this.EnumerationReference=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new L5(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.EnumerationValues),t.push(this.EnumerationReference),t}},S5=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.Name=e,this.EnumerationValues=s,this.Unit=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new S5(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.Name),t.push(this.EnumerationValues),t.push(this.Unit),t}},C5=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.ListValues=n,this.Unit=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new C5(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.ListValues),t.push(this.Unit),t}},f5=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.UsageName=n,this.PropertyReference=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new f5(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.UsageName),t.push(this.PropertyReference),t}},V5=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.HasProperties=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new V5(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.HasProperties),t}},x5=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new x5(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t}},N5=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.TemplateType=r,this.ApplicableEntity=a,this.HasPropertyTemplates=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new N5(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.TemplateType),t.push(this.ApplicableEntity),t.push(this.HasPropertyTemplates),t}},F5=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.NominalValue=n,this.Unit=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new F5(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.NominalValue),t.push(this.Unit),t}},M5=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.DefiningValues=n,this.DefinedValues=l,this.Expression=r,this.DefiningUnit=a,this.DefinedUnit=o,this.CurveInterpolation=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new M5(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.DefiningValues),t.push(this.DefinedValues),t.push(this.Expression),t.push(this.DefiningUnit),t.push(this.DefinedUnit),t.push(this.CurveInterpolation),t}},Y5=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new Y5(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t}},v5=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new v5(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t}},E5=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new E5(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},z5=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new z5(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},H5=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new H5(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},K5=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new K5(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},w5=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.ProxyType=c,this.Tag=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new w5(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.ProxyType),t.push(this.Tag),t}},k5=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new k5(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},P5=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new P5(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},U5=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.Unit=n,this.AreaValue=l,this.Formula=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new U5(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.Unit),t.push(this.AreaValue),t.push(this.Formula),t}},D5=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.Unit=n,this.CountValue=l,this.Formula=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new D5(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.Unit),t.push(this.CountValue),t.push(this.Formula),t}},J5=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.Unit=n,this.LengthValue=l,this.Formula=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new J5(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.Unit),t.push(this.LengthValue),t.push(this.Formula),t}},O5=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new O5(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t}},B5=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.Unit=n,this.TimeValue=l,this.Formula=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new B5(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.Unit),t.push(this.TimeValue),t.push(this.Formula),t}},A5=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.Unit=n,this.VolumeValue=l,this.Formula=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new A5(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.Unit),t.push(this.VolumeValue),t.push(this.Formula),t}},j5=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.Unit=n,this.WeightValue=l,this.Formula=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new j5(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.Unit),t.push(this.WeightValue),t.push(this.Formula),t}},Q5=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new Q5(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},_5=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new _5(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},q5=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new q5(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},$5=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new $5(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},tV=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new tV(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},eV=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new eV(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},sV=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.Degree=e,this.ControlPointsList=s,this.CurveForm=n,this.ClosedCurve=l,this.SelfIntersect=r,this.KnotMultiplicities=a,this.Knots=o,this.KnotSpec=c,this.WeightsData=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new sV(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.Degree),t.push(this.ControlPointsList),t.push(this.CurveForm),t.push(this.ClosedCurve),t.push(this.SelfIntersect),t.push(this.KnotMultiplicities),t.push(this.Knots),t.push(this.KnotSpec),t.push(this.WeightsData),t}},iV=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p,Z){this.expressID=t,this.type=i,this.UDegree=e,this.VDegree=s,this.ControlPointsList=n,this.SurfaceForm=l,this.UClosed=r,this.VClosed=a,this.SelfIntersect=o,this.UMultiplicities=c,this.VMultiplicities=h,this.UKnots=d,this.VKnots=u,this.KnotSpec=p,this.WeightsData=Z}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++],R=e[s++];return new iV(t,i,n,l,r,a,o,c,h,d,u,p,Z,X,R)}ToTape(){let t=[];return t.push(this.UDegree),t.push(this.VDegree),t.push(this.ControlPointsList),t.push(this.SurfaceForm),t.push(this.UClosed),t.push(this.VClosed),t.push(this.SelfIntersect),t.push(this.UMultiplicities),t.push(this.VMultiplicities),t.push(this.UKnots),t.push(this.VKnots),t.push(this.KnotSpec),t.push(this.WeightsData),t}},nV=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.ProfileType=e,this.ProfileName=s,this.Position=n,this.XDim=l,this.YDim=r,this.WallThickness=a,this.InnerFilletRadius=o,this.OuterFilletRadius=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new nV(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.ProfileType),t.push(this.ProfileName),t.push(this.Position),t.push(this.XDim),t.push(this.YDim),t.push(this.WallThickness),t.push(this.InnerFilletRadius),t.push(this.OuterFilletRadius),t}},lV=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.ProfileType=e,this.ProfileName=s,this.Position=n,this.XDim=l,this.YDim=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new lV(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.ProfileType),t.push(this.ProfileName),t.push(this.Position),t.push(this.XDim),t.push(this.YDim),t}},rV=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.Position=e,this.XLength=s,this.YLength=n,this.Height=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new rV(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.Position),t.push(this.XLength),t.push(this.YLength),t.push(this.Height),t}},aV=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.BasisSurface=e,this.U1=s,this.V1=n,this.U2=l,this.V2=r,this.Usense=a,this.Vsense=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new aV(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.BasisSurface),t.push(this.U1),t.push(this.V1),t.push(this.U2),t.push(this.V2),t.push(this.Usense),t.push(this.Vsense),t}},oV=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.RecurrenceType=e,this.DayComponent=s,this.WeekdayComponent=n,this.MonthComponent=l,this.Position=r,this.Interval=a,this.Occurrences=o,this.TimePeriods=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new oV(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.RecurrenceType),t.push(this.DayComponent),t.push(this.WeekdayComponent),t.push(this.MonthComponent),t.push(this.Position),t.push(this.Interval),t.push(this.Occurrences),t.push(this.TimePeriods),t}},cV=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.TypeIdentifier=e,this.AttributeIdentifier=s,this.InstanceName=n,this.ListPositions=l,this.InnerReference=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new cV(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.TypeIdentifier),t.push(this.AttributeIdentifier),t.push(this.InstanceName),t.push(this.ListPositions),t.push(this.InnerReference),t}},hV=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.PredefinedType=c,this.RestartDistance=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new hV(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.PredefinedType),t.push(this.RestartDistance),t}},dV=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.StartTime=n,this.EndTime=l,this.TimeSeriesDataType=r,this.DataOrigin=a,this.UserDefinedDataOrigin=o,this.Unit=c,this.TimeStep=h,this.Values=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new dV(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.StartTime),t.push(this.EndTime),t.push(this.TimeSeriesDataType),t.push(this.DataOrigin),t.push(this.UserDefinedDataOrigin),t.push(this.Unit),t.push(this.TimeStep),t.push(this.Values),t}},uV=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.TotalCrossSectionArea=e,this.SteelGrade=s,this.BarSurface=n,this.EffectiveDepth=l,this.NominalBarDiameter=r,this.BarCount=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new uV(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.TotalCrossSectionArea),t.push(this.SteelGrade),t.push(this.BarSurface),t.push(this.EffectiveDepth),t.push(this.NominalBarDiameter),t.push(this.BarCount),t}},pV=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.DefinitionType=r,this.ReinforcementSectionDefinitions=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new pV(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.DefinitionType),t.push(this.ReinforcementSectionDefinitions),t}},mV=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p,Z,X){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.SteelGrade=h,this.NominalDiameter=d,this.CrossSectionArea=u,this.BarLength=p,this.PredefinedType=Z,this.BarSurface=X}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++],R=e[s++],W=e[s++];return new mV(t,i,n,l,r,a,o,c,h,d,u,p,Z,X,R,W)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.SteelGrade),t.push(this.NominalDiameter),t.push(this.CrossSectionArea),t.push(this.BarLength),t.push(this.PredefinedType),t.push(this.BarSurface),t}},bV=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p,Z,X,R,W){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d,this.NominalDiameter=u,this.CrossSectionArea=p,this.BarLength=Z,this.BarSurface=X,this.BendingShapeCode=R,this.BendingParameters=W}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++],R=e[s++],W=e[s++],S=e[s++],F=e[s++];return new bV(t,i,n,l,r,a,o,c,h,d,u,p,Z,X,R,W,S,F)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t.push(this.NominalDiameter),t.push(this.CrossSectionArea),t.push(this.BarLength),t.push(this.BarSurface),t.push(this.BendingShapeCode),t.push(this.BendingParameters),t}},yV=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.SteelGrade=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new yV(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.SteelGrade),t}},GV=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new GV(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t}},ZV=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p,Z,X,R,W,S,F){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.SteelGrade=h,this.MeshLength=d,this.MeshWidth=u,this.LongitudinalBarNominalDiameter=p,this.TransverseBarNominalDiameter=Z,this.LongitudinalBarCrossSectionArea=X,this.TransverseBarCrossSectionArea=R,this.LongitudinalBarSpacing=W,this.TransverseBarSpacing=S,this.PredefinedType=F}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++],R=e[s++],W=e[s++],S=e[s++],F=e[s++],M=e[s++],N=e[s++];return new ZV(t,i,n,l,r,a,o,c,h,d,u,p,Z,X,R,W,S,F,M,N)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.SteelGrade),t.push(this.MeshLength),t.push(this.MeshWidth),t.push(this.LongitudinalBarNominalDiameter),t.push(this.TransverseBarNominalDiameter),t.push(this.LongitudinalBarCrossSectionArea),t.push(this.TransverseBarCrossSectionArea),t.push(this.LongitudinalBarSpacing),t.push(this.TransverseBarSpacing),t.push(this.PredefinedType),t}},XV=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p,Z,X,R,W,S,F,M,N){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d,this.MeshLength=u,this.MeshWidth=p,this.LongitudinalBarNominalDiameter=Z,this.TransverseBarNominalDiameter=X,this.LongitudinalBarCrossSectionArea=R,this.TransverseBarCrossSectionArea=W,this.LongitudinalBarSpacing=S,this.TransverseBarSpacing=F,this.BendingShapeCode=M,this.BendingParameters=N}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++],R=e[s++],W=e[s++],S=e[s++],F=e[s++],M=e[s++],N=e[s++],E=e[s++],Y=e[s++];return new XV(t,i,n,l,r,a,o,c,h,d,u,p,Z,X,R,W,S,F,M,N,E,Y)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t.push(this.MeshLength),t.push(this.MeshWidth),t.push(this.LongitudinalBarNominalDiameter),t.push(this.TransverseBarNominalDiameter),t.push(this.LongitudinalBarCrossSectionArea),t.push(this.TransverseBarCrossSectionArea),t.push(this.LongitudinalBarSpacing),t.push(this.TransverseBarSpacing),t.push(this.BendingShapeCode),t.push(this.BendingParameters),t}},TV=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatingObject=r,this.RelatedObjects=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new TV(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatingObject),t.push(this.RelatedObjects),t}},RV=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatedObjects=r,this.RelatedObjectsType=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new RV(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatedObjects),t.push(this.RelatedObjectsType),t}},IV=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatedObjects=r,this.RelatedObjectsType=a,this.RelatingActor=o,this.ActingRole=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new IV(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatedObjects),t.push(this.RelatedObjectsType),t.push(this.RelatingActor),t.push(this.ActingRole),t}},gV=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatedObjects=r,this.RelatedObjectsType=a,this.RelatingControl=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new gV(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatedObjects),t.push(this.RelatedObjectsType),t.push(this.RelatingControl),t}},WV=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatedObjects=r,this.RelatedObjectsType=a,this.RelatingGroup=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new WV(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatedObjects),t.push(this.RelatedObjectsType),t.push(this.RelatingGroup),t}},LV=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatedObjects=r,this.RelatedObjectsType=a,this.RelatingGroup=o,this.Factor=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new LV(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatedObjects),t.push(this.RelatedObjectsType),t.push(this.RelatingGroup),t.push(this.Factor),t}},SV=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatedObjects=r,this.RelatedObjectsType=a,this.RelatingProcess=o,this.QuantityInProcess=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new SV(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatedObjects),t.push(this.RelatedObjectsType),t.push(this.RelatingProcess),t.push(this.QuantityInProcess),t}},CV=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatedObjects=r,this.RelatedObjectsType=a,this.RelatingProduct=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new CV(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatedObjects),t.push(this.RelatedObjectsType),t.push(this.RelatingProduct),t}},fV=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatedObjects=r,this.RelatedObjectsType=a,this.RelatingResource=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new fV(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatedObjects),t.push(this.RelatedObjectsType),t.push(this.RelatingResource),t}},VV=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatedObjects=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new VV(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatedObjects),t}},xV=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatedObjects=r,this.RelatingApproval=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new xV(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatedObjects),t.push(this.RelatingApproval),t}},NV=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatedObjects=r,this.RelatingClassification=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new NV(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatedObjects),t.push(this.RelatingClassification),t}},FV=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatedObjects=r,this.Intent=a,this.RelatingConstraint=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new FV(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatedObjects),t.push(this.Intent),t.push(this.RelatingConstraint),t}},MV=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatedObjects=r,this.RelatingDocument=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new MV(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatedObjects),t.push(this.RelatingDocument),t}},YV=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatedObjects=r,this.RelatingLibrary=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new YV(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatedObjects),t.push(this.RelatingLibrary),t}},vV=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatedObjects=r,this.RelatingMaterial=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new vV(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatedObjects),t.push(this.RelatingMaterial),t}},EV=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new EV(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t}},zV=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ConnectionGeometry=r,this.RelatingElement=a,this.RelatedElement=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new zV(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ConnectionGeometry),t.push(this.RelatingElement),t.push(this.RelatedElement),t}},HV=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ConnectionGeometry=r,this.RelatingElement=a,this.RelatedElement=o,this.RelatingPriorities=c,this.RelatedPriorities=h,this.RelatedConnectionType=d,this.RelatingConnectionType=u}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++];return new HV(t,i,n,l,r,a,o,c,h,d,u,p,Z)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ConnectionGeometry),t.push(this.RelatingElement),t.push(this.RelatedElement),t.push(this.RelatingPriorities),t.push(this.RelatedPriorities),t.push(this.RelatedConnectionType),t.push(this.RelatingConnectionType),t}},KV=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatingPort=r,this.RelatedElement=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new KV(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatingPort),t.push(this.RelatedElement),t}},wV=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatingPort=r,this.RelatedPort=a,this.RealizingElement=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new wV(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatingPort),t.push(this.RelatedPort),t.push(this.RealizingElement),t}},kV=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatingElement=r,this.RelatedStructuralActivity=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new kV(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatingElement),t.push(this.RelatedStructuralActivity),t}},PV=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatingStructuralMember=r,this.RelatedStructuralConnection=a,this.AppliedCondition=o,this.AdditionalConditions=c,this.SupportedLength=h,this.ConditionCoordinateSystem=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new PV(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatingStructuralMember),t.push(this.RelatedStructuralConnection),t.push(this.AppliedCondition),t.push(this.AdditionalConditions),t.push(this.SupportedLength),t.push(this.ConditionCoordinateSystem),t}},UV=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatingStructuralMember=r,this.RelatedStructuralConnection=a,this.AppliedCondition=o,this.AdditionalConditions=c,this.SupportedLength=h,this.ConditionCoordinateSystem=d,this.ConnectionConstraint=u}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++];return new UV(t,i,n,l,r,a,o,c,h,d,u,p,Z)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatingStructuralMember),t.push(this.RelatedStructuralConnection),t.push(this.AppliedCondition),t.push(this.AdditionalConditions),t.push(this.SupportedLength),t.push(this.ConditionCoordinateSystem),t.push(this.ConnectionConstraint),t}},DV=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ConnectionGeometry=r,this.RelatingElement=a,this.RelatedElement=o,this.RealizingElements=c,this.ConnectionType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new DV(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ConnectionGeometry),t.push(this.RelatingElement),t.push(this.RelatedElement),t.push(this.RealizingElements),t.push(this.ConnectionType),t}},JV=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatedElements=r,this.RelatingStructure=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new JV(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatedElements),t.push(this.RelatingStructure),t}},OV=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatingBuildingElement=r,this.RelatedCoverings=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new OV(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatingBuildingElement),t.push(this.RelatedCoverings),t}},BV=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatingSpace=r,this.RelatedCoverings=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new BV(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatingSpace),t.push(this.RelatedCoverings),t}},AV=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatingContext=r,this.RelatedDefinitions=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new AV(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatingContext),t.push(this.RelatedDefinitions),t}},jV=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new jV(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t}},QV=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new QV(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t}},_V=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatedObjects=r,this.RelatingObject=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new _V(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatedObjects),t.push(this.RelatingObject),t}},qV=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatedObjects=r,this.RelatingPropertyDefinition=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new qV(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatedObjects),t.push(this.RelatingPropertyDefinition),t}},$V=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatedPropertySets=r,this.RelatingTemplate=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new $V(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatedPropertySets),t.push(this.RelatingTemplate),t}},tx=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatedObjects=r,this.RelatingType=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new tx(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatedObjects),t.push(this.RelatingType),t}},ex=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatingOpeningElement=r,this.RelatedBuildingElement=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new ex(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatingOpeningElement),t.push(this.RelatedBuildingElement),t}},sx=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatedControlElements=r,this.RelatingFlowElement=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new sx(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatedControlElements),t.push(this.RelatingFlowElement),t}},ix=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatingElement=r,this.RelatedElement=a,this.InterferenceGeometry=o,this.InterferenceType=c,this.ImpliedOrder=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new ix(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatingElement),t.push(this.RelatedElement),t.push(this.InterferenceGeometry),t.push(this.InterferenceType),t.push(this.ImpliedOrder),t}},nx=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatingObject=r,this.RelatedObjects=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new nx(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatingObject),t.push(this.RelatedObjects),t}},lx=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatingPositioningElement=r,this.RelatedProducts=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new lx(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatingPositioningElement),t.push(this.RelatedProducts),t}},rx=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatingElement=r,this.RelatedFeatureElement=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new rx(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatingElement),t.push(this.RelatedFeatureElement),t}},ax=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatedElements=r,this.RelatingStructure=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new ax(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatedElements),t.push(this.RelatingStructure),t}},ox=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatingProcess=r,this.RelatedProcess=a,this.TimeLag=o,this.SequenceType=c,this.UserDefinedSequenceType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new ox(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatingProcess),t.push(this.RelatedProcess),t.push(this.TimeLag),t.push(this.SequenceType),t.push(this.UserDefinedSequenceType),t}},cx=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatingSystem=r,this.RelatedBuildings=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new cx(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatingSystem),t.push(this.RelatedBuildings),t}},hx=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatingSpace=r,this.RelatedBuildingElement=a,this.ConnectionGeometry=o,this.PhysicalOrVirtualBoundary=c,this.InternalOrExternalBoundary=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new hx(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatingSpace),t.push(this.RelatedBuildingElement),t.push(this.ConnectionGeometry),t.push(this.PhysicalOrVirtualBoundary),t.push(this.InternalOrExternalBoundary),t}},dx=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatingSpace=r,this.RelatedBuildingElement=a,this.ConnectionGeometry=o,this.PhysicalOrVirtualBoundary=c,this.InternalOrExternalBoundary=h,this.ParentBoundary=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new dx(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatingSpace),t.push(this.RelatedBuildingElement),t.push(this.ConnectionGeometry),t.push(this.PhysicalOrVirtualBoundary),t.push(this.InternalOrExternalBoundary),t.push(this.ParentBoundary),t}},ux=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatingSpace=r,this.RelatedBuildingElement=a,this.ConnectionGeometry=o,this.PhysicalOrVirtualBoundary=c,this.InternalOrExternalBoundary=h,this.ParentBoundary=d,this.CorrespondingBoundary=u}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++];return new ux(t,i,n,l,r,a,o,c,h,d,u,p,Z)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatingSpace),t.push(this.RelatedBuildingElement),t.push(this.ConnectionGeometry),t.push(this.PhysicalOrVirtualBoundary),t.push(this.InternalOrExternalBoundary),t.push(this.ParentBoundary),t.push(this.CorrespondingBoundary),t}},px=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.RelatingBuildingElement=r,this.RelatedOpeningElement=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new px(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.RelatingBuildingElement),t.push(this.RelatedOpeningElement),t}},mx=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new mx(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t}},bx=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.Transition=e,this.SameSense=s,this.ParentCurve=n,this.ParamLength=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new bx(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.Transition),t.push(this.SameSense),t.push(this.ParentCurve),t.push(this.ParamLength),t}},yx=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.ContextOfItems=e,this.RepresentationIdentifier=s,this.RepresentationType=n,this.Items=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new yx(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.ContextOfItems),t.push(this.RepresentationIdentifier),t.push(this.RepresentationType),t.push(this.Items),t}},Gx=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.ContextIdentifier=e,this.ContextType=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new Gx(t,i,n,l)}ToTape(){let t=[];return t.push(this.ContextIdentifier),t.push(this.ContextType),t}},Zx=class{constructor(t,i){this.expressID=t,this.type=i}static FromTape(t,i,e){return new Zx(t,i)}ToTape(){return[]}},Xx=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.MappingOrigin=e,this.MappedRepresentation=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new Xx(t,i,n,l)}ToTape(){let t=[];return t.push(this.MappingOrigin),t.push(this.MappedRepresentation),t}},Tx=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.Identification=a,this.LongDescription=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new Tx(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.Identification),t.push(this.LongDescription),t}},Rx=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.RelatedResourceObjects=n,this.RelatingApproval=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new Rx(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.RelatedResourceObjects),t.push(this.RelatingApproval),t}},Ix=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.RelatingConstraint=n,this.RelatedResourceObjects=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new Ix(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.RelatingConstraint),t.push(this.RelatedResourceObjects),t}},gx=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.Name=e,this.Description=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new gx(t,i,n,l)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t}},Wx=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p,Z,X,R,W,S,F){this.expressID=t,this.type=i,this.Name=e,this.DataOrigin=s,this.UserDefinedDataOrigin=n,this.ScheduleWork=l,this.ScheduleUsage=r,this.ScheduleStart=a,this.ScheduleFinish=o,this.ScheduleContour=c,this.LevelingDelay=h,this.IsOverAllocated=d,this.StatusTime=u,this.ActualWork=p,this.ActualUsage=Z,this.ActualStart=X,this.ActualFinish=R,this.RemainingWork=W,this.RemainingUsage=S,this.Completion=F}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++],R=e[s++],W=e[s++],S=e[s++],F=e[s++],M=e[s++],N=e[s++];return new Wx(t,i,n,l,r,a,o,c,h,d,u,p,Z,X,R,W,S,F,M,N)}ToTape(){let t=[];return t.push(this.Name),t.push(this.DataOrigin),t.push(this.UserDefinedDataOrigin),t.push(this.ScheduleWork),t.push(this.ScheduleUsage),t.push(this.ScheduleStart),t.push(this.ScheduleFinish),t.push(this.ScheduleContour),t.push(this.LevelingDelay),t.push(this.IsOverAllocated),t.push(this.StatusTime),t.push(this.ActualWork),t.push(this.ActualUsage),t.push(this.ActualStart),t.push(this.ActualFinish),t.push(this.RemainingWork),t.push(this.RemainingUsage),t.push(this.Completion),t}},Lx=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.SweptArea=e,this.Position=s,this.Axis=n,this.Angle=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new Lx(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.SweptArea),t.push(this.Position),t.push(this.Axis),t.push(this.Angle),t}},Sx=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.SweptArea=e,this.Position=s,this.Axis=n,this.Angle=l,this.EndSweptArea=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new Sx(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.SweptArea),t.push(this.Position),t.push(this.Axis),t.push(this.Angle),t.push(this.EndSweptArea),t}},Cx=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.Position=e,this.Height=s,this.BottomRadius=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new Cx(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.Position),t.push(this.Height),t.push(this.BottomRadius),t}},fx=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.Position=e,this.Height=s,this.Radius=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new fx(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.Position),t.push(this.Height),t.push(this.Radius),t}},Vx=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new Vx(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},xx=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new xx(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},Nx=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new Nx(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t}},Fx=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.ProfileType=e,this.ProfileName=s,this.Position=n,this.XDim=l,this.YDim=r,this.RoundingRadius=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new Fx(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.ProfileType),t.push(this.ProfileName),t.push(this.Position),t.push(this.XDim),t.push(this.YDim),t.push(this.RoundingRadius),t}},Mx=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.Dimensions=e,this.UnitType=s,this.Prefix=n,this.Name=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new Mx(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.Dimensions),t.push(this.UnitType),t.push(this.Prefix),t.push(this.Name),t}},Yx=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new Yx(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},vx=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new vx(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},Ex=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.Name=e,this.DataOrigin=s,this.UserDefinedDataOrigin=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new Ex(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.Name),t.push(this.DataOrigin),t.push(this.UserDefinedDataOrigin),t}},zx=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.Curve3D=e,this.AssociatedGeometry=s,this.MasterRepresentation=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new zx(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.Curve3D),t.push(this.AssociatedGeometry),t.push(this.MasterRepresentation),t}},Hx=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.SectionType=e,this.StartProfile=s,this.EndProfile=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new Hx(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.SectionType),t.push(this.StartProfile),t.push(this.EndProfile),t}},Kx=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.LongitudinalStartPosition=e,this.LongitudinalEndPosition=s,this.TransversePosition=n,this.ReinforcementRole=l,this.SectionDefinition=r,this.CrossSectionReinforcementDefinitions=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new Kx(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.LongitudinalStartPosition),t.push(this.LongitudinalEndPosition),t.push(this.TransversePosition),t.push(this.ReinforcementRole),t.push(this.SectionDefinition),t.push(this.CrossSectionReinforcementDefinitions),t}},wx=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.Directrix=e,this.CrossSections=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new wx(t,i,n,l)}ToTape(){let t=[];return t.push(this.Directrix),t.push(this.CrossSections),t}},kx=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.Directrix=e,this.CrossSections=s,this.CrossSectionPositions=n,this.FixedAxisVertical=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new kx(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.Directrix),t.push(this.CrossSections),t.push(this.CrossSectionPositions),t.push(this.FixedAxisVertical),t}},Px=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.SpineCurve=e,this.CrossSections=s,this.CrossSectionPositions=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new Px(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.SpineCurve),t.push(this.CrossSections),t.push(this.CrossSectionPositions),t}},Ux=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new Ux(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},Dx=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new Dx(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},Jx=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new Jx(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},Ox=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new Ox(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},Bx=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.ShapeRepresentations=e,this.Name=s,this.Description=n,this.ProductDefinitional=l,this.PartOfProductDefinitionShape=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new Bx(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.ShapeRepresentations),t.push(this.Name),t.push(this.Description),t.push(this.ProductDefinitional),t.push(this.PartOfProductDefinitionShape),t}},Ax=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.ContextOfItems=e,this.RepresentationIdentifier=s,this.RepresentationType=n,this.Items=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new Ax(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.ContextOfItems),t.push(this.RepresentationIdentifier),t.push(this.RepresentationType),t.push(this.Items),t}},jx=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.ContextOfItems=e,this.RepresentationIdentifier=s,this.RepresentationType=n,this.Items=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new jx(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.ContextOfItems),t.push(this.RepresentationIdentifier),t.push(this.RepresentationType),t.push(this.Items),t}},Qx=class{constructor(t,i,e){this.expressID=t,this.type=i,this.SbsmBoundary=e}static FromTape(t,i,e){let s=0,n=e[s++];return new Qx(t,i,n)}ToTape(){let t=[];return t.push(this.SbsmBoundary),t}},_x=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.Name=e,this.Description=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new _x(t,i,n,l)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t}},qx=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.TemplateType=r,this.PrimaryMeasureType=a,this.SecondaryMeasureType=o,this.Enumerators=c,this.PrimaryUnit=h,this.SecondaryUnit=d,this.Expression=u,this.AccessState=p}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++];return new qx(t,i,n,l,r,a,o,c,h,d,u,p,Z,X)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.TemplateType),t.push(this.PrimaryMeasureType),t.push(this.SecondaryMeasureType),t.push(this.Enumerators),t.push(this.PrimaryUnit),t.push(this.SecondaryUnit),t.push(this.Expression),t.push(this.AccessState),t}},$x=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p,Z,X){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.LongName=c,this.CompositionType=h,this.RefLatitude=d,this.RefLongitude=u,this.RefElevation=p,this.LandTitleNumber=Z,this.SiteAddress=X}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++],R=e[s++],W=e[s++];return new $x(t,i,n,l,r,a,o,c,h,d,u,p,Z,X,R,W)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.LongName),t.push(this.CompositionType),t.push(this.RefLatitude),t.push(this.RefLongitude),t.push(this.RefElevation),t.push(this.LandTitleNumber),t.push(this.SiteAddress),t}},tN=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new tN(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},eN=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new eN(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},sN=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new sN(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},iN=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new iN(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},nN=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.Name=e,this.SlippageX=s,this.SlippageY=n,this.SlippageZ=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new nN(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.Name),t.push(this.SlippageX),t.push(this.SlippageY),t.push(this.SlippageZ),t}},lN=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new lN(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},rN=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new rN(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},aN=class{constructor(t,i){this.expressID=t,this.type=i}static FromTape(t,i,e){return new aN(t,i)}ToTape(){return[]}},oN=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.LongName=c,this.CompositionType=h,this.PredefinedType=d,this.ElevationWithFlooring=u}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++];return new oN(t,i,n,l,r,a,o,c,h,d,u,p,Z)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.LongName),t.push(this.CompositionType),t.push(this.PredefinedType),t.push(this.ElevationWithFlooring),t}},cN=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new cN(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},hN=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new hN(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},dN=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d,this.LongName=u}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++];return new dN(t,i,n,l,r,a,o,c,h,d,u,p,Z)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t.push(this.LongName),t}},uN=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.LongName=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new uN(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.LongName),t}},pN=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new pN(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t}},mN=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.LongName=c,this.CompositionType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new mN(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.LongName),t.push(this.CompositionType),t}},bN=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new bN(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t}},yN=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.LongName=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new yN(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.LongName),t.push(this.PredefinedType),t}},GN=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d,this.LongName=u}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++];return new GN(t,i,n,l,r,a,o,c,h,d,u,p,Z)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t.push(this.LongName),t}},ZN=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.Position=e,this.Radius=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new ZN(t,i,n,l)}ToTape(){let t=[];return t.push(this.Position),t.push(this.Radius),t}},XN=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.Position=e,this.Radius=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new XN(t,i,n,l)}ToTape(){let t=[];return t.push(this.Position),t.push(this.Radius),t}},TN=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new TN(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},RN=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new RN(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},IN=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new IN(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},gN=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p,Z){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.NumberOfRisers=h,this.NumberOfTreads=d,this.RiserHeight=u,this.TreadLength=p,this.PredefinedType=Z}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++],R=e[s++];return new gN(t,i,n,l,r,a,o,c,h,d,u,p,Z,X,R)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.NumberOfRisers),t.push(this.NumberOfTreads),t.push(this.RiserHeight),t.push(this.TreadLength),t.push(this.PredefinedType),t}},WN=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new WN(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},LN=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new LN(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},SN=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.AppliedLoad=c,this.GlobalOrLocal=h,this.DestabilizingLoad=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new SN(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.AppliedLoad),t.push(this.GlobalOrLocal),t.push(this.DestabilizingLoad),t}},CN=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.AppliedLoad=c,this.GlobalOrLocal=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new CN(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.AppliedLoad),t.push(this.GlobalOrLocal),t}},fN=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.PredefinedType=a,this.OrientationOf2DPlane=o,this.LoadedBy=c,this.HasResults=h,this.SharedPlacement=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new fN(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.PredefinedType),t.push(this.OrientationOf2DPlane),t.push(this.LoadedBy),t.push(this.HasResults),t.push(this.SharedPlacement),t}},VN=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.AppliedCondition=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new VN(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.AppliedCondition),t}},xN=class{constructor(t,i,e){this.expressID=t,this.type=i,this.Name=e}static FromTape(t,i,e){let s=0,n=e[s++];return new xN(t,i,n)}ToTape(){let t=[];return t.push(this.Name),t}},NN=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.AppliedLoad=c,this.GlobalOrLocal=h,this.DestabilizingLoad=d,this.ProjectedOrTrue=u,this.PredefinedType=p}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++];return new NN(t,i,n,l,r,a,o,c,h,d,u,p,Z,X)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.AppliedLoad),t.push(this.GlobalOrLocal),t.push(this.DestabilizingLoad),t.push(this.ProjectedOrTrue),t.push(this.PredefinedType),t}},FN=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.AppliedCondition=c,this.Axis=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new FN(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.AppliedCondition),t.push(this.Axis),t}},MN=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.PredefinedType=c,this.Axis=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new MN(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.PredefinedType),t.push(this.Axis),t}},YN=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.PredefinedType=c,this.Axis=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new YN(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.PredefinedType),t.push(this.Axis),t}},vN=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.AppliedLoad=c,this.GlobalOrLocal=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new vN(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.AppliedLoad),t.push(this.GlobalOrLocal),t.push(this.PredefinedType),t}},EN=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new EN(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t}},zN=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.AppliedLoad=c,this.GlobalOrLocal=h,this.DestabilizingLoad=d,this.ProjectedOrTrue=u,this.PredefinedType=p}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++];return new zN(t,i,n,l,r,a,o,c,h,d,u,p,Z,X)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.AppliedLoad),t.push(this.GlobalOrLocal),t.push(this.DestabilizingLoad),t.push(this.ProjectedOrTrue),t.push(this.PredefinedType),t}},HN=class{constructor(t,i,e){this.expressID=t,this.type=i,this.Name=e}static FromTape(t,i,e){let s=0,n=e[s++];return new HN(t,i,n)}ToTape(){let t=[];return t.push(this.Name),t}},KN=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.PredefinedType=a,this.ActionType=o,this.ActionSource=c,this.Coefficient=h,this.Purpose=d,this.SelfWeightCoefficients=u}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++];return new KN(t,i,n,l,r,a,o,c,h,d,u,p,Z)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.PredefinedType),t.push(this.ActionType),t.push(this.ActionSource),t.push(this.Coefficient),t.push(this.Purpose),t.push(this.SelfWeightCoefficients),t}},wN=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.Name=e,this.Values=s,this.Locations=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new wN(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Values),t.push(this.Locations),t}},kN=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.PredefinedType=a,this.ActionType=o,this.ActionSource=c,this.Coefficient=h,this.Purpose=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new kN(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.PredefinedType),t.push(this.ActionType),t.push(this.ActionSource),t.push(this.Coefficient),t.push(this.Purpose),t}},PN=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.Name=e,this.LinearForceX=s,this.LinearForceY=n,this.LinearForceZ=l,this.LinearMomentX=r,this.LinearMomentY=a,this.LinearMomentZ=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new PN(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.Name),t.push(this.LinearForceX),t.push(this.LinearForceY),t.push(this.LinearForceZ),t.push(this.LinearMomentX),t.push(this.LinearMomentY),t.push(this.LinearMomentZ),t}},UN=class{constructor(t,i,e){this.expressID=t,this.type=i,this.Name=e}static FromTape(t,i,e){let s=0,n=e[s++];return new UN(t,i,n)}ToTape(){let t=[];return t.push(this.Name),t}},DN=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.Name=e,this.PlanarForceX=s,this.PlanarForceY=n,this.PlanarForceZ=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new DN(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.Name),t.push(this.PlanarForceX),t.push(this.PlanarForceY),t.push(this.PlanarForceZ),t}},JN=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.Name=e,this.DisplacementX=s,this.DisplacementY=n,this.DisplacementZ=l,this.RotationalDisplacementRX=r,this.RotationalDisplacementRY=a,this.RotationalDisplacementRZ=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new JN(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.Name),t.push(this.DisplacementX),t.push(this.DisplacementY),t.push(this.DisplacementZ),t.push(this.RotationalDisplacementRX),t.push(this.RotationalDisplacementRY),t.push(this.RotationalDisplacementRZ),t}},ON=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.Name=e,this.DisplacementX=s,this.DisplacementY=n,this.DisplacementZ=l,this.RotationalDisplacementRX=r,this.RotationalDisplacementRY=a,this.RotationalDisplacementRZ=o,this.Distortion=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new ON(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.Name),t.push(this.DisplacementX),t.push(this.DisplacementY),t.push(this.DisplacementZ),t.push(this.RotationalDisplacementRX),t.push(this.RotationalDisplacementRY),t.push(this.RotationalDisplacementRZ),t.push(this.Distortion),t}},BN=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.Name=e,this.ForceX=s,this.ForceY=n,this.ForceZ=l,this.MomentX=r,this.MomentY=a,this.MomentZ=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new BN(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.Name),t.push(this.ForceX),t.push(this.ForceY),t.push(this.ForceZ),t.push(this.MomentX),t.push(this.MomentY),t.push(this.MomentZ),t}},AN=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.Name=e,this.ForceX=s,this.ForceY=n,this.ForceZ=l,this.MomentX=r,this.MomentY=a,this.MomentZ=o,this.WarpingMoment=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new AN(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.Name),t.push(this.ForceX),t.push(this.ForceY),t.push(this.ForceZ),t.push(this.MomentX),t.push(this.MomentY),t.push(this.MomentZ),t.push(this.WarpingMoment),t}},jN=class{constructor(t,i,e){this.expressID=t,this.type=i,this.Name=e}static FromTape(t,i,e){let s=0,n=e[s++];return new jN(t,i,n)}ToTape(){let t=[];return t.push(this.Name),t}},QN=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.Name=e,this.DeltaTConstant=s,this.DeltaTY=n,this.DeltaTZ=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new QN(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.Name),t.push(this.DeltaTConstant),t.push(this.DeltaTY),t.push(this.DeltaTZ),t}},_N=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new _N(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t}},qN=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.AppliedLoad=c,this.GlobalOrLocal=h,this.DestabilizingLoad=d,this.ProjectedOrTrue=u,this.PredefinedType=p}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++];return new qN(t,i,n,l,r,a,o,c,h,d,u,p,Z,X)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.AppliedLoad),t.push(this.GlobalOrLocal),t.push(this.DestabilizingLoad),t.push(this.ProjectedOrTrue),t.push(this.PredefinedType),t}},$N=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.AppliedLoad=c,this.GlobalOrLocal=h,this.DestabilizingLoad=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new $N(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.AppliedLoad),t.push(this.GlobalOrLocal),t.push(this.DestabilizingLoad),t}},t9=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.AppliedCondition=c,this.ConditionCoordinateSystem=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new t9(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.AppliedCondition),t.push(this.ConditionCoordinateSystem),t}},e9=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.AppliedLoad=c,this.GlobalOrLocal=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new e9(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.AppliedLoad),t.push(this.GlobalOrLocal),t}},s9=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.AppliedLoad=c,this.GlobalOrLocal=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new s9(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.AppliedLoad),t.push(this.GlobalOrLocal),t}},i9=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.TheoryType=a,this.ResultForLoadGroup=o,this.IsLinear=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new i9(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.TheoryType),t.push(this.ResultForLoadGroup),t.push(this.IsLinear),t}},n9=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.AppliedLoad=c,this.GlobalOrLocal=h,this.DestabilizingLoad=d,this.ProjectedOrTrue=u,this.PredefinedType=p}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++];return new n9(t,i,n,l,r,a,o,c,h,d,u,p,Z,X)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.AppliedLoad),t.push(this.GlobalOrLocal),t.push(this.DestabilizingLoad),t.push(this.ProjectedOrTrue),t.push(this.PredefinedType),t}},l9=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.AppliedCondition=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new l9(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.AppliedCondition),t}},r9=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.PredefinedType=c,this.Thickness=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new r9(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.PredefinedType),t.push(this.Thickness),t}},a9=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.PredefinedType=c,this.Thickness=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new a9(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.PredefinedType),t.push(this.Thickness),t}},o9=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.AppliedLoad=c,this.GlobalOrLocal=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new o9(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.AppliedLoad),t.push(this.GlobalOrLocal),t.push(this.PredefinedType),t}},c9=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.ContextOfItems=e,this.RepresentationIdentifier=s,this.RepresentationType=n,this.Items=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new c9(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.ContextOfItems),t.push(this.RepresentationIdentifier),t.push(this.RepresentationType),t.push(this.Items),t}},h9=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.Item=e,this.Styles=s,this.Name=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new h9(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.Item),t.push(this.Styles),t.push(this.Name),t}},d9=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.ContextOfItems=e,this.RepresentationIdentifier=s,this.RepresentationType=n,this.Items=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new d9(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.ContextOfItems),t.push(this.RepresentationIdentifier),t.push(this.RepresentationType),t.push(this.Items),t}},u9=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.Identification=a,this.LongDescription=o,this.Usage=c,this.BaseCosts=h,this.BaseQuantity=d,this.PredefinedType=u}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++];return new u9(t,i,n,l,r,a,o,c,h,d,u,p,Z)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.Identification),t.push(this.LongDescription),t.push(this.Usage),t.push(this.BaseCosts),t.push(this.BaseQuantity),t.push(this.PredefinedType),t}},p9=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.Identification=o,this.LongDescription=c,this.ResourceType=h,this.BaseCosts=d,this.BaseQuantity=u,this.PredefinedType=p}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++];return new p9(t,i,n,l,r,a,o,c,h,d,u,p,Z,X)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.Identification),t.push(this.LongDescription),t.push(this.ResourceType),t.push(this.BaseCosts),t.push(this.BaseQuantity),t.push(this.PredefinedType),t}},m9=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.EdgeStart=e,this.EdgeEnd=s,this.ParentEdge=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new m9(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.EdgeStart),t.push(this.EdgeEnd),t.push(this.ParentEdge),t}},b9=class{constructor(t,i){this.expressID=t,this.type=i}static FromTape(t,i,e){return new b9(t,i)}ToTape(){return[]}},y9=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.Curve3D=e,this.AssociatedGeometry=s,this.MasterRepresentation=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new y9(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.Curve3D),t.push(this.AssociatedGeometry),t.push(this.MasterRepresentation),t}},G9=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.SweptArea=e,this.Position=s,this.Directrix=n,this.StartParam=l,this.EndParam=r,this.ReferenceSurface=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new G9(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.SweptArea),t.push(this.Position),t.push(this.Directrix),t.push(this.StartParam),t.push(this.EndParam),t.push(this.ReferenceSurface),t}},Z9=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new Z9(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},X9=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.SweptCurve=e,this.Position=s,this.ExtrudedDirection=n,this.Depth=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new X9(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.SweptCurve),t.push(this.Position),t.push(this.ExtrudedDirection),t.push(this.Depth),t}},T9=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.SweptCurve=e,this.Position=s,this.AxisPosition=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new T9(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.SweptCurve),t.push(this.Position),t.push(this.AxisPosition),t}},R9=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.Name=e,this.SurfaceReinforcement1=s,this.SurfaceReinforcement2=n,this.ShearReinforcement=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new R9(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.Name),t.push(this.SurfaceReinforcement1),t.push(this.SurfaceReinforcement2),t.push(this.ShearReinforcement),t}},I9=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.Name=e,this.Side=s,this.Styles=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new I9(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Side),t.push(this.Styles),t}},g9=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.DiffuseTransmissionColour=e,this.DiffuseReflectionColour=s,this.TransmissionColour=n,this.ReflectanceColour=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new g9(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.DiffuseTransmissionColour),t.push(this.DiffuseReflectionColour),t.push(this.TransmissionColour),t.push(this.ReflectanceColour),t}},W9=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.RefractionIndex=e,this.DispersionFactor=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new W9(t,i,n,l)}ToTape(){let t=[];return t.push(this.RefractionIndex),t.push(this.DispersionFactor),t}},L9=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.SurfaceColour=e,this.Transparency=s,this.DiffuseColour=n,this.TransmissionColour=l,this.DiffuseTransmissionColour=r,this.ReflectionColour=a,this.SpecularColour=o,this.SpecularHighlight=c,this.ReflectanceMethod=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new L9(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.SurfaceColour),t.push(this.Transparency),t.push(this.DiffuseColour),t.push(this.TransmissionColour),t.push(this.DiffuseTransmissionColour),t.push(this.ReflectionColour),t.push(this.SpecularColour),t.push(this.SpecularHighlight),t.push(this.ReflectanceMethod),t}},S9=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.SurfaceColour=e,this.Transparency=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new S9(t,i,n,l)}ToTape(){let t=[];return t.push(this.SurfaceColour),t.push(this.Transparency),t}},C9=class{constructor(t,i,e){this.expressID=t,this.type=i,this.Textures=e}static FromTape(t,i,e){let s=0,n=e[s++];return new C9(t,i,n)}ToTape(){let t=[];return t.push(this.Textures),t}},f9=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.RepeatS=e,this.RepeatT=s,this.Mode=n,this.TextureTransform=l,this.Parameter=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new f9(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.RepeatS),t.push(this.RepeatT),t.push(this.Mode),t.push(this.TextureTransform),t.push(this.Parameter),t}},V9=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.SweptArea=e,this.Position=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new V9(t,i,n,l)}ToTape(){let t=[];return t.push(this.SweptArea),t.push(this.Position),t}},x9=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.Directrix=e,this.Radius=s,this.InnerRadius=n,this.StartParam=l,this.EndParam=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new x9(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.Directrix),t.push(this.Radius),t.push(this.InnerRadius),t.push(this.StartParam),t.push(this.EndParam),t}},N9=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.Directrix=e,this.Radius=s,this.InnerRadius=n,this.StartParam=l,this.EndParam=r,this.FilletRadius=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new N9(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.Directrix),t.push(this.Radius),t.push(this.InnerRadius),t.push(this.StartParam),t.push(this.EndParam),t.push(this.FilletRadius),t}},F9=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.SweptCurve=e,this.Position=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new F9(t,i,n,l)}ToTape(){let t=[];return t.push(this.SweptCurve),t.push(this.Position),t}},M9=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new M9(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},Y9=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new Y9(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},v9=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new v9(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t}},E9=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new E9(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},z9=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new z9(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},H9=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p){this.expressID=t,this.type=i,this.ProfileType=e,this.ProfileName=s,this.Position=n,this.Depth=l,this.FlangeWidth=r,this.WebThickness=a,this.FlangeThickness=o,this.FilletRadius=c,this.FlangeEdgeRadius=h,this.WebEdgeRadius=d,this.WebSlope=u,this.FlangeSlope=p}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++];return new H9(t,i,n,l,r,a,o,c,h,d,u,p,Z,X)}ToTape(){let t=[];return t.push(this.ProfileType),t.push(this.ProfileName),t.push(this.Position),t.push(this.Depth),t.push(this.FlangeWidth),t.push(this.WebThickness),t.push(this.FlangeThickness),t.push(this.FilletRadius),t.push(this.FlangeEdgeRadius),t.push(this.WebEdgeRadius),t.push(this.WebSlope),t.push(this.FlangeSlope),t}},K9=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.Name=e,this.Rows=s,this.Columns=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new K9(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Rows),t.push(this.Columns),t}},w9=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.Identifier=e,this.Name=s,this.Description=n,this.Unit=l,this.ReferencePath=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new w9(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.Identifier),t.push(this.Name),t.push(this.Description),t.push(this.Unit),t.push(this.ReferencePath),t}},k9=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.RowCells=e,this.IsHeading=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new k9(t,i,n,l)}ToTape(){let t=[];return t.push(this.RowCells),t.push(this.IsHeading),t}},P9=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new P9(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},U9=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new U9(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},D9=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p,Z){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.Identification=a,this.LongDescription=o,this.Status=c,this.WorkMethod=h,this.IsMilestone=d,this.Priority=u,this.TaskTime=p,this.PredefinedType=Z}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++],R=e[s++];return new D9(t,i,n,l,r,a,o,c,h,d,u,p,Z,X,R)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.Identification),t.push(this.LongDescription),t.push(this.Status),t.push(this.WorkMethod),t.push(this.IsMilestone),t.push(this.Priority),t.push(this.TaskTime),t.push(this.PredefinedType),t}},J9=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p,Z,X,R,W,S,F,M,N){this.expressID=t,this.type=i,this.Name=e,this.DataOrigin=s,this.UserDefinedDataOrigin=n,this.DurationType=l,this.ScheduleDuration=r,this.ScheduleStart=a,this.ScheduleFinish=o,this.EarlyStart=c,this.EarlyFinish=h,this.LateStart=d,this.LateFinish=u,this.FreeFloat=p,this.TotalFloat=Z,this.IsCritical=X,this.StatusTime=R,this.ActualDuration=W,this.ActualStart=S,this.ActualFinish=F,this.RemainingTime=M,this.Completion=N}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++],R=e[s++],W=e[s++],S=e[s++],F=e[s++],M=e[s++],N=e[s++],E=e[s++],Y=e[s++];return new J9(t,i,n,l,r,a,o,c,h,d,u,p,Z,X,R,W,S,F,M,N,E,Y)}ToTape(){let t=[];return t.push(this.Name),t.push(this.DataOrigin),t.push(this.UserDefinedDataOrigin),t.push(this.DurationType),t.push(this.ScheduleDuration),t.push(this.ScheduleStart),t.push(this.ScheduleFinish),t.push(this.EarlyStart),t.push(this.EarlyFinish),t.push(this.LateStart),t.push(this.LateFinish),t.push(this.FreeFloat),t.push(this.TotalFloat),t.push(this.IsCritical),t.push(this.StatusTime),t.push(this.ActualDuration),t.push(this.ActualStart),t.push(this.ActualFinish),t.push(this.RemainingTime),t.push(this.Completion),t}},O9=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p,Z,X,R,W,S,F,M,N,E){this.expressID=t,this.type=i,this.Name=e,this.DataOrigin=s,this.UserDefinedDataOrigin=n,this.DurationType=l,this.ScheduleDuration=r,this.ScheduleStart=a,this.ScheduleFinish=o,this.EarlyStart=c,this.EarlyFinish=h,this.LateStart=d,this.LateFinish=u,this.FreeFloat=p,this.TotalFloat=Z,this.IsCritical=X,this.StatusTime=R,this.ActualDuration=W,this.ActualStart=S,this.ActualFinish=F,this.RemainingTime=M,this.Completion=N,this.Recurrence=E}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++],R=e[s++],W=e[s++],S=e[s++],F=e[s++],M=e[s++],N=e[s++],E=e[s++],Y=e[s++],O=e[s++];return new O9(t,i,n,l,r,a,o,c,h,d,u,p,Z,X,R,W,S,F,M,N,E,Y,O)}ToTape(){let t=[];return t.push(this.Name),t.push(this.DataOrigin),t.push(this.UserDefinedDataOrigin),t.push(this.DurationType),t.push(this.ScheduleDuration),t.push(this.ScheduleStart),t.push(this.ScheduleFinish),t.push(this.EarlyStart),t.push(this.EarlyFinish),t.push(this.LateStart),t.push(this.LateFinish),t.push(this.FreeFloat),t.push(this.TotalFloat),t.push(this.IsCritical),t.push(this.StatusTime),t.push(this.ActualDuration),t.push(this.ActualStart),t.push(this.ActualFinish),t.push(this.RemainingTime),t.push(this.Completion),t.push(this.Recurrence),t}},B9=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.Identification=o,this.LongDescription=c,this.ProcessType=h,this.PredefinedType=d,this.WorkMethod=u}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++];return new B9(t,i,n,l,r,a,o,c,h,d,u,p,Z)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.Identification),t.push(this.LongDescription),t.push(this.ProcessType),t.push(this.PredefinedType),t.push(this.WorkMethod),t}},A9=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.Purpose=e,this.Description=s,this.UserDefinedPurpose=n,this.TelephoneNumbers=l,this.FacsimileNumbers=r,this.PagerNumber=a,this.ElectronicMailAddresses=o,this.WWWHomePageURL=c,this.MessagingIDs=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new A9(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.Purpose),t.push(this.Description),t.push(this.UserDefinedPurpose),t.push(this.TelephoneNumbers),t.push(this.FacsimileNumbers),t.push(this.PagerNumber),t.push(this.ElectronicMailAddresses),t.push(this.WWWHomePageURL),t.push(this.MessagingIDs),t}},j9=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p,Z,X,R,W,S){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.SteelGrade=h,this.PredefinedType=d,this.NominalDiameter=u,this.CrossSectionArea=p,this.TensionForce=Z,this.PreStress=X,this.FrictionCoefficient=R,this.AnchorageSlip=W,this.MinCurvatureRadius=S}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++],R=e[s++],W=e[s++],S=e[s++],F=e[s++],M=e[s++];return new j9(t,i,n,l,r,a,o,c,h,d,u,p,Z,X,R,W,S,F,M)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.SteelGrade),t.push(this.PredefinedType),t.push(this.NominalDiameter),t.push(this.CrossSectionArea),t.push(this.TensionForce),t.push(this.PreStress),t.push(this.FrictionCoefficient),t.push(this.AnchorageSlip),t.push(this.MinCurvatureRadius),t}},Q9=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.SteelGrade=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new Q9(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.SteelGrade),t.push(this.PredefinedType),t}},_9=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new _9(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},q9=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.SteelGrade=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new q9(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.SteelGrade),t.push(this.PredefinedType),t}},$9=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new $9(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},tF=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p,Z){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d,this.NominalDiameter=u,this.CrossSectionArea=p,this.SheathDiameter=Z}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++],R=e[s++];return new tF(t,i,n,l,r,a,o,c,h,d,u,p,Z,X,R)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t.push(this.NominalDiameter),t.push(this.CrossSectionArea),t.push(this.SheathDiameter),t}},eF=class{constructor(t,i,e){this.expressID=t,this.type=i,this.Coordinates=e}static FromTape(t,i,e){let s=0,n=e[s++];return new eF(t,i,n)}ToTape(){let t=[];return t.push(this.Coordinates),t}},sF=class{constructor(t,i){this.expressID=t,this.type=i}static FromTape(t,i,e){return new sF(t,i)}ToTape(){return[]}},iF=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.Literal=e,this.Placement=s,this.Path=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new iF(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.Literal),t.push(this.Placement),t.push(this.Path),t}},nF=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.Literal=e,this.Placement=s,this.Path=n,this.Extent=l,this.BoxAlignment=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new nF(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.Literal),t.push(this.Placement),t.push(this.Path),t.push(this.Extent),t.push(this.BoxAlignment),t}},lF=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.Name=e,this.TextCharacterAppearance=s,this.TextStyle=n,this.TextFontStyle=l,this.ModelOrDraughting=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new lF(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.Name),t.push(this.TextCharacterAppearance),t.push(this.TextStyle),t.push(this.TextFontStyle),t.push(this.ModelOrDraughting),t}},rF=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.Name=e,this.FontFamily=s,this.FontStyle=n,this.FontVariant=l,this.FontWeight=r,this.FontSize=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new rF(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.Name),t.push(this.FontFamily),t.push(this.FontStyle),t.push(this.FontVariant),t.push(this.FontWeight),t.push(this.FontSize),t}},aF=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.Colour=e,this.BackgroundColour=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new aF(t,i,n,l)}ToTape(){let t=[];return t.push(this.Colour),t.push(this.BackgroundColour),t}},oF=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.TextIndent=e,this.TextAlign=s,this.TextDecoration=n,this.LetterSpacing=l,this.WordSpacing=r,this.TextTransform=a,this.LineHeight=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new oF(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.TextIndent),t.push(this.TextAlign),t.push(this.TextDecoration),t.push(this.LetterSpacing),t.push(this.WordSpacing),t.push(this.TextTransform),t.push(this.LineHeight),t}},cF=class{constructor(t,i,e){this.expressID=t,this.type=i,this.Maps=e}static FromTape(t,i,e){let s=0,n=e[s++];return new cF(t,i,n)}ToTape(){let t=[];return t.push(this.Maps),t}},hF=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.Maps=e,this.Mode=s,this.Parameter=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new hF(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.Maps),t.push(this.Mode),t.push(this.Parameter),t}},dF=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.Maps=e,this.Vertices=s,this.MappedTo=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new dF(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.Maps),t.push(this.Vertices),t.push(this.MappedTo),t}},uF=class{constructor(t,i,e){this.expressID=t,this.type=i,this.Coordinates=e}static FromTape(t,i,e){let s=0,n=e[s++];return new uF(t,i,n)}ToTape(){let t=[];return t.push(this.Coordinates),t}},pF=class{constructor(t,i,e){this.expressID=t,this.type=i,this.TexCoordsList=e}static FromTape(t,i,e){let s=0,n=e[s++];return new pF(t,i,n)}ToTape(){let t=[];return t.push(this.TexCoordsList),t}},mF=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.StartTime=e,this.EndTime=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new mF(t,i,n,l)}ToTape(){let t=[];return t.push(this.StartTime),t.push(this.EndTime),t}},bF=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.Name=e,this.Description=s,this.StartTime=n,this.EndTime=l,this.TimeSeriesDataType=r,this.DataOrigin=a,this.UserDefinedDataOrigin=o,this.Unit=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new bF(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.Name),t.push(this.Description),t.push(this.StartTime),t.push(this.EndTime),t.push(this.TimeSeriesDataType),t.push(this.DataOrigin),t.push(this.UserDefinedDataOrigin),t.push(this.Unit),t}},yF=class{constructor(t,i,e){this.expressID=t,this.type=i,this.ListValues=e}static FromTape(t,i,e){let s=0,n=e[s++];return new yF(t,i,n)}ToTape(){let t=[];return t.push(this.ListValues),t}},GF=class{constructor(t,i){this.expressID=t,this.type=i}static FromTape(t,i,e){return new GF(t,i)}ToTape(){return[]}},ZF=class{constructor(t,i,e,s,n,l){this.expressID=t,this.type=i,this.ContextOfItems=e,this.RepresentationIdentifier=s,this.RepresentationType=n,this.Items=l}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++];return new ZF(t,i,n,l,r,a)}ToTape(){let t=[];return t.push(this.ContextOfItems),t.push(this.RepresentationIdentifier),t.push(this.RepresentationType),t.push(this.Items),t}},XF=class{constructor(t,i,e,s,n){this.expressID=t,this.type=i,this.Position=e,this.MajorRadius=s,this.MinorRadius=n}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++];return new XF(t,i,n,l,r)}ToTape(){let t=[];return t.push(this.Position),t.push(this.MajorRadius),t.push(this.MinorRadius),t}},TF=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new TF(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},RF=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new RF(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},IF=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.StartPoint=e,this.StartDirection=s,this.SegmentLength=n,this.StartRadius=l,this.EndRadius=r,this.IsStartRadiusCCW=a,this.IsEndRadiusCCW=o,this.TransitionCurveType=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new IF(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.StartPoint),t.push(this.StartDirection),t.push(this.SegmentLength),t.push(this.StartRadius),t.push(this.EndRadius),t.push(this.IsStartRadiusCCW),t.push(this.IsEndRadiusCCW),t.push(this.TransitionCurveType),t}},gF=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new gF(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},WF=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new WF(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},LF=class{constructor(t,i,e,s,n,l,r,a,o){this.expressID=t,this.type=i,this.ProfileType=e,this.ProfileName=s,this.Position=n,this.BottomXDim=l,this.TopXDim=r,this.YDim=a,this.TopXOffset=o}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++];return new LF(t,i,n,l,r,a,o,c,h)}ToTape(){let t=[];return t.push(this.ProfileType),t.push(this.ProfileName),t.push(this.Position),t.push(this.BottomXDim),t.push(this.TopXDim),t.push(this.YDim),t.push(this.TopXOffset),t}},SF=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.Coordinates=e,this.Normals=s,this.Closed=n,this.CoordIndex=l,this.PnIndex=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new SF(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.Coordinates),t.push(this.Normals),t.push(this.Closed),t.push(this.CoordIndex),t.push(this.PnIndex),t}},CF=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.Coordinates=e,this.Normals=s,this.Closed=n,this.CoordIndex=l,this.PnIndex=r,this.Flags=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new CF(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.Coordinates),t.push(this.Normals),t.push(this.Closed),t.push(this.CoordIndex),t.push(this.PnIndex),t.push(this.Flags),t}},fF=class{constructor(t,i,e,s,n,l,r){this.expressID=t,this.type=i,this.BasisCurve=e,this.Trim1=s,this.Trim2=n,this.SenseAgreement=l,this.MasterRepresentation=r}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++];return new fF(t,i,n,l,r,a,o)}ToTape(){let t=[];return t.push(this.BasisCurve),t.push(this.Trim1),t.push(this.Trim2),t.push(this.SenseAgreement),t.push(this.MasterRepresentation),t}},VF=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new VF(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},xF=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new xF(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},NF=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new NF(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t}},FF=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.Identification=o,this.LongDescription=c,this.ProcessType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new FF(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.Identification),t.push(this.LongDescription),t.push(this.ProcessType),t}},MF=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new MF(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t}},YF=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.Identification=o,this.LongDescription=c,this.ResourceType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new YF(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.Identification),t.push(this.LongDescription),t.push(this.ResourceType),t}},vF=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.ProfileType=e,this.ProfileName=s,this.Position=n,this.Depth=l,this.FlangeWidth=r,this.WebThickness=a,this.FlangeThickness=o,this.FilletRadius=c,this.EdgeRadius=h,this.FlangeSlope=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new vF(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.ProfileType),t.push(this.ProfileName),t.push(this.Position),t.push(this.Depth),t.push(this.FlangeWidth),t.push(this.WebThickness),t.push(this.FlangeThickness),t.push(this.FilletRadius),t.push(this.EdgeRadius),t.push(this.FlangeSlope),t}},EF=class{constructor(t,i,e){this.expressID=t,this.type=i,this.Units=e}static FromTape(t,i,e){let s=0,n=e[s++];return new EF(t,i,n)}ToTape(){let t=[];return t.push(this.Units),t}},zF=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new zF(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},HF=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new HF(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},KF=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new KF(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},wF=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new wF(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},kF=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new kF(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},PF=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new PF(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},UF=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.Orientation=e,this.Magnitude=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new UF(t,i,n,l)}ToTape(){let t=[];return t.push(this.Orientation),t.push(this.Magnitude),t}},DF=class{constructor(t,i){this.expressID=t,this.type=i}static FromTape(t,i,e){return new DF(t,i)}ToTape(){return[]}},JF=class{constructor(t,i,e){this.expressID=t,this.type=i,this.LoopVertex=e}static FromTape(t,i,e){let s=0,n=e[s++];return new JF(t,i,n)}ToTape(){let t=[];return t.push(this.LoopVertex),t}},OF=class{constructor(t,i,e){this.expressID=t,this.type=i,this.VertexGeometry=e}static FromTape(t,i,e){let s=0,n=e[s++];return new OF(t,i,n)}ToTape(){let t=[];return t.push(this.VertexGeometry),t}},BF=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new BF(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},AF=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new AF(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},jF=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new jF(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},QF=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new QF(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},_F=class{constructor(t,i,e,s,n,l,r,a,o,c){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++];return new _F(t,i,n,l,r,a,o,c,h,d)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t}},qF=class{constructor(t,i,e,s){this.expressID=t,this.type=i,this.IntersectingAxes=e,this.OffsetDistances=s}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++];return new qF(t,i,n,l)}ToTape(){let t=[];return t.push(this.IntersectingAxes),t.push(this.OffsetDistances),t}},$F=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new $F(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},tM=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new tM(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},eM=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new eM(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},sM=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new sM(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},iM=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new iM(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},nM=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new nM(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.PredefinedType),t}},lM=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++];return new lM(t,i,n,l,r,a,o,c,h,d,u,p)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t}},rM=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p,Z){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.OverallHeight=h,this.OverallWidth=d,this.PredefinedType=u,this.PartitioningType=p,this.UserDefinedPartitioningType=Z}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++],R=e[s++];return new rM(t,i,n,l,r,a,o,c,h,d,u,p,Z,X,R)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.OverallHeight),t.push(this.OverallWidth),t.push(this.PredefinedType),t.push(this.PartitioningType),t.push(this.UserDefinedPartitioningType),t}},aM=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p,Z,X,R,W){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.LiningDepth=r,this.LiningThickness=a,this.TransomThickness=o,this.MullionThickness=c,this.FirstTransomOffset=h,this.SecondTransomOffset=d,this.FirstMullionOffset=u,this.SecondMullionOffset=p,this.ShapeAspectStyle=Z,this.LiningOffset=X,this.LiningToPanelOffsetX=R,this.LiningToPanelOffsetY=W}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++],R=e[s++],W=e[s++],S=e[s++],F=e[s++];return new aM(t,i,n,l,r,a,o,c,h,d,u,p,Z,X,R,W,S,F)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.LiningDepth),t.push(this.LiningThickness),t.push(this.TransomThickness),t.push(this.MullionThickness),t.push(this.FirstTransomOffset),t.push(this.SecondTransomOffset),t.push(this.FirstMullionOffset),t.push(this.SecondMullionOffset),t.push(this.ShapeAspectStyle),t.push(this.LiningOffset),t.push(this.LiningToPanelOffsetX),t.push(this.LiningToPanelOffsetY),t}},oM=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.OperationType=r,this.PanelPosition=a,this.FrameDepth=o,this.FrameThickness=c,this.ShapeAspectStyle=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new oM(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.OperationType),t.push(this.PanelPosition),t.push(this.FrameDepth),t.push(this.FrameThickness),t.push(this.ShapeAspectStyle),t}},cM=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p,Z){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.OverallHeight=h,this.OverallWidth=d,this.PredefinedType=u,this.PartitioningType=p,this.UserDefinedPartitioningType=Z}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++],R=e[s++];return new cM(t,i,n,l,r,a,o,c,h,d,u,p,Z,X,R)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.ObjectPlacement),t.push(this.Representation),t.push(this.Tag),t.push(this.OverallHeight),t.push(this.OverallWidth),t.push(this.PredefinedType),t.push(this.PartitioningType),t.push(this.UserDefinedPartitioningType),t}},hM=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ConstructionType=h,this.OperationType=d,this.ParameterTakesPrecedence=u,this.Sizeable=p}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++];return new hM(t,i,n,l,r,a,o,c,h,d,u,p,Z,X)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ConstructionType),t.push(this.OperationType),t.push(this.ParameterTakesPrecedence),t.push(this.Sizeable),t}},dM=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p,Z){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ApplicableOccurrence=r,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=d,this.PartitioningType=u,this.ParameterTakesPrecedence=p,this.UserDefinedPartitioningType=Z}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++],R=e[s++];return new dM(t,i,n,l,r,a,o,c,h,d,u,p,Z,X,R)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ApplicableOccurrence),t.push(this.HasPropertySets),t.push(this.RepresentationMaps),t.push(this.Tag),t.push(this.ElementType),t.push(this.PredefinedType),t.push(this.PartitioningType),t.push(this.ParameterTakesPrecedence),t.push(this.UserDefinedPartitioningType),t}},uM=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.Identification=a,this.WorkingTimes=o,this.ExceptionTimes=c,this.PredefinedType=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new uM(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.Identification),t.push(this.WorkingTimes),t.push(this.ExceptionTimes),t.push(this.PredefinedType),t}},pM=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p,Z){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.Identification=a,this.CreationDate=o,this.Creators=c,this.Purpose=h,this.Duration=d,this.TotalFloat=u,this.StartTime=p,this.FinishTime=Z}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++],R=e[s++];return new pM(t,i,n,l,r,a,o,c,h,d,u,p,Z,X,R)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.Identification),t.push(this.CreationDate),t.push(this.Creators),t.push(this.Purpose),t.push(this.Duration),t.push(this.TotalFloat),t.push(this.StartTime),t.push(this.FinishTime),t}},mM=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p,Z,X){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.Identification=a,this.CreationDate=o,this.Creators=c,this.Purpose=h,this.Duration=d,this.TotalFloat=u,this.StartTime=p,this.FinishTime=Z,this.PredefinedType=X}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++],R=e[s++],W=e[s++];return new mM(t,i,n,l,r,a,o,c,h,d,u,p,Z,X,R,W)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.Identification),t.push(this.CreationDate),t.push(this.Creators),t.push(this.Purpose),t.push(this.Duration),t.push(this.TotalFloat),t.push(this.StartTime),t.push(this.FinishTime),t.push(this.PredefinedType),t}},bM=class{constructor(t,i,e,s,n,l,r,a,o,c,h,d,u,p,Z,X){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.Identification=a,this.CreationDate=o,this.Creators=c,this.Purpose=h,this.Duration=d,this.TotalFloat=u,this.StartTime=p,this.FinishTime=Z,this.PredefinedType=X}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++],p=e[s++],Z=e[s++],X=e[s++],R=e[s++],W=e[s++];return new bM(t,i,n,l,r,a,o,c,h,d,u,p,Z,X,R,W)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.Identification),t.push(this.CreationDate),t.push(this.Creators),t.push(this.Purpose),t.push(this.Duration),t.push(this.TotalFloat),t.push(this.StartTime),t.push(this.FinishTime),t.push(this.PredefinedType),t}},yM=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.Name=e,this.DataOrigin=s,this.UserDefinedDataOrigin=n,this.RecurrencePattern=l,this.Start=r,this.Finish=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new yM(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.Name),t.push(this.DataOrigin),t.push(this.UserDefinedDataOrigin),t.push(this.RecurrencePattern),t.push(this.Start),t.push(this.Finish),t}},GM=class{constructor(t,i,e,s,n,l,r,a,o,c,h){this.expressID=t,this.type=i,this.ProfileType=e,this.ProfileName=s,this.Position=n,this.Depth=l,this.FlangeWidth=r,this.WebThickness=a,this.FlangeThickness=o,this.FilletRadius=c,this.EdgeRadius=h}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++],h=e[s++],d=e[s++],u=e[s++];return new GM(t,i,n,l,r,a,o,c,h,d,u)}ToTape(){let t=[];return t.push(this.ProfileType),t.push(this.ProfileName),t.push(this.Position),t.push(this.Depth),t.push(this.FlangeWidth),t.push(this.WebThickness),t.push(this.FlangeThickness),t.push(this.FilletRadius),t.push(this.EdgeRadius),t}},ZM=class{constructor(t,i,e,s,n,l,r,a){this.expressID=t,this.type=i,this.GlobalId=e,this.OwnerHistory=s,this.Name=n,this.Description=l,this.ObjectType=r,this.LongName=a}static FromTape(t,i,e){let s=0,n=e[s++],l=e[s++],r=e[s++],a=e[s++],o=e[s++],c=e[s++];return new ZM(t,i,n,l,r,a,o,c)}ToTape(){let t=[];return t.push(this.GlobalId),t.push(this.OwnerHistory),t.push(this.Name),t.push(this.Description),t.push(this.ObjectType),t.push(this.LongName),t}},XM={103090709:"IFCPROJECT",4097777520:"IFCSITE",4031249490:"IFCBUILDING",3124254112:"IFCBUILDINGSTOREY",3856911033:"IFCSPACE",1674181508:"IFCANNOTATION",25142252:"IFCCONTROLLER",32344328:"IFCBOILER",76236018:"IFCLAMP",90941305:"IFCPUMP",177149247:"IFCAIRTERMINALBOX",182646315:"IFCFLOWINSTRUMENT",263784265:"IFCFURNISHINGELEMENT",264262732:"IFCELECTRICGENERATOR",277319702:"IFCAUDIOVISUALAPPLIANCE",310824031:"IFCPIPEFITTING",331165859:"IFCSTAIR",342316401:"IFCDUCTFITTING",377706215:"IFCMECHANICALFASTENER",395920057:"IFCDOOR",402227799:"IFCELECTRICMOTOR",413509423:"IFCSYSTEMFURNITUREELEMENT",484807127:"IFCEVAPORATOR",486154966:"IFCWINDOWSTANDARDCASE",629592764:"IFCLIGHTFIXTURE",630975310:"IFCUNITARYCONTROLELEMENT",635142910:"IFCCABLECARRIERFITTING",639361253:"IFCCOIL",647756555:"IFCFASTENER",707683696:"IFCFLOWSTORAGEDEVICE",738039164:"IFCPROTECTIVEDEVICE",753842376:"IFCBEAM",812556717:"IFCTANK",819412036:"IFCFILTER",843113511:"IFCCOLUMN",862014818:"IFCELECTRICDISTRIBUTIONBOARD",900683007:"IFCFOOTING",905975707:"IFCCOLUMNSTANDARDCASE",926996030:"IFCVOIDINGFEATURE",979691226:"IFCREINFORCINGBAR",987401354:"IFCFLOWSEGMENT",1003880860:"IFCELECTRICTIMECONTROL",1051757585:"IFCCABLEFITTING",1052013943:"IFCDISTRIBUTIONCHAMBERELEMENT",1062813311:"IFCDISTRIBUTIONCONTROLELEMENT",1073191201:"IFCMEMBER",1095909175:"IFCBUILDINGELEMENTPROXY",1156407060:"IFCPLATESTANDARDCASE",1162798199:"IFCSWITCHINGDEVICE",1329646415:"IFCSHADINGDEVICE",1335981549:"IFCDISCRETEACCESSORY",1360408905:"IFCDUCTSILENCER",1404847402:"IFCSTACKTERMINAL",1426591983:"IFCFIRESUPPRESSIONTERMINAL",1437502449:"IFCMEDICALDEVICE",1509553395:"IFCFURNITURE",1529196076:"IFCSLAB",1620046519:"IFCTRANSPORTELEMENT",1634111441:"IFCAIRTERMINAL",1658829314:"IFCENERGYCONVERSIONDEVICE",1677625105:"IFCCIVILELEMENT",1687234759:"IFCPILE",1904799276:"IFCELECTRICAPPLIANCE",1911478936:"IFCMEMBERSTANDARDCASE",1945004755:"IFCDISTRIBUTIONELEMENT",1973544240:"IFCCOVERING",1999602285:"IFCSPACEHEATER",2016517767:"IFCROOF",2056796094:"IFCAIRTOAIRHEATRECOVERY",2058353004:"IFCFLOWCONTROLLER",2068733104:"IFCHUMIDIFIER",2176052936:"IFCJUNCTIONBOX",2188021234:"IFCFLOWMETER",2223149337:"IFCFLOWTERMINAL",2262370178:"IFCRAILING",2272882330:"IFCCONDENSER",2295281155:"IFCPROTECTIVEDEVICETRIPPINGUNIT",2320036040:"IFCREINFORCINGMESH",2347447852:"IFCTENDONANCHOR",2391383451:"IFCVIBRATIONISOLATOR",2391406946:"IFCWALL",2474470126:"IFCMOTORCONNECTION",2769231204:"IFCVIRTUALELEMENT",2814081492:"IFCENGINE",2906023776:"IFCBEAMSTANDARDCASE",2938176219:"IFCBURNER",2979338954:"IFCBUILDINGELEMENTPART",3024970846:"IFCRAMP",3026737570:"IFCTUBEBUNDLE",3027962421:"IFCSLABSTANDARDCASE",3040386961:"IFCDISTRIBUTIONFLOWELEMENT",3053780830:"IFCSANITARYTERMINAL",3079942009:"IFCOPENINGSTANDARDCASE",3087945054:"IFCALARM",3101698114:"IFCSURFACEFEATURE",3127900445:"IFCSLABELEMENTEDCASE",3132237377:"IFCFLOWMOVINGDEVICE",3171933400:"IFCPLATE",3221913625:"IFCCOMMUNICATIONSAPPLIANCE",3242481149:"IFCDOORSTANDARDCASE",3283111854:"IFCRAMPFLIGHT",3296154744:"IFCCHIMNEY",3304561284:"IFCWINDOW",3310460725:"IFCELECTRICFLOWSTORAGEDEVICE",3319311131:"IFCHEATEXCHANGER",3415622556:"IFCFAN",3420628829:"IFCSOLARDEVICE",3493046030:"IFCGEOGRAPHICELEMENT",3495092785:"IFCCURTAINWALL",3508470533:"IFCFLOWTREATMENTDEVICE",3512223829:"IFCWALLSTANDARDCASE",3518393246:"IFCDUCTSEGMENT",3571504051:"IFCCOMPRESSOR",3588315303:"IFCOPENINGELEMENT",3612865200:"IFCPIPESEGMENT",3640358203:"IFCCOOLINGTOWER",3651124850:"IFCPROJECTIONELEMENT",3694346114:"IFCOUTLET",3747195512:"IFCEVAPORATIVECOOLER",3758799889:"IFCCABLECARRIERSEGMENT",3824725483:"IFCTENDON",3825984169:"IFCTRANSFORMER",3902619387:"IFCCHILLER",4074379575:"IFCDAMPER",4086658281:"IFCSENSOR",4123344466:"IFCELEMENTASSEMBLY",4136498852:"IFCCOOLEDBEAM",4156078855:"IFCWALLELEMENTEDCASE",4175244083:"IFCINTERCEPTOR",4207607924:"IFCVALVE",4217484030:"IFCCABLESEGMENT",4237592921:"IFCWASTETERMINAL",4252922144:"IFCSTAIRFLIGHT",4278956645:"IFCFLOWFITTING",4288193352:"IFCACTUATOR",4292641817:"IFCUNITARYEQUIPMENT",3009204131:"IFCGRID"},X6={3821786052:"IFCACTIONREQUEST",2296667514:"IFCACTOR",3630933823:"IFCACTORROLE",4288193352:"IFCACTUATOR",2874132201:"IFCACTUATORTYPE",618182010:"IFCADDRESS",1635779807:"IFCADVANCEDBREP",2603310189:"IFCADVANCEDBREPWITHVOIDS",3406155212:"IFCADVANCEDFACE",1634111441:"IFCAIRTERMINAL",177149247:"IFCAIRTERMINALBOX",1411407467:"IFCAIRTERMINALBOXTYPE",3352864051:"IFCAIRTERMINALTYPE",2056796094:"IFCAIRTOAIRHEATRECOVERY",1871374353:"IFCAIRTOAIRHEATRECOVERYTYPE",3087945054:"IFCALARM",3001207471:"IFCALARMTYPE",325726236:"IFCALIGNMENT",749761778:"IFCALIGNMENT2DHORIZONTAL",3199563722:"IFCALIGNMENT2DHORIZONTALSEGMENT",2483840362:"IFCALIGNMENT2DSEGMENT",3379348081:"IFCALIGNMENT2DVERSEGCIRCULARARC",3239324667:"IFCALIGNMENT2DVERSEGLINE",4263986512:"IFCALIGNMENT2DVERSEGPARABOLICARC",53199957:"IFCALIGNMENT2DVERTICAL",2029264950:"IFCALIGNMENT2DVERTICALSEGMENT",3512275521:"IFCALIGNMENTCURVE",1674181508:"IFCANNOTATION",669184980:"IFCANNOTATIONFILLAREA",639542469:"IFCAPPLICATION",411424972:"IFCAPPLIEDVALUE",130549933:"IFCAPPROVAL",3869604511:"IFCAPPROVALRELATIONSHIP",3798115385:"IFCARBITRARYCLOSEDPROFILEDEF",1310608509:"IFCARBITRARYOPENPROFILEDEF",2705031697:"IFCARBITRARYPROFILEDEFWITHVOIDS",3460190687:"IFCASSET",3207858831:"IFCASYMMETRICISHAPEPROFILEDEF",277319702:"IFCAUDIOVISUALAPPLIANCE",1532957894:"IFCAUDIOVISUALAPPLIANCETYPE",4261334040:"IFCAXIS1PLACEMENT",3125803723:"IFCAXIS2PLACEMENT2D",2740243338:"IFCAXIS2PLACEMENT3D",1967976161:"IFCBSPLINECURVE",2461110595:"IFCBSPLINECURVEWITHKNOTS",2887950389:"IFCBSPLINESURFACE",167062518:"IFCBSPLINESURFACEWITHKNOTS",753842376:"IFCBEAM",2906023776:"IFCBEAMSTANDARDCASE",819618141:"IFCBEAMTYPE",4196446775:"IFCBEARING",3649138523:"IFCBEARINGTYPE",616511568:"IFCBLOBTEXTURE",1334484129:"IFCBLOCK",32344328:"IFCBOILER",231477066:"IFCBOILERTYPE",3649129432:"IFCBOOLEANCLIPPINGRESULT",2736907675:"IFCBOOLEANRESULT",4037036970:"IFCBOUNDARYCONDITION",1136057603:"IFCBOUNDARYCURVE",1560379544:"IFCBOUNDARYEDGECONDITION",3367102660:"IFCBOUNDARYFACECONDITION",1387855156:"IFCBOUNDARYNODECONDITION",2069777674:"IFCBOUNDARYNODECONDITIONWARPING",1260505505:"IFCBOUNDEDCURVE",4182860854:"IFCBOUNDEDSURFACE",2581212453:"IFCBOUNDINGBOX",2713105998:"IFCBOXEDHALFSPACE",644574406:"IFCBRIDGE",963979645:"IFCBRIDGEPART",4031249490:"IFCBUILDING",3299480353:"IFCBUILDINGELEMENT",2979338954:"IFCBUILDINGELEMENTPART",39481116:"IFCBUILDINGELEMENTPARTTYPE",1095909175:"IFCBUILDINGELEMENTPROXY",1909888760:"IFCBUILDINGELEMENTPROXYTYPE",1950629157:"IFCBUILDINGELEMENTTYPE",3124254112:"IFCBUILDINGSTOREY",1177604601:"IFCBUILDINGSYSTEM",2938176219:"IFCBURNER",2188180465:"IFCBURNERTYPE",2898889636:"IFCCSHAPEPROFILEDEF",635142910:"IFCCABLECARRIERFITTING",395041908:"IFCCABLECARRIERFITTINGTYPE",3758799889:"IFCCABLECARRIERSEGMENT",3293546465:"IFCCABLECARRIERSEGMENTTYPE",1051757585:"IFCCABLEFITTING",2674252688:"IFCCABLEFITTINGTYPE",4217484030:"IFCCABLESEGMENT",1285652485:"IFCCABLESEGMENTTYPE",3999819293:"IFCCAISSONFOUNDATION",3203706013:"IFCCAISSONFOUNDATIONTYPE",1123145078:"IFCCARTESIANPOINT",574549367:"IFCCARTESIANPOINTLIST",1675464909:"IFCCARTESIANPOINTLIST2D",2059837836:"IFCCARTESIANPOINTLIST3D",59481748:"IFCCARTESIANTRANSFORMATIONOPERATOR",3749851601:"IFCCARTESIANTRANSFORMATIONOPERATOR2D",3486308946:"IFCCARTESIANTRANSFORMATIONOPERATOR2DNONUNIFORM",3331915920:"IFCCARTESIANTRANSFORMATIONOPERATOR3D",1416205885:"IFCCARTESIANTRANSFORMATIONOPERATOR3DNONUNIFORM",3150382593:"IFCCENTERLINEPROFILEDEF",3902619387:"IFCCHILLER",2951183804:"IFCCHILLERTYPE",3296154744:"IFCCHIMNEY",2197970202:"IFCCHIMNEYTYPE",2611217952:"IFCCIRCLE",2937912522:"IFCCIRCLEHOLLOWPROFILEDEF",1383045692:"IFCCIRCLEPROFILEDEF",1062206242:"IFCCIRCULARARCSEGMENT2D",1677625105:"IFCCIVILELEMENT",3893394355:"IFCCIVILELEMENTTYPE",747523909:"IFCCLASSIFICATION",647927063:"IFCCLASSIFICATIONREFERENCE",2205249479:"IFCCLOSEDSHELL",639361253:"IFCCOIL",2301859152:"IFCCOILTYPE",776857604:"IFCCOLOURRGB",3285139300:"IFCCOLOURRGBLIST",3264961684:"IFCCOLOURSPECIFICATION",843113511:"IFCCOLUMN",905975707:"IFCCOLUMNSTANDARDCASE",300633059:"IFCCOLUMNTYPE",3221913625:"IFCCOMMUNICATIONSAPPLIANCE",400855858:"IFCCOMMUNICATIONSAPPLIANCETYPE",2542286263:"IFCCOMPLEXPROPERTY",3875453745:"IFCCOMPLEXPROPERTYTEMPLATE",3732776249:"IFCCOMPOSITECURVE",15328376:"IFCCOMPOSITECURVEONSURFACE",2485617015:"IFCCOMPOSITECURVESEGMENT",1485152156:"IFCCOMPOSITEPROFILEDEF",3571504051:"IFCCOMPRESSOR",3850581409:"IFCCOMPRESSORTYPE",2272882330:"IFCCONDENSER",2816379211:"IFCCONDENSERTYPE",2510884976:"IFCCONIC",370225590:"IFCCONNECTEDFACESET",1981873012:"IFCCONNECTIONCURVEGEOMETRY",2859738748:"IFCCONNECTIONGEOMETRY",45288368:"IFCCONNECTIONPOINTECCENTRICITY",2614616156:"IFCCONNECTIONPOINTGEOMETRY",2732653382:"IFCCONNECTIONSURFACEGEOMETRY",775493141:"IFCCONNECTIONVOLUMEGEOMETRY",1959218052:"IFCCONSTRAINT",3898045240:"IFCCONSTRUCTIONEQUIPMENTRESOURCE",2185764099:"IFCCONSTRUCTIONEQUIPMENTRESOURCETYPE",1060000209:"IFCCONSTRUCTIONMATERIALRESOURCE",4105962743:"IFCCONSTRUCTIONMATERIALRESOURCETYPE",488727124:"IFCCONSTRUCTIONPRODUCTRESOURCE",1525564444:"IFCCONSTRUCTIONPRODUCTRESOURCETYPE",2559216714:"IFCCONSTRUCTIONRESOURCE",2574617495:"IFCCONSTRUCTIONRESOURCETYPE",3419103109:"IFCCONTEXT",3050246964:"IFCCONTEXTDEPENDENTUNIT",3293443760:"IFCCONTROL",25142252:"IFCCONTROLLER",578613899:"IFCCONTROLLERTYPE",2889183280:"IFCCONVERSIONBASEDUNIT",2713554722:"IFCCONVERSIONBASEDUNITWITHOFFSET",4136498852:"IFCCOOLEDBEAM",335055490:"IFCCOOLEDBEAMTYPE",3640358203:"IFCCOOLINGTOWER",2954562838:"IFCCOOLINGTOWERTYPE",1785450214:"IFCCOORDINATEOPERATION",1466758467:"IFCCOORDINATEREFERENCESYSTEM",3895139033:"IFCCOSTITEM",1419761937:"IFCCOSTSCHEDULE",602808272:"IFCCOSTVALUE",1973544240:"IFCCOVERING",1916426348:"IFCCOVERINGTYPE",3295246426:"IFCCREWRESOURCE",1815067380:"IFCCREWRESOURCETYPE",2506170314:"IFCCSGPRIMITIVE3D",2147822146:"IFCCSGSOLID",539742890:"IFCCURRENCYRELATIONSHIP",3495092785:"IFCCURTAINWALL",1457835157:"IFCCURTAINWALLTYPE",2601014836:"IFCCURVE",2827736869:"IFCCURVEBOUNDEDPLANE",2629017746:"IFCCURVEBOUNDEDSURFACE",1186437898:"IFCCURVESEGMENT2D",3800577675:"IFCCURVESTYLE",1105321065:"IFCCURVESTYLEFONT",2367409068:"IFCCURVESTYLEFONTANDSCALING",3510044353:"IFCCURVESTYLEFONTPATTERN",1213902940:"IFCCYLINDRICALSURFACE",4074379575:"IFCDAMPER",3961806047:"IFCDAMPERTYPE",3426335179:"IFCDEEPFOUNDATION",1306400036:"IFCDEEPFOUNDATIONTYPE",3632507154:"IFCDERIVEDPROFILEDEF",1765591967:"IFCDERIVEDUNIT",1045800335:"IFCDERIVEDUNITELEMENT",2949456006:"IFCDIMENSIONALEXPONENTS",32440307:"IFCDIRECTION",1335981549:"IFCDISCRETEACCESSORY",2635815018:"IFCDISCRETEACCESSORYTYPE",1945343521:"IFCDISTANCEEXPRESSION",1052013943:"IFCDISTRIBUTIONCHAMBERELEMENT",1599208980:"IFCDISTRIBUTIONCHAMBERELEMENTTYPE",562808652:"IFCDISTRIBUTIONCIRCUIT",1062813311:"IFCDISTRIBUTIONCONTROLELEMENT",2063403501:"IFCDISTRIBUTIONCONTROLELEMENTTYPE",1945004755:"IFCDISTRIBUTIONELEMENT",3256556792:"IFCDISTRIBUTIONELEMENTTYPE",3040386961:"IFCDISTRIBUTIONFLOWELEMENT",3849074793:"IFCDISTRIBUTIONFLOWELEMENTTYPE",3041715199:"IFCDISTRIBUTIONPORT",3205830791:"IFCDISTRIBUTIONSYSTEM",1154170062:"IFCDOCUMENTINFORMATION",770865208:"IFCDOCUMENTINFORMATIONRELATIONSHIP",3732053477:"IFCDOCUMENTREFERENCE",395920057:"IFCDOOR",2963535650:"IFCDOORLININGPROPERTIES",1714330368:"IFCDOORPANELPROPERTIES",3242481149:"IFCDOORSTANDARDCASE",526551008:"IFCDOORSTYLE",2323601079:"IFCDOORTYPE",445594917:"IFCDRAUGHTINGPREDEFINEDCOLOUR",4006246654:"IFCDRAUGHTINGPREDEFINEDCURVEFONT",342316401:"IFCDUCTFITTING",869906466:"IFCDUCTFITTINGTYPE",3518393246:"IFCDUCTSEGMENT",3760055223:"IFCDUCTSEGMENTTYPE",1360408905:"IFCDUCTSILENCER",2030761528:"IFCDUCTSILENCERTYPE",3900360178:"IFCEDGE",476780140:"IFCEDGECURVE",1472233963:"IFCEDGELOOP",1904799276:"IFCELECTRICAPPLIANCE",663422040:"IFCELECTRICAPPLIANCETYPE",862014818:"IFCELECTRICDISTRIBUTIONBOARD",2417008758:"IFCELECTRICDISTRIBUTIONBOARDTYPE",3310460725:"IFCELECTRICFLOWSTORAGEDEVICE",3277789161:"IFCELECTRICFLOWSTORAGEDEVICETYPE",264262732:"IFCELECTRICGENERATOR",1534661035:"IFCELECTRICGENERATORTYPE",402227799:"IFCELECTRICMOTOR",1217240411:"IFCELECTRICMOTORTYPE",1003880860:"IFCELECTRICTIMECONTROL",712377611:"IFCELECTRICTIMECONTROLTYPE",1758889154:"IFCELEMENT",4123344466:"IFCELEMENTASSEMBLY",2397081782:"IFCELEMENTASSEMBLYTYPE",1623761950:"IFCELEMENTCOMPONENT",2590856083:"IFCELEMENTCOMPONENTTYPE",1883228015:"IFCELEMENTQUANTITY",339256511:"IFCELEMENTTYPE",2777663545:"IFCELEMENTARYSURFACE",1704287377:"IFCELLIPSE",2835456948:"IFCELLIPSEPROFILEDEF",1658829314:"IFCENERGYCONVERSIONDEVICE",2107101300:"IFCENERGYCONVERSIONDEVICETYPE",2814081492:"IFCENGINE",132023988:"IFCENGINETYPE",3747195512:"IFCEVAPORATIVECOOLER",3174744832:"IFCEVAPORATIVECOOLERTYPE",484807127:"IFCEVAPORATOR",3390157468:"IFCEVAPORATORTYPE",4148101412:"IFCEVENT",211053100:"IFCEVENTTIME",4024345920:"IFCEVENTTYPE",297599258:"IFCEXTENDEDPROPERTIES",4294318154:"IFCEXTERNALINFORMATION",3200245327:"IFCEXTERNALREFERENCE",1437805879:"IFCEXTERNALREFERENCERELATIONSHIP",1209101575:"IFCEXTERNALSPATIALELEMENT",2853485674:"IFCEXTERNALSPATIALSTRUCTUREELEMENT",2242383968:"IFCEXTERNALLYDEFINEDHATCHSTYLE",1040185647:"IFCEXTERNALLYDEFINEDSURFACESTYLE",3548104201:"IFCEXTERNALLYDEFINEDTEXTFONT",477187591:"IFCEXTRUDEDAREASOLID",2804161546:"IFCEXTRUDEDAREASOLIDTAPERED",2556980723:"IFCFACE",2047409740:"IFCFACEBASEDSURFACEMODEL",1809719519:"IFCFACEBOUND",803316827:"IFCFACEOUTERBOUND",3008276851:"IFCFACESURFACE",807026263:"IFCFACETEDBREP",3737207727:"IFCFACETEDBREPWITHVOIDS",24185140:"IFCFACILITY",1310830890:"IFCFACILITYPART",4219587988:"IFCFAILURECONNECTIONCONDITION",3415622556:"IFCFAN",346874300:"IFCFANTYPE",647756555:"IFCFASTENER",2489546625:"IFCFASTENERTYPE",2827207264:"IFCFEATUREELEMENT",2143335405:"IFCFEATUREELEMENTADDITION",1287392070:"IFCFEATUREELEMENTSUBTRACTION",738692330:"IFCFILLAREASTYLE",374418227:"IFCFILLAREASTYLEHATCHING",315944413:"IFCFILLAREASTYLETILES",819412036:"IFCFILTER",1810631287:"IFCFILTERTYPE",1426591983:"IFCFIRESUPPRESSIONTERMINAL",4222183408:"IFCFIRESUPPRESSIONTERMINALTYPE",2652556860:"IFCFIXEDREFERENCESWEPTAREASOLID",2058353004:"IFCFLOWCONTROLLER",3907093117:"IFCFLOWCONTROLLERTYPE",4278956645:"IFCFLOWFITTING",3198132628:"IFCFLOWFITTINGTYPE",182646315:"IFCFLOWINSTRUMENT",4037862832:"IFCFLOWINSTRUMENTTYPE",2188021234:"IFCFLOWMETER",3815607619:"IFCFLOWMETERTYPE",3132237377:"IFCFLOWMOVINGDEVICE",1482959167:"IFCFLOWMOVINGDEVICETYPE",987401354:"IFCFLOWSEGMENT",1834744321:"IFCFLOWSEGMENTTYPE",707683696:"IFCFLOWSTORAGEDEVICE",1339347760:"IFCFLOWSTORAGEDEVICETYPE",2223149337:"IFCFLOWTERMINAL",2297155007:"IFCFLOWTERMINALTYPE",3508470533:"IFCFLOWTREATMENTDEVICE",3009222698:"IFCFLOWTREATMENTDEVICETYPE",900683007:"IFCFOOTING",1893162501:"IFCFOOTINGTYPE",263784265:"IFCFURNISHINGELEMENT",4238390223:"IFCFURNISHINGELEMENTTYPE",1509553395:"IFCFURNITURE",1268542332:"IFCFURNITURETYPE",3493046030:"IFCGEOGRAPHICELEMENT",4095422895:"IFCGEOGRAPHICELEMENTTYPE",987898635:"IFCGEOMETRICCURVESET",3448662350:"IFCGEOMETRICREPRESENTATIONCONTEXT",2453401579:"IFCGEOMETRICREPRESENTATIONITEM",4142052618:"IFCGEOMETRICREPRESENTATIONSUBCONTEXT",3590301190:"IFCGEOMETRICSET",3009204131:"IFCGRID",852622518:"IFCGRIDAXIS",178086475:"IFCGRIDPLACEMENT",2706460486:"IFCGROUP",812098782:"IFCHALFSPACESOLID",3319311131:"IFCHEATEXCHANGER",1251058090:"IFCHEATEXCHANGERTYPE",2068733104:"IFCHUMIDIFIER",1806887404:"IFCHUMIDIFIERTYPE",1484403080:"IFCISHAPEPROFILEDEF",3905492369:"IFCIMAGETEXTURE",3570813810:"IFCINDEXEDCOLOURMAP",2571569899:"IFCINDEXEDPOLYCURVE",178912537:"IFCINDEXEDPOLYGONALFACE",2294589976:"IFCINDEXEDPOLYGONALFACEWITHVOIDS",1437953363:"IFCINDEXEDTEXTUREMAP",2133299955:"IFCINDEXEDTRIANGLETEXTUREMAP",4175244083:"IFCINTERCEPTOR",3946677679:"IFCINTERCEPTORTYPE",3113134337:"IFCINTERSECTIONCURVE",2391368822:"IFCINVENTORY",3741457305:"IFCIRREGULARTIMESERIES",3020489413:"IFCIRREGULARTIMESERIESVALUE",2176052936:"IFCJUNCTIONBOX",4288270099:"IFCJUNCTIONBOXTYPE",572779678:"IFCLSHAPEPROFILEDEF",3827777499:"IFCLABORRESOURCE",428585644:"IFCLABORRESOURCETYPE",1585845231:"IFCLAGTIME",76236018:"IFCLAMP",1051575348:"IFCLAMPTYPE",2655187982:"IFCLIBRARYINFORMATION",3452421091:"IFCLIBRARYREFERENCE",4162380809:"IFCLIGHTDISTRIBUTIONDATA",629592764:"IFCLIGHTFIXTURE",1161773419:"IFCLIGHTFIXTURETYPE",1566485204:"IFCLIGHTINTENSITYDISTRIBUTION",1402838566:"IFCLIGHTSOURCE",125510826:"IFCLIGHTSOURCEAMBIENT",2604431987:"IFCLIGHTSOURCEDIRECTIONAL",4266656042:"IFCLIGHTSOURCEGONIOMETRIC",1520743889:"IFCLIGHTSOURCEPOSITIONAL",3422422726:"IFCLIGHTSOURCESPOT",1281925730:"IFCLINE",3092502836:"IFCLINESEGMENT2D",388784114:"IFCLINEARPLACEMENT",1154579445:"IFCLINEARPOSITIONINGELEMENT",2624227202:"IFCLOCALPLACEMENT",1008929658:"IFCLOOP",1425443689:"IFCMANIFOLDSOLIDBREP",3057273783:"IFCMAPCONVERSION",2347385850:"IFCMAPPEDITEM",1838606355:"IFCMATERIAL",1847130766:"IFCMATERIALCLASSIFICATIONRELATIONSHIP",3708119e3:"IFCMATERIALCONSTITUENT",2852063980:"IFCMATERIALCONSTITUENTSET",760658860:"IFCMATERIALDEFINITION",2022407955:"IFCMATERIALDEFINITIONREPRESENTATION",248100487:"IFCMATERIALLAYER",3303938423:"IFCMATERIALLAYERSET",1303795690:"IFCMATERIALLAYERSETUSAGE",1847252529:"IFCMATERIALLAYERWITHOFFSETS",2199411900:"IFCMATERIALLIST",2235152071:"IFCMATERIALPROFILE",164193824:"IFCMATERIALPROFILESET",3079605661:"IFCMATERIALPROFILESETUSAGE",3404854881:"IFCMATERIALPROFILESETUSAGETAPERING",552965576:"IFCMATERIALPROFILEWITHOFFSETS",3265635763:"IFCMATERIALPROPERTIES",853536259:"IFCMATERIALRELATIONSHIP",1507914824:"IFCMATERIALUSAGEDEFINITION",2597039031:"IFCMEASUREWITHUNIT",377706215:"IFCMECHANICALFASTENER",2108223431:"IFCMECHANICALFASTENERTYPE",1437502449:"IFCMEDICALDEVICE",1114901282:"IFCMEDICALDEVICETYPE",1073191201:"IFCMEMBER",1911478936:"IFCMEMBERSTANDARDCASE",3181161470:"IFCMEMBERTYPE",3368373690:"IFCMETRIC",2998442950:"IFCMIRROREDPROFILEDEF",2706619895:"IFCMONETARYUNIT",2474470126:"IFCMOTORCONNECTION",977012517:"IFCMOTORCONNECTIONTYPE",1918398963:"IFCNAMEDUNIT",3888040117:"IFCOBJECT",219451334:"IFCOBJECTDEFINITION",3701648758:"IFCOBJECTPLACEMENT",2251480897:"IFCOBJECTIVE",4143007308:"IFCOCCUPANT",590820931:"IFCOFFSETCURVE",3388369263:"IFCOFFSETCURVE2D",3505215534:"IFCOFFSETCURVE3D",2485787929:"IFCOFFSETCURVEBYDISTANCES",2665983363:"IFCOPENSHELL",3588315303:"IFCOPENINGELEMENT",3079942009:"IFCOPENINGSTANDARDCASE",4251960020:"IFCORGANIZATION",1411181986:"IFCORGANIZATIONRELATIONSHIP",643959842:"IFCORIENTATIONEXPRESSION",1029017970:"IFCORIENTEDEDGE",144952367:"IFCOUTERBOUNDARYCURVE",3694346114:"IFCOUTLET",2837617999:"IFCOUTLETTYPE",1207048766:"IFCOWNERHISTORY",2529465313:"IFCPARAMETERIZEDPROFILEDEF",2519244187:"IFCPATH",1682466193:"IFCPCURVE",2382730787:"IFCPERFORMANCEHISTORY",3566463478:"IFCPERMEABLECOVERINGPROPERTIES",3327091369:"IFCPERMIT",2077209135:"IFCPERSON",101040310:"IFCPERSONANDORGANIZATION",3021840470:"IFCPHYSICALCOMPLEXQUANTITY",2483315170:"IFCPHYSICALQUANTITY",2226359599:"IFCPHYSICALSIMPLEQUANTITY",1687234759:"IFCPILE",1158309216:"IFCPILETYPE",310824031:"IFCPIPEFITTING",804291784:"IFCPIPEFITTINGTYPE",3612865200:"IFCPIPESEGMENT",4231323485:"IFCPIPESEGMENTTYPE",597895409:"IFCPIXELTEXTURE",2004835150:"IFCPLACEMENT",603570806:"IFCPLANARBOX",1663979128:"IFCPLANAREXTENT",220341763:"IFCPLANE",3171933400:"IFCPLATE",1156407060:"IFCPLATESTANDARDCASE",4017108033:"IFCPLATETYPE",2067069095:"IFCPOINT",4022376103:"IFCPOINTONCURVE",1423911732:"IFCPOINTONSURFACE",2924175390:"IFCPOLYLOOP",2775532180:"IFCPOLYGONALBOUNDEDHALFSPACE",2839578677:"IFCPOLYGONALFACESET",3724593414:"IFCPOLYLINE",3740093272:"IFCPORT",1946335990:"IFCPOSITIONINGELEMENT",3355820592:"IFCPOSTALADDRESS",759155922:"IFCPREDEFINEDCOLOUR",2559016684:"IFCPREDEFINEDCURVEFONT",3727388367:"IFCPREDEFINEDITEM",3778827333:"IFCPREDEFINEDPROPERTIES",3967405729:"IFCPREDEFINEDPROPERTYSET",1775413392:"IFCPREDEFINEDTEXTFONT",677532197:"IFCPRESENTATIONITEM",2022622350:"IFCPRESENTATIONLAYERASSIGNMENT",1304840413:"IFCPRESENTATIONLAYERWITHSTYLE",3119450353:"IFCPRESENTATIONSTYLE",2417041796:"IFCPRESENTATIONSTYLEASSIGNMENT",2744685151:"IFCPROCEDURE",569719735:"IFCPROCEDURETYPE",2945172077:"IFCPROCESS",4208778838:"IFCPRODUCT",673634403:"IFCPRODUCTDEFINITIONSHAPE",2095639259:"IFCPRODUCTREPRESENTATION",3958567839:"IFCPROFILEDEF",2802850158:"IFCPROFILEPROPERTIES",103090709:"IFCPROJECT",653396225:"IFCPROJECTLIBRARY",2904328755:"IFCPROJECTORDER",3843373140:"IFCPROJECTEDCRS",3651124850:"IFCPROJECTIONELEMENT",2598011224:"IFCPROPERTY",986844984:"IFCPROPERTYABSTRACTION",871118103:"IFCPROPERTYBOUNDEDVALUE",1680319473:"IFCPROPERTYDEFINITION",148025276:"IFCPROPERTYDEPENDENCYRELATIONSHIP",4166981789:"IFCPROPERTYENUMERATEDVALUE",3710013099:"IFCPROPERTYENUMERATION",2752243245:"IFCPROPERTYLISTVALUE",941946838:"IFCPROPERTYREFERENCEVALUE",1451395588:"IFCPROPERTYSET",3357820518:"IFCPROPERTYSETDEFINITION",492091185:"IFCPROPERTYSETTEMPLATE",3650150729:"IFCPROPERTYSINGLEVALUE",110355661:"IFCPROPERTYTABLEVALUE",3521284610:"IFCPROPERTYTEMPLATE",1482703590:"IFCPROPERTYTEMPLATEDEFINITION",738039164:"IFCPROTECTIVEDEVICE",2295281155:"IFCPROTECTIVEDEVICETRIPPINGUNIT",655969474:"IFCPROTECTIVEDEVICETRIPPINGUNITTYPE",1842657554:"IFCPROTECTIVEDEVICETYPE",3219374653:"IFCPROXY",90941305:"IFCPUMP",2250791053:"IFCPUMPTYPE",2044713172:"IFCQUANTITYAREA",2093928680:"IFCQUANTITYCOUNT",931644368:"IFCQUANTITYLENGTH",2090586900:"IFCQUANTITYSET",3252649465:"IFCQUANTITYTIME",2405470396:"IFCQUANTITYVOLUME",825690147:"IFCQUANTITYWEIGHT",2262370178:"IFCRAILING",2893384427:"IFCRAILINGTYPE",3024970846:"IFCRAMP",3283111854:"IFCRAMPFLIGHT",2324767716:"IFCRAMPFLIGHTTYPE",1469900589:"IFCRAMPTYPE",1232101972:"IFCRATIONALBSPLINECURVEWITHKNOTS",683857671:"IFCRATIONALBSPLINESURFACEWITHKNOTS",2770003689:"IFCRECTANGLEHOLLOWPROFILEDEF",3615266464:"IFCRECTANGLEPROFILEDEF",2798486643:"IFCRECTANGULARPYRAMID",3454111270:"IFCRECTANGULARTRIMMEDSURFACE",3915482550:"IFCRECURRENCEPATTERN",2433181523:"IFCREFERENCE",4021432810:"IFCREFERENT",3413951693:"IFCREGULARTIMESERIES",1580146022:"IFCREINFORCEMENTBARPROPERTIES",3765753017:"IFCREINFORCEMENTDEFINITIONPROPERTIES",979691226:"IFCREINFORCINGBAR",2572171363:"IFCREINFORCINGBARTYPE",3027567501:"IFCREINFORCINGELEMENT",964333572:"IFCREINFORCINGELEMENTTYPE",2320036040:"IFCREINFORCINGMESH",2310774935:"IFCREINFORCINGMESHTYPE",160246688:"IFCRELAGGREGATES",3939117080:"IFCRELASSIGNS",1683148259:"IFCRELASSIGNSTOACTOR",2495723537:"IFCRELASSIGNSTOCONTROL",1307041759:"IFCRELASSIGNSTOGROUP",1027710054:"IFCRELASSIGNSTOGROUPBYFACTOR",4278684876:"IFCRELASSIGNSTOPROCESS",2857406711:"IFCRELASSIGNSTOPRODUCT",205026976:"IFCRELASSIGNSTORESOURCE",1865459582:"IFCRELASSOCIATES",4095574036:"IFCRELASSOCIATESAPPROVAL",919958153:"IFCRELASSOCIATESCLASSIFICATION",2728634034:"IFCRELASSOCIATESCONSTRAINT",982818633:"IFCRELASSOCIATESDOCUMENT",3840914261:"IFCRELASSOCIATESLIBRARY",2655215786:"IFCRELASSOCIATESMATERIAL",826625072:"IFCRELCONNECTS",1204542856:"IFCRELCONNECTSELEMENTS",3945020480:"IFCRELCONNECTSPATHELEMENTS",4201705270:"IFCRELCONNECTSPORTTOELEMENT",3190031847:"IFCRELCONNECTSPORTS",2127690289:"IFCRELCONNECTSSTRUCTURALACTIVITY",1638771189:"IFCRELCONNECTSSTRUCTURALMEMBER",504942748:"IFCRELCONNECTSWITHECCENTRICITY",3678494232:"IFCRELCONNECTSWITHREALIZINGELEMENTS",3242617779:"IFCRELCONTAINEDINSPATIALSTRUCTURE",886880790:"IFCRELCOVERSBLDGELEMENTS",2802773753:"IFCRELCOVERSSPACES",2565941209:"IFCRELDECLARES",2551354335:"IFCRELDECOMPOSES",693640335:"IFCRELDEFINES",1462361463:"IFCRELDEFINESBYOBJECT",4186316022:"IFCRELDEFINESBYPROPERTIES",307848117:"IFCRELDEFINESBYTEMPLATE",781010003:"IFCRELDEFINESBYTYPE",3940055652:"IFCRELFILLSELEMENT",279856033:"IFCRELFLOWCONTROLELEMENTS",427948657:"IFCRELINTERFERESELEMENTS",3268803585:"IFCRELNESTS",1441486842:"IFCRELPOSITIONS",750771296:"IFCRELPROJECTSELEMENT",1245217292:"IFCRELREFERENCEDINSPATIALSTRUCTURE",4122056220:"IFCRELSEQUENCE",366585022:"IFCRELSERVICESBUILDINGS",3451746338:"IFCRELSPACEBOUNDARY",3523091289:"IFCRELSPACEBOUNDARY1STLEVEL",1521410863:"IFCRELSPACEBOUNDARY2NDLEVEL",1401173127:"IFCRELVOIDSELEMENT",478536968:"IFCRELATIONSHIP",816062949:"IFCREPARAMETRISEDCOMPOSITECURVESEGMENT",1076942058:"IFCREPRESENTATION",3377609919:"IFCREPRESENTATIONCONTEXT",3008791417:"IFCREPRESENTATIONITEM",1660063152:"IFCREPRESENTATIONMAP",2914609552:"IFCRESOURCE",2943643501:"IFCRESOURCEAPPROVALRELATIONSHIP",1608871552:"IFCRESOURCECONSTRAINTRELATIONSHIP",2439245199:"IFCRESOURCELEVELRELATIONSHIP",1042787934:"IFCRESOURCETIME",1856042241:"IFCREVOLVEDAREASOLID",3243963512:"IFCREVOLVEDAREASOLIDTAPERED",4158566097:"IFCRIGHTCIRCULARCONE",3626867408:"IFCRIGHTCIRCULARCYLINDER",2016517767:"IFCROOF",2781568857:"IFCROOFTYPE",2341007311:"IFCROOT",2778083089:"IFCROUNDEDRECTANGLEPROFILEDEF",448429030:"IFCSIUNIT",3053780830:"IFCSANITARYTERMINAL",1768891740:"IFCSANITARYTERMINALTYPE",1054537805:"IFCSCHEDULINGTIME",2157484638:"IFCSEAMCURVE",2042790032:"IFCSECTIONPROPERTIES",4165799628:"IFCSECTIONREINFORCEMENTPROPERTIES",1862484736:"IFCSECTIONEDSOLID",1290935644:"IFCSECTIONEDSOLIDHORIZONTAL",1509187699:"IFCSECTIONEDSPINE",4086658281:"IFCSENSOR",1783015770:"IFCSENSORTYPE",1329646415:"IFCSHADINGDEVICE",4074543187:"IFCSHADINGDEVICETYPE",867548509:"IFCSHAPEASPECT",3982875396:"IFCSHAPEMODEL",4240577450:"IFCSHAPEREPRESENTATION",4124623270:"IFCSHELLBASEDSURFACEMODEL",3692461612:"IFCSIMPLEPROPERTY",3663146110:"IFCSIMPLEPROPERTYTEMPLATE",4097777520:"IFCSITE",1529196076:"IFCSLAB",3127900445:"IFCSLABELEMENTEDCASE",3027962421:"IFCSLABSTANDARDCASE",2533589738:"IFCSLABTYPE",2609359061:"IFCSLIPPAGECONNECTIONCONDITION",3420628829:"IFCSOLARDEVICE",1072016465:"IFCSOLARDEVICETYPE",723233188:"IFCSOLIDMODEL",3856911033:"IFCSPACE",1999602285:"IFCSPACEHEATER",1305183839:"IFCSPACEHEATERTYPE",3812236995:"IFCSPACETYPE",1412071761:"IFCSPATIALELEMENT",710998568:"IFCSPATIALELEMENTTYPE",2706606064:"IFCSPATIALSTRUCTUREELEMENT",3893378262:"IFCSPATIALSTRUCTUREELEMENTTYPE",463610769:"IFCSPATIALZONE",2481509218:"IFCSPATIALZONETYPE",451544542:"IFCSPHERE",4015995234:"IFCSPHERICALSURFACE",1404847402:"IFCSTACKTERMINAL",3112655638:"IFCSTACKTERMINALTYPE",331165859:"IFCSTAIR",4252922144:"IFCSTAIRFLIGHT",1039846685:"IFCSTAIRFLIGHTTYPE",338393293:"IFCSTAIRTYPE",682877961:"IFCSTRUCTURALACTION",3544373492:"IFCSTRUCTURALACTIVITY",2515109513:"IFCSTRUCTURALANALYSISMODEL",1179482911:"IFCSTRUCTURALCONNECTION",2273995522:"IFCSTRUCTURALCONNECTIONCONDITION",1004757350:"IFCSTRUCTURALCURVEACTION",4243806635:"IFCSTRUCTURALCURVECONNECTION",214636428:"IFCSTRUCTURALCURVEMEMBER",2445595289:"IFCSTRUCTURALCURVEMEMBERVARYING",2757150158:"IFCSTRUCTURALCURVEREACTION",3136571912:"IFCSTRUCTURALITEM",1807405624:"IFCSTRUCTURALLINEARACTION",2162789131:"IFCSTRUCTURALLOAD",385403989:"IFCSTRUCTURALLOADCASE",3478079324:"IFCSTRUCTURALLOADCONFIGURATION",1252848954:"IFCSTRUCTURALLOADGROUP",1595516126:"IFCSTRUCTURALLOADLINEARFORCE",609421318:"IFCSTRUCTURALLOADORRESULT",2668620305:"IFCSTRUCTURALLOADPLANARFORCE",2473145415:"IFCSTRUCTURALLOADSINGLEDISPLACEMENT",1973038258:"IFCSTRUCTURALLOADSINGLEDISPLACEMENTDISTORTION",1597423693:"IFCSTRUCTURALLOADSINGLEFORCE",1190533807:"IFCSTRUCTURALLOADSINGLEFORCEWARPING",2525727697:"IFCSTRUCTURALLOADSTATIC",3408363356:"IFCSTRUCTURALLOADTEMPERATURE",530289379:"IFCSTRUCTURALMEMBER",1621171031:"IFCSTRUCTURALPLANARACTION",2082059205:"IFCSTRUCTURALPOINTACTION",734778138:"IFCSTRUCTURALPOINTCONNECTION",1235345126:"IFCSTRUCTURALPOINTREACTION",3689010777:"IFCSTRUCTURALREACTION",2986769608:"IFCSTRUCTURALRESULTGROUP",3657597509:"IFCSTRUCTURALSURFACEACTION",1975003073:"IFCSTRUCTURALSURFACECONNECTION",3979015343:"IFCSTRUCTURALSURFACEMEMBER",2218152070:"IFCSTRUCTURALSURFACEMEMBERVARYING",603775116:"IFCSTRUCTURALSURFACEREACTION",2830218821:"IFCSTYLEMODEL",3958052878:"IFCSTYLEDITEM",3049322572:"IFCSTYLEDREPRESENTATION",148013059:"IFCSUBCONTRACTRESOURCE",4095615324:"IFCSUBCONTRACTRESOURCETYPE",2233826070:"IFCSUBEDGE",2513912981:"IFCSURFACE",699246055:"IFCSURFACECURVE",2028607225:"IFCSURFACECURVESWEPTAREASOLID",3101698114:"IFCSURFACEFEATURE",2809605785:"IFCSURFACEOFLINEAREXTRUSION",4124788165:"IFCSURFACEOFREVOLUTION",2934153892:"IFCSURFACEREINFORCEMENTAREA",1300840506:"IFCSURFACESTYLE",3303107099:"IFCSURFACESTYLELIGHTING",1607154358:"IFCSURFACESTYLEREFRACTION",1878645084:"IFCSURFACESTYLERENDERING",846575682:"IFCSURFACESTYLESHADING",1351298697:"IFCSURFACESTYLEWITHTEXTURES",626085974:"IFCSURFACETEXTURE",2247615214:"IFCSWEPTAREASOLID",1260650574:"IFCSWEPTDISKSOLID",1096409881:"IFCSWEPTDISKSOLIDPOLYGONAL",230924584:"IFCSWEPTSURFACE",1162798199:"IFCSWITCHINGDEVICE",2315554128:"IFCSWITCHINGDEVICETYPE",2254336722:"IFCSYSTEM",413509423:"IFCSYSTEMFURNITUREELEMENT",1580310250:"IFCSYSTEMFURNITUREELEMENTTYPE",3071757647:"IFCTSHAPEPROFILEDEF",985171141:"IFCTABLE",2043862942:"IFCTABLECOLUMN",531007025:"IFCTABLEROW",812556717:"IFCTANK",5716631:"IFCTANKTYPE",3473067441:"IFCTASK",1549132990:"IFCTASKTIME",2771591690:"IFCTASKTIMERECURRING",3206491090:"IFCTASKTYPE",912023232:"IFCTELECOMADDRESS",3824725483:"IFCTENDON",2347447852:"IFCTENDONANCHOR",3081323446:"IFCTENDONANCHORTYPE",3663046924:"IFCTENDONCONDUIT",2281632017:"IFCTENDONCONDUITTYPE",2415094496:"IFCTENDONTYPE",2387106220:"IFCTESSELLATEDFACESET",901063453:"IFCTESSELLATEDITEM",4282788508:"IFCTEXTLITERAL",3124975700:"IFCTEXTLITERALWITHEXTENT",1447204868:"IFCTEXTSTYLE",1983826977:"IFCTEXTSTYLEFONTMODEL",2636378356:"IFCTEXTSTYLEFORDEFINEDFONT",1640371178:"IFCTEXTSTYLETEXTMODEL",280115917:"IFCTEXTURECOORDINATE",1742049831:"IFCTEXTURECOORDINATEGENERATOR",2552916305:"IFCTEXTUREMAP",1210645708:"IFCTEXTUREVERTEX",3611470254:"IFCTEXTUREVERTEXLIST",1199560280:"IFCTIMEPERIOD",3101149627:"IFCTIMESERIES",581633288:"IFCTIMESERIESVALUE",1377556343:"IFCTOPOLOGICALREPRESENTATIONITEM",1735638870:"IFCTOPOLOGYREPRESENTATION",1935646853:"IFCTOROIDALSURFACE",3825984169:"IFCTRANSFORMER",1692211062:"IFCTRANSFORMERTYPE",2595432518:"IFCTRANSITIONCURVESEGMENT2D",1620046519:"IFCTRANSPORTELEMENT",2097647324:"IFCTRANSPORTELEMENTTYPE",2715220739:"IFCTRAPEZIUMPROFILEDEF",2916149573:"IFCTRIANGULATEDFACESET",1229763772:"IFCTRIANGULATEDIRREGULARNETWORK",3593883385:"IFCTRIMMEDCURVE",3026737570:"IFCTUBEBUNDLE",1600972822:"IFCTUBEBUNDLETYPE",1628702193:"IFCTYPEOBJECT",3736923433:"IFCTYPEPROCESS",2347495698:"IFCTYPEPRODUCT",3698973494:"IFCTYPERESOURCE",427810014:"IFCUSHAPEPROFILEDEF",180925521:"IFCUNITASSIGNMENT",630975310:"IFCUNITARYCONTROLELEMENT",3179687236:"IFCUNITARYCONTROLELEMENTTYPE",4292641817:"IFCUNITARYEQUIPMENT",1911125066:"IFCUNITARYEQUIPMENTTYPE",4207607924:"IFCVALVE",728799441:"IFCVALVETYPE",1417489154:"IFCVECTOR",2799835756:"IFCVERTEX",2759199220:"IFCVERTEXLOOP",1907098498:"IFCVERTEXPOINT",1530820697:"IFCVIBRATIONDAMPER",3956297820:"IFCVIBRATIONDAMPERTYPE",2391383451:"IFCVIBRATIONISOLATOR",3313531582:"IFCVIBRATIONISOLATORTYPE",2769231204:"IFCVIRTUALELEMENT",891718957:"IFCVIRTUALGRIDINTERSECTION",926996030:"IFCVOIDINGFEATURE",2391406946:"IFCWALL",4156078855:"IFCWALLELEMENTEDCASE",3512223829:"IFCWALLSTANDARDCASE",1898987631:"IFCWALLTYPE",4237592921:"IFCWASTETERMINAL",1133259667:"IFCWASTETERMINALTYPE",3304561284:"IFCWINDOW",336235671:"IFCWINDOWLININGPROPERTIES",512836454:"IFCWINDOWPANELPROPERTIES",486154966:"IFCWINDOWSTANDARDCASE",1299126871:"IFCWINDOWSTYLE",4009809668:"IFCWINDOWTYPE",4088093105:"IFCWORKCALENDAR",1028945134:"IFCWORKCONTROL",4218914973:"IFCWORKPLAN",3342526732:"IFCWORKSCHEDULE",1236880293:"IFCWORKTIME",2543172580:"IFCZSHAPEPROFILEDEF",1033361043:"IFCZONE"},ar={aggregates:{name:Kp,relating:"RelatingObject",related:"RelatedObjects",key:"children"},spatial:{name:kp,relating:"RelatingStructure",related:"RelatedElements",key:"children"},psets:{name:Pp,relating:"RelatingPropertyDefinition",related:"RelatedObjects",key:"hasPsets"},materials:{name:wp,relating:"RelatingMaterial",related:"RelatedObjects",key:"hasMaterial"},type:{name:Up,relating:"RelatingType",related:"RelatedObjects",key:"hasType"}},Dp=class{constructor(t){this.api=t}getIfcType(t){return X6[t]}getItemProperties(t,i,e=!1){return Gi(this,null,function*(){return this.api.GetLine(t,i,e)})}getPropertySets(t,i,e=!1){return Gi(this,null,function*(){return yield this.getProperty(t,i,e,ar.psets)})}getTypeProperties(t,i,e=!1){return Gi(this,null,function*(){return yield this.getProperty(t,i,e,ar.type)})}getMaterialsProperties(t,i,e=!1){return Gi(this,null,function*(){return yield this.getProperty(t,i,e,ar.materials)})}getSpatialStructure(t,i){return Gi(this,null,function*(){yield this.getAllTypesOfModel(t);const e=yield this.getSpatialTreeChunks(t),n=(yield this.api.GetLineIDsWithType(t,_h)).get(0),l=Dp.newIfcProject(n);return yield this.getSpatialNode(t,l,e,i),this.cleanupTypes(),l})}getAllItemsOfType(t,i,e){return Gi(this,null,function*(){let s=[];const n=yield this.api.GetLineIDsWithType(t,i);for(let r=0;r<n.size();r++)s.push(n.get(r));if(!e)return s;const l=[];for(let r=0;r<s.length;r++)l.push(yield this.api.GetLine(t,s[r]));return l})}getProperty(t,i,e=!1,s){return Gi(this,null,function*(){const n=yield this.getAllRelatedItemsOfType(t,i,s),l=[];for(let r=0;r<n.length;r++)l.push(yield this.api.GetLine(t,n[r],e));return l})}getChunks(t,i,e){return Gi(this,null,function*(){const s=yield this.api.GetLineIDsWithType(t,e.name);for(let n=0;n<s.size();n++){const l=yield this.api.GetLine(t,s.get(n),!1);this.saveChunk(i,e,l)}})}static isRelated(t,i,e){const s=i[e.related];return Array.isArray(s)?s.map(l=>l.value).includes(t):s.value===t}static newIfcProject(t){return{expressID:t,type:"IFCPROJECT",children:[]}}getSpatialNode(t,i,e,s){return Gi(this,null,function*(){yield this.getChildren(t,i,e,ar.aggregates,s),yield this.getChildren(t,i,e,ar.spatial,s)})}getChildren(t,i,e,s,n){return Gi(this,null,function*(){const l=e[i.expressID];if(l==null)return;const r=s.key,a=[];for(let o=0;o<l.length;o++){const c=l[o];let h=this.newNode(c);if(n){const d=yield this.getItemProperties(t,h.expressID);h=Qh(Qh({},d),h)}yield this.getSpatialNode(t,h,e,n),a.push(h)}i[r]=a})}newNode(t){const i=this.getNodeType(t);return{expressID:t,type:i,children:[]}}getNodeType(t){const i=this.types[t];return XM[i]}getSpatialTreeChunks(t){return Gi(this,null,function*(){const i={};return yield this.getChunks(t,i,ar.aggregates),yield this.getChunks(t,i,ar.spatial),i})}saveChunk(t,i,e){const s=e[i.relating].value,n=e[i.related].map(l=>l.value);t[s]==null?t[s]=n:t[s]=t[s].concat(n)}getRelated(t,i,e){const s=t[i.relating];Array.isArray(s)?s.forEach(n=>e.push(n.value)):e.push(s.value)}getAllRelatedItemsOfType(t,i,e){return Gi(this,null,function*(){const s=yield this.api.GetLineIDsWithType(t,e.name),n=[];for(let l=0;l<s.size();l++){const r=yield this.api.GetLine(t,s.get(l));Dp.isRelated(i,r,e)&&this.getRelated(r,e,n)}return n})}cleanupTypes(){this.types={}}getAllTypesOfModel(t){return Gi(this,null,function*(){const i={},e=Object.keys(XM).map(s=>parseInt(s));for(let s=0;s<e.length;s++){const n=e[s],l=yield this.api.GetLineIDsWithType(t,n),r=l.size();for(let a=0;a<r;a++)i[l.get(a)]=n}this.types=i})}},qh;typeof self<"u"&&self.crossOriginIsolated?qh=kU():qh=PU();var Jp=class{constructor(){this.wasmModule=void 0,this.fs=void 0,this.wasmPath="",this.isWasmPathAbsolute=!1,this.ifcGuidMap=new Map,this.properties=new Dp(this)}Init(t){return Gi(this,null,function*(){if(qh){let i=(e,s)=>e.endsWith(".wasm")?this.isWasmPathAbsolute?this.wasmPath+e:s+this.wasmPath+e:s+e;this.wasmModule=yield qh({noInitialRun:!0,locateFile:t||i}),this.fs=this.wasmModule.FS}else console.error("Could not find wasm module at './web-ifc' from web-ifc-api.ts")})}OpenModel(t,i){let e=Qh({COORDINATE_TO_ORIGIN:!1,USE_FAST_BOOLS:!1,CIRCLE_SEGMENTS_LOW:5,CIRCLE_SEGMENTS_MEDIUM:8,CIRCLE_SEGMENTS_HIGH:12,BOOL_ABORT_THRESHOLD:1e4},i),s=0;return this.wasmModule.OpenModel(e,(l,r)=>{let a=Math.min(t.byteLength-s,r),o=this.wasmModule.HEAPU8.subarray(l,l+r),c=t.subarray(s,s+a);return o.set(c),s+=a,a})}CreateModel(t){let i=Qh({COORDINATE_TO_ORIGIN:!1,USE_FAST_BOOLS:!1,CIRCLE_SEGMENTS_LOW:5,CIRCLE_SEGMENTS_MEDIUM:8,CIRCLE_SEGMENTS_HIGH:12,BOOL_ABORT_THRESHOLD:1e4},t);return this.wasmModule.CreateModel(i)}ExportFileAsIFC(t){this.wasmModule.ExportFileAsIFC(t);let i=this.fs.readFile("/export.ifc");return this.wasmModule.FS_unlink("/export.ifc"),i}GetGeometry(t,i){return this.wasmModule.GetGeometry(t,i)}GetLine(t,i,e=!1){let s=this.GetRawLineData(t,i),n=I[s.type](s);return e&&this.FlattenLine(t,n),n}GetAndClearErrors(t){return this.wasmModule.GetAndClearErrors(t)}WriteLine(t,i){Object.keys(i).forEach(s=>{let n=i[s];if(n&&n.expressID!==void 0)this.WriteLine(t,n),i[s]={type:5,value:n.expressID};else if(Array.isArray(n)&&n.length>0)for(let l=0;l<n.length;l++)n[l].expressID!==void 0&&(this.WriteLine(t,n[l]),i[s][l]={type:5,value:n[l].expressID})});let e={ID:i.expressID,type:i.type,arguments:i.ToTape()};this.WriteRawLineData(t,e)}FlattenLine(t,i){Object.keys(i).forEach(e=>{let s=i[e];if(s&&s.type===5)i[e]=this.GetLine(t,s.value,!0);else if(Array.isArray(s)&&s.length>0&&s[0].type===5)for(let n=0;n<s.length;n++)i[e][n]=this.GetLine(t,s[n].value,!0)})}GetRawLineData(t,i){return this.wasmModule.GetLine(t,i)}WriteRawLineData(t,i){return this.wasmModule.WriteLine(t,i.ID,i.type,i.arguments)}GetLineIDsWithType(t,i){return this.wasmModule.GetLineIDsWithType(t,i)}GetAllLines(t){return this.wasmModule.GetAllLines(t)}SetGeometryTransformation(t,i){if(i.length!=16){console.log(`Bad transformation matrix size: ${i.length}`);return}this.wasmModule.SetGeometryTransformation(t,i)}GetCoordinationMatrix(t){return this.wasmModule.GetCoordinationMatrix(t)}GetVertexArray(t,i){return this.getSubArray(this.wasmModule.HEAPF32,t,i)}GetIndexArray(t,i){return this.getSubArray(this.wasmModule.HEAPU32,t,i)}getSubArray(t,i,e){return t.subarray(i/4,i/4+e).slice(0)}CloseModel(t){this.ifcGuidMap.delete(t),this.wasmModule.CloseModel(t)}StreamAllMeshes(t,i){this.wasmModule.StreamAllMeshes(t,i)}StreamAllMeshesWithTypes(t,i,e){this.wasmModule.StreamAllMeshesWithTypes(t,i,e)}IsModelOpen(t){return this.wasmModule.IsModelOpen(t)}LoadAllGeometry(t){return this.wasmModule.LoadAllGeometry(t)}GetFlatMesh(t,i){return this.wasmModule.GetFlatMesh(t,i)}CreateIfcGuidToExpressIdMapping(t){const i=new Map;for(let e=0;e<dI.length;e++){const s=dI[e],n=this.GetLineIDsWithType(t,s),l=n.size();for(let r=0;r<l;r++){const a=n.get(r),c=this.GetLine(t,a).GlobalId.value;i.set(a,c),i.set(c,a)}}this.ifcGuidMap.set(t,i)}SetWasmPath(t,i=!1){this.wasmPath=t,this.isWasmPathAbsolute=i}},T6=Object.defineProperty,R6=Object.defineProperties,I6=Object.getOwnPropertyDescriptors,TM=Object.getOwnPropertySymbols,g6=Object.prototype.hasOwnProperty,W6=Object.prototype.propertyIsEnumerable,RM=(t,i,e)=>i in t?T6(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e,or=(t,i)=>{for(var e in i||(i={}))g6.call(i,e)&&RM(t,e,i[e]);if(TM)for(var e of TM(i))W6.call(i,e)&&RM(t,e,i[e]);return t},L6=(t,i)=>R6(t,I6(i)),Vt=(t,i,e)=>new Promise((s,n)=>{var l=o=>{try{a(e.next(o))}catch(c){n(c)}},r=o=>{try{a(e.throw(o))}catch(c){n(c)}},a=o=>o.done?s(o.value):Promise.resolve(o.value).then(l,r);a((e=e.apply(t,i)).next())});function IM(t,i=!1){const e=t[0].index!==null,s=new Set(Object.keys(t[0].attributes)),n=new Set(Object.keys(t[0].morphAttributes)),l={},r={},a=t[0].morphTargetsRelative,o=new Re;let c=0;for(let h=0;h<t.length;++h){const d=t[h];let u=0;if(e!==(d.index!==null))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+h+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(const p in d.attributes){if(!s.has(p))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+h+'. All geometries must have compatible attributes; make sure "'+p+'" attribute exists among all geometries, or in none of them.'),null;l[p]===void 0&&(l[p]=[]),l[p].push(d.attributes[p]),u++}if(u!==s.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+h+". Make sure all geometries have the same number of attributes."),null;if(a!==d.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+h+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(const p in d.morphAttributes){if(!n.has(p))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+h+".  .morphAttributes must be consistent throughout all geometries."),null;r[p]===void 0&&(r[p]=[]),r[p].push(d.morphAttributes[p])}if(o.userData.mergedUserData=o.userData.mergedUserData||[],o.userData.mergedUserData.push(d.userData),i){let p;if(e)p=d.index.count;else if(d.attributes.position!==void 0)p=d.attributes.position.count;else return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+h+". The geometry must have either an index or a position attribute"),null;o.addGroup(c,p,h),c+=p}}if(e){let h=0;const d=[];for(let u=0;u<t.length;++u){const p=t[u].index;for(let Z=0;Z<p.count;++Z)d.push(p.getX(Z)+h);h+=t[u].attributes.position.count}o.setIndex(d)}for(const h in l){const d=gM(l[h]);if(!d)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+h+" attribute."),null;o.setAttribute(h,d)}for(const h in r){const d=r[h][0].length;if(d===0)break;o.morphAttributes=o.morphAttributes||{},o.morphAttributes[h]=[];for(let u=0;u<d;++u){const p=[];for(let X=0;X<r[h].length;++X)p.push(r[h][X][u]);const Z=gM(p);if(!Z)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+h+" morphAttribute."),null;o.morphAttributes[h].push(Z)}}return o}function gM(t){let i,e,s,n=0;for(let a=0;a<t.length;++a){const o=t[a];if(o.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported."),null;if(i===void 0&&(i=o.array.constructor),i!==o.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(e===void 0&&(e=o.itemSize),e!==o.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(s===void 0&&(s=o.normalized),s!==o.normalized)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;n+=o.array.length}const l=new i(n);let r=0;for(let a=0;a<t.length;++a)l.set(t[a].array,r),r+=t[a].array.length;return new Ne(l,e,s)}const Ki="IfcManager is null!";class cr extends ns{constructor(){super(...arguments);this.modelID=cr.modelIdCounter++,this.ifcManager=null,this.mesh=this}static dispose(){cr.modelIdCounter=0}setIFCManager(i){this.ifcManager=i}setWasmPath(i){if(this.ifcManager===null)throw new Error(Ki);this.ifcManager.setWasmPath(i)}close(i){if(this.ifcManager===null)throw new Error(Ki);this.ifcManager.close(this.modelID,i)}getExpressId(i,e){if(this.ifcManager===null)throw new Error(Ki);return this.ifcManager.getExpressId(i,e)}getAllItemsOfType(i,e){if(this.ifcManager===null)throw new Error(Ki);return this.ifcManager.getAllItemsOfType(this.modelID,i,e)}getItemProperties(i,e=!1){if(this.ifcManager===null)throw new Error(Ki);return this.ifcManager.getItemProperties(this.modelID,i,e)}getPropertySets(i,e=!1){if(this.ifcManager===null)throw new Error(Ki);return this.ifcManager.getPropertySets(this.modelID,i,e)}getTypeProperties(i,e=!1){if(this.ifcManager===null)throw new Error(Ki);return this.ifcManager.getTypeProperties(this.modelID,i,e)}getIfcType(i){if(this.ifcManager===null)throw new Error(Ki);return this.ifcManager.getIfcType(this.modelID,i)}getSpatialStructure(){if(this.ifcManager===null)throw new Error(Ki);return this.ifcManager.getSpatialStructure(this.modelID)}getSubset(i){if(this.ifcManager===null)throw new Error(Ki);return this.ifcManager.getSubset(this.modelID,i)}removeSubset(i,e){if(this.ifcManager===null)throw new Error(Ki);this.ifcManager.removeSubset(this.modelID,i,e)}createSubset(i){if(this.ifcManager===null)throw new Error(Ki);const e=L6(or({},i),{modelID:this.modelID});return this.ifcManager.createSubset(e)}}cr.modelIdCounter=0;class S6{constructor(i,e){this.state=i,this.BVH=e,this.loadedModels=0,this.optionalCategories={[tc]:!0,[$o]:!1},this.geometriesByMaterials={},this.loadingState={total:0,current:0,step:.1},this.currentWebIfcID=-1,this.currentModelID=-1}setupOptionalCategories(i){return Vt(this,null,function*(){this.optionalCategories=i})}parse(i,e){return Vt(this,null,function*(){return this.state.api.wasmModule===void 0&&(yield this.state.api.Init()),yield this.newIfcModel(i),this.loadedModels++,e&&(yield this.state.api.SetGeometryTransformation(this.currentWebIfcID,e)),this.loadAllGeometry(this.currentWebIfcID)})}getAndClearErrors(i){}notifyProgress(i,e){this.state.onProgress&&this.state.onProgress({loaded:i,total:e})}newIfcModel(i){return Vt(this,null,function*(){const e=new Uint8Array(i);this.currentWebIfcID=yield this.state.api.OpenModel(e,this.state.webIfcSettings),this.currentModelID=this.state.useJSON?this.loadedModels:this.currentWebIfcID,this.state.models[this.currentModelID]={modelID:this.currentModelID,mesh:{},types:{},jsonData:{}}})}loadAllGeometry(i){return Vt(this,null,function*(){this.addOptionalCategories(i),yield this.initializeLoadingState(i),this.state.api.StreamAllMeshes(i,r=>{this.updateLoadingState(),this.streamMesh(i,r)}),this.notifyLoadingEnded();const e=[],s=[];Object.keys(this.geometriesByMaterials).forEach(r=>{const a=this.geometriesByMaterials[r].geometries,o=IM(a);s.push(this.geometriesByMaterials[r].material),e.push(o)});const n=IM(e,!0);this.cleanUpGeometryMemory(e),this.BVH&&this.BVH.applyThreeMeshBVH(n);const l=new cr(n,s);return this.state.models[this.currentModelID].mesh=l,l})}initializeLoadingState(i){return Vt(this,null,function*(){const e=yield this.state.api.GetLineIDsWithType(i,OT);this.loadingState.total=e.size(),this.loadingState.current=0,this.loadingState.step=.1})}notifyLoadingEnded(){this.notifyProgress(this.loadingState.total,this.loadingState.total)}updateLoadingState(){if(Math.min(this.loadingState.current++,this.loadingState.total)/this.loadingState.total>=this.loadingState.step){const e=Math.ceil(this.loadingState.total*this.loadingState.step);this.notifyProgress(e,this.loadingState.total),this.loadingState.step+=.1}}addOptionalCategories(i){const e=[];for(let s in this.optionalCategories)if(this.optionalCategories.hasOwnProperty(s)){const n=parseInt(s);this.optionalCategories[n]&&e.push(n)}this.state.api.StreamAllMeshesWithTypes(this.currentWebIfcID,e,s=>{this.streamMesh(i,s)})}streamMesh(i,e){const s=e.geometries,n=s.size();for(let l=0;l<n;l++){const r=s.get(l);let a=this.getPlacedGeometry(i,e.expressID,r),o=a.geometry.applyMatrix4(a.matrix);this.storeGeometryByMaterial(r.color,o)}}getPlacedGeometry(i,e,s){const n=this.getBufferGeometry(i,e,s),l=new ns(n);return l.matrix=this.getMeshMatrix(s.flatTransformation),l.matrixAutoUpdate=!1,l}getBufferGeometry(i,e,s){const n=this.state.api.GetGeometry(i,s.geometryExpressID),l=this.state.api.GetVertexArray(n.GetVertexData(),n.GetVertexDataSize()),r=this.state.api.GetIndexArray(n.GetIndexData(),n.GetIndexDataSize()),a=this.ifcGeometryToBuffer(e,l,r);return n.delete(),a}storeGeometryByMaterial(i,e){let s=`${i.x}${i.y}${i.z}${i.w}`;if(this.geometriesByMaterials[s]){this.geometriesByMaterials[s].geometries.push(e);return}const n=new it(i.x,i.y,i.z),l=new Zh({color:n,side:pi});l.transparent=i.w!==1,l.transparent&&(l.opacity=i.w),this.geometriesByMaterials[s]={material:l,geometries:[e]}}getMeshMatrix(i){const e=new _t;return e.fromArray(i),e}ifcGeometryToBuffer(i,e,s){const n=new Re,l=new Float32Array(e.length/2),r=new Float32Array(e.length/2),a=new Uint32Array(e.length/6);for(let o=0;o<e.length;o+=6)l[o/2]=e[o],l[o/2+1]=e[o+1],l[o/2+2]=e[o+2],r[o/2]=e[o+3],r[o/2+1]=e[o+4],r[o/2+2]=e[o+5],a[o/6]=i;return n.setAttribute("position",new Ne(l,3)),n.setAttribute("normal",new Ne(r,3)),n.setAttribute("expressID",new Ne(a,1)),n.setIndex(new Ne(s,1)),n}cleanUpGeometryMemory(i){i.forEach(e=>e.dispose()),Object.keys(this.geometriesByMaterials).forEach(e=>{const s=this.geometriesByMaterials[e];s.geometries.forEach(n=>n.dispose()),s.geometries=[],s.material=null}),this.geometriesByMaterials={}}}class C6{constructor(i){this.state=i,this.map={}}generateGeometryIndexMap(i){if(this.map[i])return;const e=this.getGeometry(i),s=this.newItemsMap(i,e);for(const n of e.groups)this.fillItemsWithGroupInfo(n,e,s)}getSubsetID(i,e,s="DEFAULT"){const n=i,l=e?e.uuid:"DEFAULT";return`${n} - ${l} - ${s}`}dispose(){Object.values(this.map).forEach(i=>{i.indexCache=null,i.map=null}),this.map=null}getGeometry(i){const e=this.state.models[i].mesh.geometry;if(!e)throw new Error("Model without geometry.");if(!e.index)throw new Error("Geometry must be indexed");return e}newItemsMap(i,e){const s=e.index.array;return this.map[i]={indexCache:s.slice(0,e.index.array.length),map:new Map},this.map[i]}fillItemsWithGroupInfo(i,e,s){let n=-1;const l=i.materialIndex,r=i.start,a=r+i.count-1;let o=-1,c=-1;for(let h=r;h<=a;h++){const d=e.index.array[h],u=e.attributes.expressID.array[d];if(n===-1&&(n=u,o=h),h===a){this.getMaterialStore(s.map,u,l).push(o,a);break}if(n===u)continue;const Z=this.getMaterialStore(s.map,n,l);c=h-1,Z.push(o,c),n=u,o=h}}getMaterialStore(i,e,s){i.get(e)===void 0&&i.set(e,{});const n=i.get(e);if(n===void 0)throw new Error("Geometry map generation error");return n[s]===void 0&&(n[s]=[]),n[s]}}class Op{static getAllIndicesOfGroup(i,e,s,n,l=!0){const r=[];for(const a of e){const o=n.map.get(a);if(!o)continue;const c=o[s];!c||Op.getIndexChunk(c,r,s,n,l)}return r}static getIndexChunk(i,e,s,n,l){const r=i.length/2;for(let a=0;a<r;a++){const o=a*2,c=i[o],h=i[o+1];for(let d=c;d<=h;d++)l?e.push(n.indexCache[d]):(e[s]||(e[s]=[]),e[s].push(n.indexCache[d]))}}}class f6{constructor(i,e,s,n){this.state=i,this.items=e,this.subsets=s,this.BVH=n,this.tempIndex=[]}createSubset(i,e){this.items.map[i.modelID]||this.items.generateGeometryIndexMap(i.modelID),this.subsets[e]||this.initializeSubset(i,e),this.filterIndices(i,e),this.constructSubsetByMaterial(i,e),i.ids.forEach(n=>this.subsets[e].ids.add(n)),this.subsets[e].mesh.geometry.setIndex(this.tempIndex),this.tempIndex.length=0;const s=this.subsets[e].mesh;return i.applyBVH&&this.BVH.applyThreeMeshBVH(s.geometry),i.scene&&i.scene.add(s),this.subsets[e].mesh}dispose(){this.tempIndex=[]}initializeSubset(i,e){const s=this.state.models[i.modelID].mesh,n=new Re;this.initializeSubsetAttributes(n,s),i.material||this.initializeSubsetGroups(n,s);const l=new ns(n,i.material||s.material);l.modelID=i.modelID;const r=Boolean(i.applyBVH);this.subsets[e]={ids:new Set,mesh:l,bvh:r},s.add(l)}initializeSubsetAttributes(i,e){i.setAttribute("position",e.geometry.attributes.position),i.setAttribute("normal",e.geometry.attributes.normal),i.setAttribute("expressID",e.geometry.attributes.expressID),i.setIndex([])}initializeSubsetGroups(i,e){i.groups=JSON.parse(JSON.stringify(e.geometry.groups)),this.resetGroups(i)}filterIndices(i,e){const s=this.subsets[e].mesh.geometry;if(i.removePrevious){s.setIndex([]),this.resetGroups(s);return}const n=s.index.array,l=this.subsets[e].ids;i.ids=i.ids.filter(r=>!l.has(r)),this.tempIndex=Array.from(n)}constructSubsetByMaterial(i,e){const s=this.state.models[i.modelID].mesh,n={count:0};for(let l=0;l<s.geometry.groups.length;l++)this.insertNewIndices(i,e,l,n)}insertNewIndices(i,e,s,n){const l=this.items.map[i.modelID],r=Op.getAllIndicesOfGroup(i.modelID,i.ids,s,l);i.material?r.forEach(a=>this.tempIndex.push(a)):this.insertIndicesAtGroup(e,r,s,n)}insertIndicesAtGroup(i,e,s,n){const l=this.getCurrentGroup(i,s);l.start+=n.count;let r=l.start+l.count;if(n.count+=e.length,e.length>0){let a=r;const o=this.tempIndex.slice(0,a),c=this.tempIndex.slice(a);this.tempIndex=Array.prototype.concat.apply([],[o,e,c]),l.count+=e.length}}getCurrentGroup(i,e){return this.subsets[i].mesh.geometry.groups[e]}resetGroups(i){i.groups.forEach(e=>{e.start=0,e.count=0})}}class V6{constructor(i,e){this.subsets={},this.state=i,this.items=new C6(i),this.BVH=e,this.subsetCreator=new f6(i,this.items,this.subsets,this.BVH)}getAllSubsets(){return this.subsets}getSubset(i,e,s){const n=this.getSubsetID(i,e,s);return this.subsets[n].mesh}removeSubset(i,e,s){const n=this.getSubsetID(i,e,s),l=this.subsets[n];!l||(l.mesh.parent&&l.mesh.removeFromParent(),l.mesh.geometry.attributes={},l.mesh.geometry.index=null,l.mesh.geometry.dispose(),l.mesh.geometry=null,delete this.subsets[n])}createSubset(i){const e=this.getSubsetID(i.modelID,i.material,i.customID);return this.subsetCreator.createSubset(i,e)}removeFromSubset(i,e,s,n){const l=this.getSubsetID(i,n,s);if(!this.subsets[l])return;const r=this.subsets[l].ids;return e.forEach(a=>{r.has(a)&&r.delete(a)}),this.createSubset({modelID:i,removePrevious:!0,material:n,customID:s,applyBVH:this.subsets[l].bvh,ids:Array.from(r),scene:this.subsets[l].mesh.parent})}clearSubset(i,e,s){const n=this.getSubsetID(i,s,e);if(!this.subsets[n])return;this.subsets[n].ids.clear(),this.getSubset(i,s,e).geometry.setIndex([])}dispose(){this.items.dispose(),this.subsetCreator.dispose(),Object.values(this.subsets).forEach(i=>{i.ids=null,i.mesh.removeFromParent();const e=i.mesh.material;Array.isArray(e)?e.forEach(n=>n.dispose()):e.dispose(),i.mesh.geometry.index=null,i.mesh.geometry.dispose();const s=i.mesh.geometry;s.disposeBoundsTree&&s.disposeBoundsTree(),i.mesh=null}),this.subsets=null}getSubsetID(i,e,s="DEFAULT"){const n=i,l=e?e.uuid:"DEFAULT";return`${n} - ${l} - ${s}`}}const WM="expressID",hr={aggregates:{name:Kp,relating:"RelatingObject",related:"RelatedObjects",key:"children"},spatial:{name:kp,relating:"RelatingStructure",related:"RelatedElements",key:"children"},psets:{name:Pp,relating:"RelatingPropertyDefinition",related:"RelatedObjects",key:"hasPsets"},materials:{name:wp,relating:"RelatingMaterial",related:"RelatedObjects",key:"hasMaterial"},type:{name:Up,relating:"RelatingType",related:"RelatedObjects",key:"hasType"}};class Bp{constructor(i){this.state=i}getPropertySets(i,e,s=!1){return Vt(this,null,function*(){return yield this.getProperty(i,e,s,hr.psets)})}getTypeProperties(i,e,s=!1){return Vt(this,null,function*(){return yield this.getProperty(i,e,s,hr.type)})}getMaterialsProperties(i,e,s=!1){return Vt(this,null,function*(){return yield this.getProperty(i,e,s,hr.materials)})}getSpatialNode(i,e,s,n){return Vt(this,null,function*(){yield this.getChildren(i,e,s,hr.aggregates,n),yield this.getChildren(i,e,s,hr.spatial,n)})}getChildren(i,e,s,n,l){return Vt(this,null,function*(){const r=s[e.expressID];if(r==null)return;const a=n.key,o=[];for(let c=0;c<r.length;c++){const h=r[c];let d=this.newNode(i,h);if(l){const u=yield this.getItemProperties(i,d.expressID);d=or(or({},u),d)}yield this.getSpatialNode(i,d,s,l),o.push(d)}e[a]=o})}newNode(i,e){const s=this.getNodeType(i,e);return{expressID:e,type:s,children:[]}}getSpatialTreeChunks(i){return Vt(this,null,function*(){const e={};return yield this.getChunks(i,e,hr.aggregates),yield this.getChunks(i,e,hr.spatial),e})}saveChunk(i,e,s){const n=s[e.relating].value,l=s[e.related].map(r=>r.value);i[n]==null?i[n]=l:i[n]=i[n].concat(l)}getRelated(i,e,s){const n=i[e.relating];if(!n)return console.warn(`The object with ID ${i.expressID} has a broken reference.`);Array.isArray(n)?n.forEach(l=>s.push(l.value)):s.push(n.value)}static isRelated(i,e,s){const n=e[s.related];return Array.isArray(n)?n.map(r=>r.value).includes(i):n.value===i}static newIfcProject(i){return{expressID:i,type:"IFCPROJECT",children:[]}}getProperty(i,e,s=!1,n){return Vt(this,null,function*(){})}getChunks(i,e,s){return Vt(this,null,function*(){})}getItemProperties(i,e,s=!1){return Vt(this,null,function*(){})}getNodeType(i,e){}}let Ap={103090709:"IFCPROJECT",4097777520:"IFCSITE",4031249490:"IFCBUILDING",3124254112:"IFCBUILDINGSTOREY",3856911033:"IFCSPACE",1674181508:"IFCANNOTATION",25142252:"IFCCONTROLLER",32344328:"IFCBOILER",76236018:"IFCLAMP",90941305:"IFCPUMP",177149247:"IFCAIRTERMINALBOX",182646315:"IFCFLOWINSTRUMENT",263784265:"IFCFURNISHINGELEMENT",264262732:"IFCELECTRICGENERATOR",277319702:"IFCAUDIOVISUALAPPLIANCE",310824031:"IFCPIPEFITTING",331165859:"IFCSTAIR",342316401:"IFCDUCTFITTING",377706215:"IFCMECHANICALFASTENER",395920057:"IFCDOOR",402227799:"IFCELECTRICMOTOR",413509423:"IFCSYSTEMFURNITUREELEMENT",484807127:"IFCEVAPORATOR",486154966:"IFCWINDOWSTANDARDCASE",629592764:"IFCLIGHTFIXTURE",630975310:"IFCUNITARYCONTROLELEMENT",635142910:"IFCCABLECARRIERFITTING",639361253:"IFCCOIL",647756555:"IFCFASTENER",707683696:"IFCFLOWSTORAGEDEVICE",738039164:"IFCPROTECTIVEDEVICE",753842376:"IFCBEAM",812556717:"IFCTANK",819412036:"IFCFILTER",843113511:"IFCCOLUMN",862014818:"IFCELECTRICDISTRIBUTIONBOARD",900683007:"IFCFOOTING",905975707:"IFCCOLUMNSTANDARDCASE",926996030:"IFCVOIDINGFEATURE",979691226:"IFCREINFORCINGBAR",987401354:"IFCFLOWSEGMENT",1003880860:"IFCELECTRICTIMECONTROL",1051757585:"IFCCABLEFITTING",1052013943:"IFCDISTRIBUTIONCHAMBERELEMENT",1062813311:"IFCDISTRIBUTIONCONTROLELEMENT",1073191201:"IFCMEMBER",1095909175:"IFCBUILDINGELEMENTPROXY",1156407060:"IFCPLATESTANDARDCASE",1162798199:"IFCSWITCHINGDEVICE",1329646415:"IFCSHADINGDEVICE",1335981549:"IFCDISCRETEACCESSORY",1360408905:"IFCDUCTSILENCER",1404847402:"IFCSTACKTERMINAL",1426591983:"IFCFIRESUPPRESSIONTERMINAL",1437502449:"IFCMEDICALDEVICE",1509553395:"IFCFURNITURE",1529196076:"IFCSLAB",1620046519:"IFCTRANSPORTELEMENT",1634111441:"IFCAIRTERMINAL",1658829314:"IFCENERGYCONVERSIONDEVICE",1677625105:"IFCCIVILELEMENT",1687234759:"IFCPILE",1904799276:"IFCELECTRICAPPLIANCE",1911478936:"IFCMEMBERSTANDARDCASE",1945004755:"IFCDISTRIBUTIONELEMENT",1973544240:"IFCCOVERING",1999602285:"IFCSPACEHEATER",2016517767:"IFCROOF",2056796094:"IFCAIRTOAIRHEATRECOVERY",2058353004:"IFCFLOWCONTROLLER",2068733104:"IFCHUMIDIFIER",2176052936:"IFCJUNCTIONBOX",2188021234:"IFCFLOWMETER",2223149337:"IFCFLOWTERMINAL",2262370178:"IFCRAILING",2272882330:"IFCCONDENSER",2295281155:"IFCPROTECTIVEDEVICETRIPPINGUNIT",2320036040:"IFCREINFORCINGMESH",2347447852:"IFCTENDONANCHOR",2391383451:"IFCVIBRATIONISOLATOR",2391406946:"IFCWALL",2474470126:"IFCMOTORCONNECTION",2769231204:"IFCVIRTUALELEMENT",2814081492:"IFCENGINE",2906023776:"IFCBEAMSTANDARDCASE",2938176219:"IFCBURNER",2979338954:"IFCBUILDINGELEMENTPART",3024970846:"IFCRAMP",3026737570:"IFCTUBEBUNDLE",3027962421:"IFCSLABSTANDARDCASE",3040386961:"IFCDISTRIBUTIONFLOWELEMENT",3053780830:"IFCSANITARYTERMINAL",3079942009:"IFCOPENINGSTANDARDCASE",3087945054:"IFCALARM",3101698114:"IFCSURFACEFEATURE",3127900445:"IFCSLABELEMENTEDCASE",3132237377:"IFCFLOWMOVINGDEVICE",3171933400:"IFCPLATE",3221913625:"IFCCOMMUNICATIONSAPPLIANCE",3242481149:"IFCDOORSTANDARDCASE",3283111854:"IFCRAMPFLIGHT",3296154744:"IFCCHIMNEY",3304561284:"IFCWINDOW",3310460725:"IFCELECTRICFLOWSTORAGEDEVICE",3319311131:"IFCHEATEXCHANGER",3415622556:"IFCFAN",3420628829:"IFCSOLARDEVICE",3493046030:"IFCGEOGRAPHICELEMENT",3495092785:"IFCCURTAINWALL",3508470533:"IFCFLOWTREATMENTDEVICE",3512223829:"IFCWALLSTANDARDCASE",3518393246:"IFCDUCTSEGMENT",3571504051:"IFCCOMPRESSOR",3588315303:"IFCOPENINGELEMENT",3612865200:"IFCPIPESEGMENT",3640358203:"IFCCOOLINGTOWER",3651124850:"IFCPROJECTIONELEMENT",3694346114:"IFCOUTLET",3747195512:"IFCEVAPORATIVECOOLER",3758799889:"IFCCABLECARRIERSEGMENT",3824725483:"IFCTENDON",3825984169:"IFCTRANSFORMER",3902619387:"IFCCHILLER",4074379575:"IFCDAMPER",4086658281:"IFCSENSOR",4123344466:"IFCELEMENTASSEMBLY",4136498852:"IFCCOOLEDBEAM",4156078855:"IFCWALLELEMENTEDCASE",4175244083:"IFCINTERCEPTOR",4207607924:"IFCVALVE",4217484030:"IFCCABLESEGMENT",4237592921:"IFCWASTETERMINAL",4252922144:"IFCSTAIRFLIGHT",4278956645:"IFCFLOWFITTING",4288193352:"IFCACTUATOR",4292641817:"IFCUNITARYEQUIPMENT",3009204131:"IFCGRID"};class jp extends Bp{getItemProperties(i,e,s=!1){return Vt(this,null,function*(){return this.state.api.GetLine(i,e,s)})}getSpatialStructure(i,e){return Vt(this,null,function*(){const s=yield this.getSpatialTreeChunks(i),l=(yield this.state.api.GetLineIDsWithType(i,_h)).get(0),r=jp.newIfcProject(l);return yield this.getSpatialNode(i,r,s,e),r})}getAllItemsOfType(i,e,s){return Vt(this,null,function*(){let n=[];const l=yield this.state.api.GetLineIDsWithType(i,e);for(let a=0;a<l.size();a++)n.push(l.get(a));if(!s)return n;const r=[];for(let a=0;a<n.length;a++)r.push(yield this.state.api.GetLine(i,n[a]));return r})}getProperty(i,e,s=!1,n){return Vt(this,null,function*(){const l=yield this.getAllRelatedItemsOfType(i,e,n),r=[];for(let a=0;a<l.length;a++)r.push(yield this.state.api.GetLine(i,l[a],s));return r})}getNodeType(i,e){const s=this.state.models[i].types[e];return Ap[s]}getChunks(i,e,s){return Vt(this,null,function*(){const n=yield this.state.api.GetLineIDsWithType(i,s.name);for(let l=0;l<n.size();l++){const r=yield this.state.api.GetLine(i,n.get(l),!1);this.saveChunk(e,s,r)}})}getAllRelatedItemsOfType(i,e,s){return Vt(this,null,function*(){const n=yield this.state.api.GetLineIDsWithType(i,s.name),l=[];for(let r=0;r<n.size();r++){const a=yield this.state.api.GetLine(i,n.get(r));Bp.isRelated(e,a,s)&&this.getRelated(a,s,l)}return l})}}let ec={3821786052:"IFCACTIONREQUEST",2296667514:"IFCACTOR",3630933823:"IFCACTORROLE",4288193352:"IFCACTUATOR",2874132201:"IFCACTUATORTYPE",618182010:"IFCADDRESS",1635779807:"IFCADVANCEDBREP",2603310189:"IFCADVANCEDBREPWITHVOIDS",3406155212:"IFCADVANCEDFACE",1634111441:"IFCAIRTERMINAL",177149247:"IFCAIRTERMINALBOX",1411407467:"IFCAIRTERMINALBOXTYPE",3352864051:"IFCAIRTERMINALTYPE",2056796094:"IFCAIRTOAIRHEATRECOVERY",1871374353:"IFCAIRTOAIRHEATRECOVERYTYPE",3087945054:"IFCALARM",3001207471:"IFCALARMTYPE",325726236:"IFCALIGNMENT",749761778:"IFCALIGNMENT2DHORIZONTAL",3199563722:"IFCALIGNMENT2DHORIZONTALSEGMENT",2483840362:"IFCALIGNMENT2DSEGMENT",3379348081:"IFCALIGNMENT2DVERSEGCIRCULARARC",3239324667:"IFCALIGNMENT2DVERSEGLINE",4263986512:"IFCALIGNMENT2DVERSEGPARABOLICARC",53199957:"IFCALIGNMENT2DVERTICAL",2029264950:"IFCALIGNMENT2DVERTICALSEGMENT",3512275521:"IFCALIGNMENTCURVE",1674181508:"IFCANNOTATION",669184980:"IFCANNOTATIONFILLAREA",639542469:"IFCAPPLICATION",411424972:"IFCAPPLIEDVALUE",130549933:"IFCAPPROVAL",3869604511:"IFCAPPROVALRELATIONSHIP",3798115385:"IFCARBITRARYCLOSEDPROFILEDEF",1310608509:"IFCARBITRARYOPENPROFILEDEF",2705031697:"IFCARBITRARYPROFILEDEFWITHVOIDS",3460190687:"IFCASSET",3207858831:"IFCASYMMETRICISHAPEPROFILEDEF",277319702:"IFCAUDIOVISUALAPPLIANCE",1532957894:"IFCAUDIOVISUALAPPLIANCETYPE",4261334040:"IFCAXIS1PLACEMENT",3125803723:"IFCAXIS2PLACEMENT2D",2740243338:"IFCAXIS2PLACEMENT3D",1967976161:"IFCBSPLINECURVE",2461110595:"IFCBSPLINECURVEWITHKNOTS",2887950389:"IFCBSPLINESURFACE",167062518:"IFCBSPLINESURFACEWITHKNOTS",753842376:"IFCBEAM",2906023776:"IFCBEAMSTANDARDCASE",819618141:"IFCBEAMTYPE",4196446775:"IFCBEARING",3649138523:"IFCBEARINGTYPE",616511568:"IFCBLOBTEXTURE",1334484129:"IFCBLOCK",32344328:"IFCBOILER",231477066:"IFCBOILERTYPE",3649129432:"IFCBOOLEANCLIPPINGRESULT",2736907675:"IFCBOOLEANRESULT",4037036970:"IFCBOUNDARYCONDITION",1136057603:"IFCBOUNDARYCURVE",1560379544:"IFCBOUNDARYEDGECONDITION",3367102660:"IFCBOUNDARYFACECONDITION",1387855156:"IFCBOUNDARYNODECONDITION",2069777674:"IFCBOUNDARYNODECONDITIONWARPING",1260505505:"IFCBOUNDEDCURVE",4182860854:"IFCBOUNDEDSURFACE",2581212453:"IFCBOUNDINGBOX",2713105998:"IFCBOXEDHALFSPACE",644574406:"IFCBRIDGE",963979645:"IFCBRIDGEPART",4031249490:"IFCBUILDING",3299480353:"IFCBUILDINGELEMENT",2979338954:"IFCBUILDINGELEMENTPART",39481116:"IFCBUILDINGELEMENTPARTTYPE",1095909175:"IFCBUILDINGELEMENTPROXY",1909888760:"IFCBUILDINGELEMENTPROXYTYPE",1950629157:"IFCBUILDINGELEMENTTYPE",3124254112:"IFCBUILDINGSTOREY",1177604601:"IFCBUILDINGSYSTEM",2938176219:"IFCBURNER",2188180465:"IFCBURNERTYPE",2898889636:"IFCCSHAPEPROFILEDEF",635142910:"IFCCABLECARRIERFITTING",395041908:"IFCCABLECARRIERFITTINGTYPE",3758799889:"IFCCABLECARRIERSEGMENT",3293546465:"IFCCABLECARRIERSEGMENTTYPE",1051757585:"IFCCABLEFITTING",2674252688:"IFCCABLEFITTINGTYPE",4217484030:"IFCCABLESEGMENT",1285652485:"IFCCABLESEGMENTTYPE",3999819293:"IFCCAISSONFOUNDATION",3203706013:"IFCCAISSONFOUNDATIONTYPE",1123145078:"IFCCARTESIANPOINT",574549367:"IFCCARTESIANPOINTLIST",1675464909:"IFCCARTESIANPOINTLIST2D",2059837836:"IFCCARTESIANPOINTLIST3D",59481748:"IFCCARTESIANTRANSFORMATIONOPERATOR",3749851601:"IFCCARTESIANTRANSFORMATIONOPERATOR2D",3486308946:"IFCCARTESIANTRANSFORMATIONOPERATOR2DNONUNIFORM",3331915920:"IFCCARTESIANTRANSFORMATIONOPERATOR3D",1416205885:"IFCCARTESIANTRANSFORMATIONOPERATOR3DNONUNIFORM",3150382593:"IFCCENTERLINEPROFILEDEF",3902619387:"IFCCHILLER",2951183804:"IFCCHILLERTYPE",3296154744:"IFCCHIMNEY",2197970202:"IFCCHIMNEYTYPE",2611217952:"IFCCIRCLE",2937912522:"IFCCIRCLEHOLLOWPROFILEDEF",1383045692:"IFCCIRCLEPROFILEDEF",1062206242:"IFCCIRCULARARCSEGMENT2D",1677625105:"IFCCIVILELEMENT",3893394355:"IFCCIVILELEMENTTYPE",747523909:"IFCCLASSIFICATION",647927063:"IFCCLASSIFICATIONREFERENCE",2205249479:"IFCCLOSEDSHELL",639361253:"IFCCOIL",2301859152:"IFCCOILTYPE",776857604:"IFCCOLOURRGB",3285139300:"IFCCOLOURRGBLIST",3264961684:"IFCCOLOURSPECIFICATION",843113511:"IFCCOLUMN",905975707:"IFCCOLUMNSTANDARDCASE",300633059:"IFCCOLUMNTYPE",3221913625:"IFCCOMMUNICATIONSAPPLIANCE",400855858:"IFCCOMMUNICATIONSAPPLIANCETYPE",2542286263:"IFCCOMPLEXPROPERTY",3875453745:"IFCCOMPLEXPROPERTYTEMPLATE",3732776249:"IFCCOMPOSITECURVE",15328376:"IFCCOMPOSITECURVEONSURFACE",2485617015:"IFCCOMPOSITECURVESEGMENT",1485152156:"IFCCOMPOSITEPROFILEDEF",3571504051:"IFCCOMPRESSOR",3850581409:"IFCCOMPRESSORTYPE",2272882330:"IFCCONDENSER",2816379211:"IFCCONDENSERTYPE",2510884976:"IFCCONIC",370225590:"IFCCONNECTEDFACESET",1981873012:"IFCCONNECTIONCURVEGEOMETRY",2859738748:"IFCCONNECTIONGEOMETRY",45288368:"IFCCONNECTIONPOINTECCENTRICITY",2614616156:"IFCCONNECTIONPOINTGEOMETRY",2732653382:"IFCCONNECTIONSURFACEGEOMETRY",775493141:"IFCCONNECTIONVOLUMEGEOMETRY",1959218052:"IFCCONSTRAINT",3898045240:"IFCCONSTRUCTIONEQUIPMENTRESOURCE",2185764099:"IFCCONSTRUCTIONEQUIPMENTRESOURCETYPE",1060000209:"IFCCONSTRUCTIONMATERIALRESOURCE",4105962743:"IFCCONSTRUCTIONMATERIALRESOURCETYPE",488727124:"IFCCONSTRUCTIONPRODUCTRESOURCE",1525564444:"IFCCONSTRUCTIONPRODUCTRESOURCETYPE",2559216714:"IFCCONSTRUCTIONRESOURCE",2574617495:"IFCCONSTRUCTIONRESOURCETYPE",3419103109:"IFCCONTEXT",3050246964:"IFCCONTEXTDEPENDENTUNIT",3293443760:"IFCCONTROL",25142252:"IFCCONTROLLER",578613899:"IFCCONTROLLERTYPE",2889183280:"IFCCONVERSIONBASEDUNIT",2713554722:"IFCCONVERSIONBASEDUNITWITHOFFSET",4136498852:"IFCCOOLEDBEAM",335055490:"IFCCOOLEDBEAMTYPE",3640358203:"IFCCOOLINGTOWER",2954562838:"IFCCOOLINGTOWERTYPE",1785450214:"IFCCOORDINATEOPERATION",1466758467:"IFCCOORDINATEREFERENCESYSTEM",3895139033:"IFCCOSTITEM",1419761937:"IFCCOSTSCHEDULE",602808272:"IFCCOSTVALUE",1973544240:"IFCCOVERING",1916426348:"IFCCOVERINGTYPE",3295246426:"IFCCREWRESOURCE",1815067380:"IFCCREWRESOURCETYPE",2506170314:"IFCCSGPRIMITIVE3D",2147822146:"IFCCSGSOLID",539742890:"IFCCURRENCYRELATIONSHIP",3495092785:"IFCCURTAINWALL",1457835157:"IFCCURTAINWALLTYPE",2601014836:"IFCCURVE",2827736869:"IFCCURVEBOUNDEDPLANE",2629017746:"IFCCURVEBOUNDEDSURFACE",1186437898:"IFCCURVESEGMENT2D",3800577675:"IFCCURVESTYLE",1105321065:"IFCCURVESTYLEFONT",2367409068:"IFCCURVESTYLEFONTANDSCALING",3510044353:"IFCCURVESTYLEFONTPATTERN",1213902940:"IFCCYLINDRICALSURFACE",4074379575:"IFCDAMPER",3961806047:"IFCDAMPERTYPE",3426335179:"IFCDEEPFOUNDATION",1306400036:"IFCDEEPFOUNDATIONTYPE",3632507154:"IFCDERIVEDPROFILEDEF",1765591967:"IFCDERIVEDUNIT",1045800335:"IFCDERIVEDUNITELEMENT",2949456006:"IFCDIMENSIONALEXPONENTS",32440307:"IFCDIRECTION",1335981549:"IFCDISCRETEACCESSORY",2635815018:"IFCDISCRETEACCESSORYTYPE",1945343521:"IFCDISTANCEEXPRESSION",1052013943:"IFCDISTRIBUTIONCHAMBERELEMENT",1599208980:"IFCDISTRIBUTIONCHAMBERELEMENTTYPE",562808652:"IFCDISTRIBUTIONCIRCUIT",1062813311:"IFCDISTRIBUTIONCONTROLELEMENT",2063403501:"IFCDISTRIBUTIONCONTROLELEMENTTYPE",1945004755:"IFCDISTRIBUTIONELEMENT",3256556792:"IFCDISTRIBUTIONELEMENTTYPE",3040386961:"IFCDISTRIBUTIONFLOWELEMENT",3849074793:"IFCDISTRIBUTIONFLOWELEMENTTYPE",3041715199:"IFCDISTRIBUTIONPORT",3205830791:"IFCDISTRIBUTIONSYSTEM",1154170062:"IFCDOCUMENTINFORMATION",770865208:"IFCDOCUMENTINFORMATIONRELATIONSHIP",3732053477:"IFCDOCUMENTREFERENCE",395920057:"IFCDOOR",2963535650:"IFCDOORLININGPROPERTIES",1714330368:"IFCDOORPANELPROPERTIES",3242481149:"IFCDOORSTANDARDCASE",526551008:"IFCDOORSTYLE",2323601079:"IFCDOORTYPE",445594917:"IFCDRAUGHTINGPREDEFINEDCOLOUR",4006246654:"IFCDRAUGHTINGPREDEFINEDCURVEFONT",342316401:"IFCDUCTFITTING",869906466:"IFCDUCTFITTINGTYPE",3518393246:"IFCDUCTSEGMENT",3760055223:"IFCDUCTSEGMENTTYPE",1360408905:"IFCDUCTSILENCER",2030761528:"IFCDUCTSILENCERTYPE",3900360178:"IFCEDGE",476780140:"IFCEDGECURVE",1472233963:"IFCEDGELOOP",1904799276:"IFCELECTRICAPPLIANCE",663422040:"IFCELECTRICAPPLIANCETYPE",862014818:"IFCELECTRICDISTRIBUTIONBOARD",2417008758:"IFCELECTRICDISTRIBUTIONBOARDTYPE",3310460725:"IFCELECTRICFLOWSTORAGEDEVICE",3277789161:"IFCELECTRICFLOWSTORAGEDEVICETYPE",264262732:"IFCELECTRICGENERATOR",1534661035:"IFCELECTRICGENERATORTYPE",402227799:"IFCELECTRICMOTOR",1217240411:"IFCELECTRICMOTORTYPE",1003880860:"IFCELECTRICTIMECONTROL",712377611:"IFCELECTRICTIMECONTROLTYPE",1758889154:"IFCELEMENT",4123344466:"IFCELEMENTASSEMBLY",2397081782:"IFCELEMENTASSEMBLYTYPE",1623761950:"IFCELEMENTCOMPONENT",2590856083:"IFCELEMENTCOMPONENTTYPE",1883228015:"IFCELEMENTQUANTITY",339256511:"IFCELEMENTTYPE",2777663545:"IFCELEMENTARYSURFACE",1704287377:"IFCELLIPSE",2835456948:"IFCELLIPSEPROFILEDEF",1658829314:"IFCENERGYCONVERSIONDEVICE",2107101300:"IFCENERGYCONVERSIONDEVICETYPE",2814081492:"IFCENGINE",132023988:"IFCENGINETYPE",3747195512:"IFCEVAPORATIVECOOLER",3174744832:"IFCEVAPORATIVECOOLERTYPE",484807127:"IFCEVAPORATOR",3390157468:"IFCEVAPORATORTYPE",4148101412:"IFCEVENT",211053100:"IFCEVENTTIME",4024345920:"IFCEVENTTYPE",297599258:"IFCEXTENDEDPROPERTIES",4294318154:"IFCEXTERNALINFORMATION",3200245327:"IFCEXTERNALREFERENCE",1437805879:"IFCEXTERNALREFERENCERELATIONSHIP",1209101575:"IFCEXTERNALSPATIALELEMENT",2853485674:"IFCEXTERNALSPATIALSTRUCTUREELEMENT",2242383968:"IFCEXTERNALLYDEFINEDHATCHSTYLE",1040185647:"IFCEXTERNALLYDEFINEDSURFACESTYLE",3548104201:"IFCEXTERNALLYDEFINEDTEXTFONT",477187591:"IFCEXTRUDEDAREASOLID",2804161546:"IFCEXTRUDEDAREASOLIDTAPERED",2556980723:"IFCFACE",2047409740:"IFCFACEBASEDSURFACEMODEL",1809719519:"IFCFACEBOUND",803316827:"IFCFACEOUTERBOUND",3008276851:"IFCFACESURFACE",807026263:"IFCFACETEDBREP",3737207727:"IFCFACETEDBREPWITHVOIDS",24185140:"IFCFACILITY",1310830890:"IFCFACILITYPART",4219587988:"IFCFAILURECONNECTIONCONDITION",3415622556:"IFCFAN",346874300:"IFCFANTYPE",647756555:"IFCFASTENER",2489546625:"IFCFASTENERTYPE",2827207264:"IFCFEATUREELEMENT",2143335405:"IFCFEATUREELEMENTADDITION",1287392070:"IFCFEATUREELEMENTSUBTRACTION",738692330:"IFCFILLAREASTYLE",374418227:"IFCFILLAREASTYLEHATCHING",315944413:"IFCFILLAREASTYLETILES",819412036:"IFCFILTER",1810631287:"IFCFILTERTYPE",1426591983:"IFCFIRESUPPRESSIONTERMINAL",4222183408:"IFCFIRESUPPRESSIONTERMINALTYPE",2652556860:"IFCFIXEDREFERENCESWEPTAREASOLID",2058353004:"IFCFLOWCONTROLLER",3907093117:"IFCFLOWCONTROLLERTYPE",4278956645:"IFCFLOWFITTING",3198132628:"IFCFLOWFITTINGTYPE",182646315:"IFCFLOWINSTRUMENT",4037862832:"IFCFLOWINSTRUMENTTYPE",2188021234:"IFCFLOWMETER",3815607619:"IFCFLOWMETERTYPE",3132237377:"IFCFLOWMOVINGDEVICE",1482959167:"IFCFLOWMOVINGDEVICETYPE",987401354:"IFCFLOWSEGMENT",1834744321:"IFCFLOWSEGMENTTYPE",707683696:"IFCFLOWSTORAGEDEVICE",1339347760:"IFCFLOWSTORAGEDEVICETYPE",2223149337:"IFCFLOWTERMINAL",2297155007:"IFCFLOWTERMINALTYPE",3508470533:"IFCFLOWTREATMENTDEVICE",3009222698:"IFCFLOWTREATMENTDEVICETYPE",900683007:"IFCFOOTING",1893162501:"IFCFOOTINGTYPE",263784265:"IFCFURNISHINGELEMENT",4238390223:"IFCFURNISHINGELEMENTTYPE",1509553395:"IFCFURNITURE",1268542332:"IFCFURNITURETYPE",3493046030:"IFCGEOGRAPHICELEMENT",4095422895:"IFCGEOGRAPHICELEMENTTYPE",987898635:"IFCGEOMETRICCURVESET",3448662350:"IFCGEOMETRICREPRESENTATIONCONTEXT",2453401579:"IFCGEOMETRICREPRESENTATIONITEM",4142052618:"IFCGEOMETRICREPRESENTATIONSUBCONTEXT",3590301190:"IFCGEOMETRICSET",3009204131:"IFCGRID",852622518:"IFCGRIDAXIS",178086475:"IFCGRIDPLACEMENT",2706460486:"IFCGROUP",812098782:"IFCHALFSPACESOLID",3319311131:"IFCHEATEXCHANGER",1251058090:"IFCHEATEXCHANGERTYPE",2068733104:"IFCHUMIDIFIER",1806887404:"IFCHUMIDIFIERTYPE",1484403080:"IFCISHAPEPROFILEDEF",3905492369:"IFCIMAGETEXTURE",3570813810:"IFCINDEXEDCOLOURMAP",2571569899:"IFCINDEXEDPOLYCURVE",178912537:"IFCINDEXEDPOLYGONALFACE",2294589976:"IFCINDEXEDPOLYGONALFACEWITHVOIDS",1437953363:"IFCINDEXEDTEXTUREMAP",2133299955:"IFCINDEXEDTRIANGLETEXTUREMAP",4175244083:"IFCINTERCEPTOR",3946677679:"IFCINTERCEPTORTYPE",3113134337:"IFCINTERSECTIONCURVE",2391368822:"IFCINVENTORY",3741457305:"IFCIRREGULARTIMESERIES",3020489413:"IFCIRREGULARTIMESERIESVALUE",2176052936:"IFCJUNCTIONBOX",4288270099:"IFCJUNCTIONBOXTYPE",572779678:"IFCLSHAPEPROFILEDEF",3827777499:"IFCLABORRESOURCE",428585644:"IFCLABORRESOURCETYPE",1585845231:"IFCLAGTIME",76236018:"IFCLAMP",1051575348:"IFCLAMPTYPE",2655187982:"IFCLIBRARYINFORMATION",3452421091:"IFCLIBRARYREFERENCE",4162380809:"IFCLIGHTDISTRIBUTIONDATA",629592764:"IFCLIGHTFIXTURE",1161773419:"IFCLIGHTFIXTURETYPE",1566485204:"IFCLIGHTINTENSITYDISTRIBUTION",1402838566:"IFCLIGHTSOURCE",125510826:"IFCLIGHTSOURCEAMBIENT",2604431987:"IFCLIGHTSOURCEDIRECTIONAL",4266656042:"IFCLIGHTSOURCEGONIOMETRIC",1520743889:"IFCLIGHTSOURCEPOSITIONAL",3422422726:"IFCLIGHTSOURCESPOT",1281925730:"IFCLINE",3092502836:"IFCLINESEGMENT2D",388784114:"IFCLINEARPLACEMENT",1154579445:"IFCLINEARPOSITIONINGELEMENT",2624227202:"IFCLOCALPLACEMENT",1008929658:"IFCLOOP",1425443689:"IFCMANIFOLDSOLIDBREP",3057273783:"IFCMAPCONVERSION",2347385850:"IFCMAPPEDITEM",1838606355:"IFCMATERIAL",1847130766:"IFCMATERIALCLASSIFICATIONRELATIONSHIP",3708119e3:"IFCMATERIALCONSTITUENT",2852063980:"IFCMATERIALCONSTITUENTSET",760658860:"IFCMATERIALDEFINITION",2022407955:"IFCMATERIALDEFINITIONREPRESENTATION",248100487:"IFCMATERIALLAYER",3303938423:"IFCMATERIALLAYERSET",1303795690:"IFCMATERIALLAYERSETUSAGE",1847252529:"IFCMATERIALLAYERWITHOFFSETS",2199411900:"IFCMATERIALLIST",2235152071:"IFCMATERIALPROFILE",164193824:"IFCMATERIALPROFILESET",3079605661:"IFCMATERIALPROFILESETUSAGE",3404854881:"IFCMATERIALPROFILESETUSAGETAPERING",552965576:"IFCMATERIALPROFILEWITHOFFSETS",3265635763:"IFCMATERIALPROPERTIES",853536259:"IFCMATERIALRELATIONSHIP",1507914824:"IFCMATERIALUSAGEDEFINITION",2597039031:"IFCMEASUREWITHUNIT",377706215:"IFCMECHANICALFASTENER",2108223431:"IFCMECHANICALFASTENERTYPE",1437502449:"IFCMEDICALDEVICE",1114901282:"IFCMEDICALDEVICETYPE",1073191201:"IFCMEMBER",1911478936:"IFCMEMBERSTANDARDCASE",3181161470:"IFCMEMBERTYPE",3368373690:"IFCMETRIC",2998442950:"IFCMIRROREDPROFILEDEF",2706619895:"IFCMONETARYUNIT",2474470126:"IFCMOTORCONNECTION",977012517:"IFCMOTORCONNECTIONTYPE",1918398963:"IFCNAMEDUNIT",3888040117:"IFCOBJECT",219451334:"IFCOBJECTDEFINITION",3701648758:"IFCOBJECTPLACEMENT",2251480897:"IFCOBJECTIVE",4143007308:"IFCOCCUPANT",590820931:"IFCOFFSETCURVE",3388369263:"IFCOFFSETCURVE2D",3505215534:"IFCOFFSETCURVE3D",2485787929:"IFCOFFSETCURVEBYDISTANCES",2665983363:"IFCOPENSHELL",3588315303:"IFCOPENINGELEMENT",3079942009:"IFCOPENINGSTANDARDCASE",4251960020:"IFCORGANIZATION",1411181986:"IFCORGANIZATIONRELATIONSHIP",643959842:"IFCORIENTATIONEXPRESSION",1029017970:"IFCORIENTEDEDGE",144952367:"IFCOUTERBOUNDARYCURVE",3694346114:"IFCOUTLET",2837617999:"IFCOUTLETTYPE",1207048766:"IFCOWNERHISTORY",2529465313:"IFCPARAMETERIZEDPROFILEDEF",2519244187:"IFCPATH",1682466193:"IFCPCURVE",2382730787:"IFCPERFORMANCEHISTORY",3566463478:"IFCPERMEABLECOVERINGPROPERTIES",3327091369:"IFCPERMIT",2077209135:"IFCPERSON",101040310:"IFCPERSONANDORGANIZATION",3021840470:"IFCPHYSICALCOMPLEXQUANTITY",2483315170:"IFCPHYSICALQUANTITY",2226359599:"IFCPHYSICALSIMPLEQUANTITY",1687234759:"IFCPILE",1158309216:"IFCPILETYPE",310824031:"IFCPIPEFITTING",804291784:"IFCPIPEFITTINGTYPE",3612865200:"IFCPIPESEGMENT",4231323485:"IFCPIPESEGMENTTYPE",597895409:"IFCPIXELTEXTURE",2004835150:"IFCPLACEMENT",603570806:"IFCPLANARBOX",1663979128:"IFCPLANAREXTENT",220341763:"IFCPLANE",3171933400:"IFCPLATE",1156407060:"IFCPLATESTANDARDCASE",4017108033:"IFCPLATETYPE",2067069095:"IFCPOINT",4022376103:"IFCPOINTONCURVE",1423911732:"IFCPOINTONSURFACE",2924175390:"IFCPOLYLOOP",2775532180:"IFCPOLYGONALBOUNDEDHALFSPACE",2839578677:"IFCPOLYGONALFACESET",3724593414:"IFCPOLYLINE",3740093272:"IFCPORT",1946335990:"IFCPOSITIONINGELEMENT",3355820592:"IFCPOSTALADDRESS",759155922:"IFCPREDEFINEDCOLOUR",2559016684:"IFCPREDEFINEDCURVEFONT",3727388367:"IFCPREDEFINEDITEM",3778827333:"IFCPREDEFINEDPROPERTIES",3967405729:"IFCPREDEFINEDPROPERTYSET",1775413392:"IFCPREDEFINEDTEXTFONT",677532197:"IFCPRESENTATIONITEM",2022622350:"IFCPRESENTATIONLAYERASSIGNMENT",1304840413:"IFCPRESENTATIONLAYERWITHSTYLE",3119450353:"IFCPRESENTATIONSTYLE",2417041796:"IFCPRESENTATIONSTYLEASSIGNMENT",2744685151:"IFCPROCEDURE",569719735:"IFCPROCEDURETYPE",2945172077:"IFCPROCESS",4208778838:"IFCPRODUCT",673634403:"IFCPRODUCTDEFINITIONSHAPE",2095639259:"IFCPRODUCTREPRESENTATION",3958567839:"IFCPROFILEDEF",2802850158:"IFCPROFILEPROPERTIES",103090709:"IFCPROJECT",653396225:"IFCPROJECTLIBRARY",2904328755:"IFCPROJECTORDER",3843373140:"IFCPROJECTEDCRS",3651124850:"IFCPROJECTIONELEMENT",2598011224:"IFCPROPERTY",986844984:"IFCPROPERTYABSTRACTION",871118103:"IFCPROPERTYBOUNDEDVALUE",1680319473:"IFCPROPERTYDEFINITION",148025276:"IFCPROPERTYDEPENDENCYRELATIONSHIP",4166981789:"IFCPROPERTYENUMERATEDVALUE",3710013099:"IFCPROPERTYENUMERATION",2752243245:"IFCPROPERTYLISTVALUE",941946838:"IFCPROPERTYREFERENCEVALUE",1451395588:"IFCPROPERTYSET",3357820518:"IFCPROPERTYSETDEFINITION",492091185:"IFCPROPERTYSETTEMPLATE",3650150729:"IFCPROPERTYSINGLEVALUE",110355661:"IFCPROPERTYTABLEVALUE",3521284610:"IFCPROPERTYTEMPLATE",1482703590:"IFCPROPERTYTEMPLATEDEFINITION",738039164:"IFCPROTECTIVEDEVICE",2295281155:"IFCPROTECTIVEDEVICETRIPPINGUNIT",655969474:"IFCPROTECTIVEDEVICETRIPPINGUNITTYPE",1842657554:"IFCPROTECTIVEDEVICETYPE",3219374653:"IFCPROXY",90941305:"IFCPUMP",2250791053:"IFCPUMPTYPE",2044713172:"IFCQUANTITYAREA",2093928680:"IFCQUANTITYCOUNT",931644368:"IFCQUANTITYLENGTH",2090586900:"IFCQUANTITYSET",3252649465:"IFCQUANTITYTIME",2405470396:"IFCQUANTITYVOLUME",825690147:"IFCQUANTITYWEIGHT",2262370178:"IFCRAILING",2893384427:"IFCRAILINGTYPE",3024970846:"IFCRAMP",3283111854:"IFCRAMPFLIGHT",2324767716:"IFCRAMPFLIGHTTYPE",1469900589:"IFCRAMPTYPE",1232101972:"IFCRATIONALBSPLINECURVEWITHKNOTS",683857671:"IFCRATIONALBSPLINESURFACEWITHKNOTS",2770003689:"IFCRECTANGLEHOLLOWPROFILEDEF",3615266464:"IFCRECTANGLEPROFILEDEF",2798486643:"IFCRECTANGULARPYRAMID",3454111270:"IFCRECTANGULARTRIMMEDSURFACE",3915482550:"IFCRECURRENCEPATTERN",2433181523:"IFCREFERENCE",4021432810:"IFCREFERENT",3413951693:"IFCREGULARTIMESERIES",1580146022:"IFCREINFORCEMENTBARPROPERTIES",3765753017:"IFCREINFORCEMENTDEFINITIONPROPERTIES",979691226:"IFCREINFORCINGBAR",2572171363:"IFCREINFORCINGBARTYPE",3027567501:"IFCREINFORCINGELEMENT",964333572:"IFCREINFORCINGELEMENTTYPE",2320036040:"IFCREINFORCINGMESH",2310774935:"IFCREINFORCINGMESHTYPE",160246688:"IFCRELAGGREGATES",3939117080:"IFCRELASSIGNS",1683148259:"IFCRELASSIGNSTOACTOR",2495723537:"IFCRELASSIGNSTOCONTROL",1307041759:"IFCRELASSIGNSTOGROUP",1027710054:"IFCRELASSIGNSTOGROUPBYFACTOR",4278684876:"IFCRELASSIGNSTOPROCESS",2857406711:"IFCRELASSIGNSTOPRODUCT",205026976:"IFCRELASSIGNSTORESOURCE",1865459582:"IFCRELASSOCIATES",4095574036:"IFCRELASSOCIATESAPPROVAL",919958153:"IFCRELASSOCIATESCLASSIFICATION",2728634034:"IFCRELASSOCIATESCONSTRAINT",982818633:"IFCRELASSOCIATESDOCUMENT",3840914261:"IFCRELASSOCIATESLIBRARY",2655215786:"IFCRELASSOCIATESMATERIAL",826625072:"IFCRELCONNECTS",1204542856:"IFCRELCONNECTSELEMENTS",3945020480:"IFCRELCONNECTSPATHELEMENTS",4201705270:"IFCRELCONNECTSPORTTOELEMENT",3190031847:"IFCRELCONNECTSPORTS",2127690289:"IFCRELCONNECTSSTRUCTURALACTIVITY",1638771189:"IFCRELCONNECTSSTRUCTURALMEMBER",504942748:"IFCRELCONNECTSWITHECCENTRICITY",3678494232:"IFCRELCONNECTSWITHREALIZINGELEMENTS",3242617779:"IFCRELCONTAINEDINSPATIALSTRUCTURE",886880790:"IFCRELCOVERSBLDGELEMENTS",2802773753:"IFCRELCOVERSSPACES",2565941209:"IFCRELDECLARES",2551354335:"IFCRELDECOMPOSES",693640335:"IFCRELDEFINES",1462361463:"IFCRELDEFINESBYOBJECT",4186316022:"IFCRELDEFINESBYPROPERTIES",307848117:"IFCRELDEFINESBYTEMPLATE",781010003:"IFCRELDEFINESBYTYPE",3940055652:"IFCRELFILLSELEMENT",279856033:"IFCRELFLOWCONTROLELEMENTS",427948657:"IFCRELINTERFERESELEMENTS",3268803585:"IFCRELNESTS",1441486842:"IFCRELPOSITIONS",750771296:"IFCRELPROJECTSELEMENT",1245217292:"IFCRELREFERENCEDINSPATIALSTRUCTURE",4122056220:"IFCRELSEQUENCE",366585022:"IFCRELSERVICESBUILDINGS",3451746338:"IFCRELSPACEBOUNDARY",3523091289:"IFCRELSPACEBOUNDARY1STLEVEL",1521410863:"IFCRELSPACEBOUNDARY2NDLEVEL",1401173127:"IFCRELVOIDSELEMENT",478536968:"IFCRELATIONSHIP",816062949:"IFCREPARAMETRISEDCOMPOSITECURVESEGMENT",1076942058:"IFCREPRESENTATION",3377609919:"IFCREPRESENTATIONCONTEXT",3008791417:"IFCREPRESENTATIONITEM",1660063152:"IFCREPRESENTATIONMAP",2914609552:"IFCRESOURCE",2943643501:"IFCRESOURCEAPPROVALRELATIONSHIP",1608871552:"IFCRESOURCECONSTRAINTRELATIONSHIP",2439245199:"IFCRESOURCELEVELRELATIONSHIP",1042787934:"IFCRESOURCETIME",1856042241:"IFCREVOLVEDAREASOLID",3243963512:"IFCREVOLVEDAREASOLIDTAPERED",4158566097:"IFCRIGHTCIRCULARCONE",3626867408:"IFCRIGHTCIRCULARCYLINDER",2016517767:"IFCROOF",2781568857:"IFCROOFTYPE",2341007311:"IFCROOT",2778083089:"IFCROUNDEDRECTANGLEPROFILEDEF",448429030:"IFCSIUNIT",3053780830:"IFCSANITARYTERMINAL",1768891740:"IFCSANITARYTERMINALTYPE",1054537805:"IFCSCHEDULINGTIME",2157484638:"IFCSEAMCURVE",2042790032:"IFCSECTIONPROPERTIES",4165799628:"IFCSECTIONREINFORCEMENTPROPERTIES",1862484736:"IFCSECTIONEDSOLID",1290935644:"IFCSECTIONEDSOLIDHORIZONTAL",1509187699:"IFCSECTIONEDSPINE",4086658281:"IFCSENSOR",1783015770:"IFCSENSORTYPE",1329646415:"IFCSHADINGDEVICE",4074543187:"IFCSHADINGDEVICETYPE",867548509:"IFCSHAPEASPECT",3982875396:"IFCSHAPEMODEL",4240577450:"IFCSHAPEREPRESENTATION",4124623270:"IFCSHELLBASEDSURFACEMODEL",3692461612:"IFCSIMPLEPROPERTY",3663146110:"IFCSIMPLEPROPERTYTEMPLATE",4097777520:"IFCSITE",1529196076:"IFCSLAB",3127900445:"IFCSLABELEMENTEDCASE",3027962421:"IFCSLABSTANDARDCASE",2533589738:"IFCSLABTYPE",2609359061:"IFCSLIPPAGECONNECTIONCONDITION",3420628829:"IFCSOLARDEVICE",1072016465:"IFCSOLARDEVICETYPE",723233188:"IFCSOLIDMODEL",3856911033:"IFCSPACE",1999602285:"IFCSPACEHEATER",1305183839:"IFCSPACEHEATERTYPE",3812236995:"IFCSPACETYPE",1412071761:"IFCSPATIALELEMENT",710998568:"IFCSPATIALELEMENTTYPE",2706606064:"IFCSPATIALSTRUCTUREELEMENT",3893378262:"IFCSPATIALSTRUCTUREELEMENTTYPE",463610769:"IFCSPATIALZONE",2481509218:"IFCSPATIALZONETYPE",451544542:"IFCSPHERE",4015995234:"IFCSPHERICALSURFACE",1404847402:"IFCSTACKTERMINAL",3112655638:"IFCSTACKTERMINALTYPE",331165859:"IFCSTAIR",4252922144:"IFCSTAIRFLIGHT",1039846685:"IFCSTAIRFLIGHTTYPE",338393293:"IFCSTAIRTYPE",682877961:"IFCSTRUCTURALACTION",3544373492:"IFCSTRUCTURALACTIVITY",2515109513:"IFCSTRUCTURALANALYSISMODEL",1179482911:"IFCSTRUCTURALCONNECTION",2273995522:"IFCSTRUCTURALCONNECTIONCONDITION",1004757350:"IFCSTRUCTURALCURVEACTION",4243806635:"IFCSTRUCTURALCURVECONNECTION",214636428:"IFCSTRUCTURALCURVEMEMBER",2445595289:"IFCSTRUCTURALCURVEMEMBERVARYING",2757150158:"IFCSTRUCTURALCURVEREACTION",3136571912:"IFCSTRUCTURALITEM",1807405624:"IFCSTRUCTURALLINEARACTION",2162789131:"IFCSTRUCTURALLOAD",385403989:"IFCSTRUCTURALLOADCASE",3478079324:"IFCSTRUCTURALLOADCONFIGURATION",1252848954:"IFCSTRUCTURALLOADGROUP",1595516126:"IFCSTRUCTURALLOADLINEARFORCE",609421318:"IFCSTRUCTURALLOADORRESULT",2668620305:"IFCSTRUCTURALLOADPLANARFORCE",2473145415:"IFCSTRUCTURALLOADSINGLEDISPLACEMENT",1973038258:"IFCSTRUCTURALLOADSINGLEDISPLACEMENTDISTORTION",1597423693:"IFCSTRUCTURALLOADSINGLEFORCE",1190533807:"IFCSTRUCTURALLOADSINGLEFORCEWARPING",2525727697:"IFCSTRUCTURALLOADSTATIC",3408363356:"IFCSTRUCTURALLOADTEMPERATURE",530289379:"IFCSTRUCTURALMEMBER",1621171031:"IFCSTRUCTURALPLANARACTION",2082059205:"IFCSTRUCTURALPOINTACTION",734778138:"IFCSTRUCTURALPOINTCONNECTION",1235345126:"IFCSTRUCTURALPOINTREACTION",3689010777:"IFCSTRUCTURALREACTION",2986769608:"IFCSTRUCTURALRESULTGROUP",3657597509:"IFCSTRUCTURALSURFACEACTION",1975003073:"IFCSTRUCTURALSURFACECONNECTION",3979015343:"IFCSTRUCTURALSURFACEMEMBER",2218152070:"IFCSTRUCTURALSURFACEMEMBERVARYING",603775116:"IFCSTRUCTURALSURFACEREACTION",2830218821:"IFCSTYLEMODEL",3958052878:"IFCSTYLEDITEM",3049322572:"IFCSTYLEDREPRESENTATION",148013059:"IFCSUBCONTRACTRESOURCE",4095615324:"IFCSUBCONTRACTRESOURCETYPE",2233826070:"IFCSUBEDGE",2513912981:"IFCSURFACE",699246055:"IFCSURFACECURVE",2028607225:"IFCSURFACECURVESWEPTAREASOLID",3101698114:"IFCSURFACEFEATURE",2809605785:"IFCSURFACEOFLINEAREXTRUSION",4124788165:"IFCSURFACEOFREVOLUTION",2934153892:"IFCSURFACEREINFORCEMENTAREA",1300840506:"IFCSURFACESTYLE",3303107099:"IFCSURFACESTYLELIGHTING",1607154358:"IFCSURFACESTYLEREFRACTION",1878645084:"IFCSURFACESTYLERENDERING",846575682:"IFCSURFACESTYLESHADING",1351298697:"IFCSURFACESTYLEWITHTEXTURES",626085974:"IFCSURFACETEXTURE",2247615214:"IFCSWEPTAREASOLID",1260650574:"IFCSWEPTDISKSOLID",1096409881:"IFCSWEPTDISKSOLIDPOLYGONAL",230924584:"IFCSWEPTSURFACE",1162798199:"IFCSWITCHINGDEVICE",2315554128:"IFCSWITCHINGDEVICETYPE",2254336722:"IFCSYSTEM",413509423:"IFCSYSTEMFURNITUREELEMENT",1580310250:"IFCSYSTEMFURNITUREELEMENTTYPE",3071757647:"IFCTSHAPEPROFILEDEF",985171141:"IFCTABLE",2043862942:"IFCTABLECOLUMN",531007025:"IFCTABLEROW",812556717:"IFCTANK",5716631:"IFCTANKTYPE",3473067441:"IFCTASK",1549132990:"IFCTASKTIME",2771591690:"IFCTASKTIMERECURRING",3206491090:"IFCTASKTYPE",912023232:"IFCTELECOMADDRESS",3824725483:"IFCTENDON",2347447852:"IFCTENDONANCHOR",3081323446:"IFCTENDONANCHORTYPE",3663046924:"IFCTENDONCONDUIT",2281632017:"IFCTENDONCONDUITTYPE",2415094496:"IFCTENDONTYPE",2387106220:"IFCTESSELLATEDFACESET",901063453:"IFCTESSELLATEDITEM",4282788508:"IFCTEXTLITERAL",3124975700:"IFCTEXTLITERALWITHEXTENT",1447204868:"IFCTEXTSTYLE",1983826977:"IFCTEXTSTYLEFONTMODEL",2636378356:"IFCTEXTSTYLEFORDEFINEDFONT",1640371178:"IFCTEXTSTYLETEXTMODEL",280115917:"IFCTEXTURECOORDINATE",1742049831:"IFCTEXTURECOORDINATEGENERATOR",2552916305:"IFCTEXTUREMAP",1210645708:"IFCTEXTUREVERTEX",3611470254:"IFCTEXTUREVERTEXLIST",1199560280:"IFCTIMEPERIOD",3101149627:"IFCTIMESERIES",581633288:"IFCTIMESERIESVALUE",1377556343:"IFCTOPOLOGICALREPRESENTATIONITEM",1735638870:"IFCTOPOLOGYREPRESENTATION",1935646853:"IFCTOROIDALSURFACE",3825984169:"IFCTRANSFORMER",1692211062:"IFCTRANSFORMERTYPE",2595432518:"IFCTRANSITIONCURVESEGMENT2D",1620046519:"IFCTRANSPORTELEMENT",2097647324:"IFCTRANSPORTELEMENTTYPE",2715220739:"IFCTRAPEZIUMPROFILEDEF",2916149573:"IFCTRIANGULATEDFACESET",1229763772:"IFCTRIANGULATEDIRREGULARNETWORK",3593883385:"IFCTRIMMEDCURVE",3026737570:"IFCTUBEBUNDLE",1600972822:"IFCTUBEBUNDLETYPE",1628702193:"IFCTYPEOBJECT",3736923433:"IFCTYPEPROCESS",2347495698:"IFCTYPEPRODUCT",3698973494:"IFCTYPERESOURCE",427810014:"IFCUSHAPEPROFILEDEF",180925521:"IFCUNITASSIGNMENT",630975310:"IFCUNITARYCONTROLELEMENT",3179687236:"IFCUNITARYCONTROLELEMENTTYPE",4292641817:"IFCUNITARYEQUIPMENT",1911125066:"IFCUNITARYEQUIPMENTTYPE",4207607924:"IFCVALVE",728799441:"IFCVALVETYPE",1417489154:"IFCVECTOR",2799835756:"IFCVERTEX",2759199220:"IFCVERTEXLOOP",1907098498:"IFCVERTEXPOINT",1530820697:"IFCVIBRATIONDAMPER",3956297820:"IFCVIBRATIONDAMPERTYPE",2391383451:"IFCVIBRATIONISOLATOR",3313531582:"IFCVIBRATIONISOLATORTYPE",2769231204:"IFCVIRTUALELEMENT",891718957:"IFCVIRTUALGRIDINTERSECTION",926996030:"IFCVOIDINGFEATURE",2391406946:"IFCWALL",4156078855:"IFCWALLELEMENTEDCASE",3512223829:"IFCWALLSTANDARDCASE",1898987631:"IFCWALLTYPE",4237592921:"IFCWASTETERMINAL",1133259667:"IFCWASTETERMINALTYPE",3304561284:"IFCWINDOW",336235671:"IFCWINDOWLININGPROPERTIES",512836454:"IFCWINDOWPANELPROPERTIES",486154966:"IFCWINDOWSTANDARDCASE",1299126871:"IFCWINDOWSTYLE",4009809668:"IFCWINDOWTYPE",4088093105:"IFCWORKCALENDAR",1028945134:"IFCWORKCONTROL",4218914973:"IFCWORKPLAN",3342526732:"IFCWORKSCHEDULE",1236880293:"IFCWORKTIME",2543172580:"IFCZSHAPEPROFILEDEF",1033361043:"IFCZONE"};class $h extends Bp{getItemProperties(i,e,s=!1){return Vt(this,null,function*(){return or({},this.state.models[i].jsonData[e])})}getSpatialStructure(i,e){return Vt(this,null,function*(){const s=yield this.getSpatialTreeChunks(i),l=(yield this.getAllItemsOfType(i,_h,!1))[0],r=$h.newIfcProject(l);return yield this.getSpatialNode(i,r,s,e),or({},r)})}getAllItemsOfType(i,e,s){return Vt(this,null,function*(){const n=this.state.models[i].jsonData,l=ec[e];if(!l)throw new Error(`Type not found: ${e}`);return this.filterItemsByType(n,l,s)})}getProperty(i,e,s=!1,n){return Vt(this,null,function*(){const l=yield this.getAllRelatedItemsOfType(i,e,n),r=this.getItemsByID(i,l);return s&&r.forEach(a=>this.getReferencesRecursively(i,a)),r})}getNodeType(i,e){return this.state.models[i].jsonData[e].type}getChunks(i,e,s){return Vt(this,null,function*(){(yield this.getAllItemsOfType(i,s.name,!0)).forEach(l=>{this.saveChunk(e,s,l)})})}filterItemsByType(i,e,s){const n=[];return Object.keys(i).forEach(l=>{const r=parseInt(l);i[r].type.toUpperCase()===e&&n.push(s?or({},i[r]):r)}),n}getAllRelatedItemsOfType(i,e,s){return Vt(this,null,function*(){const n=yield this.getAllItemsOfType(i,s.name,!0),l=[];return n.forEach(r=>{$h.isRelated(e,r,s)&&this.getRelated(r,s,l)}),l})}getItemsByID(i,e){const s=this.state.models[i].jsonData,n=[];return e.forEach(l=>n.push(or({},s[l]))),n}getReferencesRecursively(i,e){if(e==null)return;const s=Object.keys(e);for(let n=0;n<s.length;n++){const l=s[n];this.getJSONItem(i,e,l)}}getJSONItem(i,e,s){if(Array.isArray(e[s]))return this.getMultipleJSONItems(i,e,s);e[s]&&e[s].type===5&&(e[s]=this.getItemsByID(i,[e[s].value])[0],this.getReferencesRecursively(i,e[s]))}getMultipleJSONItems(i,e,s){e[s]=e[s].map(n=>(n.type===5&&(n=this.getItemsByID(i,[n.value])[0],this.getReferencesRecursively(i,n)),n))}}class x6{constructor(i){this.state=i,this.webIfcProps=new jp(i),this.jsonProps=new $h(i),this.currentProps=this.webIfcProps}getExpressId(i,e){if(!i.index)throw new Error("Geometry does not have index information.");const s=i.index.array;return i.attributes[WM].getX(s[3*e])}getItemProperties(i,e,s=!1){return Vt(this,null,function*(){return this.updateCurrentProps(),this.currentProps.getItemProperties(i,e,s)})}getAllItemsOfType(i,e,s){return Vt(this,null,function*(){return this.updateCurrentProps(),this.currentProps.getAllItemsOfType(i,e,s)})}getPropertySets(i,e,s=!1){return Vt(this,null,function*(){return this.updateCurrentProps(),this.currentProps.getPropertySets(i,e,s)})}getTypeProperties(i,e,s=!1){return Vt(this,null,function*(){return this.updateCurrentProps(),this.currentProps.getTypeProperties(i,e,s)})}getMaterialsProperties(i,e,s=!1){return Vt(this,null,function*(){return this.updateCurrentProps(),this.currentProps.getMaterialsProperties(i,e,s)})}getSpatialStructure(i,e){return Vt(this,null,function*(){return this.updateCurrentProps(),!this.state.useJSON&&e&&console.warn("Including properties in getSpatialStructure with the JSON workflow disabled can lead to poor performance."),yield this.currentProps.getSpatialStructure(i,e)})}updateCurrentProps(){this.currentProps=this.state.useJSON?this.jsonProps:this.webIfcProps}}class N6{constructor(i){this.state=i,this.state=i}getAllTypes(i){return Vt(this,null,function*(){for(let e in this.state.models)if(this.state.models.hasOwnProperty(e)){const s=this.state.models[e].types;Object.keys(s).length==0&&(yield this.getAllTypesOfModel(parseInt(e),i))}})}getAllTypesOfModel(i,e){return Vt(this,null,function*(){const s={},n=Object.keys(Ap).map(l=>parseInt(l));for(let l=0;l<n.length;l++){const r=n[l],a=yield this.state.api.GetLineIDsWithType(i,r),o=a.size();for(let c=0;c<o;c++)s[a.get(c)]=r}this.state.worker.active&&e&&(yield e.workerState.updateModelStateTypes(i,s)),this.state.models[i].types=s})}}class F6{initializeMeshBVH(i,e,s){this.computeBoundsTree=i,this.disposeBoundsTree=e,this.acceleratedRaycast=s,this.setupThreeMeshBVH()}applyThreeMeshBVH(i){this.computeBoundsTree&&i.computeBoundsTree()}setupThreeMeshBVH(){!this.computeBoundsTree||!this.disposeBoundsTree||!this.acceleratedRaycast||(Re.prototype.computeBoundsTree=this.computeBoundsTree,Re.prototype.disposeBoundsTree=this.disposeBoundsTree,ns.prototype.raycast=this.acceleratedRaycast)}}var Ve;(function(t){t.updateStateUseJson="updateStateUseJson",t.updateStateWebIfcSettings="updateStateWebIfcSettings",t.updateModelStateTypes="updateModelStateTypes",t.updateModelStateJsonData="updateModelStateJsonData",t.loadJsonDataFromWorker="loadJsonDataFromWorker",t.dispose="dispose",t.Close="Close",t.DisposeWebIfc="DisposeWebIfc",t.Init="Init",t.OpenModel="OpenModel",t.CreateModel="CreateModel",t.ExportFileAsIFC="ExportFileAsIFC",t.GetGeometry="GetGeometry",t.GetLine="GetLine",t.GetAndClearErrors="GetAndClearErrors",t.WriteLine="WriteLine",t.FlattenLine="FlattenLine",t.GetRawLineData="GetRawLineData",t.WriteRawLineData="WriteRawLineData",t.GetLineIDsWithType="GetLineIDsWithType",t.GetAllLines="GetAllLines",t.SetGeometryTransformation="SetGeometryTransformation",t.GetCoordinationMatrix="GetCoordinationMatrix",t.GetVertexArray="GetVertexArray",t.GetIndexArray="GetIndexArray",t.getSubArray="getSubArray",t.CloseModel="CloseModel",t.StreamAllMeshes="StreamAllMeshes",t.StreamAllMeshesWithTypes="StreamAllMeshesWithTypes",t.IsModelOpen="IsModelOpen",t.LoadAllGeometry="LoadAllGeometry",t.GetFlatMesh="GetFlatMesh",t.SetWasmPath="SetWasmPath",t.parse="parse",t.setupOptionalCategories="setupOptionalCategories",t.getExpressId="getExpressId",t.initializeProperties="initializeProperties",t.getAllItemsOfType="getAllItemsOfType",t.getItemProperties="getItemProperties",t.getMaterialsProperties="getMaterialsProperties",t.getPropertySets="getPropertySets",t.getSpatialStructure="getSpatialStructure",t.getTypeProperties="getTypeProperties"})(Ve||(Ve={}));var $n;(function(t){t.workerState="workerState",t.webIfc="webIfc",t.properties="properties",t.parser="parser"})($n||($n={}));class M6{constructor(i){this._data={},this._size=i.size,Object.keys(i).filter(s=>s.indexOf("size")===-1).map(s=>parseInt(s)).forEach(s=>this._data[s]=i[s])}size(){return this._size}get(i){return this._data[i]}}class Y6{constructor(i){this._GetVertexData=i.GetVertexData,this._GetVertexDataSize=i.GetVertexDataSize,this._GetIndexData=i.GetIndexData,this._GetIndexDataSize=i.GetIndexDataSize}GetVertexData(){return this._GetVertexData}GetVertexDataSize(){return this._GetVertexDataSize}GetIndexData(){return this._GetIndexData}GetIndexDataSize(){return this._GetIndexDataSize}}class v6{constructor(i,e){this.expressID=e.expressID,this.geometries=i.reconstructVector(e.geometries)}}class E6{constructor(i,e){this._data={},this._size=e.size,Object.keys(e).filter(n=>n.indexOf("size")===-1).map(n=>parseInt(n)).forEach(n=>this._data[n]=i.reconstructFlatMesh(e[n]))}size(){return this._size}get(i){return this._data[i]}}class LM{constructor(i){this.color=[i.color.r,i.color.g,i.color.b],this.opacity=i.opacity,this.transparent=i.transparent}}class z6{static new(i){return new Zh({color:new it(i.color[0],i.color[1],i.color[2]),opacity:i.opacity,transparent:i.transparent,side:pi})}}class H6{constructor(i){var e,s,n,l;this.position=((e=i.attributes.position)===null||e===void 0?void 0:e.array)||[],this.normal=((s=i.attributes.normal)===null||s===void 0?void 0:s.array)||[],this.expressID=((n=i.attributes.expressID)===null||n===void 0?void 0:n.array)||[],this.index=((l=i.index)===null||l===void 0?void 0:l.array)||[],this.groups=i.groups}}class sc{static new(i){const e=new Re;return sc.set(e,"expressID",new Uint32Array(i.expressID),1),sc.set(e,"position",new Float32Array(i.position),3),sc.set(e,"normal",new Float32Array(i.normal),3),e.setIndex(Array.from(i.index)),e.groups=i.groups,e}static set(i,e,s,n){s.length>0&&i.setAttribute(e,new Ne(s,n))}}class K6{constructor(i){this.materials=[],this.modelID=i.modelID,this.geometry=new H6(i.geometry),Array.isArray(i.material)?i.material.forEach(e=>{this.materials.push(new LM(e))}):this.materials.push(new LM(i.material))}}class Qp{static new(i){const e=new cr;return e.modelID=i.modelID,e.geometry=sc.new(i.geometry),Qp.getMaterials(i,e),e}static getMaterials(i,e){e.material=[];const s=e.material;i.materials.forEach(n=>{s.push(z6.new(n))})}}class w6{serializeVector(i){const e=i.size(),s={size:e};for(let n=0;n<e;n++)s[n]=i.get(n);return s}reconstructVector(i){return new M6(i)}serializeIfcGeometry(i){const e=i.GetVertexData(),s=i.GetVertexDataSize(),n=i.GetIndexData(),l=i.GetIndexDataSize();return{GetVertexData:e,GetVertexDataSize:s,GetIndexData:n,GetIndexDataSize:l}}reconstructIfcGeometry(i){return new Y6(i)}serializeFlatMesh(i){return{expressID:i.expressID,geometries:this.serializeVector(i.geometries)}}reconstructFlatMesh(i){return new v6(this,i)}serializeFlatMeshVector(i){const e=i.size(),s={size:e};for(let n=0;n<e;n++){const l=i.get(n);s[n]=this.serializeFlatMesh(l)}return s}reconstructFlatMeshVector(i){return new E6(this,i)}serializeIfcModel(i){return new K6(i)}reconstructIfcModel(i){return Qp.new(i)}}class k6{constructor(i){this.handler=i,this.API=$n.properties}getExpressId(i,e){if(!i.index)throw new Error("Geometry does not have index information.");const s=i.index.array;return i.attributes[WM].getX(s[3*e])}getAllItemsOfType(i,e,s){return this.handler.request(this.API,Ve.getAllItemsOfType,{modelID:i,type:e,verbose:s})}getItemProperties(i,e,s){return this.handler.request(this.API,Ve.getItemProperties,{modelID:i,elementID:e,recursive:s})}getMaterialsProperties(i,e,s){return this.handler.request(this.API,Ve.getMaterialsProperties,{modelID:i,elementID:e,recursive:s})}getPropertySets(i,e,s){return this.handler.request(this.API,Ve.getPropertySets,{modelID:i,elementID:e,recursive:s})}getTypeProperties(i,e,s){return this.handler.request(this.API,Ve.getTypeProperties,{modelID:i,elementID:e,recursive:s})}getSpatialStructure(i,e){return this.handler.request(this.API,Ve.getSpatialStructure,{modelID:i,includeProperties:e})}}class P6{constructor(i,e){this.handler=i,this.serializer=e,this.API=$n.webIfc}Init(){return Vt(this,null,function*(){return this.wasmModule=!0,this.handler.request(this.API,Ve.Init)})}OpenModel(i,e){return Vt(this,null,function*(){return this.handler.request(this.API,Ve.OpenModel,{data:i,settings:e})})}CreateModel(i){return Vt(this,null,function*(){return this.handler.request(this.API,Ve.CreateModel,{settings:i})})}ExportFileAsIFC(i){return Vt(this,null,function*(){return this.handler.request(this.API,Ve.ExportFileAsIFC,{modelID:i})})}GetGeometry(i,e){return Vt(this,null,function*(){return this.handler.serializeHandlers[this.handler.requestID]=s=>this.serializer.reconstructIfcGeometry(s),this.handler.request(this.API,Ve.GetGeometry,{modelID:i,geometryExpressID:e})})}GetLine(i,e,s){return Vt(this,null,function*(){return this.handler.request(this.API,Ve.GetLine,{modelID:i,expressID:e,flatten:s})})}GetAndClearErrors(i){return Vt(this,null,function*(){return this.handler.serializeHandlers[this.handler.requestID]=e=>this.serializer.reconstructVector(e),this.handler.request(this.API,Ve.GetAndClearErrors,{modelID:i})})}WriteLine(i,e){return Vt(this,null,function*(){return this.handler.request(this.API,Ve.WriteLine,{modelID:i,lineObject:e})})}FlattenLine(i,e){return Vt(this,null,function*(){return this.handler.request(this.API,Ve.FlattenLine,{modelID:i,line:e})})}GetRawLineData(i,e){return Vt(this,null,function*(){return this.handler.request(this.API,Ve.GetRawLineData,{modelID:i,expressID:e})})}WriteRawLineData(i,e){return Vt(this,null,function*(){return this.handler.request(this.API,Ve.WriteRawLineData,{modelID:i,data:e})})}GetLineIDsWithType(i,e){return Vt(this,null,function*(){return this.handler.serializeHandlers[this.handler.requestID]=s=>this.serializer.reconstructVector(s),this.handler.request(this.API,Ve.GetLineIDsWithType,{modelID:i,type:e})})}GetAllLines(i){return Vt(this,null,function*(){return this.handler.serializeHandlers[this.handler.requestID]=e=>this.serializer.reconstructVector(e),this.handler.request(this.API,Ve.GetAllLines,{modelID:i})})}SetGeometryTransformation(i,e){return Vt(this,null,function*(){return this.handler.request(this.API,Ve.SetGeometryTransformation,{modelID:i,transformationMatrix:e})})}GetCoordinationMatrix(i){return Vt(this,null,function*(){return this.handler.request(this.API,Ve.GetCoordinationMatrix,{modelID:i})})}GetVertexArray(i,e){return Vt(this,null,function*(){return this.handler.request(this.API,Ve.GetVertexArray,{ptr:i,size:e})})}GetIndexArray(i,e){return Vt(this,null,function*(){return this.handler.request(this.API,Ve.GetIndexArray,{ptr:i,size:e})})}getSubArray(i,e,s){return Vt(this,null,function*(){return this.handler.request(this.API,Ve.getSubArray,{heap:i,startPtr:e,sizeBytes:s})})}CloseModel(i){return Vt(this,null,function*(){return this.handler.request(this.API,Ve.CloseModel,{modelID:i})})}StreamAllMeshes(i,e){return Vt(this,null,function*(){return this.handler.callbackHandlers[this.handler.requestID]={action:e,serializer:this.serializer.reconstructFlatMesh},this.handler.request(this.API,Ve.StreamAllMeshes,{modelID:i})})}StreamAllMeshesWithTypes(i,e,s){return Vt(this,null,function*(){return this.handler.callbackHandlers[this.handler.requestID]={action:s,serializer:this.serializer.reconstructFlatMesh},this.handler.request(this.API,Ve.StreamAllMeshesWithTypes,{modelID:i,types:e})})}IsModelOpen(i){return Vt(this,null,function*(){return this.handler.request(this.API,Ve.IsModelOpen,{modelID:i})})}LoadAllGeometry(i){return Vt(this,null,function*(){return this.handler.serializeHandlers[this.handler.requestID]=e=>this.serializer.reconstructFlatMeshVector(e),this.handler.request(this.API,Ve.LoadAllGeometry,{modelID:i})})}GetFlatMesh(i,e){return Vt(this,null,function*(){return this.handler.serializeHandlers[this.handler.requestID]=s=>this.serializer.reconstructFlatMesh(s),this.handler.request(this.API,Ve.GetFlatMesh,{modelID:i,expressID:e})})}SetWasmPath(i){return Vt(this,null,function*(){return this.handler.request(this.API,Ve.SetWasmPath,{path:i})})}}class U6{constructor(i){this.handler=i,this.API=$n.workerState,this.state=this.handler.state}updateStateUseJson(){return Vt(this,null,function*(){const i=this.state.useJSON;return this.handler.request(this.API,Ve.updateStateUseJson,{useJson:i})})}updateStateWebIfcSettings(){return Vt(this,null,function*(){const i=this.state.webIfcSettings;return this.handler.request(this.API,Ve.updateStateWebIfcSettings,{webIfcSettings:i})})}updateModelStateTypes(i,e){return Vt(this,null,function*(){return this.handler.request(this.API,Ve.updateModelStateTypes,{modelID:i,types:e})})}updateModelStateJsonData(i,e){return Vt(this,null,function*(){return this.handler.request(this.API,Ve.updateModelStateJsonData,{modelID:i,jsonData:e})})}loadJsonDataFromWorker(i,e){return Vt(this,null,function*(){return this.handler.request(this.API,Ve.loadJsonDataFromWorker,{modelID:i,path:e})})}}var _p;(function(t){t[t.transferIfcModel=0]="transferIfcModel",t[t.transferIndividualItems=1]="transferIndividualItems"})(_p||(_p={}));class Fl{save(i,e){return Vt(this,null,function*(){const s=Fl.openOrCreateDB(e);return this.createSchema(s,e),new Promise((n,l)=>{s.onsuccess=()=>this.saveItem(i,s,e,n)})})}load(i){return Vt(this,null,function*(){const e=Fl.openOrCreateDB(i);return new Promise((s,n)=>{e.onsuccess=()=>this.loadItem(e,i,s)})})}createSchema(i,e){i.onupgradeneeded=function(){i.result.createObjectStore(e.toString(),{keyPath:"id"})}}saveItem(i,e,s,n){const{db:l,tx:r,store:a}=Fl.getDBItems(e,s);i.id=s,a.put(i),r.oncomplete=()=>Fl.closeDB(l,r,n)}loadItem(i,e,s){const{db:n,tx:l,store:r}=Fl.getDBItems(i,e),a=r.get(e),o=()=>{delete a.result.id,s(a.result)};l.oncomplete=()=>Fl.closeDB(n,l,o)}static getDBItems(i,e){const s=i.result,n=s.transaction(e.toString(),"readwrite"),l=n.objectStore(e.toString());return{db:s,tx:n,store:l}}static openOrCreateDB(i){return indexedDB.open(i.toString(),1)}static closeDB(i,e,s){i.close(),s("success")}}class D6{constructor(i,e,s,n){this.handler=i,this.serializer=e,this.BVH=s,this.IDB=n,this.optionalCategories={[tc]:!0,[$o]:!1},this.API=$n.parser}setupOptionalCategories(i){return Vt(this,null,function*(){return this.optionalCategories=i,this.handler.request(this.API,Ve.setupOptionalCategories,{config:i})})}parse(i,e){return Vt(this,null,function*(){return this.handler.onprogressHandlers[this.handler.requestID]=s=>{this.handler.state.onProgress&&this.handler.state.onProgress(s)},this.handler.serializeHandlers[this.handler.requestID]=s=>Vt(this,null,function*(){return this.updateState(s.modelID),this.getModel()}),this.handler.request(this.API,Ve.parse,{buffer:i,coordinationMatrix:e})})}getAndClearErrors(i){}updateState(i){this.handler.state.models[i]={modelID:i,mesh:{},types:{},jsonData:{}}}getModel(){return Vt(this,null,function*(){const i=yield this.IDB.load(_p.transferIfcModel),e=this.serializer.reconstructIfcModel(i);return this.BVH.applyThreeMeshBVH(e.geometry),this.handler.state.models[e.modelID].mesh=e,e})}}class J6{constructor(i,e){this.state=i,this.BVH=e,this.requestID=0,this.rejectHandlers={},this.resolveHandlers={},this.serializeHandlers={},this.callbackHandlers={},this.onprogressHandlers={},this.serializer=new w6,this.IDB=new Fl,this.workerPath=this.state.worker.path,this.ifcWorker=new Worker(this.workerPath),this.ifcWorker.onmessage=s=>this.handleResponse(s),this.properties=new k6(this),this.parser=new D6(this,this.serializer,this.BVH,this.IDB),this.webIfc=new P6(this,this.serializer),this.workerState=new U6(this)}request(i,e,s){const n={worker:i,action:e,args:s,id:this.requestID,result:void 0,onProgress:!1};return new Promise((l,r)=>{this.resolveHandlers[this.requestID]=l,this.rejectHandlers[this.requestID]=r,this.requestID++,this.ifcWorker.postMessage(n)})}terminate(){return Vt(this,null,function*(){yield this.request($n.workerState,Ve.dispose),yield this.request($n.webIfc,Ve.DisposeWebIfc),this.ifcWorker.terminate()})}Close(){return Vt(this,null,function*(){yield this.request($n.webIfc,Ve.Close)})}handleResponse(i){const e=i.data;if(e.onProgress){this.resolveOnProgress(e);return}this.callHandlers(e),delete this.resolveHandlers[e.id],delete this.rejectHandlers[e.id],delete this.onprogressHandlers[e.id]}callHandlers(i){try{this.resolveSerializations(i),this.resolveCallbacks(i),this.resolveHandlers[i.id](i.result)}catch(e){this.rejectHandlers[i.id](e)}}resolveOnProgress(i){this.onprogressHandlers[i.id]&&(i.result=this.onprogressHandlers[i.id](i.result))}resolveSerializations(i){this.serializeHandlers[i.id]&&(i.result=this.serializeHandlers[i.id](i.result),delete this.serializeHandlers[i.id])}resolveCallbacks(i){if(this.callbackHandlers[i.id]){let e=i.result;this.callbackHandlers[i.id].serializer&&(e=this.callbackHandlers[i.id].serializer(i.result)),this.callbackHandlers[i.id].action(e)}}}class O6{constructor(i){this.state=i}dispose(){return Vt(this,null,function*(){Object.keys(this.state.models).forEach(i=>{const e=this.state.models[parseInt(i,10)];e.mesh.removeFromParent();const s=e.mesh.geometry;s.disposeBoundsTree&&s.disposeBoundsTree(),s.dispose(),Array.isArray(e.mesh.material)?e.mesh.material.forEach(n=>n.dispose()):e.mesh.material.dispose(),e.mesh=null,e.types=null,e.jsonData=null}),this.state.api=null,this.state.models=null})}}class SM{constructor(i){this.state=i,this.map={}}getMapping(){this.map=this.reverseElementMapping(ec)}releaseMapping(){this.map={}}reverseElementMapping(i){let e={};return Object.keys(i).forEach(s=>{e[i[s]]=s}),e}isA(i,e){var s=!1;return e?(ec[i.type]===e.toUpperCase()&&(s=!0),s):ec[i.type]}byId(i,e){return Vt(this,null,function*(){return this.state.api.GetLine(i,e)})}idsByType(i,e){return Vt(this,null,function*(){this.getMapping();let s=yield this.state.api.GetLineIDsWithType(i,Number(this.map[e.toUpperCase()]));return this.releaseMapping(),s})}byType(i,e){return Vt(this,null,function*(){let s=yield this.idsByType(i,e);if(s!==null){this.getMapping();let n=[];for(let l=0;l<s.size();l++){let r=yield this.byId(i,s.get(l));n.push(r)}return this.releaseMapping(),n}})}}class B6{constructor(i){this.state=i,this.is_loaded=!1,this.work_plans={},this.workSchedules={},this.work_calendars={},this.work_times={},this.recurrence_patterns={},this.time_periods={},this.tasks={},this.task_times={},this.lag_times={},this.sequences={},this.utils=new SM(this.state)}load(i){return Vt(this,null,function*(){yield this.loadTasks(i),this.loadWorkSchedules(i)})}loadWorkSchedules(i){return Vt(this,null,function*(){let e=yield this.utils.byType(i,"IfcWorkSchedule");for(let s=0;s<e.length;s++){let n=e[s];this.workSchedules[n.expressID]={Id:n.expressID,Name:n.Name.value,Description:n.Description?n.Description.value:"",Creators:[],CreationDate:n.CreationDate?n.CreationDate.value:"",StartTime:n.StartTime?n.StartTime.value:"",FinishTime:n.FinishTime?n.FinishTime.value:"",TotalFloat:n.TotalFloat?n.TotalFloat.value:"",RelatedObjects:[]}}this.loadWorkScheduleRelatedObjects(i)})}loadWorkScheduleRelatedObjects(i){return Vt(this,null,function*(){let e=yield this.utils.byType(i,"IfcRelAssignsToControl");console.log("Rel Controls:",e);for(let n=0;n<e.length;n++){let l=e[n],r=yield this.utils.byId(i,l.RelatingControl.value),a=l.RelatedObjects;if(this.utils.isA(r,"IfcWorkSchedule"))for(var s=0;s<a.length;s++)this.workSchedules[r.expressID].RelatedObjects.push(a[s].value)}})}loadTasks(i){return Vt(this,null,function*(){let e=yield this.utils.byType(i,"IfcTask");for(let s=0;s<e.length;s++){let n=e[s];this.tasks[n.expressID]={Id:n.expressID,Name:n.Name.value,TaskTime:n.TaskTime?yield this.utils.byId(i,n.TaskTime.value):"",Identification:n.Identification.value,IsMilestone:n.IsMilestone.value,IsPredecessorTo:[],IsSucessorFrom:[],Inputs:[],Resources:[],Outputs:[],Controls:[],Nests:[],IsNestedBy:[],OperatesOn:[]}}yield this.loadTaskSequence(i),yield this.loadTaskOutputs(i),yield this.loadTaskNesting(i),yield this.loadTaskOperations(i)})}loadTaskSequence(i){return Vt(this,null,function*(){let e=yield this.utils.idsByType(i,"IfcRelSequence");for(let s=0;s<e.size();s++){let n=e.get(s);if(n!==0){let l=yield this.utils.byId(i,n),r=l.RelatedProcess.value,a=l.RelatingProcess.value;this.tasks[a].IsPredecessorTo.push(l.expressID);let o={RelId:l.expressID,Rel:l};this.tasks[r].IsSucessorFrom.push(o)}}})}loadTaskOutputs(i){return Vt(this,null,function*(){let e=yield this.utils.byType(i,"IfcRelAssignsToProduct");for(let s=0;s<e.length;s++){let n=e[s],l=yield this.utils.byId(i,n.RelatingProduct.value),r=yield this.utils.byId(i,n.RelatedObjects[0].value);this.utils.isA(r,"IfcTask")&&this.tasks[r.expressID].Outputs.push(l.expressID)}})}loadTaskNesting(i){return Vt(this,null,function*(){let e=yield this.utils.byType(i,"IfcRelNests");for(let n=0;n<e.length;n++){let l=e[n],r=yield this.utils.byId(i,l.RelatingObject.value),a=l.RelatedObjects;if(this.utils.isA(r,"IfcTask"))for(var s=0;s<a.length;s++)this.tasks[r.expressID].IsNestedBy.push(a[s].value),this.tasks[a[s].value].Nests.push(r.expressID)}})}loadTaskOperations(i){return Vt(this,null,function*(){let e=yield this.utils.byType(i,"IfcRelAssignsToProcess");for(let n=0;n<e.length;n++){let l=e[n],r=yield this.utils.byId(i,l.RelatingProcess.value),a=l.RelatedObjects;if(this.utils.isA(r,"IfcTask"))for(var s=0;s<a.length;s++)this.tasks[r.expressID].OperatesOn.push(a[s].value),console.log(r.expressID),console.log("Has Operations")}})}}class A6{constructor(){this.state={models:[],api:new Jp,useJSON:!1,worker:{active:!1,path:""}},this.BVH=new F6,this.typesMap=ec,this.parser=new S6(this.state,this.BVH),this.subsets=new V6(this.state,this.BVH),this.utils=new SM(this.state),this.sequenceData=new B6(this.state),this.properties=new x6(this.state),this.types=new N6(this.state),this.cleaner=new O6(this.state)}get ifcAPI(){return this.state.api}parse(i){return Vt(this,null,function*(){var e;const s=yield this.parser.parse(i,(e=this.state.coordinationMatrix)===null||e===void 0?void 0:e.toArray());return s.setIFCManager(this),yield this.types.getAllTypes(this.worker),s})}setWasmPath(i){return Vt(this,null,function*(){this.state.api.SetWasmPath(i),this.state.wasmPath=i})}setupThreeMeshBVH(i,e,s){this.BVH.initializeMeshBVH(i,e,s)}setOnProgress(i){this.state.onProgress=i}setupCoordinationMatrix(i){this.state.coordinationMatrix=i}clearCoordinationMatrix(){delete this.state.coordinationMatrix}applyWebIfcConfig(i){return Vt(this,null,function*(){this.state.webIfcSettings=i,this.state.worker.active&&this.worker&&(yield this.worker.workerState.updateStateWebIfcSettings())})}useWebWorkers(i,e){return Vt(this,null,function*(){if(this.state.worker.active!==i)if(this.state.api=null,i){if(!e)throw new Error("You must provide a path to the web worker.");this.state.worker.active=i,this.state.worker.path=e,yield this.initializeWorkers();const s=this.state.wasmPath;s&&(yield this.setWasmPath(s))}else this.state.api=new Jp})}useJSONData(i=!0){return Vt(this,null,function*(){var e;this.state.useJSON=i,i&&(yield(e=this.worker)===null||e===void 0?void 0:e.workerState.updateStateUseJson())})}addModelJSONData(i,e){return Vt(this,null,function*(){var s;const n=this.state.models[i];if(!n)throw new Error("The specified model for the JSON data does not exist");this.state.worker.active?yield(s=this.worker)===null||s===void 0?void 0:s.workerState.updateModelStateJsonData(i,e):n.jsonData=e})}loadJsonDataFromWorker(i,e){return Vt(this,null,function*(){var s;this.state.worker.active&&(yield(s=this.worker)===null||s===void 0?void 0:s.workerState.loadJsonDataFromWorker(i,e))})}close(i,e){this.state.api.CloseModel(i),e&&e.remove(this.state.models[i].mesh),delete this.state.models[i]}getExpressId(i,e){return this.properties.getExpressId(i,e)}getAllItemsOfType(i,e,s){return this.properties.getAllItemsOfType(i,e,s)}getItemProperties(i,e,s=!1){return this.properties.getItemProperties(i,e,s)}getPropertySets(i,e,s=!1){return this.properties.getPropertySets(i,e,s)}getTypeProperties(i,e,s=!1){return this.properties.getTypeProperties(i,e,s)}getMaterialsProperties(i,e,s=!1){return this.properties.getMaterialsProperties(i,e,s)}getIfcType(i,e){const s=this.state.models[i].types[e];return Ap[s]}getSpatialStructure(i,e){return this.properties.getSpatialStructure(i,e)}getSubset(i,e,s){return this.subsets.getSubset(i,e,s)}removeSubset(i,e,s){this.subsets.removeSubset(i,e,s)}createSubset(i){return this.subsets.createSubset(i)}removeFromSubset(i,e,s,n){return this.subsets.removeFromSubset(i,e,s,n)}clearSubset(i,e,s){return this.subsets.clearSubset(i,e,s)}isA(i,e){return Vt(this,null,function*(){return this.utils.isA(i,e)})}getSequenceData(i){return Vt(this,null,function*(){return yield this.sequenceData.load(i),this.sequenceData})}byType(i,e){return Vt(this,null,function*(){return this.utils.byType(i,e)})}byId(i,e){return Vt(this,null,function*(){return this.utils.byId(i,e)})}idsByType(i,e){return Vt(this,null,function*(){return this.utils.idsByType(i,e)})}dispose(){return Vt(this,null,function*(){cr.dispose(),yield this.cleaner.dispose(),this.subsets.dispose(),this.worker&&this.state.worker.active&&(yield this.worker.terminate()),this.state=null})}disposeMemory(){return Vt(this,null,function*(){var i;this.state.worker.active?yield(i=this.worker)===null||i===void 0?void 0:i.Close():(this.state.api.Close(),this.state.api=null,this.state.api=new Jp)})}getAndClearErrors(i){return this.parser.getAndClearErrors(i)}initializeWorkers(){return Vt(this,null,function*(){this.worker=new J6(this.state,this.BVH),this.state.api=this.worker.webIfc,this.properties=this.worker.properties,yield this.worker.parser.setupOptionalCategories(this.parser.optionalCategories),this.parser=this.worker.parser,yield this.worker.workerState.updateStateUseJson(),yield this.worker.workerState.updateStateWebIfcSettings()})}}class j6 extends On{constructor(i){super(i);this.ifcManager=new A6}load(i,e,s,n){const l=this,r=new Iy(l.manager);this.onProgress=s,r.setPath(l.path),r.setResponseType("arraybuffer"),r.setRequestHeader(l.requestHeader),r.setWithCredentials(l.withCredentials),r.load(i,function(a){return Vt(this,null,function*(){try{if(typeof a=="string")throw new Error("IFC files must be given as a buffer!");e(yield l.parse(a))}catch(o){n?n(o):console.error(o),l.manager.itemError(i)}})},s,n)}parse(i){return this.ifcManager.parse(i)}}var Q6=Vo("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwp2YXIgd29ya2VyX2NvZGU9ZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIGZ1PU1hdGgucG93LG11PShobixDaSxGdCk9Pm5ldyBQcm9taXNlKChmaSxYaSk9Pnt2YXIgbG49bWk9Pnt0cnl7aHIoRnQubmV4dChtaSkpfWNhdGNoKGxyKXtYaShscil9fSxocz1taT0+e3RyeXtocihGdC50aHJvdyhtaSkpfWNhdGNoKGxyKXtYaShscil9fSxocj1taT0+bWkuZG9uZT9maShtaS52YWx1ZSk6UHJvbWlzZS5yZXNvbHZlKG1pLnZhbHVlKS50aGVuKGxuLGhzKTtocigoRnQ9RnQuYXBwbHkoaG4sQ2kpKS5uZXh0KCkpfSksZ3U9KGhuLENpKT0+KCk9PihDaXx8aG4oKENpPXtleHBvcnRzOnt9fSkuZXhwb3J0cyxDaSksQ2kuZXhwb3J0cyksdnU9Z3Uob3Q9PntmdW5jdGlvbiBDaShpKXtpKCJFUFNHOjQzMjYiLCIrdGl0bGU9V0dTIDg0IChsb25nL2xhdCkgK3Byb2o9bG9uZ2xhdCArZWxscHM9V0dTODQgK2RhdHVtPVdHUzg0ICt1bml0cz1kZWdyZWVzIiksaSgiRVBTRzo0MjY5IiwiK3RpdGxlPU5BRDgzIChsb25nL2xhdCkgK3Byb2o9bG9uZ2xhdCArYT02Mzc4MTM3LjAgK2I9NjM1Njc1Mi4zMTQxNDAzNiArZWxscHM9R1JTODAgK2RhdHVtPU5BRDgzICt1bml0cz1kZWdyZWVzIiksaSgiRVBTRzozODU3IiwiK3RpdGxlPVdHUyA4NCAvIFBzZXVkby1NZXJjYXRvciArcHJvaj1tZXJjICthPTYzNzgxMzcgK2I9NjM3ODEzNyArbGF0X3RzPTAuMCArbG9uXzA9MC4wICt4XzA9MC4wICt5XzA9MCAraz0xLjAgK3VuaXRzPW0gK25hZGdyaWRzPUBudWxsICtub19kZWZzIiksaS5XR1M4ND1pWyJFUFNHOjQzMjYiXSxpWyJFUFNHOjM3ODUiXT1pWyJFUFNHOjM4NTciXSxpLkdPT0dMRT1pWyJFUFNHOjM4NTciXSxpWyJFUFNHOjkwMDkxMyJdPWlbIkVQU0c6Mzg1NyJdLGlbIkVQU0c6MTAyMTEzIl09aVsiRVBTRzozODU3Il19dmFyIEZ0PTEsZmk9MixYaT0zLGxuPTQsaHM9NSxocj02Mzc4MTM3LG1pPTYzNTY3NTIzMTRlLTMsbHI9LjAwNjY5NDM3OTk5MDE0MTMxNjUsbHM9NDg0ODEzNjgxMTA5NTM2ZS0yMCxLPU1hdGguUEkvMixfdT0uMTY2NjY2NjY2NjY2NjY2NjYseXU9LjA0NzIyMjIyMjIyMjIyMjIyLE11PS4wMjIxNTYwODQ2NTYwODQ2NTUsbmU9MWUtMTAsZ3Q9LjAxNzQ1MzI5MjUxOTk0MzI5NSx0aT01Ny4yOTU3Nzk1MTMwODIzMixHZT1NYXRoLlBJLzQsY3M9TWF0aC5QSSoyLHN0PTMuMTQxNTkyNjUzNTksUnQ9e307UnQuZ3JlZW53aWNoPTAsUnQubGlzYm9uPS05LjEzMTkwNjExMTExMSxSdC5wYXJpcz0yLjMzNzIyOTE2NjY2NyxSdC5ib2dvdGE9LTc0LjA4MDkxNjY2NjY2NyxSdC5tYWRyaWQ9LTMuNjg3OTM4ODg4ODg5LFJ0LnJvbWU9MTIuNDUyMzMzMzMzMzMzLFJ0LmJlcm49Ny40Mzk1ODMzMzMzMzMsUnQuamFrYXJ0YT0xMDYuODA3NzE5NDQ0NDQ0LFJ0LmZlcnJvPS0xNy42NjY2NjY2NjY2NjcsUnQuYnJ1c3NlbHM9NC4zNjc5NzUsUnQuc3RvY2tob2xtPTE4LjA1ODI3Nzc3Nzc3OCxSdC5hdGhlbnM9MjMuNzE2MzM3NSxSdC5vc2xvPTEwLjcyMjkxNjY2NjY2Nzt2YXIgYnU9e2Z0Ont0b19tZXRlcjouMzA0OH0sInVzLWZ0Ijp7dG9fbWV0ZXI6MTIwMC8zOTM3fX0sWW89L1tcc19cLVwvXChcKV0vZztmdW5jdGlvbiBMaShpLGUpe2lmKGlbZV0pcmV0dXJuIGlbZV07Zm9yKHZhciB0PU9iamVjdC5rZXlzKGkpLHI9ZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoWW8sIiIpLHM9LTEsYSxuOysrczx0Lmxlbmd0aDspaWYoYT10W3NdLG49YS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoWW8sIiIpLG49PT1yKXJldHVybiBpW2FdfWZ1bmN0aW9uIGNuKGkpe3ZhciBlPXt9LHQ9aS5zcGxpdCgiKyIpLm1hcChmdW5jdGlvbihvKXtyZXR1cm4gby50cmltKCl9KS5maWx0ZXIoZnVuY3Rpb24obyl7cmV0dXJuIG99KS5yZWR1Y2UoZnVuY3Rpb24obyxoKXt2YXIgbD1oLnNwbGl0KCI9Iik7cmV0dXJuIGwucHVzaCghMCksb1tsWzBdLnRvTG93ZXJDYXNlKCldPWxbMV0sb30se30pLHIscyxhLG49e3Byb2o6InByb2pOYW1lIixkYXR1bToiZGF0dW1Db2RlIixyZjpmdW5jdGlvbihvKXtlLnJmPXBhcnNlRmxvYXQobyl9LGxhdF8wOmZ1bmN0aW9uKG8pe2UubGF0MD1vKmd0fSxsYXRfMTpmdW5jdGlvbihvKXtlLmxhdDE9bypndH0sbGF0XzI6ZnVuY3Rpb24obyl7ZS5sYXQyPW8qZ3R9LGxhdF90czpmdW5jdGlvbihvKXtlLmxhdF90cz1vKmd0fSxsb25fMDpmdW5jdGlvbihvKXtlLmxvbmcwPW8qZ3R9LGxvbl8xOmZ1bmN0aW9uKG8pe2UubG9uZzE9bypndH0sbG9uXzI6ZnVuY3Rpb24obyl7ZS5sb25nMj1vKmd0fSxhbHBoYTpmdW5jdGlvbihvKXtlLmFscGhhPXBhcnNlRmxvYXQobykqZ3R9LGdhbW1hOmZ1bmN0aW9uKG8pe2UucmVjdGlmaWVkX2dyaWRfYW5nbGU9cGFyc2VGbG9hdChvKX0sbG9uYzpmdW5jdGlvbihvKXtlLmxvbmdjPW8qZ3R9LHhfMDpmdW5jdGlvbihvKXtlLngwPXBhcnNlRmxvYXQobyl9LHlfMDpmdW5jdGlvbihvKXtlLnkwPXBhcnNlRmxvYXQobyl9LGtfMDpmdW5jdGlvbihvKXtlLmswPXBhcnNlRmxvYXQobyl9LGs6ZnVuY3Rpb24obyl7ZS5rMD1wYXJzZUZsb2F0KG8pfSxhOmZ1bmN0aW9uKG8pe2UuYT1wYXJzZUZsb2F0KG8pfSxiOmZ1bmN0aW9uKG8pe2UuYj1wYXJzZUZsb2F0KG8pfSxyX2E6ZnVuY3Rpb24oKXtlLlJfQT0hMH0sem9uZTpmdW5jdGlvbihvKXtlLnpvbmU9cGFyc2VJbnQobywxMCl9LHNvdXRoOmZ1bmN0aW9uKCl7ZS51dG1Tb3V0aD0hMH0sdG93Z3M4NDpmdW5jdGlvbihvKXtlLmRhdHVtX3BhcmFtcz1vLnNwbGl0KCIsIikubWFwKGZ1bmN0aW9uKGgpe3JldHVybiBwYXJzZUZsb2F0KGgpfSl9LHRvX21ldGVyOmZ1bmN0aW9uKG8pe2UudG9fbWV0ZXI9cGFyc2VGbG9hdChvKX0sdW5pdHM6ZnVuY3Rpb24obyl7ZS51bml0cz1vO3ZhciBoPUxpKGJ1LG8pO2gmJihlLnRvX21ldGVyPWgudG9fbWV0ZXIpfSxmcm9tX2dyZWVud2ljaDpmdW5jdGlvbihvKXtlLmZyb21fZ3JlZW53aWNoPW8qZ3R9LHBtOmZ1bmN0aW9uKG8pe3ZhciBoPUxpKFJ0LG8pO2UuZnJvbV9ncmVlbndpY2g9KGh8fHBhcnNlRmxvYXQobykpKmd0fSxuYWRncmlkczpmdW5jdGlvbihvKXtvPT09IkBudWxsIj9lLmRhdHVtQ29kZT0ibm9uZSI6ZS5uYWRncmlkcz1vfSxheGlzOmZ1bmN0aW9uKG8pe3ZhciBoPSJld25zdWQiO28ubGVuZ3RoPT09MyYmaC5pbmRleE9mKG8uc3Vic3RyKDAsMSkpIT09LTEmJmguaW5kZXhPZihvLnN1YnN0cigxLDEpKSE9PS0xJiZoLmluZGV4T2Yoby5zdWJzdHIoMiwxKSkhPT0tMSYmKGUuYXhpcz1vKX0sYXBwcm94OmZ1bmN0aW9uKCl7ZS5hcHByb3g9ITB9fTtmb3IociBpbiB0KXM9dFtyXSxyIGluIG4/KGE9bltyXSx0eXBlb2YgYT09ImZ1bmN0aW9uIj9hKHMpOmVbYV09cyk6ZVtyXT1zO3JldHVybiB0eXBlb2YgZS5kYXR1bUNvZGU9PSJzdHJpbmciJiZlLmRhdHVtQ29kZSE9PSJXR1M4NCImJihlLmRhdHVtQ29kZT1lLmRhdHVtQ29kZS50b0xvd2VyQ2FzZSgpKSxlfXZhciB1cz0xLFpvPTIsS289MyxLcz00LFFvPTUsdW49LTEsd3U9L1xzLyxTdT0vW0EtWmEtel0vLEV1PS9bQS1aYS16ODRfXS8sUXM9L1ssXF1dLywkbz0vW1xkXC5FXC1cK10vO2Z1bmN0aW9uIGdpKGkpe2lmKHR5cGVvZiBpIT0ic3RyaW5nIil0aHJvdyBuZXcgRXJyb3IoIm5vdCBhIHN0cmluZyIpO3RoaXMudGV4dD1pLnRyaW0oKSx0aGlzLmxldmVsPTAsdGhpcy5wbGFjZT0wLHRoaXMucm9vdD1udWxsLHRoaXMuc3RhY2s9W10sdGhpcy5jdXJyZW50T2JqZWN0PW51bGwsdGhpcy5zdGF0ZT11c31naS5wcm90b3R5cGUucmVhZENoYXJpY3Rlcj1mdW5jdGlvbigpe3ZhciBpPXRoaXMudGV4dFt0aGlzLnBsYWNlKytdO2lmKHRoaXMuc3RhdGUhPT1Lcylmb3IoO3d1LnRlc3QoaSk7KXtpZih0aGlzLnBsYWNlPj10aGlzLnRleHQubGVuZ3RoKXJldHVybjtpPXRoaXMudGV4dFt0aGlzLnBsYWNlKytdfXN3aXRjaCh0aGlzLnN0YXRlKXtjYXNlIHVzOnJldHVybiB0aGlzLm5ldXRyYWwoaSk7Y2FzZSBabzpyZXR1cm4gdGhpcy5rZXl3b3JkKGkpO2Nhc2UgS3M6cmV0dXJuIHRoaXMucXVvdGVkKGkpO2Nhc2UgUW86cmV0dXJuIHRoaXMuYWZ0ZXJxdW90ZShpKTtjYXNlIEtvOnJldHVybiB0aGlzLm51bWJlcihpKTtjYXNlIHVuOnJldHVybn19LGdpLnByb3RvdHlwZS5hZnRlcnF1b3RlPWZ1bmN0aW9uKGkpe2lmKGk9PT0nIicpe3RoaXMud29yZCs9JyInLHRoaXMuc3RhdGU9S3M7cmV0dXJufWlmKFFzLnRlc3QoaSkpe3RoaXMud29yZD10aGlzLndvcmQudHJpbSgpLHRoaXMuYWZ0ZXJJdGVtKGkpO3JldHVybn10aHJvdyBuZXcgRXJyb3IoYGhhdm4ndCBoYW5kbGVkICJgK2krJyIgaW4gYWZ0ZXJxdW90ZSB5ZXQsIGluZGV4ICcrdGhpcy5wbGFjZSl9LGdpLnByb3RvdHlwZS5hZnRlckl0ZW09ZnVuY3Rpb24oaSl7aWYoaT09PSIsIil7dGhpcy53b3JkIT09bnVsbCYmdGhpcy5jdXJyZW50T2JqZWN0LnB1c2godGhpcy53b3JkKSx0aGlzLndvcmQ9bnVsbCx0aGlzLnN0YXRlPXVzO3JldHVybn1pZihpPT09Il0iKXt0aGlzLmxldmVsLS0sdGhpcy53b3JkIT09bnVsbCYmKHRoaXMuY3VycmVudE9iamVjdC5wdXNoKHRoaXMud29yZCksdGhpcy53b3JkPW51bGwpLHRoaXMuc3RhdGU9dXMsdGhpcy5jdXJyZW50T2JqZWN0PXRoaXMuc3RhY2sucG9wKCksdGhpcy5jdXJyZW50T2JqZWN0fHwodGhpcy5zdGF0ZT11bik7cmV0dXJufX0sZ2kucHJvdG90eXBlLm51bWJlcj1mdW5jdGlvbihpKXtpZigkby50ZXN0KGkpKXt0aGlzLndvcmQrPWk7cmV0dXJufWlmKFFzLnRlc3QoaSkpe3RoaXMud29yZD1wYXJzZUZsb2F0KHRoaXMud29yZCksdGhpcy5hZnRlckl0ZW0oaSk7cmV0dXJufXRocm93IG5ldyBFcnJvcihgaGF2bid0IGhhbmRsZWQgImAraSsnIiBpbiBudW1iZXIgeWV0LCBpbmRleCAnK3RoaXMucGxhY2UpfSxnaS5wcm90b3R5cGUucXVvdGVkPWZ1bmN0aW9uKGkpe2lmKGk9PT0nIicpe3RoaXMuc3RhdGU9UW87cmV0dXJufXRoaXMud29yZCs9aX0sZ2kucHJvdG90eXBlLmtleXdvcmQ9ZnVuY3Rpb24oaSl7aWYoRXUudGVzdChpKSl7dGhpcy53b3JkKz1pO3JldHVybn1pZihpPT09IlsiKXt2YXIgZT1bXTtlLnB1c2godGhpcy53b3JkKSx0aGlzLmxldmVsKyssdGhpcy5yb290PT09bnVsbD90aGlzLnJvb3Q9ZTp0aGlzLmN1cnJlbnRPYmplY3QucHVzaChlKSx0aGlzLnN0YWNrLnB1c2godGhpcy5jdXJyZW50T2JqZWN0KSx0aGlzLmN1cnJlbnRPYmplY3Q9ZSx0aGlzLnN0YXRlPXVzO3JldHVybn1pZihRcy50ZXN0KGkpKXt0aGlzLmFmdGVySXRlbShpKTtyZXR1cm59dGhyb3cgbmV3IEVycm9yKGBoYXZuJ3QgaGFuZGxlZCAiYCtpKyciIGluIGtleXdvcmQgeWV0LCBpbmRleCAnK3RoaXMucGxhY2UpfSxnaS5wcm90b3R5cGUubmV1dHJhbD1mdW5jdGlvbihpKXtpZihTdS50ZXN0KGkpKXt0aGlzLndvcmQ9aSx0aGlzLnN0YXRlPVpvO3JldHVybn1pZihpPT09JyInKXt0aGlzLndvcmQ9IiIsdGhpcy5zdGF0ZT1LcztyZXR1cm59aWYoJG8udGVzdChpKSl7dGhpcy53b3JkPWksdGhpcy5zdGF0ZT1LbztyZXR1cm59aWYoUXMudGVzdChpKSl7dGhpcy5hZnRlckl0ZW0oaSk7cmV0dXJufXRocm93IG5ldyBFcnJvcihgaGF2bid0IGhhbmRsZWQgImAraSsnIiBpbiBuZXV0cmFsIHlldCwgaW5kZXggJyt0aGlzLnBsYWNlKX0sZ2kucHJvdG90eXBlLm91dHB1dD1mdW5jdGlvbigpe2Zvcig7dGhpcy5wbGFjZTx0aGlzLnRleHQubGVuZ3RoOyl0aGlzLnJlYWRDaGFyaWN0ZXIoKTtpZih0aGlzLnN0YXRlPT09dW4pcmV0dXJuIHRoaXMucm9vdDt0aHJvdyBuZXcgRXJyb3IoJ3VuYWJsZSB0byBwYXJzZSBzdHJpbmcgIicrdGhpcy50ZXh0KyciLiBTdGF0ZSBpcyAnK3RoaXMuc3RhdGUpfTtmdW5jdGlvbiBUdShpKXt2YXIgZT1uZXcgZ2koaSk7cmV0dXJuIGUub3V0cHV0KCl9ZnVuY3Rpb24gZWgoaSxlLHQpe0FycmF5LmlzQXJyYXkoZSkmJih0LnVuc2hpZnQoZSksZT1udWxsKTt2YXIgcj1lP3t9Omkscz10LnJlZHVjZShmdW5jdGlvbihhLG4pe3JldHVybiBjcihuLGEpLGF9LHIpO2UmJihpW2VdPXMpfWZ1bmN0aW9uIGNyKGksZSl7aWYoIUFycmF5LmlzQXJyYXkoaSkpe2VbaV09ITA7cmV0dXJufXZhciB0PWkuc2hpZnQoKTtpZih0PT09IlBBUkFNRVRFUiImJih0PWkuc2hpZnQoKSksaS5sZW5ndGg9PT0xKXtpZihBcnJheS5pc0FycmF5KGlbMF0pKXtlW3RdPXt9LGNyKGlbMF0sZVt0XSk7cmV0dXJufWVbdF09aVswXTtyZXR1cm59aWYoIWkubGVuZ3RoKXtlW3RdPSEwO3JldHVybn1pZih0PT09IlRPV0dTODQiKXtlW3RdPWk7cmV0dXJufWlmKHQ9PT0iQVhJUyIpe3QgaW4gZXx8KGVbdF09W10pLGVbdF0ucHVzaChpKTtyZXR1cm59QXJyYXkuaXNBcnJheSh0KXx8KGVbdF09e30pO3ZhciByO3N3aXRjaCh0KXtjYXNlIlVOSVQiOmNhc2UiUFJJTUVNIjpjYXNlIlZFUlRfREFUVU0iOmVbdF09e25hbWU6aVswXS50b0xvd2VyQ2FzZSgpLGNvbnZlcnQ6aVsxXX0saS5sZW5ndGg9PT0zJiZjcihpWzJdLGVbdF0pO3JldHVybjtjYXNlIlNQSEVST0lEIjpjYXNlIkVMTElQU09JRCI6ZVt0XT17bmFtZTppWzBdLGE6aVsxXSxyZjppWzJdfSxpLmxlbmd0aD09PTQmJmNyKGlbM10sZVt0XSk7cmV0dXJuO2Nhc2UiUFJPSkVDVEVEQ1JTIjpjYXNlIlBST0pDUlMiOmNhc2UiR0VPR0NTIjpjYXNlIkdFT0NDUyI6Y2FzZSJQUk9KQ1MiOmNhc2UiTE9DQUxfQ1MiOmNhc2UiR0VPRENSUyI6Y2FzZSJHRU9ERVRJQ0NSUyI6Y2FzZSJHRU9ERVRJQ0RBVFVNIjpjYXNlIkVEQVRVTSI6Y2FzZSJFTkdJTkVFUklOR0RBVFVNIjpjYXNlIlZFUlRfQ1MiOmNhc2UiVkVSVENSUyI6Y2FzZSJWRVJUSUNBTENSUyI6Y2FzZSJDT01QRF9DUyI6Y2FzZSJDT01QT1VORENSUyI6Y2FzZSJFTkdJTkVFUklOR0NSUyI6Y2FzZSJFTkdDUlMiOmNhc2UiRklUVEVEX0NTIjpjYXNlIkxPQ0FMX0RBVFVNIjpjYXNlIkRBVFVNIjppWzBdPVsibmFtZSIsaVswXV0sZWgoZSx0LGkpO3JldHVybjtkZWZhdWx0OmZvcihyPS0xOysrcjxpLmxlbmd0aDspaWYoIUFycmF5LmlzQXJyYXkoaVtyXSkpcmV0dXJuIGNyKGksZVt0XSk7cmV0dXJuIGVoKGUsdCxpKX19dmFyIEF1PS4wMTc0NTMyOTI1MTk5NDMyOTU7ZnVuY3Rpb24gQ3UoaSxlKXt2YXIgdD1lWzBdLHI9ZVsxXTshKHQgaW4gaSkmJnIgaW4gaSYmKGlbdF09aVtyXSxlLmxlbmd0aD09PTMmJihpW3RdPWVbMl0oaVt0XSkpKX1mdW5jdGlvbiB2aShpKXtyZXR1cm4gaSpBdX1mdW5jdGlvbiBMdShpKXtpZihpLnR5cGU9PT0iR0VPR0NTIj9pLnByb2pOYW1lPSJsb25nbGF0IjppLnR5cGU9PT0iTE9DQUxfQ1MiPyhpLnByb2pOYW1lPSJpZGVudGl0eSIsaS5sb2NhbD0hMCk6dHlwZW9mIGkuUFJPSkVDVElPTj09Im9iamVjdCI/aS5wcm9qTmFtZT1PYmplY3Qua2V5cyhpLlBST0pFQ1RJT04pWzBdOmkucHJvak5hbWU9aS5QUk9KRUNUSU9OLGkuQVhJUyl7Zm9yKHZhciBlPSIiLHQ9MCxyPWkuQVhJUy5sZW5ndGg7dDxyOysrdCl7dmFyIHM9W2kuQVhJU1t0XVswXS50b0xvd2VyQ2FzZSgpLGkuQVhJU1t0XVsxXS50b0xvd2VyQ2FzZSgpXTtzWzBdLmluZGV4T2YoIm5vcnRoIikhPT0tMXx8KHNbMF09PT0ieSJ8fHNbMF09PT0ibGF0IikmJnNbMV09PT0ibm9ydGgiP2UrPSJuIjpzWzBdLmluZGV4T2YoInNvdXRoIikhPT0tMXx8KHNbMF09PT0ieSJ8fHNbMF09PT0ibGF0IikmJnNbMV09PT0ic291dGgiP2UrPSJzIjpzWzBdLmluZGV4T2YoImVhc3QiKSE9PS0xfHwoc1swXT09PSJ4Inx8c1swXT09PSJsb24iKSYmc1sxXT09PSJlYXN0Ij9lKz0iZSI6KHNbMF0uaW5kZXhPZigid2VzdCIpIT09LTF8fChzWzBdPT09IngifHxzWzBdPT09ImxvbiIpJiZzWzFdPT09Indlc3QiKSYmKGUrPSJ3Iil9ZS5sZW5ndGg9PT0yJiYoZSs9InUiKSxlLmxlbmd0aD09PTMmJihpLmF4aXM9ZSl9aS5VTklUJiYoaS51bml0cz1pLlVOSVQubmFtZS50b0xvd2VyQ2FzZSgpLGkudW5pdHM9PT0ibWV0cmUiJiYoaS51bml0cz0ibWV0ZXIiKSxpLlVOSVQuY29udmVydCYmKGkudHlwZT09PSJHRU9HQ1MiP2kuREFUVU0mJmkuREFUVU0uU1BIRVJPSUQmJihpLnRvX21ldGVyPWkuVU5JVC5jb252ZXJ0KmkuREFUVU0uU1BIRVJPSUQuYSk6aS50b19tZXRlcj1pLlVOSVQuY29udmVydCkpO3ZhciBhPWkuR0VPR0NTO2kudHlwZT09PSJHRU9HQ1MiJiYoYT1pKSxhJiYoYS5EQVRVTT9pLmRhdHVtQ29kZT1hLkRBVFVNLm5hbWUudG9Mb3dlckNhc2UoKTppLmRhdHVtQ29kZT1hLm5hbWUudG9Mb3dlckNhc2UoKSxpLmRhdHVtQ29kZS5zbGljZSgwLDIpPT09ImRfIiYmKGkuZGF0dW1Db2RlPWkuZGF0dW1Db2RlLnNsaWNlKDIpKSwoaS5kYXR1bUNvZGU9PT0ibmV3X3plYWxhbmRfZ2VvZGV0aWNfZGF0dW1fMTk0OSJ8fGkuZGF0dW1Db2RlPT09Im5ld196ZWFsYW5kXzE5NDkiKSYmKGkuZGF0dW1Db2RlPSJuemdkNDkiKSwoaS5kYXR1bUNvZGU9PT0id2dzXzE5ODQifHxpLmRhdHVtQ29kZT09PSJ3b3JsZF9nZW9kZXRpY19zeXN0ZW1fMTk4NCIpJiYoaS5QUk9KRUNUSU9OPT09Ik1lcmNhdG9yX0F1eGlsaWFyeV9TcGhlcmUiJiYoaS5zcGhlcmU9ITApLGkuZGF0dW1Db2RlPSJ3Z3M4NCIpLGkuZGF0dW1Db2RlLnNsaWNlKC02KT09PSJfZmVycm8iJiYoaS5kYXR1bUNvZGU9aS5kYXR1bUNvZGUuc2xpY2UoMCwtNikpLGkuZGF0dW1Db2RlLnNsaWNlKC04KT09PSJfamFrYXJ0YSImJihpLmRhdHVtQ29kZT1pLmRhdHVtQ29kZS5zbGljZSgwLC04KSksfmkuZGF0dW1Db2RlLmluZGV4T2YoImJlbGdlIikmJihpLmRhdHVtQ29kZT0icm5iNzIiKSxhLkRBVFVNJiZhLkRBVFVNLlNQSEVST0lEJiYoaS5lbGxwcz1hLkRBVFVNLlNQSEVST0lELm5hbWUucmVwbGFjZSgiXzE5IiwiIikucmVwbGFjZSgvW0NjXWxhcmtlXF8xOC8sImNscmsiKSxpLmVsbHBzLnRvTG93ZXJDYXNlKCkuc2xpY2UoMCwxMyk9PT0iaW50ZXJuYXRpb25hbCImJihpLmVsbHBzPSJpbnRsIiksaS5hPWEuREFUVU0uU1BIRVJPSUQuYSxpLnJmPXBhcnNlRmxvYXQoYS5EQVRVTS5TUEhFUk9JRC5yZiwxMCkpLGEuREFUVU0mJmEuREFUVU0uVE9XR1M4NCYmKGkuZGF0dW1fcGFyYW1zPWEuREFUVU0uVE9XR1M4NCksfmkuZGF0dW1Db2RlLmluZGV4T2YoIm9zZ2JfMTkzNiIpJiYoaS5kYXR1bUNvZGU9Im9zZ2IzNiIpLH5pLmRhdHVtQ29kZS5pbmRleE9mKCJvc25pXzE5NTIiKSYmKGkuZGF0dW1Db2RlPSJvc25pNTIiKSwofmkuZGF0dW1Db2RlLmluZGV4T2YoInRtNjUiKXx8fmkuZGF0dW1Db2RlLmluZGV4T2YoImdlb2RldGljX2RhdHVtX29mXzE5NjUiKSkmJihpLmRhdHVtQ29kZT0iaXJlNjUiKSxpLmRhdHVtQ29kZT09PSJjaDE5MDMrIiYmKGkuZGF0dW1Db2RlPSJjaDE5MDMiKSx+aS5kYXR1bUNvZGUuaW5kZXhPZigiaXNyYWVsIikmJihpLmRhdHVtQ29kZT0iaXNyOTMiKSksaS5iJiYhaXNGaW5pdGUoaS5iKSYmKGkuYj1pLmEpO2Z1bmN0aW9uIG4obCl7dmFyIGM9aS50b19tZXRlcnx8MTtyZXR1cm4gbCpjfXZhciBvPWZ1bmN0aW9uKGwpe3JldHVybiBDdShpLGwpfSxoPVtbInN0YW5kYXJkX3BhcmFsbGVsXzEiLCJTdGFuZGFyZF9QYXJhbGxlbF8xIl0sWyJzdGFuZGFyZF9wYXJhbGxlbF8xIiwiTGF0aXR1ZGUgb2YgMXN0IHN0YW5kYXJkIHBhcmFsbGVsIl0sWyJzdGFuZGFyZF9wYXJhbGxlbF8yIiwiU3RhbmRhcmRfUGFyYWxsZWxfMiJdLFsic3RhbmRhcmRfcGFyYWxsZWxfMiIsIkxhdGl0dWRlIG9mIDJuZCBzdGFuZGFyZCBwYXJhbGxlbCJdLFsiZmFsc2VfZWFzdGluZyIsIkZhbHNlX0Vhc3RpbmciXSxbImZhbHNlX2Vhc3RpbmciLCJGYWxzZSBlYXN0aW5nIl0sWyJmYWxzZS1lYXN0aW5nIiwiRWFzdGluZyBhdCBmYWxzZSBvcmlnaW4iXSxbImZhbHNlX25vcnRoaW5nIiwiRmFsc2VfTm9ydGhpbmciXSxbImZhbHNlX25vcnRoaW5nIiwiRmFsc2Ugbm9ydGhpbmciXSxbImZhbHNlX25vcnRoaW5nIiwiTm9ydGhpbmcgYXQgZmFsc2Ugb3JpZ2luIl0sWyJjZW50cmFsX21lcmlkaWFuIiwiQ2VudHJhbF9NZXJpZGlhbiJdLFsiY2VudHJhbF9tZXJpZGlhbiIsIkxvbmdpdHVkZSBvZiBuYXR1cmFsIG9yaWdpbiJdLFsiY2VudHJhbF9tZXJpZGlhbiIsIkxvbmdpdHVkZSBvZiBmYWxzZSBvcmlnaW4iXSxbImxhdGl0dWRlX29mX29yaWdpbiIsIkxhdGl0dWRlX09mX09yaWdpbiJdLFsibGF0aXR1ZGVfb2Zfb3JpZ2luIiwiQ2VudHJhbF9QYXJhbGxlbCJdLFsibGF0aXR1ZGVfb2Zfb3JpZ2luIiwiTGF0aXR1ZGUgb2YgbmF0dXJhbCBvcmlnaW4iXSxbImxhdGl0dWRlX29mX29yaWdpbiIsIkxhdGl0dWRlIG9mIGZhbHNlIG9yaWdpbiJdLFsic2NhbGVfZmFjdG9yIiwiU2NhbGVfRmFjdG9yIl0sWyJrMCIsInNjYWxlX2ZhY3RvciJdLFsibGF0aXR1ZGVfb2ZfY2VudGVyIiwiTGF0aXR1ZGVfT2ZfQ2VudGVyIl0sWyJsYXRpdHVkZV9vZl9jZW50ZXIiLCJMYXRpdHVkZV9vZl9jZW50ZXIiXSxbImxhdDAiLCJsYXRpdHVkZV9vZl9jZW50ZXIiLHZpXSxbImxvbmdpdHVkZV9vZl9jZW50ZXIiLCJMb25naXR1ZGVfT2ZfQ2VudGVyIl0sWyJsb25naXR1ZGVfb2ZfY2VudGVyIiwiTG9uZ2l0dWRlX29mX2NlbnRlciJdLFsibG9uZ2MiLCJsb25naXR1ZGVfb2ZfY2VudGVyIix2aV0sWyJ4MCIsImZhbHNlX2Vhc3RpbmciLG5dLFsieTAiLCJmYWxzZV9ub3J0aGluZyIsbl0sWyJsb25nMCIsImNlbnRyYWxfbWVyaWRpYW4iLHZpXSxbImxhdDAiLCJsYXRpdHVkZV9vZl9vcmlnaW4iLHZpXSxbImxhdDAiLCJzdGFuZGFyZF9wYXJhbGxlbF8xIix2aV0sWyJsYXQxIiwic3RhbmRhcmRfcGFyYWxsZWxfMSIsdmldLFsibGF0MiIsInN0YW5kYXJkX3BhcmFsbGVsXzIiLHZpXSxbImF6aW11dGgiLCJBemltdXRoIl0sWyJhbHBoYSIsImF6aW11dGgiLHZpXSxbInNyc0NvZGUiLCJuYW1lIl1dO2guZm9yRWFjaChvKSwhaS5sb25nMCYmaS5sb25nYyYmKGkucHJvak5hbWU9PT0iQWxiZXJzX0NvbmljX0VxdWFsX0FyZWEifHxpLnByb2pOYW1lPT09IkxhbWJlcnRfQXppbXV0aGFsX0VxdWFsX0FyZWEiKSYmKGkubG9uZzA9aS5sb25nYyksIWkubGF0X3RzJiZpLmxhdDEmJihpLnByb2pOYW1lPT09IlN0ZXJlb2dyYXBoaWNfU291dGhfUG9sZSJ8fGkucHJvak5hbWU9PT0iUG9sYXIgU3RlcmVvZ3JhcGhpYyAodmFyaWFudCBCKSIpJiYoaS5sYXQwPXZpKGkubGF0MT4wPzkwOi05MCksaS5sYXRfdHM9aS5sYXQxKX1mdW5jdGlvbiB0aChpKXt2YXIgZT1UdShpKSx0PWUuc2hpZnQoKSxyPWUuc2hpZnQoKTtlLnVuc2hpZnQoWyJuYW1lIixyXSksZS51bnNoaWZ0KFsidHlwZSIsdF0pO3ZhciBzPXt9O3JldHVybiBjcihlLHMpLEx1KHMpLHN9ZnVuY3Rpb24gU3QoaSl7dmFyIGU9dGhpcztpZihhcmd1bWVudHMubGVuZ3RoPT09Mil7dmFyIHQ9YXJndW1lbnRzWzFdO3R5cGVvZiB0PT0ic3RyaW5nIj90LmNoYXJBdCgwKT09PSIrIj9TdFtpXT1jbihhcmd1bWVudHNbMV0pOlN0W2ldPXRoKGFyZ3VtZW50c1sxXSk6U3RbaV09dH1lbHNlIGlmKGFyZ3VtZW50cy5sZW5ndGg9PT0xKXtpZihBcnJheS5pc0FycmF5KGkpKXJldHVybiBpLm1hcChmdW5jdGlvbihyKXtBcnJheS5pc0FycmF5KHIpP1N0LmFwcGx5KGUscik6U3Qocil9KTtpZih0eXBlb2YgaT09InN0cmluZyIpe2lmKGkgaW4gU3QpcmV0dXJuIFN0W2ldfWVsc2UiRVBTRyJpbiBpP1N0WyJFUFNHOiIraS5FUFNHXT1pOiJFU1JJImluIGk/U3RbIkVTUkk6IitpLkVTUkldPWk6IklBVTIwMDAiaW4gaT9TdFsiSUFVMjAwMDoiK2kuSUFVMjAwMF09aTpjb25zb2xlLmxvZyhpKTtyZXR1cm59fUNpKFN0KTtmdW5jdGlvbiBSdShpKXtyZXR1cm4gdHlwZW9mIGk9PSJzdHJpbmcifWZ1bmN0aW9uIFB1KGkpe3JldHVybiBpIGluIFN0fXZhciBJdT1bIlBST0pFQ1RFRENSUyIsIlBST0pDUlMiLCJHRU9HQ1MiLCJHRU9DQ1MiLCJQUk9KQ1MiLCJMT0NBTF9DUyIsIkdFT0RDUlMiLCJHRU9ERVRJQ0NSUyIsIkdFT0RFVElDREFUVU0iLCJFTkdDUlMiLCJFTkdJTkVFUklOR0NSUyJdO2Z1bmN0aW9uIE51KGkpe3JldHVybiBJdS5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiBpLmluZGV4T2YoZSk+LTF9KX12YXIgRHU9WyIzODU3IiwiOTAwOTEzIiwiMzc4NSIsIjEwMjExMyJdO2Z1bmN0aW9uIE91KGkpe3ZhciBlPUxpKGksImF1dGhvcml0eSIpO2lmKGUpe3ZhciB0PUxpKGUsImVwc2ciKTtyZXR1cm4gdCYmRHUuaW5kZXhPZih0KT4tMX19ZnVuY3Rpb24genUoaSl7dmFyIGU9TGkoaSwiZXh0ZW5zaW9uIik7aWYoZSlyZXR1cm4gTGkoZSwicHJvajQiKX1mdW5jdGlvbiBCdShpKXtyZXR1cm4gaVswXT09PSIrIn1mdW5jdGlvbiBVdShpKXtpZihSdShpKSl7aWYoUHUoaSkpcmV0dXJuIFN0W2ldO2lmKE51KGkpKXt2YXIgZT10aChpKTtpZihPdShlKSlyZXR1cm4gU3RbIkVQU0c6Mzg1NyJdO3ZhciB0PXp1KGUpO3JldHVybiB0P2NuKHQpOmV9aWYoQnUoaSkpcmV0dXJuIGNuKGkpfWVsc2UgcmV0dXJuIGl9ZnVuY3Rpb24gaWgoaSxlKXtpPWl8fHt9O3ZhciB0LHI7aWYoIWUpcmV0dXJuIGk7Zm9yKHIgaW4gZSl0PWVbcl0sdCE9PXZvaWQgMCYmKGlbcl09dCk7cmV0dXJuIGl9ZnVuY3Rpb24gaWkoaSxlLHQpe3ZhciByPWkqZTtyZXR1cm4gdC9NYXRoLnNxcnQoMS1yKnIpfWZ1bmN0aW9uIGRzKGkpe3JldHVybiBpPDA/LTE6MX1mdW5jdGlvbiB1ZShpKXtyZXR1cm4gTWF0aC5hYnMoaSk8PXN0P2k6aS1kcyhpKSpjc31mdW5jdGlvbiBWdChpLGUsdCl7dmFyIHI9aSp0LHM9LjUqaTtyZXR1cm4gcj1NYXRoLnBvdygoMS1yKS8oMStyKSxzKSxNYXRoLnRhbiguNSooSy1lKSkvcn1mdW5jdGlvbiBwcyhpLGUpe2Zvcih2YXIgdD0uNSppLHIscyxhPUstMipNYXRoLmF0YW4oZSksbj0wO248PTE1O24rKylpZihyPWkqTWF0aC5zaW4oYSkscz1LLTIqTWF0aC5hdGFuKGUqTWF0aC5wb3coKDEtcikvKDErciksdCkpLWEsYSs9cyxNYXRoLmFicyhzKTw9MWUtMTApcmV0dXJuIGE7cmV0dXJuLTk5OTl9ZnVuY3Rpb24gRnUoKXt2YXIgaT10aGlzLmIvdGhpcy5hO3RoaXMuZXM9MS1pKmksIngwImluIHRoaXN8fCh0aGlzLngwPTApLCJ5MCJpbiB0aGlzfHwodGhpcy55MD0wKSx0aGlzLmU9TWF0aC5zcXJ0KHRoaXMuZXMpLHRoaXMubGF0X3RzP3RoaXMuc3BoZXJlP3RoaXMuazA9TWF0aC5jb3ModGhpcy5sYXRfdHMpOnRoaXMuazA9aWkodGhpcy5lLE1hdGguc2luKHRoaXMubGF0X3RzKSxNYXRoLmNvcyh0aGlzLmxhdF90cykpOnRoaXMuazB8fCh0aGlzLms/dGhpcy5rMD10aGlzLms6dGhpcy5rMD0xKX1mdW5jdGlvbiBIdShpKXt2YXIgZT1pLngsdD1pLnk7aWYodCp0aT45MCYmdCp0aTwtOTAmJmUqdGk+MTgwJiZlKnRpPC0xODApcmV0dXJuIG51bGw7dmFyIHIscztpZihNYXRoLmFicyhNYXRoLmFicyh0KS1LKTw9bmUpcmV0dXJuIG51bGw7aWYodGhpcy5zcGhlcmUpcj10aGlzLngwK3RoaXMuYSp0aGlzLmswKnVlKGUtdGhpcy5sb25nMCkscz10aGlzLnkwK3RoaXMuYSp0aGlzLmswKk1hdGgubG9nKE1hdGgudGFuKEdlKy41KnQpKTtlbHNle3ZhciBhPU1hdGguc2luKHQpLG49VnQodGhpcy5lLHQsYSk7cj10aGlzLngwK3RoaXMuYSp0aGlzLmswKnVlKGUtdGhpcy5sb25nMCkscz10aGlzLnkwLXRoaXMuYSp0aGlzLmswKk1hdGgubG9nKG4pfXJldHVybiBpLng9cixpLnk9cyxpfWZ1bmN0aW9uIGt1KGkpe3ZhciBlPWkueC10aGlzLngwLHQ9aS55LXRoaXMueTAscixzO2lmKHRoaXMuc3BoZXJlKXM9Sy0yKk1hdGguYXRhbihNYXRoLmV4cCgtdC8odGhpcy5hKnRoaXMuazApKSk7ZWxzZXt2YXIgYT1NYXRoLmV4cCgtdC8odGhpcy5hKnRoaXMuazApKTtpZihzPXBzKHRoaXMuZSxhKSxzPT09LTk5OTkpcmV0dXJuIG51bGx9cmV0dXJuIHI9dWUodGhpcy5sb25nMCtlLyh0aGlzLmEqdGhpcy5rMCkpLGkueD1yLGkueT1zLGl9dmFyIEd1PVsiTWVyY2F0b3IiLCJQb3B1bGFyIFZpc3VhbGlzYXRpb24gUHNldWRvIE1lcmNhdG9yIiwiTWVyY2F0b3JfMVNQIiwiTWVyY2F0b3JfQXV4aWxpYXJ5X1NwaGVyZSIsIm1lcmMiXSxWdT17aW5pdDpGdSxmb3J3YXJkOkh1LGludmVyc2U6a3UsbmFtZXM6R3V9O2Z1bmN0aW9uIFd1KCl7fWZ1bmN0aW9uIHJoKGkpe3JldHVybiBpfXZhciBqdT1bImxvbmdsYXQiLCJpZGVudGl0eSJdLHF1PXtpbml0Old1LGZvcndhcmQ6cmgsaW52ZXJzZTpyaCxuYW1lczpqdX0sWHU9W1Z1LHF1XSwkcz17fSxlYT1bXTtmdW5jdGlvbiBzaChpLGUpe3ZhciB0PWVhLmxlbmd0aDtyZXR1cm4gaS5uYW1lcz8oZWFbdF09aSxpLm5hbWVzLmZvckVhY2goZnVuY3Rpb24ocil7JHNbci50b0xvd2VyQ2FzZSgpXT10fSksdGhpcyk6KGNvbnNvbGUubG9nKGUpLCEwKX1mdW5jdGlvbiBKdShpKXtpZighaSlyZXR1cm4hMTt2YXIgZT1pLnRvTG93ZXJDYXNlKCk7aWYodHlwZW9mICRzW2VdPCJ1IiYmZWFbJHNbZV1dKXJldHVybiBlYVskc1tlXV19ZnVuY3Rpb24gWXUoKXtYdS5mb3JFYWNoKHNoKX12YXIgWnU9e3N0YXJ0Oll1LGFkZDpzaCxnZXQ6SnV9LEVlPXt9O0VlLk1FUklUPXthOjYzNzgxMzcscmY6Mjk4LjI1NyxlbGxpcHNlTmFtZToiTUVSSVQgMTk4MyJ9LEVlLlNHUzg1PXthOjYzNzgxMzYscmY6Mjk4LjI1NyxlbGxpcHNlTmFtZToiU292aWV0IEdlb2RldGljIFN5c3RlbSA4NSJ9LEVlLkdSUzgwPXthOjYzNzgxMzcscmY6Mjk4LjI1NzIyMjEwMSxlbGxpcHNlTmFtZToiR1JTIDE5ODAoSVVHRywgMTk4MCkifSxFZS5JQVU3Nj17YTo2Mzc4MTQwLHJmOjI5OC4yNTcsZWxsaXBzZU5hbWU6IklBVSAxOTc2In0sRWUuYWlyeT17YTo2Mzc3NTYzMzk2ZS0zLGI6NjM1NjI1NjkxZS0yLGVsbGlwc2VOYW1lOiJBaXJ5IDE4MzAifSxFZS5BUEw0PXthOjYzNzgxMzcscmY6Mjk4LjI1LGVsbGlwc2VOYW1lOiJBcHBsLiBQaHlzaWNzLiAxOTY1In0sRWUuTldMOUQ9e2E6NjM3ODE0NSxyZjoyOTguMjUsZWxsaXBzZU5hbWU6Ik5hdmFsIFdlYXBvbnMgTGFiLiwgMTk2NSJ9LEVlLm1vZF9haXJ5PXthOjYzNzczNDAxODllLTMsYjo2MzU2MDM0NDQ2ZS0zLGVsbGlwc2VOYW1lOiJNb2RpZmllZCBBaXJ5In0sRWUuYW5kcmFlPXthOjYzNzcxMDQ0M2UtMixyZjozMDAsZWxsaXBzZU5hbWU6IkFuZHJhZSAxODc2IChEZW4uLCBJY2xuZC4pIn0sRWUuYXVzdF9TQT17YTo2Mzc4MTYwLHJmOjI5OC4yNSxlbGxpcHNlTmFtZToiQXVzdHJhbGlhbiBOYXRsICYgUy4gQW1lci4gMTk2OSJ9LEVlLkdSUzY3PXthOjYzNzgxNjAscmY6Mjk4LjI0NzE2NzQyNyxlbGxpcHNlTmFtZToiR1JTIDY3KElVR0cgMTk2NykifSxFZS5iZXNzZWw9e2E6NjM3NzM5NzE1NWUtMyxyZjoyOTkuMTUyODEyOCxlbGxpcHNlTmFtZToiQmVzc2VsIDE4NDEifSxFZS5iZXNzX25hbT17YTo2Mzc3NDgzODY1ZS0zLHJmOjI5OS4xNTI4MTI4LGVsbGlwc2VOYW1lOiJCZXNzZWwgMTg0MSAoTmFtaWJpYSkifSxFZS5jbHJrNjY9e2E6NjM3ODIwNjRlLTEsYjo2MzU2NTgzOGUtMSxlbGxpcHNlTmFtZToiQ2xhcmtlIDE4NjYifSxFZS5jbHJrODA9e2E6NjM3ODI0OTE0NWUtMyxyZjoyOTMuNDY2MyxlbGxpcHNlTmFtZToiQ2xhcmtlIDE4ODAgbW9kLiJ9LEVlLmNscms1OD17YTo2Mzc4MjkzNjQ1MjA4NzU5ZS05LHJmOjI5NC4yNjA2NzYzNjkyNjU0LGVsbGlwc2VOYW1lOiJDbGFya2UgMTg1OCJ9LEVlLkNQTT17YTo2Mzc1NzM4N2UtMSxyZjozMzQuMjksZWxsaXBzZU5hbWU6IkNvbW0uIGRlcyBQb2lkcyBldCBNZXN1cmVzIDE3OTkifSxFZS5kZWxtYnI9e2E6NjM3NjQyOCxyZjozMTEuNSxlbGxpcHNlTmFtZToiRGVsYW1icmUgMTgxMCAoQmVsZ2l1bSkifSxFZS5lbmdlbGlzPXthOjYzNzgxMzYwNWUtMixyZjoyOTguMjU2NixlbGxpcHNlTmFtZToiRW5nZWxpcyAxOTg1In0sRWUuZXZyc3QzMD17YTo2Mzc3Mjc2MzQ1ZS0zLHJmOjMwMC44MDE3LGVsbGlwc2VOYW1lOiJFdmVyZXN0IDE4MzAifSxFZS5ldnJzdDQ4PXthOjYzNzczMDQwNjNlLTMscmY6MzAwLjgwMTcsZWxsaXBzZU5hbWU6IkV2ZXJlc3QgMTk0OCJ9LEVlLmV2cnN0NTY9e2E6NjM3NzMwMTI0M2UtMyxyZjozMDAuODAxNyxlbGxpcHNlTmFtZToiRXZlcmVzdCAxOTU2In0sRWUuZXZyc3Q2OT17YTo2Mzc3Mjk1NjY0ZS0zLHJmOjMwMC44MDE3LGVsbGlwc2VOYW1lOiJFdmVyZXN0IDE5NjkifSxFZS5ldnJzdFNTPXthOjYzNzcyOTg1NTZlLTMscmY6MzAwLjgwMTcsZWxsaXBzZU5hbWU6IkV2ZXJlc3QgKFNhYmFoICYgU2FyYXdhaykifSxFZS5mc2NocjYwPXthOjYzNzgxNjYscmY6Mjk4LjMsZWxsaXBzZU5hbWU6IkZpc2NoZXIgKE1lcmN1cnkgRGF0dW0pIDE5NjAifSxFZS5mc2NocjYwbT17YTo2Mzc4MTU1LHJmOjI5OC4zLGVsbGlwc2VOYW1lOiJGaXNjaGVyIDE5NjAifSxFZS5mc2NocjY4PXthOjYzNzgxNTAscmY6Mjk4LjMsZWxsaXBzZU5hbWU6IkZpc2NoZXIgMTk2OCJ9LEVlLmhlbG1lcnQ9e2E6NjM3ODIwMCxyZjoyOTguMyxlbGxpcHNlTmFtZToiSGVsbWVydCAxOTA2In0sRWUuaG91Z2g9e2E6NjM3ODI3MCxyZjoyOTcsZWxsaXBzZU5hbWU6IkhvdWdoIn0sRWUuaW50bD17YTo2Mzc4Mzg4LHJmOjI5NyxlbGxpcHNlTmFtZToiSW50ZXJuYXRpb25hbCAxOTA5IChIYXlmb3JkKSJ9LEVlLmthdWxhPXthOjYzNzgxNjMscmY6Mjk4LjI0LGVsbGlwc2VOYW1lOiJLYXVsYSAxOTYxIn0sRWUubGVyY2g9e2E6NjM3ODEzOSxyZjoyOTguMjU3LGVsbGlwc2VOYW1lOiJMZXJjaCAxOTc5In0sRWUubXBydHM9e2E6NjM5NzMwMCxyZjoxOTEsZWxsaXBzZU5hbWU6Ik1hdXBlcnRpdXMgMTczOCJ9LEVlLm5ld19pbnRsPXthOjYzNzgxNTc1ZS0xLGI6NjM1Njc3MjJlLTEsZWxsaXBzZU5hbWU6Ik5ldyBJbnRlcm5hdGlvbmFsIDE5NjcifSxFZS5wbGVzc2lzPXthOjYzNzY1MjMscmY6NjM1NTg2MyxlbGxpcHNlTmFtZToiUGxlc3NpcyAxODE3IChGcmFuY2UpIn0sRWUua3Jhc3M9e2E6NjM3ODI0NSxyZjoyOTguMyxlbGxpcHNlTmFtZToiS3Jhc3NvdnNreSwgMTk0MiJ9LEVlLlNFYXNpYT17YTo2Mzc4MTU1LGI6NjM1Njc3MzMyMDVlLTQsZWxsaXBzZU5hbWU6IlNvdXRoZWFzdCBBc2lhIn0sRWUud2FsYmVjaz17YTo2Mzc2ODk2LGI6NjM1NTgzNDg0NjdlLTQsZWxsaXBzZU5hbWU6IldhbGJlY2sifSxFZS5XR1M2MD17YTo2Mzc4MTY1LHJmOjI5OC4zLGVsbGlwc2VOYW1lOiJXR1MgNjAifSxFZS5XR1M2Nj17YTo2Mzc4MTQ1LHJmOjI5OC4yNSxlbGxpcHNlTmFtZToiV0dTIDY2In0sRWUuV0dTNz17YTo2Mzc4MTM1LHJmOjI5OC4yNixlbGxpcHNlTmFtZToiV0dTIDcyIn07dmFyIEt1PUVlLldHUzg0PXthOjYzNzgxMzcscmY6Mjk4LjI1NzIyMzU2MyxlbGxpcHNlTmFtZToiV0dTIDg0In07RWUuc3BoZXJlPXthOjYzNzA5OTcsYjo2MzcwOTk3LGVsbGlwc2VOYW1lOiJOb3JtYWwgU3BoZXJlIChyPTYzNzA5OTcpIn07ZnVuY3Rpb24gUXUoaSxlLHQscil7dmFyIHM9aSppLGE9ZSplLG49KHMtYSkvcyxvPTA7cj8oaSo9MS1uKihfdStuKih5dStuKk11KSkscz1pKmksbj0wKTpvPU1hdGguc3FydChuKTt2YXIgaD0ocy1hKS9hO3JldHVybntlczpuLGU6byxlcDI6aH19ZnVuY3Rpb24gJHUoaSxlLHQscixzKXtpZighaSl7dmFyIGE9TGkoRWUscik7YXx8KGE9S3UpLGk9YS5hLGU9YS5iLHQ9YS5yZn1yZXR1cm4gdCYmIWUmJihlPSgxLTEvdCkqaSksKHQ9PT0wfHxNYXRoLmFicyhpLWUpPG5lKSYmKHM9ITAsZT1pKSx7YTppLGI6ZSxyZjp0LHNwaGVyZTpzfX12YXIgb3Q9e307b3Qud2dzODQ9e3Rvd2dzODQ6IjAsMCwwIixlbGxpcHNlOiJXR1M4NCIsZGF0dW1OYW1lOiJXR1M4NCJ9LG90LmNoMTkwMz17dG93Z3M4NDoiNjc0LjM3NCwxNS4wNTYsNDA1LjM0NiIsZWxsaXBzZToiYmVzc2VsIixkYXR1bU5hbWU6InN3aXNzIn0sb3QuZ2dyczg3PXt0b3dnczg0OiItMTk5Ljg3LDc0Ljc5LDI0Ni42MiIsZWxsaXBzZToiR1JTODAiLGRhdHVtTmFtZToiR3JlZWtfR2VvZGV0aWNfUmVmZXJlbmNlX1N5c3RlbV8xOTg3In0sb3QubmFkODM9e3Rvd2dzODQ6IjAsMCwwIixlbGxpcHNlOiJHUlM4MCIsZGF0dW1OYW1lOiJOb3J0aF9BbWVyaWNhbl9EYXR1bV8xOTgzIn0sb3QubmFkMjc9e25hZGdyaWRzOiJAY29udXMsQGFsYXNrYSxAbnR2Ml8wLmdzYixAbnR2MV9jYW4uZGF0IixlbGxpcHNlOiJjbHJrNjYiLGRhdHVtTmFtZToiTm9ydGhfQW1lcmljYW5fRGF0dW1fMTkyNyJ9LG90LnBvdHNkYW09e3Rvd2dzODQ6IjU5OC4xLDczLjcsNDE4LjIsMC4yMDIsMC4wNDUsLTIuNDU1LDYuNyIsZWxsaXBzZToiYmVzc2VsIixkYXR1bU5hbWU6IlBvdHNkYW0gUmF1ZW5iZXJnIDE5NTAgREhETiJ9LG90LmNhcnRoYWdlPXt0b3dnczg0OiItMjYzLjAsNi4wLDQzMS4wIixlbGxpcHNlOiJjbGFyazgwIixkYXR1bU5hbWU6IkNhcnRoYWdlIDE5MzQgVHVuaXNpYSJ9LG90Lmhlcm1hbm5za29nZWw9e3Rvd2dzODQ6IjU3Ny4zMjYsOTAuMTI5LDQ2My45MTksNS4xMzcsMS40NzQsNS4yOTcsMi40MjMyIixlbGxpcHNlOiJiZXNzZWwiLGRhdHVtTmFtZToiSGVybWFubnNrb2dlbCJ9LG90Lm9zbmk1Mj17dG93Z3M4NDoiNDgyLjUzMCwtMTMwLjU5Niw1NjQuNTU3LC0xLjA0MiwtMC4yMTQsLTAuNjMxLDguMTUiLGVsbGlwc2U6ImFpcnkiLGRhdHVtTmFtZToiSXJpc2ggTmF0aW9uYWwifSxvdC5pcmU2NT17dG93Z3M4NDoiNDgyLjUzMCwtMTMwLjU5Niw1NjQuNTU3LC0xLjA0MiwtMC4yMTQsLTAuNjMxLDguMTUiLGVsbGlwc2U6Im1vZF9haXJ5IixkYXR1bU5hbWU6IklyZWxhbmQgMTk2NSJ9LG90LnJhc3NhZGlyYW49e3Rvd2dzODQ6Ii0xMzMuNjMsLTE1Ny41LC0xNTguNjIiLGVsbGlwc2U6ImludGwiLGRhdHVtTmFtZToiUmFzc2FkaXJhbiJ9LG90Lm56Z2Q0OT17dG93Z3M4NDoiNTkuNDcsLTUuMDQsMTg3LjQ0LDAuNDcsLTAuMSwxLjAyNCwtNC41OTkzIixlbGxpcHNlOiJpbnRsIixkYXR1bU5hbWU6Ik5ldyBaZWFsYW5kIEdlb2RldGljIERhdHVtIDE5NDkifSxvdC5vc2diMzY9e3Rvd2dzODQ6IjQ0Ni40NDgsLTEyNS4xNTcsNTQyLjA2MCwwLjE1MDIsMC4yNDcwLDAuODQyMSwtMjAuNDg5NCIsZWxsaXBzZToiYWlyeSIsZGF0dW1OYW1lOiJBaXJ5IDE4MzAifSxvdC5zX2p0c2s9e3Rvd2dzODQ6IjU4OSw3Niw0ODAiLGVsbGlwc2U6ImJlc3NlbCIsZGF0dW1OYW1lOiJTLUpUU0sgKEZlcnJvKSJ9LG90LmJlZHVhcmFtPXt0b3dnczg0OiItMTA2LC04NywxODgiLGVsbGlwc2U6ImNscms4MCIsZGF0dW1OYW1lOiJCZWR1YXJhbSJ9LG90Lmd1bnVuZ19zZWdhcmE9e3Rvd2dzODQ6Ii00MDMsNjg0LDQxIixlbGxpcHNlOiJiZXNzZWwiLGRhdHVtTmFtZToiR3VudW5nIFNlZ2FyYSBKYWthcnRhIn0sb3Qucm5iNzI9e3Rvd2dzODQ6IjEwNi44NjksLTUyLjI5NzgsMTAzLjcyNCwtMC4zMzY1NywwLjQ1Njk1NSwtMS44NDIxOCwxIixlbGxpcHNlOiJpbnRsIixkYXR1bU5hbWU6IlJlc2VhdSBOYXRpb25hbCBCZWxnZSAxOTcyIn07ZnVuY3Rpb24gZWQoaSxlLHQscixzLGEsbil7dmFyIG89e307cmV0dXJuIGk9PT12b2lkIDB8fGk9PT0ibm9uZSI/by5kYXR1bV90eXBlPWhzOm8uZGF0dW1fdHlwZT1sbixlJiYoby5kYXR1bV9wYXJhbXM9ZS5tYXAocGFyc2VGbG9hdCksKG8uZGF0dW1fcGFyYW1zWzBdIT09MHx8by5kYXR1bV9wYXJhbXNbMV0hPT0wfHxvLmRhdHVtX3BhcmFtc1syXSE9PTApJiYoby5kYXR1bV90eXBlPUZ0KSxvLmRhdHVtX3BhcmFtcy5sZW5ndGg+MyYmKG8uZGF0dW1fcGFyYW1zWzNdIT09MHx8by5kYXR1bV9wYXJhbXNbNF0hPT0wfHxvLmRhdHVtX3BhcmFtc1s1XSE9PTB8fG8uZGF0dW1fcGFyYW1zWzZdIT09MCkmJihvLmRhdHVtX3R5cGU9Zmksby5kYXR1bV9wYXJhbXNbM10qPWxzLG8uZGF0dW1fcGFyYW1zWzRdKj1scyxvLmRhdHVtX3BhcmFtc1s1XSo9bHMsby5kYXR1bV9wYXJhbXNbNl09by5kYXR1bV9wYXJhbXNbNl0vMWU2KzEpKSxuJiYoby5kYXR1bV90eXBlPVhpLG8uZ3JpZHM9biksby5hPXQsby5iPXIsby5lcz1zLG8uZXAyPWEsb312YXIgYWg9e307ZnVuY3Rpb24gdGQoaSxlKXt2YXIgdD1uZXcgRGF0YVZpZXcoZSkscj1zZCh0KSxzPWFkKHQscik7cy5uU3ViZ3JpZHM+MSYmY29uc29sZS5sb2coIk9ubHkgc2luZ2xlIE5UdjIgc3ViZ3JpZHMgYXJlIGN1cnJlbnRseSBzdXBwb3J0ZWQsIHN1YnNlcXVlbnQgc3ViIGdyaWRzIGFyZSBpZ25vcmVkIik7dmFyIGE9bmQodCxzLHIpLG49e2hlYWRlcjpzLHN1YmdyaWRzOmF9O3JldHVybiBhaFtpXT1uLG59ZnVuY3Rpb24gaWQoaSl7aWYoaT09PXZvaWQgMClyZXR1cm4gbnVsbDt2YXIgZT1pLnNwbGl0KCIsIik7cmV0dXJuIGUubWFwKHJkKX1mdW5jdGlvbiByZChpKXtpZihpLmxlbmd0aD09PTApcmV0dXJuIG51bGw7dmFyIGU9aVswXT09PSJAIjtyZXR1cm4gZSYmKGk9aS5zbGljZSgxKSksaT09PSJudWxsIj97bmFtZToibnVsbCIsbWFuZGF0b3J5OiFlLGdyaWQ6bnVsbCxpc051bGw6ITB9OntuYW1lOmksbWFuZGF0b3J5OiFlLGdyaWQ6YWhbaV18fG51bGwsaXNOdWxsOiExfX1mdW5jdGlvbiB1cihpKXtyZXR1cm4gaS8zNjAwKk1hdGguUEkvMTgwfWZ1bmN0aW9uIHNkKGkpe3ZhciBlPWkuZ2V0SW50MzIoOCwhMSk7cmV0dXJuIGU9PT0xMT8hMTooZT1pLmdldEludDMyKDgsITApLGUhPT0xMSYmY29uc29sZS53YXJuKCJGYWlsZWQgdG8gZGV0ZWN0IG5hZGdyaWQgZW5kaWFuLW5lc3MsIGRlZmF1bHRpbmcgdG8gbGl0dGxlLWVuZGlhbiIpLCEwKX1mdW5jdGlvbiBhZChpLGUpe3JldHVybntuRmllbGRzOmkuZ2V0SW50MzIoOCxlKSxuU3ViZ3JpZEZpZWxkczppLmdldEludDMyKDI0LGUpLG5TdWJncmlkczppLmdldEludDMyKDQwLGUpLHNoaWZ0VHlwZTpkbihpLDU2LDU2KzgpLnRyaW0oKSxmcm9tU2VtaU1ham9yQXhpczppLmdldEZsb2F0NjQoMTIwLGUpLGZyb21TZW1pTWlub3JBeGlzOmkuZ2V0RmxvYXQ2NCgxMzYsZSksdG9TZW1pTWFqb3JBeGlzOmkuZ2V0RmxvYXQ2NCgxNTIsZSksdG9TZW1pTWlub3JBeGlzOmkuZ2V0RmxvYXQ2NCgxNjgsZSl9fWZ1bmN0aW9uIGRuKGksZSx0KXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KGkuYnVmZmVyLnNsaWNlKGUsdCkpKX1mdW5jdGlvbiBuZChpLGUsdCl7Zm9yKHZhciByPTE3NixzPVtdLGE9MDthPGUublN1YmdyaWRzO2ErKyl7dmFyIG49aGQoaSxyLHQpLG89bGQoaSxyLG4sdCksaD1NYXRoLnJvdW5kKDErKG4udXBwZXJMb25naXR1ZGUtbi5sb3dlckxvbmdpdHVkZSkvbi5sb25naXR1ZGVJbnRlcnZhbCksbD1NYXRoLnJvdW5kKDErKG4udXBwZXJMYXRpdHVkZS1uLmxvd2VyTGF0aXR1ZGUpL24ubGF0aXR1ZGVJbnRlcnZhbCk7cy5wdXNoKHtsbDpbdXIobi5sb3dlckxvbmdpdHVkZSksdXIobi5sb3dlckxhdGl0dWRlKV0sZGVsOlt1cihuLmxvbmdpdHVkZUludGVydmFsKSx1cihuLmxhdGl0dWRlSW50ZXJ2YWwpXSxsaW06W2gsbF0sY291bnQ6bi5ncmlkTm9kZUNvdW50LGN2czpvZChvKX0pfXJldHVybiBzfWZ1bmN0aW9uIG9kKGkpe3JldHVybiBpLm1hcChmdW5jdGlvbihlKXtyZXR1cm5bdXIoZS5sb25naXR1ZGVTaGlmdCksdXIoZS5sYXRpdHVkZVNoaWZ0KV19KX1mdW5jdGlvbiBoZChpLGUsdCl7cmV0dXJue25hbWU6ZG4oaSxlKzgsZSsxNikudHJpbSgpLHBhcmVudDpkbihpLGUrMjQsZSsyNCs4KS50cmltKCksbG93ZXJMYXRpdHVkZTppLmdldEZsb2F0NjQoZSs3Mix0KSx1cHBlckxhdGl0dWRlOmkuZ2V0RmxvYXQ2NChlKzg4LHQpLGxvd2VyTG9uZ2l0dWRlOmkuZ2V0RmxvYXQ2NChlKzEwNCx0KSx1cHBlckxvbmdpdHVkZTppLmdldEZsb2F0NjQoZSsxMjAsdCksbGF0aXR1ZGVJbnRlcnZhbDppLmdldEZsb2F0NjQoZSsxMzYsdCksbG9uZ2l0dWRlSW50ZXJ2YWw6aS5nZXRGbG9hdDY0KGUrMTUyLHQpLGdyaWROb2RlQ291bnQ6aS5nZXRJbnQzMihlKzE2OCx0KX19ZnVuY3Rpb24gbGQoaSxlLHQscil7Zm9yKHZhciBzPWUrMTc2LGE9MTYsbj1bXSxvPTA7bzx0LmdyaWROb2RlQ291bnQ7bysrKXt2YXIgaD17bGF0aXR1ZGVTaGlmdDppLmdldEZsb2F0MzIocytvKmEsciksbG9uZ2l0dWRlU2hpZnQ6aS5nZXRGbG9hdDMyKHMrbyphKzQsciksbGF0aXR1ZGVBY2N1cmFjeTppLmdldEZsb2F0MzIocytvKmErOCxyKSxsb25naXR1ZGVBY2N1cmFjeTppLmdldEZsb2F0MzIocytvKmErMTIscil9O24ucHVzaChoKX1yZXR1cm4gbn1mdW5jdGlvbiByaShpLGUpe2lmKCEodGhpcyBpbnN0YW5jZW9mIHJpKSlyZXR1cm4gbmV3IHJpKGkpO2U9ZXx8ZnVuY3Rpb24obCl7aWYobCl0aHJvdyBsfTt2YXIgdD1VdShpKTtpZih0eXBlb2YgdCE9Im9iamVjdCIpe2UoaSk7cmV0dXJufXZhciByPXJpLnByb2plY3Rpb25zLmdldCh0LnByb2pOYW1lKTtpZighcil7ZShpKTtyZXR1cm59aWYodC5kYXR1bUNvZGUmJnQuZGF0dW1Db2RlIT09Im5vbmUiKXt2YXIgcz1MaShvdCx0LmRhdHVtQ29kZSk7cyYmKHQuZGF0dW1fcGFyYW1zPXQuZGF0dW1fcGFyYW1zfHwocy50b3dnczg0P3MudG93Z3M4NC5zcGxpdCgiLCIpOm51bGwpLHQuZWxscHM9cy5lbGxpcHNlLHQuZGF0dW1OYW1lPXMuZGF0dW1OYW1lP3MuZGF0dW1OYW1lOnQuZGF0dW1Db2RlKX10LmswPXQuazB8fDEsdC5heGlzPXQuYXhpc3x8ImVudSIsdC5lbGxwcz10LmVsbHBzfHwid2dzODQiLHQubGF0MT10LmxhdDF8fHQubGF0MDt2YXIgYT0kdSh0LmEsdC5iLHQucmYsdC5lbGxwcyx0LnNwaGVyZSksbj1RdShhLmEsYS5iLGEucmYsdC5SX0EpLG89aWQodC5uYWRncmlkcyksaD10LmRhdHVtfHxlZCh0LmRhdHVtQ29kZSx0LmRhdHVtX3BhcmFtcyxhLmEsYS5iLG4uZXMsbi5lcDIsbyk7aWgodGhpcyx0KSxpaCh0aGlzLHIpLHRoaXMuYT1hLmEsdGhpcy5iPWEuYix0aGlzLnJmPWEucmYsdGhpcy5zcGhlcmU9YS5zcGhlcmUsdGhpcy5lcz1uLmVzLHRoaXMuZT1uLmUsdGhpcy5lcDI9bi5lcDIsdGhpcy5kYXR1bT1oLHRoaXMuaW5pdCgpLGUobnVsbCx0aGlzKX1yaS5wcm9qZWN0aW9ucz1adSxyaS5wcm9qZWN0aW9ucy5zdGFydCgpO2Z1bmN0aW9uIGNkKGksZSl7cmV0dXJuIGkuZGF0dW1fdHlwZSE9PWUuZGF0dW1fdHlwZXx8aS5hIT09ZS5hfHxNYXRoLmFicyhpLmVzLWUuZXMpPjVlLTExPyExOmkuZGF0dW1fdHlwZT09PUZ0P2kuZGF0dW1fcGFyYW1zWzBdPT09ZS5kYXR1bV9wYXJhbXNbMF0mJmkuZGF0dW1fcGFyYW1zWzFdPT09ZS5kYXR1bV9wYXJhbXNbMV0mJmkuZGF0dW1fcGFyYW1zWzJdPT09ZS5kYXR1bV9wYXJhbXNbMl06aS5kYXR1bV90eXBlPT09Zmk/aS5kYXR1bV9wYXJhbXNbMF09PT1lLmRhdHVtX3BhcmFtc1swXSYmaS5kYXR1bV9wYXJhbXNbMV09PT1lLmRhdHVtX3BhcmFtc1sxXSYmaS5kYXR1bV9wYXJhbXNbMl09PT1lLmRhdHVtX3BhcmFtc1syXSYmaS5kYXR1bV9wYXJhbXNbM109PT1lLmRhdHVtX3BhcmFtc1szXSYmaS5kYXR1bV9wYXJhbXNbNF09PT1lLmRhdHVtX3BhcmFtc1s0XSYmaS5kYXR1bV9wYXJhbXNbNV09PT1lLmRhdHVtX3BhcmFtc1s1XSYmaS5kYXR1bV9wYXJhbXNbNl09PT1lLmRhdHVtX3BhcmFtc1s2XTohMH1mdW5jdGlvbiBuaChpLGUsdCl7dmFyIHI9aS54LHM9aS55LGE9aS56P2kuejowLG4sbyxoLGw7aWYoczwtSyYmcz4tMS4wMDEqSylzPS1LO2Vsc2UgaWYocz5LJiZzPDEuMDAxKkspcz1LO2Vsc2V7aWYoczwtSylyZXR1cm57eDotMS8wLHk6LTEvMCx6Omkuen07aWYocz5LKXJldHVybnt4OjEvMCx5OjEvMCx6Omkuen19cmV0dXJuIHI+TWF0aC5QSSYmKHItPTIqTWF0aC5QSSksbz1NYXRoLnNpbihzKSxsPU1hdGguY29zKHMpLGg9bypvLG49dC9NYXRoLnNxcnQoMS1lKmgpLHt4OihuK2EpKmwqTWF0aC5jb3MocikseToobithKSpsKk1hdGguc2luKHIpLHo6KG4qKDEtZSkrYSkqb319ZnVuY3Rpb24gb2goaSxlLHQscil7dmFyIHM9MWUtMTIsYT1zKnMsbj0zMCxvLGgsbCxjLHUsZCxwLGcsZixtLHYseSxULHc9aS54LGI9aS55LEw9aS56P2kuejowLFAsayxpZTtpZihvPU1hdGguc3FydCh3KncrYipiKSxoPU1hdGguc3FydCh3KncrYipiK0wqTCksby90PHMpe2lmKFA9MCxoL3Q8cylyZXR1cm4gaz1LLGllPS1yLHt4OmkueCx5OmkueSx6Omkuen19ZWxzZSBQPU1hdGguYXRhbjIoYix3KTtsPUwvaCxjPW8vaCx1PTEvTWF0aC5zcXJ0KDEtZSooMi1lKSpjKmMpLGc9YyooMS1lKSp1LGY9bCp1LFQ9MDtkbyBUKysscD10L01hdGguc3FydCgxLWUqZipmKSxpZT1vKmcrTCpmLXAqKDEtZSpmKmYpLGQ9ZSpwLyhwK2llKSx1PTEvTWF0aC5zcXJ0KDEtZCooMi1kKSpjKmMpLG09YyooMS1kKSp1LHY9bCp1LHk9dipnLW0qZixnPW0sZj12O3doaWxlKHkqeT5hJiZUPG4pO3JldHVybiBrPU1hdGguYXRhbih2L01hdGguYWJzKG0pKSx7eDpQLHk6ayx6OmllfX1mdW5jdGlvbiB1ZChpLGUsdCl7aWYoZT09PUZ0KXJldHVybnt4OmkueCt0WzBdLHk6aS55K3RbMV0sejppLnordFsyXX07aWYoZT09PWZpKXt2YXIgcj10WzBdLHM9dFsxXSxhPXRbMl0sbj10WzNdLG89dFs0XSxoPXRbNV0sbD10WzZdO3JldHVybnt4OmwqKGkueC1oKmkueStvKmkueikrcix5OmwqKGgqaS54K2kueS1uKmkueikrcyx6OmwqKC1vKmkueCtuKmkueStpLnopK2F9fX1mdW5jdGlvbiBkZChpLGUsdCl7aWYoZT09PUZ0KXJldHVybnt4OmkueC10WzBdLHk6aS55LXRbMV0sejppLnotdFsyXX07aWYoZT09PWZpKXt2YXIgcj10WzBdLHM9dFsxXSxhPXRbMl0sbj10WzNdLG89dFs0XSxoPXRbNV0sbD10WzZdLGM9KGkueC1yKS9sLHU9KGkueS1zKS9sLGQ9KGkuei1hKS9sO3JldHVybnt4OmMraCp1LW8qZCx5Oi1oKmMrdStuKmQsejpvKmMtbip1K2R9fX1mdW5jdGlvbiB0YShpKXtyZXR1cm4gaT09PUZ0fHxpPT09Zml9ZnVuY3Rpb24gcGQoaSxlLHQpe2lmKGNkKGksZSl8fGkuZGF0dW1fdHlwZT09PWhzfHxlLmRhdHVtX3R5cGU9PT1ocylyZXR1cm4gdDt2YXIgcj1pLmEscz1pLmVzO2lmKGkuZGF0dW1fdHlwZT09PVhpKXt2YXIgYT1oaChpLCExLHQpO2lmKGEhPT0wKXJldHVybjtyPWhyLHM9bHJ9dmFyIG49ZS5hLG89ZS5iLGg9ZS5lcztpZihlLmRhdHVtX3R5cGU9PT1YaSYmKG49aHIsbz1taSxoPWxyKSxzPT09aCYmcj09PW4mJiF0YShpLmRhdHVtX3R5cGUpJiYhdGEoZS5kYXR1bV90eXBlKSlyZXR1cm4gdDtpZih0PW5oKHQscyxyKSx0YShpLmRhdHVtX3R5cGUpJiYodD11ZCh0LGkuZGF0dW1fdHlwZSxpLmRhdHVtX3BhcmFtcykpLHRhKGUuZGF0dW1fdHlwZSkmJih0PWRkKHQsZS5kYXR1bV90eXBlLGUuZGF0dW1fcGFyYW1zKSksdD1vaCh0LGgsbixvKSxlLmRhdHVtX3R5cGU9PT1YaSl7dmFyIGw9aGgoZSwhMCx0KTtpZihsIT09MClyZXR1cm59cmV0dXJuIHR9ZnVuY3Rpb24gaGgoaSxlLHQpe2lmKGkuZ3JpZHM9PT1udWxsfHxpLmdyaWRzLmxlbmd0aD09PTApcmV0dXJuIGNvbnNvbGUubG9nKCJHcmlkIHNoaWZ0IGdyaWRzIG5vdCBmb3VuZCIpLC0xO2Zvcih2YXIgcj17eDotdC54LHk6dC55fSxzPXt4Ok51bWJlci5OYU4seTpOdW1iZXIuTmFOfSxhPVtdLG49MDtuPGkuZ3JpZHMubGVuZ3RoO24rKyl7dmFyIG89aS5ncmlkc1tuXTtpZihhLnB1c2goby5uYW1lKSxvLmlzTnVsbCl7cz1yO2JyZWFrfWlmKG8uZ3JpZD09PW51bGwpe2lmKG8ubWFuZGF0b3J5KXJldHVybiBjb25zb2xlLmxvZygiVW5hYmxlIHRvIGZpbmQgbWFuZGF0b3J5IGdyaWQgJyIrby5uYW1lKyInIiksLTE7Y29udGludWV9dmFyIGg9by5ncmlkLnN1YmdyaWRzWzBdLGw9KE1hdGguYWJzKGguZGVsWzFdKStNYXRoLmFicyhoLmRlbFswXSkpLzFlNCxjPWgubGxbMF0tbCx1PWgubGxbMV0tbCxkPWgubGxbMF0rKGgubGltWzBdLTEpKmguZGVsWzBdK2wscD1oLmxsWzFdKyhoLmxpbVsxXS0xKSpoLmRlbFsxXStsO2lmKCEodT5yLnl8fGM+ci54fHxwPHIueXx8ZDxyLngpJiYocz1mZChyLGUsaCksIWlzTmFOKHMueCkpKWJyZWFrfXJldHVybiBpc05hTihzLngpPyhjb25zb2xlLmxvZygiRmFpbGVkIHRvIGZpbmQgYSBncmlkIHNoaWZ0IHRhYmxlIGZvciBsb2NhdGlvbiAnIistci54KnRpKyIgIityLnkqdGkrIiB0cmllZDogJyIrYSsiJyIpLC0xKToodC54PS1zLngsdC55PXMueSwwKX1mdW5jdGlvbiBmZChpLGUsdCl7dmFyIHI9e3g6TnVtYmVyLk5hTix5Ok51bWJlci5OYU59O2lmKGlzTmFOKGkueCkpcmV0dXJuIHI7dmFyIHM9e3g6aS54LHk6aS55fTtzLngtPXQubGxbMF0scy55LT10LmxsWzFdLHMueD11ZShzLngtTWF0aC5QSSkrTWF0aC5QSTt2YXIgYT1saChzLHQpO2lmKGUpe2lmKGlzTmFOKGEueCkpcmV0dXJuIHI7YS54PXMueC1hLngsYS55PXMueS1hLnk7dmFyIG49OSxvPTFlLTEyLGgsbDtkb3tpZihsPWxoKGEsdCksaXNOYU4obC54KSl7Y29uc29sZS5sb2coIkludmVyc2UgZ3JpZCBzaGlmdCBpdGVyYXRpb24gZmFpbGVkLCBwcmVzdW1hYmx5IGF0IGdyaWQgZWRnZS4gIFVzaW5nIGZpcnN0IGFwcHJveGltYXRpb24uIik7YnJlYWt9aD17eDpzLngtKGwueCthLngpLHk6cy55LShsLnkrYS55KX0sYS54Kz1oLngsYS55Kz1oLnl9d2hpbGUobi0tJiZNYXRoLmFicyhoLngpPm8mJk1hdGguYWJzKGgueSk+byk7aWYobjwwKXJldHVybiBjb25zb2xlLmxvZygiSW52ZXJzZSBncmlkIHNoaWZ0IGl0ZXJhdG9yIGZhaWxlZCB0byBjb252ZXJnZS4iKSxyO3IueD11ZShhLngrdC5sbFswXSksci55PWEueSt0LmxsWzFdfWVsc2UgaXNOYU4oYS54KXx8KHIueD1pLngrYS54LHIueT1pLnkrYS55KTtyZXR1cm4gcn1mdW5jdGlvbiBsaChpLGUpe3ZhciB0PXt4OmkueC9lLmRlbFswXSx5OmkueS9lLmRlbFsxXX0scj17eDpNYXRoLmZsb29yKHQueCkseTpNYXRoLmZsb29yKHQueSl9LHM9e3g6dC54LTEqci54LHk6dC55LTEqci55fSxhPXt4Ok51bWJlci5OYU4seTpOdW1iZXIuTmFOfSxuO2lmKHIueDwwfHxyLng+PWUubGltWzBdfHxyLnk8MHx8ci55Pj1lLmxpbVsxXSlyZXR1cm4gYTtuPXIueSplLmxpbVswXStyLng7dmFyIG89e3g6ZS5jdnNbbl1bMF0seTplLmN2c1tuXVsxXX07bisrO3ZhciBoPXt4OmUuY3ZzW25dWzBdLHk6ZS5jdnNbbl1bMV19O24rPWUubGltWzBdO3ZhciBsPXt4OmUuY3ZzW25dWzBdLHk6ZS5jdnNbbl1bMV19O24tLTt2YXIgYz17eDplLmN2c1tuXVswXSx5OmUuY3ZzW25dWzFdfSx1PXMueCpzLnksZD1zLngqKDEtcy55KSxwPSgxLXMueCkqKDEtcy55KSxnPSgxLXMueCkqcy55O3JldHVybiBhLng9cCpvLngrZCpoLngrZypjLngrdSpsLngsYS55PXAqby55K2QqaC55K2cqYy55K3UqbC55LGF9ZnVuY3Rpb24gY2goaSxlLHQpe3ZhciByPXQueCxzPXQueSxhPXQuenx8MCxuLG8saCxsPXt9O2ZvcihoPTA7aDwzO2grKylpZighKGUmJmg9PT0yJiZ0Lno9PT12b2lkIDApKXN3aXRjaChoPT09MD8obj1yLCJldyIuaW5kZXhPZihpLmF4aXNbaF0pIT09LTE/bz0ieCI6bz0ieSIpOmg9PT0xPyhuPXMsIm5zIi5pbmRleE9mKGkuYXhpc1toXSkhPT0tMT9vPSJ5IjpvPSJ4Iik6KG49YSxvPSJ6IiksaS5heGlzW2hdKXtjYXNlImUiOmxbb109bjticmVhaztjYXNlInciOmxbb109LW47YnJlYWs7Y2FzZSJuIjpsW29dPW47YnJlYWs7Y2FzZSJzIjpsW29dPS1uO2JyZWFrO2Nhc2UidSI6dFtvXSE9PXZvaWQgMCYmKGwuej1uKTticmVhaztjYXNlImQiOnRbb10hPT12b2lkIDAmJihsLno9LW4pO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIG51bGx9cmV0dXJuIGx9ZnVuY3Rpb24gdWgoaSl7dmFyIGU9e3g6aVswXSx5OmlbMV19O3JldHVybiBpLmxlbmd0aD4yJiYoZS56PWlbMl0pLGkubGVuZ3RoPjMmJihlLm09aVszXSksZX1mdW5jdGlvbiBtZChpKXtkaChpLngpLGRoKGkueSl9ZnVuY3Rpb24gZGgoaSl7aWYodHlwZW9mIE51bWJlci5pc0Zpbml0ZT09ImZ1bmN0aW9uIil7aWYoTnVtYmVyLmlzRmluaXRlKGkpKXJldHVybjt0aHJvdyBuZXcgVHlwZUVycm9yKCJjb29yZGluYXRlcyBtdXN0IGJlIGZpbml0ZSBudW1iZXJzIil9aWYodHlwZW9mIGkhPSJudW1iZXIifHxpIT09aXx8IWlzRmluaXRlKGkpKXRocm93IG5ldyBUeXBlRXJyb3IoImNvb3JkaW5hdGVzIG11c3QgYmUgZmluaXRlIG51bWJlcnMiKX1mdW5jdGlvbiBnZChpLGUpe3JldHVybihpLmRhdHVtLmRhdHVtX3R5cGU9PT1GdHx8aS5kYXR1bS5kYXR1bV90eXBlPT09ZmkpJiZlLmRhdHVtQ29kZSE9PSJXR1M4NCJ8fChlLmRhdHVtLmRhdHVtX3R5cGU9PT1GdHx8ZS5kYXR1bS5kYXR1bV90eXBlPT09ZmkpJiZpLmRhdHVtQ29kZSE9PSJXR1M4NCJ9ZnVuY3Rpb24gaWEoaSxlLHQscil7dmFyIHM7aWYoQXJyYXkuaXNBcnJheSh0KSYmKHQ9dWgodCkpLG1kKHQpLGkuZGF0dW0mJmUuZGF0dW0mJmdkKGksZSkmJihzPW5ldyByaSgiV0dTODQiKSx0PWlhKGkscyx0LHIpLGk9cyksciYmaS5heGlzIT09ImVudSImJih0PWNoKGksITEsdCkpLGkucHJvak5hbWU9PT0ibG9uZ2xhdCIpdD17eDp0LngqZ3QseTp0LnkqZ3Qsejp0Lnp8fDB9O2Vsc2UgaWYoaS50b19tZXRlciYmKHQ9e3g6dC54KmkudG9fbWV0ZXIseTp0LnkqaS50b19tZXRlcix6OnQuenx8MH0pLHQ9aS5pbnZlcnNlKHQpLCF0KXJldHVybjtpZihpLmZyb21fZ3JlZW53aWNoJiYodC54Kz1pLmZyb21fZ3JlZW53aWNoKSx0PXBkKGkuZGF0dW0sZS5kYXR1bSx0KSwhIXQpcmV0dXJuIGUuZnJvbV9ncmVlbndpY2gmJih0PXt4OnQueC1lLmZyb21fZ3JlZW53aWNoLHk6dC55LHo6dC56fHwwfSksZS5wcm9qTmFtZT09PSJsb25nbGF0Ij90PXt4OnQueCp0aSx5OnQueSp0aSx6OnQuenx8MH06KHQ9ZS5mb3J3YXJkKHQpLGUudG9fbWV0ZXImJih0PXt4OnQueC9lLnRvX21ldGVyLHk6dC55L2UudG9fbWV0ZXIsejp0Lnp8fDB9KSksciYmZS5heGlzIT09ImVudSI/Y2goZSwhMCx0KTp0fXZhciBwaD1yaSgiV0dTODQiKTtmdW5jdGlvbiBwbihpLGUsdCxyKXt2YXIgcyxhLG47cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/KHM9aWEoaSxlLHQscil8fHt4Ok5hTix5Ok5hTn0sdC5sZW5ndGg+Mj90eXBlb2YgaS5uYW1lPCJ1IiYmaS5uYW1lPT09Imdlb2NlbnQifHx0eXBlb2YgZS5uYW1lPCJ1IiYmZS5uYW1lPT09Imdlb2NlbnQiP3R5cGVvZiBzLno9PSJudW1iZXIiP1tzLngscy55LHMuel0uY29uY2F0KHQuc3BsaWNlKDMpKTpbcy54LHMueSx0WzJdXS5jb25jYXQodC5zcGxpY2UoMykpOltzLngscy55XS5jb25jYXQodC5zcGxpY2UoMikpOltzLngscy55XSk6KGE9aWEoaSxlLHQsciksbj1PYmplY3Qua2V5cyh0KSxuLmxlbmd0aD09PTJ8fG4uZm9yRWFjaChmdW5jdGlvbihvKXtpZih0eXBlb2YgaS5uYW1lPCJ1IiYmaS5uYW1lPT09Imdlb2NlbnQifHx0eXBlb2YgZS5uYW1lPCJ1IiYmZS5uYW1lPT09Imdlb2NlbnQiKXtpZihvPT09IngifHxvPT09InkifHxvPT09InoiKXJldHVybn1lbHNlIGlmKG89PT0ieCJ8fG89PT0ieSIpcmV0dXJuO2Fbb109dFtvXX0pLGEpfWZ1bmN0aW9uIGZoKGkpe3JldHVybiBpIGluc3RhbmNlb2Ygcmk/aTppLm9Qcm9qP2kub1Byb2o6cmkoaSl9ZnVuY3Rpb24gT3QoaSxlLHQpe2k9ZmgoaSk7dmFyIHI9ITEscztyZXR1cm4gdHlwZW9mIGU+InUiPyhlPWksaT1waCxyPSEwKToodHlwZW9mIGUueDwidSJ8fEFycmF5LmlzQXJyYXkoZSkpJiYodD1lLGU9aSxpPXBoLHI9ITApLGU9ZmgoZSksdD9wbihpLGUsdCk6KHM9e2ZvcndhcmQ6ZnVuY3Rpb24oYSxuKXtyZXR1cm4gcG4oaSxlLGEsbil9LGludmVyc2U6ZnVuY3Rpb24oYSxuKXtyZXR1cm4gcG4oZSxpLGEsbil9fSxyJiYocy5vUHJvaj1lKSxzKX12YXIgbWg9NixnaD0iQUpTQUpTIix2aD0iQUZBRkFGIixkcj02NSxQdD03MyxIdD03OSxmcz04Nixtcz05MCx2ZD17Zm9yd2FyZDp4aCxpbnZlcnNlOnhkLHRvUG9pbnQ6X2h9O2Z1bmN0aW9uIHhoKGksZSl7cmV0dXJuIGU9ZXx8NSxNZChfZCh7bGF0OmlbMV0sbG9uOmlbMF19KSxlKX1mdW5jdGlvbiB4ZChpKXt2YXIgZT1tbihiaChpLnRvVXBwZXJDYXNlKCkpKTtyZXR1cm4gZS5sYXQmJmUubG9uP1tlLmxvbixlLmxhdCxlLmxvbixlLmxhdF06W2UubGVmdCxlLmJvdHRvbSxlLnJpZ2h0LGUudG9wXX1mdW5jdGlvbiBfaChpKXt2YXIgZT1tbihiaChpLnRvVXBwZXJDYXNlKCkpKTtyZXR1cm4gZS5sYXQmJmUubG9uP1tlLmxvbixlLmxhdF06WyhlLmxlZnQrZS5yaWdodCkvMiwoZS50b3ArZS5ib3R0b20pLzJdfWZ1bmN0aW9uIGZuKGkpe3JldHVybiBpKihNYXRoLlBJLzE4MCl9ZnVuY3Rpb24geWgoaSl7cmV0dXJuIDE4MCooaS9NYXRoLlBJKX1mdW5jdGlvbiBfZChpKXt2YXIgZT1pLmxhdCx0PWkubG9uLHI9NjM3ODEzNyxzPS4wMDY2OTQzOCxhPS45OTk2LG4sbyxoLGwsYyx1LGQscD1mbihlKSxnPWZuKHQpLGYsbTttPU1hdGguZmxvb3IoKHQrMTgwKS82KSsxLHQ9PT0xODAmJihtPTYwKSxlPj01NiYmZTw2NCYmdD49MyYmdDwxMiYmKG09MzIpLGU+PTcyJiZlPDg0JiYodD49MCYmdDw5P209MzE6dD49OSYmdDwyMT9tPTMzOnQ+PTIxJiZ0PDMzP209MzU6dD49MzMmJnQ8NDImJihtPTM3KSksbj0obS0xKSo2LTE4MCszLGY9Zm4obiksbz1zLygxLXMpLGg9ci9NYXRoLnNxcnQoMS1zKk1hdGguc2luKHApKk1hdGguc2luKHApKSxsPU1hdGgudGFuKHApKk1hdGgudGFuKHApLGM9bypNYXRoLmNvcyhwKSpNYXRoLmNvcyhwKSx1PU1hdGguY29zKHApKihnLWYpLGQ9ciooKDEtcy80LTMqcypzLzY0LTUqcypzKnMvMjU2KSpwLSgzKnMvOCszKnMqcy8zMis0NSpzKnMqcy8xMDI0KSpNYXRoLnNpbigyKnApKygxNSpzKnMvMjU2KzQ1KnMqcypzLzEwMjQpKk1hdGguc2luKDQqcCktMzUqcypzKnMvMzA3MipNYXRoLnNpbig2KnApKTt2YXIgdj1hKmgqKHUrKDEtbCtjKSp1KnUqdS82Kyg1LTE4KmwrbCpsKzcyKmMtNTgqbykqdSp1KnUqdSp1LzEyMCkrNWU1LHk9YSooZCtoKk1hdGgudGFuKHApKih1KnUvMisoNS1sKzkqYys0KmMqYykqdSp1KnUqdS8yNCsoNjEtNTgqbCtsKmwrNjAwKmMtMzMwKm8pKnUqdSp1KnUqdSp1LzcyMCkpO3JldHVybiBlPDAmJih5Kz0xZTcpLHtub3J0aGluZzpNYXRoLnJvdW5kKHkpLGVhc3Rpbmc6TWF0aC5yb3VuZCh2KSx6b25lTnVtYmVyOm0sem9uZUxldHRlcjp5ZChlKX19ZnVuY3Rpb24gbW4oaSl7dmFyIGU9aS5ub3J0aGluZyx0PWkuZWFzdGluZyxyPWkuem9uZUxldHRlcixzPWkuem9uZU51bWJlcjtpZihzPDB8fHM+NjApcmV0dXJuIG51bGw7dmFyIGE9Ljk5OTYsbj02Mzc4MTM3LG89LjAwNjY5NDM4LGgsbD0oMS1NYXRoLnNxcnQoMS1vKSkvKDErTWF0aC5zcXJ0KDEtbykpLGMsdSxkLHAsZyxmLG0sdix5LFQ9dC01ZTUsdz1lO3I8Ik4iJiYody09MWU3KSxtPShzLTEpKjYtMTgwKzMsaD1vLygxLW8pLGY9dy9hLHY9Zi8obiooMS1vLzQtMypvKm8vNjQtNSpvKm8qby8yNTYpKSx5PXYrKDMqbC8yLTI3KmwqbCpsLzMyKSpNYXRoLnNpbigyKnYpKygyMSpsKmwvMTYtNTUqbCpsKmwqbC8zMikqTWF0aC5zaW4oNCp2KSsxNTEqbCpsKmwvOTYqTWF0aC5zaW4oNip2KSxjPW4vTWF0aC5zcXJ0KDEtbypNYXRoLnNpbih5KSpNYXRoLnNpbih5KSksdT1NYXRoLnRhbih5KSpNYXRoLnRhbih5KSxkPWgqTWF0aC5jb3MoeSkqTWF0aC5jb3MoeSkscD1uKigxLW8pL01hdGgucG93KDEtbypNYXRoLnNpbih5KSpNYXRoLnNpbih5KSwxLjUpLGc9VC8oYyphKTt2YXIgYj15LWMqTWF0aC50YW4oeSkvcCooZypnLzItKDUrMyp1KzEwKmQtNCpkKmQtOSpoKSpnKmcqZypnLzI0Kyg2MSs5MCp1KzI5OCpkKzQ1KnUqdS0yNTIqaC0zKmQqZCkqZypnKmcqZypnKmcvNzIwKTtiPXloKGIpO3ZhciBMPShnLSgxKzIqdStkKSpnKmcqZy82Kyg1LTIqZCsyOCp1LTMqZCpkKzgqaCsyNCp1KnUpKmcqZypnKmcqZy8xMjApL01hdGguY29zKHkpO0w9bSt5aChMKTt2YXIgUDtpZihpLmFjY3VyYWN5KXt2YXIgaz1tbih7bm9ydGhpbmc6aS5ub3J0aGluZytpLmFjY3VyYWN5LGVhc3Rpbmc6aS5lYXN0aW5nK2kuYWNjdXJhY3ksem9uZUxldHRlcjppLnpvbmVMZXR0ZXIsem9uZU51bWJlcjppLnpvbmVOdW1iZXJ9KTtQPXt0b3A6ay5sYXQscmlnaHQ6ay5sb24sYm90dG9tOmIsbGVmdDpMfX1lbHNlIFA9e2xhdDpiLGxvbjpMfTtyZXR1cm4gUH1mdW5jdGlvbiB5ZChpKXt2YXIgZT0iWiI7cmV0dXJuIDg0Pj1pJiZpPj03Mj9lPSJYIjo3Mj5pJiZpPj02ND9lPSJXIjo2ND5pJiZpPj01Nj9lPSJWIjo1Nj5pJiZpPj00OD9lPSJVIjo0OD5pJiZpPj00MD9lPSJUIjo0MD5pJiZpPj0zMj9lPSJTIjozMj5pJiZpPj0yND9lPSJSIjoyND5pJiZpPj0xNj9lPSJRIjoxNj5pJiZpPj04P2U9IlAiOjg+aSYmaT49MD9lPSJOIjowPmkmJmk+PS04P2U9Ik0iOi04PmkmJmk+PS0xNj9lPSJMIjotMTY+aSYmaT49LTI0P2U9IksiOi0yND5pJiZpPj0tMzI/ZT0iSiI6LTMyPmkmJmk+PS00MD9lPSJIIjotNDA+aSYmaT49LTQ4P2U9IkciOi00OD5pJiZpPj0tNTY/ZT0iRiI6LTU2PmkmJmk+PS02ND9lPSJFIjotNjQ+aSYmaT49LTcyP2U9IkQiOi03Mj5pJiZpPj0tODAmJihlPSJDIiksZX1mdW5jdGlvbiBNZChpLGUpe3ZhciB0PSIwMDAwMCIraS5lYXN0aW5nLHI9IjAwMDAwIitpLm5vcnRoaW5nO3JldHVybiBpLnpvbmVOdW1iZXIraS56b25lTGV0dGVyK2JkKGkuZWFzdGluZyxpLm5vcnRoaW5nLGkuem9uZU51bWJlcikrdC5zdWJzdHIodC5sZW5ndGgtNSxlKStyLnN1YnN0cihyLmxlbmd0aC01LGUpfWZ1bmN0aW9uIGJkKGksZSx0KXt2YXIgcj1NaCh0KSxzPU1hdGguZmxvb3IoaS8xZTUpLGE9TWF0aC5mbG9vcihlLzFlNSklMjA7cmV0dXJuIHdkKHMsYSxyKX1mdW5jdGlvbiBNaChpKXt2YXIgZT1pJW1oO3JldHVybiBlPT09MCYmKGU9bWgpLGV9ZnVuY3Rpb24gd2QoaSxlLHQpe3ZhciByPXQtMSxzPWdoLmNoYXJDb2RlQXQociksYT12aC5jaGFyQ29kZUF0KHIpLG49cytpLTEsbz1hK2UsaD0hMTtuPm1zJiYobj1uLW1zK2RyLTEsaD0hMCksKG49PT1QdHx8czxQdCYmbj5QdHx8KG4+UHR8fHM8UHQpJiZoKSYmbisrLChuPT09SHR8fHM8SHQmJm4+SHR8fChuPkh0fHxzPEh0KSYmaCkmJihuKyssbj09PVB0JiZuKyspLG4+bXMmJihuPW4tbXMrZHItMSksbz5mcz8obz1vLWZzK2RyLTEsaD0hMCk6aD0hMSwobz09PVB0fHxhPFB0JiZvPlB0fHwobz5QdHx8YTxQdCkmJmgpJiZvKyssKG89PT1IdHx8YTxIdCYmbz5IdHx8KG8+SHR8fGE8SHQpJiZoKSYmKG8rKyxvPT09UHQmJm8rKyksbz5mcyYmKG89by1mcytkci0xKTt2YXIgbD1TdHJpbmcuZnJvbUNoYXJDb2RlKG4pK1N0cmluZy5mcm9tQ2hhckNvZGUobyk7cmV0dXJuIGx9ZnVuY3Rpb24gYmgoaSl7aWYoaSYmaS5sZW5ndGg9PT0wKXRocm93Ik1HUlNQb2ludCBjb3ZlcnRpbmcgZnJvbSBub3RoaW5nIjtmb3IodmFyIGU9aS5sZW5ndGgsdD1udWxsLHI9IiIscyxhPTA7IS9bQS1aXS8udGVzdChzPWkuY2hhckF0KGEpKTspe2lmKGE+PTIpdGhyb3ciTUdSU1BvaW50IGJhZCBjb252ZXJzaW9uIGZyb206ICIraTtyKz1zLGErK312YXIgbj1wYXJzZUludChyLDEwKTtpZihhPT09MHx8YSszPmUpdGhyb3ciTUdSU1BvaW50IGJhZCBjb252ZXJzaW9uIGZyb206ICIraTt2YXIgbz1pLmNoYXJBdChhKyspO2lmKG88PSJBInx8bz09PSJCInx8bz09PSJZInx8bz49IloifHxvPT09IkkifHxvPT09Ik8iKXRocm93Ik1HUlNQb2ludCB6b25lIGxldHRlciAiK28rIiBub3QgaGFuZGxlZDogIitpO3Q9aS5zdWJzdHJpbmcoYSxhKz0yKTtmb3IodmFyIGg9TWgobiksbD1TZCh0LmNoYXJBdCgwKSxoKSxjPUVkKHQuY2hhckF0KDEpLGgpO2M8VGQobyk7KWMrPTJlNjt2YXIgdT1lLWE7aWYodSUyIT09MCl0aHJvd2BNR1JTUG9pbnQgaGFzIHRvIGhhdmUgYW4gZXZlbiBudW1iZXIgCm9mIGRpZ2l0cyBhZnRlciB0aGUgem9uZSBsZXR0ZXIgYW5kIHR3byAxMDBrbSBsZXR0ZXJzIC0gZnJvbnQgCmhhbGYgZm9yIGVhc3RpbmcgbWV0ZXJzLCBzZWNvbmQgaGFsZiBmb3IgCm5vcnRoaW5nIG1ldGVyc2AraTt2YXIgZD11LzIscD0wLGc9MCxmLG0sdix5LFQ7cmV0dXJuIGQ+MCYmKGY9MWU1L01hdGgucG93KDEwLGQpLG09aS5zdWJzdHJpbmcoYSxhK2QpLHA9cGFyc2VGbG9hdChtKSpmLHY9aS5zdWJzdHJpbmcoYStkKSxnPXBhcnNlRmxvYXQodikqZikseT1wK2wsVD1nK2Mse2Vhc3Rpbmc6eSxub3J0aGluZzpULHpvbmVMZXR0ZXI6byx6b25lTnVtYmVyOm4sYWNjdXJhY3k6Zn19ZnVuY3Rpb24gU2QoaSxlKXtmb3IodmFyIHQ9Z2guY2hhckNvZGVBdChlLTEpLHI9MWU1LHM9ITE7dCE9PWkuY2hhckNvZGVBdCgwKTspe2lmKHQrKyx0PT09UHQmJnQrKyx0PT09SHQmJnQrKyx0Pm1zKXtpZihzKXRocm93IkJhZCBjaGFyYWN0ZXI6ICIraTt0PWRyLHM9ITB9cis9MWU1fXJldHVybiByfWZ1bmN0aW9uIEVkKGksZSl7aWYoaT4iViIpdGhyb3ciTUdSU1BvaW50IGdpdmVuIGludmFsaWQgTm9ydGhpbmcgIitpO2Zvcih2YXIgdD12aC5jaGFyQ29kZUF0KGUtMSkscj0wLHM9ITE7dCE9PWkuY2hhckNvZGVBdCgwKTspe2lmKHQrKyx0PT09UHQmJnQrKyx0PT09SHQmJnQrKyx0PmZzKXtpZihzKXRocm93IkJhZCBjaGFyYWN0ZXI6ICIraTt0PWRyLHM9ITB9cis9MWU1fXJldHVybiByfWZ1bmN0aW9uIFRkKGkpe3ZhciBlO3N3aXRjaChpKXtjYXNlIkMiOmU9MTFlNTticmVhaztjYXNlIkQiOmU9MmU2O2JyZWFrO2Nhc2UiRSI6ZT0yOGU1O2JyZWFrO2Nhc2UiRiI6ZT0zN2U1O2JyZWFrO2Nhc2UiRyI6ZT00NmU1O2JyZWFrO2Nhc2UiSCI6ZT01NWU1O2JyZWFrO2Nhc2UiSiI6ZT02NGU1O2JyZWFrO2Nhc2UiSyI6ZT03M2U1O2JyZWFrO2Nhc2UiTCI6ZT04MmU1O2JyZWFrO2Nhc2UiTSI6ZT05MWU1O2JyZWFrO2Nhc2UiTiI6ZT0wO2JyZWFrO2Nhc2UiUCI6ZT04ZTU7YnJlYWs7Y2FzZSJRIjplPTE3ZTU7YnJlYWs7Y2FzZSJSIjplPTI2ZTU7YnJlYWs7Y2FzZSJTIjplPTM1ZTU7YnJlYWs7Y2FzZSJUIjplPTQ0ZTU7YnJlYWs7Y2FzZSJVIjplPTUzZTU7YnJlYWs7Y2FzZSJWIjplPTYyZTU7YnJlYWs7Y2FzZSJXIjplPTdlNjticmVhaztjYXNlIlgiOmU9NzllNTticmVhaztkZWZhdWx0OmU9LTF9aWYoZT49MClyZXR1cm4gZTt0aHJvdyJJbnZhbGlkIHpvbmUgbGV0dGVyOiAiK2l9ZnVuY3Rpb24gcHIoaSxlLHQpe2lmKCEodGhpcyBpbnN0YW5jZW9mIHByKSlyZXR1cm4gbmV3IHByKGksZSx0KTtpZihBcnJheS5pc0FycmF5KGkpKXRoaXMueD1pWzBdLHRoaXMueT1pWzFdLHRoaXMuej1pWzJdfHwwO2Vsc2UgaWYodHlwZW9mIGk9PSJvYmplY3QiKXRoaXMueD1pLngsdGhpcy55PWkueSx0aGlzLno9aS56fHwwO2Vsc2UgaWYodHlwZW9mIGk9PSJzdHJpbmciJiZ0eXBlb2YgZT4idSIpe3ZhciByPWkuc3BsaXQoIiwiKTt0aGlzLng9cGFyc2VGbG9hdChyWzBdLDEwKSx0aGlzLnk9cGFyc2VGbG9hdChyWzFdLDEwKSx0aGlzLno9cGFyc2VGbG9hdChyWzJdLDEwKXx8MH1lbHNlIHRoaXMueD1pLHRoaXMueT1lLHRoaXMuej10fHwwO2NvbnNvbGUud2FybigicHJvajQuUG9pbnQgd2lsbCBiZSByZW1vdmVkIGluIHZlcnNpb24gMywgdXNlIHByb2o0LnRvUG9pbnQiKX1wci5mcm9tTUdSUz1mdW5jdGlvbihpKXtyZXR1cm4gbmV3IHByKF9oKGkpKX0scHIucHJvdG90eXBlLnRvTUdSUz1mdW5jdGlvbihpKXtyZXR1cm4geGgoW3RoaXMueCx0aGlzLnldLGkpfTt2YXIgQWQ9MSxDZD0uMjUsd2g9LjA0Njg3NSxTaD0uMDE5NTMxMjUsRWg9LjAxMDY4MTE1MjM0Mzc1LExkPS43NSxSZD0uNDY4NzUsUGQ9LjAxMzAyMDgzMzMzMzMzMzMzNCxJZD0uMDA3MTIwNzY4MjI5MTY2NjY3LE5kPS4zNjQ1ODMzMzMzMzMzMzMzLERkPS4wMDU2OTY2MTQ1ODMzMzMzMzMsT2Q9LjMwNzYxNzE4NzU7ZnVuY3Rpb24gVGgoaSl7dmFyIGU9W107ZVswXT1BZC1pKihDZCtpKih3aCtpKihTaCtpKkVoKSkpLGVbMV09aSooTGQtaSood2graSooU2graSpFaCkpKTt2YXIgdD1pKmk7cmV0dXJuIGVbMl09dCooUmQtaSooUGQraSpJZCkpLHQqPWksZVszXT10KihOZC1pKkRkKSxlWzRdPXQqaSpPZCxlfWZ1bmN0aW9uIHJhKGksZSx0LHIpe3JldHVybiB0Kj1lLGUqPWUsclswXSppLXQqKHJbMV0rZSooclsyXStlKihyWzNdK2Uqcls0XSkpKX12YXIgemQ9MjA7ZnVuY3Rpb24gQWgoaSxlLHQpe2Zvcih2YXIgcj0xLygxLWUpLHM9aSxhPXpkO2E7LS1hKXt2YXIgbj1NYXRoLnNpbihzKSxvPTEtZSpuKm47aWYobz0ocmEocyxuLE1hdGguY29zKHMpLHQpLWkpKihvKk1hdGguc3FydChvKSkqcixzLT1vLE1hdGguYWJzKG8pPG5lKXJldHVybiBzfXJldHVybiBzfWZ1bmN0aW9uIEJkKCl7dGhpcy54MD10aGlzLngwIT09dm9pZCAwP3RoaXMueDA6MCx0aGlzLnkwPXRoaXMueTAhPT12b2lkIDA/dGhpcy55MDowLHRoaXMubG9uZzA9dGhpcy5sb25nMCE9PXZvaWQgMD90aGlzLmxvbmcwOjAsdGhpcy5sYXQwPXRoaXMubGF0MCE9PXZvaWQgMD90aGlzLmxhdDA6MCx0aGlzLmVzJiYodGhpcy5lbj1UaCh0aGlzLmVzKSx0aGlzLm1sMD1yYSh0aGlzLmxhdDAsTWF0aC5zaW4odGhpcy5sYXQwKSxNYXRoLmNvcyh0aGlzLmxhdDApLHRoaXMuZW4pKX1mdW5jdGlvbiBVZChpKXt2YXIgZT1pLngsdD1pLnkscj11ZShlLXRoaXMubG9uZzApLHMsYSxuLG89TWF0aC5zaW4odCksaD1NYXRoLmNvcyh0KTtpZih0aGlzLmVzKXt2YXIgbD1oKnIsYz1NYXRoLnBvdyhsLDIpLHU9dGhpcy5lcDIqTWF0aC5wb3coaCwyKSxkPU1hdGgucG93KHUsMikscD1NYXRoLmFicyhoKT5uZT9NYXRoLnRhbih0KTowLGc9TWF0aC5wb3cocCwyKSxmPU1hdGgucG93KGcsMik7cz0xLXRoaXMuZXMqTWF0aC5wb3cobywyKSxsPWwvTWF0aC5zcXJ0KHMpO3ZhciBtPXJhKHQsbyxoLHRoaXMuZW4pO2E9dGhpcy5hKih0aGlzLmswKmwqKDErYy82KigxLWcrdStjLzIwKig1LTE4KmcrZisxNCp1LTU4KmcqdStjLzQyKig2MSsxNzkqZi1mKmctNDc5KmcpKSkpKSt0aGlzLngwLG49dGhpcy5hKih0aGlzLmswKihtLXRoaXMubWwwK28qcipsLzIqKDErYy8xMiooNS1nKzkqdSs0KmQrYy8zMCooNjErZi01OCpnKzI3MCp1LTMzMCpnKnUrYy81NiooMTM4NSs1NDMqZi1mKmctMzExMSpnKSkpKSkpK3RoaXMueTB9ZWxzZXt2YXIgdj1oKk1hdGguc2luKHIpO2lmKE1hdGguYWJzKE1hdGguYWJzKHYpLTEpPG5lKXJldHVybiA5MztpZihhPS41KnRoaXMuYSp0aGlzLmswKk1hdGgubG9nKCgxK3YpLygxLXYpKSt0aGlzLngwLG49aCpNYXRoLmNvcyhyKS9NYXRoLnNxcnQoMS1NYXRoLnBvdyh2LDIpKSx2PU1hdGguYWJzKG4pLHY+PTEpe2lmKHYtMT5uZSlyZXR1cm4gOTM7bj0wfWVsc2Ugbj1NYXRoLmFjb3Mobik7dDwwJiYobj0tbiksbj10aGlzLmEqdGhpcy5rMCoobi10aGlzLmxhdDApK3RoaXMueTB9cmV0dXJuIGkueD1hLGkueT1uLGl9ZnVuY3Rpb24gRmQoaSl7dmFyIGUsdCxyLHMsYT0oaS54LXRoaXMueDApKigxL3RoaXMuYSksbj0oaS55LXRoaXMueTApKigxL3RoaXMuYSk7aWYodGhpcy5lcylpZihlPXRoaXMubWwwK24vdGhpcy5rMCx0PUFoKGUsdGhpcy5lcyx0aGlzLmVuKSxNYXRoLmFicyh0KTxLKXt2YXIgbz1NYXRoLnNpbih0KSxoPU1hdGguY29zKHQpLGw9TWF0aC5hYnMoaCk+bmU/TWF0aC50YW4odCk6MCxjPXRoaXMuZXAyKk1hdGgucG93KGgsMiksdT1NYXRoLnBvdyhjLDIpLGQ9TWF0aC5wb3cobCwyKSxwPU1hdGgucG93KGQsMik7ZT0xLXRoaXMuZXMqTWF0aC5wb3cobywyKTt2YXIgZz1hKk1hdGguc3FydChlKS90aGlzLmswLGY9TWF0aC5wb3coZywyKTtlPWUqbCxyPXQtZSpmLygxLXRoaXMuZXMpKi41KigxLWYvMTIqKDUrMypkLTkqYypkK2MtNCp1LWYvMzAqKDYxKzkwKmQtMjUyKmMqZCs0NSpwKzQ2KmMtZi81NiooMTM4NSszNjMzKmQrNDA5NSpwKzE1NzQqcCpkKSkpKSxzPXVlKHRoaXMubG9uZzArZyooMS1mLzYqKDErMipkK2MtZi8yMCooNSsyOCpkKzI0KnArOCpjKmQrNipjLWYvNDIqKDYxKzY2MipkKzEzMjAqcCs3MjAqcCpkKSkpKS9oKX1lbHNlIHI9SypkcyhuKSxzPTA7ZWxzZXt2YXIgbT1NYXRoLmV4cChhL3RoaXMuazApLHY9LjUqKG0tMS9tKSx5PXRoaXMubGF0MCtuL3RoaXMuazAsVD1NYXRoLmNvcyh5KTtlPU1hdGguc3FydCgoMS1NYXRoLnBvdyhULDIpKS8oMStNYXRoLnBvdyh2LDIpKSkscj1NYXRoLmFzaW4oZSksbjwwJiYocj0tciksdj09PTAmJlQ9PT0wP3M9MDpzPXVlKE1hdGguYXRhbjIodixUKSt0aGlzLmxvbmcwKX1yZXR1cm4gaS54PXMsaS55PXIsaX12YXIgSGQ9WyJGYXN0X1RyYW5zdmVyc2VfTWVyY2F0b3IiLCJGYXN0IFRyYW5zdmVyc2UgTWVyY2F0b3IiXSxzYT17aW5pdDpCZCxmb3J3YXJkOlVkLGludmVyc2U6RmQsbmFtZXM6SGR9O2Z1bmN0aW9uIENoKGkpe3ZhciBlPU1hdGguZXhwKGkpO3JldHVybiBlPShlLTEvZSkvMixlfWZ1bmN0aW9uIFd0KGksZSl7aT1NYXRoLmFicyhpKSxlPU1hdGguYWJzKGUpO3ZhciB0PU1hdGgubWF4KGksZSkscj1NYXRoLm1pbihpLGUpLyh0fHwxKTtyZXR1cm4gdCpNYXRoLnNxcnQoMStNYXRoLnBvdyhyLDIpKX1mdW5jdGlvbiBrZChpKXt2YXIgZT0xK2ksdD1lLTE7cmV0dXJuIHQ9PT0wP2k6aSpNYXRoLmxvZyhlKS90fWZ1bmN0aW9uIEdkKGkpe3ZhciBlPU1hdGguYWJzKGkpO3JldHVybiBlPWtkKGUqKDErZS8oV3QoMSxlKSsxKSkpLGk8MD8tZTplfWZ1bmN0aW9uIGduKGksZSl7Zm9yKHZhciB0PTIqTWF0aC5jb3MoMiplKSxyPWkubGVuZ3RoLTEscz1pW3JdLGE9MCxuOy0tcj49MDspbj0tYSt0KnMraVtyXSxhPXMscz1uO3JldHVybiBlK24qTWF0aC5zaW4oMiplKX1mdW5jdGlvbiBWZChpLGUpe2Zvcih2YXIgdD0yKk1hdGguY29zKGUpLHI9aS5sZW5ndGgtMSxzPWlbcl0sYT0wLG47LS1yPj0wOyluPS1hK3QqcytpW3JdLGE9cyxzPW47cmV0dXJuIE1hdGguc2luKGUpKm59ZnVuY3Rpb24gV2QoaSl7dmFyIGU9TWF0aC5leHAoaSk7cmV0dXJuIGU9KGUrMS9lKS8yLGV9ZnVuY3Rpb24gTGgoaSxlLHQpe2Zvcih2YXIgcj1NYXRoLnNpbihlKSxzPU1hdGguY29zKGUpLGE9Q2godCksbj1XZCh0KSxvPTIqcypuLGg9LTIqciphLGw9aS5sZW5ndGgtMSxjPWlbbF0sdT0wLGQ9MCxwPTAsZyxmOy0tbD49MDspZz1kLGY9dSxkPWMsdT1wLGM9LWcrbypkLWgqdStpW2xdLHA9LWYraCpkK28qdTtyZXR1cm4gbz1yKm4saD1zKmEsW28qYy1oKnAsbypwK2gqY119ZnVuY3Rpb24gamQoKXtpZighdGhpcy5hcHByb3gmJihpc05hTih0aGlzLmVzKXx8dGhpcy5lczw9MCkpdGhyb3cgbmV3IEVycm9yKCdJbmNvcnJlY3QgZWxsaXB0aWNhbCB1c2FnZS4gVHJ5IHVzaW5nIHRoZSArYXBwcm94IG9wdGlvbiBpbiB0aGUgcHJvaiBzdHJpbmcsIG9yIFBST0pFQ1RJT05bIkZhc3RfVHJhbnN2ZXJzZV9NZXJjYXRvciJdIGluIHRoZSBXS1QuJyk7dGhpcy5hcHByb3gmJihzYS5pbml0LmFwcGx5KHRoaXMpLHRoaXMuZm9yd2FyZD1zYS5mb3J3YXJkLHRoaXMuaW52ZXJzZT1zYS5pbnZlcnNlKSx0aGlzLngwPXRoaXMueDAhPT12b2lkIDA/dGhpcy54MDowLHRoaXMueTA9dGhpcy55MCE9PXZvaWQgMD90aGlzLnkwOjAsdGhpcy5sb25nMD10aGlzLmxvbmcwIT09dm9pZCAwP3RoaXMubG9uZzA6MCx0aGlzLmxhdDA9dGhpcy5sYXQwIT09dm9pZCAwP3RoaXMubGF0MDowLHRoaXMuY2diPVtdLHRoaXMuY2JnPVtdLHRoaXMudXRnPVtdLHRoaXMuZ3R1PVtdO3ZhciBpPXRoaXMuZXMvKDErTWF0aC5zcXJ0KDEtdGhpcy5lcykpLGU9aS8oMi1pKSx0PWU7dGhpcy5jZ2JbMF09ZSooMitlKigtMi8zK2UqKC0yK2UqKDExNi80NStlKigyNi80NStlKigtMjg1NC82NzUpKSkpKSksdGhpcy5jYmdbMF09ZSooLTIrZSooMi8zK2UqKDQvMytlKigtODIvNDUrZSooMzIvNDUrZSooNDY0Mi80NzI1KSkpKSkpLHQ9dCplLHRoaXMuY2diWzFdPXQqKDcvMytlKigtOC81K2UqKC0yMjcvNDUrZSooMjcwNC8zMTUrZSooMjMyMy85NDUpKSkpKSx0aGlzLmNiZ1sxXT10Kig1LzMrZSooLTE2LzE1K2UqKC0xMy85K2UqKDkwNC8zMTUrZSooLTE1MjIvOTQ1KSkpKSksdD10KmUsdGhpcy5jZ2JbMl09dCooNTYvMTUrZSooLTEzNi8zNStlKigtMTI2Mi8xMDUrZSooNzM4MTQvMjgzNSkpKSksdGhpcy5jYmdbMl09dCooLTI2LzE1K2UqKDM0LzIxK2UqKDgvNStlKigtMTI2ODYvMjgzNSkpKSksdD10KmUsdGhpcy5jZ2JbM109dCooNDI3OS82MzArZSooLTMzMi8zNStlKigtMzk5NTcyLzE0MTc1KSkpLHRoaXMuY2JnWzNdPXQqKDEyMzcvNjMwK2UqKC0xMi81K2UqKC0yNDgzMi8xNDE3NSkpKSx0PXQqZSx0aGlzLmNnYls0XT10Kig0MTc0LzMxNStlKigtMTQ0ODM4LzYyMzcpKSx0aGlzLmNiZ1s0XT10KigtNzM0LzMxNStlKigxMDk1OTgvMzExODUpKSx0PXQqZSx0aGlzLmNnYls1XT10Kig2MDE2NzYvMjIyNzUpLHRoaXMuY2JnWzVdPXQqKDQ0NDMzNy8xNTU5MjUpLHQ9TWF0aC5wb3coZSwyKSx0aGlzLlFuPXRoaXMuazAvKDErZSkqKDErdCooMS80K3QqKDEvNjQrdC8yNTYpKSksdGhpcy51dGdbMF09ZSooLS41K2UqKDIvMytlKigtMzcvOTYrZSooMS8zNjArZSooODEvNTEyK2UqKC05NjE5OS82MDQ4MDApKSkpKSksdGhpcy5ndHVbMF09ZSooLjUrZSooLTIvMytlKig1LzE2K2UqKDQxLzE4MCtlKigtMTI3LzI4OCtlKig3ODkxLzM3ODAwKSkpKSkpLHRoaXMudXRnWzFdPXQqKC0xLzQ4K2UqKC0xLzE1K2UqKDQzNy8xNDQwK2UqKC00Ni8xMDUrZSooMTExODcxMS8zODcwNzIwKSkpKSksdGhpcy5ndHVbMV09dCooMTMvNDgrZSooLTMvNStlKig1NTcvMTQ0MCtlKigyODEvNjMwK2UqKC0xOTgzNDMzLzE5MzUzNjApKSkpKSx0PXQqZSx0aGlzLnV0Z1syXT10KigtMTcvNDgwK2UqKDM3Lzg0MCtlKigyMDkvNDQ4MCtlKigtNTU2OS85MDcyMCkpKSksdGhpcy5ndHVbMl09dCooNjEvMjQwK2UqKC0xMDMvMTQwK2UqKDE1MDYxLzI2ODgwK2UqKDE2NzYwMy8xODE0NDApKSkpLHQ9dCplLHRoaXMudXRnWzNdPXQqKC00Mzk3LzE2MTI4MCtlKigxMS81MDQrZSooODMwMjUxLzcyNTc2MDApKSksdGhpcy5ndHVbM109dCooNDk1NjEvMTYxMjgwK2UqKC0xNzkvMTY4K2UqKDY2MDE2NjEvNzI1NzYwMCkpKSx0PXQqZSx0aGlzLnV0Z1s0XT10KigtNDU4My8xNjEyODArZSooMTA4ODQ3LzM5OTE2ODApKSx0aGlzLmd0dVs0XT10KigzNDcyOS84MDY0MCtlKigtMzQxODg4OS8xOTk1ODQwKSksdD10KmUsdGhpcy51dGdbNV09dCooLTIwNjQ4NjkzLzYzODY2ODgwMCksdGhpcy5ndHVbNV09dCooMjEyMzc4OTQxLzMxOTMzNDQwMCk7dmFyIHI9Z24odGhpcy5jYmcsdGhpcy5sYXQwKTt0aGlzLlpiPS10aGlzLlFuKihyK1ZkKHRoaXMuZ3R1LDIqcikpfWZ1bmN0aW9uIHFkKGkpe3ZhciBlPXVlKGkueC10aGlzLmxvbmcwKSx0PWkueTt0PWduKHRoaXMuY2JnLHQpO3ZhciByPU1hdGguc2luKHQpLHM9TWF0aC5jb3ModCksYT1NYXRoLnNpbihlKSxuPU1hdGguY29zKGUpO3Q9TWF0aC5hdGFuMihyLG4qcyksZT1NYXRoLmF0YW4yKGEqcyxXdChyLHMqbikpLGU9R2QoTWF0aC50YW4oZSkpO3ZhciBvPUxoKHRoaXMuZ3R1LDIqdCwyKmUpO3Q9dCtvWzBdLGU9ZStvWzFdO3ZhciBoLGw7cmV0dXJuIE1hdGguYWJzKGUpPD0yLjYyMzM5NTE2Mjc3OD8oaD10aGlzLmEqKHRoaXMuUW4qZSkrdGhpcy54MCxsPXRoaXMuYSoodGhpcy5Rbip0K3RoaXMuWmIpK3RoaXMueTApOihoPTEvMCxsPTEvMCksaS54PWgsaS55PWwsaX1mdW5jdGlvbiBYZChpKXt2YXIgZT0oaS54LXRoaXMueDApKigxL3RoaXMuYSksdD0oaS55LXRoaXMueTApKigxL3RoaXMuYSk7dD0odC10aGlzLlpiKS90aGlzLlFuLGU9ZS90aGlzLlFuO3ZhciByLHM7aWYoTWF0aC5hYnMoZSk8PTIuNjIzMzk1MTYyNzc4KXt2YXIgYT1MaCh0aGlzLnV0ZywyKnQsMiplKTt0PXQrYVswXSxlPWUrYVsxXSxlPU1hdGguYXRhbihDaChlKSk7dmFyIG49TWF0aC5zaW4odCksbz1NYXRoLmNvcyh0KSxoPU1hdGguc2luKGUpLGw9TWF0aC5jb3MoZSk7dD1NYXRoLmF0YW4yKG4qbCxXdChoLGwqbykpLGU9TWF0aC5hdGFuMihoLGwqbykscj11ZShlK3RoaXMubG9uZzApLHM9Z24odGhpcy5jZ2IsdCl9ZWxzZSByPTEvMCxzPTEvMDtyZXR1cm4gaS54PXIsaS55PXMsaX12YXIgSmQ9WyJFeHRlbmRlZF9UcmFuc3ZlcnNlX01lcmNhdG9yIiwiRXh0ZW5kZWQgVHJhbnN2ZXJzZSBNZXJjYXRvciIsImV0bWVyYyIsIlRyYW5zdmVyc2VfTWVyY2F0b3IiLCJUcmFuc3ZlcnNlIE1lcmNhdG9yIiwidG1lcmMiXSxhYT17aW5pdDpqZCxmb3J3YXJkOnFkLGludmVyc2U6WGQsbmFtZXM6SmR9O2Z1bmN0aW9uIFlkKGksZSl7aWYoaT09PXZvaWQgMCl7aWYoaT1NYXRoLmZsb29yKCh1ZShlKStNYXRoLlBJKSozMC9NYXRoLlBJKSsxLGk8MClyZXR1cm4gMDtpZihpPjYwKXJldHVybiA2MH1yZXR1cm4gaX12YXIgWmQ9ImV0bWVyYyI7ZnVuY3Rpb24gS2QoKXt2YXIgaT1ZZCh0aGlzLnpvbmUsdGhpcy5sb25nMCk7aWYoaT09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoInVua25vd24gdXRtIHpvbmUiKTt0aGlzLmxhdDA9MCx0aGlzLmxvbmcwPSg2Kk1hdGguYWJzKGkpLTE4MykqZ3QsdGhpcy54MD01ZTUsdGhpcy55MD10aGlzLnV0bVNvdXRoPzFlNzowLHRoaXMuazA9Ljk5OTYsYWEuaW5pdC5hcHBseSh0aGlzKSx0aGlzLmZvcndhcmQ9YWEuZm9yd2FyZCx0aGlzLmludmVyc2U9YWEuaW52ZXJzZX12YXIgUWQ9WyJVbml2ZXJzYWwgVHJhbnN2ZXJzZSBNZXJjYXRvciBTeXN0ZW0iLCJ1dG0iXSwkZD17aW5pdDpLZCxuYW1lczpRZCxkZXBlbmRzT246WmR9O2Z1bmN0aW9uIHZuKGksZSl7cmV0dXJuIE1hdGgucG93KCgxLWkpLygxK2kpLGUpfXZhciBlcD0yMDtmdW5jdGlvbiB0cCgpe3ZhciBpPU1hdGguc2luKHRoaXMubGF0MCksZT1NYXRoLmNvcyh0aGlzLmxhdDApO2UqPWUsdGhpcy5yYz1NYXRoLnNxcnQoMS10aGlzLmVzKS8oMS10aGlzLmVzKmkqaSksdGhpcy5DPU1hdGguc3FydCgxK3RoaXMuZXMqZSplLygxLXRoaXMuZXMpKSx0aGlzLnBoaWMwPU1hdGguYXNpbihpL3RoaXMuQyksdGhpcy5yYXRleHA9LjUqdGhpcy5DKnRoaXMuZSx0aGlzLks9TWF0aC50YW4oLjUqdGhpcy5waGljMCtHZSkvKE1hdGgucG93KE1hdGgudGFuKC41KnRoaXMubGF0MCtHZSksdGhpcy5DKSp2bih0aGlzLmUqaSx0aGlzLnJhdGV4cCkpfWZ1bmN0aW9uIGlwKGkpe3ZhciBlPWkueCx0PWkueTtyZXR1cm4gaS55PTIqTWF0aC5hdGFuKHRoaXMuSypNYXRoLnBvdyhNYXRoLnRhbiguNSp0K0dlKSx0aGlzLkMpKnZuKHRoaXMuZSpNYXRoLnNpbih0KSx0aGlzLnJhdGV4cCkpLUssaS54PXRoaXMuQyplLGl9ZnVuY3Rpb24gcnAoaSl7Zm9yKHZhciBlPTFlLTE0LHQ9aS54L3RoaXMuQyxyPWkueSxzPU1hdGgucG93KE1hdGgudGFuKC41KnIrR2UpL3RoaXMuSywxL3RoaXMuQyksYT1lcDthPjAmJihyPTIqTWF0aC5hdGFuKHMqdm4odGhpcy5lKk1hdGguc2luKGkueSksLS41KnRoaXMuZSkpLUssIShNYXRoLmFicyhyLWkueSk8ZSkpOy0tYSlpLnk9cjtyZXR1cm4gYT8oaS54PXQsaS55PXIsaSk6bnVsbH12YXIgc3A9WyJnYXVzcyJdLHhuPXtpbml0OnRwLGZvcndhcmQ6aXAsaW52ZXJzZTpycCxuYW1lczpzcH07ZnVuY3Rpb24gYXAoKXt4bi5pbml0LmFwcGx5KHRoaXMpLCEhdGhpcy5yYyYmKHRoaXMuc2luYzA9TWF0aC5zaW4odGhpcy5waGljMCksdGhpcy5jb3NjMD1NYXRoLmNvcyh0aGlzLnBoaWMwKSx0aGlzLlIyPTIqdGhpcy5yYyx0aGlzLnRpdGxlfHwodGhpcy50aXRsZT0iT2JsaXF1ZSBTdGVyZW9ncmFwaGljIEFsdGVybmF0aXZlIikpfWZ1bmN0aW9uIG5wKGkpe3ZhciBlLHQscixzO3JldHVybiBpLng9dWUoaS54LXRoaXMubG9uZzApLHhuLmZvcndhcmQuYXBwbHkodGhpcyxbaV0pLGU9TWF0aC5zaW4oaS55KSx0PU1hdGguY29zKGkueSkscj1NYXRoLmNvcyhpLngpLHM9dGhpcy5rMCp0aGlzLlIyLygxK3RoaXMuc2luYzAqZSt0aGlzLmNvc2MwKnQqciksaS54PXMqdCpNYXRoLnNpbihpLngpLGkueT1zKih0aGlzLmNvc2MwKmUtdGhpcy5zaW5jMCp0KnIpLGkueD10aGlzLmEqaS54K3RoaXMueDAsaS55PXRoaXMuYSppLnkrdGhpcy55MCxpfWZ1bmN0aW9uIG9wKGkpe3ZhciBlLHQscixzLGE7aWYoaS54PShpLngtdGhpcy54MCkvdGhpcy5hLGkueT0oaS55LXRoaXMueTApL3RoaXMuYSxpLngvPXRoaXMuazAsaS55Lz10aGlzLmswLGE9TWF0aC5zcXJ0KGkueCppLngraS55KmkueSkpe3ZhciBuPTIqTWF0aC5hdGFuMihhLHRoaXMuUjIpO2U9TWF0aC5zaW4obiksdD1NYXRoLmNvcyhuKSxzPU1hdGguYXNpbih0KnRoaXMuc2luYzAraS55KmUqdGhpcy5jb3NjMC9hKSxyPU1hdGguYXRhbjIoaS54KmUsYSp0aGlzLmNvc2MwKnQtaS55KnRoaXMuc2luYzAqZSl9ZWxzZSBzPXRoaXMucGhpYzAscj0wO3JldHVybiBpLng9cixpLnk9cyx4bi5pbnZlcnNlLmFwcGx5KHRoaXMsW2ldKSxpLng9dWUoaS54K3RoaXMubG9uZzApLGl9dmFyIGhwPVsiU3RlcmVvZ3JhcGhpY19Ob3J0aF9Qb2xlIiwiT2JsaXF1ZV9TdGVyZW9ncmFwaGljIiwiUG9sYXJfU3RlcmVvZ3JhcGhpYyIsInN0ZXJlYSIsIk9ibGlxdWUgU3RlcmVvZ3JhcGhpYyBBbHRlcm5hdGl2ZSIsIkRvdWJsZV9TdGVyZW9ncmFwaGljIl0sbHA9e2luaXQ6YXAsZm9yd2FyZDpucCxpbnZlcnNlOm9wLG5hbWVzOmhwfTtmdW5jdGlvbiBjcChpLGUsdCl7cmV0dXJuIGUqPXQsTWF0aC50YW4oLjUqKEsraSkpKk1hdGgucG93KCgxLWUpLygxK2UpLC41KnQpfWZ1bmN0aW9uIHVwKCl7dGhpcy5jb3NsYXQwPU1hdGguY29zKHRoaXMubGF0MCksdGhpcy5zaW5sYXQwPU1hdGguc2luKHRoaXMubGF0MCksdGhpcy5zcGhlcmU/dGhpcy5rMD09PTEmJiFpc05hTih0aGlzLmxhdF90cykmJk1hdGguYWJzKHRoaXMuY29zbGF0MCk8PW5lJiYodGhpcy5rMD0uNSooMStkcyh0aGlzLmxhdDApKk1hdGguc2luKHRoaXMubGF0X3RzKSkpOihNYXRoLmFicyh0aGlzLmNvc2xhdDApPD1uZSYmKHRoaXMubGF0MD4wP3RoaXMuY29uPTE6dGhpcy5jb249LTEpLHRoaXMuY29ucz1NYXRoLnNxcnQoTWF0aC5wb3coMSt0aGlzLmUsMSt0aGlzLmUpKk1hdGgucG93KDEtdGhpcy5lLDEtdGhpcy5lKSksdGhpcy5rMD09PTEmJiFpc05hTih0aGlzLmxhdF90cykmJk1hdGguYWJzKHRoaXMuY29zbGF0MCk8PW5lJiYodGhpcy5rMD0uNSp0aGlzLmNvbnMqaWkodGhpcy5lLE1hdGguc2luKHRoaXMubGF0X3RzKSxNYXRoLmNvcyh0aGlzLmxhdF90cykpL1Z0KHRoaXMuZSx0aGlzLmNvbip0aGlzLmxhdF90cyx0aGlzLmNvbipNYXRoLnNpbih0aGlzLmxhdF90cykpKSx0aGlzLm1zMT1paSh0aGlzLmUsdGhpcy5zaW5sYXQwLHRoaXMuY29zbGF0MCksdGhpcy5YMD0yKk1hdGguYXRhbih0aGlzLnNzZm5fKHRoaXMubGF0MCx0aGlzLnNpbmxhdDAsdGhpcy5lKSktSyx0aGlzLmNvc1gwPU1hdGguY29zKHRoaXMuWDApLHRoaXMuc2luWDA9TWF0aC5zaW4odGhpcy5YMCkpfWZ1bmN0aW9uIGRwKGkpe3ZhciBlPWkueCx0PWkueSxyPU1hdGguc2luKHQpLHM9TWF0aC5jb3ModCksYSxuLG8saCxsLGMsdT11ZShlLXRoaXMubG9uZzApO3JldHVybiBNYXRoLmFicyhNYXRoLmFicyhlLXRoaXMubG9uZzApLU1hdGguUEkpPD1uZSYmTWF0aC5hYnModCt0aGlzLmxhdDApPD1uZT8oaS54PU5hTixpLnk9TmFOLGkpOnRoaXMuc3BoZXJlPyhhPTIqdGhpcy5rMC8oMSt0aGlzLnNpbmxhdDAqcit0aGlzLmNvc2xhdDAqcypNYXRoLmNvcyh1KSksaS54PXRoaXMuYSphKnMqTWF0aC5zaW4odSkrdGhpcy54MCxpLnk9dGhpcy5hKmEqKHRoaXMuY29zbGF0MCpyLXRoaXMuc2lubGF0MCpzKk1hdGguY29zKHUpKSt0aGlzLnkwLGkpOihuPTIqTWF0aC5hdGFuKHRoaXMuc3Nmbl8odCxyLHRoaXMuZSkpLUssaD1NYXRoLmNvcyhuKSxvPU1hdGguc2luKG4pLE1hdGguYWJzKHRoaXMuY29zbGF0MCk8PW5lPyhsPVZ0KHRoaXMuZSx0KnRoaXMuY29uLHRoaXMuY29uKnIpLGM9Mip0aGlzLmEqdGhpcy5rMCpsL3RoaXMuY29ucyxpLng9dGhpcy54MCtjKk1hdGguc2luKGUtdGhpcy5sb25nMCksaS55PXRoaXMueTAtdGhpcy5jb24qYypNYXRoLmNvcyhlLXRoaXMubG9uZzApLGkpOihNYXRoLmFicyh0aGlzLnNpbmxhdDApPG5lPyhhPTIqdGhpcy5hKnRoaXMuazAvKDEraCpNYXRoLmNvcyh1KSksaS55PWEqbyk6KGE9Mip0aGlzLmEqdGhpcy5rMCp0aGlzLm1zMS8odGhpcy5jb3NYMCooMSt0aGlzLnNpblgwKm8rdGhpcy5jb3NYMCpoKk1hdGguY29zKHUpKSksaS55PWEqKHRoaXMuY29zWDAqby10aGlzLnNpblgwKmgqTWF0aC5jb3ModSkpK3RoaXMueTApLGkueD1hKmgqTWF0aC5zaW4odSkrdGhpcy54MCxpKSl9ZnVuY3Rpb24gcHAoaSl7aS54LT10aGlzLngwLGkueS09dGhpcy55MDt2YXIgZSx0LHIscyxhLG49TWF0aC5zcXJ0KGkueCppLngraS55KmkueSk7aWYodGhpcy5zcGhlcmUpe3ZhciBvPTIqTWF0aC5hdGFuKG4vKDIqdGhpcy5hKnRoaXMuazApKTtyZXR1cm4gZT10aGlzLmxvbmcwLHQ9dGhpcy5sYXQwLG48PW5lPyhpLng9ZSxpLnk9dCxpKToodD1NYXRoLmFzaW4oTWF0aC5jb3MobykqdGhpcy5zaW5sYXQwK2kueSpNYXRoLnNpbihvKSp0aGlzLmNvc2xhdDAvbiksTWF0aC5hYnModGhpcy5jb3NsYXQwKTxuZT90aGlzLmxhdDA+MD9lPXVlKHRoaXMubG9uZzArTWF0aC5hdGFuMihpLngsLTEqaS55KSk6ZT11ZSh0aGlzLmxvbmcwK01hdGguYXRhbjIoaS54LGkueSkpOmU9dWUodGhpcy5sb25nMCtNYXRoLmF0YW4yKGkueCpNYXRoLnNpbihvKSxuKnRoaXMuY29zbGF0MCpNYXRoLmNvcyhvKS1pLnkqdGhpcy5zaW5sYXQwKk1hdGguc2luKG8pKSksaS54PWUsaS55PXQsaSl9ZWxzZSBpZihNYXRoLmFicyh0aGlzLmNvc2xhdDApPD1uZSl7aWYobjw9bmUpcmV0dXJuIHQ9dGhpcy5sYXQwLGU9dGhpcy5sb25nMCxpLng9ZSxpLnk9dCxpO2kueCo9dGhpcy5jb24saS55Kj10aGlzLmNvbixyPW4qdGhpcy5jb25zLygyKnRoaXMuYSp0aGlzLmswKSx0PXRoaXMuY29uKnBzKHRoaXMuZSxyKSxlPXRoaXMuY29uKnVlKHRoaXMuY29uKnRoaXMubG9uZzArTWF0aC5hdGFuMihpLngsLTEqaS55KSl9ZWxzZSBzPTIqTWF0aC5hdGFuKG4qdGhpcy5jb3NYMC8oMip0aGlzLmEqdGhpcy5rMCp0aGlzLm1zMSkpLGU9dGhpcy5sb25nMCxuPD1uZT9hPXRoaXMuWDA6KGE9TWF0aC5hc2luKE1hdGguY29zKHMpKnRoaXMuc2luWDAraS55Kk1hdGguc2luKHMpKnRoaXMuY29zWDAvbiksZT11ZSh0aGlzLmxvbmcwK01hdGguYXRhbjIoaS54Kk1hdGguc2luKHMpLG4qdGhpcy5jb3NYMCpNYXRoLmNvcyhzKS1pLnkqdGhpcy5zaW5YMCpNYXRoLnNpbihzKSkpKSx0PS0xKnBzKHRoaXMuZSxNYXRoLnRhbiguNSooSythKSkpO3JldHVybiBpLng9ZSxpLnk9dCxpfXZhciBmcD1bInN0ZXJlIiwiU3RlcmVvZ3JhcGhpY19Tb3V0aF9Qb2xlIiwiUG9sYXIgU3RlcmVvZ3JhcGhpYyAodmFyaWFudCBCKSJdLG1wPXtpbml0OnVwLGZvcndhcmQ6ZHAsaW52ZXJzZTpwcCxuYW1lczpmcCxzc2ZuXzpjcH07ZnVuY3Rpb24gZ3AoKXt2YXIgaT10aGlzLmxhdDA7dGhpcy5sYW1iZGEwPXRoaXMubG9uZzA7dmFyIGU9TWF0aC5zaW4oaSksdD10aGlzLmEscj10aGlzLnJmLHM9MS9yLGE9MipzLU1hdGgucG93KHMsMiksbj10aGlzLmU9TWF0aC5zcXJ0KGEpO3RoaXMuUj10aGlzLmswKnQqTWF0aC5zcXJ0KDEtYSkvKDEtYSpNYXRoLnBvdyhlLDIpKSx0aGlzLmFscGhhPU1hdGguc3FydCgxK2EvKDEtYSkqTWF0aC5wb3coTWF0aC5jb3MoaSksNCkpLHRoaXMuYjA9TWF0aC5hc2luKGUvdGhpcy5hbHBoYSk7dmFyIG89TWF0aC5sb2coTWF0aC50YW4oTWF0aC5QSS80K3RoaXMuYjAvMikpLGg9TWF0aC5sb2coTWF0aC50YW4oTWF0aC5QSS80K2kvMikpLGw9TWF0aC5sb2coKDErbiplKS8oMS1uKmUpKTt0aGlzLks9by10aGlzLmFscGhhKmgrdGhpcy5hbHBoYSpuLzIqbH1mdW5jdGlvbiB2cChpKXt2YXIgZT1NYXRoLmxvZyhNYXRoLnRhbihNYXRoLlBJLzQtaS55LzIpKSx0PXRoaXMuZS8yKk1hdGgubG9nKCgxK3RoaXMuZSpNYXRoLnNpbihpLnkpKS8oMS10aGlzLmUqTWF0aC5zaW4oaS55KSkpLHI9LXRoaXMuYWxwaGEqKGUrdCkrdGhpcy5LLHM9MiooTWF0aC5hdGFuKE1hdGguZXhwKHIpKS1NYXRoLlBJLzQpLGE9dGhpcy5hbHBoYSooaS54LXRoaXMubGFtYmRhMCksbj1NYXRoLmF0YW4oTWF0aC5zaW4oYSkvKE1hdGguc2luKHRoaXMuYjApKk1hdGgudGFuKHMpK01hdGguY29zKHRoaXMuYjApKk1hdGguY29zKGEpKSksbz1NYXRoLmFzaW4oTWF0aC5jb3ModGhpcy5iMCkqTWF0aC5zaW4ocyktTWF0aC5zaW4odGhpcy5iMCkqTWF0aC5jb3MocykqTWF0aC5jb3MoYSkpO3JldHVybiBpLnk9dGhpcy5SLzIqTWF0aC5sb2coKDErTWF0aC5zaW4obykpLygxLU1hdGguc2luKG8pKSkrdGhpcy55MCxpLng9dGhpcy5SKm4rdGhpcy54MCxpfWZ1bmN0aW9uIHhwKGkpe2Zvcih2YXIgZT1pLngtdGhpcy54MCx0PWkueS10aGlzLnkwLHI9ZS90aGlzLlIscz0yKihNYXRoLmF0YW4oTWF0aC5leHAodC90aGlzLlIpKS1NYXRoLlBJLzQpLGE9TWF0aC5hc2luKE1hdGguY29zKHRoaXMuYjApKk1hdGguc2luKHMpK01hdGguc2luKHRoaXMuYjApKk1hdGguY29zKHMpKk1hdGguY29zKHIpKSxuPU1hdGguYXRhbihNYXRoLnNpbihyKS8oTWF0aC5jb3ModGhpcy5iMCkqTWF0aC5jb3MociktTWF0aC5zaW4odGhpcy5iMCkqTWF0aC50YW4ocykpKSxvPXRoaXMubGFtYmRhMCtuL3RoaXMuYWxwaGEsaD0wLGw9YSxjPS0xZTMsdT0wO01hdGguYWJzKGwtYyk+MWUtNzspe2lmKCsrdT4yMClyZXR1cm47aD0xL3RoaXMuYWxwaGEqKE1hdGgubG9nKE1hdGgudGFuKE1hdGguUEkvNCthLzIpKS10aGlzLkspK3RoaXMuZSpNYXRoLmxvZyhNYXRoLnRhbihNYXRoLlBJLzQrTWF0aC5hc2luKHRoaXMuZSpNYXRoLnNpbihsKSkvMikpLGM9bCxsPTIqTWF0aC5hdGFuKE1hdGguZXhwKGgpKS1NYXRoLlBJLzJ9cmV0dXJuIGkueD1vLGkueT1sLGl9dmFyIF9wPVsic29tZXJjIl0seXA9e2luaXQ6Z3AsZm9yd2FyZDp2cCxpbnZlcnNlOnhwLG5hbWVzOl9wfSxmcj0xZS03O2Z1bmN0aW9uIE1wKGkpe3ZhciBlPVsiSG90aW5lX09ibGlxdWVfTWVyY2F0b3IiLCJIb3RpbmVfT2JsaXF1ZV9NZXJjYXRvcl9BemltdXRoX05hdHVyYWxfT3JpZ2luIl0sdD10eXBlb2YgaS5QUk9KRUNUSU9OPT0ib2JqZWN0Ij9PYmplY3Qua2V5cyhpLlBST0pFQ1RJT04pWzBdOmkuUFJPSkVDVElPTjtyZXR1cm4ibm9fdW9mZiJpbiBpfHwibm9fb2ZmImluIGl8fGUuaW5kZXhPZih0KSE9PS0xfWZ1bmN0aW9uIGJwKCl7dmFyIGksZSx0LHIscyxhLG4sbyxoLGwsYz0wLHUsZD0wLHA9MCxnPTAsZj0wLG09MCx2PTA7dGhpcy5ub19vZmY9TXAodGhpcyksdGhpcy5ub19yb3Q9Im5vX3JvdCJpbiB0aGlzO3ZhciB5PSExOyJhbHBoYSJpbiB0aGlzJiYoeT0hMCk7dmFyIFQ9ITE7aWYoInJlY3RpZmllZF9ncmlkX2FuZ2xlImluIHRoaXMmJihUPSEwKSx5JiYodj10aGlzLmFscGhhKSxUJiYoYz10aGlzLnJlY3RpZmllZF9ncmlkX2FuZ2xlKmd0KSx5fHxUKWQ9dGhpcy5sb25nYztlbHNlIGlmKHA9dGhpcy5sb25nMSxmPXRoaXMubGF0MSxnPXRoaXMubG9uZzIsbT10aGlzLmxhdDIsTWF0aC5hYnMoZi1tKTw9ZnJ8fChpPU1hdGguYWJzKGYpKTw9ZnJ8fE1hdGguYWJzKGktSyk8PWZyfHxNYXRoLmFicyhNYXRoLmFicyh0aGlzLmxhdDApLUspPD1mcnx8TWF0aC5hYnMoTWF0aC5hYnMobSktSyk8PWZyKXRocm93IG5ldyBFcnJvcjt2YXIgdz0xLXRoaXMuZXM7ZT1NYXRoLnNxcnQodyksTWF0aC5hYnModGhpcy5sYXQwKT5uZT8obz1NYXRoLnNpbih0aGlzLmxhdDApLHQ9TWF0aC5jb3ModGhpcy5sYXQwKSxpPTEtdGhpcy5lcypvKm8sdGhpcy5CPXQqdCx0aGlzLkI9TWF0aC5zcXJ0KDErdGhpcy5lcyp0aGlzLkIqdGhpcy5CL3cpLHRoaXMuQT10aGlzLkIqdGhpcy5rMCplL2kscj10aGlzLkIqZS8odCpNYXRoLnNxcnQoaSkpLHM9cipyLTEsczw9MD9zPTA6KHM9TWF0aC5zcXJ0KHMpLHRoaXMubGF0MDwwJiYocz0tcykpLHRoaXMuRT1zKz1yLHRoaXMuRSo9TWF0aC5wb3coVnQodGhpcy5lLHRoaXMubGF0MCxvKSx0aGlzLkIpKToodGhpcy5CPTEvZSx0aGlzLkE9dGhpcy5rMCx0aGlzLkU9cj1zPTEpLHl8fFQ/KHk/KHU9TWF0aC5hc2luKE1hdGguc2luKHYpL3IpLFR8fChjPXYpKToodT1jLHY9TWF0aC5hc2luKHIqTWF0aC5zaW4odSkpKSx0aGlzLmxhbTA9ZC1NYXRoLmFzaW4oLjUqKHMtMS9zKSpNYXRoLnRhbih1KSkvdGhpcy5CKTooYT1NYXRoLnBvdyhWdCh0aGlzLmUsZixNYXRoLnNpbihmKSksdGhpcy5CKSxuPU1hdGgucG93KFZ0KHRoaXMuZSxtLE1hdGguc2luKG0pKSx0aGlzLkIpLHM9dGhpcy5FL2EsaD0obi1hKS8obithKSxsPXRoaXMuRSp0aGlzLkUsbD0obC1uKmEpLyhsK24qYSksaT1wLWcsaTwtTWF0aC5waT9nLT1jczppPk1hdGgucGkmJihnKz1jcyksdGhpcy5sYW0wPXVlKC41KihwK2cpLU1hdGguYXRhbihsKk1hdGgudGFuKC41KnRoaXMuQioocC1nKSkvaCkvdGhpcy5CKSx1PU1hdGguYXRhbigyKk1hdGguc2luKHRoaXMuQip1ZShwLXRoaXMubGFtMCkpLyhzLTEvcykpLGM9dj1NYXRoLmFzaW4ocipNYXRoLnNpbih1KSkpLHRoaXMuc2luZ2FtPU1hdGguc2luKHUpLHRoaXMuY29zZ2FtPU1hdGguY29zKHUpLHRoaXMuc2lucm90PU1hdGguc2luKGMpLHRoaXMuY29zcm90PU1hdGguY29zKGMpLHRoaXMuckI9MS90aGlzLkIsdGhpcy5BckI9dGhpcy5BKnRoaXMuckIsdGhpcy5CckE9MS90aGlzLkFyQix0aGlzLkEqdGhpcy5CLHRoaXMubm9fb2ZmP3RoaXMudV8wPTA6KHRoaXMudV8wPU1hdGguYWJzKHRoaXMuQXJCKk1hdGguYXRhbihNYXRoLnNxcnQocipyLTEpL01hdGguY29zKHYpKSksdGhpcy5sYXQwPDAmJih0aGlzLnVfMD0tdGhpcy51XzApKSxzPS41KnUsdGhpcy52X3BvbGVfbj10aGlzLkFyQipNYXRoLmxvZyhNYXRoLnRhbihHZS1zKSksdGhpcy52X3BvbGVfcz10aGlzLkFyQipNYXRoLmxvZyhNYXRoLnRhbihHZStzKSl9ZnVuY3Rpb24gd3AoaSl7dmFyIGU9e30sdCxyLHMsYSxuLG8saCxsO2lmKGkueD1pLngtdGhpcy5sYW0wLE1hdGguYWJzKE1hdGguYWJzKGkueSktSyk+bmUpe2lmKG49dGhpcy5FL01hdGgucG93KFZ0KHRoaXMuZSxpLnksTWF0aC5zaW4oaS55KSksdGhpcy5CKSxvPTEvbix0PS41KihuLW8pLHI9LjUqKG4rbyksYT1NYXRoLnNpbih0aGlzLkIqaS54KSxzPSh0KnRoaXMuc2luZ2FtLWEqdGhpcy5jb3NnYW0pL3IsTWF0aC5hYnMoTWF0aC5hYnMocyktMSk8bmUpdGhyb3cgbmV3IEVycm9yO2w9LjUqdGhpcy5BckIqTWF0aC5sb2coKDEtcykvKDErcykpLG89TWF0aC5jb3ModGhpcy5CKmkueCksTWF0aC5hYnMobyk8ZnI/aD10aGlzLkEqaS54Omg9dGhpcy5BckIqTWF0aC5hdGFuMih0KnRoaXMuY29zZ2FtK2EqdGhpcy5zaW5nYW0sbyl9ZWxzZSBsPWkueT4wP3RoaXMudl9wb2xlX246dGhpcy52X3BvbGVfcyxoPXRoaXMuQXJCKmkueTtyZXR1cm4gdGhpcy5ub19yb3Q/KGUueD1oLGUueT1sKTooaC09dGhpcy51XzAsZS54PWwqdGhpcy5jb3Nyb3QraCp0aGlzLnNpbnJvdCxlLnk9aCp0aGlzLmNvc3JvdC1sKnRoaXMuc2lucm90KSxlLng9dGhpcy5hKmUueCt0aGlzLngwLGUueT10aGlzLmEqZS55K3RoaXMueTAsZX1mdW5jdGlvbiBTcChpKXt2YXIgZSx0LHIscyxhLG4sbyxoPXt9O2lmKGkueD0oaS54LXRoaXMueDApKigxL3RoaXMuYSksaS55PShpLnktdGhpcy55MCkqKDEvdGhpcy5hKSx0aGlzLm5vX3JvdD8odD1pLnksZT1pLngpOih0PWkueCp0aGlzLmNvc3JvdC1pLnkqdGhpcy5zaW5yb3QsZT1pLnkqdGhpcy5jb3Nyb3QraS54KnRoaXMuc2lucm90K3RoaXMudV8wKSxyPU1hdGguZXhwKC10aGlzLkJyQSp0KSxzPS41KihyLTEvciksYT0uNSoocisxL3IpLG49TWF0aC5zaW4odGhpcy5CckEqZSksbz0obip0aGlzLmNvc2dhbStzKnRoaXMuc2luZ2FtKS9hLE1hdGguYWJzKE1hdGguYWJzKG8pLTEpPG5lKWgueD0wLGgueT1vPDA/LUs6SztlbHNle2lmKGgueT10aGlzLkUvTWF0aC5zcXJ0KCgxK28pLygxLW8pKSxoLnk9cHModGhpcy5lLE1hdGgucG93KGgueSwxL3RoaXMuQikpLGgueT09PTEvMCl0aHJvdyBuZXcgRXJyb3I7aC54PS10aGlzLnJCKk1hdGguYXRhbjIocyp0aGlzLmNvc2dhbS1uKnRoaXMuc2luZ2FtLE1hdGguY29zKHRoaXMuQnJBKmUpKX1yZXR1cm4gaC54Kz10aGlzLmxhbTAsaH12YXIgRXA9WyJIb3RpbmVfT2JsaXF1ZV9NZXJjYXRvciIsIkhvdGluZSBPYmxpcXVlIE1lcmNhdG9yIiwiSG90aW5lX09ibGlxdWVfTWVyY2F0b3JfQXppbXV0aF9OYXR1cmFsX09yaWdpbiIsIkhvdGluZV9PYmxpcXVlX01lcmNhdG9yX1R3b19Qb2ludF9OYXR1cmFsX09yaWdpbiIsIkhvdGluZV9PYmxpcXVlX01lcmNhdG9yX0F6aW11dGhfQ2VudGVyIiwiT2JsaXF1ZV9NZXJjYXRvciIsIm9tZXJjIl0sVHA9e2luaXQ6YnAsZm9yd2FyZDp3cCxpbnZlcnNlOlNwLG5hbWVzOkVwfTtmdW5jdGlvbiBBcCgpe2lmKHRoaXMubGF0Mnx8KHRoaXMubGF0Mj10aGlzLmxhdDEpLHRoaXMuazB8fCh0aGlzLmswPTEpLHRoaXMueDA9dGhpcy54MHx8MCx0aGlzLnkwPXRoaXMueTB8fDAsIShNYXRoLmFicyh0aGlzLmxhdDErdGhpcy5sYXQyKTxuZSkpe3ZhciBpPXRoaXMuYi90aGlzLmE7dGhpcy5lPU1hdGguc3FydCgxLWkqaSk7dmFyIGU9TWF0aC5zaW4odGhpcy5sYXQxKSx0PU1hdGguY29zKHRoaXMubGF0MSkscj1paSh0aGlzLmUsZSx0KSxzPVZ0KHRoaXMuZSx0aGlzLmxhdDEsZSksYT1NYXRoLnNpbih0aGlzLmxhdDIpLG49TWF0aC5jb3ModGhpcy5sYXQyKSxvPWlpKHRoaXMuZSxhLG4pLGg9VnQodGhpcy5lLHRoaXMubGF0MixhKSxsPVZ0KHRoaXMuZSx0aGlzLmxhdDAsTWF0aC5zaW4odGhpcy5sYXQwKSk7TWF0aC5hYnModGhpcy5sYXQxLXRoaXMubGF0Mik+bmU/dGhpcy5ucz1NYXRoLmxvZyhyL28pL01hdGgubG9nKHMvaCk6dGhpcy5ucz1lLGlzTmFOKHRoaXMubnMpJiYodGhpcy5ucz1lKSx0aGlzLmYwPXIvKHRoaXMubnMqTWF0aC5wb3cocyx0aGlzLm5zKSksdGhpcy5yaD10aGlzLmEqdGhpcy5mMCpNYXRoLnBvdyhsLHRoaXMubnMpLHRoaXMudGl0bGV8fCh0aGlzLnRpdGxlPSJMYW1iZXJ0IENvbmZvcm1hbCBDb25pYyIpfX1mdW5jdGlvbiBDcChpKXt2YXIgZT1pLngsdD1pLnk7TWF0aC5hYnMoMipNYXRoLmFicyh0KS1NYXRoLlBJKTw9bmUmJih0PWRzKHQpKihLLTIqbmUpKTt2YXIgcj1NYXRoLmFicyhNYXRoLmFicyh0KS1LKSxzLGE7aWYocj5uZSlzPVZ0KHRoaXMuZSx0LE1hdGguc2luKHQpKSxhPXRoaXMuYSp0aGlzLmYwKk1hdGgucG93KHMsdGhpcy5ucyk7ZWxzZXtpZihyPXQqdGhpcy5ucyxyPD0wKXJldHVybiBudWxsO2E9MH12YXIgbj10aGlzLm5zKnVlKGUtdGhpcy5sb25nMCk7cmV0dXJuIGkueD10aGlzLmswKihhKk1hdGguc2luKG4pKSt0aGlzLngwLGkueT10aGlzLmswKih0aGlzLnJoLWEqTWF0aC5jb3MobikpK3RoaXMueTAsaX1mdW5jdGlvbiBMcChpKXt2YXIgZSx0LHIscyxhLG49KGkueC10aGlzLngwKS90aGlzLmswLG89dGhpcy5yaC0oaS55LXRoaXMueTApL3RoaXMuazA7dGhpcy5ucz4wPyhlPU1hdGguc3FydChuKm4rbypvKSx0PTEpOihlPS1NYXRoLnNxcnQobipuK28qbyksdD0tMSk7dmFyIGg9MDtpZihlIT09MCYmKGg9TWF0aC5hdGFuMih0Km4sdCpvKSksZSE9PTB8fHRoaXMubnM+MCl7aWYodD0xL3RoaXMubnMscj1NYXRoLnBvdyhlLyh0aGlzLmEqdGhpcy5mMCksdCkscz1wcyh0aGlzLmUscikscz09PS05OTk5KXJldHVybiBudWxsfWVsc2Ugcz0tSztyZXR1cm4gYT11ZShoL3RoaXMubnMrdGhpcy5sb25nMCksaS54PWEsaS55PXMsaX12YXIgUnA9WyJMYW1iZXJ0IFRhbmdlbnRpYWwgQ29uZm9ybWFsIENvbmljIFByb2plY3Rpb24iLCJMYW1iZXJ0X0NvbmZvcm1hbF9Db25pYyIsIkxhbWJlcnRfQ29uZm9ybWFsX0NvbmljXzFTUCIsIkxhbWJlcnRfQ29uZm9ybWFsX0NvbmljXzJTUCIsImxjYyIsIkxhbWJlcnQgQ29uaWMgQ29uZm9ybWFsICgxU1ApIiwiTGFtYmVydCBDb25pYyBDb25mb3JtYWwgKDJTUCkiXSxQcD17aW5pdDpBcCxmb3J3YXJkOkNwLGludmVyc2U6THAsbmFtZXM6UnB9O2Z1bmN0aW9uIElwKCl7dGhpcy5hPTYzNzczOTcxNTVlLTMsdGhpcy5lcz0uMDA2Njc0MzcyMjMwNjE0LHRoaXMuZT1NYXRoLnNxcnQodGhpcy5lcyksdGhpcy5sYXQwfHwodGhpcy5sYXQwPS44NjM5Mzc5Nzk3MzcxOTMpLHRoaXMubG9uZzB8fCh0aGlzLmxvbmcwPS43NDE3NjQ5MzIwOTc1OTAxLS4zMDgzNDE1MDExODU2NjUpLHRoaXMuazB8fCh0aGlzLmswPS45OTk5KSx0aGlzLnM0NT0uNzg1Mzk4MTYzMzk3NDQ4LHRoaXMuczkwPTIqdGhpcy5zNDUsdGhpcy5maTA9dGhpcy5sYXQwLHRoaXMuZTI9dGhpcy5lcyx0aGlzLmU9TWF0aC5zcXJ0KHRoaXMuZTIpLHRoaXMuYWxmYT1NYXRoLnNxcnQoMSt0aGlzLmUyKk1hdGgucG93KE1hdGguY29zKHRoaXMuZmkwKSw0KS8oMS10aGlzLmUyKSksdGhpcy51cT0xLjA0MjE2ODU2MzgwNDc0LHRoaXMudTA9TWF0aC5hc2luKE1hdGguc2luKHRoaXMuZmkwKS90aGlzLmFsZmEpLHRoaXMuZz1NYXRoLnBvdygoMSt0aGlzLmUqTWF0aC5zaW4odGhpcy5maTApKS8oMS10aGlzLmUqTWF0aC5zaW4odGhpcy5maTApKSx0aGlzLmFsZmEqdGhpcy5lLzIpLHRoaXMuaz1NYXRoLnRhbih0aGlzLnUwLzIrdGhpcy5zNDUpL01hdGgucG93KE1hdGgudGFuKHRoaXMuZmkwLzIrdGhpcy5zNDUpLHRoaXMuYWxmYSkqdGhpcy5nLHRoaXMuazE9dGhpcy5rMCx0aGlzLm4wPXRoaXMuYSpNYXRoLnNxcnQoMS10aGlzLmUyKS8oMS10aGlzLmUyKk1hdGgucG93KE1hdGguc2luKHRoaXMuZmkwKSwyKSksdGhpcy5zMD0xLjM3MDA4MzQ2MjgxNTU1LHRoaXMubj1NYXRoLnNpbih0aGlzLnMwKSx0aGlzLnJvMD10aGlzLmsxKnRoaXMubjAvTWF0aC50YW4odGhpcy5zMCksdGhpcy5hZD10aGlzLnM5MC10aGlzLnVxfWZ1bmN0aW9uIE5wKGkpe3ZhciBlLHQscixzLGEsbixvLGg9aS54LGw9aS55LGM9dWUoaC10aGlzLmxvbmcwKTtyZXR1cm4gZT1NYXRoLnBvdygoMSt0aGlzLmUqTWF0aC5zaW4obCkpLygxLXRoaXMuZSpNYXRoLnNpbihsKSksdGhpcy5hbGZhKnRoaXMuZS8yKSx0PTIqKE1hdGguYXRhbih0aGlzLmsqTWF0aC5wb3coTWF0aC50YW4obC8yK3RoaXMuczQ1KSx0aGlzLmFsZmEpL2UpLXRoaXMuczQ1KSxyPS1jKnRoaXMuYWxmYSxzPU1hdGguYXNpbihNYXRoLmNvcyh0aGlzLmFkKSpNYXRoLnNpbih0KStNYXRoLnNpbih0aGlzLmFkKSpNYXRoLmNvcyh0KSpNYXRoLmNvcyhyKSksYT1NYXRoLmFzaW4oTWF0aC5jb3ModCkqTWF0aC5zaW4ocikvTWF0aC5jb3MocykpLG49dGhpcy5uKmEsbz10aGlzLnJvMCpNYXRoLnBvdyhNYXRoLnRhbih0aGlzLnMwLzIrdGhpcy5zNDUpLHRoaXMubikvTWF0aC5wb3coTWF0aC50YW4ocy8yK3RoaXMuczQ1KSx0aGlzLm4pLGkueT1vKk1hdGguY29zKG4pLzEsaS54PW8qTWF0aC5zaW4obikvMSx0aGlzLmN6ZWNofHwoaS55Kj0tMSxpLngqPS0xKSxpfWZ1bmN0aW9uIERwKGkpe3ZhciBlLHQscixzLGEsbixvLGgsbD1pLng7aS54PWkueSxpLnk9bCx0aGlzLmN6ZWNofHwoaS55Kj0tMSxpLngqPS0xKSxuPU1hdGguc3FydChpLngqaS54K2kueSppLnkpLGE9TWF0aC5hdGFuMihpLnksaS54KSxzPWEvTWF0aC5zaW4odGhpcy5zMCkscj0yKihNYXRoLmF0YW4oTWF0aC5wb3codGhpcy5ybzAvbiwxL3RoaXMubikqTWF0aC50YW4odGhpcy5zMC8yK3RoaXMuczQ1KSktdGhpcy5zNDUpLGU9TWF0aC5hc2luKE1hdGguY29zKHRoaXMuYWQpKk1hdGguc2luKHIpLU1hdGguc2luKHRoaXMuYWQpKk1hdGguY29zKHIpKk1hdGguY29zKHMpKSx0PU1hdGguYXNpbihNYXRoLmNvcyhyKSpNYXRoLnNpbihzKS9NYXRoLmNvcyhlKSksaS54PXRoaXMubG9uZzAtdC90aGlzLmFsZmEsbz1lLGg9MDt2YXIgYz0wO2RvIGkueT0yKihNYXRoLmF0YW4oTWF0aC5wb3codGhpcy5rLC0xL3RoaXMuYWxmYSkqTWF0aC5wb3coTWF0aC50YW4oZS8yK3RoaXMuczQ1KSwxL3RoaXMuYWxmYSkqTWF0aC5wb3coKDErdGhpcy5lKk1hdGguc2luKG8pKS8oMS10aGlzLmUqTWF0aC5zaW4obykpLHRoaXMuZS8yKSktdGhpcy5zNDUpLE1hdGguYWJzKG8taS55KTwxZS0xMCYmKGg9MSksbz1pLnksYys9MTt3aGlsZShoPT09MCYmYzwxNSk7cmV0dXJuIGM+PTE1P251bGw6aX12YXIgT3A9WyJLcm92YWsiLCJrcm92YWsiXSx6cD17aW5pdDpJcCxmb3J3YXJkOk5wLGludmVyc2U6RHAsbmFtZXM6T3B9O2Z1bmN0aW9uIEV0KGksZSx0LHIscyl7cmV0dXJuIGkqcy1lKk1hdGguc2luKDIqcykrdCpNYXRoLnNpbig0KnMpLXIqTWF0aC5zaW4oNipzKX1mdW5jdGlvbiBncyhpKXtyZXR1cm4gMS0uMjUqaSooMStpLzE2KigzKzEuMjUqaSkpfWZ1bmN0aW9uIHZzKGkpe3JldHVybiAuMzc1KmkqKDErLjI1KmkqKDErLjQ2ODc1KmkpKX1mdW5jdGlvbiB4cyhpKXtyZXR1cm4gLjA1ODU5Mzc1KmkqaSooMSsuNzUqaSl9ZnVuY3Rpb24gX3MoaSl7cmV0dXJuIGkqaSppKigzNS8zMDcyKX1mdW5jdGlvbiBtcihpLGUsdCl7dmFyIHI9ZSp0O3JldHVybiBpL01hdGguc3FydCgxLXIqcil9ZnVuY3Rpb24gZ3IoaSl7cmV0dXJuIE1hdGguYWJzKGkpPEs/aTppLWRzKGkpKk1hdGguUEl9ZnVuY3Rpb24gbmEoaSxlLHQscixzKXt2YXIgYSxuO2E9aS9lO2Zvcih2YXIgbz0wO288MTU7bysrKWlmKG49KGktKGUqYS10Kk1hdGguc2luKDIqYSkrcipNYXRoLnNpbig0KmEpLXMqTWF0aC5zaW4oNiphKSkpLyhlLTIqdCpNYXRoLmNvcygyKmEpKzQqcipNYXRoLmNvcyg0KmEpLTYqcypNYXRoLmNvcyg2KmEpKSxhKz1uLE1hdGguYWJzKG4pPD0xZS0xMClyZXR1cm4gYTtyZXR1cm4gTmFOfWZ1bmN0aW9uIEJwKCl7dGhpcy5zcGhlcmV8fCh0aGlzLmUwPWdzKHRoaXMuZXMpLHRoaXMuZTE9dnModGhpcy5lcyksdGhpcy5lMj14cyh0aGlzLmVzKSx0aGlzLmUzPV9zKHRoaXMuZXMpLHRoaXMubWwwPXRoaXMuYSpFdCh0aGlzLmUwLHRoaXMuZTEsdGhpcy5lMix0aGlzLmUzLHRoaXMubGF0MCkpfWZ1bmN0aW9uIFVwKGkpe3ZhciBlLHQscj1pLngscz1pLnk7aWYocj11ZShyLXRoaXMubG9uZzApLHRoaXMuc3BoZXJlKWU9dGhpcy5hKk1hdGguYXNpbihNYXRoLmNvcyhzKSpNYXRoLnNpbihyKSksdD10aGlzLmEqKE1hdGguYXRhbjIoTWF0aC50YW4ocyksTWF0aC5jb3MocikpLXRoaXMubGF0MCk7ZWxzZXt2YXIgYT1NYXRoLnNpbihzKSxuPU1hdGguY29zKHMpLG89bXIodGhpcy5hLHRoaXMuZSxhKSxoPU1hdGgudGFuKHMpKk1hdGgudGFuKHMpLGw9cipNYXRoLmNvcyhzKSxjPWwqbCx1PXRoaXMuZXMqbipuLygxLXRoaXMuZXMpLGQ9dGhpcy5hKkV0KHRoaXMuZTAsdGhpcy5lMSx0aGlzLmUyLHRoaXMuZTMscyk7ZT1vKmwqKDEtYypoKigxLzYtKDgtaCs4KnUpKmMvMTIwKSksdD1kLXRoaXMubWwwK28qYS9uKmMqKC41Kyg1LWgrNip1KSpjLzI0KX1yZXR1cm4gaS54PWUrdGhpcy54MCxpLnk9dCt0aGlzLnkwLGl9ZnVuY3Rpb24gRnAoaSl7aS54LT10aGlzLngwLGkueS09dGhpcy55MDt2YXIgZT1pLngvdGhpcy5hLHQ9aS55L3RoaXMuYSxyLHM7aWYodGhpcy5zcGhlcmUpe3ZhciBhPXQrdGhpcy5sYXQwO3I9TWF0aC5hc2luKE1hdGguc2luKGEpKk1hdGguY29zKGUpKSxzPU1hdGguYXRhbjIoTWF0aC50YW4oZSksTWF0aC5jb3MoYSkpfWVsc2V7dmFyIG49dGhpcy5tbDAvdGhpcy5hK3Qsbz1uYShuLHRoaXMuZTAsdGhpcy5lMSx0aGlzLmUyLHRoaXMuZTMpO2lmKE1hdGguYWJzKE1hdGguYWJzKG8pLUspPD1uZSlyZXR1cm4gaS54PXRoaXMubG9uZzAsaS55PUssdDwwJiYoaS55Kj0tMSksaTt2YXIgaD1tcih0aGlzLmEsdGhpcy5lLE1hdGguc2luKG8pKSxsPWgqaCpoL3RoaXMuYS90aGlzLmEqKDEtdGhpcy5lcyksYz1NYXRoLnBvdyhNYXRoLnRhbihvKSwyKSx1PWUqdGhpcy5hL2gsZD11KnU7cj1vLWgqTWF0aC50YW4obykvbCp1KnUqKC41LSgxKzMqYykqdSp1LzI0KSxzPXUqKDEtZCooYy8zKygxKzMqYykqYypkLzE1KSkvTWF0aC5jb3Mobyl9cmV0dXJuIGkueD11ZShzK3RoaXMubG9uZzApLGkueT1ncihyKSxpfXZhciBIcD1bIkNhc3NpbmkiLCJDYXNzaW5pX1NvbGRuZXIiLCJjYXNzIl0sa3A9e2luaXQ6QnAsZm9yd2FyZDpVcCxpbnZlcnNlOkZwLG5hbWVzOkhwfTtmdW5jdGlvbiBSaShpLGUpe3ZhciB0O3JldHVybiBpPjFlLTc/KHQ9aSplLCgxLWkqaSkqKGUvKDEtdCp0KS0uNS9pKk1hdGgubG9nKCgxLXQpLygxK3QpKSkpOjIqZX12YXIgR3A9MSxWcD0yLFdwPTMsanA9NDtmdW5jdGlvbiBxcCgpe3ZhciBpPU1hdGguYWJzKHRoaXMubGF0MCk7aWYoTWF0aC5hYnMoaS1LKTxuZT90aGlzLm1vZGU9dGhpcy5sYXQwPDA/dGhpcy5TX1BPTEU6dGhpcy5OX1BPTEU6TWF0aC5hYnMoaSk8bmU/dGhpcy5tb2RlPXRoaXMuRVFVSVQ6dGhpcy5tb2RlPXRoaXMuT0JMSVEsdGhpcy5lcz4wKXt2YXIgZTtzd2l0Y2godGhpcy5xcD1SaSh0aGlzLmUsMSksdGhpcy5tbWY9LjUvKDEtdGhpcy5lcyksdGhpcy5hcGE9dGYodGhpcy5lcyksdGhpcy5tb2RlKXtjYXNlIHRoaXMuTl9QT0xFOnRoaXMuZGQ9MTticmVhaztjYXNlIHRoaXMuU19QT0xFOnRoaXMuZGQ9MTticmVhaztjYXNlIHRoaXMuRVFVSVQ6dGhpcy5ycT1NYXRoLnNxcnQoLjUqdGhpcy5xcCksdGhpcy5kZD0xL3RoaXMucnEsdGhpcy54bWY9MSx0aGlzLnltZj0uNSp0aGlzLnFwO2JyZWFrO2Nhc2UgdGhpcy5PQkxJUTp0aGlzLnJxPU1hdGguc3FydCguNSp0aGlzLnFwKSxlPU1hdGguc2luKHRoaXMubGF0MCksdGhpcy5zaW5iMT1SaSh0aGlzLmUsZSkvdGhpcy5xcCx0aGlzLmNvc2IxPU1hdGguc3FydCgxLXRoaXMuc2luYjEqdGhpcy5zaW5iMSksdGhpcy5kZD1NYXRoLmNvcyh0aGlzLmxhdDApLyhNYXRoLnNxcnQoMS10aGlzLmVzKmUqZSkqdGhpcy5ycSp0aGlzLmNvc2IxKSx0aGlzLnltZj0odGhpcy54bWY9dGhpcy5ycSkvdGhpcy5kZCx0aGlzLnhtZio9dGhpcy5kZDticmVha319ZWxzZSB0aGlzLm1vZGU9PT10aGlzLk9CTElRJiYodGhpcy5zaW5waDA9TWF0aC5zaW4odGhpcy5sYXQwKSx0aGlzLmNvc3BoMD1NYXRoLmNvcyh0aGlzLmxhdDApKX1mdW5jdGlvbiBYcChpKXt2YXIgZSx0LHIscyxhLG4sbyxoLGwsYyx1PWkueCxkPWkueTtpZih1PXVlKHUtdGhpcy5sb25nMCksdGhpcy5zcGhlcmUpe2lmKGE9TWF0aC5zaW4oZCksYz1NYXRoLmNvcyhkKSxyPU1hdGguY29zKHUpLHRoaXMubW9kZT09PXRoaXMuT0JMSVF8fHRoaXMubW9kZT09PXRoaXMuRVFVSVQpe2lmKHQ9dGhpcy5tb2RlPT09dGhpcy5FUVVJVD8xK2MqcjoxK3RoaXMuc2lucGgwKmErdGhpcy5jb3NwaDAqYypyLHQ8PW5lKXJldHVybiBudWxsO3Q9TWF0aC5zcXJ0KDIvdCksZT10KmMqTWF0aC5zaW4odSksdCo9dGhpcy5tb2RlPT09dGhpcy5FUVVJVD9hOnRoaXMuY29zcGgwKmEtdGhpcy5zaW5waDAqYypyfWVsc2UgaWYodGhpcy5tb2RlPT09dGhpcy5OX1BPTEV8fHRoaXMubW9kZT09PXRoaXMuU19QT0xFKXtpZih0aGlzLm1vZGU9PT10aGlzLk5fUE9MRSYmKHI9LXIpLE1hdGguYWJzKGQrdGhpcy5sYXQwKTxuZSlyZXR1cm4gbnVsbDt0PUdlLWQqLjUsdD0yKih0aGlzLm1vZGU9PT10aGlzLlNfUE9MRT9NYXRoLmNvcyh0KTpNYXRoLnNpbih0KSksZT10Kk1hdGguc2luKHUpLHQqPXJ9fWVsc2V7c3dpdGNoKG89MCxoPTAsbD0wLHI9TWF0aC5jb3ModSkscz1NYXRoLnNpbih1KSxhPU1hdGguc2luKGQpLG49UmkodGhpcy5lLGEpLCh0aGlzLm1vZGU9PT10aGlzLk9CTElRfHx0aGlzLm1vZGU9PT10aGlzLkVRVUlUKSYmKG89bi90aGlzLnFwLGg9TWF0aC5zcXJ0KDEtbypvKSksdGhpcy5tb2RlKXtjYXNlIHRoaXMuT0JMSVE6bD0xK3RoaXMuc2luYjEqbyt0aGlzLmNvc2IxKmgqcjticmVhaztjYXNlIHRoaXMuRVFVSVQ6bD0xK2gqcjticmVhaztjYXNlIHRoaXMuTl9QT0xFOmw9SytkLG49dGhpcy5xcC1uO2JyZWFrO2Nhc2UgdGhpcy5TX1BPTEU6bD1kLUssbj10aGlzLnFwK247YnJlYWt9aWYoTWF0aC5hYnMobCk8bmUpcmV0dXJuIG51bGw7c3dpdGNoKHRoaXMubW9kZSl7Y2FzZSB0aGlzLk9CTElROmNhc2UgdGhpcy5FUVVJVDpsPU1hdGguc3FydCgyL2wpLHRoaXMubW9kZT09PXRoaXMuT0JMSVE/dD10aGlzLnltZipsKih0aGlzLmNvc2IxKm8tdGhpcy5zaW5iMSpoKnIpOnQ9KGw9TWF0aC5zcXJ0KDIvKDEraCpyKSkpKm8qdGhpcy55bWYsZT10aGlzLnhtZipsKmgqczticmVhaztjYXNlIHRoaXMuTl9QT0xFOmNhc2UgdGhpcy5TX1BPTEU6bj49MD8oZT0obD1NYXRoLnNxcnQobikpKnMsdD1yKih0aGlzLm1vZGU9PT10aGlzLlNfUE9MRT9sOi1sKSk6ZT10PTA7YnJlYWt9fXJldHVybiBpLng9dGhpcy5hKmUrdGhpcy54MCxpLnk9dGhpcy5hKnQrdGhpcy55MCxpfWZ1bmN0aW9uIEpwKGkpe2kueC09dGhpcy54MCxpLnktPXRoaXMueTA7dmFyIGU9aS54L3RoaXMuYSx0PWkueS90aGlzLmEscixzLGEsbixvLGgsbDtpZih0aGlzLnNwaGVyZSl7dmFyIGM9MCx1LGQ9MDtpZih1PU1hdGguc3FydChlKmUrdCp0KSxzPXUqLjUscz4xKXJldHVybiBudWxsO3N3aXRjaChzPTIqTWF0aC5hc2luKHMpLCh0aGlzLm1vZGU9PT10aGlzLk9CTElRfHx0aGlzLm1vZGU9PT10aGlzLkVRVUlUKSYmKGQ9TWF0aC5zaW4ocyksYz1NYXRoLmNvcyhzKSksdGhpcy5tb2RlKXtjYXNlIHRoaXMuRVFVSVQ6cz1NYXRoLmFicyh1KTw9bmU/MDpNYXRoLmFzaW4odCpkL3UpLGUqPWQsdD1jKnU7YnJlYWs7Y2FzZSB0aGlzLk9CTElROnM9TWF0aC5hYnModSk8PW5lP3RoaXMubGF0MDpNYXRoLmFzaW4oYyp0aGlzLnNpbnBoMCt0KmQqdGhpcy5jb3NwaDAvdSksZSo9ZCp0aGlzLmNvc3BoMCx0PShjLU1hdGguc2luKHMpKnRoaXMuc2lucGgwKSp1O2JyZWFrO2Nhc2UgdGhpcy5OX1BPTEU6dD0tdCxzPUstczticmVhaztjYXNlIHRoaXMuU19QT0xFOnMtPUs7YnJlYWt9cj10PT09MCYmKHRoaXMubW9kZT09PXRoaXMuRVFVSVR8fHRoaXMubW9kZT09PXRoaXMuT0JMSVEpPzA6TWF0aC5hdGFuMihlLHQpfWVsc2V7aWYobD0wLHRoaXMubW9kZT09PXRoaXMuT0JMSVF8fHRoaXMubW9kZT09PXRoaXMuRVFVSVQpe2lmKGUvPXRoaXMuZGQsdCo9dGhpcy5kZCxoPU1hdGguc3FydChlKmUrdCp0KSxoPG5lKXJldHVybiBpLng9dGhpcy5sb25nMCxpLnk9dGhpcy5sYXQwLGk7bj0yKk1hdGguYXNpbiguNSpoL3RoaXMucnEpLGE9TWF0aC5jb3MobiksZSo9bj1NYXRoLnNpbihuKSx0aGlzLm1vZGU9PT10aGlzLk9CTElRPyhsPWEqdGhpcy5zaW5iMSt0Km4qdGhpcy5jb3NiMS9oLG89dGhpcy5xcCpsLHQ9aCp0aGlzLmNvc2IxKmEtdCp0aGlzLnNpbmIxKm4pOihsPXQqbi9oLG89dGhpcy5xcCpsLHQ9aCphKX1lbHNlIGlmKHRoaXMubW9kZT09PXRoaXMuTl9QT0xFfHx0aGlzLm1vZGU9PT10aGlzLlNfUE9MRSl7aWYodGhpcy5tb2RlPT09dGhpcy5OX1BPTEUmJih0PS10KSxvPWUqZSt0KnQsIW8pcmV0dXJuIGkueD10aGlzLmxvbmcwLGkueT10aGlzLmxhdDAsaTtsPTEtby90aGlzLnFwLHRoaXMubW9kZT09PXRoaXMuU19QT0xFJiYobD0tbCl9cj1NYXRoLmF0YW4yKGUsdCkscz1yZihNYXRoLmFzaW4obCksdGhpcy5hcGEpfXJldHVybiBpLng9dWUodGhpcy5sb25nMCtyKSxpLnk9cyxpfXZhciBZcD0uMzMzMzMzMzMzMzMzMzMzMyxacD0uMTcyMjIyMjIyMjIyMjIyMjIsS3A9LjEwMjU3OTM2NTA3OTM2NTA4LFFwPS4wNjM4ODg4ODg4ODg4ODg4OCwkcD0uMDY2NDAyMTE2NDAyMTE2NCxlZj0uMDE2NDE1MDEyOTQyMTkxNTQzO2Z1bmN0aW9uIHRmKGkpe3ZhciBlLHQ9W107cmV0dXJuIHRbMF09aSpZcCxlPWkqaSx0WzBdKz1lKlpwLHRbMV09ZSpRcCxlKj1pLHRbMF0rPWUqS3AsdFsxXSs9ZSokcCx0WzJdPWUqZWYsdH1mdW5jdGlvbiByZihpLGUpe3ZhciB0PWkraTtyZXR1cm4gaStlWzBdKk1hdGguc2luKHQpK2VbMV0qTWF0aC5zaW4odCt0KStlWzJdKk1hdGguc2luKHQrdCt0KX12YXIgc2Y9WyJMYW1iZXJ0IEF6aW11dGhhbCBFcXVhbCBBcmVhIiwiTGFtYmVydF9BemltdXRoYWxfRXF1YWxfQXJlYSIsImxhZWEiXSxhZj17aW5pdDpxcCxmb3J3YXJkOlhwLGludmVyc2U6SnAsbmFtZXM6c2YsU19QT0xFOkdwLE5fUE9MRTpWcCxFUVVJVDpXcCxPQkxJUTpqcH07ZnVuY3Rpb24gUGkoaSl7cmV0dXJuIE1hdGguYWJzKGkpPjEmJihpPWk+MT8xOi0xKSxNYXRoLmFzaW4oaSl9ZnVuY3Rpb24gbmYoKXtNYXRoLmFicyh0aGlzLmxhdDErdGhpcy5sYXQyKTxuZXx8KHRoaXMudGVtcD10aGlzLmIvdGhpcy5hLHRoaXMuZXM9MS1NYXRoLnBvdyh0aGlzLnRlbXAsMiksdGhpcy5lMz1NYXRoLnNxcnQodGhpcy5lcyksdGhpcy5zaW5fcG89TWF0aC5zaW4odGhpcy5sYXQxKSx0aGlzLmNvc19wbz1NYXRoLmNvcyh0aGlzLmxhdDEpLHRoaXMudDE9dGhpcy5zaW5fcG8sdGhpcy5jb249dGhpcy5zaW5fcG8sdGhpcy5tczE9aWkodGhpcy5lMyx0aGlzLnNpbl9wbyx0aGlzLmNvc19wbyksdGhpcy5xczE9UmkodGhpcy5lMyx0aGlzLnNpbl9wbyx0aGlzLmNvc19wbyksdGhpcy5zaW5fcG89TWF0aC5zaW4odGhpcy5sYXQyKSx0aGlzLmNvc19wbz1NYXRoLmNvcyh0aGlzLmxhdDIpLHRoaXMudDI9dGhpcy5zaW5fcG8sdGhpcy5tczI9aWkodGhpcy5lMyx0aGlzLnNpbl9wbyx0aGlzLmNvc19wbyksdGhpcy5xczI9UmkodGhpcy5lMyx0aGlzLnNpbl9wbyx0aGlzLmNvc19wbyksdGhpcy5zaW5fcG89TWF0aC5zaW4odGhpcy5sYXQwKSx0aGlzLmNvc19wbz1NYXRoLmNvcyh0aGlzLmxhdDApLHRoaXMudDM9dGhpcy5zaW5fcG8sdGhpcy5xczA9UmkodGhpcy5lMyx0aGlzLnNpbl9wbyx0aGlzLmNvc19wbyksTWF0aC5hYnModGhpcy5sYXQxLXRoaXMubGF0Mik+bmU/dGhpcy5uczA9KHRoaXMubXMxKnRoaXMubXMxLXRoaXMubXMyKnRoaXMubXMyKS8odGhpcy5xczItdGhpcy5xczEpOnRoaXMubnMwPXRoaXMuY29uLHRoaXMuYz10aGlzLm1zMSp0aGlzLm1zMSt0aGlzLm5zMCp0aGlzLnFzMSx0aGlzLnJoPXRoaXMuYSpNYXRoLnNxcnQodGhpcy5jLXRoaXMubnMwKnRoaXMucXMwKS90aGlzLm5zMCl9ZnVuY3Rpb24gb2YoaSl7dmFyIGU9aS54LHQ9aS55O3RoaXMuc2luX3BoaT1NYXRoLnNpbih0KSx0aGlzLmNvc19waGk9TWF0aC5jb3ModCk7dmFyIHI9UmkodGhpcy5lMyx0aGlzLnNpbl9waGksdGhpcy5jb3NfcGhpKSxzPXRoaXMuYSpNYXRoLnNxcnQodGhpcy5jLXRoaXMubnMwKnIpL3RoaXMubnMwLGE9dGhpcy5uczAqdWUoZS10aGlzLmxvbmcwKSxuPXMqTWF0aC5zaW4oYSkrdGhpcy54MCxvPXRoaXMucmgtcypNYXRoLmNvcyhhKSt0aGlzLnkwO3JldHVybiBpLng9bixpLnk9byxpfWZ1bmN0aW9uIGhmKGkpe3ZhciBlLHQscixzLGEsbjtyZXR1cm4gaS54LT10aGlzLngwLGkueT10aGlzLnJoLWkueSt0aGlzLnkwLHRoaXMubnMwPj0wPyhlPU1hdGguc3FydChpLngqaS54K2kueSppLnkpLHI9MSk6KGU9LU1hdGguc3FydChpLngqaS54K2kueSppLnkpLHI9LTEpLHM9MCxlIT09MCYmKHM9TWF0aC5hdGFuMihyKmkueCxyKmkueSkpLHI9ZSp0aGlzLm5zMC90aGlzLmEsdGhpcy5zcGhlcmU/bj1NYXRoLmFzaW4oKHRoaXMuYy1yKnIpLygyKnRoaXMubnMwKSk6KHQ9KHRoaXMuYy1yKnIpL3RoaXMubnMwLG49dGhpcy5waGkxeih0aGlzLmUzLHQpKSxhPXVlKHMvdGhpcy5uczArdGhpcy5sb25nMCksaS54PWEsaS55PW4saX1mdW5jdGlvbiBsZihpLGUpe3ZhciB0LHIscyxhLG4sbz1QaSguNSplKTtpZihpPG5lKXJldHVybiBvO2Zvcih2YXIgaD1pKmksbD0xO2w8PTI1O2wrKylpZih0PU1hdGguc2luKG8pLHI9TWF0aC5jb3Mobykscz1pKnQsYT0xLXMqcyxuPS41KmEqYS9yKihlLygxLWgpLXQvYSsuNS9pKk1hdGgubG9nKCgxLXMpLygxK3MpKSksbz1vK24sTWF0aC5hYnMobik8PTFlLTcpcmV0dXJuIG87cmV0dXJuIG51bGx9dmFyIGNmPVsiQWxiZXJzX0NvbmljX0VxdWFsX0FyZWEiLCJBbGJlcnMiLCJhZWEiXSx1Zj17aW5pdDpuZixmb3J3YXJkOm9mLGludmVyc2U6aGYsbmFtZXM6Y2YscGhpMXo6bGZ9O2Z1bmN0aW9uIGRmKCl7dGhpcy5zaW5fcDE0PU1hdGguc2luKHRoaXMubGF0MCksdGhpcy5jb3NfcDE0PU1hdGguY29zKHRoaXMubGF0MCksdGhpcy5pbmZpbml0eV9kaXN0PTFlMyp0aGlzLmEsdGhpcy5yYz0xfWZ1bmN0aW9uIHBmKGkpe3ZhciBlLHQscixzLGEsbixvLGgsbD1pLngsYz1pLnk7cmV0dXJuIHI9dWUobC10aGlzLmxvbmcwKSxlPU1hdGguc2luKGMpLHQ9TWF0aC5jb3MoYykscz1NYXRoLmNvcyhyKSxuPXRoaXMuc2luX3AxNCplK3RoaXMuY29zX3AxNCp0KnMsYT0xLG4+MHx8TWF0aC5hYnMobik8PW5lPyhvPXRoaXMueDArdGhpcy5hKmEqdCpNYXRoLnNpbihyKS9uLGg9dGhpcy55MCt0aGlzLmEqYSoodGhpcy5jb3NfcDE0KmUtdGhpcy5zaW5fcDE0KnQqcykvbik6KG89dGhpcy54MCt0aGlzLmluZmluaXR5X2Rpc3QqdCpNYXRoLnNpbihyKSxoPXRoaXMueTArdGhpcy5pbmZpbml0eV9kaXN0Kih0aGlzLmNvc19wMTQqZS10aGlzLnNpbl9wMTQqdCpzKSksaS54PW8saS55PWgsaX1mdW5jdGlvbiBmZihpKXt2YXIgZSx0LHIscyxhLG47cmV0dXJuIGkueD0oaS54LXRoaXMueDApL3RoaXMuYSxpLnk9KGkueS10aGlzLnkwKS90aGlzLmEsaS54Lz10aGlzLmswLGkueS89dGhpcy5rMCwoZT1NYXRoLnNxcnQoaS54KmkueCtpLnkqaS55KSk/KHM9TWF0aC5hdGFuMihlLHRoaXMucmMpLHQ9TWF0aC5zaW4ocykscj1NYXRoLmNvcyhzKSxuPVBpKHIqdGhpcy5zaW5fcDE0K2kueSp0KnRoaXMuY29zX3AxNC9lKSxhPU1hdGguYXRhbjIoaS54KnQsZSp0aGlzLmNvc19wMTQqci1pLnkqdGhpcy5zaW5fcDE0KnQpLGE9dWUodGhpcy5sb25nMCthKSk6KG49dGhpcy5waGljMCxhPTApLGkueD1hLGkueT1uLGl9dmFyIG1mPVsiZ25vbSJdLGdmPXtpbml0OmRmLGZvcndhcmQ6cGYsaW52ZXJzZTpmZixuYW1lczptZn07ZnVuY3Rpb24gdmYoaSxlKXt2YXIgdD0xLSgxLWkqaSkvKDIqaSkqTWF0aC5sb2coKDEtaSkvKDEraSkpO2lmKE1hdGguYWJzKE1hdGguYWJzKGUpLXQpPDFlLTYpcmV0dXJuIGU8MD8tMSpLOks7Zm9yKHZhciByPU1hdGguYXNpbiguNSplKSxzLGEsbixvLGg9MDtoPDMwO2grKylpZihhPU1hdGguc2luKHIpLG49TWF0aC5jb3Mociksbz1pKmEscz1NYXRoLnBvdygxLW8qbywyKS8oMipuKSooZS8oMS1pKmkpLWEvKDEtbypvKSsuNS9pKk1hdGgubG9nKCgxLW8pLygxK28pKSkscis9cyxNYXRoLmFicyhzKTw9MWUtMTApcmV0dXJuIHI7cmV0dXJuIE5hTn1mdW5jdGlvbiB4Zigpe3RoaXMuc3BoZXJlfHwodGhpcy5rMD1paSh0aGlzLmUsTWF0aC5zaW4odGhpcy5sYXRfdHMpLE1hdGguY29zKHRoaXMubGF0X3RzKSkpfWZ1bmN0aW9uIF9mKGkpe3ZhciBlPWkueCx0PWkueSxyLHMsYT11ZShlLXRoaXMubG9uZzApO2lmKHRoaXMuc3BoZXJlKXI9dGhpcy54MCt0aGlzLmEqYSpNYXRoLmNvcyh0aGlzLmxhdF90cykscz10aGlzLnkwK3RoaXMuYSpNYXRoLnNpbih0KS9NYXRoLmNvcyh0aGlzLmxhdF90cyk7ZWxzZXt2YXIgbj1SaSh0aGlzLmUsTWF0aC5zaW4odCkpO3I9dGhpcy54MCt0aGlzLmEqdGhpcy5rMCphLHM9dGhpcy55MCt0aGlzLmEqbiouNS90aGlzLmswfXJldHVybiBpLng9cixpLnk9cyxpfWZ1bmN0aW9uIHlmKGkpe2kueC09dGhpcy54MCxpLnktPXRoaXMueTA7dmFyIGUsdDtyZXR1cm4gdGhpcy5zcGhlcmU/KGU9dWUodGhpcy5sb25nMCtpLngvdGhpcy5hL01hdGguY29zKHRoaXMubGF0X3RzKSksdD1NYXRoLmFzaW4oaS55L3RoaXMuYSpNYXRoLmNvcyh0aGlzLmxhdF90cykpKToodD12Zih0aGlzLmUsMippLnkqdGhpcy5rMC90aGlzLmEpLGU9dWUodGhpcy5sb25nMCtpLngvKHRoaXMuYSp0aGlzLmswKSkpLGkueD1lLGkueT10LGl9dmFyIE1mPVsiY2VhIl0sYmY9e2luaXQ6eGYsZm9yd2FyZDpfZixpbnZlcnNlOnlmLG5hbWVzOk1mfTtmdW5jdGlvbiB3Zigpe3RoaXMueDA9dGhpcy54MHx8MCx0aGlzLnkwPXRoaXMueTB8fDAsdGhpcy5sYXQwPXRoaXMubGF0MHx8MCx0aGlzLmxvbmcwPXRoaXMubG9uZzB8fDAsdGhpcy5sYXRfdHM9dGhpcy5sYXRfdHN8fDAsdGhpcy50aXRsZT10aGlzLnRpdGxlfHwiRXF1aWRpc3RhbnQgQ3lsaW5kcmljYWwgKFBsYXRlIENhcnJlKSIsdGhpcy5yYz1NYXRoLmNvcyh0aGlzLmxhdF90cyl9ZnVuY3Rpb24gU2YoaSl7dmFyIGU9aS54LHQ9aS55LHI9dWUoZS10aGlzLmxvbmcwKSxzPWdyKHQtdGhpcy5sYXQwKTtyZXR1cm4gaS54PXRoaXMueDArdGhpcy5hKnIqdGhpcy5yYyxpLnk9dGhpcy55MCt0aGlzLmEqcyxpfWZ1bmN0aW9uIEVmKGkpe3ZhciBlPWkueCx0PWkueTtyZXR1cm4gaS54PXVlKHRoaXMubG9uZzArKGUtdGhpcy54MCkvKHRoaXMuYSp0aGlzLnJjKSksaS55PWdyKHRoaXMubGF0MCsodC10aGlzLnkwKS90aGlzLmEpLGl9dmFyIFRmPVsiRXF1aXJlY3Rhbmd1bGFyIiwiRXF1aWRpc3RhbnRfQ3lsaW5kcmljYWwiLCJlcWMiXSxBZj17aW5pdDp3Zixmb3J3YXJkOlNmLGludmVyc2U6RWYsbmFtZXM6VGZ9LFJoPTIwO2Z1bmN0aW9uIENmKCl7dGhpcy50ZW1wPXRoaXMuYi90aGlzLmEsdGhpcy5lcz0xLU1hdGgucG93KHRoaXMudGVtcCwyKSx0aGlzLmU9TWF0aC5zcXJ0KHRoaXMuZXMpLHRoaXMuZTA9Z3ModGhpcy5lcyksdGhpcy5lMT12cyh0aGlzLmVzKSx0aGlzLmUyPXhzKHRoaXMuZXMpLHRoaXMuZTM9X3ModGhpcy5lcyksdGhpcy5tbDA9dGhpcy5hKkV0KHRoaXMuZTAsdGhpcy5lMSx0aGlzLmUyLHRoaXMuZTMsdGhpcy5sYXQwKX1mdW5jdGlvbiBMZihpKXt2YXIgZT1pLngsdD1pLnkscixzLGEsbj11ZShlLXRoaXMubG9uZzApO2lmKGE9bipNYXRoLnNpbih0KSx0aGlzLnNwaGVyZSlNYXRoLmFicyh0KTw9bmU/KHI9dGhpcy5hKm4scz0tMSp0aGlzLmEqdGhpcy5sYXQwKToocj10aGlzLmEqTWF0aC5zaW4oYSkvTWF0aC50YW4odCkscz10aGlzLmEqKGdyKHQtdGhpcy5sYXQwKSsoMS1NYXRoLmNvcyhhKSkvTWF0aC50YW4odCkpKTtlbHNlIGlmKE1hdGguYWJzKHQpPD1uZSlyPXRoaXMuYSpuLHM9LTEqdGhpcy5tbDA7ZWxzZXt2YXIgbz1tcih0aGlzLmEsdGhpcy5lLE1hdGguc2luKHQpKS9NYXRoLnRhbih0KTtyPW8qTWF0aC5zaW4oYSkscz10aGlzLmEqRXQodGhpcy5lMCx0aGlzLmUxLHRoaXMuZTIsdGhpcy5lMyx0KS10aGlzLm1sMCtvKigxLU1hdGguY29zKGEpKX1yZXR1cm4gaS54PXIrdGhpcy54MCxpLnk9cyt0aGlzLnkwLGl9ZnVuY3Rpb24gUmYoaSl7dmFyIGUsdCxyLHMsYSxuLG8saCxsO2lmKHI9aS54LXRoaXMueDAscz1pLnktdGhpcy55MCx0aGlzLnNwaGVyZSlpZihNYXRoLmFicyhzK3RoaXMuYSp0aGlzLmxhdDApPD1uZSllPXVlKHIvdGhpcy5hK3RoaXMubG9uZzApLHQ9MDtlbHNle249dGhpcy5sYXQwK3MvdGhpcy5hLG89cipyL3RoaXMuYS90aGlzLmErbipuLGg9bjt2YXIgYztmb3IoYT1SaDthOy0tYSlpZihjPU1hdGgudGFuKGgpLGw9LTEqKG4qKGgqYysxKS1oLS41KihoKmgrbykqYykvKChoLW4pL2MtMSksaCs9bCxNYXRoLmFicyhsKTw9bmUpe3Q9aDticmVha31lPXVlKHRoaXMubG9uZzArTWF0aC5hc2luKHIqTWF0aC50YW4oaCkvdGhpcy5hKS9NYXRoLnNpbih0KSl9ZWxzZSBpZihNYXRoLmFicyhzK3RoaXMubWwwKTw9bmUpdD0wLGU9dWUodGhpcy5sb25nMCtyL3RoaXMuYSk7ZWxzZXtuPSh0aGlzLm1sMCtzKS90aGlzLmEsbz1yKnIvdGhpcy5hL3RoaXMuYStuKm4saD1uO3ZhciB1LGQscCxnLGY7Zm9yKGE9Umg7YTstLWEpaWYoZj10aGlzLmUqTWF0aC5zaW4oaCksdT1NYXRoLnNxcnQoMS1mKmYpKk1hdGgudGFuKGgpLGQ9dGhpcy5hKkV0KHRoaXMuZTAsdGhpcy5lMSx0aGlzLmUyLHRoaXMuZTMsaCkscD10aGlzLmUwLTIqdGhpcy5lMSpNYXRoLmNvcygyKmgpKzQqdGhpcy5lMipNYXRoLmNvcyg0KmgpLTYqdGhpcy5lMypNYXRoLmNvcyg2KmgpLGc9ZC90aGlzLmEsbD0obioodSpnKzEpLWctLjUqdSooZypnK28pKS8odGhpcy5lcypNYXRoLnNpbigyKmgpKihnKmcrby0yKm4qZykvKDQqdSkrKG4tZykqKHUqcC0yL01hdGguc2luKDIqaCkpLXApLGgtPWwsTWF0aC5hYnMobCk8PW5lKXt0PWg7YnJlYWt9dT1NYXRoLnNxcnQoMS10aGlzLmVzKk1hdGgucG93KE1hdGguc2luKHQpLDIpKSpNYXRoLnRhbih0KSxlPXVlKHRoaXMubG9uZzArTWF0aC5hc2luKHIqdS90aGlzLmEpL01hdGguc2luKHQpKX1yZXR1cm4gaS54PWUsaS55PXQsaX12YXIgUGY9WyJQb2x5Y29uaWMiLCJwb2x5Il0sSWY9e2luaXQ6Q2YsZm9yd2FyZDpMZixpbnZlcnNlOlJmLG5hbWVzOlBmfTtmdW5jdGlvbiBOZigpe3RoaXMuQT1bXSx0aGlzLkFbMV09LjYzOTkxNzUwNzMsdGhpcy5BWzJdPS0uMTM1ODc5NzYxMyx0aGlzLkFbM109LjA2MzI5NDQwOSx0aGlzLkFbNF09LS4wMjUyNjg1Myx0aGlzLkFbNV09LjAxMTc4NzksdGhpcy5BWzZdPS0uMDA1NTE2MSx0aGlzLkFbN109LjAwMjY5MDYsdGhpcy5BWzhdPS0uMDAxMzMzLHRoaXMuQVs5XT02N2UtNSx0aGlzLkFbMTBdPS0zNGUtNSx0aGlzLkJfcmU9W10sdGhpcy5CX2ltPVtdLHRoaXMuQl9yZVsxXT0uNzU1Nzg1MzIyOCx0aGlzLkJfaW1bMV09MCx0aGlzLkJfcmVbMl09LjI0OTIwNDY0Nix0aGlzLkJfaW1bMl09LjAwMzM3MTUwNyx0aGlzLkJfcmVbM109LS4wMDE1NDE3MzksdGhpcy5CX2ltWzNdPS4wNDEwNTg1Nix0aGlzLkJfcmVbNF09LS4xMDE2MjkwNyx0aGlzLkJfaW1bNF09LjAxNzI3NjA5LHRoaXMuQl9yZVs1XT0tLjI2NjIzNDg5LHRoaXMuQl9pbVs1XT0tLjM2MjQ5MjE4LHRoaXMuQl9yZVs2XT0tLjY4NzA5ODMsdGhpcy5CX2ltWzZdPS0xLjE2NTE5NjcsdGhpcy5DX3JlPVtdLHRoaXMuQ19pbT1bXSx0aGlzLkNfcmVbMV09MS4zMjMxMjcwNDM5LHRoaXMuQ19pbVsxXT0wLHRoaXMuQ19yZVsyXT0tLjU3NzI0NTc4OSx0aGlzLkNfaW1bMl09LS4wMDc4MDk1OTgsdGhpcy5DX3JlWzNdPS41MDgzMDc1MTMsdGhpcy5DX2ltWzNdPS0uMTEyMjA4OTUyLHRoaXMuQ19yZVs0XT0tLjE1MDk0NzYyLHRoaXMuQ19pbVs0XT0uMTgyMDA2MDIsdGhpcy5DX3JlWzVdPTEuMDE0MTgxNzksdGhpcy5DX2ltWzVdPTEuNjQ0OTc2OTYsdGhpcy5DX3JlWzZdPTEuOTY2MDU0OSx0aGlzLkNfaW1bNl09Mi41MTI3NjQ1LHRoaXMuRD1bXSx0aGlzLkRbMV09MS41NjI3MDE0MjQzLHRoaXMuRFsyXT0uNTE4NTQwNjM5OCx0aGlzLkRbM109LS4wMzMzMzA5OCx0aGlzLkRbNF09LS4xMDUyOTA2LHRoaXMuRFs1XT0tLjAzNjg1OTQsdGhpcy5EWzZdPS4wMDczMTcsdGhpcy5EWzddPS4wMTIyLHRoaXMuRFs4XT0uMDAzOTQsdGhpcy5EWzldPS0uMDAxM31mdW5jdGlvbiBEZihpKXt2YXIgZSx0PWkueCxyPWkueSxzPXItdGhpcy5sYXQwLGE9dC10aGlzLmxvbmcwLG49cy9scyoxZS01LG89YSxoPTEsbD0wO2ZvcihlPTE7ZTw9MTA7ZSsrKWg9aCpuLGw9bCt0aGlzLkFbZV0qaDt2YXIgYz1sLHU9byxkPTEscD0wLGcsZixtPTAsdj0wO2ZvcihlPTE7ZTw9NjtlKyspZz1kKmMtcCp1LGY9cCpjK2QqdSxkPWcscD1mLG09bSt0aGlzLkJfcmVbZV0qZC10aGlzLkJfaW1bZV0qcCx2PXYrdGhpcy5CX2ltW2VdKmQrdGhpcy5CX3JlW2VdKnA7cmV0dXJuIGkueD12KnRoaXMuYSt0aGlzLngwLGkueT1tKnRoaXMuYSt0aGlzLnkwLGl9ZnVuY3Rpb24gT2YoaSl7dmFyIGUsdD1pLngscj1pLnkscz10LXRoaXMueDAsYT1yLXRoaXMueTAsbj1hL3RoaXMuYSxvPXMvdGhpcy5hLGg9MSxsPTAsYyx1LGQ9MCxwPTA7Zm9yKGU9MTtlPD02O2UrKyljPWgqbi1sKm8sdT1sKm4raCpvLGg9YyxsPXUsZD1kK3RoaXMuQ19yZVtlXSpoLXRoaXMuQ19pbVtlXSpsLHA9cCt0aGlzLkNfaW1bZV0qaCt0aGlzLkNfcmVbZV0qbDtmb3IodmFyIGc9MDtnPHRoaXMuaXRlcmF0aW9ucztnKyspe3ZhciBmPWQsbT1wLHYseSxUPW4sdz1vO2ZvcihlPTI7ZTw9NjtlKyspdj1mKmQtbSpwLHk9bSpkK2YqcCxmPXYsbT15LFQ9VCsoZS0xKSoodGhpcy5CX3JlW2VdKmYtdGhpcy5CX2ltW2VdKm0pLHc9dysoZS0xKSoodGhpcy5CX2ltW2VdKmYrdGhpcy5CX3JlW2VdKm0pO2Y9MSxtPTA7dmFyIGI9dGhpcy5CX3JlWzFdLEw9dGhpcy5CX2ltWzFdO2ZvcihlPTI7ZTw9NjtlKyspdj1mKmQtbSpwLHk9bSpkK2YqcCxmPXYsbT15LGI9YitlKih0aGlzLkJfcmVbZV0qZi10aGlzLkJfaW1bZV0qbSksTD1MK2UqKHRoaXMuQl9pbVtlXSpmK3RoaXMuQl9yZVtlXSptKTt2YXIgUD1iKmIrTCpMO2Q9KFQqYit3KkwpL1AscD0odypiLVQqTCkvUH12YXIgaz1kLGllPXAsTz0xLHg9MDtmb3IoZT0xO2U8PTk7ZSsrKU89TyprLHg9eCt0aGlzLkRbZV0qTzt2YXIgQz10aGlzLmxhdDAreCpscyoxZTUsWT10aGlzLmxvbmcwK2llO3JldHVybiBpLng9WSxpLnk9QyxpfXZhciB6Zj1bIk5ld19aZWFsYW5kX01hcF9HcmlkIiwibnptZyJdLEJmPXtpbml0Ok5mLGZvcndhcmQ6RGYsaW52ZXJzZTpPZixuYW1lczp6Zn07ZnVuY3Rpb24gVWYoKXt9ZnVuY3Rpb24gRmYoaSl7dmFyIGU9aS54LHQ9aS55LHI9dWUoZS10aGlzLmxvbmcwKSxzPXRoaXMueDArdGhpcy5hKnIsYT10aGlzLnkwK3RoaXMuYSpNYXRoLmxvZyhNYXRoLnRhbihNYXRoLlBJLzQrdC8yLjUpKSoxLjI1O3JldHVybiBpLng9cyxpLnk9YSxpfWZ1bmN0aW9uIEhmKGkpe2kueC09dGhpcy54MCxpLnktPXRoaXMueTA7dmFyIGU9dWUodGhpcy5sb25nMCtpLngvdGhpcy5hKSx0PTIuNSooTWF0aC5hdGFuKE1hdGguZXhwKC44KmkueS90aGlzLmEpKS1NYXRoLlBJLzQpO3JldHVybiBpLng9ZSxpLnk9dCxpfXZhciBrZj1bIk1pbGxlcl9DeWxpbmRyaWNhbCIsIm1pbGwiXSxHZj17aW5pdDpVZixmb3J3YXJkOkZmLGludmVyc2U6SGYsbmFtZXM6a2Z9LFZmPTIwO2Z1bmN0aW9uIFdmKCl7dGhpcy5zcGhlcmU/KHRoaXMubj0xLHRoaXMubT0wLHRoaXMuZXM9MCx0aGlzLkNfeT1NYXRoLnNxcnQoKHRoaXMubSsxKS90aGlzLm4pLHRoaXMuQ194PXRoaXMuQ195Lyh0aGlzLm0rMSkpOnRoaXMuZW49VGgodGhpcy5lcyl9ZnVuY3Rpb24gamYoaSl7dmFyIGUsdCxyPWkueCxzPWkueTtpZihyPXVlKHItdGhpcy5sb25nMCksdGhpcy5zcGhlcmUpe2lmKCF0aGlzLm0pcz10aGlzLm4hPT0xP01hdGguYXNpbih0aGlzLm4qTWF0aC5zaW4ocykpOnM7ZWxzZSBmb3IodmFyIGE9dGhpcy5uKk1hdGguc2luKHMpLG49VmY7bjstLW4pe3ZhciBvPSh0aGlzLm0qcytNYXRoLnNpbihzKS1hKS8odGhpcy5tK01hdGguY29zKHMpKTtpZihzLT1vLE1hdGguYWJzKG8pPG5lKWJyZWFrfWU9dGhpcy5hKnRoaXMuQ194KnIqKHRoaXMubStNYXRoLmNvcyhzKSksdD10aGlzLmEqdGhpcy5DX3kqc31lbHNle3ZhciBoPU1hdGguc2luKHMpLGw9TWF0aC5jb3Mocyk7dD10aGlzLmEqcmEocyxoLGwsdGhpcy5lbiksZT10aGlzLmEqcipsL01hdGguc3FydCgxLXRoaXMuZXMqaCpoKX1yZXR1cm4gaS54PWUsaS55PXQsaX1mdW5jdGlvbiBxZihpKXt2YXIgZSx0LHIscztyZXR1cm4gaS54LT10aGlzLngwLHI9aS54L3RoaXMuYSxpLnktPXRoaXMueTAsZT1pLnkvdGhpcy5hLHRoaXMuc3BoZXJlPyhlLz10aGlzLkNfeSxyPXIvKHRoaXMuQ194Kih0aGlzLm0rTWF0aC5jb3MoZSkpKSx0aGlzLm0/ZT1QaSgodGhpcy5tKmUrTWF0aC5zaW4oZSkpL3RoaXMubik6dGhpcy5uIT09MSYmKGU9UGkoTWF0aC5zaW4oZSkvdGhpcy5uKSkscj11ZShyK3RoaXMubG9uZzApLGU9Z3IoZSkpOihlPUFoKGkueS90aGlzLmEsdGhpcy5lcyx0aGlzLmVuKSxzPU1hdGguYWJzKGUpLHM8Sz8ocz1NYXRoLnNpbihlKSx0PXRoaXMubG9uZzAraS54Kk1hdGguc3FydCgxLXRoaXMuZXMqcypzKS8odGhpcy5hKk1hdGguY29zKGUpKSxyPXVlKHQpKTpzLW5lPEsmJihyPXRoaXMubG9uZzApKSxpLng9cixpLnk9ZSxpfXZhciBYZj1bIlNpbnVzb2lkYWwiLCJzaW51Il0sSmY9e2luaXQ6V2YsZm9yd2FyZDpqZixpbnZlcnNlOnFmLG5hbWVzOlhmfTtmdW5jdGlvbiBZZigpe31mdW5jdGlvbiBaZihpKXtmb3IodmFyIGU9aS54LHQ9aS55LHI9dWUoZS10aGlzLmxvbmcwKSxzPXQsYT1NYXRoLlBJKk1hdGguc2luKHQpOzspe3ZhciBuPS0ocytNYXRoLnNpbihzKS1hKS8oMStNYXRoLmNvcyhzKSk7aWYocys9bixNYXRoLmFicyhuKTxuZSlicmVha31zLz0yLE1hdGguUEkvMi1NYXRoLmFicyh0KTxuZSYmKHI9MCk7dmFyIG89LjkwMDMxNjMxNjE1OCp0aGlzLmEqcipNYXRoLmNvcyhzKSt0aGlzLngwLGg9MS40MTQyMTM1NjIzNzMxKnRoaXMuYSpNYXRoLnNpbihzKSt0aGlzLnkwO3JldHVybiBpLng9byxpLnk9aCxpfWZ1bmN0aW9uIEtmKGkpe3ZhciBlLHQ7aS54LT10aGlzLngwLGkueS09dGhpcy55MCx0PWkueS8oMS40MTQyMTM1NjIzNzMxKnRoaXMuYSksTWF0aC5hYnModCk+Ljk5OTk5OTk5OTk5OSYmKHQ9Ljk5OTk5OTk5OTk5OSksZT1NYXRoLmFzaW4odCk7dmFyIHI9dWUodGhpcy5sb25nMCtpLngvKC45MDAzMTYzMTYxNTgqdGhpcy5hKk1hdGguY29zKGUpKSk7cjwtTWF0aC5QSSYmKHI9LU1hdGguUEkpLHI+TWF0aC5QSSYmKHI9TWF0aC5QSSksdD0oMiplK01hdGguc2luKDIqZSkpL01hdGguUEksTWF0aC5hYnModCk+MSYmKHQ9MSk7dmFyIHM9TWF0aC5hc2luKHQpO3JldHVybiBpLng9cixpLnk9cyxpfXZhciBRZj1bIk1vbGx3ZWlkZSIsIm1vbGwiXSwkZj17aW5pdDpZZixmb3J3YXJkOlpmLGludmVyc2U6S2YsbmFtZXM6UWZ9O2Z1bmN0aW9uIGVtKCl7TWF0aC5hYnModGhpcy5sYXQxK3RoaXMubGF0Mik8bmV8fCh0aGlzLmxhdDI9dGhpcy5sYXQyfHx0aGlzLmxhdDEsdGhpcy50ZW1wPXRoaXMuYi90aGlzLmEsdGhpcy5lcz0xLU1hdGgucG93KHRoaXMudGVtcCwyKSx0aGlzLmU9TWF0aC5zcXJ0KHRoaXMuZXMpLHRoaXMuZTA9Z3ModGhpcy5lcyksdGhpcy5lMT12cyh0aGlzLmVzKSx0aGlzLmUyPXhzKHRoaXMuZXMpLHRoaXMuZTM9X3ModGhpcy5lcyksdGhpcy5zaW5waGk9TWF0aC5zaW4odGhpcy5sYXQxKSx0aGlzLmNvc3BoaT1NYXRoLmNvcyh0aGlzLmxhdDEpLHRoaXMubXMxPWlpKHRoaXMuZSx0aGlzLnNpbnBoaSx0aGlzLmNvc3BoaSksdGhpcy5tbDE9RXQodGhpcy5lMCx0aGlzLmUxLHRoaXMuZTIsdGhpcy5lMyx0aGlzLmxhdDEpLE1hdGguYWJzKHRoaXMubGF0MS10aGlzLmxhdDIpPG5lP3RoaXMubnM9dGhpcy5zaW5waGk6KHRoaXMuc2lucGhpPU1hdGguc2luKHRoaXMubGF0MiksdGhpcy5jb3NwaGk9TWF0aC5jb3ModGhpcy5sYXQyKSx0aGlzLm1zMj1paSh0aGlzLmUsdGhpcy5zaW5waGksdGhpcy5jb3NwaGkpLHRoaXMubWwyPUV0KHRoaXMuZTAsdGhpcy5lMSx0aGlzLmUyLHRoaXMuZTMsdGhpcy5sYXQyKSx0aGlzLm5zPSh0aGlzLm1zMS10aGlzLm1zMikvKHRoaXMubWwyLXRoaXMubWwxKSksdGhpcy5nPXRoaXMubWwxK3RoaXMubXMxL3RoaXMubnMsdGhpcy5tbDA9RXQodGhpcy5lMCx0aGlzLmUxLHRoaXMuZTIsdGhpcy5lMyx0aGlzLmxhdDApLHRoaXMucmg9dGhpcy5hKih0aGlzLmctdGhpcy5tbDApKX1mdW5jdGlvbiB0bShpKXt2YXIgZT1pLngsdD1pLnkscjtpZih0aGlzLnNwaGVyZSlyPXRoaXMuYSoodGhpcy5nLXQpO2Vsc2V7dmFyIHM9RXQodGhpcy5lMCx0aGlzLmUxLHRoaXMuZTIsdGhpcy5lMyx0KTtyPXRoaXMuYSoodGhpcy5nLXMpfXZhciBhPXRoaXMubnMqdWUoZS10aGlzLmxvbmcwKSxuPXRoaXMueDArcipNYXRoLnNpbihhKSxvPXRoaXMueTArdGhpcy5yaC1yKk1hdGguY29zKGEpO3JldHVybiBpLng9bixpLnk9byxpfWZ1bmN0aW9uIGltKGkpe2kueC09dGhpcy54MCxpLnk9dGhpcy5yaC1pLnkrdGhpcy55MDt2YXIgZSx0LHIsczt0aGlzLm5zPj0wPyh0PU1hdGguc3FydChpLngqaS54K2kueSppLnkpLGU9MSk6KHQ9LU1hdGguc3FydChpLngqaS54K2kueSppLnkpLGU9LTEpO3ZhciBhPTA7aWYodCE9PTAmJihhPU1hdGguYXRhbjIoZSppLngsZSppLnkpKSx0aGlzLnNwaGVyZSlyZXR1cm4gcz11ZSh0aGlzLmxvbmcwK2EvdGhpcy5ucykscj1ncih0aGlzLmctdC90aGlzLmEpLGkueD1zLGkueT1yLGk7dmFyIG49dGhpcy5nLXQvdGhpcy5hO3JldHVybiByPW5hKG4sdGhpcy5lMCx0aGlzLmUxLHRoaXMuZTIsdGhpcy5lMykscz11ZSh0aGlzLmxvbmcwK2EvdGhpcy5ucyksaS54PXMsaS55PXIsaX12YXIgcm09WyJFcXVpZGlzdGFudF9Db25pYyIsImVxZGMiXSxzbT17aW5pdDplbSxmb3J3YXJkOnRtLGludmVyc2U6aW0sbmFtZXM6cm19O2Z1bmN0aW9uIGFtKCl7dGhpcy5SPXRoaXMuYX1mdW5jdGlvbiBubShpKXt2YXIgZT1pLngsdD1pLnkscj11ZShlLXRoaXMubG9uZzApLHMsYTtNYXRoLmFicyh0KTw9bmUmJihzPXRoaXMueDArdGhpcy5SKnIsYT10aGlzLnkwKTt2YXIgbj1QaSgyKk1hdGguYWJzKHQvTWF0aC5QSSkpOyhNYXRoLmFicyhyKTw9bmV8fE1hdGguYWJzKE1hdGguYWJzKHQpLUspPD1uZSkmJihzPXRoaXMueDAsdD49MD9hPXRoaXMueTArTWF0aC5QSSp0aGlzLlIqTWF0aC50YW4oLjUqbik6YT10aGlzLnkwK01hdGguUEkqdGhpcy5SKi1NYXRoLnRhbiguNSpuKSk7dmFyIG89LjUqTWF0aC5hYnMoTWF0aC5QSS9yLXIvTWF0aC5QSSksaD1vKm8sbD1NYXRoLnNpbihuKSxjPU1hdGguY29zKG4pLHU9Yy8obCtjLTEpLGQ9dSp1LHA9dSooMi9sLTEpLGc9cCpwLGY9TWF0aC5QSSp0aGlzLlIqKG8qKHUtZykrTWF0aC5zcXJ0KGgqKHUtZykqKHUtZyktKGcraCkqKGQtZykpKS8oZytoKTtyPDAmJihmPS1mKSxzPXRoaXMueDArZjt2YXIgbT1oK3U7cmV0dXJuIGY9TWF0aC5QSSp0aGlzLlIqKHAqbS1vKk1hdGguc3FydCgoZytoKSooaCsxKS1tKm0pKS8oZytoKSx0Pj0wP2E9dGhpcy55MCtmOmE9dGhpcy55MC1mLGkueD1zLGkueT1hLGl9ZnVuY3Rpb24gb20oaSl7dmFyIGUsdCxyLHMsYSxuLG8saCxsLGMsdSxkLHA7cmV0dXJuIGkueC09dGhpcy54MCxpLnktPXRoaXMueTAsdT1NYXRoLlBJKnRoaXMuUixyPWkueC91LHM9aS55L3UsYT1yKnIrcypzLG49LU1hdGguYWJzKHMpKigxK2EpLG89bi0yKnMqcytyKnIsaD0tMipuKzErMipzKnMrYSphLHA9cypzL2grKDIqbypvKm8vaC9oL2gtOSpuKm8vaC9oKS8yNyxsPShuLW8qby8zL2gpL2gsYz0yKk1hdGguc3FydCgtbC8zKSx1PTMqcC9sL2MsTWF0aC5hYnModSk+MSYmKHU+PTA/dT0xOnU9LTEpLGQ9TWF0aC5hY29zKHUpLzMsaS55Pj0wP3Q9KC1jKk1hdGguY29zKGQrTWF0aC5QSS8zKS1vLzMvaCkqTWF0aC5QSTp0PS0oLWMqTWF0aC5jb3MoZCtNYXRoLlBJLzMpLW8vMy9oKSpNYXRoLlBJLE1hdGguYWJzKHIpPG5lP2U9dGhpcy5sb25nMDplPXVlKHRoaXMubG9uZzArTWF0aC5QSSooYS0xK01hdGguc3FydCgxKzIqKHIqci1zKnMpK2EqYSkpLzIvciksaS54PWUsaS55PXQsaX12YXIgaG09WyJWYW5fZGVyX0dyaW50ZW5fSSIsIlZhbkRlckdyaW50ZW4iLCJ2YW5kZyJdLGxtPXtpbml0OmFtLGZvcndhcmQ6bm0saW52ZXJzZTpvbSxuYW1lczpobX07ZnVuY3Rpb24gY20oKXt0aGlzLnNpbl9wMTI9TWF0aC5zaW4odGhpcy5sYXQwKSx0aGlzLmNvc19wMTI9TWF0aC5jb3ModGhpcy5sYXQwKX1mdW5jdGlvbiB1bShpKXt2YXIgZT1pLngsdD1pLnkscj1NYXRoLnNpbihpLnkpLHM9TWF0aC5jb3MoaS55KSxhPXVlKGUtdGhpcy5sb25nMCksbixvLGgsbCxjLHUsZCxwLGcsZixtLHYseSxULHcsYixMLFAsayxpZSxPLHgsQztyZXR1cm4gdGhpcy5zcGhlcmU/TWF0aC5hYnModGhpcy5zaW5fcDEyLTEpPD1uZT8oaS54PXRoaXMueDArdGhpcy5hKihLLXQpKk1hdGguc2luKGEpLGkueT10aGlzLnkwLXRoaXMuYSooSy10KSpNYXRoLmNvcyhhKSxpKTpNYXRoLmFicyh0aGlzLnNpbl9wMTIrMSk8PW5lPyhpLng9dGhpcy54MCt0aGlzLmEqKEsrdCkqTWF0aC5zaW4oYSksaS55PXRoaXMueTArdGhpcy5hKihLK3QpKk1hdGguY29zKGEpLGkpOihQPXRoaXMuc2luX3AxMipyK3RoaXMuY29zX3AxMipzKk1hdGguY29zKGEpLGI9TWF0aC5hY29zKFApLEw9Yj9iL01hdGguc2luKGIpOjEsaS54PXRoaXMueDArdGhpcy5hKkwqcypNYXRoLnNpbihhKSxpLnk9dGhpcy55MCt0aGlzLmEqTCoodGhpcy5jb3NfcDEyKnItdGhpcy5zaW5fcDEyKnMqTWF0aC5jb3MoYSkpLGkpOihuPWdzKHRoaXMuZXMpLG89dnModGhpcy5lcyksaD14cyh0aGlzLmVzKSxsPV9zKHRoaXMuZXMpLE1hdGguYWJzKHRoaXMuc2luX3AxMi0xKTw9bmU/KGM9dGhpcy5hKkV0KG4sbyxoLGwsSyksdT10aGlzLmEqRXQobixvLGgsbCx0KSxpLng9dGhpcy54MCsoYy11KSpNYXRoLnNpbihhKSxpLnk9dGhpcy55MC0oYy11KSpNYXRoLmNvcyhhKSxpKTpNYXRoLmFicyh0aGlzLnNpbl9wMTIrMSk8PW5lPyhjPXRoaXMuYSpFdChuLG8saCxsLEspLHU9dGhpcy5hKkV0KG4sbyxoLGwsdCksaS54PXRoaXMueDArKGMrdSkqTWF0aC5zaW4oYSksaS55PXRoaXMueTArKGMrdSkqTWF0aC5jb3MoYSksaSk6KGQ9ci9zLHA9bXIodGhpcy5hLHRoaXMuZSx0aGlzLnNpbl9wMTIpLGc9bXIodGhpcy5hLHRoaXMuZSxyKSxmPU1hdGguYXRhbigoMS10aGlzLmVzKSpkK3RoaXMuZXMqcCp0aGlzLnNpbl9wMTIvKGcqcykpLG09TWF0aC5hdGFuMihNYXRoLnNpbihhKSx0aGlzLmNvc19wMTIqTWF0aC50YW4oZiktdGhpcy5zaW5fcDEyKk1hdGguY29zKGEpKSxtPT09MD9rPU1hdGguYXNpbih0aGlzLmNvc19wMTIqTWF0aC5zaW4oZiktdGhpcy5zaW5fcDEyKk1hdGguY29zKGYpKTpNYXRoLmFicyhNYXRoLmFicyhtKS1NYXRoLlBJKTw9bmU/az0tTWF0aC5hc2luKHRoaXMuY29zX3AxMipNYXRoLnNpbihmKS10aGlzLnNpbl9wMTIqTWF0aC5jb3MoZikpOms9TWF0aC5hc2luKE1hdGguc2luKGEpKk1hdGguY29zKGYpL01hdGguc2luKG0pKSx2PXRoaXMuZSp0aGlzLnNpbl9wMTIvTWF0aC5zcXJ0KDEtdGhpcy5lcykseT10aGlzLmUqdGhpcy5jb3NfcDEyKk1hdGguY29zKG0pL01hdGguc3FydCgxLXRoaXMuZXMpLFQ9dip5LHc9eSp5LGllPWsqayxPPWllKmsseD1PKmssQz14KmssYj1wKmsqKDEtaWUqdyooMS13KS82K08vOCpUKigxLTIqdykreC8xMjAqKHcqKDQtNyp3KS0zKnYqdiooMS03KncpKS1DLzQ4KlQpLGkueD10aGlzLngwK2IqTWF0aC5zaW4obSksaS55PXRoaXMueTArYipNYXRoLmNvcyhtKSxpKSl9ZnVuY3Rpb24gZG0oaSl7aS54LT10aGlzLngwLGkueS09dGhpcy55MDt2YXIgZSx0LHIscyxhLG4sbyxoLGwsYyx1LGQscCxnLGYsbSx2LHksVCx3LGIsTCxQLGs7cmV0dXJuIHRoaXMuc3BoZXJlPyhlPU1hdGguc3FydChpLngqaS54K2kueSppLnkpLGU+MipLKnRoaXMuYT92b2lkIDA6KHQ9ZS90aGlzLmEscj1NYXRoLnNpbih0KSxzPU1hdGguY29zKHQpLGE9dGhpcy5sb25nMCxNYXRoLmFicyhlKTw9bmU/bj10aGlzLmxhdDA6KG49UGkocyp0aGlzLnNpbl9wMTIraS55KnIqdGhpcy5jb3NfcDEyL2UpLG89TWF0aC5hYnModGhpcy5sYXQwKS1LLE1hdGguYWJzKG8pPD1uZT90aGlzLmxhdDA+PTA/YT11ZSh0aGlzLmxvbmcwK01hdGguYXRhbjIoaS54LC1pLnkpKTphPXVlKHRoaXMubG9uZzAtTWF0aC5hdGFuMigtaS54LGkueSkpOmE9dWUodGhpcy5sb25nMCtNYXRoLmF0YW4yKGkueCpyLGUqdGhpcy5jb3NfcDEyKnMtaS55KnRoaXMuc2luX3AxMipyKSkpLGkueD1hLGkueT1uLGkpKTooaD1ncyh0aGlzLmVzKSxsPXZzKHRoaXMuZXMpLGM9eHModGhpcy5lcyksdT1fcyh0aGlzLmVzKSxNYXRoLmFicyh0aGlzLnNpbl9wMTItMSk8PW5lPyhkPXRoaXMuYSpFdChoLGwsYyx1LEspLGU9TWF0aC5zcXJ0KGkueCppLngraS55KmkueSkscD1kLWUsbj1uYShwL3RoaXMuYSxoLGwsYyx1KSxhPXVlKHRoaXMubG9uZzArTWF0aC5hdGFuMihpLngsLTEqaS55KSksaS54PWEsaS55PW4saSk6TWF0aC5hYnModGhpcy5zaW5fcDEyKzEpPD1uZT8oZD10aGlzLmEqRXQoaCxsLGMsdSxLKSxlPU1hdGguc3FydChpLngqaS54K2kueSppLnkpLHA9ZS1kLG49bmEocC90aGlzLmEsaCxsLGMsdSksYT11ZSh0aGlzLmxvbmcwK01hdGguYXRhbjIoaS54LGkueSkpLGkueD1hLGkueT1uLGkpOihlPU1hdGguc3FydChpLngqaS54K2kueSppLnkpLG09TWF0aC5hdGFuMihpLngsaS55KSxnPW1yKHRoaXMuYSx0aGlzLmUsdGhpcy5zaW5fcDEyKSx2PU1hdGguY29zKG0pLHk9dGhpcy5lKnRoaXMuY29zX3AxMip2LFQ9LXkqeS8oMS10aGlzLmVzKSx3PTMqdGhpcy5lcyooMS1UKSp0aGlzLnNpbl9wMTIqdGhpcy5jb3NfcDEyKnYvKDEtdGhpcy5lcyksYj1lL2csTD1iLVQqKDErVCkqTWF0aC5wb3coYiwzKS82LXcqKDErMypUKSpNYXRoLnBvdyhiLDQpLzI0LFA9MS1UKkwqTC8yLWIqTCpMKkwvNixmPU1hdGguYXNpbih0aGlzLnNpbl9wMTIqTWF0aC5jb3MoTCkrdGhpcy5jb3NfcDEyKk1hdGguc2luKEwpKnYpLGE9dWUodGhpcy5sb25nMCtNYXRoLmFzaW4oTWF0aC5zaW4obSkqTWF0aC5zaW4oTCkvTWF0aC5jb3MoZikpKSxrPU1hdGguc2luKGYpLG49TWF0aC5hdGFuMigoay10aGlzLmVzKlAqdGhpcy5zaW5fcDEyKSpNYXRoLnRhbihmKSxrKigxLXRoaXMuZXMpKSxpLng9YSxpLnk9bixpKSl9dmFyIHBtPVsiQXppbXV0aGFsX0VxdWlkaXN0YW50IiwiYWVxZCJdLGZtPXtpbml0OmNtLGZvcndhcmQ6dW0saW52ZXJzZTpkbSxuYW1lczpwbX07ZnVuY3Rpb24gbW0oKXt0aGlzLnNpbl9wMTQ9TWF0aC5zaW4odGhpcy5sYXQwKSx0aGlzLmNvc19wMTQ9TWF0aC5jb3ModGhpcy5sYXQwKX1mdW5jdGlvbiBnbShpKXt2YXIgZSx0LHIscyxhLG4sbyxoLGw9aS54LGM9aS55O3JldHVybiByPXVlKGwtdGhpcy5sb25nMCksZT1NYXRoLnNpbihjKSx0PU1hdGguY29zKGMpLHM9TWF0aC5jb3Mociksbj10aGlzLnNpbl9wMTQqZSt0aGlzLmNvc19wMTQqdCpzLGE9MSwobj4wfHxNYXRoLmFicyhuKTw9bmUpJiYobz10aGlzLmEqYSp0Kk1hdGguc2luKHIpLGg9dGhpcy55MCt0aGlzLmEqYSoodGhpcy5jb3NfcDE0KmUtdGhpcy5zaW5fcDE0KnQqcykpLGkueD1vLGkueT1oLGl9ZnVuY3Rpb24gdm0oaSl7dmFyIGUsdCxyLHMsYSxuLG87cmV0dXJuIGkueC09dGhpcy54MCxpLnktPXRoaXMueTAsZT1NYXRoLnNxcnQoaS54KmkueCtpLnkqaS55KSx0PVBpKGUvdGhpcy5hKSxyPU1hdGguc2luKHQpLHM9TWF0aC5jb3ModCksbj10aGlzLmxvbmcwLE1hdGguYWJzKGUpPD1uZT8obz10aGlzLmxhdDAsaS54PW4saS55PW8saSk6KG89UGkocyp0aGlzLnNpbl9wMTQraS55KnIqdGhpcy5jb3NfcDE0L2UpLGE9TWF0aC5hYnModGhpcy5sYXQwKS1LLE1hdGguYWJzKGEpPD1uZT8odGhpcy5sYXQwPj0wP249dWUodGhpcy5sb25nMCtNYXRoLmF0YW4yKGkueCwtaS55KSk6bj11ZSh0aGlzLmxvbmcwLU1hdGguYXRhbjIoLWkueCxpLnkpKSxpLng9bixpLnk9byxpKToobj11ZSh0aGlzLmxvbmcwK01hdGguYXRhbjIoaS54KnIsZSp0aGlzLmNvc19wMTQqcy1pLnkqdGhpcy5zaW5fcDE0KnIpKSxpLng9bixpLnk9byxpKSl9dmFyIHhtPVsib3J0aG8iXSxfbT17aW5pdDptbSxmb3J3YXJkOmdtLGludmVyc2U6dm0sbmFtZXM6eG19LHR0PXtGUk9OVDoxLFJJR0hUOjIsQkFDSzozLExFRlQ6NCxUT1A6NSxCT1RUT006Nn0sVmU9e0FSRUFfMDoxLEFSRUFfMToyLEFSRUFfMjozLEFSRUFfMzo0fTtmdW5jdGlvbiB5bSgpe3RoaXMueDA9dGhpcy54MHx8MCx0aGlzLnkwPXRoaXMueTB8fDAsdGhpcy5sYXQwPXRoaXMubGF0MHx8MCx0aGlzLmxvbmcwPXRoaXMubG9uZzB8fDAsdGhpcy5sYXRfdHM9dGhpcy5sYXRfdHN8fDAsdGhpcy50aXRsZT10aGlzLnRpdGxlfHwiUXVhZHJpbGF0ZXJhbGl6ZWQgU3BoZXJpY2FsIEN1YmUiLHRoaXMubGF0MD49Sy1HZS8yP3RoaXMuZmFjZT10dC5UT1A6dGhpcy5sYXQwPD0tKEstR2UvMik/dGhpcy5mYWNlPXR0LkJPVFRPTTpNYXRoLmFicyh0aGlzLmxvbmcwKTw9R2U/dGhpcy5mYWNlPXR0LkZST05UOk1hdGguYWJzKHRoaXMubG9uZzApPD1LK0dlP3RoaXMuZmFjZT10aGlzLmxvbmcwPjA/dHQuUklHSFQ6dHQuTEVGVDp0aGlzLmZhY2U9dHQuQkFDSyx0aGlzLmVzIT09MCYmKHRoaXMub25lX21pbnVzX2Y9MS0odGhpcy5hLXRoaXMuYikvdGhpcy5hLHRoaXMub25lX21pbnVzX2Zfc3F1YXJlZD10aGlzLm9uZV9taW51c19mKnRoaXMub25lX21pbnVzX2YpfWZ1bmN0aW9uIE1tKGkpe3ZhciBlPXt4OjAseTowfSx0LHIscyxhLG4sbyxoPXt2YWx1ZTowfTtpZihpLngtPXRoaXMubG9uZzAsdGhpcy5lcyE9PTA/dD1NYXRoLmF0YW4odGhpcy5vbmVfbWludXNfZl9zcXVhcmVkKk1hdGgudGFuKGkueSkpOnQ9aS55LHI9aS54LHRoaXMuZmFjZT09PXR0LlRPUClhPUstdCxyPj1HZSYmcjw9SytHZT8oaC52YWx1ZT1WZS5BUkVBXzAscz1yLUspOnI+SytHZXx8cjw9LShLK0dlKT8oaC52YWx1ZT1WZS5BUkVBXzEscz1yPjA/ci1zdDpyK3N0KTpyPi0oSytHZSkmJnI8PS1HZT8oaC52YWx1ZT1WZS5BUkVBXzIscz1yK0spOihoLnZhbHVlPVZlLkFSRUFfMyxzPXIpO2Vsc2UgaWYodGhpcy5mYWNlPT09dHQuQk9UVE9NKWE9Syt0LHI+PUdlJiZyPD1LK0dlPyhoLnZhbHVlPVZlLkFSRUFfMCxzPS1yK0spOnI8R2UmJnI+PS1HZT8oaC52YWx1ZT1WZS5BUkVBXzEscz0tcik6cjwtR2UmJnI+PS0oSytHZSk/KGgudmFsdWU9VmUuQVJFQV8yLHM9LXItSyk6KGgudmFsdWU9VmUuQVJFQV8zLHM9cj4wPy1yK3N0Oi1yLXN0KTtlbHNle3ZhciBsLGMsdSxkLHAsZyxmO3RoaXMuZmFjZT09PXR0LlJJR0hUP3I9dnIociwrSyk6dGhpcy5mYWNlPT09dHQuQkFDSz9yPXZyKHIsK3N0KTp0aGlzLmZhY2U9PT10dC5MRUZUJiYocj12cihyLC1LKSksZD1NYXRoLnNpbih0KSxwPU1hdGguY29zKHQpLGc9TWF0aC5zaW4ociksZj1NYXRoLmNvcyhyKSxsPXAqZixjPXAqZyx1PWQsdGhpcy5mYWNlPT09dHQuRlJPTlQ/KGE9TWF0aC5hY29zKGwpLHM9b2EoYSx1LGMsaCkpOnRoaXMuZmFjZT09PXR0LlJJR0hUPyhhPU1hdGguYWNvcyhjKSxzPW9hKGEsdSwtbCxoKSk6dGhpcy5mYWNlPT09dHQuQkFDSz8oYT1NYXRoLmFjb3MoLWwpLHM9b2EoYSx1LC1jLGgpKTp0aGlzLmZhY2U9PT10dC5MRUZUPyhhPU1hdGguYWNvcygtYykscz1vYShhLHUsbCxoKSk6KGE9cz0wLGgudmFsdWU9VmUuQVJFQV8wKX1yZXR1cm4gbz1NYXRoLmF0YW4oMTIvc3QqKHMrTWF0aC5hY29zKE1hdGguc2luKHMpKk1hdGguY29zKEdlKSktSykpLG49TWF0aC5zcXJ0KCgxLU1hdGguY29zKGEpKS8oTWF0aC5jb3MobykqTWF0aC5jb3MobykpLygxLU1hdGguY29zKE1hdGguYXRhbigxL01hdGguY29zKHMpKSkpKSxoLnZhbHVlPT09VmUuQVJFQV8xP28rPUs6aC52YWx1ZT09PVZlLkFSRUFfMj9vKz1zdDpoLnZhbHVlPT09VmUuQVJFQV8zJiYobys9MS41KnN0KSxlLng9bipNYXRoLmNvcyhvKSxlLnk9bipNYXRoLnNpbihvKSxlLng9ZS54KnRoaXMuYSt0aGlzLngwLGUueT1lLnkqdGhpcy5hK3RoaXMueTAsaS54PWUueCxpLnk9ZS55LGl9ZnVuY3Rpb24gYm0oaSl7dmFyIGU9e2xhbTowLHBoaTowfSx0LHIscyxhLG4sbyxoLGwsYyx1PXt2YWx1ZTowfTtpZihpLng9KGkueC10aGlzLngwKS90aGlzLmEsaS55PShpLnktdGhpcy55MCkvdGhpcy5hLHI9TWF0aC5hdGFuKE1hdGguc3FydChpLngqaS54K2kueSppLnkpKSx0PU1hdGguYXRhbjIoaS55LGkueCksaS54Pj0wJiZpLng+PU1hdGguYWJzKGkueSk/dS52YWx1ZT1WZS5BUkVBXzA6aS55Pj0wJiZpLnk+PU1hdGguYWJzKGkueCk/KHUudmFsdWU9VmUuQVJFQV8xLHQtPUspOmkueDwwJiYtaS54Pj1NYXRoLmFicyhpLnkpPyh1LnZhbHVlPVZlLkFSRUFfMix0PXQ8MD90K3N0OnQtc3QpOih1LnZhbHVlPVZlLkFSRUFfMyx0Kz1LKSxjPXN0LzEyKk1hdGgudGFuKHQpLG49TWF0aC5zaW4oYykvKE1hdGguY29zKGMpLTEvTWF0aC5zcXJ0KDIpKSxvPU1hdGguYXRhbihuKSxzPU1hdGguY29zKHQpLGE9TWF0aC50YW4ociksaD0xLXMqcyphKmEqKDEtTWF0aC5jb3MoTWF0aC5hdGFuKDEvTWF0aC5jb3MobykpKSksaDwtMT9oPS0xOmg+MSYmKGg9MSksdGhpcy5mYWNlPT09dHQuVE9QKWw9TWF0aC5hY29zKGgpLGUucGhpPUstbCx1LnZhbHVlPT09VmUuQVJFQV8wP2UubGFtPW8rSzp1LnZhbHVlPT09VmUuQVJFQV8xP2UubGFtPW88MD9vK3N0Om8tc3Q6dS52YWx1ZT09PVZlLkFSRUFfMj9lLmxhbT1vLUs6ZS5sYW09bztlbHNlIGlmKHRoaXMuZmFjZT09PXR0LkJPVFRPTSlsPU1hdGguYWNvcyhoKSxlLnBoaT1sLUssdS52YWx1ZT09PVZlLkFSRUFfMD9lLmxhbT0tbytLOnUudmFsdWU9PT1WZS5BUkVBXzE/ZS5sYW09LW86dS52YWx1ZT09PVZlLkFSRUFfMj9lLmxhbT0tby1LOmUubGFtPW88MD8tby1zdDotbytzdDtlbHNle3ZhciBkLHAsZztkPWgsYz1kKmQsYz49MT9nPTA6Zz1NYXRoLnNxcnQoMS1jKSpNYXRoLnNpbihvKSxjKz1nKmcsYz49MT9wPTA6cD1NYXRoLnNxcnQoMS1jKSx1LnZhbHVlPT09VmUuQVJFQV8xPyhjPXAscD0tZyxnPWMpOnUudmFsdWU9PT1WZS5BUkVBXzI/KHA9LXAsZz0tZyk6dS52YWx1ZT09PVZlLkFSRUFfMyYmKGM9cCxwPWcsZz0tYyksdGhpcy5mYWNlPT09dHQuUklHSFQ/KGM9ZCxkPS1wLHA9Yyk6dGhpcy5mYWNlPT09dHQuQkFDSz8oZD0tZCxwPS1wKTp0aGlzLmZhY2U9PT10dC5MRUZUJiYoYz1kLGQ9cCxwPS1jKSxlLnBoaT1NYXRoLmFjb3MoLWcpLUssZS5sYW09TWF0aC5hdGFuMihwLGQpLHRoaXMuZmFjZT09PXR0LlJJR0hUP2UubGFtPXZyKGUubGFtLC1LKTp0aGlzLmZhY2U9PT10dC5CQUNLP2UubGFtPXZyKGUubGFtLC1zdCk6dGhpcy5mYWNlPT09dHQuTEVGVCYmKGUubGFtPXZyKGUubGFtLCtLKSl9aWYodGhpcy5lcyE9PTApe3ZhciBmLG0sdjtmPWUucGhpPDA/MTowLG09TWF0aC50YW4oZS5waGkpLHY9dGhpcy5iL01hdGguc3FydChtKm0rdGhpcy5vbmVfbWludXNfZl9zcXVhcmVkKSxlLnBoaT1NYXRoLmF0YW4oTWF0aC5zcXJ0KHRoaXMuYSp0aGlzLmEtdip2KS8odGhpcy5vbmVfbWludXNfZip2KSksZiYmKGUucGhpPS1lLnBoaSl9cmV0dXJuIGUubGFtKz10aGlzLmxvbmcwLGkueD1lLmxhbSxpLnk9ZS5waGksaX1mdW5jdGlvbiBvYShpLGUsdCxyKXt2YXIgcztyZXR1cm4gaTxuZT8oci52YWx1ZT1WZS5BUkVBXzAscz0wKToocz1NYXRoLmF0YW4yKGUsdCksTWF0aC5hYnMocyk8PUdlP3IudmFsdWU9VmUuQVJFQV8wOnM+R2UmJnM8PUsrR2U/KHIudmFsdWU9VmUuQVJFQV8xLHMtPUspOnM+SytHZXx8czw9LShLK0dlKT8oci52YWx1ZT1WZS5BUkVBXzIscz1zPj0wP3Mtc3Q6cytzdCk6KHIudmFsdWU9VmUuQVJFQV8zLHMrPUspKSxzfWZ1bmN0aW9uIHZyKGksZSl7dmFyIHQ9aStlO3JldHVybiB0PC1zdD90Kz1jczp0PitzdCYmKHQtPWNzKSx0fXZhciB3bT1bIlF1YWRyaWxhdGVyYWxpemVkIFNwaGVyaWNhbCBDdWJlIiwiUXVhZHJpbGF0ZXJhbGl6ZWRfU3BoZXJpY2FsX0N1YmUiLCJxc2MiXSxTbT17aW5pdDp5bSxmb3J3YXJkOk1tLGludmVyc2U6Ym0sbmFtZXM6d219LF9uPVtbMSwyMjE5OWUtMjEsLTcxNTUxNWUtMTAsMzExMDNlLTEwXSxbLjk5ODYsLTQ4MjI0M2UtOSwtMjQ4OTdlLTksLTEzMzA5ZS0xMF0sWy45OTU0LC04MzEwM2UtOCwtNDQ4NjA1ZS0xMCwtOTg2NzAxZS0xMl0sWy45OSwtLjAwMTM1MzY0LC01OTY2MWUtOSwzNjc3N2UtMTBdLFsuOTgyMiwtLjAwMTY3NDQyLC00NDk1NDdlLTExLC01NzI0MTFlLTExXSxbLjk3MywtLjAwMjE0ODY4LC05MDM1NzFlLTEwLDE4NzM2ZS0xMl0sWy45NiwtLjAwMzA1MDg1LC05MDA3NjFlLTEwLDE2NDkxN2UtMTFdLFsuOTQyNywtLjAwMzgyNzkyLC02NTMzODZlLTEwLC0yNjE1NGUtMTBdLFsuOTIxNiwtLjAwNDY3NzQ2LC0xMDQ1N2UtOCw0ODEyNDNlLTExXSxbLjg5NjIsLS4wMDUzNjIyMywtMzIzODMxZS0xMCwtNTQzNDMyZS0xMV0sWy44Njc5LC0uMDA2MDkzNjMsLTExMzg5OGUtOSwzMzI0ODRlLTExXSxbLjgzNSwtLjAwNjk4MzI1LC02NDAyNTNlLTEwLDkzNDk1OWUtMTJdLFsuNzk4NiwtLjAwNzU1MzM4LC01MDAwMDllLTEwLDkzNTMyNGUtMTJdLFsuNzU5NywtLjAwNzk4MzI0LC0zNTk3MWUtOSwtMjI3NjI2ZS0xMV0sWy43MTg2LC0uMDA4NTEzNjcsLTcwMTE0OWUtMTAsLTg2MzAzZS0xMF0sWy42NzMyLC0uMDA5ODYyMDksLTE5OTU2OWUtOSwxOTE5NzRlLTEwXSxbLjYyMTMsLS4wMTA0MTgsODgzOTIzZS0xMCw2MjQwNTFlLTExXSxbLjU3MjIsLS4wMDkwNjYwMSwxODJlLTYsNjI0MDUxZS0xMV0sWy41MzIyLC0uMDA2Nzc3OTcsMjc1NjA4ZS05LDYyNDA1MWUtMTFdXSx5cz1bWy01MjA0MTdlLTIzLC4wMTI0LDEyMTQzMWUtMjMsLTg0NTI4NGUtMTZdLFsuMDYyLC4wMTI0LC0xMjY3OTNlLTE0LDQyMjY0MmUtMTVdLFsuMTI0LC4wMTI0LDUwNzE3MWUtMTQsLTE2MDYwNGUtMTRdLFsuMTg2LC4wMTIzOTk5LC0xOTAxODllLTEzLDYwMDE1MmUtMTRdLFsuMjQ4LC4wMTI0MDAyLDcxMDAzOWUtMTMsLTIyNGUtMTBdLFsuMzEsLjAxMjM5OTIsLTI2NDk5N2UtMTIsODM1OTg2ZS0xM10sWy4zNzIsLjAxMjQwMjksOTg4OTgzZS0xMiwtMzExOTk0ZS0xMl0sWy40MzQsLjAxMjM4OTMsLTM2OTA5M2UtMTEsLTQzNTYyMWUtMTJdLFsuNDk1OCwuMDEyMzE5OCwtMTAyMjUyZS0xMCwtMzQ1NTIzZS0xMl0sWy41NTcxLC4wMTIxOTE2LC0xNTQwODFlLTEwLC01ODIyODhlLTEyXSxbLjYxNzYsLjAxMTk5MzgsLTI0MTQyNGUtMTAsLTUyNTMyN2UtMTJdLFsuNjc2OSwuMDExNzEzLC0zMjAyMjNlLTEwLC01MTY0MDVlLTEyXSxbLjczNDYsLjAxMTM1NDEsLTM5NzY4NGUtMTAsLTYwOTA1MmUtMTJdLFsuNzkwMywuMDEwOTEwNywtNDg5MDQyZS0xMCwtMTA0NzM5ZS0xMV0sWy44NDM1LC4wMTAzNDMxLC02NDYxNWUtOSwtMTQwMzc0ZS0xNF0sWy44OTM2LC4wMDk2OTY4NiwtNjQ2MzZlLTksLTg1NDdlLTldLFsuOTM5NCwuMDA4NDA5NDcsLTE5Mjg0MWUtOSwtNDIxMDZlLTEwXSxbLjk3NjEsLjAwNjE2NTI3LC0yNTZlLTYsLTQyMTA2ZS0xMF0sWzEsLjAwMzI4OTQ3LC0zMTkxNTllLTksLTQyMTA2ZS0xMF1dLFBoPS44NDg3LEloPTEuMzUyMyxOaD10aS81LEVtPTEvTmgseHI9MTgsaGE9ZnVuY3Rpb24oaSxlKXtyZXR1cm4gaVswXStlKihpWzFdK2UqKGlbMl0rZSppWzNdKSl9LFRtPWZ1bmN0aW9uKGksZSl7cmV0dXJuIGlbMV0rZSooMippWzJdK2UqMyppWzNdKX07ZnVuY3Rpb24gQW0oaSxlLHQscil7Zm9yKHZhciBzPWU7cjstLXIpe3ZhciBhPWkocyk7aWYocy09YSxNYXRoLmFicyhhKTx0KWJyZWFrfXJldHVybiBzfWZ1bmN0aW9uIENtKCl7dGhpcy54MD10aGlzLngwfHwwLHRoaXMueTA9dGhpcy55MHx8MCx0aGlzLmxvbmcwPXRoaXMubG9uZzB8fDAsdGhpcy5lcz0wLHRoaXMudGl0bGU9dGhpcy50aXRsZXx8IlJvYmluc29uIn1mdW5jdGlvbiBMbShpKXt2YXIgZT11ZShpLngtdGhpcy5sb25nMCksdD1NYXRoLmFicyhpLnkpLHI9TWF0aC5mbG9vcih0Kk5oKTtyPDA/cj0wOnI+PXhyJiYocj14ci0xKSx0PXRpKih0LUVtKnIpO3ZhciBzPXt4OmhhKF9uW3JdLHQpKmUseTpoYSh5c1tyXSx0KX07cmV0dXJuIGkueTwwJiYocy55PS1zLnkpLHMueD1zLngqdGhpcy5hKlBoK3RoaXMueDAscy55PXMueSp0aGlzLmEqSWgrdGhpcy55MCxzfWZ1bmN0aW9uIFJtKGkpe3ZhciBlPXt4OihpLngtdGhpcy54MCkvKHRoaXMuYSpQaCkseTpNYXRoLmFicyhpLnktdGhpcy55MCkvKHRoaXMuYSpJaCl9O2lmKGUueT49MSllLngvPV9uW3hyXVswXSxlLnk9aS55PDA/LUs6SztlbHNle3ZhciB0PU1hdGguZmxvb3IoZS55KnhyKTtmb3IodDwwP3Q9MDp0Pj14ciYmKHQ9eHItMSk7OylpZih5c1t0XVswXT5lLnkpLS10O2Vsc2UgaWYoeXNbdCsxXVswXTw9ZS55KSsrdDtlbHNlIGJyZWFrO3ZhciByPXlzW3RdLHM9NSooZS55LXJbMF0pLyh5c1t0KzFdWzBdLXJbMF0pO3M9QW0oZnVuY3Rpb24oYSl7cmV0dXJuKGhhKHIsYSktZS55KS9UbShyLGEpfSxzLG5lLDEwMCksZS54Lz1oYShfblt0XSxzKSxlLnk9KDUqdCtzKSpndCxpLnk8MCYmKGUueT0tZS55KX1yZXR1cm4gZS54PXVlKGUueCt0aGlzLmxvbmcwKSxlfXZhciBQbT1bIlJvYmluc29uIiwicm9iaW4iXSxJbT17aW5pdDpDbSxmb3J3YXJkOkxtLGludmVyc2U6Um0sbmFtZXM6UG19O2Z1bmN0aW9uIE5tKCl7dGhpcy5uYW1lPSJnZW9jZW50In1mdW5jdGlvbiBEbShpKXt2YXIgZT1uaChpLHRoaXMuZXMsdGhpcy5hKTtyZXR1cm4gZX1mdW5jdGlvbiBPbShpKXt2YXIgZT1vaChpLHRoaXMuZXMsdGhpcy5hLHRoaXMuYik7cmV0dXJuIGV9dmFyIHptPVsiR2VvY2VudHJpYyIsImdlb2NlbnRyaWMiLCJnZW9jZW50IiwiR2VvY2VudCJdLEJtPXtpbml0Ok5tLGZvcndhcmQ6RG0saW52ZXJzZTpPbSxuYW1lczp6bX0sX3Q9e05fUE9MRTowLFNfUE9MRToxLEVRVUlUOjIsT0JMSVE6M30sTXM9e2g6e2RlZjoxZTUsbnVtOiEwfSxhemk6e2RlZjowLG51bTohMCxkZWdyZWVzOiEwfSx0aWx0OntkZWY6MCxudW06ITAsZGVncmVlczohMH0sbG9uZzA6e2RlZjowLG51bTohMH0sbGF0MDp7ZGVmOjAsbnVtOiEwfX07ZnVuY3Rpb24gVW0oKXtpZihPYmplY3Qua2V5cyhNcykuZm9yRWFjaChmdW5jdGlvbih0KXtpZih0eXBlb2YgdGhpc1t0XT4idSIpdGhpc1t0XT1Nc1t0XS5kZWY7ZWxzZXtpZihNc1t0XS5udW0mJmlzTmFOKHRoaXNbdF0pKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBwYXJhbWV0ZXIgdmFsdWUsIG11c3QgYmUgbnVtZXJpYyAiK3QrIiA9ICIrdGhpc1t0XSk7TXNbdF0ubnVtJiYodGhpc1t0XT1wYXJzZUZsb2F0KHRoaXNbdF0pKX1Nc1t0XS5kZWdyZWVzJiYodGhpc1t0XT10aGlzW3RdKmd0KX0uYmluZCh0aGlzKSksTWF0aC5hYnMoTWF0aC5hYnModGhpcy5sYXQwKS1LKTxuZT90aGlzLm1vZGU9dGhpcy5sYXQwPDA/X3QuU19QT0xFOl90Lk5fUE9MRTpNYXRoLmFicyh0aGlzLmxhdDApPG5lP3RoaXMubW9kZT1fdC5FUVVJVDoodGhpcy5tb2RlPV90Lk9CTElRLHRoaXMuc2lucGgwPU1hdGguc2luKHRoaXMubGF0MCksdGhpcy5jb3NwaDA9TWF0aC5jb3ModGhpcy5sYXQwKSksdGhpcy5wbjE9dGhpcy5oL3RoaXMuYSx0aGlzLnBuMTw9MHx8dGhpcy5wbjE+MWUxMCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgaGVpZ2h0Iik7dGhpcy5wPTErdGhpcy5wbjEsdGhpcy5ycD0xL3RoaXMucCx0aGlzLmgxPTEvdGhpcy5wbjEsdGhpcy5wZmFjdD0odGhpcy5wKzEpKnRoaXMuaDEsdGhpcy5lcz0wO3ZhciBpPXRoaXMudGlsdCxlPXRoaXMuYXppO3RoaXMuY2c9TWF0aC5jb3MoZSksdGhpcy5zZz1NYXRoLnNpbihlKSx0aGlzLmN3PU1hdGguY29zKGkpLHRoaXMuc3c9TWF0aC5zaW4oaSl9ZnVuY3Rpb24gRm0oaSl7aS54LT10aGlzLmxvbmcwO3ZhciBlPU1hdGguc2luKGkueSksdD1NYXRoLmNvcyhpLnkpLHI9TWF0aC5jb3MoaS54KSxzLGE7c3dpdGNoKHRoaXMubW9kZSl7Y2FzZSBfdC5PQkxJUTphPXRoaXMuc2lucGgwKmUrdGhpcy5jb3NwaDAqdCpyO2JyZWFrO2Nhc2UgX3QuRVFVSVQ6YT10KnI7YnJlYWs7Y2FzZSBfdC5TX1BPTEU6YT0tZTticmVhaztjYXNlIF90Lk5fUE9MRTphPWU7YnJlYWt9c3dpdGNoKGE9dGhpcy5wbjEvKHRoaXMucC1hKSxzPWEqdCpNYXRoLnNpbihpLngpLHRoaXMubW9kZSl7Y2FzZSBfdC5PQkxJUTphKj10aGlzLmNvc3BoMCplLXRoaXMuc2lucGgwKnQqcjticmVhaztjYXNlIF90LkVRVUlUOmEqPWU7YnJlYWs7Y2FzZSBfdC5OX1BPTEU6YSo9LSh0KnIpO2JyZWFrO2Nhc2UgX3QuU19QT0xFOmEqPXQqcjticmVha312YXIgbixvO3JldHVybiBuPWEqdGhpcy5jZytzKnRoaXMuc2csbz0xLyhuKnRoaXMuc3cqdGhpcy5oMSt0aGlzLmN3KSxzPShzKnRoaXMuY2ctYSp0aGlzLnNnKSp0aGlzLmN3Km8sYT1uKm8saS54PXMqdGhpcy5hLGkueT1hKnRoaXMuYSxpfWZ1bmN0aW9uIEhtKGkpe2kueC89dGhpcy5hLGkueS89dGhpcy5hO3ZhciBlPXt4OmkueCx5OmkueX0sdCxyLHM7cz0xLyh0aGlzLnBuMS1pLnkqdGhpcy5zdyksdD10aGlzLnBuMSppLngqcyxyPXRoaXMucG4xKmkueSp0aGlzLmN3KnMsaS54PXQqdGhpcy5jZytyKnRoaXMuc2csaS55PXIqdGhpcy5jZy10KnRoaXMuc2c7dmFyIGE9V3QoaS54LGkueSk7aWYoTWF0aC5hYnMoYSk8bmUpZS54PTAsZS55PWkueTtlbHNle3ZhciBuLG87c3dpdGNoKG89MS1hKmEqdGhpcy5wZmFjdCxvPSh0aGlzLnAtTWF0aC5zcXJ0KG8pKS8odGhpcy5wbjEvYSthL3RoaXMucG4xKSxuPU1hdGguc3FydCgxLW8qbyksdGhpcy5tb2RlKXtjYXNlIF90Lk9CTElROmUueT1NYXRoLmFzaW4obip0aGlzLnNpbnBoMCtpLnkqbyp0aGlzLmNvc3BoMC9hKSxpLnk9KG4tdGhpcy5zaW5waDAqTWF0aC5zaW4oZS55KSkqYSxpLngqPW8qdGhpcy5jb3NwaDA7YnJlYWs7Y2FzZSBfdC5FUVVJVDplLnk9TWF0aC5hc2luKGkueSpvL2EpLGkueT1uKmEsaS54Kj1vO2JyZWFrO2Nhc2UgX3QuTl9QT0xFOmUueT1NYXRoLmFzaW4obiksaS55PS1pLnk7YnJlYWs7Y2FzZSBfdC5TX1BPTEU6ZS55PS1NYXRoLmFzaW4obik7YnJlYWt9ZS54PU1hdGguYXRhbjIoaS54LGkueSl9cmV0dXJuIGkueD1lLngrdGhpcy5sb25nMCxpLnk9ZS55LGl9dmFyIGttPVsiVGlsdGVkX1BlcnNwZWN0aXZlIiwidHBlcnMiXSxHbT17aW5pdDpVbSxmb3J3YXJkOkZtLGludmVyc2U6SG0sbmFtZXM6a219O2Z1bmN0aW9uIFZtKCl7aWYodGhpcy5mbGlwX2F4aXM9dGhpcy5zd2VlcD09PSJ4Ij8xOjAsdGhpcy5oPU51bWJlcih0aGlzLmgpLHRoaXMucmFkaXVzX2dfMT10aGlzLmgvdGhpcy5hLHRoaXMucmFkaXVzX2dfMTw9MHx8dGhpcy5yYWRpdXNfZ18xPjFlMTApdGhyb3cgbmV3IEVycm9yO2lmKHRoaXMucmFkaXVzX2c9MSt0aGlzLnJhZGl1c19nXzEsdGhpcy5DPXRoaXMucmFkaXVzX2cqdGhpcy5yYWRpdXNfZy0xLHRoaXMuZXMhPT0wKXt2YXIgaT0xLXRoaXMuZXMsZT0xL2k7dGhpcy5yYWRpdXNfcD1NYXRoLnNxcnQoaSksdGhpcy5yYWRpdXNfcDI9aSx0aGlzLnJhZGl1c19wX2ludjI9ZSx0aGlzLnNoYXBlPSJlbGxpcHNlIn1lbHNlIHRoaXMucmFkaXVzX3A9MSx0aGlzLnJhZGl1c19wMj0xLHRoaXMucmFkaXVzX3BfaW52Mj0xLHRoaXMuc2hhcGU9InNwaGVyZSI7dGhpcy50aXRsZXx8KHRoaXMudGl0bGU9Ikdlb3N0YXRpb25hcnkgU2F0ZWxsaXRlIFZpZXciKX1mdW5jdGlvbiBXbShpKXt2YXIgZT1pLngsdD1pLnkscixzLGEsbjtpZihlPWUtdGhpcy5sb25nMCx0aGlzLnNoYXBlPT09ImVsbGlwc2UiKXt0PU1hdGguYXRhbih0aGlzLnJhZGl1c19wMipNYXRoLnRhbih0KSk7dmFyIG89dGhpcy5yYWRpdXNfcC9XdCh0aGlzLnJhZGl1c19wKk1hdGguY29zKHQpLE1hdGguc2luKHQpKTtpZihzPW8qTWF0aC5jb3MoZSkqTWF0aC5jb3ModCksYT1vKk1hdGguc2luKGUpKk1hdGguY29zKHQpLG49bypNYXRoLnNpbih0KSwodGhpcy5yYWRpdXNfZy1zKSpzLWEqYS1uKm4qdGhpcy5yYWRpdXNfcF9pbnYyPDApcmV0dXJuIGkueD1OdW1iZXIuTmFOLGkueT1OdW1iZXIuTmFOLGk7cj10aGlzLnJhZGl1c19nLXMsdGhpcy5mbGlwX2F4aXM/KGkueD10aGlzLnJhZGl1c19nXzEqTWF0aC5hdGFuKGEvV3QobixyKSksaS55PXRoaXMucmFkaXVzX2dfMSpNYXRoLmF0YW4obi9yKSk6KGkueD10aGlzLnJhZGl1c19nXzEqTWF0aC5hdGFuKGEvciksaS55PXRoaXMucmFkaXVzX2dfMSpNYXRoLmF0YW4obi9XdChhLHIpKSl9ZWxzZSB0aGlzLnNoYXBlPT09InNwaGVyZSImJihyPU1hdGguY29zKHQpLHM9TWF0aC5jb3MoZSkqcixhPU1hdGguc2luKGUpKnIsbj1NYXRoLnNpbih0KSxyPXRoaXMucmFkaXVzX2ctcyx0aGlzLmZsaXBfYXhpcz8oaS54PXRoaXMucmFkaXVzX2dfMSpNYXRoLmF0YW4oYS9XdChuLHIpKSxpLnk9dGhpcy5yYWRpdXNfZ18xKk1hdGguYXRhbihuL3IpKTooaS54PXRoaXMucmFkaXVzX2dfMSpNYXRoLmF0YW4oYS9yKSxpLnk9dGhpcy5yYWRpdXNfZ18xKk1hdGguYXRhbihuL1d0KGEscikpKSk7cmV0dXJuIGkueD1pLngqdGhpcy5hLGkueT1pLnkqdGhpcy5hLGl9ZnVuY3Rpb24gam0oaSl7dmFyIGU9LTEsdD0wLHI9MCxzLGEsbixvO2lmKGkueD1pLngvdGhpcy5hLGkueT1pLnkvdGhpcy5hLHRoaXMuc2hhcGU9PT0iZWxsaXBzZSIpe3RoaXMuZmxpcF9heGlzPyhyPU1hdGgudGFuKGkueS90aGlzLnJhZGl1c19nXzEpLHQ9TWF0aC50YW4oaS54L3RoaXMucmFkaXVzX2dfMSkqV3QoMSxyKSk6KHQ9TWF0aC50YW4oaS54L3RoaXMucmFkaXVzX2dfMSkscj1NYXRoLnRhbihpLnkvdGhpcy5yYWRpdXNfZ18xKSpXdCgxLHQpKTt2YXIgaD1yL3RoaXMucmFkaXVzX3A7aWYocz10KnQraCpoK2UqZSxhPTIqdGhpcy5yYWRpdXNfZyplLG49YSphLTQqcyp0aGlzLkMsbjwwKXJldHVybiBpLng9TnVtYmVyLk5hTixpLnk9TnVtYmVyLk5hTixpO289KC1hLU1hdGguc3FydChuKSkvKDIqcyksZT10aGlzLnJhZGl1c19nK28qZSx0Kj1vLHIqPW8saS54PU1hdGguYXRhbjIodCxlKSxpLnk9TWF0aC5hdGFuKHIqTWF0aC5jb3MoaS54KS9lKSxpLnk9TWF0aC5hdGFuKHRoaXMucmFkaXVzX3BfaW52MipNYXRoLnRhbihpLnkpKX1lbHNlIGlmKHRoaXMuc2hhcGU9PT0ic3BoZXJlIil7aWYodGhpcy5mbGlwX2F4aXM/KHI9TWF0aC50YW4oaS55L3RoaXMucmFkaXVzX2dfMSksdD1NYXRoLnRhbihpLngvdGhpcy5yYWRpdXNfZ18xKSpNYXRoLnNxcnQoMStyKnIpKToodD1NYXRoLnRhbihpLngvdGhpcy5yYWRpdXNfZ18xKSxyPU1hdGgudGFuKGkueS90aGlzLnJhZGl1c19nXzEpKk1hdGguc3FydCgxK3QqdCkpLHM9dCp0K3IqcitlKmUsYT0yKnRoaXMucmFkaXVzX2cqZSxuPWEqYS00KnMqdGhpcy5DLG48MClyZXR1cm4gaS54PU51bWJlci5OYU4saS55PU51bWJlci5OYU4saTtvPSgtYS1NYXRoLnNxcnQobikpLygyKnMpLGU9dGhpcy5yYWRpdXNfZytvKmUsdCo9byxyKj1vLGkueD1NYXRoLmF0YW4yKHQsZSksaS55PU1hdGguYXRhbihyKk1hdGguY29zKGkueCkvZSl9cmV0dXJuIGkueD1pLngrdGhpcy5sb25nMCxpfXZhciBxbT1bIkdlb3N0YXRpb25hcnkgU2F0ZWxsaXRlIFZpZXciLCJHZW9zdGF0aW9uYXJ5X1NhdGVsbGl0ZSIsImdlb3MiXSxYbT17aW5pdDpWbSxmb3J3YXJkOldtLGludmVyc2U6am0sbmFtZXM6cW19O2Z1bmN0aW9uIEptKGkpe2kuUHJvai5wcm9qZWN0aW9ucy5hZGQoc2EpLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoYWEpLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoJGQpLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQobHApLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQobXApLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoeXApLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoVHApLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoUHApLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoenApLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoa3ApLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoYWYpLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQodWYpLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoZ2YpLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoYmYpLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoQWYpLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoSWYpLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoQmYpLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoR2YpLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoSmYpLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoJGYpLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoc20pLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQobG0pLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoZm0pLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoX20pLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoU20pLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoSW0pLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoQm0pLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoR20pLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoWG0pfU90LmRlZmF1bHREYXR1bT0iV0dTODQiLE90LlByb2o9cmksT3QuV0dTODQ9bmV3IE90LlByb2ooIldHUzg0IiksT3QuUG9pbnQ9cHIsT3QudG9Qb2ludD11aCxPdC5kZWZzPVN0LE90Lm5hZGdyaWQ9dGQsT3QudHJhbnNmb3JtPWlhLE90Lm1ncnM9dmQsT3QudmVyc2lvbj0iX19WRVJTSU9OX18iLEptKE90KTtjb25zdCB5bj0iMTM5IixZbT0wLERoPTEsWm09MixPaD0xLEttPTIsYnM9Myx3cz0wLGp0PTEsX3I9Mix6aD0xLElpPTAseXI9MSxCaD0yLFVoPTMsRmg9NCxRbT01LE1yPTEwMCwkbT0xMDEsZWc9MTAyLEhoPTEwMyxraD0xMDQsdGc9MjAwLGlnPTIwMSxyZz0yMDIsc2c9MjAzLEdoPTIwNCxWaD0yMDUsYWc9MjA2LG5nPTIwNyxvZz0yMDgsaGc9MjA5LGxnPTIxMCxjZz0wLHVnPTEsZGc9MixNbj0zLHBnPTQsZmc9NSxtZz02LGdnPTcsbGE9MCx2Zz0xLHhnPTIseGk9MCxfZz0xLHlnPTIsTWc9MyxiZz00LHdnPTUsV2g9MzAwLGJyPTMwMSx3cj0zMDIsYm49MzAzLHduPTMwNCxjYT0zMDYsU249MWUzLHF0PTEwMDEsRW49MTAwMix1dD0xMDAzLGpoPTEwMDQscWg9MTAwNSxJdD0xMDA2LFNnPTEwMDcsdWE9MTAwOCxKaT0xMDA5LEVnPTEwMTAsVGc9MTAxMSxTcz0xMDEyLEFnPTEwMTMsZGE9MTAxNCxZaT0xMDE1LFNyPTEwMTYsQ2c9MTAxNyxMZz0xMDE4LEVyPTEwMjAsUmc9MTAyMSxQZz0xMDIyLFh0PTEwMjMsSWc9MTAyNCxOZz0xMDI1LFppPTEwMjYsVHI9MTAyNyxEZz0xMDI4LE9nPTEwMjksemc9MTAzMCxCZz0xMDMxLFVnPTEwMzMsVG49MzM3NzYsQW49MzM3NzcsQ249MzM3NzgsTG49MzM3NzksWGg9MzU4NDAsSmg9MzU4NDEsWWg9MzU4NDIsWmg9MzU4NDMsRmc9MzYxOTYsS2g9Mzc0OTIsUWg9Mzc0OTYsJGg9Mzc4MDgsZWw9Mzc4MDksdGw9Mzc4MTAsaWw9Mzc4MTEscmw9Mzc4MTIsc2w9Mzc4MTMsYWw9Mzc4MTQsbmw9Mzc4MTUsb2w9Mzc4MTYsaGw9Mzc4MTcsbGw9Mzc4MTgsY2w9Mzc4MTksdWw9Mzc4MjAsZGw9Mzc4MjEscGw9MzY0OTIsSGc9MjIwMCxrZz0yMjAxLEdnPTIyMDIscGE9MjMwMCxmYT0yMzAxLFJuPTIzMDIsQXI9MjQwMCxDcj0yNDAxLG1hPTI0MDIsUG49MjUwMCxmbD0yNTAxLFZnPTAsX2k9M2UzLFFlPTMwMDEsV2c9MzIwMCxqZz0zMjAxLExyPTAscWc9MSx5aT0ic3JnYiIsS2k9InNyZ2ItbGluZWFyIixJbj03NjgwLFhnPTUxOSxFcz0zNTA0NCxnYT0zNTA0OCxtbD0iMzAwIGVzIixObj0xMDM1O2NsYXNzIFFpe2FkZEV2ZW50TGlzdGVuZXIoZSx0KXt0aGlzLl9saXN0ZW5lcnM9PT12b2lkIDAmJih0aGlzLl9saXN0ZW5lcnM9e30pO2NvbnN0IHI9dGhpcy5fbGlzdGVuZXJzO3JbZV09PT12b2lkIDAmJihyW2VdPVtdKSxyW2VdLmluZGV4T2YodCk9PT0tMSYmcltlXS5wdXNoKHQpfWhhc0V2ZW50TGlzdGVuZXIoZSx0KXtpZih0aGlzLl9saXN0ZW5lcnM9PT12b2lkIDApcmV0dXJuITE7Y29uc3Qgcj10aGlzLl9saXN0ZW5lcnM7cmV0dXJuIHJbZV0hPT12b2lkIDAmJnJbZV0uaW5kZXhPZih0KSE9PS0xfXJlbW92ZUV2ZW50TGlzdGVuZXIoZSx0KXtpZih0aGlzLl9saXN0ZW5lcnM9PT12b2lkIDApcmV0dXJuO2NvbnN0IHI9dGhpcy5fbGlzdGVuZXJzW2VdO2lmKHIhPT12b2lkIDApe2NvbnN0IHM9ci5pbmRleE9mKHQpO3MhPT0tMSYmci5zcGxpY2UocywxKX19ZGlzcGF0Y2hFdmVudChlKXtpZih0aGlzLl9saXN0ZW5lcnM9PT12b2lkIDApcmV0dXJuO2NvbnN0IHQ9dGhpcy5fbGlzdGVuZXJzW2UudHlwZV07aWYodCE9PXZvaWQgMCl7ZS50YXJnZXQ9dGhpcztjb25zdCByPXQuc2xpY2UoMCk7Zm9yKGxldCBzPTAsYT1yLmxlbmd0aDtzPGE7cysrKXJbc10uY2FsbCh0aGlzLGUpO2UudGFyZ2V0PW51bGx9fX1jb25zdCB2dD1bXTtmb3IobGV0IGk9MDtpPDI1NjtpKyspdnRbaV09KGk8MTY/IjAiOiIiKStpLnRvU3RyaW5nKDE2KTtjb25zdCBEbj1NYXRoLlBJLzE4MCxPbj0xODAvTWF0aC5QSTtmdW5jdGlvbiBzaSgpe2NvbnN0IGk9TWF0aC5yYW5kb20oKSo0Mjk0OTY3Mjk1fDAsZT1NYXRoLnJhbmRvbSgpKjQyOTQ5NjcyOTV8MCx0PU1hdGgucmFuZG9tKCkqNDI5NDk2NzI5NXwwLHI9TWF0aC5yYW5kb20oKSo0Mjk0OTY3Mjk1fDA7cmV0dXJuKHZ0W2kmMjU1XSt2dFtpPj44JjI1NV0rdnRbaT4+MTYmMjU1XSt2dFtpPj4yNCYyNTVdKyItIit2dFtlJjI1NV0rdnRbZT4+OCYyNTVdKyItIit2dFtlPj4xNiYxNXw2NF0rdnRbZT4+MjQmMjU1XSsiLSIrdnRbdCY2M3wxMjhdK3Z0W3Q+PjgmMjU1XSsiLSIrdnRbdD4+MTYmMjU1XSt2dFt0Pj4yNCYyNTVdK3Z0W3ImMjU1XSt2dFtyPj44JjI1NV0rdnRbcj4+MTYmMjU1XSt2dFtyPj4yNCYyNTVdKS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIHl0KGksZSx0KXtyZXR1cm4gTWF0aC5tYXgoZSxNYXRoLm1pbih0LGkpKX1mdW5jdGlvbiBKZyhpLGUpe3JldHVybihpJWUrZSklZX1mdW5jdGlvbiB6bihpLGUsdCl7cmV0dXJuKDEtdCkqaSt0KmV9ZnVuY3Rpb24gZ2woaSl7cmV0dXJuKGkmaS0xKT09PTAmJmkhPT0wfWZ1bmN0aW9uIEJuKGkpe3JldHVybiBNYXRoLnBvdygyLE1hdGguZmxvb3IoTWF0aC5sb2coaSkvTWF0aC5MTjIpKX1jbGFzcyBlZXtjb25zdHJ1Y3RvcihlPTAsdD0wKXt0aGlzLng9ZSx0aGlzLnk9dH1nZXQgd2lkdGgoKXtyZXR1cm4gdGhpcy54fXNldCB3aWR0aChlKXt0aGlzLng9ZX1nZXQgaGVpZ2h0KCl7cmV0dXJuIHRoaXMueX1zZXQgaGVpZ2h0KGUpe3RoaXMueT1lfXNldChlLHQpe3JldHVybiB0aGlzLng9ZSx0aGlzLnk9dCx0aGlzfXNldFNjYWxhcihlKXtyZXR1cm4gdGhpcy54PWUsdGhpcy55PWUsdGhpc31zZXRYKGUpe3JldHVybiB0aGlzLng9ZSx0aGlzfXNldFkoZSl7cmV0dXJuIHRoaXMueT1lLHRoaXN9c2V0Q29tcG9uZW50KGUsdCl7c3dpdGNoKGUpe2Nhc2UgMDp0aGlzLng9dDticmVhaztjYXNlIDE6dGhpcy55PXQ7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoImluZGV4IGlzIG91dCBvZiByYW5nZTogIitlKX1yZXR1cm4gdGhpc31nZXRDb21wb25lbnQoZSl7c3dpdGNoKGUpe2Nhc2UgMDpyZXR1cm4gdGhpcy54O2Nhc2UgMTpyZXR1cm4gdGhpcy55O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJpbmRleCBpcyBvdXQgb2YgcmFuZ2U6ICIrZSl9fWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueCx0aGlzLnkpfWNvcHkoZSl7cmV0dXJuIHRoaXMueD1lLngsdGhpcy55PWUueSx0aGlzfWFkZChlLHQpe3JldHVybiB0IT09dm9pZCAwPyhjb25zb2xlLndhcm4oIlRIUkVFLlZlY3RvcjI6IC5hZGQoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5hZGRWZWN0b3JzKCBhLCBiICkgaW5zdGVhZC4iKSx0aGlzLmFkZFZlY3RvcnMoZSx0KSk6KHRoaXMueCs9ZS54LHRoaXMueSs9ZS55LHRoaXMpfWFkZFNjYWxhcihlKXtyZXR1cm4gdGhpcy54Kz1lLHRoaXMueSs9ZSx0aGlzfWFkZFZlY3RvcnMoZSx0KXtyZXR1cm4gdGhpcy54PWUueCt0LngsdGhpcy55PWUueSt0LnksdGhpc31hZGRTY2FsZWRWZWN0b3IoZSx0KXtyZXR1cm4gdGhpcy54Kz1lLngqdCx0aGlzLnkrPWUueSp0LHRoaXN9c3ViKGUsdCl7cmV0dXJuIHQhPT12b2lkIDA/KGNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yMjogLnN1YigpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLnN1YlZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLiIpLHRoaXMuc3ViVmVjdG9ycyhlLHQpKToodGhpcy54LT1lLngsdGhpcy55LT1lLnksdGhpcyl9c3ViU2NhbGFyKGUpe3JldHVybiB0aGlzLngtPWUsdGhpcy55LT1lLHRoaXN9c3ViVmVjdG9ycyhlLHQpe3JldHVybiB0aGlzLng9ZS54LXQueCx0aGlzLnk9ZS55LXQueSx0aGlzfW11bHRpcGx5KGUpe3JldHVybiB0aGlzLngqPWUueCx0aGlzLnkqPWUueSx0aGlzfW11bHRpcGx5U2NhbGFyKGUpe3JldHVybiB0aGlzLngqPWUsdGhpcy55Kj1lLHRoaXN9ZGl2aWRlKGUpe3JldHVybiB0aGlzLngvPWUueCx0aGlzLnkvPWUueSx0aGlzfWRpdmlkZVNjYWxhcihlKXtyZXR1cm4gdGhpcy5tdWx0aXBseVNjYWxhcigxL2UpfWFwcGx5TWF0cml4MyhlKXtjb25zdCB0PXRoaXMueCxyPXRoaXMueSxzPWUuZWxlbWVudHM7cmV0dXJuIHRoaXMueD1zWzBdKnQrc1szXSpyK3NbNl0sdGhpcy55PXNbMV0qdCtzWzRdKnIrc1s3XSx0aGlzfW1pbihlKXtyZXR1cm4gdGhpcy54PU1hdGgubWluKHRoaXMueCxlLngpLHRoaXMueT1NYXRoLm1pbih0aGlzLnksZS55KSx0aGlzfW1heChlKXtyZXR1cm4gdGhpcy54PU1hdGgubWF4KHRoaXMueCxlLngpLHRoaXMueT1NYXRoLm1heCh0aGlzLnksZS55KSx0aGlzfWNsYW1wKGUsdCl7cmV0dXJuIHRoaXMueD1NYXRoLm1heChlLngsTWF0aC5taW4odC54LHRoaXMueCkpLHRoaXMueT1NYXRoLm1heChlLnksTWF0aC5taW4odC55LHRoaXMueSkpLHRoaXN9Y2xhbXBTY2FsYXIoZSx0KXtyZXR1cm4gdGhpcy54PU1hdGgubWF4KGUsTWF0aC5taW4odCx0aGlzLngpKSx0aGlzLnk9TWF0aC5tYXgoZSxNYXRoLm1pbih0LHRoaXMueSkpLHRoaXN9Y2xhbXBMZW5ndGgoZSx0KXtjb25zdCByPXRoaXMubGVuZ3RoKCk7cmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKHJ8fDEpLm11bHRpcGx5U2NhbGFyKE1hdGgubWF4KGUsTWF0aC5taW4odCxyKSkpfWZsb29yKCl7cmV0dXJuIHRoaXMueD1NYXRoLmZsb29yKHRoaXMueCksdGhpcy55PU1hdGguZmxvb3IodGhpcy55KSx0aGlzfWNlaWwoKXtyZXR1cm4gdGhpcy54PU1hdGguY2VpbCh0aGlzLngpLHRoaXMueT1NYXRoLmNlaWwodGhpcy55KSx0aGlzfXJvdW5kKCl7cmV0dXJuIHRoaXMueD1NYXRoLnJvdW5kKHRoaXMueCksdGhpcy55PU1hdGgucm91bmQodGhpcy55KSx0aGlzfXJvdW5kVG9aZXJvKCl7cmV0dXJuIHRoaXMueD10aGlzLng8MD9NYXRoLmNlaWwodGhpcy54KTpNYXRoLmZsb29yKHRoaXMueCksdGhpcy55PXRoaXMueTwwP01hdGguY2VpbCh0aGlzLnkpOk1hdGguZmxvb3IodGhpcy55KSx0aGlzfW5lZ2F0ZSgpe3JldHVybiB0aGlzLng9LXRoaXMueCx0aGlzLnk9LXRoaXMueSx0aGlzfWRvdChlKXtyZXR1cm4gdGhpcy54KmUueCt0aGlzLnkqZS55fWNyb3NzKGUpe3JldHVybiB0aGlzLngqZS55LXRoaXMueSplLnh9bGVuZ3RoU3EoKXtyZXR1cm4gdGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55fWxlbmd0aCgpe3JldHVybiBNYXRoLnNxcnQodGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55KX1tYW5oYXR0YW5MZW5ndGgoKXtyZXR1cm4gTWF0aC5hYnModGhpcy54KStNYXRoLmFicyh0aGlzLnkpfW5vcm1hbGl6ZSgpe3JldHVybiB0aGlzLmRpdmlkZVNjYWxhcih0aGlzLmxlbmd0aCgpfHwxKX1hbmdsZSgpe3JldHVybiBNYXRoLmF0YW4yKC10aGlzLnksLXRoaXMueCkrTWF0aC5QSX1kaXN0YW5jZVRvKGUpe3JldHVybiBNYXRoLnNxcnQodGhpcy5kaXN0YW5jZVRvU3F1YXJlZChlKSl9ZGlzdGFuY2VUb1NxdWFyZWQoZSl7Y29uc3QgdD10aGlzLngtZS54LHI9dGhpcy55LWUueTtyZXR1cm4gdCp0K3Iqcn1tYW5oYXR0YW5EaXN0YW5jZVRvKGUpe3JldHVybiBNYXRoLmFicyh0aGlzLngtZS54KStNYXRoLmFicyh0aGlzLnktZS55KX1zZXRMZW5ndGgoZSl7cmV0dXJuIHRoaXMubm9ybWFsaXplKCkubXVsdGlwbHlTY2FsYXIoZSl9bGVycChlLHQpe3JldHVybiB0aGlzLngrPShlLngtdGhpcy54KSp0LHRoaXMueSs9KGUueS10aGlzLnkpKnQsdGhpc31sZXJwVmVjdG9ycyhlLHQscil7cmV0dXJuIHRoaXMueD1lLngrKHQueC1lLngpKnIsdGhpcy55PWUueSsodC55LWUueSkqcix0aGlzfWVxdWFscyhlKXtyZXR1cm4gZS54PT09dGhpcy54JiZlLnk9PT10aGlzLnl9ZnJvbUFycmF5KGUsdD0wKXtyZXR1cm4gdGhpcy54PWVbdF0sdGhpcy55PWVbdCsxXSx0aGlzfXRvQXJyYXkoZT1bXSx0PTApe3JldHVybiBlW3RdPXRoaXMueCxlW3QrMV09dGhpcy55LGV9ZnJvbUJ1ZmZlckF0dHJpYnV0ZShlLHQscil7cmV0dXJuIHIhPT12b2lkIDAmJmNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yMjogb2Zmc2V0IGhhcyBiZWVuIHJlbW92ZWQgZnJvbSAuZnJvbUJ1ZmZlckF0dHJpYnV0ZSgpLiIpLHRoaXMueD1lLmdldFgodCksdGhpcy55PWUuZ2V0WSh0KSx0aGlzfXJvdGF0ZUFyb3VuZChlLHQpe2NvbnN0IHI9TWF0aC5jb3ModCkscz1NYXRoLnNpbih0KSxhPXRoaXMueC1lLngsbj10aGlzLnktZS55O3JldHVybiB0aGlzLng9YSpyLW4qcytlLngsdGhpcy55PWEqcytuKnIrZS55LHRoaXN9cmFuZG9tKCl7cmV0dXJuIHRoaXMueD1NYXRoLnJhbmRvbSgpLHRoaXMueT1NYXRoLnJhbmRvbSgpLHRoaXN9KltTeW1ib2wuaXRlcmF0b3JdKCl7eWllbGQgdGhpcy54LHlpZWxkIHRoaXMueX19ZWUucHJvdG90eXBlLmlzVmVjdG9yMj0hMDtjbGFzcyB4dHtjb25zdHJ1Y3Rvcigpe3RoaXMuZWxlbWVudHM9WzEsMCwwLDAsMSwwLDAsMCwxXSxhcmd1bWVudHMubGVuZ3RoPjAmJmNvbnNvbGUuZXJyb3IoIlRIUkVFLk1hdHJpeDM6IHRoZSBjb25zdHJ1Y3RvciBubyBsb25nZXIgcmVhZHMgYXJndW1lbnRzLiB1c2UgLnNldCgpIGluc3RlYWQuIil9c2V0KGUsdCxyLHMsYSxuLG8saCxsKXtjb25zdCBjPXRoaXMuZWxlbWVudHM7cmV0dXJuIGNbMF09ZSxjWzFdPXMsY1syXT1vLGNbM109dCxjWzRdPWEsY1s1XT1oLGNbNl09cixjWzddPW4sY1s4XT1sLHRoaXN9aWRlbnRpdHkoKXtyZXR1cm4gdGhpcy5zZXQoMSwwLDAsMCwxLDAsMCwwLDEpLHRoaXN9Y29weShlKXtjb25zdCB0PXRoaXMuZWxlbWVudHMscj1lLmVsZW1lbnRzO3JldHVybiB0WzBdPXJbMF0sdFsxXT1yWzFdLHRbMl09clsyXSx0WzNdPXJbM10sdFs0XT1yWzRdLHRbNV09cls1XSx0WzZdPXJbNl0sdFs3XT1yWzddLHRbOF09cls4XSx0aGlzfWV4dHJhY3RCYXNpcyhlLHQscil7cmV0dXJuIGUuc2V0RnJvbU1hdHJpeDNDb2x1bW4odGhpcywwKSx0LnNldEZyb21NYXRyaXgzQ29sdW1uKHRoaXMsMSksci5zZXRGcm9tTWF0cml4M0NvbHVtbih0aGlzLDIpLHRoaXN9c2V0RnJvbU1hdHJpeDQoZSl7Y29uc3QgdD1lLmVsZW1lbnRzO3JldHVybiB0aGlzLnNldCh0WzBdLHRbNF0sdFs4XSx0WzFdLHRbNV0sdFs5XSx0WzJdLHRbNl0sdFsxMF0pLHRoaXN9bXVsdGlwbHkoZSl7cmV0dXJuIHRoaXMubXVsdGlwbHlNYXRyaWNlcyh0aGlzLGUpfXByZW11bHRpcGx5KGUpe3JldHVybiB0aGlzLm11bHRpcGx5TWF0cmljZXMoZSx0aGlzKX1tdWx0aXBseU1hdHJpY2VzKGUsdCl7Y29uc3Qgcj1lLmVsZW1lbnRzLHM9dC5lbGVtZW50cyxhPXRoaXMuZWxlbWVudHMsbj1yWzBdLG89clszXSxoPXJbNl0sbD1yWzFdLGM9cls0XSx1PXJbN10sZD1yWzJdLHA9cls1XSxnPXJbOF0sZj1zWzBdLG09c1szXSx2PXNbNl0seT1zWzFdLFQ9c1s0XSx3PXNbN10sYj1zWzJdLEw9c1s1XSxQPXNbOF07cmV0dXJuIGFbMF09bipmK28qeStoKmIsYVszXT1uKm0rbypUK2gqTCxhWzZdPW4qditvKncraCpQLGFbMV09bCpmK2MqeSt1KmIsYVs0XT1sKm0rYypUK3UqTCxhWzddPWwqditjKncrdSpQLGFbMl09ZCpmK3AqeStnKmIsYVs1XT1kKm0rcCpUK2cqTCxhWzhdPWQqditwKncrZypQLHRoaXN9bXVsdGlwbHlTY2FsYXIoZSl7Y29uc3QgdD10aGlzLmVsZW1lbnRzO3JldHVybiB0WzBdKj1lLHRbM10qPWUsdFs2XSo9ZSx0WzFdKj1lLHRbNF0qPWUsdFs3XSo9ZSx0WzJdKj1lLHRbNV0qPWUsdFs4XSo9ZSx0aGlzfWRldGVybWluYW50KCl7Y29uc3QgZT10aGlzLmVsZW1lbnRzLHQ9ZVswXSxyPWVbMV0scz1lWzJdLGE9ZVszXSxuPWVbNF0sbz1lWzVdLGg9ZVs2XSxsPWVbN10sYz1lWzhdO3JldHVybiB0Km4qYy10Km8qbC1yKmEqYytyKm8qaCtzKmEqbC1zKm4qaH1pbnZlcnQoKXtjb25zdCBlPXRoaXMuZWxlbWVudHMsdD1lWzBdLHI9ZVsxXSxzPWVbMl0sYT1lWzNdLG49ZVs0XSxvPWVbNV0saD1lWzZdLGw9ZVs3XSxjPWVbOF0sdT1jKm4tbypsLGQ9bypoLWMqYSxwPWwqYS1uKmgsZz10KnUrcipkK3MqcDtpZihnPT09MClyZXR1cm4gdGhpcy5zZXQoMCwwLDAsMCwwLDAsMCwwLDApO2NvbnN0IGY9MS9nO3JldHVybiBlWzBdPXUqZixlWzFdPShzKmwtYypyKSpmLGVbMl09KG8qci1zKm4pKmYsZVszXT1kKmYsZVs0XT0oYyp0LXMqaCkqZixlWzVdPShzKmEtbyp0KSpmLGVbNl09cCpmLGVbN109KHIqaC1sKnQpKmYsZVs4XT0obip0LXIqYSkqZix0aGlzfXRyYW5zcG9zZSgpe2xldCBlO2NvbnN0IHQ9dGhpcy5lbGVtZW50cztyZXR1cm4gZT10WzFdLHRbMV09dFszXSx0WzNdPWUsZT10WzJdLHRbMl09dFs2XSx0WzZdPWUsZT10WzVdLHRbNV09dFs3XSx0WzddPWUsdGhpc31nZXROb3JtYWxNYXRyaXgoZSl7cmV0dXJuIHRoaXMuc2V0RnJvbU1hdHJpeDQoZSkuaW52ZXJ0KCkudHJhbnNwb3NlKCl9dHJhbnNwb3NlSW50b0FycmF5KGUpe2NvbnN0IHQ9dGhpcy5lbGVtZW50cztyZXR1cm4gZVswXT10WzBdLGVbMV09dFszXSxlWzJdPXRbNl0sZVszXT10WzFdLGVbNF09dFs0XSxlWzVdPXRbN10sZVs2XT10WzJdLGVbN109dFs1XSxlWzhdPXRbOF0sdGhpc31zZXRVdlRyYW5zZm9ybShlLHQscixzLGEsbixvKXtjb25zdCBoPU1hdGguY29zKGEpLGw9TWF0aC5zaW4oYSk7cmV0dXJuIHRoaXMuc2V0KHIqaCxyKmwsLXIqKGgqbitsKm8pK24rZSwtcypsLHMqaCwtcyooLWwqbitoKm8pK28rdCwwLDAsMSksdGhpc31zY2FsZShlLHQpe2NvbnN0IHI9dGhpcy5lbGVtZW50cztyZXR1cm4gclswXSo9ZSxyWzNdKj1lLHJbNl0qPWUsclsxXSo9dCxyWzRdKj10LHJbN10qPXQsdGhpc31yb3RhdGUoZSl7Y29uc3QgdD1NYXRoLmNvcyhlKSxyPU1hdGguc2luKGUpLHM9dGhpcy5lbGVtZW50cyxhPXNbMF0sbj1zWzNdLG89c1s2XSxoPXNbMV0sbD1zWzRdLGM9c1s3XTtyZXR1cm4gc1swXT10KmErcipoLHNbM109dCpuK3IqbCxzWzZdPXQqbytyKmMsc1sxXT0tciphK3QqaCxzWzRdPS1yKm4rdCpsLHNbN109LXIqbyt0KmMsdGhpc310cmFuc2xhdGUoZSx0KXtjb25zdCByPXRoaXMuZWxlbWVudHM7cmV0dXJuIHJbMF0rPWUqclsyXSxyWzNdKz1lKnJbNV0scls2XSs9ZSpyWzhdLHJbMV0rPXQqclsyXSxyWzRdKz10KnJbNV0scls3XSs9dCpyWzhdLHRoaXN9ZXF1YWxzKGUpe2NvbnN0IHQ9dGhpcy5lbGVtZW50cyxyPWUuZWxlbWVudHM7Zm9yKGxldCBzPTA7czw5O3MrKylpZih0W3NdIT09cltzXSlyZXR1cm4hMTtyZXR1cm4hMH1mcm9tQXJyYXkoZSx0PTApe2ZvcihsZXQgcj0wO3I8OTtyKyspdGhpcy5lbGVtZW50c1tyXT1lW3IrdF07cmV0dXJuIHRoaXN9dG9BcnJheShlPVtdLHQ9MCl7Y29uc3Qgcj10aGlzLmVsZW1lbnRzO3JldHVybiBlW3RdPXJbMF0sZVt0KzFdPXJbMV0sZVt0KzJdPXJbMl0sZVt0KzNdPXJbM10sZVt0KzRdPXJbNF0sZVt0KzVdPXJbNV0sZVt0KzZdPXJbNl0sZVt0KzddPXJbN10sZVt0KzhdPXJbOF0sZX1jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmZyb21BcnJheSh0aGlzLmVsZW1lbnRzKX19eHQucHJvdG90eXBlLmlzTWF0cml4Mz0hMDtmdW5jdGlvbiB2bChpKXtmb3IobGV0IGU9aS5sZW5ndGgtMTtlPj0wOy0tZSlpZihpW2VdPjY1NTM1KXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIFRzKGkpe3JldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiLGkpfWZ1bmN0aW9uICRpKGkpe3JldHVybiBpPC4wNDA0NT9pKi4wNzczOTkzODA4Ok1hdGgucG93KGkqLjk0Nzg2NzI5ODYrLjA1MjEzMjcwMTQsMi40KX1mdW5jdGlvbiB2YShpKXtyZXR1cm4gaTwuMDAzMTMwOD9pKjEyLjkyOjEuMDU1Kk1hdGgucG93KGksLjQxNjY2KS0uMDU1fWNvbnN0IFVuPXtbeWldOntbS2ldOiRpfSxbS2ldOntbeWldOnZhfX0sSnQ9e2xlZ2FjeU1vZGU6ITAsZ2V0IHdvcmtpbmdDb2xvclNwYWNlKCl7cmV0dXJuIEtpfSxzZXQgd29ya2luZ0NvbG9yU3BhY2UoaSl7Y29uc29sZS53YXJuKCJUSFJFRS5Db2xvck1hbmFnZW1lbnQ6IC53b3JraW5nQ29sb3JTcGFjZSBpcyByZWFkb25seS4iKX0sY29udmVydDpmdW5jdGlvbihpLGUsdCl7aWYodGhpcy5sZWdhY3lNb2RlfHxlPT09dHx8IWV8fCF0KXJldHVybiBpO2lmKFVuW2VdJiZVbltlXVt0XSE9PXZvaWQgMCl7Y29uc3Qgcj1VbltlXVt0XTtyZXR1cm4gaS5yPXIoaS5yKSxpLmc9cihpLmcpLGkuYj1yKGkuYiksaX10aHJvdyBuZXcgRXJyb3IoIlVuc3VwcG9ydGVkIGNvbG9yIHNwYWNlIGNvbnZlcnNpb24uIil9LGZyb21Xb3JraW5nQ29sb3JTcGFjZTpmdW5jdGlvbihpLGUpe3JldHVybiB0aGlzLmNvbnZlcnQoaSx0aGlzLndvcmtpbmdDb2xvclNwYWNlLGUpfSx0b1dvcmtpbmdDb2xvclNwYWNlOmZ1bmN0aW9uKGksZSl7cmV0dXJuIHRoaXMuY29udmVydChpLGUsdGhpcy53b3JraW5nQ29sb3JTcGFjZSl9fSx4bD17YWxpY2VibHVlOjE1NzkyMzgzLGFudGlxdWV3aGl0ZToxNjQ0NDM3NSxhcXVhOjY1NTM1LGFxdWFtYXJpbmU6ODM4ODU2NCxhenVyZToxNTc5NDE3NSxiZWlnZToxNjExOTI2MCxiaXNxdWU6MTY3NzAyNDQsYmxhY2s6MCxibGFuY2hlZGFsbW9uZDoxNjc3MjA0NSxibHVlOjI1NSxibHVldmlvbGV0OjkwNTUyMDIsYnJvd246MTA4MjQyMzQsYnVybHl3b29kOjE0NTk2MjMxLGNhZGV0Ymx1ZTo2MjY2NTI4LGNoYXJ0cmV1c2U6ODM4ODM1MixjaG9jb2xhdGU6MTM3ODk0NzAsY29yYWw6MTY3NDQyNzIsY29ybmZsb3dlcmJsdWU6NjU5MTk4MSxjb3Juc2lsazoxNjc3NTM4OCxjcmltc29uOjE0NDIzMTAwLGN5YW46NjU1MzUsZGFya2JsdWU6MTM5LGRhcmtjeWFuOjM1NzIzLGRhcmtnb2xkZW5yb2Q6MTIwOTI5MzksZGFya2dyYXk6MTExMTkwMTcsZGFya2dyZWVuOjI1NjAwLGRhcmtncmV5OjExMTE5MDE3LGRhcmtraGFraToxMjQzMzI1OSxkYXJrbWFnZW50YTo5MTA5NjQzLGRhcmtvbGl2ZWdyZWVuOjU1OTc5OTksZGFya29yYW5nZToxNjc0NzUyMCxkYXJrb3JjaGlkOjEwMDQwMDEyLGRhcmtyZWQ6OTEwOTUwNCxkYXJrc2FsbW9uOjE1MzA4NDEwLGRhcmtzZWFncmVlbjo5NDE5OTE5LGRhcmtzbGF0ZWJsdWU6NDczNDM0NyxkYXJrc2xhdGVncmF5OjMxMDA0OTUsZGFya3NsYXRlZ3JleTozMTAwNDk1LGRhcmt0dXJxdW9pc2U6NTI5NDUsZGFya3Zpb2xldDo5Njk5NTM5LGRlZXBwaW5rOjE2NzE2OTQ3LGRlZXBza3libHVlOjQ5MTUxLGRpbWdyYXk6NjkwODI2NSxkaW1ncmV5OjY5MDgyNjUsZG9kZ2VyYmx1ZToyMDAzMTk5LGZpcmVicmljazoxMTY3NDE0NixmbG9yYWx3aGl0ZToxNjc3NTkyMCxmb3Jlc3RncmVlbjoyMjYzODQyLGZ1Y2hzaWE6MTY3MTE5MzUsZ2FpbnNib3JvOjE0NDc0NDYwLGdob3N0d2hpdGU6MTYzMTY2NzEsZ29sZDoxNjc2NjcyMCxnb2xkZW5yb2Q6MTQzMjkxMjAsZ3JheTo4NDIxNTA0LGdyZWVuOjMyNzY4LGdyZWVueWVsbG93OjExNDAzMDU1LGdyZXk6ODQyMTUwNCxob25leWRldzoxNTc5NDE2MCxob3RwaW5rOjE2NzM4NzQwLGluZGlhbnJlZDoxMzQ1ODUyNCxpbmRpZ286NDkxNTMzMCxpdm9yeToxNjc3NzIwMCxraGFraToxNTc4NzY2MCxsYXZlbmRlcjoxNTEzMjQxMCxsYXZlbmRlcmJsdXNoOjE2NzczMzY1LGxhd25ncmVlbjo4MTkwOTc2LGxlbW9uY2hpZmZvbjoxNjc3NTg4NSxsaWdodGJsdWU6MTEzOTMyNTQsbGlnaHRjb3JhbDoxNTc2MTUzNixsaWdodGN5YW46MTQ3NDU1OTksbGlnaHRnb2xkZW5yb2R5ZWxsb3c6MTY0NDgyMTAsbGlnaHRncmF5OjEzODgyMzIzLGxpZ2h0Z3JlZW46OTQ5ODI1NixsaWdodGdyZXk6MTM4ODIzMjMsbGlnaHRwaW5rOjE2NzU4NDY1LGxpZ2h0c2FsbW9uOjE2NzUyNzYyLGxpZ2h0c2VhZ3JlZW46MjE0Mjg5MCxsaWdodHNreWJsdWU6ODkwMDM0NixsaWdodHNsYXRlZ3JheTo3ODMzNzUzLGxpZ2h0c2xhdGVncmV5Ojc4MzM3NTMsbGlnaHRzdGVlbGJsdWU6MTE1ODQ3MzQsbGlnaHR5ZWxsb3c6MTY3NzcxODQsbGltZTo2NTI4MCxsaW1lZ3JlZW46MzMyOTMzMCxsaW5lbjoxNjQ0NTY3MCxtYWdlbnRhOjE2NzExOTM1LG1hcm9vbjo4Mzg4NjA4LG1lZGl1bWFxdWFtYXJpbmU6NjczNzMyMixtZWRpdW1ibHVlOjIwNSxtZWRpdW1vcmNoaWQ6MTIyMTE2NjcsbWVkaXVtcHVycGxlOjk2NjI2ODMsbWVkaXVtc2VhZ3JlZW46Mzk3ODA5NyxtZWRpdW1zbGF0ZWJsdWU6ODA4Nzc5MCxtZWRpdW1zcHJpbmdncmVlbjo2NDE1NCxtZWRpdW10dXJxdW9pc2U6NDc3MjMwMCxtZWRpdW12aW9sZXRyZWQ6MTMwNDcxNzMsbWlkbmlnaHRibHVlOjE2NDQ5MTIsbWludGNyZWFtOjE2MTIxODUwLG1pc3R5cm9zZToxNjc3MDI3Myxtb2NjYXNpbjoxNjc3MDIyOSxuYXZham93aGl0ZToxNjc2ODY4NSxuYXZ5OjEyOCxvbGRsYWNlOjE2NjQzNTU4LG9saXZlOjg0MjEzNzYsb2xpdmVkcmFiOjcwNDg3Mzksb3JhbmdlOjE2NzUzOTIwLG9yYW5nZXJlZDoxNjcyOTM0NCxvcmNoaWQ6MTQzMTU3MzQscGFsZWdvbGRlbnJvZDoxNTY1NzEzMCxwYWxlZ3JlZW46MTAwMjU4ODAscGFsZXR1cnF1b2lzZToxMTUyOTk2NixwYWxldmlvbGV0cmVkOjE0MzgxMjAzLHBhcGF5YXdoaXA6MTY3NzMwNzcscGVhY2hwdWZmOjE2NzY3NjczLHBlcnU6MTM0Njg5OTEscGluazoxNjc2MTAzNSxwbHVtOjE0NTI0NjM3LHBvd2RlcmJsdWU6MTE1OTE5MTAscHVycGxlOjgzODg3MzYscmViZWNjYXB1cnBsZTo2Njk3ODgxLHJlZDoxNjcxMTY4MCxyb3N5YnJvd246MTIzNTc1MTkscm95YWxibHVlOjQyODY5NDUsc2FkZGxlYnJvd246OTEyNzE4NyxzYWxtb246MTY0MTY4ODIsc2FuZHlicm93bjoxNjAzMjg2NCxzZWFncmVlbjozMDUwMzI3LHNlYXNoZWxsOjE2Nzc0NjM4LHNpZW5uYToxMDUwNjc5NyxzaWx2ZXI6MTI2MzIyNTYsc2t5Ymx1ZTo4OTAwMzMxLHNsYXRlYmx1ZTo2OTcwMDYxLHNsYXRlZ3JheTo3MzcyOTQ0LHNsYXRlZ3JleTo3MzcyOTQ0LHNub3c6MTY3NzU5MzAsc3ByaW5nZ3JlZW46NjU0MDcsc3RlZWxibHVlOjQ2MjA5ODAsdGFuOjEzODA4NzgwLHRlYWw6MzI4OTYsdGhpc3RsZToxNDIwNDg4OCx0b21hdG86MTY3MzcwOTUsdHVycXVvaXNlOjQyNTE4NTYsdmlvbGV0OjE1NjMxMDg2LHdoZWF0OjE2MTEzMzMxLHdoaXRlOjE2Nzc3MjE1LHdoaXRlc21va2U6MTYxMTkyODUseWVsbG93OjE2Nzc2OTYwLHllbGxvd2dyZWVuOjEwMTQ1MDc0fSxodD17cjowLGc6MCxiOjB9LFl0PXtoOjAsczowLGw6MH0seGE9e2g6MCxzOjAsbDowfTtmdW5jdGlvbiBGbihpLGUsdCl7cmV0dXJuIHQ8MCYmKHQrPTEpLHQ+MSYmKHQtPTEpLHQ8MS82P2krKGUtaSkqNip0OnQ8MS8yP2U6dDwyLzM/aSsoZS1pKSo2KigyLzMtdCk6aX1mdW5jdGlvbiBfYShpLGUpe3JldHVybiBlLnI9aS5yLGUuZz1pLmcsZS5iPWkuYixlfWNsYXNzIGdle2NvbnN0cnVjdG9yKGUsdCxyKXtyZXR1cm4gdD09PXZvaWQgMCYmcj09PXZvaWQgMD90aGlzLnNldChlKTp0aGlzLnNldFJHQihlLHQscil9c2V0KGUpe3JldHVybiBlJiZlLmlzQ29sb3I/dGhpcy5jb3B5KGUpOnR5cGVvZiBlPT0ibnVtYmVyIj90aGlzLnNldEhleChlKTp0eXBlb2YgZT09InN0cmluZyImJnRoaXMuc2V0U3R5bGUoZSksdGhpc31zZXRTY2FsYXIoZSl7cmV0dXJuIHRoaXMucj1lLHRoaXMuZz1lLHRoaXMuYj1lLHRoaXN9c2V0SGV4KGUsdD15aSl7cmV0dXJuIGU9TWF0aC5mbG9vcihlKSx0aGlzLnI9KGU+PjE2JjI1NSkvMjU1LHRoaXMuZz0oZT4+OCYyNTUpLzI1NSx0aGlzLmI9KGUmMjU1KS8yNTUsSnQudG9Xb3JraW5nQ29sb3JTcGFjZSh0aGlzLHQpLHRoaXN9c2V0UkdCKGUsdCxyLHM9S2kpe3JldHVybiB0aGlzLnI9ZSx0aGlzLmc9dCx0aGlzLmI9cixKdC50b1dvcmtpbmdDb2xvclNwYWNlKHRoaXMscyksdGhpc31zZXRIU0woZSx0LHIscz1LaSl7aWYoZT1KZyhlLDEpLHQ9eXQodCwwLDEpLHI9eXQociwwLDEpLHQ9PT0wKXRoaXMucj10aGlzLmc9dGhpcy5iPXI7ZWxzZXtjb25zdCBhPXI8PS41P3IqKDErdCk6cit0LXIqdCxuPTIqci1hO3RoaXMucj1GbihuLGEsZSsxLzMpLHRoaXMuZz1GbihuLGEsZSksdGhpcy5iPUZuKG4sYSxlLTEvMyl9cmV0dXJuIEp0LnRvV29ya2luZ0NvbG9yU3BhY2UodGhpcyxzKSx0aGlzfXNldFN0eWxlKGUsdD15aSl7ZnVuY3Rpb24gcihhKXthIT09dm9pZCAwJiZwYXJzZUZsb2F0KGEpPDEmJmNvbnNvbGUud2FybigiVEhSRUUuQ29sb3I6IEFscGhhIGNvbXBvbmVudCBvZiAiK2UrIiB3aWxsIGJlIGlnbm9yZWQuIil9bGV0IHM7aWYocz0vXigoPzpyZ2J8aHNsKWE/KVwoKFteXCldKilcKS8uZXhlYyhlKSl7bGV0IGE7Y29uc3Qgbj1zWzFdLG89c1syXTtzd2l0Y2gobil7Y2FzZSJyZ2IiOmNhc2UicmdiYSI6aWYoYT0vXlxzKihcZCspXHMqLFxzKihcZCspXHMqLFxzKihcZCspXHMqKD86LFxzKihcZCpcLj9cZCspXHMqKT8kLy5leGVjKG8pKXJldHVybiB0aGlzLnI9TWF0aC5taW4oMjU1LHBhcnNlSW50KGFbMV0sMTApKS8yNTUsdGhpcy5nPU1hdGgubWluKDI1NSxwYXJzZUludChhWzJdLDEwKSkvMjU1LHRoaXMuYj1NYXRoLm1pbigyNTUscGFyc2VJbnQoYVszXSwxMCkpLzI1NSxKdC50b1dvcmtpbmdDb2xvclNwYWNlKHRoaXMsdCkscihhWzRdKSx0aGlzO2lmKGE9L15ccyooXGQrKVwlXHMqLFxzKihcZCspXCVccyosXHMqKFxkKylcJVxzKig/OixccyooXGQqXC4/XGQrKVxzKik/JC8uZXhlYyhvKSlyZXR1cm4gdGhpcy5yPU1hdGgubWluKDEwMCxwYXJzZUludChhWzFdLDEwKSkvMTAwLHRoaXMuZz1NYXRoLm1pbigxMDAscGFyc2VJbnQoYVsyXSwxMCkpLzEwMCx0aGlzLmI9TWF0aC5taW4oMTAwLHBhcnNlSW50KGFbM10sMTApKS8xMDAsSnQudG9Xb3JraW5nQ29sb3JTcGFjZSh0aGlzLHQpLHIoYVs0XSksdGhpczticmVhaztjYXNlImhzbCI6Y2FzZSJoc2xhIjppZihhPS9eXHMqKFxkKlwuP1xkKylccyosXHMqKFxkKylcJVxzKixccyooXGQrKVwlXHMqKD86LFxzKihcZCpcLj9cZCspXHMqKT8kLy5leGVjKG8pKXtjb25zdCBoPXBhcnNlRmxvYXQoYVsxXSkvMzYwLGw9cGFyc2VJbnQoYVsyXSwxMCkvMTAwLGM9cGFyc2VJbnQoYVszXSwxMCkvMTAwO3JldHVybiByKGFbNF0pLHRoaXMuc2V0SFNMKGgsbCxjLHQpfWJyZWFrfX1lbHNlIGlmKHM9L15cIyhbQS1GYS1mXGRdKykkLy5leGVjKGUpKXtjb25zdCBhPXNbMV0sbj1hLmxlbmd0aDtpZihuPT09MylyZXR1cm4gdGhpcy5yPXBhcnNlSW50KGEuY2hhckF0KDApK2EuY2hhckF0KDApLDE2KS8yNTUsdGhpcy5nPXBhcnNlSW50KGEuY2hhckF0KDEpK2EuY2hhckF0KDEpLDE2KS8yNTUsdGhpcy5iPXBhcnNlSW50KGEuY2hhckF0KDIpK2EuY2hhckF0KDIpLDE2KS8yNTUsSnQudG9Xb3JraW5nQ29sb3JTcGFjZSh0aGlzLHQpLHRoaXM7aWYobj09PTYpcmV0dXJuIHRoaXMucj1wYXJzZUludChhLmNoYXJBdCgwKSthLmNoYXJBdCgxKSwxNikvMjU1LHRoaXMuZz1wYXJzZUludChhLmNoYXJBdCgyKSthLmNoYXJBdCgzKSwxNikvMjU1LHRoaXMuYj1wYXJzZUludChhLmNoYXJBdCg0KSthLmNoYXJBdCg1KSwxNikvMjU1LEp0LnRvV29ya2luZ0NvbG9yU3BhY2UodGhpcyx0KSx0aGlzfXJldHVybiBlJiZlLmxlbmd0aD4wP3RoaXMuc2V0Q29sb3JOYW1lKGUsdCk6dGhpc31zZXRDb2xvck5hbWUoZSx0PXlpKXtjb25zdCByPXhsW2UudG9Mb3dlckNhc2UoKV07cmV0dXJuIHIhPT12b2lkIDA/dGhpcy5zZXRIZXgocix0KTpjb25zb2xlLndhcm4oIlRIUkVFLkNvbG9yOiBVbmtub3duIGNvbG9yICIrZSksdGhpc31jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLnIsdGhpcy5nLHRoaXMuYil9Y29weShlKXtyZXR1cm4gdGhpcy5yPWUucix0aGlzLmc9ZS5nLHRoaXMuYj1lLmIsdGhpc31jb3B5U1JHQlRvTGluZWFyKGUpe3JldHVybiB0aGlzLnI9JGkoZS5yKSx0aGlzLmc9JGkoZS5nKSx0aGlzLmI9JGkoZS5iKSx0aGlzfWNvcHlMaW5lYXJUb1NSR0IoZSl7cmV0dXJuIHRoaXMucj12YShlLnIpLHRoaXMuZz12YShlLmcpLHRoaXMuYj12YShlLmIpLHRoaXN9Y29udmVydFNSR0JUb0xpbmVhcigpe3JldHVybiB0aGlzLmNvcHlTUkdCVG9MaW5lYXIodGhpcyksdGhpc31jb252ZXJ0TGluZWFyVG9TUkdCKCl7cmV0dXJuIHRoaXMuY29weUxpbmVhclRvU1JHQih0aGlzKSx0aGlzfWdldEhleChlPXlpKXtyZXR1cm4gSnQuZnJvbVdvcmtpbmdDb2xvclNwYWNlKF9hKHRoaXMsaHQpLGUpLHl0KGh0LnIqMjU1LDAsMjU1KTw8MTZeeXQoaHQuZyoyNTUsMCwyNTUpPDw4Xnl0KGh0LmIqMjU1LDAsMjU1KTw8MH1nZXRIZXhTdHJpbmcoZT15aSl7cmV0dXJuKCIwMDAwMDAiK3RoaXMuZ2V0SGV4KGUpLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTYpfWdldEhTTChlLHQ9S2kpe0p0LmZyb21Xb3JraW5nQ29sb3JTcGFjZShfYSh0aGlzLGh0KSx0KTtjb25zdCByPWh0LnIscz1odC5nLGE9aHQuYixuPU1hdGgubWF4KHIscyxhKSxvPU1hdGgubWluKHIscyxhKTtsZXQgaCxsO2NvbnN0IGM9KG8rbikvMjtpZihvPT09biloPTAsbD0wO2Vsc2V7Y29uc3QgdT1uLW87c3dpdGNoKGw9Yzw9LjU/dS8obitvKTp1LygyLW4tbyksbil7Y2FzZSByOmg9KHMtYSkvdSsoczxhPzY6MCk7YnJlYWs7Y2FzZSBzOmg9KGEtcikvdSsyO2JyZWFrO2Nhc2UgYTpoPShyLXMpL3UrNDticmVha31oLz02fXJldHVybiBlLmg9aCxlLnM9bCxlLmw9YyxlfWdldFJHQihlLHQ9S2kpe3JldHVybiBKdC5mcm9tV29ya2luZ0NvbG9yU3BhY2UoX2EodGhpcyxodCksdCksZS5yPWh0LnIsZS5nPWh0LmcsZS5iPWh0LmIsZX1nZXRTdHlsZShlPXlpKXtyZXR1cm4gSnQuZnJvbVdvcmtpbmdDb2xvclNwYWNlKF9hKHRoaXMsaHQpLGUpLGUhPT15aT9gY29sb3IoJHtlfSAke2h0LnJ9ICR7aHQuZ30gJHtodC5ifSlgOmByZ2IoJHtodC5yKjI1NXwwfSwke2h0LmcqMjU1fDB9LCR7aHQuYioyNTV8MH0pYH1vZmZzZXRIU0woZSx0LHIpe3JldHVybiB0aGlzLmdldEhTTChZdCksWXQuaCs9ZSxZdC5zKz10LFl0LmwrPXIsdGhpcy5zZXRIU0woWXQuaCxZdC5zLFl0LmwpLHRoaXN9YWRkKGUpe3JldHVybiB0aGlzLnIrPWUucix0aGlzLmcrPWUuZyx0aGlzLmIrPWUuYix0aGlzfWFkZENvbG9ycyhlLHQpe3JldHVybiB0aGlzLnI9ZS5yK3Qucix0aGlzLmc9ZS5nK3QuZyx0aGlzLmI9ZS5iK3QuYix0aGlzfWFkZFNjYWxhcihlKXtyZXR1cm4gdGhpcy5yKz1lLHRoaXMuZys9ZSx0aGlzLmIrPWUsdGhpc31zdWIoZSl7cmV0dXJuIHRoaXMucj1NYXRoLm1heCgwLHRoaXMuci1lLnIpLHRoaXMuZz1NYXRoLm1heCgwLHRoaXMuZy1lLmcpLHRoaXMuYj1NYXRoLm1heCgwLHRoaXMuYi1lLmIpLHRoaXN9bXVsdGlwbHkoZSl7cmV0dXJuIHRoaXMucio9ZS5yLHRoaXMuZyo9ZS5nLHRoaXMuYio9ZS5iLHRoaXN9bXVsdGlwbHlTY2FsYXIoZSl7cmV0dXJuIHRoaXMucio9ZSx0aGlzLmcqPWUsdGhpcy5iKj1lLHRoaXN9bGVycChlLHQpe3JldHVybiB0aGlzLnIrPShlLnItdGhpcy5yKSp0LHRoaXMuZys9KGUuZy10aGlzLmcpKnQsdGhpcy5iKz0oZS5iLXRoaXMuYikqdCx0aGlzfWxlcnBDb2xvcnMoZSx0LHIpe3JldHVybiB0aGlzLnI9ZS5yKyh0LnItZS5yKSpyLHRoaXMuZz1lLmcrKHQuZy1lLmcpKnIsdGhpcy5iPWUuYisodC5iLWUuYikqcix0aGlzfWxlcnBIU0woZSx0KXt0aGlzLmdldEhTTChZdCksZS5nZXRIU0woeGEpO2NvbnN0IHI9em4oWXQuaCx4YS5oLHQpLHM9em4oWXQucyx4YS5zLHQpLGE9em4oWXQubCx4YS5sLHQpO3JldHVybiB0aGlzLnNldEhTTChyLHMsYSksdGhpc31lcXVhbHMoZSl7cmV0dXJuIGUucj09PXRoaXMuciYmZS5nPT09dGhpcy5nJiZlLmI9PT10aGlzLmJ9ZnJvbUFycmF5KGUsdD0wKXtyZXR1cm4gdGhpcy5yPWVbdF0sdGhpcy5nPWVbdCsxXSx0aGlzLmI9ZVt0KzJdLHRoaXN9dG9BcnJheShlPVtdLHQ9MCl7cmV0dXJuIGVbdF09dGhpcy5yLGVbdCsxXT10aGlzLmcsZVt0KzJdPXRoaXMuYixlfWZyb21CdWZmZXJBdHRyaWJ1dGUoZSx0KXtyZXR1cm4gdGhpcy5yPWUuZ2V0WCh0KSx0aGlzLmc9ZS5nZXRZKHQpLHRoaXMuYj1lLmdldFoodCksZS5ub3JtYWxpemVkPT09ITAmJih0aGlzLnIvPTI1NSx0aGlzLmcvPTI1NSx0aGlzLmIvPTI1NSksdGhpc310b0pTT04oKXtyZXR1cm4gdGhpcy5nZXRIZXgoKX19Z2UuTkFNRVM9eGwsZ2UucHJvdG90eXBlLmlzQ29sb3I9ITAsZ2UucHJvdG90eXBlLnI9MSxnZS5wcm90b3R5cGUuZz0xLGdlLnByb3RvdHlwZS5iPTE7bGV0IFJyO2NsYXNzIGVye3N0YXRpYyBnZXREYXRhVVJMKGUpe2lmKC9eZGF0YTovaS50ZXN0KGUuc3JjKXx8dHlwZW9mIEhUTUxDYW52YXNFbGVtZW50PiJ1IilyZXR1cm4gZS5zcmM7bGV0IHQ7aWYoZSBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50KXQ9ZTtlbHNle1JyPT09dm9pZCAwJiYoUnI9VHMoImNhbnZhcyIpKSxSci53aWR0aD1lLndpZHRoLFJyLmhlaWdodD1lLmhlaWdodDtjb25zdCByPVJyLmdldENvbnRleHQoIjJkIik7ZSBpbnN0YW5jZW9mIEltYWdlRGF0YT9yLnB1dEltYWdlRGF0YShlLDAsMCk6ci5kcmF3SW1hZ2UoZSwwLDAsZS53aWR0aCxlLmhlaWdodCksdD1Scn1yZXR1cm4gdC53aWR0aD4yMDQ4fHx0LmhlaWdodD4yMDQ4Pyhjb25zb2xlLndhcm4oIlRIUkVFLkltYWdlVXRpbHMuZ2V0RGF0YVVSTDogSW1hZ2UgY29udmVydGVkIHRvIGpwZyBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucyIsZSksdC50b0RhdGFVUkwoImltYWdlL2pwZWciLC42KSk6dC50b0RhdGFVUkwoImltYWdlL3BuZyIpfXN0YXRpYyBzUkdCVG9MaW5lYXIoZSl7aWYodHlwZW9mIEhUTUxJbWFnZUVsZW1lbnQ8InUiJiZlIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudHx8dHlwZW9mIEhUTUxDYW52YXNFbGVtZW50PCJ1IiYmZSBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50fHx0eXBlb2YgSW1hZ2VCaXRtYXA8InUiJiZlIGluc3RhbmNlb2YgSW1hZ2VCaXRtYXApe2NvbnN0IHQ9VHMoImNhbnZhcyIpO3Qud2lkdGg9ZS53aWR0aCx0LmhlaWdodD1lLmhlaWdodDtjb25zdCByPXQuZ2V0Q29udGV4dCgiMmQiKTtyLmRyYXdJbWFnZShlLDAsMCxlLndpZHRoLGUuaGVpZ2h0KTtjb25zdCBzPXIuZ2V0SW1hZ2VEYXRhKDAsMCxlLndpZHRoLGUuaGVpZ2h0KSxhPXMuZGF0YTtmb3IobGV0IG49MDtuPGEubGVuZ3RoO24rKylhW25dPSRpKGFbbl0vMjU1KSoyNTU7cmV0dXJuIHIucHV0SW1hZ2VEYXRhKHMsMCwwKSx0fWVsc2UgaWYoZS5kYXRhKXtjb25zdCB0PWUuZGF0YS5zbGljZSgwKTtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKyl0IGluc3RhbmNlb2YgVWludDhBcnJheXx8dCBpbnN0YW5jZW9mIFVpbnQ4Q2xhbXBlZEFycmF5P3Rbcl09TWF0aC5mbG9vcigkaSh0W3JdLzI1NSkqMjU1KTp0W3JdPSRpKHRbcl0pO3JldHVybntkYXRhOnQsd2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHR9fWVsc2UgcmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuSW1hZ2VVdGlscy5zUkdCVG9MaW5lYXIoKTogVW5zdXBwb3J0ZWQgaW1hZ2UgdHlwZS4gTm8gY29sb3Igc3BhY2UgY29udmVyc2lvbiBhcHBsaWVkLiIpLGV9fWNsYXNzIF9se2NvbnN0cnVjdG9yKGU9bnVsbCl7dGhpcy51dWlkPXNpKCksdGhpcy5kYXRhPWUsdGhpcy52ZXJzaW9uPTB9c2V0IG5lZWRzVXBkYXRlKGUpe2U9PT0hMCYmdGhpcy52ZXJzaW9uKyt9dG9KU09OKGUpe2NvbnN0IHQ9ZT09PXZvaWQgMHx8dHlwZW9mIGU9PSJzdHJpbmciO2lmKCF0JiZlLmltYWdlc1t0aGlzLnV1aWRdIT09dm9pZCAwKXJldHVybiBlLmltYWdlc1t0aGlzLnV1aWRdO2NvbnN0IHI9e3V1aWQ6dGhpcy51dWlkLHVybDoiIn0scz10aGlzLmRhdGE7aWYocyE9PW51bGwpe2xldCBhO2lmKEFycmF5LmlzQXJyYXkocykpe2E9W107Zm9yKGxldCBuPTAsbz1zLmxlbmd0aDtuPG87bisrKXNbbl0uaXNEYXRhVGV4dHVyZT9hLnB1c2goSG4oc1tuXS5pbWFnZSkpOmEucHVzaChIbihzW25dKSl9ZWxzZSBhPUhuKHMpO3IudXJsPWF9cmV0dXJuIHR8fChlLmltYWdlc1t0aGlzLnV1aWRdPXIpLHJ9fWZ1bmN0aW9uIEhuKGkpe3JldHVybiB0eXBlb2YgSFRNTEltYWdlRWxlbWVudDwidSImJmkgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50fHx0eXBlb2YgSFRNTENhbnZhc0VsZW1lbnQ8InUiJiZpIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnR8fHR5cGVvZiBJbWFnZUJpdG1hcDwidSImJmkgaW5zdGFuY2VvZiBJbWFnZUJpdG1hcD9lci5nZXREYXRhVVJMKGkpOmkuZGF0YT97ZGF0YTpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChpLmRhdGEpLHdpZHRoOmkud2lkdGgsaGVpZ2h0OmkuaGVpZ2h0LHR5cGU6aS5kYXRhLmNvbnN0cnVjdG9yLm5hbWV9Oihjb25zb2xlLndhcm4oIlRIUkVFLlRleHR1cmU6IFVuYWJsZSB0byBzZXJpYWxpemUgVGV4dHVyZS4iKSx7fSl9X2wucHJvdG90eXBlLmlzU291cmNlPSEwO2xldCBZZz0wO2NsYXNzIGR0IGV4dGVuZHMgUWl7Y29uc3RydWN0b3IoZT1kdC5ERUZBVUxUX0lNQUdFLHQ9ZHQuREVGQVVMVF9NQVBQSU5HLHI9cXQscz1xdCxhPUl0LG49dWEsbz1YdCxoPUppLGw9MSxjPV9pKXtzdXBlcigpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJpZCIse3ZhbHVlOllnKyt9KSx0aGlzLnV1aWQ9c2koKSx0aGlzLm5hbWU9IiIsdGhpcy5zb3VyY2U9bmV3IF9sKGUpLHRoaXMubWlwbWFwcz1bXSx0aGlzLm1hcHBpbmc9dCx0aGlzLndyYXBTPXIsdGhpcy53cmFwVD1zLHRoaXMubWFnRmlsdGVyPWEsdGhpcy5taW5GaWx0ZXI9bix0aGlzLmFuaXNvdHJvcHk9bCx0aGlzLmZvcm1hdD1vLHRoaXMuaW50ZXJuYWxGb3JtYXQ9bnVsbCx0aGlzLnR5cGU9aCx0aGlzLm9mZnNldD1uZXcgZWUoMCwwKSx0aGlzLnJlcGVhdD1uZXcgZWUoMSwxKSx0aGlzLmNlbnRlcj1uZXcgZWUoMCwwKSx0aGlzLnJvdGF0aW9uPTAsdGhpcy5tYXRyaXhBdXRvVXBkYXRlPSEwLHRoaXMubWF0cml4PW5ldyB4dCx0aGlzLmdlbmVyYXRlTWlwbWFwcz0hMCx0aGlzLnByZW11bHRpcGx5QWxwaGE9ITEsdGhpcy5mbGlwWT0hMCx0aGlzLnVucGFja0FsaWdubWVudD00LHRoaXMuZW5jb2Rpbmc9Yyx0aGlzLnVzZXJEYXRhPXt9LHRoaXMudmVyc2lvbj0wLHRoaXMub25VcGRhdGU9bnVsbCx0aGlzLmlzUmVuZGVyVGFyZ2V0VGV4dHVyZT0hMSx0aGlzLm5lZWRzUE1SRU1VcGRhdGU9ITF9Z2V0IGltYWdlKCl7cmV0dXJuIHRoaXMuc291cmNlLmRhdGF9c2V0IGltYWdlKGUpe3RoaXMuc291cmNlLmRhdGE9ZX11cGRhdGVNYXRyaXgoKXt0aGlzLm1hdHJpeC5zZXRVdlRyYW5zZm9ybSh0aGlzLm9mZnNldC54LHRoaXMub2Zmc2V0LnksdGhpcy5yZXBlYXQueCx0aGlzLnJlcGVhdC55LHRoaXMucm90YXRpb24sdGhpcy5jZW50ZXIueCx0aGlzLmNlbnRlci55KX1jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyl9Y29weShlKXtyZXR1cm4gdGhpcy5uYW1lPWUubmFtZSx0aGlzLnNvdXJjZT1lLnNvdXJjZSx0aGlzLm1pcG1hcHM9ZS5taXBtYXBzLnNsaWNlKDApLHRoaXMubWFwcGluZz1lLm1hcHBpbmcsdGhpcy53cmFwUz1lLndyYXBTLHRoaXMud3JhcFQ9ZS53cmFwVCx0aGlzLm1hZ0ZpbHRlcj1lLm1hZ0ZpbHRlcix0aGlzLm1pbkZpbHRlcj1lLm1pbkZpbHRlcix0aGlzLmFuaXNvdHJvcHk9ZS5hbmlzb3Ryb3B5LHRoaXMuZm9ybWF0PWUuZm9ybWF0LHRoaXMuaW50ZXJuYWxGb3JtYXQ9ZS5pbnRlcm5hbEZvcm1hdCx0aGlzLnR5cGU9ZS50eXBlLHRoaXMub2Zmc2V0LmNvcHkoZS5vZmZzZXQpLHRoaXMucmVwZWF0LmNvcHkoZS5yZXBlYXQpLHRoaXMuY2VudGVyLmNvcHkoZS5jZW50ZXIpLHRoaXMucm90YXRpb249ZS5yb3RhdGlvbix0aGlzLm1hdHJpeEF1dG9VcGRhdGU9ZS5tYXRyaXhBdXRvVXBkYXRlLHRoaXMubWF0cml4LmNvcHkoZS5tYXRyaXgpLHRoaXMuZ2VuZXJhdGVNaXBtYXBzPWUuZ2VuZXJhdGVNaXBtYXBzLHRoaXMucHJlbXVsdGlwbHlBbHBoYT1lLnByZW11bHRpcGx5QWxwaGEsdGhpcy5mbGlwWT1lLmZsaXBZLHRoaXMudW5wYWNrQWxpZ25tZW50PWUudW5wYWNrQWxpZ25tZW50LHRoaXMuZW5jb2Rpbmc9ZS5lbmNvZGluZyx0aGlzLnVzZXJEYXRhPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZS51c2VyRGF0YSkpLHRoaXMubmVlZHNVcGRhdGU9ITAsdGhpc310b0pTT04oZSl7Y29uc3QgdD1lPT09dm9pZCAwfHx0eXBlb2YgZT09InN0cmluZyI7aWYoIXQmJmUudGV4dHVyZXNbdGhpcy51dWlkXSE9PXZvaWQgMClyZXR1cm4gZS50ZXh0dXJlc1t0aGlzLnV1aWRdO2NvbnN0IHI9e21ldGFkYXRhOnt2ZXJzaW9uOjQuNSx0eXBlOiJUZXh0dXJlIixnZW5lcmF0b3I6IlRleHR1cmUudG9KU09OIn0sdXVpZDp0aGlzLnV1aWQsbmFtZTp0aGlzLm5hbWUsaW1hZ2U6dGhpcy5zb3VyY2UudG9KU09OKGUpLnV1aWQsbWFwcGluZzp0aGlzLm1hcHBpbmcscmVwZWF0Olt0aGlzLnJlcGVhdC54LHRoaXMucmVwZWF0LnldLG9mZnNldDpbdGhpcy5vZmZzZXQueCx0aGlzLm9mZnNldC55XSxjZW50ZXI6W3RoaXMuY2VudGVyLngsdGhpcy5jZW50ZXIueV0scm90YXRpb246dGhpcy5yb3RhdGlvbix3cmFwOlt0aGlzLndyYXBTLHRoaXMud3JhcFRdLGZvcm1hdDp0aGlzLmZvcm1hdCx0eXBlOnRoaXMudHlwZSxlbmNvZGluZzp0aGlzLmVuY29kaW5nLG1pbkZpbHRlcjp0aGlzLm1pbkZpbHRlcixtYWdGaWx0ZXI6dGhpcy5tYWdGaWx0ZXIsYW5pc290cm9weTp0aGlzLmFuaXNvdHJvcHksZmxpcFk6dGhpcy5mbGlwWSxwcmVtdWx0aXBseUFscGhhOnRoaXMucHJlbXVsdGlwbHlBbHBoYSx1bnBhY2tBbGlnbm1lbnQ6dGhpcy51bnBhY2tBbGlnbm1lbnR9O3JldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLnVzZXJEYXRhKSE9PSJ7fSImJihyLnVzZXJEYXRhPXRoaXMudXNlckRhdGEpLHR8fChlLnRleHR1cmVzW3RoaXMudXVpZF09cikscn1kaXNwb3NlKCl7dGhpcy5kaXNwYXRjaEV2ZW50KHt0eXBlOiJkaXNwb3NlIn0pfXRyYW5zZm9ybVV2KGUpe2lmKHRoaXMubWFwcGluZyE9PVdoKXJldHVybiBlO2lmKGUuYXBwbHlNYXRyaXgzKHRoaXMubWF0cml4KSxlLng8MHx8ZS54PjEpc3dpdGNoKHRoaXMud3JhcFMpe2Nhc2UgU246ZS54PWUueC1NYXRoLmZsb29yKGUueCk7YnJlYWs7Y2FzZSBxdDplLng9ZS54PDA/MDoxO2JyZWFrO2Nhc2UgRW46TWF0aC5hYnMoTWF0aC5mbG9vcihlLngpJTIpPT09MT9lLng9TWF0aC5jZWlsKGUueCktZS54OmUueD1lLngtTWF0aC5mbG9vcihlLngpO2JyZWFrfWlmKGUueTwwfHxlLnk+MSlzd2l0Y2godGhpcy53cmFwVCl7Y2FzZSBTbjplLnk9ZS55LU1hdGguZmxvb3IoZS55KTticmVhaztjYXNlIHF0OmUueT1lLnk8MD8wOjE7YnJlYWs7Y2FzZSBFbjpNYXRoLmFicyhNYXRoLmZsb29yKGUueSklMik9PT0xP2UueT1NYXRoLmNlaWwoZS55KS1lLnk6ZS55PWUueS1NYXRoLmZsb29yKGUueSk7YnJlYWt9cmV0dXJuIHRoaXMuZmxpcFkmJihlLnk9MS1lLnkpLGV9c2V0IG5lZWRzVXBkYXRlKGUpe2U9PT0hMCYmKHRoaXMudmVyc2lvbisrLHRoaXMuc291cmNlLm5lZWRzVXBkYXRlPSEwKX19ZHQuREVGQVVMVF9JTUFHRT1udWxsLGR0LkRFRkFVTFRfTUFQUElORz1XaCxkdC5wcm90b3R5cGUuaXNUZXh0dXJlPSEwO2NsYXNzIFhle2NvbnN0cnVjdG9yKGU9MCx0PTAscj0wLHM9MSl7dGhpcy54PWUsdGhpcy55PXQsdGhpcy56PXIsdGhpcy53PXN9Z2V0IHdpZHRoKCl7cmV0dXJuIHRoaXMuen1zZXQgd2lkdGgoZSl7dGhpcy56PWV9Z2V0IGhlaWdodCgpe3JldHVybiB0aGlzLnd9c2V0IGhlaWdodChlKXt0aGlzLnc9ZX1zZXQoZSx0LHIscyl7cmV0dXJuIHRoaXMueD1lLHRoaXMueT10LHRoaXMuej1yLHRoaXMudz1zLHRoaXN9c2V0U2NhbGFyKGUpe3JldHVybiB0aGlzLng9ZSx0aGlzLnk9ZSx0aGlzLno9ZSx0aGlzLnc9ZSx0aGlzfXNldFgoZSl7cmV0dXJuIHRoaXMueD1lLHRoaXN9c2V0WShlKXtyZXR1cm4gdGhpcy55PWUsdGhpc31zZXRaKGUpe3JldHVybiB0aGlzLno9ZSx0aGlzfXNldFcoZSl7cmV0dXJuIHRoaXMudz1lLHRoaXN9c2V0Q29tcG9uZW50KGUsdCl7c3dpdGNoKGUpe2Nhc2UgMDp0aGlzLng9dDticmVhaztjYXNlIDE6dGhpcy55PXQ7YnJlYWs7Y2FzZSAyOnRoaXMuej10O2JyZWFrO2Nhc2UgMzp0aGlzLnc9dDticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiaW5kZXggaXMgb3V0IG9mIHJhbmdlOiAiK2UpfXJldHVybiB0aGlzfWdldENvbXBvbmVudChlKXtzd2l0Y2goZSl7Y2FzZSAwOnJldHVybiB0aGlzLng7Y2FzZSAxOnJldHVybiB0aGlzLnk7Y2FzZSAyOnJldHVybiB0aGlzLno7Y2FzZSAzOnJldHVybiB0aGlzLnc7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoImluZGV4IGlzIG91dCBvZiByYW5nZTogIitlKX19Y2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54LHRoaXMueSx0aGlzLnosdGhpcy53KX1jb3B5KGUpe3JldHVybiB0aGlzLng9ZS54LHRoaXMueT1lLnksdGhpcy56PWUueix0aGlzLnc9ZS53IT09dm9pZCAwP2UudzoxLHRoaXN9YWRkKGUsdCl7cmV0dXJuIHQhPT12b2lkIDA/KGNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yNDogLmFkZCgpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLmFkZFZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLiIpLHRoaXMuYWRkVmVjdG9ycyhlLHQpKToodGhpcy54Kz1lLngsdGhpcy55Kz1lLnksdGhpcy56Kz1lLnosdGhpcy53Kz1lLncsdGhpcyl9YWRkU2NhbGFyKGUpe3JldHVybiB0aGlzLngrPWUsdGhpcy55Kz1lLHRoaXMueis9ZSx0aGlzLncrPWUsdGhpc31hZGRWZWN0b3JzKGUsdCl7cmV0dXJuIHRoaXMueD1lLngrdC54LHRoaXMueT1lLnkrdC55LHRoaXMuej1lLnordC56LHRoaXMudz1lLncrdC53LHRoaXN9YWRkU2NhbGVkVmVjdG9yKGUsdCl7cmV0dXJuIHRoaXMueCs9ZS54KnQsdGhpcy55Kz1lLnkqdCx0aGlzLnorPWUueip0LHRoaXMudys9ZS53KnQsdGhpc31zdWIoZSx0KXtyZXR1cm4gdCE9PXZvaWQgMD8oY29uc29sZS53YXJuKCJUSFJFRS5WZWN0b3I0OiAuc3ViKCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAuc3ViVmVjdG9ycyggYSwgYiApIGluc3RlYWQuIiksdGhpcy5zdWJWZWN0b3JzKGUsdCkpOih0aGlzLngtPWUueCx0aGlzLnktPWUueSx0aGlzLnotPWUueix0aGlzLnctPWUudyx0aGlzKX1zdWJTY2FsYXIoZSl7cmV0dXJuIHRoaXMueC09ZSx0aGlzLnktPWUsdGhpcy56LT1lLHRoaXMudy09ZSx0aGlzfXN1YlZlY3RvcnMoZSx0KXtyZXR1cm4gdGhpcy54PWUueC10LngsdGhpcy55PWUueS10LnksdGhpcy56PWUuei10LnosdGhpcy53PWUudy10LncsdGhpc31tdWx0aXBseShlKXtyZXR1cm4gdGhpcy54Kj1lLngsdGhpcy55Kj1lLnksdGhpcy56Kj1lLnosdGhpcy53Kj1lLncsdGhpc31tdWx0aXBseVNjYWxhcihlKXtyZXR1cm4gdGhpcy54Kj1lLHRoaXMueSo9ZSx0aGlzLnoqPWUsdGhpcy53Kj1lLHRoaXN9YXBwbHlNYXRyaXg0KGUpe2NvbnN0IHQ9dGhpcy54LHI9dGhpcy55LHM9dGhpcy56LGE9dGhpcy53LG49ZS5lbGVtZW50cztyZXR1cm4gdGhpcy54PW5bMF0qdCtuWzRdKnIrbls4XSpzK25bMTJdKmEsdGhpcy55PW5bMV0qdCtuWzVdKnIrbls5XSpzK25bMTNdKmEsdGhpcy56PW5bMl0qdCtuWzZdKnIrblsxMF0qcytuWzE0XSphLHRoaXMudz1uWzNdKnQrbls3XSpyK25bMTFdKnMrblsxNV0qYSx0aGlzfWRpdmlkZVNjYWxhcihlKXtyZXR1cm4gdGhpcy5tdWx0aXBseVNjYWxhcigxL2UpfXNldEF4aXNBbmdsZUZyb21RdWF0ZXJuaW9uKGUpe3RoaXMudz0yKk1hdGguYWNvcyhlLncpO2NvbnN0IHQ9TWF0aC5zcXJ0KDEtZS53KmUudyk7cmV0dXJuIHQ8MWUtND8odGhpcy54PTEsdGhpcy55PTAsdGhpcy56PTApOih0aGlzLng9ZS54L3QsdGhpcy55PWUueS90LHRoaXMuej1lLnovdCksdGhpc31zZXRBeGlzQW5nbGVGcm9tUm90YXRpb25NYXRyaXgoZSl7bGV0IHQscixzLGE7Y29uc3Qgbj1lLmVsZW1lbnRzLG89blswXSxoPW5bNF0sbD1uWzhdLGM9blsxXSx1PW5bNV0sZD1uWzldLHA9blsyXSxnPW5bNl0sZj1uWzEwXTtpZihNYXRoLmFicyhoLWMpPC4wMSYmTWF0aC5hYnMobC1wKTwuMDEmJk1hdGguYWJzKGQtZyk8LjAxKXtpZihNYXRoLmFicyhoK2MpPC4xJiZNYXRoLmFicyhsK3ApPC4xJiZNYXRoLmFicyhkK2cpPC4xJiZNYXRoLmFicyhvK3UrZi0zKTwuMSlyZXR1cm4gdGhpcy5zZXQoMSwwLDAsMCksdGhpczt0PU1hdGguUEk7Y29uc3Qgdj0obysxKS8yLHk9KHUrMSkvMixUPShmKzEpLzIsdz0oaCtjKS80LGI9KGwrcCkvNCxMPShkK2cpLzQ7cmV0dXJuIHY+eSYmdj5UP3Y8LjAxPyhyPTAscz0uNzA3MTA2NzgxLGE9LjcwNzEwNjc4MSk6KHI9TWF0aC5zcXJ0KHYpLHM9dy9yLGE9Yi9yKTp5PlQ/eTwuMDE/KHI9LjcwNzEwNjc4MSxzPTAsYT0uNzA3MTA2NzgxKToocz1NYXRoLnNxcnQoeSkscj13L3MsYT1ML3MpOlQ8LjAxPyhyPS43MDcxMDY3ODEscz0uNzA3MTA2NzgxLGE9MCk6KGE9TWF0aC5zcXJ0KFQpLHI9Yi9hLHM9TC9hKSx0aGlzLnNldChyLHMsYSx0KSx0aGlzfWxldCBtPU1hdGguc3FydCgoZy1kKSooZy1kKSsobC1wKSoobC1wKSsoYy1oKSooYy1oKSk7cmV0dXJuIE1hdGguYWJzKG0pPC4wMDEmJihtPTEpLHRoaXMueD0oZy1kKS9tLHRoaXMueT0obC1wKS9tLHRoaXMuej0oYy1oKS9tLHRoaXMudz1NYXRoLmFjb3MoKG8rdStmLTEpLzIpLHRoaXN9bWluKGUpe3JldHVybiB0aGlzLng9TWF0aC5taW4odGhpcy54LGUueCksdGhpcy55PU1hdGgubWluKHRoaXMueSxlLnkpLHRoaXMuej1NYXRoLm1pbih0aGlzLnosZS56KSx0aGlzLnc9TWF0aC5taW4odGhpcy53LGUudyksdGhpc31tYXgoZSl7cmV0dXJuIHRoaXMueD1NYXRoLm1heCh0aGlzLngsZS54KSx0aGlzLnk9TWF0aC5tYXgodGhpcy55LGUueSksdGhpcy56PU1hdGgubWF4KHRoaXMueixlLnopLHRoaXMudz1NYXRoLm1heCh0aGlzLncsZS53KSx0aGlzfWNsYW1wKGUsdCl7cmV0dXJuIHRoaXMueD1NYXRoLm1heChlLngsTWF0aC5taW4odC54LHRoaXMueCkpLHRoaXMueT1NYXRoLm1heChlLnksTWF0aC5taW4odC55LHRoaXMueSkpLHRoaXMuej1NYXRoLm1heChlLnosTWF0aC5taW4odC56LHRoaXMueikpLHRoaXMudz1NYXRoLm1heChlLncsTWF0aC5taW4odC53LHRoaXMudykpLHRoaXN9Y2xhbXBTY2FsYXIoZSx0KXtyZXR1cm4gdGhpcy54PU1hdGgubWF4KGUsTWF0aC5taW4odCx0aGlzLngpKSx0aGlzLnk9TWF0aC5tYXgoZSxNYXRoLm1pbih0LHRoaXMueSkpLHRoaXMuej1NYXRoLm1heChlLE1hdGgubWluKHQsdGhpcy56KSksdGhpcy53PU1hdGgubWF4KGUsTWF0aC5taW4odCx0aGlzLncpKSx0aGlzfWNsYW1wTGVuZ3RoKGUsdCl7Y29uc3Qgcj10aGlzLmxlbmd0aCgpO3JldHVybiB0aGlzLmRpdmlkZVNjYWxhcihyfHwxKS5tdWx0aXBseVNjYWxhcihNYXRoLm1heChlLE1hdGgubWluKHQscikpKX1mbG9vcigpe3JldHVybiB0aGlzLng9TWF0aC5mbG9vcih0aGlzLngpLHRoaXMueT1NYXRoLmZsb29yKHRoaXMueSksdGhpcy56PU1hdGguZmxvb3IodGhpcy56KSx0aGlzLnc9TWF0aC5mbG9vcih0aGlzLncpLHRoaXN9Y2VpbCgpe3JldHVybiB0aGlzLng9TWF0aC5jZWlsKHRoaXMueCksdGhpcy55PU1hdGguY2VpbCh0aGlzLnkpLHRoaXMuej1NYXRoLmNlaWwodGhpcy56KSx0aGlzLnc9TWF0aC5jZWlsKHRoaXMudyksdGhpc31yb3VuZCgpe3JldHVybiB0aGlzLng9TWF0aC5yb3VuZCh0aGlzLngpLHRoaXMueT1NYXRoLnJvdW5kKHRoaXMueSksdGhpcy56PU1hdGgucm91bmQodGhpcy56KSx0aGlzLnc9TWF0aC5yb3VuZCh0aGlzLncpLHRoaXN9cm91bmRUb1plcm8oKXtyZXR1cm4gdGhpcy54PXRoaXMueDwwP01hdGguY2VpbCh0aGlzLngpOk1hdGguZmxvb3IodGhpcy54KSx0aGlzLnk9dGhpcy55PDA/TWF0aC5jZWlsKHRoaXMueSk6TWF0aC5mbG9vcih0aGlzLnkpLHRoaXMuej10aGlzLno8MD9NYXRoLmNlaWwodGhpcy56KTpNYXRoLmZsb29yKHRoaXMueiksdGhpcy53PXRoaXMudzwwP01hdGguY2VpbCh0aGlzLncpOk1hdGguZmxvb3IodGhpcy53KSx0aGlzfW5lZ2F0ZSgpe3JldHVybiB0aGlzLng9LXRoaXMueCx0aGlzLnk9LXRoaXMueSx0aGlzLno9LXRoaXMueix0aGlzLnc9LXRoaXMudyx0aGlzfWRvdChlKXtyZXR1cm4gdGhpcy54KmUueCt0aGlzLnkqZS55K3RoaXMueiplLnordGhpcy53KmUud31sZW5ndGhTcSgpe3JldHVybiB0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkrdGhpcy56KnRoaXMueit0aGlzLncqdGhpcy53fWxlbmd0aCgpe3JldHVybiBNYXRoLnNxcnQodGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55K3RoaXMueip0aGlzLnordGhpcy53KnRoaXMudyl9bWFuaGF0dGFuTGVuZ3RoKCl7cmV0dXJuIE1hdGguYWJzKHRoaXMueCkrTWF0aC5hYnModGhpcy55KStNYXRoLmFicyh0aGlzLnopK01hdGguYWJzKHRoaXMudyl9bm9ybWFsaXplKCl7cmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKHRoaXMubGVuZ3RoKCl8fDEpfXNldExlbmd0aChlKXtyZXR1cm4gdGhpcy5ub3JtYWxpemUoKS5tdWx0aXBseVNjYWxhcihlKX1sZXJwKGUsdCl7cmV0dXJuIHRoaXMueCs9KGUueC10aGlzLngpKnQsdGhpcy55Kz0oZS55LXRoaXMueSkqdCx0aGlzLnorPShlLnotdGhpcy56KSp0LHRoaXMudys9KGUudy10aGlzLncpKnQsdGhpc31sZXJwVmVjdG9ycyhlLHQscil7cmV0dXJuIHRoaXMueD1lLngrKHQueC1lLngpKnIsdGhpcy55PWUueSsodC55LWUueSkqcix0aGlzLno9ZS56Kyh0LnotZS56KSpyLHRoaXMudz1lLncrKHQudy1lLncpKnIsdGhpc31lcXVhbHMoZSl7cmV0dXJuIGUueD09PXRoaXMueCYmZS55PT09dGhpcy55JiZlLno9PT10aGlzLnomJmUudz09PXRoaXMud31mcm9tQXJyYXkoZSx0PTApe3JldHVybiB0aGlzLng9ZVt0XSx0aGlzLnk9ZVt0KzFdLHRoaXMuej1lW3QrMl0sdGhpcy53PWVbdCszXSx0aGlzfXRvQXJyYXkoZT1bXSx0PTApe3JldHVybiBlW3RdPXRoaXMueCxlW3QrMV09dGhpcy55LGVbdCsyXT10aGlzLnosZVt0KzNdPXRoaXMudyxlfWZyb21CdWZmZXJBdHRyaWJ1dGUoZSx0LHIpe3JldHVybiByIT09dm9pZCAwJiZjb25zb2xlLndhcm4oIlRIUkVFLlZlY3RvcjQ6IG9mZnNldCBoYXMgYmVlbiByZW1vdmVkIGZyb20gLmZyb21CdWZmZXJBdHRyaWJ1dGUoKS4iKSx0aGlzLng9ZS5nZXRYKHQpLHRoaXMueT1lLmdldFkodCksdGhpcy56PWUuZ2V0Wih0KSx0aGlzLnc9ZS5nZXRXKHQpLHRoaXN9cmFuZG9tKCl7cmV0dXJuIHRoaXMueD1NYXRoLnJhbmRvbSgpLHRoaXMueT1NYXRoLnJhbmRvbSgpLHRoaXMuej1NYXRoLnJhbmRvbSgpLHRoaXMudz1NYXRoLnJhbmRvbSgpLHRoaXN9KltTeW1ib2wuaXRlcmF0b3JdKCl7eWllbGQgdGhpcy54LHlpZWxkIHRoaXMueSx5aWVsZCB0aGlzLnoseWllbGQgdGhpcy53fX1YZS5wcm90b3R5cGUuaXNWZWN0b3I0PSEwO2NsYXNzIHp0IGV4dGVuZHMgUWl7Y29uc3RydWN0b3IoZSx0LHI9e30pe3N1cGVyKCk7dGhpcy53aWR0aD1lLHRoaXMuaGVpZ2h0PXQsdGhpcy5kZXB0aD0xLHRoaXMuc2Npc3Nvcj1uZXcgWGUoMCwwLGUsdCksdGhpcy5zY2lzc29yVGVzdD0hMSx0aGlzLnZpZXdwb3J0PW5ldyBYZSgwLDAsZSx0KTtjb25zdCBzPXt3aWR0aDplLGhlaWdodDp0LGRlcHRoOjF9O3RoaXMudGV4dHVyZT1uZXcgZHQocyxyLm1hcHBpbmcsci53cmFwUyxyLndyYXBULHIubWFnRmlsdGVyLHIubWluRmlsdGVyLHIuZm9ybWF0LHIudHlwZSxyLmFuaXNvdHJvcHksci5lbmNvZGluZyksdGhpcy50ZXh0dXJlLmlzUmVuZGVyVGFyZ2V0VGV4dHVyZT0hMCx0aGlzLnRleHR1cmUuZmxpcFk9ITEsdGhpcy50ZXh0dXJlLmdlbmVyYXRlTWlwbWFwcz1yLmdlbmVyYXRlTWlwbWFwcyE9PXZvaWQgMD9yLmdlbmVyYXRlTWlwbWFwczohMSx0aGlzLnRleHR1cmUuaW50ZXJuYWxGb3JtYXQ9ci5pbnRlcm5hbEZvcm1hdCE9PXZvaWQgMD9yLmludGVybmFsRm9ybWF0Om51bGwsdGhpcy50ZXh0dXJlLm1pbkZpbHRlcj1yLm1pbkZpbHRlciE9PXZvaWQgMD9yLm1pbkZpbHRlcjpJdCx0aGlzLmRlcHRoQnVmZmVyPXIuZGVwdGhCdWZmZXIhPT12b2lkIDA/ci5kZXB0aEJ1ZmZlcjohMCx0aGlzLnN0ZW5jaWxCdWZmZXI9ci5zdGVuY2lsQnVmZmVyIT09dm9pZCAwP3Iuc3RlbmNpbEJ1ZmZlcjohMSx0aGlzLmRlcHRoVGV4dHVyZT1yLmRlcHRoVGV4dHVyZSE9PXZvaWQgMD9yLmRlcHRoVGV4dHVyZTpudWxsLHRoaXMuc2FtcGxlcz1yLnNhbXBsZXMhPT12b2lkIDA/ci5zYW1wbGVzOjB9c2V0U2l6ZShlLHQscj0xKXsodGhpcy53aWR0aCE9PWV8fHRoaXMuaGVpZ2h0IT09dHx8dGhpcy5kZXB0aCE9PXIpJiYodGhpcy53aWR0aD1lLHRoaXMuaGVpZ2h0PXQsdGhpcy5kZXB0aD1yLHRoaXMudGV4dHVyZS5pbWFnZS53aWR0aD1lLHRoaXMudGV4dHVyZS5pbWFnZS5oZWlnaHQ9dCx0aGlzLnRleHR1cmUuaW1hZ2UuZGVwdGg9cix0aGlzLmRpc3Bvc2UoKSksdGhpcy52aWV3cG9ydC5zZXQoMCwwLGUsdCksdGhpcy5zY2lzc29yLnNldCgwLDAsZSx0KX1jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyl9Y29weShlKXtyZXR1cm4gdGhpcy53aWR0aD1lLndpZHRoLHRoaXMuaGVpZ2h0PWUuaGVpZ2h0LHRoaXMuZGVwdGg9ZS5kZXB0aCx0aGlzLnZpZXdwb3J0LmNvcHkoZS52aWV3cG9ydCksdGhpcy50ZXh0dXJlPWUudGV4dHVyZS5jbG9uZSgpLHRoaXMudGV4dHVyZS5pc1JlbmRlclRhcmdldFRleHR1cmU9ITAsdGhpcy50ZXh0dXJlLmltYWdlPU9iamVjdC5hc3NpZ24oe30sZS50ZXh0dXJlLmltYWdlKSx0aGlzLmRlcHRoQnVmZmVyPWUuZGVwdGhCdWZmZXIsdGhpcy5zdGVuY2lsQnVmZmVyPWUuc3RlbmNpbEJ1ZmZlcixlLmRlcHRoVGV4dHVyZSE9PW51bGwmJih0aGlzLmRlcHRoVGV4dHVyZT1lLmRlcHRoVGV4dHVyZS5jbG9uZSgpKSx0aGlzLnNhbXBsZXM9ZS5zYW1wbGVzLHRoaXN9ZGlzcG9zZSgpe3RoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZToiZGlzcG9zZSJ9KX19enQucHJvdG90eXBlLmlzV2ViR0xSZW5kZXJUYXJnZXQ9ITA7Y2xhc3MgeWEgZXh0ZW5kcyBkdHtjb25zdHJ1Y3RvcihlPW51bGwsdD0xLHI9MSxzPTEpe3N1cGVyKG51bGwpO3RoaXMuaW1hZ2U9e2RhdGE6ZSx3aWR0aDp0LGhlaWdodDpyLGRlcHRoOnN9LHRoaXMubWFnRmlsdGVyPXV0LHRoaXMubWluRmlsdGVyPXV0LHRoaXMud3JhcFI9cXQsdGhpcy5nZW5lcmF0ZU1pcG1hcHM9ITEsdGhpcy5mbGlwWT0hMSx0aGlzLnVucGFja0FsaWdubWVudD0xfX15YS5wcm90b3R5cGUuaXNEYXRhQXJyYXlUZXh0dXJlPSEwO2NsYXNzIFpnIGV4dGVuZHMgenR7Y29uc3RydWN0b3IoZSx0LHIpe3N1cGVyKGUsdCk7dGhpcy5kZXB0aD1yLHRoaXMudGV4dHVyZT1uZXcgeWEobnVsbCxlLHQsciksdGhpcy50ZXh0dXJlLmlzUmVuZGVyVGFyZ2V0VGV4dHVyZT0hMH19WmcucHJvdG90eXBlLmlzV2ViR0xBcnJheVJlbmRlclRhcmdldD0hMDtjbGFzcyBrbiBleHRlbmRzIGR0e2NvbnN0cnVjdG9yKGU9bnVsbCx0PTEscj0xLHM9MSl7c3VwZXIobnVsbCk7dGhpcy5pbWFnZT17ZGF0YTplLHdpZHRoOnQsaGVpZ2h0OnIsZGVwdGg6c30sdGhpcy5tYWdGaWx0ZXI9dXQsdGhpcy5taW5GaWx0ZXI9dXQsdGhpcy53cmFwUj1xdCx0aGlzLmdlbmVyYXRlTWlwbWFwcz0hMSx0aGlzLmZsaXBZPSExLHRoaXMudW5wYWNrQWxpZ25tZW50PTF9fWtuLnByb3RvdHlwZS5pc0RhdGEzRFRleHR1cmU9ITA7Y2xhc3MgS2cgZXh0ZW5kcyB6dHtjb25zdHJ1Y3RvcihlLHQscil7c3VwZXIoZSx0KTt0aGlzLmRlcHRoPXIsdGhpcy50ZXh0dXJlPW5ldyBrbihudWxsLGUsdCxyKSx0aGlzLnRleHR1cmUuaXNSZW5kZXJUYXJnZXRUZXh0dXJlPSEwfX1LZy5wcm90b3R5cGUuaXNXZWJHTDNEUmVuZGVyVGFyZ2V0PSEwO2NsYXNzIFFnIGV4dGVuZHMgenR7Y29uc3RydWN0b3IoZSx0LHIscz17fSl7c3VwZXIoZSx0LHMpO2NvbnN0IGE9dGhpcy50ZXh0dXJlO3RoaXMudGV4dHVyZT1bXTtmb3IobGV0IG49MDtuPHI7bisrKXRoaXMudGV4dHVyZVtuXT1hLmNsb25lKCksdGhpcy50ZXh0dXJlW25dLmlzUmVuZGVyVGFyZ2V0VGV4dHVyZT0hMH1zZXRTaXplKGUsdCxyPTEpe2lmKHRoaXMud2lkdGghPT1lfHx0aGlzLmhlaWdodCE9PXR8fHRoaXMuZGVwdGghPT1yKXt0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9dCx0aGlzLmRlcHRoPXI7Zm9yKGxldCBzPTAsYT10aGlzLnRleHR1cmUubGVuZ3RoO3M8YTtzKyspdGhpcy50ZXh0dXJlW3NdLmltYWdlLndpZHRoPWUsdGhpcy50ZXh0dXJlW3NdLmltYWdlLmhlaWdodD10LHRoaXMudGV4dHVyZVtzXS5pbWFnZS5kZXB0aD1yO3RoaXMuZGlzcG9zZSgpfXJldHVybiB0aGlzLnZpZXdwb3J0LnNldCgwLDAsZSx0KSx0aGlzLnNjaXNzb3Iuc2V0KDAsMCxlLHQpLHRoaXN9Y29weShlKXt0aGlzLmRpc3Bvc2UoKSx0aGlzLndpZHRoPWUud2lkdGgsdGhpcy5oZWlnaHQ9ZS5oZWlnaHQsdGhpcy5kZXB0aD1lLmRlcHRoLHRoaXMudmlld3BvcnQuc2V0KDAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSx0aGlzLnNjaXNzb3Iuc2V0KDAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSx0aGlzLmRlcHRoQnVmZmVyPWUuZGVwdGhCdWZmZXIsdGhpcy5zdGVuY2lsQnVmZmVyPWUuc3RlbmNpbEJ1ZmZlcix0aGlzLmRlcHRoVGV4dHVyZT1lLmRlcHRoVGV4dHVyZSx0aGlzLnRleHR1cmUubGVuZ3RoPTA7Zm9yKGxldCB0PTAscj1lLnRleHR1cmUubGVuZ3RoO3Q8cjt0KyspdGhpcy50ZXh0dXJlW3RdPWUudGV4dHVyZVt0XS5jbG9uZSgpO3JldHVybiB0aGlzfX1RZy5wcm90b3R5cGUuaXNXZWJHTE11bHRpcGxlUmVuZGVyVGFyZ2V0cz0hMDtjbGFzcyBUdHtjb25zdHJ1Y3RvcihlPTAsdD0wLHI9MCxzPTEpe3RoaXMuX3g9ZSx0aGlzLl95PXQsdGhpcy5fej1yLHRoaXMuX3c9c31zdGF0aWMgc2xlcnAoZSx0LHIscyl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuUXVhdGVybmlvbjogU3RhdGljIC5zbGVycCgpIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSBxbS5zbGVycFF1YXRlcm5pb25zKCBxYSwgcWIsIHQgKSBpbnN0ZWFkLiIpLHIuc2xlcnBRdWF0ZXJuaW9ucyhlLHQscyl9c3RhdGljIHNsZXJwRmxhdChlLHQscixzLGEsbixvKXtsZXQgaD1yW3MrMF0sbD1yW3MrMV0sYz1yW3MrMl0sdT1yW3MrM107Y29uc3QgZD1hW24rMF0scD1hW24rMV0sZz1hW24rMl0sZj1hW24rM107aWYobz09PTApe2VbdCswXT1oLGVbdCsxXT1sLGVbdCsyXT1jLGVbdCszXT11O3JldHVybn1pZihvPT09MSl7ZVt0KzBdPWQsZVt0KzFdPXAsZVt0KzJdPWcsZVt0KzNdPWY7cmV0dXJufWlmKHUhPT1mfHxoIT09ZHx8bCE9PXB8fGMhPT1nKXtsZXQgbT0xLW87Y29uc3Qgdj1oKmQrbCpwK2MqZyt1KmYseT12Pj0wPzE6LTEsVD0xLXYqdjtpZihUPk51bWJlci5FUFNJTE9OKXtjb25zdCBiPU1hdGguc3FydChUKSxMPU1hdGguYXRhbjIoYix2KnkpO209TWF0aC5zaW4obSpMKS9iLG89TWF0aC5zaW4obypMKS9ifWNvbnN0IHc9byp5O2lmKGg9aCptK2QqdyxsPWwqbStwKncsYz1jKm0rZyp3LHU9dSptK2YqdyxtPT09MS1vKXtjb25zdCBiPTEvTWF0aC5zcXJ0KGgqaCtsKmwrYypjK3UqdSk7aCo9YixsKj1iLGMqPWIsdSo9Yn19ZVt0XT1oLGVbdCsxXT1sLGVbdCsyXT1jLGVbdCszXT11fXN0YXRpYyBtdWx0aXBseVF1YXRlcm5pb25zRmxhdChlLHQscixzLGEsbil7Y29uc3Qgbz1yW3NdLGg9cltzKzFdLGw9cltzKzJdLGM9cltzKzNdLHU9YVtuXSxkPWFbbisxXSxwPWFbbisyXSxnPWFbbiszXTtyZXR1cm4gZVt0XT1vKmcrYyp1K2gqcC1sKmQsZVt0KzFdPWgqZytjKmQrbCp1LW8qcCxlW3QrMl09bCpnK2MqcCtvKmQtaCp1LGVbdCszXT1jKmctbyp1LWgqZC1sKnAsZX1nZXQgeCgpe3JldHVybiB0aGlzLl94fXNldCB4KGUpe3RoaXMuX3g9ZSx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCl9Z2V0IHkoKXtyZXR1cm4gdGhpcy5feX1zZXQgeShlKXt0aGlzLl95PWUsdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpfWdldCB6KCl7cmV0dXJuIHRoaXMuX3p9c2V0IHooZSl7dGhpcy5fej1lLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKX1nZXQgdygpe3JldHVybiB0aGlzLl93fXNldCB3KGUpe3RoaXMuX3c9ZSx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCl9c2V0KGUsdCxyLHMpe3JldHVybiB0aGlzLl94PWUsdGhpcy5feT10LHRoaXMuX3o9cix0aGlzLl93PXMsdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpLHRoaXN9Y2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feCx0aGlzLl95LHRoaXMuX3osdGhpcy5fdyl9Y29weShlKXtyZXR1cm4gdGhpcy5feD1lLngsdGhpcy5feT1lLnksdGhpcy5fej1lLnosdGhpcy5fdz1lLncsdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpLHRoaXN9c2V0RnJvbUV1bGVyKGUsdCl7aWYoIShlJiZlLmlzRXVsZXIpKXRocm93IG5ldyBFcnJvcigiVEhSRUUuUXVhdGVybmlvbjogLnNldEZyb21FdWxlcigpIG5vdyBleHBlY3RzIGFuIEV1bGVyIHJvdGF0aW9uIHJhdGhlciB0aGFuIGEgVmVjdG9yMyBhbmQgb3JkZXIuIik7Y29uc3Qgcj1lLl94LHM9ZS5feSxhPWUuX3osbj1lLl9vcmRlcixvPU1hdGguY29zLGg9TWF0aC5zaW4sbD1vKHIvMiksYz1vKHMvMiksdT1vKGEvMiksZD1oKHIvMikscD1oKHMvMiksZz1oKGEvMik7c3dpdGNoKG4pe2Nhc2UiWFlaIjp0aGlzLl94PWQqYyp1K2wqcCpnLHRoaXMuX3k9bCpwKnUtZCpjKmcsdGhpcy5fej1sKmMqZytkKnAqdSx0aGlzLl93PWwqYyp1LWQqcCpnO2JyZWFrO2Nhc2UiWVhaIjp0aGlzLl94PWQqYyp1K2wqcCpnLHRoaXMuX3k9bCpwKnUtZCpjKmcsdGhpcy5fej1sKmMqZy1kKnAqdSx0aGlzLl93PWwqYyp1K2QqcCpnO2JyZWFrO2Nhc2UiWlhZIjp0aGlzLl94PWQqYyp1LWwqcCpnLHRoaXMuX3k9bCpwKnUrZCpjKmcsdGhpcy5fej1sKmMqZytkKnAqdSx0aGlzLl93PWwqYyp1LWQqcCpnO2JyZWFrO2Nhc2UiWllYIjp0aGlzLl94PWQqYyp1LWwqcCpnLHRoaXMuX3k9bCpwKnUrZCpjKmcsdGhpcy5fej1sKmMqZy1kKnAqdSx0aGlzLl93PWwqYyp1K2QqcCpnO2JyZWFrO2Nhc2UiWVpYIjp0aGlzLl94PWQqYyp1K2wqcCpnLHRoaXMuX3k9bCpwKnUrZCpjKmcsdGhpcy5fej1sKmMqZy1kKnAqdSx0aGlzLl93PWwqYyp1LWQqcCpnO2JyZWFrO2Nhc2UiWFpZIjp0aGlzLl94PWQqYyp1LWwqcCpnLHRoaXMuX3k9bCpwKnUtZCpjKmcsdGhpcy5fej1sKmMqZytkKnAqdSx0aGlzLl93PWwqYyp1K2QqcCpnO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS53YXJuKCJUSFJFRS5RdWF0ZXJuaW9uOiAuc2V0RnJvbUV1bGVyKCkgZW5jb3VudGVyZWQgYW4gdW5rbm93biBvcmRlcjogIituKX1yZXR1cm4gdCE9PSExJiZ0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc31zZXRGcm9tQXhpc0FuZ2xlKGUsdCl7Y29uc3Qgcj10LzIscz1NYXRoLnNpbihyKTtyZXR1cm4gdGhpcy5feD1lLngqcyx0aGlzLl95PWUueSpzLHRoaXMuX3o9ZS56KnMsdGhpcy5fdz1NYXRoLmNvcyhyKSx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc31zZXRGcm9tUm90YXRpb25NYXRyaXgoZSl7Y29uc3QgdD1lLmVsZW1lbnRzLHI9dFswXSxzPXRbNF0sYT10WzhdLG49dFsxXSxvPXRbNV0saD10WzldLGw9dFsyXSxjPXRbNl0sdT10WzEwXSxkPXIrbyt1O2lmKGQ+MCl7Y29uc3QgcD0uNS9NYXRoLnNxcnQoZCsxKTt0aGlzLl93PS4yNS9wLHRoaXMuX3g9KGMtaCkqcCx0aGlzLl95PShhLWwpKnAsdGhpcy5fej0obi1zKSpwfWVsc2UgaWYocj5vJiZyPnUpe2NvbnN0IHA9MipNYXRoLnNxcnQoMStyLW8tdSk7dGhpcy5fdz0oYy1oKS9wLHRoaXMuX3g9LjI1KnAsdGhpcy5feT0ocytuKS9wLHRoaXMuX3o9KGErbCkvcH1lbHNlIGlmKG8+dSl7Y29uc3QgcD0yKk1hdGguc3FydCgxK28tci11KTt0aGlzLl93PShhLWwpL3AsdGhpcy5feD0ocytuKS9wLHRoaXMuX3k9LjI1KnAsdGhpcy5fej0oaCtjKS9wfWVsc2V7Y29uc3QgcD0yKk1hdGguc3FydCgxK3Utci1vKTt0aGlzLl93PShuLXMpL3AsdGhpcy5feD0oYStsKS9wLHRoaXMuX3k9KGgrYykvcCx0aGlzLl96PS4yNSpwfXJldHVybiB0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc31zZXRGcm9tVW5pdFZlY3RvcnMoZSx0KXtsZXQgcj1lLmRvdCh0KSsxO3JldHVybiByPE51bWJlci5FUFNJTE9OPyhyPTAsTWF0aC5hYnMoZS54KT5NYXRoLmFicyhlLnopPyh0aGlzLl94PS1lLnksdGhpcy5feT1lLngsdGhpcy5fej0wLHRoaXMuX3c9cik6KHRoaXMuX3g9MCx0aGlzLl95PS1lLnosdGhpcy5fej1lLnksdGhpcy5fdz1yKSk6KHRoaXMuX3g9ZS55KnQuei1lLnoqdC55LHRoaXMuX3k9ZS56KnQueC1lLngqdC56LHRoaXMuX3o9ZS54KnQueS1lLnkqdC54LHRoaXMuX3c9ciksdGhpcy5ub3JtYWxpemUoKX1hbmdsZVRvKGUpe3JldHVybiAyKk1hdGguYWNvcyhNYXRoLmFicyh5dCh0aGlzLmRvdChlKSwtMSwxKSkpfXJvdGF0ZVRvd2FyZHMoZSx0KXtjb25zdCByPXRoaXMuYW5nbGVUbyhlKTtpZihyPT09MClyZXR1cm4gdGhpcztjb25zdCBzPU1hdGgubWluKDEsdC9yKTtyZXR1cm4gdGhpcy5zbGVycChlLHMpLHRoaXN9aWRlbnRpdHkoKXtyZXR1cm4gdGhpcy5zZXQoMCwwLDAsMSl9aW52ZXJ0KCl7cmV0dXJuIHRoaXMuY29uanVnYXRlKCl9Y29uanVnYXRlKCl7cmV0dXJuIHRoaXMuX3gqPS0xLHRoaXMuX3kqPS0xLHRoaXMuX3oqPS0xLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfWRvdChlKXtyZXR1cm4gdGhpcy5feCplLl94K3RoaXMuX3kqZS5feSt0aGlzLl96KmUuX3ordGhpcy5fdyplLl93fWxlbmd0aFNxKCl7cmV0dXJuIHRoaXMuX3gqdGhpcy5feCt0aGlzLl95KnRoaXMuX3krdGhpcy5feip0aGlzLl96K3RoaXMuX3cqdGhpcy5fd31sZW5ndGgoKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuX3gqdGhpcy5feCt0aGlzLl95KnRoaXMuX3krdGhpcy5feip0aGlzLl96K3RoaXMuX3cqdGhpcy5fdyl9bm9ybWFsaXplKCl7bGV0IGU9dGhpcy5sZW5ndGgoKTtyZXR1cm4gZT09PTA/KHRoaXMuX3g9MCx0aGlzLl95PTAsdGhpcy5fej0wLHRoaXMuX3c9MSk6KGU9MS9lLHRoaXMuX3g9dGhpcy5feCplLHRoaXMuX3k9dGhpcy5feSplLHRoaXMuX3o9dGhpcy5feiplLHRoaXMuX3c9dGhpcy5fdyplKSx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc31tdWx0aXBseShlLHQpe3JldHVybiB0IT09dm9pZCAwPyhjb25zb2xlLndhcm4oIlRIUkVFLlF1YXRlcm5pb246IC5tdWx0aXBseSgpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLm11bHRpcGx5UXVhdGVybmlvbnMoIGEsIGIgKSBpbnN0ZWFkLiIpLHRoaXMubXVsdGlwbHlRdWF0ZXJuaW9ucyhlLHQpKTp0aGlzLm11bHRpcGx5UXVhdGVybmlvbnModGhpcyxlKX1wcmVtdWx0aXBseShlKXtyZXR1cm4gdGhpcy5tdWx0aXBseVF1YXRlcm5pb25zKGUsdGhpcyl9bXVsdGlwbHlRdWF0ZXJuaW9ucyhlLHQpe2NvbnN0IHI9ZS5feCxzPWUuX3ksYT1lLl96LG49ZS5fdyxvPXQuX3gsaD10Ll95LGw9dC5feixjPXQuX3c7cmV0dXJuIHRoaXMuX3g9cipjK24qbytzKmwtYSpoLHRoaXMuX3k9cypjK24qaCthKm8tcipsLHRoaXMuX3o9YSpjK24qbCtyKmgtcypvLHRoaXMuX3c9bipjLXIqby1zKmgtYSpsLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfXNsZXJwKGUsdCl7aWYodD09PTApcmV0dXJuIHRoaXM7aWYodD09PTEpcmV0dXJuIHRoaXMuY29weShlKTtjb25zdCByPXRoaXMuX3gscz10aGlzLl95LGE9dGhpcy5feixuPXRoaXMuX3c7bGV0IG89biplLl93K3IqZS5feCtzKmUuX3krYSplLl96O2lmKG88MD8odGhpcy5fdz0tZS5fdyx0aGlzLl94PS1lLl94LHRoaXMuX3k9LWUuX3ksdGhpcy5fej0tZS5feixvPS1vKTp0aGlzLmNvcHkoZSksbz49MSlyZXR1cm4gdGhpcy5fdz1uLHRoaXMuX3g9cix0aGlzLl95PXMsdGhpcy5fej1hLHRoaXM7Y29uc3QgaD0xLW8qbztpZihoPD1OdW1iZXIuRVBTSUxPTil7Y29uc3QgcD0xLXQ7cmV0dXJuIHRoaXMuX3c9cCpuK3QqdGhpcy5fdyx0aGlzLl94PXAqcit0KnRoaXMuX3gsdGhpcy5feT1wKnMrdCp0aGlzLl95LHRoaXMuX3o9cCphK3QqdGhpcy5feix0aGlzLm5vcm1hbGl6ZSgpLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfWNvbnN0IGw9TWF0aC5zcXJ0KGgpLGM9TWF0aC5hdGFuMihsLG8pLHU9TWF0aC5zaW4oKDEtdCkqYykvbCxkPU1hdGguc2luKHQqYykvbDtyZXR1cm4gdGhpcy5fdz1uKnUrdGhpcy5fdypkLHRoaXMuX3g9cip1K3RoaXMuX3gqZCx0aGlzLl95PXMqdSt0aGlzLl95KmQsdGhpcy5fej1hKnUrdGhpcy5feipkLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfXNsZXJwUXVhdGVybmlvbnMoZSx0LHIpe3JldHVybiB0aGlzLmNvcHkoZSkuc2xlcnAodCxyKX1yYW5kb20oKXtjb25zdCBlPU1hdGgucmFuZG9tKCksdD1NYXRoLnNxcnQoMS1lKSxyPU1hdGguc3FydChlKSxzPTIqTWF0aC5QSSpNYXRoLnJhbmRvbSgpLGE9MipNYXRoLlBJKk1hdGgucmFuZG9tKCk7cmV0dXJuIHRoaXMuc2V0KHQqTWF0aC5jb3MocykscipNYXRoLnNpbihhKSxyKk1hdGguY29zKGEpLHQqTWF0aC5zaW4ocykpfWVxdWFscyhlKXtyZXR1cm4gZS5feD09PXRoaXMuX3gmJmUuX3k9PT10aGlzLl95JiZlLl96PT09dGhpcy5feiYmZS5fdz09PXRoaXMuX3d9ZnJvbUFycmF5KGUsdD0wKXtyZXR1cm4gdGhpcy5feD1lW3RdLHRoaXMuX3k9ZVt0KzFdLHRoaXMuX3o9ZVt0KzJdLHRoaXMuX3c9ZVt0KzNdLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfXRvQXJyYXkoZT1bXSx0PTApe3JldHVybiBlW3RdPXRoaXMuX3gsZVt0KzFdPXRoaXMuX3ksZVt0KzJdPXRoaXMuX3osZVt0KzNdPXRoaXMuX3csZX1mcm9tQnVmZmVyQXR0cmlidXRlKGUsdCl7cmV0dXJuIHRoaXMuX3g9ZS5nZXRYKHQpLHRoaXMuX3k9ZS5nZXRZKHQpLHRoaXMuX3o9ZS5nZXRaKHQpLHRoaXMuX3c9ZS5nZXRXKHQpLHRoaXN9X29uQ2hhbmdlKGUpe3JldHVybiB0aGlzLl9vbkNoYW5nZUNhbGxiYWNrPWUsdGhpc31fb25DaGFuZ2VDYWxsYmFjaygpe319VHQucHJvdG90eXBlLmlzUXVhdGVybmlvbj0hMDtjbGFzcyBFe2NvbnN0cnVjdG9yKGU9MCx0PTAscj0wKXt0aGlzLng9ZSx0aGlzLnk9dCx0aGlzLno9cn1zZXQoZSx0LHIpe3JldHVybiByPT09dm9pZCAwJiYocj10aGlzLnopLHRoaXMueD1lLHRoaXMueT10LHRoaXMuej1yLHRoaXN9c2V0U2NhbGFyKGUpe3JldHVybiB0aGlzLng9ZSx0aGlzLnk9ZSx0aGlzLno9ZSx0aGlzfXNldFgoZSl7cmV0dXJuIHRoaXMueD1lLHRoaXN9c2V0WShlKXtyZXR1cm4gdGhpcy55PWUsdGhpc31zZXRaKGUpe3JldHVybiB0aGlzLno9ZSx0aGlzfXNldENvbXBvbmVudChlLHQpe3N3aXRjaChlKXtjYXNlIDA6dGhpcy54PXQ7YnJlYWs7Y2FzZSAxOnRoaXMueT10O2JyZWFrO2Nhc2UgMjp0aGlzLno9dDticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiaW5kZXggaXMgb3V0IG9mIHJhbmdlOiAiK2UpfXJldHVybiB0aGlzfWdldENvbXBvbmVudChlKXtzd2l0Y2goZSl7Y2FzZSAwOnJldHVybiB0aGlzLng7Y2FzZSAxOnJldHVybiB0aGlzLnk7Y2FzZSAyOnJldHVybiB0aGlzLno7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoImluZGV4IGlzIG91dCBvZiByYW5nZTogIitlKX19Y2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54LHRoaXMueSx0aGlzLnopfWNvcHkoZSl7cmV0dXJuIHRoaXMueD1lLngsdGhpcy55PWUueSx0aGlzLno9ZS56LHRoaXN9YWRkKGUsdCl7cmV0dXJuIHQhPT12b2lkIDA/KGNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yMzogLmFkZCgpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLmFkZFZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLiIpLHRoaXMuYWRkVmVjdG9ycyhlLHQpKToodGhpcy54Kz1lLngsdGhpcy55Kz1lLnksdGhpcy56Kz1lLnosdGhpcyl9YWRkU2NhbGFyKGUpe3JldHVybiB0aGlzLngrPWUsdGhpcy55Kz1lLHRoaXMueis9ZSx0aGlzfWFkZFZlY3RvcnMoZSx0KXtyZXR1cm4gdGhpcy54PWUueCt0LngsdGhpcy55PWUueSt0LnksdGhpcy56PWUueit0LnosdGhpc31hZGRTY2FsZWRWZWN0b3IoZSx0KXtyZXR1cm4gdGhpcy54Kz1lLngqdCx0aGlzLnkrPWUueSp0LHRoaXMueis9ZS56KnQsdGhpc31zdWIoZSx0KXtyZXR1cm4gdCE9PXZvaWQgMD8oY29uc29sZS53YXJuKCJUSFJFRS5WZWN0b3IzOiAuc3ViKCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAuc3ViVmVjdG9ycyggYSwgYiApIGluc3RlYWQuIiksdGhpcy5zdWJWZWN0b3JzKGUsdCkpOih0aGlzLngtPWUueCx0aGlzLnktPWUueSx0aGlzLnotPWUueix0aGlzKX1zdWJTY2FsYXIoZSl7cmV0dXJuIHRoaXMueC09ZSx0aGlzLnktPWUsdGhpcy56LT1lLHRoaXN9c3ViVmVjdG9ycyhlLHQpe3JldHVybiB0aGlzLng9ZS54LXQueCx0aGlzLnk9ZS55LXQueSx0aGlzLno9ZS56LXQueix0aGlzfW11bHRpcGx5KGUsdCl7cmV0dXJuIHQhPT12b2lkIDA/KGNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yMzogLm11bHRpcGx5KCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAubXVsdGlwbHlWZWN0b3JzKCBhLCBiICkgaW5zdGVhZC4iKSx0aGlzLm11bHRpcGx5VmVjdG9ycyhlLHQpKToodGhpcy54Kj1lLngsdGhpcy55Kj1lLnksdGhpcy56Kj1lLnosdGhpcyl9bXVsdGlwbHlTY2FsYXIoZSl7cmV0dXJuIHRoaXMueCo9ZSx0aGlzLnkqPWUsdGhpcy56Kj1lLHRoaXN9bXVsdGlwbHlWZWN0b3JzKGUsdCl7cmV0dXJuIHRoaXMueD1lLngqdC54LHRoaXMueT1lLnkqdC55LHRoaXMuej1lLnoqdC56LHRoaXN9YXBwbHlFdWxlcihlKXtyZXR1cm4gZSYmZS5pc0V1bGVyfHxjb25zb2xlLmVycm9yKCJUSFJFRS5WZWN0b3IzOiAuYXBwbHlFdWxlcigpIG5vdyBleHBlY3RzIGFuIEV1bGVyIHJvdGF0aW9uIHJhdGhlciB0aGFuIGEgVmVjdG9yMyBhbmQgb3JkZXIuIiksdGhpcy5hcHBseVF1YXRlcm5pb24oeWwuc2V0RnJvbUV1bGVyKGUpKX1hcHBseUF4aXNBbmdsZShlLHQpe3JldHVybiB0aGlzLmFwcGx5UXVhdGVybmlvbih5bC5zZXRGcm9tQXhpc0FuZ2xlKGUsdCkpfWFwcGx5TWF0cml4MyhlKXtjb25zdCB0PXRoaXMueCxyPXRoaXMueSxzPXRoaXMueixhPWUuZWxlbWVudHM7cmV0dXJuIHRoaXMueD1hWzBdKnQrYVszXSpyK2FbNl0qcyx0aGlzLnk9YVsxXSp0K2FbNF0qcithWzddKnMsdGhpcy56PWFbMl0qdCthWzVdKnIrYVs4XSpzLHRoaXN9YXBwbHlOb3JtYWxNYXRyaXgoZSl7cmV0dXJuIHRoaXMuYXBwbHlNYXRyaXgzKGUpLm5vcm1hbGl6ZSgpfWFwcGx5TWF0cml4NChlKXtjb25zdCB0PXRoaXMueCxyPXRoaXMueSxzPXRoaXMueixhPWUuZWxlbWVudHMsbj0xLyhhWzNdKnQrYVs3XSpyK2FbMTFdKnMrYVsxNV0pO3JldHVybiB0aGlzLng9KGFbMF0qdCthWzRdKnIrYVs4XSpzK2FbMTJdKSpuLHRoaXMueT0oYVsxXSp0K2FbNV0qcithWzldKnMrYVsxM10pKm4sdGhpcy56PShhWzJdKnQrYVs2XSpyK2FbMTBdKnMrYVsxNF0pKm4sdGhpc31hcHBseVF1YXRlcm5pb24oZSl7Y29uc3QgdD10aGlzLngscj10aGlzLnkscz10aGlzLnosYT1lLngsbj1lLnksbz1lLnosaD1lLncsbD1oKnQrbipzLW8qcixjPWgqcitvKnQtYSpzLHU9aCpzK2Eqci1uKnQsZD0tYSp0LW4qci1vKnM7cmV0dXJuIHRoaXMueD1sKmgrZCotYStjKi1vLXUqLW4sdGhpcy55PWMqaCtkKi1uK3UqLWEtbCotbyx0aGlzLno9dSpoK2QqLW8rbCotbi1jKi1hLHRoaXN9cHJvamVjdChlKXtyZXR1cm4gdGhpcy5hcHBseU1hdHJpeDQoZS5tYXRyaXhXb3JsZEludmVyc2UpLmFwcGx5TWF0cml4NChlLnByb2plY3Rpb25NYXRyaXgpfXVucHJvamVjdChlKXtyZXR1cm4gdGhpcy5hcHBseU1hdHJpeDQoZS5wcm9qZWN0aW9uTWF0cml4SW52ZXJzZSkuYXBwbHlNYXRyaXg0KGUubWF0cml4V29ybGQpfXRyYW5zZm9ybURpcmVjdGlvbihlKXtjb25zdCB0PXRoaXMueCxyPXRoaXMueSxzPXRoaXMueixhPWUuZWxlbWVudHM7cmV0dXJuIHRoaXMueD1hWzBdKnQrYVs0XSpyK2FbOF0qcyx0aGlzLnk9YVsxXSp0K2FbNV0qcithWzldKnMsdGhpcy56PWFbMl0qdCthWzZdKnIrYVsxMF0qcyx0aGlzLm5vcm1hbGl6ZSgpfWRpdmlkZShlKXtyZXR1cm4gdGhpcy54Lz1lLngsdGhpcy55Lz1lLnksdGhpcy56Lz1lLnosdGhpc31kaXZpZGVTY2FsYXIoZSl7cmV0dXJuIHRoaXMubXVsdGlwbHlTY2FsYXIoMS9lKX1taW4oZSl7cmV0dXJuIHRoaXMueD1NYXRoLm1pbih0aGlzLngsZS54KSx0aGlzLnk9TWF0aC5taW4odGhpcy55LGUueSksdGhpcy56PU1hdGgubWluKHRoaXMueixlLnopLHRoaXN9bWF4KGUpe3JldHVybiB0aGlzLng9TWF0aC5tYXgodGhpcy54LGUueCksdGhpcy55PU1hdGgubWF4KHRoaXMueSxlLnkpLHRoaXMuej1NYXRoLm1heCh0aGlzLnosZS56KSx0aGlzfWNsYW1wKGUsdCl7cmV0dXJuIHRoaXMueD1NYXRoLm1heChlLngsTWF0aC5taW4odC54LHRoaXMueCkpLHRoaXMueT1NYXRoLm1heChlLnksTWF0aC5taW4odC55LHRoaXMueSkpLHRoaXMuej1NYXRoLm1heChlLnosTWF0aC5taW4odC56LHRoaXMueikpLHRoaXN9Y2xhbXBTY2FsYXIoZSx0KXtyZXR1cm4gdGhpcy54PU1hdGgubWF4KGUsTWF0aC5taW4odCx0aGlzLngpKSx0aGlzLnk9TWF0aC5tYXgoZSxNYXRoLm1pbih0LHRoaXMueSkpLHRoaXMuej1NYXRoLm1heChlLE1hdGgubWluKHQsdGhpcy56KSksdGhpc31jbGFtcExlbmd0aChlLHQpe2NvbnN0IHI9dGhpcy5sZW5ndGgoKTtyZXR1cm4gdGhpcy5kaXZpZGVTY2FsYXIocnx8MSkubXVsdGlwbHlTY2FsYXIoTWF0aC5tYXgoZSxNYXRoLm1pbih0LHIpKSl9Zmxvb3IoKXtyZXR1cm4gdGhpcy54PU1hdGguZmxvb3IodGhpcy54KSx0aGlzLnk9TWF0aC5mbG9vcih0aGlzLnkpLHRoaXMuej1NYXRoLmZsb29yKHRoaXMueiksdGhpc31jZWlsKCl7cmV0dXJuIHRoaXMueD1NYXRoLmNlaWwodGhpcy54KSx0aGlzLnk9TWF0aC5jZWlsKHRoaXMueSksdGhpcy56PU1hdGguY2VpbCh0aGlzLnopLHRoaXN9cm91bmQoKXtyZXR1cm4gdGhpcy54PU1hdGgucm91bmQodGhpcy54KSx0aGlzLnk9TWF0aC5yb3VuZCh0aGlzLnkpLHRoaXMuej1NYXRoLnJvdW5kKHRoaXMueiksdGhpc31yb3VuZFRvWmVybygpe3JldHVybiB0aGlzLng9dGhpcy54PDA/TWF0aC5jZWlsKHRoaXMueCk6TWF0aC5mbG9vcih0aGlzLngpLHRoaXMueT10aGlzLnk8MD9NYXRoLmNlaWwodGhpcy55KTpNYXRoLmZsb29yKHRoaXMueSksdGhpcy56PXRoaXMuejwwP01hdGguY2VpbCh0aGlzLnopOk1hdGguZmxvb3IodGhpcy56KSx0aGlzfW5lZ2F0ZSgpe3JldHVybiB0aGlzLng9LXRoaXMueCx0aGlzLnk9LXRoaXMueSx0aGlzLno9LXRoaXMueix0aGlzfWRvdChlKXtyZXR1cm4gdGhpcy54KmUueCt0aGlzLnkqZS55K3RoaXMueiplLnp9bGVuZ3RoU3EoKXtyZXR1cm4gdGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55K3RoaXMueip0aGlzLnp9bGVuZ3RoKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkrdGhpcy56KnRoaXMueil9bWFuaGF0dGFuTGVuZ3RoKCl7cmV0dXJuIE1hdGguYWJzKHRoaXMueCkrTWF0aC5hYnModGhpcy55KStNYXRoLmFicyh0aGlzLnopfW5vcm1hbGl6ZSgpe3JldHVybiB0aGlzLmRpdmlkZVNjYWxhcih0aGlzLmxlbmd0aCgpfHwxKX1zZXRMZW5ndGgoZSl7cmV0dXJuIHRoaXMubm9ybWFsaXplKCkubXVsdGlwbHlTY2FsYXIoZSl9bGVycChlLHQpe3JldHVybiB0aGlzLngrPShlLngtdGhpcy54KSp0LHRoaXMueSs9KGUueS10aGlzLnkpKnQsdGhpcy56Kz0oZS56LXRoaXMueikqdCx0aGlzfWxlcnBWZWN0b3JzKGUsdCxyKXtyZXR1cm4gdGhpcy54PWUueCsodC54LWUueCkqcix0aGlzLnk9ZS55Kyh0LnktZS55KSpyLHRoaXMuej1lLnorKHQuei1lLnopKnIsdGhpc31jcm9zcyhlLHQpe3JldHVybiB0IT09dm9pZCAwPyhjb25zb2xlLndhcm4oIlRIUkVFLlZlY3RvcjM6IC5jcm9zcygpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLmNyb3NzVmVjdG9ycyggYSwgYiApIGluc3RlYWQuIiksdGhpcy5jcm9zc1ZlY3RvcnMoZSx0KSk6dGhpcy5jcm9zc1ZlY3RvcnModGhpcyxlKX1jcm9zc1ZlY3RvcnMoZSx0KXtjb25zdCByPWUueCxzPWUueSxhPWUueixuPXQueCxvPXQueSxoPXQuejtyZXR1cm4gdGhpcy54PXMqaC1hKm8sdGhpcy55PWEqbi1yKmgsdGhpcy56PXIqby1zKm4sdGhpc31wcm9qZWN0T25WZWN0b3IoZSl7Y29uc3QgdD1lLmxlbmd0aFNxKCk7aWYodD09PTApcmV0dXJuIHRoaXMuc2V0KDAsMCwwKTtjb25zdCByPWUuZG90KHRoaXMpL3Q7cmV0dXJuIHRoaXMuY29weShlKS5tdWx0aXBseVNjYWxhcihyKX1wcm9qZWN0T25QbGFuZShlKXtyZXR1cm4gR24uY29weSh0aGlzKS5wcm9qZWN0T25WZWN0b3IoZSksdGhpcy5zdWIoR24pfXJlZmxlY3QoZSl7cmV0dXJuIHRoaXMuc3ViKEduLmNvcHkoZSkubXVsdGlwbHlTY2FsYXIoMip0aGlzLmRvdChlKSkpfWFuZ2xlVG8oZSl7Y29uc3QgdD1NYXRoLnNxcnQodGhpcy5sZW5ndGhTcSgpKmUubGVuZ3RoU3EoKSk7aWYodD09PTApcmV0dXJuIE1hdGguUEkvMjtjb25zdCByPXRoaXMuZG90KGUpL3Q7cmV0dXJuIE1hdGguYWNvcyh5dChyLC0xLDEpKX1kaXN0YW5jZVRvKGUpe3JldHVybiBNYXRoLnNxcnQodGhpcy5kaXN0YW5jZVRvU3F1YXJlZChlKSl9ZGlzdGFuY2VUb1NxdWFyZWQoZSl7Y29uc3QgdD10aGlzLngtZS54LHI9dGhpcy55LWUueSxzPXRoaXMuei1lLno7cmV0dXJuIHQqdCtyKnIrcypzfW1hbmhhdHRhbkRpc3RhbmNlVG8oZSl7cmV0dXJuIE1hdGguYWJzKHRoaXMueC1lLngpK01hdGguYWJzKHRoaXMueS1lLnkpK01hdGguYWJzKHRoaXMuei1lLnopfXNldEZyb21TcGhlcmljYWwoZSl7cmV0dXJuIHRoaXMuc2V0RnJvbVNwaGVyaWNhbENvb3JkcyhlLnJhZGl1cyxlLnBoaSxlLnRoZXRhKX1zZXRGcm9tU3BoZXJpY2FsQ29vcmRzKGUsdCxyKXtjb25zdCBzPU1hdGguc2luKHQpKmU7cmV0dXJuIHRoaXMueD1zKk1hdGguc2luKHIpLHRoaXMueT1NYXRoLmNvcyh0KSplLHRoaXMuej1zKk1hdGguY29zKHIpLHRoaXN9c2V0RnJvbUN5bGluZHJpY2FsKGUpe3JldHVybiB0aGlzLnNldEZyb21DeWxpbmRyaWNhbENvb3JkcyhlLnJhZGl1cyxlLnRoZXRhLGUueSl9c2V0RnJvbUN5bGluZHJpY2FsQ29vcmRzKGUsdCxyKXtyZXR1cm4gdGhpcy54PWUqTWF0aC5zaW4odCksdGhpcy55PXIsdGhpcy56PWUqTWF0aC5jb3ModCksdGhpc31zZXRGcm9tTWF0cml4UG9zaXRpb24oZSl7Y29uc3QgdD1lLmVsZW1lbnRzO3JldHVybiB0aGlzLng9dFsxMl0sdGhpcy55PXRbMTNdLHRoaXMuej10WzE0XSx0aGlzfXNldEZyb21NYXRyaXhTY2FsZShlKXtjb25zdCB0PXRoaXMuc2V0RnJvbU1hdHJpeENvbHVtbihlLDApLmxlbmd0aCgpLHI9dGhpcy5zZXRGcm9tTWF0cml4Q29sdW1uKGUsMSkubGVuZ3RoKCkscz10aGlzLnNldEZyb21NYXRyaXhDb2x1bW4oZSwyKS5sZW5ndGgoKTtyZXR1cm4gdGhpcy54PXQsdGhpcy55PXIsdGhpcy56PXMsdGhpc31zZXRGcm9tTWF0cml4Q29sdW1uKGUsdCl7cmV0dXJuIHRoaXMuZnJvbUFycmF5KGUuZWxlbWVudHMsdCo0KX1zZXRGcm9tTWF0cml4M0NvbHVtbihlLHQpe3JldHVybiB0aGlzLmZyb21BcnJheShlLmVsZW1lbnRzLHQqMyl9c2V0RnJvbUV1bGVyKGUpe3JldHVybiB0aGlzLng9ZS5feCx0aGlzLnk9ZS5feSx0aGlzLno9ZS5feix0aGlzfWVxdWFscyhlKXtyZXR1cm4gZS54PT09dGhpcy54JiZlLnk9PT10aGlzLnkmJmUuej09PXRoaXMuen1mcm9tQXJyYXkoZSx0PTApe3JldHVybiB0aGlzLng9ZVt0XSx0aGlzLnk9ZVt0KzFdLHRoaXMuej1lW3QrMl0sdGhpc310b0FycmF5KGU9W10sdD0wKXtyZXR1cm4gZVt0XT10aGlzLngsZVt0KzFdPXRoaXMueSxlW3QrMl09dGhpcy56LGV9ZnJvbUJ1ZmZlckF0dHJpYnV0ZShlLHQscil7cmV0dXJuIHIhPT12b2lkIDAmJmNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yMzogb2Zmc2V0IGhhcyBiZWVuIHJlbW92ZWQgZnJvbSAuZnJvbUJ1ZmZlckF0dHJpYnV0ZSgpLiIpLHRoaXMueD1lLmdldFgodCksdGhpcy55PWUuZ2V0WSh0KSx0aGlzLno9ZS5nZXRaKHQpLHRoaXN9cmFuZG9tKCl7cmV0dXJuIHRoaXMueD1NYXRoLnJhbmRvbSgpLHRoaXMueT1NYXRoLnJhbmRvbSgpLHRoaXMuej1NYXRoLnJhbmRvbSgpLHRoaXN9cmFuZG9tRGlyZWN0aW9uKCl7Y29uc3QgZT0oTWF0aC5yYW5kb20oKS0uNSkqMix0PU1hdGgucmFuZG9tKCkqTWF0aC5QSSoyLHI9TWF0aC5zcXJ0KDEtZnUoZSwyKSk7cmV0dXJuIHRoaXMueD1yKk1hdGguY29zKHQpLHRoaXMueT1yKk1hdGguc2luKHQpLHRoaXMuej1lLHRoaXN9KltTeW1ib2wuaXRlcmF0b3JdKCl7eWllbGQgdGhpcy54LHlpZWxkIHRoaXMueSx5aWVsZCB0aGlzLnp9fUUucHJvdG90eXBlLmlzVmVjdG9yMz0hMDtjb25zdCBHbj1uZXcgRSx5bD1uZXcgVHQ7Y2xhc3MgWnR7Y29uc3RydWN0b3IoZT1uZXcgRSgxLzAsMS8wLDEvMCksdD1uZXcgRSgtMS8wLC0xLzAsLTEvMCkpe3RoaXMubWluPWUsdGhpcy5tYXg9dH1zZXQoZSx0KXtyZXR1cm4gdGhpcy5taW4uY29weShlKSx0aGlzLm1heC5jb3B5KHQpLHRoaXN9c2V0RnJvbUFycmF5KGUpe2xldCB0PTEvMCxyPTEvMCxzPTEvMCxhPS0xLzAsbj0tMS8wLG89LTEvMDtmb3IobGV0IGg9MCxsPWUubGVuZ3RoO2g8bDtoKz0zKXtjb25zdCBjPWVbaF0sdT1lW2grMV0sZD1lW2grMl07Yzx0JiYodD1jKSx1PHImJihyPXUpLGQ8cyYmKHM9ZCksYz5hJiYoYT1jKSx1Pm4mJihuPXUpLGQ+byYmKG89ZCl9cmV0dXJuIHRoaXMubWluLnNldCh0LHIscyksdGhpcy5tYXguc2V0KGEsbixvKSx0aGlzfXNldEZyb21CdWZmZXJBdHRyaWJ1dGUoZSl7bGV0IHQ9MS8wLHI9MS8wLHM9MS8wLGE9LTEvMCxuPS0xLzAsbz0tMS8wO2ZvcihsZXQgaD0wLGw9ZS5jb3VudDtoPGw7aCsrKXtjb25zdCBjPWUuZ2V0WChoKSx1PWUuZ2V0WShoKSxkPWUuZ2V0WihoKTtjPHQmJih0PWMpLHU8ciYmKHI9dSksZDxzJiYocz1kKSxjPmEmJihhPWMpLHU+biYmKG49dSksZD5vJiYobz1kKX1yZXR1cm4gdGhpcy5taW4uc2V0KHQscixzKSx0aGlzLm1heC5zZXQoYSxuLG8pLHRoaXN9c2V0RnJvbVBvaW50cyhlKXt0aGlzLm1ha2VFbXB0eSgpO2ZvcihsZXQgdD0wLHI9ZS5sZW5ndGg7dDxyO3QrKyl0aGlzLmV4cGFuZEJ5UG9pbnQoZVt0XSk7cmV0dXJuIHRoaXN9c2V0RnJvbUNlbnRlckFuZFNpemUoZSx0KXtjb25zdCByPXRyLmNvcHkodCkubXVsdGlwbHlTY2FsYXIoLjUpO3JldHVybiB0aGlzLm1pbi5jb3B5KGUpLnN1YihyKSx0aGlzLm1heC5jb3B5KGUpLmFkZChyKSx0aGlzfXNldEZyb21PYmplY3QoZSx0PSExKXtyZXR1cm4gdGhpcy5tYWtlRW1wdHkoKSx0aGlzLmV4cGFuZEJ5T2JqZWN0KGUsdCl9Y2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoKS5jb3B5KHRoaXMpfWNvcHkoZSl7cmV0dXJuIHRoaXMubWluLmNvcHkoZS5taW4pLHRoaXMubWF4LmNvcHkoZS5tYXgpLHRoaXN9bWFrZUVtcHR5KCl7cmV0dXJuIHRoaXMubWluLng9dGhpcy5taW4ueT10aGlzLm1pbi56PTEvMCx0aGlzLm1heC54PXRoaXMubWF4Lnk9dGhpcy5tYXguej0tMS8wLHRoaXN9aXNFbXB0eSgpe3JldHVybiB0aGlzLm1heC54PHRoaXMubWluLnh8fHRoaXMubWF4Lnk8dGhpcy5taW4ueXx8dGhpcy5tYXguejx0aGlzLm1pbi56fWdldENlbnRlcihlKXtyZXR1cm4gdGhpcy5pc0VtcHR5KCk/ZS5zZXQoMCwwLDApOmUuYWRkVmVjdG9ycyh0aGlzLm1pbix0aGlzLm1heCkubXVsdGlwbHlTY2FsYXIoLjUpfWdldFNpemUoZSl7cmV0dXJuIHRoaXMuaXNFbXB0eSgpP2Uuc2V0KDAsMCwwKTplLnN1YlZlY3RvcnModGhpcy5tYXgsdGhpcy5taW4pfWV4cGFuZEJ5UG9pbnQoZSl7cmV0dXJuIHRoaXMubWluLm1pbihlKSx0aGlzLm1heC5tYXgoZSksdGhpc31leHBhbmRCeVZlY3RvcihlKXtyZXR1cm4gdGhpcy5taW4uc3ViKGUpLHRoaXMubWF4LmFkZChlKSx0aGlzfWV4cGFuZEJ5U2NhbGFyKGUpe3JldHVybiB0aGlzLm1pbi5hZGRTY2FsYXIoLWUpLHRoaXMubWF4LmFkZFNjYWxhcihlKSx0aGlzfWV4cGFuZEJ5T2JqZWN0KGUsdD0hMSl7ZS51cGRhdGVXb3JsZE1hdHJpeCghMSwhMSk7Y29uc3Qgcj1lLmdlb21ldHJ5O2lmKHIhPT12b2lkIDApaWYodCYmci5hdHRyaWJ1dGVzIT1udWxsJiZyLmF0dHJpYnV0ZXMucG9zaXRpb24hPT12b2lkIDApe2NvbnN0IGE9ci5hdHRyaWJ1dGVzLnBvc2l0aW9uO2ZvcihsZXQgbj0wLG89YS5jb3VudDtuPG87bisrKXRyLmZyb21CdWZmZXJBdHRyaWJ1dGUoYSxuKS5hcHBseU1hdHJpeDQoZS5tYXRyaXhXb3JsZCksdGhpcy5leHBhbmRCeVBvaW50KHRyKX1lbHNlIHIuYm91bmRpbmdCb3g9PT1udWxsJiZyLmNvbXB1dGVCb3VuZGluZ0JveCgpLFZuLmNvcHkoci5ib3VuZGluZ0JveCksVm4uYXBwbHlNYXRyaXg0KGUubWF0cml4V29ybGQpLHRoaXMudW5pb24oVm4pO2NvbnN0IHM9ZS5jaGlsZHJlbjtmb3IobGV0IGE9MCxuPXMubGVuZ3RoO2E8bjthKyspdGhpcy5leHBhbmRCeU9iamVjdChzW2FdLHQpO3JldHVybiB0aGlzfWNvbnRhaW5zUG9pbnQoZSl7cmV0dXJuIShlLng8dGhpcy5taW4ueHx8ZS54PnRoaXMubWF4Lnh8fGUueTx0aGlzLm1pbi55fHxlLnk+dGhpcy5tYXgueXx8ZS56PHRoaXMubWluLnp8fGUuej50aGlzLm1heC56KX1jb250YWluc0JveChlKXtyZXR1cm4gdGhpcy5taW4ueDw9ZS5taW4ueCYmZS5tYXgueDw9dGhpcy5tYXgueCYmdGhpcy5taW4ueTw9ZS5taW4ueSYmZS5tYXgueTw9dGhpcy5tYXgueSYmdGhpcy5taW4uejw9ZS5taW4ueiYmZS5tYXguejw9dGhpcy5tYXguen1nZXRQYXJhbWV0ZXIoZSx0KXtyZXR1cm4gdC5zZXQoKGUueC10aGlzLm1pbi54KS8odGhpcy5tYXgueC10aGlzLm1pbi54KSwoZS55LXRoaXMubWluLnkpLyh0aGlzLm1heC55LXRoaXMubWluLnkpLChlLnotdGhpcy5taW4ueikvKHRoaXMubWF4LnotdGhpcy5taW4ueikpfWludGVyc2VjdHNCb3goZSl7cmV0dXJuIShlLm1heC54PHRoaXMubWluLnh8fGUubWluLng+dGhpcy5tYXgueHx8ZS5tYXgueTx0aGlzLm1pbi55fHxlLm1pbi55PnRoaXMubWF4Lnl8fGUubWF4Lno8dGhpcy5taW4uenx8ZS5taW4uej50aGlzLm1heC56KX1pbnRlcnNlY3RzU3BoZXJlKGUpe3JldHVybiB0aGlzLmNsYW1wUG9pbnQoZS5jZW50ZXIsdHIpLHRyLmRpc3RhbmNlVG9TcXVhcmVkKGUuY2VudGVyKTw9ZS5yYWRpdXMqZS5yYWRpdXN9aW50ZXJzZWN0c1BsYW5lKGUpe2xldCB0LHI7cmV0dXJuIGUubm9ybWFsLng+MD8odD1lLm5vcm1hbC54KnRoaXMubWluLngscj1lLm5vcm1hbC54KnRoaXMubWF4LngpOih0PWUubm9ybWFsLngqdGhpcy5tYXgueCxyPWUubm9ybWFsLngqdGhpcy5taW4ueCksZS5ub3JtYWwueT4wPyh0Kz1lLm5vcm1hbC55KnRoaXMubWluLnkscis9ZS5ub3JtYWwueSp0aGlzLm1heC55KToodCs9ZS5ub3JtYWwueSp0aGlzLm1heC55LHIrPWUubm9ybWFsLnkqdGhpcy5taW4ueSksZS5ub3JtYWwuej4wPyh0Kz1lLm5vcm1hbC56KnRoaXMubWluLnoscis9ZS5ub3JtYWwueip0aGlzLm1heC56KToodCs9ZS5ub3JtYWwueip0aGlzLm1heC56LHIrPWUubm9ybWFsLnoqdGhpcy5taW4ueiksdDw9LWUuY29uc3RhbnQmJnI+PS1lLmNvbnN0YW50fWludGVyc2VjdHNUcmlhbmdsZShlKXtpZih0aGlzLmlzRW1wdHkoKSlyZXR1cm4hMTt0aGlzLmdldENlbnRlcihBcyksTWEuc3ViVmVjdG9ycyh0aGlzLm1heCxBcyksUHIuc3ViVmVjdG9ycyhlLmEsQXMpLElyLnN1YlZlY3RvcnMoZS5iLEFzKSxOci5zdWJWZWN0b3JzKGUuYyxBcyksTmkuc3ViVmVjdG9ycyhJcixQciksRGkuc3ViVmVjdG9ycyhOcixJciksaXIuc3ViVmVjdG9ycyhQcixOcik7bGV0IHQ9WzAsLU5pLnosTmkueSwwLC1EaS56LERpLnksMCwtaXIueixpci55LE5pLnosMCwtTmkueCxEaS56LDAsLURpLngsaXIueiwwLC1pci54LC1OaS55LE5pLngsMCwtRGkueSxEaS54LDAsLWlyLnksaXIueCwwXTtyZXR1cm4hV24odCxQcixJcixOcixNYSl8fCh0PVsxLDAsMCwwLDEsMCwwLDAsMV0sIVduKHQsUHIsSXIsTnIsTWEpKT8hMTooYmEuY3Jvc3NWZWN0b3JzKE5pLERpKSx0PVtiYS54LGJhLnksYmEuel0sV24odCxQcixJcixOcixNYSkpfWNsYW1wUG9pbnQoZSx0KXtyZXR1cm4gdC5jb3B5KGUpLmNsYW1wKHRoaXMubWluLHRoaXMubWF4KX1kaXN0YW5jZVRvUG9pbnQoZSl7cmV0dXJuIHRyLmNvcHkoZSkuY2xhbXAodGhpcy5taW4sdGhpcy5tYXgpLnN1YihlKS5sZW5ndGgoKX1nZXRCb3VuZGluZ1NwaGVyZShlKXtyZXR1cm4gdGhpcy5nZXRDZW50ZXIoZS5jZW50ZXIpLGUucmFkaXVzPXRoaXMuZ2V0U2l6ZSh0cikubGVuZ3RoKCkqLjUsZX1pbnRlcnNlY3QoZSl7cmV0dXJuIHRoaXMubWluLm1heChlLm1pbiksdGhpcy5tYXgubWluKGUubWF4KSx0aGlzLmlzRW1wdHkoKSYmdGhpcy5tYWtlRW1wdHkoKSx0aGlzfXVuaW9uKGUpe3JldHVybiB0aGlzLm1pbi5taW4oZS5taW4pLHRoaXMubWF4Lm1heChlLm1heCksdGhpc31hcHBseU1hdHJpeDQoZSl7cmV0dXJuIHRoaXMuaXNFbXB0eSgpP3RoaXM6KE1pWzBdLnNldCh0aGlzLm1pbi54LHRoaXMubWluLnksdGhpcy5taW4ueikuYXBwbHlNYXRyaXg0KGUpLE1pWzFdLnNldCh0aGlzLm1pbi54LHRoaXMubWluLnksdGhpcy5tYXgueikuYXBwbHlNYXRyaXg0KGUpLE1pWzJdLnNldCh0aGlzLm1pbi54LHRoaXMubWF4LnksdGhpcy5taW4ueikuYXBwbHlNYXRyaXg0KGUpLE1pWzNdLnNldCh0aGlzLm1pbi54LHRoaXMubWF4LnksdGhpcy5tYXgueikuYXBwbHlNYXRyaXg0KGUpLE1pWzRdLnNldCh0aGlzLm1heC54LHRoaXMubWluLnksdGhpcy5taW4ueikuYXBwbHlNYXRyaXg0KGUpLE1pWzVdLnNldCh0aGlzLm1heC54LHRoaXMubWluLnksdGhpcy5tYXgueikuYXBwbHlNYXRyaXg0KGUpLE1pWzZdLnNldCh0aGlzLm1heC54LHRoaXMubWF4LnksdGhpcy5taW4ueikuYXBwbHlNYXRyaXg0KGUpLE1pWzddLnNldCh0aGlzLm1heC54LHRoaXMubWF4LnksdGhpcy5tYXgueikuYXBwbHlNYXRyaXg0KGUpLHRoaXMuc2V0RnJvbVBvaW50cyhNaSksdGhpcyl9dHJhbnNsYXRlKGUpe3JldHVybiB0aGlzLm1pbi5hZGQoZSksdGhpcy5tYXguYWRkKGUpLHRoaXN9ZXF1YWxzKGUpe3JldHVybiBlLm1pbi5lcXVhbHModGhpcy5taW4pJiZlLm1heC5lcXVhbHModGhpcy5tYXgpfX1adC5wcm90b3R5cGUuaXNCb3gzPSEwO2NvbnN0IE1pPVtuZXcgRSxuZXcgRSxuZXcgRSxuZXcgRSxuZXcgRSxuZXcgRSxuZXcgRSxuZXcgRV0sdHI9bmV3IEUsVm49bmV3IFp0LFByPW5ldyBFLElyPW5ldyBFLE5yPW5ldyBFLE5pPW5ldyBFLERpPW5ldyBFLGlyPW5ldyBFLEFzPW5ldyBFLE1hPW5ldyBFLGJhPW5ldyBFLHJyPW5ldyBFO2Z1bmN0aW9uIFduKGksZSx0LHIscyl7Zm9yKGxldCBhPTAsbj1pLmxlbmd0aC0zO2E8PW47YSs9Myl7cnIuZnJvbUFycmF5KGksYSk7Y29uc3Qgbz1zLngqTWF0aC5hYnMocnIueCkrcy55Kk1hdGguYWJzKHJyLnkpK3MueipNYXRoLmFicyhyci56KSxoPWUuZG90KHJyKSxsPXQuZG90KHJyKSxjPXIuZG90KHJyKTtpZihNYXRoLm1heCgtTWF0aC5tYXgoaCxsLGMpLE1hdGgubWluKGgsbCxjKSk+bylyZXR1cm4hMX1yZXR1cm4hMH1jb25zdCAkZz1uZXcgWnQsTWw9bmV3IEUsd2E9bmV3IEUsam49bmV3IEU7Y2xhc3MgRHJ7Y29uc3RydWN0b3IoZT1uZXcgRSx0PS0xKXt0aGlzLmNlbnRlcj1lLHRoaXMucmFkaXVzPXR9c2V0KGUsdCl7cmV0dXJuIHRoaXMuY2VudGVyLmNvcHkoZSksdGhpcy5yYWRpdXM9dCx0aGlzfXNldEZyb21Qb2ludHMoZSx0KXtjb25zdCByPXRoaXMuY2VudGVyO3QhPT12b2lkIDA/ci5jb3B5KHQpOiRnLnNldEZyb21Qb2ludHMoZSkuZ2V0Q2VudGVyKHIpO2xldCBzPTA7Zm9yKGxldCBhPTAsbj1lLmxlbmd0aDthPG47YSsrKXM9TWF0aC5tYXgocyxyLmRpc3RhbmNlVG9TcXVhcmVkKGVbYV0pKTtyZXR1cm4gdGhpcy5yYWRpdXM9TWF0aC5zcXJ0KHMpLHRoaXN9Y29weShlKXtyZXR1cm4gdGhpcy5jZW50ZXIuY29weShlLmNlbnRlciksdGhpcy5yYWRpdXM9ZS5yYWRpdXMsdGhpc31pc0VtcHR5KCl7cmV0dXJuIHRoaXMucmFkaXVzPDB9bWFrZUVtcHR5KCl7cmV0dXJuIHRoaXMuY2VudGVyLnNldCgwLDAsMCksdGhpcy5yYWRpdXM9LTEsdGhpc31jb250YWluc1BvaW50KGUpe3JldHVybiBlLmRpc3RhbmNlVG9TcXVhcmVkKHRoaXMuY2VudGVyKTw9dGhpcy5yYWRpdXMqdGhpcy5yYWRpdXN9ZGlzdGFuY2VUb1BvaW50KGUpe3JldHVybiBlLmRpc3RhbmNlVG8odGhpcy5jZW50ZXIpLXRoaXMucmFkaXVzfWludGVyc2VjdHNTcGhlcmUoZSl7Y29uc3QgdD10aGlzLnJhZGl1cytlLnJhZGl1cztyZXR1cm4gZS5jZW50ZXIuZGlzdGFuY2VUb1NxdWFyZWQodGhpcy5jZW50ZXIpPD10KnR9aW50ZXJzZWN0c0JveChlKXtyZXR1cm4gZS5pbnRlcnNlY3RzU3BoZXJlKHRoaXMpfWludGVyc2VjdHNQbGFuZShlKXtyZXR1cm4gTWF0aC5hYnMoZS5kaXN0YW5jZVRvUG9pbnQodGhpcy5jZW50ZXIpKTw9dGhpcy5yYWRpdXN9Y2xhbXBQb2ludChlLHQpe2NvbnN0IHI9dGhpcy5jZW50ZXIuZGlzdGFuY2VUb1NxdWFyZWQoZSk7cmV0dXJuIHQuY29weShlKSxyPnRoaXMucmFkaXVzKnRoaXMucmFkaXVzJiYodC5zdWIodGhpcy5jZW50ZXIpLm5vcm1hbGl6ZSgpLHQubXVsdGlwbHlTY2FsYXIodGhpcy5yYWRpdXMpLmFkZCh0aGlzLmNlbnRlcikpLHR9Z2V0Qm91bmRpbmdCb3goZSl7cmV0dXJuIHRoaXMuaXNFbXB0eSgpPyhlLm1ha2VFbXB0eSgpLGUpOihlLnNldCh0aGlzLmNlbnRlcix0aGlzLmNlbnRlciksZS5leHBhbmRCeVNjYWxhcih0aGlzLnJhZGl1cyksZSl9YXBwbHlNYXRyaXg0KGUpe3JldHVybiB0aGlzLmNlbnRlci5hcHBseU1hdHJpeDQoZSksdGhpcy5yYWRpdXM9dGhpcy5yYWRpdXMqZS5nZXRNYXhTY2FsZU9uQXhpcygpLHRoaXN9dHJhbnNsYXRlKGUpe3JldHVybiB0aGlzLmNlbnRlci5hZGQoZSksdGhpc31leHBhbmRCeVBvaW50KGUpe2puLnN1YlZlY3RvcnMoZSx0aGlzLmNlbnRlcik7Y29uc3QgdD1qbi5sZW5ndGhTcSgpO2lmKHQ+dGhpcy5yYWRpdXMqdGhpcy5yYWRpdXMpe2NvbnN0IHI9TWF0aC5zcXJ0KHQpLHM9KHItdGhpcy5yYWRpdXMpKi41O3RoaXMuY2VudGVyLmFkZChqbi5tdWx0aXBseVNjYWxhcihzL3IpKSx0aGlzLnJhZGl1cys9c31yZXR1cm4gdGhpc311bmlvbihlKXtyZXR1cm4gdGhpcy5jZW50ZXIuZXF1YWxzKGUuY2VudGVyKT09PSEwP3dhLnNldCgwLDAsMSkubXVsdGlwbHlTY2FsYXIoZS5yYWRpdXMpOndhLnN1YlZlY3RvcnMoZS5jZW50ZXIsdGhpcy5jZW50ZXIpLm5vcm1hbGl6ZSgpLm11bHRpcGx5U2NhbGFyKGUucmFkaXVzKSx0aGlzLmV4cGFuZEJ5UG9pbnQoTWwuY29weShlLmNlbnRlcikuYWRkKHdhKSksdGhpcy5leHBhbmRCeVBvaW50KE1sLmNvcHkoZS5jZW50ZXIpLnN1Yih3YSkpLHRoaXN9ZXF1YWxzKGUpe3JldHVybiBlLmNlbnRlci5lcXVhbHModGhpcy5jZW50ZXIpJiZlLnJhZGl1cz09PXRoaXMucmFkaXVzfWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSh0aGlzKX19Y29uc3QgYmk9bmV3IEUscW49bmV3IEUsU2E9bmV3IEUsT2k9bmV3IEUsWG49bmV3IEUsRWE9bmV3IEUsSm49bmV3IEU7Y2xhc3MgT3J7Y29uc3RydWN0b3IoZT1uZXcgRSx0PW5ldyBFKDAsMCwtMSkpe3RoaXMub3JpZ2luPWUsdGhpcy5kaXJlY3Rpb249dH1zZXQoZSx0KXtyZXR1cm4gdGhpcy5vcmlnaW4uY29weShlKSx0aGlzLmRpcmVjdGlvbi5jb3B5KHQpLHRoaXN9Y29weShlKXtyZXR1cm4gdGhpcy5vcmlnaW4uY29weShlLm9yaWdpbiksdGhpcy5kaXJlY3Rpb24uY29weShlLmRpcmVjdGlvbiksdGhpc31hdChlLHQpe3JldHVybiB0LmNvcHkodGhpcy5kaXJlY3Rpb24pLm11bHRpcGx5U2NhbGFyKGUpLmFkZCh0aGlzLm9yaWdpbil9bG9va0F0KGUpe3JldHVybiB0aGlzLmRpcmVjdGlvbi5jb3B5KGUpLnN1Yih0aGlzLm9yaWdpbikubm9ybWFsaXplKCksdGhpc31yZWNhc3QoZSl7cmV0dXJuIHRoaXMub3JpZ2luLmNvcHkodGhpcy5hdChlLGJpKSksdGhpc31jbG9zZXN0UG9pbnRUb1BvaW50KGUsdCl7dC5zdWJWZWN0b3JzKGUsdGhpcy5vcmlnaW4pO2NvbnN0IHI9dC5kb3QodGhpcy5kaXJlY3Rpb24pO3JldHVybiByPDA/dC5jb3B5KHRoaXMub3JpZ2luKTp0LmNvcHkodGhpcy5kaXJlY3Rpb24pLm11bHRpcGx5U2NhbGFyKHIpLmFkZCh0aGlzLm9yaWdpbil9ZGlzdGFuY2VUb1BvaW50KGUpe3JldHVybiBNYXRoLnNxcnQodGhpcy5kaXN0YW5jZVNxVG9Qb2ludChlKSl9ZGlzdGFuY2VTcVRvUG9pbnQoZSl7Y29uc3QgdD1iaS5zdWJWZWN0b3JzKGUsdGhpcy5vcmlnaW4pLmRvdCh0aGlzLmRpcmVjdGlvbik7cmV0dXJuIHQ8MD90aGlzLm9yaWdpbi5kaXN0YW5jZVRvU3F1YXJlZChlKTooYmkuY29weSh0aGlzLmRpcmVjdGlvbikubXVsdGlwbHlTY2FsYXIodCkuYWRkKHRoaXMub3JpZ2luKSxiaS5kaXN0YW5jZVRvU3F1YXJlZChlKSl9ZGlzdGFuY2VTcVRvU2VnbWVudChlLHQscixzKXtxbi5jb3B5KGUpLmFkZCh0KS5tdWx0aXBseVNjYWxhciguNSksU2EuY29weSh0KS5zdWIoZSkubm9ybWFsaXplKCksT2kuY29weSh0aGlzLm9yaWdpbikuc3ViKHFuKTtjb25zdCBhPWUuZGlzdGFuY2VUbyh0KSouNSxuPS10aGlzLmRpcmVjdGlvbi5kb3QoU2EpLG89T2kuZG90KHRoaXMuZGlyZWN0aW9uKSxoPS1PaS5kb3QoU2EpLGw9T2kubGVuZ3RoU3EoKSxjPU1hdGguYWJzKDEtbipuKTtsZXQgdSxkLHAsZztpZihjPjApaWYodT1uKmgtbyxkPW4qby1oLGc9YSpjLHU+PTApaWYoZD49LWcpaWYoZDw9Zyl7Y29uc3QgZj0xL2M7dSo9ZixkKj1mLHA9dSoodStuKmQrMipvKStkKihuKnUrZCsyKmgpK2x9ZWxzZSBkPWEsdT1NYXRoLm1heCgwLC0obipkK28pKSxwPS11KnUrZCooZCsyKmgpK2w7ZWxzZSBkPS1hLHU9TWF0aC5tYXgoMCwtKG4qZCtvKSkscD0tdSp1K2QqKGQrMipoKStsO2Vsc2UgZDw9LWc/KHU9TWF0aC5tYXgoMCwtKC1uKmErbykpLGQ9dT4wPy1hOk1hdGgubWluKE1hdGgubWF4KC1hLC1oKSxhKSxwPS11KnUrZCooZCsyKmgpK2wpOmQ8PWc/KHU9MCxkPU1hdGgubWluKE1hdGgubWF4KC1hLC1oKSxhKSxwPWQqKGQrMipoKStsKToodT1NYXRoLm1heCgwLC0obiphK28pKSxkPXU+MD9hOk1hdGgubWluKE1hdGgubWF4KC1hLC1oKSxhKSxwPS11KnUrZCooZCsyKmgpK2wpO2Vsc2UgZD1uPjA/LWE6YSx1PU1hdGgubWF4KDAsLShuKmQrbykpLHA9LXUqdStkKihkKzIqaCkrbDtyZXR1cm4gciYmci5jb3B5KHRoaXMuZGlyZWN0aW9uKS5tdWx0aXBseVNjYWxhcih1KS5hZGQodGhpcy5vcmlnaW4pLHMmJnMuY29weShTYSkubXVsdGlwbHlTY2FsYXIoZCkuYWRkKHFuKSxwfWludGVyc2VjdFNwaGVyZShlLHQpe2JpLnN1YlZlY3RvcnMoZS5jZW50ZXIsdGhpcy5vcmlnaW4pO2NvbnN0IHI9YmkuZG90KHRoaXMuZGlyZWN0aW9uKSxzPWJpLmRvdChiaSktcipyLGE9ZS5yYWRpdXMqZS5yYWRpdXM7aWYocz5hKXJldHVybiBudWxsO2NvbnN0IG49TWF0aC5zcXJ0KGEtcyksbz1yLW4saD1yK247cmV0dXJuIG88MCYmaDwwP251bGw6bzwwP3RoaXMuYXQoaCx0KTp0aGlzLmF0KG8sdCl9aW50ZXJzZWN0c1NwaGVyZShlKXtyZXR1cm4gdGhpcy5kaXN0YW5jZVNxVG9Qb2ludChlLmNlbnRlcik8PWUucmFkaXVzKmUucmFkaXVzfWRpc3RhbmNlVG9QbGFuZShlKXtjb25zdCB0PWUubm9ybWFsLmRvdCh0aGlzLmRpcmVjdGlvbik7aWYodD09PTApcmV0dXJuIGUuZGlzdGFuY2VUb1BvaW50KHRoaXMub3JpZ2luKT09PTA/MDpudWxsO2NvbnN0IHI9LSh0aGlzLm9yaWdpbi5kb3QoZS5ub3JtYWwpK2UuY29uc3RhbnQpL3Q7cmV0dXJuIHI+PTA/cjpudWxsfWludGVyc2VjdFBsYW5lKGUsdCl7Y29uc3Qgcj10aGlzLmRpc3RhbmNlVG9QbGFuZShlKTtyZXR1cm4gcj09PW51bGw/bnVsbDp0aGlzLmF0KHIsdCl9aW50ZXJzZWN0c1BsYW5lKGUpe2NvbnN0IHQ9ZS5kaXN0YW5jZVRvUG9pbnQodGhpcy5vcmlnaW4pO3JldHVybiB0PT09MHx8ZS5ub3JtYWwuZG90KHRoaXMuZGlyZWN0aW9uKSp0PDB9aW50ZXJzZWN0Qm94KGUsdCl7bGV0IHIscyxhLG4sbyxoO2NvbnN0IGw9MS90aGlzLmRpcmVjdGlvbi54LGM9MS90aGlzLmRpcmVjdGlvbi55LHU9MS90aGlzLmRpcmVjdGlvbi56LGQ9dGhpcy5vcmlnaW47cmV0dXJuIGw+PTA/KHI9KGUubWluLngtZC54KSpsLHM9KGUubWF4LngtZC54KSpsKToocj0oZS5tYXgueC1kLngpKmwscz0oZS5taW4ueC1kLngpKmwpLGM+PTA/KGE9KGUubWluLnktZC55KSpjLG49KGUubWF4LnktZC55KSpjKTooYT0oZS5tYXgueS1kLnkpKmMsbj0oZS5taW4ueS1kLnkpKmMpLHI+bnx8YT5zfHwoKGE+cnx8ciE9PXIpJiYocj1hKSwobjxzfHxzIT09cykmJihzPW4pLHU+PTA/KG89KGUubWluLnotZC56KSp1LGg9KGUubWF4LnotZC56KSp1KToobz0oZS5tYXguei1kLnopKnUsaD0oZS5taW4uei1kLnopKnUpLHI+aHx8bz5zKXx8KChvPnJ8fHIhPT1yKSYmKHI9byksKGg8c3x8cyE9PXMpJiYocz1oKSxzPDApP251bGw6dGhpcy5hdChyPj0wP3I6cyx0KX1pbnRlcnNlY3RzQm94KGUpe3JldHVybiB0aGlzLmludGVyc2VjdEJveChlLGJpKSE9PW51bGx9aW50ZXJzZWN0VHJpYW5nbGUoZSx0LHIscyxhKXtYbi5zdWJWZWN0b3JzKHQsZSksRWEuc3ViVmVjdG9ycyhyLGUpLEpuLmNyb3NzVmVjdG9ycyhYbixFYSk7bGV0IG49dGhpcy5kaXJlY3Rpb24uZG90KEpuKSxvO2lmKG4+MCl7aWYocylyZXR1cm4gbnVsbDtvPTF9ZWxzZSBpZihuPDApbz0tMSxuPS1uO2Vsc2UgcmV0dXJuIG51bGw7T2kuc3ViVmVjdG9ycyh0aGlzLm9yaWdpbixlKTtjb25zdCBoPW8qdGhpcy5kaXJlY3Rpb24uZG90KEVhLmNyb3NzVmVjdG9ycyhPaSxFYSkpO2lmKGg8MClyZXR1cm4gbnVsbDtjb25zdCBsPW8qdGhpcy5kaXJlY3Rpb24uZG90KFhuLmNyb3NzKE9pKSk7aWYobDwwfHxoK2w+bilyZXR1cm4gbnVsbDtjb25zdCBjPS1vKk9pLmRvdChKbik7cmV0dXJuIGM8MD9udWxsOnRoaXMuYXQoYy9uLGEpfWFwcGx5TWF0cml4NChlKXtyZXR1cm4gdGhpcy5vcmlnaW4uYXBwbHlNYXRyaXg0KGUpLHRoaXMuZGlyZWN0aW9uLnRyYW5zZm9ybURpcmVjdGlvbihlKSx0aGlzfWVxdWFscyhlKXtyZXR1cm4gZS5vcmlnaW4uZXF1YWxzKHRoaXMub3JpZ2luKSYmZS5kaXJlY3Rpb24uZXF1YWxzKHRoaXMuZGlyZWN0aW9uKX1jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyl9fWNsYXNzIF9le2NvbnN0cnVjdG9yKCl7dGhpcy5lbGVtZW50cz1bMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMV0sYXJndW1lbnRzLmxlbmd0aD4wJiZjb25zb2xlLmVycm9yKCJUSFJFRS5NYXRyaXg0OiB0aGUgY29uc3RydWN0b3Igbm8gbG9uZ2VyIHJlYWRzIGFyZ3VtZW50cy4gdXNlIC5zZXQoKSBpbnN0ZWFkLiIpfXNldChlLHQscixzLGEsbixvLGgsbCxjLHUsZCxwLGcsZixtKXtjb25zdCB2PXRoaXMuZWxlbWVudHM7cmV0dXJuIHZbMF09ZSx2WzRdPXQsdls4XT1yLHZbMTJdPXMsdlsxXT1hLHZbNV09bix2WzldPW8sdlsxM109aCx2WzJdPWwsdls2XT1jLHZbMTBdPXUsdlsxNF09ZCx2WzNdPXAsdls3XT1nLHZbMTFdPWYsdlsxNV09bSx0aGlzfWlkZW50aXR5KCl7cmV0dXJuIHRoaXMuc2V0KDEsMCwwLDAsMCwxLDAsMCwwLDAsMSwwLDAsMCwwLDEpLHRoaXN9Y2xvbmUoKXtyZXR1cm4gbmV3IF9lKCkuZnJvbUFycmF5KHRoaXMuZWxlbWVudHMpfWNvcHkoZSl7Y29uc3QgdD10aGlzLmVsZW1lbnRzLHI9ZS5lbGVtZW50cztyZXR1cm4gdFswXT1yWzBdLHRbMV09clsxXSx0WzJdPXJbMl0sdFszXT1yWzNdLHRbNF09cls0XSx0WzVdPXJbNV0sdFs2XT1yWzZdLHRbN109cls3XSx0WzhdPXJbOF0sdFs5XT1yWzldLHRbMTBdPXJbMTBdLHRbMTFdPXJbMTFdLHRbMTJdPXJbMTJdLHRbMTNdPXJbMTNdLHRbMTRdPXJbMTRdLHRbMTVdPXJbMTVdLHRoaXN9Y29weVBvc2l0aW9uKGUpe2NvbnN0IHQ9dGhpcy5lbGVtZW50cyxyPWUuZWxlbWVudHM7cmV0dXJuIHRbMTJdPXJbMTJdLHRbMTNdPXJbMTNdLHRbMTRdPXJbMTRdLHRoaXN9c2V0RnJvbU1hdHJpeDMoZSl7Y29uc3QgdD1lLmVsZW1lbnRzO3JldHVybiB0aGlzLnNldCh0WzBdLHRbM10sdFs2XSwwLHRbMV0sdFs0XSx0WzddLDAsdFsyXSx0WzVdLHRbOF0sMCwwLDAsMCwxKSx0aGlzfWV4dHJhY3RCYXNpcyhlLHQscil7cmV0dXJuIGUuc2V0RnJvbU1hdHJpeENvbHVtbih0aGlzLDApLHQuc2V0RnJvbU1hdHJpeENvbHVtbih0aGlzLDEpLHIuc2V0RnJvbU1hdHJpeENvbHVtbih0aGlzLDIpLHRoaXN9bWFrZUJhc2lzKGUsdCxyKXtyZXR1cm4gdGhpcy5zZXQoZS54LHQueCxyLngsMCxlLnksdC55LHIueSwwLGUueix0Lnosci56LDAsMCwwLDAsMSksdGhpc31leHRyYWN0Um90YXRpb24oZSl7Y29uc3QgdD10aGlzLmVsZW1lbnRzLHI9ZS5lbGVtZW50cyxzPTEvenIuc2V0RnJvbU1hdHJpeENvbHVtbihlLDApLmxlbmd0aCgpLGE9MS96ci5zZXRGcm9tTWF0cml4Q29sdW1uKGUsMSkubGVuZ3RoKCksbj0xL3pyLnNldEZyb21NYXRyaXhDb2x1bW4oZSwyKS5sZW5ndGgoKTtyZXR1cm4gdFswXT1yWzBdKnMsdFsxXT1yWzFdKnMsdFsyXT1yWzJdKnMsdFszXT0wLHRbNF09cls0XSphLHRbNV09cls1XSphLHRbNl09cls2XSphLHRbN109MCx0WzhdPXJbOF0qbix0WzldPXJbOV0qbix0WzEwXT1yWzEwXSpuLHRbMTFdPTAsdFsxMl09MCx0WzEzXT0wLHRbMTRdPTAsdFsxNV09MSx0aGlzfW1ha2VSb3RhdGlvbkZyb21FdWxlcihlKXtlJiZlLmlzRXVsZXJ8fGNvbnNvbGUuZXJyb3IoIlRIUkVFLk1hdHJpeDQ6IC5tYWtlUm90YXRpb25Gcm9tRXVsZXIoKSBub3cgZXhwZWN0cyBhIEV1bGVyIHJvdGF0aW9uIHJhdGhlciB0aGFuIGEgVmVjdG9yMyBhbmQgb3JkZXIuIik7Y29uc3QgdD10aGlzLmVsZW1lbnRzLHI9ZS54LHM9ZS55LGE9ZS56LG49TWF0aC5jb3Mociksbz1NYXRoLnNpbihyKSxoPU1hdGguY29zKHMpLGw9TWF0aC5zaW4ocyksYz1NYXRoLmNvcyhhKSx1PU1hdGguc2luKGEpO2lmKGUub3JkZXI9PT0iWFlaIil7Y29uc3QgZD1uKmMscD1uKnUsZz1vKmMsZj1vKnU7dFswXT1oKmMsdFs0XT0taCp1LHRbOF09bCx0WzFdPXArZypsLHRbNV09ZC1mKmwsdFs5XT0tbypoLHRbMl09Zi1kKmwsdFs2XT1nK3AqbCx0WzEwXT1uKmh9ZWxzZSBpZihlLm9yZGVyPT09IllYWiIpe2NvbnN0IGQ9aCpjLHA9aCp1LGc9bCpjLGY9bCp1O3RbMF09ZCtmKm8sdFs0XT1nKm8tcCx0WzhdPW4qbCx0WzFdPW4qdSx0WzVdPW4qYyx0WzldPS1vLHRbMl09cCpvLWcsdFs2XT1mK2Qqbyx0WzEwXT1uKmh9ZWxzZSBpZihlLm9yZGVyPT09IlpYWSIpe2NvbnN0IGQ9aCpjLHA9aCp1LGc9bCpjLGY9bCp1O3RbMF09ZC1mKm8sdFs0XT0tbip1LHRbOF09ZytwKm8sdFsxXT1wK2cqbyx0WzVdPW4qYyx0WzldPWYtZCpvLHRbMl09LW4qbCx0WzZdPW8sdFsxMF09bipofWVsc2UgaWYoZS5vcmRlcj09PSJaWVgiKXtjb25zdCBkPW4qYyxwPW4qdSxnPW8qYyxmPW8qdTt0WzBdPWgqYyx0WzRdPWcqbC1wLHRbOF09ZCpsK2YsdFsxXT1oKnUsdFs1XT1mKmwrZCx0WzldPXAqbC1nLHRbMl09LWwsdFs2XT1vKmgsdFsxMF09bipofWVsc2UgaWYoZS5vcmRlcj09PSJZWlgiKXtjb25zdCBkPW4qaCxwPW4qbCxnPW8qaCxmPW8qbDt0WzBdPWgqYyx0WzRdPWYtZCp1LHRbOF09Zyp1K3AsdFsxXT11LHRbNV09bipjLHRbOV09LW8qYyx0WzJdPS1sKmMsdFs2XT1wKnUrZyx0WzEwXT1kLWYqdX1lbHNlIGlmKGUub3JkZXI9PT0iWFpZIil7Y29uc3QgZD1uKmgscD1uKmwsZz1vKmgsZj1vKmw7dFswXT1oKmMsdFs0XT0tdSx0WzhdPWwqYyx0WzFdPWQqdStmLHRbNV09bipjLHRbOV09cCp1LWcsdFsyXT1nKnUtcCx0WzZdPW8qYyx0WzEwXT1mKnUrZH1yZXR1cm4gdFszXT0wLHRbN109MCx0WzExXT0wLHRbMTJdPTAsdFsxM109MCx0WzE0XT0wLHRbMTVdPTEsdGhpc31tYWtlUm90YXRpb25Gcm9tUXVhdGVybmlvbihlKXtyZXR1cm4gdGhpcy5jb21wb3NlKGUwLGUsdDApfWxvb2tBdChlLHQscil7Y29uc3Qgcz10aGlzLmVsZW1lbnRzO3JldHVybiBCdC5zdWJWZWN0b3JzKGUsdCksQnQubGVuZ3RoU3EoKT09PTAmJihCdC56PTEpLEJ0Lm5vcm1hbGl6ZSgpLHppLmNyb3NzVmVjdG9ycyhyLEJ0KSx6aS5sZW5ndGhTcSgpPT09MCYmKE1hdGguYWJzKHIueik9PT0xP0J0LngrPTFlLTQ6QnQueis9MWUtNCxCdC5ub3JtYWxpemUoKSx6aS5jcm9zc1ZlY3RvcnMocixCdCkpLHppLm5vcm1hbGl6ZSgpLFRhLmNyb3NzVmVjdG9ycyhCdCx6aSksc1swXT16aS54LHNbNF09VGEueCxzWzhdPUJ0Lngsc1sxXT16aS55LHNbNV09VGEueSxzWzldPUJ0Lnksc1syXT16aS56LHNbNl09VGEueixzWzEwXT1CdC56LHRoaXN9bXVsdGlwbHkoZSx0KXtyZXR1cm4gdCE9PXZvaWQgMD8oY29uc29sZS53YXJuKCJUSFJFRS5NYXRyaXg0OiAubXVsdGlwbHkoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5tdWx0aXBseU1hdHJpY2VzKCBhLCBiICkgaW5zdGVhZC4iKSx0aGlzLm11bHRpcGx5TWF0cmljZXMoZSx0KSk6dGhpcy5tdWx0aXBseU1hdHJpY2VzKHRoaXMsZSl9cHJlbXVsdGlwbHkoZSl7cmV0dXJuIHRoaXMubXVsdGlwbHlNYXRyaWNlcyhlLHRoaXMpfW11bHRpcGx5TWF0cmljZXMoZSx0KXtjb25zdCByPWUuZWxlbWVudHMscz10LmVsZW1lbnRzLGE9dGhpcy5lbGVtZW50cyxuPXJbMF0sbz1yWzRdLGg9cls4XSxsPXJbMTJdLGM9clsxXSx1PXJbNV0sZD1yWzldLHA9clsxM10sZz1yWzJdLGY9cls2XSxtPXJbMTBdLHY9clsxNF0seT1yWzNdLFQ9cls3XSx3PXJbMTFdLGI9clsxNV0sTD1zWzBdLFA9c1s0XSxrPXNbOF0saWU9c1sxMl0sTz1zWzFdLHg9c1s1XSxDPXNbOV0sWT1zWzEzXSxOPXNbMl0sVT1zWzZdLEI9c1sxMF0sRz1zWzE0XSxSPXNbM10sWD1zWzddLEo9c1sxMV0sdGU9c1sxNV07cmV0dXJuIGFbMF09bipMK28qTytoKk4rbCpSLGFbNF09bipQK28qeCtoKlUrbCpYLGFbOF09biprK28qQytoKkIrbCpKLGFbMTJdPW4qaWUrbypZK2gqRytsKnRlLGFbMV09YypMK3UqTytkKk4rcCpSLGFbNV09YypQK3UqeCtkKlUrcCpYLGFbOV09YyprK3UqQytkKkIrcCpKLGFbMTNdPWMqaWUrdSpZK2QqRytwKnRlLGFbMl09ZypMK2YqTyttKk4rdipSLGFbNl09ZypQK2YqeCttKlUrdipYLGFbMTBdPWcqaytmKkMrbSpCK3YqSixhWzE0XT1nKmllK2YqWSttKkcrdip0ZSxhWzNdPXkqTCtUKk8rdypOK2IqUixhWzddPXkqUCtUKngrdypVK2IqWCxhWzExXT15KmsrVCpDK3cqQitiKkosYVsxNV09eSppZStUKlkrdypHK2IqdGUsdGhpc31tdWx0aXBseVNjYWxhcihlKXtjb25zdCB0PXRoaXMuZWxlbWVudHM7cmV0dXJuIHRbMF0qPWUsdFs0XSo9ZSx0WzhdKj1lLHRbMTJdKj1lLHRbMV0qPWUsdFs1XSo9ZSx0WzldKj1lLHRbMTNdKj1lLHRbMl0qPWUsdFs2XSo9ZSx0WzEwXSo9ZSx0WzE0XSo9ZSx0WzNdKj1lLHRbN10qPWUsdFsxMV0qPWUsdFsxNV0qPWUsdGhpc31kZXRlcm1pbmFudCgpe2NvbnN0IGU9dGhpcy5lbGVtZW50cyx0PWVbMF0scj1lWzRdLHM9ZVs4XSxhPWVbMTJdLG49ZVsxXSxvPWVbNV0saD1lWzldLGw9ZVsxM10sYz1lWzJdLHU9ZVs2XSxkPWVbMTBdLHA9ZVsxNF0sZz1lWzNdLGY9ZVs3XSxtPWVbMTFdLHY9ZVsxNV07cmV0dXJuIGcqKCthKmgqdS1zKmwqdS1hKm8qZCtyKmwqZCtzKm8qcC1yKmgqcCkrZiooK3QqaCpwLXQqbCpkK2EqbipkLXMqbipwK3MqbCpjLWEqaCpjKSttKigrdCpsKnUtdCpvKnAtYSpuKnUrcipuKnArYSpvKmMtcipsKmMpK3YqKC1zKm8qYy10KmgqdSt0Km8qZCtzKm4qdS1yKm4qZCtyKmgqYyl9dHJhbnNwb3NlKCl7Y29uc3QgZT10aGlzLmVsZW1lbnRzO2xldCB0O3JldHVybiB0PWVbMV0sZVsxXT1lWzRdLGVbNF09dCx0PWVbMl0sZVsyXT1lWzhdLGVbOF09dCx0PWVbNl0sZVs2XT1lWzldLGVbOV09dCx0PWVbM10sZVszXT1lWzEyXSxlWzEyXT10LHQ9ZVs3XSxlWzddPWVbMTNdLGVbMTNdPXQsdD1lWzExXSxlWzExXT1lWzE0XSxlWzE0XT10LHRoaXN9c2V0UG9zaXRpb24oZSx0LHIpe2NvbnN0IHM9dGhpcy5lbGVtZW50cztyZXR1cm4gZS5pc1ZlY3RvcjM/KHNbMTJdPWUueCxzWzEzXT1lLnksc1sxNF09ZS56KTooc1sxMl09ZSxzWzEzXT10LHNbMTRdPXIpLHRoaXN9aW52ZXJ0KCl7Y29uc3QgZT10aGlzLmVsZW1lbnRzLHQ9ZVswXSxyPWVbMV0scz1lWzJdLGE9ZVszXSxuPWVbNF0sbz1lWzVdLGg9ZVs2XSxsPWVbN10sYz1lWzhdLHU9ZVs5XSxkPWVbMTBdLHA9ZVsxMV0sZz1lWzEyXSxmPWVbMTNdLG09ZVsxNF0sdj1lWzE1XSx5PXUqbSpsLWYqZCpsK2YqaCpwLW8qbSpwLXUqaCp2K28qZCp2LFQ9ZypkKmwtYyptKmwtZypoKnArbiptKnArYypoKnYtbipkKnYsdz1jKmYqbC1nKnUqbCtnKm8qcC1uKmYqcC1jKm8qdituKnUqdixiPWcqdSpoLWMqZipoLWcqbypkK24qZipkK2MqbyptLW4qdSptLEw9dCp5K3IqVCtzKncrYSpiO2lmKEw9PT0wKXJldHVybiB0aGlzLnNldCgwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwKTtjb25zdCBQPTEvTDtyZXR1cm4gZVswXT15KlAsZVsxXT0oZipkKmEtdSptKmEtZipzKnArciptKnArdSpzKnYtcipkKnYpKlAsZVsyXT0obyptKmEtZipoKmErZipzKmwtciptKmwtbypzKnYrcipoKnYpKlAsZVszXT0odSpoKmEtbypkKmEtdSpzKmwrcipkKmwrbypzKnAtcipoKnApKlAsZVs0XT1UKlAsZVs1XT0oYyptKmEtZypkKmErZypzKnAtdCptKnAtYypzKnYrdCpkKnYpKlAsZVs2XT0oZypoKmEtbiptKmEtZypzKmwrdCptKmwrbipzKnYtdCpoKnYpKlAsZVs3XT0obipkKmEtYypoKmErYypzKmwtdCpkKmwtbipzKnArdCpoKnApKlAsZVs4XT13KlAsZVs5XT0oZyp1KmEtYypmKmEtZypyKnArdCpmKnArYypyKnYtdCp1KnYpKlAsZVsxMF09KG4qZiphLWcqbyphK2cqcipsLXQqZipsLW4qcip2K3Qqbyp2KSpQLGVbMTFdPShjKm8qYS1uKnUqYS1jKnIqbCt0KnUqbCtuKnIqcC10Km8qcCkqUCxlWzEyXT1iKlAsZVsxM109KGMqZipzLWcqdSpzK2cqcipkLXQqZipkLWMqciptK3QqdSptKSpQLGVbMTRdPShnKm8qcy1uKmYqcy1nKnIqaCt0KmYqaCtuKnIqbS10Km8qbSkqUCxlWzE1XT0obip1KnMtYypvKnMrYypyKmgtdCp1KmgtbipyKmQrdCpvKmQpKlAsdGhpc31zY2FsZShlKXtjb25zdCB0PXRoaXMuZWxlbWVudHMscj1lLngscz1lLnksYT1lLno7cmV0dXJuIHRbMF0qPXIsdFs0XSo9cyx0WzhdKj1hLHRbMV0qPXIsdFs1XSo9cyx0WzldKj1hLHRbMl0qPXIsdFs2XSo9cyx0WzEwXSo9YSx0WzNdKj1yLHRbN10qPXMsdFsxMV0qPWEsdGhpc31nZXRNYXhTY2FsZU9uQXhpcygpe2NvbnN0IGU9dGhpcy5lbGVtZW50cyx0PWVbMF0qZVswXStlWzFdKmVbMV0rZVsyXSplWzJdLHI9ZVs0XSplWzRdK2VbNV0qZVs1XStlWzZdKmVbNl0scz1lWzhdKmVbOF0rZVs5XSplWzldK2VbMTBdKmVbMTBdO3JldHVybiBNYXRoLnNxcnQoTWF0aC5tYXgodCxyLHMpKX1tYWtlVHJhbnNsYXRpb24oZSx0LHIpe3JldHVybiB0aGlzLnNldCgxLDAsMCxlLDAsMSwwLHQsMCwwLDEsciwwLDAsMCwxKSx0aGlzfW1ha2VSb3RhdGlvblgoZSl7Y29uc3QgdD1NYXRoLmNvcyhlKSxyPU1hdGguc2luKGUpO3JldHVybiB0aGlzLnNldCgxLDAsMCwwLDAsdCwtciwwLDAscix0LDAsMCwwLDAsMSksdGhpc31tYWtlUm90YXRpb25ZKGUpe2NvbnN0IHQ9TWF0aC5jb3MoZSkscj1NYXRoLnNpbihlKTtyZXR1cm4gdGhpcy5zZXQodCwwLHIsMCwwLDEsMCwwLC1yLDAsdCwwLDAsMCwwLDEpLHRoaXN9bWFrZVJvdGF0aW9uWihlKXtjb25zdCB0PU1hdGguY29zKGUpLHI9TWF0aC5zaW4oZSk7cmV0dXJuIHRoaXMuc2V0KHQsLXIsMCwwLHIsdCwwLDAsMCwwLDEsMCwwLDAsMCwxKSx0aGlzfW1ha2VSb3RhdGlvbkF4aXMoZSx0KXtjb25zdCByPU1hdGguY29zKHQpLHM9TWF0aC5zaW4odCksYT0xLXIsbj1lLngsbz1lLnksaD1lLnosbD1hKm4sYz1hKm87cmV0dXJuIHRoaXMuc2V0KGwqbityLGwqby1zKmgsbCpoK3MqbywwLGwqbytzKmgsYypvK3IsYypoLXMqbiwwLGwqaC1zKm8sYypoK3MqbixhKmgqaCtyLDAsMCwwLDAsMSksdGhpc31tYWtlU2NhbGUoZSx0LHIpe3JldHVybiB0aGlzLnNldChlLDAsMCwwLDAsdCwwLDAsMCwwLHIsMCwwLDAsMCwxKSx0aGlzfW1ha2VTaGVhcihlLHQscixzLGEsbil7cmV0dXJuIHRoaXMuc2V0KDEscixhLDAsZSwxLG4sMCx0LHMsMSwwLDAsMCwwLDEpLHRoaXN9Y29tcG9zZShlLHQscil7Y29uc3Qgcz10aGlzLmVsZW1lbnRzLGE9dC5feCxuPXQuX3ksbz10Ll96LGg9dC5fdyxsPWErYSxjPW4rbix1PW8rbyxkPWEqbCxwPWEqYyxnPWEqdSxmPW4qYyxtPW4qdSx2PW8qdSx5PWgqbCxUPWgqYyx3PWgqdSxiPXIueCxMPXIueSxQPXIuejtyZXR1cm4gc1swXT0oMS0oZit2KSkqYixzWzFdPShwK3cpKmIsc1syXT0oZy1UKSpiLHNbM109MCxzWzRdPShwLXcpKkwsc1s1XT0oMS0oZCt2KSkqTCxzWzZdPShtK3kpKkwsc1s3XT0wLHNbOF09KGcrVCkqUCxzWzldPShtLXkpKlAsc1sxMF09KDEtKGQrZikpKlAsc1sxMV09MCxzWzEyXT1lLngsc1sxM109ZS55LHNbMTRdPWUueixzWzE1XT0xLHRoaXN9ZGVjb21wb3NlKGUsdCxyKXtjb25zdCBzPXRoaXMuZWxlbWVudHM7bGV0IGE9enIuc2V0KHNbMF0sc1sxXSxzWzJdKS5sZW5ndGgoKTtjb25zdCBuPXpyLnNldChzWzRdLHNbNV0sc1s2XSkubGVuZ3RoKCksbz16ci5zZXQoc1s4XSxzWzldLHNbMTBdKS5sZW5ndGgoKTt0aGlzLmRldGVybWluYW50KCk8MCYmKGE9LWEpLGUueD1zWzEyXSxlLnk9c1sxM10sZS56PXNbMTRdLEt0LmNvcHkodGhpcyk7Y29uc3QgaD0xL2EsbD0xL24sYz0xL287cmV0dXJuIEt0LmVsZW1lbnRzWzBdKj1oLEt0LmVsZW1lbnRzWzFdKj1oLEt0LmVsZW1lbnRzWzJdKj1oLEt0LmVsZW1lbnRzWzRdKj1sLEt0LmVsZW1lbnRzWzVdKj1sLEt0LmVsZW1lbnRzWzZdKj1sLEt0LmVsZW1lbnRzWzhdKj1jLEt0LmVsZW1lbnRzWzldKj1jLEt0LmVsZW1lbnRzWzEwXSo9Yyx0LnNldEZyb21Sb3RhdGlvbk1hdHJpeChLdCksci54PWEsci55PW4sci56PW8sdGhpc31tYWtlUGVyc3BlY3RpdmUoZSx0LHIscyxhLG4pe249PT12b2lkIDAmJmNvbnNvbGUud2FybigiVEhSRUUuTWF0cml4NDogLm1ha2VQZXJzcGVjdGl2ZSgpIGhhcyBiZWVuIHJlZGVmaW5lZCBhbmQgaGFzIGEgbmV3IHNpZ25hdHVyZS4gUGxlYXNlIGNoZWNrIHRoZSBkb2NzLiIpO2NvbnN0IG89dGhpcy5lbGVtZW50cyxoPTIqYS8odC1lKSxsPTIqYS8oci1zKSxjPSh0K2UpLyh0LWUpLHU9KHIrcykvKHItcyksZD0tKG4rYSkvKG4tYSkscD0tMipuKmEvKG4tYSk7cmV0dXJuIG9bMF09aCxvWzRdPTAsb1s4XT1jLG9bMTJdPTAsb1sxXT0wLG9bNV09bCxvWzldPXUsb1sxM109MCxvWzJdPTAsb1s2XT0wLG9bMTBdPWQsb1sxNF09cCxvWzNdPTAsb1s3XT0wLG9bMTFdPS0xLG9bMTVdPTAsdGhpc31tYWtlT3J0aG9ncmFwaGljKGUsdCxyLHMsYSxuKXtjb25zdCBvPXRoaXMuZWxlbWVudHMsaD0xLyh0LWUpLGw9MS8oci1zKSxjPTEvKG4tYSksdT0odCtlKSpoLGQ9KHIrcykqbCxwPShuK2EpKmM7cmV0dXJuIG9bMF09MipoLG9bNF09MCxvWzhdPTAsb1sxMl09LXUsb1sxXT0wLG9bNV09MipsLG9bOV09MCxvWzEzXT0tZCxvWzJdPTAsb1s2XT0wLG9bMTBdPS0yKmMsb1sxNF09LXAsb1szXT0wLG9bN109MCxvWzExXT0wLG9bMTVdPTEsdGhpc31lcXVhbHMoZSl7Y29uc3QgdD10aGlzLmVsZW1lbnRzLHI9ZS5lbGVtZW50cztmb3IobGV0IHM9MDtzPDE2O3MrKylpZih0W3NdIT09cltzXSlyZXR1cm4hMTtyZXR1cm4hMH1mcm9tQXJyYXkoZSx0PTApe2ZvcihsZXQgcj0wO3I8MTY7cisrKXRoaXMuZWxlbWVudHNbcl09ZVtyK3RdO3JldHVybiB0aGlzfXRvQXJyYXkoZT1bXSx0PTApe2NvbnN0IHI9dGhpcy5lbGVtZW50cztyZXR1cm4gZVt0XT1yWzBdLGVbdCsxXT1yWzFdLGVbdCsyXT1yWzJdLGVbdCszXT1yWzNdLGVbdCs0XT1yWzRdLGVbdCs1XT1yWzVdLGVbdCs2XT1yWzZdLGVbdCs3XT1yWzddLGVbdCs4XT1yWzhdLGVbdCs5XT1yWzldLGVbdCsxMF09clsxMF0sZVt0KzExXT1yWzExXSxlW3QrMTJdPXJbMTJdLGVbdCsxM109clsxM10sZVt0KzE0XT1yWzE0XSxlW3QrMTVdPXJbMTVdLGV9fV9lLnByb3RvdHlwZS5pc01hdHJpeDQ9ITA7Y29uc3QgenI9bmV3IEUsS3Q9bmV3IF9lLGUwPW5ldyBFKDAsMCwwKSx0MD1uZXcgRSgxLDEsMSksemk9bmV3IEUsVGE9bmV3IEUsQnQ9bmV3IEUsYmw9bmV3IF9lLHdsPW5ldyBUdDtjbGFzcyBzcntjb25zdHJ1Y3RvcihlPTAsdD0wLHI9MCxzPXNyLkRlZmF1bHRPcmRlcil7dGhpcy5feD1lLHRoaXMuX3k9dCx0aGlzLl96PXIsdGhpcy5fb3JkZXI9c31nZXQgeCgpe3JldHVybiB0aGlzLl94fXNldCB4KGUpe3RoaXMuX3g9ZSx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCl9Z2V0IHkoKXtyZXR1cm4gdGhpcy5feX1zZXQgeShlKXt0aGlzLl95PWUsdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpfWdldCB6KCl7cmV0dXJuIHRoaXMuX3p9c2V0IHooZSl7dGhpcy5fej1lLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKX1nZXQgb3JkZXIoKXtyZXR1cm4gdGhpcy5fb3JkZXJ9c2V0IG9yZGVyKGUpe3RoaXMuX29yZGVyPWUsdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpfXNldChlLHQscixzPXRoaXMuX29yZGVyKXtyZXR1cm4gdGhpcy5feD1lLHRoaXMuX3k9dCx0aGlzLl96PXIsdGhpcy5fb3JkZXI9cyx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc31jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLl94LHRoaXMuX3ksdGhpcy5feix0aGlzLl9vcmRlcil9Y29weShlKXtyZXR1cm4gdGhpcy5feD1lLl94LHRoaXMuX3k9ZS5feSx0aGlzLl96PWUuX3osdGhpcy5fb3JkZXI9ZS5fb3JkZXIsdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpLHRoaXN9c2V0RnJvbVJvdGF0aW9uTWF0cml4KGUsdD10aGlzLl9vcmRlcixyPSEwKXtjb25zdCBzPWUuZWxlbWVudHMsYT1zWzBdLG49c1s0XSxvPXNbOF0saD1zWzFdLGw9c1s1XSxjPXNbOV0sdT1zWzJdLGQ9c1s2XSxwPXNbMTBdO3N3aXRjaCh0KXtjYXNlIlhZWiI6dGhpcy5feT1NYXRoLmFzaW4oeXQobywtMSwxKSksTWF0aC5hYnMobyk8Ljk5OTk5OTk/KHRoaXMuX3g9TWF0aC5hdGFuMigtYyxwKSx0aGlzLl96PU1hdGguYXRhbjIoLW4sYSkpOih0aGlzLl94PU1hdGguYXRhbjIoZCxsKSx0aGlzLl96PTApO2JyZWFrO2Nhc2UiWVhaIjp0aGlzLl94PU1hdGguYXNpbigteXQoYywtMSwxKSksTWF0aC5hYnMoYyk8Ljk5OTk5OTk/KHRoaXMuX3k9TWF0aC5hdGFuMihvLHApLHRoaXMuX3o9TWF0aC5hdGFuMihoLGwpKToodGhpcy5feT1NYXRoLmF0YW4yKC11LGEpLHRoaXMuX3o9MCk7YnJlYWs7Y2FzZSJaWFkiOnRoaXMuX3g9TWF0aC5hc2luKHl0KGQsLTEsMSkpLE1hdGguYWJzKGQpPC45OTk5OTk5Pyh0aGlzLl95PU1hdGguYXRhbjIoLXUscCksdGhpcy5fej1NYXRoLmF0YW4yKC1uLGwpKToodGhpcy5feT0wLHRoaXMuX3o9TWF0aC5hdGFuMihoLGEpKTticmVhaztjYXNlIlpZWCI6dGhpcy5feT1NYXRoLmFzaW4oLXl0KHUsLTEsMSkpLE1hdGguYWJzKHUpPC45OTk5OTk5Pyh0aGlzLl94PU1hdGguYXRhbjIoZCxwKSx0aGlzLl96PU1hdGguYXRhbjIoaCxhKSk6KHRoaXMuX3g9MCx0aGlzLl96PU1hdGguYXRhbjIoLW4sbCkpO2JyZWFrO2Nhc2UiWVpYIjp0aGlzLl96PU1hdGguYXNpbih5dChoLC0xLDEpKSxNYXRoLmFicyhoKTwuOTk5OTk5OT8odGhpcy5feD1NYXRoLmF0YW4yKC1jLGwpLHRoaXMuX3k9TWF0aC5hdGFuMigtdSxhKSk6KHRoaXMuX3g9MCx0aGlzLl95PU1hdGguYXRhbjIobyxwKSk7YnJlYWs7Y2FzZSJYWlkiOnRoaXMuX3o9TWF0aC5hc2luKC15dChuLC0xLDEpKSxNYXRoLmFicyhuKTwuOTk5OTk5OT8odGhpcy5feD1NYXRoLmF0YW4yKGQsbCksdGhpcy5feT1NYXRoLmF0YW4yKG8sYSkpOih0aGlzLl94PU1hdGguYXRhbjIoLWMscCksdGhpcy5feT0wKTticmVhaztkZWZhdWx0OmNvbnNvbGUud2FybigiVEhSRUUuRXVsZXI6IC5zZXRGcm9tUm90YXRpb25NYXRyaXgoKSBlbmNvdW50ZXJlZCBhbiB1bmtub3duIG9yZGVyOiAiK3QpfXJldHVybiB0aGlzLl9vcmRlcj10LHI9PT0hMCYmdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpLHRoaXN9c2V0RnJvbVF1YXRlcm5pb24oZSx0LHIpe3JldHVybiBibC5tYWtlUm90YXRpb25Gcm9tUXVhdGVybmlvbihlKSx0aGlzLnNldEZyb21Sb3RhdGlvbk1hdHJpeChibCx0LHIpfXNldEZyb21WZWN0b3IzKGUsdD10aGlzLl9vcmRlcil7cmV0dXJuIHRoaXMuc2V0KGUueCxlLnksZS56LHQpfXJlb3JkZXIoZSl7cmV0dXJuIHdsLnNldEZyb21FdWxlcih0aGlzKSx0aGlzLnNldEZyb21RdWF0ZXJuaW9uKHdsLGUpfWVxdWFscyhlKXtyZXR1cm4gZS5feD09PXRoaXMuX3gmJmUuX3k9PT10aGlzLl95JiZlLl96PT09dGhpcy5feiYmZS5fb3JkZXI9PT10aGlzLl9vcmRlcn1mcm9tQXJyYXkoZSl7cmV0dXJuIHRoaXMuX3g9ZVswXSx0aGlzLl95PWVbMV0sdGhpcy5fej1lWzJdLGVbM10hPT12b2lkIDAmJih0aGlzLl9vcmRlcj1lWzNdKSx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc310b0FycmF5KGU9W10sdD0wKXtyZXR1cm4gZVt0XT10aGlzLl94LGVbdCsxXT10aGlzLl95LGVbdCsyXT10aGlzLl96LGVbdCszXT10aGlzLl9vcmRlcixlfV9vbkNoYW5nZShlKXtyZXR1cm4gdGhpcy5fb25DaGFuZ2VDYWxsYmFjaz1lLHRoaXN9X29uQ2hhbmdlQ2FsbGJhY2soKXt9fXNyLnByb3RvdHlwZS5pc0V1bGVyPSEwLHNyLkRlZmF1bHRPcmRlcj0iWFlaIixzci5Sb3RhdGlvbk9yZGVycz1bIlhZWiIsIllaWCIsIlpYWSIsIlhaWSIsIllYWiIsIlpZWCJdO2NsYXNzIFNse2NvbnN0cnVjdG9yKCl7dGhpcy5tYXNrPTF9c2V0KGUpe3RoaXMubWFzaz0oMTw8ZXwwKT4+PjB9ZW5hYmxlKGUpe3RoaXMubWFza3w9MTw8ZXwwfWVuYWJsZUFsbCgpe3RoaXMubWFzaz0tMX10b2dnbGUoZSl7dGhpcy5tYXNrXj0xPDxlfDB9ZGlzYWJsZShlKXt0aGlzLm1hc2smPX4oMTw8ZXwwKX1kaXNhYmxlQWxsKCl7dGhpcy5tYXNrPTB9dGVzdChlKXtyZXR1cm4odGhpcy5tYXNrJmUubWFzaykhPT0wfWlzRW5hYmxlZChlKXtyZXR1cm4odGhpcy5tYXNrJigxPDxlfDApKSE9PTB9fWxldCBpMD0wO2NvbnN0IEVsPW5ldyBFLEJyPW5ldyBUdCx3aT1uZXcgX2UsQWE9bmV3IEUsQ3M9bmV3IEUscjA9bmV3IEUsczA9bmV3IFR0LFRsPW5ldyBFKDEsMCwwKSxBbD1uZXcgRSgwLDEsMCksQ2w9bmV3IEUoMCwwLDEpLGEwPXt0eXBlOiJhZGRlZCJ9LExsPXt0eXBlOiJyZW1vdmVkIn07Y2xhc3MgamUgZXh0ZW5kcyBRaXtjb25zdHJ1Y3Rvcigpe3N1cGVyKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsImlkIix7dmFsdWU6aTArK30pLHRoaXMudXVpZD1zaSgpLHRoaXMubmFtZT0iIix0aGlzLnR5cGU9Ik9iamVjdDNEIix0aGlzLnBhcmVudD1udWxsLHRoaXMuY2hpbGRyZW49W10sdGhpcy51cD1qZS5EZWZhdWx0VXAuY2xvbmUoKTtjb25zdCBlPW5ldyBFLHQ9bmV3IHNyLHI9bmV3IFR0LHM9bmV3IEUoMSwxLDEpO2Z1bmN0aW9uIGEoKXtyLnNldEZyb21FdWxlcih0LCExKX1mdW5jdGlvbiBuKCl7dC5zZXRGcm9tUXVhdGVybmlvbihyLHZvaWQgMCwhMSl9dC5fb25DaGFuZ2UoYSksci5fb25DaGFuZ2UobiksT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcyx7cG9zaXRpb246e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHZhbHVlOmV9LHJvdGF0aW9uOntjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx2YWx1ZTp0fSxxdWF0ZXJuaW9uOntjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx2YWx1ZTpyfSxzY2FsZTp7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsdmFsdWU6c30sbW9kZWxWaWV3TWF0cml4Ont2YWx1ZTpuZXcgX2V9LG5vcm1hbE1hdHJpeDp7dmFsdWU6bmV3IHh0fX0pLHRoaXMubWF0cml4PW5ldyBfZSx0aGlzLm1hdHJpeFdvcmxkPW5ldyBfZSx0aGlzLm1hdHJpeEF1dG9VcGRhdGU9amUuRGVmYXVsdE1hdHJpeEF1dG9VcGRhdGUsdGhpcy5tYXRyaXhXb3JsZE5lZWRzVXBkYXRlPSExLHRoaXMubGF5ZXJzPW5ldyBTbCx0aGlzLnZpc2libGU9ITAsdGhpcy5jYXN0U2hhZG93PSExLHRoaXMucmVjZWl2ZVNoYWRvdz0hMSx0aGlzLmZydXN0dW1DdWxsZWQ9ITAsdGhpcy5yZW5kZXJPcmRlcj0wLHRoaXMuYW5pbWF0aW9ucz1bXSx0aGlzLnVzZXJEYXRhPXt9fW9uQmVmb3JlUmVuZGVyKCl7fW9uQWZ0ZXJSZW5kZXIoKXt9YXBwbHlNYXRyaXg0KGUpe3RoaXMubWF0cml4QXV0b1VwZGF0ZSYmdGhpcy51cGRhdGVNYXRyaXgoKSx0aGlzLm1hdHJpeC5wcmVtdWx0aXBseShlKSx0aGlzLm1hdHJpeC5kZWNvbXBvc2UodGhpcy5wb3NpdGlvbix0aGlzLnF1YXRlcm5pb24sdGhpcy5zY2FsZSl9YXBwbHlRdWF0ZXJuaW9uKGUpe3JldHVybiB0aGlzLnF1YXRlcm5pb24ucHJlbXVsdGlwbHkoZSksdGhpc31zZXRSb3RhdGlvbkZyb21BeGlzQW5nbGUoZSx0KXt0aGlzLnF1YXRlcm5pb24uc2V0RnJvbUF4aXNBbmdsZShlLHQpfXNldFJvdGF0aW9uRnJvbUV1bGVyKGUpe3RoaXMucXVhdGVybmlvbi5zZXRGcm9tRXVsZXIoZSwhMCl9c2V0Um90YXRpb25Gcm9tTWF0cml4KGUpe3RoaXMucXVhdGVybmlvbi5zZXRGcm9tUm90YXRpb25NYXRyaXgoZSl9c2V0Um90YXRpb25Gcm9tUXVhdGVybmlvbihlKXt0aGlzLnF1YXRlcm5pb24uY29weShlKX1yb3RhdGVPbkF4aXMoZSx0KXtyZXR1cm4gQnIuc2V0RnJvbUF4aXNBbmdsZShlLHQpLHRoaXMucXVhdGVybmlvbi5tdWx0aXBseShCciksdGhpc31yb3RhdGVPbldvcmxkQXhpcyhlLHQpe3JldHVybiBCci5zZXRGcm9tQXhpc0FuZ2xlKGUsdCksdGhpcy5xdWF0ZXJuaW9uLnByZW11bHRpcGx5KEJyKSx0aGlzfXJvdGF0ZVgoZSl7cmV0dXJuIHRoaXMucm90YXRlT25BeGlzKFRsLGUpfXJvdGF0ZVkoZSl7cmV0dXJuIHRoaXMucm90YXRlT25BeGlzKEFsLGUpfXJvdGF0ZVooZSl7cmV0dXJuIHRoaXMucm90YXRlT25BeGlzKENsLGUpfXRyYW5zbGF0ZU9uQXhpcyhlLHQpe3JldHVybiBFbC5jb3B5KGUpLmFwcGx5UXVhdGVybmlvbih0aGlzLnF1YXRlcm5pb24pLHRoaXMucG9zaXRpb24uYWRkKEVsLm11bHRpcGx5U2NhbGFyKHQpKSx0aGlzfXRyYW5zbGF0ZVgoZSl7cmV0dXJuIHRoaXMudHJhbnNsYXRlT25BeGlzKFRsLGUpfXRyYW5zbGF0ZVkoZSl7cmV0dXJuIHRoaXMudHJhbnNsYXRlT25BeGlzKEFsLGUpfXRyYW5zbGF0ZVooZSl7cmV0dXJuIHRoaXMudHJhbnNsYXRlT25BeGlzKENsLGUpfWxvY2FsVG9Xb3JsZChlKXtyZXR1cm4gZS5hcHBseU1hdHJpeDQodGhpcy5tYXRyaXhXb3JsZCl9d29ybGRUb0xvY2FsKGUpe3JldHVybiBlLmFwcGx5TWF0cml4NCh3aS5jb3B5KHRoaXMubWF0cml4V29ybGQpLmludmVydCgpKX1sb29rQXQoZSx0LHIpe2UuaXNWZWN0b3IzP0FhLmNvcHkoZSk6QWEuc2V0KGUsdCxyKTtjb25zdCBzPXRoaXMucGFyZW50O3RoaXMudXBkYXRlV29ybGRNYXRyaXgoITAsITEpLENzLnNldEZyb21NYXRyaXhQb3NpdGlvbih0aGlzLm1hdHJpeFdvcmxkKSx0aGlzLmlzQ2FtZXJhfHx0aGlzLmlzTGlnaHQ/d2kubG9va0F0KENzLEFhLHRoaXMudXApOndpLmxvb2tBdChBYSxDcyx0aGlzLnVwKSx0aGlzLnF1YXRlcm5pb24uc2V0RnJvbVJvdGF0aW9uTWF0cml4KHdpKSxzJiYod2kuZXh0cmFjdFJvdGF0aW9uKHMubWF0cml4V29ybGQpLEJyLnNldEZyb21Sb3RhdGlvbk1hdHJpeCh3aSksdGhpcy5xdWF0ZXJuaW9uLnByZW11bHRpcGx5KEJyLmludmVydCgpKSl9YWRkKGUpe2lmKGFyZ3VtZW50cy5sZW5ndGg+MSl7Zm9yKGxldCB0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl0aGlzLmFkZChhcmd1bWVudHNbdF0pO3JldHVybiB0aGlzfXJldHVybiBlPT09dGhpcz8oY29uc29sZS5lcnJvcigiVEhSRUUuT2JqZWN0M0QuYWRkOiBvYmplY3QgY2FuJ3QgYmUgYWRkZWQgYXMgYSBjaGlsZCBvZiBpdHNlbGYuIixlKSx0aGlzKTooZSYmZS5pc09iamVjdDNEPyhlLnBhcmVudCE9PW51bGwmJmUucGFyZW50LnJlbW92ZShlKSxlLnBhcmVudD10aGlzLHRoaXMuY2hpbGRyZW4ucHVzaChlKSxlLmRpc3BhdGNoRXZlbnQoYTApKTpjb25zb2xlLmVycm9yKCJUSFJFRS5PYmplY3QzRC5hZGQ6IG9iamVjdCBub3QgYW4gaW5zdGFuY2Ugb2YgVEhSRUUuT2JqZWN0M0QuIixlKSx0aGlzKX1yZW1vdmUoZSl7aWYoYXJndW1lbnRzLmxlbmd0aD4xKXtmb3IobGV0IHI9MDtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXRoaXMucmVtb3ZlKGFyZ3VtZW50c1tyXSk7cmV0dXJuIHRoaXN9Y29uc3QgdD10aGlzLmNoaWxkcmVuLmluZGV4T2YoZSk7cmV0dXJuIHQhPT0tMSYmKGUucGFyZW50PW51bGwsdGhpcy5jaGlsZHJlbi5zcGxpY2UodCwxKSxlLmRpc3BhdGNoRXZlbnQoTGwpKSx0aGlzfXJlbW92ZUZyb21QYXJlbnQoKXtjb25zdCBlPXRoaXMucGFyZW50O3JldHVybiBlIT09bnVsbCYmZS5yZW1vdmUodGhpcyksdGhpc31jbGVhcigpe2ZvcihsZXQgZT0wO2U8dGhpcy5jaGlsZHJlbi5sZW5ndGg7ZSsrKXtjb25zdCB0PXRoaXMuY2hpbGRyZW5bZV07dC5wYXJlbnQ9bnVsbCx0LmRpc3BhdGNoRXZlbnQoTGwpfXJldHVybiB0aGlzLmNoaWxkcmVuLmxlbmd0aD0wLHRoaXN9YXR0YWNoKGUpe3JldHVybiB0aGlzLnVwZGF0ZVdvcmxkTWF0cml4KCEwLCExKSx3aS5jb3B5KHRoaXMubWF0cml4V29ybGQpLmludmVydCgpLGUucGFyZW50IT09bnVsbCYmKGUucGFyZW50LnVwZGF0ZVdvcmxkTWF0cml4KCEwLCExKSx3aS5tdWx0aXBseShlLnBhcmVudC5tYXRyaXhXb3JsZCkpLGUuYXBwbHlNYXRyaXg0KHdpKSx0aGlzLmFkZChlKSxlLnVwZGF0ZVdvcmxkTWF0cml4KCExLCEwKSx0aGlzfWdldE9iamVjdEJ5SWQoZSl7cmV0dXJuIHRoaXMuZ2V0T2JqZWN0QnlQcm9wZXJ0eSgiaWQiLGUpfWdldE9iamVjdEJ5TmFtZShlKXtyZXR1cm4gdGhpcy5nZXRPYmplY3RCeVByb3BlcnR5KCJuYW1lIixlKX1nZXRPYmplY3RCeVByb3BlcnR5KGUsdCl7aWYodGhpc1tlXT09PXQpcmV0dXJuIHRoaXM7Zm9yKGxldCByPTAscz10aGlzLmNoaWxkcmVuLmxlbmd0aDtyPHM7cisrKXtjb25zdCBhPXRoaXMuY2hpbGRyZW5bcl0uZ2V0T2JqZWN0QnlQcm9wZXJ0eShlLHQpO2lmKGEhPT12b2lkIDApcmV0dXJuIGF9fWdldFdvcmxkUG9zaXRpb24oZSl7cmV0dXJuIHRoaXMudXBkYXRlV29ybGRNYXRyaXgoITAsITEpLGUuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHRoaXMubWF0cml4V29ybGQpfWdldFdvcmxkUXVhdGVybmlvbihlKXtyZXR1cm4gdGhpcy51cGRhdGVXb3JsZE1hdHJpeCghMCwhMSksdGhpcy5tYXRyaXhXb3JsZC5kZWNvbXBvc2UoQ3MsZSxyMCksZX1nZXRXb3JsZFNjYWxlKGUpe3JldHVybiB0aGlzLnVwZGF0ZVdvcmxkTWF0cml4KCEwLCExKSx0aGlzLm1hdHJpeFdvcmxkLmRlY29tcG9zZShDcyxzMCxlKSxlfWdldFdvcmxkRGlyZWN0aW9uKGUpe3RoaXMudXBkYXRlV29ybGRNYXRyaXgoITAsITEpO2NvbnN0IHQ9dGhpcy5tYXRyaXhXb3JsZC5lbGVtZW50cztyZXR1cm4gZS5zZXQodFs4XSx0WzldLHRbMTBdKS5ub3JtYWxpemUoKX1yYXljYXN0KCl7fXRyYXZlcnNlKGUpe2UodGhpcyk7Y29uc3QgdD10aGlzLmNoaWxkcmVuO2ZvcihsZXQgcj0wLHM9dC5sZW5ndGg7cjxzO3IrKyl0W3JdLnRyYXZlcnNlKGUpfXRyYXZlcnNlVmlzaWJsZShlKXtpZih0aGlzLnZpc2libGU9PT0hMSlyZXR1cm47ZSh0aGlzKTtjb25zdCB0PXRoaXMuY2hpbGRyZW47Zm9yKGxldCByPTAscz10Lmxlbmd0aDtyPHM7cisrKXRbcl0udHJhdmVyc2VWaXNpYmxlKGUpfXRyYXZlcnNlQW5jZXN0b3JzKGUpe2NvbnN0IHQ9dGhpcy5wYXJlbnQ7dCE9PW51bGwmJihlKHQpLHQudHJhdmVyc2VBbmNlc3RvcnMoZSkpfXVwZGF0ZU1hdHJpeCgpe3RoaXMubWF0cml4LmNvbXBvc2UodGhpcy5wb3NpdGlvbix0aGlzLnF1YXRlcm5pb24sdGhpcy5zY2FsZSksdGhpcy5tYXRyaXhXb3JsZE5lZWRzVXBkYXRlPSEwfXVwZGF0ZU1hdHJpeFdvcmxkKGUpe3RoaXMubWF0cml4QXV0b1VwZGF0ZSYmdGhpcy51cGRhdGVNYXRyaXgoKSwodGhpcy5tYXRyaXhXb3JsZE5lZWRzVXBkYXRlfHxlKSYmKHRoaXMucGFyZW50PT09bnVsbD90aGlzLm1hdHJpeFdvcmxkLmNvcHkodGhpcy5tYXRyaXgpOnRoaXMubWF0cml4V29ybGQubXVsdGlwbHlNYXRyaWNlcyh0aGlzLnBhcmVudC5tYXRyaXhXb3JsZCx0aGlzLm1hdHJpeCksdGhpcy5tYXRyaXhXb3JsZE5lZWRzVXBkYXRlPSExLGU9ITApO2NvbnN0IHQ9dGhpcy5jaGlsZHJlbjtmb3IobGV0IHI9MCxzPXQubGVuZ3RoO3I8cztyKyspdFtyXS51cGRhdGVNYXRyaXhXb3JsZChlKX11cGRhdGVXb3JsZE1hdHJpeChlLHQpe2NvbnN0IHI9dGhpcy5wYXJlbnQ7aWYoZT09PSEwJiZyIT09bnVsbCYmci51cGRhdGVXb3JsZE1hdHJpeCghMCwhMSksdGhpcy5tYXRyaXhBdXRvVXBkYXRlJiZ0aGlzLnVwZGF0ZU1hdHJpeCgpLHRoaXMucGFyZW50PT09bnVsbD90aGlzLm1hdHJpeFdvcmxkLmNvcHkodGhpcy5tYXRyaXgpOnRoaXMubWF0cml4V29ybGQubXVsdGlwbHlNYXRyaWNlcyh0aGlzLnBhcmVudC5tYXRyaXhXb3JsZCx0aGlzLm1hdHJpeCksdD09PSEwKXtjb25zdCBzPXRoaXMuY2hpbGRyZW47Zm9yKGxldCBhPTAsbj1zLmxlbmd0aDthPG47YSsrKXNbYV0udXBkYXRlV29ybGRNYXRyaXgoITEsITApfX10b0pTT04oZSl7Y29uc3QgdD1lPT09dm9pZCAwfHx0eXBlb2YgZT09InN0cmluZyIscj17fTt0JiYoZT17Z2VvbWV0cmllczp7fSxtYXRlcmlhbHM6e30sdGV4dHVyZXM6e30saW1hZ2VzOnt9LHNoYXBlczp7fSxza2VsZXRvbnM6e30sYW5pbWF0aW9uczp7fSxub2Rlczp7fX0sci5tZXRhZGF0YT17dmVyc2lvbjo0LjUsdHlwZToiT2JqZWN0IixnZW5lcmF0b3I6Ik9iamVjdDNELnRvSlNPTiJ9KTtjb25zdCBzPXt9O3MudXVpZD10aGlzLnV1aWQscy50eXBlPXRoaXMudHlwZSx0aGlzLm5hbWUhPT0iIiYmKHMubmFtZT10aGlzLm5hbWUpLHRoaXMuY2FzdFNoYWRvdz09PSEwJiYocy5jYXN0U2hhZG93PSEwKSx0aGlzLnJlY2VpdmVTaGFkb3c9PT0hMCYmKHMucmVjZWl2ZVNoYWRvdz0hMCksdGhpcy52aXNpYmxlPT09ITEmJihzLnZpc2libGU9ITEpLHRoaXMuZnJ1c3R1bUN1bGxlZD09PSExJiYocy5mcnVzdHVtQ3VsbGVkPSExKSx0aGlzLnJlbmRlck9yZGVyIT09MCYmKHMucmVuZGVyT3JkZXI9dGhpcy5yZW5kZXJPcmRlciksSlNPTi5zdHJpbmdpZnkodGhpcy51c2VyRGF0YSkhPT0ie30iJiYocy51c2VyRGF0YT10aGlzLnVzZXJEYXRhKSxzLmxheWVycz10aGlzLmxheWVycy5tYXNrLHMubWF0cml4PXRoaXMubWF0cml4LnRvQXJyYXkoKSx0aGlzLm1hdHJpeEF1dG9VcGRhdGU9PT0hMSYmKHMubWF0cml4QXV0b1VwZGF0ZT0hMSksdGhpcy5pc0luc3RhbmNlZE1lc2gmJihzLnR5cGU9Ikluc3RhbmNlZE1lc2giLHMuY291bnQ9dGhpcy5jb3VudCxzLmluc3RhbmNlTWF0cml4PXRoaXMuaW5zdGFuY2VNYXRyaXgudG9KU09OKCksdGhpcy5pbnN0YW5jZUNvbG9yIT09bnVsbCYmKHMuaW5zdGFuY2VDb2xvcj10aGlzLmluc3RhbmNlQ29sb3IudG9KU09OKCkpKTtmdW5jdGlvbiBhKG8saCl7cmV0dXJuIG9baC51dWlkXT09PXZvaWQgMCYmKG9baC51dWlkXT1oLnRvSlNPTihlKSksaC51dWlkfWlmKHRoaXMuaXNTY2VuZSl0aGlzLmJhY2tncm91bmQmJih0aGlzLmJhY2tncm91bmQuaXNDb2xvcj9zLmJhY2tncm91bmQ9dGhpcy5iYWNrZ3JvdW5kLnRvSlNPTigpOnRoaXMuYmFja2dyb3VuZC5pc1RleHR1cmUmJihzLmJhY2tncm91bmQ9dGhpcy5iYWNrZ3JvdW5kLnRvSlNPTihlKS51dWlkKSksdGhpcy5lbnZpcm9ubWVudCYmdGhpcy5lbnZpcm9ubWVudC5pc1RleHR1cmUmJihzLmVudmlyb25tZW50PXRoaXMuZW52aXJvbm1lbnQudG9KU09OKGUpLnV1aWQpO2Vsc2UgaWYodGhpcy5pc01lc2h8fHRoaXMuaXNMaW5lfHx0aGlzLmlzUG9pbnRzKXtzLmdlb21ldHJ5PWEoZS5nZW9tZXRyaWVzLHRoaXMuZ2VvbWV0cnkpO2NvbnN0IG89dGhpcy5nZW9tZXRyeS5wYXJhbWV0ZXJzO2lmKG8hPT12b2lkIDAmJm8uc2hhcGVzIT09dm9pZCAwKXtjb25zdCBoPW8uc2hhcGVzO2lmKEFycmF5LmlzQXJyYXkoaCkpZm9yKGxldCBsPTAsYz1oLmxlbmd0aDtsPGM7bCsrKXtjb25zdCB1PWhbbF07YShlLnNoYXBlcyx1KX1lbHNlIGEoZS5zaGFwZXMsaCl9fWlmKHRoaXMuaXNTa2lubmVkTWVzaCYmKHMuYmluZE1vZGU9dGhpcy5iaW5kTW9kZSxzLmJpbmRNYXRyaXg9dGhpcy5iaW5kTWF0cml4LnRvQXJyYXkoKSx0aGlzLnNrZWxldG9uIT09dm9pZCAwJiYoYShlLnNrZWxldG9ucyx0aGlzLnNrZWxldG9uKSxzLnNrZWxldG9uPXRoaXMuc2tlbGV0b24udXVpZCkpLHRoaXMubWF0ZXJpYWwhPT12b2lkIDApaWYoQXJyYXkuaXNBcnJheSh0aGlzLm1hdGVyaWFsKSl7Y29uc3Qgbz1bXTtmb3IobGV0IGg9MCxsPXRoaXMubWF0ZXJpYWwubGVuZ3RoO2g8bDtoKyspby5wdXNoKGEoZS5tYXRlcmlhbHMsdGhpcy5tYXRlcmlhbFtoXSkpO3MubWF0ZXJpYWw9b31lbHNlIHMubWF0ZXJpYWw9YShlLm1hdGVyaWFscyx0aGlzLm1hdGVyaWFsKTtpZih0aGlzLmNoaWxkcmVuLmxlbmd0aD4wKXtzLmNoaWxkcmVuPVtdO2ZvcihsZXQgbz0wO288dGhpcy5jaGlsZHJlbi5sZW5ndGg7bysrKXMuY2hpbGRyZW4ucHVzaCh0aGlzLmNoaWxkcmVuW29dLnRvSlNPTihlKS5vYmplY3QpfWlmKHRoaXMuYW5pbWF0aW9ucy5sZW5ndGg+MCl7cy5hbmltYXRpb25zPVtdO2ZvcihsZXQgbz0wO288dGhpcy5hbmltYXRpb25zLmxlbmd0aDtvKyspe2NvbnN0IGg9dGhpcy5hbmltYXRpb25zW29dO3MuYW5pbWF0aW9ucy5wdXNoKGEoZS5hbmltYXRpb25zLGgpKX19aWYodCl7Y29uc3Qgbz1uKGUuZ2VvbWV0cmllcyksaD1uKGUubWF0ZXJpYWxzKSxsPW4oZS50ZXh0dXJlcyksYz1uKGUuaW1hZ2VzKSx1PW4oZS5zaGFwZXMpLGQ9bihlLnNrZWxldG9ucykscD1uKGUuYW5pbWF0aW9ucyksZz1uKGUubm9kZXMpO28ubGVuZ3RoPjAmJihyLmdlb21ldHJpZXM9byksaC5sZW5ndGg+MCYmKHIubWF0ZXJpYWxzPWgpLGwubGVuZ3RoPjAmJihyLnRleHR1cmVzPWwpLGMubGVuZ3RoPjAmJihyLmltYWdlcz1jKSx1Lmxlbmd0aD4wJiYoci5zaGFwZXM9dSksZC5sZW5ndGg+MCYmKHIuc2tlbGV0b25zPWQpLHAubGVuZ3RoPjAmJihyLmFuaW1hdGlvbnM9cCksZy5sZW5ndGg+MCYmKHIubm9kZXM9Zyl9cmV0dXJuIHIub2JqZWN0PXMscjtmdW5jdGlvbiBuKG8pe2NvbnN0IGg9W107Zm9yKGNvbnN0IGwgaW4gbyl7Y29uc3QgYz1vW2xdO2RlbGV0ZSBjLm1ldGFkYXRhLGgucHVzaChjKX1yZXR1cm4gaH19Y2xvbmUoZSl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSh0aGlzLGUpfWNvcHkoZSx0PSEwKXtpZih0aGlzLm5hbWU9ZS5uYW1lLHRoaXMudXAuY29weShlLnVwKSx0aGlzLnBvc2l0aW9uLmNvcHkoZS5wb3NpdGlvbiksdGhpcy5yb3RhdGlvbi5vcmRlcj1lLnJvdGF0aW9uLm9yZGVyLHRoaXMucXVhdGVybmlvbi5jb3B5KGUucXVhdGVybmlvbiksdGhpcy5zY2FsZS5jb3B5KGUuc2NhbGUpLHRoaXMubWF0cml4LmNvcHkoZS5tYXRyaXgpLHRoaXMubWF0cml4V29ybGQuY29weShlLm1hdHJpeFdvcmxkKSx0aGlzLm1hdHJpeEF1dG9VcGRhdGU9ZS5tYXRyaXhBdXRvVXBkYXRlLHRoaXMubWF0cml4V29ybGROZWVkc1VwZGF0ZT1lLm1hdHJpeFdvcmxkTmVlZHNVcGRhdGUsdGhpcy5sYXllcnMubWFzaz1lLmxheWVycy5tYXNrLHRoaXMudmlzaWJsZT1lLnZpc2libGUsdGhpcy5jYXN0U2hhZG93PWUuY2FzdFNoYWRvdyx0aGlzLnJlY2VpdmVTaGFkb3c9ZS5yZWNlaXZlU2hhZG93LHRoaXMuZnJ1c3R1bUN1bGxlZD1lLmZydXN0dW1DdWxsZWQsdGhpcy5yZW5kZXJPcmRlcj1lLnJlbmRlck9yZGVyLHRoaXMudXNlckRhdGE9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlLnVzZXJEYXRhKSksdD09PSEwKWZvcihsZXQgcj0wO3I8ZS5jaGlsZHJlbi5sZW5ndGg7cisrKXtjb25zdCBzPWUuY2hpbGRyZW5bcl07dGhpcy5hZGQocy5jbG9uZSgpKX1yZXR1cm4gdGhpc319amUuRGVmYXVsdFVwPW5ldyBFKDAsMSwwKSxqZS5EZWZhdWx0TWF0cml4QXV0b1VwZGF0ZT0hMCxqZS5wcm90b3R5cGUuaXNPYmplY3QzRD0hMDtjb25zdCBRdD1uZXcgRSxTaT1uZXcgRSxZbj1uZXcgRSxFaT1uZXcgRSxVcj1uZXcgRSxGcj1uZXcgRSxSbD1uZXcgRSxabj1uZXcgRSxLbj1uZXcgRSxRbj1uZXcgRTtjbGFzcyBhdHtjb25zdHJ1Y3RvcihlPW5ldyBFLHQ9bmV3IEUscj1uZXcgRSl7dGhpcy5hPWUsdGhpcy5iPXQsdGhpcy5jPXJ9c3RhdGljIGdldE5vcm1hbChlLHQscixzKXtzLnN1YlZlY3RvcnMocix0KSxRdC5zdWJWZWN0b3JzKGUsdCkscy5jcm9zcyhRdCk7Y29uc3QgYT1zLmxlbmd0aFNxKCk7cmV0dXJuIGE+MD9zLm11bHRpcGx5U2NhbGFyKDEvTWF0aC5zcXJ0KGEpKTpzLnNldCgwLDAsMCl9c3RhdGljIGdldEJhcnljb29yZChlLHQscixzLGEpe1F0LnN1YlZlY3RvcnMocyx0KSxTaS5zdWJWZWN0b3JzKHIsdCksWW4uc3ViVmVjdG9ycyhlLHQpO2NvbnN0IG49UXQuZG90KFF0KSxvPVF0LmRvdChTaSksaD1RdC5kb3QoWW4pLGw9U2kuZG90KFNpKSxjPVNpLmRvdChZbiksdT1uKmwtbypvO2lmKHU9PT0wKXJldHVybiBhLnNldCgtMiwtMSwtMSk7Y29uc3QgZD0xL3UscD0obCpoLW8qYykqZCxnPShuKmMtbypoKSpkO3JldHVybiBhLnNldCgxLXAtZyxnLHApfXN0YXRpYyBjb250YWluc1BvaW50KGUsdCxyLHMpe3JldHVybiB0aGlzLmdldEJhcnljb29yZChlLHQscixzLEVpKSxFaS54Pj0wJiZFaS55Pj0wJiZFaS54K0VpLnk8PTF9c3RhdGljIGdldFVWKGUsdCxyLHMsYSxuLG8saCl7cmV0dXJuIHRoaXMuZ2V0QmFyeWNvb3JkKGUsdCxyLHMsRWkpLGguc2V0KDAsMCksaC5hZGRTY2FsZWRWZWN0b3IoYSxFaS54KSxoLmFkZFNjYWxlZFZlY3RvcihuLEVpLnkpLGguYWRkU2NhbGVkVmVjdG9yKG8sRWkueiksaH1zdGF0aWMgaXNGcm9udEZhY2luZyhlLHQscixzKXtyZXR1cm4gUXQuc3ViVmVjdG9ycyhyLHQpLFNpLnN1YlZlY3RvcnMoZSx0KSxRdC5jcm9zcyhTaSkuZG90KHMpPDB9c2V0KGUsdCxyKXtyZXR1cm4gdGhpcy5hLmNvcHkoZSksdGhpcy5iLmNvcHkodCksdGhpcy5jLmNvcHkociksdGhpc31zZXRGcm9tUG9pbnRzQW5kSW5kaWNlcyhlLHQscixzKXtyZXR1cm4gdGhpcy5hLmNvcHkoZVt0XSksdGhpcy5iLmNvcHkoZVtyXSksdGhpcy5jLmNvcHkoZVtzXSksdGhpc31zZXRGcm9tQXR0cmlidXRlQW5kSW5kaWNlcyhlLHQscixzKXtyZXR1cm4gdGhpcy5hLmZyb21CdWZmZXJBdHRyaWJ1dGUoZSx0KSx0aGlzLmIuZnJvbUJ1ZmZlckF0dHJpYnV0ZShlLHIpLHRoaXMuYy5mcm9tQnVmZmVyQXR0cmlidXRlKGUscyksdGhpc31jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyl9Y29weShlKXtyZXR1cm4gdGhpcy5hLmNvcHkoZS5hKSx0aGlzLmIuY29weShlLmIpLHRoaXMuYy5jb3B5KGUuYyksdGhpc31nZXRBcmVhKCl7cmV0dXJuIFF0LnN1YlZlY3RvcnModGhpcy5jLHRoaXMuYiksU2kuc3ViVmVjdG9ycyh0aGlzLmEsdGhpcy5iKSxRdC5jcm9zcyhTaSkubGVuZ3RoKCkqLjV9Z2V0TWlkcG9pbnQoZSl7cmV0dXJuIGUuYWRkVmVjdG9ycyh0aGlzLmEsdGhpcy5iKS5hZGQodGhpcy5jKS5tdWx0aXBseVNjYWxhcigxLzMpfWdldE5vcm1hbChlKXtyZXR1cm4gYXQuZ2V0Tm9ybWFsKHRoaXMuYSx0aGlzLmIsdGhpcy5jLGUpfWdldFBsYW5lKGUpe3JldHVybiBlLnNldEZyb21Db3BsYW5hclBvaW50cyh0aGlzLmEsdGhpcy5iLHRoaXMuYyl9Z2V0QmFyeWNvb3JkKGUsdCl7cmV0dXJuIGF0LmdldEJhcnljb29yZChlLHRoaXMuYSx0aGlzLmIsdGhpcy5jLHQpfWdldFVWKGUsdCxyLHMsYSl7cmV0dXJuIGF0LmdldFVWKGUsdGhpcy5hLHRoaXMuYix0aGlzLmMsdCxyLHMsYSl9Y29udGFpbnNQb2ludChlKXtyZXR1cm4gYXQuY29udGFpbnNQb2ludChlLHRoaXMuYSx0aGlzLmIsdGhpcy5jKX1pc0Zyb250RmFjaW5nKGUpe3JldHVybiBhdC5pc0Zyb250RmFjaW5nKHRoaXMuYSx0aGlzLmIsdGhpcy5jLGUpfWludGVyc2VjdHNCb3goZSl7cmV0dXJuIGUuaW50ZXJzZWN0c1RyaWFuZ2xlKHRoaXMpfWNsb3Nlc3RQb2ludFRvUG9pbnQoZSx0KXtjb25zdCByPXRoaXMuYSxzPXRoaXMuYixhPXRoaXMuYztsZXQgbixvO1VyLnN1YlZlY3RvcnMocyxyKSxGci5zdWJWZWN0b3JzKGEsciksWm4uc3ViVmVjdG9ycyhlLHIpO2NvbnN0IGg9VXIuZG90KFpuKSxsPUZyLmRvdChabik7aWYoaDw9MCYmbDw9MClyZXR1cm4gdC5jb3B5KHIpO0tuLnN1YlZlY3RvcnMoZSxzKTtjb25zdCBjPVVyLmRvdChLbiksdT1Gci5kb3QoS24pO2lmKGM+PTAmJnU8PWMpcmV0dXJuIHQuY29weShzKTtjb25zdCBkPWgqdS1jKmw7aWYoZDw9MCYmaD49MCYmYzw9MClyZXR1cm4gbj1oLyhoLWMpLHQuY29weShyKS5hZGRTY2FsZWRWZWN0b3IoVXIsbik7UW4uc3ViVmVjdG9ycyhlLGEpO2NvbnN0IHA9VXIuZG90KFFuKSxnPUZyLmRvdChRbik7aWYoZz49MCYmcDw9ZylyZXR1cm4gdC5jb3B5KGEpO2NvbnN0IGY9cCpsLWgqZztpZihmPD0wJiZsPj0wJiZnPD0wKXJldHVybiBvPWwvKGwtZyksdC5jb3B5KHIpLmFkZFNjYWxlZFZlY3RvcihGcixvKTtjb25zdCBtPWMqZy1wKnU7aWYobTw9MCYmdS1jPj0wJiZwLWc+PTApcmV0dXJuIFJsLnN1YlZlY3RvcnMoYSxzKSxvPSh1LWMpLyh1LWMrKHAtZykpLHQuY29weShzKS5hZGRTY2FsZWRWZWN0b3IoUmwsbyk7Y29uc3Qgdj0xLyhtK2YrZCk7cmV0dXJuIG49Zip2LG89ZCp2LHQuY29weShyKS5hZGRTY2FsZWRWZWN0b3IoVXIsbikuYWRkU2NhbGVkVmVjdG9yKEZyLG8pfWVxdWFscyhlKXtyZXR1cm4gZS5hLmVxdWFscyh0aGlzLmEpJiZlLmIuZXF1YWxzKHRoaXMuYikmJmUuYy5lcXVhbHModGhpcy5jKX19bGV0IG4wPTA7Y2xhc3MgbHQgZXh0ZW5kcyBRaXtjb25zdHJ1Y3Rvcigpe3N1cGVyKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsImlkIix7dmFsdWU6bjArK30pLHRoaXMudXVpZD1zaSgpLHRoaXMubmFtZT0iIix0aGlzLnR5cGU9Ik1hdGVyaWFsIix0aGlzLmZvZz0hMCx0aGlzLmJsZW5kaW5nPXlyLHRoaXMuc2lkZT13cyx0aGlzLnZlcnRleENvbG9ycz0hMSx0aGlzLm9wYWNpdHk9MSx0aGlzLnRyYW5zcGFyZW50PSExLHRoaXMuYmxlbmRTcmM9R2gsdGhpcy5ibGVuZERzdD1WaCx0aGlzLmJsZW5kRXF1YXRpb249TXIsdGhpcy5ibGVuZFNyY0FscGhhPW51bGwsdGhpcy5ibGVuZERzdEFscGhhPW51bGwsdGhpcy5ibGVuZEVxdWF0aW9uQWxwaGE9bnVsbCx0aGlzLmRlcHRoRnVuYz1Nbix0aGlzLmRlcHRoVGVzdD0hMCx0aGlzLmRlcHRoV3JpdGU9ITAsdGhpcy5zdGVuY2lsV3JpdGVNYXNrPTI1NSx0aGlzLnN0ZW5jaWxGdW5jPVhnLHRoaXMuc3RlbmNpbFJlZj0wLHRoaXMuc3RlbmNpbEZ1bmNNYXNrPTI1NSx0aGlzLnN0ZW5jaWxGYWlsPUluLHRoaXMuc3RlbmNpbFpGYWlsPUluLHRoaXMuc3RlbmNpbFpQYXNzPUluLHRoaXMuc3RlbmNpbFdyaXRlPSExLHRoaXMuY2xpcHBpbmdQbGFuZXM9bnVsbCx0aGlzLmNsaXBJbnRlcnNlY3Rpb249ITEsdGhpcy5jbGlwU2hhZG93cz0hMSx0aGlzLnNoYWRvd1NpZGU9bnVsbCx0aGlzLmNvbG9yV3JpdGU9ITAsdGhpcy5wcmVjaXNpb249bnVsbCx0aGlzLnBvbHlnb25PZmZzZXQ9ITEsdGhpcy5wb2x5Z29uT2Zmc2V0RmFjdG9yPTAsdGhpcy5wb2x5Z29uT2Zmc2V0VW5pdHM9MCx0aGlzLmRpdGhlcmluZz0hMSx0aGlzLmFscGhhVG9Db3ZlcmFnZT0hMSx0aGlzLnByZW11bHRpcGxpZWRBbHBoYT0hMSx0aGlzLnZpc2libGU9ITAsdGhpcy50b25lTWFwcGVkPSEwLHRoaXMudXNlckRhdGE9e30sdGhpcy52ZXJzaW9uPTAsdGhpcy5fYWxwaGFUZXN0PTB9Z2V0IGFscGhhVGVzdCgpe3JldHVybiB0aGlzLl9hbHBoYVRlc3R9c2V0IGFscGhhVGVzdChlKXt0aGlzLl9hbHBoYVRlc3Q+MCE9ZT4wJiZ0aGlzLnZlcnNpb24rKyx0aGlzLl9hbHBoYVRlc3Q9ZX1vbkJ1aWxkKCl7fW9uQmVmb3JlUmVuZGVyKCl7fW9uQmVmb3JlQ29tcGlsZSgpe31jdXN0b21Qcm9ncmFtQ2FjaGVLZXkoKXtyZXR1cm4gdGhpcy5vbkJlZm9yZUNvbXBpbGUudG9TdHJpbmcoKX1zZXRWYWx1ZXMoZSl7aWYoZSE9PXZvaWQgMClmb3IoY29uc3QgdCBpbiBlKXtjb25zdCByPWVbdF07aWYocj09PXZvaWQgMCl7Y29uc29sZS53YXJuKCJUSFJFRS5NYXRlcmlhbDogJyIrdCsiJyBwYXJhbWV0ZXIgaXMgdW5kZWZpbmVkLiIpO2NvbnRpbnVlfWlmKHQ9PT0ic2hhZGluZyIpe2NvbnNvbGUud2FybigiVEhSRUUuIit0aGlzLnR5cGUrIjogLnNoYWRpbmcgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIHRoZSBib29sZWFuIC5mbGF0U2hhZGluZyBpbnN0ZWFkLiIpLHRoaXMuZmxhdFNoYWRpbmc9cj09PXpoO2NvbnRpbnVlfWNvbnN0IHM9dGhpc1t0XTtpZihzPT09dm9pZCAwKXtjb25zb2xlLndhcm4oIlRIUkVFLiIrdGhpcy50eXBlKyI6ICciK3QrIicgaXMgbm90IGEgcHJvcGVydHkgb2YgdGhpcyBtYXRlcmlhbC4iKTtjb250aW51ZX1zJiZzLmlzQ29sb3I/cy5zZXQocik6cyYmcy5pc1ZlY3RvcjMmJnImJnIuaXNWZWN0b3IzP3MuY29weShyKTp0aGlzW3RdPXJ9fXRvSlNPTihlKXtjb25zdCB0PWU9PT12b2lkIDB8fHR5cGVvZiBlPT0ic3RyaW5nIjt0JiYoZT17dGV4dHVyZXM6e30saW1hZ2VzOnt9fSk7Y29uc3Qgcj17bWV0YWRhdGE6e3ZlcnNpb246NC41LHR5cGU6Ik1hdGVyaWFsIixnZW5lcmF0b3I6Ik1hdGVyaWFsLnRvSlNPTiJ9fTtyLnV1aWQ9dGhpcy51dWlkLHIudHlwZT10aGlzLnR5cGUsdGhpcy5uYW1lIT09IiImJihyLm5hbWU9dGhpcy5uYW1lKSx0aGlzLmNvbG9yJiZ0aGlzLmNvbG9yLmlzQ29sb3ImJihyLmNvbG9yPXRoaXMuY29sb3IuZ2V0SGV4KCkpLHRoaXMucm91Z2huZXNzIT09dm9pZCAwJiYoci5yb3VnaG5lc3M9dGhpcy5yb3VnaG5lc3MpLHRoaXMubWV0YWxuZXNzIT09dm9pZCAwJiYoci5tZXRhbG5lc3M9dGhpcy5tZXRhbG5lc3MpLHRoaXMuc2hlZW4hPT12b2lkIDAmJihyLnNoZWVuPXRoaXMuc2hlZW4pLHRoaXMuc2hlZW5Db2xvciYmdGhpcy5zaGVlbkNvbG9yLmlzQ29sb3ImJihyLnNoZWVuQ29sb3I9dGhpcy5zaGVlbkNvbG9yLmdldEhleCgpKSx0aGlzLnNoZWVuUm91Z2huZXNzIT09dm9pZCAwJiYoci5zaGVlblJvdWdobmVzcz10aGlzLnNoZWVuUm91Z2huZXNzKSx0aGlzLmVtaXNzaXZlJiZ0aGlzLmVtaXNzaXZlLmlzQ29sb3ImJihyLmVtaXNzaXZlPXRoaXMuZW1pc3NpdmUuZ2V0SGV4KCkpLHRoaXMuZW1pc3NpdmVJbnRlbnNpdHkmJnRoaXMuZW1pc3NpdmVJbnRlbnNpdHkhPT0xJiYoci5lbWlzc2l2ZUludGVuc2l0eT10aGlzLmVtaXNzaXZlSW50ZW5zaXR5KSx0aGlzLnNwZWN1bGFyJiZ0aGlzLnNwZWN1bGFyLmlzQ29sb3ImJihyLnNwZWN1bGFyPXRoaXMuc3BlY3VsYXIuZ2V0SGV4KCkpLHRoaXMuc3BlY3VsYXJJbnRlbnNpdHkhPT12b2lkIDAmJihyLnNwZWN1bGFySW50ZW5zaXR5PXRoaXMuc3BlY3VsYXJJbnRlbnNpdHkpLHRoaXMuc3BlY3VsYXJDb2xvciYmdGhpcy5zcGVjdWxhckNvbG9yLmlzQ29sb3ImJihyLnNwZWN1bGFyQ29sb3I9dGhpcy5zcGVjdWxhckNvbG9yLmdldEhleCgpKSx0aGlzLnNoaW5pbmVzcyE9PXZvaWQgMCYmKHIuc2hpbmluZXNzPXRoaXMuc2hpbmluZXNzKSx0aGlzLmNsZWFyY29hdCE9PXZvaWQgMCYmKHIuY2xlYXJjb2F0PXRoaXMuY2xlYXJjb2F0KSx0aGlzLmNsZWFyY29hdFJvdWdobmVzcyE9PXZvaWQgMCYmKHIuY2xlYXJjb2F0Um91Z2huZXNzPXRoaXMuY2xlYXJjb2F0Um91Z2huZXNzKSx0aGlzLmNsZWFyY29hdE1hcCYmdGhpcy5jbGVhcmNvYXRNYXAuaXNUZXh0dXJlJiYoci5jbGVhcmNvYXRNYXA9dGhpcy5jbGVhcmNvYXRNYXAudG9KU09OKGUpLnV1aWQpLHRoaXMuY2xlYXJjb2F0Um91Z2huZXNzTWFwJiZ0aGlzLmNsZWFyY29hdFJvdWdobmVzc01hcC5pc1RleHR1cmUmJihyLmNsZWFyY29hdFJvdWdobmVzc01hcD10aGlzLmNsZWFyY29hdFJvdWdobmVzc01hcC50b0pTT04oZSkudXVpZCksdGhpcy5jbGVhcmNvYXROb3JtYWxNYXAmJnRoaXMuY2xlYXJjb2F0Tm9ybWFsTWFwLmlzVGV4dHVyZSYmKHIuY2xlYXJjb2F0Tm9ybWFsTWFwPXRoaXMuY2xlYXJjb2F0Tm9ybWFsTWFwLnRvSlNPTihlKS51dWlkLHIuY2xlYXJjb2F0Tm9ybWFsU2NhbGU9dGhpcy5jbGVhcmNvYXROb3JtYWxTY2FsZS50b0FycmF5KCkpLHRoaXMubWFwJiZ0aGlzLm1hcC5pc1RleHR1cmUmJihyLm1hcD10aGlzLm1hcC50b0pTT04oZSkudXVpZCksdGhpcy5tYXRjYXAmJnRoaXMubWF0Y2FwLmlzVGV4dHVyZSYmKHIubWF0Y2FwPXRoaXMubWF0Y2FwLnRvSlNPTihlKS51dWlkKSx0aGlzLmFscGhhTWFwJiZ0aGlzLmFscGhhTWFwLmlzVGV4dHVyZSYmKHIuYWxwaGFNYXA9dGhpcy5hbHBoYU1hcC50b0pTT04oZSkudXVpZCksdGhpcy5saWdodE1hcCYmdGhpcy5saWdodE1hcC5pc1RleHR1cmUmJihyLmxpZ2h0TWFwPXRoaXMubGlnaHRNYXAudG9KU09OKGUpLnV1aWQsci5saWdodE1hcEludGVuc2l0eT10aGlzLmxpZ2h0TWFwSW50ZW5zaXR5KSx0aGlzLmFvTWFwJiZ0aGlzLmFvTWFwLmlzVGV4dHVyZSYmKHIuYW9NYXA9dGhpcy5hb01hcC50b0pTT04oZSkudXVpZCxyLmFvTWFwSW50ZW5zaXR5PXRoaXMuYW9NYXBJbnRlbnNpdHkpLHRoaXMuYnVtcE1hcCYmdGhpcy5idW1wTWFwLmlzVGV4dHVyZSYmKHIuYnVtcE1hcD10aGlzLmJ1bXBNYXAudG9KU09OKGUpLnV1aWQsci5idW1wU2NhbGU9dGhpcy5idW1wU2NhbGUpLHRoaXMubm9ybWFsTWFwJiZ0aGlzLm5vcm1hbE1hcC5pc1RleHR1cmUmJihyLm5vcm1hbE1hcD10aGlzLm5vcm1hbE1hcC50b0pTT04oZSkudXVpZCxyLm5vcm1hbE1hcFR5cGU9dGhpcy5ub3JtYWxNYXBUeXBlLHIubm9ybWFsU2NhbGU9dGhpcy5ub3JtYWxTY2FsZS50b0FycmF5KCkpLHRoaXMuZGlzcGxhY2VtZW50TWFwJiZ0aGlzLmRpc3BsYWNlbWVudE1hcC5pc1RleHR1cmUmJihyLmRpc3BsYWNlbWVudE1hcD10aGlzLmRpc3BsYWNlbWVudE1hcC50b0pTT04oZSkudXVpZCxyLmRpc3BsYWNlbWVudFNjYWxlPXRoaXMuZGlzcGxhY2VtZW50U2NhbGUsci5kaXNwbGFjZW1lbnRCaWFzPXRoaXMuZGlzcGxhY2VtZW50QmlhcyksdGhpcy5yb3VnaG5lc3NNYXAmJnRoaXMucm91Z2huZXNzTWFwLmlzVGV4dHVyZSYmKHIucm91Z2huZXNzTWFwPXRoaXMucm91Z2huZXNzTWFwLnRvSlNPTihlKS51dWlkKSx0aGlzLm1ldGFsbmVzc01hcCYmdGhpcy5tZXRhbG5lc3NNYXAuaXNUZXh0dXJlJiYoci5tZXRhbG5lc3NNYXA9dGhpcy5tZXRhbG5lc3NNYXAudG9KU09OKGUpLnV1aWQpLHRoaXMuZW1pc3NpdmVNYXAmJnRoaXMuZW1pc3NpdmVNYXAuaXNUZXh0dXJlJiYoci5lbWlzc2l2ZU1hcD10aGlzLmVtaXNzaXZlTWFwLnRvSlNPTihlKS51dWlkKSx0aGlzLnNwZWN1bGFyTWFwJiZ0aGlzLnNwZWN1bGFyTWFwLmlzVGV4dHVyZSYmKHIuc3BlY3VsYXJNYXA9dGhpcy5zcGVjdWxhck1hcC50b0pTT04oZSkudXVpZCksdGhpcy5zcGVjdWxhckludGVuc2l0eU1hcCYmdGhpcy5zcGVjdWxhckludGVuc2l0eU1hcC5pc1RleHR1cmUmJihyLnNwZWN1bGFySW50ZW5zaXR5TWFwPXRoaXMuc3BlY3VsYXJJbnRlbnNpdHlNYXAudG9KU09OKGUpLnV1aWQpLHRoaXMuc3BlY3VsYXJDb2xvck1hcCYmdGhpcy5zcGVjdWxhckNvbG9yTWFwLmlzVGV4dHVyZSYmKHIuc3BlY3VsYXJDb2xvck1hcD10aGlzLnNwZWN1bGFyQ29sb3JNYXAudG9KU09OKGUpLnV1aWQpLHRoaXMuZW52TWFwJiZ0aGlzLmVudk1hcC5pc1RleHR1cmUmJihyLmVudk1hcD10aGlzLmVudk1hcC50b0pTT04oZSkudXVpZCx0aGlzLmNvbWJpbmUhPT12b2lkIDAmJihyLmNvbWJpbmU9dGhpcy5jb21iaW5lKSksdGhpcy5lbnZNYXBJbnRlbnNpdHkhPT12b2lkIDAmJihyLmVudk1hcEludGVuc2l0eT10aGlzLmVudk1hcEludGVuc2l0eSksdGhpcy5yZWZsZWN0aXZpdHkhPT12b2lkIDAmJihyLnJlZmxlY3Rpdml0eT10aGlzLnJlZmxlY3Rpdml0eSksdGhpcy5yZWZyYWN0aW9uUmF0aW8hPT12b2lkIDAmJihyLnJlZnJhY3Rpb25SYXRpbz10aGlzLnJlZnJhY3Rpb25SYXRpbyksdGhpcy5ncmFkaWVudE1hcCYmdGhpcy5ncmFkaWVudE1hcC5pc1RleHR1cmUmJihyLmdyYWRpZW50TWFwPXRoaXMuZ3JhZGllbnRNYXAudG9KU09OKGUpLnV1aWQpLHRoaXMudHJhbnNtaXNzaW9uIT09dm9pZCAwJiYoci50cmFuc21pc3Npb249dGhpcy50cmFuc21pc3Npb24pLHRoaXMudHJhbnNtaXNzaW9uTWFwJiZ0aGlzLnRyYW5zbWlzc2lvbk1hcC5pc1RleHR1cmUmJihyLnRyYW5zbWlzc2lvbk1hcD10aGlzLnRyYW5zbWlzc2lvbk1hcC50b0pTT04oZSkudXVpZCksdGhpcy50aGlja25lc3MhPT12b2lkIDAmJihyLnRoaWNrbmVzcz10aGlzLnRoaWNrbmVzcyksdGhpcy50aGlja25lc3NNYXAmJnRoaXMudGhpY2tuZXNzTWFwLmlzVGV4dHVyZSYmKHIudGhpY2tuZXNzTWFwPXRoaXMudGhpY2tuZXNzTWFwLnRvSlNPTihlKS51dWlkKSx0aGlzLmF0dGVudWF0aW9uRGlzdGFuY2UhPT12b2lkIDAmJihyLmF0dGVudWF0aW9uRGlzdGFuY2U9dGhpcy5hdHRlbnVhdGlvbkRpc3RhbmNlKSx0aGlzLmF0dGVudWF0aW9uQ29sb3IhPT12b2lkIDAmJihyLmF0dGVudWF0aW9uQ29sb3I9dGhpcy5hdHRlbnVhdGlvbkNvbG9yLmdldEhleCgpKSx0aGlzLnNpemUhPT12b2lkIDAmJihyLnNpemU9dGhpcy5zaXplKSx0aGlzLnNoYWRvd1NpZGUhPT1udWxsJiYoci5zaGFkb3dTaWRlPXRoaXMuc2hhZG93U2lkZSksdGhpcy5zaXplQXR0ZW51YXRpb24hPT12b2lkIDAmJihyLnNpemVBdHRlbnVhdGlvbj10aGlzLnNpemVBdHRlbnVhdGlvbiksdGhpcy5ibGVuZGluZyE9PXlyJiYoci5ibGVuZGluZz10aGlzLmJsZW5kaW5nKSx0aGlzLnNpZGUhPT13cyYmKHIuc2lkZT10aGlzLnNpZGUpLHRoaXMudmVydGV4Q29sb3JzJiYoci52ZXJ0ZXhDb2xvcnM9ITApLHRoaXMub3BhY2l0eTwxJiYoci5vcGFjaXR5PXRoaXMub3BhY2l0eSksdGhpcy50cmFuc3BhcmVudD09PSEwJiYoci50cmFuc3BhcmVudD10aGlzLnRyYW5zcGFyZW50KSxyLmRlcHRoRnVuYz10aGlzLmRlcHRoRnVuYyxyLmRlcHRoVGVzdD10aGlzLmRlcHRoVGVzdCxyLmRlcHRoV3JpdGU9dGhpcy5kZXB0aFdyaXRlLHIuY29sb3JXcml0ZT10aGlzLmNvbG9yV3JpdGUsci5zdGVuY2lsV3JpdGU9dGhpcy5zdGVuY2lsV3JpdGUsci5zdGVuY2lsV3JpdGVNYXNrPXRoaXMuc3RlbmNpbFdyaXRlTWFzayxyLnN0ZW5jaWxGdW5jPXRoaXMuc3RlbmNpbEZ1bmMsci5zdGVuY2lsUmVmPXRoaXMuc3RlbmNpbFJlZixyLnN0ZW5jaWxGdW5jTWFzaz10aGlzLnN0ZW5jaWxGdW5jTWFzayxyLnN0ZW5jaWxGYWlsPXRoaXMuc3RlbmNpbEZhaWwsci5zdGVuY2lsWkZhaWw9dGhpcy5zdGVuY2lsWkZhaWwsci5zdGVuY2lsWlBhc3M9dGhpcy5zdGVuY2lsWlBhc3MsdGhpcy5yb3RhdGlvbiE9PXZvaWQgMCYmdGhpcy5yb3RhdGlvbiE9PTAmJihyLnJvdGF0aW9uPXRoaXMucm90YXRpb24pLHRoaXMucG9seWdvbk9mZnNldD09PSEwJiYoci5wb2x5Z29uT2Zmc2V0PSEwKSx0aGlzLnBvbHlnb25PZmZzZXRGYWN0b3IhPT0wJiYoci5wb2x5Z29uT2Zmc2V0RmFjdG9yPXRoaXMucG9seWdvbk9mZnNldEZhY3RvciksdGhpcy5wb2x5Z29uT2Zmc2V0VW5pdHMhPT0wJiYoci5wb2x5Z29uT2Zmc2V0VW5pdHM9dGhpcy5wb2x5Z29uT2Zmc2V0VW5pdHMpLHRoaXMubGluZXdpZHRoIT09dm9pZCAwJiZ0aGlzLmxpbmV3aWR0aCE9PTEmJihyLmxpbmV3aWR0aD10aGlzLmxpbmV3aWR0aCksdGhpcy5kYXNoU2l6ZSE9PXZvaWQgMCYmKHIuZGFzaFNpemU9dGhpcy5kYXNoU2l6ZSksdGhpcy5nYXBTaXplIT09dm9pZCAwJiYoci5nYXBTaXplPXRoaXMuZ2FwU2l6ZSksdGhpcy5zY2FsZSE9PXZvaWQgMCYmKHIuc2NhbGU9dGhpcy5zY2FsZSksdGhpcy5kaXRoZXJpbmc9PT0hMCYmKHIuZGl0aGVyaW5nPSEwKSx0aGlzLmFscGhhVGVzdD4wJiYoci5hbHBoYVRlc3Q9dGhpcy5hbHBoYVRlc3QpLHRoaXMuYWxwaGFUb0NvdmVyYWdlPT09ITAmJihyLmFscGhhVG9Db3ZlcmFnZT10aGlzLmFscGhhVG9Db3ZlcmFnZSksdGhpcy5wcmVtdWx0aXBsaWVkQWxwaGE9PT0hMCYmKHIucHJlbXVsdGlwbGllZEFscGhhPXRoaXMucHJlbXVsdGlwbGllZEFscGhhKSx0aGlzLndpcmVmcmFtZT09PSEwJiYoci53aXJlZnJhbWU9dGhpcy53aXJlZnJhbWUpLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPjEmJihyLndpcmVmcmFtZUxpbmV3aWR0aD10aGlzLndpcmVmcmFtZUxpbmV3aWR0aCksdGhpcy53aXJlZnJhbWVMaW5lY2FwIT09InJvdW5kIiYmKHIud2lyZWZyYW1lTGluZWNhcD10aGlzLndpcmVmcmFtZUxpbmVjYXApLHRoaXMud2lyZWZyYW1lTGluZWpvaW4hPT0icm91bmQiJiYoci53aXJlZnJhbWVMaW5lam9pbj10aGlzLndpcmVmcmFtZUxpbmVqb2luKSx0aGlzLmZsYXRTaGFkaW5nPT09ITAmJihyLmZsYXRTaGFkaW5nPXRoaXMuZmxhdFNoYWRpbmcpLHRoaXMudmlzaWJsZT09PSExJiYoci52aXNpYmxlPSExKSx0aGlzLnRvbmVNYXBwZWQ9PT0hMSYmKHIudG9uZU1hcHBlZD0hMSksSlNPTi5zdHJpbmdpZnkodGhpcy51c2VyRGF0YSkhPT0ie30iJiYoci51c2VyRGF0YT10aGlzLnVzZXJEYXRhKTtmdW5jdGlvbiBzKGEpe2NvbnN0IG49W107Zm9yKGNvbnN0IG8gaW4gYSl7Y29uc3QgaD1hW29dO2RlbGV0ZSBoLm1ldGFkYXRhLG4ucHVzaChoKX1yZXR1cm4gbn1pZih0KXtjb25zdCBhPXMoZS50ZXh0dXJlcyksbj1zKGUuaW1hZ2VzKTthLmxlbmd0aD4wJiYoci50ZXh0dXJlcz1hKSxuLmxlbmd0aD4wJiYoci5pbWFnZXM9bil9cmV0dXJuIHJ9Y2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoKS5jb3B5KHRoaXMpfWNvcHkoZSl7dGhpcy5uYW1lPWUubmFtZSx0aGlzLmZvZz1lLmZvZyx0aGlzLmJsZW5kaW5nPWUuYmxlbmRpbmcsdGhpcy5zaWRlPWUuc2lkZSx0aGlzLnZlcnRleENvbG9ycz1lLnZlcnRleENvbG9ycyx0aGlzLm9wYWNpdHk9ZS5vcGFjaXR5LHRoaXMudHJhbnNwYXJlbnQ9ZS50cmFuc3BhcmVudCx0aGlzLmJsZW5kU3JjPWUuYmxlbmRTcmMsdGhpcy5ibGVuZERzdD1lLmJsZW5kRHN0LHRoaXMuYmxlbmRFcXVhdGlvbj1lLmJsZW5kRXF1YXRpb24sdGhpcy5ibGVuZFNyY0FscGhhPWUuYmxlbmRTcmNBbHBoYSx0aGlzLmJsZW5kRHN0QWxwaGE9ZS5ibGVuZERzdEFscGhhLHRoaXMuYmxlbmRFcXVhdGlvbkFscGhhPWUuYmxlbmRFcXVhdGlvbkFscGhhLHRoaXMuZGVwdGhGdW5jPWUuZGVwdGhGdW5jLHRoaXMuZGVwdGhUZXN0PWUuZGVwdGhUZXN0LHRoaXMuZGVwdGhXcml0ZT1lLmRlcHRoV3JpdGUsdGhpcy5zdGVuY2lsV3JpdGVNYXNrPWUuc3RlbmNpbFdyaXRlTWFzayx0aGlzLnN0ZW5jaWxGdW5jPWUuc3RlbmNpbEZ1bmMsdGhpcy5zdGVuY2lsUmVmPWUuc3RlbmNpbFJlZix0aGlzLnN0ZW5jaWxGdW5jTWFzaz1lLnN0ZW5jaWxGdW5jTWFzayx0aGlzLnN0ZW5jaWxGYWlsPWUuc3RlbmNpbEZhaWwsdGhpcy5zdGVuY2lsWkZhaWw9ZS5zdGVuY2lsWkZhaWwsdGhpcy5zdGVuY2lsWlBhc3M9ZS5zdGVuY2lsWlBhc3MsdGhpcy5zdGVuY2lsV3JpdGU9ZS5zdGVuY2lsV3JpdGU7Y29uc3QgdD1lLmNsaXBwaW5nUGxhbmVzO2xldCByPW51bGw7aWYodCE9PW51bGwpe2NvbnN0IHM9dC5sZW5ndGg7cj1uZXcgQXJyYXkocyk7Zm9yKGxldCBhPTA7YSE9PXM7KythKXJbYV09dFthXS5jbG9uZSgpfXJldHVybiB0aGlzLmNsaXBwaW5nUGxhbmVzPXIsdGhpcy5jbGlwSW50ZXJzZWN0aW9uPWUuY2xpcEludGVyc2VjdGlvbix0aGlzLmNsaXBTaGFkb3dzPWUuY2xpcFNoYWRvd3MsdGhpcy5zaGFkb3dTaWRlPWUuc2hhZG93U2lkZSx0aGlzLmNvbG9yV3JpdGU9ZS5jb2xvcldyaXRlLHRoaXMucHJlY2lzaW9uPWUucHJlY2lzaW9uLHRoaXMucG9seWdvbk9mZnNldD1lLnBvbHlnb25PZmZzZXQsdGhpcy5wb2x5Z29uT2Zmc2V0RmFjdG9yPWUucG9seWdvbk9mZnNldEZhY3Rvcix0aGlzLnBvbHlnb25PZmZzZXRVbml0cz1lLnBvbHlnb25PZmZzZXRVbml0cyx0aGlzLmRpdGhlcmluZz1lLmRpdGhlcmluZyx0aGlzLmFscGhhVGVzdD1lLmFscGhhVGVzdCx0aGlzLmFscGhhVG9Db3ZlcmFnZT1lLmFscGhhVG9Db3ZlcmFnZSx0aGlzLnByZW11bHRpcGxpZWRBbHBoYT1lLnByZW11bHRpcGxpZWRBbHBoYSx0aGlzLnZpc2libGU9ZS52aXNpYmxlLHRoaXMudG9uZU1hcHBlZD1lLnRvbmVNYXBwZWQsdGhpcy51c2VyRGF0YT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUudXNlckRhdGEpKSx0aGlzfWRpc3Bvc2UoKXt0aGlzLmRpc3BhdGNoRXZlbnQoe3R5cGU6ImRpc3Bvc2UifSl9c2V0IG5lZWRzVXBkYXRlKGUpe2U9PT0hMCYmdGhpcy52ZXJzaW9uKyt9fWx0LnByb3RvdHlwZS5pc01hdGVyaWFsPSEwLGx0LmZyb21UeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9O2NsYXNzIENhIGV4dGVuZHMgbHR7Y29uc3RydWN0b3IoZSl7c3VwZXIoKTt0aGlzLnR5cGU9Ik1lc2hCYXNpY01hdGVyaWFsIix0aGlzLmNvbG9yPW5ldyBnZSgxNjc3NzIxNSksdGhpcy5tYXA9bnVsbCx0aGlzLmxpZ2h0TWFwPW51bGwsdGhpcy5saWdodE1hcEludGVuc2l0eT0xLHRoaXMuYW9NYXA9bnVsbCx0aGlzLmFvTWFwSW50ZW5zaXR5PTEsdGhpcy5zcGVjdWxhck1hcD1udWxsLHRoaXMuYWxwaGFNYXA9bnVsbCx0aGlzLmVudk1hcD1udWxsLHRoaXMuY29tYmluZT1sYSx0aGlzLnJlZmxlY3Rpdml0eT0xLHRoaXMucmVmcmFjdGlvblJhdGlvPS45OCx0aGlzLndpcmVmcmFtZT0hMSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD0xLHRoaXMud2lyZWZyYW1lTGluZWNhcD0icm91bmQiLHRoaXMud2lyZWZyYW1lTGluZWpvaW49InJvdW5kIix0aGlzLnNldFZhbHVlcyhlKX1jb3B5KGUpe3JldHVybiBzdXBlci5jb3B5KGUpLHRoaXMuY29sb3IuY29weShlLmNvbG9yKSx0aGlzLm1hcD1lLm1hcCx0aGlzLmxpZ2h0TWFwPWUubGlnaHRNYXAsdGhpcy5saWdodE1hcEludGVuc2l0eT1lLmxpZ2h0TWFwSW50ZW5zaXR5LHRoaXMuYW9NYXA9ZS5hb01hcCx0aGlzLmFvTWFwSW50ZW5zaXR5PWUuYW9NYXBJbnRlbnNpdHksdGhpcy5zcGVjdWxhck1hcD1lLnNwZWN1bGFyTWFwLHRoaXMuYWxwaGFNYXA9ZS5hbHBoYU1hcCx0aGlzLmVudk1hcD1lLmVudk1hcCx0aGlzLmNvbWJpbmU9ZS5jb21iaW5lLHRoaXMucmVmbGVjdGl2aXR5PWUucmVmbGVjdGl2aXR5LHRoaXMucmVmcmFjdGlvblJhdGlvPWUucmVmcmFjdGlvblJhdGlvLHRoaXMud2lyZWZyYW1lPWUud2lyZWZyYW1lLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPWUud2lyZWZyYW1lTGluZXdpZHRoLHRoaXMud2lyZWZyYW1lTGluZWNhcD1lLndpcmVmcmFtZUxpbmVjYXAsdGhpcy53aXJlZnJhbWVMaW5lam9pbj1lLndpcmVmcmFtZUxpbmVqb2luLHRoaXN9fUNhLnByb3RvdHlwZS5pc01lc2hCYXNpY01hdGVyaWFsPSEwO2NvbnN0IG50PW5ldyBFLExhPW5ldyBlZTtjbGFzcyBjdHtjb25zdHJ1Y3RvcihlLHQscil7aWYoQXJyYXkuaXNBcnJheShlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJUSFJFRS5CdWZmZXJBdHRyaWJ1dGU6IGFycmF5IHNob3VsZCBiZSBhIFR5cGVkIEFycmF5LiIpO3RoaXMubmFtZT0iIix0aGlzLmFycmF5PWUsdGhpcy5pdGVtU2l6ZT10LHRoaXMuY291bnQ9ZSE9PXZvaWQgMD9lLmxlbmd0aC90OjAsdGhpcy5ub3JtYWxpemVkPXI9PT0hMCx0aGlzLnVzYWdlPUVzLHRoaXMudXBkYXRlUmFuZ2U9e29mZnNldDowLGNvdW50Oi0xfSx0aGlzLnZlcnNpb249MH1vblVwbG9hZENhbGxiYWNrKCl7fXNldCBuZWVkc1VwZGF0ZShlKXtlPT09ITAmJnRoaXMudmVyc2lvbisrfXNldFVzYWdlKGUpe3JldHVybiB0aGlzLnVzYWdlPWUsdGhpc31jb3B5KGUpe3JldHVybiB0aGlzLm5hbWU9ZS5uYW1lLHRoaXMuYXJyYXk9bmV3IGUuYXJyYXkuY29uc3RydWN0b3IoZS5hcnJheSksdGhpcy5pdGVtU2l6ZT1lLml0ZW1TaXplLHRoaXMuY291bnQ9ZS5jb3VudCx0aGlzLm5vcm1hbGl6ZWQ9ZS5ub3JtYWxpemVkLHRoaXMudXNhZ2U9ZS51c2FnZSx0aGlzfWNvcHlBdChlLHQscil7ZSo9dGhpcy5pdGVtU2l6ZSxyKj10Lml0ZW1TaXplO2ZvcihsZXQgcz0wLGE9dGhpcy5pdGVtU2l6ZTtzPGE7cysrKXRoaXMuYXJyYXlbZStzXT10LmFycmF5W3Irc107cmV0dXJuIHRoaXN9Y29weUFycmF5KGUpe3JldHVybiB0aGlzLmFycmF5LnNldChlKSx0aGlzfWNvcHlDb2xvcnNBcnJheShlKXtjb25zdCB0PXRoaXMuYXJyYXk7bGV0IHI9MDtmb3IobGV0IHM9MCxhPWUubGVuZ3RoO3M8YTtzKyspe2xldCBuPWVbc107bj09PXZvaWQgMCYmKGNvbnNvbGUud2FybigiVEhSRUUuQnVmZmVyQXR0cmlidXRlLmNvcHlDb2xvcnNBcnJheSgpOiBjb2xvciBpcyB1bmRlZmluZWQiLHMpLG49bmV3IGdlKSx0W3IrK109bi5yLHRbcisrXT1uLmcsdFtyKytdPW4uYn1yZXR1cm4gdGhpc31jb3B5VmVjdG9yMnNBcnJheShlKXtjb25zdCB0PXRoaXMuYXJyYXk7bGV0IHI9MDtmb3IobGV0IHM9MCxhPWUubGVuZ3RoO3M8YTtzKyspe2xldCBuPWVbc107bj09PXZvaWQgMCYmKGNvbnNvbGUud2FybigiVEhSRUUuQnVmZmVyQXR0cmlidXRlLmNvcHlWZWN0b3Iyc0FycmF5KCk6IHZlY3RvciBpcyB1bmRlZmluZWQiLHMpLG49bmV3IGVlKSx0W3IrK109bi54LHRbcisrXT1uLnl9cmV0dXJuIHRoaXN9Y29weVZlY3RvcjNzQXJyYXkoZSl7Y29uc3QgdD10aGlzLmFycmF5O2xldCByPTA7Zm9yKGxldCBzPTAsYT1lLmxlbmd0aDtzPGE7cysrKXtsZXQgbj1lW3NdO249PT12b2lkIDAmJihjb25zb2xlLndhcm4oIlRIUkVFLkJ1ZmZlckF0dHJpYnV0ZS5jb3B5VmVjdG9yM3NBcnJheSgpOiB2ZWN0b3IgaXMgdW5kZWZpbmVkIixzKSxuPW5ldyBFKSx0W3IrK109bi54LHRbcisrXT1uLnksdFtyKytdPW4uen1yZXR1cm4gdGhpc31jb3B5VmVjdG9yNHNBcnJheShlKXtjb25zdCB0PXRoaXMuYXJyYXk7bGV0IHI9MDtmb3IobGV0IHM9MCxhPWUubGVuZ3RoO3M8YTtzKyspe2xldCBuPWVbc107bj09PXZvaWQgMCYmKGNvbnNvbGUud2FybigiVEhSRUUuQnVmZmVyQXR0cmlidXRlLmNvcHlWZWN0b3I0c0FycmF5KCk6IHZlY3RvciBpcyB1bmRlZmluZWQiLHMpLG49bmV3IFhlKSx0W3IrK109bi54LHRbcisrXT1uLnksdFtyKytdPW4ueix0W3IrK109bi53fXJldHVybiB0aGlzfWFwcGx5TWF0cml4MyhlKXtpZih0aGlzLml0ZW1TaXplPT09Milmb3IobGV0IHQ9MCxyPXRoaXMuY291bnQ7dDxyO3QrKylMYS5mcm9tQnVmZmVyQXR0cmlidXRlKHRoaXMsdCksTGEuYXBwbHlNYXRyaXgzKGUpLHRoaXMuc2V0WFkodCxMYS54LExhLnkpO2Vsc2UgaWYodGhpcy5pdGVtU2l6ZT09PTMpZm9yKGxldCB0PTAscj10aGlzLmNvdW50O3Q8cjt0KyspbnQuZnJvbUJ1ZmZlckF0dHJpYnV0ZSh0aGlzLHQpLG50LmFwcGx5TWF0cml4MyhlKSx0aGlzLnNldFhZWih0LG50LngsbnQueSxudC56KTtyZXR1cm4gdGhpc31hcHBseU1hdHJpeDQoZSl7Zm9yKGxldCB0PTAscj10aGlzLmNvdW50O3Q8cjt0KyspbnQuZnJvbUJ1ZmZlckF0dHJpYnV0ZSh0aGlzLHQpLG50LmFwcGx5TWF0cml4NChlKSx0aGlzLnNldFhZWih0LG50LngsbnQueSxudC56KTtyZXR1cm4gdGhpc31hcHBseU5vcm1hbE1hdHJpeChlKXtmb3IobGV0IHQ9MCxyPXRoaXMuY291bnQ7dDxyO3QrKyludC5mcm9tQnVmZmVyQXR0cmlidXRlKHRoaXMsdCksbnQuYXBwbHlOb3JtYWxNYXRyaXgoZSksdGhpcy5zZXRYWVoodCxudC54LG50LnksbnQueik7cmV0dXJuIHRoaXN9dHJhbnNmb3JtRGlyZWN0aW9uKGUpe2ZvcihsZXQgdD0wLHI9dGhpcy5jb3VudDt0PHI7dCsrKW50LmZyb21CdWZmZXJBdHRyaWJ1dGUodGhpcyx0KSxudC50cmFuc2Zvcm1EaXJlY3Rpb24oZSksdGhpcy5zZXRYWVoodCxudC54LG50LnksbnQueik7cmV0dXJuIHRoaXN9c2V0KGUsdD0wKXtyZXR1cm4gdGhpcy5hcnJheS5zZXQoZSx0KSx0aGlzfWdldFgoZSl7cmV0dXJuIHRoaXMuYXJyYXlbZSp0aGlzLml0ZW1TaXplXX1zZXRYKGUsdCl7cmV0dXJuIHRoaXMuYXJyYXlbZSp0aGlzLml0ZW1TaXplXT10LHRoaXN9Z2V0WShlKXtyZXR1cm4gdGhpcy5hcnJheVtlKnRoaXMuaXRlbVNpemUrMV19c2V0WShlLHQpe3JldHVybiB0aGlzLmFycmF5W2UqdGhpcy5pdGVtU2l6ZSsxXT10LHRoaXN9Z2V0WihlKXtyZXR1cm4gdGhpcy5hcnJheVtlKnRoaXMuaXRlbVNpemUrMl19c2V0WihlLHQpe3JldHVybiB0aGlzLmFycmF5W2UqdGhpcy5pdGVtU2l6ZSsyXT10LHRoaXN9Z2V0VyhlKXtyZXR1cm4gdGhpcy5hcnJheVtlKnRoaXMuaXRlbVNpemUrM119c2V0VyhlLHQpe3JldHVybiB0aGlzLmFycmF5W2UqdGhpcy5pdGVtU2l6ZSszXT10LHRoaXN9c2V0WFkoZSx0LHIpe3JldHVybiBlKj10aGlzLml0ZW1TaXplLHRoaXMuYXJyYXlbZSswXT10LHRoaXMuYXJyYXlbZSsxXT1yLHRoaXN9c2V0WFlaKGUsdCxyLHMpe3JldHVybiBlKj10aGlzLml0ZW1TaXplLHRoaXMuYXJyYXlbZSswXT10LHRoaXMuYXJyYXlbZSsxXT1yLHRoaXMuYXJyYXlbZSsyXT1zLHRoaXN9c2V0WFlaVyhlLHQscixzLGEpe3JldHVybiBlKj10aGlzLml0ZW1TaXplLHRoaXMuYXJyYXlbZSswXT10LHRoaXMuYXJyYXlbZSsxXT1yLHRoaXMuYXJyYXlbZSsyXT1zLHRoaXMuYXJyYXlbZSszXT1hLHRoaXN9b25VcGxvYWQoZSl7cmV0dXJuIHRoaXMub25VcGxvYWRDYWxsYmFjaz1lLHRoaXN9Y2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5hcnJheSx0aGlzLml0ZW1TaXplKS5jb3B5KHRoaXMpfXRvSlNPTigpe2NvbnN0IGU9e2l0ZW1TaXplOnRoaXMuaXRlbVNpemUsdHlwZTp0aGlzLmFycmF5LmNvbnN0cnVjdG9yLm5hbWUsYXJyYXk6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5hcnJheSksbm9ybWFsaXplZDp0aGlzLm5vcm1hbGl6ZWR9O3JldHVybiB0aGlzLm5hbWUhPT0iIiYmKGUubmFtZT10aGlzLm5hbWUpLHRoaXMudXNhZ2UhPT1FcyYmKGUudXNhZ2U9dGhpcy51c2FnZSksKHRoaXMudXBkYXRlUmFuZ2Uub2Zmc2V0IT09MHx8dGhpcy51cGRhdGVSYW5nZS5jb3VudCE9PS0xKSYmKGUudXBkYXRlUmFuZ2U9dGhpcy51cGRhdGVSYW5nZSksZX19Y3QucHJvdG90eXBlLmlzQnVmZmVyQXR0cmlidXRlPSEwO2NsYXNzIFBsIGV4dGVuZHMgY3R7Y29uc3RydWN0b3IoZSx0LHIpe3N1cGVyKG5ldyBVaW50MTZBcnJheShlKSx0LHIpfX1jbGFzcyBJbCBleHRlbmRzIGN0e2NvbnN0cnVjdG9yKGUsdCxyKXtzdXBlcihuZXcgVWludDMyQXJyYXkoZSksdCxyKX19Y2xhc3MgbzAgZXh0ZW5kcyBjdHtjb25zdHJ1Y3RvcihlLHQscil7c3VwZXIobmV3IFVpbnQxNkFycmF5KGUpLHQscil9fW8wLnByb3RvdHlwZS5pc0Zsb2F0MTZCdWZmZXJBdHRyaWJ1dGU9ITA7Y2xhc3MgcHQgZXh0ZW5kcyBjdHtjb25zdHJ1Y3RvcihlLHQscil7c3VwZXIobmV3IEZsb2F0MzJBcnJheShlKSx0LHIpfX1sZXQgaDA9MDtjb25zdCBrdD1uZXcgX2UsJG49bmV3IGplLEhyPW5ldyBFLFV0PW5ldyBadCxMcz1uZXcgWnQsZnQ9bmV3IEU7Y2xhc3MgJGUgZXh0ZW5kcyBRaXtjb25zdHJ1Y3Rvcigpe3N1cGVyKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsImlkIix7dmFsdWU6aDArK30pLHRoaXMudXVpZD1zaSgpLHRoaXMubmFtZT0iIix0aGlzLnR5cGU9IkJ1ZmZlckdlb21ldHJ5Iix0aGlzLmluZGV4PW51bGwsdGhpcy5hdHRyaWJ1dGVzPXt9LHRoaXMubW9ycGhBdHRyaWJ1dGVzPXt9LHRoaXMubW9ycGhUYXJnZXRzUmVsYXRpdmU9ITEsdGhpcy5ncm91cHM9W10sdGhpcy5ib3VuZGluZ0JveD1udWxsLHRoaXMuYm91bmRpbmdTcGhlcmU9bnVsbCx0aGlzLmRyYXdSYW5nZT17c3RhcnQ6MCxjb3VudDoxLzB9LHRoaXMudXNlckRhdGE9e319Z2V0SW5kZXgoKXtyZXR1cm4gdGhpcy5pbmRleH1zZXRJbmRleChlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT90aGlzLmluZGV4PW5ldyh2bChlKT9JbDpQbCkoZSwxKTp0aGlzLmluZGV4PWUsdGhpc31nZXRBdHRyaWJ1dGUoZSl7cmV0dXJuIHRoaXMuYXR0cmlidXRlc1tlXX1zZXRBdHRyaWJ1dGUoZSx0KXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzW2VdPXQsdGhpc31kZWxldGVBdHRyaWJ1dGUoZSl7cmV0dXJuIGRlbGV0ZSB0aGlzLmF0dHJpYnV0ZXNbZV0sdGhpc31oYXNBdHRyaWJ1dGUoZSl7cmV0dXJuIHRoaXMuYXR0cmlidXRlc1tlXSE9PXZvaWQgMH1hZGRHcm91cChlLHQscj0wKXt0aGlzLmdyb3Vwcy5wdXNoKHtzdGFydDplLGNvdW50OnQsbWF0ZXJpYWxJbmRleDpyfSl9Y2xlYXJHcm91cHMoKXt0aGlzLmdyb3Vwcz1bXX1zZXREcmF3UmFuZ2UoZSx0KXt0aGlzLmRyYXdSYW5nZS5zdGFydD1lLHRoaXMuZHJhd1JhbmdlLmNvdW50PXR9YXBwbHlNYXRyaXg0KGUpe2NvbnN0IHQ9dGhpcy5hdHRyaWJ1dGVzLnBvc2l0aW9uO3QhPT12b2lkIDAmJih0LmFwcGx5TWF0cml4NChlKSx0Lm5lZWRzVXBkYXRlPSEwKTtjb25zdCByPXRoaXMuYXR0cmlidXRlcy5ub3JtYWw7aWYociE9PXZvaWQgMCl7Y29uc3QgYT1uZXcgeHQoKS5nZXROb3JtYWxNYXRyaXgoZSk7ci5hcHBseU5vcm1hbE1hdHJpeChhKSxyLm5lZWRzVXBkYXRlPSEwfWNvbnN0IHM9dGhpcy5hdHRyaWJ1dGVzLnRhbmdlbnQ7cmV0dXJuIHMhPT12b2lkIDAmJihzLnRyYW5zZm9ybURpcmVjdGlvbihlKSxzLm5lZWRzVXBkYXRlPSEwKSx0aGlzLmJvdW5kaW5nQm94IT09bnVsbCYmdGhpcy5jb21wdXRlQm91bmRpbmdCb3goKSx0aGlzLmJvdW5kaW5nU3BoZXJlIT09bnVsbCYmdGhpcy5jb21wdXRlQm91bmRpbmdTcGhlcmUoKSx0aGlzfWFwcGx5UXVhdGVybmlvbihlKXtyZXR1cm4ga3QubWFrZVJvdGF0aW9uRnJvbVF1YXRlcm5pb24oZSksdGhpcy5hcHBseU1hdHJpeDQoa3QpLHRoaXN9cm90YXRlWChlKXtyZXR1cm4ga3QubWFrZVJvdGF0aW9uWChlKSx0aGlzLmFwcGx5TWF0cml4NChrdCksdGhpc31yb3RhdGVZKGUpe3JldHVybiBrdC5tYWtlUm90YXRpb25ZKGUpLHRoaXMuYXBwbHlNYXRyaXg0KGt0KSx0aGlzfXJvdGF0ZVooZSl7cmV0dXJuIGt0Lm1ha2VSb3RhdGlvblooZSksdGhpcy5hcHBseU1hdHJpeDQoa3QpLHRoaXN9dHJhbnNsYXRlKGUsdCxyKXtyZXR1cm4ga3QubWFrZVRyYW5zbGF0aW9uKGUsdCxyKSx0aGlzLmFwcGx5TWF0cml4NChrdCksdGhpc31zY2FsZShlLHQscil7cmV0dXJuIGt0Lm1ha2VTY2FsZShlLHQsciksdGhpcy5hcHBseU1hdHJpeDQoa3QpLHRoaXN9bG9va0F0KGUpe3JldHVybiAkbi5sb29rQXQoZSksJG4udXBkYXRlTWF0cml4KCksdGhpcy5hcHBseU1hdHJpeDQoJG4ubWF0cml4KSx0aGlzfWNlbnRlcigpe3JldHVybiB0aGlzLmNvbXB1dGVCb3VuZGluZ0JveCgpLHRoaXMuYm91bmRpbmdCb3guZ2V0Q2VudGVyKEhyKS5uZWdhdGUoKSx0aGlzLnRyYW5zbGF0ZShIci54LEhyLnksSHIueiksdGhpc31zZXRGcm9tUG9pbnRzKGUpe2NvbnN0IHQ9W107Zm9yKGxldCByPTAscz1lLmxlbmd0aDtyPHM7cisrKXtjb25zdCBhPWVbcl07dC5wdXNoKGEueCxhLnksYS56fHwwKX1yZXR1cm4gdGhpcy5zZXRBdHRyaWJ1dGUoInBvc2l0aW9uIixuZXcgcHQodCwzKSksdGhpc31jb21wdXRlQm91bmRpbmdCb3goKXt0aGlzLmJvdW5kaW5nQm94PT09bnVsbCYmKHRoaXMuYm91bmRpbmdCb3g9bmV3IFp0KTtjb25zdCBlPXRoaXMuYXR0cmlidXRlcy5wb3NpdGlvbix0PXRoaXMubW9ycGhBdHRyaWJ1dGVzLnBvc2l0aW9uO2lmKGUmJmUuaXNHTEJ1ZmZlckF0dHJpYnV0ZSl7Y29uc29sZS5lcnJvcignVEhSRUUuQnVmZmVyR2VvbWV0cnkuY29tcHV0ZUJvdW5kaW5nQm94KCk6IEdMQnVmZmVyQXR0cmlidXRlIHJlcXVpcmVzIGEgbWFudWFsIGJvdW5kaW5nIGJveC4gQWx0ZXJuYXRpdmVseSBzZXQgIm1lc2guZnJ1c3R1bUN1bGxlZCIgdG8gImZhbHNlIi4nLHRoaXMpLHRoaXMuYm91bmRpbmdCb3guc2V0KG5ldyBFKC0xLzAsLTEvMCwtMS8wKSxuZXcgRSgxLzAsMS8wLDEvMCkpO3JldHVybn1pZihlIT09dm9pZCAwKXtpZih0aGlzLmJvdW5kaW5nQm94LnNldEZyb21CdWZmZXJBdHRyaWJ1dGUoZSksdClmb3IobGV0IHI9MCxzPXQubGVuZ3RoO3I8cztyKyspe2NvbnN0IGE9dFtyXTtVdC5zZXRGcm9tQnVmZmVyQXR0cmlidXRlKGEpLHRoaXMubW9ycGhUYXJnZXRzUmVsYXRpdmU/KGZ0LmFkZFZlY3RvcnModGhpcy5ib3VuZGluZ0JveC5taW4sVXQubWluKSx0aGlzLmJvdW5kaW5nQm94LmV4cGFuZEJ5UG9pbnQoZnQpLGZ0LmFkZFZlY3RvcnModGhpcy5ib3VuZGluZ0JveC5tYXgsVXQubWF4KSx0aGlzLmJvdW5kaW5nQm94LmV4cGFuZEJ5UG9pbnQoZnQpKToodGhpcy5ib3VuZGluZ0JveC5leHBhbmRCeVBvaW50KFV0Lm1pbiksdGhpcy5ib3VuZGluZ0JveC5leHBhbmRCeVBvaW50KFV0Lm1heCkpfX1lbHNlIHRoaXMuYm91bmRpbmdCb3gubWFrZUVtcHR5KCk7KGlzTmFOKHRoaXMuYm91bmRpbmdCb3gubWluLngpfHxpc05hTih0aGlzLmJvdW5kaW5nQm94Lm1pbi55KXx8aXNOYU4odGhpcy5ib3VuZGluZ0JveC5taW4ueikpJiZjb25zb2xlLmVycm9yKCdUSFJFRS5CdWZmZXJHZW9tZXRyeS5jb21wdXRlQm91bmRpbmdCb3goKTogQ29tcHV0ZWQgbWluL21heCBoYXZlIE5hTiB2YWx1ZXMuIFRoZSAicG9zaXRpb24iIGF0dHJpYnV0ZSBpcyBsaWtlbHkgdG8gaGF2ZSBOYU4gdmFsdWVzLicsdGhpcyl9Y29tcHV0ZUJvdW5kaW5nU3BoZXJlKCl7dGhpcy5ib3VuZGluZ1NwaGVyZT09PW51bGwmJih0aGlzLmJvdW5kaW5nU3BoZXJlPW5ldyBEcik7Y29uc3QgZT10aGlzLmF0dHJpYnV0ZXMucG9zaXRpb24sdD10aGlzLm1vcnBoQXR0cmlidXRlcy5wb3NpdGlvbjtpZihlJiZlLmlzR0xCdWZmZXJBdHRyaWJ1dGUpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5LmNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpOiBHTEJ1ZmZlckF0dHJpYnV0ZSByZXF1aXJlcyBhIG1hbnVhbCBib3VuZGluZyBzcGhlcmUuIEFsdGVybmF0aXZlbHkgc2V0ICJtZXNoLmZydXN0dW1DdWxsZWQiIHRvICJmYWxzZSIuJyx0aGlzKSx0aGlzLmJvdW5kaW5nU3BoZXJlLnNldChuZXcgRSwxLzApO3JldHVybn1pZihlKXtjb25zdCByPXRoaXMuYm91bmRpbmdTcGhlcmUuY2VudGVyO2lmKFV0LnNldEZyb21CdWZmZXJBdHRyaWJ1dGUoZSksdClmb3IobGV0IGE9MCxuPXQubGVuZ3RoO2E8bjthKyspe2NvbnN0IG89dFthXTtMcy5zZXRGcm9tQnVmZmVyQXR0cmlidXRlKG8pLHRoaXMubW9ycGhUYXJnZXRzUmVsYXRpdmU/KGZ0LmFkZFZlY3RvcnMoVXQubWluLExzLm1pbiksVXQuZXhwYW5kQnlQb2ludChmdCksZnQuYWRkVmVjdG9ycyhVdC5tYXgsTHMubWF4KSxVdC5leHBhbmRCeVBvaW50KGZ0KSk6KFV0LmV4cGFuZEJ5UG9pbnQoTHMubWluKSxVdC5leHBhbmRCeVBvaW50KExzLm1heCkpfVV0LmdldENlbnRlcihyKTtsZXQgcz0wO2ZvcihsZXQgYT0wLG49ZS5jb3VudDthPG47YSsrKWZ0LmZyb21CdWZmZXJBdHRyaWJ1dGUoZSxhKSxzPU1hdGgubWF4KHMsci5kaXN0YW5jZVRvU3F1YXJlZChmdCkpO2lmKHQpZm9yKGxldCBhPTAsbj10Lmxlbmd0aDthPG47YSsrKXtjb25zdCBvPXRbYV0saD10aGlzLm1vcnBoVGFyZ2V0c1JlbGF0aXZlO2ZvcihsZXQgbD0wLGM9by5jb3VudDtsPGM7bCsrKWZ0LmZyb21CdWZmZXJBdHRyaWJ1dGUobyxsKSxoJiYoSHIuZnJvbUJ1ZmZlckF0dHJpYnV0ZShlLGwpLGZ0LmFkZChIcikpLHM9TWF0aC5tYXgocyxyLmRpc3RhbmNlVG9TcXVhcmVkKGZ0KSl9dGhpcy5ib3VuZGluZ1NwaGVyZS5yYWRpdXM9TWF0aC5zcXJ0KHMpLGlzTmFOKHRoaXMuYm91bmRpbmdTcGhlcmUucmFkaXVzKSYmY29uc29sZS5lcnJvcignVEhSRUUuQnVmZmVyR2VvbWV0cnkuY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCk6IENvbXB1dGVkIHJhZGl1cyBpcyBOYU4uIFRoZSAicG9zaXRpb24iIGF0dHJpYnV0ZSBpcyBsaWtlbHkgdG8gaGF2ZSBOYU4gdmFsdWVzLicsdGhpcyl9fWNvbXB1dGVUYW5nZW50cygpe2NvbnN0IGU9dGhpcy5pbmRleCx0PXRoaXMuYXR0cmlidXRlcztpZihlPT09bnVsbHx8dC5wb3NpdGlvbj09PXZvaWQgMHx8dC5ub3JtYWw9PT12b2lkIDB8fHQudXY9PT12b2lkIDApe2NvbnNvbGUuZXJyb3IoIlRIUkVFLkJ1ZmZlckdlb21ldHJ5OiAuY29tcHV0ZVRhbmdlbnRzKCkgZmFpbGVkLiBNaXNzaW5nIHJlcXVpcmVkIGF0dHJpYnV0ZXMgKGluZGV4LCBwb3NpdGlvbiwgbm9ybWFsIG9yIHV2KSIpO3JldHVybn1jb25zdCByPWUuYXJyYXkscz10LnBvc2l0aW9uLmFycmF5LGE9dC5ub3JtYWwuYXJyYXksbj10LnV2LmFycmF5LG89cy5sZW5ndGgvMzt0aGlzLmhhc0F0dHJpYnV0ZSgidGFuZ2VudCIpPT09ITEmJnRoaXMuc2V0QXR0cmlidXRlKCJ0YW5nZW50IixuZXcgY3QobmV3IEZsb2F0MzJBcnJheSg0Km8pLDQpKTtjb25zdCBoPXRoaXMuZ2V0QXR0cmlidXRlKCJ0YW5nZW50IikuYXJyYXksbD1bXSxjPVtdO2ZvcihsZXQgTz0wO088bztPKyspbFtPXT1uZXcgRSxjW09dPW5ldyBFO2NvbnN0IHU9bmV3IEUsZD1uZXcgRSxwPW5ldyBFLGc9bmV3IGVlLGY9bmV3IGVlLG09bmV3IGVlLHY9bmV3IEUseT1uZXcgRTtmdW5jdGlvbiBUKE8seCxDKXt1LmZyb21BcnJheShzLE8qMyksZC5mcm9tQXJyYXkocyx4KjMpLHAuZnJvbUFycmF5KHMsQyozKSxnLmZyb21BcnJheShuLE8qMiksZi5mcm9tQXJyYXkobix4KjIpLG0uZnJvbUFycmF5KG4sQyoyKSxkLnN1Yih1KSxwLnN1Yih1KSxmLnN1YihnKSxtLnN1YihnKTtjb25zdCBZPTEvKGYueCptLnktbS54KmYueSk7IWlzRmluaXRlKFkpfHwodi5jb3B5KGQpLm11bHRpcGx5U2NhbGFyKG0ueSkuYWRkU2NhbGVkVmVjdG9yKHAsLWYueSkubXVsdGlwbHlTY2FsYXIoWSkseS5jb3B5KHApLm11bHRpcGx5U2NhbGFyKGYueCkuYWRkU2NhbGVkVmVjdG9yKGQsLW0ueCkubXVsdGlwbHlTY2FsYXIoWSksbFtPXS5hZGQodiksbFt4XS5hZGQodiksbFtDXS5hZGQodiksY1tPXS5hZGQoeSksY1t4XS5hZGQoeSksY1tDXS5hZGQoeSkpfWxldCB3PXRoaXMuZ3JvdXBzO3cubGVuZ3RoPT09MCYmKHc9W3tzdGFydDowLGNvdW50OnIubGVuZ3RofV0pO2ZvcihsZXQgTz0wLHg9dy5sZW5ndGg7Tzx4OysrTyl7Y29uc3QgQz13W09dLFk9Qy5zdGFydCxOPUMuY291bnQ7Zm9yKGxldCBVPVksQj1ZK047VTxCO1UrPTMpVChyW1UrMF0scltVKzFdLHJbVSsyXSl9Y29uc3QgYj1uZXcgRSxMPW5ldyBFLFA9bmV3IEUsaz1uZXcgRTtmdW5jdGlvbiBpZShPKXtQLmZyb21BcnJheShhLE8qMyksay5jb3B5KFApO2NvbnN0IHg9bFtPXTtiLmNvcHkoeCksYi5zdWIoUC5tdWx0aXBseVNjYWxhcihQLmRvdCh4KSkpLm5vcm1hbGl6ZSgpLEwuY3Jvc3NWZWN0b3JzKGsseCk7Y29uc3QgQz1MLmRvdChjW09dKTwwPy0xOjE7aFtPKjRdPWIueCxoW08qNCsxXT1iLnksaFtPKjQrMl09Yi56LGhbTyo0KzNdPUN9Zm9yKGxldCBPPTAseD13Lmxlbmd0aDtPPHg7KytPKXtjb25zdCBDPXdbT10sWT1DLnN0YXJ0LE49Qy5jb3VudDtmb3IobGV0IFU9WSxCPVkrTjtVPEI7VSs9MylpZShyW1UrMF0pLGllKHJbVSsxXSksaWUocltVKzJdKX19Y29tcHV0ZVZlcnRleE5vcm1hbHMoKXtjb25zdCBlPXRoaXMuaW5kZXgsdD10aGlzLmdldEF0dHJpYnV0ZSgicG9zaXRpb24iKTtpZih0IT09dm9pZCAwKXtsZXQgcj10aGlzLmdldEF0dHJpYnV0ZSgibm9ybWFsIik7aWYocj09PXZvaWQgMClyPW5ldyBjdChuZXcgRmxvYXQzMkFycmF5KHQuY291bnQqMyksMyksdGhpcy5zZXRBdHRyaWJ1dGUoIm5vcm1hbCIscik7ZWxzZSBmb3IobGV0IGQ9MCxwPXIuY291bnQ7ZDxwO2QrKylyLnNldFhZWihkLDAsMCwwKTtjb25zdCBzPW5ldyBFLGE9bmV3IEUsbj1uZXcgRSxvPW5ldyBFLGg9bmV3IEUsbD1uZXcgRSxjPW5ldyBFLHU9bmV3IEU7aWYoZSlmb3IobGV0IGQ9MCxwPWUuY291bnQ7ZDxwO2QrPTMpe2NvbnN0IGc9ZS5nZXRYKGQrMCksZj1lLmdldFgoZCsxKSxtPWUuZ2V0WChkKzIpO3MuZnJvbUJ1ZmZlckF0dHJpYnV0ZSh0LGcpLGEuZnJvbUJ1ZmZlckF0dHJpYnV0ZSh0LGYpLG4uZnJvbUJ1ZmZlckF0dHJpYnV0ZSh0LG0pLGMuc3ViVmVjdG9ycyhuLGEpLHUuc3ViVmVjdG9ycyhzLGEpLGMuY3Jvc3ModSksby5mcm9tQnVmZmVyQXR0cmlidXRlKHIsZyksaC5mcm9tQnVmZmVyQXR0cmlidXRlKHIsZiksbC5mcm9tQnVmZmVyQXR0cmlidXRlKHIsbSksby5hZGQoYyksaC5hZGQoYyksbC5hZGQoYyksci5zZXRYWVooZyxvLngsby55LG8ueiksci5zZXRYWVooZixoLngsaC55LGgueiksci5zZXRYWVoobSxsLngsbC55LGwueil9ZWxzZSBmb3IobGV0IGQ9MCxwPXQuY291bnQ7ZDxwO2QrPTMpcy5mcm9tQnVmZmVyQXR0cmlidXRlKHQsZCswKSxhLmZyb21CdWZmZXJBdHRyaWJ1dGUodCxkKzEpLG4uZnJvbUJ1ZmZlckF0dHJpYnV0ZSh0LGQrMiksYy5zdWJWZWN0b3JzKG4sYSksdS5zdWJWZWN0b3JzKHMsYSksYy5jcm9zcyh1KSxyLnNldFhZWihkKzAsYy54LGMueSxjLnopLHIuc2V0WFlaKGQrMSxjLngsYy55LGMueiksci5zZXRYWVooZCsyLGMueCxjLnksYy56KTt0aGlzLm5vcm1hbGl6ZU5vcm1hbHMoKSxyLm5lZWRzVXBkYXRlPSEwfX1tZXJnZShlLHQpe2lmKCEoZSYmZS5pc0J1ZmZlckdlb21ldHJ5KSl7Y29uc29sZS5lcnJvcigiVEhSRUUuQnVmZmVyR2VvbWV0cnkubWVyZ2UoKTogZ2VvbWV0cnkgbm90IGFuIGluc3RhbmNlIG9mIFRIUkVFLkJ1ZmZlckdlb21ldHJ5LiIsZSk7cmV0dXJufXQ9PT12b2lkIDAmJih0PTAsY29uc29sZS53YXJuKCJUSFJFRS5CdWZmZXJHZW9tZXRyeS5tZXJnZSgpOiBPdmVyd3JpdGluZyBvcmlnaW5hbCBnZW9tZXRyeSwgc3RhcnRpbmcgYXQgb2Zmc2V0PTAuIFVzZSBCdWZmZXJHZW9tZXRyeVV0aWxzLm1lcmdlQnVmZmVyR2VvbWV0cmllcygpIGZvciBsb3NzbGVzcyBtZXJnZS4iKSk7Y29uc3Qgcj10aGlzLmF0dHJpYnV0ZXM7Zm9yKGNvbnN0IHMgaW4gcil7aWYoZS5hdHRyaWJ1dGVzW3NdPT09dm9pZCAwKWNvbnRpbnVlO2NvbnN0IGE9cltzXS5hcnJheSxuPWUuYXR0cmlidXRlc1tzXSxvPW4uYXJyYXksaD1uLml0ZW1TaXplKnQsbD1NYXRoLm1pbihvLmxlbmd0aCxhLmxlbmd0aC1oKTtmb3IobGV0IGM9MCx1PWg7YzxsO2MrKyx1KyspYVt1XT1vW2NdfXJldHVybiB0aGlzfW5vcm1hbGl6ZU5vcm1hbHMoKXtjb25zdCBlPXRoaXMuYXR0cmlidXRlcy5ub3JtYWw7Zm9yKGxldCB0PTAscj1lLmNvdW50O3Q8cjt0KyspZnQuZnJvbUJ1ZmZlckF0dHJpYnV0ZShlLHQpLGZ0Lm5vcm1hbGl6ZSgpLGUuc2V0WFlaKHQsZnQueCxmdC55LGZ0LnopfXRvTm9uSW5kZXhlZCgpe2Z1bmN0aW9uIGUobyxoKXtjb25zdCBsPW8uYXJyYXksYz1vLml0ZW1TaXplLHU9by5ub3JtYWxpemVkLGQ9bmV3IGwuY29uc3RydWN0b3IoaC5sZW5ndGgqYyk7bGV0IHA9MCxnPTA7Zm9yKGxldCBmPTAsbT1oLmxlbmd0aDtmPG07ZisrKXtvLmlzSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGU/cD1oW2ZdKm8uZGF0YS5zdHJpZGUrby5vZmZzZXQ6cD1oW2ZdKmM7Zm9yKGxldCB2PTA7djxjO3YrKylkW2crK109bFtwKytdfXJldHVybiBuZXcgY3QoZCxjLHUpfWlmKHRoaXMuaW5kZXg9PT1udWxsKXJldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkJ1ZmZlckdlb21ldHJ5LnRvTm9uSW5kZXhlZCgpOiBCdWZmZXJHZW9tZXRyeSBpcyBhbHJlYWR5IG5vbi1pbmRleGVkLiIpLHRoaXM7Y29uc3QgdD1uZXcgJGUscj10aGlzLmluZGV4LmFycmF5LHM9dGhpcy5hdHRyaWJ1dGVzO2Zvcihjb25zdCBvIGluIHMpe2NvbnN0IGg9c1tvXSxsPWUoaCxyKTt0LnNldEF0dHJpYnV0ZShvLGwpfWNvbnN0IGE9dGhpcy5tb3JwaEF0dHJpYnV0ZXM7Zm9yKGNvbnN0IG8gaW4gYSl7Y29uc3QgaD1bXSxsPWFbb107Zm9yKGxldCBjPTAsdT1sLmxlbmd0aDtjPHU7YysrKXtjb25zdCBkPWxbY10scD1lKGQscik7aC5wdXNoKHApfXQubW9ycGhBdHRyaWJ1dGVzW29dPWh9dC5tb3JwaFRhcmdldHNSZWxhdGl2ZT10aGlzLm1vcnBoVGFyZ2V0c1JlbGF0aXZlO2NvbnN0IG49dGhpcy5ncm91cHM7Zm9yKGxldCBvPTAsaD1uLmxlbmd0aDtvPGg7bysrKXtjb25zdCBsPW5bb107dC5hZGRHcm91cChsLnN0YXJ0LGwuY291bnQsbC5tYXRlcmlhbEluZGV4KX1yZXR1cm4gdH10b0pTT04oKXtjb25zdCBlPXttZXRhZGF0YTp7dmVyc2lvbjo0LjUsdHlwZToiQnVmZmVyR2VvbWV0cnkiLGdlbmVyYXRvcjoiQnVmZmVyR2VvbWV0cnkudG9KU09OIn19O2lmKGUudXVpZD10aGlzLnV1aWQsZS50eXBlPXRoaXMudHlwZSx0aGlzLm5hbWUhPT0iIiYmKGUubmFtZT10aGlzLm5hbWUpLE9iamVjdC5rZXlzKHRoaXMudXNlckRhdGEpLmxlbmd0aD4wJiYoZS51c2VyRGF0YT10aGlzLnVzZXJEYXRhKSx0aGlzLnBhcmFtZXRlcnMhPT12b2lkIDApe2NvbnN0IGg9dGhpcy5wYXJhbWV0ZXJzO2Zvcihjb25zdCBsIGluIGgpaFtsXSE9PXZvaWQgMCYmKGVbbF09aFtsXSk7cmV0dXJuIGV9ZS5kYXRhPXthdHRyaWJ1dGVzOnt9fTtjb25zdCB0PXRoaXMuaW5kZXg7dCE9PW51bGwmJihlLmRhdGEuaW5kZXg9e3R5cGU6dC5hcnJheS5jb25zdHJ1Y3Rvci5uYW1lLGFycmF5OkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQuYXJyYXkpfSk7Y29uc3Qgcj10aGlzLmF0dHJpYnV0ZXM7Zm9yKGNvbnN0IGggaW4gcil7Y29uc3QgbD1yW2hdO2UuZGF0YS5hdHRyaWJ1dGVzW2hdPWwudG9KU09OKGUuZGF0YSl9Y29uc3Qgcz17fTtsZXQgYT0hMTtmb3IoY29uc3QgaCBpbiB0aGlzLm1vcnBoQXR0cmlidXRlcyl7Y29uc3QgbD10aGlzLm1vcnBoQXR0cmlidXRlc1toXSxjPVtdO2ZvcihsZXQgdT0wLGQ9bC5sZW5ndGg7dTxkO3UrKyl7Y29uc3QgcD1sW3VdO2MucHVzaChwLnRvSlNPTihlLmRhdGEpKX1jLmxlbmd0aD4wJiYoc1toXT1jLGE9ITApfWEmJihlLmRhdGEubW9ycGhBdHRyaWJ1dGVzPXMsZS5kYXRhLm1vcnBoVGFyZ2V0c1JlbGF0aXZlPXRoaXMubW9ycGhUYXJnZXRzUmVsYXRpdmUpO2NvbnN0IG49dGhpcy5ncm91cHM7bi5sZW5ndGg+MCYmKGUuZGF0YS5ncm91cHM9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShuKSkpO2NvbnN0IG89dGhpcy5ib3VuZGluZ1NwaGVyZTtyZXR1cm4gbyE9PW51bGwmJihlLmRhdGEuYm91bmRpbmdTcGhlcmU9e2NlbnRlcjpvLmNlbnRlci50b0FycmF5KCkscmFkaXVzOm8ucmFkaXVzfSksZX1jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyl9Y29weShlKXt0aGlzLmluZGV4PW51bGwsdGhpcy5hdHRyaWJ1dGVzPXt9LHRoaXMubW9ycGhBdHRyaWJ1dGVzPXt9LHRoaXMuZ3JvdXBzPVtdLHRoaXMuYm91bmRpbmdCb3g9bnVsbCx0aGlzLmJvdW5kaW5nU3BoZXJlPW51bGw7Y29uc3QgdD17fTt0aGlzLm5hbWU9ZS5uYW1lO2NvbnN0IHI9ZS5pbmRleDtyIT09bnVsbCYmdGhpcy5zZXRJbmRleChyLmNsb25lKHQpKTtjb25zdCBzPWUuYXR0cmlidXRlcztmb3IoY29uc3QgbCBpbiBzKXtjb25zdCBjPXNbbF07dGhpcy5zZXRBdHRyaWJ1dGUobCxjLmNsb25lKHQpKX1jb25zdCBhPWUubW9ycGhBdHRyaWJ1dGVzO2Zvcihjb25zdCBsIGluIGEpe2NvbnN0IGM9W10sdT1hW2xdO2ZvcihsZXQgZD0wLHA9dS5sZW5ndGg7ZDxwO2QrKyljLnB1c2godVtkXS5jbG9uZSh0KSk7dGhpcy5tb3JwaEF0dHJpYnV0ZXNbbF09Y310aGlzLm1vcnBoVGFyZ2V0c1JlbGF0aXZlPWUubW9ycGhUYXJnZXRzUmVsYXRpdmU7Y29uc3Qgbj1lLmdyb3Vwcztmb3IobGV0IGw9MCxjPW4ubGVuZ3RoO2w8YztsKyspe2NvbnN0IHU9bltsXTt0aGlzLmFkZEdyb3VwKHUuc3RhcnQsdS5jb3VudCx1Lm1hdGVyaWFsSW5kZXgpfWNvbnN0IG89ZS5ib3VuZGluZ0JveDtvIT09bnVsbCYmKHRoaXMuYm91bmRpbmdCb3g9by5jbG9uZSgpKTtjb25zdCBoPWUuYm91bmRpbmdTcGhlcmU7cmV0dXJuIGghPT1udWxsJiYodGhpcy5ib3VuZGluZ1NwaGVyZT1oLmNsb25lKCkpLHRoaXMuZHJhd1JhbmdlLnN0YXJ0PWUuZHJhd1JhbmdlLnN0YXJ0LHRoaXMuZHJhd1JhbmdlLmNvdW50PWUuZHJhd1JhbmdlLmNvdW50LHRoaXMudXNlckRhdGE9ZS51c2VyRGF0YSxlLnBhcmFtZXRlcnMhPT12b2lkIDAmJih0aGlzLnBhcmFtZXRlcnM9T2JqZWN0LmFzc2lnbih7fSxlLnBhcmFtZXRlcnMpKSx0aGlzfWRpc3Bvc2UoKXt0aGlzLmRpc3BhdGNoRXZlbnQoe3R5cGU6ImRpc3Bvc2UifSl9fSRlLnByb3RvdHlwZS5pc0J1ZmZlckdlb21ldHJ5PSEwO2NvbnN0IE5sPW5ldyBfZSxrcj1uZXcgT3IsZW89bmV3IERyLEJpPW5ldyBFLFVpPW5ldyBFLEZpPW5ldyBFLHRvPW5ldyBFLGlvPW5ldyBFLHJvPW5ldyBFLFJhPW5ldyBFLFBhPW5ldyBFLElhPW5ldyBFLE5hPW5ldyBlZSxEYT1uZXcgZWUsT2E9bmV3IGVlLHNvPW5ldyBFLHphPW5ldyBFO2NsYXNzIE50IGV4dGVuZHMgamV7Y29uc3RydWN0b3IoZT1uZXcgJGUsdD1uZXcgQ2Epe3N1cGVyKCk7dGhpcy50eXBlPSJNZXNoIix0aGlzLmdlb21ldHJ5PWUsdGhpcy5tYXRlcmlhbD10LHRoaXMudXBkYXRlTW9ycGhUYXJnZXRzKCl9Y29weShlKXtyZXR1cm4gc3VwZXIuY29weShlKSxlLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcyE9PXZvaWQgMCYmKHRoaXMubW9ycGhUYXJnZXRJbmZsdWVuY2VzPWUubW9ycGhUYXJnZXRJbmZsdWVuY2VzLnNsaWNlKCkpLGUubW9ycGhUYXJnZXREaWN0aW9uYXJ5IT09dm9pZCAwJiYodGhpcy5tb3JwaFRhcmdldERpY3Rpb25hcnk9T2JqZWN0LmFzc2lnbih7fSxlLm1vcnBoVGFyZ2V0RGljdGlvbmFyeSkpLHRoaXMubWF0ZXJpYWw9ZS5tYXRlcmlhbCx0aGlzLmdlb21ldHJ5PWUuZ2VvbWV0cnksdGhpc311cGRhdGVNb3JwaFRhcmdldHMoKXtjb25zdCBlPXRoaXMuZ2VvbWV0cnk7aWYoZS5pc0J1ZmZlckdlb21ldHJ5KXtjb25zdCB0PWUubW9ycGhBdHRyaWJ1dGVzLHI9T2JqZWN0LmtleXModCk7aWYoci5sZW5ndGg+MCl7Y29uc3Qgcz10W3JbMF1dO2lmKHMhPT12b2lkIDApe3RoaXMubW9ycGhUYXJnZXRJbmZsdWVuY2VzPVtdLHRoaXMubW9ycGhUYXJnZXREaWN0aW9uYXJ5PXt9O2ZvcihsZXQgYT0wLG49cy5sZW5ndGg7YTxuO2ErKyl7Y29uc3Qgbz1zW2FdLm5hbWV8fFN0cmluZyhhKTt0aGlzLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcy5wdXNoKDApLHRoaXMubW9ycGhUYXJnZXREaWN0aW9uYXJ5W29dPWF9fX19ZWxzZXtjb25zdCB0PWUubW9ycGhUYXJnZXRzO3QhPT12b2lkIDAmJnQubGVuZ3RoPjAmJmNvbnNvbGUuZXJyb3IoIlRIUkVFLk1lc2gudXBkYXRlTW9ycGhUYXJnZXRzKCkgbm8gbG9uZ2VyIHN1cHBvcnRzIFRIUkVFLkdlb21ldHJ5LiBVc2UgVEhSRUUuQnVmZmVyR2VvbWV0cnkgaW5zdGVhZC4iKX19cmF5Y2FzdChlLHQpe2NvbnN0IHI9dGhpcy5nZW9tZXRyeSxzPXRoaXMubWF0ZXJpYWwsYT10aGlzLm1hdHJpeFdvcmxkO2lmKHM9PT12b2lkIDB8fChyLmJvdW5kaW5nU3BoZXJlPT09bnVsbCYmci5jb21wdXRlQm91bmRpbmdTcGhlcmUoKSxlby5jb3B5KHIuYm91bmRpbmdTcGhlcmUpLGVvLmFwcGx5TWF0cml4NChhKSxlLnJheS5pbnRlcnNlY3RzU3BoZXJlKGVvKT09PSExKXx8KE5sLmNvcHkoYSkuaW52ZXJ0KCksa3IuY29weShlLnJheSkuYXBwbHlNYXRyaXg0KE5sKSxyLmJvdW5kaW5nQm94IT09bnVsbCYma3IuaW50ZXJzZWN0c0JveChyLmJvdW5kaW5nQm94KT09PSExKSlyZXR1cm47bGV0IG47aWYoci5pc0J1ZmZlckdlb21ldHJ5KXtjb25zdCBvPXIuaW5kZXgsaD1yLmF0dHJpYnV0ZXMucG9zaXRpb24sbD1yLm1vcnBoQXR0cmlidXRlcy5wb3NpdGlvbixjPXIubW9ycGhUYXJnZXRzUmVsYXRpdmUsdT1yLmF0dHJpYnV0ZXMudXYsZD1yLmF0dHJpYnV0ZXMudXYyLHA9ci5ncm91cHMsZz1yLmRyYXdSYW5nZTtpZihvIT09bnVsbClpZihBcnJheS5pc0FycmF5KHMpKWZvcihsZXQgZj0wLG09cC5sZW5ndGg7ZjxtO2YrKyl7Y29uc3Qgdj1wW2ZdLHk9c1t2Lm1hdGVyaWFsSW5kZXhdLFQ9TWF0aC5tYXgodi5zdGFydCxnLnN0YXJ0KSx3PU1hdGgubWluKG8uY291bnQsTWF0aC5taW4odi5zdGFydCt2LmNvdW50LGcuc3RhcnQrZy5jb3VudCkpO2ZvcihsZXQgYj1ULEw9dztiPEw7Yis9Myl7Y29uc3QgUD1vLmdldFgoYiksaz1vLmdldFgoYisxKSxpZT1vLmdldFgoYisyKTtuPUJhKHRoaXMseSxlLGtyLGgsbCxjLHUsZCxQLGssaWUpLG4mJihuLmZhY2VJbmRleD1NYXRoLmZsb29yKGIvMyksbi5mYWNlLm1hdGVyaWFsSW5kZXg9di5tYXRlcmlhbEluZGV4LHQucHVzaChuKSl9fWVsc2V7Y29uc3QgZj1NYXRoLm1heCgwLGcuc3RhcnQpLG09TWF0aC5taW4oby5jb3VudCxnLnN0YXJ0K2cuY291bnQpO2ZvcihsZXQgdj1mLHk9bTt2PHk7dis9Myl7Y29uc3QgVD1vLmdldFgodiksdz1vLmdldFgodisxKSxiPW8uZ2V0WCh2KzIpO249QmEodGhpcyxzLGUsa3IsaCxsLGMsdSxkLFQsdyxiKSxuJiYobi5mYWNlSW5kZXg9TWF0aC5mbG9vcih2LzMpLHQucHVzaChuKSl9fWVsc2UgaWYoaCE9PXZvaWQgMClpZihBcnJheS5pc0FycmF5KHMpKWZvcihsZXQgZj0wLG09cC5sZW5ndGg7ZjxtO2YrKyl7Y29uc3Qgdj1wW2ZdLHk9c1t2Lm1hdGVyaWFsSW5kZXhdLFQ9TWF0aC5tYXgodi5zdGFydCxnLnN0YXJ0KSx3PU1hdGgubWluKGguY291bnQsTWF0aC5taW4odi5zdGFydCt2LmNvdW50LGcuc3RhcnQrZy5jb3VudCkpO2ZvcihsZXQgYj1ULEw9dztiPEw7Yis9Myl7Y29uc3QgUD1iLGs9YisxLGllPWIrMjtuPUJhKHRoaXMseSxlLGtyLGgsbCxjLHUsZCxQLGssaWUpLG4mJihuLmZhY2VJbmRleD1NYXRoLmZsb29yKGIvMyksbi5mYWNlLm1hdGVyaWFsSW5kZXg9di5tYXRlcmlhbEluZGV4LHQucHVzaChuKSl9fWVsc2V7Y29uc3QgZj1NYXRoLm1heCgwLGcuc3RhcnQpLG09TWF0aC5taW4oaC5jb3VudCxnLnN0YXJ0K2cuY291bnQpO2ZvcihsZXQgdj1mLHk9bTt2PHk7dis9Myl7Y29uc3QgVD12LHc9disxLGI9disyO249QmEodGhpcyxzLGUsa3IsaCxsLGMsdSxkLFQsdyxiKSxuJiYobi5mYWNlSW5kZXg9TWF0aC5mbG9vcih2LzMpLHQucHVzaChuKSl9fX1lbHNlIHIuaXNHZW9tZXRyeSYmY29uc29sZS5lcnJvcigiVEhSRUUuTWVzaC5yYXljYXN0KCkgbm8gbG9uZ2VyIHN1cHBvcnRzIFRIUkVFLkdlb21ldHJ5LiBVc2UgVEhSRUUuQnVmZmVyR2VvbWV0cnkgaW5zdGVhZC4iKX19TnQucHJvdG90eXBlLmlzTWVzaD0hMDtmdW5jdGlvbiBsMChpLGUsdCxyLHMsYSxuLG8pe2xldCBoO2lmKGUuc2lkZT09PWp0P2g9ci5pbnRlcnNlY3RUcmlhbmdsZShuLGEscywhMCxvKTpoPXIuaW50ZXJzZWN0VHJpYW5nbGUocyxhLG4sZS5zaWRlIT09X3IsbyksaD09PW51bGwpcmV0dXJuIG51bGw7emEuY29weShvKSx6YS5hcHBseU1hdHJpeDQoaS5tYXRyaXhXb3JsZCk7Y29uc3QgbD10LnJheS5vcmlnaW4uZGlzdGFuY2VUbyh6YSk7cmV0dXJuIGw8dC5uZWFyfHxsPnQuZmFyP251bGw6e2Rpc3RhbmNlOmwscG9pbnQ6emEuY2xvbmUoKSxvYmplY3Q6aX19ZnVuY3Rpb24gQmEoaSxlLHQscixzLGEsbixvLGgsbCxjLHUpe0JpLmZyb21CdWZmZXJBdHRyaWJ1dGUocyxsKSxVaS5mcm9tQnVmZmVyQXR0cmlidXRlKHMsYyksRmkuZnJvbUJ1ZmZlckF0dHJpYnV0ZShzLHUpO2NvbnN0IGQ9aS5tb3JwaFRhcmdldEluZmx1ZW5jZXM7aWYoYSYmZCl7UmEuc2V0KDAsMCwwKSxQYS5zZXQoMCwwLDApLElhLnNldCgwLDAsMCk7Zm9yKGxldCBnPTAsZj1hLmxlbmd0aDtnPGY7ZysrKXtjb25zdCBtPWRbZ10sdj1hW2ddO20hPT0wJiYodG8uZnJvbUJ1ZmZlckF0dHJpYnV0ZSh2LGwpLGlvLmZyb21CdWZmZXJBdHRyaWJ1dGUodixjKSxyby5mcm9tQnVmZmVyQXR0cmlidXRlKHYsdSksbj8oUmEuYWRkU2NhbGVkVmVjdG9yKHRvLG0pLFBhLmFkZFNjYWxlZFZlY3RvcihpbyxtKSxJYS5hZGRTY2FsZWRWZWN0b3Iocm8sbSkpOihSYS5hZGRTY2FsZWRWZWN0b3IodG8uc3ViKEJpKSxtKSxQYS5hZGRTY2FsZWRWZWN0b3IoaW8uc3ViKFVpKSxtKSxJYS5hZGRTY2FsZWRWZWN0b3Iocm8uc3ViKEZpKSxtKSkpfUJpLmFkZChSYSksVWkuYWRkKFBhKSxGaS5hZGQoSWEpfWkuaXNTa2lubmVkTWVzaCYmKGkuYm9uZVRyYW5zZm9ybShsLEJpKSxpLmJvbmVUcmFuc2Zvcm0oYyxVaSksaS5ib25lVHJhbnNmb3JtKHUsRmkpKTtjb25zdCBwPWwwKGksZSx0LHIsQmksVWksRmksc28pO2lmKHApe28mJihOYS5mcm9tQnVmZmVyQXR0cmlidXRlKG8sbCksRGEuZnJvbUJ1ZmZlckF0dHJpYnV0ZShvLGMpLE9hLmZyb21CdWZmZXJBdHRyaWJ1dGUobyx1KSxwLnV2PWF0LmdldFVWKHNvLEJpLFVpLEZpLE5hLERhLE9hLG5ldyBlZSkpLGgmJihOYS5mcm9tQnVmZmVyQXR0cmlidXRlKGgsbCksRGEuZnJvbUJ1ZmZlckF0dHJpYnV0ZShoLGMpLE9hLmZyb21CdWZmZXJBdHRyaWJ1dGUoaCx1KSxwLnV2Mj1hdC5nZXRVVihzbyxCaSxVaSxGaSxOYSxEYSxPYSxuZXcgZWUpKTtjb25zdCBnPXthOmwsYjpjLGM6dSxub3JtYWw6bmV3IEUsbWF0ZXJpYWxJbmRleDowfTthdC5nZXROb3JtYWwoQmksVWksRmksZy5ub3JtYWwpLHAuZmFjZT1nfXJldHVybiBwfWNsYXNzIFJzIGV4dGVuZHMgJGV7Y29uc3RydWN0b3IoZT0xLHQ9MSxyPTEscz0xLGE9MSxuPTEpe3N1cGVyKCk7dGhpcy50eXBlPSJCb3hHZW9tZXRyeSIsdGhpcy5wYXJhbWV0ZXJzPXt3aWR0aDplLGhlaWdodDp0LGRlcHRoOnIsd2lkdGhTZWdtZW50czpzLGhlaWdodFNlZ21lbnRzOmEsZGVwdGhTZWdtZW50czpufTtjb25zdCBvPXRoaXM7cz1NYXRoLmZsb29yKHMpLGE9TWF0aC5mbG9vcihhKSxuPU1hdGguZmxvb3Iobik7Y29uc3QgaD1bXSxsPVtdLGM9W10sdT1bXTtsZXQgZD0wLHA9MDtnKCJ6IiwieSIsIngiLC0xLC0xLHIsdCxlLG4sYSwwKSxnKCJ6IiwieSIsIngiLDEsLTEscix0LC1lLG4sYSwxKSxnKCJ4IiwieiIsInkiLDEsMSxlLHIsdCxzLG4sMiksZygieCIsInoiLCJ5IiwxLC0xLGUsciwtdCxzLG4sMyksZygieCIsInkiLCJ6IiwxLC0xLGUsdCxyLHMsYSw0KSxnKCJ4IiwieSIsInoiLC0xLC0xLGUsdCwtcixzLGEsNSksdGhpcy5zZXRJbmRleChoKSx0aGlzLnNldEF0dHJpYnV0ZSgicG9zaXRpb24iLG5ldyBwdChsLDMpKSx0aGlzLnNldEF0dHJpYnV0ZSgibm9ybWFsIixuZXcgcHQoYywzKSksdGhpcy5zZXRBdHRyaWJ1dGUoInV2IixuZXcgcHQodSwyKSk7ZnVuY3Rpb24gZyhmLG0sdix5LFQsdyxiLEwsUCxrLGllKXtjb25zdCBPPXcvUCx4PWIvayxDPXcvMixZPWIvMixOPUwvMixVPVArMSxCPWsrMTtsZXQgRz0wLFI9MDtjb25zdCBYPW5ldyBFO2ZvcihsZXQgSj0wO0o8QjtKKyspe2NvbnN0IHRlPUoqeC1ZO2ZvcihsZXQgUT0wO1E8VTtRKyspe2NvbnN0IHZlPVEqTy1DO1hbZl09dmUqeSxYW21dPXRlKlQsWFt2XT1OLGwucHVzaChYLngsWC55LFgueiksWFtmXT0wLFhbbV09MCxYW3ZdPUw+MD8xOi0xLGMucHVzaChYLngsWC55LFgueiksdS5wdXNoKFEvUCksdS5wdXNoKDEtSi9rKSxHKz0xfX1mb3IobGV0IEo9MDtKPGs7SisrKWZvcihsZXQgdGU9MDt0ZTxQO3RlKyspe2NvbnN0IFE9ZCt0ZStVKkosdmU9ZCt0ZStVKihKKzEpLHplPWQrKHRlKzEpK1UqKEorMSksYmU9ZCsodGUrMSkrVSpKO2gucHVzaChRLHZlLGJlKSxoLnB1c2godmUsemUsYmUpLFIrPTZ9by5hZGRHcm91cChwLFIsaWUpLHArPVIsZCs9R319c3RhdGljIGZyb21KU09OKGUpe3JldHVybiBuZXcgUnMoZS53aWR0aCxlLmhlaWdodCxlLmRlcHRoLGUud2lkdGhTZWdtZW50cyxlLmhlaWdodFNlZ21lbnRzLGUuZGVwdGhTZWdtZW50cyl9fWZ1bmN0aW9uIEdyKGkpe2NvbnN0IGU9e307Zm9yKGNvbnN0IHQgaW4gaSl7ZVt0XT17fTtmb3IoY29uc3QgciBpbiBpW3RdKXtjb25zdCBzPWlbdF1bcl07cyYmKHMuaXNDb2xvcnx8cy5pc01hdHJpeDN8fHMuaXNNYXRyaXg0fHxzLmlzVmVjdG9yMnx8cy5pc1ZlY3RvcjN8fHMuaXNWZWN0b3I0fHxzLmlzVGV4dHVyZXx8cy5pc1F1YXRlcm5pb24pP2VbdF1bcl09cy5jbG9uZSgpOkFycmF5LmlzQXJyYXkocyk/ZVt0XVtyXT1zLnNsaWNlKCk6ZVt0XVtyXT1zfX1yZXR1cm4gZX1mdW5jdGlvbiBNdChpKXtjb25zdCBlPXt9O2ZvcihsZXQgdD0wO3Q8aS5sZW5ndGg7dCsrKXtjb25zdCByPUdyKGlbdF0pO2Zvcihjb25zdCBzIGluIHIpZVtzXT1yW3NdfXJldHVybiBlfWNvbnN0IGMwPXtjbG9uZTpHcixtZXJnZTpNdH07dmFyIHUwPWB2b2lkIG1haW4oKSB7CglnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7Cn1gLGQwPWB2b2lkIG1haW4oKSB7CglnbF9GcmFnQ29sb3IgPSB2ZWM0KCAxLjAsIDAuMCwgMC4wLCAxLjAgKTsKfWA7Y2xhc3MgJHQgZXh0ZW5kcyBsdHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpO3RoaXMudHlwZT0iU2hhZGVyTWF0ZXJpYWwiLHRoaXMuZGVmaW5lcz17fSx0aGlzLnVuaWZvcm1zPXt9LHRoaXMudmVydGV4U2hhZGVyPXUwLHRoaXMuZnJhZ21lbnRTaGFkZXI9ZDAsdGhpcy5saW5ld2lkdGg9MSx0aGlzLndpcmVmcmFtZT0hMSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD0xLHRoaXMuZm9nPSExLHRoaXMubGlnaHRzPSExLHRoaXMuY2xpcHBpbmc9ITEsdGhpcy5leHRlbnNpb25zPXtkZXJpdmF0aXZlczohMSxmcmFnRGVwdGg6ITEsZHJhd0J1ZmZlcnM6ITEsc2hhZGVyVGV4dHVyZUxPRDohMX0sdGhpcy5kZWZhdWx0QXR0cmlidXRlVmFsdWVzPXtjb2xvcjpbMSwxLDFdLHV2OlswLDBdLHV2MjpbMCwwXX0sdGhpcy5pbmRleDBBdHRyaWJ1dGVOYW1lPXZvaWQgMCx0aGlzLnVuaWZvcm1zTmVlZFVwZGF0ZT0hMSx0aGlzLmdsc2xWZXJzaW9uPW51bGwsZSE9PXZvaWQgMCYmKGUuYXR0cmlidXRlcyE9PXZvaWQgMCYmY29uc29sZS5lcnJvcigiVEhSRUUuU2hhZGVyTWF0ZXJpYWw6IGF0dHJpYnV0ZXMgc2hvdWxkIG5vdyBiZSBkZWZpbmVkIGluIFRIUkVFLkJ1ZmZlckdlb21ldHJ5IGluc3RlYWQuIiksdGhpcy5zZXRWYWx1ZXMoZSkpfWNvcHkoZSl7cmV0dXJuIHN1cGVyLmNvcHkoZSksdGhpcy5mcmFnbWVudFNoYWRlcj1lLmZyYWdtZW50U2hhZGVyLHRoaXMudmVydGV4U2hhZGVyPWUudmVydGV4U2hhZGVyLHRoaXMudW5pZm9ybXM9R3IoZS51bmlmb3JtcyksdGhpcy5kZWZpbmVzPU9iamVjdC5hc3NpZ24oe30sZS5kZWZpbmVzKSx0aGlzLndpcmVmcmFtZT1lLndpcmVmcmFtZSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD1lLndpcmVmcmFtZUxpbmV3aWR0aCx0aGlzLmxpZ2h0cz1lLmxpZ2h0cyx0aGlzLmNsaXBwaW5nPWUuY2xpcHBpbmcsdGhpcy5leHRlbnNpb25zPU9iamVjdC5hc3NpZ24oe30sZS5leHRlbnNpb25zKSx0aGlzLmdsc2xWZXJzaW9uPWUuZ2xzbFZlcnNpb24sdGhpc310b0pTT04oZSl7Y29uc3QgdD1zdXBlci50b0pTT04oZSk7dC5nbHNsVmVyc2lvbj10aGlzLmdsc2xWZXJzaW9uLHQudW5pZm9ybXM9e307Zm9yKGNvbnN0IHMgaW4gdGhpcy51bmlmb3Jtcyl7Y29uc3QgYT10aGlzLnVuaWZvcm1zW3NdLnZhbHVlO2EmJmEuaXNUZXh0dXJlP3QudW5pZm9ybXNbc109e3R5cGU6InQiLHZhbHVlOmEudG9KU09OKGUpLnV1aWR9OmEmJmEuaXNDb2xvcj90LnVuaWZvcm1zW3NdPXt0eXBlOiJjIix2YWx1ZTphLmdldEhleCgpfTphJiZhLmlzVmVjdG9yMj90LnVuaWZvcm1zW3NdPXt0eXBlOiJ2MiIsdmFsdWU6YS50b0FycmF5KCl9OmEmJmEuaXNWZWN0b3IzP3QudW5pZm9ybXNbc109e3R5cGU6InYzIix2YWx1ZTphLnRvQXJyYXkoKX06YSYmYS5pc1ZlY3RvcjQ/dC51bmlmb3Jtc1tzXT17dHlwZToidjQiLHZhbHVlOmEudG9BcnJheSgpfTphJiZhLmlzTWF0cml4Mz90LnVuaWZvcm1zW3NdPXt0eXBlOiJtMyIsdmFsdWU6YS50b0FycmF5KCl9OmEmJmEuaXNNYXRyaXg0P3QudW5pZm9ybXNbc109e3R5cGU6Im00Iix2YWx1ZTphLnRvQXJyYXkoKX06dC51bmlmb3Jtc1tzXT17dmFsdWU6YX19T2JqZWN0LmtleXModGhpcy5kZWZpbmVzKS5sZW5ndGg+MCYmKHQuZGVmaW5lcz10aGlzLmRlZmluZXMpLHQudmVydGV4U2hhZGVyPXRoaXMudmVydGV4U2hhZGVyLHQuZnJhZ21lbnRTaGFkZXI9dGhpcy5mcmFnbWVudFNoYWRlcjtjb25zdCByPXt9O2Zvcihjb25zdCBzIGluIHRoaXMuZXh0ZW5zaW9ucyl0aGlzLmV4dGVuc2lvbnNbc109PT0hMCYmKHJbc109ITApO3JldHVybiBPYmplY3Qua2V5cyhyKS5sZW5ndGg+MCYmKHQuZXh0ZW5zaW9ucz1yKSx0fX0kdC5wcm90b3R5cGUuaXNTaGFkZXJNYXRlcmlhbD0hMDtjbGFzcyBhbyBleHRlbmRzIGple2NvbnN0cnVjdG9yKCl7c3VwZXIoKTt0aGlzLnR5cGU9IkNhbWVyYSIsdGhpcy5tYXRyaXhXb3JsZEludmVyc2U9bmV3IF9lLHRoaXMucHJvamVjdGlvbk1hdHJpeD1uZXcgX2UsdGhpcy5wcm9qZWN0aW9uTWF0cml4SW52ZXJzZT1uZXcgX2V9Y29weShlLHQpe3JldHVybiBzdXBlci5jb3B5KGUsdCksdGhpcy5tYXRyaXhXb3JsZEludmVyc2UuY29weShlLm1hdHJpeFdvcmxkSW52ZXJzZSksdGhpcy5wcm9qZWN0aW9uTWF0cml4LmNvcHkoZS5wcm9qZWN0aW9uTWF0cml4KSx0aGlzLnByb2plY3Rpb25NYXRyaXhJbnZlcnNlLmNvcHkoZS5wcm9qZWN0aW9uTWF0cml4SW52ZXJzZSksdGhpc31nZXRXb3JsZERpcmVjdGlvbihlKXt0aGlzLnVwZGF0ZVdvcmxkTWF0cml4KCEwLCExKTtjb25zdCB0PXRoaXMubWF0cml4V29ybGQuZWxlbWVudHM7cmV0dXJuIGUuc2V0KC10WzhdLC10WzldLC10WzEwXSkubm9ybWFsaXplKCl9dXBkYXRlTWF0cml4V29ybGQoZSl7c3VwZXIudXBkYXRlTWF0cml4V29ybGQoZSksdGhpcy5tYXRyaXhXb3JsZEludmVyc2UuY29weSh0aGlzLm1hdHJpeFdvcmxkKS5pbnZlcnQoKX11cGRhdGVXb3JsZE1hdHJpeChlLHQpe3N1cGVyLnVwZGF0ZVdvcmxkTWF0cml4KGUsdCksdGhpcy5tYXRyaXhXb3JsZEludmVyc2UuY29weSh0aGlzLm1hdHJpeFdvcmxkKS5pbnZlcnQoKX1jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyl9fWFvLnByb3RvdHlwZS5pc0NhbWVyYT0hMDtjbGFzcyBEdCBleHRlbmRzIGFve2NvbnN0cnVjdG9yKGU9NTAsdD0xLHI9LjEscz0yZTMpe3N1cGVyKCk7dGhpcy50eXBlPSJQZXJzcGVjdGl2ZUNhbWVyYSIsdGhpcy5mb3Y9ZSx0aGlzLnpvb209MSx0aGlzLm5lYXI9cix0aGlzLmZhcj1zLHRoaXMuZm9jdXM9MTAsdGhpcy5hc3BlY3Q9dCx0aGlzLnZpZXc9bnVsbCx0aGlzLmZpbG1HYXVnZT0zNSx0aGlzLmZpbG1PZmZzZXQ9MCx0aGlzLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKX1jb3B5KGUsdCl7cmV0dXJuIHN1cGVyLmNvcHkoZSx0KSx0aGlzLmZvdj1lLmZvdix0aGlzLnpvb209ZS56b29tLHRoaXMubmVhcj1lLm5lYXIsdGhpcy5mYXI9ZS5mYXIsdGhpcy5mb2N1cz1lLmZvY3VzLHRoaXMuYXNwZWN0PWUuYXNwZWN0LHRoaXMudmlldz1lLnZpZXc9PT1udWxsP251bGw6T2JqZWN0LmFzc2lnbih7fSxlLnZpZXcpLHRoaXMuZmlsbUdhdWdlPWUuZmlsbUdhdWdlLHRoaXMuZmlsbU9mZnNldD1lLmZpbG1PZmZzZXQsdGhpc31zZXRGb2NhbExlbmd0aChlKXtjb25zdCB0PS41KnRoaXMuZ2V0RmlsbUhlaWdodCgpL2U7dGhpcy5mb3Y9T24qMipNYXRoLmF0YW4odCksdGhpcy51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCl9Z2V0Rm9jYWxMZW5ndGgoKXtjb25zdCBlPU1hdGgudGFuKERuKi41KnRoaXMuZm92KTtyZXR1cm4gLjUqdGhpcy5nZXRGaWxtSGVpZ2h0KCkvZX1nZXRFZmZlY3RpdmVGT1YoKXtyZXR1cm4gT24qMipNYXRoLmF0YW4oTWF0aC50YW4oRG4qLjUqdGhpcy5mb3YpL3RoaXMuem9vbSl9Z2V0RmlsbVdpZHRoKCl7cmV0dXJuIHRoaXMuZmlsbUdhdWdlKk1hdGgubWluKHRoaXMuYXNwZWN0LDEpfWdldEZpbG1IZWlnaHQoKXtyZXR1cm4gdGhpcy5maWxtR2F1Z2UvTWF0aC5tYXgodGhpcy5hc3BlY3QsMSl9c2V0Vmlld09mZnNldChlLHQscixzLGEsbil7dGhpcy5hc3BlY3Q9ZS90LHRoaXMudmlldz09PW51bGwmJih0aGlzLnZpZXc9e2VuYWJsZWQ6ITAsZnVsbFdpZHRoOjEsZnVsbEhlaWdodDoxLG9mZnNldFg6MCxvZmZzZXRZOjAsd2lkdGg6MSxoZWlnaHQ6MX0pLHRoaXMudmlldy5lbmFibGVkPSEwLHRoaXMudmlldy5mdWxsV2lkdGg9ZSx0aGlzLnZpZXcuZnVsbEhlaWdodD10LHRoaXMudmlldy5vZmZzZXRYPXIsdGhpcy52aWV3Lm9mZnNldFk9cyx0aGlzLnZpZXcud2lkdGg9YSx0aGlzLnZpZXcuaGVpZ2h0PW4sdGhpcy51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCl9Y2xlYXJWaWV3T2Zmc2V0KCl7dGhpcy52aWV3IT09bnVsbCYmKHRoaXMudmlldy5lbmFibGVkPSExKSx0aGlzLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKX11cGRhdGVQcm9qZWN0aW9uTWF0cml4KCl7Y29uc3QgZT10aGlzLm5lYXI7bGV0IHQ9ZSpNYXRoLnRhbihEbiouNSp0aGlzLmZvdikvdGhpcy56b29tLHI9Mip0LHM9dGhpcy5hc3BlY3QqcixhPS0uNSpzO2NvbnN0IG49dGhpcy52aWV3O2lmKHRoaXMudmlldyE9PW51bGwmJnRoaXMudmlldy5lbmFibGVkKXtjb25zdCBoPW4uZnVsbFdpZHRoLGw9bi5mdWxsSGVpZ2h0O2ErPW4ub2Zmc2V0WCpzL2gsdC09bi5vZmZzZXRZKnIvbCxzKj1uLndpZHRoL2gscio9bi5oZWlnaHQvbH1jb25zdCBvPXRoaXMuZmlsbU9mZnNldDtvIT09MCYmKGErPWUqby90aGlzLmdldEZpbG1XaWR0aCgpKSx0aGlzLnByb2plY3Rpb25NYXRyaXgubWFrZVBlcnNwZWN0aXZlKGEsYStzLHQsdC1yLGUsdGhpcy5mYXIpLHRoaXMucHJvamVjdGlvbk1hdHJpeEludmVyc2UuY29weSh0aGlzLnByb2plY3Rpb25NYXRyaXgpLmludmVydCgpfXRvSlNPTihlKXtjb25zdCB0PXN1cGVyLnRvSlNPTihlKTtyZXR1cm4gdC5vYmplY3QuZm92PXRoaXMuZm92LHQub2JqZWN0Lnpvb209dGhpcy56b29tLHQub2JqZWN0Lm5lYXI9dGhpcy5uZWFyLHQub2JqZWN0LmZhcj10aGlzLmZhcix0Lm9iamVjdC5mb2N1cz10aGlzLmZvY3VzLHQub2JqZWN0LmFzcGVjdD10aGlzLmFzcGVjdCx0aGlzLnZpZXchPT1udWxsJiYodC5vYmplY3Qudmlldz1PYmplY3QuYXNzaWduKHt9LHRoaXMudmlldykpLHQub2JqZWN0LmZpbG1HYXVnZT10aGlzLmZpbG1HYXVnZSx0Lm9iamVjdC5maWxtT2Zmc2V0PXRoaXMuZmlsbU9mZnNldCx0fX1EdC5wcm90b3R5cGUuaXNQZXJzcGVjdGl2ZUNhbWVyYT0hMDtjb25zdCBWcj05MCxXcj0xO2NsYXNzIG5vIGV4dGVuZHMgamV7Y29uc3RydWN0b3IoZSx0LHIpe3N1cGVyKCk7aWYodGhpcy50eXBlPSJDdWJlQ2FtZXJhIixyLmlzV2ViR0xDdWJlUmVuZGVyVGFyZ2V0IT09ITApe2NvbnNvbGUuZXJyb3IoIlRIUkVFLkN1YmVDYW1lcmE6IFRoZSBjb25zdHJ1Y3RvciBub3cgZXhwZWN0cyBhbiBpbnN0YW5jZSBvZiBXZWJHTEN1YmVSZW5kZXJUYXJnZXQgYXMgdGhpcmQgcGFyYW1ldGVyLiIpO3JldHVybn10aGlzLnJlbmRlclRhcmdldD1yO2NvbnN0IHM9bmV3IER0KFZyLFdyLGUsdCk7cy5sYXllcnM9dGhpcy5sYXllcnMscy51cC5zZXQoMCwtMSwwKSxzLmxvb2tBdChuZXcgRSgxLDAsMCkpLHRoaXMuYWRkKHMpO2NvbnN0IGE9bmV3IER0KFZyLFdyLGUsdCk7YS5sYXllcnM9dGhpcy5sYXllcnMsYS51cC5zZXQoMCwtMSwwKSxhLmxvb2tBdChuZXcgRSgtMSwwLDApKSx0aGlzLmFkZChhKTtjb25zdCBuPW5ldyBEdChWcixXcixlLHQpO24ubGF5ZXJzPXRoaXMubGF5ZXJzLG4udXAuc2V0KDAsMCwxKSxuLmxvb2tBdChuZXcgRSgwLDEsMCkpLHRoaXMuYWRkKG4pO2NvbnN0IG89bmV3IER0KFZyLFdyLGUsdCk7by5sYXllcnM9dGhpcy5sYXllcnMsby51cC5zZXQoMCwwLC0xKSxvLmxvb2tBdChuZXcgRSgwLC0xLDApKSx0aGlzLmFkZChvKTtjb25zdCBoPW5ldyBEdChWcixXcixlLHQpO2gubGF5ZXJzPXRoaXMubGF5ZXJzLGgudXAuc2V0KDAsLTEsMCksaC5sb29rQXQobmV3IEUoMCwwLDEpKSx0aGlzLmFkZChoKTtjb25zdCBsPW5ldyBEdChWcixXcixlLHQpO2wubGF5ZXJzPXRoaXMubGF5ZXJzLGwudXAuc2V0KDAsLTEsMCksbC5sb29rQXQobmV3IEUoMCwwLC0xKSksdGhpcy5hZGQobCl9dXBkYXRlKGUsdCl7dGhpcy5wYXJlbnQ9PT1udWxsJiZ0aGlzLnVwZGF0ZU1hdHJpeFdvcmxkKCk7Y29uc3Qgcj10aGlzLnJlbmRlclRhcmdldCxbcyxhLG4sbyxoLGxdPXRoaXMuY2hpbGRyZW4sYz1lLmdldFJlbmRlclRhcmdldCgpLHU9ZS5vdXRwdXRFbmNvZGluZyxkPWUudG9uZU1hcHBpbmcscD1lLnhyLmVuYWJsZWQ7ZS5vdXRwdXRFbmNvZGluZz1faSxlLnRvbmVNYXBwaW5nPXhpLGUueHIuZW5hYmxlZD0hMTtjb25zdCBnPXIudGV4dHVyZS5nZW5lcmF0ZU1pcG1hcHM7ci50ZXh0dXJlLmdlbmVyYXRlTWlwbWFwcz0hMSxlLnNldFJlbmRlclRhcmdldChyLDApLGUucmVuZGVyKHQscyksZS5zZXRSZW5kZXJUYXJnZXQociwxKSxlLnJlbmRlcih0LGEpLGUuc2V0UmVuZGVyVGFyZ2V0KHIsMiksZS5yZW5kZXIodCxuKSxlLnNldFJlbmRlclRhcmdldChyLDMpLGUucmVuZGVyKHQsbyksZS5zZXRSZW5kZXJUYXJnZXQociw0KSxlLnJlbmRlcih0LGgpLHIudGV4dHVyZS5nZW5lcmF0ZU1pcG1hcHM9ZyxlLnNldFJlbmRlclRhcmdldChyLDUpLGUucmVuZGVyKHQsbCksZS5zZXRSZW5kZXJUYXJnZXQoYyksZS5vdXRwdXRFbmNvZGluZz11LGUudG9uZU1hcHBpbmc9ZCxlLnhyLmVuYWJsZWQ9cCxyLnRleHR1cmUubmVlZHNQTVJFTVVwZGF0ZT0hMH19Y2xhc3MgVWEgZXh0ZW5kcyBkdHtjb25zdHJ1Y3RvcihlLHQscixzLGEsbixvLGgsbCxjKXtlPWUhPT12b2lkIDA/ZTpbXSx0PXQhPT12b2lkIDA/dDpicjtzdXBlcihlLHQscixzLGEsbixvLGgsbCxjKTt0aGlzLmZsaXBZPSExfWdldCBpbWFnZXMoKXtyZXR1cm4gdGhpcy5pbWFnZX1zZXQgaW1hZ2VzKGUpe3RoaXMuaW1hZ2U9ZX19VWEucHJvdG90eXBlLmlzQ3ViZVRleHR1cmU9ITA7Y2xhc3MgRGwgZXh0ZW5kcyB6dHtjb25zdHJ1Y3RvcihlLHQ9e30pe3N1cGVyKGUsZSx0KTtjb25zdCByPXt3aWR0aDplLGhlaWdodDplLGRlcHRoOjF9LHM9W3IscixyLHIscixyXTt0aGlzLnRleHR1cmU9bmV3IFVhKHMsdC5tYXBwaW5nLHQud3JhcFMsdC53cmFwVCx0Lm1hZ0ZpbHRlcix0Lm1pbkZpbHRlcix0LmZvcm1hdCx0LnR5cGUsdC5hbmlzb3Ryb3B5LHQuZW5jb2RpbmcpLHRoaXMudGV4dHVyZS5pc1JlbmRlclRhcmdldFRleHR1cmU9ITAsdGhpcy50ZXh0dXJlLmdlbmVyYXRlTWlwbWFwcz10LmdlbmVyYXRlTWlwbWFwcyE9PXZvaWQgMD90LmdlbmVyYXRlTWlwbWFwczohMSx0aGlzLnRleHR1cmUubWluRmlsdGVyPXQubWluRmlsdGVyIT09dm9pZCAwP3QubWluRmlsdGVyOkl0fWZyb21FcXVpcmVjdGFuZ3VsYXJUZXh0dXJlKGUsdCl7dGhpcy50ZXh0dXJlLnR5cGU9dC50eXBlLHRoaXMudGV4dHVyZS5lbmNvZGluZz10LmVuY29kaW5nLHRoaXMudGV4dHVyZS5nZW5lcmF0ZU1pcG1hcHM9dC5nZW5lcmF0ZU1pcG1hcHMsdGhpcy50ZXh0dXJlLm1pbkZpbHRlcj10Lm1pbkZpbHRlcix0aGlzLnRleHR1cmUubWFnRmlsdGVyPXQubWFnRmlsdGVyO2NvbnN0IHI9e3VuaWZvcm1zOnt0RXF1aXJlY3Q6e3ZhbHVlOm51bGx9fSx2ZXJ0ZXhTaGFkZXI6YAoKCQkJCXZhcnlpbmcgdmVjMyB2V29ybGREaXJlY3Rpb247CgoJCQkJdmVjMyB0cmFuc2Zvcm1EaXJlY3Rpb24oIGluIHZlYzMgZGlyLCBpbiBtYXQ0IG1hdHJpeCApIHsKCgkJCQkJcmV0dXJuIG5vcm1hbGl6ZSggKCBtYXRyaXggKiB2ZWM0KCBkaXIsIDAuMCApICkueHl6ICk7CgoJCQkJfQoKCQkJCXZvaWQgbWFpbigpIHsKCgkJCQkJdldvcmxkRGlyZWN0aW9uID0gdHJhbnNmb3JtRGlyZWN0aW9uKCBwb3NpdGlvbiwgbW9kZWxNYXRyaXggKTsKCgkJCQkJI2luY2x1ZGUgPGJlZ2luX3ZlcnRleD4KCQkJCQkjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+CgoJCQkJfQoJCQlgLGZyYWdtZW50U2hhZGVyOmAKCgkJCQl1bmlmb3JtIHNhbXBsZXIyRCB0RXF1aXJlY3Q7CgoJCQkJdmFyeWluZyB2ZWMzIHZXb3JsZERpcmVjdGlvbjsKCgkJCQkjaW5jbHVkZSA8Y29tbW9uPgoKCQkJCXZvaWQgbWFpbigpIHsKCgkJCQkJdmVjMyBkaXJlY3Rpb24gPSBub3JtYWxpemUoIHZXb3JsZERpcmVjdGlvbiApOwoKCQkJCQl2ZWMyIHNhbXBsZVVWID0gZXF1aXJlY3RVdiggZGlyZWN0aW9uICk7CgoJCQkJCWdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCggdEVxdWlyZWN0LCBzYW1wbGVVViApOwoKCQkJCX0KCQkJYH0scz1uZXcgUnMoNSw1LDUpLGE9bmV3ICR0KHtuYW1lOiJDdWJlbWFwRnJvbUVxdWlyZWN0Iix1bmlmb3JtczpHcihyLnVuaWZvcm1zKSx2ZXJ0ZXhTaGFkZXI6ci52ZXJ0ZXhTaGFkZXIsZnJhZ21lbnRTaGFkZXI6ci5mcmFnbWVudFNoYWRlcixzaWRlOmp0LGJsZW5kaW5nOklpfSk7YS51bmlmb3Jtcy50RXF1aXJlY3QudmFsdWU9dDtjb25zdCBuPW5ldyBOdChzLGEpLG89dC5taW5GaWx0ZXI7cmV0dXJuIHQubWluRmlsdGVyPT09dWEmJih0Lm1pbkZpbHRlcj1JdCksbmV3IG5vKDEsMTAsdGhpcykudXBkYXRlKGUsbiksdC5taW5GaWx0ZXI9byxuLmdlb21ldHJ5LmRpc3Bvc2UoKSxuLm1hdGVyaWFsLmRpc3Bvc2UoKSx0aGlzfWNsZWFyKGUsdCxyLHMpe2NvbnN0IGE9ZS5nZXRSZW5kZXJUYXJnZXQoKTtmb3IobGV0IG49MDtuPDY7bisrKWUuc2V0UmVuZGVyVGFyZ2V0KHRoaXMsbiksZS5jbGVhcih0LHIscyk7ZS5zZXRSZW5kZXJUYXJnZXQoYSl9fURsLnByb3RvdHlwZS5pc1dlYkdMQ3ViZVJlbmRlclRhcmdldD0hMDtjb25zdCBvbz1uZXcgRSxwMD1uZXcgRSxmMD1uZXcgeHQ7Y2xhc3MgVGl7Y29uc3RydWN0b3IoZT1uZXcgRSgxLDAsMCksdD0wKXt0aGlzLm5vcm1hbD1lLHRoaXMuY29uc3RhbnQ9dH1zZXQoZSx0KXtyZXR1cm4gdGhpcy5ub3JtYWwuY29weShlKSx0aGlzLmNvbnN0YW50PXQsdGhpc31zZXRDb21wb25lbnRzKGUsdCxyLHMpe3JldHVybiB0aGlzLm5vcm1hbC5zZXQoZSx0LHIpLHRoaXMuY29uc3RhbnQ9cyx0aGlzfXNldEZyb21Ob3JtYWxBbmRDb3BsYW5hclBvaW50KGUsdCl7cmV0dXJuIHRoaXMubm9ybWFsLmNvcHkoZSksdGhpcy5jb25zdGFudD0tdC5kb3QodGhpcy5ub3JtYWwpLHRoaXN9c2V0RnJvbUNvcGxhbmFyUG9pbnRzKGUsdCxyKXtjb25zdCBzPW9vLnN1YlZlY3RvcnMocix0KS5jcm9zcyhwMC5zdWJWZWN0b3JzKGUsdCkpLm5vcm1hbGl6ZSgpO3JldHVybiB0aGlzLnNldEZyb21Ob3JtYWxBbmRDb3BsYW5hclBvaW50KHMsZSksdGhpc31jb3B5KGUpe3JldHVybiB0aGlzLm5vcm1hbC5jb3B5KGUubm9ybWFsKSx0aGlzLmNvbnN0YW50PWUuY29uc3RhbnQsdGhpc31ub3JtYWxpemUoKXtjb25zdCBlPTEvdGhpcy5ub3JtYWwubGVuZ3RoKCk7cmV0dXJuIHRoaXMubm9ybWFsLm11bHRpcGx5U2NhbGFyKGUpLHRoaXMuY29uc3RhbnQqPWUsdGhpc31uZWdhdGUoKXtyZXR1cm4gdGhpcy5jb25zdGFudCo9LTEsdGhpcy5ub3JtYWwubmVnYXRlKCksdGhpc31kaXN0YW5jZVRvUG9pbnQoZSl7cmV0dXJuIHRoaXMubm9ybWFsLmRvdChlKSt0aGlzLmNvbnN0YW50fWRpc3RhbmNlVG9TcGhlcmUoZSl7cmV0dXJuIHRoaXMuZGlzdGFuY2VUb1BvaW50KGUuY2VudGVyKS1lLnJhZGl1c31wcm9qZWN0UG9pbnQoZSx0KXtyZXR1cm4gdC5jb3B5KHRoaXMubm9ybWFsKS5tdWx0aXBseVNjYWxhcigtdGhpcy5kaXN0YW5jZVRvUG9pbnQoZSkpLmFkZChlKX1pbnRlcnNlY3RMaW5lKGUsdCl7Y29uc3Qgcj1lLmRlbHRhKG9vKSxzPXRoaXMubm9ybWFsLmRvdChyKTtpZihzPT09MClyZXR1cm4gdGhpcy5kaXN0YW5jZVRvUG9pbnQoZS5zdGFydCk9PT0wP3QuY29weShlLnN0YXJ0KTpudWxsO2NvbnN0IGE9LShlLnN0YXJ0LmRvdCh0aGlzLm5vcm1hbCkrdGhpcy5jb25zdGFudCkvcztyZXR1cm4gYTwwfHxhPjE/bnVsbDp0LmNvcHkocikubXVsdGlwbHlTY2FsYXIoYSkuYWRkKGUuc3RhcnQpfWludGVyc2VjdHNMaW5lKGUpe2NvbnN0IHQ9dGhpcy5kaXN0YW5jZVRvUG9pbnQoZS5zdGFydCkscj10aGlzLmRpc3RhbmNlVG9Qb2ludChlLmVuZCk7cmV0dXJuIHQ8MCYmcj4wfHxyPDAmJnQ+MH1pbnRlcnNlY3RzQm94KGUpe3JldHVybiBlLmludGVyc2VjdHNQbGFuZSh0aGlzKX1pbnRlcnNlY3RzU3BoZXJlKGUpe3JldHVybiBlLmludGVyc2VjdHNQbGFuZSh0aGlzKX1jb3BsYW5hclBvaW50KGUpe3JldHVybiBlLmNvcHkodGhpcy5ub3JtYWwpLm11bHRpcGx5U2NhbGFyKC10aGlzLmNvbnN0YW50KX1hcHBseU1hdHJpeDQoZSx0KXtjb25zdCByPXR8fGYwLmdldE5vcm1hbE1hdHJpeChlKSxzPXRoaXMuY29wbGFuYXJQb2ludChvbykuYXBwbHlNYXRyaXg0KGUpLGE9dGhpcy5ub3JtYWwuYXBwbHlNYXRyaXgzKHIpLm5vcm1hbGl6ZSgpO3JldHVybiB0aGlzLmNvbnN0YW50PS1zLmRvdChhKSx0aGlzfXRyYW5zbGF0ZShlKXtyZXR1cm4gdGhpcy5jb25zdGFudC09ZS5kb3QodGhpcy5ub3JtYWwpLHRoaXN9ZXF1YWxzKGUpe3JldHVybiBlLm5vcm1hbC5lcXVhbHModGhpcy5ub3JtYWwpJiZlLmNvbnN0YW50PT09dGhpcy5jb25zdGFudH1jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyl9fVRpLnByb3RvdHlwZS5pc1BsYW5lPSEwO2NvbnN0IGpyPW5ldyBEcixGYT1uZXcgRTtjbGFzcyBIYXtjb25zdHJ1Y3RvcihlPW5ldyBUaSx0PW5ldyBUaSxyPW5ldyBUaSxzPW5ldyBUaSxhPW5ldyBUaSxuPW5ldyBUaSl7dGhpcy5wbGFuZXM9W2UsdCxyLHMsYSxuXX1zZXQoZSx0LHIscyxhLG4pe2NvbnN0IG89dGhpcy5wbGFuZXM7cmV0dXJuIG9bMF0uY29weShlKSxvWzFdLmNvcHkodCksb1syXS5jb3B5KHIpLG9bM10uY29weShzKSxvWzRdLmNvcHkoYSksb1s1XS5jb3B5KG4pLHRoaXN9Y29weShlKXtjb25zdCB0PXRoaXMucGxhbmVzO2ZvcihsZXQgcj0wO3I8NjtyKyspdFtyXS5jb3B5KGUucGxhbmVzW3JdKTtyZXR1cm4gdGhpc31zZXRGcm9tUHJvamVjdGlvbk1hdHJpeChlKXtjb25zdCB0PXRoaXMucGxhbmVzLHI9ZS5lbGVtZW50cyxzPXJbMF0sYT1yWzFdLG49clsyXSxvPXJbM10saD1yWzRdLGw9cls1XSxjPXJbNl0sdT1yWzddLGQ9cls4XSxwPXJbOV0sZz1yWzEwXSxmPXJbMTFdLG09clsxMl0sdj1yWzEzXSx5PXJbMTRdLFQ9clsxNV07cmV0dXJuIHRbMF0uc2V0Q29tcG9uZW50cyhvLXMsdS1oLGYtZCxULW0pLm5vcm1hbGl6ZSgpLHRbMV0uc2V0Q29tcG9uZW50cyhvK3MsdStoLGYrZCxUK20pLm5vcm1hbGl6ZSgpLHRbMl0uc2V0Q29tcG9uZW50cyhvK2EsdStsLGYrcCxUK3YpLm5vcm1hbGl6ZSgpLHRbM10uc2V0Q29tcG9uZW50cyhvLWEsdS1sLGYtcCxULXYpLm5vcm1hbGl6ZSgpLHRbNF0uc2V0Q29tcG9uZW50cyhvLW4sdS1jLGYtZyxULXkpLm5vcm1hbGl6ZSgpLHRbNV0uc2V0Q29tcG9uZW50cyhvK24sdStjLGYrZyxUK3kpLm5vcm1hbGl6ZSgpLHRoaXN9aW50ZXJzZWN0c09iamVjdChlKXtjb25zdCB0PWUuZ2VvbWV0cnk7cmV0dXJuIHQuYm91bmRpbmdTcGhlcmU9PT1udWxsJiZ0LmNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpLGpyLmNvcHkodC5ib3VuZGluZ1NwaGVyZSkuYXBwbHlNYXRyaXg0KGUubWF0cml4V29ybGQpLHRoaXMuaW50ZXJzZWN0c1NwaGVyZShqcil9aW50ZXJzZWN0c1Nwcml0ZShlKXtyZXR1cm4ganIuY2VudGVyLnNldCgwLDAsMCksanIucmFkaXVzPS43MDcxMDY3ODExODY1NDc2LGpyLmFwcGx5TWF0cml4NChlLm1hdHJpeFdvcmxkKSx0aGlzLmludGVyc2VjdHNTcGhlcmUoanIpfWludGVyc2VjdHNTcGhlcmUoZSl7Y29uc3QgdD10aGlzLnBsYW5lcyxyPWUuY2VudGVyLHM9LWUucmFkaXVzO2ZvcihsZXQgYT0wO2E8NjthKyspaWYodFthXS5kaXN0YW5jZVRvUG9pbnQocik8cylyZXR1cm4hMTtyZXR1cm4hMH1pbnRlcnNlY3RzQm94KGUpe2NvbnN0IHQ9dGhpcy5wbGFuZXM7Zm9yKGxldCByPTA7cjw2O3IrKyl7Y29uc3Qgcz10W3JdO2lmKEZhLng9cy5ub3JtYWwueD4wP2UubWF4Lng6ZS5taW4ueCxGYS55PXMubm9ybWFsLnk+MD9lLm1heC55OmUubWluLnksRmEuej1zLm5vcm1hbC56PjA/ZS5tYXguejplLm1pbi56LHMuZGlzdGFuY2VUb1BvaW50KEZhKTwwKXJldHVybiExfXJldHVybiEwfWNvbnRhaW5zUG9pbnQoZSl7Y29uc3QgdD10aGlzLnBsYW5lcztmb3IobGV0IHI9MDtyPDY7cisrKWlmKHRbcl0uZGlzdGFuY2VUb1BvaW50KGUpPDApcmV0dXJuITE7cmV0dXJuITB9Y2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoKS5jb3B5KHRoaXMpfX1mdW5jdGlvbiBPbCgpe2xldCBpPW51bGwsZT0hMSx0PW51bGwscj1udWxsO2Z1bmN0aW9uIHMoYSxuKXt0KGEsbikscj1pLnJlcXVlc3RBbmltYXRpb25GcmFtZShzKX1yZXR1cm57c3RhcnQ6ZnVuY3Rpb24oKXtlIT09ITAmJnQhPT1udWxsJiYocj1pLnJlcXVlc3RBbmltYXRpb25GcmFtZShzKSxlPSEwKX0sc3RvcDpmdW5jdGlvbigpe2kuY2FuY2VsQW5pbWF0aW9uRnJhbWUociksZT0hMX0sc2V0QW5pbWF0aW9uTG9vcDpmdW5jdGlvbihhKXt0PWF9LHNldENvbnRleHQ6ZnVuY3Rpb24oYSl7aT1hfX19ZnVuY3Rpb24gbTAoaSxlKXtjb25zdCB0PWUuaXNXZWJHTDIscj1uZXcgV2Vha01hcDtmdW5jdGlvbiBzKGwsYyl7Y29uc3QgdT1sLmFycmF5LGQ9bC51c2FnZSxwPWkuY3JlYXRlQnVmZmVyKCk7aS5iaW5kQnVmZmVyKGMscCksaS5idWZmZXJEYXRhKGMsdSxkKSxsLm9uVXBsb2FkQ2FsbGJhY2soKTtsZXQgZztpZih1IGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KWc9NTEyNjtlbHNlIGlmKHUgaW5zdGFuY2VvZiBVaW50MTZBcnJheSlpZihsLmlzRmxvYXQxNkJ1ZmZlckF0dHJpYnV0ZSlpZih0KWc9NTEzMTtlbHNlIHRocm93IG5ldyBFcnJvcigiVEhSRUUuV2ViR0xBdHRyaWJ1dGVzOiBVc2FnZSBvZiBGbG9hdDE2QnVmZmVyQXR0cmlidXRlIHJlcXVpcmVzIFdlYkdMMi4iKTtlbHNlIGc9NTEyMztlbHNlIGlmKHUgaW5zdGFuY2VvZiBJbnQxNkFycmF5KWc9NTEyMjtlbHNlIGlmKHUgaW5zdGFuY2VvZiBVaW50MzJBcnJheSlnPTUxMjU7ZWxzZSBpZih1IGluc3RhbmNlb2YgSW50MzJBcnJheSlnPTUxMjQ7ZWxzZSBpZih1IGluc3RhbmNlb2YgSW50OEFycmF5KWc9NTEyMDtlbHNlIGlmKHUgaW5zdGFuY2VvZiBVaW50OEFycmF5KWc9NTEyMTtlbHNlIGlmKHUgaW5zdGFuY2VvZiBVaW50OENsYW1wZWRBcnJheSlnPTUxMjE7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoIlRIUkVFLldlYkdMQXR0cmlidXRlczogVW5zdXBwb3J0ZWQgYnVmZmVyIGRhdGEgZm9ybWF0OiAiK3UpO3JldHVybntidWZmZXI6cCx0eXBlOmcsYnl0ZXNQZXJFbGVtZW50OnUuQllURVNfUEVSX0VMRU1FTlQsdmVyc2lvbjpsLnZlcnNpb259fWZ1bmN0aW9uIGEobCxjLHUpe2NvbnN0IGQ9Yy5hcnJheSxwPWMudXBkYXRlUmFuZ2U7aS5iaW5kQnVmZmVyKHUsbCkscC5jb3VudD09PS0xP2kuYnVmZmVyU3ViRGF0YSh1LDAsZCk6KHQ/aS5idWZmZXJTdWJEYXRhKHUscC5vZmZzZXQqZC5CWVRFU19QRVJfRUxFTUVOVCxkLHAub2Zmc2V0LHAuY291bnQpOmkuYnVmZmVyU3ViRGF0YSh1LHAub2Zmc2V0KmQuQllURVNfUEVSX0VMRU1FTlQsZC5zdWJhcnJheShwLm9mZnNldCxwLm9mZnNldCtwLmNvdW50KSkscC5jb3VudD0tMSl9ZnVuY3Rpb24gbihsKXtyZXR1cm4gbC5pc0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlJiYobD1sLmRhdGEpLHIuZ2V0KGwpfWZ1bmN0aW9uIG8obCl7bC5pc0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlJiYobD1sLmRhdGEpO2NvbnN0IGM9ci5nZXQobCk7YyYmKGkuZGVsZXRlQnVmZmVyKGMuYnVmZmVyKSxyLmRlbGV0ZShsKSl9ZnVuY3Rpb24gaChsLGMpe2lmKGwuaXNHTEJ1ZmZlckF0dHJpYnV0ZSl7Y29uc3QgZD1yLmdldChsKTsoIWR8fGQudmVyc2lvbjxsLnZlcnNpb24pJiZyLnNldChsLHtidWZmZXI6bC5idWZmZXIsdHlwZTpsLnR5cGUsYnl0ZXNQZXJFbGVtZW50OmwuZWxlbWVudFNpemUsdmVyc2lvbjpsLnZlcnNpb259KTtyZXR1cm59bC5pc0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlJiYobD1sLmRhdGEpO2NvbnN0IHU9ci5nZXQobCk7dT09PXZvaWQgMD9yLnNldChsLHMobCxjKSk6dS52ZXJzaW9uPGwudmVyc2lvbiYmKGEodS5idWZmZXIsbCxjKSx1LnZlcnNpb249bC52ZXJzaW9uKX1yZXR1cm57Z2V0Om4scmVtb3ZlOm8sdXBkYXRlOmh9fWNsYXNzIGhvIGV4dGVuZHMgJGV7Y29uc3RydWN0b3IoZT0xLHQ9MSxyPTEscz0xKXtzdXBlcigpO3RoaXMudHlwZT0iUGxhbmVHZW9tZXRyeSIsdGhpcy5wYXJhbWV0ZXJzPXt3aWR0aDplLGhlaWdodDp0LHdpZHRoU2VnbWVudHM6cixoZWlnaHRTZWdtZW50czpzfTtjb25zdCBhPWUvMixuPXQvMixvPU1hdGguZmxvb3IociksaD1NYXRoLmZsb29yKHMpLGw9bysxLGM9aCsxLHU9ZS9vLGQ9dC9oLHA9W10sZz1bXSxmPVtdLG09W107Zm9yKGxldCB2PTA7djxjO3YrKyl7Y29uc3QgeT12KmQtbjtmb3IobGV0IFQ9MDtUPGw7VCsrKXtjb25zdCB3PVQqdS1hO2cucHVzaCh3LC15LDApLGYucHVzaCgwLDAsMSksbS5wdXNoKFQvbyksbS5wdXNoKDEtdi9oKX19Zm9yKGxldCB2PTA7djxoO3YrKylmb3IobGV0IHk9MDt5PG87eSsrKXtjb25zdCBUPXkrbCp2LHc9eStsKih2KzEpLGI9eSsxK2wqKHYrMSksTD15KzErbCp2O3AucHVzaChULHcsTCkscC5wdXNoKHcsYixMKX10aGlzLnNldEluZGV4KHApLHRoaXMuc2V0QXR0cmlidXRlKCJwb3NpdGlvbiIsbmV3IHB0KGcsMykpLHRoaXMuc2V0QXR0cmlidXRlKCJub3JtYWwiLG5ldyBwdChmLDMpKSx0aGlzLnNldEF0dHJpYnV0ZSgidXYiLG5ldyBwdChtLDIpKX1zdGF0aWMgZnJvbUpTT04oZSl7cmV0dXJuIG5ldyBobyhlLndpZHRoLGUuaGVpZ2h0LGUud2lkdGhTZWdtZW50cyxlLmhlaWdodFNlZ21lbnRzKX19dmFyIGcwPWAjaWZkZWYgVVNFX0FMUEhBTUFQCglkaWZmdXNlQ29sb3IuYSAqPSB0ZXh0dXJlMkQoIGFscGhhTWFwLCB2VXYgKS5nOwojZW5kaWZgLHYwPWAjaWZkZWYgVVNFX0FMUEhBTUFQCgl1bmlmb3JtIHNhbXBsZXIyRCBhbHBoYU1hcDsKI2VuZGlmYCx4MD1gI2lmZGVmIFVTRV9BTFBIQVRFU1QKCWlmICggZGlmZnVzZUNvbG9yLmEgPCBhbHBoYVRlc3QgKSBkaXNjYXJkOwojZW5kaWZgLF8wPWAjaWZkZWYgVVNFX0FMUEhBVEVTVAoJdW5pZm9ybSBmbG9hdCBhbHBoYVRlc3Q7CiNlbmRpZmAseTA9YCNpZmRlZiBVU0VfQU9NQVAKCWZsb2F0IGFtYmllbnRPY2NsdXNpb24gPSAoIHRleHR1cmUyRCggYW9NYXAsIHZVdjIgKS5yIC0gMS4wICkgKiBhb01hcEludGVuc2l0eSArIDEuMDsKCXJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSAqPSBhbWJpZW50T2NjbHVzaW9uOwoJI2lmIGRlZmluZWQoIFVTRV9FTlZNQVAgKSAmJiBkZWZpbmVkKCBTVEFOREFSRCApCgkJZmxvYXQgZG90TlYgPSBzYXR1cmF0ZSggZG90KCBnZW9tZXRyeS5ub3JtYWwsIGdlb21ldHJ5LnZpZXdEaXIgKSApOwoJCXJlZmxlY3RlZExpZ2h0LmluZGlyZWN0U3BlY3VsYXIgKj0gY29tcHV0ZVNwZWN1bGFyT2NjbHVzaW9uKCBkb3ROViwgYW1iaWVudE9jY2x1c2lvbiwgbWF0ZXJpYWwucm91Z2huZXNzICk7CgkjZW5kaWYKI2VuZGlmYCxNMD1gI2lmZGVmIFVTRV9BT01BUAoJdW5pZm9ybSBzYW1wbGVyMkQgYW9NYXA7Cgl1bmlmb3JtIGZsb2F0IGFvTWFwSW50ZW5zaXR5OwojZW5kaWZgLGIwPSJ2ZWMzIHRyYW5zZm9ybWVkID0gdmVjMyggcG9zaXRpb24gKTsiLHcwPWB2ZWMzIG9iamVjdE5vcm1hbCA9IHZlYzMoIG5vcm1hbCApOwojaWZkZWYgVVNFX1RBTkdFTlQKCXZlYzMgb2JqZWN0VGFuZ2VudCA9IHZlYzMoIHRhbmdlbnQueHl6ICk7CiNlbmRpZmAsUzA9YHZlYzMgQlJERl9MYW1iZXJ0KCBjb25zdCBpbiB2ZWMzIGRpZmZ1c2VDb2xvciApIHsKCXJldHVybiBSRUNJUFJPQ0FMX1BJICogZGlmZnVzZUNvbG9yOwp9CnZlYzMgRl9TY2hsaWNrKCBjb25zdCBpbiB2ZWMzIGYwLCBjb25zdCBpbiBmbG9hdCBmOTAsIGNvbnN0IGluIGZsb2F0IGRvdFZIICkgewoJZmxvYXQgZnJlc25lbCA9IGV4cDIoICggLSA1LjU1NDczICogZG90VkggLSA2Ljk4MzE2ICkgKiBkb3RWSCApOwoJcmV0dXJuIGYwICogKCAxLjAgLSBmcmVzbmVsICkgKyAoIGY5MCAqIGZyZXNuZWwgKTsKfQpmbG9hdCBWX0dHWF9TbWl0aENvcnJlbGF0ZWQoIGNvbnN0IGluIGZsb2F0IGFscGhhLCBjb25zdCBpbiBmbG9hdCBkb3ROTCwgY29uc3QgaW4gZmxvYXQgZG90TlYgKSB7CglmbG9hdCBhMiA9IHBvdzIoIGFscGhhICk7CglmbG9hdCBndiA9IGRvdE5MICogc3FydCggYTIgKyAoIDEuMCAtIGEyICkgKiBwb3cyKCBkb3ROViApICk7CglmbG9hdCBnbCA9IGRvdE5WICogc3FydCggYTIgKyAoIDEuMCAtIGEyICkgKiBwb3cyKCBkb3ROTCApICk7CglyZXR1cm4gMC41IC8gbWF4KCBndiArIGdsLCBFUFNJTE9OICk7Cn0KZmxvYXQgRF9HR1goIGNvbnN0IGluIGZsb2F0IGFscGhhLCBjb25zdCBpbiBmbG9hdCBkb3ROSCApIHsKCWZsb2F0IGEyID0gcG93MiggYWxwaGEgKTsKCWZsb2F0IGRlbm9tID0gcG93MiggZG90TkggKSAqICggYTIgLSAxLjAgKSArIDEuMDsKCXJldHVybiBSRUNJUFJPQ0FMX1BJICogYTIgLyBwb3cyKCBkZW5vbSApOwp9CnZlYzMgQlJERl9HR1goIGNvbnN0IGluIHZlYzMgbGlnaHREaXIsIGNvbnN0IGluIHZlYzMgdmlld0RpciwgY29uc3QgaW4gdmVjMyBub3JtYWwsIGNvbnN0IGluIHZlYzMgZjAsIGNvbnN0IGluIGZsb2F0IGY5MCwgY29uc3QgaW4gZmxvYXQgcm91Z2huZXNzICkgewoJZmxvYXQgYWxwaGEgPSBwb3cyKCByb3VnaG5lc3MgKTsKCXZlYzMgaGFsZkRpciA9IG5vcm1hbGl6ZSggbGlnaHREaXIgKyB2aWV3RGlyICk7CglmbG9hdCBkb3ROTCA9IHNhdHVyYXRlKCBkb3QoIG5vcm1hbCwgbGlnaHREaXIgKSApOwoJZmxvYXQgZG90TlYgPSBzYXR1cmF0ZSggZG90KCBub3JtYWwsIHZpZXdEaXIgKSApOwoJZmxvYXQgZG90TkggPSBzYXR1cmF0ZSggZG90KCBub3JtYWwsIGhhbGZEaXIgKSApOwoJZmxvYXQgZG90VkggPSBzYXR1cmF0ZSggZG90KCB2aWV3RGlyLCBoYWxmRGlyICkgKTsKCXZlYzMgRiA9IEZfU2NobGljayggZjAsIGY5MCwgZG90VkggKTsKCWZsb2F0IFYgPSBWX0dHWF9TbWl0aENvcnJlbGF0ZWQoIGFscGhhLCBkb3ROTCwgZG90TlYgKTsKCWZsb2F0IEQgPSBEX0dHWCggYWxwaGEsIGRvdE5IICk7CglyZXR1cm4gRiAqICggViAqIEQgKTsKfQp2ZWMyIExUQ19VdiggY29uc3QgaW4gdmVjMyBOLCBjb25zdCBpbiB2ZWMzIFYsIGNvbnN0IGluIGZsb2F0IHJvdWdobmVzcyApIHsKCWNvbnN0IGZsb2F0IExVVF9TSVpFID0gNjQuMDsKCWNvbnN0IGZsb2F0IExVVF9TQ0FMRSA9ICggTFVUX1NJWkUgLSAxLjAgKSAvIExVVF9TSVpFOwoJY29uc3QgZmxvYXQgTFVUX0JJQVMgPSAwLjUgLyBMVVRfU0laRTsKCWZsb2F0IGRvdE5WID0gc2F0dXJhdGUoIGRvdCggTiwgViApICk7Cgl2ZWMyIHV2ID0gdmVjMiggcm91Z2huZXNzLCBzcXJ0KCAxLjAgLSBkb3ROViApICk7Cgl1diA9IHV2ICogTFVUX1NDQUxFICsgTFVUX0JJQVM7CglyZXR1cm4gdXY7Cn0KZmxvYXQgTFRDX0NsaXBwZWRTcGhlcmVGb3JtRmFjdG9yKCBjb25zdCBpbiB2ZWMzIGYgKSB7CglmbG9hdCBsID0gbGVuZ3RoKCBmICk7CglyZXR1cm4gbWF4KCAoIGwgKiBsICsgZi56ICkgLyAoIGwgKyAxLjAgKSwgMC4wICk7Cn0KdmVjMyBMVENfRWRnZVZlY3RvckZvcm1GYWN0b3IoIGNvbnN0IGluIHZlYzMgdjEsIGNvbnN0IGluIHZlYzMgdjIgKSB7CglmbG9hdCB4ID0gZG90KCB2MSwgdjIgKTsKCWZsb2F0IHkgPSBhYnMoIHggKTsKCWZsb2F0IGEgPSAwLjg1NDM5ODUgKyAoIDAuNDk2NTE1NSArIDAuMDE0NTIwNiAqIHkgKSAqIHk7CglmbG9hdCBiID0gMy40MTc1OTQwICsgKCA0LjE2MTY3MjQgKyB5ICkgKiB5OwoJZmxvYXQgdiA9IGEgLyBiOwoJZmxvYXQgdGhldGFfc2ludGhldGEgPSAoIHggPiAwLjAgKSA/IHYgOiAwLjUgKiBpbnZlcnNlc3FydCggbWF4KCAxLjAgLSB4ICogeCwgMWUtNyApICkgLSB2OwoJcmV0dXJuIGNyb3NzKCB2MSwgdjIgKSAqIHRoZXRhX3NpbnRoZXRhOwp9CnZlYzMgTFRDX0V2YWx1YXRlKCBjb25zdCBpbiB2ZWMzIE4sIGNvbnN0IGluIHZlYzMgViwgY29uc3QgaW4gdmVjMyBQLCBjb25zdCBpbiBtYXQzIG1JbnYsIGNvbnN0IGluIHZlYzMgcmVjdENvb3Jkc1sgNCBdICkgewoJdmVjMyB2MSA9IHJlY3RDb29yZHNbIDEgXSAtIHJlY3RDb29yZHNbIDAgXTsKCXZlYzMgdjIgPSByZWN0Q29vcmRzWyAzIF0gLSByZWN0Q29vcmRzWyAwIF07Cgl2ZWMzIGxpZ2h0Tm9ybWFsID0gY3Jvc3MoIHYxLCB2MiApOwoJaWYoIGRvdCggbGlnaHROb3JtYWwsIFAgLSByZWN0Q29vcmRzWyAwIF0gKSA8IDAuMCApIHJldHVybiB2ZWMzKCAwLjAgKTsKCXZlYzMgVDEsIFQyOwoJVDEgPSBub3JtYWxpemUoIFYgLSBOICogZG90KCBWLCBOICkgKTsKCVQyID0gLSBjcm9zcyggTiwgVDEgKTsKCW1hdDMgbWF0ID0gbUludiAqIHRyYW5zcG9zZU1hdDMoIG1hdDMoIFQxLCBUMiwgTiApICk7Cgl2ZWMzIGNvb3Jkc1sgNCBdOwoJY29vcmRzWyAwIF0gPSBtYXQgKiAoIHJlY3RDb29yZHNbIDAgXSAtIFAgKTsKCWNvb3Jkc1sgMSBdID0gbWF0ICogKCByZWN0Q29vcmRzWyAxIF0gLSBQICk7Cgljb29yZHNbIDIgXSA9IG1hdCAqICggcmVjdENvb3Jkc1sgMiBdIC0gUCApOwoJY29vcmRzWyAzIF0gPSBtYXQgKiAoIHJlY3RDb29yZHNbIDMgXSAtIFAgKTsKCWNvb3Jkc1sgMCBdID0gbm9ybWFsaXplKCBjb29yZHNbIDAgXSApOwoJY29vcmRzWyAxIF0gPSBub3JtYWxpemUoIGNvb3Jkc1sgMSBdICk7Cgljb29yZHNbIDIgXSA9IG5vcm1hbGl6ZSggY29vcmRzWyAyIF0gKTsKCWNvb3Jkc1sgMyBdID0gbm9ybWFsaXplKCBjb29yZHNbIDMgXSApOwoJdmVjMyB2ZWN0b3JGb3JtRmFjdG9yID0gdmVjMyggMC4wICk7Cgl2ZWN0b3JGb3JtRmFjdG9yICs9IExUQ19FZGdlVmVjdG9yRm9ybUZhY3RvciggY29vcmRzWyAwIF0sIGNvb3Jkc1sgMSBdICk7Cgl2ZWN0b3JGb3JtRmFjdG9yICs9IExUQ19FZGdlVmVjdG9yRm9ybUZhY3RvciggY29vcmRzWyAxIF0sIGNvb3Jkc1sgMiBdICk7Cgl2ZWN0b3JGb3JtRmFjdG9yICs9IExUQ19FZGdlVmVjdG9yRm9ybUZhY3RvciggY29vcmRzWyAyIF0sIGNvb3Jkc1sgMyBdICk7Cgl2ZWN0b3JGb3JtRmFjdG9yICs9IExUQ19FZGdlVmVjdG9yRm9ybUZhY3RvciggY29vcmRzWyAzIF0sIGNvb3Jkc1sgMCBdICk7CglmbG9hdCByZXN1bHQgPSBMVENfQ2xpcHBlZFNwaGVyZUZvcm1GYWN0b3IoIHZlY3RvckZvcm1GYWN0b3IgKTsKCXJldHVybiB2ZWMzKCByZXN1bHQgKTsKfQpmbG9hdCBHX0JsaW5uUGhvbmdfSW1wbGljaXQoICkgewoJcmV0dXJuIDAuMjU7Cn0KZmxvYXQgRF9CbGlublBob25nKCBjb25zdCBpbiBmbG9hdCBzaGluaW5lc3MsIGNvbnN0IGluIGZsb2F0IGRvdE5IICkgewoJcmV0dXJuIFJFQ0lQUk9DQUxfUEkgKiAoIHNoaW5pbmVzcyAqIDAuNSArIDEuMCApICogcG93KCBkb3ROSCwgc2hpbmluZXNzICk7Cn0KdmVjMyBCUkRGX0JsaW5uUGhvbmcoIGNvbnN0IGluIHZlYzMgbGlnaHREaXIsIGNvbnN0IGluIHZlYzMgdmlld0RpciwgY29uc3QgaW4gdmVjMyBub3JtYWwsIGNvbnN0IGluIHZlYzMgc3BlY3VsYXJDb2xvciwgY29uc3QgaW4gZmxvYXQgc2hpbmluZXNzICkgewoJdmVjMyBoYWxmRGlyID0gbm9ybWFsaXplKCBsaWdodERpciArIHZpZXdEaXIgKTsKCWZsb2F0IGRvdE5IID0gc2F0dXJhdGUoIGRvdCggbm9ybWFsLCBoYWxmRGlyICkgKTsKCWZsb2F0IGRvdFZIID0gc2F0dXJhdGUoIGRvdCggdmlld0RpciwgaGFsZkRpciApICk7Cgl2ZWMzIEYgPSBGX1NjaGxpY2soIHNwZWN1bGFyQ29sb3IsIDEuMCwgZG90VkggKTsKCWZsb2F0IEcgPSBHX0JsaW5uUGhvbmdfSW1wbGljaXQoICk7CglmbG9hdCBEID0gRF9CbGlublBob25nKCBzaGluaW5lc3MsIGRvdE5IICk7CglyZXR1cm4gRiAqICggRyAqIEQgKTsKfQojaWYgZGVmaW5lZCggVVNFX1NIRUVOICkKZmxvYXQgRF9DaGFybGllKCBmbG9hdCByb3VnaG5lc3MsIGZsb2F0IGRvdE5IICkgewoJZmxvYXQgYWxwaGEgPSBwb3cyKCByb3VnaG5lc3MgKTsKCWZsb2F0IGludkFscGhhID0gMS4wIC8gYWxwaGE7CglmbG9hdCBjb3MyaCA9IGRvdE5IICogZG90Tkg7CglmbG9hdCBzaW4yaCA9IG1heCggMS4wIC0gY29zMmgsIDAuMDA3ODEyNSApOwoJcmV0dXJuICggMi4wICsgaW52QWxwaGEgKSAqIHBvdyggc2luMmgsIGludkFscGhhICogMC41ICkgLyAoIDIuMCAqIFBJICk7Cn0KZmxvYXQgVl9OZXViZWx0KCBmbG9hdCBkb3ROViwgZmxvYXQgZG90TkwgKSB7CglyZXR1cm4gc2F0dXJhdGUoIDEuMCAvICggNC4wICogKCBkb3ROTCArIGRvdE5WIC0gZG90TkwgKiBkb3ROViApICkgKTsKfQp2ZWMzIEJSREZfU2hlZW4oIGNvbnN0IGluIHZlYzMgbGlnaHREaXIsIGNvbnN0IGluIHZlYzMgdmlld0RpciwgY29uc3QgaW4gdmVjMyBub3JtYWwsIHZlYzMgc2hlZW5Db2xvciwgY29uc3QgaW4gZmxvYXQgc2hlZW5Sb3VnaG5lc3MgKSB7Cgl2ZWMzIGhhbGZEaXIgPSBub3JtYWxpemUoIGxpZ2h0RGlyICsgdmlld0RpciApOwoJZmxvYXQgZG90TkwgPSBzYXR1cmF0ZSggZG90KCBub3JtYWwsIGxpZ2h0RGlyICkgKTsKCWZsb2F0IGRvdE5WID0gc2F0dXJhdGUoIGRvdCggbm9ybWFsLCB2aWV3RGlyICkgKTsKCWZsb2F0IGRvdE5IID0gc2F0dXJhdGUoIGRvdCggbm9ybWFsLCBoYWxmRGlyICkgKTsKCWZsb2F0IEQgPSBEX0NoYXJsaWUoIHNoZWVuUm91Z2huZXNzLCBkb3ROSCApOwoJZmxvYXQgViA9IFZfTmV1YmVsdCggZG90TlYsIGRvdE5MICk7CglyZXR1cm4gc2hlZW5Db2xvciAqICggRCAqIFYgKTsKfQojZW5kaWZgLEUwPWAjaWZkZWYgVVNFX0JVTVBNQVAKCXVuaWZvcm0gc2FtcGxlcjJEIGJ1bXBNYXA7Cgl1bmlmb3JtIGZsb2F0IGJ1bXBTY2FsZTsKCXZlYzIgZEhkeHlfZndkKCkgewoJCXZlYzIgZFNUZHggPSBkRmR4KCB2VXYgKTsKCQl2ZWMyIGRTVGR5ID0gZEZkeSggdlV2ICk7CgkJZmxvYXQgSGxsID0gYnVtcFNjYWxlICogdGV4dHVyZTJEKCBidW1wTWFwLCB2VXYgKS54OwoJCWZsb2F0IGRCeCA9IGJ1bXBTY2FsZSAqIHRleHR1cmUyRCggYnVtcE1hcCwgdlV2ICsgZFNUZHggKS54IC0gSGxsOwoJCWZsb2F0IGRCeSA9IGJ1bXBTY2FsZSAqIHRleHR1cmUyRCggYnVtcE1hcCwgdlV2ICsgZFNUZHkgKS54IC0gSGxsOwoJCXJldHVybiB2ZWMyKCBkQngsIGRCeSApOwoJfQoJdmVjMyBwZXJ0dXJiTm9ybWFsQXJiKCB2ZWMzIHN1cmZfcG9zLCB2ZWMzIHN1cmZfbm9ybSwgdmVjMiBkSGR4eSwgZmxvYXQgZmFjZURpcmVjdGlvbiApIHsKCQl2ZWMzIHZTaWdtYVggPSB2ZWMzKCBkRmR4KCBzdXJmX3Bvcy54ICksIGRGZHgoIHN1cmZfcG9zLnkgKSwgZEZkeCggc3VyZl9wb3MueiApICk7CgkJdmVjMyB2U2lnbWFZID0gdmVjMyggZEZkeSggc3VyZl9wb3MueCApLCBkRmR5KCBzdXJmX3Bvcy55ICksIGRGZHkoIHN1cmZfcG9zLnogKSApOwoJCXZlYzMgdk4gPSBzdXJmX25vcm07CgkJdmVjMyBSMSA9IGNyb3NzKCB2U2lnbWFZLCB2TiApOwoJCXZlYzMgUjIgPSBjcm9zcyggdk4sIHZTaWdtYVggKTsKCQlmbG9hdCBmRGV0ID0gZG90KCB2U2lnbWFYLCBSMSApICogZmFjZURpcmVjdGlvbjsKCQl2ZWMzIHZHcmFkID0gc2lnbiggZkRldCApICogKCBkSGR4eS54ICogUjEgKyBkSGR4eS55ICogUjIgKTsKCQlyZXR1cm4gbm9ybWFsaXplKCBhYnMoIGZEZXQgKSAqIHN1cmZfbm9ybSAtIHZHcmFkICk7Cgl9CiNlbmRpZmAsVDA9YCNpZiBOVU1fQ0xJUFBJTkdfUExBTkVTID4gMAoJdmVjNCBwbGFuZTsKCSNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnQKCWZvciAoIGludCBpID0gMDsgaSA8IFVOSU9OX0NMSVBQSU5HX1BMQU5FUzsgaSArKyApIHsKCQlwbGFuZSA9IGNsaXBwaW5nUGxhbmVzWyBpIF07CgkJaWYgKCBkb3QoIHZDbGlwUG9zaXRpb24sIHBsYW5lLnh5eiApID4gcGxhbmUudyApIGRpc2NhcmQ7Cgl9CgkjcHJhZ21hIHVucm9sbF9sb29wX2VuZAoJI2lmIFVOSU9OX0NMSVBQSU5HX1BMQU5FUyA8IE5VTV9DTElQUElOR19QTEFORVMKCQlib29sIGNsaXBwZWQgPSB0cnVlOwoJCSNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnQKCQlmb3IgKCBpbnQgaSA9IFVOSU9OX0NMSVBQSU5HX1BMQU5FUzsgaSA8IE5VTV9DTElQUElOR19QTEFORVM7IGkgKysgKSB7CgkJCXBsYW5lID0gY2xpcHBpbmdQbGFuZXNbIGkgXTsKCQkJY2xpcHBlZCA9ICggZG90KCB2Q2xpcFBvc2l0aW9uLCBwbGFuZS54eXogKSA+IHBsYW5lLncgKSAmJiBjbGlwcGVkOwoJCX0KCQkjcHJhZ21hIHVucm9sbF9sb29wX2VuZAoJCWlmICggY2xpcHBlZCApIGRpc2NhcmQ7CgkjZW5kaWYKI2VuZGlmYCxBMD1gI2lmIE5VTV9DTElQUElOR19QTEFORVMgPiAwCgl2YXJ5aW5nIHZlYzMgdkNsaXBQb3NpdGlvbjsKCXVuaWZvcm0gdmVjNCBjbGlwcGluZ1BsYW5lc1sgTlVNX0NMSVBQSU5HX1BMQU5FUyBdOwojZW5kaWZgLEMwPWAjaWYgTlVNX0NMSVBQSU5HX1BMQU5FUyA+IDAKCXZhcnlpbmcgdmVjMyB2Q2xpcFBvc2l0aW9uOwojZW5kaWZgLEwwPWAjaWYgTlVNX0NMSVBQSU5HX1BMQU5FUyA+IDAKCXZDbGlwUG9zaXRpb24gPSAtIG12UG9zaXRpb24ueHl6OwojZW5kaWZgLFIwPWAjaWYgZGVmaW5lZCggVVNFX0NPTE9SX0FMUEhBICkKCWRpZmZ1c2VDb2xvciAqPSB2Q29sb3I7CiNlbGlmIGRlZmluZWQoIFVTRV9DT0xPUiApCglkaWZmdXNlQ29sb3IucmdiICo9IHZDb2xvcjsKI2VuZGlmYCxQMD1gI2lmIGRlZmluZWQoIFVTRV9DT0xPUl9BTFBIQSApCgl2YXJ5aW5nIHZlYzQgdkNvbG9yOwojZWxpZiBkZWZpbmVkKCBVU0VfQ09MT1IgKQoJdmFyeWluZyB2ZWMzIHZDb2xvcjsKI2VuZGlmYCxJMD1gI2lmIGRlZmluZWQoIFVTRV9DT0xPUl9BTFBIQSApCgl2YXJ5aW5nIHZlYzQgdkNvbG9yOwojZWxpZiBkZWZpbmVkKCBVU0VfQ09MT1IgKSB8fCBkZWZpbmVkKCBVU0VfSU5TVEFOQ0lOR19DT0xPUiApCgl2YXJ5aW5nIHZlYzMgdkNvbG9yOwojZW5kaWZgLE4wPWAjaWYgZGVmaW5lZCggVVNFX0NPTE9SX0FMUEhBICkKCXZDb2xvciA9IHZlYzQoIDEuMCApOwojZWxpZiBkZWZpbmVkKCBVU0VfQ09MT1IgKSB8fCBkZWZpbmVkKCBVU0VfSU5TVEFOQ0lOR19DT0xPUiApCgl2Q29sb3IgPSB2ZWMzKCAxLjAgKTsKI2VuZGlmCiNpZmRlZiBVU0VfQ09MT1IKCXZDb2xvciAqPSBjb2xvcjsKI2VuZGlmCiNpZmRlZiBVU0VfSU5TVEFOQ0lOR19DT0xPUgoJdkNvbG9yLnh5eiAqPSBpbnN0YW5jZUNvbG9yLnh5ejsKI2VuZGlmYCxEMD1gI2RlZmluZSBQSSAzLjE0MTU5MjY1MzU4OTc5MwojZGVmaW5lIFBJMiA2LjI4MzE4NTMwNzE3OTU4NgojZGVmaW5lIFBJX0hBTEYgMS41NzA3OTYzMjY3OTQ4OTY2CiNkZWZpbmUgUkVDSVBST0NBTF9QSSAwLjMxODMwOTg4NjE4Mzc5MDcKI2RlZmluZSBSRUNJUFJPQ0FMX1BJMiAwLjE1OTE1NDk0MzA5MTg5NTM1CiNkZWZpbmUgRVBTSUxPTiAxZS02CiNpZm5kZWYgc2F0dXJhdGUKI2RlZmluZSBzYXR1cmF0ZSggYSApIGNsYW1wKCBhLCAwLjAsIDEuMCApCiNlbmRpZgojZGVmaW5lIHdoaXRlQ29tcGxlbWVudCggYSApICggMS4wIC0gc2F0dXJhdGUoIGEgKSApCmZsb2F0IHBvdzIoIGNvbnN0IGluIGZsb2F0IHggKSB7IHJldHVybiB4Kng7IH0KZmxvYXQgcG93MyggY29uc3QgaW4gZmxvYXQgeCApIHsgcmV0dXJuIHgqeCp4OyB9CmZsb2F0IHBvdzQoIGNvbnN0IGluIGZsb2F0IHggKSB7IGZsb2F0IHgyID0geCp4OyByZXR1cm4geDIqeDI7IH0KZmxvYXQgbWF4MyggY29uc3QgaW4gdmVjMyB2ICkgeyByZXR1cm4gbWF4KCBtYXgoIHYueCwgdi55ICksIHYueiApOyB9CmZsb2F0IGF2ZXJhZ2UoIGNvbnN0IGluIHZlYzMgY29sb3IgKSB7IHJldHVybiBkb3QoIGNvbG9yLCB2ZWMzKCAwLjMzMzMgKSApOyB9CmhpZ2hwIGZsb2F0IHJhbmQoIGNvbnN0IGluIHZlYzIgdXYgKSB7Cgljb25zdCBoaWdocCBmbG9hdCBhID0gMTIuOTg5OCwgYiA9IDc4LjIzMywgYyA9IDQzNzU4LjU0NTM7CgloaWdocCBmbG9hdCBkdCA9IGRvdCggdXYueHksIHZlYzIoIGEsYiApICksIHNuID0gbW9kKCBkdCwgUEkgKTsKCXJldHVybiBmcmFjdCggc2luKCBzbiApICogYyApOwp9CiNpZmRlZiBISUdIX1BSRUNJU0lPTgoJZmxvYXQgcHJlY2lzaW9uU2FmZUxlbmd0aCggdmVjMyB2ICkgeyByZXR1cm4gbGVuZ3RoKCB2ICk7IH0KI2Vsc2UKCWZsb2F0IHByZWNpc2lvblNhZmVMZW5ndGgoIHZlYzMgdiApIHsKCQlmbG9hdCBtYXhDb21wb25lbnQgPSBtYXgzKCBhYnMoIHYgKSApOwoJCXJldHVybiBsZW5ndGgoIHYgLyBtYXhDb21wb25lbnQgKSAqIG1heENvbXBvbmVudDsKCX0KI2VuZGlmCnN0cnVjdCBJbmNpZGVudExpZ2h0IHsKCXZlYzMgY29sb3I7Cgl2ZWMzIGRpcmVjdGlvbjsKCWJvb2wgdmlzaWJsZTsKfTsKc3RydWN0IFJlZmxlY3RlZExpZ2h0IHsKCXZlYzMgZGlyZWN0RGlmZnVzZTsKCXZlYzMgZGlyZWN0U3BlY3VsYXI7Cgl2ZWMzIGluZGlyZWN0RGlmZnVzZTsKCXZlYzMgaW5kaXJlY3RTcGVjdWxhcjsKfTsKc3RydWN0IEdlb21ldHJpY0NvbnRleHQgewoJdmVjMyBwb3NpdGlvbjsKCXZlYzMgbm9ybWFsOwoJdmVjMyB2aWV3RGlyOwojaWZkZWYgVVNFX0NMRUFSQ09BVAoJdmVjMyBjbGVhcmNvYXROb3JtYWw7CiNlbmRpZgp9Owp2ZWMzIHRyYW5zZm9ybURpcmVjdGlvbiggaW4gdmVjMyBkaXIsIGluIG1hdDQgbWF0cml4ICkgewoJcmV0dXJuIG5vcm1hbGl6ZSggKCBtYXRyaXggKiB2ZWM0KCBkaXIsIDAuMCApICkueHl6ICk7Cn0KdmVjMyBpbnZlcnNlVHJhbnNmb3JtRGlyZWN0aW9uKCBpbiB2ZWMzIGRpciwgaW4gbWF0NCBtYXRyaXggKSB7CglyZXR1cm4gbm9ybWFsaXplKCAoIHZlYzQoIGRpciwgMC4wICkgKiBtYXRyaXggKS54eXogKTsKfQptYXQzIHRyYW5zcG9zZU1hdDMoIGNvbnN0IGluIG1hdDMgbSApIHsKCW1hdDMgdG1wOwoJdG1wWyAwIF0gPSB2ZWMzKCBtWyAwIF0ueCwgbVsgMSBdLngsIG1bIDIgXS54ICk7Cgl0bXBbIDEgXSA9IHZlYzMoIG1bIDAgXS55LCBtWyAxIF0ueSwgbVsgMiBdLnkgKTsKCXRtcFsgMiBdID0gdmVjMyggbVsgMCBdLnosIG1bIDEgXS56LCBtWyAyIF0ueiApOwoJcmV0dXJuIHRtcDsKfQpmbG9hdCBsaW5lYXJUb1JlbGF0aXZlTHVtaW5hbmNlKCBjb25zdCBpbiB2ZWMzIGNvbG9yICkgewoJdmVjMyB3ZWlnaHRzID0gdmVjMyggMC4yMTI2LCAwLjcxNTIsIDAuMDcyMiApOwoJcmV0dXJuIGRvdCggd2VpZ2h0cywgY29sb3IucmdiICk7Cn0KYm9vbCBpc1BlcnNwZWN0aXZlTWF0cml4KCBtYXQ0IG0gKSB7CglyZXR1cm4gbVsgMiBdWyAzIF0gPT0gLSAxLjA7Cn0KdmVjMiBlcXVpcmVjdFV2KCBpbiB2ZWMzIGRpciApIHsKCWZsb2F0IHUgPSBhdGFuKCBkaXIueiwgZGlyLnggKSAqIFJFQ0lQUk9DQUxfUEkyICsgMC41OwoJZmxvYXQgdiA9IGFzaW4oIGNsYW1wKCBkaXIueSwgLSAxLjAsIDEuMCApICkgKiBSRUNJUFJPQ0FMX1BJICsgMC41OwoJcmV0dXJuIHZlYzIoIHUsIHYgKTsKfWAsTzA9YCNpZmRlZiBFTlZNQVBfVFlQRV9DVUJFX1VWCgkjZGVmaW5lIGN1YmVVVl9taW5NaXBMZXZlbCA0LjAKCSNkZWZpbmUgY3ViZVVWX21pblRpbGVTaXplIDE2LjAKCWZsb2F0IGdldEZhY2UoIHZlYzMgZGlyZWN0aW9uICkgewoJCXZlYzMgYWJzRGlyZWN0aW9uID0gYWJzKCBkaXJlY3Rpb24gKTsKCQlmbG9hdCBmYWNlID0gLSAxLjA7CgkJaWYgKCBhYnNEaXJlY3Rpb24ueCA+IGFic0RpcmVjdGlvbi56ICkgewoJCQlpZiAoIGFic0RpcmVjdGlvbi54ID4gYWJzRGlyZWN0aW9uLnkgKQoJCQkJZmFjZSA9IGRpcmVjdGlvbi54ID4gMC4wID8gMC4wIDogMy4wOwoJCQllbHNlCgkJCQlmYWNlID0gZGlyZWN0aW9uLnkgPiAwLjAgPyAxLjAgOiA0LjA7CgkJfSBlbHNlIHsKCQkJaWYgKCBhYnNEaXJlY3Rpb24ueiA+IGFic0RpcmVjdGlvbi55ICkKCQkJCWZhY2UgPSBkaXJlY3Rpb24ueiA+IDAuMCA/IDIuMCA6IDUuMDsKCQkJZWxzZQoJCQkJZmFjZSA9IGRpcmVjdGlvbi55ID4gMC4wID8gMS4wIDogNC4wOwoJCX0KCQlyZXR1cm4gZmFjZTsKCX0KCXZlYzIgZ2V0VVYoIHZlYzMgZGlyZWN0aW9uLCBmbG9hdCBmYWNlICkgewoJCXZlYzIgdXY7CgkJaWYgKCBmYWNlID09IDAuMCApIHsKCQkJdXYgPSB2ZWMyKCBkaXJlY3Rpb24ueiwgZGlyZWN0aW9uLnkgKSAvIGFicyggZGlyZWN0aW9uLnggKTsKCQl9IGVsc2UgaWYgKCBmYWNlID09IDEuMCApIHsKCQkJdXYgPSB2ZWMyKCAtIGRpcmVjdGlvbi54LCAtIGRpcmVjdGlvbi56ICkgLyBhYnMoIGRpcmVjdGlvbi55ICk7CgkJfSBlbHNlIGlmICggZmFjZSA9PSAyLjAgKSB7CgkJCXV2ID0gdmVjMiggLSBkaXJlY3Rpb24ueCwgZGlyZWN0aW9uLnkgKSAvIGFicyggZGlyZWN0aW9uLnogKTsKCQl9IGVsc2UgaWYgKCBmYWNlID09IDMuMCApIHsKCQkJdXYgPSB2ZWMyKCAtIGRpcmVjdGlvbi56LCBkaXJlY3Rpb24ueSApIC8gYWJzKCBkaXJlY3Rpb24ueCApOwoJCX0gZWxzZSBpZiAoIGZhY2UgPT0gNC4wICkgewoJCQl1diA9IHZlYzIoIC0gZGlyZWN0aW9uLngsIGRpcmVjdGlvbi56ICkgLyBhYnMoIGRpcmVjdGlvbi55ICk7CgkJfSBlbHNlIHsKCQkJdXYgPSB2ZWMyKCBkaXJlY3Rpb24ueCwgZGlyZWN0aW9uLnkgKSAvIGFicyggZGlyZWN0aW9uLnogKTsKCQl9CgkJcmV0dXJuIDAuNSAqICggdXYgKyAxLjAgKTsKCX0KCXZlYzMgYmlsaW5lYXJDdWJlVVYoIHNhbXBsZXIyRCBlbnZNYXAsIHZlYzMgZGlyZWN0aW9uLCBmbG9hdCBtaXBJbnQgKSB7CgkJZmxvYXQgZmFjZSA9IGdldEZhY2UoIGRpcmVjdGlvbiApOwoJCWZsb2F0IGZpbHRlckludCA9IG1heCggY3ViZVVWX21pbk1pcExldmVsIC0gbWlwSW50LCAwLjAgKTsKCQltaXBJbnQgPSBtYXgoIG1pcEludCwgY3ViZVVWX21pbk1pcExldmVsICk7CgkJZmxvYXQgZmFjZVNpemUgPSBleHAyKCBtaXBJbnQgKTsKCQl2ZWMyIHV2ID0gZ2V0VVYoIGRpcmVjdGlvbiwgZmFjZSApICogKCBmYWNlU2l6ZSAtIDEuMCApICsgMC41OwoJCWlmICggZmFjZSA+IDIuMCApIHsKCQkJdXYueSArPSBmYWNlU2l6ZTsKCQkJZmFjZSAtPSAzLjA7CgkJfQoJCXV2LnggKz0gZmFjZSAqIGZhY2VTaXplOwoJCXV2LnggKz0gZmlsdGVySW50ICogMy4wICogY3ViZVVWX21pblRpbGVTaXplOwoJCXV2LnkgKz0gNC4wICogKCBleHAyKCBDVUJFVVZfTUFYX01JUCApIC0gZmFjZVNpemUgKTsKCQl1di54ICo9IENVQkVVVl9URVhFTF9XSURUSDsKCQl1di55ICo9IENVQkVVVl9URVhFTF9IRUlHSFQ7CgkJI2lmZGVmIHRleHR1cmUyREdyYWRFWFQKCQkJcmV0dXJuIHRleHR1cmUyREdyYWRFWFQoIGVudk1hcCwgdXYsIHZlYzIoIDAuMCApLCB2ZWMyKCAwLjAgKSApLnJnYjsKCQkjZWxzZQoJCQlyZXR1cm4gdGV4dHVyZTJEKCBlbnZNYXAsIHV2ICkucmdiOwoJCSNlbmRpZgoJfQoJI2RlZmluZSByMCAxLjAKCSNkZWZpbmUgdjAgMC4zMzkKCSNkZWZpbmUgbTAgLSAyLjAKCSNkZWZpbmUgcjEgMC44CgkjZGVmaW5lIHYxIDAuMjc2CgkjZGVmaW5lIG0xIC0gMS4wCgkjZGVmaW5lIHI0IDAuNAoJI2RlZmluZSB2NCAwLjA0NgoJI2RlZmluZSBtNCAyLjAKCSNkZWZpbmUgcjUgMC4zMDUKCSNkZWZpbmUgdjUgMC4wMTYKCSNkZWZpbmUgbTUgMy4wCgkjZGVmaW5lIHI2IDAuMjEKCSNkZWZpbmUgdjYgMC4wMDM4CgkjZGVmaW5lIG02IDQuMAoJZmxvYXQgcm91Z2huZXNzVG9NaXAoIGZsb2F0IHJvdWdobmVzcyApIHsKCQlmbG9hdCBtaXAgPSAwLjA7CgkJaWYgKCByb3VnaG5lc3MgPj0gcjEgKSB7CgkJCW1pcCA9ICggcjAgLSByb3VnaG5lc3MgKSAqICggbTEgLSBtMCApIC8gKCByMCAtIHIxICkgKyBtMDsKCQl9IGVsc2UgaWYgKCByb3VnaG5lc3MgPj0gcjQgKSB7CgkJCW1pcCA9ICggcjEgLSByb3VnaG5lc3MgKSAqICggbTQgLSBtMSApIC8gKCByMSAtIHI0ICkgKyBtMTsKCQl9IGVsc2UgaWYgKCByb3VnaG5lc3MgPj0gcjUgKSB7CgkJCW1pcCA9ICggcjQgLSByb3VnaG5lc3MgKSAqICggbTUgLSBtNCApIC8gKCByNCAtIHI1ICkgKyBtNDsKCQl9IGVsc2UgaWYgKCByb3VnaG5lc3MgPj0gcjYgKSB7CgkJCW1pcCA9ICggcjUgLSByb3VnaG5lc3MgKSAqICggbTYgLSBtNSApIC8gKCByNSAtIHI2ICkgKyBtNTsKCQl9IGVsc2UgewoJCQltaXAgPSAtIDIuMCAqIGxvZzIoIDEuMTYgKiByb3VnaG5lc3MgKTsJCX0KCQlyZXR1cm4gbWlwOwoJfQoJdmVjNCB0ZXh0dXJlQ3ViZVVWKCBzYW1wbGVyMkQgZW52TWFwLCB2ZWMzIHNhbXBsZURpciwgZmxvYXQgcm91Z2huZXNzICkgewoJCWZsb2F0IG1pcCA9IGNsYW1wKCByb3VnaG5lc3NUb01pcCggcm91Z2huZXNzICksIG0wLCBDVUJFVVZfTUFYX01JUCApOwoJCWZsb2F0IG1pcEYgPSBmcmFjdCggbWlwICk7CgkJZmxvYXQgbWlwSW50ID0gZmxvb3IoIG1pcCApOwoJCXZlYzMgY29sb3IwID0gYmlsaW5lYXJDdWJlVVYoIGVudk1hcCwgc2FtcGxlRGlyLCBtaXBJbnQgKTsKCQlpZiAoIG1pcEYgPT0gMC4wICkgewoJCQlyZXR1cm4gdmVjNCggY29sb3IwLCAxLjAgKTsKCQl9IGVsc2UgewoJCQl2ZWMzIGNvbG9yMSA9IGJpbGluZWFyQ3ViZVVWKCBlbnZNYXAsIHNhbXBsZURpciwgbWlwSW50ICsgMS4wICk7CgkJCXJldHVybiB2ZWM0KCBtaXgoIGNvbG9yMCwgY29sb3IxLCBtaXBGICksIDEuMCApOwoJCX0KCX0KI2VuZGlmYCx6MD1gdmVjMyB0cmFuc2Zvcm1lZE5vcm1hbCA9IG9iamVjdE5vcm1hbDsKI2lmZGVmIFVTRV9JTlNUQU5DSU5HCgltYXQzIG0gPSBtYXQzKCBpbnN0YW5jZU1hdHJpeCApOwoJdHJhbnNmb3JtZWROb3JtYWwgLz0gdmVjMyggZG90KCBtWyAwIF0sIG1bIDAgXSApLCBkb3QoIG1bIDEgXSwgbVsgMSBdICksIGRvdCggbVsgMiBdLCBtWyAyIF0gKSApOwoJdHJhbnNmb3JtZWROb3JtYWwgPSBtICogdHJhbnNmb3JtZWROb3JtYWw7CiNlbmRpZgp0cmFuc2Zvcm1lZE5vcm1hbCA9IG5vcm1hbE1hdHJpeCAqIHRyYW5zZm9ybWVkTm9ybWFsOwojaWZkZWYgRkxJUF9TSURFRAoJdHJhbnNmb3JtZWROb3JtYWwgPSAtIHRyYW5zZm9ybWVkTm9ybWFsOwojZW5kaWYKI2lmZGVmIFVTRV9UQU5HRU5UCgl2ZWMzIHRyYW5zZm9ybWVkVGFuZ2VudCA9ICggbW9kZWxWaWV3TWF0cml4ICogdmVjNCggb2JqZWN0VGFuZ2VudCwgMC4wICkgKS54eXo7CgkjaWZkZWYgRkxJUF9TSURFRAoJCXRyYW5zZm9ybWVkVGFuZ2VudCA9IC0gdHJhbnNmb3JtZWRUYW5nZW50OwoJI2VuZGlmCiNlbmRpZmAsQjA9YCNpZmRlZiBVU0VfRElTUExBQ0VNRU5UTUFQCgl1bmlmb3JtIHNhbXBsZXIyRCBkaXNwbGFjZW1lbnRNYXA7Cgl1bmlmb3JtIGZsb2F0IGRpc3BsYWNlbWVudFNjYWxlOwoJdW5pZm9ybSBmbG9hdCBkaXNwbGFjZW1lbnRCaWFzOwojZW5kaWZgLFUwPWAjaWZkZWYgVVNFX0RJU1BMQUNFTUVOVE1BUAoJdHJhbnNmb3JtZWQgKz0gbm9ybWFsaXplKCBvYmplY3ROb3JtYWwgKSAqICggdGV4dHVyZTJEKCBkaXNwbGFjZW1lbnRNYXAsIHZVdiApLnggKiBkaXNwbGFjZW1lbnRTY2FsZSArIGRpc3BsYWNlbWVudEJpYXMgKTsKI2VuZGlmYCxGMD1gI2lmZGVmIFVTRV9FTUlTU0lWRU1BUAoJdmVjNCBlbWlzc2l2ZUNvbG9yID0gdGV4dHVyZTJEKCBlbWlzc2l2ZU1hcCwgdlV2ICk7Cgl0b3RhbEVtaXNzaXZlUmFkaWFuY2UgKj0gZW1pc3NpdmVDb2xvci5yZ2I7CiNlbmRpZmAsSDA9YCNpZmRlZiBVU0VfRU1JU1NJVkVNQVAKCXVuaWZvcm0gc2FtcGxlcjJEIGVtaXNzaXZlTWFwOwojZW5kaWZgLGswPSJnbF9GcmFnQ29sb3IgPSBsaW5lYXJUb091dHB1dFRleGVsKCBnbF9GcmFnQ29sb3IgKTsiLEcwPWB2ZWM0IExpbmVhclRvTGluZWFyKCBpbiB2ZWM0IHZhbHVlICkgewoJcmV0dXJuIHZhbHVlOwp9CnZlYzQgTGluZWFyVG9zUkdCKCBpbiB2ZWM0IHZhbHVlICkgewoJcmV0dXJuIHZlYzQoIG1peCggcG93KCB2YWx1ZS5yZ2IsIHZlYzMoIDAuNDE2NjYgKSApICogMS4wNTUgLSB2ZWMzKCAwLjA1NSApLCB2YWx1ZS5yZ2IgKiAxMi45MiwgdmVjMyggbGVzc1RoYW5FcXVhbCggdmFsdWUucmdiLCB2ZWMzKCAwLjAwMzEzMDggKSApICkgKSwgdmFsdWUuYSApOwp9YCxWMD1gI2lmZGVmIFVTRV9FTlZNQVAKCSNpZmRlZiBFTlZfV09STERQT1MKCQl2ZWMzIGNhbWVyYVRvRnJhZzsKCQlpZiAoIGlzT3J0aG9ncmFwaGljICkgewoJCQljYW1lcmFUb0ZyYWcgPSBub3JtYWxpemUoIHZlYzMoIC0gdmlld01hdHJpeFsgMCBdWyAyIF0sIC0gdmlld01hdHJpeFsgMSBdWyAyIF0sIC0gdmlld01hdHJpeFsgMiBdWyAyIF0gKSApOwoJCX0gZWxzZSB7CgkJCWNhbWVyYVRvRnJhZyA9IG5vcm1hbGl6ZSggdldvcmxkUG9zaXRpb24gLSBjYW1lcmFQb3NpdGlvbiApOwoJCX0KCQl2ZWMzIHdvcmxkTm9ybWFsID0gaW52ZXJzZVRyYW5zZm9ybURpcmVjdGlvbiggbm9ybWFsLCB2aWV3TWF0cml4ICk7CgkJI2lmZGVmIEVOVk1BUF9NT0RFX1JFRkxFQ1RJT04KCQkJdmVjMyByZWZsZWN0VmVjID0gcmVmbGVjdCggY2FtZXJhVG9GcmFnLCB3b3JsZE5vcm1hbCApOwoJCSNlbHNlCgkJCXZlYzMgcmVmbGVjdFZlYyA9IHJlZnJhY3QoIGNhbWVyYVRvRnJhZywgd29ybGROb3JtYWwsIHJlZnJhY3Rpb25SYXRpbyApOwoJCSNlbmRpZgoJI2Vsc2UKCQl2ZWMzIHJlZmxlY3RWZWMgPSB2UmVmbGVjdDsKCSNlbmRpZgoJI2lmZGVmIEVOVk1BUF9UWVBFX0NVQkUKCQl2ZWM0IGVudkNvbG9yID0gdGV4dHVyZUN1YmUoIGVudk1hcCwgdmVjMyggZmxpcEVudk1hcCAqIHJlZmxlY3RWZWMueCwgcmVmbGVjdFZlYy55eiApICk7CgkjZWxpZiBkZWZpbmVkKCBFTlZNQVBfVFlQRV9DVUJFX1VWICkKCQl2ZWM0IGVudkNvbG9yID0gdGV4dHVyZUN1YmVVViggZW52TWFwLCByZWZsZWN0VmVjLCAwLjAgKTsKCSNlbHNlCgkJdmVjNCBlbnZDb2xvciA9IHZlYzQoIDAuMCApOwoJI2VuZGlmCgkjaWZkZWYgRU5WTUFQX0JMRU5ESU5HX01VTFRJUExZCgkJb3V0Z29pbmdMaWdodCA9IG1peCggb3V0Z29pbmdMaWdodCwgb3V0Z29pbmdMaWdodCAqIGVudkNvbG9yLnh5eiwgc3BlY3VsYXJTdHJlbmd0aCAqIHJlZmxlY3Rpdml0eSApOwoJI2VsaWYgZGVmaW5lZCggRU5WTUFQX0JMRU5ESU5HX01JWCApCgkJb3V0Z29pbmdMaWdodCA9IG1peCggb3V0Z29pbmdMaWdodCwgZW52Q29sb3IueHl6LCBzcGVjdWxhclN0cmVuZ3RoICogcmVmbGVjdGl2aXR5ICk7CgkjZWxpZiBkZWZpbmVkKCBFTlZNQVBfQkxFTkRJTkdfQUREICkKCQlvdXRnb2luZ0xpZ2h0ICs9IGVudkNvbG9yLnh5eiAqIHNwZWN1bGFyU3RyZW5ndGggKiByZWZsZWN0aXZpdHk7CgkjZW5kaWYKI2VuZGlmYCxXMD1gI2lmZGVmIFVTRV9FTlZNQVAKCXVuaWZvcm0gZmxvYXQgZW52TWFwSW50ZW5zaXR5OwoJdW5pZm9ybSBmbG9hdCBmbGlwRW52TWFwOwoJI2lmZGVmIEVOVk1BUF9UWVBFX0NVQkUKCQl1bmlmb3JtIHNhbXBsZXJDdWJlIGVudk1hcDsKCSNlbHNlCgkJdW5pZm9ybSBzYW1wbGVyMkQgZW52TWFwOwoJI2VuZGlmCgkKI2VuZGlmYCxqMD1gI2lmZGVmIFVTRV9FTlZNQVAKCXVuaWZvcm0gZmxvYXQgcmVmbGVjdGl2aXR5OwoJI2lmIGRlZmluZWQoIFVTRV9CVU1QTUFQICkgfHwgZGVmaW5lZCggVVNFX05PUk1BTE1BUCApIHx8IGRlZmluZWQoIFBIT05HICkKCQkjZGVmaW5lIEVOVl9XT1JMRFBPUwoJI2VuZGlmCgkjaWZkZWYgRU5WX1dPUkxEUE9TCgkJdmFyeWluZyB2ZWMzIHZXb3JsZFBvc2l0aW9uOwoJCXVuaWZvcm0gZmxvYXQgcmVmcmFjdGlvblJhdGlvOwoJI2Vsc2UKCQl2YXJ5aW5nIHZlYzMgdlJlZmxlY3Q7CgkjZW5kaWYKI2VuZGlmYCxxMD1gI2lmZGVmIFVTRV9FTlZNQVAKCSNpZiBkZWZpbmVkKCBVU0VfQlVNUE1BUCApIHx8IGRlZmluZWQoIFVTRV9OT1JNQUxNQVAgKSB8fGRlZmluZWQoIFBIT05HICkKCQkjZGVmaW5lIEVOVl9XT1JMRFBPUwoJI2VuZGlmCgkjaWZkZWYgRU5WX1dPUkxEUE9TCgkJCgkJdmFyeWluZyB2ZWMzIHZXb3JsZFBvc2l0aW9uOwoJI2Vsc2UKCQl2YXJ5aW5nIHZlYzMgdlJlZmxlY3Q7CgkJdW5pZm9ybSBmbG9hdCByZWZyYWN0aW9uUmF0aW87CgkjZW5kaWYKI2VuZGlmYCxYMD1gI2lmZGVmIFVTRV9FTlZNQVAKCSNpZmRlZiBFTlZfV09STERQT1MKCQl2V29ybGRQb3NpdGlvbiA9IHdvcmxkUG9zaXRpb24ueHl6OwoJI2Vsc2UKCQl2ZWMzIGNhbWVyYVRvVmVydGV4OwoJCWlmICggaXNPcnRob2dyYXBoaWMgKSB7CgkJCWNhbWVyYVRvVmVydGV4ID0gbm9ybWFsaXplKCB2ZWMzKCAtIHZpZXdNYXRyaXhbIDAgXVsgMiBdLCAtIHZpZXdNYXRyaXhbIDEgXVsgMiBdLCAtIHZpZXdNYXRyaXhbIDIgXVsgMiBdICkgKTsKCQl9IGVsc2UgewoJCQljYW1lcmFUb1ZlcnRleCA9IG5vcm1hbGl6ZSggd29ybGRQb3NpdGlvbi54eXogLSBjYW1lcmFQb3NpdGlvbiApOwoJCX0KCQl2ZWMzIHdvcmxkTm9ybWFsID0gaW52ZXJzZVRyYW5zZm9ybURpcmVjdGlvbiggdHJhbnNmb3JtZWROb3JtYWwsIHZpZXdNYXRyaXggKTsKCQkjaWZkZWYgRU5WTUFQX01PREVfUkVGTEVDVElPTgoJCQl2UmVmbGVjdCA9IHJlZmxlY3QoIGNhbWVyYVRvVmVydGV4LCB3b3JsZE5vcm1hbCApOwoJCSNlbHNlCgkJCXZSZWZsZWN0ID0gcmVmcmFjdCggY2FtZXJhVG9WZXJ0ZXgsIHdvcmxkTm9ybWFsLCByZWZyYWN0aW9uUmF0aW8gKTsKCQkjZW5kaWYKCSNlbmRpZgojZW5kaWZgLEowPWAjaWZkZWYgVVNFX0ZPRwoJdkZvZ0RlcHRoID0gLSBtdlBvc2l0aW9uLno7CiNlbmRpZmAsWTA9YCNpZmRlZiBVU0VfRk9HCgl2YXJ5aW5nIGZsb2F0IHZGb2dEZXB0aDsKI2VuZGlmYCxaMD1gI2lmZGVmIFVTRV9GT0cKCSNpZmRlZiBGT0dfRVhQMgoJCWZsb2F0IGZvZ0ZhY3RvciA9IDEuMCAtIGV4cCggLSBmb2dEZW5zaXR5ICogZm9nRGVuc2l0eSAqIHZGb2dEZXB0aCAqIHZGb2dEZXB0aCApOwoJI2Vsc2UKCQlmbG9hdCBmb2dGYWN0b3IgPSBzbW9vdGhzdGVwKCBmb2dOZWFyLCBmb2dGYXIsIHZGb2dEZXB0aCApOwoJI2VuZGlmCglnbF9GcmFnQ29sb3IucmdiID0gbWl4KCBnbF9GcmFnQ29sb3IucmdiLCBmb2dDb2xvciwgZm9nRmFjdG9yICk7CiNlbmRpZmAsSzA9YCNpZmRlZiBVU0VfRk9HCgl1bmlmb3JtIHZlYzMgZm9nQ29sb3I7Cgl2YXJ5aW5nIGZsb2F0IHZGb2dEZXB0aDsKCSNpZmRlZiBGT0dfRVhQMgoJCXVuaWZvcm0gZmxvYXQgZm9nRGVuc2l0eTsKCSNlbHNlCgkJdW5pZm9ybSBmbG9hdCBmb2dOZWFyOwoJCXVuaWZvcm0gZmxvYXQgZm9nRmFyOwoJI2VuZGlmCiNlbmRpZmAsUTA9YCNpZmRlZiBVU0VfR1JBRElFTlRNQVAKCXVuaWZvcm0gc2FtcGxlcjJEIGdyYWRpZW50TWFwOwojZW5kaWYKdmVjMyBnZXRHcmFkaWVudElycmFkaWFuY2UoIHZlYzMgbm9ybWFsLCB2ZWMzIGxpZ2h0RGlyZWN0aW9uICkgewoJZmxvYXQgZG90TkwgPSBkb3QoIG5vcm1hbCwgbGlnaHREaXJlY3Rpb24gKTsKCXZlYzIgY29vcmQgPSB2ZWMyKCBkb3ROTCAqIDAuNSArIDAuNSwgMC4wICk7CgkjaWZkZWYgVVNFX0dSQURJRU5UTUFQCgkJcmV0dXJuIHZlYzMoIHRleHR1cmUyRCggZ3JhZGllbnRNYXAsIGNvb3JkICkuciApOwoJI2Vsc2UKCQlyZXR1cm4gKCBjb29yZC54IDwgMC43ICkgPyB2ZWMzKCAwLjcgKSA6IHZlYzMoIDEuMCApOwoJI2VuZGlmCn1gLCQwPWAjaWZkZWYgVVNFX0xJR0hUTUFQCgl2ZWM0IGxpZ2h0TWFwVGV4ZWwgPSB0ZXh0dXJlMkQoIGxpZ2h0TWFwLCB2VXYyICk7Cgl2ZWMzIGxpZ2h0TWFwSXJyYWRpYW5jZSA9IGxpZ2h0TWFwVGV4ZWwucmdiICogbGlnaHRNYXBJbnRlbnNpdHk7CglyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKz0gbGlnaHRNYXBJcnJhZGlhbmNlOwojZW5kaWZgLGV2PWAjaWZkZWYgVVNFX0xJR0hUTUFQCgl1bmlmb3JtIHNhbXBsZXIyRCBsaWdodE1hcDsKCXVuaWZvcm0gZmxvYXQgbGlnaHRNYXBJbnRlbnNpdHk7CiNlbmRpZmAsdHY9YHZlYzMgZGlmZnVzZSA9IHZlYzMoIDEuMCApOwpHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5OwpnZW9tZXRyeS5wb3NpdGlvbiA9IG12UG9zaXRpb24ueHl6OwpnZW9tZXRyeS5ub3JtYWwgPSBub3JtYWxpemUoIHRyYW5zZm9ybWVkTm9ybWFsICk7Cmdlb21ldHJ5LnZpZXdEaXIgPSAoIGlzT3J0aG9ncmFwaGljICkgPyB2ZWMzKCAwLCAwLCAxICkgOiBub3JtYWxpemUoIC1tdlBvc2l0aW9uLnh5eiApOwpHZW9tZXRyaWNDb250ZXh0IGJhY2tHZW9tZXRyeTsKYmFja0dlb21ldHJ5LnBvc2l0aW9uID0gZ2VvbWV0cnkucG9zaXRpb247CmJhY2tHZW9tZXRyeS5ub3JtYWwgPSAtZ2VvbWV0cnkubm9ybWFsOwpiYWNrR2VvbWV0cnkudmlld0RpciA9IGdlb21ldHJ5LnZpZXdEaXI7CnZMaWdodEZyb250ID0gdmVjMyggMC4wICk7CnZJbmRpcmVjdEZyb250ID0gdmVjMyggMC4wICk7CiNpZmRlZiBET1VCTEVfU0lERUQKCXZMaWdodEJhY2sgPSB2ZWMzKCAwLjAgKTsKCXZJbmRpcmVjdEJhY2sgPSB2ZWMzKCAwLjAgKTsKI2VuZGlmCkluY2lkZW50TGlnaHQgZGlyZWN0TGlnaHQ7CmZsb2F0IGRvdE5MOwp2ZWMzIGRpcmVjdExpZ2h0Q29sb3JfRGlmZnVzZTsKdkluZGlyZWN0RnJvbnQgKz0gZ2V0QW1iaWVudExpZ2h0SXJyYWRpYW5jZSggYW1iaWVudExpZ2h0Q29sb3IgKTsKdkluZGlyZWN0RnJvbnQgKz0gZ2V0TGlnaHRQcm9iZUlycmFkaWFuY2UoIGxpZ2h0UHJvYmUsIGdlb21ldHJ5Lm5vcm1hbCApOwojaWZkZWYgRE9VQkxFX1NJREVECgl2SW5kaXJlY3RCYWNrICs9IGdldEFtYmllbnRMaWdodElycmFkaWFuY2UoIGFtYmllbnRMaWdodENvbG9yICk7Cgl2SW5kaXJlY3RCYWNrICs9IGdldExpZ2h0UHJvYmVJcnJhZGlhbmNlKCBsaWdodFByb2JlLCBiYWNrR2VvbWV0cnkubm9ybWFsICk7CiNlbmRpZgojaWYgTlVNX1BPSU5UX0xJR0hUUyA+IDAKCSNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnQKCWZvciAoIGludCBpID0gMDsgaSA8IE5VTV9QT0lOVF9MSUdIVFM7IGkgKysgKSB7CgkJZ2V0UG9pbnRMaWdodEluZm8oIHBvaW50TGlnaHRzWyBpIF0sIGdlb21ldHJ5LCBkaXJlY3RMaWdodCApOwoJCWRvdE5MID0gZG90KCBnZW9tZXRyeS5ub3JtYWwsIGRpcmVjdExpZ2h0LmRpcmVjdGlvbiApOwoJCWRpcmVjdExpZ2h0Q29sb3JfRGlmZnVzZSA9IGRpcmVjdExpZ2h0LmNvbG9yOwoJCXZMaWdodEZyb250ICs9IHNhdHVyYXRlKCBkb3ROTCApICogZGlyZWN0TGlnaHRDb2xvcl9EaWZmdXNlOwoJCSNpZmRlZiBET1VCTEVfU0lERUQKCQkJdkxpZ2h0QmFjayArPSBzYXR1cmF0ZSggLSBkb3ROTCApICogZGlyZWN0TGlnaHRDb2xvcl9EaWZmdXNlOwoJCSNlbmRpZgoJfQoJI3ByYWdtYSB1bnJvbGxfbG9vcF9lbmQKI2VuZGlmCiNpZiBOVU1fU1BPVF9MSUdIVFMgPiAwCgkjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0Cglmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fU1BPVF9MSUdIVFM7IGkgKysgKSB7CgkJZ2V0U3BvdExpZ2h0SW5mbyggc3BvdExpZ2h0c1sgaSBdLCBnZW9tZXRyeSwgZGlyZWN0TGlnaHQgKTsKCQlkb3ROTCA9IGRvdCggZ2VvbWV0cnkubm9ybWFsLCBkaXJlY3RMaWdodC5kaXJlY3Rpb24gKTsKCQlkaXJlY3RMaWdodENvbG9yX0RpZmZ1c2UgPSBkaXJlY3RMaWdodC5jb2xvcjsKCQl2TGlnaHRGcm9udCArPSBzYXR1cmF0ZSggZG90TkwgKSAqIGRpcmVjdExpZ2h0Q29sb3JfRGlmZnVzZTsKCQkjaWZkZWYgRE9VQkxFX1NJREVECgkJCXZMaWdodEJhY2sgKz0gc2F0dXJhdGUoIC0gZG90TkwgKSAqIGRpcmVjdExpZ2h0Q29sb3JfRGlmZnVzZTsKCQkjZW5kaWYKCX0KCSNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kCiNlbmRpZgojaWYgTlVNX0RJUl9MSUdIVFMgPiAwCgkjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0Cglmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fRElSX0xJR0hUUzsgaSArKyApIHsKCQlnZXREaXJlY3Rpb25hbExpZ2h0SW5mbyggZGlyZWN0aW9uYWxMaWdodHNbIGkgXSwgZ2VvbWV0cnksIGRpcmVjdExpZ2h0ICk7CgkJZG90TkwgPSBkb3QoIGdlb21ldHJ5Lm5vcm1hbCwgZGlyZWN0TGlnaHQuZGlyZWN0aW9uICk7CgkJZGlyZWN0TGlnaHRDb2xvcl9EaWZmdXNlID0gZGlyZWN0TGlnaHQuY29sb3I7CgkJdkxpZ2h0RnJvbnQgKz0gc2F0dXJhdGUoIGRvdE5MICkgKiBkaXJlY3RMaWdodENvbG9yX0RpZmZ1c2U7CgkJI2lmZGVmIERPVUJMRV9TSURFRAoJCQl2TGlnaHRCYWNrICs9IHNhdHVyYXRlKCAtIGRvdE5MICkgKiBkaXJlY3RMaWdodENvbG9yX0RpZmZ1c2U7CgkJI2VuZGlmCgl9CgkjcHJhZ21hIHVucm9sbF9sb29wX2VuZAojZW5kaWYKI2lmIE5VTV9IRU1JX0xJR0hUUyA+IDAKCSNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnQKCWZvciAoIGludCBpID0gMDsgaSA8IE5VTV9IRU1JX0xJR0hUUzsgaSArKyApIHsKCQl2SW5kaXJlY3RGcm9udCArPSBnZXRIZW1pc3BoZXJlTGlnaHRJcnJhZGlhbmNlKCBoZW1pc3BoZXJlTGlnaHRzWyBpIF0sIGdlb21ldHJ5Lm5vcm1hbCApOwoJCSNpZmRlZiBET1VCTEVfU0lERUQKCQkJdkluZGlyZWN0QmFjayArPSBnZXRIZW1pc3BoZXJlTGlnaHRJcnJhZGlhbmNlKCBoZW1pc3BoZXJlTGlnaHRzWyBpIF0sIGJhY2tHZW9tZXRyeS5ub3JtYWwgKTsKCQkjZW5kaWYKCX0KCSNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kCiNlbmRpZmAsaXY9YHVuaWZvcm0gYm9vbCByZWNlaXZlU2hhZG93Owp1bmlmb3JtIHZlYzMgYW1iaWVudExpZ2h0Q29sb3I7CnVuaWZvcm0gdmVjMyBsaWdodFByb2JlWyA5IF07CnZlYzMgc2hHZXRJcnJhZGlhbmNlQXQoIGluIHZlYzMgbm9ybWFsLCBpbiB2ZWMzIHNoQ29lZmZpY2llbnRzWyA5IF0gKSB7CglmbG9hdCB4ID0gbm9ybWFsLngsIHkgPSBub3JtYWwueSwgeiA9IG5vcm1hbC56OwoJdmVjMyByZXN1bHQgPSBzaENvZWZmaWNpZW50c1sgMCBdICogMC44ODYyMjc7CglyZXN1bHQgKz0gc2hDb2VmZmljaWVudHNbIDEgXSAqIDIuMCAqIDAuNTExNjY0ICogeTsKCXJlc3VsdCArPSBzaENvZWZmaWNpZW50c1sgMiBdICogMi4wICogMC41MTE2NjQgKiB6OwoJcmVzdWx0ICs9IHNoQ29lZmZpY2llbnRzWyAzIF0gKiAyLjAgKiAwLjUxMTY2NCAqIHg7CglyZXN1bHQgKz0gc2hDb2VmZmljaWVudHNbIDQgXSAqIDIuMCAqIDAuNDI5MDQzICogeCAqIHk7CglyZXN1bHQgKz0gc2hDb2VmZmljaWVudHNbIDUgXSAqIDIuMCAqIDAuNDI5MDQzICogeSAqIHo7CglyZXN1bHQgKz0gc2hDb2VmZmljaWVudHNbIDYgXSAqICggMC43NDMxMjUgKiB6ICogeiAtIDAuMjQ3NzA4ICk7CglyZXN1bHQgKz0gc2hDb2VmZmljaWVudHNbIDcgXSAqIDIuMCAqIDAuNDI5MDQzICogeCAqIHo7CglyZXN1bHQgKz0gc2hDb2VmZmljaWVudHNbIDggXSAqIDAuNDI5MDQzICogKCB4ICogeCAtIHkgKiB5ICk7CglyZXR1cm4gcmVzdWx0Owp9CnZlYzMgZ2V0TGlnaHRQcm9iZUlycmFkaWFuY2UoIGNvbnN0IGluIHZlYzMgbGlnaHRQcm9iZVsgOSBdLCBjb25zdCBpbiB2ZWMzIG5vcm1hbCApIHsKCXZlYzMgd29ybGROb3JtYWwgPSBpbnZlcnNlVHJhbnNmb3JtRGlyZWN0aW9uKCBub3JtYWwsIHZpZXdNYXRyaXggKTsKCXZlYzMgaXJyYWRpYW5jZSA9IHNoR2V0SXJyYWRpYW5jZUF0KCB3b3JsZE5vcm1hbCwgbGlnaHRQcm9iZSApOwoJcmV0dXJuIGlycmFkaWFuY2U7Cn0KdmVjMyBnZXRBbWJpZW50TGlnaHRJcnJhZGlhbmNlKCBjb25zdCBpbiB2ZWMzIGFtYmllbnRMaWdodENvbG9yICkgewoJdmVjMyBpcnJhZGlhbmNlID0gYW1iaWVudExpZ2h0Q29sb3I7CglyZXR1cm4gaXJyYWRpYW5jZTsKfQpmbG9hdCBnZXREaXN0YW5jZUF0dGVudWF0aW9uKCBjb25zdCBpbiBmbG9hdCBsaWdodERpc3RhbmNlLCBjb25zdCBpbiBmbG9hdCBjdXRvZmZEaXN0YW5jZSwgY29uc3QgaW4gZmxvYXQgZGVjYXlFeHBvbmVudCApIHsKCSNpZiBkZWZpbmVkICggUEhZU0lDQUxMWV9DT1JSRUNUX0xJR0hUUyApCgkJZmxvYXQgZGlzdGFuY2VGYWxsb2ZmID0gMS4wIC8gbWF4KCBwb3coIGxpZ2h0RGlzdGFuY2UsIGRlY2F5RXhwb25lbnQgKSwgMC4wMSApOwoJCWlmICggY3V0b2ZmRGlzdGFuY2UgPiAwLjAgKSB7CgkJCWRpc3RhbmNlRmFsbG9mZiAqPSBwb3cyKCBzYXR1cmF0ZSggMS4wIC0gcG93NCggbGlnaHREaXN0YW5jZSAvIGN1dG9mZkRpc3RhbmNlICkgKSApOwoJCX0KCQlyZXR1cm4gZGlzdGFuY2VGYWxsb2ZmOwoJI2Vsc2UKCQlpZiAoIGN1dG9mZkRpc3RhbmNlID4gMC4wICYmIGRlY2F5RXhwb25lbnQgPiAwLjAgKSB7CgkJCXJldHVybiBwb3coIHNhdHVyYXRlKCAtIGxpZ2h0RGlzdGFuY2UgLyBjdXRvZmZEaXN0YW5jZSArIDEuMCApLCBkZWNheUV4cG9uZW50ICk7CgkJfQoJCXJldHVybiAxLjA7CgkjZW5kaWYKfQpmbG9hdCBnZXRTcG90QXR0ZW51YXRpb24oIGNvbnN0IGluIGZsb2F0IGNvbmVDb3NpbmUsIGNvbnN0IGluIGZsb2F0IHBlbnVtYnJhQ29zaW5lLCBjb25zdCBpbiBmbG9hdCBhbmdsZUNvc2luZSApIHsKCXJldHVybiBzbW9vdGhzdGVwKCBjb25lQ29zaW5lLCBwZW51bWJyYUNvc2luZSwgYW5nbGVDb3NpbmUgKTsKfQojaWYgTlVNX0RJUl9MSUdIVFMgPiAwCglzdHJ1Y3QgRGlyZWN0aW9uYWxMaWdodCB7CgkJdmVjMyBkaXJlY3Rpb247CgkJdmVjMyBjb2xvcjsKCX07Cgl1bmlmb3JtIERpcmVjdGlvbmFsTGlnaHQgZGlyZWN0aW9uYWxMaWdodHNbIE5VTV9ESVJfTElHSFRTIF07Cgl2b2lkIGdldERpcmVjdGlvbmFsTGlnaHRJbmZvKCBjb25zdCBpbiBEaXJlY3Rpb25hbExpZ2h0IGRpcmVjdGlvbmFsTGlnaHQsIGNvbnN0IGluIEdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnksIG91dCBJbmNpZGVudExpZ2h0IGxpZ2h0ICkgewoJCWxpZ2h0LmNvbG9yID0gZGlyZWN0aW9uYWxMaWdodC5jb2xvcjsKCQlsaWdodC5kaXJlY3Rpb24gPSBkaXJlY3Rpb25hbExpZ2h0LmRpcmVjdGlvbjsKCQlsaWdodC52aXNpYmxlID0gdHJ1ZTsKCX0KI2VuZGlmCiNpZiBOVU1fUE9JTlRfTElHSFRTID4gMAoJc3RydWN0IFBvaW50TGlnaHQgewoJCXZlYzMgcG9zaXRpb247CgkJdmVjMyBjb2xvcjsKCQlmbG9hdCBkaXN0YW5jZTsKCQlmbG9hdCBkZWNheTsKCX07Cgl1bmlmb3JtIFBvaW50TGlnaHQgcG9pbnRMaWdodHNbIE5VTV9QT0lOVF9MSUdIVFMgXTsKCXZvaWQgZ2V0UG9pbnRMaWdodEluZm8oIGNvbnN0IGluIFBvaW50TGlnaHQgcG9pbnRMaWdodCwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgb3V0IEluY2lkZW50TGlnaHQgbGlnaHQgKSB7CgkJdmVjMyBsVmVjdG9yID0gcG9pbnRMaWdodC5wb3NpdGlvbiAtIGdlb21ldHJ5LnBvc2l0aW9uOwoJCWxpZ2h0LmRpcmVjdGlvbiA9IG5vcm1hbGl6ZSggbFZlY3RvciApOwoJCWZsb2F0IGxpZ2h0RGlzdGFuY2UgPSBsZW5ndGgoIGxWZWN0b3IgKTsKCQlsaWdodC5jb2xvciA9IHBvaW50TGlnaHQuY29sb3I7CgkJbGlnaHQuY29sb3IgKj0gZ2V0RGlzdGFuY2VBdHRlbnVhdGlvbiggbGlnaHREaXN0YW5jZSwgcG9pbnRMaWdodC5kaXN0YW5jZSwgcG9pbnRMaWdodC5kZWNheSApOwoJCWxpZ2h0LnZpc2libGUgPSAoIGxpZ2h0LmNvbG9yICE9IHZlYzMoIDAuMCApICk7Cgl9CiNlbmRpZgojaWYgTlVNX1NQT1RfTElHSFRTID4gMAoJc3RydWN0IFNwb3RMaWdodCB7CgkJdmVjMyBwb3NpdGlvbjsKCQl2ZWMzIGRpcmVjdGlvbjsKCQl2ZWMzIGNvbG9yOwoJCWZsb2F0IGRpc3RhbmNlOwoJCWZsb2F0IGRlY2F5OwoJCWZsb2F0IGNvbmVDb3M7CgkJZmxvYXQgcGVudW1icmFDb3M7Cgl9OwoJdW5pZm9ybSBTcG90TGlnaHQgc3BvdExpZ2h0c1sgTlVNX1NQT1RfTElHSFRTIF07Cgl2b2lkIGdldFNwb3RMaWdodEluZm8oIGNvbnN0IGluIFNwb3RMaWdodCBzcG90TGlnaHQsIGNvbnN0IGluIEdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnksIG91dCBJbmNpZGVudExpZ2h0IGxpZ2h0ICkgewoJCXZlYzMgbFZlY3RvciA9IHNwb3RMaWdodC5wb3NpdGlvbiAtIGdlb21ldHJ5LnBvc2l0aW9uOwoJCWxpZ2h0LmRpcmVjdGlvbiA9IG5vcm1hbGl6ZSggbFZlY3RvciApOwoJCWZsb2F0IGFuZ2xlQ29zID0gZG90KCBsaWdodC5kaXJlY3Rpb24sIHNwb3RMaWdodC5kaXJlY3Rpb24gKTsKCQlmbG9hdCBzcG90QXR0ZW51YXRpb24gPSBnZXRTcG90QXR0ZW51YXRpb24oIHNwb3RMaWdodC5jb25lQ29zLCBzcG90TGlnaHQucGVudW1icmFDb3MsIGFuZ2xlQ29zICk7CgkJaWYgKCBzcG90QXR0ZW51YXRpb24gPiAwLjAgKSB7CgkJCWZsb2F0IGxpZ2h0RGlzdGFuY2UgPSBsZW5ndGgoIGxWZWN0b3IgKTsKCQkJbGlnaHQuY29sb3IgPSBzcG90TGlnaHQuY29sb3IgKiBzcG90QXR0ZW51YXRpb247CgkJCWxpZ2h0LmNvbG9yICo9IGdldERpc3RhbmNlQXR0ZW51YXRpb24oIGxpZ2h0RGlzdGFuY2UsIHNwb3RMaWdodC5kaXN0YW5jZSwgc3BvdExpZ2h0LmRlY2F5ICk7CgkJCWxpZ2h0LnZpc2libGUgPSAoIGxpZ2h0LmNvbG9yICE9IHZlYzMoIDAuMCApICk7CgkJfSBlbHNlIHsKCQkJbGlnaHQuY29sb3IgPSB2ZWMzKCAwLjAgKTsKCQkJbGlnaHQudmlzaWJsZSA9IGZhbHNlOwoJCX0KCX0KI2VuZGlmCiNpZiBOVU1fUkVDVF9BUkVBX0xJR0hUUyA+IDAKCXN0cnVjdCBSZWN0QXJlYUxpZ2h0IHsKCQl2ZWMzIGNvbG9yOwoJCXZlYzMgcG9zaXRpb247CgkJdmVjMyBoYWxmV2lkdGg7CgkJdmVjMyBoYWxmSGVpZ2h0OwoJfTsKCXVuaWZvcm0gc2FtcGxlcjJEIGx0Y18xOwl1bmlmb3JtIHNhbXBsZXIyRCBsdGNfMjsKCXVuaWZvcm0gUmVjdEFyZWFMaWdodCByZWN0QXJlYUxpZ2h0c1sgTlVNX1JFQ1RfQVJFQV9MSUdIVFMgXTsKI2VuZGlmCiNpZiBOVU1fSEVNSV9MSUdIVFMgPiAwCglzdHJ1Y3QgSGVtaXNwaGVyZUxpZ2h0IHsKCQl2ZWMzIGRpcmVjdGlvbjsKCQl2ZWMzIHNreUNvbG9yOwoJCXZlYzMgZ3JvdW5kQ29sb3I7Cgl9OwoJdW5pZm9ybSBIZW1pc3BoZXJlTGlnaHQgaGVtaXNwaGVyZUxpZ2h0c1sgTlVNX0hFTUlfTElHSFRTIF07Cgl2ZWMzIGdldEhlbWlzcGhlcmVMaWdodElycmFkaWFuY2UoIGNvbnN0IGluIEhlbWlzcGhlcmVMaWdodCBoZW1pTGlnaHQsIGNvbnN0IGluIHZlYzMgbm9ybWFsICkgewoJCWZsb2F0IGRvdE5MID0gZG90KCBub3JtYWwsIGhlbWlMaWdodC5kaXJlY3Rpb24gKTsKCQlmbG9hdCBoZW1pRGlmZnVzZVdlaWdodCA9IDAuNSAqIGRvdE5MICsgMC41OwoJCXZlYzMgaXJyYWRpYW5jZSA9IG1peCggaGVtaUxpZ2h0Lmdyb3VuZENvbG9yLCBoZW1pTGlnaHQuc2t5Q29sb3IsIGhlbWlEaWZmdXNlV2VpZ2h0ICk7CgkJcmV0dXJuIGlycmFkaWFuY2U7Cgl9CiNlbmRpZmAscnY9YCNpZiBkZWZpbmVkKCBVU0VfRU5WTUFQICkKCXZlYzMgZ2V0SUJMSXJyYWRpYW5jZSggY29uc3QgaW4gdmVjMyBub3JtYWwgKSB7CgkJI2lmIGRlZmluZWQoIEVOVk1BUF9UWVBFX0NVQkVfVVYgKQoJCQl2ZWMzIHdvcmxkTm9ybWFsID0gaW52ZXJzZVRyYW5zZm9ybURpcmVjdGlvbiggbm9ybWFsLCB2aWV3TWF0cml4ICk7CgkJCXZlYzQgZW52TWFwQ29sb3IgPSB0ZXh0dXJlQ3ViZVVWKCBlbnZNYXAsIHdvcmxkTm9ybWFsLCAxLjAgKTsKCQkJcmV0dXJuIFBJICogZW52TWFwQ29sb3IucmdiICogZW52TWFwSW50ZW5zaXR5OwoJCSNlbHNlCgkJCXJldHVybiB2ZWMzKCAwLjAgKTsKCQkjZW5kaWYKCX0KCXZlYzMgZ2V0SUJMUmFkaWFuY2UoIGNvbnN0IGluIHZlYzMgdmlld0RpciwgY29uc3QgaW4gdmVjMyBub3JtYWwsIGNvbnN0IGluIGZsb2F0IHJvdWdobmVzcyApIHsKCQkjaWYgZGVmaW5lZCggRU5WTUFQX1RZUEVfQ1VCRV9VViApCgkJCXZlYzMgcmVmbGVjdFZlYyA9IHJlZmxlY3QoIC0gdmlld0Rpciwgbm9ybWFsICk7CgkJCXJlZmxlY3RWZWMgPSBub3JtYWxpemUoIG1peCggcmVmbGVjdFZlYywgbm9ybWFsLCByb3VnaG5lc3MgKiByb3VnaG5lc3MpICk7CgkJCXJlZmxlY3RWZWMgPSBpbnZlcnNlVHJhbnNmb3JtRGlyZWN0aW9uKCByZWZsZWN0VmVjLCB2aWV3TWF0cml4ICk7CgkJCXZlYzQgZW52TWFwQ29sb3IgPSB0ZXh0dXJlQ3ViZVVWKCBlbnZNYXAsIHJlZmxlY3RWZWMsIHJvdWdobmVzcyApOwoJCQlyZXR1cm4gZW52TWFwQ29sb3IucmdiICogZW52TWFwSW50ZW5zaXR5OwoJCSNlbHNlCgkJCXJldHVybiB2ZWMzKCAwLjAgKTsKCQkjZW5kaWYKCX0KI2VuZGlmYCxzdj1gVG9vbk1hdGVyaWFsIG1hdGVyaWFsOwptYXRlcmlhbC5kaWZmdXNlQ29sb3IgPSBkaWZmdXNlQ29sb3IucmdiO2AsYXY9YHZhcnlpbmcgdmVjMyB2Vmlld1Bvc2l0aW9uOwpzdHJ1Y3QgVG9vbk1hdGVyaWFsIHsKCXZlYzMgZGlmZnVzZUNvbG9yOwp9Owp2b2lkIFJFX0RpcmVjdF9Ub29uKCBjb25zdCBpbiBJbmNpZGVudExpZ2h0IGRpcmVjdExpZ2h0LCBjb25zdCBpbiBHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5LCBjb25zdCBpbiBUb29uTWF0ZXJpYWwgbWF0ZXJpYWwsIGlub3V0IFJlZmxlY3RlZExpZ2h0IHJlZmxlY3RlZExpZ2h0ICkgewoJdmVjMyBpcnJhZGlhbmNlID0gZ2V0R3JhZGllbnRJcnJhZGlhbmNlKCBnZW9tZXRyeS5ub3JtYWwsIGRpcmVjdExpZ2h0LmRpcmVjdGlvbiApICogZGlyZWN0TGlnaHQuY29sb3I7CglyZWZsZWN0ZWRMaWdodC5kaXJlY3REaWZmdXNlICs9IGlycmFkaWFuY2UgKiBCUkRGX0xhbWJlcnQoIG1hdGVyaWFsLmRpZmZ1c2VDb2xvciApOwp9CnZvaWQgUkVfSW5kaXJlY3REaWZmdXNlX1Rvb24oIGNvbnN0IGluIHZlYzMgaXJyYWRpYW5jZSwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgY29uc3QgaW4gVG9vbk1hdGVyaWFsIG1hdGVyaWFsLCBpbm91dCBSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCApIHsKCXJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArPSBpcnJhZGlhbmNlICogQlJERl9MYW1iZXJ0KCBtYXRlcmlhbC5kaWZmdXNlQ29sb3IgKTsKfQojZGVmaW5lIFJFX0RpcmVjdAkJCQlSRV9EaXJlY3RfVG9vbgojZGVmaW5lIFJFX0luZGlyZWN0RGlmZnVzZQkJUkVfSW5kaXJlY3REaWZmdXNlX1Rvb24KI2RlZmluZSBNYXRlcmlhbF9MaWdodFByb2JlTE9EKCBtYXRlcmlhbCApCSgwKWAsbnY9YEJsaW5uUGhvbmdNYXRlcmlhbCBtYXRlcmlhbDsKbWF0ZXJpYWwuZGlmZnVzZUNvbG9yID0gZGlmZnVzZUNvbG9yLnJnYjsKbWF0ZXJpYWwuc3BlY3VsYXJDb2xvciA9IHNwZWN1bGFyOwptYXRlcmlhbC5zcGVjdWxhclNoaW5pbmVzcyA9IHNoaW5pbmVzczsKbWF0ZXJpYWwuc3BlY3VsYXJTdHJlbmd0aCA9IHNwZWN1bGFyU3RyZW5ndGg7YCxvdj1gdmFyeWluZyB2ZWMzIHZWaWV3UG9zaXRpb247CnN0cnVjdCBCbGlublBob25nTWF0ZXJpYWwgewoJdmVjMyBkaWZmdXNlQ29sb3I7Cgl2ZWMzIHNwZWN1bGFyQ29sb3I7CglmbG9hdCBzcGVjdWxhclNoaW5pbmVzczsKCWZsb2F0IHNwZWN1bGFyU3RyZW5ndGg7Cn07CnZvaWQgUkVfRGlyZWN0X0JsaW5uUGhvbmcoIGNvbnN0IGluIEluY2lkZW50TGlnaHQgZGlyZWN0TGlnaHQsIGNvbnN0IGluIEdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnksIGNvbnN0IGluIEJsaW5uUGhvbmdNYXRlcmlhbCBtYXRlcmlhbCwgaW5vdXQgUmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQgKSB7CglmbG9hdCBkb3ROTCA9IHNhdHVyYXRlKCBkb3QoIGdlb21ldHJ5Lm5vcm1hbCwgZGlyZWN0TGlnaHQuZGlyZWN0aW9uICkgKTsKCXZlYzMgaXJyYWRpYW5jZSA9IGRvdE5MICogZGlyZWN0TGlnaHQuY29sb3I7CglyZWZsZWN0ZWRMaWdodC5kaXJlY3REaWZmdXNlICs9IGlycmFkaWFuY2UgKiBCUkRGX0xhbWJlcnQoIG1hdGVyaWFsLmRpZmZ1c2VDb2xvciApOwoJcmVmbGVjdGVkTGlnaHQuZGlyZWN0U3BlY3VsYXIgKz0gaXJyYWRpYW5jZSAqIEJSREZfQmxpbm5QaG9uZyggZGlyZWN0TGlnaHQuZGlyZWN0aW9uLCBnZW9tZXRyeS52aWV3RGlyLCBnZW9tZXRyeS5ub3JtYWwsIG1hdGVyaWFsLnNwZWN1bGFyQ29sb3IsIG1hdGVyaWFsLnNwZWN1bGFyU2hpbmluZXNzICkgKiBtYXRlcmlhbC5zcGVjdWxhclN0cmVuZ3RoOwp9CnZvaWQgUkVfSW5kaXJlY3REaWZmdXNlX0JsaW5uUGhvbmcoIGNvbnN0IGluIHZlYzMgaXJyYWRpYW5jZSwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgY29uc3QgaW4gQmxpbm5QaG9uZ01hdGVyaWFsIG1hdGVyaWFsLCBpbm91dCBSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCApIHsKCXJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArPSBpcnJhZGlhbmNlICogQlJERl9MYW1iZXJ0KCBtYXRlcmlhbC5kaWZmdXNlQ29sb3IgKTsKfQojZGVmaW5lIFJFX0RpcmVjdAkJCQlSRV9EaXJlY3RfQmxpbm5QaG9uZwojZGVmaW5lIFJFX0luZGlyZWN0RGlmZnVzZQkJUkVfSW5kaXJlY3REaWZmdXNlX0JsaW5uUGhvbmcKI2RlZmluZSBNYXRlcmlhbF9MaWdodFByb2JlTE9EKCBtYXRlcmlhbCApCSgwKWAsaHY9YFBoeXNpY2FsTWF0ZXJpYWwgbWF0ZXJpYWw7Cm1hdGVyaWFsLmRpZmZ1c2VDb2xvciA9IGRpZmZ1c2VDb2xvci5yZ2IgKiAoIDEuMCAtIG1ldGFsbmVzc0ZhY3RvciApOwp2ZWMzIGR4eSA9IG1heCggYWJzKCBkRmR4KCBnZW9tZXRyeU5vcm1hbCApICksIGFicyggZEZkeSggZ2VvbWV0cnlOb3JtYWwgKSApICk7CmZsb2F0IGdlb21ldHJ5Um91Z2huZXNzID0gbWF4KCBtYXgoIGR4eS54LCBkeHkueSApLCBkeHkueiApOwptYXRlcmlhbC5yb3VnaG5lc3MgPSBtYXgoIHJvdWdobmVzc0ZhY3RvciwgMC4wNTI1ICk7bWF0ZXJpYWwucm91Z2huZXNzICs9IGdlb21ldHJ5Um91Z2huZXNzOwptYXRlcmlhbC5yb3VnaG5lc3MgPSBtaW4oIG1hdGVyaWFsLnJvdWdobmVzcywgMS4wICk7CiNpZmRlZiBJT1IKCSNpZmRlZiBTUEVDVUxBUgoJCWZsb2F0IHNwZWN1bGFySW50ZW5zaXR5RmFjdG9yID0gc3BlY3VsYXJJbnRlbnNpdHk7CgkJdmVjMyBzcGVjdWxhckNvbG9yRmFjdG9yID0gc3BlY3VsYXJDb2xvcjsKCQkjaWZkZWYgVVNFX1NQRUNVTEFSSU5URU5TSVRZTUFQCgkJCXNwZWN1bGFySW50ZW5zaXR5RmFjdG9yICo9IHRleHR1cmUyRCggc3BlY3VsYXJJbnRlbnNpdHlNYXAsIHZVdiApLmE7CgkJI2VuZGlmCgkJI2lmZGVmIFVTRV9TUEVDVUxBUkNPTE9STUFQCgkJCXNwZWN1bGFyQ29sb3JGYWN0b3IgKj0gdGV4dHVyZTJEKCBzcGVjdWxhckNvbG9yTWFwLCB2VXYgKS5yZ2I7CgkJI2VuZGlmCgkJbWF0ZXJpYWwuc3BlY3VsYXJGOTAgPSBtaXgoIHNwZWN1bGFySW50ZW5zaXR5RmFjdG9yLCAxLjAsIG1ldGFsbmVzc0ZhY3RvciApOwoJI2Vsc2UKCQlmbG9hdCBzcGVjdWxhckludGVuc2l0eUZhY3RvciA9IDEuMDsKCQl2ZWMzIHNwZWN1bGFyQ29sb3JGYWN0b3IgPSB2ZWMzKCAxLjAgKTsKCQltYXRlcmlhbC5zcGVjdWxhckY5MCA9IDEuMDsKCSNlbmRpZgoJbWF0ZXJpYWwuc3BlY3VsYXJDb2xvciA9IG1peCggbWluKCBwb3cyKCAoIGlvciAtIDEuMCApIC8gKCBpb3IgKyAxLjAgKSApICogc3BlY3VsYXJDb2xvckZhY3RvciwgdmVjMyggMS4wICkgKSAqIHNwZWN1bGFySW50ZW5zaXR5RmFjdG9yLCBkaWZmdXNlQ29sb3IucmdiLCBtZXRhbG5lc3NGYWN0b3IgKTsKI2Vsc2UKCW1hdGVyaWFsLnNwZWN1bGFyQ29sb3IgPSBtaXgoIHZlYzMoIDAuMDQgKSwgZGlmZnVzZUNvbG9yLnJnYiwgbWV0YWxuZXNzRmFjdG9yICk7CgltYXRlcmlhbC5zcGVjdWxhckY5MCA9IDEuMDsKI2VuZGlmCiNpZmRlZiBVU0VfQ0xFQVJDT0FUCgltYXRlcmlhbC5jbGVhcmNvYXQgPSBjbGVhcmNvYXQ7CgltYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3MgPSBjbGVhcmNvYXRSb3VnaG5lc3M7CgltYXRlcmlhbC5jbGVhcmNvYXRGMCA9IHZlYzMoIDAuMDQgKTsKCW1hdGVyaWFsLmNsZWFyY29hdEY5MCA9IDEuMDsKCSNpZmRlZiBVU0VfQ0xFQVJDT0FUTUFQCgkJbWF0ZXJpYWwuY2xlYXJjb2F0ICo9IHRleHR1cmUyRCggY2xlYXJjb2F0TWFwLCB2VXYgKS54OwoJI2VuZGlmCgkjaWZkZWYgVVNFX0NMRUFSQ09BVF9ST1VHSE5FU1NNQVAKCQltYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3MgKj0gdGV4dHVyZTJEKCBjbGVhcmNvYXRSb3VnaG5lc3NNYXAsIHZVdiApLnk7CgkjZW5kaWYKCW1hdGVyaWFsLmNsZWFyY29hdCA9IHNhdHVyYXRlKCBtYXRlcmlhbC5jbGVhcmNvYXQgKTsJbWF0ZXJpYWwuY2xlYXJjb2F0Um91Z2huZXNzID0gbWF4KCBtYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3MsIDAuMDUyNSApOwoJbWF0ZXJpYWwuY2xlYXJjb2F0Um91Z2huZXNzICs9IGdlb21ldHJ5Um91Z2huZXNzOwoJbWF0ZXJpYWwuY2xlYXJjb2F0Um91Z2huZXNzID0gbWluKCBtYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3MsIDEuMCApOwojZW5kaWYKI2lmZGVmIFVTRV9TSEVFTgoJbWF0ZXJpYWwuc2hlZW5Db2xvciA9IHNoZWVuQ29sb3I7CgkjaWZkZWYgVVNFX1NIRUVOQ09MT1JNQVAKCQltYXRlcmlhbC5zaGVlbkNvbG9yICo9IHRleHR1cmUyRCggc2hlZW5Db2xvck1hcCwgdlV2ICkucmdiOwoJI2VuZGlmCgltYXRlcmlhbC5zaGVlblJvdWdobmVzcyA9IGNsYW1wKCBzaGVlblJvdWdobmVzcywgMC4wNywgMS4wICk7CgkjaWZkZWYgVVNFX1NIRUVOUk9VR0hORVNTTUFQCgkJbWF0ZXJpYWwuc2hlZW5Sb3VnaG5lc3MgKj0gdGV4dHVyZTJEKCBzaGVlblJvdWdobmVzc01hcCwgdlV2ICkuYTsKCSNlbmRpZgojZW5kaWZgLGx2PWBzdHJ1Y3QgUGh5c2ljYWxNYXRlcmlhbCB7Cgl2ZWMzIGRpZmZ1c2VDb2xvcjsKCWZsb2F0IHJvdWdobmVzczsKCXZlYzMgc3BlY3VsYXJDb2xvcjsKCWZsb2F0IHNwZWN1bGFyRjkwOwoJI2lmZGVmIFVTRV9DTEVBUkNPQVQKCQlmbG9hdCBjbGVhcmNvYXQ7CgkJZmxvYXQgY2xlYXJjb2F0Um91Z2huZXNzOwoJCXZlYzMgY2xlYXJjb2F0RjA7CgkJZmxvYXQgY2xlYXJjb2F0RjkwOwoJI2VuZGlmCgkjaWZkZWYgVVNFX1NIRUVOCgkJdmVjMyBzaGVlbkNvbG9yOwoJCWZsb2F0IHNoZWVuUm91Z2huZXNzOwoJI2VuZGlmCn07CnZlYzMgY2xlYXJjb2F0U3BlY3VsYXIgPSB2ZWMzKCAwLjAgKTsKdmVjMyBzaGVlblNwZWN1bGFyID0gdmVjMyggMC4wICk7CmZsb2F0IElCTFNoZWVuQlJERiggY29uc3QgaW4gdmVjMyBub3JtYWwsIGNvbnN0IGluIHZlYzMgdmlld0RpciwgY29uc3QgaW4gZmxvYXQgcm91Z2huZXNzKSB7CglmbG9hdCBkb3ROViA9IHNhdHVyYXRlKCBkb3QoIG5vcm1hbCwgdmlld0RpciApICk7CglmbG9hdCByMiA9IHJvdWdobmVzcyAqIHJvdWdobmVzczsKCWZsb2F0IGEgPSByb3VnaG5lc3MgPCAwLjI1ID8gLTMzOS4yICogcjIgKyAxNjEuNCAqIHJvdWdobmVzcyAtIDI1LjkgOiAtOC40OCAqIHIyICsgMTQuMyAqIHJvdWdobmVzcyAtIDkuOTU7CglmbG9hdCBiID0gcm91Z2huZXNzIDwgMC4yNSA/IDQ0LjAgKiByMiAtIDIzLjcgKiByb3VnaG5lc3MgKyAzLjI2IDogMS45NyAqIHIyIC0gMy4yNyAqIHJvdWdobmVzcyArIDAuNzI7CglmbG9hdCBERyA9IGV4cCggYSAqIGRvdE5WICsgYiApICsgKCByb3VnaG5lc3MgPCAwLjI1ID8gMC4wIDogMC4xICogKCByb3VnaG5lc3MgLSAwLjI1ICkgKTsKCXJldHVybiBzYXR1cmF0ZSggREcgKiBSRUNJUFJPQ0FMX1BJICk7Cn0KdmVjMiBERkdBcHByb3goIGNvbnN0IGluIHZlYzMgbm9ybWFsLCBjb25zdCBpbiB2ZWMzIHZpZXdEaXIsIGNvbnN0IGluIGZsb2F0IHJvdWdobmVzcyApIHsKCWZsb2F0IGRvdE5WID0gc2F0dXJhdGUoIGRvdCggbm9ybWFsLCB2aWV3RGlyICkgKTsKCWNvbnN0IHZlYzQgYzAgPSB2ZWM0KCAtIDEsIC0gMC4wMjc1LCAtIDAuNTcyLCAwLjAyMiApOwoJY29uc3QgdmVjNCBjMSA9IHZlYzQoIDEsIDAuMDQyNSwgMS4wNCwgLSAwLjA0ICk7Cgl2ZWM0IHIgPSByb3VnaG5lc3MgKiBjMCArIGMxOwoJZmxvYXQgYTAwNCA9IG1pbiggci54ICogci54LCBleHAyKCAtIDkuMjggKiBkb3ROViApICkgKiByLnggKyByLnk7Cgl2ZWMyIGZhYiA9IHZlYzIoIC0gMS4wNCwgMS4wNCApICogYTAwNCArIHIuenc7CglyZXR1cm4gZmFiOwp9CnZlYzMgRW52aXJvbm1lbnRCUkRGKCBjb25zdCBpbiB2ZWMzIG5vcm1hbCwgY29uc3QgaW4gdmVjMyB2aWV3RGlyLCBjb25zdCBpbiB2ZWMzIHNwZWN1bGFyQ29sb3IsIGNvbnN0IGluIGZsb2F0IHNwZWN1bGFyRjkwLCBjb25zdCBpbiBmbG9hdCByb3VnaG5lc3MgKSB7Cgl2ZWMyIGZhYiA9IERGR0FwcHJveCggbm9ybWFsLCB2aWV3RGlyLCByb3VnaG5lc3MgKTsKCXJldHVybiBzcGVjdWxhckNvbG9yICogZmFiLnggKyBzcGVjdWxhckY5MCAqIGZhYi55Owp9CnZvaWQgY29tcHV0ZU11bHRpc2NhdHRlcmluZyggY29uc3QgaW4gdmVjMyBub3JtYWwsIGNvbnN0IGluIHZlYzMgdmlld0RpciwgY29uc3QgaW4gdmVjMyBzcGVjdWxhckNvbG9yLCBjb25zdCBpbiBmbG9hdCBzcGVjdWxhckY5MCwgY29uc3QgaW4gZmxvYXQgcm91Z2huZXNzLCBpbm91dCB2ZWMzIHNpbmdsZVNjYXR0ZXIsIGlub3V0IHZlYzMgbXVsdGlTY2F0dGVyICkgewoJdmVjMiBmYWIgPSBERkdBcHByb3goIG5vcm1hbCwgdmlld0Rpciwgcm91Z2huZXNzICk7Cgl2ZWMzIEZzc0VzcyA9IHNwZWN1bGFyQ29sb3IgKiBmYWIueCArIHNwZWN1bGFyRjkwICogZmFiLnk7CglmbG9hdCBFc3MgPSBmYWIueCArIGZhYi55OwoJZmxvYXQgRW1zID0gMS4wIC0gRXNzOwoJdmVjMyBGYXZnID0gc3BlY3VsYXJDb2xvciArICggMS4wIC0gc3BlY3VsYXJDb2xvciApICogMC4wNDc2MTk7CXZlYzMgRm1zID0gRnNzRXNzICogRmF2ZyAvICggMS4wIC0gRW1zICogRmF2ZyApOwoJc2luZ2xlU2NhdHRlciArPSBGc3NFc3M7CgltdWx0aVNjYXR0ZXIgKz0gRm1zICogRW1zOwp9CiNpZiBOVU1fUkVDVF9BUkVBX0xJR0hUUyA+IDAKCXZvaWQgUkVfRGlyZWN0X1JlY3RBcmVhX1BoeXNpY2FsKCBjb25zdCBpbiBSZWN0QXJlYUxpZ2h0IHJlY3RBcmVhTGlnaHQsIGNvbnN0IGluIEdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnksIGNvbnN0IGluIFBoeXNpY2FsTWF0ZXJpYWwgbWF0ZXJpYWwsIGlub3V0IFJlZmxlY3RlZExpZ2h0IHJlZmxlY3RlZExpZ2h0ICkgewoJCXZlYzMgbm9ybWFsID0gZ2VvbWV0cnkubm9ybWFsOwoJCXZlYzMgdmlld0RpciA9IGdlb21ldHJ5LnZpZXdEaXI7CgkJdmVjMyBwb3NpdGlvbiA9IGdlb21ldHJ5LnBvc2l0aW9uOwoJCXZlYzMgbGlnaHRQb3MgPSByZWN0QXJlYUxpZ2h0LnBvc2l0aW9uOwoJCXZlYzMgaGFsZldpZHRoID0gcmVjdEFyZWFMaWdodC5oYWxmV2lkdGg7CgkJdmVjMyBoYWxmSGVpZ2h0ID0gcmVjdEFyZWFMaWdodC5oYWxmSGVpZ2h0OwoJCXZlYzMgbGlnaHRDb2xvciA9IHJlY3RBcmVhTGlnaHQuY29sb3I7CgkJZmxvYXQgcm91Z2huZXNzID0gbWF0ZXJpYWwucm91Z2huZXNzOwoJCXZlYzMgcmVjdENvb3Jkc1sgNCBdOwoJCXJlY3RDb29yZHNbIDAgXSA9IGxpZ2h0UG9zICsgaGFsZldpZHRoIC0gaGFsZkhlaWdodDsJCXJlY3RDb29yZHNbIDEgXSA9IGxpZ2h0UG9zIC0gaGFsZldpZHRoIC0gaGFsZkhlaWdodDsKCQlyZWN0Q29vcmRzWyAyIF0gPSBsaWdodFBvcyAtIGhhbGZXaWR0aCArIGhhbGZIZWlnaHQ7CgkJcmVjdENvb3Jkc1sgMyBdID0gbGlnaHRQb3MgKyBoYWxmV2lkdGggKyBoYWxmSGVpZ2h0OwoJCXZlYzIgdXYgPSBMVENfVXYoIG5vcm1hbCwgdmlld0Rpciwgcm91Z2huZXNzICk7CgkJdmVjNCB0MSA9IHRleHR1cmUyRCggbHRjXzEsIHV2ICk7CgkJdmVjNCB0MiA9IHRleHR1cmUyRCggbHRjXzIsIHV2ICk7CgkJbWF0MyBtSW52ID0gbWF0MygKCQkJdmVjMyggdDEueCwgMCwgdDEueSApLAoJCQl2ZWMzKCAgICAwLCAxLCAgICAwICksCgkJCXZlYzMoIHQxLnosIDAsIHQxLncgKQoJCSk7CgkJdmVjMyBmcmVzbmVsID0gKCBtYXRlcmlhbC5zcGVjdWxhckNvbG9yICogdDIueCArICggdmVjMyggMS4wICkgLSBtYXRlcmlhbC5zcGVjdWxhckNvbG9yICkgKiB0Mi55ICk7CgkJcmVmbGVjdGVkTGlnaHQuZGlyZWN0U3BlY3VsYXIgKz0gbGlnaHRDb2xvciAqIGZyZXNuZWwgKiBMVENfRXZhbHVhdGUoIG5vcm1hbCwgdmlld0RpciwgcG9zaXRpb24sIG1JbnYsIHJlY3RDb29yZHMgKTsKCQlyZWZsZWN0ZWRMaWdodC5kaXJlY3REaWZmdXNlICs9IGxpZ2h0Q29sb3IgKiBtYXRlcmlhbC5kaWZmdXNlQ29sb3IgKiBMVENfRXZhbHVhdGUoIG5vcm1hbCwgdmlld0RpciwgcG9zaXRpb24sIG1hdDMoIDEuMCApLCByZWN0Q29vcmRzICk7Cgl9CiNlbmRpZgp2b2lkIFJFX0RpcmVjdF9QaHlzaWNhbCggY29uc3QgaW4gSW5jaWRlbnRMaWdodCBkaXJlY3RMaWdodCwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgY29uc3QgaW4gUGh5c2ljYWxNYXRlcmlhbCBtYXRlcmlhbCwgaW5vdXQgUmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQgKSB7CglmbG9hdCBkb3ROTCA9IHNhdHVyYXRlKCBkb3QoIGdlb21ldHJ5Lm5vcm1hbCwgZGlyZWN0TGlnaHQuZGlyZWN0aW9uICkgKTsKCXZlYzMgaXJyYWRpYW5jZSA9IGRvdE5MICogZGlyZWN0TGlnaHQuY29sb3I7CgkjaWZkZWYgVVNFX0NMRUFSQ09BVAoJCWZsb2F0IGRvdE5MY2MgPSBzYXR1cmF0ZSggZG90KCBnZW9tZXRyeS5jbGVhcmNvYXROb3JtYWwsIGRpcmVjdExpZ2h0LmRpcmVjdGlvbiApICk7CgkJdmVjMyBjY0lycmFkaWFuY2UgPSBkb3ROTGNjICogZGlyZWN0TGlnaHQuY29sb3I7CgkJY2xlYXJjb2F0U3BlY3VsYXIgKz0gY2NJcnJhZGlhbmNlICogQlJERl9HR1goIGRpcmVjdExpZ2h0LmRpcmVjdGlvbiwgZ2VvbWV0cnkudmlld0RpciwgZ2VvbWV0cnkuY2xlYXJjb2F0Tm9ybWFsLCBtYXRlcmlhbC5jbGVhcmNvYXRGMCwgbWF0ZXJpYWwuY2xlYXJjb2F0RjkwLCBtYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3MgKTsKCSNlbmRpZgoJI2lmZGVmIFVTRV9TSEVFTgoJCXNoZWVuU3BlY3VsYXIgKz0gaXJyYWRpYW5jZSAqIEJSREZfU2hlZW4oIGRpcmVjdExpZ2h0LmRpcmVjdGlvbiwgZ2VvbWV0cnkudmlld0RpciwgZ2VvbWV0cnkubm9ybWFsLCBtYXRlcmlhbC5zaGVlbkNvbG9yLCBtYXRlcmlhbC5zaGVlblJvdWdobmVzcyApOwoJI2VuZGlmCglyZWZsZWN0ZWRMaWdodC5kaXJlY3RTcGVjdWxhciArPSBpcnJhZGlhbmNlICogQlJERl9HR1goIGRpcmVjdExpZ2h0LmRpcmVjdGlvbiwgZ2VvbWV0cnkudmlld0RpciwgZ2VvbWV0cnkubm9ybWFsLCBtYXRlcmlhbC5zcGVjdWxhckNvbG9yLCBtYXRlcmlhbC5zcGVjdWxhckY5MCwgbWF0ZXJpYWwucm91Z2huZXNzICk7CglyZWZsZWN0ZWRMaWdodC5kaXJlY3REaWZmdXNlICs9IGlycmFkaWFuY2UgKiBCUkRGX0xhbWJlcnQoIG1hdGVyaWFsLmRpZmZ1c2VDb2xvciApOwp9CnZvaWQgUkVfSW5kaXJlY3REaWZmdXNlX1BoeXNpY2FsKCBjb25zdCBpbiB2ZWMzIGlycmFkaWFuY2UsIGNvbnN0IGluIEdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnksIGNvbnN0IGluIFBoeXNpY2FsTWF0ZXJpYWwgbWF0ZXJpYWwsIGlub3V0IFJlZmxlY3RlZExpZ2h0IHJlZmxlY3RlZExpZ2h0ICkgewoJcmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICs9IGlycmFkaWFuY2UgKiBCUkRGX0xhbWJlcnQoIG1hdGVyaWFsLmRpZmZ1c2VDb2xvciApOwp9CnZvaWQgUkVfSW5kaXJlY3RTcGVjdWxhcl9QaHlzaWNhbCggY29uc3QgaW4gdmVjMyByYWRpYW5jZSwgY29uc3QgaW4gdmVjMyBpcnJhZGlhbmNlLCBjb25zdCBpbiB2ZWMzIGNsZWFyY29hdFJhZGlhbmNlLCBjb25zdCBpbiBHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5LCBjb25zdCBpbiBQaHlzaWNhbE1hdGVyaWFsIG1hdGVyaWFsLCBpbm91dCBSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCkgewoJI2lmZGVmIFVTRV9DTEVBUkNPQVQKCQljbGVhcmNvYXRTcGVjdWxhciArPSBjbGVhcmNvYXRSYWRpYW5jZSAqIEVudmlyb25tZW50QlJERiggZ2VvbWV0cnkuY2xlYXJjb2F0Tm9ybWFsLCBnZW9tZXRyeS52aWV3RGlyLCBtYXRlcmlhbC5jbGVhcmNvYXRGMCwgbWF0ZXJpYWwuY2xlYXJjb2F0RjkwLCBtYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3MgKTsKCSNlbmRpZgoJI2lmZGVmIFVTRV9TSEVFTgoJCXNoZWVuU3BlY3VsYXIgKz0gaXJyYWRpYW5jZSAqIG1hdGVyaWFsLnNoZWVuQ29sb3IgKiBJQkxTaGVlbkJSREYoIGdlb21ldHJ5Lm5vcm1hbCwgZ2VvbWV0cnkudmlld0RpciwgbWF0ZXJpYWwuc2hlZW5Sb3VnaG5lc3MgKTsKCSNlbmRpZgoJdmVjMyBzaW5nbGVTY2F0dGVyaW5nID0gdmVjMyggMC4wICk7Cgl2ZWMzIG11bHRpU2NhdHRlcmluZyA9IHZlYzMoIDAuMCApOwoJdmVjMyBjb3NpbmVXZWlnaHRlZElycmFkaWFuY2UgPSBpcnJhZGlhbmNlICogUkVDSVBST0NBTF9QSTsKCWNvbXB1dGVNdWx0aXNjYXR0ZXJpbmcoIGdlb21ldHJ5Lm5vcm1hbCwgZ2VvbWV0cnkudmlld0RpciwgbWF0ZXJpYWwuc3BlY3VsYXJDb2xvciwgbWF0ZXJpYWwuc3BlY3VsYXJGOTAsIG1hdGVyaWFsLnJvdWdobmVzcywgc2luZ2xlU2NhdHRlcmluZywgbXVsdGlTY2F0dGVyaW5nICk7Cgl2ZWMzIGRpZmZ1c2UgPSBtYXRlcmlhbC5kaWZmdXNlQ29sb3IgKiAoIDEuMCAtICggc2luZ2xlU2NhdHRlcmluZyArIG11bHRpU2NhdHRlcmluZyApICk7CglyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdFNwZWN1bGFyICs9IHJhZGlhbmNlICogc2luZ2xlU2NhdHRlcmluZzsKCXJlZmxlY3RlZExpZ2h0LmluZGlyZWN0U3BlY3VsYXIgKz0gbXVsdGlTY2F0dGVyaW5nICogY29zaW5lV2VpZ2h0ZWRJcnJhZGlhbmNlOwoJcmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICs9IGRpZmZ1c2UgKiBjb3NpbmVXZWlnaHRlZElycmFkaWFuY2U7Cn0KI2RlZmluZSBSRV9EaXJlY3QJCQkJUkVfRGlyZWN0X1BoeXNpY2FsCiNkZWZpbmUgUkVfRGlyZWN0X1JlY3RBcmVhCQlSRV9EaXJlY3RfUmVjdEFyZWFfUGh5c2ljYWwKI2RlZmluZSBSRV9JbmRpcmVjdERpZmZ1c2UJCVJFX0luZGlyZWN0RGlmZnVzZV9QaHlzaWNhbAojZGVmaW5lIFJFX0luZGlyZWN0U3BlY3VsYXIJCVJFX0luZGlyZWN0U3BlY3VsYXJfUGh5c2ljYWwKZmxvYXQgY29tcHV0ZVNwZWN1bGFyT2NjbHVzaW9uKCBjb25zdCBpbiBmbG9hdCBkb3ROViwgY29uc3QgaW4gZmxvYXQgYW1iaWVudE9jY2x1c2lvbiwgY29uc3QgaW4gZmxvYXQgcm91Z2huZXNzICkgewoJcmV0dXJuIHNhdHVyYXRlKCBwb3coIGRvdE5WICsgYW1iaWVudE9jY2x1c2lvbiwgZXhwMiggLSAxNi4wICogcm91Z2huZXNzIC0gMS4wICkgKSAtIDEuMCArIGFtYmllbnRPY2NsdXNpb24gKTsKfWAsY3Y9YApHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5OwpnZW9tZXRyeS5wb3NpdGlvbiA9IC0gdlZpZXdQb3NpdGlvbjsKZ2VvbWV0cnkubm9ybWFsID0gbm9ybWFsOwpnZW9tZXRyeS52aWV3RGlyID0gKCBpc09ydGhvZ3JhcGhpYyApID8gdmVjMyggMCwgMCwgMSApIDogbm9ybWFsaXplKCB2Vmlld1Bvc2l0aW9uICk7CiNpZmRlZiBVU0VfQ0xFQVJDT0FUCglnZW9tZXRyeS5jbGVhcmNvYXROb3JtYWwgPSBjbGVhcmNvYXROb3JtYWw7CiNlbmRpZgpJbmNpZGVudExpZ2h0IGRpcmVjdExpZ2h0OwojaWYgKCBOVU1fUE9JTlRfTElHSFRTID4gMCApICYmIGRlZmluZWQoIFJFX0RpcmVjdCApCglQb2ludExpZ2h0IHBvaW50TGlnaHQ7CgkjaWYgZGVmaW5lZCggVVNFX1NIQURPV01BUCApICYmIE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTID4gMAoJUG9pbnRMaWdodFNoYWRvdyBwb2ludExpZ2h0U2hhZG93OwoJI2VuZGlmCgkjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0Cglmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fUE9JTlRfTElHSFRTOyBpICsrICkgewoJCXBvaW50TGlnaHQgPSBwb2ludExpZ2h0c1sgaSBdOwoJCWdldFBvaW50TGlnaHRJbmZvKCBwb2ludExpZ2h0LCBnZW9tZXRyeSwgZGlyZWN0TGlnaHQgKTsKCQkjaWYgZGVmaW5lZCggVVNFX1NIQURPV01BUCApICYmICggVU5ST0xMRURfTE9PUF9JTkRFWCA8IE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTICkKCQlwb2ludExpZ2h0U2hhZG93ID0gcG9pbnRMaWdodFNoYWRvd3NbIGkgXTsKCQlkaXJlY3RMaWdodC5jb2xvciAqPSBhbGwoIGJ2ZWMyKCBkaXJlY3RMaWdodC52aXNpYmxlLCByZWNlaXZlU2hhZG93ICkgKSA/IGdldFBvaW50U2hhZG93KCBwb2ludFNoYWRvd01hcFsgaSBdLCBwb2ludExpZ2h0U2hhZG93LnNoYWRvd01hcFNpemUsIHBvaW50TGlnaHRTaGFkb3cuc2hhZG93QmlhcywgcG9pbnRMaWdodFNoYWRvdy5zaGFkb3dSYWRpdXMsIHZQb2ludFNoYWRvd0Nvb3JkWyBpIF0sIHBvaW50TGlnaHRTaGFkb3cuc2hhZG93Q2FtZXJhTmVhciwgcG9pbnRMaWdodFNoYWRvdy5zaGFkb3dDYW1lcmFGYXIgKSA6IDEuMDsKCQkjZW5kaWYKCQlSRV9EaXJlY3QoIGRpcmVjdExpZ2h0LCBnZW9tZXRyeSwgbWF0ZXJpYWwsIHJlZmxlY3RlZExpZ2h0ICk7Cgl9CgkjcHJhZ21hIHVucm9sbF9sb29wX2VuZAojZW5kaWYKI2lmICggTlVNX1NQT1RfTElHSFRTID4gMCApICYmIGRlZmluZWQoIFJFX0RpcmVjdCApCglTcG90TGlnaHQgc3BvdExpZ2h0OwoJI2lmIGRlZmluZWQoIFVTRV9TSEFET1dNQVAgKSAmJiBOVU1fU1BPVF9MSUdIVF9TSEFET1dTID4gMAoJU3BvdExpZ2h0U2hhZG93IHNwb3RMaWdodFNoYWRvdzsKCSNlbmRpZgoJI3ByYWdtYSB1bnJvbGxfbG9vcF9zdGFydAoJZm9yICggaW50IGkgPSAwOyBpIDwgTlVNX1NQT1RfTElHSFRTOyBpICsrICkgewoJCXNwb3RMaWdodCA9IHNwb3RMaWdodHNbIGkgXTsKCQlnZXRTcG90TGlnaHRJbmZvKCBzcG90TGlnaHQsIGdlb21ldHJ5LCBkaXJlY3RMaWdodCApOwoJCSNpZiBkZWZpbmVkKCBVU0VfU0hBRE9XTUFQICkgJiYgKCBVTlJPTExFRF9MT09QX0lOREVYIDwgTlVNX1NQT1RfTElHSFRfU0hBRE9XUyApCgkJc3BvdExpZ2h0U2hhZG93ID0gc3BvdExpZ2h0U2hhZG93c1sgaSBdOwoJCWRpcmVjdExpZ2h0LmNvbG9yICo9IGFsbCggYnZlYzIoIGRpcmVjdExpZ2h0LnZpc2libGUsIHJlY2VpdmVTaGFkb3cgKSApID8gZ2V0U2hhZG93KCBzcG90U2hhZG93TWFwWyBpIF0sIHNwb3RMaWdodFNoYWRvdy5zaGFkb3dNYXBTaXplLCBzcG90TGlnaHRTaGFkb3cuc2hhZG93Qmlhcywgc3BvdExpZ2h0U2hhZG93LnNoYWRvd1JhZGl1cywgdlNwb3RTaGFkb3dDb29yZFsgaSBdICkgOiAxLjA7CgkJI2VuZGlmCgkJUkVfRGlyZWN0KCBkaXJlY3RMaWdodCwgZ2VvbWV0cnksIG1hdGVyaWFsLCByZWZsZWN0ZWRMaWdodCApOwoJfQoJI3ByYWdtYSB1bnJvbGxfbG9vcF9lbmQKI2VuZGlmCiNpZiAoIE5VTV9ESVJfTElHSFRTID4gMCApICYmIGRlZmluZWQoIFJFX0RpcmVjdCApCglEaXJlY3Rpb25hbExpZ2h0IGRpcmVjdGlvbmFsTGlnaHQ7CgkjaWYgZGVmaW5lZCggVVNFX1NIQURPV01BUCApICYmIE5VTV9ESVJfTElHSFRfU0hBRE9XUyA+IDAKCURpcmVjdGlvbmFsTGlnaHRTaGFkb3cgZGlyZWN0aW9uYWxMaWdodFNoYWRvdzsKCSNlbmRpZgoJI3ByYWdtYSB1bnJvbGxfbG9vcF9zdGFydAoJZm9yICggaW50IGkgPSAwOyBpIDwgTlVNX0RJUl9MSUdIVFM7IGkgKysgKSB7CgkJZGlyZWN0aW9uYWxMaWdodCA9IGRpcmVjdGlvbmFsTGlnaHRzWyBpIF07CgkJZ2V0RGlyZWN0aW9uYWxMaWdodEluZm8oIGRpcmVjdGlvbmFsTGlnaHQsIGdlb21ldHJ5LCBkaXJlY3RMaWdodCApOwoJCSNpZiBkZWZpbmVkKCBVU0VfU0hBRE9XTUFQICkgJiYgKCBVTlJPTExFRF9MT09QX0lOREVYIDwgTlVNX0RJUl9MSUdIVF9TSEFET1dTICkKCQlkaXJlY3Rpb25hbExpZ2h0U2hhZG93ID0gZGlyZWN0aW9uYWxMaWdodFNoYWRvd3NbIGkgXTsKCQlkaXJlY3RMaWdodC5jb2xvciAqPSBhbGwoIGJ2ZWMyKCBkaXJlY3RMaWdodC52aXNpYmxlLCByZWNlaXZlU2hhZG93ICkgKSA/IGdldFNoYWRvdyggZGlyZWN0aW9uYWxTaGFkb3dNYXBbIGkgXSwgZGlyZWN0aW9uYWxMaWdodFNoYWRvdy5zaGFkb3dNYXBTaXplLCBkaXJlY3Rpb25hbExpZ2h0U2hhZG93LnNoYWRvd0JpYXMsIGRpcmVjdGlvbmFsTGlnaHRTaGFkb3cuc2hhZG93UmFkaXVzLCB2RGlyZWN0aW9uYWxTaGFkb3dDb29yZFsgaSBdICkgOiAxLjA7CgkJI2VuZGlmCgkJUkVfRGlyZWN0KCBkaXJlY3RMaWdodCwgZ2VvbWV0cnksIG1hdGVyaWFsLCByZWZsZWN0ZWRMaWdodCApOwoJfQoJI3ByYWdtYSB1bnJvbGxfbG9vcF9lbmQKI2VuZGlmCiNpZiAoIE5VTV9SRUNUX0FSRUFfTElHSFRTID4gMCApICYmIGRlZmluZWQoIFJFX0RpcmVjdF9SZWN0QXJlYSApCglSZWN0QXJlYUxpZ2h0IHJlY3RBcmVhTGlnaHQ7CgkjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0Cglmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fUkVDVF9BUkVBX0xJR0hUUzsgaSArKyApIHsKCQlyZWN0QXJlYUxpZ2h0ID0gcmVjdEFyZWFMaWdodHNbIGkgXTsKCQlSRV9EaXJlY3RfUmVjdEFyZWEoIHJlY3RBcmVhTGlnaHQsIGdlb21ldHJ5LCBtYXRlcmlhbCwgcmVmbGVjdGVkTGlnaHQgKTsKCX0KCSNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kCiNlbmRpZgojaWYgZGVmaW5lZCggUkVfSW5kaXJlY3REaWZmdXNlICkKCXZlYzMgaWJsSXJyYWRpYW5jZSA9IHZlYzMoIDAuMCApOwoJdmVjMyBpcnJhZGlhbmNlID0gZ2V0QW1iaWVudExpZ2h0SXJyYWRpYW5jZSggYW1iaWVudExpZ2h0Q29sb3IgKTsKCWlycmFkaWFuY2UgKz0gZ2V0TGlnaHRQcm9iZUlycmFkaWFuY2UoIGxpZ2h0UHJvYmUsIGdlb21ldHJ5Lm5vcm1hbCApOwoJI2lmICggTlVNX0hFTUlfTElHSFRTID4gMCApCgkJI3ByYWdtYSB1bnJvbGxfbG9vcF9zdGFydAoJCWZvciAoIGludCBpID0gMDsgaSA8IE5VTV9IRU1JX0xJR0hUUzsgaSArKyApIHsKCQkJaXJyYWRpYW5jZSArPSBnZXRIZW1pc3BoZXJlTGlnaHRJcnJhZGlhbmNlKCBoZW1pc3BoZXJlTGlnaHRzWyBpIF0sIGdlb21ldHJ5Lm5vcm1hbCApOwoJCX0KCQkjcHJhZ21hIHVucm9sbF9sb29wX2VuZAoJI2VuZGlmCiNlbmRpZgojaWYgZGVmaW5lZCggUkVfSW5kaXJlY3RTcGVjdWxhciApCgl2ZWMzIHJhZGlhbmNlID0gdmVjMyggMC4wICk7Cgl2ZWMzIGNsZWFyY29hdFJhZGlhbmNlID0gdmVjMyggMC4wICk7CiNlbmRpZmAsdXY9YCNpZiBkZWZpbmVkKCBSRV9JbmRpcmVjdERpZmZ1c2UgKQoJI2lmZGVmIFVTRV9MSUdIVE1BUAoJCXZlYzQgbGlnaHRNYXBUZXhlbCA9IHRleHR1cmUyRCggbGlnaHRNYXAsIHZVdjIgKTsKCQl2ZWMzIGxpZ2h0TWFwSXJyYWRpYW5jZSA9IGxpZ2h0TWFwVGV4ZWwucmdiICogbGlnaHRNYXBJbnRlbnNpdHk7CgkJaXJyYWRpYW5jZSArPSBsaWdodE1hcElycmFkaWFuY2U7CgkjZW5kaWYKCSNpZiBkZWZpbmVkKCBVU0VfRU5WTUFQICkgJiYgZGVmaW5lZCggU1RBTkRBUkQgKSAmJiBkZWZpbmVkKCBFTlZNQVBfVFlQRV9DVUJFX1VWICkKCQlpYmxJcnJhZGlhbmNlICs9IGdldElCTElycmFkaWFuY2UoIGdlb21ldHJ5Lm5vcm1hbCApOwoJI2VuZGlmCiNlbmRpZgojaWYgZGVmaW5lZCggVVNFX0VOVk1BUCApICYmIGRlZmluZWQoIFJFX0luZGlyZWN0U3BlY3VsYXIgKQoJcmFkaWFuY2UgKz0gZ2V0SUJMUmFkaWFuY2UoIGdlb21ldHJ5LnZpZXdEaXIsIGdlb21ldHJ5Lm5vcm1hbCwgbWF0ZXJpYWwucm91Z2huZXNzICk7CgkjaWZkZWYgVVNFX0NMRUFSQ09BVAoJCWNsZWFyY29hdFJhZGlhbmNlICs9IGdldElCTFJhZGlhbmNlKCBnZW9tZXRyeS52aWV3RGlyLCBnZW9tZXRyeS5jbGVhcmNvYXROb3JtYWwsIG1hdGVyaWFsLmNsZWFyY29hdFJvdWdobmVzcyApOwoJI2VuZGlmCiNlbmRpZmAsZHY9YCNpZiBkZWZpbmVkKCBSRV9JbmRpcmVjdERpZmZ1c2UgKQoJUkVfSW5kaXJlY3REaWZmdXNlKCBpcnJhZGlhbmNlLCBnZW9tZXRyeSwgbWF0ZXJpYWwsIHJlZmxlY3RlZExpZ2h0ICk7CiNlbmRpZgojaWYgZGVmaW5lZCggUkVfSW5kaXJlY3RTcGVjdWxhciApCglSRV9JbmRpcmVjdFNwZWN1bGFyKCByYWRpYW5jZSwgaWJsSXJyYWRpYW5jZSwgY2xlYXJjb2F0UmFkaWFuY2UsIGdlb21ldHJ5LCBtYXRlcmlhbCwgcmVmbGVjdGVkTGlnaHQgKTsKI2VuZGlmYCxwdj1gI2lmIGRlZmluZWQoIFVTRV9MT0dERVBUSEJVRiApICYmIGRlZmluZWQoIFVTRV9MT0dERVBUSEJVRl9FWFQgKQoJZ2xfRnJhZ0RlcHRoRVhUID0gdklzUGVyc3BlY3RpdmUgPT0gMC4wID8gZ2xfRnJhZ0Nvb3JkLnogOiBsb2cyKCB2RnJhZ0RlcHRoICkgKiBsb2dEZXB0aEJ1ZkZDICogMC41OwojZW5kaWZgLGZ2PWAjaWYgZGVmaW5lZCggVVNFX0xPR0RFUFRIQlVGICkgJiYgZGVmaW5lZCggVVNFX0xPR0RFUFRIQlVGX0VYVCApCgl1bmlmb3JtIGZsb2F0IGxvZ0RlcHRoQnVmRkM7Cgl2YXJ5aW5nIGZsb2F0IHZGcmFnRGVwdGg7Cgl2YXJ5aW5nIGZsb2F0IHZJc1BlcnNwZWN0aXZlOwojZW5kaWZgLG12PWAjaWZkZWYgVVNFX0xPR0RFUFRIQlVGCgkjaWZkZWYgVVNFX0xPR0RFUFRIQlVGX0VYVAoJCXZhcnlpbmcgZmxvYXQgdkZyYWdEZXB0aDsKCQl2YXJ5aW5nIGZsb2F0IHZJc1BlcnNwZWN0aXZlOwoJI2Vsc2UKCQl1bmlmb3JtIGZsb2F0IGxvZ0RlcHRoQnVmRkM7CgkjZW5kaWYKI2VuZGlmYCxndj1gI2lmZGVmIFVTRV9MT0dERVBUSEJVRgoJI2lmZGVmIFVTRV9MT0dERVBUSEJVRl9FWFQKCQl2RnJhZ0RlcHRoID0gMS4wICsgZ2xfUG9zaXRpb24udzsKCQl2SXNQZXJzcGVjdGl2ZSA9IGZsb2F0KCBpc1BlcnNwZWN0aXZlTWF0cml4KCBwcm9qZWN0aW9uTWF0cml4ICkgKTsKCSNlbHNlCgkJaWYgKCBpc1BlcnNwZWN0aXZlTWF0cml4KCBwcm9qZWN0aW9uTWF0cml4ICkgKSB7CgkJCWdsX1Bvc2l0aW9uLnogPSBsb2cyKCBtYXgoIEVQU0lMT04sIGdsX1Bvc2l0aW9uLncgKyAxLjAgKSApICogbG9nRGVwdGhCdWZGQyAtIDEuMDsKCQkJZ2xfUG9zaXRpb24ueiAqPSBnbF9Qb3NpdGlvbi53OwoJCX0KCSNlbmRpZgojZW5kaWZgLHZ2PWAjaWZkZWYgVVNFX01BUAoJdmVjNCBzYW1wbGVkRGlmZnVzZUNvbG9yID0gdGV4dHVyZTJEKCBtYXAsIHZVdiApOwoJI2lmZGVmIERFQ09ERV9WSURFT19URVhUVVJFCgkJc2FtcGxlZERpZmZ1c2VDb2xvciA9IHZlYzQoIG1peCggcG93KCBzYW1wbGVkRGlmZnVzZUNvbG9yLnJnYiAqIDAuOTQ3ODY3Mjk4NiArIHZlYzMoIDAuMDUyMTMyNzAxNCApLCB2ZWMzKCAyLjQgKSApLCBzYW1wbGVkRGlmZnVzZUNvbG9yLnJnYiAqIDAuMDc3Mzk5MzgwOCwgdmVjMyggbGVzc1RoYW5FcXVhbCggc2FtcGxlZERpZmZ1c2VDb2xvci5yZ2IsIHZlYzMoIDAuMDQwNDUgKSApICkgKSwgc2FtcGxlZERpZmZ1c2VDb2xvci53ICk7CgkjZW5kaWYKCWRpZmZ1c2VDb2xvciAqPSBzYW1wbGVkRGlmZnVzZUNvbG9yOwojZW5kaWZgLHh2PWAjaWZkZWYgVVNFX01BUAoJdW5pZm9ybSBzYW1wbGVyMkQgbWFwOwojZW5kaWZgLF92PWAjaWYgZGVmaW5lZCggVVNFX01BUCApIHx8IGRlZmluZWQoIFVTRV9BTFBIQU1BUCApCgl2ZWMyIHV2ID0gKCB1dlRyYW5zZm9ybSAqIHZlYzMoIGdsX1BvaW50Q29vcmQueCwgMS4wIC0gZ2xfUG9pbnRDb29yZC55LCAxICkgKS54eTsKI2VuZGlmCiNpZmRlZiBVU0VfTUFQCglkaWZmdXNlQ29sb3IgKj0gdGV4dHVyZTJEKCBtYXAsIHV2ICk7CiNlbmRpZgojaWZkZWYgVVNFX0FMUEhBTUFQCglkaWZmdXNlQ29sb3IuYSAqPSB0ZXh0dXJlMkQoIGFscGhhTWFwLCB1diApLmc7CiNlbmRpZmAseXY9YCNpZiBkZWZpbmVkKCBVU0VfTUFQICkgfHwgZGVmaW5lZCggVVNFX0FMUEhBTUFQICkKCXVuaWZvcm0gbWF0MyB1dlRyYW5zZm9ybTsKI2VuZGlmCiNpZmRlZiBVU0VfTUFQCgl1bmlmb3JtIHNhbXBsZXIyRCBtYXA7CiNlbmRpZgojaWZkZWYgVVNFX0FMUEhBTUFQCgl1bmlmb3JtIHNhbXBsZXIyRCBhbHBoYU1hcDsKI2VuZGlmYCxNdj1gZmxvYXQgbWV0YWxuZXNzRmFjdG9yID0gbWV0YWxuZXNzOwojaWZkZWYgVVNFX01FVEFMTkVTU01BUAoJdmVjNCB0ZXhlbE1ldGFsbmVzcyA9IHRleHR1cmUyRCggbWV0YWxuZXNzTWFwLCB2VXYgKTsKCW1ldGFsbmVzc0ZhY3RvciAqPSB0ZXhlbE1ldGFsbmVzcy5iOwojZW5kaWZgLGJ2PWAjaWZkZWYgVVNFX01FVEFMTkVTU01BUAoJdW5pZm9ybSBzYW1wbGVyMkQgbWV0YWxuZXNzTWFwOwojZW5kaWZgLHd2PWAjaWYgZGVmaW5lZCggVVNFX01PUlBIQ09MT1JTICkgJiYgZGVmaW5lZCggTU9SUEhUQVJHRVRTX1RFWFRVUkUgKQoJdkNvbG9yICo9IG1vcnBoVGFyZ2V0QmFzZUluZmx1ZW5jZTsKCWZvciAoIGludCBpID0gMDsgaSA8IE1PUlBIVEFSR0VUU19DT1VOVDsgaSArKyApIHsKCQkjaWYgZGVmaW5lZCggVVNFX0NPTE9SX0FMUEhBICkKCQkJaWYgKCBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIGkgXSAhPSAwLjAgKSB2Q29sb3IgKz0gZ2V0TW9ycGgoIGdsX1ZlcnRleElELCBpLCAyICkgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIGkgXTsKCQkjZWxpZiBkZWZpbmVkKCBVU0VfQ09MT1IgKQoJCQlpZiAoIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgaSBdICE9IDAuMCApIHZDb2xvciArPSBnZXRNb3JwaCggZ2xfVmVydGV4SUQsIGksIDIgKS5yZ2IgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIGkgXTsKCQkjZW5kaWYKCX0KI2VuZGlmYCxTdj1gI2lmZGVmIFVTRV9NT1JQSE5PUk1BTFMKCW9iamVjdE5vcm1hbCAqPSBtb3JwaFRhcmdldEJhc2VJbmZsdWVuY2U7CgkjaWZkZWYgTU9SUEhUQVJHRVRTX1RFWFRVUkUKCQlmb3IgKCBpbnQgaSA9IDA7IGkgPCBNT1JQSFRBUkdFVFNfQ09VTlQ7IGkgKysgKSB7CgkJCWlmICggbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyBpIF0gIT0gMC4wICkgb2JqZWN0Tm9ybWFsICs9IGdldE1vcnBoKCBnbF9WZXJ0ZXhJRCwgaSwgMSApLnh5eiAqIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgaSBdOwoJCX0KCSNlbHNlCgkJb2JqZWN0Tm9ybWFsICs9IG1vcnBoTm9ybWFsMCAqIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgMCBdOwoJCW9iamVjdE5vcm1hbCArPSBtb3JwaE5vcm1hbDEgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDEgXTsKCQlvYmplY3ROb3JtYWwgKz0gbW9ycGhOb3JtYWwyICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyAyIF07CgkJb2JqZWN0Tm9ybWFsICs9IG1vcnBoTm9ybWFsMyAqIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgMyBdOwoJI2VuZGlmCiNlbmRpZmAsRXY9YCNpZmRlZiBVU0VfTU9SUEhUQVJHRVRTCgl1bmlmb3JtIGZsb2F0IG1vcnBoVGFyZ2V0QmFzZUluZmx1ZW5jZTsKCSNpZmRlZiBNT1JQSFRBUkdFVFNfVEVYVFVSRQoJCXVuaWZvcm0gZmxvYXQgbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyBNT1JQSFRBUkdFVFNfQ09VTlQgXTsKCQl1bmlmb3JtIHNhbXBsZXIyREFycmF5IG1vcnBoVGFyZ2V0c1RleHR1cmU7CgkJdW5pZm9ybSBpdmVjMiBtb3JwaFRhcmdldHNUZXh0dXJlU2l6ZTsKCQl2ZWM0IGdldE1vcnBoKCBjb25zdCBpbiBpbnQgdmVydGV4SW5kZXgsIGNvbnN0IGluIGludCBtb3JwaFRhcmdldEluZGV4LCBjb25zdCBpbiBpbnQgb2Zmc2V0ICkgewoJCQlpbnQgdGV4ZWxJbmRleCA9IHZlcnRleEluZGV4ICogTU9SUEhUQVJHRVRTX1RFWFRVUkVfU1RSSURFICsgb2Zmc2V0OwoJCQlpbnQgeSA9IHRleGVsSW5kZXggLyBtb3JwaFRhcmdldHNUZXh0dXJlU2l6ZS54OwoJCQlpbnQgeCA9IHRleGVsSW5kZXggLSB5ICogbW9ycGhUYXJnZXRzVGV4dHVyZVNpemUueDsKCQkJaXZlYzMgbW9ycGhVViA9IGl2ZWMzKCB4LCB5LCBtb3JwaFRhcmdldEluZGV4ICk7CgkJCXJldHVybiB0ZXhlbEZldGNoKCBtb3JwaFRhcmdldHNUZXh0dXJlLCBtb3JwaFVWLCAwICk7CgkJfQoJI2Vsc2UKCQkjaWZuZGVmIFVTRV9NT1JQSE5PUk1BTFMKCQkJdW5pZm9ybSBmbG9hdCBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDggXTsKCQkjZWxzZQoJCQl1bmlmb3JtIGZsb2F0IG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgNCBdOwoJCSNlbmRpZgoJI2VuZGlmCiNlbmRpZmAsVHY9YCNpZmRlZiBVU0VfTU9SUEhUQVJHRVRTCgl0cmFuc2Zvcm1lZCAqPSBtb3JwaFRhcmdldEJhc2VJbmZsdWVuY2U7CgkjaWZkZWYgTU9SUEhUQVJHRVRTX1RFWFRVUkUKCQlmb3IgKCBpbnQgaSA9IDA7IGkgPCBNT1JQSFRBUkdFVFNfQ09VTlQ7IGkgKysgKSB7CgkJCWlmICggbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyBpIF0gIT0gMC4wICkgdHJhbnNmb3JtZWQgKz0gZ2V0TW9ycGgoIGdsX1ZlcnRleElELCBpLCAwICkueHl6ICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyBpIF07CgkJfQoJI2Vsc2UKCQl0cmFuc2Zvcm1lZCArPSBtb3JwaFRhcmdldDAgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDAgXTsKCQl0cmFuc2Zvcm1lZCArPSBtb3JwaFRhcmdldDEgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDEgXTsKCQl0cmFuc2Zvcm1lZCArPSBtb3JwaFRhcmdldDIgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDIgXTsKCQl0cmFuc2Zvcm1lZCArPSBtb3JwaFRhcmdldDMgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDMgXTsKCQkjaWZuZGVmIFVTRV9NT1JQSE5PUk1BTFMKCQkJdHJhbnNmb3JtZWQgKz0gbW9ycGhUYXJnZXQ0ICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyA0IF07CgkJCXRyYW5zZm9ybWVkICs9IG1vcnBoVGFyZ2V0NSAqIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgNSBdOwoJCQl0cmFuc2Zvcm1lZCArPSBtb3JwaFRhcmdldDYgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDYgXTsKCQkJdHJhbnNmb3JtZWQgKz0gbW9ycGhUYXJnZXQ3ICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyA3IF07CgkJI2VuZGlmCgkjZW5kaWYKI2VuZGlmYCxBdj1gZmxvYXQgZmFjZURpcmVjdGlvbiA9IGdsX0Zyb250RmFjaW5nID8gMS4wIDogLSAxLjA7CiNpZmRlZiBGTEFUX1NIQURFRAoJdmVjMyBmZHggPSB2ZWMzKCBkRmR4KCB2Vmlld1Bvc2l0aW9uLnggKSwgZEZkeCggdlZpZXdQb3NpdGlvbi55ICksIGRGZHgoIHZWaWV3UG9zaXRpb24ueiApICk7Cgl2ZWMzIGZkeSA9IHZlYzMoIGRGZHkoIHZWaWV3UG9zaXRpb24ueCApLCBkRmR5KCB2Vmlld1Bvc2l0aW9uLnkgKSwgZEZkeSggdlZpZXdQb3NpdGlvbi56ICkgKTsKCXZlYzMgbm9ybWFsID0gbm9ybWFsaXplKCBjcm9zcyggZmR4LCBmZHkgKSApOwojZWxzZQoJdmVjMyBub3JtYWwgPSBub3JtYWxpemUoIHZOb3JtYWwgKTsKCSNpZmRlZiBET1VCTEVfU0lERUQKCQlub3JtYWwgPSBub3JtYWwgKiBmYWNlRGlyZWN0aW9uOwoJI2VuZGlmCgkjaWZkZWYgVVNFX1RBTkdFTlQKCQl2ZWMzIHRhbmdlbnQgPSBub3JtYWxpemUoIHZUYW5nZW50ICk7CgkJdmVjMyBiaXRhbmdlbnQgPSBub3JtYWxpemUoIHZCaXRhbmdlbnQgKTsKCQkjaWZkZWYgRE9VQkxFX1NJREVECgkJCXRhbmdlbnQgPSB0YW5nZW50ICogZmFjZURpcmVjdGlvbjsKCQkJYml0YW5nZW50ID0gYml0YW5nZW50ICogZmFjZURpcmVjdGlvbjsKCQkjZW5kaWYKCQkjaWYgZGVmaW5lZCggVEFOR0VOVFNQQUNFX05PUk1BTE1BUCApIHx8IGRlZmluZWQoIFVTRV9DTEVBUkNPQVRfTk9STUFMTUFQICkKCQkJbWF0MyB2VEJOID0gbWF0MyggdGFuZ2VudCwgYml0YW5nZW50LCBub3JtYWwgKTsKCQkjZW5kaWYKCSNlbmRpZgojZW5kaWYKdmVjMyBnZW9tZXRyeU5vcm1hbCA9IG5vcm1hbDtgLEN2PWAjaWZkZWYgT0JKRUNUU1BBQ0VfTk9STUFMTUFQCglub3JtYWwgPSB0ZXh0dXJlMkQoIG5vcm1hbE1hcCwgdlV2ICkueHl6ICogMi4wIC0gMS4wOwoJI2lmZGVmIEZMSVBfU0lERUQKCQlub3JtYWwgPSAtIG5vcm1hbDsKCSNlbmRpZgoJI2lmZGVmIERPVUJMRV9TSURFRAoJCW5vcm1hbCA9IG5vcm1hbCAqIGZhY2VEaXJlY3Rpb247CgkjZW5kaWYKCW5vcm1hbCA9IG5vcm1hbGl6ZSggbm9ybWFsTWF0cml4ICogbm9ybWFsICk7CiNlbGlmIGRlZmluZWQoIFRBTkdFTlRTUEFDRV9OT1JNQUxNQVAgKQoJdmVjMyBtYXBOID0gdGV4dHVyZTJEKCBub3JtYWxNYXAsIHZVdiApLnh5eiAqIDIuMCAtIDEuMDsKCW1hcE4ueHkgKj0gbm9ybWFsU2NhbGU7CgkjaWZkZWYgVVNFX1RBTkdFTlQKCQlub3JtYWwgPSBub3JtYWxpemUoIHZUQk4gKiBtYXBOICk7CgkjZWxzZQoJCW5vcm1hbCA9IHBlcnR1cmJOb3JtYWwyQXJiKCAtIHZWaWV3UG9zaXRpb24sIG5vcm1hbCwgbWFwTiwgZmFjZURpcmVjdGlvbiApOwoJI2VuZGlmCiNlbGlmIGRlZmluZWQoIFVTRV9CVU1QTUFQICkKCW5vcm1hbCA9IHBlcnR1cmJOb3JtYWxBcmIoIC0gdlZpZXdQb3NpdGlvbiwgbm9ybWFsLCBkSGR4eV9md2QoKSwgZmFjZURpcmVjdGlvbiApOwojZW5kaWZgLEx2PWAjaWZuZGVmIEZMQVRfU0hBREVECgl2YXJ5aW5nIHZlYzMgdk5vcm1hbDsKCSNpZmRlZiBVU0VfVEFOR0VOVAoJCXZhcnlpbmcgdmVjMyB2VGFuZ2VudDsKCQl2YXJ5aW5nIHZlYzMgdkJpdGFuZ2VudDsKCSNlbmRpZgojZW5kaWZgLFJ2PWAjaWZuZGVmIEZMQVRfU0hBREVECgl2YXJ5aW5nIHZlYzMgdk5vcm1hbDsKCSNpZmRlZiBVU0VfVEFOR0VOVAoJCXZhcnlpbmcgdmVjMyB2VGFuZ2VudDsKCQl2YXJ5aW5nIHZlYzMgdkJpdGFuZ2VudDsKCSNlbmRpZgojZW5kaWZgLFB2PWAjaWZuZGVmIEZMQVRfU0hBREVECgl2Tm9ybWFsID0gbm9ybWFsaXplKCB0cmFuc2Zvcm1lZE5vcm1hbCApOwoJI2lmZGVmIFVTRV9UQU5HRU5UCgkJdlRhbmdlbnQgPSBub3JtYWxpemUoIHRyYW5zZm9ybWVkVGFuZ2VudCApOwoJCXZCaXRhbmdlbnQgPSBub3JtYWxpemUoIGNyb3NzKCB2Tm9ybWFsLCB2VGFuZ2VudCApICogdGFuZ2VudC53ICk7CgkjZW5kaWYKI2VuZGlmYCxJdj1gI2lmZGVmIFVTRV9OT1JNQUxNQVAKCXVuaWZvcm0gc2FtcGxlcjJEIG5vcm1hbE1hcDsKCXVuaWZvcm0gdmVjMiBub3JtYWxTY2FsZTsKI2VuZGlmCiNpZmRlZiBPQkpFQ1RTUEFDRV9OT1JNQUxNQVAKCXVuaWZvcm0gbWF0MyBub3JtYWxNYXRyaXg7CiNlbmRpZgojaWYgISBkZWZpbmVkICggVVNFX1RBTkdFTlQgKSAmJiAoIGRlZmluZWQgKCBUQU5HRU5UU1BBQ0VfTk9STUFMTUFQICkgfHwgZGVmaW5lZCAoIFVTRV9DTEVBUkNPQVRfTk9STUFMTUFQICkgKQoJdmVjMyBwZXJ0dXJiTm9ybWFsMkFyYiggdmVjMyBleWVfcG9zLCB2ZWMzIHN1cmZfbm9ybSwgdmVjMyBtYXBOLCBmbG9hdCBmYWNlRGlyZWN0aW9uICkgewoJCXZlYzMgcTAgPSB2ZWMzKCBkRmR4KCBleWVfcG9zLnggKSwgZEZkeCggZXllX3Bvcy55ICksIGRGZHgoIGV5ZV9wb3MueiApICk7CgkJdmVjMyBxMSA9IHZlYzMoIGRGZHkoIGV5ZV9wb3MueCApLCBkRmR5KCBleWVfcG9zLnkgKSwgZEZkeSggZXllX3Bvcy56ICkgKTsKCQl2ZWMyIHN0MCA9IGRGZHgoIHZVdi5zdCApOwoJCXZlYzIgc3QxID0gZEZkeSggdlV2LnN0ICk7CgkJdmVjMyBOID0gc3VyZl9ub3JtOwoJCXZlYzMgcTFwZXJwID0gY3Jvc3MoIHExLCBOICk7CgkJdmVjMyBxMHBlcnAgPSBjcm9zcyggTiwgcTAgKTsKCQl2ZWMzIFQgPSBxMXBlcnAgKiBzdDAueCArIHEwcGVycCAqIHN0MS54OwoJCXZlYzMgQiA9IHExcGVycCAqIHN0MC55ICsgcTBwZXJwICogc3QxLnk7CgkJZmxvYXQgZGV0ID0gbWF4KCBkb3QoIFQsIFQgKSwgZG90KCBCLCBCICkgKTsKCQlmbG9hdCBzY2FsZSA9ICggZGV0ID09IDAuMCApID8gMC4wIDogZmFjZURpcmVjdGlvbiAqIGludmVyc2VzcXJ0KCBkZXQgKTsKCQlyZXR1cm4gbm9ybWFsaXplKCBUICogKCBtYXBOLnggKiBzY2FsZSApICsgQiAqICggbWFwTi55ICogc2NhbGUgKSArIE4gKiBtYXBOLnogKTsKCX0KI2VuZGlmYCxOdj1gI2lmZGVmIFVTRV9DTEVBUkNPQVQKCXZlYzMgY2xlYXJjb2F0Tm9ybWFsID0gZ2VvbWV0cnlOb3JtYWw7CiNlbmRpZmAsRHY9YCNpZmRlZiBVU0VfQ0xFQVJDT0FUX05PUk1BTE1BUAoJdmVjMyBjbGVhcmNvYXRNYXBOID0gdGV4dHVyZTJEKCBjbGVhcmNvYXROb3JtYWxNYXAsIHZVdiApLnh5eiAqIDIuMCAtIDEuMDsKCWNsZWFyY29hdE1hcE4ueHkgKj0gY2xlYXJjb2F0Tm9ybWFsU2NhbGU7CgkjaWZkZWYgVVNFX1RBTkdFTlQKCQljbGVhcmNvYXROb3JtYWwgPSBub3JtYWxpemUoIHZUQk4gKiBjbGVhcmNvYXRNYXBOICk7CgkjZWxzZQoJCWNsZWFyY29hdE5vcm1hbCA9IHBlcnR1cmJOb3JtYWwyQXJiKCAtIHZWaWV3UG9zaXRpb24sIGNsZWFyY29hdE5vcm1hbCwgY2xlYXJjb2F0TWFwTiwgZmFjZURpcmVjdGlvbiApOwoJI2VuZGlmCiNlbmRpZmAsT3Y9YCNpZmRlZiBVU0VfQ0xFQVJDT0FUTUFQCgl1bmlmb3JtIHNhbXBsZXIyRCBjbGVhcmNvYXRNYXA7CiNlbmRpZgojaWZkZWYgVVNFX0NMRUFSQ09BVF9ST1VHSE5FU1NNQVAKCXVuaWZvcm0gc2FtcGxlcjJEIGNsZWFyY29hdFJvdWdobmVzc01hcDsKI2VuZGlmCiNpZmRlZiBVU0VfQ0xFQVJDT0FUX05PUk1BTE1BUAoJdW5pZm9ybSBzYW1wbGVyMkQgY2xlYXJjb2F0Tm9ybWFsTWFwOwoJdW5pZm9ybSB2ZWMyIGNsZWFyY29hdE5vcm1hbFNjYWxlOwojZW5kaWZgLHp2PWAjaWZkZWYgT1BBUVVFCmRpZmZ1c2VDb2xvci5hID0gMS4wOwojZW5kaWYKI2lmZGVmIFVTRV9UUkFOU01JU1NJT04KZGlmZnVzZUNvbG9yLmEgKj0gdHJhbnNtaXNzaW9uQWxwaGEgKyAwLjE7CiNlbmRpZgpnbF9GcmFnQ29sb3IgPSB2ZWM0KCBvdXRnb2luZ0xpZ2h0LCBkaWZmdXNlQ29sb3IuYSApO2AsQnY9YHZlYzMgcGFja05vcm1hbFRvUkdCKCBjb25zdCBpbiB2ZWMzIG5vcm1hbCApIHsKCXJldHVybiBub3JtYWxpemUoIG5vcm1hbCApICogMC41ICsgMC41Owp9CnZlYzMgdW5wYWNrUkdCVG9Ob3JtYWwoIGNvbnN0IGluIHZlYzMgcmdiICkgewoJcmV0dXJuIDIuMCAqIHJnYi54eXogLSAxLjA7Cn0KY29uc3QgZmxvYXQgUGFja1Vwc2NhbGUgPSAyNTYuIC8gMjU1Ljtjb25zdCBmbG9hdCBVbnBhY2tEb3duc2NhbGUgPSAyNTUuIC8gMjU2LjsKY29uc3QgdmVjMyBQYWNrRmFjdG9ycyA9IHZlYzMoIDI1Ni4gKiAyNTYuICogMjU2LiwgMjU2LiAqIDI1Ni4sIDI1Ni4gKTsKY29uc3QgdmVjNCBVbnBhY2tGYWN0b3JzID0gVW5wYWNrRG93bnNjYWxlIC8gdmVjNCggUGFja0ZhY3RvcnMsIDEuICk7CmNvbnN0IGZsb2F0IFNoaWZ0UmlnaHQ4ID0gMS4gLyAyNTYuOwp2ZWM0IHBhY2tEZXB0aFRvUkdCQSggY29uc3QgaW4gZmxvYXQgdiApIHsKCXZlYzQgciA9IHZlYzQoIGZyYWN0KCB2ICogUGFja0ZhY3RvcnMgKSwgdiApOwoJci55encgLT0gci54eXogKiBTaGlmdFJpZ2h0ODsJcmV0dXJuIHIgKiBQYWNrVXBzY2FsZTsKfQpmbG9hdCB1bnBhY2tSR0JBVG9EZXB0aCggY29uc3QgaW4gdmVjNCB2ICkgewoJcmV0dXJuIGRvdCggdiwgVW5wYWNrRmFjdG9ycyApOwp9CnZlYzQgcGFjazJIYWxmVG9SR0JBKCB2ZWMyIHYgKSB7Cgl2ZWM0IHIgPSB2ZWM0KCB2LngsIGZyYWN0KCB2LnggKiAyNTUuMCApLCB2LnksIGZyYWN0KCB2LnkgKiAyNTUuMCApICk7CglyZXR1cm4gdmVjNCggci54IC0gci55IC8gMjU1LjAsIHIueSwgci56IC0gci53IC8gMjU1LjAsIHIudyApOwp9CnZlYzIgdW5wYWNrUkdCQVRvMkhhbGYoIHZlYzQgdiApIHsKCXJldHVybiB2ZWMyKCB2LnggKyAoIHYueSAvIDI1NS4wICksIHYueiArICggdi53IC8gMjU1LjAgKSApOwp9CmZsb2F0IHZpZXdaVG9PcnRob2dyYXBoaWNEZXB0aCggY29uc3QgaW4gZmxvYXQgdmlld1osIGNvbnN0IGluIGZsb2F0IG5lYXIsIGNvbnN0IGluIGZsb2F0IGZhciApIHsKCXJldHVybiAoIHZpZXdaICsgbmVhciApIC8gKCBuZWFyIC0gZmFyICk7Cn0KZmxvYXQgb3J0aG9ncmFwaGljRGVwdGhUb1ZpZXdaKCBjb25zdCBpbiBmbG9hdCBsaW5lYXJDbGlwWiwgY29uc3QgaW4gZmxvYXQgbmVhciwgY29uc3QgaW4gZmxvYXQgZmFyICkgewoJcmV0dXJuIGxpbmVhckNsaXBaICogKCBuZWFyIC0gZmFyICkgLSBuZWFyOwp9CmZsb2F0IHZpZXdaVG9QZXJzcGVjdGl2ZURlcHRoKCBjb25zdCBpbiBmbG9hdCB2aWV3WiwgY29uc3QgaW4gZmxvYXQgbmVhciwgY29uc3QgaW4gZmxvYXQgZmFyICkgewoJcmV0dXJuICggKCBuZWFyICsgdmlld1ogKSAqIGZhciApIC8gKCAoIGZhciAtIG5lYXIgKSAqIHZpZXdaICk7Cn0KZmxvYXQgcGVyc3BlY3RpdmVEZXB0aFRvVmlld1ooIGNvbnN0IGluIGZsb2F0IGludkNsaXBaLCBjb25zdCBpbiBmbG9hdCBuZWFyLCBjb25zdCBpbiBmbG9hdCBmYXIgKSB7CglyZXR1cm4gKCBuZWFyICogZmFyICkgLyAoICggZmFyIC0gbmVhciApICogaW52Q2xpcFogLSBmYXIgKTsKfWAsVXY9YCNpZmRlZiBQUkVNVUxUSVBMSUVEX0FMUEhBCglnbF9GcmFnQ29sb3IucmdiICo9IGdsX0ZyYWdDb2xvci5hOwojZW5kaWZgLEZ2PWB2ZWM0IG12UG9zaXRpb24gPSB2ZWM0KCB0cmFuc2Zvcm1lZCwgMS4wICk7CiNpZmRlZiBVU0VfSU5TVEFOQ0lORwoJbXZQb3NpdGlvbiA9IGluc3RhbmNlTWF0cml4ICogbXZQb3NpdGlvbjsKI2VuZGlmCm12UG9zaXRpb24gPSBtb2RlbFZpZXdNYXRyaXggKiBtdlBvc2l0aW9uOwpnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtdlBvc2l0aW9uO2AsSHY9YCNpZmRlZiBESVRIRVJJTkcKCWdsX0ZyYWdDb2xvci5yZ2IgPSBkaXRoZXJpbmcoIGdsX0ZyYWdDb2xvci5yZ2IgKTsKI2VuZGlmYCxrdj1gI2lmZGVmIERJVEhFUklORwoJdmVjMyBkaXRoZXJpbmcoIHZlYzMgY29sb3IgKSB7CgkJZmxvYXQgZ3JpZF9wb3NpdGlvbiA9IHJhbmQoIGdsX0ZyYWdDb29yZC54eSApOwoJCXZlYzMgZGl0aGVyX3NoaWZ0X1JHQiA9IHZlYzMoIDAuMjUgLyAyNTUuMCwgLTAuMjUgLyAyNTUuMCwgMC4yNSAvIDI1NS4wICk7CgkJZGl0aGVyX3NoaWZ0X1JHQiA9IG1peCggMi4wICogZGl0aGVyX3NoaWZ0X1JHQiwgLTIuMCAqIGRpdGhlcl9zaGlmdF9SR0IsIGdyaWRfcG9zaXRpb24gKTsKCQlyZXR1cm4gY29sb3IgKyBkaXRoZXJfc2hpZnRfUkdCOwoJfQojZW5kaWZgLEd2PWBmbG9hdCByb3VnaG5lc3NGYWN0b3IgPSByb3VnaG5lc3M7CiNpZmRlZiBVU0VfUk9VR0hORVNTTUFQCgl2ZWM0IHRleGVsUm91Z2huZXNzID0gdGV4dHVyZTJEKCByb3VnaG5lc3NNYXAsIHZVdiApOwoJcm91Z2huZXNzRmFjdG9yICo9IHRleGVsUm91Z2huZXNzLmc7CiNlbmRpZmAsVnY9YCNpZmRlZiBVU0VfUk9VR0hORVNTTUFQCgl1bmlmb3JtIHNhbXBsZXIyRCByb3VnaG5lc3NNYXA7CiNlbmRpZmAsV3Y9YCNpZmRlZiBVU0VfU0hBRE9XTUFQCgkjaWYgTlVNX0RJUl9MSUdIVF9TSEFET1dTID4gMAoJCXVuaWZvcm0gc2FtcGxlcjJEIGRpcmVjdGlvbmFsU2hhZG93TWFwWyBOVU1fRElSX0xJR0hUX1NIQURPV1MgXTsKCQl2YXJ5aW5nIHZlYzQgdkRpcmVjdGlvbmFsU2hhZG93Q29vcmRbIE5VTV9ESVJfTElHSFRfU0hBRE9XUyBdOwoJCXN0cnVjdCBEaXJlY3Rpb25hbExpZ2h0U2hhZG93IHsKCQkJZmxvYXQgc2hhZG93QmlhczsKCQkJZmxvYXQgc2hhZG93Tm9ybWFsQmlhczsKCQkJZmxvYXQgc2hhZG93UmFkaXVzOwoJCQl2ZWMyIHNoYWRvd01hcFNpemU7CgkJfTsKCQl1bmlmb3JtIERpcmVjdGlvbmFsTGlnaHRTaGFkb3cgZGlyZWN0aW9uYWxMaWdodFNoYWRvd3NbIE5VTV9ESVJfTElHSFRfU0hBRE9XUyBdOwoJI2VuZGlmCgkjaWYgTlVNX1NQT1RfTElHSFRfU0hBRE9XUyA+IDAKCQl1bmlmb3JtIHNhbXBsZXIyRCBzcG90U2hhZG93TWFwWyBOVU1fU1BPVF9MSUdIVF9TSEFET1dTIF07CgkJdmFyeWluZyB2ZWM0IHZTcG90U2hhZG93Q29vcmRbIE5VTV9TUE9UX0xJR0hUX1NIQURPV1MgXTsKCQlzdHJ1Y3QgU3BvdExpZ2h0U2hhZG93IHsKCQkJZmxvYXQgc2hhZG93QmlhczsKCQkJZmxvYXQgc2hhZG93Tm9ybWFsQmlhczsKCQkJZmxvYXQgc2hhZG93UmFkaXVzOwoJCQl2ZWMyIHNoYWRvd01hcFNpemU7CgkJfTsKCQl1bmlmb3JtIFNwb3RMaWdodFNoYWRvdyBzcG90TGlnaHRTaGFkb3dzWyBOVU1fU1BPVF9MSUdIVF9TSEFET1dTIF07CgkjZW5kaWYKCSNpZiBOVU1fUE9JTlRfTElHSFRfU0hBRE9XUyA+IDAKCQl1bmlmb3JtIHNhbXBsZXIyRCBwb2ludFNoYWRvd01hcFsgTlVNX1BPSU5UX0xJR0hUX1NIQURPV1MgXTsKCQl2YXJ5aW5nIHZlYzQgdlBvaW50U2hhZG93Q29vcmRbIE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTIF07CgkJc3RydWN0IFBvaW50TGlnaHRTaGFkb3cgewoJCQlmbG9hdCBzaGFkb3dCaWFzOwoJCQlmbG9hdCBzaGFkb3dOb3JtYWxCaWFzOwoJCQlmbG9hdCBzaGFkb3dSYWRpdXM7CgkJCXZlYzIgc2hhZG93TWFwU2l6ZTsKCQkJZmxvYXQgc2hhZG93Q2FtZXJhTmVhcjsKCQkJZmxvYXQgc2hhZG93Q2FtZXJhRmFyOwoJCX07CgkJdW5pZm9ybSBQb2ludExpZ2h0U2hhZG93IHBvaW50TGlnaHRTaGFkb3dzWyBOVU1fUE9JTlRfTElHSFRfU0hBRE9XUyBdOwoJI2VuZGlmCglmbG9hdCB0ZXh0dXJlMkRDb21wYXJlKCBzYW1wbGVyMkQgZGVwdGhzLCB2ZWMyIHV2LCBmbG9hdCBjb21wYXJlICkgewoJCXJldHVybiBzdGVwKCBjb21wYXJlLCB1bnBhY2tSR0JBVG9EZXB0aCggdGV4dHVyZTJEKCBkZXB0aHMsIHV2ICkgKSApOwoJfQoJdmVjMiB0ZXh0dXJlMkREaXN0cmlidXRpb24oIHNhbXBsZXIyRCBzaGFkb3csIHZlYzIgdXYgKSB7CgkJcmV0dXJuIHVucGFja1JHQkFUbzJIYWxmKCB0ZXh0dXJlMkQoIHNoYWRvdywgdXYgKSApOwoJfQoJZmxvYXQgVlNNU2hhZG93IChzYW1wbGVyMkQgc2hhZG93LCB2ZWMyIHV2LCBmbG9hdCBjb21wYXJlICl7CgkJZmxvYXQgb2NjbHVzaW9uID0gMS4wOwoJCXZlYzIgZGlzdHJpYnV0aW9uID0gdGV4dHVyZTJERGlzdHJpYnV0aW9uKCBzaGFkb3csIHV2ICk7CgkJZmxvYXQgaGFyZF9zaGFkb3cgPSBzdGVwKCBjb21wYXJlICwgZGlzdHJpYnV0aW9uLnggKTsKCQlpZiAoaGFyZF9zaGFkb3cgIT0gMS4wICkgewoJCQlmbG9hdCBkaXN0YW5jZSA9IGNvbXBhcmUgLSBkaXN0cmlidXRpb24ueCA7CgkJCWZsb2F0IHZhcmlhbmNlID0gbWF4KCAwLjAwMDAwLCBkaXN0cmlidXRpb24ueSAqIGRpc3RyaWJ1dGlvbi55ICk7CgkJCWZsb2F0IHNvZnRuZXNzX3Byb2JhYmlsaXR5ID0gdmFyaWFuY2UgLyAodmFyaWFuY2UgKyBkaXN0YW5jZSAqIGRpc3RhbmNlICk7CQkJc29mdG5lc3NfcHJvYmFiaWxpdHkgPSBjbGFtcCggKCBzb2Z0bmVzc19wcm9iYWJpbGl0eSAtIDAuMyApIC8gKCAwLjk1IC0gMC4zICksIDAuMCwgMS4wICk7CQkJb2NjbHVzaW9uID0gY2xhbXAoIG1heCggaGFyZF9zaGFkb3csIHNvZnRuZXNzX3Byb2JhYmlsaXR5ICksIDAuMCwgMS4wICk7CgkJfQoJCXJldHVybiBvY2NsdXNpb247Cgl9CglmbG9hdCBnZXRTaGFkb3coIHNhbXBsZXIyRCBzaGFkb3dNYXAsIHZlYzIgc2hhZG93TWFwU2l6ZSwgZmxvYXQgc2hhZG93QmlhcywgZmxvYXQgc2hhZG93UmFkaXVzLCB2ZWM0IHNoYWRvd0Nvb3JkICkgewoJCWZsb2F0IHNoYWRvdyA9IDEuMDsKCQlzaGFkb3dDb29yZC54eXogLz0gc2hhZG93Q29vcmQudzsKCQlzaGFkb3dDb29yZC56ICs9IHNoYWRvd0JpYXM7CgkJYnZlYzQgaW5GcnVzdHVtVmVjID0gYnZlYzQgKCBzaGFkb3dDb29yZC54ID49IDAuMCwgc2hhZG93Q29vcmQueCA8PSAxLjAsIHNoYWRvd0Nvb3JkLnkgPj0gMC4wLCBzaGFkb3dDb29yZC55IDw9IDEuMCApOwoJCWJvb2wgaW5GcnVzdHVtID0gYWxsKCBpbkZydXN0dW1WZWMgKTsKCQlidmVjMiBmcnVzdHVtVGVzdFZlYyA9IGJ2ZWMyKCBpbkZydXN0dW0sIHNoYWRvd0Nvb3JkLnogPD0gMS4wICk7CgkJYm9vbCBmcnVzdHVtVGVzdCA9IGFsbCggZnJ1c3R1bVRlc3RWZWMgKTsKCQlpZiAoIGZydXN0dW1UZXN0ICkgewoJCSNpZiBkZWZpbmVkKCBTSEFET1dNQVBfVFlQRV9QQ0YgKQoJCQl2ZWMyIHRleGVsU2l6ZSA9IHZlYzIoIDEuMCApIC8gc2hhZG93TWFwU2l6ZTsKCQkJZmxvYXQgZHgwID0gLSB0ZXhlbFNpemUueCAqIHNoYWRvd1JhZGl1czsKCQkJZmxvYXQgZHkwID0gLSB0ZXhlbFNpemUueSAqIHNoYWRvd1JhZGl1czsKCQkJZmxvYXQgZHgxID0gKyB0ZXhlbFNpemUueCAqIHNoYWRvd1JhZGl1czsKCQkJZmxvYXQgZHkxID0gKyB0ZXhlbFNpemUueSAqIHNoYWRvd1JhZGl1czsKCQkJZmxvYXQgZHgyID0gZHgwIC8gMi4wOwoJCQlmbG9hdCBkeTIgPSBkeTAgLyAyLjA7CgkJCWZsb2F0IGR4MyA9IGR4MSAvIDIuMDsKCQkJZmxvYXQgZHkzID0gZHkxIC8gMi4wOwoJCQlzaGFkb3cgPSAoCgkJCQl0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggZHgwLCBkeTAgKSwgc2hhZG93Q29vcmQueiApICsKCQkJCXRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCAwLjAsIGR5MCApLCBzaGFkb3dDb29yZC56ICkgKwoJCQkJdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MSwgZHkwICksIHNoYWRvd0Nvb3JkLnogKSArCgkJCQl0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggZHgyLCBkeTIgKSwgc2hhZG93Q29vcmQueiApICsKCQkJCXRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCAwLjAsIGR5MiApLCBzaGFkb3dDb29yZC56ICkgKwoJCQkJdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MywgZHkyICksIHNoYWRvd0Nvb3JkLnogKSArCgkJCQl0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggZHgwLCAwLjAgKSwgc2hhZG93Q29vcmQueiApICsKCQkJCXRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDIsIDAuMCApLCBzaGFkb3dDb29yZC56ICkgKwoJCQkJdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSwgc2hhZG93Q29vcmQueiApICsKCQkJCXRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDMsIDAuMCApLCBzaGFkb3dDb29yZC56ICkgKwoJCQkJdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MSwgMC4wICksIHNoYWRvd0Nvb3JkLnogKSArCgkJCQl0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggZHgyLCBkeTMgKSwgc2hhZG93Q29vcmQueiApICsKCQkJCXRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCAwLjAsIGR5MyApLCBzaGFkb3dDb29yZC56ICkgKwoJCQkJdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MywgZHkzICksIHNoYWRvd0Nvb3JkLnogKSArCgkJCQl0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggZHgwLCBkeTEgKSwgc2hhZG93Q29vcmQueiApICsKCQkJCXRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCAwLjAsIGR5MSApLCBzaGFkb3dDb29yZC56ICkgKwoJCQkJdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MSwgZHkxICksIHNoYWRvd0Nvb3JkLnogKQoJCQkpICogKCAxLjAgLyAxNy4wICk7CgkJI2VsaWYgZGVmaW5lZCggU0hBRE9XTUFQX1RZUEVfUENGX1NPRlQgKQoJCQl2ZWMyIHRleGVsU2l6ZSA9IHZlYzIoIDEuMCApIC8gc2hhZG93TWFwU2l6ZTsKCQkJZmxvYXQgZHggPSB0ZXhlbFNpemUueDsKCQkJZmxvYXQgZHkgPSB0ZXhlbFNpemUueTsKCQkJdmVjMiB1diA9IHNoYWRvd0Nvb3JkLnh5OwoJCQl2ZWMyIGYgPSBmcmFjdCggdXYgKiBzaGFkb3dNYXBTaXplICsgMC41ICk7CgkJCXV2IC09IGYgKiB0ZXhlbFNpemU7CgkJCXNoYWRvdyA9ICgKCQkJCXRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgdXYsIHNoYWRvd0Nvb3JkLnogKSArCgkJCQl0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHV2ICsgdmVjMiggZHgsIDAuMCApLCBzaGFkb3dDb29yZC56ICkgKwoJCQkJdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCB1diArIHZlYzIoIDAuMCwgZHkgKSwgc2hhZG93Q29vcmQueiApICsKCQkJCXRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgdXYgKyB0ZXhlbFNpemUsIHNoYWRvd0Nvb3JkLnogKSArCgkJCQltaXgoIHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgdXYgKyB2ZWMyKCAtZHgsIDAuMCApLCBzaGFkb3dDb29yZC56ICksIAoJCQkJCSB0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHV2ICsgdmVjMiggMi4wICogZHgsIDAuMCApLCBzaGFkb3dDb29yZC56ICksCgkJCQkJIGYueCApICsKCQkJCW1peCggdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCB1diArIHZlYzIoIC1keCwgZHkgKSwgc2hhZG93Q29vcmQueiApLCAKCQkJCQkgdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCB1diArIHZlYzIoIDIuMCAqIGR4LCBkeSApLCBzaGFkb3dDb29yZC56ICksCgkJCQkJIGYueCApICsKCQkJCW1peCggdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCB1diArIHZlYzIoIDAuMCwgLWR5ICksIHNoYWRvd0Nvb3JkLnogKSwgCgkJCQkJIHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgdXYgKyB2ZWMyKCAwLjAsIDIuMCAqIGR5ICksIHNoYWRvd0Nvb3JkLnogKSwKCQkJCQkgZi55ICkgKwoJCQkJbWl4KCB0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHV2ICsgdmVjMiggZHgsIC1keSApLCBzaGFkb3dDb29yZC56ICksIAoJCQkJCSB0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHV2ICsgdmVjMiggZHgsIDIuMCAqIGR5ICksIHNoYWRvd0Nvb3JkLnogKSwKCQkJCQkgZi55ICkgKwoJCQkJbWl4KCBtaXgoIHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgdXYgKyB2ZWMyKCAtZHgsIC1keSApLCBzaGFkb3dDb29yZC56ICksIAoJCQkJCQkgIHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgdXYgKyB2ZWMyKCAyLjAgKiBkeCwgLWR5ICksIHNoYWRvd0Nvb3JkLnogKSwKCQkJCQkJICBmLnggKSwKCQkJCQkgbWl4KCB0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHV2ICsgdmVjMiggLWR4LCAyLjAgKiBkeSApLCBzaGFkb3dDb29yZC56ICksIAoJCQkJCQkgIHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgdXYgKyB2ZWMyKCAyLjAgKiBkeCwgMi4wICogZHkgKSwgc2hhZG93Q29vcmQueiApLAoJCQkJCQkgIGYueCApLAoJCQkJCSBmLnkgKQoJCQkpICogKCAxLjAgLyA5LjAgKTsKCQkjZWxpZiBkZWZpbmVkKCBTSEFET1dNQVBfVFlQRV9WU00gKQoJCQlzaGFkb3cgPSBWU01TaGFkb3coIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHksIHNoYWRvd0Nvb3JkLnogKTsKCQkjZWxzZQoJCQlzaGFkb3cgPSB0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5LCBzaGFkb3dDb29yZC56ICk7CgkJI2VuZGlmCgkJfQoJCXJldHVybiBzaGFkb3c7Cgl9Cgl2ZWMyIGN1YmVUb1VWKCB2ZWMzIHYsIGZsb2F0IHRleGVsU2l6ZVkgKSB7CgkJdmVjMyBhYnNWID0gYWJzKCB2ICk7CgkJZmxvYXQgc2NhbGVUb0N1YmUgPSAxLjAgLyBtYXgoIGFic1YueCwgbWF4KCBhYnNWLnksIGFic1YueiApICk7CgkJYWJzViAqPSBzY2FsZVRvQ3ViZTsKCQl2ICo9IHNjYWxlVG9DdWJlICogKCAxLjAgLSAyLjAgKiB0ZXhlbFNpemVZICk7CgkJdmVjMiBwbGFuYXIgPSB2Lnh5OwoJCWZsb2F0IGFsbW9zdEFUZXhlbCA9IDEuNSAqIHRleGVsU2l6ZVk7CgkJZmxvYXQgYWxtb3N0T25lID0gMS4wIC0gYWxtb3N0QVRleGVsOwoJCWlmICggYWJzVi56ID49IGFsbW9zdE9uZSApIHsKCQkJaWYgKCB2LnogPiAwLjAgKQoJCQkJcGxhbmFyLnggPSA0LjAgLSB2Lng7CgkJfSBlbHNlIGlmICggYWJzVi54ID49IGFsbW9zdE9uZSApIHsKCQkJZmxvYXQgc2lnblggPSBzaWduKCB2LnggKTsKCQkJcGxhbmFyLnggPSB2LnogKiBzaWduWCArIDIuMCAqIHNpZ25YOwoJCX0gZWxzZSBpZiAoIGFic1YueSA+PSBhbG1vc3RPbmUgKSB7CgkJCWZsb2F0IHNpZ25ZID0gc2lnbiggdi55ICk7CgkJCXBsYW5hci54ID0gdi54ICsgMi4wICogc2lnblkgKyAyLjA7CgkJCXBsYW5hci55ID0gdi56ICogc2lnblkgLSAyLjA7CgkJfQoJCXJldHVybiB2ZWMyKCAwLjEyNSwgMC4yNSApICogcGxhbmFyICsgdmVjMiggMC4zNzUsIDAuNzUgKTsKCX0KCWZsb2F0IGdldFBvaW50U2hhZG93KCBzYW1wbGVyMkQgc2hhZG93TWFwLCB2ZWMyIHNoYWRvd01hcFNpemUsIGZsb2F0IHNoYWRvd0JpYXMsIGZsb2F0IHNoYWRvd1JhZGl1cywgdmVjNCBzaGFkb3dDb29yZCwgZmxvYXQgc2hhZG93Q2FtZXJhTmVhciwgZmxvYXQgc2hhZG93Q2FtZXJhRmFyICkgewoJCXZlYzIgdGV4ZWxTaXplID0gdmVjMiggMS4wICkgLyAoIHNoYWRvd01hcFNpemUgKiB2ZWMyKCA0LjAsIDIuMCApICk7CgkJdmVjMyBsaWdodFRvUG9zaXRpb24gPSBzaGFkb3dDb29yZC54eXo7CgkJZmxvYXQgZHAgPSAoIGxlbmd0aCggbGlnaHRUb1Bvc2l0aW9uICkgLSBzaGFkb3dDYW1lcmFOZWFyICkgLyAoIHNoYWRvd0NhbWVyYUZhciAtIHNoYWRvd0NhbWVyYU5lYXIgKTsJCWRwICs9IHNoYWRvd0JpYXM7CgkJdmVjMyBiZDNEID0gbm9ybWFsaXplKCBsaWdodFRvUG9zaXRpb24gKTsKCQkjaWYgZGVmaW5lZCggU0hBRE9XTUFQX1RZUEVfUENGICkgfHwgZGVmaW5lZCggU0hBRE9XTUFQX1RZUEVfUENGX1NPRlQgKSB8fCBkZWZpbmVkKCBTSEFET1dNQVBfVFlQRV9WU00gKQoJCQl2ZWMyIG9mZnNldCA9IHZlYzIoIC0gMSwgMSApICogc2hhZG93UmFkaXVzICogdGV4ZWxTaXplLnk7CgkJCXJldHVybiAoCgkJCQl0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIGN1YmVUb1VWKCBiZDNEICsgb2Zmc2V0Lnh5eSwgdGV4ZWxTaXplLnkgKSwgZHAgKSArCgkJCQl0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIGN1YmVUb1VWKCBiZDNEICsgb2Zmc2V0Lnl5eSwgdGV4ZWxTaXplLnkgKSwgZHAgKSArCgkJCQl0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIGN1YmVUb1VWKCBiZDNEICsgb2Zmc2V0Lnh5eCwgdGV4ZWxTaXplLnkgKSwgZHAgKSArCgkJCQl0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIGN1YmVUb1VWKCBiZDNEICsgb2Zmc2V0Lnl5eCwgdGV4ZWxTaXplLnkgKSwgZHAgKSArCgkJCQl0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIGN1YmVUb1VWKCBiZDNELCB0ZXhlbFNpemUueSApLCBkcCApICsKCQkJCXRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgY3ViZVRvVVYoIGJkM0QgKyBvZmZzZXQueHh5LCB0ZXhlbFNpemUueSApLCBkcCApICsKCQkJCXRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgY3ViZVRvVVYoIGJkM0QgKyBvZmZzZXQueXh5LCB0ZXhlbFNpemUueSApLCBkcCApICsKCQkJCXRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgY3ViZVRvVVYoIGJkM0QgKyBvZmZzZXQueHh4LCB0ZXhlbFNpemUueSApLCBkcCApICsKCQkJCXRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgY3ViZVRvVVYoIGJkM0QgKyBvZmZzZXQueXh4LCB0ZXhlbFNpemUueSApLCBkcCApCgkJCSkgKiAoIDEuMCAvIDkuMCApOwoJCSNlbHNlCgkJCXJldHVybiB0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIGN1YmVUb1VWKCBiZDNELCB0ZXhlbFNpemUueSApLCBkcCApOwoJCSNlbmRpZgoJfQojZW5kaWZgLGp2PWAjaWZkZWYgVVNFX1NIQURPV01BUAoJI2lmIE5VTV9ESVJfTElHSFRfU0hBRE9XUyA+IDAKCQl1bmlmb3JtIG1hdDQgZGlyZWN0aW9uYWxTaGFkb3dNYXRyaXhbIE5VTV9ESVJfTElHSFRfU0hBRE9XUyBdOwoJCXZhcnlpbmcgdmVjNCB2RGlyZWN0aW9uYWxTaGFkb3dDb29yZFsgTlVNX0RJUl9MSUdIVF9TSEFET1dTIF07CgkJc3RydWN0IERpcmVjdGlvbmFsTGlnaHRTaGFkb3cgewoJCQlmbG9hdCBzaGFkb3dCaWFzOwoJCQlmbG9hdCBzaGFkb3dOb3JtYWxCaWFzOwoJCQlmbG9hdCBzaGFkb3dSYWRpdXM7CgkJCXZlYzIgc2hhZG93TWFwU2l6ZTsKCQl9OwoJCXVuaWZvcm0gRGlyZWN0aW9uYWxMaWdodFNoYWRvdyBkaXJlY3Rpb25hbExpZ2h0U2hhZG93c1sgTlVNX0RJUl9MSUdIVF9TSEFET1dTIF07CgkjZW5kaWYKCSNpZiBOVU1fU1BPVF9MSUdIVF9TSEFET1dTID4gMAoJCXVuaWZvcm0gbWF0NCBzcG90U2hhZG93TWF0cml4WyBOVU1fU1BPVF9MSUdIVF9TSEFET1dTIF07CgkJdmFyeWluZyB2ZWM0IHZTcG90U2hhZG93Q29vcmRbIE5VTV9TUE9UX0xJR0hUX1NIQURPV1MgXTsKCQlzdHJ1Y3QgU3BvdExpZ2h0U2hhZG93IHsKCQkJZmxvYXQgc2hhZG93QmlhczsKCQkJZmxvYXQgc2hhZG93Tm9ybWFsQmlhczsKCQkJZmxvYXQgc2hhZG93UmFkaXVzOwoJCQl2ZWMyIHNoYWRvd01hcFNpemU7CgkJfTsKCQl1bmlmb3JtIFNwb3RMaWdodFNoYWRvdyBzcG90TGlnaHRTaGFkb3dzWyBOVU1fU1BPVF9MSUdIVF9TSEFET1dTIF07CgkjZW5kaWYKCSNpZiBOVU1fUE9JTlRfTElHSFRfU0hBRE9XUyA+IDAKCQl1bmlmb3JtIG1hdDQgcG9pbnRTaGFkb3dNYXRyaXhbIE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTIF07CgkJdmFyeWluZyB2ZWM0IHZQb2ludFNoYWRvd0Nvb3JkWyBOVU1fUE9JTlRfTElHSFRfU0hBRE9XUyBdOwoJCXN0cnVjdCBQb2ludExpZ2h0U2hhZG93IHsKCQkJZmxvYXQgc2hhZG93QmlhczsKCQkJZmxvYXQgc2hhZG93Tm9ybWFsQmlhczsKCQkJZmxvYXQgc2hhZG93UmFkaXVzOwoJCQl2ZWMyIHNoYWRvd01hcFNpemU7CgkJCWZsb2F0IHNoYWRvd0NhbWVyYU5lYXI7CgkJCWZsb2F0IHNoYWRvd0NhbWVyYUZhcjsKCQl9OwoJCXVuaWZvcm0gUG9pbnRMaWdodFNoYWRvdyBwb2ludExpZ2h0U2hhZG93c1sgTlVNX1BPSU5UX0xJR0hUX1NIQURPV1MgXTsKCSNlbmRpZgojZW5kaWZgLHF2PWAjaWZkZWYgVVNFX1NIQURPV01BUAoJI2lmIE5VTV9ESVJfTElHSFRfU0hBRE9XUyA+IDAgfHwgTlVNX1NQT1RfTElHSFRfU0hBRE9XUyA+IDAgfHwgTlVNX1BPSU5UX0xJR0hUX1NIQURPV1MgPiAwCgkJdmVjMyBzaGFkb3dXb3JsZE5vcm1hbCA9IGludmVyc2VUcmFuc2Zvcm1EaXJlY3Rpb24oIHRyYW5zZm9ybWVkTm9ybWFsLCB2aWV3TWF0cml4ICk7CgkJdmVjNCBzaGFkb3dXb3JsZFBvc2l0aW9uOwoJI2VuZGlmCgkjaWYgTlVNX0RJUl9MSUdIVF9TSEFET1dTID4gMAoJI3ByYWdtYSB1bnJvbGxfbG9vcF9zdGFydAoJZm9yICggaW50IGkgPSAwOyBpIDwgTlVNX0RJUl9MSUdIVF9TSEFET1dTOyBpICsrICkgewoJCXNoYWRvd1dvcmxkUG9zaXRpb24gPSB3b3JsZFBvc2l0aW9uICsgdmVjNCggc2hhZG93V29ybGROb3JtYWwgKiBkaXJlY3Rpb25hbExpZ2h0U2hhZG93c1sgaSBdLnNoYWRvd05vcm1hbEJpYXMsIDAgKTsKCQl2RGlyZWN0aW9uYWxTaGFkb3dDb29yZFsgaSBdID0gZGlyZWN0aW9uYWxTaGFkb3dNYXRyaXhbIGkgXSAqIHNoYWRvd1dvcmxkUG9zaXRpb247Cgl9CgkjcHJhZ21hIHVucm9sbF9sb29wX2VuZAoJI2VuZGlmCgkjaWYgTlVNX1NQT1RfTElHSFRfU0hBRE9XUyA+IDAKCSNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnQKCWZvciAoIGludCBpID0gMDsgaSA8IE5VTV9TUE9UX0xJR0hUX1NIQURPV1M7IGkgKysgKSB7CgkJc2hhZG93V29ybGRQb3NpdGlvbiA9IHdvcmxkUG9zaXRpb24gKyB2ZWM0KCBzaGFkb3dXb3JsZE5vcm1hbCAqIHNwb3RMaWdodFNoYWRvd3NbIGkgXS5zaGFkb3dOb3JtYWxCaWFzLCAwICk7CgkJdlNwb3RTaGFkb3dDb29yZFsgaSBdID0gc3BvdFNoYWRvd01hdHJpeFsgaSBdICogc2hhZG93V29ybGRQb3NpdGlvbjsKCX0KCSNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kCgkjZW5kaWYKCSNpZiBOVU1fUE9JTlRfTElHSFRfU0hBRE9XUyA+IDAKCSNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnQKCWZvciAoIGludCBpID0gMDsgaSA8IE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTOyBpICsrICkgewoJCXNoYWRvd1dvcmxkUG9zaXRpb24gPSB3b3JsZFBvc2l0aW9uICsgdmVjNCggc2hhZG93V29ybGROb3JtYWwgKiBwb2ludExpZ2h0U2hhZG93c1sgaSBdLnNoYWRvd05vcm1hbEJpYXMsIDAgKTsKCQl2UG9pbnRTaGFkb3dDb29yZFsgaSBdID0gcG9pbnRTaGFkb3dNYXRyaXhbIGkgXSAqIHNoYWRvd1dvcmxkUG9zaXRpb247Cgl9CgkjcHJhZ21hIHVucm9sbF9sb29wX2VuZAoJI2VuZGlmCiNlbmRpZmAsWHY9YGZsb2F0IGdldFNoYWRvd01hc2soKSB7CglmbG9hdCBzaGFkb3cgPSAxLjA7CgkjaWZkZWYgVVNFX1NIQURPV01BUAoJI2lmIE5VTV9ESVJfTElHSFRfU0hBRE9XUyA+IDAKCURpcmVjdGlvbmFsTGlnaHRTaGFkb3cgZGlyZWN0aW9uYWxMaWdodDsKCSNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnQKCWZvciAoIGludCBpID0gMDsgaSA8IE5VTV9ESVJfTElHSFRfU0hBRE9XUzsgaSArKyApIHsKCQlkaXJlY3Rpb25hbExpZ2h0ID0gZGlyZWN0aW9uYWxMaWdodFNoYWRvd3NbIGkgXTsKCQlzaGFkb3cgKj0gcmVjZWl2ZVNoYWRvdyA/IGdldFNoYWRvdyggZGlyZWN0aW9uYWxTaGFkb3dNYXBbIGkgXSwgZGlyZWN0aW9uYWxMaWdodC5zaGFkb3dNYXBTaXplLCBkaXJlY3Rpb25hbExpZ2h0LnNoYWRvd0JpYXMsIGRpcmVjdGlvbmFsTGlnaHQuc2hhZG93UmFkaXVzLCB2RGlyZWN0aW9uYWxTaGFkb3dDb29yZFsgaSBdICkgOiAxLjA7Cgl9CgkjcHJhZ21hIHVucm9sbF9sb29wX2VuZAoJI2VuZGlmCgkjaWYgTlVNX1NQT1RfTElHSFRfU0hBRE9XUyA+IDAKCVNwb3RMaWdodFNoYWRvdyBzcG90TGlnaHQ7CgkjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0Cglmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fU1BPVF9MSUdIVF9TSEFET1dTOyBpICsrICkgewoJCXNwb3RMaWdodCA9IHNwb3RMaWdodFNoYWRvd3NbIGkgXTsKCQlzaGFkb3cgKj0gcmVjZWl2ZVNoYWRvdyA/IGdldFNoYWRvdyggc3BvdFNoYWRvd01hcFsgaSBdLCBzcG90TGlnaHQuc2hhZG93TWFwU2l6ZSwgc3BvdExpZ2h0LnNoYWRvd0JpYXMsIHNwb3RMaWdodC5zaGFkb3dSYWRpdXMsIHZTcG90U2hhZG93Q29vcmRbIGkgXSApIDogMS4wOwoJfQoJI3ByYWdtYSB1bnJvbGxfbG9vcF9lbmQKCSNlbmRpZgoJI2lmIE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTID4gMAoJUG9pbnRMaWdodFNoYWRvdyBwb2ludExpZ2h0OwoJI3ByYWdtYSB1bnJvbGxfbG9vcF9zdGFydAoJZm9yICggaW50IGkgPSAwOyBpIDwgTlVNX1BPSU5UX0xJR0hUX1NIQURPV1M7IGkgKysgKSB7CgkJcG9pbnRMaWdodCA9IHBvaW50TGlnaHRTaGFkb3dzWyBpIF07CgkJc2hhZG93ICo9IHJlY2VpdmVTaGFkb3cgPyBnZXRQb2ludFNoYWRvdyggcG9pbnRTaGFkb3dNYXBbIGkgXSwgcG9pbnRMaWdodC5zaGFkb3dNYXBTaXplLCBwb2ludExpZ2h0LnNoYWRvd0JpYXMsIHBvaW50TGlnaHQuc2hhZG93UmFkaXVzLCB2UG9pbnRTaGFkb3dDb29yZFsgaSBdLCBwb2ludExpZ2h0LnNoYWRvd0NhbWVyYU5lYXIsIHBvaW50TGlnaHQuc2hhZG93Q2FtZXJhRmFyICkgOiAxLjA7Cgl9CgkjcHJhZ21hIHVucm9sbF9sb29wX2VuZAoJI2VuZGlmCgkjZW5kaWYKCXJldHVybiBzaGFkb3c7Cn1gLEp2PWAjaWZkZWYgVVNFX1NLSU5OSU5HCgltYXQ0IGJvbmVNYXRYID0gZ2V0Qm9uZU1hdHJpeCggc2tpbkluZGV4LnggKTsKCW1hdDQgYm9uZU1hdFkgPSBnZXRCb25lTWF0cml4KCBza2luSW5kZXgueSApOwoJbWF0NCBib25lTWF0WiA9IGdldEJvbmVNYXRyaXgoIHNraW5JbmRleC56ICk7CgltYXQ0IGJvbmVNYXRXID0gZ2V0Qm9uZU1hdHJpeCggc2tpbkluZGV4LncgKTsKI2VuZGlmYCxZdj1gI2lmZGVmIFVTRV9TS0lOTklORwoJdW5pZm9ybSBtYXQ0IGJpbmRNYXRyaXg7Cgl1bmlmb3JtIG1hdDQgYmluZE1hdHJpeEludmVyc2U7CgkjaWZkZWYgQk9ORV9URVhUVVJFCgkJdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgYm9uZVRleHR1cmU7CgkJdW5pZm9ybSBpbnQgYm9uZVRleHR1cmVTaXplOwoJCW1hdDQgZ2V0Qm9uZU1hdHJpeCggY29uc3QgaW4gZmxvYXQgaSApIHsKCQkJZmxvYXQgaiA9IGkgKiA0LjA7CgkJCWZsb2F0IHggPSBtb2QoIGosIGZsb2F0KCBib25lVGV4dHVyZVNpemUgKSApOwoJCQlmbG9hdCB5ID0gZmxvb3IoIGogLyBmbG9hdCggYm9uZVRleHR1cmVTaXplICkgKTsKCQkJZmxvYXQgZHggPSAxLjAgLyBmbG9hdCggYm9uZVRleHR1cmVTaXplICk7CgkJCWZsb2F0IGR5ID0gMS4wIC8gZmxvYXQoIGJvbmVUZXh0dXJlU2l6ZSApOwoJCQl5ID0gZHkgKiAoIHkgKyAwLjUgKTsKCQkJdmVjNCB2MSA9IHRleHR1cmUyRCggYm9uZVRleHR1cmUsIHZlYzIoIGR4ICogKCB4ICsgMC41ICksIHkgKSApOwoJCQl2ZWM0IHYyID0gdGV4dHVyZTJEKCBib25lVGV4dHVyZSwgdmVjMiggZHggKiAoIHggKyAxLjUgKSwgeSApICk7CgkJCXZlYzQgdjMgPSB0ZXh0dXJlMkQoIGJvbmVUZXh0dXJlLCB2ZWMyKCBkeCAqICggeCArIDIuNSApLCB5ICkgKTsKCQkJdmVjNCB2NCA9IHRleHR1cmUyRCggYm9uZVRleHR1cmUsIHZlYzIoIGR4ICogKCB4ICsgMy41ICksIHkgKSApOwoJCQltYXQ0IGJvbmUgPSBtYXQ0KCB2MSwgdjIsIHYzLCB2NCApOwoJCQlyZXR1cm4gYm9uZTsKCQl9CgkjZWxzZQoJCXVuaWZvcm0gbWF0NCBib25lTWF0cmljZXNbIE1BWF9CT05FUyBdOwoJCW1hdDQgZ2V0Qm9uZU1hdHJpeCggY29uc3QgaW4gZmxvYXQgaSApIHsKCQkJbWF0NCBib25lID0gYm9uZU1hdHJpY2VzWyBpbnQoaSkgXTsKCQkJcmV0dXJuIGJvbmU7CgkJfQoJI2VuZGlmCiNlbmRpZmAsWnY9YCNpZmRlZiBVU0VfU0tJTk5JTkcKCXZlYzQgc2tpblZlcnRleCA9IGJpbmRNYXRyaXggKiB2ZWM0KCB0cmFuc2Zvcm1lZCwgMS4wICk7Cgl2ZWM0IHNraW5uZWQgPSB2ZWM0KCAwLjAgKTsKCXNraW5uZWQgKz0gYm9uZU1hdFggKiBza2luVmVydGV4ICogc2tpbldlaWdodC54OwoJc2tpbm5lZCArPSBib25lTWF0WSAqIHNraW5WZXJ0ZXggKiBza2luV2VpZ2h0Lnk7Cglza2lubmVkICs9IGJvbmVNYXRaICogc2tpblZlcnRleCAqIHNraW5XZWlnaHQuejsKCXNraW5uZWQgKz0gYm9uZU1hdFcgKiBza2luVmVydGV4ICogc2tpbldlaWdodC53OwoJdHJhbnNmb3JtZWQgPSAoIGJpbmRNYXRyaXhJbnZlcnNlICogc2tpbm5lZCApLnh5ejsKI2VuZGlmYCxLdj1gI2lmZGVmIFVTRV9TS0lOTklORwoJbWF0NCBza2luTWF0cml4ID0gbWF0NCggMC4wICk7Cglza2luTWF0cml4ICs9IHNraW5XZWlnaHQueCAqIGJvbmVNYXRYOwoJc2tpbk1hdHJpeCArPSBza2luV2VpZ2h0LnkgKiBib25lTWF0WTsKCXNraW5NYXRyaXggKz0gc2tpbldlaWdodC56ICogYm9uZU1hdFo7Cglza2luTWF0cml4ICs9IHNraW5XZWlnaHQudyAqIGJvbmVNYXRXOwoJc2tpbk1hdHJpeCA9IGJpbmRNYXRyaXhJbnZlcnNlICogc2tpbk1hdHJpeCAqIGJpbmRNYXRyaXg7CglvYmplY3ROb3JtYWwgPSB2ZWM0KCBza2luTWF0cml4ICogdmVjNCggb2JqZWN0Tm9ybWFsLCAwLjAgKSApLnh5ejsKCSNpZmRlZiBVU0VfVEFOR0VOVAoJCW9iamVjdFRhbmdlbnQgPSB2ZWM0KCBza2luTWF0cml4ICogdmVjNCggb2JqZWN0VGFuZ2VudCwgMC4wICkgKS54eXo7CgkjZW5kaWYKI2VuZGlmYCxRdj1gZmxvYXQgc3BlY3VsYXJTdHJlbmd0aDsKI2lmZGVmIFVTRV9TUEVDVUxBUk1BUAoJdmVjNCB0ZXhlbFNwZWN1bGFyID0gdGV4dHVyZTJEKCBzcGVjdWxhck1hcCwgdlV2ICk7CglzcGVjdWxhclN0cmVuZ3RoID0gdGV4ZWxTcGVjdWxhci5yOwojZWxzZQoJc3BlY3VsYXJTdHJlbmd0aCA9IDEuMDsKI2VuZGlmYCwkdj1gI2lmZGVmIFVTRV9TUEVDVUxBUk1BUAoJdW5pZm9ybSBzYW1wbGVyMkQgc3BlY3VsYXJNYXA7CiNlbmRpZmAsZXg9YCNpZiBkZWZpbmVkKCBUT05FX01BUFBJTkcgKQoJZ2xfRnJhZ0NvbG9yLnJnYiA9IHRvbmVNYXBwaW5nKCBnbF9GcmFnQ29sb3IucmdiICk7CiNlbmRpZmAsdHg9YCNpZm5kZWYgc2F0dXJhdGUKI2RlZmluZSBzYXR1cmF0ZSggYSApIGNsYW1wKCBhLCAwLjAsIDEuMCApCiNlbmRpZgp1bmlmb3JtIGZsb2F0IHRvbmVNYXBwaW5nRXhwb3N1cmU7CnZlYzMgTGluZWFyVG9uZU1hcHBpbmcoIHZlYzMgY29sb3IgKSB7CglyZXR1cm4gdG9uZU1hcHBpbmdFeHBvc3VyZSAqIGNvbG9yOwp9CnZlYzMgUmVpbmhhcmRUb25lTWFwcGluZyggdmVjMyBjb2xvciApIHsKCWNvbG9yICo9IHRvbmVNYXBwaW5nRXhwb3N1cmU7CglyZXR1cm4gc2F0dXJhdGUoIGNvbG9yIC8gKCB2ZWMzKCAxLjAgKSArIGNvbG9yICkgKTsKfQp2ZWMzIE9wdGltaXplZENpbmVvblRvbmVNYXBwaW5nKCB2ZWMzIGNvbG9yICkgewoJY29sb3IgKj0gdG9uZU1hcHBpbmdFeHBvc3VyZTsKCWNvbG9yID0gbWF4KCB2ZWMzKCAwLjAgKSwgY29sb3IgLSAwLjAwNCApOwoJcmV0dXJuIHBvdyggKCBjb2xvciAqICggNi4yICogY29sb3IgKyAwLjUgKSApIC8gKCBjb2xvciAqICggNi4yICogY29sb3IgKyAxLjcgKSArIDAuMDYgKSwgdmVjMyggMi4yICkgKTsKfQp2ZWMzIFJSVEFuZE9EVEZpdCggdmVjMyB2ICkgewoJdmVjMyBhID0gdiAqICggdiArIDAuMDI0NTc4NiApIC0gMC4wMDAwOTA1Mzc7Cgl2ZWMzIGIgPSB2ICogKCAwLjk4MzcyOSAqIHYgKyAwLjQzMjk1MTAgKSArIDAuMjM4MDgxOwoJcmV0dXJuIGEgLyBiOwp9CnZlYzMgQUNFU0ZpbG1pY1RvbmVNYXBwaW5nKCB2ZWMzIGNvbG9yICkgewoJY29uc3QgbWF0MyBBQ0VTSW5wdXRNYXQgPSBtYXQzKAoJCXZlYzMoIDAuNTk3MTksIDAuMDc2MDAsIDAuMDI4NDAgKSwJCXZlYzMoIDAuMzU0NTgsIDAuOTA4MzQsIDAuMTMzODMgKSwKCQl2ZWMzKCAwLjA0ODIzLCAwLjAxNTY2LCAwLjgzNzc3ICkKCSk7Cgljb25zdCBtYXQzIEFDRVNPdXRwdXRNYXQgPSBtYXQzKAoJCXZlYzMoICAxLjYwNDc1LCAtMC4xMDIwOCwgLTAuMDAzMjcgKSwJCXZlYzMoIC0wLjUzMTA4LCAgMS4xMDgxMywgLTAuMDcyNzYgKSwKCQl2ZWMzKCAtMC4wNzM2NywgLTAuMDA2MDUsICAxLjA3NjAyICkKCSk7Cgljb2xvciAqPSB0b25lTWFwcGluZ0V4cG9zdXJlIC8gMC42OwoJY29sb3IgPSBBQ0VTSW5wdXRNYXQgKiBjb2xvcjsKCWNvbG9yID0gUlJUQW5kT0RURml0KCBjb2xvciApOwoJY29sb3IgPSBBQ0VTT3V0cHV0TWF0ICogY29sb3I7CglyZXR1cm4gc2F0dXJhdGUoIGNvbG9yICk7Cn0KdmVjMyBDdXN0b21Ub25lTWFwcGluZyggdmVjMyBjb2xvciApIHsgcmV0dXJuIGNvbG9yOyB9YCxpeD1gI2lmZGVmIFVTRV9UUkFOU01JU1NJT04KCWZsb2F0IHRyYW5zbWlzc2lvbkFscGhhID0gMS4wOwoJZmxvYXQgdHJhbnNtaXNzaW9uRmFjdG9yID0gdHJhbnNtaXNzaW9uOwoJZmxvYXQgdGhpY2tuZXNzRmFjdG9yID0gdGhpY2tuZXNzOwoJI2lmZGVmIFVTRV9UUkFOU01JU1NJT05NQVAKCQl0cmFuc21pc3Npb25GYWN0b3IgKj0gdGV4dHVyZTJEKCB0cmFuc21pc3Npb25NYXAsIHZVdiApLnI7CgkjZW5kaWYKCSNpZmRlZiBVU0VfVEhJQ0tORVNTTUFQCgkJdGhpY2tuZXNzRmFjdG9yICo9IHRleHR1cmUyRCggdGhpY2tuZXNzTWFwLCB2VXYgKS5nOwoJI2VuZGlmCgl2ZWMzIHBvcyA9IHZXb3JsZFBvc2l0aW9uOwoJdmVjMyB2ID0gbm9ybWFsaXplKCBjYW1lcmFQb3NpdGlvbiAtIHBvcyApOwoJdmVjMyBuID0gaW52ZXJzZVRyYW5zZm9ybURpcmVjdGlvbiggbm9ybWFsLCB2aWV3TWF0cml4ICk7Cgl2ZWM0IHRyYW5zbWlzc2lvbiA9IGdldElCTFZvbHVtZVJlZnJhY3Rpb24oCgkJbiwgdiwgcm91Z2huZXNzRmFjdG9yLCBtYXRlcmlhbC5kaWZmdXNlQ29sb3IsIG1hdGVyaWFsLnNwZWN1bGFyQ29sb3IsIG1hdGVyaWFsLnNwZWN1bGFyRjkwLAoJCXBvcywgbW9kZWxNYXRyaXgsIHZpZXdNYXRyaXgsIHByb2plY3Rpb25NYXRyaXgsIGlvciwgdGhpY2tuZXNzRmFjdG9yLAoJCWF0dGVudWF0aW9uQ29sb3IsIGF0dGVudWF0aW9uRGlzdGFuY2UgKTsKCXRvdGFsRGlmZnVzZSA9IG1peCggdG90YWxEaWZmdXNlLCB0cmFuc21pc3Npb24ucmdiLCB0cmFuc21pc3Npb25GYWN0b3IgKTsKCXRyYW5zbWlzc2lvbkFscGhhID0gbWl4KCB0cmFuc21pc3Npb25BbHBoYSwgdHJhbnNtaXNzaW9uLmEsIHRyYW5zbWlzc2lvbkZhY3RvciApOwojZW5kaWZgLHJ4PWAjaWZkZWYgVVNFX1RSQU5TTUlTU0lPTgoJdW5pZm9ybSBmbG9hdCB0cmFuc21pc3Npb247Cgl1bmlmb3JtIGZsb2F0IHRoaWNrbmVzczsKCXVuaWZvcm0gZmxvYXQgYXR0ZW51YXRpb25EaXN0YW5jZTsKCXVuaWZvcm0gdmVjMyBhdHRlbnVhdGlvbkNvbG9yOwoJI2lmZGVmIFVTRV9UUkFOU01JU1NJT05NQVAKCQl1bmlmb3JtIHNhbXBsZXIyRCB0cmFuc21pc3Npb25NYXA7CgkjZW5kaWYKCSNpZmRlZiBVU0VfVEhJQ0tORVNTTUFQCgkJdW5pZm9ybSBzYW1wbGVyMkQgdGhpY2tuZXNzTWFwOwoJI2VuZGlmCgl1bmlmb3JtIHZlYzIgdHJhbnNtaXNzaW9uU2FtcGxlclNpemU7Cgl1bmlmb3JtIHNhbXBsZXIyRCB0cmFuc21pc3Npb25TYW1wbGVyTWFwOwoJdW5pZm9ybSBtYXQ0IG1vZGVsTWF0cml4OwoJdW5pZm9ybSBtYXQ0IHByb2plY3Rpb25NYXRyaXg7Cgl2YXJ5aW5nIHZlYzMgdldvcmxkUG9zaXRpb247Cgl2ZWMzIGdldFZvbHVtZVRyYW5zbWlzc2lvblJheSggY29uc3QgaW4gdmVjMyBuLCBjb25zdCBpbiB2ZWMzIHYsIGNvbnN0IGluIGZsb2F0IHRoaWNrbmVzcywgY29uc3QgaW4gZmxvYXQgaW9yLCBjb25zdCBpbiBtYXQ0IG1vZGVsTWF0cml4ICkgewoJCXZlYzMgcmVmcmFjdGlvblZlY3RvciA9IHJlZnJhY3QoIC0gdiwgbm9ybWFsaXplKCBuICksIDEuMCAvIGlvciApOwoJCXZlYzMgbW9kZWxTY2FsZTsKCQltb2RlbFNjYWxlLnggPSBsZW5ndGgoIHZlYzMoIG1vZGVsTWF0cml4WyAwIF0ueHl6ICkgKTsKCQltb2RlbFNjYWxlLnkgPSBsZW5ndGgoIHZlYzMoIG1vZGVsTWF0cml4WyAxIF0ueHl6ICkgKTsKCQltb2RlbFNjYWxlLnogPSBsZW5ndGgoIHZlYzMoIG1vZGVsTWF0cml4WyAyIF0ueHl6ICkgKTsKCQlyZXR1cm4gbm9ybWFsaXplKCByZWZyYWN0aW9uVmVjdG9yICkgKiB0aGlja25lc3MgKiBtb2RlbFNjYWxlOwoJfQoJZmxvYXQgYXBwbHlJb3JUb1JvdWdobmVzcyggY29uc3QgaW4gZmxvYXQgcm91Z2huZXNzLCBjb25zdCBpbiBmbG9hdCBpb3IgKSB7CgkJcmV0dXJuIHJvdWdobmVzcyAqIGNsYW1wKCBpb3IgKiAyLjAgLSAyLjAsIDAuMCwgMS4wICk7Cgl9Cgl2ZWM0IGdldFRyYW5zbWlzc2lvblNhbXBsZSggY29uc3QgaW4gdmVjMiBmcmFnQ29vcmQsIGNvbnN0IGluIGZsb2F0IHJvdWdobmVzcywgY29uc3QgaW4gZmxvYXQgaW9yICkgewoJCWZsb2F0IGZyYW1lYnVmZmVyTG9kID0gbG9nMiggdHJhbnNtaXNzaW9uU2FtcGxlclNpemUueCApICogYXBwbHlJb3JUb1JvdWdobmVzcyggcm91Z2huZXNzLCBpb3IgKTsKCQkjaWZkZWYgdGV4dHVyZTJETG9kRVhUCgkJCXJldHVybiB0ZXh0dXJlMkRMb2RFWFQoIHRyYW5zbWlzc2lvblNhbXBsZXJNYXAsIGZyYWdDb29yZC54eSwgZnJhbWVidWZmZXJMb2QgKTsKCQkjZWxzZQoJCQlyZXR1cm4gdGV4dHVyZTJEKCB0cmFuc21pc3Npb25TYW1wbGVyTWFwLCBmcmFnQ29vcmQueHksIGZyYW1lYnVmZmVyTG9kICk7CgkJI2VuZGlmCgl9Cgl2ZWMzIGFwcGx5Vm9sdW1lQXR0ZW51YXRpb24oIGNvbnN0IGluIHZlYzMgcmFkaWFuY2UsIGNvbnN0IGluIGZsb2F0IHRyYW5zbWlzc2lvbkRpc3RhbmNlLCBjb25zdCBpbiB2ZWMzIGF0dGVudWF0aW9uQ29sb3IsIGNvbnN0IGluIGZsb2F0IGF0dGVudWF0aW9uRGlzdGFuY2UgKSB7CgkJaWYgKCBhdHRlbnVhdGlvbkRpc3RhbmNlID09IDAuMCApIHsKCQkJcmV0dXJuIHJhZGlhbmNlOwoJCX0gZWxzZSB7CgkJCXZlYzMgYXR0ZW51YXRpb25Db2VmZmljaWVudCA9IC1sb2coIGF0dGVudWF0aW9uQ29sb3IgKSAvIGF0dGVudWF0aW9uRGlzdGFuY2U7CgkJCXZlYzMgdHJhbnNtaXR0YW5jZSA9IGV4cCggLSBhdHRlbnVhdGlvbkNvZWZmaWNpZW50ICogdHJhbnNtaXNzaW9uRGlzdGFuY2UgKTsJCQlyZXR1cm4gdHJhbnNtaXR0YW5jZSAqIHJhZGlhbmNlOwoJCX0KCX0KCXZlYzQgZ2V0SUJMVm9sdW1lUmVmcmFjdGlvbiggY29uc3QgaW4gdmVjMyBuLCBjb25zdCBpbiB2ZWMzIHYsIGNvbnN0IGluIGZsb2F0IHJvdWdobmVzcywgY29uc3QgaW4gdmVjMyBkaWZmdXNlQ29sb3IsCgkJY29uc3QgaW4gdmVjMyBzcGVjdWxhckNvbG9yLCBjb25zdCBpbiBmbG9hdCBzcGVjdWxhckY5MCwgY29uc3QgaW4gdmVjMyBwb3NpdGlvbiwgY29uc3QgaW4gbWF0NCBtb2RlbE1hdHJpeCwKCQljb25zdCBpbiBtYXQ0IHZpZXdNYXRyaXgsIGNvbnN0IGluIG1hdDQgcHJvak1hdHJpeCwgY29uc3QgaW4gZmxvYXQgaW9yLCBjb25zdCBpbiBmbG9hdCB0aGlja25lc3MsCgkJY29uc3QgaW4gdmVjMyBhdHRlbnVhdGlvbkNvbG9yLCBjb25zdCBpbiBmbG9hdCBhdHRlbnVhdGlvbkRpc3RhbmNlICkgewoJCXZlYzMgdHJhbnNtaXNzaW9uUmF5ID0gZ2V0Vm9sdW1lVHJhbnNtaXNzaW9uUmF5KCBuLCB2LCB0aGlja25lc3MsIGlvciwgbW9kZWxNYXRyaXggKTsKCQl2ZWMzIHJlZnJhY3RlZFJheUV4aXQgPSBwb3NpdGlvbiArIHRyYW5zbWlzc2lvblJheTsKCQl2ZWM0IG5kY1BvcyA9IHByb2pNYXRyaXggKiB2aWV3TWF0cml4ICogdmVjNCggcmVmcmFjdGVkUmF5RXhpdCwgMS4wICk7CgkJdmVjMiByZWZyYWN0aW9uQ29vcmRzID0gbmRjUG9zLnh5IC8gbmRjUG9zLnc7CgkJcmVmcmFjdGlvbkNvb3JkcyArPSAxLjA7CgkJcmVmcmFjdGlvbkNvb3JkcyAvPSAyLjA7CgkJdmVjNCB0cmFuc21pdHRlZExpZ2h0ID0gZ2V0VHJhbnNtaXNzaW9uU2FtcGxlKCByZWZyYWN0aW9uQ29vcmRzLCByb3VnaG5lc3MsIGlvciApOwoJCXZlYzMgYXR0ZW51YXRlZENvbG9yID0gYXBwbHlWb2x1bWVBdHRlbnVhdGlvbiggdHJhbnNtaXR0ZWRMaWdodC5yZ2IsIGxlbmd0aCggdHJhbnNtaXNzaW9uUmF5ICksIGF0dGVudWF0aW9uQ29sb3IsIGF0dGVudWF0aW9uRGlzdGFuY2UgKTsKCQl2ZWMzIEYgPSBFbnZpcm9ubWVudEJSREYoIG4sIHYsIHNwZWN1bGFyQ29sb3IsIHNwZWN1bGFyRjkwLCByb3VnaG5lc3MgKTsKCQlyZXR1cm4gdmVjNCggKCAxLjAgLSBGICkgKiBhdHRlbnVhdGVkQ29sb3IgKiBkaWZmdXNlQ29sb3IsIHRyYW5zbWl0dGVkTGlnaHQuYSApOwoJfQojZW5kaWZgLHN4PWAjaWYgKCBkZWZpbmVkKCBVU0VfVVYgKSAmJiAhIGRlZmluZWQoIFVWU19WRVJURVhfT05MWSApICkKCXZhcnlpbmcgdmVjMiB2VXY7CiNlbmRpZmAsYXg9YCNpZmRlZiBVU0VfVVYKCSNpZmRlZiBVVlNfVkVSVEVYX09OTFkKCQl2ZWMyIHZVdjsKCSNlbHNlCgkJdmFyeWluZyB2ZWMyIHZVdjsKCSNlbmRpZgoJdW5pZm9ybSBtYXQzIHV2VHJhbnNmb3JtOwojZW5kaWZgLG54PWAjaWZkZWYgVVNFX1VWCgl2VXYgPSAoIHV2VHJhbnNmb3JtICogdmVjMyggdXYsIDEgKSApLnh5OwojZW5kaWZgLG94PWAjaWYgZGVmaW5lZCggVVNFX0xJR0hUTUFQICkgfHwgZGVmaW5lZCggVVNFX0FPTUFQICkKCXZhcnlpbmcgdmVjMiB2VXYyOwojZW5kaWZgLGh4PWAjaWYgZGVmaW5lZCggVVNFX0xJR0hUTUFQICkgfHwgZGVmaW5lZCggVVNFX0FPTUFQICkKCWF0dHJpYnV0ZSB2ZWMyIHV2MjsKCXZhcnlpbmcgdmVjMiB2VXYyOwoJdW5pZm9ybSBtYXQzIHV2MlRyYW5zZm9ybTsKI2VuZGlmYCxseD1gI2lmIGRlZmluZWQoIFVTRV9MSUdIVE1BUCApIHx8IGRlZmluZWQoIFVTRV9BT01BUCApCgl2VXYyID0gKCB1djJUcmFuc2Zvcm0gKiB2ZWMzKCB1djIsIDEgKSApLnh5OwojZW5kaWZgLGN4PWAjaWYgZGVmaW5lZCggVVNFX0VOVk1BUCApIHx8IGRlZmluZWQoIERJU1RBTkNFICkgfHwgZGVmaW5lZCAoIFVTRV9TSEFET1dNQVAgKSB8fCBkZWZpbmVkICggVVNFX1RSQU5TTUlTU0lPTiApCgl2ZWM0IHdvcmxkUG9zaXRpb24gPSB2ZWM0KCB0cmFuc2Zvcm1lZCwgMS4wICk7CgkjaWZkZWYgVVNFX0lOU1RBTkNJTkcKCQl3b3JsZFBvc2l0aW9uID0gaW5zdGFuY2VNYXRyaXggKiB3b3JsZFBvc2l0aW9uOwoJI2VuZGlmCgl3b3JsZFBvc2l0aW9uID0gbW9kZWxNYXRyaXggKiB3b3JsZFBvc2l0aW9uOwojZW5kaWZgO2NvbnN0IHV4PWB2YXJ5aW5nIHZlYzIgdlV2Owp1bmlmb3JtIG1hdDMgdXZUcmFuc2Zvcm07CnZvaWQgbWFpbigpIHsKCXZVdiA9ICggdXZUcmFuc2Zvcm0gKiB2ZWMzKCB1diwgMSApICkueHk7CglnbF9Qb3NpdGlvbiA9IHZlYzQoIHBvc2l0aW9uLnh5LCAxLjAsIDEuMCApOwp9YCxkeD1gdW5pZm9ybSBzYW1wbGVyMkQgdDJEOwp2YXJ5aW5nIHZlYzIgdlV2Owp2b2lkIG1haW4oKSB7CglnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQoIHQyRCwgdlV2ICk7CgkjaWZkZWYgREVDT0RFX1ZJREVPX1RFWFRVUkUKCQlnbF9GcmFnQ29sb3IgPSB2ZWM0KCBtaXgoIHBvdyggZ2xfRnJhZ0NvbG9yLnJnYiAqIDAuOTQ3ODY3Mjk4NiArIHZlYzMoIDAuMDUyMTMyNzAxNCApLCB2ZWMzKCAyLjQgKSApLCBnbF9GcmFnQ29sb3IucmdiICogMC4wNzczOTkzODA4LCB2ZWMzKCBsZXNzVGhhbkVxdWFsKCBnbF9GcmFnQ29sb3IucmdiLCB2ZWMzKCAwLjA0MDQ1ICkgKSApICksIGdsX0ZyYWdDb2xvci53ICk7CgkjZW5kaWYKCSNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD4KCSNpbmNsdWRlIDxlbmNvZGluZ3NfZnJhZ21lbnQ+Cn1gLHB4PWB2YXJ5aW5nIHZlYzMgdldvcmxkRGlyZWN0aW9uOwojaW5jbHVkZSA8Y29tbW9uPgp2b2lkIG1haW4oKSB7Cgl2V29ybGREaXJlY3Rpb24gPSB0cmFuc2Zvcm1EaXJlY3Rpb24oIHBvc2l0aW9uLCBtb2RlbE1hdHJpeCApOwoJI2luY2x1ZGUgPGJlZ2luX3ZlcnRleD4KCSNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD4KCWdsX1Bvc2l0aW9uLnogPSBnbF9Qb3NpdGlvbi53Owp9YCxmeD1gI2luY2x1ZGUgPGVudm1hcF9jb21tb25fcGFyc19mcmFnbWVudD4KdW5pZm9ybSBmbG9hdCBvcGFjaXR5Owp2YXJ5aW5nIHZlYzMgdldvcmxkRGlyZWN0aW9uOwojaW5jbHVkZSA8Y3ViZV91dl9yZWZsZWN0aW9uX2ZyYWdtZW50Pgp2b2lkIG1haW4oKSB7Cgl2ZWMzIHZSZWZsZWN0ID0gdldvcmxkRGlyZWN0aW9uOwoJI2luY2x1ZGUgPGVudm1hcF9mcmFnbWVudD4KCWdsX0ZyYWdDb2xvciA9IGVudkNvbG9yOwoJZ2xfRnJhZ0NvbG9yLmEgKj0gb3BhY2l0eTsKCSNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD4KCSNpbmNsdWRlIDxlbmNvZGluZ3NfZnJhZ21lbnQ+Cn1gLG14PWAjaW5jbHVkZSA8Y29tbW9uPgojaW5jbHVkZSA8dXZfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxtb3JwaHRhcmdldF9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPHNraW5uaW5nX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+CnZhcnlpbmcgdmVjMiB2SGlnaFByZWNpc2lvblpXOwp2b2lkIG1haW4oKSB7CgkjaW5jbHVkZSA8dXZfdmVydGV4PgoJI2luY2x1ZGUgPHNraW5iYXNlX3ZlcnRleD4KCSNpZmRlZiBVU0VfRElTUExBQ0VNRU5UTUFQCgkJI2luY2x1ZGUgPGJlZ2lubm9ybWFsX3ZlcnRleD4KCQkjaW5jbHVkZSA8bW9ycGhub3JtYWxfdmVydGV4PgoJCSNpbmNsdWRlIDxza2lubm9ybWFsX3ZlcnRleD4KCSNlbmRpZgoJI2luY2x1ZGUgPGJlZ2luX3ZlcnRleD4KCSNpbmNsdWRlIDxtb3JwaHRhcmdldF92ZXJ0ZXg+CgkjaW5jbHVkZSA8c2tpbm5pbmdfdmVydGV4PgoJI2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF92ZXJ0ZXg+CgkjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+CgkjaW5jbHVkZSA8bG9nZGVwdGhidWZfdmVydGV4PgoJI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc192ZXJ0ZXg+Cgl2SGlnaFByZWNpc2lvblpXID0gZ2xfUG9zaXRpb24uenc7Cn1gLGd4PWAjaWYgREVQVEhfUEFDS0lORyA9PSAzMjAwCgl1bmlmb3JtIGZsb2F0IG9wYWNpdHk7CiNlbmRpZgojaW5jbHVkZSA8Y29tbW9uPgojaW5jbHVkZSA8cGFja2luZz4KI2luY2x1ZGUgPHV2X3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGFscGhhbWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxhbHBoYXRlc3RfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudD4KdmFyeWluZyB2ZWMyIHZIaWdoUHJlY2lzaW9uWlc7CnZvaWQgbWFpbigpIHsKCSNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfZnJhZ21lbnQ+Cgl2ZWM0IGRpZmZ1c2VDb2xvciA9IHZlYzQoIDEuMCApOwoJI2lmIERFUFRIX1BBQ0tJTkcgPT0gMzIwMAoJCWRpZmZ1c2VDb2xvci5hID0gb3BhY2l0eTsKCSNlbmRpZgoJI2luY2x1ZGUgPG1hcF9mcmFnbWVudD4KCSNpbmNsdWRlIDxhbHBoYW1hcF9mcmFnbWVudD4KCSNpbmNsdWRlIDxhbHBoYXRlc3RfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8bG9nZGVwdGhidWZfZnJhZ21lbnQ+CglmbG9hdCBmcmFnQ29vcmRaID0gMC41ICogdkhpZ2hQcmVjaXNpb25aV1swXSAvIHZIaWdoUHJlY2lzaW9uWldbMV0gKyAwLjU7CgkjaWYgREVQVEhfUEFDS0lORyA9PSAzMjAwCgkJZ2xfRnJhZ0NvbG9yID0gdmVjNCggdmVjMyggMS4wIC0gZnJhZ0Nvb3JkWiApLCBvcGFjaXR5ICk7CgkjZWxpZiBERVBUSF9QQUNLSU5HID09IDMyMDEKCQlnbF9GcmFnQ29sb3IgPSBwYWNrRGVwdGhUb1JHQkEoIGZyYWdDb29yZFogKTsKCSNlbmRpZgp9YCx2eD1gI2RlZmluZSBESVNUQU5DRQp2YXJ5aW5nIHZlYzMgdldvcmxkUG9zaXRpb247CiNpbmNsdWRlIDxjb21tb24+CiNpbmNsdWRlIDx1dl9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3BhcnNfdmVydGV4PgojaW5jbHVkZSA8c2tpbm5pbmdfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+CnZvaWQgbWFpbigpIHsKCSNpbmNsdWRlIDx1dl92ZXJ0ZXg+CgkjaW5jbHVkZSA8c2tpbmJhc2VfdmVydGV4PgoJI2lmZGVmIFVTRV9ESVNQTEFDRU1FTlRNQVAKCQkjaW5jbHVkZSA8YmVnaW5ub3JtYWxfdmVydGV4PgoJCSNpbmNsdWRlIDxtb3JwaG5vcm1hbF92ZXJ0ZXg+CgkJI2luY2x1ZGUgPHNraW5ub3JtYWxfdmVydGV4PgoJI2VuZGlmCgkjaW5jbHVkZSA8YmVnaW5fdmVydGV4PgoJI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3ZlcnRleD4KCSNpbmNsdWRlIDxza2lubmluZ192ZXJ0ZXg+CgkjaW5jbHVkZSA8ZGlzcGxhY2VtZW50bWFwX3ZlcnRleD4KCSNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD4KCSNpbmNsdWRlIDx3b3JsZHBvc192ZXJ0ZXg+CgkjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3ZlcnRleD4KCXZXb3JsZFBvc2l0aW9uID0gd29ybGRQb3NpdGlvbi54eXo7Cn1gLHh4PWAjZGVmaW5lIERJU1RBTkNFCnVuaWZvcm0gdmVjMyByZWZlcmVuY2VQb3NpdGlvbjsKdW5pZm9ybSBmbG9hdCBuZWFyRGlzdGFuY2U7CnVuaWZvcm0gZmxvYXQgZmFyRGlzdGFuY2U7CnZhcnlpbmcgdmVjMyB2V29ybGRQb3NpdGlvbjsKI2luY2x1ZGUgPGNvbW1vbj4KI2luY2x1ZGUgPHBhY2tpbmc+CiNpbmNsdWRlIDx1dl9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8bWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxhbHBoYW1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8YWxwaGF0ZXN0X3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudD4Kdm9pZCBtYWluICgpIHsKCSNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfZnJhZ21lbnQ+Cgl2ZWM0IGRpZmZ1c2VDb2xvciA9IHZlYzQoIDEuMCApOwoJI2luY2x1ZGUgPG1hcF9mcmFnbWVudD4KCSNpbmNsdWRlIDxhbHBoYW1hcF9mcmFnbWVudD4KCSNpbmNsdWRlIDxhbHBoYXRlc3RfZnJhZ21lbnQ+CglmbG9hdCBkaXN0ID0gbGVuZ3RoKCB2V29ybGRQb3NpdGlvbiAtIHJlZmVyZW5jZVBvc2l0aW9uICk7CglkaXN0ID0gKCBkaXN0IC0gbmVhckRpc3RhbmNlICkgLyAoIGZhckRpc3RhbmNlIC0gbmVhckRpc3RhbmNlICk7CglkaXN0ID0gc2F0dXJhdGUoIGRpc3QgKTsKCWdsX0ZyYWdDb2xvciA9IHBhY2tEZXB0aFRvUkdCQSggZGlzdCApOwp9YCxfeD1gdmFyeWluZyB2ZWMzIHZXb3JsZERpcmVjdGlvbjsKI2luY2x1ZGUgPGNvbW1vbj4Kdm9pZCBtYWluKCkgewoJdldvcmxkRGlyZWN0aW9uID0gdHJhbnNmb3JtRGlyZWN0aW9uKCBwb3NpdGlvbiwgbW9kZWxNYXRyaXggKTsKCSNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+CgkjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+Cn1gLHl4PWB1bmlmb3JtIHNhbXBsZXIyRCB0RXF1aXJlY3Q7CnZhcnlpbmcgdmVjMyB2V29ybGREaXJlY3Rpb247CiNpbmNsdWRlIDxjb21tb24+CnZvaWQgbWFpbigpIHsKCXZlYzMgZGlyZWN0aW9uID0gbm9ybWFsaXplKCB2V29ybGREaXJlY3Rpb24gKTsKCXZlYzIgc2FtcGxlVVYgPSBlcXVpcmVjdFV2KCBkaXJlY3Rpb24gKTsKCWdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCggdEVxdWlyZWN0LCBzYW1wbGVVViApOwoJI2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGVuY29kaW5nc19mcmFnbWVudD4KfWAsTXg9YHVuaWZvcm0gZmxvYXQgc2NhbGU7CmF0dHJpYnV0ZSBmbG9hdCBsaW5lRGlzdGFuY2U7CnZhcnlpbmcgZmxvYXQgdkxpbmVEaXN0YW5jZTsKI2luY2x1ZGUgPGNvbW1vbj4KI2luY2x1ZGUgPGNvbG9yX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8Zm9nX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8bW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD4Kdm9pZCBtYWluKCkgewoJdkxpbmVEaXN0YW5jZSA9IHNjYWxlICogbGluZURpc3RhbmNlOwoJI2luY2x1ZGUgPGNvbG9yX3ZlcnRleD4KCSNpbmNsdWRlIDxtb3JwaGNvbG9yX3ZlcnRleD4KCSNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+CgkjaW5jbHVkZSA8bW9ycGh0YXJnZXRfdmVydGV4PgoJI2luY2x1ZGUgPHByb2plY3RfdmVydGV4PgoJI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3ZlcnRleD4KCSNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PgoJI2luY2x1ZGUgPGZvZ192ZXJ0ZXg+Cn1gLGJ4PWB1bmlmb3JtIHZlYzMgZGlmZnVzZTsKdW5pZm9ybSBmbG9hdCBvcGFjaXR5Owp1bmlmb3JtIGZsb2F0IGRhc2hTaXplOwp1bmlmb3JtIGZsb2F0IHRvdGFsU2l6ZTsKdmFyeWluZyBmbG9hdCB2TGluZURpc3RhbmNlOwojaW5jbHVkZSA8Y29tbW9uPgojaW5jbHVkZSA8Y29sb3JfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGZvZ19wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX2ZyYWdtZW50Pgp2b2lkIG1haW4oKSB7CgkjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX2ZyYWdtZW50PgoJaWYgKCBtb2QoIHZMaW5lRGlzdGFuY2UsIHRvdGFsU2l6ZSApID4gZGFzaFNpemUgKSB7CgkJZGlzY2FyZDsKCX0KCXZlYzMgb3V0Z29pbmdMaWdodCA9IHZlYzMoIDAuMCApOwoJdmVjNCBkaWZmdXNlQ29sb3IgPSB2ZWM0KCBkaWZmdXNlLCBvcGFjaXR5ICk7CgkjaW5jbHVkZSA8bG9nZGVwdGhidWZfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8Y29sb3JfZnJhZ21lbnQ+CglvdXRnb2luZ0xpZ2h0ID0gZGlmZnVzZUNvbG9yLnJnYjsKCSNpbmNsdWRlIDxvdXRwdXRfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8dG9uZW1hcHBpbmdfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8ZW5jb2RpbmdzX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGZvZ19mcmFnbWVudD4KCSNpbmNsdWRlIDxwcmVtdWx0aXBsaWVkX2FscGhhX2ZyYWdtZW50Pgp9YCx3eD1gI2luY2x1ZGUgPGNvbW1vbj4KI2luY2x1ZGUgPHV2X3BhcnNfdmVydGV4PgojaW5jbHVkZSA8dXYyX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8ZW52bWFwX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8Y29sb3JfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxmb2dfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxtb3JwaHRhcmdldF9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPHNraW5uaW5nX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+CnZvaWQgbWFpbigpIHsKCSNpbmNsdWRlIDx1dl92ZXJ0ZXg+CgkjaW5jbHVkZSA8dXYyX3ZlcnRleD4KCSNpbmNsdWRlIDxjb2xvcl92ZXJ0ZXg+CgkjaW5jbHVkZSA8bW9ycGhjb2xvcl92ZXJ0ZXg+CgkjaWYgZGVmaW5lZCAoIFVTRV9FTlZNQVAgKSB8fCBkZWZpbmVkICggVVNFX1NLSU5OSU5HICkKCQkjaW5jbHVkZSA8YmVnaW5ub3JtYWxfdmVydGV4PgoJCSNpbmNsdWRlIDxtb3JwaG5vcm1hbF92ZXJ0ZXg+CgkJI2luY2x1ZGUgPHNraW5iYXNlX3ZlcnRleD4KCQkjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+CgkJI2luY2x1ZGUgPGRlZmF1bHRub3JtYWxfdmVydGV4PgoJI2VuZGlmCgkjaW5jbHVkZSA8YmVnaW5fdmVydGV4PgoJI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3ZlcnRleD4KCSNpbmNsdWRlIDxza2lubmluZ192ZXJ0ZXg+CgkjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+CgkjaW5jbHVkZSA8bG9nZGVwdGhidWZfdmVydGV4PgoJI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc192ZXJ0ZXg+CgkjaW5jbHVkZSA8d29ybGRwb3NfdmVydGV4PgoJI2luY2x1ZGUgPGVudm1hcF92ZXJ0ZXg+CgkjaW5jbHVkZSA8Zm9nX3ZlcnRleD4KfWAsU3g9YHVuaWZvcm0gdmVjMyBkaWZmdXNlOwp1bmlmb3JtIGZsb2F0IG9wYWNpdHk7CiNpZm5kZWYgRkxBVF9TSEFERUQKCXZhcnlpbmcgdmVjMyB2Tm9ybWFsOwojZW5kaWYKI2luY2x1ZGUgPGNvbW1vbj4KI2luY2x1ZGUgPGRpdGhlcmluZ19wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8Y29sb3JfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPHV2X3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDx1djJfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPG1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8YWxwaGFtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGFscGhhdGVzdF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8YW9tYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGxpZ2h0bWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxlbnZtYXBfY29tbW9uX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxlbnZtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGN1YmVfdXZfcmVmbGVjdGlvbl9mcmFnbWVudD4KI2luY2x1ZGUgPGZvZ19wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8c3BlY3VsYXJtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudD4Kdm9pZCBtYWluKCkgewoJI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudD4KCXZlYzQgZGlmZnVzZUNvbG9yID0gdmVjNCggZGlmZnVzZSwgb3BhY2l0eSApOwoJI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX2ZyYWdtZW50PgoJI2luY2x1ZGUgPG1hcF9mcmFnbWVudD4KCSNpbmNsdWRlIDxjb2xvcl9mcmFnbWVudD4KCSNpbmNsdWRlIDxhbHBoYW1hcF9mcmFnbWVudD4KCSNpbmNsdWRlIDxhbHBoYXRlc3RfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8c3BlY3VsYXJtYXBfZnJhZ21lbnQ+CglSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCA9IFJlZmxlY3RlZExpZ2h0KCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICksIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSApOwoJI2lmZGVmIFVTRV9MSUdIVE1BUAoJCXZlYzQgbGlnaHRNYXBUZXhlbCA9IHRleHR1cmUyRCggbGlnaHRNYXAsIHZVdjIgKTsKCQlyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKz0gbGlnaHRNYXBUZXhlbC5yZ2IgKiBsaWdodE1hcEludGVuc2l0eSAqIFJFQ0lQUk9DQUxfUEk7CgkjZWxzZQoJCXJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArPSB2ZWMzKCAxLjAgKTsKCSNlbmRpZgoJI2luY2x1ZGUgPGFvbWFwX2ZyYWdtZW50PgoJcmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICo9IGRpZmZ1c2VDb2xvci5yZ2I7Cgl2ZWMzIG91dGdvaW5nTGlnaHQgPSByZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2U7CgkjaW5jbHVkZSA8ZW52bWFwX2ZyYWdtZW50PgoJI2luY2x1ZGUgPG91dHB1dF9mcmFnbWVudD4KCSNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD4KCSNpbmNsdWRlIDxlbmNvZGluZ3NfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8Zm9nX2ZyYWdtZW50PgoJI2luY2x1ZGUgPHByZW11bHRpcGxpZWRfYWxwaGFfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8ZGl0aGVyaW5nX2ZyYWdtZW50Pgp9YCxFeD1gI2RlZmluZSBMQU1CRVJUCnZhcnlpbmcgdmVjMyB2TGlnaHRGcm9udDsKdmFyeWluZyB2ZWMzIHZJbmRpcmVjdEZyb250OwojaWZkZWYgRE9VQkxFX1NJREVECgl2YXJ5aW5nIHZlYzMgdkxpZ2h0QmFjazsKCXZhcnlpbmcgdmVjMyB2SW5kaXJlY3RCYWNrOwojZW5kaWYKI2luY2x1ZGUgPGNvbW1vbj4KI2luY2x1ZGUgPHV2X3BhcnNfdmVydGV4PgojaW5jbHVkZSA8dXYyX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8ZW52bWFwX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8YnNkZnM+CiNpbmNsdWRlIDxsaWdodHNfcGFyc19iZWdpbj4KI2luY2x1ZGUgPGNvbG9yX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8Zm9nX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8bW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxza2lubmluZ19wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPHNoYWRvd21hcF9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfdmVydGV4Pgp2b2lkIG1haW4oKSB7CgkjaW5jbHVkZSA8dXZfdmVydGV4PgoJI2luY2x1ZGUgPHV2Ml92ZXJ0ZXg+CgkjaW5jbHVkZSA8Y29sb3JfdmVydGV4PgoJI2luY2x1ZGUgPG1vcnBoY29sb3JfdmVydGV4PgoJI2luY2x1ZGUgPGJlZ2lubm9ybWFsX3ZlcnRleD4KCSNpbmNsdWRlIDxtb3JwaG5vcm1hbF92ZXJ0ZXg+CgkjaW5jbHVkZSA8c2tpbmJhc2VfdmVydGV4PgoJI2luY2x1ZGUgPHNraW5ub3JtYWxfdmVydGV4PgoJI2luY2x1ZGUgPGRlZmF1bHRub3JtYWxfdmVydGV4PgoJI2luY2x1ZGUgPGJlZ2luX3ZlcnRleD4KCSNpbmNsdWRlIDxtb3JwaHRhcmdldF92ZXJ0ZXg+CgkjaW5jbHVkZSA8c2tpbm5pbmdfdmVydGV4PgoJI2luY2x1ZGUgPHByb2plY3RfdmVydGV4PgoJI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3ZlcnRleD4KCSNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PgoJI2luY2x1ZGUgPHdvcmxkcG9zX3ZlcnRleD4KCSNpbmNsdWRlIDxlbnZtYXBfdmVydGV4PgoJI2luY2x1ZGUgPGxpZ2h0c19sYW1iZXJ0X3ZlcnRleD4KCSNpbmNsdWRlIDxzaGFkb3dtYXBfdmVydGV4PgoJI2luY2x1ZGUgPGZvZ192ZXJ0ZXg+Cn1gLFR4PWB1bmlmb3JtIHZlYzMgZGlmZnVzZTsKdW5pZm9ybSB2ZWMzIGVtaXNzaXZlOwp1bmlmb3JtIGZsb2F0IG9wYWNpdHk7CnZhcnlpbmcgdmVjMyB2TGlnaHRGcm9udDsKdmFyeWluZyB2ZWMzIHZJbmRpcmVjdEZyb250OwojaWZkZWYgRE9VQkxFX1NJREVECgl2YXJ5aW5nIHZlYzMgdkxpZ2h0QmFjazsKCXZhcnlpbmcgdmVjMyB2SW5kaXJlY3RCYWNrOwojZW5kaWYKI2luY2x1ZGUgPGNvbW1vbj4KI2luY2x1ZGUgPHBhY2tpbmc+CiNpbmNsdWRlIDxkaXRoZXJpbmdfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGNvbG9yX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDx1dl9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8dXYyX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGFscGhhbWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxhbHBoYXRlc3RfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGFvbWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxsaWdodG1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8ZW1pc3NpdmVtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGVudm1hcF9jb21tb25fcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGVudm1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8Y3ViZV91dl9yZWZsZWN0aW9uX2ZyYWdtZW50PgojaW5jbHVkZSA8YnNkZnM+CiNpbmNsdWRlIDxsaWdodHNfcGFyc19iZWdpbj4KI2luY2x1ZGUgPGZvZ19wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8c2hhZG93bWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxzaGFkb3dtYXNrX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxzcGVjdWxhcm1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX2ZyYWdtZW50Pgp2b2lkIG1haW4oKSB7CgkjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX2ZyYWdtZW50PgoJdmVjNCBkaWZmdXNlQ29sb3IgPSB2ZWM0KCBkaWZmdXNlLCBvcGFjaXR5ICk7CglSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCA9IFJlZmxlY3RlZExpZ2h0KCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICksIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSApOwoJdmVjMyB0b3RhbEVtaXNzaXZlUmFkaWFuY2UgPSBlbWlzc2l2ZTsKCSNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9mcmFnbWVudD4KCSNpbmNsdWRlIDxtYXBfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8Y29sb3JfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8YWxwaGFtYXBfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8YWxwaGF0ZXN0X2ZyYWdtZW50PgoJI2luY2x1ZGUgPHNwZWN1bGFybWFwX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGVtaXNzaXZlbWFwX2ZyYWdtZW50PgoJI2lmZGVmIERPVUJMRV9TSURFRAoJCXJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArPSAoIGdsX0Zyb250RmFjaW5nICkgPyB2SW5kaXJlY3RGcm9udCA6IHZJbmRpcmVjdEJhY2s7CgkjZWxzZQoJCXJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArPSB2SW5kaXJlY3RGcm9udDsKCSNlbmRpZgoJI2luY2x1ZGUgPGxpZ2h0bWFwX2ZyYWdtZW50PgoJcmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICo9IEJSREZfTGFtYmVydCggZGlmZnVzZUNvbG9yLnJnYiApOwoJI2lmZGVmIERPVUJMRV9TSURFRAoJCXJlZmxlY3RlZExpZ2h0LmRpcmVjdERpZmZ1c2UgPSAoIGdsX0Zyb250RmFjaW5nICkgPyB2TGlnaHRGcm9udCA6IHZMaWdodEJhY2s7CgkjZWxzZQoJCXJlZmxlY3RlZExpZ2h0LmRpcmVjdERpZmZ1c2UgPSB2TGlnaHRGcm9udDsKCSNlbmRpZgoJcmVmbGVjdGVkTGlnaHQuZGlyZWN0RGlmZnVzZSAqPSBCUkRGX0xhbWJlcnQoIGRpZmZ1c2VDb2xvci5yZ2IgKSAqIGdldFNoYWRvd01hc2soKTsKCSNpbmNsdWRlIDxhb21hcF9mcmFnbWVudD4KCXZlYzMgb3V0Z29pbmdMaWdodCA9IHJlZmxlY3RlZExpZ2h0LmRpcmVjdERpZmZ1c2UgKyByZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKyB0b3RhbEVtaXNzaXZlUmFkaWFuY2U7CgkjaW5jbHVkZSA8ZW52bWFwX2ZyYWdtZW50PgoJI2luY2x1ZGUgPG91dHB1dF9mcmFnbWVudD4KCSNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD4KCSNpbmNsdWRlIDxlbmNvZGluZ3NfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8Zm9nX2ZyYWdtZW50PgoJI2luY2x1ZGUgPHByZW11bHRpcGxpZWRfYWxwaGFfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8ZGl0aGVyaW5nX2ZyYWdtZW50Pgp9YCxBeD1gI2RlZmluZSBNQVRDQVAKdmFyeWluZyB2ZWMzIHZWaWV3UG9zaXRpb247CiNpbmNsdWRlIDxjb21tb24+CiNpbmNsdWRlIDx1dl9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPGNvbG9yX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8ZGlzcGxhY2VtZW50bWFwX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8Zm9nX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8bm9ybWFsX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8bW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxza2lubmluZ19wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfdmVydGV4Pgp2b2lkIG1haW4oKSB7CgkjaW5jbHVkZSA8dXZfdmVydGV4PgoJI2luY2x1ZGUgPGNvbG9yX3ZlcnRleD4KCSNpbmNsdWRlIDxtb3JwaGNvbG9yX3ZlcnRleD4KCSNpbmNsdWRlIDxiZWdpbm5vcm1hbF92ZXJ0ZXg+CgkjaW5jbHVkZSA8bW9ycGhub3JtYWxfdmVydGV4PgoJI2luY2x1ZGUgPHNraW5iYXNlX3ZlcnRleD4KCSNpbmNsdWRlIDxza2lubm9ybWFsX3ZlcnRleD4KCSNpbmNsdWRlIDxkZWZhdWx0bm9ybWFsX3ZlcnRleD4KCSNpbmNsdWRlIDxub3JtYWxfdmVydGV4PgoJI2luY2x1ZGUgPGJlZ2luX3ZlcnRleD4KCSNpbmNsdWRlIDxtb3JwaHRhcmdldF92ZXJ0ZXg+CgkjaW5jbHVkZSA8c2tpbm5pbmdfdmVydGV4PgoJI2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF92ZXJ0ZXg+CgkjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+CgkjaW5jbHVkZSA8bG9nZGVwdGhidWZfdmVydGV4PgoJI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc192ZXJ0ZXg+CgkjaW5jbHVkZSA8Zm9nX3ZlcnRleD4KCXZWaWV3UG9zaXRpb24gPSAtIG12UG9zaXRpb24ueHl6Owp9YCxDeD1gI2RlZmluZSBNQVRDQVAKdW5pZm9ybSB2ZWMzIGRpZmZ1c2U7CnVuaWZvcm0gZmxvYXQgb3BhY2l0eTsKdW5pZm9ybSBzYW1wbGVyMkQgbWF0Y2FwOwp2YXJ5aW5nIHZlYzMgdlZpZXdQb3NpdGlvbjsKI2luY2x1ZGUgPGNvbW1vbj4KI2luY2x1ZGUgPGRpdGhlcmluZ19wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8Y29sb3JfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPHV2X3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGFscGhhbWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxhbHBoYXRlc3RfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGZvZ19wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8bm9ybWFsX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxidW1wbWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxub3JtYWxtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudD4Kdm9pZCBtYWluKCkgewoJI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudD4KCXZlYzQgZGlmZnVzZUNvbG9yID0gdmVjNCggZGlmZnVzZSwgb3BhY2l0eSApOwoJI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX2ZyYWdtZW50PgoJI2luY2x1ZGUgPG1hcF9mcmFnbWVudD4KCSNpbmNsdWRlIDxjb2xvcl9mcmFnbWVudD4KCSNpbmNsdWRlIDxhbHBoYW1hcF9mcmFnbWVudD4KCSNpbmNsdWRlIDxhbHBoYXRlc3RfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8bm9ybWFsX2ZyYWdtZW50X2JlZ2luPgoJI2luY2x1ZGUgPG5vcm1hbF9mcmFnbWVudF9tYXBzPgoJdmVjMyB2aWV3RGlyID0gbm9ybWFsaXplKCB2Vmlld1Bvc2l0aW9uICk7Cgl2ZWMzIHggPSBub3JtYWxpemUoIHZlYzMoIHZpZXdEaXIueiwgMC4wLCAtIHZpZXdEaXIueCApICk7Cgl2ZWMzIHkgPSBjcm9zcyggdmlld0RpciwgeCApOwoJdmVjMiB1diA9IHZlYzIoIGRvdCggeCwgbm9ybWFsICksIGRvdCggeSwgbm9ybWFsICkgKSAqIDAuNDk1ICsgMC41OwoJI2lmZGVmIFVTRV9NQVRDQVAKCQl2ZWM0IG1hdGNhcENvbG9yID0gdGV4dHVyZTJEKCBtYXRjYXAsIHV2ICk7CgkjZWxzZQoJCXZlYzQgbWF0Y2FwQ29sb3IgPSB2ZWM0KCB2ZWMzKCBtaXgoIDAuMiwgMC44LCB1di55ICkgKSwgMS4wICk7CgkjZW5kaWYKCXZlYzMgb3V0Z29pbmdMaWdodCA9IGRpZmZ1c2VDb2xvci5yZ2IgKiBtYXRjYXBDb2xvci5yZ2I7CgkjaW5jbHVkZSA8b3V0cHV0X2ZyYWdtZW50PgoJI2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGVuY29kaW5nc19mcmFnbWVudD4KCSNpbmNsdWRlIDxmb2dfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8cHJlbXVsdGlwbGllZF9hbHBoYV9mcmFnbWVudD4KCSNpbmNsdWRlIDxkaXRoZXJpbmdfZnJhZ21lbnQ+Cn1gLEx4PWAjZGVmaW5lIE5PUk1BTAojaWYgZGVmaW5lZCggRkxBVF9TSEFERUQgKSB8fCBkZWZpbmVkKCBVU0VfQlVNUE1BUCApIHx8IGRlZmluZWQoIFRBTkdFTlRTUEFDRV9OT1JNQUxNQVAgKQoJdmFyeWluZyB2ZWMzIHZWaWV3UG9zaXRpb247CiNlbmRpZgojaW5jbHVkZSA8Y29tbW9uPgojaW5jbHVkZSA8dXZfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxub3JtYWxfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxtb3JwaHRhcmdldF9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPHNraW5uaW5nX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+CnZvaWQgbWFpbigpIHsKCSNpbmNsdWRlIDx1dl92ZXJ0ZXg+CgkjaW5jbHVkZSA8YmVnaW5ub3JtYWxfdmVydGV4PgoJI2luY2x1ZGUgPG1vcnBobm9ybWFsX3ZlcnRleD4KCSNpbmNsdWRlIDxza2luYmFzZV92ZXJ0ZXg+CgkjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+CgkjaW5jbHVkZSA8ZGVmYXVsdG5vcm1hbF92ZXJ0ZXg+CgkjaW5jbHVkZSA8bm9ybWFsX3ZlcnRleD4KCSNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+CgkjaW5jbHVkZSA8bW9ycGh0YXJnZXRfdmVydGV4PgoJI2luY2x1ZGUgPHNraW5uaW5nX3ZlcnRleD4KCSNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfdmVydGV4PgoJI2luY2x1ZGUgPHByb2plY3RfdmVydGV4PgoJI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3ZlcnRleD4KCSNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PgojaWYgZGVmaW5lZCggRkxBVF9TSEFERUQgKSB8fCBkZWZpbmVkKCBVU0VfQlVNUE1BUCApIHx8IGRlZmluZWQoIFRBTkdFTlRTUEFDRV9OT1JNQUxNQVAgKQoJdlZpZXdQb3NpdGlvbiA9IC0gbXZQb3NpdGlvbi54eXo7CiNlbmRpZgp9YCxSeD1gI2RlZmluZSBOT1JNQUwKdW5pZm9ybSBmbG9hdCBvcGFjaXR5OwojaWYgZGVmaW5lZCggRkxBVF9TSEFERUQgKSB8fCBkZWZpbmVkKCBVU0VfQlVNUE1BUCApIHx8IGRlZmluZWQoIFRBTkdFTlRTUEFDRV9OT1JNQUxNQVAgKQoJdmFyeWluZyB2ZWMzIHZWaWV3UG9zaXRpb247CiNlbmRpZgojaW5jbHVkZSA8cGFja2luZz4KI2luY2x1ZGUgPHV2X3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxub3JtYWxfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGJ1bXBtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPG5vcm1hbG1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX2ZyYWdtZW50Pgp2b2lkIG1haW4oKSB7CgkjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX2ZyYWdtZW50PgoJI2luY2x1ZGUgPG5vcm1hbF9mcmFnbWVudF9iZWdpbj4KCSNpbmNsdWRlIDxub3JtYWxfZnJhZ21lbnRfbWFwcz4KCWdsX0ZyYWdDb2xvciA9IHZlYzQoIHBhY2tOb3JtYWxUb1JHQiggbm9ybWFsICksIG9wYWNpdHkgKTsKCSNpZmRlZiBPUEFRVUUKCQlnbF9GcmFnQ29sb3IuYSA9IDEuMDsKCSNlbmRpZgp9YCxQeD1gI2RlZmluZSBQSE9ORwp2YXJ5aW5nIHZlYzMgdlZpZXdQb3NpdGlvbjsKI2luY2x1ZGUgPGNvbW1vbj4KI2luY2x1ZGUgPHV2X3BhcnNfdmVydGV4PgojaW5jbHVkZSA8dXYyX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8ZGlzcGxhY2VtZW50bWFwX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8ZW52bWFwX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8Y29sb3JfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxmb2dfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxub3JtYWxfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxtb3JwaHRhcmdldF9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPHNraW5uaW5nX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8c2hhZG93bWFwX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+CnZvaWQgbWFpbigpIHsKCSNpbmNsdWRlIDx1dl92ZXJ0ZXg+CgkjaW5jbHVkZSA8dXYyX3ZlcnRleD4KCSNpbmNsdWRlIDxjb2xvcl92ZXJ0ZXg+CgkjaW5jbHVkZSA8bW9ycGhjb2xvcl92ZXJ0ZXg+CgkjaW5jbHVkZSA8YmVnaW5ub3JtYWxfdmVydGV4PgoJI2luY2x1ZGUgPG1vcnBobm9ybWFsX3ZlcnRleD4KCSNpbmNsdWRlIDxza2luYmFzZV92ZXJ0ZXg+CgkjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+CgkjaW5jbHVkZSA8ZGVmYXVsdG5vcm1hbF92ZXJ0ZXg+CgkjaW5jbHVkZSA8bm9ybWFsX3ZlcnRleD4KCSNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+CgkjaW5jbHVkZSA8bW9ycGh0YXJnZXRfdmVydGV4PgoJI2luY2x1ZGUgPHNraW5uaW5nX3ZlcnRleD4KCSNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfdmVydGV4PgoJI2luY2x1ZGUgPHByb2plY3RfdmVydGV4PgoJI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3ZlcnRleD4KCSNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PgoJdlZpZXdQb3NpdGlvbiA9IC0gbXZQb3NpdGlvbi54eXo7CgkjaW5jbHVkZSA8d29ybGRwb3NfdmVydGV4PgoJI2luY2x1ZGUgPGVudm1hcF92ZXJ0ZXg+CgkjaW5jbHVkZSA8c2hhZG93bWFwX3ZlcnRleD4KCSNpbmNsdWRlIDxmb2dfdmVydGV4Pgp9YCxJeD1gI2RlZmluZSBQSE9ORwp1bmlmb3JtIHZlYzMgZGlmZnVzZTsKdW5pZm9ybSB2ZWMzIGVtaXNzaXZlOwp1bmlmb3JtIHZlYzMgc3BlY3VsYXI7CnVuaWZvcm0gZmxvYXQgc2hpbmluZXNzOwp1bmlmb3JtIGZsb2F0IG9wYWNpdHk7CiNpbmNsdWRlIDxjb21tb24+CiNpbmNsdWRlIDxwYWNraW5nPgojaW5jbHVkZSA8ZGl0aGVyaW5nX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxjb2xvcl9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8dXZfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPHV2Ml9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8bWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxhbHBoYW1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8YWxwaGF0ZXN0X3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxhb21hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8bGlnaHRtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGVtaXNzaXZlbWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxlbnZtYXBfY29tbW9uX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxlbnZtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGN1YmVfdXZfcmVmbGVjdGlvbl9mcmFnbWVudD4KI2luY2x1ZGUgPGZvZ19wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8YnNkZnM+CiNpbmNsdWRlIDxsaWdodHNfcGFyc19iZWdpbj4KI2luY2x1ZGUgPG5vcm1hbF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8bGlnaHRzX3Bob25nX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxzaGFkb3dtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGJ1bXBtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPG5vcm1hbG1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8c3BlY3VsYXJtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudD4Kdm9pZCBtYWluKCkgewoJI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudD4KCXZlYzQgZGlmZnVzZUNvbG9yID0gdmVjNCggZGlmZnVzZSwgb3BhY2l0eSApOwoJUmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQgPSBSZWZsZWN0ZWRMaWdodCggdmVjMyggMC4wICksIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICkgKTsKCXZlYzMgdG90YWxFbWlzc2l2ZVJhZGlhbmNlID0gZW1pc3NpdmU7CgkjaW5jbHVkZSA8bG9nZGVwdGhidWZfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8bWFwX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGNvbG9yX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGFscGhhbWFwX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGFscGhhdGVzdF9mcmFnbWVudD4KCSNpbmNsdWRlIDxzcGVjdWxhcm1hcF9mcmFnbWVudD4KCSNpbmNsdWRlIDxub3JtYWxfZnJhZ21lbnRfYmVnaW4+CgkjaW5jbHVkZSA8bm9ybWFsX2ZyYWdtZW50X21hcHM+CgkjaW5jbHVkZSA8ZW1pc3NpdmVtYXBfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8bGlnaHRzX3Bob25nX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGxpZ2h0c19mcmFnbWVudF9iZWdpbj4KCSNpbmNsdWRlIDxsaWdodHNfZnJhZ21lbnRfbWFwcz4KCSNpbmNsdWRlIDxsaWdodHNfZnJhZ21lbnRfZW5kPgoJI2luY2x1ZGUgPGFvbWFwX2ZyYWdtZW50PgoJdmVjMyBvdXRnb2luZ0xpZ2h0ID0gcmVmbGVjdGVkTGlnaHQuZGlyZWN0RGlmZnVzZSArIHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArIHJlZmxlY3RlZExpZ2h0LmRpcmVjdFNwZWN1bGFyICsgcmVmbGVjdGVkTGlnaHQuaW5kaXJlY3RTcGVjdWxhciArIHRvdGFsRW1pc3NpdmVSYWRpYW5jZTsKCSNpbmNsdWRlIDxlbnZtYXBfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8b3V0cHV0X2ZyYWdtZW50PgoJI2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGVuY29kaW5nc19mcmFnbWVudD4KCSNpbmNsdWRlIDxmb2dfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8cHJlbXVsdGlwbGllZF9hbHBoYV9mcmFnbWVudD4KCSNpbmNsdWRlIDxkaXRoZXJpbmdfZnJhZ21lbnQ+Cn1gLE54PWAjZGVmaW5lIFNUQU5EQVJECnZhcnlpbmcgdmVjMyB2Vmlld1Bvc2l0aW9uOwojaWZkZWYgVVNFX1RSQU5TTUlTU0lPTgoJdmFyeWluZyB2ZWMzIHZXb3JsZFBvc2l0aW9uOwojZW5kaWYKI2luY2x1ZGUgPGNvbW1vbj4KI2luY2x1ZGUgPHV2X3BhcnNfdmVydGV4PgojaW5jbHVkZSA8dXYyX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8ZGlzcGxhY2VtZW50bWFwX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8Y29sb3JfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxmb2dfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxub3JtYWxfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxtb3JwaHRhcmdldF9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPHNraW5uaW5nX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8c2hhZG93bWFwX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+CnZvaWQgbWFpbigpIHsKCSNpbmNsdWRlIDx1dl92ZXJ0ZXg+CgkjaW5jbHVkZSA8dXYyX3ZlcnRleD4KCSNpbmNsdWRlIDxjb2xvcl92ZXJ0ZXg+CgkjaW5jbHVkZSA8bW9ycGhjb2xvcl92ZXJ0ZXg+CgkjaW5jbHVkZSA8YmVnaW5ub3JtYWxfdmVydGV4PgoJI2luY2x1ZGUgPG1vcnBobm9ybWFsX3ZlcnRleD4KCSNpbmNsdWRlIDxza2luYmFzZV92ZXJ0ZXg+CgkjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+CgkjaW5jbHVkZSA8ZGVmYXVsdG5vcm1hbF92ZXJ0ZXg+CgkjaW5jbHVkZSA8bm9ybWFsX3ZlcnRleD4KCSNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+CgkjaW5jbHVkZSA8bW9ycGh0YXJnZXRfdmVydGV4PgoJI2luY2x1ZGUgPHNraW5uaW5nX3ZlcnRleD4KCSNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfdmVydGV4PgoJI2luY2x1ZGUgPHByb2plY3RfdmVydGV4PgoJI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3ZlcnRleD4KCSNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PgoJdlZpZXdQb3NpdGlvbiA9IC0gbXZQb3NpdGlvbi54eXo7CgkjaW5jbHVkZSA8d29ybGRwb3NfdmVydGV4PgoJI2luY2x1ZGUgPHNoYWRvd21hcF92ZXJ0ZXg+CgkjaW5jbHVkZSA8Zm9nX3ZlcnRleD4KI2lmZGVmIFVTRV9UUkFOU01JU1NJT04KCXZXb3JsZFBvc2l0aW9uID0gd29ybGRQb3NpdGlvbi54eXo7CiNlbmRpZgp9YCxEeD1gI2RlZmluZSBTVEFOREFSRAojaWZkZWYgUEhZU0lDQUwKCSNkZWZpbmUgSU9SCgkjZGVmaW5lIFNQRUNVTEFSCiNlbmRpZgp1bmlmb3JtIHZlYzMgZGlmZnVzZTsKdW5pZm9ybSB2ZWMzIGVtaXNzaXZlOwp1bmlmb3JtIGZsb2F0IHJvdWdobmVzczsKdW5pZm9ybSBmbG9hdCBtZXRhbG5lc3M7CnVuaWZvcm0gZmxvYXQgb3BhY2l0eTsKI2lmZGVmIElPUgoJdW5pZm9ybSBmbG9hdCBpb3I7CiNlbmRpZgojaWZkZWYgU1BFQ1VMQVIKCXVuaWZvcm0gZmxvYXQgc3BlY3VsYXJJbnRlbnNpdHk7Cgl1bmlmb3JtIHZlYzMgc3BlY3VsYXJDb2xvcjsKCSNpZmRlZiBVU0VfU1BFQ1VMQVJJTlRFTlNJVFlNQVAKCQl1bmlmb3JtIHNhbXBsZXIyRCBzcGVjdWxhckludGVuc2l0eU1hcDsKCSNlbmRpZgoJI2lmZGVmIFVTRV9TUEVDVUxBUkNPTE9STUFQCgkJdW5pZm9ybSBzYW1wbGVyMkQgc3BlY3VsYXJDb2xvck1hcDsKCSNlbmRpZgojZW5kaWYKI2lmZGVmIFVTRV9DTEVBUkNPQVQKCXVuaWZvcm0gZmxvYXQgY2xlYXJjb2F0OwoJdW5pZm9ybSBmbG9hdCBjbGVhcmNvYXRSb3VnaG5lc3M7CiNlbmRpZgojaWZkZWYgVVNFX1NIRUVOCgl1bmlmb3JtIHZlYzMgc2hlZW5Db2xvcjsKCXVuaWZvcm0gZmxvYXQgc2hlZW5Sb3VnaG5lc3M7CgkjaWZkZWYgVVNFX1NIRUVOQ09MT1JNQVAKCQl1bmlmb3JtIHNhbXBsZXIyRCBzaGVlbkNvbG9yTWFwOwoJI2VuZGlmCgkjaWZkZWYgVVNFX1NIRUVOUk9VR0hORVNTTUFQCgkJdW5pZm9ybSBzYW1wbGVyMkQgc2hlZW5Sb3VnaG5lc3NNYXA7CgkjZW5kaWYKI2VuZGlmCnZhcnlpbmcgdmVjMyB2Vmlld1Bvc2l0aW9uOwojaW5jbHVkZSA8Y29tbW9uPgojaW5jbHVkZSA8cGFja2luZz4KI2luY2x1ZGUgPGRpdGhlcmluZ19wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8Y29sb3JfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPHV2X3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDx1djJfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPG1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8YWxwaGFtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGFscGhhdGVzdF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8YW9tYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGxpZ2h0bWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxlbWlzc2l2ZW1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8YnNkZnM+CiNpbmNsdWRlIDxjdWJlX3V2X3JlZmxlY3Rpb25fZnJhZ21lbnQ+CiNpbmNsdWRlIDxlbnZtYXBfY29tbW9uX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxlbnZtYXBfcGh5c2ljYWxfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGZvZ19wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8bGlnaHRzX3BhcnNfYmVnaW4+CiNpbmNsdWRlIDxub3JtYWxfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGxpZ2h0c19waHlzaWNhbF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8dHJhbnNtaXNzaW9uX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxzaGFkb3dtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGJ1bXBtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPG5vcm1hbG1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8Y2xlYXJjb2F0X3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxyb3VnaG5lc3NtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPG1ldGFsbmVzc21hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX2ZyYWdtZW50Pgp2b2lkIG1haW4oKSB7CgkjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX2ZyYWdtZW50PgoJdmVjNCBkaWZmdXNlQ29sb3IgPSB2ZWM0KCBkaWZmdXNlLCBvcGFjaXR5ICk7CglSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCA9IFJlZmxlY3RlZExpZ2h0KCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICksIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSApOwoJdmVjMyB0b3RhbEVtaXNzaXZlUmFkaWFuY2UgPSBlbWlzc2l2ZTsKCSNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9mcmFnbWVudD4KCSNpbmNsdWRlIDxtYXBfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8Y29sb3JfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8YWxwaGFtYXBfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8YWxwaGF0ZXN0X2ZyYWdtZW50PgoJI2luY2x1ZGUgPHJvdWdobmVzc21hcF9mcmFnbWVudD4KCSNpbmNsdWRlIDxtZXRhbG5lc3NtYXBfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8bm9ybWFsX2ZyYWdtZW50X2JlZ2luPgoJI2luY2x1ZGUgPG5vcm1hbF9mcmFnbWVudF9tYXBzPgoJI2luY2x1ZGUgPGNsZWFyY29hdF9ub3JtYWxfZnJhZ21lbnRfYmVnaW4+CgkjaW5jbHVkZSA8Y2xlYXJjb2F0X25vcm1hbF9mcmFnbWVudF9tYXBzPgoJI2luY2x1ZGUgPGVtaXNzaXZlbWFwX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGxpZ2h0c19waHlzaWNhbF9mcmFnbWVudD4KCSNpbmNsdWRlIDxsaWdodHNfZnJhZ21lbnRfYmVnaW4+CgkjaW5jbHVkZSA8bGlnaHRzX2ZyYWdtZW50X21hcHM+CgkjaW5jbHVkZSA8bGlnaHRzX2ZyYWdtZW50X2VuZD4KCSNpbmNsdWRlIDxhb21hcF9mcmFnbWVudD4KCXZlYzMgdG90YWxEaWZmdXNlID0gcmVmbGVjdGVkTGlnaHQuZGlyZWN0RGlmZnVzZSArIHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZTsKCXZlYzMgdG90YWxTcGVjdWxhciA9IHJlZmxlY3RlZExpZ2h0LmRpcmVjdFNwZWN1bGFyICsgcmVmbGVjdGVkTGlnaHQuaW5kaXJlY3RTcGVjdWxhcjsKCSNpbmNsdWRlIDx0cmFuc21pc3Npb25fZnJhZ21lbnQ+Cgl2ZWMzIG91dGdvaW5nTGlnaHQgPSB0b3RhbERpZmZ1c2UgKyB0b3RhbFNwZWN1bGFyICsgdG90YWxFbWlzc2l2ZVJhZGlhbmNlOwoJI2lmZGVmIFVTRV9TSEVFTgoJCWZsb2F0IHNoZWVuRW5lcmd5Q29tcCA9IDEuMCAtIDAuMTU3ICogbWF4MyggbWF0ZXJpYWwuc2hlZW5Db2xvciApOwoJCW91dGdvaW5nTGlnaHQgPSBvdXRnb2luZ0xpZ2h0ICogc2hlZW5FbmVyZ3lDb21wICsgc2hlZW5TcGVjdWxhcjsKCSNlbmRpZgoJI2lmZGVmIFVTRV9DTEVBUkNPQVQKCQlmbG9hdCBkb3ROVmNjID0gc2F0dXJhdGUoIGRvdCggZ2VvbWV0cnkuY2xlYXJjb2F0Tm9ybWFsLCBnZW9tZXRyeS52aWV3RGlyICkgKTsKCQl2ZWMzIEZjYyA9IEZfU2NobGljayggbWF0ZXJpYWwuY2xlYXJjb2F0RjAsIG1hdGVyaWFsLmNsZWFyY29hdEY5MCwgZG90TlZjYyApOwoJCW91dGdvaW5nTGlnaHQgPSBvdXRnb2luZ0xpZ2h0ICogKCAxLjAgLSBtYXRlcmlhbC5jbGVhcmNvYXQgKiBGY2MgKSArIGNsZWFyY29hdFNwZWN1bGFyICogbWF0ZXJpYWwuY2xlYXJjb2F0OwoJI2VuZGlmCgkjaW5jbHVkZSA8b3V0cHV0X2ZyYWdtZW50PgoJI2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGVuY29kaW5nc19mcmFnbWVudD4KCSNpbmNsdWRlIDxmb2dfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8cHJlbXVsdGlwbGllZF9hbHBoYV9mcmFnbWVudD4KCSNpbmNsdWRlIDxkaXRoZXJpbmdfZnJhZ21lbnQ+Cn1gLE94PWAjZGVmaW5lIFRPT04KdmFyeWluZyB2ZWMzIHZWaWV3UG9zaXRpb247CiNpbmNsdWRlIDxjb21tb24+CiNpbmNsdWRlIDx1dl9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPHV2Ml9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPGNvbG9yX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8Zm9nX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8bm9ybWFsX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8bW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxza2lubmluZ19wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPHNoYWRvd21hcF9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfdmVydGV4Pgp2b2lkIG1haW4oKSB7CgkjaW5jbHVkZSA8dXZfdmVydGV4PgoJI2luY2x1ZGUgPHV2Ml92ZXJ0ZXg+CgkjaW5jbHVkZSA8Y29sb3JfdmVydGV4PgoJI2luY2x1ZGUgPG1vcnBoY29sb3JfdmVydGV4PgoJI2luY2x1ZGUgPGJlZ2lubm9ybWFsX3ZlcnRleD4KCSNpbmNsdWRlIDxtb3JwaG5vcm1hbF92ZXJ0ZXg+CgkjaW5jbHVkZSA8c2tpbmJhc2VfdmVydGV4PgoJI2luY2x1ZGUgPHNraW5ub3JtYWxfdmVydGV4PgoJI2luY2x1ZGUgPGRlZmF1bHRub3JtYWxfdmVydGV4PgoJI2luY2x1ZGUgPG5vcm1hbF92ZXJ0ZXg+CgkjaW5jbHVkZSA8YmVnaW5fdmVydGV4PgoJI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3ZlcnRleD4KCSNpbmNsdWRlIDxza2lubmluZ192ZXJ0ZXg+CgkjaW5jbHVkZSA8ZGlzcGxhY2VtZW50bWFwX3ZlcnRleD4KCSNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD4KCSNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl92ZXJ0ZXg+CgkjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3ZlcnRleD4KCXZWaWV3UG9zaXRpb24gPSAtIG12UG9zaXRpb24ueHl6OwoJI2luY2x1ZGUgPHdvcmxkcG9zX3ZlcnRleD4KCSNpbmNsdWRlIDxzaGFkb3dtYXBfdmVydGV4PgoJI2luY2x1ZGUgPGZvZ192ZXJ0ZXg+Cn1gLHp4PWAjZGVmaW5lIFRPT04KdW5pZm9ybSB2ZWMzIGRpZmZ1c2U7CnVuaWZvcm0gdmVjMyBlbWlzc2l2ZTsKdW5pZm9ybSBmbG9hdCBvcGFjaXR5OwojaW5jbHVkZSA8Y29tbW9uPgojaW5jbHVkZSA8cGFja2luZz4KI2luY2x1ZGUgPGRpdGhlcmluZ19wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8Y29sb3JfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPHV2X3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDx1djJfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPG1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8YWxwaGFtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGFscGhhdGVzdF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8YW9tYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGxpZ2h0bWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxlbWlzc2l2ZW1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8Z3JhZGllbnRtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGZvZ19wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8YnNkZnM+CiNpbmNsdWRlIDxsaWdodHNfcGFyc19iZWdpbj4KI2luY2x1ZGUgPG5vcm1hbF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8bGlnaHRzX3Rvb25fcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPHNoYWRvd21hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8YnVtcG1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8bm9ybWFsbWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQ+CnZvaWQgbWFpbigpIHsKCSNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfZnJhZ21lbnQ+Cgl2ZWM0IGRpZmZ1c2VDb2xvciA9IHZlYzQoIGRpZmZ1c2UsIG9wYWNpdHkgKTsKCVJlZmxlY3RlZExpZ2h0IHJlZmxlY3RlZExpZ2h0ID0gUmVmbGVjdGVkTGlnaHQoIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICksIHZlYzMoIDAuMCApICk7Cgl2ZWMzIHRvdGFsRW1pc3NpdmVSYWRpYW5jZSA9IGVtaXNzaXZlOwoJI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX2ZyYWdtZW50PgoJI2luY2x1ZGUgPG1hcF9mcmFnbWVudD4KCSNpbmNsdWRlIDxjb2xvcl9mcmFnbWVudD4KCSNpbmNsdWRlIDxhbHBoYW1hcF9mcmFnbWVudD4KCSNpbmNsdWRlIDxhbHBoYXRlc3RfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8bm9ybWFsX2ZyYWdtZW50X2JlZ2luPgoJI2luY2x1ZGUgPG5vcm1hbF9mcmFnbWVudF9tYXBzPgoJI2luY2x1ZGUgPGVtaXNzaXZlbWFwX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGxpZ2h0c190b29uX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGxpZ2h0c19mcmFnbWVudF9iZWdpbj4KCSNpbmNsdWRlIDxsaWdodHNfZnJhZ21lbnRfbWFwcz4KCSNpbmNsdWRlIDxsaWdodHNfZnJhZ21lbnRfZW5kPgoJI2luY2x1ZGUgPGFvbWFwX2ZyYWdtZW50PgoJdmVjMyBvdXRnb2luZ0xpZ2h0ID0gcmVmbGVjdGVkTGlnaHQuZGlyZWN0RGlmZnVzZSArIHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArIHRvdGFsRW1pc3NpdmVSYWRpYW5jZTsKCSNpbmNsdWRlIDxvdXRwdXRfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8dG9uZW1hcHBpbmdfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8ZW5jb2RpbmdzX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGZvZ19mcmFnbWVudD4KCSNpbmNsdWRlIDxwcmVtdWx0aXBsaWVkX2FscGhhX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGRpdGhlcmluZ19mcmFnbWVudD4KfWAsQng9YHVuaWZvcm0gZmxvYXQgc2l6ZTsKdW5pZm9ybSBmbG9hdCBzY2FsZTsKI2luY2x1ZGUgPGNvbW1vbj4KI2luY2x1ZGUgPGNvbG9yX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8Zm9nX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8bW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD4Kdm9pZCBtYWluKCkgewoJI2luY2x1ZGUgPGNvbG9yX3ZlcnRleD4KCSNpbmNsdWRlIDxtb3JwaGNvbG9yX3ZlcnRleD4KCSNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+CgkjaW5jbHVkZSA8bW9ycGh0YXJnZXRfdmVydGV4PgoJI2luY2x1ZGUgPHByb2plY3RfdmVydGV4PgoJZ2xfUG9pbnRTaXplID0gc2l6ZTsKCSNpZmRlZiBVU0VfU0laRUFUVEVOVUFUSU9OCgkJYm9vbCBpc1BlcnNwZWN0aXZlID0gaXNQZXJzcGVjdGl2ZU1hdHJpeCggcHJvamVjdGlvbk1hdHJpeCApOwoJCWlmICggaXNQZXJzcGVjdGl2ZSApIGdsX1BvaW50U2l6ZSAqPSAoIHNjYWxlIC8gLSBtdlBvc2l0aW9uLnogKTsKCSNlbmRpZgoJI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3ZlcnRleD4KCSNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PgoJI2luY2x1ZGUgPHdvcmxkcG9zX3ZlcnRleD4KCSNpbmNsdWRlIDxmb2dfdmVydGV4Pgp9YCxVeD1gdW5pZm9ybSB2ZWMzIGRpZmZ1c2U7CnVuaWZvcm0gZmxvYXQgb3BhY2l0eTsKI2luY2x1ZGUgPGNvbW1vbj4KI2luY2x1ZGUgPGNvbG9yX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxtYXBfcGFydGljbGVfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGFscGhhdGVzdF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8Zm9nX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQ+CnZvaWQgbWFpbigpIHsKCSNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfZnJhZ21lbnQ+Cgl2ZWMzIG91dGdvaW5nTGlnaHQgPSB2ZWMzKCAwLjAgKTsKCXZlYzQgZGlmZnVzZUNvbG9yID0gdmVjNCggZGlmZnVzZSwgb3BhY2l0eSApOwoJI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX2ZyYWdtZW50PgoJI2luY2x1ZGUgPG1hcF9wYXJ0aWNsZV9mcmFnbWVudD4KCSNpbmNsdWRlIDxjb2xvcl9mcmFnbWVudD4KCSNpbmNsdWRlIDxhbHBoYXRlc3RfZnJhZ21lbnQ+CglvdXRnb2luZ0xpZ2h0ID0gZGlmZnVzZUNvbG9yLnJnYjsKCSNpbmNsdWRlIDxvdXRwdXRfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8dG9uZW1hcHBpbmdfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8ZW5jb2RpbmdzX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGZvZ19mcmFnbWVudD4KCSNpbmNsdWRlIDxwcmVtdWx0aXBsaWVkX2FscGhhX2ZyYWdtZW50Pgp9YCxGeD1gI2luY2x1ZGUgPGNvbW1vbj4KI2luY2x1ZGUgPGZvZ19wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3BhcnNfdmVydGV4PgojaW5jbHVkZSA8c2tpbm5pbmdfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxzaGFkb3dtYXBfcGFyc192ZXJ0ZXg+CnZvaWQgbWFpbigpIHsKCSNpbmNsdWRlIDxiZWdpbm5vcm1hbF92ZXJ0ZXg+CgkjaW5jbHVkZSA8bW9ycGhub3JtYWxfdmVydGV4PgoJI2luY2x1ZGUgPHNraW5iYXNlX3ZlcnRleD4KCSNpbmNsdWRlIDxza2lubm9ybWFsX3ZlcnRleD4KCSNpbmNsdWRlIDxkZWZhdWx0bm9ybWFsX3ZlcnRleD4KCSNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+CgkjaW5jbHVkZSA8bW9ycGh0YXJnZXRfdmVydGV4PgoJI2luY2x1ZGUgPHNraW5uaW5nX3ZlcnRleD4KCSNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD4KCSNpbmNsdWRlIDx3b3JsZHBvc192ZXJ0ZXg+CgkjaW5jbHVkZSA8c2hhZG93bWFwX3ZlcnRleD4KCSNpbmNsdWRlIDxmb2dfdmVydGV4Pgp9YCxIeD1gdW5pZm9ybSB2ZWMzIGNvbG9yOwp1bmlmb3JtIGZsb2F0IG9wYWNpdHk7CiNpbmNsdWRlIDxjb21tb24+CiNpbmNsdWRlIDxwYWNraW5nPgojaW5jbHVkZSA8Zm9nX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxic2Rmcz4KI2luY2x1ZGUgPGxpZ2h0c19wYXJzX2JlZ2luPgojaW5jbHVkZSA8c2hhZG93bWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxzaGFkb3dtYXNrX3BhcnNfZnJhZ21lbnQ+CnZvaWQgbWFpbigpIHsKCWdsX0ZyYWdDb2xvciA9IHZlYzQoIGNvbG9yLCBvcGFjaXR5ICogKCAxLjAgLSBnZXRTaGFkb3dNYXNrKCkgKSApOwoJI2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGVuY29kaW5nc19mcmFnbWVudD4KCSNpbmNsdWRlIDxmb2dfZnJhZ21lbnQ+Cn1gLGt4PWB1bmlmb3JtIGZsb2F0IHJvdGF0aW9uOwp1bmlmb3JtIHZlYzIgY2VudGVyOwojaW5jbHVkZSA8Y29tbW9uPgojaW5jbHVkZSA8dXZfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxmb2dfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD4Kdm9pZCBtYWluKCkgewoJI2luY2x1ZGUgPHV2X3ZlcnRleD4KCXZlYzQgbXZQb3NpdGlvbiA9IG1vZGVsVmlld01hdHJpeCAqIHZlYzQoIDAuMCwgMC4wLCAwLjAsIDEuMCApOwoJdmVjMiBzY2FsZTsKCXNjYWxlLnggPSBsZW5ndGgoIHZlYzMoIG1vZGVsTWF0cml4WyAwIF0ueCwgbW9kZWxNYXRyaXhbIDAgXS55LCBtb2RlbE1hdHJpeFsgMCBdLnogKSApOwoJc2NhbGUueSA9IGxlbmd0aCggdmVjMyggbW9kZWxNYXRyaXhbIDEgXS54LCBtb2RlbE1hdHJpeFsgMSBdLnksIG1vZGVsTWF0cml4WyAxIF0ueiApICk7CgkjaWZuZGVmIFVTRV9TSVpFQVRURU5VQVRJT04KCQlib29sIGlzUGVyc3BlY3RpdmUgPSBpc1BlcnNwZWN0aXZlTWF0cml4KCBwcm9qZWN0aW9uTWF0cml4ICk7CgkJaWYgKCBpc1BlcnNwZWN0aXZlICkgc2NhbGUgKj0gLSBtdlBvc2l0aW9uLno7CgkjZW5kaWYKCXZlYzIgYWxpZ25lZFBvc2l0aW9uID0gKCBwb3NpdGlvbi54eSAtICggY2VudGVyIC0gdmVjMiggMC41ICkgKSApICogc2NhbGU7Cgl2ZWMyIHJvdGF0ZWRQb3NpdGlvbjsKCXJvdGF0ZWRQb3NpdGlvbi54ID0gY29zKCByb3RhdGlvbiApICogYWxpZ25lZFBvc2l0aW9uLnggLSBzaW4oIHJvdGF0aW9uICkgKiBhbGlnbmVkUG9zaXRpb24ueTsKCXJvdGF0ZWRQb3NpdGlvbi55ID0gc2luKCByb3RhdGlvbiApICogYWxpZ25lZFBvc2l0aW9uLnggKyBjb3MoIHJvdGF0aW9uICkgKiBhbGlnbmVkUG9zaXRpb24ueTsKCW12UG9zaXRpb24ueHkgKz0gcm90YXRlZFBvc2l0aW9uOwoJZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbXZQb3NpdGlvbjsKCSNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl92ZXJ0ZXg+CgkjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3ZlcnRleD4KCSNpbmNsdWRlIDxmb2dfdmVydGV4Pgp9YCxHeD1gdW5pZm9ybSB2ZWMzIGRpZmZ1c2U7CnVuaWZvcm0gZmxvYXQgb3BhY2l0eTsKI2luY2x1ZGUgPGNvbW1vbj4KI2luY2x1ZGUgPHV2X3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGFscGhhbWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxhbHBoYXRlc3RfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGZvZ19wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX2ZyYWdtZW50Pgp2b2lkIG1haW4oKSB7CgkjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX2ZyYWdtZW50PgoJdmVjMyBvdXRnb2luZ0xpZ2h0ID0gdmVjMyggMC4wICk7Cgl2ZWM0IGRpZmZ1c2VDb2xvciA9IHZlYzQoIGRpZmZ1c2UsIG9wYWNpdHkgKTsKCSNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9mcmFnbWVudD4KCSNpbmNsdWRlIDxtYXBfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8YWxwaGFtYXBfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8YWxwaGF0ZXN0X2ZyYWdtZW50PgoJb3V0Z29pbmdMaWdodCA9IGRpZmZ1c2VDb2xvci5yZ2I7CgkjaW5jbHVkZSA8b3V0cHV0X2ZyYWdtZW50PgoJI2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGVuY29kaW5nc19mcmFnbWVudD4KCSNpbmNsdWRlIDxmb2dfZnJhZ21lbnQ+Cn1gLERlPXthbHBoYW1hcF9mcmFnbWVudDpnMCxhbHBoYW1hcF9wYXJzX2ZyYWdtZW50OnYwLGFscGhhdGVzdF9mcmFnbWVudDp4MCxhbHBoYXRlc3RfcGFyc19mcmFnbWVudDpfMCxhb21hcF9mcmFnbWVudDp5MCxhb21hcF9wYXJzX2ZyYWdtZW50Ok0wLGJlZ2luX3ZlcnRleDpiMCxiZWdpbm5vcm1hbF92ZXJ0ZXg6dzAsYnNkZnM6UzAsYnVtcG1hcF9wYXJzX2ZyYWdtZW50OkUwLGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudDpUMCxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudDpBMCxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg6QzAsY2xpcHBpbmdfcGxhbmVzX3ZlcnRleDpMMCxjb2xvcl9mcmFnbWVudDpSMCxjb2xvcl9wYXJzX2ZyYWdtZW50OlAwLGNvbG9yX3BhcnNfdmVydGV4OkkwLGNvbG9yX3ZlcnRleDpOMCxjb21tb246RDAsY3ViZV91dl9yZWZsZWN0aW9uX2ZyYWdtZW50Ok8wLGRlZmF1bHRub3JtYWxfdmVydGV4OnowLGRpc3BsYWNlbWVudG1hcF9wYXJzX3ZlcnRleDpCMCxkaXNwbGFjZW1lbnRtYXBfdmVydGV4OlUwLGVtaXNzaXZlbWFwX2ZyYWdtZW50OkYwLGVtaXNzaXZlbWFwX3BhcnNfZnJhZ21lbnQ6SDAsZW5jb2RpbmdzX2ZyYWdtZW50OmswLGVuY29kaW5nc19wYXJzX2ZyYWdtZW50OkcwLGVudm1hcF9mcmFnbWVudDpWMCxlbnZtYXBfY29tbW9uX3BhcnNfZnJhZ21lbnQ6VzAsZW52bWFwX3BhcnNfZnJhZ21lbnQ6ajAsZW52bWFwX3BhcnNfdmVydGV4OnEwLGVudm1hcF9waHlzaWNhbF9wYXJzX2ZyYWdtZW50OnJ2LGVudm1hcF92ZXJ0ZXg6WDAsZm9nX3ZlcnRleDpKMCxmb2dfcGFyc192ZXJ0ZXg6WTAsZm9nX2ZyYWdtZW50OlowLGZvZ19wYXJzX2ZyYWdtZW50OkswLGdyYWRpZW50bWFwX3BhcnNfZnJhZ21lbnQ6UTAsbGlnaHRtYXBfZnJhZ21lbnQ6JDAsbGlnaHRtYXBfcGFyc19mcmFnbWVudDpldixsaWdodHNfbGFtYmVydF92ZXJ0ZXg6dHYsbGlnaHRzX3BhcnNfYmVnaW46aXYsbGlnaHRzX3Rvb25fZnJhZ21lbnQ6c3YsbGlnaHRzX3Rvb25fcGFyc19mcmFnbWVudDphdixsaWdodHNfcGhvbmdfZnJhZ21lbnQ6bnYsbGlnaHRzX3Bob25nX3BhcnNfZnJhZ21lbnQ6b3YsbGlnaHRzX3BoeXNpY2FsX2ZyYWdtZW50Omh2LGxpZ2h0c19waHlzaWNhbF9wYXJzX2ZyYWdtZW50Omx2LGxpZ2h0c19mcmFnbWVudF9iZWdpbjpjdixsaWdodHNfZnJhZ21lbnRfbWFwczp1dixsaWdodHNfZnJhZ21lbnRfZW5kOmR2LGxvZ2RlcHRoYnVmX2ZyYWdtZW50OnB2LGxvZ2RlcHRoYnVmX3BhcnNfZnJhZ21lbnQ6ZnYsbG9nZGVwdGhidWZfcGFyc192ZXJ0ZXg6bXYsbG9nZGVwdGhidWZfdmVydGV4Omd2LG1hcF9mcmFnbWVudDp2dixtYXBfcGFyc19mcmFnbWVudDp4dixtYXBfcGFydGljbGVfZnJhZ21lbnQ6X3YsbWFwX3BhcnRpY2xlX3BhcnNfZnJhZ21lbnQ6eXYsbWV0YWxuZXNzbWFwX2ZyYWdtZW50Ok12LG1ldGFsbmVzc21hcF9wYXJzX2ZyYWdtZW50OmJ2LG1vcnBoY29sb3JfdmVydGV4Ond2LG1vcnBobm9ybWFsX3ZlcnRleDpTdixtb3JwaHRhcmdldF9wYXJzX3ZlcnRleDpFdixtb3JwaHRhcmdldF92ZXJ0ZXg6VHYsbm9ybWFsX2ZyYWdtZW50X2JlZ2luOkF2LG5vcm1hbF9mcmFnbWVudF9tYXBzOkN2LG5vcm1hbF9wYXJzX2ZyYWdtZW50Okx2LG5vcm1hbF9wYXJzX3ZlcnRleDpSdixub3JtYWxfdmVydGV4OlB2LG5vcm1hbG1hcF9wYXJzX2ZyYWdtZW50Okl2LGNsZWFyY29hdF9ub3JtYWxfZnJhZ21lbnRfYmVnaW46TnYsY2xlYXJjb2F0X25vcm1hbF9mcmFnbWVudF9tYXBzOkR2LGNsZWFyY29hdF9wYXJzX2ZyYWdtZW50Ok92LG91dHB1dF9mcmFnbWVudDp6dixwYWNraW5nOkJ2LHByZW11bHRpcGxpZWRfYWxwaGFfZnJhZ21lbnQ6VXYscHJvamVjdF92ZXJ0ZXg6RnYsZGl0aGVyaW5nX2ZyYWdtZW50Okh2LGRpdGhlcmluZ19wYXJzX2ZyYWdtZW50Omt2LHJvdWdobmVzc21hcF9mcmFnbWVudDpHdixyb3VnaG5lc3NtYXBfcGFyc19mcmFnbWVudDpWdixzaGFkb3dtYXBfcGFyc19mcmFnbWVudDpXdixzaGFkb3dtYXBfcGFyc192ZXJ0ZXg6anYsc2hhZG93bWFwX3ZlcnRleDpxdixzaGFkb3dtYXNrX3BhcnNfZnJhZ21lbnQ6WHYsc2tpbmJhc2VfdmVydGV4Okp2LHNraW5uaW5nX3BhcnNfdmVydGV4Oll2LHNraW5uaW5nX3ZlcnRleDpadixza2lubm9ybWFsX3ZlcnRleDpLdixzcGVjdWxhcm1hcF9mcmFnbWVudDpRdixzcGVjdWxhcm1hcF9wYXJzX2ZyYWdtZW50OiR2LHRvbmVtYXBwaW5nX2ZyYWdtZW50OmV4LHRvbmVtYXBwaW5nX3BhcnNfZnJhZ21lbnQ6dHgsdHJhbnNtaXNzaW9uX2ZyYWdtZW50Oml4LHRyYW5zbWlzc2lvbl9wYXJzX2ZyYWdtZW50OnJ4LHV2X3BhcnNfZnJhZ21lbnQ6c3gsdXZfcGFyc192ZXJ0ZXg6YXgsdXZfdmVydGV4Om54LHV2Ml9wYXJzX2ZyYWdtZW50Om94LHV2Ml9wYXJzX3ZlcnRleDpoeCx1djJfdmVydGV4Omx4LHdvcmxkcG9zX3ZlcnRleDpjeCxiYWNrZ3JvdW5kX3ZlcnQ6dXgsYmFja2dyb3VuZF9mcmFnOmR4LGN1YmVfdmVydDpweCxjdWJlX2ZyYWc6ZngsZGVwdGhfdmVydDpteCxkZXB0aF9mcmFnOmd4LGRpc3RhbmNlUkdCQV92ZXJ0OnZ4LGRpc3RhbmNlUkdCQV9mcmFnOnh4LGVxdWlyZWN0X3ZlcnQ6X3gsZXF1aXJlY3RfZnJhZzp5eCxsaW5lZGFzaGVkX3ZlcnQ6TXgsbGluZWRhc2hlZF9mcmFnOmJ4LG1lc2hiYXNpY192ZXJ0Ond4LG1lc2hiYXNpY19mcmFnOlN4LG1lc2hsYW1iZXJ0X3ZlcnQ6RXgsbWVzaGxhbWJlcnRfZnJhZzpUeCxtZXNobWF0Y2FwX3ZlcnQ6QXgsbWVzaG1hdGNhcF9mcmFnOkN4LG1lc2hub3JtYWxfdmVydDpMeCxtZXNobm9ybWFsX2ZyYWc6UngsbWVzaHBob25nX3ZlcnQ6UHgsbWVzaHBob25nX2ZyYWc6SXgsbWVzaHBoeXNpY2FsX3ZlcnQ6TngsbWVzaHBoeXNpY2FsX2ZyYWc6RHgsbWVzaHRvb25fdmVydDpPeCxtZXNodG9vbl9mcmFnOnp4LHBvaW50c192ZXJ0OkJ4LHBvaW50c19mcmFnOlV4LHNoYWRvd192ZXJ0OkZ4LHNoYWRvd19mcmFnOkh4LHNwcml0ZV92ZXJ0Omt4LHNwcml0ZV9mcmFnOkd4fSxvZT17Y29tbW9uOntkaWZmdXNlOnt2YWx1ZTpuZXcgZ2UoMTY3NzcyMTUpfSxvcGFjaXR5Ont2YWx1ZToxfSxtYXA6e3ZhbHVlOm51bGx9LHV2VHJhbnNmb3JtOnt2YWx1ZTpuZXcgeHR9LHV2MlRyYW5zZm9ybTp7dmFsdWU6bmV3IHh0fSxhbHBoYU1hcDp7dmFsdWU6bnVsbH0sYWxwaGFUZXN0Ont2YWx1ZTowfX0sc3BlY3VsYXJtYXA6e3NwZWN1bGFyTWFwOnt2YWx1ZTpudWxsfX0sZW52bWFwOntlbnZNYXA6e3ZhbHVlOm51bGx9LGZsaXBFbnZNYXA6e3ZhbHVlOi0xfSxyZWZsZWN0aXZpdHk6e3ZhbHVlOjF9LGlvcjp7dmFsdWU6MS41fSxyZWZyYWN0aW9uUmF0aW86e3ZhbHVlOi45OH19LGFvbWFwOnthb01hcDp7dmFsdWU6bnVsbH0sYW9NYXBJbnRlbnNpdHk6e3ZhbHVlOjF9fSxsaWdodG1hcDp7bGlnaHRNYXA6e3ZhbHVlOm51bGx9LGxpZ2h0TWFwSW50ZW5zaXR5Ont2YWx1ZToxfX0sZW1pc3NpdmVtYXA6e2VtaXNzaXZlTWFwOnt2YWx1ZTpudWxsfX0sYnVtcG1hcDp7YnVtcE1hcDp7dmFsdWU6bnVsbH0sYnVtcFNjYWxlOnt2YWx1ZToxfX0sbm9ybWFsbWFwOntub3JtYWxNYXA6e3ZhbHVlOm51bGx9LG5vcm1hbFNjYWxlOnt2YWx1ZTpuZXcgZWUoMSwxKX19LGRpc3BsYWNlbWVudG1hcDp7ZGlzcGxhY2VtZW50TWFwOnt2YWx1ZTpudWxsfSxkaXNwbGFjZW1lbnRTY2FsZTp7dmFsdWU6MX0sZGlzcGxhY2VtZW50Qmlhczp7dmFsdWU6MH19LHJvdWdobmVzc21hcDp7cm91Z2huZXNzTWFwOnt2YWx1ZTpudWxsfX0sbWV0YWxuZXNzbWFwOnttZXRhbG5lc3NNYXA6e3ZhbHVlOm51bGx9fSxncmFkaWVudG1hcDp7Z3JhZGllbnRNYXA6e3ZhbHVlOm51bGx9fSxmb2c6e2ZvZ0RlbnNpdHk6e3ZhbHVlOjI1ZS01fSxmb2dOZWFyOnt2YWx1ZToxfSxmb2dGYXI6e3ZhbHVlOjJlM30sZm9nQ29sb3I6e3ZhbHVlOm5ldyBnZSgxNjc3NzIxNSl9fSxsaWdodHM6e2FtYmllbnRMaWdodENvbG9yOnt2YWx1ZTpbXX0sbGlnaHRQcm9iZTp7dmFsdWU6W119LGRpcmVjdGlvbmFsTGlnaHRzOnt2YWx1ZTpbXSxwcm9wZXJ0aWVzOntkaXJlY3Rpb246e30sY29sb3I6e319fSxkaXJlY3Rpb25hbExpZ2h0U2hhZG93czp7dmFsdWU6W10scHJvcGVydGllczp7c2hhZG93Qmlhczp7fSxzaGFkb3dOb3JtYWxCaWFzOnt9LHNoYWRvd1JhZGl1czp7fSxzaGFkb3dNYXBTaXplOnt9fX0sZGlyZWN0aW9uYWxTaGFkb3dNYXA6e3ZhbHVlOltdfSxkaXJlY3Rpb25hbFNoYWRvd01hdHJpeDp7dmFsdWU6W119LHNwb3RMaWdodHM6e3ZhbHVlOltdLHByb3BlcnRpZXM6e2NvbG9yOnt9LHBvc2l0aW9uOnt9LGRpcmVjdGlvbjp7fSxkaXN0YW5jZTp7fSxjb25lQ29zOnt9LHBlbnVtYnJhQ29zOnt9LGRlY2F5Ont9fX0sc3BvdExpZ2h0U2hhZG93czp7dmFsdWU6W10scHJvcGVydGllczp7c2hhZG93Qmlhczp7fSxzaGFkb3dOb3JtYWxCaWFzOnt9LHNoYWRvd1JhZGl1czp7fSxzaGFkb3dNYXBTaXplOnt9fX0sc3BvdFNoYWRvd01hcDp7dmFsdWU6W119LHNwb3RTaGFkb3dNYXRyaXg6e3ZhbHVlOltdfSxwb2ludExpZ2h0czp7dmFsdWU6W10scHJvcGVydGllczp7Y29sb3I6e30scG9zaXRpb246e30sZGVjYXk6e30sZGlzdGFuY2U6e319fSxwb2ludExpZ2h0U2hhZG93czp7dmFsdWU6W10scHJvcGVydGllczp7c2hhZG93Qmlhczp7fSxzaGFkb3dOb3JtYWxCaWFzOnt9LHNoYWRvd1JhZGl1czp7fSxzaGFkb3dNYXBTaXplOnt9LHNoYWRvd0NhbWVyYU5lYXI6e30sc2hhZG93Q2FtZXJhRmFyOnt9fX0scG9pbnRTaGFkb3dNYXA6e3ZhbHVlOltdfSxwb2ludFNoYWRvd01hdHJpeDp7dmFsdWU6W119LGhlbWlzcGhlcmVMaWdodHM6e3ZhbHVlOltdLHByb3BlcnRpZXM6e2RpcmVjdGlvbjp7fSxza3lDb2xvcjp7fSxncm91bmRDb2xvcjp7fX19LHJlY3RBcmVhTGlnaHRzOnt2YWx1ZTpbXSxwcm9wZXJ0aWVzOntjb2xvcjp7fSxwb3NpdGlvbjp7fSx3aWR0aDp7fSxoZWlnaHQ6e319fSxsdGNfMTp7dmFsdWU6bnVsbH0sbHRjXzI6e3ZhbHVlOm51bGx9fSxwb2ludHM6e2RpZmZ1c2U6e3ZhbHVlOm5ldyBnZSgxNjc3NzIxNSl9LG9wYWNpdHk6e3ZhbHVlOjF9LHNpemU6e3ZhbHVlOjF9LHNjYWxlOnt2YWx1ZToxfSxtYXA6e3ZhbHVlOm51bGx9LGFscGhhTWFwOnt2YWx1ZTpudWxsfSxhbHBoYVRlc3Q6e3ZhbHVlOjB9LHV2VHJhbnNmb3JtOnt2YWx1ZTpuZXcgeHR9fSxzcHJpdGU6e2RpZmZ1c2U6e3ZhbHVlOm5ldyBnZSgxNjc3NzIxNSl9LG9wYWNpdHk6e3ZhbHVlOjF9LGNlbnRlcjp7dmFsdWU6bmV3IGVlKC41LC41KX0scm90YXRpb246e3ZhbHVlOjB9LG1hcDp7dmFsdWU6bnVsbH0sYWxwaGFNYXA6e3ZhbHVlOm51bGx9LGFscGhhVGVzdDp7dmFsdWU6MH0sdXZUcmFuc2Zvcm06e3ZhbHVlOm5ldyB4dH19fSxhaT17YmFzaWM6e3VuaWZvcm1zOk10KFtvZS5jb21tb24sb2Uuc3BlY3VsYXJtYXAsb2UuZW52bWFwLG9lLmFvbWFwLG9lLmxpZ2h0bWFwLG9lLmZvZ10pLHZlcnRleFNoYWRlcjpEZS5tZXNoYmFzaWNfdmVydCxmcmFnbWVudFNoYWRlcjpEZS5tZXNoYmFzaWNfZnJhZ30sbGFtYmVydDp7dW5pZm9ybXM6TXQoW29lLmNvbW1vbixvZS5zcGVjdWxhcm1hcCxvZS5lbnZtYXAsb2UuYW9tYXAsb2UubGlnaHRtYXAsb2UuZW1pc3NpdmVtYXAsb2UuZm9nLG9lLmxpZ2h0cyx7ZW1pc3NpdmU6e3ZhbHVlOm5ldyBnZSgwKX19XSksdmVydGV4U2hhZGVyOkRlLm1lc2hsYW1iZXJ0X3ZlcnQsZnJhZ21lbnRTaGFkZXI6RGUubWVzaGxhbWJlcnRfZnJhZ30scGhvbmc6e3VuaWZvcm1zOk10KFtvZS5jb21tb24sb2Uuc3BlY3VsYXJtYXAsb2UuZW52bWFwLG9lLmFvbWFwLG9lLmxpZ2h0bWFwLG9lLmVtaXNzaXZlbWFwLG9lLmJ1bXBtYXAsb2Uubm9ybWFsbWFwLG9lLmRpc3BsYWNlbWVudG1hcCxvZS5mb2csb2UubGlnaHRzLHtlbWlzc2l2ZTp7dmFsdWU6bmV3IGdlKDApfSxzcGVjdWxhcjp7dmFsdWU6bmV3IGdlKDExMTg0ODEpfSxzaGluaW5lc3M6e3ZhbHVlOjMwfX1dKSx2ZXJ0ZXhTaGFkZXI6RGUubWVzaHBob25nX3ZlcnQsZnJhZ21lbnRTaGFkZXI6RGUubWVzaHBob25nX2ZyYWd9LHN0YW5kYXJkOnt1bmlmb3JtczpNdChbb2UuY29tbW9uLG9lLmVudm1hcCxvZS5hb21hcCxvZS5saWdodG1hcCxvZS5lbWlzc2l2ZW1hcCxvZS5idW1wbWFwLG9lLm5vcm1hbG1hcCxvZS5kaXNwbGFjZW1lbnRtYXAsb2Uucm91Z2huZXNzbWFwLG9lLm1ldGFsbmVzc21hcCxvZS5mb2csb2UubGlnaHRzLHtlbWlzc2l2ZTp7dmFsdWU6bmV3IGdlKDApfSxyb3VnaG5lc3M6e3ZhbHVlOjF9LG1ldGFsbmVzczp7dmFsdWU6MH0sZW52TWFwSW50ZW5zaXR5Ont2YWx1ZToxfX1dKSx2ZXJ0ZXhTaGFkZXI6RGUubWVzaHBoeXNpY2FsX3ZlcnQsZnJhZ21lbnRTaGFkZXI6RGUubWVzaHBoeXNpY2FsX2ZyYWd9LHRvb246e3VuaWZvcm1zOk10KFtvZS5jb21tb24sb2UuYW9tYXAsb2UubGlnaHRtYXAsb2UuZW1pc3NpdmVtYXAsb2UuYnVtcG1hcCxvZS5ub3JtYWxtYXAsb2UuZGlzcGxhY2VtZW50bWFwLG9lLmdyYWRpZW50bWFwLG9lLmZvZyxvZS5saWdodHMse2VtaXNzaXZlOnt2YWx1ZTpuZXcgZ2UoMCl9fV0pLHZlcnRleFNoYWRlcjpEZS5tZXNodG9vbl92ZXJ0LGZyYWdtZW50U2hhZGVyOkRlLm1lc2h0b29uX2ZyYWd9LG1hdGNhcDp7dW5pZm9ybXM6TXQoW29lLmNvbW1vbixvZS5idW1wbWFwLG9lLm5vcm1hbG1hcCxvZS5kaXNwbGFjZW1lbnRtYXAsb2UuZm9nLHttYXRjYXA6e3ZhbHVlOm51bGx9fV0pLHZlcnRleFNoYWRlcjpEZS5tZXNobWF0Y2FwX3ZlcnQsZnJhZ21lbnRTaGFkZXI6RGUubWVzaG1hdGNhcF9mcmFnfSxwb2ludHM6e3VuaWZvcm1zOk10KFtvZS5wb2ludHMsb2UuZm9nXSksdmVydGV4U2hhZGVyOkRlLnBvaW50c192ZXJ0LGZyYWdtZW50U2hhZGVyOkRlLnBvaW50c19mcmFnfSxkYXNoZWQ6e3VuaWZvcm1zOk10KFtvZS5jb21tb24sb2UuZm9nLHtzY2FsZTp7dmFsdWU6MX0sZGFzaFNpemU6e3ZhbHVlOjF9LHRvdGFsU2l6ZTp7dmFsdWU6Mn19XSksdmVydGV4U2hhZGVyOkRlLmxpbmVkYXNoZWRfdmVydCxmcmFnbWVudFNoYWRlcjpEZS5saW5lZGFzaGVkX2ZyYWd9LGRlcHRoOnt1bmlmb3JtczpNdChbb2UuY29tbW9uLG9lLmRpc3BsYWNlbWVudG1hcF0pLHZlcnRleFNoYWRlcjpEZS5kZXB0aF92ZXJ0LGZyYWdtZW50U2hhZGVyOkRlLmRlcHRoX2ZyYWd9LG5vcm1hbDp7dW5pZm9ybXM6TXQoW29lLmNvbW1vbixvZS5idW1wbWFwLG9lLm5vcm1hbG1hcCxvZS5kaXNwbGFjZW1lbnRtYXAse29wYWNpdHk6e3ZhbHVlOjF9fV0pLHZlcnRleFNoYWRlcjpEZS5tZXNobm9ybWFsX3ZlcnQsZnJhZ21lbnRTaGFkZXI6RGUubWVzaG5vcm1hbF9mcmFnfSxzcHJpdGU6e3VuaWZvcm1zOk10KFtvZS5zcHJpdGUsb2UuZm9nXSksdmVydGV4U2hhZGVyOkRlLnNwcml0ZV92ZXJ0LGZyYWdtZW50U2hhZGVyOkRlLnNwcml0ZV9mcmFnfSxiYWNrZ3JvdW5kOnt1bmlmb3Jtczp7dXZUcmFuc2Zvcm06e3ZhbHVlOm5ldyB4dH0sdDJEOnt2YWx1ZTpudWxsfX0sdmVydGV4U2hhZGVyOkRlLmJhY2tncm91bmRfdmVydCxmcmFnbWVudFNoYWRlcjpEZS5iYWNrZ3JvdW5kX2ZyYWd9LGN1YmU6e3VuaWZvcm1zOk10KFtvZS5lbnZtYXAse29wYWNpdHk6e3ZhbHVlOjF9fV0pLHZlcnRleFNoYWRlcjpEZS5jdWJlX3ZlcnQsZnJhZ21lbnRTaGFkZXI6RGUuY3ViZV9mcmFnfSxlcXVpcmVjdDp7dW5pZm9ybXM6e3RFcXVpcmVjdDp7dmFsdWU6bnVsbH19LHZlcnRleFNoYWRlcjpEZS5lcXVpcmVjdF92ZXJ0LGZyYWdtZW50U2hhZGVyOkRlLmVxdWlyZWN0X2ZyYWd9LGRpc3RhbmNlUkdCQTp7dW5pZm9ybXM6TXQoW29lLmNvbW1vbixvZS5kaXNwbGFjZW1lbnRtYXAse3JlZmVyZW5jZVBvc2l0aW9uOnt2YWx1ZTpuZXcgRX0sbmVhckRpc3RhbmNlOnt2YWx1ZToxfSxmYXJEaXN0YW5jZTp7dmFsdWU6MWUzfX1dKSx2ZXJ0ZXhTaGFkZXI6RGUuZGlzdGFuY2VSR0JBX3ZlcnQsZnJhZ21lbnRTaGFkZXI6RGUuZGlzdGFuY2VSR0JBX2ZyYWd9LHNoYWRvdzp7dW5pZm9ybXM6TXQoW29lLmxpZ2h0cyxvZS5mb2cse2NvbG9yOnt2YWx1ZTpuZXcgZ2UoMCl9LG9wYWNpdHk6e3ZhbHVlOjF9fV0pLHZlcnRleFNoYWRlcjpEZS5zaGFkb3dfdmVydCxmcmFnbWVudFNoYWRlcjpEZS5zaGFkb3dfZnJhZ319O2FpLnBoeXNpY2FsPXt1bmlmb3JtczpNdChbYWkuc3RhbmRhcmQudW5pZm9ybXMse2NsZWFyY29hdDp7dmFsdWU6MH0sY2xlYXJjb2F0TWFwOnt2YWx1ZTpudWxsfSxjbGVhcmNvYXRSb3VnaG5lc3M6e3ZhbHVlOjB9LGNsZWFyY29hdFJvdWdobmVzc01hcDp7dmFsdWU6bnVsbH0sY2xlYXJjb2F0Tm9ybWFsU2NhbGU6e3ZhbHVlOm5ldyBlZSgxLDEpfSxjbGVhcmNvYXROb3JtYWxNYXA6e3ZhbHVlOm51bGx9LHNoZWVuOnt2YWx1ZTowfSxzaGVlbkNvbG9yOnt2YWx1ZTpuZXcgZ2UoMCl9LHNoZWVuQ29sb3JNYXA6e3ZhbHVlOm51bGx9LHNoZWVuUm91Z2huZXNzOnt2YWx1ZToxfSxzaGVlblJvdWdobmVzc01hcDp7dmFsdWU6bnVsbH0sdHJhbnNtaXNzaW9uOnt2YWx1ZTowfSx0cmFuc21pc3Npb25NYXA6e3ZhbHVlOm51bGx9LHRyYW5zbWlzc2lvblNhbXBsZXJTaXplOnt2YWx1ZTpuZXcgZWV9LHRyYW5zbWlzc2lvblNhbXBsZXJNYXA6e3ZhbHVlOm51bGx9LHRoaWNrbmVzczp7dmFsdWU6MH0sdGhpY2tuZXNzTWFwOnt2YWx1ZTpudWxsfSxhdHRlbnVhdGlvbkRpc3RhbmNlOnt2YWx1ZTowfSxhdHRlbnVhdGlvbkNvbG9yOnt2YWx1ZTpuZXcgZ2UoMCl9LHNwZWN1bGFySW50ZW5zaXR5Ont2YWx1ZToxfSxzcGVjdWxhckludGVuc2l0eU1hcDp7dmFsdWU6bnVsbH0sc3BlY3VsYXJDb2xvcjp7dmFsdWU6bmV3IGdlKDEsMSwxKX0sc3BlY3VsYXJDb2xvck1hcDp7dmFsdWU6bnVsbH19XSksdmVydGV4U2hhZGVyOkRlLm1lc2hwaHlzaWNhbF92ZXJ0LGZyYWdtZW50U2hhZGVyOkRlLm1lc2hwaHlzaWNhbF9mcmFnfTtmdW5jdGlvbiBWeChpLGUsdCxyLHMsYSl7Y29uc3Qgbj1uZXcgZ2UoMCk7bGV0IG89cz09PSEwPzA6MSxoLGwsYz1udWxsLHU9MCxkPW51bGw7ZnVuY3Rpb24gcChmLG0pe2xldCB2PSExLHk9bS5pc1NjZW5lPT09ITA/bS5iYWNrZ3JvdW5kOm51bGw7eSYmeS5pc1RleHR1cmUmJih5PWUuZ2V0KHkpKTtjb25zdCBUPWkueHIsdz1ULmdldFNlc3Npb24mJlQuZ2V0U2Vzc2lvbigpO3cmJncuZW52aXJvbm1lbnRCbGVuZE1vZGU9PT0iYWRkaXRpdmUiJiYoeT1udWxsKSx5PT09bnVsbD9nKG4sbyk6eSYmeS5pc0NvbG9yJiYoZyh5LDEpLHY9ITApLChpLmF1dG9DbGVhcnx8dikmJmkuY2xlYXIoaS5hdXRvQ2xlYXJDb2xvcixpLmF1dG9DbGVhckRlcHRoLGkuYXV0b0NsZWFyU3RlbmNpbCkseSYmKHkuaXNDdWJlVGV4dHVyZXx8eS5tYXBwaW5nPT09Y2EpPyhsPT09dm9pZCAwJiYobD1uZXcgTnQobmV3IFJzKDEsMSwxKSxuZXcgJHQoe25hbWU6IkJhY2tncm91bmRDdWJlTWF0ZXJpYWwiLHVuaWZvcm1zOkdyKGFpLmN1YmUudW5pZm9ybXMpLHZlcnRleFNoYWRlcjphaS5jdWJlLnZlcnRleFNoYWRlcixmcmFnbWVudFNoYWRlcjphaS5jdWJlLmZyYWdtZW50U2hhZGVyLHNpZGU6anQsZGVwdGhUZXN0OiExLGRlcHRoV3JpdGU6ITEsZm9nOiExfSkpLGwuZ2VvbWV0cnkuZGVsZXRlQXR0cmlidXRlKCJub3JtYWwiKSxsLmdlb21ldHJ5LmRlbGV0ZUF0dHJpYnV0ZSgidXYiKSxsLm9uQmVmb3JlUmVuZGVyPWZ1bmN0aW9uKGIsTCxQKXt0aGlzLm1hdHJpeFdvcmxkLmNvcHlQb3NpdGlvbihQLm1hdHJpeFdvcmxkKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGwubWF0ZXJpYWwsImVudk1hcCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVuaWZvcm1zLmVudk1hcC52YWx1ZX19KSxyLnVwZGF0ZShsKSksbC5tYXRlcmlhbC51bmlmb3Jtcy5lbnZNYXAudmFsdWU9eSxsLm1hdGVyaWFsLnVuaWZvcm1zLmZsaXBFbnZNYXAudmFsdWU9eS5pc0N1YmVUZXh0dXJlJiZ5LmlzUmVuZGVyVGFyZ2V0VGV4dHVyZT09PSExPy0xOjEsKGMhPT15fHx1IT09eS52ZXJzaW9ufHxkIT09aS50b25lTWFwcGluZykmJihsLm1hdGVyaWFsLm5lZWRzVXBkYXRlPSEwLGM9eSx1PXkudmVyc2lvbixkPWkudG9uZU1hcHBpbmcpLGYudW5zaGlmdChsLGwuZ2VvbWV0cnksbC5tYXRlcmlhbCwwLDAsbnVsbCkpOnkmJnkuaXNUZXh0dXJlJiYoaD09PXZvaWQgMCYmKGg9bmV3IE50KG5ldyBobygyLDIpLG5ldyAkdCh7bmFtZToiQmFja2dyb3VuZE1hdGVyaWFsIix1bmlmb3JtczpHcihhaS5iYWNrZ3JvdW5kLnVuaWZvcm1zKSx2ZXJ0ZXhTaGFkZXI6YWkuYmFja2dyb3VuZC52ZXJ0ZXhTaGFkZXIsZnJhZ21lbnRTaGFkZXI6YWkuYmFja2dyb3VuZC5mcmFnbWVudFNoYWRlcixzaWRlOndzLGRlcHRoVGVzdDohMSxkZXB0aFdyaXRlOiExLGZvZzohMX0pKSxoLmdlb21ldHJ5LmRlbGV0ZUF0dHJpYnV0ZSgibm9ybWFsIiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgubWF0ZXJpYWwsIm1hcCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVuaWZvcm1zLnQyRC52YWx1ZX19KSxyLnVwZGF0ZShoKSksaC5tYXRlcmlhbC51bmlmb3Jtcy50MkQudmFsdWU9eSx5Lm1hdHJpeEF1dG9VcGRhdGU9PT0hMCYmeS51cGRhdGVNYXRyaXgoKSxoLm1hdGVyaWFsLnVuaWZvcm1zLnV2VHJhbnNmb3JtLnZhbHVlLmNvcHkoeS5tYXRyaXgpLChjIT09eXx8dSE9PXkudmVyc2lvbnx8ZCE9PWkudG9uZU1hcHBpbmcpJiYoaC5tYXRlcmlhbC5uZWVkc1VwZGF0ZT0hMCxjPXksdT15LnZlcnNpb24sZD1pLnRvbmVNYXBwaW5nKSxmLnVuc2hpZnQoaCxoLmdlb21ldHJ5LGgubWF0ZXJpYWwsMCwwLG51bGwpKX1mdW5jdGlvbiBnKGYsbSl7dC5idWZmZXJzLmNvbG9yLnNldENsZWFyKGYucixmLmcsZi5iLG0sYSl9cmV0dXJue2dldENsZWFyQ29sb3I6ZnVuY3Rpb24oKXtyZXR1cm4gbn0sc2V0Q2xlYXJDb2xvcjpmdW5jdGlvbihmLG09MSl7bi5zZXQoZiksbz1tLGcobixvKX0sZ2V0Q2xlYXJBbHBoYTpmdW5jdGlvbigpe3JldHVybiBvfSxzZXRDbGVhckFscGhhOmZ1bmN0aW9uKGYpe289ZixnKG4sbyl9LHJlbmRlcjpwfX1mdW5jdGlvbiBXeChpLGUsdCxyKXtjb25zdCBzPWkuZ2V0UGFyYW1ldGVyKDM0OTIxKSxhPXIuaXNXZWJHTDI/bnVsbDplLmdldCgiT0VTX3ZlcnRleF9hcnJheV9vYmplY3QiKSxuPXIuaXNXZWJHTDJ8fGEhPT1udWxsLG89e30saD1tKG51bGwpO2xldCBsPWgsYz0hMTtmdW5jdGlvbiB1KE4sVSxCLEcsUil7bGV0IFg9ITE7aWYobil7Y29uc3QgSj1mKEcsQixVKTtsIT09SiYmKGw9SixwKGwub2JqZWN0KSksWD12KEcsUiksWCYmeShHLFIpfWVsc2V7Y29uc3QgSj1VLndpcmVmcmFtZT09PSEwOyhsLmdlb21ldHJ5IT09Ry5pZHx8bC5wcm9ncmFtIT09Qi5pZHx8bC53aXJlZnJhbWUhPT1KKSYmKGwuZ2VvbWV0cnk9Ry5pZCxsLnByb2dyYW09Qi5pZCxsLndpcmVmcmFtZT1KLFg9ITApfU4uaXNJbnN0YW5jZWRNZXNoPT09ITAmJihYPSEwKSxSIT09bnVsbCYmdC51cGRhdGUoUiwzNDk2MyksKFh8fGMpJiYoYz0hMSxrKE4sVSxCLEcpLFIhPT1udWxsJiZpLmJpbmRCdWZmZXIoMzQ5NjMsdC5nZXQoUikuYnVmZmVyKSl9ZnVuY3Rpb24gZCgpe3JldHVybiByLmlzV2ViR0wyP2kuY3JlYXRlVmVydGV4QXJyYXkoKTphLmNyZWF0ZVZlcnRleEFycmF5T0VTKCl9ZnVuY3Rpb24gcChOKXtyZXR1cm4gci5pc1dlYkdMMj9pLmJpbmRWZXJ0ZXhBcnJheShOKTphLmJpbmRWZXJ0ZXhBcnJheU9FUyhOKX1mdW5jdGlvbiBnKE4pe3JldHVybiByLmlzV2ViR0wyP2kuZGVsZXRlVmVydGV4QXJyYXkoTik6YS5kZWxldGVWZXJ0ZXhBcnJheU9FUyhOKX1mdW5jdGlvbiBmKE4sVSxCKXtjb25zdCBHPUIud2lyZWZyYW1lPT09ITA7bGV0IFI9b1tOLmlkXTtSPT09dm9pZCAwJiYoUj17fSxvW04uaWRdPVIpO2xldCBYPVJbVS5pZF07WD09PXZvaWQgMCYmKFg9e30sUltVLmlkXT1YKTtsZXQgSj1YW0ddO3JldHVybiBKPT09dm9pZCAwJiYoSj1tKGQoKSksWFtHXT1KKSxKfWZ1bmN0aW9uIG0oTil7Y29uc3QgVT1bXSxCPVtdLEc9W107Zm9yKGxldCBSPTA7UjxzO1IrKylVW1JdPTAsQltSXT0wLEdbUl09MDtyZXR1cm57Z2VvbWV0cnk6bnVsbCxwcm9ncmFtOm51bGwsd2lyZWZyYW1lOiExLG5ld0F0dHJpYnV0ZXM6VSxlbmFibGVkQXR0cmlidXRlczpCLGF0dHJpYnV0ZURpdmlzb3JzOkcsb2JqZWN0Ok4sYXR0cmlidXRlczp7fSxpbmRleDpudWxsfX1mdW5jdGlvbiB2KE4sVSl7Y29uc3QgQj1sLmF0dHJpYnV0ZXMsRz1OLmF0dHJpYnV0ZXM7bGV0IFI9MDtmb3IoY29uc3QgWCBpbiBHKXtjb25zdCBKPUJbWF0sdGU9R1tYXTtpZihKPT09dm9pZCAwfHxKLmF0dHJpYnV0ZSE9PXRlfHxKLmRhdGEhPT10ZS5kYXRhKXJldHVybiEwO1IrK31yZXR1cm4gbC5hdHRyaWJ1dGVzTnVtIT09Unx8bC5pbmRleCE9PVV9ZnVuY3Rpb24geShOLFUpe2NvbnN0IEI9e30sRz1OLmF0dHJpYnV0ZXM7bGV0IFI9MDtmb3IoY29uc3QgWCBpbiBHKXtjb25zdCBKPUdbWF0sdGU9e307dGUuYXR0cmlidXRlPUosSi5kYXRhJiYodGUuZGF0YT1KLmRhdGEpLEJbWF09dGUsUisrfWwuYXR0cmlidXRlcz1CLGwuYXR0cmlidXRlc051bT1SLGwuaW5kZXg9VX1mdW5jdGlvbiBUKCl7Y29uc3QgTj1sLm5ld0F0dHJpYnV0ZXM7Zm9yKGxldCBVPTAsQj1OLmxlbmd0aDtVPEI7VSsrKU5bVV09MH1mdW5jdGlvbiB3KE4pe2IoTiwwKX1mdW5jdGlvbiBiKE4sVSl7Y29uc3QgQj1sLm5ld0F0dHJpYnV0ZXMsRz1sLmVuYWJsZWRBdHRyaWJ1dGVzLFI9bC5hdHRyaWJ1dGVEaXZpc29ycztCW05dPTEsR1tOXT09PTAmJihpLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KE4pLEdbTl09MSksUltOXSE9PVUmJigoci5pc1dlYkdMMj9pOmUuZ2V0KCJBTkdMRV9pbnN0YW5jZWRfYXJyYXlzIikpW3IuaXNXZWJHTDI/InZlcnRleEF0dHJpYkRpdmlzb3IiOiJ2ZXJ0ZXhBdHRyaWJEaXZpc29yQU5HTEUiXShOLFUpLFJbTl09VSl9ZnVuY3Rpb24gTCgpe2NvbnN0IE49bC5uZXdBdHRyaWJ1dGVzLFU9bC5lbmFibGVkQXR0cmlidXRlcztmb3IobGV0IEI9MCxHPVUubGVuZ3RoO0I8RztCKyspVVtCXSE9PU5bQl0mJihpLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShCKSxVW0JdPTApfWZ1bmN0aW9uIFAoTixVLEIsRyxSLFgpe3IuaXNXZWJHTDI9PT0hMCYmKEI9PT01MTI0fHxCPT09NTEyNSk/aS52ZXJ0ZXhBdHRyaWJJUG9pbnRlcihOLFUsQixSLFgpOmkudmVydGV4QXR0cmliUG9pbnRlcihOLFUsQixHLFIsWCl9ZnVuY3Rpb24gayhOLFUsQixHKXtpZihyLmlzV2ViR0wyPT09ITEmJihOLmlzSW5zdGFuY2VkTWVzaHx8Ry5pc0luc3RhbmNlZEJ1ZmZlckdlb21ldHJ5KSYmZS5nZXQoIkFOR0xFX2luc3RhbmNlZF9hcnJheXMiKT09PW51bGwpcmV0dXJuO1QoKTtjb25zdCBSPUcuYXR0cmlidXRlcyxYPUIuZ2V0QXR0cmlidXRlcygpLEo9VS5kZWZhdWx0QXR0cmlidXRlVmFsdWVzO2Zvcihjb25zdCB0ZSBpbiBYKXtjb25zdCBRPVhbdGVdO2lmKFEubG9jYXRpb24+PTApe2xldCB2ZT1SW3RlXTtpZih2ZT09PXZvaWQgMCYmKHRlPT09Imluc3RhbmNlTWF0cml4IiYmTi5pbnN0YW5jZU1hdHJpeCYmKHZlPU4uaW5zdGFuY2VNYXRyaXgpLHRlPT09Imluc3RhbmNlQ29sb3IiJiZOLmluc3RhbmNlQ29sb3ImJih2ZT1OLmluc3RhbmNlQ29sb3IpKSx2ZSE9PXZvaWQgMCl7Y29uc3QgemU9dmUubm9ybWFsaXplZCxiZT12ZS5pdGVtU2l6ZSxWPXQuZ2V0KHZlKTtpZihWPT09dm9pZCAwKWNvbnRpbnVlO2NvbnN0IFplPVYuYnVmZmVyLE9lPVYudHlwZSx5ZT1WLmJ5dGVzUGVyRWxlbWVudDtpZih2ZS5pc0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlKXtjb25zdCByZT12ZS5kYXRhLFo9cmUuc3RyaWRlLGo9dmUub2Zmc2V0O2lmKHJlLmlzSW5zdGFuY2VkSW50ZXJsZWF2ZWRCdWZmZXIpe2ZvcihsZXQgcT0wO3E8US5sb2NhdGlvblNpemU7cSsrKWIoUS5sb2NhdGlvbitxLHJlLm1lc2hQZXJBdHRyaWJ1dGUpO04uaXNJbnN0YW5jZWRNZXNoIT09ITAmJkcuX21heEluc3RhbmNlQ291bnQ9PT12b2lkIDAmJihHLl9tYXhJbnN0YW5jZUNvdW50PXJlLm1lc2hQZXJBdHRyaWJ1dGUqcmUuY291bnQpfWVsc2UgZm9yKGxldCBxPTA7cTxRLmxvY2F0aW9uU2l6ZTtxKyspdyhRLmxvY2F0aW9uK3EpO2kuYmluZEJ1ZmZlcigzNDk2MixaZSk7Zm9yKGxldCBxPTA7cTxRLmxvY2F0aW9uU2l6ZTtxKyspUChRLmxvY2F0aW9uK3EsYmUvUS5sb2NhdGlvblNpemUsT2UsemUsWip5ZSwoaitiZS9RLmxvY2F0aW9uU2l6ZSpxKSp5ZSl9ZWxzZXtpZih2ZS5pc0luc3RhbmNlZEJ1ZmZlckF0dHJpYnV0ZSl7Zm9yKGxldCByZT0wO3JlPFEubG9jYXRpb25TaXplO3JlKyspYihRLmxvY2F0aW9uK3JlLHZlLm1lc2hQZXJBdHRyaWJ1dGUpO04uaXNJbnN0YW5jZWRNZXNoIT09ITAmJkcuX21heEluc3RhbmNlQ291bnQ9PT12b2lkIDAmJihHLl9tYXhJbnN0YW5jZUNvdW50PXZlLm1lc2hQZXJBdHRyaWJ1dGUqdmUuY291bnQpfWVsc2UgZm9yKGxldCByZT0wO3JlPFEubG9jYXRpb25TaXplO3JlKyspdyhRLmxvY2F0aW9uK3JlKTtpLmJpbmRCdWZmZXIoMzQ5NjIsWmUpO2ZvcihsZXQgcmU9MDtyZTxRLmxvY2F0aW9uU2l6ZTtyZSsrKVAoUS5sb2NhdGlvbityZSxiZS9RLmxvY2F0aW9uU2l6ZSxPZSx6ZSxiZSp5ZSxiZS9RLmxvY2F0aW9uU2l6ZSpyZSp5ZSl9fWVsc2UgaWYoSiE9PXZvaWQgMCl7Y29uc3QgemU9Slt0ZV07aWYoemUhPT12b2lkIDApc3dpdGNoKHplLmxlbmd0aCl7Y2FzZSAyOmkudmVydGV4QXR0cmliMmZ2KFEubG9jYXRpb24semUpO2JyZWFrO2Nhc2UgMzppLnZlcnRleEF0dHJpYjNmdihRLmxvY2F0aW9uLHplKTticmVhaztjYXNlIDQ6aS52ZXJ0ZXhBdHRyaWI0ZnYoUS5sb2NhdGlvbix6ZSk7YnJlYWs7ZGVmYXVsdDppLnZlcnRleEF0dHJpYjFmdihRLmxvY2F0aW9uLHplKX19fX1MKCl9ZnVuY3Rpb24gaWUoKXtDKCk7Zm9yKGNvbnN0IE4gaW4gbyl7Y29uc3QgVT1vW05dO2Zvcihjb25zdCBCIGluIFUpe2NvbnN0IEc9VVtCXTtmb3IoY29uc3QgUiBpbiBHKWcoR1tSXS5vYmplY3QpLGRlbGV0ZSBHW1JdO2RlbGV0ZSBVW0JdfWRlbGV0ZSBvW05dfX1mdW5jdGlvbiBPKE4pe2lmKG9bTi5pZF09PT12b2lkIDApcmV0dXJuO2NvbnN0IFU9b1tOLmlkXTtmb3IoY29uc3QgQiBpbiBVKXtjb25zdCBHPVVbQl07Zm9yKGNvbnN0IFIgaW4gRylnKEdbUl0ub2JqZWN0KSxkZWxldGUgR1tSXTtkZWxldGUgVVtCXX1kZWxldGUgb1tOLmlkXX1mdW5jdGlvbiB4KE4pe2Zvcihjb25zdCBVIGluIG8pe2NvbnN0IEI9b1tVXTtpZihCW04uaWRdPT09dm9pZCAwKWNvbnRpbnVlO2NvbnN0IEc9QltOLmlkXTtmb3IoY29uc3QgUiBpbiBHKWcoR1tSXS5vYmplY3QpLGRlbGV0ZSBHW1JdO2RlbGV0ZSBCW04uaWRdfX1mdW5jdGlvbiBDKCl7WSgpLGM9ITAsbCE9PWgmJihsPWgscChsLm9iamVjdCkpfWZ1bmN0aW9uIFkoKXtoLmdlb21ldHJ5PW51bGwsaC5wcm9ncmFtPW51bGwsaC53aXJlZnJhbWU9ITF9cmV0dXJue3NldHVwOnUscmVzZXQ6QyxyZXNldERlZmF1bHRTdGF0ZTpZLGRpc3Bvc2U6aWUscmVsZWFzZVN0YXRlc09mR2VvbWV0cnk6TyxyZWxlYXNlU3RhdGVzT2ZQcm9ncmFtOngsaW5pdEF0dHJpYnV0ZXM6VCxlbmFibGVBdHRyaWJ1dGU6dyxkaXNhYmxlVW51c2VkQXR0cmlidXRlczpMfX1mdW5jdGlvbiBqeChpLGUsdCxyKXtjb25zdCBzPXIuaXNXZWJHTDI7bGV0IGE7ZnVuY3Rpb24gbihsKXthPWx9ZnVuY3Rpb24gbyhsLGMpe2kuZHJhd0FycmF5cyhhLGwsYyksdC51cGRhdGUoYyxhLDEpfWZ1bmN0aW9uIGgobCxjLHUpe2lmKHU9PT0wKXJldHVybjtsZXQgZCxwO2lmKHMpZD1pLHA9ImRyYXdBcnJheXNJbnN0YW5jZWQiO2Vsc2UgaWYoZD1lLmdldCgiQU5HTEVfaW5zdGFuY2VkX2FycmF5cyIpLHA9ImRyYXdBcnJheXNJbnN0YW5jZWRBTkdMRSIsZD09PW51bGwpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMQnVmZmVyUmVuZGVyZXI6IHVzaW5nIFRIUkVFLkluc3RhbmNlZEJ1ZmZlckdlb21ldHJ5IGJ1dCBoYXJkd2FyZSBkb2VzIG5vdCBzdXBwb3J0IGV4dGVuc2lvbiBBTkdMRV9pbnN0YW5jZWRfYXJyYXlzLiIpO3JldHVybn1kW3BdKGEsbCxjLHUpLHQudXBkYXRlKGMsYSx1KX10aGlzLnNldE1vZGU9bix0aGlzLnJlbmRlcj1vLHRoaXMucmVuZGVySW5zdGFuY2VzPWh9ZnVuY3Rpb24gcXgoaSxlLHQpe2xldCByO2Z1bmN0aW9uIHMoKXtpZihyIT09dm9pZCAwKXJldHVybiByO2lmKGUuaGFzKCJFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMiKT09PSEwKXtjb25zdCBQPWUuZ2V0KCJFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMiKTtyPWkuZ2V0UGFyYW1ldGVyKFAuTUFYX1RFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhUKX1lbHNlIHI9MDtyZXR1cm4gcn1mdW5jdGlvbiBhKFApe2lmKFA9PT0iaGlnaHAiKXtpZihpLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdCgzNTYzMywzNjMzOCkucHJlY2lzaW9uPjAmJmkuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KDM1NjMyLDM2MzM4KS5wcmVjaXNpb24+MClyZXR1cm4iaGlnaHAiO1A9Im1lZGl1bXAifXJldHVybiBQPT09Im1lZGl1bXAiJiZpLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdCgzNTYzMywzNjMzNykucHJlY2lzaW9uPjAmJmkuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KDM1NjMyLDM2MzM3KS5wcmVjaXNpb24+MD8ibWVkaXVtcCI6Imxvd3AifWNvbnN0IG49dHlwZW9mIFdlYkdMMlJlbmRlcmluZ0NvbnRleHQ8InUiJiZpIGluc3RhbmNlb2YgV2ViR0wyUmVuZGVyaW5nQ29udGV4dHx8dHlwZW9mIFdlYkdMMkNvbXB1dGVSZW5kZXJpbmdDb250ZXh0PCJ1IiYmaSBpbnN0YW5jZW9mIFdlYkdMMkNvbXB1dGVSZW5kZXJpbmdDb250ZXh0O2xldCBvPXQucHJlY2lzaW9uIT09dm9pZCAwP3QucHJlY2lzaW9uOiJoaWdocCI7Y29uc3QgaD1hKG8pO2ghPT1vJiYoY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiIsbywibm90IHN1cHBvcnRlZCwgdXNpbmciLGgsImluc3RlYWQuIiksbz1oKTtjb25zdCBsPW58fGUuaGFzKCJXRUJHTF9kcmF3X2J1ZmZlcnMiKSxjPXQubG9nYXJpdGhtaWNEZXB0aEJ1ZmZlcj09PSEwLHU9aS5nZXRQYXJhbWV0ZXIoMzQ5MzApLGQ9aS5nZXRQYXJhbWV0ZXIoMzU2NjApLHA9aS5nZXRQYXJhbWV0ZXIoMzM3OSksZz1pLmdldFBhcmFtZXRlcigzNDA3NiksZj1pLmdldFBhcmFtZXRlcigzNDkyMSksbT1pLmdldFBhcmFtZXRlcigzNjM0Nyksdj1pLmdldFBhcmFtZXRlcigzNjM0OCkseT1pLmdldFBhcmFtZXRlcigzNjM0OSksVD1kPjAsdz1ufHxlLmhhcygiT0VTX3RleHR1cmVfZmxvYXQiKSxiPVQmJncsTD1uP2kuZ2V0UGFyYW1ldGVyKDM2MTgzKTowO3JldHVybntpc1dlYkdMMjpuLGRyYXdCdWZmZXJzOmwsZ2V0TWF4QW5pc290cm9weTpzLGdldE1heFByZWNpc2lvbjphLHByZWNpc2lvbjpvLGxvZ2FyaXRobWljRGVwdGhCdWZmZXI6YyxtYXhUZXh0dXJlczp1LG1heFZlcnRleFRleHR1cmVzOmQsbWF4VGV4dHVyZVNpemU6cCxtYXhDdWJlbWFwU2l6ZTpnLG1heEF0dHJpYnV0ZXM6ZixtYXhWZXJ0ZXhVbmlmb3JtczptLG1heFZhcnlpbmdzOnYsbWF4RnJhZ21lbnRVbmlmb3Jtczp5LHZlcnRleFRleHR1cmVzOlQsZmxvYXRGcmFnbWVudFRleHR1cmVzOncsZmxvYXRWZXJ0ZXhUZXh0dXJlczpiLG1heFNhbXBsZXM6TH19ZnVuY3Rpb24gWHgoaSl7Y29uc3QgZT10aGlzO2xldCB0PW51bGwscj0wLHM9ITEsYT0hMTtjb25zdCBuPW5ldyBUaSxvPW5ldyB4dCxoPXt2YWx1ZTpudWxsLG5lZWRzVXBkYXRlOiExfTt0aGlzLnVuaWZvcm09aCx0aGlzLm51bVBsYW5lcz0wLHRoaXMubnVtSW50ZXJzZWN0aW9uPTAsdGhpcy5pbml0PWZ1bmN0aW9uKHUsZCxwKXtjb25zdCBnPXUubGVuZ3RoIT09MHx8ZHx8ciE9PTB8fHM7cmV0dXJuIHM9ZCx0PWModSxwLDApLHI9dS5sZW5ndGgsZ30sdGhpcy5iZWdpblNoYWRvd3M9ZnVuY3Rpb24oKXthPSEwLGMobnVsbCl9LHRoaXMuZW5kU2hhZG93cz1mdW5jdGlvbigpe2E9ITEsbCgpfSx0aGlzLnNldFN0YXRlPWZ1bmN0aW9uKHUsZCxwKXtjb25zdCBnPXUuY2xpcHBpbmdQbGFuZXMsZj11LmNsaXBJbnRlcnNlY3Rpb24sbT11LmNsaXBTaGFkb3dzLHY9aS5nZXQodSk7aWYoIXN8fGc9PT1udWxsfHxnLmxlbmd0aD09PTB8fGEmJiFtKWE/YyhudWxsKTpsKCk7ZWxzZXtjb25zdCB5PWE/MDpyLFQ9eSo0O2xldCB3PXYuY2xpcHBpbmdTdGF0ZXx8bnVsbDtoLnZhbHVlPXcsdz1jKGcsZCxULHApO2ZvcihsZXQgYj0wO2IhPT1UOysrYil3W2JdPXRbYl07di5jbGlwcGluZ1N0YXRlPXcsdGhpcy5udW1JbnRlcnNlY3Rpb249Zj90aGlzLm51bVBsYW5lczowLHRoaXMubnVtUGxhbmVzKz15fX07ZnVuY3Rpb24gbCgpe2gudmFsdWUhPT10JiYoaC52YWx1ZT10LGgubmVlZHNVcGRhdGU9cj4wKSxlLm51bVBsYW5lcz1yLGUubnVtSW50ZXJzZWN0aW9uPTB9ZnVuY3Rpb24gYyh1LGQscCxnKXtjb25zdCBmPXUhPT1udWxsP3UubGVuZ3RoOjA7bGV0IG09bnVsbDtpZihmIT09MCl7aWYobT1oLnZhbHVlLGchPT0hMHx8bT09PW51bGwpe2NvbnN0IHY9cCtmKjQseT1kLm1hdHJpeFdvcmxkSW52ZXJzZTtvLmdldE5vcm1hbE1hdHJpeCh5KSwobT09PW51bGx8fG0ubGVuZ3RoPHYpJiYobT1uZXcgRmxvYXQzMkFycmF5KHYpKTtmb3IobGV0IFQ9MCx3PXA7VCE9PWY7KytULHcrPTQpbi5jb3B5KHVbVF0pLmFwcGx5TWF0cml4NCh5LG8pLG4ubm9ybWFsLnRvQXJyYXkobSx3KSxtW3crM109bi5jb25zdGFudH1oLnZhbHVlPW0saC5uZWVkc1VwZGF0ZT0hMH1yZXR1cm4gZS5udW1QbGFuZXM9ZixlLm51bUludGVyc2VjdGlvbj0wLG19fWZ1bmN0aW9uIEp4KGkpe2xldCBlPW5ldyBXZWFrTWFwO2Z1bmN0aW9uIHQobixvKXtyZXR1cm4gbz09PWJuP24ubWFwcGluZz1icjpvPT09d24mJihuLm1hcHBpbmc9d3IpLG59ZnVuY3Rpb24gcihuKXtpZihuJiZuLmlzVGV4dHVyZSYmbi5pc1JlbmRlclRhcmdldFRleHR1cmU9PT0hMSl7Y29uc3Qgbz1uLm1hcHBpbmc7aWYobz09PWJufHxvPT09d24paWYoZS5oYXMobikpe2NvbnN0IGg9ZS5nZXQobikudGV4dHVyZTtyZXR1cm4gdChoLG4ubWFwcGluZyl9ZWxzZXtjb25zdCBoPW4uaW1hZ2U7aWYoaCYmaC5oZWlnaHQ+MCl7Y29uc3QgbD1uZXcgRGwoaC5oZWlnaHQvMik7cmV0dXJuIGwuZnJvbUVxdWlyZWN0YW5ndWxhclRleHR1cmUoaSxuKSxlLnNldChuLGwpLG4uYWRkRXZlbnRMaXN0ZW5lcigiZGlzcG9zZSIscyksdChsLnRleHR1cmUsbi5tYXBwaW5nKX1lbHNlIHJldHVybiBudWxsfX1yZXR1cm4gbn1mdW5jdGlvbiBzKG4pe2NvbnN0IG89bi50YXJnZXQ7by5yZW1vdmVFdmVudExpc3RlbmVyKCJkaXNwb3NlIixzKTtjb25zdCBoPWUuZ2V0KG8pO2ghPT12b2lkIDAmJihlLmRlbGV0ZShvKSxoLmRpc3Bvc2UoKSl9ZnVuY3Rpb24gYSgpe2U9bmV3IFdlYWtNYXB9cmV0dXJue2dldDpyLGRpc3Bvc2U6YX19Y2xhc3MgbG8gZXh0ZW5kcyBhb3tjb25zdHJ1Y3RvcihlPS0xLHQ9MSxyPTEscz0tMSxhPS4xLG49MmUzKXtzdXBlcigpO3RoaXMudHlwZT0iT3J0aG9ncmFwaGljQ2FtZXJhIix0aGlzLnpvb209MSx0aGlzLnZpZXc9bnVsbCx0aGlzLmxlZnQ9ZSx0aGlzLnJpZ2h0PXQsdGhpcy50b3A9cix0aGlzLmJvdHRvbT1zLHRoaXMubmVhcj1hLHRoaXMuZmFyPW4sdGhpcy51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCl9Y29weShlLHQpe3JldHVybiBzdXBlci5jb3B5KGUsdCksdGhpcy5sZWZ0PWUubGVmdCx0aGlzLnJpZ2h0PWUucmlnaHQsdGhpcy50b3A9ZS50b3AsdGhpcy5ib3R0b209ZS5ib3R0b20sdGhpcy5uZWFyPWUubmVhcix0aGlzLmZhcj1lLmZhcix0aGlzLnpvb209ZS56b29tLHRoaXMudmlldz1lLnZpZXc9PT1udWxsP251bGw6T2JqZWN0LmFzc2lnbih7fSxlLnZpZXcpLHRoaXN9c2V0Vmlld09mZnNldChlLHQscixzLGEsbil7dGhpcy52aWV3PT09bnVsbCYmKHRoaXMudmlldz17ZW5hYmxlZDohMCxmdWxsV2lkdGg6MSxmdWxsSGVpZ2h0OjEsb2Zmc2V0WDowLG9mZnNldFk6MCx3aWR0aDoxLGhlaWdodDoxfSksdGhpcy52aWV3LmVuYWJsZWQ9ITAsdGhpcy52aWV3LmZ1bGxXaWR0aD1lLHRoaXMudmlldy5mdWxsSGVpZ2h0PXQsdGhpcy52aWV3Lm9mZnNldFg9cix0aGlzLnZpZXcub2Zmc2V0WT1zLHRoaXMudmlldy53aWR0aD1hLHRoaXMudmlldy5oZWlnaHQ9bix0aGlzLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKX1jbGVhclZpZXdPZmZzZXQoKXt0aGlzLnZpZXchPT1udWxsJiYodGhpcy52aWV3LmVuYWJsZWQ9ITEpLHRoaXMudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpfXVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKXtjb25zdCBlPSh0aGlzLnJpZ2h0LXRoaXMubGVmdCkvKDIqdGhpcy56b29tKSx0PSh0aGlzLnRvcC10aGlzLmJvdHRvbSkvKDIqdGhpcy56b29tKSxyPSh0aGlzLnJpZ2h0K3RoaXMubGVmdCkvMixzPSh0aGlzLnRvcCt0aGlzLmJvdHRvbSkvMjtsZXQgYT1yLWUsbj1yK2Usbz1zK3QsaD1zLXQ7aWYodGhpcy52aWV3IT09bnVsbCYmdGhpcy52aWV3LmVuYWJsZWQpe2NvbnN0IGw9KHRoaXMucmlnaHQtdGhpcy5sZWZ0KS90aGlzLnZpZXcuZnVsbFdpZHRoL3RoaXMuem9vbSxjPSh0aGlzLnRvcC10aGlzLmJvdHRvbSkvdGhpcy52aWV3LmZ1bGxIZWlnaHQvdGhpcy56b29tO2ErPWwqdGhpcy52aWV3Lm9mZnNldFgsbj1hK2wqdGhpcy52aWV3LndpZHRoLG8tPWMqdGhpcy52aWV3Lm9mZnNldFksaD1vLWMqdGhpcy52aWV3LmhlaWdodH10aGlzLnByb2plY3Rpb25NYXRyaXgubWFrZU9ydGhvZ3JhcGhpYyhhLG4sbyxoLHRoaXMubmVhcix0aGlzLmZhciksdGhpcy5wcm9qZWN0aW9uTWF0cml4SW52ZXJzZS5jb3B5KHRoaXMucHJvamVjdGlvbk1hdHJpeCkuaW52ZXJ0KCl9dG9KU09OKGUpe2NvbnN0IHQ9c3VwZXIudG9KU09OKGUpO3JldHVybiB0Lm9iamVjdC56b29tPXRoaXMuem9vbSx0Lm9iamVjdC5sZWZ0PXRoaXMubGVmdCx0Lm9iamVjdC5yaWdodD10aGlzLnJpZ2h0LHQub2JqZWN0LnRvcD10aGlzLnRvcCx0Lm9iamVjdC5ib3R0b209dGhpcy5ib3R0b20sdC5vYmplY3QubmVhcj10aGlzLm5lYXIsdC5vYmplY3QuZmFyPXRoaXMuZmFyLHRoaXMudmlldyE9PW51bGwmJih0Lm9iamVjdC52aWV3PU9iamVjdC5hc3NpZ24oe30sdGhpcy52aWV3KSksdH19bG8ucHJvdG90eXBlLmlzT3J0aG9ncmFwaGljQ2FtZXJhPSEwO2NvbnN0IHFyPTQsemw9Wy4xMjUsLjIxNSwuMzUsLjQ0NiwuNTI2LC41ODJdLGFyPTIwLGNvPW5ldyBsbyxCbD1uZXcgZ2U7bGV0IHVvPW51bGw7Y29uc3QgbnI9KDErTWF0aC5zcXJ0KDUpKS8yLFhyPTEvbnIsVWw9W25ldyBFKDEsMSwxKSxuZXcgRSgtMSwxLDEpLG5ldyBFKDEsMSwtMSksbmV3IEUoLTEsMSwtMSksbmV3IEUoMCxucixYciksbmV3IEUoMCxuciwtWHIpLG5ldyBFKFhyLDAsbnIpLG5ldyBFKC1YciwwLG5yKSxuZXcgRShucixYciwwKSxuZXcgRSgtbnIsWHIsMCldO2NsYXNzIEZse2NvbnN0cnVjdG9yKGUpe3RoaXMuX3JlbmRlcmVyPWUsdGhpcy5fcGluZ1BvbmdSZW5kZXJUYXJnZXQ9bnVsbCx0aGlzLl9sb2RNYXg9MCx0aGlzLl9jdWJlU2l6ZT0wLHRoaXMuX2xvZFBsYW5lcz1bXSx0aGlzLl9zaXplTG9kcz1bXSx0aGlzLl9zaWdtYXM9W10sdGhpcy5fYmx1ck1hdGVyaWFsPW51bGwsdGhpcy5fY3ViZW1hcE1hdGVyaWFsPW51bGwsdGhpcy5fZXF1aXJlY3RNYXRlcmlhbD1udWxsLHRoaXMuX2NvbXBpbGVNYXRlcmlhbCh0aGlzLl9ibHVyTWF0ZXJpYWwpfWZyb21TY2VuZShlLHQ9MCxyPS4xLHM9MTAwKXt1bz10aGlzLl9yZW5kZXJlci5nZXRSZW5kZXJUYXJnZXQoKSx0aGlzLl9zZXRTaXplKDI1Nik7Y29uc3QgYT10aGlzLl9hbGxvY2F0ZVRhcmdldHMoKTtyZXR1cm4gYS5kZXB0aEJ1ZmZlcj0hMCx0aGlzLl9zY2VuZVRvQ3ViZVVWKGUscixzLGEpLHQ+MCYmdGhpcy5fYmx1cihhLDAsMCx0KSx0aGlzLl9hcHBseVBNUkVNKGEpLHRoaXMuX2NsZWFudXAoYSksYX1mcm9tRXF1aXJlY3Rhbmd1bGFyKGUsdD1udWxsKXtyZXR1cm4gdGhpcy5fZnJvbVRleHR1cmUoZSx0KX1mcm9tQ3ViZW1hcChlLHQ9bnVsbCl7cmV0dXJuIHRoaXMuX2Zyb21UZXh0dXJlKGUsdCl9Y29tcGlsZUN1YmVtYXBTaGFkZXIoKXt0aGlzLl9jdWJlbWFwTWF0ZXJpYWw9PT1udWxsJiYodGhpcy5fY3ViZW1hcE1hdGVyaWFsPUdsKCksdGhpcy5fY29tcGlsZU1hdGVyaWFsKHRoaXMuX2N1YmVtYXBNYXRlcmlhbCkpfWNvbXBpbGVFcXVpcmVjdGFuZ3VsYXJTaGFkZXIoKXt0aGlzLl9lcXVpcmVjdE1hdGVyaWFsPT09bnVsbCYmKHRoaXMuX2VxdWlyZWN0TWF0ZXJpYWw9a2woKSx0aGlzLl9jb21waWxlTWF0ZXJpYWwodGhpcy5fZXF1aXJlY3RNYXRlcmlhbCkpfWRpc3Bvc2UoKXt0aGlzLl9kaXNwb3NlKCksdGhpcy5fY3ViZW1hcE1hdGVyaWFsIT09bnVsbCYmdGhpcy5fY3ViZW1hcE1hdGVyaWFsLmRpc3Bvc2UoKSx0aGlzLl9lcXVpcmVjdE1hdGVyaWFsIT09bnVsbCYmdGhpcy5fZXF1aXJlY3RNYXRlcmlhbC5kaXNwb3NlKCl9X3NldFNpemUoZSl7dGhpcy5fbG9kTWF4PU1hdGguZmxvb3IoTWF0aC5sb2cyKGUpKSx0aGlzLl9jdWJlU2l6ZT1NYXRoLnBvdygyLHRoaXMuX2xvZE1heCl9X2Rpc3Bvc2UoKXt0aGlzLl9ibHVyTWF0ZXJpYWwhPT1udWxsJiZ0aGlzLl9ibHVyTWF0ZXJpYWwuZGlzcG9zZSgpLHRoaXMuX3BpbmdQb25nUmVuZGVyVGFyZ2V0IT09bnVsbCYmdGhpcy5fcGluZ1BvbmdSZW5kZXJUYXJnZXQuZGlzcG9zZSgpO2ZvcihsZXQgZT0wO2U8dGhpcy5fbG9kUGxhbmVzLmxlbmd0aDtlKyspdGhpcy5fbG9kUGxhbmVzW2VdLmRpc3Bvc2UoKX1fY2xlYW51cChlKXt0aGlzLl9yZW5kZXJlci5zZXRSZW5kZXJUYXJnZXQodW8pLGUuc2Npc3NvclRlc3Q9ITEsa2EoZSwwLDAsZS53aWR0aCxlLmhlaWdodCl9X2Zyb21UZXh0dXJlKGUsdCl7ZS5tYXBwaW5nPT09YnJ8fGUubWFwcGluZz09PXdyP3RoaXMuX3NldFNpemUoZS5pbWFnZS5sZW5ndGg9PT0wPzE2OmUuaW1hZ2VbMF0ud2lkdGh8fGUuaW1hZ2VbMF0uaW1hZ2Uud2lkdGgpOnRoaXMuX3NldFNpemUoZS5pbWFnZS53aWR0aC80KSx1bz10aGlzLl9yZW5kZXJlci5nZXRSZW5kZXJUYXJnZXQoKTtjb25zdCByPXR8fHRoaXMuX2FsbG9jYXRlVGFyZ2V0cygpO3JldHVybiB0aGlzLl90ZXh0dXJlVG9DdWJlVVYoZSxyKSx0aGlzLl9hcHBseVBNUkVNKHIpLHRoaXMuX2NsZWFudXAocikscn1fYWxsb2NhdGVUYXJnZXRzKCl7Y29uc3QgZT0zKk1hdGgubWF4KHRoaXMuX2N1YmVTaXplLDExMiksdD00KnRoaXMuX2N1YmVTaXplLTMyLHI9e21hZ0ZpbHRlcjpJdCxtaW5GaWx0ZXI6SXQsZ2VuZXJhdGVNaXBtYXBzOiExLHR5cGU6U3IsZm9ybWF0Olh0LGVuY29kaW5nOl9pLGRlcHRoQnVmZmVyOiExfSxzPUhsKGUsdCxyKTtpZih0aGlzLl9waW5nUG9uZ1JlbmRlclRhcmdldD09PW51bGx8fHRoaXMuX3BpbmdQb25nUmVuZGVyVGFyZ2V0LndpZHRoIT09ZSl7dGhpcy5fcGluZ1BvbmdSZW5kZXJUYXJnZXQhPT1udWxsJiZ0aGlzLl9kaXNwb3NlKCksdGhpcy5fcGluZ1BvbmdSZW5kZXJUYXJnZXQ9SGwoZSx0LHIpO2NvbnN0e19sb2RNYXg6YX09dGhpczsoe3NpemVMb2RzOnRoaXMuX3NpemVMb2RzLGxvZFBsYW5lczp0aGlzLl9sb2RQbGFuZXMsc2lnbWFzOnRoaXMuX3NpZ21hc309WXgoYSkpLHRoaXMuX2JsdXJNYXRlcmlhbD1aeChhLGUsdCl9cmV0dXJuIHN9X2NvbXBpbGVNYXRlcmlhbChlKXtjb25zdCB0PW5ldyBOdCh0aGlzLl9sb2RQbGFuZXNbMF0sZSk7dGhpcy5fcmVuZGVyZXIuY29tcGlsZSh0LGNvKX1fc2NlbmVUb0N1YmVVVihlLHQscixzKXtjb25zdCBhPW5ldyBEdCg5MCwxLHQsciksbj1bMSwtMSwxLDEsMSwxXSxvPVsxLDEsMSwtMSwtMSwtMV0saD10aGlzLl9yZW5kZXJlcixsPWguYXV0b0NsZWFyLGM9aC50b25lTWFwcGluZztoLmdldENsZWFyQ29sb3IoQmwpLGgudG9uZU1hcHBpbmc9eGksaC5hdXRvQ2xlYXI9ITE7Y29uc3QgdT1uZXcgQ2Eoe25hbWU6IlBNUkVNLkJhY2tncm91bmQiLHNpZGU6anQsZGVwdGhXcml0ZTohMSxkZXB0aFRlc3Q6ITF9KSxkPW5ldyBOdChuZXcgUnMsdSk7bGV0IHA9ITE7Y29uc3QgZz1lLmJhY2tncm91bmQ7Zz9nLmlzQ29sb3ImJih1LmNvbG9yLmNvcHkoZyksZS5iYWNrZ3JvdW5kPW51bGwscD0hMCk6KHUuY29sb3IuY29weShCbCkscD0hMCk7Zm9yKGxldCBmPTA7Zjw2O2YrKyl7Y29uc3QgbT1mJTM7bT09PTA/KGEudXAuc2V0KDAsbltmXSwwKSxhLmxvb2tBdChvW2ZdLDAsMCkpOm09PT0xPyhhLnVwLnNldCgwLDAsbltmXSksYS5sb29rQXQoMCxvW2ZdLDApKTooYS51cC5zZXQoMCxuW2ZdLDApLGEubG9va0F0KDAsMCxvW2ZdKSk7Y29uc3Qgdj10aGlzLl9jdWJlU2l6ZTtrYShzLG0qdixmPjI/djowLHYsdiksaC5zZXRSZW5kZXJUYXJnZXQocykscCYmaC5yZW5kZXIoZCxhKSxoLnJlbmRlcihlLGEpfWQuZ2VvbWV0cnkuZGlzcG9zZSgpLGQubWF0ZXJpYWwuZGlzcG9zZSgpLGgudG9uZU1hcHBpbmc9YyxoLmF1dG9DbGVhcj1sLGUuYmFja2dyb3VuZD1nfV90ZXh0dXJlVG9DdWJlVVYoZSx0KXtjb25zdCByPXRoaXMuX3JlbmRlcmVyLHM9ZS5tYXBwaW5nPT09YnJ8fGUubWFwcGluZz09PXdyO3M/KHRoaXMuX2N1YmVtYXBNYXRlcmlhbD09PW51bGwmJih0aGlzLl9jdWJlbWFwTWF0ZXJpYWw9R2woKSksdGhpcy5fY3ViZW1hcE1hdGVyaWFsLnVuaWZvcm1zLmZsaXBFbnZNYXAudmFsdWU9ZS5pc1JlbmRlclRhcmdldFRleHR1cmU9PT0hMT8tMToxKTp0aGlzLl9lcXVpcmVjdE1hdGVyaWFsPT09bnVsbCYmKHRoaXMuX2VxdWlyZWN0TWF0ZXJpYWw9a2woKSk7Y29uc3QgYT1zP3RoaXMuX2N1YmVtYXBNYXRlcmlhbDp0aGlzLl9lcXVpcmVjdE1hdGVyaWFsLG49bmV3IE50KHRoaXMuX2xvZFBsYW5lc1swXSxhKSxvPWEudW5pZm9ybXM7by5lbnZNYXAudmFsdWU9ZTtjb25zdCBoPXRoaXMuX2N1YmVTaXplO2thKHQsMCwwLDMqaCwyKmgpLHIuc2V0UmVuZGVyVGFyZ2V0KHQpLHIucmVuZGVyKG4sY28pfV9hcHBseVBNUkVNKGUpe2NvbnN0IHQ9dGhpcy5fcmVuZGVyZXIscj10LmF1dG9DbGVhcjt0LmF1dG9DbGVhcj0hMTtmb3IobGV0IHM9MTtzPHRoaXMuX2xvZFBsYW5lcy5sZW5ndGg7cysrKXtjb25zdCBhPU1hdGguc3FydCh0aGlzLl9zaWdtYXNbc10qdGhpcy5fc2lnbWFzW3NdLXRoaXMuX3NpZ21hc1tzLTFdKnRoaXMuX3NpZ21hc1tzLTFdKSxuPVVsWyhzLTEpJVVsLmxlbmd0aF07dGhpcy5fYmx1cihlLHMtMSxzLGEsbil9dC5hdXRvQ2xlYXI9cn1fYmx1cihlLHQscixzLGEpe2NvbnN0IG49dGhpcy5fcGluZ1BvbmdSZW5kZXJUYXJnZXQ7dGhpcy5faGFsZkJsdXIoZSxuLHQscixzLCJsYXRpdHVkaW5hbCIsYSksdGhpcy5faGFsZkJsdXIobixlLHIscixzLCJsb25naXR1ZGluYWwiLGEpfV9oYWxmQmx1cihlLHQscixzLGEsbixvKXtjb25zdCBoPXRoaXMuX3JlbmRlcmVyLGw9dGhpcy5fYmx1ck1hdGVyaWFsO24hPT0ibGF0aXR1ZGluYWwiJiZuIT09ImxvbmdpdHVkaW5hbCImJmNvbnNvbGUuZXJyb3IoImJsdXIgZGlyZWN0aW9uIG11c3QgYmUgZWl0aGVyIGxhdGl0dWRpbmFsIG9yIGxvbmdpdHVkaW5hbCEiKTtjb25zdCBjPTMsdT1uZXcgTnQodGhpcy5fbG9kUGxhbmVzW3NdLGwpLGQ9bC51bmlmb3JtcyxwPXRoaXMuX3NpemVMb2RzW3JdLTEsZz1pc0Zpbml0ZShhKT9NYXRoLlBJLygyKnApOjIqTWF0aC5QSS8oMiphci0xKSxmPWEvZyxtPWlzRmluaXRlKGEpPzErTWF0aC5mbG9vcihjKmYpOmFyO20+YXImJmNvbnNvbGUud2Fybihgc2lnbWFSYWRpYW5zLCAke2F9LCBpcyB0b28gbGFyZ2UgYW5kIHdpbGwgY2xpcCwgYXMgaXQgcmVxdWVzdGVkICR7bX0gc2FtcGxlcyB3aGVuIHRoZSBtYXhpbXVtIGlzIHNldCB0byAke2FyfWApO2NvbnN0IHY9W107bGV0IHk9MDtmb3IobGV0IFA9MDtQPGFyOysrUCl7Y29uc3Qgaz1QL2YsaWU9TWF0aC5leHAoLWsqay8yKTt2LnB1c2goaWUpLFA9PT0wP3krPWllOlA8bSYmKHkrPTIqaWUpfWZvcihsZXQgUD0wO1A8di5sZW5ndGg7UCsrKXZbUF09dltQXS95O2QuZW52TWFwLnZhbHVlPWUudGV4dHVyZSxkLnNhbXBsZXMudmFsdWU9bSxkLndlaWdodHMudmFsdWU9dixkLmxhdGl0dWRpbmFsLnZhbHVlPW49PT0ibGF0aXR1ZGluYWwiLG8mJihkLnBvbGVBeGlzLnZhbHVlPW8pO2NvbnN0e19sb2RNYXg6VH09dGhpcztkLmRUaGV0YS52YWx1ZT1nLGQubWlwSW50LnZhbHVlPVQtcjtjb25zdCB3PXRoaXMuX3NpemVMb2RzW3NdLGI9Myp3KihzPlQtcXI/cy1UK3FyOjApLEw9NCoodGhpcy5fY3ViZVNpemUtdyk7a2EodCxiLEwsMyp3LDIqdyksaC5zZXRSZW5kZXJUYXJnZXQodCksaC5yZW5kZXIodSxjbyl9fWZ1bmN0aW9uIFl4KGkpe2NvbnN0IGU9W10sdD1bXSxyPVtdO2xldCBzPWk7Y29uc3QgYT1pLXFyKzEremwubGVuZ3RoO2ZvcihsZXQgbj0wO248YTtuKyspe2NvbnN0IG89TWF0aC5wb3coMixzKTt0LnB1c2gobyk7bGV0IGg9MS9vO24+aS1xcj9oPXpsW24taStxci0xXTpuPT09MCYmKGg9MCksci5wdXNoKGgpO2NvbnN0IGw9MS8oby0xKSxjPS1sLzIsdT0xK2wvMixkPVtjLGMsdSxjLHUsdSxjLGMsdSx1LGMsdV0scD02LGc9NixmPTMsbT0yLHY9MSx5PW5ldyBGbG9hdDMyQXJyYXkoZipnKnApLFQ9bmV3IEZsb2F0MzJBcnJheShtKmcqcCksdz1uZXcgRmxvYXQzMkFycmF5KHYqZypwKTtmb3IobGV0IEw9MDtMPHA7TCsrKXtjb25zdCBQPUwlMyoyLzMtMSxrPUw+Mj8wOi0xLGllPVtQLGssMCxQKzIvMyxrLDAsUCsyLzMsaysxLDAsUCxrLDAsUCsyLzMsaysxLDAsUCxrKzEsMF07eS5zZXQoaWUsZipnKkwpLFQuc2V0KGQsbSpnKkwpO2NvbnN0IE89W0wsTCxMLEwsTCxMXTt3LnNldChPLHYqZypMKX1jb25zdCBiPW5ldyAkZTtiLnNldEF0dHJpYnV0ZSgicG9zaXRpb24iLG5ldyBjdCh5LGYpKSxiLnNldEF0dHJpYnV0ZSgidXYiLG5ldyBjdChULG0pKSxiLnNldEF0dHJpYnV0ZSgiZmFjZUluZGV4IixuZXcgY3Qodyx2KSksZS5wdXNoKGIpLHM+cXImJnMtLX1yZXR1cm57bG9kUGxhbmVzOmUsc2l6ZUxvZHM6dCxzaWdtYXM6cn19ZnVuY3Rpb24gSGwoaSxlLHQpe2NvbnN0IHI9bmV3IHp0KGksZSx0KTtyZXR1cm4gci50ZXh0dXJlLm1hcHBpbmc9Y2Esci50ZXh0dXJlLm5hbWU9IlBNUkVNLmN1YmVVdiIsci5zY2lzc29yVGVzdD0hMCxyfWZ1bmN0aW9uIGthKGksZSx0LHIscyl7aS52aWV3cG9ydC5zZXQoZSx0LHIscyksaS5zY2lzc29yLnNldChlLHQscixzKX1mdW5jdGlvbiBaeChpLGUsdCl7Y29uc3Qgcj1uZXcgRmxvYXQzMkFycmF5KGFyKSxzPW5ldyBFKDAsMSwwKTtyZXR1cm4gbmV3ICR0KHtuYW1lOiJTcGhlcmljYWxHYXVzc2lhbkJsdXIiLGRlZmluZXM6e246YXIsQ1VCRVVWX1RFWEVMX1dJRFRIOjEvZSxDVUJFVVZfVEVYRUxfSEVJR0hUOjEvdCxDVUJFVVZfTUFYX01JUDpgJHtpfS4wYH0sdW5pZm9ybXM6e2Vudk1hcDp7dmFsdWU6bnVsbH0sc2FtcGxlczp7dmFsdWU6MX0sd2VpZ2h0czp7dmFsdWU6cn0sbGF0aXR1ZGluYWw6e3ZhbHVlOiExfSxkVGhldGE6e3ZhbHVlOjB9LG1pcEludDp7dmFsdWU6MH0scG9sZUF4aXM6e3ZhbHVlOnN9fSx2ZXJ0ZXhTaGFkZXI6cG8oKSxmcmFnbWVudFNoYWRlcjpgCgoJCQlwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsKCQkJcHJlY2lzaW9uIG1lZGl1bXAgaW50OwoKCQkJdmFyeWluZyB2ZWMzIHZPdXRwdXREaXJlY3Rpb247CgoJCQl1bmlmb3JtIHNhbXBsZXIyRCBlbnZNYXA7CgkJCXVuaWZvcm0gaW50IHNhbXBsZXM7CgkJCXVuaWZvcm0gZmxvYXQgd2VpZ2h0c1sgbiBdOwoJCQl1bmlmb3JtIGJvb2wgbGF0aXR1ZGluYWw7CgkJCXVuaWZvcm0gZmxvYXQgZFRoZXRhOwoJCQl1bmlmb3JtIGZsb2F0IG1pcEludDsKCQkJdW5pZm9ybSB2ZWMzIHBvbGVBeGlzOwoKCQkJI2RlZmluZSBFTlZNQVBfVFlQRV9DVUJFX1VWCgkJCSNpbmNsdWRlIDxjdWJlX3V2X3JlZmxlY3Rpb25fZnJhZ21lbnQ+CgoJCQl2ZWMzIGdldFNhbXBsZSggZmxvYXQgdGhldGEsIHZlYzMgYXhpcyApIHsKCgkJCQlmbG9hdCBjb3NUaGV0YSA9IGNvcyggdGhldGEgKTsKCQkJCS8vIFJvZHJpZ3VlcycgYXhpcy1hbmdsZSByb3RhdGlvbgoJCQkJdmVjMyBzYW1wbGVEaXJlY3Rpb24gPSB2T3V0cHV0RGlyZWN0aW9uICogY29zVGhldGEKCQkJCQkrIGNyb3NzKCBheGlzLCB2T3V0cHV0RGlyZWN0aW9uICkgKiBzaW4oIHRoZXRhICkKCQkJCQkrIGF4aXMgKiBkb3QoIGF4aXMsIHZPdXRwdXREaXJlY3Rpb24gKSAqICggMS4wIC0gY29zVGhldGEgKTsKCgkJCQlyZXR1cm4gYmlsaW5lYXJDdWJlVVYoIGVudk1hcCwgc2FtcGxlRGlyZWN0aW9uLCBtaXBJbnQgKTsKCgkJCX0KCgkJCXZvaWQgbWFpbigpIHsKCgkJCQl2ZWMzIGF4aXMgPSBsYXRpdHVkaW5hbCA/IHBvbGVBeGlzIDogY3Jvc3MoIHBvbGVBeGlzLCB2T3V0cHV0RGlyZWN0aW9uICk7CgoJCQkJaWYgKCBhbGwoIGVxdWFsKCBheGlzLCB2ZWMzKCAwLjAgKSApICkgKSB7CgoJCQkJCWF4aXMgPSB2ZWMzKCB2T3V0cHV0RGlyZWN0aW9uLnosIDAuMCwgLSB2T3V0cHV0RGlyZWN0aW9uLnggKTsKCgkJCQl9CgoJCQkJYXhpcyA9IG5vcm1hbGl6ZSggYXhpcyApOwoKCQkJCWdsX0ZyYWdDb2xvciA9IHZlYzQoIDAuMCwgMC4wLCAwLjAsIDEuMCApOwoJCQkJZ2xfRnJhZ0NvbG9yLnJnYiArPSB3ZWlnaHRzWyAwIF0gKiBnZXRTYW1wbGUoIDAuMCwgYXhpcyApOwoKCQkJCWZvciAoIGludCBpID0gMTsgaSA8IG47IGkrKyApIHsKCgkJCQkJaWYgKCBpID49IHNhbXBsZXMgKSB7CgoJCQkJCQlicmVhazsKCgkJCQkJfQoKCQkJCQlmbG9hdCB0aGV0YSA9IGRUaGV0YSAqIGZsb2F0KCBpICk7CgkJCQkJZ2xfRnJhZ0NvbG9yLnJnYiArPSB3ZWlnaHRzWyBpIF0gKiBnZXRTYW1wbGUoIC0xLjAgKiB0aGV0YSwgYXhpcyApOwoJCQkJCWdsX0ZyYWdDb2xvci5yZ2IgKz0gd2VpZ2h0c1sgaSBdICogZ2V0U2FtcGxlKCB0aGV0YSwgYXhpcyApOwoKCQkJCX0KCgkJCX0KCQlgLGJsZW5kaW5nOklpLGRlcHRoVGVzdDohMSxkZXB0aFdyaXRlOiExfSl9ZnVuY3Rpb24ga2woKXtyZXR1cm4gbmV3ICR0KHtuYW1lOiJFcXVpcmVjdGFuZ3VsYXJUb0N1YmVVViIsdW5pZm9ybXM6e2Vudk1hcDp7dmFsdWU6bnVsbH19LHZlcnRleFNoYWRlcjpwbygpLGZyYWdtZW50U2hhZGVyOmAKCgkJCXByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwoJCQlwcmVjaXNpb24gbWVkaXVtcCBpbnQ7CgoJCQl2YXJ5aW5nIHZlYzMgdk91dHB1dERpcmVjdGlvbjsKCgkJCXVuaWZvcm0gc2FtcGxlcjJEIGVudk1hcDsKCgkJCSNpbmNsdWRlIDxjb21tb24+CgoJCQl2b2lkIG1haW4oKSB7CgoJCQkJdmVjMyBvdXRwdXREaXJlY3Rpb24gPSBub3JtYWxpemUoIHZPdXRwdXREaXJlY3Rpb24gKTsKCQkJCXZlYzIgdXYgPSBlcXVpcmVjdFV2KCBvdXRwdXREaXJlY3Rpb24gKTsKCgkJCQlnbF9GcmFnQ29sb3IgPSB2ZWM0KCB0ZXh0dXJlMkQgKCBlbnZNYXAsIHV2ICkucmdiLCAxLjAgKTsKCgkJCX0KCQlgLGJsZW5kaW5nOklpLGRlcHRoVGVzdDohMSxkZXB0aFdyaXRlOiExfSl9ZnVuY3Rpb24gR2woKXtyZXR1cm4gbmV3ICR0KHtuYW1lOiJDdWJlbWFwVG9DdWJlVVYiLHVuaWZvcm1zOntlbnZNYXA6e3ZhbHVlOm51bGx9LGZsaXBFbnZNYXA6e3ZhbHVlOi0xfX0sdmVydGV4U2hhZGVyOnBvKCksZnJhZ21lbnRTaGFkZXI6YAoKCQkJcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7CgkJCXByZWNpc2lvbiBtZWRpdW1wIGludDsKCgkJCXVuaWZvcm0gZmxvYXQgZmxpcEVudk1hcDsKCgkJCXZhcnlpbmcgdmVjMyB2T3V0cHV0RGlyZWN0aW9uOwoKCQkJdW5pZm9ybSBzYW1wbGVyQ3ViZSBlbnZNYXA7CgoJCQl2b2lkIG1haW4oKSB7CgoJCQkJZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZUN1YmUoIGVudk1hcCwgdmVjMyggZmxpcEVudk1hcCAqIHZPdXRwdXREaXJlY3Rpb24ueCwgdk91dHB1dERpcmVjdGlvbi55eiApICk7CgoJCQl9CgkJYCxibGVuZGluZzpJaSxkZXB0aFRlc3Q6ITEsZGVwdGhXcml0ZTohMX0pfWZ1bmN0aW9uIHBvKCl7cmV0dXJuYAoKCQlwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsKCQlwcmVjaXNpb24gbWVkaXVtcCBpbnQ7CgoJCWF0dHJpYnV0ZSBmbG9hdCBmYWNlSW5kZXg7CgoJCXZhcnlpbmcgdmVjMyB2T3V0cHV0RGlyZWN0aW9uOwoKCQkvLyBSSCBjb29yZGluYXRlIHN5c3RlbTsgUE1SRU0gZmFjZS1pbmRleGluZyBjb252ZW50aW9uCgkJdmVjMyBnZXREaXJlY3Rpb24oIHZlYzIgdXYsIGZsb2F0IGZhY2UgKSB7CgoJCQl1diA9IDIuMCAqIHV2IC0gMS4wOwoKCQkJdmVjMyBkaXJlY3Rpb24gPSB2ZWMzKCB1diwgMS4wICk7CgoJCQlpZiAoIGZhY2UgPT0gMC4wICkgewoKCQkJCWRpcmVjdGlvbiA9IGRpcmVjdGlvbi56eXg7IC8vICggMSwgdiwgdSApIHBvcyB4CgoJCQl9IGVsc2UgaWYgKCBmYWNlID09IDEuMCApIHsKCgkJCQlkaXJlY3Rpb24gPSBkaXJlY3Rpb24ueHp5OwoJCQkJZGlyZWN0aW9uLnh6ICo9IC0xLjA7IC8vICggLXUsIDEsIC12ICkgcG9zIHkKCgkJCX0gZWxzZSBpZiAoIGZhY2UgPT0gMi4wICkgewoKCQkJCWRpcmVjdGlvbi54ICo9IC0xLjA7IC8vICggLXUsIHYsIDEgKSBwb3MgegoKCQkJfSBlbHNlIGlmICggZmFjZSA9PSAzLjAgKSB7CgoJCQkJZGlyZWN0aW9uID0gZGlyZWN0aW9uLnp5eDsKCQkJCWRpcmVjdGlvbi54eiAqPSAtMS4wOyAvLyAoIC0xLCB2LCAtdSApIG5lZyB4CgoJCQl9IGVsc2UgaWYgKCBmYWNlID09IDQuMCApIHsKCgkJCQlkaXJlY3Rpb24gPSBkaXJlY3Rpb24ueHp5OwoJCQkJZGlyZWN0aW9uLnh5ICo9IC0xLjA7IC8vICggLXUsIC0xLCB2ICkgbmVnIHkKCgkJCX0gZWxzZSBpZiAoIGZhY2UgPT0gNS4wICkgewoKCQkJCWRpcmVjdGlvbi56ICo9IC0xLjA7IC8vICggdSwgdiwgLTEgKSBuZWcgegoKCQkJfQoKCQkJcmV0dXJuIGRpcmVjdGlvbjsKCgkJfQoKCQl2b2lkIG1haW4oKSB7CgoJCQl2T3V0cHV0RGlyZWN0aW9uID0gZ2V0RGlyZWN0aW9uKCB1diwgZmFjZUluZGV4ICk7CgkJCWdsX1Bvc2l0aW9uID0gdmVjNCggcG9zaXRpb24sIDEuMCApOwoKCQl9CglgfWZ1bmN0aW9uIEt4KGkpe2xldCBlPW5ldyBXZWFrTWFwLHQ9bnVsbDtmdW5jdGlvbiByKG8pe2lmKG8mJm8uaXNUZXh0dXJlKXtjb25zdCBoPW8ubWFwcGluZyxsPWg9PT1ibnx8aD09PXduLGM9aD09PWJyfHxoPT09d3I7aWYobHx8YylpZihvLmlzUmVuZGVyVGFyZ2V0VGV4dHVyZSYmby5uZWVkc1BNUkVNVXBkYXRlPT09ITApe28ubmVlZHNQTVJFTVVwZGF0ZT0hMTtsZXQgdT1lLmdldChvKTtyZXR1cm4gdD09PW51bGwmJih0PW5ldyBGbChpKSksdT1sP3QuZnJvbUVxdWlyZWN0YW5ndWxhcihvLHUpOnQuZnJvbUN1YmVtYXAobyx1KSxlLnNldChvLHUpLHUudGV4dHVyZX1lbHNle2lmKGUuaGFzKG8pKXJldHVybiBlLmdldChvKS50ZXh0dXJlO3tjb25zdCB1PW8uaW1hZ2U7aWYobCYmdSYmdS5oZWlnaHQ+MHx8YyYmdSYmcyh1KSl7dD09PW51bGwmJih0PW5ldyBGbChpKSk7Y29uc3QgZD1sP3QuZnJvbUVxdWlyZWN0YW5ndWxhcihvKTp0LmZyb21DdWJlbWFwKG8pO3JldHVybiBlLnNldChvLGQpLG8uYWRkRXZlbnRMaXN0ZW5lcigiZGlzcG9zZSIsYSksZC50ZXh0dXJlfWVsc2UgcmV0dXJuIG51bGx9fX1yZXR1cm4gb31mdW5jdGlvbiBzKG8pe2xldCBoPTA7Y29uc3QgbD02O2ZvcihsZXQgYz0wO2M8bDtjKyspb1tjXSE9PXZvaWQgMCYmaCsrO3JldHVybiBoPT09bH1mdW5jdGlvbiBhKG8pe2NvbnN0IGg9by50YXJnZXQ7aC5yZW1vdmVFdmVudExpc3RlbmVyKCJkaXNwb3NlIixhKTtjb25zdCBsPWUuZ2V0KGgpO2whPT12b2lkIDAmJihlLmRlbGV0ZShoKSxsLmRpc3Bvc2UoKSl9ZnVuY3Rpb24gbigpe2U9bmV3IFdlYWtNYXAsdCE9PW51bGwmJih0LmRpc3Bvc2UoKSx0PW51bGwpfXJldHVybntnZXQ6cixkaXNwb3NlOm59fWZ1bmN0aW9uIFF4KGkpe2NvbnN0IGU9e307ZnVuY3Rpb24gdChyKXtpZihlW3JdIT09dm9pZCAwKXJldHVybiBlW3JdO2xldCBzO3N3aXRjaChyKXtjYXNlIldFQkdMX2RlcHRoX3RleHR1cmUiOnM9aS5nZXRFeHRlbnNpb24oIldFQkdMX2RlcHRoX3RleHR1cmUiKXx8aS5nZXRFeHRlbnNpb24oIk1PWl9XRUJHTF9kZXB0aF90ZXh0dXJlIil8fGkuZ2V0RXh0ZW5zaW9uKCJXRUJLSVRfV0VCR0xfZGVwdGhfdGV4dHVyZSIpO2JyZWFrO2Nhc2UiRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljIjpzPWkuZ2V0RXh0ZW5zaW9uKCJFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMiKXx8aS5nZXRFeHRlbnNpb24oIk1PWl9FWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMiKXx8aS5nZXRFeHRlbnNpb24oIldFQktJVF9FWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMiKTticmVhaztjYXNlIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjIjpzPWkuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0YyIpfHxpLmdldEV4dGVuc2lvbigiTU9aX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjIil8fGkuZ2V0RXh0ZW5zaW9uKCJXRUJLSVRfV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGMiKTticmVhaztjYXNlIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0YyI6cz1pLmdldEV4dGVuc2lvbigiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjIil8fGkuZ2V0RXh0ZW5zaW9uKCJXRUJLSVRfV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjIik7YnJlYWs7ZGVmYXVsdDpzPWkuZ2V0RXh0ZW5zaW9uKHIpfXJldHVybiBlW3JdPXMsc31yZXR1cm57aGFzOmZ1bmN0aW9uKHIpe3JldHVybiB0KHIpIT09bnVsbH0saW5pdDpmdW5jdGlvbihyKXtyLmlzV2ViR0wyP3QoIkVYVF9jb2xvcl9idWZmZXJfZmxvYXQiKToodCgiV0VCR0xfZGVwdGhfdGV4dHVyZSIpLHQoIk9FU190ZXh0dXJlX2Zsb2F0IiksdCgiT0VTX3RleHR1cmVfaGFsZl9mbG9hdCIpLHQoIk9FU190ZXh0dXJlX2hhbGZfZmxvYXRfbGluZWFyIiksdCgiT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzIiksdCgiT0VTX2VsZW1lbnRfaW5kZXhfdWludCIpLHQoIk9FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0IiksdCgiQU5HTEVfaW5zdGFuY2VkX2FycmF5cyIpKSx0KCJPRVNfdGV4dHVyZV9mbG9hdF9saW5lYXIiKSx0KCJFWFRfY29sb3JfYnVmZmVyX2hhbGZfZmxvYXQiKSx0KCJXRUJHTF9tdWx0aXNhbXBsZWRfcmVuZGVyX3RvX3RleHR1cmUiKX0sZ2V0OmZ1bmN0aW9uKHIpe2NvbnN0IHM9dChyKTtyZXR1cm4gcz09PW51bGwmJmNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogIityKyIgZXh0ZW5zaW9uIG5vdCBzdXBwb3J0ZWQuIiksc319fWZ1bmN0aW9uICR4KGksZSx0LHIpe2NvbnN0IHM9e30sYT1uZXcgV2Vha01hcDtmdW5jdGlvbiBuKHUpe2NvbnN0IGQ9dS50YXJnZXQ7ZC5pbmRleCE9PW51bGwmJmUucmVtb3ZlKGQuaW5kZXgpO2Zvcihjb25zdCBnIGluIGQuYXR0cmlidXRlcyllLnJlbW92ZShkLmF0dHJpYnV0ZXNbZ10pO2QucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZGlzcG9zZSIsbiksZGVsZXRlIHNbZC5pZF07Y29uc3QgcD1hLmdldChkKTtwJiYoZS5yZW1vdmUocCksYS5kZWxldGUoZCkpLHIucmVsZWFzZVN0YXRlc09mR2VvbWV0cnkoZCksZC5pc0luc3RhbmNlZEJ1ZmZlckdlb21ldHJ5PT09ITAmJmRlbGV0ZSBkLl9tYXhJbnN0YW5jZUNvdW50LHQubWVtb3J5Lmdlb21ldHJpZXMtLX1mdW5jdGlvbiBvKHUsZCl7cmV0dXJuIHNbZC5pZF09PT0hMHx8KGQuYWRkRXZlbnRMaXN0ZW5lcigiZGlzcG9zZSIsbiksc1tkLmlkXT0hMCx0Lm1lbW9yeS5nZW9tZXRyaWVzKyspLGR9ZnVuY3Rpb24gaCh1KXtjb25zdCBkPXUuYXR0cmlidXRlcztmb3IoY29uc3QgZyBpbiBkKWUudXBkYXRlKGRbZ10sMzQ5NjIpO2NvbnN0IHA9dS5tb3JwaEF0dHJpYnV0ZXM7Zm9yKGNvbnN0IGcgaW4gcCl7Y29uc3QgZj1wW2ddO2ZvcihsZXQgbT0wLHY9Zi5sZW5ndGg7bTx2O20rKyllLnVwZGF0ZShmW21dLDM0OTYyKX19ZnVuY3Rpb24gbCh1KXtjb25zdCBkPVtdLHA9dS5pbmRleCxnPXUuYXR0cmlidXRlcy5wb3NpdGlvbjtsZXQgZj0wO2lmKHAhPT1udWxsKXtjb25zdCB5PXAuYXJyYXk7Zj1wLnZlcnNpb247Zm9yKGxldCBUPTAsdz15Lmxlbmd0aDtUPHc7VCs9Myl7Y29uc3QgYj15W1QrMF0sTD15W1QrMV0sUD15W1QrMl07ZC5wdXNoKGIsTCxMLFAsUCxiKX19ZWxzZXtjb25zdCB5PWcuYXJyYXk7Zj1nLnZlcnNpb247Zm9yKGxldCBUPTAsdz15Lmxlbmd0aC8zLTE7VDx3O1QrPTMpe2NvbnN0IGI9VCswLEw9VCsxLFA9VCsyO2QucHVzaChiLEwsTCxQLFAsYil9fWNvbnN0IG09bmV3KHZsKGQpP0lsOlBsKShkLDEpO20udmVyc2lvbj1mO2NvbnN0IHY9YS5nZXQodSk7diYmZS5yZW1vdmUodiksYS5zZXQodSxtKX1mdW5jdGlvbiBjKHUpe2NvbnN0IGQ9YS5nZXQodSk7aWYoZCl7Y29uc3QgcD11LmluZGV4O3AhPT1udWxsJiZkLnZlcnNpb248cC52ZXJzaW9uJiZsKHUpfWVsc2UgbCh1KTtyZXR1cm4gYS5nZXQodSl9cmV0dXJue2dldDpvLHVwZGF0ZTpoLGdldFdpcmVmcmFtZUF0dHJpYnV0ZTpjfX1mdW5jdGlvbiBlXyhpLGUsdCxyKXtjb25zdCBzPXIuaXNXZWJHTDI7bGV0IGE7ZnVuY3Rpb24gbihkKXthPWR9bGV0IG8saDtmdW5jdGlvbiBsKGQpe289ZC50eXBlLGg9ZC5ieXRlc1BlckVsZW1lbnR9ZnVuY3Rpb24gYyhkLHApe2kuZHJhd0VsZW1lbnRzKGEscCxvLGQqaCksdC51cGRhdGUocCxhLDEpfWZ1bmN0aW9uIHUoZCxwLGcpe2lmKGc9PT0wKXJldHVybjtsZXQgZixtO2lmKHMpZj1pLG09ImRyYXdFbGVtZW50c0luc3RhbmNlZCI7ZWxzZSBpZihmPWUuZ2V0KCJBTkdMRV9pbnN0YW5jZWRfYXJyYXlzIiksbT0iZHJhd0VsZW1lbnRzSW5zdGFuY2VkQU5HTEUiLGY9PT1udWxsKXtjb25zb2xlLmVycm9yKCJUSFJFRS5XZWJHTEluZGV4ZWRCdWZmZXJSZW5kZXJlcjogdXNpbmcgVEhSRUUuSW5zdGFuY2VkQnVmZmVyR2VvbWV0cnkgYnV0IGhhcmR3YXJlIGRvZXMgbm90IHN1cHBvcnQgZXh0ZW5zaW9uIEFOR0xFX2luc3RhbmNlZF9hcnJheXMuIik7cmV0dXJufWZbbV0oYSxwLG8sZCpoLGcpLHQudXBkYXRlKHAsYSxnKX10aGlzLnNldE1vZGU9bix0aGlzLnNldEluZGV4PWwsdGhpcy5yZW5kZXI9Yyx0aGlzLnJlbmRlckluc3RhbmNlcz11fWZ1bmN0aW9uIHRfKGkpe2NvbnN0IGU9e2dlb21ldHJpZXM6MCx0ZXh0dXJlczowfSx0PXtmcmFtZTowLGNhbGxzOjAsdHJpYW5nbGVzOjAscG9pbnRzOjAsbGluZXM6MH07ZnVuY3Rpb24gcihhLG4sbyl7c3dpdGNoKHQuY2FsbHMrKyxuKXtjYXNlIDQ6dC50cmlhbmdsZXMrPW8qKGEvMyk7YnJlYWs7Y2FzZSAxOnQubGluZXMrPW8qKGEvMik7YnJlYWs7Y2FzZSAzOnQubGluZXMrPW8qKGEtMSk7YnJlYWs7Y2FzZSAyOnQubGluZXMrPW8qYTticmVhaztjYXNlIDA6dC5wb2ludHMrPW8qYTticmVhaztkZWZhdWx0OmNvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMSW5mbzogVW5rbm93biBkcmF3IG1vZGU6IixuKTticmVha319ZnVuY3Rpb24gcygpe3QuZnJhbWUrKyx0LmNhbGxzPTAsdC50cmlhbmdsZXM9MCx0LnBvaW50cz0wLHQubGluZXM9MH1yZXR1cm57bWVtb3J5OmUscmVuZGVyOnQscHJvZ3JhbXM6bnVsbCxhdXRvUmVzZXQ6ITAscmVzZXQ6cyx1cGRhdGU6cn19ZnVuY3Rpb24gaV8oaSxlKXtyZXR1cm4gaVswXS1lWzBdfWZ1bmN0aW9uIHJfKGksZSl7cmV0dXJuIE1hdGguYWJzKGVbMV0pLU1hdGguYWJzKGlbMV0pfWZ1bmN0aW9uIGZvKGksZSl7bGV0IHQ9MTtjb25zdCByPWUuaXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZT9lLmRhdGEuYXJyYXk6ZS5hcnJheTtyIGluc3RhbmNlb2YgSW50OEFycmF5P3Q9MTI3OnIgaW5zdGFuY2VvZiBJbnQxNkFycmF5P3Q9MzI3Njc6ciBpbnN0YW5jZW9mIEludDMyQXJyYXk/dD0yMTQ3NDgzNjQ3OmNvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMTW9ycGh0YXJnZXRzOiBVbnN1cHBvcnRlZCBtb3JwaCBhdHRyaWJ1dGUgZGF0YSB0eXBlOiAiLHIpLGkuZGl2aWRlU2NhbGFyKHQpfWZ1bmN0aW9uIHNfKGksZSx0KXtjb25zdCByPXt9LHM9bmV3IEZsb2F0MzJBcnJheSg4KSxhPW5ldyBXZWFrTWFwLG49bmV3IFhlLG89W107Zm9yKGxldCBsPTA7bDw4O2wrKylvW2xdPVtsLDBdO2Z1bmN0aW9uIGgobCxjLHUsZCl7Y29uc3QgcD1sLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcztpZihlLmlzV2ViR0wyPT09ITApe2NvbnN0IGc9Yy5tb3JwaEF0dHJpYnV0ZXMucG9zaXRpb258fGMubW9ycGhBdHRyaWJ1dGVzLm5vcm1hbHx8Yy5tb3JwaEF0dHJpYnV0ZXMuY29sb3IsZj1nIT09dm9pZCAwP2cubGVuZ3RoOjA7bGV0IG09YS5nZXQoYyk7aWYobT09PXZvaWQgMHx8bS5jb3VudCE9PWYpe2xldCBUPWZ1bmN0aW9uKCl7Ti5kaXNwb3NlKCksYS5kZWxldGUoYyksYy5yZW1vdmVFdmVudExpc3RlbmVyKCJkaXNwb3NlIixUKX07bSE9PXZvaWQgMCYmbS50ZXh0dXJlLmRpc3Bvc2UoKTtjb25zdCB3PWMubW9ycGhBdHRyaWJ1dGVzLnBvc2l0aW9uIT09dm9pZCAwLGI9Yy5tb3JwaEF0dHJpYnV0ZXMubm9ybWFsIT09dm9pZCAwLEw9Yy5tb3JwaEF0dHJpYnV0ZXMuY29sb3IhPT12b2lkIDAsUD1jLm1vcnBoQXR0cmlidXRlcy5wb3NpdGlvbnx8W10saz1jLm1vcnBoQXR0cmlidXRlcy5ub3JtYWx8fFtdLGllPWMubW9ycGhBdHRyaWJ1dGVzLmNvbG9yfHxbXTtsZXQgTz0wO3c9PT0hMCYmKE89MSksYj09PSEwJiYoTz0yKSxMPT09ITAmJihPPTMpO2xldCB4PWMuYXR0cmlidXRlcy5wb3NpdGlvbi5jb3VudCpPLEM9MTt4PmUubWF4VGV4dHVyZVNpemUmJihDPU1hdGguY2VpbCh4L2UubWF4VGV4dHVyZVNpemUpLHg9ZS5tYXhUZXh0dXJlU2l6ZSk7Y29uc3QgWT1uZXcgRmxvYXQzMkFycmF5KHgqQyo0KmYpLE49bmV3IHlhKFkseCxDLGYpO04udHlwZT1ZaSxOLm5lZWRzVXBkYXRlPSEwO2NvbnN0IFU9Tyo0O2ZvcihsZXQgQj0wO0I8ZjtCKyspe2NvbnN0IEc9UFtCXSxSPWtbQl0sWD1pZVtCXSxKPXgqQyo0KkI7Zm9yKGxldCB0ZT0wO3RlPEcuY291bnQ7dGUrKyl7Y29uc3QgUT10ZSpVO3c9PT0hMCYmKG4uZnJvbUJ1ZmZlckF0dHJpYnV0ZShHLHRlKSxHLm5vcm1hbGl6ZWQ9PT0hMCYmZm8obixHKSxZW0orUSswXT1uLngsWVtKK1ErMV09bi55LFlbSitRKzJdPW4ueixZW0orUSszXT0wKSxiPT09ITAmJihuLmZyb21CdWZmZXJBdHRyaWJ1dGUoUix0ZSksUi5ub3JtYWxpemVkPT09ITAmJmZvKG4sUiksWVtKK1ErNF09bi54LFlbSitRKzVdPW4ueSxZW0orUSs2XT1uLnosWVtKK1ErN109MCksTD09PSEwJiYobi5mcm9tQnVmZmVyQXR0cmlidXRlKFgsdGUpLFgubm9ybWFsaXplZD09PSEwJiZmbyhuLFgpLFlbSitRKzhdPW4ueCxZW0orUSs5XT1uLnksWVtKK1ErMTBdPW4ueixZW0orUSsxMV09WC5pdGVtU2l6ZT09PTQ/bi53OjEpfX1tPXtjb3VudDpmLHRleHR1cmU6TixzaXplOm5ldyBlZSh4LEMpfSxhLnNldChjLG0pLGMuYWRkRXZlbnRMaXN0ZW5lcigiZGlzcG9zZSIsVCl9bGV0IHY9MDtmb3IobGV0IFQ9MDtUPHAubGVuZ3RoO1QrKyl2Kz1wW1RdO2NvbnN0IHk9Yy5tb3JwaFRhcmdldHNSZWxhdGl2ZT8xOjEtdjtkLmdldFVuaWZvcm1zKCkuc2V0VmFsdWUoaSwibW9ycGhUYXJnZXRCYXNlSW5mbHVlbmNlIix5KSxkLmdldFVuaWZvcm1zKCkuc2V0VmFsdWUoaSwibW9ycGhUYXJnZXRJbmZsdWVuY2VzIixwKSxkLmdldFVuaWZvcm1zKCkuc2V0VmFsdWUoaSwibW9ycGhUYXJnZXRzVGV4dHVyZSIsbS50ZXh0dXJlLHQpLGQuZ2V0VW5pZm9ybXMoKS5zZXRWYWx1ZShpLCJtb3JwaFRhcmdldHNUZXh0dXJlU2l6ZSIsbS5zaXplKX1lbHNle2NvbnN0IGc9cD09PXZvaWQgMD8wOnAubGVuZ3RoO2xldCBmPXJbYy5pZF07aWYoZj09PXZvaWQgMHx8Zi5sZW5ndGghPT1nKXtmPVtdO2ZvcihsZXQgdz0wO3c8Zzt3KyspZlt3XT1bdywwXTtyW2MuaWRdPWZ9Zm9yKGxldCB3PTA7dzxnO3crKyl7Y29uc3QgYj1mW3ddO2JbMF09dyxiWzFdPXBbd119Zi5zb3J0KHJfKTtmb3IobGV0IHc9MDt3PDg7dysrKXc8ZyYmZlt3XVsxXT8ob1t3XVswXT1mW3ddWzBdLG9bd11bMV09Zlt3XVsxXSk6KG9bd11bMF09TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsb1t3XVsxXT0wKTtvLnNvcnQoaV8pO2NvbnN0IG09Yy5tb3JwaEF0dHJpYnV0ZXMucG9zaXRpb24sdj1jLm1vcnBoQXR0cmlidXRlcy5ub3JtYWw7bGV0IHk9MDtmb3IobGV0IHc9MDt3PDg7dysrKXtjb25zdCBiPW9bd10sTD1iWzBdLFA9YlsxXTtMIT09TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVImJlA/KG0mJmMuZ2V0QXR0cmlidXRlKCJtb3JwaFRhcmdldCIrdykhPT1tW0xdJiZjLnNldEF0dHJpYnV0ZSgibW9ycGhUYXJnZXQiK3csbVtMXSksdiYmYy5nZXRBdHRyaWJ1dGUoIm1vcnBoTm9ybWFsIit3KSE9PXZbTF0mJmMuc2V0QXR0cmlidXRlKCJtb3JwaE5vcm1hbCIrdyx2W0xdKSxzW3ddPVAseSs9UCk6KG0mJmMuaGFzQXR0cmlidXRlKCJtb3JwaFRhcmdldCIrdyk9PT0hMCYmYy5kZWxldGVBdHRyaWJ1dGUoIm1vcnBoVGFyZ2V0Iit3KSx2JiZjLmhhc0F0dHJpYnV0ZSgibW9ycGhOb3JtYWwiK3cpPT09ITAmJmMuZGVsZXRlQXR0cmlidXRlKCJtb3JwaE5vcm1hbCIrdyksc1t3XT0wKX1jb25zdCBUPWMubW9ycGhUYXJnZXRzUmVsYXRpdmU/MToxLXk7ZC5nZXRVbmlmb3JtcygpLnNldFZhbHVlKGksIm1vcnBoVGFyZ2V0QmFzZUluZmx1ZW5jZSIsVCksZC5nZXRVbmlmb3JtcygpLnNldFZhbHVlKGksIm1vcnBoVGFyZ2V0SW5mbHVlbmNlcyIscyl9fXJldHVybnt1cGRhdGU6aH19ZnVuY3Rpb24gYV8oaSxlLHQscil7bGV0IHM9bmV3IFdlYWtNYXA7ZnVuY3Rpb24gYShoKXtjb25zdCBsPXIucmVuZGVyLmZyYW1lLGM9aC5nZW9tZXRyeSx1PWUuZ2V0KGgsYyk7cmV0dXJuIHMuZ2V0KHUpIT09bCYmKGUudXBkYXRlKHUpLHMuc2V0KHUsbCkpLGguaXNJbnN0YW5jZWRNZXNoJiYoaC5oYXNFdmVudExpc3RlbmVyKCJkaXNwb3NlIixvKT09PSExJiZoLmFkZEV2ZW50TGlzdGVuZXIoImRpc3Bvc2UiLG8pLHQudXBkYXRlKGguaW5zdGFuY2VNYXRyaXgsMzQ5NjIpLGguaW5zdGFuY2VDb2xvciE9PW51bGwmJnQudXBkYXRlKGguaW5zdGFuY2VDb2xvciwzNDk2MikpLHV9ZnVuY3Rpb24gbigpe3M9bmV3IFdlYWtNYXB9ZnVuY3Rpb24gbyhoKXtjb25zdCBsPWgudGFyZ2V0O2wucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZGlzcG9zZSIsbyksdC5yZW1vdmUobC5pbnN0YW5jZU1hdHJpeCksbC5pbnN0YW5jZUNvbG9yIT09bnVsbCYmdC5yZW1vdmUobC5pbnN0YW5jZUNvbG9yKX1yZXR1cm57dXBkYXRlOmEsZGlzcG9zZTpufX1jb25zdCBWbD1uZXcgZHQsV2w9bmV3IHlhLGpsPW5ldyBrbixxbD1uZXcgVWEsWGw9W10sSmw9W10sWWw9bmV3IEZsb2F0MzJBcnJheSgxNiksWmw9bmV3IEZsb2F0MzJBcnJheSg5KSxLbD1uZXcgRmxvYXQzMkFycmF5KDQpO2Z1bmN0aW9uIEpyKGksZSx0KXtjb25zdCByPWlbMF07aWYocjw9MHx8cj4wKXJldHVybiBpO2NvbnN0IHM9ZSp0O2xldCBhPVhsW3NdO2lmKGE9PT12b2lkIDAmJihhPW5ldyBGbG9hdDMyQXJyYXkocyksWGxbc109YSksZSE9PTApe3IudG9BcnJheShhLDApO2ZvcihsZXQgbj0xLG89MDtuIT09ZTsrK24pbys9dCxpW25dLnRvQXJyYXkoYSxvKX1yZXR1cm4gYX1mdW5jdGlvbiBBdChpLGUpe2lmKGkubGVuZ3RoIT09ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKGxldCB0PTAscj1pLmxlbmd0aDt0PHI7dCsrKWlmKGlbdF0hPT1lW3RdKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIGJ0KGksZSl7Zm9yKGxldCB0PTAscj1lLmxlbmd0aDt0PHI7dCsrKWlbdF09ZVt0XX1mdW5jdGlvbiBHYShpLGUpe2xldCB0PUpsW2VdO3Q9PT12b2lkIDAmJih0PW5ldyBJbnQzMkFycmF5KGUpLEpsW2VdPXQpO2ZvcihsZXQgcj0wO3IhPT1lOysrcil0W3JdPWkuYWxsb2NhdGVUZXh0dXJlVW5pdCgpO3JldHVybiB0fWZ1bmN0aW9uIG5fKGksZSl7Y29uc3QgdD10aGlzLmNhY2hlO3RbMF0hPT1lJiYoaS51bmlmb3JtMWYodGhpcy5hZGRyLGUpLHRbMF09ZSl9ZnVuY3Rpb24gb18oaSxlKXtjb25zdCB0PXRoaXMuY2FjaGU7aWYoZS54IT09dm9pZCAwKSh0WzBdIT09ZS54fHx0WzFdIT09ZS55KSYmKGkudW5pZm9ybTJmKHRoaXMuYWRkcixlLngsZS55KSx0WzBdPWUueCx0WzFdPWUueSk7ZWxzZXtpZihBdCh0LGUpKXJldHVybjtpLnVuaWZvcm0yZnYodGhpcy5hZGRyLGUpLGJ0KHQsZSl9fWZ1bmN0aW9uIGhfKGksZSl7Y29uc3QgdD10aGlzLmNhY2hlO2lmKGUueCE9PXZvaWQgMCkodFswXSE9PWUueHx8dFsxXSE9PWUueXx8dFsyXSE9PWUueikmJihpLnVuaWZvcm0zZih0aGlzLmFkZHIsZS54LGUueSxlLnopLHRbMF09ZS54LHRbMV09ZS55LHRbMl09ZS56KTtlbHNlIGlmKGUuciE9PXZvaWQgMCkodFswXSE9PWUucnx8dFsxXSE9PWUuZ3x8dFsyXSE9PWUuYikmJihpLnVuaWZvcm0zZih0aGlzLmFkZHIsZS5yLGUuZyxlLmIpLHRbMF09ZS5yLHRbMV09ZS5nLHRbMl09ZS5iKTtlbHNle2lmKEF0KHQsZSkpcmV0dXJuO2kudW5pZm9ybTNmdih0aGlzLmFkZHIsZSksYnQodCxlKX19ZnVuY3Rpb24gbF8oaSxlKXtjb25zdCB0PXRoaXMuY2FjaGU7aWYoZS54IT09dm9pZCAwKSh0WzBdIT09ZS54fHx0WzFdIT09ZS55fHx0WzJdIT09ZS56fHx0WzNdIT09ZS53KSYmKGkudW5pZm9ybTRmKHRoaXMuYWRkcixlLngsZS55LGUueixlLncpLHRbMF09ZS54LHRbMV09ZS55LHRbMl09ZS56LHRbM109ZS53KTtlbHNle2lmKEF0KHQsZSkpcmV0dXJuO2kudW5pZm9ybTRmdih0aGlzLmFkZHIsZSksYnQodCxlKX19ZnVuY3Rpb24gY18oaSxlKXtjb25zdCB0PXRoaXMuY2FjaGUscj1lLmVsZW1lbnRzO2lmKHI9PT12b2lkIDApe2lmKEF0KHQsZSkpcmV0dXJuO2kudW5pZm9ybU1hdHJpeDJmdih0aGlzLmFkZHIsITEsZSksYnQodCxlKX1lbHNle2lmKEF0KHQscikpcmV0dXJuO0tsLnNldChyKSxpLnVuaWZvcm1NYXRyaXgyZnYodGhpcy5hZGRyLCExLEtsKSxidCh0LHIpfX1mdW5jdGlvbiB1XyhpLGUpe2NvbnN0IHQ9dGhpcy5jYWNoZSxyPWUuZWxlbWVudHM7aWYocj09PXZvaWQgMCl7aWYoQXQodCxlKSlyZXR1cm47aS51bmlmb3JtTWF0cml4M2Z2KHRoaXMuYWRkciwhMSxlKSxidCh0LGUpfWVsc2V7aWYoQXQodCxyKSlyZXR1cm47Wmwuc2V0KHIpLGkudW5pZm9ybU1hdHJpeDNmdih0aGlzLmFkZHIsITEsWmwpLGJ0KHQscil9fWZ1bmN0aW9uIGRfKGksZSl7Y29uc3QgdD10aGlzLmNhY2hlLHI9ZS5lbGVtZW50cztpZihyPT09dm9pZCAwKXtpZihBdCh0LGUpKXJldHVybjtpLnVuaWZvcm1NYXRyaXg0ZnYodGhpcy5hZGRyLCExLGUpLGJ0KHQsZSl9ZWxzZXtpZihBdCh0LHIpKXJldHVybjtZbC5zZXQociksaS51bmlmb3JtTWF0cml4NGZ2KHRoaXMuYWRkciwhMSxZbCksYnQodCxyKX19ZnVuY3Rpb24gcF8oaSxlKXtjb25zdCB0PXRoaXMuY2FjaGU7dFswXSE9PWUmJihpLnVuaWZvcm0xaSh0aGlzLmFkZHIsZSksdFswXT1lKX1mdW5jdGlvbiBmXyhpLGUpe2NvbnN0IHQ9dGhpcy5jYWNoZTtBdCh0LGUpfHwoaS51bmlmb3JtMml2KHRoaXMuYWRkcixlKSxidCh0LGUpKX1mdW5jdGlvbiBtXyhpLGUpe2NvbnN0IHQ9dGhpcy5jYWNoZTtBdCh0LGUpfHwoaS51bmlmb3JtM2l2KHRoaXMuYWRkcixlKSxidCh0LGUpKX1mdW5jdGlvbiBnXyhpLGUpe2NvbnN0IHQ9dGhpcy5jYWNoZTtBdCh0LGUpfHwoaS51bmlmb3JtNGl2KHRoaXMuYWRkcixlKSxidCh0LGUpKX1mdW5jdGlvbiB2XyhpLGUpe2NvbnN0IHQ9dGhpcy5jYWNoZTt0WzBdIT09ZSYmKGkudW5pZm9ybTF1aSh0aGlzLmFkZHIsZSksdFswXT1lKX1mdW5jdGlvbiB4XyhpLGUpe2NvbnN0IHQ9dGhpcy5jYWNoZTtBdCh0LGUpfHwoaS51bmlmb3JtMnVpdih0aGlzLmFkZHIsZSksYnQodCxlKSl9ZnVuY3Rpb24gX18oaSxlKXtjb25zdCB0PXRoaXMuY2FjaGU7QXQodCxlKXx8KGkudW5pZm9ybTN1aXYodGhpcy5hZGRyLGUpLGJ0KHQsZSkpfWZ1bmN0aW9uIHlfKGksZSl7Y29uc3QgdD10aGlzLmNhY2hlO0F0KHQsZSl8fChpLnVuaWZvcm00dWl2KHRoaXMuYWRkcixlKSxidCh0LGUpKX1mdW5jdGlvbiBNXyhpLGUsdCl7Y29uc3Qgcj10aGlzLmNhY2hlLHM9dC5hbGxvY2F0ZVRleHR1cmVVbml0KCk7clswXSE9PXMmJihpLnVuaWZvcm0xaSh0aGlzLmFkZHIscyksclswXT1zKSx0LnNldFRleHR1cmUyRChlfHxWbCxzKX1mdW5jdGlvbiBiXyhpLGUsdCl7Y29uc3Qgcj10aGlzLmNhY2hlLHM9dC5hbGxvY2F0ZVRleHR1cmVVbml0KCk7clswXSE9PXMmJihpLnVuaWZvcm0xaSh0aGlzLmFkZHIscyksclswXT1zKSx0LnNldFRleHR1cmUzRChlfHxqbCxzKX1mdW5jdGlvbiB3XyhpLGUsdCl7Y29uc3Qgcj10aGlzLmNhY2hlLHM9dC5hbGxvY2F0ZVRleHR1cmVVbml0KCk7clswXSE9PXMmJihpLnVuaWZvcm0xaSh0aGlzLmFkZHIscyksclswXT1zKSx0LnNldFRleHR1cmVDdWJlKGV8fHFsLHMpfWZ1bmN0aW9uIFNfKGksZSx0KXtjb25zdCByPXRoaXMuY2FjaGUscz10LmFsbG9jYXRlVGV4dHVyZVVuaXQoKTtyWzBdIT09cyYmKGkudW5pZm9ybTFpKHRoaXMuYWRkcixzKSxyWzBdPXMpLHQuc2V0VGV4dHVyZTJEQXJyYXkoZXx8V2wscyl9ZnVuY3Rpb24gRV8oaSl7c3dpdGNoKGkpe2Nhc2UgNTEyNjpyZXR1cm4gbl87Y2FzZSAzNTY2NDpyZXR1cm4gb187Y2FzZSAzNTY2NTpyZXR1cm4gaF87Y2FzZSAzNTY2NjpyZXR1cm4gbF87Y2FzZSAzNTY3NDpyZXR1cm4gY187Y2FzZSAzNTY3NTpyZXR1cm4gdV87Y2FzZSAzNTY3NjpyZXR1cm4gZF87Y2FzZSA1MTI0OmNhc2UgMzU2NzA6cmV0dXJuIHBfO2Nhc2UgMzU2Njc6Y2FzZSAzNTY3MTpyZXR1cm4gZl87Y2FzZSAzNTY2ODpjYXNlIDM1NjcyOnJldHVybiBtXztjYXNlIDM1NjY5OmNhc2UgMzU2NzM6cmV0dXJuIGdfO2Nhc2UgNTEyNTpyZXR1cm4gdl87Y2FzZSAzNjI5NDpyZXR1cm4geF87Y2FzZSAzNjI5NTpyZXR1cm4gX187Y2FzZSAzNjI5NjpyZXR1cm4geV87Y2FzZSAzNTY3ODpjYXNlIDM2MTk4OmNhc2UgMzYyOTg6Y2FzZSAzNjMwNjpjYXNlIDM1NjgyOnJldHVybiBNXztjYXNlIDM1Njc5OmNhc2UgMzYyOTk6Y2FzZSAzNjMwNzpyZXR1cm4gYl87Y2FzZSAzNTY4MDpjYXNlIDM2MzAwOmNhc2UgMzYzMDg6Y2FzZSAzNjI5MzpyZXR1cm4gd187Y2FzZSAzNjI4OTpjYXNlIDM2MzAzOmNhc2UgMzYzMTE6Y2FzZSAzNjI5MjpyZXR1cm4gU199fWZ1bmN0aW9uIFRfKGksZSl7aS51bmlmb3JtMWZ2KHRoaXMuYWRkcixlKX1mdW5jdGlvbiBBXyhpLGUpe2NvbnN0IHQ9SnIoZSx0aGlzLnNpemUsMik7aS51bmlmb3JtMmZ2KHRoaXMuYWRkcix0KX1mdW5jdGlvbiBDXyhpLGUpe2NvbnN0IHQ9SnIoZSx0aGlzLnNpemUsMyk7aS51bmlmb3JtM2Z2KHRoaXMuYWRkcix0KX1mdW5jdGlvbiBMXyhpLGUpe2NvbnN0IHQ9SnIoZSx0aGlzLnNpemUsNCk7aS51bmlmb3JtNGZ2KHRoaXMuYWRkcix0KX1mdW5jdGlvbiBSXyhpLGUpe2NvbnN0IHQ9SnIoZSx0aGlzLnNpemUsNCk7aS51bmlmb3JtTWF0cml4MmZ2KHRoaXMuYWRkciwhMSx0KX1mdW5jdGlvbiBQXyhpLGUpe2NvbnN0IHQ9SnIoZSx0aGlzLnNpemUsOSk7aS51bmlmb3JtTWF0cml4M2Z2KHRoaXMuYWRkciwhMSx0KX1mdW5jdGlvbiBJXyhpLGUpe2NvbnN0IHQ9SnIoZSx0aGlzLnNpemUsMTYpO2kudW5pZm9ybU1hdHJpeDRmdih0aGlzLmFkZHIsITEsdCl9ZnVuY3Rpb24gTl8oaSxlKXtpLnVuaWZvcm0xaXYodGhpcy5hZGRyLGUpfWZ1bmN0aW9uIERfKGksZSl7aS51bmlmb3JtMml2KHRoaXMuYWRkcixlKX1mdW5jdGlvbiBPXyhpLGUpe2kudW5pZm9ybTNpdih0aGlzLmFkZHIsZSl9ZnVuY3Rpb24gel8oaSxlKXtpLnVuaWZvcm00aXYodGhpcy5hZGRyLGUpfWZ1bmN0aW9uIEJfKGksZSl7aS51bmlmb3JtMXVpdih0aGlzLmFkZHIsZSl9ZnVuY3Rpb24gVV8oaSxlKXtpLnVuaWZvcm0ydWl2KHRoaXMuYWRkcixlKX1mdW5jdGlvbiBGXyhpLGUpe2kudW5pZm9ybTN1aXYodGhpcy5hZGRyLGUpfWZ1bmN0aW9uIEhfKGksZSl7aS51bmlmb3JtNHVpdih0aGlzLmFkZHIsZSl9ZnVuY3Rpb24ga18oaSxlLHQpe2NvbnN0IHI9ZS5sZW5ndGgscz1HYSh0LHIpO2kudW5pZm9ybTFpdih0aGlzLmFkZHIscyk7Zm9yKGxldCBhPTA7YSE9PXI7KythKXQuc2V0VGV4dHVyZTJEKGVbYV18fFZsLHNbYV0pfWZ1bmN0aW9uIEdfKGksZSx0KXtjb25zdCByPWUubGVuZ3RoLHM9R2EodCxyKTtpLnVuaWZvcm0xaXYodGhpcy5hZGRyLHMpO2ZvcihsZXQgYT0wO2EhPT1yOysrYSl0LnNldFRleHR1cmUzRChlW2FdfHxqbCxzW2FdKX1mdW5jdGlvbiBWXyhpLGUsdCl7Y29uc3Qgcj1lLmxlbmd0aCxzPUdhKHQscik7aS51bmlmb3JtMWl2KHRoaXMuYWRkcixzKTtmb3IobGV0IGE9MDthIT09cjsrK2EpdC5zZXRUZXh0dXJlQ3ViZShlW2FdfHxxbCxzW2FdKX1mdW5jdGlvbiBXXyhpLGUsdCl7Y29uc3Qgcj1lLmxlbmd0aCxzPUdhKHQscik7aS51bmlmb3JtMWl2KHRoaXMuYWRkcixzKTtmb3IobGV0IGE9MDthIT09cjsrK2EpdC5zZXRUZXh0dXJlMkRBcnJheShlW2FdfHxXbCxzW2FdKX1mdW5jdGlvbiBqXyhpKXtzd2l0Y2goaSl7Y2FzZSA1MTI2OnJldHVybiBUXztjYXNlIDM1NjY0OnJldHVybiBBXztjYXNlIDM1NjY1OnJldHVybiBDXztjYXNlIDM1NjY2OnJldHVybiBMXztjYXNlIDM1Njc0OnJldHVybiBSXztjYXNlIDM1Njc1OnJldHVybiBQXztjYXNlIDM1Njc2OnJldHVybiBJXztjYXNlIDUxMjQ6Y2FzZSAzNTY3MDpyZXR1cm4gTl87Y2FzZSAzNTY2NzpjYXNlIDM1NjcxOnJldHVybiBEXztjYXNlIDM1NjY4OmNhc2UgMzU2NzI6cmV0dXJuIE9fO2Nhc2UgMzU2Njk6Y2FzZSAzNTY3MzpyZXR1cm4gel87Y2FzZSA1MTI1OnJldHVybiBCXztjYXNlIDM2Mjk0OnJldHVybiBVXztjYXNlIDM2Mjk1OnJldHVybiBGXztjYXNlIDM2Mjk2OnJldHVybiBIXztjYXNlIDM1Njc4OmNhc2UgMzYxOTg6Y2FzZSAzNjI5ODpjYXNlIDM2MzA2OmNhc2UgMzU2ODI6cmV0dXJuIGtfO2Nhc2UgMzU2Nzk6Y2FzZSAzNjI5OTpjYXNlIDM2MzA3OnJldHVybiBHXztjYXNlIDM1NjgwOmNhc2UgMzYzMDA6Y2FzZSAzNjMwODpjYXNlIDM2MjkzOnJldHVybiBWXztjYXNlIDM2Mjg5OmNhc2UgMzYzMDM6Y2FzZSAzNjMxMTpjYXNlIDM2MjkyOnJldHVybiBXX319ZnVuY3Rpb24gcV8oaSxlLHQpe3RoaXMuaWQ9aSx0aGlzLmFkZHI9dCx0aGlzLmNhY2hlPVtdLHRoaXMuc2V0VmFsdWU9RV8oZS50eXBlKX1mdW5jdGlvbiBRbChpLGUsdCl7dGhpcy5pZD1pLHRoaXMuYWRkcj10LHRoaXMuY2FjaGU9W10sdGhpcy5zaXplPWUuc2l6ZSx0aGlzLnNldFZhbHVlPWpfKGUudHlwZSl9UWwucHJvdG90eXBlLnVwZGF0ZUNhY2hlPWZ1bmN0aW9uKGkpe2NvbnN0IGU9dGhpcy5jYWNoZTtpIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5JiZlLmxlbmd0aCE9PWkubGVuZ3RoJiYodGhpcy5jYWNoZT1uZXcgRmxvYXQzMkFycmF5KGkubGVuZ3RoKSksYnQoZSxpKX07ZnVuY3Rpb24gJGwoaSl7dGhpcy5pZD1pLHRoaXMuc2VxPVtdLHRoaXMubWFwPXt9fSRsLnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbihpLGUsdCl7Y29uc3Qgcj10aGlzLnNlcTtmb3IobGV0IHM9MCxhPXIubGVuZ3RoO3MhPT1hOysrcyl7Y29uc3Qgbj1yW3NdO24uc2V0VmFsdWUoaSxlW24uaWRdLHQpfX07Y29uc3QgbW89LyhcdyspKFxdKT8oXFt8XC4pPy9nO2Z1bmN0aW9uIGVjKGksZSl7aS5zZXEucHVzaChlKSxpLm1hcFtlLmlkXT1lfWZ1bmN0aW9uIFhfKGksZSx0KXtjb25zdCByPWkubmFtZSxzPXIubGVuZ3RoO2Zvcihtby5sYXN0SW5kZXg9MDs7KXtjb25zdCBhPW1vLmV4ZWMociksbj1tby5sYXN0SW5kZXg7bGV0IG89YVsxXTtjb25zdCBoPWFbMl09PT0iXSIsbD1hWzNdO2lmKGgmJihvPW98MCksbD09PXZvaWQgMHx8bD09PSJbIiYmbisyPT09cyl7ZWModCxsPT09dm9pZCAwP25ldyBxXyhvLGksZSk6bmV3IFFsKG8saSxlKSk7YnJlYWt9ZWxzZXtsZXQgYz10Lm1hcFtvXTtjPT09dm9pZCAwJiYoYz1uZXcgJGwobyksZWModCxjKSksdD1jfX19ZnVuY3Rpb24gSGkoaSxlKXt0aGlzLnNlcT1bXSx0aGlzLm1hcD17fTtjb25zdCB0PWkuZ2V0UHJvZ3JhbVBhcmFtZXRlcihlLDM1NzE4KTtmb3IobGV0IHI9MDtyPHQ7KytyKXtjb25zdCBzPWkuZ2V0QWN0aXZlVW5pZm9ybShlLHIpLGE9aS5nZXRVbmlmb3JtTG9jYXRpb24oZSxzLm5hbWUpO1hfKHMsYSx0aGlzKX19SGkucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKGksZSx0LHIpe2NvbnN0IHM9dGhpcy5tYXBbZV07cyE9PXZvaWQgMCYmcy5zZXRWYWx1ZShpLHQscil9LEhpLnByb3RvdHlwZS5zZXRPcHRpb25hbD1mdW5jdGlvbihpLGUsdCl7Y29uc3Qgcj1lW3RdO3IhPT12b2lkIDAmJnRoaXMuc2V0VmFsdWUoaSx0LHIpfSxIaS51cGxvYWQ9ZnVuY3Rpb24oaSxlLHQscil7Zm9yKGxldCBzPTAsYT1lLmxlbmd0aDtzIT09YTsrK3Mpe2NvbnN0IG49ZVtzXSxvPXRbbi5pZF07by5uZWVkc1VwZGF0ZSE9PSExJiZuLnNldFZhbHVlKGksby52YWx1ZSxyKX19LEhpLnNlcVdpdGhWYWx1ZT1mdW5jdGlvbihpLGUpe2NvbnN0IHQ9W107Zm9yKGxldCByPTAscz1pLmxlbmd0aDtyIT09czsrK3Ipe2NvbnN0IGE9aVtyXTthLmlkIGluIGUmJnQucHVzaChhKX1yZXR1cm4gdH07ZnVuY3Rpb24gdGMoaSxlLHQpe2NvbnN0IHI9aS5jcmVhdGVTaGFkZXIoZSk7cmV0dXJuIGkuc2hhZGVyU291cmNlKHIsdCksaS5jb21waWxlU2hhZGVyKHIpLHJ9bGV0IEpfPTA7ZnVuY3Rpb24gWV8oaSxlKXtjb25zdCB0PWkuc3BsaXQoYApgKSxyPVtdLHM9TWF0aC5tYXgoZS02LDApLGE9TWF0aC5taW4oZSs2LHQubGVuZ3RoKTtmb3IobGV0IG49cztuPGE7bisrKXIucHVzaChuKzErIjogIit0W25dKTtyZXR1cm4gci5qb2luKGAKYCl9ZnVuY3Rpb24gWl8oaSl7c3dpdGNoKGkpe2Nhc2UgX2k6cmV0dXJuWyJMaW5lYXIiLCIoIHZhbHVlICkiXTtjYXNlIFFlOnJldHVyblsic1JHQiIsIiggdmFsdWUgKSJdO2RlZmF1bHQ6cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xQcm9ncmFtOiBVbnN1cHBvcnRlZCBlbmNvZGluZzoiLGkpLFsiTGluZWFyIiwiKCB2YWx1ZSApIl19fWZ1bmN0aW9uIGljKGksZSx0KXtjb25zdCByPWkuZ2V0U2hhZGVyUGFyYW1ldGVyKGUsMzU3MTMpLHM9aS5nZXRTaGFkZXJJbmZvTG9nKGUpLnRyaW0oKTtpZihyJiZzPT09IiIpcmV0dXJuIiI7Y29uc3QgYT1wYXJzZUludCgvRVJST1I6IDA6KFxkKykvLmV4ZWMocylbMV0pO3JldHVybiB0LnRvVXBwZXJDYXNlKCkrYAoKYCtzK2AKCmArWV8oaS5nZXRTaGFkZXJTb3VyY2UoZSksYSl9ZnVuY3Rpb24gS18oaSxlKXtjb25zdCB0PVpfKGUpO3JldHVybiJ2ZWM0ICIraSsiKCB2ZWM0IHZhbHVlICkgeyByZXR1cm4gTGluZWFyVG8iK3RbMF0rdFsxXSsiOyB9In1mdW5jdGlvbiBRXyhpLGUpe2xldCB0O3N3aXRjaChlKXtjYXNlIF9nOnQ9IkxpbmVhciI7YnJlYWs7Y2FzZSB5Zzp0PSJSZWluaGFyZCI7YnJlYWs7Y2FzZSBNZzp0PSJPcHRpbWl6ZWRDaW5lb24iO2JyZWFrO2Nhc2UgYmc6dD0iQUNFU0ZpbG1pYyI7YnJlYWs7Y2FzZSB3Zzp0PSJDdXN0b20iO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFByb2dyYW06IFVuc3VwcG9ydGVkIHRvbmVNYXBwaW5nOiIsZSksdD0iTGluZWFyIn1yZXR1cm4idmVjMyAiK2krIiggdmVjMyBjb2xvciApIHsgcmV0dXJuICIrdCsiVG9uZU1hcHBpbmcoIGNvbG9yICk7IH0ifWZ1bmN0aW9uICRfKGkpe3JldHVybltpLmV4dGVuc2lvbkRlcml2YXRpdmVzfHwhIWkuZW52TWFwQ3ViZVVWSGVpZ2h0fHxpLmJ1bXBNYXB8fGkudGFuZ2VudFNwYWNlTm9ybWFsTWFwfHxpLmNsZWFyY29hdE5vcm1hbE1hcHx8aS5mbGF0U2hhZGluZ3x8aS5zaGFkZXJJRD09PSJwaHlzaWNhbCI/IiNleHRlbnNpb24gR0xfT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzIDogZW5hYmxlIjoiIiwoaS5leHRlbnNpb25GcmFnRGVwdGh8fGkubG9nYXJpdGhtaWNEZXB0aEJ1ZmZlcikmJmkucmVuZGVyZXJFeHRlbnNpb25GcmFnRGVwdGg/IiNleHRlbnNpb24gR0xfRVhUX2ZyYWdfZGVwdGggOiBlbmFibGUiOiIiLGkuZXh0ZW5zaW9uRHJhd0J1ZmZlcnMmJmkucmVuZGVyZXJFeHRlbnNpb25EcmF3QnVmZmVycz8iI2V4dGVuc2lvbiBHTF9FWFRfZHJhd19idWZmZXJzIDogcmVxdWlyZSI6IiIsKGkuZXh0ZW5zaW9uU2hhZGVyVGV4dHVyZUxPRHx8aS5lbnZNYXB8fGkudHJhbnNtaXNzaW9uKSYmaS5yZW5kZXJlckV4dGVuc2lvblNoYWRlclRleHR1cmVMb2Q/IiNleHRlbnNpb24gR0xfRVhUX3NoYWRlcl90ZXh0dXJlX2xvZCA6IGVuYWJsZSI6IiJdLmZpbHRlcihQcykuam9pbihgCmApfWZ1bmN0aW9uIGV5KGkpe2NvbnN0IGU9W107Zm9yKGNvbnN0IHQgaW4gaSl7Y29uc3Qgcj1pW3RdO3IhPT0hMSYmZS5wdXNoKCIjZGVmaW5lICIrdCsiICIrcil9cmV0dXJuIGUuam9pbihgCmApfWZ1bmN0aW9uIHR5KGksZSl7Y29uc3QgdD17fSxyPWkuZ2V0UHJvZ3JhbVBhcmFtZXRlcihlLDM1NzIxKTtmb3IobGV0IHM9MDtzPHI7cysrKXtjb25zdCBhPWkuZ2V0QWN0aXZlQXR0cmliKGUscyksbj1hLm5hbWU7bGV0IG89MTthLnR5cGU9PT0zNTY3NCYmKG89MiksYS50eXBlPT09MzU2NzUmJihvPTMpLGEudHlwZT09PTM1Njc2JiYobz00KSx0W25dPXt0eXBlOmEudHlwZSxsb2NhdGlvbjppLmdldEF0dHJpYkxvY2F0aW9uKGUsbiksbG9jYXRpb25TaXplOm99fXJldHVybiB0fWZ1bmN0aW9uIFBzKGkpe3JldHVybiBpIT09IiJ9ZnVuY3Rpb24gcmMoaSxlKXtyZXR1cm4gaS5yZXBsYWNlKC9OVU1fRElSX0xJR0hUUy9nLGUubnVtRGlyTGlnaHRzKS5yZXBsYWNlKC9OVU1fU1BPVF9MSUdIVFMvZyxlLm51bVNwb3RMaWdodHMpLnJlcGxhY2UoL05VTV9SRUNUX0FSRUFfTElHSFRTL2csZS5udW1SZWN0QXJlYUxpZ2h0cykucmVwbGFjZSgvTlVNX1BPSU5UX0xJR0hUUy9nLGUubnVtUG9pbnRMaWdodHMpLnJlcGxhY2UoL05VTV9IRU1JX0xJR0hUUy9nLGUubnVtSGVtaUxpZ2h0cykucmVwbGFjZSgvTlVNX0RJUl9MSUdIVF9TSEFET1dTL2csZS5udW1EaXJMaWdodFNoYWRvd3MpLnJlcGxhY2UoL05VTV9TUE9UX0xJR0hUX1NIQURPV1MvZyxlLm51bVNwb3RMaWdodFNoYWRvd3MpLnJlcGxhY2UoL05VTV9QT0lOVF9MSUdIVF9TSEFET1dTL2csZS5udW1Qb2ludExpZ2h0U2hhZG93cyl9ZnVuY3Rpb24gc2MoaSxlKXtyZXR1cm4gaS5yZXBsYWNlKC9OVU1fQ0xJUFBJTkdfUExBTkVTL2csZS5udW1DbGlwcGluZ1BsYW5lcykucmVwbGFjZSgvVU5JT05fQ0xJUFBJTkdfUExBTkVTL2csZS5udW1DbGlwcGluZ1BsYW5lcy1lLm51bUNsaXBJbnRlcnNlY3Rpb24pfWNvbnN0IGl5PS9eWyBcdF0qI2luY2x1ZGUgKzwoW1x3XGQuL10rKT4vZ207ZnVuY3Rpb24gZ28oaSl7cmV0dXJuIGkucmVwbGFjZShpeSxyeSl9ZnVuY3Rpb24gcnkoaSxlKXtjb25zdCB0PURlW2VdO2lmKHQ9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKCJDYW4gbm90IHJlc29sdmUgI2luY2x1ZGUgPCIrZSsiPiIpO3JldHVybiBnbyh0KX1jb25zdCBzeT0vI3ByYWdtYSB1bnJvbGxfbG9vcFtcc10rP2ZvciBcKCBpbnQgaSBcPSAoXGQrKVw7IGkgPCAoXGQrKVw7IGkgXCtcKyBcKSBceyhbXHNcU10rPykoPz1cfSlcfS9nLGF5PS8jcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0XHMrZm9yXHMqXChccyppbnRccytpXHMqPVxzKihcZCspXHMqO1xzKmlccyo8XHMqKFxkKylccyo7XHMqaVxzKlwrXCtccypcKVxzKnsoW1xzXFNdKz8pfVxzKyNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kL2c7ZnVuY3Rpb24gYWMoaSl7cmV0dXJuIGkucmVwbGFjZShheSxuYykucmVwbGFjZShzeSxueSl9ZnVuY3Rpb24gbnkoaSxlLHQscil7cmV0dXJuIGNvbnNvbGUud2FybigiV2ViR0xQcm9ncmFtOiAjcHJhZ21hIHVucm9sbF9sb29wIHNoYWRlciBzeW50YXggaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSAjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0IHN5bnRheCBpbnN0ZWFkLiIpLG5jKGksZSx0LHIpfWZ1bmN0aW9uIG5jKGksZSx0LHIpe2xldCBzPSIiO2ZvcihsZXQgYT1wYXJzZUludChlKTthPHBhcnNlSW50KHQpO2ErKylzKz1yLnJlcGxhY2UoL1xbXHMqaVxzKlxdL2csIlsgIithKyIgXSIpLnJlcGxhY2UoL1VOUk9MTEVEX0xPT1BfSU5ERVgvZyxhKTtyZXR1cm4gc31mdW5jdGlvbiBvYyhpKXtsZXQgZT0icHJlY2lzaW9uICIraS5wcmVjaXNpb24rYCBmbG9hdDsKcHJlY2lzaW9uIGAraS5wcmVjaXNpb24rIiBpbnQ7IjtyZXR1cm4gaS5wcmVjaXNpb249PT0iaGlnaHAiP2UrPWAKI2RlZmluZSBISUdIX1BSRUNJU0lPTmA6aS5wcmVjaXNpb249PT0ibWVkaXVtcCI/ZSs9YAojZGVmaW5lIE1FRElVTV9QUkVDSVNJT05gOmkucHJlY2lzaW9uPT09Imxvd3AiJiYoZSs9YAojZGVmaW5lIExPV19QUkVDSVNJT05gKSxlfWZ1bmN0aW9uIG95KGkpe2xldCBlPSJTSEFET1dNQVBfVFlQRV9CQVNJQyI7cmV0dXJuIGkuc2hhZG93TWFwVHlwZT09PU9oP2U9IlNIQURPV01BUF9UWVBFX1BDRiI6aS5zaGFkb3dNYXBUeXBlPT09S20/ZT0iU0hBRE9XTUFQX1RZUEVfUENGX1NPRlQiOmkuc2hhZG93TWFwVHlwZT09PWJzJiYoZT0iU0hBRE9XTUFQX1RZUEVfVlNNIiksZX1mdW5jdGlvbiBoeShpKXtsZXQgZT0iRU5WTUFQX1RZUEVfQ1VCRSI7aWYoaS5lbnZNYXApc3dpdGNoKGkuZW52TWFwTW9kZSl7Y2FzZSBicjpjYXNlIHdyOmU9IkVOVk1BUF9UWVBFX0NVQkUiO2JyZWFrO2Nhc2UgY2E6ZT0iRU5WTUFQX1RZUEVfQ1VCRV9VViI7YnJlYWt9cmV0dXJuIGV9ZnVuY3Rpb24gbHkoaSl7bGV0IGU9IkVOVk1BUF9NT0RFX1JFRkxFQ1RJT04iO2lmKGkuZW52TWFwKXN3aXRjaChpLmVudk1hcE1vZGUpe2Nhc2Ugd3I6ZT0iRU5WTUFQX01PREVfUkVGUkFDVElPTiI7YnJlYWt9cmV0dXJuIGV9ZnVuY3Rpb24gY3koaSl7bGV0IGU9IkVOVk1BUF9CTEVORElOR19OT05FIjtpZihpLmVudk1hcClzd2l0Y2goaS5jb21iaW5lKXtjYXNlIGxhOmU9IkVOVk1BUF9CTEVORElOR19NVUxUSVBMWSI7YnJlYWs7Y2FzZSB2ZzplPSJFTlZNQVBfQkxFTkRJTkdfTUlYIjticmVhaztjYXNlIHhnOmU9IkVOVk1BUF9CTEVORElOR19BREQiO2JyZWFrfXJldHVybiBlfWZ1bmN0aW9uIHV5KGkpe2NvbnN0IGU9aS5lbnZNYXBDdWJlVVZIZWlnaHQ7aWYoZT09PW51bGwpcmV0dXJuIG51bGw7Y29uc3QgdD1NYXRoLmxvZzIoZS8zMisxKSszLHI9MS9lO3JldHVybnt0ZXhlbFdpZHRoOjEvKDMqTWF0aC5tYXgoTWF0aC5wb3coMix0KSw3KjE2KSksdGV4ZWxIZWlnaHQ6cixtYXhNaXA6dH19ZnVuY3Rpb24gZHkoaSxlLHQscil7Y29uc3Qgcz1pLmdldENvbnRleHQoKSxhPXQuZGVmaW5lcztsZXQgbj10LnZlcnRleFNoYWRlcixvPXQuZnJhZ21lbnRTaGFkZXI7Y29uc3QgaD1veSh0KSxsPWh5KHQpLGM9bHkodCksdT1jeSh0KSxkPXV5KHQpLHA9dC5pc1dlYkdMMj8iIjokXyh0KSxnPWV5KGEpLGY9cy5jcmVhdGVQcm9ncmFtKCk7bGV0IG0sdix5PXQuZ2xzbFZlcnNpb24/IiN2ZXJzaW9uICIrdC5nbHNsVmVyc2lvbitgCmA6IiI7dC5pc1Jhd1NoYWRlck1hdGVyaWFsPyhtPVtnXS5maWx0ZXIoUHMpLmpvaW4oYApgKSxtLmxlbmd0aD4wJiYobSs9YApgKSx2PVtwLGddLmZpbHRlcihQcykuam9pbihgCmApLHYubGVuZ3RoPjAmJih2Kz1gCmApKToobT1bb2ModCksIiNkZWZpbmUgU0hBREVSX05BTUUgIit0LnNoYWRlck5hbWUsZyx0Lmluc3RhbmNpbmc/IiNkZWZpbmUgVVNFX0lOU1RBTkNJTkciOiIiLHQuaW5zdGFuY2luZ0NvbG9yPyIjZGVmaW5lIFVTRV9JTlNUQU5DSU5HX0NPTE9SIjoiIix0LnN1cHBvcnRzVmVydGV4VGV4dHVyZXM/IiNkZWZpbmUgVkVSVEVYX1RFWFRVUkVTIjoiIiwiI2RlZmluZSBNQVhfQk9ORVMgIit0Lm1heEJvbmVzLHQudXNlRm9nJiZ0LmZvZz8iI2RlZmluZSBVU0VfRk9HIjoiIix0LnVzZUZvZyYmdC5mb2dFeHAyPyIjZGVmaW5lIEZPR19FWFAyIjoiIix0Lm1hcD8iI2RlZmluZSBVU0VfTUFQIjoiIix0LmVudk1hcD8iI2RlZmluZSBVU0VfRU5WTUFQIjoiIix0LmVudk1hcD8iI2RlZmluZSAiK2M6IiIsdC5saWdodE1hcD8iI2RlZmluZSBVU0VfTElHSFRNQVAiOiIiLHQuYW9NYXA/IiNkZWZpbmUgVVNFX0FPTUFQIjoiIix0LmVtaXNzaXZlTWFwPyIjZGVmaW5lIFVTRV9FTUlTU0lWRU1BUCI6IiIsdC5idW1wTWFwPyIjZGVmaW5lIFVTRV9CVU1QTUFQIjoiIix0Lm5vcm1hbE1hcD8iI2RlZmluZSBVU0VfTk9STUFMTUFQIjoiIix0Lm5vcm1hbE1hcCYmdC5vYmplY3RTcGFjZU5vcm1hbE1hcD8iI2RlZmluZSBPQkpFQ1RTUEFDRV9OT1JNQUxNQVAiOiIiLHQubm9ybWFsTWFwJiZ0LnRhbmdlbnRTcGFjZU5vcm1hbE1hcD8iI2RlZmluZSBUQU5HRU5UU1BBQ0VfTk9STUFMTUFQIjoiIix0LmNsZWFyY29hdE1hcD8iI2RlZmluZSBVU0VfQ0xFQVJDT0FUTUFQIjoiIix0LmNsZWFyY29hdFJvdWdobmVzc01hcD8iI2RlZmluZSBVU0VfQ0xFQVJDT0FUX1JPVUdITkVTU01BUCI6IiIsdC5jbGVhcmNvYXROb3JtYWxNYXA/IiNkZWZpbmUgVVNFX0NMRUFSQ09BVF9OT1JNQUxNQVAiOiIiLHQuZGlzcGxhY2VtZW50TWFwJiZ0LnN1cHBvcnRzVmVydGV4VGV4dHVyZXM/IiNkZWZpbmUgVVNFX0RJU1BMQUNFTUVOVE1BUCI6IiIsdC5zcGVjdWxhck1hcD8iI2RlZmluZSBVU0VfU1BFQ1VMQVJNQVAiOiIiLHQuc3BlY3VsYXJJbnRlbnNpdHlNYXA/IiNkZWZpbmUgVVNFX1NQRUNVTEFSSU5URU5TSVRZTUFQIjoiIix0LnNwZWN1bGFyQ29sb3JNYXA/IiNkZWZpbmUgVVNFX1NQRUNVTEFSQ09MT1JNQVAiOiIiLHQucm91Z2huZXNzTWFwPyIjZGVmaW5lIFVTRV9ST1VHSE5FU1NNQVAiOiIiLHQubWV0YWxuZXNzTWFwPyIjZGVmaW5lIFVTRV9NRVRBTE5FU1NNQVAiOiIiLHQuYWxwaGFNYXA/IiNkZWZpbmUgVVNFX0FMUEhBTUFQIjoiIix0LnRyYW5zbWlzc2lvbj8iI2RlZmluZSBVU0VfVFJBTlNNSVNTSU9OIjoiIix0LnRyYW5zbWlzc2lvbk1hcD8iI2RlZmluZSBVU0VfVFJBTlNNSVNTSU9OTUFQIjoiIix0LnRoaWNrbmVzc01hcD8iI2RlZmluZSBVU0VfVEhJQ0tORVNTTUFQIjoiIix0LnNoZWVuQ29sb3JNYXA/IiNkZWZpbmUgVVNFX1NIRUVOQ09MT1JNQVAiOiIiLHQuc2hlZW5Sb3VnaG5lc3NNYXA/IiNkZWZpbmUgVVNFX1NIRUVOUk9VR0hORVNTTUFQIjoiIix0LnZlcnRleFRhbmdlbnRzPyIjZGVmaW5lIFVTRV9UQU5HRU5UIjoiIix0LnZlcnRleENvbG9ycz8iI2RlZmluZSBVU0VfQ09MT1IiOiIiLHQudmVydGV4QWxwaGFzPyIjZGVmaW5lIFVTRV9DT0xPUl9BTFBIQSI6IiIsdC52ZXJ0ZXhVdnM/IiNkZWZpbmUgVVNFX1VWIjoiIix0LnV2c1ZlcnRleE9ubHk/IiNkZWZpbmUgVVZTX1ZFUlRFWF9PTkxZIjoiIix0LmZsYXRTaGFkaW5nPyIjZGVmaW5lIEZMQVRfU0hBREVEIjoiIix0LnNraW5uaW5nPyIjZGVmaW5lIFVTRV9TS0lOTklORyI6IiIsdC51c2VWZXJ0ZXhUZXh0dXJlPyIjZGVmaW5lIEJPTkVfVEVYVFVSRSI6IiIsdC5tb3JwaFRhcmdldHM/IiNkZWZpbmUgVVNFX01PUlBIVEFSR0VUUyI6IiIsdC5tb3JwaE5vcm1hbHMmJnQuZmxhdFNoYWRpbmc9PT0hMT8iI2RlZmluZSBVU0VfTU9SUEhOT1JNQUxTIjoiIix0Lm1vcnBoQ29sb3JzJiZ0LmlzV2ViR0wyPyIjZGVmaW5lIFVTRV9NT1JQSENPTE9SUyI6IiIsdC5tb3JwaFRhcmdldHNDb3VudD4wJiZ0LmlzV2ViR0wyPyIjZGVmaW5lIE1PUlBIVEFSR0VUU19URVhUVVJFIjoiIix0Lm1vcnBoVGFyZ2V0c0NvdW50PjAmJnQuaXNXZWJHTDI/IiNkZWZpbmUgTU9SUEhUQVJHRVRTX1RFWFRVUkVfU1RSSURFICIrdC5tb3JwaFRleHR1cmVTdHJpZGU6IiIsdC5tb3JwaFRhcmdldHNDb3VudD4wJiZ0LmlzV2ViR0wyPyIjZGVmaW5lIE1PUlBIVEFSR0VUU19DT1VOVCAiK3QubW9ycGhUYXJnZXRzQ291bnQ6IiIsdC5kb3VibGVTaWRlZD8iI2RlZmluZSBET1VCTEVfU0lERUQiOiIiLHQuZmxpcFNpZGVkPyIjZGVmaW5lIEZMSVBfU0lERUQiOiIiLHQuc2hhZG93TWFwRW5hYmxlZD8iI2RlZmluZSBVU0VfU0hBRE9XTUFQIjoiIix0LnNoYWRvd01hcEVuYWJsZWQ/IiNkZWZpbmUgIitoOiIiLHQuc2l6ZUF0dGVudWF0aW9uPyIjZGVmaW5lIFVTRV9TSVpFQVRURU5VQVRJT04iOiIiLHQubG9nYXJpdGhtaWNEZXB0aEJ1ZmZlcj8iI2RlZmluZSBVU0VfTE9HREVQVEhCVUYiOiIiLHQubG9nYXJpdGhtaWNEZXB0aEJ1ZmZlciYmdC5yZW5kZXJlckV4dGVuc2lvbkZyYWdEZXB0aD8iI2RlZmluZSBVU0VfTE9HREVQVEhCVUZfRVhUIjoiIiwidW5pZm9ybSBtYXQ0IG1vZGVsTWF0cml4OyIsInVuaWZvcm0gbWF0NCBtb2RlbFZpZXdNYXRyaXg7IiwidW5pZm9ybSBtYXQ0IHByb2plY3Rpb25NYXRyaXg7IiwidW5pZm9ybSBtYXQ0IHZpZXdNYXRyaXg7IiwidW5pZm9ybSBtYXQzIG5vcm1hbE1hdHJpeDsiLCJ1bmlmb3JtIHZlYzMgY2FtZXJhUG9zaXRpb247IiwidW5pZm9ybSBib29sIGlzT3J0aG9ncmFwaGljOyIsIiNpZmRlZiBVU0VfSU5TVEFOQ0lORyIsIglhdHRyaWJ1dGUgbWF0NCBpbnN0YW5jZU1hdHJpeDsiLCIjZW5kaWYiLCIjaWZkZWYgVVNFX0lOU1RBTkNJTkdfQ09MT1IiLCIJYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VDb2xvcjsiLCIjZW5kaWYiLCJhdHRyaWJ1dGUgdmVjMyBwb3NpdGlvbjsiLCJhdHRyaWJ1dGUgdmVjMyBub3JtYWw7IiwiYXR0cmlidXRlIHZlYzIgdXY7IiwiI2lmZGVmIFVTRV9UQU5HRU5UIiwiCWF0dHJpYnV0ZSB2ZWM0IHRhbmdlbnQ7IiwiI2VuZGlmIiwiI2lmIGRlZmluZWQoIFVTRV9DT0xPUl9BTFBIQSApIiwiCWF0dHJpYnV0ZSB2ZWM0IGNvbG9yOyIsIiNlbGlmIGRlZmluZWQoIFVTRV9DT0xPUiApIiwiCWF0dHJpYnV0ZSB2ZWMzIGNvbG9yOyIsIiNlbmRpZiIsIiNpZiAoIGRlZmluZWQoIFVTRV9NT1JQSFRBUkdFVFMgKSAmJiAhIGRlZmluZWQoIE1PUlBIVEFSR0VUU19URVhUVVJFICkgKSIsIglhdHRyaWJ1dGUgdmVjMyBtb3JwaFRhcmdldDA7IiwiCWF0dHJpYnV0ZSB2ZWMzIG1vcnBoVGFyZ2V0MTsiLCIJYXR0cmlidXRlIHZlYzMgbW9ycGhUYXJnZXQyOyIsIglhdHRyaWJ1dGUgdmVjMyBtb3JwaFRhcmdldDM7IiwiCSNpZmRlZiBVU0VfTU9SUEhOT1JNQUxTIiwiCQlhdHRyaWJ1dGUgdmVjMyBtb3JwaE5vcm1hbDA7IiwiCQlhdHRyaWJ1dGUgdmVjMyBtb3JwaE5vcm1hbDE7IiwiCQlhdHRyaWJ1dGUgdmVjMyBtb3JwaE5vcm1hbDI7IiwiCQlhdHRyaWJ1dGUgdmVjMyBtb3JwaE5vcm1hbDM7IiwiCSNlbHNlIiwiCQlhdHRyaWJ1dGUgdmVjMyBtb3JwaFRhcmdldDQ7IiwiCQlhdHRyaWJ1dGUgdmVjMyBtb3JwaFRhcmdldDU7IiwiCQlhdHRyaWJ1dGUgdmVjMyBtb3JwaFRhcmdldDY7IiwiCQlhdHRyaWJ1dGUgdmVjMyBtb3JwaFRhcmdldDc7IiwiCSNlbmRpZiIsIiNlbmRpZiIsIiNpZmRlZiBVU0VfU0tJTk5JTkciLCIJYXR0cmlidXRlIHZlYzQgc2tpbkluZGV4OyIsIglhdHRyaWJ1dGUgdmVjNCBza2luV2VpZ2h0OyIsIiNlbmRpZiIsYApgXS5maWx0ZXIoUHMpLmpvaW4oYApgKSx2PVtwLG9jKHQpLCIjZGVmaW5lIFNIQURFUl9OQU1FICIrdC5zaGFkZXJOYW1lLGcsdC51c2VGb2cmJnQuZm9nPyIjZGVmaW5lIFVTRV9GT0ciOiIiLHQudXNlRm9nJiZ0LmZvZ0V4cDI/IiNkZWZpbmUgRk9HX0VYUDIiOiIiLHQubWFwPyIjZGVmaW5lIFVTRV9NQVAiOiIiLHQubWF0Y2FwPyIjZGVmaW5lIFVTRV9NQVRDQVAiOiIiLHQuZW52TWFwPyIjZGVmaW5lIFVTRV9FTlZNQVAiOiIiLHQuZW52TWFwPyIjZGVmaW5lICIrbDoiIix0LmVudk1hcD8iI2RlZmluZSAiK2M6IiIsdC5lbnZNYXA/IiNkZWZpbmUgIit1OiIiLGQ/IiNkZWZpbmUgQ1VCRVVWX1RFWEVMX1dJRFRIICIrZC50ZXhlbFdpZHRoOiIiLGQ/IiNkZWZpbmUgQ1VCRVVWX1RFWEVMX0hFSUdIVCAiK2QudGV4ZWxIZWlnaHQ6IiIsZD8iI2RlZmluZSBDVUJFVVZfTUFYX01JUCAiK2QubWF4TWlwKyIuMCI6IiIsdC5saWdodE1hcD8iI2RlZmluZSBVU0VfTElHSFRNQVAiOiIiLHQuYW9NYXA/IiNkZWZpbmUgVVNFX0FPTUFQIjoiIix0LmVtaXNzaXZlTWFwPyIjZGVmaW5lIFVTRV9FTUlTU0lWRU1BUCI6IiIsdC5idW1wTWFwPyIjZGVmaW5lIFVTRV9CVU1QTUFQIjoiIix0Lm5vcm1hbE1hcD8iI2RlZmluZSBVU0VfTk9STUFMTUFQIjoiIix0Lm5vcm1hbE1hcCYmdC5vYmplY3RTcGFjZU5vcm1hbE1hcD8iI2RlZmluZSBPQkpFQ1RTUEFDRV9OT1JNQUxNQVAiOiIiLHQubm9ybWFsTWFwJiZ0LnRhbmdlbnRTcGFjZU5vcm1hbE1hcD8iI2RlZmluZSBUQU5HRU5UU1BBQ0VfTk9STUFMTUFQIjoiIix0LmNsZWFyY29hdD8iI2RlZmluZSBVU0VfQ0xFQVJDT0FUIjoiIix0LmNsZWFyY29hdE1hcD8iI2RlZmluZSBVU0VfQ0xFQVJDT0FUTUFQIjoiIix0LmNsZWFyY29hdFJvdWdobmVzc01hcD8iI2RlZmluZSBVU0VfQ0xFQVJDT0FUX1JPVUdITkVTU01BUCI6IiIsdC5jbGVhcmNvYXROb3JtYWxNYXA/IiNkZWZpbmUgVVNFX0NMRUFSQ09BVF9OT1JNQUxNQVAiOiIiLHQuc3BlY3VsYXJNYXA/IiNkZWZpbmUgVVNFX1NQRUNVTEFSTUFQIjoiIix0LnNwZWN1bGFySW50ZW5zaXR5TWFwPyIjZGVmaW5lIFVTRV9TUEVDVUxBUklOVEVOU0lUWU1BUCI6IiIsdC5zcGVjdWxhckNvbG9yTWFwPyIjZGVmaW5lIFVTRV9TUEVDVUxBUkNPTE9STUFQIjoiIix0LnJvdWdobmVzc01hcD8iI2RlZmluZSBVU0VfUk9VR0hORVNTTUFQIjoiIix0Lm1ldGFsbmVzc01hcD8iI2RlZmluZSBVU0VfTUVUQUxORVNTTUFQIjoiIix0LmFscGhhTWFwPyIjZGVmaW5lIFVTRV9BTFBIQU1BUCI6IiIsdC5hbHBoYVRlc3Q/IiNkZWZpbmUgVVNFX0FMUEhBVEVTVCI6IiIsdC5zaGVlbj8iI2RlZmluZSBVU0VfU0hFRU4iOiIiLHQuc2hlZW5Db2xvck1hcD8iI2RlZmluZSBVU0VfU0hFRU5DT0xPUk1BUCI6IiIsdC5zaGVlblJvdWdobmVzc01hcD8iI2RlZmluZSBVU0VfU0hFRU5ST1VHSE5FU1NNQVAiOiIiLHQudHJhbnNtaXNzaW9uPyIjZGVmaW5lIFVTRV9UUkFOU01JU1NJT04iOiIiLHQudHJhbnNtaXNzaW9uTWFwPyIjZGVmaW5lIFVTRV9UUkFOU01JU1NJT05NQVAiOiIiLHQudGhpY2tuZXNzTWFwPyIjZGVmaW5lIFVTRV9USElDS05FU1NNQVAiOiIiLHQuZGVjb2RlVmlkZW9UZXh0dXJlPyIjZGVmaW5lIERFQ09ERV9WSURFT19URVhUVVJFIjoiIix0LnZlcnRleFRhbmdlbnRzPyIjZGVmaW5lIFVTRV9UQU5HRU5UIjoiIix0LnZlcnRleENvbG9yc3x8dC5pbnN0YW5jaW5nQ29sb3I/IiNkZWZpbmUgVVNFX0NPTE9SIjoiIix0LnZlcnRleEFscGhhcz8iI2RlZmluZSBVU0VfQ09MT1JfQUxQSEEiOiIiLHQudmVydGV4VXZzPyIjZGVmaW5lIFVTRV9VViI6IiIsdC51dnNWZXJ0ZXhPbmx5PyIjZGVmaW5lIFVWU19WRVJURVhfT05MWSI6IiIsdC5ncmFkaWVudE1hcD8iI2RlZmluZSBVU0VfR1JBRElFTlRNQVAiOiIiLHQuZmxhdFNoYWRpbmc/IiNkZWZpbmUgRkxBVF9TSEFERUQiOiIiLHQuZG91YmxlU2lkZWQ/IiNkZWZpbmUgRE9VQkxFX1NJREVEIjoiIix0LmZsaXBTaWRlZD8iI2RlZmluZSBGTElQX1NJREVEIjoiIix0LnNoYWRvd01hcEVuYWJsZWQ/IiNkZWZpbmUgVVNFX1NIQURPV01BUCI6IiIsdC5zaGFkb3dNYXBFbmFibGVkPyIjZGVmaW5lICIraDoiIix0LnByZW11bHRpcGxpZWRBbHBoYT8iI2RlZmluZSBQUkVNVUxUSVBMSUVEX0FMUEhBIjoiIix0LnBoeXNpY2FsbHlDb3JyZWN0TGlnaHRzPyIjZGVmaW5lIFBIWVNJQ0FMTFlfQ09SUkVDVF9MSUdIVFMiOiIiLHQubG9nYXJpdGhtaWNEZXB0aEJ1ZmZlcj8iI2RlZmluZSBVU0VfTE9HREVQVEhCVUYiOiIiLHQubG9nYXJpdGhtaWNEZXB0aEJ1ZmZlciYmdC5yZW5kZXJlckV4dGVuc2lvbkZyYWdEZXB0aD8iI2RlZmluZSBVU0VfTE9HREVQVEhCVUZfRVhUIjoiIiwidW5pZm9ybSBtYXQ0IHZpZXdNYXRyaXg7IiwidW5pZm9ybSB2ZWMzIGNhbWVyYVBvc2l0aW9uOyIsInVuaWZvcm0gYm9vbCBpc09ydGhvZ3JhcGhpYzsiLHQudG9uZU1hcHBpbmchPT14aT8iI2RlZmluZSBUT05FX01BUFBJTkciOiIiLHQudG9uZU1hcHBpbmchPT14aT9EZS50b25lbWFwcGluZ19wYXJzX2ZyYWdtZW50OiIiLHQudG9uZU1hcHBpbmchPT14aT9RXygidG9uZU1hcHBpbmciLHQudG9uZU1hcHBpbmcpOiIiLHQuZGl0aGVyaW5nPyIjZGVmaW5lIERJVEhFUklORyI6IiIsdC5vcGFxdWU/IiNkZWZpbmUgT1BBUVVFIjoiIixEZS5lbmNvZGluZ3NfcGFyc19mcmFnbWVudCxLXygibGluZWFyVG9PdXRwdXRUZXhlbCIsdC5vdXRwdXRFbmNvZGluZyksdC5kZXB0aFBhY2tpbmc/IiNkZWZpbmUgREVQVEhfUEFDS0lORyAiK3QuZGVwdGhQYWNraW5nOiIiLGAKYF0uZmlsdGVyKFBzKS5qb2luKGAKYCkpLG49Z28obiksbj1yYyhuLHQpLG49c2Mobix0KSxvPWdvKG8pLG89cmMobyx0KSxvPXNjKG8sdCksbj1hYyhuKSxvPWFjKG8pLHQuaXNXZWJHTDImJnQuaXNSYXdTaGFkZXJNYXRlcmlhbCE9PSEwJiYoeT1gI3ZlcnNpb24gMzAwIGVzCmAsbT1bInByZWNpc2lvbiBtZWRpdW1wIHNhbXBsZXIyREFycmF5OyIsIiNkZWZpbmUgYXR0cmlidXRlIGluIiwiI2RlZmluZSB2YXJ5aW5nIG91dCIsIiNkZWZpbmUgdGV4dHVyZTJEIHRleHR1cmUiXS5qb2luKGAKYCkrYApgK20sdj1bIiNkZWZpbmUgdmFyeWluZyBpbiIsdC5nbHNsVmVyc2lvbj09PW1sPyIiOiJsYXlvdXQobG9jYXRpb24gPSAwKSBvdXQgaGlnaHAgdmVjNCBwY19mcmFnQ29sb3I7Iix0Lmdsc2xWZXJzaW9uPT09bWw/IiI6IiNkZWZpbmUgZ2xfRnJhZ0NvbG9yIHBjX2ZyYWdDb2xvciIsIiNkZWZpbmUgZ2xfRnJhZ0RlcHRoRVhUIGdsX0ZyYWdEZXB0aCIsIiNkZWZpbmUgdGV4dHVyZTJEIHRleHR1cmUiLCIjZGVmaW5lIHRleHR1cmVDdWJlIHRleHR1cmUiLCIjZGVmaW5lIHRleHR1cmUyRFByb2ogdGV4dHVyZVByb2oiLCIjZGVmaW5lIHRleHR1cmUyRExvZEVYVCB0ZXh0dXJlTG9kIiwiI2RlZmluZSB0ZXh0dXJlMkRQcm9qTG9kRVhUIHRleHR1cmVQcm9qTG9kIiwiI2RlZmluZSB0ZXh0dXJlQ3ViZUxvZEVYVCB0ZXh0dXJlTG9kIiwiI2RlZmluZSB0ZXh0dXJlMkRHcmFkRVhUIHRleHR1cmVHcmFkIiwiI2RlZmluZSB0ZXh0dXJlMkRQcm9qR3JhZEVYVCB0ZXh0dXJlUHJvakdyYWQiLCIjZGVmaW5lIHRleHR1cmVDdWJlR3JhZEVYVCB0ZXh0dXJlR3JhZCJdLmpvaW4oYApgKStgCmArdik7Y29uc3QgVD15K20rbix3PXkrditvLGI9dGMocywzNTYzMyxUKSxMPXRjKHMsMzU2MzIsdyk7aWYocy5hdHRhY2hTaGFkZXIoZixiKSxzLmF0dGFjaFNoYWRlcihmLEwpLHQuaW5kZXgwQXR0cmlidXRlTmFtZSE9PXZvaWQgMD9zLmJpbmRBdHRyaWJMb2NhdGlvbihmLDAsdC5pbmRleDBBdHRyaWJ1dGVOYW1lKTp0Lm1vcnBoVGFyZ2V0cz09PSEwJiZzLmJpbmRBdHRyaWJMb2NhdGlvbihmLDAsInBvc2l0aW9uIikscy5saW5rUHJvZ3JhbShmKSxpLmRlYnVnLmNoZWNrU2hhZGVyRXJyb3JzKXtjb25zdCBpZT1zLmdldFByb2dyYW1JbmZvTG9nKGYpLnRyaW0oKSxPPXMuZ2V0U2hhZGVySW5mb0xvZyhiKS50cmltKCkseD1zLmdldFNoYWRlckluZm9Mb2coTCkudHJpbSgpO2xldCBDPSEwLFk9ITA7aWYocy5nZXRQcm9ncmFtUGFyYW1ldGVyKGYsMzU3MTQpPT09ITEpe0M9ITE7Y29uc3QgTj1pYyhzLGIsInZlcnRleCIpLFU9aWMocyxMLCJmcmFnbWVudCIpO2NvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMUHJvZ3JhbTogU2hhZGVyIEVycm9yICIrcy5nZXRFcnJvcigpKyIgLSBWQUxJREFURV9TVEFUVVMgIitzLmdldFByb2dyYW1QYXJhbWV0ZXIoZiwzNTcxNSkrYAoKUHJvZ3JhbSBJbmZvIExvZzogYCtpZStgCmArTitgCmArVSl9ZWxzZSBpZSE9PSIiP2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xQcm9ncmFtOiBQcm9ncmFtIEluZm8gTG9nOiIsaWUpOihPPT09IiJ8fHg9PT0iIikmJihZPSExKTtZJiYodGhpcy5kaWFnbm9zdGljcz17cnVubmFibGU6Qyxwcm9ncmFtTG9nOmllLHZlcnRleFNoYWRlcjp7bG9nOk8scHJlZml4Om19LGZyYWdtZW50U2hhZGVyOntsb2c6eCxwcmVmaXg6dn19KX1zLmRlbGV0ZVNoYWRlcihiKSxzLmRlbGV0ZVNoYWRlcihMKTtsZXQgUDt0aGlzLmdldFVuaWZvcm1zPWZ1bmN0aW9uKCl7cmV0dXJuIFA9PT12b2lkIDAmJihQPW5ldyBIaShzLGYpKSxQfTtsZXQgaztyZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGVzPWZ1bmN0aW9uKCl7cmV0dXJuIGs9PT12b2lkIDAmJihrPXR5KHMsZikpLGt9LHRoaXMuZGVzdHJveT1mdW5jdGlvbigpe3IucmVsZWFzZVN0YXRlc09mUHJvZ3JhbSh0aGlzKSxzLmRlbGV0ZVByb2dyYW0oZiksdGhpcy5wcm9ncmFtPXZvaWQgMH0sdGhpcy5uYW1lPXQuc2hhZGVyTmFtZSx0aGlzLmlkPUpfKyssdGhpcy5jYWNoZUtleT1lLHRoaXMudXNlZFRpbWVzPTEsdGhpcy5wcm9ncmFtPWYsdGhpcy52ZXJ0ZXhTaGFkZXI9Yix0aGlzLmZyYWdtZW50U2hhZGVyPUwsdGhpc31sZXQgcHk9MDtjbGFzcyBmeXtjb25zdHJ1Y3Rvcigpe3RoaXMuc2hhZGVyQ2FjaGU9bmV3IE1hcCx0aGlzLm1hdGVyaWFsQ2FjaGU9bmV3IE1hcH11cGRhdGUoZSl7Y29uc3QgdD1lLnZlcnRleFNoYWRlcixyPWUuZnJhZ21lbnRTaGFkZXIscz10aGlzLl9nZXRTaGFkZXJTdGFnZSh0KSxhPXRoaXMuX2dldFNoYWRlclN0YWdlKHIpLG49dGhpcy5fZ2V0U2hhZGVyQ2FjaGVGb3JNYXRlcmlhbChlKTtyZXR1cm4gbi5oYXMocyk9PT0hMSYmKG4uYWRkKHMpLHMudXNlZFRpbWVzKyspLG4uaGFzKGEpPT09ITEmJihuLmFkZChhKSxhLnVzZWRUaW1lcysrKSx0aGlzfXJlbW92ZShlKXtjb25zdCB0PXRoaXMubWF0ZXJpYWxDYWNoZS5nZXQoZSk7Zm9yKGNvbnN0IHIgb2YgdClyLnVzZWRUaW1lcy0tLHIudXNlZFRpbWVzPT09MCYmdGhpcy5zaGFkZXJDYWNoZS5kZWxldGUoci5jb2RlKTtyZXR1cm4gdGhpcy5tYXRlcmlhbENhY2hlLmRlbGV0ZShlKSx0aGlzfWdldFZlcnRleFNoYWRlcklEKGUpe3JldHVybiB0aGlzLl9nZXRTaGFkZXJTdGFnZShlLnZlcnRleFNoYWRlcikuaWR9Z2V0RnJhZ21lbnRTaGFkZXJJRChlKXtyZXR1cm4gdGhpcy5fZ2V0U2hhZGVyU3RhZ2UoZS5mcmFnbWVudFNoYWRlcikuaWR9ZGlzcG9zZSgpe3RoaXMuc2hhZGVyQ2FjaGUuY2xlYXIoKSx0aGlzLm1hdGVyaWFsQ2FjaGUuY2xlYXIoKX1fZ2V0U2hhZGVyQ2FjaGVGb3JNYXRlcmlhbChlKXtjb25zdCB0PXRoaXMubWF0ZXJpYWxDYWNoZTtyZXR1cm4gdC5oYXMoZSk9PT0hMSYmdC5zZXQoZSxuZXcgU2V0KSx0LmdldChlKX1fZ2V0U2hhZGVyU3RhZ2UoZSl7Y29uc3QgdD10aGlzLnNoYWRlckNhY2hlO2lmKHQuaGFzKGUpPT09ITEpe2NvbnN0IHI9bmV3IG15KGUpO3Quc2V0KGUscil9cmV0dXJuIHQuZ2V0KGUpfX1jbGFzcyBteXtjb25zdHJ1Y3RvcihlKXt0aGlzLmlkPXB5KyssdGhpcy5jb2RlPWUsdGhpcy51c2VkVGltZXM9MH19ZnVuY3Rpb24gZ3koaSxlLHQscixzLGEsbil7Y29uc3Qgbz1uZXcgU2wsaD1uZXcgZnksbD1bXSxjPXMuaXNXZWJHTDIsdT1zLmxvZ2FyaXRobWljRGVwdGhCdWZmZXIsZD1zLmZsb2F0VmVydGV4VGV4dHVyZXMscD1zLm1heFZlcnRleFVuaWZvcm1zLGc9cy52ZXJ0ZXhUZXh0dXJlcztsZXQgZj1zLnByZWNpc2lvbjtjb25zdCBtPXtNZXNoRGVwdGhNYXRlcmlhbDoiZGVwdGgiLE1lc2hEaXN0YW5jZU1hdGVyaWFsOiJkaXN0YW5jZVJHQkEiLE1lc2hOb3JtYWxNYXRlcmlhbDoibm9ybWFsIixNZXNoQmFzaWNNYXRlcmlhbDoiYmFzaWMiLE1lc2hMYW1iZXJ0TWF0ZXJpYWw6ImxhbWJlcnQiLE1lc2hQaG9uZ01hdGVyaWFsOiJwaG9uZyIsTWVzaFRvb25NYXRlcmlhbDoidG9vbiIsTWVzaFN0YW5kYXJkTWF0ZXJpYWw6InBoeXNpY2FsIixNZXNoUGh5c2ljYWxNYXRlcmlhbDoicGh5c2ljYWwiLE1lc2hNYXRjYXBNYXRlcmlhbDoibWF0Y2FwIixMaW5lQmFzaWNNYXRlcmlhbDoiYmFzaWMiLExpbmVEYXNoZWRNYXRlcmlhbDoiZGFzaGVkIixQb2ludHNNYXRlcmlhbDoicG9pbnRzIixTaGFkb3dNYXRlcmlhbDoic2hhZG93IixTcHJpdGVNYXRlcmlhbDoic3ByaXRlIn07ZnVuY3Rpb24gdih4KXtjb25zdCBDPXguc2tlbGV0b24uYm9uZXM7aWYoZClyZXR1cm4gMTAyNDt7Y29uc3QgWT1NYXRoLmZsb29yKChwLTIwKS80KSxOPU1hdGgubWluKFksQy5sZW5ndGgpO3JldHVybiBOPEMubGVuZ3RoPyhjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IFNrZWxldG9uIGhhcyAiK0MubGVuZ3RoKyIgYm9uZXMuIFRoaXMgR1BVIHN1cHBvcnRzICIrTisiLiIpLDApOk59fWZ1bmN0aW9uIHkoeCxDLFksTixVKXtjb25zdCBCPU4uZm9nLEc9VS5nZW9tZXRyeSxSPXguaXNNZXNoU3RhbmRhcmRNYXRlcmlhbD9OLmVudmlyb25tZW50Om51bGwsWD0oeC5pc01lc2hTdGFuZGFyZE1hdGVyaWFsP3Q6ZSkuZ2V0KHguZW52TWFwfHxSKSxKPSEhWCYmWC5tYXBwaW5nPT09Y2E/WC5pbWFnZS5oZWlnaHQ6bnVsbCx0ZT1tW3gudHlwZV0sUT1VLmlzU2tpbm5lZE1lc2g/dihVKTowO3gucHJlY2lzaW9uIT09bnVsbCYmKGY9cy5nZXRNYXhQcmVjaXNpb24oeC5wcmVjaXNpb24pLGYhPT14LnByZWNpc2lvbiYmY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFByb2dyYW0uZ2V0UGFyYW1ldGVyczoiLHgucHJlY2lzaW9uLCJub3Qgc3VwcG9ydGVkLCB1c2luZyIsZiwiaW5zdGVhZC4iKSk7Y29uc3QgdmU9Ry5tb3JwaEF0dHJpYnV0ZXMucG9zaXRpb258fEcubW9ycGhBdHRyaWJ1dGVzLm5vcm1hbHx8Ry5tb3JwaEF0dHJpYnV0ZXMuY29sb3IsemU9dmUhPT12b2lkIDA/dmUubGVuZ3RoOjA7bGV0IGJlPTA7Ry5tb3JwaEF0dHJpYnV0ZXMucG9zaXRpb24hPT12b2lkIDAmJihiZT0xKSxHLm1vcnBoQXR0cmlidXRlcy5ub3JtYWwhPT12b2lkIDAmJihiZT0yKSxHLm1vcnBoQXR0cmlidXRlcy5jb2xvciE9PXZvaWQgMCYmKGJlPTMpO2xldCBWLFplLE9lLHllO2lmKHRlKXtjb25zdCBxPWFpW3RlXTtWPXEudmVydGV4U2hhZGVyLFplPXEuZnJhZ21lbnRTaGFkZXJ9ZWxzZSBWPXgudmVydGV4U2hhZGVyLFplPXguZnJhZ21lbnRTaGFkZXIsaC51cGRhdGUoeCksT2U9aC5nZXRWZXJ0ZXhTaGFkZXJJRCh4KSx5ZT1oLmdldEZyYWdtZW50U2hhZGVySUQoeCk7Y29uc3QgcmU9aS5nZXRSZW5kZXJUYXJnZXQoKSxaPXguYWxwaGFUZXN0PjAsaj14LmNsZWFyY29hdD4wO3JldHVybntpc1dlYkdMMjpjLHNoYWRlcklEOnRlLHNoYWRlck5hbWU6eC50eXBlLHZlcnRleFNoYWRlcjpWLGZyYWdtZW50U2hhZGVyOlplLGRlZmluZXM6eC5kZWZpbmVzLGN1c3RvbVZlcnRleFNoYWRlcklEOk9lLGN1c3RvbUZyYWdtZW50U2hhZGVySUQ6eWUsaXNSYXdTaGFkZXJNYXRlcmlhbDp4LmlzUmF3U2hhZGVyTWF0ZXJpYWw9PT0hMCxnbHNsVmVyc2lvbjp4Lmdsc2xWZXJzaW9uLHByZWNpc2lvbjpmLGluc3RhbmNpbmc6VS5pc0luc3RhbmNlZE1lc2g9PT0hMCxpbnN0YW5jaW5nQ29sb3I6VS5pc0luc3RhbmNlZE1lc2g9PT0hMCYmVS5pbnN0YW5jZUNvbG9yIT09bnVsbCxzdXBwb3J0c1ZlcnRleFRleHR1cmVzOmcsb3V0cHV0RW5jb2Rpbmc6cmU9PT1udWxsP2kub3V0cHV0RW5jb2Rpbmc6cmUuaXNYUlJlbmRlclRhcmdldD09PSEwP3JlLnRleHR1cmUuZW5jb2Rpbmc6X2ksbWFwOiEheC5tYXAsbWF0Y2FwOiEheC5tYXRjYXAsZW52TWFwOiEhWCxlbnZNYXBNb2RlOlgmJlgubWFwcGluZyxlbnZNYXBDdWJlVVZIZWlnaHQ6SixsaWdodE1hcDohIXgubGlnaHRNYXAsYW9NYXA6ISF4LmFvTWFwLGVtaXNzaXZlTWFwOiEheC5lbWlzc2l2ZU1hcCxidW1wTWFwOiEheC5idW1wTWFwLG5vcm1hbE1hcDohIXgubm9ybWFsTWFwLG9iamVjdFNwYWNlTm9ybWFsTWFwOngubm9ybWFsTWFwVHlwZT09PXFnLHRhbmdlbnRTcGFjZU5vcm1hbE1hcDp4Lm5vcm1hbE1hcFR5cGU9PT1McixkZWNvZGVWaWRlb1RleHR1cmU6ISF4Lm1hcCYmeC5tYXAuaXNWaWRlb1RleHR1cmU9PT0hMCYmeC5tYXAuZW5jb2Rpbmc9PT1RZSxjbGVhcmNvYXQ6aixjbGVhcmNvYXRNYXA6aiYmISF4LmNsZWFyY29hdE1hcCxjbGVhcmNvYXRSb3VnaG5lc3NNYXA6aiYmISF4LmNsZWFyY29hdFJvdWdobmVzc01hcCxjbGVhcmNvYXROb3JtYWxNYXA6aiYmISF4LmNsZWFyY29hdE5vcm1hbE1hcCxkaXNwbGFjZW1lbnRNYXA6ISF4LmRpc3BsYWNlbWVudE1hcCxyb3VnaG5lc3NNYXA6ISF4LnJvdWdobmVzc01hcCxtZXRhbG5lc3NNYXA6ISF4Lm1ldGFsbmVzc01hcCxzcGVjdWxhck1hcDohIXguc3BlY3VsYXJNYXAsc3BlY3VsYXJJbnRlbnNpdHlNYXA6ISF4LnNwZWN1bGFySW50ZW5zaXR5TWFwLHNwZWN1bGFyQ29sb3JNYXA6ISF4LnNwZWN1bGFyQ29sb3JNYXAsb3BhcXVlOngudHJhbnNwYXJlbnQ9PT0hMSYmeC5ibGVuZGluZz09PXlyLGFscGhhTWFwOiEheC5hbHBoYU1hcCxhbHBoYVRlc3Q6WixncmFkaWVudE1hcDohIXguZ3JhZGllbnRNYXAsc2hlZW46eC5zaGVlbj4wLHNoZWVuQ29sb3JNYXA6ISF4LnNoZWVuQ29sb3JNYXAsc2hlZW5Sb3VnaG5lc3NNYXA6ISF4LnNoZWVuUm91Z2huZXNzTWFwLHRyYW5zbWlzc2lvbjp4LnRyYW5zbWlzc2lvbj4wLHRyYW5zbWlzc2lvbk1hcDohIXgudHJhbnNtaXNzaW9uTWFwLHRoaWNrbmVzc01hcDohIXgudGhpY2tuZXNzTWFwLGNvbWJpbmU6eC5jb21iaW5lLHZlcnRleFRhbmdlbnRzOiEheC5ub3JtYWxNYXAmJiEhRy5hdHRyaWJ1dGVzLnRhbmdlbnQsdmVydGV4Q29sb3JzOngudmVydGV4Q29sb3JzLHZlcnRleEFscGhhczp4LnZlcnRleENvbG9ycz09PSEwJiYhIUcuYXR0cmlidXRlcy5jb2xvciYmRy5hdHRyaWJ1dGVzLmNvbG9yLml0ZW1TaXplPT09NCx2ZXJ0ZXhVdnM6ISF4Lm1hcHx8ISF4LmJ1bXBNYXB8fCEheC5ub3JtYWxNYXB8fCEheC5zcGVjdWxhck1hcHx8ISF4LmFscGhhTWFwfHwhIXguZW1pc3NpdmVNYXB8fCEheC5yb3VnaG5lc3NNYXB8fCEheC5tZXRhbG5lc3NNYXB8fCEheC5jbGVhcmNvYXRNYXB8fCEheC5jbGVhcmNvYXRSb3VnaG5lc3NNYXB8fCEheC5jbGVhcmNvYXROb3JtYWxNYXB8fCEheC5kaXNwbGFjZW1lbnRNYXB8fCEheC50cmFuc21pc3Npb25NYXB8fCEheC50aGlja25lc3NNYXB8fCEheC5zcGVjdWxhckludGVuc2l0eU1hcHx8ISF4LnNwZWN1bGFyQ29sb3JNYXB8fCEheC5zaGVlbkNvbG9yTWFwfHwhIXguc2hlZW5Sb3VnaG5lc3NNYXAsdXZzVmVydGV4T25seTohKCEheC5tYXB8fCEheC5idW1wTWFwfHwhIXgubm9ybWFsTWFwfHwhIXguc3BlY3VsYXJNYXB8fCEheC5hbHBoYU1hcHx8ISF4LmVtaXNzaXZlTWFwfHwhIXgucm91Z2huZXNzTWFwfHwhIXgubWV0YWxuZXNzTWFwfHwhIXguY2xlYXJjb2F0Tm9ybWFsTWFwfHx4LnRyYW5zbWlzc2lvbj4wfHwhIXgudHJhbnNtaXNzaW9uTWFwfHwhIXgudGhpY2tuZXNzTWFwfHwhIXguc3BlY3VsYXJJbnRlbnNpdHlNYXB8fCEheC5zcGVjdWxhckNvbG9yTWFwfHx4LnNoZWVuPjB8fCEheC5zaGVlbkNvbG9yTWFwfHwhIXguc2hlZW5Sb3VnaG5lc3NNYXApJiYhIXguZGlzcGxhY2VtZW50TWFwLGZvZzohIUIsdXNlRm9nOnguZm9nLGZvZ0V4cDI6QiYmQi5pc0ZvZ0V4cDIsZmxhdFNoYWRpbmc6ISF4LmZsYXRTaGFkaW5nLHNpemVBdHRlbnVhdGlvbjp4LnNpemVBdHRlbnVhdGlvbixsb2dhcml0aG1pY0RlcHRoQnVmZmVyOnUsc2tpbm5pbmc6VS5pc1NraW5uZWRNZXNoPT09ITAmJlE+MCxtYXhCb25lczpRLHVzZVZlcnRleFRleHR1cmU6ZCxtb3JwaFRhcmdldHM6Ry5tb3JwaEF0dHJpYnV0ZXMucG9zaXRpb24hPT12b2lkIDAsbW9ycGhOb3JtYWxzOkcubW9ycGhBdHRyaWJ1dGVzLm5vcm1hbCE9PXZvaWQgMCxtb3JwaENvbG9yczpHLm1vcnBoQXR0cmlidXRlcy5jb2xvciE9PXZvaWQgMCxtb3JwaFRhcmdldHNDb3VudDp6ZSxtb3JwaFRleHR1cmVTdHJpZGU6YmUsbnVtRGlyTGlnaHRzOkMuZGlyZWN0aW9uYWwubGVuZ3RoLG51bVBvaW50TGlnaHRzOkMucG9pbnQubGVuZ3RoLG51bVNwb3RMaWdodHM6Qy5zcG90Lmxlbmd0aCxudW1SZWN0QXJlYUxpZ2h0czpDLnJlY3RBcmVhLmxlbmd0aCxudW1IZW1pTGlnaHRzOkMuaGVtaS5sZW5ndGgsbnVtRGlyTGlnaHRTaGFkb3dzOkMuZGlyZWN0aW9uYWxTaGFkb3dNYXAubGVuZ3RoLG51bVBvaW50TGlnaHRTaGFkb3dzOkMucG9pbnRTaGFkb3dNYXAubGVuZ3RoLG51bVNwb3RMaWdodFNoYWRvd3M6Qy5zcG90U2hhZG93TWFwLmxlbmd0aCxudW1DbGlwcGluZ1BsYW5lczpuLm51bVBsYW5lcyxudW1DbGlwSW50ZXJzZWN0aW9uOm4ubnVtSW50ZXJzZWN0aW9uLGRpdGhlcmluZzp4LmRpdGhlcmluZyxzaGFkb3dNYXBFbmFibGVkOmkuc2hhZG93TWFwLmVuYWJsZWQmJlkubGVuZ3RoPjAsc2hhZG93TWFwVHlwZTppLnNoYWRvd01hcC50eXBlLHRvbmVNYXBwaW5nOngudG9uZU1hcHBlZD9pLnRvbmVNYXBwaW5nOnhpLHBoeXNpY2FsbHlDb3JyZWN0TGlnaHRzOmkucGh5c2ljYWxseUNvcnJlY3RMaWdodHMscHJlbXVsdGlwbGllZEFscGhhOngucHJlbXVsdGlwbGllZEFscGhhLGRvdWJsZVNpZGVkOnguc2lkZT09PV9yLGZsaXBTaWRlZDp4LnNpZGU9PT1qdCxkZXB0aFBhY2tpbmc6eC5kZXB0aFBhY2tpbmchPT12b2lkIDA/eC5kZXB0aFBhY2tpbmc6ITEsaW5kZXgwQXR0cmlidXRlTmFtZTp4LmluZGV4MEF0dHJpYnV0ZU5hbWUsZXh0ZW5zaW9uRGVyaXZhdGl2ZXM6eC5leHRlbnNpb25zJiZ4LmV4dGVuc2lvbnMuZGVyaXZhdGl2ZXMsZXh0ZW5zaW9uRnJhZ0RlcHRoOnguZXh0ZW5zaW9ucyYmeC5leHRlbnNpb25zLmZyYWdEZXB0aCxleHRlbnNpb25EcmF3QnVmZmVyczp4LmV4dGVuc2lvbnMmJnguZXh0ZW5zaW9ucy5kcmF3QnVmZmVycyxleHRlbnNpb25TaGFkZXJUZXh0dXJlTE9EOnguZXh0ZW5zaW9ucyYmeC5leHRlbnNpb25zLnNoYWRlclRleHR1cmVMT0QscmVuZGVyZXJFeHRlbnNpb25GcmFnRGVwdGg6Y3x8ci5oYXMoIkVYVF9mcmFnX2RlcHRoIikscmVuZGVyZXJFeHRlbnNpb25EcmF3QnVmZmVyczpjfHxyLmhhcygiV0VCR0xfZHJhd19idWZmZXJzIikscmVuZGVyZXJFeHRlbnNpb25TaGFkZXJUZXh0dXJlTG9kOmN8fHIuaGFzKCJFWFRfc2hhZGVyX3RleHR1cmVfbG9kIiksY3VzdG9tUHJvZ3JhbUNhY2hlS2V5OnguY3VzdG9tUHJvZ3JhbUNhY2hlS2V5KCl9fWZ1bmN0aW9uIFQoeCl7Y29uc3QgQz1bXTtpZih4LnNoYWRlcklEP0MucHVzaCh4LnNoYWRlcklEKTooQy5wdXNoKHguY3VzdG9tVmVydGV4U2hhZGVySUQpLEMucHVzaCh4LmN1c3RvbUZyYWdtZW50U2hhZGVySUQpKSx4LmRlZmluZXMhPT12b2lkIDApZm9yKGNvbnN0IFkgaW4geC5kZWZpbmVzKUMucHVzaChZKSxDLnB1c2goeC5kZWZpbmVzW1ldKTtyZXR1cm4geC5pc1Jhd1NoYWRlck1hdGVyaWFsPT09ITEmJih3KEMseCksYihDLHgpLEMucHVzaChpLm91dHB1dEVuY29kaW5nKSksQy5wdXNoKHguY3VzdG9tUHJvZ3JhbUNhY2hlS2V5KSxDLmpvaW4oKX1mdW5jdGlvbiB3KHgsQyl7eC5wdXNoKEMucHJlY2lzaW9uKSx4LnB1c2goQy5vdXRwdXRFbmNvZGluZykseC5wdXNoKEMuZW52TWFwTW9kZSkseC5wdXNoKEMuZW52TWFwQ3ViZVVWSGVpZ2h0KSx4LnB1c2goQy5jb21iaW5lKSx4LnB1c2goQy52ZXJ0ZXhVdnMpLHgucHVzaChDLmZvZ0V4cDIpLHgucHVzaChDLnNpemVBdHRlbnVhdGlvbikseC5wdXNoKEMubWF4Qm9uZXMpLHgucHVzaChDLm1vcnBoVGFyZ2V0c0NvdW50KSx4LnB1c2goQy5tb3JwaEF0dHJpYnV0ZUNvdW50KSx4LnB1c2goQy5udW1EaXJMaWdodHMpLHgucHVzaChDLm51bVBvaW50TGlnaHRzKSx4LnB1c2goQy5udW1TcG90TGlnaHRzKSx4LnB1c2goQy5udW1IZW1pTGlnaHRzKSx4LnB1c2goQy5udW1SZWN0QXJlYUxpZ2h0cykseC5wdXNoKEMubnVtRGlyTGlnaHRTaGFkb3dzKSx4LnB1c2goQy5udW1Qb2ludExpZ2h0U2hhZG93cykseC5wdXNoKEMubnVtU3BvdExpZ2h0U2hhZG93cykseC5wdXNoKEMuc2hhZG93TWFwVHlwZSkseC5wdXNoKEMudG9uZU1hcHBpbmcpLHgucHVzaChDLm51bUNsaXBwaW5nUGxhbmVzKSx4LnB1c2goQy5udW1DbGlwSW50ZXJzZWN0aW9uKX1mdW5jdGlvbiBiKHgsQyl7by5kaXNhYmxlQWxsKCksQy5pc1dlYkdMMiYmby5lbmFibGUoMCksQy5zdXBwb3J0c1ZlcnRleFRleHR1cmVzJiZvLmVuYWJsZSgxKSxDLmluc3RhbmNpbmcmJm8uZW5hYmxlKDIpLEMuaW5zdGFuY2luZ0NvbG9yJiZvLmVuYWJsZSgzKSxDLm1hcCYmby5lbmFibGUoNCksQy5tYXRjYXAmJm8uZW5hYmxlKDUpLEMuZW52TWFwJiZvLmVuYWJsZSg2KSxDLmxpZ2h0TWFwJiZvLmVuYWJsZSg3KSxDLmFvTWFwJiZvLmVuYWJsZSg4KSxDLmVtaXNzaXZlTWFwJiZvLmVuYWJsZSg5KSxDLmJ1bXBNYXAmJm8uZW5hYmxlKDEwKSxDLm5vcm1hbE1hcCYmby5lbmFibGUoMTEpLEMub2JqZWN0U3BhY2VOb3JtYWxNYXAmJm8uZW5hYmxlKDEyKSxDLnRhbmdlbnRTcGFjZU5vcm1hbE1hcCYmby5lbmFibGUoMTMpLEMuY2xlYXJjb2F0JiZvLmVuYWJsZSgxNCksQy5jbGVhcmNvYXRNYXAmJm8uZW5hYmxlKDE1KSxDLmNsZWFyY29hdFJvdWdobmVzc01hcCYmby5lbmFibGUoMTYpLEMuY2xlYXJjb2F0Tm9ybWFsTWFwJiZvLmVuYWJsZSgxNyksQy5kaXNwbGFjZW1lbnRNYXAmJm8uZW5hYmxlKDE4KSxDLnNwZWN1bGFyTWFwJiZvLmVuYWJsZSgxOSksQy5yb3VnaG5lc3NNYXAmJm8uZW5hYmxlKDIwKSxDLm1ldGFsbmVzc01hcCYmby5lbmFibGUoMjEpLEMuZ3JhZGllbnRNYXAmJm8uZW5hYmxlKDIyKSxDLmFscGhhTWFwJiZvLmVuYWJsZSgyMyksQy5hbHBoYVRlc3QmJm8uZW5hYmxlKDI0KSxDLnZlcnRleENvbG9ycyYmby5lbmFibGUoMjUpLEMudmVydGV4QWxwaGFzJiZvLmVuYWJsZSgyNiksQy52ZXJ0ZXhVdnMmJm8uZW5hYmxlKDI3KSxDLnZlcnRleFRhbmdlbnRzJiZvLmVuYWJsZSgyOCksQy51dnNWZXJ0ZXhPbmx5JiZvLmVuYWJsZSgyOSksQy5mb2cmJm8uZW5hYmxlKDMwKSx4LnB1c2goby5tYXNrKSxvLmRpc2FibGVBbGwoKSxDLnVzZUZvZyYmby5lbmFibGUoMCksQy5mbGF0U2hhZGluZyYmby5lbmFibGUoMSksQy5sb2dhcml0aG1pY0RlcHRoQnVmZmVyJiZvLmVuYWJsZSgyKSxDLnNraW5uaW5nJiZvLmVuYWJsZSgzKSxDLnVzZVZlcnRleFRleHR1cmUmJm8uZW5hYmxlKDQpLEMubW9ycGhUYXJnZXRzJiZvLmVuYWJsZSg1KSxDLm1vcnBoTm9ybWFscyYmby5lbmFibGUoNiksQy5tb3JwaENvbG9ycyYmby5lbmFibGUoNyksQy5wcmVtdWx0aXBsaWVkQWxwaGEmJm8uZW5hYmxlKDgpLEMuc2hhZG93TWFwRW5hYmxlZCYmby5lbmFibGUoOSksQy5waHlzaWNhbGx5Q29ycmVjdExpZ2h0cyYmby5lbmFibGUoMTApLEMuZG91YmxlU2lkZWQmJm8uZW5hYmxlKDExKSxDLmZsaXBTaWRlZCYmby5lbmFibGUoMTIpLEMuZGVwdGhQYWNraW5nJiZvLmVuYWJsZSgxMyksQy5kaXRoZXJpbmcmJm8uZW5hYmxlKDE0KSxDLnNwZWN1bGFySW50ZW5zaXR5TWFwJiZvLmVuYWJsZSgxNSksQy5zcGVjdWxhckNvbG9yTWFwJiZvLmVuYWJsZSgxNiksQy50cmFuc21pc3Npb24mJm8uZW5hYmxlKDE3KSxDLnRyYW5zbWlzc2lvbk1hcCYmby5lbmFibGUoMTgpLEMudGhpY2tuZXNzTWFwJiZvLmVuYWJsZSgxOSksQy5zaGVlbiYmby5lbmFibGUoMjApLEMuc2hlZW5Db2xvck1hcCYmby5lbmFibGUoMjEpLEMuc2hlZW5Sb3VnaG5lc3NNYXAmJm8uZW5hYmxlKDIyKSxDLmRlY29kZVZpZGVvVGV4dHVyZSYmby5lbmFibGUoMjMpLEMub3BhcXVlJiZvLmVuYWJsZSgyNCkseC5wdXNoKG8ubWFzayl9ZnVuY3Rpb24gTCh4KXtjb25zdCBDPW1beC50eXBlXTtsZXQgWTtpZihDKXtjb25zdCBOPWFpW0NdO1k9YzAuY2xvbmUoTi51bmlmb3Jtcyl9ZWxzZSBZPXgudW5pZm9ybXM7cmV0dXJuIFl9ZnVuY3Rpb24gUCh4LEMpe2xldCBZO2ZvcihsZXQgTj0wLFU9bC5sZW5ndGg7TjxVO04rKyl7Y29uc3QgQj1sW05dO2lmKEIuY2FjaGVLZXk9PT1DKXtZPUIsKytZLnVzZWRUaW1lczticmVha319cmV0dXJuIFk9PT12b2lkIDAmJihZPW5ldyBkeShpLEMseCxhKSxsLnB1c2goWSkpLFl9ZnVuY3Rpb24gayh4KXtpZigtLXgudXNlZFRpbWVzPT09MCl7Y29uc3QgQz1sLmluZGV4T2YoeCk7bFtDXT1sW2wubGVuZ3RoLTFdLGwucG9wKCkseC5kZXN0cm95KCl9fWZ1bmN0aW9uIGllKHgpe2gucmVtb3ZlKHgpfWZ1bmN0aW9uIE8oKXtoLmRpc3Bvc2UoKX1yZXR1cm57Z2V0UGFyYW1ldGVyczp5LGdldFByb2dyYW1DYWNoZUtleTpULGdldFVuaWZvcm1zOkwsYWNxdWlyZVByb2dyYW06UCxyZWxlYXNlUHJvZ3JhbTprLHJlbGVhc2VTaGFkZXJDYWNoZTppZSxwcm9ncmFtczpsLGRpc3Bvc2U6T319ZnVuY3Rpb24gdnkoKXtsZXQgaT1uZXcgV2Vha01hcDtmdW5jdGlvbiBlKGEpe2xldCBuPWkuZ2V0KGEpO3JldHVybiBuPT09dm9pZCAwJiYobj17fSxpLnNldChhLG4pKSxufWZ1bmN0aW9uIHQoYSl7aS5kZWxldGUoYSl9ZnVuY3Rpb24gcihhLG4sbyl7aS5nZXQoYSlbbl09b31mdW5jdGlvbiBzKCl7aT1uZXcgV2Vha01hcH1yZXR1cm57Z2V0OmUscmVtb3ZlOnQsdXBkYXRlOnIsZGlzcG9zZTpzfX1mdW5jdGlvbiB4eShpLGUpe3JldHVybiBpLmdyb3VwT3JkZXIhPT1lLmdyb3VwT3JkZXI/aS5ncm91cE9yZGVyLWUuZ3JvdXBPcmRlcjppLnJlbmRlck9yZGVyIT09ZS5yZW5kZXJPcmRlcj9pLnJlbmRlck9yZGVyLWUucmVuZGVyT3JkZXI6aS5tYXRlcmlhbC5pZCE9PWUubWF0ZXJpYWwuaWQ/aS5tYXRlcmlhbC5pZC1lLm1hdGVyaWFsLmlkOmkueiE9PWUuej9pLnotZS56OmkuaWQtZS5pZH1mdW5jdGlvbiBoYyhpLGUpe3JldHVybiBpLmdyb3VwT3JkZXIhPT1lLmdyb3VwT3JkZXI/aS5ncm91cE9yZGVyLWUuZ3JvdXBPcmRlcjppLnJlbmRlck9yZGVyIT09ZS5yZW5kZXJPcmRlcj9pLnJlbmRlck9yZGVyLWUucmVuZGVyT3JkZXI6aS56IT09ZS56P2Uuei1pLno6aS5pZC1lLmlkfWZ1bmN0aW9uIGxjKCl7Y29uc3QgaT1bXTtsZXQgZT0wO2NvbnN0IHQ9W10scj1bXSxzPVtdO2Z1bmN0aW9uIGEoKXtlPTAsdC5sZW5ndGg9MCxyLmxlbmd0aD0wLHMubGVuZ3RoPTB9ZnVuY3Rpb24gbih1LGQscCxnLGYsbSl7bGV0IHY9aVtlXTtyZXR1cm4gdj09PXZvaWQgMD8odj17aWQ6dS5pZCxvYmplY3Q6dSxnZW9tZXRyeTpkLG1hdGVyaWFsOnAsZ3JvdXBPcmRlcjpnLHJlbmRlck9yZGVyOnUucmVuZGVyT3JkZXIsejpmLGdyb3VwOm19LGlbZV09dik6KHYuaWQ9dS5pZCx2Lm9iamVjdD11LHYuZ2VvbWV0cnk9ZCx2Lm1hdGVyaWFsPXAsdi5ncm91cE9yZGVyPWcsdi5yZW5kZXJPcmRlcj11LnJlbmRlck9yZGVyLHYuej1mLHYuZ3JvdXA9bSksZSsrLHZ9ZnVuY3Rpb24gbyh1LGQscCxnLGYsbSl7Y29uc3Qgdj1uKHUsZCxwLGcsZixtKTtwLnRyYW5zbWlzc2lvbj4wP3IucHVzaCh2KTpwLnRyYW5zcGFyZW50PT09ITA/cy5wdXNoKHYpOnQucHVzaCh2KX1mdW5jdGlvbiBoKHUsZCxwLGcsZixtKXtjb25zdCB2PW4odSxkLHAsZyxmLG0pO3AudHJhbnNtaXNzaW9uPjA/ci51bnNoaWZ0KHYpOnAudHJhbnNwYXJlbnQ9PT0hMD9zLnVuc2hpZnQodik6dC51bnNoaWZ0KHYpfWZ1bmN0aW9uIGwodSxkKXt0Lmxlbmd0aD4xJiZ0LnNvcnQodXx8eHkpLHIubGVuZ3RoPjEmJnIuc29ydChkfHxoYykscy5sZW5ndGg+MSYmcy5zb3J0KGR8fGhjKX1mdW5jdGlvbiBjKCl7Zm9yKGxldCB1PWUsZD1pLmxlbmd0aDt1PGQ7dSsrKXtjb25zdCBwPWlbdV07aWYocC5pZD09PW51bGwpYnJlYWs7cC5pZD1udWxsLHAub2JqZWN0PW51bGwscC5nZW9tZXRyeT1udWxsLHAubWF0ZXJpYWw9bnVsbCxwLmdyb3VwPW51bGx9fXJldHVybntvcGFxdWU6dCx0cmFuc21pc3NpdmU6cix0cmFuc3BhcmVudDpzLGluaXQ6YSxwdXNoOm8sdW5zaGlmdDpoLGZpbmlzaDpjLHNvcnQ6bH19ZnVuY3Rpb24gX3koKXtsZXQgaT1uZXcgV2Vha01hcDtmdW5jdGlvbiBlKHIscyl7bGV0IGE7cmV0dXJuIGkuaGFzKHIpPT09ITE/KGE9bmV3IGxjLGkuc2V0KHIsW2FdKSk6cz49aS5nZXQocikubGVuZ3RoPyhhPW5ldyBsYyxpLmdldChyKS5wdXNoKGEpKTphPWkuZ2V0KHIpW3NdLGF9ZnVuY3Rpb24gdCgpe2k9bmV3IFdlYWtNYXB9cmV0dXJue2dldDplLGRpc3Bvc2U6dH19ZnVuY3Rpb24geXkoKXtjb25zdCBpPXt9O3JldHVybntnZXQ6ZnVuY3Rpb24oZSl7aWYoaVtlLmlkXSE9PXZvaWQgMClyZXR1cm4gaVtlLmlkXTtsZXQgdDtzd2l0Y2goZS50eXBlKXtjYXNlIkRpcmVjdGlvbmFsTGlnaHQiOnQ9e2RpcmVjdGlvbjpuZXcgRSxjb2xvcjpuZXcgZ2V9O2JyZWFrO2Nhc2UiU3BvdExpZ2h0Ijp0PXtwb3NpdGlvbjpuZXcgRSxkaXJlY3Rpb246bmV3IEUsY29sb3I6bmV3IGdlLGRpc3RhbmNlOjAsY29uZUNvczowLHBlbnVtYnJhQ29zOjAsZGVjYXk6MH07YnJlYWs7Y2FzZSJQb2ludExpZ2h0Ijp0PXtwb3NpdGlvbjpuZXcgRSxjb2xvcjpuZXcgZ2UsZGlzdGFuY2U6MCxkZWNheTowfTticmVhaztjYXNlIkhlbWlzcGhlcmVMaWdodCI6dD17ZGlyZWN0aW9uOm5ldyBFLHNreUNvbG9yOm5ldyBnZSxncm91bmRDb2xvcjpuZXcgZ2V9O2JyZWFrO2Nhc2UiUmVjdEFyZWFMaWdodCI6dD17Y29sb3I6bmV3IGdlLHBvc2l0aW9uOm5ldyBFLGhhbGZXaWR0aDpuZXcgRSxoYWxmSGVpZ2h0Om5ldyBFfTticmVha31yZXR1cm4gaVtlLmlkXT10LHR9fX1mdW5jdGlvbiBNeSgpe2NvbnN0IGk9e307cmV0dXJue2dldDpmdW5jdGlvbihlKXtpZihpW2UuaWRdIT09dm9pZCAwKXJldHVybiBpW2UuaWRdO2xldCB0O3N3aXRjaChlLnR5cGUpe2Nhc2UiRGlyZWN0aW9uYWxMaWdodCI6dD17c2hhZG93QmlhczowLHNoYWRvd05vcm1hbEJpYXM6MCxzaGFkb3dSYWRpdXM6MSxzaGFkb3dNYXBTaXplOm5ldyBlZX07YnJlYWs7Y2FzZSJTcG90TGlnaHQiOnQ9e3NoYWRvd0JpYXM6MCxzaGFkb3dOb3JtYWxCaWFzOjAsc2hhZG93UmFkaXVzOjEsc2hhZG93TWFwU2l6ZTpuZXcgZWV9O2JyZWFrO2Nhc2UiUG9pbnRMaWdodCI6dD17c2hhZG93QmlhczowLHNoYWRvd05vcm1hbEJpYXM6MCxzaGFkb3dSYWRpdXM6MSxzaGFkb3dNYXBTaXplOm5ldyBlZSxzaGFkb3dDYW1lcmFOZWFyOjEsc2hhZG93Q2FtZXJhRmFyOjFlM307YnJlYWt9cmV0dXJuIGlbZS5pZF09dCx0fX19bGV0IGJ5PTA7ZnVuY3Rpb24gd3koaSxlKXtyZXR1cm4oZS5jYXN0U2hhZG93PzE6MCktKGkuY2FzdFNoYWRvdz8xOjApfWZ1bmN0aW9uIFN5KGksZSl7Y29uc3QgdD1uZXcgeXkscj1NeSgpLHM9e3ZlcnNpb246MCxoYXNoOntkaXJlY3Rpb25hbExlbmd0aDotMSxwb2ludExlbmd0aDotMSxzcG90TGVuZ3RoOi0xLHJlY3RBcmVhTGVuZ3RoOi0xLGhlbWlMZW5ndGg6LTEsbnVtRGlyZWN0aW9uYWxTaGFkb3dzOi0xLG51bVBvaW50U2hhZG93czotMSxudW1TcG90U2hhZG93czotMX0sYW1iaWVudDpbMCwwLDBdLHByb2JlOltdLGRpcmVjdGlvbmFsOltdLGRpcmVjdGlvbmFsU2hhZG93OltdLGRpcmVjdGlvbmFsU2hhZG93TWFwOltdLGRpcmVjdGlvbmFsU2hhZG93TWF0cml4OltdLHNwb3Q6W10sc3BvdFNoYWRvdzpbXSxzcG90U2hhZG93TWFwOltdLHNwb3RTaGFkb3dNYXRyaXg6W10scmVjdEFyZWE6W10scmVjdEFyZWFMVEMxOm51bGwscmVjdEFyZWFMVEMyOm51bGwscG9pbnQ6W10scG9pbnRTaGFkb3c6W10scG9pbnRTaGFkb3dNYXA6W10scG9pbnRTaGFkb3dNYXRyaXg6W10saGVtaTpbXX07Zm9yKGxldCBjPTA7Yzw5O2MrKylzLnByb2JlLnB1c2gobmV3IEUpO2NvbnN0IGE9bmV3IEUsbj1uZXcgX2Usbz1uZXcgX2U7ZnVuY3Rpb24gaChjLHUpe2xldCBkPTAscD0wLGc9MDtmb3IobGV0IGllPTA7aWU8OTtpZSsrKXMucHJvYmVbaWVdLnNldCgwLDAsMCk7bGV0IGY9MCxtPTAsdj0wLHk9MCxUPTAsdz0wLGI9MCxMPTA7Yy5zb3J0KHd5KTtjb25zdCBQPXUhPT0hMD9NYXRoLlBJOjE7Zm9yKGxldCBpZT0wLE89Yy5sZW5ndGg7aWU8TztpZSsrKXtjb25zdCB4PWNbaWVdLEM9eC5jb2xvcixZPXguaW50ZW5zaXR5LE49eC5kaXN0YW5jZSxVPXguc2hhZG93JiZ4LnNoYWRvdy5tYXA/eC5zaGFkb3cubWFwLnRleHR1cmU6bnVsbDtpZih4LmlzQW1iaWVudExpZ2h0KWQrPUMucipZKlAscCs9Qy5nKlkqUCxnKz1DLmIqWSpQO2Vsc2UgaWYoeC5pc0xpZ2h0UHJvYmUpZm9yKGxldCBCPTA7Qjw5O0IrKylzLnByb2JlW0JdLmFkZFNjYWxlZFZlY3Rvcih4LnNoLmNvZWZmaWNpZW50c1tCXSxZKTtlbHNlIGlmKHguaXNEaXJlY3Rpb25hbExpZ2h0KXtjb25zdCBCPXQuZ2V0KHgpO2lmKEIuY29sb3IuY29weSh4LmNvbG9yKS5tdWx0aXBseVNjYWxhcih4LmludGVuc2l0eSpQKSx4LmNhc3RTaGFkb3cpe2NvbnN0IEc9eC5zaGFkb3csUj1yLmdldCh4KTtSLnNoYWRvd0JpYXM9Ry5iaWFzLFIuc2hhZG93Tm9ybWFsQmlhcz1HLm5vcm1hbEJpYXMsUi5zaGFkb3dSYWRpdXM9Ry5yYWRpdXMsUi5zaGFkb3dNYXBTaXplPUcubWFwU2l6ZSxzLmRpcmVjdGlvbmFsU2hhZG93W2ZdPVIscy5kaXJlY3Rpb25hbFNoYWRvd01hcFtmXT1VLHMuZGlyZWN0aW9uYWxTaGFkb3dNYXRyaXhbZl09eC5zaGFkb3cubWF0cml4LHcrK31zLmRpcmVjdGlvbmFsW2ZdPUIsZisrfWVsc2UgaWYoeC5pc1Nwb3RMaWdodCl7Y29uc3QgQj10LmdldCh4KTtpZihCLnBvc2l0aW9uLnNldEZyb21NYXRyaXhQb3NpdGlvbih4Lm1hdHJpeFdvcmxkKSxCLmNvbG9yLmNvcHkoQykubXVsdGlwbHlTY2FsYXIoWSpQKSxCLmRpc3RhbmNlPU4sQi5jb25lQ29zPU1hdGguY29zKHguYW5nbGUpLEIucGVudW1icmFDb3M9TWF0aC5jb3MoeC5hbmdsZSooMS14LnBlbnVtYnJhKSksQi5kZWNheT14LmRlY2F5LHguY2FzdFNoYWRvdyl7Y29uc3QgRz14LnNoYWRvdyxSPXIuZ2V0KHgpO1Iuc2hhZG93Qmlhcz1HLmJpYXMsUi5zaGFkb3dOb3JtYWxCaWFzPUcubm9ybWFsQmlhcyxSLnNoYWRvd1JhZGl1cz1HLnJhZGl1cyxSLnNoYWRvd01hcFNpemU9Ry5tYXBTaXplLHMuc3BvdFNoYWRvd1t2XT1SLHMuc3BvdFNoYWRvd01hcFt2XT1VLHMuc3BvdFNoYWRvd01hdHJpeFt2XT14LnNoYWRvdy5tYXRyaXgsTCsrfXMuc3BvdFt2XT1CLHYrK31lbHNlIGlmKHguaXNSZWN0QXJlYUxpZ2h0KXtjb25zdCBCPXQuZ2V0KHgpO0IuY29sb3IuY29weShDKS5tdWx0aXBseVNjYWxhcihZKSxCLmhhbGZXaWR0aC5zZXQoeC53aWR0aCouNSwwLDApLEIuaGFsZkhlaWdodC5zZXQoMCx4LmhlaWdodCouNSwwKSxzLnJlY3RBcmVhW3ldPUIseSsrfWVsc2UgaWYoeC5pc1BvaW50TGlnaHQpe2NvbnN0IEI9dC5nZXQoeCk7aWYoQi5jb2xvci5jb3B5KHguY29sb3IpLm11bHRpcGx5U2NhbGFyKHguaW50ZW5zaXR5KlApLEIuZGlzdGFuY2U9eC5kaXN0YW5jZSxCLmRlY2F5PXguZGVjYXkseC5jYXN0U2hhZG93KXtjb25zdCBHPXguc2hhZG93LFI9ci5nZXQoeCk7Ui5zaGFkb3dCaWFzPUcuYmlhcyxSLnNoYWRvd05vcm1hbEJpYXM9Ry5ub3JtYWxCaWFzLFIuc2hhZG93UmFkaXVzPUcucmFkaXVzLFIuc2hhZG93TWFwU2l6ZT1HLm1hcFNpemUsUi5zaGFkb3dDYW1lcmFOZWFyPUcuY2FtZXJhLm5lYXIsUi5zaGFkb3dDYW1lcmFGYXI9Ry5jYW1lcmEuZmFyLHMucG9pbnRTaGFkb3dbbV09UixzLnBvaW50U2hhZG93TWFwW21dPVUscy5wb2ludFNoYWRvd01hdHJpeFttXT14LnNoYWRvdy5tYXRyaXgsYisrfXMucG9pbnRbbV09QixtKyt9ZWxzZSBpZih4LmlzSGVtaXNwaGVyZUxpZ2h0KXtjb25zdCBCPXQuZ2V0KHgpO0Iuc2t5Q29sb3IuY29weSh4LmNvbG9yKS5tdWx0aXBseVNjYWxhcihZKlApLEIuZ3JvdW5kQ29sb3IuY29weSh4Lmdyb3VuZENvbG9yKS5tdWx0aXBseVNjYWxhcihZKlApLHMuaGVtaVtUXT1CLFQrK319eT4wJiYoZS5pc1dlYkdMMnx8aS5oYXMoIk9FU190ZXh0dXJlX2Zsb2F0X2xpbmVhciIpPT09ITA/KHMucmVjdEFyZWFMVEMxPW9lLkxUQ19GTE9BVF8xLHMucmVjdEFyZWFMVEMyPW9lLkxUQ19GTE9BVF8yKTppLmhhcygiT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXIiKT09PSEwPyhzLnJlY3RBcmVhTFRDMT1vZS5MVENfSEFMRl8xLHMucmVjdEFyZWFMVEMyPW9lLkxUQ19IQUxGXzIpOmNvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMUmVuZGVyZXI6IFVuYWJsZSB0byB1c2UgUmVjdEFyZWFMaWdodC4gTWlzc2luZyBXZWJHTCBleHRlbnNpb25zLiIpKSxzLmFtYmllbnRbMF09ZCxzLmFtYmllbnRbMV09cCxzLmFtYmllbnRbMl09Zztjb25zdCBrPXMuaGFzaDsoay5kaXJlY3Rpb25hbExlbmd0aCE9PWZ8fGsucG9pbnRMZW5ndGghPT1tfHxrLnNwb3RMZW5ndGghPT12fHxrLnJlY3RBcmVhTGVuZ3RoIT09eXx8ay5oZW1pTGVuZ3RoIT09VHx8ay5udW1EaXJlY3Rpb25hbFNoYWRvd3MhPT13fHxrLm51bVBvaW50U2hhZG93cyE9PWJ8fGsubnVtU3BvdFNoYWRvd3MhPT1MKSYmKHMuZGlyZWN0aW9uYWwubGVuZ3RoPWYscy5zcG90Lmxlbmd0aD12LHMucmVjdEFyZWEubGVuZ3RoPXkscy5wb2ludC5sZW5ndGg9bSxzLmhlbWkubGVuZ3RoPVQscy5kaXJlY3Rpb25hbFNoYWRvdy5sZW5ndGg9dyxzLmRpcmVjdGlvbmFsU2hhZG93TWFwLmxlbmd0aD13LHMucG9pbnRTaGFkb3cubGVuZ3RoPWIscy5wb2ludFNoYWRvd01hcC5sZW5ndGg9YixzLnNwb3RTaGFkb3cubGVuZ3RoPUwscy5zcG90U2hhZG93TWFwLmxlbmd0aD1MLHMuZGlyZWN0aW9uYWxTaGFkb3dNYXRyaXgubGVuZ3RoPXcscy5wb2ludFNoYWRvd01hdHJpeC5sZW5ndGg9YixzLnNwb3RTaGFkb3dNYXRyaXgubGVuZ3RoPUwsay5kaXJlY3Rpb25hbExlbmd0aD1mLGsucG9pbnRMZW5ndGg9bSxrLnNwb3RMZW5ndGg9dixrLnJlY3RBcmVhTGVuZ3RoPXksay5oZW1pTGVuZ3RoPVQsay5udW1EaXJlY3Rpb25hbFNoYWRvd3M9dyxrLm51bVBvaW50U2hhZG93cz1iLGsubnVtU3BvdFNoYWRvd3M9TCxzLnZlcnNpb249YnkrKyl9ZnVuY3Rpb24gbChjLHUpe2xldCBkPTAscD0wLGc9MCxmPTAsbT0wO2NvbnN0IHY9dS5tYXRyaXhXb3JsZEludmVyc2U7Zm9yKGxldCB5PTAsVD1jLmxlbmd0aDt5PFQ7eSsrKXtjb25zdCB3PWNbeV07aWYody5pc0RpcmVjdGlvbmFsTGlnaHQpe2NvbnN0IGI9cy5kaXJlY3Rpb25hbFtkXTtiLmRpcmVjdGlvbi5zZXRGcm9tTWF0cml4UG9zaXRpb24ody5tYXRyaXhXb3JsZCksYS5zZXRGcm9tTWF0cml4UG9zaXRpb24ody50YXJnZXQubWF0cml4V29ybGQpLGIuZGlyZWN0aW9uLnN1YihhKSxiLmRpcmVjdGlvbi50cmFuc2Zvcm1EaXJlY3Rpb24odiksZCsrfWVsc2UgaWYody5pc1Nwb3RMaWdodCl7Y29uc3QgYj1zLnNwb3RbZ107Yi5wb3NpdGlvbi5zZXRGcm9tTWF0cml4UG9zaXRpb24ody5tYXRyaXhXb3JsZCksYi5wb3NpdGlvbi5hcHBseU1hdHJpeDQodiksYi5kaXJlY3Rpb24uc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHcubWF0cml4V29ybGQpLGEuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHcudGFyZ2V0Lm1hdHJpeFdvcmxkKSxiLmRpcmVjdGlvbi5zdWIoYSksYi5kaXJlY3Rpb24udHJhbnNmb3JtRGlyZWN0aW9uKHYpLGcrK31lbHNlIGlmKHcuaXNSZWN0QXJlYUxpZ2h0KXtjb25zdCBiPXMucmVjdEFyZWFbZl07Yi5wb3NpdGlvbi5zZXRGcm9tTWF0cml4UG9zaXRpb24ody5tYXRyaXhXb3JsZCksYi5wb3NpdGlvbi5hcHBseU1hdHJpeDQodiksby5pZGVudGl0eSgpLG4uY29weSh3Lm1hdHJpeFdvcmxkKSxuLnByZW11bHRpcGx5KHYpLG8uZXh0cmFjdFJvdGF0aW9uKG4pLGIuaGFsZldpZHRoLnNldCh3LndpZHRoKi41LDAsMCksYi5oYWxmSGVpZ2h0LnNldCgwLHcuaGVpZ2h0Ki41LDApLGIuaGFsZldpZHRoLmFwcGx5TWF0cml4NChvKSxiLmhhbGZIZWlnaHQuYXBwbHlNYXRyaXg0KG8pLGYrK31lbHNlIGlmKHcuaXNQb2ludExpZ2h0KXtjb25zdCBiPXMucG9pbnRbcF07Yi5wb3NpdGlvbi5zZXRGcm9tTWF0cml4UG9zaXRpb24ody5tYXRyaXhXb3JsZCksYi5wb3NpdGlvbi5hcHBseU1hdHJpeDQodikscCsrfWVsc2UgaWYody5pc0hlbWlzcGhlcmVMaWdodCl7Y29uc3QgYj1zLmhlbWlbbV07Yi5kaXJlY3Rpb24uc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHcubWF0cml4V29ybGQpLGIuZGlyZWN0aW9uLnRyYW5zZm9ybURpcmVjdGlvbih2KSxiLmRpcmVjdGlvbi5ub3JtYWxpemUoKSxtKyt9fX1yZXR1cm57c2V0dXA6aCxzZXR1cFZpZXc6bCxzdGF0ZTpzfX1mdW5jdGlvbiBjYyhpLGUpe2NvbnN0IHQ9bmV3IFN5KGksZSkscj1bXSxzPVtdO2Z1bmN0aW9uIGEoKXtyLmxlbmd0aD0wLHMubGVuZ3RoPTB9ZnVuY3Rpb24gbihjKXtyLnB1c2goYyl9ZnVuY3Rpb24gbyhjKXtzLnB1c2goYyl9ZnVuY3Rpb24gaChjKXt0LnNldHVwKHIsYyl9ZnVuY3Rpb24gbChjKXt0LnNldHVwVmlldyhyLGMpfXJldHVybntpbml0OmEsc3RhdGU6e2xpZ2h0c0FycmF5OnIsc2hhZG93c0FycmF5OnMsbGlnaHRzOnR9LHNldHVwTGlnaHRzOmgsc2V0dXBMaWdodHNWaWV3OmwscHVzaExpZ2h0Om4scHVzaFNoYWRvdzpvfX1mdW5jdGlvbiBFeShpLGUpe2xldCB0PW5ldyBXZWFrTWFwO2Z1bmN0aW9uIHIoYSxuPTApe2xldCBvO3JldHVybiB0LmhhcyhhKT09PSExPyhvPW5ldyBjYyhpLGUpLHQuc2V0KGEsW29dKSk6bj49dC5nZXQoYSkubGVuZ3RoPyhvPW5ldyBjYyhpLGUpLHQuZ2V0KGEpLnB1c2gobykpOm89dC5nZXQoYSlbbl0sb31mdW5jdGlvbiBzKCl7dD1uZXcgV2Vha01hcH1yZXR1cm57Z2V0OnIsZGlzcG9zZTpzfX1jbGFzcyB2byBleHRlbmRzIGx0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCk7dGhpcy50eXBlPSJNZXNoRGVwdGhNYXRlcmlhbCIsdGhpcy5kZXB0aFBhY2tpbmc9V2csdGhpcy5tYXA9bnVsbCx0aGlzLmFscGhhTWFwPW51bGwsdGhpcy5kaXNwbGFjZW1lbnRNYXA9bnVsbCx0aGlzLmRpc3BsYWNlbWVudFNjYWxlPTEsdGhpcy5kaXNwbGFjZW1lbnRCaWFzPTAsdGhpcy53aXJlZnJhbWU9ITEsdGhpcy53aXJlZnJhbWVMaW5ld2lkdGg9MSx0aGlzLmZvZz0hMSx0aGlzLnNldFZhbHVlcyhlKX1jb3B5KGUpe3JldHVybiBzdXBlci5jb3B5KGUpLHRoaXMuZGVwdGhQYWNraW5nPWUuZGVwdGhQYWNraW5nLHRoaXMubWFwPWUubWFwLHRoaXMuYWxwaGFNYXA9ZS5hbHBoYU1hcCx0aGlzLmRpc3BsYWNlbWVudE1hcD1lLmRpc3BsYWNlbWVudE1hcCx0aGlzLmRpc3BsYWNlbWVudFNjYWxlPWUuZGlzcGxhY2VtZW50U2NhbGUsdGhpcy5kaXNwbGFjZW1lbnRCaWFzPWUuZGlzcGxhY2VtZW50Qmlhcyx0aGlzLndpcmVmcmFtZT1lLndpcmVmcmFtZSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD1lLndpcmVmcmFtZUxpbmV3aWR0aCx0aGlzfX12by5wcm90b3R5cGUuaXNNZXNoRGVwdGhNYXRlcmlhbD0hMDtjbGFzcyB4byBleHRlbmRzIGx0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCk7dGhpcy50eXBlPSJNZXNoRGlzdGFuY2VNYXRlcmlhbCIsdGhpcy5yZWZlcmVuY2VQb3NpdGlvbj1uZXcgRSx0aGlzLm5lYXJEaXN0YW5jZT0xLHRoaXMuZmFyRGlzdGFuY2U9MWUzLHRoaXMubWFwPW51bGwsdGhpcy5hbHBoYU1hcD1udWxsLHRoaXMuZGlzcGxhY2VtZW50TWFwPW51bGwsdGhpcy5kaXNwbGFjZW1lbnRTY2FsZT0xLHRoaXMuZGlzcGxhY2VtZW50Qmlhcz0wLHRoaXMuZm9nPSExLHRoaXMuc2V0VmFsdWVzKGUpfWNvcHkoZSl7cmV0dXJuIHN1cGVyLmNvcHkoZSksdGhpcy5yZWZlcmVuY2VQb3NpdGlvbi5jb3B5KGUucmVmZXJlbmNlUG9zaXRpb24pLHRoaXMubmVhckRpc3RhbmNlPWUubmVhckRpc3RhbmNlLHRoaXMuZmFyRGlzdGFuY2U9ZS5mYXJEaXN0YW5jZSx0aGlzLm1hcD1lLm1hcCx0aGlzLmFscGhhTWFwPWUuYWxwaGFNYXAsdGhpcy5kaXNwbGFjZW1lbnRNYXA9ZS5kaXNwbGFjZW1lbnRNYXAsdGhpcy5kaXNwbGFjZW1lbnRTY2FsZT1lLmRpc3BsYWNlbWVudFNjYWxlLHRoaXMuZGlzcGxhY2VtZW50Qmlhcz1lLmRpc3BsYWNlbWVudEJpYXMsdGhpc319eG8ucHJvdG90eXBlLmlzTWVzaERpc3RhbmNlTWF0ZXJpYWw9ITA7Y29uc3QgVHk9YHZvaWQgbWFpbigpIHsKCWdsX1Bvc2l0aW9uID0gdmVjNCggcG9zaXRpb24sIDEuMCApOwp9YCxBeT1gdW5pZm9ybSBzYW1wbGVyMkQgc2hhZG93X3Bhc3M7CnVuaWZvcm0gdmVjMiByZXNvbHV0aW9uOwp1bmlmb3JtIGZsb2F0IHJhZGl1czsKI2luY2x1ZGUgPHBhY2tpbmc+CnZvaWQgbWFpbigpIHsKCWNvbnN0IGZsb2F0IHNhbXBsZXMgPSBmbG9hdCggVlNNX1NBTVBMRVMgKTsKCWZsb2F0IG1lYW4gPSAwLjA7CglmbG9hdCBzcXVhcmVkX21lYW4gPSAwLjA7CglmbG9hdCB1dlN0cmlkZSA9IHNhbXBsZXMgPD0gMS4wID8gMC4wIDogMi4wIC8gKCBzYW1wbGVzIC0gMS4wICk7CglmbG9hdCB1dlN0YXJ0ID0gc2FtcGxlcyA8PSAxLjAgPyAwLjAgOiAtIDEuMDsKCWZvciAoIGZsb2F0IGkgPSAwLjA7IGkgPCBzYW1wbGVzOyBpICsrICkgewoJCWZsb2F0IHV2T2Zmc2V0ID0gdXZTdGFydCArIGkgKiB1dlN0cmlkZTsKCQkjaWZkZWYgSE9SSVpPTlRBTF9QQVNTCgkJCXZlYzIgZGlzdHJpYnV0aW9uID0gdW5wYWNrUkdCQVRvMkhhbGYoIHRleHR1cmUyRCggc2hhZG93X3Bhc3MsICggZ2xfRnJhZ0Nvb3JkLnh5ICsgdmVjMiggdXZPZmZzZXQsIDAuMCApICogcmFkaXVzICkgLyByZXNvbHV0aW9uICkgKTsKCQkJbWVhbiArPSBkaXN0cmlidXRpb24ueDsKCQkJc3F1YXJlZF9tZWFuICs9IGRpc3RyaWJ1dGlvbi55ICogZGlzdHJpYnV0aW9uLnkgKyBkaXN0cmlidXRpb24ueCAqIGRpc3RyaWJ1dGlvbi54OwoJCSNlbHNlCgkJCWZsb2F0IGRlcHRoID0gdW5wYWNrUkdCQVRvRGVwdGgoIHRleHR1cmUyRCggc2hhZG93X3Bhc3MsICggZ2xfRnJhZ0Nvb3JkLnh5ICsgdmVjMiggMC4wLCB1dk9mZnNldCApICogcmFkaXVzICkgLyByZXNvbHV0aW9uICkgKTsKCQkJbWVhbiArPSBkZXB0aDsKCQkJc3F1YXJlZF9tZWFuICs9IGRlcHRoICogZGVwdGg7CgkJI2VuZGlmCgl9CgltZWFuID0gbWVhbiAvIHNhbXBsZXM7CglzcXVhcmVkX21lYW4gPSBzcXVhcmVkX21lYW4gLyBzYW1wbGVzOwoJZmxvYXQgc3RkX2RldiA9IHNxcnQoIHNxdWFyZWRfbWVhbiAtIG1lYW4gKiBtZWFuICk7CglnbF9GcmFnQ29sb3IgPSBwYWNrMkhhbGZUb1JHQkEoIHZlYzIoIG1lYW4sIHN0ZF9kZXYgKSApOwp9YDtmdW5jdGlvbiB1YyhpLGUsdCl7bGV0IHI9bmV3IEhhO2NvbnN0IHM9bmV3IGVlLGE9bmV3IGVlLG49bmV3IFhlLG89bmV3IHZvKHtkZXB0aFBhY2tpbmc6amd9KSxoPW5ldyB4byxsPXt9LGM9dC5tYXhUZXh0dXJlU2l6ZSx1PXswOmp0LDE6d3MsMjpfcn0sZD1uZXcgJHQoe2RlZmluZXM6e1ZTTV9TQU1QTEVTOjh9LHVuaWZvcm1zOntzaGFkb3dfcGFzczp7dmFsdWU6bnVsbH0scmVzb2x1dGlvbjp7dmFsdWU6bmV3IGVlfSxyYWRpdXM6e3ZhbHVlOjR9fSx2ZXJ0ZXhTaGFkZXI6VHksZnJhZ21lbnRTaGFkZXI6QXl9KSxwPWQuY2xvbmUoKTtwLmRlZmluZXMuSE9SSVpPTlRBTF9QQVNTPTE7Y29uc3QgZz1uZXcgJGU7Zy5zZXRBdHRyaWJ1dGUoInBvc2l0aW9uIixuZXcgY3QobmV3IEZsb2F0MzJBcnJheShbLTEsLTEsLjUsMywtMSwuNSwtMSwzLC41XSksMykpO2NvbnN0IGY9bmV3IE50KGcsZCksbT10aGlzO3RoaXMuZW5hYmxlZD0hMSx0aGlzLmF1dG9VcGRhdGU9ITAsdGhpcy5uZWVkc1VwZGF0ZT0hMSx0aGlzLnR5cGU9T2gsdGhpcy5yZW5kZXI9ZnVuY3Rpb24odyxiLEwpe2lmKG0uZW5hYmxlZD09PSExfHxtLmF1dG9VcGRhdGU9PT0hMSYmbS5uZWVkc1VwZGF0ZT09PSExfHx3Lmxlbmd0aD09PTApcmV0dXJuO2NvbnN0IFA9aS5nZXRSZW5kZXJUYXJnZXQoKSxrPWkuZ2V0QWN0aXZlQ3ViZUZhY2UoKSxpZT1pLmdldEFjdGl2ZU1pcG1hcExldmVsKCksTz1pLnN0YXRlO08uc2V0QmxlbmRpbmcoSWkpLE8uYnVmZmVycy5jb2xvci5zZXRDbGVhcigxLDEsMSwxKSxPLmJ1ZmZlcnMuZGVwdGguc2V0VGVzdCghMCksTy5zZXRTY2lzc29yVGVzdCghMSk7Zm9yKGxldCB4PTAsQz13Lmxlbmd0aDt4PEM7eCsrKXtjb25zdCBZPXdbeF0sTj1ZLnNoYWRvdztpZihOPT09dm9pZCAwKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMU2hhZG93TWFwOiIsWSwiaGFzIG5vIHNoYWRvdy4iKTtjb250aW51ZX1pZihOLmF1dG9VcGRhdGU9PT0hMSYmTi5uZWVkc1VwZGF0ZT09PSExKWNvbnRpbnVlO3MuY29weShOLm1hcFNpemUpO2NvbnN0IFU9Ti5nZXRGcmFtZUV4dGVudHMoKTtpZihzLm11bHRpcGx5KFUpLGEuY29weShOLm1hcFNpemUpLChzLng+Y3x8cy55PmMpJiYocy54PmMmJihhLng9TWF0aC5mbG9vcihjL1UueCkscy54PWEueCpVLngsTi5tYXBTaXplLng9YS54KSxzLnk+YyYmKGEueT1NYXRoLmZsb29yKGMvVS55KSxzLnk9YS55KlUueSxOLm1hcFNpemUueT1hLnkpKSxOLm1hcD09PW51bGwmJiFOLmlzUG9pbnRMaWdodFNoYWRvdyYmdGhpcy50eXBlPT09YnMmJihOLm1hcD1uZXcgenQocy54LHMueSksTi5tYXAudGV4dHVyZS5uYW1lPVkubmFtZSsiLnNoYWRvd01hcCIsTi5tYXBQYXNzPW5ldyB6dChzLngscy55KSxOLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCkpLE4ubWFwPT09bnVsbCl7Y29uc3QgRz17bWluRmlsdGVyOnV0LG1hZ0ZpbHRlcjp1dCxmb3JtYXQ6WHR9O04ubWFwPW5ldyB6dChzLngscy55LEcpLE4ubWFwLnRleHR1cmUubmFtZT1ZLm5hbWUrIi5zaGFkb3dNYXAiLE4uY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKX1pLnNldFJlbmRlclRhcmdldChOLm1hcCksaS5jbGVhcigpO2NvbnN0IEI9Ti5nZXRWaWV3cG9ydENvdW50KCk7Zm9yKGxldCBHPTA7RzxCO0crKyl7Y29uc3QgUj1OLmdldFZpZXdwb3J0KEcpO24uc2V0KGEueCpSLngsYS55KlIueSxhLngqUi56LGEueSpSLncpLE8udmlld3BvcnQobiksTi51cGRhdGVNYXRyaWNlcyhZLEcpLHI9Ti5nZXRGcnVzdHVtKCksVChiLEwsTi5jYW1lcmEsWSx0aGlzLnR5cGUpfSFOLmlzUG9pbnRMaWdodFNoYWRvdyYmdGhpcy50eXBlPT09YnMmJnYoTixMKSxOLm5lZWRzVXBkYXRlPSExfW0ubmVlZHNVcGRhdGU9ITEsaS5zZXRSZW5kZXJUYXJnZXQoUCxrLGllKX07ZnVuY3Rpb24gdih3LGIpe2NvbnN0IEw9ZS51cGRhdGUoZik7ZC5kZWZpbmVzLlZTTV9TQU1QTEVTIT09dy5ibHVyU2FtcGxlcyYmKGQuZGVmaW5lcy5WU01fU0FNUExFUz13LmJsdXJTYW1wbGVzLHAuZGVmaW5lcy5WU01fU0FNUExFUz13LmJsdXJTYW1wbGVzLGQubmVlZHNVcGRhdGU9ITAscC5uZWVkc1VwZGF0ZT0hMCksZC51bmlmb3Jtcy5zaGFkb3dfcGFzcy52YWx1ZT13Lm1hcC50ZXh0dXJlLGQudW5pZm9ybXMucmVzb2x1dGlvbi52YWx1ZT13Lm1hcFNpemUsZC51bmlmb3Jtcy5yYWRpdXMudmFsdWU9dy5yYWRpdXMsaS5zZXRSZW5kZXJUYXJnZXQody5tYXBQYXNzKSxpLmNsZWFyKCksaS5yZW5kZXJCdWZmZXJEaXJlY3QoYixudWxsLEwsZCxmLG51bGwpLHAudW5pZm9ybXMuc2hhZG93X3Bhc3MudmFsdWU9dy5tYXBQYXNzLnRleHR1cmUscC51bmlmb3Jtcy5yZXNvbHV0aW9uLnZhbHVlPXcubWFwU2l6ZSxwLnVuaWZvcm1zLnJhZGl1cy52YWx1ZT13LnJhZGl1cyxpLnNldFJlbmRlclRhcmdldCh3Lm1hcCksaS5jbGVhcigpLGkucmVuZGVyQnVmZmVyRGlyZWN0KGIsbnVsbCxMLHAsZixudWxsKX1mdW5jdGlvbiB5KHcsYixMLFAsayxpZSl7bGV0IE89bnVsbDtjb25zdCB4PUwuaXNQb2ludExpZ2h0PT09ITA/dy5jdXN0b21EaXN0YW5jZU1hdGVyaWFsOncuY3VzdG9tRGVwdGhNYXRlcmlhbDtpZih4IT09dm9pZCAwP089eDpPPUwuaXNQb2ludExpZ2h0PT09ITA/aDpvLGkubG9jYWxDbGlwcGluZ0VuYWJsZWQmJmIuY2xpcFNoYWRvd3M9PT0hMCYmYi5jbGlwcGluZ1BsYW5lcy5sZW5ndGghPT0wfHxiLmRpc3BsYWNlbWVudE1hcCYmYi5kaXNwbGFjZW1lbnRTY2FsZSE9PTB8fGIuYWxwaGFNYXAmJmIuYWxwaGFUZXN0PjApe2NvbnN0IEM9Ty51dWlkLFk9Yi51dWlkO2xldCBOPWxbQ107Tj09PXZvaWQgMCYmKE49e30sbFtDXT1OKTtsZXQgVT1OW1ldO1U9PT12b2lkIDAmJihVPU8uY2xvbmUoKSxOW1ldPVUpLE89VX1yZXR1cm4gTy52aXNpYmxlPWIudmlzaWJsZSxPLndpcmVmcmFtZT1iLndpcmVmcmFtZSxpZT09PWJzP08uc2lkZT1iLnNoYWRvd1NpZGUhPT1udWxsP2Iuc2hhZG93U2lkZTpiLnNpZGU6Ty5zaWRlPWIuc2hhZG93U2lkZSE9PW51bGw/Yi5zaGFkb3dTaWRlOnVbYi5zaWRlXSxPLmFscGhhTWFwPWIuYWxwaGFNYXAsTy5hbHBoYVRlc3Q9Yi5hbHBoYVRlc3QsTy5jbGlwU2hhZG93cz1iLmNsaXBTaGFkb3dzLE8uY2xpcHBpbmdQbGFuZXM9Yi5jbGlwcGluZ1BsYW5lcyxPLmNsaXBJbnRlcnNlY3Rpb249Yi5jbGlwSW50ZXJzZWN0aW9uLE8uZGlzcGxhY2VtZW50TWFwPWIuZGlzcGxhY2VtZW50TWFwLE8uZGlzcGxhY2VtZW50U2NhbGU9Yi5kaXNwbGFjZW1lbnRTY2FsZSxPLmRpc3BsYWNlbWVudEJpYXM9Yi5kaXNwbGFjZW1lbnRCaWFzLE8ud2lyZWZyYW1lTGluZXdpZHRoPWIud2lyZWZyYW1lTGluZXdpZHRoLE8ubGluZXdpZHRoPWIubGluZXdpZHRoLEwuaXNQb2ludExpZ2h0PT09ITAmJk8uaXNNZXNoRGlzdGFuY2VNYXRlcmlhbD09PSEwJiYoTy5yZWZlcmVuY2VQb3NpdGlvbi5zZXRGcm9tTWF0cml4UG9zaXRpb24oTC5tYXRyaXhXb3JsZCksTy5uZWFyRGlzdGFuY2U9UCxPLmZhckRpc3RhbmNlPWspLE99ZnVuY3Rpb24gVCh3LGIsTCxQLGspe2lmKHcudmlzaWJsZT09PSExKXJldHVybjtpZih3LmxheWVycy50ZXN0KGIubGF5ZXJzKSYmKHcuaXNNZXNofHx3LmlzTGluZXx8dy5pc1BvaW50cykmJih3LmNhc3RTaGFkb3d8fHcucmVjZWl2ZVNoYWRvdyYmaz09PWJzKSYmKCF3LmZydXN0dW1DdWxsZWR8fHIuaW50ZXJzZWN0c09iamVjdCh3KSkpe3cubW9kZWxWaWV3TWF0cml4Lm11bHRpcGx5TWF0cmljZXMoTC5tYXRyaXhXb3JsZEludmVyc2Usdy5tYXRyaXhXb3JsZCk7Y29uc3QgTz1lLnVwZGF0ZSh3KSx4PXcubWF0ZXJpYWw7aWYoQXJyYXkuaXNBcnJheSh4KSl7Y29uc3QgQz1PLmdyb3Vwcztmb3IobGV0IFk9MCxOPUMubGVuZ3RoO1k8TjtZKyspe2NvbnN0IFU9Q1tZXSxCPXhbVS5tYXRlcmlhbEluZGV4XTtpZihCJiZCLnZpc2libGUpe2NvbnN0IEc9eSh3LEIsUCxMLm5lYXIsTC5mYXIsayk7aS5yZW5kZXJCdWZmZXJEaXJlY3QoTCxudWxsLE8sRyx3LFUpfX19ZWxzZSBpZih4LnZpc2libGUpe2NvbnN0IEM9eSh3LHgsUCxMLm5lYXIsTC5mYXIsayk7aS5yZW5kZXJCdWZmZXJEaXJlY3QoTCxudWxsLE8sQyx3LG51bGwpfX1jb25zdCBpZT13LmNoaWxkcmVuO2ZvcihsZXQgTz0wLHg9aWUubGVuZ3RoO088eDtPKyspVChpZVtPXSxiLEwsUCxrKX19ZnVuY3Rpb24gQ3koaSxlLHQpe2NvbnN0IHI9dC5pc1dlYkdMMjtmdW5jdGlvbiBzKCl7bGV0IEE9ITE7Y29uc3QgaGU9bmV3IFhlO2xldCBhZT1udWxsO2NvbnN0IHdlPW5ldyBYZSgwLDAsMCwwKTtyZXR1cm57c2V0TWFzazpmdW5jdGlvbihwZSl7YWUhPT1wZSYmIUEmJihpLmNvbG9yTWFzayhwZSxwZSxwZSxwZSksYWU9cGUpfSxzZXRMb2NrZWQ6ZnVuY3Rpb24ocGUpe0E9cGV9LHNldENsZWFyOmZ1bmN0aW9uKHBlLFNlLHNlLENlLGtlKXtrZT09PSEwJiYocGUqPUNlLFNlKj1DZSxzZSo9Q2UpLGhlLnNldChwZSxTZSxzZSxDZSksd2UuZXF1YWxzKGhlKT09PSExJiYoaS5jbGVhckNvbG9yKHBlLFNlLHNlLENlKSx3ZS5jb3B5KGhlKSl9LHJlc2V0OmZ1bmN0aW9uKCl7QT0hMSxhZT1udWxsLHdlLnNldCgtMSwwLDAsMCl9fX1mdW5jdGlvbiBhKCl7bGV0IEE9ITEsaGU9bnVsbCxhZT1udWxsLHdlPW51bGw7cmV0dXJue3NldFRlc3Q6ZnVuY3Rpb24ocGUpe3BlP2JlKDI5MjkpOlYoMjkyOSl9LHNldE1hc2s6ZnVuY3Rpb24ocGUpe2hlIT09cGUmJiFBJiYoaS5kZXB0aE1hc2socGUpLGhlPXBlKX0sc2V0RnVuYzpmdW5jdGlvbihwZSl7aWYoYWUhPT1wZSl7aWYocGUpc3dpdGNoKHBlKXtjYXNlIGNnOmkuZGVwdGhGdW5jKDUxMik7YnJlYWs7Y2FzZSB1ZzppLmRlcHRoRnVuYyg1MTkpO2JyZWFrO2Nhc2UgZGc6aS5kZXB0aEZ1bmMoNTEzKTticmVhaztjYXNlIE1uOmkuZGVwdGhGdW5jKDUxNSk7YnJlYWs7Y2FzZSBwZzppLmRlcHRoRnVuYyg1MTQpO2JyZWFrO2Nhc2UgZmc6aS5kZXB0aEZ1bmMoNTE4KTticmVhaztjYXNlIG1nOmkuZGVwdGhGdW5jKDUxNik7YnJlYWs7Y2FzZSBnZzppLmRlcHRoRnVuYyg1MTcpO2JyZWFrO2RlZmF1bHQ6aS5kZXB0aEZ1bmMoNTE1KX1lbHNlIGkuZGVwdGhGdW5jKDUxNSk7YWU9cGV9fSxzZXRMb2NrZWQ6ZnVuY3Rpb24ocGUpe0E9cGV9LHNldENsZWFyOmZ1bmN0aW9uKHBlKXt3ZSE9PXBlJiYoaS5jbGVhckRlcHRoKHBlKSx3ZT1wZSl9LHJlc2V0OmZ1bmN0aW9uKCl7QT0hMSxoZT1udWxsLGFlPW51bGwsd2U9bnVsbH19fWZ1bmN0aW9uIG4oKXtsZXQgQT0hMSxoZT1udWxsLGFlPW51bGwsd2U9bnVsbCxwZT1udWxsLFNlPW51bGwsc2U9bnVsbCxDZT1udWxsLGtlPW51bGw7cmV0dXJue3NldFRlc3Q6ZnVuY3Rpb24oWWUpe0F8fChZZT9iZSgyOTYwKTpWKDI5NjApKX0sc2V0TWFzazpmdW5jdGlvbihZZSl7aGUhPT1ZZSYmIUEmJihpLnN0ZW5jaWxNYXNrKFllKSxoZT1ZZSl9LHNldEZ1bmM6ZnVuY3Rpb24oWWUsY2ksdWkpeyhhZSE9PVllfHx3ZSE9PWNpfHxwZSE9PXVpKSYmKGkuc3RlbmNpbEZ1bmMoWWUsY2ksdWkpLGFlPVllLHdlPWNpLHBlPXVpKX0sc2V0T3A6ZnVuY3Rpb24oWWUsY2ksdWkpeyhTZSE9PVllfHxzZSE9PWNpfHxDZSE9PXVpKSYmKGkuc3RlbmNpbE9wKFllLGNpLHVpKSxTZT1ZZSxzZT1jaSxDZT11aSl9LHNldExvY2tlZDpmdW5jdGlvbihZZSl7QT1ZZX0sc2V0Q2xlYXI6ZnVuY3Rpb24oWWUpe2tlIT09WWUmJihpLmNsZWFyU3RlbmNpbChZZSksa2U9WWUpfSxyZXNldDpmdW5jdGlvbigpe0E9ITEsaGU9bnVsbCxhZT1udWxsLHdlPW51bGwscGU9bnVsbCxTZT1udWxsLHNlPW51bGwsQ2U9bnVsbCxrZT1udWxsfX19Y29uc3Qgbz1uZXcgcyxoPW5ldyBhLGw9bmV3IG47bGV0IGM9e30sdT17fSxkPW5ldyBXZWFrTWFwLHA9W10sZz1udWxsLGY9ITEsbT1udWxsLHY9bnVsbCx5PW51bGwsVD1udWxsLHc9bnVsbCxiPW51bGwsTD1udWxsLFA9ITEsaz1udWxsLGllPW51bGwsTz1udWxsLHg9bnVsbCxDPW51bGw7Y29uc3QgWT1pLmdldFBhcmFtZXRlcigzNTY2MSk7bGV0IE49ITEsVT0wO2NvbnN0IEI9aS5nZXRQYXJhbWV0ZXIoNzkzOCk7Qi5pbmRleE9mKCJXZWJHTCIpIT09LTE/KFU9cGFyc2VGbG9hdCgvXldlYkdMIChcZCkvLmV4ZWMoQilbMV0pLE49VT49MSk6Qi5pbmRleE9mKCJPcGVuR0wgRVMiKSE9PS0xJiYoVT1wYXJzZUZsb2F0KC9eT3BlbkdMIEVTIChcZCkvLmV4ZWMoQilbMV0pLE49VT49Mik7bGV0IEc9bnVsbCxSPXt9O2NvbnN0IFg9aS5nZXRQYXJhbWV0ZXIoMzA4OCksSj1pLmdldFBhcmFtZXRlcigyOTc4KSx0ZT1uZXcgWGUoKS5mcm9tQXJyYXkoWCksUT1uZXcgWGUoKS5mcm9tQXJyYXkoSik7ZnVuY3Rpb24gdmUoQSxoZSxhZSl7Y29uc3Qgd2U9bmV3IFVpbnQ4QXJyYXkoNCkscGU9aS5jcmVhdGVUZXh0dXJlKCk7aS5iaW5kVGV4dHVyZShBLHBlKSxpLnRleFBhcmFtZXRlcmkoQSwxMDI0MSw5NzI4KSxpLnRleFBhcmFtZXRlcmkoQSwxMDI0MCw5NzI4KTtmb3IobGV0IFNlPTA7U2U8YWU7U2UrKylpLnRleEltYWdlMkQoaGUrU2UsMCw2NDA4LDEsMSwwLDY0MDgsNTEyMSx3ZSk7cmV0dXJuIHBlfWNvbnN0IHplPXt9O3plWzM1NTNdPXZlKDM1NTMsMzU1MywxKSx6ZVszNDA2N109dmUoMzQwNjcsMzQwNjksNiksby5zZXRDbGVhcigwLDAsMCwxKSxoLnNldENsZWFyKDEpLGwuc2V0Q2xlYXIoMCksYmUoMjkyOSksaC5zZXRGdW5jKE1uKSxmZSghMSksbGUoRGgpLGJlKDI4ODQpLGooSWkpO2Z1bmN0aW9uIGJlKEEpe2NbQV0hPT0hMCYmKGkuZW5hYmxlKEEpLGNbQV09ITApfWZ1bmN0aW9uIFYoQSl7Y1tBXSE9PSExJiYoaS5kaXNhYmxlKEEpLGNbQV09ITEpfWZ1bmN0aW9uIFplKEEsaGUpe3JldHVybiB1W0FdIT09aGU/KGkuYmluZEZyYW1lYnVmZmVyKEEsaGUpLHVbQV09aGUsciYmKEE9PT0zNjAwOSYmKHVbMzYxNjBdPWhlKSxBPT09MzYxNjAmJih1WzM2MDA5XT1oZSkpLCEwKTohMX1mdW5jdGlvbiBPZShBLGhlKXtsZXQgYWU9cCx3ZT0hMTtpZihBKWlmKGFlPWQuZ2V0KGhlKSxhZT09PXZvaWQgMCYmKGFlPVtdLGQuc2V0KGhlLGFlKSksQS5pc1dlYkdMTXVsdGlwbGVSZW5kZXJUYXJnZXRzKXtjb25zdCBwZT1BLnRleHR1cmU7aWYoYWUubGVuZ3RoIT09cGUubGVuZ3RofHxhZVswXSE9PTM2MDY0KXtmb3IobGV0IFNlPTAsc2U9cGUubGVuZ3RoO1NlPHNlO1NlKyspYWVbU2VdPTM2MDY0K1NlO2FlLmxlbmd0aD1wZS5sZW5ndGgsd2U9ITB9fWVsc2UgYWVbMF0hPT0zNjA2NCYmKGFlWzBdPTM2MDY0LHdlPSEwKTtlbHNlIGFlWzBdIT09MTAyOSYmKGFlWzBdPTEwMjksd2U9ITApO3dlJiYodC5pc1dlYkdMMj9pLmRyYXdCdWZmZXJzKGFlKTplLmdldCgiV0VCR0xfZHJhd19idWZmZXJzIikuZHJhd0J1ZmZlcnNXRUJHTChhZSkpfWZ1bmN0aW9uIHllKEEpe3JldHVybiBnIT09QT8oaS51c2VQcm9ncmFtKEEpLGc9QSwhMCk6ITF9Y29uc3QgcmU9e1tNcl06MzI3NzQsWyRtXTozMjc3OCxbZWddOjMyNzc5fTtpZihyKXJlW0hoXT0zMjc3NSxyZVtraF09MzI3NzY7ZWxzZXtjb25zdCBBPWUuZ2V0KCJFWFRfYmxlbmRfbWlubWF4Iik7QSE9PW51bGwmJihyZVtIaF09QS5NSU5fRVhULHJlW2toXT1BLk1BWF9FWFQpfWNvbnN0IFo9e1t0Z106MCxbaWddOjEsW3JnXTo3NjgsW0doXTo3NzAsW2xnXTo3NzYsW29nXTo3NzQsW2FnXTo3NzIsW3NnXTo3NjksW1ZoXTo3NzEsW2hnXTo3NzUsW25nXTo3NzN9O2Z1bmN0aW9uIGooQSxoZSxhZSx3ZSxwZSxTZSxzZSxDZSl7aWYoQT09PUlpKXtmPT09ITAmJihWKDMwNDIpLGY9ITEpO3JldHVybn1pZihmPT09ITEmJihiZSgzMDQyKSxmPSEwKSxBIT09UW0pe2lmKEEhPT1tfHxDZSE9PVApe2lmKCh2IT09TXJ8fHchPT1NcikmJihpLmJsZW5kRXF1YXRpb24oMzI3NzQpLHY9TXIsdz1NciksQ2Upc3dpdGNoKEEpe2Nhc2UgeXI6aS5ibGVuZEZ1bmNTZXBhcmF0ZSgxLDc3MSwxLDc3MSk7YnJlYWs7Y2FzZSBCaDppLmJsZW5kRnVuYygxLDEpO2JyZWFrO2Nhc2UgVWg6aS5ibGVuZEZ1bmNTZXBhcmF0ZSgwLDc2OSwwLDEpO2JyZWFrO2Nhc2UgRmg6aS5ibGVuZEZ1bmNTZXBhcmF0ZSgwLDc2OCwwLDc3MCk7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLmVycm9yKCJUSFJFRS5XZWJHTFN0YXRlOiBJbnZhbGlkIGJsZW5kaW5nOiAiLEEpO2JyZWFrfWVsc2Ugc3dpdGNoKEEpe2Nhc2UgeXI6aS5ibGVuZEZ1bmNTZXBhcmF0ZSg3NzAsNzcxLDEsNzcxKTticmVhaztjYXNlIEJoOmkuYmxlbmRGdW5jKDc3MCwxKTticmVhaztjYXNlIFVoOmkuYmxlbmRGdW5jU2VwYXJhdGUoMCw3NjksMCwxKTticmVhaztjYXNlIEZoOmkuYmxlbmRGdW5jKDAsNzY4KTticmVhaztkZWZhdWx0OmNvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMU3RhdGU6IEludmFsaWQgYmxlbmRpbmc6ICIsQSk7YnJlYWt9eT1udWxsLFQ9bnVsbCxiPW51bGwsTD1udWxsLG09QSxQPUNlfXJldHVybn1wZT1wZXx8aGUsU2U9U2V8fGFlLHNlPXNlfHx3ZSwoaGUhPT12fHxwZSE9PXcpJiYoaS5ibGVuZEVxdWF0aW9uU2VwYXJhdGUocmVbaGVdLHJlW3BlXSksdj1oZSx3PXBlKSwoYWUhPT15fHx3ZSE9PVR8fFNlIT09Ynx8c2UhPT1MKSYmKGkuYmxlbmRGdW5jU2VwYXJhdGUoWlthZV0sWlt3ZV0sWltTZV0sWltzZV0pLHk9YWUsVD13ZSxiPVNlLEw9c2UpLG09QSxQPW51bGx9ZnVuY3Rpb24gcShBLGhlKXtBLnNpZGU9PT1fcj9WKDI4ODQpOmJlKDI4ODQpO2xldCBhZT1BLnNpZGU9PT1qdDtoZSYmKGFlPSFhZSksZmUoYWUpLEEuYmxlbmRpbmc9PT15ciYmQS50cmFuc3BhcmVudD09PSExP2ooSWkpOmooQS5ibGVuZGluZyxBLmJsZW5kRXF1YXRpb24sQS5ibGVuZFNyYyxBLmJsZW5kRHN0LEEuYmxlbmRFcXVhdGlvbkFscGhhLEEuYmxlbmRTcmNBbHBoYSxBLmJsZW5kRHN0QWxwaGEsQS5wcmVtdWx0aXBsaWVkQWxwaGEpLGguc2V0RnVuYyhBLmRlcHRoRnVuYyksaC5zZXRUZXN0KEEuZGVwdGhUZXN0KSxoLnNldE1hc2soQS5kZXB0aFdyaXRlKSxvLnNldE1hc2soQS5jb2xvcldyaXRlKTtjb25zdCB3ZT1BLnN0ZW5jaWxXcml0ZTtsLnNldFRlc3Qod2UpLHdlJiYobC5zZXRNYXNrKEEuc3RlbmNpbFdyaXRlTWFzayksbC5zZXRGdW5jKEEuc3RlbmNpbEZ1bmMsQS5zdGVuY2lsUmVmLEEuc3RlbmNpbEZ1bmNNYXNrKSxsLnNldE9wKEEuc3RlbmNpbEZhaWwsQS5zdGVuY2lsWkZhaWwsQS5zdGVuY2lsWlBhc3MpKSxQZShBLnBvbHlnb25PZmZzZXQsQS5wb2x5Z29uT2Zmc2V0RmFjdG9yLEEucG9seWdvbk9mZnNldFVuaXRzKSxBLmFscGhhVG9Db3ZlcmFnZT09PSEwP2JlKDMyOTI2KTpWKDMyOTI2KX1mdW5jdGlvbiBmZShBKXtrIT09QSYmKEE/aS5mcm9udEZhY2UoMjMwNCk6aS5mcm9udEZhY2UoMjMwNSksaz1BKX1mdW5jdGlvbiBsZShBKXtBIT09WW0/KGJlKDI4ODQpLEEhPT1pZSYmKEE9PT1EaD9pLmN1bGxGYWNlKDEwMjkpOkE9PT1abT9pLmN1bGxGYWNlKDEwMjgpOmkuY3VsbEZhY2UoMTAzMikpKTpWKDI4ODQpLGllPUF9ZnVuY3Rpb24gQWUoQSl7QSE9PU8mJihOJiZpLmxpbmVXaWR0aChBKSxPPUEpfWZ1bmN0aW9uIFBlKEEsaGUsYWUpe0E/KGJlKDMyODIzKSwoeCE9PWhlfHxDIT09YWUpJiYoaS5wb2x5Z29uT2Zmc2V0KGhlLGFlKSx4PWhlLEM9YWUpKTpWKDMyODIzKX1mdW5jdGlvbiBJZShBKXtBP2JlKDMwODkpOlYoMzA4OSl9ZnVuY3Rpb24gVGUoQSl7QT09PXZvaWQgMCYmKEE9MzM5ODQrWS0xKSxHIT09QSYmKGkuYWN0aXZlVGV4dHVyZShBKSxHPUEpfWZ1bmN0aW9uIEtlKEEsaGUpe0c9PT1udWxsJiZUZSgpO2xldCBhZT1SW0ddO2FlPT09dm9pZCAwJiYoYWU9e3R5cGU6dm9pZCAwLHRleHR1cmU6dm9pZCAwfSxSW0ddPWFlKSwoYWUudHlwZSE9PUF8fGFlLnRleHR1cmUhPT1oZSkmJihpLmJpbmRUZXh0dXJlKEEsaGV8fHplW0FdKSxhZS50eXBlPUEsYWUudGV4dHVyZT1oZSl9ZnVuY3Rpb24gTHQoKXtjb25zdCBBPVJbR107QSE9PXZvaWQgMCYmQS50eXBlIT09dm9pZCAwJiYoaS5iaW5kVGV4dHVyZShBLnR5cGUsbnVsbCksQS50eXBlPXZvaWQgMCxBLnRleHR1cmU9dm9pZCAwKX1mdW5jdGlvbiBTKCl7dHJ5e2kuY29tcHJlc3NlZFRleEltYWdlMkQuYXBwbHkoaSxhcmd1bWVudHMpfWNhdGNoKEEpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMU3RhdGU6IixBKX19ZnVuY3Rpb24gXygpe3RyeXtpLnRleFN1YkltYWdlMkQuYXBwbHkoaSxhcmd1bWVudHMpfWNhdGNoKEEpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMU3RhdGU6IixBKX19ZnVuY3Rpb24gRigpe3RyeXtpLnRleFN1YkltYWdlM0QuYXBwbHkoaSxhcmd1bWVudHMpfWNhdGNoKEEpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMU3RhdGU6IixBKX19ZnVuY3Rpb24gJCgpe3RyeXtpLmNvbXByZXNzZWRUZXhTdWJJbWFnZTJELmFwcGx5KGksYXJndW1lbnRzKX1jYXRjaChBKXtjb25zb2xlLmVycm9yKCJUSFJFRS5XZWJHTFN0YXRlOiIsQSl9fWZ1bmN0aW9uIGNlKCl7dHJ5e2kudGV4U3RvcmFnZTJELmFwcGx5KGksYXJndW1lbnRzKX1jYXRjaChBKXtjb25zb2xlLmVycm9yKCJUSFJFRS5XZWJHTFN0YXRlOiIsQSl9fWZ1bmN0aW9uIGRlKCl7dHJ5e2kudGV4U3RvcmFnZTNELmFwcGx5KGksYXJndW1lbnRzKX1jYXRjaChBKXtjb25zb2xlLmVycm9yKCJUSFJFRS5XZWJHTFN0YXRlOiIsQSl9fWZ1bmN0aW9uIE1lKCl7dHJ5e2kudGV4SW1hZ2UyRC5hcHBseShpLGFyZ3VtZW50cyl9Y2F0Y2goQSl7Y29uc29sZS5lcnJvcigiVEhSRUUuV2ViR0xTdGF0ZToiLEEpfX1mdW5jdGlvbiBIKCl7dHJ5e2kudGV4SW1hZ2UzRC5hcHBseShpLGFyZ3VtZW50cyl9Y2F0Y2goQSl7Y29uc29sZS5lcnJvcigiVEhSRUUuV2ViR0xTdGF0ZToiLEEpfX1mdW5jdGlvbiBOZShBKXt0ZS5lcXVhbHMoQSk9PT0hMSYmKGkuc2Npc3NvcihBLngsQS55LEEueixBLncpLHRlLmNvcHkoQSkpfWZ1bmN0aW9uIEJlKEEpe1EuZXF1YWxzKEEpPT09ITEmJihpLnZpZXdwb3J0KEEueCxBLnksQS56LEEudyksUS5jb3B5KEEpKX1mdW5jdGlvbiBtZSgpe2kuZGlzYWJsZSgzMDQyKSxpLmRpc2FibGUoMjg4NCksaS5kaXNhYmxlKDI5MjkpLGkuZGlzYWJsZSgzMjgyMyksaS5kaXNhYmxlKDMwODkpLGkuZGlzYWJsZSgyOTYwKSxpLmRpc2FibGUoMzI5MjYpLGkuYmxlbmRFcXVhdGlvbigzMjc3NCksaS5ibGVuZEZ1bmMoMSwwKSxpLmJsZW5kRnVuY1NlcGFyYXRlKDEsMCwxLDApLGkuY29sb3JNYXNrKCEwLCEwLCEwLCEwKSxpLmNsZWFyQ29sb3IoMCwwLDAsMCksaS5kZXB0aE1hc2soITApLGkuZGVwdGhGdW5jKDUxMyksaS5jbGVhckRlcHRoKDEpLGkuc3RlbmNpbE1hc2soNDI5NDk2NzI5NSksaS5zdGVuY2lsRnVuYyg1MTksMCw0Mjk0OTY3Mjk1KSxpLnN0ZW5jaWxPcCg3NjgwLDc2ODAsNzY4MCksaS5jbGVhclN0ZW5jaWwoMCksaS5jdWxsRmFjZSgxMDI5KSxpLmZyb250RmFjZSgyMzA1KSxpLnBvbHlnb25PZmZzZXQoMCwwKSxpLmFjdGl2ZVRleHR1cmUoMzM5ODQpLGkuYmluZEZyYW1lYnVmZmVyKDM2MTYwLG51bGwpLHI9PT0hMCYmKGkuYmluZEZyYW1lYnVmZmVyKDM2MDA5LG51bGwpLGkuYmluZEZyYW1lYnVmZmVyKDM2MDA4LG51bGwpKSxpLnVzZVByb2dyYW0obnVsbCksaS5saW5lV2lkdGgoMSksaS5zY2lzc29yKDAsMCxpLmNhbnZhcy53aWR0aCxpLmNhbnZhcy5oZWlnaHQpLGkudmlld3BvcnQoMCwwLGkuY2FudmFzLndpZHRoLGkuY2FudmFzLmhlaWdodCksYz17fSxHPW51bGwsUj17fSx1PXt9LGQ9bmV3IFdlYWtNYXAscD1bXSxnPW51bGwsZj0hMSxtPW51bGwsdj1udWxsLHk9bnVsbCxUPW51bGwsdz1udWxsLGI9bnVsbCxMPW51bGwsUD0hMSxrPW51bGwsaWU9bnVsbCxPPW51bGwseD1udWxsLEM9bnVsbCx0ZS5zZXQoMCwwLGkuY2FudmFzLndpZHRoLGkuY2FudmFzLmhlaWdodCksUS5zZXQoMCwwLGkuY2FudmFzLndpZHRoLGkuY2FudmFzLmhlaWdodCksby5yZXNldCgpLGgucmVzZXQoKSxsLnJlc2V0KCl9cmV0dXJue2J1ZmZlcnM6e2NvbG9yOm8sZGVwdGg6aCxzdGVuY2lsOmx9LGVuYWJsZTpiZSxkaXNhYmxlOlYsYmluZEZyYW1lYnVmZmVyOlplLGRyYXdCdWZmZXJzOk9lLHVzZVByb2dyYW06eWUsc2V0QmxlbmRpbmc6aixzZXRNYXRlcmlhbDpxLHNldEZsaXBTaWRlZDpmZSxzZXRDdWxsRmFjZTpsZSxzZXRMaW5lV2lkdGg6QWUsc2V0UG9seWdvbk9mZnNldDpQZSxzZXRTY2lzc29yVGVzdDpJZSxhY3RpdmVUZXh0dXJlOlRlLGJpbmRUZXh0dXJlOktlLHVuYmluZFRleHR1cmU6THQsY29tcHJlc3NlZFRleEltYWdlMkQ6Uyx0ZXhJbWFnZTJEOk1lLHRleEltYWdlM0Q6SCx0ZXhTdG9yYWdlMkQ6Y2UsdGV4U3RvcmFnZTNEOmRlLHRleFN1YkltYWdlMkQ6Xyx0ZXhTdWJJbWFnZTNEOkYsY29tcHJlc3NlZFRleFN1YkltYWdlMkQ6JCxzY2lzc29yOk5lLHZpZXdwb3J0OkJlLHJlc2V0Om1lfX1mdW5jdGlvbiBMeShpLGUsdCxyLHMsYSxuKXtjb25zdCBvPXMuaXNXZWJHTDIsaD1zLm1heFRleHR1cmVzLGw9cy5tYXhDdWJlbWFwU2l6ZSxjPXMubWF4VGV4dHVyZVNpemUsdT1zLm1heFNhbXBsZXMsZD1lLmhhcygiV0VCR0xfbXVsdGlzYW1wbGVkX3JlbmRlcl90b190ZXh0dXJlIik/ZS5nZXQoIldFQkdMX211bHRpc2FtcGxlZF9yZW5kZXJfdG9fdGV4dHVyZSIpOm51bGwscD0vT2N1bHVzQnJvd3Nlci9nLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksZz1uZXcgV2Vha01hcDtsZXQgZjtjb25zdCBtPW5ldyBXZWFrTWFwO2xldCB2PSExO3RyeXt2PXR5cGVvZiBPZmZzY3JlZW5DYW52YXM8InUiJiZuZXcgT2Zmc2NyZWVuQ2FudmFzKDEsMSkuZ2V0Q29udGV4dCgiMmQiKSE9PW51bGx9Y2F0Y2h7fWZ1bmN0aW9uIHkoUyxfKXtyZXR1cm4gdj9uZXcgT2Zmc2NyZWVuQ2FudmFzKFMsXyk6VHMoImNhbnZhcyIpfWZ1bmN0aW9uIFQoUyxfLEYsJCl7bGV0IGNlPTE7aWYoKFMud2lkdGg+JHx8Uy5oZWlnaHQ+JCkmJihjZT0kL01hdGgubWF4KFMud2lkdGgsUy5oZWlnaHQpKSxjZTwxfHxfPT09ITApaWYodHlwZW9mIEhUTUxJbWFnZUVsZW1lbnQ8InUiJiZTIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudHx8dHlwZW9mIEhUTUxDYW52YXNFbGVtZW50PCJ1IiYmUyBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50fHx0eXBlb2YgSW1hZ2VCaXRtYXA8InUiJiZTIGluc3RhbmNlb2YgSW1hZ2VCaXRtYXApe2NvbnN0IGRlPV8/Qm46TWF0aC5mbG9vcixNZT1kZShjZSpTLndpZHRoKSxIPWRlKGNlKlMuaGVpZ2h0KTtmPT09dm9pZCAwJiYoZj15KE1lLEgpKTtjb25zdCBOZT1GP3koTWUsSCk6ZjtyZXR1cm4gTmUud2lkdGg9TWUsTmUuaGVpZ2h0PUgsTmUuZ2V0Q29udGV4dCgiMmQiKS5kcmF3SW1hZ2UoUywwLDAsTWUsSCksY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiBUZXh0dXJlIGhhcyBiZWVuIHJlc2l6ZWQgZnJvbSAoIitTLndpZHRoKyJ4IitTLmhlaWdodCsiKSB0byAoIitNZSsieCIrSCsiKS4iKSxOZX1lbHNlIHJldHVybiJkYXRhImluIFMmJmNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogSW1hZ2UgaW4gRGF0YVRleHR1cmUgaXMgdG9vIGJpZyAoIitTLndpZHRoKyJ4IitTLmhlaWdodCsiKS4iKSxTO3JldHVybiBTfWZ1bmN0aW9uIHcoUyl7cmV0dXJuIGdsKFMud2lkdGgpJiZnbChTLmhlaWdodCl9ZnVuY3Rpb24gYihTKXtyZXR1cm4gbz8hMTpTLndyYXBTIT09cXR8fFMud3JhcFQhPT1xdHx8Uy5taW5GaWx0ZXIhPT11dCYmUy5taW5GaWx0ZXIhPT1JdH1mdW5jdGlvbiBMKFMsXyl7cmV0dXJuIFMuZ2VuZXJhdGVNaXBtYXBzJiZfJiZTLm1pbkZpbHRlciE9PXV0JiZTLm1pbkZpbHRlciE9PUl0fWZ1bmN0aW9uIFAoUyl7aS5nZW5lcmF0ZU1pcG1hcChTKX1mdW5jdGlvbiBrKFMsXyxGLCQsY2U9ITEpe2lmKG89PT0hMSlyZXR1cm4gXztpZihTIT09bnVsbCl7aWYoaVtTXSE9PXZvaWQgMClyZXR1cm4gaVtTXTtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IEF0dGVtcHQgdG8gdXNlIG5vbi1leGlzdGluZyBXZWJHTCBpbnRlcm5hbCBmb3JtYXQgJyIrUysiJyIpfWxldCBkZT1fO3JldHVybiBfPT09NjQwMyYmKEY9PT01MTI2JiYoZGU9MzMzMjYpLEY9PT01MTMxJiYoZGU9MzMzMjUpLEY9PT01MTIxJiYoZGU9MzMzMjEpKSxfPT09MzMzMTkmJihGPT09NTEyNiYmKGRlPTMzMzI4KSxGPT09NTEzMSYmKGRlPTMzMzI3KSxGPT09NTEyMSYmKGRlPTMzMzIzKSksXz09PTY0MDgmJihGPT09NTEyNiYmKGRlPTM0ODM2KSxGPT09NTEzMSYmKGRlPTM0ODQyKSxGPT09NTEyMSYmKGRlPSQ9PT1RZSYmY2U9PT0hMT8zNTkwNzozMjg1NiksRj09PTMyODE5JiYoZGU9MzI4NTQpLEY9PT0zMjgyMCYmKGRlPTMyODU1KSksKGRlPT09MzMzMjV8fGRlPT09MzMzMjZ8fGRlPT09MzMzMjd8fGRlPT09MzMzMjh8fGRlPT09MzQ4NDJ8fGRlPT09MzQ4MzYpJiZlLmdldCgiRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdCIpLGRlfWZ1bmN0aW9uIGllKFMsXyxGKXtyZXR1cm4gTChTLEYpPT09ITB8fFMuaXNGcmFtZWJ1ZmZlclRleHR1cmUmJlMubWluRmlsdGVyIT09dXQmJlMubWluRmlsdGVyIT09SXQ/TWF0aC5sb2cyKE1hdGgubWF4KF8ud2lkdGgsXy5oZWlnaHQpKSsxOlMubWlwbWFwcyE9PXZvaWQgMCYmUy5taXBtYXBzLmxlbmd0aD4wP1MubWlwbWFwcy5sZW5ndGg6Uy5pc0NvbXByZXNzZWRUZXh0dXJlJiZBcnJheS5pc0FycmF5KFMuaW1hZ2UpP18ubWlwbWFwcy5sZW5ndGg6MX1mdW5jdGlvbiBPKFMpe3JldHVybiBTPT09dXR8fFM9PT1qaHx8Uz09PXFoPzk3Mjg6OTcyOX1mdW5jdGlvbiB4KFMpe2NvbnN0IF89Uy50YXJnZXQ7Xy5yZW1vdmVFdmVudExpc3RlbmVyKCJkaXNwb3NlIix4KSxZKF8pLF8uaXNWaWRlb1RleHR1cmUmJmcuZGVsZXRlKF8pfWZ1bmN0aW9uIEMoUyl7Y29uc3QgXz1TLnRhcmdldDtfLnJlbW92ZUV2ZW50TGlzdGVuZXIoImRpc3Bvc2UiLEMpLFUoXyl9ZnVuY3Rpb24gWShTKXtjb25zdCBfPXIuZ2V0KFMpO2lmKF8uX193ZWJnbEluaXQ9PT12b2lkIDApcmV0dXJuO2NvbnN0IEY9Uy5zb3VyY2UsJD1tLmdldChGKTtpZigkKXtjb25zdCBjZT0kW18uX19jYWNoZUtleV07Y2UudXNlZFRpbWVzLS0sY2UudXNlZFRpbWVzPT09MCYmTihTKSxPYmplY3Qua2V5cygkKS5sZW5ndGg9PT0wJiZtLmRlbGV0ZShGKX1yLnJlbW92ZShTKX1mdW5jdGlvbiBOKFMpe2NvbnN0IF89ci5nZXQoUyk7aS5kZWxldGVUZXh0dXJlKF8uX193ZWJnbFRleHR1cmUpO2NvbnN0IEY9Uy5zb3VyY2UsJD1tLmdldChGKTtkZWxldGUgJFtfLl9fY2FjaGVLZXldLG4ubWVtb3J5LnRleHR1cmVzLS19ZnVuY3Rpb24gVShTKXtjb25zdCBfPVMudGV4dHVyZSxGPXIuZ2V0KFMpLCQ9ci5nZXQoXyk7aWYoJC5fX3dlYmdsVGV4dHVyZSE9PXZvaWQgMCYmKGkuZGVsZXRlVGV4dHVyZSgkLl9fd2ViZ2xUZXh0dXJlKSxuLm1lbW9yeS50ZXh0dXJlcy0tKSxTLmRlcHRoVGV4dHVyZSYmUy5kZXB0aFRleHR1cmUuZGlzcG9zZSgpLFMuaXNXZWJHTEN1YmVSZW5kZXJUYXJnZXQpZm9yKGxldCBjZT0wO2NlPDY7Y2UrKylpLmRlbGV0ZUZyYW1lYnVmZmVyKEYuX193ZWJnbEZyYW1lYnVmZmVyW2NlXSksRi5fX3dlYmdsRGVwdGhidWZmZXImJmkuZGVsZXRlUmVuZGVyYnVmZmVyKEYuX193ZWJnbERlcHRoYnVmZmVyW2NlXSk7ZWxzZSBpLmRlbGV0ZUZyYW1lYnVmZmVyKEYuX193ZWJnbEZyYW1lYnVmZmVyKSxGLl9fd2ViZ2xEZXB0aGJ1ZmZlciYmaS5kZWxldGVSZW5kZXJidWZmZXIoRi5fX3dlYmdsRGVwdGhidWZmZXIpLEYuX193ZWJnbE11bHRpc2FtcGxlZEZyYW1lYnVmZmVyJiZpLmRlbGV0ZUZyYW1lYnVmZmVyKEYuX193ZWJnbE11bHRpc2FtcGxlZEZyYW1lYnVmZmVyKSxGLl9fd2ViZ2xDb2xvclJlbmRlcmJ1ZmZlciYmaS5kZWxldGVSZW5kZXJidWZmZXIoRi5fX3dlYmdsQ29sb3JSZW5kZXJidWZmZXIpLEYuX193ZWJnbERlcHRoUmVuZGVyYnVmZmVyJiZpLmRlbGV0ZVJlbmRlcmJ1ZmZlcihGLl9fd2ViZ2xEZXB0aFJlbmRlcmJ1ZmZlcik7aWYoUy5pc1dlYkdMTXVsdGlwbGVSZW5kZXJUYXJnZXRzKWZvcihsZXQgY2U9MCxkZT1fLmxlbmd0aDtjZTxkZTtjZSsrKXtjb25zdCBNZT1yLmdldChfW2NlXSk7TWUuX193ZWJnbFRleHR1cmUmJihpLmRlbGV0ZVRleHR1cmUoTWUuX193ZWJnbFRleHR1cmUpLG4ubWVtb3J5LnRleHR1cmVzLS0pLHIucmVtb3ZlKF9bY2VdKX1yLnJlbW92ZShfKSxyLnJlbW92ZShTKX1sZXQgQj0wO2Z1bmN0aW9uIEcoKXtCPTB9ZnVuY3Rpb24gUigpe2NvbnN0IFM9QjtyZXR1cm4gUz49aCYmY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFRleHR1cmVzOiBUcnlpbmcgdG8gdXNlICIrUysiIHRleHR1cmUgdW5pdHMgd2hpbGUgdGhpcyBHUFUgc3VwcG9ydHMgb25seSAiK2gpLEIrPTEsU31mdW5jdGlvbiBYKFMpe2NvbnN0IF89W107cmV0dXJuIF8ucHVzaChTLndyYXBTKSxfLnB1c2goUy53cmFwVCksXy5wdXNoKFMubWFnRmlsdGVyKSxfLnB1c2goUy5taW5GaWx0ZXIpLF8ucHVzaChTLmFuaXNvdHJvcHkpLF8ucHVzaChTLmludGVybmFsRm9ybWF0KSxfLnB1c2goUy5mb3JtYXQpLF8ucHVzaChTLnR5cGUpLF8ucHVzaChTLmdlbmVyYXRlTWlwbWFwcyksXy5wdXNoKFMucHJlbXVsdGlwbHlBbHBoYSksXy5wdXNoKFMuZmxpcFkpLF8ucHVzaChTLnVucGFja0FsaWdubWVudCksXy5wdXNoKFMuZW5jb2RpbmcpLF8uam9pbigpfWZ1bmN0aW9uIEooUyxfKXtjb25zdCBGPXIuZ2V0KFMpO2lmKFMuaXNWaWRlb1RleHR1cmUmJktlKFMpLFMuaXNSZW5kZXJUYXJnZXRUZXh0dXJlPT09ITEmJlMudmVyc2lvbj4wJiZGLl9fdmVyc2lvbiE9PVMudmVyc2lvbil7Y29uc3QgJD1TLmltYWdlO2lmKCQ9PT1udWxsKWNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogVGV4dHVyZSBtYXJrZWQgZm9yIHVwZGF0ZSBidXQgbm8gaW1hZ2UgZGF0YSBmb3VuZC4iKTtlbHNlIGlmKCQuY29tcGxldGU9PT0hMSljb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IFRleHR1cmUgbWFya2VkIGZvciB1cGRhdGUgYnV0IGltYWdlIGlzIGluY29tcGxldGUiKTtlbHNle09lKEYsUyxfKTtyZXR1cm59fXQuYWN0aXZlVGV4dHVyZSgzMzk4NCtfKSx0LmJpbmRUZXh0dXJlKDM1NTMsRi5fX3dlYmdsVGV4dHVyZSl9ZnVuY3Rpb24gdGUoUyxfKXtjb25zdCBGPXIuZ2V0KFMpO2lmKFMudmVyc2lvbj4wJiZGLl9fdmVyc2lvbiE9PVMudmVyc2lvbil7T2UoRixTLF8pO3JldHVybn10LmFjdGl2ZVRleHR1cmUoMzM5ODQrXyksdC5iaW5kVGV4dHVyZSgzNTg2NixGLl9fd2ViZ2xUZXh0dXJlKX1mdW5jdGlvbiBRKFMsXyl7Y29uc3QgRj1yLmdldChTKTtpZihTLnZlcnNpb24+MCYmRi5fX3ZlcnNpb24hPT1TLnZlcnNpb24pe09lKEYsUyxfKTtyZXR1cm59dC5hY3RpdmVUZXh0dXJlKDMzOTg0K18pLHQuYmluZFRleHR1cmUoMzI4NzksRi5fX3dlYmdsVGV4dHVyZSl9ZnVuY3Rpb24gdmUoUyxfKXtjb25zdCBGPXIuZ2V0KFMpO2lmKFMudmVyc2lvbj4wJiZGLl9fdmVyc2lvbiE9PVMudmVyc2lvbil7eWUoRixTLF8pO3JldHVybn10LmFjdGl2ZVRleHR1cmUoMzM5ODQrXyksdC5iaW5kVGV4dHVyZSgzNDA2NyxGLl9fd2ViZ2xUZXh0dXJlKX1jb25zdCB6ZT17W1NuXToxMDQ5NyxbcXRdOjMzMDcxLFtFbl06MzM2NDh9LGJlPXtbdXRdOjk3MjgsW2poXTo5OTg0LFtxaF06OTk4NixbSXRdOjk3MjksW1NnXTo5OTg1LFt1YV06OTk4N307ZnVuY3Rpb24gVihTLF8sRil7aWYoRj8oaS50ZXhQYXJhbWV0ZXJpKFMsMTAyNDIsemVbXy53cmFwU10pLGkudGV4UGFyYW1ldGVyaShTLDEwMjQzLHplW18ud3JhcFRdKSwoUz09PTMyODc5fHxTPT09MzU4NjYpJiZpLnRleFBhcmFtZXRlcmkoUywzMjg4Mix6ZVtfLndyYXBSXSksaS50ZXhQYXJhbWV0ZXJpKFMsMTAyNDAsYmVbXy5tYWdGaWx0ZXJdKSxpLnRleFBhcmFtZXRlcmkoUywxMDI0MSxiZVtfLm1pbkZpbHRlcl0pKTooaS50ZXhQYXJhbWV0ZXJpKFMsMTAyNDIsMzMwNzEpLGkudGV4UGFyYW1ldGVyaShTLDEwMjQzLDMzMDcxKSwoUz09PTMyODc5fHxTPT09MzU4NjYpJiZpLnRleFBhcmFtZXRlcmkoUywzMjg4MiwzMzA3MSksKF8ud3JhcFMhPT1xdHx8Xy53cmFwVCE9PXF0KSYmY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiBUZXh0dXJlIGlzIG5vdCBwb3dlciBvZiB0d28uIFRleHR1cmUud3JhcFMgYW5kIFRleHR1cmUud3JhcFQgc2hvdWxkIGJlIHNldCB0byBUSFJFRS5DbGFtcFRvRWRnZVdyYXBwaW5nLiIpLGkudGV4UGFyYW1ldGVyaShTLDEwMjQwLE8oXy5tYWdGaWx0ZXIpKSxpLnRleFBhcmFtZXRlcmkoUywxMDI0MSxPKF8ubWluRmlsdGVyKSksXy5taW5GaWx0ZXIhPT11dCYmXy5taW5GaWx0ZXIhPT1JdCYmY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiBUZXh0dXJlIGlzIG5vdCBwb3dlciBvZiB0d28uIFRleHR1cmUubWluRmlsdGVyIHNob3VsZCBiZSBzZXQgdG8gVEhSRUUuTmVhcmVzdEZpbHRlciBvciBUSFJFRS5MaW5lYXJGaWx0ZXIuIikpLGUuaGFzKCJFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMiKT09PSEwKXtjb25zdCAkPWUuZ2V0KCJFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMiKTtpZihfLnR5cGU9PT1ZaSYmZS5oYXMoIk9FU190ZXh0dXJlX2Zsb2F0X2xpbmVhciIpPT09ITF8fG89PT0hMSYmXy50eXBlPT09U3ImJmUuaGFzKCJPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0X2xpbmVhciIpPT09ITEpcmV0dXJuOyhfLmFuaXNvdHJvcHk+MXx8ci5nZXQoXykuX19jdXJyZW50QW5pc290cm9weSkmJihpLnRleFBhcmFtZXRlcmYoUywkLlRFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhULE1hdGgubWluKF8uYW5pc290cm9weSxzLmdldE1heEFuaXNvdHJvcHkoKSkpLHIuZ2V0KF8pLl9fY3VycmVudEFuaXNvdHJvcHk9Xy5hbmlzb3Ryb3B5KX19ZnVuY3Rpb24gWmUoUyxfKXtsZXQgRj0hMTtTLl9fd2ViZ2xJbml0PT09dm9pZCAwJiYoUy5fX3dlYmdsSW5pdD0hMCxfLmFkZEV2ZW50TGlzdGVuZXIoImRpc3Bvc2UiLHgpKTtjb25zdCAkPV8uc291cmNlO2xldCBjZT1tLmdldCgkKTtjZT09PXZvaWQgMCYmKGNlPXt9LG0uc2V0KCQsY2UpKTtjb25zdCBkZT1YKF8pO2lmKGRlIT09Uy5fX2NhY2hlS2V5KXtjZVtkZV09PT12b2lkIDAmJihjZVtkZV09e3RleHR1cmU6aS5jcmVhdGVUZXh0dXJlKCksdXNlZFRpbWVzOjB9LG4ubWVtb3J5LnRleHR1cmVzKyssRj0hMCksY2VbZGVdLnVzZWRUaW1lcysrO2NvbnN0IE1lPWNlW1MuX19jYWNoZUtleV07TWUhPT12b2lkIDAmJihjZVtTLl9fY2FjaGVLZXldLnVzZWRUaW1lcy0tLE1lLnVzZWRUaW1lcz09PTAmJk4oXykpLFMuX19jYWNoZUtleT1kZSxTLl9fd2ViZ2xUZXh0dXJlPWNlW2RlXS50ZXh0dXJlfXJldHVybiBGfWZ1bmN0aW9uIE9lKFMsXyxGKXtsZXQgJD0zNTUzO18uaXNEYXRhQXJyYXlUZXh0dXJlJiYoJD0zNTg2NiksXy5pc0RhdGEzRFRleHR1cmUmJigkPTMyODc5KTtjb25zdCBjZT1aZShTLF8pLGRlPV8uc291cmNlO2lmKHQuYWN0aXZlVGV4dHVyZSgzMzk4NCtGKSx0LmJpbmRUZXh0dXJlKCQsUy5fX3dlYmdsVGV4dHVyZSksZGUudmVyc2lvbiE9PWRlLl9fY3VycmVudFZlcnNpb258fGNlPT09ITApe2kucGl4ZWxTdG9yZWkoMzc0NDAsXy5mbGlwWSksaS5waXhlbFN0b3JlaSgzNzQ0MSxfLnByZW11bHRpcGx5QWxwaGEpLGkucGl4ZWxTdG9yZWkoMzMxNyxfLnVucGFja0FsaWdubWVudCksaS5waXhlbFN0b3JlaSgzNzQ0MywwKTtjb25zdCBNZT1iKF8pJiZ3KF8uaW1hZ2UpPT09ITE7bGV0IEg9VChfLmltYWdlLE1lLCExLGMpO0g9THQoXyxIKTtjb25zdCBOZT13KEgpfHxvLEJlPWEuY29udmVydChfLmZvcm1hdCxfLmVuY29kaW5nKTtsZXQgbWU9YS5jb252ZXJ0KF8udHlwZSksQT1rKF8uaW50ZXJuYWxGb3JtYXQsQmUsbWUsXy5lbmNvZGluZyxfLmlzVmlkZW9UZXh0dXJlKTtWKCQsXyxOZSk7bGV0IGhlO2NvbnN0IGFlPV8ubWlwbWFwcyx3ZT1vJiZfLmlzVmlkZW9UZXh0dXJlIT09ITAscGU9Uy5fX3ZlcnNpb249PT12b2lkIDAsU2U9aWUoXyxILE5lKTtpZihfLmlzRGVwdGhUZXh0dXJlKUE9NjQwMixvP18udHlwZT09PVlpP0E9MzYwMTI6Xy50eXBlPT09ZGE/QT0zMzE5MDpfLnR5cGU9PT1Fcj9BPTM1MDU2OkE9MzMxODk6Xy50eXBlPT09WWkmJmNvbnNvbGUuZXJyb3IoIldlYkdMUmVuZGVyZXI6IEZsb2F0aW5nIHBvaW50IGRlcHRoIHRleHR1cmUgcmVxdWlyZXMgV2ViR0wyLiIpLF8uZm9ybWF0PT09WmkmJkE9PT02NDAyJiZfLnR5cGUhPT1TcyYmXy50eXBlIT09ZGEmJihjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IFVzZSBVbnNpZ25lZFNob3J0VHlwZSBvciBVbnNpZ25lZEludFR5cGUgZm9yIERlcHRoRm9ybWF0IERlcHRoVGV4dHVyZS4iKSxfLnR5cGU9U3MsbWU9YS5jb252ZXJ0KF8udHlwZSkpLF8uZm9ybWF0PT09VHImJkE9PT02NDAyJiYoQT0zNDA0MSxfLnR5cGUhPT1FciYmKGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogVXNlIFVuc2lnbmVkSW50MjQ4VHlwZSBmb3IgRGVwdGhTdGVuY2lsRm9ybWF0IERlcHRoVGV4dHVyZS4iKSxfLnR5cGU9RXIsbWU9YS5jb252ZXJ0KF8udHlwZSkpKSx3ZSYmcGU/dC50ZXhTdG9yYWdlMkQoMzU1MywxLEEsSC53aWR0aCxILmhlaWdodCk6dC50ZXhJbWFnZTJEKDM1NTMsMCxBLEgud2lkdGgsSC5oZWlnaHQsMCxCZSxtZSxudWxsKTtlbHNlIGlmKF8uaXNEYXRhVGV4dHVyZSlpZihhZS5sZW5ndGg+MCYmTmUpe3dlJiZwZSYmdC50ZXhTdG9yYWdlMkQoMzU1MyxTZSxBLGFlWzBdLndpZHRoLGFlWzBdLmhlaWdodCk7Zm9yKGxldCBzZT0wLENlPWFlLmxlbmd0aDtzZTxDZTtzZSsrKWhlPWFlW3NlXSx3ZT90LnRleFN1YkltYWdlMkQoMzU1MyxzZSwwLDAsaGUud2lkdGgsaGUuaGVpZ2h0LEJlLG1lLGhlLmRhdGEpOnQudGV4SW1hZ2UyRCgzNTUzLHNlLEEsaGUud2lkdGgsaGUuaGVpZ2h0LDAsQmUsbWUsaGUuZGF0YSk7Xy5nZW5lcmF0ZU1pcG1hcHM9ITF9ZWxzZSB3ZT8ocGUmJnQudGV4U3RvcmFnZTJEKDM1NTMsU2UsQSxILndpZHRoLEguaGVpZ2h0KSx0LnRleFN1YkltYWdlMkQoMzU1MywwLDAsMCxILndpZHRoLEguaGVpZ2h0LEJlLG1lLEguZGF0YSkpOnQudGV4SW1hZ2UyRCgzNTUzLDAsQSxILndpZHRoLEguaGVpZ2h0LDAsQmUsbWUsSC5kYXRhKTtlbHNlIGlmKF8uaXNDb21wcmVzc2VkVGV4dHVyZSl7d2UmJnBlJiZ0LnRleFN0b3JhZ2UyRCgzNTUzLFNlLEEsYWVbMF0ud2lkdGgsYWVbMF0uaGVpZ2h0KTtmb3IobGV0IHNlPTAsQ2U9YWUubGVuZ3RoO3NlPENlO3NlKyspaGU9YWVbc2VdLF8uZm9ybWF0IT09WHQ/QmUhPT1udWxsP3dlP3QuY29tcHJlc3NlZFRleFN1YkltYWdlMkQoMzU1MyxzZSwwLDAsaGUud2lkdGgsaGUuaGVpZ2h0LEJlLGhlLmRhdGEpOnQuY29tcHJlc3NlZFRleEltYWdlMkQoMzU1MyxzZSxBLGhlLndpZHRoLGhlLmhlaWdodCwwLGhlLmRhdGEpOmNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogQXR0ZW1wdCB0byBsb2FkIHVuc3VwcG9ydGVkIGNvbXByZXNzZWQgdGV4dHVyZSBmb3JtYXQgaW4gLnVwbG9hZFRleHR1cmUoKSIpOndlP3QudGV4U3ViSW1hZ2UyRCgzNTUzLHNlLDAsMCxoZS53aWR0aCxoZS5oZWlnaHQsQmUsbWUsaGUuZGF0YSk6dC50ZXhJbWFnZTJEKDM1NTMsc2UsQSxoZS53aWR0aCxoZS5oZWlnaHQsMCxCZSxtZSxoZS5kYXRhKX1lbHNlIGlmKF8uaXNEYXRhQXJyYXlUZXh0dXJlKXdlPyhwZSYmdC50ZXhTdG9yYWdlM0QoMzU4NjYsU2UsQSxILndpZHRoLEguaGVpZ2h0LEguZGVwdGgpLHQudGV4U3ViSW1hZ2UzRCgzNTg2NiwwLDAsMCwwLEgud2lkdGgsSC5oZWlnaHQsSC5kZXB0aCxCZSxtZSxILmRhdGEpKTp0LnRleEltYWdlM0QoMzU4NjYsMCxBLEgud2lkdGgsSC5oZWlnaHQsSC5kZXB0aCwwLEJlLG1lLEguZGF0YSk7ZWxzZSBpZihfLmlzRGF0YTNEVGV4dHVyZSl3ZT8ocGUmJnQudGV4U3RvcmFnZTNEKDMyODc5LFNlLEEsSC53aWR0aCxILmhlaWdodCxILmRlcHRoKSx0LnRleFN1YkltYWdlM0QoMzI4NzksMCwwLDAsMCxILndpZHRoLEguaGVpZ2h0LEguZGVwdGgsQmUsbWUsSC5kYXRhKSk6dC50ZXhJbWFnZTNEKDMyODc5LDAsQSxILndpZHRoLEguaGVpZ2h0LEguZGVwdGgsMCxCZSxtZSxILmRhdGEpO2Vsc2UgaWYoXy5pc0ZyYW1lYnVmZmVyVGV4dHVyZSl3ZSYmcGU/dC50ZXhTdG9yYWdlMkQoMzU1MyxTZSxBLEgud2lkdGgsSC5oZWlnaHQpOnQudGV4SW1hZ2UyRCgzNTUzLDAsQSxILndpZHRoLEguaGVpZ2h0LDAsQmUsbWUsbnVsbCk7ZWxzZSBpZihhZS5sZW5ndGg+MCYmTmUpe3dlJiZwZSYmdC50ZXhTdG9yYWdlMkQoMzU1MyxTZSxBLGFlWzBdLndpZHRoLGFlWzBdLmhlaWdodCk7Zm9yKGxldCBzZT0wLENlPWFlLmxlbmd0aDtzZTxDZTtzZSsrKWhlPWFlW3NlXSx3ZT90LnRleFN1YkltYWdlMkQoMzU1MyxzZSwwLDAsQmUsbWUsaGUpOnQudGV4SW1hZ2UyRCgzNTUzLHNlLEEsQmUsbWUsaGUpO18uZ2VuZXJhdGVNaXBtYXBzPSExfWVsc2Ugd2U/KHBlJiZ0LnRleFN0b3JhZ2UyRCgzNTUzLFNlLEEsSC53aWR0aCxILmhlaWdodCksdC50ZXhTdWJJbWFnZTJEKDM1NTMsMCwwLDAsQmUsbWUsSCkpOnQudGV4SW1hZ2UyRCgzNTUzLDAsQSxCZSxtZSxIKTtMKF8sTmUpJiZQKCQpLGRlLl9fY3VycmVudFZlcnNpb249ZGUudmVyc2lvbixfLm9uVXBkYXRlJiZfLm9uVXBkYXRlKF8pfVMuX192ZXJzaW9uPV8udmVyc2lvbn1mdW5jdGlvbiB5ZShTLF8sRil7aWYoXy5pbWFnZS5sZW5ndGghPT02KXJldHVybjtjb25zdCAkPVplKFMsXyksY2U9Xy5zb3VyY2U7aWYodC5hY3RpdmVUZXh0dXJlKDMzOTg0K0YpLHQuYmluZFRleHR1cmUoMzQwNjcsUy5fX3dlYmdsVGV4dHVyZSksY2UudmVyc2lvbiE9PWNlLl9fY3VycmVudFZlcnNpb258fCQ9PT0hMCl7aS5waXhlbFN0b3JlaSgzNzQ0MCxfLmZsaXBZKSxpLnBpeGVsU3RvcmVpKDM3NDQxLF8ucHJlbXVsdGlwbHlBbHBoYSksaS5waXhlbFN0b3JlaSgzMzE3LF8udW5wYWNrQWxpZ25tZW50KSxpLnBpeGVsU3RvcmVpKDM3NDQzLDApO2NvbnN0IGRlPV8uaXNDb21wcmVzc2VkVGV4dHVyZXx8Xy5pbWFnZVswXS5pc0NvbXByZXNzZWRUZXh0dXJlLE1lPV8uaW1hZ2VbMF0mJl8uaW1hZ2VbMF0uaXNEYXRhVGV4dHVyZSxIPVtdO2ZvcihsZXQgc2U9MDtzZTw2O3NlKyspIWRlJiYhTWU/SFtzZV09VChfLmltYWdlW3NlXSwhMSwhMCxsKTpIW3NlXT1NZT9fLmltYWdlW3NlXS5pbWFnZTpfLmltYWdlW3NlXSxIW3NlXT1MdChfLEhbc2VdKTtjb25zdCBOZT1IWzBdLEJlPXcoTmUpfHxvLG1lPWEuY29udmVydChfLmZvcm1hdCxfLmVuY29kaW5nKSxBPWEuY29udmVydChfLnR5cGUpLGhlPWsoXy5pbnRlcm5hbEZvcm1hdCxtZSxBLF8uZW5jb2RpbmcpLGFlPW8mJl8uaXNWaWRlb1RleHR1cmUhPT0hMCx3ZT1TLl9fdmVyc2lvbj09PXZvaWQgMDtsZXQgcGU9aWUoXyxOZSxCZSk7VigzNDA2NyxfLEJlKTtsZXQgU2U7aWYoZGUpe2FlJiZ3ZSYmdC50ZXhTdG9yYWdlMkQoMzQwNjcscGUsaGUsTmUud2lkdGgsTmUuaGVpZ2h0KTtmb3IobGV0IHNlPTA7c2U8NjtzZSsrKXtTZT1IW3NlXS5taXBtYXBzO2ZvcihsZXQgQ2U9MDtDZTxTZS5sZW5ndGg7Q2UrKyl7Y29uc3Qga2U9U2VbQ2VdO18uZm9ybWF0IT09WHQ/bWUhPT1udWxsP2FlP3QuY29tcHJlc3NlZFRleFN1YkltYWdlMkQoMzQwNjkrc2UsQ2UsMCwwLGtlLndpZHRoLGtlLmhlaWdodCxtZSxrZS5kYXRhKTp0LmNvbXByZXNzZWRUZXhJbWFnZTJEKDM0MDY5K3NlLENlLGhlLGtlLndpZHRoLGtlLmhlaWdodCwwLGtlLmRhdGEpOmNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogQXR0ZW1wdCB0byBsb2FkIHVuc3VwcG9ydGVkIGNvbXByZXNzZWQgdGV4dHVyZSBmb3JtYXQgaW4gLnNldFRleHR1cmVDdWJlKCkiKTphZT90LnRleFN1YkltYWdlMkQoMzQwNjkrc2UsQ2UsMCwwLGtlLndpZHRoLGtlLmhlaWdodCxtZSxBLGtlLmRhdGEpOnQudGV4SW1hZ2UyRCgzNDA2OStzZSxDZSxoZSxrZS53aWR0aCxrZS5oZWlnaHQsMCxtZSxBLGtlLmRhdGEpfX19ZWxzZXtTZT1fLm1pcG1hcHMsYWUmJndlJiYoU2UubGVuZ3RoPjAmJnBlKyssdC50ZXhTdG9yYWdlMkQoMzQwNjcscGUsaGUsSFswXS53aWR0aCxIWzBdLmhlaWdodCkpO2ZvcihsZXQgc2U9MDtzZTw2O3NlKyspaWYoTWUpe2FlP3QudGV4U3ViSW1hZ2UyRCgzNDA2OStzZSwwLDAsMCxIW3NlXS53aWR0aCxIW3NlXS5oZWlnaHQsbWUsQSxIW3NlXS5kYXRhKTp0LnRleEltYWdlMkQoMzQwNjkrc2UsMCxoZSxIW3NlXS53aWR0aCxIW3NlXS5oZWlnaHQsMCxtZSxBLEhbc2VdLmRhdGEpO2ZvcihsZXQgQ2U9MDtDZTxTZS5sZW5ndGg7Q2UrKyl7Y29uc3Qga2U9U2VbQ2VdLmltYWdlW3NlXS5pbWFnZTthZT90LnRleFN1YkltYWdlMkQoMzQwNjkrc2UsQ2UrMSwwLDAsa2Uud2lkdGgsa2UuaGVpZ2h0LG1lLEEsa2UuZGF0YSk6dC50ZXhJbWFnZTJEKDM0MDY5K3NlLENlKzEsaGUsa2Uud2lkdGgsa2UuaGVpZ2h0LDAsbWUsQSxrZS5kYXRhKX19ZWxzZXthZT90LnRleFN1YkltYWdlMkQoMzQwNjkrc2UsMCwwLDAsbWUsQSxIW3NlXSk6dC50ZXhJbWFnZTJEKDM0MDY5K3NlLDAsaGUsbWUsQSxIW3NlXSk7Zm9yKGxldCBDZT0wO0NlPFNlLmxlbmd0aDtDZSsrKXtjb25zdCBrZT1TZVtDZV07YWU/dC50ZXhTdWJJbWFnZTJEKDM0MDY5K3NlLENlKzEsMCwwLG1lLEEsa2UuaW1hZ2Vbc2VdKTp0LnRleEltYWdlMkQoMzQwNjkrc2UsQ2UrMSxoZSxtZSxBLGtlLmltYWdlW3NlXSl9fX1MKF8sQmUpJiZQKDM0MDY3KSxjZS5fX2N1cnJlbnRWZXJzaW9uPWNlLnZlcnNpb24sXy5vblVwZGF0ZSYmXy5vblVwZGF0ZShfKX1TLl9fdmVyc2lvbj1fLnZlcnNpb259ZnVuY3Rpb24gcmUoUyxfLEYsJCxjZSl7Y29uc3QgZGU9YS5jb252ZXJ0KEYuZm9ybWF0LEYuZW5jb2RpbmcpLE1lPWEuY29udmVydChGLnR5cGUpLEg9ayhGLmludGVybmFsRm9ybWF0LGRlLE1lLEYuZW5jb2RpbmcpO3IuZ2V0KF8pLl9faGFzRXh0ZXJuYWxUZXh0dXJlc3x8KGNlPT09MzI4Nzl8fGNlPT09MzU4NjY/dC50ZXhJbWFnZTNEKGNlLDAsSCxfLndpZHRoLF8uaGVpZ2h0LF8uZGVwdGgsMCxkZSxNZSxudWxsKTp0LnRleEltYWdlMkQoY2UsMCxILF8ud2lkdGgsXy5oZWlnaHQsMCxkZSxNZSxudWxsKSksdC5iaW5kRnJhbWVidWZmZXIoMzYxNjAsUyksVGUoXyk/ZC5mcmFtZWJ1ZmZlclRleHR1cmUyRE11bHRpc2FtcGxlRVhUKDM2MTYwLCQsY2Usci5nZXQoRikuX193ZWJnbFRleHR1cmUsMCxJZShfKSk6aS5mcmFtZWJ1ZmZlclRleHR1cmUyRCgzNjE2MCwkLGNlLHIuZ2V0KEYpLl9fd2ViZ2xUZXh0dXJlLDApLHQuYmluZEZyYW1lYnVmZmVyKDM2MTYwLG51bGwpfWZ1bmN0aW9uIFooUyxfLEYpe2lmKGkuYmluZFJlbmRlcmJ1ZmZlcigzNjE2MSxTKSxfLmRlcHRoQnVmZmVyJiYhXy5zdGVuY2lsQnVmZmVyKXtsZXQgJD0zMzE4OTtpZihGfHxUZShfKSl7Y29uc3QgY2U9Xy5kZXB0aFRleHR1cmU7Y2UmJmNlLmlzRGVwdGhUZXh0dXJlJiYoY2UudHlwZT09PVlpPyQ9MzYwMTI6Y2UudHlwZT09PWRhJiYoJD0zMzE5MCkpO2NvbnN0IGRlPUllKF8pO1RlKF8pP2QucmVuZGVyYnVmZmVyU3RvcmFnZU11bHRpc2FtcGxlRVhUKDM2MTYxLGRlLCQsXy53aWR0aCxfLmhlaWdodCk6aS5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGUoMzYxNjEsZGUsJCxfLndpZHRoLF8uaGVpZ2h0KX1lbHNlIGkucmVuZGVyYnVmZmVyU3RvcmFnZSgzNjE2MSwkLF8ud2lkdGgsXy5oZWlnaHQpO2kuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoMzYxNjAsMzYwOTYsMzYxNjEsUyl9ZWxzZSBpZihfLmRlcHRoQnVmZmVyJiZfLnN0ZW5jaWxCdWZmZXIpe2NvbnN0ICQ9SWUoXyk7RiYmVGUoXyk9PT0hMT9pLnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZSgzNjE2MSwkLDM1MDU2LF8ud2lkdGgsXy5oZWlnaHQpOlRlKF8pP2QucmVuZGVyYnVmZmVyU3RvcmFnZU11bHRpc2FtcGxlRVhUKDM2MTYxLCQsMzUwNTYsXy53aWR0aCxfLmhlaWdodCk6aS5yZW5kZXJidWZmZXJTdG9yYWdlKDM2MTYxLDM0MDQxLF8ud2lkdGgsXy5oZWlnaHQpLGkuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoMzYxNjAsMzMzMDYsMzYxNjEsUyl9ZWxzZXtjb25zdCAkPV8uaXNXZWJHTE11bHRpcGxlUmVuZGVyVGFyZ2V0cz09PSEwP18udGV4dHVyZVswXTpfLnRleHR1cmUsY2U9YS5jb252ZXJ0KCQuZm9ybWF0LCQuZW5jb2RpbmcpLGRlPWEuY29udmVydCgkLnR5cGUpLE1lPWsoJC5pbnRlcm5hbEZvcm1hdCxjZSxkZSwkLmVuY29kaW5nKSxIPUllKF8pO0YmJlRlKF8pPT09ITE/aS5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGUoMzYxNjEsSCxNZSxfLndpZHRoLF8uaGVpZ2h0KTpUZShfKT9kLnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZUVYVCgzNjE2MSxILE1lLF8ud2lkdGgsXy5oZWlnaHQpOmkucmVuZGVyYnVmZmVyU3RvcmFnZSgzNjE2MSxNZSxfLndpZHRoLF8uaGVpZ2h0KX1pLmJpbmRSZW5kZXJidWZmZXIoMzYxNjEsbnVsbCl9ZnVuY3Rpb24gaihTLF8pe2lmKF8mJl8uaXNXZWJHTEN1YmVSZW5kZXJUYXJnZXQpdGhyb3cgbmV3IEVycm9yKCJEZXB0aCBUZXh0dXJlIHdpdGggY3ViZSByZW5kZXIgdGFyZ2V0cyBpcyBub3Qgc3VwcG9ydGVkIik7aWYodC5iaW5kRnJhbWVidWZmZXIoMzYxNjAsUyksIShfLmRlcHRoVGV4dHVyZSYmXy5kZXB0aFRleHR1cmUuaXNEZXB0aFRleHR1cmUpKXRocm93IG5ldyBFcnJvcigicmVuZGVyVGFyZ2V0LmRlcHRoVGV4dHVyZSBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIFRIUkVFLkRlcHRoVGV4dHVyZSIpOyghci5nZXQoXy5kZXB0aFRleHR1cmUpLl9fd2ViZ2xUZXh0dXJlfHxfLmRlcHRoVGV4dHVyZS5pbWFnZS53aWR0aCE9PV8ud2lkdGh8fF8uZGVwdGhUZXh0dXJlLmltYWdlLmhlaWdodCE9PV8uaGVpZ2h0KSYmKF8uZGVwdGhUZXh0dXJlLmltYWdlLndpZHRoPV8ud2lkdGgsXy5kZXB0aFRleHR1cmUuaW1hZ2UuaGVpZ2h0PV8uaGVpZ2h0LF8uZGVwdGhUZXh0dXJlLm5lZWRzVXBkYXRlPSEwKSxKKF8uZGVwdGhUZXh0dXJlLDApO2NvbnN0IEY9ci5nZXQoXy5kZXB0aFRleHR1cmUpLl9fd2ViZ2xUZXh0dXJlLCQ9SWUoXyk7aWYoXy5kZXB0aFRleHR1cmUuZm9ybWF0PT09WmkpVGUoXyk/ZC5mcmFtZWJ1ZmZlclRleHR1cmUyRE11bHRpc2FtcGxlRVhUKDM2MTYwLDM2MDk2LDM1NTMsRiwwLCQpOmkuZnJhbWVidWZmZXJUZXh0dXJlMkQoMzYxNjAsMzYwOTYsMzU1MyxGLDApO2Vsc2UgaWYoXy5kZXB0aFRleHR1cmUuZm9ybWF0PT09VHIpVGUoXyk/ZC5mcmFtZWJ1ZmZlclRleHR1cmUyRE11bHRpc2FtcGxlRVhUKDM2MTYwLDMzMzA2LDM1NTMsRiwwLCQpOmkuZnJhbWVidWZmZXJUZXh0dXJlMkQoMzYxNjAsMzMzMDYsMzU1MyxGLDApO2Vsc2UgdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIGRlcHRoVGV4dHVyZSBmb3JtYXQiKX1mdW5jdGlvbiBxKFMpe2NvbnN0IF89ci5nZXQoUyksRj1TLmlzV2ViR0xDdWJlUmVuZGVyVGFyZ2V0PT09ITA7aWYoUy5kZXB0aFRleHR1cmUmJiFfLl9fYXV0b0FsbG9jYXRlRGVwdGhCdWZmZXIpe2lmKEYpdGhyb3cgbmV3IEVycm9yKCJ0YXJnZXQuZGVwdGhUZXh0dXJlIG5vdCBzdXBwb3J0ZWQgaW4gQ3ViZSByZW5kZXIgdGFyZ2V0cyIpO2ooXy5fX3dlYmdsRnJhbWVidWZmZXIsUyl9ZWxzZSBpZihGKXtfLl9fd2ViZ2xEZXB0aGJ1ZmZlcj1bXTtmb3IobGV0ICQ9MDskPDY7JCsrKXQuYmluZEZyYW1lYnVmZmVyKDM2MTYwLF8uX193ZWJnbEZyYW1lYnVmZmVyWyRdKSxfLl9fd2ViZ2xEZXB0aGJ1ZmZlclskXT1pLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpLFooXy5fX3dlYmdsRGVwdGhidWZmZXJbJF0sUywhMSl9ZWxzZSB0LmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCxfLl9fd2ViZ2xGcmFtZWJ1ZmZlciksXy5fX3dlYmdsRGVwdGhidWZmZXI9aS5jcmVhdGVSZW5kZXJidWZmZXIoKSxaKF8uX193ZWJnbERlcHRoYnVmZmVyLFMsITEpO3QuYmluZEZyYW1lYnVmZmVyKDM2MTYwLG51bGwpfWZ1bmN0aW9uIGZlKFMsXyxGKXtjb25zdCAkPXIuZ2V0KFMpO18hPT12b2lkIDAmJnJlKCQuX193ZWJnbEZyYW1lYnVmZmVyLFMsUy50ZXh0dXJlLDM2MDY0LDM1NTMpLEYhPT12b2lkIDAmJnEoUyl9ZnVuY3Rpb24gbGUoUyl7Y29uc3QgXz1TLnRleHR1cmUsRj1yLmdldChTKSwkPXIuZ2V0KF8pO1MuYWRkRXZlbnRMaXN0ZW5lcigiZGlzcG9zZSIsQyksUy5pc1dlYkdMTXVsdGlwbGVSZW5kZXJUYXJnZXRzIT09ITAmJigkLl9fd2ViZ2xUZXh0dXJlPT09dm9pZCAwJiYoJC5fX3dlYmdsVGV4dHVyZT1pLmNyZWF0ZVRleHR1cmUoKSksJC5fX3ZlcnNpb249Xy52ZXJzaW9uLG4ubWVtb3J5LnRleHR1cmVzKyspO2NvbnN0IGNlPVMuaXNXZWJHTEN1YmVSZW5kZXJUYXJnZXQ9PT0hMCxkZT1TLmlzV2ViR0xNdWx0aXBsZVJlbmRlclRhcmdldHM9PT0hMCxNZT13KFMpfHxvO2lmKGNlKXtGLl9fd2ViZ2xGcmFtZWJ1ZmZlcj1bXTtmb3IobGV0IEg9MDtIPDY7SCsrKUYuX193ZWJnbEZyYW1lYnVmZmVyW0hdPWkuY3JlYXRlRnJhbWVidWZmZXIoKX1lbHNlIGlmKEYuX193ZWJnbEZyYW1lYnVmZmVyPWkuY3JlYXRlRnJhbWVidWZmZXIoKSxkZSlpZihzLmRyYXdCdWZmZXJzKXtjb25zdCBIPVMudGV4dHVyZTtmb3IobGV0IE5lPTAsQmU9SC5sZW5ndGg7TmU8QmU7TmUrKyl7Y29uc3QgbWU9ci5nZXQoSFtOZV0pO21lLl9fd2ViZ2xUZXh0dXJlPT09dm9pZCAwJiYobWUuX193ZWJnbFRleHR1cmU9aS5jcmVhdGVUZXh0dXJlKCksbi5tZW1vcnkudGV4dHVyZXMrKyl9fWVsc2UgY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiBXZWJHTE11bHRpcGxlUmVuZGVyVGFyZ2V0cyBjYW4gb25seSBiZSB1c2VkIHdpdGggV2ViR0wyIG9yIFdFQkdMX2RyYXdfYnVmZmVycyBleHRlbnNpb24uIik7ZWxzZSBpZihvJiZTLnNhbXBsZXM+MCYmVGUoUyk9PT0hMSl7Ri5fX3dlYmdsTXVsdGlzYW1wbGVkRnJhbWVidWZmZXI9aS5jcmVhdGVGcmFtZWJ1ZmZlcigpLEYuX193ZWJnbENvbG9yUmVuZGVyYnVmZmVyPWkuY3JlYXRlUmVuZGVyYnVmZmVyKCksaS5iaW5kUmVuZGVyYnVmZmVyKDM2MTYxLEYuX193ZWJnbENvbG9yUmVuZGVyYnVmZmVyKTtjb25zdCBIPWEuY29udmVydChfLmZvcm1hdCxfLmVuY29kaW5nKSxOZT1hLmNvbnZlcnQoXy50eXBlKSxCZT1rKF8uaW50ZXJuYWxGb3JtYXQsSCxOZSxfLmVuY29kaW5nKSxtZT1JZShTKTtpLnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZSgzNjE2MSxtZSxCZSxTLndpZHRoLFMuaGVpZ2h0KSx0LmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCxGLl9fd2ViZ2xNdWx0aXNhbXBsZWRGcmFtZWJ1ZmZlciksaS5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcigzNjE2MCwzNjA2NCwzNjE2MSxGLl9fd2ViZ2xDb2xvclJlbmRlcmJ1ZmZlciksaS5iaW5kUmVuZGVyYnVmZmVyKDM2MTYxLG51bGwpLFMuZGVwdGhCdWZmZXImJihGLl9fd2ViZ2xEZXB0aFJlbmRlcmJ1ZmZlcj1pLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpLFooRi5fX3dlYmdsRGVwdGhSZW5kZXJidWZmZXIsUywhMCkpLHQuYmluZEZyYW1lYnVmZmVyKDM2MTYwLG51bGwpfWlmKGNlKXt0LmJpbmRUZXh0dXJlKDM0MDY3LCQuX193ZWJnbFRleHR1cmUpLFYoMzQwNjcsXyxNZSk7Zm9yKGxldCBIPTA7SDw2O0grKylyZShGLl9fd2ViZ2xGcmFtZWJ1ZmZlcltIXSxTLF8sMzYwNjQsMzQwNjkrSCk7TChfLE1lKSYmUCgzNDA2NyksdC51bmJpbmRUZXh0dXJlKCl9ZWxzZSBpZihkZSl7Y29uc3QgSD1TLnRleHR1cmU7Zm9yKGxldCBOZT0wLEJlPUgubGVuZ3RoO05lPEJlO05lKyspe2NvbnN0IG1lPUhbTmVdLEE9ci5nZXQobWUpO3QuYmluZFRleHR1cmUoMzU1MyxBLl9fd2ViZ2xUZXh0dXJlKSxWKDM1NTMsbWUsTWUpLHJlKEYuX193ZWJnbEZyYW1lYnVmZmVyLFMsbWUsMzYwNjQrTmUsMzU1MyksTChtZSxNZSkmJlAoMzU1Myl9dC51bmJpbmRUZXh0dXJlKCl9ZWxzZXtsZXQgSD0zNTUzOyhTLmlzV2ViR0wzRFJlbmRlclRhcmdldHx8Uy5pc1dlYkdMQXJyYXlSZW5kZXJUYXJnZXQpJiYobz9IPVMuaXNXZWJHTDNEUmVuZGVyVGFyZ2V0PzMyODc5OjM1ODY2OmNvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMVGV4dHVyZXM6IFRIUkVFLkRhdGEzRFRleHR1cmUgYW5kIFRIUkVFLkRhdGFBcnJheVRleHR1cmUgb25seSBzdXBwb3J0ZWQgd2l0aCBXZWJHTDIuIikpLHQuYmluZFRleHR1cmUoSCwkLl9fd2ViZ2xUZXh0dXJlKSxWKEgsXyxNZSkscmUoRi5fX3dlYmdsRnJhbWVidWZmZXIsUyxfLDM2MDY0LEgpLEwoXyxNZSkmJlAoSCksdC51bmJpbmRUZXh0dXJlKCl9Uy5kZXB0aEJ1ZmZlciYmcShTKX1mdW5jdGlvbiBBZShTKXtjb25zdCBfPXcoUyl8fG8sRj1TLmlzV2ViR0xNdWx0aXBsZVJlbmRlclRhcmdldHM9PT0hMD9TLnRleHR1cmU6W1MudGV4dHVyZV07Zm9yKGxldCAkPTAsY2U9Ri5sZW5ndGg7JDxjZTskKyspe2NvbnN0IGRlPUZbJF07aWYoTChkZSxfKSl7Y29uc3QgTWU9Uy5pc1dlYkdMQ3ViZVJlbmRlclRhcmdldD8zNDA2NzozNTUzLEg9ci5nZXQoZGUpLl9fd2ViZ2xUZXh0dXJlO3QuYmluZFRleHR1cmUoTWUsSCksUChNZSksdC51bmJpbmRUZXh0dXJlKCl9fX1mdW5jdGlvbiBQZShTKXtpZihvJiZTLnNhbXBsZXM+MCYmVGUoUyk9PT0hMSl7Y29uc3QgXz1TLndpZHRoLEY9Uy5oZWlnaHQ7bGV0ICQ9MTYzODQ7Y29uc3QgY2U9WzM2MDY0XSxkZT1TLnN0ZW5jaWxCdWZmZXI/MzMzMDY6MzYwOTY7Uy5kZXB0aEJ1ZmZlciYmY2UucHVzaChkZSk7Y29uc3QgTWU9ci5nZXQoUyksSD1NZS5fX2lnbm9yZURlcHRoVmFsdWVzIT09dm9pZCAwP01lLl9faWdub3JlRGVwdGhWYWx1ZXM6ITE7SD09PSExJiYoUy5kZXB0aEJ1ZmZlciYmKCR8PTI1NiksUy5zdGVuY2lsQnVmZmVyJiYoJHw9MTAyNCkpLHQuYmluZEZyYW1lYnVmZmVyKDM2MDA4LE1lLl9fd2ViZ2xNdWx0aXNhbXBsZWRGcmFtZWJ1ZmZlciksdC5iaW5kRnJhbWVidWZmZXIoMzYwMDksTWUuX193ZWJnbEZyYW1lYnVmZmVyKSxIPT09ITAmJihpLmludmFsaWRhdGVGcmFtZWJ1ZmZlcigzNjAwOCxbZGVdKSxpLmludmFsaWRhdGVGcmFtZWJ1ZmZlcigzNjAwOSxbZGVdKSksaS5ibGl0RnJhbWVidWZmZXIoMCwwLF8sRiwwLDAsXyxGLCQsOTcyOCkscCYmaS5pbnZhbGlkYXRlRnJhbWVidWZmZXIoMzYwMDgsY2UpLHQuYmluZEZyYW1lYnVmZmVyKDM2MDA4LG51bGwpLHQuYmluZEZyYW1lYnVmZmVyKDM2MDA5LE1lLl9fd2ViZ2xNdWx0aXNhbXBsZWRGcmFtZWJ1ZmZlcil9fWZ1bmN0aW9uIEllKFMpe3JldHVybiBNYXRoLm1pbih1LFMuc2FtcGxlcyl9ZnVuY3Rpb24gVGUoUyl7Y29uc3QgXz1yLmdldChTKTtyZXR1cm4gbyYmUy5zYW1wbGVzPjAmJmUuaGFzKCJXRUJHTF9tdWx0aXNhbXBsZWRfcmVuZGVyX3RvX3RleHR1cmUiKT09PSEwJiZfLl9fdXNlUmVuZGVyVG9UZXh0dXJlIT09ITF9ZnVuY3Rpb24gS2UoUyl7Y29uc3QgXz1uLnJlbmRlci5mcmFtZTtnLmdldChTKSE9PV8mJihnLnNldChTLF8pLFMudXBkYXRlKCkpfWZ1bmN0aW9uIEx0KFMsXyl7Y29uc3QgRj1TLmVuY29kaW5nLCQ9Uy5mb3JtYXQsY2U9Uy50eXBlO3JldHVybiBTLmlzQ29tcHJlc3NlZFRleHR1cmU9PT0hMHx8Uy5pc1ZpZGVvVGV4dHVyZT09PSEwfHxTLmZvcm1hdD09PU5ufHxGIT09X2kmJihGPT09UWU/bz09PSExP2UuaGFzKCJFWFRfc1JHQiIpPT09ITAmJiQ9PT1YdD8oUy5mb3JtYXQ9Tm4sUy5taW5GaWx0ZXI9SXQsUy5nZW5lcmF0ZU1pcG1hcHM9ITEpOl89ZXIuc1JHQlRvTGluZWFyKF8pOigkIT09WHR8fGNlIT09SmkpJiZjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMVGV4dHVyZXM6IHNSR0IgZW5jb2RlZCB0ZXh0dXJlcyBoYXZlIHRvIHVzZSBSR0JBRm9ybWF0IGFuZCBVbnNpZ25lZEJ5dGVUeXBlLiIpOmNvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMVGV4dHVyZXM6IFVuc3VwcG9ydGVkIHRleHR1cmUgZW5jb2Rpbmc6IixGKSksX310aGlzLmFsbG9jYXRlVGV4dHVyZVVuaXQ9Uix0aGlzLnJlc2V0VGV4dHVyZVVuaXRzPUcsdGhpcy5zZXRUZXh0dXJlMkQ9Six0aGlzLnNldFRleHR1cmUyREFycmF5PXRlLHRoaXMuc2V0VGV4dHVyZTNEPVEsdGhpcy5zZXRUZXh0dXJlQ3ViZT12ZSx0aGlzLnJlYmluZFRleHR1cmVzPWZlLHRoaXMuc2V0dXBSZW5kZXJUYXJnZXQ9bGUsdGhpcy51cGRhdGVSZW5kZXJUYXJnZXRNaXBtYXA9QWUsdGhpcy51cGRhdGVNdWx0aXNhbXBsZVJlbmRlclRhcmdldD1QZSx0aGlzLnNldHVwRGVwdGhSZW5kZXJidWZmZXI9cSx0aGlzLnNldHVwRnJhbWVCdWZmZXJUZXh0dXJlPXJlLHRoaXMudXNlTXVsdGlzYW1wbGVkUlRUPVRlfWZ1bmN0aW9uIFJ5KGksZSx0KXtjb25zdCByPXQuaXNXZWJHTDI7ZnVuY3Rpb24gcyhhLG49bnVsbCl7bGV0IG87aWYoYT09PUppKXJldHVybiA1MTIxO2lmKGE9PT1DZylyZXR1cm4gMzI4MTk7aWYoYT09PUxnKXJldHVybiAzMjgyMDtpZihhPT09RWcpcmV0dXJuIDUxMjA7aWYoYT09PVRnKXJldHVybiA1MTIyO2lmKGE9PT1TcylyZXR1cm4gNTEyMztpZihhPT09QWcpcmV0dXJuIDUxMjQ7aWYoYT09PWRhKXJldHVybiA1MTI1O2lmKGE9PT1ZaSlyZXR1cm4gNTEyNjtpZihhPT09U3IpcmV0dXJuIHI/NTEzMToobz1lLmdldCgiT0VTX3RleHR1cmVfaGFsZl9mbG9hdCIpLG8hPT1udWxsP28uSEFMRl9GTE9BVF9PRVM6bnVsbCk7aWYoYT09PVJnKXJldHVybiA2NDA2O2lmKGE9PT1YdClyZXR1cm4gNjQwODtpZihhPT09SWcpcmV0dXJuIDY0MDk7aWYoYT09PU5nKXJldHVybiA2NDEwO2lmKGE9PT1aaSlyZXR1cm4gNjQwMjtpZihhPT09VHIpcmV0dXJuIDM0MDQxO2lmKGE9PT1EZylyZXR1cm4gNjQwMztpZihhPT09UGcpcmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogVEhSRUUuUkdCRm9ybWF0IGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBUSFJFRS5SR0JBRm9ybWF0IGluc3RlYWQuIGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvcHVsbC8yMzIyOCIpLDY0MDg7aWYoYT09PU5uKXJldHVybiBvPWUuZ2V0KCJFWFRfc1JHQiIpLG8hPT1udWxsP28uU1JHQl9BTFBIQV9FWFQ6bnVsbDtpZihhPT09T2cpcmV0dXJuIDM2MjQ0O2lmKGE9PT16ZylyZXR1cm4gMzMzMTk7aWYoYT09PUJnKXJldHVybiAzMzMyMDtpZihhPT09VWcpcmV0dXJuIDM2MjQ5O2lmKGE9PT1Ubnx8YT09PUFufHxhPT09Q258fGE9PT1MbilpZihuPT09UWUpaWYobz1lLmdldCgiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNfc3JnYiIpLG8hPT1udWxsKXtpZihhPT09VG4pcmV0dXJuIG8uQ09NUFJFU1NFRF9TUkdCX1MzVENfRFhUMV9FWFQ7aWYoYT09PUFuKXJldHVybiBvLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDFfRVhUO2lmKGE9PT1DbilyZXR1cm4gby5DT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQzX0VYVDtpZihhPT09TG4pcmV0dXJuIG8uQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUNV9FWFR9ZWxzZSByZXR1cm4gbnVsbDtlbHNlIGlmKG89ZS5nZXQoIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjIiksbyE9PW51bGwpe2lmKGE9PT1UbilyZXR1cm4gby5DT01QUkVTU0VEX1JHQl9TM1RDX0RYVDFfRVhUO2lmKGE9PT1BbilyZXR1cm4gby5DT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQxX0VYVDtpZihhPT09Q24pcmV0dXJuIG8uQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUM19FWFQ7aWYoYT09PUxuKXJldHVybiBvLkNPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDVfRVhUfWVsc2UgcmV0dXJuIG51bGw7aWYoYT09PVhofHxhPT09Smh8fGE9PT1ZaHx8YT09PVpoKWlmKG89ZS5nZXQoIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0YyIpLG8hPT1udWxsKXtpZihhPT09WGgpcmV0dXJuIG8uQ09NUFJFU1NFRF9SR0JfUFZSVENfNEJQUFYxX0lNRztpZihhPT09SmgpcmV0dXJuIG8uQ09NUFJFU1NFRF9SR0JfUFZSVENfMkJQUFYxX0lNRztpZihhPT09WWgpcmV0dXJuIG8uQ09NUFJFU1NFRF9SR0JBX1BWUlRDXzRCUFBWMV9JTUc7aWYoYT09PVpoKXJldHVybiBvLkNPTVBSRVNTRURfUkdCQV9QVlJUQ18yQlBQVjFfSU1HfWVsc2UgcmV0dXJuIG51bGw7aWYoYT09PUZnKXJldHVybiBvPWUuZ2V0KCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjMSIpLG8hPT1udWxsP28uQ09NUFJFU1NFRF9SR0JfRVRDMV9XRUJHTDpudWxsO2lmKGE9PT1LaHx8YT09PVFoKWlmKG89ZS5nZXQoIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGMiKSxvIT09bnVsbCl7aWYoYT09PUtoKXJldHVybiBuPT09UWU/by5DT01QUkVTU0VEX1NSR0I4X0VUQzI6by5DT01QUkVTU0VEX1JHQjhfRVRDMjtpZihhPT09UWgpcmV0dXJuIG49PT1RZT9vLkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0VUQzJfRUFDOm8uQ09NUFJFU1NFRF9SR0JBOF9FVEMyX0VBQ31lbHNlIHJldHVybiBudWxsO2lmKGE9PT0kaHx8YT09PWVsfHxhPT09dGx8fGE9PT1pbHx8YT09PXJsfHxhPT09c2x8fGE9PT1hbHx8YT09PW5sfHxhPT09b2x8fGE9PT1obHx8YT09PWxsfHxhPT09Y2x8fGE9PT11bHx8YT09PWRsKWlmKG89ZS5nZXQoIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9hc3RjIiksbyE9PW51bGwpe2lmKGE9PT0kaClyZXR1cm4gbj09PVFlP28uQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfQVNUQ180eDRfS0hSOm8uQ09NUFJFU1NFRF9SR0JBX0FTVENfNHg0X0tIUjtpZihhPT09ZWwpcmV0dXJuIG49PT1RZT9vLkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0FTVENfNXg0X0tIUjpvLkNPTVBSRVNTRURfUkdCQV9BU1RDXzV4NF9LSFI7aWYoYT09PXRsKXJldHVybiBuPT09UWU/by5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzV4NV9LSFI6by5DT01QUkVTU0VEX1JHQkFfQVNUQ181eDVfS0hSO2lmKGE9PT1pbClyZXR1cm4gbj09PVFlP28uQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfQVNUQ182eDVfS0hSOm8uQ09NUFJFU1NFRF9SR0JBX0FTVENfNng1X0tIUjtpZihhPT09cmwpcmV0dXJuIG49PT1RZT9vLkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0FTVENfNng2X0tIUjpvLkNPTVBSRVNTRURfUkdCQV9BU1RDXzZ4Nl9LSFI7aWYoYT09PXNsKXJldHVybiBuPT09UWU/by5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzh4NV9LSFI6by5DT01QUkVTU0VEX1JHQkFfQVNUQ184eDVfS0hSO2lmKGE9PT1hbClyZXR1cm4gbj09PVFlP28uQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfQVNUQ184eDZfS0hSOm8uQ09NUFJFU1NFRF9SR0JBX0FTVENfOHg2X0tIUjtpZihhPT09bmwpcmV0dXJuIG49PT1RZT9vLkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0FTVENfOHg4X0tIUjpvLkNPTVBSRVNTRURfUkdCQV9BU1RDXzh4OF9LSFI7aWYoYT09PW9sKXJldHVybiBuPT09UWU/by5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzEweDVfS0hSOm8uQ09NUFJFU1NFRF9SR0JBX0FTVENfMTB4NV9LSFI7aWYoYT09PWhsKXJldHVybiBuPT09UWU/by5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzEweDZfS0hSOm8uQ09NUFJFU1NFRF9SR0JBX0FTVENfMTB4Nl9LSFI7aWYoYT09PWxsKXJldHVybiBuPT09UWU/by5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzEweDhfS0hSOm8uQ09NUFJFU1NFRF9SR0JBX0FTVENfMTB4OF9LSFI7aWYoYT09PWNsKXJldHVybiBuPT09UWU/by5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzEweDEwX0tIUjpvLkNPTVBSRVNTRURfUkdCQV9BU1RDXzEweDEwX0tIUjtpZihhPT09dWwpcmV0dXJuIG49PT1RZT9vLkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0FTVENfMTJ4MTBfS0hSOm8uQ09NUFJFU1NFRF9SR0JBX0FTVENfMTJ4MTBfS0hSO2lmKGE9PT1kbClyZXR1cm4gbj09PVFlP28uQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfQVNUQ18xMngxMl9LSFI6by5DT01QUkVTU0VEX1JHQkFfQVNUQ18xMngxMl9LSFJ9ZWxzZSByZXR1cm4gbnVsbDtpZihhPT09cGwpaWYobz1lLmdldCgiRVhUX3RleHR1cmVfY29tcHJlc3Npb25fYnB0YyIpLG8hPT1udWxsKXtpZihhPT09cGwpcmV0dXJuIG49PT1RZT9vLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9CUFRDX1VOT1JNX0VYVDpvLkNPTVBSRVNTRURfUkdCQV9CUFRDX1VOT1JNX0VYVH1lbHNlIHJldHVybiBudWxsO2lmKGE9PT1FcilyZXR1cm4gcj8zNDA0Mjoobz1lLmdldCgiV0VCR0xfZGVwdGhfdGV4dHVyZSIpLG8hPT1udWxsP28uVU5TSUdORURfSU5UXzI0XzhfV0VCR0w6bnVsbCl9cmV0dXJue2NvbnZlcnQ6c319Y2xhc3MgZGMgZXh0ZW5kcyBEdHtjb25zdHJ1Y3RvcihlPVtdKXtzdXBlcigpO3RoaXMuY2FtZXJhcz1lfX1kYy5wcm90b3R5cGUuaXNBcnJheUNhbWVyYT0hMDtjbGFzcyBJcyBleHRlbmRzIGple2NvbnN0cnVjdG9yKCl7c3VwZXIoKTt0aGlzLnR5cGU9Ikdyb3VwIn19SXMucHJvdG90eXBlLmlzR3JvdXA9ITA7Y29uc3QgUHk9e3R5cGU6Im1vdmUifTtjbGFzcyBfb3tjb25zdHJ1Y3Rvcigpe3RoaXMuX3RhcmdldFJheT1udWxsLHRoaXMuX2dyaXA9bnVsbCx0aGlzLl9oYW5kPW51bGx9Z2V0SGFuZFNwYWNlKCl7cmV0dXJuIHRoaXMuX2hhbmQ9PT1udWxsJiYodGhpcy5faGFuZD1uZXcgSXMsdGhpcy5faGFuZC5tYXRyaXhBdXRvVXBkYXRlPSExLHRoaXMuX2hhbmQudmlzaWJsZT0hMSx0aGlzLl9oYW5kLmpvaW50cz17fSx0aGlzLl9oYW5kLmlucHV0U3RhdGU9e3BpbmNoaW5nOiExfSksdGhpcy5faGFuZH1nZXRUYXJnZXRSYXlTcGFjZSgpe3JldHVybiB0aGlzLl90YXJnZXRSYXk9PT1udWxsJiYodGhpcy5fdGFyZ2V0UmF5PW5ldyBJcyx0aGlzLl90YXJnZXRSYXkubWF0cml4QXV0b1VwZGF0ZT0hMSx0aGlzLl90YXJnZXRSYXkudmlzaWJsZT0hMSx0aGlzLl90YXJnZXRSYXkuaGFzTGluZWFyVmVsb2NpdHk9ITEsdGhpcy5fdGFyZ2V0UmF5LmxpbmVhclZlbG9jaXR5PW5ldyBFLHRoaXMuX3RhcmdldFJheS5oYXNBbmd1bGFyVmVsb2NpdHk9ITEsdGhpcy5fdGFyZ2V0UmF5LmFuZ3VsYXJWZWxvY2l0eT1uZXcgRSksdGhpcy5fdGFyZ2V0UmF5fWdldEdyaXBTcGFjZSgpe3JldHVybiB0aGlzLl9ncmlwPT09bnVsbCYmKHRoaXMuX2dyaXA9bmV3IElzLHRoaXMuX2dyaXAubWF0cml4QXV0b1VwZGF0ZT0hMSx0aGlzLl9ncmlwLnZpc2libGU9ITEsdGhpcy5fZ3JpcC5oYXNMaW5lYXJWZWxvY2l0eT0hMSx0aGlzLl9ncmlwLmxpbmVhclZlbG9jaXR5PW5ldyBFLHRoaXMuX2dyaXAuaGFzQW5ndWxhclZlbG9jaXR5PSExLHRoaXMuX2dyaXAuYW5ndWxhclZlbG9jaXR5PW5ldyBFKSx0aGlzLl9ncmlwfWRpc3BhdGNoRXZlbnQoZSl7cmV0dXJuIHRoaXMuX3RhcmdldFJheSE9PW51bGwmJnRoaXMuX3RhcmdldFJheS5kaXNwYXRjaEV2ZW50KGUpLHRoaXMuX2dyaXAhPT1udWxsJiZ0aGlzLl9ncmlwLmRpc3BhdGNoRXZlbnQoZSksdGhpcy5faGFuZCE9PW51bGwmJnRoaXMuX2hhbmQuZGlzcGF0Y2hFdmVudChlKSx0aGlzfWRpc2Nvbm5lY3QoZSl7cmV0dXJuIHRoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZToiZGlzY29ubmVjdGVkIixkYXRhOmV9KSx0aGlzLl90YXJnZXRSYXkhPT1udWxsJiYodGhpcy5fdGFyZ2V0UmF5LnZpc2libGU9ITEpLHRoaXMuX2dyaXAhPT1udWxsJiYodGhpcy5fZ3JpcC52aXNpYmxlPSExKSx0aGlzLl9oYW5kIT09bnVsbCYmKHRoaXMuX2hhbmQudmlzaWJsZT0hMSksdGhpc311cGRhdGUoZSx0LHIpe2xldCBzPW51bGwsYT1udWxsLG49bnVsbDtjb25zdCBvPXRoaXMuX3RhcmdldFJheSxoPXRoaXMuX2dyaXAsbD10aGlzLl9oYW5kO2lmKGUmJnQuc2Vzc2lvbi52aXNpYmlsaXR5U3RhdGUhPT0idmlzaWJsZS1ibHVycmVkIilpZihvIT09bnVsbCYmKHM9dC5nZXRQb3NlKGUudGFyZ2V0UmF5U3BhY2UscikscyE9PW51bGwmJihvLm1hdHJpeC5mcm9tQXJyYXkocy50cmFuc2Zvcm0ubWF0cml4KSxvLm1hdHJpeC5kZWNvbXBvc2Uoby5wb3NpdGlvbixvLnJvdGF0aW9uLG8uc2NhbGUpLHMubGluZWFyVmVsb2NpdHk/KG8uaGFzTGluZWFyVmVsb2NpdHk9ITAsby5saW5lYXJWZWxvY2l0eS5jb3B5KHMubGluZWFyVmVsb2NpdHkpKTpvLmhhc0xpbmVhclZlbG9jaXR5PSExLHMuYW5ndWxhclZlbG9jaXR5PyhvLmhhc0FuZ3VsYXJWZWxvY2l0eT0hMCxvLmFuZ3VsYXJWZWxvY2l0eS5jb3B5KHMuYW5ndWxhclZlbG9jaXR5KSk6by5oYXNBbmd1bGFyVmVsb2NpdHk9ITEsdGhpcy5kaXNwYXRjaEV2ZW50KFB5KSkpLGwmJmUuaGFuZCl7bj0hMDtmb3IoY29uc3QgZiBvZiBlLmhhbmQudmFsdWVzKCkpe2NvbnN0IG09dC5nZXRKb2ludFBvc2UoZixyKTtpZihsLmpvaW50c1tmLmpvaW50TmFtZV09PT12b2lkIDApe2NvbnN0IHk9bmV3IElzO3kubWF0cml4QXV0b1VwZGF0ZT0hMSx5LnZpc2libGU9ITEsbC5qb2ludHNbZi5qb2ludE5hbWVdPXksbC5hZGQoeSl9Y29uc3Qgdj1sLmpvaW50c1tmLmpvaW50TmFtZV07bSE9PW51bGwmJih2Lm1hdHJpeC5mcm9tQXJyYXkobS50cmFuc2Zvcm0ubWF0cml4KSx2Lm1hdHJpeC5kZWNvbXBvc2Uodi5wb3NpdGlvbix2LnJvdGF0aW9uLHYuc2NhbGUpLHYuam9pbnRSYWRpdXM9bS5yYWRpdXMpLHYudmlzaWJsZT1tIT09bnVsbH1jb25zdCBjPWwuam9pbnRzWyJpbmRleC1maW5nZXItdGlwIl0sdT1sLmpvaW50c1sidGh1bWItdGlwIl0sZD1jLnBvc2l0aW9uLmRpc3RhbmNlVG8odS5wb3NpdGlvbikscD0uMDIsZz0uMDA1O2wuaW5wdXRTdGF0ZS5waW5jaGluZyYmZD5wK2c/KGwuaW5wdXRTdGF0ZS5waW5jaGluZz0hMSx0aGlzLmRpc3BhdGNoRXZlbnQoe3R5cGU6InBpbmNoZW5kIixoYW5kZWRuZXNzOmUuaGFuZGVkbmVzcyx0YXJnZXQ6dGhpc30pKTohbC5pbnB1dFN0YXRlLnBpbmNoaW5nJiZkPD1wLWcmJihsLmlucHV0U3RhdGUucGluY2hpbmc9ITAsdGhpcy5kaXNwYXRjaEV2ZW50KHt0eXBlOiJwaW5jaHN0YXJ0IixoYW5kZWRuZXNzOmUuaGFuZGVkbmVzcyx0YXJnZXQ6dGhpc30pKX1lbHNlIGghPT1udWxsJiZlLmdyaXBTcGFjZSYmKGE9dC5nZXRQb3NlKGUuZ3JpcFNwYWNlLHIpLGEhPT1udWxsJiYoaC5tYXRyaXguZnJvbUFycmF5KGEudHJhbnNmb3JtLm1hdHJpeCksaC5tYXRyaXguZGVjb21wb3NlKGgucG9zaXRpb24saC5yb3RhdGlvbixoLnNjYWxlKSxhLmxpbmVhclZlbG9jaXR5PyhoLmhhc0xpbmVhclZlbG9jaXR5PSEwLGgubGluZWFyVmVsb2NpdHkuY29weShhLmxpbmVhclZlbG9jaXR5KSk6aC5oYXNMaW5lYXJWZWxvY2l0eT0hMSxhLmFuZ3VsYXJWZWxvY2l0eT8oaC5oYXNBbmd1bGFyVmVsb2NpdHk9ITAsaC5hbmd1bGFyVmVsb2NpdHkuY29weShhLmFuZ3VsYXJWZWxvY2l0eSkpOmguaGFzQW5ndWxhclZlbG9jaXR5PSExKSk7cmV0dXJuIG8hPT1udWxsJiYoby52aXNpYmxlPXMhPT1udWxsKSxoIT09bnVsbCYmKGgudmlzaWJsZT1hIT09bnVsbCksbCE9PW51bGwmJihsLnZpc2libGU9biE9PW51bGwpLHRoaXN9fWNsYXNzIHBjIGV4dGVuZHMgZHR7Y29uc3RydWN0b3IoZSx0LHIscyxhLG4sbyxoLGwsYyl7aWYoYz1jIT09dm9pZCAwP2M6WmksYyE9PVppJiZjIT09VHIpdGhyb3cgbmV3IEVycm9yKCJEZXB0aFRleHR1cmUgZm9ybWF0IG11c3QgYmUgZWl0aGVyIFRIUkVFLkRlcHRoRm9ybWF0IG9yIFRIUkVFLkRlcHRoU3RlbmNpbEZvcm1hdCIpO3I9PT12b2lkIDAmJmM9PT1aaSYmKHI9U3MpLHI9PT12b2lkIDAmJmM9PT1UciYmKHI9RXIpO3N1cGVyKG51bGwscyxhLG4sbyxoLGMscixsKTt0aGlzLmltYWdlPXt3aWR0aDplLGhlaWdodDp0fSx0aGlzLm1hZ0ZpbHRlcj1vIT09dm9pZCAwP286dXQsdGhpcy5taW5GaWx0ZXI9aCE9PXZvaWQgMD9oOnV0LHRoaXMuZmxpcFk9ITEsdGhpcy5nZW5lcmF0ZU1pcG1hcHM9ITF9fXBjLnByb3RvdHlwZS5pc0RlcHRoVGV4dHVyZT0hMDtjbGFzcyBJeSBleHRlbmRzIFFpe2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoKTtjb25zdCByPXRoaXM7bGV0IHM9bnVsbCxhPTEsbj1udWxsLG89ImxvY2FsLWZsb29yIixoPW51bGwsbD1udWxsLGM9bnVsbCx1PW51bGwsZD1udWxsO2NvbnN0IHA9dC5nZXRDb250ZXh0QXR0cmlidXRlcygpO2xldCBnPW51bGwsZj1udWxsO2NvbnN0IG09W10sdj1uZXcgTWFwLHk9bmV3IER0O3kubGF5ZXJzLmVuYWJsZSgxKSx5LnZpZXdwb3J0PW5ldyBYZTtjb25zdCBUPW5ldyBEdDtULmxheWVycy5lbmFibGUoMiksVC52aWV3cG9ydD1uZXcgWGU7Y29uc3Qgdz1beSxUXSxiPW5ldyBkYztiLmxheWVycy5lbmFibGUoMSksYi5sYXllcnMuZW5hYmxlKDIpO2xldCBMPW51bGwsUD1udWxsO3RoaXMuY2FtZXJhQXV0b1VwZGF0ZT0hMCx0aGlzLmVuYWJsZWQ9ITEsdGhpcy5pc1ByZXNlbnRpbmc9ITEsdGhpcy5nZXRDb250cm9sbGVyPWZ1bmN0aW9uKFIpe2xldCBYPW1bUl07cmV0dXJuIFg9PT12b2lkIDAmJihYPW5ldyBfbyxtW1JdPVgpLFguZ2V0VGFyZ2V0UmF5U3BhY2UoKX0sdGhpcy5nZXRDb250cm9sbGVyR3JpcD1mdW5jdGlvbihSKXtsZXQgWD1tW1JdO3JldHVybiBYPT09dm9pZCAwJiYoWD1uZXcgX28sbVtSXT1YKSxYLmdldEdyaXBTcGFjZSgpfSx0aGlzLmdldEhhbmQ9ZnVuY3Rpb24oUil7bGV0IFg9bVtSXTtyZXR1cm4gWD09PXZvaWQgMCYmKFg9bmV3IF9vLG1bUl09WCksWC5nZXRIYW5kU3BhY2UoKX07ZnVuY3Rpb24gayhSKXtjb25zdCBYPXYuZ2V0KFIuaW5wdXRTb3VyY2UpO1gmJlguZGlzcGF0Y2hFdmVudCh7dHlwZTpSLnR5cGUsZGF0YTpSLmlucHV0U291cmNlfSl9ZnVuY3Rpb24gaWUoKXt2LmZvckVhY2goZnVuY3Rpb24oUixYKXtSLmRpc2Nvbm5lY3QoWCl9KSx2LmNsZWFyKCksTD1udWxsLFA9bnVsbCxlLnNldFJlbmRlclRhcmdldChnKSx1PW51bGwsYz1udWxsLGw9bnVsbCxzPW51bGwsZj1udWxsLEcuc3RvcCgpLHIuaXNQcmVzZW50aW5nPSExLHIuZGlzcGF0Y2hFdmVudCh7dHlwZToic2Vzc2lvbmVuZCJ9KX10aGlzLnNldEZyYW1lYnVmZmVyU2NhbGVGYWN0b3I9ZnVuY3Rpb24oUil7YT1SLHIuaXNQcmVzZW50aW5nPT09ITAmJmNvbnNvbGUud2FybigiVEhSRUUuV2ViWFJNYW5hZ2VyOiBDYW5ub3QgY2hhbmdlIGZyYW1lYnVmZmVyIHNjYWxlIHdoaWxlIHByZXNlbnRpbmcuIil9LHRoaXMuc2V0UmVmZXJlbmNlU3BhY2VUeXBlPWZ1bmN0aW9uKFIpe289UixyLmlzUHJlc2VudGluZz09PSEwJiZjb25zb2xlLndhcm4oIlRIUkVFLldlYlhSTWFuYWdlcjogQ2Fubm90IGNoYW5nZSByZWZlcmVuY2Ugc3BhY2UgdHlwZSB3aGlsZSBwcmVzZW50aW5nLiIpfSx0aGlzLmdldFJlZmVyZW5jZVNwYWNlPWZ1bmN0aW9uKCl7cmV0dXJuIG59LHRoaXMuZ2V0QmFzZUxheWVyPWZ1bmN0aW9uKCl7cmV0dXJuIGMhPT1udWxsP2M6dX0sdGhpcy5nZXRCaW5kaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIGx9LHRoaXMuZ2V0RnJhbWU9ZnVuY3Rpb24oKXtyZXR1cm4gZH0sdGhpcy5nZXRTZXNzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHN9LHRoaXMuc2V0U2Vzc2lvbj1mdW5jdGlvbihSKXtyZXR1cm4gbXUodGhpcyxudWxsLGZ1bmN0aW9uKigpe2lmKHM9UixzIT09bnVsbCl7aWYoZz1lLmdldFJlbmRlclRhcmdldCgpLHMuYWRkRXZlbnRMaXN0ZW5lcigic2VsZWN0IixrKSxzLmFkZEV2ZW50TGlzdGVuZXIoInNlbGVjdHN0YXJ0IixrKSxzLmFkZEV2ZW50TGlzdGVuZXIoInNlbGVjdGVuZCIsaykscy5hZGRFdmVudExpc3RlbmVyKCJzcXVlZXplIixrKSxzLmFkZEV2ZW50TGlzdGVuZXIoInNxdWVlemVzdGFydCIsaykscy5hZGRFdmVudExpc3RlbmVyKCJzcXVlZXplZW5kIixrKSxzLmFkZEV2ZW50TGlzdGVuZXIoImVuZCIsaWUpLHMuYWRkRXZlbnRMaXN0ZW5lcigiaW5wdXRzb3VyY2VzY2hhbmdlIixPKSxwLnhyQ29tcGF0aWJsZSE9PSEwJiYoeWllbGQgdC5tYWtlWFJDb21wYXRpYmxlKCkpLHMucmVuZGVyU3RhdGUubGF5ZXJzPT09dm9pZCAwfHxlLmNhcGFiaWxpdGllcy5pc1dlYkdMMj09PSExKXtjb25zdCBYPXthbnRpYWxpYXM6cy5yZW5kZXJTdGF0ZS5sYXllcnM9PT12b2lkIDA/cC5hbnRpYWxpYXM6ITAsYWxwaGE6cC5hbHBoYSxkZXB0aDpwLmRlcHRoLHN0ZW5jaWw6cC5zdGVuY2lsLGZyYW1lYnVmZmVyU2NhbGVGYWN0b3I6YX07dT1uZXcgWFJXZWJHTExheWVyKHMsdCxYKSxzLnVwZGF0ZVJlbmRlclN0YXRlKHtiYXNlTGF5ZXI6dX0pLGY9bmV3IHp0KHUuZnJhbWVidWZmZXJXaWR0aCx1LmZyYW1lYnVmZmVySGVpZ2h0LHtmb3JtYXQ6WHQsdHlwZTpKaSxlbmNvZGluZzplLm91dHB1dEVuY29kaW5nfSl9ZWxzZXtsZXQgWD1udWxsLEo9bnVsbCx0ZT1udWxsO3AuZGVwdGgmJih0ZT1wLnN0ZW5jaWw/MzUwNTY6MzMxOTAsWD1wLnN0ZW5jaWw/VHI6WmksSj1wLnN0ZW5jaWw/RXI6U3MpO2NvbnN0IFE9e2NvbG9yRm9ybWF0OmUub3V0cHV0RW5jb2Rpbmc9PT1RZT8zNTkwNzozMjg1NixkZXB0aEZvcm1hdDp0ZSxzY2FsZUZhY3RvcjphfTtsPW5ldyBYUldlYkdMQmluZGluZyhzLHQpLGM9bC5jcmVhdGVQcm9qZWN0aW9uTGF5ZXIoUSkscy51cGRhdGVSZW5kZXJTdGF0ZSh7bGF5ZXJzOltjXX0pLGY9bmV3IHp0KGMudGV4dHVyZVdpZHRoLGMudGV4dHVyZUhlaWdodCx7Zm9ybWF0Olh0LHR5cGU6SmksZGVwdGhUZXh0dXJlOm5ldyBwYyhjLnRleHR1cmVXaWR0aCxjLnRleHR1cmVIZWlnaHQsSix2b2lkIDAsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHZvaWQgMCxYKSxzdGVuY2lsQnVmZmVyOnAuc3RlbmNpbCxlbmNvZGluZzplLm91dHB1dEVuY29kaW5nLHNhbXBsZXM6cC5hbnRpYWxpYXM/NDowfSk7Y29uc3QgdmU9ZS5wcm9wZXJ0aWVzLmdldChmKTt2ZS5fX2lnbm9yZURlcHRoVmFsdWVzPWMuaWdub3JlRGVwdGhWYWx1ZXN9Zi5pc1hSUmVuZGVyVGFyZ2V0PSEwLHRoaXMuc2V0Rm92ZWF0aW9uKDEpLG49eWllbGQgcy5yZXF1ZXN0UmVmZXJlbmNlU3BhY2UobyksRy5zZXRDb250ZXh0KHMpLEcuc3RhcnQoKSxyLmlzUHJlc2VudGluZz0hMCxyLmRpc3BhdGNoRXZlbnQoe3R5cGU6InNlc3Npb25zdGFydCJ9KX19KX07ZnVuY3Rpb24gTyhSKXtjb25zdCBYPXMuaW5wdXRTb3VyY2VzO2ZvcihsZXQgSj0wO0o8bS5sZW5ndGg7SisrKXYuc2V0KFhbSl0sbVtKXSk7Zm9yKGxldCBKPTA7SjxSLnJlbW92ZWQubGVuZ3RoO0orKyl7Y29uc3QgdGU9Ui5yZW1vdmVkW0pdLFE9di5nZXQodGUpO1EmJihRLmRpc3BhdGNoRXZlbnQoe3R5cGU6ImRpc2Nvbm5lY3RlZCIsZGF0YTp0ZX0pLHYuZGVsZXRlKHRlKSl9Zm9yKGxldCBKPTA7SjxSLmFkZGVkLmxlbmd0aDtKKyspe2NvbnN0IHRlPVIuYWRkZWRbSl0sUT12LmdldCh0ZSk7USYmUS5kaXNwYXRjaEV2ZW50KHt0eXBlOiJjb25uZWN0ZWQiLGRhdGE6dGV9KX19Y29uc3QgeD1uZXcgRSxDPW5ldyBFO2Z1bmN0aW9uIFkoUixYLEope3guc2V0RnJvbU1hdHJpeFBvc2l0aW9uKFgubWF0cml4V29ybGQpLEMuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKEoubWF0cml4V29ybGQpO2NvbnN0IHRlPXguZGlzdGFuY2VUbyhDKSxRPVgucHJvamVjdGlvbk1hdHJpeC5lbGVtZW50cyx2ZT1KLnByb2plY3Rpb25NYXRyaXguZWxlbWVudHMsemU9UVsxNF0vKFFbMTBdLTEpLGJlPVFbMTRdLyhRWzEwXSsxKSxWPShRWzldKzEpL1FbNV0sWmU9KFFbOV0tMSkvUVs1XSxPZT0oUVs4XS0xKS9RWzBdLHllPSh2ZVs4XSsxKS92ZVswXSxyZT16ZSpPZSxaPXplKnllLGo9dGUvKC1PZSt5ZSkscT1qKi1PZTtYLm1hdHJpeFdvcmxkLmRlY29tcG9zZShSLnBvc2l0aW9uLFIucXVhdGVybmlvbixSLnNjYWxlKSxSLnRyYW5zbGF0ZVgocSksUi50cmFuc2xhdGVaKGopLFIubWF0cml4V29ybGQuY29tcG9zZShSLnBvc2l0aW9uLFIucXVhdGVybmlvbixSLnNjYWxlKSxSLm1hdHJpeFdvcmxkSW52ZXJzZS5jb3B5KFIubWF0cml4V29ybGQpLmludmVydCgpO2NvbnN0IGZlPXplK2osbGU9YmUraixBZT1yZS1xLFBlPVorKHRlLXEpLEllPVYqYmUvbGUqZmUsVGU9WmUqYmUvbGUqZmU7Ui5wcm9qZWN0aW9uTWF0cml4Lm1ha2VQZXJzcGVjdGl2ZShBZSxQZSxJZSxUZSxmZSxsZSl9ZnVuY3Rpb24gTihSLFgpe1g9PT1udWxsP1IubWF0cml4V29ybGQuY29weShSLm1hdHJpeCk6Ui5tYXRyaXhXb3JsZC5tdWx0aXBseU1hdHJpY2VzKFgubWF0cml4V29ybGQsUi5tYXRyaXgpLFIubWF0cml4V29ybGRJbnZlcnNlLmNvcHkoUi5tYXRyaXhXb3JsZCkuaW52ZXJ0KCl9dGhpcy51cGRhdGVDYW1lcmE9ZnVuY3Rpb24oUil7aWYocz09PW51bGwpcmV0dXJuO2IubmVhcj1ULm5lYXI9eS5uZWFyPVIubmVhcixiLmZhcj1ULmZhcj15LmZhcj1SLmZhciwoTCE9PWIubmVhcnx8UCE9PWIuZmFyKSYmKHMudXBkYXRlUmVuZGVyU3RhdGUoe2RlcHRoTmVhcjpiLm5lYXIsZGVwdGhGYXI6Yi5mYXJ9KSxMPWIubmVhcixQPWIuZmFyKTtjb25zdCBYPVIucGFyZW50LEo9Yi5jYW1lcmFzO04oYixYKTtmb3IobGV0IFE9MDtRPEoubGVuZ3RoO1ErKylOKEpbUV0sWCk7Yi5tYXRyaXhXb3JsZC5kZWNvbXBvc2UoYi5wb3NpdGlvbixiLnF1YXRlcm5pb24sYi5zY2FsZSksUi5wb3NpdGlvbi5jb3B5KGIucG9zaXRpb24pLFIucXVhdGVybmlvbi5jb3B5KGIucXVhdGVybmlvbiksUi5zY2FsZS5jb3B5KGIuc2NhbGUpLFIubWF0cml4LmNvcHkoYi5tYXRyaXgpLFIubWF0cml4V29ybGQuY29weShiLm1hdHJpeFdvcmxkKTtjb25zdCB0ZT1SLmNoaWxkcmVuO2ZvcihsZXQgUT0wLHZlPXRlLmxlbmd0aDtRPHZlO1ErKyl0ZVtRXS51cGRhdGVNYXRyaXhXb3JsZCghMCk7Si5sZW5ndGg9PT0yP1koYix5LFQpOmIucHJvamVjdGlvbk1hdHJpeC5jb3B5KHkucHJvamVjdGlvbk1hdHJpeCl9LHRoaXMuZ2V0Q2FtZXJhPWZ1bmN0aW9uKCl7cmV0dXJuIGJ9LHRoaXMuZ2V0Rm92ZWF0aW9uPWZ1bmN0aW9uKCl7aWYoYyE9PW51bGwpcmV0dXJuIGMuZml4ZWRGb3ZlYXRpb247aWYodSE9PW51bGwpcmV0dXJuIHUuZml4ZWRGb3ZlYXRpb259LHRoaXMuc2V0Rm92ZWF0aW9uPWZ1bmN0aW9uKFIpe2MhPT1udWxsJiYoYy5maXhlZEZvdmVhdGlvbj1SKSx1IT09bnVsbCYmdS5maXhlZEZvdmVhdGlvbiE9PXZvaWQgMCYmKHUuZml4ZWRGb3ZlYXRpb249Uil9O2xldCBVPW51bGw7ZnVuY3Rpb24gQihSLFgpe2lmKGg9WC5nZXRWaWV3ZXJQb3NlKG4pLGQ9WCxoIT09bnVsbCl7Y29uc3QgdGU9aC52aWV3czt1IT09bnVsbCYmKGUuc2V0UmVuZGVyVGFyZ2V0RnJhbWVidWZmZXIoZix1LmZyYW1lYnVmZmVyKSxlLnNldFJlbmRlclRhcmdldChmKSk7bGV0IFE9ITE7dGUubGVuZ3RoIT09Yi5jYW1lcmFzLmxlbmd0aCYmKGIuY2FtZXJhcy5sZW5ndGg9MCxRPSEwKTtmb3IobGV0IHZlPTA7dmU8dGUubGVuZ3RoO3ZlKyspe2NvbnN0IHplPXRlW3ZlXTtsZXQgYmU9bnVsbDtpZih1IT09bnVsbCliZT11LmdldFZpZXdwb3J0KHplKTtlbHNle2NvbnN0IFplPWwuZ2V0Vmlld1N1YkltYWdlKGMsemUpO2JlPVplLnZpZXdwb3J0LHZlPT09MCYmKGUuc2V0UmVuZGVyVGFyZ2V0VGV4dHVyZXMoZixaZS5jb2xvclRleHR1cmUsYy5pZ25vcmVEZXB0aFZhbHVlcz92b2lkIDA6WmUuZGVwdGhTdGVuY2lsVGV4dHVyZSksZS5zZXRSZW5kZXJUYXJnZXQoZikpfWNvbnN0IFY9d1t2ZV07Vi5tYXRyaXguZnJvbUFycmF5KHplLnRyYW5zZm9ybS5tYXRyaXgpLFYucHJvamVjdGlvbk1hdHJpeC5mcm9tQXJyYXkoemUucHJvamVjdGlvbk1hdHJpeCksVi52aWV3cG9ydC5zZXQoYmUueCxiZS55LGJlLndpZHRoLGJlLmhlaWdodCksdmU9PT0wJiZiLm1hdHJpeC5jb3B5KFYubWF0cml4KSxRPT09ITAmJmIuY2FtZXJhcy5wdXNoKFYpfX1jb25zdCBKPXMuaW5wdXRTb3VyY2VzO2ZvcihsZXQgdGU9MDt0ZTxtLmxlbmd0aDt0ZSsrKXtjb25zdCBRPW1bdGVdLHZlPUpbdGVdO1EudXBkYXRlKHZlLFgsbil9VSYmVShSLFgpLGQ9bnVsbH1jb25zdCBHPW5ldyBPbDtHLnNldEFuaW1hdGlvbkxvb3AoQiksdGhpcy5zZXRBbmltYXRpb25Mb29wPWZ1bmN0aW9uKFIpe1U9Un0sdGhpcy5kaXNwb3NlPWZ1bmN0aW9uKCl7fX19ZnVuY3Rpb24gTnkoaSxlKXtmdW5jdGlvbiB0KGYsbSl7Zi5mb2dDb2xvci52YWx1ZS5jb3B5KG0uY29sb3IpLG0uaXNGb2c/KGYuZm9nTmVhci52YWx1ZT1tLm5lYXIsZi5mb2dGYXIudmFsdWU9bS5mYXIpOm0uaXNGb2dFeHAyJiYoZi5mb2dEZW5zaXR5LnZhbHVlPW0uZGVuc2l0eSl9ZnVuY3Rpb24gcihmLG0sdix5LFQpe20uaXNNZXNoQmFzaWNNYXRlcmlhbHx8bS5pc01lc2hMYW1iZXJ0TWF0ZXJpYWw/cyhmLG0pOm0uaXNNZXNoVG9vbk1hdGVyaWFsPyhzKGYsbSksYyhmLG0pKTptLmlzTWVzaFBob25nTWF0ZXJpYWw/KHMoZixtKSxsKGYsbSkpOm0uaXNNZXNoU3RhbmRhcmRNYXRlcmlhbD8ocyhmLG0pLHUoZixtKSxtLmlzTWVzaFBoeXNpY2FsTWF0ZXJpYWwmJmQoZixtLFQpKTptLmlzTWVzaE1hdGNhcE1hdGVyaWFsPyhzKGYsbSkscChmLG0pKTptLmlzTWVzaERlcHRoTWF0ZXJpYWw/cyhmLG0pOm0uaXNNZXNoRGlzdGFuY2VNYXRlcmlhbD8ocyhmLG0pLGcoZixtKSk6bS5pc01lc2hOb3JtYWxNYXRlcmlhbD9zKGYsbSk6bS5pc0xpbmVCYXNpY01hdGVyaWFsPyhhKGYsbSksbS5pc0xpbmVEYXNoZWRNYXRlcmlhbCYmbihmLG0pKTptLmlzUG9pbnRzTWF0ZXJpYWw/byhmLG0sdix5KTptLmlzU3ByaXRlTWF0ZXJpYWw/aChmLG0pOm0uaXNTaGFkb3dNYXRlcmlhbD8oZi5jb2xvci52YWx1ZS5jb3B5KG0uY29sb3IpLGYub3BhY2l0eS52YWx1ZT1tLm9wYWNpdHkpOm0uaXNTaGFkZXJNYXRlcmlhbCYmKG0udW5pZm9ybXNOZWVkVXBkYXRlPSExKX1mdW5jdGlvbiBzKGYsbSl7Zi5vcGFjaXR5LnZhbHVlPW0ub3BhY2l0eSxtLmNvbG9yJiZmLmRpZmZ1c2UudmFsdWUuY29weShtLmNvbG9yKSxtLmVtaXNzaXZlJiZmLmVtaXNzaXZlLnZhbHVlLmNvcHkobS5lbWlzc2l2ZSkubXVsdGlwbHlTY2FsYXIobS5lbWlzc2l2ZUludGVuc2l0eSksbS5tYXAmJihmLm1hcC52YWx1ZT1tLm1hcCksbS5hbHBoYU1hcCYmKGYuYWxwaGFNYXAudmFsdWU9bS5hbHBoYU1hcCksbS5idW1wTWFwJiYoZi5idW1wTWFwLnZhbHVlPW0uYnVtcE1hcCxmLmJ1bXBTY2FsZS52YWx1ZT1tLmJ1bXBTY2FsZSxtLnNpZGU9PT1qdCYmKGYuYnVtcFNjYWxlLnZhbHVlKj0tMSkpLG0uZGlzcGxhY2VtZW50TWFwJiYoZi5kaXNwbGFjZW1lbnRNYXAudmFsdWU9bS5kaXNwbGFjZW1lbnRNYXAsZi5kaXNwbGFjZW1lbnRTY2FsZS52YWx1ZT1tLmRpc3BsYWNlbWVudFNjYWxlLGYuZGlzcGxhY2VtZW50Qmlhcy52YWx1ZT1tLmRpc3BsYWNlbWVudEJpYXMpLG0uZW1pc3NpdmVNYXAmJihmLmVtaXNzaXZlTWFwLnZhbHVlPW0uZW1pc3NpdmVNYXApLG0ubm9ybWFsTWFwJiYoZi5ub3JtYWxNYXAudmFsdWU9bS5ub3JtYWxNYXAsZi5ub3JtYWxTY2FsZS52YWx1ZS5jb3B5KG0ubm9ybWFsU2NhbGUpLG0uc2lkZT09PWp0JiZmLm5vcm1hbFNjYWxlLnZhbHVlLm5lZ2F0ZSgpKSxtLnNwZWN1bGFyTWFwJiYoZi5zcGVjdWxhck1hcC52YWx1ZT1tLnNwZWN1bGFyTWFwKSxtLmFscGhhVGVzdD4wJiYoZi5hbHBoYVRlc3QudmFsdWU9bS5hbHBoYVRlc3QpO2NvbnN0IHY9ZS5nZXQobSkuZW52TWFwO2lmKHYmJihmLmVudk1hcC52YWx1ZT12LGYuZmxpcEVudk1hcC52YWx1ZT12LmlzQ3ViZVRleHR1cmUmJnYuaXNSZW5kZXJUYXJnZXRUZXh0dXJlPT09ITE/LTE6MSxmLnJlZmxlY3Rpdml0eS52YWx1ZT1tLnJlZmxlY3Rpdml0eSxmLmlvci52YWx1ZT1tLmlvcixmLnJlZnJhY3Rpb25SYXRpby52YWx1ZT1tLnJlZnJhY3Rpb25SYXRpbyksbS5saWdodE1hcCl7Zi5saWdodE1hcC52YWx1ZT1tLmxpZ2h0TWFwO2NvbnN0IHc9aS5waHlzaWNhbGx5Q29ycmVjdExpZ2h0cyE9PSEwP01hdGguUEk6MTtmLmxpZ2h0TWFwSW50ZW5zaXR5LnZhbHVlPW0ubGlnaHRNYXBJbnRlbnNpdHkqd31tLmFvTWFwJiYoZi5hb01hcC52YWx1ZT1tLmFvTWFwLGYuYW9NYXBJbnRlbnNpdHkudmFsdWU9bS5hb01hcEludGVuc2l0eSk7bGV0IHk7bS5tYXA/eT1tLm1hcDptLnNwZWN1bGFyTWFwP3k9bS5zcGVjdWxhck1hcDptLmRpc3BsYWNlbWVudE1hcD95PW0uZGlzcGxhY2VtZW50TWFwOm0ubm9ybWFsTWFwP3k9bS5ub3JtYWxNYXA6bS5idW1wTWFwP3k9bS5idW1wTWFwOm0ucm91Z2huZXNzTWFwP3k9bS5yb3VnaG5lc3NNYXA6bS5tZXRhbG5lc3NNYXA/eT1tLm1ldGFsbmVzc01hcDptLmFscGhhTWFwP3k9bS5hbHBoYU1hcDptLmVtaXNzaXZlTWFwP3k9bS5lbWlzc2l2ZU1hcDptLmNsZWFyY29hdE1hcD95PW0uY2xlYXJjb2F0TWFwOm0uY2xlYXJjb2F0Tm9ybWFsTWFwP3k9bS5jbGVhcmNvYXROb3JtYWxNYXA6bS5jbGVhcmNvYXRSb3VnaG5lc3NNYXA/eT1tLmNsZWFyY29hdFJvdWdobmVzc01hcDptLnNwZWN1bGFySW50ZW5zaXR5TWFwP3k9bS5zcGVjdWxhckludGVuc2l0eU1hcDptLnNwZWN1bGFyQ29sb3JNYXA/eT1tLnNwZWN1bGFyQ29sb3JNYXA6bS50cmFuc21pc3Npb25NYXA/eT1tLnRyYW5zbWlzc2lvbk1hcDptLnRoaWNrbmVzc01hcD95PW0udGhpY2tuZXNzTWFwOm0uc2hlZW5Db2xvck1hcD95PW0uc2hlZW5Db2xvck1hcDptLnNoZWVuUm91Z2huZXNzTWFwJiYoeT1tLnNoZWVuUm91Z2huZXNzTWFwKSx5IT09dm9pZCAwJiYoeS5pc1dlYkdMUmVuZGVyVGFyZ2V0JiYoeT15LnRleHR1cmUpLHkubWF0cml4QXV0b1VwZGF0ZT09PSEwJiZ5LnVwZGF0ZU1hdHJpeCgpLGYudXZUcmFuc2Zvcm0udmFsdWUuY29weSh5Lm1hdHJpeCkpO2xldCBUO20uYW9NYXA/VD1tLmFvTWFwOm0ubGlnaHRNYXAmJihUPW0ubGlnaHRNYXApLFQhPT12b2lkIDAmJihULmlzV2ViR0xSZW5kZXJUYXJnZXQmJihUPVQudGV4dHVyZSksVC5tYXRyaXhBdXRvVXBkYXRlPT09ITAmJlQudXBkYXRlTWF0cml4KCksZi51djJUcmFuc2Zvcm0udmFsdWUuY29weShULm1hdHJpeCkpfWZ1bmN0aW9uIGEoZixtKXtmLmRpZmZ1c2UudmFsdWUuY29weShtLmNvbG9yKSxmLm9wYWNpdHkudmFsdWU9bS5vcGFjaXR5fWZ1bmN0aW9uIG4oZixtKXtmLmRhc2hTaXplLnZhbHVlPW0uZGFzaFNpemUsZi50b3RhbFNpemUudmFsdWU9bS5kYXNoU2l6ZSttLmdhcFNpemUsZi5zY2FsZS52YWx1ZT1tLnNjYWxlfWZ1bmN0aW9uIG8oZixtLHYseSl7Zi5kaWZmdXNlLnZhbHVlLmNvcHkobS5jb2xvciksZi5vcGFjaXR5LnZhbHVlPW0ub3BhY2l0eSxmLnNpemUudmFsdWU9bS5zaXplKnYsZi5zY2FsZS52YWx1ZT15Ki41LG0ubWFwJiYoZi5tYXAudmFsdWU9bS5tYXApLG0uYWxwaGFNYXAmJihmLmFscGhhTWFwLnZhbHVlPW0uYWxwaGFNYXApLG0uYWxwaGFUZXN0PjAmJihmLmFscGhhVGVzdC52YWx1ZT1tLmFscGhhVGVzdCk7bGV0IFQ7bS5tYXA/VD1tLm1hcDptLmFscGhhTWFwJiYoVD1tLmFscGhhTWFwKSxUIT09dm9pZCAwJiYoVC5tYXRyaXhBdXRvVXBkYXRlPT09ITAmJlQudXBkYXRlTWF0cml4KCksZi51dlRyYW5zZm9ybS52YWx1ZS5jb3B5KFQubWF0cml4KSl9ZnVuY3Rpb24gaChmLG0pe2YuZGlmZnVzZS52YWx1ZS5jb3B5KG0uY29sb3IpLGYub3BhY2l0eS52YWx1ZT1tLm9wYWNpdHksZi5yb3RhdGlvbi52YWx1ZT1tLnJvdGF0aW9uLG0ubWFwJiYoZi5tYXAudmFsdWU9bS5tYXApLG0uYWxwaGFNYXAmJihmLmFscGhhTWFwLnZhbHVlPW0uYWxwaGFNYXApLG0uYWxwaGFUZXN0PjAmJihmLmFscGhhVGVzdC52YWx1ZT1tLmFscGhhVGVzdCk7bGV0IHY7bS5tYXA/dj1tLm1hcDptLmFscGhhTWFwJiYodj1tLmFscGhhTWFwKSx2IT09dm9pZCAwJiYodi5tYXRyaXhBdXRvVXBkYXRlPT09ITAmJnYudXBkYXRlTWF0cml4KCksZi51dlRyYW5zZm9ybS52YWx1ZS5jb3B5KHYubWF0cml4KSl9ZnVuY3Rpb24gbChmLG0pe2Yuc3BlY3VsYXIudmFsdWUuY29weShtLnNwZWN1bGFyKSxmLnNoaW5pbmVzcy52YWx1ZT1NYXRoLm1heChtLnNoaW5pbmVzcywxZS00KX1mdW5jdGlvbiBjKGYsbSl7bS5ncmFkaWVudE1hcCYmKGYuZ3JhZGllbnRNYXAudmFsdWU9bS5ncmFkaWVudE1hcCl9ZnVuY3Rpb24gdShmLG0pe2Yucm91Z2huZXNzLnZhbHVlPW0ucm91Z2huZXNzLGYubWV0YWxuZXNzLnZhbHVlPW0ubWV0YWxuZXNzLG0ucm91Z2huZXNzTWFwJiYoZi5yb3VnaG5lc3NNYXAudmFsdWU9bS5yb3VnaG5lc3NNYXApLG0ubWV0YWxuZXNzTWFwJiYoZi5tZXRhbG5lc3NNYXAudmFsdWU9bS5tZXRhbG5lc3NNYXApLGUuZ2V0KG0pLmVudk1hcCYmKGYuZW52TWFwSW50ZW5zaXR5LnZhbHVlPW0uZW52TWFwSW50ZW5zaXR5KX1mdW5jdGlvbiBkKGYsbSx2KXtmLmlvci52YWx1ZT1tLmlvcixtLnNoZWVuPjAmJihmLnNoZWVuQ29sb3IudmFsdWUuY29weShtLnNoZWVuQ29sb3IpLm11bHRpcGx5U2NhbGFyKG0uc2hlZW4pLGYuc2hlZW5Sb3VnaG5lc3MudmFsdWU9bS5zaGVlblJvdWdobmVzcyxtLnNoZWVuQ29sb3JNYXAmJihmLnNoZWVuQ29sb3JNYXAudmFsdWU9bS5zaGVlbkNvbG9yTWFwKSxtLnNoZWVuUm91Z2huZXNzTWFwJiYoZi5zaGVlblJvdWdobmVzc01hcC52YWx1ZT1tLnNoZWVuUm91Z2huZXNzTWFwKSksbS5jbGVhcmNvYXQ+MCYmKGYuY2xlYXJjb2F0LnZhbHVlPW0uY2xlYXJjb2F0LGYuY2xlYXJjb2F0Um91Z2huZXNzLnZhbHVlPW0uY2xlYXJjb2F0Um91Z2huZXNzLG0uY2xlYXJjb2F0TWFwJiYoZi5jbGVhcmNvYXRNYXAudmFsdWU9bS5jbGVhcmNvYXRNYXApLG0uY2xlYXJjb2F0Um91Z2huZXNzTWFwJiYoZi5jbGVhcmNvYXRSb3VnaG5lc3NNYXAudmFsdWU9bS5jbGVhcmNvYXRSb3VnaG5lc3NNYXApLG0uY2xlYXJjb2F0Tm9ybWFsTWFwJiYoZi5jbGVhcmNvYXROb3JtYWxTY2FsZS52YWx1ZS5jb3B5KG0uY2xlYXJjb2F0Tm9ybWFsU2NhbGUpLGYuY2xlYXJjb2F0Tm9ybWFsTWFwLnZhbHVlPW0uY2xlYXJjb2F0Tm9ybWFsTWFwLG0uc2lkZT09PWp0JiZmLmNsZWFyY29hdE5vcm1hbFNjYWxlLnZhbHVlLm5lZ2F0ZSgpKSksbS50cmFuc21pc3Npb24+MCYmKGYudHJhbnNtaXNzaW9uLnZhbHVlPW0udHJhbnNtaXNzaW9uLGYudHJhbnNtaXNzaW9uU2FtcGxlck1hcC52YWx1ZT12LnRleHR1cmUsZi50cmFuc21pc3Npb25TYW1wbGVyU2l6ZS52YWx1ZS5zZXQodi53aWR0aCx2LmhlaWdodCksbS50cmFuc21pc3Npb25NYXAmJihmLnRyYW5zbWlzc2lvbk1hcC52YWx1ZT1tLnRyYW5zbWlzc2lvbk1hcCksZi50aGlja25lc3MudmFsdWU9bS50aGlja25lc3MsbS50aGlja25lc3NNYXAmJihmLnRoaWNrbmVzc01hcC52YWx1ZT1tLnRoaWNrbmVzc01hcCksZi5hdHRlbnVhdGlvbkRpc3RhbmNlLnZhbHVlPW0uYXR0ZW51YXRpb25EaXN0YW5jZSxmLmF0dGVudWF0aW9uQ29sb3IudmFsdWUuY29weShtLmF0dGVudWF0aW9uQ29sb3IpKSxmLnNwZWN1bGFySW50ZW5zaXR5LnZhbHVlPW0uc3BlY3VsYXJJbnRlbnNpdHksZi5zcGVjdWxhckNvbG9yLnZhbHVlLmNvcHkobS5zcGVjdWxhckNvbG9yKSxtLnNwZWN1bGFySW50ZW5zaXR5TWFwJiYoZi5zcGVjdWxhckludGVuc2l0eU1hcC52YWx1ZT1tLnNwZWN1bGFySW50ZW5zaXR5TWFwKSxtLnNwZWN1bGFyQ29sb3JNYXAmJihmLnNwZWN1bGFyQ29sb3JNYXAudmFsdWU9bS5zcGVjdWxhckNvbG9yTWFwKX1mdW5jdGlvbiBwKGYsbSl7bS5tYXRjYXAmJihmLm1hdGNhcC52YWx1ZT1tLm1hdGNhcCl9ZnVuY3Rpb24gZyhmLG0pe2YucmVmZXJlbmNlUG9zaXRpb24udmFsdWUuY29weShtLnJlZmVyZW5jZVBvc2l0aW9uKSxmLm5lYXJEaXN0YW5jZS52YWx1ZT1tLm5lYXJEaXN0YW5jZSxmLmZhckRpc3RhbmNlLnZhbHVlPW0uZmFyRGlzdGFuY2V9cmV0dXJue3JlZnJlc2hGb2dVbmlmb3Jtczp0LHJlZnJlc2hNYXRlcmlhbFVuaWZvcm1zOnJ9fWZ1bmN0aW9uIER5KCl7Y29uc3QgaT1UcygiY2FudmFzIik7cmV0dXJuIGkuc3R5bGUuZGlzcGxheT0iYmxvY2siLGl9ZnVuY3Rpb24gSmUoaT17fSl7Y29uc3QgZT1pLmNhbnZhcyE9PXZvaWQgMD9pLmNhbnZhczpEeSgpLHQ9aS5jb250ZXh0IT09dm9pZCAwP2kuY29udGV4dDpudWxsLHI9aS5kZXB0aCE9PXZvaWQgMD9pLmRlcHRoOiEwLHM9aS5zdGVuY2lsIT09dm9pZCAwP2kuc3RlbmNpbDohMCxhPWkuYW50aWFsaWFzIT09dm9pZCAwP2kuYW50aWFsaWFzOiExLG49aS5wcmVtdWx0aXBsaWVkQWxwaGEhPT12b2lkIDA/aS5wcmVtdWx0aXBsaWVkQWxwaGE6ITAsbz1pLnByZXNlcnZlRHJhd2luZ0J1ZmZlciE9PXZvaWQgMD9pLnByZXNlcnZlRHJhd2luZ0J1ZmZlcjohMSxoPWkucG93ZXJQcmVmZXJlbmNlIT09dm9pZCAwP2kucG93ZXJQcmVmZXJlbmNlOiJkZWZhdWx0IixsPWkuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCE9PXZvaWQgMD9pLmZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6ITE7bGV0IGM7aS5jb250ZXh0IT09dm9pZCAwP2M9dC5nZXRDb250ZXh0QXR0cmlidXRlcygpLmFscGhhOmM9aS5hbHBoYSE9PXZvaWQgMD9pLmFscGhhOiExO2xldCB1PW51bGwsZD1udWxsO2NvbnN0IHA9W10sZz1bXTt0aGlzLmRvbUVsZW1lbnQ9ZSx0aGlzLmRlYnVnPXtjaGVja1NoYWRlckVycm9yczohMH0sdGhpcy5hdXRvQ2xlYXI9ITAsdGhpcy5hdXRvQ2xlYXJDb2xvcj0hMCx0aGlzLmF1dG9DbGVhckRlcHRoPSEwLHRoaXMuYXV0b0NsZWFyU3RlbmNpbD0hMCx0aGlzLnNvcnRPYmplY3RzPSEwLHRoaXMuY2xpcHBpbmdQbGFuZXM9W10sdGhpcy5sb2NhbENsaXBwaW5nRW5hYmxlZD0hMSx0aGlzLm91dHB1dEVuY29kaW5nPV9pLHRoaXMucGh5c2ljYWxseUNvcnJlY3RMaWdodHM9ITEsdGhpcy50b25lTWFwcGluZz14aSx0aGlzLnRvbmVNYXBwaW5nRXhwb3N1cmU9MTtjb25zdCBmPXRoaXM7bGV0IG09ITEsdj0wLHk9MCxUPW51bGwsdz0tMSxiPW51bGw7Y29uc3QgTD1uZXcgWGUsUD1uZXcgWGU7bGV0IGs9bnVsbCxpZT1lLndpZHRoLE89ZS5oZWlnaHQseD0xLEM9bnVsbCxZPW51bGw7Y29uc3QgTj1uZXcgWGUoMCwwLGllLE8pLFU9bmV3IFhlKDAsMCxpZSxPKTtsZXQgQj0hMTtjb25zdCBHPW5ldyBIYTtsZXQgUj0hMSxYPSExLEo9bnVsbDtjb25zdCB0ZT1uZXcgX2UsUT1uZXcgZWUsdmU9bmV3IEUsemU9e2JhY2tncm91bmQ6bnVsbCxmb2c6bnVsbCxlbnZpcm9ubWVudDpudWxsLG92ZXJyaWRlTWF0ZXJpYWw6bnVsbCxpc1NjZW5lOiEwfTtmdW5jdGlvbiBiZSgpe3JldHVybiBUPT09bnVsbD94OjF9bGV0IFY9dDtmdW5jdGlvbiBaZShNLEkpe2ZvcihsZXQgej0wO3o8TS5sZW5ndGg7eisrKXtjb25zdCBEPU1bel0sVz1lLmdldENvbnRleHQoRCxJKTtpZihXIT09bnVsbClyZXR1cm4gV31yZXR1cm4gbnVsbH10cnl7Y29uc3QgTT17YWxwaGE6ITAsZGVwdGg6cixzdGVuY2lsOnMsYW50aWFsaWFzOmEscHJlbXVsdGlwbGllZEFscGhhOm4scHJlc2VydmVEcmF3aW5nQnVmZmVyOm8scG93ZXJQcmVmZXJlbmNlOmgsZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDpsfTtpZigic2V0QXR0cmlidXRlImluIGUmJmUuc2V0QXR0cmlidXRlKCJkYXRhLWVuZ2luZSIsYHRocmVlLmpzIHIke3lufWApLGUuYWRkRXZlbnRMaXN0ZW5lcigid2ViZ2xjb250ZXh0bG9zdCIsQSwhMSksZS5hZGRFdmVudExpc3RlbmVyKCJ3ZWJnbGNvbnRleHRyZXN0b3JlZCIsaGUsITEpLFY9PT1udWxsKXtjb25zdCBJPVsid2ViZ2wyIiwid2ViZ2wiLCJleHBlcmltZW50YWwtd2ViZ2wiXTtpZihmLmlzV2ViR0wxUmVuZGVyZXI9PT0hMCYmSS5zaGlmdCgpLFY9WmUoSSxNKSxWPT09bnVsbCl0aHJvdyBaZShJKT9uZXcgRXJyb3IoIkVycm9yIGNyZWF0aW5nIFdlYkdMIGNvbnRleHQgd2l0aCB5b3VyIHNlbGVjdGVkIGF0dHJpYnV0ZXMuIik6bmV3IEVycm9yKCJFcnJvciBjcmVhdGluZyBXZWJHTCBjb250ZXh0LiIpfVYuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0PT09dm9pZCAwJiYoVi5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQ9ZnVuY3Rpb24oKXtyZXR1cm57cmFuZ2VNaW46MSxyYW5nZU1heDoxLHByZWNpc2lvbjoxfX0pfWNhdGNoKE0pe3Rocm93IGNvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMUmVuZGVyZXI6ICIrTS5tZXNzYWdlKSxNfWxldCBPZSx5ZSxyZSxaLGoscSxmZSxsZSxBZSxQZSxJZSxUZSxLZSxMdCxTLF8sRiwkLGNlLGRlLE1lLEgsTmU7ZnVuY3Rpb24gQmUoKXtPZT1uZXcgUXgoVikseWU9bmV3IHF4KFYsT2UsaSksT2UuaW5pdCh5ZSksSD1uZXcgUnkoVixPZSx5ZSkscmU9bmV3IEN5KFYsT2UseWUpLFo9bmV3IHRfKFYpLGo9bmV3IHZ5LHE9bmV3IEx5KFYsT2UscmUsaix5ZSxILFopLGZlPW5ldyBKeChmKSxsZT1uZXcgS3goZiksQWU9bmV3IG0wKFYseWUpLE5lPW5ldyBXeChWLE9lLEFlLHllKSxQZT1uZXcgJHgoVixBZSxaLE5lKSxJZT1uZXcgYV8oVixQZSxBZSxaKSxjZT1uZXcgc18oVix5ZSxxKSxfPW5ldyBYeChqKSxUZT1uZXcgZ3koZixmZSxsZSxPZSx5ZSxOZSxfKSxLZT1uZXcgTnkoZixqKSxMdD1uZXcgX3ksUz1uZXcgRXkoT2UseWUpLCQ9bmV3IFZ4KGYsZmUscmUsSWUsYyxuKSxGPW5ldyB1YyhmLEllLHllKSxkZT1uZXcgangoVixPZSxaLHllKSxNZT1uZXcgZV8oVixPZSxaLHllKSxaLnByb2dyYW1zPVRlLnByb2dyYW1zLGYuY2FwYWJpbGl0aWVzPXllLGYuZXh0ZW5zaW9ucz1PZSxmLnByb3BlcnRpZXM9aixmLnJlbmRlckxpc3RzPUx0LGYuc2hhZG93TWFwPUYsZi5zdGF0ZT1yZSxmLmluZm89Wn1CZSgpO2NvbnN0IG1lPW5ldyBJeShmLFYpO3RoaXMueHI9bWUsdGhpcy5nZXRDb250ZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIFZ9LHRoaXMuZ2V0Q29udGV4dEF0dHJpYnV0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gVi5nZXRDb250ZXh0QXR0cmlidXRlcygpfSx0aGlzLmZvcmNlQ29udGV4dExvc3M9ZnVuY3Rpb24oKXtjb25zdCBNPU9lLmdldCgiV0VCR0xfbG9zZV9jb250ZXh0Iik7TSYmTS5sb3NlQ29udGV4dCgpfSx0aGlzLmZvcmNlQ29udGV4dFJlc3RvcmU9ZnVuY3Rpb24oKXtjb25zdCBNPU9lLmdldCgiV0VCR0xfbG9zZV9jb250ZXh0Iik7TSYmTS5yZXN0b3JlQ29udGV4dCgpfSx0aGlzLmdldFBpeGVsUmF0aW89ZnVuY3Rpb24oKXtyZXR1cm4geH0sdGhpcy5zZXRQaXhlbFJhdGlvPWZ1bmN0aW9uKE0pe00hPT12b2lkIDAmJih4PU0sdGhpcy5zZXRTaXplKGllLE8sITEpKX0sdGhpcy5nZXRTaXplPWZ1bmN0aW9uKE0pe3JldHVybiBNLnNldChpZSxPKX0sdGhpcy5zZXRTaXplPWZ1bmN0aW9uKE0sSSx6KXtpZihtZS5pc1ByZXNlbnRpbmcpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogQ2FuJ3QgY2hhbmdlIHNpemUgd2hpbGUgVlIgZGV2aWNlIGlzIHByZXNlbnRpbmcuIik7cmV0dXJufWllPU0sTz1JLGUud2lkdGg9TWF0aC5mbG9vcihNKngpLGUuaGVpZ2h0PU1hdGguZmxvb3IoSSp4KSx6IT09ITEmJihlLnN0eWxlLndpZHRoPU0rInB4IixlLnN0eWxlLmhlaWdodD1JKyJweCIpLHRoaXMuc2V0Vmlld3BvcnQoMCwwLE0sSSl9LHRoaXMuZ2V0RHJhd2luZ0J1ZmZlclNpemU9ZnVuY3Rpb24oTSl7cmV0dXJuIE0uc2V0KGllKngsTyp4KS5mbG9vcigpfSx0aGlzLnNldERyYXdpbmdCdWZmZXJTaXplPWZ1bmN0aW9uKE0sSSx6KXtpZT1NLE89SSx4PXosZS53aWR0aD1NYXRoLmZsb29yKE0qeiksZS5oZWlnaHQ9TWF0aC5mbG9vcihJKnopLHRoaXMuc2V0Vmlld3BvcnQoMCwwLE0sSSl9LHRoaXMuZ2V0Q3VycmVudFZpZXdwb3J0PWZ1bmN0aW9uKE0pe3JldHVybiBNLmNvcHkoTCl9LHRoaXMuZ2V0Vmlld3BvcnQ9ZnVuY3Rpb24oTSl7cmV0dXJuIE0uY29weShOKX0sdGhpcy5zZXRWaWV3cG9ydD1mdW5jdGlvbihNLEkseixEKXtNLmlzVmVjdG9yND9OLnNldChNLngsTS55LE0ueixNLncpOk4uc2V0KE0sSSx6LEQpLHJlLnZpZXdwb3J0KEwuY29weShOKS5tdWx0aXBseVNjYWxhcih4KS5mbG9vcigpKX0sdGhpcy5nZXRTY2lzc29yPWZ1bmN0aW9uKE0pe3JldHVybiBNLmNvcHkoVSl9LHRoaXMuc2V0U2Npc3Nvcj1mdW5jdGlvbihNLEkseixEKXtNLmlzVmVjdG9yND9VLnNldChNLngsTS55LE0ueixNLncpOlUuc2V0KE0sSSx6LEQpLHJlLnNjaXNzb3IoUC5jb3B5KFUpLm11bHRpcGx5U2NhbGFyKHgpLmZsb29yKCkpfSx0aGlzLmdldFNjaXNzb3JUZXN0PWZ1bmN0aW9uKCl7cmV0dXJuIEJ9LHRoaXMuc2V0U2Npc3NvclRlc3Q9ZnVuY3Rpb24oTSl7cmUuc2V0U2Npc3NvclRlc3QoQj1NKX0sdGhpcy5zZXRPcGFxdWVTb3J0PWZ1bmN0aW9uKE0pe0M9TX0sdGhpcy5zZXRUcmFuc3BhcmVudFNvcnQ9ZnVuY3Rpb24oTSl7WT1NfSx0aGlzLmdldENsZWFyQ29sb3I9ZnVuY3Rpb24oTSl7cmV0dXJuIE0uY29weSgkLmdldENsZWFyQ29sb3IoKSl9LHRoaXMuc2V0Q2xlYXJDb2xvcj1mdW5jdGlvbigpeyQuc2V0Q2xlYXJDb2xvci5hcHBseSgkLGFyZ3VtZW50cyl9LHRoaXMuZ2V0Q2xlYXJBbHBoYT1mdW5jdGlvbigpe3JldHVybiAkLmdldENsZWFyQWxwaGEoKX0sdGhpcy5zZXRDbGVhckFscGhhPWZ1bmN0aW9uKCl7JC5zZXRDbGVhckFscGhhLmFwcGx5KCQsYXJndW1lbnRzKX0sdGhpcy5jbGVhcj1mdW5jdGlvbihNPSEwLEk9ITAsej0hMCl7bGV0IEQ9MDtNJiYoRHw9MTYzODQpLEkmJihEfD0yNTYpLHomJihEfD0xMDI0KSxWLmNsZWFyKEQpfSx0aGlzLmNsZWFyQ29sb3I9ZnVuY3Rpb24oKXt0aGlzLmNsZWFyKCEwLCExLCExKX0sdGhpcy5jbGVhckRlcHRoPWZ1bmN0aW9uKCl7dGhpcy5jbGVhcighMSwhMCwhMSl9LHRoaXMuY2xlYXJTdGVuY2lsPWZ1bmN0aW9uKCl7dGhpcy5jbGVhcighMSwhMSwhMCl9LHRoaXMuZGlzcG9zZT1mdW5jdGlvbigpe2UucmVtb3ZlRXZlbnRMaXN0ZW5lcigid2ViZ2xjb250ZXh0bG9zdCIsQSwhMSksZS5yZW1vdmVFdmVudExpc3RlbmVyKCJ3ZWJnbGNvbnRleHRyZXN0b3JlZCIsaGUsITEpLEx0LmRpc3Bvc2UoKSxTLmRpc3Bvc2UoKSxqLmRpc3Bvc2UoKSxmZS5kaXNwb3NlKCksbGUuZGlzcG9zZSgpLEllLmRpc3Bvc2UoKSxOZS5kaXNwb3NlKCksVGUuZGlzcG9zZSgpLG1lLmRpc3Bvc2UoKSxtZS5yZW1vdmVFdmVudExpc3RlbmVyKCJzZXNzaW9uc3RhcnQiLENlKSxtZS5yZW1vdmVFdmVudExpc3RlbmVyKCJzZXNzaW9uZW5kIixrZSksSiYmKEouZGlzcG9zZSgpLEo9bnVsbCksWWUuc3RvcCgpfTtmdW5jdGlvbiBBKE0pe00ucHJldmVudERlZmF1bHQoKSxjb25zb2xlLmxvZygiVEhSRUUuV2ViR0xSZW5kZXJlcjogQ29udGV4dCBMb3N0LiIpLG09ITB9ZnVuY3Rpb24gaGUoKXtjb25zb2xlLmxvZygiVEhSRUUuV2ViR0xSZW5kZXJlcjogQ29udGV4dCBSZXN0b3JlZC4iKSxtPSExO2NvbnN0IE09Wi5hdXRvUmVzZXQsST1GLmVuYWJsZWQsej1GLmF1dG9VcGRhdGUsRD1GLm5lZWRzVXBkYXRlLFc9Ri50eXBlO0JlKCksWi5hdXRvUmVzZXQ9TSxGLmVuYWJsZWQ9SSxGLmF1dG9VcGRhdGU9eixGLm5lZWRzVXBkYXRlPUQsRi50eXBlPVd9ZnVuY3Rpb24gYWUoTSl7Y29uc3QgST1NLnRhcmdldDtJLnJlbW92ZUV2ZW50TGlzdGVuZXIoImRpc3Bvc2UiLGFlKSx3ZShJKX1mdW5jdGlvbiB3ZShNKXtwZShNKSxqLnJlbW92ZShNKX1mdW5jdGlvbiBwZShNKXtjb25zdCBJPWouZ2V0KE0pLnByb2dyYW1zO0khPT12b2lkIDAmJihJLmZvckVhY2goZnVuY3Rpb24oeil7VGUucmVsZWFzZVByb2dyYW0oeil9KSxNLmlzU2hhZGVyTWF0ZXJpYWwmJlRlLnJlbGVhc2VTaGFkZXJDYWNoZShNKSl9dGhpcy5yZW5kZXJCdWZmZXJEaXJlY3Q9ZnVuY3Rpb24oTSxJLHosRCxXLHhlKXtJPT09bnVsbCYmKEk9emUpO2NvbnN0IExlPVcuaXNNZXNoJiZXLm1hdHJpeFdvcmxkLmRldGVybWluYW50KCk8MCxSZT1mMShNLEkseixELFcpO3JlLnNldE1hdGVyaWFsKEQsTGUpO2xldCBVZT16LmluZGV4O2NvbnN0IHJ0PXouYXR0cmlidXRlcy5wb3NpdGlvbjtpZihVZT09PW51bGwpe2lmKHJ0PT09dm9pZCAwfHxydC5jb3VudD09PTApcmV0dXJufWVsc2UgaWYoVWUuY291bnQ9PT0wKXJldHVybjtsZXQgRmU9MTtELndpcmVmcmFtZT09PSEwJiYoVWU9UGUuZ2V0V2lyZWZyYW1lQXR0cmlidXRlKHopLEZlPTIpLE5lLnNldHVwKFcsRCxSZSx6LFVlKTtsZXQgSGUsbXQ9ZGU7VWUhPT1udWxsJiYoSGU9QWUuZ2V0KFVlKSxtdD1NZSxtdC5zZXRJbmRleChIZSkpO2NvbnN0IG9yPVVlIT09bnVsbD9VZS5jb3VudDpydC5jb3VudCxhcz16LmRyYXdSYW5nZS5zdGFydCpGZSxucz16LmRyYXdSYW5nZS5jb3VudCpGZSxkaT14ZSE9PW51bGw/eGUuc3RhcnQqRmU6MCxXZT14ZSE9PW51bGw/eGUuY291bnQqRmU6MS8wLG9zPU1hdGgubWF4KGFzLGRpKSxKcz1NYXRoLm1pbihvcixhcytucyxkaStXZSktMSxwaT1NYXRoLm1heCgwLEpzLW9zKzEpO2lmKHBpIT09MCl7aWYoVy5pc01lc2gpRC53aXJlZnJhbWU9PT0hMD8ocmUuc2V0TGluZVdpZHRoKEQud2lyZWZyYW1lTGluZXdpZHRoKmJlKCkpLG10LnNldE1vZGUoMSkpOm10LnNldE1vZGUoNCk7ZWxzZSBpZihXLmlzTGluZSl7bGV0IHFpPUQubGluZXdpZHRoO3FpPT09dm9pZCAwJiYocWk9MSkscmUuc2V0TGluZVdpZHRoKHFpKmJlKCkpLFcuaXNMaW5lU2VnbWVudHM/bXQuc2V0TW9kZSgxKTpXLmlzTGluZUxvb3A/bXQuc2V0TW9kZSgyKTptdC5zZXRNb2RlKDMpfWVsc2UgVy5pc1BvaW50cz9tdC5zZXRNb2RlKDApOlcuaXNTcHJpdGUmJm10LnNldE1vZGUoNCk7aWYoVy5pc0luc3RhbmNlZE1lc2gpbXQucmVuZGVySW5zdGFuY2VzKG9zLHBpLFcuY291bnQpO2Vsc2UgaWYoei5pc0luc3RhbmNlZEJ1ZmZlckdlb21ldHJ5KXtjb25zdCBxaT1NYXRoLm1pbih6Lmluc3RhbmNlQ291bnQsei5fbWF4SW5zdGFuY2VDb3VudCk7bXQucmVuZGVySW5zdGFuY2VzKG9zLHBpLHFpKX1lbHNlIG10LnJlbmRlcihvcyxwaSl9fSx0aGlzLmNvbXBpbGU9ZnVuY3Rpb24oTSxJKXtkPVMuZ2V0KE0pLGQuaW5pdCgpLGcucHVzaChkKSxNLnRyYXZlcnNlVmlzaWJsZShmdW5jdGlvbih6KXt6LmlzTGlnaHQmJnoubGF5ZXJzLnRlc3QoSS5sYXllcnMpJiYoZC5wdXNoTGlnaHQoeiksei5jYXN0U2hhZG93JiZkLnB1c2hTaGFkb3coeikpfSksZC5zZXR1cExpZ2h0cyhmLnBoeXNpY2FsbHlDb3JyZWN0TGlnaHRzKSxNLnRyYXZlcnNlKGZ1bmN0aW9uKHope2NvbnN0IEQ9ei5tYXRlcmlhbDtpZihEKWlmKEFycmF5LmlzQXJyYXkoRCkpZm9yKGxldCBXPTA7VzxELmxlbmd0aDtXKyspe2NvbnN0IHhlPURbV107cW8oeGUsTSx6KX1lbHNlIHFvKEQsTSx6KX0pLGcucG9wKCksZD1udWxsfTtsZXQgU2U9bnVsbDtmdW5jdGlvbiBzZShNKXtTZSYmU2UoTSl9ZnVuY3Rpb24gQ2UoKXtZZS5zdG9wKCl9ZnVuY3Rpb24ga2UoKXtZZS5zdGFydCgpfWNvbnN0IFllPW5ldyBPbDtZZS5zZXRBbmltYXRpb25Mb29wKHNlKSx0eXBlb2Ygc2VsZjwidSImJlllLnNldENvbnRleHQoc2VsZiksdGhpcy5zZXRBbmltYXRpb25Mb29wPWZ1bmN0aW9uKE0pe1NlPU0sbWUuc2V0QW5pbWF0aW9uTG9vcChNKSxNPT09bnVsbD9ZZS5zdG9wKCk6WWUuc3RhcnQoKX0sbWUuYWRkRXZlbnRMaXN0ZW5lcigic2Vzc2lvbnN0YXJ0IixDZSksbWUuYWRkRXZlbnRMaXN0ZW5lcigic2Vzc2lvbmVuZCIsa2UpLHRoaXMucmVuZGVyPWZ1bmN0aW9uKE0sSSl7aWYoSSE9PXZvaWQgMCYmSS5pc0NhbWVyYSE9PSEwKXtjb25zb2xlLmVycm9yKCJUSFJFRS5XZWJHTFJlbmRlcmVyLnJlbmRlcjogY2FtZXJhIGlzIG5vdCBhbiBpbnN0YW5jZSBvZiBUSFJFRS5DYW1lcmEuIik7cmV0dXJufWlmKG09PT0hMClyZXR1cm47TS5hdXRvVXBkYXRlPT09ITAmJk0udXBkYXRlTWF0cml4V29ybGQoKSxJLnBhcmVudD09PW51bGwmJkkudXBkYXRlTWF0cml4V29ybGQoKSxtZS5lbmFibGVkPT09ITAmJm1lLmlzUHJlc2VudGluZz09PSEwJiYobWUuY2FtZXJhQXV0b1VwZGF0ZT09PSEwJiZtZS51cGRhdGVDYW1lcmEoSSksST1tZS5nZXRDYW1lcmEoKSksTS5pc1NjZW5lPT09ITAmJk0ub25CZWZvcmVSZW5kZXIoZixNLEksVCksZD1TLmdldChNLGcubGVuZ3RoKSxkLmluaXQoKSxnLnB1c2goZCksdGUubXVsdGlwbHlNYXRyaWNlcyhJLnByb2plY3Rpb25NYXRyaXgsSS5tYXRyaXhXb3JsZEludmVyc2UpLEcuc2V0RnJvbVByb2plY3Rpb25NYXRyaXgodGUpLFg9dGhpcy5sb2NhbENsaXBwaW5nRW5hYmxlZCxSPV8uaW5pdCh0aGlzLmNsaXBwaW5nUGxhbmVzLFgsSSksdT1MdC5nZXQoTSxwLmxlbmd0aCksdS5pbml0KCkscC5wdXNoKHUpLGNpKE0sSSwwLGYuc29ydE9iamVjdHMpLHUuZmluaXNoKCksZi5zb3J0T2JqZWN0cz09PSEwJiZ1LnNvcnQoQyxZKSxSPT09ITAmJl8uYmVnaW5TaGFkb3dzKCk7Y29uc3Qgej1kLnN0YXRlLnNoYWRvd3NBcnJheTtpZihGLnJlbmRlcih6LE0sSSksUj09PSEwJiZfLmVuZFNoYWRvd3MoKSx0aGlzLmluZm8uYXV0b1Jlc2V0PT09ITAmJnRoaXMuaW5mby5yZXNldCgpLCQucmVuZGVyKHUsTSksZC5zZXR1cExpZ2h0cyhmLnBoeXNpY2FsbHlDb3JyZWN0TGlnaHRzKSxJLmlzQXJyYXlDYW1lcmEpe2NvbnN0IEQ9SS5jYW1lcmFzO2ZvcihsZXQgVz0wLHhlPUQubGVuZ3RoO1c8eGU7VysrKXtjb25zdCBMZT1EW1ddO3VpKHUsTSxMZSxMZS52aWV3cG9ydCl9fWVsc2UgdWkodSxNLEkpO1QhPT1udWxsJiYocS51cGRhdGVNdWx0aXNhbXBsZVJlbmRlclRhcmdldChUKSxxLnVwZGF0ZVJlbmRlclRhcmdldE1pcG1hcChUKSksTS5pc1NjZW5lPT09ITAmJk0ub25BZnRlclJlbmRlcihmLE0sSSksTmUucmVzZXREZWZhdWx0U3RhdGUoKSx3PS0xLGI9bnVsbCxnLnBvcCgpLGcubGVuZ3RoPjA/ZD1nW2cubGVuZ3RoLTFdOmQ9bnVsbCxwLnBvcCgpLHAubGVuZ3RoPjA/dT1wW3AubGVuZ3RoLTFdOnU9bnVsbH07ZnVuY3Rpb24gY2koTSxJLHosRCl7aWYoTS52aXNpYmxlPT09ITEpcmV0dXJuO2lmKE0ubGF5ZXJzLnRlc3QoSS5sYXllcnMpKXtpZihNLmlzR3JvdXApej1NLnJlbmRlck9yZGVyO2Vsc2UgaWYoTS5pc0xPRClNLmF1dG9VcGRhdGU9PT0hMCYmTS51cGRhdGUoSSk7ZWxzZSBpZihNLmlzTGlnaHQpZC5wdXNoTGlnaHQoTSksTS5jYXN0U2hhZG93JiZkLnB1c2hTaGFkb3coTSk7ZWxzZSBpZihNLmlzU3ByaXRlKXtpZighTS5mcnVzdHVtQ3VsbGVkfHxHLmludGVyc2VjdHNTcHJpdGUoTSkpe0QmJnZlLnNldEZyb21NYXRyaXhQb3NpdGlvbihNLm1hdHJpeFdvcmxkKS5hcHBseU1hdHJpeDQodGUpO2NvbnN0IHhlPUllLnVwZGF0ZShNKSxMZT1NLm1hdGVyaWFsO0xlLnZpc2libGUmJnUucHVzaChNLHhlLExlLHosdmUueixudWxsKX19ZWxzZSBpZigoTS5pc01lc2h8fE0uaXNMaW5lfHxNLmlzUG9pbnRzKSYmKE0uaXNTa2lubmVkTWVzaCYmTS5za2VsZXRvbi5mcmFtZSE9PVoucmVuZGVyLmZyYW1lJiYoTS5za2VsZXRvbi51cGRhdGUoKSxNLnNrZWxldG9uLmZyYW1lPVoucmVuZGVyLmZyYW1lKSwhTS5mcnVzdHVtQ3VsbGVkfHxHLmludGVyc2VjdHNPYmplY3QoTSkpKXtEJiZ2ZS5zZXRGcm9tTWF0cml4UG9zaXRpb24oTS5tYXRyaXhXb3JsZCkuYXBwbHlNYXRyaXg0KHRlKTtjb25zdCB4ZT1JZS51cGRhdGUoTSksTGU9TS5tYXRlcmlhbDtpZihBcnJheS5pc0FycmF5KExlKSl7Y29uc3QgUmU9eGUuZ3JvdXBzO2ZvcihsZXQgVWU9MCxydD1SZS5sZW5ndGg7VWU8cnQ7VWUrKyl7Y29uc3QgRmU9UmVbVWVdLEhlPUxlW0ZlLm1hdGVyaWFsSW5kZXhdO0hlJiZIZS52aXNpYmxlJiZ1LnB1c2goTSx4ZSxIZSx6LHZlLnosRmUpfX1lbHNlIExlLnZpc2libGUmJnUucHVzaChNLHhlLExlLHosdmUueixudWxsKX19Y29uc3QgVz1NLmNoaWxkcmVuO2ZvcihsZXQgeGU9MCxMZT1XLmxlbmd0aDt4ZTxMZTt4ZSsrKWNpKFdbeGVdLEkseixEKX1mdW5jdGlvbiB1aShNLEkseixEKXtjb25zdCBXPU0ub3BhcXVlLHhlPU0udHJhbnNtaXNzaXZlLExlPU0udHJhbnNwYXJlbnQ7ZC5zZXR1cExpZ2h0c1ZpZXcoeikseGUubGVuZ3RoPjAmJmQxKFcsSSx6KSxEJiZyZS52aWV3cG9ydChMLmNvcHkoRCkpLFcubGVuZ3RoPjAmJm9uKFcsSSx6KSx4ZS5sZW5ndGg+MCYmb24oeGUsSSx6KSxMZS5sZW5ndGg+MCYmb24oTGUsSSx6KSxyZS5idWZmZXJzLmRlcHRoLnNldFRlc3QoITApLHJlLmJ1ZmZlcnMuZGVwdGguc2V0TWFzayghMCkscmUuYnVmZmVycy5jb2xvci5zZXRNYXNrKCEwKSxyZS5zZXRQb2x5Z29uT2Zmc2V0KCExKX1mdW5jdGlvbiBkMShNLEkseil7Y29uc3QgRD15ZS5pc1dlYkdMMjtKPT09bnVsbCYmKEo9bmV3IHp0KDEsMSx7Z2VuZXJhdGVNaXBtYXBzOiEwLHR5cGU6SC5jb252ZXJ0KFNyKSE9PW51bGw/U3I6SmksbWluRmlsdGVyOnVhLHNhbXBsZXM6RCYmYT09PSEwPzQ6MH0pKSxmLmdldERyYXdpbmdCdWZmZXJTaXplKFEpLEQ/Si5zZXRTaXplKFEueCxRLnkpOkouc2V0U2l6ZShCbihRLngpLEJuKFEueSkpO2NvbnN0IFc9Zi5nZXRSZW5kZXJUYXJnZXQoKTtmLnNldFJlbmRlclRhcmdldChKKSxmLmNsZWFyKCk7Y29uc3QgeGU9Zi50b25lTWFwcGluZztmLnRvbmVNYXBwaW5nPXhpLG9uKE0sSSx6KSxmLnRvbmVNYXBwaW5nPXhlLHEudXBkYXRlTXVsdGlzYW1wbGVSZW5kZXJUYXJnZXQoSikscS51cGRhdGVSZW5kZXJUYXJnZXRNaXBtYXAoSiksZi5zZXRSZW5kZXJUYXJnZXQoVyl9ZnVuY3Rpb24gb24oTSxJLHope2NvbnN0IEQ9SS5pc1NjZW5lPT09ITA/SS5vdmVycmlkZU1hdGVyaWFsOm51bGw7Zm9yKGxldCBXPTAseGU9TS5sZW5ndGg7Vzx4ZTtXKyspe2NvbnN0IExlPU1bV10sUmU9TGUub2JqZWN0LFVlPUxlLmdlb21ldHJ5LHJ0PUQ9PT1udWxsP0xlLm1hdGVyaWFsOkQsRmU9TGUuZ3JvdXA7UmUubGF5ZXJzLnRlc3Qoei5sYXllcnMpJiZwMShSZSxJLHosVWUscnQsRmUpfX1mdW5jdGlvbiBwMShNLEkseixELFcseGUpe00ub25CZWZvcmVSZW5kZXIoZixJLHosRCxXLHhlKSxNLm1vZGVsVmlld01hdHJpeC5tdWx0aXBseU1hdHJpY2VzKHoubWF0cml4V29ybGRJbnZlcnNlLE0ubWF0cml4V29ybGQpLE0ubm9ybWFsTWF0cml4LmdldE5vcm1hbE1hdHJpeChNLm1vZGVsVmlld01hdHJpeCksVy5vbkJlZm9yZVJlbmRlcihmLEkseixELE0seGUpLFcudHJhbnNwYXJlbnQ9PT0hMCYmVy5zaWRlPT09X3I/KFcuc2lkZT1qdCxXLm5lZWRzVXBkYXRlPSEwLGYucmVuZGVyQnVmZmVyRGlyZWN0KHosSSxELFcsTSx4ZSksVy5zaWRlPXdzLFcubmVlZHNVcGRhdGU9ITAsZi5yZW5kZXJCdWZmZXJEaXJlY3QoeixJLEQsVyxNLHhlKSxXLnNpZGU9X3IpOmYucmVuZGVyQnVmZmVyRGlyZWN0KHosSSxELFcsTSx4ZSksTS5vbkFmdGVyUmVuZGVyKGYsSSx6LEQsVyx4ZSl9ZnVuY3Rpb24gcW8oTSxJLHope0kuaXNTY2VuZSE9PSEwJiYoST16ZSk7Y29uc3QgRD1qLmdldChNKSxXPWQuc3RhdGUubGlnaHRzLHhlPWQuc3RhdGUuc2hhZG93c0FycmF5LExlPVcuc3RhdGUudmVyc2lvbixSZT1UZS5nZXRQYXJhbWV0ZXJzKE0sVy5zdGF0ZSx4ZSxJLHopLFVlPVRlLmdldFByb2dyYW1DYWNoZUtleShSZSk7bGV0IHJ0PUQucHJvZ3JhbXM7RC5lbnZpcm9ubWVudD1NLmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWw/SS5lbnZpcm9ubWVudDpudWxsLEQuZm9nPUkuZm9nLEQuZW52TWFwPShNLmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWw/bGU6ZmUpLmdldChNLmVudk1hcHx8RC5lbnZpcm9ubWVudCkscnQ9PT12b2lkIDAmJihNLmFkZEV2ZW50TGlzdGVuZXIoImRpc3Bvc2UiLGFlKSxydD1uZXcgTWFwLEQucHJvZ3JhbXM9cnQpO2xldCBGZT1ydC5nZXQoVWUpO2lmKEZlIT09dm9pZCAwKXtpZihELmN1cnJlbnRQcm9ncmFtPT09RmUmJkQubGlnaHRzU3RhdGVWZXJzaW9uPT09TGUpcmV0dXJuIHB1KE0sUmUpLEZlfWVsc2UgUmUudW5pZm9ybXM9VGUuZ2V0VW5pZm9ybXMoTSksTS5vbkJ1aWxkKHosUmUsZiksTS5vbkJlZm9yZUNvbXBpbGUoUmUsZiksRmU9VGUuYWNxdWlyZVByb2dyYW0oUmUsVWUpLHJ0LnNldChVZSxGZSksRC51bmlmb3Jtcz1SZS51bmlmb3Jtcztjb25zdCBIZT1ELnVuaWZvcm1zOyghTS5pc1NoYWRlck1hdGVyaWFsJiYhTS5pc1Jhd1NoYWRlck1hdGVyaWFsfHxNLmNsaXBwaW5nPT09ITApJiYoSGUuY2xpcHBpbmdQbGFuZXM9Xy51bmlmb3JtKSxwdShNLFJlKSxELm5lZWRzTGlnaHRzPWcxKE0pLEQubGlnaHRzU3RhdGVWZXJzaW9uPUxlLEQubmVlZHNMaWdodHMmJihIZS5hbWJpZW50TGlnaHRDb2xvci52YWx1ZT1XLnN0YXRlLmFtYmllbnQsSGUubGlnaHRQcm9iZS52YWx1ZT1XLnN0YXRlLnByb2JlLEhlLmRpcmVjdGlvbmFsTGlnaHRzLnZhbHVlPVcuc3RhdGUuZGlyZWN0aW9uYWwsSGUuZGlyZWN0aW9uYWxMaWdodFNoYWRvd3MudmFsdWU9Vy5zdGF0ZS5kaXJlY3Rpb25hbFNoYWRvdyxIZS5zcG90TGlnaHRzLnZhbHVlPVcuc3RhdGUuc3BvdCxIZS5zcG90TGlnaHRTaGFkb3dzLnZhbHVlPVcuc3RhdGUuc3BvdFNoYWRvdyxIZS5yZWN0QXJlYUxpZ2h0cy52YWx1ZT1XLnN0YXRlLnJlY3RBcmVhLEhlLmx0Y18xLnZhbHVlPVcuc3RhdGUucmVjdEFyZWFMVEMxLEhlLmx0Y18yLnZhbHVlPVcuc3RhdGUucmVjdEFyZWFMVEMyLEhlLnBvaW50TGlnaHRzLnZhbHVlPVcuc3RhdGUucG9pbnQsSGUucG9pbnRMaWdodFNoYWRvd3MudmFsdWU9Vy5zdGF0ZS5wb2ludFNoYWRvdyxIZS5oZW1pc3BoZXJlTGlnaHRzLnZhbHVlPVcuc3RhdGUuaGVtaSxIZS5kaXJlY3Rpb25hbFNoYWRvd01hcC52YWx1ZT1XLnN0YXRlLmRpcmVjdGlvbmFsU2hhZG93TWFwLEhlLmRpcmVjdGlvbmFsU2hhZG93TWF0cml4LnZhbHVlPVcuc3RhdGUuZGlyZWN0aW9uYWxTaGFkb3dNYXRyaXgsSGUuc3BvdFNoYWRvd01hcC52YWx1ZT1XLnN0YXRlLnNwb3RTaGFkb3dNYXAsSGUuc3BvdFNoYWRvd01hdHJpeC52YWx1ZT1XLnN0YXRlLnNwb3RTaGFkb3dNYXRyaXgsSGUucG9pbnRTaGFkb3dNYXAudmFsdWU9Vy5zdGF0ZS5wb2ludFNoYWRvd01hcCxIZS5wb2ludFNoYWRvd01hdHJpeC52YWx1ZT1XLnN0YXRlLnBvaW50U2hhZG93TWF0cml4KTtjb25zdCBtdD1GZS5nZXRVbmlmb3JtcygpLG9yPUhpLnNlcVdpdGhWYWx1ZShtdC5zZXEsSGUpO3JldHVybiBELmN1cnJlbnRQcm9ncmFtPUZlLEQudW5pZm9ybXNMaXN0PW9yLEZlfWZ1bmN0aW9uIHB1KE0sSSl7Y29uc3Qgej1qLmdldChNKTt6Lm91dHB1dEVuY29kaW5nPUkub3V0cHV0RW5jb2Rpbmcsei5pbnN0YW5jaW5nPUkuaW5zdGFuY2luZyx6LnNraW5uaW5nPUkuc2tpbm5pbmcsei5tb3JwaFRhcmdldHM9SS5tb3JwaFRhcmdldHMsei5tb3JwaE5vcm1hbHM9SS5tb3JwaE5vcm1hbHMsei5tb3JwaENvbG9ycz1JLm1vcnBoQ29sb3JzLHoubW9ycGhUYXJnZXRzQ291bnQ9SS5tb3JwaFRhcmdldHNDb3VudCx6Lm51bUNsaXBwaW5nUGxhbmVzPUkubnVtQ2xpcHBpbmdQbGFuZXMsei5udW1JbnRlcnNlY3Rpb249SS5udW1DbGlwSW50ZXJzZWN0aW9uLHoudmVydGV4QWxwaGFzPUkudmVydGV4QWxwaGFzLHoudmVydGV4VGFuZ2VudHM9SS52ZXJ0ZXhUYW5nZW50cyx6LnRvbmVNYXBwaW5nPUkudG9uZU1hcHBpbmd9ZnVuY3Rpb24gZjEoTSxJLHosRCxXKXtJLmlzU2NlbmUhPT0hMCYmKEk9emUpLHEucmVzZXRUZXh0dXJlVW5pdHMoKTtjb25zdCB4ZT1JLmZvZyxMZT1ELmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWw/SS5lbnZpcm9ubWVudDpudWxsLFJlPVQ9PT1udWxsP2Yub3V0cHV0RW5jb2Rpbmc6VC5pc1hSUmVuZGVyVGFyZ2V0PT09ITA/VC50ZXh0dXJlLmVuY29kaW5nOl9pLFVlPShELmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWw/bGU6ZmUpLmdldChELmVudk1hcHx8TGUpLHJ0PUQudmVydGV4Q29sb3JzPT09ITAmJiEhei5hdHRyaWJ1dGVzLmNvbG9yJiZ6LmF0dHJpYnV0ZXMuY29sb3IuaXRlbVNpemU9PT00LEZlPSEhRC5ub3JtYWxNYXAmJiEhei5hdHRyaWJ1dGVzLnRhbmdlbnQsSGU9ISF6Lm1vcnBoQXR0cmlidXRlcy5wb3NpdGlvbixtdD0hIXoubW9ycGhBdHRyaWJ1dGVzLm5vcm1hbCxvcj0hIXoubW9ycGhBdHRyaWJ1dGVzLmNvbG9yLGFzPUQudG9uZU1hcHBlZD9mLnRvbmVNYXBwaW5nOnhpLG5zPXoubW9ycGhBdHRyaWJ1dGVzLnBvc2l0aW9ufHx6Lm1vcnBoQXR0cmlidXRlcy5ub3JtYWx8fHoubW9ycGhBdHRyaWJ1dGVzLmNvbG9yLGRpPW5zIT09dm9pZCAwP25zLmxlbmd0aDowLFdlPWouZ2V0KEQpLG9zPWQuc3RhdGUubGlnaHRzO2lmKFI9PT0hMCYmKFg9PT0hMHx8TSE9PWIpKXtjb25zdCBlaT1NPT09YiYmRC5pZD09PXc7Xy5zZXRTdGF0ZShELE0sZWkpfWxldCBKcz0hMTtELnZlcnNpb249PT1XZS5fX3ZlcnNpb24/KFdlLm5lZWRzTGlnaHRzJiZXZS5saWdodHNTdGF0ZVZlcnNpb24hPT1vcy5zdGF0ZS52ZXJzaW9ufHxXZS5vdXRwdXRFbmNvZGluZyE9PVJlfHxXLmlzSW5zdGFuY2VkTWVzaCYmV2UuaW5zdGFuY2luZz09PSExfHwhVy5pc0luc3RhbmNlZE1lc2gmJldlLmluc3RhbmNpbmc9PT0hMHx8Vy5pc1NraW5uZWRNZXNoJiZXZS5za2lubmluZz09PSExfHwhVy5pc1NraW5uZWRNZXNoJiZXZS5za2lubmluZz09PSEwfHxXZS5lbnZNYXAhPT1VZXx8RC5mb2cmJldlLmZvZyE9PXhlfHxXZS5udW1DbGlwcGluZ1BsYW5lcyE9PXZvaWQgMCYmKFdlLm51bUNsaXBwaW5nUGxhbmVzIT09Xy5udW1QbGFuZXN8fFdlLm51bUludGVyc2VjdGlvbiE9PV8ubnVtSW50ZXJzZWN0aW9uKXx8V2UudmVydGV4QWxwaGFzIT09cnR8fFdlLnZlcnRleFRhbmdlbnRzIT09RmV8fFdlLm1vcnBoVGFyZ2V0cyE9PUhlfHxXZS5tb3JwaE5vcm1hbHMhPT1tdHx8V2UubW9ycGhDb2xvcnMhPT1vcnx8V2UudG9uZU1hcHBpbmchPT1hc3x8eWUuaXNXZWJHTDI9PT0hMCYmV2UubW9ycGhUYXJnZXRzQ291bnQhPT1kaSkmJihKcz0hMCk6KEpzPSEwLFdlLl9fdmVyc2lvbj1ELnZlcnNpb24pO2xldCBwaT1XZS5jdXJyZW50UHJvZ3JhbTtKcz09PSEwJiYocGk9cW8oRCxJLFcpKTtsZXQgcWk9ITEsWXM9ITEsWG89ITE7Y29uc3Qgd3Q9cGkuZ2V0VW5pZm9ybXMoKSxacz1XZS51bmlmb3JtcztpZihyZS51c2VQcm9ncmFtKHBpLnByb2dyYW0pJiYocWk9ITAsWXM9ITAsWG89ITApLEQuaWQhPT13JiYodz1ELmlkLFlzPSEwKSxxaXx8YiE9PU0pe2lmKHd0LnNldFZhbHVlKFYsInByb2plY3Rpb25NYXRyaXgiLE0ucHJvamVjdGlvbk1hdHJpeCkseWUubG9nYXJpdGhtaWNEZXB0aEJ1ZmZlciYmd3Quc2V0VmFsdWUoViwibG9nRGVwdGhCdWZGQyIsMi8oTWF0aC5sb2coTS5mYXIrMSkvTWF0aC5MTjIpKSxiIT09TSYmKGI9TSxZcz0hMCxYbz0hMCksRC5pc1NoYWRlck1hdGVyaWFsfHxELmlzTWVzaFBob25nTWF0ZXJpYWx8fEQuaXNNZXNoVG9vbk1hdGVyaWFsfHxELmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWx8fEQuZW52TWFwKXtjb25zdCBlaT13dC5tYXAuY2FtZXJhUG9zaXRpb247ZWkhPT12b2lkIDAmJmVpLnNldFZhbHVlKFYsdmUuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKE0ubWF0cml4V29ybGQpKX0oRC5pc01lc2hQaG9uZ01hdGVyaWFsfHxELmlzTWVzaFRvb25NYXRlcmlhbHx8RC5pc01lc2hMYW1iZXJ0TWF0ZXJpYWx8fEQuaXNNZXNoQmFzaWNNYXRlcmlhbHx8RC5pc01lc2hTdGFuZGFyZE1hdGVyaWFsfHxELmlzU2hhZGVyTWF0ZXJpYWwpJiZ3dC5zZXRWYWx1ZShWLCJpc09ydGhvZ3JhcGhpYyIsTS5pc09ydGhvZ3JhcGhpY0NhbWVyYT09PSEwKSwoRC5pc01lc2hQaG9uZ01hdGVyaWFsfHxELmlzTWVzaFRvb25NYXRlcmlhbHx8RC5pc01lc2hMYW1iZXJ0TWF0ZXJpYWx8fEQuaXNNZXNoQmFzaWNNYXRlcmlhbHx8RC5pc01lc2hTdGFuZGFyZE1hdGVyaWFsfHxELmlzU2hhZGVyTWF0ZXJpYWx8fEQuaXNTaGFkb3dNYXRlcmlhbHx8Vy5pc1NraW5uZWRNZXNoKSYmd3Quc2V0VmFsdWUoViwidmlld01hdHJpeCIsTS5tYXRyaXhXb3JsZEludmVyc2UpfWlmKFcuaXNTa2lubmVkTWVzaCl7d3Quc2V0T3B0aW9uYWwoVixXLCJiaW5kTWF0cml4Iiksd3Quc2V0T3B0aW9uYWwoVixXLCJiaW5kTWF0cml4SW52ZXJzZSIpO2NvbnN0IGVpPVcuc2tlbGV0b247ZWkmJih5ZS5mbG9hdFZlcnRleFRleHR1cmVzPyhlaS5ib25lVGV4dHVyZT09PW51bGwmJmVpLmNvbXB1dGVCb25lVGV4dHVyZSgpLHd0LnNldFZhbHVlKFYsImJvbmVUZXh0dXJlIixlaS5ib25lVGV4dHVyZSxxKSx3dC5zZXRWYWx1ZShWLCJib25lVGV4dHVyZVNpemUiLGVpLmJvbmVUZXh0dXJlU2l6ZSkpOnd0LnNldE9wdGlvbmFsKFYsZWksImJvbmVNYXRyaWNlcyIpKX1jb25zdCBKbz16Lm1vcnBoQXR0cmlidXRlcztyZXR1cm4oSm8ucG9zaXRpb24hPT12b2lkIDB8fEpvLm5vcm1hbCE9PXZvaWQgMHx8Sm8uY29sb3IhPT12b2lkIDAmJnllLmlzV2ViR0wyPT09ITApJiZjZS51cGRhdGUoVyx6LEQscGkpLChZc3x8V2UucmVjZWl2ZVNoYWRvdyE9PVcucmVjZWl2ZVNoYWRvdykmJihXZS5yZWNlaXZlU2hhZG93PVcucmVjZWl2ZVNoYWRvdyx3dC5zZXRWYWx1ZShWLCJyZWNlaXZlU2hhZG93IixXLnJlY2VpdmVTaGFkb3cpKSxZcyYmKHd0LnNldFZhbHVlKFYsInRvbmVNYXBwaW5nRXhwb3N1cmUiLGYudG9uZU1hcHBpbmdFeHBvc3VyZSksV2UubmVlZHNMaWdodHMmJm0xKFpzLFhvKSx4ZSYmRC5mb2cmJktlLnJlZnJlc2hGb2dVbmlmb3Jtcyhacyx4ZSksS2UucmVmcmVzaE1hdGVyaWFsVW5pZm9ybXMoWnMsRCx4LE8sSiksSGkudXBsb2FkKFYsV2UudW5pZm9ybXNMaXN0LFpzLHEpKSxELmlzU2hhZGVyTWF0ZXJpYWwmJkQudW5pZm9ybXNOZWVkVXBkYXRlPT09ITAmJihIaS51cGxvYWQoVixXZS51bmlmb3Jtc0xpc3QsWnMscSksRC51bmlmb3Jtc05lZWRVcGRhdGU9ITEpLEQuaXNTcHJpdGVNYXRlcmlhbCYmd3Quc2V0VmFsdWUoViwiY2VudGVyIixXLmNlbnRlciksd3Quc2V0VmFsdWUoViwibW9kZWxWaWV3TWF0cml4IixXLm1vZGVsVmlld01hdHJpeCksd3Quc2V0VmFsdWUoViwibm9ybWFsTWF0cml4IixXLm5vcm1hbE1hdHJpeCksd3Quc2V0VmFsdWUoViwibW9kZWxNYXRyaXgiLFcubWF0cml4V29ybGQpLHBpfWZ1bmN0aW9uIG0xKE0sSSl7TS5hbWJpZW50TGlnaHRDb2xvci5uZWVkc1VwZGF0ZT1JLE0ubGlnaHRQcm9iZS5uZWVkc1VwZGF0ZT1JLE0uZGlyZWN0aW9uYWxMaWdodHMubmVlZHNVcGRhdGU9SSxNLmRpcmVjdGlvbmFsTGlnaHRTaGFkb3dzLm5lZWRzVXBkYXRlPUksTS5wb2ludExpZ2h0cy5uZWVkc1VwZGF0ZT1JLE0ucG9pbnRMaWdodFNoYWRvd3MubmVlZHNVcGRhdGU9SSxNLnNwb3RMaWdodHMubmVlZHNVcGRhdGU9SSxNLnNwb3RMaWdodFNoYWRvd3MubmVlZHNVcGRhdGU9SSxNLnJlY3RBcmVhTGlnaHRzLm5lZWRzVXBkYXRlPUksTS5oZW1pc3BoZXJlTGlnaHRzLm5lZWRzVXBkYXRlPUl9ZnVuY3Rpb24gZzEoTSl7cmV0dXJuIE0uaXNNZXNoTGFtYmVydE1hdGVyaWFsfHxNLmlzTWVzaFRvb25NYXRlcmlhbHx8TS5pc01lc2hQaG9uZ01hdGVyaWFsfHxNLmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWx8fE0uaXNTaGFkb3dNYXRlcmlhbHx8TS5pc1NoYWRlck1hdGVyaWFsJiZNLmxpZ2h0cz09PSEwfXRoaXMuZ2V0QWN0aXZlQ3ViZUZhY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdn0sdGhpcy5nZXRBY3RpdmVNaXBtYXBMZXZlbD1mdW5jdGlvbigpe3JldHVybiB5fSx0aGlzLmdldFJlbmRlclRhcmdldD1mdW5jdGlvbigpe3JldHVybiBUfSx0aGlzLnNldFJlbmRlclRhcmdldFRleHR1cmVzPWZ1bmN0aW9uKE0sSSx6KXtqLmdldChNLnRleHR1cmUpLl9fd2ViZ2xUZXh0dXJlPUksai5nZXQoTS5kZXB0aFRleHR1cmUpLl9fd2ViZ2xUZXh0dXJlPXo7Y29uc3QgRD1qLmdldChNKTtELl9faGFzRXh0ZXJuYWxUZXh0dXJlcz0hMCxELl9faGFzRXh0ZXJuYWxUZXh0dXJlcyYmKEQuX19hdXRvQWxsb2NhdGVEZXB0aEJ1ZmZlcj16PT09dm9pZCAwLEQuX19hdXRvQWxsb2NhdGVEZXB0aEJ1ZmZlcnx8T2UuaGFzKCJXRUJHTF9tdWx0aXNhbXBsZWRfcmVuZGVyX3RvX3RleHR1cmUiKT09PSEwJiYoY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiBSZW5kZXItdG8tdGV4dHVyZSBleHRlbnNpb24gd2FzIGRpc2FibGVkIGJlY2F1c2UgYW4gZXh0ZXJuYWwgdGV4dHVyZSB3YXMgcHJvdmlkZWQiKSxELl9fdXNlUmVuZGVyVG9UZXh0dXJlPSExKSl9LHRoaXMuc2V0UmVuZGVyVGFyZ2V0RnJhbWVidWZmZXI9ZnVuY3Rpb24oTSxJKXtjb25zdCB6PWouZ2V0KE0pO3ouX193ZWJnbEZyYW1lYnVmZmVyPUksei5fX3VzZURlZmF1bHRGcmFtZWJ1ZmZlcj1JPT09dm9pZCAwfSx0aGlzLnNldFJlbmRlclRhcmdldD1mdW5jdGlvbihNLEk9MCx6PTApe1Q9TSx2PUkseT16O2xldCBEPSEwO2lmKE0pe2NvbnN0IFJlPWouZ2V0KE0pO1JlLl9fdXNlRGVmYXVsdEZyYW1lYnVmZmVyIT09dm9pZCAwPyhyZS5iaW5kRnJhbWVidWZmZXIoMzYxNjAsbnVsbCksRD0hMSk6UmUuX193ZWJnbEZyYW1lYnVmZmVyPT09dm9pZCAwP3Euc2V0dXBSZW5kZXJUYXJnZXQoTSk6UmUuX19oYXNFeHRlcm5hbFRleHR1cmVzJiZxLnJlYmluZFRleHR1cmVzKE0sai5nZXQoTS50ZXh0dXJlKS5fX3dlYmdsVGV4dHVyZSxqLmdldChNLmRlcHRoVGV4dHVyZSkuX193ZWJnbFRleHR1cmUpfWxldCBXPW51bGwseGU9ITEsTGU9ITE7aWYoTSl7Y29uc3QgUmU9TS50ZXh0dXJlOyhSZS5pc0RhdGEzRFRleHR1cmV8fFJlLmlzRGF0YUFycmF5VGV4dHVyZSkmJihMZT0hMCk7Y29uc3QgVWU9ai5nZXQoTSkuX193ZWJnbEZyYW1lYnVmZmVyO00uaXNXZWJHTEN1YmVSZW5kZXJUYXJnZXQ/KFc9VWVbSV0seGU9ITApOnllLmlzV2ViR0wyJiZNLnNhbXBsZXM+MCYmcS51c2VNdWx0aXNhbXBsZWRSVFQoTSk9PT0hMT9XPWouZ2V0KE0pLl9fd2ViZ2xNdWx0aXNhbXBsZWRGcmFtZWJ1ZmZlcjpXPVVlLEwuY29weShNLnZpZXdwb3J0KSxQLmNvcHkoTS5zY2lzc29yKSxrPU0uc2Npc3NvclRlc3R9ZWxzZSBMLmNvcHkoTikubXVsdGlwbHlTY2FsYXIoeCkuZmxvb3IoKSxQLmNvcHkoVSkubXVsdGlwbHlTY2FsYXIoeCkuZmxvb3IoKSxrPUI7aWYocmUuYmluZEZyYW1lYnVmZmVyKDM2MTYwLFcpJiZ5ZS5kcmF3QnVmZmVycyYmRCYmcmUuZHJhd0J1ZmZlcnMoTSxXKSxyZS52aWV3cG9ydChMKSxyZS5zY2lzc29yKFApLHJlLnNldFNjaXNzb3JUZXN0KGspLHhlKXtjb25zdCBSZT1qLmdldChNLnRleHR1cmUpO1YuZnJhbWVidWZmZXJUZXh0dXJlMkQoMzYxNjAsMzYwNjQsMzQwNjkrSSxSZS5fX3dlYmdsVGV4dHVyZSx6KX1lbHNlIGlmKExlKXtjb25zdCBSZT1qLmdldChNLnRleHR1cmUpLFVlPUl8fDA7Vi5mcmFtZWJ1ZmZlclRleHR1cmVMYXllcigzNjE2MCwzNjA2NCxSZS5fX3dlYmdsVGV4dHVyZSx6fHwwLFVlKX13PS0xfSx0aGlzLnJlYWRSZW5kZXJUYXJnZXRQaXhlbHM9ZnVuY3Rpb24oTSxJLHosRCxXLHhlLExlKXtpZighKE0mJk0uaXNXZWJHTFJlbmRlclRhcmdldCkpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMUmVuZGVyZXIucmVhZFJlbmRlclRhcmdldFBpeGVsczogcmVuZGVyVGFyZ2V0IGlzIG5vdCBUSFJFRS5XZWJHTFJlbmRlclRhcmdldC4iKTtyZXR1cm59bGV0IFJlPWouZ2V0KE0pLl9fd2ViZ2xGcmFtZWJ1ZmZlcjtpZihNLmlzV2ViR0xDdWJlUmVuZGVyVGFyZ2V0JiZMZSE9PXZvaWQgMCYmKFJlPVJlW0xlXSksUmUpe3JlLmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCxSZSk7dHJ5e2NvbnN0IFVlPU0udGV4dHVyZSxydD1VZS5mb3JtYXQsRmU9VWUudHlwZTtpZihydCE9PVh0JiZILmNvbnZlcnQocnQpIT09Vi5nZXRQYXJhbWV0ZXIoMzU3MzkpKXtjb25zb2xlLmVycm9yKCJUSFJFRS5XZWJHTFJlbmRlcmVyLnJlYWRSZW5kZXJUYXJnZXRQaXhlbHM6IHJlbmRlclRhcmdldCBpcyBub3QgaW4gUkdCQSBvciBpbXBsZW1lbnRhdGlvbiBkZWZpbmVkIGZvcm1hdC4iKTtyZXR1cm59Y29uc3QgSGU9RmU9PT1TciYmKE9lLmhhcygiRVhUX2NvbG9yX2J1ZmZlcl9oYWxmX2Zsb2F0Iil8fHllLmlzV2ViR0wyJiZPZS5oYXMoIkVYVF9jb2xvcl9idWZmZXJfZmxvYXQiKSk7aWYoRmUhPT1KaSYmSC5jb252ZXJ0KEZlKSE9PVYuZ2V0UGFyYW1ldGVyKDM1NzM4KSYmIShGZT09PVlpJiYoeWUuaXNXZWJHTDJ8fE9lLmhhcygiT0VTX3RleHR1cmVfZmxvYXQiKXx8T2UuaGFzKCJXRUJHTF9jb2xvcl9idWZmZXJfZmxvYXQiKSkpJiYhSGUpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMUmVuZGVyZXIucmVhZFJlbmRlclRhcmdldFBpeGVsczogcmVuZGVyVGFyZ2V0IGlzIG5vdCBpbiBVbnNpZ25lZEJ5dGVUeXBlIG9yIGltcGxlbWVudGF0aW9uIGRlZmluZWQgdHlwZS4iKTtyZXR1cm59ST49MCYmSTw9TS53aWR0aC1EJiZ6Pj0wJiZ6PD1NLmhlaWdodC1XJiZWLnJlYWRQaXhlbHMoSSx6LEQsVyxILmNvbnZlcnQocnQpLEguY29udmVydChGZSkseGUpfWZpbmFsbHl7Y29uc3QgVWU9VCE9PW51bGw/ai5nZXQoVCkuX193ZWJnbEZyYW1lYnVmZmVyOm51bGw7cmUuYmluZEZyYW1lYnVmZmVyKDM2MTYwLFVlKX19fSx0aGlzLmNvcHlGcmFtZWJ1ZmZlclRvVGV4dHVyZT1mdW5jdGlvbihNLEksej0wKXtpZihJLmlzRnJhbWVidWZmZXJUZXh0dXJlIT09ITApe2NvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMUmVuZGVyZXI6IGNvcHlGcmFtZWJ1ZmZlclRvVGV4dHVyZSgpIGNhbiBvbmx5IGJlIHVzZWQgd2l0aCBGcmFtZWJ1ZmZlclRleHR1cmUuIik7cmV0dXJufWNvbnN0IEQ9TWF0aC5wb3coMiwteiksVz1NYXRoLmZsb29yKEkuaW1hZ2Uud2lkdGgqRCkseGU9TWF0aC5mbG9vcihJLmltYWdlLmhlaWdodCpEKTtxLnNldFRleHR1cmUyRChJLDApLFYuY29weVRleFN1YkltYWdlMkQoMzU1Myx6LDAsMCxNLngsTS55LFcseGUpLHJlLnVuYmluZFRleHR1cmUoKX0sdGhpcy5jb3B5VGV4dHVyZVRvVGV4dHVyZT1mdW5jdGlvbihNLEkseixEPTApe2NvbnN0IFc9SS5pbWFnZS53aWR0aCx4ZT1JLmltYWdlLmhlaWdodCxMZT1ILmNvbnZlcnQoei5mb3JtYXQpLFJlPUguY29udmVydCh6LnR5cGUpO3Euc2V0VGV4dHVyZTJEKHosMCksVi5waXhlbFN0b3JlaSgzNzQ0MCx6LmZsaXBZKSxWLnBpeGVsU3RvcmVpKDM3NDQxLHoucHJlbXVsdGlwbHlBbHBoYSksVi5waXhlbFN0b3JlaSgzMzE3LHoudW5wYWNrQWxpZ25tZW50KSxJLmlzRGF0YVRleHR1cmU/Vi50ZXhTdWJJbWFnZTJEKDM1NTMsRCxNLngsTS55LFcseGUsTGUsUmUsSS5pbWFnZS5kYXRhKTpJLmlzQ29tcHJlc3NlZFRleHR1cmU/Vi5jb21wcmVzc2VkVGV4U3ViSW1hZ2UyRCgzNTUzLEQsTS54LE0ueSxJLm1pcG1hcHNbMF0ud2lkdGgsSS5taXBtYXBzWzBdLmhlaWdodCxMZSxJLm1pcG1hcHNbMF0uZGF0YSk6Vi50ZXhTdWJJbWFnZTJEKDM1NTMsRCxNLngsTS55LExlLFJlLEkuaW1hZ2UpLEQ9PT0wJiZ6LmdlbmVyYXRlTWlwbWFwcyYmVi5nZW5lcmF0ZU1pcG1hcCgzNTUzKSxyZS51bmJpbmRUZXh0dXJlKCl9LHRoaXMuY29weVRleHR1cmVUb1RleHR1cmUzRD1mdW5jdGlvbihNLEkseixELFc9MCl7aWYoZi5pc1dlYkdMMVJlbmRlcmVyKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXIuY29weVRleHR1cmVUb1RleHR1cmUzRDogY2FuIG9ubHkgYmUgdXNlZCB3aXRoIFdlYkdMMi4iKTtyZXR1cm59Y29uc3QgeGU9TS5tYXgueC1NLm1pbi54KzEsTGU9TS5tYXgueS1NLm1pbi55KzEsUmU9TS5tYXguei1NLm1pbi56KzEsVWU9SC5jb252ZXJ0KEQuZm9ybWF0KSxydD1ILmNvbnZlcnQoRC50eXBlKTtsZXQgRmU7aWYoRC5pc0RhdGEzRFRleHR1cmUpcS5zZXRUZXh0dXJlM0QoRCwwKSxGZT0zMjg3OTtlbHNlIGlmKEQuaXNEYXRhQXJyYXlUZXh0dXJlKXEuc2V0VGV4dHVyZTJEQXJyYXkoRCwwKSxGZT0zNTg2NjtlbHNle2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlci5jb3B5VGV4dHVyZVRvVGV4dHVyZTNEOiBvbmx5IHN1cHBvcnRzIFRIUkVFLkRhdGFUZXh0dXJlM0QgYW5kIFRIUkVFLkRhdGFUZXh0dXJlMkRBcnJheS4iKTtyZXR1cm59Vi5waXhlbFN0b3JlaSgzNzQ0MCxELmZsaXBZKSxWLnBpeGVsU3RvcmVpKDM3NDQxLEQucHJlbXVsdGlwbHlBbHBoYSksVi5waXhlbFN0b3JlaSgzMzE3LEQudW5wYWNrQWxpZ25tZW50KTtjb25zdCBIZT1WLmdldFBhcmFtZXRlcigzMzE0KSxtdD1WLmdldFBhcmFtZXRlcigzMjg3OCksb3I9Vi5nZXRQYXJhbWV0ZXIoMzMxNiksYXM9Vi5nZXRQYXJhbWV0ZXIoMzMxNSksbnM9Vi5nZXRQYXJhbWV0ZXIoMzI4NzcpLGRpPXouaXNDb21wcmVzc2VkVGV4dHVyZT96Lm1pcG1hcHNbMF06ei5pbWFnZTtWLnBpeGVsU3RvcmVpKDMzMTQsZGkud2lkdGgpLFYucGl4ZWxTdG9yZWkoMzI4NzgsZGkuaGVpZ2h0KSxWLnBpeGVsU3RvcmVpKDMzMTYsTS5taW4ueCksVi5waXhlbFN0b3JlaSgzMzE1LE0ubWluLnkpLFYucGl4ZWxTdG9yZWkoMzI4NzcsTS5taW4ueiksei5pc0RhdGFUZXh0dXJlfHx6LmlzRGF0YTNEVGV4dHVyZT9WLnRleFN1YkltYWdlM0QoRmUsVyxJLngsSS55LEkueix4ZSxMZSxSZSxVZSxydCxkaS5kYXRhKTp6LmlzQ29tcHJlc3NlZFRleHR1cmU/KGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlci5jb3B5VGV4dHVyZVRvVGV4dHVyZTNEOiB1bnRlc3RlZCBzdXBwb3J0IGZvciBjb21wcmVzc2VkIHNyY1RleHR1cmUuIiksVi5jb21wcmVzc2VkVGV4U3ViSW1hZ2UzRChGZSxXLEkueCxJLnksSS56LHhlLExlLFJlLFVlLGRpLmRhdGEpKTpWLnRleFN1YkltYWdlM0QoRmUsVyxJLngsSS55LEkueix4ZSxMZSxSZSxVZSxydCxkaSksVi5waXhlbFN0b3JlaSgzMzE0LEhlKSxWLnBpeGVsU3RvcmVpKDMyODc4LG10KSxWLnBpeGVsU3RvcmVpKDMzMTYsb3IpLFYucGl4ZWxTdG9yZWkoMzMxNSxhcyksVi5waXhlbFN0b3JlaSgzMjg3NyxucyksVz09PTAmJkQuZ2VuZXJhdGVNaXBtYXBzJiZWLmdlbmVyYXRlTWlwbWFwKEZlKSxyZS51bmJpbmRUZXh0dXJlKCl9LHRoaXMuaW5pdFRleHR1cmU9ZnVuY3Rpb24oTSl7cS5zZXRUZXh0dXJlMkQoTSwwKSxyZS51bmJpbmRUZXh0dXJlKCl9LHRoaXMucmVzZXRTdGF0ZT1mdW5jdGlvbigpe3Y9MCx5PTAsVD1udWxsLHJlLnJlc2V0KCksTmUucmVzZXQoKX0sdHlwZW9mIF9fVEhSRUVfREVWVE9PTFNfXzwidSImJl9fVEhSRUVfREVWVE9PTFNfXy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgib2JzZXJ2ZSIse2RldGFpbDp0aGlzfSkpfUplLnByb3RvdHlwZS5pc1dlYkdMUmVuZGVyZXI9ITA7Y2xhc3MgT3kgZXh0ZW5kcyBKZXt9T3kucHJvdG90eXBlLmlzV2ViR0wxUmVuZGVyZXI9ITA7Y2xhc3MgZmMgZXh0ZW5kcyBqZXtjb25zdHJ1Y3Rvcigpe3N1cGVyKCk7dGhpcy50eXBlPSJTY2VuZSIsdGhpcy5iYWNrZ3JvdW5kPW51bGwsdGhpcy5lbnZpcm9ubWVudD1udWxsLHRoaXMuZm9nPW51bGwsdGhpcy5vdmVycmlkZU1hdGVyaWFsPW51bGwsdGhpcy5hdXRvVXBkYXRlPSEwLHR5cGVvZiBfX1RIUkVFX0RFVlRPT0xTX188InUiJiZfX1RIUkVFX0RFVlRPT0xTX18uZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoIm9ic2VydmUiLHtkZXRhaWw6dGhpc30pKX1jb3B5KGUsdCl7cmV0dXJuIHN1cGVyLmNvcHkoZSx0KSxlLmJhY2tncm91bmQhPT1udWxsJiYodGhpcy5iYWNrZ3JvdW5kPWUuYmFja2dyb3VuZC5jbG9uZSgpKSxlLmVudmlyb25tZW50IT09bnVsbCYmKHRoaXMuZW52aXJvbm1lbnQ9ZS5lbnZpcm9ubWVudC5jbG9uZSgpKSxlLmZvZyE9PW51bGwmJih0aGlzLmZvZz1lLmZvZy5jbG9uZSgpKSxlLm92ZXJyaWRlTWF0ZXJpYWwhPT1udWxsJiYodGhpcy5vdmVycmlkZU1hdGVyaWFsPWUub3ZlcnJpZGVNYXRlcmlhbC5jbG9uZSgpKSx0aGlzLmF1dG9VcGRhdGU9ZS5hdXRvVXBkYXRlLHRoaXMubWF0cml4QXV0b1VwZGF0ZT1lLm1hdHJpeEF1dG9VcGRhdGUsdGhpc310b0pTT04oZSl7Y29uc3QgdD1zdXBlci50b0pTT04oZSk7cmV0dXJuIHRoaXMuZm9nIT09bnVsbCYmKHQub2JqZWN0LmZvZz10aGlzLmZvZy50b0pTT04oKSksdH19ZmMucHJvdG90eXBlLmlzU2NlbmU9ITA7Y2xhc3MgTnN7Y29uc3RydWN0b3IoZSx0KXt0aGlzLmFycmF5PWUsdGhpcy5zdHJpZGU9dCx0aGlzLmNvdW50PWUhPT12b2lkIDA/ZS5sZW5ndGgvdDowLHRoaXMudXNhZ2U9RXMsdGhpcy51cGRhdGVSYW5nZT17b2Zmc2V0OjAsY291bnQ6LTF9LHRoaXMudmVyc2lvbj0wLHRoaXMudXVpZD1zaSgpfW9uVXBsb2FkQ2FsbGJhY2soKXt9c2V0IG5lZWRzVXBkYXRlKGUpe2U9PT0hMCYmdGhpcy52ZXJzaW9uKyt9c2V0VXNhZ2UoZSl7cmV0dXJuIHRoaXMudXNhZ2U9ZSx0aGlzfWNvcHkoZSl7cmV0dXJuIHRoaXMuYXJyYXk9bmV3IGUuYXJyYXkuY29uc3RydWN0b3IoZS5hcnJheSksdGhpcy5jb3VudD1lLmNvdW50LHRoaXMuc3RyaWRlPWUuc3RyaWRlLHRoaXMudXNhZ2U9ZS51c2FnZSx0aGlzfWNvcHlBdChlLHQscil7ZSo9dGhpcy5zdHJpZGUscio9dC5zdHJpZGU7Zm9yKGxldCBzPTAsYT10aGlzLnN0cmlkZTtzPGE7cysrKXRoaXMuYXJyYXlbZStzXT10LmFycmF5W3Irc107cmV0dXJuIHRoaXN9c2V0KGUsdD0wKXtyZXR1cm4gdGhpcy5hcnJheS5zZXQoZSx0KSx0aGlzfWNsb25lKGUpe2UuYXJyYXlCdWZmZXJzPT09dm9pZCAwJiYoZS5hcnJheUJ1ZmZlcnM9e30pLHRoaXMuYXJyYXkuYnVmZmVyLl91dWlkPT09dm9pZCAwJiYodGhpcy5hcnJheS5idWZmZXIuX3V1aWQ9c2koKSksZS5hcnJheUJ1ZmZlcnNbdGhpcy5hcnJheS5idWZmZXIuX3V1aWRdPT09dm9pZCAwJiYoZS5hcnJheUJ1ZmZlcnNbdGhpcy5hcnJheS5idWZmZXIuX3V1aWRdPXRoaXMuYXJyYXkuc2xpY2UoMCkuYnVmZmVyKTtjb25zdCB0PW5ldyB0aGlzLmFycmF5LmNvbnN0cnVjdG9yKGUuYXJyYXlCdWZmZXJzW3RoaXMuYXJyYXkuYnVmZmVyLl91dWlkXSkscj1uZXcgdGhpcy5jb25zdHJ1Y3Rvcih0LHRoaXMuc3RyaWRlKTtyZXR1cm4gci5zZXRVc2FnZSh0aGlzLnVzYWdlKSxyfW9uVXBsb2FkKGUpe3JldHVybiB0aGlzLm9uVXBsb2FkQ2FsbGJhY2s9ZSx0aGlzfXRvSlNPTihlKXtyZXR1cm4gZS5hcnJheUJ1ZmZlcnM9PT12b2lkIDAmJihlLmFycmF5QnVmZmVycz17fSksdGhpcy5hcnJheS5idWZmZXIuX3V1aWQ9PT12b2lkIDAmJih0aGlzLmFycmF5LmJ1ZmZlci5fdXVpZD1zaSgpKSxlLmFycmF5QnVmZmVyc1t0aGlzLmFycmF5LmJ1ZmZlci5fdXVpZF09PT12b2lkIDAmJihlLmFycmF5QnVmZmVyc1t0aGlzLmFycmF5LmJ1ZmZlci5fdXVpZF09QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwobmV3IFVpbnQzMkFycmF5KHRoaXMuYXJyYXkuYnVmZmVyKSkpLHt1dWlkOnRoaXMudXVpZCxidWZmZXI6dGhpcy5hcnJheS5idWZmZXIuX3V1aWQsdHlwZTp0aGlzLmFycmF5LmNvbnN0cnVjdG9yLm5hbWUsc3RyaWRlOnRoaXMuc3RyaWRlfX19TnMucHJvdG90eXBlLmlzSW50ZXJsZWF2ZWRCdWZmZXI9ITA7Y29uc3QgQ3Q9bmV3IEU7Y2xhc3MgRHN7Y29uc3RydWN0b3IoZSx0LHIscz0hMSl7dGhpcy5uYW1lPSIiLHRoaXMuZGF0YT1lLHRoaXMuaXRlbVNpemU9dCx0aGlzLm9mZnNldD1yLHRoaXMubm9ybWFsaXplZD1zPT09ITB9Z2V0IGNvdW50KCl7cmV0dXJuIHRoaXMuZGF0YS5jb3VudH1nZXQgYXJyYXkoKXtyZXR1cm4gdGhpcy5kYXRhLmFycmF5fXNldCBuZWVkc1VwZGF0ZShlKXt0aGlzLmRhdGEubmVlZHNVcGRhdGU9ZX1hcHBseU1hdHJpeDQoZSl7Zm9yKGxldCB0PTAscj10aGlzLmRhdGEuY291bnQ7dDxyO3QrKylDdC5mcm9tQnVmZmVyQXR0cmlidXRlKHRoaXMsdCksQ3QuYXBwbHlNYXRyaXg0KGUpLHRoaXMuc2V0WFlaKHQsQ3QueCxDdC55LEN0LnopO3JldHVybiB0aGlzfWFwcGx5Tm9ybWFsTWF0cml4KGUpe2ZvcihsZXQgdD0wLHI9dGhpcy5jb3VudDt0PHI7dCsrKUN0LmZyb21CdWZmZXJBdHRyaWJ1dGUodGhpcyx0KSxDdC5hcHBseU5vcm1hbE1hdHJpeChlKSx0aGlzLnNldFhZWih0LEN0LngsQ3QueSxDdC56KTtyZXR1cm4gdGhpc310cmFuc2Zvcm1EaXJlY3Rpb24oZSl7Zm9yKGxldCB0PTAscj10aGlzLmNvdW50O3Q8cjt0KyspQ3QuZnJvbUJ1ZmZlckF0dHJpYnV0ZSh0aGlzLHQpLEN0LnRyYW5zZm9ybURpcmVjdGlvbihlKSx0aGlzLnNldFhZWih0LEN0LngsQ3QueSxDdC56KTtyZXR1cm4gdGhpc31zZXRYKGUsdCl7cmV0dXJuIHRoaXMuZGF0YS5hcnJheVtlKnRoaXMuZGF0YS5zdHJpZGUrdGhpcy5vZmZzZXRdPXQsdGhpc31zZXRZKGUsdCl7cmV0dXJuIHRoaXMuZGF0YS5hcnJheVtlKnRoaXMuZGF0YS5zdHJpZGUrdGhpcy5vZmZzZXQrMV09dCx0aGlzfXNldFooZSx0KXtyZXR1cm4gdGhpcy5kYXRhLmFycmF5W2UqdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldCsyXT10LHRoaXN9c2V0VyhlLHQpe3JldHVybiB0aGlzLmRhdGEuYXJyYXlbZSp0aGlzLmRhdGEuc3RyaWRlK3RoaXMub2Zmc2V0KzNdPXQsdGhpc31nZXRYKGUpe3JldHVybiB0aGlzLmRhdGEuYXJyYXlbZSp0aGlzLmRhdGEuc3RyaWRlK3RoaXMub2Zmc2V0XX1nZXRZKGUpe3JldHVybiB0aGlzLmRhdGEuYXJyYXlbZSp0aGlzLmRhdGEuc3RyaWRlK3RoaXMub2Zmc2V0KzFdfWdldFooZSl7cmV0dXJuIHRoaXMuZGF0YS5hcnJheVtlKnRoaXMuZGF0YS5zdHJpZGUrdGhpcy5vZmZzZXQrMl19Z2V0VyhlKXtyZXR1cm4gdGhpcy5kYXRhLmFycmF5W2UqdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldCszXX1zZXRYWShlLHQscil7cmV0dXJuIGU9ZSp0aGlzLmRhdGEuc3RyaWRlK3RoaXMub2Zmc2V0LHRoaXMuZGF0YS5hcnJheVtlKzBdPXQsdGhpcy5kYXRhLmFycmF5W2UrMV09cix0aGlzfXNldFhZWihlLHQscixzKXtyZXR1cm4gZT1lKnRoaXMuZGF0YS5zdHJpZGUrdGhpcy5vZmZzZXQsdGhpcy5kYXRhLmFycmF5W2UrMF09dCx0aGlzLmRhdGEuYXJyYXlbZSsxXT1yLHRoaXMuZGF0YS5hcnJheVtlKzJdPXMsdGhpc31zZXRYWVpXKGUsdCxyLHMsYSl7cmV0dXJuIGU9ZSp0aGlzLmRhdGEuc3RyaWRlK3RoaXMub2Zmc2V0LHRoaXMuZGF0YS5hcnJheVtlKzBdPXQsdGhpcy5kYXRhLmFycmF5W2UrMV09cix0aGlzLmRhdGEuYXJyYXlbZSsyXT1zLHRoaXMuZGF0YS5hcnJheVtlKzNdPWEsdGhpc31jbG9uZShlKXtpZihlPT09dm9pZCAwKXtjb25zb2xlLmxvZygiVEhSRUUuSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUuY2xvbmUoKTogQ2xvbmluZyBhbiBpbnRlcmxhdmVkIGJ1ZmZlciBhdHRyaWJ1dGUgd2lsbCBkZWludGVybGVhdmUgYnVmZmVyIGRhdGEuIik7Y29uc3QgdD1bXTtmb3IobGV0IHI9MDtyPHRoaXMuY291bnQ7cisrKXtjb25zdCBzPXIqdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldDtmb3IobGV0IGE9MDthPHRoaXMuaXRlbVNpemU7YSsrKXQucHVzaCh0aGlzLmRhdGEuYXJyYXlbcythXSl9cmV0dXJuIG5ldyBjdChuZXcgdGhpcy5hcnJheS5jb25zdHJ1Y3Rvcih0KSx0aGlzLml0ZW1TaXplLHRoaXMubm9ybWFsaXplZCl9ZWxzZSByZXR1cm4gZS5pbnRlcmxlYXZlZEJ1ZmZlcnM9PT12b2lkIDAmJihlLmludGVybGVhdmVkQnVmZmVycz17fSksZS5pbnRlcmxlYXZlZEJ1ZmZlcnNbdGhpcy5kYXRhLnV1aWRdPT09dm9pZCAwJiYoZS5pbnRlcmxlYXZlZEJ1ZmZlcnNbdGhpcy5kYXRhLnV1aWRdPXRoaXMuZGF0YS5jbG9uZShlKSksbmV3IERzKGUuaW50ZXJsZWF2ZWRCdWZmZXJzW3RoaXMuZGF0YS51dWlkXSx0aGlzLml0ZW1TaXplLHRoaXMub2Zmc2V0LHRoaXMubm9ybWFsaXplZCl9dG9KU09OKGUpe2lmKGU9PT12b2lkIDApe2NvbnNvbGUubG9nKCJUSFJFRS5JbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZS50b0pTT04oKTogU2VyaWFsaXppbmcgYW4gaW50ZXJsYXZlZCBidWZmZXIgYXR0cmlidXRlIHdpbGwgZGVpbnRlcmxlYXZlIGJ1ZmZlciBkYXRhLiIpO2NvbnN0IHQ9W107Zm9yKGxldCByPTA7cjx0aGlzLmNvdW50O3IrKyl7Y29uc3Qgcz1yKnRoaXMuZGF0YS5zdHJpZGUrdGhpcy5vZmZzZXQ7Zm9yKGxldCBhPTA7YTx0aGlzLml0ZW1TaXplO2ErKyl0LnB1c2godGhpcy5kYXRhLmFycmF5W3MrYV0pfXJldHVybntpdGVtU2l6ZTp0aGlzLml0ZW1TaXplLHR5cGU6dGhpcy5hcnJheS5jb25zdHJ1Y3Rvci5uYW1lLGFycmF5OnQsbm9ybWFsaXplZDp0aGlzLm5vcm1hbGl6ZWR9fWVsc2UgcmV0dXJuIGUuaW50ZXJsZWF2ZWRCdWZmZXJzPT09dm9pZCAwJiYoZS5pbnRlcmxlYXZlZEJ1ZmZlcnM9e30pLGUuaW50ZXJsZWF2ZWRCdWZmZXJzW3RoaXMuZGF0YS51dWlkXT09PXZvaWQgMCYmKGUuaW50ZXJsZWF2ZWRCdWZmZXJzW3RoaXMuZGF0YS51dWlkXT10aGlzLmRhdGEudG9KU09OKGUpKSx7aXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZTohMCxpdGVtU2l6ZTp0aGlzLml0ZW1TaXplLGRhdGE6dGhpcy5kYXRhLnV1aWQsb2Zmc2V0OnRoaXMub2Zmc2V0LG5vcm1hbGl6ZWQ6dGhpcy5ub3JtYWxpemVkfX19RHMucHJvdG90eXBlLmlzSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGU9ITA7Y2xhc3MgeW8gZXh0ZW5kcyBsdHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpO3RoaXMudHlwZT0iU3ByaXRlTWF0ZXJpYWwiLHRoaXMuY29sb3I9bmV3IGdlKDE2Nzc3MjE1KSx0aGlzLm1hcD1udWxsLHRoaXMuYWxwaGFNYXA9bnVsbCx0aGlzLnJvdGF0aW9uPTAsdGhpcy5zaXplQXR0ZW51YXRpb249ITAsdGhpcy50cmFuc3BhcmVudD0hMCx0aGlzLnNldFZhbHVlcyhlKX1jb3B5KGUpe3JldHVybiBzdXBlci5jb3B5KGUpLHRoaXMuY29sb3IuY29weShlLmNvbG9yKSx0aGlzLm1hcD1lLm1hcCx0aGlzLmFscGhhTWFwPWUuYWxwaGFNYXAsdGhpcy5yb3RhdGlvbj1lLnJvdGF0aW9uLHRoaXMuc2l6ZUF0dGVudWF0aW9uPWUuc2l6ZUF0dGVudWF0aW9uLHRoaXN9fXlvLnByb3RvdHlwZS5pc1Nwcml0ZU1hdGVyaWFsPSEwO2xldCBZcjtjb25zdCBPcz1uZXcgRSxacj1uZXcgRSxLcj1uZXcgRSxRcj1uZXcgZWUsenM9bmV3IGVlLG1jPW5ldyBfZSxWYT1uZXcgRSxCcz1uZXcgRSxXYT1uZXcgRSxnYz1uZXcgZWUsTW89bmV3IGVlLHZjPW5ldyBlZTtjbGFzcyB6eSBleHRlbmRzIGple2NvbnN0cnVjdG9yKGUpe3N1cGVyKCk7aWYodGhpcy50eXBlPSJTcHJpdGUiLFlyPT09dm9pZCAwKXtZcj1uZXcgJGU7Y29uc3QgdD1uZXcgRmxvYXQzMkFycmF5KFstLjUsLS41LDAsMCwwLC41LC0uNSwwLDEsMCwuNSwuNSwwLDEsMSwtLjUsLjUsMCwwLDFdKSxyPW5ldyBOcyh0LDUpO1lyLnNldEluZGV4KFswLDEsMiwwLDIsM10pLFlyLnNldEF0dHJpYnV0ZSgicG9zaXRpb24iLG5ldyBEcyhyLDMsMCwhMSkpLFlyLnNldEF0dHJpYnV0ZSgidXYiLG5ldyBEcyhyLDIsMywhMSkpfXRoaXMuZ2VvbWV0cnk9WXIsdGhpcy5tYXRlcmlhbD1lIT09dm9pZCAwP2U6bmV3IHlvLHRoaXMuY2VudGVyPW5ldyBlZSguNSwuNSl9cmF5Y2FzdChlLHQpe2UuY2FtZXJhPT09bnVsbCYmY29uc29sZS5lcnJvcignVEhSRUUuU3ByaXRlOiAiUmF5Y2FzdGVyLmNhbWVyYSIgbmVlZHMgdG8gYmUgc2V0IGluIG9yZGVyIHRvIHJheWNhc3QgYWdhaW5zdCBzcHJpdGVzLicpLFpyLnNldEZyb21NYXRyaXhTY2FsZSh0aGlzLm1hdHJpeFdvcmxkKSxtYy5jb3B5KGUuY2FtZXJhLm1hdHJpeFdvcmxkKSx0aGlzLm1vZGVsVmlld01hdHJpeC5tdWx0aXBseU1hdHJpY2VzKGUuY2FtZXJhLm1hdHJpeFdvcmxkSW52ZXJzZSx0aGlzLm1hdHJpeFdvcmxkKSxLci5zZXRGcm9tTWF0cml4UG9zaXRpb24odGhpcy5tb2RlbFZpZXdNYXRyaXgpLGUuY2FtZXJhLmlzUGVyc3BlY3RpdmVDYW1lcmEmJnRoaXMubWF0ZXJpYWwuc2l6ZUF0dGVudWF0aW9uPT09ITEmJlpyLm11bHRpcGx5U2NhbGFyKC1Lci56KTtjb25zdCByPXRoaXMubWF0ZXJpYWwucm90YXRpb247bGV0IHMsYTtyIT09MCYmKGE9TWF0aC5jb3Mocikscz1NYXRoLnNpbihyKSk7Y29uc3Qgbj10aGlzLmNlbnRlcjtqYShWYS5zZXQoLS41LC0uNSwwKSxLcixuLFpyLHMsYSksamEoQnMuc2V0KC41LC0uNSwwKSxLcixuLFpyLHMsYSksamEoV2Euc2V0KC41LC41LDApLEtyLG4sWnIscyxhKSxnYy5zZXQoMCwwKSxNby5zZXQoMSwwKSx2Yy5zZXQoMSwxKTtsZXQgbz1lLnJheS5pbnRlcnNlY3RUcmlhbmdsZShWYSxCcyxXYSwhMSxPcyk7aWYobz09PW51bGwmJihqYShCcy5zZXQoLS41LC41LDApLEtyLG4sWnIscyxhKSxNby5zZXQoMCwxKSxvPWUucmF5LmludGVyc2VjdFRyaWFuZ2xlKFZhLFdhLEJzLCExLE9zKSxvPT09bnVsbCkpcmV0dXJuO2NvbnN0IGg9ZS5yYXkub3JpZ2luLmRpc3RhbmNlVG8oT3MpO2g8ZS5uZWFyfHxoPmUuZmFyfHx0LnB1c2goe2Rpc3RhbmNlOmgscG9pbnQ6T3MuY2xvbmUoKSx1djphdC5nZXRVVihPcyxWYSxCcyxXYSxnYyxNbyx2YyxuZXcgZWUpLGZhY2U6bnVsbCxvYmplY3Q6dGhpc30pfWNvcHkoZSl7cmV0dXJuIHN1cGVyLmNvcHkoZSksZS5jZW50ZXIhPT12b2lkIDAmJnRoaXMuY2VudGVyLmNvcHkoZS5jZW50ZXIpLHRoaXMubWF0ZXJpYWw9ZS5tYXRlcmlhbCx0aGlzfX16eS5wcm90b3R5cGUuaXNTcHJpdGU9ITA7ZnVuY3Rpb24gamEoaSxlLHQscixzLGEpe1FyLnN1YlZlY3RvcnMoaSx0KS5hZGRTY2FsYXIoLjUpLm11bHRpcGx5KHIpLHMhPT12b2lkIDA/KHpzLng9YSpRci54LXMqUXIueSx6cy55PXMqUXIueCthKlFyLnkpOnpzLmNvcHkoUXIpLGkuY29weShlKSxpLngrPXpzLngsaS55Kz16cy55LGkuYXBwbHlNYXRyaXg0KG1jKX1jb25zdCB4Yz1uZXcgRSxfYz1uZXcgWGUseWM9bmV3IFhlLEJ5PW5ldyBFLE1jPW5ldyBfZTtjbGFzcyBiYyBleHRlbmRzIE50e2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KTt0aGlzLnR5cGU9IlNraW5uZWRNZXNoIix0aGlzLmJpbmRNb2RlPSJhdHRhY2hlZCIsdGhpcy5iaW5kTWF0cml4PW5ldyBfZSx0aGlzLmJpbmRNYXRyaXhJbnZlcnNlPW5ldyBfZX1jb3B5KGUpe3JldHVybiBzdXBlci5jb3B5KGUpLHRoaXMuYmluZE1vZGU9ZS5iaW5kTW9kZSx0aGlzLmJpbmRNYXRyaXguY29weShlLmJpbmRNYXRyaXgpLHRoaXMuYmluZE1hdHJpeEludmVyc2UuY29weShlLmJpbmRNYXRyaXhJbnZlcnNlKSx0aGlzLnNrZWxldG9uPWUuc2tlbGV0b24sdGhpc31iaW5kKGUsdCl7dGhpcy5za2VsZXRvbj1lLHQ9PT12b2lkIDAmJih0aGlzLnVwZGF0ZU1hdHJpeFdvcmxkKCEwKSx0aGlzLnNrZWxldG9uLmNhbGN1bGF0ZUludmVyc2VzKCksdD10aGlzLm1hdHJpeFdvcmxkKSx0aGlzLmJpbmRNYXRyaXguY29weSh0KSx0aGlzLmJpbmRNYXRyaXhJbnZlcnNlLmNvcHkodCkuaW52ZXJ0KCl9cG9zZSgpe3RoaXMuc2tlbGV0b24ucG9zZSgpfW5vcm1hbGl6ZVNraW5XZWlnaHRzKCl7Y29uc3QgZT1uZXcgWGUsdD10aGlzLmdlb21ldHJ5LmF0dHJpYnV0ZXMuc2tpbldlaWdodDtmb3IobGV0IHI9MCxzPXQuY291bnQ7cjxzO3IrKyl7ZS5mcm9tQnVmZmVyQXR0cmlidXRlKHQscik7Y29uc3QgYT0xL2UubWFuaGF0dGFuTGVuZ3RoKCk7YSE9PTEvMD9lLm11bHRpcGx5U2NhbGFyKGEpOmUuc2V0KDEsMCwwLDApLHQuc2V0WFlaVyhyLGUueCxlLnksZS56LGUudyl9fXVwZGF0ZU1hdHJpeFdvcmxkKGUpe3N1cGVyLnVwZGF0ZU1hdHJpeFdvcmxkKGUpLHRoaXMuYmluZE1vZGU9PT0iYXR0YWNoZWQiP3RoaXMuYmluZE1hdHJpeEludmVyc2UuY29weSh0aGlzLm1hdHJpeFdvcmxkKS5pbnZlcnQoKTp0aGlzLmJpbmRNb2RlPT09ImRldGFjaGVkIj90aGlzLmJpbmRNYXRyaXhJbnZlcnNlLmNvcHkodGhpcy5iaW5kTWF0cml4KS5pbnZlcnQoKTpjb25zb2xlLndhcm4oIlRIUkVFLlNraW5uZWRNZXNoOiBVbnJlY29nbml6ZWQgYmluZE1vZGU6ICIrdGhpcy5iaW5kTW9kZSl9Ym9uZVRyYW5zZm9ybShlLHQpe2NvbnN0IHI9dGhpcy5za2VsZXRvbixzPXRoaXMuZ2VvbWV0cnk7X2MuZnJvbUJ1ZmZlckF0dHJpYnV0ZShzLmF0dHJpYnV0ZXMuc2tpbkluZGV4LGUpLHljLmZyb21CdWZmZXJBdHRyaWJ1dGUocy5hdHRyaWJ1dGVzLnNraW5XZWlnaHQsZSkseGMuY29weSh0KS5hcHBseU1hdHJpeDQodGhpcy5iaW5kTWF0cml4KSx0LnNldCgwLDAsMCk7Zm9yKGxldCBhPTA7YTw0O2ErKyl7Y29uc3Qgbj15Yy5nZXRDb21wb25lbnQoYSk7aWYobiE9PTApe2NvbnN0IG89X2MuZ2V0Q29tcG9uZW50KGEpO01jLm11bHRpcGx5TWF0cmljZXMoci5ib25lc1tvXS5tYXRyaXhXb3JsZCxyLmJvbmVJbnZlcnNlc1tvXSksdC5hZGRTY2FsZWRWZWN0b3IoQnkuY29weSh4YykuYXBwbHlNYXRyaXg0KE1jKSxuKX19cmV0dXJuIHQuYXBwbHlNYXRyaXg0KHRoaXMuYmluZE1hdHJpeEludmVyc2UpfX1iYy5wcm90b3R5cGUuaXNTa2lubmVkTWVzaD0hMDtjbGFzcyBVeSBleHRlbmRzIGple2NvbnN0cnVjdG9yKCl7c3VwZXIoKTt0aGlzLnR5cGU9IkJvbmUifX1VeS5wcm90b3R5cGUuaXNCb25lPSEwO2NsYXNzIEZ5IGV4dGVuZHMgZHR7Y29uc3RydWN0b3IoZT1udWxsLHQ9MSxyPTEscyxhLG4sbyxoLGw9dXQsYz11dCx1LGQpe3N1cGVyKG51bGwsbixvLGgsbCxjLHMsYSx1LGQpO3RoaXMuaW1hZ2U9e2RhdGE6ZSx3aWR0aDp0LGhlaWdodDpyfSx0aGlzLmdlbmVyYXRlTWlwbWFwcz0hMSx0aGlzLmZsaXBZPSExLHRoaXMudW5wYWNrQWxpZ25tZW50PTF9fUZ5LnByb3RvdHlwZS5pc0RhdGFUZXh0dXJlPSEwO2NsYXNzIGJvIGV4dGVuZHMgY3R7Y29uc3RydWN0b3IoZSx0LHIscz0xKXt0eXBlb2Ygcj09Im51bWJlciImJihzPXIscj0hMSxjb25zb2xlLmVycm9yKCJUSFJFRS5JbnN0YW5jZWRCdWZmZXJBdHRyaWJ1dGU6IFRoZSBjb25zdHJ1Y3RvciBub3cgZXhwZWN0cyBub3JtYWxpemVkIGFzIHRoZSB0aGlyZCBhcmd1bWVudC4iKSk7c3VwZXIoZSx0LHIpO3RoaXMubWVzaFBlckF0dHJpYnV0ZT1zfWNvcHkoZSl7cmV0dXJuIHN1cGVyLmNvcHkoZSksdGhpcy5tZXNoUGVyQXR0cmlidXRlPWUubWVzaFBlckF0dHJpYnV0ZSx0aGlzfXRvSlNPTigpe2NvbnN0IGU9c3VwZXIudG9KU09OKCk7cmV0dXJuIGUubWVzaFBlckF0dHJpYnV0ZT10aGlzLm1lc2hQZXJBdHRyaWJ1dGUsZS5pc0luc3RhbmNlZEJ1ZmZlckF0dHJpYnV0ZT0hMCxlfX1iby5wcm90b3R5cGUuaXNJbnN0YW5jZWRCdWZmZXJBdHRyaWJ1dGU9ITA7Y29uc3Qgd2M9bmV3IF9lLFNjPW5ldyBfZSxxYT1bXSxVcz1uZXcgTnQ7Y2xhc3MgSHkgZXh0ZW5kcyBOdHtjb25zdHJ1Y3RvcihlLHQscil7c3VwZXIoZSx0KTt0aGlzLmluc3RhbmNlTWF0cml4PW5ldyBibyhuZXcgRmxvYXQzMkFycmF5KHIqMTYpLDE2KSx0aGlzLmluc3RhbmNlQ29sb3I9bnVsbCx0aGlzLmNvdW50PXIsdGhpcy5mcnVzdHVtQ3VsbGVkPSExfWNvcHkoZSl7cmV0dXJuIHN1cGVyLmNvcHkoZSksdGhpcy5pbnN0YW5jZU1hdHJpeC5jb3B5KGUuaW5zdGFuY2VNYXRyaXgpLGUuaW5zdGFuY2VDb2xvciE9PW51bGwmJih0aGlzLmluc3RhbmNlQ29sb3I9ZS5pbnN0YW5jZUNvbG9yLmNsb25lKCkpLHRoaXMuY291bnQ9ZS5jb3VudCx0aGlzfWdldENvbG9yQXQoZSx0KXt0LmZyb21BcnJheSh0aGlzLmluc3RhbmNlQ29sb3IuYXJyYXksZSozKX1nZXRNYXRyaXhBdChlLHQpe3QuZnJvbUFycmF5KHRoaXMuaW5zdGFuY2VNYXRyaXguYXJyYXksZSoxNil9cmF5Y2FzdChlLHQpe2NvbnN0IHI9dGhpcy5tYXRyaXhXb3JsZCxzPXRoaXMuY291bnQ7aWYoVXMuZ2VvbWV0cnk9dGhpcy5nZW9tZXRyeSxVcy5tYXRlcmlhbD10aGlzLm1hdGVyaWFsLFVzLm1hdGVyaWFsIT09dm9pZCAwKWZvcihsZXQgYT0wO2E8czthKyspe3RoaXMuZ2V0TWF0cml4QXQoYSx3YyksU2MubXVsdGlwbHlNYXRyaWNlcyhyLHdjKSxVcy5tYXRyaXhXb3JsZD1TYyxVcy5yYXljYXN0KGUscWEpO2ZvcihsZXQgbj0wLG89cWEubGVuZ3RoO248bztuKyspe2NvbnN0IGg9cWFbbl07aC5pbnN0YW5jZUlkPWEsaC5vYmplY3Q9dGhpcyx0LnB1c2goaCl9cWEubGVuZ3RoPTB9fXNldENvbG9yQXQoZSx0KXt0aGlzLmluc3RhbmNlQ29sb3I9PT1udWxsJiYodGhpcy5pbnN0YW5jZUNvbG9yPW5ldyBibyhuZXcgRmxvYXQzMkFycmF5KHRoaXMuaW5zdGFuY2VNYXRyaXguY291bnQqMyksMykpLHQudG9BcnJheSh0aGlzLmluc3RhbmNlQ29sb3IuYXJyYXksZSozKX1zZXRNYXRyaXhBdChlLHQpe3QudG9BcnJheSh0aGlzLmluc3RhbmNlTWF0cml4LmFycmF5LGUqMTYpfXVwZGF0ZU1vcnBoVGFyZ2V0cygpe31kaXNwb3NlKCl7dGhpcy5kaXNwYXRjaEV2ZW50KHt0eXBlOiJkaXNwb3NlIn0pfX1IeS5wcm90b3R5cGUuaXNJbnN0YW5jZWRNZXNoPSEwO2NsYXNzICRyIGV4dGVuZHMgbHR7Y29uc3RydWN0b3IoZSl7c3VwZXIoKTt0aGlzLnR5cGU9IkxpbmVCYXNpY01hdGVyaWFsIix0aGlzLmNvbG9yPW5ldyBnZSgxNjc3NzIxNSksdGhpcy5saW5ld2lkdGg9MSx0aGlzLmxpbmVjYXA9InJvdW5kIix0aGlzLmxpbmVqb2luPSJyb3VuZCIsdGhpcy5zZXRWYWx1ZXMoZSl9Y29weShlKXtyZXR1cm4gc3VwZXIuY29weShlKSx0aGlzLmNvbG9yLmNvcHkoZS5jb2xvciksdGhpcy5saW5ld2lkdGg9ZS5saW5ld2lkdGgsdGhpcy5saW5lY2FwPWUubGluZWNhcCx0aGlzLmxpbmVqb2luPWUubGluZWpvaW4sdGhpc319JHIucHJvdG90eXBlLmlzTGluZUJhc2ljTWF0ZXJpYWw9ITA7Y29uc3QgRWM9bmV3IEUsVGM9bmV3IEUsQWM9bmV3IF9lLHdvPW5ldyBPcixYYT1uZXcgRHI7Y2xhc3MgU28gZXh0ZW5kcyBqZXtjb25zdHJ1Y3RvcihlPW5ldyAkZSx0PW5ldyAkcil7c3VwZXIoKTt0aGlzLnR5cGU9IkxpbmUiLHRoaXMuZ2VvbWV0cnk9ZSx0aGlzLm1hdGVyaWFsPXQsdGhpcy51cGRhdGVNb3JwaFRhcmdldHMoKX1jb3B5KGUpe3JldHVybiBzdXBlci5jb3B5KGUpLHRoaXMubWF0ZXJpYWw9ZS5tYXRlcmlhbCx0aGlzLmdlb21ldHJ5PWUuZ2VvbWV0cnksdGhpc31jb21wdXRlTGluZURpc3RhbmNlcygpe2NvbnN0IGU9dGhpcy5nZW9tZXRyeTtpZihlLmlzQnVmZmVyR2VvbWV0cnkpaWYoZS5pbmRleD09PW51bGwpe2NvbnN0IHQ9ZS5hdHRyaWJ1dGVzLnBvc2l0aW9uLHI9WzBdO2ZvcihsZXQgcz0xLGE9dC5jb3VudDtzPGE7cysrKUVjLmZyb21CdWZmZXJBdHRyaWJ1dGUodCxzLTEpLFRjLmZyb21CdWZmZXJBdHRyaWJ1dGUodCxzKSxyW3NdPXJbcy0xXSxyW3NdKz1FYy5kaXN0YW5jZVRvKFRjKTtlLnNldEF0dHJpYnV0ZSgibGluZURpc3RhbmNlIixuZXcgcHQociwxKSl9ZWxzZSBjb25zb2xlLndhcm4oIlRIUkVFLkxpbmUuY29tcHV0ZUxpbmVEaXN0YW5jZXMoKTogQ29tcHV0YXRpb24gb25seSBwb3NzaWJsZSB3aXRoIG5vbi1pbmRleGVkIEJ1ZmZlckdlb21ldHJ5LiIpO2Vsc2UgZS5pc0dlb21ldHJ5JiZjb25zb2xlLmVycm9yKCJUSFJFRS5MaW5lLmNvbXB1dGVMaW5lRGlzdGFuY2VzKCkgbm8gbG9uZ2VyIHN1cHBvcnRzIFRIUkVFLkdlb21ldHJ5LiBVc2UgVEhSRUUuQnVmZmVyR2VvbWV0cnkgaW5zdGVhZC4iKTtyZXR1cm4gdGhpc31yYXljYXN0KGUsdCl7Y29uc3Qgcj10aGlzLmdlb21ldHJ5LHM9dGhpcy5tYXRyaXhXb3JsZCxhPWUucGFyYW1zLkxpbmUudGhyZXNob2xkLG49ci5kcmF3UmFuZ2U7aWYoci5ib3VuZGluZ1NwaGVyZT09PW51bGwmJnIuY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCksWGEuY29weShyLmJvdW5kaW5nU3BoZXJlKSxYYS5hcHBseU1hdHJpeDQocyksWGEucmFkaXVzKz1hLGUucmF5LmludGVyc2VjdHNTcGhlcmUoWGEpPT09ITEpcmV0dXJuO0FjLmNvcHkocykuaW52ZXJ0KCksd28uY29weShlLnJheSkuYXBwbHlNYXRyaXg0KEFjKTtjb25zdCBvPWEvKCh0aGlzLnNjYWxlLngrdGhpcy5zY2FsZS55K3RoaXMuc2NhbGUueikvMyksaD1vKm8sbD1uZXcgRSxjPW5ldyBFLHU9bmV3IEUsZD1uZXcgRSxwPXRoaXMuaXNMaW5lU2VnbWVudHM/MjoxO2lmKHIuaXNCdWZmZXJHZW9tZXRyeSl7Y29uc3QgZz1yLmluZGV4LGY9ci5hdHRyaWJ1dGVzLnBvc2l0aW9uO2lmKGchPT1udWxsKXtjb25zdCBtPU1hdGgubWF4KDAsbi5zdGFydCksdj1NYXRoLm1pbihnLmNvdW50LG4uc3RhcnQrbi5jb3VudCk7Zm9yKGxldCB5PW0sVD12LTE7eTxUO3krPXApe2NvbnN0IHc9Zy5nZXRYKHkpLGI9Zy5nZXRYKHkrMSk7aWYobC5mcm9tQnVmZmVyQXR0cmlidXRlKGYsdyksYy5mcm9tQnVmZmVyQXR0cmlidXRlKGYsYiksd28uZGlzdGFuY2VTcVRvU2VnbWVudChsLGMsZCx1KT5oKWNvbnRpbnVlO2QuYXBwbHlNYXRyaXg0KHRoaXMubWF0cml4V29ybGQpO2NvbnN0IEw9ZS5yYXkub3JpZ2luLmRpc3RhbmNlVG8oZCk7TDxlLm5lYXJ8fEw+ZS5mYXJ8fHQucHVzaCh7ZGlzdGFuY2U6TCxwb2ludDp1LmNsb25lKCkuYXBwbHlNYXRyaXg0KHRoaXMubWF0cml4V29ybGQpLGluZGV4OnksZmFjZTpudWxsLGZhY2VJbmRleDpudWxsLG9iamVjdDp0aGlzfSl9fWVsc2V7Y29uc3QgbT1NYXRoLm1heCgwLG4uc3RhcnQpLHY9TWF0aC5taW4oZi5jb3VudCxuLnN0YXJ0K24uY291bnQpO2ZvcihsZXQgeT1tLFQ9di0xO3k8VDt5Kz1wKXtpZihsLmZyb21CdWZmZXJBdHRyaWJ1dGUoZix5KSxjLmZyb21CdWZmZXJBdHRyaWJ1dGUoZix5KzEpLHdvLmRpc3RhbmNlU3FUb1NlZ21lbnQobCxjLGQsdSk+aCljb250aW51ZTtkLmFwcGx5TWF0cml4NCh0aGlzLm1hdHJpeFdvcmxkKTtjb25zdCB3PWUucmF5Lm9yaWdpbi5kaXN0YW5jZVRvKGQpO3c8ZS5uZWFyfHx3PmUuZmFyfHx0LnB1c2goe2Rpc3RhbmNlOncscG9pbnQ6dS5jbG9uZSgpLmFwcGx5TWF0cml4NCh0aGlzLm1hdHJpeFdvcmxkKSxpbmRleDp5LGZhY2U6bnVsbCxmYWNlSW5kZXg6bnVsbCxvYmplY3Q6dGhpc30pfX19ZWxzZSByLmlzR2VvbWV0cnkmJmNvbnNvbGUuZXJyb3IoIlRIUkVFLkxpbmUucmF5Y2FzdCgpIG5vIGxvbmdlciBzdXBwb3J0cyBUSFJFRS5HZW9tZXRyeS4gVXNlIFRIUkVFLkJ1ZmZlckdlb21ldHJ5IGluc3RlYWQuIil9dXBkYXRlTW9ycGhUYXJnZXRzKCl7Y29uc3QgZT10aGlzLmdlb21ldHJ5O2lmKGUuaXNCdWZmZXJHZW9tZXRyeSl7Y29uc3QgdD1lLm1vcnBoQXR0cmlidXRlcyxyPU9iamVjdC5rZXlzKHQpO2lmKHIubGVuZ3RoPjApe2NvbnN0IHM9dFtyWzBdXTtpZihzIT09dm9pZCAwKXt0aGlzLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcz1bXSx0aGlzLm1vcnBoVGFyZ2V0RGljdGlvbmFyeT17fTtmb3IobGV0IGE9MCxuPXMubGVuZ3RoO2E8bjthKyspe2NvbnN0IG89c1thXS5uYW1lfHxTdHJpbmcoYSk7dGhpcy5tb3JwaFRhcmdldEluZmx1ZW5jZXMucHVzaCgwKSx0aGlzLm1vcnBoVGFyZ2V0RGljdGlvbmFyeVtvXT1hfX19fWVsc2V7Y29uc3QgdD1lLm1vcnBoVGFyZ2V0czt0IT09dm9pZCAwJiZ0Lmxlbmd0aD4wJiZjb25zb2xlLmVycm9yKCJUSFJFRS5MaW5lLnVwZGF0ZU1vcnBoVGFyZ2V0cygpIGRvZXMgbm90IHN1cHBvcnQgVEhSRUUuR2VvbWV0cnkuIFVzZSBUSFJFRS5CdWZmZXJHZW9tZXRyeSBpbnN0ZWFkLiIpfX19U28ucHJvdG90eXBlLmlzTGluZT0hMDtjb25zdCBDYz1uZXcgRSxMYz1uZXcgRTtjbGFzcyBFbyBleHRlbmRzIFNve2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KTt0aGlzLnR5cGU9IkxpbmVTZWdtZW50cyJ9Y29tcHV0ZUxpbmVEaXN0YW5jZXMoKXtjb25zdCBlPXRoaXMuZ2VvbWV0cnk7aWYoZS5pc0J1ZmZlckdlb21ldHJ5KWlmKGUuaW5kZXg9PT1udWxsKXtjb25zdCB0PWUuYXR0cmlidXRlcy5wb3NpdGlvbixyPVtdO2ZvcihsZXQgcz0wLGE9dC5jb3VudDtzPGE7cys9MilDYy5mcm9tQnVmZmVyQXR0cmlidXRlKHQscyksTGMuZnJvbUJ1ZmZlckF0dHJpYnV0ZSh0LHMrMSkscltzXT1zPT09MD8wOnJbcy0xXSxyW3MrMV09cltzXStDYy5kaXN0YW5jZVRvKExjKTtlLnNldEF0dHJpYnV0ZSgibGluZURpc3RhbmNlIixuZXcgcHQociwxKSl9ZWxzZSBjb25zb2xlLndhcm4oIlRIUkVFLkxpbmVTZWdtZW50cy5jb21wdXRlTGluZURpc3RhbmNlcygpOiBDb21wdXRhdGlvbiBvbmx5IHBvc3NpYmxlIHdpdGggbm9uLWluZGV4ZWQgQnVmZmVyR2VvbWV0cnkuIik7ZWxzZSBlLmlzR2VvbWV0cnkmJmNvbnNvbGUuZXJyb3IoIlRIUkVFLkxpbmVTZWdtZW50cy5jb21wdXRlTGluZURpc3RhbmNlcygpIG5vIGxvbmdlciBzdXBwb3J0cyBUSFJFRS5HZW9tZXRyeS4gVXNlIFRIUkVFLkJ1ZmZlckdlb21ldHJ5IGluc3RlYWQuIik7cmV0dXJuIHRoaXN9fUVvLnByb3RvdHlwZS5pc0xpbmVTZWdtZW50cz0hMDtjbGFzcyBreSBleHRlbmRzIFNve2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KTt0aGlzLnR5cGU9IkxpbmVMb29wIn19a3kucHJvdG90eXBlLmlzTGluZUxvb3A9ITA7Y2xhc3MgVG8gZXh0ZW5kcyBsdHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpO3RoaXMudHlwZT0iUG9pbnRzTWF0ZXJpYWwiLHRoaXMuY29sb3I9bmV3IGdlKDE2Nzc3MjE1KSx0aGlzLm1hcD1udWxsLHRoaXMuYWxwaGFNYXA9bnVsbCx0aGlzLnNpemU9MSx0aGlzLnNpemVBdHRlbnVhdGlvbj0hMCx0aGlzLnNldFZhbHVlcyhlKX1jb3B5KGUpe3JldHVybiBzdXBlci5jb3B5KGUpLHRoaXMuY29sb3IuY29weShlLmNvbG9yKSx0aGlzLm1hcD1lLm1hcCx0aGlzLmFscGhhTWFwPWUuYWxwaGFNYXAsdGhpcy5zaXplPWUuc2l6ZSx0aGlzLnNpemVBdHRlbnVhdGlvbj1lLnNpemVBdHRlbnVhdGlvbix0aGlzfX1Uby5wcm90b3R5cGUuaXNQb2ludHNNYXRlcmlhbD0hMDtjb25zdCBSYz1uZXcgX2UsQW89bmV3IE9yLEphPW5ldyBEcixZYT1uZXcgRTtjbGFzcyBHeSBleHRlbmRzIGple2NvbnN0cnVjdG9yKGU9bmV3ICRlLHQ9bmV3IFRvKXtzdXBlcigpO3RoaXMudHlwZT0iUG9pbnRzIix0aGlzLmdlb21ldHJ5PWUsdGhpcy5tYXRlcmlhbD10LHRoaXMudXBkYXRlTW9ycGhUYXJnZXRzKCl9Y29weShlKXtyZXR1cm4gc3VwZXIuY29weShlKSx0aGlzLm1hdGVyaWFsPWUubWF0ZXJpYWwsdGhpcy5nZW9tZXRyeT1lLmdlb21ldHJ5LHRoaXN9cmF5Y2FzdChlLHQpe2NvbnN0IHI9dGhpcy5nZW9tZXRyeSxzPXRoaXMubWF0cml4V29ybGQsYT1lLnBhcmFtcy5Qb2ludHMudGhyZXNob2xkLG49ci5kcmF3UmFuZ2U7aWYoci5ib3VuZGluZ1NwaGVyZT09PW51bGwmJnIuY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCksSmEuY29weShyLmJvdW5kaW5nU3BoZXJlKSxKYS5hcHBseU1hdHJpeDQocyksSmEucmFkaXVzKz1hLGUucmF5LmludGVyc2VjdHNTcGhlcmUoSmEpPT09ITEpcmV0dXJuO1JjLmNvcHkocykuaW52ZXJ0KCksQW8uY29weShlLnJheSkuYXBwbHlNYXRyaXg0KFJjKTtjb25zdCBvPWEvKCh0aGlzLnNjYWxlLngrdGhpcy5zY2FsZS55K3RoaXMuc2NhbGUueikvMyksaD1vKm87aWYoci5pc0J1ZmZlckdlb21ldHJ5KXtjb25zdCBsPXIuaW5kZXgsYz1yLmF0dHJpYnV0ZXMucG9zaXRpb247aWYobCE9PW51bGwpe2NvbnN0IHU9TWF0aC5tYXgoMCxuLnN0YXJ0KSxkPU1hdGgubWluKGwuY291bnQsbi5zdGFydCtuLmNvdW50KTtmb3IobGV0IHA9dSxnPWQ7cDxnO3ArKyl7Y29uc3QgZj1sLmdldFgocCk7WWEuZnJvbUJ1ZmZlckF0dHJpYnV0ZShjLGYpLFBjKFlhLGYsaCxzLGUsdCx0aGlzKX19ZWxzZXtjb25zdCB1PU1hdGgubWF4KDAsbi5zdGFydCksZD1NYXRoLm1pbihjLmNvdW50LG4uc3RhcnQrbi5jb3VudCk7Zm9yKGxldCBwPXUsZz1kO3A8ZztwKyspWWEuZnJvbUJ1ZmZlckF0dHJpYnV0ZShjLHApLFBjKFlhLHAsaCxzLGUsdCx0aGlzKX19ZWxzZSBjb25zb2xlLmVycm9yKCJUSFJFRS5Qb2ludHMucmF5Y2FzdCgpIG5vIGxvbmdlciBzdXBwb3J0cyBUSFJFRS5HZW9tZXRyeS4gVXNlIFRIUkVFLkJ1ZmZlckdlb21ldHJ5IGluc3RlYWQuIil9dXBkYXRlTW9ycGhUYXJnZXRzKCl7Y29uc3QgZT10aGlzLmdlb21ldHJ5O2lmKGUuaXNCdWZmZXJHZW9tZXRyeSl7Y29uc3QgdD1lLm1vcnBoQXR0cmlidXRlcyxyPU9iamVjdC5rZXlzKHQpO2lmKHIubGVuZ3RoPjApe2NvbnN0IHM9dFtyWzBdXTtpZihzIT09dm9pZCAwKXt0aGlzLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcz1bXSx0aGlzLm1vcnBoVGFyZ2V0RGljdGlvbmFyeT17fTtmb3IobGV0IGE9MCxuPXMubGVuZ3RoO2E8bjthKyspe2NvbnN0IG89c1thXS5uYW1lfHxTdHJpbmcoYSk7dGhpcy5tb3JwaFRhcmdldEluZmx1ZW5jZXMucHVzaCgwKSx0aGlzLm1vcnBoVGFyZ2V0RGljdGlvbmFyeVtvXT1hfX19fWVsc2V7Y29uc3QgdD1lLm1vcnBoVGFyZ2V0czt0IT09dm9pZCAwJiZ0Lmxlbmd0aD4wJiZjb25zb2xlLmVycm9yKCJUSFJFRS5Qb2ludHMudXBkYXRlTW9ycGhUYXJnZXRzKCkgZG9lcyBub3Qgc3VwcG9ydCBUSFJFRS5HZW9tZXRyeS4gVXNlIFRIUkVFLkJ1ZmZlckdlb21ldHJ5IGluc3RlYWQuIil9fX1HeS5wcm90b3R5cGUuaXNQb2ludHM9ITA7ZnVuY3Rpb24gUGMoaSxlLHQscixzLGEsbil7Y29uc3Qgbz1Bby5kaXN0YW5jZVNxVG9Qb2ludChpKTtpZihvPHQpe2NvbnN0IGg9bmV3IEU7QW8uY2xvc2VzdFBvaW50VG9Qb2ludChpLGgpLGguYXBwbHlNYXRyaXg0KHIpO2NvbnN0IGw9cy5yYXkub3JpZ2luLmRpc3RhbmNlVG8oaCk7aWYobDxzLm5lYXJ8fGw+cy5mYXIpcmV0dXJuO2EucHVzaCh7ZGlzdGFuY2U6bCxkaXN0YW5jZVRvUmF5Ok1hdGguc3FydChvKSxwb2ludDpoLGluZGV4OmUsZmFjZTpudWxsLG9iamVjdDpufSl9fWNsYXNzIFZ5IGV4dGVuZHMgZHR7Y29uc3RydWN0b3IoZSx0LHIscyxhLG4sbyxoLGwpe3N1cGVyKGUsdCxyLHMsYSxuLG8saCxsKTt0aGlzLm1pbkZpbHRlcj1uIT09dm9pZCAwP246SXQsdGhpcy5tYWdGaWx0ZXI9YSE9PXZvaWQgMD9hOkl0LHRoaXMuZ2VuZXJhdGVNaXBtYXBzPSExO2NvbnN0IGM9dGhpcztmdW5jdGlvbiB1KCl7Yy5uZWVkc1VwZGF0ZT0hMCxlLnJlcXVlc3RWaWRlb0ZyYW1lQ2FsbGJhY2sodSl9InJlcXVlc3RWaWRlb0ZyYW1lQ2FsbGJhY2siaW4gZSYmZS5yZXF1ZXN0VmlkZW9GcmFtZUNhbGxiYWNrKHUpfWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuaW1hZ2UpLmNvcHkodGhpcyl9dXBkYXRlKCl7Y29uc3QgZT10aGlzLmltYWdlOyEoInJlcXVlc3RWaWRlb0ZyYW1lQ2FsbGJhY2siaW4gZSkmJmUucmVhZHlTdGF0ZT49ZS5IQVZFX0NVUlJFTlRfREFUQSYmKHRoaXMubmVlZHNVcGRhdGU9ITApfX1WeS5wcm90b3R5cGUuaXNWaWRlb1RleHR1cmU9ITA7Y2xhc3MgV3kgZXh0ZW5kcyBkdHtjb25zdHJ1Y3RvcihlLHQscil7c3VwZXIoe3dpZHRoOmUsaGVpZ2h0OnR9KTt0aGlzLmZvcm1hdD1yLHRoaXMubWFnRmlsdGVyPXV0LHRoaXMubWluRmlsdGVyPXV0LHRoaXMuZ2VuZXJhdGVNaXBtYXBzPSExLHRoaXMubmVlZHNVcGRhdGU9ITB9fVd5LnByb3RvdHlwZS5pc0ZyYW1lYnVmZmVyVGV4dHVyZT0hMDtjbGFzcyBqeSBleHRlbmRzIGR0e2NvbnN0cnVjdG9yKGUsdCxyLHMsYSxuLG8saCxsLGMsdSxkKXtzdXBlcihudWxsLG4sbyxoLGwsYyxzLGEsdSxkKTt0aGlzLmltYWdlPXt3aWR0aDp0LGhlaWdodDpyfSx0aGlzLm1pcG1hcHM9ZSx0aGlzLmZsaXBZPSExLHRoaXMuZ2VuZXJhdGVNaXBtYXBzPSExfX1qeS5wcm90b3R5cGUuaXNDb21wcmVzc2VkVGV4dHVyZT0hMDtjbGFzcyBxeSBleHRlbmRzIGR0e2NvbnN0cnVjdG9yKGUsdCxyLHMsYSxuLG8saCxsKXtzdXBlcihlLHQscixzLGEsbixvLGgsbCk7dGhpcy5uZWVkc1VwZGF0ZT0hMH19cXkucHJvdG90eXBlLmlzQ2FudmFzVGV4dHVyZT0hMDtjbGFzcyBHdHtjb25zdHJ1Y3Rvcigpe3RoaXMudHlwZT0iQ3VydmUiLHRoaXMuYXJjTGVuZ3RoRGl2aXNpb25zPTIwMH1nZXRQb2ludCgpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkN1cnZlOiAuZ2V0UG9pbnQoKSBub3QgaW1wbGVtZW50ZWQuIiksbnVsbH1nZXRQb2ludEF0KGUsdCl7Y29uc3Qgcj10aGlzLmdldFV0b1RtYXBwaW5nKGUpO3JldHVybiB0aGlzLmdldFBvaW50KHIsdCl9Z2V0UG9pbnRzKGU9NSl7Y29uc3QgdD1bXTtmb3IobGV0IHI9MDtyPD1lO3IrKyl0LnB1c2godGhpcy5nZXRQb2ludChyL2UpKTtyZXR1cm4gdH1nZXRTcGFjZWRQb2ludHMoZT01KXtjb25zdCB0PVtdO2ZvcihsZXQgcj0wO3I8PWU7cisrKXQucHVzaCh0aGlzLmdldFBvaW50QXQoci9lKSk7cmV0dXJuIHR9Z2V0TGVuZ3RoKCl7Y29uc3QgZT10aGlzLmdldExlbmd0aHMoKTtyZXR1cm4gZVtlLmxlbmd0aC0xXX1nZXRMZW5ndGhzKGU9dGhpcy5hcmNMZW5ndGhEaXZpc2lvbnMpe2lmKHRoaXMuY2FjaGVBcmNMZW5ndGhzJiZ0aGlzLmNhY2hlQXJjTGVuZ3Rocy5sZW5ndGg9PT1lKzEmJiF0aGlzLm5lZWRzVXBkYXRlKXJldHVybiB0aGlzLmNhY2hlQXJjTGVuZ3Roczt0aGlzLm5lZWRzVXBkYXRlPSExO2NvbnN0IHQ9W107bGV0IHIscz10aGlzLmdldFBvaW50KDApLGE9MDt0LnB1c2goMCk7Zm9yKGxldCBuPTE7bjw9ZTtuKyspcj10aGlzLmdldFBvaW50KG4vZSksYSs9ci5kaXN0YW5jZVRvKHMpLHQucHVzaChhKSxzPXI7cmV0dXJuIHRoaXMuY2FjaGVBcmNMZW5ndGhzPXQsdH11cGRhdGVBcmNMZW5ndGhzKCl7dGhpcy5uZWVkc1VwZGF0ZT0hMCx0aGlzLmdldExlbmd0aHMoKX1nZXRVdG9UbWFwcGluZyhlLHQpe2NvbnN0IHI9dGhpcy5nZXRMZW5ndGhzKCk7bGV0IHM9MDtjb25zdCBhPXIubGVuZ3RoO2xldCBuO3Q/bj10Om49ZSpyW2EtMV07bGV0IG89MCxoPWEtMSxsO2Zvcig7bzw9aDspaWYocz1NYXRoLmZsb29yKG8rKGgtbykvMiksbD1yW3NdLW4sbDwwKW89cysxO2Vsc2UgaWYobD4wKWg9cy0xO2Vsc2V7aD1zO2JyZWFrfWlmKHM9aCxyW3NdPT09bilyZXR1cm4gcy8oYS0xKTtjb25zdCBjPXJbc10sdT1yW3MrMV0tYyxkPShuLWMpL3U7cmV0dXJuKHMrZCkvKGEtMSl9Z2V0VGFuZ2VudChlLHQpe2xldCByPWUtMWUtNCxzPWUrMWUtNDtyPDAmJihyPTApLHM+MSYmKHM9MSk7Y29uc3QgYT10aGlzLmdldFBvaW50KHIpLG49dGhpcy5nZXRQb2ludChzKSxvPXR8fChhLmlzVmVjdG9yMj9uZXcgZWU6bmV3IEUpO3JldHVybiBvLmNvcHkobikuc3ViKGEpLm5vcm1hbGl6ZSgpLG99Z2V0VGFuZ2VudEF0KGUsdCl7Y29uc3Qgcj10aGlzLmdldFV0b1RtYXBwaW5nKGUpO3JldHVybiB0aGlzLmdldFRhbmdlbnQocix0KX1jb21wdXRlRnJlbmV0RnJhbWVzKGUsdCl7Y29uc3Qgcj1uZXcgRSxzPVtdLGE9W10sbj1bXSxvPW5ldyBFLGg9bmV3IF9lO2ZvcihsZXQgcD0wO3A8PWU7cCsrKXtjb25zdCBnPXAvZTtzW3BdPXRoaXMuZ2V0VGFuZ2VudEF0KGcsbmV3IEUpfWFbMF09bmV3IEUsblswXT1uZXcgRTtsZXQgbD1OdW1iZXIuTUFYX1ZBTFVFO2NvbnN0IGM9TWF0aC5hYnMoc1swXS54KSx1PU1hdGguYWJzKHNbMF0ueSksZD1NYXRoLmFicyhzWzBdLnopO2M8PWwmJihsPWMsci5zZXQoMSwwLDApKSx1PD1sJiYobD11LHIuc2V0KDAsMSwwKSksZDw9bCYmci5zZXQoMCwwLDEpLG8uY3Jvc3NWZWN0b3JzKHNbMF0scikubm9ybWFsaXplKCksYVswXS5jcm9zc1ZlY3RvcnMoc1swXSxvKSxuWzBdLmNyb3NzVmVjdG9ycyhzWzBdLGFbMF0pO2ZvcihsZXQgcD0xO3A8PWU7cCsrKXtpZihhW3BdPWFbcC0xXS5jbG9uZSgpLG5bcF09bltwLTFdLmNsb25lKCksby5jcm9zc1ZlY3RvcnMoc1twLTFdLHNbcF0pLG8ubGVuZ3RoKCk+TnVtYmVyLkVQU0lMT04pe28ubm9ybWFsaXplKCk7Y29uc3QgZz1NYXRoLmFjb3MoeXQoc1twLTFdLmRvdChzW3BdKSwtMSwxKSk7YVtwXS5hcHBseU1hdHJpeDQoaC5tYWtlUm90YXRpb25BeGlzKG8sZykpfW5bcF0uY3Jvc3NWZWN0b3JzKHNbcF0sYVtwXSl9aWYodD09PSEwKXtsZXQgcD1NYXRoLmFjb3MoeXQoYVswXS5kb3QoYVtlXSksLTEsMSkpO3AvPWUsc1swXS5kb3Qoby5jcm9zc1ZlY3RvcnMoYVswXSxhW2VdKSk+MCYmKHA9LXApO2ZvcihsZXQgZz0xO2c8PWU7ZysrKWFbZ10uYXBwbHlNYXRyaXg0KGgubWFrZVJvdGF0aW9uQXhpcyhzW2ddLHAqZykpLG5bZ10uY3Jvc3NWZWN0b3JzKHNbZ10sYVtnXSl9cmV0dXJue3RhbmdlbnRzOnMsbm9ybWFsczphLGJpbm9ybWFsczpufX1jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyl9Y29weShlKXtyZXR1cm4gdGhpcy5hcmNMZW5ndGhEaXZpc2lvbnM9ZS5hcmNMZW5ndGhEaXZpc2lvbnMsdGhpc310b0pTT04oKXtjb25zdCBlPXttZXRhZGF0YTp7dmVyc2lvbjo0LjUsdHlwZToiQ3VydmUiLGdlbmVyYXRvcjoiQ3VydmUudG9KU09OIn19O3JldHVybiBlLmFyY0xlbmd0aERpdmlzaW9ucz10aGlzLmFyY0xlbmd0aERpdmlzaW9ucyxlLnR5cGU9dGhpcy50eXBlLGV9ZnJvbUpTT04oZSl7cmV0dXJuIHRoaXMuYXJjTGVuZ3RoRGl2aXNpb25zPWUuYXJjTGVuZ3RoRGl2aXNpb25zLHRoaXN9fWNsYXNzIFphIGV4dGVuZHMgR3R7Y29uc3RydWN0b3IoZT0wLHQ9MCxyPTEscz0xLGE9MCxuPU1hdGguUEkqMixvPSExLGg9MCl7c3VwZXIoKTt0aGlzLnR5cGU9IkVsbGlwc2VDdXJ2ZSIsdGhpcy5hWD1lLHRoaXMuYVk9dCx0aGlzLnhSYWRpdXM9cix0aGlzLnlSYWRpdXM9cyx0aGlzLmFTdGFydEFuZ2xlPWEsdGhpcy5hRW5kQW5nbGU9bix0aGlzLmFDbG9ja3dpc2U9byx0aGlzLmFSb3RhdGlvbj1ofWdldFBvaW50KGUsdCl7Y29uc3Qgcj10fHxuZXcgZWUscz1NYXRoLlBJKjI7bGV0IGE9dGhpcy5hRW5kQW5nbGUtdGhpcy5hU3RhcnRBbmdsZTtjb25zdCBuPU1hdGguYWJzKGEpPE51bWJlci5FUFNJTE9OO2Zvcig7YTwwOylhKz1zO2Zvcig7YT5zOylhLT1zO2E8TnVtYmVyLkVQU0lMT04mJihuP2E9MDphPXMpLHRoaXMuYUNsb2Nrd2lzZT09PSEwJiYhbiYmKGE9PT1zP2E9LXM6YT1hLXMpO2NvbnN0IG89dGhpcy5hU3RhcnRBbmdsZStlKmE7bGV0IGg9dGhpcy5hWCt0aGlzLnhSYWRpdXMqTWF0aC5jb3MobyksbD10aGlzLmFZK3RoaXMueVJhZGl1cypNYXRoLnNpbihvKTtpZih0aGlzLmFSb3RhdGlvbiE9PTApe2NvbnN0IGM9TWF0aC5jb3ModGhpcy5hUm90YXRpb24pLHU9TWF0aC5zaW4odGhpcy5hUm90YXRpb24pLGQ9aC10aGlzLmFYLHA9bC10aGlzLmFZO2g9ZCpjLXAqdSt0aGlzLmFYLGw9ZCp1K3AqYyt0aGlzLmFZfXJldHVybiByLnNldChoLGwpfWNvcHkoZSl7cmV0dXJuIHN1cGVyLmNvcHkoZSksdGhpcy5hWD1lLmFYLHRoaXMuYVk9ZS5hWSx0aGlzLnhSYWRpdXM9ZS54UmFkaXVzLHRoaXMueVJhZGl1cz1lLnlSYWRpdXMsdGhpcy5hU3RhcnRBbmdsZT1lLmFTdGFydEFuZ2xlLHRoaXMuYUVuZEFuZ2xlPWUuYUVuZEFuZ2xlLHRoaXMuYUNsb2Nrd2lzZT1lLmFDbG9ja3dpc2UsdGhpcy5hUm90YXRpb249ZS5hUm90YXRpb24sdGhpc310b0pTT04oKXtjb25zdCBlPXN1cGVyLnRvSlNPTigpO3JldHVybiBlLmFYPXRoaXMuYVgsZS5hWT10aGlzLmFZLGUueFJhZGl1cz10aGlzLnhSYWRpdXMsZS55UmFkaXVzPXRoaXMueVJhZGl1cyxlLmFTdGFydEFuZ2xlPXRoaXMuYVN0YXJ0QW5nbGUsZS5hRW5kQW5nbGU9dGhpcy5hRW5kQW5nbGUsZS5hQ2xvY2t3aXNlPXRoaXMuYUNsb2Nrd2lzZSxlLmFSb3RhdGlvbj10aGlzLmFSb3RhdGlvbixlfWZyb21KU09OKGUpe3JldHVybiBzdXBlci5mcm9tSlNPTihlKSx0aGlzLmFYPWUuYVgsdGhpcy5hWT1lLmFZLHRoaXMueFJhZGl1cz1lLnhSYWRpdXMsdGhpcy55UmFkaXVzPWUueVJhZGl1cyx0aGlzLmFTdGFydEFuZ2xlPWUuYVN0YXJ0QW5nbGUsdGhpcy5hRW5kQW5nbGU9ZS5hRW5kQW5nbGUsdGhpcy5hQ2xvY2t3aXNlPWUuYUNsb2Nrd2lzZSx0aGlzLmFSb3RhdGlvbj1lLmFSb3RhdGlvbix0aGlzfX1aYS5wcm90b3R5cGUuaXNFbGxpcHNlQ3VydmU9ITA7Y2xhc3MgSWMgZXh0ZW5kcyBaYXtjb25zdHJ1Y3RvcihlLHQscixzLGEsbil7c3VwZXIoZSx0LHIscixzLGEsbik7dGhpcy50eXBlPSJBcmNDdXJ2ZSJ9fUljLnByb3RvdHlwZS5pc0FyY0N1cnZlPSEwO2Z1bmN0aW9uIENvKCl7bGV0IGk9MCxlPTAsdD0wLHI9MDtmdW5jdGlvbiBzKGEsbixvLGgpe2k9YSxlPW8sdD0tMyphKzMqbi0yKm8taCxyPTIqYS0yKm4rbytofXJldHVybntpbml0Q2F0bXVsbFJvbTpmdW5jdGlvbihhLG4sbyxoLGwpe3MobixvLGwqKG8tYSksbCooaC1uKSl9LGluaXROb251bmlmb3JtQ2F0bXVsbFJvbTpmdW5jdGlvbihhLG4sbyxoLGwsYyx1KXtsZXQgZD0obi1hKS9sLShvLWEpLyhsK2MpKyhvLW4pL2MscD0oby1uKS9jLShoLW4pLyhjK3UpKyhoLW8pL3U7ZCo9YyxwKj1jLHMobixvLGQscCl9LGNhbGM6ZnVuY3Rpb24oYSl7Y29uc3Qgbj1hKmEsbz1uKmE7cmV0dXJuIGkrZSphK3QqbityKm99fX1jb25zdCBLYT1uZXcgRSxMbz1uZXcgQ28sUm89bmV3IENvLFBvPW5ldyBDbztjbGFzcyBOYyBleHRlbmRzIEd0e2NvbnN0cnVjdG9yKGU9W10sdD0hMSxyPSJjZW50cmlwZXRhbCIscz0uNSl7c3VwZXIoKTt0aGlzLnR5cGU9IkNhdG11bGxSb21DdXJ2ZTMiLHRoaXMucG9pbnRzPWUsdGhpcy5jbG9zZWQ9dCx0aGlzLmN1cnZlVHlwZT1yLHRoaXMudGVuc2lvbj1zfWdldFBvaW50KGUsdD1uZXcgRSl7Y29uc3Qgcj10LHM9dGhpcy5wb2ludHMsYT1zLmxlbmd0aCxuPShhLSh0aGlzLmNsb3NlZD8wOjEpKSplO2xldCBvPU1hdGguZmxvb3IobiksaD1uLW87dGhpcy5jbG9zZWQ/bys9bz4wPzA6KE1hdGguZmxvb3IoTWF0aC5hYnMobykvYSkrMSkqYTpoPT09MCYmbz09PWEtMSYmKG89YS0yLGg9MSk7bGV0IGwsYzt0aGlzLmNsb3NlZHx8bz4wP2w9c1soby0xKSVhXTooS2Euc3ViVmVjdG9ycyhzWzBdLHNbMV0pLmFkZChzWzBdKSxsPUthKTtjb25zdCB1PXNbbyVhXSxkPXNbKG8rMSklYV07aWYodGhpcy5jbG9zZWR8fG8rMjxhP2M9c1sobysyKSVhXTooS2Euc3ViVmVjdG9ycyhzW2EtMV0sc1thLTJdKS5hZGQoc1thLTFdKSxjPUthKSx0aGlzLmN1cnZlVHlwZT09PSJjZW50cmlwZXRhbCJ8fHRoaXMuY3VydmVUeXBlPT09ImNob3JkYWwiKXtjb25zdCBwPXRoaXMuY3VydmVUeXBlPT09ImNob3JkYWwiPy41Oi4yNTtsZXQgZz1NYXRoLnBvdyhsLmRpc3RhbmNlVG9TcXVhcmVkKHUpLHApLGY9TWF0aC5wb3codS5kaXN0YW5jZVRvU3F1YXJlZChkKSxwKSxtPU1hdGgucG93KGQuZGlzdGFuY2VUb1NxdWFyZWQoYykscCk7ZjwxZS00JiYoZj0xKSxnPDFlLTQmJihnPWYpLG08MWUtNCYmKG09ZiksTG8uaW5pdE5vbnVuaWZvcm1DYXRtdWxsUm9tKGwueCx1LngsZC54LGMueCxnLGYsbSksUm8uaW5pdE5vbnVuaWZvcm1DYXRtdWxsUm9tKGwueSx1LnksZC55LGMueSxnLGYsbSksUG8uaW5pdE5vbnVuaWZvcm1DYXRtdWxsUm9tKGwueix1LnosZC56LGMueixnLGYsbSl9ZWxzZSB0aGlzLmN1cnZlVHlwZT09PSJjYXRtdWxscm9tIiYmKExvLmluaXRDYXRtdWxsUm9tKGwueCx1LngsZC54LGMueCx0aGlzLnRlbnNpb24pLFJvLmluaXRDYXRtdWxsUm9tKGwueSx1LnksZC55LGMueSx0aGlzLnRlbnNpb24pLFBvLmluaXRDYXRtdWxsUm9tKGwueix1LnosZC56LGMueix0aGlzLnRlbnNpb24pKTtyZXR1cm4gci5zZXQoTG8uY2FsYyhoKSxSby5jYWxjKGgpLFBvLmNhbGMoaCkpLHJ9Y29weShlKXtzdXBlci5jb3B5KGUpLHRoaXMucG9pbnRzPVtdO2ZvcihsZXQgdD0wLHI9ZS5wb2ludHMubGVuZ3RoO3Q8cjt0Kyspe2NvbnN0IHM9ZS5wb2ludHNbdF07dGhpcy5wb2ludHMucHVzaChzLmNsb25lKCkpfXJldHVybiB0aGlzLmNsb3NlZD1lLmNsb3NlZCx0aGlzLmN1cnZlVHlwZT1lLmN1cnZlVHlwZSx0aGlzLnRlbnNpb249ZS50ZW5zaW9uLHRoaXN9dG9KU09OKCl7Y29uc3QgZT1zdXBlci50b0pTT04oKTtlLnBvaW50cz1bXTtmb3IobGV0IHQ9MCxyPXRoaXMucG9pbnRzLmxlbmd0aDt0PHI7dCsrKXtjb25zdCBzPXRoaXMucG9pbnRzW3RdO2UucG9pbnRzLnB1c2gocy50b0FycmF5KCkpfXJldHVybiBlLmNsb3NlZD10aGlzLmNsb3NlZCxlLmN1cnZlVHlwZT10aGlzLmN1cnZlVHlwZSxlLnRlbnNpb249dGhpcy50ZW5zaW9uLGV9ZnJvbUpTT04oZSl7c3VwZXIuZnJvbUpTT04oZSksdGhpcy5wb2ludHM9W107Zm9yKGxldCB0PTAscj1lLnBvaW50cy5sZW5ndGg7dDxyO3QrKyl7Y29uc3Qgcz1lLnBvaW50c1t0XTt0aGlzLnBvaW50cy5wdXNoKG5ldyBFKCkuZnJvbUFycmF5KHMpKX1yZXR1cm4gdGhpcy5jbG9zZWQ9ZS5jbG9zZWQsdGhpcy5jdXJ2ZVR5cGU9ZS5jdXJ2ZVR5cGUsdGhpcy50ZW5zaW9uPWUudGVuc2lvbix0aGlzfX1OYy5wcm90b3R5cGUuaXNDYXRtdWxsUm9tQ3VydmUzPSEwO2Z1bmN0aW9uIERjKGksZSx0LHIscyl7Y29uc3QgYT0oci1lKSouNSxuPShzLXQpKi41LG89aSppLGg9aSpvO3JldHVybigyKnQtMipyK2ErbikqaCsoLTMqdCszKnItMiphLW4pKm8rYSppK3R9ZnVuY3Rpb24gWHkoaSxlKXtjb25zdCB0PTEtaTtyZXR1cm4gdCp0KmV9ZnVuY3Rpb24gSnkoaSxlKXtyZXR1cm4gMiooMS1pKSppKmV9ZnVuY3Rpb24gWXkoaSxlKXtyZXR1cm4gaSppKmV9ZnVuY3Rpb24gRnMoaSxlLHQscil7cmV0dXJuIFh5KGksZSkrSnkoaSx0KStZeShpLHIpfWZ1bmN0aW9uIFp5KGksZSl7Y29uc3QgdD0xLWk7cmV0dXJuIHQqdCp0KmV9ZnVuY3Rpb24gS3koaSxlKXtjb25zdCB0PTEtaTtyZXR1cm4gMyp0KnQqaSplfWZ1bmN0aW9uIFF5KGksZSl7cmV0dXJuIDMqKDEtaSkqaSppKmV9ZnVuY3Rpb24gJHkoaSxlKXtyZXR1cm4gaSppKmkqZX1mdW5jdGlvbiBIcyhpLGUsdCxyLHMpe3JldHVybiBaeShpLGUpK0t5KGksdCkrUXkoaSxyKSskeShpLHMpfWNsYXNzIElvIGV4dGVuZHMgR3R7Y29uc3RydWN0b3IoZT1uZXcgZWUsdD1uZXcgZWUscj1uZXcgZWUscz1uZXcgZWUpe3N1cGVyKCk7dGhpcy50eXBlPSJDdWJpY0JlemllckN1cnZlIix0aGlzLnYwPWUsdGhpcy52MT10LHRoaXMudjI9cix0aGlzLnYzPXN9Z2V0UG9pbnQoZSx0PW5ldyBlZSl7Y29uc3Qgcj10LHM9dGhpcy52MCxhPXRoaXMudjEsbj10aGlzLnYyLG89dGhpcy52MztyZXR1cm4gci5zZXQoSHMoZSxzLngsYS54LG4ueCxvLngpLEhzKGUscy55LGEueSxuLnksby55KSkscn1jb3B5KGUpe3JldHVybiBzdXBlci5jb3B5KGUpLHRoaXMudjAuY29weShlLnYwKSx0aGlzLnYxLmNvcHkoZS52MSksdGhpcy52Mi5jb3B5KGUudjIpLHRoaXMudjMuY29weShlLnYzKSx0aGlzfXRvSlNPTigpe2NvbnN0IGU9c3VwZXIudG9KU09OKCk7cmV0dXJuIGUudjA9dGhpcy52MC50b0FycmF5KCksZS52MT10aGlzLnYxLnRvQXJyYXkoKSxlLnYyPXRoaXMudjIudG9BcnJheSgpLGUudjM9dGhpcy52My50b0FycmF5KCksZX1mcm9tSlNPTihlKXtyZXR1cm4gc3VwZXIuZnJvbUpTT04oZSksdGhpcy52MC5mcm9tQXJyYXkoZS52MCksdGhpcy52MS5mcm9tQXJyYXkoZS52MSksdGhpcy52Mi5mcm9tQXJyYXkoZS52MiksdGhpcy52My5mcm9tQXJyYXkoZS52MyksdGhpc319SW8ucHJvdG90eXBlLmlzQ3ViaWNCZXppZXJDdXJ2ZT0hMDtjbGFzcyBPYyBleHRlbmRzIEd0e2NvbnN0cnVjdG9yKGU9bmV3IEUsdD1uZXcgRSxyPW5ldyBFLHM9bmV3IEUpe3N1cGVyKCk7dGhpcy50eXBlPSJDdWJpY0JlemllckN1cnZlMyIsdGhpcy52MD1lLHRoaXMudjE9dCx0aGlzLnYyPXIsdGhpcy52Mz1zfWdldFBvaW50KGUsdD1uZXcgRSl7Y29uc3Qgcj10LHM9dGhpcy52MCxhPXRoaXMudjEsbj10aGlzLnYyLG89dGhpcy52MztyZXR1cm4gci5zZXQoSHMoZSxzLngsYS54LG4ueCxvLngpLEhzKGUscy55LGEueSxuLnksby55KSxIcyhlLHMueixhLnosbi56LG8ueikpLHJ9Y29weShlKXtyZXR1cm4gc3VwZXIuY29weShlKSx0aGlzLnYwLmNvcHkoZS52MCksdGhpcy52MS5jb3B5KGUudjEpLHRoaXMudjIuY29weShlLnYyKSx0aGlzLnYzLmNvcHkoZS52MyksdGhpc310b0pTT04oKXtjb25zdCBlPXN1cGVyLnRvSlNPTigpO3JldHVybiBlLnYwPXRoaXMudjAudG9BcnJheSgpLGUudjE9dGhpcy52MS50b0FycmF5KCksZS52Mj10aGlzLnYyLnRvQXJyYXkoKSxlLnYzPXRoaXMudjMudG9BcnJheSgpLGV9ZnJvbUpTT04oZSl7cmV0dXJuIHN1cGVyLmZyb21KU09OKGUpLHRoaXMudjAuZnJvbUFycmF5KGUudjApLHRoaXMudjEuZnJvbUFycmF5KGUudjEpLHRoaXMudjIuZnJvbUFycmF5KGUudjIpLHRoaXMudjMuZnJvbUFycmF5KGUudjMpLHRoaXN9fU9jLnByb3RvdHlwZS5pc0N1YmljQmV6aWVyQ3VydmUzPSEwO2NsYXNzIFFhIGV4dGVuZHMgR3R7Y29uc3RydWN0b3IoZT1uZXcgZWUsdD1uZXcgZWUpe3N1cGVyKCk7dGhpcy50eXBlPSJMaW5lQ3VydmUiLHRoaXMudjE9ZSx0aGlzLnYyPXR9Z2V0UG9pbnQoZSx0PW5ldyBlZSl7Y29uc3Qgcj10O3JldHVybiBlPT09MT9yLmNvcHkodGhpcy52Mik6KHIuY29weSh0aGlzLnYyKS5zdWIodGhpcy52MSksci5tdWx0aXBseVNjYWxhcihlKS5hZGQodGhpcy52MSkpLHJ9Z2V0UG9pbnRBdChlLHQpe3JldHVybiB0aGlzLmdldFBvaW50KGUsdCl9Z2V0VGFuZ2VudChlLHQpe2NvbnN0IHI9dHx8bmV3IGVlO3JldHVybiByLmNvcHkodGhpcy52Mikuc3ViKHRoaXMudjEpLm5vcm1hbGl6ZSgpLHJ9Y29weShlKXtyZXR1cm4gc3VwZXIuY29weShlKSx0aGlzLnYxLmNvcHkoZS52MSksdGhpcy52Mi5jb3B5KGUudjIpLHRoaXN9dG9KU09OKCl7Y29uc3QgZT1zdXBlci50b0pTT04oKTtyZXR1cm4gZS52MT10aGlzLnYxLnRvQXJyYXkoKSxlLnYyPXRoaXMudjIudG9BcnJheSgpLGV9ZnJvbUpTT04oZSl7cmV0dXJuIHN1cGVyLmZyb21KU09OKGUpLHRoaXMudjEuZnJvbUFycmF5KGUudjEpLHRoaXMudjIuZnJvbUFycmF5KGUudjIpLHRoaXN9fVFhLnByb3RvdHlwZS5pc0xpbmVDdXJ2ZT0hMDtjbGFzcyBlTSBleHRlbmRzIEd0e2NvbnN0cnVjdG9yKGU9bmV3IEUsdD1uZXcgRSl7c3VwZXIoKTt0aGlzLnR5cGU9IkxpbmVDdXJ2ZTMiLHRoaXMuaXNMaW5lQ3VydmUzPSEwLHRoaXMudjE9ZSx0aGlzLnYyPXR9Z2V0UG9pbnQoZSx0PW5ldyBFKXtjb25zdCByPXQ7cmV0dXJuIGU9PT0xP3IuY29weSh0aGlzLnYyKTooci5jb3B5KHRoaXMudjIpLnN1Yih0aGlzLnYxKSxyLm11bHRpcGx5U2NhbGFyKGUpLmFkZCh0aGlzLnYxKSkscn1nZXRQb2ludEF0KGUsdCl7cmV0dXJuIHRoaXMuZ2V0UG9pbnQoZSx0KX1jb3B5KGUpe3JldHVybiBzdXBlci5jb3B5KGUpLHRoaXMudjEuY29weShlLnYxKSx0aGlzLnYyLmNvcHkoZS52MiksdGhpc310b0pTT04oKXtjb25zdCBlPXN1cGVyLnRvSlNPTigpO3JldHVybiBlLnYxPXRoaXMudjEudG9BcnJheSgpLGUudjI9dGhpcy52Mi50b0FycmF5KCksZX1mcm9tSlNPTihlKXtyZXR1cm4gc3VwZXIuZnJvbUpTT04oZSksdGhpcy52MS5mcm9tQXJyYXkoZS52MSksdGhpcy52Mi5mcm9tQXJyYXkoZS52MiksdGhpc319Y2xhc3MgTm8gZXh0ZW5kcyBHdHtjb25zdHJ1Y3RvcihlPW5ldyBlZSx0PW5ldyBlZSxyPW5ldyBlZSl7c3VwZXIoKTt0aGlzLnR5cGU9IlF1YWRyYXRpY0JlemllckN1cnZlIix0aGlzLnYwPWUsdGhpcy52MT10LHRoaXMudjI9cn1nZXRQb2ludChlLHQ9bmV3IGVlKXtjb25zdCByPXQscz10aGlzLnYwLGE9dGhpcy52MSxuPXRoaXMudjI7cmV0dXJuIHIuc2V0KEZzKGUscy54LGEueCxuLngpLEZzKGUscy55LGEueSxuLnkpKSxyfWNvcHkoZSl7cmV0dXJuIHN1cGVyLmNvcHkoZSksdGhpcy52MC5jb3B5KGUudjApLHRoaXMudjEuY29weShlLnYxKSx0aGlzLnYyLmNvcHkoZS52MiksdGhpc310b0pTT04oKXtjb25zdCBlPXN1cGVyLnRvSlNPTigpO3JldHVybiBlLnYwPXRoaXMudjAudG9BcnJheSgpLGUudjE9dGhpcy52MS50b0FycmF5KCksZS52Mj10aGlzLnYyLnRvQXJyYXkoKSxlfWZyb21KU09OKGUpe3JldHVybiBzdXBlci5mcm9tSlNPTihlKSx0aGlzLnYwLmZyb21BcnJheShlLnYwKSx0aGlzLnYxLmZyb21BcnJheShlLnYxKSx0aGlzLnYyLmZyb21BcnJheShlLnYyKSx0aGlzfX1Oby5wcm90b3R5cGUuaXNRdWFkcmF0aWNCZXppZXJDdXJ2ZT0hMDtjbGFzcyB6YyBleHRlbmRzIEd0e2NvbnN0cnVjdG9yKGU9bmV3IEUsdD1uZXcgRSxyPW5ldyBFKXtzdXBlcigpO3RoaXMudHlwZT0iUXVhZHJhdGljQmV6aWVyQ3VydmUzIix0aGlzLnYwPWUsdGhpcy52MT10LHRoaXMudjI9cn1nZXRQb2ludChlLHQ9bmV3IEUpe2NvbnN0IHI9dCxzPXRoaXMudjAsYT10aGlzLnYxLG49dGhpcy52MjtyZXR1cm4gci5zZXQoRnMoZSxzLngsYS54LG4ueCksRnMoZSxzLnksYS55LG4ueSksRnMoZSxzLnosYS56LG4ueikpLHJ9Y29weShlKXtyZXR1cm4gc3VwZXIuY29weShlKSx0aGlzLnYwLmNvcHkoZS52MCksdGhpcy52MS5jb3B5KGUudjEpLHRoaXMudjIuY29weShlLnYyKSx0aGlzfXRvSlNPTigpe2NvbnN0IGU9c3VwZXIudG9KU09OKCk7cmV0dXJuIGUudjA9dGhpcy52MC50b0FycmF5KCksZS52MT10aGlzLnYxLnRvQXJyYXkoKSxlLnYyPXRoaXMudjIudG9BcnJheSgpLGV9ZnJvbUpTT04oZSl7cmV0dXJuIHN1cGVyLmZyb21KU09OKGUpLHRoaXMudjAuZnJvbUFycmF5KGUudjApLHRoaXMudjEuZnJvbUFycmF5KGUudjEpLHRoaXMudjIuZnJvbUFycmF5KGUudjIpLHRoaXN9fXpjLnByb3RvdHlwZS5pc1F1YWRyYXRpY0JlemllckN1cnZlMz0hMDtjbGFzcyBEbyBleHRlbmRzIEd0e2NvbnN0cnVjdG9yKGU9W10pe3N1cGVyKCk7dGhpcy50eXBlPSJTcGxpbmVDdXJ2ZSIsdGhpcy5wb2ludHM9ZX1nZXRQb2ludChlLHQ9bmV3IGVlKXtjb25zdCByPXQscz10aGlzLnBvaW50cyxhPShzLmxlbmd0aC0xKSplLG49TWF0aC5mbG9vcihhKSxvPWEtbixoPXNbbj09PTA/bjpuLTFdLGw9c1tuXSxjPXNbbj5zLmxlbmd0aC0yP3MubGVuZ3RoLTE6bisxXSx1PXNbbj5zLmxlbmd0aC0zP3MubGVuZ3RoLTE6bisyXTtyZXR1cm4gci5zZXQoRGMobyxoLngsbC54LGMueCx1LngpLERjKG8saC55LGwueSxjLnksdS55KSkscn1jb3B5KGUpe3N1cGVyLmNvcHkoZSksdGhpcy5wb2ludHM9W107Zm9yKGxldCB0PTAscj1lLnBvaW50cy5sZW5ndGg7dDxyO3QrKyl7Y29uc3Qgcz1lLnBvaW50c1t0XTt0aGlzLnBvaW50cy5wdXNoKHMuY2xvbmUoKSl9cmV0dXJuIHRoaXN9dG9KU09OKCl7Y29uc3QgZT1zdXBlci50b0pTT04oKTtlLnBvaW50cz1bXTtmb3IobGV0IHQ9MCxyPXRoaXMucG9pbnRzLmxlbmd0aDt0PHI7dCsrKXtjb25zdCBzPXRoaXMucG9pbnRzW3RdO2UucG9pbnRzLnB1c2gocy50b0FycmF5KCkpfXJldHVybiBlfWZyb21KU09OKGUpe3N1cGVyLmZyb21KU09OKGUpLHRoaXMucG9pbnRzPVtdO2ZvcihsZXQgdD0wLHI9ZS5wb2ludHMubGVuZ3RoO3Q8cjt0Kyspe2NvbnN0IHM9ZS5wb2ludHNbdF07dGhpcy5wb2ludHMucHVzaChuZXcgZWUoKS5mcm9tQXJyYXkocykpfXJldHVybiB0aGlzfX1Eby5wcm90b3R5cGUuaXNTcGxpbmVDdXJ2ZT0hMDt2YXIgQmM9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsQXJjQ3VydmU6SWMsQ2F0bXVsbFJvbUN1cnZlMzpOYyxDdWJpY0JlemllckN1cnZlOklvLEN1YmljQmV6aWVyQ3VydmUzOk9jLEVsbGlwc2VDdXJ2ZTpaYSxMaW5lQ3VydmU6UWEsTGluZUN1cnZlMzplTSxRdWFkcmF0aWNCZXppZXJDdXJ2ZTpObyxRdWFkcmF0aWNCZXppZXJDdXJ2ZTM6emMsU3BsaW5lQ3VydmU6RG99KTtjbGFzcyB0TSBleHRlbmRzIEd0e2NvbnN0cnVjdG9yKCl7c3VwZXIoKTt0aGlzLnR5cGU9IkN1cnZlUGF0aCIsdGhpcy5jdXJ2ZXM9W10sdGhpcy5hdXRvQ2xvc2U9ITF9YWRkKGUpe3RoaXMuY3VydmVzLnB1c2goZSl9Y2xvc2VQYXRoKCl7Y29uc3QgZT10aGlzLmN1cnZlc1swXS5nZXRQb2ludCgwKSx0PXRoaXMuY3VydmVzW3RoaXMuY3VydmVzLmxlbmd0aC0xXS5nZXRQb2ludCgxKTtlLmVxdWFscyh0KXx8dGhpcy5jdXJ2ZXMucHVzaChuZXcgUWEodCxlKSl9Z2V0UG9pbnQoZSx0KXtjb25zdCByPWUqdGhpcy5nZXRMZW5ndGgoKSxzPXRoaXMuZ2V0Q3VydmVMZW5ndGhzKCk7bGV0IGE9MDtmb3IoO2E8cy5sZW5ndGg7KXtpZihzW2FdPj1yKXtjb25zdCBuPXNbYV0tcixvPXRoaXMuY3VydmVzW2FdLGg9by5nZXRMZW5ndGgoKSxsPWg9PT0wPzA6MS1uL2g7cmV0dXJuIG8uZ2V0UG9pbnRBdChsLHQpfWErK31yZXR1cm4gbnVsbH1nZXRMZW5ndGgoKXtjb25zdCBlPXRoaXMuZ2V0Q3VydmVMZW5ndGhzKCk7cmV0dXJuIGVbZS5sZW5ndGgtMV19dXBkYXRlQXJjTGVuZ3Rocygpe3RoaXMubmVlZHNVcGRhdGU9ITAsdGhpcy5jYWNoZUxlbmd0aHM9bnVsbCx0aGlzLmdldEN1cnZlTGVuZ3RocygpfWdldEN1cnZlTGVuZ3Rocygpe2lmKHRoaXMuY2FjaGVMZW5ndGhzJiZ0aGlzLmNhY2hlTGVuZ3Rocy5sZW5ndGg9PT10aGlzLmN1cnZlcy5sZW5ndGgpcmV0dXJuIHRoaXMuY2FjaGVMZW5ndGhzO2NvbnN0IGU9W107bGV0IHQ9MDtmb3IobGV0IHI9MCxzPXRoaXMuY3VydmVzLmxlbmd0aDtyPHM7cisrKXQrPXRoaXMuY3VydmVzW3JdLmdldExlbmd0aCgpLGUucHVzaCh0KTtyZXR1cm4gdGhpcy5jYWNoZUxlbmd0aHM9ZSxlfWdldFNwYWNlZFBvaW50cyhlPTQwKXtjb25zdCB0PVtdO2ZvcihsZXQgcj0wO3I8PWU7cisrKXQucHVzaCh0aGlzLmdldFBvaW50KHIvZSkpO3JldHVybiB0aGlzLmF1dG9DbG9zZSYmdC5wdXNoKHRbMF0pLHR9Z2V0UG9pbnRzKGU9MTIpe2NvbnN0IHQ9W107bGV0IHI7Zm9yKGxldCBzPTAsYT10aGlzLmN1cnZlcztzPGEubGVuZ3RoO3MrKyl7Y29uc3Qgbj1hW3NdLG89bi5pc0VsbGlwc2VDdXJ2ZT9lKjI6bi5pc0xpbmVDdXJ2ZXx8bi5pc0xpbmVDdXJ2ZTM/MTpuLmlzU3BsaW5lQ3VydmU/ZSpuLnBvaW50cy5sZW5ndGg6ZSxoPW4uZ2V0UG9pbnRzKG8pO2ZvcihsZXQgbD0wO2w8aC5sZW5ndGg7bCsrKXtjb25zdCBjPWhbbF07ciYmci5lcXVhbHMoYyl8fCh0LnB1c2goYykscj1jKX19cmV0dXJuIHRoaXMuYXV0b0Nsb3NlJiZ0Lmxlbmd0aD4xJiYhdFt0Lmxlbmd0aC0xXS5lcXVhbHModFswXSkmJnQucHVzaCh0WzBdKSx0fWNvcHkoZSl7c3VwZXIuY29weShlKSx0aGlzLmN1cnZlcz1bXTtmb3IobGV0IHQ9MCxyPWUuY3VydmVzLmxlbmd0aDt0PHI7dCsrKXtjb25zdCBzPWUuY3VydmVzW3RdO3RoaXMuY3VydmVzLnB1c2gocy5jbG9uZSgpKX1yZXR1cm4gdGhpcy5hdXRvQ2xvc2U9ZS5hdXRvQ2xvc2UsdGhpc310b0pTT04oKXtjb25zdCBlPXN1cGVyLnRvSlNPTigpO2UuYXV0b0Nsb3NlPXRoaXMuYXV0b0Nsb3NlLGUuY3VydmVzPVtdO2ZvcihsZXQgdD0wLHI9dGhpcy5jdXJ2ZXMubGVuZ3RoO3Q8cjt0Kyspe2NvbnN0IHM9dGhpcy5jdXJ2ZXNbdF07ZS5jdXJ2ZXMucHVzaChzLnRvSlNPTigpKX1yZXR1cm4gZX1mcm9tSlNPTihlKXtzdXBlci5mcm9tSlNPTihlKSx0aGlzLmF1dG9DbG9zZT1lLmF1dG9DbG9zZSx0aGlzLmN1cnZlcz1bXTtmb3IobGV0IHQ9MCxyPWUuY3VydmVzLmxlbmd0aDt0PHI7dCsrKXtjb25zdCBzPWUuY3VydmVzW3RdO3RoaXMuY3VydmVzLnB1c2gobmV3IEJjW3MudHlwZV0oKS5mcm9tSlNPTihzKSl9cmV0dXJuIHRoaXN9fWNsYXNzIE9vIGV4dGVuZHMgdE17Y29uc3RydWN0b3IoZSl7c3VwZXIoKTt0aGlzLnR5cGU9IlBhdGgiLHRoaXMuY3VycmVudFBvaW50PW5ldyBlZSxlJiZ0aGlzLnNldEZyb21Qb2ludHMoZSl9c2V0RnJvbVBvaW50cyhlKXt0aGlzLm1vdmVUbyhlWzBdLngsZVswXS55KTtmb3IobGV0IHQ9MSxyPWUubGVuZ3RoO3Q8cjt0KyspdGhpcy5saW5lVG8oZVt0XS54LGVbdF0ueSk7cmV0dXJuIHRoaXN9bW92ZVRvKGUsdCl7cmV0dXJuIHRoaXMuY3VycmVudFBvaW50LnNldChlLHQpLHRoaXN9bGluZVRvKGUsdCl7Y29uc3Qgcj1uZXcgUWEodGhpcy5jdXJyZW50UG9pbnQuY2xvbmUoKSxuZXcgZWUoZSx0KSk7cmV0dXJuIHRoaXMuY3VydmVzLnB1c2gociksdGhpcy5jdXJyZW50UG9pbnQuc2V0KGUsdCksdGhpc31xdWFkcmF0aWNDdXJ2ZVRvKGUsdCxyLHMpe2NvbnN0IGE9bmV3IE5vKHRoaXMuY3VycmVudFBvaW50LmNsb25lKCksbmV3IGVlKGUsdCksbmV3IGVlKHIscykpO3JldHVybiB0aGlzLmN1cnZlcy5wdXNoKGEpLHRoaXMuY3VycmVudFBvaW50LnNldChyLHMpLHRoaXN9YmV6aWVyQ3VydmVUbyhlLHQscixzLGEsbil7Y29uc3Qgbz1uZXcgSW8odGhpcy5jdXJyZW50UG9pbnQuY2xvbmUoKSxuZXcgZWUoZSx0KSxuZXcgZWUocixzKSxuZXcgZWUoYSxuKSk7cmV0dXJuIHRoaXMuY3VydmVzLnB1c2gobyksdGhpcy5jdXJyZW50UG9pbnQuc2V0KGEsbiksdGhpc31zcGxpbmVUaHJ1KGUpe2NvbnN0IHQ9W3RoaXMuY3VycmVudFBvaW50LmNsb25lKCldLmNvbmNhdChlKSxyPW5ldyBEbyh0KTtyZXR1cm4gdGhpcy5jdXJ2ZXMucHVzaChyKSx0aGlzLmN1cnJlbnRQb2ludC5jb3B5KGVbZS5sZW5ndGgtMV0pLHRoaXN9YXJjKGUsdCxyLHMsYSxuKXtjb25zdCBvPXRoaXMuY3VycmVudFBvaW50LngsaD10aGlzLmN1cnJlbnRQb2ludC55O3JldHVybiB0aGlzLmFic2FyYyhlK28sdCtoLHIscyxhLG4pLHRoaXN9YWJzYXJjKGUsdCxyLHMsYSxuKXtyZXR1cm4gdGhpcy5hYnNlbGxpcHNlKGUsdCxyLHIscyxhLG4pLHRoaXN9ZWxsaXBzZShlLHQscixzLGEsbixvLGgpe2NvbnN0IGw9dGhpcy5jdXJyZW50UG9pbnQueCxjPXRoaXMuY3VycmVudFBvaW50Lnk7cmV0dXJuIHRoaXMuYWJzZWxsaXBzZShlK2wsdCtjLHIscyxhLG4sbyxoKSx0aGlzfWFic2VsbGlwc2UoZSx0LHIscyxhLG4sbyxoKXtjb25zdCBsPW5ldyBaYShlLHQscixzLGEsbixvLGgpO2lmKHRoaXMuY3VydmVzLmxlbmd0aD4wKXtjb25zdCB1PWwuZ2V0UG9pbnQoMCk7dS5lcXVhbHModGhpcy5jdXJyZW50UG9pbnQpfHx0aGlzLmxpbmVUbyh1LngsdS55KX10aGlzLmN1cnZlcy5wdXNoKGwpO2NvbnN0IGM9bC5nZXRQb2ludCgxKTtyZXR1cm4gdGhpcy5jdXJyZW50UG9pbnQuY29weShjKSx0aGlzfWNvcHkoZSl7cmV0dXJuIHN1cGVyLmNvcHkoZSksdGhpcy5jdXJyZW50UG9pbnQuY29weShlLmN1cnJlbnRQb2ludCksdGhpc310b0pTT04oKXtjb25zdCBlPXN1cGVyLnRvSlNPTigpO3JldHVybiBlLmN1cnJlbnRQb2ludD10aGlzLmN1cnJlbnRQb2ludC50b0FycmF5KCksZX1mcm9tSlNPTihlKXtyZXR1cm4gc3VwZXIuZnJvbUpTT04oZSksdGhpcy5jdXJyZW50UG9pbnQuZnJvbUFycmF5KGUuY3VycmVudFBvaW50KSx0aGlzfX1uZXcgRSxuZXcgRSxuZXcgRSxuZXcgYXQ7Y2xhc3Mga3MgZXh0ZW5kcyBPb3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlKTt0aGlzLnV1aWQ9c2koKSx0aGlzLnR5cGU9IlNoYXBlIix0aGlzLmhvbGVzPVtdfWdldFBvaW50c0hvbGVzKGUpe2NvbnN0IHQ9W107Zm9yKGxldCByPTAscz10aGlzLmhvbGVzLmxlbmd0aDtyPHM7cisrKXRbcl09dGhpcy5ob2xlc1tyXS5nZXRQb2ludHMoZSk7cmV0dXJuIHR9ZXh0cmFjdFBvaW50cyhlKXtyZXR1cm57c2hhcGU6dGhpcy5nZXRQb2ludHMoZSksaG9sZXM6dGhpcy5nZXRQb2ludHNIb2xlcyhlKX19Y29weShlKXtzdXBlci5jb3B5KGUpLHRoaXMuaG9sZXM9W107Zm9yKGxldCB0PTAscj1lLmhvbGVzLmxlbmd0aDt0PHI7dCsrKXtjb25zdCBzPWUuaG9sZXNbdF07dGhpcy5ob2xlcy5wdXNoKHMuY2xvbmUoKSl9cmV0dXJuIHRoaXN9dG9KU09OKCl7Y29uc3QgZT1zdXBlci50b0pTT04oKTtlLnV1aWQ9dGhpcy51dWlkLGUuaG9sZXM9W107Zm9yKGxldCB0PTAscj10aGlzLmhvbGVzLmxlbmd0aDt0PHI7dCsrKXtjb25zdCBzPXRoaXMuaG9sZXNbdF07ZS5ob2xlcy5wdXNoKHMudG9KU09OKCkpfXJldHVybiBlfWZyb21KU09OKGUpe3N1cGVyLmZyb21KU09OKGUpLHRoaXMudXVpZD1lLnV1aWQsdGhpcy5ob2xlcz1bXTtmb3IobGV0IHQ9MCxyPWUuaG9sZXMubGVuZ3RoO3Q8cjt0Kyspe2NvbnN0IHM9ZS5ob2xlc1t0XTt0aGlzLmhvbGVzLnB1c2gobmV3IE9vKCkuZnJvbUpTT04ocykpfXJldHVybiB0aGlzfX1jb25zdCBpTT17dHJpYW5ndWxhdGU6ZnVuY3Rpb24oaSxlLHQ9Mil7Y29uc3Qgcj1lJiZlLmxlbmd0aCxzPXI/ZVswXSp0OmkubGVuZ3RoO2xldCBhPVVjKGksMCxzLHQsITApO2NvbnN0IG49W107aWYoIWF8fGEubmV4dD09PWEucHJldilyZXR1cm4gbjtsZXQgbyxoLGwsYyx1LGQscDtpZihyJiYoYT1vTShpLGUsYSx0KSksaS5sZW5ndGg+ODAqdCl7bz1sPWlbMF0saD1jPWlbMV07Zm9yKGxldCBnPXQ7ZzxzO2crPXQpdT1pW2ddLGQ9aVtnKzFdLHU8byYmKG89dSksZDxoJiYoaD1kKSx1PmwmJihsPXUpLGQ+YyYmKGM9ZCk7cD1NYXRoLm1heChsLW8sYy1oKSxwPXAhPT0wPzEvcDowfXJldHVybiBHcyhhLG4sdCxvLGgscCksbn19O2Z1bmN0aW9uIFVjKGksZSx0LHIscyl7bGV0IGEsbjtpZihzPT09eE0oaSxlLHQscik+MClmb3IoYT1lO2E8dDthKz1yKW49a2MoYSxpW2FdLGlbYSsxXSxuKTtlbHNlIGZvcihhPXQtcjthPj1lO2EtPXIpbj1rYyhhLGlbYV0saVthKzFdLG4pO3JldHVybiBuJiYkYShuLG4ubmV4dCkmJihXcyhuKSxuPW4ubmV4dCksbn1mdW5jdGlvbiBraShpLGUpe2lmKCFpKXJldHVybiBpO2V8fChlPWkpO2xldCB0PWkscjtkbyBpZihyPSExLCF0LnN0ZWluZXImJigkYSh0LHQubmV4dCl8fGl0KHQucHJldix0LHQubmV4dCk9PT0wKSl7aWYoV3ModCksdD1lPXQucHJldix0PT09dC5uZXh0KWJyZWFrO3I9ITB9ZWxzZSB0PXQubmV4dDt3aGlsZShyfHx0IT09ZSk7cmV0dXJuIGV9ZnVuY3Rpb24gR3MoaSxlLHQscixzLGEsbil7aWYoIWkpcmV0dXJuOyFuJiZhJiZkTShpLHIscyxhKTtsZXQgbz1pLGgsbDtmb3IoO2kucHJldiE9PWkubmV4dDspe2lmKGg9aS5wcmV2LGw9aS5uZXh0LGE/c00oaSxyLHMsYSk6ck0oaSkpe2UucHVzaChoLmkvdCksZS5wdXNoKGkuaS90KSxlLnB1c2gobC5pL3QpLFdzKGkpLGk9bC5uZXh0LG89bC5uZXh0O2NvbnRpbnVlfWlmKGk9bCxpPT09byl7bj9uPT09MT8oaT1hTShraShpKSxlLHQpLEdzKGksZSx0LHIscyxhLDIpKTpuPT09MiYmbk0oaSxlLHQscixzLGEpOkdzKGtpKGkpLGUsdCxyLHMsYSwxKTticmVha319fWZ1bmN0aW9uIHJNKGkpe2NvbnN0IGU9aS5wcmV2LHQ9aSxyPWkubmV4dDtpZihpdChlLHQscik+PTApcmV0dXJuITE7bGV0IHM9aS5uZXh0Lm5leHQ7Zm9yKDtzIT09aS5wcmV2Oyl7aWYoZXMoZS54LGUueSx0LngsdC55LHIueCxyLnkscy54LHMueSkmJml0KHMucHJldixzLHMubmV4dCk+PTApcmV0dXJuITE7cz1zLm5leHR9cmV0dXJuITB9ZnVuY3Rpb24gc00oaSxlLHQscil7Y29uc3Qgcz1pLnByZXYsYT1pLG49aS5uZXh0O2lmKGl0KHMsYSxuKT49MClyZXR1cm4hMTtjb25zdCBvPXMueDxhLng/cy54PG4ueD9zLng6bi54OmEueDxuLng/YS54Om4ueCxoPXMueTxhLnk/cy55PG4ueT9zLnk6bi55OmEueTxuLnk/YS55Om4ueSxsPXMueD5hLng/cy54Pm4ueD9zLng6bi54OmEueD5uLng/YS54Om4ueCxjPXMueT5hLnk/cy55Pm4ueT9zLnk6bi55OmEueT5uLnk/YS55Om4ueSx1PXpvKG8saCxlLHQsciksZD16byhsLGMsZSx0LHIpO2xldCBwPWkucHJldlosZz1pLm5leHRaO2Zvcig7cCYmcC56Pj11JiZnJiZnLno8PWQ7KXtpZihwIT09aS5wcmV2JiZwIT09aS5uZXh0JiZlcyhzLngscy55LGEueCxhLnksbi54LG4ueSxwLngscC55KSYmaXQocC5wcmV2LHAscC5uZXh0KT49MHx8KHA9cC5wcmV2WixnIT09aS5wcmV2JiZnIT09aS5uZXh0JiZlcyhzLngscy55LGEueCxhLnksbi54LG4ueSxnLngsZy55KSYmaXQoZy5wcmV2LGcsZy5uZXh0KT49MCkpcmV0dXJuITE7Zz1nLm5leHRafWZvcig7cCYmcC56Pj11Oyl7aWYocCE9PWkucHJldiYmcCE9PWkubmV4dCYmZXMocy54LHMueSxhLngsYS55LG4ueCxuLnkscC54LHAueSkmJml0KHAucHJldixwLHAubmV4dCk+PTApcmV0dXJuITE7cD1wLnByZXZafWZvcig7ZyYmZy56PD1kOyl7aWYoZyE9PWkucHJldiYmZyE9PWkubmV4dCYmZXMocy54LHMueSxhLngsYS55LG4ueCxuLnksZy54LGcueSkmJml0KGcucHJldixnLGcubmV4dCk+PTApcmV0dXJuITE7Zz1nLm5leHRafXJldHVybiEwfWZ1bmN0aW9uIGFNKGksZSx0KXtsZXQgcj1pO2Rve2NvbnN0IHM9ci5wcmV2LGE9ci5uZXh0Lm5leHQ7ISRhKHMsYSkmJkZjKHMscixyLm5leHQsYSkmJlZzKHMsYSkmJlZzKGEscykmJihlLnB1c2gocy5pL3QpLGUucHVzaChyLmkvdCksZS5wdXNoKGEuaS90KSxXcyhyKSxXcyhyLm5leHQpLHI9aT1hKSxyPXIubmV4dH13aGlsZShyIT09aSk7cmV0dXJuIGtpKHIpfWZ1bmN0aW9uIG5NKGksZSx0LHIscyxhKXtsZXQgbj1pO2Rve2xldCBvPW4ubmV4dC5uZXh0O2Zvcig7byE9PW4ucHJldjspe2lmKG4uaSE9PW8uaSYmbU0obixvKSl7bGV0IGg9SGMobixvKTtuPWtpKG4sbi5uZXh0KSxoPWtpKGgsaC5uZXh0KSxHcyhuLGUsdCxyLHMsYSksR3MoaCxlLHQscixzLGEpO3JldHVybn1vPW8ubmV4dH1uPW4ubmV4dH13aGlsZShuIT09aSl9ZnVuY3Rpb24gb00oaSxlLHQscil7Y29uc3Qgcz1bXTtsZXQgYSxuLG8saCxsO2ZvcihhPTAsbj1lLmxlbmd0aDthPG47YSsrKW89ZVthXSpyLGg9YTxuLTE/ZVthKzFdKnI6aS5sZW5ndGgsbD1VYyhpLG8saCxyLCExKSxsPT09bC5uZXh0JiYobC5zdGVpbmVyPSEwKSxzLnB1c2goZk0obCkpO2ZvcihzLnNvcnQoaE0pLGE9MDthPHMubGVuZ3RoO2ErKylsTShzW2FdLHQpLHQ9a2kodCx0Lm5leHQpO3JldHVybiB0fWZ1bmN0aW9uIGhNKGksZSl7cmV0dXJuIGkueC1lLnh9ZnVuY3Rpb24gbE0oaSxlKXtpZihlPWNNKGksZSksZSl7Y29uc3QgdD1IYyhlLGkpO2tpKGUsZS5uZXh0KSxraSh0LHQubmV4dCl9fWZ1bmN0aW9uIGNNKGksZSl7bGV0IHQ9ZTtjb25zdCByPWkueCxzPWkueTtsZXQgYT0tMS8wLG47ZG97aWYoczw9dC55JiZzPj10Lm5leHQueSYmdC5uZXh0LnkhPT10Lnkpe2NvbnN0IGQ9dC54KyhzLXQueSkqKHQubmV4dC54LXQueCkvKHQubmV4dC55LXQueSk7aWYoZDw9ciYmZD5hKXtpZihhPWQsZD09PXIpe2lmKHM9PT10LnkpcmV0dXJuIHQ7aWYocz09PXQubmV4dC55KXJldHVybiB0Lm5leHR9bj10Lng8dC5uZXh0Lng/dDp0Lm5leHR9fXQ9dC5uZXh0fXdoaWxlKHQhPT1lKTtpZighbilyZXR1cm4gbnVsbDtpZihyPT09YSlyZXR1cm4gbjtjb25zdCBvPW4saD1uLngsbD1uLnk7bGV0IGM9MS8wLHU7dD1uO2RvIHI+PXQueCYmdC54Pj1oJiZyIT09dC54JiZlcyhzPGw/cjphLHMsaCxsLHM8bD9hOnIscyx0LngsdC55KSYmKHU9TWF0aC5hYnMocy10LnkpLyhyLXQueCksVnModCxpKSYmKHU8Y3x8dT09PWMmJih0Lng+bi54fHx0Lng9PT1uLngmJnVNKG4sdCkpKSYmKG49dCxjPXUpKSx0PXQubmV4dDt3aGlsZSh0IT09byk7cmV0dXJuIG59ZnVuY3Rpb24gdU0oaSxlKXtyZXR1cm4gaXQoaS5wcmV2LGksZS5wcmV2KTwwJiZpdChlLm5leHQsaSxpLm5leHQpPDB9ZnVuY3Rpb24gZE0oaSxlLHQscil7bGV0IHM9aTtkbyBzLno9PT1udWxsJiYocy56PXpvKHMueCxzLnksZSx0LHIpKSxzLnByZXZaPXMucHJldixzLm5leHRaPXMubmV4dCxzPXMubmV4dDt3aGlsZShzIT09aSk7cy5wcmV2Wi5uZXh0Wj1udWxsLHMucHJldlo9bnVsbCxwTShzKX1mdW5jdGlvbiBwTShpKXtsZXQgZSx0LHIscyxhLG4sbyxoLGw9MTtkb3tmb3IodD1pLGk9bnVsbCxhPW51bGwsbj0wO3Q7KXtmb3IobisrLHI9dCxvPTAsZT0wO2U8bCYmKG8rKyxyPXIubmV4dFosISFyKTtlKyspO2ZvcihoPWw7bz4wfHxoPjAmJnI7KW8hPT0wJiYoaD09PTB8fCFyfHx0Lno8PXIueik/KHM9dCx0PXQubmV4dFosby0tKToocz1yLHI9ci5uZXh0WixoLS0pLGE/YS5uZXh0Wj1zOmk9cyxzLnByZXZaPWEsYT1zO3Q9cn1hLm5leHRaPW51bGwsbCo9Mn13aGlsZShuPjEpO3JldHVybiBpfWZ1bmN0aW9uIHpvKGksZSx0LHIscyl7cmV0dXJuIGk9MzI3NjcqKGktdCkqcyxlPTMyNzY3KihlLXIpKnMsaT0oaXxpPDw4KSYxNjcxMTkzNSxpPShpfGk8PDQpJjI1MjY0NTEzNSxpPShpfGk8PDIpJjg1ODk5MzQ1OSxpPShpfGk8PDEpJjE0MzE2NTU3NjUsZT0oZXxlPDw4KSYxNjcxMTkzNSxlPShlfGU8PDQpJjI1MjY0NTEzNSxlPShlfGU8PDIpJjg1ODk5MzQ1OSxlPShlfGU8PDEpJjE0MzE2NTU3NjUsaXxlPDwxfWZ1bmN0aW9uIGZNKGkpe2xldCBlPWksdD1pO2RvKGUueDx0Lnh8fGUueD09PXQueCYmZS55PHQueSkmJih0PWUpLGU9ZS5uZXh0O3doaWxlKGUhPT1pKTtyZXR1cm4gdH1mdW5jdGlvbiBlcyhpLGUsdCxyLHMsYSxuLG8pe3JldHVybihzLW4pKihlLW8pLShpLW4pKihhLW8pPj0wJiYoaS1uKSooci1vKS0odC1uKSooZS1vKT49MCYmKHQtbikqKGEtbyktKHMtbikqKHItbyk+PTB9ZnVuY3Rpb24gbU0oaSxlKXtyZXR1cm4gaS5uZXh0LmkhPT1lLmkmJmkucHJldi5pIT09ZS5pJiYhZ00oaSxlKSYmKFZzKGksZSkmJlZzKGUsaSkmJnZNKGksZSkmJihpdChpLnByZXYsaSxlLnByZXYpfHxpdChpLGUucHJldixlKSl8fCRhKGksZSkmJml0KGkucHJldixpLGkubmV4dCk+MCYmaXQoZS5wcmV2LGUsZS5uZXh0KT4wKX1mdW5jdGlvbiBpdChpLGUsdCl7cmV0dXJuKGUueS1pLnkpKih0LngtZS54KS0oZS54LWkueCkqKHQueS1lLnkpfWZ1bmN0aW9uICRhKGksZSl7cmV0dXJuIGkueD09PWUueCYmaS55PT09ZS55fWZ1bmN0aW9uIEZjKGksZSx0LHIpe2NvbnN0IHM9dG4oaXQoaSxlLHQpKSxhPXRuKGl0KGksZSxyKSksbj10bihpdCh0LHIsaSkpLG89dG4oaXQodCxyLGUpKTtyZXR1cm4hIShzIT09YSYmbiE9PW98fHM9PT0wJiZlbihpLHQsZSl8fGE9PT0wJiZlbihpLHIsZSl8fG49PT0wJiZlbih0LGkscil8fG89PT0wJiZlbih0LGUscikpfWZ1bmN0aW9uIGVuKGksZSx0KXtyZXR1cm4gZS54PD1NYXRoLm1heChpLngsdC54KSYmZS54Pj1NYXRoLm1pbihpLngsdC54KSYmZS55PD1NYXRoLm1heChpLnksdC55KSYmZS55Pj1NYXRoLm1pbihpLnksdC55KX1mdW5jdGlvbiB0bihpKXtyZXR1cm4gaT4wPzE6aTwwPy0xOjB9ZnVuY3Rpb24gZ00oaSxlKXtsZXQgdD1pO2Rve2lmKHQuaSE9PWkuaSYmdC5uZXh0LmkhPT1pLmkmJnQuaSE9PWUuaSYmdC5uZXh0LmkhPT1lLmkmJkZjKHQsdC5uZXh0LGksZSkpcmV0dXJuITA7dD10Lm5leHR9d2hpbGUodCE9PWkpO3JldHVybiExfWZ1bmN0aW9uIFZzKGksZSl7cmV0dXJuIGl0KGkucHJldixpLGkubmV4dCk8MD9pdChpLGUsaS5uZXh0KT49MCYmaXQoaSxpLnByZXYsZSk+PTA6aXQoaSxlLGkucHJldik8MHx8aXQoaSxpLm5leHQsZSk8MH1mdW5jdGlvbiB2TShpLGUpe2xldCB0PWkscj0hMTtjb25zdCBzPShpLngrZS54KS8yLGE9KGkueStlLnkpLzI7ZG8gdC55PmEhPXQubmV4dC55PmEmJnQubmV4dC55IT09dC55JiZzPCh0Lm5leHQueC10LngpKihhLXQueSkvKHQubmV4dC55LXQueSkrdC54JiYocj0hciksdD10Lm5leHQ7d2hpbGUodCE9PWkpO3JldHVybiByfWZ1bmN0aW9uIEhjKGksZSl7Y29uc3QgdD1uZXcgQm8oaS5pLGkueCxpLnkpLHI9bmV3IEJvKGUuaSxlLngsZS55KSxzPWkubmV4dCxhPWUucHJldjtyZXR1cm4gaS5uZXh0PWUsZS5wcmV2PWksdC5uZXh0PXMscy5wcmV2PXQsci5uZXh0PXQsdC5wcmV2PXIsYS5uZXh0PXIsci5wcmV2PWEscn1mdW5jdGlvbiBrYyhpLGUsdCxyKXtjb25zdCBzPW5ldyBCbyhpLGUsdCk7cmV0dXJuIHI/KHMubmV4dD1yLm5leHQscy5wcmV2PXIsci5uZXh0LnByZXY9cyxyLm5leHQ9cyk6KHMucHJldj1zLHMubmV4dD1zKSxzfWZ1bmN0aW9uIFdzKGkpe2kubmV4dC5wcmV2PWkucHJldixpLnByZXYubmV4dD1pLm5leHQsaS5wcmV2WiYmKGkucHJldloubmV4dFo9aS5uZXh0WiksaS5uZXh0WiYmKGkubmV4dFoucHJldlo9aS5wcmV2Wil9ZnVuY3Rpb24gQm8oaSxlLHQpe3RoaXMuaT1pLHRoaXMueD1lLHRoaXMueT10LHRoaXMucHJldj1udWxsLHRoaXMubmV4dD1udWxsLHRoaXMuej1udWxsLHRoaXMucHJldlo9bnVsbCx0aGlzLm5leHRaPW51bGwsdGhpcy5zdGVpbmVyPSExfWZ1bmN0aW9uIHhNKGksZSx0LHIpe2xldCBzPTA7Zm9yKGxldCBhPWUsbj10LXI7YTx0O2ErPXIpcys9KGlbbl0taVthXSkqKGlbYSsxXStpW24rMV0pLG49YTtyZXR1cm4gc31jbGFzcyBHaXtzdGF0aWMgYXJlYShlKXtjb25zdCB0PWUubGVuZ3RoO2xldCByPTA7Zm9yKGxldCBzPXQtMSxhPTA7YTx0O3M9YSsrKXIrPWVbc10ueCplW2FdLnktZVthXS54KmVbc10ueTtyZXR1cm4gciouNX1zdGF0aWMgaXNDbG9ja1dpc2UoZSl7cmV0dXJuIEdpLmFyZWEoZSk8MH1zdGF0aWMgdHJpYW5ndWxhdGVTaGFwZShlLHQpe2NvbnN0IHI9W10scz1bXSxhPVtdO0djKGUpLFZjKHIsZSk7bGV0IG49ZS5sZW5ndGg7dC5mb3JFYWNoKEdjKTtmb3IobGV0IGg9MDtoPHQubGVuZ3RoO2grKylzLnB1c2gobiksbis9dFtoXS5sZW5ndGgsVmMocix0W2hdKTtjb25zdCBvPWlNLnRyaWFuZ3VsYXRlKHIscyk7Zm9yKGxldCBoPTA7aDxvLmxlbmd0aDtoKz0zKWEucHVzaChvLnNsaWNlKGgsaCszKSk7cmV0dXJuIGF9fWZ1bmN0aW9uIEdjKGkpe2NvbnN0IGU9aS5sZW5ndGg7ZT4yJiZpW2UtMV0uZXF1YWxzKGlbMF0pJiZpLnBvcCgpfWZ1bmN0aW9uIFZjKGksZSl7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0KyspaS5wdXNoKGVbdF0ueCksaS5wdXNoKGVbdF0ueSl9Y2xhc3MgdHMgZXh0ZW5kcyAkZXtjb25zdHJ1Y3RvcihlPW5ldyBrcyhbbmV3IGVlKC41LC41KSxuZXcgZWUoLS41LC41KSxuZXcgZWUoLS41LC0uNSksbmV3IGVlKC41LC0uNSldKSx0PXt9KXtzdXBlcigpO3RoaXMudHlwZT0iRXh0cnVkZUdlb21ldHJ5Iix0aGlzLnBhcmFtZXRlcnM9e3NoYXBlczplLG9wdGlvbnM6dH0sZT1BcnJheS5pc0FycmF5KGUpP2U6W2VdO2NvbnN0IHI9dGhpcyxzPVtdLGE9W107Zm9yKGxldCBvPTAsaD1lLmxlbmd0aDtvPGg7bysrKXtjb25zdCBsPWVbb107bihsKX10aGlzLnNldEF0dHJpYnV0ZSgicG9zaXRpb24iLG5ldyBwdChzLDMpKSx0aGlzLnNldEF0dHJpYnV0ZSgidXYiLG5ldyBwdChhLDIpKSx0aGlzLmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKCk7ZnVuY3Rpb24gbihvKXtjb25zdCBoPVtdLGw9dC5jdXJ2ZVNlZ21lbnRzIT09dm9pZCAwP3QuY3VydmVTZWdtZW50czoxMixjPXQuc3RlcHMhPT12b2lkIDA/dC5zdGVwczoxO2xldCB1PXQuZGVwdGghPT12b2lkIDA/dC5kZXB0aDoxLGQ9dC5iZXZlbEVuYWJsZWQhPT12b2lkIDA/dC5iZXZlbEVuYWJsZWQ6ITAscD10LmJldmVsVGhpY2tuZXNzIT09dm9pZCAwP3QuYmV2ZWxUaGlja25lc3M6LjIsZz10LmJldmVsU2l6ZSE9PXZvaWQgMD90LmJldmVsU2l6ZTpwLS4xLGY9dC5iZXZlbE9mZnNldCE9PXZvaWQgMD90LmJldmVsT2Zmc2V0OjAsbT10LmJldmVsU2VnbWVudHMhPT12b2lkIDA/dC5iZXZlbFNlZ21lbnRzOjM7Y29uc3Qgdj10LmV4dHJ1ZGVQYXRoLHk9dC5VVkdlbmVyYXRvciE9PXZvaWQgMD90LlVWR2VuZXJhdG9yOl9NO3QuYW1vdW50IT09dm9pZCAwJiYoY29uc29sZS53YXJuKCJUSFJFRS5FeHRydWRlQnVmZmVyR2VvbWV0cnk6IGFtb3VudCBoYXMgYmVlbiByZW5hbWVkIHRvIGRlcHRoLiIpLHU9dC5hbW91bnQpO2xldCBULHc9ITEsYixMLFAsazt2JiYoVD12LmdldFNwYWNlZFBvaW50cyhjKSx3PSEwLGQ9ITEsYj12LmNvbXB1dGVGcmVuZXRGcmFtZXMoYywhMSksTD1uZXcgRSxQPW5ldyBFLGs9bmV3IEUpLGR8fChtPTAscD0wLGc9MCxmPTApO2NvbnN0IGllPW8uZXh0cmFjdFBvaW50cyhsKTtsZXQgTz1pZS5zaGFwZTtjb25zdCB4PWllLmhvbGVzO2lmKCFHaS5pc0Nsb2NrV2lzZShPKSl7Tz1PLnJldmVyc2UoKTtmb3IobGV0IFo9MCxqPXgubGVuZ3RoO1o8ajtaKyspe2NvbnN0IHE9eFtaXTtHaS5pc0Nsb2NrV2lzZShxKSYmKHhbWl09cS5yZXZlcnNlKCkpfX1jb25zdCBDPUdpLnRyaWFuZ3VsYXRlU2hhcGUoTyx4KSxZPU87Zm9yKGxldCBaPTAsaj14Lmxlbmd0aDtaPGo7WisrKXtjb25zdCBxPXhbWl07Tz1PLmNvbmNhdChxKX1mdW5jdGlvbiBOKFosaixxKXtyZXR1cm4ganx8Y29uc29sZS5lcnJvcigiVEhSRUUuRXh0cnVkZUdlb21ldHJ5OiB2ZWMgZG9lcyBub3QgZXhpc3QiKSxqLmNsb25lKCkubXVsdGlwbHlTY2FsYXIocSkuYWRkKFopfWNvbnN0IFU9Ty5sZW5ndGgsQj1DLmxlbmd0aDtmdW5jdGlvbiBHKFosaixxKXtsZXQgZmUsbGUsQWU7Y29uc3QgUGU9Wi54LWoueCxJZT1aLnktai55LFRlPXEueC1aLngsS2U9cS55LVoueSxMdD1QZSpQZStJZSpJZSxTPVBlKktlLUllKlRlO2lmKE1hdGguYWJzKFMpPk51bWJlci5FUFNJTE9OKXtjb25zdCBfPU1hdGguc3FydChMdCksRj1NYXRoLnNxcnQoVGUqVGUrS2UqS2UpLCQ9ai54LUllL18sY2U9ai55K1BlL18sZGU9cS54LUtlL0YsTWU9cS55K1RlL0YsSD0oKGRlLSQpKktlLShNZS1jZSkqVGUpLyhQZSpLZS1JZSpUZSk7ZmU9JCtQZSpILVoueCxsZT1jZStJZSpILVoueTtjb25zdCBOZT1mZSpmZStsZSpsZTtpZihOZTw9MilyZXR1cm4gbmV3IGVlKGZlLGxlKTtBZT1NYXRoLnNxcnQoTmUvMil9ZWxzZXtsZXQgXz0hMTtQZT5OdW1iZXIuRVBTSUxPTj9UZT5OdW1iZXIuRVBTSUxPTiYmKF89ITApOlBlPC1OdW1iZXIuRVBTSUxPTj9UZTwtTnVtYmVyLkVQU0lMT04mJihfPSEwKTpNYXRoLnNpZ24oSWUpPT09TWF0aC5zaWduKEtlKSYmKF89ITApLF8/KGZlPS1JZSxsZT1QZSxBZT1NYXRoLnNxcnQoTHQpKTooZmU9UGUsbGU9SWUsQWU9TWF0aC5zcXJ0KEx0LzIpKX1yZXR1cm4gbmV3IGVlKGZlL0FlLGxlL0FlKX1jb25zdCBSPVtdO2ZvcihsZXQgWj0wLGo9WS5sZW5ndGgscT1qLTEsZmU9WisxO1o8ajtaKysscSsrLGZlKyspcT09PWomJihxPTApLGZlPT09aiYmKGZlPTApLFJbWl09RyhZW1pdLFlbcV0sWVtmZV0pO2NvbnN0IFg9W107bGV0IEosdGU9Ui5jb25jYXQoKTtmb3IobGV0IFo9MCxqPXgubGVuZ3RoO1o8ajtaKyspe2NvbnN0IHE9eFtaXTtKPVtdO2ZvcihsZXQgZmU9MCxsZT1xLmxlbmd0aCxBZT1sZS0xLFBlPWZlKzE7ZmU8bGU7ZmUrKyxBZSsrLFBlKyspQWU9PT1sZSYmKEFlPTApLFBlPT09bGUmJihQZT0wKSxKW2ZlXT1HKHFbZmVdLHFbQWVdLHFbUGVdKTtYLnB1c2goSiksdGU9dGUuY29uY2F0KEopfWZvcihsZXQgWj0wO1o8bTtaKyspe2NvbnN0IGo9Wi9tLHE9cCpNYXRoLmNvcyhqKk1hdGguUEkvMiksZmU9ZypNYXRoLnNpbihqKk1hdGguUEkvMikrZjtmb3IobGV0IGxlPTAsQWU9WS5sZW5ndGg7bGU8QWU7bGUrKyl7Y29uc3QgUGU9TihZW2xlXSxSW2xlXSxmZSk7VihQZS54LFBlLnksLXEpfWZvcihsZXQgbGU9MCxBZT14Lmxlbmd0aDtsZTxBZTtsZSsrKXtjb25zdCBQZT14W2xlXTtKPVhbbGVdO2ZvcihsZXQgSWU9MCxUZT1QZS5sZW5ndGg7SWU8VGU7SWUrKyl7Y29uc3QgS2U9TihQZVtJZV0sSltJZV0sZmUpO1YoS2UueCxLZS55LC1xKX19fWNvbnN0IFE9ZytmO2ZvcihsZXQgWj0wO1o8VTtaKyspe2NvbnN0IGo9ZD9OKE9bWl0sdGVbWl0sUSk6T1taXTt3PyhQLmNvcHkoYi5ub3JtYWxzWzBdKS5tdWx0aXBseVNjYWxhcihqLngpLEwuY29weShiLmJpbm9ybWFsc1swXSkubXVsdGlwbHlTY2FsYXIoai55KSxrLmNvcHkoVFswXSkuYWRkKFApLmFkZChMKSxWKGsueCxrLnksay56KSk6VihqLngsai55LDApfWZvcihsZXQgWj0xO1o8PWM7WisrKWZvcihsZXQgaj0wO2o8VTtqKyspe2NvbnN0IHE9ZD9OKE9bal0sdGVbal0sUSk6T1tqXTt3PyhQLmNvcHkoYi5ub3JtYWxzW1pdKS5tdWx0aXBseVNjYWxhcihxLngpLEwuY29weShiLmJpbm9ybWFsc1taXSkubXVsdGlwbHlTY2FsYXIocS55KSxrLmNvcHkoVFtaXSkuYWRkKFApLmFkZChMKSxWKGsueCxrLnksay56KSk6VihxLngscS55LHUvYypaKX1mb3IobGV0IFo9bS0xO1o+PTA7Wi0tKXtjb25zdCBqPVovbSxxPXAqTWF0aC5jb3MoaipNYXRoLlBJLzIpLGZlPWcqTWF0aC5zaW4oaipNYXRoLlBJLzIpK2Y7Zm9yKGxldCBsZT0wLEFlPVkubGVuZ3RoO2xlPEFlO2xlKyspe2NvbnN0IFBlPU4oWVtsZV0sUltsZV0sZmUpO1YoUGUueCxQZS55LHUrcSl9Zm9yKGxldCBsZT0wLEFlPXgubGVuZ3RoO2xlPEFlO2xlKyspe2NvbnN0IFBlPXhbbGVdO0o9WFtsZV07Zm9yKGxldCBJZT0wLFRlPVBlLmxlbmd0aDtJZTxUZTtJZSsrKXtjb25zdCBLZT1OKFBlW0llXSxKW0llXSxmZSk7dz9WKEtlLngsS2UueStUW2MtMV0ueSxUW2MtMV0ueCtxKTpWKEtlLngsS2UueSx1K3EpfX19dmUoKSx6ZSgpO2Z1bmN0aW9uIHZlKCl7Y29uc3QgWj1zLmxlbmd0aC8zO2lmKGQpe2xldCBqPTAscT1VKmo7Zm9yKGxldCBmZT0wO2ZlPEI7ZmUrKyl7Y29uc3QgbGU9Q1tmZV07WmUobGVbMl0rcSxsZVsxXStxLGxlWzBdK3EpfWo9YyttKjIscT1VKmo7Zm9yKGxldCBmZT0wO2ZlPEI7ZmUrKyl7Y29uc3QgbGU9Q1tmZV07WmUobGVbMF0rcSxsZVsxXStxLGxlWzJdK3EpfX1lbHNle2ZvcihsZXQgaj0wO2o8QjtqKyspe2NvbnN0IHE9Q1tqXTtaZShxWzJdLHFbMV0scVswXSl9Zm9yKGxldCBqPTA7ajxCO2orKyl7Y29uc3QgcT1DW2pdO1plKHFbMF0rVSpjLHFbMV0rVSpjLHFbMl0rVSpjKX19ci5hZGRHcm91cChaLHMubGVuZ3RoLzMtWiwwKX1mdW5jdGlvbiB6ZSgpe2NvbnN0IFo9cy5sZW5ndGgvMztsZXQgaj0wO2JlKFksaiksais9WS5sZW5ndGg7Zm9yKGxldCBxPTAsZmU9eC5sZW5ndGg7cTxmZTtxKyspe2NvbnN0IGxlPXhbcV07YmUobGUsaiksais9bGUubGVuZ3RofXIuYWRkR3JvdXAoWixzLmxlbmd0aC8zLVosMSl9ZnVuY3Rpb24gYmUoWixqKXtsZXQgcT1aLmxlbmd0aDtmb3IoOy0tcT49MDspe2NvbnN0IGZlPXE7bGV0IGxlPXEtMTtsZTwwJiYobGU9Wi5sZW5ndGgtMSk7Zm9yKGxldCBBZT0wLFBlPWMrbSoyO0FlPFBlO0FlKyspe2NvbnN0IEllPVUqQWUsVGU9VSooQWUrMSksS2U9aitmZStJZSxMdD1qK2xlK0llLFM9aitsZStUZSxfPWorZmUrVGU7T2UoS2UsTHQsUyxfKX19fWZ1bmN0aW9uIFYoWixqLHEpe2gucHVzaChaKSxoLnB1c2goaiksaC5wdXNoKHEpfWZ1bmN0aW9uIFplKFosaixxKXt5ZShaKSx5ZShqKSx5ZShxKTtjb25zdCBmZT1zLmxlbmd0aC8zLGxlPXkuZ2VuZXJhdGVUb3BVVihyLHMsZmUtMyxmZS0yLGZlLTEpO3JlKGxlWzBdKSxyZShsZVsxXSkscmUobGVbMl0pfWZ1bmN0aW9uIE9lKFosaixxLGZlKXt5ZShaKSx5ZShqKSx5ZShmZSkseWUoaikseWUocSkseWUoZmUpO2NvbnN0IGxlPXMubGVuZ3RoLzMsQWU9eS5nZW5lcmF0ZVNpZGVXYWxsVVYocixzLGxlLTYsbGUtMyxsZS0yLGxlLTEpO3JlKEFlWzBdKSxyZShBZVsxXSkscmUoQWVbM10pLHJlKEFlWzFdKSxyZShBZVsyXSkscmUoQWVbM10pfWZ1bmN0aW9uIHllKFope3MucHVzaChoW1oqMyswXSkscy5wdXNoKGhbWiozKzFdKSxzLnB1c2goaFtaKjMrMl0pfWZ1bmN0aW9uIHJlKFope2EucHVzaChaLngpLGEucHVzaChaLnkpfX19dG9KU09OKCl7Y29uc3QgZT1zdXBlci50b0pTT04oKSx0PXRoaXMucGFyYW1ldGVycy5zaGFwZXMscj10aGlzLnBhcmFtZXRlcnMub3B0aW9ucztyZXR1cm4geU0odCxyLGUpfXN0YXRpYyBmcm9tSlNPTihlLHQpe2NvbnN0IHI9W107Zm9yKGxldCBhPTAsbj1lLnNoYXBlcy5sZW5ndGg7YTxuO2ErKyl7Y29uc3Qgbz10W2Uuc2hhcGVzW2FdXTtyLnB1c2gobyl9Y29uc3Qgcz1lLm9wdGlvbnMuZXh0cnVkZVBhdGg7cmV0dXJuIHMhPT12b2lkIDAmJihlLm9wdGlvbnMuZXh0cnVkZVBhdGg9bmV3IEJjW3MudHlwZV0oKS5mcm9tSlNPTihzKSksbmV3IHRzKHIsZS5vcHRpb25zKX19Y29uc3QgX009e2dlbmVyYXRlVG9wVVY6ZnVuY3Rpb24oaSxlLHQscixzKXtjb25zdCBhPWVbdCozXSxuPWVbdCozKzFdLG89ZVtyKjNdLGg9ZVtyKjMrMV0sbD1lW3MqM10sYz1lW3MqMysxXTtyZXR1cm5bbmV3IGVlKGEsbiksbmV3IGVlKG8saCksbmV3IGVlKGwsYyldfSxnZW5lcmF0ZVNpZGVXYWxsVVY6ZnVuY3Rpb24oaSxlLHQscixzLGEpe2NvbnN0IG49ZVt0KjNdLG89ZVt0KjMrMV0saD1lW3QqMysyXSxsPWVbciozXSxjPWVbciozKzFdLHU9ZVtyKjMrMl0sZD1lW3MqM10scD1lW3MqMysxXSxnPWVbcyozKzJdLGY9ZVthKjNdLG09ZVthKjMrMV0sdj1lW2EqMysyXTtyZXR1cm4gTWF0aC5hYnMoby1jKTxNYXRoLmFicyhuLWwpP1tuZXcgZWUobiwxLWgpLG5ldyBlZShsLDEtdSksbmV3IGVlKGQsMS1nKSxuZXcgZWUoZiwxLXYpXTpbbmV3IGVlKG8sMS1oKSxuZXcgZWUoYywxLXUpLG5ldyBlZShwLDEtZyksbmV3IGVlKG0sMS12KV19fTtmdW5jdGlvbiB5TShpLGUsdCl7aWYodC5zaGFwZXM9W10sQXJyYXkuaXNBcnJheShpKSlmb3IobGV0IHI9MCxzPWkubGVuZ3RoO3I8cztyKyspe2NvbnN0IGE9aVtyXTt0LnNoYXBlcy5wdXNoKGEudXVpZCl9ZWxzZSB0LnNoYXBlcy5wdXNoKGkudXVpZCk7cmV0dXJuIGUuZXh0cnVkZVBhdGghPT12b2lkIDAmJih0Lm9wdGlvbnMuZXh0cnVkZVBhdGg9ZS5leHRydWRlUGF0aC50b0pTT04oKSksdH1jbGFzcyBVbyBleHRlbmRzICRle2NvbnN0cnVjdG9yKGU9bmV3IGtzKFtuZXcgZWUoMCwuNSksbmV3IGVlKC0uNSwtLjUpLG5ldyBlZSguNSwtLjUpXSksdD0xMil7c3VwZXIoKTt0aGlzLnR5cGU9IlNoYXBlR2VvbWV0cnkiLHRoaXMucGFyYW1ldGVycz17c2hhcGVzOmUsY3VydmVTZWdtZW50czp0fTtjb25zdCByPVtdLHM9W10sYT1bXSxuPVtdO2xldCBvPTAsaD0wO2lmKEFycmF5LmlzQXJyYXkoZSk9PT0hMSlsKGUpO2Vsc2UgZm9yKGxldCBjPTA7YzxlLmxlbmd0aDtjKyspbChlW2NdKSx0aGlzLmFkZEdyb3VwKG8saCxjKSxvKz1oLGg9MDt0aGlzLnNldEluZGV4KHIpLHRoaXMuc2V0QXR0cmlidXRlKCJwb3NpdGlvbiIsbmV3IHB0KHMsMykpLHRoaXMuc2V0QXR0cmlidXRlKCJub3JtYWwiLG5ldyBwdChhLDMpKSx0aGlzLnNldEF0dHJpYnV0ZSgidXYiLG5ldyBwdChuLDIpKTtmdW5jdGlvbiBsKGMpe2NvbnN0IHU9cy5sZW5ndGgvMyxkPWMuZXh0cmFjdFBvaW50cyh0KTtsZXQgcD1kLnNoYXBlO2NvbnN0IGc9ZC5ob2xlcztHaS5pc0Nsb2NrV2lzZShwKT09PSExJiYocD1wLnJldmVyc2UoKSk7Zm9yKGxldCBtPTAsdj1nLmxlbmd0aDttPHY7bSsrKXtjb25zdCB5PWdbbV07R2kuaXNDbG9ja1dpc2UoeSk9PT0hMCYmKGdbbV09eS5yZXZlcnNlKCkpfWNvbnN0IGY9R2kudHJpYW5ndWxhdGVTaGFwZShwLGcpO2ZvcihsZXQgbT0wLHY9Zy5sZW5ndGg7bTx2O20rKyl7Y29uc3QgeT1nW21dO3A9cC5jb25jYXQoeSl9Zm9yKGxldCBtPTAsdj1wLmxlbmd0aDttPHY7bSsrKXtjb25zdCB5PXBbbV07cy5wdXNoKHkueCx5LnksMCksYS5wdXNoKDAsMCwxKSxuLnB1c2goeS54LHkueSl9Zm9yKGxldCBtPTAsdj1mLmxlbmd0aDttPHY7bSsrKXtjb25zdCB5PWZbbV0sVD15WzBdK3Usdz15WzFdK3UsYj15WzJdK3U7ci5wdXNoKFQsdyxiKSxoKz0zfX19dG9KU09OKCl7Y29uc3QgZT1zdXBlci50b0pTT04oKSx0PXRoaXMucGFyYW1ldGVycy5zaGFwZXM7cmV0dXJuIE1NKHQsZSl9c3RhdGljIGZyb21KU09OKGUsdCl7Y29uc3Qgcj1bXTtmb3IobGV0IHM9MCxhPWUuc2hhcGVzLmxlbmd0aDtzPGE7cysrKXtjb25zdCBuPXRbZS5zaGFwZXNbc11dO3IucHVzaChuKX1yZXR1cm4gbmV3IFVvKHIsZS5jdXJ2ZVNlZ21lbnRzKX19ZnVuY3Rpb24gTU0oaSxlKXtpZihlLnNoYXBlcz1bXSxBcnJheS5pc0FycmF5KGkpKWZvcihsZXQgdD0wLHI9aS5sZW5ndGg7dDxyO3QrKyl7Y29uc3Qgcz1pW3RdO2Uuc2hhcGVzLnB1c2gocy51dWlkKX1lbHNlIGUuc2hhcGVzLnB1c2goaS51dWlkKTtyZXR1cm4gZX1jbGFzcyBXYyBleHRlbmRzIGx0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCk7dGhpcy50eXBlPSJTaGFkb3dNYXRlcmlhbCIsdGhpcy5jb2xvcj1uZXcgZ2UoMCksdGhpcy50cmFuc3BhcmVudD0hMCx0aGlzLnNldFZhbHVlcyhlKX1jb3B5KGUpe3JldHVybiBzdXBlci5jb3B5KGUpLHRoaXMuY29sb3IuY29weShlLmNvbG9yKSx0aGlzfX1XYy5wcm90b3R5cGUuaXNTaGFkb3dNYXRlcmlhbD0hMDtjbGFzcyBqYyBleHRlbmRzICR0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpO3RoaXMudHlwZT0iUmF3U2hhZGVyTWF0ZXJpYWwifX1qYy5wcm90b3R5cGUuaXNSYXdTaGFkZXJNYXRlcmlhbD0hMDtjbGFzcyBGbyBleHRlbmRzIGx0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCk7dGhpcy5kZWZpbmVzPXtTVEFOREFSRDoiIn0sdGhpcy50eXBlPSJNZXNoU3RhbmRhcmRNYXRlcmlhbCIsdGhpcy5jb2xvcj1uZXcgZ2UoMTY3NzcyMTUpLHRoaXMucm91Z2huZXNzPTEsdGhpcy5tZXRhbG5lc3M9MCx0aGlzLm1hcD1udWxsLHRoaXMubGlnaHRNYXA9bnVsbCx0aGlzLmxpZ2h0TWFwSW50ZW5zaXR5PTEsdGhpcy5hb01hcD1udWxsLHRoaXMuYW9NYXBJbnRlbnNpdHk9MSx0aGlzLmVtaXNzaXZlPW5ldyBnZSgwKSx0aGlzLmVtaXNzaXZlSW50ZW5zaXR5PTEsdGhpcy5lbWlzc2l2ZU1hcD1udWxsLHRoaXMuYnVtcE1hcD1udWxsLHRoaXMuYnVtcFNjYWxlPTEsdGhpcy5ub3JtYWxNYXA9bnVsbCx0aGlzLm5vcm1hbE1hcFR5cGU9THIsdGhpcy5ub3JtYWxTY2FsZT1uZXcgZWUoMSwxKSx0aGlzLmRpc3BsYWNlbWVudE1hcD1udWxsLHRoaXMuZGlzcGxhY2VtZW50U2NhbGU9MSx0aGlzLmRpc3BsYWNlbWVudEJpYXM9MCx0aGlzLnJvdWdobmVzc01hcD1udWxsLHRoaXMubWV0YWxuZXNzTWFwPW51bGwsdGhpcy5hbHBoYU1hcD1udWxsLHRoaXMuZW52TWFwPW51bGwsdGhpcy5lbnZNYXBJbnRlbnNpdHk9MSx0aGlzLndpcmVmcmFtZT0hMSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD0xLHRoaXMud2lyZWZyYW1lTGluZWNhcD0icm91bmQiLHRoaXMud2lyZWZyYW1lTGluZWpvaW49InJvdW5kIix0aGlzLmZsYXRTaGFkaW5nPSExLHRoaXMuc2V0VmFsdWVzKGUpfWNvcHkoZSl7cmV0dXJuIHN1cGVyLmNvcHkoZSksdGhpcy5kZWZpbmVzPXtTVEFOREFSRDoiIn0sdGhpcy5jb2xvci5jb3B5KGUuY29sb3IpLHRoaXMucm91Z2huZXNzPWUucm91Z2huZXNzLHRoaXMubWV0YWxuZXNzPWUubWV0YWxuZXNzLHRoaXMubWFwPWUubWFwLHRoaXMubGlnaHRNYXA9ZS5saWdodE1hcCx0aGlzLmxpZ2h0TWFwSW50ZW5zaXR5PWUubGlnaHRNYXBJbnRlbnNpdHksdGhpcy5hb01hcD1lLmFvTWFwLHRoaXMuYW9NYXBJbnRlbnNpdHk9ZS5hb01hcEludGVuc2l0eSx0aGlzLmVtaXNzaXZlLmNvcHkoZS5lbWlzc2l2ZSksdGhpcy5lbWlzc2l2ZU1hcD1lLmVtaXNzaXZlTWFwLHRoaXMuZW1pc3NpdmVJbnRlbnNpdHk9ZS5lbWlzc2l2ZUludGVuc2l0eSx0aGlzLmJ1bXBNYXA9ZS5idW1wTWFwLHRoaXMuYnVtcFNjYWxlPWUuYnVtcFNjYWxlLHRoaXMubm9ybWFsTWFwPWUubm9ybWFsTWFwLHRoaXMubm9ybWFsTWFwVHlwZT1lLm5vcm1hbE1hcFR5cGUsdGhpcy5ub3JtYWxTY2FsZS5jb3B5KGUubm9ybWFsU2NhbGUpLHRoaXMuZGlzcGxhY2VtZW50TWFwPWUuZGlzcGxhY2VtZW50TWFwLHRoaXMuZGlzcGxhY2VtZW50U2NhbGU9ZS5kaXNwbGFjZW1lbnRTY2FsZSx0aGlzLmRpc3BsYWNlbWVudEJpYXM9ZS5kaXNwbGFjZW1lbnRCaWFzLHRoaXMucm91Z2huZXNzTWFwPWUucm91Z2huZXNzTWFwLHRoaXMubWV0YWxuZXNzTWFwPWUubWV0YWxuZXNzTWFwLHRoaXMuYWxwaGFNYXA9ZS5hbHBoYU1hcCx0aGlzLmVudk1hcD1lLmVudk1hcCx0aGlzLmVudk1hcEludGVuc2l0eT1lLmVudk1hcEludGVuc2l0eSx0aGlzLndpcmVmcmFtZT1lLndpcmVmcmFtZSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD1lLndpcmVmcmFtZUxpbmV3aWR0aCx0aGlzLndpcmVmcmFtZUxpbmVjYXA9ZS53aXJlZnJhbWVMaW5lY2FwLHRoaXMud2lyZWZyYW1lTGluZWpvaW49ZS53aXJlZnJhbWVMaW5lam9pbix0aGlzLmZsYXRTaGFkaW5nPWUuZmxhdFNoYWRpbmcsdGhpc319Rm8ucHJvdG90eXBlLmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWw9ITA7Y2xhc3MgcWMgZXh0ZW5kcyBGb3tjb25zdHJ1Y3RvcihlKXtzdXBlcigpO3RoaXMuZGVmaW5lcz17U1RBTkRBUkQ6IiIsUEhZU0lDQUw6IiJ9LHRoaXMudHlwZT0iTWVzaFBoeXNpY2FsTWF0ZXJpYWwiLHRoaXMuY2xlYXJjb2F0TWFwPW51bGwsdGhpcy5jbGVhcmNvYXRSb3VnaG5lc3M9MCx0aGlzLmNsZWFyY29hdFJvdWdobmVzc01hcD1udWxsLHRoaXMuY2xlYXJjb2F0Tm9ybWFsU2NhbGU9bmV3IGVlKDEsMSksdGhpcy5jbGVhcmNvYXROb3JtYWxNYXA9bnVsbCx0aGlzLmlvcj0xLjUsT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsInJlZmxlY3Rpdml0eSIse2dldDpmdW5jdGlvbigpe3JldHVybiB5dCgyLjUqKHRoaXMuaW9yLTEpLyh0aGlzLmlvcisxKSwwLDEpfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5pb3I9KDErLjQqdCkvKDEtLjQqdCl9fSksdGhpcy5zaGVlbkNvbG9yPW5ldyBnZSgwKSx0aGlzLnNoZWVuQ29sb3JNYXA9bnVsbCx0aGlzLnNoZWVuUm91Z2huZXNzPTEsdGhpcy5zaGVlblJvdWdobmVzc01hcD1udWxsLHRoaXMudHJhbnNtaXNzaW9uTWFwPW51bGwsdGhpcy50aGlja25lc3M9MCx0aGlzLnRoaWNrbmVzc01hcD1udWxsLHRoaXMuYXR0ZW51YXRpb25EaXN0YW5jZT0wLHRoaXMuYXR0ZW51YXRpb25Db2xvcj1uZXcgZ2UoMSwxLDEpLHRoaXMuc3BlY3VsYXJJbnRlbnNpdHk9MSx0aGlzLnNwZWN1bGFySW50ZW5zaXR5TWFwPW51bGwsdGhpcy5zcGVjdWxhckNvbG9yPW5ldyBnZSgxLDEsMSksdGhpcy5zcGVjdWxhckNvbG9yTWFwPW51bGwsdGhpcy5fc2hlZW49MCx0aGlzLl9jbGVhcmNvYXQ9MCx0aGlzLl90cmFuc21pc3Npb249MCx0aGlzLnNldFZhbHVlcyhlKX1nZXQgc2hlZW4oKXtyZXR1cm4gdGhpcy5fc2hlZW59c2V0IHNoZWVuKGUpe3RoaXMuX3NoZWVuPjAhPWU+MCYmdGhpcy52ZXJzaW9uKyssdGhpcy5fc2hlZW49ZX1nZXQgY2xlYXJjb2F0KCl7cmV0dXJuIHRoaXMuX2NsZWFyY29hdH1zZXQgY2xlYXJjb2F0KGUpe3RoaXMuX2NsZWFyY29hdD4wIT1lPjAmJnRoaXMudmVyc2lvbisrLHRoaXMuX2NsZWFyY29hdD1lfWdldCB0cmFuc21pc3Npb24oKXtyZXR1cm4gdGhpcy5fdHJhbnNtaXNzaW9ufXNldCB0cmFuc21pc3Npb24oZSl7dGhpcy5fdHJhbnNtaXNzaW9uPjAhPWU+MCYmdGhpcy52ZXJzaW9uKyssdGhpcy5fdHJhbnNtaXNzaW9uPWV9Y29weShlKXtyZXR1cm4gc3VwZXIuY29weShlKSx0aGlzLmRlZmluZXM9e1NUQU5EQVJEOiIiLFBIWVNJQ0FMOiIifSx0aGlzLmNsZWFyY29hdD1lLmNsZWFyY29hdCx0aGlzLmNsZWFyY29hdE1hcD1lLmNsZWFyY29hdE1hcCx0aGlzLmNsZWFyY29hdFJvdWdobmVzcz1lLmNsZWFyY29hdFJvdWdobmVzcyx0aGlzLmNsZWFyY29hdFJvdWdobmVzc01hcD1lLmNsZWFyY29hdFJvdWdobmVzc01hcCx0aGlzLmNsZWFyY29hdE5vcm1hbE1hcD1lLmNsZWFyY29hdE5vcm1hbE1hcCx0aGlzLmNsZWFyY29hdE5vcm1hbFNjYWxlLmNvcHkoZS5jbGVhcmNvYXROb3JtYWxTY2FsZSksdGhpcy5pb3I9ZS5pb3IsdGhpcy5zaGVlbj1lLnNoZWVuLHRoaXMuc2hlZW5Db2xvci5jb3B5KGUuc2hlZW5Db2xvciksdGhpcy5zaGVlbkNvbG9yTWFwPWUuc2hlZW5Db2xvck1hcCx0aGlzLnNoZWVuUm91Z2huZXNzPWUuc2hlZW5Sb3VnaG5lc3MsdGhpcy5zaGVlblJvdWdobmVzc01hcD1lLnNoZWVuUm91Z2huZXNzTWFwLHRoaXMudHJhbnNtaXNzaW9uPWUudHJhbnNtaXNzaW9uLHRoaXMudHJhbnNtaXNzaW9uTWFwPWUudHJhbnNtaXNzaW9uTWFwLHRoaXMudGhpY2tuZXNzPWUudGhpY2tuZXNzLHRoaXMudGhpY2tuZXNzTWFwPWUudGhpY2tuZXNzTWFwLHRoaXMuYXR0ZW51YXRpb25EaXN0YW5jZT1lLmF0dGVudWF0aW9uRGlzdGFuY2UsdGhpcy5hdHRlbnVhdGlvbkNvbG9yLmNvcHkoZS5hdHRlbnVhdGlvbkNvbG9yKSx0aGlzLnNwZWN1bGFySW50ZW5zaXR5PWUuc3BlY3VsYXJJbnRlbnNpdHksdGhpcy5zcGVjdWxhckludGVuc2l0eU1hcD1lLnNwZWN1bGFySW50ZW5zaXR5TWFwLHRoaXMuc3BlY3VsYXJDb2xvci5jb3B5KGUuc3BlY3VsYXJDb2xvciksdGhpcy5zcGVjdWxhckNvbG9yTWFwPWUuc3BlY3VsYXJDb2xvck1hcCx0aGlzfX1xYy5wcm90b3R5cGUuaXNNZXNoUGh5c2ljYWxNYXRlcmlhbD0hMDtjbGFzcyBYYyBleHRlbmRzIGx0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCk7dGhpcy50eXBlPSJNZXNoUGhvbmdNYXRlcmlhbCIsdGhpcy5jb2xvcj1uZXcgZ2UoMTY3NzcyMTUpLHRoaXMuc3BlY3VsYXI9bmV3IGdlKDExMTg0ODEpLHRoaXMuc2hpbmluZXNzPTMwLHRoaXMubWFwPW51bGwsdGhpcy5saWdodE1hcD1udWxsLHRoaXMubGlnaHRNYXBJbnRlbnNpdHk9MSx0aGlzLmFvTWFwPW51bGwsdGhpcy5hb01hcEludGVuc2l0eT0xLHRoaXMuZW1pc3NpdmU9bmV3IGdlKDApLHRoaXMuZW1pc3NpdmVJbnRlbnNpdHk9MSx0aGlzLmVtaXNzaXZlTWFwPW51bGwsdGhpcy5idW1wTWFwPW51bGwsdGhpcy5idW1wU2NhbGU9MSx0aGlzLm5vcm1hbE1hcD1udWxsLHRoaXMubm9ybWFsTWFwVHlwZT1Mcix0aGlzLm5vcm1hbFNjYWxlPW5ldyBlZSgxLDEpLHRoaXMuZGlzcGxhY2VtZW50TWFwPW51bGwsdGhpcy5kaXNwbGFjZW1lbnRTY2FsZT0xLHRoaXMuZGlzcGxhY2VtZW50Qmlhcz0wLHRoaXMuc3BlY3VsYXJNYXA9bnVsbCx0aGlzLmFscGhhTWFwPW51bGwsdGhpcy5lbnZNYXA9bnVsbCx0aGlzLmNvbWJpbmU9bGEsdGhpcy5yZWZsZWN0aXZpdHk9MSx0aGlzLnJlZnJhY3Rpb25SYXRpbz0uOTgsdGhpcy53aXJlZnJhbWU9ITEsdGhpcy53aXJlZnJhbWVMaW5ld2lkdGg9MSx0aGlzLndpcmVmcmFtZUxpbmVjYXA9InJvdW5kIix0aGlzLndpcmVmcmFtZUxpbmVqb2luPSJyb3VuZCIsdGhpcy5mbGF0U2hhZGluZz0hMSx0aGlzLnNldFZhbHVlcyhlKX1jb3B5KGUpe3JldHVybiBzdXBlci5jb3B5KGUpLHRoaXMuY29sb3IuY29weShlLmNvbG9yKSx0aGlzLnNwZWN1bGFyLmNvcHkoZS5zcGVjdWxhciksdGhpcy5zaGluaW5lc3M9ZS5zaGluaW5lc3MsdGhpcy5tYXA9ZS5tYXAsdGhpcy5saWdodE1hcD1lLmxpZ2h0TWFwLHRoaXMubGlnaHRNYXBJbnRlbnNpdHk9ZS5saWdodE1hcEludGVuc2l0eSx0aGlzLmFvTWFwPWUuYW9NYXAsdGhpcy5hb01hcEludGVuc2l0eT1lLmFvTWFwSW50ZW5zaXR5LHRoaXMuZW1pc3NpdmUuY29weShlLmVtaXNzaXZlKSx0aGlzLmVtaXNzaXZlTWFwPWUuZW1pc3NpdmVNYXAsdGhpcy5lbWlzc2l2ZUludGVuc2l0eT1lLmVtaXNzaXZlSW50ZW5zaXR5LHRoaXMuYnVtcE1hcD1lLmJ1bXBNYXAsdGhpcy5idW1wU2NhbGU9ZS5idW1wU2NhbGUsdGhpcy5ub3JtYWxNYXA9ZS5ub3JtYWxNYXAsdGhpcy5ub3JtYWxNYXBUeXBlPWUubm9ybWFsTWFwVHlwZSx0aGlzLm5vcm1hbFNjYWxlLmNvcHkoZS5ub3JtYWxTY2FsZSksdGhpcy5kaXNwbGFjZW1lbnRNYXA9ZS5kaXNwbGFjZW1lbnRNYXAsdGhpcy5kaXNwbGFjZW1lbnRTY2FsZT1lLmRpc3BsYWNlbWVudFNjYWxlLHRoaXMuZGlzcGxhY2VtZW50Qmlhcz1lLmRpc3BsYWNlbWVudEJpYXMsdGhpcy5zcGVjdWxhck1hcD1lLnNwZWN1bGFyTWFwLHRoaXMuYWxwaGFNYXA9ZS5hbHBoYU1hcCx0aGlzLmVudk1hcD1lLmVudk1hcCx0aGlzLmNvbWJpbmU9ZS5jb21iaW5lLHRoaXMucmVmbGVjdGl2aXR5PWUucmVmbGVjdGl2aXR5LHRoaXMucmVmcmFjdGlvblJhdGlvPWUucmVmcmFjdGlvblJhdGlvLHRoaXMud2lyZWZyYW1lPWUud2lyZWZyYW1lLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPWUud2lyZWZyYW1lTGluZXdpZHRoLHRoaXMud2lyZWZyYW1lTGluZWNhcD1lLndpcmVmcmFtZUxpbmVjYXAsdGhpcy53aXJlZnJhbWVMaW5lam9pbj1lLndpcmVmcmFtZUxpbmVqb2luLHRoaXMuZmxhdFNoYWRpbmc9ZS5mbGF0U2hhZGluZyx0aGlzfX1YYy5wcm90b3R5cGUuaXNNZXNoUGhvbmdNYXRlcmlhbD0hMDtjbGFzcyBKYyBleHRlbmRzIGx0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCk7dGhpcy5kZWZpbmVzPXtUT09OOiIifSx0aGlzLnR5cGU9Ik1lc2hUb29uTWF0ZXJpYWwiLHRoaXMuY29sb3I9bmV3IGdlKDE2Nzc3MjE1KSx0aGlzLm1hcD1udWxsLHRoaXMuZ3JhZGllbnRNYXA9bnVsbCx0aGlzLmxpZ2h0TWFwPW51bGwsdGhpcy5saWdodE1hcEludGVuc2l0eT0xLHRoaXMuYW9NYXA9bnVsbCx0aGlzLmFvTWFwSW50ZW5zaXR5PTEsdGhpcy5lbWlzc2l2ZT1uZXcgZ2UoMCksdGhpcy5lbWlzc2l2ZUludGVuc2l0eT0xLHRoaXMuZW1pc3NpdmVNYXA9bnVsbCx0aGlzLmJ1bXBNYXA9bnVsbCx0aGlzLmJ1bXBTY2FsZT0xLHRoaXMubm9ybWFsTWFwPW51bGwsdGhpcy5ub3JtYWxNYXBUeXBlPUxyLHRoaXMubm9ybWFsU2NhbGU9bmV3IGVlKDEsMSksdGhpcy5kaXNwbGFjZW1lbnRNYXA9bnVsbCx0aGlzLmRpc3BsYWNlbWVudFNjYWxlPTEsdGhpcy5kaXNwbGFjZW1lbnRCaWFzPTAsdGhpcy5hbHBoYU1hcD1udWxsLHRoaXMud2lyZWZyYW1lPSExLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPTEsdGhpcy53aXJlZnJhbWVMaW5lY2FwPSJyb3VuZCIsdGhpcy53aXJlZnJhbWVMaW5lam9pbj0icm91bmQiLHRoaXMuc2V0VmFsdWVzKGUpfWNvcHkoZSl7cmV0dXJuIHN1cGVyLmNvcHkoZSksdGhpcy5jb2xvci5jb3B5KGUuY29sb3IpLHRoaXMubWFwPWUubWFwLHRoaXMuZ3JhZGllbnRNYXA9ZS5ncmFkaWVudE1hcCx0aGlzLmxpZ2h0TWFwPWUubGlnaHRNYXAsdGhpcy5saWdodE1hcEludGVuc2l0eT1lLmxpZ2h0TWFwSW50ZW5zaXR5LHRoaXMuYW9NYXA9ZS5hb01hcCx0aGlzLmFvTWFwSW50ZW5zaXR5PWUuYW9NYXBJbnRlbnNpdHksdGhpcy5lbWlzc2l2ZS5jb3B5KGUuZW1pc3NpdmUpLHRoaXMuZW1pc3NpdmVNYXA9ZS5lbWlzc2l2ZU1hcCx0aGlzLmVtaXNzaXZlSW50ZW5zaXR5PWUuZW1pc3NpdmVJbnRlbnNpdHksdGhpcy5idW1wTWFwPWUuYnVtcE1hcCx0aGlzLmJ1bXBTY2FsZT1lLmJ1bXBTY2FsZSx0aGlzLm5vcm1hbE1hcD1lLm5vcm1hbE1hcCx0aGlzLm5vcm1hbE1hcFR5cGU9ZS5ub3JtYWxNYXBUeXBlLHRoaXMubm9ybWFsU2NhbGUuY29weShlLm5vcm1hbFNjYWxlKSx0aGlzLmRpc3BsYWNlbWVudE1hcD1lLmRpc3BsYWNlbWVudE1hcCx0aGlzLmRpc3BsYWNlbWVudFNjYWxlPWUuZGlzcGxhY2VtZW50U2NhbGUsdGhpcy5kaXNwbGFjZW1lbnRCaWFzPWUuZGlzcGxhY2VtZW50Qmlhcyx0aGlzLmFscGhhTWFwPWUuYWxwaGFNYXAsdGhpcy53aXJlZnJhbWU9ZS53aXJlZnJhbWUsdGhpcy53aXJlZnJhbWVMaW5ld2lkdGg9ZS53aXJlZnJhbWVMaW5ld2lkdGgsdGhpcy53aXJlZnJhbWVMaW5lY2FwPWUud2lyZWZyYW1lTGluZWNhcCx0aGlzLndpcmVmcmFtZUxpbmVqb2luPWUud2lyZWZyYW1lTGluZWpvaW4sdGhpc319SmMucHJvdG90eXBlLmlzTWVzaFRvb25NYXRlcmlhbD0hMDtjbGFzcyBZYyBleHRlbmRzIGx0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCk7dGhpcy50eXBlPSJNZXNoTm9ybWFsTWF0ZXJpYWwiLHRoaXMuYnVtcE1hcD1udWxsLHRoaXMuYnVtcFNjYWxlPTEsdGhpcy5ub3JtYWxNYXA9bnVsbCx0aGlzLm5vcm1hbE1hcFR5cGU9THIsdGhpcy5ub3JtYWxTY2FsZT1uZXcgZWUoMSwxKSx0aGlzLmRpc3BsYWNlbWVudE1hcD1udWxsLHRoaXMuZGlzcGxhY2VtZW50U2NhbGU9MSx0aGlzLmRpc3BsYWNlbWVudEJpYXM9MCx0aGlzLndpcmVmcmFtZT0hMSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD0xLHRoaXMuZm9nPSExLHRoaXMuZmxhdFNoYWRpbmc9ITEsdGhpcy5zZXRWYWx1ZXMoZSl9Y29weShlKXtyZXR1cm4gc3VwZXIuY29weShlKSx0aGlzLmJ1bXBNYXA9ZS5idW1wTWFwLHRoaXMuYnVtcFNjYWxlPWUuYnVtcFNjYWxlLHRoaXMubm9ybWFsTWFwPWUubm9ybWFsTWFwLHRoaXMubm9ybWFsTWFwVHlwZT1lLm5vcm1hbE1hcFR5cGUsdGhpcy5ub3JtYWxTY2FsZS5jb3B5KGUubm9ybWFsU2NhbGUpLHRoaXMuZGlzcGxhY2VtZW50TWFwPWUuZGlzcGxhY2VtZW50TWFwLHRoaXMuZGlzcGxhY2VtZW50U2NhbGU9ZS5kaXNwbGFjZW1lbnRTY2FsZSx0aGlzLmRpc3BsYWNlbWVudEJpYXM9ZS5kaXNwbGFjZW1lbnRCaWFzLHRoaXMud2lyZWZyYW1lPWUud2lyZWZyYW1lLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPWUud2lyZWZyYW1lTGluZXdpZHRoLHRoaXMuZmxhdFNoYWRpbmc9ZS5mbGF0U2hhZGluZyx0aGlzfX1ZYy5wcm90b3R5cGUuaXNNZXNoTm9ybWFsTWF0ZXJpYWw9ITA7Y2xhc3MgWmMgZXh0ZW5kcyBsdHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpO3RoaXMudHlwZT0iTWVzaExhbWJlcnRNYXRlcmlhbCIsdGhpcy5jb2xvcj1uZXcgZ2UoMTY3NzcyMTUpLHRoaXMubWFwPW51bGwsdGhpcy5saWdodE1hcD1udWxsLHRoaXMubGlnaHRNYXBJbnRlbnNpdHk9MSx0aGlzLmFvTWFwPW51bGwsdGhpcy5hb01hcEludGVuc2l0eT0xLHRoaXMuZW1pc3NpdmU9bmV3IGdlKDApLHRoaXMuZW1pc3NpdmVJbnRlbnNpdHk9MSx0aGlzLmVtaXNzaXZlTWFwPW51bGwsdGhpcy5zcGVjdWxhck1hcD1udWxsLHRoaXMuYWxwaGFNYXA9bnVsbCx0aGlzLmVudk1hcD1udWxsLHRoaXMuY29tYmluZT1sYSx0aGlzLnJlZmxlY3Rpdml0eT0xLHRoaXMucmVmcmFjdGlvblJhdGlvPS45OCx0aGlzLndpcmVmcmFtZT0hMSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD0xLHRoaXMud2lyZWZyYW1lTGluZWNhcD0icm91bmQiLHRoaXMud2lyZWZyYW1lTGluZWpvaW49InJvdW5kIix0aGlzLnNldFZhbHVlcyhlKX1jb3B5KGUpe3JldHVybiBzdXBlci5jb3B5KGUpLHRoaXMuY29sb3IuY29weShlLmNvbG9yKSx0aGlzLm1hcD1lLm1hcCx0aGlzLmxpZ2h0TWFwPWUubGlnaHRNYXAsdGhpcy5saWdodE1hcEludGVuc2l0eT1lLmxpZ2h0TWFwSW50ZW5zaXR5LHRoaXMuYW9NYXA9ZS5hb01hcCx0aGlzLmFvTWFwSW50ZW5zaXR5PWUuYW9NYXBJbnRlbnNpdHksdGhpcy5lbWlzc2l2ZS5jb3B5KGUuZW1pc3NpdmUpLHRoaXMuZW1pc3NpdmVNYXA9ZS5lbWlzc2l2ZU1hcCx0aGlzLmVtaXNzaXZlSW50ZW5zaXR5PWUuZW1pc3NpdmVJbnRlbnNpdHksdGhpcy5zcGVjdWxhck1hcD1lLnNwZWN1bGFyTWFwLHRoaXMuYWxwaGFNYXA9ZS5hbHBoYU1hcCx0aGlzLmVudk1hcD1lLmVudk1hcCx0aGlzLmNvbWJpbmU9ZS5jb21iaW5lLHRoaXMucmVmbGVjdGl2aXR5PWUucmVmbGVjdGl2aXR5LHRoaXMucmVmcmFjdGlvblJhdGlvPWUucmVmcmFjdGlvblJhdGlvLHRoaXMud2lyZWZyYW1lPWUud2lyZWZyYW1lLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPWUud2lyZWZyYW1lTGluZXdpZHRoLHRoaXMud2lyZWZyYW1lTGluZWNhcD1lLndpcmVmcmFtZUxpbmVjYXAsdGhpcy53aXJlZnJhbWVMaW5lam9pbj1lLndpcmVmcmFtZUxpbmVqb2luLHRoaXN9fVpjLnByb3RvdHlwZS5pc01lc2hMYW1iZXJ0TWF0ZXJpYWw9ITA7Y2xhc3MgS2MgZXh0ZW5kcyBsdHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpO3RoaXMuZGVmaW5lcz17TUFUQ0FQOiIifSx0aGlzLnR5cGU9Ik1lc2hNYXRjYXBNYXRlcmlhbCIsdGhpcy5jb2xvcj1uZXcgZ2UoMTY3NzcyMTUpLHRoaXMubWF0Y2FwPW51bGwsdGhpcy5tYXA9bnVsbCx0aGlzLmJ1bXBNYXA9bnVsbCx0aGlzLmJ1bXBTY2FsZT0xLHRoaXMubm9ybWFsTWFwPW51bGwsdGhpcy5ub3JtYWxNYXBUeXBlPUxyLHRoaXMubm9ybWFsU2NhbGU9bmV3IGVlKDEsMSksdGhpcy5kaXNwbGFjZW1lbnRNYXA9bnVsbCx0aGlzLmRpc3BsYWNlbWVudFNjYWxlPTEsdGhpcy5kaXNwbGFjZW1lbnRCaWFzPTAsdGhpcy5hbHBoYU1hcD1udWxsLHRoaXMuZmxhdFNoYWRpbmc9ITEsdGhpcy5zZXRWYWx1ZXMoZSl9Y29weShlKXtyZXR1cm4gc3VwZXIuY29weShlKSx0aGlzLmRlZmluZXM9e01BVENBUDoiIn0sdGhpcy5jb2xvci5jb3B5KGUuY29sb3IpLHRoaXMubWF0Y2FwPWUubWF0Y2FwLHRoaXMubWFwPWUubWFwLHRoaXMuYnVtcE1hcD1lLmJ1bXBNYXAsdGhpcy5idW1wU2NhbGU9ZS5idW1wU2NhbGUsdGhpcy5ub3JtYWxNYXA9ZS5ub3JtYWxNYXAsdGhpcy5ub3JtYWxNYXBUeXBlPWUubm9ybWFsTWFwVHlwZSx0aGlzLm5vcm1hbFNjYWxlLmNvcHkoZS5ub3JtYWxTY2FsZSksdGhpcy5kaXNwbGFjZW1lbnRNYXA9ZS5kaXNwbGFjZW1lbnRNYXAsdGhpcy5kaXNwbGFjZW1lbnRTY2FsZT1lLmRpc3BsYWNlbWVudFNjYWxlLHRoaXMuZGlzcGxhY2VtZW50Qmlhcz1lLmRpc3BsYWNlbWVudEJpYXMsdGhpcy5hbHBoYU1hcD1lLmFscGhhTWFwLHRoaXMuZmxhdFNoYWRpbmc9ZS5mbGF0U2hhZGluZyx0aGlzfX1LYy5wcm90b3R5cGUuaXNNZXNoTWF0Y2FwTWF0ZXJpYWw9ITA7Y2xhc3MgUWMgZXh0ZW5kcyAkcntjb25zdHJ1Y3RvcihlKXtzdXBlcigpO3RoaXMudHlwZT0iTGluZURhc2hlZE1hdGVyaWFsIix0aGlzLnNjYWxlPTEsdGhpcy5kYXNoU2l6ZT0zLHRoaXMuZ2FwU2l6ZT0xLHRoaXMuc2V0VmFsdWVzKGUpfWNvcHkoZSl7cmV0dXJuIHN1cGVyLmNvcHkoZSksdGhpcy5zY2FsZT1lLnNjYWxlLHRoaXMuZGFzaFNpemU9ZS5kYXNoU2l6ZSx0aGlzLmdhcFNpemU9ZS5nYXBTaXplLHRoaXN9fVFjLnByb3RvdHlwZS5pc0xpbmVEYXNoZWRNYXRlcmlhbD0hMDtjb25zdCBiTT17U2hhZG93TWF0ZXJpYWw6V2MsU3ByaXRlTWF0ZXJpYWw6eW8sUmF3U2hhZGVyTWF0ZXJpYWw6amMsU2hhZGVyTWF0ZXJpYWw6JHQsUG9pbnRzTWF0ZXJpYWw6VG8sTWVzaFBoeXNpY2FsTWF0ZXJpYWw6cWMsTWVzaFN0YW5kYXJkTWF0ZXJpYWw6Rm8sTWVzaFBob25nTWF0ZXJpYWw6WGMsTWVzaFRvb25NYXRlcmlhbDpKYyxNZXNoTm9ybWFsTWF0ZXJpYWw6WWMsTWVzaExhbWJlcnRNYXRlcmlhbDpaYyxNZXNoRGVwdGhNYXRlcmlhbDp2byxNZXNoRGlzdGFuY2VNYXRlcmlhbDp4byxNZXNoQmFzaWNNYXRlcmlhbDpDYSxNZXNoTWF0Y2FwTWF0ZXJpYWw6S2MsTGluZURhc2hlZE1hdGVyaWFsOlFjLExpbmVCYXNpY01hdGVyaWFsOiRyLE1hdGVyaWFsOmx0fTtsdC5mcm9tVHlwZT1mdW5jdGlvbihpKXtyZXR1cm4gbmV3IGJNW2ldfTtjb25zdCBldD17YXJyYXlTbGljZTpmdW5jdGlvbihpLGUsdCl7cmV0dXJuIGV0LmlzVHlwZWRBcnJheShpKT9uZXcgaS5jb25zdHJ1Y3RvcihpLnN1YmFycmF5KGUsdCE9PXZvaWQgMD90OmkubGVuZ3RoKSk6aS5zbGljZShlLHQpfSxjb252ZXJ0QXJyYXk6ZnVuY3Rpb24oaSxlLHQpe3JldHVybiFpfHwhdCYmaS5jb25zdHJ1Y3Rvcj09PWU/aTp0eXBlb2YgZS5CWVRFU19QRVJfRUxFTUVOVD09Im51bWJlciI/bmV3IGUoaSk6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoaSl9LGlzVHlwZWRBcnJheTpmdW5jdGlvbihpKXtyZXR1cm4gQXJyYXlCdWZmZXIuaXNWaWV3KGkpJiYhKGkgaW5zdGFuY2VvZiBEYXRhVmlldyl9LGdldEtleWZyYW1lT3JkZXI6ZnVuY3Rpb24oaSl7ZnVuY3Rpb24gZShzLGEpe3JldHVybiBpW3NdLWlbYV19Y29uc3QgdD1pLmxlbmd0aCxyPW5ldyBBcnJheSh0KTtmb3IobGV0IHM9MDtzIT09dDsrK3MpcltzXT1zO3JldHVybiByLnNvcnQoZSkscn0sc29ydGVkQXJyYXk6ZnVuY3Rpb24oaSxlLHQpe2NvbnN0IHI9aS5sZW5ndGgscz1uZXcgaS5jb25zdHJ1Y3RvcihyKTtmb3IobGV0IGE9MCxuPTA7biE9PXI7KythKXtjb25zdCBvPXRbYV0qZTtmb3IobGV0IGg9MDtoIT09ZTsrK2gpc1tuKytdPWlbbytoXX1yZXR1cm4gc30sZmxhdHRlbkpTT046ZnVuY3Rpb24oaSxlLHQscil7bGV0IHM9MSxhPWlbMF07Zm9yKDthIT09dm9pZCAwJiZhW3JdPT09dm9pZCAwOylhPWlbcysrXTtpZihhPT09dm9pZCAwKXJldHVybjtsZXQgbj1hW3JdO2lmKG4hPT12b2lkIDApaWYoQXJyYXkuaXNBcnJheShuKSlkbyBuPWFbcl0sbiE9PXZvaWQgMCYmKGUucHVzaChhLnRpbWUpLHQucHVzaC5hcHBseSh0LG4pKSxhPWlbcysrXTt3aGlsZShhIT09dm9pZCAwKTtlbHNlIGlmKG4udG9BcnJheSE9PXZvaWQgMClkbyBuPWFbcl0sbiE9PXZvaWQgMCYmKGUucHVzaChhLnRpbWUpLG4udG9BcnJheSh0LHQubGVuZ3RoKSksYT1pW3MrK107d2hpbGUoYSE9PXZvaWQgMCk7ZWxzZSBkbyBuPWFbcl0sbiE9PXZvaWQgMCYmKGUucHVzaChhLnRpbWUpLHQucHVzaChuKSksYT1pW3MrK107d2hpbGUoYSE9PXZvaWQgMCl9LHN1YmNsaXA6ZnVuY3Rpb24oaSxlLHQscixzPTMwKXtjb25zdCBhPWkuY2xvbmUoKTthLm5hbWU9ZTtjb25zdCBuPVtdO2ZvcihsZXQgaD0wO2g8YS50cmFja3MubGVuZ3RoOysraCl7Y29uc3QgbD1hLnRyYWNrc1toXSxjPWwuZ2V0VmFsdWVTaXplKCksdT1bXSxkPVtdO2ZvcihsZXQgcD0wO3A8bC50aW1lcy5sZW5ndGg7KytwKXtjb25zdCBnPWwudGltZXNbcF0qcztpZighKGc8dHx8Zz49cikpe3UucHVzaChsLnRpbWVzW3BdKTtmb3IobGV0IGY9MDtmPGM7KytmKWQucHVzaChsLnZhbHVlc1twKmMrZl0pfX11Lmxlbmd0aCE9PTAmJihsLnRpbWVzPWV0LmNvbnZlcnRBcnJheSh1LGwudGltZXMuY29uc3RydWN0b3IpLGwudmFsdWVzPWV0LmNvbnZlcnRBcnJheShkLGwudmFsdWVzLmNvbnN0cnVjdG9yKSxuLnB1c2gobCkpfWEudHJhY2tzPW47bGV0IG89MS8wO2ZvcihsZXQgaD0wO2g8YS50cmFja3MubGVuZ3RoOysraClvPmEudHJhY2tzW2hdLnRpbWVzWzBdJiYobz1hLnRyYWNrc1toXS50aW1lc1swXSk7Zm9yKGxldCBoPTA7aDxhLnRyYWNrcy5sZW5ndGg7KytoKWEudHJhY2tzW2hdLnNoaWZ0KC0xKm8pO3JldHVybiBhLnJlc2V0RHVyYXRpb24oKSxhfSxtYWtlQ2xpcEFkZGl0aXZlOmZ1bmN0aW9uKGksZT0wLHQ9aSxyPTMwKXtyPD0wJiYocj0zMCk7Y29uc3Qgcz10LnRyYWNrcy5sZW5ndGgsYT1lL3I7Zm9yKGxldCBuPTA7bjxzOysrbil7Y29uc3Qgbz10LnRyYWNrc1tuXSxoPW8uVmFsdWVUeXBlTmFtZTtpZihoPT09ImJvb2wifHxoPT09InN0cmluZyIpY29udGludWU7Y29uc3QgbD1pLnRyYWNrcy5maW5kKGZ1bmN0aW9uKHYpe3JldHVybiB2Lm5hbWU9PT1vLm5hbWUmJnYuVmFsdWVUeXBlTmFtZT09PWh9KTtpZihsPT09dm9pZCAwKWNvbnRpbnVlO2xldCBjPTA7Y29uc3QgdT1vLmdldFZhbHVlU2l6ZSgpO28uY3JlYXRlSW50ZXJwb2xhbnQuaXNJbnRlcnBvbGFudEZhY3RvcnlNZXRob2RHTFRGQ3ViaWNTcGxpbmUmJihjPXUvMyk7bGV0IGQ9MDtjb25zdCBwPWwuZ2V0VmFsdWVTaXplKCk7bC5jcmVhdGVJbnRlcnBvbGFudC5pc0ludGVycG9sYW50RmFjdG9yeU1ldGhvZEdMVEZDdWJpY1NwbGluZSYmKGQ9cC8zKTtjb25zdCBnPW8udGltZXMubGVuZ3RoLTE7bGV0IGY7aWYoYTw9by50aW1lc1swXSl7Y29uc3Qgdj1jLHk9dS1jO2Y9ZXQuYXJyYXlTbGljZShvLnZhbHVlcyx2LHkpfWVsc2UgaWYoYT49by50aW1lc1tnXSl7Y29uc3Qgdj1nKnUrYyx5PXYrdS1jO2Y9ZXQuYXJyYXlTbGljZShvLnZhbHVlcyx2LHkpfWVsc2V7Y29uc3Qgdj1vLmNyZWF0ZUludGVycG9sYW50KCkseT1jLFQ9dS1jO3YuZXZhbHVhdGUoYSksZj1ldC5hcnJheVNsaWNlKHYucmVzdWx0QnVmZmVyLHksVCl9aD09PSJxdWF0ZXJuaW9uIiYmbmV3IFR0KCkuZnJvbUFycmF5KGYpLm5vcm1hbGl6ZSgpLmNvbmp1Z2F0ZSgpLnRvQXJyYXkoZik7Y29uc3QgbT1sLnRpbWVzLmxlbmd0aDtmb3IobGV0IHY9MDt2PG07Kyt2KXtjb25zdCB5PXYqcCtkO2lmKGg9PT0icXVhdGVybmlvbiIpVHQubXVsdGlwbHlRdWF0ZXJuaW9uc0ZsYXQobC52YWx1ZXMseSxmLDAsbC52YWx1ZXMseSk7ZWxzZXtjb25zdCBUPXAtZCoyO2ZvcihsZXQgdz0wO3c8VDsrK3cpbC52YWx1ZXNbeSt3XS09Zlt3XX19fXJldHVybiBpLmJsZW5kTW9kZT1mbCxpfX07Y2xhc3MgVml7Y29uc3RydWN0b3IoZSx0LHIscyl7dGhpcy5wYXJhbWV0ZXJQb3NpdGlvbnM9ZSx0aGlzLl9jYWNoZWRJbmRleD0wLHRoaXMucmVzdWx0QnVmZmVyPXMhPT12b2lkIDA/czpuZXcgdC5jb25zdHJ1Y3RvcihyKSx0aGlzLnNhbXBsZVZhbHVlcz10LHRoaXMudmFsdWVTaXplPXIsdGhpcy5zZXR0aW5ncz1udWxsLHRoaXMuRGVmYXVsdFNldHRpbmdzXz17fX1ldmFsdWF0ZShlKXtjb25zdCB0PXRoaXMucGFyYW1ldGVyUG9zaXRpb25zO2xldCByPXRoaXMuX2NhY2hlZEluZGV4LHM9dFtyXSxhPXRbci0xXTtlOnt0OntsZXQgbjtpOntyOmlmKCEoZTxzKSl7Zm9yKGxldCBvPXIrMjs7KXtpZihzPT09dm9pZCAwKXtpZihlPGEpYnJlYWsgcjtyZXR1cm4gcj10Lmxlbmd0aCx0aGlzLl9jYWNoZWRJbmRleD1yLHRoaXMuYWZ0ZXJFbmRfKHItMSxlLGEpfWlmKHI9PT1vKWJyZWFrO2lmKGE9cyxzPXRbKytyXSxlPHMpYnJlYWsgdH1uPXQubGVuZ3RoO2JyZWFrIGl9aWYoIShlPj1hKSl7Y29uc3Qgbz10WzFdO2U8byYmKHI9MixhPW8pO2ZvcihsZXQgaD1yLTI7Oyl7aWYoYT09PXZvaWQgMClyZXR1cm4gdGhpcy5fY2FjaGVkSW5kZXg9MCx0aGlzLmJlZm9yZVN0YXJ0XygwLGUscyk7aWYocj09PWgpYnJlYWs7aWYocz1hLGE9dFstLXItMV0sZT49YSlicmVhayB0fW49cixyPTA7YnJlYWsgaX1icmVhayBlfWZvcig7cjxuOyl7Y29uc3Qgbz1yK24+Pj4xO2U8dFtvXT9uPW86cj1vKzF9aWYocz10W3JdLGE9dFtyLTFdLGE9PT12b2lkIDApcmV0dXJuIHRoaXMuX2NhY2hlZEluZGV4PTAsdGhpcy5iZWZvcmVTdGFydF8oMCxlLHMpO2lmKHM9PT12b2lkIDApcmV0dXJuIHI9dC5sZW5ndGgsdGhpcy5fY2FjaGVkSW5kZXg9cix0aGlzLmFmdGVyRW5kXyhyLTEsYSxlKX10aGlzLl9jYWNoZWRJbmRleD1yLHRoaXMuaW50ZXJ2YWxDaGFuZ2VkXyhyLGEscyl9cmV0dXJuIHRoaXMuaW50ZXJwb2xhdGVfKHIsYSxlLHMpfWdldFNldHRpbmdzXygpe3JldHVybiB0aGlzLnNldHRpbmdzfHx0aGlzLkRlZmF1bHRTZXR0aW5nc199Y29weVNhbXBsZVZhbHVlXyhlKXtjb25zdCB0PXRoaXMucmVzdWx0QnVmZmVyLHI9dGhpcy5zYW1wbGVWYWx1ZXMscz10aGlzLnZhbHVlU2l6ZSxhPWUqcztmb3IobGV0IG49MDtuIT09czsrK24pdFtuXT1yW2Erbl07cmV0dXJuIHR9aW50ZXJwb2xhdGVfKCl7dGhyb3cgbmV3IEVycm9yKCJjYWxsIHRvIGFic3RyYWN0IG1ldGhvZCIpfWludGVydmFsQ2hhbmdlZF8oKXt9fVZpLnByb3RvdHlwZS5iZWZvcmVTdGFydF89VmkucHJvdG90eXBlLmNvcHlTYW1wbGVWYWx1ZV8sVmkucHJvdG90eXBlLmFmdGVyRW5kXz1WaS5wcm90b3R5cGUuY29weVNhbXBsZVZhbHVlXztjbGFzcyB3TSBleHRlbmRzIFZpe2NvbnN0cnVjdG9yKGUsdCxyLHMpe3N1cGVyKGUsdCxyLHMpO3RoaXMuX3dlaWdodFByZXY9LTAsdGhpcy5fb2Zmc2V0UHJldj0tMCx0aGlzLl93ZWlnaHROZXh0PS0wLHRoaXMuX29mZnNldE5leHQ9LTAsdGhpcy5EZWZhdWx0U2V0dGluZ3NfPXtlbmRpbmdTdGFydDpBcixlbmRpbmdFbmQ6QXJ9fWludGVydmFsQ2hhbmdlZF8oZSx0LHIpe2NvbnN0IHM9dGhpcy5wYXJhbWV0ZXJQb3NpdGlvbnM7bGV0IGE9ZS0yLG49ZSsxLG89c1thXSxoPXNbbl07aWYobz09PXZvaWQgMClzd2l0Y2godGhpcy5nZXRTZXR0aW5nc18oKS5lbmRpbmdTdGFydCl7Y2FzZSBDcjphPWUsbz0yKnQtcjticmVhaztjYXNlIG1hOmE9cy5sZW5ndGgtMixvPXQrc1thXS1zW2ErMV07YnJlYWs7ZGVmYXVsdDphPWUsbz1yfWlmKGg9PT12b2lkIDApc3dpdGNoKHRoaXMuZ2V0U2V0dGluZ3NfKCkuZW5kaW5nRW5kKXtjYXNlIENyOm49ZSxoPTIqci10O2JyZWFrO2Nhc2UgbWE6bj0xLGg9citzWzFdLXNbMF07YnJlYWs7ZGVmYXVsdDpuPWUtMSxoPXR9Y29uc3QgbD0oci10KSouNSxjPXRoaXMudmFsdWVTaXplO3RoaXMuX3dlaWdodFByZXY9bC8odC1vKSx0aGlzLl93ZWlnaHROZXh0PWwvKGgtciksdGhpcy5fb2Zmc2V0UHJldj1hKmMsdGhpcy5fb2Zmc2V0TmV4dD1uKmN9aW50ZXJwb2xhdGVfKGUsdCxyLHMpe2NvbnN0IGE9dGhpcy5yZXN1bHRCdWZmZXIsbj10aGlzLnNhbXBsZVZhbHVlcyxvPXRoaXMudmFsdWVTaXplLGg9ZSpvLGw9aC1vLGM9dGhpcy5fb2Zmc2V0UHJldix1PXRoaXMuX29mZnNldE5leHQsZD10aGlzLl93ZWlnaHRQcmV2LHA9dGhpcy5fd2VpZ2h0TmV4dCxnPShyLXQpLyhzLXQpLGY9ZypnLG09ZipnLHY9LWQqbSsyKmQqZi1kKmcseT0oMStkKSptKygtMS41LTIqZCkqZisoLS41K2QpKmcrMSxUPSgtMS1wKSptKygxLjUrcCkqZisuNSpnLHc9cCptLXAqZjtmb3IobGV0IGI9MDtiIT09bzsrK2IpYVtiXT12Km5bYytiXSt5Km5bbCtiXStUKm5baCtiXSt3Km5bdStiXTtyZXR1cm4gYX19Y2xhc3MgJGMgZXh0ZW5kcyBWaXtjb25zdHJ1Y3RvcihlLHQscixzKXtzdXBlcihlLHQscixzKX1pbnRlcnBvbGF0ZV8oZSx0LHIscyl7Y29uc3QgYT10aGlzLnJlc3VsdEJ1ZmZlcixuPXRoaXMuc2FtcGxlVmFsdWVzLG89dGhpcy52YWx1ZVNpemUsaD1lKm8sbD1oLW8sYz0oci10KS8ocy10KSx1PTEtYztmb3IobGV0IGQ9MDtkIT09bzsrK2QpYVtkXT1uW2wrZF0qdStuW2grZF0qYztyZXR1cm4gYX19Y2xhc3MgU00gZXh0ZW5kcyBWaXtjb25zdHJ1Y3RvcihlLHQscixzKXtzdXBlcihlLHQscixzKX1pbnRlcnBvbGF0ZV8oZSl7cmV0dXJuIHRoaXMuY29weVNhbXBsZVZhbHVlXyhlLTEpfX1jbGFzcyBuaXtjb25zdHJ1Y3RvcihlLHQscixzKXtpZihlPT09dm9pZCAwKXRocm93IG5ldyBFcnJvcigiVEhSRUUuS2V5ZnJhbWVUcmFjazogdHJhY2sgbmFtZSBpcyB1bmRlZmluZWQiKTtpZih0PT09dm9pZCAwfHx0Lmxlbmd0aD09PTApdGhyb3cgbmV3IEVycm9yKCJUSFJFRS5LZXlmcmFtZVRyYWNrOiBubyBrZXlmcmFtZXMgaW4gdHJhY2sgbmFtZWQgIitlKTt0aGlzLm5hbWU9ZSx0aGlzLnRpbWVzPWV0LmNvbnZlcnRBcnJheSh0LHRoaXMuVGltZUJ1ZmZlclR5cGUpLHRoaXMudmFsdWVzPWV0LmNvbnZlcnRBcnJheShyLHRoaXMuVmFsdWVCdWZmZXJUeXBlKSx0aGlzLnNldEludGVycG9sYXRpb24oc3x8dGhpcy5EZWZhdWx0SW50ZXJwb2xhdGlvbil9c3RhdGljIHRvSlNPTihlKXtjb25zdCB0PWUuY29uc3RydWN0b3I7bGV0IHI7aWYodC50b0pTT04hPT10aGlzLnRvSlNPTilyPXQudG9KU09OKGUpO2Vsc2V7cj17bmFtZTplLm5hbWUsdGltZXM6ZXQuY29udmVydEFycmF5KGUudGltZXMsQXJyYXkpLHZhbHVlczpldC5jb252ZXJ0QXJyYXkoZS52YWx1ZXMsQXJyYXkpfTtjb25zdCBzPWUuZ2V0SW50ZXJwb2xhdGlvbigpO3MhPT1lLkRlZmF1bHRJbnRlcnBvbGF0aW9uJiYoci5pbnRlcnBvbGF0aW9uPXMpfXJldHVybiByLnR5cGU9ZS5WYWx1ZVR5cGVOYW1lLHJ9SW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kRGlzY3JldGUoZSl7cmV0dXJuIG5ldyBTTSh0aGlzLnRpbWVzLHRoaXMudmFsdWVzLHRoaXMuZ2V0VmFsdWVTaXplKCksZSl9SW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kTGluZWFyKGUpe3JldHVybiBuZXcgJGModGhpcy50aW1lcyx0aGlzLnZhbHVlcyx0aGlzLmdldFZhbHVlU2l6ZSgpLGUpfUludGVycG9sYW50RmFjdG9yeU1ldGhvZFNtb290aChlKXtyZXR1cm4gbmV3IHdNKHRoaXMudGltZXMsdGhpcy52YWx1ZXMsdGhpcy5nZXRWYWx1ZVNpemUoKSxlKX1zZXRJbnRlcnBvbGF0aW9uKGUpe2xldCB0O3N3aXRjaChlKXtjYXNlIHBhOnQ9dGhpcy5JbnRlcnBvbGFudEZhY3RvcnlNZXRob2REaXNjcmV0ZTticmVhaztjYXNlIGZhOnQ9dGhpcy5JbnRlcnBvbGFudEZhY3RvcnlNZXRob2RMaW5lYXI7YnJlYWs7Y2FzZSBSbjp0PXRoaXMuSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kU21vb3RoO2JyZWFrfWlmKHQ9PT12b2lkIDApe2NvbnN0IHI9InVuc3VwcG9ydGVkIGludGVycG9sYXRpb24gZm9yICIrdGhpcy5WYWx1ZVR5cGVOYW1lKyIga2V5ZnJhbWUgdHJhY2sgbmFtZWQgIit0aGlzLm5hbWU7aWYodGhpcy5jcmVhdGVJbnRlcnBvbGFudD09PXZvaWQgMClpZihlIT09dGhpcy5EZWZhdWx0SW50ZXJwb2xhdGlvbil0aGlzLnNldEludGVycG9sYXRpb24odGhpcy5EZWZhdWx0SW50ZXJwb2xhdGlvbik7ZWxzZSB0aHJvdyBuZXcgRXJyb3Iocik7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuS2V5ZnJhbWVUcmFjazoiLHIpLHRoaXN9cmV0dXJuIHRoaXMuY3JlYXRlSW50ZXJwb2xhbnQ9dCx0aGlzfWdldEludGVycG9sYXRpb24oKXtzd2l0Y2godGhpcy5jcmVhdGVJbnRlcnBvbGFudCl7Y2FzZSB0aGlzLkludGVycG9sYW50RmFjdG9yeU1ldGhvZERpc2NyZXRlOnJldHVybiBwYTtjYXNlIHRoaXMuSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kTGluZWFyOnJldHVybiBmYTtjYXNlIHRoaXMuSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kU21vb3RoOnJldHVybiBSbn19Z2V0VmFsdWVTaXplKCl7cmV0dXJuIHRoaXMudmFsdWVzLmxlbmd0aC90aGlzLnRpbWVzLmxlbmd0aH1zaGlmdChlKXtpZihlIT09MCl7Y29uc3QgdD10aGlzLnRpbWVzO2ZvcihsZXQgcj0wLHM9dC5sZW5ndGg7ciE9PXM7KytyKXRbcl0rPWV9cmV0dXJuIHRoaXN9c2NhbGUoZSl7aWYoZSE9PTEpe2NvbnN0IHQ9dGhpcy50aW1lcztmb3IobGV0IHI9MCxzPXQubGVuZ3RoO3IhPT1zOysrcil0W3JdKj1lfXJldHVybiB0aGlzfXRyaW0oZSx0KXtjb25zdCByPXRoaXMudGltZXMscz1yLmxlbmd0aDtsZXQgYT0wLG49cy0xO2Zvcig7YSE9PXMmJnJbYV08ZTspKythO2Zvcig7biE9PS0xJiZyW25dPnQ7KS0tbjtpZigrK24sYSE9PTB8fG4hPT1zKXthPj1uJiYobj1NYXRoLm1heChuLDEpLGE9bi0xKTtjb25zdCBvPXRoaXMuZ2V0VmFsdWVTaXplKCk7dGhpcy50aW1lcz1ldC5hcnJheVNsaWNlKHIsYSxuKSx0aGlzLnZhbHVlcz1ldC5hcnJheVNsaWNlKHRoaXMudmFsdWVzLGEqbyxuKm8pfXJldHVybiB0aGlzfXZhbGlkYXRlKCl7bGV0IGU9ITA7Y29uc3QgdD10aGlzLmdldFZhbHVlU2l6ZSgpO3QtTWF0aC5mbG9vcih0KSE9PTAmJihjb25zb2xlLmVycm9yKCJUSFJFRS5LZXlmcmFtZVRyYWNrOiBJbnZhbGlkIHZhbHVlIHNpemUgaW4gdHJhY2suIix0aGlzKSxlPSExKTtjb25zdCByPXRoaXMudGltZXMscz10aGlzLnZhbHVlcyxhPXIubGVuZ3RoO2E9PT0wJiYoY29uc29sZS5lcnJvcigiVEhSRUUuS2V5ZnJhbWVUcmFjazogVHJhY2sgaXMgZW1wdHkuIix0aGlzKSxlPSExKTtsZXQgbj1udWxsO2ZvcihsZXQgbz0wO28hPT1hO28rKyl7Y29uc3QgaD1yW29dO2lmKHR5cGVvZiBoPT0ibnVtYmVyIiYmaXNOYU4oaCkpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLktleWZyYW1lVHJhY2s6IFRpbWUgaXMgbm90IGEgdmFsaWQgbnVtYmVyLiIsdGhpcyxvLGgpLGU9ITE7YnJlYWt9aWYobiE9PW51bGwmJm4+aCl7Y29uc29sZS5lcnJvcigiVEhSRUUuS2V5ZnJhbWVUcmFjazogT3V0IG9mIG9yZGVyIGtleXMuIix0aGlzLG8saCxuKSxlPSExO2JyZWFrfW49aH1pZihzIT09dm9pZCAwJiZldC5pc1R5cGVkQXJyYXkocykpZm9yKGxldCBvPTAsaD1zLmxlbmd0aDtvIT09aDsrK28pe2NvbnN0IGw9c1tvXTtpZihpc05hTihsKSl7Y29uc29sZS5lcnJvcigiVEhSRUUuS2V5ZnJhbWVUcmFjazogVmFsdWUgaXMgbm90IGEgdmFsaWQgbnVtYmVyLiIsdGhpcyxvLGwpLGU9ITE7YnJlYWt9fXJldHVybiBlfW9wdGltaXplKCl7Y29uc3QgZT1ldC5hcnJheVNsaWNlKHRoaXMudGltZXMpLHQ9ZXQuYXJyYXlTbGljZSh0aGlzLnZhbHVlcykscj10aGlzLmdldFZhbHVlU2l6ZSgpLHM9dGhpcy5nZXRJbnRlcnBvbGF0aW9uKCk9PT1SbixhPWUubGVuZ3RoLTE7bGV0IG49MTtmb3IobGV0IG89MTtvPGE7KytvKXtsZXQgaD0hMTtjb25zdCBsPWVbb10sYz1lW28rMV07aWYobCE9PWMmJihvIT09MXx8bCE9PWVbMF0pKWlmKHMpaD0hMDtlbHNle2NvbnN0IHU9bypyLGQ9dS1yLHA9dStyO2ZvcihsZXQgZz0wO2chPT1yOysrZyl7Y29uc3QgZj10W3UrZ107aWYoZiE9PXRbZCtnXXx8ZiE9PXRbcCtnXSl7aD0hMDticmVha319fWlmKGgpe2lmKG8hPT1uKXtlW25dPWVbb107Y29uc3QgdT1vKnIsZD1uKnI7Zm9yKGxldCBwPTA7cCE9PXI7KytwKXRbZCtwXT10W3UrcF19KytufX1pZihhPjApe2Vbbl09ZVthXTtmb3IobGV0IG89YSpyLGg9bipyLGw9MDtsIT09cjsrK2wpdFtoK2xdPXRbbytsXTsrK259cmV0dXJuIG4hPT1lLmxlbmd0aD8odGhpcy50aW1lcz1ldC5hcnJheVNsaWNlKGUsMCxuKSx0aGlzLnZhbHVlcz1ldC5hcnJheVNsaWNlKHQsMCxuKnIpKToodGhpcy50aW1lcz1lLHRoaXMudmFsdWVzPXQpLHRoaXN9Y2xvbmUoKXtjb25zdCBlPWV0LmFycmF5U2xpY2UodGhpcy50aW1lcywwKSx0PWV0LmFycmF5U2xpY2UodGhpcy52YWx1ZXMsMCkscj10aGlzLmNvbnN0cnVjdG9yLHM9bmV3IHIodGhpcy5uYW1lLGUsdCk7cmV0dXJuIHMuY3JlYXRlSW50ZXJwb2xhbnQ9dGhpcy5jcmVhdGVJbnRlcnBvbGFudCxzfX1uaS5wcm90b3R5cGUuVGltZUJ1ZmZlclR5cGU9RmxvYXQzMkFycmF5LG5pLnByb3RvdHlwZS5WYWx1ZUJ1ZmZlclR5cGU9RmxvYXQzMkFycmF5LG5pLnByb3RvdHlwZS5EZWZhdWx0SW50ZXJwb2xhdGlvbj1mYTtjbGFzcyBpcyBleHRlbmRzIG5pe31pcy5wcm90b3R5cGUuVmFsdWVUeXBlTmFtZT0iYm9vbCIsaXMucHJvdG90eXBlLlZhbHVlQnVmZmVyVHlwZT1BcnJheSxpcy5wcm90b3R5cGUuRGVmYXVsdEludGVycG9sYXRpb249cGEsaXMucHJvdG90eXBlLkludGVycG9sYW50RmFjdG9yeU1ldGhvZExpbmVhcj12b2lkIDAsaXMucHJvdG90eXBlLkludGVycG9sYW50RmFjdG9yeU1ldGhvZFNtb290aD12b2lkIDA7Y2xhc3MgZXUgZXh0ZW5kcyBuaXt9ZXUucHJvdG90eXBlLlZhbHVlVHlwZU5hbWU9ImNvbG9yIjtjbGFzcyBybiBleHRlbmRzIG5pe31ybi5wcm90b3R5cGUuVmFsdWVUeXBlTmFtZT0ibnVtYmVyIjtjbGFzcyBFTSBleHRlbmRzIFZpe2NvbnN0cnVjdG9yKGUsdCxyLHMpe3N1cGVyKGUsdCxyLHMpfWludGVycG9sYXRlXyhlLHQscixzKXtjb25zdCBhPXRoaXMucmVzdWx0QnVmZmVyLG49dGhpcy5zYW1wbGVWYWx1ZXMsbz10aGlzLnZhbHVlU2l6ZSxoPShyLXQpLyhzLXQpO2xldCBsPWUqbztmb3IobGV0IGM9bCtvO2whPT1jO2wrPTQpVHQuc2xlcnBGbGF0KGEsMCxuLGwtbyxuLGwsaCk7cmV0dXJuIGF9fWNsYXNzIGpzIGV4dGVuZHMgbml7SW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kTGluZWFyKGUpe3JldHVybiBuZXcgRU0odGhpcy50aW1lcyx0aGlzLnZhbHVlcyx0aGlzLmdldFZhbHVlU2l6ZSgpLGUpfX1qcy5wcm90b3R5cGUuVmFsdWVUeXBlTmFtZT0icXVhdGVybmlvbiIsanMucHJvdG90eXBlLkRlZmF1bHRJbnRlcnBvbGF0aW9uPWZhLGpzLnByb3RvdHlwZS5JbnRlcnBvbGFudEZhY3RvcnlNZXRob2RTbW9vdGg9dm9pZCAwO2NsYXNzIHJzIGV4dGVuZHMgbml7fXJzLnByb3RvdHlwZS5WYWx1ZVR5cGVOYW1lPSJzdHJpbmciLHJzLnByb3RvdHlwZS5WYWx1ZUJ1ZmZlclR5cGU9QXJyYXkscnMucHJvdG90eXBlLkRlZmF1bHRJbnRlcnBvbGF0aW9uPXBhLHJzLnByb3RvdHlwZS5JbnRlcnBvbGFudEZhY3RvcnlNZXRob2RMaW5lYXI9dm9pZCAwLHJzLnByb3RvdHlwZS5JbnRlcnBvbGFudEZhY3RvcnlNZXRob2RTbW9vdGg9dm9pZCAwO2NsYXNzIHNuIGV4dGVuZHMgbml7fXNuLnByb3RvdHlwZS5WYWx1ZVR5cGVOYW1lPSJ2ZWN0b3IiO2NsYXNzIHR1e2NvbnN0cnVjdG9yKGUsdD0tMSxyLHM9UG4pe3RoaXMubmFtZT1lLHRoaXMudHJhY2tzPXIsdGhpcy5kdXJhdGlvbj10LHRoaXMuYmxlbmRNb2RlPXMsdGhpcy51dWlkPXNpKCksdGhpcy5kdXJhdGlvbjwwJiZ0aGlzLnJlc2V0RHVyYXRpb24oKX1zdGF0aWMgcGFyc2UoZSl7Y29uc3QgdD1bXSxyPWUudHJhY2tzLHM9MS8oZS5mcHN8fDEpO2ZvcihsZXQgbj0wLG89ci5sZW5ndGg7biE9PW87KytuKXQucHVzaChBTShyW25dKS5zY2FsZShzKSk7Y29uc3QgYT1uZXcgdGhpcyhlLm5hbWUsZS5kdXJhdGlvbix0LGUuYmxlbmRNb2RlKTtyZXR1cm4gYS51dWlkPWUudXVpZCxhfXN0YXRpYyB0b0pTT04oZSl7Y29uc3QgdD1bXSxyPWUudHJhY2tzLHM9e25hbWU6ZS5uYW1lLGR1cmF0aW9uOmUuZHVyYXRpb24sdHJhY2tzOnQsdXVpZDplLnV1aWQsYmxlbmRNb2RlOmUuYmxlbmRNb2RlfTtmb3IobGV0IGE9MCxuPXIubGVuZ3RoO2EhPT1uOysrYSl0LnB1c2gobmkudG9KU09OKHJbYV0pKTtyZXR1cm4gc31zdGF0aWMgQ3JlYXRlRnJvbU1vcnBoVGFyZ2V0U2VxdWVuY2UoZSx0LHIscyl7Y29uc3QgYT10Lmxlbmd0aCxuPVtdO2ZvcihsZXQgbz0wO288YTtvKyspe2xldCBoPVtdLGw9W107aC5wdXNoKChvK2EtMSklYSxvLChvKzEpJWEpLGwucHVzaCgwLDEsMCk7Y29uc3QgYz1ldC5nZXRLZXlmcmFtZU9yZGVyKGgpO2g9ZXQuc29ydGVkQXJyYXkoaCwxLGMpLGw9ZXQuc29ydGVkQXJyYXkobCwxLGMpLCFzJiZoWzBdPT09MCYmKGgucHVzaChhKSxsLnB1c2gobFswXSkpLG4ucHVzaChuZXcgcm4oIi5tb3JwaFRhcmdldEluZmx1ZW5jZXNbIit0W29dLm5hbWUrIl0iLGgsbCkuc2NhbGUoMS9yKSl9cmV0dXJuIG5ldyB0aGlzKGUsLTEsbil9c3RhdGljIGZpbmRCeU5hbWUoZSx0KXtsZXQgcj1lO2lmKCFBcnJheS5pc0FycmF5KGUpKXtjb25zdCBzPWU7cj1zLmdlb21ldHJ5JiZzLmdlb21ldHJ5LmFuaW1hdGlvbnN8fHMuYW5pbWF0aW9uc31mb3IobGV0IHM9MDtzPHIubGVuZ3RoO3MrKylpZihyW3NdLm5hbWU9PT10KXJldHVybiByW3NdO3JldHVybiBudWxsfXN0YXRpYyBDcmVhdGVDbGlwc0Zyb21Nb3JwaFRhcmdldFNlcXVlbmNlcyhlLHQscil7Y29uc3Qgcz17fSxhPS9eKFtcdy1dKj8pKFtcZF0rKSQvO2ZvcihsZXQgbz0wLGg9ZS5sZW5ndGg7bzxoO28rKyl7Y29uc3QgbD1lW29dLGM9bC5uYW1lLm1hdGNoKGEpO2lmKGMmJmMubGVuZ3RoPjEpe2NvbnN0IHU9Y1sxXTtsZXQgZD1zW3VdO2R8fChzW3VdPWQ9W10pLGQucHVzaChsKX19Y29uc3Qgbj1bXTtmb3IoY29uc3QgbyBpbiBzKW4ucHVzaCh0aGlzLkNyZWF0ZUZyb21Nb3JwaFRhcmdldFNlcXVlbmNlKG8sc1tvXSx0LHIpKTtyZXR1cm4gbn1zdGF0aWMgcGFyc2VBbmltYXRpb24oZSx0KXtpZighZSlyZXR1cm4gY29uc29sZS5lcnJvcigiVEhSRUUuQW5pbWF0aW9uQ2xpcDogTm8gYW5pbWF0aW9uIGluIEpTT05Mb2FkZXIgZGF0YS4iKSxudWxsO2NvbnN0IHI9ZnVuY3Rpb24oYyx1LGQscCxnKXtpZihkLmxlbmd0aCE9PTApe2NvbnN0IGY9W10sbT1bXTtldC5mbGF0dGVuSlNPTihkLGYsbSxwKSxmLmxlbmd0aCE9PTAmJmcucHVzaChuZXcgYyh1LGYsbSkpfX0scz1bXSxhPWUubmFtZXx8ImRlZmF1bHQiLG49ZS5mcHN8fDMwLG89ZS5ibGVuZE1vZGU7bGV0IGg9ZS5sZW5ndGh8fC0xO2NvbnN0IGw9ZS5oaWVyYXJjaHl8fFtdO2ZvcihsZXQgYz0wO2M8bC5sZW5ndGg7YysrKXtjb25zdCB1PWxbY10ua2V5cztpZighKCF1fHx1Lmxlbmd0aD09PTApKWlmKHVbMF0ubW9ycGhUYXJnZXRzKXtjb25zdCBkPXt9O2xldCBwO2ZvcihwPTA7cDx1Lmxlbmd0aDtwKyspaWYodVtwXS5tb3JwaFRhcmdldHMpZm9yKGxldCBnPTA7Zzx1W3BdLm1vcnBoVGFyZ2V0cy5sZW5ndGg7ZysrKWRbdVtwXS5tb3JwaFRhcmdldHNbZ11dPS0xO2Zvcihjb25zdCBnIGluIGQpe2NvbnN0IGY9W10sbT1bXTtmb3IobGV0IHY9MDt2IT09dVtwXS5tb3JwaFRhcmdldHMubGVuZ3RoOysrdil7Y29uc3QgeT11W3BdO2YucHVzaCh5LnRpbWUpLG0ucHVzaCh5Lm1vcnBoVGFyZ2V0PT09Zz8xOjApfXMucHVzaChuZXcgcm4oIi5tb3JwaFRhcmdldEluZmx1ZW5jZVsiK2crIl0iLGYsbSkpfWg9ZC5sZW5ndGgqbn1lbHNle2NvbnN0IGQ9Ii5ib25lc1siK3RbY10ubmFtZSsiXSI7cihzbixkKyIucG9zaXRpb24iLHUsInBvcyIscykscihqcyxkKyIucXVhdGVybmlvbiIsdSwicm90IixzKSxyKHNuLGQrIi5zY2FsZSIsdSwic2NsIixzKX19cmV0dXJuIHMubGVuZ3RoPT09MD9udWxsOm5ldyB0aGlzKGEsaCxzLG8pfXJlc2V0RHVyYXRpb24oKXtjb25zdCBlPXRoaXMudHJhY2tzO2xldCB0PTA7Zm9yKGxldCByPTAscz1lLmxlbmd0aDtyIT09czsrK3Ipe2NvbnN0IGE9dGhpcy50cmFja3Nbcl07dD1NYXRoLm1heCh0LGEudGltZXNbYS50aW1lcy5sZW5ndGgtMV0pfXJldHVybiB0aGlzLmR1cmF0aW9uPXQsdGhpc310cmltKCl7Zm9yKGxldCBlPTA7ZTx0aGlzLnRyYWNrcy5sZW5ndGg7ZSsrKXRoaXMudHJhY2tzW2VdLnRyaW0oMCx0aGlzLmR1cmF0aW9uKTtyZXR1cm4gdGhpc312YWxpZGF0ZSgpe2xldCBlPSEwO2ZvcihsZXQgdD0wO3Q8dGhpcy50cmFja3MubGVuZ3RoO3QrKyllPWUmJnRoaXMudHJhY2tzW3RdLnZhbGlkYXRlKCk7cmV0dXJuIGV9b3B0aW1pemUoKXtmb3IobGV0IGU9MDtlPHRoaXMudHJhY2tzLmxlbmd0aDtlKyspdGhpcy50cmFja3NbZV0ub3B0aW1pemUoKTtyZXR1cm4gdGhpc31jbG9uZSgpe2NvbnN0IGU9W107Zm9yKGxldCB0PTA7dDx0aGlzLnRyYWNrcy5sZW5ndGg7dCsrKWUucHVzaCh0aGlzLnRyYWNrc1t0XS5jbG9uZSgpKTtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5uYW1lLHRoaXMuZHVyYXRpb24sZSx0aGlzLmJsZW5kTW9kZSl9dG9KU09OKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9KU09OKHRoaXMpfX1mdW5jdGlvbiBUTShpKXtzd2l0Y2goaS50b0xvd2VyQ2FzZSgpKXtjYXNlInNjYWxhciI6Y2FzZSJkb3VibGUiOmNhc2UiZmxvYXQiOmNhc2UibnVtYmVyIjpjYXNlImludGVnZXIiOnJldHVybiBybjtjYXNlInZlY3RvciI6Y2FzZSJ2ZWN0b3IyIjpjYXNlInZlY3RvcjMiOmNhc2UidmVjdG9yNCI6cmV0dXJuIHNuO2Nhc2UiY29sb3IiOnJldHVybiBldTtjYXNlInF1YXRlcm5pb24iOnJldHVybiBqcztjYXNlImJvb2wiOmNhc2UiYm9vbGVhbiI6cmV0dXJuIGlzO2Nhc2Uic3RyaW5nIjpyZXR1cm4gcnN9dGhyb3cgbmV3IEVycm9yKCJUSFJFRS5LZXlmcmFtZVRyYWNrOiBVbnN1cHBvcnRlZCB0eXBlTmFtZTogIitpKX1mdW5jdGlvbiBBTShpKXtpZihpLnR5cGU9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKCJUSFJFRS5LZXlmcmFtZVRyYWNrOiB0cmFjayB0eXBlIHVuZGVmaW5lZCwgY2FuIG5vdCBwYXJzZSIpO2NvbnN0IGU9VE0oaS50eXBlKTtpZihpLnRpbWVzPT09dm9pZCAwKXtjb25zdCB0PVtdLHI9W107ZXQuZmxhdHRlbkpTT04oaS5rZXlzLHQsciwidmFsdWUiKSxpLnRpbWVzPXQsaS52YWx1ZXM9cn1yZXR1cm4gZS5wYXJzZSE9PXZvaWQgMD9lLnBhcnNlKGkpOm5ldyBlKGkubmFtZSxpLnRpbWVzLGkudmFsdWVzLGkuaW50ZXJwb2xhdGlvbil9Y29uc3Qgc3M9e2VuYWJsZWQ6ITEsZmlsZXM6e30sYWRkOmZ1bmN0aW9uKGksZSl7dGhpcy5lbmFibGVkIT09ITEmJih0aGlzLmZpbGVzW2ldPWUpfSxnZXQ6ZnVuY3Rpb24oaSl7aWYodGhpcy5lbmFibGVkIT09ITEpcmV0dXJuIHRoaXMuZmlsZXNbaV19LHJlbW92ZTpmdW5jdGlvbihpKXtkZWxldGUgdGhpcy5maWxlc1tpXX0sY2xlYXI6ZnVuY3Rpb24oKXt0aGlzLmZpbGVzPXt9fX07Y2xhc3MgQ017Y29uc3RydWN0b3IoZSx0LHIpe2NvbnN0IHM9dGhpcztsZXQgYT0hMSxuPTAsbz0wLGg7Y29uc3QgbD1bXTt0aGlzLm9uU3RhcnQ9dm9pZCAwLHRoaXMub25Mb2FkPWUsdGhpcy5vblByb2dyZXNzPXQsdGhpcy5vbkVycm9yPXIsdGhpcy5pdGVtU3RhcnQ9ZnVuY3Rpb24oYyl7bysrLGE9PT0hMSYmcy5vblN0YXJ0IT09dm9pZCAwJiZzLm9uU3RhcnQoYyxuLG8pLGE9ITB9LHRoaXMuaXRlbUVuZD1mdW5jdGlvbihjKXtuKysscy5vblByb2dyZXNzIT09dm9pZCAwJiZzLm9uUHJvZ3Jlc3MoYyxuLG8pLG49PT1vJiYoYT0hMSxzLm9uTG9hZCE9PXZvaWQgMCYmcy5vbkxvYWQoKSl9LHRoaXMuaXRlbUVycm9yPWZ1bmN0aW9uKGMpe3Mub25FcnJvciE9PXZvaWQgMCYmcy5vbkVycm9yKGMpfSx0aGlzLnJlc29sdmVVUkw9ZnVuY3Rpb24oYyl7cmV0dXJuIGg/aChjKTpjfSx0aGlzLnNldFVSTE1vZGlmaWVyPWZ1bmN0aW9uKGMpe3JldHVybiBoPWMsdGhpc30sdGhpcy5hZGRIYW5kbGVyPWZ1bmN0aW9uKGMsdSl7cmV0dXJuIGwucHVzaChjLHUpLHRoaXN9LHRoaXMucmVtb3ZlSGFuZGxlcj1mdW5jdGlvbihjKXtjb25zdCB1PWwuaW5kZXhPZihjKTtyZXR1cm4gdSE9PS0xJiZsLnNwbGljZSh1LDIpLHRoaXN9LHRoaXMuZ2V0SGFuZGxlcj1mdW5jdGlvbihjKXtmb3IobGV0IHU9MCxkPWwubGVuZ3RoO3U8ZDt1Kz0yKXtjb25zdCBwPWxbdV0sZz1sW3UrMV07aWYocC5nbG9iYWwmJihwLmxhc3RJbmRleD0wKSxwLnRlc3QoYykpcmV0dXJuIGd9cmV0dXJuIG51bGx9fX1jb25zdCBMTT1uZXcgQ007Y2xhc3MgV2l7Y29uc3RydWN0b3IoZSl7dGhpcy5tYW5hZ2VyPWUhPT12b2lkIDA/ZTpMTSx0aGlzLmNyb3NzT3JpZ2luPSJhbm9ueW1vdXMiLHRoaXMud2l0aENyZWRlbnRpYWxzPSExLHRoaXMucGF0aD0iIix0aGlzLnJlc291cmNlUGF0aD0iIix0aGlzLnJlcXVlc3RIZWFkZXI9e319bG9hZCgpe31sb2FkQXN5bmMoZSx0KXtjb25zdCByPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHMsYSl7ci5sb2FkKGUscyx0LGEpfSl9cGFyc2UoKXt9c2V0Q3Jvc3NPcmlnaW4oZSl7cmV0dXJuIHRoaXMuY3Jvc3NPcmlnaW49ZSx0aGlzfXNldFdpdGhDcmVkZW50aWFscyhlKXtyZXR1cm4gdGhpcy53aXRoQ3JlZGVudGlhbHM9ZSx0aGlzfXNldFBhdGgoZSl7cmV0dXJuIHRoaXMucGF0aD1lLHRoaXN9c2V0UmVzb3VyY2VQYXRoKGUpe3JldHVybiB0aGlzLnJlc291cmNlUGF0aD1lLHRoaXN9c2V0UmVxdWVzdEhlYWRlcihlKXtyZXR1cm4gdGhpcy5yZXF1ZXN0SGVhZGVyPWUsdGhpc319Y29uc3QgQWk9e307Y2xhc3MgUk0gZXh0ZW5kcyBXaXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKX1sb2FkKGUsdCxyLHMpe2U9PT12b2lkIDAmJihlPSIiKSx0aGlzLnBhdGghPT12b2lkIDAmJihlPXRoaXMucGF0aCtlKSxlPXRoaXMubWFuYWdlci5yZXNvbHZlVVJMKGUpO2NvbnN0IGE9c3MuZ2V0KGUpO2lmKGEhPT12b2lkIDApcmV0dXJuIHRoaXMubWFuYWdlci5pdGVtU3RhcnQoZSksc2V0VGltZW91dCgoKT0+e3QmJnQoYSksdGhpcy5tYW5hZ2VyLml0ZW1FbmQoZSl9LDApLGE7aWYoQWlbZV0hPT12b2lkIDApe0FpW2VdLnB1c2goe29uTG9hZDp0LG9uUHJvZ3Jlc3M6cixvbkVycm9yOnN9KTtyZXR1cm59QWlbZV09W10sQWlbZV0ucHVzaCh7b25Mb2FkOnQsb25Qcm9ncmVzczpyLG9uRXJyb3I6c30pO2NvbnN0IG49bmV3IFJlcXVlc3QoZSx7aGVhZGVyczpuZXcgSGVhZGVycyh0aGlzLnJlcXVlc3RIZWFkZXIpLGNyZWRlbnRpYWxzOnRoaXMud2l0aENyZWRlbnRpYWxzPyJpbmNsdWRlIjoic2FtZS1vcmlnaW4ifSksbz10aGlzLm1pbWVUeXBlLGg9dGhpcy5yZXNwb25zZVR5cGU7ZmV0Y2gobikudGhlbihsPT57aWYobC5zdGF0dXM9PT0yMDB8fGwuc3RhdHVzPT09MCl7aWYobC5zdGF0dXM9PT0wJiZjb25zb2xlLndhcm4oIlRIUkVFLkZpbGVMb2FkZXI6IEhUVFAgU3RhdHVzIDAgcmVjZWl2ZWQuIiksdHlwZW9mIFJlYWRhYmxlU3RyZWFtPiJ1Inx8bC5ib2R5PT09dm9pZCAwfHxsLmJvZHkuZ2V0UmVhZGVyPT09dm9pZCAwKXJldHVybiBsO2NvbnN0IGM9QWlbZV0sdT1sLmJvZHkuZ2V0UmVhZGVyKCksZD1sLmhlYWRlcnMuZ2V0KCJDb250ZW50LUxlbmd0aCIpLHA9ZD9wYXJzZUludChkKTowLGc9cCE9PTA7bGV0IGY9MDtjb25zdCBtPW5ldyBSZWFkYWJsZVN0cmVhbSh7c3RhcnQodil7eSgpO2Z1bmN0aW9uIHkoKXt1LnJlYWQoKS50aGVuKCh7ZG9uZTpULHZhbHVlOnd9KT0+e2lmKFQpdi5jbG9zZSgpO2Vsc2V7Zis9dy5ieXRlTGVuZ3RoO2NvbnN0IGI9bmV3IFByb2dyZXNzRXZlbnQoInByb2dyZXNzIix7bGVuZ3RoQ29tcHV0YWJsZTpnLGxvYWRlZDpmLHRvdGFsOnB9KTtmb3IobGV0IEw9MCxQPWMubGVuZ3RoO0w8UDtMKyspe2NvbnN0IGs9Y1tMXTtrLm9uUHJvZ3Jlc3MmJmsub25Qcm9ncmVzcyhiKX12LmVucXVldWUodykseSgpfX0pfX19KTtyZXR1cm4gbmV3IFJlc3BvbnNlKG0pfWVsc2UgdGhyb3cgRXJyb3IoYGZldGNoIGZvciAiJHtsLnVybH0iIHJlc3BvbmRlZCB3aXRoICR7bC5zdGF0dXN9OiAke2wuc3RhdHVzVGV4dH1gKX0pLnRoZW4obD0+e3N3aXRjaChoKXtjYXNlImFycmF5YnVmZmVyIjpyZXR1cm4gbC5hcnJheUJ1ZmZlcigpO2Nhc2UiYmxvYiI6cmV0dXJuIGwuYmxvYigpO2Nhc2UiZG9jdW1lbnQiOnJldHVybiBsLnRleHQoKS50aGVuKGM9Pm5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoYyxvKSk7Y2FzZSJqc29uIjpyZXR1cm4gbC5qc29uKCk7ZGVmYXVsdDppZihvPT09dm9pZCAwKXJldHVybiBsLnRleHQoKTt7Y29uc3QgYz0vY2hhcnNldD0iPyhbXjsiXHNdKikiPy9pLmV4ZWMobyksdT1jJiZjWzFdP2NbMV0udG9Mb3dlckNhc2UoKTp2b2lkIDAsZD1uZXcgVGV4dERlY29kZXIodSk7cmV0dXJuIGwuYXJyYXlCdWZmZXIoKS50aGVuKHA9PmQuZGVjb2RlKHApKX19fSkudGhlbihsPT57c3MuYWRkKGUsbCk7Y29uc3QgYz1BaVtlXTtkZWxldGUgQWlbZV07Zm9yKGxldCB1PTAsZD1jLmxlbmd0aDt1PGQ7dSsrKXtjb25zdCBwPWNbdV07cC5vbkxvYWQmJnAub25Mb2FkKGwpfX0pLmNhdGNoKGw9Pntjb25zdCBjPUFpW2VdO2lmKGM9PT12b2lkIDApdGhyb3cgdGhpcy5tYW5hZ2VyLml0ZW1FcnJvcihlKSxsO2RlbGV0ZSBBaVtlXTtmb3IobGV0IHU9MCxkPWMubGVuZ3RoO3U8ZDt1Kyspe2NvbnN0IHA9Y1t1XTtwLm9uRXJyb3ImJnAub25FcnJvcihsKX10aGlzLm1hbmFnZXIuaXRlbUVycm9yKGUpfSkuZmluYWxseSgoKT0+e3RoaXMubWFuYWdlci5pdGVtRW5kKGUpfSksdGhpcy5tYW5hZ2VyLml0ZW1TdGFydChlKX1zZXRSZXNwb25zZVR5cGUoZSl7cmV0dXJuIHRoaXMucmVzcG9uc2VUeXBlPWUsdGhpc31zZXRNaW1lVHlwZShlKXtyZXR1cm4gdGhpcy5taW1lVHlwZT1lLHRoaXN9fWNsYXNzIGl1IGV4dGVuZHMgV2l7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSl9bG9hZChlLHQscixzKXt0aGlzLnBhdGghPT12b2lkIDAmJihlPXRoaXMucGF0aCtlKSxlPXRoaXMubWFuYWdlci5yZXNvbHZlVVJMKGUpO2NvbnN0IGE9dGhpcyxuPXNzLmdldChlKTtpZihuIT09dm9pZCAwKXJldHVybiBhLm1hbmFnZXIuaXRlbVN0YXJ0KGUpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0JiZ0KG4pLGEubWFuYWdlci5pdGVtRW5kKGUpfSwwKSxuO2NvbnN0IG89VHMoImltZyIpO2Z1bmN0aW9uIGgoKXtjKCksc3MuYWRkKGUsdGhpcyksdCYmdCh0aGlzKSxhLm1hbmFnZXIuaXRlbUVuZChlKX1mdW5jdGlvbiBsKHUpe2MoKSxzJiZzKHUpLGEubWFuYWdlci5pdGVtRXJyb3IoZSksYS5tYW5hZ2VyLml0ZW1FbmQoZSl9ZnVuY3Rpb24gYygpe28ucmVtb3ZlRXZlbnRMaXN0ZW5lcigibG9hZCIsaCwhMSksby5yZW1vdmVFdmVudExpc3RlbmVyKCJlcnJvciIsbCwhMSl9cmV0dXJuIG8uYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsaCwhMSksby5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsbCwhMSksZS5zbGljZSgwLDUpIT09ImRhdGE6IiYmdGhpcy5jcm9zc09yaWdpbiE9PXZvaWQgMCYmKG8uY3Jvc3NPcmlnaW49dGhpcy5jcm9zc09yaWdpbiksYS5tYW5hZ2VyLml0ZW1TdGFydChlKSxvLnNyYz1lLG99fWNsYXNzIFBNIGV4dGVuZHMgV2l7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSl9bG9hZChlLHQscixzKXtjb25zdCBhPW5ldyBVYSxuPW5ldyBpdSh0aGlzLm1hbmFnZXIpO24uc2V0Q3Jvc3NPcmlnaW4odGhpcy5jcm9zc09yaWdpbiksbi5zZXRQYXRoKHRoaXMucGF0aCk7bGV0IG89MDtmdW5jdGlvbiBoKGwpe24ubG9hZChlW2xdLGZ1bmN0aW9uKGMpe2EuaW1hZ2VzW2xdPWMsbysrLG89PT02JiYoYS5uZWVkc1VwZGF0ZT0hMCx0JiZ0KGEpKX0sdm9pZCAwLHMpfWZvcihsZXQgbD0wO2w8ZS5sZW5ndGg7KytsKWgobCk7cmV0dXJuIGF9fWNsYXNzIElNIGV4dGVuZHMgV2l7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSl9bG9hZChlLHQscixzKXtjb25zdCBhPW5ldyBkdCxuPW5ldyBpdSh0aGlzLm1hbmFnZXIpO3JldHVybiBuLnNldENyb3NzT3JpZ2luKHRoaXMuY3Jvc3NPcmlnaW4pLG4uc2V0UGF0aCh0aGlzLnBhdGgpLG4ubG9hZChlLGZ1bmN0aW9uKG8pe2EuaW1hZ2U9byxhLm5lZWRzVXBkYXRlPSEwLHQhPT12b2lkIDAmJnQoYSl9LHIscyksYX19Y2xhc3Mgb2kgZXh0ZW5kcyBqZXtjb25zdHJ1Y3RvcihlLHQ9MSl7c3VwZXIoKTt0aGlzLnR5cGU9IkxpZ2h0Iix0aGlzLmNvbG9yPW5ldyBnZShlKSx0aGlzLmludGVuc2l0eT10fWRpc3Bvc2UoKXt9Y29weShlKXtyZXR1cm4gc3VwZXIuY29weShlKSx0aGlzLmNvbG9yLmNvcHkoZS5jb2xvciksdGhpcy5pbnRlbnNpdHk9ZS5pbnRlbnNpdHksdGhpc310b0pTT04oZSl7Y29uc3QgdD1zdXBlci50b0pTT04oZSk7cmV0dXJuIHQub2JqZWN0LmNvbG9yPXRoaXMuY29sb3IuZ2V0SGV4KCksdC5vYmplY3QuaW50ZW5zaXR5PXRoaXMuaW50ZW5zaXR5LHRoaXMuZ3JvdW5kQ29sb3IhPT12b2lkIDAmJih0Lm9iamVjdC5ncm91bmRDb2xvcj10aGlzLmdyb3VuZENvbG9yLmdldEhleCgpKSx0aGlzLmRpc3RhbmNlIT09dm9pZCAwJiYodC5vYmplY3QuZGlzdGFuY2U9dGhpcy5kaXN0YW5jZSksdGhpcy5hbmdsZSE9PXZvaWQgMCYmKHQub2JqZWN0LmFuZ2xlPXRoaXMuYW5nbGUpLHRoaXMuZGVjYXkhPT12b2lkIDAmJih0Lm9iamVjdC5kZWNheT10aGlzLmRlY2F5KSx0aGlzLnBlbnVtYnJhIT09dm9pZCAwJiYodC5vYmplY3QucGVudW1icmE9dGhpcy5wZW51bWJyYSksdGhpcy5zaGFkb3chPT12b2lkIDAmJih0Lm9iamVjdC5zaGFkb3c9dGhpcy5zaGFkb3cudG9KU09OKCkpLHR9fW9pLnByb3RvdHlwZS5pc0xpZ2h0PSEwO2NsYXNzIE5NIGV4dGVuZHMgb2l7Y29uc3RydWN0b3IoZSx0LHIpe3N1cGVyKGUscik7dGhpcy50eXBlPSJIZW1pc3BoZXJlTGlnaHQiLHRoaXMucG9zaXRpb24uY29weShqZS5EZWZhdWx0VXApLHRoaXMudXBkYXRlTWF0cml4KCksdGhpcy5ncm91bmRDb2xvcj1uZXcgZ2UodCl9Y29weShlKXtyZXR1cm4gb2kucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLGUpLHRoaXMuZ3JvdW5kQ29sb3IuY29weShlLmdyb3VuZENvbG9yKSx0aGlzfX1OTS5wcm90b3R5cGUuaXNIZW1pc3BoZXJlTGlnaHQ9ITA7Y29uc3QgcnU9bmV3IF9lLHN1PW5ldyBFLGF1PW5ldyBFO2NsYXNzIEhve2NvbnN0cnVjdG9yKGUpe3RoaXMuY2FtZXJhPWUsdGhpcy5iaWFzPTAsdGhpcy5ub3JtYWxCaWFzPTAsdGhpcy5yYWRpdXM9MSx0aGlzLmJsdXJTYW1wbGVzPTgsdGhpcy5tYXBTaXplPW5ldyBlZSg1MTIsNTEyKSx0aGlzLm1hcD1udWxsLHRoaXMubWFwUGFzcz1udWxsLHRoaXMubWF0cml4PW5ldyBfZSx0aGlzLmF1dG9VcGRhdGU9ITAsdGhpcy5uZWVkc1VwZGF0ZT0hMSx0aGlzLl9mcnVzdHVtPW5ldyBIYSx0aGlzLl9mcmFtZUV4dGVudHM9bmV3IGVlKDEsMSksdGhpcy5fdmlld3BvcnRDb3VudD0xLHRoaXMuX3ZpZXdwb3J0cz1bbmV3IFhlKDAsMCwxLDEpXX1nZXRWaWV3cG9ydENvdW50KCl7cmV0dXJuIHRoaXMuX3ZpZXdwb3J0Q291bnR9Z2V0RnJ1c3R1bSgpe3JldHVybiB0aGlzLl9mcnVzdHVtfXVwZGF0ZU1hdHJpY2VzKGUpe2NvbnN0IHQ9dGhpcy5jYW1lcmEscj10aGlzLm1hdHJpeDtzdS5zZXRGcm9tTWF0cml4UG9zaXRpb24oZS5tYXRyaXhXb3JsZCksdC5wb3NpdGlvbi5jb3B5KHN1KSxhdS5zZXRGcm9tTWF0cml4UG9zaXRpb24oZS50YXJnZXQubWF0cml4V29ybGQpLHQubG9va0F0KGF1KSx0LnVwZGF0ZU1hdHJpeFdvcmxkKCkscnUubXVsdGlwbHlNYXRyaWNlcyh0LnByb2plY3Rpb25NYXRyaXgsdC5tYXRyaXhXb3JsZEludmVyc2UpLHRoaXMuX2ZydXN0dW0uc2V0RnJvbVByb2plY3Rpb25NYXRyaXgocnUpLHIuc2V0KC41LDAsMCwuNSwwLC41LDAsLjUsMCwwLC41LC41LDAsMCwwLDEpLHIubXVsdGlwbHkodC5wcm9qZWN0aW9uTWF0cml4KSxyLm11bHRpcGx5KHQubWF0cml4V29ybGRJbnZlcnNlKX1nZXRWaWV3cG9ydChlKXtyZXR1cm4gdGhpcy5fdmlld3BvcnRzW2VdfWdldEZyYW1lRXh0ZW50cygpe3JldHVybiB0aGlzLl9mcmFtZUV4dGVudHN9ZGlzcG9zZSgpe3RoaXMubWFwJiZ0aGlzLm1hcC5kaXNwb3NlKCksdGhpcy5tYXBQYXNzJiZ0aGlzLm1hcFBhc3MuZGlzcG9zZSgpfWNvcHkoZSl7cmV0dXJuIHRoaXMuY2FtZXJhPWUuY2FtZXJhLmNsb25lKCksdGhpcy5iaWFzPWUuYmlhcyx0aGlzLnJhZGl1cz1lLnJhZGl1cyx0aGlzLm1hcFNpemUuY29weShlLm1hcFNpemUpLHRoaXN9Y2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoKS5jb3B5KHRoaXMpfXRvSlNPTigpe2NvbnN0IGU9e307cmV0dXJuIHRoaXMuYmlhcyE9PTAmJihlLmJpYXM9dGhpcy5iaWFzKSx0aGlzLm5vcm1hbEJpYXMhPT0wJiYoZS5ub3JtYWxCaWFzPXRoaXMubm9ybWFsQmlhcyksdGhpcy5yYWRpdXMhPT0xJiYoZS5yYWRpdXM9dGhpcy5yYWRpdXMpLCh0aGlzLm1hcFNpemUueCE9PTUxMnx8dGhpcy5tYXBTaXplLnkhPT01MTIpJiYoZS5tYXBTaXplPXRoaXMubWFwU2l6ZS50b0FycmF5KCkpLGUuY2FtZXJhPXRoaXMuY2FtZXJhLnRvSlNPTighMSkub2JqZWN0LGRlbGV0ZSBlLmNhbWVyYS5tYXRyaXgsZX19Y2xhc3MgbnUgZXh0ZW5kcyBIb3tjb25zdHJ1Y3Rvcigpe3N1cGVyKG5ldyBEdCg1MCwxLC41LDUwMCkpO3RoaXMuZm9jdXM9MX11cGRhdGVNYXRyaWNlcyhlKXtjb25zdCB0PXRoaXMuY2FtZXJhLHI9T24qMiplLmFuZ2xlKnRoaXMuZm9jdXMscz10aGlzLm1hcFNpemUud2lkdGgvdGhpcy5tYXBTaXplLmhlaWdodCxhPWUuZGlzdGFuY2V8fHQuZmFyOyhyIT09dC5mb3Z8fHMhPT10LmFzcGVjdHx8YSE9PXQuZmFyKSYmKHQuZm92PXIsdC5hc3BlY3Q9cyx0LmZhcj1hLHQudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpKSxzdXBlci51cGRhdGVNYXRyaWNlcyhlKX1jb3B5KGUpe3JldHVybiBzdXBlci5jb3B5KGUpLHRoaXMuZm9jdXM9ZS5mb2N1cyx0aGlzfX1udS5wcm90b3R5cGUuaXNTcG90TGlnaHRTaGFkb3c9ITA7Y2xhc3MgRE0gZXh0ZW5kcyBvaXtjb25zdHJ1Y3RvcihlLHQscj0wLHM9TWF0aC5QSS8zLGE9MCxuPTEpe3N1cGVyKGUsdCk7dGhpcy50eXBlPSJTcG90TGlnaHQiLHRoaXMucG9zaXRpb24uY29weShqZS5EZWZhdWx0VXApLHRoaXMudXBkYXRlTWF0cml4KCksdGhpcy50YXJnZXQ9bmV3IGplLHRoaXMuZGlzdGFuY2U9cix0aGlzLmFuZ2xlPXMsdGhpcy5wZW51bWJyYT1hLHRoaXMuZGVjYXk9bix0aGlzLnNoYWRvdz1uZXcgbnV9Z2V0IHBvd2VyKCl7cmV0dXJuIHRoaXMuaW50ZW5zaXR5Kk1hdGguUEl9c2V0IHBvd2VyKGUpe3RoaXMuaW50ZW5zaXR5PWUvTWF0aC5QSX1kaXNwb3NlKCl7dGhpcy5zaGFkb3cuZGlzcG9zZSgpfWNvcHkoZSl7cmV0dXJuIHN1cGVyLmNvcHkoZSksdGhpcy5kaXN0YW5jZT1lLmRpc3RhbmNlLHRoaXMuYW5nbGU9ZS5hbmdsZSx0aGlzLnBlbnVtYnJhPWUucGVudW1icmEsdGhpcy5kZWNheT1lLmRlY2F5LHRoaXMudGFyZ2V0PWUudGFyZ2V0LmNsb25lKCksdGhpcy5zaGFkb3c9ZS5zaGFkb3cuY2xvbmUoKSx0aGlzfX1ETS5wcm90b3R5cGUuaXNTcG90TGlnaHQ9ITA7Y29uc3Qgb3U9bmV3IF9lLHFzPW5ldyBFLGtvPW5ldyBFO2NsYXNzIGh1IGV4dGVuZHMgSG97Y29uc3RydWN0b3IoKXtzdXBlcihuZXcgRHQoOTAsMSwuNSw1MDApKTt0aGlzLl9mcmFtZUV4dGVudHM9bmV3IGVlKDQsMiksdGhpcy5fdmlld3BvcnRDb3VudD02LHRoaXMuX3ZpZXdwb3J0cz1bbmV3IFhlKDIsMSwxLDEpLG5ldyBYZSgwLDEsMSwxKSxuZXcgWGUoMywxLDEsMSksbmV3IFhlKDEsMSwxLDEpLG5ldyBYZSgzLDAsMSwxKSxuZXcgWGUoMSwwLDEsMSldLHRoaXMuX2N1YmVEaXJlY3Rpb25zPVtuZXcgRSgxLDAsMCksbmV3IEUoLTEsMCwwKSxuZXcgRSgwLDAsMSksbmV3IEUoMCwwLC0xKSxuZXcgRSgwLDEsMCksbmV3IEUoMCwtMSwwKV0sdGhpcy5fY3ViZVVwcz1bbmV3IEUoMCwxLDApLG5ldyBFKDAsMSwwKSxuZXcgRSgwLDEsMCksbmV3IEUoMCwxLDApLG5ldyBFKDAsMCwxKSxuZXcgRSgwLDAsLTEpXX11cGRhdGVNYXRyaWNlcyhlLHQ9MCl7Y29uc3Qgcj10aGlzLmNhbWVyYSxzPXRoaXMubWF0cml4LGE9ZS5kaXN0YW5jZXx8ci5mYXI7YSE9PXIuZmFyJiYoci5mYXI9YSxyLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKSkscXMuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKGUubWF0cml4V29ybGQpLHIucG9zaXRpb24uY29weShxcyksa28uY29weShyLnBvc2l0aW9uKSxrby5hZGQodGhpcy5fY3ViZURpcmVjdGlvbnNbdF0pLHIudXAuY29weSh0aGlzLl9jdWJlVXBzW3RdKSxyLmxvb2tBdChrbyksci51cGRhdGVNYXRyaXhXb3JsZCgpLHMubWFrZVRyYW5zbGF0aW9uKC1xcy54LC1xcy55LC1xcy56KSxvdS5tdWx0aXBseU1hdHJpY2VzKHIucHJvamVjdGlvbk1hdHJpeCxyLm1hdHJpeFdvcmxkSW52ZXJzZSksdGhpcy5fZnJ1c3R1bS5zZXRGcm9tUHJvamVjdGlvbk1hdHJpeChvdSl9fWh1LnByb3RvdHlwZS5pc1BvaW50TGlnaHRTaGFkb3c9ITA7Y2xhc3MgT00gZXh0ZW5kcyBvaXtjb25zdHJ1Y3RvcihlLHQscj0wLHM9MSl7c3VwZXIoZSx0KTt0aGlzLnR5cGU9IlBvaW50TGlnaHQiLHRoaXMuZGlzdGFuY2U9cix0aGlzLmRlY2F5PXMsdGhpcy5zaGFkb3c9bmV3IGh1fWdldCBwb3dlcigpe3JldHVybiB0aGlzLmludGVuc2l0eSo0Kk1hdGguUEl9c2V0IHBvd2VyKGUpe3RoaXMuaW50ZW5zaXR5PWUvKDQqTWF0aC5QSSl9ZGlzcG9zZSgpe3RoaXMuc2hhZG93LmRpc3Bvc2UoKX1jb3B5KGUpe3JldHVybiBzdXBlci5jb3B5KGUpLHRoaXMuZGlzdGFuY2U9ZS5kaXN0YW5jZSx0aGlzLmRlY2F5PWUuZGVjYXksdGhpcy5zaGFkb3c9ZS5zaGFkb3cuY2xvbmUoKSx0aGlzfX1PTS5wcm90b3R5cGUuaXNQb2ludExpZ2h0PSEwO2NsYXNzIGx1IGV4dGVuZHMgSG97Y29uc3RydWN0b3IoKXtzdXBlcihuZXcgbG8oLTUsNSw1LC01LC41LDUwMCkpfX1sdS5wcm90b3R5cGUuaXNEaXJlY3Rpb25hbExpZ2h0U2hhZG93PSEwO2NsYXNzIHpNIGV4dGVuZHMgb2l7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpO3RoaXMudHlwZT0iRGlyZWN0aW9uYWxMaWdodCIsdGhpcy5wb3NpdGlvbi5jb3B5KGplLkRlZmF1bHRVcCksdGhpcy51cGRhdGVNYXRyaXgoKSx0aGlzLnRhcmdldD1uZXcgamUsdGhpcy5zaGFkb3c9bmV3IGx1fWRpc3Bvc2UoKXt0aGlzLnNoYWRvdy5kaXNwb3NlKCl9Y29weShlKXtyZXR1cm4gc3VwZXIuY29weShlKSx0aGlzLnRhcmdldD1lLnRhcmdldC5jbG9uZSgpLHRoaXMuc2hhZG93PWUuc2hhZG93LmNsb25lKCksdGhpc319ek0ucHJvdG90eXBlLmlzRGlyZWN0aW9uYWxMaWdodD0hMDtjbGFzcyBCTSBleHRlbmRzIG9pe2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KTt0aGlzLnR5cGU9IkFtYmllbnRMaWdodCJ9fUJNLnByb3RvdHlwZS5pc0FtYmllbnRMaWdodD0hMDtjbGFzcyBVTSBleHRlbmRzIG9pe2NvbnN0cnVjdG9yKGUsdCxyPTEwLHM9MTApe3N1cGVyKGUsdCk7dGhpcy50eXBlPSJSZWN0QXJlYUxpZ2h0Iix0aGlzLndpZHRoPXIsdGhpcy5oZWlnaHQ9c31nZXQgcG93ZXIoKXtyZXR1cm4gdGhpcy5pbnRlbnNpdHkqdGhpcy53aWR0aCp0aGlzLmhlaWdodCpNYXRoLlBJfXNldCBwb3dlcihlKXt0aGlzLmludGVuc2l0eT1lLyh0aGlzLndpZHRoKnRoaXMuaGVpZ2h0Kk1hdGguUEkpfWNvcHkoZSl7cmV0dXJuIHN1cGVyLmNvcHkoZSksdGhpcy53aWR0aD1lLndpZHRoLHRoaXMuaGVpZ2h0PWUuaGVpZ2h0LHRoaXN9dG9KU09OKGUpe2NvbnN0IHQ9c3VwZXIudG9KU09OKGUpO3JldHVybiB0Lm9iamVjdC53aWR0aD10aGlzLndpZHRoLHQub2JqZWN0LmhlaWdodD10aGlzLmhlaWdodCx0fX1VTS5wcm90b3R5cGUuaXNSZWN0QXJlYUxpZ2h0PSEwO2NsYXNzIGN1e2NvbnN0cnVjdG9yKCl7dGhpcy5jb2VmZmljaWVudHM9W107Zm9yKGxldCBlPTA7ZTw5O2UrKyl0aGlzLmNvZWZmaWNpZW50cy5wdXNoKG5ldyBFKX1zZXQoZSl7Zm9yKGxldCB0PTA7dDw5O3QrKyl0aGlzLmNvZWZmaWNpZW50c1t0XS5jb3B5KGVbdF0pO3JldHVybiB0aGlzfXplcm8oKXtmb3IobGV0IGU9MDtlPDk7ZSsrKXRoaXMuY29lZmZpY2llbnRzW2VdLnNldCgwLDAsMCk7cmV0dXJuIHRoaXN9Z2V0QXQoZSx0KXtjb25zdCByPWUueCxzPWUueSxhPWUueixuPXRoaXMuY29lZmZpY2llbnRzO3JldHVybiB0LmNvcHkoblswXSkubXVsdGlwbHlTY2FsYXIoLjI4MjA5NSksdC5hZGRTY2FsZWRWZWN0b3IoblsxXSwuNDg4NjAzKnMpLHQuYWRkU2NhbGVkVmVjdG9yKG5bMl0sLjQ4ODYwMyphKSx0LmFkZFNjYWxlZFZlY3RvcihuWzNdLC40ODg2MDMqciksdC5hZGRTY2FsZWRWZWN0b3Iobls0XSwxLjA5MjU0OCoocipzKSksdC5hZGRTY2FsZWRWZWN0b3Iobls1XSwxLjA5MjU0OCoocyphKSksdC5hZGRTY2FsZWRWZWN0b3Iobls2XSwuMzE1MzkyKigzKmEqYS0xKSksdC5hZGRTY2FsZWRWZWN0b3Iobls3XSwxLjA5MjU0OCoociphKSksdC5hZGRTY2FsZWRWZWN0b3Iobls4XSwuNTQ2Mjc0KihyKnItcypzKSksdH1nZXRJcnJhZGlhbmNlQXQoZSx0KXtjb25zdCByPWUueCxzPWUueSxhPWUueixuPXRoaXMuY29lZmZpY2llbnRzO3JldHVybiB0LmNvcHkoblswXSkubXVsdGlwbHlTY2FsYXIoLjg4NjIyNyksdC5hZGRTY2FsZWRWZWN0b3IoblsxXSwyKi41MTE2NjQqcyksdC5hZGRTY2FsZWRWZWN0b3IoblsyXSwyKi41MTE2NjQqYSksdC5hZGRTY2FsZWRWZWN0b3IoblszXSwyKi41MTE2NjQqciksdC5hZGRTY2FsZWRWZWN0b3Iobls0XSwyKi40MjkwNDMqcipzKSx0LmFkZFNjYWxlZFZlY3RvcihuWzVdLDIqLjQyOTA0MypzKmEpLHQuYWRkU2NhbGVkVmVjdG9yKG5bNl0sLjc0MzEyNSphKmEtLjI0NzcwOCksdC5hZGRTY2FsZWRWZWN0b3Iobls3XSwyKi40MjkwNDMqciphKSx0LmFkZFNjYWxlZFZlY3RvcihuWzhdLC40MjkwNDMqKHIqci1zKnMpKSx0fWFkZChlKXtmb3IobGV0IHQ9MDt0PDk7dCsrKXRoaXMuY29lZmZpY2llbnRzW3RdLmFkZChlLmNvZWZmaWNpZW50c1t0XSk7cmV0dXJuIHRoaXN9YWRkU2NhbGVkU0goZSx0KXtmb3IobGV0IHI9MDtyPDk7cisrKXRoaXMuY29lZmZpY2llbnRzW3JdLmFkZFNjYWxlZFZlY3RvcihlLmNvZWZmaWNpZW50c1tyXSx0KTtyZXR1cm4gdGhpc31zY2FsZShlKXtmb3IobGV0IHQ9MDt0PDk7dCsrKXRoaXMuY29lZmZpY2llbnRzW3RdLm11bHRpcGx5U2NhbGFyKGUpO3JldHVybiB0aGlzfWxlcnAoZSx0KXtmb3IobGV0IHI9MDtyPDk7cisrKXRoaXMuY29lZmZpY2llbnRzW3JdLmxlcnAoZS5jb2VmZmljaWVudHNbcl0sdCk7cmV0dXJuIHRoaXN9ZXF1YWxzKGUpe2ZvcihsZXQgdD0wO3Q8OTt0KyspaWYoIXRoaXMuY29lZmZpY2llbnRzW3RdLmVxdWFscyhlLmNvZWZmaWNpZW50c1t0XSkpcmV0dXJuITE7cmV0dXJuITB9Y29weShlKXtyZXR1cm4gdGhpcy5zZXQoZS5jb2VmZmljaWVudHMpfWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSh0aGlzKX1mcm9tQXJyYXkoZSx0PTApe2NvbnN0IHI9dGhpcy5jb2VmZmljaWVudHM7Zm9yKGxldCBzPTA7czw5O3MrKylyW3NdLmZyb21BcnJheShlLHQrcyozKTtyZXR1cm4gdGhpc310b0FycmF5KGU9W10sdD0wKXtjb25zdCByPXRoaXMuY29lZmZpY2llbnRzO2ZvcihsZXQgcz0wO3M8OTtzKyspcltzXS50b0FycmF5KGUsdCtzKjMpO3JldHVybiBlfXN0YXRpYyBnZXRCYXNpc0F0KGUsdCl7Y29uc3Qgcj1lLngscz1lLnksYT1lLno7dFswXT0uMjgyMDk1LHRbMV09LjQ4ODYwMypzLHRbMl09LjQ4ODYwMyphLHRbM109LjQ4ODYwMypyLHRbNF09MS4wOTI1NDgqcipzLHRbNV09MS4wOTI1NDgqcyphLHRbNl09LjMxNTM5MiooMyphKmEtMSksdFs3XT0xLjA5MjU0OCpyKmEsdFs4XT0uNTQ2Mjc0KihyKnItcypzKX19Y3UucHJvdG90eXBlLmlzU3BoZXJpY2FsSGFybW9uaWNzMz0hMDtjbGFzcyBHbyBleHRlbmRzIG9pe2NvbnN0cnVjdG9yKGU9bmV3IGN1LHQ9MSl7c3VwZXIodm9pZCAwLHQpO3RoaXMuc2g9ZX1jb3B5KGUpe3JldHVybiBzdXBlci5jb3B5KGUpLHRoaXMuc2guY29weShlLnNoKSx0aGlzfWZyb21KU09OKGUpe3JldHVybiB0aGlzLmludGVuc2l0eT1lLmludGVuc2l0eSx0aGlzLnNoLmZyb21BcnJheShlLnNoKSx0aGlzfXRvSlNPTihlKXtjb25zdCB0PXN1cGVyLnRvSlNPTihlKTtyZXR1cm4gdC5vYmplY3Quc2g9dGhpcy5zaC50b0FycmF5KCksdH19R28ucHJvdG90eXBlLmlzTGlnaHRQcm9iZT0hMDtjbGFzcyBGTXtzdGF0aWMgZGVjb2RlVGV4dChlKXtpZih0eXBlb2YgVGV4dERlY29kZXI8InUiKXJldHVybiBuZXcgVGV4dERlY29kZXIoKS5kZWNvZGUoZSk7bGV0IHQ9IiI7Zm9yKGxldCByPTAscz1lLmxlbmd0aDtyPHM7cisrKXQrPVN0cmluZy5mcm9tQ2hhckNvZGUoZVtyXSk7dHJ5e3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoZXNjYXBlKHQpKX1jYXRjaHtyZXR1cm4gdH19c3RhdGljIGV4dHJhY3RVcmxCYXNlKGUpe2NvbnN0IHQ9ZS5sYXN0SW5kZXhPZigiLyIpO3JldHVybiB0PT09LTE/Ii4vIjplLnNsaWNlKDAsdCsxKX1zdGF0aWMgcmVzb2x2ZVVSTChlLHQpe3JldHVybiB0eXBlb2YgZSE9InN0cmluZyJ8fGU9PT0iIj8iIjooL15odHRwcz86XC9cLy9pLnRlc3QodCkmJi9eXC8vLnRlc3QoZSkmJih0PXQucmVwbGFjZSgvKF5odHRwcz86XC9cL1teXC9dKykuKi9pLCIkMSIpKSwvXihodHRwcz86KT9cL1wvL2kudGVzdChlKXx8L15kYXRhOi4qLC4qJC9pLnRlc3QoZSl8fC9eYmxvYjouKiQvaS50ZXN0KGUpP2U6dCtlKX19Y2xhc3MgSE0gZXh0ZW5kcyAkZXtjb25zdHJ1Y3Rvcigpe3N1cGVyKCk7dGhpcy50eXBlPSJJbnN0YW5jZWRCdWZmZXJHZW9tZXRyeSIsdGhpcy5pbnN0YW5jZUNvdW50PTEvMH1jb3B5KGUpe3JldHVybiBzdXBlci5jb3B5KGUpLHRoaXMuaW5zdGFuY2VDb3VudD1lLmluc3RhbmNlQ291bnQsdGhpc31jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyl9dG9KU09OKCl7Y29uc3QgZT1zdXBlci50b0pTT04odGhpcyk7cmV0dXJuIGUuaW5zdGFuY2VDb3VudD10aGlzLmluc3RhbmNlQ291bnQsZS5pc0luc3RhbmNlZEJ1ZmZlckdlb21ldHJ5PSEwLGV9fUhNLnByb3RvdHlwZS5pc0luc3RhbmNlZEJ1ZmZlckdlb21ldHJ5PSEwO2NsYXNzIGtNIGV4dGVuZHMgV2l7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSk7dHlwZW9mIGNyZWF0ZUltYWdlQml0bWFwPiJ1IiYmY29uc29sZS53YXJuKCJUSFJFRS5JbWFnZUJpdG1hcExvYWRlcjogY3JlYXRlSW1hZ2VCaXRtYXAoKSBub3Qgc3VwcG9ydGVkLiIpLHR5cGVvZiBmZXRjaD4idSImJmNvbnNvbGUud2FybigiVEhSRUUuSW1hZ2VCaXRtYXBMb2FkZXI6IGZldGNoKCkgbm90IHN1cHBvcnRlZC4iKSx0aGlzLm9wdGlvbnM9e3ByZW11bHRpcGx5QWxwaGE6Im5vbmUifX1zZXRPcHRpb25zKGUpe3JldHVybiB0aGlzLm9wdGlvbnM9ZSx0aGlzfWxvYWQoZSx0LHIscyl7ZT09PXZvaWQgMCYmKGU9IiIpLHRoaXMucGF0aCE9PXZvaWQgMCYmKGU9dGhpcy5wYXRoK2UpLGU9dGhpcy5tYW5hZ2VyLnJlc29sdmVVUkwoZSk7Y29uc3QgYT10aGlzLG49c3MuZ2V0KGUpO2lmKG4hPT12b2lkIDApcmV0dXJuIGEubWFuYWdlci5pdGVtU3RhcnQoZSksc2V0VGltZW91dChmdW5jdGlvbigpe3QmJnQobiksYS5tYW5hZ2VyLml0ZW1FbmQoZSl9LDApLG47Y29uc3Qgbz17fTtvLmNyZWRlbnRpYWxzPXRoaXMuY3Jvc3NPcmlnaW49PT0iYW5vbnltb3VzIj8ic2FtZS1vcmlnaW4iOiJpbmNsdWRlIixvLmhlYWRlcnM9dGhpcy5yZXF1ZXN0SGVhZGVyLGZldGNoKGUsbykudGhlbihmdW5jdGlvbihoKXtyZXR1cm4gaC5ibG9iKCl9KS50aGVuKGZ1bmN0aW9uKGgpe3JldHVybiBjcmVhdGVJbWFnZUJpdG1hcChoLE9iamVjdC5hc3NpZ24oYS5vcHRpb25zLHtjb2xvclNwYWNlQ29udmVyc2lvbjoibm9uZSJ9KSl9KS50aGVuKGZ1bmN0aW9uKGgpe3NzLmFkZChlLGgpLHQmJnQoaCksYS5tYW5hZ2VyLml0ZW1FbmQoZSl9KS5jYXRjaChmdW5jdGlvbihoKXtzJiZzKGgpLGEubWFuYWdlci5pdGVtRXJyb3IoZSksYS5tYW5hZ2VyLml0ZW1FbmQoZSl9KSxhLm1hbmFnZXIuaXRlbVN0YXJ0KGUpfX1rTS5wcm90b3R5cGUuaXNJbWFnZUJpdG1hcExvYWRlcj0hMDtsZXQgYW47Y29uc3QgR009e2dldENvbnRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gYW49PT12b2lkIDAmJihhbj1uZXcod2luZG93LkF1ZGlvQ29udGV4dHx8d2luZG93LndlYmtpdEF1ZGlvQ29udGV4dCkpLGFufSxzZXRDb250ZXh0OmZ1bmN0aW9uKGkpe2FuPWl9fTtjbGFzcyBWTSBleHRlbmRzIFdpe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpfWxvYWQoZSx0LHIscyl7Y29uc3QgYT10aGlzLG49bmV3IFJNKHRoaXMubWFuYWdlcik7bi5zZXRSZXNwb25zZVR5cGUoImFycmF5YnVmZmVyIiksbi5zZXRQYXRoKHRoaXMucGF0aCksbi5zZXRSZXF1ZXN0SGVhZGVyKHRoaXMucmVxdWVzdEhlYWRlciksbi5zZXRXaXRoQ3JlZGVudGlhbHModGhpcy53aXRoQ3JlZGVudGlhbHMpLG4ubG9hZChlLGZ1bmN0aW9uKG8pe3RyeXtjb25zdCBoPW8uc2xpY2UoMCk7R00uZ2V0Q29udGV4dCgpLmRlY29kZUF1ZGlvRGF0YShoLGZ1bmN0aW9uKGwpe3QobCl9KX1jYXRjaChoKXtzP3MoaCk6Y29uc29sZS5lcnJvcihoKSxhLm1hbmFnZXIuaXRlbUVycm9yKGUpfX0scixzKX19Y2xhc3MgV00gZXh0ZW5kcyBHb3tjb25zdHJ1Y3RvcihlLHQscj0xKXtzdXBlcih2b2lkIDAscik7Y29uc3Qgcz1uZXcgZ2UoKS5zZXQoZSksYT1uZXcgZ2UoKS5zZXQodCksbj1uZXcgRShzLnIscy5nLHMuYiksbz1uZXcgRShhLnIsYS5nLGEuYiksaD1NYXRoLnNxcnQoTWF0aC5QSSksbD1oKk1hdGguc3FydCguNzUpO3RoaXMuc2guY29lZmZpY2llbnRzWzBdLmNvcHkobikuYWRkKG8pLm11bHRpcGx5U2NhbGFyKGgpLHRoaXMuc2guY29lZmZpY2llbnRzWzFdLmNvcHkobikuc3ViKG8pLm11bHRpcGx5U2NhbGFyKGwpfX1XTS5wcm90b3R5cGUuaXNIZW1pc3BoZXJlTGlnaHRQcm9iZT0hMDtjbGFzcyBqTSBleHRlbmRzIEdve2NvbnN0cnVjdG9yKGUsdD0xKXtzdXBlcih2b2lkIDAsdCk7Y29uc3Qgcj1uZXcgZ2UoKS5zZXQoZSk7dGhpcy5zaC5jb2VmZmljaWVudHNbMF0uc2V0KHIucixyLmcsci5iKS5tdWx0aXBseVNjYWxhcigyKk1hdGguc3FydChNYXRoLlBJKSl9fWpNLnByb3RvdHlwZS5pc0FtYmllbnRMaWdodFByb2JlPSEwO2NsYXNzIHFNIGV4dGVuZHMgamV7Y29uc3RydWN0b3IoZSl7c3VwZXIoKTt0aGlzLnR5cGU9IkF1ZGlvIix0aGlzLmxpc3RlbmVyPWUsdGhpcy5jb250ZXh0PWUuY29udGV4dCx0aGlzLmdhaW49dGhpcy5jb250ZXh0LmNyZWF0ZUdhaW4oKSx0aGlzLmdhaW4uY29ubmVjdChlLmdldElucHV0KCkpLHRoaXMuYXV0b3BsYXk9ITEsdGhpcy5idWZmZXI9bnVsbCx0aGlzLmRldHVuZT0wLHRoaXMubG9vcD0hMSx0aGlzLmxvb3BTdGFydD0wLHRoaXMubG9vcEVuZD0wLHRoaXMub2Zmc2V0PTAsdGhpcy5kdXJhdGlvbj12b2lkIDAsdGhpcy5wbGF5YmFja1JhdGU9MSx0aGlzLmlzUGxheWluZz0hMSx0aGlzLmhhc1BsYXliYWNrQ29udHJvbD0hMCx0aGlzLnNvdXJjZT1udWxsLHRoaXMuc291cmNlVHlwZT0iZW1wdHkiLHRoaXMuX3N0YXJ0ZWRBdD0wLHRoaXMuX3Byb2dyZXNzPTAsdGhpcy5fY29ubmVjdGVkPSExLHRoaXMuZmlsdGVycz1bXX1nZXRPdXRwdXQoKXtyZXR1cm4gdGhpcy5nYWlufXNldE5vZGVTb3VyY2UoZSl7cmV0dXJuIHRoaXMuaGFzUGxheWJhY2tDb250cm9sPSExLHRoaXMuc291cmNlVHlwZT0iYXVkaW9Ob2RlIix0aGlzLnNvdXJjZT1lLHRoaXMuY29ubmVjdCgpLHRoaXN9c2V0TWVkaWFFbGVtZW50U291cmNlKGUpe3JldHVybiB0aGlzLmhhc1BsYXliYWNrQ29udHJvbD0hMSx0aGlzLnNvdXJjZVR5cGU9Im1lZGlhTm9kZSIsdGhpcy5zb3VyY2U9dGhpcy5jb250ZXh0LmNyZWF0ZU1lZGlhRWxlbWVudFNvdXJjZShlKSx0aGlzLmNvbm5lY3QoKSx0aGlzfXNldE1lZGlhU3RyZWFtU291cmNlKGUpe3JldHVybiB0aGlzLmhhc1BsYXliYWNrQ29udHJvbD0hMSx0aGlzLnNvdXJjZVR5cGU9Im1lZGlhU3RyZWFtTm9kZSIsdGhpcy5zb3VyY2U9dGhpcy5jb250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKGUpLHRoaXMuY29ubmVjdCgpLHRoaXN9c2V0QnVmZmVyKGUpe3JldHVybiB0aGlzLmJ1ZmZlcj1lLHRoaXMuc291cmNlVHlwZT0iYnVmZmVyIix0aGlzLmF1dG9wbGF5JiZ0aGlzLnBsYXkoKSx0aGlzfXBsYXkoZT0wKXtpZih0aGlzLmlzUGxheWluZz09PSEwKXtjb25zb2xlLndhcm4oIlRIUkVFLkF1ZGlvOiBBdWRpbyBpcyBhbHJlYWR5IHBsYXlpbmcuIik7cmV0dXJufWlmKHRoaXMuaGFzUGxheWJhY2tDb250cm9sPT09ITEpe2NvbnNvbGUud2FybigiVEhSRUUuQXVkaW86IHRoaXMgQXVkaW8gaGFzIG5vIHBsYXliYWNrIGNvbnRyb2wuIik7cmV0dXJufXRoaXMuX3N0YXJ0ZWRBdD10aGlzLmNvbnRleHQuY3VycmVudFRpbWUrZTtjb25zdCB0PXRoaXMuY29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtyZXR1cm4gdC5idWZmZXI9dGhpcy5idWZmZXIsdC5sb29wPXRoaXMubG9vcCx0Lmxvb3BTdGFydD10aGlzLmxvb3BTdGFydCx0Lmxvb3BFbmQ9dGhpcy5sb29wRW5kLHQub25lbmRlZD10aGlzLm9uRW5kZWQuYmluZCh0aGlzKSx0LnN0YXJ0KHRoaXMuX3N0YXJ0ZWRBdCx0aGlzLl9wcm9ncmVzcyt0aGlzLm9mZnNldCx0aGlzLmR1cmF0aW9uKSx0aGlzLmlzUGxheWluZz0hMCx0aGlzLnNvdXJjZT10LHRoaXMuc2V0RGV0dW5lKHRoaXMuZGV0dW5lKSx0aGlzLnNldFBsYXliYWNrUmF0ZSh0aGlzLnBsYXliYWNrUmF0ZSksdGhpcy5jb25uZWN0KCl9cGF1c2UoKXtpZih0aGlzLmhhc1BsYXliYWNrQ29udHJvbD09PSExKXtjb25zb2xlLndhcm4oIlRIUkVFLkF1ZGlvOiB0aGlzIEF1ZGlvIGhhcyBubyBwbGF5YmFjayBjb250cm9sLiIpO3JldHVybn1yZXR1cm4gdGhpcy5pc1BsYXlpbmc9PT0hMCYmKHRoaXMuX3Byb2dyZXNzKz1NYXRoLm1heCh0aGlzLmNvbnRleHQuY3VycmVudFRpbWUtdGhpcy5fc3RhcnRlZEF0LDApKnRoaXMucGxheWJhY2tSYXRlLHRoaXMubG9vcD09PSEwJiYodGhpcy5fcHJvZ3Jlc3M9dGhpcy5fcHJvZ3Jlc3MlKHRoaXMuZHVyYXRpb258fHRoaXMuYnVmZmVyLmR1cmF0aW9uKSksdGhpcy5zb3VyY2Uuc3RvcCgpLHRoaXMuc291cmNlLm9uZW5kZWQ9bnVsbCx0aGlzLmlzUGxheWluZz0hMSksdGhpc31zdG9wKCl7aWYodGhpcy5oYXNQbGF5YmFja0NvbnRyb2w9PT0hMSl7Y29uc29sZS53YXJuKCJUSFJFRS5BdWRpbzogdGhpcyBBdWRpbyBoYXMgbm8gcGxheWJhY2sgY29udHJvbC4iKTtyZXR1cm59cmV0dXJuIHRoaXMuX3Byb2dyZXNzPTAsdGhpcy5zb3VyY2Uuc3RvcCgpLHRoaXMuc291cmNlLm9uZW5kZWQ9bnVsbCx0aGlzLmlzUGxheWluZz0hMSx0aGlzfWNvbm5lY3QoKXtpZih0aGlzLmZpbHRlcnMubGVuZ3RoPjApe3RoaXMuc291cmNlLmNvbm5lY3QodGhpcy5maWx0ZXJzWzBdKTtmb3IobGV0IGU9MSx0PXRoaXMuZmlsdGVycy5sZW5ndGg7ZTx0O2UrKyl0aGlzLmZpbHRlcnNbZS0xXS5jb25uZWN0KHRoaXMuZmlsdGVyc1tlXSk7dGhpcy5maWx0ZXJzW3RoaXMuZmlsdGVycy5sZW5ndGgtMV0uY29ubmVjdCh0aGlzLmdldE91dHB1dCgpKX1lbHNlIHRoaXMuc291cmNlLmNvbm5lY3QodGhpcy5nZXRPdXRwdXQoKSk7cmV0dXJuIHRoaXMuX2Nvbm5lY3RlZD0hMCx0aGlzfWRpc2Nvbm5lY3QoKXtpZih0aGlzLmZpbHRlcnMubGVuZ3RoPjApe3RoaXMuc291cmNlLmRpc2Nvbm5lY3QodGhpcy5maWx0ZXJzWzBdKTtmb3IobGV0IGU9MSx0PXRoaXMuZmlsdGVycy5sZW5ndGg7ZTx0O2UrKyl0aGlzLmZpbHRlcnNbZS0xXS5kaXNjb25uZWN0KHRoaXMuZmlsdGVyc1tlXSk7dGhpcy5maWx0ZXJzW3RoaXMuZmlsdGVycy5sZW5ndGgtMV0uZGlzY29ubmVjdCh0aGlzLmdldE91dHB1dCgpKX1lbHNlIHRoaXMuc291cmNlLmRpc2Nvbm5lY3QodGhpcy5nZXRPdXRwdXQoKSk7cmV0dXJuIHRoaXMuX2Nvbm5lY3RlZD0hMSx0aGlzfWdldEZpbHRlcnMoKXtyZXR1cm4gdGhpcy5maWx0ZXJzfXNldEZpbHRlcnMoZSl7cmV0dXJuIGV8fChlPVtdKSx0aGlzLl9jb25uZWN0ZWQ9PT0hMD8odGhpcy5kaXNjb25uZWN0KCksdGhpcy5maWx0ZXJzPWUuc2xpY2UoKSx0aGlzLmNvbm5lY3QoKSk6dGhpcy5maWx0ZXJzPWUuc2xpY2UoKSx0aGlzfXNldERldHVuZShlKXtpZih0aGlzLmRldHVuZT1lLHRoaXMuc291cmNlLmRldHVuZSE9PXZvaWQgMClyZXR1cm4gdGhpcy5pc1BsYXlpbmc9PT0hMCYmdGhpcy5zb3VyY2UuZGV0dW5lLnNldFRhcmdldEF0VGltZSh0aGlzLmRldHVuZSx0aGlzLmNvbnRleHQuY3VycmVudFRpbWUsLjAxKSx0aGlzfWdldERldHVuZSgpe3JldHVybiB0aGlzLmRldHVuZX1nZXRGaWx0ZXIoKXtyZXR1cm4gdGhpcy5nZXRGaWx0ZXJzKClbMF19c2V0RmlsdGVyKGUpe3JldHVybiB0aGlzLnNldEZpbHRlcnMoZT9bZV06W10pfXNldFBsYXliYWNrUmF0ZShlKXtpZih0aGlzLmhhc1BsYXliYWNrQ29udHJvbD09PSExKXtjb25zb2xlLndhcm4oIlRIUkVFLkF1ZGlvOiB0aGlzIEF1ZGlvIGhhcyBubyBwbGF5YmFjayBjb250cm9sLiIpO3JldHVybn1yZXR1cm4gdGhpcy5wbGF5YmFja1JhdGU9ZSx0aGlzLmlzUGxheWluZz09PSEwJiZ0aGlzLnNvdXJjZS5wbGF5YmFja1JhdGUuc2V0VGFyZ2V0QXRUaW1lKHRoaXMucGxheWJhY2tSYXRlLHRoaXMuY29udGV4dC5jdXJyZW50VGltZSwuMDEpLHRoaXN9Z2V0UGxheWJhY2tSYXRlKCl7cmV0dXJuIHRoaXMucGxheWJhY2tSYXRlfW9uRW5kZWQoKXt0aGlzLmlzUGxheWluZz0hMX1nZXRMb29wKCl7cmV0dXJuIHRoaXMuaGFzUGxheWJhY2tDb250cm9sPT09ITE/KGNvbnNvbGUud2FybigiVEhSRUUuQXVkaW86IHRoaXMgQXVkaW8gaGFzIG5vIHBsYXliYWNrIGNvbnRyb2wuIiksITEpOnRoaXMubG9vcH1zZXRMb29wKGUpe2lmKHRoaXMuaGFzUGxheWJhY2tDb250cm9sPT09ITEpe2NvbnNvbGUud2FybigiVEhSRUUuQXVkaW86IHRoaXMgQXVkaW8gaGFzIG5vIHBsYXliYWNrIGNvbnRyb2wuIik7cmV0dXJufXJldHVybiB0aGlzLmxvb3A9ZSx0aGlzLmlzUGxheWluZz09PSEwJiYodGhpcy5zb3VyY2UubG9vcD10aGlzLmxvb3ApLHRoaXN9c2V0TG9vcFN0YXJ0KGUpe3JldHVybiB0aGlzLmxvb3BTdGFydD1lLHRoaXN9c2V0TG9vcEVuZChlKXtyZXR1cm4gdGhpcy5sb29wRW5kPWUsdGhpc31nZXRWb2x1bWUoKXtyZXR1cm4gdGhpcy5nYWluLmdhaW4udmFsdWV9c2V0Vm9sdW1lKGUpe3JldHVybiB0aGlzLmdhaW4uZ2Fpbi5zZXRUYXJnZXRBdFRpbWUoZSx0aGlzLmNvbnRleHQuY3VycmVudFRpbWUsLjAxKSx0aGlzfX1jbGFzcyBYTXtjb25zdHJ1Y3RvcihlLHQscil7dGhpcy5iaW5kaW5nPWUsdGhpcy52YWx1ZVNpemU9cjtsZXQgcyxhLG47c3dpdGNoKHQpe2Nhc2UicXVhdGVybmlvbiI6cz10aGlzLl9zbGVycCxhPXRoaXMuX3NsZXJwQWRkaXRpdmUsbj10aGlzLl9zZXRBZGRpdGl2ZUlkZW50aXR5UXVhdGVybmlvbix0aGlzLmJ1ZmZlcj1uZXcgRmxvYXQ2NEFycmF5KHIqNiksdGhpcy5fd29ya0luZGV4PTU7YnJlYWs7Y2FzZSJzdHJpbmciOmNhc2UiYm9vbCI6cz10aGlzLl9zZWxlY3QsYT10aGlzLl9zZWxlY3Qsbj10aGlzLl9zZXRBZGRpdGl2ZUlkZW50aXR5T3RoZXIsdGhpcy5idWZmZXI9bmV3IEFycmF5KHIqNSk7YnJlYWs7ZGVmYXVsdDpzPXRoaXMuX2xlcnAsYT10aGlzLl9sZXJwQWRkaXRpdmUsbj10aGlzLl9zZXRBZGRpdGl2ZUlkZW50aXR5TnVtZXJpYyx0aGlzLmJ1ZmZlcj1uZXcgRmxvYXQ2NEFycmF5KHIqNSl9dGhpcy5fbWl4QnVmZmVyUmVnaW9uPXMsdGhpcy5fbWl4QnVmZmVyUmVnaW9uQWRkaXRpdmU9YSx0aGlzLl9zZXRJZGVudGl0eT1uLHRoaXMuX29yaWdJbmRleD0zLHRoaXMuX2FkZEluZGV4PTQsdGhpcy5jdW11bGF0aXZlV2VpZ2h0PTAsdGhpcy5jdW11bGF0aXZlV2VpZ2h0QWRkaXRpdmU9MCx0aGlzLnVzZUNvdW50PTAsdGhpcy5yZWZlcmVuY2VDb3VudD0wfWFjY3VtdWxhdGUoZSx0KXtjb25zdCByPXRoaXMuYnVmZmVyLHM9dGhpcy52YWx1ZVNpemUsYT1lKnMrcztsZXQgbj10aGlzLmN1bXVsYXRpdmVXZWlnaHQ7aWYobj09PTApe2ZvcihsZXQgbz0wO28hPT1zOysrbylyW2Erb109cltvXTtuPXR9ZWxzZXtuKz10O2NvbnN0IG89dC9uO3RoaXMuX21peEJ1ZmZlclJlZ2lvbihyLGEsMCxvLHMpfXRoaXMuY3VtdWxhdGl2ZVdlaWdodD1ufWFjY3VtdWxhdGVBZGRpdGl2ZShlKXtjb25zdCB0PXRoaXMuYnVmZmVyLHI9dGhpcy52YWx1ZVNpemUscz1yKnRoaXMuX2FkZEluZGV4O3RoaXMuY3VtdWxhdGl2ZVdlaWdodEFkZGl0aXZlPT09MCYmdGhpcy5fc2V0SWRlbnRpdHkoKSx0aGlzLl9taXhCdWZmZXJSZWdpb25BZGRpdGl2ZSh0LHMsMCxlLHIpLHRoaXMuY3VtdWxhdGl2ZVdlaWdodEFkZGl0aXZlKz1lfWFwcGx5KGUpe2NvbnN0IHQ9dGhpcy52YWx1ZVNpemUscj10aGlzLmJ1ZmZlcixzPWUqdCt0LGE9dGhpcy5jdW11bGF0aXZlV2VpZ2h0LG49dGhpcy5jdW11bGF0aXZlV2VpZ2h0QWRkaXRpdmUsbz10aGlzLmJpbmRpbmc7aWYodGhpcy5jdW11bGF0aXZlV2VpZ2h0PTAsdGhpcy5jdW11bGF0aXZlV2VpZ2h0QWRkaXRpdmU9MCxhPDEpe2NvbnN0IGg9dCp0aGlzLl9vcmlnSW5kZXg7dGhpcy5fbWl4QnVmZmVyUmVnaW9uKHIscyxoLDEtYSx0KX1uPjAmJnRoaXMuX21peEJ1ZmZlclJlZ2lvbkFkZGl0aXZlKHIscyx0aGlzLl9hZGRJbmRleCp0LDEsdCk7Zm9yKGxldCBoPXQsbD10K3Q7aCE9PWw7KytoKWlmKHJbaF0hPT1yW2grdF0pe28uc2V0VmFsdWUocixzKTticmVha319c2F2ZU9yaWdpbmFsU3RhdGUoKXtjb25zdCBlPXRoaXMuYmluZGluZyx0PXRoaXMuYnVmZmVyLHI9dGhpcy52YWx1ZVNpemUscz1yKnRoaXMuX29yaWdJbmRleDtlLmdldFZhbHVlKHQscyk7Zm9yKGxldCBhPXIsbj1zO2EhPT1uOysrYSl0W2FdPXRbcythJXJdO3RoaXMuX3NldElkZW50aXR5KCksdGhpcy5jdW11bGF0aXZlV2VpZ2h0PTAsdGhpcy5jdW11bGF0aXZlV2VpZ2h0QWRkaXRpdmU9MH1yZXN0b3JlT3JpZ2luYWxTdGF0ZSgpe2NvbnN0IGU9dGhpcy52YWx1ZVNpemUqMzt0aGlzLmJpbmRpbmcuc2V0VmFsdWUodGhpcy5idWZmZXIsZSl9X3NldEFkZGl0aXZlSWRlbnRpdHlOdW1lcmljKCl7Y29uc3QgZT10aGlzLl9hZGRJbmRleCp0aGlzLnZhbHVlU2l6ZSx0PWUrdGhpcy52YWx1ZVNpemU7Zm9yKGxldCByPWU7cjx0O3IrKyl0aGlzLmJ1ZmZlcltyXT0wfV9zZXRBZGRpdGl2ZUlkZW50aXR5UXVhdGVybmlvbigpe3RoaXMuX3NldEFkZGl0aXZlSWRlbnRpdHlOdW1lcmljKCksdGhpcy5idWZmZXJbdGhpcy5fYWRkSW5kZXgqdGhpcy52YWx1ZVNpemUrM109MX1fc2V0QWRkaXRpdmVJZGVudGl0eU90aGVyKCl7Y29uc3QgZT10aGlzLl9vcmlnSW5kZXgqdGhpcy52YWx1ZVNpemUsdD10aGlzLl9hZGRJbmRleCp0aGlzLnZhbHVlU2l6ZTtmb3IobGV0IHI9MDtyPHRoaXMudmFsdWVTaXplO3IrKyl0aGlzLmJ1ZmZlclt0K3JdPXRoaXMuYnVmZmVyW2Urcl19X3NlbGVjdChlLHQscixzLGEpe2lmKHM+PS41KWZvcihsZXQgbj0wO24hPT1hOysrbillW3Qrbl09ZVtyK25dfV9zbGVycChlLHQscixzKXtUdC5zbGVycEZsYXQoZSx0LGUsdCxlLHIscyl9X3NsZXJwQWRkaXRpdmUoZSx0LHIscyxhKXtjb25zdCBuPXRoaXMuX3dvcmtJbmRleCphO1R0Lm11bHRpcGx5UXVhdGVybmlvbnNGbGF0KGUsbixlLHQsZSxyKSxUdC5zbGVycEZsYXQoZSx0LGUsdCxlLG4scyl9X2xlcnAoZSx0LHIscyxhKXtjb25zdCBuPTEtcztmb3IobGV0IG89MDtvIT09YTsrK28pe2NvbnN0IGg9dCtvO2VbaF09ZVtoXSpuK2VbcitvXSpzfX1fbGVycEFkZGl0aXZlKGUsdCxyLHMsYSl7Zm9yKGxldCBuPTA7biE9PWE7KytuKXtjb25zdCBvPXQrbjtlW29dPWVbb10rZVtyK25dKnN9fX1jb25zdCBWbz0iXFxbXFxdXFwuOlxcLyIsSk09bmV3IFJlZ0V4cCgiWyIrVm8rIl0iLCJnIiksV289IlteIitWbysiXSIsWU09IlteIitWby5yZXBsYWNlKCJcXC4iLCIiKSsiXSIsWk09LygoPzpXQytbXC86XSkqKS8uc291cmNlLnJlcGxhY2UoIldDIixXbyksS009LyhXQ09EKyk/Ly5zb3VyY2UucmVwbGFjZSgiV0NPRCIsWU0pLFFNPS8oPzpcLihXQyspKD86XFsoLispXF0pPyk/Ly5zb3VyY2UucmVwbGFjZSgiV0MiLFdvKSwkTT0vXC4oV0MrKSg/OlxbKC4rKVxdKT8vLnNvdXJjZS5yZXBsYWNlKCJXQyIsV28pLGUxPW5ldyBSZWdFeHAoIl4iK1pNK0tNK1FNKyRNKyIkIiksdDE9WyJtYXRlcmlhbCIsIm1hdGVyaWFscyIsImJvbmVzIl07Y2xhc3MgaTF7Y29uc3RydWN0b3IoZSx0LHIpe2NvbnN0IHM9cnx8cWUucGFyc2VUcmFja05hbWUodCk7dGhpcy5fdGFyZ2V0R3JvdXA9ZSx0aGlzLl9iaW5kaW5ncz1lLnN1YnNjcmliZV8odCxzKX1nZXRWYWx1ZShlLHQpe3RoaXMuYmluZCgpO2NvbnN0IHI9dGhpcy5fdGFyZ2V0R3JvdXAubkNhY2hlZE9iamVjdHNfLHM9dGhpcy5fYmluZGluZ3Nbcl07cyE9PXZvaWQgMCYmcy5nZXRWYWx1ZShlLHQpfXNldFZhbHVlKGUsdCl7Y29uc3Qgcj10aGlzLl9iaW5kaW5ncztmb3IobGV0IHM9dGhpcy5fdGFyZ2V0R3JvdXAubkNhY2hlZE9iamVjdHNfLGE9ci5sZW5ndGg7cyE9PWE7KytzKXJbc10uc2V0VmFsdWUoZSx0KX1iaW5kKCl7Y29uc3QgZT10aGlzLl9iaW5kaW5ncztmb3IobGV0IHQ9dGhpcy5fdGFyZ2V0R3JvdXAubkNhY2hlZE9iamVjdHNfLHI9ZS5sZW5ndGg7dCE9PXI7Kyt0KWVbdF0uYmluZCgpfXVuYmluZCgpe2NvbnN0IGU9dGhpcy5fYmluZGluZ3M7Zm9yKGxldCB0PXRoaXMuX3RhcmdldEdyb3VwLm5DYWNoZWRPYmplY3RzXyxyPWUubGVuZ3RoO3QhPT1yOysrdCllW3RdLnVuYmluZCgpfX1jbGFzcyBxZXtjb25zdHJ1Y3RvcihlLHQscil7dGhpcy5wYXRoPXQsdGhpcy5wYXJzZWRQYXRoPXJ8fHFlLnBhcnNlVHJhY2tOYW1lKHQpLHRoaXMubm9kZT1xZS5maW5kTm9kZShlLHRoaXMucGFyc2VkUGF0aC5ub2RlTmFtZSl8fGUsdGhpcy5yb290Tm9kZT1lLHRoaXMuZ2V0VmFsdWU9dGhpcy5fZ2V0VmFsdWVfdW5ib3VuZCx0aGlzLnNldFZhbHVlPXRoaXMuX3NldFZhbHVlX3VuYm91bmR9c3RhdGljIGNyZWF0ZShlLHQscil7cmV0dXJuIGUmJmUuaXNBbmltYXRpb25PYmplY3RHcm91cD9uZXcgcWUuQ29tcG9zaXRlKGUsdCxyKTpuZXcgcWUoZSx0LHIpfXN0YXRpYyBzYW5pdGl6ZU5vZGVOYW1lKGUpe3JldHVybiBlLnJlcGxhY2UoL1xzL2csIl8iKS5yZXBsYWNlKEpNLCIiKX1zdGF0aWMgcGFyc2VUcmFja05hbWUoZSl7Y29uc3QgdD1lMS5leGVjKGUpO2lmKHQ9PT1udWxsKXRocm93IG5ldyBFcnJvcigiUHJvcGVydHlCaW5kaW5nOiBDYW5ub3QgcGFyc2UgdHJhY2tOYW1lOiAiK2UpO2NvbnN0IHI9e25vZGVOYW1lOnRbMl0sb2JqZWN0TmFtZTp0WzNdLG9iamVjdEluZGV4OnRbNF0scHJvcGVydHlOYW1lOnRbNV0scHJvcGVydHlJbmRleDp0WzZdfSxzPXIubm9kZU5hbWUmJnIubm9kZU5hbWUubGFzdEluZGV4T2YoIi4iKTtpZihzIT09dm9pZCAwJiZzIT09LTEpe2NvbnN0IGE9ci5ub2RlTmFtZS5zdWJzdHJpbmcocysxKTt0MS5pbmRleE9mKGEpIT09LTEmJihyLm5vZGVOYW1lPXIubm9kZU5hbWUuc3Vic3RyaW5nKDAscyksci5vYmplY3ROYW1lPWEpfWlmKHIucHJvcGVydHlOYW1lPT09bnVsbHx8ci5wcm9wZXJ0eU5hbWUubGVuZ3RoPT09MCl0aHJvdyBuZXcgRXJyb3IoIlByb3BlcnR5QmluZGluZzogY2FuIG5vdCBwYXJzZSBwcm9wZXJ0eU5hbWUgZnJvbSB0cmFja05hbWU6ICIrZSk7cmV0dXJuIHJ9c3RhdGljIGZpbmROb2RlKGUsdCl7aWYodD09PXZvaWQgMHx8dD09PSIifHx0PT09Ii4ifHx0PT09LTF8fHQ9PT1lLm5hbWV8fHQ9PT1lLnV1aWQpcmV0dXJuIGU7aWYoZS5za2VsZXRvbil7Y29uc3Qgcj1lLnNrZWxldG9uLmdldEJvbmVCeU5hbWUodCk7aWYociE9PXZvaWQgMClyZXR1cm4gcn1pZihlLmNoaWxkcmVuKXtjb25zdCByPWZ1bmN0aW9uKGEpe2ZvcihsZXQgbj0wO248YS5sZW5ndGg7bisrKXtjb25zdCBvPWFbbl07aWYoby5uYW1lPT09dHx8by51dWlkPT09dClyZXR1cm4gbztjb25zdCBoPXIoby5jaGlsZHJlbik7aWYoaClyZXR1cm4gaH1yZXR1cm4gbnVsbH0scz1yKGUuY2hpbGRyZW4pO2lmKHMpcmV0dXJuIHN9cmV0dXJuIG51bGx9X2dldFZhbHVlX3VuYXZhaWxhYmxlKCl7fV9zZXRWYWx1ZV91bmF2YWlsYWJsZSgpe31fZ2V0VmFsdWVfZGlyZWN0KGUsdCl7ZVt0XT10aGlzLnRhcmdldE9iamVjdFt0aGlzLnByb3BlcnR5TmFtZV19X2dldFZhbHVlX2FycmF5KGUsdCl7Y29uc3Qgcj10aGlzLnJlc29sdmVkUHJvcGVydHk7Zm9yKGxldCBzPTAsYT1yLmxlbmd0aDtzIT09YTsrK3MpZVt0KytdPXJbc119X2dldFZhbHVlX2FycmF5RWxlbWVudChlLHQpe2VbdF09dGhpcy5yZXNvbHZlZFByb3BlcnR5W3RoaXMucHJvcGVydHlJbmRleF19X2dldFZhbHVlX3RvQXJyYXkoZSx0KXt0aGlzLnJlc29sdmVkUHJvcGVydHkudG9BcnJheShlLHQpfV9zZXRWYWx1ZV9kaXJlY3QoZSx0KXt0aGlzLnRhcmdldE9iamVjdFt0aGlzLnByb3BlcnR5TmFtZV09ZVt0XX1fc2V0VmFsdWVfZGlyZWN0X3NldE5lZWRzVXBkYXRlKGUsdCl7dGhpcy50YXJnZXRPYmplY3RbdGhpcy5wcm9wZXJ0eU5hbWVdPWVbdF0sdGhpcy50YXJnZXRPYmplY3QubmVlZHNVcGRhdGU9ITB9X3NldFZhbHVlX2RpcmVjdF9zZXRNYXRyaXhXb3JsZE5lZWRzVXBkYXRlKGUsdCl7dGhpcy50YXJnZXRPYmplY3RbdGhpcy5wcm9wZXJ0eU5hbWVdPWVbdF0sdGhpcy50YXJnZXRPYmplY3QubWF0cml4V29ybGROZWVkc1VwZGF0ZT0hMH1fc2V0VmFsdWVfYXJyYXkoZSx0KXtjb25zdCByPXRoaXMucmVzb2x2ZWRQcm9wZXJ0eTtmb3IobGV0IHM9MCxhPXIubGVuZ3RoO3MhPT1hOysrcylyW3NdPWVbdCsrXX1fc2V0VmFsdWVfYXJyYXlfc2V0TmVlZHNVcGRhdGUoZSx0KXtjb25zdCByPXRoaXMucmVzb2x2ZWRQcm9wZXJ0eTtmb3IobGV0IHM9MCxhPXIubGVuZ3RoO3MhPT1hOysrcylyW3NdPWVbdCsrXTt0aGlzLnRhcmdldE9iamVjdC5uZWVkc1VwZGF0ZT0hMH1fc2V0VmFsdWVfYXJyYXlfc2V0TWF0cml4V29ybGROZWVkc1VwZGF0ZShlLHQpe2NvbnN0IHI9dGhpcy5yZXNvbHZlZFByb3BlcnR5O2ZvcihsZXQgcz0wLGE9ci5sZW5ndGg7cyE9PWE7KytzKXJbc109ZVt0KytdO3RoaXMudGFyZ2V0T2JqZWN0Lm1hdHJpeFdvcmxkTmVlZHNVcGRhdGU9ITB9X3NldFZhbHVlX2FycmF5RWxlbWVudChlLHQpe3RoaXMucmVzb2x2ZWRQcm9wZXJ0eVt0aGlzLnByb3BlcnR5SW5kZXhdPWVbdF19X3NldFZhbHVlX2FycmF5RWxlbWVudF9zZXROZWVkc1VwZGF0ZShlLHQpe3RoaXMucmVzb2x2ZWRQcm9wZXJ0eVt0aGlzLnByb3BlcnR5SW5kZXhdPWVbdF0sdGhpcy50YXJnZXRPYmplY3QubmVlZHNVcGRhdGU9ITB9X3NldFZhbHVlX2FycmF5RWxlbWVudF9zZXRNYXRyaXhXb3JsZE5lZWRzVXBkYXRlKGUsdCl7dGhpcy5yZXNvbHZlZFByb3BlcnR5W3RoaXMucHJvcGVydHlJbmRleF09ZVt0XSx0aGlzLnRhcmdldE9iamVjdC5tYXRyaXhXb3JsZE5lZWRzVXBkYXRlPSEwfV9zZXRWYWx1ZV9mcm9tQXJyYXkoZSx0KXt0aGlzLnJlc29sdmVkUHJvcGVydHkuZnJvbUFycmF5KGUsdCl9X3NldFZhbHVlX2Zyb21BcnJheV9zZXROZWVkc1VwZGF0ZShlLHQpe3RoaXMucmVzb2x2ZWRQcm9wZXJ0eS5mcm9tQXJyYXkoZSx0KSx0aGlzLnRhcmdldE9iamVjdC5uZWVkc1VwZGF0ZT0hMH1fc2V0VmFsdWVfZnJvbUFycmF5X3NldE1hdHJpeFdvcmxkTmVlZHNVcGRhdGUoZSx0KXt0aGlzLnJlc29sdmVkUHJvcGVydHkuZnJvbUFycmF5KGUsdCksdGhpcy50YXJnZXRPYmplY3QubWF0cml4V29ybGROZWVkc1VwZGF0ZT0hMH1fZ2V0VmFsdWVfdW5ib3VuZChlLHQpe3RoaXMuYmluZCgpLHRoaXMuZ2V0VmFsdWUoZSx0KX1fc2V0VmFsdWVfdW5ib3VuZChlLHQpe3RoaXMuYmluZCgpLHRoaXMuc2V0VmFsdWUoZSx0KX1iaW5kKCl7bGV0IGU9dGhpcy5ub2RlO2NvbnN0IHQ9dGhpcy5wYXJzZWRQYXRoLHI9dC5vYmplY3ROYW1lLHM9dC5wcm9wZXJ0eU5hbWU7bGV0IGE9dC5wcm9wZXJ0eUluZGV4O2lmKGV8fChlPXFlLmZpbmROb2RlKHRoaXMucm9vdE5vZGUsdC5ub2RlTmFtZSl8fHRoaXMucm9vdE5vZGUsdGhpcy5ub2RlPWUpLHRoaXMuZ2V0VmFsdWU9dGhpcy5fZ2V0VmFsdWVfdW5hdmFpbGFibGUsdGhpcy5zZXRWYWx1ZT10aGlzLl9zZXRWYWx1ZV91bmF2YWlsYWJsZSwhZSl7Y29uc29sZS5lcnJvcigiVEhSRUUuUHJvcGVydHlCaW5kaW5nOiBUcnlpbmcgdG8gdXBkYXRlIG5vZGUgZm9yIHRyYWNrOiAiK3RoaXMucGF0aCsiIGJ1dCBpdCB3YXNuJ3QgZm91bmQuIik7cmV0dXJufWlmKHIpe2xldCBsPXQub2JqZWN0SW5kZXg7c3dpdGNoKHIpe2Nhc2UibWF0ZXJpYWxzIjppZighZS5tYXRlcmlhbCl7Y29uc29sZS5lcnJvcigiVEhSRUUuUHJvcGVydHlCaW5kaW5nOiBDYW4gbm90IGJpbmQgdG8gbWF0ZXJpYWwgYXMgbm9kZSBkb2VzIG5vdCBoYXZlIGEgbWF0ZXJpYWwuIix0aGlzKTtyZXR1cm59aWYoIWUubWF0ZXJpYWwubWF0ZXJpYWxzKXtjb25zb2xlLmVycm9yKCJUSFJFRS5Qcm9wZXJ0eUJpbmRpbmc6IENhbiBub3QgYmluZCB0byBtYXRlcmlhbC5tYXRlcmlhbHMgYXMgbm9kZS5tYXRlcmlhbCBkb2VzIG5vdCBoYXZlIGEgbWF0ZXJpYWxzIGFycmF5LiIsdGhpcyk7cmV0dXJufWU9ZS5tYXRlcmlhbC5tYXRlcmlhbHM7YnJlYWs7Y2FzZSJib25lcyI6aWYoIWUuc2tlbGV0b24pe2NvbnNvbGUuZXJyb3IoIlRIUkVFLlByb3BlcnR5QmluZGluZzogQ2FuIG5vdCBiaW5kIHRvIGJvbmVzIGFzIG5vZGUgZG9lcyBub3QgaGF2ZSBhIHNrZWxldG9uLiIsdGhpcyk7cmV0dXJufWU9ZS5za2VsZXRvbi5ib25lcztmb3IobGV0IGM9MDtjPGUubGVuZ3RoO2MrKylpZihlW2NdLm5hbWU9PT1sKXtsPWM7YnJlYWt9YnJlYWs7ZGVmYXVsdDppZihlW3JdPT09dm9pZCAwKXtjb25zb2xlLmVycm9yKCJUSFJFRS5Qcm9wZXJ0eUJpbmRpbmc6IENhbiBub3QgYmluZCB0byBvYmplY3ROYW1lIG9mIG5vZGUgdW5kZWZpbmVkLiIsdGhpcyk7cmV0dXJufWU9ZVtyXX1pZihsIT09dm9pZCAwKXtpZihlW2xdPT09dm9pZCAwKXtjb25zb2xlLmVycm9yKCJUSFJFRS5Qcm9wZXJ0eUJpbmRpbmc6IFRyeWluZyB0byBiaW5kIHRvIG9iamVjdEluZGV4IG9mIG9iamVjdE5hbWUsIGJ1dCBpcyB1bmRlZmluZWQuIix0aGlzLGUpO3JldHVybn1lPWVbbF19fWNvbnN0IG49ZVtzXTtpZihuPT09dm9pZCAwKXtjb25zdCBsPXQubm9kZU5hbWU7Y29uc29sZS5lcnJvcigiVEhSRUUuUHJvcGVydHlCaW5kaW5nOiBUcnlpbmcgdG8gdXBkYXRlIHByb3BlcnR5IGZvciB0cmFjazogIitsKyIuIitzKyIgYnV0IGl0IHdhc24ndCBmb3VuZC4iLGUpO3JldHVybn1sZXQgbz10aGlzLlZlcnNpb25pbmcuTm9uZTt0aGlzLnRhcmdldE9iamVjdD1lLGUubmVlZHNVcGRhdGUhPT12b2lkIDA/bz10aGlzLlZlcnNpb25pbmcuTmVlZHNVcGRhdGU6ZS5tYXRyaXhXb3JsZE5lZWRzVXBkYXRlIT09dm9pZCAwJiYobz10aGlzLlZlcnNpb25pbmcuTWF0cml4V29ybGROZWVkc1VwZGF0ZSk7bGV0IGg9dGhpcy5CaW5kaW5nVHlwZS5EaXJlY3Q7aWYoYSE9PXZvaWQgMCl7aWYocz09PSJtb3JwaFRhcmdldEluZmx1ZW5jZXMiKXtpZighZS5nZW9tZXRyeSl7Y29uc29sZS5lcnJvcigiVEhSRUUuUHJvcGVydHlCaW5kaW5nOiBDYW4gbm90IGJpbmQgdG8gbW9ycGhUYXJnZXRJbmZsdWVuY2VzIGJlY2F1c2Ugbm9kZSBkb2VzIG5vdCBoYXZlIGEgZ2VvbWV0cnkuIix0aGlzKTtyZXR1cm59aWYoZS5nZW9tZXRyeS5pc0J1ZmZlckdlb21ldHJ5KXtpZighZS5nZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLlByb3BlcnR5QmluZGluZzogQ2FuIG5vdCBiaW5kIHRvIG1vcnBoVGFyZ2V0SW5mbHVlbmNlcyBiZWNhdXNlIG5vZGUgZG9lcyBub3QgaGF2ZSBhIGdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcy4iLHRoaXMpO3JldHVybn1lLm1vcnBoVGFyZ2V0RGljdGlvbmFyeVthXSE9PXZvaWQgMCYmKGE9ZS5tb3JwaFRhcmdldERpY3Rpb25hcnlbYV0pfWVsc2V7Y29uc29sZS5lcnJvcigiVEhSRUUuUHJvcGVydHlCaW5kaW5nOiBDYW4gbm90IGJpbmQgdG8gbW9ycGhUYXJnZXRJbmZsdWVuY2VzIG9uIFRIUkVFLkdlb21ldHJ5LiBVc2UgVEhSRUUuQnVmZmVyR2VvbWV0cnkgaW5zdGVhZC4iLHRoaXMpO3JldHVybn19aD10aGlzLkJpbmRpbmdUeXBlLkFycmF5RWxlbWVudCx0aGlzLnJlc29sdmVkUHJvcGVydHk9bix0aGlzLnByb3BlcnR5SW5kZXg9YX1lbHNlIG4uZnJvbUFycmF5IT09dm9pZCAwJiZuLnRvQXJyYXkhPT12b2lkIDA/KGg9dGhpcy5CaW5kaW5nVHlwZS5IYXNGcm9tVG9BcnJheSx0aGlzLnJlc29sdmVkUHJvcGVydHk9bik6QXJyYXkuaXNBcnJheShuKT8oaD10aGlzLkJpbmRpbmdUeXBlLkVudGlyZUFycmF5LHRoaXMucmVzb2x2ZWRQcm9wZXJ0eT1uKTp0aGlzLnByb3BlcnR5TmFtZT1zO3RoaXMuZ2V0VmFsdWU9dGhpcy5HZXR0ZXJCeUJpbmRpbmdUeXBlW2hdLHRoaXMuc2V0VmFsdWU9dGhpcy5TZXR0ZXJCeUJpbmRpbmdUeXBlQW5kVmVyc2lvbmluZ1toXVtvXX11bmJpbmQoKXt0aGlzLm5vZGU9bnVsbCx0aGlzLmdldFZhbHVlPXRoaXMuX2dldFZhbHVlX3VuYm91bmQsdGhpcy5zZXRWYWx1ZT10aGlzLl9zZXRWYWx1ZV91bmJvdW5kfX1xZS5Db21wb3NpdGU9aTEscWUucHJvdG90eXBlLkJpbmRpbmdUeXBlPXtEaXJlY3Q6MCxFbnRpcmVBcnJheToxLEFycmF5RWxlbWVudDoyLEhhc0Zyb21Ub0FycmF5OjN9LHFlLnByb3RvdHlwZS5WZXJzaW9uaW5nPXtOb25lOjAsTmVlZHNVcGRhdGU6MSxNYXRyaXhXb3JsZE5lZWRzVXBkYXRlOjJ9LHFlLnByb3RvdHlwZS5HZXR0ZXJCeUJpbmRpbmdUeXBlPVtxZS5wcm90b3R5cGUuX2dldFZhbHVlX2RpcmVjdCxxZS5wcm90b3R5cGUuX2dldFZhbHVlX2FycmF5LHFlLnByb3RvdHlwZS5fZ2V0VmFsdWVfYXJyYXlFbGVtZW50LHFlLnByb3RvdHlwZS5fZ2V0VmFsdWVfdG9BcnJheV0scWUucHJvdG90eXBlLlNldHRlckJ5QmluZGluZ1R5cGVBbmRWZXJzaW9uaW5nPVtbcWUucHJvdG90eXBlLl9zZXRWYWx1ZV9kaXJlY3QscWUucHJvdG90eXBlLl9zZXRWYWx1ZV9kaXJlY3Rfc2V0TmVlZHNVcGRhdGUscWUucHJvdG90eXBlLl9zZXRWYWx1ZV9kaXJlY3Rfc2V0TWF0cml4V29ybGROZWVkc1VwZGF0ZV0sW3FlLnByb3RvdHlwZS5fc2V0VmFsdWVfYXJyYXkscWUucHJvdG90eXBlLl9zZXRWYWx1ZV9hcnJheV9zZXROZWVkc1VwZGF0ZSxxZS5wcm90b3R5cGUuX3NldFZhbHVlX2FycmF5X3NldE1hdHJpeFdvcmxkTmVlZHNVcGRhdGVdLFtxZS5wcm90b3R5cGUuX3NldFZhbHVlX2FycmF5RWxlbWVudCxxZS5wcm90b3R5cGUuX3NldFZhbHVlX2FycmF5RWxlbWVudF9zZXROZWVkc1VwZGF0ZSxxZS5wcm90b3R5cGUuX3NldFZhbHVlX2FycmF5RWxlbWVudF9zZXRNYXRyaXhXb3JsZE5lZWRzVXBkYXRlXSxbcWUucHJvdG90eXBlLl9zZXRWYWx1ZV9mcm9tQXJyYXkscWUucHJvdG90eXBlLl9zZXRWYWx1ZV9mcm9tQXJyYXlfc2V0TmVlZHNVcGRhdGUscWUucHJvdG90eXBlLl9zZXRWYWx1ZV9mcm9tQXJyYXlfc2V0TWF0cml4V29ybGROZWVkc1VwZGF0ZV1dO2NsYXNzIHIxe2NvbnN0cnVjdG9yKGUsdCxyPW51bGwscz10LmJsZW5kTW9kZSl7dGhpcy5fbWl4ZXI9ZSx0aGlzLl9jbGlwPXQsdGhpcy5fbG9jYWxSb290PXIsdGhpcy5ibGVuZE1vZGU9cztjb25zdCBhPXQudHJhY2tzLG49YS5sZW5ndGgsbz1uZXcgQXJyYXkobiksaD17ZW5kaW5nU3RhcnQ6QXIsZW5kaW5nRW5kOkFyfTtmb3IobGV0IGw9MDtsIT09bjsrK2wpe2NvbnN0IGM9YVtsXS5jcmVhdGVJbnRlcnBvbGFudChudWxsKTtvW2xdPWMsYy5zZXR0aW5ncz1ofXRoaXMuX2ludGVycG9sYW50U2V0dGluZ3M9aCx0aGlzLl9pbnRlcnBvbGFudHM9byx0aGlzLl9wcm9wZXJ0eUJpbmRpbmdzPW5ldyBBcnJheShuKSx0aGlzLl9jYWNoZUluZGV4PW51bGwsdGhpcy5fYnlDbGlwQ2FjaGVJbmRleD1udWxsLHRoaXMuX3RpbWVTY2FsZUludGVycG9sYW50PW51bGwsdGhpcy5fd2VpZ2h0SW50ZXJwb2xhbnQ9bnVsbCx0aGlzLmxvb3A9a2csdGhpcy5fbG9vcENvdW50PS0xLHRoaXMuX3N0YXJ0VGltZT1udWxsLHRoaXMudGltZT0wLHRoaXMudGltZVNjYWxlPTEsdGhpcy5fZWZmZWN0aXZlVGltZVNjYWxlPTEsdGhpcy53ZWlnaHQ9MSx0aGlzLl9lZmZlY3RpdmVXZWlnaHQ9MSx0aGlzLnJlcGV0aXRpb25zPTEvMCx0aGlzLnBhdXNlZD0hMSx0aGlzLmVuYWJsZWQ9ITAsdGhpcy5jbGFtcFdoZW5GaW5pc2hlZD0hMSx0aGlzLnplcm9TbG9wZUF0U3RhcnQ9ITAsdGhpcy56ZXJvU2xvcGVBdEVuZD0hMH1wbGF5KCl7cmV0dXJuIHRoaXMuX21peGVyLl9hY3RpdmF0ZUFjdGlvbih0aGlzKSx0aGlzfXN0b3AoKXtyZXR1cm4gdGhpcy5fbWl4ZXIuX2RlYWN0aXZhdGVBY3Rpb24odGhpcyksdGhpcy5yZXNldCgpfXJlc2V0KCl7cmV0dXJuIHRoaXMucGF1c2VkPSExLHRoaXMuZW5hYmxlZD0hMCx0aGlzLnRpbWU9MCx0aGlzLl9sb29wQ291bnQ9LTEsdGhpcy5fc3RhcnRUaW1lPW51bGwsdGhpcy5zdG9wRmFkaW5nKCkuc3RvcFdhcnBpbmcoKX1pc1J1bm5pbmcoKXtyZXR1cm4gdGhpcy5lbmFibGVkJiYhdGhpcy5wYXVzZWQmJnRoaXMudGltZVNjYWxlIT09MCYmdGhpcy5fc3RhcnRUaW1lPT09bnVsbCYmdGhpcy5fbWl4ZXIuX2lzQWN0aXZlQWN0aW9uKHRoaXMpfWlzU2NoZWR1bGVkKCl7cmV0dXJuIHRoaXMuX21peGVyLl9pc0FjdGl2ZUFjdGlvbih0aGlzKX1zdGFydEF0KGUpe3JldHVybiB0aGlzLl9zdGFydFRpbWU9ZSx0aGlzfXNldExvb3AoZSx0KXtyZXR1cm4gdGhpcy5sb29wPWUsdGhpcy5yZXBldGl0aW9ucz10LHRoaXN9c2V0RWZmZWN0aXZlV2VpZ2h0KGUpe3JldHVybiB0aGlzLndlaWdodD1lLHRoaXMuX2VmZmVjdGl2ZVdlaWdodD10aGlzLmVuYWJsZWQ/ZTowLHRoaXMuc3RvcEZhZGluZygpfWdldEVmZmVjdGl2ZVdlaWdodCgpe3JldHVybiB0aGlzLl9lZmZlY3RpdmVXZWlnaHR9ZmFkZUluKGUpe3JldHVybiB0aGlzLl9zY2hlZHVsZUZhZGluZyhlLDAsMSl9ZmFkZU91dChlKXtyZXR1cm4gdGhpcy5fc2NoZWR1bGVGYWRpbmcoZSwxLDApfWNyb3NzRmFkZUZyb20oZSx0LHIpe2lmKGUuZmFkZU91dCh0KSx0aGlzLmZhZGVJbih0KSxyKXtjb25zdCBzPXRoaXMuX2NsaXAuZHVyYXRpb24sYT1lLl9jbGlwLmR1cmF0aW9uLG49YS9zLG89cy9hO2Uud2FycCgxLG4sdCksdGhpcy53YXJwKG8sMSx0KX1yZXR1cm4gdGhpc31jcm9zc0ZhZGVUbyhlLHQscil7cmV0dXJuIGUuY3Jvc3NGYWRlRnJvbSh0aGlzLHQscil9c3RvcEZhZGluZygpe2NvbnN0IGU9dGhpcy5fd2VpZ2h0SW50ZXJwb2xhbnQ7cmV0dXJuIGUhPT1udWxsJiYodGhpcy5fd2VpZ2h0SW50ZXJwb2xhbnQ9bnVsbCx0aGlzLl9taXhlci5fdGFrZUJhY2tDb250cm9sSW50ZXJwb2xhbnQoZSkpLHRoaXN9c2V0RWZmZWN0aXZlVGltZVNjYWxlKGUpe3JldHVybiB0aGlzLnRpbWVTY2FsZT1lLHRoaXMuX2VmZmVjdGl2ZVRpbWVTY2FsZT10aGlzLnBhdXNlZD8wOmUsdGhpcy5zdG9wV2FycGluZygpfWdldEVmZmVjdGl2ZVRpbWVTY2FsZSgpe3JldHVybiB0aGlzLl9lZmZlY3RpdmVUaW1lU2NhbGV9c2V0RHVyYXRpb24oZSl7cmV0dXJuIHRoaXMudGltZVNjYWxlPXRoaXMuX2NsaXAuZHVyYXRpb24vZSx0aGlzLnN0b3BXYXJwaW5nKCl9c3luY1dpdGgoZSl7cmV0dXJuIHRoaXMudGltZT1lLnRpbWUsdGhpcy50aW1lU2NhbGU9ZS50aW1lU2NhbGUsdGhpcy5zdG9wV2FycGluZygpfWhhbHQoZSl7cmV0dXJuIHRoaXMud2FycCh0aGlzLl9lZmZlY3RpdmVUaW1lU2NhbGUsMCxlKX13YXJwKGUsdCxyKXtjb25zdCBzPXRoaXMuX21peGVyLGE9cy50aW1lLG49dGhpcy50aW1lU2NhbGU7bGV0IG89dGhpcy5fdGltZVNjYWxlSW50ZXJwb2xhbnQ7bz09PW51bGwmJihvPXMuX2xlbmRDb250cm9sSW50ZXJwb2xhbnQoKSx0aGlzLl90aW1lU2NhbGVJbnRlcnBvbGFudD1vKTtjb25zdCBoPW8ucGFyYW1ldGVyUG9zaXRpb25zLGw9by5zYW1wbGVWYWx1ZXM7cmV0dXJuIGhbMF09YSxoWzFdPWErcixsWzBdPWUvbixsWzFdPXQvbix0aGlzfXN0b3BXYXJwaW5nKCl7Y29uc3QgZT10aGlzLl90aW1lU2NhbGVJbnRlcnBvbGFudDtyZXR1cm4gZSE9PW51bGwmJih0aGlzLl90aW1lU2NhbGVJbnRlcnBvbGFudD1udWxsLHRoaXMuX21peGVyLl90YWtlQmFja0NvbnRyb2xJbnRlcnBvbGFudChlKSksdGhpc31nZXRNaXhlcigpe3JldHVybiB0aGlzLl9taXhlcn1nZXRDbGlwKCl7cmV0dXJuIHRoaXMuX2NsaXB9Z2V0Um9vdCgpe3JldHVybiB0aGlzLl9sb2NhbFJvb3R8fHRoaXMuX21peGVyLl9yb290fV91cGRhdGUoZSx0LHIscyl7aWYoIXRoaXMuZW5hYmxlZCl7dGhpcy5fdXBkYXRlV2VpZ2h0KGUpO3JldHVybn1jb25zdCBhPXRoaXMuX3N0YXJ0VGltZTtpZihhIT09bnVsbCl7Y29uc3QgaD0oZS1hKSpyO2lmKGg8MHx8cj09PTApcmV0dXJuO3RoaXMuX3N0YXJ0VGltZT1udWxsLHQ9cipofXQqPXRoaXMuX3VwZGF0ZVRpbWVTY2FsZShlKTtjb25zdCBuPXRoaXMuX3VwZGF0ZVRpbWUodCksbz10aGlzLl91cGRhdGVXZWlnaHQoZSk7aWYobz4wKXtjb25zdCBoPXRoaXMuX2ludGVycG9sYW50cyxsPXRoaXMuX3Byb3BlcnR5QmluZGluZ3M7c3dpdGNoKHRoaXMuYmxlbmRNb2RlKXtjYXNlIGZsOmZvcihsZXQgYz0wLHU9aC5sZW5ndGg7YyE9PXU7KytjKWhbY10uZXZhbHVhdGUobiksbFtjXS5hY2N1bXVsYXRlQWRkaXRpdmUobyk7YnJlYWs7Y2FzZSBQbjpkZWZhdWx0OmZvcihsZXQgYz0wLHU9aC5sZW5ndGg7YyE9PXU7KytjKWhbY10uZXZhbHVhdGUobiksbFtjXS5hY2N1bXVsYXRlKHMsbyl9fX1fdXBkYXRlV2VpZ2h0KGUpe2xldCB0PTA7aWYodGhpcy5lbmFibGVkKXt0PXRoaXMud2VpZ2h0O2NvbnN0IHI9dGhpcy5fd2VpZ2h0SW50ZXJwb2xhbnQ7aWYociE9PW51bGwpe2NvbnN0IHM9ci5ldmFsdWF0ZShlKVswXTt0Kj1zLGU+ci5wYXJhbWV0ZXJQb3NpdGlvbnNbMV0mJih0aGlzLnN0b3BGYWRpbmcoKSxzPT09MCYmKHRoaXMuZW5hYmxlZD0hMSkpfX1yZXR1cm4gdGhpcy5fZWZmZWN0aXZlV2VpZ2h0PXQsdH1fdXBkYXRlVGltZVNjYWxlKGUpe2xldCB0PTA7aWYoIXRoaXMucGF1c2VkKXt0PXRoaXMudGltZVNjYWxlO2NvbnN0IHI9dGhpcy5fdGltZVNjYWxlSW50ZXJwb2xhbnQ7ciE9PW51bGwmJih0Kj1yLmV2YWx1YXRlKGUpWzBdLGU+ci5wYXJhbWV0ZXJQb3NpdGlvbnNbMV0mJih0aGlzLnN0b3BXYXJwaW5nKCksdD09PTA/dGhpcy5wYXVzZWQ9ITA6dGhpcy50aW1lU2NhbGU9dCkpfXJldHVybiB0aGlzLl9lZmZlY3RpdmVUaW1lU2NhbGU9dCx0fV91cGRhdGVUaW1lKGUpe2NvbnN0IHQ9dGhpcy5fY2xpcC5kdXJhdGlvbixyPXRoaXMubG9vcDtsZXQgcz10aGlzLnRpbWUrZSxhPXRoaXMuX2xvb3BDb3VudDtjb25zdCBuPXI9PT1HZztpZihlPT09MClyZXR1cm4gYT09PS0xP3M6biYmKGEmMSk9PT0xP3QtczpzO2lmKHI9PT1IZyl7YT09PS0xJiYodGhpcy5fbG9vcENvdW50PTAsdGhpcy5fc2V0RW5kaW5ncyghMCwhMCwhMSkpO2U6e2lmKHM+PXQpcz10O2Vsc2UgaWYoczwwKXM9MDtlbHNle3RoaXMudGltZT1zO2JyZWFrIGV9dGhpcy5jbGFtcFdoZW5GaW5pc2hlZD90aGlzLnBhdXNlZD0hMDp0aGlzLmVuYWJsZWQ9ITEsdGhpcy50aW1lPXMsdGhpcy5fbWl4ZXIuZGlzcGF0Y2hFdmVudCh7dHlwZToiZmluaXNoZWQiLGFjdGlvbjp0aGlzLGRpcmVjdGlvbjplPDA/LTE6MX0pfX1lbHNle2lmKGE9PT0tMSYmKGU+PTA/KGE9MCx0aGlzLl9zZXRFbmRpbmdzKCEwLHRoaXMucmVwZXRpdGlvbnM9PT0wLG4pKTp0aGlzLl9zZXRFbmRpbmdzKHRoaXMucmVwZXRpdGlvbnM9PT0wLCEwLG4pKSxzPj10fHxzPDApe2NvbnN0IG89TWF0aC5mbG9vcihzL3QpO3MtPXQqbyxhKz1NYXRoLmFicyhvKTtjb25zdCBoPXRoaXMucmVwZXRpdGlvbnMtYTtpZihoPD0wKXRoaXMuY2xhbXBXaGVuRmluaXNoZWQ/dGhpcy5wYXVzZWQ9ITA6dGhpcy5lbmFibGVkPSExLHM9ZT4wP3Q6MCx0aGlzLnRpbWU9cyx0aGlzLl9taXhlci5kaXNwYXRjaEV2ZW50KHt0eXBlOiJmaW5pc2hlZCIsYWN0aW9uOnRoaXMsZGlyZWN0aW9uOmU+MD8xOi0xfSk7ZWxzZXtpZihoPT09MSl7Y29uc3QgbD1lPDA7dGhpcy5fc2V0RW5kaW5ncyhsLCFsLG4pfWVsc2UgdGhpcy5fc2V0RW5kaW5ncyghMSwhMSxuKTt0aGlzLl9sb29wQ291bnQ9YSx0aGlzLnRpbWU9cyx0aGlzLl9taXhlci5kaXNwYXRjaEV2ZW50KHt0eXBlOiJsb29wIixhY3Rpb246dGhpcyxsb29wRGVsdGE6b30pfX1lbHNlIHRoaXMudGltZT1zO2lmKG4mJihhJjEpPT09MSlyZXR1cm4gdC1zfXJldHVybiBzfV9zZXRFbmRpbmdzKGUsdCxyKXtjb25zdCBzPXRoaXMuX2ludGVycG9sYW50U2V0dGluZ3M7cj8ocy5lbmRpbmdTdGFydD1DcixzLmVuZGluZ0VuZD1Dcik6KGU/cy5lbmRpbmdTdGFydD10aGlzLnplcm9TbG9wZUF0U3RhcnQ/Q3I6QXI6cy5lbmRpbmdTdGFydD1tYSx0P3MuZW5kaW5nRW5kPXRoaXMuemVyb1Nsb3BlQXRFbmQ/Q3I6QXI6cy5lbmRpbmdFbmQ9bWEpfV9zY2hlZHVsZUZhZGluZyhlLHQscil7Y29uc3Qgcz10aGlzLl9taXhlcixhPXMudGltZTtsZXQgbj10aGlzLl93ZWlnaHRJbnRlcnBvbGFudDtuPT09bnVsbCYmKG49cy5fbGVuZENvbnRyb2xJbnRlcnBvbGFudCgpLHRoaXMuX3dlaWdodEludGVycG9sYW50PW4pO2NvbnN0IG89bi5wYXJhbWV0ZXJQb3NpdGlvbnMsaD1uLnNhbXBsZVZhbHVlcztyZXR1cm4gb1swXT1hLGhbMF09dCxvWzFdPWErZSxoWzFdPXIsdGhpc319Y2xhc3MgczEgZXh0ZW5kcyBRaXtjb25zdHJ1Y3RvcihlKXtzdXBlcigpO3RoaXMuX3Jvb3Q9ZSx0aGlzLl9pbml0TWVtb3J5TWFuYWdlcigpLHRoaXMuX2FjY3VJbmRleD0wLHRoaXMudGltZT0wLHRoaXMudGltZVNjYWxlPTF9X2JpbmRBY3Rpb24oZSx0KXtjb25zdCByPWUuX2xvY2FsUm9vdHx8dGhpcy5fcm9vdCxzPWUuX2NsaXAudHJhY2tzLGE9cy5sZW5ndGgsbj1lLl9wcm9wZXJ0eUJpbmRpbmdzLG89ZS5faW50ZXJwb2xhbnRzLGg9ci51dWlkLGw9dGhpcy5fYmluZGluZ3NCeVJvb3RBbmROYW1lO2xldCBjPWxbaF07Yz09PXZvaWQgMCYmKGM9e30sbFtoXT1jKTtmb3IobGV0IHU9MDt1IT09YTsrK3Upe2NvbnN0IGQ9c1t1XSxwPWQubmFtZTtsZXQgZz1jW3BdO2lmKGchPT12b2lkIDApKytnLnJlZmVyZW5jZUNvdW50LG5bdV09ZztlbHNle2lmKGc9blt1XSxnIT09dm9pZCAwKXtnLl9jYWNoZUluZGV4PT09bnVsbCYmKCsrZy5yZWZlcmVuY2VDb3VudCx0aGlzLl9hZGRJbmFjdGl2ZUJpbmRpbmcoZyxoLHApKTtjb250aW51ZX1jb25zdCBmPXQmJnQuX3Byb3BlcnR5QmluZGluZ3NbdV0uYmluZGluZy5wYXJzZWRQYXRoO2c9bmV3IFhNKHFlLmNyZWF0ZShyLHAsZiksZC5WYWx1ZVR5cGVOYW1lLGQuZ2V0VmFsdWVTaXplKCkpLCsrZy5yZWZlcmVuY2VDb3VudCx0aGlzLl9hZGRJbmFjdGl2ZUJpbmRpbmcoZyxoLHApLG5bdV09Z31vW3VdLnJlc3VsdEJ1ZmZlcj1nLmJ1ZmZlcn19X2FjdGl2YXRlQWN0aW9uKGUpe2lmKCF0aGlzLl9pc0FjdGl2ZUFjdGlvbihlKSl7aWYoZS5fY2FjaGVJbmRleD09PW51bGwpe2NvbnN0IHI9KGUuX2xvY2FsUm9vdHx8dGhpcy5fcm9vdCkudXVpZCxzPWUuX2NsaXAudXVpZCxhPXRoaXMuX2FjdGlvbnNCeUNsaXBbc107dGhpcy5fYmluZEFjdGlvbihlLGEmJmEua25vd25BY3Rpb25zWzBdKSx0aGlzLl9hZGRJbmFjdGl2ZUFjdGlvbihlLHMscil9Y29uc3QgdD1lLl9wcm9wZXJ0eUJpbmRpbmdzO2ZvcihsZXQgcj0wLHM9dC5sZW5ndGg7ciE9PXM7KytyKXtjb25zdCBhPXRbcl07YS51c2VDb3VudCsrPT09MCYmKHRoaXMuX2xlbmRCaW5kaW5nKGEpLGEuc2F2ZU9yaWdpbmFsU3RhdGUoKSl9dGhpcy5fbGVuZEFjdGlvbihlKX19X2RlYWN0aXZhdGVBY3Rpb24oZSl7aWYodGhpcy5faXNBY3RpdmVBY3Rpb24oZSkpe2NvbnN0IHQ9ZS5fcHJvcGVydHlCaW5kaW5ncztmb3IobGV0IHI9MCxzPXQubGVuZ3RoO3IhPT1zOysrcil7Y29uc3QgYT10W3JdOy0tYS51c2VDb3VudD09PTAmJihhLnJlc3RvcmVPcmlnaW5hbFN0YXRlKCksdGhpcy5fdGFrZUJhY2tCaW5kaW5nKGEpKX10aGlzLl90YWtlQmFja0FjdGlvbihlKX19X2luaXRNZW1vcnlNYW5hZ2VyKCl7dGhpcy5fYWN0aW9ucz1bXSx0aGlzLl9uQWN0aXZlQWN0aW9ucz0wLHRoaXMuX2FjdGlvbnNCeUNsaXA9e30sdGhpcy5fYmluZGluZ3M9W10sdGhpcy5fbkFjdGl2ZUJpbmRpbmdzPTAsdGhpcy5fYmluZGluZ3NCeVJvb3RBbmROYW1lPXt9LHRoaXMuX2NvbnRyb2xJbnRlcnBvbGFudHM9W10sdGhpcy5fbkFjdGl2ZUNvbnRyb2xJbnRlcnBvbGFudHM9MDtjb25zdCBlPXRoaXM7dGhpcy5zdGF0cz17YWN0aW9uczp7Z2V0IHRvdGFsKCl7cmV0dXJuIGUuX2FjdGlvbnMubGVuZ3RofSxnZXQgaW5Vc2UoKXtyZXR1cm4gZS5fbkFjdGl2ZUFjdGlvbnN9fSxiaW5kaW5nczp7Z2V0IHRvdGFsKCl7cmV0dXJuIGUuX2JpbmRpbmdzLmxlbmd0aH0sZ2V0IGluVXNlKCl7cmV0dXJuIGUuX25BY3RpdmVCaW5kaW5nc319LGNvbnRyb2xJbnRlcnBvbGFudHM6e2dldCB0b3RhbCgpe3JldHVybiBlLl9jb250cm9sSW50ZXJwb2xhbnRzLmxlbmd0aH0sZ2V0IGluVXNlKCl7cmV0dXJuIGUuX25BY3RpdmVDb250cm9sSW50ZXJwb2xhbnRzfX19fV9pc0FjdGl2ZUFjdGlvbihlKXtjb25zdCB0PWUuX2NhY2hlSW5kZXg7cmV0dXJuIHQhPT1udWxsJiZ0PHRoaXMuX25BY3RpdmVBY3Rpb25zfV9hZGRJbmFjdGl2ZUFjdGlvbihlLHQscil7Y29uc3Qgcz10aGlzLl9hY3Rpb25zLGE9dGhpcy5fYWN0aW9uc0J5Q2xpcDtsZXQgbj1hW3RdO2lmKG49PT12b2lkIDApbj17a25vd25BY3Rpb25zOltlXSxhY3Rpb25CeVJvb3Q6e319LGUuX2J5Q2xpcENhY2hlSW5kZXg9MCxhW3RdPW47ZWxzZXtjb25zdCBvPW4ua25vd25BY3Rpb25zO2UuX2J5Q2xpcENhY2hlSW5kZXg9by5sZW5ndGgsby5wdXNoKGUpfWUuX2NhY2hlSW5kZXg9cy5sZW5ndGgscy5wdXNoKGUpLG4uYWN0aW9uQnlSb290W3JdPWV9X3JlbW92ZUluYWN0aXZlQWN0aW9uKGUpe2NvbnN0IHQ9dGhpcy5fYWN0aW9ucyxyPXRbdC5sZW5ndGgtMV0scz1lLl9jYWNoZUluZGV4O3IuX2NhY2hlSW5kZXg9cyx0W3NdPXIsdC5wb3AoKSxlLl9jYWNoZUluZGV4PW51bGw7Y29uc3QgYT1lLl9jbGlwLnV1aWQsbj10aGlzLl9hY3Rpb25zQnlDbGlwLG89blthXSxoPW8ua25vd25BY3Rpb25zLGw9aFtoLmxlbmd0aC0xXSxjPWUuX2J5Q2xpcENhY2hlSW5kZXg7bC5fYnlDbGlwQ2FjaGVJbmRleD1jLGhbY109bCxoLnBvcCgpLGUuX2J5Q2xpcENhY2hlSW5kZXg9bnVsbDtjb25zdCB1PW8uYWN0aW9uQnlSb290LGQ9KGUuX2xvY2FsUm9vdHx8dGhpcy5fcm9vdCkudXVpZDtkZWxldGUgdVtkXSxoLmxlbmd0aD09PTAmJmRlbGV0ZSBuW2FdLHRoaXMuX3JlbW92ZUluYWN0aXZlQmluZGluZ3NGb3JBY3Rpb24oZSl9X3JlbW92ZUluYWN0aXZlQmluZGluZ3NGb3JBY3Rpb24oZSl7Y29uc3QgdD1lLl9wcm9wZXJ0eUJpbmRpbmdzO2ZvcihsZXQgcj0wLHM9dC5sZW5ndGg7ciE9PXM7KytyKXtjb25zdCBhPXRbcl07LS1hLnJlZmVyZW5jZUNvdW50PT09MCYmdGhpcy5fcmVtb3ZlSW5hY3RpdmVCaW5kaW5nKGEpfX1fbGVuZEFjdGlvbihlKXtjb25zdCB0PXRoaXMuX2FjdGlvbnMscj1lLl9jYWNoZUluZGV4LHM9dGhpcy5fbkFjdGl2ZUFjdGlvbnMrKyxhPXRbc107ZS5fY2FjaGVJbmRleD1zLHRbc109ZSxhLl9jYWNoZUluZGV4PXIsdFtyXT1hfV90YWtlQmFja0FjdGlvbihlKXtjb25zdCB0PXRoaXMuX2FjdGlvbnMscj1lLl9jYWNoZUluZGV4LHM9LS10aGlzLl9uQWN0aXZlQWN0aW9ucyxhPXRbc107ZS5fY2FjaGVJbmRleD1zLHRbc109ZSxhLl9jYWNoZUluZGV4PXIsdFtyXT1hfV9hZGRJbmFjdGl2ZUJpbmRpbmcoZSx0LHIpe2NvbnN0IHM9dGhpcy5fYmluZGluZ3NCeVJvb3RBbmROYW1lLGE9dGhpcy5fYmluZGluZ3M7bGV0IG49c1t0XTtuPT09dm9pZCAwJiYobj17fSxzW3RdPW4pLG5bcl09ZSxlLl9jYWNoZUluZGV4PWEubGVuZ3RoLGEucHVzaChlKX1fcmVtb3ZlSW5hY3RpdmVCaW5kaW5nKGUpe2NvbnN0IHQ9dGhpcy5fYmluZGluZ3Mscj1lLmJpbmRpbmcscz1yLnJvb3ROb2RlLnV1aWQsYT1yLnBhdGgsbj10aGlzLl9iaW5kaW5nc0J5Um9vdEFuZE5hbWUsbz1uW3NdLGg9dFt0Lmxlbmd0aC0xXSxsPWUuX2NhY2hlSW5kZXg7aC5fY2FjaGVJbmRleD1sLHRbbF09aCx0LnBvcCgpLGRlbGV0ZSBvW2FdLE9iamVjdC5rZXlzKG8pLmxlbmd0aD09PTAmJmRlbGV0ZSBuW3NdfV9sZW5kQmluZGluZyhlKXtjb25zdCB0PXRoaXMuX2JpbmRpbmdzLHI9ZS5fY2FjaGVJbmRleCxzPXRoaXMuX25BY3RpdmVCaW5kaW5ncysrLGE9dFtzXTtlLl9jYWNoZUluZGV4PXMsdFtzXT1lLGEuX2NhY2hlSW5kZXg9cix0W3JdPWF9X3Rha2VCYWNrQmluZGluZyhlKXtjb25zdCB0PXRoaXMuX2JpbmRpbmdzLHI9ZS5fY2FjaGVJbmRleCxzPS0tdGhpcy5fbkFjdGl2ZUJpbmRpbmdzLGE9dFtzXTtlLl9jYWNoZUluZGV4PXMsdFtzXT1lLGEuX2NhY2hlSW5kZXg9cix0W3JdPWF9X2xlbmRDb250cm9sSW50ZXJwb2xhbnQoKXtjb25zdCBlPXRoaXMuX2NvbnRyb2xJbnRlcnBvbGFudHMsdD10aGlzLl9uQWN0aXZlQ29udHJvbEludGVycG9sYW50cysrO2xldCByPWVbdF07cmV0dXJuIHI9PT12b2lkIDAmJihyPW5ldyAkYyhuZXcgRmxvYXQzMkFycmF5KDIpLG5ldyBGbG9hdDMyQXJyYXkoMiksMSx0aGlzLl9jb250cm9sSW50ZXJwb2xhbnRzUmVzdWx0QnVmZmVyKSxyLl9fY2FjaGVJbmRleD10LGVbdF09cikscn1fdGFrZUJhY2tDb250cm9sSW50ZXJwb2xhbnQoZSl7Y29uc3QgdD10aGlzLl9jb250cm9sSW50ZXJwb2xhbnRzLHI9ZS5fX2NhY2hlSW5kZXgscz0tLXRoaXMuX25BY3RpdmVDb250cm9sSW50ZXJwb2xhbnRzLGE9dFtzXTtlLl9fY2FjaGVJbmRleD1zLHRbc109ZSxhLl9fY2FjaGVJbmRleD1yLHRbcl09YX1jbGlwQWN0aW9uKGUsdCxyKXtjb25zdCBzPXR8fHRoaXMuX3Jvb3QsYT1zLnV1aWQ7bGV0IG49dHlwZW9mIGU9PSJzdHJpbmciP3R1LmZpbmRCeU5hbWUocyxlKTplO2NvbnN0IG89biE9PW51bGw/bi51dWlkOmUsaD10aGlzLl9hY3Rpb25zQnlDbGlwW29dO2xldCBsPW51bGw7aWYocj09PXZvaWQgMCYmKG4hPT1udWxsP3I9bi5ibGVuZE1vZGU6cj1QbiksaCE9PXZvaWQgMCl7Y29uc3QgdT1oLmFjdGlvbkJ5Um9vdFthXTtpZih1IT09dm9pZCAwJiZ1LmJsZW5kTW9kZT09PXIpcmV0dXJuIHU7bD1oLmtub3duQWN0aW9uc1swXSxuPT09bnVsbCYmKG49bC5fY2xpcCl9aWYobj09PW51bGwpcmV0dXJuIG51bGw7Y29uc3QgYz1uZXcgcjEodGhpcyxuLHQscik7cmV0dXJuIHRoaXMuX2JpbmRBY3Rpb24oYyxsKSx0aGlzLl9hZGRJbmFjdGl2ZUFjdGlvbihjLG8sYSksY31leGlzdGluZ0FjdGlvbihlLHQpe2NvbnN0IHI9dHx8dGhpcy5fcm9vdCxzPXIudXVpZCxhPXR5cGVvZiBlPT0ic3RyaW5nIj90dS5maW5kQnlOYW1lKHIsZSk6ZSxuPWE/YS51dWlkOmUsbz10aGlzLl9hY3Rpb25zQnlDbGlwW25dO3JldHVybiBvIT09dm9pZCAwJiZvLmFjdGlvbkJ5Um9vdFtzXXx8bnVsbH1zdG9wQWxsQWN0aW9uKCl7Y29uc3QgZT10aGlzLl9hY3Rpb25zLHQ9dGhpcy5fbkFjdGl2ZUFjdGlvbnM7Zm9yKGxldCByPXQtMTtyPj0wOy0tcillW3JdLnN0b3AoKTtyZXR1cm4gdGhpc311cGRhdGUoZSl7ZSo9dGhpcy50aW1lU2NhbGU7Y29uc3QgdD10aGlzLl9hY3Rpb25zLHI9dGhpcy5fbkFjdGl2ZUFjdGlvbnMscz10aGlzLnRpbWUrPWUsYT1NYXRoLnNpZ24oZSksbj10aGlzLl9hY2N1SW5kZXhePTE7Zm9yKGxldCBsPTA7bCE9PXI7KytsKXRbbF0uX3VwZGF0ZShzLGUsYSxuKTtjb25zdCBvPXRoaXMuX2JpbmRpbmdzLGg9dGhpcy5fbkFjdGl2ZUJpbmRpbmdzO2ZvcihsZXQgbD0wO2whPT1oOysrbClvW2xdLmFwcGx5KG4pO3JldHVybiB0aGlzfXNldFRpbWUoZSl7dGhpcy50aW1lPTA7Zm9yKGxldCB0PTA7dDx0aGlzLl9hY3Rpb25zLmxlbmd0aDt0KyspdGhpcy5fYWN0aW9uc1t0XS50aW1lPTA7cmV0dXJuIHRoaXMudXBkYXRlKGUpfWdldFJvb3QoKXtyZXR1cm4gdGhpcy5fcm9vdH11bmNhY2hlQ2xpcChlKXtjb25zdCB0PXRoaXMuX2FjdGlvbnMscj1lLnV1aWQscz10aGlzLl9hY3Rpb25zQnlDbGlwLGE9c1tyXTtpZihhIT09dm9pZCAwKXtjb25zdCBuPWEua25vd25BY3Rpb25zO2ZvcihsZXQgbz0wLGg9bi5sZW5ndGg7byE9PWg7KytvKXtjb25zdCBsPW5bb107dGhpcy5fZGVhY3RpdmF0ZUFjdGlvbihsKTtjb25zdCBjPWwuX2NhY2hlSW5kZXgsdT10W3QubGVuZ3RoLTFdO2wuX2NhY2hlSW5kZXg9bnVsbCxsLl9ieUNsaXBDYWNoZUluZGV4PW51bGwsdS5fY2FjaGVJbmRleD1jLHRbY109dSx0LnBvcCgpLHRoaXMuX3JlbW92ZUluYWN0aXZlQmluZGluZ3NGb3JBY3Rpb24obCl9ZGVsZXRlIHNbcl19fXVuY2FjaGVSb290KGUpe2NvbnN0IHQ9ZS51dWlkLHI9dGhpcy5fYWN0aW9uc0J5Q2xpcDtmb3IoY29uc3QgbiBpbiByKXtjb25zdCBvPXJbbl0uYWN0aW9uQnlSb290LGg9b1t0XTtoIT09dm9pZCAwJiYodGhpcy5fZGVhY3RpdmF0ZUFjdGlvbihoKSx0aGlzLl9yZW1vdmVJbmFjdGl2ZUFjdGlvbihoKSl9Y29uc3Qgcz10aGlzLl9iaW5kaW5nc0J5Um9vdEFuZE5hbWUsYT1zW3RdO2lmKGEhPT12b2lkIDApZm9yKGNvbnN0IG4gaW4gYSl7Y29uc3Qgbz1hW25dO28ucmVzdG9yZU9yaWdpbmFsU3RhdGUoKSx0aGlzLl9yZW1vdmVJbmFjdGl2ZUJpbmRpbmcobyl9fXVuY2FjaGVBY3Rpb24oZSx0KXtjb25zdCByPXRoaXMuZXhpc3RpbmdBY3Rpb24oZSx0KTtyIT09bnVsbCYmKHRoaXMuX2RlYWN0aXZhdGVBY3Rpb24ociksdGhpcy5fcmVtb3ZlSW5hY3RpdmVBY3Rpb24ocikpfX1zMS5wcm90b3R5cGUuX2NvbnRyb2xJbnRlcnBvbGFudHNSZXN1bHRCdWZmZXI9bmV3IEZsb2F0MzJBcnJheSgxKTtjbGFzcyBhMSBleHRlbmRzIE5ze2NvbnN0cnVjdG9yKGUsdCxyPTEpe3N1cGVyKGUsdCk7dGhpcy5tZXNoUGVyQXR0cmlidXRlPXJ9Y29weShlKXtyZXR1cm4gc3VwZXIuY29weShlKSx0aGlzLm1lc2hQZXJBdHRyaWJ1dGU9ZS5tZXNoUGVyQXR0cmlidXRlLHRoaXN9Y2xvbmUoZSl7Y29uc3QgdD1zdXBlci5jbG9uZShlKTtyZXR1cm4gdC5tZXNoUGVyQXR0cmlidXRlPXRoaXMubWVzaFBlckF0dHJpYnV0ZSx0fXRvSlNPTihlKXtjb25zdCB0PXN1cGVyLnRvSlNPTihlKTtyZXR1cm4gdC5pc0luc3RhbmNlZEludGVybGVhdmVkQnVmZmVyPSEwLHQubWVzaFBlckF0dHJpYnV0ZT10aGlzLm1lc2hQZXJBdHRyaWJ1dGUsdH19YTEucHJvdG90eXBlLmlzSW5zdGFuY2VkSW50ZXJsZWF2ZWRCdWZmZXI9ITA7Y29uc3Qgamk9bmV3IEUsbm49bmV3IF9lLGpvPW5ldyBfZTtjbGFzcyBuMSBleHRlbmRzIEVve2NvbnN0cnVjdG9yKGUpe2NvbnN0IHQ9dXUoZSkscj1uZXcgJGUscz1bXSxhPVtdLG49bmV3IGdlKDAsMCwxKSxvPW5ldyBnZSgwLDEsMCk7Zm9yKGxldCBsPTA7bDx0Lmxlbmd0aDtsKyspe2NvbnN0IGM9dFtsXTtjLnBhcmVudCYmYy5wYXJlbnQuaXNCb25lJiYocy5wdXNoKDAsMCwwKSxzLnB1c2goMCwwLDApLGEucHVzaChuLnIsbi5nLG4uYiksYS5wdXNoKG8ucixvLmcsby5iKSl9ci5zZXRBdHRyaWJ1dGUoInBvc2l0aW9uIixuZXcgcHQocywzKSksci5zZXRBdHRyaWJ1dGUoImNvbG9yIixuZXcgcHQoYSwzKSk7Y29uc3QgaD1uZXcgJHIoe3ZlcnRleENvbG9yczohMCxkZXB0aFRlc3Q6ITEsZGVwdGhXcml0ZTohMSx0b25lTWFwcGVkOiExLHRyYW5zcGFyZW50OiEwfSk7c3VwZXIocixoKTt0aGlzLnR5cGU9IlNrZWxldG9uSGVscGVyIix0aGlzLmlzU2tlbGV0b25IZWxwZXI9ITAsdGhpcy5yb290PWUsdGhpcy5ib25lcz10LHRoaXMubWF0cml4PWUubWF0cml4V29ybGQsdGhpcy5tYXRyaXhBdXRvVXBkYXRlPSExfXVwZGF0ZU1hdHJpeFdvcmxkKGUpe2NvbnN0IHQ9dGhpcy5ib25lcyxyPXRoaXMuZ2VvbWV0cnkscz1yLmdldEF0dHJpYnV0ZSgicG9zaXRpb24iKTtqby5jb3B5KHRoaXMucm9vdC5tYXRyaXhXb3JsZCkuaW52ZXJ0KCk7Zm9yKGxldCBhPTAsbj0wO2E8dC5sZW5ndGg7YSsrKXtjb25zdCBvPXRbYV07by5wYXJlbnQmJm8ucGFyZW50LmlzQm9uZSYmKG5uLm11bHRpcGx5TWF0cmljZXMoam8sby5tYXRyaXhXb3JsZCksamkuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKG5uKSxzLnNldFhZWihuLGppLngsamkueSxqaS56KSxubi5tdWx0aXBseU1hdHJpY2VzKGpvLG8ucGFyZW50Lm1hdHJpeFdvcmxkKSxqaS5zZXRGcm9tTWF0cml4UG9zaXRpb24obm4pLHMuc2V0WFlaKG4rMSxqaS54LGppLnksamkueiksbis9Mil9ci5nZXRBdHRyaWJ1dGUoInBvc2l0aW9uIikubmVlZHNVcGRhdGU9ITAsc3VwZXIudXBkYXRlTWF0cml4V29ybGQoZSl9fWZ1bmN0aW9uIHV1KGkpe2NvbnN0IGU9W107aS5pc0JvbmU9PT0hMCYmZS5wdXNoKGkpO2ZvcihsZXQgdD0wO3Q8aS5jaGlsZHJlbi5sZW5ndGg7dCsrKWUucHVzaC5hcHBseShlLHV1KGkuY2hpbGRyZW5bdF0pKTtyZXR1cm4gZX1jbGFzcyBvMSBleHRlbmRzIEVve2NvbnN0cnVjdG9yKGU9MTAsdD0xMCxyPTQ0NzM5MjQscz04OTQ3ODQ4KXtyPW5ldyBnZShyKSxzPW5ldyBnZShzKTtjb25zdCBhPXQvMixuPWUvdCxvPWUvMixoPVtdLGw9W107Zm9yKGxldCBkPTAscD0wLGc9LW87ZDw9dDtkKyssZys9bil7aC5wdXNoKC1vLDAsZyxvLDAsZyksaC5wdXNoKGcsMCwtbyxnLDAsbyk7Y29uc3QgZj1kPT09YT9yOnM7Zi50b0FycmF5KGwscCkscCs9MyxmLnRvQXJyYXkobCxwKSxwKz0zLGYudG9BcnJheShsLHApLHArPTMsZi50b0FycmF5KGwscCkscCs9M31jb25zdCBjPW5ldyAkZTtjLnNldEF0dHJpYnV0ZSgicG9zaXRpb24iLG5ldyBwdChoLDMpKSxjLnNldEF0dHJpYnV0ZSgiY29sb3IiLG5ldyBwdChsLDMpKTtjb25zdCB1PW5ldyAkcih7dmVydGV4Q29sb3JzOiEwLHRvbmVNYXBwZWQ6ITF9KTtzdXBlcihjLHUpO3RoaXMudHlwZT0iR3JpZEhlbHBlciJ9fWNvbnN0IGhpPW5ldyBVaW50MzJBcnJheSg1MTIpLGxpPW5ldyBVaW50MzJBcnJheSg1MTIpO2ZvcihsZXQgaT0wO2k8MjU2OysraSl7Y29uc3QgZT1pLTEyNztlPC0yNz8oaGlbaV09MCxoaVtpfDI1Nl09MzI3NjgsbGlbaV09MjQsbGlbaXwyNTZdPTI0KTplPC0xND8oaGlbaV09MTAyND4+LWUtMTQsaGlbaXwyNTZdPTEwMjQ+Pi1lLTE0fDMyNzY4LGxpW2ldPS1lLTEsbGlbaXwyNTZdPS1lLTEpOmU8PTE1PyhoaVtpXT1lKzE1PDwxMCxoaVtpfDI1Nl09ZSsxNTw8MTB8MzI3NjgsbGlbaV09MTMsbGlbaXwyNTZdPTEzKTplPDEyOD8oaGlbaV09MzE3NDQsaGlbaXwyNTZdPTY0NTEyLGxpW2ldPTI0LGxpW2l8MjU2XT0yNCk6KGhpW2ldPTMxNzQ0LGhpW2l8MjU2XT02NDUxMixsaVtpXT0xMyxsaVtpfDI1Nl09MTMpfWNvbnN0IGR1PW5ldyBVaW50MzJBcnJheSgyMDQ4KSxYcz1uZXcgVWludDMyQXJyYXkoNjQpLGgxPW5ldyBVaW50MzJBcnJheSg2NCk7Zm9yKGxldCBpPTE7aTwxMDI0OysraSl7bGV0IGU9aTw8MTMsdD0wO2Zvcig7KGUmODM4ODYwOCk9PT0wOyllPDw9MSx0LT04Mzg4NjA4O2UmPS04Mzg4NjA5LHQrPTk0NzkxMjcwNCxkdVtpXT1lfHR9Zm9yKGxldCBpPTEwMjQ7aTwyMDQ4OysraSlkdVtpXT05Mzk1MjQwOTYrKGktMTAyNDw8MTMpO2ZvcihsZXQgaT0xO2k8MzE7KytpKVhzW2ldPWk8PDIzO1hzWzMxXT0xMTk5NTcwOTQ0LFhzWzMyXT0yMTQ3NDgzNjQ4O2ZvcihsZXQgaT0zMztpPDYzOysraSlYc1tpXT0yMTQ3NDgzNjQ4KyhpLTMyPDwyMyk7WHNbNjNdPTMzNDcwNTQ1OTI7Zm9yKGxldCBpPTE7aTw2NDsrK2kpaSE9PTMyJiYoaDFbaV09MTAyNCk7R3QuY3JlYXRlPWZ1bmN0aW9uKGksZSl7cmV0dXJuIGNvbnNvbGUubG9nKCJUSFJFRS5DdXJ2ZS5jcmVhdGUoKSBoYXMgYmVlbiBkZXByZWNhdGVkIiksaS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShHdC5wcm90b3R5cGUpLGkucHJvdG90eXBlLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUuZ2V0UG9pbnQ9ZSxpfSxPby5wcm90b3R5cGUuZnJvbVBvaW50cz1mdW5jdGlvbihpKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5QYXRoOiAuZnJvbVBvaW50cygpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLnNldEZyb21Qb2ludHMoKS4iKSx0aGlzLnNldEZyb21Qb2ludHMoaSl9LG8xLnByb3RvdHlwZS5zZXRDb2xvcnM9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5HcmlkSGVscGVyOiBzZXRDb2xvcnMoKSBoYXMgYmVlbiBkZXByZWNhdGVkLCBwYXNzIHRoZW0gaW4gdGhlIGNvbnN0cnVjdG9yIGluc3RlYWQuIil9LG4xLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5Ta2VsZXRvbkhlbHBlcjogdXBkYXRlKCkgbm8gbG9uZ2VyIG5lZWRzIHRvIGJlIGNhbGxlZC4iKX0sV2kucHJvdG90eXBlLmV4dHJhY3RVcmxCYXNlPWZ1bmN0aW9uKGkpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkxvYWRlcjogLmV4dHJhY3RVcmxCYXNlKCkgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIFRIUkVFLkxvYWRlclV0aWxzLmV4dHJhY3RVcmxCYXNlKCkgaW5zdGVhZC4iKSxGTS5leHRyYWN0VXJsQmFzZShpKX0sV2kuSGFuZGxlcnM9e2FkZDpmdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLkxvYWRlcjogSGFuZGxlcnMuYWRkKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIExvYWRpbmdNYW5hZ2VyLmFkZEhhbmRsZXIoKSBpbnN0ZWFkLiIpfSxnZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5Mb2FkZXI6IEhhbmRsZXJzLmdldCgpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBMb2FkaW5nTWFuYWdlci5nZXRIYW5kbGVyKCkgaW5zdGVhZC4iKX19LFp0LnByb3RvdHlwZS5jZW50ZXI9ZnVuY3Rpb24oaSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuQm94MzogLmNlbnRlcigpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmdldENlbnRlcigpLiIpLHRoaXMuZ2V0Q2VudGVyKGkpfSxadC5wcm90b3R5cGUuZW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5Cb3gzOiAuZW1wdHkoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5pc0VtcHR5KCkuIiksdGhpcy5pc0VtcHR5KCl9LFp0LnByb3RvdHlwZS5pc0ludGVyc2VjdGlvbkJveD1mdW5jdGlvbihpKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5Cb3gzOiAuaXNJbnRlcnNlY3Rpb25Cb3goKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5pbnRlcnNlY3RzQm94KCkuIiksdGhpcy5pbnRlcnNlY3RzQm94KGkpfSxadC5wcm90b3R5cGUuaXNJbnRlcnNlY3Rpb25TcGhlcmU9ZnVuY3Rpb24oaSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuQm94MzogLmlzSW50ZXJzZWN0aW9uU3BoZXJlKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuaW50ZXJzZWN0c1NwaGVyZSgpLiIpLHRoaXMuaW50ZXJzZWN0c1NwaGVyZShpKX0sWnQucHJvdG90eXBlLnNpemU9ZnVuY3Rpb24oaSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuQm94MzogLnNpemUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXRTaXplKCkuIiksdGhpcy5nZXRTaXplKGkpfSxzci5wcm90b3R5cGUudG9WZWN0b3IzPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuRXVsZXI6IC50b1ZlY3RvcjMoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgVmVjdG9yMy5zZXRGcm9tRXVsZXIoKSBpbnN0ZWFkIil9LERyLnByb3RvdHlwZS5lbXB0eT1mdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlNwaGVyZTogLmVtcHR5KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuaXNFbXB0eSgpLiIpLHRoaXMuaXNFbXB0eSgpfSxIYS5wcm90b3R5cGUuc2V0RnJvbU1hdHJpeD1mdW5jdGlvbihpKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5GcnVzdHVtOiAuc2V0RnJvbU1hdHJpeCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLnNldEZyb21Qcm9qZWN0aW9uTWF0cml4KCkuIiksdGhpcy5zZXRGcm9tUHJvamVjdGlvbk1hdHJpeChpKX0seHQucHJvdG90eXBlLmZsYXR0ZW5Ub0FycmF5T2Zmc2V0PWZ1bmN0aW9uKGksZSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuTWF0cml4MzogLmZsYXR0ZW5Ub0FycmF5T2Zmc2V0KCkgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC50b0FycmF5KCkgaW5zdGVhZC4iKSx0aGlzLnRvQXJyYXkoaSxlKX0seHQucHJvdG90eXBlLm11bHRpcGx5VmVjdG9yMz1mdW5jdGlvbihpKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5NYXRyaXgzOiAubXVsdGlwbHlWZWN0b3IzKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIHZlY3Rvci5hcHBseU1hdHJpeDMoIG1hdHJpeCApIGluc3RlYWQuIiksaS5hcHBseU1hdHJpeDModGhpcyl9LHh0LnByb3RvdHlwZS5tdWx0aXBseVZlY3RvcjNBcnJheT1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLk1hdHJpeDM6IC5tdWx0aXBseVZlY3RvcjNBcnJheSgpIGhhcyBiZWVuIHJlbW92ZWQuIil9LHh0LnByb3RvdHlwZS5hcHBseVRvQnVmZmVyQXR0cmlidXRlPWZ1bmN0aW9uKGkpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLk1hdHJpeDM6IC5hcHBseVRvQnVmZmVyQXR0cmlidXRlKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIGF0dHJpYnV0ZS5hcHBseU1hdHJpeDMoIG1hdHJpeCApIGluc3RlYWQuIiksaS5hcHBseU1hdHJpeDModGhpcyl9LHh0LnByb3RvdHlwZS5hcHBseVRvVmVjdG9yM0FycmF5PWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuTWF0cml4MzogLmFwcGx5VG9WZWN0b3IzQXJyYXkoKSBoYXMgYmVlbiByZW1vdmVkLiIpfSx4dC5wcm90b3R5cGUuZ2V0SW52ZXJzZT1mdW5jdGlvbihpKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5NYXRyaXgzOiAuZ2V0SW52ZXJzZSgpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBtYXRyaXhJbnYuY29weSggbWF0cml4ICkuaW52ZXJ0KCk7IGluc3RlYWQuIiksdGhpcy5jb3B5KGkpLmludmVydCgpfSxfZS5wcm90b3R5cGUuZXh0cmFjdFBvc2l0aW9uPWZ1bmN0aW9uKGkpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLk1hdHJpeDQ6IC5leHRyYWN0UG9zaXRpb24oKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5jb3B5UG9zaXRpb24oKS4iKSx0aGlzLmNvcHlQb3NpdGlvbihpKX0sX2UucHJvdG90eXBlLmZsYXR0ZW5Ub0FycmF5T2Zmc2V0PWZ1bmN0aW9uKGksZSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuTWF0cml4NDogLmZsYXR0ZW5Ub0FycmF5T2Zmc2V0KCkgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC50b0FycmF5KCkgaW5zdGVhZC4iKSx0aGlzLnRvQXJyYXkoaSxlKX0sX2UucHJvdG90eXBlLmdldFBvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuTWF0cml4NDogLmdldFBvc2l0aW9uKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIFZlY3RvcjMuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKCBtYXRyaXggKSBpbnN0ZWFkLiIpLG5ldyBFKCkuc2V0RnJvbU1hdHJpeENvbHVtbih0aGlzLDMpfSxfZS5wcm90b3R5cGUuc2V0Um90YXRpb25Gcm9tUXVhdGVybmlvbj1mdW5jdGlvbihpKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5NYXRyaXg0OiAuc2V0Um90YXRpb25Gcm9tUXVhdGVybmlvbigpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLm1ha2VSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKCkuIiksdGhpcy5tYWtlUm90YXRpb25Gcm9tUXVhdGVybmlvbihpKX0sX2UucHJvdG90eXBlLm11bHRpcGx5VG9BcnJheT1mdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuTWF0cml4NDogLm11bHRpcGx5VG9BcnJheSgpIGhhcyBiZWVuIHJlbW92ZWQuIil9LF9lLnByb3RvdHlwZS5tdWx0aXBseVZlY3RvcjM9ZnVuY3Rpb24oaSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuTWF0cml4NDogLm11bHRpcGx5VmVjdG9yMygpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSB2ZWN0b3IuYXBwbHlNYXRyaXg0KCBtYXRyaXggKSBpbnN0ZWFkLiIpLGkuYXBwbHlNYXRyaXg0KHRoaXMpfSxfZS5wcm90b3R5cGUubXVsdGlwbHlWZWN0b3I0PWZ1bmN0aW9uKGkpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLk1hdHJpeDQ6IC5tdWx0aXBseVZlY3RvcjQoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgdmVjdG9yLmFwcGx5TWF0cml4NCggbWF0cml4ICkgaW5zdGVhZC4iKSxpLmFwcGx5TWF0cml4NCh0aGlzKX0sX2UucHJvdG90eXBlLm11bHRpcGx5VmVjdG9yM0FycmF5PWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuTWF0cml4NDogLm11bHRpcGx5VmVjdG9yM0FycmF5KCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sX2UucHJvdG90eXBlLnJvdGF0ZUF4aXM9ZnVuY3Rpb24oaSl7Y29uc29sZS53YXJuKCJUSFJFRS5NYXRyaXg0OiAucm90YXRlQXhpcygpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBWZWN0b3IzLnRyYW5zZm9ybURpcmVjdGlvbiggbWF0cml4ICkgaW5zdGVhZC4iKSxpLnRyYW5zZm9ybURpcmVjdGlvbih0aGlzKX0sX2UucHJvdG90eXBlLmNyb3NzVmVjdG9yPWZ1bmN0aW9uKGkpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLk1hdHJpeDQ6IC5jcm9zc1ZlY3RvcigpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSB2ZWN0b3IuYXBwbHlNYXRyaXg0KCBtYXRyaXggKSBpbnN0ZWFkLiIpLGkuYXBwbHlNYXRyaXg0KHRoaXMpfSxfZS5wcm90b3R5cGUudHJhbnNsYXRlPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuTWF0cml4NDogLnRyYW5zbGF0ZSgpIGhhcyBiZWVuIHJlbW92ZWQuIil9LF9lLnByb3RvdHlwZS5yb3RhdGVYPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuTWF0cml4NDogLnJvdGF0ZVgoKSBoYXMgYmVlbiByZW1vdmVkLiIpfSxfZS5wcm90b3R5cGUucm90YXRlWT1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLk1hdHJpeDQ6IC5yb3RhdGVZKCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sX2UucHJvdG90eXBlLnJvdGF0ZVo9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5NYXRyaXg0OiAucm90YXRlWigpIGhhcyBiZWVuIHJlbW92ZWQuIil9LF9lLnByb3RvdHlwZS5yb3RhdGVCeUF4aXM9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5NYXRyaXg0OiAucm90YXRlQnlBeGlzKCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sX2UucHJvdG90eXBlLmFwcGx5VG9CdWZmZXJBdHRyaWJ1dGU9ZnVuY3Rpb24oaSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuTWF0cml4NDogLmFwcGx5VG9CdWZmZXJBdHRyaWJ1dGUoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgYXR0cmlidXRlLmFwcGx5TWF0cml4NCggbWF0cml4ICkgaW5zdGVhZC4iKSxpLmFwcGx5TWF0cml4NCh0aGlzKX0sX2UucHJvdG90eXBlLmFwcGx5VG9WZWN0b3IzQXJyYXk9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5NYXRyaXg0OiAuYXBwbHlUb1ZlY3RvcjNBcnJheSgpIGhhcyBiZWVuIHJlbW92ZWQuIil9LF9lLnByb3RvdHlwZS5tYWtlRnJ1c3R1bT1mdW5jdGlvbihpLGUsdCxyLHMsYSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuTWF0cml4NDogLm1ha2VGcnVzdHVtKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIC5tYWtlUGVyc3BlY3RpdmUoIGxlZnQsIHJpZ2h0LCB0b3AsIGJvdHRvbSwgbmVhciwgZmFyICkgaW5zdGVhZC4iKSx0aGlzLm1ha2VQZXJzcGVjdGl2ZShpLGUscix0LHMsYSl9LF9lLnByb3RvdHlwZS5nZXRJbnZlcnNlPWZ1bmN0aW9uKGkpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLk1hdHJpeDQ6IC5nZXRJbnZlcnNlKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIG1hdHJpeEludi5jb3B5KCBtYXRyaXggKS5pbnZlcnQoKTsgaW5zdGVhZC4iKSx0aGlzLmNvcHkoaSkuaW52ZXJ0KCl9LFRpLnByb3RvdHlwZS5pc0ludGVyc2VjdGlvbkxpbmU9ZnVuY3Rpb24oaSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuUGxhbmU6IC5pc0ludGVyc2VjdGlvbkxpbmUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5pbnRlcnNlY3RzTGluZSgpLiIpLHRoaXMuaW50ZXJzZWN0c0xpbmUoaSl9LFR0LnByb3RvdHlwZS5tdWx0aXBseVZlY3RvcjM9ZnVuY3Rpb24oaSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuUXVhdGVybmlvbjogLm11bHRpcGx5VmVjdG9yMygpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBpcyBub3cgdmVjdG9yLmFwcGx5UXVhdGVybmlvbiggcXVhdGVybmlvbiApIGluc3RlYWQuIiksaS5hcHBseVF1YXRlcm5pb24odGhpcyl9LFR0LnByb3RvdHlwZS5pbnZlcnNlPWZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuUXVhdGVybmlvbjogLmludmVyc2UoKSBoYXMgYmVlbiByZW5hbWVkIHRvIGludmVydCgpLiIpLHRoaXMuaW52ZXJ0KCl9LE9yLnByb3RvdHlwZS5pc0ludGVyc2VjdGlvbkJveD1mdW5jdGlvbihpKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5SYXk6IC5pc0ludGVyc2VjdGlvbkJveCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmludGVyc2VjdHNCb3goKS4iKSx0aGlzLmludGVyc2VjdHNCb3goaSl9LE9yLnByb3RvdHlwZS5pc0ludGVyc2VjdGlvblBsYW5lPWZ1bmN0aW9uKGkpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlJheTogLmlzSW50ZXJzZWN0aW9uUGxhbmUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5pbnRlcnNlY3RzUGxhbmUoKS4iKSx0aGlzLmludGVyc2VjdHNQbGFuZShpKX0sT3IucHJvdG90eXBlLmlzSW50ZXJzZWN0aW9uU3BoZXJlPWZ1bmN0aW9uKGkpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlJheTogLmlzSW50ZXJzZWN0aW9uU3BoZXJlKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuaW50ZXJzZWN0c1NwaGVyZSgpLiIpLHRoaXMuaW50ZXJzZWN0c1NwaGVyZShpKX0sYXQucHJvdG90eXBlLmFyZWE9ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5UcmlhbmdsZTogLmFyZWEoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXRBcmVhKCkuIiksdGhpcy5nZXRBcmVhKCl9LGF0LnByb3RvdHlwZS5iYXJ5Y29vcmRGcm9tUG9pbnQ9ZnVuY3Rpb24oaSxlKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5UcmlhbmdsZTogLmJhcnljb29yZEZyb21Qb2ludCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmdldEJhcnljb29yZCgpLiIpLHRoaXMuZ2V0QmFyeWNvb3JkKGksZSl9LGF0LnByb3RvdHlwZS5taWRwb2ludD1mdW5jdGlvbihpKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5UcmlhbmdsZTogLm1pZHBvaW50KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZ2V0TWlkcG9pbnQoKS4iKSx0aGlzLmdldE1pZHBvaW50KGkpfSxhdC5wcm90b3R5cGVub3JtYWw9ZnVuY3Rpb24oaSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuVHJpYW5nbGU6IC5ub3JtYWwoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXROb3JtYWwoKS4iKSx0aGlzLmdldE5vcm1hbChpKX0sYXQucHJvdG90eXBlLnBsYW5lPWZ1bmN0aW9uKGkpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlRyaWFuZ2xlOiAucGxhbmUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXRQbGFuZSgpLiIpLHRoaXMuZ2V0UGxhbmUoaSl9LGF0LmJhcnljb29yZEZyb21Qb2ludD1mdW5jdGlvbihpLGUsdCxyLHMpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlRyaWFuZ2xlOiAuYmFyeWNvb3JkRnJvbVBvaW50KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZ2V0QmFyeWNvb3JkKCkuIiksYXQuZ2V0QmFyeWNvb3JkKGksZSx0LHIscyl9LGF0Lm5vcm1hbD1mdW5jdGlvbihpLGUsdCxyKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5UcmlhbmdsZTogLm5vcm1hbCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmdldE5vcm1hbCgpLiIpLGF0LmdldE5vcm1hbChpLGUsdCxyKX0sa3MucHJvdG90eXBlLmV4dHJhY3RBbGxQb2ludHM9ZnVuY3Rpb24oaSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuU2hhcGU6IC5leHRyYWN0QWxsUG9pbnRzKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIC5leHRyYWN0UG9pbnRzKCkgaW5zdGVhZC4iKSx0aGlzLmV4dHJhY3RQb2ludHMoaSl9LGtzLnByb3RvdHlwZS5leHRydWRlPWZ1bmN0aW9uKGkpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlNoYXBlOiAuZXh0cnVkZSgpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBFeHRydWRlR2VvbWV0cnkoKSBpbnN0ZWFkLiIpLG5ldyB0cyh0aGlzLGkpfSxrcy5wcm90b3R5cGUubWFrZUdlb21ldHJ5PWZ1bmN0aW9uKGkpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlNoYXBlOiAubWFrZUdlb21ldHJ5KCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIFNoYXBlR2VvbWV0cnkoKSBpbnN0ZWFkLiIpLG5ldyBVbyh0aGlzLGkpfSxlZS5wcm90b3R5cGUuZnJvbUF0dHJpYnV0ZT1mdW5jdGlvbihpLGUsdCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yMjogLmZyb21BdHRyaWJ1dGUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5mcm9tQnVmZmVyQXR0cmlidXRlKCkuIiksdGhpcy5mcm9tQnVmZmVyQXR0cmlidXRlKGksZSx0KX0sZWUucHJvdG90eXBlLmRpc3RhbmNlVG9NYW5oYXR0YW49ZnVuY3Rpb24oaSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yMjogLmRpc3RhbmNlVG9NYW5oYXR0YW4oKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5tYW5oYXR0YW5EaXN0YW5jZVRvKCkuIiksdGhpcy5tYW5oYXR0YW5EaXN0YW5jZVRvKGkpfSxlZS5wcm90b3R5cGUubGVuZ3RoTWFuaGF0dGFuPWZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yMjogLmxlbmd0aE1hbmhhdHRhbigpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLm1hbmhhdHRhbkxlbmd0aCgpLiIpLHRoaXMubWFuaGF0dGFuTGVuZ3RoKCl9LEUucHJvdG90eXBlLnNldEV1bGVyRnJvbVJvdGF0aW9uTWF0cml4PWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuVmVjdG9yMzogLnNldEV1bGVyRnJvbVJvdGF0aW9uTWF0cml4KCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIEV1bGVyLnNldEZyb21Sb3RhdGlvbk1hdHJpeCgpIGluc3RlYWQuIil9LEUucHJvdG90eXBlLnNldEV1bGVyRnJvbVF1YXRlcm5pb249ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5WZWN0b3IzOiAuc2V0RXVsZXJGcm9tUXVhdGVybmlvbigpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBFdWxlci5zZXRGcm9tUXVhdGVybmlvbigpIGluc3RlYWQuIil9LEUucHJvdG90eXBlLmdldFBvc2l0aW9uRnJvbU1hdHJpeD1mdW5jdGlvbihpKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5WZWN0b3IzOiAuZ2V0UG9zaXRpb25Gcm9tTWF0cml4KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKCkuIiksdGhpcy5zZXRGcm9tTWF0cml4UG9zaXRpb24oaSl9LEUucHJvdG90eXBlLmdldFNjYWxlRnJvbU1hdHJpeD1mdW5jdGlvbihpKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5WZWN0b3IzOiAuZ2V0U2NhbGVGcm9tTWF0cml4KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuc2V0RnJvbU1hdHJpeFNjYWxlKCkuIiksdGhpcy5zZXRGcm9tTWF0cml4U2NhbGUoaSl9LEUucHJvdG90eXBlLmdldENvbHVtbkZyb21NYXRyaXg9ZnVuY3Rpb24oaSxlKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5WZWN0b3IzOiAuZ2V0Q29sdW1uRnJvbU1hdHJpeCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLnNldEZyb21NYXRyaXhDb2x1bW4oKS4iKSx0aGlzLnNldEZyb21NYXRyaXhDb2x1bW4oZSxpKX0sRS5wcm90b3R5cGUuYXBwbHlQcm9qZWN0aW9uPWZ1bmN0aW9uKGkpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlZlY3RvcjM6IC5hcHBseVByb2plY3Rpb24oKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgLmFwcGx5TWF0cml4NCggbSApIGluc3RlYWQuIiksdGhpcy5hcHBseU1hdHJpeDQoaSl9LEUucHJvdG90eXBlLmZyb21BdHRyaWJ1dGU9ZnVuY3Rpb24oaSxlLHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlZlY3RvcjM6IC5mcm9tQXR0cmlidXRlKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZnJvbUJ1ZmZlckF0dHJpYnV0ZSgpLiIpLHRoaXMuZnJvbUJ1ZmZlckF0dHJpYnV0ZShpLGUsdCl9LEUucHJvdG90eXBlLmRpc3RhbmNlVG9NYW5oYXR0YW49ZnVuY3Rpb24oaSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yMzogLmRpc3RhbmNlVG9NYW5oYXR0YW4oKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5tYW5oYXR0YW5EaXN0YW5jZVRvKCkuIiksdGhpcy5tYW5oYXR0YW5EaXN0YW5jZVRvKGkpfSxFLnByb3RvdHlwZS5sZW5ndGhNYW5oYXR0YW49ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5WZWN0b3IzOiAubGVuZ3RoTWFuaGF0dGFuKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAubWFuaGF0dGFuTGVuZ3RoKCkuIiksdGhpcy5tYW5oYXR0YW5MZW5ndGgoKX0sWGUucHJvdG90eXBlLmZyb21BdHRyaWJ1dGU9ZnVuY3Rpb24oaSxlLHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlZlY3RvcjQ6IC5mcm9tQXR0cmlidXRlKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZnJvbUJ1ZmZlckF0dHJpYnV0ZSgpLiIpLHRoaXMuZnJvbUJ1ZmZlckF0dHJpYnV0ZShpLGUsdCl9LFhlLnByb3RvdHlwZS5sZW5ndGhNYW5oYXR0YW49ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5WZWN0b3I0OiAubGVuZ3RoTWFuaGF0dGFuKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAubWFuaGF0dGFuTGVuZ3RoKCkuIiksdGhpcy5tYW5oYXR0YW5MZW5ndGgoKX0samUucHJvdG90eXBlLmdldENoaWxkQnlOYW1lPWZ1bmN0aW9uKGkpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLk9iamVjdDNEOiAuZ2V0Q2hpbGRCeU5hbWUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXRPYmplY3RCeU5hbWUoKS4iKSx0aGlzLmdldE9iamVjdEJ5TmFtZShpKX0samUucHJvdG90eXBlLnJlbmRlckRlcHRoPWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5PYmplY3QzRDogLnJlbmRlckRlcHRoIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSAucmVuZGVyT3JkZXIsIGluc3RlYWQuIil9LGplLnByb3RvdHlwZS50cmFuc2xhdGU9ZnVuY3Rpb24oaSxlKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5PYmplY3QzRDogLnRyYW5zbGF0ZSgpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSAudHJhbnNsYXRlT25BeGlzKCBheGlzLCBkaXN0YW5jZSApIGluc3RlYWQuIiksdGhpcy50cmFuc2xhdGVPbkF4aXMoZSxpKX0samUucHJvdG90eXBlLmdldFdvcmxkUm90YXRpb249ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5PYmplY3QzRDogLmdldFdvcmxkUm90YXRpb24oKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgVEhSRUUuT2JqZWN0M0QuZ2V0V29ybGRRdWF0ZXJuaW9uKCB0YXJnZXQgKSBpbnN0ZWFkLiIpfSxqZS5wcm90b3R5cGUuYXBwbHlNYXRyaXg9ZnVuY3Rpb24oaSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuT2JqZWN0M0Q6IC5hcHBseU1hdHJpeCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmFwcGx5TWF0cml4NCgpLiIpLHRoaXMuYXBwbHlNYXRyaXg0KGkpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhqZS5wcm90b3R5cGUse2V1bGVyT3JkZXI6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLk9iamVjdDNEOiAuZXVsZXJPcmRlciBpcyBub3cgLnJvdGF0aW9uLm9yZGVyLiIpLHRoaXMucm90YXRpb24ub3JkZXJ9LHNldDpmdW5jdGlvbihpKXtjb25zb2xlLndhcm4oIlRIUkVFLk9iamVjdDNEOiAuZXVsZXJPcmRlciBpcyBub3cgLnJvdGF0aW9uLm9yZGVyLiIpLHRoaXMucm90YXRpb24ub3JkZXI9aX19LHVzZVF1YXRlcm5pb246e2dldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuT2JqZWN0M0Q6IC51c2VRdWF0ZXJuaW9uIGhhcyBiZWVuIHJlbW92ZWQuIFRoZSBsaWJyYXJ5IG5vdyB1c2VzIHF1YXRlcm5pb25zIGJ5IGRlZmF1bHQuIil9LHNldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuT2JqZWN0M0Q6IC51c2VRdWF0ZXJuaW9uIGhhcyBiZWVuIHJlbW92ZWQuIFRoZSBsaWJyYXJ5IG5vdyB1c2VzIHF1YXRlcm5pb25zIGJ5IGRlZmF1bHQuIil9fX0pLE50LnByb3RvdHlwZS5zZXREcmF3TW9kZT1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLk1lc2g6IC5zZXREcmF3TW9kZSgpIGhhcyBiZWVuIHJlbW92ZWQuIFRoZSByZW5kZXJlciBub3cgYWx3YXlzIGFzc3VtZXMgVEhSRUUuVHJpYW5nbGVzRHJhd01vZGUuIFRyYW5zZm9ybSB5b3VyIGdlb21ldHJ5IHZpYSBCdWZmZXJHZW9tZXRyeVV0aWxzLnRvVHJpYW5nbGVzRHJhd01vZGUoKSBpZiBuZWNlc3NhcnkuIil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKE50LnByb3RvdHlwZSx7ZHJhd01vZGU6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLmVycm9yKCJUSFJFRS5NZXNoOiAuZHJhd01vZGUgaGFzIGJlZW4gcmVtb3ZlZC4gVGhlIHJlbmRlcmVyIG5vdyBhbHdheXMgYXNzdW1lcyBUSFJFRS5UcmlhbmdsZXNEcmF3TW9kZS4iKSxWZ30sc2V0OmZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuTWVzaDogLmRyYXdNb2RlIGhhcyBiZWVuIHJlbW92ZWQuIFRoZSByZW5kZXJlciBub3cgYWx3YXlzIGFzc3VtZXMgVEhSRUUuVHJpYW5nbGVzRHJhd01vZGUuIFRyYW5zZm9ybSB5b3VyIGdlb21ldHJ5IHZpYSBCdWZmZXJHZW9tZXRyeVV0aWxzLnRvVHJpYW5nbGVzRHJhd01vZGUoKSBpZiBuZWNlc3NhcnkuIil9fX0pLGJjLnByb3RvdHlwZS5pbml0Qm9uZXM9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5Ta2lubmVkTWVzaDogaW5pdEJvbmVzKCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sRHQucHJvdG90eXBlLnNldExlbnM9ZnVuY3Rpb24oaSxlKXtjb25zb2xlLndhcm4oIlRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhLnNldExlbnMgaXMgZGVwcmVjYXRlZC4gVXNlIC5zZXRGb2NhbExlbmd0aCBhbmQgLmZpbG1HYXVnZSBmb3IgYSBwaG90b2dyYXBoaWMgc2V0dXAuIiksZSE9PXZvaWQgMCYmKHRoaXMuZmlsbUdhdWdlPWUpLHRoaXMuc2V0Rm9jYWxMZW5ndGgoaSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG9pLnByb3RvdHlwZSx7b25seVNoYWRvdzp7c2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5MaWdodDogLm9ubHlTaGFkb3cgaGFzIGJlZW4gcmVtb3ZlZC4iKX19LHNoYWRvd0NhbWVyYUZvdjp7c2V0OmZ1bmN0aW9uKGkpe2NvbnNvbGUud2FybigiVEhSRUUuTGlnaHQ6IC5zaGFkb3dDYW1lcmFGb3YgaXMgbm93IC5zaGFkb3cuY2FtZXJhLmZvdi4iKSx0aGlzLnNoYWRvdy5jYW1lcmEuZm92PWl9fSxzaGFkb3dDYW1lcmFMZWZ0OntzZXQ6ZnVuY3Rpb24oaSl7Y29uc29sZS53YXJuKCJUSFJFRS5MaWdodDogLnNoYWRvd0NhbWVyYUxlZnQgaXMgbm93IC5zaGFkb3cuY2FtZXJhLmxlZnQuIiksdGhpcy5zaGFkb3cuY2FtZXJhLmxlZnQ9aX19LHNoYWRvd0NhbWVyYVJpZ2h0OntzZXQ6ZnVuY3Rpb24oaSl7Y29uc29sZS53YXJuKCJUSFJFRS5MaWdodDogLnNoYWRvd0NhbWVyYVJpZ2h0IGlzIG5vdyAuc2hhZG93LmNhbWVyYS5yaWdodC4iKSx0aGlzLnNoYWRvdy5jYW1lcmEucmlnaHQ9aX19LHNoYWRvd0NhbWVyYVRvcDp7c2V0OmZ1bmN0aW9uKGkpe2NvbnNvbGUud2FybigiVEhSRUUuTGlnaHQ6IC5zaGFkb3dDYW1lcmFUb3AgaXMgbm93IC5zaGFkb3cuY2FtZXJhLnRvcC4iKSx0aGlzLnNoYWRvdy5jYW1lcmEudG9wPWl9fSxzaGFkb3dDYW1lcmFCb3R0b206e3NldDpmdW5jdGlvbihpKXtjb25zb2xlLndhcm4oIlRIUkVFLkxpZ2h0OiAuc2hhZG93Q2FtZXJhQm90dG9tIGlzIG5vdyAuc2hhZG93LmNhbWVyYS5ib3R0b20uIiksdGhpcy5zaGFkb3cuY2FtZXJhLmJvdHRvbT1pfX0sc2hhZG93Q2FtZXJhTmVhcjp7c2V0OmZ1bmN0aW9uKGkpe2NvbnNvbGUud2FybigiVEhSRUUuTGlnaHQ6IC5zaGFkb3dDYW1lcmFOZWFyIGlzIG5vdyAuc2hhZG93LmNhbWVyYS5uZWFyLiIpLHRoaXMuc2hhZG93LmNhbWVyYS5uZWFyPWl9fSxzaGFkb3dDYW1lcmFGYXI6e3NldDpmdW5jdGlvbihpKXtjb25zb2xlLndhcm4oIlRIUkVFLkxpZ2h0OiAuc2hhZG93Q2FtZXJhRmFyIGlzIG5vdyAuc2hhZG93LmNhbWVyYS5mYXIuIiksdGhpcy5zaGFkb3cuY2FtZXJhLmZhcj1pfX0sc2hhZG93Q2FtZXJhVmlzaWJsZTp7c2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5MaWdodDogLnNoYWRvd0NhbWVyYVZpc2libGUgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIG5ldyBUSFJFRS5DYW1lcmFIZWxwZXIoIGxpZ2h0LnNoYWRvdy5jYW1lcmEgKSBpbnN0ZWFkLiIpfX0sc2hhZG93Qmlhczp7c2V0OmZ1bmN0aW9uKGkpe2NvbnNvbGUud2FybigiVEhSRUUuTGlnaHQ6IC5zaGFkb3dCaWFzIGlzIG5vdyAuc2hhZG93LmJpYXMuIiksdGhpcy5zaGFkb3cuYmlhcz1pfX0sc2hhZG93RGFya25lc3M6e3NldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuTGlnaHQ6IC5zaGFkb3dEYXJrbmVzcyBoYXMgYmVlbiByZW1vdmVkLiIpfX0sc2hhZG93TWFwV2lkdGg6e3NldDpmdW5jdGlvbihpKXtjb25zb2xlLndhcm4oIlRIUkVFLkxpZ2h0OiAuc2hhZG93TWFwV2lkdGggaXMgbm93IC5zaGFkb3cubWFwU2l6ZS53aWR0aC4iKSx0aGlzLnNoYWRvdy5tYXBTaXplLndpZHRoPWl9fSxzaGFkb3dNYXBIZWlnaHQ6e3NldDpmdW5jdGlvbihpKXtjb25zb2xlLndhcm4oIlRIUkVFLkxpZ2h0OiAuc2hhZG93TWFwSGVpZ2h0IGlzIG5vdyAuc2hhZG93Lm1hcFNpemUuaGVpZ2h0LiIpLHRoaXMuc2hhZG93Lm1hcFNpemUuaGVpZ2h0PWl9fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGN0LnByb3RvdHlwZSx7bGVuZ3RoOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5CdWZmZXJBdHRyaWJ1dGU6IC5sZW5ndGggaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5jb3VudCBpbnN0ZWFkLiIpLHRoaXMuYXJyYXkubGVuZ3RofX0sZHluYW1pYzp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuQnVmZmVyQXR0cmlidXRlOiAuZHluYW1pYyBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLnVzYWdlIGluc3RlYWQuIiksdGhpcy51c2FnZT09PWdhfSxzZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLkJ1ZmZlckF0dHJpYnV0ZTogLmR5bmFtaWMgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC51c2FnZSBpbnN0ZWFkLiIpLHRoaXMuc2V0VXNhZ2UoZ2EpfX19KSxjdC5wcm90b3R5cGUuc2V0RHluYW1pYz1mdW5jdGlvbihpKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5CdWZmZXJBdHRyaWJ1dGU6IC5zZXREeW5hbWljKCkgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5zZXRVc2FnZSgpIGluc3RlYWQuIiksdGhpcy5zZXRVc2FnZShpPT09ITA/Z2E6RXMpLHRoaXN9LGN0LnByb3RvdHlwZS5jb3B5SW5kaWNlc0FycmF5PWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuQnVmZmVyQXR0cmlidXRlOiAuY29weUluZGljZXNBcnJheSgpIGhhcyBiZWVuIHJlbW92ZWQuIil9LGN0LnByb3RvdHlwZS5zZXRBcnJheT1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLkJ1ZmZlckF0dHJpYnV0ZTogLnNldEFycmF5IGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBCdWZmZXJHZW9tZXRyeSAuc2V0QXR0cmlidXRlIHRvIHJlcGxhY2UvcmVzaXplIGF0dHJpYnV0ZSBidWZmZXJzIil9LCRlLnByb3RvdHlwZS5hZGRJbmRleD1mdW5jdGlvbihpKXtjb25zb2xlLndhcm4oIlRIUkVFLkJ1ZmZlckdlb21ldHJ5OiAuYWRkSW5kZXgoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5zZXRJbmRleCgpLiIpLHRoaXMuc2V0SW5kZXgoaSl9LCRlLnByb3RvdHlwZS5hZGRBdHRyaWJ1dGU9ZnVuY3Rpb24oaSxlKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5CdWZmZXJHZW9tZXRyeTogLmFkZEF0dHJpYnV0ZSgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLnNldEF0dHJpYnV0ZSgpLiIpLCEoZSYmZS5pc0J1ZmZlckF0dHJpYnV0ZSkmJiEoZSYmZS5pc0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlKT8oY29uc29sZS53YXJuKCJUSFJFRS5CdWZmZXJHZW9tZXRyeTogLmFkZEF0dHJpYnV0ZSgpIG5vdyBleHBlY3RzICggbmFtZSwgYXR0cmlidXRlICkuIiksdGhpcy5zZXRBdHRyaWJ1dGUoaSxuZXcgY3QoYXJndW1lbnRzWzFdLGFyZ3VtZW50c1syXSkpKTppPT09ImluZGV4Ij8oY29uc29sZS53YXJuKCJUSFJFRS5CdWZmZXJHZW9tZXRyeS5hZGRBdHRyaWJ1dGU6IFVzZSAuc2V0SW5kZXgoKSBmb3IgaW5kZXggYXR0cmlidXRlLiIpLHRoaXMuc2V0SW5kZXgoZSksdGhpcyk6dGhpcy5zZXRBdHRyaWJ1dGUoaSxlKX0sJGUucHJvdG90eXBlLmFkZERyYXdDYWxsPWZ1bmN0aW9uKGksZSx0KXt0IT09dm9pZCAwJiZjb25zb2xlLndhcm4oIlRIUkVFLkJ1ZmZlckdlb21ldHJ5OiAuYWRkRHJhd0NhbGwoKSBubyBsb25nZXIgc3VwcG9ydHMgaW5kZXhPZmZzZXQuIiksY29uc29sZS53YXJuKCJUSFJFRS5CdWZmZXJHZW9tZXRyeTogLmFkZERyYXdDYWxsKCkgaXMgbm93IC5hZGRHcm91cCgpLiIpLHRoaXMuYWRkR3JvdXAoaSxlKX0sJGUucHJvdG90eXBlLmNsZWFyRHJhd0NhbGxzPWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5CdWZmZXJHZW9tZXRyeTogLmNsZWFyRHJhd0NhbGxzKCkgaXMgbm93IC5jbGVhckdyb3VwcygpLiIpLHRoaXMuY2xlYXJHcm91cHMoKX0sJGUucHJvdG90eXBlLmNvbXB1dGVPZmZzZXRzPWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5CdWZmZXJHZW9tZXRyeTogLmNvbXB1dGVPZmZzZXRzKCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sJGUucHJvdG90eXBlLnJlbW92ZUF0dHJpYnV0ZT1mdW5jdGlvbihpKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5CdWZmZXJHZW9tZXRyeTogLnJlbW92ZUF0dHJpYnV0ZSgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmRlbGV0ZUF0dHJpYnV0ZSgpLiIpLHRoaXMuZGVsZXRlQXR0cmlidXRlKGkpfSwkZS5wcm90b3R5cGUuYXBwbHlNYXRyaXg9ZnVuY3Rpb24oaSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuQnVmZmVyR2VvbWV0cnk6IC5hcHBseU1hdHJpeCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmFwcGx5TWF0cml4NCgpLiIpLHRoaXMuYXBwbHlNYXRyaXg0KGkpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcygkZS5wcm90b3R5cGUse2RyYXdjYWxsczp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUuZXJyb3IoIlRIUkVFLkJ1ZmZlckdlb21ldHJ5OiAuZHJhd2NhbGxzIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmdyb3Vwcy4iKSx0aGlzLmdyb3Vwc319LG9mZnNldHM6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkJ1ZmZlckdlb21ldHJ5OiAub2Zmc2V0cyBoYXMgYmVlbiByZW5hbWVkIHRvIC5ncm91cHMuIiksdGhpcy5ncm91cHN9fX0pLE5zLnByb3RvdHlwZS5zZXREeW5hbWljPWZ1bmN0aW9uKGkpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkludGVybGVhdmVkQnVmZmVyOiAuc2V0RHluYW1pYygpIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuc2V0VXNhZ2UoKSBpbnN0ZWFkLiIpLHRoaXMuc2V0VXNhZ2UoaT09PSEwP2dhOkVzKSx0aGlzfSxOcy5wcm90b3R5cGUuc2V0QXJyYXk9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5JbnRlcmxlYXZlZEJ1ZmZlcjogLnNldEFycmF5IGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBCdWZmZXJHZW9tZXRyeSAuc2V0QXR0cmlidXRlIHRvIHJlcGxhY2UvcmVzaXplIGF0dHJpYnV0ZSBidWZmZXJzIil9LHRzLnByb3RvdHlwZS5nZXRBcnJheXM9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5FeHRydWRlR2VvbWV0cnk6IC5nZXRBcnJheXMoKSBoYXMgYmVlbiByZW1vdmVkLiIpfSx0cy5wcm90b3R5cGUuYWRkU2hhcGVMaXN0PWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuRXh0cnVkZUdlb21ldHJ5OiAuYWRkU2hhcGVMaXN0KCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sdHMucHJvdG90eXBlLmFkZFNoYXBlPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuRXh0cnVkZUdlb21ldHJ5OiAuYWRkU2hhcGUoKSBoYXMgYmVlbiByZW1vdmVkLiIpfSxmYy5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLlNjZW5lOiAuZGlzcG9zZSgpIGhhcyBiZWVuIHJlbW92ZWQuIil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGx0LnByb3RvdHlwZSx7d3JhcEFyb3VuZDp7Z2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5NYXRlcmlhbDogLndyYXBBcm91bmQgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sc2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5NYXRlcmlhbDogLndyYXBBcm91bmQgaGFzIGJlZW4gcmVtb3ZlZC4iKX19LG92ZXJkcmF3OntnZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLk1hdGVyaWFsOiAub3ZlcmRyYXcgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sc2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5NYXRlcmlhbDogLm92ZXJkcmF3IGhhcyBiZWVuIHJlbW92ZWQuIil9fSx3cmFwUkdCOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5NYXRlcmlhbDogLndyYXBSR0IgaGFzIGJlZW4gcmVtb3ZlZC4iKSxuZXcgZ2V9fSxzaGFkaW5nOntnZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS4iK3RoaXMudHlwZSsiOiAuc2hhZGluZyBoYXMgYmVlbiByZW1vdmVkLiBVc2UgdGhlIGJvb2xlYW4gLmZsYXRTaGFkaW5nIGluc3RlYWQuIil9LHNldDpmdW5jdGlvbihpKXtjb25zb2xlLndhcm4oIlRIUkVFLiIrdGhpcy50eXBlKyI6IC5zaGFkaW5nIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSB0aGUgYm9vbGVhbiAuZmxhdFNoYWRpbmcgaW5zdGVhZC4iKSx0aGlzLmZsYXRTaGFkaW5nPWk9PT16aH19LHN0ZW5jaWxNYXNrOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS4iK3RoaXMudHlwZSsiOiAuc3RlbmNpbE1hc2sgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIC5zdGVuY2lsRnVuY01hc2sgaW5zdGVhZC4iKSx0aGlzLnN0ZW5jaWxGdW5jTWFza30sc2V0OmZ1bmN0aW9uKGkpe2NvbnNvbGUud2FybigiVEhSRUUuIit0aGlzLnR5cGUrIjogLnN0ZW5jaWxNYXNrIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSAuc3RlbmNpbEZ1bmNNYXNrIGluc3RlYWQuIiksdGhpcy5zdGVuY2lsRnVuY01hc2s9aX19LHZlcnRleFRhbmdlbnRzOntnZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLiIrdGhpcy50eXBlKyI6IC52ZXJ0ZXhUYW5nZW50cyBoYXMgYmVlbiByZW1vdmVkLiIpfSxzZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLiIrdGhpcy50eXBlKyI6IC52ZXJ0ZXhUYW5nZW50cyBoYXMgYmVlbiByZW1vdmVkLiIpfX19KSxPYmplY3QuZGVmaW5lUHJvcGVydGllcygkdC5wcm90b3R5cGUse2Rlcml2YXRpdmVzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5TaGFkZXJNYXRlcmlhbDogLmRlcml2YXRpdmVzIGhhcyBiZWVuIG1vdmVkIHRvIC5leHRlbnNpb25zLmRlcml2YXRpdmVzLiIpLHRoaXMuZXh0ZW5zaW9ucy5kZXJpdmF0aXZlc30sc2V0OmZ1bmN0aW9uKGkpe2NvbnNvbGUud2FybigiVEhSRUUuIFNoYWRlck1hdGVyaWFsOiAuZGVyaXZhdGl2ZXMgaGFzIGJlZW4gbW92ZWQgdG8gLmV4dGVuc2lvbnMuZGVyaXZhdGl2ZXMuIiksdGhpcy5leHRlbnNpb25zLmRlcml2YXRpdmVzPWl9fX0pLEplLnByb3RvdHlwZS5jbGVhclRhcmdldD1mdW5jdGlvbihpLGUsdCxyKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5jbGVhclRhcmdldCgpIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuc2V0UmVuZGVyVGFyZ2V0KCkgYW5kIC5jbGVhcigpIGluc3RlYWQuIiksdGhpcy5zZXRSZW5kZXJUYXJnZXQoaSksdGhpcy5jbGVhcihlLHQscil9LEplLnByb3RvdHlwZS5hbmltYXRlPWZ1bmN0aW9uKGkpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmFuaW1hdGUoKSBpcyBub3cgLnNldEFuaW1hdGlvbkxvb3AoKS4iKSx0aGlzLnNldEFuaW1hdGlvbkxvb3AoaSl9LEplLnByb3RvdHlwZS5nZXRDdXJyZW50UmVuZGVyVGFyZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmdldEN1cnJlbnRSZW5kZXJUYXJnZXQoKSBpcyBub3cgLmdldFJlbmRlclRhcmdldCgpLiIpLHRoaXMuZ2V0UmVuZGVyVGFyZ2V0KCl9LEplLnByb3RvdHlwZS5nZXRNYXhBbmlzb3Ryb3B5PWZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmdldE1heEFuaXNvdHJvcHkoKSBpcyBub3cgLmNhcGFiaWxpdGllcy5nZXRNYXhBbmlzb3Ryb3B5KCkuIiksdGhpcy5jYXBhYmlsaXRpZXMuZ2V0TWF4QW5pc290cm9weSgpfSxKZS5wcm90b3R5cGUuZ2V0UHJlY2lzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmdldFByZWNpc2lvbigpIGlzIG5vdyAuY2FwYWJpbGl0aWVzLnByZWNpc2lvbi4iKSx0aGlzLmNhcGFiaWxpdGllcy5wcmVjaXNpb259LEplLnByb3RvdHlwZS5yZXNldEdMU3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAucmVzZXRHTFN0YXRlKCkgaXMgbm93IC5zdGF0ZS5yZXNldCgpLiIpLHRoaXMuc3RhdGUucmVzZXQoKX0sSmUucHJvdG90eXBlLnN1cHBvcnRzRmxvYXRUZXh0dXJlcz1mdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zdXBwb3J0c0Zsb2F0VGV4dHVyZXMoKSBpcyBub3cgLmV4dGVuc2lvbnMuZ2V0KCAnT0VTX3RleHR1cmVfZmxvYXQnICkuIiksdGhpcy5leHRlbnNpb25zLmdldCgiT0VTX3RleHR1cmVfZmxvYXQiKX0sSmUucHJvdG90eXBlLnN1cHBvcnRzSGFsZkZsb2F0VGV4dHVyZXM9ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc3VwcG9ydHNIYWxmRmxvYXRUZXh0dXJlcygpIGlzIG5vdyAuZXh0ZW5zaW9ucy5nZXQoICdPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0JyApLiIpLHRoaXMuZXh0ZW5zaW9ucy5nZXQoIk9FU190ZXh0dXJlX2hhbGZfZmxvYXQiKX0sSmUucHJvdG90eXBlLnN1cHBvcnRzU3RhbmRhcmREZXJpdmF0aXZlcz1mdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zdXBwb3J0c1N0YW5kYXJkRGVyaXZhdGl2ZXMoKSBpcyBub3cgLmV4dGVuc2lvbnMuZ2V0KCAnT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzJyApLiIpLHRoaXMuZXh0ZW5zaW9ucy5nZXQoIk9FU19zdGFuZGFyZF9kZXJpdmF0aXZlcyIpfSxKZS5wcm90b3R5cGUuc3VwcG9ydHNDb21wcmVzc2VkVGV4dHVyZVMzVEM9ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc3VwcG9ydHNDb21wcmVzc2VkVGV4dHVyZVMzVEMoKSBpcyBub3cgLmV4dGVuc2lvbnMuZ2V0KCAnV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGMnICkuIiksdGhpcy5leHRlbnNpb25zLmdldCgiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGMiKX0sSmUucHJvdG90eXBlLnN1cHBvcnRzQ29tcHJlc3NlZFRleHR1cmVQVlJUQz1mdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zdXBwb3J0c0NvbXByZXNzZWRUZXh0dXJlUFZSVEMoKSBpcyBub3cgLmV4dGVuc2lvbnMuZ2V0KCAnV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjJyApLiIpLHRoaXMuZXh0ZW5zaW9ucy5nZXQoIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0YyIpfSxKZS5wcm90b3R5cGUuc3VwcG9ydHNCbGVuZE1pbk1heD1mdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zdXBwb3J0c0JsZW5kTWluTWF4KCkgaXMgbm93IC5leHRlbnNpb25zLmdldCggJ0VYVF9ibGVuZF9taW5tYXgnICkuIiksdGhpcy5leHRlbnNpb25zLmdldCgiRVhUX2JsZW5kX21pbm1heCIpfSxKZS5wcm90b3R5cGUuc3VwcG9ydHNWZXJ0ZXhUZXh0dXJlcz1mdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zdXBwb3J0c1ZlcnRleFRleHR1cmVzKCkgaXMgbm93IC5jYXBhYmlsaXRpZXMudmVydGV4VGV4dHVyZXMuIiksdGhpcy5jYXBhYmlsaXRpZXMudmVydGV4VGV4dHVyZXN9LEplLnByb3RvdHlwZS5zdXBwb3J0c0luc3RhbmNlZEFycmF5cz1mdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zdXBwb3J0c0luc3RhbmNlZEFycmF5cygpIGlzIG5vdyAuZXh0ZW5zaW9ucy5nZXQoICdBTkdMRV9pbnN0YW5jZWRfYXJyYXlzJyApLiIpLHRoaXMuZXh0ZW5zaW9ucy5nZXQoIkFOR0xFX2luc3RhbmNlZF9hcnJheXMiKX0sSmUucHJvdG90eXBlLmVuYWJsZVNjaXNzb3JUZXN0PWZ1bmN0aW9uKGkpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmVuYWJsZVNjaXNzb3JUZXN0KCkgaXMgbm93IC5zZXRTY2lzc29yVGVzdCgpLiIpLHRoaXMuc2V0U2Npc3NvclRlc3QoaSl9LEplLnByb3RvdHlwZS5pbml0TWF0ZXJpYWw9ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5pbml0TWF0ZXJpYWwoKSBoYXMgYmVlbiByZW1vdmVkLiIpfSxKZS5wcm90b3R5cGUuYWRkUHJlUGx1Z2luPWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuYWRkUHJlUGx1Z2luKCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sSmUucHJvdG90eXBlLmFkZFBvc3RQbHVnaW49ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5hZGRQb3N0UGx1Z2luKCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sSmUucHJvdG90eXBlLnVwZGF0ZVNoYWRvd01hcD1mdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnVwZGF0ZVNoYWRvd01hcCgpIGhhcyBiZWVuIHJlbW92ZWQuIil9LEplLnByb3RvdHlwZS5zZXRGYWNlQ3VsbGluZz1mdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnNldEZhY2VDdWxsaW5nKCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sSmUucHJvdG90eXBlLmFsbG9jVGV4dHVyZVVuaXQ9ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5hbGxvY1RleHR1cmVVbml0KCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sSmUucHJvdG90eXBlLnNldFRleHR1cmU9ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zZXRUZXh0dXJlKCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sSmUucHJvdG90eXBlLnNldFRleHR1cmUyRD1mdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnNldFRleHR1cmUyRCgpIGhhcyBiZWVuIHJlbW92ZWQuIil9LEplLnByb3RvdHlwZS5zZXRUZXh0dXJlQ3ViZT1mdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnNldFRleHR1cmVDdWJlKCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sSmUucHJvdG90eXBlLmdldEFjdGl2ZU1pcE1hcExldmVsPWZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmdldEFjdGl2ZU1pcE1hcExldmVsKCkgaXMgbm93IC5nZXRBY3RpdmVNaXBtYXBMZXZlbCgpLiIpLHRoaXMuZ2V0QWN0aXZlTWlwbWFwTGV2ZWwoKX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoSmUucHJvdG90eXBlLHtzaGFkb3dNYXBFbmFibGVkOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaGFkb3dNYXAuZW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGkpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnNoYWRvd01hcEVuYWJsZWQgaXMgbm93IC5zaGFkb3dNYXAuZW5hYmxlZC4iKSx0aGlzLnNoYWRvd01hcC5lbmFibGVkPWl9fSxzaGFkb3dNYXBUeXBlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaGFkb3dNYXAudHlwZX0sc2V0OmZ1bmN0aW9uKGkpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnNoYWRvd01hcFR5cGUgaXMgbm93IC5zaGFkb3dNYXAudHlwZS4iKSx0aGlzLnNoYWRvd01hcC50eXBlPWl9fSxzaGFkb3dNYXBDdWxsRmFjZTp7Z2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc2hhZG93TWFwQ3VsbEZhY2UgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IE1hdGVyaWFsLnNoYWRvd1NpZGUgaW5zdGVhZC4iKX0sc2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc2hhZG93TWFwQ3VsbEZhY2UgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IE1hdGVyaWFsLnNoYWRvd1NpZGUgaW5zdGVhZC4iKX19LGNvbnRleHQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5jb250ZXh0IGhhcyBiZWVuIHJlbW92ZWQuIFVzZSAuZ2V0Q29udGV4dCgpIGluc3RlYWQuIiksdGhpcy5nZXRDb250ZXh0KCl9fSx2cjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnZyIGhhcyBiZWVuIHJlbmFtZWQgdG8gLnhyIiksdGhpcy54cn19LGdhbW1hSW5wdXQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5nYW1tYUlucHV0IGhhcyBiZWVuIHJlbW92ZWQuIFNldCB0aGUgZW5jb2RpbmcgZm9yIHRleHR1cmVzIHZpYSBUZXh0dXJlLmVuY29kaW5nIGluc3RlYWQuIiksITF9LHNldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmdhbW1hSW5wdXQgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IHRoZSBlbmNvZGluZyBmb3IgdGV4dHVyZXMgdmlhIFRleHR1cmUuZW5jb2RpbmcgaW5zdGVhZC4iKX19LGdhbW1hT3V0cHV0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuZ2FtbWFPdXRwdXQgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IFdlYkdMUmVuZGVyZXIub3V0cHV0RW5jb2RpbmcgaW5zdGVhZC4iKSwhMX0sc2V0OmZ1bmN0aW9uKGkpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmdhbW1hT3V0cHV0IGhhcyBiZWVuIHJlbW92ZWQuIFNldCBXZWJHTFJlbmRlcmVyLm91dHB1dEVuY29kaW5nIGluc3RlYWQuIiksdGhpcy5vdXRwdXRFbmNvZGluZz1pPT09ITA/UWU6X2l9fSx0b25lTWFwcGluZ1doaXRlUG9pbnQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC50b25lTWFwcGluZ1doaXRlUG9pbnQgaGFzIGJlZW4gcmVtb3ZlZC4iKSwxfSxzZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC50b25lTWFwcGluZ1doaXRlUG9pbnQgaGFzIGJlZW4gcmVtb3ZlZC4iKX19LGdhbW1hRmFjdG9yOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuZ2FtbWFGYWN0b3IgaGFzIGJlZW4gcmVtb3ZlZC4iKSwyfSxzZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5nYW1tYUZhY3RvciBoYXMgYmVlbiByZW1vdmVkLiIpfX19KSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyh1Yy5wcm90b3R5cGUse2N1bGxGYWNlOntnZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zaGFkb3dNYXAuY3VsbEZhY2UgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IE1hdGVyaWFsLnNoYWRvd1NpZGUgaW5zdGVhZC4iKX0sc2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc2hhZG93TWFwLmN1bGxGYWNlIGhhcyBiZWVuIHJlbW92ZWQuIFNldCBNYXRlcmlhbC5zaGFkb3dTaWRlIGluc3RlYWQuIil9fSxyZW5kZXJSZXZlcnNlU2lkZWQ6e2dldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnNoYWRvd01hcC5yZW5kZXJSZXZlcnNlU2lkZWQgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IE1hdGVyaWFsLnNoYWRvd1NpZGUgaW5zdGVhZC4iKX0sc2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc2hhZG93TWFwLnJlbmRlclJldmVyc2VTaWRlZCBoYXMgYmVlbiByZW1vdmVkLiBTZXQgTWF0ZXJpYWwuc2hhZG93U2lkZSBpbnN0ZWFkLiIpfX0scmVuZGVyU2luZ2xlU2lkZWQ6e2dldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnNoYWRvd01hcC5yZW5kZXJTaW5nbGVTaWRlZCBoYXMgYmVlbiByZW1vdmVkLiBTZXQgTWF0ZXJpYWwuc2hhZG93U2lkZSBpbnN0ZWFkLiIpfSxzZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zaGFkb3dNYXAucmVuZGVyU2luZ2xlU2lkZWQgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IE1hdGVyaWFsLnNoYWRvd1NpZGUgaW5zdGVhZC4iKX19fSksT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoenQucHJvdG90eXBlLHt3cmFwUzp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC53cmFwUyBpcyBub3cgLnRleHR1cmUud3JhcFMuIiksdGhpcy50ZXh0dXJlLndyYXBTfSxzZXQ6ZnVuY3Rpb24oaSl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLndyYXBTIGlzIG5vdyAudGV4dHVyZS53cmFwUy4iKSx0aGlzLnRleHR1cmUud3JhcFM9aX19LHdyYXBUOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLndyYXBUIGlzIG5vdyAudGV4dHVyZS53cmFwVC4iKSx0aGlzLnRleHR1cmUud3JhcFR9LHNldDpmdW5jdGlvbihpKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAud3JhcFQgaXMgbm93IC50ZXh0dXJlLndyYXBULiIpLHRoaXMudGV4dHVyZS53cmFwVD1pfX0sbWFnRmlsdGVyOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLm1hZ0ZpbHRlciBpcyBub3cgLnRleHR1cmUubWFnRmlsdGVyLiIpLHRoaXMudGV4dHVyZS5tYWdGaWx0ZXJ9LHNldDpmdW5jdGlvbihpKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAubWFnRmlsdGVyIGlzIG5vdyAudGV4dHVyZS5tYWdGaWx0ZXIuIiksdGhpcy50ZXh0dXJlLm1hZ0ZpbHRlcj1pfX0sbWluRmlsdGVyOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLm1pbkZpbHRlciBpcyBub3cgLnRleHR1cmUubWluRmlsdGVyLiIpLHRoaXMudGV4dHVyZS5taW5GaWx0ZXJ9LHNldDpmdW5jdGlvbihpKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAubWluRmlsdGVyIGlzIG5vdyAudGV4dHVyZS5taW5GaWx0ZXIuIiksdGhpcy50ZXh0dXJlLm1pbkZpbHRlcj1pfX0sYW5pc290cm9weTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC5hbmlzb3Ryb3B5IGlzIG5vdyAudGV4dHVyZS5hbmlzb3Ryb3B5LiIpLHRoaXMudGV4dHVyZS5hbmlzb3Ryb3B5fSxzZXQ6ZnVuY3Rpb24oaSl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLmFuaXNvdHJvcHkgaXMgbm93IC50ZXh0dXJlLmFuaXNvdHJvcHkuIiksdGhpcy50ZXh0dXJlLmFuaXNvdHJvcHk9aX19LG9mZnNldDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC5vZmZzZXQgaXMgbm93IC50ZXh0dXJlLm9mZnNldC4iKSx0aGlzLnRleHR1cmUub2Zmc2V0fSxzZXQ6ZnVuY3Rpb24oaSl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLm9mZnNldCBpcyBub3cgLnRleHR1cmUub2Zmc2V0LiIpLHRoaXMudGV4dHVyZS5vZmZzZXQ9aX19LHJlcGVhdDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC5yZXBlYXQgaXMgbm93IC50ZXh0dXJlLnJlcGVhdC4iKSx0aGlzLnRleHR1cmUucmVwZWF0fSxzZXQ6ZnVuY3Rpb24oaSl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLnJlcGVhdCBpcyBub3cgLnRleHR1cmUucmVwZWF0LiIpLHRoaXMudGV4dHVyZS5yZXBlYXQ9aX19LGZvcm1hdDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC5mb3JtYXQgaXMgbm93IC50ZXh0dXJlLmZvcm1hdC4iKSx0aGlzLnRleHR1cmUuZm9ybWF0fSxzZXQ6ZnVuY3Rpb24oaSl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLmZvcm1hdCBpcyBub3cgLnRleHR1cmUuZm9ybWF0LiIpLHRoaXMudGV4dHVyZS5mb3JtYXQ9aX19LHR5cGU6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAudHlwZSBpcyBub3cgLnRleHR1cmUudHlwZS4iKSx0aGlzLnRleHR1cmUudHlwZX0sc2V0OmZ1bmN0aW9uKGkpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC50eXBlIGlzIG5vdyAudGV4dHVyZS50eXBlLiIpLHRoaXMudGV4dHVyZS50eXBlPWl9fSxnZW5lcmF0ZU1pcG1hcHM6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAuZ2VuZXJhdGVNaXBtYXBzIGlzIG5vdyAudGV4dHVyZS5nZW5lcmF0ZU1pcG1hcHMuIiksdGhpcy50ZXh0dXJlLmdlbmVyYXRlTWlwbWFwc30sc2V0OmZ1bmN0aW9uKGkpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC5nZW5lcmF0ZU1pcG1hcHMgaXMgbm93IC50ZXh0dXJlLmdlbmVyYXRlTWlwbWFwcy4iKSx0aGlzLnRleHR1cmUuZ2VuZXJhdGVNaXBtYXBzPWl9fX0pLHFNLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKGkpe2NvbnNvbGUud2FybigiVEhSRUUuQXVkaW86IC5sb2FkIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSBUSFJFRS5BdWRpb0xvYWRlciBpbnN0ZWFkLiIpO2NvbnN0IGU9dGhpcztyZXR1cm4gbmV3IFZNKCkubG9hZChpLGZ1bmN0aW9uKHQpe2Uuc2V0QnVmZmVyKHQpfSksdGhpc30sbm8ucHJvdG90eXBlLnVwZGF0ZUN1YmVNYXA9ZnVuY3Rpb24oaSxlKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5DdWJlQ2FtZXJhOiAudXBkYXRlQ3ViZU1hcCgpIGlzIG5vdyAudXBkYXRlKCkuIiksdGhpcy51cGRhdGUoaSxlKX0sbm8ucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKGksZSx0LHIpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkN1YmVDYW1lcmE6IC5jbGVhcigpIGlzIG5vdyAucmVuZGVyVGFyZ2V0LmNsZWFyKCkuIiksdGhpcy5yZW5kZXJUYXJnZXQuY2xlYXIoaSxlLHQscil9LGVyLmNyb3NzT3JpZ2luPXZvaWQgMCxlci5sb2FkVGV4dHVyZT1mdW5jdGlvbihpLGUsdCxyKXtjb25zb2xlLndhcm4oIlRIUkVFLkltYWdlVXRpbHMubG9hZFRleHR1cmUgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIFRIUkVFLlRleHR1cmVMb2FkZXIoKSBpbnN0ZWFkLiIpO2NvbnN0IHM9bmV3IElNO3Muc2V0Q3Jvc3NPcmlnaW4odGhpcy5jcm9zc09yaWdpbik7Y29uc3QgYT1zLmxvYWQoaSx0LHZvaWQgMCxyKTtyZXR1cm4gZSYmKGEubWFwcGluZz1lKSxhfSxlci5sb2FkVGV4dHVyZUN1YmU9ZnVuY3Rpb24oaSxlLHQscil7Y29uc29sZS53YXJuKCJUSFJFRS5JbWFnZVV0aWxzLmxvYWRUZXh0dXJlQ3ViZSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgVEhSRUUuQ3ViZVRleHR1cmVMb2FkZXIoKSBpbnN0ZWFkLiIpO2NvbnN0IHM9bmV3IFBNO3Muc2V0Q3Jvc3NPcmlnaW4odGhpcy5jcm9zc09yaWdpbik7Y29uc3QgYT1zLmxvYWQoaSx0LHZvaWQgMCxyKTtyZXR1cm4gZSYmKGEubWFwcGluZz1lKSxhfSxlci5sb2FkQ29tcHJlc3NlZFRleHR1cmU9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5JbWFnZVV0aWxzLmxvYWRDb21wcmVzc2VkVGV4dHVyZSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgVEhSRUUuRERTTG9hZGVyIGluc3RlYWQuIil9LGVyLmxvYWRDb21wcmVzc2VkVGV4dHVyZUN1YmU9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5JbWFnZVV0aWxzLmxvYWRDb21wcmVzc2VkVGV4dHVyZUN1YmUgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIFRIUkVFLkREU0xvYWRlciBpbnN0ZWFkLiIpfSx0eXBlb2YgX19USFJFRV9ERVZUT09MU19fPCJ1IiYmX19USFJFRV9ERVZUT09MU19fLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCJyZWdpc3RlciIse2RldGFpbDp7cmV2aXNpb246eW59fSkpLHR5cGVvZiB3aW5kb3c8InUiJiYod2luZG93Ll9fVEhSRUVfXz9jb25zb2xlLndhcm4oIldBUk5JTkc6IE11bHRpcGxlIGluc3RhbmNlcyBvZiBUaHJlZS5qcyBiZWluZyBpbXBvcnRlZC4iKTp3aW5kb3cuX19USFJFRV9fPXluKTtmdW5jdGlvbiBsMShpLGUsdCxyKXtjb25zdCBzPW5ldyBGbG9hdDMyQXJyYXkodC5sZW5ndGgpLGE9ci5jbG9uZSgpLmludmVydCgpO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bis9Myl7Y29uc3Qgbz10LmF0KG4rMCksaD10LmF0KG4rMiksbD10LmF0KG4rMSksYz1uZXcgRShvLGgsbCkuYXBwbHlNYXRyaXg0KGUpLHU9aS5mb3J3YXJkKFtjLngsYy55LGMuel0pLGQ9bmV3IEUodVswXSx1WzFdLHVbMl0pLmFwcGx5TWF0cml4NChhKTtzW24rMF09ZC54LHNbbisxXT1kLnosc1tuKzJdPWQueX1yZXR1cm4gc31mdW5jdGlvbiBjMShpLGUpe2NvbnN0IHQ9bmV3IEUscj1uZXcgVHQscz1uZXcgRTtlLmRlY29tcG9zZSh0LHIscyk7Y29uc3QgYT1pLmZvcndhcmQoW3QueCx0LnksdC56XSk7cmV0dXJuIGUuY2xvbmUoKS5zZXRQb3NpdGlvbihuZXcgRShhWzBdLGFbMV0sYVsyXSkpfWZ1bmN0aW9uIHUxKGkpe2NvbnN0IGU9aS5kYXRhLnByb2pJbix0PWkuZGF0YS5wcm9qT3V0LHI9T3QoZSx0KSxzPW5ldyBfZSgpLmZyb21BcnJheShpLmRhdGEubWF0cml4KSxhPWkuZGF0YS5idWZmZXIsbj1jMShyLHMpLG89bDEocixzLGEsbiksaD17bWF0cml4Om4udG9BcnJheSgpLGJ1ZmZlcjpvfSxsPVtoLmJ1ZmZlci5idWZmZXJdO3Bvc3RNZXNzYWdlKGgsbCl9b25tZXNzYWdlPXUxfSkseHU9dnUoKTtyZXR1cm4geHV9KCk7Cgo=",null,!1),CM=(t,i,e)=>new Promise((s,n)=>{var l=o=>{try{a(e.next(o))}catch(c){n(c)}},r=o=>{try{a(e.throw(o))}catch(c){n(c)}},a=o=>o.done?s(o.value):Promise.resolve(o.value).then(l,r);a((e=e.apply(t,i)).next())});function _6(t,i,e,s){return CM(this,null,function*(){return new Promise(n=>{performance.now();const l=new Q6;l.onmessage=a=>{l.terminate(),n({matrix:new _t().fromArray(a.data.matrix),buffer:a.data.buffer})};const r={matrix:t.toArray(),buffer:i,projIn:e,projOut:s};l.postMessage(r,[r.buffer.buffer])})})}function q6(t,i){return CM(this,null,function*(){const e=new j6;e.ifcManager.setWasmPath(typeof i.wasmPath<"u"?i.wasmPath:"/wasm/"),e.ifcManager.parser.setupOptionalCategories({[tc]:!1,[$o]:!1}),e.ifcManager.setupThreeMeshBVH(EU,zU,vU),yield e.ifcManager.applyWebIfcConfig({USE_FAST_BOOLS:!0});const s=yield e.loadAsync(t);if(i.projIn&&i.projOut){const n=s.geometry.attributes.position.array,l=i.offset?new z(i.offset.x,i.offset.y,i.offset.z):new z,r=new _t().setPosition(l),a=yield _6(r,n,i.projIn,i.projOut);s.geometry.attributes.position.array=a.buffer,s.geometry.computeBoundsTree(),s.geometry.computeBoundingBox(),s.geometry.computeBoundingSphere()}return s.userData.isPickable=typeof i.isPickable<"u"?i.isPickable:!0,s.userData.isInteractive=typeof i.isInteractive<"u"?i.isInteractive:!1,s})}var $6=Vo("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwp2YXIgd29ya2VyX2NvZGU9ZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIElpPShQaSx2dCk9PigpPT4odnR8fFBpKCh2dD17ZXhwb3J0czp7fX0pLmV4cG9ydHMsdnQpLHZ0LmV4cG9ydHMpLFRpPUlpKEI9PntmdW5jdGlvbiB2dCh0KXt0KCJFUFNHOjQzMjYiLCIrdGl0bGU9V0dTIDg0IChsb25nL2xhdCkgK3Byb2o9bG9uZ2xhdCArZWxscHM9V0dTODQgK2RhdHVtPVdHUzg0ICt1bml0cz1kZWdyZWVzIiksdCgiRVBTRzo0MjY5IiwiK3RpdGxlPU5BRDgzIChsb25nL2xhdCkgK3Byb2o9bG9uZ2xhdCArYT02Mzc4MTM3LjAgK2I9NjM1Njc1Mi4zMTQxNDAzNiArZWxscHM9R1JTODAgK2RhdHVtPU5BRDgzICt1bml0cz1kZWdyZWVzIiksdCgiRVBTRzozODU3IiwiK3RpdGxlPVdHUyA4NCAvIFBzZXVkby1NZXJjYXRvciArcHJvaj1tZXJjICthPTYzNzgxMzcgK2I9NjM3ODEzNyArbGF0X3RzPTAuMCArbG9uXzA9MC4wICt4XzA9MC4wICt5XzA9MCAraz0xLjAgK3VuaXRzPW0gK25hZGdyaWRzPUBudWxsICtub19kZWZzIiksdC5XR1M4ND10WyJFUFNHOjQzMjYiXSx0WyJFUFNHOjM3ODUiXT10WyJFUFNHOjM4NTciXSx0LkdPT0dMRT10WyJFUFNHOjM4NTciXSx0WyJFUFNHOjkwMDkxMyJdPXRbIkVQU0c6Mzg1NyJdLHRbIkVQU0c6MTAyMTEzIl09dFsiRVBTRzozODU3Il19dmFyIE10PTEsZ3Q9MixsZT0zLERpPTQsT2U9NSxlcz02Mzc4MTM3LGtpPTYzNTY3NTIzMTRlLTMsc3M9LjAwNjY5NDM3OTk5MDE0MTMxNjUsanQ9NDg0ODEzNjgxMTA5NTM2ZS0yMCxnPU1hdGguUEkvMixSaT0uMTY2NjY2NjY2NjY2NjY2NjYsTGk9LjA0NzIyMjIyMjIyMjIyMjIyLHFpPS4wMjIxNTYwODQ2NTYwODQ2NTUseT0xZS0xMCxqPS4wMTc0NTMyOTI1MTk5NDMyOTUsc3Q9NTcuMjk1Nzc5NTEzMDgyMzIsRD1NYXRoLlBJLzQsR3Q9TWF0aC5QSSoyLHE9My4xNDE1OTI2NTM1OSxYPXt9O1guZ3JlZW53aWNoPTAsWC5saXNib249LTkuMTMxOTA2MTExMTExLFgucGFyaXM9Mi4zMzcyMjkxNjY2NjcsWC5ib2dvdGE9LTc0LjA4MDkxNjY2NjY2NyxYLm1hZHJpZD0tMy42ODc5Mzg4ODg4ODksWC5yb21lPTEyLjQ1MjMzMzMzMzMzMyxYLmJlcm49Ny40Mzk1ODMzMzMzMzMsWC5qYWthcnRhPTEwNi44MDc3MTk0NDQ0NDQsWC5mZXJybz0tMTcuNjY2NjY2NjY2NjY3LFguYnJ1c3NlbHM9NC4zNjc5NzUsWC5zdG9ja2hvbG09MTguMDU4Mjc3Nzc3Nzc4LFguYXRoZW5zPTIzLjcxNjMzNzUsWC5vc2xvPTEwLjcyMjkxNjY2NjY2Nzt2YXIgQmk9e2Z0Ont0b19tZXRlcjouMzA0OH0sInVzLWZ0Ijp7dG9fbWV0ZXI6MTIwMC8zOTM3fX0saXM9L1tcc19cLVwvXChcKV0vZztmdW5jdGlvbiBsdCh0LGUpe2lmKHRbZV0pcmV0dXJuIHRbZV07Zm9yKHZhciBzPU9iamVjdC5rZXlzKHQpLGk9ZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoaXMsIiIpLGE9LTEsbixoOysrYTxzLmxlbmd0aDspaWYobj1zW2FdLGg9bi50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoaXMsIiIpLGg9PT1pKXJldHVybiB0W25dfWZ1bmN0aW9uIFBlKHQpe3ZhciBlPXt9LHM9dC5zcGxpdCgiKyIpLm1hcChmdW5jdGlvbihyKXtyZXR1cm4gci50cmltKCl9KS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIHJ9KS5yZWR1Y2UoZnVuY3Rpb24ocixvKXt2YXIgdT1vLnNwbGl0KCI9Iik7cmV0dXJuIHUucHVzaCghMCksclt1WzBdLnRvTG93ZXJDYXNlKCldPXVbMV0scn0se30pLGksYSxuLGg9e3Byb2o6InByb2pOYW1lIixkYXR1bToiZGF0dW1Db2RlIixyZjpmdW5jdGlvbihyKXtlLnJmPXBhcnNlRmxvYXQocil9LGxhdF8wOmZ1bmN0aW9uKHIpe2UubGF0MD1yKmp9LGxhdF8xOmZ1bmN0aW9uKHIpe2UubGF0MT1yKmp9LGxhdF8yOmZ1bmN0aW9uKHIpe2UubGF0Mj1yKmp9LGxhdF90czpmdW5jdGlvbihyKXtlLmxhdF90cz1yKmp9LGxvbl8wOmZ1bmN0aW9uKHIpe2UubG9uZzA9cipqfSxsb25fMTpmdW5jdGlvbihyKXtlLmxvbmcxPXIqan0sbG9uXzI6ZnVuY3Rpb24ocil7ZS5sb25nMj1yKmp9LGFscGhhOmZ1bmN0aW9uKHIpe2UuYWxwaGE9cGFyc2VGbG9hdChyKSpqfSxnYW1tYTpmdW5jdGlvbihyKXtlLnJlY3RpZmllZF9ncmlkX2FuZ2xlPXBhcnNlRmxvYXQocil9LGxvbmM6ZnVuY3Rpb24ocil7ZS5sb25nYz1yKmp9LHhfMDpmdW5jdGlvbihyKXtlLngwPXBhcnNlRmxvYXQocil9LHlfMDpmdW5jdGlvbihyKXtlLnkwPXBhcnNlRmxvYXQocil9LGtfMDpmdW5jdGlvbihyKXtlLmswPXBhcnNlRmxvYXQocil9LGs6ZnVuY3Rpb24ocil7ZS5rMD1wYXJzZUZsb2F0KHIpfSxhOmZ1bmN0aW9uKHIpe2UuYT1wYXJzZUZsb2F0KHIpfSxiOmZ1bmN0aW9uKHIpe2UuYj1wYXJzZUZsb2F0KHIpfSxyX2E6ZnVuY3Rpb24oKXtlLlJfQT0hMH0sem9uZTpmdW5jdGlvbihyKXtlLnpvbmU9cGFyc2VJbnQociwxMCl9LHNvdXRoOmZ1bmN0aW9uKCl7ZS51dG1Tb3V0aD0hMH0sdG93Z3M4NDpmdW5jdGlvbihyKXtlLmRhdHVtX3BhcmFtcz1yLnNwbGl0KCIsIikubWFwKGZ1bmN0aW9uKG8pe3JldHVybiBwYXJzZUZsb2F0KG8pfSl9LHRvX21ldGVyOmZ1bmN0aW9uKHIpe2UudG9fbWV0ZXI9cGFyc2VGbG9hdChyKX0sdW5pdHM6ZnVuY3Rpb24ocil7ZS51bml0cz1yO3ZhciBvPWx0KEJpLHIpO28mJihlLnRvX21ldGVyPW8udG9fbWV0ZXIpfSxmcm9tX2dyZWVud2ljaDpmdW5jdGlvbihyKXtlLmZyb21fZ3JlZW53aWNoPXIqan0scG06ZnVuY3Rpb24ocil7dmFyIG89bHQoWCxyKTtlLmZyb21fZ3JlZW53aWNoPShvfHxwYXJzZUZsb2F0KHIpKSpqfSxuYWRncmlkczpmdW5jdGlvbihyKXtyPT09IkBudWxsIj9lLmRhdHVtQ29kZT0ibm9uZSI6ZS5uYWRncmlkcz1yfSxheGlzOmZ1bmN0aW9uKHIpe3ZhciBvPSJld25zdWQiO3IubGVuZ3RoPT09MyYmby5pbmRleE9mKHIuc3Vic3RyKDAsMSkpIT09LTEmJm8uaW5kZXhPZihyLnN1YnN0cigxLDEpKSE9PS0xJiZvLmluZGV4T2Yoci5zdWJzdHIoMiwxKSkhPT0tMSYmKGUuYXhpcz1yKX0sYXBwcm94OmZ1bmN0aW9uKCl7ZS5hcHByb3g9ITB9fTtmb3IoaSBpbiBzKWE9c1tpXSxpIGluIGg/KG49aFtpXSx0eXBlb2Ygbj09ImZ1bmN0aW9uIj9uKGEpOmVbbl09YSk6ZVtpXT1hO3JldHVybiB0eXBlb2YgZS5kYXR1bUNvZGU9PSJzdHJpbmciJiZlLmRhdHVtQ29kZSE9PSJXR1M4NCImJihlLmRhdHVtQ29kZT1lLmRhdHVtQ29kZS50b0xvd2VyQ2FzZSgpKSxlfXZhciB6dD0xLGFzPTIsbnM9MyxjZT00LHJzPTUsRGU9LTEsRmk9L1xzLyxqaT0vW0EtWmEtel0vLEdpPS9bQS1aYS16ODRfXS8sZmU9L1ssXF1dLyxocz0vW1xkXC5FXC1cK10vO2Z1bmN0aW9uIHJ0KHQpe2lmKHR5cGVvZiB0IT0ic3RyaW5nIil0aHJvdyBuZXcgRXJyb3IoIm5vdCBhIHN0cmluZyIpO3RoaXMudGV4dD10LnRyaW0oKSx0aGlzLmxldmVsPTAsdGhpcy5wbGFjZT0wLHRoaXMucm9vdD1udWxsLHRoaXMuc3RhY2s9W10sdGhpcy5jdXJyZW50T2JqZWN0PW51bGwsdGhpcy5zdGF0ZT16dH1ydC5wcm90b3R5cGUucmVhZENoYXJpY3Rlcj1mdW5jdGlvbigpe3ZhciB0PXRoaXMudGV4dFt0aGlzLnBsYWNlKytdO2lmKHRoaXMuc3RhdGUhPT1jZSlmb3IoO0ZpLnRlc3QodCk7KXtpZih0aGlzLnBsYWNlPj10aGlzLnRleHQubGVuZ3RoKXJldHVybjt0PXRoaXMudGV4dFt0aGlzLnBsYWNlKytdfXN3aXRjaCh0aGlzLnN0YXRlKXtjYXNlIHp0OnJldHVybiB0aGlzLm5ldXRyYWwodCk7Y2FzZSBhczpyZXR1cm4gdGhpcy5rZXl3b3JkKHQpO2Nhc2UgY2U6cmV0dXJuIHRoaXMucXVvdGVkKHQpO2Nhc2UgcnM6cmV0dXJuIHRoaXMuYWZ0ZXJxdW90ZSh0KTtjYXNlIG5zOnJldHVybiB0aGlzLm51bWJlcih0KTtjYXNlIERlOnJldHVybn19LHJ0LnByb3RvdHlwZS5hZnRlcnF1b3RlPWZ1bmN0aW9uKHQpe2lmKHQ9PT0nIicpe3RoaXMud29yZCs9JyInLHRoaXMuc3RhdGU9Y2U7cmV0dXJufWlmKGZlLnRlc3QodCkpe3RoaXMud29yZD10aGlzLndvcmQudHJpbSgpLHRoaXMuYWZ0ZXJJdGVtKHQpO3JldHVybn10aHJvdyBuZXcgRXJyb3IoYGhhdm4ndCBoYW5kbGVkICJgK3QrJyIgaW4gYWZ0ZXJxdW90ZSB5ZXQsIGluZGV4ICcrdGhpcy5wbGFjZSl9LHJ0LnByb3RvdHlwZS5hZnRlckl0ZW09ZnVuY3Rpb24odCl7aWYodD09PSIsIil7dGhpcy53b3JkIT09bnVsbCYmdGhpcy5jdXJyZW50T2JqZWN0LnB1c2godGhpcy53b3JkKSx0aGlzLndvcmQ9bnVsbCx0aGlzLnN0YXRlPXp0O3JldHVybn1pZih0PT09Il0iKXt0aGlzLmxldmVsLS0sdGhpcy53b3JkIT09bnVsbCYmKHRoaXMuY3VycmVudE9iamVjdC5wdXNoKHRoaXMud29yZCksdGhpcy53b3JkPW51bGwpLHRoaXMuc3RhdGU9enQsdGhpcy5jdXJyZW50T2JqZWN0PXRoaXMuc3RhY2sucG9wKCksdGhpcy5jdXJyZW50T2JqZWN0fHwodGhpcy5zdGF0ZT1EZSk7cmV0dXJufX0scnQucHJvdG90eXBlLm51bWJlcj1mdW5jdGlvbih0KXtpZihocy50ZXN0KHQpKXt0aGlzLndvcmQrPXQ7cmV0dXJufWlmKGZlLnRlc3QodCkpe3RoaXMud29yZD1wYXJzZUZsb2F0KHRoaXMud29yZCksdGhpcy5hZnRlckl0ZW0odCk7cmV0dXJufXRocm93IG5ldyBFcnJvcihgaGF2bid0IGhhbmRsZWQgImArdCsnIiBpbiBudW1iZXIgeWV0LCBpbmRleCAnK3RoaXMucGxhY2UpfSxydC5wcm90b3R5cGUucXVvdGVkPWZ1bmN0aW9uKHQpe2lmKHQ9PT0nIicpe3RoaXMuc3RhdGU9cnM7cmV0dXJufXRoaXMud29yZCs9dH0scnQucHJvdG90eXBlLmtleXdvcmQ9ZnVuY3Rpb24odCl7aWYoR2kudGVzdCh0KSl7dGhpcy53b3JkKz10O3JldHVybn1pZih0PT09IlsiKXt2YXIgZT1bXTtlLnB1c2godGhpcy53b3JkKSx0aGlzLmxldmVsKyssdGhpcy5yb290PT09bnVsbD90aGlzLnJvb3Q9ZTp0aGlzLmN1cnJlbnRPYmplY3QucHVzaChlKSx0aGlzLnN0YWNrLnB1c2godGhpcy5jdXJyZW50T2JqZWN0KSx0aGlzLmN1cnJlbnRPYmplY3Q9ZSx0aGlzLnN0YXRlPXp0O3JldHVybn1pZihmZS50ZXN0KHQpKXt0aGlzLmFmdGVySXRlbSh0KTtyZXR1cm59dGhyb3cgbmV3IEVycm9yKGBoYXZuJ3QgaGFuZGxlZCAiYCt0KyciIGluIGtleXdvcmQgeWV0LCBpbmRleCAnK3RoaXMucGxhY2UpfSxydC5wcm90b3R5cGUubmV1dHJhbD1mdW5jdGlvbih0KXtpZihqaS50ZXN0KHQpKXt0aGlzLndvcmQ9dCx0aGlzLnN0YXRlPWFzO3JldHVybn1pZih0PT09JyInKXt0aGlzLndvcmQ9IiIsdGhpcy5zdGF0ZT1jZTtyZXR1cm59aWYoaHMudGVzdCh0KSl7dGhpcy53b3JkPXQsdGhpcy5zdGF0ZT1ucztyZXR1cm59aWYoZmUudGVzdCh0KSl7dGhpcy5hZnRlckl0ZW0odCk7cmV0dXJufXRocm93IG5ldyBFcnJvcihgaGF2bid0IGhhbmRsZWQgImArdCsnIiBpbiBuZXV0cmFsIHlldCwgaW5kZXggJyt0aGlzLnBsYWNlKX0scnQucHJvdG90eXBlLm91dHB1dD1mdW5jdGlvbigpe2Zvcig7dGhpcy5wbGFjZTx0aGlzLnRleHQubGVuZ3RoOyl0aGlzLnJlYWRDaGFyaWN0ZXIoKTtpZih0aGlzLnN0YXRlPT09RGUpcmV0dXJuIHRoaXMucm9vdDt0aHJvdyBuZXcgRXJyb3IoJ3VuYWJsZSB0byBwYXJzZSBzdHJpbmcgIicrdGhpcy50ZXh0KyciLiBTdGF0ZSBpcyAnK3RoaXMuc3RhdGUpfTtmdW5jdGlvbiB6aSh0KXt2YXIgZT1uZXcgcnQodCk7cmV0dXJuIGUub3V0cHV0KCl9ZnVuY3Rpb24gb3ModCxlLHMpe0FycmF5LmlzQXJyYXkoZSkmJihzLnVuc2hpZnQoZSksZT1udWxsKTt2YXIgaT1lP3t9OnQsYT1zLnJlZHVjZShmdW5jdGlvbihuLGgpe3JldHVybiBidChoLG4pLG59LGkpO2UmJih0W2VdPWEpfWZ1bmN0aW9uIGJ0KHQsZSl7aWYoIUFycmF5LmlzQXJyYXkodCkpe2VbdF09ITA7cmV0dXJufXZhciBzPXQuc2hpZnQoKTtpZihzPT09IlBBUkFNRVRFUiImJihzPXQuc2hpZnQoKSksdC5sZW5ndGg9PT0xKXtpZihBcnJheS5pc0FycmF5KHRbMF0pKXtlW3NdPXt9LGJ0KHRbMF0sZVtzXSk7cmV0dXJufWVbc109dFswXTtyZXR1cm59aWYoIXQubGVuZ3RoKXtlW3NdPSEwO3JldHVybn1pZihzPT09IlRPV0dTODQiKXtlW3NdPXQ7cmV0dXJufWlmKHM9PT0iQVhJUyIpe3MgaW4gZXx8KGVbc109W10pLGVbc10ucHVzaCh0KTtyZXR1cm59QXJyYXkuaXNBcnJheShzKXx8KGVbc109e30pO3ZhciBpO3N3aXRjaChzKXtjYXNlIlVOSVQiOmNhc2UiUFJJTUVNIjpjYXNlIlZFUlRfREFUVU0iOmVbc109e25hbWU6dFswXS50b0xvd2VyQ2FzZSgpLGNvbnZlcnQ6dFsxXX0sdC5sZW5ndGg9PT0zJiZidCh0WzJdLGVbc10pO3JldHVybjtjYXNlIlNQSEVST0lEIjpjYXNlIkVMTElQU09JRCI6ZVtzXT17bmFtZTp0WzBdLGE6dFsxXSxyZjp0WzJdfSx0Lmxlbmd0aD09PTQmJmJ0KHRbM10sZVtzXSk7cmV0dXJuO2Nhc2UiUFJPSkVDVEVEQ1JTIjpjYXNlIlBST0pDUlMiOmNhc2UiR0VPR0NTIjpjYXNlIkdFT0NDUyI6Y2FzZSJQUk9KQ1MiOmNhc2UiTE9DQUxfQ1MiOmNhc2UiR0VPRENSUyI6Y2FzZSJHRU9ERVRJQ0NSUyI6Y2FzZSJHRU9ERVRJQ0RBVFVNIjpjYXNlIkVEQVRVTSI6Y2FzZSJFTkdJTkVFUklOR0RBVFVNIjpjYXNlIlZFUlRfQ1MiOmNhc2UiVkVSVENSUyI6Y2FzZSJWRVJUSUNBTENSUyI6Y2FzZSJDT01QRF9DUyI6Y2FzZSJDT01QT1VORENSUyI6Y2FzZSJFTkdJTkVFUklOR0NSUyI6Y2FzZSJFTkdDUlMiOmNhc2UiRklUVEVEX0NTIjpjYXNlIkxPQ0FMX0RBVFVNIjpjYXNlIkRBVFVNIjp0WzBdPVsibmFtZSIsdFswXV0sb3MoZSxzLHQpO3JldHVybjtkZWZhdWx0OmZvcihpPS0xOysraTx0Lmxlbmd0aDspaWYoIUFycmF5LmlzQXJyYXkodFtpXSkpcmV0dXJuIGJ0KHQsZVtzXSk7cmV0dXJuIG9zKGUscyx0KX19dmFyIFVpPS4wMTc0NTMyOTI1MTk5NDMyOTU7ZnVuY3Rpb24gSGkodCxlKXt2YXIgcz1lWzBdLGk9ZVsxXTshKHMgaW4gdCkmJmkgaW4gdCYmKHRbc109dFtpXSxlLmxlbmd0aD09PTMmJih0W3NdPWVbMl0odFtzXSkpKX1mdW5jdGlvbiBodCh0KXtyZXR1cm4gdCpVaX1mdW5jdGlvbiBRaSh0KXtpZih0LnR5cGU9PT0iR0VPR0NTIj90LnByb2pOYW1lPSJsb25nbGF0Ijp0LnR5cGU9PT0iTE9DQUxfQ1MiPyh0LnByb2pOYW1lPSJpZGVudGl0eSIsdC5sb2NhbD0hMCk6dHlwZW9mIHQuUFJPSkVDVElPTj09Im9iamVjdCI/dC5wcm9qTmFtZT1PYmplY3Qua2V5cyh0LlBST0pFQ1RJT04pWzBdOnQucHJvak5hbWU9dC5QUk9KRUNUSU9OLHQuQVhJUyl7Zm9yKHZhciBlPSIiLHM9MCxpPXQuQVhJUy5sZW5ndGg7czxpOysrcyl7dmFyIGE9W3QuQVhJU1tzXVswXS50b0xvd2VyQ2FzZSgpLHQuQVhJU1tzXVsxXS50b0xvd2VyQ2FzZSgpXTthWzBdLmluZGV4T2YoIm5vcnRoIikhPT0tMXx8KGFbMF09PT0ieSJ8fGFbMF09PT0ibGF0IikmJmFbMV09PT0ibm9ydGgiP2UrPSJuIjphWzBdLmluZGV4T2YoInNvdXRoIikhPT0tMXx8KGFbMF09PT0ieSJ8fGFbMF09PT0ibGF0IikmJmFbMV09PT0ic291dGgiP2UrPSJzIjphWzBdLmluZGV4T2YoImVhc3QiKSE9PS0xfHwoYVswXT09PSJ4Inx8YVswXT09PSJsb24iKSYmYVsxXT09PSJlYXN0Ij9lKz0iZSI6KGFbMF0uaW5kZXhPZigid2VzdCIpIT09LTF8fChhWzBdPT09IngifHxhWzBdPT09ImxvbiIpJiZhWzFdPT09Indlc3QiKSYmKGUrPSJ3Iil9ZS5sZW5ndGg9PT0yJiYoZSs9InUiKSxlLmxlbmd0aD09PTMmJih0LmF4aXM9ZSl9dC5VTklUJiYodC51bml0cz10LlVOSVQubmFtZS50b0xvd2VyQ2FzZSgpLHQudW5pdHM9PT0ibWV0cmUiJiYodC51bml0cz0ibWV0ZXIiKSx0LlVOSVQuY29udmVydCYmKHQudHlwZT09PSJHRU9HQ1MiP3QuREFUVU0mJnQuREFUVU0uU1BIRVJPSUQmJih0LnRvX21ldGVyPXQuVU5JVC5jb252ZXJ0KnQuREFUVU0uU1BIRVJPSUQuYSk6dC50b19tZXRlcj10LlVOSVQuY29udmVydCkpO3ZhciBuPXQuR0VPR0NTO3QudHlwZT09PSJHRU9HQ1MiJiYobj10KSxuJiYobi5EQVRVTT90LmRhdHVtQ29kZT1uLkRBVFVNLm5hbWUudG9Mb3dlckNhc2UoKTp0LmRhdHVtQ29kZT1uLm5hbWUudG9Mb3dlckNhc2UoKSx0LmRhdHVtQ29kZS5zbGljZSgwLDIpPT09ImRfIiYmKHQuZGF0dW1Db2RlPXQuZGF0dW1Db2RlLnNsaWNlKDIpKSwodC5kYXR1bUNvZGU9PT0ibmV3X3plYWxhbmRfZ2VvZGV0aWNfZGF0dW1fMTk0OSJ8fHQuZGF0dW1Db2RlPT09Im5ld196ZWFsYW5kXzE5NDkiKSYmKHQuZGF0dW1Db2RlPSJuemdkNDkiKSwodC5kYXR1bUNvZGU9PT0id2dzXzE5ODQifHx0LmRhdHVtQ29kZT09PSJ3b3JsZF9nZW9kZXRpY19zeXN0ZW1fMTk4NCIpJiYodC5QUk9KRUNUSU9OPT09Ik1lcmNhdG9yX0F1eGlsaWFyeV9TcGhlcmUiJiYodC5zcGhlcmU9ITApLHQuZGF0dW1Db2RlPSJ3Z3M4NCIpLHQuZGF0dW1Db2RlLnNsaWNlKC02KT09PSJfZmVycm8iJiYodC5kYXR1bUNvZGU9dC5kYXR1bUNvZGUuc2xpY2UoMCwtNikpLHQuZGF0dW1Db2RlLnNsaWNlKC04KT09PSJfamFrYXJ0YSImJih0LmRhdHVtQ29kZT10LmRhdHVtQ29kZS5zbGljZSgwLC04KSksfnQuZGF0dW1Db2RlLmluZGV4T2YoImJlbGdlIikmJih0LmRhdHVtQ29kZT0icm5iNzIiKSxuLkRBVFVNJiZuLkRBVFVNLlNQSEVST0lEJiYodC5lbGxwcz1uLkRBVFVNLlNQSEVST0lELm5hbWUucmVwbGFjZSgiXzE5IiwiIikucmVwbGFjZSgvW0NjXWxhcmtlXF8xOC8sImNscmsiKSx0LmVsbHBzLnRvTG93ZXJDYXNlKCkuc2xpY2UoMCwxMyk9PT0iaW50ZXJuYXRpb25hbCImJih0LmVsbHBzPSJpbnRsIiksdC5hPW4uREFUVU0uU1BIRVJPSUQuYSx0LnJmPXBhcnNlRmxvYXQobi5EQVRVTS5TUEhFUk9JRC5yZiwxMCkpLG4uREFUVU0mJm4uREFUVU0uVE9XR1M4NCYmKHQuZGF0dW1fcGFyYW1zPW4uREFUVU0uVE9XR1M4NCksfnQuZGF0dW1Db2RlLmluZGV4T2YoIm9zZ2JfMTkzNiIpJiYodC5kYXR1bUNvZGU9Im9zZ2IzNiIpLH50LmRhdHVtQ29kZS5pbmRleE9mKCJvc25pXzE5NTIiKSYmKHQuZGF0dW1Db2RlPSJvc25pNTIiKSwofnQuZGF0dW1Db2RlLmluZGV4T2YoInRtNjUiKXx8fnQuZGF0dW1Db2RlLmluZGV4T2YoImdlb2RldGljX2RhdHVtX29mXzE5NjUiKSkmJih0LmRhdHVtQ29kZT0iaXJlNjUiKSx0LmRhdHVtQ29kZT09PSJjaDE5MDMrIiYmKHQuZGF0dW1Db2RlPSJjaDE5MDMiKSx+dC5kYXR1bUNvZGUuaW5kZXhPZigiaXNyYWVsIikmJih0LmRhdHVtQ29kZT0iaXNyOTMiKSksdC5iJiYhaXNGaW5pdGUodC5iKSYmKHQuYj10LmEpO2Z1bmN0aW9uIGgodSl7dmFyIGw9dC50b19tZXRlcnx8MTtyZXR1cm4gdSpsfXZhciByPWZ1bmN0aW9uKHUpe3JldHVybiBIaSh0LHUpfSxvPVtbInN0YW5kYXJkX3BhcmFsbGVsXzEiLCJTdGFuZGFyZF9QYXJhbGxlbF8xIl0sWyJzdGFuZGFyZF9wYXJhbGxlbF8xIiwiTGF0aXR1ZGUgb2YgMXN0IHN0YW5kYXJkIHBhcmFsbGVsIl0sWyJzdGFuZGFyZF9wYXJhbGxlbF8yIiwiU3RhbmRhcmRfUGFyYWxsZWxfMiJdLFsic3RhbmRhcmRfcGFyYWxsZWxfMiIsIkxhdGl0dWRlIG9mIDJuZCBzdGFuZGFyZCBwYXJhbGxlbCJdLFsiZmFsc2VfZWFzdGluZyIsIkZhbHNlX0Vhc3RpbmciXSxbImZhbHNlX2Vhc3RpbmciLCJGYWxzZSBlYXN0aW5nIl0sWyJmYWxzZS1lYXN0aW5nIiwiRWFzdGluZyBhdCBmYWxzZSBvcmlnaW4iXSxbImZhbHNlX25vcnRoaW5nIiwiRmFsc2VfTm9ydGhpbmciXSxbImZhbHNlX25vcnRoaW5nIiwiRmFsc2Ugbm9ydGhpbmciXSxbImZhbHNlX25vcnRoaW5nIiwiTm9ydGhpbmcgYXQgZmFsc2Ugb3JpZ2luIl0sWyJjZW50cmFsX21lcmlkaWFuIiwiQ2VudHJhbF9NZXJpZGlhbiJdLFsiY2VudHJhbF9tZXJpZGlhbiIsIkxvbmdpdHVkZSBvZiBuYXR1cmFsIG9yaWdpbiJdLFsiY2VudHJhbF9tZXJpZGlhbiIsIkxvbmdpdHVkZSBvZiBmYWxzZSBvcmlnaW4iXSxbImxhdGl0dWRlX29mX29yaWdpbiIsIkxhdGl0dWRlX09mX09yaWdpbiJdLFsibGF0aXR1ZGVfb2Zfb3JpZ2luIiwiQ2VudHJhbF9QYXJhbGxlbCJdLFsibGF0aXR1ZGVfb2Zfb3JpZ2luIiwiTGF0aXR1ZGUgb2YgbmF0dXJhbCBvcmlnaW4iXSxbImxhdGl0dWRlX29mX29yaWdpbiIsIkxhdGl0dWRlIG9mIGZhbHNlIG9yaWdpbiJdLFsic2NhbGVfZmFjdG9yIiwiU2NhbGVfRmFjdG9yIl0sWyJrMCIsInNjYWxlX2ZhY3RvciJdLFsibGF0aXR1ZGVfb2ZfY2VudGVyIiwiTGF0aXR1ZGVfT2ZfQ2VudGVyIl0sWyJsYXRpdHVkZV9vZl9jZW50ZXIiLCJMYXRpdHVkZV9vZl9jZW50ZXIiXSxbImxhdDAiLCJsYXRpdHVkZV9vZl9jZW50ZXIiLGh0XSxbImxvbmdpdHVkZV9vZl9jZW50ZXIiLCJMb25naXR1ZGVfT2ZfQ2VudGVyIl0sWyJsb25naXR1ZGVfb2ZfY2VudGVyIiwiTG9uZ2l0dWRlX29mX2NlbnRlciJdLFsibG9uZ2MiLCJsb25naXR1ZGVfb2ZfY2VudGVyIixodF0sWyJ4MCIsImZhbHNlX2Vhc3RpbmciLGhdLFsieTAiLCJmYWxzZV9ub3J0aGluZyIsaF0sWyJsb25nMCIsImNlbnRyYWxfbWVyaWRpYW4iLGh0XSxbImxhdDAiLCJsYXRpdHVkZV9vZl9vcmlnaW4iLGh0XSxbImxhdDAiLCJzdGFuZGFyZF9wYXJhbGxlbF8xIixodF0sWyJsYXQxIiwic3RhbmRhcmRfcGFyYWxsZWxfMSIsaHRdLFsibGF0MiIsInN0YW5kYXJkX3BhcmFsbGVsXzIiLGh0XSxbImF6aW11dGgiLCJBemltdXRoIl0sWyJhbHBoYSIsImF6aW11dGgiLGh0XSxbInNyc0NvZGUiLCJuYW1lIl1dO28uZm9yRWFjaChyKSwhdC5sb25nMCYmdC5sb25nYyYmKHQucHJvak5hbWU9PT0iQWxiZXJzX0NvbmljX0VxdWFsX0FyZWEifHx0LnByb2pOYW1lPT09IkxhbWJlcnRfQXppbXV0aGFsX0VxdWFsX0FyZWEiKSYmKHQubG9uZzA9dC5sb25nYyksIXQubGF0X3RzJiZ0LmxhdDEmJih0LnByb2pOYW1lPT09IlN0ZXJlb2dyYXBoaWNfU291dGhfUG9sZSJ8fHQucHJvak5hbWU9PT0iUG9sYXIgU3RlcmVvZ3JhcGhpYyAodmFyaWFudCBCKSIpJiYodC5sYXQwPWh0KHQubGF0MT4wPzkwOi05MCksdC5sYXRfdHM9dC5sYXQxKX1mdW5jdGlvbiB1cyh0KXt2YXIgZT16aSh0KSxzPWUuc2hpZnQoKSxpPWUuc2hpZnQoKTtlLnVuc2hpZnQoWyJuYW1lIixpXSksZS51bnNoaWZ0KFsidHlwZSIsc10pO3ZhciBhPXt9O3JldHVybiBidChlLGEpLFFpKGEpLGF9ZnVuY3Rpb24gSCh0KXt2YXIgZT10aGlzO2lmKGFyZ3VtZW50cy5sZW5ndGg9PT0yKXt2YXIgcz1hcmd1bWVudHNbMV07dHlwZW9mIHM9PSJzdHJpbmciP3MuY2hhckF0KDApPT09IisiP0hbdF09UGUoYXJndW1lbnRzWzFdKTpIW3RdPXVzKGFyZ3VtZW50c1sxXSk6SFt0XT1zfWVsc2UgaWYoYXJndW1lbnRzLmxlbmd0aD09PTEpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHQubWFwKGZ1bmN0aW9uKGkpe0FycmF5LmlzQXJyYXkoaSk/SC5hcHBseShlLGkpOkgoaSl9KTtpZih0eXBlb2YgdD09InN0cmluZyIpe2lmKHQgaW4gSClyZXR1cm4gSFt0XX1lbHNlIkVQU0ciaW4gdD9IWyJFUFNHOiIrdC5FUFNHXT10OiJFU1JJImluIHQ/SFsiRVNSSToiK3QuRVNSSV09dDoiSUFVMjAwMCJpbiB0P0hbIklBVTIwMDA6Iit0LklBVTIwMDBdPXQ6Y29uc29sZS5sb2codCk7cmV0dXJufX12dChIKTtmdW5jdGlvbiBYaSh0KXtyZXR1cm4gdHlwZW9mIHQ9PSJzdHJpbmcifWZ1bmN0aW9uIFdpKHQpe3JldHVybiB0IGluIEh9dmFyIFZpPVsiUFJPSkVDVEVEQ1JTIiwiUFJPSkNSUyIsIkdFT0dDUyIsIkdFT0NDUyIsIlBST0pDUyIsIkxPQ0FMX0NTIiwiR0VPRENSUyIsIkdFT0RFVElDQ1JTIiwiR0VPREVUSUNEQVRVTSIsIkVOR0NSUyIsIkVOR0lORUVSSU5HQ1JTIl07ZnVuY3Rpb24gSmkodCl7cmV0dXJuIFZpLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIHQuaW5kZXhPZihlKT4tMX0pfXZhciBLaT1bIjM4NTciLCI5MDA5MTMiLCIzNzg1IiwiMTAyMTEzIl07ZnVuY3Rpb24gJGkodCl7dmFyIGU9bHQodCwiYXV0aG9yaXR5Iik7aWYoZSl7dmFyIHM9bHQoZSwiZXBzZyIpO3JldHVybiBzJiZLaS5pbmRleE9mKHMpPi0xfX1mdW5jdGlvbiBaaSh0KXt2YXIgZT1sdCh0LCJleHRlbnNpb24iKTtpZihlKXJldHVybiBsdChlLCJwcm9qNCIpfWZ1bmN0aW9uIFlpKHQpe3JldHVybiB0WzBdPT09IisifWZ1bmN0aW9uIHRhKHQpe2lmKFhpKHQpKXtpZihXaSh0KSlyZXR1cm4gSFt0XTtpZihKaSh0KSl7dmFyIGU9dXModCk7aWYoJGkoZSkpcmV0dXJuIEhbIkVQU0c6Mzg1NyJdO3ZhciBzPVppKGUpO3JldHVybiBzP1BlKHMpOmV9aWYoWWkodCkpcmV0dXJuIFBlKHQpfWVsc2UgcmV0dXJuIHR9ZnVuY3Rpb24gbHModCxlKXt0PXR8fHt9O3ZhciBzLGk7aWYoIWUpcmV0dXJuIHQ7Zm9yKGkgaW4gZSlzPWVbaV0scyE9PXZvaWQgMCYmKHRbaV09cyk7cmV0dXJuIHR9ZnVuY3Rpb24gaXQodCxlLHMpe3ZhciBpPXQqZTtyZXR1cm4gcy9NYXRoLnNxcnQoMS1pKmkpfWZ1bmN0aW9uIFV0KHQpe3JldHVybiB0PDA/LTE6MX1mdW5jdGlvbiBfKHQpe3JldHVybiBNYXRoLmFicyh0KTw9cT90OnQtVXQodCkqR3R9ZnVuY3Rpb24gWih0LGUscyl7dmFyIGk9dCpzLGE9LjUqdDtyZXR1cm4gaT1NYXRoLnBvdygoMS1pKS8oMStpKSxhKSxNYXRoLnRhbiguNSooZy1lKSkvaX1mdW5jdGlvbiBIdCh0LGUpe2Zvcih2YXIgcz0uNSp0LGksYSxuPWctMipNYXRoLmF0YW4oZSksaD0wO2g8PTE1O2grKylpZihpPXQqTWF0aC5zaW4obiksYT1nLTIqTWF0aC5hdGFuKGUqTWF0aC5wb3coKDEtaSkvKDEraSkscykpLW4sbis9YSxNYXRoLmFicyhhKTw9MWUtMTApcmV0dXJuIG47cmV0dXJuLTk5OTl9ZnVuY3Rpb24gZWEoKXt2YXIgdD10aGlzLmIvdGhpcy5hO3RoaXMuZXM9MS10KnQsIngwImluIHRoaXN8fCh0aGlzLngwPTApLCJ5MCJpbiB0aGlzfHwodGhpcy55MD0wKSx0aGlzLmU9TWF0aC5zcXJ0KHRoaXMuZXMpLHRoaXMubGF0X3RzP3RoaXMuc3BoZXJlP3RoaXMuazA9TWF0aC5jb3ModGhpcy5sYXRfdHMpOnRoaXMuazA9aXQodGhpcy5lLE1hdGguc2luKHRoaXMubGF0X3RzKSxNYXRoLmNvcyh0aGlzLmxhdF90cykpOnRoaXMuazB8fCh0aGlzLms/dGhpcy5rMD10aGlzLms6dGhpcy5rMD0xKX1mdW5jdGlvbiBzYSh0KXt2YXIgZT10Lngscz10Lnk7aWYocypzdD45MCYmcypzdDwtOTAmJmUqc3Q+MTgwJiZlKnN0PC0xODApcmV0dXJuIG51bGw7dmFyIGksYTtpZihNYXRoLmFicyhNYXRoLmFicyhzKS1nKTw9eSlyZXR1cm4gbnVsbDtpZih0aGlzLnNwaGVyZSlpPXRoaXMueDArdGhpcy5hKnRoaXMuazAqXyhlLXRoaXMubG9uZzApLGE9dGhpcy55MCt0aGlzLmEqdGhpcy5rMCpNYXRoLmxvZyhNYXRoLnRhbihEKy41KnMpKTtlbHNle3ZhciBuPU1hdGguc2luKHMpLGg9Wih0aGlzLmUscyxuKTtpPXRoaXMueDArdGhpcy5hKnRoaXMuazAqXyhlLXRoaXMubG9uZzApLGE9dGhpcy55MC10aGlzLmEqdGhpcy5rMCpNYXRoLmxvZyhoKX1yZXR1cm4gdC54PWksdC55PWEsdH1mdW5jdGlvbiBpYSh0KXt2YXIgZT10LngtdGhpcy54MCxzPXQueS10aGlzLnkwLGksYTtpZih0aGlzLnNwaGVyZSlhPWctMipNYXRoLmF0YW4oTWF0aC5leHAoLXMvKHRoaXMuYSp0aGlzLmswKSkpO2Vsc2V7dmFyIG49TWF0aC5leHAoLXMvKHRoaXMuYSp0aGlzLmswKSk7aWYoYT1IdCh0aGlzLmUsbiksYT09PS05OTk5KXJldHVybiBudWxsfXJldHVybiBpPV8odGhpcy5sb25nMCtlLyh0aGlzLmEqdGhpcy5rMCkpLHQueD1pLHQueT1hLHR9dmFyIGFhPVsiTWVyY2F0b3IiLCJQb3B1bGFyIFZpc3VhbGlzYXRpb24gUHNldWRvIE1lcmNhdG9yIiwiTWVyY2F0b3JfMVNQIiwiTWVyY2F0b3JfQXV4aWxpYXJ5X1NwaGVyZSIsIm1lcmMiXSxuYT17aW5pdDplYSxmb3J3YXJkOnNhLGludmVyc2U6aWEsbmFtZXM6YWF9O2Z1bmN0aW9uIHJhKCl7fWZ1bmN0aW9uIGNzKHQpe3JldHVybiB0fXZhciBoYT1bImxvbmdsYXQiLCJpZGVudGl0eSJdLG9hPXtpbml0OnJhLGZvcndhcmQ6Y3MsaW52ZXJzZTpjcyxuYW1lczpoYX0sdWE9W25hLG9hXSxwZT17fSxtZT1bXTtmdW5jdGlvbiBmcyh0LGUpe3ZhciBzPW1lLmxlbmd0aDtyZXR1cm4gdC5uYW1lcz8obWVbc109dCx0Lm5hbWVzLmZvckVhY2goZnVuY3Rpb24oaSl7cGVbaS50b0xvd2VyQ2FzZSgpXT1zfSksdGhpcyk6KGNvbnNvbGUubG9nKGUpLCEwKX1mdW5jdGlvbiBsYSh0KXtpZighdClyZXR1cm4hMTt2YXIgZT10LnRvTG93ZXJDYXNlKCk7aWYodHlwZW9mIHBlW2VdPCJ1IiYmbWVbcGVbZV1dKXJldHVybiBtZVtwZVtlXV19ZnVuY3Rpb24gY2EoKXt1YS5mb3JFYWNoKGZzKX12YXIgZmE9e3N0YXJ0OmNhLGFkZDpmcyxnZXQ6bGF9LE49e307Ti5NRVJJVD17YTo2Mzc4MTM3LHJmOjI5OC4yNTcsZWxsaXBzZU5hbWU6Ik1FUklUIDE5ODMifSxOLlNHUzg1PXthOjYzNzgxMzYscmY6Mjk4LjI1NyxlbGxpcHNlTmFtZToiU292aWV0IEdlb2RldGljIFN5c3RlbSA4NSJ9LE4uR1JTODA9e2E6NjM3ODEzNyxyZjoyOTguMjU3MjIyMTAxLGVsbGlwc2VOYW1lOiJHUlMgMTk4MChJVUdHLCAxOTgwKSJ9LE4uSUFVNzY9e2E6NjM3ODE0MCxyZjoyOTguMjU3LGVsbGlwc2VOYW1lOiJJQVUgMTk3NiJ9LE4uYWlyeT17YTo2Mzc3NTYzMzk2ZS0zLGI6NjM1NjI1NjkxZS0yLGVsbGlwc2VOYW1lOiJBaXJ5IDE4MzAifSxOLkFQTDQ9e2E6NjM3ODEzNyxyZjoyOTguMjUsZWxsaXBzZU5hbWU6IkFwcGwuIFBoeXNpY3MuIDE5NjUifSxOLk5XTDlEPXthOjYzNzgxNDUscmY6Mjk4LjI1LGVsbGlwc2VOYW1lOiJOYXZhbCBXZWFwb25zIExhYi4sIDE5NjUifSxOLm1vZF9haXJ5PXthOjYzNzczNDAxODllLTMsYjo2MzU2MDM0NDQ2ZS0zLGVsbGlwc2VOYW1lOiJNb2RpZmllZCBBaXJ5In0sTi5hbmRyYWU9e2E6NjM3NzEwNDQzZS0yLHJmOjMwMCxlbGxpcHNlTmFtZToiQW5kcmFlIDE4NzYgKERlbi4sIEljbG5kLikifSxOLmF1c3RfU0E9e2E6NjM3ODE2MCxyZjoyOTguMjUsZWxsaXBzZU5hbWU6IkF1c3RyYWxpYW4gTmF0bCAmIFMuIEFtZXIuIDE5NjkifSxOLkdSUzY3PXthOjYzNzgxNjAscmY6Mjk4LjI0NzE2NzQyNyxlbGxpcHNlTmFtZToiR1JTIDY3KElVR0cgMTk2NykifSxOLmJlc3NlbD17YTo2Mzc3Mzk3MTU1ZS0zLHJmOjI5OS4xNTI4MTI4LGVsbGlwc2VOYW1lOiJCZXNzZWwgMTg0MSJ9LE4uYmVzc19uYW09e2E6NjM3NzQ4Mzg2NWUtMyxyZjoyOTkuMTUyODEyOCxlbGxpcHNlTmFtZToiQmVzc2VsIDE4NDEgKE5hbWliaWEpIn0sTi5jbHJrNjY9e2E6NjM3ODIwNjRlLTEsYjo2MzU2NTgzOGUtMSxlbGxpcHNlTmFtZToiQ2xhcmtlIDE4NjYifSxOLmNscms4MD17YTo2Mzc4MjQ5MTQ1ZS0zLHJmOjI5My40NjYzLGVsbGlwc2VOYW1lOiJDbGFya2UgMTg4MCBtb2QuIn0sTi5jbHJrNTg9e2E6NjM3ODI5MzY0NTIwODc1OWUtOSxyZjoyOTQuMjYwNjc2MzY5MjY1NCxlbGxpcHNlTmFtZToiQ2xhcmtlIDE4NTgifSxOLkNQTT17YTo2Mzc1NzM4N2UtMSxyZjozMzQuMjksZWxsaXBzZU5hbWU6IkNvbW0uIGRlcyBQb2lkcyBldCBNZXN1cmVzIDE3OTkifSxOLmRlbG1icj17YTo2Mzc2NDI4LHJmOjMxMS41LGVsbGlwc2VOYW1lOiJEZWxhbWJyZSAxODEwIChCZWxnaXVtKSJ9LE4uZW5nZWxpcz17YTo2Mzc4MTM2MDVlLTIscmY6Mjk4LjI1NjYsZWxsaXBzZU5hbWU6IkVuZ2VsaXMgMTk4NSJ9LE4uZXZyc3QzMD17YTo2Mzc3Mjc2MzQ1ZS0zLHJmOjMwMC44MDE3LGVsbGlwc2VOYW1lOiJFdmVyZXN0IDE4MzAifSxOLmV2cnN0NDg9e2E6NjM3NzMwNDA2M2UtMyxyZjozMDAuODAxNyxlbGxpcHNlTmFtZToiRXZlcmVzdCAxOTQ4In0sTi5ldnJzdDU2PXthOjYzNzczMDEyNDNlLTMscmY6MzAwLjgwMTcsZWxsaXBzZU5hbWU6IkV2ZXJlc3QgMTk1NiJ9LE4uZXZyc3Q2OT17YTo2Mzc3Mjk1NjY0ZS0zLHJmOjMwMC44MDE3LGVsbGlwc2VOYW1lOiJFdmVyZXN0IDE5NjkifSxOLmV2cnN0U1M9e2E6NjM3NzI5ODU1NmUtMyxyZjozMDAuODAxNyxlbGxpcHNlTmFtZToiRXZlcmVzdCAoU2FiYWggJiBTYXJhd2FrKSJ9LE4uZnNjaHI2MD17YTo2Mzc4MTY2LHJmOjI5OC4zLGVsbGlwc2VOYW1lOiJGaXNjaGVyIChNZXJjdXJ5IERhdHVtKSAxOTYwIn0sTi5mc2NocjYwbT17YTo2Mzc4MTU1LHJmOjI5OC4zLGVsbGlwc2VOYW1lOiJGaXNjaGVyIDE5NjAifSxOLmZzY2hyNjg9e2E6NjM3ODE1MCxyZjoyOTguMyxlbGxpcHNlTmFtZToiRmlzY2hlciAxOTY4In0sTi5oZWxtZXJ0PXthOjYzNzgyMDAscmY6Mjk4LjMsZWxsaXBzZU5hbWU6IkhlbG1lcnQgMTkwNiJ9LE4uaG91Z2g9e2E6NjM3ODI3MCxyZjoyOTcsZWxsaXBzZU5hbWU6IkhvdWdoIn0sTi5pbnRsPXthOjYzNzgzODgscmY6Mjk3LGVsbGlwc2VOYW1lOiJJbnRlcm5hdGlvbmFsIDE5MDkgKEhheWZvcmQpIn0sTi5rYXVsYT17YTo2Mzc4MTYzLHJmOjI5OC4yNCxlbGxpcHNlTmFtZToiS2F1bGEgMTk2MSJ9LE4ubGVyY2g9e2E6NjM3ODEzOSxyZjoyOTguMjU3LGVsbGlwc2VOYW1lOiJMZXJjaCAxOTc5In0sTi5tcHJ0cz17YTo2Mzk3MzAwLHJmOjE5MSxlbGxpcHNlTmFtZToiTWF1cGVydGl1cyAxNzM4In0sTi5uZXdfaW50bD17YTo2Mzc4MTU3NWUtMSxiOjYzNTY3NzIyZS0xLGVsbGlwc2VOYW1lOiJOZXcgSW50ZXJuYXRpb25hbCAxOTY3In0sTi5wbGVzc2lzPXthOjYzNzY1MjMscmY6NjM1NTg2MyxlbGxpcHNlTmFtZToiUGxlc3NpcyAxODE3IChGcmFuY2UpIn0sTi5rcmFzcz17YTo2Mzc4MjQ1LHJmOjI5OC4zLGVsbGlwc2VOYW1lOiJLcmFzc292c2t5LCAxOTQyIn0sTi5TRWFzaWE9e2E6NjM3ODE1NSxiOjYzNTY3NzMzMjA1ZS00LGVsbGlwc2VOYW1lOiJTb3V0aGVhc3QgQXNpYSJ9LE4ud2FsYmVjaz17YTo2Mzc2ODk2LGI6NjM1NTgzNDg0NjdlLTQsZWxsaXBzZU5hbWU6IldhbGJlY2sifSxOLldHUzYwPXthOjYzNzgxNjUscmY6Mjk4LjMsZWxsaXBzZU5hbWU6IldHUyA2MCJ9LE4uV0dTNjY9e2E6NjM3ODE0NSxyZjoyOTguMjUsZWxsaXBzZU5hbWU6IldHUyA2NiJ9LE4uV0dTNz17YTo2Mzc4MTM1LHJmOjI5OC4yNixlbGxpcHNlTmFtZToiV0dTIDcyIn07dmFyIHBhPU4uV0dTODQ9e2E6NjM3ODEzNyxyZjoyOTguMjU3MjIzNTYzLGVsbGlwc2VOYW1lOiJXR1MgODQifTtOLnNwaGVyZT17YTo2MzcwOTk3LGI6NjM3MDk5NyxlbGxpcHNlTmFtZToiTm9ybWFsIFNwaGVyZSAocj02MzcwOTk3KSJ9O2Z1bmN0aW9uIG1hKHQsZSxzLGkpe3ZhciBhPXQqdCxuPWUqZSxoPShhLW4pL2Escj0wO2k/KHQqPTEtaCooUmkraCooTGkraCpxaSkpLGE9dCp0LGg9MCk6cj1NYXRoLnNxcnQoaCk7dmFyIG89KGEtbikvbjtyZXR1cm57ZXM6aCxlOnIsZXAyOm99fWZ1bmN0aW9uIGRhKHQsZSxzLGksYSl7aWYoIXQpe3ZhciBuPWx0KE4saSk7bnx8KG49cGEpLHQ9bi5hLGU9bi5iLHM9bi5yZn1yZXR1cm4gcyYmIWUmJihlPSgxLTEvcykqdCksKHM9PT0wfHxNYXRoLmFicyh0LWUpPHkpJiYoYT0hMCxlPXQpLHthOnQsYjplLHJmOnMsc3BoZXJlOmF9fXZhciBCPXt9O0Iud2dzODQ9e3Rvd2dzODQ6IjAsMCwwIixlbGxpcHNlOiJXR1M4NCIsZGF0dW1OYW1lOiJXR1M4NCJ9LEIuY2gxOTAzPXt0b3dnczg0OiI2NzQuMzc0LDE1LjA1Niw0MDUuMzQ2IixlbGxpcHNlOiJiZXNzZWwiLGRhdHVtTmFtZToic3dpc3MifSxCLmdncnM4Nz17dG93Z3M4NDoiLTE5OS44Nyw3NC43OSwyNDYuNjIiLGVsbGlwc2U6IkdSUzgwIixkYXR1bU5hbWU6IkdyZWVrX0dlb2RldGljX1JlZmVyZW5jZV9TeXN0ZW1fMTk4NyJ9LEIubmFkODM9e3Rvd2dzODQ6IjAsMCwwIixlbGxpcHNlOiJHUlM4MCIsZGF0dW1OYW1lOiJOb3J0aF9BbWVyaWNhbl9EYXR1bV8xOTgzIn0sQi5uYWQyNz17bmFkZ3JpZHM6IkBjb251cyxAYWxhc2thLEBudHYyXzAuZ3NiLEBudHYxX2Nhbi5kYXQiLGVsbGlwc2U6ImNscms2NiIsZGF0dW1OYW1lOiJOb3J0aF9BbWVyaWNhbl9EYXR1bV8xOTI3In0sQi5wb3RzZGFtPXt0b3dnczg0OiI1OTguMSw3My43LDQxOC4yLDAuMjAyLDAuMDQ1LC0yLjQ1NSw2LjciLGVsbGlwc2U6ImJlc3NlbCIsZGF0dW1OYW1lOiJQb3RzZGFtIFJhdWVuYmVyZyAxOTUwIERIRE4ifSxCLmNhcnRoYWdlPXt0b3dnczg0OiItMjYzLjAsNi4wLDQzMS4wIixlbGxpcHNlOiJjbGFyazgwIixkYXR1bU5hbWU6IkNhcnRoYWdlIDE5MzQgVHVuaXNpYSJ9LEIuaGVybWFubnNrb2dlbD17dG93Z3M4NDoiNTc3LjMyNiw5MC4xMjksNDYzLjkxOSw1LjEzNywxLjQ3NCw1LjI5NywyLjQyMzIiLGVsbGlwc2U6ImJlc3NlbCIsZGF0dW1OYW1lOiJIZXJtYW5uc2tvZ2VsIn0sQi5vc25pNTI9e3Rvd2dzODQ6IjQ4Mi41MzAsLTEzMC41OTYsNTY0LjU1NywtMS4wNDIsLTAuMjE0LC0wLjYzMSw4LjE1IixlbGxpcHNlOiJhaXJ5IixkYXR1bU5hbWU6IklyaXNoIE5hdGlvbmFsIn0sQi5pcmU2NT17dG93Z3M4NDoiNDgyLjUzMCwtMTMwLjU5Niw1NjQuNTU3LC0xLjA0MiwtMC4yMTQsLTAuNjMxLDguMTUiLGVsbGlwc2U6Im1vZF9haXJ5IixkYXR1bU5hbWU6IklyZWxhbmQgMTk2NSJ9LEIucmFzc2FkaXJhbj17dG93Z3M4NDoiLTEzMy42MywtMTU3LjUsLTE1OC42MiIsZWxsaXBzZToiaW50bCIsZGF0dW1OYW1lOiJSYXNzYWRpcmFuIn0sQi5uemdkNDk9e3Rvd2dzODQ6IjU5LjQ3LC01LjA0LDE4Ny40NCwwLjQ3LC0wLjEsMS4wMjQsLTQuNTk5MyIsZWxsaXBzZToiaW50bCIsZGF0dW1OYW1lOiJOZXcgWmVhbGFuZCBHZW9kZXRpYyBEYXR1bSAxOTQ5In0sQi5vc2diMzY9e3Rvd2dzODQ6IjQ0Ni40NDgsLTEyNS4xNTcsNTQyLjA2MCwwLjE1MDIsMC4yNDcwLDAuODQyMSwtMjAuNDg5NCIsZWxsaXBzZToiYWlyeSIsZGF0dW1OYW1lOiJBaXJ5IDE4MzAifSxCLnNfanRzaz17dG93Z3M4NDoiNTg5LDc2LDQ4MCIsZWxsaXBzZToiYmVzc2VsIixkYXR1bU5hbWU6IlMtSlRTSyAoRmVycm8pIn0sQi5iZWR1YXJhbT17dG93Z3M4NDoiLTEwNiwtODcsMTg4IixlbGxpcHNlOiJjbHJrODAiLGRhdHVtTmFtZToiQmVkdWFyYW0ifSxCLmd1bnVuZ19zZWdhcmE9e3Rvd2dzODQ6Ii00MDMsNjg0LDQxIixlbGxpcHNlOiJiZXNzZWwiLGRhdHVtTmFtZToiR3VudW5nIFNlZ2FyYSBKYWthcnRhIn0sQi5ybmI3Mj17dG93Z3M4NDoiMTA2Ljg2OSwtNTIuMjk3OCwxMDMuNzI0LC0wLjMzNjU3LDAuNDU2OTU1LC0xLjg0MjE4LDEiLGVsbGlwc2U6ImludGwiLGRhdHVtTmFtZToiUmVzZWF1IE5hdGlvbmFsIEJlbGdlIDE5NzIifTtmdW5jdGlvbiBNYSh0LGUscyxpLGEsbixoKXt2YXIgcj17fTtyZXR1cm4gdD09PXZvaWQgMHx8dD09PSJub25lIj9yLmRhdHVtX3R5cGU9T2U6ci5kYXR1bV90eXBlPURpLGUmJihyLmRhdHVtX3BhcmFtcz1lLm1hcChwYXJzZUZsb2F0KSwoci5kYXR1bV9wYXJhbXNbMF0hPT0wfHxyLmRhdHVtX3BhcmFtc1sxXSE9PTB8fHIuZGF0dW1fcGFyYW1zWzJdIT09MCkmJihyLmRhdHVtX3R5cGU9TXQpLHIuZGF0dW1fcGFyYW1zLmxlbmd0aD4zJiYoci5kYXR1bV9wYXJhbXNbM10hPT0wfHxyLmRhdHVtX3BhcmFtc1s0XSE9PTB8fHIuZGF0dW1fcGFyYW1zWzVdIT09MHx8ci5kYXR1bV9wYXJhbXNbNl0hPT0wKSYmKHIuZGF0dW1fdHlwZT1ndCxyLmRhdHVtX3BhcmFtc1szXSo9anQsci5kYXR1bV9wYXJhbXNbNF0qPWp0LHIuZGF0dW1fcGFyYW1zWzVdKj1qdCxyLmRhdHVtX3BhcmFtc1s2XT1yLmRhdHVtX3BhcmFtc1s2XS8xZTYrMSkpLGgmJihyLmRhdHVtX3R5cGU9bGUsci5ncmlkcz1oKSxyLmE9cyxyLmI9aSxyLmVzPWEsci5lcDI9bixyfXZhciBwcz17fTtmdW5jdGlvbiBnYSh0LGUpe3ZhciBzPW5ldyBEYXRhVmlldyhlKSxpPV9hKHMpLGE9dmEocyxpKTthLm5TdWJncmlkcz4xJiZjb25zb2xlLmxvZygiT25seSBzaW5nbGUgTlR2MiBzdWJncmlkcyBhcmUgY3VycmVudGx5IHN1cHBvcnRlZCwgc3Vic2VxdWVudCBzdWIgZ3JpZHMgYXJlIGlnbm9yZWQiKTt2YXIgbj1iYShzLGEsaSksaD17aGVhZGVyOmEsc3ViZ3JpZHM6bn07cmV0dXJuIHBzW3RdPWgsaH1mdW5jdGlvbiB5YSh0KXtpZih0PT09dm9pZCAwKXJldHVybiBudWxsO3ZhciBlPXQuc3BsaXQoIiwiKTtyZXR1cm4gZS5tYXAoeGEpfWZ1bmN0aW9uIHhhKHQpe2lmKHQubGVuZ3RoPT09MClyZXR1cm4gbnVsbDt2YXIgZT10WzBdPT09IkAiO3JldHVybiBlJiYodD10LnNsaWNlKDEpKSx0PT09Im51bGwiP3tuYW1lOiJudWxsIixtYW5kYXRvcnk6IWUsZ3JpZDpudWxsLGlzTnVsbDohMH06e25hbWU6dCxtYW5kYXRvcnk6IWUsZ3JpZDpwc1t0XXx8bnVsbCxpc051bGw6ITF9fWZ1bmN0aW9uIE50KHQpe3JldHVybiB0LzM2MDAqTWF0aC5QSS8xODB9ZnVuY3Rpb24gX2EodCl7dmFyIGU9dC5nZXRJbnQzMig4LCExKTtyZXR1cm4gZT09PTExPyExOihlPXQuZ2V0SW50MzIoOCwhMCksZSE9PTExJiZjb25zb2xlLndhcm4oIkZhaWxlZCB0byBkZXRlY3QgbmFkZ3JpZCBlbmRpYW4tbmVzcywgZGVmYXVsdGluZyB0byBsaXR0bGUtZW5kaWFuIiksITApfWZ1bmN0aW9uIHZhKHQsZSl7cmV0dXJue25GaWVsZHM6dC5nZXRJbnQzMig4LGUpLG5TdWJncmlkRmllbGRzOnQuZ2V0SW50MzIoMjQsZSksblN1YmdyaWRzOnQuZ2V0SW50MzIoNDAsZSksc2hpZnRUeXBlOmtlKHQsNTYsNjQpLnRyaW0oKSxmcm9tU2VtaU1ham9yQXhpczp0LmdldEZsb2F0NjQoMTIwLGUpLGZyb21TZW1pTWlub3JBeGlzOnQuZ2V0RmxvYXQ2NCgxMzYsZSksdG9TZW1pTWFqb3JBeGlzOnQuZ2V0RmxvYXQ2NCgxNTIsZSksdG9TZW1pTWlub3JBeGlzOnQuZ2V0RmxvYXQ2NCgxNjgsZSl9fWZ1bmN0aW9uIGtlKHQsZSxzKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KHQuYnVmZmVyLnNsaWNlKGUscykpKX1mdW5jdGlvbiBiYSh0LGUscyl7Zm9yKHZhciBpPTE3NixhPVtdLG49MDtuPGUublN1YmdyaWRzO24rKyl7dmFyIGg9RWEodCxpLHMpLHI9d2EodCxpLGgscyksbz1NYXRoLnJvdW5kKDErKGgudXBwZXJMb25naXR1ZGUtaC5sb3dlckxvbmdpdHVkZSkvaC5sb25naXR1ZGVJbnRlcnZhbCksdT1NYXRoLnJvdW5kKDErKGgudXBwZXJMYXRpdHVkZS1oLmxvd2VyTGF0aXR1ZGUpL2gubGF0aXR1ZGVJbnRlcnZhbCk7YS5wdXNoKHtsbDpbTnQoaC5sb3dlckxvbmdpdHVkZSksTnQoaC5sb3dlckxhdGl0dWRlKV0sZGVsOltOdChoLmxvbmdpdHVkZUludGVydmFsKSxOdChoLmxhdGl0dWRlSW50ZXJ2YWwpXSxsaW06W28sdV0sY291bnQ6aC5ncmlkTm9kZUNvdW50LGN2czpOYShyKX0pfXJldHVybiBhfWZ1bmN0aW9uIE5hKHQpe3JldHVybiB0Lm1hcChmdW5jdGlvbihlKXtyZXR1cm5bTnQoZS5sb25naXR1ZGVTaGlmdCksTnQoZS5sYXRpdHVkZVNoaWZ0KV19KX1mdW5jdGlvbiBFYSh0LGUscyl7cmV0dXJue25hbWU6a2UodCxlKzgsZSsxNikudHJpbSgpLHBhcmVudDprZSh0LGUrMjQsZSsyNCs4KS50cmltKCksbG93ZXJMYXRpdHVkZTp0LmdldEZsb2F0NjQoZSs3MixzKSx1cHBlckxhdGl0dWRlOnQuZ2V0RmxvYXQ2NChlKzg4LHMpLGxvd2VyTG9uZ2l0dWRlOnQuZ2V0RmxvYXQ2NChlKzEwNCxzKSx1cHBlckxvbmdpdHVkZTp0LmdldEZsb2F0NjQoZSsxMjAscyksbGF0aXR1ZGVJbnRlcnZhbDp0LmdldEZsb2F0NjQoZSsxMzYscyksbG9uZ2l0dWRlSW50ZXJ2YWw6dC5nZXRGbG9hdDY0KGUrMTUyLHMpLGdyaWROb2RlQ291bnQ6dC5nZXRJbnQzMihlKzE2OCxzKX19ZnVuY3Rpb24gd2EodCxlLHMsaSl7Zm9yKHZhciBhPWUrMTc2LG49MTYsaD1bXSxyPTA7cjxzLmdyaWROb2RlQ291bnQ7cisrKXt2YXIgbz17bGF0aXR1ZGVTaGlmdDp0LmdldEZsb2F0MzIoYStyKm4saSksbG9uZ2l0dWRlU2hpZnQ6dC5nZXRGbG9hdDMyKGErcipuKzQsaSksbGF0aXR1ZGVBY2N1cmFjeTp0LmdldEZsb2F0MzIoYStyKm4rOCxpKSxsb25naXR1ZGVBY2N1cmFjeTp0LmdldEZsb2F0MzIoYStyKm4rMTIsaSl9O2gucHVzaChvKX1yZXR1cm4gaH1mdW5jdGlvbiBhdCh0LGUpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGF0KSlyZXR1cm4gbmV3IGF0KHQpO2U9ZXx8ZnVuY3Rpb24odSl7aWYodSl0aHJvdyB1fTt2YXIgcz10YSh0KTtpZih0eXBlb2YgcyE9Im9iamVjdCIpe2UodCk7cmV0dXJufXZhciBpPWF0LnByb2plY3Rpb25zLmdldChzLnByb2pOYW1lKTtpZighaSl7ZSh0KTtyZXR1cm59aWYocy5kYXR1bUNvZGUmJnMuZGF0dW1Db2RlIT09Im5vbmUiKXt2YXIgYT1sdChCLHMuZGF0dW1Db2RlKTthJiYocy5kYXR1bV9wYXJhbXM9cy5kYXR1bV9wYXJhbXN8fChhLnRvd2dzODQ/YS50b3dnczg0LnNwbGl0KCIsIik6bnVsbCkscy5lbGxwcz1hLmVsbGlwc2Uscy5kYXR1bU5hbWU9YS5kYXR1bU5hbWU/YS5kYXR1bU5hbWU6cy5kYXR1bUNvZGUpfXMuazA9cy5rMHx8MSxzLmF4aXM9cy5heGlzfHwiZW51IixzLmVsbHBzPXMuZWxscHN8fCJ3Z3M4NCIscy5sYXQxPXMubGF0MXx8cy5sYXQwO3ZhciBuPWRhKHMuYSxzLmIscy5yZixzLmVsbHBzLHMuc3BoZXJlKSxoPW1hKG4uYSxuLmIsbi5yZixzLlJfQSkscj15YShzLm5hZGdyaWRzKSxvPXMuZGF0dW18fE1hKHMuZGF0dW1Db2RlLHMuZGF0dW1fcGFyYW1zLG4uYSxuLmIsaC5lcyxoLmVwMixyKTtscyh0aGlzLHMpLGxzKHRoaXMsaSksdGhpcy5hPW4uYSx0aGlzLmI9bi5iLHRoaXMucmY9bi5yZix0aGlzLnNwaGVyZT1uLnNwaGVyZSx0aGlzLmVzPWguZXMsdGhpcy5lPWguZSx0aGlzLmVwMj1oLmVwMix0aGlzLmRhdHVtPW8sdGhpcy5pbml0KCksZShudWxsLHRoaXMpfWF0LnByb2plY3Rpb25zPWZhLGF0LnByb2plY3Rpb25zLnN0YXJ0KCk7ZnVuY3Rpb24gQWEodCxlKXtyZXR1cm4gdC5kYXR1bV90eXBlIT09ZS5kYXR1bV90eXBlfHx0LmEhPT1lLmF8fE1hdGguYWJzKHQuZXMtZS5lcyk+NWUtMTE/ITE6dC5kYXR1bV90eXBlPT09TXQ/dC5kYXR1bV9wYXJhbXNbMF09PT1lLmRhdHVtX3BhcmFtc1swXSYmdC5kYXR1bV9wYXJhbXNbMV09PT1lLmRhdHVtX3BhcmFtc1sxXSYmdC5kYXR1bV9wYXJhbXNbMl09PT1lLmRhdHVtX3BhcmFtc1syXTp0LmRhdHVtX3R5cGU9PT1ndD90LmRhdHVtX3BhcmFtc1swXT09PWUuZGF0dW1fcGFyYW1zWzBdJiZ0LmRhdHVtX3BhcmFtc1sxXT09PWUuZGF0dW1fcGFyYW1zWzFdJiZ0LmRhdHVtX3BhcmFtc1syXT09PWUuZGF0dW1fcGFyYW1zWzJdJiZ0LmRhdHVtX3BhcmFtc1szXT09PWUuZGF0dW1fcGFyYW1zWzNdJiZ0LmRhdHVtX3BhcmFtc1s0XT09PWUuZGF0dW1fcGFyYW1zWzRdJiZ0LmRhdHVtX3BhcmFtc1s1XT09PWUuZGF0dW1fcGFyYW1zWzVdJiZ0LmRhdHVtX3BhcmFtc1s2XT09PWUuZGF0dW1fcGFyYW1zWzZdOiEwfWZ1bmN0aW9uIG1zKHQsZSxzKXt2YXIgaT10LngsYT10Lnksbj10Lno/dC56OjAsaCxyLG8sdTtpZihhPC1nJiZhPi0xLjAwMSpnKWE9LWc7ZWxzZSBpZihhPmcmJmE8MS4wMDEqZylhPWc7ZWxzZXtpZihhPC1nKXJldHVybnt4Oi0xLzAseTotMS8wLHo6dC56fTtpZihhPmcpcmV0dXJue3g6MS8wLHk6MS8wLHo6dC56fX1yZXR1cm4gaT5NYXRoLlBJJiYoaS09MipNYXRoLlBJKSxyPU1hdGguc2luKGEpLHU9TWF0aC5jb3MoYSksbz1yKnIsaD1zL01hdGguc3FydCgxLWUqbykse3g6KGgrbikqdSpNYXRoLmNvcyhpKSx5OihoK24pKnUqTWF0aC5zaW4oaSksejooaCooMS1lKStuKSpyfX1mdW5jdGlvbiBkcyh0LGUscyxpKXt2YXIgYT0xZS0xMixuPWEqYSxoPTMwLHIsbyx1LGwsYyxmLHAsbSxkLE0seCxiLHYsRT10LngsQT10LnksQz10Lno/dC56OjAsVCx3LFM7aWYocj1NYXRoLnNxcnQoRSpFK0EqQSksbz1NYXRoLnNxcnQoRSpFK0EqQStDKkMpLHIvczxhKXtpZihUPTAsby9zPGEpcmV0dXJuIHc9ZyxTPS1pLHt4OnQueCx5OnQueSx6OnQuen19ZWxzZSBUPU1hdGguYXRhbjIoQSxFKTt1PUMvbyxsPXIvbyxjPTEvTWF0aC5zcXJ0KDEtZSooMi1lKSpsKmwpLG09bCooMS1lKSpjLGQ9dSpjLHY9MDtkbyB2KysscD1zL01hdGguc3FydCgxLWUqZCpkKSxTPXIqbStDKmQtcCooMS1lKmQqZCksZj1lKnAvKHArUyksYz0xL01hdGguc3FydCgxLWYqKDItZikqbCpsKSxNPWwqKDEtZikqYyx4PXUqYyxiPXgqbS1NKmQsbT1NLGQ9eDt3aGlsZShiKmI+biYmdjxoKTtyZXR1cm4gdz1NYXRoLmF0YW4oeC9NYXRoLmFicyhNKSkse3g6VCx5OncsejpTfX1mdW5jdGlvbiBDYSh0LGUscyl7aWYoZT09PU10KXJldHVybnt4OnQueCtzWzBdLHk6dC55K3NbMV0sejp0Lnorc1syXX07aWYoZT09PWd0KXt2YXIgaT1zWzBdLGE9c1sxXSxuPXNbMl0saD1zWzNdLHI9c1s0XSxvPXNbNV0sdT1zWzZdO3JldHVybnt4OnUqKHQueC1vKnQueStyKnQueikraSx5OnUqKG8qdC54K3QueS1oKnQueikrYSx6OnUqKC1yKnQueCtoKnQueSt0LnopK259fX1mdW5jdGlvbiBTYSh0LGUscyl7aWYoZT09PU10KXJldHVybnt4OnQueC1zWzBdLHk6dC55LXNbMV0sejp0Lnotc1syXX07aWYoZT09PWd0KXt2YXIgaT1zWzBdLGE9c1sxXSxuPXNbMl0saD1zWzNdLHI9c1s0XSxvPXNbNV0sdT1zWzZdLGw9KHQueC1pKS91LGM9KHQueS1hKS91LGY9KHQuei1uKS91O3JldHVybnt4OmwrbypjLXIqZix5Oi1vKmwrYytoKmYsejpyKmwtaCpjK2Z9fX1mdW5jdGlvbiBkZSh0KXtyZXR1cm4gdD09PU10fHx0PT09Z3R9ZnVuY3Rpb24gSWEodCxlLHMpe2lmKEFhKHQsZSl8fHQuZGF0dW1fdHlwZT09PU9lfHxlLmRhdHVtX3R5cGU9PT1PZSlyZXR1cm4gczt2YXIgaT10LmEsYT10LmVzO2lmKHQuZGF0dW1fdHlwZT09PWxlKXt2YXIgbj1Ncyh0LCExLHMpO2lmKG4hPT0wKXJldHVybjtpPWVzLGE9c3N9dmFyIGg9ZS5hLHI9ZS5iLG89ZS5lcztpZihlLmRhdHVtX3R5cGU9PT1sZSYmKGg9ZXMscj1raSxvPXNzKSxhPT09byYmaT09PWgmJiFkZSh0LmRhdHVtX3R5cGUpJiYhZGUoZS5kYXR1bV90eXBlKSlyZXR1cm4gcztpZihzPW1zKHMsYSxpKSxkZSh0LmRhdHVtX3R5cGUpJiYocz1DYShzLHQuZGF0dW1fdHlwZSx0LmRhdHVtX3BhcmFtcykpLGRlKGUuZGF0dW1fdHlwZSkmJihzPVNhKHMsZS5kYXR1bV90eXBlLGUuZGF0dW1fcGFyYW1zKSkscz1kcyhzLG8saCxyKSxlLmRhdHVtX3R5cGU9PT1sZSl7dmFyIHU9TXMoZSwhMCxzKTtpZih1IT09MClyZXR1cm59cmV0dXJuIHN9ZnVuY3Rpb24gTXModCxlLHMpe2lmKHQuZ3JpZHM9PT1udWxsfHx0LmdyaWRzLmxlbmd0aD09PTApcmV0dXJuIGNvbnNvbGUubG9nKCJHcmlkIHNoaWZ0IGdyaWRzIG5vdCBmb3VuZCIpLC0xO2Zvcih2YXIgaT17eDotcy54LHk6cy55fSxhPXt4Ok51bWJlci5OYU4seTpOdW1iZXIuTmFOfSxuPVtdLGg9MDtoPHQuZ3JpZHMubGVuZ3RoO2grKyl7dmFyIHI9dC5ncmlkc1toXTtpZihuLnB1c2goci5uYW1lKSxyLmlzTnVsbCl7YT1pO2JyZWFrfWlmKHIuZ3JpZD09PW51bGwpe2lmKHIubWFuZGF0b3J5KXJldHVybiBjb25zb2xlLmxvZygiVW5hYmxlIHRvIGZpbmQgbWFuZGF0b3J5IGdyaWQgJyIrci5uYW1lKyInIiksLTE7Y29udGludWV9dmFyIG89ci5ncmlkLnN1YmdyaWRzWzBdLHU9KE1hdGguYWJzKG8uZGVsWzFdKStNYXRoLmFicyhvLmRlbFswXSkpLzFlNCxsPW8ubGxbMF0tdSxjPW8ubGxbMV0tdSxmPW8ubGxbMF0rKG8ubGltWzBdLTEpKm8uZGVsWzBdK3UscD1vLmxsWzFdKyhvLmxpbVsxXS0xKSpvLmRlbFsxXSt1O2lmKCEoYz5pLnl8fGw+aS54fHxwPGkueXx8ZjxpLngpJiYoYT1UYShpLGUsbyksIWlzTmFOKGEueCkpKWJyZWFrfXJldHVybiBpc05hTihhLngpPyhjb25zb2xlLmxvZygiRmFpbGVkIHRvIGZpbmQgYSBncmlkIHNoaWZ0IHRhYmxlIGZvciBsb2NhdGlvbiAnIistaS54KnN0KyIgIitpLnkqc3QrIiB0cmllZDogJyIrbisiJyIpLC0xKToocy54PS1hLngscy55PWEueSwwKX1mdW5jdGlvbiBUYSh0LGUscyl7dmFyIGk9e3g6TnVtYmVyLk5hTix5Ok51bWJlci5OYU59O2lmKGlzTmFOKHQueCkpcmV0dXJuIGk7dmFyIGE9e3g6dC54LHk6dC55fTthLngtPXMubGxbMF0sYS55LT1zLmxsWzFdLGEueD1fKGEueC1NYXRoLlBJKStNYXRoLlBJO3ZhciBuPWdzKGEscyk7aWYoZSl7aWYoaXNOYU4obi54KSlyZXR1cm4gaTtuLng9YS54LW4ueCxuLnk9YS55LW4ueTt2YXIgaD05LHI9MWUtMTIsbyx1O2Rve2lmKHU9Z3MobixzKSxpc05hTih1LngpKXtjb25zb2xlLmxvZygiSW52ZXJzZSBncmlkIHNoaWZ0IGl0ZXJhdGlvbiBmYWlsZWQsIHByZXN1bWFibHkgYXQgZ3JpZCBlZGdlLiAgVXNpbmcgZmlyc3QgYXBwcm94aW1hdGlvbi4iKTticmVha31vPXt4OmEueC0odS54K24ueCkseTphLnktKHUueStuLnkpfSxuLngrPW8ueCxuLnkrPW8ueX13aGlsZShoLS0mJk1hdGguYWJzKG8ueCk+ciYmTWF0aC5hYnMoby55KT5yKTtpZihoPDApcmV0dXJuIGNvbnNvbGUubG9nKCJJbnZlcnNlIGdyaWQgc2hpZnQgaXRlcmF0b3IgZmFpbGVkIHRvIGNvbnZlcmdlLiIpLGk7aS54PV8obi54K3MubGxbMF0pLGkueT1uLnkrcy5sbFsxXX1lbHNlIGlzTmFOKG4ueCl8fChpLng9dC54K24ueCxpLnk9dC55K24ueSk7cmV0dXJuIGl9ZnVuY3Rpb24gZ3ModCxlKXt2YXIgcz17eDp0LngvZS5kZWxbMF0seTp0LnkvZS5kZWxbMV19LGk9e3g6TWF0aC5mbG9vcihzLngpLHk6TWF0aC5mbG9vcihzLnkpfSxhPXt4OnMueC0xKmkueCx5OnMueS0xKmkueX0sbj17eDpOdW1iZXIuTmFOLHk6TnVtYmVyLk5hTn0saDtpZihpLng8MHx8aS54Pj1lLmxpbVswXXx8aS55PDB8fGkueT49ZS5saW1bMV0pcmV0dXJuIG47aD1pLnkqZS5saW1bMF0raS54O3ZhciByPXt4OmUuY3ZzW2hdWzBdLHk6ZS5jdnNbaF1bMV19O2grKzt2YXIgbz17eDplLmN2c1toXVswXSx5OmUuY3ZzW2hdWzFdfTtoKz1lLmxpbVswXTt2YXIgdT17eDplLmN2c1toXVswXSx5OmUuY3ZzW2hdWzFdfTtoLS07dmFyIGw9e3g6ZS5jdnNbaF1bMF0seTplLmN2c1toXVsxXX0sYz1hLngqYS55LGY9YS54KigxLWEueSkscD0oMS1hLngpKigxLWEueSksbT0oMS1hLngpKmEueTtyZXR1cm4gbi54PXAqci54K2Yqby54K20qbC54K2MqdS54LG4ueT1wKnIueStmKm8ueSttKmwueStjKnUueSxufWZ1bmN0aW9uIHlzKHQsZSxzKXt2YXIgaT1zLngsYT1zLnksbj1zLnp8fDAsaCxyLG8sdT17fTtmb3Iobz0wO288MztvKyspaWYoIShlJiZvPT09MiYmcy56PT09dm9pZCAwKSlzd2l0Y2gobz09PTA/KGg9aSwiZXciLmluZGV4T2YodC5heGlzW29dKSE9PS0xP3I9IngiOnI9InkiKTpvPT09MT8oaD1hLCJucyIuaW5kZXhPZih0LmF4aXNbb10pIT09LTE/cj0ieSI6cj0ieCIpOihoPW4scj0ieiIpLHQuYXhpc1tvXSl7Y2FzZSJlIjp1W3JdPWg7YnJlYWs7Y2FzZSJ3Ijp1W3JdPS1oO2JyZWFrO2Nhc2UibiI6dVtyXT1oO2JyZWFrO2Nhc2UicyI6dVtyXT0taDticmVhaztjYXNlInUiOnNbcl0hPT12b2lkIDAmJih1Lno9aCk7YnJlYWs7Y2FzZSJkIjpzW3JdIT09dm9pZCAwJiYodS56PS1oKTticmVhaztkZWZhdWx0OnJldHVybiBudWxsfXJldHVybiB1fWZ1bmN0aW9uIHhzKHQpe3ZhciBlPXt4OnRbMF0seTp0WzFdfTtyZXR1cm4gdC5sZW5ndGg+MiYmKGUuej10WzJdKSx0Lmxlbmd0aD4zJiYoZS5tPXRbM10pLGV9ZnVuY3Rpb24gT2EodCl7X3ModC54KSxfcyh0LnkpfWZ1bmN0aW9uIF9zKHQpe2lmKHR5cGVvZiBOdW1iZXIuaXNGaW5pdGU9PSJmdW5jdGlvbiIpe2lmKE51bWJlci5pc0Zpbml0ZSh0KSlyZXR1cm47dGhyb3cgbmV3IFR5cGVFcnJvcigiY29vcmRpbmF0ZXMgbXVzdCBiZSBmaW5pdGUgbnVtYmVycyIpfWlmKHR5cGVvZiB0IT0ibnVtYmVyInx8dCE9PXR8fCFpc0Zpbml0ZSh0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJjb29yZGluYXRlcyBtdXN0IGJlIGZpbml0ZSBudW1iZXJzIil9ZnVuY3Rpb24gUGEodCxlKXtyZXR1cm4odC5kYXR1bS5kYXR1bV90eXBlPT09TXR8fHQuZGF0dW0uZGF0dW1fdHlwZT09PWd0KSYmZS5kYXR1bUNvZGUhPT0iV0dTODQifHwoZS5kYXR1bS5kYXR1bV90eXBlPT09TXR8fGUuZGF0dW0uZGF0dW1fdHlwZT09PWd0KSYmdC5kYXR1bUNvZGUhPT0iV0dTODQifWZ1bmN0aW9uIE1lKHQsZSxzLGkpe3ZhciBhO2lmKEFycmF5LmlzQXJyYXkocykmJihzPXhzKHMpKSxPYShzKSx0LmRhdHVtJiZlLmRhdHVtJiZQYSh0LGUpJiYoYT1uZXcgYXQoIldHUzg0Iikscz1NZSh0LGEscyxpKSx0PWEpLGkmJnQuYXhpcyE9PSJlbnUiJiYocz15cyh0LCExLHMpKSx0LnByb2pOYW1lPT09ImxvbmdsYXQiKXM9e3g6cy54KmoseTpzLnkqaix6OnMuenx8MH07ZWxzZSBpZih0LnRvX21ldGVyJiYocz17eDpzLngqdC50b19tZXRlcix5OnMueSp0LnRvX21ldGVyLHo6cy56fHwwfSkscz10LmludmVyc2UocyksIXMpcmV0dXJuO2lmKHQuZnJvbV9ncmVlbndpY2gmJihzLngrPXQuZnJvbV9ncmVlbndpY2gpLHM9SWEodC5kYXR1bSxlLmRhdHVtLHMpLCEhcylyZXR1cm4gZS5mcm9tX2dyZWVud2ljaCYmKHM9e3g6cy54LWUuZnJvbV9ncmVlbndpY2gseTpzLnksejpzLnp8fDB9KSxlLnByb2pOYW1lPT09ImxvbmdsYXQiP3M9e3g6cy54KnN0LHk6cy55KnN0LHo6cy56fHwwfToocz1lLmZvcndhcmQocyksZS50b19tZXRlciYmKHM9e3g6cy54L2UudG9fbWV0ZXIseTpzLnkvZS50b19tZXRlcix6OnMuenx8MH0pKSxpJiZlLmF4aXMhPT0iZW51Ij95cyhlLCEwLHMpOnN9dmFyIHZzPWF0KCJXR1M4NCIpO2Z1bmN0aW9uIFJlKHQsZSxzLGkpe3ZhciBhLG4saDtyZXR1cm4gQXJyYXkuaXNBcnJheShzKT8oYT1NZSh0LGUscyxpKXx8e3g6TmFOLHk6TmFOfSxzLmxlbmd0aD4yP3R5cGVvZiB0Lm5hbWU8InUiJiZ0Lm5hbWU9PT0iZ2VvY2VudCJ8fHR5cGVvZiBlLm5hbWU8InUiJiZlLm5hbWU9PT0iZ2VvY2VudCI/dHlwZW9mIGEuej09Im51bWJlciI/W2EueCxhLnksYS56XS5jb25jYXQocy5zcGxpY2UoMykpOlthLngsYS55LHNbMl1dLmNvbmNhdChzLnNwbGljZSgzKSk6W2EueCxhLnldLmNvbmNhdChzLnNwbGljZSgyKSk6W2EueCxhLnldKToobj1NZSh0LGUscyxpKSxoPU9iamVjdC5rZXlzKHMpLGgubGVuZ3RoPT09Mnx8aC5mb3JFYWNoKGZ1bmN0aW9uKHIpe2lmKHR5cGVvZiB0Lm5hbWU8InUiJiZ0Lm5hbWU9PT0iZ2VvY2VudCJ8fHR5cGVvZiBlLm5hbWU8InUiJiZlLm5hbWU9PT0iZ2VvY2VudCIpe2lmKHI9PT0ieCJ8fHI9PT0ieSJ8fHI9PT0ieiIpcmV0dXJufWVsc2UgaWYocj09PSJ4Inx8cj09PSJ5IilyZXR1cm47bltyXT1zW3JdfSksbil9ZnVuY3Rpb24gYnModCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBhdD90OnQub1Byb2o/dC5vUHJvajphdCh0KX1mdW5jdGlvbiBLKHQsZSxzKXt0PWJzKHQpO3ZhciBpPSExLGE7cmV0dXJuIHR5cGVvZiBlPiJ1Ij8oZT10LHQ9dnMsaT0hMCk6KHR5cGVvZiBlLng8InUifHxBcnJheS5pc0FycmF5KGUpKSYmKHM9ZSxlPXQsdD12cyxpPSEwKSxlPWJzKGUpLHM/UmUodCxlLHMpOihhPXtmb3J3YXJkOmZ1bmN0aW9uKG4saCl7cmV0dXJuIFJlKHQsZSxuLGgpfSxpbnZlcnNlOmZ1bmN0aW9uKG4saCl7cmV0dXJuIFJlKGUsdCxuLGgpfX0saSYmKGEub1Byb2o9ZSksYSl9dmFyIE5zPTYsRXM9IkFKU0FKUyIsd3M9IkFGQUZBRiIsRXQ9NjUsVz03MywkPTc5LFF0PTg2LFh0PTkwLERhPXtmb3J3YXJkOkFzLGludmVyc2U6a2EsdG9Qb2ludDpDc307ZnVuY3Rpb24gQXModCxlKXtyZXR1cm4gZT1lfHw1LHFhKFJhKHtsYXQ6dFsxXSxsb246dFswXX0pLGUpfWZ1bmN0aW9uIGthKHQpe3ZhciBlPXFlKFRzKHQudG9VcHBlckNhc2UoKSkpO3JldHVybiBlLmxhdCYmZS5sb24/W2UubG9uLGUubGF0LGUubG9uLGUubGF0XTpbZS5sZWZ0LGUuYm90dG9tLGUucmlnaHQsZS50b3BdfWZ1bmN0aW9uIENzKHQpe3ZhciBlPXFlKFRzKHQudG9VcHBlckNhc2UoKSkpO3JldHVybiBlLmxhdCYmZS5sb24/W2UubG9uLGUubGF0XTpbKGUubGVmdCtlLnJpZ2h0KS8yLChlLnRvcCtlLmJvdHRvbSkvMl19ZnVuY3Rpb24gTGUodCl7cmV0dXJuIHQqKE1hdGguUEkvMTgwKX1mdW5jdGlvbiBTcyh0KXtyZXR1cm4gMTgwKih0L01hdGguUEkpfWZ1bmN0aW9uIFJhKHQpe3ZhciBlPXQubGF0LHM9dC5sb24saT02Mzc4MTM3LGE9LjAwNjY5NDM4LG49Ljk5OTYsaCxyLG8sdSxsLGMsZixwPUxlKGUpLG09TGUocyksZCxNO009TWF0aC5mbG9vcigocysxODApLzYpKzEscz09PTE4MCYmKE09NjApLGU+PTU2JiZlPDY0JiZzPj0zJiZzPDEyJiYoTT0zMiksZT49NzImJmU8ODQmJihzPj0wJiZzPDk/TT0zMTpzPj05JiZzPDIxP009MzM6cz49MjEmJnM8MzM/TT0zNTpzPj0zMyYmczw0MiYmKE09MzcpKSxoPShNLTEpKjYtMTgwKzMsZD1MZShoKSxyPWEvKDEtYSksbz1pL01hdGguc3FydCgxLWEqTWF0aC5zaW4ocCkqTWF0aC5zaW4ocCkpLHU9TWF0aC50YW4ocCkqTWF0aC50YW4ocCksbD1yKk1hdGguY29zKHApKk1hdGguY29zKHApLGM9TWF0aC5jb3MocCkqKG0tZCksZj1pKigoMS1hLzQtMyphKmEvNjQtNSphKmEqYS8yNTYpKnAtKDMqYS84KzMqYSphLzMyKzQ1KmEqYSphLzEwMjQpKk1hdGguc2luKDIqcCkrKDE1KmEqYS8yNTYrNDUqYSphKmEvMTAyNCkqTWF0aC5zaW4oNCpwKS0zNSphKmEqYS8zMDcyKk1hdGguc2luKDYqcCkpO3ZhciB4PW4qbyooYysoMS11K2wpKmMqYypjLzYrKDUtMTgqdSt1KnUrNzIqbC01OCpyKSpjKmMqYypjKmMvMTIwKSs1ZTUsYj1uKihmK28qTWF0aC50YW4ocCkqKGMqYy8yKyg1LXUrOSpsKzQqbCpsKSpjKmMqYypjLzI0Kyg2MS01OCp1K3UqdSs2MDAqbC0zMzAqcikqYypjKmMqYypjKmMvNzIwKSk7cmV0dXJuIGU8MCYmKGIrPTFlNykse25vcnRoaW5nOk1hdGgucm91bmQoYiksZWFzdGluZzpNYXRoLnJvdW5kKHgpLHpvbmVOdW1iZXI6TSx6b25lTGV0dGVyOkxhKGUpfX1mdW5jdGlvbiBxZSh0KXt2YXIgZT10Lm5vcnRoaW5nLHM9dC5lYXN0aW5nLGk9dC56b25lTGV0dGVyLGE9dC56b25lTnVtYmVyO2lmKGE8MHx8YT42MClyZXR1cm4gbnVsbDt2YXIgbj0uOTk5NixoPTYzNzgxMzcscj0uMDA2Njk0Mzgsbyx1PSgxLU1hdGguc3FydCgxLXIpKS8oMStNYXRoLnNxcnQoMS1yKSksbCxjLGYscCxtLGQsTSx4LGIsdj1zLTVlNSxFPWU7aTwiTiImJihFLT0xZTcpLE09KGEtMSkqNi0xODArMyxvPXIvKDEtciksZD1FL24seD1kLyhoKigxLXIvNC0zKnIqci82NC01KnIqcipyLzI1NikpLGI9eCsoMyp1LzItMjcqdSp1KnUvMzIpKk1hdGguc2luKDIqeCkrKDIxKnUqdS8xNi01NSp1KnUqdSp1LzMyKSpNYXRoLnNpbig0KngpKzE1MSp1KnUqdS85NipNYXRoLnNpbig2KngpLGw9aC9NYXRoLnNxcnQoMS1yKk1hdGguc2luKGIpKk1hdGguc2luKGIpKSxjPU1hdGgudGFuKGIpKk1hdGgudGFuKGIpLGY9bypNYXRoLmNvcyhiKSpNYXRoLmNvcyhiKSxwPWgqKDEtcikvTWF0aC5wb3coMS1yKk1hdGguc2luKGIpKk1hdGguc2luKGIpLDEuNSksbT12LyhsKm4pO3ZhciBBPWItbCpNYXRoLnRhbihiKS9wKihtKm0vMi0oNSszKmMrMTAqZi00KmYqZi05Km8pKm0qbSptKm0vMjQrKDYxKzkwKmMrMjk4KmYrNDUqYypjLTI1MipvLTMqZipmKSptKm0qbSptKm0qbS83MjApO0E9U3MoQSk7dmFyIEM9KG0tKDErMipjK2YpKm0qbSptLzYrKDUtMipmKzI4KmMtMypmKmYrOCpvKzI0KmMqYykqbSptKm0qbSptLzEyMCkvTWF0aC5jb3MoYik7Qz1NK1NzKEMpO3ZhciBUO2lmKHQuYWNjdXJhY3kpe3ZhciB3PXFlKHtub3J0aGluZzp0Lm5vcnRoaW5nK3QuYWNjdXJhY3ksZWFzdGluZzp0LmVhc3RpbmcrdC5hY2N1cmFjeSx6b25lTGV0dGVyOnQuem9uZUxldHRlcix6b25lTnVtYmVyOnQuem9uZU51bWJlcn0pO1Q9e3RvcDp3LmxhdCxyaWdodDp3Lmxvbixib3R0b206QSxsZWZ0OkN9fWVsc2UgVD17bGF0OkEsbG9uOkN9O3JldHVybiBUfWZ1bmN0aW9uIExhKHQpe3ZhciBlPSJaIjtyZXR1cm4gODQ+PXQmJnQ+PTcyP2U9IlgiOjcyPnQmJnQ+PTY0P2U9IlciOjY0PnQmJnQ+PTU2P2U9IlYiOjU2PnQmJnQ+PTQ4P2U9IlUiOjQ4PnQmJnQ+PTQwP2U9IlQiOjQwPnQmJnQ+PTMyP2U9IlMiOjMyPnQmJnQ+PTI0P2U9IlIiOjI0PnQmJnQ+PTE2P2U9IlEiOjE2PnQmJnQ+PTg/ZT0iUCI6OD50JiZ0Pj0wP2U9Ik4iOjA+dCYmdD49LTg/ZT0iTSI6LTg+dCYmdD49LTE2P2U9IkwiOi0xNj50JiZ0Pj0tMjQ/ZT0iSyI6LTI0PnQmJnQ+PS0zMj9lPSJKIjotMzI+dCYmdD49LTQwP2U9IkgiOi00MD50JiZ0Pj0tNDg/ZT0iRyI6LTQ4PnQmJnQ+PS01Nj9lPSJGIjotNTY+dCYmdD49LTY0P2U9IkUiOi02ND50JiZ0Pj0tNzI/ZT0iRCI6LTcyPnQmJnQ+PS04MCYmKGU9IkMiKSxlfWZ1bmN0aW9uIHFhKHQsZSl7dmFyIHM9IjAwMDAwIit0LmVhc3RpbmcsaT0iMDAwMDAiK3Qubm9ydGhpbmc7cmV0dXJuIHQuem9uZU51bWJlcit0LnpvbmVMZXR0ZXIrQmEodC5lYXN0aW5nLHQubm9ydGhpbmcsdC56b25lTnVtYmVyKStzLnN1YnN0cihzLmxlbmd0aC01LGUpK2kuc3Vic3RyKGkubGVuZ3RoLTUsZSl9ZnVuY3Rpb24gQmEodCxlLHMpe3ZhciBpPUlzKHMpLGE9TWF0aC5mbG9vcih0LzFlNSksbj1NYXRoLmZsb29yKGUvMWU1KSUyMDtyZXR1cm4gRmEoYSxuLGkpfWZ1bmN0aW9uIElzKHQpe3ZhciBlPXQlTnM7cmV0dXJuIGU9PT0wJiYoZT1OcyksZX1mdW5jdGlvbiBGYSh0LGUscyl7dmFyIGk9cy0xLGE9RXMuY2hhckNvZGVBdChpKSxuPXdzLmNoYXJDb2RlQXQoaSksaD1hK3QtMSxyPW4rZSxvPSExO2g+WHQmJihoPWgtWHQrRXQtMSxvPSEwKSwoaD09PVd8fGE8VyYmaD5XfHwoaD5XfHxhPFcpJiZvKSYmaCsrLChoPT09JHx8YTwkJiZoPiR8fChoPiR8fGE8JCkmJm8pJiYoaCsrLGg9PT1XJiZoKyspLGg+WHQmJihoPWgtWHQrRXQtMSkscj5RdD8ocj1yLVF0K0V0LTEsbz0hMCk6bz0hMSwocj09PVd8fG48VyYmcj5XfHwocj5XfHxuPFcpJiZvKSYmcisrLChyPT09JHx8bjwkJiZyPiR8fChyPiR8fG48JCkmJm8pJiYocisrLHI9PT1XJiZyKyspLHI+UXQmJihyPXItUXQrRXQtMSk7dmFyIHU9U3RyaW5nLmZyb21DaGFyQ29kZShoKStTdHJpbmcuZnJvbUNoYXJDb2RlKHIpO3JldHVybiB1fWZ1bmN0aW9uIFRzKHQpe2lmKHQmJnQubGVuZ3RoPT09MCl0aHJvdyJNR1JTUG9pbnQgY292ZXJ0aW5nIGZyb20gbm90aGluZyI7Zm9yKHZhciBlPXQubGVuZ3RoLHM9bnVsbCxpPSIiLGEsbj0wOyEvW0EtWl0vLnRlc3QoYT10LmNoYXJBdChuKSk7KXtpZihuPj0yKXRocm93Ik1HUlNQb2ludCBiYWQgY29udmVyc2lvbiBmcm9tOiAiK3Q7aSs9YSxuKyt9dmFyIGg9cGFyc2VJbnQoaSwxMCk7aWYobj09PTB8fG4rMz5lKXRocm93Ik1HUlNQb2ludCBiYWQgY29udmVyc2lvbiBmcm9tOiAiK3Q7dmFyIHI9dC5jaGFyQXQobisrKTtpZihyPD0iQSJ8fHI9PT0iQiJ8fHI9PT0iWSJ8fHI+PSJaInx8cj09PSJJInx8cj09PSJPIil0aHJvdyJNR1JTUG9pbnQgem9uZSBsZXR0ZXIgIityKyIgbm90IGhhbmRsZWQ6ICIrdDtzPXQuc3Vic3RyaW5nKG4sbis9Mik7Zm9yKHZhciBvPUlzKGgpLHU9amEocy5jaGFyQXQoMCksbyksbD1HYShzLmNoYXJBdCgxKSxvKTtsPHphKHIpOylsKz0yZTY7dmFyIGM9ZS1uO2lmKGMlMiE9PTApdGhyb3dgTUdSU1BvaW50IGhhcyB0byBoYXZlIGFuIGV2ZW4gbnVtYmVyIApvZiBkaWdpdHMgYWZ0ZXIgdGhlIHpvbmUgbGV0dGVyIGFuZCB0d28gMTAwa20gbGV0dGVycyAtIGZyb250IApoYWxmIGZvciBlYXN0aW5nIG1ldGVycywgc2Vjb25kIGhhbGYgZm9yIApub3J0aGluZyBtZXRlcnNgK3Q7dmFyIGY9Yy8yLHA9MCxtPTAsZCxNLHgsYix2O3JldHVybiBmPjAmJihkPTFlNS9NYXRoLnBvdygxMCxmKSxNPXQuc3Vic3RyaW5nKG4sbitmKSxwPXBhcnNlRmxvYXQoTSkqZCx4PXQuc3Vic3RyaW5nKG4rZiksbT1wYXJzZUZsb2F0KHgpKmQpLGI9cCt1LHY9bStsLHtlYXN0aW5nOmIsbm9ydGhpbmc6dix6b25lTGV0dGVyOnIsem9uZU51bWJlcjpoLGFjY3VyYWN5OmR9fWZ1bmN0aW9uIGphKHQsZSl7Zm9yKHZhciBzPUVzLmNoYXJDb2RlQXQoZS0xKSxpPTFlNSxhPSExO3MhPT10LmNoYXJDb2RlQXQoMCk7KXtpZihzKysscz09PVcmJnMrKyxzPT09JCYmcysrLHM+WHQpe2lmKGEpdGhyb3ciQmFkIGNoYXJhY3RlcjogIit0O3M9RXQsYT0hMH1pKz0xZTV9cmV0dXJuIGl9ZnVuY3Rpb24gR2EodCxlKXtpZih0PiJWIil0aHJvdyJNR1JTUG9pbnQgZ2l2ZW4gaW52YWxpZCBOb3J0aGluZyAiK3Q7Zm9yKHZhciBzPXdzLmNoYXJDb2RlQXQoZS0xKSxpPTAsYT0hMTtzIT09dC5jaGFyQ29kZUF0KDApOyl7aWYocysrLHM9PT1XJiZzKysscz09PSQmJnMrKyxzPlF0KXtpZihhKXRocm93IkJhZCBjaGFyYWN0ZXI6ICIrdDtzPUV0LGE9ITB9aSs9MWU1fXJldHVybiBpfWZ1bmN0aW9uIHphKHQpe3ZhciBlO3N3aXRjaCh0KXtjYXNlIkMiOmU9MTFlNTticmVhaztjYXNlIkQiOmU9MmU2O2JyZWFrO2Nhc2UiRSI6ZT0yOGU1O2JyZWFrO2Nhc2UiRiI6ZT0zN2U1O2JyZWFrO2Nhc2UiRyI6ZT00NmU1O2JyZWFrO2Nhc2UiSCI6ZT01NWU1O2JyZWFrO2Nhc2UiSiI6ZT02NGU1O2JyZWFrO2Nhc2UiSyI6ZT03M2U1O2JyZWFrO2Nhc2UiTCI6ZT04MmU1O2JyZWFrO2Nhc2UiTSI6ZT05MWU1O2JyZWFrO2Nhc2UiTiI6ZT0wO2JyZWFrO2Nhc2UiUCI6ZT04ZTU7YnJlYWs7Y2FzZSJRIjplPTE3ZTU7YnJlYWs7Y2FzZSJSIjplPTI2ZTU7YnJlYWs7Y2FzZSJTIjplPTM1ZTU7YnJlYWs7Y2FzZSJUIjplPTQ0ZTU7YnJlYWs7Y2FzZSJVIjplPTUzZTU7YnJlYWs7Y2FzZSJWIjplPTYyZTU7YnJlYWs7Y2FzZSJXIjplPTdlNjticmVhaztjYXNlIlgiOmU9NzllNTticmVhaztkZWZhdWx0OmU9LTF9aWYoZT49MClyZXR1cm4gZTt0aHJvdyJJbnZhbGlkIHpvbmUgbGV0dGVyOiAiK3R9ZnVuY3Rpb24gd3QodCxlLHMpe2lmKCEodGhpcyBpbnN0YW5jZW9mIHd0KSlyZXR1cm4gbmV3IHd0KHQsZSxzKTtpZihBcnJheS5pc0FycmF5KHQpKXRoaXMueD10WzBdLHRoaXMueT10WzFdLHRoaXMuej10WzJdfHwwO2Vsc2UgaWYodHlwZW9mIHQ9PSJvYmplY3QiKXRoaXMueD10LngsdGhpcy55PXQueSx0aGlzLno9dC56fHwwO2Vsc2UgaWYodHlwZW9mIHQ9PSJzdHJpbmciJiZ0eXBlb2YgZT4idSIpe3ZhciBpPXQuc3BsaXQoIiwiKTt0aGlzLng9cGFyc2VGbG9hdChpWzBdLDEwKSx0aGlzLnk9cGFyc2VGbG9hdChpWzFdLDEwKSx0aGlzLno9cGFyc2VGbG9hdChpWzJdLDEwKXx8MH1lbHNlIHRoaXMueD10LHRoaXMueT1lLHRoaXMuej1zfHwwO2NvbnNvbGUud2FybigicHJvajQuUG9pbnQgd2lsbCBiZSByZW1vdmVkIGluIHZlcnNpb24gMywgdXNlIHByb2o0LnRvUG9pbnQiKX13dC5mcm9tTUdSUz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHd0KENzKHQpKX0sd3QucHJvdG90eXBlLnRvTUdSUz1mdW5jdGlvbih0KXtyZXR1cm4gQXMoW3RoaXMueCx0aGlzLnldLHQpfTt2YXIgVWE9MSxIYT0uMjUsT3M9LjA0Njg3NSxQcz0uMDE5NTMxMjUsRHM9LjAxMDY4MTE1MjM0Mzc1LFFhPS43NSxYYT0uNDY4NzUsV2E9LjAxMzAyMDgzMzMzMzMzMzMzNCxWYT0uMDA3MTIwNzY4MjI5MTY2NjY3LEphPS4zNjQ1ODMzMzMzMzMzMzMzLEthPS4wMDU2OTY2MTQ1ODMzMzMzMzMsJGE9LjMwNzYxNzE4NzU7ZnVuY3Rpb24ga3ModCl7dmFyIGU9W107ZVswXT1VYS10KihIYSt0KihPcyt0KihQcyt0KkRzKSkpLGVbMV09dCooUWEtdCooT3MrdCooUHMrdCpEcykpKTt2YXIgcz10KnQ7cmV0dXJuIGVbMl09cyooWGEtdCooV2ErdCpWYSkpLHMqPXQsZVszXT1zKihKYS10KkthKSxlWzRdPXMqdCokYSxlfWZ1bmN0aW9uIGdlKHQsZSxzLGkpe3JldHVybiBzKj1lLGUqPWUsaVswXSp0LXMqKGlbMV0rZSooaVsyXStlKihpWzNdK2UqaVs0XSkpKX12YXIgWmE9MjA7ZnVuY3Rpb24gUnModCxlLHMpe2Zvcih2YXIgaT0xLygxLWUpLGE9dCxuPVphO247LS1uKXt2YXIgaD1NYXRoLnNpbihhKSxyPTEtZSpoKmg7aWYocj0oZ2UoYSxoLE1hdGguY29zKGEpLHMpLXQpKihyKk1hdGguc3FydChyKSkqaSxhLT1yLE1hdGguYWJzKHIpPHkpcmV0dXJuIGF9cmV0dXJuIGF9ZnVuY3Rpb24gWWEoKXt0aGlzLngwPXRoaXMueDAhPT12b2lkIDA/dGhpcy54MDowLHRoaXMueTA9dGhpcy55MCE9PXZvaWQgMD90aGlzLnkwOjAsdGhpcy5sb25nMD10aGlzLmxvbmcwIT09dm9pZCAwP3RoaXMubG9uZzA6MCx0aGlzLmxhdDA9dGhpcy5sYXQwIT09dm9pZCAwP3RoaXMubGF0MDowLHRoaXMuZXMmJih0aGlzLmVuPWtzKHRoaXMuZXMpLHRoaXMubWwwPWdlKHRoaXMubGF0MCxNYXRoLnNpbih0aGlzLmxhdDApLE1hdGguY29zKHRoaXMubGF0MCksdGhpcy5lbikpfWZ1bmN0aW9uIHRuKHQpe3ZhciBlPXQueCxzPXQueSxpPV8oZS10aGlzLmxvbmcwKSxhLG4saCxyPU1hdGguc2luKHMpLG89TWF0aC5jb3Mocyk7aWYodGhpcy5lcyl7dmFyIHU9byppLGw9TWF0aC5wb3codSwyKSxjPXRoaXMuZXAyKk1hdGgucG93KG8sMiksZj1NYXRoLnBvdyhjLDIpLHA9TWF0aC5hYnMobyk+eT9NYXRoLnRhbihzKTowLG09TWF0aC5wb3cocCwyKSxkPU1hdGgucG93KG0sMik7YT0xLXRoaXMuZXMqTWF0aC5wb3cociwyKSx1PXUvTWF0aC5zcXJ0KGEpO3ZhciBNPWdlKHMscixvLHRoaXMuZW4pO249dGhpcy5hKih0aGlzLmswKnUqKDErbC82KigxLW0rYytsLzIwKig1LTE4Km0rZCsxNCpjLTU4Km0qYytsLzQyKig2MSsxNzkqZC1kKm0tNDc5Km0pKSkpKSt0aGlzLngwLGg9dGhpcy5hKih0aGlzLmswKihNLXRoaXMubWwwK3IqaSp1LzIqKDErbC8xMiooNS1tKzkqYys0KmYrbC8zMCooNjErZC01OCptKzI3MCpjLTMzMCptKmMrbC81NiooMTM4NSs1NDMqZC1kKm0tMzExMSptKSkpKSkpK3RoaXMueTB9ZWxzZXt2YXIgeD1vKk1hdGguc2luKGkpO2lmKE1hdGguYWJzKE1hdGguYWJzKHgpLTEpPHkpcmV0dXJuIDkzO2lmKG49LjUqdGhpcy5hKnRoaXMuazAqTWF0aC5sb2coKDEreCkvKDEteCkpK3RoaXMueDAsaD1vKk1hdGguY29zKGkpL01hdGguc3FydCgxLU1hdGgucG93KHgsMikpLHg9TWF0aC5hYnMoaCkseD49MSl7aWYoeC0xPnkpcmV0dXJuIDkzO2g9MH1lbHNlIGg9TWF0aC5hY29zKGgpO3M8MCYmKGg9LWgpLGg9dGhpcy5hKnRoaXMuazAqKGgtdGhpcy5sYXQwKSt0aGlzLnkwfXJldHVybiB0Lng9bix0Lnk9aCx0fWZ1bmN0aW9uIGVuKHQpe3ZhciBlLHMsaSxhLG49KHQueC10aGlzLngwKSooMS90aGlzLmEpLGg9KHQueS10aGlzLnkwKSooMS90aGlzLmEpO2lmKHRoaXMuZXMpaWYoZT10aGlzLm1sMCtoL3RoaXMuazAscz1ScyhlLHRoaXMuZXMsdGhpcy5lbiksTWF0aC5hYnMocyk8Zyl7dmFyIHI9TWF0aC5zaW4ocyksbz1NYXRoLmNvcyhzKSx1PU1hdGguYWJzKG8pPnk/TWF0aC50YW4ocyk6MCxsPXRoaXMuZXAyKk1hdGgucG93KG8sMiksYz1NYXRoLnBvdyhsLDIpLGY9TWF0aC5wb3codSwyKSxwPU1hdGgucG93KGYsMik7ZT0xLXRoaXMuZXMqTWF0aC5wb3cociwyKTt2YXIgbT1uKk1hdGguc3FydChlKS90aGlzLmswLGQ9TWF0aC5wb3cobSwyKTtlPWUqdSxpPXMtZSpkLygxLXRoaXMuZXMpKi41KigxLWQvMTIqKDUrMypmLTkqbCpmK2wtNCpjLWQvMzAqKDYxKzkwKmYtMjUyKmwqZis0NSpwKzQ2KmwtZC81NiooMTM4NSszNjMzKmYrNDA5NSpwKzE1NzQqcCpmKSkpKSxhPV8odGhpcy5sb25nMCttKigxLWQvNiooMSsyKmYrbC1kLzIwKig1KzI4KmYrMjQqcCs4KmwqZis2KmwtZC80MiooNjErNjYyKmYrMTMyMCpwKzcyMCpwKmYpKSkpL28pfWVsc2UgaT1nKlV0KGgpLGE9MDtlbHNle3ZhciBNPU1hdGguZXhwKG4vdGhpcy5rMCkseD0uNSooTS0xL00pLGI9dGhpcy5sYXQwK2gvdGhpcy5rMCx2PU1hdGguY29zKGIpO2U9TWF0aC5zcXJ0KCgxLU1hdGgucG93KHYsMikpLygxK01hdGgucG93KHgsMikpKSxpPU1hdGguYXNpbihlKSxoPDAmJihpPS1pKSx4PT09MCYmdj09PTA/YT0wOmE9XyhNYXRoLmF0YW4yKHgsdikrdGhpcy5sb25nMCl9cmV0dXJuIHQueD1hLHQueT1pLHR9dmFyIHNuPVsiRmFzdF9UcmFuc3ZlcnNlX01lcmNhdG9yIiwiRmFzdCBUcmFuc3ZlcnNlIE1lcmNhdG9yIl0seWU9e2luaXQ6WWEsZm9yd2FyZDp0bixpbnZlcnNlOmVuLG5hbWVzOnNufTtmdW5jdGlvbiBMcyh0KXt2YXIgZT1NYXRoLmV4cCh0KTtyZXR1cm4gZT0oZS0xL2UpLzIsZX1mdW5jdGlvbiBZKHQsZSl7dD1NYXRoLmFicyh0KSxlPU1hdGguYWJzKGUpO3ZhciBzPU1hdGgubWF4KHQsZSksaT1NYXRoLm1pbih0LGUpLyhzfHwxKTtyZXR1cm4gcypNYXRoLnNxcnQoMStNYXRoLnBvdyhpLDIpKX1mdW5jdGlvbiBhbih0KXt2YXIgZT0xK3Qscz1lLTE7cmV0dXJuIHM9PT0wP3Q6dCpNYXRoLmxvZyhlKS9zfWZ1bmN0aW9uIG5uKHQpe3ZhciBlPU1hdGguYWJzKHQpO3JldHVybiBlPWFuKGUqKDErZS8oWSgxLGUpKzEpKSksdDwwPy1lOmV9ZnVuY3Rpb24gQmUodCxlKXtmb3IodmFyIHM9MipNYXRoLmNvcygyKmUpLGk9dC5sZW5ndGgtMSxhPXRbaV0sbj0wLGg7LS1pPj0wOyloPS1uK3MqYSt0W2ldLG49YSxhPWg7cmV0dXJuIGUraCpNYXRoLnNpbigyKmUpfWZ1bmN0aW9uIHJuKHQsZSl7Zm9yKHZhciBzPTIqTWF0aC5jb3MoZSksaT10Lmxlbmd0aC0xLGE9dFtpXSxuPTAsaDstLWk+PTA7KWg9LW4rcyphK3RbaV0sbj1hLGE9aDtyZXR1cm4gTWF0aC5zaW4oZSkqaH1mdW5jdGlvbiBobih0KXt2YXIgZT1NYXRoLmV4cCh0KTtyZXR1cm4gZT0oZSsxL2UpLzIsZX1mdW5jdGlvbiBxcyh0LGUscyl7Zm9yKHZhciBpPU1hdGguc2luKGUpLGE9TWF0aC5jb3MoZSksbj1McyhzKSxoPWhuKHMpLHI9MiphKmgsbz0tMippKm4sdT10Lmxlbmd0aC0xLGw9dFt1XSxjPTAsZj0wLHA9MCxtLGQ7LS11Pj0wOyltPWYsZD1jLGY9bCxjPXAsbD0tbStyKmYtbypjK3RbdV0scD0tZCtvKmYrcipjO3JldHVybiByPWkqaCxvPWEqbixbcipsLW8qcCxyKnArbypsXX1mdW5jdGlvbiBvbigpe2lmKCF0aGlzLmFwcHJveCYmKGlzTmFOKHRoaXMuZXMpfHx0aGlzLmVzPD0wKSl0aHJvdyBuZXcgRXJyb3IoJ0luY29ycmVjdCBlbGxpcHRpY2FsIHVzYWdlLiBUcnkgdXNpbmcgdGhlICthcHByb3ggb3B0aW9uIGluIHRoZSBwcm9qIHN0cmluZywgb3IgUFJPSkVDVElPTlsiRmFzdF9UcmFuc3ZlcnNlX01lcmNhdG9yIl0gaW4gdGhlIFdLVC4nKTt0aGlzLmFwcHJveCYmKHllLmluaXQuYXBwbHkodGhpcyksdGhpcy5mb3J3YXJkPXllLmZvcndhcmQsdGhpcy5pbnZlcnNlPXllLmludmVyc2UpLHRoaXMueDA9dGhpcy54MCE9PXZvaWQgMD90aGlzLngwOjAsdGhpcy55MD10aGlzLnkwIT09dm9pZCAwP3RoaXMueTA6MCx0aGlzLmxvbmcwPXRoaXMubG9uZzAhPT12b2lkIDA/dGhpcy5sb25nMDowLHRoaXMubGF0MD10aGlzLmxhdDAhPT12b2lkIDA/dGhpcy5sYXQwOjAsdGhpcy5jZ2I9W10sdGhpcy5jYmc9W10sdGhpcy51dGc9W10sdGhpcy5ndHU9W107dmFyIHQ9dGhpcy5lcy8oMStNYXRoLnNxcnQoMS10aGlzLmVzKSksZT10LygyLXQpLHM9ZTt0aGlzLmNnYlswXT1lKigyK2UqKC0uNjY2NjY2NjY2NjY2NjY2NitlKigtMitlKigyLjU3Nzc3Nzc3Nzc3Nzc3OCtlKiguNTc3Nzc3Nzc3Nzc3Nzc3NytlKi00LjIyODE0ODE0ODE0ODE0OCkpKSkpLHRoaXMuY2JnWzBdPWUqKC0yK2UqKC42NjY2NjY2NjY2NjY2NjY2K2UqKDEuMzMzMzMzMzMzMzMzMzMzMytlKigtMS44MjIyMjIyMjIyMjIyMjIyK2UqKC43MTExMTExMTExMTExMTExK2UqLjk4MjQzMzg2MjQzMzg2MjQpKSkpKSxzPXMqZSx0aGlzLmNnYlsxXT1zKigyLjMzMzMzMzMzMzMzMzMzMzUrZSooLTEuNitlKigtNS4wNDQ0NDQ0NDQ0NDQ0NDQrZSooOC41ODQxMjY5ODQxMjY5ODQrZSoyLjQ1ODIwMTA1ODIwMTA1OCkpKSksdGhpcy5jYmdbMV09cyooMS42NjY2NjY2NjY2NjY2NjY3K2UqKC0xLjA2NjY2NjY2NjY2NjY2NjcrZSooLTEuNDQ0NDQ0NDQ0NDQ0NDQ0NCtlKigyLjg2OTg0MTI2OTg0MTI3K2UqLTEuNjEwNTgyMDEwNTgyMDEwNikpKSkscz1zKmUsdGhpcy5jZ2JbMl09cyooMy43MzMzMzMzMzMzMzMzMzM0K2UqKC0zLjg4NTcxNDI4NTcxNDI4NTcrZSooLTEyLjAxOTA0NzYxOTA0NzYxOStlKjI2LjAzNjY4NDMwMzM1MDk3KSkpLHRoaXMuY2JnWzJdPXMqKC0xLjczMzMzMzMzMzMzMzMzMzQrZSooMS42MTkwNDc2MTkwNDc2MTkrZSooMS42K2UqLTQuNDc0Nzc5NTQxNDQ2MjA4KSkpLHM9cyplLHRoaXMuY2diWzNdPXMqKDYuNzkyMDYzNDkyMDYzNDkyK2UqKC05LjQ4NTcxNDI4NTcxNDI4NitlKi0yOC4xODg1MDA4ODE4MzQyMTYpKSx0aGlzLmNiZ1szXT1zKigxLjk2MzQ5MjA2MzQ5MjA2MzQrZSooLTIuNCtlKi0xLjc1MTgxNjU3ODQ4MzI0NTEpKSxzPXMqZSx0aGlzLmNnYls0XT1zKigxMy4yNTA3OTM2NTA3OTM2NTIrZSotMjMuMjIyMzgyNTU1NzE1ODkpLHRoaXMuY2JnWzRdPXMqKC0yLjMzMDE1ODczMDE1ODczMDMrZSozLjUxNDQ0NjA0Nzc3OTM4MTMpLHM9cyplLHRoaXMuY2diWzVdPXMqMjcuMDExMjY4MjM3OTM0OTAzLHRoaXMuY2JnWzVdPXMqMi44NDk2ODQxNDMwMTc0NzY0LHM9TWF0aC5wb3coZSwyKSx0aGlzLlFuPXRoaXMuazAvKDErZSkqKDErcyooLjI1K3MqKC4wMTU2MjUrcy8yNTYpKSksdGhpcy51dGdbMF09ZSooLS41K2UqKC42NjY2NjY2NjY2NjY2NjY2K2UqKC0uMzg1NDE2NjY2NjY2NjY2NytlKiguMDAyNzc3Nzc3Nzc3Nzc3Nzc4K2UqKC4xNTgyMDMxMjUrZSotLjE1OTA1OTE5MzEyMTY5MzEyKSkpKSksdGhpcy5ndHVbMF09ZSooLjUrZSooLS42NjY2NjY2NjY2NjY2NjY2K2UqKC4zMTI1K2UqKC4yMjc3Nzc3Nzc3Nzc3Nzc3NytlKigtLjQ0MDk3MjIyMjIyMjIyMjIrZSouMjA4NzU2NjEzNzU2NjEzNzUpKSkpKSx0aGlzLnV0Z1sxXT1zKigtLjAyMDgzMzMzMzMzMzMzMzMzMitlKigtLjA2NjY2NjY2NjY2NjY2NjY3K2UqKC4zMDM0NzIyMjIyMjIyMjIyK2UqKC0uNDM4MDk1MjM4MDk1MjM4MStlKi4yODkwMTg4Mzg4NzIzNTQ1KSkpKSx0aGlzLmd0dVsxXT1zKiguMjcwODMzMzMzMzMzMzMzMytlKigtLjYrZSooLjM4NjgwNTU1NTU1NTU1NTU3K2UqKC40NDYwMzE3NDYwMzE3NDYwNitlKi0xLjAyNDgzOTMwNjM4MjI3NTIpKSkpLHM9cyplLHRoaXMudXRnWzJdPXMqKC0uMDM1NDE2NjY2NjY2NjY2NjY2K2UqKC4wNDQwNDc2MTkwNDc2MTkwNStlKiguMDQ2NjUxNzg1NzE0Mjg1NzE1K2UqLS4wNjEzODY2ODQzMDMzNTA5NykpKSx0aGlzLmd0dVsyXT1zKiguMjU0MTY2NjY2NjY2NjY2NjUrZSooLS43MzU3MTQyODU3MTQyODU4K2UqKC41NjAzMDUwNTk1MjM4MDk1K2UqLjkyMzczNzg3NDc3OTU0MTUpKSkscz1zKmUsdGhpcy51dGdbM109cyooLS4wMjcyNjMxNDQ4NDEyNjk4NCtlKiguMDIxODI1Mzk2ODI1Mzk2ODI0K2UqLjExNDM5NzQ1OTIxNTE2NzU0KSksdGhpcy5ndHVbM109cyooLjMwNzI5Nzg2NzA2MzQ5MjA1K2UqKC0xLjA2NTQ3NjE5MDQ3NjE5MDUrZSouOTA5NjIwMzk3OTI3Njg5NikpLHM9cyplLHRoaXMudXRnWzRdPXMqKC0uMDI4NDE2NDE4NjUwNzkzNjUrZSouMDI3MjY4NDY4NDE0MzAxNzQ2KSx0aGlzLmd0dVs0XT1zKiguNDMwNjY3MTYyNjk4NDEyNytlKi0xLjcxMzAwNzU1NTcxNTg4OSkscz1zKmUsdGhpcy51dGdbNV09cyotLjAzMjMzMDgzMDk0MDg1Njk4LHRoaXMuZ3R1WzVdPXMqLjY2NTA2NzUzMTA4OTY2NjU7dmFyIGk9QmUodGhpcy5jYmcsdGhpcy5sYXQwKTt0aGlzLlpiPS10aGlzLlFuKihpK3JuKHRoaXMuZ3R1LDIqaSkpfWZ1bmN0aW9uIHVuKHQpe3ZhciBlPV8odC54LXRoaXMubG9uZzApLHM9dC55O3M9QmUodGhpcy5jYmcscyk7dmFyIGk9TWF0aC5zaW4ocyksYT1NYXRoLmNvcyhzKSxuPU1hdGguc2luKGUpLGg9TWF0aC5jb3MoZSk7cz1NYXRoLmF0YW4yKGksaCphKSxlPU1hdGguYXRhbjIobiphLFkoaSxhKmgpKSxlPW5uKE1hdGgudGFuKGUpKTt2YXIgcj1xcyh0aGlzLmd0dSwyKnMsMiplKTtzPXMrclswXSxlPWUrclsxXTt2YXIgbyx1O3JldHVybiBNYXRoLmFicyhlKTw9Mi42MjMzOTUxNjI3Nzg/KG89dGhpcy5hKih0aGlzLlFuKmUpK3RoaXMueDAsdT10aGlzLmEqKHRoaXMuUW4qcyt0aGlzLlpiKSt0aGlzLnkwKToobz0xLzAsdT0xLzApLHQueD1vLHQueT11LHR9ZnVuY3Rpb24gbG4odCl7dmFyIGU9KHQueC10aGlzLngwKSooMS90aGlzLmEpLHM9KHQueS10aGlzLnkwKSooMS90aGlzLmEpO3M9KHMtdGhpcy5aYikvdGhpcy5RbixlPWUvdGhpcy5Rbjt2YXIgaSxhO2lmKE1hdGguYWJzKGUpPD0yLjYyMzM5NTE2Mjc3OCl7dmFyIG49cXModGhpcy51dGcsMipzLDIqZSk7cz1zK25bMF0sZT1lK25bMV0sZT1NYXRoLmF0YW4oTHMoZSkpO3ZhciBoPU1hdGguc2luKHMpLHI9TWF0aC5jb3Mocyksbz1NYXRoLnNpbihlKSx1PU1hdGguY29zKGUpO3M9TWF0aC5hdGFuMihoKnUsWShvLHUqcikpLGU9TWF0aC5hdGFuMihvLHUqciksaT1fKGUrdGhpcy5sb25nMCksYT1CZSh0aGlzLmNnYixzKX1lbHNlIGk9MS8wLGE9MS8wO3JldHVybiB0Lng9aSx0Lnk9YSx0fXZhciBjbj1bIkV4dGVuZGVkX1RyYW5zdmVyc2VfTWVyY2F0b3IiLCJFeHRlbmRlZCBUcmFuc3ZlcnNlIE1lcmNhdG9yIiwiZXRtZXJjIiwiVHJhbnN2ZXJzZV9NZXJjYXRvciIsIlRyYW5zdmVyc2UgTWVyY2F0b3IiLCJ0bWVyYyJdLHhlPXtpbml0Om9uLGZvcndhcmQ6dW4saW52ZXJzZTpsbixuYW1lczpjbn07ZnVuY3Rpb24gZm4odCxlKXtpZih0PT09dm9pZCAwKXtpZih0PU1hdGguZmxvb3IoKF8oZSkrTWF0aC5QSSkqMzAvTWF0aC5QSSkrMSx0PDApcmV0dXJuIDA7aWYodD42MClyZXR1cm4gNjB9cmV0dXJuIHR9dmFyIHBuPSJldG1lcmMiO2Z1bmN0aW9uIG1uKCl7dmFyIHQ9Zm4odGhpcy56b25lLHRoaXMubG9uZzApO2lmKHQ9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKCJ1bmtub3duIHV0bSB6b25lIik7dGhpcy5sYXQwPTAsdGhpcy5sb25nMD0oNipNYXRoLmFicyh0KS0xODMpKmosdGhpcy54MD01ZTUsdGhpcy55MD10aGlzLnV0bVNvdXRoPzFlNzowLHRoaXMuazA9Ljk5OTYseGUuaW5pdC5hcHBseSh0aGlzKSx0aGlzLmZvcndhcmQ9eGUuZm9yd2FyZCx0aGlzLmludmVyc2U9eGUuaW52ZXJzZX12YXIgZG49WyJVbml2ZXJzYWwgVHJhbnN2ZXJzZSBNZXJjYXRvciBTeXN0ZW0iLCJ1dG0iXSxNbj17aW5pdDptbixuYW1lczpkbixkZXBlbmRzT246cG59O2Z1bmN0aW9uIEZlKHQsZSl7cmV0dXJuIE1hdGgucG93KCgxLXQpLygxK3QpLGUpfXZhciBnbj0yMDtmdW5jdGlvbiB5bigpe3ZhciB0PU1hdGguc2luKHRoaXMubGF0MCksZT1NYXRoLmNvcyh0aGlzLmxhdDApO2UqPWUsdGhpcy5yYz1NYXRoLnNxcnQoMS10aGlzLmVzKS8oMS10aGlzLmVzKnQqdCksdGhpcy5DPU1hdGguc3FydCgxK3RoaXMuZXMqZSplLygxLXRoaXMuZXMpKSx0aGlzLnBoaWMwPU1hdGguYXNpbih0L3RoaXMuQyksdGhpcy5yYXRleHA9LjUqdGhpcy5DKnRoaXMuZSx0aGlzLks9TWF0aC50YW4oLjUqdGhpcy5waGljMCtEKS8oTWF0aC5wb3coTWF0aC50YW4oLjUqdGhpcy5sYXQwK0QpLHRoaXMuQykqRmUodGhpcy5lKnQsdGhpcy5yYXRleHApKX1mdW5jdGlvbiB4bih0KXt2YXIgZT10Lngscz10Lnk7cmV0dXJuIHQueT0yKk1hdGguYXRhbih0aGlzLksqTWF0aC5wb3coTWF0aC50YW4oLjUqcytEKSx0aGlzLkMpKkZlKHRoaXMuZSpNYXRoLnNpbihzKSx0aGlzLnJhdGV4cCkpLWcsdC54PXRoaXMuQyplLHR9ZnVuY3Rpb24gX24odCl7Zm9yKHZhciBlPTFlLTE0LHM9dC54L3RoaXMuQyxpPXQueSxhPU1hdGgucG93KE1hdGgudGFuKC41KmkrRCkvdGhpcy5LLDEvdGhpcy5DKSxuPWduO24+MCYmKGk9MipNYXRoLmF0YW4oYSpGZSh0aGlzLmUqTWF0aC5zaW4odC55KSwtLjUqdGhpcy5lKSktZywhKE1hdGguYWJzKGktdC55KTxlKSk7LS1uKXQueT1pO3JldHVybiBuPyh0Lng9cyx0Lnk9aSx0KTpudWxsfXZhciB2bj1bImdhdXNzIl0samU9e2luaXQ6eW4sZm9yd2FyZDp4bixpbnZlcnNlOl9uLG5hbWVzOnZufTtmdW5jdGlvbiBibigpe2plLmluaXQuYXBwbHkodGhpcyksISF0aGlzLnJjJiYodGhpcy5zaW5jMD1NYXRoLnNpbih0aGlzLnBoaWMwKSx0aGlzLmNvc2MwPU1hdGguY29zKHRoaXMucGhpYzApLHRoaXMuUjI9Mip0aGlzLnJjLHRoaXMudGl0bGV8fCh0aGlzLnRpdGxlPSJPYmxpcXVlIFN0ZXJlb2dyYXBoaWMgQWx0ZXJuYXRpdmUiKSl9ZnVuY3Rpb24gTm4odCl7dmFyIGUscyxpLGE7cmV0dXJuIHQueD1fKHQueC10aGlzLmxvbmcwKSxqZS5mb3J3YXJkLmFwcGx5KHRoaXMsW3RdKSxlPU1hdGguc2luKHQueSkscz1NYXRoLmNvcyh0LnkpLGk9TWF0aC5jb3ModC54KSxhPXRoaXMuazAqdGhpcy5SMi8oMSt0aGlzLnNpbmMwKmUrdGhpcy5jb3NjMCpzKmkpLHQueD1hKnMqTWF0aC5zaW4odC54KSx0Lnk9YSoodGhpcy5jb3NjMCplLXRoaXMuc2luYzAqcyppKSx0Lng9dGhpcy5hKnQueCt0aGlzLngwLHQueT10aGlzLmEqdC55K3RoaXMueTAsdH1mdW5jdGlvbiBFbih0KXt2YXIgZSxzLGksYSxuO2lmKHQueD0odC54LXRoaXMueDApL3RoaXMuYSx0Lnk9KHQueS10aGlzLnkwKS90aGlzLmEsdC54Lz10aGlzLmswLHQueS89dGhpcy5rMCxuPU1hdGguc3FydCh0LngqdC54K3QueSp0LnkpKXt2YXIgaD0yKk1hdGguYXRhbjIobix0aGlzLlIyKTtlPU1hdGguc2luKGgpLHM9TWF0aC5jb3MoaCksYT1NYXRoLmFzaW4ocyp0aGlzLnNpbmMwK3QueSplKnRoaXMuY29zYzAvbiksaT1NYXRoLmF0YW4yKHQueCplLG4qdGhpcy5jb3NjMCpzLXQueSp0aGlzLnNpbmMwKmUpfWVsc2UgYT10aGlzLnBoaWMwLGk9MDtyZXR1cm4gdC54PWksdC55PWEsamUuaW52ZXJzZS5hcHBseSh0aGlzLFt0XSksdC54PV8odC54K3RoaXMubG9uZzApLHR9dmFyIHduPVsiU3RlcmVvZ3JhcGhpY19Ob3J0aF9Qb2xlIiwiT2JsaXF1ZV9TdGVyZW9ncmFwaGljIiwiUG9sYXJfU3RlcmVvZ3JhcGhpYyIsInN0ZXJlYSIsIk9ibGlxdWUgU3RlcmVvZ3JhcGhpYyBBbHRlcm5hdGl2ZSIsIkRvdWJsZV9TdGVyZW9ncmFwaGljIl0sQW49e2luaXQ6Ym4sZm9yd2FyZDpObixpbnZlcnNlOkVuLG5hbWVzOndufTtmdW5jdGlvbiBDbih0LGUscyl7cmV0dXJuIGUqPXMsTWF0aC50YW4oLjUqKGcrdCkpKk1hdGgucG93KCgxLWUpLygxK2UpLC41KnMpfWZ1bmN0aW9uIFNuKCl7dGhpcy5jb3NsYXQwPU1hdGguY29zKHRoaXMubGF0MCksdGhpcy5zaW5sYXQwPU1hdGguc2luKHRoaXMubGF0MCksdGhpcy5zcGhlcmU/dGhpcy5rMD09PTEmJiFpc05hTih0aGlzLmxhdF90cykmJk1hdGguYWJzKHRoaXMuY29zbGF0MCk8PXkmJih0aGlzLmswPS41KigxK1V0KHRoaXMubGF0MCkqTWF0aC5zaW4odGhpcy5sYXRfdHMpKSk6KE1hdGguYWJzKHRoaXMuY29zbGF0MCk8PXkmJih0aGlzLmxhdDA+MD90aGlzLmNvbj0xOnRoaXMuY29uPS0xKSx0aGlzLmNvbnM9TWF0aC5zcXJ0KE1hdGgucG93KDErdGhpcy5lLDErdGhpcy5lKSpNYXRoLnBvdygxLXRoaXMuZSwxLXRoaXMuZSkpLHRoaXMuazA9PT0xJiYhaXNOYU4odGhpcy5sYXRfdHMpJiZNYXRoLmFicyh0aGlzLmNvc2xhdDApPD15JiYodGhpcy5rMD0uNSp0aGlzLmNvbnMqaXQodGhpcy5lLE1hdGguc2luKHRoaXMubGF0X3RzKSxNYXRoLmNvcyh0aGlzLmxhdF90cykpL1oodGhpcy5lLHRoaXMuY29uKnRoaXMubGF0X3RzLHRoaXMuY29uKk1hdGguc2luKHRoaXMubGF0X3RzKSkpLHRoaXMubXMxPWl0KHRoaXMuZSx0aGlzLnNpbmxhdDAsdGhpcy5jb3NsYXQwKSx0aGlzLlgwPTIqTWF0aC5hdGFuKHRoaXMuc3Nmbl8odGhpcy5sYXQwLHRoaXMuc2lubGF0MCx0aGlzLmUpKS1nLHRoaXMuY29zWDA9TWF0aC5jb3ModGhpcy5YMCksdGhpcy5zaW5YMD1NYXRoLnNpbih0aGlzLlgwKSl9ZnVuY3Rpb24gSW4odCl7dmFyIGU9dC54LHM9dC55LGk9TWF0aC5zaW4ocyksYT1NYXRoLmNvcyhzKSxuLGgscixvLHUsbCxjPV8oZS10aGlzLmxvbmcwKTtyZXR1cm4gTWF0aC5hYnMoTWF0aC5hYnMoZS10aGlzLmxvbmcwKS1NYXRoLlBJKTw9eSYmTWF0aC5hYnMocyt0aGlzLmxhdDApPD15Pyh0Lng9TmFOLHQueT1OYU4sdCk6dGhpcy5zcGhlcmU/KG49Mip0aGlzLmswLygxK3RoaXMuc2lubGF0MCppK3RoaXMuY29zbGF0MCphKk1hdGguY29zKGMpKSx0Lng9dGhpcy5hKm4qYSpNYXRoLnNpbihjKSt0aGlzLngwLHQueT10aGlzLmEqbioodGhpcy5jb3NsYXQwKmktdGhpcy5zaW5sYXQwKmEqTWF0aC5jb3MoYykpK3RoaXMueTAsdCk6KGg9MipNYXRoLmF0YW4odGhpcy5zc2ZuXyhzLGksdGhpcy5lKSktZyxvPU1hdGguY29zKGgpLHI9TWF0aC5zaW4oaCksTWF0aC5hYnModGhpcy5jb3NsYXQwKTw9eT8odT1aKHRoaXMuZSxzKnRoaXMuY29uLHRoaXMuY29uKmkpLGw9Mip0aGlzLmEqdGhpcy5rMCp1L3RoaXMuY29ucyx0Lng9dGhpcy54MCtsKk1hdGguc2luKGUtdGhpcy5sb25nMCksdC55PXRoaXMueTAtdGhpcy5jb24qbCpNYXRoLmNvcyhlLXRoaXMubG9uZzApLHQpOihNYXRoLmFicyh0aGlzLnNpbmxhdDApPHk/KG49Mip0aGlzLmEqdGhpcy5rMC8oMStvKk1hdGguY29zKGMpKSx0Lnk9bipyKToobj0yKnRoaXMuYSp0aGlzLmswKnRoaXMubXMxLyh0aGlzLmNvc1gwKigxK3RoaXMuc2luWDAqcit0aGlzLmNvc1gwKm8qTWF0aC5jb3MoYykpKSx0Lnk9bioodGhpcy5jb3NYMCpyLXRoaXMuc2luWDAqbypNYXRoLmNvcyhjKSkrdGhpcy55MCksdC54PW4qbypNYXRoLnNpbihjKSt0aGlzLngwLHQpKX1mdW5jdGlvbiBUbih0KXt0LngtPXRoaXMueDAsdC55LT10aGlzLnkwO3ZhciBlLHMsaSxhLG4saD1NYXRoLnNxcnQodC54KnQueCt0LnkqdC55KTtpZih0aGlzLnNwaGVyZSl7dmFyIHI9MipNYXRoLmF0YW4oaC8oMip0aGlzLmEqdGhpcy5rMCkpO3JldHVybiBlPXRoaXMubG9uZzAscz10aGlzLmxhdDAsaDw9eT8odC54PWUsdC55PXMsdCk6KHM9TWF0aC5hc2luKE1hdGguY29zKHIpKnRoaXMuc2lubGF0MCt0LnkqTWF0aC5zaW4ocikqdGhpcy5jb3NsYXQwL2gpLE1hdGguYWJzKHRoaXMuY29zbGF0MCk8eT90aGlzLmxhdDA+MD9lPV8odGhpcy5sb25nMCtNYXRoLmF0YW4yKHQueCwtMSp0LnkpKTplPV8odGhpcy5sb25nMCtNYXRoLmF0YW4yKHQueCx0LnkpKTplPV8odGhpcy5sb25nMCtNYXRoLmF0YW4yKHQueCpNYXRoLnNpbihyKSxoKnRoaXMuY29zbGF0MCpNYXRoLmNvcyhyKS10LnkqdGhpcy5zaW5sYXQwKk1hdGguc2luKHIpKSksdC54PWUsdC55PXMsdCl9ZWxzZSBpZihNYXRoLmFicyh0aGlzLmNvc2xhdDApPD15KXtpZihoPD15KXJldHVybiBzPXRoaXMubGF0MCxlPXRoaXMubG9uZzAsdC54PWUsdC55PXMsdDt0LngqPXRoaXMuY29uLHQueSo9dGhpcy5jb24saT1oKnRoaXMuY29ucy8oMip0aGlzLmEqdGhpcy5rMCkscz10aGlzLmNvbipIdCh0aGlzLmUsaSksZT10aGlzLmNvbipfKHRoaXMuY29uKnRoaXMubG9uZzArTWF0aC5hdGFuMih0LngsLTEqdC55KSl9ZWxzZSBhPTIqTWF0aC5hdGFuKGgqdGhpcy5jb3NYMC8oMip0aGlzLmEqdGhpcy5rMCp0aGlzLm1zMSkpLGU9dGhpcy5sb25nMCxoPD15P249dGhpcy5YMDoobj1NYXRoLmFzaW4oTWF0aC5jb3MoYSkqdGhpcy5zaW5YMCt0LnkqTWF0aC5zaW4oYSkqdGhpcy5jb3NYMC9oKSxlPV8odGhpcy5sb25nMCtNYXRoLmF0YW4yKHQueCpNYXRoLnNpbihhKSxoKnRoaXMuY29zWDAqTWF0aC5jb3MoYSktdC55KnRoaXMuc2luWDAqTWF0aC5zaW4oYSkpKSkscz0tMSpIdCh0aGlzLmUsTWF0aC50YW4oLjUqKGcrbikpKTtyZXR1cm4gdC54PWUsdC55PXMsdH12YXIgT249WyJzdGVyZSIsIlN0ZXJlb2dyYXBoaWNfU291dGhfUG9sZSIsIlBvbGFyIFN0ZXJlb2dyYXBoaWMgKHZhcmlhbnQgQikiXSxQbj17aW5pdDpTbixmb3J3YXJkOkluLGludmVyc2U6VG4sbmFtZXM6T24sc3Nmbl86Q259O2Z1bmN0aW9uIERuKCl7dmFyIHQ9dGhpcy5sYXQwO3RoaXMubGFtYmRhMD10aGlzLmxvbmcwO3ZhciBlPU1hdGguc2luKHQpLHM9dGhpcy5hLGk9dGhpcy5yZixhPTEvaSxuPTIqYS1NYXRoLnBvdyhhLDIpLGg9dGhpcy5lPU1hdGguc3FydChuKTt0aGlzLlI9dGhpcy5rMCpzKk1hdGguc3FydCgxLW4pLygxLW4qTWF0aC5wb3coZSwyKSksdGhpcy5hbHBoYT1NYXRoLnNxcnQoMStuLygxLW4pKk1hdGgucG93KE1hdGguY29zKHQpLDQpKSx0aGlzLmIwPU1hdGguYXNpbihlL3RoaXMuYWxwaGEpO3ZhciByPU1hdGgubG9nKE1hdGgudGFuKE1hdGguUEkvNCt0aGlzLmIwLzIpKSxvPU1hdGgubG9nKE1hdGgudGFuKE1hdGguUEkvNCt0LzIpKSx1PU1hdGgubG9nKCgxK2gqZSkvKDEtaCplKSk7dGhpcy5LPXItdGhpcy5hbHBoYSpvK3RoaXMuYWxwaGEqaC8yKnV9ZnVuY3Rpb24ga24odCl7dmFyIGU9TWF0aC5sb2coTWF0aC50YW4oTWF0aC5QSS80LXQueS8yKSkscz10aGlzLmUvMipNYXRoLmxvZygoMSt0aGlzLmUqTWF0aC5zaW4odC55KSkvKDEtdGhpcy5lKk1hdGguc2luKHQueSkpKSxpPS10aGlzLmFscGhhKihlK3MpK3RoaXMuSyxhPTIqKE1hdGguYXRhbihNYXRoLmV4cChpKSktTWF0aC5QSS80KSxuPXRoaXMuYWxwaGEqKHQueC10aGlzLmxhbWJkYTApLGg9TWF0aC5hdGFuKE1hdGguc2luKG4pLyhNYXRoLnNpbih0aGlzLmIwKSpNYXRoLnRhbihhKStNYXRoLmNvcyh0aGlzLmIwKSpNYXRoLmNvcyhuKSkpLHI9TWF0aC5hc2luKE1hdGguY29zKHRoaXMuYjApKk1hdGguc2luKGEpLU1hdGguc2luKHRoaXMuYjApKk1hdGguY29zKGEpKk1hdGguY29zKG4pKTtyZXR1cm4gdC55PXRoaXMuUi8yKk1hdGgubG9nKCgxK01hdGguc2luKHIpKS8oMS1NYXRoLnNpbihyKSkpK3RoaXMueTAsdC54PXRoaXMuUipoK3RoaXMueDAsdH1mdW5jdGlvbiBSbih0KXtmb3IodmFyIGU9dC54LXRoaXMueDAscz10LnktdGhpcy55MCxpPWUvdGhpcy5SLGE9MiooTWF0aC5hdGFuKE1hdGguZXhwKHMvdGhpcy5SKSktTWF0aC5QSS80KSxuPU1hdGguYXNpbihNYXRoLmNvcyh0aGlzLmIwKSpNYXRoLnNpbihhKStNYXRoLnNpbih0aGlzLmIwKSpNYXRoLmNvcyhhKSpNYXRoLmNvcyhpKSksaD1NYXRoLmF0YW4oTWF0aC5zaW4oaSkvKE1hdGguY29zKHRoaXMuYjApKk1hdGguY29zKGkpLU1hdGguc2luKHRoaXMuYjApKk1hdGgudGFuKGEpKSkscj10aGlzLmxhbWJkYTAraC90aGlzLmFscGhhLG89MCx1PW4sbD0tMWUzLGM9MDtNYXRoLmFicyh1LWwpPjFlLTc7KXtpZigrK2M+MjApcmV0dXJuO289MS90aGlzLmFscGhhKihNYXRoLmxvZyhNYXRoLnRhbihNYXRoLlBJLzQrbi8yKSktdGhpcy5LKSt0aGlzLmUqTWF0aC5sb2coTWF0aC50YW4oTWF0aC5QSS80K01hdGguYXNpbih0aGlzLmUqTWF0aC5zaW4odSkpLzIpKSxsPXUsdT0yKk1hdGguYXRhbihNYXRoLmV4cChvKSktTWF0aC5QSS8yfXJldHVybiB0Lng9cix0Lnk9dSx0fXZhciBMbj1bInNvbWVyYyJdLHFuPXtpbml0OkRuLGZvcndhcmQ6a24saW52ZXJzZTpSbixuYW1lczpMbn0sQXQ9MWUtNztmdW5jdGlvbiBCbih0KXt2YXIgZT1bIkhvdGluZV9PYmxpcXVlX01lcmNhdG9yIiwiSG90aW5lX09ibGlxdWVfTWVyY2F0b3JfQXppbXV0aF9OYXR1cmFsX09yaWdpbiJdLHM9dHlwZW9mIHQuUFJPSkVDVElPTj09Im9iamVjdCI/T2JqZWN0LmtleXModC5QUk9KRUNUSU9OKVswXTp0LlBST0pFQ1RJT047cmV0dXJuIm5vX3VvZmYiaW4gdHx8Im5vX29mZiJpbiB0fHxlLmluZGV4T2YocykhPT0tMX1mdW5jdGlvbiBGbigpe3ZhciB0LGUscyxpLGEsbixoLHIsbyx1LGw9MCxjLGY9MCxwPTAsbT0wLGQ9MCxNPTAseD0wO3RoaXMubm9fb2ZmPUJuKHRoaXMpLHRoaXMubm9fcm90PSJub19yb3QiaW4gdGhpczt2YXIgYj0hMTsiYWxwaGEiaW4gdGhpcyYmKGI9ITApO3ZhciB2PSExO2lmKCJyZWN0aWZpZWRfZ3JpZF9hbmdsZSJpbiB0aGlzJiYodj0hMCksYiYmKHg9dGhpcy5hbHBoYSksdiYmKGw9dGhpcy5yZWN0aWZpZWRfZ3JpZF9hbmdsZSpqKSxifHx2KWY9dGhpcy5sb25nYztlbHNlIGlmKHA9dGhpcy5sb25nMSxkPXRoaXMubGF0MSxtPXRoaXMubG9uZzIsTT10aGlzLmxhdDIsTWF0aC5hYnMoZC1NKTw9QXR8fCh0PU1hdGguYWJzKGQpKTw9QXR8fE1hdGguYWJzKHQtZyk8PUF0fHxNYXRoLmFicyhNYXRoLmFicyh0aGlzLmxhdDApLWcpPD1BdHx8TWF0aC5hYnMoTWF0aC5hYnMoTSktZyk8PUF0KXRocm93IG5ldyBFcnJvcjt2YXIgRT0xLXRoaXMuZXM7ZT1NYXRoLnNxcnQoRSksTWF0aC5hYnModGhpcy5sYXQwKT55PyhyPU1hdGguc2luKHRoaXMubGF0MCkscz1NYXRoLmNvcyh0aGlzLmxhdDApLHQ9MS10aGlzLmVzKnIqcix0aGlzLkI9cypzLHRoaXMuQj1NYXRoLnNxcnQoMSt0aGlzLmVzKnRoaXMuQip0aGlzLkIvRSksdGhpcy5BPXRoaXMuQip0aGlzLmswKmUvdCxpPXRoaXMuQiplLyhzKk1hdGguc3FydCh0KSksYT1pKmktMSxhPD0wP2E9MDooYT1NYXRoLnNxcnQoYSksdGhpcy5sYXQwPDAmJihhPS1hKSksdGhpcy5FPWErPWksdGhpcy5FKj1NYXRoLnBvdyhaKHRoaXMuZSx0aGlzLmxhdDAsciksdGhpcy5CKSk6KHRoaXMuQj0xL2UsdGhpcy5BPXRoaXMuazAsdGhpcy5FPWk9YT0xKSxifHx2PyhiPyhjPU1hdGguYXNpbihNYXRoLnNpbih4KS9pKSx2fHwobD14KSk6KGM9bCx4PU1hdGguYXNpbihpKk1hdGguc2luKGMpKSksdGhpcy5sYW0wPWYtTWF0aC5hc2luKC41KihhLTEvYSkqTWF0aC50YW4oYykpL3RoaXMuQik6KG49TWF0aC5wb3coWih0aGlzLmUsZCxNYXRoLnNpbihkKSksdGhpcy5CKSxoPU1hdGgucG93KFoodGhpcy5lLE0sTWF0aC5zaW4oTSkpLHRoaXMuQiksYT10aGlzLkUvbixvPShoLW4pLyhoK24pLHU9dGhpcy5FKnRoaXMuRSx1PSh1LWgqbikvKHUraCpuKSx0PXAtbSx0PC1NYXRoLnBpP20tPUd0OnQ+TWF0aC5waSYmKG0rPUd0KSx0aGlzLmxhbTA9XyguNSoocCttKS1NYXRoLmF0YW4odSpNYXRoLnRhbiguNSp0aGlzLkIqKHAtbSkpL28pL3RoaXMuQiksYz1NYXRoLmF0YW4oMipNYXRoLnNpbih0aGlzLkIqXyhwLXRoaXMubGFtMCkpLyhhLTEvYSkpLGw9eD1NYXRoLmFzaW4oaSpNYXRoLnNpbihjKSkpLHRoaXMuc2luZ2FtPU1hdGguc2luKGMpLHRoaXMuY29zZ2FtPU1hdGguY29zKGMpLHRoaXMuc2lucm90PU1hdGguc2luKGwpLHRoaXMuY29zcm90PU1hdGguY29zKGwpLHRoaXMuckI9MS90aGlzLkIsdGhpcy5BckI9dGhpcy5BKnRoaXMuckIsdGhpcy5CckE9MS90aGlzLkFyQix0aGlzLkEqdGhpcy5CLHRoaXMubm9fb2ZmP3RoaXMudV8wPTA6KHRoaXMudV8wPU1hdGguYWJzKHRoaXMuQXJCKk1hdGguYXRhbihNYXRoLnNxcnQoaSppLTEpL01hdGguY29zKHgpKSksdGhpcy5sYXQwPDAmJih0aGlzLnVfMD0tdGhpcy51XzApKSxhPS41KmMsdGhpcy52X3BvbGVfbj10aGlzLkFyQipNYXRoLmxvZyhNYXRoLnRhbihELWEpKSx0aGlzLnZfcG9sZV9zPXRoaXMuQXJCKk1hdGgubG9nKE1hdGgudGFuKEQrYSkpfWZ1bmN0aW9uIGpuKHQpe3ZhciBlPXt9LHMsaSxhLG4saCxyLG8sdTtpZih0Lng9dC54LXRoaXMubGFtMCxNYXRoLmFicyhNYXRoLmFicyh0LnkpLWcpPnkpe2lmKGg9dGhpcy5FL01hdGgucG93KFoodGhpcy5lLHQueSxNYXRoLnNpbih0LnkpKSx0aGlzLkIpLHI9MS9oLHM9LjUqKGgtciksaT0uNSooaCtyKSxuPU1hdGguc2luKHRoaXMuQip0LngpLGE9KHMqdGhpcy5zaW5nYW0tbip0aGlzLmNvc2dhbSkvaSxNYXRoLmFicyhNYXRoLmFicyhhKS0xKTx5KXRocm93IG5ldyBFcnJvcjt1PS41KnRoaXMuQXJCKk1hdGgubG9nKCgxLWEpLygxK2EpKSxyPU1hdGguY29zKHRoaXMuQip0LngpLE1hdGguYWJzKHIpPEF0P289dGhpcy5BKnQueDpvPXRoaXMuQXJCKk1hdGguYXRhbjIocyp0aGlzLmNvc2dhbStuKnRoaXMuc2luZ2FtLHIpfWVsc2UgdT10Lnk+MD90aGlzLnZfcG9sZV9uOnRoaXMudl9wb2xlX3Msbz10aGlzLkFyQip0Lnk7cmV0dXJuIHRoaXMubm9fcm90PyhlLng9byxlLnk9dSk6KG8tPXRoaXMudV8wLGUueD11KnRoaXMuY29zcm90K28qdGhpcy5zaW5yb3QsZS55PW8qdGhpcy5jb3Nyb3QtdSp0aGlzLnNpbnJvdCksZS54PXRoaXMuYSplLngrdGhpcy54MCxlLnk9dGhpcy5hKmUueSt0aGlzLnkwLGV9ZnVuY3Rpb24gR24odCl7dmFyIGUscyxpLGEsbixoLHIsbz17fTtpZih0Lng9KHQueC10aGlzLngwKSooMS90aGlzLmEpLHQueT0odC55LXRoaXMueTApKigxL3RoaXMuYSksdGhpcy5ub19yb3Q/KHM9dC55LGU9dC54KToocz10LngqdGhpcy5jb3Nyb3QtdC55KnRoaXMuc2lucm90LGU9dC55KnRoaXMuY29zcm90K3QueCp0aGlzLnNpbnJvdCt0aGlzLnVfMCksaT1NYXRoLmV4cCgtdGhpcy5CckEqcyksYT0uNSooaS0xL2kpLG49LjUqKGkrMS9pKSxoPU1hdGguc2luKHRoaXMuQnJBKmUpLHI9KGgqdGhpcy5jb3NnYW0rYSp0aGlzLnNpbmdhbSkvbixNYXRoLmFicyhNYXRoLmFicyhyKS0xKTx5KW8ueD0wLG8ueT1yPDA/LWc6ZztlbHNle2lmKG8ueT10aGlzLkUvTWF0aC5zcXJ0KCgxK3IpLygxLXIpKSxvLnk9SHQodGhpcy5lLE1hdGgucG93KG8ueSwxL3RoaXMuQikpLG8ueT09PTEvMCl0aHJvdyBuZXcgRXJyb3I7by54PS10aGlzLnJCKk1hdGguYXRhbjIoYSp0aGlzLmNvc2dhbS1oKnRoaXMuc2luZ2FtLE1hdGguY29zKHRoaXMuQnJBKmUpKX1yZXR1cm4gby54Kz10aGlzLmxhbTAsb312YXIgem49WyJIb3RpbmVfT2JsaXF1ZV9NZXJjYXRvciIsIkhvdGluZSBPYmxpcXVlIE1lcmNhdG9yIiwiSG90aW5lX09ibGlxdWVfTWVyY2F0b3JfQXppbXV0aF9OYXR1cmFsX09yaWdpbiIsIkhvdGluZV9PYmxpcXVlX01lcmNhdG9yX1R3b19Qb2ludF9OYXR1cmFsX09yaWdpbiIsIkhvdGluZV9PYmxpcXVlX01lcmNhdG9yX0F6aW11dGhfQ2VudGVyIiwiT2JsaXF1ZV9NZXJjYXRvciIsIm9tZXJjIl0sVW49e2luaXQ6Rm4sZm9yd2FyZDpqbixpbnZlcnNlOkduLG5hbWVzOnpufTtmdW5jdGlvbiBIbigpe2lmKHRoaXMubGF0Mnx8KHRoaXMubGF0Mj10aGlzLmxhdDEpLHRoaXMuazB8fCh0aGlzLmswPTEpLHRoaXMueDA9dGhpcy54MHx8MCx0aGlzLnkwPXRoaXMueTB8fDAsIShNYXRoLmFicyh0aGlzLmxhdDErdGhpcy5sYXQyKTx5KSl7dmFyIHQ9dGhpcy5iL3RoaXMuYTt0aGlzLmU9TWF0aC5zcXJ0KDEtdCp0KTt2YXIgZT1NYXRoLnNpbih0aGlzLmxhdDEpLHM9TWF0aC5jb3ModGhpcy5sYXQxKSxpPWl0KHRoaXMuZSxlLHMpLGE9Wih0aGlzLmUsdGhpcy5sYXQxLGUpLG49TWF0aC5zaW4odGhpcy5sYXQyKSxoPU1hdGguY29zKHRoaXMubGF0Mikscj1pdCh0aGlzLmUsbixoKSxvPVoodGhpcy5lLHRoaXMubGF0MixuKSx1PVoodGhpcy5lLHRoaXMubGF0MCxNYXRoLnNpbih0aGlzLmxhdDApKTtNYXRoLmFicyh0aGlzLmxhdDEtdGhpcy5sYXQyKT55P3RoaXMubnM9TWF0aC5sb2coaS9yKS9NYXRoLmxvZyhhL28pOnRoaXMubnM9ZSxpc05hTih0aGlzLm5zKSYmKHRoaXMubnM9ZSksdGhpcy5mMD1pLyh0aGlzLm5zKk1hdGgucG93KGEsdGhpcy5ucykpLHRoaXMucmg9dGhpcy5hKnRoaXMuZjAqTWF0aC5wb3codSx0aGlzLm5zKSx0aGlzLnRpdGxlfHwodGhpcy50aXRsZT0iTGFtYmVydCBDb25mb3JtYWwgQ29uaWMiKX19ZnVuY3Rpb24gUW4odCl7dmFyIGU9dC54LHM9dC55O01hdGguYWJzKDIqTWF0aC5hYnMocyktTWF0aC5QSSk8PXkmJihzPVV0KHMpKihnLTIqeSkpO3ZhciBpPU1hdGguYWJzKE1hdGguYWJzKHMpLWcpLGEsbjtpZihpPnkpYT1aKHRoaXMuZSxzLE1hdGguc2luKHMpKSxuPXRoaXMuYSp0aGlzLmYwKk1hdGgucG93KGEsdGhpcy5ucyk7ZWxzZXtpZihpPXMqdGhpcy5ucyxpPD0wKXJldHVybiBudWxsO249MH12YXIgaD10aGlzLm5zKl8oZS10aGlzLmxvbmcwKTtyZXR1cm4gdC54PXRoaXMuazAqKG4qTWF0aC5zaW4oaCkpK3RoaXMueDAsdC55PXRoaXMuazAqKHRoaXMucmgtbipNYXRoLmNvcyhoKSkrdGhpcy55MCx0fWZ1bmN0aW9uIFhuKHQpe3ZhciBlLHMsaSxhLG4saD0odC54LXRoaXMueDApL3RoaXMuazAscj10aGlzLnJoLSh0LnktdGhpcy55MCkvdGhpcy5rMDt0aGlzLm5zPjA/KGU9TWF0aC5zcXJ0KGgqaCtyKnIpLHM9MSk6KGU9LU1hdGguc3FydChoKmgrcipyKSxzPS0xKTt2YXIgbz0wO2lmKGUhPT0wJiYobz1NYXRoLmF0YW4yKHMqaCxzKnIpKSxlIT09MHx8dGhpcy5ucz4wKXtpZihzPTEvdGhpcy5ucyxpPU1hdGgucG93KGUvKHRoaXMuYSp0aGlzLmYwKSxzKSxhPUh0KHRoaXMuZSxpKSxhPT09LTk5OTkpcmV0dXJuIG51bGx9ZWxzZSBhPS1nO3JldHVybiBuPV8oby90aGlzLm5zK3RoaXMubG9uZzApLHQueD1uLHQueT1hLHR9dmFyIFduPVsiTGFtYmVydCBUYW5nZW50aWFsIENvbmZvcm1hbCBDb25pYyBQcm9qZWN0aW9uIiwiTGFtYmVydF9Db25mb3JtYWxfQ29uaWMiLCJMYW1iZXJ0X0NvbmZvcm1hbF9Db25pY18xU1AiLCJMYW1iZXJ0X0NvbmZvcm1hbF9Db25pY18yU1AiLCJsY2MiLCJMYW1iZXJ0IENvbmljIENvbmZvcm1hbCAoMVNQKSIsIkxhbWJlcnQgQ29uaWMgQ29uZm9ybWFsICgyU1ApIl0sVm49e2luaXQ6SG4sZm9yd2FyZDpRbixpbnZlcnNlOlhuLG5hbWVzOldufTtmdW5jdGlvbiBKbigpe3RoaXMuYT02Mzc3Mzk3MTU1ZS0zLHRoaXMuZXM9LjAwNjY3NDM3MjIzMDYxNCx0aGlzLmU9TWF0aC5zcXJ0KHRoaXMuZXMpLHRoaXMubGF0MHx8KHRoaXMubGF0MD0uODYzOTM3OTc5NzM3MTkzKSx0aGlzLmxvbmcwfHwodGhpcy5sb25nMD0uNDMzNDIzNDMwOTExOTI1MSksdGhpcy5rMHx8KHRoaXMuazA9Ljk5OTkpLHRoaXMuczQ1PS43ODUzOTgxNjMzOTc0NDgsdGhpcy5zOTA9Mip0aGlzLnM0NSx0aGlzLmZpMD10aGlzLmxhdDAsdGhpcy5lMj10aGlzLmVzLHRoaXMuZT1NYXRoLnNxcnQodGhpcy5lMiksdGhpcy5hbGZhPU1hdGguc3FydCgxK3RoaXMuZTIqTWF0aC5wb3coTWF0aC5jb3ModGhpcy5maTApLDQpLygxLXRoaXMuZTIpKSx0aGlzLnVxPTEuMDQyMTY4NTYzODA0NzQsdGhpcy51MD1NYXRoLmFzaW4oTWF0aC5zaW4odGhpcy5maTApL3RoaXMuYWxmYSksdGhpcy5nPU1hdGgucG93KCgxK3RoaXMuZSpNYXRoLnNpbih0aGlzLmZpMCkpLygxLXRoaXMuZSpNYXRoLnNpbih0aGlzLmZpMCkpLHRoaXMuYWxmYSp0aGlzLmUvMiksdGhpcy5rPU1hdGgudGFuKHRoaXMudTAvMit0aGlzLnM0NSkvTWF0aC5wb3coTWF0aC50YW4odGhpcy5maTAvMit0aGlzLnM0NSksdGhpcy5hbGZhKSp0aGlzLmcsdGhpcy5rMT10aGlzLmswLHRoaXMubjA9dGhpcy5hKk1hdGguc3FydCgxLXRoaXMuZTIpLygxLXRoaXMuZTIqTWF0aC5wb3coTWF0aC5zaW4odGhpcy5maTApLDIpKSx0aGlzLnMwPTEuMzcwMDgzNDYyODE1NTUsdGhpcy5uPU1hdGguc2luKHRoaXMuczApLHRoaXMucm8wPXRoaXMuazEqdGhpcy5uMC9NYXRoLnRhbih0aGlzLnMwKSx0aGlzLmFkPXRoaXMuczkwLXRoaXMudXF9ZnVuY3Rpb24gS24odCl7dmFyIGUscyxpLGEsbixoLHIsbz10LngsdT10LnksbD1fKG8tdGhpcy5sb25nMCk7cmV0dXJuIGU9TWF0aC5wb3coKDErdGhpcy5lKk1hdGguc2luKHUpKS8oMS10aGlzLmUqTWF0aC5zaW4odSkpLHRoaXMuYWxmYSp0aGlzLmUvMikscz0yKihNYXRoLmF0YW4odGhpcy5rKk1hdGgucG93KE1hdGgudGFuKHUvMit0aGlzLnM0NSksdGhpcy5hbGZhKS9lKS10aGlzLnM0NSksaT0tbCp0aGlzLmFsZmEsYT1NYXRoLmFzaW4oTWF0aC5jb3ModGhpcy5hZCkqTWF0aC5zaW4ocykrTWF0aC5zaW4odGhpcy5hZCkqTWF0aC5jb3MocykqTWF0aC5jb3MoaSkpLG49TWF0aC5hc2luKE1hdGguY29zKHMpKk1hdGguc2luKGkpL01hdGguY29zKGEpKSxoPXRoaXMubipuLHI9dGhpcy5ybzAqTWF0aC5wb3coTWF0aC50YW4odGhpcy5zMC8yK3RoaXMuczQ1KSx0aGlzLm4pL01hdGgucG93KE1hdGgudGFuKGEvMit0aGlzLnM0NSksdGhpcy5uKSx0Lnk9cipNYXRoLmNvcyhoKS8xLHQueD1yKk1hdGguc2luKGgpLzEsdGhpcy5jemVjaHx8KHQueSo9LTEsdC54Kj0tMSksdH1mdW5jdGlvbiAkbih0KXt2YXIgZSxzLGksYSxuLGgscixvLHU9dC54O3QueD10LnksdC55PXUsdGhpcy5jemVjaHx8KHQueSo9LTEsdC54Kj0tMSksaD1NYXRoLnNxcnQodC54KnQueCt0LnkqdC55KSxuPU1hdGguYXRhbjIodC55LHQueCksYT1uL01hdGguc2luKHRoaXMuczApLGk9MiooTWF0aC5hdGFuKE1hdGgucG93KHRoaXMucm8wL2gsMS90aGlzLm4pKk1hdGgudGFuKHRoaXMuczAvMit0aGlzLnM0NSkpLXRoaXMuczQ1KSxlPU1hdGguYXNpbihNYXRoLmNvcyh0aGlzLmFkKSpNYXRoLnNpbihpKS1NYXRoLnNpbih0aGlzLmFkKSpNYXRoLmNvcyhpKSpNYXRoLmNvcyhhKSkscz1NYXRoLmFzaW4oTWF0aC5jb3MoaSkqTWF0aC5zaW4oYSkvTWF0aC5jb3MoZSkpLHQueD10aGlzLmxvbmcwLXMvdGhpcy5hbGZhLHI9ZSxvPTA7dmFyIGw9MDtkbyB0Lnk9MiooTWF0aC5hdGFuKE1hdGgucG93KHRoaXMuaywtMS90aGlzLmFsZmEpKk1hdGgucG93KE1hdGgudGFuKGUvMit0aGlzLnM0NSksMS90aGlzLmFsZmEpKk1hdGgucG93KCgxK3RoaXMuZSpNYXRoLnNpbihyKSkvKDEtdGhpcy5lKk1hdGguc2luKHIpKSx0aGlzLmUvMikpLXRoaXMuczQ1KSxNYXRoLmFicyhyLXQueSk8MWUtMTAmJihvPTEpLHI9dC55LGwrPTE7d2hpbGUobz09PTAmJmw8MTUpO3JldHVybiBsPj0xNT9udWxsOnR9dmFyIFpuPVsiS3JvdmFrIiwia3JvdmFrIl0sWW49e2luaXQ6Sm4sZm9yd2FyZDpLbixpbnZlcnNlOiRuLG5hbWVzOlpufTtmdW5jdGlvbiBRKHQsZSxzLGksYSl7cmV0dXJuIHQqYS1lKk1hdGguc2luKDIqYSkrcypNYXRoLnNpbig0KmEpLWkqTWF0aC5zaW4oNiphKX1mdW5jdGlvbiBXdCh0KXtyZXR1cm4gMS0uMjUqdCooMSt0LzE2KigzKzEuMjUqdCkpfWZ1bmN0aW9uIFZ0KHQpe3JldHVybiAuMzc1KnQqKDErLjI1KnQqKDErLjQ2ODc1KnQpKX1mdW5jdGlvbiBKdCh0KXtyZXR1cm4gLjA1ODU5Mzc1KnQqdCooMSsuNzUqdCl9ZnVuY3Rpb24gS3QodCl7cmV0dXJuIHQqdCp0Ki4wMTEzOTMyMjkxNjY2NjY2NjZ9ZnVuY3Rpb24gQ3QodCxlLHMpe3ZhciBpPWUqcztyZXR1cm4gdC9NYXRoLnNxcnQoMS1pKmkpfWZ1bmN0aW9uIFN0KHQpe3JldHVybiBNYXRoLmFicyh0KTxnP3Q6dC1VdCh0KSpNYXRoLlBJfWZ1bmN0aW9uIF9lKHQsZSxzLGksYSl7dmFyIG4saDtuPXQvZTtmb3IodmFyIHI9MDtyPDE1O3IrKylpZihoPSh0LShlKm4tcypNYXRoLnNpbigyKm4pK2kqTWF0aC5zaW4oNCpuKS1hKk1hdGguc2luKDYqbikpKS8oZS0yKnMqTWF0aC5jb3MoMipuKSs0KmkqTWF0aC5jb3MoNCpuKS02KmEqTWF0aC5jb3MoNipuKSksbis9aCxNYXRoLmFicyhoKTw9MWUtMTApcmV0dXJuIG47cmV0dXJuIE5hTn1mdW5jdGlvbiB0cigpe3RoaXMuc3BoZXJlfHwodGhpcy5lMD1XdCh0aGlzLmVzKSx0aGlzLmUxPVZ0KHRoaXMuZXMpLHRoaXMuZTI9SnQodGhpcy5lcyksdGhpcy5lMz1LdCh0aGlzLmVzKSx0aGlzLm1sMD10aGlzLmEqUSh0aGlzLmUwLHRoaXMuZTEsdGhpcy5lMix0aGlzLmUzLHRoaXMubGF0MCkpfWZ1bmN0aW9uIGVyKHQpe3ZhciBlLHMsaT10LngsYT10Lnk7aWYoaT1fKGktdGhpcy5sb25nMCksdGhpcy5zcGhlcmUpZT10aGlzLmEqTWF0aC5hc2luKE1hdGguY29zKGEpKk1hdGguc2luKGkpKSxzPXRoaXMuYSooTWF0aC5hdGFuMihNYXRoLnRhbihhKSxNYXRoLmNvcyhpKSktdGhpcy5sYXQwKTtlbHNle3ZhciBuPU1hdGguc2luKGEpLGg9TWF0aC5jb3MoYSkscj1DdCh0aGlzLmEsdGhpcy5lLG4pLG89TWF0aC50YW4oYSkqTWF0aC50YW4oYSksdT1pKk1hdGguY29zKGEpLGw9dSp1LGM9dGhpcy5lcypoKmgvKDEtdGhpcy5lcyksZj10aGlzLmEqUSh0aGlzLmUwLHRoaXMuZTEsdGhpcy5lMix0aGlzLmUzLGEpO2U9cip1KigxLWwqbyooLjE2NjY2NjY2NjY2NjY2NjY2LSg4LW8rOCpjKSpsLzEyMCkpLHM9Zi10aGlzLm1sMCtyKm4vaCpsKiguNSsoNS1vKzYqYykqbC8yNCl9cmV0dXJuIHQueD1lK3RoaXMueDAsdC55PXMrdGhpcy55MCx0fWZ1bmN0aW9uIHNyKHQpe3QueC09dGhpcy54MCx0LnktPXRoaXMueTA7dmFyIGU9dC54L3RoaXMuYSxzPXQueS90aGlzLmEsaSxhO2lmKHRoaXMuc3BoZXJlKXt2YXIgbj1zK3RoaXMubGF0MDtpPU1hdGguYXNpbihNYXRoLnNpbihuKSpNYXRoLmNvcyhlKSksYT1NYXRoLmF0YW4yKE1hdGgudGFuKGUpLE1hdGguY29zKG4pKX1lbHNle3ZhciBoPXRoaXMubWwwL3RoaXMuYStzLHI9X2UoaCx0aGlzLmUwLHRoaXMuZTEsdGhpcy5lMix0aGlzLmUzKTtpZihNYXRoLmFicyhNYXRoLmFicyhyKS1nKTw9eSlyZXR1cm4gdC54PXRoaXMubG9uZzAsdC55PWcsczwwJiYodC55Kj0tMSksdDt2YXIgbz1DdCh0aGlzLmEsdGhpcy5lLE1hdGguc2luKHIpKSx1PW8qbypvL3RoaXMuYS90aGlzLmEqKDEtdGhpcy5lcyksbD1NYXRoLnBvdyhNYXRoLnRhbihyKSwyKSxjPWUqdGhpcy5hL28sZj1jKmM7aT1yLW8qTWF0aC50YW4ocikvdSpjKmMqKC41LSgxKzMqbCkqYypjLzI0KSxhPWMqKDEtZioobC8zKygxKzMqbCkqbCpmLzE1KSkvTWF0aC5jb3Mocil9cmV0dXJuIHQueD1fKGErdGhpcy5sb25nMCksdC55PVN0KGkpLHR9dmFyIGlyPVsiQ2Fzc2luaSIsIkNhc3NpbmlfU29sZG5lciIsImNhc3MiXSxhcj17aW5pdDp0cixmb3J3YXJkOmVyLGludmVyc2U6c3IsbmFtZXM6aXJ9O2Z1bmN0aW9uIGN0KHQsZSl7dmFyIHM7cmV0dXJuIHQ+MWUtNz8ocz10KmUsKDEtdCp0KSooZS8oMS1zKnMpLS41L3QqTWF0aC5sb2coKDEtcykvKDErcykpKSk6MiplfXZhciBucj0xLHJyPTIsaHI9Myxvcj00O2Z1bmN0aW9uIHVyKCl7dmFyIHQ9TWF0aC5hYnModGhpcy5sYXQwKTtpZihNYXRoLmFicyh0LWcpPHk/dGhpcy5tb2RlPXRoaXMubGF0MDwwP3RoaXMuU19QT0xFOnRoaXMuTl9QT0xFOk1hdGguYWJzKHQpPHk/dGhpcy5tb2RlPXRoaXMuRVFVSVQ6dGhpcy5tb2RlPXRoaXMuT0JMSVEsdGhpcy5lcz4wKXt2YXIgZTtzd2l0Y2godGhpcy5xcD1jdCh0aGlzLmUsMSksdGhpcy5tbWY9LjUvKDEtdGhpcy5lcyksdGhpcy5hcGE9eXIodGhpcy5lcyksdGhpcy5tb2RlKXtjYXNlIHRoaXMuTl9QT0xFOnRoaXMuZGQ9MTticmVhaztjYXNlIHRoaXMuU19QT0xFOnRoaXMuZGQ9MTticmVhaztjYXNlIHRoaXMuRVFVSVQ6dGhpcy5ycT1NYXRoLnNxcnQoLjUqdGhpcy5xcCksdGhpcy5kZD0xL3RoaXMucnEsdGhpcy54bWY9MSx0aGlzLnltZj0uNSp0aGlzLnFwO2JyZWFrO2Nhc2UgdGhpcy5PQkxJUTp0aGlzLnJxPU1hdGguc3FydCguNSp0aGlzLnFwKSxlPU1hdGguc2luKHRoaXMubGF0MCksdGhpcy5zaW5iMT1jdCh0aGlzLmUsZSkvdGhpcy5xcCx0aGlzLmNvc2IxPU1hdGguc3FydCgxLXRoaXMuc2luYjEqdGhpcy5zaW5iMSksdGhpcy5kZD1NYXRoLmNvcyh0aGlzLmxhdDApLyhNYXRoLnNxcnQoMS10aGlzLmVzKmUqZSkqdGhpcy5ycSp0aGlzLmNvc2IxKSx0aGlzLnltZj0odGhpcy54bWY9dGhpcy5ycSkvdGhpcy5kZCx0aGlzLnhtZio9dGhpcy5kZDticmVha319ZWxzZSB0aGlzLm1vZGU9PT10aGlzLk9CTElRJiYodGhpcy5zaW5waDA9TWF0aC5zaW4odGhpcy5sYXQwKSx0aGlzLmNvc3BoMD1NYXRoLmNvcyh0aGlzLmxhdDApKX1mdW5jdGlvbiBscih0KXt2YXIgZSxzLGksYSxuLGgscixvLHUsbCxjPXQueCxmPXQueTtpZihjPV8oYy10aGlzLmxvbmcwKSx0aGlzLnNwaGVyZSl7aWYobj1NYXRoLnNpbihmKSxsPU1hdGguY29zKGYpLGk9TWF0aC5jb3MoYyksdGhpcy5tb2RlPT09dGhpcy5PQkxJUXx8dGhpcy5tb2RlPT09dGhpcy5FUVVJVCl7aWYocz10aGlzLm1vZGU9PT10aGlzLkVRVUlUPzErbCppOjErdGhpcy5zaW5waDAqbit0aGlzLmNvc3BoMCpsKmksczw9eSlyZXR1cm4gbnVsbDtzPU1hdGguc3FydCgyL3MpLGU9cypsKk1hdGguc2luKGMpLHMqPXRoaXMubW9kZT09PXRoaXMuRVFVSVQ/bjp0aGlzLmNvc3BoMCpuLXRoaXMuc2lucGgwKmwqaX1lbHNlIGlmKHRoaXMubW9kZT09PXRoaXMuTl9QT0xFfHx0aGlzLm1vZGU9PT10aGlzLlNfUE9MRSl7aWYodGhpcy5tb2RlPT09dGhpcy5OX1BPTEUmJihpPS1pKSxNYXRoLmFicyhmK3RoaXMubGF0MCk8eSlyZXR1cm4gbnVsbDtzPUQtZiouNSxzPTIqKHRoaXMubW9kZT09PXRoaXMuU19QT0xFP01hdGguY29zKHMpOk1hdGguc2luKHMpKSxlPXMqTWF0aC5zaW4oYykscyo9aX19ZWxzZXtzd2l0Y2gocj0wLG89MCx1PTAsaT1NYXRoLmNvcyhjKSxhPU1hdGguc2luKGMpLG49TWF0aC5zaW4oZiksaD1jdCh0aGlzLmUsbiksKHRoaXMubW9kZT09PXRoaXMuT0JMSVF8fHRoaXMubW9kZT09PXRoaXMuRVFVSVQpJiYocj1oL3RoaXMucXAsbz1NYXRoLnNxcnQoMS1yKnIpKSx0aGlzLm1vZGUpe2Nhc2UgdGhpcy5PQkxJUTp1PTErdGhpcy5zaW5iMSpyK3RoaXMuY29zYjEqbyppO2JyZWFrO2Nhc2UgdGhpcy5FUVVJVDp1PTErbyppO2JyZWFrO2Nhc2UgdGhpcy5OX1BPTEU6dT1nK2YsaD10aGlzLnFwLWg7YnJlYWs7Y2FzZSB0aGlzLlNfUE9MRTp1PWYtZyxoPXRoaXMucXAraDticmVha31pZihNYXRoLmFicyh1KTx5KXJldHVybiBudWxsO3N3aXRjaCh0aGlzLm1vZGUpe2Nhc2UgdGhpcy5PQkxJUTpjYXNlIHRoaXMuRVFVSVQ6dT1NYXRoLnNxcnQoMi91KSx0aGlzLm1vZGU9PT10aGlzLk9CTElRP3M9dGhpcy55bWYqdSoodGhpcy5jb3NiMSpyLXRoaXMuc2luYjEqbyppKTpzPSh1PU1hdGguc3FydCgyLygxK28qaSkpKSpyKnRoaXMueW1mLGU9dGhpcy54bWYqdSpvKmE7YnJlYWs7Y2FzZSB0aGlzLk5fUE9MRTpjYXNlIHRoaXMuU19QT0xFOmg+PTA/KGU9KHU9TWF0aC5zcXJ0KGgpKSphLHM9aSoodGhpcy5tb2RlPT09dGhpcy5TX1BPTEU/dTotdSkpOmU9cz0wO2JyZWFrfX1yZXR1cm4gdC54PXRoaXMuYSplK3RoaXMueDAsdC55PXRoaXMuYSpzK3RoaXMueTAsdH1mdW5jdGlvbiBjcih0KXt0LngtPXRoaXMueDAsdC55LT10aGlzLnkwO3ZhciBlPXQueC90aGlzLmEscz10LnkvdGhpcy5hLGksYSxuLGgscixvLHU7aWYodGhpcy5zcGhlcmUpe3ZhciBsPTAsYyxmPTA7aWYoYz1NYXRoLnNxcnQoZSplK3MqcyksYT1jKi41LGE+MSlyZXR1cm4gbnVsbDtzd2l0Y2goYT0yKk1hdGguYXNpbihhKSwodGhpcy5tb2RlPT09dGhpcy5PQkxJUXx8dGhpcy5tb2RlPT09dGhpcy5FUVVJVCkmJihmPU1hdGguc2luKGEpLGw9TWF0aC5jb3MoYSkpLHRoaXMubW9kZSl7Y2FzZSB0aGlzLkVRVUlUOmE9TWF0aC5hYnMoYyk8PXk/MDpNYXRoLmFzaW4ocypmL2MpLGUqPWYscz1sKmM7YnJlYWs7Y2FzZSB0aGlzLk9CTElROmE9TWF0aC5hYnMoYyk8PXk/dGhpcy5sYXQwOk1hdGguYXNpbihsKnRoaXMuc2lucGgwK3MqZip0aGlzLmNvc3BoMC9jKSxlKj1mKnRoaXMuY29zcGgwLHM9KGwtTWF0aC5zaW4oYSkqdGhpcy5zaW5waDApKmM7YnJlYWs7Y2FzZSB0aGlzLk5fUE9MRTpzPS1zLGE9Zy1hO2JyZWFrO2Nhc2UgdGhpcy5TX1BPTEU6YS09ZzticmVha31pPXM9PT0wJiYodGhpcy5tb2RlPT09dGhpcy5FUVVJVHx8dGhpcy5tb2RlPT09dGhpcy5PQkxJUSk/MDpNYXRoLmF0YW4yKGUscyl9ZWxzZXtpZih1PTAsdGhpcy5tb2RlPT09dGhpcy5PQkxJUXx8dGhpcy5tb2RlPT09dGhpcy5FUVVJVCl7aWYoZS89dGhpcy5kZCxzKj10aGlzLmRkLG89TWF0aC5zcXJ0KGUqZStzKnMpLG88eSlyZXR1cm4gdC54PXRoaXMubG9uZzAsdC55PXRoaXMubGF0MCx0O2g9MipNYXRoLmFzaW4oLjUqby90aGlzLnJxKSxuPU1hdGguY29zKGgpLGUqPWg9TWF0aC5zaW4oaCksdGhpcy5tb2RlPT09dGhpcy5PQkxJUT8odT1uKnRoaXMuc2luYjErcypoKnRoaXMuY29zYjEvbyxyPXRoaXMucXAqdSxzPW8qdGhpcy5jb3NiMSpuLXMqdGhpcy5zaW5iMSpoKToodT1zKmgvbyxyPXRoaXMucXAqdSxzPW8qbil9ZWxzZSBpZih0aGlzLm1vZGU9PT10aGlzLk5fUE9MRXx8dGhpcy5tb2RlPT09dGhpcy5TX1BPTEUpe2lmKHRoaXMubW9kZT09PXRoaXMuTl9QT0xFJiYocz0tcykscj1lKmUrcypzLCFyKXJldHVybiB0Lng9dGhpcy5sb25nMCx0Lnk9dGhpcy5sYXQwLHQ7dT0xLXIvdGhpcy5xcCx0aGlzLm1vZGU9PT10aGlzLlNfUE9MRSYmKHU9LXUpfWk9TWF0aC5hdGFuMihlLHMpLGE9eHIoTWF0aC5hc2luKHUpLHRoaXMuYXBhKX1yZXR1cm4gdC54PV8odGhpcy5sb25nMCtpKSx0Lnk9YSx0fXZhciBmcj0uMzMzMzMzMzMzMzMzMzMzMyxwcj0uMTcyMjIyMjIyMjIyMjIyMjIsbXI9LjEwMjU3OTM2NTA3OTM2NTA4LGRyPS4wNjM4ODg4ODg4ODg4ODg4OCxNcj0uMDY2NDAyMTE2NDAyMTE2NCxncj0uMDE2NDE1MDEyOTQyMTkxNTQzO2Z1bmN0aW9uIHlyKHQpe3ZhciBlLHM9W107cmV0dXJuIHNbMF09dCpmcixlPXQqdCxzWzBdKz1lKnByLHNbMV09ZSpkcixlKj10LHNbMF0rPWUqbXIsc1sxXSs9ZSpNcixzWzJdPWUqZ3Isc31mdW5jdGlvbiB4cih0LGUpe3ZhciBzPXQrdDtyZXR1cm4gdCtlWzBdKk1hdGguc2luKHMpK2VbMV0qTWF0aC5zaW4ocytzKStlWzJdKk1hdGguc2luKHMrcytzKX12YXIgX3I9WyJMYW1iZXJ0IEF6aW11dGhhbCBFcXVhbCBBcmVhIiwiTGFtYmVydF9BemltdXRoYWxfRXF1YWxfQXJlYSIsImxhZWEiXSx2cj17aW5pdDp1cixmb3J3YXJkOmxyLGludmVyc2U6Y3IsbmFtZXM6X3IsU19QT0xFOm5yLE5fUE9MRTpycixFUVVJVDpocixPQkxJUTpvcn07ZnVuY3Rpb24gZnQodCl7cmV0dXJuIE1hdGguYWJzKHQpPjEmJih0PXQ+MT8xOi0xKSxNYXRoLmFzaW4odCl9ZnVuY3Rpb24gYnIoKXtNYXRoLmFicyh0aGlzLmxhdDErdGhpcy5sYXQyKTx5fHwodGhpcy50ZW1wPXRoaXMuYi90aGlzLmEsdGhpcy5lcz0xLU1hdGgucG93KHRoaXMudGVtcCwyKSx0aGlzLmUzPU1hdGguc3FydCh0aGlzLmVzKSx0aGlzLnNpbl9wbz1NYXRoLnNpbih0aGlzLmxhdDEpLHRoaXMuY29zX3BvPU1hdGguY29zKHRoaXMubGF0MSksdGhpcy50MT10aGlzLnNpbl9wbyx0aGlzLmNvbj10aGlzLnNpbl9wbyx0aGlzLm1zMT1pdCh0aGlzLmUzLHRoaXMuc2luX3BvLHRoaXMuY29zX3BvKSx0aGlzLnFzMT1jdCh0aGlzLmUzLHRoaXMuc2luX3BvLHRoaXMuY29zX3BvKSx0aGlzLnNpbl9wbz1NYXRoLnNpbih0aGlzLmxhdDIpLHRoaXMuY29zX3BvPU1hdGguY29zKHRoaXMubGF0MiksdGhpcy50Mj10aGlzLnNpbl9wbyx0aGlzLm1zMj1pdCh0aGlzLmUzLHRoaXMuc2luX3BvLHRoaXMuY29zX3BvKSx0aGlzLnFzMj1jdCh0aGlzLmUzLHRoaXMuc2luX3BvLHRoaXMuY29zX3BvKSx0aGlzLnNpbl9wbz1NYXRoLnNpbih0aGlzLmxhdDApLHRoaXMuY29zX3BvPU1hdGguY29zKHRoaXMubGF0MCksdGhpcy50Mz10aGlzLnNpbl9wbyx0aGlzLnFzMD1jdCh0aGlzLmUzLHRoaXMuc2luX3BvLHRoaXMuY29zX3BvKSxNYXRoLmFicyh0aGlzLmxhdDEtdGhpcy5sYXQyKT55P3RoaXMubnMwPSh0aGlzLm1zMSp0aGlzLm1zMS10aGlzLm1zMip0aGlzLm1zMikvKHRoaXMucXMyLXRoaXMucXMxKTp0aGlzLm5zMD10aGlzLmNvbix0aGlzLmM9dGhpcy5tczEqdGhpcy5tczErdGhpcy5uczAqdGhpcy5xczEsdGhpcy5yaD10aGlzLmEqTWF0aC5zcXJ0KHRoaXMuYy10aGlzLm5zMCp0aGlzLnFzMCkvdGhpcy5uczApfWZ1bmN0aW9uIE5yKHQpe3ZhciBlPXQueCxzPXQueTt0aGlzLnNpbl9waGk9TWF0aC5zaW4ocyksdGhpcy5jb3NfcGhpPU1hdGguY29zKHMpO3ZhciBpPWN0KHRoaXMuZTMsdGhpcy5zaW5fcGhpLHRoaXMuY29zX3BoaSksYT10aGlzLmEqTWF0aC5zcXJ0KHRoaXMuYy10aGlzLm5zMCppKS90aGlzLm5zMCxuPXRoaXMubnMwKl8oZS10aGlzLmxvbmcwKSxoPWEqTWF0aC5zaW4obikrdGhpcy54MCxyPXRoaXMucmgtYSpNYXRoLmNvcyhuKSt0aGlzLnkwO3JldHVybiB0Lng9aCx0Lnk9cix0fWZ1bmN0aW9uIEVyKHQpe3ZhciBlLHMsaSxhLG4saDtyZXR1cm4gdC54LT10aGlzLngwLHQueT10aGlzLnJoLXQueSt0aGlzLnkwLHRoaXMubnMwPj0wPyhlPU1hdGguc3FydCh0LngqdC54K3QueSp0LnkpLGk9MSk6KGU9LU1hdGguc3FydCh0LngqdC54K3QueSp0LnkpLGk9LTEpLGE9MCxlIT09MCYmKGE9TWF0aC5hdGFuMihpKnQueCxpKnQueSkpLGk9ZSp0aGlzLm5zMC90aGlzLmEsdGhpcy5zcGhlcmU/aD1NYXRoLmFzaW4oKHRoaXMuYy1pKmkpLygyKnRoaXMubnMwKSk6KHM9KHRoaXMuYy1pKmkpL3RoaXMubnMwLGg9dGhpcy5waGkxeih0aGlzLmUzLHMpKSxuPV8oYS90aGlzLm5zMCt0aGlzLmxvbmcwKSx0Lng9bix0Lnk9aCx0fWZ1bmN0aW9uIHdyKHQsZSl7dmFyIHMsaSxhLG4saCxyPWZ0KC41KmUpO2lmKHQ8eSlyZXR1cm4gcjtmb3IodmFyIG89dCp0LHU9MTt1PD0yNTt1KyspaWYocz1NYXRoLnNpbihyKSxpPU1hdGguY29zKHIpLGE9dCpzLG49MS1hKmEsaD0uNSpuKm4vaSooZS8oMS1vKS1zL24rLjUvdCpNYXRoLmxvZygoMS1hKS8oMSthKSkpLHI9citoLE1hdGguYWJzKGgpPD0xZS03KXJldHVybiByO3JldHVybiBudWxsfXZhciBBcj1bIkFsYmVyc19Db25pY19FcXVhbF9BcmVhIiwiQWxiZXJzIiwiYWVhIl0sQ3I9e2luaXQ6YnIsZm9yd2FyZDpOcixpbnZlcnNlOkVyLG5hbWVzOkFyLHBoaTF6OndyfTtmdW5jdGlvbiBTcigpe3RoaXMuc2luX3AxND1NYXRoLnNpbih0aGlzLmxhdDApLHRoaXMuY29zX3AxND1NYXRoLmNvcyh0aGlzLmxhdDApLHRoaXMuaW5maW5pdHlfZGlzdD0xZTMqdGhpcy5hLHRoaXMucmM9MX1mdW5jdGlvbiBJcih0KXt2YXIgZSxzLGksYSxuLGgscixvLHU9dC54LGw9dC55O3JldHVybiBpPV8odS10aGlzLmxvbmcwKSxlPU1hdGguc2luKGwpLHM9TWF0aC5jb3MobCksYT1NYXRoLmNvcyhpKSxoPXRoaXMuc2luX3AxNCplK3RoaXMuY29zX3AxNCpzKmEsbj0xLGg+MHx8TWF0aC5hYnMoaCk8PXk/KHI9dGhpcy54MCt0aGlzLmEqbipzKk1hdGguc2luKGkpL2gsbz10aGlzLnkwK3RoaXMuYSpuKih0aGlzLmNvc19wMTQqZS10aGlzLnNpbl9wMTQqcyphKS9oKToocj10aGlzLngwK3RoaXMuaW5maW5pdHlfZGlzdCpzKk1hdGguc2luKGkpLG89dGhpcy55MCt0aGlzLmluZmluaXR5X2Rpc3QqKHRoaXMuY29zX3AxNCplLXRoaXMuc2luX3AxNCpzKmEpKSx0Lng9cix0Lnk9byx0fWZ1bmN0aW9uIFRyKHQpe3ZhciBlLHMsaSxhLG4saDtyZXR1cm4gdC54PSh0LngtdGhpcy54MCkvdGhpcy5hLHQueT0odC55LXRoaXMueTApL3RoaXMuYSx0LngvPXRoaXMuazAsdC55Lz10aGlzLmswLChlPU1hdGguc3FydCh0LngqdC54K3QueSp0LnkpKT8oYT1NYXRoLmF0YW4yKGUsdGhpcy5yYykscz1NYXRoLnNpbihhKSxpPU1hdGguY29zKGEpLGg9ZnQoaSp0aGlzLnNpbl9wMTQrdC55KnMqdGhpcy5jb3NfcDE0L2UpLG49TWF0aC5hdGFuMih0LngqcyxlKnRoaXMuY29zX3AxNCppLXQueSp0aGlzLnNpbl9wMTQqcyksbj1fKHRoaXMubG9uZzArbikpOihoPXRoaXMucGhpYzAsbj0wKSx0Lng9bix0Lnk9aCx0fXZhciBPcj1bImdub20iXSxQcj17aW5pdDpTcixmb3J3YXJkOklyLGludmVyc2U6VHIsbmFtZXM6T3J9O2Z1bmN0aW9uIERyKHQsZSl7dmFyIHM9MS0oMS10KnQpLygyKnQpKk1hdGgubG9nKCgxLXQpLygxK3QpKTtpZihNYXRoLmFicyhNYXRoLmFicyhlKS1zKTwxZS02KXJldHVybiBlPDA/LTEqZzpnO2Zvcih2YXIgaT1NYXRoLmFzaW4oLjUqZSksYSxuLGgscixvPTA7bzwzMDtvKyspaWYobj1NYXRoLnNpbihpKSxoPU1hdGguY29zKGkpLHI9dCpuLGE9TWF0aC5wb3coMS1yKnIsMikvKDIqaCkqKGUvKDEtdCp0KS1uLygxLXIqcikrLjUvdCpNYXRoLmxvZygoMS1yKS8oMStyKSkpLGkrPWEsTWF0aC5hYnMoYSk8PTFlLTEwKXJldHVybiBpO3JldHVybiBOYU59ZnVuY3Rpb24ga3IoKXt0aGlzLnNwaGVyZXx8KHRoaXMuazA9aXQodGhpcy5lLE1hdGguc2luKHRoaXMubGF0X3RzKSxNYXRoLmNvcyh0aGlzLmxhdF90cykpKX1mdW5jdGlvbiBScih0KXt2YXIgZT10Lngscz10LnksaSxhLG49XyhlLXRoaXMubG9uZzApO2lmKHRoaXMuc3BoZXJlKWk9dGhpcy54MCt0aGlzLmEqbipNYXRoLmNvcyh0aGlzLmxhdF90cyksYT10aGlzLnkwK3RoaXMuYSpNYXRoLnNpbihzKS9NYXRoLmNvcyh0aGlzLmxhdF90cyk7ZWxzZXt2YXIgaD1jdCh0aGlzLmUsTWF0aC5zaW4ocykpO2k9dGhpcy54MCt0aGlzLmEqdGhpcy5rMCpuLGE9dGhpcy55MCt0aGlzLmEqaCouNS90aGlzLmswfXJldHVybiB0Lng9aSx0Lnk9YSx0fWZ1bmN0aW9uIExyKHQpe3QueC09dGhpcy54MCx0LnktPXRoaXMueTA7dmFyIGUscztyZXR1cm4gdGhpcy5zcGhlcmU/KGU9Xyh0aGlzLmxvbmcwK3QueC90aGlzLmEvTWF0aC5jb3ModGhpcy5sYXRfdHMpKSxzPU1hdGguYXNpbih0LnkvdGhpcy5hKk1hdGguY29zKHRoaXMubGF0X3RzKSkpOihzPURyKHRoaXMuZSwyKnQueSp0aGlzLmswL3RoaXMuYSksZT1fKHRoaXMubG9uZzArdC54Lyh0aGlzLmEqdGhpcy5rMCkpKSx0Lng9ZSx0Lnk9cyx0fXZhciBxcj1bImNlYSJdLEJyPXtpbml0OmtyLGZvcndhcmQ6UnIsaW52ZXJzZTpMcixuYW1lczpxcn07ZnVuY3Rpb24gRnIoKXt0aGlzLngwPXRoaXMueDB8fDAsdGhpcy55MD10aGlzLnkwfHwwLHRoaXMubGF0MD10aGlzLmxhdDB8fDAsdGhpcy5sb25nMD10aGlzLmxvbmcwfHwwLHRoaXMubGF0X3RzPXRoaXMubGF0X3RzfHwwLHRoaXMudGl0bGU9dGhpcy50aXRsZXx8IkVxdWlkaXN0YW50IEN5bGluZHJpY2FsIChQbGF0ZSBDYXJyZSkiLHRoaXMucmM9TWF0aC5jb3ModGhpcy5sYXRfdHMpfWZ1bmN0aW9uIGpyKHQpe3ZhciBlPXQueCxzPXQueSxpPV8oZS10aGlzLmxvbmcwKSxhPVN0KHMtdGhpcy5sYXQwKTtyZXR1cm4gdC54PXRoaXMueDArdGhpcy5hKmkqdGhpcy5yYyx0Lnk9dGhpcy55MCt0aGlzLmEqYSx0fWZ1bmN0aW9uIEdyKHQpe3ZhciBlPXQueCxzPXQueTtyZXR1cm4gdC54PV8odGhpcy5sb25nMCsoZS10aGlzLngwKS8odGhpcy5hKnRoaXMucmMpKSx0Lnk9U3QodGhpcy5sYXQwKyhzLXRoaXMueTApL3RoaXMuYSksdH12YXIgenI9WyJFcXVpcmVjdGFuZ3VsYXIiLCJFcXVpZGlzdGFudF9DeWxpbmRyaWNhbCIsImVxYyJdLFVyPXtpbml0OkZyLGZvcndhcmQ6anIsaW52ZXJzZTpHcixuYW1lczp6cn0sQnM9MjA7ZnVuY3Rpb24gSHIoKXt0aGlzLnRlbXA9dGhpcy5iL3RoaXMuYSx0aGlzLmVzPTEtTWF0aC5wb3codGhpcy50ZW1wLDIpLHRoaXMuZT1NYXRoLnNxcnQodGhpcy5lcyksdGhpcy5lMD1XdCh0aGlzLmVzKSx0aGlzLmUxPVZ0KHRoaXMuZXMpLHRoaXMuZTI9SnQodGhpcy5lcyksdGhpcy5lMz1LdCh0aGlzLmVzKSx0aGlzLm1sMD10aGlzLmEqUSh0aGlzLmUwLHRoaXMuZTEsdGhpcy5lMix0aGlzLmUzLHRoaXMubGF0MCl9ZnVuY3Rpb24gUXIodCl7dmFyIGU9dC54LHM9dC55LGksYSxuLGg9XyhlLXRoaXMubG9uZzApO2lmKG49aCpNYXRoLnNpbihzKSx0aGlzLnNwaGVyZSlNYXRoLmFicyhzKTw9eT8oaT10aGlzLmEqaCxhPS0xKnRoaXMuYSp0aGlzLmxhdDApOihpPXRoaXMuYSpNYXRoLnNpbihuKS9NYXRoLnRhbihzKSxhPXRoaXMuYSooU3Qocy10aGlzLmxhdDApKygxLU1hdGguY29zKG4pKS9NYXRoLnRhbihzKSkpO2Vsc2UgaWYoTWF0aC5hYnMocyk8PXkpaT10aGlzLmEqaCxhPS0xKnRoaXMubWwwO2Vsc2V7dmFyIHI9Q3QodGhpcy5hLHRoaXMuZSxNYXRoLnNpbihzKSkvTWF0aC50YW4ocyk7aT1yKk1hdGguc2luKG4pLGE9dGhpcy5hKlEodGhpcy5lMCx0aGlzLmUxLHRoaXMuZTIsdGhpcy5lMyxzKS10aGlzLm1sMCtyKigxLU1hdGguY29zKG4pKX1yZXR1cm4gdC54PWkrdGhpcy54MCx0Lnk9YSt0aGlzLnkwLHR9ZnVuY3Rpb24gWHIodCl7dmFyIGUscyxpLGEsbixoLHIsbyx1O2lmKGk9dC54LXRoaXMueDAsYT10LnktdGhpcy55MCx0aGlzLnNwaGVyZSlpZihNYXRoLmFicyhhK3RoaXMuYSp0aGlzLmxhdDApPD15KWU9XyhpL3RoaXMuYSt0aGlzLmxvbmcwKSxzPTA7ZWxzZXtoPXRoaXMubGF0MCthL3RoaXMuYSxyPWkqaS90aGlzLmEvdGhpcy5hK2gqaCxvPWg7dmFyIGw7Zm9yKG49QnM7bjstLW4paWYobD1NYXRoLnRhbihvKSx1PS0xKihoKihvKmwrMSktby0uNSoobypvK3IpKmwpLygoby1oKS9sLTEpLG8rPXUsTWF0aC5hYnModSk8PXkpe3M9bzticmVha31lPV8odGhpcy5sb25nMCtNYXRoLmFzaW4oaSpNYXRoLnRhbihvKS90aGlzLmEpL01hdGguc2luKHMpKX1lbHNlIGlmKE1hdGguYWJzKGErdGhpcy5tbDApPD15KXM9MCxlPV8odGhpcy5sb25nMCtpL3RoaXMuYSk7ZWxzZXtoPSh0aGlzLm1sMCthKS90aGlzLmEscj1pKmkvdGhpcy5hL3RoaXMuYStoKmgsbz1oO3ZhciBjLGYscCxtLGQ7Zm9yKG49QnM7bjstLW4paWYoZD10aGlzLmUqTWF0aC5zaW4obyksYz1NYXRoLnNxcnQoMS1kKmQpKk1hdGgudGFuKG8pLGY9dGhpcy5hKlEodGhpcy5lMCx0aGlzLmUxLHRoaXMuZTIsdGhpcy5lMyxvKSxwPXRoaXMuZTAtMip0aGlzLmUxKk1hdGguY29zKDIqbykrNCp0aGlzLmUyKk1hdGguY29zKDQqbyktNip0aGlzLmUzKk1hdGguY29zKDYqbyksbT1mL3RoaXMuYSx1PShoKihjKm0rMSktbS0uNSpjKihtKm0rcikpLyh0aGlzLmVzKk1hdGguc2luKDIqbykqKG0qbStyLTIqaCptKS8oNCpjKSsoaC1tKSooYypwLTIvTWF0aC5zaW4oMipvKSktcCksby09dSxNYXRoLmFicyh1KTw9eSl7cz1vO2JyZWFrfWM9TWF0aC5zcXJ0KDEtdGhpcy5lcypNYXRoLnBvdyhNYXRoLnNpbihzKSwyKSkqTWF0aC50YW4ocyksZT1fKHRoaXMubG9uZzArTWF0aC5hc2luKGkqYy90aGlzLmEpL01hdGguc2luKHMpKX1yZXR1cm4gdC54PWUsdC55PXMsdH12YXIgV3I9WyJQb2x5Y29uaWMiLCJwb2x5Il0sVnI9e2luaXQ6SHIsZm9yd2FyZDpRcixpbnZlcnNlOlhyLG5hbWVzOldyfTtmdW5jdGlvbiBKcigpe3RoaXMuQT1bXSx0aGlzLkFbMV09LjYzOTkxNzUwNzMsdGhpcy5BWzJdPS0uMTM1ODc5NzYxMyx0aGlzLkFbM109LjA2MzI5NDQwOSx0aGlzLkFbNF09LS4wMjUyNjg1Myx0aGlzLkFbNV09LjAxMTc4NzksdGhpcy5BWzZdPS0uMDA1NTE2MSx0aGlzLkFbN109LjAwMjY5MDYsdGhpcy5BWzhdPS0uMDAxMzMzLHRoaXMuQVs5XT02N2UtNSx0aGlzLkFbMTBdPS0zNGUtNSx0aGlzLkJfcmU9W10sdGhpcy5CX2ltPVtdLHRoaXMuQl9yZVsxXT0uNzU1Nzg1MzIyOCx0aGlzLkJfaW1bMV09MCx0aGlzLkJfcmVbMl09LjI0OTIwNDY0Nix0aGlzLkJfaW1bMl09LjAwMzM3MTUwNyx0aGlzLkJfcmVbM109LS4wMDE1NDE3MzksdGhpcy5CX2ltWzNdPS4wNDEwNTg1Nix0aGlzLkJfcmVbNF09LS4xMDE2MjkwNyx0aGlzLkJfaW1bNF09LjAxNzI3NjA5LHRoaXMuQl9yZVs1XT0tLjI2NjIzNDg5LHRoaXMuQl9pbVs1XT0tLjM2MjQ5MjE4LHRoaXMuQl9yZVs2XT0tLjY4NzA5ODMsdGhpcy5CX2ltWzZdPS0xLjE2NTE5NjcsdGhpcy5DX3JlPVtdLHRoaXMuQ19pbT1bXSx0aGlzLkNfcmVbMV09MS4zMjMxMjcwNDM5LHRoaXMuQ19pbVsxXT0wLHRoaXMuQ19yZVsyXT0tLjU3NzI0NTc4OSx0aGlzLkNfaW1bMl09LS4wMDc4MDk1OTgsdGhpcy5DX3JlWzNdPS41MDgzMDc1MTMsdGhpcy5DX2ltWzNdPS0uMTEyMjA4OTUyLHRoaXMuQ19yZVs0XT0tLjE1MDk0NzYyLHRoaXMuQ19pbVs0XT0uMTgyMDA2MDIsdGhpcy5DX3JlWzVdPTEuMDE0MTgxNzksdGhpcy5DX2ltWzVdPTEuNjQ0OTc2OTYsdGhpcy5DX3JlWzZdPTEuOTY2MDU0OSx0aGlzLkNfaW1bNl09Mi41MTI3NjQ1LHRoaXMuRD1bXSx0aGlzLkRbMV09MS41NjI3MDE0MjQzLHRoaXMuRFsyXT0uNTE4NTQwNjM5OCx0aGlzLkRbM109LS4wMzMzMzA5OCx0aGlzLkRbNF09LS4xMDUyOTA2LHRoaXMuRFs1XT0tLjAzNjg1OTQsdGhpcy5EWzZdPS4wMDczMTcsdGhpcy5EWzddPS4wMTIyLHRoaXMuRFs4XT0uMDAzOTQsdGhpcy5EWzldPS0uMDAxM31mdW5jdGlvbiBLcih0KXt2YXIgZSxzPXQueCxpPXQueSxhPWktdGhpcy5sYXQwLG49cy10aGlzLmxvbmcwLGg9YS9qdCoxZS01LHI9bixvPTEsdT0wO2ZvcihlPTE7ZTw9MTA7ZSsrKW89bypoLHU9dSt0aGlzLkFbZV0qbzt2YXIgbD11LGM9cixmPTEscD0wLG0sZCxNPTAseD0wO2ZvcihlPTE7ZTw9NjtlKyspbT1mKmwtcCpjLGQ9cCpsK2YqYyxmPW0scD1kLE09TSt0aGlzLkJfcmVbZV0qZi10aGlzLkJfaW1bZV0qcCx4PXgrdGhpcy5CX2ltW2VdKmYrdGhpcy5CX3JlW2VdKnA7cmV0dXJuIHQueD14KnRoaXMuYSt0aGlzLngwLHQueT1NKnRoaXMuYSt0aGlzLnkwLHR9ZnVuY3Rpb24gJHIodCl7dmFyIGUscz10LngsaT10LnksYT1zLXRoaXMueDAsbj1pLXRoaXMueTAsaD1uL3RoaXMuYSxyPWEvdGhpcy5hLG89MSx1PTAsbCxjLGY9MCxwPTA7Zm9yKGU9MTtlPD02O2UrKylsPW8qaC11KnIsYz11KmgrbypyLG89bCx1PWMsZj1mK3RoaXMuQ19yZVtlXSpvLXRoaXMuQ19pbVtlXSp1LHA9cCt0aGlzLkNfaW1bZV0qbyt0aGlzLkNfcmVbZV0qdTtmb3IodmFyIG09MDttPHRoaXMuaXRlcmF0aW9uczttKyspe3ZhciBkPWYsTT1wLHgsYix2PWgsRT1yO2ZvcihlPTI7ZTw9NjtlKyspeD1kKmYtTSpwLGI9TSpmK2QqcCxkPXgsTT1iLHY9disoZS0xKSoodGhpcy5CX3JlW2VdKmQtdGhpcy5CX2ltW2VdKk0pLEU9RSsoZS0xKSoodGhpcy5CX2ltW2VdKmQrdGhpcy5CX3JlW2VdKk0pO2Q9MSxNPTA7dmFyIEE9dGhpcy5CX3JlWzFdLEM9dGhpcy5CX2ltWzFdO2ZvcihlPTI7ZTw9NjtlKyspeD1kKmYtTSpwLGI9TSpmK2QqcCxkPXgsTT1iLEE9QStlKih0aGlzLkJfcmVbZV0qZC10aGlzLkJfaW1bZV0qTSksQz1DK2UqKHRoaXMuQl9pbVtlXSpkK3RoaXMuQl9yZVtlXSpNKTt2YXIgVD1BKkErQypDO2Y9KHYqQStFKkMpL1QscD0oRSpBLXYqQykvVH12YXIgdz1mLFM9cCxPPTEsUD0wO2ZvcihlPTE7ZTw9OTtlKyspTz1PKncsUD1QK3RoaXMuRFtlXSpPO3ZhciBudD10aGlzLmxhdDArUCpqdCoxZTUsX3Q9dGhpcy5sb25nMCtTO3JldHVybiB0Lng9X3QsdC55PW50LHR9dmFyIFpyPVsiTmV3X1plYWxhbmRfTWFwX0dyaWQiLCJuem1nIl0sWXI9e2luaXQ6SnIsZm9yd2FyZDpLcixpbnZlcnNlOiRyLG5hbWVzOlpyfTtmdW5jdGlvbiB0aCgpe31mdW5jdGlvbiBlaCh0KXt2YXIgZT10Lngscz10LnksaT1fKGUtdGhpcy5sb25nMCksYT10aGlzLngwK3RoaXMuYSppLG49dGhpcy55MCt0aGlzLmEqTWF0aC5sb2coTWF0aC50YW4oTWF0aC5QSS80K3MvMi41KSkqMS4yNTtyZXR1cm4gdC54PWEsdC55PW4sdH1mdW5jdGlvbiBzaCh0KXt0LngtPXRoaXMueDAsdC55LT10aGlzLnkwO3ZhciBlPV8odGhpcy5sb25nMCt0LngvdGhpcy5hKSxzPTIuNSooTWF0aC5hdGFuKE1hdGguZXhwKC44KnQueS90aGlzLmEpKS1NYXRoLlBJLzQpO3JldHVybiB0Lng9ZSx0Lnk9cyx0fXZhciBpaD1bIk1pbGxlcl9DeWxpbmRyaWNhbCIsIm1pbGwiXSxhaD17aW5pdDp0aCxmb3J3YXJkOmVoLGludmVyc2U6c2gsbmFtZXM6aWh9LG5oPTIwO2Z1bmN0aW9uIHJoKCl7dGhpcy5zcGhlcmU/KHRoaXMubj0xLHRoaXMubT0wLHRoaXMuZXM9MCx0aGlzLkNfeT1NYXRoLnNxcnQoKHRoaXMubSsxKS90aGlzLm4pLHRoaXMuQ194PXRoaXMuQ195Lyh0aGlzLm0rMSkpOnRoaXMuZW49a3ModGhpcy5lcyl9ZnVuY3Rpb24gaGgodCl7dmFyIGUscyxpPXQueCxhPXQueTtpZihpPV8oaS10aGlzLmxvbmcwKSx0aGlzLnNwaGVyZSl7aWYoIXRoaXMubSlhPXRoaXMubiE9PTE/TWF0aC5hc2luKHRoaXMubipNYXRoLnNpbihhKSk6YTtlbHNlIGZvcih2YXIgbj10aGlzLm4qTWF0aC5zaW4oYSksaD1uaDtoOy0taCl7dmFyIHI9KHRoaXMubSphK01hdGguc2luKGEpLW4pLyh0aGlzLm0rTWF0aC5jb3MoYSkpO2lmKGEtPXIsTWF0aC5hYnMocik8eSlicmVha31lPXRoaXMuYSp0aGlzLkNfeCppKih0aGlzLm0rTWF0aC5jb3MoYSkpLHM9dGhpcy5hKnRoaXMuQ195KmF9ZWxzZXt2YXIgbz1NYXRoLnNpbihhKSx1PU1hdGguY29zKGEpO3M9dGhpcy5hKmdlKGEsbyx1LHRoaXMuZW4pLGU9dGhpcy5hKmkqdS9NYXRoLnNxcnQoMS10aGlzLmVzKm8qbyl9cmV0dXJuIHQueD1lLHQueT1zLHR9ZnVuY3Rpb24gb2godCl7dmFyIGUscyxpLGE7cmV0dXJuIHQueC09dGhpcy54MCxpPXQueC90aGlzLmEsdC55LT10aGlzLnkwLGU9dC55L3RoaXMuYSx0aGlzLnNwaGVyZT8oZS89dGhpcy5DX3ksaT1pLyh0aGlzLkNfeCoodGhpcy5tK01hdGguY29zKGUpKSksdGhpcy5tP2U9ZnQoKHRoaXMubSplK01hdGguc2luKGUpKS90aGlzLm4pOnRoaXMubiE9PTEmJihlPWZ0KE1hdGguc2luKGUpL3RoaXMubikpLGk9XyhpK3RoaXMubG9uZzApLGU9U3QoZSkpOihlPVJzKHQueS90aGlzLmEsdGhpcy5lcyx0aGlzLmVuKSxhPU1hdGguYWJzKGUpLGE8Zz8oYT1NYXRoLnNpbihlKSxzPXRoaXMubG9uZzArdC54Kk1hdGguc3FydCgxLXRoaXMuZXMqYSphKS8odGhpcy5hKk1hdGguY29zKGUpKSxpPV8ocykpOmEteTxnJiYoaT10aGlzLmxvbmcwKSksdC54PWksdC55PWUsdH12YXIgdWg9WyJTaW51c29pZGFsIiwic2ludSJdLGxoPXtpbml0OnJoLGZvcndhcmQ6aGgsaW52ZXJzZTpvaCxuYW1lczp1aH07ZnVuY3Rpb24gY2goKXt9ZnVuY3Rpb24gZmgodCl7Zm9yKHZhciBlPXQueCxzPXQueSxpPV8oZS10aGlzLmxvbmcwKSxhPXMsbj1NYXRoLlBJKk1hdGguc2luKHMpOzspe3ZhciBoPS0oYStNYXRoLnNpbihhKS1uKS8oMStNYXRoLmNvcyhhKSk7aWYoYSs9aCxNYXRoLmFicyhoKTx5KWJyZWFrfWEvPTIsTWF0aC5QSS8yLU1hdGguYWJzKHMpPHkmJihpPTApO3ZhciByPS45MDAzMTYzMTYxNTgqdGhpcy5hKmkqTWF0aC5jb3MoYSkrdGhpcy54MCxvPTEuNDE0MjEzNTYyMzczMSp0aGlzLmEqTWF0aC5zaW4oYSkrdGhpcy55MDtyZXR1cm4gdC54PXIsdC55PW8sdH1mdW5jdGlvbiBwaCh0KXt2YXIgZSxzO3QueC09dGhpcy54MCx0LnktPXRoaXMueTAscz10LnkvKDEuNDE0MjEzNTYyMzczMSp0aGlzLmEpLE1hdGguYWJzKHMpPi45OTk5OTk5OTk5OTkmJihzPS45OTk5OTk5OTk5OTkpLGU9TWF0aC5hc2luKHMpO3ZhciBpPV8odGhpcy5sb25nMCt0LngvKC45MDAzMTYzMTYxNTgqdGhpcy5hKk1hdGguY29zKGUpKSk7aTwtTWF0aC5QSSYmKGk9LU1hdGguUEkpLGk+TWF0aC5QSSYmKGk9TWF0aC5QSSkscz0oMiplK01hdGguc2luKDIqZSkpL01hdGguUEksTWF0aC5hYnMocyk+MSYmKHM9MSk7dmFyIGE9TWF0aC5hc2luKHMpO3JldHVybiB0Lng9aSx0Lnk9YSx0fXZhciBtaD1bIk1vbGx3ZWlkZSIsIm1vbGwiXSxkaD17aW5pdDpjaCxmb3J3YXJkOmZoLGludmVyc2U6cGgsbmFtZXM6bWh9O2Z1bmN0aW9uIE1oKCl7TWF0aC5hYnModGhpcy5sYXQxK3RoaXMubGF0Mik8eXx8KHRoaXMubGF0Mj10aGlzLmxhdDJ8fHRoaXMubGF0MSx0aGlzLnRlbXA9dGhpcy5iL3RoaXMuYSx0aGlzLmVzPTEtTWF0aC5wb3codGhpcy50ZW1wLDIpLHRoaXMuZT1NYXRoLnNxcnQodGhpcy5lcyksdGhpcy5lMD1XdCh0aGlzLmVzKSx0aGlzLmUxPVZ0KHRoaXMuZXMpLHRoaXMuZTI9SnQodGhpcy5lcyksdGhpcy5lMz1LdCh0aGlzLmVzKSx0aGlzLnNpbnBoaT1NYXRoLnNpbih0aGlzLmxhdDEpLHRoaXMuY29zcGhpPU1hdGguY29zKHRoaXMubGF0MSksdGhpcy5tczE9aXQodGhpcy5lLHRoaXMuc2lucGhpLHRoaXMuY29zcGhpKSx0aGlzLm1sMT1RKHRoaXMuZTAsdGhpcy5lMSx0aGlzLmUyLHRoaXMuZTMsdGhpcy5sYXQxKSxNYXRoLmFicyh0aGlzLmxhdDEtdGhpcy5sYXQyKTx5P3RoaXMubnM9dGhpcy5zaW5waGk6KHRoaXMuc2lucGhpPU1hdGguc2luKHRoaXMubGF0MiksdGhpcy5jb3NwaGk9TWF0aC5jb3ModGhpcy5sYXQyKSx0aGlzLm1zMj1pdCh0aGlzLmUsdGhpcy5zaW5waGksdGhpcy5jb3NwaGkpLHRoaXMubWwyPVEodGhpcy5lMCx0aGlzLmUxLHRoaXMuZTIsdGhpcy5lMyx0aGlzLmxhdDIpLHRoaXMubnM9KHRoaXMubXMxLXRoaXMubXMyKS8odGhpcy5tbDItdGhpcy5tbDEpKSx0aGlzLmc9dGhpcy5tbDErdGhpcy5tczEvdGhpcy5ucyx0aGlzLm1sMD1RKHRoaXMuZTAsdGhpcy5lMSx0aGlzLmUyLHRoaXMuZTMsdGhpcy5sYXQwKSx0aGlzLnJoPXRoaXMuYSoodGhpcy5nLXRoaXMubWwwKSl9ZnVuY3Rpb24gZ2godCl7dmFyIGU9dC54LHM9dC55LGk7aWYodGhpcy5zcGhlcmUpaT10aGlzLmEqKHRoaXMuZy1zKTtlbHNle3ZhciBhPVEodGhpcy5lMCx0aGlzLmUxLHRoaXMuZTIsdGhpcy5lMyxzKTtpPXRoaXMuYSoodGhpcy5nLWEpfXZhciBuPXRoaXMubnMqXyhlLXRoaXMubG9uZzApLGg9dGhpcy54MCtpKk1hdGguc2luKG4pLHI9dGhpcy55MCt0aGlzLnJoLWkqTWF0aC5jb3Mobik7cmV0dXJuIHQueD1oLHQueT1yLHR9ZnVuY3Rpb24geWgodCl7dC54LT10aGlzLngwLHQueT10aGlzLnJoLXQueSt0aGlzLnkwO3ZhciBlLHMsaSxhO3RoaXMubnM+PTA/KHM9TWF0aC5zcXJ0KHQueCp0LngrdC55KnQueSksZT0xKToocz0tTWF0aC5zcXJ0KHQueCp0LngrdC55KnQueSksZT0tMSk7dmFyIG49MDtpZihzIT09MCYmKG49TWF0aC5hdGFuMihlKnQueCxlKnQueSkpLHRoaXMuc3BoZXJlKXJldHVybiBhPV8odGhpcy5sb25nMCtuL3RoaXMubnMpLGk9U3QodGhpcy5nLXMvdGhpcy5hKSx0Lng9YSx0Lnk9aSx0O3ZhciBoPXRoaXMuZy1zL3RoaXMuYTtyZXR1cm4gaT1fZShoLHRoaXMuZTAsdGhpcy5lMSx0aGlzLmUyLHRoaXMuZTMpLGE9Xyh0aGlzLmxvbmcwK24vdGhpcy5ucyksdC54PWEsdC55PWksdH12YXIgeGg9WyJFcXVpZGlzdGFudF9Db25pYyIsImVxZGMiXSxfaD17aW5pdDpNaCxmb3J3YXJkOmdoLGludmVyc2U6eWgsbmFtZXM6eGh9O2Z1bmN0aW9uIHZoKCl7dGhpcy5SPXRoaXMuYX1mdW5jdGlvbiBiaCh0KXt2YXIgZT10Lngscz10LnksaT1fKGUtdGhpcy5sb25nMCksYSxuO01hdGguYWJzKHMpPD15JiYoYT10aGlzLngwK3RoaXMuUippLG49dGhpcy55MCk7dmFyIGg9ZnQoMipNYXRoLmFicyhzL01hdGguUEkpKTsoTWF0aC5hYnMoaSk8PXl8fE1hdGguYWJzKE1hdGguYWJzKHMpLWcpPD15KSYmKGE9dGhpcy54MCxzPj0wP249dGhpcy55MCtNYXRoLlBJKnRoaXMuUipNYXRoLnRhbiguNSpoKTpuPXRoaXMueTArTWF0aC5QSSp0aGlzLlIqLU1hdGgudGFuKC41KmgpKTt2YXIgcj0uNSpNYXRoLmFicyhNYXRoLlBJL2ktaS9NYXRoLlBJKSxvPXIqcix1PU1hdGguc2luKGgpLGw9TWF0aC5jb3MoaCksYz1sLyh1K2wtMSksZj1jKmMscD1jKigyL3UtMSksbT1wKnAsZD1NYXRoLlBJKnRoaXMuUioociooYy1tKStNYXRoLnNxcnQobyooYy1tKSooYy1tKS0obStvKSooZi1tKSkpLyhtK28pO2k8MCYmKGQ9LWQpLGE9dGhpcy54MCtkO3ZhciBNPW8rYztyZXR1cm4gZD1NYXRoLlBJKnRoaXMuUioocCpNLXIqTWF0aC5zcXJ0KChtK28pKihvKzEpLU0qTSkpLyhtK28pLHM+PTA/bj10aGlzLnkwK2Q6bj10aGlzLnkwLWQsdC54PWEsdC55PW4sdH1mdW5jdGlvbiBOaCh0KXt2YXIgZSxzLGksYSxuLGgscixvLHUsbCxjLGYscDtyZXR1cm4gdC54LT10aGlzLngwLHQueS09dGhpcy55MCxjPU1hdGguUEkqdGhpcy5SLGk9dC54L2MsYT10LnkvYyxuPWkqaSthKmEsaD0tTWF0aC5hYnMoYSkqKDErbikscj1oLTIqYSphK2kqaSxvPS0yKmgrMSsyKmEqYStuKm4scD1hKmEvbysoMipyKnIqci9vL28vby05Kmgqci9vL28pLzI3LHU9KGgtcipyLzMvbykvbyxsPTIqTWF0aC5zcXJ0KC11LzMpLGM9MypwL3UvbCxNYXRoLmFicyhjKT4xJiYoYz49MD9jPTE6Yz0tMSksZj1NYXRoLmFjb3MoYykvMyx0Lnk+PTA/cz0oLWwqTWF0aC5jb3MoZitNYXRoLlBJLzMpLXIvMy9vKSpNYXRoLlBJOnM9LSgtbCpNYXRoLmNvcyhmK01hdGguUEkvMyktci8zL28pKk1hdGguUEksTWF0aC5hYnMoaSk8eT9lPXRoaXMubG9uZzA6ZT1fKHRoaXMubG9uZzArTWF0aC5QSSoobi0xK01hdGguc3FydCgxKzIqKGkqaS1hKmEpK24qbikpLzIvaSksdC54PWUsdC55PXMsdH12YXIgRWg9WyJWYW5fZGVyX0dyaW50ZW5fSSIsIlZhbkRlckdyaW50ZW4iLCJ2YW5kZyJdLHdoPXtpbml0OnZoLGZvcndhcmQ6YmgsaW52ZXJzZTpOaCxuYW1lczpFaH07ZnVuY3Rpb24gQWgoKXt0aGlzLnNpbl9wMTI9TWF0aC5zaW4odGhpcy5sYXQwKSx0aGlzLmNvc19wMTI9TWF0aC5jb3ModGhpcy5sYXQwKX1mdW5jdGlvbiBDaCh0KXt2YXIgZT10Lngscz10LnksaT1NYXRoLnNpbih0LnkpLGE9TWF0aC5jb3ModC55KSxuPV8oZS10aGlzLmxvbmcwKSxoLHIsbyx1LGwsYyxmLHAsbSxkLE0seCxiLHYsRSxBLEMsVCx3LFMsTyxQLG50O3JldHVybiB0aGlzLnNwaGVyZT9NYXRoLmFicyh0aGlzLnNpbl9wMTItMSk8PXk/KHQueD10aGlzLngwK3RoaXMuYSooZy1zKSpNYXRoLnNpbihuKSx0Lnk9dGhpcy55MC10aGlzLmEqKGctcykqTWF0aC5jb3MobiksdCk6TWF0aC5hYnModGhpcy5zaW5fcDEyKzEpPD15Pyh0Lng9dGhpcy54MCt0aGlzLmEqKGcrcykqTWF0aC5zaW4obiksdC55PXRoaXMueTArdGhpcy5hKihnK3MpKk1hdGguY29zKG4pLHQpOihUPXRoaXMuc2luX3AxMippK3RoaXMuY29zX3AxMiphKk1hdGguY29zKG4pLEE9TWF0aC5hY29zKFQpLEM9QT9BL01hdGguc2luKEEpOjEsdC54PXRoaXMueDArdGhpcy5hKkMqYSpNYXRoLnNpbihuKSx0Lnk9dGhpcy55MCt0aGlzLmEqQyoodGhpcy5jb3NfcDEyKmktdGhpcy5zaW5fcDEyKmEqTWF0aC5jb3MobikpLHQpOihoPVd0KHRoaXMuZXMpLHI9VnQodGhpcy5lcyksbz1KdCh0aGlzLmVzKSx1PUt0KHRoaXMuZXMpLE1hdGguYWJzKHRoaXMuc2luX3AxMi0xKTw9eT8obD10aGlzLmEqUShoLHIsbyx1LGcpLGM9dGhpcy5hKlEoaCxyLG8sdSxzKSx0Lng9dGhpcy54MCsobC1jKSpNYXRoLnNpbihuKSx0Lnk9dGhpcy55MC0obC1jKSpNYXRoLmNvcyhuKSx0KTpNYXRoLmFicyh0aGlzLnNpbl9wMTIrMSk8PXk/KGw9dGhpcy5hKlEoaCxyLG8sdSxnKSxjPXRoaXMuYSpRKGgscixvLHUscyksdC54PXRoaXMueDArKGwrYykqTWF0aC5zaW4obiksdC55PXRoaXMueTArKGwrYykqTWF0aC5jb3MobiksdCk6KGY9aS9hLHA9Q3QodGhpcy5hLHRoaXMuZSx0aGlzLnNpbl9wMTIpLG09Q3QodGhpcy5hLHRoaXMuZSxpKSxkPU1hdGguYXRhbigoMS10aGlzLmVzKSpmK3RoaXMuZXMqcCp0aGlzLnNpbl9wMTIvKG0qYSkpLE09TWF0aC5hdGFuMihNYXRoLnNpbihuKSx0aGlzLmNvc19wMTIqTWF0aC50YW4oZCktdGhpcy5zaW5fcDEyKk1hdGguY29zKG4pKSxNPT09MD93PU1hdGguYXNpbih0aGlzLmNvc19wMTIqTWF0aC5zaW4oZCktdGhpcy5zaW5fcDEyKk1hdGguY29zKGQpKTpNYXRoLmFicyhNYXRoLmFicyhNKS1NYXRoLlBJKTw9eT93PS1NYXRoLmFzaW4odGhpcy5jb3NfcDEyKk1hdGguc2luKGQpLXRoaXMuc2luX3AxMipNYXRoLmNvcyhkKSk6dz1NYXRoLmFzaW4oTWF0aC5zaW4obikqTWF0aC5jb3MoZCkvTWF0aC5zaW4oTSkpLHg9dGhpcy5lKnRoaXMuc2luX3AxMi9NYXRoLnNxcnQoMS10aGlzLmVzKSxiPXRoaXMuZSp0aGlzLmNvc19wMTIqTWF0aC5jb3MoTSkvTWF0aC5zcXJ0KDEtdGhpcy5lcyksdj14KmIsRT1iKmIsUz13KncsTz1TKncsUD1PKncsbnQ9UCp3LEE9cCp3KigxLVMqRSooMS1FKS82K08vOCp2KigxLTIqRSkrUC8xMjAqKEUqKDQtNypFKS0zKngqeCooMS03KkUpKS1udC80OCp2KSx0Lng9dGhpcy54MCtBKk1hdGguc2luKE0pLHQueT10aGlzLnkwK0EqTWF0aC5jb3MoTSksdCkpfWZ1bmN0aW9uIFNoKHQpe3QueC09dGhpcy54MCx0LnktPXRoaXMueTA7dmFyIGUscyxpLGEsbixoLHIsbyx1LGwsYyxmLHAsbSxkLE0seCxiLHYsRSxBLEMsVCx3O3JldHVybiB0aGlzLnNwaGVyZT8oZT1NYXRoLnNxcnQodC54KnQueCt0LnkqdC55KSxlPjIqZyp0aGlzLmE/dm9pZCAwOihzPWUvdGhpcy5hLGk9TWF0aC5zaW4ocyksYT1NYXRoLmNvcyhzKSxuPXRoaXMubG9uZzAsTWF0aC5hYnMoZSk8PXk/aD10aGlzLmxhdDA6KGg9ZnQoYSp0aGlzLnNpbl9wMTIrdC55KmkqdGhpcy5jb3NfcDEyL2UpLHI9TWF0aC5hYnModGhpcy5sYXQwKS1nLE1hdGguYWJzKHIpPD15P3RoaXMubGF0MD49MD9uPV8odGhpcy5sb25nMCtNYXRoLmF0YW4yKHQueCwtdC55KSk6bj1fKHRoaXMubG9uZzAtTWF0aC5hdGFuMigtdC54LHQueSkpOm49Xyh0aGlzLmxvbmcwK01hdGguYXRhbjIodC54KmksZSp0aGlzLmNvc19wMTIqYS10LnkqdGhpcy5zaW5fcDEyKmkpKSksdC54PW4sdC55PWgsdCkpOihvPVd0KHRoaXMuZXMpLHU9VnQodGhpcy5lcyksbD1KdCh0aGlzLmVzKSxjPUt0KHRoaXMuZXMpLE1hdGguYWJzKHRoaXMuc2luX3AxMi0xKTw9eT8oZj10aGlzLmEqUShvLHUsbCxjLGcpLGU9TWF0aC5zcXJ0KHQueCp0LngrdC55KnQueSkscD1mLWUsaD1fZShwL3RoaXMuYSxvLHUsbCxjKSxuPV8odGhpcy5sb25nMCtNYXRoLmF0YW4yKHQueCwtMSp0LnkpKSx0Lng9bix0Lnk9aCx0KTpNYXRoLmFicyh0aGlzLnNpbl9wMTIrMSk8PXk/KGY9dGhpcy5hKlEobyx1LGwsYyxnKSxlPU1hdGguc3FydCh0LngqdC54K3QueSp0LnkpLHA9ZS1mLGg9X2UocC90aGlzLmEsbyx1LGwsYyksbj1fKHRoaXMubG9uZzArTWF0aC5hdGFuMih0LngsdC55KSksdC54PW4sdC55PWgsdCk6KGU9TWF0aC5zcXJ0KHQueCp0LngrdC55KnQueSksTT1NYXRoLmF0YW4yKHQueCx0LnkpLG09Q3QodGhpcy5hLHRoaXMuZSx0aGlzLnNpbl9wMTIpLHg9TWF0aC5jb3MoTSksYj10aGlzLmUqdGhpcy5jb3NfcDEyKngsdj0tYipiLygxLXRoaXMuZXMpLEU9Myp0aGlzLmVzKigxLXYpKnRoaXMuc2luX3AxMip0aGlzLmNvc19wMTIqeC8oMS10aGlzLmVzKSxBPWUvbSxDPUEtdiooMSt2KSpNYXRoLnBvdyhBLDMpLzYtRSooMSszKnYpKk1hdGgucG93KEEsNCkvMjQsVD0xLXYqQypDLzItQSpDKkMqQy82LGQ9TWF0aC5hc2luKHRoaXMuc2luX3AxMipNYXRoLmNvcyhDKSt0aGlzLmNvc19wMTIqTWF0aC5zaW4oQykqeCksbj1fKHRoaXMubG9uZzArTWF0aC5hc2luKE1hdGguc2luKE0pKk1hdGguc2luKEMpL01hdGguY29zKGQpKSksdz1NYXRoLnNpbihkKSxoPU1hdGguYXRhbjIoKHctdGhpcy5lcypUKnRoaXMuc2luX3AxMikqTWF0aC50YW4oZCksdyooMS10aGlzLmVzKSksdC54PW4sdC55PWgsdCkpfXZhciBJaD1bIkF6aW11dGhhbF9FcXVpZGlzdGFudCIsImFlcWQiXSxUaD17aW5pdDpBaCxmb3J3YXJkOkNoLGludmVyc2U6U2gsbmFtZXM6SWh9O2Z1bmN0aW9uIE9oKCl7dGhpcy5zaW5fcDE0PU1hdGguc2luKHRoaXMubGF0MCksdGhpcy5jb3NfcDE0PU1hdGguY29zKHRoaXMubGF0MCl9ZnVuY3Rpb24gUGgodCl7dmFyIGUscyxpLGEsbixoLHIsbyx1PXQueCxsPXQueTtyZXR1cm4gaT1fKHUtdGhpcy5sb25nMCksZT1NYXRoLnNpbihsKSxzPU1hdGguY29zKGwpLGE9TWF0aC5jb3MoaSksaD10aGlzLnNpbl9wMTQqZSt0aGlzLmNvc19wMTQqcyphLG49MSwoaD4wfHxNYXRoLmFicyhoKTw9eSkmJihyPXRoaXMuYSpuKnMqTWF0aC5zaW4oaSksbz10aGlzLnkwK3RoaXMuYSpuKih0aGlzLmNvc19wMTQqZS10aGlzLnNpbl9wMTQqcyphKSksdC54PXIsdC55PW8sdH1mdW5jdGlvbiBEaCh0KXt2YXIgZSxzLGksYSxuLGgscjtyZXR1cm4gdC54LT10aGlzLngwLHQueS09dGhpcy55MCxlPU1hdGguc3FydCh0LngqdC54K3QueSp0LnkpLHM9ZnQoZS90aGlzLmEpLGk9TWF0aC5zaW4ocyksYT1NYXRoLmNvcyhzKSxoPXRoaXMubG9uZzAsTWF0aC5hYnMoZSk8PXk/KHI9dGhpcy5sYXQwLHQueD1oLHQueT1yLHQpOihyPWZ0KGEqdGhpcy5zaW5fcDE0K3QueSppKnRoaXMuY29zX3AxNC9lKSxuPU1hdGguYWJzKHRoaXMubGF0MCktZyxNYXRoLmFicyhuKTw9eT8odGhpcy5sYXQwPj0wP2g9Xyh0aGlzLmxvbmcwK01hdGguYXRhbjIodC54LC10LnkpKTpoPV8odGhpcy5sb25nMC1NYXRoLmF0YW4yKC10LngsdC55KSksdC54PWgsdC55PXIsdCk6KGg9Xyh0aGlzLmxvbmcwK01hdGguYXRhbjIodC54KmksZSp0aGlzLmNvc19wMTQqYS10LnkqdGhpcy5zaW5fcDE0KmkpKSx0Lng9aCx0Lnk9cix0KSl9dmFyIGtoPVsib3J0aG8iXSxSaD17aW5pdDpPaCxmb3J3YXJkOlBoLGludmVyc2U6RGgsbmFtZXM6a2h9LEw9e0ZST05UOjEsUklHSFQ6MixCQUNLOjMsTEVGVDo0LFRPUDo1LEJPVFRPTTo2fSxrPXtBUkVBXzA6MSxBUkVBXzE6MixBUkVBXzI6MyxBUkVBXzM6NH07ZnVuY3Rpb24gTGgoKXt0aGlzLngwPXRoaXMueDB8fDAsdGhpcy55MD10aGlzLnkwfHwwLHRoaXMubGF0MD10aGlzLmxhdDB8fDAsdGhpcy5sb25nMD10aGlzLmxvbmcwfHwwLHRoaXMubGF0X3RzPXRoaXMubGF0X3RzfHwwLHRoaXMudGl0bGU9dGhpcy50aXRsZXx8IlF1YWRyaWxhdGVyYWxpemVkIFNwaGVyaWNhbCBDdWJlIix0aGlzLmxhdDA+PWctRC8yP3RoaXMuZmFjZT1MLlRPUDp0aGlzLmxhdDA8PS0oZy1ELzIpP3RoaXMuZmFjZT1MLkJPVFRPTTpNYXRoLmFicyh0aGlzLmxvbmcwKTw9RD90aGlzLmZhY2U9TC5GUk9OVDpNYXRoLmFicyh0aGlzLmxvbmcwKTw9ZytEP3RoaXMuZmFjZT10aGlzLmxvbmcwPjA/TC5SSUdIVDpMLkxFRlQ6dGhpcy5mYWNlPUwuQkFDSyx0aGlzLmVzIT09MCYmKHRoaXMub25lX21pbnVzX2Y9MS0odGhpcy5hLXRoaXMuYikvdGhpcy5hLHRoaXMub25lX21pbnVzX2Zfc3F1YXJlZD10aGlzLm9uZV9taW51c19mKnRoaXMub25lX21pbnVzX2YpfWZ1bmN0aW9uIHFoKHQpe3ZhciBlPXt4OjAseTowfSxzLGksYSxuLGgscixvPXt2YWx1ZTowfTtpZih0LngtPXRoaXMubG9uZzAsdGhpcy5lcyE9PTA/cz1NYXRoLmF0YW4odGhpcy5vbmVfbWludXNfZl9zcXVhcmVkKk1hdGgudGFuKHQueSkpOnM9dC55LGk9dC54LHRoaXMuZmFjZT09PUwuVE9QKW49Zy1zLGk+PUQmJmk8PWcrRD8oby52YWx1ZT1rLkFSRUFfMCxhPWktZyk6aT5nK0R8fGk8PS0oZytEKT8oby52YWx1ZT1rLkFSRUFfMSxhPWk+MD9pLXE6aStxKTppPi0oZytEKSYmaTw9LUQ/KG8udmFsdWU9ay5BUkVBXzIsYT1pK2cpOihvLnZhbHVlPWsuQVJFQV8zLGE9aSk7ZWxzZSBpZih0aGlzLmZhY2U9PT1MLkJPVFRPTSluPWcrcyxpPj1EJiZpPD1nK0Q/KG8udmFsdWU9ay5BUkVBXzAsYT0taStnKTppPEQmJmk+PS1EPyhvLnZhbHVlPWsuQVJFQV8xLGE9LWkpOmk8LUQmJmk+PS0oZytEKT8oby52YWx1ZT1rLkFSRUFfMixhPS1pLWcpOihvLnZhbHVlPWsuQVJFQV8zLGE9aT4wPy1pK3E6LWktcSk7ZWxzZXt2YXIgdSxsLGMsZixwLG0sZDt0aGlzLmZhY2U9PT1MLlJJR0hUP2k9SXQoaSwrZyk6dGhpcy5mYWNlPT09TC5CQUNLP2k9SXQoaSwrcSk6dGhpcy5mYWNlPT09TC5MRUZUJiYoaT1JdChpLC1nKSksZj1NYXRoLnNpbihzKSxwPU1hdGguY29zKHMpLG09TWF0aC5zaW4oaSksZD1NYXRoLmNvcyhpKSx1PXAqZCxsPXAqbSxjPWYsdGhpcy5mYWNlPT09TC5GUk9OVD8obj1NYXRoLmFjb3ModSksYT12ZShuLGMsbCxvKSk6dGhpcy5mYWNlPT09TC5SSUdIVD8obj1NYXRoLmFjb3MobCksYT12ZShuLGMsLXUsbykpOnRoaXMuZmFjZT09PUwuQkFDSz8obj1NYXRoLmFjb3MoLXUpLGE9dmUobixjLC1sLG8pKTp0aGlzLmZhY2U9PT1MLkxFRlQ/KG49TWF0aC5hY29zKC1sKSxhPXZlKG4sYyx1LG8pKToobj1hPTAsby52YWx1ZT1rLkFSRUFfMCl9cmV0dXJuIHI9TWF0aC5hdGFuKDEyL3EqKGErTWF0aC5hY29zKE1hdGguc2luKGEpKk1hdGguY29zKEQpKS1nKSksaD1NYXRoLnNxcnQoKDEtTWF0aC5jb3MobikpLyhNYXRoLmNvcyhyKSpNYXRoLmNvcyhyKSkvKDEtTWF0aC5jb3MoTWF0aC5hdGFuKDEvTWF0aC5jb3MoYSkpKSkpLG8udmFsdWU9PT1rLkFSRUFfMT9yKz1nOm8udmFsdWU9PT1rLkFSRUFfMj9yKz1xOm8udmFsdWU9PT1rLkFSRUFfMyYmKHIrPTEuNSpxKSxlLng9aCpNYXRoLmNvcyhyKSxlLnk9aCpNYXRoLnNpbihyKSxlLng9ZS54KnRoaXMuYSt0aGlzLngwLGUueT1lLnkqdGhpcy5hK3RoaXMueTAsdC54PWUueCx0Lnk9ZS55LHR9ZnVuY3Rpb24gQmgodCl7dmFyIGU9e2xhbTowLHBoaTowfSxzLGksYSxuLGgscixvLHUsbCxjPXt2YWx1ZTowfTtpZih0Lng9KHQueC10aGlzLngwKS90aGlzLmEsdC55PSh0LnktdGhpcy55MCkvdGhpcy5hLGk9TWF0aC5hdGFuKE1hdGguc3FydCh0LngqdC54K3QueSp0LnkpKSxzPU1hdGguYXRhbjIodC55LHQueCksdC54Pj0wJiZ0Lng+PU1hdGguYWJzKHQueSk/Yy52YWx1ZT1rLkFSRUFfMDp0Lnk+PTAmJnQueT49TWF0aC5hYnModC54KT8oYy52YWx1ZT1rLkFSRUFfMSxzLT1nKTp0Lng8MCYmLXQueD49TWF0aC5hYnModC55KT8oYy52YWx1ZT1rLkFSRUFfMixzPXM8MD9zK3E6cy1xKTooYy52YWx1ZT1rLkFSRUFfMyxzKz1nKSxsPXEvMTIqTWF0aC50YW4ocyksaD1NYXRoLnNpbihsKS8oTWF0aC5jb3MobCktMS9NYXRoLnNxcnQoMikpLHI9TWF0aC5hdGFuKGgpLGE9TWF0aC5jb3Mocyksbj1NYXRoLnRhbihpKSxvPTEtYSphKm4qbiooMS1NYXRoLmNvcyhNYXRoLmF0YW4oMS9NYXRoLmNvcyhyKSkpKSxvPC0xP289LTE6bz4xJiYobz0xKSx0aGlzLmZhY2U9PT1MLlRPUCl1PU1hdGguYWNvcyhvKSxlLnBoaT1nLXUsYy52YWx1ZT09PWsuQVJFQV8wP2UubGFtPXIrZzpjLnZhbHVlPT09ay5BUkVBXzE/ZS5sYW09cjwwP3IrcTpyLXE6Yy52YWx1ZT09PWsuQVJFQV8yP2UubGFtPXItZzplLmxhbT1yO2Vsc2UgaWYodGhpcy5mYWNlPT09TC5CT1RUT00pdT1NYXRoLmFjb3MobyksZS5waGk9dS1nLGMudmFsdWU9PT1rLkFSRUFfMD9lLmxhbT0tcitnOmMudmFsdWU9PT1rLkFSRUFfMT9lLmxhbT0tcjpjLnZhbHVlPT09ay5BUkVBXzI/ZS5sYW09LXItZzplLmxhbT1yPDA/LXItcTotcitxO2Vsc2V7dmFyIGYscCxtO2Y9byxsPWYqZixsPj0xP209MDptPU1hdGguc3FydCgxLWwpKk1hdGguc2luKHIpLGwrPW0qbSxsPj0xP3A9MDpwPU1hdGguc3FydCgxLWwpLGMudmFsdWU9PT1rLkFSRUFfMT8obD1wLHA9LW0sbT1sKTpjLnZhbHVlPT09ay5BUkVBXzI/KHA9LXAsbT0tbSk6Yy52YWx1ZT09PWsuQVJFQV8zJiYobD1wLHA9bSxtPS1sKSx0aGlzLmZhY2U9PT1MLlJJR0hUPyhsPWYsZj0tcCxwPWwpOnRoaXMuZmFjZT09PUwuQkFDSz8oZj0tZixwPS1wKTp0aGlzLmZhY2U9PT1MLkxFRlQmJihsPWYsZj1wLHA9LWwpLGUucGhpPU1hdGguYWNvcygtbSktZyxlLmxhbT1NYXRoLmF0YW4yKHAsZiksdGhpcy5mYWNlPT09TC5SSUdIVD9lLmxhbT1JdChlLmxhbSwtZyk6dGhpcy5mYWNlPT09TC5CQUNLP2UubGFtPUl0KGUubGFtLC1xKTp0aGlzLmZhY2U9PT1MLkxFRlQmJihlLmxhbT1JdChlLmxhbSwrZykpfWlmKHRoaXMuZXMhPT0wKXt2YXIgZCxNLHg7ZD1lLnBoaTwwPzE6MCxNPU1hdGgudGFuKGUucGhpKSx4PXRoaXMuYi9NYXRoLnNxcnQoTSpNK3RoaXMub25lX21pbnVzX2Zfc3F1YXJlZCksZS5waGk9TWF0aC5hdGFuKE1hdGguc3FydCh0aGlzLmEqdGhpcy5hLXgqeCkvKHRoaXMub25lX21pbnVzX2YqeCkpLGQmJihlLnBoaT0tZS5waGkpfXJldHVybiBlLmxhbSs9dGhpcy5sb25nMCx0Lng9ZS5sYW0sdC55PWUucGhpLHR9ZnVuY3Rpb24gdmUodCxlLHMsaSl7dmFyIGE7cmV0dXJuIHQ8eT8oaS52YWx1ZT1rLkFSRUFfMCxhPTApOihhPU1hdGguYXRhbjIoZSxzKSxNYXRoLmFicyhhKTw9RD9pLnZhbHVlPWsuQVJFQV8wOmE+RCYmYTw9ZytEPyhpLnZhbHVlPWsuQVJFQV8xLGEtPWcpOmE+ZytEfHxhPD0tKGcrRCk/KGkudmFsdWU9ay5BUkVBXzIsYT1hPj0wP2EtcTphK3EpOihpLnZhbHVlPWsuQVJFQV8zLGErPWcpKSxhfWZ1bmN0aW9uIEl0KHQsZSl7dmFyIHM9dCtlO3JldHVybiBzPC1xP3MrPUd0OnM+K3EmJihzLT1HdCksc312YXIgRmg9WyJRdWFkcmlsYXRlcmFsaXplZCBTcGhlcmljYWwgQ3ViZSIsIlF1YWRyaWxhdGVyYWxpemVkX1NwaGVyaWNhbF9DdWJlIiwicXNjIl0samg9e2luaXQ6TGgsZm9yd2FyZDpxaCxpbnZlcnNlOkJoLG5hbWVzOkZofSxHZT1bWzEsMjIxOTllLTIxLC03MTU1MTVlLTEwLDMxMTAzZS0xMF0sWy45OTg2LC00ODIyNDNlLTksLTI0ODk3ZS05LC0xMzMwOWUtMTBdLFsuOTk1NCwtODMxMDNlLTgsLTQ0ODYwNWUtMTAsLTk4NjcwMWUtMTJdLFsuOTksLS4wMDEzNTM2NCwtNTk2NjFlLTksMzY3NzdlLTEwXSxbLjk4MjIsLS4wMDE2NzQ0MiwtNDQ5NTQ3ZS0xMSwtNTcyNDExZS0xMV0sWy45NzMsLS4wMDIxNDg2OCwtOTAzNTcxZS0xMCwxODczNmUtMTJdLFsuOTYsLS4wMDMwNTA4NSwtOTAwNzYxZS0xMCwxNjQ5MTdlLTExXSxbLjk0MjcsLS4wMDM4Mjc5MiwtNjUzMzg2ZS0xMCwtMjYxNTRlLTEwXSxbLjkyMTYsLS4wMDQ2Nzc0NiwtMTA0NTdlLTgsNDgxMjQzZS0xMV0sWy44OTYyLC0uMDA1MzYyMjMsLTMyMzgzMWUtMTAsLTU0MzQzMmUtMTFdLFsuODY3OSwtLjAwNjA5MzYzLC0xMTM4OThlLTksMzMyNDg0ZS0xMV0sWy44MzUsLS4wMDY5ODMyNSwtNjQwMjUzZS0xMCw5MzQ5NTllLTEyXSxbLjc5ODYsLS4wMDc1NTMzOCwtNTAwMDA5ZS0xMCw5MzUzMjRlLTEyXSxbLjc1OTcsLS4wMDc5ODMyNCwtMzU5NzFlLTksLTIyNzYyNmUtMTFdLFsuNzE4NiwtLjAwODUxMzY3LC03MDExNDllLTEwLC04NjMwM2UtMTBdLFsuNjczMiwtLjAwOTg2MjA5LC0xOTk1NjllLTksMTkxOTc0ZS0xMF0sWy42MjEzLC0uMDEwNDE4LDg4MzkyM2UtMTAsNjI0MDUxZS0xMV0sWy41NzIyLC0uMDA5MDY2MDEsMTgyZS02LDYyNDA1MWUtMTFdLFsuNTMyMiwtLjAwNjc3Nzk3LDI3NTYwOGUtOSw2MjQwNTFlLTExXV0sJHQ9W1stNTIwNDE3ZS0yMywuMDEyNCwxMjE0MzFlLTIzLC04NDUyODRlLTE2XSxbLjA2MiwuMDEyNCwtMTI2NzkzZS0xNCw0MjI2NDJlLTE1XSxbLjEyNCwuMDEyNCw1MDcxNzFlLTE0LC0xNjA2MDRlLTE0XSxbLjE4NiwuMDEyMzk5OSwtMTkwMTg5ZS0xMyw2MDAxNTJlLTE0XSxbLjI0OCwuMDEyNDAwMiw3MTAwMzllLTEzLC0yMjRlLTEwXSxbLjMxLC4wMTIzOTkyLC0yNjQ5OTdlLTEyLDgzNTk4NmUtMTNdLFsuMzcyLC4wMTI0MDI5LDk4ODk4M2UtMTIsLTMxMTk5NGUtMTJdLFsuNDM0LC4wMTIzODkzLC0zNjkwOTNlLTExLC00MzU2MjFlLTEyXSxbLjQ5NTgsLjAxMjMxOTgsLTEwMjI1MmUtMTAsLTM0NTUyM2UtMTJdLFsuNTU3MSwuMDEyMTkxNiwtMTU0MDgxZS0xMCwtNTgyMjg4ZS0xMl0sWy42MTc2LC4wMTE5OTM4LC0yNDE0MjRlLTEwLC01MjUzMjdlLTEyXSxbLjY3NjksLjAxMTcxMywtMzIwMjIzZS0xMCwtNTE2NDA1ZS0xMl0sWy43MzQ2LC4wMTEzNTQxLC0zOTc2ODRlLTEwLC02MDkwNTJlLTEyXSxbLjc5MDMsLjAxMDkxMDcsLTQ4OTA0MmUtMTAsLTEwNDczOWUtMTFdLFsuODQzNSwuMDEwMzQzMSwtNjQ2MTVlLTksLTE0MDM3NGUtMTRdLFsuODkzNiwuMDA5Njk2ODYsLTY0NjM2ZS05LC04NTQ3ZS05XSxbLjkzOTQsLjAwODQwOTQ3LC0xOTI4NDFlLTksLTQyMTA2ZS0xMF0sWy45NzYxLC4wMDYxNjUyNywtMjU2ZS02LC00MjEwNmUtMTBdLFsxLC4wMDMyODk0NywtMzE5MTU5ZS05LC00MjEwNmUtMTBdXSxGcz0uODQ4Nyxqcz0xLjM1MjMsR3M9c3QvNSxHaD0xL0dzLFR0PTE4LGJlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMF0rZSoodFsxXStlKih0WzJdK2UqdFszXSkpfSx6aD1mdW5jdGlvbih0LGUpe3JldHVybiB0WzFdK2UqKDIqdFsyXStlKjMqdFszXSl9O2Z1bmN0aW9uIFVoKHQsZSxzLGkpe2Zvcih2YXIgYT1lO2k7LS1pKXt2YXIgbj10KGEpO2lmKGEtPW4sTWF0aC5hYnMobik8cylicmVha31yZXR1cm4gYX1mdW5jdGlvbiBIaCgpe3RoaXMueDA9dGhpcy54MHx8MCx0aGlzLnkwPXRoaXMueTB8fDAsdGhpcy5sb25nMD10aGlzLmxvbmcwfHwwLHRoaXMuZXM9MCx0aGlzLnRpdGxlPXRoaXMudGl0bGV8fCJSb2JpbnNvbiJ9ZnVuY3Rpb24gUWgodCl7dmFyIGU9Xyh0LngtdGhpcy5sb25nMCkscz1NYXRoLmFicyh0LnkpLGk9TWF0aC5mbG9vcihzKkdzKTtpPDA/aT0wOmk+PVR0JiYoaT1UdC0xKSxzPXN0KihzLUdoKmkpO3ZhciBhPXt4OmJlKEdlW2ldLHMpKmUseTpiZSgkdFtpXSxzKX07cmV0dXJuIHQueTwwJiYoYS55PS1hLnkpLGEueD1hLngqdGhpcy5hKkZzK3RoaXMueDAsYS55PWEueSp0aGlzLmEqanMrdGhpcy55MCxhfWZ1bmN0aW9uIFhoKHQpe3ZhciBlPXt4Oih0LngtdGhpcy54MCkvKHRoaXMuYSpGcykseTpNYXRoLmFicyh0LnktdGhpcy55MCkvKHRoaXMuYSpqcyl9O2lmKGUueT49MSllLngvPUdlW1R0XVswXSxlLnk9dC55PDA/LWc6ZztlbHNle3ZhciBzPU1hdGguZmxvb3IoZS55KlR0KTtmb3IoczwwP3M9MDpzPj1UdCYmKHM9VHQtMSk7OylpZigkdFtzXVswXT5lLnkpLS1zO2Vsc2UgaWYoJHRbcysxXVswXTw9ZS55KSsrcztlbHNlIGJyZWFrO3ZhciBpPSR0W3NdLGE9NSooZS55LWlbMF0pLygkdFtzKzFdWzBdLWlbMF0pO2E9VWgoZnVuY3Rpb24obil7cmV0dXJuKGJlKGksbiktZS55KS96aChpLG4pfSxhLHksMTAwKSxlLngvPWJlKEdlW3NdLGEpLGUueT0oNSpzK2EpKmosdC55PDAmJihlLnk9LWUueSl9cmV0dXJuIGUueD1fKGUueCt0aGlzLmxvbmcwKSxlfXZhciBXaD1bIlJvYmluc29uIiwicm9iaW4iXSxWaD17aW5pdDpIaCxmb3J3YXJkOlFoLGludmVyc2U6WGgsbmFtZXM6V2h9O2Z1bmN0aW9uIEpoKCl7dGhpcy5uYW1lPSJnZW9jZW50In1mdW5jdGlvbiBLaCh0KXt2YXIgZT1tcyh0LHRoaXMuZXMsdGhpcy5hKTtyZXR1cm4gZX1mdW5jdGlvbiAkaCh0KXt2YXIgZT1kcyh0LHRoaXMuZXMsdGhpcy5hLHRoaXMuYik7cmV0dXJuIGV9dmFyIFpoPVsiR2VvY2VudHJpYyIsImdlb2NlbnRyaWMiLCJnZW9jZW50IiwiR2VvY2VudCJdLFloPXtpbml0OkpoLGZvcndhcmQ6S2gsaW52ZXJzZTokaCxuYW1lczpaaH0sRz17Tl9QT0xFOjAsU19QT0xFOjEsRVFVSVQ6MixPQkxJUTozfSxadD17aDp7ZGVmOjFlNSxudW06ITB9LGF6aTp7ZGVmOjAsbnVtOiEwLGRlZ3JlZXM6ITB9LHRpbHQ6e2RlZjowLG51bTohMCxkZWdyZWVzOiEwfSxsb25nMDp7ZGVmOjAsbnVtOiEwfSxsYXQwOntkZWY6MCxudW06ITB9fTtmdW5jdGlvbiB0bygpe2lmKE9iamVjdC5rZXlzKFp0KS5mb3JFYWNoKGZ1bmN0aW9uKHMpe2lmKHR5cGVvZiB0aGlzW3NdPiJ1Iil0aGlzW3NdPVp0W3NdLmRlZjtlbHNle2lmKFp0W3NdLm51bSYmaXNOYU4odGhpc1tzXSkpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHBhcmFtZXRlciB2YWx1ZSwgbXVzdCBiZSBudW1lcmljICIrcysiID0gIit0aGlzW3NdKTtadFtzXS5udW0mJih0aGlzW3NdPXBhcnNlRmxvYXQodGhpc1tzXSkpfVp0W3NdLmRlZ3JlZXMmJih0aGlzW3NdPXRoaXNbc10qail9LmJpbmQodGhpcykpLE1hdGguYWJzKE1hdGguYWJzKHRoaXMubGF0MCktZyk8eT90aGlzLm1vZGU9dGhpcy5sYXQwPDA/Ry5TX1BPTEU6Ry5OX1BPTEU6TWF0aC5hYnModGhpcy5sYXQwKTx5P3RoaXMubW9kZT1HLkVRVUlUOih0aGlzLm1vZGU9Ry5PQkxJUSx0aGlzLnNpbnBoMD1NYXRoLnNpbih0aGlzLmxhdDApLHRoaXMuY29zcGgwPU1hdGguY29zKHRoaXMubGF0MCkpLHRoaXMucG4xPXRoaXMuaC90aGlzLmEsdGhpcy5wbjE8PTB8fHRoaXMucG4xPjFlMTApdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGhlaWdodCIpO3RoaXMucD0xK3RoaXMucG4xLHRoaXMucnA9MS90aGlzLnAsdGhpcy5oMT0xL3RoaXMucG4xLHRoaXMucGZhY3Q9KHRoaXMucCsxKSp0aGlzLmgxLHRoaXMuZXM9MDt2YXIgdD10aGlzLnRpbHQsZT10aGlzLmF6aTt0aGlzLmNnPU1hdGguY29zKGUpLHRoaXMuc2c9TWF0aC5zaW4oZSksdGhpcy5jdz1NYXRoLmNvcyh0KSx0aGlzLnN3PU1hdGguc2luKHQpfWZ1bmN0aW9uIGVvKHQpe3QueC09dGhpcy5sb25nMDt2YXIgZT1NYXRoLnNpbih0LnkpLHM9TWF0aC5jb3ModC55KSxpPU1hdGguY29zKHQueCksYSxuO3N3aXRjaCh0aGlzLm1vZGUpe2Nhc2UgRy5PQkxJUTpuPXRoaXMuc2lucGgwKmUrdGhpcy5jb3NwaDAqcyppO2JyZWFrO2Nhc2UgRy5FUVVJVDpuPXMqaTticmVhaztjYXNlIEcuU19QT0xFOm49LWU7YnJlYWs7Y2FzZSBHLk5fUE9MRTpuPWU7YnJlYWt9c3dpdGNoKG49dGhpcy5wbjEvKHRoaXMucC1uKSxhPW4qcypNYXRoLnNpbih0LngpLHRoaXMubW9kZSl7Y2FzZSBHLk9CTElROm4qPXRoaXMuY29zcGgwKmUtdGhpcy5zaW5waDAqcyppO2JyZWFrO2Nhc2UgRy5FUVVJVDpuKj1lO2JyZWFrO2Nhc2UgRy5OX1BPTEU6bio9LShzKmkpO2JyZWFrO2Nhc2UgRy5TX1BPTEU6bio9cyppO2JyZWFrfXZhciBoLHI7cmV0dXJuIGg9bip0aGlzLmNnK2EqdGhpcy5zZyxyPTEvKGgqdGhpcy5zdyp0aGlzLmgxK3RoaXMuY3cpLGE9KGEqdGhpcy5jZy1uKnRoaXMuc2cpKnRoaXMuY3cqcixuPWgqcix0Lng9YSp0aGlzLmEsdC55PW4qdGhpcy5hLHR9ZnVuY3Rpb24gc28odCl7dC54Lz10aGlzLmEsdC55Lz10aGlzLmE7dmFyIGU9e3g6dC54LHk6dC55fSxzLGksYTthPTEvKHRoaXMucG4xLXQueSp0aGlzLnN3KSxzPXRoaXMucG4xKnQueCphLGk9dGhpcy5wbjEqdC55KnRoaXMuY3cqYSx0Lng9cyp0aGlzLmNnK2kqdGhpcy5zZyx0Lnk9aSp0aGlzLmNnLXMqdGhpcy5zZzt2YXIgbj1ZKHQueCx0LnkpO2lmKE1hdGguYWJzKG4pPHkpZS54PTAsZS55PXQueTtlbHNle3ZhciBoLHI7c3dpdGNoKHI9MS1uKm4qdGhpcy5wZmFjdCxyPSh0aGlzLnAtTWF0aC5zcXJ0KHIpKS8odGhpcy5wbjEvbituL3RoaXMucG4xKSxoPU1hdGguc3FydCgxLXIqciksdGhpcy5tb2RlKXtjYXNlIEcuT0JMSVE6ZS55PU1hdGguYXNpbihoKnRoaXMuc2lucGgwK3QueSpyKnRoaXMuY29zcGgwL24pLHQueT0oaC10aGlzLnNpbnBoMCpNYXRoLnNpbihlLnkpKSpuLHQueCo9cip0aGlzLmNvc3BoMDticmVhaztjYXNlIEcuRVFVSVQ6ZS55PU1hdGguYXNpbih0Lnkqci9uKSx0Lnk9aCpuLHQueCo9cjticmVhaztjYXNlIEcuTl9QT0xFOmUueT1NYXRoLmFzaW4oaCksdC55PS10Lnk7YnJlYWs7Y2FzZSBHLlNfUE9MRTplLnk9LU1hdGguYXNpbihoKTticmVha31lLng9TWF0aC5hdGFuMih0LngsdC55KX1yZXR1cm4gdC54PWUueCt0aGlzLmxvbmcwLHQueT1lLnksdH12YXIgaW89WyJUaWx0ZWRfUGVyc3BlY3RpdmUiLCJ0cGVycyJdLGFvPXtpbml0OnRvLGZvcndhcmQ6ZW8saW52ZXJzZTpzbyxuYW1lczppb307ZnVuY3Rpb24gbm8oKXtpZih0aGlzLmZsaXBfYXhpcz10aGlzLnN3ZWVwPT09IngiPzE6MCx0aGlzLmg9TnVtYmVyKHRoaXMuaCksdGhpcy5yYWRpdXNfZ18xPXRoaXMuaC90aGlzLmEsdGhpcy5yYWRpdXNfZ18xPD0wfHx0aGlzLnJhZGl1c19nXzE+MWUxMCl0aHJvdyBuZXcgRXJyb3I7aWYodGhpcy5yYWRpdXNfZz0xK3RoaXMucmFkaXVzX2dfMSx0aGlzLkM9dGhpcy5yYWRpdXNfZyp0aGlzLnJhZGl1c19nLTEsdGhpcy5lcyE9PTApe3ZhciB0PTEtdGhpcy5lcyxlPTEvdDt0aGlzLnJhZGl1c19wPU1hdGguc3FydCh0KSx0aGlzLnJhZGl1c19wMj10LHRoaXMucmFkaXVzX3BfaW52Mj1lLHRoaXMuc2hhcGU9ImVsbGlwc2UifWVsc2UgdGhpcy5yYWRpdXNfcD0xLHRoaXMucmFkaXVzX3AyPTEsdGhpcy5yYWRpdXNfcF9pbnYyPTEsdGhpcy5zaGFwZT0ic3BoZXJlIjt0aGlzLnRpdGxlfHwodGhpcy50aXRsZT0iR2Vvc3RhdGlvbmFyeSBTYXRlbGxpdGUgVmlldyIpfWZ1bmN0aW9uIHJvKHQpe3ZhciBlPXQueCxzPXQueSxpLGEsbixoO2lmKGU9ZS10aGlzLmxvbmcwLHRoaXMuc2hhcGU9PT0iZWxsaXBzZSIpe3M9TWF0aC5hdGFuKHRoaXMucmFkaXVzX3AyKk1hdGgudGFuKHMpKTt2YXIgcj10aGlzLnJhZGl1c19wL1kodGhpcy5yYWRpdXNfcCpNYXRoLmNvcyhzKSxNYXRoLnNpbihzKSk7aWYoYT1yKk1hdGguY29zKGUpKk1hdGguY29zKHMpLG49cipNYXRoLnNpbihlKSpNYXRoLmNvcyhzKSxoPXIqTWF0aC5zaW4ocyksKHRoaXMucmFkaXVzX2ctYSkqYS1uKm4taCpoKnRoaXMucmFkaXVzX3BfaW52MjwwKXJldHVybiB0Lng9TnVtYmVyLk5hTix0Lnk9TnVtYmVyLk5hTix0O2k9dGhpcy5yYWRpdXNfZy1hLHRoaXMuZmxpcF9heGlzPyh0Lng9dGhpcy5yYWRpdXNfZ18xKk1hdGguYXRhbihuL1koaCxpKSksdC55PXRoaXMucmFkaXVzX2dfMSpNYXRoLmF0YW4oaC9pKSk6KHQueD10aGlzLnJhZGl1c19nXzEqTWF0aC5hdGFuKG4vaSksdC55PXRoaXMucmFkaXVzX2dfMSpNYXRoLmF0YW4oaC9ZKG4saSkpKX1lbHNlIHRoaXMuc2hhcGU9PT0ic3BoZXJlIiYmKGk9TWF0aC5jb3MocyksYT1NYXRoLmNvcyhlKSppLG49TWF0aC5zaW4oZSkqaSxoPU1hdGguc2luKHMpLGk9dGhpcy5yYWRpdXNfZy1hLHRoaXMuZmxpcF9heGlzPyh0Lng9dGhpcy5yYWRpdXNfZ18xKk1hdGguYXRhbihuL1koaCxpKSksdC55PXRoaXMucmFkaXVzX2dfMSpNYXRoLmF0YW4oaC9pKSk6KHQueD10aGlzLnJhZGl1c19nXzEqTWF0aC5hdGFuKG4vaSksdC55PXRoaXMucmFkaXVzX2dfMSpNYXRoLmF0YW4oaC9ZKG4saSkpKSk7cmV0dXJuIHQueD10LngqdGhpcy5hLHQueT10LnkqdGhpcy5hLHR9ZnVuY3Rpb24gaG8odCl7dmFyIGU9LTEscz0wLGk9MCxhLG4saCxyO2lmKHQueD10LngvdGhpcy5hLHQueT10LnkvdGhpcy5hLHRoaXMuc2hhcGU9PT0iZWxsaXBzZSIpe3RoaXMuZmxpcF9heGlzPyhpPU1hdGgudGFuKHQueS90aGlzLnJhZGl1c19nXzEpLHM9TWF0aC50YW4odC54L3RoaXMucmFkaXVzX2dfMSkqWSgxLGkpKToocz1NYXRoLnRhbih0LngvdGhpcy5yYWRpdXNfZ18xKSxpPU1hdGgudGFuKHQueS90aGlzLnJhZGl1c19nXzEpKlkoMSxzKSk7dmFyIG89aS90aGlzLnJhZGl1c19wO2lmKGE9cypzK28qbytlKmUsbj0yKnRoaXMucmFkaXVzX2cqZSxoPW4qbi00KmEqdGhpcy5DLGg8MClyZXR1cm4gdC54PU51bWJlci5OYU4sdC55PU51bWJlci5OYU4sdDtyPSgtbi1NYXRoLnNxcnQoaCkpLygyKmEpLGU9dGhpcy5yYWRpdXNfZytyKmUscyo9cixpKj1yLHQueD1NYXRoLmF0YW4yKHMsZSksdC55PU1hdGguYXRhbihpKk1hdGguY29zKHQueCkvZSksdC55PU1hdGguYXRhbih0aGlzLnJhZGl1c19wX2ludjIqTWF0aC50YW4odC55KSl9ZWxzZSBpZih0aGlzLnNoYXBlPT09InNwaGVyZSIpe2lmKHRoaXMuZmxpcF9heGlzPyhpPU1hdGgudGFuKHQueS90aGlzLnJhZGl1c19nXzEpLHM9TWF0aC50YW4odC54L3RoaXMucmFkaXVzX2dfMSkqTWF0aC5zcXJ0KDEraSppKSk6KHM9TWF0aC50YW4odC54L3RoaXMucmFkaXVzX2dfMSksaT1NYXRoLnRhbih0LnkvdGhpcy5yYWRpdXNfZ18xKSpNYXRoLnNxcnQoMStzKnMpKSxhPXMqcytpKmkrZSplLG49Mip0aGlzLnJhZGl1c19nKmUsaD1uKm4tNCphKnRoaXMuQyxoPDApcmV0dXJuIHQueD1OdW1iZXIuTmFOLHQueT1OdW1iZXIuTmFOLHQ7cj0oLW4tTWF0aC5zcXJ0KGgpKS8oMiphKSxlPXRoaXMucmFkaXVzX2crciplLHMqPXIsaSo9cix0Lng9TWF0aC5hdGFuMihzLGUpLHQueT1NYXRoLmF0YW4oaSpNYXRoLmNvcyh0LngpL2UpfXJldHVybiB0Lng9dC54K3RoaXMubG9uZzAsdH12YXIgb289WyJHZW9zdGF0aW9uYXJ5IFNhdGVsbGl0ZSBWaWV3IiwiR2Vvc3RhdGlvbmFyeV9TYXRlbGxpdGUiLCJnZW9zIl0sdW89e2luaXQ6bm8sZm9yd2FyZDpybyxpbnZlcnNlOmhvLG5hbWVzOm9vfTtmdW5jdGlvbiBsbyh0KXt0LlByb2oucHJvamVjdGlvbnMuYWRkKHllKSx0LlByb2oucHJvamVjdGlvbnMuYWRkKHhlKSx0LlByb2oucHJvamVjdGlvbnMuYWRkKE1uKSx0LlByb2oucHJvamVjdGlvbnMuYWRkKEFuKSx0LlByb2oucHJvamVjdGlvbnMuYWRkKFBuKSx0LlByb2oucHJvamVjdGlvbnMuYWRkKHFuKSx0LlByb2oucHJvamVjdGlvbnMuYWRkKFVuKSx0LlByb2oucHJvamVjdGlvbnMuYWRkKFZuKSx0LlByb2oucHJvamVjdGlvbnMuYWRkKFluKSx0LlByb2oucHJvamVjdGlvbnMuYWRkKGFyKSx0LlByb2oucHJvamVjdGlvbnMuYWRkKHZyKSx0LlByb2oucHJvamVjdGlvbnMuYWRkKENyKSx0LlByb2oucHJvamVjdGlvbnMuYWRkKFByKSx0LlByb2oucHJvamVjdGlvbnMuYWRkKEJyKSx0LlByb2oucHJvamVjdGlvbnMuYWRkKFVyKSx0LlByb2oucHJvamVjdGlvbnMuYWRkKFZyKSx0LlByb2oucHJvamVjdGlvbnMuYWRkKFlyKSx0LlByb2oucHJvamVjdGlvbnMuYWRkKGFoKSx0LlByb2oucHJvamVjdGlvbnMuYWRkKGxoKSx0LlByb2oucHJvamVjdGlvbnMuYWRkKGRoKSx0LlByb2oucHJvamVjdGlvbnMuYWRkKF9oKSx0LlByb2oucHJvamVjdGlvbnMuYWRkKHdoKSx0LlByb2oucHJvamVjdGlvbnMuYWRkKFRoKSx0LlByb2oucHJvamVjdGlvbnMuYWRkKFJoKSx0LlByb2oucHJvamVjdGlvbnMuYWRkKGpoKSx0LlByb2oucHJvamVjdGlvbnMuYWRkKFZoKSx0LlByb2oucHJvamVjdGlvbnMuYWRkKFloKSx0LlByb2oucHJvamVjdGlvbnMuYWRkKGFvKSx0LlByb2oucHJvamVjdGlvbnMuYWRkKHVvKX1LLmRlZmF1bHREYXR1bT0iV0dTODQiLEsuUHJvaj1hdCxLLldHUzg0PW5ldyBLLlByb2ooIldHUzg0IiksSy5Qb2ludD13dCxLLnRvUG9pbnQ9eHMsSy5kZWZzPUgsSy5uYWRncmlkPWdhLEsudHJhbnNmb3JtPU1lLEsubWdycz1EYSxLLnZlcnNpb249Il9fVkVSU0lPTl9fIixsbyhLKTt2YXIgcHQ9e30sbXQ9e307ZnVuY3Rpb24gemUodCxlKXtyZXR1cm4gZT09PXZvaWQgMCYmKGU9T2JqZWN0KSxlJiZ0eXBlb2YgZS5mcmVlemU9PSJmdW5jdGlvbiI/ZS5mcmVlemUodCk6dH1mdW5jdGlvbiBjbyh0LGUpe2lmKHQ9PT1udWxsfHx0eXBlb2YgdCE9Im9iamVjdCIpdGhyb3cgbmV3IFR5cGVFcnJvcigidGFyZ2V0IGlzIG5vdCBhbiBvYmplY3QiKTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmKHRbc109ZVtzXSk7cmV0dXJuIHR9dmFyIHpzPXplKHtIVE1MOiJ0ZXh0L2h0bWwiLGlzSFRNTDpmdW5jdGlvbih0KXtyZXR1cm4gdD09PXpzLkhUTUx9LFhNTF9BUFBMSUNBVElPTjoiYXBwbGljYXRpb24veG1sIixYTUxfVEVYVDoidGV4dC94bWwiLFhNTF9YSFRNTF9BUFBMSUNBVElPTjoiYXBwbGljYXRpb24veGh0bWwreG1sIixYTUxfU1ZHX0lNQUdFOiJpbWFnZS9zdmcreG1sIn0pLFVzPXplKHtIVE1MOiJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIixpc0hUTUw6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1Vcy5IVE1MfSxTVkc6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIixYTUw6Imh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZSIsWE1MTlM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAveG1sbnMvIn0pO210LmFzc2lnbj1jbyxtdC5mcmVlemU9emUsbXQuTUlNRV9UWVBFPXpzLG10Lk5BTUVTUEFDRT1Vczt2YXIgZm89bXQsWXQ9Zm8uTkFNRVNQQUNFO2Z1bmN0aW9uIHBvKHQpe3JldHVybiB0IT09IiJ9ZnVuY3Rpb24gbW8odCl7cmV0dXJuIHQ/dC5zcGxpdCgvW1x0XG5cZlxyIF0rLykuZmlsdGVyKHBvKTpbXX1mdW5jdGlvbiBNbyh0LGUpe3JldHVybiB0Lmhhc093blByb3BlcnR5KGUpfHwodFtlXT0hMCksdH1mdW5jdGlvbiBIcyh0KXtpZighdClyZXR1cm5bXTt2YXIgZT1tbyh0KTtyZXR1cm4gT2JqZWN0LmtleXMoZS5yZWR1Y2UoTW8se30pKX1mdW5jdGlvbiBnbyh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHQmJnQuaW5kZXhPZihlKSE9PS0xfX1mdW5jdGlvbiB0ZSh0LGUpe2Zvcih2YXIgcyBpbiB0KWVbc109dFtzXX1mdW5jdGlvbiBWKHQsZSl7dmFyIHM9dC5wcm90b3R5cGU7aWYoIShzIGluc3RhbmNlb2YgZSkpe2xldCBpPWZ1bmN0aW9uKCl7fTtpLnByb3RvdHlwZT1lLnByb3RvdHlwZSxpPW5ldyBpLHRlKHMsaSksdC5wcm90b3R5cGU9cz1pfXMuY29uc3RydWN0b3IhPXQmJih0eXBlb2YgdCE9ImZ1bmN0aW9uIiYmY29uc29sZS5lcnJvcigidW5rbm93biBDbGFzczoiK3QpLHMuY29uc3RydWN0b3I9dCl9dmFyIEo9e30sdHQ9Si5FTEVNRU5UX05PREU9MSxPdD1KLkFUVFJJQlVURV9OT0RFPTIsTmU9Si5URVhUX05PREU9MyxRcz1KLkNEQVRBX1NFQ1RJT05fTk9ERT00LFhzPUouRU5USVRZX1JFRkVSRU5DRV9OT0RFPTUseW89Si5FTlRJVFlfTk9ERT02LFdzPUouUFJPQ0VTU0lOR19JTlNUUlVDVElPTl9OT0RFPTcsVnM9Si5DT01NRU5UX05PREU9OCxKcz1KLkRPQ1VNRU5UX05PREU9OSxLcz1KLkRPQ1VNRU5UX1RZUEVfTk9ERT0xMCxvdD1KLkRPQ1VNRU5UX0ZSQUdNRU5UX05PREU9MTEseG89Si5OT1RBVElPTl9OT0RFPTEyLHo9e30sRj17fTt6LklOREVYX1NJWkVfRVJSPShGWzFdPSJJbmRleCBzaXplIGVycm9yIiwxKSx6LkRPTVNUUklOR19TSVpFX0VSUj0oRlsyXT0iRE9NU3RyaW5nIHNpemUgZXJyb3IiLDIpO3ZhciBfbz16LkhJRVJBUkNIWV9SRVFVRVNUX0VSUj0oRlszXT0iSGllcmFyY2h5IHJlcXVlc3QgZXJyb3IiLDMpO3ouV1JPTkdfRE9DVU1FTlRfRVJSPShGWzRdPSJXcm9uZyBkb2N1bWVudCIsNCksei5JTlZBTElEX0NIQVJBQ1RFUl9FUlI9KEZbNV09IkludmFsaWQgY2hhcmFjdGVyIiw1KSx6Lk5PX0RBVEFfQUxMT1dFRF9FUlI9KEZbNl09Ik5vIGRhdGEgYWxsb3dlZCIsNiksei5OT19NT0RJRklDQVRJT05fQUxMT1dFRF9FUlI9KEZbN109Ik5vIG1vZGlmaWNhdGlvbiBhbGxvd2VkIiw3KTt2YXIgdm89ei5OT1RfRk9VTkRfRVJSPShGWzhdPSJOb3QgZm91bmQiLDgpO3ouTk9UX1NVUFBPUlRFRF9FUlI9KEZbOV09Ik5vdCBzdXBwb3J0ZWQiLDkpO3ZhciAkcz16LklOVVNFX0FUVFJJQlVURV9FUlI9KEZbMTBdPSJBdHRyaWJ1dGUgaW4gdXNlIiwxMCk7ei5JTlZBTElEX1NUQVRFX0VSUj0oRlsxMV09IkludmFsaWQgc3RhdGUiLDExKSx6LlNZTlRBWF9FUlI9KEZbMTJdPSJTeW50YXggZXJyb3IiLDEyKSx6LklOVkFMSURfTU9ESUZJQ0FUSU9OX0VSUj0oRlsxM109IkludmFsaWQgbW9kaWZpY2F0aW9uIiwxMyksei5OQU1FU1BBQ0VfRVJSPShGWzE0XT0iSW52YWxpZCBuYW1lc3BhY2UiLDE0KSx6LklOVkFMSURfQUNDRVNTX0VSUj0oRlsxNV09IkludmFsaWQgYWNjZXNzIiwxNSk7ZnVuY3Rpb24geXQodCxlKXtpZihlIGluc3RhbmNlb2YgRXJyb3IpdmFyIHM9ZTtlbHNlIHM9dGhpcyxFcnJvci5jYWxsKHRoaXMsRlt0XSksdGhpcy5tZXNzYWdlPUZbdF0sRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UmJkVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMseXQpO3JldHVybiBzLmNvZGU9dCxlJiYodGhpcy5tZXNzYWdlPXRoaXMubWVzc2FnZSsiOiAiK2UpLHN9eXQucHJvdG90eXBlPUVycm9yLnByb3RvdHlwZSx0ZSh6LHl0KTtmdW5jdGlvbiB1dCgpe311dC5wcm90b3R5cGU9e2xlbmd0aDowLGl0ZW06ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXNbdF18fG51bGx9LHRvU3RyaW5nOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBzPVtdLGk9MDtpPHRoaXMubGVuZ3RoO2krKylEdCh0aGlzW2ldLHMsdCxlKTtyZXR1cm4gcy5qb2luKCIiKX19O2Z1bmN0aW9uIFB0KHQsZSl7dGhpcy5fbm9kZT10LHRoaXMuX3JlZnJlc2g9ZSxVZSh0aGlzKX1mdW5jdGlvbiBVZSh0KXt2YXIgZT10Ll9ub2RlLl9pbmN8fHQuX25vZGUub3duZXJEb2N1bWVudC5faW5jO2lmKHQuX2luYyE9ZSl7dmFyIHM9dC5fcmVmcmVzaCh0Ll9ub2RlKTtmaSh0LCJsZW5ndGgiLHMubGVuZ3RoKSx0ZShzLHQpLHQuX2luYz1lfX1QdC5wcm90b3R5cGUuaXRlbT1mdW5jdGlvbih0KXtyZXR1cm4gVWUodGhpcyksdGhpc1t0XX0sVihQdCx1dCk7ZnVuY3Rpb24gRWUoKXt9ZnVuY3Rpb24gWnModCxlKXtmb3IodmFyIHM9dC5sZW5ndGg7cy0tOylpZih0W3NdPT09ZSlyZXR1cm4gc31mdW5jdGlvbiBZcyh0LGUscyxpKXtpZihpP2VbWnMoZSxpKV09czplW2UubGVuZ3RoKytdPXMsdCl7cy5vd25lckVsZW1lbnQ9dDt2YXIgYT10Lm93bmVyRG9jdW1lbnQ7YSYmKGkmJmlpKGEsdCxpKSxibyhhLHQscykpfX1mdW5jdGlvbiB0aSh0LGUscyl7dmFyIGk9WnMoZSxzKTtpZihpPj0wKXtmb3IodmFyIGE9ZS5sZW5ndGgtMTtpPGE7KWVbaV09ZVsrK2ldO2lmKGUubGVuZ3RoPWEsdCl7dmFyIG49dC5vd25lckRvY3VtZW50O24mJihpaShuLHQscykscy5vd25lckVsZW1lbnQ9bnVsbCl9fWVsc2UgdGhyb3cgeXQodm8sbmV3IEVycm9yKHQudGFnTmFtZSsiQCIrcykpfUVlLnByb3RvdHlwZT17bGVuZ3RoOjAsaXRlbTp1dC5wcm90b3R5cGUuaXRlbSxnZXROYW1lZEl0ZW06ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMubGVuZ3RoO2UtLTspe3ZhciBzPXRoaXNbZV07aWYocy5ub2RlTmFtZT09dClyZXR1cm4gc319LHNldE5hbWVkSXRlbTpmdW5jdGlvbih0KXt2YXIgZT10Lm93bmVyRWxlbWVudDtpZihlJiZlIT10aGlzLl9vd25lckVsZW1lbnQpdGhyb3cgbmV3IHl0KCRzKTt2YXIgcz10aGlzLmdldE5hbWVkSXRlbSh0Lm5vZGVOYW1lKTtyZXR1cm4gWXModGhpcy5fb3duZXJFbGVtZW50LHRoaXMsdCxzKSxzfSxzZXROYW1lZEl0ZW1OUzpmdW5jdGlvbih0KXt2YXIgZT10Lm93bmVyRWxlbWVudCxzO2lmKGUmJmUhPXRoaXMuX293bmVyRWxlbWVudCl0aHJvdyBuZXcgeXQoJHMpO3JldHVybiBzPXRoaXMuZ2V0TmFtZWRJdGVtTlModC5uYW1lc3BhY2VVUkksdC5sb2NhbE5hbWUpLFlzKHRoaXMuX293bmVyRWxlbWVudCx0aGlzLHQscyksc30scmVtb3ZlTmFtZWRJdGVtOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0TmFtZWRJdGVtKHQpO3JldHVybiB0aSh0aGlzLl9vd25lckVsZW1lbnQsdGhpcyxlKSxlfSxyZW1vdmVOYW1lZEl0ZW1OUzpmdW5jdGlvbih0LGUpe3ZhciBzPXRoaXMuZ2V0TmFtZWRJdGVtTlModCxlKTtyZXR1cm4gdGkodGhpcy5fb3duZXJFbGVtZW50LHRoaXMscyksc30sZ2V0TmFtZWRJdGVtTlM6ZnVuY3Rpb24odCxlKXtmb3IodmFyIHM9dGhpcy5sZW5ndGg7cy0tOyl7dmFyIGk9dGhpc1tzXTtpZihpLmxvY2FsTmFtZT09ZSYmaS5uYW1lc3BhY2VVUkk9PXQpcmV0dXJuIGl9cmV0dXJuIG51bGx9fTtmdW5jdGlvbiBlaSgpe31laS5wcm90b3R5cGU9e2hhc0ZlYXR1cmU6ZnVuY3Rpb24odCxlKXtyZXR1cm4hMH0sY3JlYXRlRG9jdW1lbnQ6ZnVuY3Rpb24odCxlLHMpe3ZhciBpPW5ldyBzZTtpZihpLmltcGxlbWVudGF0aW9uPXRoaXMsaS5jaGlsZE5vZGVzPW5ldyB1dCxpLmRvY3R5cGU9c3x8bnVsbCxzJiZpLmFwcGVuZENoaWxkKHMpLGUpe3ZhciBhPWkuY3JlYXRlRWxlbWVudE5TKHQsZSk7aS5hcHBlbmRDaGlsZChhKX1yZXR1cm4gaX0sY3JlYXRlRG9jdW1lbnRUeXBlOmZ1bmN0aW9uKHQsZSxzKXt2YXIgaT1uZXcgQWU7cmV0dXJuIGkubmFtZT10LGkubm9kZU5hbWU9dCxpLnB1YmxpY0lkPWV8fCIiLGkuc3lzdGVtSWQ9c3x8IiIsaX19O2Z1bmN0aW9uIFUoKXt9VS5wcm90b3R5cGU9e2ZpcnN0Q2hpbGQ6bnVsbCxsYXN0Q2hpbGQ6bnVsbCxwcmV2aW91c1NpYmxpbmc6bnVsbCxuZXh0U2libGluZzpudWxsLGF0dHJpYnV0ZXM6bnVsbCxwYXJlbnROb2RlOm51bGwsY2hpbGROb2RlczpudWxsLG93bmVyRG9jdW1lbnQ6bnVsbCxub2RlVmFsdWU6bnVsbCxuYW1lc3BhY2VVUkk6bnVsbCxwcmVmaXg6bnVsbCxsb2NhbE5hbWU6bnVsbCxpbnNlcnRCZWZvcmU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmkodGhpcyx0LGUpfSxyZXBsYWNlQ2hpbGQ6ZnVuY3Rpb24odCxlKXt0aGlzLmluc2VydEJlZm9yZSh0LGUpLGUmJnRoaXMucmVtb3ZlQ2hpbGQoZSl9LHJlbW92ZUNoaWxkOmZ1bmN0aW9uKHQpe3JldHVybiBhaSh0aGlzLHQpfSxhcHBlbmRDaGlsZDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pbnNlcnRCZWZvcmUodCxudWxsKX0saGFzQ2hpbGROb2RlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZpcnN0Q2hpbGQhPW51bGx9LGNsb25lTm9kZTpmdW5jdGlvbih0KXtyZXR1cm4gJGUodGhpcy5vd25lckRvY3VtZW50fHx0aGlzLHRoaXMsdCl9LG5vcm1hbGl6ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmZpcnN0Q2hpbGQ7dDspe3ZhciBlPXQubmV4dFNpYmxpbmc7ZSYmZS5ub2RlVHlwZT09TmUmJnQubm9kZVR5cGU9PU5lPyh0aGlzLnJlbW92ZUNoaWxkKGUpLHQuYXBwZW5kRGF0YShlLmRhdGEpKToodC5ub3JtYWxpemUoKSx0PWUpfX0saXNTdXBwb3J0ZWQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5vd25lckRvY3VtZW50LmltcGxlbWVudGF0aW9uLmhhc0ZlYXR1cmUodCxlKX0saGFzQXR0cmlidXRlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXMubGVuZ3RoPjB9LGxvb2t1cFByZWZpeDpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcztlOyl7dmFyIHM9ZS5fbnNNYXA7aWYocyl7Zm9yKHZhciBpIGluIHMpaWYoc1tpXT09dClyZXR1cm4gaX1lPWUubm9kZVR5cGU9PU90P2Uub3duZXJEb2N1bWVudDplLnBhcmVudE5vZGV9cmV0dXJuIG51bGx9LGxvb2t1cE5hbWVzcGFjZVVSSTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcztlOyl7dmFyIHM9ZS5fbnNNYXA7aWYocyYmdCBpbiBzKXJldHVybiBzW3RdO2U9ZS5ub2RlVHlwZT09T3Q/ZS5vd25lckRvY3VtZW50OmUucGFyZW50Tm9kZX1yZXR1cm4gbnVsbH0saXNEZWZhdWx0TmFtZXNwYWNlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubG9va3VwUHJlZml4KHQpO3JldHVybiBlPT1udWxsfX07ZnVuY3Rpb24gc2kodCl7cmV0dXJuIHQ9PSI8IiYmIiZsdDsifHx0PT0iPiImJiImZ3Q7Inx8dD09IiYiJiYiJmFtcDsifHx0PT0nIicmJiImcXVvdDsifHwiJiMiK3QuY2hhckNvZGVBdCgpKyI7In10ZShKLFUpLHRlKEosVS5wcm90b3R5cGUpO2Z1bmN0aW9uIGVlKHQsZSl7aWYoZSh0KSlyZXR1cm4hMDtpZih0PXQuZmlyc3RDaGlsZClkbyBpZihlZSh0LGUpKXJldHVybiEwO3doaWxlKHQ9dC5uZXh0U2libGluZyl9ZnVuY3Rpb24gc2UoKXt9ZnVuY3Rpb24gYm8odCxlLHMpe3QmJnQuX2luYysrO3ZhciBpPXMubmFtZXNwYWNlVVJJO2k9PT1ZdC5YTUxOUyYmKGUuX25zTWFwW3MucHJlZml4P3MubG9jYWxOYW1lOiIiXT1zLnZhbHVlKX1mdW5jdGlvbiBpaSh0LGUscyxpKXt0JiZ0Ll9pbmMrKzt2YXIgYT1zLm5hbWVzcGFjZVVSSTthPT09WXQuWE1MTlMmJmRlbGV0ZSBlLl9uc01hcFtzLnByZWZpeD9zLmxvY2FsTmFtZToiIl19ZnVuY3Rpb24gSGUodCxlLHMpe2lmKHQmJnQuX2luYyl7dC5faW5jKys7dmFyIGk9ZS5jaGlsZE5vZGVzO2lmKHMpaVtpLmxlbmd0aCsrXT1zO2Vsc2V7Zm9yKHZhciBhPWUuZmlyc3RDaGlsZCxuPTA7YTspaVtuKytdPWEsYT1hLm5leHRTaWJsaW5nO2kubGVuZ3RoPW4sZGVsZXRlIGlbaS5sZW5ndGhdfX19ZnVuY3Rpb24gYWkodCxlKXt2YXIgcz1lLnByZXZpb3VzU2libGluZyxpPWUubmV4dFNpYmxpbmc7cmV0dXJuIHM/cy5uZXh0U2libGluZz1pOnQuZmlyc3RDaGlsZD1pLGk/aS5wcmV2aW91c1NpYmxpbmc9czp0Lmxhc3RDaGlsZD1zLGUucGFyZW50Tm9kZT1udWxsLGUucHJldmlvdXNTaWJsaW5nPW51bGwsZS5uZXh0U2libGluZz1udWxsLEhlKHQub3duZXJEb2N1bWVudCx0KSxlfWZ1bmN0aW9uIG5pKHQsZSxzKXt2YXIgaT1lLnBhcmVudE5vZGU7aWYoaSYmaS5yZW1vdmVDaGlsZChlKSxlLm5vZGVUeXBlPT09b3Qpe3ZhciBhPWUuZmlyc3RDaGlsZDtpZihhPT1udWxsKXJldHVybiBlO3ZhciBuPWUubGFzdENoaWxkfWVsc2UgYT1uPWU7dmFyIGg9cz9zLnByZXZpb3VzU2libGluZzp0Lmxhc3RDaGlsZDthLnByZXZpb3VzU2libGluZz1oLG4ubmV4dFNpYmxpbmc9cyxoP2gubmV4dFNpYmxpbmc9YTp0LmZpcnN0Q2hpbGQ9YSxzPT1udWxsP3QubGFzdENoaWxkPW46cy5wcmV2aW91c1NpYmxpbmc9bjtkbyBhLnBhcmVudE5vZGU9dDt3aGlsZShhIT09biYmKGE9YS5uZXh0U2libGluZykpO3JldHVybiBIZSh0Lm93bmVyRG9jdW1lbnR8fHQsdCksZS5ub2RlVHlwZT09b3QmJihlLmZpcnN0Q2hpbGQ9ZS5sYXN0Q2hpbGQ9bnVsbCksZX1mdW5jdGlvbiBObyh0LGUpe3JldHVybiBlLnBhcmVudE5vZGUmJmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKSxlLnBhcmVudE5vZGU9dCxlLnByZXZpb3VzU2libGluZz10Lmxhc3RDaGlsZCxlLm5leHRTaWJsaW5nPW51bGwsZS5wcmV2aW91c1NpYmxpbmc/ZS5wcmV2aW91c1NpYmxpbmcubmV4dFNpYmxpbmc9ZTp0LmZpcnN0Q2hpbGQ9ZSx0Lmxhc3RDaGlsZD1lLEhlKHQub3duZXJEb2N1bWVudCx0LGUpLGV9c2UucHJvdG90eXBlPXtub2RlTmFtZToiI2RvY3VtZW50Iixub2RlVHlwZTpKcyxkb2N0eXBlOm51bGwsZG9jdW1lbnRFbGVtZW50Om51bGwsX2luYzoxLGluc2VydEJlZm9yZTpmdW5jdGlvbih0LGUpe2lmKHQubm9kZVR5cGU9PW90KXtmb3IodmFyIHM9dC5maXJzdENoaWxkO3M7KXt2YXIgaT1zLm5leHRTaWJsaW5nO3RoaXMuaW5zZXJ0QmVmb3JlKHMsZSkscz1pfXJldHVybiB0fXJldHVybiB0aGlzLmRvY3VtZW50RWxlbWVudD09bnVsbCYmdC5ub2RlVHlwZT09dHQmJih0aGlzLmRvY3VtZW50RWxlbWVudD10KSxuaSh0aGlzLHQsZSksdC5vd25lckRvY3VtZW50PXRoaXMsdH0scmVtb3ZlQ2hpbGQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZG9jdW1lbnRFbGVtZW50PT10JiYodGhpcy5kb2N1bWVudEVsZW1lbnQ9bnVsbCksYWkodGhpcyx0KX0saW1wb3J0Tm9kZTpmdW5jdGlvbih0LGUpe3JldHVybiBjaSh0aGlzLHQsZSl9LGdldEVsZW1lbnRCeUlkOmZ1bmN0aW9uKHQpe3ZhciBlPW51bGw7cmV0dXJuIGVlKHRoaXMuZG9jdW1lbnRFbGVtZW50LGZ1bmN0aW9uKHMpe2lmKHMubm9kZVR5cGU9PXR0JiZzLmdldEF0dHJpYnV0ZSgiaWQiKT09dClyZXR1cm4gZT1zLCEwfSksZX0sZ2V0RWxlbWVudHNCeUNsYXNzTmFtZTpmdW5jdGlvbih0KXt2YXIgZT1Icyh0KTtyZXR1cm4gbmV3IFB0KHRoaXMsZnVuY3Rpb24ocyl7dmFyIGk9W107cmV0dXJuIGUubGVuZ3RoPjAmJmVlKHMuZG9jdW1lbnRFbGVtZW50LGZ1bmN0aW9uKGEpe2lmKGEhPT1zJiZhLm5vZGVUeXBlPT09dHQpe3ZhciBuPWEuZ2V0QXR0cmlidXRlKCJjbGFzcyIpO2lmKG4pe3ZhciBoPXQ9PT1uO2lmKCFoKXt2YXIgcj1IcyhuKTtoPWUuZXZlcnkoZ28ocikpfWgmJmkucHVzaChhKX19fSksaX0pfSxjcmVhdGVFbGVtZW50OmZ1bmN0aW9uKHQpe3ZhciBlPW5ldyB4dDtlLm93bmVyRG9jdW1lbnQ9dGhpcyxlLm5vZGVOYW1lPXQsZS50YWdOYW1lPXQsZS5sb2NhbE5hbWU9dCxlLmNoaWxkTm9kZXM9bmV3IHV0O3ZhciBzPWUuYXR0cmlidXRlcz1uZXcgRWU7cmV0dXJuIHMuX293bmVyRWxlbWVudD1lLGV9LGNyZWF0ZURvY3VtZW50RnJhZ21lbnQ6ZnVuY3Rpb24oKXt2YXIgdD1uZXcgQ2U7cmV0dXJuIHQub3duZXJEb2N1bWVudD10aGlzLHQuY2hpbGROb2Rlcz1uZXcgdXQsdH0sY3JlYXRlVGV4dE5vZGU6ZnVuY3Rpb24odCl7dmFyIGU9bmV3IFFlO3JldHVybiBlLm93bmVyRG9jdW1lbnQ9dGhpcyxlLmFwcGVuZERhdGEodCksZX0sY3JlYXRlQ29tbWVudDpmdW5jdGlvbih0KXt2YXIgZT1uZXcgWGU7cmV0dXJuIGUub3duZXJEb2N1bWVudD10aGlzLGUuYXBwZW5kRGF0YSh0KSxlfSxjcmVhdGVDREFUQVNlY3Rpb246ZnVuY3Rpb24odCl7dmFyIGU9bmV3IFdlO3JldHVybiBlLm93bmVyRG9jdW1lbnQ9dGhpcyxlLmFwcGVuZERhdGEodCksZX0sY3JlYXRlUHJvY2Vzc2luZ0luc3RydWN0aW9uOmZ1bmN0aW9uKHQsZSl7dmFyIHM9bmV3IEplO3JldHVybiBzLm93bmVyRG9jdW1lbnQ9dGhpcyxzLnRhZ05hbWU9cy50YXJnZXQ9dCxzLm5vZGVWYWx1ZT1zLmRhdGE9ZSxzfSxjcmVhdGVBdHRyaWJ1dGU6ZnVuY3Rpb24odCl7dmFyIGU9bmV3IHdlO3JldHVybiBlLm93bmVyRG9jdW1lbnQ9dGhpcyxlLm5hbWU9dCxlLm5vZGVOYW1lPXQsZS5sb2NhbE5hbWU9dCxlLnNwZWNpZmllZD0hMCxlfSxjcmVhdGVFbnRpdHlSZWZlcmVuY2U6ZnVuY3Rpb24odCl7dmFyIGU9bmV3IFZlO3JldHVybiBlLm93bmVyRG9jdW1lbnQ9dGhpcyxlLm5vZGVOYW1lPXQsZX0sY3JlYXRlRWxlbWVudE5TOmZ1bmN0aW9uKHQsZSl7dmFyIHM9bmV3IHh0LGk9ZS5zcGxpdCgiOiIpLGE9cy5hdHRyaWJ1dGVzPW5ldyBFZTtyZXR1cm4gcy5jaGlsZE5vZGVzPW5ldyB1dCxzLm93bmVyRG9jdW1lbnQ9dGhpcyxzLm5vZGVOYW1lPWUscy50YWdOYW1lPWUscy5uYW1lc3BhY2VVUkk9dCxpLmxlbmd0aD09Mj8ocy5wcmVmaXg9aVswXSxzLmxvY2FsTmFtZT1pWzFdKTpzLmxvY2FsTmFtZT1lLGEuX293bmVyRWxlbWVudD1zLHN9LGNyZWF0ZUF0dHJpYnV0ZU5TOmZ1bmN0aW9uKHQsZSl7dmFyIHM9bmV3IHdlLGk9ZS5zcGxpdCgiOiIpO3JldHVybiBzLm93bmVyRG9jdW1lbnQ9dGhpcyxzLm5vZGVOYW1lPWUscy5uYW1lPWUscy5uYW1lc3BhY2VVUkk9dCxzLnNwZWNpZmllZD0hMCxpLmxlbmd0aD09Mj8ocy5wcmVmaXg9aVswXSxzLmxvY2FsTmFtZT1pWzFdKTpzLmxvY2FsTmFtZT1lLHN9fSxWKHNlLFUpO2Z1bmN0aW9uIHh0KCl7dGhpcy5fbnNNYXA9e319eHQucHJvdG90eXBlPXtub2RlVHlwZTp0dCxoYXNBdHRyaWJ1dGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlTm9kZSh0KSE9bnVsbH0sZ2V0QXR0cmlidXRlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0QXR0cmlidXRlTm9kZSh0KTtyZXR1cm4gZSYmZS52YWx1ZXx8IiJ9LGdldEF0dHJpYnV0ZU5vZGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0odCl9LHNldEF0dHJpYnV0ZTpmdW5jdGlvbih0LGUpe3ZhciBzPXRoaXMub3duZXJEb2N1bWVudC5jcmVhdGVBdHRyaWJ1dGUodCk7cy52YWx1ZT1zLm5vZGVWYWx1ZT0iIitlLHRoaXMuc2V0QXR0cmlidXRlTm9kZShzKX0scmVtb3ZlQXR0cmlidXRlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0QXR0cmlidXRlTm9kZSh0KTtlJiZ0aGlzLnJlbW92ZUF0dHJpYnV0ZU5vZGUoZSl9LGFwcGVuZENoaWxkOmZ1bmN0aW9uKHQpe3JldHVybiB0Lm5vZGVUeXBlPT09b3Q/dGhpcy5pbnNlcnRCZWZvcmUodCxudWxsKTpObyh0aGlzLHQpfSxzZXRBdHRyaWJ1dGVOb2RlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXMuc2V0TmFtZWRJdGVtKHQpfSxzZXRBdHRyaWJ1dGVOb2RlTlM6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYXR0cmlidXRlcy5zZXROYW1lZEl0ZW1OUyh0KX0scmVtb3ZlQXR0cmlidXRlTm9kZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzLnJlbW92ZU5hbWVkSXRlbSh0Lm5vZGVOYW1lKX0scmVtb3ZlQXR0cmlidXRlTlM6ZnVuY3Rpb24odCxlKXt2YXIgcz10aGlzLmdldEF0dHJpYnV0ZU5vZGVOUyh0LGUpO3MmJnRoaXMucmVtb3ZlQXR0cmlidXRlTm9kZShzKX0saGFzQXR0cmlidXRlTlM6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGVOb2RlTlModCxlKSE9bnVsbH0sZ2V0QXR0cmlidXRlTlM6ZnVuY3Rpb24odCxlKXt2YXIgcz10aGlzLmdldEF0dHJpYnV0ZU5vZGVOUyh0LGUpO3JldHVybiBzJiZzLnZhbHVlfHwiIn0sc2V0QXR0cmlidXRlTlM6ZnVuY3Rpb24odCxlLHMpe3ZhciBpPXRoaXMub3duZXJEb2N1bWVudC5jcmVhdGVBdHRyaWJ1dGVOUyh0LGUpO2kudmFsdWU9aS5ub2RlVmFsdWU9IiIrcyx0aGlzLnNldEF0dHJpYnV0ZU5vZGUoaSl9LGdldEF0dHJpYnV0ZU5vZGVOUzpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtTlModCxlKX0sZ2V0RWxlbWVudHNCeVRhZ05hbWU6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBQdCh0aGlzLGZ1bmN0aW9uKGUpe3ZhciBzPVtdO3JldHVybiBlZShlLGZ1bmN0aW9uKGkpe2khPT1lJiZpLm5vZGVUeXBlPT10dCYmKHQ9PT0iKiJ8fGkudGFnTmFtZT09dCkmJnMucHVzaChpKX0pLHN9KX0sZ2V0RWxlbWVudHNCeVRhZ05hbWVOUzpmdW5jdGlvbih0LGUpe3JldHVybiBuZXcgUHQodGhpcyxmdW5jdGlvbihzKXt2YXIgaT1bXTtyZXR1cm4gZWUocyxmdW5jdGlvbihhKXthIT09cyYmYS5ub2RlVHlwZT09PXR0JiYodD09PSIqInx8YS5uYW1lc3BhY2VVUkk9PT10KSYmKGU9PT0iKiJ8fGEubG9jYWxOYW1lPT1lKSYmaS5wdXNoKGEpfSksaX0pfX0sc2UucHJvdG90eXBlLmdldEVsZW1lbnRzQnlUYWdOYW1lPXh0LnByb3RvdHlwZS5nZXRFbGVtZW50c0J5VGFnTmFtZSxzZS5wcm90b3R5cGUuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUz14dC5wcm90b3R5cGUuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyxWKHh0LFUpO2Z1bmN0aW9uIHdlKCl7fXdlLnByb3RvdHlwZS5ub2RlVHlwZT1PdCxWKHdlLFUpO2Z1bmN0aW9uIGllKCl7fWllLnByb3RvdHlwZT17ZGF0YToiIixzdWJzdHJpbmdEYXRhOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZGF0YS5zdWJzdHJpbmcodCx0K2UpfSxhcHBlbmREYXRhOmZ1bmN0aW9uKHQpe3Q9dGhpcy5kYXRhK3QsdGhpcy5ub2RlVmFsdWU9dGhpcy5kYXRhPXQsdGhpcy5sZW5ndGg9dC5sZW5ndGh9LGluc2VydERhdGE6ZnVuY3Rpb24odCxlKXt0aGlzLnJlcGxhY2VEYXRhKHQsMCxlKX0sYXBwZW5kQ2hpbGQ6ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKEZbX29dKX0sZGVsZXRlRGF0YTpmdW5jdGlvbih0LGUpe3RoaXMucmVwbGFjZURhdGEodCxlLCIiKX0scmVwbGFjZURhdGE6ZnVuY3Rpb24odCxlLHMpe3ZhciBpPXRoaXMuZGF0YS5zdWJzdHJpbmcoMCx0KSxhPXRoaXMuZGF0YS5zdWJzdHJpbmcodCtlKTtzPWkrcythLHRoaXMubm9kZVZhbHVlPXRoaXMuZGF0YT1zLHRoaXMubGVuZ3RoPXMubGVuZ3RofX0sVihpZSxVKTtmdW5jdGlvbiBRZSgpe31RZS5wcm90b3R5cGU9e25vZGVOYW1lOiIjdGV4dCIsbm9kZVR5cGU6TmUsc3BsaXRUZXh0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZGF0YSxzPWUuc3Vic3RyaW5nKHQpO2U9ZS5zdWJzdHJpbmcoMCx0KSx0aGlzLmRhdGE9dGhpcy5ub2RlVmFsdWU9ZSx0aGlzLmxlbmd0aD1lLmxlbmd0aDt2YXIgaT10aGlzLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUocyk7cmV0dXJuIHRoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShpLHRoaXMubmV4dFNpYmxpbmcpLGl9fSxWKFFlLGllKTtmdW5jdGlvbiBYZSgpe31YZS5wcm90b3R5cGU9e25vZGVOYW1lOiIjY29tbWVudCIsbm9kZVR5cGU6VnN9LFYoWGUsaWUpO2Z1bmN0aW9uIFdlKCl7fVdlLnByb3RvdHlwZT17bm9kZU5hbWU6IiNjZGF0YS1zZWN0aW9uIixub2RlVHlwZTpRc30sVihXZSxpZSk7ZnVuY3Rpb24gQWUoKXt9QWUucHJvdG90eXBlLm5vZGVUeXBlPUtzLFYoQWUsVSk7ZnVuY3Rpb24gcmkoKXt9cmkucHJvdG90eXBlLm5vZGVUeXBlPXhvLFYocmksVSk7ZnVuY3Rpb24gaGkoKXt9aGkucHJvdG90eXBlLm5vZGVUeXBlPXlvLFYoaGksVSk7ZnVuY3Rpb24gVmUoKXt9VmUucHJvdG90eXBlLm5vZGVUeXBlPVhzLFYoVmUsVSk7ZnVuY3Rpb24gQ2UoKXt9Q2UucHJvdG90eXBlLm5vZGVOYW1lPSIjZG9jdW1lbnQtZnJhZ21lbnQiLENlLnByb3RvdHlwZS5ub2RlVHlwZT1vdCxWKENlLFUpO2Z1bmN0aW9uIEplKCl7fUplLnByb3RvdHlwZS5ub2RlVHlwZT1XcyxWKEplLFUpO2Z1bmN0aW9uIG9pKCl7fW9pLnByb3RvdHlwZS5zZXJpYWxpemVUb1N0cmluZz1mdW5jdGlvbih0LGUscyl7cmV0dXJuIHVpLmNhbGwodCxlLHMpfSxVLnByb3RvdHlwZS50b1N0cmluZz11aTtmdW5jdGlvbiB1aSh0LGUpe3ZhciBzPVtdLGk9dGhpcy5ub2RlVHlwZT09OSYmdGhpcy5kb2N1bWVudEVsZW1lbnR8fHRoaXMsYT1pLnByZWZpeCxuPWkubmFtZXNwYWNlVVJJO2lmKG4mJmE9PW51bGwpe3ZhciBhPWkubG9va3VwUHJlZml4KG4pO2lmKGE9PW51bGwpdmFyIGg9W3tuYW1lc3BhY2U6bixwcmVmaXg6bnVsbH1dfXJldHVybiBEdCh0aGlzLHMsdCxlLGgpLHMuam9pbigiIil9ZnVuY3Rpb24gbGkodCxlLHMpe3ZhciBpPXQucHJlZml4fHwiIixhPXQubmFtZXNwYWNlVVJJO2lmKCFhfHxpPT09InhtbCImJmE9PT1ZdC5YTUx8fGE9PT1ZdC5YTUxOUylyZXR1cm4hMTtmb3IodmFyIG49cy5sZW5ndGg7bi0tOyl7dmFyIGg9c1tuXTtpZihoLnByZWZpeD09PWkpcmV0dXJuIGgubmFtZXNwYWNlIT09YX1yZXR1cm4hMH1mdW5jdGlvbiBLZSh0LGUscyl7dC5wdXNoKCIgIixlLCc9Iicscy5yZXBsYWNlKC9bPD4mIlx0XG5ccl0vZyxzaSksJyInKX1mdW5jdGlvbiBEdCh0LGUscyxpLGEpe2lmKGF8fChhPVtdKSxpKWlmKHQ9aSh0KSx0KXtpZih0eXBlb2YgdD09InN0cmluZyIpe2UucHVzaCh0KTtyZXR1cm59fWVsc2UgcmV0dXJuO3N3aXRjaCh0Lm5vZGVUeXBlKXtjYXNlIHR0OnZhciBuPXQuYXR0cmlidXRlcyxoPW4ubGVuZ3RoLHI9dC5maXJzdENoaWxkLG89dC50YWdOYW1lO3M9WXQuaXNIVE1MKHQubmFtZXNwYWNlVVJJKXx8czt2YXIgdT1vO2lmKCFzJiYhdC5wcmVmaXgmJnQubmFtZXNwYWNlVVJJKXtmb3IodmFyIGwsYz0wO2M8bi5sZW5ndGg7YysrKWlmKG4uaXRlbShjKS5uYW1lPT09InhtbG5zIil7bD1uLml0ZW0oYykudmFsdWU7YnJlYWt9aWYoIWwpZm9yKHZhciBmPWEubGVuZ3RoLTE7Zj49MDtmLS0pe3ZhciBwPWFbZl07aWYocC5wcmVmaXg9PT0iIiYmcC5uYW1lc3BhY2U9PT10Lm5hbWVzcGFjZVVSSSl7bD1wLm5hbWVzcGFjZTticmVha319aWYobCE9PXQubmFtZXNwYWNlVVJJKWZvcih2YXIgZj1hLmxlbmd0aC0xO2Y+PTA7Zi0tKXt2YXIgcD1hW2ZdO2lmKHAubmFtZXNwYWNlPT09dC5uYW1lc3BhY2VVUkkpe3AucHJlZml4JiYodT1wLnByZWZpeCsiOiIrbyk7YnJlYWt9fX1lLnB1c2goIjwiLHUpO2Zvcih2YXIgbT0wO208aDttKyspe3ZhciBkPW4uaXRlbShtKTtkLnByZWZpeD09InhtbG5zIj9hLnB1c2goe3ByZWZpeDpkLmxvY2FsTmFtZSxuYW1lc3BhY2U6ZC52YWx1ZX0pOmQubm9kZU5hbWU9PSJ4bWxucyImJmEucHVzaCh7cHJlZml4OiIiLG5hbWVzcGFjZTpkLnZhbHVlfSl9Zm9yKHZhciBtPTA7bTxoO20rKyl7dmFyIGQ9bi5pdGVtKG0pO2lmKGxpKGQscyxhKSl7dmFyIE09ZC5wcmVmaXh8fCIiLHg9ZC5uYW1lc3BhY2VVUkk7S2UoZSxNPyJ4bWxuczoiK006InhtbG5zIix4KSxhLnB1c2goe3ByZWZpeDpNLG5hbWVzcGFjZTp4fSl9RHQoZCxlLHMsaSxhKX1pZihvPT09dSYmbGkodCxzLGEpKXt2YXIgTT10LnByZWZpeHx8IiIseD10Lm5hbWVzcGFjZVVSSTtLZShlLE0/InhtbG5zOiIrTToieG1sbnMiLHgpLGEucHVzaCh7cHJlZml4Ok0sbmFtZXNwYWNlOnh9KX1pZihyfHxzJiYhL14oPzptZXRhfGxpbmt8aW1nfGJyfGhyfGlucHV0KSQvaS50ZXN0KG8pKXtpZihlLnB1c2goIj4iKSxzJiYvXnNjcmlwdCQvaS50ZXN0KG8pKWZvcig7cjspci5kYXRhP2UucHVzaChyLmRhdGEpOkR0KHIsZSxzLGksYS5zbGljZSgpKSxyPXIubmV4dFNpYmxpbmc7ZWxzZSBmb3IoO3I7KUR0KHIsZSxzLGksYS5zbGljZSgpKSxyPXIubmV4dFNpYmxpbmc7ZS5wdXNoKCI8LyIsdSwiPiIpfWVsc2UgZS5wdXNoKCIvPiIpO3JldHVybjtjYXNlIEpzOmNhc2Ugb3Q6Zm9yKHZhciByPXQuZmlyc3RDaGlsZDtyOylEdChyLGUscyxpLGEuc2xpY2UoKSkscj1yLm5leHRTaWJsaW5nO3JldHVybjtjYXNlIE90OnJldHVybiBLZShlLHQubmFtZSx0LnZhbHVlKTtjYXNlIE5lOnJldHVybiBlLnB1c2godC5kYXRhLnJlcGxhY2UoL1s8Jj5dL2csc2kpKTtjYXNlIFFzOnJldHVybiBlLnB1c2goIjwhW0NEQVRBWyIsdC5kYXRhLCJdXT4iKTtjYXNlIFZzOnJldHVybiBlLnB1c2goIjwhLS0iLHQuZGF0YSwiLS0+Iik7Y2FzZSBLczp2YXIgYj10LnB1YmxpY0lkLHY9dC5zeXN0ZW1JZDtpZihlLnB1c2goIjwhRE9DVFlQRSAiLHQubmFtZSksYillLnB1c2goIiBQVUJMSUMgIixiKSx2JiZ2IT0iLiImJmUucHVzaCgiICIsdiksZS5wdXNoKCI+Iik7ZWxzZSBpZih2JiZ2IT0iLiIpZS5wdXNoKCIgU1lTVEVNICIsdiwiPiIpO2Vsc2V7dmFyIEU9dC5pbnRlcm5hbFN1YnNldDtFJiZlLnB1c2goIiBbIixFLCJdIiksZS5wdXNoKCI+Iil9cmV0dXJuO2Nhc2UgV3M6cmV0dXJuIGUucHVzaCgiPD8iLHQudGFyZ2V0LCIgIix0LmRhdGEsIj8+Iik7Y2FzZSBYczpyZXR1cm4gZS5wdXNoKCImIix0Lm5vZGVOYW1lLCI7Iik7ZGVmYXVsdDplLnB1c2goIj8/Iix0Lm5vZGVOYW1lKX19ZnVuY3Rpb24gY2kodCxlLHMpe3ZhciBpO3N3aXRjaChlLm5vZGVUeXBlKXtjYXNlIHR0Omk9ZS5jbG9uZU5vZGUoITEpLGkub3duZXJEb2N1bWVudD10O2Nhc2Ugb3Q6YnJlYWs7Y2FzZSBPdDpzPSEwO2JyZWFrfWlmKGl8fChpPWUuY2xvbmVOb2RlKCExKSksaS5vd25lckRvY3VtZW50PXQsaS5wYXJlbnROb2RlPW51bGwscylmb3IodmFyIGE9ZS5maXJzdENoaWxkO2E7KWkuYXBwZW5kQ2hpbGQoY2kodCxhLHMpKSxhPWEubmV4dFNpYmxpbmc7cmV0dXJuIGl9ZnVuY3Rpb24gJGUodCxlLHMpe3ZhciBpPW5ldyBlLmNvbnN0cnVjdG9yO2Zvcih2YXIgYSBpbiBlKXt2YXIgbj1lW2FdO3R5cGVvZiBuIT0ib2JqZWN0IiYmbiE9aVthXSYmKGlbYV09bil9c3dpdGNoKGUuY2hpbGROb2RlcyYmKGkuY2hpbGROb2Rlcz1uZXcgdXQpLGkub3duZXJEb2N1bWVudD10LGkubm9kZVR5cGUpe2Nhc2UgdHQ6dmFyIGg9ZS5hdHRyaWJ1dGVzLHI9aS5hdHRyaWJ1dGVzPW5ldyBFZSxvPWgubGVuZ3RoO3IuX293bmVyRWxlbWVudD1pO2Zvcih2YXIgdT0wO3U8bzt1KyspaS5zZXRBdHRyaWJ1dGVOb2RlKCRlKHQsaC5pdGVtKHUpLCEwKSk7YnJlYWs7Y2FzZSBPdDpzPSEwfWlmKHMpZm9yKHZhciBsPWUuZmlyc3RDaGlsZDtsOylpLmFwcGVuZENoaWxkKCRlKHQsbCxzKSksbD1sLm5leHRTaWJsaW5nO3JldHVybiBpfWZ1bmN0aW9uIGZpKHQsZSxzKXt0W2VdPXN9dHJ5e2lmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSl7bGV0IHQ9ZnVuY3Rpb24oZSl7c3dpdGNoKGUubm9kZVR5cGUpe2Nhc2UgdHQ6Y2FzZSBvdDp2YXIgcz1bXTtmb3IoZT1lLmZpcnN0Q2hpbGQ7ZTspZS5ub2RlVHlwZSE9PTcmJmUubm9kZVR5cGUhPT04JiZzLnB1c2godChlKSksZT1lLm5leHRTaWJsaW5nO3JldHVybiBzLmpvaW4oIiIpO2RlZmF1bHQ6cmV0dXJuIGUubm9kZVZhbHVlfX07dmFyIGpvPXQ7T2JqZWN0LmRlZmluZVByb3BlcnR5KFB0LnByb3RvdHlwZSwibGVuZ3RoIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFVlKHRoaXMpLHRoaXMuJCRsZW5ndGh9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFUucHJvdG90eXBlLCJ0ZXh0Q29udGVudCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0KHRoaXMpfSxzZXQ6ZnVuY3Rpb24oZSl7c3dpdGNoKHRoaXMubm9kZVR5cGUpe2Nhc2UgdHQ6Y2FzZSBvdDpmb3IoO3RoaXMuZmlyc3RDaGlsZDspdGhpcy5yZW1vdmVDaGlsZCh0aGlzLmZpcnN0Q2hpbGQpOyhlfHxTdHJpbmcoZSkpJiZ0aGlzLmFwcGVuZENoaWxkKHRoaXMub3duZXJEb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShlKSk7YnJlYWs7ZGVmYXVsdDp0aGlzLmRhdGE9ZSx0aGlzLnZhbHVlPWUsdGhpcy5ub2RlVmFsdWU9ZX19fSksZmk9ZnVuY3Rpb24oZSxzLGkpe2VbIiQkIitzXT1pfX19Y2F0Y2h7fXB0LkRvY3VtZW50VHlwZT1BZSxwdC5ET01FeGNlcHRpb249eXQscHQuRE9NSW1wbGVtZW50YXRpb249ZWkscHQuRWxlbWVudD14dCxwdC5Ob2RlPVUscHQuTm9kZUxpc3Q9dXQscHQuWE1MU2VyaWFsaXplcj1vaTt2YXIgU2U9e30scGk9e307KGZ1bmN0aW9uKHQpe3ZhciBlPW10LmZyZWV6ZTt0LlhNTF9FTlRJVElFUz1lKHthbXA6IiYiLGFwb3M6IiciLGd0OiI+IixsdDoiPCIscXVvdDonIid9KSx0LkhUTUxfRU5USVRJRVM9ZSh7bHQ6IjwiLGd0OiI+IixhbXA6IiYiLHF1b3Q6JyInLGFwb3M6IiciLEFncmF2ZToiXHhDMCIsQWFjdXRlOiJceEMxIixBY2lyYzoiXHhDMiIsQXRpbGRlOiJceEMzIixBdW1sOiJceEM0IixBcmluZzoiXHhDNSIsQUVsaWc6Ilx4QzYiLENjZWRpbDoiXHhDNyIsRWdyYXZlOiJceEM4IixFYWN1dGU6Ilx4QzkiLEVjaXJjOiJceENBIixFdW1sOiJceENCIixJZ3JhdmU6Ilx4Q0MiLElhY3V0ZToiXHhDRCIsSWNpcmM6Ilx4Q0UiLEl1bWw6Ilx4Q0YiLEVUSDoiXHhEMCIsTnRpbGRlOiJceEQxIixPZ3JhdmU6Ilx4RDIiLE9hY3V0ZToiXHhEMyIsT2NpcmM6Ilx4RDQiLE90aWxkZToiXHhENSIsT3VtbDoiXHhENiIsT3NsYXNoOiJceEQ4IixVZ3JhdmU6Ilx4RDkiLFVhY3V0ZToiXHhEQSIsVWNpcmM6Ilx4REIiLFV1bWw6Ilx4REMiLFlhY3V0ZToiXHhERCIsVEhPUk46Ilx4REUiLHN6bGlnOiJceERGIixhZ3JhdmU6Ilx4RTAiLGFhY3V0ZToiXHhFMSIsYWNpcmM6Ilx4RTIiLGF0aWxkZToiXHhFMyIsYXVtbDoiXHhFNCIsYXJpbmc6Ilx4RTUiLGFlbGlnOiJceEU2IixjY2VkaWw6Ilx4RTciLGVncmF2ZToiXHhFOCIsZWFjdXRlOiJceEU5IixlY2lyYzoiXHhFQSIsZXVtbDoiXHhFQiIsaWdyYXZlOiJceEVDIixpYWN1dGU6Ilx4RUQiLGljaXJjOiJceEVFIixpdW1sOiJceEVGIixldGg6Ilx4RjAiLG50aWxkZToiXHhGMSIsb2dyYXZlOiJceEYyIixvYWN1dGU6Ilx4RjMiLG9jaXJjOiJceEY0IixvdGlsZGU6Ilx4RjUiLG91bWw6Ilx4RjYiLG9zbGFzaDoiXHhGOCIsdWdyYXZlOiJceEY5Iix1YWN1dGU6Ilx4RkEiLHVjaXJjOiJceEZCIix1dW1sOiJceEZDIix5YWN1dGU6Ilx4RkQiLHRob3JuOiJceEZFIix5dW1sOiJceEZGIixuYnNwOiJceEEwIixpZXhjbDoiXHhBMSIsY2VudDoiXHhBMiIscG91bmQ6Ilx4QTMiLGN1cnJlbjoiXHhBNCIseWVuOiJceEE1IixicnZiYXI6Ilx4QTYiLHNlY3Q6Ilx4QTciLHVtbDoiXHhBOCIsY29weToiXHhBOSIsb3JkZjoiXHhBQSIsbGFxdW86Ilx4QUIiLG5vdDoiXHhBQyIsc2h5OiJceEFEXHhBRCIscmVnOiJceEFFIixtYWNyOiJceEFGIixkZWc6Ilx4QjAiLHBsdXNtbjoiXHhCMSIsc3VwMjoiXHhCMiIsc3VwMzoiXHhCMyIsYWN1dGU6Ilx4QjQiLG1pY3JvOiJceEI1IixwYXJhOiJceEI2IixtaWRkb3Q6Ilx4QjciLGNlZGlsOiJceEI4IixzdXAxOiJceEI5IixvcmRtOiJceEJBIixyYXF1bzoiXHhCQiIsZnJhYzE0OiJceEJDIixmcmFjMTI6Ilx4QkQiLGZyYWMzNDoiXHhCRSIsaXF1ZXN0OiJceEJGIix0aW1lczoiXHhENyIsZGl2aWRlOiJceEY3Iixmb3JhbGw6Ilx1MjIwMCIscGFydDoiXHUyMjAyIixleGlzdDoiXHUyMjAzIixlbXB0eToiXHUyMjA1IixuYWJsYToiXHUyMjA3Iixpc2luOiJcdTIyMDgiLG5vdGluOiJcdTIyMDkiLG5pOiJcdTIyMEIiLHByb2Q6Ilx1MjIwRiIsc3VtOiJcdTIyMTEiLG1pbnVzOiJcdTIyMTIiLGxvd2FzdDoiXHUyMjE3IixyYWRpYzoiXHUyMjFBIixwcm9wOiJcdTIyMUQiLGluZmluOiJcdTIyMUUiLGFuZzoiXHUyMjIwIixhbmQ6Ilx1MjIyNyIsb3I6Ilx1MjIyOCIsY2FwOiJcdTIyMjkiLGN1cDoiXHUyMjJBIixpbnQ6Ilx1MjIyQiIsdGhlcmU0OiJcdTIyMzQiLHNpbToiXHUyMjNDIixjb25nOiJcdTIyNDUiLGFzeW1wOiJcdTIyNDgiLG5lOiJcdTIyNjAiLGVxdWl2OiJcdTIyNjEiLGxlOiJcdTIyNjQiLGdlOiJcdTIyNjUiLHN1YjoiXHUyMjgyIixzdXA6Ilx1MjI4MyIsbnN1YjoiXHUyMjg0IixzdWJlOiJcdTIyODYiLHN1cGU6Ilx1MjI4NyIsb3BsdXM6Ilx1MjI5NSIsb3RpbWVzOiJcdTIyOTciLHBlcnA6Ilx1MjJBNSIsc2RvdDoiXHUyMkM1IixBbHBoYToiXHUwMzkxIixCZXRhOiJcdTAzOTIiLEdhbW1hOiJcdTAzOTMiLERlbHRhOiJcdTAzOTQiLEVwc2lsb246Ilx1MDM5NSIsWmV0YToiXHUwMzk2IixFdGE6Ilx1MDM5NyIsVGhldGE6Ilx1MDM5OCIsSW90YToiXHUwMzk5IixLYXBwYToiXHUwMzlBIixMYW1iZGE6Ilx1MDM5QiIsTXU6Ilx1MDM5QyIsTnU6Ilx1MDM5RCIsWGk6Ilx1MDM5RSIsT21pY3JvbjoiXHUwMzlGIixQaToiXHUwM0EwIixSaG86Ilx1MDNBMSIsU2lnbWE6Ilx1MDNBMyIsVGF1OiJcdTAzQTQiLFVwc2lsb246Ilx1MDNBNSIsUGhpOiJcdTAzQTYiLENoaToiXHUwM0E3IixQc2k6Ilx1MDNBOCIsT21lZ2E6Ilx1MDNBOSIsYWxwaGE6Ilx1MDNCMSIsYmV0YToiXHUwM0IyIixnYW1tYToiXHUwM0IzIixkZWx0YToiXHUwM0I0IixlcHNpbG9uOiJcdTAzQjUiLHpldGE6Ilx1MDNCNiIsZXRhOiJcdTAzQjciLHRoZXRhOiJcdTAzQjgiLGlvdGE6Ilx1MDNCOSIsa2FwcGE6Ilx1MDNCQSIsbGFtYmRhOiJcdTAzQkIiLG11OiJcdTAzQkMiLG51OiJcdTAzQkQiLHhpOiJcdTAzQkUiLG9taWNyb246Ilx1MDNCRiIscGk6Ilx1MDNDMCIscmhvOiJcdTAzQzEiLHNpZ21hZjoiXHUwM0MyIixzaWdtYToiXHUwM0MzIix0YXU6Ilx1MDNDNCIsdXBzaWxvbjoiXHUwM0M1IixwaGk6Ilx1MDNDNiIsY2hpOiJcdTAzQzciLHBzaToiXHUwM0M4IixvbWVnYToiXHUwM0M5Iix0aGV0YXN5bToiXHUwM0QxIix1cHNpaDoiXHUwM0QyIixwaXY6Ilx1MDNENiIsT0VsaWc6Ilx1MDE1MiIsb2VsaWc6Ilx1MDE1MyIsU2Nhcm9uOiJcdTAxNjAiLHNjYXJvbjoiXHUwMTYxIixZdW1sOiJcdTAxNzgiLGZub2Y6Ilx1MDE5MiIsY2lyYzoiXHUwMkM2Iix0aWxkZToiXHUwMkRDIixlbnNwOiJcdTIwMDIiLGVtc3A6Ilx1MjAwMyIsdGhpbnNwOiJcdTIwMDkiLHp3bmo6Ilx1MjAwQyIsendqOiJcdTIwMEQiLGxybToiXHUyMDBFIixybG06Ilx1MjAwRiIsbmRhc2g6Ilx1MjAxMyIsbWRhc2g6Ilx1MjAxNCIsbHNxdW86Ilx1MjAxOCIscnNxdW86Ilx1MjAxOSIsc2JxdW86Ilx1MjAxQSIsbGRxdW86Ilx1MjAxQyIscmRxdW86Ilx1MjAxRCIsYmRxdW86Ilx1MjAxRSIsZGFnZ2VyOiJcdTIwMjAiLERhZ2dlcjoiXHUyMDIxIixidWxsOiJcdTIwMjIiLGhlbGxpcDoiXHUyMDI2IixwZXJtaWw6Ilx1MjAzMCIscHJpbWU6Ilx1MjAzMiIsUHJpbWU6Ilx1MjAzMyIsbHNhcXVvOiJcdTIwMzkiLHJzYXF1bzoiXHUyMDNBIixvbGluZToiXHUyMDNFIixldXJvOiJcdTIwQUMiLHRyYWRlOiJcdTIxMjIiLGxhcnI6Ilx1MjE5MCIsdWFycjoiXHUyMTkxIixyYXJyOiJcdTIxOTIiLGRhcnI6Ilx1MjE5MyIsaGFycjoiXHUyMTk0IixjcmFycjoiXHUyMUI1IixsY2VpbDoiXHUyMzA4IixyY2VpbDoiXHUyMzA5IixsZmxvb3I6Ilx1MjMwQSIscmZsb29yOiJcdTIzMEIiLGxvejoiXHUyNUNBIixzcGFkZXM6Ilx1MjY2MCIsY2x1YnM6Ilx1MjY2MyIsaGVhcnRzOiJcdTI2NjUiLGRpYW1zOiJcdTI2NjYifSksdC5lbnRpdHlNYXA9dC5IVE1MX0VOVElUSUVTfSkocGkpO3ZhciBaZT17fSxhZT1tdC5OQU1FU1BBQ0UsWWU9L1tBLVpfYS16XHhDMC1ceEQ2XHhEOC1ceEY2XHUwMEY4LVx1MDJGRlx1MDM3MC1cdTAzN0RcdTAzN0YtXHUxRkZGXHUyMDBDLVx1MjAwRFx1MjA3MC1cdTIxOEZcdTJDMDAtXHUyRkVGXHUzMDAxLVx1RDdGRlx1RjkwMC1cdUZEQ0ZcdUZERjAtXHVGRkZEXS8sbWk9bmV3IFJlZ0V4cCgiW1xcLVxcLjAtOSIrWWUuc291cmNlLnNsaWNlKDEsLTEpKyJcXHUwMEI3XFx1MDMwMC1cXHUwMzZGXFx1MjAzRi1cXHUyMDQwXSIpLGRpPW5ldyBSZWdFeHAoIl4iK1llLnNvdXJjZSttaS5zb3VyY2UrIiooPzo6IitZZS5zb3VyY2UrbWkuc291cmNlKyIqKT8kIiksbmU9MCxkdD0xLGt0PTIscmU9MyxSdD00LEx0PTUsaGU9NixJZT03O2Z1bmN0aW9uIHF0KHQsZSl7dGhpcy5tZXNzYWdlPXQsdGhpcy5sb2NhdG9yPWUsRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UmJkVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMscXQpfXF0LnByb3RvdHlwZT1uZXcgRXJyb3IscXQucHJvdG90eXBlLm5hbWU9cXQubmFtZTtmdW5jdGlvbiBNaSgpe31NaS5wcm90b3R5cGU9e3BhcnNlOmZ1bmN0aW9uKHQsZSxzKXt2YXIgaT10aGlzLmRvbUJ1aWxkZXI7aS5zdGFydERvY3VtZW50KCkseGkoZSxlPXt9KSxFbyh0LGUscyxpLHRoaXMuZXJyb3JIYW5kbGVyKSxpLmVuZERvY3VtZW50KCl9fTtmdW5jdGlvbiBFbyh0LGUscyxpLGEpe2Z1bmN0aW9uIG4oSSl7aWYoST42NTUzNSl7SS09NjU1MzY7dmFyIFI9NTUyOTYrKEk+PjEwKSx1ZT01NjMyMCsoSSYxMDIzKTtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShSLHVlKX1lbHNlIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKEkpfWZ1bmN0aW9uIGgoSSl7dmFyIFI9SS5zbGljZSgxLC0xKTtyZXR1cm4gT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwocyxSKT9zW1JdOlIuY2hhckF0KDApPT09IiMiP24ocGFyc2VJbnQoUi5zdWJzdHIoMSkucmVwbGFjZSgieCIsIjB4IikpKTooYS5lcnJvcigiZW50aXR5IG5vdCBmb3VuZDoiK0kpLEkpfWZ1bmN0aW9uIHIoSSl7aWYoST5kKXt2YXIgUj10LnN1YnN0cmluZyhkLEkpLnJlcGxhY2UoLyYjP1x3KzsvZyxoKTtmJiZvKGQpLGkuY2hhcmFjdGVycyhSLDAsSS1kKSxkPUl9fWZ1bmN0aW9uIG8oSSxSKXtmb3IoO0k+PWwmJihSPWMuZXhlYyh0KSk7KXU9Ui5pbmRleCxsPXUrUlswXS5sZW5ndGgsZi5saW5lTnVtYmVyKys7Zi5jb2x1bW5OdW1iZXI9SS11KzF9Zm9yKHZhciB1PTAsbD0wLGM9Ly4qKD86XHJcbj98XG4pfC4qJC9nLGY9aS5sb2NhdG9yLHA9W3tjdXJyZW50TlNNYXA6ZX1dLG09e30sZD0wOzspe3RyeXt2YXIgTT10LmluZGV4T2YoIjwiLGQpO2lmKE08MCl7aWYoIXQuc3Vic3RyKGQpLm1hdGNoKC9eXHMqJC8pKXt2YXIgeD1pLmRvYyxiPXguY3JlYXRlVGV4dE5vZGUodC5zdWJzdHIoZCkpO3guYXBwZW5kQ2hpbGQoYiksaS5jdXJyZW50RWxlbWVudD1ifXJldHVybn1zd2l0Y2goTT5kJiZyKE0pLHQuY2hhckF0KE0rMSkpe2Nhc2UiLyI6dmFyIFA9dC5pbmRleE9mKCI+IixNKzMpLHY9dC5zdWJzdHJpbmcoTSsyLFApLnJlcGxhY2UoL1sgXHRcblxyXSskL2csIiIpLEU9cC5wb3AoKTtQPDA/KHY9dC5zdWJzdHJpbmcoTSsyKS5yZXBsYWNlKC9bXHM8XS4qLywiIiksYS5lcnJvcigiZW5kIHRhZyBuYW1lOiAiK3YrIiBpcyBub3QgY29tcGxldGU6IitFLnRhZ05hbWUpLFA9TSsxK3YubGVuZ3RoKTp2Lm1hdGNoKC9cczwvKSYmKHY9di5yZXBsYWNlKC9bXHM8XS4qLywiIiksYS5lcnJvcigiZW5kIHRhZyBuYW1lOiAiK3YrIiBtYXliZSBub3QgY29tcGxldGUiKSxQPU0rMSt2Lmxlbmd0aCk7dmFyIEE9RS5sb2NhbE5TTWFwLEM9RS50YWdOYW1lPT12LFQ9Q3x8RS50YWdOYW1lJiZFLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09di50b0xvd2VyQ2FzZSgpO2lmKFQpe2lmKGkuZW5kRWxlbWVudChFLnVyaSxFLmxvY2FsTmFtZSx2KSxBKWZvcih2YXIgdyBpbiBBKWkuZW5kUHJlZml4TWFwcGluZyh3KTtDfHxhLmZhdGFsRXJyb3IoImVuZCB0YWcgbmFtZTogIit2KyIgaXMgbm90IG1hdGNoIHRoZSBjdXJyZW50IHN0YXJ0IHRhZ05hbWU6IitFLnRhZ05hbWUpfWVsc2UgcC5wdXNoKEUpO1ArKzticmVhaztjYXNlIj8iOmYmJm8oTSksUD1Jbyh0LE0saSk7YnJlYWs7Y2FzZSIhIjpmJiZvKE0pLFA9U28odCxNLGksYSk7YnJlYWs7ZGVmYXVsdDpmJiZvKE0pO3ZhciBTPW5ldyBfaSxPPXBbcC5sZW5ndGgtMV0uY3VycmVudE5TTWFwLFA9d28odCxNLFMsTyxoLGEpLG50PVMubGVuZ3RoO2lmKCFTLmNsb3NlZCYmQ28odCxQLFMudGFnTmFtZSxtKSYmKFMuY2xvc2VkPSEwLHMubmJzcHx8YS53YXJuaW5nKCJ1bmNsb3NlZCB4bWwgYXR0cmlidXRlIikpLGYmJm50KXtmb3IodmFyIF90PWdpKGYse30pLGV0PTA7ZXQ8bnQ7ZXQrKyl7dmFyIEZ0PVNbZXRdO28oRnQub2Zmc2V0KSxGdC5sb2NhdG9yPWdpKGYse30pfWkubG9jYXRvcj1fdCx5aShTLGksTykmJnAucHVzaChTKSxpLmxvY2F0b3I9Zn1lbHNlIHlpKFMsaSxPKSYmcC5wdXNoKFMpO2FlLmlzSFRNTChTLnVyaSkmJiFTLmNsb3NlZD9QPUFvKHQsUCxTLnRhZ05hbWUsaCxpKTpQKyt9fWNhdGNoKEkpe2lmKEkgaW5zdGFuY2VvZiBxdCl0aHJvdyBJO2EuZXJyb3IoImVsZW1lbnQgcGFyc2UgZXJyb3I6ICIrSSksUD0tMX1QPmQ/ZD1QOnIoTWF0aC5tYXgoTSxkKSsxKX19ZnVuY3Rpb24gZ2kodCxlKXtyZXR1cm4gZS5saW5lTnVtYmVyPXQubGluZU51bWJlcixlLmNvbHVtbk51bWJlcj10LmNvbHVtbk51bWJlcixlfWZ1bmN0aW9uIHdvKHQsZSxzLGksYSxuKXtmdW5jdGlvbiBoKGYscCxtKXtzLmF0dHJpYnV0ZU5hbWVzLmhhc093blByb3BlcnR5KGYpJiZuLmZhdGFsRXJyb3IoIkF0dHJpYnV0ZSAiK2YrIiByZWRlZmluZWQiKSxzLmFkZFZhbHVlKGYscC5yZXBsYWNlKC9bXHRcblxyXS9nLCIgIikucmVwbGFjZSgvJiM/XHcrOy9nLGEpLG0pfWZvcih2YXIgcixvLHU9KytlLGw9bmU7Oyl7dmFyIGM9dC5jaGFyQXQodSk7c3dpdGNoKGMpe2Nhc2UiPSI6aWYobD09PWR0KXI9dC5zbGljZShlLHUpLGw9cmU7ZWxzZSBpZihsPT09a3QpbD1yZTtlbHNlIHRocm93IG5ldyBFcnJvcigiYXR0cmlidXRlIGVxdWFsIG11c3QgYWZ0ZXIgYXR0ck5hbWUiKTticmVhaztjYXNlIiciOmNhc2UnIic6aWYobD09PXJlfHxsPT09ZHQpaWYobD09PWR0JiYobi53YXJuaW5nKCdhdHRyaWJ1dGUgdmFsdWUgbXVzdCBhZnRlciAiPSInKSxyPXQuc2xpY2UoZSx1KSksZT11KzEsdT10LmluZGV4T2YoYyxlKSx1PjApbz10LnNsaWNlKGUsdSksaChyLG8sZS0xKSxsPUx0O2Vsc2UgdGhyb3cgbmV3IEVycm9yKCJhdHRyaWJ1dGUgdmFsdWUgbm8gZW5kICciK2MrIicgbWF0Y2giKTtlbHNlIGlmKGw9PVJ0KW89dC5zbGljZShlLHUpLGgocixvLGUpLG4ud2FybmluZygnYXR0cmlidXRlICInK3IrJyIgbWlzc2VkIHN0YXJ0IHF1b3QoJytjKyIpISEiKSxlPXUrMSxsPUx0O2Vsc2UgdGhyb3cgbmV3IEVycm9yKCdhdHRyaWJ1dGUgdmFsdWUgbXVzdCBhZnRlciAiPSInKTticmVhaztjYXNlIi8iOnN3aXRjaChsKXtjYXNlIG5lOnMuc2V0VGFnTmFtZSh0LnNsaWNlKGUsdSkpO2Nhc2UgTHQ6Y2FzZSBoZTpjYXNlIEllOmw9SWUscy5jbG9zZWQ9ITA7Y2FzZSBSdDpjYXNlIGR0OmNhc2Uga3Q6YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoImF0dHJpYnV0ZSBpbnZhbGlkIGNsb3NlIGNoYXIoJy8nKSIpfWJyZWFrO2Nhc2UiIjpyZXR1cm4gbi5lcnJvcigidW5leHBlY3RlZCBlbmQgb2YgaW5wdXQiKSxsPT1uZSYmcy5zZXRUYWdOYW1lKHQuc2xpY2UoZSx1KSksdTtjYXNlIj4iOnN3aXRjaChsKXtjYXNlIG5lOnMuc2V0VGFnTmFtZSh0LnNsaWNlKGUsdSkpO2Nhc2UgTHQ6Y2FzZSBoZTpjYXNlIEllOmJyZWFrO2Nhc2UgUnQ6Y2FzZSBkdDpvPXQuc2xpY2UoZSx1KSxvLnNsaWNlKC0xKT09PSIvIiYmKHMuY2xvc2VkPSEwLG89by5zbGljZSgwLC0xKSk7Y2FzZSBrdDpsPT09a3QmJihvPXIpLGw9PVJ0PyhuLndhcm5pbmcoJ2F0dHJpYnV0ZSAiJytvKyciIG1pc3NlZCBxdW90KCIpIScpLGgocixvLGUpKTooKCFhZS5pc0hUTUwoaVsiIl0pfHwhby5tYXRjaCgvXig/OmRpc2FibGVkfGNoZWNrZWR8c2VsZWN0ZWQpJC9pKSkmJm4ud2FybmluZygnYXR0cmlidXRlICInK28rJyIgbWlzc2VkIHZhbHVlISEgIicrbysnIiBpbnN0ZWFkISEnKSxoKG8sbyxlKSk7YnJlYWs7Y2FzZSByZTp0aHJvdyBuZXcgRXJyb3IoImF0dHJpYnV0ZSB2YWx1ZSBtaXNzZWQhISIpfXJldHVybiB1O2Nhc2UiXHg4MCI6Yz0iICI7ZGVmYXVsdDppZihjPD0iICIpc3dpdGNoKGwpe2Nhc2UgbmU6cy5zZXRUYWdOYW1lKHQuc2xpY2UoZSx1KSksbD1oZTticmVhaztjYXNlIGR0OnI9dC5zbGljZShlLHUpLGw9a3Q7YnJlYWs7Y2FzZSBSdDp2YXIgbz10LnNsaWNlKGUsdSk7bi53YXJuaW5nKCdhdHRyaWJ1dGUgIicrbysnIiBtaXNzZWQgcXVvdCgiKSEhJyksaChyLG8sZSk7Y2FzZSBMdDpsPWhlO2JyZWFrfWVsc2Ugc3dpdGNoKGwpe2Nhc2Uga3Q6cy50YWdOYW1lLCghYWUuaXNIVE1MKGlbIiJdKXx8IXIubWF0Y2goL14oPzpkaXNhYmxlZHxjaGVja2VkfHNlbGVjdGVkKSQvaSkpJiZuLndhcm5pbmcoJ2F0dHJpYnV0ZSAiJytyKyciIG1pc3NlZCB2YWx1ZSEhICInK3IrJyIgaW5zdGVhZDIhIScpLGgocixyLGUpLGU9dSxsPWR0O2JyZWFrO2Nhc2UgTHQ6bi53YXJuaW5nKCdhdHRyaWJ1dGUgc3BhY2UgaXMgcmVxdWlyZWQiJytyKyciISEnKTtjYXNlIGhlOmw9ZHQsZT11O2JyZWFrO2Nhc2UgcmU6bD1SdCxlPXU7YnJlYWs7Y2FzZSBJZTp0aHJvdyBuZXcgRXJyb3IoImVsZW1lbnRzIGNsb3NlZCBjaGFyYWN0ZXIgJy8nIGFuZCAnPicgbXVzdCBiZSBjb25uZWN0ZWQgdG8iKX19dSsrfX1mdW5jdGlvbiB5aSh0LGUscyl7Zm9yKHZhciBpPXQudGFnTmFtZSxhPW51bGwsbj10Lmxlbmd0aDtuLS07KXt2YXIgaD10W25dLHI9aC5xTmFtZSxvPWgudmFsdWUsZj1yLmluZGV4T2YoIjoiKTtpZihmPjApdmFyIHU9aC5wcmVmaXg9ci5zbGljZSgwLGYpLGw9ci5zbGljZShmKzEpLGM9dT09PSJ4bWxucyImJmw7ZWxzZSBsPXIsdT1udWxsLGM9cj09PSJ4bWxucyImJiIiO2gubG9jYWxOYW1lPWwsYyE9PSExJiYoYT09bnVsbCYmKGE9e30seGkocyxzPXt9KSksc1tjXT1hW2NdPW8saC51cmk9YWUuWE1MTlMsZS5zdGFydFByZWZpeE1hcHBpbmcoYyxvKSl9Zm9yKHZhciBuPXQubGVuZ3RoO24tLTspe2g9dFtuXTt2YXIgdT1oLnByZWZpeDt1JiYodT09PSJ4bWwiJiYoaC51cmk9YWUuWE1MKSx1IT09InhtbG5zIiYmKGgudXJpPXNbdXx8IiJdKSl9dmFyIGY9aS5pbmRleE9mKCI6Iik7Zj4wPyh1PXQucHJlZml4PWkuc2xpY2UoMCxmKSxsPXQubG9jYWxOYW1lPWkuc2xpY2UoZisxKSk6KHU9bnVsbCxsPXQubG9jYWxOYW1lPWkpO3ZhciBwPXQudXJpPXNbdXx8IiJdO2lmKGUuc3RhcnRFbGVtZW50KHAsbCxpLHQpLHQuY2xvc2VkKXtpZihlLmVuZEVsZW1lbnQocCxsLGkpLGEpZm9yKHUgaW4gYSllLmVuZFByZWZpeE1hcHBpbmcodSl9ZWxzZSByZXR1cm4gdC5jdXJyZW50TlNNYXA9cyx0LmxvY2FsTlNNYXA9YSwhMH1mdW5jdGlvbiBBbyh0LGUscyxpLGEpe2lmKC9eKD86c2NyaXB0fHRleHRhcmVhKSQvaS50ZXN0KHMpKXt2YXIgbj10LmluZGV4T2YoIjwvIitzKyI+IixlKSxoPXQuc3Vic3RyaW5nKGUrMSxuKTtpZigvWyY8XS8udGVzdChoKSlyZXR1cm4vXnNjcmlwdCQvaS50ZXN0KHMpPyhhLmNoYXJhY3RlcnMoaCwwLGgubGVuZ3RoKSxuKTooaD1oLnJlcGxhY2UoLyYjP1x3KzsvZyxpKSxhLmNoYXJhY3RlcnMoaCwwLGgubGVuZ3RoKSxuKX1yZXR1cm4gZSsxfWZ1bmN0aW9uIENvKHQsZSxzLGkpe3ZhciBhPWlbc107cmV0dXJuIGE9PW51bGwmJihhPXQubGFzdEluZGV4T2YoIjwvIitzKyI+IiksYTxlJiYoYT10Lmxhc3RJbmRleE9mKCI8LyIrcykpLGlbc109YSksYTxlfWZ1bmN0aW9uIHhpKHQsZSl7Zm9yKHZhciBzIGluIHQpZVtzXT10W3NdfWZ1bmN0aW9uIFNvKHQsZSxzLGkpe3ZhciBhPXQuY2hhckF0KGUrMik7c3dpdGNoKGEpe2Nhc2UiLSI6aWYodC5jaGFyQXQoZSszKT09PSItIil7dmFyIG49dC5pbmRleE9mKCItLT4iLGUrNCk7cmV0dXJuIG4+ZT8ocy5jb21tZW50KHQsZSs0LG4tZS00KSxuKzMpOihpLmVycm9yKCJVbmNsb3NlZCBjb21tZW50IiksLTEpfWVsc2UgcmV0dXJuLTE7ZGVmYXVsdDppZih0LnN1YnN0cihlKzMsNik9PSJDREFUQVsiKXt2YXIgbj10LmluZGV4T2YoIl1dPiIsZSs5KTtyZXR1cm4gcy5zdGFydENEQVRBKCkscy5jaGFyYWN0ZXJzKHQsZSs5LG4tZS05KSxzLmVuZENEQVRBKCksbiszfXZhciBoPVRvKHQsZSkscj1oLmxlbmd0aDtpZihyPjEmJi8hZG9jdHlwZS9pLnRlc3QoaFswXVswXSkpe3ZhciBvPWhbMV1bMF0sdT0hMSxsPSExO3I+MyYmKC9ecHVibGljJC9pLnRlc3QoaFsyXVswXSk/KHU9aFszXVswXSxsPXI+NCYmaFs0XVswXSk6L15zeXN0ZW0kL2kudGVzdChoWzJdWzBdKSYmKGw9aFszXVswXSkpO3ZhciBjPWhbci0xXTtyZXR1cm4gcy5zdGFydERURChvLHUsbCkscy5lbmREVEQoKSxjLmluZGV4K2NbMF0ubGVuZ3RofX1yZXR1cm4tMX1mdW5jdGlvbiBJbyh0LGUscyl7dmFyIGk9dC5pbmRleE9mKCI/PiIsZSk7aWYoaSl7dmFyIGE9dC5zdWJzdHJpbmcoZSxpKS5tYXRjaCgvXjxcPyhcUyopXHMqKFtcc1xTXSo/KVxzKiQvKTtyZXR1cm4gYT8oYVswXS5sZW5ndGgscy5wcm9jZXNzaW5nSW5zdHJ1Y3Rpb24oYVsxXSxhWzJdKSxpKzIpOi0xfXJldHVybi0xfWZ1bmN0aW9uIF9pKCl7dGhpcy5hdHRyaWJ1dGVOYW1lcz17fX1faS5wcm90b3R5cGU9e3NldFRhZ05hbWU6ZnVuY3Rpb24odCl7aWYoIWRpLnRlc3QodCkpdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIHRhZ05hbWU6Iit0KTt0aGlzLnRhZ05hbWU9dH0sYWRkVmFsdWU6ZnVuY3Rpb24odCxlLHMpe2lmKCFkaS50ZXN0KHQpKXRocm93IG5ldyBFcnJvcigiaW52YWxpZCBhdHRyaWJ1dGU6Iit0KTt0aGlzLmF0dHJpYnV0ZU5hbWVzW3RdPXRoaXMubGVuZ3RoLHRoaXNbdGhpcy5sZW5ndGgrK109e3FOYW1lOnQsdmFsdWU6ZSxvZmZzZXQ6c319LGxlbmd0aDowLGdldExvY2FsTmFtZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpc1t0XS5sb2NhbE5hbWV9LGdldExvY2F0b3I6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXNbdF0ubG9jYXRvcn0sZ2V0UU5hbWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXNbdF0ucU5hbWV9LGdldFVSSTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpc1t0XS51cml9LGdldFZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzW3RdLnZhbHVlfX07ZnVuY3Rpb24gVG8odCxlKXt2YXIgcyxpPVtdLGE9LydbXiddKyd8IlteIl0rInxbXlxzPD5cLz1dKz0/fChcLz9ccyo+fDwpL2c7Zm9yKGEubGFzdEluZGV4PWUsYS5leGVjKHQpO3M9YS5leGVjKHQpOylpZihpLnB1c2gocyksc1sxXSlyZXR1cm4gaX1aZS5YTUxSZWFkZXI9TWksWmUuUGFyc2VFcnJvcj1xdDt2YXIgT289bXQsUG89cHQsdmk9cGksYmk9WmUsRG89UG8uRE9NSW1wbGVtZW50YXRpb24sTmk9T28uTkFNRVNQQUNFLGtvPWJpLlBhcnNlRXJyb3IsUm89YmkuWE1MUmVhZGVyO2Z1bmN0aW9uIEVpKHQpe3JldHVybiB0LnJlcGxhY2UoL1xyW1xuXHUwMDg1XS9nLGAKYCkucmVwbGFjZSgvW1xyXHUwMDg1XHUyMDI4XS9nLGAKYCl9ZnVuY3Rpb24gd2kodCl7dGhpcy5vcHRpb25zPXR8fHtsb2NhdG9yOnt9fX13aS5wcm90b3R5cGUucGFyc2VGcm9tU3RyaW5nPWZ1bmN0aW9uKHQsZSl7dmFyIHM9dGhpcy5vcHRpb25zLGk9bmV3IFJvLGE9cy5kb21CdWlsZGVyfHxuZXcgb2Usbj1zLmVycm9ySGFuZGxlcixoPXMubG9jYXRvcixyPXMueG1sbnN8fHt9LG89L1wveD9odG1sPyQvLnRlc3QoZSksdT1vP3ZpLkhUTUxfRU5USVRJRVM6dmkuWE1MX0VOVElUSUVTO2gmJmEuc2V0RG9jdW1lbnRMb2NhdG9yKGgpLGkuZXJyb3JIYW5kbGVyPUxvKG4sYSxoKSxpLmRvbUJ1aWxkZXI9cy5kb21CdWlsZGVyfHxhLG8mJihyWyIiXT1OaS5IVE1MKSxyLnhtbD1yLnhtbHx8TmkuWE1MO3ZhciBsPXMubm9ybWFsaXplTGluZUVuZGluZ3N8fEVpO3JldHVybiB0JiZ0eXBlb2YgdD09InN0cmluZyI/aS5wYXJzZShsKHQpLHIsdSk6aS5lcnJvckhhbmRsZXIuZXJyb3IoImludmFsaWQgZG9jIHNvdXJjZSIpLGEuZG9jfTtmdW5jdGlvbiBMbyh0LGUscyl7aWYoIXQpe2lmKGUgaW5zdGFuY2VvZiBvZSlyZXR1cm4gZTt0PWV9dmFyIGk9e30sYT10IGluc3RhbmNlb2YgRnVuY3Rpb247cz1zfHx7fTtmdW5jdGlvbiBuKGgpe3ZhciByPXRbaF07IXImJmEmJihyPXQubGVuZ3RoPT0yP2Z1bmN0aW9uKG8pe3QoaCxvKX06dCksaVtoXT1yJiZmdW5jdGlvbihvKXtyKCJbeG1sZG9tICIraCsiXQkiK28rdHMocykpfXx8ZnVuY3Rpb24oKXt9fXJldHVybiBuKCJ3YXJuaW5nIiksbigiZXJyb3IiKSxuKCJmYXRhbEVycm9yIiksaX1mdW5jdGlvbiBvZSgpe3RoaXMuY2RhdGE9ITF9ZnVuY3Rpb24gQnQodCxlKXtlLmxpbmVOdW1iZXI9dC5saW5lTnVtYmVyLGUuY29sdW1uTnVtYmVyPXQuY29sdW1uTnVtYmVyfW9lLnByb3RvdHlwZT17c3RhcnREb2N1bWVudDpmdW5jdGlvbigpe3RoaXMuZG9jPW5ldyBEbygpLmNyZWF0ZURvY3VtZW50KG51bGwsbnVsbCxudWxsKSx0aGlzLmxvY2F0b3ImJih0aGlzLmRvYy5kb2N1bWVudFVSST10aGlzLmxvY2F0b3Iuc3lzdGVtSWQpfSxzdGFydEVsZW1lbnQ6ZnVuY3Rpb24odCxlLHMsaSl7dmFyIGE9dGhpcy5kb2Msbj1hLmNyZWF0ZUVsZW1lbnROUyh0LHN8fGUpLGg9aS5sZW5ndGg7VGUodGhpcyxuKSx0aGlzLmN1cnJlbnRFbGVtZW50PW4sdGhpcy5sb2NhdG9yJiZCdCh0aGlzLmxvY2F0b3Isbik7Zm9yKHZhciByPTA7cjxoO3IrKyl7dmFyIHQ9aS5nZXRVUkkociksbz1pLmdldFZhbHVlKHIpLHM9aS5nZXRRTmFtZShyKSx1PWEuY3JlYXRlQXR0cmlidXRlTlModCxzKTt0aGlzLmxvY2F0b3ImJkJ0KGkuZ2V0TG9jYXRvcihyKSx1KSx1LnZhbHVlPXUubm9kZVZhbHVlPW8sbi5zZXRBdHRyaWJ1dGVOb2RlKHUpfX0sZW5kRWxlbWVudDpmdW5jdGlvbih0LGUscyl7dmFyIGk9dGhpcy5jdXJyZW50RWxlbWVudDtpLnRhZ05hbWUsdGhpcy5jdXJyZW50RWxlbWVudD1pLnBhcmVudE5vZGV9LHN0YXJ0UHJlZml4TWFwcGluZzpmdW5jdGlvbih0LGUpe30sZW5kUHJlZml4TWFwcGluZzpmdW5jdGlvbih0KXt9LHByb2Nlc3NpbmdJbnN0cnVjdGlvbjpmdW5jdGlvbih0LGUpe3ZhciBzPXRoaXMuZG9jLmNyZWF0ZVByb2Nlc3NpbmdJbnN0cnVjdGlvbih0LGUpO3RoaXMubG9jYXRvciYmQnQodGhpcy5sb2NhdG9yLHMpLFRlKHRoaXMscyl9LGlnbm9yYWJsZVdoaXRlc3BhY2U6ZnVuY3Rpb24odCxlLHMpe30sY2hhcmFjdGVyczpmdW5jdGlvbih0LGUscyl7aWYodD1BaS5hcHBseSh0aGlzLGFyZ3VtZW50cyksdCl7aWYodGhpcy5jZGF0YSl2YXIgaT10aGlzLmRvYy5jcmVhdGVDREFUQVNlY3Rpb24odCk7ZWxzZSB2YXIgaT10aGlzLmRvYy5jcmVhdGVUZXh0Tm9kZSh0KTt0aGlzLmN1cnJlbnRFbGVtZW50P3RoaXMuY3VycmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoaSk6L15ccyokLy50ZXN0KHQpJiZ0aGlzLmRvYy5hcHBlbmRDaGlsZChpKSx0aGlzLmxvY2F0b3ImJkJ0KHRoaXMubG9jYXRvcixpKX19LHNraXBwZWRFbnRpdHk6ZnVuY3Rpb24odCl7fSxlbmREb2N1bWVudDpmdW5jdGlvbigpe3RoaXMuZG9jLm5vcm1hbGl6ZSgpfSxzZXREb2N1bWVudExvY2F0b3I6ZnVuY3Rpb24odCl7KHRoaXMubG9jYXRvcj10KSYmKHQubGluZU51bWJlcj0wKX0sY29tbWVudDpmdW5jdGlvbih0LGUscyl7dD1BaS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGk9dGhpcy5kb2MuY3JlYXRlQ29tbWVudCh0KTt0aGlzLmxvY2F0b3ImJkJ0KHRoaXMubG9jYXRvcixpKSxUZSh0aGlzLGkpfSxzdGFydENEQVRBOmZ1bmN0aW9uKCl7dGhpcy5jZGF0YT0hMH0sZW5kQ0RBVEE6ZnVuY3Rpb24oKXt0aGlzLmNkYXRhPSExfSxzdGFydERURDpmdW5jdGlvbih0LGUscyl7dmFyIGk9dGhpcy5kb2MuaW1wbGVtZW50YXRpb247aWYoaSYmaS5jcmVhdGVEb2N1bWVudFR5cGUpe3ZhciBhPWkuY3JlYXRlRG9jdW1lbnRUeXBlKHQsZSxzKTt0aGlzLmxvY2F0b3ImJkJ0KHRoaXMubG9jYXRvcixhKSxUZSh0aGlzLGEpLHRoaXMuZG9jLmRvY3R5cGU9YX19LHdhcm5pbmc6ZnVuY3Rpb24odCl7Y29uc29sZS53YXJuKCJbeG1sZG9tIHdhcm5pbmddCSIrdCx0cyh0aGlzLmxvY2F0b3IpKX0sZXJyb3I6ZnVuY3Rpb24odCl7Y29uc29sZS5lcnJvcigiW3htbGRvbSBlcnJvcl0JIit0LHRzKHRoaXMubG9jYXRvcikpfSxmYXRhbEVycm9yOmZ1bmN0aW9uKHQpe3Rocm93IG5ldyBrbyh0LHRoaXMubG9jYXRvcil9fTtmdW5jdGlvbiB0cyh0KXtpZih0KXJldHVybmAKQGArKHQuc3lzdGVtSWR8fCIiKSsiI1tsaW5lOiIrdC5saW5lTnVtYmVyKyIsY29sOiIrdC5jb2x1bW5OdW1iZXIrIl0ifWZ1bmN0aW9uIEFpKHQsZSxzKXtyZXR1cm4gdHlwZW9mIHQ9PSJzdHJpbmciP3Quc3Vic3RyKGUscyk6dC5sZW5ndGg+PWUrc3x8ZT9uZXcgamF2YS5sYW5nLlN0cmluZyh0LGUscykrIiI6dH0iZW5kRFRELHN0YXJ0RW50aXR5LGVuZEVudGl0eSxhdHRyaWJ1dGVEZWNsLGVsZW1lbnREZWNsLGV4dGVybmFsRW50aXR5RGVjbCxpbnRlcm5hbEVudGl0eURlY2wscmVzb2x2ZUVudGl0eSxnZXRFeHRlcm5hbFN1YnNldCxub3RhdGlvbkRlY2wsdW5wYXJzZWRFbnRpdHlEZWNsIi5yZXBsYWNlKC9cdysvZyxmdW5jdGlvbih0KXtvZS5wcm90b3R5cGVbdF09ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19KTtmdW5jdGlvbiBUZSh0LGUpe3QuY3VycmVudEVsZW1lbnQ/dC5jdXJyZW50RWxlbWVudC5hcHBlbmRDaGlsZChlKTp0LmRvYy5hcHBlbmRDaGlsZChlKX1TZS5fX0RPTUhhbmRsZXI9b2UsU2Uubm9ybWFsaXplTGluZUVuZGluZ3M9RWksU2UuRE9NUGFyc2VyPXdpO3ZhciBxbz1TZS5ET01QYXJzZXI7ZnVuY3Rpb24gQm8odCxlPXt4OjAseTowLHo6MH0scyxpKXtsZXQgYSxuO3MmJmkmJihhPUsocyxpKSxuPWEuZm9yd2FyZChbZS54LGUueSxlLnpdKSk7Y29uc3QgaD1uZXcgcW8oKS5wYXJzZUZyb21TdHJpbmcodCwidGV4dC94bWwiKS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiU3VyZmFjZXMiKSxyPVtdO2ZvcihsZXQgbz0wO288aC5sZW5ndGg7bysrKXtjb25zdCB1PWguaXRlbShvKTtpZighdSljb250aW51ZTtjb25zdCBsPVtdLGM9W10sZj1bXSxwPXUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIkJyZWFrbGluZSIpO2ZvcihsZXQgVD0wO1Q8cC5sZW5ndGg7VCsrKXtjb25zdCB3PXAuaXRlbShUKTtpZighdyljb250aW51ZTtjb25zdCBTPXcuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIkZlYXR1cmUiKSxPPVM9PW51bGw/dm9pZCAwOlMuaXRlbSgwKTtsZXQgUD17fTtpZihPJiZPLmdldEF0dHJpYnV0ZSgic291cmNlIik9PT0iaW5mcmFtb2RlbCIpe2NvbnN0IEk9Ty5nZXRFbGVtZW50c0J5VGFnTmFtZSgiUHJvcGVydHkiKTtpZighSSljb250aW51ZTtmb3IobGV0IFI9MDtSPEkubGVuZ3RoO1IrKyl7Y29uc3QgdWU9SS5pdGVtKFIpO2lmKCF1ZSljb250aW51ZTtjb25zdCBDaT11ZS5nZXRBdHRyaWJ1dGUoImxhYmVsIiksU2k9dWUuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpO0NpJiZTaSYmKFBbQ2ldPVNpKX19Y29uc3QgbnQ9dy5nZXRFbGVtZW50c0J5VGFnTmFtZSgiUG50TGlzdDNEIik7aWYoIW50KWNvbnRpbnVlO2NvbnN0IF90PW50Lml0ZW0oMCk7aWYoIV90fHwhX3QudGV4dENvbnRlbnQpY29udGludWU7Y29uc3QgZXQ9X3QudGV4dENvbnRlbnQuc3BsaXQoIiAiKS5tYXAoST0+cGFyc2VGbG9hdChJKSksRnQ9W107Zm9yKGxldCBJPTA7STxldC5sZW5ndGg7SSs9Myl7bGV0IFI7YT8oUj1hLmZvcndhcmQoW2V0W0krMV0sZXRbSSswXSxldFtJKzJdXSksUj1bUlswXS1uWzBdLFJbMV0tblsxXSxSWzJdLW5bMl1dKTpSPVtldFtJKzFdLWUueCxldFtJKzBdLWUueSxldFtJKzJdLWUuel0sRnQucHVzaChSKX1GdC5sZW5ndGg+MCYmZi5wdXNoKHtjb29yZGluYXRlczpGdCxwcm9wZXJ0aWVzOlB9KX1jb25zdCBtPXUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIlBudHMiKTtpZighbSljb250aW51ZTtjb25zdCBkPW0uaXRlbSgwKTtpZighZCljb250aW51ZTtjb25zdCBNPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIlAiKTtpZighTSljb250aW51ZTtsZXQgeD17fTtmb3IobGV0IFQ9MDtUPE0ubGVuZ3RoO1QrKyl7Y29uc3Qgdz1NLml0ZW0oVCk7aWYoIXcpY29udGludWU7Y29uc3QgUz13LmdldEF0dHJpYnV0ZSgiaWQiKTtpZighU3x8IXcudGV4dENvbnRlbnQpY29udGludWU7eFtTXT1UO2xldCBPPXcudGV4dENvbnRlbnQuc3BsaXQoIiAiKS5tYXAoUD0+cGFyc2VGbG9hdChQKSk7YT8oTz1hLmZvcndhcmQoW09bMV0sT1swXSxPWzJdXSksTz1bT1swXS1uWzBdLE9bMV0tblsxXSxPWzJdLW5bMl1dKTpPPVtPWzFdLWUueCxPWzBdLWUueSxPWzJdLWUuel0sbC5wdXNoKE8pfWNvbnN0IGI9dS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiRmFjZXMiKTtpZighYiljb250aW51ZTtjb25zdCB2PWIuaXRlbSgwKTtpZighdiljb250aW51ZTtjb25zdCBFPXYuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIkYiKTtpZighRSljb250aW51ZTtmb3IobGV0IFQ9MDtUPEUubGVuZ3RoO1QrKyl7Y29uc3Qgdz1FLml0ZW0oVCk7IXd8fCF3LnRleHRDb250ZW50fHx3LmdldEF0dHJpYnV0ZSgiaSIpIT09IjEiJiZjLnB1c2goWy4uLncudGV4dENvbnRlbnQuc3BsaXQoIiAiKS5tYXAoUz0+eFtTXSldKX1sZXQgQT17fTtjb25zdCBDPXUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIkZlYXR1cmUiKS5pdGVtKDApO2lmKEMmJkMuZ2V0QXR0cmlidXRlKCJzb3VyY2UiKT09PSJpbmZyYW1vZGVsIil7Y29uc3QgVD1DLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJQcm9wZXJ0eSIpO2lmKCFUKWNvbnRpbnVlO2ZvcihsZXQgdz0wO3c8VC5sZW5ndGg7dysrKXtjb25zdCBTPVQuaXRlbSh3KTtpZighUyljb250aW51ZTtjb25zdCBPPVMuZ2V0QXR0cmlidXRlKCJsYWJlbCIpLFA9Uy5nZXRBdHRyaWJ1dGUoInZhbHVlIik7TyYmUCYmKEFbT109UCl9fXIucHVzaCh7dGluOntwcm9wZXJ0aWVzOkEsdmVydGljZXM6bCxmYWNlczpjfSxsaW5lczpmfSl9cmV0dXJuIHJ9ZnVuY3Rpb24gRm8odCl7Y29uc3QgZT10LmRhdGEueG1sU3RyLHM9dC5kYXRhLm9mZnNldCxpPXQuZGF0YS5wcm9qSW4sYT10LmRhdGEucHJvak91dCxuPXtzdXJmYWNlczpCbyhlLHMsaSxhKX07cG9zdE1lc3NhZ2Uobil9b25tZXNzYWdlPUZvfSksT2k9VGkoKTtyZXR1cm4gT2l9KCk7Cgo=",null,!1),fM=(t,i,e)=>new Promise((s,n)=>{var l=o=>{try{a(e.next(o))}catch(c){n(c)}},r=o=>{try{a(e.throw(o))}catch(c){n(c)}},a=o=>o.done?s(o.value):Promise.resolve(o.value).then(l,r);a((e=e.apply(t,i)).next())});const qp=t=>{let i=0;for(let s=0;s<t.length;s++)i=t.charCodeAt(s)+((i<<5)-i);let e="#";for(let s=0;s<3;s++){const n=i>>s*8&255;e+=("00"+n.toString(16)).slice(-2)}return new it(e)};function tq(t,i){return fM(this,null,function*(){return new Promise(e=>{const s=new $6;s.onmessage=l=>{s.terminate(),e(l.data.surfaces)};const n={xmlStr:t,offset:i.offset,projIn:i.projIn,projOut:i.projOut};s.postMessage(n)})})}function eq(t,i){return fM(this,null,function*(){const e=yield fetch(t);if(!e.ok)return console.error(`Failed to load LandXML url: ${t}`),[];const s=yield e.text(),n=yield tq(s,i);let l=[];for(let r of n){const a=new Si;r.lines.forEach(h=>{let d=new it("#ffffff");h.properties&&h.properties.terrainCoding&&(d=qp(h.properties.terrainCoding));const u=ZZ(h.coordinates,d);u.userData.properties=h.properties,a.add(u)});let o=new it("#eeeeee");r.tin.properties&&r.tin.properties.terrainCoding?o=qp(r.tin.properties.terrainCoding):r.tin.properties&&r.tin.properties.surfaceCoding&&(o=qp(r.tin.properties.surfaceCoding));const c=XZ(r.tin.vertices,r.tin.faces,o,void 0,void 0,{isInteractive:!1,isPickable:!0});c.userData.properties=r.tin.properties,a.add(c),l.push(a)}return l})}var sq=Object.defineProperty,iq=(t,i,e)=>i in t?sq(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e,td=(t,i,e)=>(iq(t,typeof i!="symbol"?i+"":i,e),e);class nq{constructor(i){td(this,"_pointer",0),td(this,"_eof",!1),td(this,"lastReadGroup"),td(this,"_data"),this._data=i}next(){if(!this.hasNext())throw this._eof?new Error("Cannot call 'next' after EOF group has been read"):new Error("Unexpected end of input: EOF group not read before end of file. Ended on code "+this._data[this._pointer]);const i={code:parseInt(this._data[this._pointer])};return this._pointer++,i.value=VM(i.code,this._data[this._pointer].trim()),this._pointer++,i.code===0&&i.value==="EOF"&&(this._eof=!0),this.lastReadGroup=i,i}peek(){if(!this.hasNext())throw this._eof?new Error("Cannot call 'next' after EOF group has been read"):new Error("Unexpected end of input: EOF group not read before end of file. Ended on code "+this._data[this._pointer]);const i={code:parseInt(this._data[this._pointer])};return i.value=VM(i.code,this._data[this._pointer+1].trim()),i}rewind(i=1){this._pointer=this._pointer-i*2}hasNext(){return!(this._eof||this._pointer>this._data.length-2)}isEOF(){return this._eof}}function VM(t,i){return t<=9?i:t>=10&&t<=59?parseFloat(i):t>=60&&t<=99?parseInt(i):t>=100&&t<=109?i:t>=110&&t<=149?parseFloat(i):t>=160&&t<=179?parseInt(i):t>=210&&t<=239?parseFloat(i):t>=270&&t<=289?parseInt(i):t>=290&&t<=299?lq(i):t>=300&&t<=369?i:t>=370&&t<=389?parseInt(i):t>=390&&t<=399?i:t>=400&&t<=409?parseInt(i):t>=410&&t<=419?i:t>=420&&t<=429?parseInt(i):t>=430&&t<=439?i:t>=440&&t<=459?parseInt(i):t>=460&&t<=469?parseFloat(i):t>=470&&t<=481||t===999||t>=1e3&&t<=1009?i:t>=1010&&t<=1059?parseFloat(i):t>=1060&&t<=1071?parseInt(i):(console.log("WARNING: Group code does not have a defined type: %j",{code:t,value:i}),i)}function lq(t){if(t==="0")return!1;if(t==="1")return!0;throw TypeError("String '"+t+"' cannot be cast to Boolean type")}var xM=[0,16711680,16776960,65280,65535,255,16711935,16777215,8421504,12632256,16711680,16744319,13369344,13395558,10027008,10046540,8323072,8339263,4980736,4990502,16727808,16752511,13382400,13401958,10036736,10051404,8331008,8343359,4985600,4992806,16744192,16760703,13395456,13408614,10046464,10056268,8339200,8347455,4990464,4995366,16760576,16768895,13408512,13415014,10056192,10061132,8347392,8351551,4995328,4997670,16776960,16777087,13421568,13421670,10000384,10000460,8355584,8355647,5000192,5000230,12582656,14679935,10079232,11717734,7510016,8755276,6258432,7307071,3755008,4344870,8388352,12582783,6736896,10079334,5019648,7510092,4161280,6258495,2509824,3755046,4194048,10485631,3394560,8375398,2529280,6264908,2064128,5209919,1264640,3099686,65280,8388479,52224,6736998,38912,5019724,32512,4161343,19456,2509862,65343,8388511,52275,6737023,38950,5019743,32543,4161359,19475,2509871,65407,8388543,52326,6737049,38988,5019762,32575,4161375,19494,2509881,65471,8388575,52377,6737074,39026,5019781,32607,4161391,19513,2509890,65535,8388607,52428,6737100,39064,5019800,32639,4161407,19532,2509900,49151,8380415,39372,6730444,29336,5014936,24447,4157311,14668,2507340,32767,8372223,26316,6724044,19608,5010072,16255,4153215,9804,2505036,16383,8364031,13260,6717388,9880,5005208,8063,4149119,4940,2502476,255,8355839,204,6710988,152,5000344,127,4145023,76,2500172,4129023,10452991,3342540,8349388,2490520,6245528,2031743,5193599,1245260,3089996,8323327,12550143,6684876,10053324,4980888,7490712,4128895,6242175,2490444,3745356,12517631,14647295,10027212,11691724,7471256,8735896,6226047,7290751,3735628,4335180,16711935,16744447,13369548,13395660,9961624,9981080,8323199,8339327,4980812,4990540,16711871,16744415,13369497,13395634,9961586,9981061,8323167,8339311,4980793,4990530,16711807,16744383,13369446,13395609,9961548,9981042,8323135,8339295,4980774,4990521,16711743,16744351,13369395,13395583,9961510,9981023,8323103,8339279,4980755,4990511,3355443,5987163,8684676,11382189,14079702,16777215];function rq(t){return xM[t]}function Ie(t){const i={};t.rewind();let e=t.next(),s=e.code;if(i.x=e.value,s+=10,e=t.next(),e.code!=s)throw new Error("Expected code for point value to be "+s+" but got "+e.code+".");return i.y=e.value,s+=10,e=t.next(),e.code!=s?(t.rewind(),i):(i.z=e.value,i)}function aq(t,i){t.rewind();const e=[];for(let s=0;s<16;s++){const n=t.next();if(n.code!==i)throw new Error("Expected code for matrix value to be "+i+" but got "+n.code+".");e.push(n.value)}return e}function Js(t,i,e){switch(i.code){case 0:t.type=i.value;break;case 5:t.handle=i.value;break;case 6:t.lineType=i.value;break;case 8:t.layer=i.value;break;case 48:t.lineTypeScale=i.value;break;case 60:t.visible=i.value===0;break;case 62:t.colorIndex=i.value,t.color=rq(Math.abs(i.value));break;case 67:t.inPaperSpace=i.value!==0;break;case 100:break;case 101:for(;i.code!=0;)i=e.next();e.rewind();break;case 330:t.ownerHandle=i.value;break;case 347:t.materialObjectHandle=i.value;break;case 370:t.lineweight=i.value;break;case 420:t.color=i.value;break;case 1e3:t.extendedData=t.extendedData||{},t.extendedData.customStrings=t.extendedData.customStrings||[],t.extendedData.customStrings.push(i.value);break;case 1001:t.extendedData=t.extendedData||{},t.extendedData.applicationName=i.value;break;default:return!1}return!0}var oq=Object.defineProperty,cq=(t,i,e)=>i in t?oq(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e,hq=(t,i,e)=>(cq(t,typeof i!="symbol"?i+"":i,e),e);class dq{constructor(){hq(this,"ForEntityName","3DFACE")}parseEntity(i,e){const s={type:e.value,vertices:[]};for(e=i.next();!i.isEOF()&&e.code!==0;){switch(e.code){case 70:s.shape=(e.value&1)===1,s.hasContinuousLinetypePattern=(e.value&128)===128;break;case 10:s.vertices=uq(i,e),e=i.lastReadGroup;break;default:Js(s,e,i);break}e=i.next()}return s}}function uq(t,i){var e=[],s=!1,n=!1,l=4;for(let a=0;a<=l;a++){for(var r={};!t.isEOF()&&!(i.code===0||n);){switch(i.code){case 10:case 11:case 12:case 13:if(s){n=!0;continue}r.x=i.value,s=!0;break;case 20:case 21:case 22:case 23:r.y=i.value;break;case 30:case 31:case 32:case 33:r.z=i.value;break;default:return e}i=t.next()}e.push(r),s=!1,n=!1}return t.rewind(),e}var pq=Object.defineProperty,mq=(t,i,e)=>i in t?pq(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e,bq=(t,i,e)=>(mq(t,typeof i!="symbol"?i+"":i,e),e);class yq{constructor(){bq(this,"ForEntityName","ARC")}parseEntity(i,e){const s={type:e.value};for(e=i.next();!i.isEOF()&&e.code!==0;){switch(e.code){case 10:s.center=Ie(i);break;case 40:s.radius=e.value;break;case 50:s.startAngle=Math.PI/180*e.value;break;case 51:s.endAngle=Math.PI/180*e.value,s.angleLength=s.endAngle-s.startAngle;break;case 210:s.extrusionDirectionX=e.value;break;case 220:s.extrusionDirectionY=e.value;break;case 230:s.extrusionDirectionZ=e.value;break;default:Js(s,e,i);break}e=i.next()}return s}}var Gq=Object.defineProperty,Zq=(t,i,e)=>i in t?Gq(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e,Xq=(t,i,e)=>(Zq(t,typeof i!="symbol"?i+"":i,e),e);class Tq{constructor(){Xq(this,"ForEntityName","ATTDEF")}parseEntity(i,e){var s={type:e.value,scale:1,textStyle:"STANDARD"};for(e=i.next();!i.isEOF()&&e.code!==0;){switch(e.code){case 1:s.text=e.value;break;case 2:s.tag=e.value;break;case 3:s.prompt=e.value;break;case 7:s.textStyle=e.value;break;case 10:s.startPoint=Ie(i);break;case 11:s.endPoint=Ie(i);break;case 39:s.thickness=e.value;break;case 40:s.textHeight=e.value;break;case 41:s.scale=e.value;break;case 50:s.rotation=e.value;break;case 51:s.obliqueAngle=e.value;break;case 70:s.invisible=!!(e.value&1),s.constant=!!(e.value&2),s.verificationRequired=!!(e.value&4),s.preset=!!(e.value&8);break;case 71:s.backwards=!!(e.value&2),s.mirrored=!!(e.value&4);break;case 72:s.horizontalJustification=e.value;break;case 73:s.fieldLength=e.value;break;case 74:s.verticalJustification=e.value;break;case 100:break;case 210:s.extrusionDirectionX=e.value;break;case 220:s.extrusionDirectionY=e.value;break;case 230:s.extrusionDirectionZ=e.value;break;default:Js(s,e,i);break}e=i.next()}return s}}var Rq=Object.defineProperty,Iq=(t,i,e)=>i in t?Rq(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e,gq=(t,i,e)=>(Iq(t,typeof i!="symbol"?i+"":i,e),e);class Wq{constructor(){gq(this,"ForEntityName","CIRCLE")}parseEntity(i,e){const s={type:e.value};for(e=i.next();!i.isEOF()&&e.code!==0;){switch(e.code){case 10:s.center=Ie(i);break;case 40:s.radius=e.value;break;case 50:s.startAngle=Math.PI/180*e.value;break;case 51:const n=Math.PI/180*e.value;n<s.startAngle?s.angleLength=n+2*Math.PI-s.startAngle:s.angleLength=n-s.startAngle,s.endAngle=n;break;default:Js(s,e,i);break}e=i.next()}return s}}var Lq=Object.defineProperty,Sq=(t,i,e)=>i in t?Lq(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e,Cq=(t,i,e)=>(Sq(t,typeof i!="symbol"?i+"":i,e),e);class fq{constructor(){Cq(this,"ForEntityName","DIMENSION")}parseEntity(i,e){const s={type:e.value};for(e=i.next();!i.isEOF()&&e.code!==0;){switch(e.code){case 2:s.block=e.value;break;case 10:s.anchorPoint=Ie(i);break;case 11:s.middleOfText=Ie(i);break;case 12:s.insertionPoint=Ie(i);break;case 13:s.linearOrAngularPoint1=Ie(i);break;case 14:s.linearOrAngularPoint2=Ie(i);break;case 15:s.diameterOrRadiusPoint=Ie(i);break;case 16:s.arcPoint=Ie(i);break;case 70:s.dimensionType=e.value;break;case 71:s.attachmentPoint=e.value;break;case 42:s.actualMeasurement=e.value;break;case 1:s.text=e.value;break;case 50:s.angle=e.value;break;default:Js(s,e,i);break}e=i.next()}return s}}var Vq=Object.defineProperty,xq=(t,i,e)=>i in t?Vq(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e,Nq=(t,i,e)=>(xq(t,typeof i!="symbol"?i+"":i,e),e);class Fq{constructor(){Nq(this,"ForEntityName","MULTILEADER")}parseEntity(i,e){const s={type:e.value};s.contextData={leaders:[]},e=i.next();function n(){for(;!i.isEOF();){switch(e.code){case 0:return;case 340:s.leaderStyleId=e.value;break;case 170:s.leaderLineType=e.value;break;case 91:s.leaderLineColor=e.value;break;case 341:s.leaderLineTypeId=e.value;break;case 171:s.leaderLineWeight=e.value;break;case 41:s.doglegLength=e.value;break;case 290:s.enableLanding=e.value;break;case 291:s.enableDogLeg=e.value;break;case 342:s.arrowHeadId=e.value;break;case 42:s.arrowHeadSize=e.value;break;case 172:s.contentType=e.value;break;case 173:s.textLeftAttachmentType=e.value;break;case 95:s.textLeftAttachmentType=e.value;break;case 174:s.textAngleType=e.value;break;case 175:s.textAlignmentType=e.value;break;case 343:s.textStyleId=e.value;break;case 92:s.textColor=e.value;break;case 292:s.enableFrameText=e.value;break;case 344:s.blockContentId=e.value;break;case 93:s.blockContentColor=e.value;break;case 10:s.blockContentScale=Ie(i);break;case 43:s.blockContentRotation=e.value;break;case 176:s.blockContentConnectionType=e.value;break;case 293:s.enableAnotationScale=e.value;break;case 94:s.arrowHeadIndex=e.value;break;case 330:s.blockAttributeId=e.value;break;case 177:s.blockAttributeIndex=e.value;break;case 44:s.blockAttributeWidth=e.value;break;case 302:s.blockAttributeTextString=e.value;break;case 294:s.textDirectionNegative=e.value;break;case 178:s.textAlignInIPE=e.value;break;case 179:s.textAttachmentPoint=e.value;break;case 271:s.textAttachmentDirectionMText=e.value;break;case 272:s.textAttachmentDirectionBottom=e.value;break;case 273:s.textAttachmentDirectionTop=e.value;break;case 300:l();break;default:Js(s,e,i);break}e=i.next()}}function l(){for(;!i.isEOF();){switch(e.code){case 40:s.contextData.contentScale=e.value;break;case 10:s.contextData.contentBasePosition=Ie(i);break;case 145:s.contextData.landingGap=e.value;break;case 290:s.contextData.hasMText=e.value;break;case 304:s.contextData.defaultTextContents=e.value;break;case 11:s.contextData.textNormalDirection=Ie(i);break;case 12:s.contextData.textLocation=Ie(i);break;case 13:s.contextData.textDirection=Ie(i);break;case 140:s.contextData.arrowHeadSize=e.value;break;case 41:s.contextData.textHeight=e.value;break;case 42:s.contextData.textRotation=e.value;break;case 43:s.contextData.textWidth=e.value;break;case 44:s.contextData.textHeight=e.value;break;case 45:s.contextData.textLineSpacingFactor=e.value;break;case 90:s.contextData.textColor=e.value;break;case 170:s.contextData.textLineSpacingStyle=e.value;break;case 171:s.contextData.textAttachment=e.value;break;case 172:s.contextData.textFlowDirection=e.value;break;case 141:s.contextData.textBackgroundScaleFactor=e.value;break;case 92:s.contextData.textBackgroundTransparency=e.value;break;case 291:s.contextData.textBackgroundColorOn=e.value;break;case 292:s.contextData.textBackgroundFillOn=e.value;break;case 293:s.contextData.textUseAutoHeight=e.value;break;case 173:s.contextData.textColumnType=e.value;break;case 142:s.contextData.textColumnWidth=e.value;break;case 143:s.contextData.textColumnGutterWidth=e.value;break;case 144:s.contextData.textColumnHeight=e.value;break;case 295:s.contextData.textUseWordBreak=e.value;break;case 296:s.contextData.hasBlock=e.value;break;case 341:s.contextData.blockContentId=e.value;break;case 14:s.contextData.blockContentNormalDirection=Ie(i);break;case 15:s.contextData.blockContentPosition=Ie(i);break;case 16:s.contextData.blockContentScale=e.value;break;case 46:s.contextData.blockContentRotation=e.value;break;case 93:s.contextData.blockContentColor=e.value;break;case 47:s.contextData.blockTransformationMatrix=aq(i,47);break;case 110:s.contextData.planeOriginPoint=Ie(i);break;case 111:s.contextData.planeXAxisDirection=Ie(i);break;case 112:s.contextData.planeYAxisDirection=Ie(i);break;case 297:s.contextData.planeNormalReversed=e.value;break;case 301:return;case 302:r();break}e=i.next()}}function r(){const o={leaderLines:[]};for(s.contextData.leaders.push(o);!i.isEOF();){switch(e.code){case 290:o.hasSetLastLeaderLinePoint=e.value;break;case 291:o.hasSetDoglegVector=e.value;break;case 10:o.lastLeaderLinePoint=Ie(i);break;case 11:o.doglegVector=Ie(i);break;case 90:o.leaderBranchIndex=e.value;break;case 40:o.doglegLength=e.value;break;case 303:return;case 304:a();break}e=i.next()}}function a(){const o=s.contextData.leaders[s.contextData.leaders.length-1],c={vertices:[[]]};for(o.leaderLines.push(c);!i.isEOF();){switch(e.code){case 10:c.vertices[0].push(Ie(i));break;case 305:return}e=i.next()}}return n(),s}}var Mq=Object.defineProperty,Yq=(t,i,e)=>i in t?Mq(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e,vq=(t,i,e)=>(Yq(t,typeof i!="symbol"?i+"":i,e),e);class Eq{constructor(){vq(this,"ForEntityName","ELLIPSE")}parseEntity(i,e){const s={type:e.value};for(e=i.next();!i.isEOF()&&e.code!==0;){switch(e.code){case 10:s.center=Ie(i);break;case 11:s.majorAxisEndPoint=Ie(i);break;case 40:s.axisRatio=e.value;break;case 41:s.startAngle=e.value;break;case 42:s.endAngle=e.value;break;case 2:s.name=e.value;break;default:Js(s,e,i);break}e=i.next()}return s}}var zq=Object.defineProperty,Hq=(t,i,e)=>i in t?zq(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e,Kq=(t,i,e)=>(Hq(t,typeof i!="symbol"?i+"":i,e),e);class wq{constructor(){Kq(this,"ForEntityName","INSERT")}parseEntity(i,e){const s={type:e.value};for(e=i.next();!i.isEOF()&&e.code!==0;){switch(e.code){case 2:s.name=e.value;break;case 41:s.xScale=e.value;break;case 42:s.yScale=e.value;break;case 43:s.zScale=e.value;break;case 10:s.position=Ie(i);break;case 50:s.rotation=e.value;break;case 70:s.columnCount=e.value;break;case 71:s.rowCount=e.value;break;case 44:s.columnSpacing=e.value;break;case 45:s.rowSpacing=e.value;break;case 210:s.extrusionDirection=Ie(i);break;default:Js(s,e,i);break}e=i.next()}return s}}var kq=Object.defineProperty,Pq=(t,i,e)=>i in t?kq(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e,Uq=(t,i,e)=>(Pq(t,typeof i!="symbol"?i+"":i,e),e);class Dq{constructor(){Uq(this,"ForEntityName","LINE")}parseEntity(i,e){const s={type:e.value,vertices:[]};for(e=i.next();!i.isEOF()&&e.code!==0;){switch(e.code){case 10:s.vertices.unshift(Ie(i));break;case 11:s.vertices.push(Ie(i));break;case 210:s.extrusionDirection=Ie(i);break;case 100:break;default:Js(s,e,i);break}e=i.next()}return s}}var Jq=Object.defineProperty,Oq=(t,i,e)=>i in t?Jq(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e,Bq=(t,i,e)=>(Oq(t,typeof i!="symbol"?i+"":i,e),e);class Aq{constructor(){Bq(this,"ForEntityName","LWPOLYLINE")}parseEntity(i,e){const s={type:e.value,vertices:[]};let n=0;for(e=i.next();!i.isEOF()&&e.code!==0;){switch(e.code){case 38:s.elevation=e.value;break;case 39:s.depth=e.value;break;case 70:s.shape=(e.value&1)===1,s.hasContinuousLinetypePattern=(e.value&128)===128;break;case 90:n=e.value;break;case 10:s.vertices=jq(n,i);break;case 43:e.value!==0&&(s.width=e.value);break;case 210:s.extrusionDirectionX=e.value;break;case 220:s.extrusionDirectionY=e.value;break;case 230:s.extrusionDirectionZ=e.value;break;default:Js(s,e,i);break}e=i.next()}return s}}function jq(t,i){if(!t||t<=0)throw Error("n must be greater than 0 verticies");const e=[];let s=!1,n=!1,l=i.lastReadGroup;for(let r=0;r<t;r++){const a={};for(;!i.isEOF()&&!(l.code===0||n);){switch(l.code){case 10:if(s){n=!0;continue}a.x=l.value,s=!0;break;case 20:a.y=l.value;break;case 30:a.z=l.value;break;case 40:a.startWidth=l.value;break;case 41:a.endWidth=l.value;break;case 42:l.value!=0&&(a.bulge=l.value);break;default:return i.rewind(),s&&e.push(a),i.rewind(),e}l=i.next()}e.push(a),s=!1,n=!1}return i.rewind(),e}var Qq=Object.defineProperty,_q=(t,i,e)=>i in t?Qq(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e,qq=(t,i,e)=>(_q(t,typeof i!="symbol"?i+"":i,e),e);class $q{constructor(){qq(this,"ForEntityName","MTEXT")}parseEntity(i,e){const s={type:e.value};for(e=i.next();!i.isEOF()&&e.code!==0;){switch(e.code){case 3:s.text?s.text+=e.value:s.text=e.value;break;case 1:s.text?s.text+=e.value:s.text=e.value;break;case 10:s.position=Ie(i);break;case 11:s.directionVector=Ie(i);break;case 40:s.height=e.value;break;case 41:s.width=e.value;break;case 50:s.rotation=e.value;break;case 71:s.attachmentPoint=e.value;break;case 72:s.drawingDirection=e.value;break;default:Js(s,e,i);break}e=i.next()}return s}}var t$=Object.defineProperty,e$=(t,i,e)=>i in t?t$(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e,s$=(t,i,e)=>(e$(t,typeof i!="symbol"?i+"":i,e),e);class i${constructor(){s$(this,"ForEntityName","POINT")}parseEntity(i,e){const n={type:e.value};for(e=i.next();!i.isEOF()&&e.code!==0;){switch(e.code){case 10:n.position=Ie(i);break;case 39:n.thickness=e.value;break;case 210:n.extrusionDirection=Ie(i);break;case 100:break;default:Js(n,e,i);break}e=i.next()}return n}}var n$=Object.defineProperty,l$=(t,i,e)=>i in t?n$(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e,r$=(t,i,e)=>(l$(t,typeof i!="symbol"?i+"":i,e),e);class a${constructor(){r$(this,"ForEntityName","VERTEX")}parseEntity(i,e){var s={type:e.value};for(e=i.next();!i.isEOF()&&e.code!==0;){switch(e.code){case 10:s.x=e.value;break;case 20:s.y=e.value;break;case 30:s.z=e.value;break;case 40:break;case 41:break;case 42:e.value!=0&&(s.bulge=e.value);break;case 70:s.curveFittingVertex=(e.value&1)!==0,s.curveFitTangent=(e.value&2)!==0,s.splineVertex=(e.value&8)!==0,s.splineControlPoint=(e.value&16)!==0,s.threeDPolylineVertex=(e.value&32)!==0,s.threeDPolylineMesh=(e.value&64)!==0,s.polyfaceMeshVertex=(e.value&128)!==0;break;case 50:break;case 71:s.faceA=e.value;break;case 72:s.faceB=e.value;break;case 73:s.faceC=e.value;break;case 74:s.faceD=e.value;break;default:Js(s,e,i);break}e=i.next()}return s}}var o$=Object.defineProperty,c$=(t,i,e)=>i in t?o$(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e,h$=(t,i,e)=>(c$(t,typeof i!="symbol"?i+"":i,e),e);class d${constructor(){h$(this,"ForEntityName","POLYLINE")}parseEntity(i,e){var s={type:e.value,vertices:[]};for(e=i.next();!i.isEOF()&&e.code!==0;){switch(e.code){case 10:break;case 20:break;case 30:break;case 39:s.thickness=e.value;break;case 40:break;case 41:break;case 70:s.shape=(e.value&1)!==0,s.includesCurveFitVertices=(e.value&2)!==0,s.includesSplineFitVertices=(e.value&4)!==0,s.is3dPolyline=(e.value&8)!==0,s.is3dPolygonMesh=(e.value&16)!==0,s.is3dPolygonMeshClosed=(e.value&32)!==0,s.isPolyfaceMesh=(e.value&64)!==0,s.hasContinuousLinetypePattern=(e.value&128)!==0;break;case 71:break;case 72:break;case 73:break;case 74:break;case 75:break;case 210:s.extrusionDirection=Ie(i);break;default:Js(s,e,i);break}e=i.next()}return s.vertices=u$(i,e),s}}function u$(t,i){const e=new a$,s=[];for(;!t.isEOF();)if(i.code===0){if(i.value==="VERTEX")s.push(e.parseEntity(t,i)),i=t.lastReadGroup;else if(i.value==="SEQEND"){p$(t,i);break}}return s}function p$(t,i){const e={type:i.value};for(i=t.next();!t.isEOF()&&i.code!=0;)Js(e,i,t),i=t.next();return e}var m$=Object.defineProperty,b$=(t,i,e)=>i in t?m$(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e,y$=(t,i,e)=>(b$(t,typeof i!="symbol"?i+"":i,e),e);class G${constructor(){y$(this,"ForEntityName","SOLID")}parseEntity(i,e){const s={type:e.value,points:[]};for(e=i.next();!i.isEOF()&&e.code!==0;){switch(e.code){case 10:s.points[0]=Ie(i);break;case 11:s.points[1]=Ie(i);break;case 12:s.points[2]=Ie(i);break;case 13:s.points[3]=Ie(i);break;case 210:s.extrusionDirection=Ie(i);break;default:Js(s,e,i);break}e=i.next()}return s}}var Z$=Object.defineProperty,X$=(t,i,e)=>i in t?Z$(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e,T$=(t,i,e)=>(X$(t,typeof i!="symbol"?i+"":i,e),e);class R${constructor(){T$(this,"ForEntityName","SPLINE")}parseEntity(i,e){const s={type:e.value};for(e=i.next();!i.isEOF()&&e.code!==0;){switch(e.code){case 10:s.controlPoints||(s.controlPoints=[]),s.controlPoints.push(Ie(i));break;case 11:s.fitPoints||(s.fitPoints=[]),s.fitPoints.push(Ie(i));break;case 12:s.startTangent=Ie(i);break;case 13:s.endTangent=Ie(i);break;case 40:s.knotValues||(s.knotValues=[]),s.knotValues.push(e.value);break;case 70:(e.value&1)!=0&&(s.closed=!0),(e.value&2)!=0&&(s.periodic=!0),(e.value&4)!=0&&(s.rational=!0),(e.value&8)!=0&&(s.planar=!0),(e.value&16)!=0&&(s.planar=!0,s.linear=!0);break;case 71:s.degreeOfSplineCurve=e.value;break;case 72:s.numberOfKnots=e.value;break;case 73:s.numberOfControlPoints=e.value;break;case 74:s.numberOfFitPoints=e.value;break;case 210:s.normalVector=Ie(i);break;default:Js(s,e,i);break}e=i.next()}return s}}var I$=Object.defineProperty,g$=(t,i,e)=>i in t?I$(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e,W$=(t,i,e)=>(g$(t,typeof i!="symbol"?i+"":i,e),e);class L${constructor(){W$(this,"ForEntityName","TEXT")}parseEntity(i,e){const s={type:e.value};for(e=i.next();!i.isEOF()&&e.code!==0;){switch(e.code){case 10:s.startPoint=Ie(i);break;case 11:s.endPoint=Ie(i);break;case 40:s.textHeight=e.value;break;case 41:s.xScale=e.value;break;case 50:s.rotation=e.value;break;case 1:s.text=e.value;break;case 72:s.halign=e.value;break;case 73:s.valign=e.value;break;default:Js(s,e,i);break}e=i.next()}return s}}var NM={exports:{}};(function(t){(function(i,e){t.exports?t.exports=e():i.log=e()})(Ky,function(){var i=function(){},e="undefined",s=typeof window!==e&&typeof window.navigator!==e&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"];function l(X,R){var W=X[R];if(typeof W.bind=="function")return W.bind(X);try{return Function.prototype.bind.call(W,X)}catch{return function(){return Function.prototype.apply.apply(W,[X,arguments])}}}function r(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function a(X){return X==="debug"&&(X="log"),typeof console===e?!1:X==="trace"&&s?r:console[X]!==void 0?l(console,X):console.log!==void 0?l(console,"log"):i}function o(X,R){for(var W=0;W<n.length;W++){var S=n[W];this[S]=W<X?i:this.methodFactory(S,X,R)}this.log=this.debug}function c(X,R,W){return function(){typeof console!==e&&(o.call(this,R,W),this[X].apply(this,arguments))}}function h(X,R,W){return a(X)||c.apply(this,arguments)}function d(X,R,W){var S=this,F;R=R??"WARN";var M="loglevel";typeof X=="string"?M+=":"+X:typeof X=="symbol"&&(M=void 0);function N(q){var $=(n[q]||"silent").toUpperCase();if(!(typeof window===e||!M)){try{window.localStorage[M]=$;return}catch{}try{window.document.cookie=encodeURIComponent(M)+"="+$+";"}catch{}}}function E(){var q;if(!(typeof window===e||!M)){try{q=window.localStorage[M]}catch{}if(typeof q===e)try{var $=window.document.cookie,H=$.indexOf(encodeURIComponent(M)+"=");H!==-1&&(q=/^([^;]+)/.exec($.slice(H))[1])}catch{}return S.levels[q]===void 0&&(q=void 0),q}}function Y(){if(!(typeof window===e||!M)){try{window.localStorage.removeItem(M);return}catch{}try{window.document.cookie=encodeURIComponent(M)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}S.name=X,S.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},S.methodFactory=W||h,S.getLevel=function(){return F},S.setLevel=function(q,$){if(typeof q=="string"&&S.levels[q.toUpperCase()]!==void 0&&(q=S.levels[q.toUpperCase()]),typeof q=="number"&&q>=0&&q<=S.levels.SILENT){if(F=q,$!==!1&&N(q),o.call(S,q,X),typeof console===e&&q<S.levels.SILENT)return"No console available for logging"}else throw"log.setLevel() called with invalid level: "+q},S.setDefaultLevel=function(q){R=q,E()||S.setLevel(q,!1)},S.resetLevel=function(){S.setLevel(R,!1),Y()},S.enableAll=function(q){S.setLevel(S.levels.TRACE,q)},S.disableAll=function(q){S.setLevel(S.levels.SILENT,q)};var O=E();O==null&&(O=R),S.setLevel(O,!1)}var u=new d,p={};u.getLogger=function(R){if(typeof R!="symbol"&&typeof R!="string"||R==="")throw new TypeError("You must supply a name when creating a logger.");var W=p[R];return W||(W=p[R]=new d(R,u.getLevel(),u.methodFactory)),W};var Z=typeof window!==e?window.log:void 0;return u.noConflict=function(){return typeof window!==e&&window.log===u&&(window.log=Z),u},u.getLoggers=function(){return p},u.default=u,u})})(NM);var Je=NM.exports,S$=Object.defineProperty,C$=(t,i,e)=>i in t?S$(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e,f$=(t,i,e)=>(C$(t,typeof i!="symbol"?i+"":i,e),e);Je.setLevel("error");function V$(t){t.registerEntityHandler(dq),t.registerEntityHandler(yq),t.registerEntityHandler(Tq),t.registerEntityHandler(Wq),t.registerEntityHandler(fq),t.registerEntityHandler(Fq),t.registerEntityHandler(Eq),t.registerEntityHandler(wq),t.registerEntityHandler(Dq),t.registerEntityHandler(Aq),t.registerEntityHandler($q),t.registerEntityHandler(i$),t.registerEntityHandler(d$),t.registerEntityHandler(G$),t.registerEntityHandler(R$),t.registerEntityHandler(L$)}class x${constructor(){f$(this,"_entityHandlers",{}),V$(this)}parse(i){return typeof i=="string"?this._parse(i):(console.error("Cannot read dxf source of type `"+typeof i),null)}registerEntityHandler(i){const e=new i;this._entityHandlers[e.ForEntityName]=e}parseSync(i){return this.parse(i)}parseStream(i){let e="";const s=this;return new Promise((n,l)=>{i.on("data",r=>{e+=r}),i.on("end",()=>{try{n(s._parse(e))}catch(r){l(r)}}),i.on("error",r=>{l(r)})})}_parse(i){const e={};let s=0;const n=i.split(/\r\n|\r|\n/g),l=new nq(n);if(!l.hasNext())throw Error("Empty file");const r=this;let a;function o(){for(a=l.next();!l.isEOF();)if(a.code===0&&a.value==="SECTION"){if(a=l.next(),a.code!==2){console.error("Unexpected code %s after 0:SECTION",FM(a)),a=l.next();continue}a.value==="HEADER"?(Je.debug("> HEADER"),e.header=c(),Je.debug("<")):a.value==="BLOCKS"?(Je.debug("> BLOCKS"),e.blocks=h(),Je.debug("<")):a.value==="ENTITIES"?(Je.debug("> ENTITIES"),e.entities=F(!1),Je.debug("<")):a.value==="TABLES"?(Je.debug("> TABLES"),e.tables=u(),Je.debug("<")):a.value==="EOF"?Je.debug("EOF"):Je.warn("Skipping section '%s'",a.value)}else a=l.next()}function c(){let E=null,Y=null;const O={};for(a=l.next();;){if(Fn(a,0,"ENDSEC")){E&&(O[E]=Y);break}else a.code===9?(E&&(O[E]=Y),E=a.value):a.code===10?Y={x:a.value}:a.code===20?Y.y=a.value:a.code===30?Y.z=a.value:Y=a.value;a=l.next()}return a=l.next(),O}function h(){const E={};for(a=l.next();a.value!=="EOF"&&!Fn(a,0,"ENDSEC");)if(Fn(a,0,"BLOCK")){Je.debug("block {");const Y=d();Je.debug("}"),N(Y),Y.name?E[Y.name]=Y:Je.error('block with handle "'+Y.handle+'" is missing a name.')}else dr(a),a=l.next();return E}function d(){const E={};for(a=l.next();a.value!=="EOF";){switch(a.code){case 1:E.xrefPath=a.value,a=l.next();break;case 2:E.name=a.value,a=l.next();break;case 3:E.name2=a.value,a=l.next();break;case 5:E.handle=a.value,a=l.next();break;case 8:E.layer=a.value,a=l.next();break;case 10:E.position=M(a),a=l.next();break;case 67:E.paperSpace=!!(a.value&&a.value==1),a=l.next();break;case 70:a.value!=0&&(E.type=a.value),a=l.next();break;case 100:a=l.next();break;case 330:E.ownerHandle=a.value,a=l.next();break;case 0:if(a.value=="ENDBLK")break;E.entities=F(!0);break;default:dr(a),a=l.next()}if(Fn(a,0,"ENDBLK")){a=l.next();break}}return E}function u(){const E={};for(a=l.next();a.value!=="EOF"&&!Fn(a,0,"ENDSEC");)Fn(a,0,"TABLE")?(a=l.next(),S[a.value]?(Je.debug(a.value+" Table {"),E[S[a.value].tableName]=Z(a),Je.debug("}")):Je.debug("Unhandled Table "+a.value)):a=l.next();return a=l.next(),E}const p="ENDTAB";function Z(E){const Y=S[E.value],O={};let q=0;for(a=l.next();!Fn(a,0,p);)switch(a.code){case 5:O.handle=a.value,a=l.next();break;case 330:O.ownerHandle=a.value,a=l.next();break;case 100:a.value==="AcDbSymbolTable"||dr(a),a=l.next();break;case 70:q=a.value,a=l.next();break;case 0:a.value===Y.dxfSymbolName?O[Y.tableRecordsProperty]=Y.parseTableRecords():(dr(a),a=l.next());break;default:dr(a),a=l.next()}const $=O[Y.tableRecordsProperty];if($){let H=(()=>{if($.constructor===Array)return $.length;if(typeof $=="object")return Object.keys($).length})();q!==H&&Je.warn("Parsed "+H+" "+Y.dxfSymbolName+"'s but expected "+q)}return a=l.next(),O}function X(){const E=[];let Y={};for(Je.debug("ViewPort {"),a=l.next();!Fn(a,0,p);)switch(a.code){case 2:Y.name=a.value,a=l.next();break;case 10:Y.lowerLeftCorner=M(a),a=l.next();break;case 11:Y.upperRightCorner=M(a),a=l.next();break;case 12:Y.center=M(a),a=l.next();break;case 13:Y.snapBasePoint=M(a),a=l.next();break;case 14:Y.snapSpacing=M(a),a=l.next();break;case 15:Y.gridSpacing=M(a),a=l.next();break;case 16:Y.viewDirectionFromTarget=M(a),a=l.next();break;case 17:Y.viewTarget=M(a),a=l.next();break;case 42:Y.lensLength=a.value,a=l.next();break;case 43:Y.frontClippingPlane=a.value,a=l.next();break;case 44:Y.backClippingPlane=a.value,a=l.next();break;case 45:Y.viewHeight=a.value,a=l.next();break;case 50:Y.snapRotationAngle=a.value,a=l.next();break;case 51:Y.viewTwistAngle=a.value,a=l.next();break;case 79:Y.orthographicType=a.value,a=l.next();break;case 110:Y.ucsOrigin=M(a),a=l.next();break;case 111:Y.ucsXAxis=M(a),a=l.next();break;case 112:Y.ucsYAxis=M(a),a=l.next();break;case 110:Y.ucsOrigin=M(a),a=l.next();break;case 281:Y.renderMode=a.value,a=l.next();break;case 281:Y.defaultLightingType=a.value,a=l.next();break;case 292:Y.defaultLightingOn=a.value,a=l.next();break;case 330:Y.ownerHandle=a.value,a=l.next();break;case 63:case 421:case 431:Y.ambientColor=a.value,a=l.next();break;case 0:a.value==="VPORT"&&(Je.debug("}"),E.push(Y),Je.debug("ViewPort {"),Y={},a=l.next());break;default:dr(a),a=l.next();break}return Je.debug("}"),E.push(Y),E}function R(){const E={};let Y={},O=0,q;for(Je.debug("LType {"),a=l.next();!Fn(a,0,"ENDTAB");)switch(a.code){case 2:Y.name=a.value,q=a.value,a=l.next();break;case 3:Y.description=a.value,a=l.next();break;case 73:O=a.value,O>0&&(Y.pattern=[]),a=l.next();break;case 40:Y.patternLength=a.value,a=l.next();break;case 49:Y.pattern.push(a.value),a=l.next();break;case 0:Je.debug("}"),O>0&&O!==Y.pattern.length&&Je.warn("lengths do not match on LTYPE pattern"),E[q]=Y,Y={},Je.debug("LType {"),a=l.next();break;default:a=l.next()}return Je.debug("}"),E[q]=Y,E}function W(){const E={};let Y={},O;for(Je.debug("Layer {"),a=l.next();!Fn(a,0,"ENDTAB");)switch(a.code){case 2:Y.name=a.value,O=a.value,a=l.next();break;case 62:Y.visible=a.value>=0,Y.colorIndex=Math.abs(a.value),Y.color=N$(Y.colorIndex),a=l.next();break;case 70:Y.frozen=(a.value&1)!=0||(a.value&2)!=0,a=l.next();break;case 420:Y.color=Math.abs(a.value),a=l.next();break;case 0:a.value==="LAYER"&&(Je.debug("}"),E[O]=Y,Je.debug("Layer {"),Y={},O=void 0,a=l.next());break;default:dr(a),a=l.next();break}return Je.debug("}"),E[O]=Y,E}const S={VPORT:{tableRecordsProperty:"viewPorts",tableName:"viewPort",dxfSymbolName:"VPORT",parseTableRecords:X},LTYPE:{tableRecordsProperty:"lineTypes",tableName:"lineType",dxfSymbolName:"LTYPE",parseTableRecords:R},LAYER:{tableRecordsProperty:"layers",tableName:"layer",dxfSymbolName:"LAYER",parseTableRecords:W}};function F(E){const Y=[],O=E?"ENDBLK":"ENDSEC";for(E||(a=l.next());;)if(a.code===0){if(a.value===O)break;const q=r._entityHandlers[a.value];if(q!=null){Je.debug(a.value+" {");const $=q.parseEntity(l,a);a=l.lastReadGroup,Je.debug("}"),N($),Y.push($)}else{Je.warn("Unhandled entity "+a.value),a=l.next();continue}}else a=l.next();return O=="ENDSEC"&&(a=l.next()),Y}function M(E){const Y={};let O=E.code;if(Y.x=E.value,O+=10,E=l.next(),E.code!=O)throw new Error("Expected code for point value to be "+O+" but got "+E.code+".");return Y.y=E.value,O+=10,E=l.next(),E.code!=O?(l.rewind(),Y):(Y.z=E.value,Y)}function N(E){if(!E)throw new TypeError("entity cannot be undefined or null");E.handle||(E.handle=s++)}return o(),e}}function Fn(t,i,e){return t.code===i&&t.value===e}function dr(t){Je.debug("unhandled group "+FM(t))}function FM(t){return t.code+":"+t.value}function N$(t){return xM[t]}var MM=(t,i,e)=>new Promise((s,n)=>{var l=o=>{try{a(e.next(o))}catch(c){n(c)}},r=o=>{try{a(e.throw(o))}catch(c){n(c)}},a=o=>o.done?s(o.value):Promise.resolve(o.value).then(l,r);a((e=e.apply(t,i)).next())});function F$(t){return MM(this,null,function*(){try{return(yield fetch(t)).text()}catch{throw new Error("Failed to download file")}})}function M$(t){return MM(this,null,function*(){const i=new x$;try{const e=yield F$(t),s=i.parse(e);console.log("dxf",s)}catch(e){console.error(e.stack)}})}var Y$=Object.freeze({__proto__:null,loadLine:ZZ,loadMesh:XZ,loadIFC:q6,loadLandXML:eq,loadDXF:M$});fs.CameraControls=eZ,fs.ControlMode=Ci,fs.CustomMath=lU,fs.Modules=SG,fs.PhotoSpheres=Oy,fs.Photos=Py,fs.PointClouds=gG,fs.PointsceneEvents=ee,fs.Potree=nk,fs.TextSprite=rU,fs.Transformations=aU,fs.World=yZ,fs.default=GZ,fs.eulerToQuaternion=iU,fs.getPlane=nU,fs.init=GZ,fs.loaders=Y$,Object.defineProperty(fs,"__esModule",{value:!0})});
