(function(gs,Ai){typeof exports=="object"&&typeof module<"u"?Ai(exports):typeof define=="function"&&define.amd?define(["exports"],Ai):(gs=typeof globalThis<"u"?globalThis:gs||self,Ai(gs.Pointscene={}))})(this,function(gs){"use strict";const Ai="139",sE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},iE=0,nb=1,nE=2,rb=1,rE=2,_a=3,lr=0,fi=1,pi=2,lb=1,pn=0,Xl=1,Ic=2,ab=3,ob=4,lE=5,Wl=100,aE=101,oE=102,cb=103,hb=104,cE=200,hE=201,uE=202,dE=203,ub=204,db=205,pE=206,mE=207,bE=208,yE=209,ZE=210,GE=0,gE=1,TE=2,qa=3,IE=4,RE=5,fE=6,XE=7,Rc=0,WE=1,SE=2,wn=0,CE=1,VE=2,LE=3,FE=4,NE=5,pb=300,Sl=301,Cl=302,Vu=303,Lu=304,fc=306,Fu=1e3,Bi=1001,Nu=1002,us=1003,mb=1004,bb=1005,Ms=1006,xE=1007,Xc=1008,kr=1009,vE=1010,EE=1011,$a=1012,YE=1013,eo=1014,ar=1015,Vl=1016,ME=1017,wE=1018,Ll=1020,HE=1021,PE=1022,ri=1023,zE=1024,UE=1025,Dr=1026,Fl=1027,kE=1028,DE=1029,JE=1030,KE=1031,OE=1033,xu=33776,vu=33777,Eu=33778,Yu=33779,yb=35840,Zb=35841,Gb=35842,gb=35843,AE=36196,Tb=37492,Ib=37496,Rb=37808,fb=37809,Xb=37810,Wb=37811,Sb=37812,Cb=37813,Vb=37814,Lb=37815,Fb=37816,Nb=37817,xb=37818,vb=37819,Eb=37820,Yb=37821,Mb=36492,BE=2200,jE=2201,QE=2202,Wc=2300,Sc=2301,Mu=2302,Nl=2400,xl=2401,Cc=2402,wu=2500,wb=2501,_E=0,Hn=3e3,Ts=3001,qE=3200,$E=3201,vl=0,eY=1,Pn="srgb",Jr="srgb-linear",Hu=7680,tY=519,to=35044,Vc=35048,Hb="300 es",Pu=1035;class zn{addEventListener(i,t){this._listeners===void 0&&(this._listeners={});const s=this._listeners;s[i]===void 0&&(s[i]=[]),s[i].indexOf(t)===-1&&s[i].push(t)}hasEventListener(i,t){if(this._listeners===void 0)return!1;const s=this._listeners;return s[i]!==void 0&&s[i].indexOf(t)!==-1}removeEventListener(i,t){if(this._listeners===void 0)return;const n=this._listeners[i];if(n!==void 0){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}}dispatchEvent(i){if(this._listeners===void 0)return;const s=this._listeners[i.type];if(s!==void 0){i.target=this;const n=s.slice(0);for(let r=0,l=n.length;r<l;r++)n[r].call(this,i);i.target=null}}}const Os=[];for(let e=0;e<256;e++)Os[e]=(e<16?"0":"")+e.toString(16);let Pb=1234567;const so=Math.PI/180,io=180/Math.PI;function ji(){const e=Math.random()*4294967295|0,i=Math.random()*4294967295|0,t=Math.random()*4294967295|0,s=Math.random()*4294967295|0;return(Os[e&255]+Os[e>>8&255]+Os[e>>16&255]+Os[e>>24&255]+"-"+Os[i&255]+Os[i>>8&255]+"-"+Os[i>>16&15|64]+Os[i>>24&255]+"-"+Os[t&63|128]+Os[t>>8&255]+"-"+Os[t>>16&255]+Os[t>>24&255]+Os[s&255]+Os[s>>8&255]+Os[s>>16&255]+Os[s>>24&255]).toLowerCase()}function ws(e,i,t){return Math.max(i,Math.min(t,e))}function zu(e,i){return(e%i+i)%i}function sY(e,i,t,s,n){return s+(e-i)*(n-s)/(t-i)}function iY(e,i,t){return e!==i?(t-e)/(i-e):0}function no(e,i,t){return(1-t)*e+t*i}function nY(e,i,t,s){return no(e,i,1-Math.exp(-t*s))}function rY(e,i=1){return i-Math.abs(zu(e,i*2)-i)}function lY(e,i,t){return e<=i?0:e>=t?1:(e=(e-i)/(t-i),e*e*(3-2*e))}function aY(e,i,t){return e<=i?0:e>=t?1:(e=(e-i)/(t-i),e*e*e*(e*(e*6-15)+10))}function oY(e,i){return e+Math.floor(Math.random()*(i-e+1))}function cY(e,i){return e+Math.random()*(i-e)}function hY(e){return e*(.5-Math.random())}function uY(e){e!==void 0&&(Pb=e);let i=Pb+=1831565813;return i=Math.imul(i^i>>>15,i|1),i^=i+Math.imul(i^i>>>7,i|61),((i^i>>>14)>>>0)/4294967296}function dY(e){return e*so}function pY(e){return e*io}function Uu(e){return(e&e-1)===0&&e!==0}function mY(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function Lc(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function bY(e,i,t,s,n){const r=Math.cos,l=Math.sin,a=r(t/2),o=l(t/2),c=r((i+s)/2),h=l((i+s)/2),u=r((i-s)/2),d=l((i-s)/2),p=r((s-i)/2),G=l((s-i)/2);switch(n){case"XYX":e.set(a*h,o*u,o*d,a*c);break;case"YZY":e.set(o*d,a*h,o*u,a*c);break;case"ZXZ":e.set(o*u,o*d,a*h,a*c);break;case"XZX":e.set(a*h,o*G,o*p,a*c);break;case"YXY":e.set(o*p,a*h,o*G,a*c);break;case"ZYZ":e.set(o*G,o*p,a*h,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+n)}}function yY(e,i){switch(i.constructor){case Float32Array:return e;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function ZY(e,i){switch(i.constructor){case Float32Array:return e;case Uint16Array:return Math.round(e*65535);case Uint8Array:return Math.round(e*255);case Int16Array:return Math.round(e*32767);case Int8Array:return Math.round(e*127);default:throw new Error("Invalid component type.")}}var zb=Object.freeze({__proto__:null,DEG2RAD:so,RAD2DEG:io,generateUUID:ji,clamp:ws,euclideanModulo:zu,mapLinear:sY,inverseLerp:iY,lerp:no,damp:nY,pingpong:rY,smoothstep:lY,smootherstep:aY,randInt:oY,randFloat:cY,randFloatSpread:hY,seededRandom:uY,degToRad:dY,radToDeg:pY,isPowerOfTwo:Uu,ceilPowerOfTwo:mY,floorPowerOfTwo:Lc,setQuaternionFromProperEuler:bY,normalize:ZY,denormalize:yY});class Xe{constructor(i=0,t=0){this.x=i,this.y=t}get width(){return this.x}set width(i){this.x=i}get height(){return this.y}set height(i){this.y=i}set(i,t){return this.x=i,this.y=t,this}setScalar(i){return this.x=i,this.y=i,this}setX(i){return this.x=i,this}setY(i){return this.y=i,this}setComponent(i,t){switch(i){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+i)}return this}getComponent(i){switch(i){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+i)}}clone(){return new this.constructor(this.x,this.y)}copy(i){return this.x=i.x,this.y=i.y,this}add(i,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(i,t)):(this.x+=i.x,this.y+=i.y,this)}addScalar(i){return this.x+=i,this.y+=i,this}addVectors(i,t){return this.x=i.x+t.x,this.y=i.y+t.y,this}addScaledVector(i,t){return this.x+=i.x*t,this.y+=i.y*t,this}sub(i,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(i,t)):(this.x-=i.x,this.y-=i.y,this)}subScalar(i){return this.x-=i,this.y-=i,this}subVectors(i,t){return this.x=i.x-t.x,this.y=i.y-t.y,this}multiply(i){return this.x*=i.x,this.y*=i.y,this}multiplyScalar(i){return this.x*=i,this.y*=i,this}divide(i){return this.x/=i.x,this.y/=i.y,this}divideScalar(i){return this.multiplyScalar(1/i)}applyMatrix3(i){const t=this.x,s=this.y,n=i.elements;return this.x=n[0]*t+n[3]*s+n[6],this.y=n[1]*t+n[4]*s+n[7],this}min(i){return this.x=Math.min(this.x,i.x),this.y=Math.min(this.y,i.y),this}max(i){return this.x=Math.max(this.x,i.x),this.y=Math.max(this.y,i.y),this}clamp(i,t){return this.x=Math.max(i.x,Math.min(t.x,this.x)),this.y=Math.max(i.y,Math.min(t.y,this.y)),this}clampScalar(i,t){return this.x=Math.max(i,Math.min(t,this.x)),this.y=Math.max(i,Math.min(t,this.y)),this}clampLength(i,t){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(i,Math.min(t,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(i){return this.x*i.x+this.y*i.y}cross(i){return this.x*i.y-this.y*i.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(i){return Math.sqrt(this.distanceToSquared(i))}distanceToSquared(i){const t=this.x-i.x,s=this.y-i.y;return t*t+s*s}manhattanDistanceTo(i){return Math.abs(this.x-i.x)+Math.abs(this.y-i.y)}setLength(i){return this.normalize().multiplyScalar(i)}lerp(i,t){return this.x+=(i.x-this.x)*t,this.y+=(i.y-this.y)*t,this}lerpVectors(i,t,s){return this.x=i.x+(t.x-i.x)*s,this.y=i.y+(t.y-i.y)*s,this}equals(i){return i.x===this.x&&i.y===this.y}fromArray(i,t=0){return this.x=i[t],this.y=i[t+1],this}toArray(i=[],t=0){return i[t]=this.x,i[t+1]=this.y,i}fromBufferAttribute(i,t,s){return s!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=i.getX(t),this.y=i.getY(t),this}rotateAround(i,t){const s=Math.cos(t),n=Math.sin(t),r=this.x-i.x,l=this.y-i.y;return this.x=r*s-l*n+i.x,this.y=r*n+l*s+i.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}Xe.prototype.isVector2=!0;class Es{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(i,t,s,n,r,l,a,o,c){const h=this.elements;return h[0]=i,h[1]=n,h[2]=a,h[3]=t,h[4]=r,h[5]=o,h[6]=s,h[7]=l,h[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(i){const t=this.elements,s=i.elements;return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],this}extractBasis(i,t,s){return i.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),s.setFromMatrix3Column(this,2),this}setFromMatrix4(i){const t=i.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(i){return this.multiplyMatrices(this,i)}premultiply(i){return this.multiplyMatrices(i,this)}multiplyMatrices(i,t){const s=i.elements,n=t.elements,r=this.elements,l=s[0],a=s[3],o=s[6],c=s[1],h=s[4],u=s[7],d=s[2],p=s[5],G=s[8],g=n[0],I=n[3],X=n[6],S=n[1],x=n[4],v=n[7],L=n[2],M=n[5],E=n[8];return r[0]=l*g+a*S+o*L,r[3]=l*I+a*x+o*M,r[6]=l*X+a*v+o*E,r[1]=c*g+h*S+u*L,r[4]=c*I+h*x+u*M,r[7]=c*X+h*v+u*E,r[2]=d*g+p*S+G*L,r[5]=d*I+p*x+G*M,r[8]=d*X+p*v+G*E,this}multiplyScalar(i){const t=this.elements;return t[0]*=i,t[3]*=i,t[6]*=i,t[1]*=i,t[4]*=i,t[7]*=i,t[2]*=i,t[5]*=i,t[8]*=i,this}determinant(){const i=this.elements,t=i[0],s=i[1],n=i[2],r=i[3],l=i[4],a=i[5],o=i[6],c=i[7],h=i[8];return t*l*h-t*a*c-s*r*h+s*a*o+n*r*c-n*l*o}invert(){const i=this.elements,t=i[0],s=i[1],n=i[2],r=i[3],l=i[4],a=i[5],o=i[6],c=i[7],h=i[8],u=h*l-a*c,d=a*o-h*r,p=c*r-l*o,G=t*u+s*d+n*p;if(G===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/G;return i[0]=u*g,i[1]=(n*c-h*s)*g,i[2]=(a*s-n*l)*g,i[3]=d*g,i[4]=(h*t-n*o)*g,i[5]=(n*r-a*t)*g,i[6]=p*g,i[7]=(s*o-c*t)*g,i[8]=(l*t-s*r)*g,this}transpose(){let i;const t=this.elements;return i=t[1],t[1]=t[3],t[3]=i,i=t[2],t[2]=t[6],t[6]=i,i=t[5],t[5]=t[7],t[7]=i,this}getNormalMatrix(i){return this.setFromMatrix4(i).invert().transpose()}transposeIntoArray(i){const t=this.elements;return i[0]=t[0],i[1]=t[3],i[2]=t[6],i[3]=t[1],i[4]=t[4],i[5]=t[7],i[6]=t[2],i[7]=t[5],i[8]=t[8],this}setUvTransform(i,t,s,n,r,l,a){const o=Math.cos(r),c=Math.sin(r);return this.set(s*o,s*c,-s*(o*l+c*a)+l+i,-n*c,n*o,-n*(-c*l+o*a)+a+t,0,0,1),this}scale(i,t){const s=this.elements;return s[0]*=i,s[3]*=i,s[6]*=i,s[1]*=t,s[4]*=t,s[7]*=t,this}rotate(i){const t=Math.cos(i),s=Math.sin(i),n=this.elements,r=n[0],l=n[3],a=n[6],o=n[1],c=n[4],h=n[7];return n[0]=t*r+s*o,n[3]=t*l+s*c,n[6]=t*a+s*h,n[1]=-s*r+t*o,n[4]=-s*l+t*c,n[7]=-s*a+t*h,this}translate(i,t){const s=this.elements;return s[0]+=i*s[2],s[3]+=i*s[5],s[6]+=i*s[8],s[1]+=t*s[2],s[4]+=t*s[5],s[7]+=t*s[8],this}equals(i){const t=this.elements,s=i.elements;for(let n=0;n<9;n++)if(t[n]!==s[n])return!1;return!0}fromArray(i,t=0){for(let s=0;s<9;s++)this.elements[s]=i[s+t];return this}toArray(i=[],t=0){const s=this.elements;return i[t]=s[0],i[t+1]=s[1],i[t+2]=s[2],i[t+3]=s[3],i[t+4]=s[4],i[t+5]=s[5],i[t+6]=s[6],i[t+7]=s[7],i[t+8]=s[8],i}clone(){return new this.constructor().fromArray(this.elements)}}Es.prototype.isMatrix3=!0;function Ub(e){for(let i=e.length-1;i>=0;--i)if(e[i]>65535)return!0;return!1}function ro(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function Kr(e){return e<.04045?e*.0773993808:Math.pow(e*.9478672986+.0521327014,2.4)}function Fc(e){return e<.0031308?e*12.92:1.055*Math.pow(e,.41666)-.055}const ku={[Pn]:{[Jr]:Kr},[Jr]:{[Pn]:Fc}},Qi={legacyMode:!0,get workingColorSpace(){return Jr},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,i,t){if(this.legacyMode||i===t||!i||!t)return e;if(ku[i]&&ku[i][t]!==void 0){const s=ku[i][t];return e.r=s(e.r),e.g=s(e.g),e.b=s(e.b),e}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(e,i){return this.convert(e,this.workingColorSpace,i)},toWorkingColorSpace:function(e,i){return this.convert(e,i,this.workingColorSpace)}},kb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Hs={r:0,g:0,b:0},_i={h:0,s:0,l:0},Nc={h:0,s:0,l:0};function Du(e,i,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?e+(i-e)*6*t:t<1/2?i:t<2/3?e+(i-e)*6*(2/3-t):e}function xc(e,i){return i.r=e.r,i.g=e.g,i.b=e.b,i}class ie{constructor(i,t,s){return t===void 0&&s===void 0?this.set(i):this.setRGB(i,t,s)}set(i){return i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i),this}setScalar(i){return this.r=i,this.g=i,this.b=i,this}setHex(i,t=Pn){return i=Math.floor(i),this.r=(i>>16&255)/255,this.g=(i>>8&255)/255,this.b=(i&255)/255,Qi.toWorkingColorSpace(this,t),this}setRGB(i,t,s,n=Jr){return this.r=i,this.g=t,this.b=s,Qi.toWorkingColorSpace(this,n),this}setHSL(i,t,s,n=Jr){if(i=zu(i,1),t=ws(t,0,1),s=ws(s,0,1),t===0)this.r=this.g=this.b=s;else{const r=s<=.5?s*(1+t):s+t-s*t,l=2*s-r;this.r=Du(l,r,i+1/3),this.g=Du(l,r,i),this.b=Du(l,r,i-1/3)}return Qi.toWorkingColorSpace(this,n),this}setStyle(i,t=Pn){function s(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+i+" will be ignored.")}let n;if(n=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(i)){let r;const l=n[1],a=n[2];switch(l){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,Qi.toWorkingColorSpace(this,t),s(r[4]),this;if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,Qi.toWorkingColorSpace(this,t),s(r[4]),this;break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const o=parseFloat(r[1])/360,c=parseInt(r[2],10)/100,h=parseInt(r[3],10)/100;return s(r[4]),this.setHSL(o,c,h,t)}break}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(i)){const r=n[1],l=r.length;if(l===3)return this.r=parseInt(r.charAt(0)+r.charAt(0),16)/255,this.g=parseInt(r.charAt(1)+r.charAt(1),16)/255,this.b=parseInt(r.charAt(2)+r.charAt(2),16)/255,Qi.toWorkingColorSpace(this,t),this;if(l===6)return this.r=parseInt(r.charAt(0)+r.charAt(1),16)/255,this.g=parseInt(r.charAt(2)+r.charAt(3),16)/255,this.b=parseInt(r.charAt(4)+r.charAt(5),16)/255,Qi.toWorkingColorSpace(this,t),this}return i&&i.length>0?this.setColorName(i,t):this}setColorName(i,t=Pn){const s=kb[i.toLowerCase()];return s!==void 0?this.setHex(s,t):console.warn("THREE.Color: Unknown color "+i),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(i){return this.r=i.r,this.g=i.g,this.b=i.b,this}copySRGBToLinear(i){return this.r=Kr(i.r),this.g=Kr(i.g),this.b=Kr(i.b),this}copyLinearToSRGB(i){return this.r=Fc(i.r),this.g=Fc(i.g),this.b=Fc(i.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(i=Pn){return Qi.fromWorkingColorSpace(xc(this,Hs),i),ws(Hs.r*255,0,255)<<16^ws(Hs.g*255,0,255)<<8^ws(Hs.b*255,0,255)<<0}getHexString(i=Pn){return("000000"+this.getHex(i).toString(16)).slice(-6)}getHSL(i,t=Jr){Qi.fromWorkingColorSpace(xc(this,Hs),t);const s=Hs.r,n=Hs.g,r=Hs.b,l=Math.max(s,n,r),a=Math.min(s,n,r);let o,c;const h=(a+l)/2;if(a===l)o=0,c=0;else{const u=l-a;switch(c=h<=.5?u/(l+a):u/(2-l-a),l){case s:o=(n-r)/u+(n<r?6:0);break;case n:o=(r-s)/u+2;break;case r:o=(s-n)/u+4;break}o/=6}return i.h=o,i.s=c,i.l=h,i}getRGB(i,t=Jr){return Qi.fromWorkingColorSpace(xc(this,Hs),t),i.r=Hs.r,i.g=Hs.g,i.b=Hs.b,i}getStyle(i=Pn){return Qi.fromWorkingColorSpace(xc(this,Hs),i),i!==Pn?`color(${i} ${Hs.r} ${Hs.g} ${Hs.b})`:`rgb(${Hs.r*255|0},${Hs.g*255|0},${Hs.b*255|0})`}offsetHSL(i,t,s){return this.getHSL(_i),_i.h+=i,_i.s+=t,_i.l+=s,this.setHSL(_i.h,_i.s,_i.l),this}add(i){return this.r+=i.r,this.g+=i.g,this.b+=i.b,this}addColors(i,t){return this.r=i.r+t.r,this.g=i.g+t.g,this.b=i.b+t.b,this}addScalar(i){return this.r+=i,this.g+=i,this.b+=i,this}sub(i){return this.r=Math.max(0,this.r-i.r),this.g=Math.max(0,this.g-i.g),this.b=Math.max(0,this.b-i.b),this}multiply(i){return this.r*=i.r,this.g*=i.g,this.b*=i.b,this}multiplyScalar(i){return this.r*=i,this.g*=i,this.b*=i,this}lerp(i,t){return this.r+=(i.r-this.r)*t,this.g+=(i.g-this.g)*t,this.b+=(i.b-this.b)*t,this}lerpColors(i,t,s){return this.r=i.r+(t.r-i.r)*s,this.g=i.g+(t.g-i.g)*s,this.b=i.b+(t.b-i.b)*s,this}lerpHSL(i,t){this.getHSL(_i),i.getHSL(Nc);const s=no(_i.h,Nc.h,t),n=no(_i.s,Nc.s,t),r=no(_i.l,Nc.l,t);return this.setHSL(s,n,r),this}equals(i){return i.r===this.r&&i.g===this.g&&i.b===this.b}fromArray(i,t=0){return this.r=i[t],this.g=i[t+1],this.b=i[t+2],this}toArray(i=[],t=0){return i[t]=this.r,i[t+1]=this.g,i[t+2]=this.b,i}fromBufferAttribute(i,t){return this.r=i.getX(t),this.g=i.getY(t),this.b=i.getZ(t),i.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}ie.NAMES=kb,ie.prototype.isColor=!0,ie.prototype.r=1,ie.prototype.g=1,ie.prototype.b=1;let El;class Or{static getDataURL(i){if(/^data:/i.test(i.src)||typeof HTMLCanvasElement>"u")return i.src;let t;if(i instanceof HTMLCanvasElement)t=i;else{El===void 0&&(El=ro("canvas")),El.width=i.width,El.height=i.height;const s=El.getContext("2d");i instanceof ImageData?s.putImageData(i,0,0):s.drawImage(i,0,0,i.width,i.height),t=El}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",i),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(i){if(typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap){const t=ro("canvas");t.width=i.width,t.height=i.height;const s=t.getContext("2d");s.drawImage(i,0,0,i.width,i.height);const n=s.getImageData(0,0,i.width,i.height),r=n.data;for(let l=0;l<r.length;l++)r[l]=Kr(r[l]/255)*255;return s.putImageData(n,0,0),t}else if(i.data){const t=i.data.slice(0);for(let s=0;s<t.length;s++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[s]=Math.floor(Kr(t[s]/255)*255):t[s]=Kr(t[s]);return{data:t,width:i.width,height:i.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),i}}class Db{constructor(i=null){this.uuid=ji(),this.data=i,this.version=0}set needsUpdate(i){i===!0&&this.version++}toJSON(i){const t=i===void 0||typeof i=="string";if(!t&&i.images[this.uuid]!==void 0)return i.images[this.uuid];const s={uuid:this.uuid,url:""},n=this.data;if(n!==null){let r;if(Array.isArray(n)){r=[];for(let l=0,a=n.length;l<a;l++)n[l].isDataTexture?r.push(Ju(n[l].image)):r.push(Ju(n[l]))}else r=Ju(n);s.url=r}return t||(i.images[this.uuid]=s),s}}function Ju(e){return typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap?Or.getDataURL(e):e.data?{data:Array.prototype.slice.call(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}Db.prototype.isSource=!0;let GY=0;class Ss extends zn{constructor(i=Ss.DEFAULT_IMAGE,t=Ss.DEFAULT_MAPPING,s=Bi,n=Bi,r=Ms,l=Xc,a=ri,o=kr,c=1,h=Hn){super();Object.defineProperty(this,"id",{value:GY++}),this.uuid=ji(),this.name="",this.source=new Db(i),this.mipmaps=[],this.mapping=t,this.wrapS=s,this.wrapT=n,this.magFilter=r,this.minFilter=l,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=o,this.offset=new Xe(0,0),this.repeat=new Xe(1,1),this.center=new Xe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Es,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=h,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(i){this.source.data=i}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(i){return this.name=i.name,this.source=i.source,this.mipmaps=i.mipmaps.slice(0),this.mapping=i.mapping,this.wrapS=i.wrapS,this.wrapT=i.wrapT,this.magFilter=i.magFilter,this.minFilter=i.minFilter,this.anisotropy=i.anisotropy,this.format=i.format,this.internalFormat=i.internalFormat,this.type=i.type,this.offset.copy(i.offset),this.repeat.copy(i.repeat),this.center.copy(i.center),this.rotation=i.rotation,this.matrixAutoUpdate=i.matrixAutoUpdate,this.matrix.copy(i.matrix),this.generateMipmaps=i.generateMipmaps,this.premultiplyAlpha=i.premultiplyAlpha,this.flipY=i.flipY,this.unpackAlignment=i.unpackAlignment,this.encoding=i.encoding,this.userData=JSON.parse(JSON.stringify(i.userData)),this.needsUpdate=!0,this}toJSON(i){const t=i===void 0||typeof i=="string";if(!t&&i.textures[this.uuid]!==void 0)return i.textures[this.uuid];const s={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(i).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(s.userData=this.userData),t||(i.textures[this.uuid]=s),s}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(i){if(this.mapping!==pb)return i;if(i.applyMatrix3(this.matrix),i.x<0||i.x>1)switch(this.wrapS){case Fu:i.x=i.x-Math.floor(i.x);break;case Bi:i.x=i.x<0?0:1;break;case Nu:Math.abs(Math.floor(i.x)%2)===1?i.x=Math.ceil(i.x)-i.x:i.x=i.x-Math.floor(i.x);break}if(i.y<0||i.y>1)switch(this.wrapT){case Fu:i.y=i.y-Math.floor(i.y);break;case Bi:i.y=i.y<0?0:1;break;case Nu:Math.abs(Math.floor(i.y)%2)===1?i.y=Math.ceil(i.y)-i.y:i.y=i.y-Math.floor(i.y);break}return this.flipY&&(i.y=1-i.y),i}set needsUpdate(i){i===!0&&(this.version++,this.source.needsUpdate=!0)}}Ss.DEFAULT_IMAGE=null,Ss.DEFAULT_MAPPING=pb,Ss.prototype.isTexture=!0;class De{constructor(i=0,t=0,s=0,n=1){this.x=i,this.y=t,this.z=s,this.w=n}get width(){return this.z}set width(i){this.z=i}get height(){return this.w}set height(i){this.w=i}set(i,t,s,n){return this.x=i,this.y=t,this.z=s,this.w=n,this}setScalar(i){return this.x=i,this.y=i,this.z=i,this.w=i,this}setX(i){return this.x=i,this}setY(i){return this.y=i,this}setZ(i){return this.z=i,this}setW(i){return this.w=i,this}setComponent(i,t){switch(i){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+i)}return this}getComponent(i){switch(i){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+i)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(i){return this.x=i.x,this.y=i.y,this.z=i.z,this.w=i.w!==void 0?i.w:1,this}add(i,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(i,t)):(this.x+=i.x,this.y+=i.y,this.z+=i.z,this.w+=i.w,this)}addScalar(i){return this.x+=i,this.y+=i,this.z+=i,this.w+=i,this}addVectors(i,t){return this.x=i.x+t.x,this.y=i.y+t.y,this.z=i.z+t.z,this.w=i.w+t.w,this}addScaledVector(i,t){return this.x+=i.x*t,this.y+=i.y*t,this.z+=i.z*t,this.w+=i.w*t,this}sub(i,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(i,t)):(this.x-=i.x,this.y-=i.y,this.z-=i.z,this.w-=i.w,this)}subScalar(i){return this.x-=i,this.y-=i,this.z-=i,this.w-=i,this}subVectors(i,t){return this.x=i.x-t.x,this.y=i.y-t.y,this.z=i.z-t.z,this.w=i.w-t.w,this}multiply(i){return this.x*=i.x,this.y*=i.y,this.z*=i.z,this.w*=i.w,this}multiplyScalar(i){return this.x*=i,this.y*=i,this.z*=i,this.w*=i,this}applyMatrix4(i){const t=this.x,s=this.y,n=this.z,r=this.w,l=i.elements;return this.x=l[0]*t+l[4]*s+l[8]*n+l[12]*r,this.y=l[1]*t+l[5]*s+l[9]*n+l[13]*r,this.z=l[2]*t+l[6]*s+l[10]*n+l[14]*r,this.w=l[3]*t+l[7]*s+l[11]*n+l[15]*r,this}divideScalar(i){return this.multiplyScalar(1/i)}setAxisAngleFromQuaternion(i){this.w=2*Math.acos(i.w);const t=Math.sqrt(1-i.w*i.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=i.x/t,this.y=i.y/t,this.z=i.z/t),this}setAxisAngleFromRotationMatrix(i){let t,s,n,r;const o=i.elements,c=o[0],h=o[4],u=o[8],d=o[1],p=o[5],G=o[9],g=o[2],I=o[6],X=o[10];if(Math.abs(h-d)<.01&&Math.abs(u-g)<.01&&Math.abs(G-I)<.01){if(Math.abs(h+d)<.1&&Math.abs(u+g)<.1&&Math.abs(G+I)<.1&&Math.abs(c+p+X-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const x=(c+1)/2,v=(p+1)/2,L=(X+1)/2,M=(h+d)/4,E=(u+g)/4,K=(G+I)/4;return x>v&&x>L?x<.01?(s=0,n=.707106781,r=.707106781):(s=Math.sqrt(x),n=M/s,r=E/s):v>L?v<.01?(s=.707106781,n=0,r=.707106781):(n=Math.sqrt(v),s=M/n,r=K/n):L<.01?(s=.707106781,n=.707106781,r=0):(r=Math.sqrt(L),s=E/r,n=K/r),this.set(s,n,r,t),this}let S=Math.sqrt((I-G)*(I-G)+(u-g)*(u-g)+(d-h)*(d-h));return Math.abs(S)<.001&&(S=1),this.x=(I-G)/S,this.y=(u-g)/S,this.z=(d-h)/S,this.w=Math.acos((c+p+X-1)/2),this}min(i){return this.x=Math.min(this.x,i.x),this.y=Math.min(this.y,i.y),this.z=Math.min(this.z,i.z),this.w=Math.min(this.w,i.w),this}max(i){return this.x=Math.max(this.x,i.x),this.y=Math.max(this.y,i.y),this.z=Math.max(this.z,i.z),this.w=Math.max(this.w,i.w),this}clamp(i,t){return this.x=Math.max(i.x,Math.min(t.x,this.x)),this.y=Math.max(i.y,Math.min(t.y,this.y)),this.z=Math.max(i.z,Math.min(t.z,this.z)),this.w=Math.max(i.w,Math.min(t.w,this.w)),this}clampScalar(i,t){return this.x=Math.max(i,Math.min(t,this.x)),this.y=Math.max(i,Math.min(t,this.y)),this.z=Math.max(i,Math.min(t,this.z)),this.w=Math.max(i,Math.min(t,this.w)),this}clampLength(i,t){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(i,Math.min(t,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(i){return this.x*i.x+this.y*i.y+this.z*i.z+this.w*i.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(i){return this.normalize().multiplyScalar(i)}lerp(i,t){return this.x+=(i.x-this.x)*t,this.y+=(i.y-this.y)*t,this.z+=(i.z-this.z)*t,this.w+=(i.w-this.w)*t,this}lerpVectors(i,t,s){return this.x=i.x+(t.x-i.x)*s,this.y=i.y+(t.y-i.y)*s,this.z=i.z+(t.z-i.z)*s,this.w=i.w+(t.w-i.w)*s,this}equals(i){return i.x===this.x&&i.y===this.y&&i.z===this.z&&i.w===this.w}fromArray(i,t=0){return this.x=i[t],this.y=i[t+1],this.z=i[t+2],this.w=i[t+3],this}toArray(i=[],t=0){return i[t]=this.x,i[t+1]=this.y,i[t+2]=this.z,i[t+3]=this.w,i}fromBufferAttribute(i,t,s){return s!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=i.getX(t),this.y=i.getY(t),this.z=i.getZ(t),this.w=i.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}De.prototype.isVector4=!0;class _s extends zn{constructor(i,t,s={}){super();this.width=i,this.height=t,this.depth=1,this.scissor=new De(0,0,i,t),this.scissorTest=!1,this.viewport=new De(0,0,i,t);const n={width:i,height:t,depth:1};this.texture=new Ss(n,s.mapping,s.wrapS,s.wrapT,s.magFilter,s.minFilter,s.format,s.type,s.anisotropy,s.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=s.generateMipmaps!==void 0?s.generateMipmaps:!1,this.texture.internalFormat=s.internalFormat!==void 0?s.internalFormat:null,this.texture.minFilter=s.minFilter!==void 0?s.minFilter:Ms,this.depthBuffer=s.depthBuffer!==void 0?s.depthBuffer:!0,this.stencilBuffer=s.stencilBuffer!==void 0?s.stencilBuffer:!1,this.depthTexture=s.depthTexture!==void 0?s.depthTexture:null,this.samples=s.samples!==void 0?s.samples:0}setSize(i,t,s=1){(this.width!==i||this.height!==t||this.depth!==s)&&(this.width=i,this.height=t,this.depth=s,this.texture.image.width=i,this.texture.image.height=t,this.texture.image.depth=s,this.dispose()),this.viewport.set(0,0,i,t),this.scissor.set(0,0,i,t)}clone(){return new this.constructor().copy(this)}copy(i){return this.width=i.width,this.height=i.height,this.depth=i.depth,this.viewport.copy(i.viewport),this.texture=i.texture.clone(),this.texture.isRenderTargetTexture=!0,this.texture.image=Object.assign({},i.texture.image),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,i.depthTexture!==null&&(this.depthTexture=i.depthTexture.clone()),this.samples=i.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}_s.prototype.isWebGLRenderTarget=!0;class vc extends Ss{constructor(i=null,t=1,s=1,n=1){super(null);this.image={data:i,width:t,height:s,depth:n},this.magFilter=us,this.minFilter=us,this.wrapR=Bi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}vc.prototype.isDataArrayTexture=!0;class gY extends _s{constructor(i,t,s){super(i,t);this.depth=s,this.texture=new vc(null,i,t,s),this.texture.isRenderTargetTexture=!0}}gY.prototype.isWebGLArrayRenderTarget=!0;class Ku extends Ss{constructor(i=null,t=1,s=1,n=1){super(null);this.image={data:i,width:t,height:s,depth:n},this.magFilter=us,this.minFilter=us,this.wrapR=Bi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}Ku.prototype.isData3DTexture=!0;class TY extends _s{constructor(i,t,s){super(i,t);this.depth=s,this.texture=new Ku(null,i,t,s),this.texture.isRenderTargetTexture=!0}}TY.prototype.isWebGL3DRenderTarget=!0;class IY extends _s{constructor(i,t,s,n={}){super(i,t,n);const r=this.texture;this.texture=[];for(let l=0;l<s;l++)this.texture[l]=r.clone(),this.texture[l].isRenderTargetTexture=!0}setSize(i,t,s=1){if(this.width!==i||this.height!==t||this.depth!==s){this.width=i,this.height=t,this.depth=s;for(let n=0,r=this.texture.length;n<r;n++)this.texture[n].image.width=i,this.texture[n].image.height=t,this.texture[n].image.depth=s;this.dispose()}return this.viewport.set(0,0,i,t),this.scissor.set(0,0,i,t),this}copy(i){this.dispose(),this.width=i.width,this.height=i.height,this.depth=i.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.depthTexture=i.depthTexture,this.texture.length=0;for(let t=0,s=i.texture.length;t<s;t++)this.texture[t]=i.texture[t].clone();return this}}IY.prototype.isWebGLMultipleRenderTargets=!0;class Ls{constructor(i=0,t=0,s=0,n=1){this._x=i,this._y=t,this._z=s,this._w=n}static slerp(i,t,s,n){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),s.slerpQuaternions(i,t,n)}static slerpFlat(i,t,s,n,r,l,a){let o=s[n+0],c=s[n+1],h=s[n+2],u=s[n+3];const d=r[l+0],p=r[l+1],G=r[l+2],g=r[l+3];if(a===0){i[t+0]=o,i[t+1]=c,i[t+2]=h,i[t+3]=u;return}if(a===1){i[t+0]=d,i[t+1]=p,i[t+2]=G,i[t+3]=g;return}if(u!==g||o!==d||c!==p||h!==G){let I=1-a;const X=o*d+c*p+h*G+u*g,S=X>=0?1:-1,x=1-X*X;if(x>Number.EPSILON){const L=Math.sqrt(x),M=Math.atan2(L,X*S);I=Math.sin(I*M)/L,a=Math.sin(a*M)/L}const v=a*S;if(o=o*I+d*v,c=c*I+p*v,h=h*I+G*v,u=u*I+g*v,I===1-a){const L=1/Math.sqrt(o*o+c*c+h*h+u*u);o*=L,c*=L,h*=L,u*=L}}i[t]=o,i[t+1]=c,i[t+2]=h,i[t+3]=u}static multiplyQuaternionsFlat(i,t,s,n,r,l){const a=s[n],o=s[n+1],c=s[n+2],h=s[n+3],u=r[l],d=r[l+1],p=r[l+2],G=r[l+3];return i[t]=a*G+h*u+o*p-c*d,i[t+1]=o*G+h*d+c*u-a*p,i[t+2]=c*G+h*p+a*d-o*u,i[t+3]=h*G-a*u-o*d-c*p,i}get x(){return this._x}set x(i){this._x=i,this._onChangeCallback()}get y(){return this._y}set y(i){this._y=i,this._onChangeCallback()}get z(){return this._z}set z(i){this._z=i,this._onChangeCallback()}get w(){return this._w}set w(i){this._w=i,this._onChangeCallback()}set(i,t,s,n){return this._x=i,this._y=t,this._z=s,this._w=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(i){return this._x=i.x,this._y=i.y,this._z=i.z,this._w=i.w,this._onChangeCallback(),this}setFromEuler(i,t){if(!(i&&i.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const s=i._x,n=i._y,r=i._z,l=i._order,a=Math.cos,o=Math.sin,c=a(s/2),h=a(n/2),u=a(r/2),d=o(s/2),p=o(n/2),G=o(r/2);switch(l){case"XYZ":this._x=d*h*u+c*p*G,this._y=c*p*u-d*h*G,this._z=c*h*G+d*p*u,this._w=c*h*u-d*p*G;break;case"YXZ":this._x=d*h*u+c*p*G,this._y=c*p*u-d*h*G,this._z=c*h*G-d*p*u,this._w=c*h*u+d*p*G;break;case"ZXY":this._x=d*h*u-c*p*G,this._y=c*p*u+d*h*G,this._z=c*h*G+d*p*u,this._w=c*h*u-d*p*G;break;case"ZYX":this._x=d*h*u-c*p*G,this._y=c*p*u+d*h*G,this._z=c*h*G-d*p*u,this._w=c*h*u+d*p*G;break;case"YZX":this._x=d*h*u+c*p*G,this._y=c*p*u+d*h*G,this._z=c*h*G-d*p*u,this._w=c*h*u-d*p*G;break;case"XZY":this._x=d*h*u-c*p*G,this._y=c*p*u-d*h*G,this._z=c*h*G+d*p*u,this._w=c*h*u+d*p*G;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+l)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(i,t){const s=t/2,n=Math.sin(s);return this._x=i.x*n,this._y=i.y*n,this._z=i.z*n,this._w=Math.cos(s),this._onChangeCallback(),this}setFromRotationMatrix(i){const t=i.elements,s=t[0],n=t[4],r=t[8],l=t[1],a=t[5],o=t[9],c=t[2],h=t[6],u=t[10],d=s+a+u;if(d>0){const p=.5/Math.sqrt(d+1);this._w=.25/p,this._x=(h-o)*p,this._y=(r-c)*p,this._z=(l-n)*p}else if(s>a&&s>u){const p=2*Math.sqrt(1+s-a-u);this._w=(h-o)/p,this._x=.25*p,this._y=(n+l)/p,this._z=(r+c)/p}else if(a>u){const p=2*Math.sqrt(1+a-s-u);this._w=(r-c)/p,this._x=(n+l)/p,this._y=.25*p,this._z=(o+h)/p}else{const p=2*Math.sqrt(1+u-s-a);this._w=(l-n)/p,this._x=(r+c)/p,this._y=(o+h)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(i,t){let s=i.dot(t)+1;return s<Number.EPSILON?(s=0,Math.abs(i.x)>Math.abs(i.z)?(this._x=-i.y,this._y=i.x,this._z=0,this._w=s):(this._x=0,this._y=-i.z,this._z=i.y,this._w=s)):(this._x=i.y*t.z-i.z*t.y,this._y=i.z*t.x-i.x*t.z,this._z=i.x*t.y-i.y*t.x,this._w=s),this.normalize()}angleTo(i){return 2*Math.acos(Math.abs(ws(this.dot(i),-1,1)))}rotateTowards(i,t){const s=this.angleTo(i);if(s===0)return this;const n=Math.min(1,t/s);return this.slerp(i,n),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(i){return this._x*i._x+this._y*i._y+this._z*i._z+this._w*i._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let i=this.length();return i===0?(this._x=0,this._y=0,this._z=0,this._w=1):(i=1/i,this._x=this._x*i,this._y=this._y*i,this._z=this._z*i,this._w=this._w*i),this._onChangeCallback(),this}multiply(i,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(i,t)):this.multiplyQuaternions(this,i)}premultiply(i){return this.multiplyQuaternions(i,this)}multiplyQuaternions(i,t){const s=i._x,n=i._y,r=i._z,l=i._w,a=t._x,o=t._y,c=t._z,h=t._w;return this._x=s*h+l*a+n*c-r*o,this._y=n*h+l*o+r*a-s*c,this._z=r*h+l*c+s*o-n*a,this._w=l*h-s*a-n*o-r*c,this._onChangeCallback(),this}slerp(i,t){if(t===0)return this;if(t===1)return this.copy(i);const s=this._x,n=this._y,r=this._z,l=this._w;let a=l*i._w+s*i._x+n*i._y+r*i._z;if(a<0?(this._w=-i._w,this._x=-i._x,this._y=-i._y,this._z=-i._z,a=-a):this.copy(i),a>=1)return this._w=l,this._x=s,this._y=n,this._z=r,this;const o=1-a*a;if(o<=Number.EPSILON){const p=1-t;return this._w=p*l+t*this._w,this._x=p*s+t*this._x,this._y=p*n+t*this._y,this._z=p*r+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(o),h=Math.atan2(c,a),u=Math.sin((1-t)*h)/c,d=Math.sin(t*h)/c;return this._w=l*u+this._w*d,this._x=s*u+this._x*d,this._y=n*u+this._y*d,this._z=r*u+this._z*d,this._onChangeCallback(),this}slerpQuaternions(i,t,s){return this.copy(i).slerp(t,s)}random(){const i=Math.random(),t=Math.sqrt(1-i),s=Math.sqrt(i),n=2*Math.PI*Math.random(),r=2*Math.PI*Math.random();return this.set(t*Math.cos(n),s*Math.sin(r),s*Math.cos(r),t*Math.sin(n))}equals(i){return i._x===this._x&&i._y===this._y&&i._z===this._z&&i._w===this._w}fromArray(i,t=0){return this._x=i[t],this._y=i[t+1],this._z=i[t+2],this._w=i[t+3],this._onChangeCallback(),this}toArray(i=[],t=0){return i[t]=this._x,i[t+1]=this._y,i[t+2]=this._z,i[t+3]=this._w,i}fromBufferAttribute(i,t){return this._x=i.getX(t),this._y=i.getY(t),this._z=i.getZ(t),this._w=i.getW(t),this}_onChange(i){return this._onChangeCallback=i,this}_onChangeCallback(){}}Ls.prototype.isQuaternion=!0;class H{constructor(i=0,t=0,s=0){this.x=i,this.y=t,this.z=s}set(i,t,s){return s===void 0&&(s=this.z),this.x=i,this.y=t,this.z=s,this}setScalar(i){return this.x=i,this.y=i,this.z=i,this}setX(i){return this.x=i,this}setY(i){return this.y=i,this}setZ(i){return this.z=i,this}setComponent(i,t){switch(i){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+i)}return this}getComponent(i){switch(i){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+i)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(i){return this.x=i.x,this.y=i.y,this.z=i.z,this}add(i,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(i,t)):(this.x+=i.x,this.y+=i.y,this.z+=i.z,this)}addScalar(i){return this.x+=i,this.y+=i,this.z+=i,this}addVectors(i,t){return this.x=i.x+t.x,this.y=i.y+t.y,this.z=i.z+t.z,this}addScaledVector(i,t){return this.x+=i.x*t,this.y+=i.y*t,this.z+=i.z*t,this}sub(i,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(i,t)):(this.x-=i.x,this.y-=i.y,this.z-=i.z,this)}subScalar(i){return this.x-=i,this.y-=i,this.z-=i,this}subVectors(i,t){return this.x=i.x-t.x,this.y=i.y-t.y,this.z=i.z-t.z,this}multiply(i,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(i,t)):(this.x*=i.x,this.y*=i.y,this.z*=i.z,this)}multiplyScalar(i){return this.x*=i,this.y*=i,this.z*=i,this}multiplyVectors(i,t){return this.x=i.x*t.x,this.y=i.y*t.y,this.z=i.z*t.z,this}applyEuler(i){return i&&i.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Jb.setFromEuler(i))}applyAxisAngle(i,t){return this.applyQuaternion(Jb.setFromAxisAngle(i,t))}applyMatrix3(i){const t=this.x,s=this.y,n=this.z,r=i.elements;return this.x=r[0]*t+r[3]*s+r[6]*n,this.y=r[1]*t+r[4]*s+r[7]*n,this.z=r[2]*t+r[5]*s+r[8]*n,this}applyNormalMatrix(i){return this.applyMatrix3(i).normalize()}applyMatrix4(i){const t=this.x,s=this.y,n=this.z,r=i.elements,l=1/(r[3]*t+r[7]*s+r[11]*n+r[15]);return this.x=(r[0]*t+r[4]*s+r[8]*n+r[12])*l,this.y=(r[1]*t+r[5]*s+r[9]*n+r[13])*l,this.z=(r[2]*t+r[6]*s+r[10]*n+r[14])*l,this}applyQuaternion(i){const t=this.x,s=this.y,n=this.z,r=i.x,l=i.y,a=i.z,o=i.w,c=o*t+l*n-a*s,h=o*s+a*t-r*n,u=o*n+r*s-l*t,d=-r*t-l*s-a*n;return this.x=c*o+d*-r+h*-a-u*-l,this.y=h*o+d*-l+u*-r-c*-a,this.z=u*o+d*-a+c*-l-h*-r,this}project(i){return this.applyMatrix4(i.matrixWorldInverse).applyMatrix4(i.projectionMatrix)}unproject(i){return this.applyMatrix4(i.projectionMatrixInverse).applyMatrix4(i.matrixWorld)}transformDirection(i){const t=this.x,s=this.y,n=this.z,r=i.elements;return this.x=r[0]*t+r[4]*s+r[8]*n,this.y=r[1]*t+r[5]*s+r[9]*n,this.z=r[2]*t+r[6]*s+r[10]*n,this.normalize()}divide(i){return this.x/=i.x,this.y/=i.y,this.z/=i.z,this}divideScalar(i){return this.multiplyScalar(1/i)}min(i){return this.x=Math.min(this.x,i.x),this.y=Math.min(this.y,i.y),this.z=Math.min(this.z,i.z),this}max(i){return this.x=Math.max(this.x,i.x),this.y=Math.max(this.y,i.y),this.z=Math.max(this.z,i.z),this}clamp(i,t){return this.x=Math.max(i.x,Math.min(t.x,this.x)),this.y=Math.max(i.y,Math.min(t.y,this.y)),this.z=Math.max(i.z,Math.min(t.z,this.z)),this}clampScalar(i,t){return this.x=Math.max(i,Math.min(t,this.x)),this.y=Math.max(i,Math.min(t,this.y)),this.z=Math.max(i,Math.min(t,this.z)),this}clampLength(i,t){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(i,Math.min(t,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(i){return this.x*i.x+this.y*i.y+this.z*i.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(i){return this.normalize().multiplyScalar(i)}lerp(i,t){return this.x+=(i.x-this.x)*t,this.y+=(i.y-this.y)*t,this.z+=(i.z-this.z)*t,this}lerpVectors(i,t,s){return this.x=i.x+(t.x-i.x)*s,this.y=i.y+(t.y-i.y)*s,this.z=i.z+(t.z-i.z)*s,this}cross(i,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(i,t)):this.crossVectors(this,i)}crossVectors(i,t){const s=i.x,n=i.y,r=i.z,l=t.x,a=t.y,o=t.z;return this.x=n*o-r*a,this.y=r*l-s*o,this.z=s*a-n*l,this}projectOnVector(i){const t=i.lengthSq();if(t===0)return this.set(0,0,0);const s=i.dot(this)/t;return this.copy(i).multiplyScalar(s)}projectOnPlane(i){return Ou.copy(this).projectOnVector(i),this.sub(Ou)}reflect(i){return this.sub(Ou.copy(i).multiplyScalar(2*this.dot(i)))}angleTo(i){const t=Math.sqrt(this.lengthSq()*i.lengthSq());if(t===0)return Math.PI/2;const s=this.dot(i)/t;return Math.acos(ws(s,-1,1))}distanceTo(i){return Math.sqrt(this.distanceToSquared(i))}distanceToSquared(i){const t=this.x-i.x,s=this.y-i.y,n=this.z-i.z;return t*t+s*s+n*n}manhattanDistanceTo(i){return Math.abs(this.x-i.x)+Math.abs(this.y-i.y)+Math.abs(this.z-i.z)}setFromSpherical(i){return this.setFromSphericalCoords(i.radius,i.phi,i.theta)}setFromSphericalCoords(i,t,s){const n=Math.sin(t)*i;return this.x=n*Math.sin(s),this.y=Math.cos(t)*i,this.z=n*Math.cos(s),this}setFromCylindrical(i){return this.setFromCylindricalCoords(i.radius,i.theta,i.y)}setFromCylindricalCoords(i,t,s){return this.x=i*Math.sin(t),this.y=s,this.z=i*Math.cos(t),this}setFromMatrixPosition(i){const t=i.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(i){const t=this.setFromMatrixColumn(i,0).length(),s=this.setFromMatrixColumn(i,1).length(),n=this.setFromMatrixColumn(i,2).length();return this.x=t,this.y=s,this.z=n,this}setFromMatrixColumn(i,t){return this.fromArray(i.elements,t*4)}setFromMatrix3Column(i,t){return this.fromArray(i.elements,t*3)}setFromEuler(i){return this.x=i._x,this.y=i._y,this.z=i._z,this}equals(i){return i.x===this.x&&i.y===this.y&&i.z===this.z}fromArray(i,t=0){return this.x=i[t],this.y=i[t+1],this.z=i[t+2],this}toArray(i=[],t=0){return i[t]=this.x,i[t+1]=this.y,i[t+2]=this.z,i}fromBufferAttribute(i,t,s){return s!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=i.getX(t),this.y=i.getY(t),this.z=i.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const i=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,s=Math.sqrt(1-i**2);return this.x=s*Math.cos(t),this.y=s*Math.sin(t),this.z=i,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}H.prototype.isVector3=!0;const Ou=new H,Jb=new Ls;class is{constructor(i=new H(1/0,1/0,1/0),t=new H(-1/0,-1/0,-1/0)){this.min=i,this.max=t}set(i,t){return this.min.copy(i),this.max.copy(t),this}setFromArray(i){let t=1/0,s=1/0,n=1/0,r=-1/0,l=-1/0,a=-1/0;for(let o=0,c=i.length;o<c;o+=3){const h=i[o],u=i[o+1],d=i[o+2];h<t&&(t=h),u<s&&(s=u),d<n&&(n=d),h>r&&(r=h),u>l&&(l=u),d>a&&(a=d)}return this.min.set(t,s,n),this.max.set(r,l,a),this}setFromBufferAttribute(i){let t=1/0,s=1/0,n=1/0,r=-1/0,l=-1/0,a=-1/0;for(let o=0,c=i.count;o<c;o++){const h=i.getX(o),u=i.getY(o),d=i.getZ(o);h<t&&(t=h),u<s&&(s=u),d<n&&(n=d),h>r&&(r=h),u>l&&(l=u),d>a&&(a=d)}return this.min.set(t,s,n),this.max.set(r,l,a),this}setFromPoints(i){this.makeEmpty();for(let t=0,s=i.length;t<s;t++)this.expandByPoint(i[t]);return this}setFromCenterAndSize(i,t){const s=Ar.copy(t).multiplyScalar(.5);return this.min.copy(i).sub(s),this.max.copy(i).add(s),this}setFromObject(i,t=!1){return this.makeEmpty(),this.expandByObject(i,t)}clone(){return new this.constructor().copy(this)}copy(i){return this.min.copy(i.min),this.max.copy(i.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(i){return this.isEmpty()?i.set(0,0,0):i.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(i){return this.isEmpty()?i.set(0,0,0):i.subVectors(this.max,this.min)}expandByPoint(i){return this.min.min(i),this.max.max(i),this}expandByVector(i){return this.min.sub(i),this.max.add(i),this}expandByScalar(i){return this.min.addScalar(-i),this.max.addScalar(i),this}expandByObject(i,t=!1){i.updateWorldMatrix(!1,!1);const s=i.geometry;if(s!==void 0)if(t&&s.attributes!=null&&s.attributes.position!==void 0){const r=s.attributes.position;for(let l=0,a=r.count;l<a;l++)Ar.fromBufferAttribute(r,l).applyMatrix4(i.matrixWorld),this.expandByPoint(Ar)}else s.boundingBox===null&&s.computeBoundingBox(),Au.copy(s.boundingBox),Au.applyMatrix4(i.matrixWorld),this.union(Au);const n=i.children;for(let r=0,l=n.length;r<l;r++)this.expandByObject(n[r],t);return this}containsPoint(i){return!(i.x<this.min.x||i.x>this.max.x||i.y<this.min.y||i.y>this.max.y||i.z<this.min.z||i.z>this.max.z)}containsBox(i){return this.min.x<=i.min.x&&i.max.x<=this.max.x&&this.min.y<=i.min.y&&i.max.y<=this.max.y&&this.min.z<=i.min.z&&i.max.z<=this.max.z}getParameter(i,t){return t.set((i.x-this.min.x)/(this.max.x-this.min.x),(i.y-this.min.y)/(this.max.y-this.min.y),(i.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(i){return!(i.max.x<this.min.x||i.min.x>this.max.x||i.max.y<this.min.y||i.min.y>this.max.y||i.max.z<this.min.z||i.min.z>this.max.z)}intersectsSphere(i){return this.clampPoint(i.center,Ar),Ar.distanceToSquared(i.center)<=i.radius*i.radius}intersectsPlane(i){let t,s;return i.normal.x>0?(t=i.normal.x*this.min.x,s=i.normal.x*this.max.x):(t=i.normal.x*this.max.x,s=i.normal.x*this.min.x),i.normal.y>0?(t+=i.normal.y*this.min.y,s+=i.normal.y*this.max.y):(t+=i.normal.y*this.max.y,s+=i.normal.y*this.min.y),i.normal.z>0?(t+=i.normal.z*this.min.z,s+=i.normal.z*this.max.z):(t+=i.normal.z*this.max.z,s+=i.normal.z*this.min.z),t<=-i.constant&&s>=-i.constant}intersectsTriangle(i){if(this.isEmpty())return!1;this.getCenter(lo),Ec.subVectors(this.max,lo),Yl.subVectors(i.a,lo),Ml.subVectors(i.b,lo),wl.subVectors(i.c,lo),or.subVectors(Ml,Yl),cr.subVectors(wl,Ml),Br.subVectors(Yl,wl);let t=[0,-or.z,or.y,0,-cr.z,cr.y,0,-Br.z,Br.y,or.z,0,-or.x,cr.z,0,-cr.x,Br.z,0,-Br.x,-or.y,or.x,0,-cr.y,cr.x,0,-Br.y,Br.x,0];return!Bu(t,Yl,Ml,wl,Ec)||(t=[1,0,0,0,1,0,0,0,1],!Bu(t,Yl,Ml,wl,Ec))?!1:(Yc.crossVectors(or,cr),t=[Yc.x,Yc.y,Yc.z],Bu(t,Yl,Ml,wl,Ec))}clampPoint(i,t){return t.copy(i).clamp(this.min,this.max)}distanceToPoint(i){return Ar.copy(i).clamp(this.min,this.max).sub(i).length()}getBoundingSphere(i){return this.getCenter(i.center),i.radius=this.getSize(Ar).length()*.5,i}intersect(i){return this.min.max(i.min),this.max.min(i.max),this.isEmpty()&&this.makeEmpty(),this}union(i){return this.min.min(i.min),this.max.max(i.max),this}applyMatrix4(i){return this.isEmpty()?this:(Un[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(i),Un[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(i),Un[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(i),Un[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(i),Un[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(i),Un[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(i),Un[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(i),Un[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(i),this.setFromPoints(Un),this)}translate(i){return this.min.add(i),this.max.add(i),this}equals(i){return i.min.equals(this.min)&&i.max.equals(this.max)}}is.prototype.isBox3=!0;const Un=[new H,new H,new H,new H,new H,new H,new H,new H],Ar=new H,Au=new is,Yl=new H,Ml=new H,wl=new H,or=new H,cr=new H,Br=new H,lo=new H,Ec=new H,Yc=new H,jr=new H;function Bu(e,i,t,s,n){for(let r=0,l=e.length-3;r<=l;r+=3){jr.fromArray(e,r);const a=n.x*Math.abs(jr.x)+n.y*Math.abs(jr.y)+n.z*Math.abs(jr.z),o=i.dot(jr),c=t.dot(jr),h=s.dot(jr);if(Math.max(-Math.max(o,c,h),Math.min(o,c,h))>a)return!1}return!0}const RY=new is,Kb=new H,Mc=new H,ju=new H;class qi{constructor(i=new H,t=-1){this.center=i,this.radius=t}set(i,t){return this.center.copy(i),this.radius=t,this}setFromPoints(i,t){const s=this.center;t!==void 0?s.copy(t):RY.setFromPoints(i).getCenter(s);let n=0;for(let r=0,l=i.length;r<l;r++)n=Math.max(n,s.distanceToSquared(i[r]));return this.radius=Math.sqrt(n),this}copy(i){return this.center.copy(i.center),this.radius=i.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(i){return i.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(i){return i.distanceTo(this.center)-this.radius}intersectsSphere(i){const t=this.radius+i.radius;return i.center.distanceToSquared(this.center)<=t*t}intersectsBox(i){return i.intersectsSphere(this)}intersectsPlane(i){return Math.abs(i.distanceToPoint(this.center))<=this.radius}clampPoint(i,t){const s=this.center.distanceToSquared(i);return t.copy(i),s>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(i){return this.isEmpty()?(i.makeEmpty(),i):(i.set(this.center,this.center),i.expandByScalar(this.radius),i)}applyMatrix4(i){return this.center.applyMatrix4(i),this.radius=this.radius*i.getMaxScaleOnAxis(),this}translate(i){return this.center.add(i),this}expandByPoint(i){ju.subVectors(i,this.center);const t=ju.lengthSq();if(t>this.radius*this.radius){const s=Math.sqrt(t),n=(s-this.radius)*.5;this.center.add(ju.multiplyScalar(n/s)),this.radius+=n}return this}union(i){return this.center.equals(i.center)===!0?Mc.set(0,0,1).multiplyScalar(i.radius):Mc.subVectors(i.center,this.center).normalize().multiplyScalar(i.radius),this.expandByPoint(Kb.copy(i.center).add(Mc)),this.expandByPoint(Kb.copy(i.center).sub(Mc)),this}equals(i){return i.center.equals(this.center)&&i.radius===this.radius}clone(){return new this.constructor().copy(this)}}const kn=new H,Qu=new H,wc=new H,hr=new H,_u=new H,Hc=new H,qu=new H;class ur{constructor(i=new H,t=new H(0,0,-1)){this.origin=i,this.direction=t}set(i,t){return this.origin.copy(i),this.direction.copy(t),this}copy(i){return this.origin.copy(i.origin),this.direction.copy(i.direction),this}at(i,t){return t.copy(this.direction).multiplyScalar(i).add(this.origin)}lookAt(i){return this.direction.copy(i).sub(this.origin).normalize(),this}recast(i){return this.origin.copy(this.at(i,kn)),this}closestPointToPoint(i,t){t.subVectors(i,this.origin);const s=t.dot(this.direction);return s<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(s).add(this.origin)}distanceToPoint(i){return Math.sqrt(this.distanceSqToPoint(i))}distanceSqToPoint(i){const t=kn.subVectors(i,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(i):(kn.copy(this.direction).multiplyScalar(t).add(this.origin),kn.distanceToSquared(i))}distanceSqToSegment(i,t,s,n){Qu.copy(i).add(t).multiplyScalar(.5),wc.copy(t).sub(i).normalize(),hr.copy(this.origin).sub(Qu);const r=i.distanceTo(t)*.5,l=-this.direction.dot(wc),a=hr.dot(this.direction),o=-hr.dot(wc),c=hr.lengthSq(),h=Math.abs(1-l*l);let u,d,p,G;if(h>0)if(u=l*o-a,d=l*a-o,G=r*h,u>=0)if(d>=-G)if(d<=G){const g=1/h;u*=g,d*=g,p=u*(u+l*d+2*a)+d*(l*u+d+2*o)+c}else d=r,u=Math.max(0,-(l*d+a)),p=-u*u+d*(d+2*o)+c;else d=-r,u=Math.max(0,-(l*d+a)),p=-u*u+d*(d+2*o)+c;else d<=-G?(u=Math.max(0,-(-l*r+a)),d=u>0?-r:Math.min(Math.max(-r,-o),r),p=-u*u+d*(d+2*o)+c):d<=G?(u=0,d=Math.min(Math.max(-r,-o),r),p=d*(d+2*o)+c):(u=Math.max(0,-(l*r+a)),d=u>0?r:Math.min(Math.max(-r,-o),r),p=-u*u+d*(d+2*o)+c);else d=l>0?-r:r,u=Math.max(0,-(l*d+a)),p=-u*u+d*(d+2*o)+c;return s&&s.copy(this.direction).multiplyScalar(u).add(this.origin),n&&n.copy(wc).multiplyScalar(d).add(Qu),p}intersectSphere(i,t){kn.subVectors(i.center,this.origin);const s=kn.dot(this.direction),n=kn.dot(kn)-s*s,r=i.radius*i.radius;if(n>r)return null;const l=Math.sqrt(r-n),a=s-l,o=s+l;return a<0&&o<0?null:a<0?this.at(o,t):this.at(a,t)}intersectsSphere(i){return this.distanceSqToPoint(i.center)<=i.radius*i.radius}distanceToPlane(i){const t=i.normal.dot(this.direction);if(t===0)return i.distanceToPoint(this.origin)===0?0:null;const s=-(this.origin.dot(i.normal)+i.constant)/t;return s>=0?s:null}intersectPlane(i,t){const s=this.distanceToPlane(i);return s===null?null:this.at(s,t)}intersectsPlane(i){const t=i.distanceToPoint(this.origin);return t===0||i.normal.dot(this.direction)*t<0}intersectBox(i,t){let s,n,r,l,a,o;const c=1/this.direction.x,h=1/this.direction.y,u=1/this.direction.z,d=this.origin;return c>=0?(s=(i.min.x-d.x)*c,n=(i.max.x-d.x)*c):(s=(i.max.x-d.x)*c,n=(i.min.x-d.x)*c),h>=0?(r=(i.min.y-d.y)*h,l=(i.max.y-d.y)*h):(r=(i.max.y-d.y)*h,l=(i.min.y-d.y)*h),s>l||r>n||((r>s||s!==s)&&(s=r),(l<n||n!==n)&&(n=l),u>=0?(a=(i.min.z-d.z)*u,o=(i.max.z-d.z)*u):(a=(i.max.z-d.z)*u,o=(i.min.z-d.z)*u),s>o||a>n)||((a>s||s!==s)&&(s=a),(o<n||n!==n)&&(n=o),n<0)?null:this.at(s>=0?s:n,t)}intersectsBox(i){return this.intersectBox(i,kn)!==null}intersectTriangle(i,t,s,n,r){_u.subVectors(t,i),Hc.subVectors(s,i),qu.crossVectors(_u,Hc);let l=this.direction.dot(qu),a;if(l>0){if(n)return null;a=1}else if(l<0)a=-1,l=-l;else return null;hr.subVectors(this.origin,i);const o=a*this.direction.dot(Hc.crossVectors(hr,Hc));if(o<0)return null;const c=a*this.direction.dot(_u.cross(hr));if(c<0||o+c>l)return null;const h=-a*hr.dot(qu);return h<0?null:this.at(h/l,r)}applyMatrix4(i){return this.origin.applyMatrix4(i),this.direction.transformDirection(i),this}equals(i){return i.origin.equals(this.origin)&&i.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class _e{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(i,t,s,n,r,l,a,o,c,h,u,d,p,G,g,I){const X=this.elements;return X[0]=i,X[4]=t,X[8]=s,X[12]=n,X[1]=r,X[5]=l,X[9]=a,X[13]=o,X[2]=c,X[6]=h,X[10]=u,X[14]=d,X[3]=p,X[7]=G,X[11]=g,X[15]=I,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new _e().fromArray(this.elements)}copy(i){const t=this.elements,s=i.elements;return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],t[9]=s[9],t[10]=s[10],t[11]=s[11],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15],this}copyPosition(i){const t=this.elements,s=i.elements;return t[12]=s[12],t[13]=s[13],t[14]=s[14],this}setFromMatrix3(i){const t=i.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(i,t,s){return i.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),s.setFromMatrixColumn(this,2),this}makeBasis(i,t,s){return this.set(i.x,t.x,s.x,0,i.y,t.y,s.y,0,i.z,t.z,s.z,0,0,0,0,1),this}extractRotation(i){const t=this.elements,s=i.elements,n=1/Hl.setFromMatrixColumn(i,0).length(),r=1/Hl.setFromMatrixColumn(i,1).length(),l=1/Hl.setFromMatrixColumn(i,2).length();return t[0]=s[0]*n,t[1]=s[1]*n,t[2]=s[2]*n,t[3]=0,t[4]=s[4]*r,t[5]=s[5]*r,t[6]=s[6]*r,t[7]=0,t[8]=s[8]*l,t[9]=s[9]*l,t[10]=s[10]*l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(i){i&&i.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,s=i.x,n=i.y,r=i.z,l=Math.cos(s),a=Math.sin(s),o=Math.cos(n),c=Math.sin(n),h=Math.cos(r),u=Math.sin(r);if(i.order==="XYZ"){const d=l*h,p=l*u,G=a*h,g=a*u;t[0]=o*h,t[4]=-o*u,t[8]=c,t[1]=p+G*c,t[5]=d-g*c,t[9]=-a*o,t[2]=g-d*c,t[6]=G+p*c,t[10]=l*o}else if(i.order==="YXZ"){const d=o*h,p=o*u,G=c*h,g=c*u;t[0]=d+g*a,t[4]=G*a-p,t[8]=l*c,t[1]=l*u,t[5]=l*h,t[9]=-a,t[2]=p*a-G,t[6]=g+d*a,t[10]=l*o}else if(i.order==="ZXY"){const d=o*h,p=o*u,G=c*h,g=c*u;t[0]=d-g*a,t[4]=-l*u,t[8]=G+p*a,t[1]=p+G*a,t[5]=l*h,t[9]=g-d*a,t[2]=-l*c,t[6]=a,t[10]=l*o}else if(i.order==="ZYX"){const d=l*h,p=l*u,G=a*h,g=a*u;t[0]=o*h,t[4]=G*c-p,t[8]=d*c+g,t[1]=o*u,t[5]=g*c+d,t[9]=p*c-G,t[2]=-c,t[6]=a*o,t[10]=l*o}else if(i.order==="YZX"){const d=l*o,p=l*c,G=a*o,g=a*c;t[0]=o*h,t[4]=g-d*u,t[8]=G*u+p,t[1]=u,t[5]=l*h,t[9]=-a*h,t[2]=-c*h,t[6]=p*u+G,t[10]=d-g*u}else if(i.order==="XZY"){const d=l*o,p=l*c,G=a*o,g=a*c;t[0]=o*h,t[4]=-u,t[8]=c*h,t[1]=d*u+g,t[5]=l*h,t[9]=p*u-G,t[2]=G*u-p,t[6]=a*h,t[10]=g*u+d}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(i){return this.compose(fY,i,XY)}lookAt(i,t,s){const n=this.elements;return Xi.subVectors(i,t),Xi.lengthSq()===0&&(Xi.z=1),Xi.normalize(),dr.crossVectors(s,Xi),dr.lengthSq()===0&&(Math.abs(s.z)===1?Xi.x+=1e-4:Xi.z+=1e-4,Xi.normalize(),dr.crossVectors(s,Xi)),dr.normalize(),Pc.crossVectors(Xi,dr),n[0]=dr.x,n[4]=Pc.x,n[8]=Xi.x,n[1]=dr.y,n[5]=Pc.y,n[9]=Xi.y,n[2]=dr.z,n[6]=Pc.z,n[10]=Xi.z,this}multiply(i,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(i,t)):this.multiplyMatrices(this,i)}premultiply(i){return this.multiplyMatrices(i,this)}multiplyMatrices(i,t){const s=i.elements,n=t.elements,r=this.elements,l=s[0],a=s[4],o=s[8],c=s[12],h=s[1],u=s[5],d=s[9],p=s[13],G=s[2],g=s[6],I=s[10],X=s[14],S=s[3],x=s[7],v=s[11],L=s[15],M=n[0],E=n[4],K=n[8],q=n[12],Q=n[1],w=n[5],j=n[9],pe=n[13],se=n[2],oe=n[6],le=n[10],re=n[14],ne=n[3],Ze=n[7],fe=n[11],ve=n[15];return r[0]=l*M+a*Q+o*se+c*ne,r[4]=l*E+a*w+o*oe+c*Ze,r[8]=l*K+a*j+o*le+c*fe,r[12]=l*q+a*pe+o*re+c*ve,r[1]=h*M+u*Q+d*se+p*ne,r[5]=h*E+u*w+d*oe+p*Ze,r[9]=h*K+u*j+d*le+p*fe,r[13]=h*q+u*pe+d*re+p*ve,r[2]=G*M+g*Q+I*se+X*ne,r[6]=G*E+g*w+I*oe+X*Ze,r[10]=G*K+g*j+I*le+X*fe,r[14]=G*q+g*pe+I*re+X*ve,r[3]=S*M+x*Q+v*se+L*ne,r[7]=S*E+x*w+v*oe+L*Ze,r[11]=S*K+x*j+v*le+L*fe,r[15]=S*q+x*pe+v*re+L*ve,this}multiplyScalar(i){const t=this.elements;return t[0]*=i,t[4]*=i,t[8]*=i,t[12]*=i,t[1]*=i,t[5]*=i,t[9]*=i,t[13]*=i,t[2]*=i,t[6]*=i,t[10]*=i,t[14]*=i,t[3]*=i,t[7]*=i,t[11]*=i,t[15]*=i,this}determinant(){const i=this.elements,t=i[0],s=i[4],n=i[8],r=i[12],l=i[1],a=i[5],o=i[9],c=i[13],h=i[2],u=i[6],d=i[10],p=i[14],G=i[3],g=i[7],I=i[11],X=i[15];return G*(+r*o*u-n*c*u-r*a*d+s*c*d+n*a*p-s*o*p)+g*(+t*o*p-t*c*d+r*l*d-n*l*p+n*c*h-r*o*h)+I*(+t*c*u-t*a*p-r*l*u+s*l*p+r*a*h-s*c*h)+X*(-n*a*h-t*o*u+t*a*d+n*l*u-s*l*d+s*o*h)}transpose(){const i=this.elements;let t;return t=i[1],i[1]=i[4],i[4]=t,t=i[2],i[2]=i[8],i[8]=t,t=i[6],i[6]=i[9],i[9]=t,t=i[3],i[3]=i[12],i[12]=t,t=i[7],i[7]=i[13],i[13]=t,t=i[11],i[11]=i[14],i[14]=t,this}setPosition(i,t,s){const n=this.elements;return i.isVector3?(n[12]=i.x,n[13]=i.y,n[14]=i.z):(n[12]=i,n[13]=t,n[14]=s),this}invert(){const i=this.elements,t=i[0],s=i[1],n=i[2],r=i[3],l=i[4],a=i[5],o=i[6],c=i[7],h=i[8],u=i[9],d=i[10],p=i[11],G=i[12],g=i[13],I=i[14],X=i[15],S=u*I*c-g*d*c+g*o*p-a*I*p-u*o*X+a*d*X,x=G*d*c-h*I*c-G*o*p+l*I*p+h*o*X-l*d*X,v=h*g*c-G*u*c+G*a*p-l*g*p-h*a*X+l*u*X,L=G*u*o-h*g*o-G*a*d+l*g*d+h*a*I-l*u*I,M=t*S+s*x+n*v+r*L;if(M===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const E=1/M;return i[0]=S*E,i[1]=(g*d*r-u*I*r-g*n*p+s*I*p+u*n*X-s*d*X)*E,i[2]=(a*I*r-g*o*r+g*n*c-s*I*c-a*n*X+s*o*X)*E,i[3]=(u*o*r-a*d*r-u*n*c+s*d*c+a*n*p-s*o*p)*E,i[4]=x*E,i[5]=(h*I*r-G*d*r+G*n*p-t*I*p-h*n*X+t*d*X)*E,i[6]=(G*o*r-l*I*r-G*n*c+t*I*c+l*n*X-t*o*X)*E,i[7]=(l*d*r-h*o*r+h*n*c-t*d*c-l*n*p+t*o*p)*E,i[8]=v*E,i[9]=(G*u*r-h*g*r-G*s*p+t*g*p+h*s*X-t*u*X)*E,i[10]=(l*g*r-G*a*r+G*s*c-t*g*c-l*s*X+t*a*X)*E,i[11]=(h*a*r-l*u*r-h*s*c+t*u*c+l*s*p-t*a*p)*E,i[12]=L*E,i[13]=(h*g*n-G*u*n+G*s*d-t*g*d-h*s*I+t*u*I)*E,i[14]=(G*a*n-l*g*n-G*s*o+t*g*o+l*s*I-t*a*I)*E,i[15]=(l*u*n-h*a*n+h*s*o-t*u*o-l*s*d+t*a*d)*E,this}scale(i){const t=this.elements,s=i.x,n=i.y,r=i.z;return t[0]*=s,t[4]*=n,t[8]*=r,t[1]*=s,t[5]*=n,t[9]*=r,t[2]*=s,t[6]*=n,t[10]*=r,t[3]*=s,t[7]*=n,t[11]*=r,this}getMaxScaleOnAxis(){const i=this.elements,t=i[0]*i[0]+i[1]*i[1]+i[2]*i[2],s=i[4]*i[4]+i[5]*i[5]+i[6]*i[6],n=i[8]*i[8]+i[9]*i[9]+i[10]*i[10];return Math.sqrt(Math.max(t,s,n))}makeTranslation(i,t,s){return this.set(1,0,0,i,0,1,0,t,0,0,1,s,0,0,0,1),this}makeRotationX(i){const t=Math.cos(i),s=Math.sin(i);return this.set(1,0,0,0,0,t,-s,0,0,s,t,0,0,0,0,1),this}makeRotationY(i){const t=Math.cos(i),s=Math.sin(i);return this.set(t,0,s,0,0,1,0,0,-s,0,t,0,0,0,0,1),this}makeRotationZ(i){const t=Math.cos(i),s=Math.sin(i);return this.set(t,-s,0,0,s,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(i,t){const s=Math.cos(t),n=Math.sin(t),r=1-s,l=i.x,a=i.y,o=i.z,c=r*l,h=r*a;return this.set(c*l+s,c*a-n*o,c*o+n*a,0,c*a+n*o,h*a+s,h*o-n*l,0,c*o-n*a,h*o+n*l,r*o*o+s,0,0,0,0,1),this}makeScale(i,t,s){return this.set(i,0,0,0,0,t,0,0,0,0,s,0,0,0,0,1),this}makeShear(i,t,s,n,r,l){return this.set(1,s,r,0,i,1,l,0,t,n,1,0,0,0,0,1),this}compose(i,t,s){const n=this.elements,r=t._x,l=t._y,a=t._z,o=t._w,c=r+r,h=l+l,u=a+a,d=r*c,p=r*h,G=r*u,g=l*h,I=l*u,X=a*u,S=o*c,x=o*h,v=o*u,L=s.x,M=s.y,E=s.z;return n[0]=(1-(g+X))*L,n[1]=(p+v)*L,n[2]=(G-x)*L,n[3]=0,n[4]=(p-v)*M,n[5]=(1-(d+X))*M,n[6]=(I+S)*M,n[7]=0,n[8]=(G+x)*E,n[9]=(I-S)*E,n[10]=(1-(d+g))*E,n[11]=0,n[12]=i.x,n[13]=i.y,n[14]=i.z,n[15]=1,this}decompose(i,t,s){const n=this.elements;let r=Hl.set(n[0],n[1],n[2]).length();const l=Hl.set(n[4],n[5],n[6]).length(),a=Hl.set(n[8],n[9],n[10]).length();this.determinant()<0&&(r=-r),i.x=n[12],i.y=n[13],i.z=n[14],$i.copy(this);const c=1/r,h=1/l,u=1/a;return $i.elements[0]*=c,$i.elements[1]*=c,$i.elements[2]*=c,$i.elements[4]*=h,$i.elements[5]*=h,$i.elements[6]*=h,$i.elements[8]*=u,$i.elements[9]*=u,$i.elements[10]*=u,t.setFromRotationMatrix($i),s.x=r,s.y=l,s.z=a,this}makePerspective(i,t,s,n,r,l){l===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,o=2*r/(t-i),c=2*r/(s-n),h=(t+i)/(t-i),u=(s+n)/(s-n),d=-(l+r)/(l-r),p=-2*l*r/(l-r);return a[0]=o,a[4]=0,a[8]=h,a[12]=0,a[1]=0,a[5]=c,a[9]=u,a[13]=0,a[2]=0,a[6]=0,a[10]=d,a[14]=p,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(i,t,s,n,r,l){const a=this.elements,o=1/(t-i),c=1/(s-n),h=1/(l-r),u=(t+i)*o,d=(s+n)*c,p=(l+r)*h;return a[0]=2*o,a[4]=0,a[8]=0,a[12]=-u,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-d,a[2]=0,a[6]=0,a[10]=-2*h,a[14]=-p,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(i){const t=this.elements,s=i.elements;for(let n=0;n<16;n++)if(t[n]!==s[n])return!1;return!0}fromArray(i,t=0){for(let s=0;s<16;s++)this.elements[s]=i[s+t];return this}toArray(i=[],t=0){const s=this.elements;return i[t]=s[0],i[t+1]=s[1],i[t+2]=s[2],i[t+3]=s[3],i[t+4]=s[4],i[t+5]=s[5],i[t+6]=s[6],i[t+7]=s[7],i[t+8]=s[8],i[t+9]=s[9],i[t+10]=s[10],i[t+11]=s[11],i[t+12]=s[12],i[t+13]=s[13],i[t+14]=s[14],i[t+15]=s[15],i}}_e.prototype.isMatrix4=!0;const Hl=new H,$i=new _e,fY=new H(0,0,0),XY=new H(1,1,1),dr=new H,Pc=new H,Xi=new H,Ob=new _e,Ab=new Ls;class mn{constructor(i=0,t=0,s=0,n=mn.DefaultOrder){this._x=i,this._y=t,this._z=s,this._order=n}get x(){return this._x}set x(i){this._x=i,this._onChangeCallback()}get y(){return this._y}set y(i){this._y=i,this._onChangeCallback()}get z(){return this._z}set z(i){this._z=i,this._onChangeCallback()}get order(){return this._order}set order(i){this._order=i,this._onChangeCallback()}set(i,t,s,n=this._order){return this._x=i,this._y=t,this._z=s,this._order=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(i){return this._x=i._x,this._y=i._y,this._z=i._z,this._order=i._order,this._onChangeCallback(),this}setFromRotationMatrix(i,t=this._order,s=!0){const n=i.elements,r=n[0],l=n[4],a=n[8],o=n[1],c=n[5],h=n[9],u=n[2],d=n[6],p=n[10];switch(t){case"XYZ":this._y=Math.asin(ws(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-h,p),this._z=Math.atan2(-l,r)):(this._x=Math.atan2(d,c),this._z=0);break;case"YXZ":this._x=Math.asin(-ws(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(a,p),this._z=Math.atan2(o,c)):(this._y=Math.atan2(-u,r),this._z=0);break;case"ZXY":this._x=Math.asin(ws(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-u,p),this._z=Math.atan2(-l,c)):(this._y=0,this._z=Math.atan2(o,r));break;case"ZYX":this._y=Math.asin(-ws(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(d,p),this._z=Math.atan2(o,r)):(this._x=0,this._z=Math.atan2(-l,c));break;case"YZX":this._z=Math.asin(ws(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-h,c),this._y=Math.atan2(-u,r)):(this._x=0,this._y=Math.atan2(a,p));break;case"XZY":this._z=Math.asin(-ws(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(a,r)):(this._x=Math.atan2(-h,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,s===!0&&this._onChangeCallback(),this}setFromQuaternion(i,t,s){return Ob.makeRotationFromQuaternion(i),this.setFromRotationMatrix(Ob,t,s)}setFromVector3(i,t=this._order){return this.set(i.x,i.y,i.z,t)}reorder(i){return Ab.setFromEuler(this),this.setFromQuaternion(Ab,i)}equals(i){return i._x===this._x&&i._y===this._y&&i._z===this._z&&i._order===this._order}fromArray(i){return this._x=i[0],this._y=i[1],this._z=i[2],i[3]!==void 0&&(this._order=i[3]),this._onChangeCallback(),this}toArray(i=[],t=0){return i[t]=this._x,i[t+1]=this._y,i[t+2]=this._z,i[t+3]=this._order,i}_onChange(i){return this._onChangeCallback=i,this}_onChangeCallback(){}}mn.prototype.isEuler=!0,mn.DefaultOrder="XYZ",mn.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class $u{constructor(){this.mask=1}set(i){this.mask=(1<<i|0)>>>0}enable(i){this.mask|=1<<i|0}enableAll(){this.mask=-1}toggle(i){this.mask^=1<<i|0}disable(i){this.mask&=~(1<<i|0)}disableAll(){this.mask=0}test(i){return(this.mask&i.mask)!==0}isEnabled(i){return(this.mask&(1<<i|0))!==0}}let WY=0;const Bb=new H,Pl=new Ls,Dn=new _e,zc=new H,ao=new H,SY=new H,CY=new Ls,jb=new H(1,0,0),Qb=new H(0,1,0),_b=new H(0,0,1),VY={type:"added"},qb={type:"removed"};class zt extends zn{constructor(){super();Object.defineProperty(this,"id",{value:WY++}),this.uuid=ji(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=zt.DefaultUp.clone();const i=new H,t=new mn,s=new Ls,n=new H(1,1,1);function r(){s.setFromEuler(t,!1)}function l(){t.setFromQuaternion(s,void 0,!1)}t._onChange(r),s._onChange(l),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:i},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:s},scale:{configurable:!0,enumerable:!0,value:n},modelViewMatrix:{value:new _e},normalMatrix:{value:new Es}}),this.matrix=new _e,this.matrixWorld=new _e,this.matrixAutoUpdate=zt.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new $u,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(i){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(i),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(i){return this.quaternion.premultiply(i),this}setRotationFromAxisAngle(i,t){this.quaternion.setFromAxisAngle(i,t)}setRotationFromEuler(i){this.quaternion.setFromEuler(i,!0)}setRotationFromMatrix(i){this.quaternion.setFromRotationMatrix(i)}setRotationFromQuaternion(i){this.quaternion.copy(i)}rotateOnAxis(i,t){return Pl.setFromAxisAngle(i,t),this.quaternion.multiply(Pl),this}rotateOnWorldAxis(i,t){return Pl.setFromAxisAngle(i,t),this.quaternion.premultiply(Pl),this}rotateX(i){return this.rotateOnAxis(jb,i)}rotateY(i){return this.rotateOnAxis(Qb,i)}rotateZ(i){return this.rotateOnAxis(_b,i)}translateOnAxis(i,t){return Bb.copy(i).applyQuaternion(this.quaternion),this.position.add(Bb.multiplyScalar(t)),this}translateX(i){return this.translateOnAxis(jb,i)}translateY(i){return this.translateOnAxis(Qb,i)}translateZ(i){return this.translateOnAxis(_b,i)}localToWorld(i){return i.applyMatrix4(this.matrixWorld)}worldToLocal(i){return i.applyMatrix4(Dn.copy(this.matrixWorld).invert())}lookAt(i,t,s){i.isVector3?zc.copy(i):zc.set(i,t,s);const n=this.parent;this.updateWorldMatrix(!0,!1),ao.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Dn.lookAt(ao,zc,this.up):Dn.lookAt(zc,ao,this.up),this.quaternion.setFromRotationMatrix(Dn),n&&(Dn.extractRotation(n.matrixWorld),Pl.setFromRotationMatrix(Dn),this.quaternion.premultiply(Pl.invert()))}add(i){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return i===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",i),this):(i&&i.isObject3D?(i.parent!==null&&i.parent.remove(i),i.parent=this,this.children.push(i),i.dispatchEvent(VY)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",i),this)}remove(i){if(arguments.length>1){for(let s=0;s<arguments.length;s++)this.remove(arguments[s]);return this}const t=this.children.indexOf(i);return t!==-1&&(i.parent=null,this.children.splice(t,1),i.dispatchEvent(qb)),this}removeFromParent(){const i=this.parent;return i!==null&&i.remove(this),this}clear(){for(let i=0;i<this.children.length;i++){const t=this.children[i];t.parent=null,t.dispatchEvent(qb)}return this.children.length=0,this}attach(i){return this.updateWorldMatrix(!0,!1),Dn.copy(this.matrixWorld).invert(),i.parent!==null&&(i.parent.updateWorldMatrix(!0,!1),Dn.multiply(i.parent.matrixWorld)),i.applyMatrix4(Dn),this.add(i),i.updateWorldMatrix(!1,!0),this}getObjectById(i){return this.getObjectByProperty("id",i)}getObjectByName(i){return this.getObjectByProperty("name",i)}getObjectByProperty(i,t){if(this[i]===t)return this;for(let s=0,n=this.children.length;s<n;s++){const l=this.children[s].getObjectByProperty(i,t);if(l!==void 0)return l}}getWorldPosition(i){return this.updateWorldMatrix(!0,!1),i.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(i){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ao,i,SY),i}getWorldScale(i){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ao,CY,i),i}getWorldDirection(i){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return i.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(i){i(this);const t=this.children;for(let s=0,n=t.length;s<n;s++)t[s].traverse(i)}traverseVisible(i){if(this.visible===!1)return;i(this);const t=this.children;for(let s=0,n=t.length;s<n;s++)t[s].traverseVisible(i)}traverseAncestors(i){const t=this.parent;t!==null&&(i(t),t.traverseAncestors(i))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(i){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||i)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,i=!0);const t=this.children;for(let s=0,n=t.length;s<n;s++)t[s].updateMatrixWorld(i)}updateWorldMatrix(i,t){const s=this.parent;if(i===!0&&s!==null&&s.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const n=this.children;for(let r=0,l=n.length;r<l;r++)n[r].updateWorldMatrix(!1,!0)}}toJSON(i){const t=i===void 0||typeof i=="string",s={};t&&(i={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},s.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const n={};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.castShadow===!0&&(n.castShadow=!0),this.receiveShadow===!0&&(n.receiveShadow=!0),this.visible===!1&&(n.visible=!1),this.frustumCulled===!1&&(n.frustumCulled=!1),this.renderOrder!==0&&(n.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(n.userData=this.userData),n.layers=this.layers.mask,n.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(n.matrixAutoUpdate=!1),this.isInstancedMesh&&(n.type="InstancedMesh",n.count=this.count,n.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(n.instanceColor=this.instanceColor.toJSON()));function r(a,o){return a[o.uuid]===void 0&&(a[o.uuid]=o.toJSON(i)),o.uuid}if(this.isScene)this.background&&(this.background.isColor?n.background=this.background.toJSON():this.background.isTexture&&(n.background=this.background.toJSON(i).uuid)),this.environment&&this.environment.isTexture&&(n.environment=this.environment.toJSON(i).uuid);else if(this.isMesh||this.isLine||this.isPoints){n.geometry=r(i.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const o=a.shapes;if(Array.isArray(o))for(let c=0,h=o.length;c<h;c++){const u=o[c];r(i.shapes,u)}else r(i.shapes,o)}}if(this.isSkinnedMesh&&(n.bindMode=this.bindMode,n.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(i.skeletons,this.skeleton),n.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let o=0,c=this.material.length;o<c;o++)a.push(r(i.materials,this.material[o]));n.material=a}else n.material=r(i.materials,this.material);if(this.children.length>0){n.children=[];for(let a=0;a<this.children.length;a++)n.children.push(this.children[a].toJSON(i).object)}if(this.animations.length>0){n.animations=[];for(let a=0;a<this.animations.length;a++){const o=this.animations[a];n.animations.push(r(i.animations,o))}}if(t){const a=l(i.geometries),o=l(i.materials),c=l(i.textures),h=l(i.images),u=l(i.shapes),d=l(i.skeletons),p=l(i.animations),G=l(i.nodes);a.length>0&&(s.geometries=a),o.length>0&&(s.materials=o),c.length>0&&(s.textures=c),h.length>0&&(s.images=h),u.length>0&&(s.shapes=u),d.length>0&&(s.skeletons=d),p.length>0&&(s.animations=p),G.length>0&&(s.nodes=G)}return s.object=n,s;function l(a){const o=[];for(const c in a){const h=a[c];delete h.metadata,o.push(h)}return o}}clone(i){return new this.constructor().copy(this,i)}copy(i,t=!0){if(this.name=i.name,this.up.copy(i.up),this.position.copy(i.position),this.rotation.order=i.rotation.order,this.quaternion.copy(i.quaternion),this.scale.copy(i.scale),this.matrix.copy(i.matrix),this.matrixWorld.copy(i.matrixWorld),this.matrixAutoUpdate=i.matrixAutoUpdate,this.matrixWorldNeedsUpdate=i.matrixWorldNeedsUpdate,this.layers.mask=i.layers.mask,this.visible=i.visible,this.castShadow=i.castShadow,this.receiveShadow=i.receiveShadow,this.frustumCulled=i.frustumCulled,this.renderOrder=i.renderOrder,this.userData=JSON.parse(JSON.stringify(i.userData)),t===!0)for(let s=0;s<i.children.length;s++){const n=i.children[s];this.add(n.clone())}return this}}zt.DefaultUp=new H(0,1,0),zt.DefaultMatrixAutoUpdate=!0,zt.prototype.isObject3D=!0;const en=new H,Jn=new H,ed=new H,Kn=new H,zl=new H,Ul=new H,$b=new H,td=new H,sd=new H,id=new H;class Is{constructor(i=new H,t=new H,s=new H){this.a=i,this.b=t,this.c=s}static getNormal(i,t,s,n){n.subVectors(s,t),en.subVectors(i,t),n.cross(en);const r=n.lengthSq();return r>0?n.multiplyScalar(1/Math.sqrt(r)):n.set(0,0,0)}static getBarycoord(i,t,s,n,r){en.subVectors(n,t),Jn.subVectors(s,t),ed.subVectors(i,t);const l=en.dot(en),a=en.dot(Jn),o=en.dot(ed),c=Jn.dot(Jn),h=Jn.dot(ed),u=l*c-a*a;if(u===0)return r.set(-2,-1,-1);const d=1/u,p=(c*o-a*h)*d,G=(l*h-a*o)*d;return r.set(1-p-G,G,p)}static containsPoint(i,t,s,n){return this.getBarycoord(i,t,s,n,Kn),Kn.x>=0&&Kn.y>=0&&Kn.x+Kn.y<=1}static getUV(i,t,s,n,r,l,a,o){return this.getBarycoord(i,t,s,n,Kn),o.set(0,0),o.addScaledVector(r,Kn.x),o.addScaledVector(l,Kn.y),o.addScaledVector(a,Kn.z),o}static isFrontFacing(i,t,s,n){return en.subVectors(s,t),Jn.subVectors(i,t),en.cross(Jn).dot(n)<0}set(i,t,s){return this.a.copy(i),this.b.copy(t),this.c.copy(s),this}setFromPointsAndIndices(i,t,s,n){return this.a.copy(i[t]),this.b.copy(i[s]),this.c.copy(i[n]),this}setFromAttributeAndIndices(i,t,s,n){return this.a.fromBufferAttribute(i,t),this.b.fromBufferAttribute(i,s),this.c.fromBufferAttribute(i,n),this}clone(){return new this.constructor().copy(this)}copy(i){return this.a.copy(i.a),this.b.copy(i.b),this.c.copy(i.c),this}getArea(){return en.subVectors(this.c,this.b),Jn.subVectors(this.a,this.b),en.cross(Jn).length()*.5}getMidpoint(i){return i.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(i){return Is.getNormal(this.a,this.b,this.c,i)}getPlane(i){return i.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(i,t){return Is.getBarycoord(i,this.a,this.b,this.c,t)}getUV(i,t,s,n,r){return Is.getUV(i,this.a,this.b,this.c,t,s,n,r)}containsPoint(i){return Is.containsPoint(i,this.a,this.b,this.c)}isFrontFacing(i){return Is.isFrontFacing(this.a,this.b,this.c,i)}intersectsBox(i){return i.intersectsTriangle(this)}closestPointToPoint(i,t){const s=this.a,n=this.b,r=this.c;let l,a;zl.subVectors(n,s),Ul.subVectors(r,s),td.subVectors(i,s);const o=zl.dot(td),c=Ul.dot(td);if(o<=0&&c<=0)return t.copy(s);sd.subVectors(i,n);const h=zl.dot(sd),u=Ul.dot(sd);if(h>=0&&u<=h)return t.copy(n);const d=o*u-h*c;if(d<=0&&o>=0&&h<=0)return l=o/(o-h),t.copy(s).addScaledVector(zl,l);id.subVectors(i,r);const p=zl.dot(id),G=Ul.dot(id);if(G>=0&&p<=G)return t.copy(r);const g=p*c-o*G;if(g<=0&&c>=0&&G<=0)return a=c/(c-G),t.copy(s).addScaledVector(Ul,a);const I=h*G-p*u;if(I<=0&&u-h>=0&&p-G>=0)return $b.subVectors(r,n),a=(u-h)/(u-h+(p-G)),t.copy(n).addScaledVector($b,a);const X=1/(I+g+d);return l=g*X,a=d*X,t.copy(s).addScaledVector(zl,l).addScaledVector(Ul,a)}equals(i){return i.a.equals(this.a)&&i.b.equals(this.b)&&i.c.equals(this.c)}}let LY=0;class Ps extends zn{constructor(){super();Object.defineProperty(this,"id",{value:LY++}),this.uuid=ji(),this.name="",this.type="Material",this.fog=!0,this.blending=Xl,this.side=lr,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=ub,this.blendDst=db,this.blendEquation=Wl,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=qa,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=tY,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Hu,this.stencilZFail=Hu,this.stencilZPass=Hu,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(i){this._alphaTest>0!=i>0&&this.version++,this._alphaTest=i}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(i){if(i!==void 0)for(const t in i){const s=i[t];if(s===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=s===lb;continue}const n=this[t];if(n===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}n&&n.isColor?n.set(s):n&&n.isVector3&&s&&s.isVector3?n.copy(s):this[t]=s}}toJSON(i){const t=i===void 0||typeof i=="string";t&&(i={textures:{},images:{}});const s={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.color&&this.color.isColor&&(s.color=this.color.getHex()),this.roughness!==void 0&&(s.roughness=this.roughness),this.metalness!==void 0&&(s.metalness=this.metalness),this.sheen!==void 0&&(s.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(s.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(s.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(s.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(s.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(s.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(s.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(s.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(s.shininess=this.shininess),this.clearcoat!==void 0&&(s.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(s.clearcoatMap=this.clearcoatMap.toJSON(i).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(s.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(i).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(s.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(i).uuid,s.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(s.map=this.map.toJSON(i).uuid),this.matcap&&this.matcap.isTexture&&(s.matcap=this.matcap.toJSON(i).uuid),this.alphaMap&&this.alphaMap.isTexture&&(s.alphaMap=this.alphaMap.toJSON(i).uuid),this.lightMap&&this.lightMap.isTexture&&(s.lightMap=this.lightMap.toJSON(i).uuid,s.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(s.aoMap=this.aoMap.toJSON(i).uuid,s.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(s.bumpMap=this.bumpMap.toJSON(i).uuid,s.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(s.normalMap=this.normalMap.toJSON(i).uuid,s.normalMapType=this.normalMapType,s.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(s.displacementMap=this.displacementMap.toJSON(i).uuid,s.displacementScale=this.displacementScale,s.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(s.roughnessMap=this.roughnessMap.toJSON(i).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(s.metalnessMap=this.metalnessMap.toJSON(i).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(s.emissiveMap=this.emissiveMap.toJSON(i).uuid),this.specularMap&&this.specularMap.isTexture&&(s.specularMap=this.specularMap.toJSON(i).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(s.specularIntensityMap=this.specularIntensityMap.toJSON(i).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(s.specularColorMap=this.specularColorMap.toJSON(i).uuid),this.envMap&&this.envMap.isTexture&&(s.envMap=this.envMap.toJSON(i).uuid,this.combine!==void 0&&(s.combine=this.combine)),this.envMapIntensity!==void 0&&(s.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(s.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(s.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(s.gradientMap=this.gradientMap.toJSON(i).uuid),this.transmission!==void 0&&(s.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(s.transmissionMap=this.transmissionMap.toJSON(i).uuid),this.thickness!==void 0&&(s.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(s.thicknessMap=this.thicknessMap.toJSON(i).uuid),this.attenuationDistance!==void 0&&(s.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(s.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(s.size=this.size),this.shadowSide!==null&&(s.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(s.sizeAttenuation=this.sizeAttenuation),this.blending!==Xl&&(s.blending=this.blending),this.side!==lr&&(s.side=this.side),this.vertexColors&&(s.vertexColors=!0),this.opacity<1&&(s.opacity=this.opacity),this.transparent===!0&&(s.transparent=this.transparent),s.depthFunc=this.depthFunc,s.depthTest=this.depthTest,s.depthWrite=this.depthWrite,s.colorWrite=this.colorWrite,s.stencilWrite=this.stencilWrite,s.stencilWriteMask=this.stencilWriteMask,s.stencilFunc=this.stencilFunc,s.stencilRef=this.stencilRef,s.stencilFuncMask=this.stencilFuncMask,s.stencilFail=this.stencilFail,s.stencilZFail=this.stencilZFail,s.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(s.rotation=this.rotation),this.polygonOffset===!0&&(s.polygonOffset=!0),this.polygonOffsetFactor!==0&&(s.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(s.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(s.linewidth=this.linewidth),this.dashSize!==void 0&&(s.dashSize=this.dashSize),this.gapSize!==void 0&&(s.gapSize=this.gapSize),this.scale!==void 0&&(s.scale=this.scale),this.dithering===!0&&(s.dithering=!0),this.alphaTest>0&&(s.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(s.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(s.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(s.wireframe=this.wireframe),this.wireframeLinewidth>1&&(s.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(s.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(s.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(s.flatShading=this.flatShading),this.visible===!1&&(s.visible=!1),this.toneMapped===!1&&(s.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(s.userData=this.userData);function n(r){const l=[];for(const a in r){const o=r[a];delete o.metadata,l.push(o)}return l}if(t){const r=n(i.textures),l=n(i.images);r.length>0&&(s.textures=r),l.length>0&&(s.images=l)}return s}clone(){return new this.constructor().copy(this)}copy(i){this.name=i.name,this.fog=i.fog,this.blending=i.blending,this.side=i.side,this.vertexColors=i.vertexColors,this.opacity=i.opacity,this.transparent=i.transparent,this.blendSrc=i.blendSrc,this.blendDst=i.blendDst,this.blendEquation=i.blendEquation,this.blendSrcAlpha=i.blendSrcAlpha,this.blendDstAlpha=i.blendDstAlpha,this.blendEquationAlpha=i.blendEquationAlpha,this.depthFunc=i.depthFunc,this.depthTest=i.depthTest,this.depthWrite=i.depthWrite,this.stencilWriteMask=i.stencilWriteMask,this.stencilFunc=i.stencilFunc,this.stencilRef=i.stencilRef,this.stencilFuncMask=i.stencilFuncMask,this.stencilFail=i.stencilFail,this.stencilZFail=i.stencilZFail,this.stencilZPass=i.stencilZPass,this.stencilWrite=i.stencilWrite;const t=i.clippingPlanes;let s=null;if(t!==null){const n=t.length;s=new Array(n);for(let r=0;r!==n;++r)s[r]=t[r].clone()}return this.clippingPlanes=s,this.clipIntersection=i.clipIntersection,this.clipShadows=i.clipShadows,this.shadowSide=i.shadowSide,this.colorWrite=i.colorWrite,this.precision=i.precision,this.polygonOffset=i.polygonOffset,this.polygonOffsetFactor=i.polygonOffsetFactor,this.polygonOffsetUnits=i.polygonOffsetUnits,this.dithering=i.dithering,this.alphaTest=i.alphaTest,this.alphaToCoverage=i.alphaToCoverage,this.premultipliedAlpha=i.premultipliedAlpha,this.visible=i.visible,this.toneMapped=i.toneMapped,this.userData=JSON.parse(JSON.stringify(i.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(i){i===!0&&this.version++}}Ps.prototype.isMaterial=!0,Ps.fromType=function(){return null};class pr extends Ps{constructor(i){super();this.type="MeshBasicMaterial",this.color=new ie(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Rc,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(i)}copy(i){return super.copy(i),this.color.copy(i.color),this.map=i.map,this.lightMap=i.lightMap,this.lightMapIntensity=i.lightMapIntensity,this.aoMap=i.aoMap,this.aoMapIntensity=i.aoMapIntensity,this.specularMap=i.specularMap,this.alphaMap=i.alphaMap,this.envMap=i.envMap,this.combine=i.combine,this.reflectivity=i.reflectivity,this.refractionRatio=i.refractionRatio,this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this.wireframeLinecap=i.wireframeLinecap,this.wireframeLinejoin=i.wireframeLinejoin,this}}pr.prototype.isMeshBasicMaterial=!0;const Ys=new H,Uc=new Xe;class Nt{constructor(i,t,s){if(Array.isArray(i))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=i,this.itemSize=t,this.count=i!==void 0?i.length/t:0,this.normalized=s===!0,this.usage=to,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(i){i===!0&&this.version++}setUsage(i){return this.usage=i,this}copy(i){return this.name=i.name,this.array=new i.array.constructor(i.array),this.itemSize=i.itemSize,this.count=i.count,this.normalized=i.normalized,this.usage=i.usage,this}copyAt(i,t,s){i*=this.itemSize,s*=t.itemSize;for(let n=0,r=this.itemSize;n<r;n++)this.array[i+n]=t.array[s+n];return this}copyArray(i){return this.array.set(i),this}copyColorsArray(i){const t=this.array;let s=0;for(let n=0,r=i.length;n<r;n++){let l=i[n];l===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",n),l=new ie),t[s++]=l.r,t[s++]=l.g,t[s++]=l.b}return this}copyVector2sArray(i){const t=this.array;let s=0;for(let n=0,r=i.length;n<r;n++){let l=i[n];l===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",n),l=new Xe),t[s++]=l.x,t[s++]=l.y}return this}copyVector3sArray(i){const t=this.array;let s=0;for(let n=0,r=i.length;n<r;n++){let l=i[n];l===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",n),l=new H),t[s++]=l.x,t[s++]=l.y,t[s++]=l.z}return this}copyVector4sArray(i){const t=this.array;let s=0;for(let n=0,r=i.length;n<r;n++){let l=i[n];l===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",n),l=new De),t[s++]=l.x,t[s++]=l.y,t[s++]=l.z,t[s++]=l.w}return this}applyMatrix3(i){if(this.itemSize===2)for(let t=0,s=this.count;t<s;t++)Uc.fromBufferAttribute(this,t),Uc.applyMatrix3(i),this.setXY(t,Uc.x,Uc.y);else if(this.itemSize===3)for(let t=0,s=this.count;t<s;t++)Ys.fromBufferAttribute(this,t),Ys.applyMatrix3(i),this.setXYZ(t,Ys.x,Ys.y,Ys.z);return this}applyMatrix4(i){for(let t=0,s=this.count;t<s;t++)Ys.fromBufferAttribute(this,t),Ys.applyMatrix4(i),this.setXYZ(t,Ys.x,Ys.y,Ys.z);return this}applyNormalMatrix(i){for(let t=0,s=this.count;t<s;t++)Ys.fromBufferAttribute(this,t),Ys.applyNormalMatrix(i),this.setXYZ(t,Ys.x,Ys.y,Ys.z);return this}transformDirection(i){for(let t=0,s=this.count;t<s;t++)Ys.fromBufferAttribute(this,t),Ys.transformDirection(i),this.setXYZ(t,Ys.x,Ys.y,Ys.z);return this}set(i,t=0){return this.array.set(i,t),this}getX(i){return this.array[i*this.itemSize]}setX(i,t){return this.array[i*this.itemSize]=t,this}getY(i){return this.array[i*this.itemSize+1]}setY(i,t){return this.array[i*this.itemSize+1]=t,this}getZ(i){return this.array[i*this.itemSize+2]}setZ(i,t){return this.array[i*this.itemSize+2]=t,this}getW(i){return this.array[i*this.itemSize+3]}setW(i,t){return this.array[i*this.itemSize+3]=t,this}setXY(i,t,s){return i*=this.itemSize,this.array[i+0]=t,this.array[i+1]=s,this}setXYZ(i,t,s,n){return i*=this.itemSize,this.array[i+0]=t,this.array[i+1]=s,this.array[i+2]=n,this}setXYZW(i,t,s,n,r){return i*=this.itemSize,this.array[i+0]=t,this.array[i+1]=s,this.array[i+2]=n,this.array[i+3]=r,this}onUpload(i){return this.onUploadCallback=i,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const i={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(i.name=this.name),this.usage!==to&&(i.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(i.updateRange=this.updateRange),i}}Nt.prototype.isBufferAttribute=!0;class e0 extends Nt{constructor(i,t,s){super(new Uint16Array(i),t,s)}}class t0 extends Nt{constructor(i,t,s){super(new Uint32Array(i),t,s)}}class FY extends Nt{constructor(i,t,s){super(new Uint16Array(i),t,s)}}FY.prototype.isFloat16BufferAttribute=!0;class ds extends Nt{constructor(i,t,s){super(new Float32Array(i),t,s)}}let NY=0;const Ei=new _e,nd=new zt,kl=new H,Wi=new is,oo=new is,ks=new H;class It extends zn{constructor(){super();Object.defineProperty(this,"id",{value:NY++}),this.uuid=ji(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(i){return Array.isArray(i)?this.index=new(Ub(i)?t0:e0)(i,1):this.index=i,this}getAttribute(i){return this.attributes[i]}setAttribute(i,t){return this.attributes[i]=t,this}deleteAttribute(i){return delete this.attributes[i],this}hasAttribute(i){return this.attributes[i]!==void 0}addGroup(i,t,s=0){this.groups.push({start:i,count:t,materialIndex:s})}clearGroups(){this.groups=[]}setDrawRange(i,t){this.drawRange.start=i,this.drawRange.count=t}applyMatrix4(i){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(i),t.needsUpdate=!0);const s=this.attributes.normal;if(s!==void 0){const r=new Es().getNormalMatrix(i);s.applyNormalMatrix(r),s.needsUpdate=!0}const n=this.attributes.tangent;return n!==void 0&&(n.transformDirection(i),n.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(i){return Ei.makeRotationFromQuaternion(i),this.applyMatrix4(Ei),this}rotateX(i){return Ei.makeRotationX(i),this.applyMatrix4(Ei),this}rotateY(i){return Ei.makeRotationY(i),this.applyMatrix4(Ei),this}rotateZ(i){return Ei.makeRotationZ(i),this.applyMatrix4(Ei),this}translate(i,t,s){return Ei.makeTranslation(i,t,s),this.applyMatrix4(Ei),this}scale(i,t,s){return Ei.makeScale(i,t,s),this.applyMatrix4(Ei),this}lookAt(i){return nd.lookAt(i),nd.updateMatrix(),this.applyMatrix4(nd.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(kl).negate(),this.translate(kl.x,kl.y,kl.z),this}setFromPoints(i){const t=[];for(let s=0,n=i.length;s<n;s++){const r=i[s];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new ds(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new is);const i=this.attributes.position,t=this.morphAttributes.position;if(i&&i.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new H(-1/0,-1/0,-1/0),new H(1/0,1/0,1/0));return}if(i!==void 0){if(this.boundingBox.setFromBufferAttribute(i),t)for(let s=0,n=t.length;s<n;s++){const r=t[s];Wi.setFromBufferAttribute(r),this.morphTargetsRelative?(ks.addVectors(this.boundingBox.min,Wi.min),this.boundingBox.expandByPoint(ks),ks.addVectors(this.boundingBox.max,Wi.max),this.boundingBox.expandByPoint(ks)):(this.boundingBox.expandByPoint(Wi.min),this.boundingBox.expandByPoint(Wi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new qi);const i=this.attributes.position,t=this.morphAttributes.position;if(i&&i.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new H,1/0);return}if(i){const s=this.boundingSphere.center;if(Wi.setFromBufferAttribute(i),t)for(let r=0,l=t.length;r<l;r++){const a=t[r];oo.setFromBufferAttribute(a),this.morphTargetsRelative?(ks.addVectors(Wi.min,oo.min),Wi.expandByPoint(ks),ks.addVectors(Wi.max,oo.max),Wi.expandByPoint(ks)):(Wi.expandByPoint(oo.min),Wi.expandByPoint(oo.max))}Wi.getCenter(s);let n=0;for(let r=0,l=i.count;r<l;r++)ks.fromBufferAttribute(i,r),n=Math.max(n,s.distanceToSquared(ks));if(t)for(let r=0,l=t.length;r<l;r++){const a=t[r],o=this.morphTargetsRelative;for(let c=0,h=a.count;c<h;c++)ks.fromBufferAttribute(a,c),o&&(kl.fromBufferAttribute(i,c),ks.add(kl)),n=Math.max(n,s.distanceToSquared(ks))}this.boundingSphere.radius=Math.sqrt(n),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const i=this.index,t=this.attributes;if(i===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const s=i.array,n=t.position.array,r=t.normal.array,l=t.uv.array,a=n.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Nt(new Float32Array(4*a),4));const o=this.getAttribute("tangent").array,c=[],h=[];for(let Q=0;Q<a;Q++)c[Q]=new H,h[Q]=new H;const u=new H,d=new H,p=new H,G=new Xe,g=new Xe,I=new Xe,X=new H,S=new H;function x(Q,w,j){u.fromArray(n,Q*3),d.fromArray(n,w*3),p.fromArray(n,j*3),G.fromArray(l,Q*2),g.fromArray(l,w*2),I.fromArray(l,j*2),d.sub(u),p.sub(u),g.sub(G),I.sub(G);const pe=1/(g.x*I.y-I.x*g.y);!isFinite(pe)||(X.copy(d).multiplyScalar(I.y).addScaledVector(p,-g.y).multiplyScalar(pe),S.copy(p).multiplyScalar(g.x).addScaledVector(d,-I.x).multiplyScalar(pe),c[Q].add(X),c[w].add(X),c[j].add(X),h[Q].add(S),h[w].add(S),h[j].add(S))}let v=this.groups;v.length===0&&(v=[{start:0,count:s.length}]);for(let Q=0,w=v.length;Q<w;++Q){const j=v[Q],pe=j.start,se=j.count;for(let oe=pe,le=pe+se;oe<le;oe+=3)x(s[oe+0],s[oe+1],s[oe+2])}const L=new H,M=new H,E=new H,K=new H;function q(Q){E.fromArray(r,Q*3),K.copy(E);const w=c[Q];L.copy(w),L.sub(E.multiplyScalar(E.dot(w))).normalize(),M.crossVectors(K,w);const pe=M.dot(h[Q])<0?-1:1;o[Q*4]=L.x,o[Q*4+1]=L.y,o[Q*4+2]=L.z,o[Q*4+3]=pe}for(let Q=0,w=v.length;Q<w;++Q){const j=v[Q],pe=j.start,se=j.count;for(let oe=pe,le=pe+se;oe<le;oe+=3)q(s[oe+0]),q(s[oe+1]),q(s[oe+2])}}computeVertexNormals(){const i=this.index,t=this.getAttribute("position");if(t!==void 0){let s=this.getAttribute("normal");if(s===void 0)s=new Nt(new Float32Array(t.count*3),3),this.setAttribute("normal",s);else for(let d=0,p=s.count;d<p;d++)s.setXYZ(d,0,0,0);const n=new H,r=new H,l=new H,a=new H,o=new H,c=new H,h=new H,u=new H;if(i)for(let d=0,p=i.count;d<p;d+=3){const G=i.getX(d+0),g=i.getX(d+1),I=i.getX(d+2);n.fromBufferAttribute(t,G),r.fromBufferAttribute(t,g),l.fromBufferAttribute(t,I),h.subVectors(l,r),u.subVectors(n,r),h.cross(u),a.fromBufferAttribute(s,G),o.fromBufferAttribute(s,g),c.fromBufferAttribute(s,I),a.add(h),o.add(h),c.add(h),s.setXYZ(G,a.x,a.y,a.z),s.setXYZ(g,o.x,o.y,o.z),s.setXYZ(I,c.x,c.y,c.z)}else for(let d=0,p=t.count;d<p;d+=3)n.fromBufferAttribute(t,d+0),r.fromBufferAttribute(t,d+1),l.fromBufferAttribute(t,d+2),h.subVectors(l,r),u.subVectors(n,r),h.cross(u),s.setXYZ(d+0,h.x,h.y,h.z),s.setXYZ(d+1,h.x,h.y,h.z),s.setXYZ(d+2,h.x,h.y,h.z);this.normalizeNormals(),s.needsUpdate=!0}}merge(i,t){if(!(i&&i.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",i);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const s=this.attributes;for(const n in s){if(i.attributes[n]===void 0)continue;const l=s[n].array,a=i.attributes[n],o=a.array,c=a.itemSize*t,h=Math.min(o.length,l.length-c);for(let u=0,d=c;u<h;u++,d++)l[d]=o[u]}return this}normalizeNormals(){const i=this.attributes.normal;for(let t=0,s=i.count;t<s;t++)ks.fromBufferAttribute(i,t),ks.normalize(),i.setXYZ(t,ks.x,ks.y,ks.z)}toNonIndexed(){function i(a,o){const c=a.array,h=a.itemSize,u=a.normalized,d=new c.constructor(o.length*h);let p=0,G=0;for(let g=0,I=o.length;g<I;g++){a.isInterleavedBufferAttribute?p=o[g]*a.data.stride+a.offset:p=o[g]*h;for(let X=0;X<h;X++)d[G++]=c[p++]}return new Nt(d,h,u)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new It,s=this.index.array,n=this.attributes;for(const a in n){const o=n[a],c=i(o,s);t.setAttribute(a,c)}const r=this.morphAttributes;for(const a in r){const o=[],c=r[a];for(let h=0,u=c.length;h<u;h++){const d=c[h],p=i(d,s);o.push(p)}t.morphAttributes[a]=o}t.morphTargetsRelative=this.morphTargetsRelative;const l=this.groups;for(let a=0,o=l.length;a<o;a++){const c=l[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const i={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),Object.keys(this.userData).length>0&&(i.userData=this.userData),this.parameters!==void 0){const o=this.parameters;for(const c in o)o[c]!==void 0&&(i[c]=o[c]);return i}i.data={attributes:{}};const t=this.index;t!==null&&(i.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const s=this.attributes;for(const o in s){const c=s[o];i.data.attributes[o]=c.toJSON(i.data)}const n={};let r=!1;for(const o in this.morphAttributes){const c=this.morphAttributes[o],h=[];for(let u=0,d=c.length;u<d;u++){const p=c[u];h.push(p.toJSON(i.data))}h.length>0&&(n[o]=h,r=!0)}r&&(i.data.morphAttributes=n,i.data.morphTargetsRelative=this.morphTargetsRelative);const l=this.groups;l.length>0&&(i.data.groups=JSON.parse(JSON.stringify(l)));const a=this.boundingSphere;return a!==null&&(i.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),i}clone(){return new this.constructor().copy(this)}copy(i){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=i.name;const s=i.index;s!==null&&this.setIndex(s.clone(t));const n=i.attributes;for(const c in n){const h=n[c];this.setAttribute(c,h.clone(t))}const r=i.morphAttributes;for(const c in r){const h=[],u=r[c];for(let d=0,p=u.length;d<p;d++)h.push(u[d].clone(t));this.morphAttributes[c]=h}this.morphTargetsRelative=i.morphTargetsRelative;const l=i.groups;for(let c=0,h=l.length;c<h;c++){const u=l[c];this.addGroup(u.start,u.count,u.materialIndex)}const a=i.boundingBox;a!==null&&(this.boundingBox=a.clone());const o=i.boundingSphere;return o!==null&&(this.boundingSphere=o.clone()),this.drawRange.start=i.drawRange.start,this.drawRange.count=i.drawRange.count,this.userData=i.userData,i.parameters!==void 0&&(this.parameters=Object.assign({},i.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}It.prototype.isBufferGeometry=!0;const s0=new _e,Dl=new ur,rd=new qi,mr=new H,br=new H,yr=new H,ld=new H,ad=new H,od=new H,kc=new H,Dc=new H,Jc=new H,Kc=new Xe,Oc=new Xe,Ac=new Xe,cd=new H,Bc=new H;class ns extends zt{constructor(i=new It,t=new pr){super();this.type="Mesh",this.geometry=i,this.material=t,this.updateMorphTargets()}copy(i){return super.copy(i),i.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=i.morphTargetInfluences.slice()),i.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},i.morphTargetDictionary)),this.material=i.material,this.geometry=i.geometry,this}updateMorphTargets(){const i=this.geometry;if(i.isBufferGeometry){const t=i.morphAttributes,s=Object.keys(t);if(s.length>0){const n=t[s[0]];if(n!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,l=n.length;r<l;r++){const a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}else{const t=i.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(i,t){const s=this.geometry,n=this.material,r=this.matrixWorld;if(n===void 0||(s.boundingSphere===null&&s.computeBoundingSphere(),rd.copy(s.boundingSphere),rd.applyMatrix4(r),i.ray.intersectsSphere(rd)===!1)||(s0.copy(r).invert(),Dl.copy(i.ray).applyMatrix4(s0),s.boundingBox!==null&&Dl.intersectsBox(s.boundingBox)===!1))return;let l;if(s.isBufferGeometry){const a=s.index,o=s.attributes.position,c=s.morphAttributes.position,h=s.morphTargetsRelative,u=s.attributes.uv,d=s.attributes.uv2,p=s.groups,G=s.drawRange;if(a!==null)if(Array.isArray(n))for(let g=0,I=p.length;g<I;g++){const X=p[g],S=n[X.materialIndex],x=Math.max(X.start,G.start),v=Math.min(a.count,Math.min(X.start+X.count,G.start+G.count));for(let L=x,M=v;L<M;L+=3){const E=a.getX(L),K=a.getX(L+1),q=a.getX(L+2);l=jc(this,S,i,Dl,o,c,h,u,d,E,K,q),l&&(l.faceIndex=Math.floor(L/3),l.face.materialIndex=X.materialIndex,t.push(l))}}else{const g=Math.max(0,G.start),I=Math.min(a.count,G.start+G.count);for(let X=g,S=I;X<S;X+=3){const x=a.getX(X),v=a.getX(X+1),L=a.getX(X+2);l=jc(this,n,i,Dl,o,c,h,u,d,x,v,L),l&&(l.faceIndex=Math.floor(X/3),t.push(l))}}else if(o!==void 0)if(Array.isArray(n))for(let g=0,I=p.length;g<I;g++){const X=p[g],S=n[X.materialIndex],x=Math.max(X.start,G.start),v=Math.min(o.count,Math.min(X.start+X.count,G.start+G.count));for(let L=x,M=v;L<M;L+=3){const E=L,K=L+1,q=L+2;l=jc(this,S,i,Dl,o,c,h,u,d,E,K,q),l&&(l.faceIndex=Math.floor(L/3),l.face.materialIndex=X.materialIndex,t.push(l))}}else{const g=Math.max(0,G.start),I=Math.min(o.count,G.start+G.count);for(let X=g,S=I;X<S;X+=3){const x=X,v=X+1,L=X+2;l=jc(this,n,i,Dl,o,c,h,u,d,x,v,L),l&&(l.faceIndex=Math.floor(X/3),t.push(l))}}}else s.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}ns.prototype.isMesh=!0;function xY(e,i,t,s,n,r,l,a){let o;if(i.side===fi?o=s.intersectTriangle(l,r,n,!0,a):o=s.intersectTriangle(n,r,l,i.side!==pi,a),o===null)return null;Bc.copy(a),Bc.applyMatrix4(e.matrixWorld);const c=t.ray.origin.distanceTo(Bc);return c<t.near||c>t.far?null:{distance:c,point:Bc.clone(),object:e}}function jc(e,i,t,s,n,r,l,a,o,c,h,u){mr.fromBufferAttribute(n,c),br.fromBufferAttribute(n,h),yr.fromBufferAttribute(n,u);const d=e.morphTargetInfluences;if(r&&d){kc.set(0,0,0),Dc.set(0,0,0),Jc.set(0,0,0);for(let G=0,g=r.length;G<g;G++){const I=d[G],X=r[G];I!==0&&(ld.fromBufferAttribute(X,c),ad.fromBufferAttribute(X,h),od.fromBufferAttribute(X,u),l?(kc.addScaledVector(ld,I),Dc.addScaledVector(ad,I),Jc.addScaledVector(od,I)):(kc.addScaledVector(ld.sub(mr),I),Dc.addScaledVector(ad.sub(br),I),Jc.addScaledVector(od.sub(yr),I)))}mr.add(kc),br.add(Dc),yr.add(Jc)}e.isSkinnedMesh&&(e.boneTransform(c,mr),e.boneTransform(h,br),e.boneTransform(u,yr));const p=xY(e,i,t,s,mr,br,yr,cd);if(p){a&&(Kc.fromBufferAttribute(a,c),Oc.fromBufferAttribute(a,h),Ac.fromBufferAttribute(a,u),p.uv=Is.getUV(cd,mr,br,yr,Kc,Oc,Ac,new Xe)),o&&(Kc.fromBufferAttribute(o,c),Oc.fromBufferAttribute(o,h),Ac.fromBufferAttribute(o,u),p.uv2=Is.getUV(cd,mr,br,yr,Kc,Oc,Ac,new Xe));const G={a:c,b:h,c:u,normal:new H,materialIndex:0};Is.getNormal(mr,br,yr,G.normal),p.face=G}return p}class Jl extends It{constructor(i=1,t=1,s=1,n=1,r=1,l=1){super();this.type="BoxGeometry",this.parameters={width:i,height:t,depth:s,widthSegments:n,heightSegments:r,depthSegments:l};const a=this;n=Math.floor(n),r=Math.floor(r),l=Math.floor(l);const o=[],c=[],h=[],u=[];let d=0,p=0;G("z","y","x",-1,-1,s,t,i,l,r,0),G("z","y","x",1,-1,s,t,-i,l,r,1),G("x","z","y",1,1,i,s,t,n,l,2),G("x","z","y",1,-1,i,s,-t,n,l,3),G("x","y","z",1,-1,i,t,s,n,r,4),G("x","y","z",-1,-1,i,t,-s,n,r,5),this.setIndex(o),this.setAttribute("position",new ds(c,3)),this.setAttribute("normal",new ds(h,3)),this.setAttribute("uv",new ds(u,2));function G(g,I,X,S,x,v,L,M,E,K,q){const Q=v/E,w=L/K,j=v/2,pe=L/2,se=M/2,oe=E+1,le=K+1;let re=0,ne=0;const Ze=new H;for(let fe=0;fe<le;fe++){const ve=fe*w-pe;for(let Ce=0;Ce<oe;Ce++){const ze=Ce*Q-j;Ze[g]=ze*S,Ze[I]=ve*x,Ze[X]=se,c.push(Ze.x,Ze.y,Ze.z),Ze[g]=0,Ze[I]=0,Ze[X]=M>0?1:-1,h.push(Ze.x,Ze.y,Ze.z),u.push(Ce/E),u.push(1-fe/K),re+=1}}for(let fe=0;fe<K;fe++)for(let ve=0;ve<E;ve++){const Ce=d+ve+oe*fe,ze=d+ve+oe*(fe+1),vt=d+(ve+1)+oe*(fe+1),gt=d+(ve+1)+oe*fe;o.push(Ce,ze,gt),o.push(ze,vt,gt),ne+=6}a.addGroup(p,ne,q),p+=ne,d+=re}}static fromJSON(i){return new Jl(i.width,i.height,i.depth,i.widthSegments,i.heightSegments,i.depthSegments)}}function Kl(e){const i={};for(const t in e){i[t]={};for(const s in e[t]){const n=e[t][s];n&&(n.isColor||n.isMatrix3||n.isMatrix4||n.isVector2||n.isVector3||n.isVector4||n.isTexture||n.isQuaternion)?i[t][s]=n.clone():Array.isArray(n)?i[t][s]=n.slice():i[t][s]=n}}return i}function qs(e){const i={};for(let t=0;t<e.length;t++){const s=Kl(e[t]);for(const n in s)i[n]=s[n]}return i}const vY={clone:Kl,merge:qs};var EY=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,YY=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class li extends Ps{constructor(i){super();this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=EY,this.fragmentShader=YY,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,i!==void 0&&(i.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(i))}copy(i){return super.copy(i),this.fragmentShader=i.fragmentShader,this.vertexShader=i.vertexShader,this.uniforms=Kl(i.uniforms),this.defines=Object.assign({},i.defines),this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this.lights=i.lights,this.clipping=i.clipping,this.extensions=Object.assign({},i.extensions),this.glslVersion=i.glslVersion,this}toJSON(i){const t=super.toJSON(i);t.glslVersion=this.glslVersion,t.uniforms={};for(const n in this.uniforms){const l=this.uniforms[n].value;l&&l.isTexture?t.uniforms[n]={type:"t",value:l.toJSON(i).uuid}:l&&l.isColor?t.uniforms[n]={type:"c",value:l.getHex()}:l&&l.isVector2?t.uniforms[n]={type:"v2",value:l.toArray()}:l&&l.isVector3?t.uniforms[n]={type:"v3",value:l.toArray()}:l&&l.isVector4?t.uniforms[n]={type:"v4",value:l.toArray()}:l&&l.isMatrix3?t.uniforms[n]={type:"m3",value:l.toArray()}:l&&l.isMatrix4?t.uniforms[n]={type:"m4",value:l.toArray()}:t.uniforms[n]={value:l}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const s={};for(const n in this.extensions)this.extensions[n]===!0&&(s[n]=!0);return Object.keys(s).length>0&&(t.extensions=s),t}}li.prototype.isShaderMaterial=!0;class Qc extends zt{constructor(){super();this.type="Camera",this.matrixWorldInverse=new _e,this.projectionMatrix=new _e,this.projectionMatrixInverse=new _e}copy(i,t){return super.copy(i,t),this.matrixWorldInverse.copy(i.matrixWorldInverse),this.projectionMatrix.copy(i.projectionMatrix),this.projectionMatrixInverse.copy(i.projectionMatrixInverse),this}getWorldDirection(i){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return i.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(i){super.updateMatrixWorld(i),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(i,t){super.updateWorldMatrix(i,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}Qc.prototype.isCamera=!0;class ai extends Qc{constructor(i=50,t=1,s=.1,n=2e3){super();this.type="PerspectiveCamera",this.fov=i,this.zoom=1,this.near=s,this.far=n,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(i,t){return super.copy(i,t),this.fov=i.fov,this.zoom=i.zoom,this.near=i.near,this.far=i.far,this.focus=i.focus,this.aspect=i.aspect,this.view=i.view===null?null:Object.assign({},i.view),this.filmGauge=i.filmGauge,this.filmOffset=i.filmOffset,this}setFocalLength(i){const t=.5*this.getFilmHeight()/i;this.fov=io*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const i=Math.tan(so*.5*this.fov);return .5*this.getFilmHeight()/i}getEffectiveFOV(){return io*2*Math.atan(Math.tan(so*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(i,t,s,n,r,l){this.aspect=i/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=i,this.view.fullHeight=t,this.view.offsetX=s,this.view.offsetY=n,this.view.width=r,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const i=this.near;let t=i*Math.tan(so*.5*this.fov)/this.zoom,s=2*t,n=this.aspect*s,r=-.5*n;const l=this.view;if(this.view!==null&&this.view.enabled){const o=l.fullWidth,c=l.fullHeight;r+=l.offsetX*n/o,t-=l.offsetY*s/c,n*=l.width/o,s*=l.height/c}const a=this.filmOffset;a!==0&&(r+=i*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+n,t,t-s,i,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(i){const t=super.toJSON(i);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}ai.prototype.isPerspectiveCamera=!0;const Ol=90,Al=1;class hd extends zt{constructor(i,t,s){super();if(this.type="CubeCamera",s.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=s;const n=new ai(Ol,Al,i,t);n.layers=this.layers,n.up.set(0,-1,0),n.lookAt(new H(1,0,0)),this.add(n);const r=new ai(Ol,Al,i,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new H(-1,0,0)),this.add(r);const l=new ai(Ol,Al,i,t);l.layers=this.layers,l.up.set(0,0,1),l.lookAt(new H(0,1,0)),this.add(l);const a=new ai(Ol,Al,i,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new H(0,-1,0)),this.add(a);const o=new ai(Ol,Al,i,t);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new H(0,0,1)),this.add(o);const c=new ai(Ol,Al,i,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new H(0,0,-1)),this.add(c)}update(i,t){this.parent===null&&this.updateMatrixWorld();const s=this.renderTarget,[n,r,l,a,o,c]=this.children,h=i.getRenderTarget(),u=i.outputEncoding,d=i.toneMapping,p=i.xr.enabled;i.outputEncoding=Hn,i.toneMapping=wn,i.xr.enabled=!1;const G=s.texture.generateMipmaps;s.texture.generateMipmaps=!1,i.setRenderTarget(s,0),i.render(t,n),i.setRenderTarget(s,1),i.render(t,r),i.setRenderTarget(s,2),i.render(t,l),i.setRenderTarget(s,3),i.render(t,a),i.setRenderTarget(s,4),i.render(t,o),s.texture.generateMipmaps=G,i.setRenderTarget(s,5),i.render(t,c),i.setRenderTarget(h),i.outputEncoding=u,i.toneMapping=d,i.xr.enabled=p,s.texture.needsPMREMUpdate=!0}}class _c extends Ss{constructor(i,t,s,n,r,l,a,o,c,h){i=i!==void 0?i:[],t=t!==void 0?t:Sl;super(i,t,s,n,r,l,a,o,c,h);this.flipY=!1}get images(){return this.image}set images(i){this.image=i}}_c.prototype.isCubeTexture=!0;class i0 extends _s{constructor(i,t={}){super(i,i,t);const s={width:i,height:i,depth:1},n=[s,s,s,s,s,s];this.texture=new _c(n,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Ms}fromEquirectangularTexture(i,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const s={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},n=new Jl(5,5,5),r=new li({name:"CubemapFromEquirect",uniforms:Kl(s.uniforms),vertexShader:s.vertexShader,fragmentShader:s.fragmentShader,side:fi,blending:pn});r.uniforms.tEquirect.value=t;const l=new ns(n,r),a=t.minFilter;return t.minFilter===Xc&&(t.minFilter=Ms),new hd(1,10,this).update(i,l),t.minFilter=a,l.geometry.dispose(),l.material.dispose(),this}clear(i,t,s,n){const r=i.getRenderTarget();for(let l=0;l<6;l++)i.setRenderTarget(this,l),i.clear(t,s,n);i.setRenderTarget(r)}}i0.prototype.isWebGLCubeRenderTarget=!0;const ud=new H,MY=new H,wY=new Es;class mi{constructor(i=new H(1,0,0),t=0){this.normal=i,this.constant=t}set(i,t){return this.normal.copy(i),this.constant=t,this}setComponents(i,t,s,n){return this.normal.set(i,t,s),this.constant=n,this}setFromNormalAndCoplanarPoint(i,t){return this.normal.copy(i),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(i,t,s){const n=ud.subVectors(s,t).cross(MY.subVectors(i,t)).normalize();return this.setFromNormalAndCoplanarPoint(n,i),this}copy(i){return this.normal.copy(i.normal),this.constant=i.constant,this}normalize(){const i=1/this.normal.length();return this.normal.multiplyScalar(i),this.constant*=i,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(i){return this.normal.dot(i)+this.constant}distanceToSphere(i){return this.distanceToPoint(i.center)-i.radius}projectPoint(i,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(i)).add(i)}intersectLine(i,t){const s=i.delta(ud),n=this.normal.dot(s);if(n===0)return this.distanceToPoint(i.start)===0?t.copy(i.start):null;const r=-(i.start.dot(this.normal)+this.constant)/n;return r<0||r>1?null:t.copy(s).multiplyScalar(r).add(i.start)}intersectsLine(i){const t=this.distanceToPoint(i.start),s=this.distanceToPoint(i.end);return t<0&&s>0||s<0&&t>0}intersectsBox(i){return i.intersectsPlane(this)}intersectsSphere(i){return i.intersectsPlane(this)}coplanarPoint(i){return i.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(i,t){const s=t||wY.getNormalMatrix(i),n=this.coplanarPoint(ud).applyMatrix4(i),r=this.normal.applyMatrix3(s).normalize();return this.constant=-n.dot(r),this}translate(i){return this.constant-=i.dot(this.normal),this}equals(i){return i.normal.equals(this.normal)&&i.constant===this.constant}clone(){return new this.constructor().copy(this)}}mi.prototype.isPlane=!0;const Bl=new qi,qc=new H;class co{constructor(i=new mi,t=new mi,s=new mi,n=new mi,r=new mi,l=new mi){this.planes=[i,t,s,n,r,l]}set(i,t,s,n,r,l){const a=this.planes;return a[0].copy(i),a[1].copy(t),a[2].copy(s),a[3].copy(n),a[4].copy(r),a[5].copy(l),this}copy(i){const t=this.planes;for(let s=0;s<6;s++)t[s].copy(i.planes[s]);return this}setFromProjectionMatrix(i){const t=this.planes,s=i.elements,n=s[0],r=s[1],l=s[2],a=s[3],o=s[4],c=s[5],h=s[6],u=s[7],d=s[8],p=s[9],G=s[10],g=s[11],I=s[12],X=s[13],S=s[14],x=s[15];return t[0].setComponents(a-n,u-o,g-d,x-I).normalize(),t[1].setComponents(a+n,u+o,g+d,x+I).normalize(),t[2].setComponents(a+r,u+c,g+p,x+X).normalize(),t[3].setComponents(a-r,u-c,g-p,x-X).normalize(),t[4].setComponents(a-l,u-h,g-G,x-S).normalize(),t[5].setComponents(a+l,u+h,g+G,x+S).normalize(),this}intersectsObject(i){const t=i.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),Bl.copy(t.boundingSphere).applyMatrix4(i.matrixWorld),this.intersectsSphere(Bl)}intersectsSprite(i){return Bl.center.set(0,0,0),Bl.radius=.7071067811865476,Bl.applyMatrix4(i.matrixWorld),this.intersectsSphere(Bl)}intersectsSphere(i){const t=this.planes,s=i.center,n=-i.radius;for(let r=0;r<6;r++)if(t[r].distanceToPoint(s)<n)return!1;return!0}intersectsBox(i){const t=this.planes;for(let s=0;s<6;s++){const n=t[s];if(qc.x=n.normal.x>0?i.max.x:i.min.x,qc.y=n.normal.y>0?i.max.y:i.min.y,qc.z=n.normal.z>0?i.max.z:i.min.z,n.distanceToPoint(qc)<0)return!1}return!0}containsPoint(i){const t=this.planes;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function n0(){let e=null,i=!1,t=null,s=null;function n(r,l){t(r,l),s=e.requestAnimationFrame(n)}return{start:function(){i!==!0&&t!==null&&(s=e.requestAnimationFrame(n),i=!0)},stop:function(){e.cancelAnimationFrame(s),i=!1},setAnimationLoop:function(r){t=r},setContext:function(r){e=r}}}function HY(e,i){const t=i.isWebGL2,s=new WeakMap;function n(c,h){const u=c.array,d=c.usage,p=e.createBuffer();e.bindBuffer(h,p),e.bufferData(h,u,d),c.onUploadCallback();let G;if(u instanceof Float32Array)G=5126;else if(u instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)G=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else G=5123;else if(u instanceof Int16Array)G=5122;else if(u instanceof Uint32Array)G=5125;else if(u instanceof Int32Array)G=5124;else if(u instanceof Int8Array)G=5120;else if(u instanceof Uint8Array)G=5121;else if(u instanceof Uint8ClampedArray)G=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:p,type:G,bytesPerElement:u.BYTES_PER_ELEMENT,version:c.version}}function r(c,h,u){const d=h.array,p=h.updateRange;e.bindBuffer(u,c),p.count===-1?e.bufferSubData(u,0,d):(t?e.bufferSubData(u,p.offset*d.BYTES_PER_ELEMENT,d,p.offset,p.count):e.bufferSubData(u,p.offset*d.BYTES_PER_ELEMENT,d.subarray(p.offset,p.offset+p.count)),p.count=-1)}function l(c){return c.isInterleavedBufferAttribute&&(c=c.data),s.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const h=s.get(c);h&&(e.deleteBuffer(h.buffer),s.delete(c))}function o(c,h){if(c.isGLBufferAttribute){const d=s.get(c);(!d||d.version<c.version)&&s.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const u=s.get(c);u===void 0?s.set(c,n(c,h)):u.version<c.version&&(r(u.buffer,c,h),u.version=c.version)}return{get:l,remove:a,update:o}}class ho extends It{constructor(i=1,t=1,s=1,n=1){super();this.type="PlaneGeometry",this.parameters={width:i,height:t,widthSegments:s,heightSegments:n};const r=i/2,l=t/2,a=Math.floor(s),o=Math.floor(n),c=a+1,h=o+1,u=i/a,d=t/o,p=[],G=[],g=[],I=[];for(let X=0;X<h;X++){const S=X*d-l;for(let x=0;x<c;x++){const v=x*u-r;G.push(v,-S,0),g.push(0,0,1),I.push(x/a),I.push(1-X/o)}}for(let X=0;X<o;X++)for(let S=0;S<a;S++){const x=S+c*X,v=S+c*(X+1),L=S+1+c*(X+1),M=S+1+c*X;p.push(x,v,M),p.push(v,L,M)}this.setIndex(p),this.setAttribute("position",new ds(G,3)),this.setAttribute("normal",new ds(g,3)),this.setAttribute("uv",new ds(I,2))}static fromJSON(i){return new ho(i.width,i.height,i.widthSegments,i.heightSegments)}}var PY=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,zY=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,UY=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,kY=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,DY=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,JY=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,KY="vec3 transformed = vec3( position );",OY=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,AY=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,BY=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,jY=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,QY=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,_Y=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,qY=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,$Y=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,eM=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,tM=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,sM=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,iM=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,nM=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 ) + 0.5;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,rM=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,lM=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,aM=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,oM=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,cM=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,hM="gl_FragColor = linearToOutputTexel( gl_FragColor );",uM=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,dM=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,pM=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,mM=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,bM=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,yM=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,ZM=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,GM=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,gM=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,TM=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,IM=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,RM=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,fM=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,XM=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,WM=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,SM=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,CM=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,VM=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,LM=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,FM=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,NM=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,xM=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,vM=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,EM=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,YM=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,MM=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,wM=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,HM=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,PM=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,zM=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,UM=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,kM=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,DM=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,JM=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,KM=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,OM=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,AM=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,BM=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,jM=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,QM=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,_M=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,qM=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,$M=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,e3=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,t3=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,s3=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,i3=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,n3=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,r3=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,l3=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,a3=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,o3=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,c3=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,h3=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,u3=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,d3=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,p3=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,m3=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,b3=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,y3=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Z3=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,G3=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,g3=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,T3=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,I3=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,R3=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,f3=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,X3=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,W3=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,S3=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,C3=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,V3=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,L3=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,F3=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,N3=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,x3=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,v3=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Mt={alphamap_fragment:PY,alphamap_pars_fragment:zY,alphatest_fragment:UY,alphatest_pars_fragment:kY,aomap_fragment:DY,aomap_pars_fragment:JY,begin_vertex:KY,beginnormal_vertex:OY,bsdfs:AY,bumpmap_pars_fragment:BY,clipping_planes_fragment:jY,clipping_planes_pars_fragment:QY,clipping_planes_pars_vertex:_Y,clipping_planes_vertex:qY,color_fragment:$Y,color_pars_fragment:eM,color_pars_vertex:tM,color_vertex:sM,common:iM,cube_uv_reflection_fragment:nM,defaultnormal_vertex:rM,displacementmap_pars_vertex:lM,displacementmap_vertex:aM,emissivemap_fragment:oM,emissivemap_pars_fragment:cM,encodings_fragment:hM,encodings_pars_fragment:uM,envmap_fragment:dM,envmap_common_pars_fragment:pM,envmap_pars_fragment:mM,envmap_pars_vertex:bM,envmap_physical_pars_fragment:SM,envmap_vertex:yM,fog_vertex:ZM,fog_pars_vertex:GM,fog_fragment:gM,fog_pars_fragment:TM,gradientmap_pars_fragment:IM,lightmap_fragment:RM,lightmap_pars_fragment:fM,lights_lambert_vertex:XM,lights_pars_begin:WM,lights_toon_fragment:CM,lights_toon_pars_fragment:VM,lights_phong_fragment:LM,lights_phong_pars_fragment:FM,lights_physical_fragment:NM,lights_physical_pars_fragment:xM,lights_fragment_begin:vM,lights_fragment_maps:EM,lights_fragment_end:YM,logdepthbuf_fragment:MM,logdepthbuf_pars_fragment:wM,logdepthbuf_pars_vertex:HM,logdepthbuf_vertex:PM,map_fragment:zM,map_pars_fragment:UM,map_particle_fragment:kM,map_particle_pars_fragment:DM,metalnessmap_fragment:JM,metalnessmap_pars_fragment:KM,morphcolor_vertex:OM,morphnormal_vertex:AM,morphtarget_pars_vertex:BM,morphtarget_vertex:jM,normal_fragment_begin:QM,normal_fragment_maps:_M,normal_pars_fragment:qM,normal_pars_vertex:$M,normal_vertex:e3,normalmap_pars_fragment:t3,clearcoat_normal_fragment_begin:s3,clearcoat_normal_fragment_maps:i3,clearcoat_pars_fragment:n3,output_fragment:r3,packing:l3,premultiplied_alpha_fragment:a3,project_vertex:o3,dithering_fragment:c3,dithering_pars_fragment:h3,roughnessmap_fragment:u3,roughnessmap_pars_fragment:d3,shadowmap_pars_fragment:p3,shadowmap_pars_vertex:m3,shadowmap_vertex:b3,shadowmask_pars_fragment:y3,skinbase_vertex:Z3,skinning_pars_vertex:G3,skinning_vertex:g3,skinnormal_vertex:T3,specularmap_fragment:I3,specularmap_pars_fragment:R3,tonemapping_fragment:f3,tonemapping_pars_fragment:X3,transmission_fragment:W3,transmission_pars_fragment:S3,uv_pars_fragment:C3,uv_pars_vertex:V3,uv_vertex:L3,uv2_pars_fragment:F3,uv2_pars_vertex:N3,uv2_vertex:x3,worldpos_vertex:v3,background_vert:`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,background_frag:`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,cube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,cube_frag:`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,depth_vert:`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,depth_frag:`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,distanceRGBA_vert:`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,distanceRGBA_frag:`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,equirect_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,equirect_frag:`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,linedashed_vert:`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,linedashed_frag:`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,meshbasic_vert:`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,meshbasic_frag:`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshlambert_vert:`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshlambert_frag:`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshmatcap_vert:`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,meshmatcap_frag:`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshnormal_vert:`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,meshnormal_frag:`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,meshphong_vert:`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphong_frag:`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphysical_vert:`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,meshphysical_frag:`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshtoon_vert:`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshtoon_frag:`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,points_vert:`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,points_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,shadow_vert:`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,shadow_frag:`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,sprite_vert:`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,sprite_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`},Ke={common:{diffuse:{value:new ie(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Es},uv2Transform:{value:new Es},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Xe(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ie(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ie(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Es}},sprite:{diffuse:{value:new ie(16777215)},opacity:{value:1},center:{value:new Xe(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Es}}},bn={basic:{uniforms:qs([Ke.common,Ke.specularmap,Ke.envmap,Ke.aomap,Ke.lightmap,Ke.fog]),vertexShader:Mt.meshbasic_vert,fragmentShader:Mt.meshbasic_frag},lambert:{uniforms:qs([Ke.common,Ke.specularmap,Ke.envmap,Ke.aomap,Ke.lightmap,Ke.emissivemap,Ke.fog,Ke.lights,{emissive:{value:new ie(0)}}]),vertexShader:Mt.meshlambert_vert,fragmentShader:Mt.meshlambert_frag},phong:{uniforms:qs([Ke.common,Ke.specularmap,Ke.envmap,Ke.aomap,Ke.lightmap,Ke.emissivemap,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,Ke.fog,Ke.lights,{emissive:{value:new ie(0)},specular:{value:new ie(1118481)},shininess:{value:30}}]),vertexShader:Mt.meshphong_vert,fragmentShader:Mt.meshphong_frag},standard:{uniforms:qs([Ke.common,Ke.envmap,Ke.aomap,Ke.lightmap,Ke.emissivemap,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,Ke.roughnessmap,Ke.metalnessmap,Ke.fog,Ke.lights,{emissive:{value:new ie(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Mt.meshphysical_vert,fragmentShader:Mt.meshphysical_frag},toon:{uniforms:qs([Ke.common,Ke.aomap,Ke.lightmap,Ke.emissivemap,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,Ke.gradientmap,Ke.fog,Ke.lights,{emissive:{value:new ie(0)}}]),vertexShader:Mt.meshtoon_vert,fragmentShader:Mt.meshtoon_frag},matcap:{uniforms:qs([Ke.common,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,Ke.fog,{matcap:{value:null}}]),vertexShader:Mt.meshmatcap_vert,fragmentShader:Mt.meshmatcap_frag},points:{uniforms:qs([Ke.points,Ke.fog]),vertexShader:Mt.points_vert,fragmentShader:Mt.points_frag},dashed:{uniforms:qs([Ke.common,Ke.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Mt.linedashed_vert,fragmentShader:Mt.linedashed_frag},depth:{uniforms:qs([Ke.common,Ke.displacementmap]),vertexShader:Mt.depth_vert,fragmentShader:Mt.depth_frag},normal:{uniforms:qs([Ke.common,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,{opacity:{value:1}}]),vertexShader:Mt.meshnormal_vert,fragmentShader:Mt.meshnormal_frag},sprite:{uniforms:qs([Ke.sprite,Ke.fog]),vertexShader:Mt.sprite_vert,fragmentShader:Mt.sprite_frag},background:{uniforms:{uvTransform:{value:new Es},t2D:{value:null}},vertexShader:Mt.background_vert,fragmentShader:Mt.background_frag},cube:{uniforms:qs([Ke.envmap,{opacity:{value:1}}]),vertexShader:Mt.cube_vert,fragmentShader:Mt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Mt.equirect_vert,fragmentShader:Mt.equirect_frag},distanceRGBA:{uniforms:qs([Ke.common,Ke.displacementmap,{referencePosition:{value:new H},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Mt.distanceRGBA_vert,fragmentShader:Mt.distanceRGBA_frag},shadow:{uniforms:qs([Ke.lights,Ke.fog,{color:{value:new ie(0)},opacity:{value:1}}]),vertexShader:Mt.shadow_vert,fragmentShader:Mt.shadow_frag}};bn.physical={uniforms:qs([bn.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Xe(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new ie(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Xe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new ie(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new ie(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Mt.meshphysical_vert,fragmentShader:Mt.meshphysical_frag};function E3(e,i,t,s,n,r){const l=new ie(0);let a=n===!0?0:1,o,c,h=null,u=0,d=null;function p(g,I){let X=!1,S=I.isScene===!0?I.background:null;S&&S.isTexture&&(S=i.get(S));const x=e.xr,v=x.getSession&&x.getSession();v&&v.environmentBlendMode==="additive"&&(S=null),S===null?G(l,a):S&&S.isColor&&(G(S,1),X=!0),(e.autoClear||X)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),S&&(S.isCubeTexture||S.mapping===fc)?(c===void 0&&(c=new ns(new Jl(1,1,1),new li({name:"BackgroundCubeMaterial",uniforms:Kl(bn.cube.uniforms),vertexShader:bn.cube.vertexShader,fragmentShader:bn.cube.fragmentShader,side:fi,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(L,M,E){this.matrixWorld.copyPosition(E.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),s.update(c)),c.material.uniforms.envMap.value=S,c.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,(h!==S||u!==S.version||d!==e.toneMapping)&&(c.material.needsUpdate=!0,h=S,u=S.version,d=e.toneMapping),g.unshift(c,c.geometry,c.material,0,0,null)):S&&S.isTexture&&(o===void 0&&(o=new ns(new ho(2,2),new li({name:"BackgroundMaterial",uniforms:Kl(bn.background.uniforms),vertexShader:bn.background.vertexShader,fragmentShader:bn.background.fragmentShader,side:lr,depthTest:!1,depthWrite:!1,fog:!1})),o.geometry.deleteAttribute("normal"),Object.defineProperty(o.material,"map",{get:function(){return this.uniforms.t2D.value}}),s.update(o)),o.material.uniforms.t2D.value=S,S.matrixAutoUpdate===!0&&S.updateMatrix(),o.material.uniforms.uvTransform.value.copy(S.matrix),(h!==S||u!==S.version||d!==e.toneMapping)&&(o.material.needsUpdate=!0,h=S,u=S.version,d=e.toneMapping),g.unshift(o,o.geometry,o.material,0,0,null))}function G(g,I){t.buffers.color.setClear(g.r,g.g,g.b,I,r)}return{getClearColor:function(){return l},setClearColor:function(g,I=1){l.set(g),a=I,G(l,a)},getClearAlpha:function(){return a},setClearAlpha:function(g){a=g,G(l,a)},render:p}}function Y3(e,i,t,s){const n=e.getParameter(34921),r=s.isWebGL2?null:i.get("OES_vertex_array_object"),l=s.isWebGL2||r!==null,a={},o=I(null);let c=o,h=!1;function u(se,oe,le,re,ne){let Ze=!1;if(l){const fe=g(re,le,oe);c!==fe&&(c=fe,p(c.object)),Ze=X(re,ne),Ze&&S(re,ne)}else{const fe=oe.wireframe===!0;(c.geometry!==re.id||c.program!==le.id||c.wireframe!==fe)&&(c.geometry=re.id,c.program=le.id,c.wireframe=fe,Ze=!0)}se.isInstancedMesh===!0&&(Ze=!0),ne!==null&&t.update(ne,34963),(Ze||h)&&(h=!1,K(se,oe,le,re),ne!==null&&e.bindBuffer(34963,t.get(ne).buffer))}function d(){return s.isWebGL2?e.createVertexArray():r.createVertexArrayOES()}function p(se){return s.isWebGL2?e.bindVertexArray(se):r.bindVertexArrayOES(se)}function G(se){return s.isWebGL2?e.deleteVertexArray(se):r.deleteVertexArrayOES(se)}function g(se,oe,le){const re=le.wireframe===!0;let ne=a[se.id];ne===void 0&&(ne={},a[se.id]=ne);let Ze=ne[oe.id];Ze===void 0&&(Ze={},ne[oe.id]=Ze);let fe=Ze[re];return fe===void 0&&(fe=I(d()),Ze[re]=fe),fe}function I(se){const oe=[],le=[],re=[];for(let ne=0;ne<n;ne++)oe[ne]=0,le[ne]=0,re[ne]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:oe,enabledAttributes:le,attributeDivisors:re,object:se,attributes:{},index:null}}function X(se,oe){const le=c.attributes,re=se.attributes;let ne=0;for(const Ze in re){const fe=le[Ze],ve=re[Ze];if(fe===void 0||fe.attribute!==ve||fe.data!==ve.data)return!0;ne++}return c.attributesNum!==ne||c.index!==oe}function S(se,oe){const le={},re=se.attributes;let ne=0;for(const Ze in re){const fe=re[Ze],ve={};ve.attribute=fe,fe.data&&(ve.data=fe.data),le[Ze]=ve,ne++}c.attributes=le,c.attributesNum=ne,c.index=oe}function x(){const se=c.newAttributes;for(let oe=0,le=se.length;oe<le;oe++)se[oe]=0}function v(se){L(se,0)}function L(se,oe){const le=c.newAttributes,re=c.enabledAttributes,ne=c.attributeDivisors;le[se]=1,re[se]===0&&(e.enableVertexAttribArray(se),re[se]=1),ne[se]!==oe&&((s.isWebGL2?e:i.get("ANGLE_instanced_arrays"))[s.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](se,oe),ne[se]=oe)}function M(){const se=c.newAttributes,oe=c.enabledAttributes;for(let le=0,re=oe.length;le<re;le++)oe[le]!==se[le]&&(e.disableVertexAttribArray(le),oe[le]=0)}function E(se,oe,le,re,ne,Ze){s.isWebGL2===!0&&(le===5124||le===5125)?e.vertexAttribIPointer(se,oe,le,ne,Ze):e.vertexAttribPointer(se,oe,le,re,ne,Ze)}function K(se,oe,le,re){if(s.isWebGL2===!1&&(se.isInstancedMesh||re.isInstancedBufferGeometry)&&i.get("ANGLE_instanced_arrays")===null)return;x();const ne=re.attributes,Ze=le.getAttributes(),fe=oe.defaultAttributeValues;for(const ve in Ze){const Ce=Ze[ve];if(Ce.location>=0){let ze=ne[ve];if(ze===void 0&&(ve==="instanceMatrix"&&se.instanceMatrix&&(ze=se.instanceMatrix),ve==="instanceColor"&&se.instanceColor&&(ze=se.instanceColor)),ze!==void 0){const vt=ze.normalized,gt=ze.itemSize,Ge=t.get(ze);if(Ge===void 0)continue;const Ot=Ge.buffer,St=Ge.type,yt=Ge.bytesPerElement;if(ze.isInterleavedBufferAttribute){const We=ze.data,ct=We.stride,be=ze.offset;if(We.isInstancedInterleavedBuffer){for(let ge=0;ge<Ce.locationSize;ge++)L(Ce.location+ge,We.meshPerAttribute);se.isInstancedMesh!==!0&&re._maxInstanceCount===void 0&&(re._maxInstanceCount=We.meshPerAttribute*We.count)}else for(let ge=0;ge<Ce.locationSize;ge++)v(Ce.location+ge);e.bindBuffer(34962,Ot);for(let ge=0;ge<Ce.locationSize;ge++)E(Ce.location+ge,gt/Ce.locationSize,St,vt,ct*yt,(be+gt/Ce.locationSize*ge)*yt)}else{if(ze.isInstancedBufferAttribute){for(let We=0;We<Ce.locationSize;We++)L(Ce.location+We,ze.meshPerAttribute);se.isInstancedMesh!==!0&&re._maxInstanceCount===void 0&&(re._maxInstanceCount=ze.meshPerAttribute*ze.count)}else for(let We=0;We<Ce.locationSize;We++)v(Ce.location+We);e.bindBuffer(34962,Ot);for(let We=0;We<Ce.locationSize;We++)E(Ce.location+We,gt/Ce.locationSize,St,vt,gt*yt,gt/Ce.locationSize*We*yt)}}else if(fe!==void 0){const vt=fe[ve];if(vt!==void 0)switch(vt.length){case 2:e.vertexAttrib2fv(Ce.location,vt);break;case 3:e.vertexAttrib3fv(Ce.location,vt);break;case 4:e.vertexAttrib4fv(Ce.location,vt);break;default:e.vertexAttrib1fv(Ce.location,vt)}}}}M()}function q(){j();for(const se in a){const oe=a[se];for(const le in oe){const re=oe[le];for(const ne in re)G(re[ne].object),delete re[ne];delete oe[le]}delete a[se]}}function Q(se){if(a[se.id]===void 0)return;const oe=a[se.id];for(const le in oe){const re=oe[le];for(const ne in re)G(re[ne].object),delete re[ne];delete oe[le]}delete a[se.id]}function w(se){for(const oe in a){const le=a[oe];if(le[se.id]===void 0)continue;const re=le[se.id];for(const ne in re)G(re[ne].object),delete re[ne];delete le[se.id]}}function j(){pe(),h=!0,c!==o&&(c=o,p(c.object))}function pe(){o.geometry=null,o.program=null,o.wireframe=!1}return{setup:u,reset:j,resetDefaultState:pe,dispose:q,releaseStatesOfGeometry:Q,releaseStatesOfProgram:w,initAttributes:x,enableAttribute:v,disableUnusedAttributes:M}}function M3(e,i,t,s){const n=s.isWebGL2;let r;function l(c){r=c}function a(c,h){e.drawArrays(r,c,h),t.update(h,r,1)}function o(c,h,u){if(u===0)return;let d,p;if(n)d=e,p="drawArraysInstanced";else if(d=i.get("ANGLE_instanced_arrays"),p="drawArraysInstancedANGLE",d===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}d[p](r,c,h,u),t.update(h,r,u)}this.setMode=l,this.render=a,this.renderInstances=o}function w3(e,i,t){let s;function n(){if(s!==void 0)return s;if(i.has("EXT_texture_filter_anisotropic")===!0){const E=i.get("EXT_texture_filter_anisotropic");s=e.getParameter(E.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else s=0;return s}function r(E){if(E==="highp"){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";E="mediump"}return E==="mediump"&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const l=typeof WebGL2RenderingContext<"u"&&e instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&e instanceof WebGL2ComputeRenderingContext;let a=t.precision!==void 0?t.precision:"highp";const o=r(a);o!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",o,"instead."),a=o);const c=l||i.has("WEBGL_draw_buffers"),h=t.logarithmicDepthBuffer===!0,u=e.getParameter(34930),d=e.getParameter(35660),p=e.getParameter(3379),G=e.getParameter(34076),g=e.getParameter(34921),I=e.getParameter(36347),X=e.getParameter(36348),S=e.getParameter(36349),x=d>0,v=l||i.has("OES_texture_float"),L=x&&v,M=l?e.getParameter(36183):0;return{isWebGL2:l,drawBuffers:c,getMaxAnisotropy:n,getMaxPrecision:r,precision:a,logarithmicDepthBuffer:h,maxTextures:u,maxVertexTextures:d,maxTextureSize:p,maxCubemapSize:G,maxAttributes:g,maxVertexUniforms:I,maxVaryings:X,maxFragmentUniforms:S,vertexTextures:x,floatFragmentTextures:v,floatVertexTextures:L,maxSamples:M}}function H3(e){const i=this;let t=null,s=0,n=!1,r=!1;const l=new mi,a=new Es,o={value:null,needsUpdate:!1};this.uniform=o,this.numPlanes=0,this.numIntersection=0,this.init=function(u,d,p){const G=u.length!==0||d||s!==0||n;return n=d,t=h(u,p,0),s=u.length,G},this.beginShadows=function(){r=!0,h(null)},this.endShadows=function(){r=!1,c()},this.setState=function(u,d,p){const G=u.clippingPlanes,g=u.clipIntersection,I=u.clipShadows,X=e.get(u);if(!n||G===null||G.length===0||r&&!I)r?h(null):c();else{const S=r?0:s,x=S*4;let v=X.clippingState||null;o.value=v,v=h(G,d,x,p);for(let L=0;L!==x;++L)v[L]=t[L];X.clippingState=v,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=S}};function c(){o.value!==t&&(o.value=t,o.needsUpdate=s>0),i.numPlanes=s,i.numIntersection=0}function h(u,d,p,G){const g=u!==null?u.length:0;let I=null;if(g!==0){if(I=o.value,G!==!0||I===null){const X=p+g*4,S=d.matrixWorldInverse;a.getNormalMatrix(S),(I===null||I.length<X)&&(I=new Float32Array(X));for(let x=0,v=p;x!==g;++x,v+=4)l.copy(u[x]).applyMatrix4(S,a),l.normal.toArray(I,v),I[v+3]=l.constant}o.value=I,o.needsUpdate=!0}return i.numPlanes=g,i.numIntersection=0,I}}function P3(e){let i=new WeakMap;function t(l,a){return a===Vu?l.mapping=Sl:a===Lu&&(l.mapping=Cl),l}function s(l){if(l&&l.isTexture&&l.isRenderTargetTexture===!1){const a=l.mapping;if(a===Vu||a===Lu)if(i.has(l)){const o=i.get(l).texture;return t(o,l.mapping)}else{const o=l.image;if(o&&o.height>0){const c=new i0(o.height/2);return c.fromEquirectangularTexture(e,l),i.set(l,c),l.addEventListener("dispose",n),t(c.texture,l.mapping)}else return null}}return l}function n(l){const a=l.target;a.removeEventListener("dispose",n);const o=i.get(a);o!==void 0&&(i.delete(a),o.dispose())}function r(){i=new WeakMap}return{get:s,dispose:r}}class $c extends Qc{constructor(i=-1,t=1,s=1,n=-1,r=.1,l=2e3){super();this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=i,this.right=t,this.top=s,this.bottom=n,this.near=r,this.far=l,this.updateProjectionMatrix()}copy(i,t){return super.copy(i,t),this.left=i.left,this.right=i.right,this.top=i.top,this.bottom=i.bottom,this.near=i.near,this.far=i.far,this.zoom=i.zoom,this.view=i.view===null?null:Object.assign({},i.view),this}setViewOffset(i,t,s,n,r,l){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=i,this.view.fullHeight=t,this.view.offsetX=s,this.view.offsetY=n,this.view.width=r,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const i=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),s=(this.right+this.left)/2,n=(this.top+this.bottom)/2;let r=s-i,l=s+i,a=n+t,o=n-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=c*this.view.offsetX,l=r+c*this.view.width,a-=h*this.view.offsetY,o=a-h*this.view.height}this.projectionMatrix.makeOrthographic(r,l,a,o,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(i){const t=super.toJSON(i);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}$c.prototype.isOrthographicCamera=!0;const jl=4,r0=[.125,.215,.35,.446,.526,.582],Qr=20,dd=new $c,l0=new ie;let pd=null;const _r=(1+Math.sqrt(5))/2,Ql=1/_r,a0=[new H(1,1,1),new H(-1,1,1),new H(1,1,-1),new H(-1,1,-1),new H(0,_r,Ql),new H(0,_r,-Ql),new H(Ql,0,_r),new H(-Ql,0,_r),new H(_r,Ql,0),new H(-_r,Ql,0)];class o0{constructor(i){this._renderer=i,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(i,t=0,s=.1,n=100){pd=this._renderer.getRenderTarget(),this._setSize(256);const r=this._allocateTargets();return r.depthBuffer=!0,this._sceneToCubeUV(i,s,n,r),t>0&&this._blur(r,0,0,t),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(i,t=null){return this._fromTexture(i,t)}fromCubemap(i,t=null){return this._fromTexture(i,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=u0(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=h0(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(i){this._lodMax=Math.floor(Math.log2(i)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let i=0;i<this._lodPlanes.length;i++)this._lodPlanes[i].dispose()}_cleanup(i){this._renderer.setRenderTarget(pd),i.scissorTest=!1,eh(i,0,0,i.width,i.height)}_fromTexture(i,t){i.mapping===Sl||i.mapping===Cl?this._setSize(i.image.length===0?16:i.image[0].width||i.image[0].image.width):this._setSize(i.image.width/4),pd=this._renderer.getRenderTarget();const s=t||this._allocateTargets();return this._textureToCubeUV(i,s),this._applyPMREM(s),this._cleanup(s),s}_allocateTargets(){const i=3*Math.max(this._cubeSize,112),t=4*this._cubeSize-32,s={magFilter:Ms,minFilter:Ms,generateMipmaps:!1,type:Vl,format:ri,encoding:Hn,depthBuffer:!1},n=c0(i,t,s);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==i){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=c0(i,t,s);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=z3(r)),this._blurMaterial=U3(r,i,t)}return n}_compileMaterial(i){const t=new ns(this._lodPlanes[0],i);this._renderer.compile(t,dd)}_sceneToCubeUV(i,t,s,n){const a=new ai(90,1,t,s),o=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],h=this._renderer,u=h.autoClear,d=h.toneMapping;h.getClearColor(l0),h.toneMapping=wn,h.autoClear=!1;const p=new pr({name:"PMREM.Background",side:fi,depthWrite:!1,depthTest:!1}),G=new ns(new Jl,p);let g=!1;const I=i.background;I?I.isColor&&(p.color.copy(I),i.background=null,g=!0):(p.color.copy(l0),g=!0);for(let X=0;X<6;X++){const S=X%3;S===0?(a.up.set(0,o[X],0),a.lookAt(c[X],0,0)):S===1?(a.up.set(0,0,o[X]),a.lookAt(0,c[X],0)):(a.up.set(0,o[X],0),a.lookAt(0,0,c[X]));const x=this._cubeSize;eh(n,S*x,X>2?x:0,x,x),h.setRenderTarget(n),g&&h.render(G,a),h.render(i,a)}G.geometry.dispose(),G.material.dispose(),h.toneMapping=d,h.autoClear=u,i.background=I}_textureToCubeUV(i,t){const s=this._renderer,n=i.mapping===Sl||i.mapping===Cl;n?(this._cubemapMaterial===null&&(this._cubemapMaterial=u0()),this._cubemapMaterial.uniforms.flipEnvMap.value=i.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=h0());const r=n?this._cubemapMaterial:this._equirectMaterial,l=new ns(this._lodPlanes[0],r),a=r.uniforms;a.envMap.value=i;const o=this._cubeSize;eh(t,0,0,3*o,2*o),s.setRenderTarget(t),s.render(l,dd)}_applyPMREM(i){const t=this._renderer,s=t.autoClear;t.autoClear=!1;for(let n=1;n<this._lodPlanes.length;n++){const r=Math.sqrt(this._sigmas[n]*this._sigmas[n]-this._sigmas[n-1]*this._sigmas[n-1]),l=a0[(n-1)%a0.length];this._blur(i,n-1,n,r,l)}t.autoClear=s}_blur(i,t,s,n,r){const l=this._pingPongRenderTarget;this._halfBlur(i,l,t,s,n,"latitudinal",r),this._halfBlur(l,i,s,s,n,"longitudinal",r)}_halfBlur(i,t,s,n,r,l,a){const o=this._renderer,c=this._blurMaterial;l!=="latitudinal"&&l!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const h=3,u=new ns(this._lodPlanes[n],c),d=c.uniforms,p=this._sizeLods[s]-1,G=isFinite(r)?Math.PI/(2*p):2*Math.PI/(2*Qr-1),g=r/G,I=isFinite(r)?1+Math.floor(h*g):Qr;I>Qr&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${I} samples when the maximum is set to ${Qr}`);const X=[];let S=0;for(let E=0;E<Qr;++E){const K=E/g,q=Math.exp(-K*K/2);X.push(q),E===0?S+=q:E<I&&(S+=2*q)}for(let E=0;E<X.length;E++)X[E]=X[E]/S;d.envMap.value=i.texture,d.samples.value=I,d.weights.value=X,d.latitudinal.value=l==="latitudinal",a&&(d.poleAxis.value=a);const{_lodMax:x}=this;d.dTheta.value=G,d.mipInt.value=x-s;const v=this._sizeLods[n],L=3*v*(n>x-jl?n-x+jl:0),M=4*(this._cubeSize-v);eh(t,L,M,3*v,2*v),o.setRenderTarget(t),o.render(u,dd)}}function z3(e){const i=[],t=[],s=[];let n=e;const r=e-jl+1+r0.length;for(let l=0;l<r;l++){const a=Math.pow(2,n);t.push(a);let o=1/a;l>e-jl?o=r0[l-e+jl-1]:l===0&&(o=0),s.push(o);const c=1/(a-1),h=-c/2,u=1+c/2,d=[h,h,u,h,u,u,h,h,u,u,h,u],p=6,G=6,g=3,I=2,X=1,S=new Float32Array(g*G*p),x=new Float32Array(I*G*p),v=new Float32Array(X*G*p);for(let M=0;M<p;M++){const E=M%3*2/3-1,K=M>2?0:-1,q=[E,K,0,E+2/3,K,0,E+2/3,K+1,0,E,K,0,E+2/3,K+1,0,E,K+1,0];S.set(q,g*G*M),x.set(d,I*G*M);const Q=[M,M,M,M,M,M];v.set(Q,X*G*M)}const L=new It;L.setAttribute("position",new Nt(S,g)),L.setAttribute("uv",new Nt(x,I)),L.setAttribute("faceIndex",new Nt(v,X)),i.push(L),n>jl&&n--}return{lodPlanes:i,sizeLods:t,sigmas:s}}function c0(e,i,t){const s=new _s(e,i,t);return s.texture.mapping=fc,s.texture.name="PMREM.cubeUv",s.scissorTest=!0,s}function eh(e,i,t,s,n){e.viewport.set(i,t,s,n),e.scissor.set(i,t,s,n)}function U3(e,i,t){const s=new Float32Array(Qr),n=new H(0,1,0);return new li({name:"SphericalGaussianBlur",defines:{n:Qr,CUBEUV_TEXEL_WIDTH:1/i,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:s},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n}},vertexShader:md(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:pn,depthTest:!1,depthWrite:!1})}function h0(){return new li({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:md(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:pn,depthTest:!1,depthWrite:!1})}function u0(){return new li({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:md(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:pn,depthTest:!1,depthWrite:!1})}function md(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function k3(e){let i=new WeakMap,t=null;function s(a){if(a&&a.isTexture){const o=a.mapping,c=o===Vu||o===Lu,h=o===Sl||o===Cl;if(c||h)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let u=i.get(a);return t===null&&(t=new o0(e)),u=c?t.fromEquirectangular(a,u):t.fromCubemap(a,u),i.set(a,u),u.texture}else{if(i.has(a))return i.get(a).texture;{const u=a.image;if(c&&u&&u.height>0||h&&u&&n(u)){t===null&&(t=new o0(e));const d=c?t.fromEquirectangular(a):t.fromCubemap(a);return i.set(a,d),a.addEventListener("dispose",r),d.texture}else return null}}}return a}function n(a){let o=0;const c=6;for(let h=0;h<c;h++)a[h]!==void 0&&o++;return o===c}function r(a){const o=a.target;o.removeEventListener("dispose",r);const c=i.get(o);c!==void 0&&(i.delete(o),c.dispose())}function l(){i=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:s,dispose:l}}function D3(e){const i={};function t(s){if(i[s]!==void 0)return i[s];let n;switch(s){case"WEBGL_depth_texture":n=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":n=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:n=e.getExtension(s)}return i[s]=n,n}return{has:function(s){return t(s)!==null},init:function(s){s.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(s){const n=t(s);return n===null&&console.warn("THREE.WebGLRenderer: "+s+" extension not supported."),n}}}function J3(e,i,t,s){const n={},r=new WeakMap;function l(u){const d=u.target;d.index!==null&&i.remove(d.index);for(const G in d.attributes)i.remove(d.attributes[G]);d.removeEventListener("dispose",l),delete n[d.id];const p=r.get(d);p&&(i.remove(p),r.delete(d)),s.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,t.memory.geometries--}function a(u,d){return n[d.id]===!0||(d.addEventListener("dispose",l),n[d.id]=!0,t.memory.geometries++),d}function o(u){const d=u.attributes;for(const G in d)i.update(d[G],34962);const p=u.morphAttributes;for(const G in p){const g=p[G];for(let I=0,X=g.length;I<X;I++)i.update(g[I],34962)}}function c(u){const d=[],p=u.index,G=u.attributes.position;let g=0;if(p!==null){const S=p.array;g=p.version;for(let x=0,v=S.length;x<v;x+=3){const L=S[x+0],M=S[x+1],E=S[x+2];d.push(L,M,M,E,E,L)}}else{const S=G.array;g=G.version;for(let x=0,v=S.length/3-1;x<v;x+=3){const L=x+0,M=x+1,E=x+2;d.push(L,M,M,E,E,L)}}const I=new(Ub(d)?t0:e0)(d,1);I.version=g;const X=r.get(u);X&&i.remove(X),r.set(u,I)}function h(u){const d=r.get(u);if(d){const p=u.index;p!==null&&d.version<p.version&&c(u)}else c(u);return r.get(u)}return{get:a,update:o,getWireframeAttribute:h}}function K3(e,i,t,s){const n=s.isWebGL2;let r;function l(d){r=d}let a,o;function c(d){a=d.type,o=d.bytesPerElement}function h(d,p){e.drawElements(r,p,a,d*o),t.update(p,r,1)}function u(d,p,G){if(G===0)return;let g,I;if(n)g=e,I="drawElementsInstanced";else if(g=i.get("ANGLE_instanced_arrays"),I="drawElementsInstancedANGLE",g===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}g[I](r,p,a,d*o,G),t.update(p,r,G)}this.setMode=l,this.setIndex=c,this.render=h,this.renderInstances=u}function O3(e){const i={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function s(r,l,a){switch(t.calls++,l){case 4:t.triangles+=a*(r/3);break;case 1:t.lines+=a*(r/2);break;case 3:t.lines+=a*(r-1);break;case 2:t.lines+=a*r;break;case 0:t.points+=a*r;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",l);break}}function n(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:i,render:t,programs:null,autoReset:!0,reset:n,update:s}}function A3(e,i){return e[0]-i[0]}function B3(e,i){return Math.abs(i[1])-Math.abs(e[1])}function bd(e,i){let t=1;const s=i.isInterleavedBufferAttribute?i.data.array:i.array;s instanceof Int8Array?t=127:s instanceof Int16Array?t=32767:s instanceof Int32Array?t=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",s),e.divideScalar(t)}function j3(e,i,t){const s={},n=new Float32Array(8),r=new WeakMap,l=new De,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function o(c,h,u,d){const p=c.morphTargetInfluences;if(i.isWebGL2===!0){const G=h.morphAttributes.position||h.morphAttributes.normal||h.morphAttributes.color,g=G!==void 0?G.length:0;let I=r.get(h);if(I===void 0||I.count!==g){let oe=function(){pe.dispose(),r.delete(h),h.removeEventListener("dispose",oe)};I!==void 0&&I.texture.dispose();const x=h.morphAttributes.position!==void 0,v=h.morphAttributes.normal!==void 0,L=h.morphAttributes.color!==void 0,M=h.morphAttributes.position||[],E=h.morphAttributes.normal||[],K=h.morphAttributes.color||[];let q=0;x===!0&&(q=1),v===!0&&(q=2),L===!0&&(q=3);let Q=h.attributes.position.count*q,w=1;Q>i.maxTextureSize&&(w=Math.ceil(Q/i.maxTextureSize),Q=i.maxTextureSize);const j=new Float32Array(Q*w*4*g),pe=new vc(j,Q,w,g);pe.type=ar,pe.needsUpdate=!0;const se=q*4;for(let le=0;le<g;le++){const re=M[le],ne=E[le],Ze=K[le],fe=Q*w*4*le;for(let ve=0;ve<re.count;ve++){const Ce=ve*se;x===!0&&(l.fromBufferAttribute(re,ve),re.normalized===!0&&bd(l,re),j[fe+Ce+0]=l.x,j[fe+Ce+1]=l.y,j[fe+Ce+2]=l.z,j[fe+Ce+3]=0),v===!0&&(l.fromBufferAttribute(ne,ve),ne.normalized===!0&&bd(l,ne),j[fe+Ce+4]=l.x,j[fe+Ce+5]=l.y,j[fe+Ce+6]=l.z,j[fe+Ce+7]=0),L===!0&&(l.fromBufferAttribute(Ze,ve),Ze.normalized===!0&&bd(l,Ze),j[fe+Ce+8]=l.x,j[fe+Ce+9]=l.y,j[fe+Ce+10]=l.z,j[fe+Ce+11]=Ze.itemSize===4?l.w:1)}}I={count:g,texture:pe,size:new Xe(Q,w)},r.set(h,I),h.addEventListener("dispose",oe)}let X=0;for(let x=0;x<p.length;x++)X+=p[x];const S=h.morphTargetsRelative?1:1-X;d.getUniforms().setValue(e,"morphTargetBaseInfluence",S),d.getUniforms().setValue(e,"morphTargetInfluences",p),d.getUniforms().setValue(e,"morphTargetsTexture",I.texture,t),d.getUniforms().setValue(e,"morphTargetsTextureSize",I.size)}else{const G=p===void 0?0:p.length;let g=s[h.id];if(g===void 0||g.length!==G){g=[];for(let v=0;v<G;v++)g[v]=[v,0];s[h.id]=g}for(let v=0;v<G;v++){const L=g[v];L[0]=v,L[1]=p[v]}g.sort(B3);for(let v=0;v<8;v++)v<G&&g[v][1]?(a[v][0]=g[v][0],a[v][1]=g[v][1]):(a[v][0]=Number.MAX_SAFE_INTEGER,a[v][1]=0);a.sort(A3);const I=h.morphAttributes.position,X=h.morphAttributes.normal;let S=0;for(let v=0;v<8;v++){const L=a[v],M=L[0],E=L[1];M!==Number.MAX_SAFE_INTEGER&&E?(I&&h.getAttribute("morphTarget"+v)!==I[M]&&h.setAttribute("morphTarget"+v,I[M]),X&&h.getAttribute("morphNormal"+v)!==X[M]&&h.setAttribute("morphNormal"+v,X[M]),n[v]=E,S+=E):(I&&h.hasAttribute("morphTarget"+v)===!0&&h.deleteAttribute("morphTarget"+v),X&&h.hasAttribute("morphNormal"+v)===!0&&h.deleteAttribute("morphNormal"+v),n[v]=0)}const x=h.morphTargetsRelative?1:1-S;d.getUniforms().setValue(e,"morphTargetBaseInfluence",x),d.getUniforms().setValue(e,"morphTargetInfluences",n)}}return{update:o}}function Q3(e,i,t,s){let n=new WeakMap;function r(o){const c=s.render.frame,h=o.geometry,u=i.get(o,h);return n.get(u)!==c&&(i.update(u),n.set(u,c)),o.isInstancedMesh&&(o.hasEventListener("dispose",a)===!1&&o.addEventListener("dispose",a),t.update(o.instanceMatrix,34962),o.instanceColor!==null&&t.update(o.instanceColor,34962)),u}function l(){n=new WeakMap}function a(o){const c=o.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:r,dispose:l}}const d0=new Ss,p0=new vc,m0=new Ku,b0=new _c,y0=[],Z0=[],G0=new Float32Array(16),g0=new Float32Array(9),T0=new Float32Array(4);function _l(e,i,t){const s=e[0];if(s<=0||s>0)return e;const n=i*t;let r=y0[n];if(r===void 0&&(r=new Float32Array(n),y0[n]=r),i!==0){s.toArray(r,0);for(let l=1,a=0;l!==i;++l)a+=t,e[l].toArray(r,a)}return r}function oi(e,i){if(e.length!==i.length)return!1;for(let t=0,s=e.length;t<s;t++)if(e[t]!==i[t])return!1;return!0}function $s(e,i){for(let t=0,s=i.length;t<s;t++)e[t]=i[t]}function th(e,i){let t=Z0[i];t===void 0&&(t=new Int32Array(i),Z0[i]=t);for(let s=0;s!==i;++s)t[s]=e.allocateTextureUnit();return t}function _3(e,i){const t=this.cache;t[0]!==i&&(e.uniform1f(this.addr,i),t[0]=i)}function q3(e,i){const t=this.cache;if(i.x!==void 0)(t[0]!==i.x||t[1]!==i.y)&&(e.uniform2f(this.addr,i.x,i.y),t[0]=i.x,t[1]=i.y);else{if(oi(t,i))return;e.uniform2fv(this.addr,i),$s(t,i)}}function $3(e,i){const t=this.cache;if(i.x!==void 0)(t[0]!==i.x||t[1]!==i.y||t[2]!==i.z)&&(e.uniform3f(this.addr,i.x,i.y,i.z),t[0]=i.x,t[1]=i.y,t[2]=i.z);else if(i.r!==void 0)(t[0]!==i.r||t[1]!==i.g||t[2]!==i.b)&&(e.uniform3f(this.addr,i.r,i.g,i.b),t[0]=i.r,t[1]=i.g,t[2]=i.b);else{if(oi(t,i))return;e.uniform3fv(this.addr,i),$s(t,i)}}function ew(e,i){const t=this.cache;if(i.x!==void 0)(t[0]!==i.x||t[1]!==i.y||t[2]!==i.z||t[3]!==i.w)&&(e.uniform4f(this.addr,i.x,i.y,i.z,i.w),t[0]=i.x,t[1]=i.y,t[2]=i.z,t[3]=i.w);else{if(oi(t,i))return;e.uniform4fv(this.addr,i),$s(t,i)}}function tw(e,i){const t=this.cache,s=i.elements;if(s===void 0){if(oi(t,i))return;e.uniformMatrix2fv(this.addr,!1,i),$s(t,i)}else{if(oi(t,s))return;T0.set(s),e.uniformMatrix2fv(this.addr,!1,T0),$s(t,s)}}function sw(e,i){const t=this.cache,s=i.elements;if(s===void 0){if(oi(t,i))return;e.uniformMatrix3fv(this.addr,!1,i),$s(t,i)}else{if(oi(t,s))return;g0.set(s),e.uniformMatrix3fv(this.addr,!1,g0),$s(t,s)}}function iw(e,i){const t=this.cache,s=i.elements;if(s===void 0){if(oi(t,i))return;e.uniformMatrix4fv(this.addr,!1,i),$s(t,i)}else{if(oi(t,s))return;G0.set(s),e.uniformMatrix4fv(this.addr,!1,G0),$s(t,s)}}function nw(e,i){const t=this.cache;t[0]!==i&&(e.uniform1i(this.addr,i),t[0]=i)}function rw(e,i){const t=this.cache;oi(t,i)||(e.uniform2iv(this.addr,i),$s(t,i))}function lw(e,i){const t=this.cache;oi(t,i)||(e.uniform3iv(this.addr,i),$s(t,i))}function aw(e,i){const t=this.cache;oi(t,i)||(e.uniform4iv(this.addr,i),$s(t,i))}function ow(e,i){const t=this.cache;t[0]!==i&&(e.uniform1ui(this.addr,i),t[0]=i)}function cw(e,i){const t=this.cache;oi(t,i)||(e.uniform2uiv(this.addr,i),$s(t,i))}function hw(e,i){const t=this.cache;oi(t,i)||(e.uniform3uiv(this.addr,i),$s(t,i))}function uw(e,i){const t=this.cache;oi(t,i)||(e.uniform4uiv(this.addr,i),$s(t,i))}function dw(e,i,t){const s=this.cache,n=t.allocateTextureUnit();s[0]!==n&&(e.uniform1i(this.addr,n),s[0]=n),t.setTexture2D(i||d0,n)}function pw(e,i,t){const s=this.cache,n=t.allocateTextureUnit();s[0]!==n&&(e.uniform1i(this.addr,n),s[0]=n),t.setTexture3D(i||m0,n)}function mw(e,i,t){const s=this.cache,n=t.allocateTextureUnit();s[0]!==n&&(e.uniform1i(this.addr,n),s[0]=n),t.setTextureCube(i||b0,n)}function bw(e,i,t){const s=this.cache,n=t.allocateTextureUnit();s[0]!==n&&(e.uniform1i(this.addr,n),s[0]=n),t.setTexture2DArray(i||p0,n)}function yw(e){switch(e){case 5126:return _3;case 35664:return q3;case 35665:return $3;case 35666:return ew;case 35674:return tw;case 35675:return sw;case 35676:return iw;case 5124:case 35670:return nw;case 35667:case 35671:return rw;case 35668:case 35672:return lw;case 35669:case 35673:return aw;case 5125:return ow;case 36294:return cw;case 36295:return hw;case 36296:return uw;case 35678:case 36198:case 36298:case 36306:case 35682:return dw;case 35679:case 36299:case 36307:return pw;case 35680:case 36300:case 36308:case 36293:return mw;case 36289:case 36303:case 36311:case 36292:return bw}}function Zw(e,i){e.uniform1fv(this.addr,i)}function Gw(e,i){const t=_l(i,this.size,2);e.uniform2fv(this.addr,t)}function gw(e,i){const t=_l(i,this.size,3);e.uniform3fv(this.addr,t)}function Tw(e,i){const t=_l(i,this.size,4);e.uniform4fv(this.addr,t)}function Iw(e,i){const t=_l(i,this.size,4);e.uniformMatrix2fv(this.addr,!1,t)}function Rw(e,i){const t=_l(i,this.size,9);e.uniformMatrix3fv(this.addr,!1,t)}function fw(e,i){const t=_l(i,this.size,16);e.uniformMatrix4fv(this.addr,!1,t)}function Xw(e,i){e.uniform1iv(this.addr,i)}function Ww(e,i){e.uniform2iv(this.addr,i)}function Sw(e,i){e.uniform3iv(this.addr,i)}function Cw(e,i){e.uniform4iv(this.addr,i)}function Vw(e,i){e.uniform1uiv(this.addr,i)}function Lw(e,i){e.uniform2uiv(this.addr,i)}function Fw(e,i){e.uniform3uiv(this.addr,i)}function Nw(e,i){e.uniform4uiv(this.addr,i)}function xw(e,i,t){const s=i.length,n=th(t,s);e.uniform1iv(this.addr,n);for(let r=0;r!==s;++r)t.setTexture2D(i[r]||d0,n[r])}function vw(e,i,t){const s=i.length,n=th(t,s);e.uniform1iv(this.addr,n);for(let r=0;r!==s;++r)t.setTexture3D(i[r]||m0,n[r])}function Ew(e,i,t){const s=i.length,n=th(t,s);e.uniform1iv(this.addr,n);for(let r=0;r!==s;++r)t.setTextureCube(i[r]||b0,n[r])}function Yw(e,i,t){const s=i.length,n=th(t,s);e.uniform1iv(this.addr,n);for(let r=0;r!==s;++r)t.setTexture2DArray(i[r]||p0,n[r])}function Mw(e){switch(e){case 5126:return Zw;case 35664:return Gw;case 35665:return gw;case 35666:return Tw;case 35674:return Iw;case 35675:return Rw;case 35676:return fw;case 5124:case 35670:return Xw;case 35667:case 35671:return Ww;case 35668:case 35672:return Sw;case 35669:case 35673:return Cw;case 5125:return Vw;case 36294:return Lw;case 36295:return Fw;case 36296:return Nw;case 35678:case 36198:case 36298:case 36306:case 35682:return xw;case 35679:case 36299:case 36307:return vw;case 35680:case 36300:case 36308:case 36293:return Ew;case 36289:case 36303:case 36311:case 36292:return Yw}}function ww(e,i,t){this.id=e,this.addr=t,this.cache=[],this.setValue=yw(i.type)}function I0(e,i,t){this.id=e,this.addr=t,this.cache=[],this.size=i.size,this.setValue=Mw(i.type)}I0.prototype.updateCache=function(e){const i=this.cache;e instanceof Float32Array&&i.length!==e.length&&(this.cache=new Float32Array(e.length)),$s(i,e)};function R0(e){this.id=e,this.seq=[],this.map={}}R0.prototype.setValue=function(e,i,t){const s=this.seq;for(let n=0,r=s.length;n!==r;++n){const l=s[n];l.setValue(e,i[l.id],t)}};const yd=/(\w+)(\])?(\[|\.)?/g;function f0(e,i){e.seq.push(i),e.map[i.id]=i}function Hw(e,i,t){const s=e.name,n=s.length;for(yd.lastIndex=0;;){const r=yd.exec(s),l=yd.lastIndex;let a=r[1];const o=r[2]==="]",c=r[3];if(o&&(a=a|0),c===void 0||c==="["&&l+2===n){f0(t,c===void 0?new ww(a,e,i):new I0(a,e,i));break}else{let u=t.map[a];u===void 0&&(u=new R0(a),f0(t,u)),t=u}}}function Zr(e,i){this.seq=[],this.map={};const t=e.getProgramParameter(i,35718);for(let s=0;s<t;++s){const n=e.getActiveUniform(i,s),r=e.getUniformLocation(i,n.name);Hw(n,r,this)}}Zr.prototype.setValue=function(e,i,t,s){const n=this.map[i];n!==void 0&&n.setValue(e,t,s)},Zr.prototype.setOptional=function(e,i,t){const s=i[t];s!==void 0&&this.setValue(e,t,s)},Zr.upload=function(e,i,t,s){for(let n=0,r=i.length;n!==r;++n){const l=i[n],a=t[l.id];a.needsUpdate!==!1&&l.setValue(e,a.value,s)}},Zr.seqWithValue=function(e,i){const t=[];for(let s=0,n=e.length;s!==n;++s){const r=e[s];r.id in i&&t.push(r)}return t};function X0(e,i,t){const s=e.createShader(i);return e.shaderSource(s,t),e.compileShader(s),s}let Pw=0;function zw(e,i){const t=e.split(`
`),s=[],n=Math.max(i-6,0),r=Math.min(i+6,t.length);for(let l=n;l<r;l++)s.push(l+1+": "+t[l]);return s.join(`
`)}function Uw(e){switch(e){case Hn:return["Linear","( value )"];case Ts:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function W0(e,i,t){const s=e.getShaderParameter(i,35713),n=e.getShaderInfoLog(i).trim();if(s&&n==="")return"";const r=parseInt(/ERROR: 0:(\d+)/.exec(n)[1]);return t.toUpperCase()+`

`+n+`

`+zw(e.getShaderSource(i),r)}function kw(e,i){const t=Uw(i);return"vec4 "+e+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function Dw(e,i){let t;switch(i){case CE:t="Linear";break;case VE:t="Reinhard";break;case LE:t="OptimizedCineon";break;case FE:t="ACESFilmic";break;case NE:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",i),t="Linear"}return"vec3 "+e+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function Jw(e){return[e.extensionDerivatives||!!e.envMapCubeUVHeight||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||e.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(uo).join(`
`)}function Kw(e){const i=[];for(const t in e){const s=e[t];s!==!1&&i.push("#define "+t+" "+s)}return i.join(`
`)}function Ow(e,i){const t={},s=e.getProgramParameter(i,35721);for(let n=0;n<s;n++){const r=e.getActiveAttrib(i,n),l=r.name;let a=1;r.type===35674&&(a=2),r.type===35675&&(a=3),r.type===35676&&(a=4),t[l]={type:r.type,location:e.getAttribLocation(i,l),locationSize:a}}return t}function uo(e){return e!==""}function S0(e,i){return e.replace(/NUM_DIR_LIGHTS/g,i.numDirLights).replace(/NUM_SPOT_LIGHTS/g,i.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,i.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,i.numPointLights).replace(/NUM_HEMI_LIGHTS/g,i.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,i.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,i.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,i.numPointLightShadows)}function C0(e,i){return e.replace(/NUM_CLIPPING_PLANES/g,i.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,i.numClippingPlanes-i.numClipIntersection)}const Aw=/^[ \t]*#include +<([\w\d./]+)>/gm;function Zd(e){return e.replace(Aw,Bw)}function Bw(e,i){const t=Mt[i];if(t===void 0)throw new Error("Can not resolve #include <"+i+">");return Zd(t)}const jw=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Qw=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function V0(e){return e.replace(Qw,L0).replace(jw,_w)}function _w(e,i,t,s){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),L0(e,i,t,s)}function L0(e,i,t,s){let n="";for(let r=parseInt(i);r<parseInt(t);r++)n+=s.replace(/\[\s*i\s*\]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return n}function F0(e){let i="precision "+e.precision+` float;
precision `+e.precision+" int;";return e.precision==="highp"?i+=`
#define HIGH_PRECISION`:e.precision==="mediump"?i+=`
#define MEDIUM_PRECISION`:e.precision==="lowp"&&(i+=`
#define LOW_PRECISION`),i}function qw(e){let i="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===rb?i="SHADOWMAP_TYPE_PCF":e.shadowMapType===rE?i="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===_a&&(i="SHADOWMAP_TYPE_VSM"),i}function $w(e){let i="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case Sl:case Cl:i="ENVMAP_TYPE_CUBE";break;case fc:i="ENVMAP_TYPE_CUBE_UV";break}return i}function eH(e){let i="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case Cl:i="ENVMAP_MODE_REFRACTION";break}return i}function tH(e){let i="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case Rc:i="ENVMAP_BLENDING_MULTIPLY";break;case WE:i="ENVMAP_BLENDING_MIX";break;case SE:i="ENVMAP_BLENDING_ADD";break}return i}function sH(e){const i=e.envMapCubeUVHeight;if(i===null)return null;const t=Math.log2(i/32+1)+3,s=1/i;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:s,maxMip:t}}function iH(e,i,t,s){const n=e.getContext(),r=t.defines;let l=t.vertexShader,a=t.fragmentShader;const o=qw(t),c=$w(t),h=eH(t),u=tH(t),d=sH(t),p=t.isWebGL2?"":Jw(t),G=Kw(r),g=n.createProgram();let I,X,S=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(I=[G].filter(uo).join(`
`),I.length>0&&(I+=`
`),X=[p,G].filter(uo).join(`
`),X.length>0&&(X+=`
`)):(I=[F0(t),"#define SHADER_NAME "+t.shaderName,G,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define MAX_BONES "+t.maxBones,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.useVertexTexture?"#define BONE_TEXTURE":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+o:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(uo).join(`
`),X=[p,F0(t),"#define SHADER_NAME "+t.shaderName,G,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+h:"",t.envMap?"#define "+u:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+o:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==wn?"#define TONE_MAPPING":"",t.toneMapping!==wn?Mt.tonemapping_pars_fragment:"",t.toneMapping!==wn?Dw("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Mt.encodings_pars_fragment,kw("linearToOutputTexel",t.outputEncoding),t.depthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(uo).join(`
`)),l=Zd(l),l=S0(l,t),l=C0(l,t),a=Zd(a),a=S0(a,t),a=C0(a,t),l=V0(l),a=V0(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(S=`#version 300 es
`,I=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+I,X=["#define varying in",t.glslVersion===Hb?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===Hb?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+X);const x=S+I+l,v=S+X+a,L=X0(n,35633,x),M=X0(n,35632,v);if(n.attachShader(g,L),n.attachShader(g,M),t.index0AttributeName!==void 0?n.bindAttribLocation(g,0,t.index0AttributeName):t.morphTargets===!0&&n.bindAttribLocation(g,0,"position"),n.linkProgram(g),e.debug.checkShaderErrors){const q=n.getProgramInfoLog(g).trim(),Q=n.getShaderInfoLog(L).trim(),w=n.getShaderInfoLog(M).trim();let j=!0,pe=!0;if(n.getProgramParameter(g,35714)===!1){j=!1;const se=W0(n,L,"vertex"),oe=W0(n,M,"fragment");console.error("THREE.WebGLProgram: Shader Error "+n.getError()+" - VALIDATE_STATUS "+n.getProgramParameter(g,35715)+`

Program Info Log: `+q+`
`+se+`
`+oe)}else q!==""?console.warn("THREE.WebGLProgram: Program Info Log:",q):(Q===""||w==="")&&(pe=!1);pe&&(this.diagnostics={runnable:j,programLog:q,vertexShader:{log:Q,prefix:I},fragmentShader:{log:w,prefix:X}})}n.deleteShader(L),n.deleteShader(M);let E;this.getUniforms=function(){return E===void 0&&(E=new Zr(n,g)),E};let K;return this.getAttributes=function(){return K===void 0&&(K=Ow(n,g)),K},this.destroy=function(){s.releaseStatesOfProgram(this),n.deleteProgram(g),this.program=void 0},this.name=t.shaderName,this.id=Pw++,this.cacheKey=i,this.usedTimes=1,this.program=g,this.vertexShader=L,this.fragmentShader=M,this}let nH=0;class rH{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(i){const t=i.vertexShader,s=i.fragmentShader,n=this._getShaderStage(t),r=this._getShaderStage(s),l=this._getShaderCacheForMaterial(i);return l.has(n)===!1&&(l.add(n),n.usedTimes++),l.has(r)===!1&&(l.add(r),r.usedTimes++),this}remove(i){const t=this.materialCache.get(i);for(const s of t)s.usedTimes--,s.usedTimes===0&&this.shaderCache.delete(s.code);return this.materialCache.delete(i),this}getVertexShaderID(i){return this._getShaderStage(i.vertexShader).id}getFragmentShaderID(i){return this._getShaderStage(i.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(i){const t=this.materialCache;return t.has(i)===!1&&t.set(i,new Set),t.get(i)}_getShaderStage(i){const t=this.shaderCache;if(t.has(i)===!1){const s=new lH(i);t.set(i,s)}return t.get(i)}}class lH{constructor(i){this.id=nH++,this.code=i,this.usedTimes=0}}function aH(e,i,t,s,n,r,l){const a=new $u,o=new rH,c=[],h=n.isWebGL2,u=n.logarithmicDepthBuffer,d=n.floatVertexTextures,p=n.maxVertexUniforms,G=n.vertexTextures;let g=n.precision;const I={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function X(w){const pe=w.skeleton.bones;if(d)return 1024;{const oe=Math.floor((p-20)/4),le=Math.min(oe,pe.length);return le<pe.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+pe.length+" bones. This GPU supports "+le+"."),0):le}}function S(w,j,pe,se,oe){const le=se.fog,re=oe.geometry,ne=w.isMeshStandardMaterial?se.environment:null,Ze=(w.isMeshStandardMaterial?t:i).get(w.envMap||ne),fe=!!Ze&&Ze.mapping===fc?Ze.image.height:null,ve=I[w.type],Ce=oe.isSkinnedMesh?X(oe):0;w.precision!==null&&(g=n.getMaxPrecision(w.precision),g!==w.precision&&console.warn("THREE.WebGLProgram.getParameters:",w.precision,"not supported, using",g,"instead."));const ze=re.morphAttributes.position||re.morphAttributes.normal||re.morphAttributes.color,vt=ze!==void 0?ze.length:0;let gt=0;re.morphAttributes.position!==void 0&&(gt=1),re.morphAttributes.normal!==void 0&&(gt=2),re.morphAttributes.color!==void 0&&(gt=3);let Ge,Ot,St,yt;if(ve){const ae=bn[ve];Ge=ae.vertexShader,Ot=ae.fragmentShader}else Ge=w.vertexShader,Ot=w.fragmentShader,o.update(w),St=o.getVertexShaderID(w),yt=o.getFragmentShaderID(w);const We=e.getRenderTarget(),ct=w.alphaTest>0,be=w.clearcoat>0;return{isWebGL2:h,shaderID:ve,shaderName:w.type,vertexShader:Ge,fragmentShader:Ot,defines:w.defines,customVertexShaderID:St,customFragmentShaderID:yt,isRawShaderMaterial:w.isRawShaderMaterial===!0,glslVersion:w.glslVersion,precision:g,instancing:oe.isInstancedMesh===!0,instancingColor:oe.isInstancedMesh===!0&&oe.instanceColor!==null,supportsVertexTextures:G,outputEncoding:We===null?e.outputEncoding:We.isXRRenderTarget===!0?We.texture.encoding:Hn,map:!!w.map,matcap:!!w.matcap,envMap:!!Ze,envMapMode:Ze&&Ze.mapping,envMapCubeUVHeight:fe,lightMap:!!w.lightMap,aoMap:!!w.aoMap,emissiveMap:!!w.emissiveMap,bumpMap:!!w.bumpMap,normalMap:!!w.normalMap,objectSpaceNormalMap:w.normalMapType===eY,tangentSpaceNormalMap:w.normalMapType===vl,decodeVideoTexture:!!w.map&&w.map.isVideoTexture===!0&&w.map.encoding===Ts,clearcoat:be,clearcoatMap:be&&!!w.clearcoatMap,clearcoatRoughnessMap:be&&!!w.clearcoatRoughnessMap,clearcoatNormalMap:be&&!!w.clearcoatNormalMap,displacementMap:!!w.displacementMap,roughnessMap:!!w.roughnessMap,metalnessMap:!!w.metalnessMap,specularMap:!!w.specularMap,specularIntensityMap:!!w.specularIntensityMap,specularColorMap:!!w.specularColorMap,opaque:w.transparent===!1&&w.blending===Xl,alphaMap:!!w.alphaMap,alphaTest:ct,gradientMap:!!w.gradientMap,sheen:w.sheen>0,sheenColorMap:!!w.sheenColorMap,sheenRoughnessMap:!!w.sheenRoughnessMap,transmission:w.transmission>0,transmissionMap:!!w.transmissionMap,thicknessMap:!!w.thicknessMap,combine:w.combine,vertexTangents:!!w.normalMap&&!!re.attributes.tangent,vertexColors:w.vertexColors,vertexAlphas:w.vertexColors===!0&&!!re.attributes.color&&re.attributes.color.itemSize===4,vertexUvs:!!w.map||!!w.bumpMap||!!w.normalMap||!!w.specularMap||!!w.alphaMap||!!w.emissiveMap||!!w.roughnessMap||!!w.metalnessMap||!!w.clearcoatMap||!!w.clearcoatRoughnessMap||!!w.clearcoatNormalMap||!!w.displacementMap||!!w.transmissionMap||!!w.thicknessMap||!!w.specularIntensityMap||!!w.specularColorMap||!!w.sheenColorMap||!!w.sheenRoughnessMap,uvsVertexOnly:!(!!w.map||!!w.bumpMap||!!w.normalMap||!!w.specularMap||!!w.alphaMap||!!w.emissiveMap||!!w.roughnessMap||!!w.metalnessMap||!!w.clearcoatNormalMap||w.transmission>0||!!w.transmissionMap||!!w.thicknessMap||!!w.specularIntensityMap||!!w.specularColorMap||w.sheen>0||!!w.sheenColorMap||!!w.sheenRoughnessMap)&&!!w.displacementMap,fog:!!le,useFog:w.fog,fogExp2:le&&le.isFogExp2,flatShading:!!w.flatShading,sizeAttenuation:w.sizeAttenuation,logarithmicDepthBuffer:u,skinning:oe.isSkinnedMesh===!0&&Ce>0,maxBones:Ce,useVertexTexture:d,morphTargets:re.morphAttributes.position!==void 0,morphNormals:re.morphAttributes.normal!==void 0,morphColors:re.morphAttributes.color!==void 0,morphTargetsCount:vt,morphTextureStride:gt,numDirLights:j.directional.length,numPointLights:j.point.length,numSpotLights:j.spot.length,numRectAreaLights:j.rectArea.length,numHemiLights:j.hemi.length,numDirLightShadows:j.directionalShadowMap.length,numPointLightShadows:j.pointShadowMap.length,numSpotLightShadows:j.spotShadowMap.length,numClippingPlanes:l.numPlanes,numClipIntersection:l.numIntersection,dithering:w.dithering,shadowMapEnabled:e.shadowMap.enabled&&pe.length>0,shadowMapType:e.shadowMap.type,toneMapping:w.toneMapped?e.toneMapping:wn,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:w.premultipliedAlpha,doubleSided:w.side===pi,flipSided:w.side===fi,depthPacking:w.depthPacking!==void 0?w.depthPacking:!1,index0AttributeName:w.index0AttributeName,extensionDerivatives:w.extensions&&w.extensions.derivatives,extensionFragDepth:w.extensions&&w.extensions.fragDepth,extensionDrawBuffers:w.extensions&&w.extensions.drawBuffers,extensionShaderTextureLOD:w.extensions&&w.extensions.shaderTextureLOD,rendererExtensionFragDepth:h||s.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||s.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||s.has("EXT_shader_texture_lod"),customProgramCacheKey:w.customProgramCacheKey()}}function x(w){const j=[];if(w.shaderID?j.push(w.shaderID):(j.push(w.customVertexShaderID),j.push(w.customFragmentShaderID)),w.defines!==void 0)for(const pe in w.defines)j.push(pe),j.push(w.defines[pe]);return w.isRawShaderMaterial===!1&&(v(j,w),L(j,w),j.push(e.outputEncoding)),j.push(w.customProgramCacheKey),j.join()}function v(w,j){w.push(j.precision),w.push(j.outputEncoding),w.push(j.envMapMode),w.push(j.envMapCubeUVHeight),w.push(j.combine),w.push(j.vertexUvs),w.push(j.fogExp2),w.push(j.sizeAttenuation),w.push(j.maxBones),w.push(j.morphTargetsCount),w.push(j.morphAttributeCount),w.push(j.numDirLights),w.push(j.numPointLights),w.push(j.numSpotLights),w.push(j.numHemiLights),w.push(j.numRectAreaLights),w.push(j.numDirLightShadows),w.push(j.numPointLightShadows),w.push(j.numSpotLightShadows),w.push(j.shadowMapType),w.push(j.toneMapping),w.push(j.numClippingPlanes),w.push(j.numClipIntersection)}function L(w,j){a.disableAll(),j.isWebGL2&&a.enable(0),j.supportsVertexTextures&&a.enable(1),j.instancing&&a.enable(2),j.instancingColor&&a.enable(3),j.map&&a.enable(4),j.matcap&&a.enable(5),j.envMap&&a.enable(6),j.lightMap&&a.enable(7),j.aoMap&&a.enable(8),j.emissiveMap&&a.enable(9),j.bumpMap&&a.enable(10),j.normalMap&&a.enable(11),j.objectSpaceNormalMap&&a.enable(12),j.tangentSpaceNormalMap&&a.enable(13),j.clearcoat&&a.enable(14),j.clearcoatMap&&a.enable(15),j.clearcoatRoughnessMap&&a.enable(16),j.clearcoatNormalMap&&a.enable(17),j.displacementMap&&a.enable(18),j.specularMap&&a.enable(19),j.roughnessMap&&a.enable(20),j.metalnessMap&&a.enable(21),j.gradientMap&&a.enable(22),j.alphaMap&&a.enable(23),j.alphaTest&&a.enable(24),j.vertexColors&&a.enable(25),j.vertexAlphas&&a.enable(26),j.vertexUvs&&a.enable(27),j.vertexTangents&&a.enable(28),j.uvsVertexOnly&&a.enable(29),j.fog&&a.enable(30),w.push(a.mask),a.disableAll(),j.useFog&&a.enable(0),j.flatShading&&a.enable(1),j.logarithmicDepthBuffer&&a.enable(2),j.skinning&&a.enable(3),j.useVertexTexture&&a.enable(4),j.morphTargets&&a.enable(5),j.morphNormals&&a.enable(6),j.morphColors&&a.enable(7),j.premultipliedAlpha&&a.enable(8),j.shadowMapEnabled&&a.enable(9),j.physicallyCorrectLights&&a.enable(10),j.doubleSided&&a.enable(11),j.flipSided&&a.enable(12),j.depthPacking&&a.enable(13),j.dithering&&a.enable(14),j.specularIntensityMap&&a.enable(15),j.specularColorMap&&a.enable(16),j.transmission&&a.enable(17),j.transmissionMap&&a.enable(18),j.thicknessMap&&a.enable(19),j.sheen&&a.enable(20),j.sheenColorMap&&a.enable(21),j.sheenRoughnessMap&&a.enable(22),j.decodeVideoTexture&&a.enable(23),j.opaque&&a.enable(24),w.push(a.mask)}function M(w){const j=I[w.type];let pe;if(j){const se=bn[j];pe=vY.clone(se.uniforms)}else pe=w.uniforms;return pe}function E(w,j){let pe;for(let se=0,oe=c.length;se<oe;se++){const le=c[se];if(le.cacheKey===j){pe=le,++pe.usedTimes;break}}return pe===void 0&&(pe=new iH(e,j,w,r),c.push(pe)),pe}function K(w){if(--w.usedTimes===0){const j=c.indexOf(w);c[j]=c[c.length-1],c.pop(),w.destroy()}}function q(w){o.remove(w)}function Q(){o.dispose()}return{getParameters:S,getProgramCacheKey:x,getUniforms:M,acquireProgram:E,releaseProgram:K,releaseShaderCache:q,programs:c,dispose:Q}}function oH(){let e=new WeakMap;function i(r){let l=e.get(r);return l===void 0&&(l={},e.set(r,l)),l}function t(r){e.delete(r)}function s(r,l,a){e.get(r)[l]=a}function n(){e=new WeakMap}return{get:i,remove:t,update:s,dispose:n}}function cH(e,i){return e.groupOrder!==i.groupOrder?e.groupOrder-i.groupOrder:e.renderOrder!==i.renderOrder?e.renderOrder-i.renderOrder:e.material.id!==i.material.id?e.material.id-i.material.id:e.z!==i.z?e.z-i.z:e.id-i.id}function N0(e,i){return e.groupOrder!==i.groupOrder?e.groupOrder-i.groupOrder:e.renderOrder!==i.renderOrder?e.renderOrder-i.renderOrder:e.z!==i.z?i.z-e.z:e.id-i.id}function x0(){const e=[];let i=0;const t=[],s=[],n=[];function r(){i=0,t.length=0,s.length=0,n.length=0}function l(u,d,p,G,g,I){let X=e[i];return X===void 0?(X={id:u.id,object:u,geometry:d,material:p,groupOrder:G,renderOrder:u.renderOrder,z:g,group:I},e[i]=X):(X.id=u.id,X.object=u,X.geometry=d,X.material=p,X.groupOrder=G,X.renderOrder=u.renderOrder,X.z=g,X.group=I),i++,X}function a(u,d,p,G,g,I){const X=l(u,d,p,G,g,I);p.transmission>0?s.push(X):p.transparent===!0?n.push(X):t.push(X)}function o(u,d,p,G,g,I){const X=l(u,d,p,G,g,I);p.transmission>0?s.unshift(X):p.transparent===!0?n.unshift(X):t.unshift(X)}function c(u,d){t.length>1&&t.sort(u||cH),s.length>1&&s.sort(d||N0),n.length>1&&n.sort(d||N0)}function h(){for(let u=i,d=e.length;u<d;u++){const p=e[u];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:t,transmissive:s,transparent:n,init:r,push:a,unshift:o,finish:h,sort:c}}function hH(){let e=new WeakMap;function i(s,n){let r;return e.has(s)===!1?(r=new x0,e.set(s,[r])):n>=e.get(s).length?(r=new x0,e.get(s).push(r)):r=e.get(s)[n],r}function t(){e=new WeakMap}return{get:i,dispose:t}}function uH(){const e={};return{get:function(i){if(e[i.id]!==void 0)return e[i.id];let t;switch(i.type){case"DirectionalLight":t={direction:new H,color:new ie};break;case"SpotLight":t={position:new H,direction:new H,color:new ie,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new H,color:new ie,distance:0,decay:0};break;case"HemisphereLight":t={direction:new H,skyColor:new ie,groundColor:new ie};break;case"RectAreaLight":t={color:new ie,position:new H,halfWidth:new H,halfHeight:new H};break}return e[i.id]=t,t}}}function dH(){const e={};return{get:function(i){if(e[i.id]!==void 0)return e[i.id];let t;switch(i.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Xe};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Xe};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Xe,shadowCameraNear:1,shadowCameraFar:1e3};break}return e[i.id]=t,t}}}let pH=0;function mH(e,i){return(i.castShadow?1:0)-(e.castShadow?1:0)}function bH(e,i){const t=new uH,s=dH(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let h=0;h<9;h++)n.probe.push(new H);const r=new H,l=new _e,a=new _e;function o(h,u){let d=0,p=0,G=0;for(let q=0;q<9;q++)n.probe[q].set(0,0,0);let g=0,I=0,X=0,S=0,x=0,v=0,L=0,M=0;h.sort(mH);const E=u!==!0?Math.PI:1;for(let q=0,Q=h.length;q<Q;q++){const w=h[q],j=w.color,pe=w.intensity,se=w.distance,oe=w.shadow&&w.shadow.map?w.shadow.map.texture:null;if(w.isAmbientLight)d+=j.r*pe*E,p+=j.g*pe*E,G+=j.b*pe*E;else if(w.isLightProbe)for(let le=0;le<9;le++)n.probe[le].addScaledVector(w.sh.coefficients[le],pe);else if(w.isDirectionalLight){const le=t.get(w);if(le.color.copy(w.color).multiplyScalar(w.intensity*E),w.castShadow){const re=w.shadow,ne=s.get(w);ne.shadowBias=re.bias,ne.shadowNormalBias=re.normalBias,ne.shadowRadius=re.radius,ne.shadowMapSize=re.mapSize,n.directionalShadow[g]=ne,n.directionalShadowMap[g]=oe,n.directionalShadowMatrix[g]=w.shadow.matrix,v++}n.directional[g]=le,g++}else if(w.isSpotLight){const le=t.get(w);if(le.position.setFromMatrixPosition(w.matrixWorld),le.color.copy(j).multiplyScalar(pe*E),le.distance=se,le.coneCos=Math.cos(w.angle),le.penumbraCos=Math.cos(w.angle*(1-w.penumbra)),le.decay=w.decay,w.castShadow){const re=w.shadow,ne=s.get(w);ne.shadowBias=re.bias,ne.shadowNormalBias=re.normalBias,ne.shadowRadius=re.radius,ne.shadowMapSize=re.mapSize,n.spotShadow[X]=ne,n.spotShadowMap[X]=oe,n.spotShadowMatrix[X]=w.shadow.matrix,M++}n.spot[X]=le,X++}else if(w.isRectAreaLight){const le=t.get(w);le.color.copy(j).multiplyScalar(pe),le.halfWidth.set(w.width*.5,0,0),le.halfHeight.set(0,w.height*.5,0),n.rectArea[S]=le,S++}else if(w.isPointLight){const le=t.get(w);if(le.color.copy(w.color).multiplyScalar(w.intensity*E),le.distance=w.distance,le.decay=w.decay,w.castShadow){const re=w.shadow,ne=s.get(w);ne.shadowBias=re.bias,ne.shadowNormalBias=re.normalBias,ne.shadowRadius=re.radius,ne.shadowMapSize=re.mapSize,ne.shadowCameraNear=re.camera.near,ne.shadowCameraFar=re.camera.far,n.pointShadow[I]=ne,n.pointShadowMap[I]=oe,n.pointShadowMatrix[I]=w.shadow.matrix,L++}n.point[I]=le,I++}else if(w.isHemisphereLight){const le=t.get(w);le.skyColor.copy(w.color).multiplyScalar(pe*E),le.groundColor.copy(w.groundColor).multiplyScalar(pe*E),n.hemi[x]=le,x++}}S>0&&(i.isWebGL2||e.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=Ke.LTC_FLOAT_1,n.rectAreaLTC2=Ke.LTC_FLOAT_2):e.has("OES_texture_half_float_linear")===!0?(n.rectAreaLTC1=Ke.LTC_HALF_1,n.rectAreaLTC2=Ke.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),n.ambient[0]=d,n.ambient[1]=p,n.ambient[2]=G;const K=n.hash;(K.directionalLength!==g||K.pointLength!==I||K.spotLength!==X||K.rectAreaLength!==S||K.hemiLength!==x||K.numDirectionalShadows!==v||K.numPointShadows!==L||K.numSpotShadows!==M)&&(n.directional.length=g,n.spot.length=X,n.rectArea.length=S,n.point.length=I,n.hemi.length=x,n.directionalShadow.length=v,n.directionalShadowMap.length=v,n.pointShadow.length=L,n.pointShadowMap.length=L,n.spotShadow.length=M,n.spotShadowMap.length=M,n.directionalShadowMatrix.length=v,n.pointShadowMatrix.length=L,n.spotShadowMatrix.length=M,K.directionalLength=g,K.pointLength=I,K.spotLength=X,K.rectAreaLength=S,K.hemiLength=x,K.numDirectionalShadows=v,K.numPointShadows=L,K.numSpotShadows=M,n.version=pH++)}function c(h,u){let d=0,p=0,G=0,g=0,I=0;const X=u.matrixWorldInverse;for(let S=0,x=h.length;S<x;S++){const v=h[S];if(v.isDirectionalLight){const L=n.directional[d];L.direction.setFromMatrixPosition(v.matrixWorld),r.setFromMatrixPosition(v.target.matrixWorld),L.direction.sub(r),L.direction.transformDirection(X),d++}else if(v.isSpotLight){const L=n.spot[G];L.position.setFromMatrixPosition(v.matrixWorld),L.position.applyMatrix4(X),L.direction.setFromMatrixPosition(v.matrixWorld),r.setFromMatrixPosition(v.target.matrixWorld),L.direction.sub(r),L.direction.transformDirection(X),G++}else if(v.isRectAreaLight){const L=n.rectArea[g];L.position.setFromMatrixPosition(v.matrixWorld),L.position.applyMatrix4(X),a.identity(),l.copy(v.matrixWorld),l.premultiply(X),a.extractRotation(l),L.halfWidth.set(v.width*.5,0,0),L.halfHeight.set(0,v.height*.5,0),L.halfWidth.applyMatrix4(a),L.halfHeight.applyMatrix4(a),g++}else if(v.isPointLight){const L=n.point[p];L.position.setFromMatrixPosition(v.matrixWorld),L.position.applyMatrix4(X),p++}else if(v.isHemisphereLight){const L=n.hemi[I];L.direction.setFromMatrixPosition(v.matrixWorld),L.direction.transformDirection(X),L.direction.normalize(),I++}}}return{setup:o,setupView:c,state:n}}function v0(e,i){const t=new bH(e,i),s=[],n=[];function r(){s.length=0,n.length=0}function l(u){s.push(u)}function a(u){n.push(u)}function o(u){t.setup(s,u)}function c(u){t.setupView(s,u)}return{init:r,state:{lightsArray:s,shadowsArray:n,lights:t},setupLights:o,setupLightsView:c,pushLight:l,pushShadow:a}}function yH(e,i){let t=new WeakMap;function s(r,l=0){let a;return t.has(r)===!1?(a=new v0(e,i),t.set(r,[a])):l>=t.get(r).length?(a=new v0(e,i),t.get(r).push(a)):a=t.get(r)[l],a}function n(){t=new WeakMap}return{get:s,dispose:n}}class Gd extends Ps{constructor(i){super();this.type="MeshDepthMaterial",this.depthPacking=qE,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(i)}copy(i){return super.copy(i),this.depthPacking=i.depthPacking,this.map=i.map,this.alphaMap=i.alphaMap,this.displacementMap=i.displacementMap,this.displacementScale=i.displacementScale,this.displacementBias=i.displacementBias,this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this}}Gd.prototype.isMeshDepthMaterial=!0;class gd extends Ps{constructor(i){super();this.type="MeshDistanceMaterial",this.referencePosition=new H,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(i)}copy(i){return super.copy(i),this.referencePosition.copy(i.referencePosition),this.nearDistance=i.nearDistance,this.farDistance=i.farDistance,this.map=i.map,this.alphaMap=i.alphaMap,this.displacementMap=i.displacementMap,this.displacementScale=i.displacementScale,this.displacementBias=i.displacementBias,this}}gd.prototype.isMeshDistanceMaterial=!0;const ZH=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,GH=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function E0(e,i,t){let s=new co;const n=new Xe,r=new Xe,l=new De,a=new Gd({depthPacking:$E}),o=new gd,c={},h=t.maxTextureSize,u={0:fi,1:lr,2:pi},d=new li({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Xe},radius:{value:4}},vertexShader:ZH,fragmentShader:GH}),p=d.clone();p.defines.HORIZONTAL_PASS=1;const G=new It;G.setAttribute("position",new Nt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new ns(G,d),I=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=rb,this.render=function(v,L,M){if(I.enabled===!1||I.autoUpdate===!1&&I.needsUpdate===!1||v.length===0)return;const E=e.getRenderTarget(),K=e.getActiveCubeFace(),q=e.getActiveMipmapLevel(),Q=e.state;Q.setBlending(pn),Q.buffers.color.setClear(1,1,1,1),Q.buffers.depth.setTest(!0),Q.setScissorTest(!1);for(let w=0,j=v.length;w<j;w++){const pe=v[w],se=pe.shadow;if(se===void 0){console.warn("THREE.WebGLShadowMap:",pe,"has no shadow.");continue}if(se.autoUpdate===!1&&se.needsUpdate===!1)continue;n.copy(se.mapSize);const oe=se.getFrameExtents();if(n.multiply(oe),r.copy(se.mapSize),(n.x>h||n.y>h)&&(n.x>h&&(r.x=Math.floor(h/oe.x),n.x=r.x*oe.x,se.mapSize.x=r.x),n.y>h&&(r.y=Math.floor(h/oe.y),n.y=r.y*oe.y,se.mapSize.y=r.y)),se.map===null&&!se.isPointLightShadow&&this.type===_a&&(se.map=new _s(n.x,n.y),se.map.texture.name=pe.name+".shadowMap",se.mapPass=new _s(n.x,n.y),se.camera.updateProjectionMatrix()),se.map===null){const re={minFilter:us,magFilter:us,format:ri};se.map=new _s(n.x,n.y,re),se.map.texture.name=pe.name+".shadowMap",se.camera.updateProjectionMatrix()}e.setRenderTarget(se.map),e.clear();const le=se.getViewportCount();for(let re=0;re<le;re++){const ne=se.getViewport(re);l.set(r.x*ne.x,r.y*ne.y,r.x*ne.z,r.y*ne.w),Q.viewport(l),se.updateMatrices(pe,re),s=se.getFrustum(),x(L,M,se.camera,pe,this.type)}!se.isPointLightShadow&&this.type===_a&&X(se,M),se.needsUpdate=!1}I.needsUpdate=!1,e.setRenderTarget(E,K,q)};function X(v,L){const M=i.update(g);d.defines.VSM_SAMPLES!==v.blurSamples&&(d.defines.VSM_SAMPLES=v.blurSamples,p.defines.VSM_SAMPLES=v.blurSamples,d.needsUpdate=!0,p.needsUpdate=!0),d.uniforms.shadow_pass.value=v.map.texture,d.uniforms.resolution.value=v.mapSize,d.uniforms.radius.value=v.radius,e.setRenderTarget(v.mapPass),e.clear(),e.renderBufferDirect(L,null,M,d,g,null),p.uniforms.shadow_pass.value=v.mapPass.texture,p.uniforms.resolution.value=v.mapSize,p.uniforms.radius.value=v.radius,e.setRenderTarget(v.map),e.clear(),e.renderBufferDirect(L,null,M,p,g,null)}function S(v,L,M,E,K,q){let Q=null;const w=M.isPointLight===!0?v.customDistanceMaterial:v.customDepthMaterial;if(w!==void 0?Q=w:Q=M.isPointLight===!0?o:a,e.localClippingEnabled&&L.clipShadows===!0&&L.clippingPlanes.length!==0||L.displacementMap&&L.displacementScale!==0||L.alphaMap&&L.alphaTest>0){const j=Q.uuid,pe=L.uuid;let se=c[j];se===void 0&&(se={},c[j]=se);let oe=se[pe];oe===void 0&&(oe=Q.clone(),se[pe]=oe),Q=oe}return Q.visible=L.visible,Q.wireframe=L.wireframe,q===_a?Q.side=L.shadowSide!==null?L.shadowSide:L.side:Q.side=L.shadowSide!==null?L.shadowSide:u[L.side],Q.alphaMap=L.alphaMap,Q.alphaTest=L.alphaTest,Q.clipShadows=L.clipShadows,Q.clippingPlanes=L.clippingPlanes,Q.clipIntersection=L.clipIntersection,Q.displacementMap=L.displacementMap,Q.displacementScale=L.displacementScale,Q.displacementBias=L.displacementBias,Q.wireframeLinewidth=L.wireframeLinewidth,Q.linewidth=L.linewidth,M.isPointLight===!0&&Q.isMeshDistanceMaterial===!0&&(Q.referencePosition.setFromMatrixPosition(M.matrixWorld),Q.nearDistance=E,Q.farDistance=K),Q}function x(v,L,M,E,K){if(v.visible===!1)return;if(v.layers.test(L.layers)&&(v.isMesh||v.isLine||v.isPoints)&&(v.castShadow||v.receiveShadow&&K===_a)&&(!v.frustumCulled||s.intersectsObject(v))){v.modelViewMatrix.multiplyMatrices(M.matrixWorldInverse,v.matrixWorld);const w=i.update(v),j=v.material;if(Array.isArray(j)){const pe=w.groups;for(let se=0,oe=pe.length;se<oe;se++){const le=pe[se],re=j[le.materialIndex];if(re&&re.visible){const ne=S(v,re,E,M.near,M.far,K);e.renderBufferDirect(M,null,w,ne,v,le)}}}else if(j.visible){const pe=S(v,j,E,M.near,M.far,K);e.renderBufferDirect(M,null,w,pe,v,null)}}const Q=v.children;for(let w=0,j=Q.length;w<j;w++)x(Q[w],L,M,E,K)}}function gH(e,i,t){const s=t.isWebGL2;function n(){let $=!1;const Ue=new De;let we=null;const mt=new De(0,0,0,0);return{setMask:function(qe){we!==qe&&!$&&(e.colorMask(qe,qe,qe,qe),we=qe)},setLocked:function(qe){$=qe},setClear:function(qe,st,ke,Xt,qt){qt===!0&&(qe*=Xt,st*=Xt,ke*=Xt),Ue.set(qe,st,ke,Xt),mt.equals(Ue)===!1&&(e.clearColor(qe,st,ke,Xt),mt.copy(Ue))},reset:function(){$=!1,we=null,mt.set(-1,0,0,0)}}}function r(){let $=!1,Ue=null,we=null,mt=null;return{setTest:function(qe){qe?gt(2929):Ge(2929)},setMask:function(qe){Ue!==qe&&!$&&(e.depthMask(qe),Ue=qe)},setFunc:function(qe){if(we!==qe){if(qe)switch(qe){case GE:e.depthFunc(512);break;case gE:e.depthFunc(519);break;case TE:e.depthFunc(513);break;case qa:e.depthFunc(515);break;case IE:e.depthFunc(514);break;case RE:e.depthFunc(518);break;case fE:e.depthFunc(516);break;case XE:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);we=qe}},setLocked:function(qe){$=qe},setClear:function(qe){mt!==qe&&(e.clearDepth(qe),mt=qe)},reset:function(){$=!1,Ue=null,we=null,mt=null}}}function l(){let $=!1,Ue=null,we=null,mt=null,qe=null,st=null,ke=null,Xt=null,qt=null;return{setTest:function(Gt){$||(Gt?gt(2960):Ge(2960))},setMask:function(Gt){Ue!==Gt&&!$&&(e.stencilMask(Gt),Ue=Gt)},setFunc:function(Gt,ti,Gi){(we!==Gt||mt!==ti||qe!==Gi)&&(e.stencilFunc(Gt,ti,Gi),we=Gt,mt=ti,qe=Gi)},setOp:function(Gt,ti,Gi){(st!==Gt||ke!==ti||Xt!==Gi)&&(e.stencilOp(Gt,ti,Gi),st=Gt,ke=ti,Xt=Gi)},setLocked:function(Gt){$=Gt},setClear:function(Gt){qt!==Gt&&(e.clearStencil(Gt),qt=Gt)},reset:function(){$=!1,Ue=null,we=null,mt=null,qe=null,st=null,ke=null,Xt=null,qt=null}}}const a=new n,o=new r,c=new l;let h={},u={},d=new WeakMap,p=[],G=null,g=!1,I=null,X=null,S=null,x=null,v=null,L=null,M=null,E=!1,K=null,q=null,Q=null,w=null,j=null;const pe=e.getParameter(35661);let se=!1,oe=0;const le=e.getParameter(7938);le.indexOf("WebGL")!==-1?(oe=parseFloat(/^WebGL (\d)/.exec(le)[1]),se=oe>=1):le.indexOf("OpenGL ES")!==-1&&(oe=parseFloat(/^OpenGL ES (\d)/.exec(le)[1]),se=oe>=2);let re=null,ne={};const Ze=e.getParameter(3088),fe=e.getParameter(2978),ve=new De().fromArray(Ze),Ce=new De().fromArray(fe);function ze($,Ue,we){const mt=new Uint8Array(4),qe=e.createTexture();e.bindTexture($,qe),e.texParameteri($,10241,9728),e.texParameteri($,10240,9728);for(let st=0;st<we;st++)e.texImage2D(Ue+st,0,6408,1,1,0,6408,5121,mt);return qe}const vt={};vt[3553]=ze(3553,3553,1),vt[34067]=ze(34067,34069,6),a.setClear(0,0,0,1),o.setClear(1),c.setClear(0),gt(2929),o.setFunc(qa),ae(!1),je(nb),gt(2884),be(pn);function gt($){h[$]!==!0&&(e.enable($),h[$]=!0)}function Ge($){h[$]!==!1&&(e.disable($),h[$]=!1)}function Ot($,Ue){return u[$]!==Ue?(e.bindFramebuffer($,Ue),u[$]=Ue,s&&($===36009&&(u[36160]=Ue),$===36160&&(u[36009]=Ue)),!0):!1}function St($,Ue){let we=p,mt=!1;if($)if(we=d.get(Ue),we===void 0&&(we=[],d.set(Ue,we)),$.isWebGLMultipleRenderTargets){const qe=$.texture;if(we.length!==qe.length||we[0]!==36064){for(let st=0,ke=qe.length;st<ke;st++)we[st]=36064+st;we.length=qe.length,mt=!0}}else we[0]!==36064&&(we[0]=36064,mt=!0);else we[0]!==1029&&(we[0]=1029,mt=!0);mt&&(t.isWebGL2?e.drawBuffers(we):i.get("WEBGL_draw_buffers").drawBuffersWEBGL(we))}function yt($){return G!==$?(e.useProgram($),G=$,!0):!1}const We={[Wl]:32774,[aE]:32778,[oE]:32779};if(s)We[cb]=32775,We[hb]=32776;else{const $=i.get("EXT_blend_minmax");$!==null&&(We[cb]=$.MIN_EXT,We[hb]=$.MAX_EXT)}const ct={[cE]:0,[hE]:1,[uE]:768,[ub]:770,[ZE]:776,[bE]:774,[pE]:772,[dE]:769,[db]:771,[yE]:775,[mE]:773};function be($,Ue,we,mt,qe,st,ke,Xt){if($===pn){g===!0&&(Ge(3042),g=!1);return}if(g===!1&&(gt(3042),g=!0),$!==lE){if($!==I||Xt!==E){if((X!==Wl||v!==Wl)&&(e.blendEquation(32774),X=Wl,v=Wl),Xt)switch($){case Xl:e.blendFuncSeparate(1,771,1,771);break;case Ic:e.blendFunc(1,1);break;case ab:e.blendFuncSeparate(0,769,0,1);break;case ob:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",$);break}else switch($){case Xl:e.blendFuncSeparate(770,771,1,771);break;case Ic:e.blendFunc(770,1);break;case ab:e.blendFuncSeparate(0,769,0,1);break;case ob:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",$);break}S=null,x=null,L=null,M=null,I=$,E=Xt}return}qe=qe||Ue,st=st||we,ke=ke||mt,(Ue!==X||qe!==v)&&(e.blendEquationSeparate(We[Ue],We[qe]),X=Ue,v=qe),(we!==S||mt!==x||st!==L||ke!==M)&&(e.blendFuncSeparate(ct[we],ct[mt],ct[st],ct[ke]),S=we,x=mt,L=st,M=ke),I=$,E=null}function ge($,Ue){$.side===pi?Ge(2884):gt(2884);let we=$.side===fi;Ue&&(we=!we),ae(we),$.blending===Xl&&$.transparent===!1?be(pn):be($.blending,$.blendEquation,$.blendSrc,$.blendDst,$.blendEquationAlpha,$.blendSrcAlpha,$.blendDstAlpha,$.premultipliedAlpha),o.setFunc($.depthFunc),o.setTest($.depthTest),o.setMask($.depthWrite),a.setMask($.colorWrite);const mt=$.stencilWrite;c.setTest(mt),mt&&(c.setMask($.stencilWriteMask),c.setFunc($.stencilFunc,$.stencilRef,$.stencilFuncMask),c.setOp($.stencilFail,$.stencilZFail,$.stencilZPass)),Wt($.polygonOffset,$.polygonOffsetFactor,$.polygonOffsetUnits),$.alphaToCoverage===!0?gt(32926):Ge(32926)}function ae($){K!==$&&($?e.frontFace(2304):e.frontFace(2305),K=$)}function je($){$!==iE?(gt(2884),$!==q&&($===nb?e.cullFace(1029):$===nE?e.cullFace(1028):e.cullFace(1032))):Ge(2884),q=$}function Oe($){$!==Q&&(se&&e.lineWidth($),Q=$)}function Wt($,Ue,we){$?(gt(32823),(w!==Ue||j!==we)&&(e.polygonOffset(Ue,we),w=Ue,j=we)):Ge(32823)}function Zt($){$?gt(3089):Ge(3089)}function at($){$===void 0&&($=33984+pe-1),re!==$&&(e.activeTexture($),re=$)}function cs($,Ue){re===null&&at();let we=ne[re];we===void 0&&(we={type:void 0,texture:void 0},ne[re]=we),(we.type!==$||we.texture!==Ue)&&(e.bindTexture($,Ue||vt[$]),we.type=$,we.texture=Ue)}function _t(){const $=ne[re];$!==void 0&&$.type!==void 0&&(e.bindTexture($.type,null),$.type=void 0,$.texture=void 0)}function A(){try{e.compressedTexImage2D.apply(e,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function D(){try{e.texSubImage2D.apply(e,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function he(){try{e.texSubImage3D.apply(e,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function Fe(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function Je(){try{e.texStorage2D.apply(e,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function $e(){try{e.texStorage3D.apply(e,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function pt(){try{e.texImage2D.apply(e,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function ye(){try{e.texImage3D.apply(e,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function Ct($){ve.equals($)===!1&&(e.scissor($.x,$.y,$.z,$.w),ve.copy($))}function Ft($){Ce.equals($)===!1&&(e.viewport($.x,$.y,$.z,$.w),Ce.copy($))}function it(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),s===!0&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),h={},re=null,ne={},u={},d=new WeakMap,p=[],G=null,g=!1,I=null,X=null,S=null,x=null,v=null,L=null,M=null,E=!1,K=null,q=null,Q=null,w=null,j=null,ve.set(0,0,e.canvas.width,e.canvas.height),Ce.set(0,0,e.canvas.width,e.canvas.height),a.reset(),o.reset(),c.reset()}return{buffers:{color:a,depth:o,stencil:c},enable:gt,disable:Ge,bindFramebuffer:Ot,drawBuffers:St,useProgram:yt,setBlending:be,setMaterial:ge,setFlipSided:ae,setCullFace:je,setLineWidth:Oe,setPolygonOffset:Wt,setScissorTest:Zt,activeTexture:at,bindTexture:cs,unbindTexture:_t,compressedTexImage2D:A,texImage2D:pt,texImage3D:ye,texStorage2D:Je,texStorage3D:$e,texSubImage2D:D,texSubImage3D:he,compressedTexSubImage2D:Fe,scissor:Ct,viewport:Ft,reset:it}}function TH(e,i,t,s,n,r,l){const a=n.isWebGL2,o=n.maxTextures,c=n.maxCubemapSize,h=n.maxTextureSize,u=n.maxSamples,d=i.has("WEBGL_multisampled_render_to_texture")?i.get("WEBGL_multisampled_render_to_texture"):null,p=/OculusBrowser/g.test(navigator.userAgent),G=new WeakMap;let g;const I=new WeakMap;let X=!1;try{X=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function S(A,D){return X?new OffscreenCanvas(A,D):ro("canvas")}function x(A,D,he,Fe){let Je=1;if((A.width>Fe||A.height>Fe)&&(Je=Fe/Math.max(A.width,A.height)),Je<1||D===!0)if(typeof HTMLImageElement<"u"&&A instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&A instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&A instanceof ImageBitmap){const $e=D?Lc:Math.floor,pt=$e(Je*A.width),ye=$e(Je*A.height);g===void 0&&(g=S(pt,ye));const Ct=he?S(pt,ye):g;return Ct.width=pt,Ct.height=ye,Ct.getContext("2d").drawImage(A,0,0,pt,ye),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+A.width+"x"+A.height+") to ("+pt+"x"+ye+")."),Ct}else return"data"in A&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+A.width+"x"+A.height+")."),A;return A}function v(A){return Uu(A.width)&&Uu(A.height)}function L(A){return a?!1:A.wrapS!==Bi||A.wrapT!==Bi||A.minFilter!==us&&A.minFilter!==Ms}function M(A,D){return A.generateMipmaps&&D&&A.minFilter!==us&&A.minFilter!==Ms}function E(A){e.generateMipmap(A)}function K(A,D,he,Fe,Je=!1){if(a===!1)return D;if(A!==null){if(e[A]!==void 0)return e[A];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+A+"'")}let $e=D;return D===6403&&(he===5126&&($e=33326),he===5131&&($e=33325),he===5121&&($e=33321)),D===33319&&(he===5126&&($e=33328),he===5131&&($e=33327),he===5121&&($e=33323)),D===6408&&(he===5126&&($e=34836),he===5131&&($e=34842),he===5121&&($e=Fe===Ts&&Je===!1?35907:32856),he===32819&&($e=32854),he===32820&&($e=32855)),($e===33325||$e===33326||$e===33327||$e===33328||$e===34842||$e===34836)&&i.get("EXT_color_buffer_float"),$e}function q(A,D,he){return M(A,he)===!0||A.isFramebufferTexture&&A.minFilter!==us&&A.minFilter!==Ms?Math.log2(Math.max(D.width,D.height))+1:A.mipmaps!==void 0&&A.mipmaps.length>0?A.mipmaps.length:A.isCompressedTexture&&Array.isArray(A.image)?D.mipmaps.length:1}function Q(A){return A===us||A===mb||A===bb?9728:9729}function w(A){const D=A.target;D.removeEventListener("dispose",w),pe(D),D.isVideoTexture&&G.delete(D)}function j(A){const D=A.target;D.removeEventListener("dispose",j),oe(D)}function pe(A){const D=s.get(A);if(D.__webglInit===void 0)return;const he=A.source,Fe=I.get(he);if(Fe){const Je=Fe[D.__cacheKey];Je.usedTimes--,Je.usedTimes===0&&se(A),Object.keys(Fe).length===0&&I.delete(he)}s.remove(A)}function se(A){const D=s.get(A);e.deleteTexture(D.__webglTexture);const he=A.source,Fe=I.get(he);delete Fe[D.__cacheKey],l.memory.textures--}function oe(A){const D=A.texture,he=s.get(A),Fe=s.get(D);if(Fe.__webglTexture!==void 0&&(e.deleteTexture(Fe.__webglTexture),l.memory.textures--),A.depthTexture&&A.depthTexture.dispose(),A.isWebGLCubeRenderTarget)for(let Je=0;Je<6;Je++)e.deleteFramebuffer(he.__webglFramebuffer[Je]),he.__webglDepthbuffer&&e.deleteRenderbuffer(he.__webglDepthbuffer[Je]);else e.deleteFramebuffer(he.__webglFramebuffer),he.__webglDepthbuffer&&e.deleteRenderbuffer(he.__webglDepthbuffer),he.__webglMultisampledFramebuffer&&e.deleteFramebuffer(he.__webglMultisampledFramebuffer),he.__webglColorRenderbuffer&&e.deleteRenderbuffer(he.__webglColorRenderbuffer),he.__webglDepthRenderbuffer&&e.deleteRenderbuffer(he.__webglDepthRenderbuffer);if(A.isWebGLMultipleRenderTargets)for(let Je=0,$e=D.length;Je<$e;Je++){const pt=s.get(D[Je]);pt.__webglTexture&&(e.deleteTexture(pt.__webglTexture),l.memory.textures--),s.remove(D[Je])}s.remove(D),s.remove(A)}let le=0;function re(){le=0}function ne(){const A=le;return A>=o&&console.warn("THREE.WebGLTextures: Trying to use "+A+" texture units while this GPU supports only "+o),le+=1,A}function Ze(A){const D=[];return D.push(A.wrapS),D.push(A.wrapT),D.push(A.magFilter),D.push(A.minFilter),D.push(A.anisotropy),D.push(A.internalFormat),D.push(A.format),D.push(A.type),D.push(A.generateMipmaps),D.push(A.premultiplyAlpha),D.push(A.flipY),D.push(A.unpackAlignment),D.push(A.encoding),D.join()}function fe(A,D){const he=s.get(A);if(A.isVideoTexture&&cs(A),A.isRenderTargetTexture===!1&&A.version>0&&he.__version!==A.version){const Fe=A.image;if(Fe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Fe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{St(he,A,D);return}}t.activeTexture(33984+D),t.bindTexture(3553,he.__webglTexture)}function ve(A,D){const he=s.get(A);if(A.version>0&&he.__version!==A.version){St(he,A,D);return}t.activeTexture(33984+D),t.bindTexture(35866,he.__webglTexture)}function Ce(A,D){const he=s.get(A);if(A.version>0&&he.__version!==A.version){St(he,A,D);return}t.activeTexture(33984+D),t.bindTexture(32879,he.__webglTexture)}function ze(A,D){const he=s.get(A);if(A.version>0&&he.__version!==A.version){yt(he,A,D);return}t.activeTexture(33984+D),t.bindTexture(34067,he.__webglTexture)}const vt={[Fu]:10497,[Bi]:33071,[Nu]:33648},gt={[us]:9728,[mb]:9984,[bb]:9986,[Ms]:9729,[xE]:9985,[Xc]:9987};function Ge(A,D,he){if(he?(e.texParameteri(A,10242,vt[D.wrapS]),e.texParameteri(A,10243,vt[D.wrapT]),(A===32879||A===35866)&&e.texParameteri(A,32882,vt[D.wrapR]),e.texParameteri(A,10240,gt[D.magFilter]),e.texParameteri(A,10241,gt[D.minFilter])):(e.texParameteri(A,10242,33071),e.texParameteri(A,10243,33071),(A===32879||A===35866)&&e.texParameteri(A,32882,33071),(D.wrapS!==Bi||D.wrapT!==Bi)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(A,10240,Q(D.magFilter)),e.texParameteri(A,10241,Q(D.minFilter)),D.minFilter!==us&&D.minFilter!==Ms&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),i.has("EXT_texture_filter_anisotropic")===!0){const Fe=i.get("EXT_texture_filter_anisotropic");if(D.type===ar&&i.has("OES_texture_float_linear")===!1||a===!1&&D.type===Vl&&i.has("OES_texture_half_float_linear")===!1)return;(D.anisotropy>1||s.get(D).__currentAnisotropy)&&(e.texParameterf(A,Fe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(D.anisotropy,n.getMaxAnisotropy())),s.get(D).__currentAnisotropy=D.anisotropy)}}function Ot(A,D){let he=!1;A.__webglInit===void 0&&(A.__webglInit=!0,D.addEventListener("dispose",w));const Fe=D.source;let Je=I.get(Fe);Je===void 0&&(Je={},I.set(Fe,Je));const $e=Ze(D);if($e!==A.__cacheKey){Je[$e]===void 0&&(Je[$e]={texture:e.createTexture(),usedTimes:0},l.memory.textures++,he=!0),Je[$e].usedTimes++;const pt=Je[A.__cacheKey];pt!==void 0&&(Je[A.__cacheKey].usedTimes--,pt.usedTimes===0&&se(D)),A.__cacheKey=$e,A.__webglTexture=Je[$e].texture}return he}function St(A,D,he){let Fe=3553;D.isDataArrayTexture&&(Fe=35866),D.isData3DTexture&&(Fe=32879);const Je=Ot(A,D),$e=D.source;if(t.activeTexture(33984+he),t.bindTexture(Fe,A.__webglTexture),$e.version!==$e.__currentVersion||Je===!0){e.pixelStorei(37440,D.flipY),e.pixelStorei(37441,D.premultiplyAlpha),e.pixelStorei(3317,D.unpackAlignment),e.pixelStorei(37443,0);const pt=L(D)&&v(D.image)===!1;let ye=x(D.image,pt,!1,h);ye=_t(D,ye);const Ct=v(ye)||a,Ft=r.convert(D.format,D.encoding);let it=r.convert(D.type),$=K(D.internalFormat,Ft,it,D.encoding,D.isVideoTexture);Ge(Fe,D,Ct);let Ue;const we=D.mipmaps,mt=a&&D.isVideoTexture!==!0,qe=A.__version===void 0,st=q(D,ye,Ct);if(D.isDepthTexture)$=6402,a?D.type===ar?$=36012:D.type===eo?$=33190:D.type===Ll?$=35056:$=33189:D.type===ar&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),D.format===Dr&&$===6402&&D.type!==$a&&D.type!==eo&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),D.type=$a,it=r.convert(D.type)),D.format===Fl&&$===6402&&($=34041,D.type!==Ll&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),D.type=Ll,it=r.convert(D.type))),mt&&qe?t.texStorage2D(3553,1,$,ye.width,ye.height):t.texImage2D(3553,0,$,ye.width,ye.height,0,Ft,it,null);else if(D.isDataTexture)if(we.length>0&&Ct){mt&&qe&&t.texStorage2D(3553,st,$,we[0].width,we[0].height);for(let ke=0,Xt=we.length;ke<Xt;ke++)Ue=we[ke],mt?t.texSubImage2D(3553,ke,0,0,Ue.width,Ue.height,Ft,it,Ue.data):t.texImage2D(3553,ke,$,Ue.width,Ue.height,0,Ft,it,Ue.data);D.generateMipmaps=!1}else mt?(qe&&t.texStorage2D(3553,st,$,ye.width,ye.height),t.texSubImage2D(3553,0,0,0,ye.width,ye.height,Ft,it,ye.data)):t.texImage2D(3553,0,$,ye.width,ye.height,0,Ft,it,ye.data);else if(D.isCompressedTexture){mt&&qe&&t.texStorage2D(3553,st,$,we[0].width,we[0].height);for(let ke=0,Xt=we.length;ke<Xt;ke++)Ue=we[ke],D.format!==ri?Ft!==null?mt?t.compressedTexSubImage2D(3553,ke,0,0,Ue.width,Ue.height,Ft,Ue.data):t.compressedTexImage2D(3553,ke,$,Ue.width,Ue.height,0,Ue.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):mt?t.texSubImage2D(3553,ke,0,0,Ue.width,Ue.height,Ft,it,Ue.data):t.texImage2D(3553,ke,$,Ue.width,Ue.height,0,Ft,it,Ue.data)}else if(D.isDataArrayTexture)mt?(qe&&t.texStorage3D(35866,st,$,ye.width,ye.height,ye.depth),t.texSubImage3D(35866,0,0,0,0,ye.width,ye.height,ye.depth,Ft,it,ye.data)):t.texImage3D(35866,0,$,ye.width,ye.height,ye.depth,0,Ft,it,ye.data);else if(D.isData3DTexture)mt?(qe&&t.texStorage3D(32879,st,$,ye.width,ye.height,ye.depth),t.texSubImage3D(32879,0,0,0,0,ye.width,ye.height,ye.depth,Ft,it,ye.data)):t.texImage3D(32879,0,$,ye.width,ye.height,ye.depth,0,Ft,it,ye.data);else if(D.isFramebufferTexture)mt&&qe?t.texStorage2D(3553,st,$,ye.width,ye.height):t.texImage2D(3553,0,$,ye.width,ye.height,0,Ft,it,null);else if(we.length>0&&Ct){mt&&qe&&t.texStorage2D(3553,st,$,we[0].width,we[0].height);for(let ke=0,Xt=we.length;ke<Xt;ke++)Ue=we[ke],mt?t.texSubImage2D(3553,ke,0,0,Ft,it,Ue):t.texImage2D(3553,ke,$,Ft,it,Ue);D.generateMipmaps=!1}else mt?(qe&&t.texStorage2D(3553,st,$,ye.width,ye.height),t.texSubImage2D(3553,0,0,0,Ft,it,ye)):t.texImage2D(3553,0,$,Ft,it,ye);M(D,Ct)&&E(Fe),$e.__currentVersion=$e.version,D.onUpdate&&D.onUpdate(D)}A.__version=D.version}function yt(A,D,he){if(D.image.length!==6)return;const Fe=Ot(A,D),Je=D.source;if(t.activeTexture(33984+he),t.bindTexture(34067,A.__webglTexture),Je.version!==Je.__currentVersion||Fe===!0){e.pixelStorei(37440,D.flipY),e.pixelStorei(37441,D.premultiplyAlpha),e.pixelStorei(3317,D.unpackAlignment),e.pixelStorei(37443,0);const $e=D.isCompressedTexture||D.image[0].isCompressedTexture,pt=D.image[0]&&D.image[0].isDataTexture,ye=[];for(let ke=0;ke<6;ke++)!$e&&!pt?ye[ke]=x(D.image[ke],!1,!0,c):ye[ke]=pt?D.image[ke].image:D.image[ke],ye[ke]=_t(D,ye[ke]);const Ct=ye[0],Ft=v(Ct)||a,it=r.convert(D.format,D.encoding),$=r.convert(D.type),Ue=K(D.internalFormat,it,$,D.encoding),we=a&&D.isVideoTexture!==!0,mt=A.__version===void 0;let qe=q(D,Ct,Ft);Ge(34067,D,Ft);let st;if($e){we&&mt&&t.texStorage2D(34067,qe,Ue,Ct.width,Ct.height);for(let ke=0;ke<6;ke++){st=ye[ke].mipmaps;for(let Xt=0;Xt<st.length;Xt++){const qt=st[Xt];D.format!==ri?it!==null?we?t.compressedTexSubImage2D(34069+ke,Xt,0,0,qt.width,qt.height,it,qt.data):t.compressedTexImage2D(34069+ke,Xt,Ue,qt.width,qt.height,0,qt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):we?t.texSubImage2D(34069+ke,Xt,0,0,qt.width,qt.height,it,$,qt.data):t.texImage2D(34069+ke,Xt,Ue,qt.width,qt.height,0,it,$,qt.data)}}}else{st=D.mipmaps,we&&mt&&(st.length>0&&qe++,t.texStorage2D(34067,qe,Ue,ye[0].width,ye[0].height));for(let ke=0;ke<6;ke++)if(pt){we?t.texSubImage2D(34069+ke,0,0,0,ye[ke].width,ye[ke].height,it,$,ye[ke].data):t.texImage2D(34069+ke,0,Ue,ye[ke].width,ye[ke].height,0,it,$,ye[ke].data);for(let Xt=0;Xt<st.length;Xt++){const Gt=st[Xt].image[ke].image;we?t.texSubImage2D(34069+ke,Xt+1,0,0,Gt.width,Gt.height,it,$,Gt.data):t.texImage2D(34069+ke,Xt+1,Ue,Gt.width,Gt.height,0,it,$,Gt.data)}}else{we?t.texSubImage2D(34069+ke,0,0,0,it,$,ye[ke]):t.texImage2D(34069+ke,0,Ue,it,$,ye[ke]);for(let Xt=0;Xt<st.length;Xt++){const qt=st[Xt];we?t.texSubImage2D(34069+ke,Xt+1,0,0,it,$,qt.image[ke]):t.texImage2D(34069+ke,Xt+1,Ue,it,$,qt.image[ke])}}}M(D,Ft)&&E(34067),Je.__currentVersion=Je.version,D.onUpdate&&D.onUpdate(D)}A.__version=D.version}function We(A,D,he,Fe,Je){const $e=r.convert(he.format,he.encoding),pt=r.convert(he.type),ye=K(he.internalFormat,$e,pt,he.encoding);s.get(D).__hasExternalTextures||(Je===32879||Je===35866?t.texImage3D(Je,0,ye,D.width,D.height,D.depth,0,$e,pt,null):t.texImage2D(Je,0,ye,D.width,D.height,0,$e,pt,null)),t.bindFramebuffer(36160,A),at(D)?d.framebufferTexture2DMultisampleEXT(36160,Fe,Je,s.get(he).__webglTexture,0,Zt(D)):e.framebufferTexture2D(36160,Fe,Je,s.get(he).__webglTexture,0),t.bindFramebuffer(36160,null)}function ct(A,D,he){if(e.bindRenderbuffer(36161,A),D.depthBuffer&&!D.stencilBuffer){let Fe=33189;if(he||at(D)){const Je=D.depthTexture;Je&&Je.isDepthTexture&&(Je.type===ar?Fe=36012:Je.type===eo&&(Fe=33190));const $e=Zt(D);at(D)?d.renderbufferStorageMultisampleEXT(36161,$e,Fe,D.width,D.height):e.renderbufferStorageMultisample(36161,$e,Fe,D.width,D.height)}else e.renderbufferStorage(36161,Fe,D.width,D.height);e.framebufferRenderbuffer(36160,36096,36161,A)}else if(D.depthBuffer&&D.stencilBuffer){const Fe=Zt(D);he&&at(D)===!1?e.renderbufferStorageMultisample(36161,Fe,35056,D.width,D.height):at(D)?d.renderbufferStorageMultisampleEXT(36161,Fe,35056,D.width,D.height):e.renderbufferStorage(36161,34041,D.width,D.height),e.framebufferRenderbuffer(36160,33306,36161,A)}else{const Fe=D.isWebGLMultipleRenderTargets===!0?D.texture[0]:D.texture,Je=r.convert(Fe.format,Fe.encoding),$e=r.convert(Fe.type),pt=K(Fe.internalFormat,Je,$e,Fe.encoding),ye=Zt(D);he&&at(D)===!1?e.renderbufferStorageMultisample(36161,ye,pt,D.width,D.height):at(D)?d.renderbufferStorageMultisampleEXT(36161,ye,pt,D.width,D.height):e.renderbufferStorage(36161,pt,D.width,D.height)}e.bindRenderbuffer(36161,null)}function be(A,D){if(D&&D.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,A),!(D.depthTexture&&D.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!s.get(D.depthTexture).__webglTexture||D.depthTexture.image.width!==D.width||D.depthTexture.image.height!==D.height)&&(D.depthTexture.image.width=D.width,D.depthTexture.image.height=D.height,D.depthTexture.needsUpdate=!0),fe(D.depthTexture,0);const Fe=s.get(D.depthTexture).__webglTexture,Je=Zt(D);if(D.depthTexture.format===Dr)at(D)?d.framebufferTexture2DMultisampleEXT(36160,36096,3553,Fe,0,Je):e.framebufferTexture2D(36160,36096,3553,Fe,0);else if(D.depthTexture.format===Fl)at(D)?d.framebufferTexture2DMultisampleEXT(36160,33306,3553,Fe,0,Je):e.framebufferTexture2D(36160,33306,3553,Fe,0);else throw new Error("Unknown depthTexture format")}function ge(A){const D=s.get(A),he=A.isWebGLCubeRenderTarget===!0;if(A.depthTexture&&!D.__autoAllocateDepthBuffer){if(he)throw new Error("target.depthTexture not supported in Cube render targets");be(D.__webglFramebuffer,A)}else if(he){D.__webglDepthbuffer=[];for(let Fe=0;Fe<6;Fe++)t.bindFramebuffer(36160,D.__webglFramebuffer[Fe]),D.__webglDepthbuffer[Fe]=e.createRenderbuffer(),ct(D.__webglDepthbuffer[Fe],A,!1)}else t.bindFramebuffer(36160,D.__webglFramebuffer),D.__webglDepthbuffer=e.createRenderbuffer(),ct(D.__webglDepthbuffer,A,!1);t.bindFramebuffer(36160,null)}function ae(A,D,he){const Fe=s.get(A);D!==void 0&&We(Fe.__webglFramebuffer,A,A.texture,36064,3553),he!==void 0&&ge(A)}function je(A){const D=A.texture,he=s.get(A),Fe=s.get(D);A.addEventListener("dispose",j),A.isWebGLMultipleRenderTargets!==!0&&(Fe.__webglTexture===void 0&&(Fe.__webglTexture=e.createTexture()),Fe.__version=D.version,l.memory.textures++);const Je=A.isWebGLCubeRenderTarget===!0,$e=A.isWebGLMultipleRenderTargets===!0,pt=v(A)||a;if(Je){he.__webglFramebuffer=[];for(let ye=0;ye<6;ye++)he.__webglFramebuffer[ye]=e.createFramebuffer()}else if(he.__webglFramebuffer=e.createFramebuffer(),$e)if(n.drawBuffers){const ye=A.texture;for(let Ct=0,Ft=ye.length;Ct<Ft;Ct++){const it=s.get(ye[Ct]);it.__webglTexture===void 0&&(it.__webglTexture=e.createTexture(),l.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(a&&A.samples>0&&at(A)===!1){he.__webglMultisampledFramebuffer=e.createFramebuffer(),he.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,he.__webglColorRenderbuffer);const ye=r.convert(D.format,D.encoding),Ct=r.convert(D.type),Ft=K(D.internalFormat,ye,Ct,D.encoding),it=Zt(A);e.renderbufferStorageMultisample(36161,it,Ft,A.width,A.height),t.bindFramebuffer(36160,he.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,he.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),A.depthBuffer&&(he.__webglDepthRenderbuffer=e.createRenderbuffer(),ct(he.__webglDepthRenderbuffer,A,!0)),t.bindFramebuffer(36160,null)}if(Je){t.bindTexture(34067,Fe.__webglTexture),Ge(34067,D,pt);for(let ye=0;ye<6;ye++)We(he.__webglFramebuffer[ye],A,D,36064,34069+ye);M(D,pt)&&E(34067),t.unbindTexture()}else if($e){const ye=A.texture;for(let Ct=0,Ft=ye.length;Ct<Ft;Ct++){const it=ye[Ct],$=s.get(it);t.bindTexture(3553,$.__webglTexture),Ge(3553,it,pt),We(he.__webglFramebuffer,A,it,36064+Ct,3553),M(it,pt)&&E(3553)}t.unbindTexture()}else{let ye=3553;(A.isWebGL3DRenderTarget||A.isWebGLArrayRenderTarget)&&(a?ye=A.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(ye,Fe.__webglTexture),Ge(ye,D,pt),We(he.__webglFramebuffer,A,D,36064,ye),M(D,pt)&&E(ye),t.unbindTexture()}A.depthBuffer&&ge(A)}function Oe(A){const D=v(A)||a,he=A.isWebGLMultipleRenderTargets===!0?A.texture:[A.texture];for(let Fe=0,Je=he.length;Fe<Je;Fe++){const $e=he[Fe];if(M($e,D)){const pt=A.isWebGLCubeRenderTarget?34067:3553,ye=s.get($e).__webglTexture;t.bindTexture(pt,ye),E(pt),t.unbindTexture()}}}function Wt(A){if(a&&A.samples>0&&at(A)===!1){const D=A.width,he=A.height;let Fe=16384;const Je=[36064],$e=A.stencilBuffer?33306:36096;A.depthBuffer&&Je.push($e);const pt=s.get(A),ye=pt.__ignoreDepthValues!==void 0?pt.__ignoreDepthValues:!1;ye===!1&&(A.depthBuffer&&(Fe|=256),A.stencilBuffer&&(Fe|=1024)),t.bindFramebuffer(36008,pt.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,pt.__webglFramebuffer),ye===!0&&(e.invalidateFramebuffer(36008,[$e]),e.invalidateFramebuffer(36009,[$e])),e.blitFramebuffer(0,0,D,he,0,0,D,he,Fe,9728),p&&e.invalidateFramebuffer(36008,Je),t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,pt.__webglMultisampledFramebuffer)}}function Zt(A){return Math.min(u,A.samples)}function at(A){const D=s.get(A);return a&&A.samples>0&&i.has("WEBGL_multisampled_render_to_texture")===!0&&D.__useRenderToTexture!==!1}function cs(A){const D=l.render.frame;G.get(A)!==D&&(G.set(A,D),A.update())}function _t(A,D){const he=A.encoding,Fe=A.format,Je=A.type;return A.isCompressedTexture===!0||A.isVideoTexture===!0||A.format===Pu||he!==Hn&&(he===Ts?a===!1?i.has("EXT_sRGB")===!0&&Fe===ri?(A.format=Pu,A.minFilter=Ms,A.generateMipmaps=!1):D=Or.sRGBToLinear(D):(Fe!==ri||Je!==kr)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",he)),D}this.allocateTextureUnit=ne,this.resetTextureUnits=re,this.setTexture2D=fe,this.setTexture2DArray=ve,this.setTexture3D=Ce,this.setTextureCube=ze,this.rebindTextures=ae,this.setupRenderTarget=je,this.updateRenderTargetMipmap=Oe,this.updateMultisampleRenderTarget=Wt,this.setupDepthRenderbuffer=ge,this.setupFrameBufferTexture=We,this.useMultisampledRTT=at}function IH(e,i,t){const s=t.isWebGL2;function n(r,l=null){let a;if(r===kr)return 5121;if(r===ME)return 32819;if(r===wE)return 32820;if(r===vE)return 5120;if(r===EE)return 5122;if(r===$a)return 5123;if(r===YE)return 5124;if(r===eo)return 5125;if(r===ar)return 5126;if(r===Vl)return s?5131:(a=i.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(r===HE)return 6406;if(r===ri)return 6408;if(r===zE)return 6409;if(r===UE)return 6410;if(r===Dr)return 6402;if(r===Fl)return 34041;if(r===kE)return 6403;if(r===PE)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(r===Pu)return a=i.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(r===DE)return 36244;if(r===JE)return 33319;if(r===KE)return 33320;if(r===OE)return 36249;if(r===xu||r===vu||r===Eu||r===Yu)if(l===Ts)if(a=i.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(r===xu)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===vu)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===Eu)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===Yu)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=i.get("WEBGL_compressed_texture_s3tc"),a!==null){if(r===xu)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===vu)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===Eu)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===Yu)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===yb||r===Zb||r===Gb||r===gb)if(a=i.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(r===yb)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===Zb)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===Gb)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===gb)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===AE)return a=i.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(r===Tb||r===Ib)if(a=i.get("WEBGL_compressed_texture_etc"),a!==null){if(r===Tb)return l===Ts?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(r===Ib)return l===Ts?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===Rb||r===fb||r===Xb||r===Wb||r===Sb||r===Cb||r===Vb||r===Lb||r===Fb||r===Nb||r===xb||r===vb||r===Eb||r===Yb)if(a=i.get("WEBGL_compressed_texture_astc"),a!==null){if(r===Rb)return l===Ts?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===fb)return l===Ts?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===Xb)return l===Ts?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===Wb)return l===Ts?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===Sb)return l===Ts?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===Cb)return l===Ts?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===Vb)return l===Ts?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===Lb)return l===Ts?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===Fb)return l===Ts?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===Nb)return l===Ts?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===xb)return l===Ts?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===vb)return l===Ts?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===Eb)return l===Ts?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===Yb)return l===Ts?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===Mb)if(a=i.get("EXT_texture_compression_bptc"),a!==null){if(r===Mb)return l===Ts?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(r===Ll)return s?34042:(a=i.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:n}}class Y0 extends ai{constructor(i=[]){super();this.cameras=i}}Y0.prototype.isArrayCamera=!0;class Si extends zt{constructor(){super();this.type="Group"}}Si.prototype.isGroup=!0;const RH={type:"move"};class Td{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Si,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Si,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new H,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new H),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Si,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new H,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new H),this._grip}dispatchEvent(i){return this._targetRay!==null&&this._targetRay.dispatchEvent(i),this._grip!==null&&this._grip.dispatchEvent(i),this._hand!==null&&this._hand.dispatchEvent(i),this}disconnect(i){return this.dispatchEvent({type:"disconnected",data:i}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(i,t,s){let n=null,r=null,l=null;const a=this._targetRay,o=this._grip,c=this._hand;if(i&&t.session.visibilityState!=="visible-blurred")if(a!==null&&(n=t.getPose(i.targetRaySpace,s),n!==null&&(a.matrix.fromArray(n.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),n.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(n.linearVelocity)):a.hasLinearVelocity=!1,n.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(n.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(RH))),c&&i.hand){l=!0;for(const g of i.hand.values()){const I=t.getJointPose(g,s);if(c.joints[g.jointName]===void 0){const S=new Si;S.matrixAutoUpdate=!1,S.visible=!1,c.joints[g.jointName]=S,c.add(S)}const X=c.joints[g.jointName];I!==null&&(X.matrix.fromArray(I.transform.matrix),X.matrix.decompose(X.position,X.rotation,X.scale),X.jointRadius=I.radius),X.visible=I!==null}const h=c.joints["index-finger-tip"],u=c.joints["thumb-tip"],d=h.position.distanceTo(u.position),p=.02,G=.005;c.inputState.pinching&&d>p+G?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:i.handedness,target:this})):!c.inputState.pinching&&d<=p-G&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:i.handedness,target:this}))}else o!==null&&i.gripSpace&&(r=t.getPose(i.gripSpace,s),r!==null&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1));return a!==null&&(a.visible=n!==null),o!==null&&(o.visible=r!==null),c!==null&&(c.visible=l!==null),this}}class Id extends Ss{constructor(i,t,s,n,r,l,a,o,c,h){if(h=h!==void 0?h:Dr,h!==Dr&&h!==Fl)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");s===void 0&&h===Dr&&(s=$a),s===void 0&&h===Fl&&(s=Ll);super(null,n,r,l,a,o,h,s,c);this.image={width:i,height:t},this.magFilter=a!==void 0?a:us,this.minFilter=o!==void 0?o:us,this.flipY=!1,this.generateMipmaps=!1}}Id.prototype.isDepthTexture=!0;class fH extends zn{constructor(i,t){super();const s=this;let n=null,r=1,l=null,a="local-floor",o=null,c=null,h=null,u=null,d=null;const p=t.getContextAttributes();let G=null,g=null;const I=[],X=new Map,S=new ai;S.layers.enable(1),S.viewport=new De;const x=new ai;x.layers.enable(2),x.viewport=new De;const v=[S,x],L=new Y0;L.layers.enable(1),L.layers.enable(2);let M=null,E=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ne){let Ze=I[ne];return Ze===void 0&&(Ze=new Td,I[ne]=Ze),Ze.getTargetRaySpace()},this.getControllerGrip=function(ne){let Ze=I[ne];return Ze===void 0&&(Ze=new Td,I[ne]=Ze),Ze.getGripSpace()},this.getHand=function(ne){let Ze=I[ne];return Ze===void 0&&(Ze=new Td,I[ne]=Ze),Ze.getHandSpace()};function K(ne){const Ze=X.get(ne.inputSource);Ze&&Ze.dispatchEvent({type:ne.type,data:ne.inputSource})}function q(){X.forEach(function(ne,Ze){ne.disconnect(Ze)}),X.clear(),M=null,E=null,i.setRenderTarget(G),u=null,h=null,c=null,n=null,g=null,re.stop(),s.isPresenting=!1,s.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ne){r=ne,s.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ne){a=ne,s.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l},this.getBaseLayer=function(){return h!==null?h:u},this.getBinding=function(){return c},this.getFrame=function(){return d},this.getSession=function(){return n},this.setSession=async function(ne){if(n=ne,n!==null){if(G=i.getRenderTarget(),n.addEventListener("select",K),n.addEventListener("selectstart",K),n.addEventListener("selectend",K),n.addEventListener("squeeze",K),n.addEventListener("squeezestart",K),n.addEventListener("squeezeend",K),n.addEventListener("end",q),n.addEventListener("inputsourceschange",Q),p.xrCompatible!==!0&&await t.makeXRCompatible(),n.renderState.layers===void 0||i.capabilities.isWebGL2===!1){const Ze={antialias:n.renderState.layers===void 0?p.antialias:!0,alpha:p.alpha,depth:p.depth,stencil:p.stencil,framebufferScaleFactor:r};u=new XRWebGLLayer(n,t,Ze),n.updateRenderState({baseLayer:u}),g=new _s(u.framebufferWidth,u.framebufferHeight,{format:ri,type:kr,encoding:i.outputEncoding})}else{let Ze=null,fe=null,ve=null;p.depth&&(ve=p.stencil?35056:33190,Ze=p.stencil?Fl:Dr,fe=p.stencil?Ll:$a);const Ce={colorFormat:i.outputEncoding===Ts?35907:32856,depthFormat:ve,scaleFactor:r};c=new XRWebGLBinding(n,t),h=c.createProjectionLayer(Ce),n.updateRenderState({layers:[h]}),g=new _s(h.textureWidth,h.textureHeight,{format:ri,type:kr,depthTexture:new Id(h.textureWidth,h.textureHeight,fe,void 0,void 0,void 0,void 0,void 0,void 0,Ze),stencilBuffer:p.stencil,encoding:i.outputEncoding,samples:p.antialias?4:0});const ze=i.properties.get(g);ze.__ignoreDepthValues=h.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(1),l=await n.requestReferenceSpace(a),re.setContext(n),re.start(),s.isPresenting=!0,s.dispatchEvent({type:"sessionstart"})}};function Q(ne){const Ze=n.inputSources;for(let fe=0;fe<I.length;fe++)X.set(Ze[fe],I[fe]);for(let fe=0;fe<ne.removed.length;fe++){const ve=ne.removed[fe],Ce=X.get(ve);Ce&&(Ce.dispatchEvent({type:"disconnected",data:ve}),X.delete(ve))}for(let fe=0;fe<ne.added.length;fe++){const ve=ne.added[fe],Ce=X.get(ve);Ce&&Ce.dispatchEvent({type:"connected",data:ve})}}const w=new H,j=new H;function pe(ne,Ze,fe){w.setFromMatrixPosition(Ze.matrixWorld),j.setFromMatrixPosition(fe.matrixWorld);const ve=w.distanceTo(j),Ce=Ze.projectionMatrix.elements,ze=fe.projectionMatrix.elements,vt=Ce[14]/(Ce[10]-1),gt=Ce[14]/(Ce[10]+1),Ge=(Ce[9]+1)/Ce[5],Ot=(Ce[9]-1)/Ce[5],St=(Ce[8]-1)/Ce[0],yt=(ze[8]+1)/ze[0],We=vt*St,ct=vt*yt,be=ve/(-St+yt),ge=be*-St;Ze.matrixWorld.decompose(ne.position,ne.quaternion,ne.scale),ne.translateX(ge),ne.translateZ(be),ne.matrixWorld.compose(ne.position,ne.quaternion,ne.scale),ne.matrixWorldInverse.copy(ne.matrixWorld).invert();const ae=vt+be,je=gt+be,Oe=We-ge,Wt=ct+(ve-ge),Zt=Ge*gt/je*ae,at=Ot*gt/je*ae;ne.projectionMatrix.makePerspective(Oe,Wt,Zt,at,ae,je)}function se(ne,Ze){Ze===null?ne.matrixWorld.copy(ne.matrix):ne.matrixWorld.multiplyMatrices(Ze.matrixWorld,ne.matrix),ne.matrixWorldInverse.copy(ne.matrixWorld).invert()}this.updateCamera=function(ne){if(n===null)return;L.near=x.near=S.near=ne.near,L.far=x.far=S.far=ne.far,(M!==L.near||E!==L.far)&&(n.updateRenderState({depthNear:L.near,depthFar:L.far}),M=L.near,E=L.far);const Ze=ne.parent,fe=L.cameras;se(L,Ze);for(let Ce=0;Ce<fe.length;Ce++)se(fe[Ce],Ze);L.matrixWorld.decompose(L.position,L.quaternion,L.scale),ne.position.copy(L.position),ne.quaternion.copy(L.quaternion),ne.scale.copy(L.scale),ne.matrix.copy(L.matrix),ne.matrixWorld.copy(L.matrixWorld);const ve=ne.children;for(let Ce=0,ze=ve.length;Ce<ze;Ce++)ve[Ce].updateMatrixWorld(!0);fe.length===2?pe(L,S,x):L.projectionMatrix.copy(S.projectionMatrix)},this.getCamera=function(){return L},this.getFoveation=function(){if(h!==null)return h.fixedFoveation;if(u!==null)return u.fixedFoveation},this.setFoveation=function(ne){h!==null&&(h.fixedFoveation=ne),u!==null&&u.fixedFoveation!==void 0&&(u.fixedFoveation=ne)};let oe=null;function le(ne,Ze){if(o=Ze.getViewerPose(l),d=Ze,o!==null){const ve=o.views;u!==null&&(i.setRenderTargetFramebuffer(g,u.framebuffer),i.setRenderTarget(g));let Ce=!1;ve.length!==L.cameras.length&&(L.cameras.length=0,Ce=!0);for(let ze=0;ze<ve.length;ze++){const vt=ve[ze];let gt=null;if(u!==null)gt=u.getViewport(vt);else{const Ot=c.getViewSubImage(h,vt);gt=Ot.viewport,ze===0&&(i.setRenderTargetTextures(g,Ot.colorTexture,h.ignoreDepthValues?void 0:Ot.depthStencilTexture),i.setRenderTarget(g))}const Ge=v[ze];Ge.matrix.fromArray(vt.transform.matrix),Ge.projectionMatrix.fromArray(vt.projectionMatrix),Ge.viewport.set(gt.x,gt.y,gt.width,gt.height),ze===0&&L.matrix.copy(Ge.matrix),Ce===!0&&L.cameras.push(Ge)}}const fe=n.inputSources;for(let ve=0;ve<I.length;ve++){const Ce=I[ve],ze=fe[ve];Ce.update(ze,Ze,l)}oe&&oe(ne,Ze),d=null}const re=new n0;re.setAnimationLoop(le),this.setAnimationLoop=function(ne){oe=ne},this.dispose=function(){}}}function XH(e,i){function t(g,I){g.fogColor.value.copy(I.color),I.isFog?(g.fogNear.value=I.near,g.fogFar.value=I.far):I.isFogExp2&&(g.fogDensity.value=I.density)}function s(g,I,X,S,x){I.isMeshBasicMaterial||I.isMeshLambertMaterial?n(g,I):I.isMeshToonMaterial?(n(g,I),h(g,I)):I.isMeshPhongMaterial?(n(g,I),c(g,I)):I.isMeshStandardMaterial?(n(g,I),u(g,I),I.isMeshPhysicalMaterial&&d(g,I,x)):I.isMeshMatcapMaterial?(n(g,I),p(g,I)):I.isMeshDepthMaterial?n(g,I):I.isMeshDistanceMaterial?(n(g,I),G(g,I)):I.isMeshNormalMaterial?n(g,I):I.isLineBasicMaterial?(r(g,I),I.isLineDashedMaterial&&l(g,I)):I.isPointsMaterial?a(g,I,X,S):I.isSpriteMaterial?o(g,I):I.isShadowMaterial?(g.color.value.copy(I.color),g.opacity.value=I.opacity):I.isShaderMaterial&&(I.uniformsNeedUpdate=!1)}function n(g,I){g.opacity.value=I.opacity,I.color&&g.diffuse.value.copy(I.color),I.emissive&&g.emissive.value.copy(I.emissive).multiplyScalar(I.emissiveIntensity),I.map&&(g.map.value=I.map),I.alphaMap&&(g.alphaMap.value=I.alphaMap),I.bumpMap&&(g.bumpMap.value=I.bumpMap,g.bumpScale.value=I.bumpScale,I.side===fi&&(g.bumpScale.value*=-1)),I.displacementMap&&(g.displacementMap.value=I.displacementMap,g.displacementScale.value=I.displacementScale,g.displacementBias.value=I.displacementBias),I.emissiveMap&&(g.emissiveMap.value=I.emissiveMap),I.normalMap&&(g.normalMap.value=I.normalMap,g.normalScale.value.copy(I.normalScale),I.side===fi&&g.normalScale.value.negate()),I.specularMap&&(g.specularMap.value=I.specularMap),I.alphaTest>0&&(g.alphaTest.value=I.alphaTest);const X=i.get(I).envMap;if(X&&(g.envMap.value=X,g.flipEnvMap.value=X.isCubeTexture&&X.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=I.reflectivity,g.ior.value=I.ior,g.refractionRatio.value=I.refractionRatio),I.lightMap){g.lightMap.value=I.lightMap;const v=e.physicallyCorrectLights!==!0?Math.PI:1;g.lightMapIntensity.value=I.lightMapIntensity*v}I.aoMap&&(g.aoMap.value=I.aoMap,g.aoMapIntensity.value=I.aoMapIntensity);let S;I.map?S=I.map:I.specularMap?S=I.specularMap:I.displacementMap?S=I.displacementMap:I.normalMap?S=I.normalMap:I.bumpMap?S=I.bumpMap:I.roughnessMap?S=I.roughnessMap:I.metalnessMap?S=I.metalnessMap:I.alphaMap?S=I.alphaMap:I.emissiveMap?S=I.emissiveMap:I.clearcoatMap?S=I.clearcoatMap:I.clearcoatNormalMap?S=I.clearcoatNormalMap:I.clearcoatRoughnessMap?S=I.clearcoatRoughnessMap:I.specularIntensityMap?S=I.specularIntensityMap:I.specularColorMap?S=I.specularColorMap:I.transmissionMap?S=I.transmissionMap:I.thicknessMap?S=I.thicknessMap:I.sheenColorMap?S=I.sheenColorMap:I.sheenRoughnessMap&&(S=I.sheenRoughnessMap),S!==void 0&&(S.isWebGLRenderTarget&&(S=S.texture),S.matrixAutoUpdate===!0&&S.updateMatrix(),g.uvTransform.value.copy(S.matrix));let x;I.aoMap?x=I.aoMap:I.lightMap&&(x=I.lightMap),x!==void 0&&(x.isWebGLRenderTarget&&(x=x.texture),x.matrixAutoUpdate===!0&&x.updateMatrix(),g.uv2Transform.value.copy(x.matrix))}function r(g,I){g.diffuse.value.copy(I.color),g.opacity.value=I.opacity}function l(g,I){g.dashSize.value=I.dashSize,g.totalSize.value=I.dashSize+I.gapSize,g.scale.value=I.scale}function a(g,I,X,S){g.diffuse.value.copy(I.color),g.opacity.value=I.opacity,g.size.value=I.size*X,g.scale.value=S*.5,I.map&&(g.map.value=I.map),I.alphaMap&&(g.alphaMap.value=I.alphaMap),I.alphaTest>0&&(g.alphaTest.value=I.alphaTest);let x;I.map?x=I.map:I.alphaMap&&(x=I.alphaMap),x!==void 0&&(x.matrixAutoUpdate===!0&&x.updateMatrix(),g.uvTransform.value.copy(x.matrix))}function o(g,I){g.diffuse.value.copy(I.color),g.opacity.value=I.opacity,g.rotation.value=I.rotation,I.map&&(g.map.value=I.map),I.alphaMap&&(g.alphaMap.value=I.alphaMap),I.alphaTest>0&&(g.alphaTest.value=I.alphaTest);let X;I.map?X=I.map:I.alphaMap&&(X=I.alphaMap),X!==void 0&&(X.matrixAutoUpdate===!0&&X.updateMatrix(),g.uvTransform.value.copy(X.matrix))}function c(g,I){g.specular.value.copy(I.specular),g.shininess.value=Math.max(I.shininess,1e-4)}function h(g,I){I.gradientMap&&(g.gradientMap.value=I.gradientMap)}function u(g,I){g.roughness.value=I.roughness,g.metalness.value=I.metalness,I.roughnessMap&&(g.roughnessMap.value=I.roughnessMap),I.metalnessMap&&(g.metalnessMap.value=I.metalnessMap),i.get(I).envMap&&(g.envMapIntensity.value=I.envMapIntensity)}function d(g,I,X){g.ior.value=I.ior,I.sheen>0&&(g.sheenColor.value.copy(I.sheenColor).multiplyScalar(I.sheen),g.sheenRoughness.value=I.sheenRoughness,I.sheenColorMap&&(g.sheenColorMap.value=I.sheenColorMap),I.sheenRoughnessMap&&(g.sheenRoughnessMap.value=I.sheenRoughnessMap)),I.clearcoat>0&&(g.clearcoat.value=I.clearcoat,g.clearcoatRoughness.value=I.clearcoatRoughness,I.clearcoatMap&&(g.clearcoatMap.value=I.clearcoatMap),I.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=I.clearcoatRoughnessMap),I.clearcoatNormalMap&&(g.clearcoatNormalScale.value.copy(I.clearcoatNormalScale),g.clearcoatNormalMap.value=I.clearcoatNormalMap,I.side===fi&&g.clearcoatNormalScale.value.negate())),I.transmission>0&&(g.transmission.value=I.transmission,g.transmissionSamplerMap.value=X.texture,g.transmissionSamplerSize.value.set(X.width,X.height),I.transmissionMap&&(g.transmissionMap.value=I.transmissionMap),g.thickness.value=I.thickness,I.thicknessMap&&(g.thicknessMap.value=I.thicknessMap),g.attenuationDistance.value=I.attenuationDistance,g.attenuationColor.value.copy(I.attenuationColor)),g.specularIntensity.value=I.specularIntensity,g.specularColor.value.copy(I.specularColor),I.specularIntensityMap&&(g.specularIntensityMap.value=I.specularIntensityMap),I.specularColorMap&&(g.specularColorMap.value=I.specularColorMap)}function p(g,I){I.matcap&&(g.matcap.value=I.matcap)}function G(g,I){g.referencePosition.value.copy(I.referencePosition),g.nearDistance.value=I.nearDistance,g.farDistance.value=I.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:s}}function WH(){const e=ro("canvas");return e.style.display="block",e}function rs(e={}){const i=e.canvas!==void 0?e.canvas:WH(),t=e.context!==void 0?e.context:null,s=e.depth!==void 0?e.depth:!0,n=e.stencil!==void 0?e.stencil:!0,r=e.antialias!==void 0?e.antialias:!1,l=e.premultipliedAlpha!==void 0?e.premultipliedAlpha:!0,a=e.preserveDrawingBuffer!==void 0?e.preserveDrawingBuffer:!1,o=e.powerPreference!==void 0?e.powerPreference:"default",c=e.failIfMajorPerformanceCaveat!==void 0?e.failIfMajorPerformanceCaveat:!1;let h;e.context!==void 0?h=t.getContextAttributes().alpha:h=e.alpha!==void 0?e.alpha:!1;let u=null,d=null;const p=[],G=[];this.domElement=i,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Hn,this.physicallyCorrectLights=!1,this.toneMapping=wn,this.toneMappingExposure=1;const g=this;let I=!1,X=0,S=0,x=null,v=-1,L=null;const M=new De,E=new De;let K=null,q=i.width,Q=i.height,w=1,j=null,pe=null;const se=new De(0,0,q,Q),oe=new De(0,0,q,Q);let le=!1;const re=new co;let ne=!1,Ze=!1,fe=null;const ve=new _e,Ce=new Xe,ze=new H,vt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function gt(){return x===null?w:1}let Ge=t;function Ot(J,te){for(let me=0;me<J.length;me++){const ce=J[me],Te=i.getContext(ce,te);if(Te!==null)return Te}return null}try{const J={alpha:!0,depth:s,stencil:n,antialias:r,premultipliedAlpha:l,preserveDrawingBuffer:a,powerPreference:o,failIfMajorPerformanceCaveat:c};if("setAttribute"in i&&i.setAttribute("data-engine",`three.js r${Ai}`),i.addEventListener("webglcontextlost",$,!1),i.addEventListener("webglcontextrestored",Ue,!1),Ge===null){const te=["webgl2","webgl","experimental-webgl"];if(g.isWebGL1Renderer===!0&&te.shift(),Ge=Ot(te,J),Ge===null)throw Ot(te)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Ge.getShaderPrecisionFormat===void 0&&(Ge.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(J){throw console.error("THREE.WebGLRenderer: "+J.message),J}let St,yt,We,ct,be,ge,ae,je,Oe,Wt,Zt,at,cs,_t,A,D,he,Fe,Je,$e,pt,ye,Ct;function Ft(){St=new D3(Ge),yt=new w3(Ge,St,e),St.init(yt),ye=new IH(Ge,St,yt),We=new gH(Ge,St,yt),ct=new O3(Ge),be=new oH,ge=new TH(Ge,St,We,be,yt,ye,ct),ae=new P3(g),je=new k3(g),Oe=new HY(Ge,yt),Ct=new Y3(Ge,St,Oe,yt),Wt=new J3(Ge,Oe,ct,Ct),Zt=new Q3(Ge,Wt,Oe,ct),Je=new j3(Ge,yt,ge),D=new H3(be),at=new aH(g,ae,je,St,yt,Ct,D),cs=new XH(g,be),_t=new hH,A=new yH(St,yt),Fe=new E3(g,ae,We,Zt,h,l),he=new E0(g,Zt,yt),$e=new M3(Ge,St,ct,yt),pt=new K3(Ge,St,ct,yt),ct.programs=at.programs,g.capabilities=yt,g.extensions=St,g.properties=be,g.renderLists=_t,g.shadowMap=he,g.state=We,g.info=ct}Ft();const it=new fH(g,Ge);this.xr=it,this.getContext=function(){return Ge},this.getContextAttributes=function(){return Ge.getContextAttributes()},this.forceContextLoss=function(){const J=St.get("WEBGL_lose_context");J&&J.loseContext()},this.forceContextRestore=function(){const J=St.get("WEBGL_lose_context");J&&J.restoreContext()},this.getPixelRatio=function(){return w},this.setPixelRatio=function(J){J!==void 0&&(w=J,this.setSize(q,Q,!1))},this.getSize=function(J){return J.set(q,Q)},this.setSize=function(J,te,me){if(it.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}q=J,Q=te,i.width=Math.floor(J*w),i.height=Math.floor(te*w),me!==!1&&(i.style.width=J+"px",i.style.height=te+"px"),this.setViewport(0,0,J,te)},this.getDrawingBufferSize=function(J){return J.set(q*w,Q*w).floor()},this.setDrawingBufferSize=function(J,te,me){q=J,Q=te,w=me,i.width=Math.floor(J*me),i.height=Math.floor(te*me),this.setViewport(0,0,J,te)},this.getCurrentViewport=function(J){return J.copy(M)},this.getViewport=function(J){return J.copy(se)},this.setViewport=function(J,te,me,ce){J.isVector4?se.set(J.x,J.y,J.z,J.w):se.set(J,te,me,ce),We.viewport(M.copy(se).multiplyScalar(w).floor())},this.getScissor=function(J){return J.copy(oe)},this.setScissor=function(J,te,me,ce){J.isVector4?oe.set(J.x,J.y,J.z,J.w):oe.set(J,te,me,ce),We.scissor(E.copy(oe).multiplyScalar(w).floor())},this.getScissorTest=function(){return le},this.setScissorTest=function(J){We.setScissorTest(le=J)},this.setOpaqueSort=function(J){j=J},this.setTransparentSort=function(J){pe=J},this.getClearColor=function(J){return J.copy(Fe.getClearColor())},this.setClearColor=function(){Fe.setClearColor.apply(Fe,arguments)},this.getClearAlpha=function(){return Fe.getClearAlpha()},this.setClearAlpha=function(){Fe.setClearAlpha.apply(Fe,arguments)},this.clear=function(J=!0,te=!0,me=!0){let ce=0;J&&(ce|=16384),te&&(ce|=256),me&&(ce|=1024),Ge.clear(ce)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){i.removeEventListener("webglcontextlost",$,!1),i.removeEventListener("webglcontextrestored",Ue,!1),_t.dispose(),A.dispose(),be.dispose(),ae.dispose(),je.dispose(),Zt.dispose(),Ct.dispose(),at.dispose(),it.dispose(),it.removeEventListener("sessionstart",Xt),it.removeEventListener("sessionend",qt),fe&&(fe.dispose(),fe=null),Gt.stop()};function $(J){J.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),I=!0}function Ue(){console.log("THREE.WebGLRenderer: Context Restored."),I=!1;const J=ct.autoReset,te=he.enabled,me=he.autoUpdate,ce=he.needsUpdate,Te=he.type;Ft(),ct.autoReset=J,he.enabled=te,he.autoUpdate=me,he.needsUpdate=ce,he.type=Te}function we(J){const te=J.target;te.removeEventListener("dispose",we),mt(te)}function mt(J){qe(J),be.remove(J)}function qe(J){const te=be.get(J).programs;te!==void 0&&(te.forEach(function(me){at.releaseProgram(me)}),J.isShaderMaterial&&at.releaseShaderCache(J))}this.renderBufferDirect=function(J,te,me,ce,Te,nt){te===null&&(te=vt);const Ye=Te.isMesh&&Te.matrixWorld.determinant()<0,xt=tr(J,te,me,ce,Te);We.setMaterial(ce,Ye);let V=me.index;const et=me.attributes.position;if(V===null){if(et===void 0||et.count===0)return}else if(V.count===0)return;let Vt=1;ce.wireframe===!0&&(V=Wt.getWireframeAttribute(me),Vt=2),Ct.setup(Te,ce,xt,me,V);let Ht,bs=$e;V!==null&&(Ht=Oe.get(V),bs=pt,bs.setIndex(Ht));const js=V!==null?V.count:et.count,si=me.drawRange.start*Vt,hi=me.drawRange.count*Vt,zs=nt!==null?nt.start*Vt:0,Et=nt!==null?nt.count*Vt:1/0,Be=Math.max(si,zs),Ws=Math.min(js,si+hi,zs+Et)-1,gi=Math.max(0,Ws-Be+1);if(gi!==0){if(Te.isMesh)ce.wireframe===!0?(We.setLineWidth(ce.wireframeLinewidth*gt()),bs.setMode(1)):bs.setMode(4);else if(Te.isLine){let Ti=ce.linewidth;Ti===void 0&&(Ti=1),We.setLineWidth(Ti*gt()),Te.isLineSegments?bs.setMode(1):Te.isLineLoop?bs.setMode(2):bs.setMode(3)}else Te.isPoints?bs.setMode(0):Te.isSprite&&bs.setMode(4);if(Te.isInstancedMesh)bs.renderInstances(Be,gi,Te.count);else if(me.isInstancedBufferGeometry){const Ti=Math.min(me.instanceCount,me._maxInstanceCount);bs.renderInstances(Be,gi,Ti)}else bs.render(Be,gi)}},this.compile=function(J,te){d=A.get(J),d.init(),G.push(d),J.traverseVisible(function(me){me.isLight&&me.layers.test(te.layers)&&(d.pushLight(me),me.castShadow&&d.pushShadow(me))}),d.setupLights(g.physicallyCorrectLights),J.traverse(function(me){const ce=me.material;if(ce)if(Array.isArray(ce))for(let Te=0;Te<ce.length;Te++){const nt=ce[Te];En(nt,J,me)}else En(ce,J,me)}),G.pop(),d=null};let st=null;function ke(J){st&&st(J)}function Xt(){Gt.stop()}function qt(){Gt.start()}const Gt=new n0;Gt.setAnimationLoop(ke),typeof self<"u"&&Gt.setContext(self),this.setAnimationLoop=function(J){st=J,it.setAnimationLoop(J),J===null?Gt.stop():Gt.start()},it.addEventListener("sessionstart",Xt),it.addEventListener("sessionend",qt),this.render=function(J,te){if(te!==void 0&&te.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(I===!0)return;J.autoUpdate===!0&&J.updateMatrixWorld(),te.parent===null&&te.updateMatrixWorld(),it.enabled===!0&&it.isPresenting===!0&&(it.cameraAutoUpdate===!0&&it.updateCamera(te),te=it.getCamera()),J.isScene===!0&&J.onBeforeRender(g,J,te,x),d=A.get(J,G.length),d.init(),G.push(d),ve.multiplyMatrices(te.projectionMatrix,te.matrixWorldInverse),re.setFromProjectionMatrix(ve),Ze=this.localClippingEnabled,ne=D.init(this.clippingPlanes,Ze,te),u=_t.get(J,p.length),u.init(),p.push(u),ti(J,te,0,g.sortObjects),u.finish(),g.sortObjects===!0&&u.sort(j,pe),ne===!0&&D.beginShadows();const me=d.state.shadowsArray;if(he.render(me,J,te),ne===!0&&D.endShadows(),this.info.autoReset===!0&&this.info.reset(),Fe.render(u,J),d.setupLights(g.physicallyCorrectLights),te.isArrayCamera){const ce=te.cameras;for(let Te=0,nt=ce.length;Te<nt;Te++){const Ye=ce[Te];Gi(u,J,Ye,Ye.viewport)}}else Gi(u,J,te);x!==null&&(ge.updateMultisampleRenderTarget(x),ge.updateRenderTargetMipmap(x)),J.isScene===!0&&J.onAfterRender(g,J,te),Ct.resetDefaultState(),v=-1,L=null,G.pop(),G.length>0?d=G[G.length-1]:d=null,p.pop(),p.length>0?u=p[p.length-1]:u=null};function ti(J,te,me,ce){if(J.visible===!1)return;if(J.layers.test(te.layers)){if(J.isGroup)me=J.renderOrder;else if(J.isLOD)J.autoUpdate===!0&&J.update(te);else if(J.isLight)d.pushLight(J),J.castShadow&&d.pushShadow(J);else if(J.isSprite){if(!J.frustumCulled||re.intersectsSprite(J)){ce&&ze.setFromMatrixPosition(J.matrixWorld).applyMatrix4(ve);const Ye=Zt.update(J),xt=J.material;xt.visible&&u.push(J,Ye,xt,me,ze.z,null)}}else if((J.isMesh||J.isLine||J.isPoints)&&(J.isSkinnedMesh&&J.skeleton.frame!==ct.render.frame&&(J.skeleton.update(),J.skeleton.frame=ct.render.frame),!J.frustumCulled||re.intersectsObject(J))){ce&&ze.setFromMatrixPosition(J.matrixWorld).applyMatrix4(ve);const Ye=Zt.update(J),xt=J.material;if(Array.isArray(xt)){const V=Ye.groups;for(let et=0,Vt=V.length;et<Vt;et++){const Ht=V[et],bs=xt[Ht.materialIndex];bs&&bs.visible&&u.push(J,Ye,bs,me,ze.z,Ht)}}else xt.visible&&u.push(J,Ye,xt,me,ze.z,null)}}const nt=J.children;for(let Ye=0,xt=nt.length;Ye<xt;Ye++)ti(nt[Ye],te,me,ce)}function Gi(J,te,me,ce){const Te=J.opaque,nt=J.transmissive,Ye=J.transparent;d.setupLightsView(me),nt.length>0&&ic(Te,te,me),ce&&We.viewport(M.copy(ce)),Te.length>0&&Gs(Te,te,me),nt.length>0&&Gs(nt,te,me),Ye.length>0&&Gs(Ye,te,me),We.buffers.depth.setTest(!0),We.buffers.depth.setMask(!0),We.buffers.color.setMask(!0),We.setPolygonOffset(!1)}function ic(J,te,me){const ce=yt.isWebGL2;fe===null&&(fe=new _s(1,1,{generateMipmaps:!0,type:ye.convert(Vl)!==null?Vl:kr,minFilter:Xc,samples:ce&&r===!0?4:0})),g.getDrawingBufferSize(Ce),ce?fe.setSize(Ce.x,Ce.y):fe.setSize(Lc(Ce.x),Lc(Ce.y));const Te=g.getRenderTarget();g.setRenderTarget(fe),g.clear();const nt=g.toneMapping;g.toneMapping=wn,Gs(J,te,me),g.toneMapping=nt,ge.updateMultisampleRenderTarget(fe),ge.updateRenderTargetMipmap(fe),g.setRenderTarget(Te)}function Gs(J,te,me){const ce=te.isScene===!0?te.overrideMaterial:null;for(let Te=0,nt=J.length;Te<nt;Te++){const Ye=J[Te],xt=Ye.object,V=Ye.geometry,et=ce===null?Ye.material:ce,Vt=Ye.group;xt.layers.test(me.layers)&&Vi(xt,te,me,V,et,Vt)}}function Vi(J,te,me,ce,Te,nt){J.onBeforeRender(g,te,me,ce,Te,nt),J.modelViewMatrix.multiplyMatrices(me.matrixWorldInverse,J.matrixWorld),J.normalMatrix.getNormalMatrix(J.modelViewMatrix),Te.onBeforeRender(g,te,me,ce,J,nt),Te.transparent===!0&&Te.side===pi?(Te.side=fi,Te.needsUpdate=!0,g.renderBufferDirect(me,te,ce,Te,J,nt),Te.side=lr,Te.needsUpdate=!0,g.renderBufferDirect(me,te,ce,Te,J,nt),Te.side=pi):g.renderBufferDirect(me,te,ce,Te,J,nt),J.onAfterRender(g,te,me,ce,Te,nt)}function En(J,te,me){te.isScene!==!0&&(te=vt);const ce=be.get(J),Te=d.state.lights,nt=d.state.shadowsArray,Ye=Te.state.version,xt=at.getParameters(J,Te.state,nt,te,me),V=at.getProgramCacheKey(xt);let et=ce.programs;ce.environment=J.isMeshStandardMaterial?te.environment:null,ce.fog=te.fog,ce.envMap=(J.isMeshStandardMaterial?je:ae).get(J.envMap||ce.environment),et===void 0&&(J.addEventListener("dispose",we),et=new Map,ce.programs=et);let Vt=et.get(V);if(Vt!==void 0){if(ce.currentProgram===Vt&&ce.lightsStateVersion===Ye)return Ui(J,xt),Vt}else xt.uniforms=at.getUniforms(J),J.onBuild(me,xt,g),J.onBeforeCompile(xt,g),Vt=at.acquireProgram(xt,V),et.set(V,Vt),ce.uniforms=xt.uniforms;const Ht=ce.uniforms;(!J.isShaderMaterial&&!J.isRawShaderMaterial||J.clipping===!0)&&(Ht.clippingPlanes=D.uniform),Ui(J,xt),ce.needsLights=Er(J),ce.lightsStateVersion=Ye,ce.needsLights&&(Ht.ambientLightColor.value=Te.state.ambient,Ht.lightProbe.value=Te.state.probe,Ht.directionalLights.value=Te.state.directional,Ht.directionalLightShadows.value=Te.state.directionalShadow,Ht.spotLights.value=Te.state.spot,Ht.spotLightShadows.value=Te.state.spotShadow,Ht.rectAreaLights.value=Te.state.rectArea,Ht.ltc_1.value=Te.state.rectAreaLTC1,Ht.ltc_2.value=Te.state.rectAreaLTC2,Ht.pointLights.value=Te.state.point,Ht.pointLightShadows.value=Te.state.pointShadow,Ht.hemisphereLights.value=Te.state.hemi,Ht.directionalShadowMap.value=Te.state.directionalShadowMap,Ht.directionalShadowMatrix.value=Te.state.directionalShadowMatrix,Ht.spotShadowMap.value=Te.state.spotShadowMap,Ht.spotShadowMatrix.value=Te.state.spotShadowMatrix,Ht.pointShadowMap.value=Te.state.pointShadowMap,Ht.pointShadowMatrix.value=Te.state.pointShadowMatrix);const bs=Vt.getUniforms(),js=Zr.seqWithValue(bs.seq,Ht);return ce.currentProgram=Vt,ce.uniformsList=js,Vt}function Ui(J,te){const me=be.get(J);me.outputEncoding=te.outputEncoding,me.instancing=te.instancing,me.skinning=te.skinning,me.morphTargets=te.morphTargets,me.morphNormals=te.morphNormals,me.morphColors=te.morphColors,me.morphTargetsCount=te.morphTargetsCount,me.numClippingPlanes=te.numClippingPlanes,me.numIntersection=te.numClipIntersection,me.vertexAlphas=te.vertexAlphas,me.vertexTangents=te.vertexTangents,me.toneMapping=te.toneMapping}function tr(J,te,me,ce,Te){te.isScene!==!0&&(te=vt),ge.resetTextureUnits();const nt=te.fog,Ye=ce.isMeshStandardMaterial?te.environment:null,xt=x===null?g.outputEncoding:x.isXRRenderTarget===!0?x.texture.encoding:Hn,V=(ce.isMeshStandardMaterial?je:ae).get(ce.envMap||Ye),et=ce.vertexColors===!0&&!!me.attributes.color&&me.attributes.color.itemSize===4,Vt=!!ce.normalMap&&!!me.attributes.tangent,Ht=!!me.morphAttributes.position,bs=!!me.morphAttributes.normal,js=!!me.morphAttributes.color,si=ce.toneMapped?g.toneMapping:wn,hi=me.morphAttributes.position||me.morphAttributes.normal||me.morphAttributes.color,zs=hi!==void 0?hi.length:0,Et=be.get(ce),Be=d.state.lights;if(ne===!0&&(Ze===!0||J!==L)){const ui=J===L&&ce.id===v;D.setState(ce,J,ui)}let Ws=!1;ce.version===Et.__version?(Et.needsLights&&Et.lightsStateVersion!==Be.state.version||Et.outputEncoding!==xt||Te.isInstancedMesh&&Et.instancing===!1||!Te.isInstancedMesh&&Et.instancing===!0||Te.isSkinnedMesh&&Et.skinning===!1||!Te.isSkinnedMesh&&Et.skinning===!0||Et.envMap!==V||ce.fog&&Et.fog!==nt||Et.numClippingPlanes!==void 0&&(Et.numClippingPlanes!==D.numPlanes||Et.numIntersection!==D.numIntersection)||Et.vertexAlphas!==et||Et.vertexTangents!==Vt||Et.morphTargets!==Ht||Et.morphNormals!==bs||Et.morphColors!==js||Et.toneMapping!==si||yt.isWebGL2===!0&&Et.morphTargetsCount!==zs)&&(Ws=!0):(Ws=!0,Et.__version=ce.version);let gi=Et.currentProgram;Ws===!0&&(gi=En(ce,te,Te));let Ti=!1,ii=!1,sr=!1;const Fs=gi.getUniforms(),ki=Et.uniforms;if(We.useProgram(gi.program)&&(Ti=!0,ii=!0,sr=!0),ce.id!==v&&(v=ce.id,ii=!0),Ti||L!==J){if(Fs.setValue(Ge,"projectionMatrix",J.projectionMatrix),yt.logarithmicDepthBuffer&&Fs.setValue(Ge,"logDepthBufFC",2/(Math.log(J.far+1)/Math.LN2)),L!==J&&(L=J,ii=!0,sr=!0),ce.isShaderMaterial||ce.isMeshPhongMaterial||ce.isMeshToonMaterial||ce.isMeshStandardMaterial||ce.envMap){const ui=Fs.map.cameraPosition;ui!==void 0&&ui.setValue(Ge,ze.setFromMatrixPosition(J.matrixWorld))}(ce.isMeshPhongMaterial||ce.isMeshToonMaterial||ce.isMeshLambertMaterial||ce.isMeshBasicMaterial||ce.isMeshStandardMaterial||ce.isShaderMaterial)&&Fs.setValue(Ge,"isOrthographic",J.isOrthographicCamera===!0),(ce.isMeshPhongMaterial||ce.isMeshToonMaterial||ce.isMeshLambertMaterial||ce.isMeshBasicMaterial||ce.isMeshStandardMaterial||ce.isShaderMaterial||ce.isShadowMaterial||Te.isSkinnedMesh)&&Fs.setValue(Ge,"viewMatrix",J.matrixWorldInverse)}if(Te.isSkinnedMesh){Fs.setOptional(Ge,Te,"bindMatrix"),Fs.setOptional(Ge,Te,"bindMatrixInverse");const ui=Te.skeleton;ui&&(yt.floatVertexTextures?(ui.boneTexture===null&&ui.computeBoneTexture(),Fs.setValue(Ge,"boneTexture",ui.boneTexture,ge),Fs.setValue(Ge,"boneTextureSize",ui.boneTextureSize)):Fs.setOptional(Ge,ui,"boneMatrices"))}const Ii=me.morphAttributes;return(Ii.position!==void 0||Ii.normal!==void 0||Ii.color!==void 0&&yt.isWebGL2===!0)&&Je.update(Te,me,ce,gi),(ii||Et.receiveShadow!==Te.receiveShadow)&&(Et.receiveShadow=Te.receiveShadow,Fs.setValue(Ge,"receiveShadow",Te.receiveShadow)),ii&&(Fs.setValue(Ge,"toneMappingExposure",g.toneMappingExposure),Et.needsLights&&tu(ki,sr),nt&&ce.fog&&cs.refreshFogUniforms(ki,nt),cs.refreshMaterialUniforms(ki,ce,w,Q,fe),Zr.upload(Ge,Et.uniformsList,ki,ge)),ce.isShaderMaterial&&ce.uniformsNeedUpdate===!0&&(Zr.upload(Ge,Et.uniformsList,ki,ge),ce.uniformsNeedUpdate=!1),ce.isSpriteMaterial&&Fs.setValue(Ge,"center",Te.center),Fs.setValue(Ge,"modelViewMatrix",Te.modelViewMatrix),Fs.setValue(Ge,"normalMatrix",Te.normalMatrix),Fs.setValue(Ge,"modelMatrix",Te.matrixWorld),gi}function tu(J,te){J.ambientLightColor.needsUpdate=te,J.lightProbe.needsUpdate=te,J.directionalLights.needsUpdate=te,J.directionalLightShadows.needsUpdate=te,J.pointLights.needsUpdate=te,J.pointLightShadows.needsUpdate=te,J.spotLights.needsUpdate=te,J.spotLightShadows.needsUpdate=te,J.rectAreaLights.needsUpdate=te,J.hemisphereLights.needsUpdate=te}function Er(J){return J.isMeshLambertMaterial||J.isMeshToonMaterial||J.isMeshPhongMaterial||J.isMeshStandardMaterial||J.isShadowMaterial||J.isShaderMaterial&&J.lights===!0}this.getActiveCubeFace=function(){return X},this.getActiveMipmapLevel=function(){return S},this.getRenderTarget=function(){return x},this.setRenderTargetTextures=function(J,te,me){be.get(J.texture).__webglTexture=te,be.get(J.depthTexture).__webglTexture=me;const ce=be.get(J);ce.__hasExternalTextures=!0,ce.__hasExternalTextures&&(ce.__autoAllocateDepthBuffer=me===void 0,ce.__autoAllocateDepthBuffer||St.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ce.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(J,te){const me=be.get(J);me.__webglFramebuffer=te,me.__useDefaultFramebuffer=te===void 0},this.setRenderTarget=function(J,te=0,me=0){x=J,X=te,S=me;let ce=!0;if(J){const V=be.get(J);V.__useDefaultFramebuffer!==void 0?(We.bindFramebuffer(36160,null),ce=!1):V.__webglFramebuffer===void 0?ge.setupRenderTarget(J):V.__hasExternalTextures&&ge.rebindTextures(J,be.get(J.texture).__webglTexture,be.get(J.depthTexture).__webglTexture)}let Te=null,nt=!1,Ye=!1;if(J){const V=J.texture;(V.isData3DTexture||V.isDataArrayTexture)&&(Ye=!0);const et=be.get(J).__webglFramebuffer;J.isWebGLCubeRenderTarget?(Te=et[te],nt=!0):yt.isWebGL2&&J.samples>0&&ge.useMultisampledRTT(J)===!1?Te=be.get(J).__webglMultisampledFramebuffer:Te=et,M.copy(J.viewport),E.copy(J.scissor),K=J.scissorTest}else M.copy(se).multiplyScalar(w).floor(),E.copy(oe).multiplyScalar(w).floor(),K=le;if(We.bindFramebuffer(36160,Te)&&yt.drawBuffers&&ce&&We.drawBuffers(J,Te),We.viewport(M),We.scissor(E),We.setScissorTest(K),nt){const V=be.get(J.texture);Ge.framebufferTexture2D(36160,36064,34069+te,V.__webglTexture,me)}else if(Ye){const V=be.get(J.texture),et=te||0;Ge.framebufferTextureLayer(36160,36064,V.__webglTexture,me||0,et)}v=-1},this.readRenderTargetPixels=function(J,te,me,ce,Te,nt,Ye){if(!(J&&J.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let xt=be.get(J).__webglFramebuffer;if(J.isWebGLCubeRenderTarget&&Ye!==void 0&&(xt=xt[Ye]),xt){We.bindFramebuffer(36160,xt);try{const V=J.texture,et=V.format,Vt=V.type;if(et!==ri&&ye.convert(et)!==Ge.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Ht=Vt===Vl&&(St.has("EXT_color_buffer_half_float")||yt.isWebGL2&&St.has("EXT_color_buffer_float"));if(Vt!==kr&&ye.convert(Vt)!==Ge.getParameter(35738)&&!(Vt===ar&&(yt.isWebGL2||St.has("OES_texture_float")||St.has("WEBGL_color_buffer_float")))&&!Ht){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}te>=0&&te<=J.width-ce&&me>=0&&me<=J.height-Te&&Ge.readPixels(te,me,ce,Te,ye.convert(et),ye.convert(Vt),nt)}finally{const V=x!==null?be.get(x).__webglFramebuffer:null;We.bindFramebuffer(36160,V)}}},this.copyFramebufferToTexture=function(J,te,me=0){if(te.isFramebufferTexture!==!0){console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.");return}const ce=Math.pow(2,-me),Te=Math.floor(te.image.width*ce),nt=Math.floor(te.image.height*ce);ge.setTexture2D(te,0),Ge.copyTexSubImage2D(3553,me,0,0,J.x,J.y,Te,nt),We.unbindTexture()},this.copyTextureToTexture=function(J,te,me,ce=0){const Te=te.image.width,nt=te.image.height,Ye=ye.convert(me.format),xt=ye.convert(me.type);ge.setTexture2D(me,0),Ge.pixelStorei(37440,me.flipY),Ge.pixelStorei(37441,me.premultiplyAlpha),Ge.pixelStorei(3317,me.unpackAlignment),te.isDataTexture?Ge.texSubImage2D(3553,ce,J.x,J.y,Te,nt,Ye,xt,te.image.data):te.isCompressedTexture?Ge.compressedTexSubImage2D(3553,ce,J.x,J.y,te.mipmaps[0].width,te.mipmaps[0].height,Ye,te.mipmaps[0].data):Ge.texSubImage2D(3553,ce,J.x,J.y,Ye,xt,te.image),ce===0&&me.generateMipmaps&&Ge.generateMipmap(3553),We.unbindTexture()},this.copyTextureToTexture3D=function(J,te,me,ce,Te=0){if(g.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const nt=J.max.x-J.min.x+1,Ye=J.max.y-J.min.y+1,xt=J.max.z-J.min.z+1,V=ye.convert(ce.format),et=ye.convert(ce.type);let Vt;if(ce.isData3DTexture)ge.setTexture3D(ce,0),Vt=32879;else if(ce.isDataArrayTexture)ge.setTexture2DArray(ce,0),Vt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Ge.pixelStorei(37440,ce.flipY),Ge.pixelStorei(37441,ce.premultiplyAlpha),Ge.pixelStorei(3317,ce.unpackAlignment);const Ht=Ge.getParameter(3314),bs=Ge.getParameter(32878),js=Ge.getParameter(3316),si=Ge.getParameter(3315),hi=Ge.getParameter(32877),zs=me.isCompressedTexture?me.mipmaps[0]:me.image;Ge.pixelStorei(3314,zs.width),Ge.pixelStorei(32878,zs.height),Ge.pixelStorei(3316,J.min.x),Ge.pixelStorei(3315,J.min.y),Ge.pixelStorei(32877,J.min.z),me.isDataTexture||me.isData3DTexture?Ge.texSubImage3D(Vt,Te,te.x,te.y,te.z,nt,Ye,xt,V,et,zs.data):me.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Ge.compressedTexSubImage3D(Vt,Te,te.x,te.y,te.z,nt,Ye,xt,V,zs.data)):Ge.texSubImage3D(Vt,Te,te.x,te.y,te.z,nt,Ye,xt,V,et,zs),Ge.pixelStorei(3314,Ht),Ge.pixelStorei(32878,bs),Ge.pixelStorei(3316,js),Ge.pixelStorei(3315,si),Ge.pixelStorei(32877,hi),Te===0&&ce.generateMipmaps&&Ge.generateMipmap(Vt),We.unbindTexture()},this.initTexture=function(J){ge.setTexture2D(J,0),We.unbindTexture()},this.resetState=function(){X=0,S=0,x=null,We.reset(),Ct.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}rs.prototype.isWebGLRenderer=!0;class SH extends rs{}SH.prototype.isWebGL1Renderer=!0;class On extends zt{constructor(){super();this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(i,t){return super.copy(i,t),i.background!==null&&(this.background=i.background.clone()),i.environment!==null&&(this.environment=i.environment.clone()),i.fog!==null&&(this.fog=i.fog.clone()),i.overrideMaterial!==null&&(this.overrideMaterial=i.overrideMaterial.clone()),this.autoUpdate=i.autoUpdate,this.matrixAutoUpdate=i.matrixAutoUpdate,this}toJSON(i){const t=super.toJSON(i);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),t}}On.prototype.isScene=!0;class po{constructor(i,t){this.array=i,this.stride=t,this.count=i!==void 0?i.length/t:0,this.usage=to,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=ji()}onUploadCallback(){}set needsUpdate(i){i===!0&&this.version++}setUsage(i){return this.usage=i,this}copy(i){return this.array=new i.array.constructor(i.array),this.count=i.count,this.stride=i.stride,this.usage=i.usage,this}copyAt(i,t,s){i*=this.stride,s*=t.stride;for(let n=0,r=this.stride;n<r;n++)this.array[i+n]=t.array[s+n];return this}set(i,t=0){return this.array.set(i,t),this}clone(i){i.arrayBuffers===void 0&&(i.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ji()),i.arrayBuffers[this.array.buffer._uuid]===void 0&&(i.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(i.arrayBuffers[this.array.buffer._uuid]),s=new this.constructor(t,this.stride);return s.setUsage(this.usage),s}onUpload(i){return this.onUploadCallback=i,this}toJSON(i){return i.arrayBuffers===void 0&&(i.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ji()),i.arrayBuffers[this.array.buffer._uuid]===void 0&&(i.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}po.prototype.isInterleavedBuffer=!0;const ci=new H;class mo{constructor(i,t,s,n=!1){this.name="",this.data=i,this.itemSize=t,this.offset=s,this.normalized=n===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(i){this.data.needsUpdate=i}applyMatrix4(i){for(let t=0,s=this.data.count;t<s;t++)ci.fromBufferAttribute(this,t),ci.applyMatrix4(i),this.setXYZ(t,ci.x,ci.y,ci.z);return this}applyNormalMatrix(i){for(let t=0,s=this.count;t<s;t++)ci.fromBufferAttribute(this,t),ci.applyNormalMatrix(i),this.setXYZ(t,ci.x,ci.y,ci.z);return this}transformDirection(i){for(let t=0,s=this.count;t<s;t++)ci.fromBufferAttribute(this,t),ci.transformDirection(i),this.setXYZ(t,ci.x,ci.y,ci.z);return this}setX(i,t){return this.data.array[i*this.data.stride+this.offset]=t,this}setY(i,t){return this.data.array[i*this.data.stride+this.offset+1]=t,this}setZ(i,t){return this.data.array[i*this.data.stride+this.offset+2]=t,this}setW(i,t){return this.data.array[i*this.data.stride+this.offset+3]=t,this}getX(i){return this.data.array[i*this.data.stride+this.offset]}getY(i){return this.data.array[i*this.data.stride+this.offset+1]}getZ(i){return this.data.array[i*this.data.stride+this.offset+2]}getW(i){return this.data.array[i*this.data.stride+this.offset+3]}setXY(i,t,s){return i=i*this.data.stride+this.offset,this.data.array[i+0]=t,this.data.array[i+1]=s,this}setXYZ(i,t,s,n){return i=i*this.data.stride+this.offset,this.data.array[i+0]=t,this.data.array[i+1]=s,this.data.array[i+2]=n,this}setXYZW(i,t,s,n,r){return i=i*this.data.stride+this.offset,this.data.array[i+0]=t,this.data.array[i+1]=s,this.data.array[i+2]=n,this.data.array[i+3]=r,this}clone(i){if(i===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let s=0;s<this.count;s++){const n=s*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[n+r])}return new Nt(new this.array.constructor(t),this.itemSize,this.normalized)}else return i.interleavedBuffers===void 0&&(i.interleavedBuffers={}),i.interleavedBuffers[this.data.uuid]===void 0&&(i.interleavedBuffers[this.data.uuid]=this.data.clone(i)),new mo(i.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(i){if(i===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let s=0;s<this.count;s++){const n=s*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[n+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return i.interleavedBuffers===void 0&&(i.interleavedBuffers={}),i.interleavedBuffers[this.data.uuid]===void 0&&(i.interleavedBuffers[this.data.uuid]=this.data.toJSON(i)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}mo.prototype.isInterleavedBufferAttribute=!0;class sh extends Ps{constructor(i){super();this.type="SpriteMaterial",this.color=new ie(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(i)}copy(i){return super.copy(i),this.color.copy(i.color),this.map=i.map,this.alphaMap=i.alphaMap,this.rotation=i.rotation,this.sizeAttenuation=i.sizeAttenuation,this}}sh.prototype.isSpriteMaterial=!0;let ql;const bo=new H,$l=new H,ea=new H,ta=new Xe,yo=new Xe,M0=new _e,ih=new H,Zo=new H,nh=new H,w0=new Xe,Rd=new Xe,H0=new Xe;class P0 extends zt{constructor(i){super();if(this.type="Sprite",ql===void 0){ql=new It;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),s=new po(t,5);ql.setIndex([0,1,2,0,2,3]),ql.setAttribute("position",new mo(s,3,0,!1)),ql.setAttribute("uv",new mo(s,2,3,!1))}this.geometry=ql,this.material=i!==void 0?i:new sh,this.center=new Xe(.5,.5)}raycast(i,t){i.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),$l.setFromMatrixScale(this.matrixWorld),M0.copy(i.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(i.camera.matrixWorldInverse,this.matrixWorld),ea.setFromMatrixPosition(this.modelViewMatrix),i.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&$l.multiplyScalar(-ea.z);const s=this.material.rotation;let n,r;s!==0&&(r=Math.cos(s),n=Math.sin(s));const l=this.center;rh(ih.set(-.5,-.5,0),ea,l,$l,n,r),rh(Zo.set(.5,-.5,0),ea,l,$l,n,r),rh(nh.set(.5,.5,0),ea,l,$l,n,r),w0.set(0,0),Rd.set(1,0),H0.set(1,1);let a=i.ray.intersectTriangle(ih,Zo,nh,!1,bo);if(a===null&&(rh(Zo.set(-.5,.5,0),ea,l,$l,n,r),Rd.set(0,1),a=i.ray.intersectTriangle(ih,nh,Zo,!1,bo),a===null))return;const o=i.ray.origin.distanceTo(bo);o<i.near||o>i.far||t.push({distance:o,point:bo.clone(),uv:Is.getUV(bo,ih,Zo,nh,w0,Rd,H0,new Xe),face:null,object:this})}copy(i){return super.copy(i),i.center!==void 0&&this.center.copy(i.center),this.material=i.material,this}}P0.prototype.isSprite=!0;function rh(e,i,t,s,n,r){ta.subVectors(e,t).addScalar(.5).multiply(s),n!==void 0?(yo.x=r*ta.x-n*ta.y,yo.y=n*ta.x+r*ta.y):yo.copy(ta),e.copy(i),e.x+=yo.x,e.y+=yo.y,e.applyMatrix4(M0)}const z0=new H,U0=new De,k0=new De,CH=new H,D0=new _e;class J0 extends ns{constructor(i,t){super(i,t);this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new _e,this.bindMatrixInverse=new _e}copy(i){return super.copy(i),this.bindMode=i.bindMode,this.bindMatrix.copy(i.bindMatrix),this.bindMatrixInverse.copy(i.bindMatrixInverse),this.skeleton=i.skeleton,this}bind(i,t){this.skeleton=i,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const i=new De,t=this.geometry.attributes.skinWeight;for(let s=0,n=t.count;s<n;s++){i.fromBufferAttribute(t,s);const r=1/i.manhattanLength();r!==1/0?i.multiplyScalar(r):i.set(1,0,0,0),t.setXYZW(s,i.x,i.y,i.z,i.w)}}updateMatrixWorld(i){super.updateMatrixWorld(i),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(i,t){const s=this.skeleton,n=this.geometry;U0.fromBufferAttribute(n.attributes.skinIndex,i),k0.fromBufferAttribute(n.attributes.skinWeight,i),z0.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let r=0;r<4;r++){const l=k0.getComponent(r);if(l!==0){const a=U0.getComponent(r);D0.multiplyMatrices(s.bones[a].matrixWorld,s.boneInverses[a]),t.addScaledVector(CH.copy(z0).applyMatrix4(D0),l)}}return t.applyMatrix4(this.bindMatrixInverse)}}J0.prototype.isSkinnedMesh=!0;class VH extends zt{constructor(){super();this.type="Bone"}}VH.prototype.isBone=!0;class fd extends Ss{constructor(i=null,t=1,s=1,n,r,l,a,o,c=us,h=us,u,d){super(null,l,a,o,c,h,n,r,u,d);this.image={data:i,width:t,height:s},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}fd.prototype.isDataTexture=!0;class Xd extends Nt{constructor(i,t,s,n=1){typeof s=="number"&&(n=s,s=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument."));super(i,t,s);this.meshPerAttribute=n}copy(i){return super.copy(i),this.meshPerAttribute=i.meshPerAttribute,this}toJSON(){const i=super.toJSON();return i.meshPerAttribute=this.meshPerAttribute,i.isInstancedBufferAttribute=!0,i}}Xd.prototype.isInstancedBufferAttribute=!0;const K0=new _e,O0=new _e,lh=[],Go=new ns;class LH extends ns{constructor(i,t,s){super(i,t);this.instanceMatrix=new Xd(new Float32Array(s*16),16),this.instanceColor=null,this.count=s,this.frustumCulled=!1}copy(i){return super.copy(i),this.instanceMatrix.copy(i.instanceMatrix),i.instanceColor!==null&&(this.instanceColor=i.instanceColor.clone()),this.count=i.count,this}getColorAt(i,t){t.fromArray(this.instanceColor.array,i*3)}getMatrixAt(i,t){t.fromArray(this.instanceMatrix.array,i*16)}raycast(i,t){const s=this.matrixWorld,n=this.count;if(Go.geometry=this.geometry,Go.material=this.material,Go.material!==void 0)for(let r=0;r<n;r++){this.getMatrixAt(r,K0),O0.multiplyMatrices(s,K0),Go.matrixWorld=O0,Go.raycast(i,lh);for(let l=0,a=lh.length;l<a;l++){const o=lh[l];o.instanceId=r,o.object=this,t.push(o)}lh.length=0}}setColorAt(i,t){this.instanceColor===null&&(this.instanceColor=new Xd(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,i*3)}setMatrixAt(i,t){t.toArray(this.instanceMatrix.array,i*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}LH.prototype.isInstancedMesh=!0;class yn extends Ps{constructor(i){super();this.type="LineBasicMaterial",this.color=new ie(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(i)}copy(i){return super.copy(i),this.color.copy(i.color),this.linewidth=i.linewidth,this.linecap=i.linecap,this.linejoin=i.linejoin,this}}yn.prototype.isLineBasicMaterial=!0;const A0=new H,B0=new H,j0=new _e,Wd=new ur,ah=new qi;class qr extends zt{constructor(i=new It,t=new yn){super();this.type="Line",this.geometry=i,this.material=t,this.updateMorphTargets()}copy(i){return super.copy(i),this.material=i.material,this.geometry=i.geometry,this}computeLineDistances(){const i=this.geometry;if(i.isBufferGeometry)if(i.index===null){const t=i.attributes.position,s=[0];for(let n=1,r=t.count;n<r;n++)A0.fromBufferAttribute(t,n-1),B0.fromBufferAttribute(t,n),s[n]=s[n-1],s[n]+=A0.distanceTo(B0);i.setAttribute("lineDistance",new ds(s,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else i.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(i,t){const s=this.geometry,n=this.matrixWorld,r=i.params.Line.threshold,l=s.drawRange;if(s.boundingSphere===null&&s.computeBoundingSphere(),ah.copy(s.boundingSphere),ah.applyMatrix4(n),ah.radius+=r,i.ray.intersectsSphere(ah)===!1)return;j0.copy(n).invert(),Wd.copy(i.ray).applyMatrix4(j0);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a,c=new H,h=new H,u=new H,d=new H,p=this.isLineSegments?2:1;if(s.isBufferGeometry){const G=s.index,I=s.attributes.position;if(G!==null){const X=Math.max(0,l.start),S=Math.min(G.count,l.start+l.count);for(let x=X,v=S-1;x<v;x+=p){const L=G.getX(x),M=G.getX(x+1);if(c.fromBufferAttribute(I,L),h.fromBufferAttribute(I,M),Wd.distanceSqToSegment(c,h,d,u)>o)continue;d.applyMatrix4(this.matrixWorld);const K=i.ray.origin.distanceTo(d);K<i.near||K>i.far||t.push({distance:K,point:u.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}else{const X=Math.max(0,l.start),S=Math.min(I.count,l.start+l.count);for(let x=X,v=S-1;x<v;x+=p){if(c.fromBufferAttribute(I,x),h.fromBufferAttribute(I,x+1),Wd.distanceSqToSegment(c,h,d,u)>o)continue;d.applyMatrix4(this.matrixWorld);const M=i.ray.origin.distanceTo(d);M<i.near||M>i.far||t.push({distance:M,point:u.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}}else s.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const i=this.geometry;if(i.isBufferGeometry){const t=i.morphAttributes,s=Object.keys(t);if(s.length>0){const n=t[s[0]];if(n!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,l=n.length;r<l;r++){const a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}else{const t=i.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}qr.prototype.isLine=!0;const Q0=new H,_0=new H;class oh extends qr{constructor(i,t){super(i,t);this.type="LineSegments"}computeLineDistances(){const i=this.geometry;if(i.isBufferGeometry)if(i.index===null){const t=i.attributes.position,s=[];for(let n=0,r=t.count;n<r;n+=2)Q0.fromBufferAttribute(t,n),_0.fromBufferAttribute(t,n+1),s[n]=n===0?0:s[n-1],s[n+1]=s[n]+Q0.distanceTo(_0);i.setAttribute("lineDistance",new ds(s,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else i.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}oh.prototype.isLineSegments=!0;class FH extends qr{constructor(i,t){super(i,t);this.type="LineLoop"}}FH.prototype.isLineLoop=!0;class Sd extends Ps{constructor(i){super();this.type="PointsMaterial",this.color=new ie(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(i)}copy(i){return super.copy(i),this.color.copy(i.color),this.map=i.map,this.alphaMap=i.alphaMap,this.size=i.size,this.sizeAttenuation=i.sizeAttenuation,this}}Sd.prototype.isPointsMaterial=!0;const q0=new _e,Cd=new ur,ch=new qi,hh=new H;class Vd extends zt{constructor(i=new It,t=new Sd){super();this.type="Points",this.geometry=i,this.material=t,this.updateMorphTargets()}copy(i){return super.copy(i),this.material=i.material,this.geometry=i.geometry,this}raycast(i,t){const s=this.geometry,n=this.matrixWorld,r=i.params.Points.threshold,l=s.drawRange;if(s.boundingSphere===null&&s.computeBoundingSphere(),ch.copy(s.boundingSphere),ch.applyMatrix4(n),ch.radius+=r,i.ray.intersectsSphere(ch)===!1)return;q0.copy(n).invert(),Cd.copy(i.ray).applyMatrix4(q0);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a;if(s.isBufferGeometry){const c=s.index,u=s.attributes.position;if(c!==null){const d=Math.max(0,l.start),p=Math.min(c.count,l.start+l.count);for(let G=d,g=p;G<g;G++){const I=c.getX(G);hh.fromBufferAttribute(u,I),$0(hh,I,o,n,i,t,this)}}else{const d=Math.max(0,l.start),p=Math.min(u.count,l.start+l.count);for(let G=d,g=p;G<g;G++)hh.fromBufferAttribute(u,G),$0(hh,G,o,n,i,t,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const i=this.geometry;if(i.isBufferGeometry){const t=i.morphAttributes,s=Object.keys(t);if(s.length>0){const n=t[s[0]];if(n!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,l=n.length;r<l;r++){const a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}else{const t=i.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}Vd.prototype.isPoints=!0;function $0(e,i,t,s,n,r,l){const a=Cd.distanceSqToPoint(e);if(a<t){const o=new H;Cd.closestPointToPoint(e,o),o.applyMatrix4(s);const c=n.ray.origin.distanceTo(o);if(c<n.near||c>n.far)return;r.push({distance:c,distanceToRay:Math.sqrt(a),point:o,index:i,face:null,object:l})}}class NH extends Ss{constructor(i,t,s,n,r,l,a,o,c){super(i,t,s,n,r,l,a,o,c);this.minFilter=l!==void 0?l:Ms,this.magFilter=r!==void 0?r:Ms,this.generateMipmaps=!1;const h=this;function u(){h.needsUpdate=!0,i.requestVideoFrameCallback(u)}"requestVideoFrameCallback"in i&&i.requestVideoFrameCallback(u)}clone(){return new this.constructor(this.image).copy(this)}update(){const i=this.image;"requestVideoFrameCallback"in i===!1&&i.readyState>=i.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}NH.prototype.isVideoTexture=!0;class xH extends Ss{constructor(i,t,s){super({width:i,height:t});this.format=s,this.magFilter=us,this.minFilter=us,this.generateMipmaps=!1,this.needsUpdate=!0}}xH.prototype.isFramebufferTexture=!0;class vH extends Ss{constructor(i,t,s,n,r,l,a,o,c,h,u,d){super(null,l,a,o,c,h,n,r,u,d);this.image={width:t,height:s},this.mipmaps=i,this.flipY=!1,this.generateMipmaps=!1}}vH.prototype.isCompressedTexture=!0;class ey extends Ss{constructor(i,t,s,n,r,l,a,o,c){super(i,t,s,n,r,l,a,o,c);this.needsUpdate=!0}}ey.prototype.isCanvasTexture=!0;class Yi{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(i,t){const s=this.getUtoTmapping(i);return this.getPoint(s,t)}getPoints(i=5){const t=[];for(let s=0;s<=i;s++)t.push(this.getPoint(s/i));return t}getSpacedPoints(i=5){const t=[];for(let s=0;s<=i;s++)t.push(this.getPointAt(s/i));return t}getLength(){const i=this.getLengths();return i[i.length-1]}getLengths(i=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===i+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let s,n=this.getPoint(0),r=0;t.push(0);for(let l=1;l<=i;l++)s=this.getPoint(l/i),r+=s.distanceTo(n),t.push(r),n=s;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(i,t){const s=this.getLengths();let n=0;const r=s.length;let l;t?l=t:l=i*s[r-1];let a=0,o=r-1,c;for(;a<=o;)if(n=Math.floor(a+(o-a)/2),c=s[n]-l,c<0)a=n+1;else if(c>0)o=n-1;else{o=n;break}if(n=o,s[n]===l)return n/(r-1);const h=s[n],d=s[n+1]-h,p=(l-h)/d;return(n+p)/(r-1)}getTangent(i,t){let n=i-1e-4,r=i+1e-4;n<0&&(n=0),r>1&&(r=1);const l=this.getPoint(n),a=this.getPoint(r),o=t||(l.isVector2?new Xe:new H);return o.copy(a).sub(l).normalize(),o}getTangentAt(i,t){const s=this.getUtoTmapping(i);return this.getTangent(s,t)}computeFrenetFrames(i,t){const s=new H,n=[],r=[],l=[],a=new H,o=new _e;for(let p=0;p<=i;p++){const G=p/i;n[p]=this.getTangentAt(G,new H)}r[0]=new H,l[0]=new H;let c=Number.MAX_VALUE;const h=Math.abs(n[0].x),u=Math.abs(n[0].y),d=Math.abs(n[0].z);h<=c&&(c=h,s.set(1,0,0)),u<=c&&(c=u,s.set(0,1,0)),d<=c&&s.set(0,0,1),a.crossVectors(n[0],s).normalize(),r[0].crossVectors(n[0],a),l[0].crossVectors(n[0],r[0]);for(let p=1;p<=i;p++){if(r[p]=r[p-1].clone(),l[p]=l[p-1].clone(),a.crossVectors(n[p-1],n[p]),a.length()>Number.EPSILON){a.normalize();const G=Math.acos(ws(n[p-1].dot(n[p]),-1,1));r[p].applyMatrix4(o.makeRotationAxis(a,G))}l[p].crossVectors(n[p],r[p])}if(t===!0){let p=Math.acos(ws(r[0].dot(r[i]),-1,1));p/=i,n[0].dot(a.crossVectors(r[0],r[i]))>0&&(p=-p);for(let G=1;G<=i;G++)r[G].applyMatrix4(o.makeRotationAxis(n[G],p*G)),l[G].crossVectors(n[G],r[G])}return{tangents:n,normals:r,binormals:l}}clone(){return new this.constructor().copy(this)}copy(i){return this.arcLengthDivisions=i.arcLengthDivisions,this}toJSON(){const i={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return i.arcLengthDivisions=this.arcLengthDivisions,i.type=this.type,i}fromJSON(i){return this.arcLengthDivisions=i.arcLengthDivisions,this}}class uh extends Yi{constructor(i=0,t=0,s=1,n=1,r=0,l=Math.PI*2,a=!1,o=0){super();this.type="EllipseCurve",this.aX=i,this.aY=t,this.xRadius=s,this.yRadius=n,this.aStartAngle=r,this.aEndAngle=l,this.aClockwise=a,this.aRotation=o}getPoint(i,t){const s=t||new Xe,n=Math.PI*2;let r=this.aEndAngle-this.aStartAngle;const l=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=n;for(;r>n;)r-=n;r<Number.EPSILON&&(l?r=0:r=n),this.aClockwise===!0&&!l&&(r===n?r=-n:r=r-n);const a=this.aStartAngle+i*r;let o=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const h=Math.cos(this.aRotation),u=Math.sin(this.aRotation),d=o-this.aX,p=c-this.aY;o=d*h-p*u+this.aX,c=d*u+p*h+this.aY}return s.set(o,c)}copy(i){return super.copy(i),this.aX=i.aX,this.aY=i.aY,this.xRadius=i.xRadius,this.yRadius=i.yRadius,this.aStartAngle=i.aStartAngle,this.aEndAngle=i.aEndAngle,this.aClockwise=i.aClockwise,this.aRotation=i.aRotation,this}toJSON(){const i=super.toJSON();return i.aX=this.aX,i.aY=this.aY,i.xRadius=this.xRadius,i.yRadius=this.yRadius,i.aStartAngle=this.aStartAngle,i.aEndAngle=this.aEndAngle,i.aClockwise=this.aClockwise,i.aRotation=this.aRotation,i}fromJSON(i){return super.fromJSON(i),this.aX=i.aX,this.aY=i.aY,this.xRadius=i.xRadius,this.yRadius=i.yRadius,this.aStartAngle=i.aStartAngle,this.aEndAngle=i.aEndAngle,this.aClockwise=i.aClockwise,this.aRotation=i.aRotation,this}}uh.prototype.isEllipseCurve=!0;class ty extends uh{constructor(i,t,s,n,r,l){super(i,t,s,s,n,r,l);this.type="ArcCurve"}}ty.prototype.isArcCurve=!0;function Ld(){let e=0,i=0,t=0,s=0;function n(r,l,a,o){e=r,i=a,t=-3*r+3*l-2*a-o,s=2*r-2*l+a+o}return{initCatmullRom:function(r,l,a,o,c){n(l,a,c*(a-r),c*(o-l))},initNonuniformCatmullRom:function(r,l,a,o,c,h,u){let d=(l-r)/c-(a-r)/(c+h)+(a-l)/h,p=(a-l)/h-(o-l)/(h+u)+(o-a)/u;d*=h,p*=h,n(l,a,d,p)},calc:function(r){const l=r*r,a=l*r;return e+i*r+t*l+s*a}}}const dh=new H,Fd=new Ld,Nd=new Ld,xd=new Ld;class sy extends Yi{constructor(i=[],t=!1,s="centripetal",n=.5){super();this.type="CatmullRomCurve3",this.points=i,this.closed=t,this.curveType=s,this.tension=n}getPoint(i,t=new H){const s=t,n=this.points,r=n.length,l=(r-(this.closed?0:1))*i;let a=Math.floor(l),o=l-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/r)+1)*r:o===0&&a===r-1&&(a=r-2,o=1);let c,h;this.closed||a>0?c=n[(a-1)%r]:(dh.subVectors(n[0],n[1]).add(n[0]),c=dh);const u=n[a%r],d=n[(a+1)%r];if(this.closed||a+2<r?h=n[(a+2)%r]:(dh.subVectors(n[r-1],n[r-2]).add(n[r-1]),h=dh),this.curveType==="centripetal"||this.curveType==="chordal"){const p=this.curveType==="chordal"?.5:.25;let G=Math.pow(c.distanceToSquared(u),p),g=Math.pow(u.distanceToSquared(d),p),I=Math.pow(d.distanceToSquared(h),p);g<1e-4&&(g=1),G<1e-4&&(G=g),I<1e-4&&(I=g),Fd.initNonuniformCatmullRom(c.x,u.x,d.x,h.x,G,g,I),Nd.initNonuniformCatmullRom(c.y,u.y,d.y,h.y,G,g,I),xd.initNonuniformCatmullRom(c.z,u.z,d.z,h.z,G,g,I)}else this.curveType==="catmullrom"&&(Fd.initCatmullRom(c.x,u.x,d.x,h.x,this.tension),Nd.initCatmullRom(c.y,u.y,d.y,h.y,this.tension),xd.initCatmullRom(c.z,u.z,d.z,h.z,this.tension));return s.set(Fd.calc(o),Nd.calc(o),xd.calc(o)),s}copy(i){super.copy(i),this.points=[];for(let t=0,s=i.points.length;t<s;t++){const n=i.points[t];this.points.push(n.clone())}return this.closed=i.closed,this.curveType=i.curveType,this.tension=i.tension,this}toJSON(){const i=super.toJSON();i.points=[];for(let t=0,s=this.points.length;t<s;t++){const n=this.points[t];i.points.push(n.toArray())}return i.closed=this.closed,i.curveType=this.curveType,i.tension=this.tension,i}fromJSON(i){super.fromJSON(i),this.points=[];for(let t=0,s=i.points.length;t<s;t++){const n=i.points[t];this.points.push(new H().fromArray(n))}return this.closed=i.closed,this.curveType=i.curveType,this.tension=i.tension,this}}sy.prototype.isCatmullRomCurve3=!0;function iy(e,i,t,s,n){const r=(s-i)*.5,l=(n-t)*.5,a=e*e,o=e*a;return(2*t-2*s+r+l)*o+(-3*t+3*s-2*r-l)*a+r*e+t}function EH(e,i){const t=1-e;return t*t*i}function YH(e,i){return 2*(1-e)*e*i}function MH(e,i){return e*e*i}function go(e,i,t,s){return EH(e,i)+YH(e,t)+MH(e,s)}function wH(e,i){const t=1-e;return t*t*t*i}function HH(e,i){const t=1-e;return 3*t*t*e*i}function PH(e,i){return 3*(1-e)*e*e*i}function zH(e,i){return e*e*e*i}function To(e,i,t,s,n){return wH(e,i)+HH(e,t)+PH(e,s)+zH(e,n)}class vd extends Yi{constructor(i=new Xe,t=new Xe,s=new Xe,n=new Xe){super();this.type="CubicBezierCurve",this.v0=i,this.v1=t,this.v2=s,this.v3=n}getPoint(i,t=new Xe){const s=t,n=this.v0,r=this.v1,l=this.v2,a=this.v3;return s.set(To(i,n.x,r.x,l.x,a.x),To(i,n.y,r.y,l.y,a.y)),s}copy(i){return super.copy(i),this.v0.copy(i.v0),this.v1.copy(i.v1),this.v2.copy(i.v2),this.v3.copy(i.v3),this}toJSON(){const i=super.toJSON();return i.v0=this.v0.toArray(),i.v1=this.v1.toArray(),i.v2=this.v2.toArray(),i.v3=this.v3.toArray(),i}fromJSON(i){return super.fromJSON(i),this.v0.fromArray(i.v0),this.v1.fromArray(i.v1),this.v2.fromArray(i.v2),this.v3.fromArray(i.v3),this}}vd.prototype.isCubicBezierCurve=!0;class ny extends Yi{constructor(i=new H,t=new H,s=new H,n=new H){super();this.type="CubicBezierCurve3",this.v0=i,this.v1=t,this.v2=s,this.v3=n}getPoint(i,t=new H){const s=t,n=this.v0,r=this.v1,l=this.v2,a=this.v3;return s.set(To(i,n.x,r.x,l.x,a.x),To(i,n.y,r.y,l.y,a.y),To(i,n.z,r.z,l.z,a.z)),s}copy(i){return super.copy(i),this.v0.copy(i.v0),this.v1.copy(i.v1),this.v2.copy(i.v2),this.v3.copy(i.v3),this}toJSON(){const i=super.toJSON();return i.v0=this.v0.toArray(),i.v1=this.v1.toArray(),i.v2=this.v2.toArray(),i.v3=this.v3.toArray(),i}fromJSON(i){return super.fromJSON(i),this.v0.fromArray(i.v0),this.v1.fromArray(i.v1),this.v2.fromArray(i.v2),this.v3.fromArray(i.v3),this}}ny.prototype.isCubicBezierCurve3=!0;class ph extends Yi{constructor(i=new Xe,t=new Xe){super();this.type="LineCurve",this.v1=i,this.v2=t}getPoint(i,t=new Xe){const s=t;return i===1?s.copy(this.v2):(s.copy(this.v2).sub(this.v1),s.multiplyScalar(i).add(this.v1)),s}getPointAt(i,t){return this.getPoint(i,t)}getTangent(i,t){const s=t||new Xe;return s.copy(this.v2).sub(this.v1).normalize(),s}copy(i){return super.copy(i),this.v1.copy(i.v1),this.v2.copy(i.v2),this}toJSON(){const i=super.toJSON();return i.v1=this.v1.toArray(),i.v2=this.v2.toArray(),i}fromJSON(i){return super.fromJSON(i),this.v1.fromArray(i.v1),this.v2.fromArray(i.v2),this}}ph.prototype.isLineCurve=!0;class UH extends Yi{constructor(i=new H,t=new H){super();this.type="LineCurve3",this.isLineCurve3=!0,this.v1=i,this.v2=t}getPoint(i,t=new H){const s=t;return i===1?s.copy(this.v2):(s.copy(this.v2).sub(this.v1),s.multiplyScalar(i).add(this.v1)),s}getPointAt(i,t){return this.getPoint(i,t)}copy(i){return super.copy(i),this.v1.copy(i.v1),this.v2.copy(i.v2),this}toJSON(){const i=super.toJSON();return i.v1=this.v1.toArray(),i.v2=this.v2.toArray(),i}fromJSON(i){return super.fromJSON(i),this.v1.fromArray(i.v1),this.v2.fromArray(i.v2),this}}class Ed extends Yi{constructor(i=new Xe,t=new Xe,s=new Xe){super();this.type="QuadraticBezierCurve",this.v0=i,this.v1=t,this.v2=s}getPoint(i,t=new Xe){const s=t,n=this.v0,r=this.v1,l=this.v2;return s.set(go(i,n.x,r.x,l.x),go(i,n.y,r.y,l.y)),s}copy(i){return super.copy(i),this.v0.copy(i.v0),this.v1.copy(i.v1),this.v2.copy(i.v2),this}toJSON(){const i=super.toJSON();return i.v0=this.v0.toArray(),i.v1=this.v1.toArray(),i.v2=this.v2.toArray(),i}fromJSON(i){return super.fromJSON(i),this.v0.fromArray(i.v0),this.v1.fromArray(i.v1),this.v2.fromArray(i.v2),this}}Ed.prototype.isQuadraticBezierCurve=!0;class ry extends Yi{constructor(i=new H,t=new H,s=new H){super();this.type="QuadraticBezierCurve3",this.v0=i,this.v1=t,this.v2=s}getPoint(i,t=new H){const s=t,n=this.v0,r=this.v1,l=this.v2;return s.set(go(i,n.x,r.x,l.x),go(i,n.y,r.y,l.y),go(i,n.z,r.z,l.z)),s}copy(i){return super.copy(i),this.v0.copy(i.v0),this.v1.copy(i.v1),this.v2.copy(i.v2),this}toJSON(){const i=super.toJSON();return i.v0=this.v0.toArray(),i.v1=this.v1.toArray(),i.v2=this.v2.toArray(),i}fromJSON(i){return super.fromJSON(i),this.v0.fromArray(i.v0),this.v1.fromArray(i.v1),this.v2.fromArray(i.v2),this}}ry.prototype.isQuadraticBezierCurve3=!0;class Yd extends Yi{constructor(i=[]){super();this.type="SplineCurve",this.points=i}getPoint(i,t=new Xe){const s=t,n=this.points,r=(n.length-1)*i,l=Math.floor(r),a=r-l,o=n[l===0?l:l-1],c=n[l],h=n[l>n.length-2?n.length-1:l+1],u=n[l>n.length-3?n.length-1:l+2];return s.set(iy(a,o.x,c.x,h.x,u.x),iy(a,o.y,c.y,h.y,u.y)),s}copy(i){super.copy(i),this.points=[];for(let t=0,s=i.points.length;t<s;t++){const n=i.points[t];this.points.push(n.clone())}return this}toJSON(){const i=super.toJSON();i.points=[];for(let t=0,s=this.points.length;t<s;t++){const n=this.points[t];i.points.push(n.toArray())}return i}fromJSON(i){super.fromJSON(i),this.points=[];for(let t=0,s=i.points.length;t<s;t++){const n=i.points[t];this.points.push(new Xe().fromArray(n))}return this}}Yd.prototype.isSplineCurve=!0;var ly=Object.freeze({__proto__:null,ArcCurve:ty,CatmullRomCurve3:sy,CubicBezierCurve:vd,CubicBezierCurve3:ny,EllipseCurve:uh,LineCurve:ph,LineCurve3:UH,QuadraticBezierCurve:Ed,QuadraticBezierCurve3:ry,SplineCurve:Yd});class kH extends Yi{constructor(){super();this.type="CurvePath",this.curves=[],this.autoClose=!1}add(i){this.curves.push(i)}closePath(){const i=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);i.equals(t)||this.curves.push(new ph(t,i))}getPoint(i,t){const s=i*this.getLength(),n=this.getCurveLengths();let r=0;for(;r<n.length;){if(n[r]>=s){const l=n[r]-s,a=this.curves[r],o=a.getLength(),c=o===0?0:1-l/o;return a.getPointAt(c,t)}r++}return null}getLength(){const i=this.getCurveLengths();return i[i.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const i=[];let t=0;for(let s=0,n=this.curves.length;s<n;s++)t+=this.curves[s].getLength(),i.push(t);return this.cacheLengths=i,i}getSpacedPoints(i=40){const t=[];for(let s=0;s<=i;s++)t.push(this.getPoint(s/i));return this.autoClose&&t.push(t[0]),t}getPoints(i=12){const t=[];let s;for(let n=0,r=this.curves;n<r.length;n++){const l=r[n],a=l.isEllipseCurve?i*2:l.isLineCurve||l.isLineCurve3?1:l.isSplineCurve?i*l.points.length:i,o=l.getPoints(a);for(let c=0;c<o.length;c++){const h=o[c];s&&s.equals(h)||(t.push(h),s=h)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(i){super.copy(i),this.curves=[];for(let t=0,s=i.curves.length;t<s;t++){const n=i.curves[t];this.curves.push(n.clone())}return this.autoClose=i.autoClose,this}toJSON(){const i=super.toJSON();i.autoClose=this.autoClose,i.curves=[];for(let t=0,s=this.curves.length;t<s;t++){const n=this.curves[t];i.curves.push(n.toJSON())}return i}fromJSON(i){super.fromJSON(i),this.autoClose=i.autoClose,this.curves=[];for(let t=0,s=i.curves.length;t<s;t++){const n=i.curves[t];this.curves.push(new ly[n.type]().fromJSON(n))}return this}}class Md extends kH{constructor(i){super();this.type="Path",this.currentPoint=new Xe,i&&this.setFromPoints(i)}setFromPoints(i){this.moveTo(i[0].x,i[0].y);for(let t=1,s=i.length;t<s;t++)this.lineTo(i[t].x,i[t].y);return this}moveTo(i,t){return this.currentPoint.set(i,t),this}lineTo(i,t){const s=new ph(this.currentPoint.clone(),new Xe(i,t));return this.curves.push(s),this.currentPoint.set(i,t),this}quadraticCurveTo(i,t,s,n){const r=new Ed(this.currentPoint.clone(),new Xe(i,t),new Xe(s,n));return this.curves.push(r),this.currentPoint.set(s,n),this}bezierCurveTo(i,t,s,n,r,l){const a=new vd(this.currentPoint.clone(),new Xe(i,t),new Xe(s,n),new Xe(r,l));return this.curves.push(a),this.currentPoint.set(r,l),this}splineThru(i){const t=[this.currentPoint.clone()].concat(i),s=new Yd(t);return this.curves.push(s),this.currentPoint.copy(i[i.length-1]),this}arc(i,t,s,n,r,l){const a=this.currentPoint.x,o=this.currentPoint.y;return this.absarc(i+a,t+o,s,n,r,l),this}absarc(i,t,s,n,r,l){return this.absellipse(i,t,s,s,n,r,l),this}ellipse(i,t,s,n,r,l,a,o){const c=this.currentPoint.x,h=this.currentPoint.y;return this.absellipse(i+c,t+h,s,n,r,l,a,o),this}absellipse(i,t,s,n,r,l,a,o){const c=new uh(i,t,s,n,r,l,a,o);if(this.curves.length>0){const u=c.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(c);const h=c.getPoint(1);return this.currentPoint.copy(h),this}copy(i){return super.copy(i),this.currentPoint.copy(i.currentPoint),this}toJSON(){const i=super.toJSON();return i.currentPoint=this.currentPoint.toArray(),i}fromJSON(i){return super.fromJSON(i),this.currentPoint.fromArray(i.currentPoint),this}}class wd extends It{constructor(i=1,t=8,s=0,n=Math.PI*2){super();this.type="CircleGeometry",this.parameters={radius:i,segments:t,thetaStart:s,thetaLength:n},t=Math.max(3,t);const r=[],l=[],a=[],o=[],c=new H,h=new Xe;l.push(0,0,0),a.push(0,0,1),o.push(.5,.5);for(let u=0,d=3;u<=t;u++,d+=3){const p=s+u/t*n;c.x=i*Math.cos(p),c.y=i*Math.sin(p),l.push(c.x,c.y,c.z),a.push(0,0,1),h.x=(l[d]/i+1)/2,h.y=(l[d+1]/i+1)/2,o.push(h.x,h.y)}for(let u=1;u<=t;u++)r.push(u,u+1,0);this.setIndex(r),this.setAttribute("position",new ds(l,3)),this.setAttribute("normal",new ds(a,3)),this.setAttribute("uv",new ds(o,2))}static fromJSON(i){return new wd(i.radius,i.segments,i.thetaStart,i.thetaLength)}}new H,new H,new H,new Is;class Io extends Md{constructor(i){super(i);this.uuid=ji(),this.type="Shape",this.holes=[]}getPointsHoles(i){const t=[];for(let s=0,n=this.holes.length;s<n;s++)t[s]=this.holes[s].getPoints(i);return t}extractPoints(i){return{shape:this.getPoints(i),holes:this.getPointsHoles(i)}}copy(i){super.copy(i),this.holes=[];for(let t=0,s=i.holes.length;t<s;t++){const n=i.holes[t];this.holes.push(n.clone())}return this}toJSON(){const i=super.toJSON();i.uuid=this.uuid,i.holes=[];for(let t=0,s=this.holes.length;t<s;t++){const n=this.holes[t];i.holes.push(n.toJSON())}return i}fromJSON(i){super.fromJSON(i),this.uuid=i.uuid,this.holes=[];for(let t=0,s=i.holes.length;t<s;t++){const n=i.holes[t];this.holes.push(new Md().fromJSON(n))}return this}}const DH={triangulate:function(e,i,t=2){const s=i&&i.length,n=s?i[0]*t:e.length;let r=ay(e,0,n,t,!0);const l=[];if(!r||r.next===r.prev)return l;let a,o,c,h,u,d,p;if(s&&(r=BH(e,i,r,t)),e.length>80*t){a=c=e[0],o=h=e[1];for(let G=t;G<n;G+=t)u=e[G],d=e[G+1],u<a&&(a=u),d<o&&(o=d),u>c&&(c=u),d>h&&(h=d);p=Math.max(c-a,h-o),p=p!==0?1/p:0}return Ro(r,l,t,a,o,p),l}};function ay(e,i,t,s,n){let r,l;if(n===rP(e,i,t,s)>0)for(r=i;r<t;r+=s)l=hy(r,e[r],e[r+1],l);else for(r=t-s;r>=i;r-=s)l=hy(r,e[r],e[r+1],l);return l&&mh(l,l.next)&&(Xo(l),l=l.next),l}function Gr(e,i){if(!e)return e;i||(i=e);let t=e,s;do if(s=!1,!t.steiner&&(mh(t,t.next)||Cs(t.prev,t,t.next)===0)){if(Xo(t),t=i=t.prev,t===t.next)break;s=!0}else t=t.next;while(s||t!==i);return i}function Ro(e,i,t,s,n,r,l){if(!e)return;!l&&r&&$H(e,s,n,r);let a=e,o,c;for(;e.prev!==e.next;){if(o=e.prev,c=e.next,r?KH(e,s,n,r):JH(e)){i.push(o.i/t),i.push(e.i/t),i.push(c.i/t),Xo(e),e=c.next,a=c.next;continue}if(e=c,e===a){l?l===1?(e=OH(Gr(e),i,t),Ro(e,i,t,s,n,r,2)):l===2&&AH(e,i,t,s,n,r):Ro(Gr(e),i,t,s,n,r,1);break}}}function JH(e){const i=e.prev,t=e,s=e.next;if(Cs(i,t,s)>=0)return!1;let n=e.next.next;for(;n!==e.prev;){if(sa(i.x,i.y,t.x,t.y,s.x,s.y,n.x,n.y)&&Cs(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function KH(e,i,t,s){const n=e.prev,r=e,l=e.next;if(Cs(n,r,l)>=0)return!1;const a=n.x<r.x?n.x<l.x?n.x:l.x:r.x<l.x?r.x:l.x,o=n.y<r.y?n.y<l.y?n.y:l.y:r.y<l.y?r.y:l.y,c=n.x>r.x?n.x>l.x?n.x:l.x:r.x>l.x?r.x:l.x,h=n.y>r.y?n.y>l.y?n.y:l.y:r.y>l.y?r.y:l.y,u=Hd(a,o,i,t,s),d=Hd(c,h,i,t,s);let p=e.prevZ,G=e.nextZ;for(;p&&p.z>=u&&G&&G.z<=d;){if(p!==e.prev&&p!==e.next&&sa(n.x,n.y,r.x,r.y,l.x,l.y,p.x,p.y)&&Cs(p.prev,p,p.next)>=0||(p=p.prevZ,G!==e.prev&&G!==e.next&&sa(n.x,n.y,r.x,r.y,l.x,l.y,G.x,G.y)&&Cs(G.prev,G,G.next)>=0))return!1;G=G.nextZ}for(;p&&p.z>=u;){if(p!==e.prev&&p!==e.next&&sa(n.x,n.y,r.x,r.y,l.x,l.y,p.x,p.y)&&Cs(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;G&&G.z<=d;){if(G!==e.prev&&G!==e.next&&sa(n.x,n.y,r.x,r.y,l.x,l.y,G.x,G.y)&&Cs(G.prev,G,G.next)>=0)return!1;G=G.nextZ}return!0}function OH(e,i,t){let s=e;do{const n=s.prev,r=s.next.next;!mh(n,r)&&oy(n,s,s.next,r)&&fo(n,r)&&fo(r,n)&&(i.push(n.i/t),i.push(s.i/t),i.push(r.i/t),Xo(s),Xo(s.next),s=e=r),s=s.next}while(s!==e);return Gr(s)}function AH(e,i,t,s,n,r){let l=e;do{let a=l.next.next;for(;a!==l.prev;){if(l.i!==a.i&&sP(l,a)){let o=cy(l,a);l=Gr(l,l.next),o=Gr(o,o.next),Ro(l,i,t,s,n,r),Ro(o,i,t,s,n,r);return}a=a.next}l=l.next}while(l!==e)}function BH(e,i,t,s){const n=[];let r,l,a,o,c;for(r=0,l=i.length;r<l;r++)a=i[r]*s,o=r<l-1?i[r+1]*s:e.length,c=ay(e,a,o,s,!1),c===c.next&&(c.steiner=!0),n.push(tP(c));for(n.sort(jH),r=0;r<n.length;r++)QH(n[r],t),t=Gr(t,t.next);return t}function jH(e,i){return e.x-i.x}function QH(e,i){if(i=_H(e,i),i){const t=cy(i,e);Gr(i,i.next),Gr(t,t.next)}}function _H(e,i){let t=i;const s=e.x,n=e.y;let r=-1/0,l;do{if(n<=t.y&&n>=t.next.y&&t.next.y!==t.y){const d=t.x+(n-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(d<=s&&d>r){if(r=d,d===s){if(n===t.y)return t;if(n===t.next.y)return t.next}l=t.x<t.next.x?t:t.next}}t=t.next}while(t!==i);if(!l)return null;if(s===r)return l;const a=l,o=l.x,c=l.y;let h=1/0,u;t=l;do s>=t.x&&t.x>=o&&s!==t.x&&sa(n<c?s:r,n,o,c,n<c?r:s,n,t.x,t.y)&&(u=Math.abs(n-t.y)/(s-t.x),fo(t,e)&&(u<h||u===h&&(t.x>l.x||t.x===l.x&&qH(l,t)))&&(l=t,h=u)),t=t.next;while(t!==a);return l}function qH(e,i){return Cs(e.prev,e,i.prev)<0&&Cs(i.next,e,e.next)<0}function $H(e,i,t,s){let n=e;do n.z===null&&(n.z=Hd(n.x,n.y,i,t,s)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next;while(n!==e);n.prevZ.nextZ=null,n.prevZ=null,eP(n)}function eP(e){let i,t,s,n,r,l,a,o,c=1;do{for(t=e,e=null,r=null,l=0;t;){for(l++,s=t,a=0,i=0;i<c&&(a++,s=s.nextZ,!!s);i++);for(o=c;a>0||o>0&&s;)a!==0&&(o===0||!s||t.z<=s.z)?(n=t,t=t.nextZ,a--):(n=s,s=s.nextZ,o--),r?r.nextZ=n:e=n,n.prevZ=r,r=n;t=s}r.nextZ=null,c*=2}while(l>1);return e}function Hd(e,i,t,s,n){return e=32767*(e-t)*n,i=32767*(i-s)*n,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,e|i<<1}function tP(e){let i=e,t=e;do(i.x<t.x||i.x===t.x&&i.y<t.y)&&(t=i),i=i.next;while(i!==e);return t}function sa(e,i,t,s,n,r,l,a){return(n-l)*(i-a)-(e-l)*(r-a)>=0&&(e-l)*(s-a)-(t-l)*(i-a)>=0&&(t-l)*(r-a)-(n-l)*(s-a)>=0}function sP(e,i){return e.next.i!==i.i&&e.prev.i!==i.i&&!iP(e,i)&&(fo(e,i)&&fo(i,e)&&nP(e,i)&&(Cs(e.prev,e,i.prev)||Cs(e,i.prev,i))||mh(e,i)&&Cs(e.prev,e,e.next)>0&&Cs(i.prev,i,i.next)>0)}function Cs(e,i,t){return(i.y-e.y)*(t.x-i.x)-(i.x-e.x)*(t.y-i.y)}function mh(e,i){return e.x===i.x&&e.y===i.y}function oy(e,i,t,s){const n=yh(Cs(e,i,t)),r=yh(Cs(e,i,s)),l=yh(Cs(t,s,e)),a=yh(Cs(t,s,i));return!!(n!==r&&l!==a||n===0&&bh(e,t,i)||r===0&&bh(e,s,i)||l===0&&bh(t,e,s)||a===0&&bh(t,i,s))}function bh(e,i,t){return i.x<=Math.max(e.x,t.x)&&i.x>=Math.min(e.x,t.x)&&i.y<=Math.max(e.y,t.y)&&i.y>=Math.min(e.y,t.y)}function yh(e){return e>0?1:e<0?-1:0}function iP(e,i){let t=e;do{if(t.i!==e.i&&t.next.i!==e.i&&t.i!==i.i&&t.next.i!==i.i&&oy(t,t.next,e,i))return!0;t=t.next}while(t!==e);return!1}function fo(e,i){return Cs(e.prev,e,e.next)<0?Cs(e,i,e.next)>=0&&Cs(e,e.prev,i)>=0:Cs(e,i,e.prev)<0||Cs(e,e.next,i)<0}function nP(e,i){let t=e,s=!1;const n=(e.x+i.x)/2,r=(e.y+i.y)/2;do t.y>r!=t.next.y>r&&t.next.y!==t.y&&n<(t.next.x-t.x)*(r-t.y)/(t.next.y-t.y)+t.x&&(s=!s),t=t.next;while(t!==e);return s}function cy(e,i){const t=new Pd(e.i,e.x,e.y),s=new Pd(i.i,i.x,i.y),n=e.next,r=i.prev;return e.next=i,i.prev=e,t.next=n,n.prev=t,s.next=t,t.prev=s,r.next=s,s.prev=r,s}function hy(e,i,t,s){const n=new Pd(e,i,t);return s?(n.next=s.next,n.prev=s,s.next.prev=n,s.next=n):(n.prev=n,n.next=n),n}function Xo(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Pd(e,i,t){this.i=e,this.x=i,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function rP(e,i,t,s){let n=0;for(let r=i,l=t-s;r<t;r+=s)n+=(e[l]-e[r])*(e[r+1]+e[l+1]),l=r;return n}class gr{static area(i){const t=i.length;let s=0;for(let n=t-1,r=0;r<t;n=r++)s+=i[n].x*i[r].y-i[r].x*i[n].y;return s*.5}static isClockWise(i){return gr.area(i)<0}static triangulateShape(i,t){const s=[],n=[],r=[];uy(i),dy(s,i);let l=i.length;t.forEach(uy);for(let o=0;o<t.length;o++)n.push(l),l+=t[o].length,dy(s,t[o]);const a=DH.triangulate(s,n);for(let o=0;o<a.length;o+=3)r.push(a.slice(o,o+3));return r}}function uy(e){const i=e.length;i>2&&e[i-1].equals(e[0])&&e.pop()}function dy(e,i){for(let t=0;t<i.length;t++)e.push(i[t].x),e.push(i[t].y)}class ia extends It{constructor(i=new Io([new Xe(.5,.5),new Xe(-.5,.5),new Xe(-.5,-.5),new Xe(.5,-.5)]),t={}){super();this.type="ExtrudeGeometry",this.parameters={shapes:i,options:t},i=Array.isArray(i)?i:[i];const s=this,n=[],r=[];for(let a=0,o=i.length;a<o;a++){const c=i[a];l(c)}this.setAttribute("position",new ds(n,3)),this.setAttribute("uv",new ds(r,2)),this.computeVertexNormals();function l(a){const o=[],c=t.curveSegments!==void 0?t.curveSegments:12,h=t.steps!==void 0?t.steps:1;let u=t.depth!==void 0?t.depth:1,d=t.bevelEnabled!==void 0?t.bevelEnabled:!0,p=t.bevelThickness!==void 0?t.bevelThickness:.2,G=t.bevelSize!==void 0?t.bevelSize:p-.1,g=t.bevelOffset!==void 0?t.bevelOffset:0,I=t.bevelSegments!==void 0?t.bevelSegments:3;const X=t.extrudePath,S=t.UVGenerator!==void 0?t.UVGenerator:lP;t.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),u=t.amount);let x,v=!1,L,M,E,K;X&&(x=X.getSpacedPoints(h),v=!0,d=!1,L=X.computeFrenetFrames(h,!1),M=new H,E=new H,K=new H),d||(I=0,p=0,G=0,g=0);const q=a.extractPoints(c);let Q=q.shape;const w=q.holes;if(!gr.isClockWise(Q)){Q=Q.reverse();for(let be=0,ge=w.length;be<ge;be++){const ae=w[be];gr.isClockWise(ae)&&(w[be]=ae.reverse())}}const pe=gr.triangulateShape(Q,w),se=Q;for(let be=0,ge=w.length;be<ge;be++){const ae=w[be];Q=Q.concat(ae)}function oe(be,ge,ae){return ge||console.error("THREE.ExtrudeGeometry: vec does not exist"),ge.clone().multiplyScalar(ae).add(be)}const le=Q.length,re=pe.length;function ne(be,ge,ae){let je,Oe,Wt;const Zt=be.x-ge.x,at=be.y-ge.y,cs=ae.x-be.x,_t=ae.y-be.y,A=Zt*Zt+at*at,D=Zt*_t-at*cs;if(Math.abs(D)>Number.EPSILON){const he=Math.sqrt(A),Fe=Math.sqrt(cs*cs+_t*_t),Je=ge.x-at/he,$e=ge.y+Zt/he,pt=ae.x-_t/Fe,ye=ae.y+cs/Fe,Ct=((pt-Je)*_t-(ye-$e)*cs)/(Zt*_t-at*cs);je=Je+Zt*Ct-be.x,Oe=$e+at*Ct-be.y;const Ft=je*je+Oe*Oe;if(Ft<=2)return new Xe(je,Oe);Wt=Math.sqrt(Ft/2)}else{let he=!1;Zt>Number.EPSILON?cs>Number.EPSILON&&(he=!0):Zt<-Number.EPSILON?cs<-Number.EPSILON&&(he=!0):Math.sign(at)===Math.sign(_t)&&(he=!0),he?(je=-at,Oe=Zt,Wt=Math.sqrt(A)):(je=Zt,Oe=at,Wt=Math.sqrt(A/2))}return new Xe(je/Wt,Oe/Wt)}const Ze=[];for(let be=0,ge=se.length,ae=ge-1,je=be+1;be<ge;be++,ae++,je++)ae===ge&&(ae=0),je===ge&&(je=0),Ze[be]=ne(se[be],se[ae],se[je]);const fe=[];let ve,Ce=Ze.concat();for(let be=0,ge=w.length;be<ge;be++){const ae=w[be];ve=[];for(let je=0,Oe=ae.length,Wt=Oe-1,Zt=je+1;je<Oe;je++,Wt++,Zt++)Wt===Oe&&(Wt=0),Zt===Oe&&(Zt=0),ve[je]=ne(ae[je],ae[Wt],ae[Zt]);fe.push(ve),Ce=Ce.concat(ve)}for(let be=0;be<I;be++){const ge=be/I,ae=p*Math.cos(ge*Math.PI/2),je=G*Math.sin(ge*Math.PI/2)+g;for(let Oe=0,Wt=se.length;Oe<Wt;Oe++){const Zt=oe(se[Oe],Ze[Oe],je);Ot(Zt.x,Zt.y,-ae)}for(let Oe=0,Wt=w.length;Oe<Wt;Oe++){const Zt=w[Oe];ve=fe[Oe];for(let at=0,cs=Zt.length;at<cs;at++){const _t=oe(Zt[at],ve[at],je);Ot(_t.x,_t.y,-ae)}}}const ze=G+g;for(let be=0;be<le;be++){const ge=d?oe(Q[be],Ce[be],ze):Q[be];v?(E.copy(L.normals[0]).multiplyScalar(ge.x),M.copy(L.binormals[0]).multiplyScalar(ge.y),K.copy(x[0]).add(E).add(M),Ot(K.x,K.y,K.z)):Ot(ge.x,ge.y,0)}for(let be=1;be<=h;be++)for(let ge=0;ge<le;ge++){const ae=d?oe(Q[ge],Ce[ge],ze):Q[ge];v?(E.copy(L.normals[be]).multiplyScalar(ae.x),M.copy(L.binormals[be]).multiplyScalar(ae.y),K.copy(x[be]).add(E).add(M),Ot(K.x,K.y,K.z)):Ot(ae.x,ae.y,u/h*be)}for(let be=I-1;be>=0;be--){const ge=be/I,ae=p*Math.cos(ge*Math.PI/2),je=G*Math.sin(ge*Math.PI/2)+g;for(let Oe=0,Wt=se.length;Oe<Wt;Oe++){const Zt=oe(se[Oe],Ze[Oe],je);Ot(Zt.x,Zt.y,u+ae)}for(let Oe=0,Wt=w.length;Oe<Wt;Oe++){const Zt=w[Oe];ve=fe[Oe];for(let at=0,cs=Zt.length;at<cs;at++){const _t=oe(Zt[at],ve[at],je);v?Ot(_t.x,_t.y+x[h-1].y,x[h-1].x+ae):Ot(_t.x,_t.y,u+ae)}}}vt(),gt();function vt(){const be=n.length/3;if(d){let ge=0,ae=le*ge;for(let je=0;je<re;je++){const Oe=pe[je];St(Oe[2]+ae,Oe[1]+ae,Oe[0]+ae)}ge=h+I*2,ae=le*ge;for(let je=0;je<re;je++){const Oe=pe[je];St(Oe[0]+ae,Oe[1]+ae,Oe[2]+ae)}}else{for(let ge=0;ge<re;ge++){const ae=pe[ge];St(ae[2],ae[1],ae[0])}for(let ge=0;ge<re;ge++){const ae=pe[ge];St(ae[0]+le*h,ae[1]+le*h,ae[2]+le*h)}}s.addGroup(be,n.length/3-be,0)}function gt(){const be=n.length/3;let ge=0;Ge(se,ge),ge+=se.length;for(let ae=0,je=w.length;ae<je;ae++){const Oe=w[ae];Ge(Oe,ge),ge+=Oe.length}s.addGroup(be,n.length/3-be,1)}function Ge(be,ge){let ae=be.length;for(;--ae>=0;){const je=ae;let Oe=ae-1;Oe<0&&(Oe=be.length-1);for(let Wt=0,Zt=h+I*2;Wt<Zt;Wt++){const at=le*Wt,cs=le*(Wt+1),_t=ge+je+at,A=ge+Oe+at,D=ge+Oe+cs,he=ge+je+cs;yt(_t,A,D,he)}}}function Ot(be,ge,ae){o.push(be),o.push(ge),o.push(ae)}function St(be,ge,ae){We(be),We(ge),We(ae);const je=n.length/3,Oe=S.generateTopUV(s,n,je-3,je-2,je-1);ct(Oe[0]),ct(Oe[1]),ct(Oe[2])}function yt(be,ge,ae,je){We(be),We(ge),We(je),We(ge),We(ae),We(je);const Oe=n.length/3,Wt=S.generateSideWallUV(s,n,Oe-6,Oe-3,Oe-2,Oe-1);ct(Wt[0]),ct(Wt[1]),ct(Wt[3]),ct(Wt[1]),ct(Wt[2]),ct(Wt[3])}function We(be){n.push(o[be*3+0]),n.push(o[be*3+1]),n.push(o[be*3+2])}function ct(be){r.push(be.x),r.push(be.y)}}}toJSON(){const i=super.toJSON(),t=this.parameters.shapes,s=this.parameters.options;return aP(t,s,i)}static fromJSON(i,t){const s=[];for(let r=0,l=i.shapes.length;r<l;r++){const a=t[i.shapes[r]];s.push(a)}const n=i.options.extrudePath;return n!==void 0&&(i.options.extrudePath=new ly[n.type]().fromJSON(n)),new ia(s,i.options)}}const lP={generateTopUV:function(e,i,t,s,n){const r=i[t*3],l=i[t*3+1],a=i[s*3],o=i[s*3+1],c=i[n*3],h=i[n*3+1];return[new Xe(r,l),new Xe(a,o),new Xe(c,h)]},generateSideWallUV:function(e,i,t,s,n,r){const l=i[t*3],a=i[t*3+1],o=i[t*3+2],c=i[s*3],h=i[s*3+1],u=i[s*3+2],d=i[n*3],p=i[n*3+1],G=i[n*3+2],g=i[r*3],I=i[r*3+1],X=i[r*3+2];return Math.abs(a-h)<Math.abs(l-c)?[new Xe(l,1-o),new Xe(c,1-u),new Xe(d,1-G),new Xe(g,1-X)]:[new Xe(a,1-o),new Xe(h,1-u),new Xe(p,1-G),new Xe(I,1-X)]}};function aP(e,i,t){if(t.shapes=[],Array.isArray(e))for(let s=0,n=e.length;s<n;s++){const r=e[s];t.shapes.push(r.uuid)}else t.shapes.push(e.uuid);return i.extrudePath!==void 0&&(t.options.extrudePath=i.extrudePath.toJSON()),t}class zd extends It{constructor(i=.5,t=1,s=8,n=1,r=0,l=Math.PI*2){super();this.type="RingGeometry",this.parameters={innerRadius:i,outerRadius:t,thetaSegments:s,phiSegments:n,thetaStart:r,thetaLength:l},s=Math.max(3,s),n=Math.max(1,n);const a=[],o=[],c=[],h=[];let u=i;const d=(t-i)/n,p=new H,G=new Xe;for(let g=0;g<=n;g++){for(let I=0;I<=s;I++){const X=r+I/s*l;p.x=u*Math.cos(X),p.y=u*Math.sin(X),o.push(p.x,p.y,p.z),c.push(0,0,1),G.x=(p.x/t+1)/2,G.y=(p.y/t+1)/2,h.push(G.x,G.y)}u+=d}for(let g=0;g<n;g++){const I=g*(s+1);for(let X=0;X<s;X++){const S=X+I,x=S,v=S+s+1,L=S+s+2,M=S+1;a.push(x,v,M),a.push(v,L,M)}}this.setIndex(a),this.setAttribute("position",new ds(o,3)),this.setAttribute("normal",new ds(c,3)),this.setAttribute("uv",new ds(h,2))}static fromJSON(i){return new zd(i.innerRadius,i.outerRadius,i.thetaSegments,i.phiSegments,i.thetaStart,i.thetaLength)}}class Ud extends It{constructor(i=new Io([new Xe(0,.5),new Xe(-.5,-.5),new Xe(.5,-.5)]),t=12){super();this.type="ShapeGeometry",this.parameters={shapes:i,curveSegments:t};const s=[],n=[],r=[],l=[];let a=0,o=0;if(Array.isArray(i)===!1)c(i);else for(let h=0;h<i.length;h++)c(i[h]),this.addGroup(a,o,h),a+=o,o=0;this.setIndex(s),this.setAttribute("position",new ds(n,3)),this.setAttribute("normal",new ds(r,3)),this.setAttribute("uv",new ds(l,2));function c(h){const u=n.length/3,d=h.extractPoints(t);let p=d.shape;const G=d.holes;gr.isClockWise(p)===!1&&(p=p.reverse());for(let I=0,X=G.length;I<X;I++){const S=G[I];gr.isClockWise(S)===!0&&(G[I]=S.reverse())}const g=gr.triangulateShape(p,G);for(let I=0,X=G.length;I<X;I++){const S=G[I];p=p.concat(S)}for(let I=0,X=p.length;I<X;I++){const S=p[I];n.push(S.x,S.y,0),r.push(0,0,1),l.push(S.x,S.y)}for(let I=0,X=g.length;I<X;I++){const S=g[I],x=S[0]+u,v=S[1]+u,L=S[2]+u;s.push(x,v,L),o+=3}}}toJSON(){const i=super.toJSON(),t=this.parameters.shapes;return oP(t,i)}static fromJSON(i,t){const s=[];for(let n=0,r=i.shapes.length;n<r;n++){const l=t[i.shapes[n]];s.push(l)}return new Ud(s,i.curveSegments)}}function oP(e,i){if(i.shapes=[],Array.isArray(e))for(let t=0,s=e.length;t<s;t++){const n=e[t];i.shapes.push(n.uuid)}else i.shapes.push(e.uuid);return i}class Zh extends It{constructor(i=1,t=32,s=16,n=0,r=Math.PI*2,l=0,a=Math.PI){super();this.type="SphereGeometry",this.parameters={radius:i,widthSegments:t,heightSegments:s,phiStart:n,phiLength:r,thetaStart:l,thetaLength:a},t=Math.max(3,Math.floor(t)),s=Math.max(2,Math.floor(s));const o=Math.min(l+a,Math.PI);let c=0;const h=[],u=new H,d=new H,p=[],G=[],g=[],I=[];for(let X=0;X<=s;X++){const S=[],x=X/s;let v=0;X==0&&l==0?v=.5/t:X==s&&o==Math.PI&&(v=-.5/t);for(let L=0;L<=t;L++){const M=L/t;u.x=-i*Math.cos(n+M*r)*Math.sin(l+x*a),u.y=i*Math.cos(l+x*a),u.z=i*Math.sin(n+M*r)*Math.sin(l+x*a),G.push(u.x,u.y,u.z),d.copy(u).normalize(),g.push(d.x,d.y,d.z),I.push(M+v,1-x),S.push(c++)}h.push(S)}for(let X=0;X<s;X++)for(let S=0;S<t;S++){const x=h[X][S+1],v=h[X][S],L=h[X+1][S],M=h[X+1][S+1];(X!==0||l>0)&&p.push(x,v,M),(X!==s-1||o<Math.PI)&&p.push(v,L,M)}this.setIndex(p),this.setAttribute("position",new ds(G,3)),this.setAttribute("normal",new ds(g,3)),this.setAttribute("uv",new ds(I,2))}static fromJSON(i){return new Zh(i.radius,i.widthSegments,i.heightSegments,i.phiStart,i.phiLength,i.thetaStart,i.thetaLength)}}class py extends Ps{constructor(i){super();this.type="ShadowMaterial",this.color=new ie(0),this.transparent=!0,this.setValues(i)}copy(i){return super.copy(i),this.color.copy(i.color),this}}py.prototype.isShadowMaterial=!0;class kd extends li{constructor(i){super(i);this.type="RawShaderMaterial"}}kd.prototype.isRawShaderMaterial=!0;class Dd extends Ps{constructor(i){super();this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ie(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ie(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vl,this.normalScale=new Xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(i)}copy(i){return super.copy(i),this.defines={STANDARD:""},this.color.copy(i.color),this.roughness=i.roughness,this.metalness=i.metalness,this.map=i.map,this.lightMap=i.lightMap,this.lightMapIntensity=i.lightMapIntensity,this.aoMap=i.aoMap,this.aoMapIntensity=i.aoMapIntensity,this.emissive.copy(i.emissive),this.emissiveMap=i.emissiveMap,this.emissiveIntensity=i.emissiveIntensity,this.bumpMap=i.bumpMap,this.bumpScale=i.bumpScale,this.normalMap=i.normalMap,this.normalMapType=i.normalMapType,this.normalScale.copy(i.normalScale),this.displacementMap=i.displacementMap,this.displacementScale=i.displacementScale,this.displacementBias=i.displacementBias,this.roughnessMap=i.roughnessMap,this.metalnessMap=i.metalnessMap,this.alphaMap=i.alphaMap,this.envMap=i.envMap,this.envMapIntensity=i.envMapIntensity,this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this.wireframeLinecap=i.wireframeLinecap,this.wireframeLinejoin=i.wireframeLinejoin,this.flatShading=i.flatShading,this}}Dd.prototype.isMeshStandardMaterial=!0;class my extends Dd{constructor(i){super();this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Xe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return ws(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.sheenColor=new ie(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new ie(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ie(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(i)}get sheen(){return this._sheen}set sheen(i){this._sheen>0!=i>0&&this.version++,this._sheen=i}get clearcoat(){return this._clearcoat}set clearcoat(i){this._clearcoat>0!=i>0&&this.version++,this._clearcoat=i}get transmission(){return this._transmission}set transmission(i){this._transmission>0!=i>0&&this.version++,this._transmission=i}copy(i){return super.copy(i),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=i.clearcoat,this.clearcoatMap=i.clearcoatMap,this.clearcoatRoughness=i.clearcoatRoughness,this.clearcoatRoughnessMap=i.clearcoatRoughnessMap,this.clearcoatNormalMap=i.clearcoatNormalMap,this.clearcoatNormalScale.copy(i.clearcoatNormalScale),this.ior=i.ior,this.sheen=i.sheen,this.sheenColor.copy(i.sheenColor),this.sheenColorMap=i.sheenColorMap,this.sheenRoughness=i.sheenRoughness,this.sheenRoughnessMap=i.sheenRoughnessMap,this.transmission=i.transmission,this.transmissionMap=i.transmissionMap,this.thickness=i.thickness,this.thicknessMap=i.thicknessMap,this.attenuationDistance=i.attenuationDistance,this.attenuationColor.copy(i.attenuationColor),this.specularIntensity=i.specularIntensity,this.specularIntensityMap=i.specularIntensityMap,this.specularColor.copy(i.specularColor),this.specularColorMap=i.specularColorMap,this}}my.prototype.isMeshPhysicalMaterial=!0;class Jd extends Ps{constructor(i){super();this.type="MeshPhongMaterial",this.color=new ie(16777215),this.specular=new ie(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ie(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vl,this.normalScale=new Xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Rc,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(i)}copy(i){return super.copy(i),this.color.copy(i.color),this.specular.copy(i.specular),this.shininess=i.shininess,this.map=i.map,this.lightMap=i.lightMap,this.lightMapIntensity=i.lightMapIntensity,this.aoMap=i.aoMap,this.aoMapIntensity=i.aoMapIntensity,this.emissive.copy(i.emissive),this.emissiveMap=i.emissiveMap,this.emissiveIntensity=i.emissiveIntensity,this.bumpMap=i.bumpMap,this.bumpScale=i.bumpScale,this.normalMap=i.normalMap,this.normalMapType=i.normalMapType,this.normalScale.copy(i.normalScale),this.displacementMap=i.displacementMap,this.displacementScale=i.displacementScale,this.displacementBias=i.displacementBias,this.specularMap=i.specularMap,this.alphaMap=i.alphaMap,this.envMap=i.envMap,this.combine=i.combine,this.reflectivity=i.reflectivity,this.refractionRatio=i.refractionRatio,this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this.wireframeLinecap=i.wireframeLinecap,this.wireframeLinejoin=i.wireframeLinejoin,this.flatShading=i.flatShading,this}}Jd.prototype.isMeshPhongMaterial=!0;class by extends Ps{constructor(i){super();this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ie(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ie(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vl,this.normalScale=new Xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(i)}copy(i){return super.copy(i),this.color.copy(i.color),this.map=i.map,this.gradientMap=i.gradientMap,this.lightMap=i.lightMap,this.lightMapIntensity=i.lightMapIntensity,this.aoMap=i.aoMap,this.aoMapIntensity=i.aoMapIntensity,this.emissive.copy(i.emissive),this.emissiveMap=i.emissiveMap,this.emissiveIntensity=i.emissiveIntensity,this.bumpMap=i.bumpMap,this.bumpScale=i.bumpScale,this.normalMap=i.normalMap,this.normalMapType=i.normalMapType,this.normalScale.copy(i.normalScale),this.displacementMap=i.displacementMap,this.displacementScale=i.displacementScale,this.displacementBias=i.displacementBias,this.alphaMap=i.alphaMap,this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this.wireframeLinecap=i.wireframeLinecap,this.wireframeLinejoin=i.wireframeLinejoin,this}}by.prototype.isMeshToonMaterial=!0;class yy extends Ps{constructor(i){super();this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vl,this.normalScale=new Xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(i)}copy(i){return super.copy(i),this.bumpMap=i.bumpMap,this.bumpScale=i.bumpScale,this.normalMap=i.normalMap,this.normalMapType=i.normalMapType,this.normalScale.copy(i.normalScale),this.displacementMap=i.displacementMap,this.displacementScale=i.displacementScale,this.displacementBias=i.displacementBias,this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this.flatShading=i.flatShading,this}}yy.prototype.isMeshNormalMaterial=!0;class Gh extends Ps{constructor(i){super();this.type="MeshLambertMaterial",this.color=new ie(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ie(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Rc,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(i)}copy(i){return super.copy(i),this.color.copy(i.color),this.map=i.map,this.lightMap=i.lightMap,this.lightMapIntensity=i.lightMapIntensity,this.aoMap=i.aoMap,this.aoMapIntensity=i.aoMapIntensity,this.emissive.copy(i.emissive),this.emissiveMap=i.emissiveMap,this.emissiveIntensity=i.emissiveIntensity,this.specularMap=i.specularMap,this.alphaMap=i.alphaMap,this.envMap=i.envMap,this.combine=i.combine,this.reflectivity=i.reflectivity,this.refractionRatio=i.refractionRatio,this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this.wireframeLinecap=i.wireframeLinecap,this.wireframeLinejoin=i.wireframeLinejoin,this}}Gh.prototype.isMeshLambertMaterial=!0;class Zy extends Ps{constructor(i){super();this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ie(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vl,this.normalScale=new Xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(i)}copy(i){return super.copy(i),this.defines={MATCAP:""},this.color.copy(i.color),this.matcap=i.matcap,this.map=i.map,this.bumpMap=i.bumpMap,this.bumpScale=i.bumpScale,this.normalMap=i.normalMap,this.normalMapType=i.normalMapType,this.normalScale.copy(i.normalScale),this.displacementMap=i.displacementMap,this.displacementScale=i.displacementScale,this.displacementBias=i.displacementBias,this.alphaMap=i.alphaMap,this.flatShading=i.flatShading,this}}Zy.prototype.isMeshMatcapMaterial=!0;class Kd extends yn{constructor(i){super();this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(i)}copy(i){return super.copy(i),this.scale=i.scale,this.dashSize=i.dashSize,this.gapSize=i.gapSize,this}}Kd.prototype.isLineDashedMaterial=!0;const cP={ShadowMaterial:py,SpriteMaterial:sh,RawShaderMaterial:kd,ShaderMaterial:li,PointsMaterial:Sd,MeshPhysicalMaterial:my,MeshStandardMaterial:Dd,MeshPhongMaterial:Jd,MeshToonMaterial:by,MeshNormalMaterial:yy,MeshLambertMaterial:Gh,MeshDepthMaterial:Gd,MeshDistanceMaterial:gd,MeshBasicMaterial:pr,MeshMatcapMaterial:Zy,LineDashedMaterial:Kd,LineBasicMaterial:yn,Material:Ps};Ps.fromType=function(e){return new cP[e]};const Rs={arraySlice:function(e,i,t){return Rs.isTypedArray(e)?new e.constructor(e.subarray(i,t!==void 0?t:e.length)):e.slice(i,t)},convertArray:function(e,i,t){return!e||!t&&e.constructor===i?e:typeof i.BYTES_PER_ELEMENT=="number"?new i(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){function i(n,r){return e[n]-e[r]}const t=e.length,s=new Array(t);for(let n=0;n!==t;++n)s[n]=n;return s.sort(i),s},sortedArray:function(e,i,t){const s=e.length,n=new e.constructor(s);for(let r=0,l=0;l!==s;++r){const a=t[r]*i;for(let o=0;o!==i;++o)n[l++]=e[a+o]}return n},flattenJSON:function(e,i,t,s){let n=1,r=e[0];for(;r!==void 0&&r[s]===void 0;)r=e[n++];if(r===void 0)return;let l=r[s];if(l!==void 0)if(Array.isArray(l))do l=r[s],l!==void 0&&(i.push(r.time),t.push.apply(t,l)),r=e[n++];while(r!==void 0);else if(l.toArray!==void 0)do l=r[s],l!==void 0&&(i.push(r.time),l.toArray(t,t.length)),r=e[n++];while(r!==void 0);else do l=r[s],l!==void 0&&(i.push(r.time),t.push(l)),r=e[n++];while(r!==void 0)},subclip:function(e,i,t,s,n=30){const r=e.clone();r.name=i;const l=[];for(let o=0;o<r.tracks.length;++o){const c=r.tracks[o],h=c.getValueSize(),u=[],d=[];for(let p=0;p<c.times.length;++p){const G=c.times[p]*n;if(!(G<t||G>=s)){u.push(c.times[p]);for(let g=0;g<h;++g)d.push(c.values[p*h+g])}}u.length!==0&&(c.times=Rs.convertArray(u,c.times.constructor),c.values=Rs.convertArray(d,c.values.constructor),l.push(c))}r.tracks=l;let a=1/0;for(let o=0;o<r.tracks.length;++o)a>r.tracks[o].times[0]&&(a=r.tracks[o].times[0]);for(let o=0;o<r.tracks.length;++o)r.tracks[o].shift(-1*a);return r.resetDuration(),r},makeClipAdditive:function(e,i=0,t=e,s=30){s<=0&&(s=30);const n=t.tracks.length,r=i/s;for(let l=0;l<n;++l){const a=t.tracks[l],o=a.ValueTypeName;if(o==="bool"||o==="string")continue;const c=e.tracks.find(function(X){return X.name===a.name&&X.ValueTypeName===o});if(c===void 0)continue;let h=0;const u=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=u/3);let d=0;const p=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=p/3);const G=a.times.length-1;let g;if(r<=a.times[0]){const X=h,S=u-h;g=Rs.arraySlice(a.values,X,S)}else if(r>=a.times[G]){const X=G*u+h,S=X+u-h;g=Rs.arraySlice(a.values,X,S)}else{const X=a.createInterpolant(),S=h,x=u-h;X.evaluate(r),g=Rs.arraySlice(X.resultBuffer,S,x)}o==="quaternion"&&new Ls().fromArray(g).normalize().conjugate().toArray(g);const I=c.times.length;for(let X=0;X<I;++X){const S=X*p+d;if(o==="quaternion")Ls.multiplyQuaternionsFlat(c.values,S,g,0,c.values,S);else{const x=p-d*2;for(let v=0;v<x;++v)c.values[S+v]-=g[v]}}}return e.blendMode=wb,e}};class Tr{constructor(i,t,s,n){this.parameterPositions=i,this._cachedIndex=0,this.resultBuffer=n!==void 0?n:new t.constructor(s),this.sampleValues=t,this.valueSize=s,this.settings=null,this.DefaultSettings_={}}evaluate(i){const t=this.parameterPositions;let s=this._cachedIndex,n=t[s],r=t[s-1];e:{t:{let l;s:{i:if(!(i<n)){for(let a=s+2;;){if(n===void 0){if(i<r)break i;return s=t.length,this._cachedIndex=s,this.afterEnd_(s-1,i,r)}if(s===a)break;if(r=n,n=t[++s],i<n)break t}l=t.length;break s}if(!(i>=r)){const a=t[1];i<a&&(s=2,r=a);for(let o=s-2;;){if(r===void 0)return this._cachedIndex=0,this.beforeStart_(0,i,n);if(s===o)break;if(n=r,r=t[--s-1],i>=r)break t}l=s,s=0;break s}break e}for(;s<l;){const a=s+l>>>1;i<t[a]?l=a:s=a+1}if(n=t[s],r=t[s-1],r===void 0)return this._cachedIndex=0,this.beforeStart_(0,i,n);if(n===void 0)return s=t.length,this._cachedIndex=s,this.afterEnd_(s-1,r,i)}this._cachedIndex=s,this.intervalChanged_(s,r,n)}return this.interpolate_(s,r,i,n)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(i){const t=this.resultBuffer,s=this.sampleValues,n=this.valueSize,r=i*n;for(let l=0;l!==n;++l)t[l]=s[r+l];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}Tr.prototype.beforeStart_=Tr.prototype.copySampleValue_,Tr.prototype.afterEnd_=Tr.prototype.copySampleValue_;class hP extends Tr{constructor(i,t,s,n){super(i,t,s,n);this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Nl,endingEnd:Nl}}intervalChanged_(i,t,s){const n=this.parameterPositions;let r=i-2,l=i+1,a=n[r],o=n[l];if(a===void 0)switch(this.getSettings_().endingStart){case xl:r=i,a=2*t-s;break;case Cc:r=n.length-2,a=t+n[r]-n[r+1];break;default:r=i,a=s}if(o===void 0)switch(this.getSettings_().endingEnd){case xl:l=i,o=2*s-t;break;case Cc:l=1,o=s+n[1]-n[0];break;default:l=i-1,o=t}const c=(s-t)*.5,h=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(o-s),this._offsetPrev=r*h,this._offsetNext=l*h}interpolate_(i,t,s,n){const r=this.resultBuffer,l=this.sampleValues,a=this.valueSize,o=i*a,c=o-a,h=this._offsetPrev,u=this._offsetNext,d=this._weightPrev,p=this._weightNext,G=(s-t)/(n-t),g=G*G,I=g*G,X=-d*I+2*d*g-d*G,S=(1+d)*I+(-1.5-2*d)*g+(-.5+d)*G+1,x=(-1-p)*I+(1.5+p)*g+.5*G,v=p*I-p*g;for(let L=0;L!==a;++L)r[L]=X*l[h+L]+S*l[c+L]+x*l[o+L]+v*l[u+L];return r}}class Gy extends Tr{constructor(i,t,s,n){super(i,t,s,n)}interpolate_(i,t,s,n){const r=this.resultBuffer,l=this.sampleValues,a=this.valueSize,o=i*a,c=o-a,h=(s-t)/(n-t),u=1-h;for(let d=0;d!==a;++d)r[d]=l[c+d]*u+l[o+d]*h;return r}}class uP extends Tr{constructor(i,t,s,n){super(i,t,s,n)}interpolate_(i){return this.copySampleValue_(i-1)}}class Zn{constructor(i,t,s,n){if(i===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+i);this.name=i,this.times=Rs.convertArray(t,this.TimeBufferType),this.values=Rs.convertArray(s,this.ValueBufferType),this.setInterpolation(n||this.DefaultInterpolation)}static toJSON(i){const t=i.constructor;let s;if(t.toJSON!==this.toJSON)s=t.toJSON(i);else{s={name:i.name,times:Rs.convertArray(i.times,Array),values:Rs.convertArray(i.values,Array)};const n=i.getInterpolation();n!==i.DefaultInterpolation&&(s.interpolation=n)}return s.type=i.ValueTypeName,s}InterpolantFactoryMethodDiscrete(i){return new uP(this.times,this.values,this.getValueSize(),i)}InterpolantFactoryMethodLinear(i){return new Gy(this.times,this.values,this.getValueSize(),i)}InterpolantFactoryMethodSmooth(i){return new hP(this.times,this.values,this.getValueSize(),i)}setInterpolation(i){let t;switch(i){case Wc:t=this.InterpolantFactoryMethodDiscrete;break;case Sc:t=this.InterpolantFactoryMethodLinear;break;case Mu:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const s="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(i!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(s);return console.warn("THREE.KeyframeTrack:",s),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Wc;case this.InterpolantFactoryMethodLinear:return Sc;case this.InterpolantFactoryMethodSmooth:return Mu}}getValueSize(){return this.values.length/this.times.length}shift(i){if(i!==0){const t=this.times;for(let s=0,n=t.length;s!==n;++s)t[s]+=i}return this}scale(i){if(i!==1){const t=this.times;for(let s=0,n=t.length;s!==n;++s)t[s]*=i}return this}trim(i,t){const s=this.times,n=s.length;let r=0,l=n-1;for(;r!==n&&s[r]<i;)++r;for(;l!==-1&&s[l]>t;)--l;if(++l,r!==0||l!==n){r>=l&&(l=Math.max(l,1),r=l-1);const a=this.getValueSize();this.times=Rs.arraySlice(s,r,l),this.values=Rs.arraySlice(this.values,r*a,l*a)}return this}validate(){let i=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),i=!1);const s=this.times,n=this.values,r=s.length;r===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),i=!1);let l=null;for(let a=0;a!==r;a++){const o=s[a];if(typeof o=="number"&&isNaN(o)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,o),i=!1;break}if(l!==null&&l>o){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,o,l),i=!1;break}l=o}if(n!==void 0&&Rs.isTypedArray(n))for(let a=0,o=n.length;a!==o;++a){const c=n[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),i=!1;break}}return i}optimize(){const i=Rs.arraySlice(this.times),t=Rs.arraySlice(this.values),s=this.getValueSize(),n=this.getInterpolation()===Mu,r=i.length-1;let l=1;for(let a=1;a<r;++a){let o=!1;const c=i[a],h=i[a+1];if(c!==h&&(a!==1||c!==i[0]))if(n)o=!0;else{const u=a*s,d=u-s,p=u+s;for(let G=0;G!==s;++G){const g=t[u+G];if(g!==t[d+G]||g!==t[p+G]){o=!0;break}}}if(o){if(a!==l){i[l]=i[a];const u=a*s,d=l*s;for(let p=0;p!==s;++p)t[d+p]=t[u+p]}++l}}if(r>0){i[l]=i[r];for(let a=r*s,o=l*s,c=0;c!==s;++c)t[o+c]=t[a+c];++l}return l!==i.length?(this.times=Rs.arraySlice(i,0,l),this.values=Rs.arraySlice(t,0,l*s)):(this.times=i,this.values=t),this}clone(){const i=Rs.arraySlice(this.times,0),t=Rs.arraySlice(this.values,0),s=this.constructor,n=new s(this.name,i,t);return n.createInterpolant=this.createInterpolant,n}}Zn.prototype.TimeBufferType=Float32Array,Zn.prototype.ValueBufferType=Float32Array,Zn.prototype.DefaultInterpolation=Sc;class na extends Zn{}na.prototype.ValueTypeName="bool",na.prototype.ValueBufferType=Array,na.prototype.DefaultInterpolation=Wc,na.prototype.InterpolantFactoryMethodLinear=void 0,na.prototype.InterpolantFactoryMethodSmooth=void 0;class gy extends Zn{}gy.prototype.ValueTypeName="color";class gh extends Zn{}gh.prototype.ValueTypeName="number";class dP extends Tr{constructor(i,t,s,n){super(i,t,s,n)}interpolate_(i,t,s,n){const r=this.resultBuffer,l=this.sampleValues,a=this.valueSize,o=(s-t)/(n-t);let c=i*a;for(let h=c+a;c!==h;c+=4)Ls.slerpFlat(r,0,l,c-a,l,c,o);return r}}class Wo extends Zn{InterpolantFactoryMethodLinear(i){return new dP(this.times,this.values,this.getValueSize(),i)}}Wo.prototype.ValueTypeName="quaternion",Wo.prototype.DefaultInterpolation=Sc,Wo.prototype.InterpolantFactoryMethodSmooth=void 0;class ra extends Zn{}ra.prototype.ValueTypeName="string",ra.prototype.ValueBufferType=Array,ra.prototype.DefaultInterpolation=Wc,ra.prototype.InterpolantFactoryMethodLinear=void 0,ra.prototype.InterpolantFactoryMethodSmooth=void 0;class Th extends Zn{}Th.prototype.ValueTypeName="vector";class Ty{constructor(i,t=-1,s,n=wu){this.name=i,this.tracks=s,this.duration=t,this.blendMode=n,this.uuid=ji(),this.duration<0&&this.resetDuration()}static parse(i){const t=[],s=i.tracks,n=1/(i.fps||1);for(let l=0,a=s.length;l!==a;++l)t.push(mP(s[l]).scale(n));const r=new this(i.name,i.duration,t,i.blendMode);return r.uuid=i.uuid,r}static toJSON(i){const t=[],s=i.tracks,n={name:i.name,duration:i.duration,tracks:t,uuid:i.uuid,blendMode:i.blendMode};for(let r=0,l=s.length;r!==l;++r)t.push(Zn.toJSON(s[r]));return n}static CreateFromMorphTargetSequence(i,t,s,n){const r=t.length,l=[];for(let a=0;a<r;a++){let o=[],c=[];o.push((a+r-1)%r,a,(a+1)%r),c.push(0,1,0);const h=Rs.getKeyframeOrder(o);o=Rs.sortedArray(o,1,h),c=Rs.sortedArray(c,1,h),!n&&o[0]===0&&(o.push(r),c.push(c[0])),l.push(new gh(".morphTargetInfluences["+t[a].name+"]",o,c).scale(1/s))}return new this(i,-1,l)}static findByName(i,t){let s=i;if(!Array.isArray(i)){const n=i;s=n.geometry&&n.geometry.animations||n.animations}for(let n=0;n<s.length;n++)if(s[n].name===t)return s[n];return null}static CreateClipsFromMorphTargetSequences(i,t,s){const n={},r=/^([\w-]*?)([\d]+)$/;for(let a=0,o=i.length;a<o;a++){const c=i[a],h=c.name.match(r);if(h&&h.length>1){const u=h[1];let d=n[u];d||(n[u]=d=[]),d.push(c)}}const l=[];for(const a in n)l.push(this.CreateFromMorphTargetSequence(a,n[a],t,s));return l}static parseAnimation(i,t){if(!i)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const s=function(u,d,p,G,g){if(p.length!==0){const I=[],X=[];Rs.flattenJSON(p,I,X,G),I.length!==0&&g.push(new u(d,I,X))}},n=[],r=i.name||"default",l=i.fps||30,a=i.blendMode;let o=i.length||-1;const c=i.hierarchy||[];for(let u=0;u<c.length;u++){const d=c[u].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const p={};let G;for(G=0;G<d.length;G++)if(d[G].morphTargets)for(let g=0;g<d[G].morphTargets.length;g++)p[d[G].morphTargets[g]]=-1;for(const g in p){const I=[],X=[];for(let S=0;S!==d[G].morphTargets.length;++S){const x=d[G];I.push(x.time),X.push(x.morphTarget===g?1:0)}n.push(new gh(".morphTargetInfluence["+g+"]",I,X))}o=p.length*l}else{const p=".bones["+t[u].name+"]";s(Th,p+".position",d,"pos",n),s(Wo,p+".quaternion",d,"rot",n),s(Th,p+".scale",d,"scl",n)}}return n.length===0?null:new this(r,o,n,a)}resetDuration(){const i=this.tracks;let t=0;for(let s=0,n=i.length;s!==n;++s){const r=this.tracks[s];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this}trim(){for(let i=0;i<this.tracks.length;i++)this.tracks[i].trim(0,this.duration);return this}validate(){let i=!0;for(let t=0;t<this.tracks.length;t++)i=i&&this.tracks[t].validate();return i}optimize(){for(let i=0;i<this.tracks.length;i++)this.tracks[i].optimize();return this}clone(){const i=[];for(let t=0;t<this.tracks.length;t++)i.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,i,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function pP(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return gh;case"vector":case"vector2":case"vector3":case"vector4":return Th;case"color":return gy;case"quaternion":return Wo;case"bool":case"boolean":return na;case"string":return ra}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}function mP(e){if(e.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const i=pP(e.type);if(e.times===void 0){const t=[],s=[];Rs.flattenJSON(e.keys,t,s,"value"),e.times=t,e.values=s}return i.parse!==void 0?i.parse(e):new i(e.name,e.times,e.values,e.interpolation)}const la={enabled:!1,files:{},add:function(e,i){this.enabled!==!1&&(this.files[e]=i)},get:function(e){if(this.enabled!==!1)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};class Iy{constructor(i,t,s){const n=this;let r=!1,l=0,a=0,o;const c=[];this.onStart=void 0,this.onLoad=i,this.onProgress=t,this.onError=s,this.itemStart=function(h){a++,r===!1&&n.onStart!==void 0&&n.onStart(h,l,a),r=!0},this.itemEnd=function(h){l++,n.onProgress!==void 0&&n.onProgress(h,l,a),l===a&&(r=!1,n.onLoad!==void 0&&n.onLoad())},this.itemError=function(h){n.onError!==void 0&&n.onError(h)},this.resolveURL=function(h){return o?o(h):h},this.setURLModifier=function(h){return o=h,this},this.addHandler=function(h,u){return c.push(h,u),this},this.removeHandler=function(h){const u=c.indexOf(h);return u!==-1&&c.splice(u,2),this},this.getHandler=function(h){for(let u=0,d=c.length;u<d;u+=2){const p=c[u],G=c[u+1];if(p.global&&(p.lastIndex=0),p.test(h))return G}return null}}}const bP=new Iy;class An{constructor(i){this.manager=i!==void 0?i:bP,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(i,t){const s=this;return new Promise(function(n,r){s.load(i,n,t,r)})}parse(){}setCrossOrigin(i){return this.crossOrigin=i,this}setWithCredentials(i){return this.withCredentials=i,this}setPath(i){return this.path=i,this}setResourcePath(i){return this.resourcePath=i,this}setRequestHeader(i){return this.requestHeader=i,this}}const Bn={};class Ry extends An{constructor(i){super(i)}load(i,t,s,n){i===void 0&&(i=""),this.path!==void 0&&(i=this.path+i),i=this.manager.resolveURL(i);const r=la.get(i);if(r!==void 0)return this.manager.itemStart(i),setTimeout(()=>{t&&t(r),this.manager.itemEnd(i)},0),r;if(Bn[i]!==void 0){Bn[i].push({onLoad:t,onProgress:s,onError:n});return}Bn[i]=[],Bn[i].push({onLoad:t,onProgress:s,onError:n});const l=new Request(i,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,o=this.responseType;fetch(l).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const h=Bn[i],u=c.body.getReader(),d=c.headers.get("Content-Length"),p=d?parseInt(d):0,G=p!==0;let g=0;const I=new ReadableStream({start(X){S();function S(){u.read().then(({done:x,value:v})=>{if(x)X.close();else{g+=v.byteLength;const L=new ProgressEvent("progress",{lengthComputable:G,loaded:g,total:p});for(let M=0,E=h.length;M<E;M++){const K=h[M];K.onProgress&&K.onProgress(L)}X.enqueue(v),S()}})}}});return new Response(I)}else throw Error(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`)}).then(c=>{switch(o){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(h=>new DOMParser().parseFromString(h,a));case"json":return c.json();default:if(a===void 0)return c.text();{const u=/charset="?([^;"\s]*)"?/i.exec(a),d=u&&u[1]?u[1].toLowerCase():void 0,p=new TextDecoder(d);return c.arrayBuffer().then(G=>p.decode(G))}}}).then(c=>{la.add(i,c);const h=Bn[i];delete Bn[i];for(let u=0,d=h.length;u<d;u++){const p=h[u];p.onLoad&&p.onLoad(c)}}).catch(c=>{const h=Bn[i];if(h===void 0)throw this.manager.itemError(i),c;delete Bn[i];for(let u=0,d=h.length;u<d;u++){const p=h[u];p.onError&&p.onError(c)}this.manager.itemError(i)}).finally(()=>{this.manager.itemEnd(i)}),this.manager.itemStart(i)}setResponseType(i){return this.responseType=i,this}setMimeType(i){return this.mimeType=i,this}}class fy extends An{constructor(i){super(i)}load(i,t,s,n){this.path!==void 0&&(i=this.path+i),i=this.manager.resolveURL(i);const r=this,l=la.get(i);if(l!==void 0)return r.manager.itemStart(i),setTimeout(function(){t&&t(l),r.manager.itemEnd(i)},0),l;const a=ro("img");function o(){h(),la.add(i,this),t&&t(this),r.manager.itemEnd(i)}function c(u){h(),n&&n(u),r.manager.itemError(i),r.manager.itemEnd(i)}function h(){a.removeEventListener("load",o,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",o,!1),a.addEventListener("error",c,!1),i.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),r.manager.itemStart(i),a.src=i,a}}class yP extends An{constructor(i){super(i)}load(i,t,s,n){const r=new _c,l=new fy(this.manager);l.setCrossOrigin(this.crossOrigin),l.setPath(this.path);let a=0;function o(c){l.load(i[c],function(h){r.images[c]=h,a++,a===6&&(r.needsUpdate=!0,t&&t(r))},void 0,n)}for(let c=0;c<i.length;++c)o(c);return r}}class Xy extends An{constructor(i){super(i)}load(i,t,s,n){const r=new Ss,l=new fy(this.manager);return l.setCrossOrigin(this.crossOrigin),l.setPath(this.path),l.load(i,function(a){r.image=a,r.needsUpdate=!0,t!==void 0&&t(r)},s,n),r}}class Gn extends zt{constructor(i,t=1){super();this.type="Light",this.color=new ie(i),this.intensity=t}dispose(){}copy(i){return super.copy(i),this.color.copy(i.color),this.intensity=i.intensity,this}toJSON(i){const t=super.toJSON(i);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}Gn.prototype.isLight=!0;class ZP extends Gn{constructor(i,t,s){super(i,s);this.type="HemisphereLight",this.position.copy(zt.DefaultUp),this.updateMatrix(),this.groundColor=new ie(t)}copy(i){return Gn.prototype.copy.call(this,i),this.groundColor.copy(i.groundColor),this}}ZP.prototype.isHemisphereLight=!0;const Wy=new _e,Sy=new H,Cy=new H;class Od{constructor(i){this.camera=i,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Xe(512,512),this.map=null,this.mapPass=null,this.matrix=new _e,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new co,this._frameExtents=new Xe(1,1),this._viewportCount=1,this._viewports=[new De(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(i){const t=this.camera,s=this.matrix;Sy.setFromMatrixPosition(i.matrixWorld),t.position.copy(Sy),Cy.setFromMatrixPosition(i.target.matrixWorld),t.lookAt(Cy),t.updateMatrixWorld(),Wy.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Wy),s.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),s.multiply(t.projectionMatrix),s.multiply(t.matrixWorldInverse)}getViewport(i){return this._viewports[i]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(i){return this.camera=i.camera.clone(),this.bias=i.bias,this.radius=i.radius,this.mapSize.copy(i.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const i={};return this.bias!==0&&(i.bias=this.bias),this.normalBias!==0&&(i.normalBias=this.normalBias),this.radius!==1&&(i.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(i.mapSize=this.mapSize.toArray()),i.camera=this.camera.toJSON(!1).object,delete i.camera.matrix,i}}class Vy extends Od{constructor(){super(new ai(50,1,.5,500));this.focus=1}updateMatrices(i){const t=this.camera,s=io*2*i.angle*this.focus,n=this.mapSize.width/this.mapSize.height,r=i.distance||t.far;(s!==t.fov||n!==t.aspect||r!==t.far)&&(t.fov=s,t.aspect=n,t.far=r,t.updateProjectionMatrix()),super.updateMatrices(i)}copy(i){return super.copy(i),this.focus=i.focus,this}}Vy.prototype.isSpotLightShadow=!0;class GP extends Gn{constructor(i,t,s=0,n=Math.PI/3,r=0,l=1){super(i,t);this.type="SpotLight",this.position.copy(zt.DefaultUp),this.updateMatrix(),this.target=new zt,this.distance=s,this.angle=n,this.penumbra=r,this.decay=l,this.shadow=new Vy}get power(){return this.intensity*Math.PI}set power(i){this.intensity=i/Math.PI}dispose(){this.shadow.dispose()}copy(i){return super.copy(i),this.distance=i.distance,this.angle=i.angle,this.penumbra=i.penumbra,this.decay=i.decay,this.target=i.target.clone(),this.shadow=i.shadow.clone(),this}}GP.prototype.isSpotLight=!0;const Ly=new _e,So=new H,Ad=new H;class Fy extends Od{constructor(){super(new ai(90,1,.5,500));this._frameExtents=new Xe(4,2),this._viewportCount=6,this._viewports=[new De(2,1,1,1),new De(0,1,1,1),new De(3,1,1,1),new De(1,1,1,1),new De(3,0,1,1),new De(1,0,1,1)],this._cubeDirections=[new H(1,0,0),new H(-1,0,0),new H(0,0,1),new H(0,0,-1),new H(0,1,0),new H(0,-1,0)],this._cubeUps=[new H(0,1,0),new H(0,1,0),new H(0,1,0),new H(0,1,0),new H(0,0,1),new H(0,0,-1)]}updateMatrices(i,t=0){const s=this.camera,n=this.matrix,r=i.distance||s.far;r!==s.far&&(s.far=r,s.updateProjectionMatrix()),So.setFromMatrixPosition(i.matrixWorld),s.position.copy(So),Ad.copy(s.position),Ad.add(this._cubeDirections[t]),s.up.copy(this._cubeUps[t]),s.lookAt(Ad),s.updateMatrixWorld(),n.makeTranslation(-So.x,-So.y,-So.z),Ly.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Ly)}}Fy.prototype.isPointLightShadow=!0;class gP extends Gn{constructor(i,t,s=0,n=1){super(i,t);this.type="PointLight",this.distance=s,this.decay=n,this.shadow=new Fy}get power(){return this.intensity*4*Math.PI}set power(i){this.intensity=i/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(i){return super.copy(i),this.distance=i.distance,this.decay=i.decay,this.shadow=i.shadow.clone(),this}}gP.prototype.isPointLight=!0;class Ny extends Od{constructor(){super(new $c(-5,5,5,-5,.5,500))}}Ny.prototype.isDirectionalLightShadow=!0;class Bd extends Gn{constructor(i,t){super(i,t);this.type="DirectionalLight",this.position.copy(zt.DefaultUp),this.updateMatrix(),this.target=new zt,this.shadow=new Ny}dispose(){this.shadow.dispose()}copy(i){return super.copy(i),this.target=i.target.clone(),this.shadow=i.shadow.clone(),this}}Bd.prototype.isDirectionalLight=!0;class xy extends Gn{constructor(i,t){super(i,t);this.type="AmbientLight"}}xy.prototype.isAmbientLight=!0;class TP extends Gn{constructor(i,t,s=10,n=10){super(i,t);this.type="RectAreaLight",this.width=s,this.height=n}get power(){return this.intensity*this.width*this.height*Math.PI}set power(i){this.intensity=i/(this.width*this.height*Math.PI)}copy(i){return super.copy(i),this.width=i.width,this.height=i.height,this}toJSON(i){const t=super.toJSON(i);return t.object.width=this.width,t.object.height=this.height,t}}TP.prototype.isRectAreaLight=!0;class vy{constructor(){this.coefficients=[];for(let i=0;i<9;i++)this.coefficients.push(new H)}set(i){for(let t=0;t<9;t++)this.coefficients[t].copy(i[t]);return this}zero(){for(let i=0;i<9;i++)this.coefficients[i].set(0,0,0);return this}getAt(i,t){const s=i.x,n=i.y,r=i.z,l=this.coefficients;return t.copy(l[0]).multiplyScalar(.282095),t.addScaledVector(l[1],.488603*n),t.addScaledVector(l[2],.488603*r),t.addScaledVector(l[3],.488603*s),t.addScaledVector(l[4],1.092548*(s*n)),t.addScaledVector(l[5],1.092548*(n*r)),t.addScaledVector(l[6],.315392*(3*r*r-1)),t.addScaledVector(l[7],1.092548*(s*r)),t.addScaledVector(l[8],.546274*(s*s-n*n)),t}getIrradianceAt(i,t){const s=i.x,n=i.y,r=i.z,l=this.coefficients;return t.copy(l[0]).multiplyScalar(.886227),t.addScaledVector(l[1],2*.511664*n),t.addScaledVector(l[2],2*.511664*r),t.addScaledVector(l[3],2*.511664*s),t.addScaledVector(l[4],2*.429043*s*n),t.addScaledVector(l[5],2*.429043*n*r),t.addScaledVector(l[6],.743125*r*r-.247708),t.addScaledVector(l[7],2*.429043*s*r),t.addScaledVector(l[8],.429043*(s*s-n*n)),t}add(i){for(let t=0;t<9;t++)this.coefficients[t].add(i.coefficients[t]);return this}addScaledSH(i,t){for(let s=0;s<9;s++)this.coefficients[s].addScaledVector(i.coefficients[s],t);return this}scale(i){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(i);return this}lerp(i,t){for(let s=0;s<9;s++)this.coefficients[s].lerp(i.coefficients[s],t);return this}equals(i){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(i.coefficients[t]))return!1;return!0}copy(i){return this.set(i.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(i,t=0){const s=this.coefficients;for(let n=0;n<9;n++)s[n].fromArray(i,t+n*3);return this}toArray(i=[],t=0){const s=this.coefficients;for(let n=0;n<9;n++)s[n].toArray(i,t+n*3);return i}static getBasisAt(i,t){const s=i.x,n=i.y,r=i.z;t[0]=.282095,t[1]=.488603*n,t[2]=.488603*r,t[3]=.488603*s,t[4]=1.092548*s*n,t[5]=1.092548*n*r,t[6]=.315392*(3*r*r-1),t[7]=1.092548*s*r,t[8]=.546274*(s*s-n*n)}}vy.prototype.isSphericalHarmonics3=!0;class jd extends Gn{constructor(i=new vy,t=1){super(void 0,t);this.sh=i}copy(i){return super.copy(i),this.sh.copy(i.sh),this}fromJSON(i){return this.intensity=i.intensity,this.sh.fromArray(i.sh),this}toJSON(i){const t=super.toJSON(i);return t.object.sh=this.sh.toArray(),t}}jd.prototype.isLightProbe=!0;class IP{static decodeText(i){if(typeof TextDecoder<"u")return new TextDecoder().decode(i);let t="";for(let s=0,n=i.length;s<n;s++)t+=String.fromCharCode(i[s]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(i){const t=i.lastIndexOf("/");return t===-1?"./":i.slice(0,t+1)}static resolveURL(i,t){return typeof i!="string"||i===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(i)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(i)||/^data:.*,.*$/i.test(i)||/^blob:.*$/i.test(i)?i:t+i)}}class RP extends It{constructor(){super();this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(i){return super.copy(i),this.instanceCount=i.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const i=super.toJSON(this);return i.instanceCount=this.instanceCount,i.isInstancedBufferGeometry=!0,i}}RP.prototype.isInstancedBufferGeometry=!0;class fP extends An{constructor(i){super(i);typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(i){return this.options=i,this}load(i,t,s,n){i===void 0&&(i=""),this.path!==void 0&&(i=this.path+i),i=this.manager.resolveURL(i);const r=this,l=la.get(i);if(l!==void 0)return r.manager.itemStart(i),setTimeout(function(){t&&t(l),r.manager.itemEnd(i)},0),l;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(i,a).then(function(o){return o.blob()}).then(function(o){return createImageBitmap(o,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(o){la.add(i,o),t&&t(o),r.manager.itemEnd(i)}).catch(function(o){n&&n(o),r.manager.itemError(i),r.manager.itemEnd(i)}),r.manager.itemStart(i)}}fP.prototype.isImageBitmapLoader=!0;let Ih;const XP={getContext:function(){return Ih===void 0&&(Ih=new(window.AudioContext||window.webkitAudioContext)),Ih},setContext:function(e){Ih=e}};class WP extends An{constructor(i){super(i)}load(i,t,s,n){const r=this,l=new Ry(this.manager);l.setResponseType("arraybuffer"),l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(i,function(a){try{const o=a.slice(0);XP.getContext().decodeAudioData(o,function(h){t(h)})}catch(o){n?n(o):console.error(o),r.manager.itemError(i)}},s,n)}}class SP extends jd{constructor(i,t,s=1){super(void 0,s);const n=new ie().set(i),r=new ie().set(t),l=new H(n.r,n.g,n.b),a=new H(r.r,r.g,r.b),o=Math.sqrt(Math.PI),c=o*Math.sqrt(.75);this.sh.coefficients[0].copy(l).add(a).multiplyScalar(o),this.sh.coefficients[1].copy(l).sub(a).multiplyScalar(c)}}SP.prototype.isHemisphereLightProbe=!0;class CP extends jd{constructor(i,t=1){super(void 0,t);const s=new ie().set(i);this.sh.coefficients[0].set(s.r,s.g,s.b).multiplyScalar(2*Math.sqrt(Math.PI))}}CP.prototype.isAmbientLightProbe=!0;class VP{constructor(i=!0){this.autoStart=i,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Ey(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let i=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=Ey();i=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=i}return i}}function Ey(){return(typeof performance>"u"?Date:performance).now()}class LP extends zt{constructor(i){super();this.type="Audio",this.listener=i,this.context=i.context,this.gain=this.context.createGain(),this.gain.connect(i.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(i){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=i,this.connect(),this}setMediaElementSource(i){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(i),this.connect(),this}setMediaStreamSource(i){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(i),this.connect(),this}setBuffer(i){return this.buffer=i,this.sourceType="buffer",this.autoplay&&this.play(),this}play(i=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+i;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let i=1,t=this.filters.length;i<t;i++)this.filters[i-1].connect(this.filters[i]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let i=1,t=this.filters.length;i<t;i++)this.filters[i-1].disconnect(this.filters[i]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(i){return i||(i=[]),this._connected===!0?(this.disconnect(),this.filters=i.slice(),this.connect()):this.filters=i.slice(),this}setDetune(i){if(this.detune=i,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(i){return this.setFilters(i?[i]:[])}setPlaybackRate(i){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=i,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(i){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=i,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(i){return this.loopStart=i,this}setLoopEnd(i){return this.loopEnd=i,this}getVolume(){return this.gain.gain.value}setVolume(i){return this.gain.gain.setTargetAtTime(i,this.context.currentTime,.01),this}}class FP{constructor(i,t,s){this.binding=i,this.valueSize=s;let n,r,l;switch(t){case"quaternion":n=this._slerp,r=this._slerpAdditive,l=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(s*6),this._workIndex=5;break;case"string":case"bool":n=this._select,r=this._select,l=this._setAdditiveIdentityOther,this.buffer=new Array(s*5);break;default:n=this._lerp,r=this._lerpAdditive,l=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(s*5)}this._mixBufferRegion=n,this._mixBufferRegionAdditive=r,this._setIdentity=l,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(i,t){const s=this.buffer,n=this.valueSize,r=i*n+n;let l=this.cumulativeWeight;if(l===0){for(let a=0;a!==n;++a)s[r+a]=s[a];l=t}else{l+=t;const a=t/l;this._mixBufferRegion(s,r,0,a,n)}this.cumulativeWeight=l}accumulateAdditive(i){const t=this.buffer,s=this.valueSize,n=s*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,n,0,i,s),this.cumulativeWeightAdditive+=i}apply(i){const t=this.valueSize,s=this.buffer,n=i*t+t,r=this.cumulativeWeight,l=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const o=t*this._origIndex;this._mixBufferRegion(s,n,o,1-r,t)}l>0&&this._mixBufferRegionAdditive(s,n,this._addIndex*t,1,t);for(let o=t,c=t+t;o!==c;++o)if(s[o]!==s[o+t]){a.setValue(s,n);break}}saveOriginalState(){const i=this.binding,t=this.buffer,s=this.valueSize,n=s*this._origIndex;i.getValue(t,n);for(let r=s,l=n;r!==l;++r)t[r]=t[n+r%s];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const i=this.valueSize*3;this.binding.setValue(this.buffer,i)}_setAdditiveIdentityNumeric(){const i=this._addIndex*this.valueSize,t=i+this.valueSize;for(let s=i;s<t;s++)this.buffer[s]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const i=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let s=0;s<this.valueSize;s++)this.buffer[t+s]=this.buffer[i+s]}_select(i,t,s,n,r){if(n>=.5)for(let l=0;l!==r;++l)i[t+l]=i[s+l]}_slerp(i,t,s,n){Ls.slerpFlat(i,t,i,t,i,s,n)}_slerpAdditive(i,t,s,n,r){const l=this._workIndex*r;Ls.multiplyQuaternionsFlat(i,l,i,t,i,s),Ls.slerpFlat(i,t,i,t,i,l,n)}_lerp(i,t,s,n,r){const l=1-n;for(let a=0;a!==r;++a){const o=t+a;i[o]=i[o]*l+i[s+a]*n}}_lerpAdditive(i,t,s,n,r){for(let l=0;l!==r;++l){const a=t+l;i[a]=i[a]+i[s+l]*n}}}const Qd="\\[\\]\\.:\\/",NP=new RegExp("["+Qd+"]","g"),_d="[^"+Qd+"]",xP="[^"+Qd.replace("\\.","")+"]",vP=/((?:WC+[\/:])*)/.source.replace("WC",_d),EP=/(WCOD+)?/.source.replace("WCOD",xP),YP=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_d),MP=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_d),wP=new RegExp("^"+vP+EP+YP+MP+"$"),HP=["material","materials","bones"];class PP{constructor(i,t,s){const n=s||ls.parseTrackName(t);this._targetGroup=i,this._bindings=i.subscribe_(t,n)}getValue(i,t){this.bind();const s=this._targetGroup.nCachedObjects_,n=this._bindings[s];n!==void 0&&n.getValue(i,t)}setValue(i,t){const s=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=s.length;n!==r;++n)s[n].setValue(i,t)}bind(){const i=this._bindings;for(let t=this._targetGroup.nCachedObjects_,s=i.length;t!==s;++t)i[t].bind()}unbind(){const i=this._bindings;for(let t=this._targetGroup.nCachedObjects_,s=i.length;t!==s;++t)i[t].unbind()}}class ls{constructor(i,t,s){this.path=t,this.parsedPath=s||ls.parseTrackName(t),this.node=ls.findNode(i,this.parsedPath.nodeName)||i,this.rootNode=i,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(i,t,s){return i&&i.isAnimationObjectGroup?new ls.Composite(i,t,s):new ls(i,t,s)}static sanitizeNodeName(i){return i.replace(/\s/g,"_").replace(NP,"")}static parseTrackName(i){const t=wP.exec(i);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+i);const s={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},n=s.nodeName&&s.nodeName.lastIndexOf(".");if(n!==void 0&&n!==-1){const r=s.nodeName.substring(n+1);HP.indexOf(r)!==-1&&(s.nodeName=s.nodeName.substring(0,n),s.objectName=r)}if(s.propertyName===null||s.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+i);return s}static findNode(i,t){if(t===void 0||t===""||t==="."||t===-1||t===i.name||t===i.uuid)return i;if(i.skeleton){const s=i.skeleton.getBoneByName(t);if(s!==void 0)return s}if(i.children){const s=function(r){for(let l=0;l<r.length;l++){const a=r[l];if(a.name===t||a.uuid===t)return a;const o=s(a.children);if(o)return o}return null},n=s(i.children);if(n)return n}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(i,t){i[t]=this.targetObject[this.propertyName]}_getValue_array(i,t){const s=this.resolvedProperty;for(let n=0,r=s.length;n!==r;++n)i[t++]=s[n]}_getValue_arrayElement(i,t){i[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(i,t){this.resolvedProperty.toArray(i,t)}_setValue_direct(i,t){this.targetObject[this.propertyName]=i[t]}_setValue_direct_setNeedsUpdate(i,t){this.targetObject[this.propertyName]=i[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(i,t){this.targetObject[this.propertyName]=i[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(i,t){const s=this.resolvedProperty;for(let n=0,r=s.length;n!==r;++n)s[n]=i[t++]}_setValue_array_setNeedsUpdate(i,t){const s=this.resolvedProperty;for(let n=0,r=s.length;n!==r;++n)s[n]=i[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(i,t){const s=this.resolvedProperty;for(let n=0,r=s.length;n!==r;++n)s[n]=i[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(i,t){this.resolvedProperty[this.propertyIndex]=i[t]}_setValue_arrayElement_setNeedsUpdate(i,t){this.resolvedProperty[this.propertyIndex]=i[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(i,t){this.resolvedProperty[this.propertyIndex]=i[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(i,t){this.resolvedProperty.fromArray(i,t)}_setValue_fromArray_setNeedsUpdate(i,t){this.resolvedProperty.fromArray(i,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(i,t){this.resolvedProperty.fromArray(i,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(i,t){this.bind(),this.getValue(i,t)}_setValue_unbound(i,t){this.bind(),this.setValue(i,t)}bind(){let i=this.node;const t=this.parsedPath,s=t.objectName,n=t.propertyName;let r=t.propertyIndex;if(i||(i=ls.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=i),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!i){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(s){let c=t.objectIndex;switch(s){case"materials":if(!i.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!i.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}i=i.material.materials;break;case"bones":if(!i.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}i=i.skeleton.bones;for(let h=0;h<i.length;h++)if(i[h].name===c){c=h;break}break;default:if(i[s]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}i=i[s]}if(c!==void 0){if(i[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,i);return}i=i[c]}}const l=i[n];if(l===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+n+" but it wasn't found.",i);return}let a=this.Versioning.None;this.targetObject=i,i.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:i.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let o=this.BindingType.Direct;if(r!==void 0){if(n==="morphTargetInfluences"){if(!i.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(i.geometry.isBufferGeometry){if(!i.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}i.morphTargetDictionary[r]!==void 0&&(r=i.morphTargetDictionary[r])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}o=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=r}else l.fromArray!==void 0&&l.toArray!==void 0?(o=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(o=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=n;this.getValue=this.GetterByBindingType[o],this.setValue=this.SetterByBindingTypeAndVersioning[o][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}ls.Composite=PP,ls.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},ls.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},ls.prototype.GetterByBindingType=[ls.prototype._getValue_direct,ls.prototype._getValue_array,ls.prototype._getValue_arrayElement,ls.prototype._getValue_toArray],ls.prototype.SetterByBindingTypeAndVersioning=[[ls.prototype._setValue_direct,ls.prototype._setValue_direct_setNeedsUpdate,ls.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[ls.prototype._setValue_array,ls.prototype._setValue_array_setNeedsUpdate,ls.prototype._setValue_array_setMatrixWorldNeedsUpdate],[ls.prototype._setValue_arrayElement,ls.prototype._setValue_arrayElement_setNeedsUpdate,ls.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[ls.prototype._setValue_fromArray,ls.prototype._setValue_fromArray_setNeedsUpdate,ls.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class zP{constructor(i,t,s=null,n=t.blendMode){this._mixer=i,this._clip=t,this._localRoot=s,this.blendMode=n;const r=t.tracks,l=r.length,a=new Array(l),o={endingStart:Nl,endingEnd:Nl};for(let c=0;c!==l;++c){const h=r[c].createInterpolant(null);a[c]=h,h.settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(l),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=jE,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(i){return this._startTime=i,this}setLoop(i,t){return this.loop=i,this.repetitions=t,this}setEffectiveWeight(i){return this.weight=i,this._effectiveWeight=this.enabled?i:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(i){return this._scheduleFading(i,0,1)}fadeOut(i){return this._scheduleFading(i,1,0)}crossFadeFrom(i,t,s){if(i.fadeOut(t),this.fadeIn(t),s){const n=this._clip.duration,r=i._clip.duration,l=r/n,a=n/r;i.warp(1,l,t),this.warp(a,1,t)}return this}crossFadeTo(i,t,s){return i.crossFadeFrom(this,t,s)}stopFading(){const i=this._weightInterpolant;return i!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(i)),this}setEffectiveTimeScale(i){return this.timeScale=i,this._effectiveTimeScale=this.paused?0:i,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(i){return this.timeScale=this._clip.duration/i,this.stopWarping()}syncWith(i){return this.time=i.time,this.timeScale=i.timeScale,this.stopWarping()}halt(i){return this.warp(this._effectiveTimeScale,0,i)}warp(i,t,s){const n=this._mixer,r=n.time,l=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=n._lendControlInterpolant(),this._timeScaleInterpolant=a);const o=a.parameterPositions,c=a.sampleValues;return o[0]=r,o[1]=r+s,c[0]=i/l,c[1]=t/l,this}stopWarping(){const i=this._timeScaleInterpolant;return i!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(i)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(i,t,s,n){if(!this.enabled){this._updateWeight(i);return}const r=this._startTime;if(r!==null){const o=(i-r)*s;if(o<0||s===0)return;this._startTime=null,t=s*o}t*=this._updateTimeScale(i);const l=this._updateTime(t),a=this._updateWeight(i);if(a>0){const o=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case wb:for(let h=0,u=o.length;h!==u;++h)o[h].evaluate(l),c[h].accumulateAdditive(a);break;case wu:default:for(let h=0,u=o.length;h!==u;++h)o[h].evaluate(l),c[h].accumulate(n,a)}}}_updateWeight(i){let t=0;if(this.enabled){t=this.weight;const s=this._weightInterpolant;if(s!==null){const n=s.evaluate(i)[0];t*=n,i>s.parameterPositions[1]&&(this.stopFading(),n===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(i){let t=0;if(!this.paused){t=this.timeScale;const s=this._timeScaleInterpolant;s!==null&&(t*=s.evaluate(i)[0],i>s.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}_updateTime(i){const t=this._clip.duration,s=this.loop;let n=this.time+i,r=this._loopCount;const l=s===QE;if(i===0)return r===-1?n:l&&(r&1)===1?t-n:n;if(s===BE){r===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(n>=t)n=t;else if(n<0)n=0;else{this.time=n;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=n,this._mixer.dispatchEvent({type:"finished",action:this,direction:i<0?-1:1})}}else{if(r===-1&&(i>=0?(r=0,this._setEndings(!0,this.repetitions===0,l)):this._setEndings(this.repetitions===0,!0,l)),n>=t||n<0){const a=Math.floor(n/t);n-=t*a,r+=Math.abs(a);const o=this.repetitions-r;if(o<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,n=i>0?t:0,this.time=n,this._mixer.dispatchEvent({type:"finished",action:this,direction:i>0?1:-1});else{if(o===1){const c=i<0;this._setEndings(c,!c,l)}else this._setEndings(!1,!1,l);this._loopCount=r,this.time=n,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=n;if(l&&(r&1)===1)return t-n}return n}_setEndings(i,t,s){const n=this._interpolantSettings;s?(n.endingStart=xl,n.endingEnd=xl):(i?n.endingStart=this.zeroSlopeAtStart?xl:Nl:n.endingStart=Cc,t?n.endingEnd=this.zeroSlopeAtEnd?xl:Nl:n.endingEnd=Cc)}_scheduleFading(i,t,s){const n=this._mixer,r=n.time;let l=this._weightInterpolant;l===null&&(l=n._lendControlInterpolant(),this._weightInterpolant=l);const a=l.parameterPositions,o=l.sampleValues;return a[0]=r,o[0]=t,a[1]=r+i,o[1]=s,this}}class UP extends zn{constructor(i){super();this._root=i,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(i,t){const s=i._localRoot||this._root,n=i._clip.tracks,r=n.length,l=i._propertyBindings,a=i._interpolants,o=s.uuid,c=this._bindingsByRootAndName;let h=c[o];h===void 0&&(h={},c[o]=h);for(let u=0;u!==r;++u){const d=n[u],p=d.name;let G=h[p];if(G!==void 0)++G.referenceCount,l[u]=G;else{if(G=l[u],G!==void 0){G._cacheIndex===null&&(++G.referenceCount,this._addInactiveBinding(G,o,p));continue}const g=t&&t._propertyBindings[u].binding.parsedPath;G=new FP(ls.create(s,p,g),d.ValueTypeName,d.getValueSize()),++G.referenceCount,this._addInactiveBinding(G,o,p),l[u]=G}a[u].resultBuffer=G.buffer}}_activateAction(i){if(!this._isActiveAction(i)){if(i._cacheIndex===null){const s=(i._localRoot||this._root).uuid,n=i._clip.uuid,r=this._actionsByClip[n];this._bindAction(i,r&&r.knownActions[0]),this._addInactiveAction(i,n,s)}const t=i._propertyBindings;for(let s=0,n=t.length;s!==n;++s){const r=t[s];r.useCount++===0&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(i)}}_deactivateAction(i){if(this._isActiveAction(i)){const t=i._propertyBindings;for(let s=0,n=t.length;s!==n;++s){const r=t[s];--r.useCount===0&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(i)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const i=this;this.stats={actions:{get total(){return i._actions.length},get inUse(){return i._nActiveActions}},bindings:{get total(){return i._bindings.length},get inUse(){return i._nActiveBindings}},controlInterpolants:{get total(){return i._controlInterpolants.length},get inUse(){return i._nActiveControlInterpolants}}}}_isActiveAction(i){const t=i._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(i,t,s){const n=this._actions,r=this._actionsByClip;let l=r[t];if(l===void 0)l={knownActions:[i],actionByRoot:{}},i._byClipCacheIndex=0,r[t]=l;else{const a=l.knownActions;i._byClipCacheIndex=a.length,a.push(i)}i._cacheIndex=n.length,n.push(i),l.actionByRoot[s]=i}_removeInactiveAction(i){const t=this._actions,s=t[t.length-1],n=i._cacheIndex;s._cacheIndex=n,t[n]=s,t.pop(),i._cacheIndex=null;const r=i._clip.uuid,l=this._actionsByClip,a=l[r],o=a.knownActions,c=o[o.length-1],h=i._byClipCacheIndex;c._byClipCacheIndex=h,o[h]=c,o.pop(),i._byClipCacheIndex=null;const u=a.actionByRoot,d=(i._localRoot||this._root).uuid;delete u[d],o.length===0&&delete l[r],this._removeInactiveBindingsForAction(i)}_removeInactiveBindingsForAction(i){const t=i._propertyBindings;for(let s=0,n=t.length;s!==n;++s){const r=t[s];--r.referenceCount===0&&this._removeInactiveBinding(r)}}_lendAction(i){const t=this._actions,s=i._cacheIndex,n=this._nActiveActions++,r=t[n];i._cacheIndex=n,t[n]=i,r._cacheIndex=s,t[s]=r}_takeBackAction(i){const t=this._actions,s=i._cacheIndex,n=--this._nActiveActions,r=t[n];i._cacheIndex=n,t[n]=i,r._cacheIndex=s,t[s]=r}_addInactiveBinding(i,t,s){const n=this._bindingsByRootAndName,r=this._bindings;let l=n[t];l===void 0&&(l={},n[t]=l),l[s]=i,i._cacheIndex=r.length,r.push(i)}_removeInactiveBinding(i){const t=this._bindings,s=i.binding,n=s.rootNode.uuid,r=s.path,l=this._bindingsByRootAndName,a=l[n],o=t[t.length-1],c=i._cacheIndex;o._cacheIndex=c,t[c]=o,t.pop(),delete a[r],Object.keys(a).length===0&&delete l[n]}_lendBinding(i){const t=this._bindings,s=i._cacheIndex,n=this._nActiveBindings++,r=t[n];i._cacheIndex=n,t[n]=i,r._cacheIndex=s,t[s]=r}_takeBackBinding(i){const t=this._bindings,s=i._cacheIndex,n=--this._nActiveBindings,r=t[n];i._cacheIndex=n,t[n]=i,r._cacheIndex=s,t[s]=r}_lendControlInterpolant(){const i=this._controlInterpolants,t=this._nActiveControlInterpolants++;let s=i[t];return s===void 0&&(s=new Gy(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),s.__cacheIndex=t,i[t]=s),s}_takeBackControlInterpolant(i){const t=this._controlInterpolants,s=i.__cacheIndex,n=--this._nActiveControlInterpolants,r=t[n];i.__cacheIndex=n,t[n]=i,r.__cacheIndex=s,t[s]=r}clipAction(i,t,s){const n=t||this._root,r=n.uuid;let l=typeof i=="string"?Ty.findByName(n,i):i;const a=l!==null?l.uuid:i,o=this._actionsByClip[a];let c=null;if(s===void 0&&(l!==null?s=l.blendMode:s=wu),o!==void 0){const u=o.actionByRoot[r];if(u!==void 0&&u.blendMode===s)return u;c=o.knownActions[0],l===null&&(l=c._clip)}if(l===null)return null;const h=new zP(this,l,t,s);return this._bindAction(h,c),this._addInactiveAction(h,a,r),h}existingAction(i,t){const s=t||this._root,n=s.uuid,r=typeof i=="string"?Ty.findByName(s,i):i,l=r?r.uuid:i,a=this._actionsByClip[l];return a!==void 0&&a.actionByRoot[n]||null}stopAllAction(){const i=this._actions,t=this._nActiveActions;for(let s=t-1;s>=0;--s)i[s].stop();return this}update(i){i*=this.timeScale;const t=this._actions,s=this._nActiveActions,n=this.time+=i,r=Math.sign(i),l=this._accuIndex^=1;for(let c=0;c!==s;++c)t[c]._update(n,i,r,l);const a=this._bindings,o=this._nActiveBindings;for(let c=0;c!==o;++c)a[c].apply(l);return this}setTime(i){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(i)}getRoot(){return this._root}uncacheClip(i){const t=this._actions,s=i.uuid,n=this._actionsByClip,r=n[s];if(r!==void 0){const l=r.knownActions;for(let a=0,o=l.length;a!==o;++a){const c=l[a];this._deactivateAction(c);const h=c._cacheIndex,u=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,u._cacheIndex=h,t[h]=u,t.pop(),this._removeInactiveBindingsForAction(c)}delete n[s]}}uncacheRoot(i){const t=i.uuid,s=this._actionsByClip;for(const l in s){const a=s[l].actionByRoot,o=a[t];o!==void 0&&(this._deactivateAction(o),this._removeInactiveAction(o))}const n=this._bindingsByRootAndName,r=n[t];if(r!==void 0)for(const l in r){const a=r[l];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(i,t){const s=this.existingAction(i,t);s!==null&&(this._deactivateAction(s),this._removeInactiveAction(s))}}UP.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class Rh{constructor(i){typeof i=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),i=arguments[1]),this.value=i}clone(){return new Rh(this.value.clone===void 0?this.value:this.value.clone())}}class kP extends po{constructor(i,t,s=1){super(i,t);this.meshPerAttribute=s}copy(i){return super.copy(i),this.meshPerAttribute=i.meshPerAttribute,this}clone(i){const t=super.clone(i);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(i){const t=super.toJSON(i);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}kP.prototype.isInstancedInterleavedBuffer=!0;class fh{constructor(i,t,s=0,n=1/0){this.ray=new ur(i,t),this.near=s,this.far=n,this.camera=null,this.layers=new $u,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(i,t){this.ray.set(i,t)}setFromCamera(i,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(i.x,i.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(i.x,i.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(i,t=!0,s=[]){return qd(i,this,s,t),s.sort(Yy),s}intersectObjects(i,t=!0,s=[]){for(let n=0,r=i.length;n<r;n++)qd(i[n],this,s,t);return s.sort(Yy),s}}function Yy(e,i){return e.distance-i.distance}function qd(e,i,t,s){if(e.layers.test(i.layers)&&e.raycast(i,t),s===!0){const n=e.children;for(let r=0,l=n.length;r<l;r++)qd(n[r],i,t,!0)}}class DP{constructor(i=1,t=0,s=0){return this.radius=i,this.phi=t,this.theta=s,this}set(i,t,s){return this.radius=i,this.phi=t,this.theta=s,this}copy(i){return this.radius=i.radius,this.phi=i.phi,this.theta=i.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(i){return this.setFromCartesianCoords(i.x,i.y,i.z)}setFromCartesianCoords(i,t,s){return this.radius=Math.sqrt(i*i+t*t+s*s),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(i,s),this.phi=Math.acos(ws(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}const My=new H,Xh=new H;class gn{constructor(i=new H,t=new H){this.start=i,this.end=t}set(i,t){return this.start.copy(i),this.end.copy(t),this}copy(i){return this.start.copy(i.start),this.end.copy(i.end),this}getCenter(i){return i.addVectors(this.start,this.end).multiplyScalar(.5)}delta(i){return i.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(i,t){return this.delta(t).multiplyScalar(i).add(this.start)}closestPointToPointParameter(i,t){My.subVectors(i,this.start),Xh.subVectors(this.end,this.start);const s=Xh.dot(Xh);let r=Xh.dot(My)/s;return t&&(r=ws(r,0,1)),r}closestPointToPoint(i,t,s){const n=this.closestPointToPointParameter(i,t);return this.delta(s).multiplyScalar(n).add(this.start)}applyMatrix4(i){return this.start.applyMatrix4(i),this.end.applyMatrix4(i),this}equals(i){return i.start.equals(this.start)&&i.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const Ir=new H,Wh=new _e,$d=new _e;class JP extends oh{constructor(i){const t=wy(i),s=new It,n=[],r=[],l=new ie(0,0,1),a=new ie(0,1,0);for(let c=0;c<t.length;c++){const h=t[c];h.parent&&h.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),r.push(l.r,l.g,l.b),r.push(a.r,a.g,a.b))}s.setAttribute("position",new ds(n,3)),s.setAttribute("color",new ds(r,3));const o=new yn({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(s,o);this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=i,this.bones=t,this.matrix=i.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(i){const t=this.bones,s=this.geometry,n=s.getAttribute("position");$d.copy(this.root.matrixWorld).invert();for(let r=0,l=0;r<t.length;r++){const a=t[r];a.parent&&a.parent.isBone&&(Wh.multiplyMatrices($d,a.matrixWorld),Ir.setFromMatrixPosition(Wh),n.setXYZ(l,Ir.x,Ir.y,Ir.z),Wh.multiplyMatrices($d,a.parent.matrixWorld),Ir.setFromMatrixPosition(Wh),n.setXYZ(l+1,Ir.x,Ir.y,Ir.z),l+=2)}s.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(i)}}function wy(e){const i=[];e.isBone===!0&&i.push(e);for(let t=0;t<e.children.length;t++)i.push.apply(i,wy(e.children[t]));return i}class KP extends oh{constructor(i=10,t=10,s=4473924,n=8947848){s=new ie(s),n=new ie(n);const r=t/2,l=i/t,a=i/2,o=[],c=[];for(let d=0,p=0,G=-a;d<=t;d++,G+=l){o.push(-a,0,G,a,0,G),o.push(G,0,-a,G,0,a);const g=d===r?s:n;g.toArray(c,p),p+=3,g.toArray(c,p),p+=3,g.toArray(c,p),p+=3,g.toArray(c,p),p+=3}const h=new It;h.setAttribute("position",new ds(o,3)),h.setAttribute("color",new ds(c,3));const u=new yn({vertexColors:!0,toneMapped:!1});super(h,u);this.type="GridHelper"}}const Tn=new Uint32Array(512),In=new Uint32Array(512);for(let e=0;e<256;++e){const i=e-127;i<-27?(Tn[e]=0,Tn[e|256]=32768,In[e]=24,In[e|256]=24):i<-14?(Tn[e]=1024>>-i-14,Tn[e|256]=1024>>-i-14|32768,In[e]=-i-1,In[e|256]=-i-1):i<=15?(Tn[e]=i+15<<10,Tn[e|256]=i+15<<10|32768,In[e]=13,In[e|256]=13):i<128?(Tn[e]=31744,Tn[e|256]=64512,In[e]=24,In[e|256]=24):(Tn[e]=31744,Tn[e|256]=64512,In[e]=13,In[e|256]=13)}const Hy=new Uint32Array(2048),Co=new Uint32Array(64),OP=new Uint32Array(64);for(let e=1;e<1024;++e){let i=e<<13,t=0;for(;(i&8388608)===0;)i<<=1,t-=8388608;i&=-8388609,t+=947912704,Hy[e]=i|t}for(let e=1024;e<2048;++e)Hy[e]=939524096+(e-1024<<13);for(let e=1;e<31;++e)Co[e]=e<<23;Co[31]=1199570944,Co[32]=2147483648;for(let e=33;e<63;++e)Co[e]=2147483648+(e-32<<23);Co[63]=3347054592;for(let e=1;e<64;++e)e!==32&&(OP[e]=1024);Yi.create=function(e,i){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(Yi.prototype),e.prototype.constructor=e,e.prototype.getPoint=i,e},Md.prototype.fromPoints=function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)},KP.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},JP.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},An.prototype.extractUrlBase=function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),IP.extractUrlBase(e)},An.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},is.prototype.center=function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},is.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},is.prototype.isIntersectionBox=function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},is.prototype.isIntersectionSphere=function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},is.prototype.size=function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)},mn.prototype.toVector3=function(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")},qi.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},co.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)},gn.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Es.prototype.flattenToArrayOffset=function(e,i){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,i)},Es.prototype.multiplyVector3=function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},Es.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},Es.prototype.applyToBufferAttribute=function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},Es.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},Es.prototype.getInverse=function(e){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()},_e.prototype.extractPosition=function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},_e.prototype.flattenToArrayOffset=function(e,i){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,i)},_e.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new H().setFromMatrixColumn(this,3)},_e.prototype.setRotationFromQuaternion=function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},_e.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},_e.prototype.multiplyVector3=function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},_e.prototype.multiplyVector4=function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},_e.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},_e.prototype.rotateAxis=function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},_e.prototype.crossVector=function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},_e.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},_e.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},_e.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},_e.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},_e.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},_e.prototype.applyToBufferAttribute=function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},_e.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},_e.prototype.makeFrustum=function(e,i,t,s,n,r){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,i,s,t,n,r)},_e.prototype.getInverse=function(e){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()},mi.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},Ls.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Ls.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},ur.prototype.isIntersectionBox=function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},ur.prototype.isIntersectionPlane=function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},ur.prototype.isIntersectionSphere=function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},Is.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},Is.prototype.barycoordFromPoint=function(e,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,i)},Is.prototype.midpoint=function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},Is.prototypenormal=function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},Is.prototype.plane=function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)},Is.barycoordFromPoint=function(e,i,t,s,n){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Is.getBarycoord(e,i,t,s,n)},Is.normal=function(e,i,t,s){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Is.getNormal(e,i,t,s)},Io.prototype.extractAllPoints=function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},Io.prototype.extrude=function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new ia(this,e)},Io.prototype.makeGeometry=function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Ud(this,e)},Xe.prototype.fromAttribute=function(e,i,t){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,i,t)},Xe.prototype.distanceToManhattan=function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},Xe.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},H.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},H.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},H.prototype.getPositionFromMatrix=function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},H.prototype.getScaleFromMatrix=function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},H.prototype.getColumnFromMatrix=function(e,i){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(i,e)},H.prototype.applyProjection=function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},H.prototype.fromAttribute=function(e,i,t){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,i,t)},H.prototype.distanceToManhattan=function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},H.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},De.prototype.fromAttribute=function(e,i,t){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,i,t)},De.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},zt.prototype.getChildByName=function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},zt.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},zt.prototype.translate=function(e,i){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(i,e)},zt.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},zt.prototype.applyMatrix=function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)},Object.defineProperties(zt.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),ns.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(ns.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),_E},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),J0.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},ai.prototype.setLens=function(e,i){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),i!==void 0&&(this.filmGauge=i),this.setFocalLength(e)},Object.defineProperties(Gn.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(Nt.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Vc},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Vc)}}}),Nt.prototype.setDynamic=function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(e===!0?Vc:to),this},Nt.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},Nt.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},It.prototype.addIndex=function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},It.prototype.addAttribute=function(e,i){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(i&&i.isBufferAttribute)&&!(i&&i.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new Nt(arguments[1],arguments[2]))):e==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(i),this):this.setAttribute(e,i)},It.prototype.addDrawCall=function(e,i,t){t!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,i)},It.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},It.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},It.prototype.removeAttribute=function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},It.prototype.applyMatrix=function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)},Object.defineProperties(It.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),po.prototype.setDynamic=function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(e===!0?Vc:to),this},po.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},ia.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},ia.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},ia.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},On.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},Rh.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this},Object.defineProperties(Ps.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new ie}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===lb}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}}),Object.defineProperties(li.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),rs.prototype.clearTarget=function(e,i,t,s){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(i,t,s)},rs.prototype.animate=function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},rs.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},rs.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},rs.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},rs.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},rs.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},rs.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},rs.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},rs.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},rs.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},rs.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},rs.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},rs.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},rs.prototype.enableScissorTest=function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},rs.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},rs.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},rs.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},rs.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},rs.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},rs.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},rs.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},rs.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},rs.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},rs.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties(rs.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=e===!0?Ts:Hn}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}}),Object.defineProperties(E0.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(_s.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),LP.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const i=this;return new WP().load(e,function(s){i.setBuffer(s)}),this},hd.prototype.updateCubeMap=function(e,i){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,i)},hd.prototype.clear=function(e,i,t,s){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(e,i,t,s)},Or.crossOrigin=void 0,Or.loadTexture=function(e,i,t,s){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const n=new Xy;n.setCrossOrigin(this.crossOrigin);const r=n.load(e,t,void 0,s);return i&&(r.mapping=i),r},Or.loadTextureCube=function(e,i,t,s){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const n=new yP;n.setCrossOrigin(this.crossOrigin);const r=n.load(e,t,void 0,s);return i&&(r.mapping=i),r},Or.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Or.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Ai}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Ai);let Mi=typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:typeof gs<"u"?gs:{};Mi.requestAnimationFrame,Mi.cancelAnimationFrame,function(){if(typeof process<"u"&&process.hrtime!==void 0&&(!process.versions||process.versions.electron===void 0))return function(){const e=process.hrtime();return e[0]*1e3+e[1]/1e6};if(Mi.performance!==void 0&&Mi.performance.now!==void 0)return Mi.performance.now.bind(Mi.performance);{const e=Mi.performance&&Mi.performance.timing&&Mi.performance.timing.navigationStart?Mi.performance.timing.navigationStart:Date.now();return function(){return Date.now()-e}}}();var Py=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zy={exports:{}};(function(e,i){(function(t,s){e.exports=s()})(Py,function(){var t=function(){function s(p){return l.appendChild(p.dom),p}function n(p){for(var G=0;G<l.children.length;G++)l.children[G].style.display=G===p?"block":"none";r=p}var r=0,l=document.createElement("div");l.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",l.addEventListener("click",function(p){p.preventDefault(),n(++r%l.children.length)},!1);var a=(performance||Date).now(),o=a,c=0,h=s(new t.Panel("FPS","#0ff","#002")),u=s(new t.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var d=s(new t.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:l,addPanel:s,showPanel:n,begin:function(){a=(performance||Date).now()},end:function(){c++;var p=(performance||Date).now();if(u.update(p-a,200),p>o+1e3&&(h.update(1e3*c/(p-o),100),o=p,c=0,d)){var G=performance.memory;d.update(G.usedJSHeapSize/1048576,G.jsHeapSizeLimit/1048576)}return p},update:function(){a=this.end()},domElement:l,setMode:n}};return t.Panel=function(s,n,r){var l=1/0,a=0,o=Math.round,c=o(window.devicePixelRatio||1),h=80*c,u=48*c,d=3*c,p=2*c,G=3*c,g=15*c,I=74*c,X=30*c,S=document.createElement("canvas");S.width=h,S.height=u,S.style.cssText="width:80px;height:48px";var x=S.getContext("2d");return x.font="bold "+9*c+"px Helvetica,Arial,sans-serif",x.textBaseline="top",x.fillStyle=r,x.fillRect(0,0,h,u),x.fillStyle=n,x.fillText(s,d,p),x.fillRect(G,g,I,X),x.fillStyle=r,x.globalAlpha=.9,x.fillRect(G,g,I,X),{dom:S,update:function(v,L){l=Math.min(l,v),a=Math.max(a,v),x.fillStyle=r,x.globalAlpha=1,x.fillRect(0,0,h,g),x.fillStyle=n,x.fillText(o(v)+" "+s+" ("+o(l)+"-"+o(a)+")",d,p),x.drawImage(S,G+c,g,I-c,X,G,g,I-c,X),x.fillRect(G+I-c,g,c,X),x.fillStyle=r,x.globalAlpha=.9,x.fillRect(G+I-c,g,c,o((1-v/L)*X))}}},t})})(zy);var AP=zy.exports;const BP="62.1.0";var tt=(e=>(e.ControlModeChanged="pointscene_control_mode_change",e.ControlsUICreated="pointscene_controls_ui_created",e.DepthEnabled="pointscene_depth_enabled",e.DisableControls="pointscene_disable_controls",e.EnableControls="pointscene_enable_controls",e.EnterSphereMode="pointscene_enter_sphere_mode",e.ExitSphereMode="pointscene_exit_sphere_mode",e.LayerUICreated="pointscene_layer_ui_created",e.MeasureUICreated="pointscene_measure_ui_created",e.PointcloudUICreated="pointscene_pointcloud_ui_created",e.RegisterControls="pointscene_register_controls",e.RegisterLayers="pointscene_register_layers",e.RegisterPicker="pointscene_register_picker",e.RegisterPointclouds="pointscene_register_pointclouds",e.RegisterUpdateHook="pointscene_register_update_hook",e.SetPhotoBackgroundMode="pointscene_set_photo_background_mode",e.SetPhotoPeekMode="pointscene_set_photo_peek_mode",e.UpdateOrbitPoint="pointscene_update_orbit_point",e))(tt||{});class wi{constructor(){this._debug=!1}dispatch(i,t,s){const n={};t!==void 0&&(n.detail=t),this._debug&&console.log(i,t);const r=new CustomEvent(i,n);(s||window).dispatchEvent(r)}}const jP=(e,i,t)=>{const s=[];let n=-1,r=0,l=e.length/i-1,a=0,o=0,c=0;const h=function(g,I){for(g*=i,I*=i,c=0;c<i;c++)a=e[g+c],e[g+c]=e[I+c],e[I+c]=a};let u,d;const p=new Float64Array(i),G=new Float64Array(i);for(;;)if(l-r<=25){for(d=r+1;d<=l;d++){for(o=0;o<i;o++)p[o]=e[d*i+o];for(u=d-1;u>=r&&e[u*i+t]>p[t];){for(o=0;o<i;o++)e[(u+1)*i+o]=e[u*i+o];u--}for(o=0;o<i;o++)e[(u+1)*i+o]=p[o]}if(n===-1)break;l=s[n--],r=s[n--]}else{const g=r+l>>1;for(u=r+1,d=l,h(g,u),e[r*i+t]>e[l*i+t]&&h(r,l),e[u*i+t]>e[l*i+t]&&h(u,l),e[r*i+t]>e[u*i+t]&&h(r,u),o=0;o<i;o++)G[o]=e[u*i+o];for(;;){do u++;while(e[u*i+t]<G[t]);do d--;while(e[d*i+t]>G[t]);if(d<u)break;h(u,d)}for(o=0;o<i;o++)e[(r+1)*i+o]=e[d*i+o],e[d*i+o]=G[o];l-u+1>=d-r?(s[++n]=u,s[++n]=l,l=d-1):(s[++n]=r,s[++n]=d-1,r=u)}return e};class QP{constructor(i,t,s){this.metric=t,this.maxDepth=0,this.eleSize=s;const n=function(l,a){return l.subarray(a*s,a*s+s)},r=(l,a,o,c)=>{const h=a%s;let u,d;const p=l.length/s;return a>this.maxDepth&&(this.maxDepth=a),p===0?null:p===1?new Uy(n(l,0),a,o,c):(jP(l,s,h),u=Math.floor(p/2),d=new Uy(n(l,u),a,o,u+c),d.left=r(l.subarray(0,u*s),a+1,d,c),d.right=r(l.subarray((u+1)*s,l.length),a+1,d,c+u+1),d)};this.root=r(i,0,null,0)}getMaxDepth(){return this.maxDepth}nearest(i,t,s){let n;const r=new _P(function(a){return-a[1]}),l=a=>{let o;const c=a.depth%this.eleSize,h=this.metric(i,a.obj);let u=0,d,p;const G=[];function g(I,X){r.push([I,X]),r.size()>t&&r.pop()}for(p=0;p<this.eleSize;p+=1)p===a.depth%this.eleSize?G[p]=i[p]:G[p]=a.obj[p];if(u=this.metric(G,a.obj),a.right===null&&a.left===null){(r.size()<t||h<r.peek()[1])&&g(a,h);return}a.right===null?o=a.left:a.left===null?o=a.right:i[c]<a.obj[c]?o=a.left:o=a.right,l(o),(r.size()<t||h<r.peek()[1])&&g(a,h),(r.size()<t||Math.abs(u)<r.peek()[1])&&(o===a.left?d=a.right:d=a.left,d!==null&&l(d))};if(s)for(let a=0;a<t;a+=1)r.push([null,s]);l(this.root),n=[];for(let a=0;a<t;a+=1)r.content[a][0]&&n.push([r.content[a][0],r.content[a][1]]);return n}}class Uy{constructor(i,t,s,n){this.obj=i,this.left=null,this.right=null,this.parent=s,this.depth=t,this.pos=n}}class _P{constructor(i){this.content=[],this.scoreFunction=i}push(i){this.content.push(i),this.bubbleUp(this.content.length-1)}pop(){const i=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.sinkDown(0)),i}peek(){return this.content[0]}remove(i){const t=this.content.length;for(let s=0;s<t;s++)if(this.content[s]===i){const n=this.content.pop();s!==t-1&&(this.content[s]=n,this.scoreFunction(n)<this.scoreFunction(i)?this.bubbleUp(s):this.sinkDown(s));return}throw new Error("Node not found.")}size(){return this.content.length}bubbleUp(i){const t=this.content[i];for(;i>0;){const s=Math.floor((i+1)/2)-1,n=this.content[s];if(this.scoreFunction(t)<this.scoreFunction(n))this.content[s]=t,this.content[i]=n,i=s;else break}}sinkDown(i){const t=this.content.length,s=this.content[i],n=this.scoreFunction(s);for(;;){const r=(i+1)*2,l=r-1;let a=null,o;if(l<t){const c=this.content[l];o=this.scoreFunction(c),o<n&&(a=l)}if(r<t){const c=this.content[r];this.scoreFunction(c)<(a===null?n:o)&&(a=r)}if(a!==null)this.content[i]=this.content[a],this.content[a]=s,i=a;else break}}}class ky{constructor(i){this.depthScale=100,this.scene=i.scene,this.sceneLabels=i.sceneLabels,this.domEl=i.domEl,this.mouse=i.mouse,this.camera=i.camera,this.referenceFrame=i.referenceFrame,this.screenWidth=this.domEl.clientWidth,this.screenHeight=this.domEl.clientHeight,this.group=new Si,this.scene.add(this.group),this.toolActive=!1,this.manager=new Iy,this.loader=new Xy(this.manager),this.loader.setCrossOrigin("*"),this.events=new wi,this.color=16777215,this.hoverColor=15886354,this.activeColor=12320768,this.type="Photo",this.eps=1e-5,this.activeOpacity=1,this.peekMplier=.1,this.peekRadius=0,this.monoColor=0,this.activeMaterialNeedsUpdate=!1,this.nNearest=25,this.maxDistance=100,this.addPhotosBinds(),this.addPhotosListeners(),this.binds(),this.addListeners()}dispose(){this.nearestObjects=void 0,this.geometry&&(this.geometry.dispose(),this.geometry=void 0),this.activeTexture=void 0,this.activeDepthTexture=void 0,this.activeDepthData=void 0,this.activeObject&&(this.activeObject.geometry.dispose(),this.activeObject.material.map&&this.activeObject.material.map.dispose(),this.activeObject.material.dispose(),this.activeObject=void 0),this.targetObject&&(this.targetObject.geometry.dispose(),this.targetObject.material.map&&this.targetObject.material.map.dispose(),this.targetObject.material.dispose(),this.targetObject=void 0),this.scene.remove(this.group),this.removeListeners()}update(){if(this.activeMaterialNeedsUpdate&&this.activeObject){const i=this.activeObject.material;i.uniforms.screen.value=new Xe(this.screenWidth,this.screenHeight),i.uniforms.radius.value=this.peekRadius,i.uniforms.opacity.value=this.activeOpacity,this.activeMaterialNeedsUpdate=!1}if(this.peekRadius>this.eps&&this.activeObject){const i=this.mouse.x/this.domEl.clientWidth*2-1,t=-(this.mouse.y/this.domEl.clientHeight)*2+1;this.activeObject.material.uniforms.mouse.value=new Xe(i,t)}}setAllPickable(i){for(let t=0;t<this.group.children.length;t++)this.group.children[t].userData.isPickable=i}getGeometry(){return this.geometry===void 0&&(this.geometry=new Zh(1,32,16)),this.geometry}getRingGeometry(){return typeof this.ringGeometry>"u"&&(this.ringGeometry=new wd(1,24)),this.ringGeometry}getActiveMaterial(){const i={vertexShader:["#ifdef GL_ES","precision highp float;","#endif","varying vec2 vUv;","varying vec2 pixel;","uniform sampler2D depthmap;","uniform float depthScale;","const float eps = 1e-5;","void main(){","  vUv = uv;","  if (depthScale > eps) {","    vec4 depth = texture2D(depthmap, vUv);","    vec3 newPosition = position + normal * depth.x * depthScale;","    vec4 v = projectionMatrix * modelViewMatrix * vec4(newPosition, 1.0);","    float x = v.x / v.z;","    float y = v.y / v.z;","    pixel = vec2(0.5 * x + 0.5, - 0.5 * y + 0.5);","    gl_Position = v;","  } else {","    vec4 v = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","    float x = v.x / v.z;","    float y = v.y / v.z;","    pixel = vec2(0.5 * x + 0.5, - 0.5 * y + 0.5);","    gl_Position = v;","  }","}"].join(`
`),fragmentShader:["#ifdef GL_ES","precision highp float;","#endif","uniform sampler2D texture1;","uniform sampler2D depthmap;","uniform vec2 mouse;","uniform vec2 screen;","uniform float radius;","uniform float opacity;","uniform float mono;","varying vec2 vUv;","varying vec2 pixel;","const float eps = 1e-5;","const float PI = 3.14159265359;","void main() {","  vec2 pos = vUv;","  vec2 px = pixel;","  vec4 color1 = texture2D(texture1, vUv);","  float opacityOut = opacity;","  if(radius >= eps) {","    vec2 mouse_n = vec2(mouse.x * 0.5 + 0.5, -mouse.y * 0.5 + 0.5);","    vec2 px_screen = vec2(px.x * screen.x, px.y * screen.y);","    vec2 mouse_screen = vec2(mouse_n.x * screen.x, mouse_n.y * screen.y);","    if(distance(mouse_screen, px_screen) < radius) {","      discard;","    }","  }","  vec4 colorOut = color1;","  colorOut.a = opacityOut;","  if(mono > eps){","    vec3 luma = vec3(.299, 0.587, 0.114);","    gl_FragColor = vec4(vec3(dot(colorOut.rgb, luma)), colorOut.a);","  }","  else {","    gl_FragColor = colorOut;","  }","}"].join(`
`)},t={texture1:{type:"t",value:""},depthmap:{type:"t",value:""},depthScale:{type:"f",value:0},mouse:{type:"v2",value:new Xe(.5,.5)},screen:{type:"v2",value:new Xe(this.screenWidth,this.screenHeight)},mono:{type:"f",value:0},radius:{type:"f",value:this.peekRadius},opacity:{type:"f",value:this.activeOpacity}};return new li({uniforms:t,vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:fi,transparent:!0,depthWrite:!1,depthTest:!1,clipping:!1})}getMaterial(){return new pr({color:this.color,visible:!0,wireframe:!1,transparent:!0,depthTest:!0,depthWrite:!0,opacity:.8,side:lr})}setPeekMode(i){this.peekRadius=this.screenWidth>this.screenHeight?this.peekMplier*this.screenWidth:this.peekMplier*this.screenHeight,i?this.activeObject.material.uniforms.radius.value=this.peekRadius:this.activeObject.material.uniforms.radius.value=0}handleResize(){if(this.activeObject===void 0)return;const i=this.domEl,t=this.activeObject.material;t.uniforms.screen.value=new Xe(i.clientWidth,i.clientHeight),t.needsUpdate=!0}handleClearHoveredObjects(){this.hoveredObject!==void 0&&this.hoveredObject.dispatchEvent({type:"hover_out"})}handleSetPhotoPeekMode(i){this.setPeekMode(i.detail.value)}handleLeftClick(){this.hoveredObject!==void 0&&this.hoveredObject.dispatchEvent({type:"set_active"})}handleRightClick(){this.isActive&&!this.toolActive&&this.events.dispatch("pointscene_exit_sphere_mode",void 0,this.domEl)}handleEnterSphereMode(){this.setAllPickable(!1),this.isActive=!0}handleExitSphereMode(){!this.targetObject||(this.targetObject.dispatchEvent({type:"set_deactive"}),this.setAllPickable(!0),this.isActive=!1,this.activeObject&&this.scene.remove(this.activeObject),this.nearestObjects=[],this.targetObject.material&&(this.targetObject.material.map&&this.targetObject.material.map.dispose(),this.targetObject.material.dispose()),this.targetObject=void 0,this.activeTexture=void 0,this.activeDepthTexture=void 0,this.activeDepthData=void 0)}addPhotosBinds(){this.handleResize=this.handleResize.bind(this),this.handleSetPhotoPeekMode=this.handleSetPhotoPeekMode.bind(this),this.handleLeftClick=this.handleLeftClick.bind(this),this.handleEnterSphereMode=this.handleEnterSphereMode.bind(this),this.handleExitSphereMode=this.handleExitSphereMode.bind(this)}addPhotosListeners(){window.addEventListener("resize",this.handleResize,!1),this.domEl.addEventListener("pointscene_clear_hovered_objects",this.handleClearHoveredObjects,!1),this.domEl.addEventListener(tt.SetPhotoPeekMode,this.handleSetPhotoPeekMode,!1),this.domEl.addEventListener("pointscene_on_leftclick",this.handleLeftClick,!1),this.domEl.addEventListener("pointscene_on_rightclick",this.handleRightClick,!1),this.domEl.addEventListener(tt.EnterSphereMode,this.handleEnterSphereMode,!1),this.domEl.addEventListener(tt.ExitSphereMode,this.handleExitSphereMode,!1)}removePhotosListeners(){window.removeEventListener("resize",this.handleResize,!1),this.domEl.removeEventListener("pointscene_clear_hovered_objects",this.handleClearHoveredObjects,!1),this.domEl.removeEventListener(tt.SetPhotoPeekMode,this.handleSetPhotoPeekMode,!1),this.domEl.removeEventListener("pointscene_on_leftclick",this.handleLeftClick,!1),this.domEl.removeEventListener("pointscene_on_rightclick",this.handleRightClick,!1),this.domEl.removeEventListener(tt.EnterSphereMode,this.handleEnterSphereMode,!1),this.domEl.removeEventListener(tt.ExitSphereMode,this.handleExitSphereMode,!1)}binds(){}addListeners(){}removeListeners(){}addObjectListeners(i){const t=this;i.addEventListener("hover_in",function(s){const n=s.target;!n.material.visible||!n.userData.isInteractive||t.toolActive||(n.material.color.equals(new ie(t.activeColor))||n.material.color.setHex(t.hoverColor),t.hoveredObject=i,t.domEl.style.cursor="pointer")}),i.addEventListener("hover_out",function(s){const n=s.target;n.material.color.equals(new ie(t.activeColor))||n.material.color.setHex(t.color),t.hoveredObject=void 0,t.domEl.style.cursor="auto"}),i.addEventListener("set_active",function(s){const n=s.target;n.userData.activateCallback(n)}),i.addEventListener("set_deactive",function(s){const n=s.target;n.userData.deactivateCallback(n)})}load(i){console.warn("Photos.load: not implemented in base class.",i)}add(i,t){if(typeof i.quaternion>"u"&&typeof i.euler>"u")throw new Error('Missing "quaternion" or "euler" from photo object');if(typeof i.position>"u")throw new Error('Missing "position" from photo object');t=t||{};const s=t.geometry||this.getGeometry(),n=t.material||this.getMaterial(),r=this.referenceFrame.toScene(i.position);let l;if(i.quaternion)l=new Ls(i.quaternion.x,i.quaternion.y,i.quaternion.z,i.quaternion.w);else if(i.euler)l=new Ls().setFromEuler(new mn(i.euler.x,i.euler.y,i.euler.z));else throw new Error("No photo orientation");i.url;const a=t.activateCallback||function(){console.error("Photos.activateCallback missing")},o=t.deactivateCallback||function(){console.error("Photos.deactivateCallback missing")},c=new ns(s,n);c.userData.idx=this.group.children.length,c.userData.isPickable=!0,c.userData.isInteractive=!0,this.addObjectListeners(c),c.up.set(0,0,1),c.position.set(r.x,r.y,r.z),c.rotation.setFromQuaternion(l),c.scale.set(1,1,1),c.userData=Object.assign(c.userData,i),c.userData.activateCallback=a,c.userData.deactivateCallback=o,c.userData.position=r,c.userData.quaternion=l,this.group.add(c)}getObjectAtIndex(i){return this.group.children[i]}index(){const i=function(r,l){return(r[0]-l[0])*(r[0]-l[0])+(r[1]-l[1])*(r[1]-l[1])},t=[],s=this.group.children.length;for(let r=0;r<s;r++){const l=this.group.children[r].position,a=[l.x,l.y,l.z,r];t.push(...a)}const n=new Float64Array(t);this.kdtree=new QP(n,i,4)}openNearest(i){const t=this.getNearest(i);if(!t||t.length===0)return;t.sort(function(n,r){return n.d-r.d});const s=this.getObjectAtIndex(t[0].idx);this.isActive?this.targetObject===s||s.dispatchEvent({type:"set_active"}):s.dispatchEvent({type:"set_active"})}getNearest(i,t){if(!this.kdtree)return;t=t||{};const s=t.nNearest||10;let n=t.maxDistance||100;n*=n;const r=this.kdtree.nearest([i.x,i.y,i.z],s,n),l=[];for(let a=0;a<r.length;a++){const o=r[a],c=o[0],h=Math.round(c.obj[3]),u=o[1];l.push({d:u,idx:h})}return l}}var qP=(e,i,t)=>new Promise((s,n)=>{var r=o=>{try{a(t.next(o))}catch(c){n(c)}},l=o=>{try{a(t.throw(o))}catch(c){n(c)}},a=o=>o.done?s(o.value):Promise.resolve(o.value).then(r,l);a((t=t.apply(e,i)).next())});const Dy=1/255,Jy=Dy*1/255,Ky=Jy*1/255,$P=Ky*1/255;class Oy extends ky{constructor(i){super(i);this.ringOffset=new H(0,0,-1.86),this.type="PhotoSphere",this.createActiveSphere()}pick(i){if(!this.activeObject)return null;const t=i.intersectObject(this.activeObject);if(t.length<1)return null;const s=t[0].point,n=this.camera.position.clone(),r=new H().subVectors(s,n).normalize(),l=t[0].uv;if(!l)return null;const a=this.getDepthPixelValue(l);if(a.length===0||a.reduce((u,d)=>u+d,0)===0)return null;const o=100,c=this.getDepthMetricValue(a,o);return{point:new H().addVectors(n,r.clone().multiplyScalar(c)),object:t[0].object,objectType:"depth",distance:c}}hasDepthData(){return typeof this.activeDepthData<"u"}createActiveSphere(){const s=new Zh(1,360,180),n=this.getActiveMaterial();this.activeObject=new ns(s,n),this.activeObject.up.set(0,0,1),this.activeObject.scale.set(-100,100,100),this.activeObject.name="ActivePhotoSphere",this.activeObject.userData.isPickable=!1}getDepthMetricValue(i,t=100){const s=i[0]*Dy+i[1]*Jy+i[2]*Ky+i[3]*$P;return t*s}normalizePixel(i,t,s){let n=i[0],r=i[1];return n=n<0?t-n:n,n=n>t?n-(t-1):n,r=r<0?s-r:r,r=r>s?r-(s-1):r,[n,r]}getDepthPixelValue(i){if(typeof this.activeDepthData>"u")return[];const t=this.activeDepthData,s=this.normalizePixel([Math.floor(i.x*t.width),Math.floor((1-i.y)*t.height)],t.width,t.height),n=(s[1]*t.width+s[0])*4;return[t.data[n+0],t.data[n+1],t.data[n+2],t.data[n+3]]}load(i,t){typeof t<"u"&&(this.getUrlCallback=t.getUrl,this.getDepthCallback=t.getDepthUrl),this.nearestObjects=[],this.targetObject=void 0;const s=this,n=p=>{const G=this.camera.position,I=p.position.clone().sub(G).normalize();this.events.dispatch(tt.EnterSphereMode,{target:p,normal:I,saveState:!1},this.domEl)},r=function(p,G=.01){for(let g=0;g<p.length;g++){if(p[g].d<G)continue;const I=s.getObjectAtIndex(p[g].idx);I.geometry.dispose(),I.geometry=s.getRingGeometry(),I.position.add(s.ringOffset),I.rotation.set(0,0,0)}},l=function(p,G=.01){for(let g=0;g<p.length;g++){if(p[g].d<G)continue;const I=s.getObjectAtIndex(p[g].idx);I.geometry.dispose(),I.geometry=s.getGeometry(),I.position.set(I.userData.position.x,I.userData.position.y,I.userData.position.z),I.rotation.setFromQuaternion(new Ls(I.userData.quaternion.x,I.userData.quaternion.y,I.userData.quaternion.z,I.userData.quaternion.w))}},a=function(p,G){for(let g=0;g<p.length;g++){const I=s.getObjectAtIndex(p[g].idx);G?(I.userData.isPickable=!1,I.renderOrder=0):(I.userData.isPickable=!0,I.renderOrder=Number.MAX_VALUE),I.material.depthTest=G,I.material.depthWrite=G,I.material.needsUpdate=!0}},o=p=>{p.minFilter=Ms,s.activeTexture=p,!!s.targetObject&&(s.targetObject.material.visible=!1,s.targetObject.material.needsUpdate=!0,s.nearestObjects=s.getNearest(s.targetObject.position,{nNearest:s.nNearest,maxDistance:s.maxDistance}),r(s.nearestObjects),a(s.nearestObjects,!1),s.scene.getObjectByName("ActivePhotoSphere")&&n(s.targetObject),!!s.activeObject&&(s.activeObject.material.uniforms.texture1.value=s.activeTexture,s.activeObject.position.set(s.targetObject.userData.position.x,s.targetObject.userData.position.y,s.targetObject.userData.position.z),s.activeObject.rotation.setFromQuaternion(new Ls(s.targetObject.userData.quaternion.x,s.targetObject.userData.quaternion.y,s.targetObject.userData.quaternion.z,s.targetObject.userData.quaternion.w)),s.activeObject.material.uniforms.mono.value=0,s.scene.getObjectByName("ActivePhotoSphere")||s.scene.add(s.activeObject)))},c=function(){},h=function(){},u=p=>qP(this,null,function*(){s.isActive&&s.targetObject?s.targetObject.dispatchEvent({type:"set_deactive"}):s.events.dispatch(tt.EnterSphereMode,{target:p,normal:new H(0,1,0),saveState:!0},s.domEl);const G=p.userData;let g;if(G.url)g=G.url;else{if(typeof this.getUrlCallback>"u")throw new Error('Provide either "url" for photo object or "getUrl" as callback in load opts');g=yield this.getUrlCallback(G)}s.targetObject=p,s.activeObject&&(s.activeObject.material.uniforms.mono.value=1),s.loader.load(g,o,c,h);let I;typeof G.depthUrl<"u"?I=G.depthUrl:typeof this.getDepthCallback<"u"&&(I=yield this.getDepthCallback(G)),typeof I<"u"?s.loader.load(I,function(X){const S=document.createElement("canvas");S.width=X.image.width,S.height=X.image.height;const x=S.getContext("2d");!x||(x.drawImage(X.image,0,0),s.activeDepthData=x.getImageData(0,0,X.image.width,X.image.height),s.activeDepthTexture=X,s.activeObject.material.uniforms.depthmap.value=X,s.events.dispatch(tt.DepthEnabled,{value:!0},s.domEl))}):s.events.dispatch(tt.DepthEnabled,{value:!1},s.domEl)}),d=function(){!s.targetObject||(s.targetObject.material.visible=!0,s.targetObject.material.needsUpdate=!0,l(s.nearestObjects),a(s.nearestObjects,!0))};for(const p of i)this.referenceFrame.isSet()||(this.referenceFrame.position=new H(p.position.x,p.position.y,p.position.z)),this.add(p,{activateCallback:u,deactivateCallback:d});return this.index(),this.group}setTargetSize(i){for(let t=0;t<this.group.children.length;t++)this.group.children[t].scale.set(i,i,i);this.events.dispatch("pointscene_photosphere_target_size_changed",{value:i},this.domEl)}setActiveOpacity(i){this.activeObject&&(this.activeObject.material.uniforms.opacity.value=i),this.events.dispatch("pointscene_photosphere_active_opacity_changed",{value:i},this.domEl)}setVisibility(i){for(let t=0;t<this.group.children.length;t++)this.group.children[t].material.visible=i,this.group.children[t].userData.isPickable=i;this.events.dispatch("pointscene_photosphere_target_visiblity_changed",{value:i},this.domEl)}setBackgroundMode(i){!this.activeObject||(i?(this.activeObject.material.depthTest=!0,this.activeObject.material.depthWrite=!1,this.activeObject.scale.set(-1e3,1e3,1e3)):(this.activeObject.material.depthTest=!1,this.activeObject.material.depthWrite=!1,this.activeObject.scale.set(-100,100,100)),this.activeObject.material.needsUpdate=!0,this.events.dispatch("pointscene_photosphere_background_mode_changed",{value:i},this.domEl))}handleOpenNearestSphere(i){this.openNearest(i.detail.position)}handleSetSphereBackgroundMode(i){this.setBackgroundMode(i.detail.value)}handleSetSphereVisibility(i){this.setVisibility(i.detail.value)}handleSetSphereSize(i){this.setTargetSize(i.detail.value)}handleSetSphereOpacity(i){this.setActiveOpacity(i.detail.value)}handleLoadSpheres(i){this.load(i.detail)}binds(){this.handleSetSphereBackgroundMode=this.handleSetSphereBackgroundMode.bind(this)}addListeners(){this.domEl.addEventListener(tt.SetPhotoBackgroundMode,this.handleSetSphereBackgroundMode,!1)}removeListeners(){this.domEl.removeEventListener(tt.SetPhotoBackgroundMode,this.handleSetSphereBackgroundMode,!1),this.removePhotosListeners()}}function Sh(e,i){return new is().setFromPoints([new H(e.min.x,e.min.y,e.min.z).applyMatrix4(i),new H(e.min.x,e.min.y,e.min.z).applyMatrix4(i),new H(e.max.x,e.min.y,e.min.z).applyMatrix4(i),new H(e.min.x,e.max.y,e.min.z).applyMatrix4(i),new H(e.min.x,e.min.y,e.max.z).applyMatrix4(i),new H(e.min.x,e.max.y,e.max.z).applyMatrix4(i),new H(e.max.x,e.max.y,e.min.z).applyMatrix4(i),new H(e.max.x,e.min.y,e.max.z).applyMatrix4(i),new H(e.max.x,e.max.y,e.max.z).applyMatrix4(i)])}function Ay(e,i){const t=e.min.clone(),s=e.max.clone(),n=new H().subVectors(s,t);return(i&1)>0?t.z+=n.z/2:s.z-=n.z/2,(i&2)>0?t.y+=n.y/2:s.y-=n.y/2,(i&4)>0?t.x+=n.x/2:s.x-=n.x/2,new is(t,s)}const By=["Y","Z"];class jy{constructor(){this._isSet=!1,this._upAxis="Z",this.mRotation=new _e().identity(),this.mScale=new _e().identity(),this.mPosition=new _e().identity(),this.mPreComputed=new _e().identity(),this.mNeedsUpdate=!1}computeBoundingBox(i){const t=this.getTransformationMatrix();return Sh(i,t)}computeUntranslatedBoundingBox(i){const t=this.mRotation.clone().multiply(this.mScale);return Sh(i,t)}decomposeMatrix(i){const t=new H,s=new Ls,n=new H,r=new mn;if(i.decompose(t,s,n),r.setFromQuaternion(s),this._upAxis==="Z"){const l=n.x;n.x=n.y,n.y=l}return{position:t,quaternion:s,rotation:r,scale:n}}getSceneGroup(i){const t=this.getTransformationMatrix(),{position:s,quaternion:n,rotation:r}=this.decomposeMatrix(t),l=this.getScale(),a=new Si;this._upAxis==="Z"?a.up.set(0,0,1):a.up.set(0,1,0),a.matrixAutoUpdate=!1,a.matrix=t,a.matrixWorld=t,a.position.copy(s),a.quaternion.copy(n),a.rotation.copy(r),a.updateMatrix();for(const o of i)o.scale.copy(l),o.matrixAutoUpdate=!1,a.add(o),o.updateMatrix();return a.updateMatrixWorld(!0),a}getTransformationMatrix(i,t){if(!i&&!this.mNeedsUpdate)return this.mPreComputed;const s=this.mRotation.clone();return this.mPreComputed=s.copyPosition(this.mPosition),t&&(this.mPreComputed.elements[0]=this.mScale.elements[0],this.mPreComputed.elements[5]=this.mScale.elements[5],this.mPreComputed.elements[10]=this.mScale.elements[10]),this.mNeedsUpdate=!!t,this.mPreComputed}isSet(){return this._isSet}toGeo(i,t={}){this.isSet()||console.warn("ReferenceFrame.toGeo: ref not set");const s=this._normalize(i),r=this.getTransformationMatrix(t.forceMatrixUpdate,t.useScale).clone().invert();return s.applyMatrix4(r)}toScene(i,t={}){return this.isSet()||console.warn("ReferenceFrame.toScene: ref not set"),this._normalize(i).applyMatrix4(this.getTransformationMatrix(t.forceMatrixUpdate,t.useScale))}set upAxis(i){if(!By.includes(i))throw new Error("Invalid up axis: "+i+". Allowed: "+By.join(" "));i==="Y"?this.mRotation.makeRotationX(-Math.PI/2):this.mRotation.identity(),this.mNeedsUpdate=!0,this._upAxis=i}get upAxis(){return this._upAxis}setPosition(i,t){const s=t?this._normalize(i).clone().negate():this._normalize(i).clone();this.mPosition.makeTranslation(s.x,s.y,s.z),this.mNeedsUpdate=!0,this._isSet=!0}set position(i){this.mPosition.makeTranslation(-i.x,-i.y,-i.z),this.mNeedsUpdate=!0,this._isSet=!0}get position(){const i=new H,t=new Ls,s=new H;return this.getTransformationMatrix().decompose(i,t,s),i.negate()}setScale(i){this.mScale.makeScale(i.x,i.y,i.z),this.mNeedsUpdate=!0}set scale(i){this.mScale.makeScale(i.x,i.y,i.z),this.mNeedsUpdate=!0}getScale(){return new H(this.mScale.elements[0],this.mScale.elements[5],this.mScale.elements[10])}getScaleMatrix3(){return new Es().setFromMatrix4(this.mScale)}_normalize(i){return i instanceof H?i.clone():i instanceof zt?i.position.clone():i.x!==void 0&&i.y!==void 0&&i.z!==void 0?new H(i.x,i.y,i.z):(console.warn("referenceFrame: Invalid object",i),new H)}}var ez=`precision highp float;
precision highp int;

uniform mat4 projectionMatrix;

uniform float screenWidth;
uniform float screenHeight;
uniform float near;
uniform float far;

uniform sampler2D map;

varying vec2 vUv;

void main() {

	float dx = 1.0 / screenWidth;
	float dy = 1.0 / screenHeight;

	vec3 color = vec3(0.0, 0.0, 0.0);
	color += texture2D(map, vUv + vec2(-dx, -dy)).rgb;
	color += texture2D(map, vUv + vec2(  0, -dy)).rgb;
	color += texture2D(map, vUv + vec2(+dx, -dy)).rgb;
	color += texture2D(map, vUv + vec2(-dx,   0)).rgb;
	color += texture2D(map, vUv + vec2(  0,   0)).rgb;
	color += texture2D(map, vUv + vec2(+dx,   0)).rgb;
	color += texture2D(map, vUv + vec2(-dx,  dy)).rgb;
	color += texture2D(map, vUv + vec2(  0,  dy)).rgb;
	color += texture2D(map, vUv + vec2(+dx,  dy)).rgb;
    
	color = color / 9.0;
	
	gl_FragColor = vec4(color, 1.0);
	
	
}`,tz=Object.freeze({__proto__:null,default:ez}),sz=`precision highp float;
precision highp int;

attribute vec3 position;
attribute vec2 uv;

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;

varying vec2 vUv;

void main() {
    vUv = uv;

    gl_Position =   projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}`,iz=Object.freeze({__proto__:null,default:sz});class nz extends li{constructor(){super(...arguments);this.vertexShader=iz,this.fragmentShader=tz,this.uniforms={near:{type:"f",value:0},far:{type:"f",value:0},screenWidth:{type:"f",value:0},screenHeight:{type:"f",value:0},map:{type:"t",value:null}}}}var jn=(e=>(e[e.DISABLED=0]="DISABLED",e[e.CLIP_OUTSIDE=1]="CLIP_OUTSIDE",e[e.HIGHLIGHT_INSIDE=2]="HIGHLIGHT_INSIDE",e))(jn||{}),tn=(e=>(e[e.FIXED=0]="FIXED",e[e.ATTENUATED=1]="ATTENUATED",e[e.ADAPTIVE=2]="ADAPTIVE",e))(tn||{}),Qn=(e=>(e[e.SQUARE=0]="SQUARE",e[e.CIRCLE=1]="CIRCLE",e[e.PARABOLOID=2]="PARABOLOID",e))(Qn||{}),aa=(e=>(e[e.OCTREE=0]="OCTREE",e[e.KDTREE=1]="KDTREE",e))(aa||{}),Vo=(e=>(e[e.FIXED=0]="FIXED",e[e.ATTENUATED=1]="ATTENUATED",e))(Vo||{}),Zs=(e=>(e[e.RGB=0]="RGB",e[e.COLOR=1]="COLOR",e[e.DEPTH=2]="DEPTH",e[e.HEIGHT=3]="HEIGHT",e[e.ELEVATION=3]="ELEVATION",e[e.INTENSITY=4]="INTENSITY",e[e.INTENSITY_GRADIENT=5]="INTENSITY_GRADIENT",e[e.LOD=6]="LOD",e[e.LEVEL_OF_DETAIL=6]="LEVEL_OF_DETAIL",e[e.POINT_INDEX=7]="POINT_INDEX",e[e.CLASSIFICATION=8]="CLASSIFICATION",e[e.RETURN_NUMBER=9]="RETURN_NUMBER",e[e.SOURCE=10]="SOURCE",e[e.NORMAL=11]="NORMAL",e[e.PHONG=12]="PHONG",e[e.RGB_HEIGHT=13]="RGB_HEIGHT",e[e.COMPOSITE=50]="COMPOSITE",e))(Zs||{});const Qy=0,_y=0,qy=1,rz=50,lz=50,az=2,oz=15,cz=1e6,$y=2,hz=4,eZ="PerspectiveCamera",uz=new ie(0,0,0),dz=new De(1,0,0,1);function ep(e){return parseInt(e.charAt(e.length-1),10)}function pz(e,i){const t=e.name,s=i.name;return t.length!==s.length?t.length-s.length:t<s?-1:t>s?1:0}const tZ={0:new De(.5,.5,.5,1),1:new De(.5,.5,.5,1),2:new De(.63,.32,.18,1),3:new De(0,1,0,1),4:new De(0,.8,0,1),5:new De(0,.6,0,1),6:new De(1,.66,0,1),7:new De(1,0,1,1),8:new De(1,0,0,1),9:new De(0,0,1,1),12:new De(1,1,0,1),DEFAULT:new De(.3,.6,.6,.5)},mz=[[0,new ie(0,0,0)],[1,new ie(1,1,1)]],bz=[[0,new ie(.077,.042,.206)],[.1,new ie(.225,.036,.388)],[.2,new ie(.373,.074,.432)],[.3,new ie(.522,.128,.42)],[.4,new ie(.665,.182,.37)],[.5,new ie(.797,.255,.287)],[.6,new ie(.902,.364,.184)],[.7,new ie(.969,.516,.063)],[.8,new ie(.988,.683,.072)],[.9,new ie(.961,.859,.298)],[1,new ie(.988,.998,.645)]],yz=[[0,new ie(.241,.015,.61)],[.1,new ie(.387,.001,.654)],[.2,new ie(.524,.025,.653)],[.3,new ie(.651,.125,.596)],[.4,new ie(.752,.227,.513)],[.5,new ie(.837,.329,.431)],[.6,new ie(.907,.435,.353)],[.7,new ie(.963,.554,.272)],[.8,new ie(.992,.681,.195)],[.9,new ie(.987,.822,.144)],[1,new ie(.94,.975,.131)]],Zz=[[0,new ie(.278,0,.714)],[1/6,new ie(0,0,1)],[2/6,new ie(0,1,1)],[3/6,new ie(0,1,0)],[4/6,new ie(1,1,0)],[5/6,new ie(1,.64,0)],[1,new ie(1,0,0)]],sZ=[[0,new ie(.3686,.3098,.6353)],[.1,new ie(.1961,.5333,.7412)],[.2,new ie(.4,.7608,.6471)],[.3,new ie(.6706,.8667,.6431)],[.4,new ie(.902,.9608,.5961)],[.5,new ie(1,1,.749)],[.6,new ie(.9961,.8784,.5451)],[.7,new ie(.9922,.6824,.3804)],[.8,new ie(.9569,.4275,.2627)],[.9,new ie(.8353,.2431,.3098)],[1,new ie(.6196,.0039,.2588)]],Gz=[[0,new ie(.267,.005,.329)],[.1,new ie(.283,.141,.458)],[.2,new ie(.254,.265,.53)],[.3,new ie(.207,.372,.553)],[.4,new ie(.164,.471,.558)],[.5,new ie(.128,.567,.551)],[.6,new ie(.135,.659,.518)],[.7,new ie(.267,.749,.441)],[.8,new ie(.478,.821,.318)],[.9,new ie(.741,.873,.15)],[1,new ie(.993,.906,.144)]],gz=[[0,new ie(.1647,.2824,.3451)],[.1,new ie(.1338,.3555,.4227)],[.2,new ie(.061,.4319,.4864)],[.3,new ie(0,.5099,.5319)],[.4,new ie(0,.5881,.5569)],[.5,new ie(.137,.665,.5614)],[.6,new ie(.2906,.7395,.5477)],[.7,new ie(.4453,.8099,.5201)],[.8,new ie(.6102,.8748,.485)],[.9,new ie(.7883,.9323,.4514)],[1,new ie(.9804,.9804,.4314)]];function iZ(e,i,t){const s=e*i,n=new Uint8Array(4*s),r=Math.floor(t.r*255),l=Math.floor(t.g*255),a=Math.floor(t.b*255);for(let c=0;c<s;c++)n[c*3]=r,n[c*3+1]=l,n[c*3+2]=a;const o=new fd(n,e,i,ri);return o.needsUpdate=!0,o.magFilter=us,o}function tp(e){const t=document.createElement("canvas");t.width=64,t.height=64;const s=t.getContext("2d");s.rect(0,0,64,64);const n=s.createLinearGradient(0,0,64,64);for(let l=0;l<e.length;l++){const a=e[l];n.addColorStop(a[0],`#${a[1].getHexString()}`)}s.fillStyle=n,s.fill();const r=new ey(t);return r.needsUpdate=!0,r.minFilter=Ms,r}function sp(e){const n=new Uint8Array(262144);for(let l=0;l<256;l++)for(let a=0;a<256;a++){const o=l+256*a;let c;e[l]?c=e[l]:e[l%32]?c=e[l%32]:c=e.DEFAULT,n[4*o+0]=255*c.x,n[4*o+1]=255*c.y,n[4*o+2]=255*c.z,n[4*o+3]=255*c.w}const r=new fd(n,256,256,ri);return r.magFilter=us,r.needsUpdate=!0,r}var Tz=`precision highp float;
precision highp int;

//#if NUM_CLIPPING_PLANES > 0
//	varying vec3 vClipPosition;
//	uniform vec4 clippingPlanes[NUM_CLIPPING_PLANES];
//#endif

#if defined paraboloid_point_shape
	#extension GL_EXT_frag_depth : enable
#endif

uniform mat4 viewMatrix;
uniform vec3 cameraPosition;

uniform mat4 projectionMatrix;
uniform float opacity;

uniform float blendHardness;
uniform float blendDepthSupplement;
uniform float fov;
uniform float spacing;
uniform float pcIndex;
uniform float screenWidth;
uniform float screenHeight;

uniform sampler2D depthMap;

#ifdef highlight_point
	uniform vec4 highlightedPointColor;
#endif

varying vec3 vColor;

#if !defined(color_type_point_index)
	varying float vOpacity;
#endif

#if defined(weighted_splats)
	varying float vLinearDepth;
#endif

#if !defined(paraboloid_point_shape) && defined(use_edl)
	varying float vLogDepth;
#endif

#if defined(color_type_phong) && (MAX_POINT_LIGHTS > 0 || MAX_DIR_LIGHTS > 0) || defined(paraboloid_point_shape)
	varying vec3 vViewPosition;
#endif

#if defined(weighted_splats) || defined(paraboloid_point_shape)
	varying float vRadius;
#endif

#if defined(color_type_phong) && (MAX_POINT_LIGHTS > 0 || MAX_DIR_LIGHTS > 0)
	varying vec3 vNormal;
#endif

#ifdef highlight_point
	varying float vHighlight;
#endif

float specularStrength = 1.0;

#include <clipping_planes_pars_fragment>

void main() {
	#include <clipping_planes_fragment>

	vec3 color = vColor;
	float depth = gl_FragCoord.z;
	/*
	#if NUM_CLIPPING_PLANES > 0
		vec4 plane;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
	*/
	
	#if defined(circle_point_shape) || defined(paraboloid_point_shape) || defined (weighted_splats)
		float u = 2.0 * gl_PointCoord.x - 1.0;
		float v = 2.0 * gl_PointCoord.y - 1.0;
	#endif
	
	#if defined(circle_point_shape) || defined (weighted_splats)
		float cc = u*u + v*v;
		if(cc > 1.0){
			discard;
		}
	#endif
	
	#if defined weighted_splats
		vec2 uv = gl_FragCoord.xy / vec2(screenWidth, screenHeight);
		float sDepth = texture2D(depthMap, uv).r;
		if(vLinearDepth > sDepth + vRadius + blendDepthSupplement){
			discard;
		}
	#endif
		
	#if defined color_type_point_index
		gl_FragColor = vec4(color, pcIndex / 255.0);
	#else
		gl_FragColor = vec4(color, vOpacity);
	#endif

	#if defined(color_type_phong)
		#if MAX_POINT_LIGHTS > 0 || MAX_DIR_LIGHTS > 0
			vec3 normal = normalize( vNormal );
			normal.z = abs(normal.z);

			vec3 viewPosition = normalize( vViewPosition );
		#endif

		// code taken from three.js phong light fragment shader
	
		#if MAX_POINT_LIGHTS > 0

			vec3 pointDiffuse = vec3( 0.0 );
			vec3 pointSpecular = vec3( 0.0 );

			for ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {

				vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );
				vec3 lVector = lPosition.xyz + vViewPosition.xyz;

				float lDistance = 1.0;
				if ( pointLightDistance[ i ] > 0.0 )
					lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );

				lVector = normalize( lVector );

						// diffuse

				float dotProduct = dot( normal, lVector );

				#ifdef WRAP_AROUND

					float pointDiffuseWeightFull = max( dotProduct, 0.0 );
					float pointDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );

					vec3 pointDiffuseWeight = mix( vec3( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );

				#else

					float pointDiffuseWeight = max( dotProduct, 0.0 );

				#endif

				pointDiffuse += diffuse * pointLightColor[ i ] * pointDiffuseWeight * lDistance;

				// specular

				vec3 pointHalfVector = normalize( lVector + viewPosition );
				float pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );
				float pointSpecularWeight = specularStrength * max( pow( pointDotNormalHalf, shininess ), 0.0 );

				float specularNormalization = ( shininess + 2.0 ) / 8.0;

				vec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, pointHalfVector ), 0.0 ), 5.0 );
				pointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * lDistance * specularNormalization;
				pointSpecular = vec3(0.0, 0.0, 0.0);
			}
		
		#endif
		
		#if MAX_DIR_LIGHTS > 0

			vec3 dirDiffuse = vec3( 0.0 );
			vec3 dirSpecular = vec3( 0.0 );

			for( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {

				vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );
				vec3 dirVector = normalize( lDirection.xyz );

						// diffuse

				float dotProduct = dot( normal, dirVector );

				#ifdef WRAP_AROUND

					float dirDiffuseWeightFull = max( dotProduct, 0.0 );
					float dirDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );

					vec3 dirDiffuseWeight = mix( vec3( dirDiffuseWeightFull ), vec3( dirDiffuseWeightHalf ), wrapRGB );

				#else

					float dirDiffuseWeight = max( dotProduct, 0.0 );

				#endif

				dirDiffuse += diffuse * directionalLightColor[ i ] * dirDiffuseWeight;

				// specular

				vec3 dirHalfVector = normalize( dirVector + viewPosition );
				float dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );
				float dirSpecularWeight = specularStrength * max( pow( dirDotNormalHalf, shininess ), 0.0 );

				float specularNormalization = ( shininess + 2.0 ) / 8.0;

				vec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( dirVector, dirHalfVector ), 0.0 ), 5.0 );
				dirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;
			}

		#endif
		
		vec3 totalDiffuse = vec3( 0.0 );
		vec3 totalSpecular = vec3( 0.0 );
		
		#if MAX_POINT_LIGHTS > 0

			totalDiffuse += pointDiffuse;
			totalSpecular += pointSpecular;

		#endif
		
		#if MAX_DIR_LIGHTS > 0

			totalDiffuse += dirDiffuse;
			totalSpecular += dirSpecular;

		#endif
		
		gl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient ) + totalSpecular;

	#endif
	
	#if defined weighted_splats
	    //float w = pow(1.0 - (u*u + v*v), blendHardness);
		
		float wx = 2.0 * length(2.0 * gl_PointCoord - 1.0);
		float w = exp(-wx * wx * 0.5);
		
		//float distance = length(2.0 * gl_PointCoord - 1.0);
		//float w = exp( -(distance * distance) / blendHardness);
		
		gl_FragColor.rgb = gl_FragColor.rgb * w;
		gl_FragColor.a = w;
	#endif
	
	#if defined paraboloid_point_shape
		float wi = 0.0 - ( u*u + v*v);
		vec4 pos = vec4(vViewPosition, 1.0);
		pos.z += wi * vRadius;
		float linearDepth = -pos.z;
		pos = projectionMatrix * pos;
		pos = pos / pos.w;
		float expDepth = pos.z;
		depth = (pos.z + 1.0) / 2.0;
		gl_FragDepthEXT = depth;
		
		#if defined(color_type_depth)
			gl_FragColor.r = linearDepth;
			gl_FragColor.g = expDepth;
		#endif
		
		#if defined(use_edl)
			gl_FragColor.a = log2(linearDepth);
		#endif
		
	#else
		#if defined(use_edl)
			gl_FragColor.a = vLogDepth;
		#endif
	#endif

	#ifdef highlight_point
		if (vHighlight > 0.0) {
			gl_FragColor = highlightedPointColor;
		}
	#endif
}
`,Iz=`precision highp float;
precision highp int;

//#if NUM_CLIPPING_PLANES > 0
//	varying vec3 vClipPosition;
//	uniform vec4 clippingPlanes[NUM_CLIPPING_PLANES];
//#endif

#define max_clip_boxes 30

attribute vec3 position;
attribute vec3 color;
attribute vec3 normal;
attribute float intensity;
attribute float classification;
attribute float returnNumber;
attribute float numberOfReturns;
attribute float pointSourceID;
attribute vec4 indices;

uniform mat4 modelMatrix;
uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;

uniform float pcIndex;

uniform float screenWidth;
uniform float screenHeight;
uniform float fov;
uniform float spacing;

#if defined use_clip_box
	uniform mat4 clipBoxes[max_clip_boxes];
#endif

uniform float heightMin;
uniform float heightMax;
uniform float size; // pixel size factor
uniform float minSize; // minimum pixel size
uniform float maxSize; // maximum pixel size
uniform float octreeSize;
uniform vec3 bbSize;
uniform vec3 uColor;
uniform float opacity;
uniform float clipBoxCount;
uniform float level;
uniform float vnStart;
uniform bool isLeafNode;
uniform bool useUnscaledElevation; // Use unscaled z for elevation coloring

uniform float filterByNormalThreshold;
uniform vec2 intensityRange;
uniform float opacityAttenuation;
uniform float intensityGamma;
uniform float intensityContrast;
uniform float intensityBrightness;
uniform float rgbGamma;
uniform float rgbContrast;
uniform float rgbBrightness;
uniform float transition;
uniform float wRGB;
uniform float wIntensity;
uniform float wElevation;
uniform float wClassification;
uniform float wReturnNumber;
uniform float wSourceID;

uniform sampler2D visibleNodes;
uniform sampler2D gradient;
uniform sampler2D classificationLUT;
uniform sampler2D depthMap;

#ifdef highlight_point
	uniform vec3 highlightedPointCoordinate;
	uniform bool enablePointHighlighting;
	uniform float highlightedPointScale;
#endif

varying vec3 vColor;

#if !defined(color_type_point_index)
	varying float vOpacity;
#endif

#if defined(weighted_splats)
	varying float vLinearDepth;
#endif

#if !defined(paraboloid_point_shape) && defined(use_edl)
	varying float vLogDepth;
#endif

#if defined(color_type_phong) && (MAX_POINT_LIGHTS > 0 || MAX_DIR_LIGHTS > 0) || defined(paraboloid_point_shape)
	varying vec3 vViewPosition;
#endif

#if defined(weighted_splats) || defined(paraboloid_point_shape)
	varying float vRadius;
#endif

#if defined(color_type_phong) && (MAX_POINT_LIGHTS > 0 || MAX_DIR_LIGHTS > 0)
	varying vec3 vNormal;
#endif

#ifdef highlight_point
	varying float vHighlight;
#endif

#include <clipping_planes_pars_vertex>

// ---------------------
// OCTREE
// ---------------------

#if (defined(adaptive_point_size) || defined(color_type_lod)) && defined(tree_type_octree)

/**
 * Rounds the specified number to the closest integer.
 */
float round(float number){
	return floor(number + 0.5);
}

/**
 * Gets the number of 1-bits up to inclusive index position.
 * 
 * number is treated as if it were an integer in the range 0-255
 */
int numberOfOnes(int number, int index) {
	int numOnes = 0;
	int tmp = 128;
	for (int i = 7; i >= 0; i--) {

		if (number >= tmp) {
			number = number - tmp;

			if (i <= index) {
				numOnes++;
			}
		}

		tmp = tmp / 2;
	}

	return numOnes;
}

/**
 * Checks whether the bit at index is 1.0
 *
 * number is treated as if it were an integer in the range 0-255
 */
bool isBitSet(int number, int index){

	// weird multi else if due to lack of proper array, int and bitwise support in WebGL 1.0
	int powi = 1;
	if (index == 0) {
		powi = 1;
	} else if (index == 1) {
		powi = 2;
	} else if (index == 2) {
		powi = 4;
	} else if (index == 3) {
		powi = 8;
	} else if (index == 4) {
		powi = 16;
	} else if (index == 5) {
		powi = 32;
	} else if (index == 6) {
		powi = 64;
	} else if (index == 7) {
		powi = 128;
	}

	int ndp = number / powi;

	return mod(float(ndp), 2.0) != 0.0;
}

/**
 * Gets the the LOD at the point position.
 */
float getLOD() {
	vec3 offset = vec3(0.0, 0.0, 0.0);
	int iOffset = int(vnStart);
	float depth = level;

	for (float i = 0.0; i <= 30.0; i++) {
		float nodeSizeAtLevel = octreeSize  / pow(2.0, i + level + 0.0);
		
		vec3 index3d = (position-offset) / nodeSizeAtLevel;
		index3d = floor(index3d + 0.5);
		int index = int(round(4.0 * index3d.x + 2.0 * index3d.y + index3d.z));
		
		vec4 value = texture2D(visibleNodes, vec2(float(iOffset) / 2048.0, 0.0));
		int mask = int(round(value.r * 255.0));

		if (isBitSet(mask, index)) {
			// there are more visible child nodes at this position
			int advanceG = int(round(value.g * 255.0)) * 256;
			int advanceB = int(round(value.b * 255.0));
			int advanceChild = numberOfOnes(mask, index - 1);
			int advance = advanceG + advanceB + advanceChild;

			iOffset = iOffset + advance;

			depth++;
		} else {
			return value.a * 255.0; // no more visible child nodes at this position
		}
		
		offset = offset + (vec3(1.0, 1.0, 1.0) * nodeSizeAtLevel * 0.5) * index3d;  
	}
		
	return depth;
}

float getPointSizeAttenuation() {
	return 0.5 * pow(2.0, getLOD());
}

#endif

// ---------------------
// KD-TREE
// ---------------------

#if (defined(adaptive_point_size) || defined(color_type_lod)) && defined(tree_type_kdtree)

float getLOD() {
	vec3 offset = vec3(0.0, 0.0, 0.0);
	float intOffset = 0.0;
	float depth = 0.0;
			
	vec3 size = bbSize;	
	vec3 pos = position;
		
	for (float i = 0.0; i <= 1000.0; i++) {
		
		vec4 value = texture2D(visibleNodes, vec2(intOffset / 2048.0, 0.0));
		
		int children = int(value.r * 255.0);
		float next = value.g * 255.0;
		int split = int(value.b * 255.0);
		
		if (next == 0.0) {
		 	return depth;
		}
		
		vec3 splitv = vec3(0.0, 0.0, 0.0);
		if (split == 1) {
			splitv.x = 1.0;
		} else if (split == 2) {
		 	splitv.y = 1.0;
		} else if (split == 4) {
		 	splitv.z = 1.0;
		}
		
		intOffset = intOffset + next;
		
		float factor = length(pos * splitv / size);
		if (factor < 0.5) {
		 	// left
			if (children == 0 || children == 2) {
				return depth;
			}
		} else {
			// right
			pos = pos - size * splitv * 0.5;
			if (children == 0 || children == 1) {
				return depth;
			}
			if (children == 3) {
				intOffset = intOffset + 1.0;
			}
		}
		size = size * ((1.0 - (splitv + 1.0) / 2.0) + 0.5);
		
		depth++;
	}
		
		
	return depth;	
}

float getPointSizeAttenuation() {
	return 0.5 * pow(1.3, getLOD());
}

#endif

// formula adapted from: http://www.dfstudios.co.uk/articles/programming/image-programming-algorithms/image-processing-algorithms-part-5-contrast-adjustment/
float getContrastFactor(float contrast) {
	return (1.0158730158730156 * (contrast + 1.0)) / (1.0158730158730156 - contrast);
}

vec3 getRGB() {
	#if defined(use_rgb_gamma_contrast_brightness)
	  vec3 rgb = color;
		rgb = pow(rgb, vec3(rgbGamma));
		rgb = rgb + rgbBrightness;
		rgb = (rgb - 0.5) * getContrastFactor(rgbContrast) + 0.5;
		rgb = clamp(rgb, 0.0, 1.0);
		return rgb;
	#else
		return color;
	#endif
}

float getIntensity() {
	float w = (intensity - intensityRange.x) / (intensityRange.y - intensityRange.x);
	w = pow(w, intensityGamma);
	w = w + intensityBrightness;
	w = (w - 0.5) * getContrastFactor(intensityContrast) + 0.5;
	w = clamp(w, 0.0, 1.0);
	
	return w;
}

vec3 getElevation() {
	float w;
	if (useUnscaledElevation) {
		// Use unscaled/unprojected values directly as elevations with a small scale do not work
		w = (position.z - heightMin) / (heightMax - heightMin);
	} else {
		// Original:
		vec4 world = modelMatrix * vec4(position, 1.0);
		w = (world.z - heightMin) / (heightMax - heightMin);
	}
	vec3 cElevation = texture2D(gradient, vec2(w, 1.0 - w)).rgb;
	return cElevation;
}

vec4 getClassification() {
	vec2 uv = vec2(classification / 255.0, 0.5);
	vec4 classColor = texture2D(classificationLUT, uv);
	
	return classColor;
}

vec3 getReturnNumber() {
	if (numberOfReturns == 1.0) {
		return vec3(1.0, 1.0, 0.0);
	} else {
		if (returnNumber == 1.0) {
			return vec3(1.0, 0.0, 0.0);
		} else if (returnNumber == numberOfReturns) {
			return vec3(0.0, 0.0, 1.0);
		} else {
			return vec3(0.0, 1.0, 0.0);
		}
	}
}

vec3 getSourceID() {
	float w = mod(pointSourceID, 10.0) / 10.0;
	return texture2D(gradient, vec2(w, 1.0 - w)).rgb;
}

vec3 getCompositeColor() {
	vec3 c;
	float w;

	c += wRGB * getRGB();
	w += wRGB;
	
	c += wIntensity * getIntensity() * vec3(1.0, 1.0, 1.0);
	w += wIntensity;
	
	c += wElevation * getElevation();
	w += wElevation;
	
	c += wReturnNumber * getReturnNumber();
	w += wReturnNumber;
	
	c += wSourceID * getSourceID();
	w += wSourceID;
	
	vec4 cl = wClassification * getClassification();
	c += cl.a * cl.rgb;
	w += wClassification * cl.a;

	c = c / w;
	
	if (w == 0.0) {
		gl_Position = vec4(100.0, 100.0, 100.0, 0.0);
	}
	
	return c;
}

void main() {
	//vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
	
	#include <begin_vertex>

	//gl_Position = projectionMatrix * mvPosition;
	#include <project_vertex>

	#if defined(color_type_phong) && (MAX_POINT_LIGHTS > 0 || MAX_DIR_LIGHTS > 0) || defined(paraboloid_point_shape)
		vViewPosition = mvPosition.xyz;
	#endif

	#if defined weighted_splats
		vLinearDepth = gl_Position.w;
	#endif

	#if defined(color_type_phong) && (MAX_POINT_LIGHTS > 0 || MAX_DIR_LIGHTS > 0)
		vNormal = normalize(normalMatrix * normal);
	#endif

	#if !defined(paraboloid_point_shape) && defined(use_edl)
		vLogDepth = log2(-mvPosition.z);
	#endif

	// ---------------------
	// POINT SIZE
	// ---------------------

	float pointSize = 1.0;
	float slope = tan(fov / 2.0);
	float projFactor =  -0.5 * screenHeight / (slope * mvPosition.z);

	#if defined fixed_point_size
		pointSize = size;
	#elif defined attenuated_point_size
		pointSize = size * spacing * projFactor;
	#elif defined adaptive_point_size
		float worldSpaceSize = 2.0 * size * spacing / getPointSizeAttenuation();
		pointSize = worldSpaceSize * projFactor;
	#endif

	pointSize = max(minSize, pointSize);
	pointSize = min(maxSize, pointSize);

	#if defined(weighted_splats) || defined(paraboloid_point_shape)
		vRadius = pointSize / projFactor;
	#endif
	
	gl_PointSize = pointSize;

	// ---------------------
	// HIGHLIGHTING
	// ---------------------

	#ifdef highlight_point
		vec4 mPosition = modelMatrix * vec4(position, 1.0);
		if (enablePointHighlighting && abs(mPosition.x - highlightedPointCoordinate.x) < 0.0001 &&
			abs(mPosition.y - highlightedPointCoordinate.y) < 0.0001 &&
			abs(mPosition.z - highlightedPointCoordinate.z) < 0.0001) {
			vHighlight = 1.0;
			gl_PointSize = pointSize * highlightedPointScale;
		} else {
			vHighlight = 0.0;
		}
	#endif

	// ---------------------
	// OPACITY
	// ---------------------

	#ifndef color_type_point_index
		#ifdef attenuated_opacity
			vOpacity = opacity * exp(-length(-mvPosition.xyz) / opacityAttenuation);
		#else
			vOpacity = opacity;
		#endif
	#endif

	// ---------------------
	// FILTERING
	// ---------------------

	#ifdef use_filter_by_normal
		if(abs((modelViewMatrix * vec4(normal, 0.0)).z) > filterByNormalThreshold) {
			// Move point outside clip space space to discard it.
			gl_Position = vec4(0.0, 0.0, 2.0, 1.0);
		}
	#endif

	// ---------------------
	// POINT COLOR
	// ---------------------	

	#ifdef color_type_rgb
		vColor = getRGB();
	#elif defined color_type_height
		vColor = getElevation();
	#elif defined color_type_rgb_height
		vec3 cHeight = getElevation();
		vColor = (1.0 - transition) * getRGB() + transition * cHeight;
	#elif defined color_type_depth
		float linearDepth = -mvPosition.z ;
		float expDepth = (gl_Position.z / gl_Position.w) * 0.5 + 0.5;
		vColor = vec3(linearDepth, expDepth, 0.0);
	#elif defined color_type_intensity
		float w = getIntensity();
		vColor = vec3(w, w, w);
	#elif defined color_type_intensity_gradient
		float w = getIntensity();
		vColor = texture2D(gradient, vec2(w, 1.0 - w)).rgb;
	#elif defined color_type_color
		vColor = uColor;
	#elif defined color_type_lod
	float w = getLOD() / 10.0;
	vColor = texture2D(gradient, vec2(w, 1.0 - w)).rgb;
	#elif defined color_type_point_index
		vColor = indices.rgb;
	#elif defined color_type_classification
	  vec4 cl = getClassification(); 
		vColor = cl.rgb;
	#elif defined color_type_return_number
		vColor = getReturnNumber();
	#elif defined color_type_source
		vColor = getSourceID();
	#elif defined color_type_normal
		vColor = (modelMatrix * vec4(normal, 0.0)).xyz;
	#elif defined color_type_phong
		vColor = color;
	#elif defined color_type_composite
		vColor = getCompositeColor();
	#endif
	
	#if !defined color_type_composite && defined color_type_classification
		if (cl.a == 0.0) {
			gl_Position = vec4(100.0, 100.0, 100.0, 0.0);
			return;
		}
	#endif

	// ---------------------
	// CLIPPING
	// ---------------------
	//#if NUM_CLIPPING_PLANES > 0
		// TODO: Optimize modelPositions
	//	vClipPosition = -(modelMatrix * vec4(position, 1.0)).xyz;
	//#endif
	#include <clipping_planes_vertex>

	#if defined use_clip_box
		bool insideAny = false;
		for (int i = 0; i < max_clip_boxes; i++) {
			if (i == int(clipBoxCount)) {
				break;
			}
		
			vec4 clipPosition = clipBoxes[i] * modelMatrix * vec4(position, 1.0);
			bool inside = -0.5 <= clipPosition.x && clipPosition.x <= 0.5;
			inside = inside && -0.5 <= clipPosition.y && clipPosition.y <= 0.5;
			inside = inside && -0.5 <= clipPosition.z && clipPosition.z <= 0.5;
			insideAny = insideAny || inside;
		}

		if (!insideAny) {
			#if defined clip_outside
				gl_Position = vec4(1000.0, 1000.0, 1000.0, 1.0);
			#elif defined clip_highlight_inside && !defined(color_type_depth)
				float c = (vColor.r + vColor.g + vColor.b) / 6.0;
			#endif
		} else {
			#if defined clip_highlight_inside
				vColor.r += 0.5;
			#endif
		}
	#endif
}
`,Rz=Object.defineProperty,fz=Object.getOwnPropertyDescriptor,ft=(e,i,t,s)=>{for(var n=s>1?void 0:s?fz(i,t):i,r=e.length-1,l;r>=0;r--)(l=e[r])&&(n=(s?l(i,t,n):l(n))||n);return s&&n&&Rz(i,t,n),n};const Xz={[aa.OCTREE]:"tree_type_octree",[aa.KDTREE]:"tree_type_kdtree"},Wz={[tn.FIXED]:"fixed_point_size",[tn.ATTENUATED]:"attenuated_point_size",[tn.ADAPTIVE]:"adaptive_point_size"},Sz={[Vo.ATTENUATED]:"attenuated_opacity",[Vo.FIXED]:"fixed_opacity"},Cz={[Qn.SQUARE]:"square_point_shape",[Qn.CIRCLE]:"circle_point_shape",[Qn.PARABOLOID]:"paraboloid_point_shape"},Vz={[Zs.RGB]:"color_type_rgb",[Zs.COLOR]:"color_type_color",[Zs.DEPTH]:"color_type_depth",[Zs.HEIGHT]:"color_type_height",[Zs.INTENSITY]:"color_type_intensity",[Zs.INTENSITY_GRADIENT]:"color_type_intensity_gradient",[Zs.LOD]:"color_type_lod",[Zs.POINT_INDEX]:"color_type_point_index",[Zs.CLASSIFICATION]:"color_type_classification",[Zs.RETURN_NUMBER]:"color_type_return_number",[Zs.SOURCE]:"color_type_source",[Zs.NORMAL]:"color_type_normal",[Zs.PHONG]:"color_type_phong",[Zs.RGB_HEIGHT]:"color_type_rgb_height",[Zs.COMPOSITE]:"color_type_composite"},Lz={[jn.DISABLED]:"clip_disabled",[jn.CLIP_OUTSIDE]:"clip_outside",[jn.HIGHLIGHT_INSIDE]:"clip_highlight_inside"},nZ=class extends kd{constructor(e={}){super();this.morphTargets=!1,this.lights=!1,this.fog=!1,this.numClipBoxes=0,this.clipBoxes=[],this.cacheKeyIndex=0,this.visibleNodeTextureOffsets=new Map,this._gradient=sZ,this.gradientTexture=tp(this._gradient),this._classification=tZ,this.classificationTexture=sp(this._classification),this.uniforms={bbSize:Tt("fv",[0,0,0]),blendDepthSupplement:Tt("f",0),blendHardness:Tt("f",2),classificationLUT:Tt("t",this.classificationTexture||new Ss),clipBoxCount:Tt("f",0),clipBoxes:Tt("Matrix4fv",[]),depthMap:Tt("t",null),diffuse:Tt("fv",[1,1,1]),fov:Tt("f",1),gradient:Tt("t",this.gradientTexture||new Ss),heightMax:Tt("f",1),heightMin:Tt("f",0),intensityBrightness:Tt("f",0),intensityContrast:Tt("f",0),intensityGamma:Tt("f",1),intensityRange:Tt("fv",[0,65e3]),isLeafNode:Tt("b",0),level:Tt("f",0),maxSize:Tt("f",rz),minSize:Tt("f",az),octreeSize:Tt("f",0),opacity:Tt("f",1),pcIndex:Tt("f",0),rgbBrightness:Tt("f",Qy),rgbContrast:Tt("f",_y),rgbGamma:Tt("f",qy),screenHeight:Tt("f",1),screenWidth:Tt("f",1),size:Tt("f",1),spacing:Tt("f",1),toModel:Tt("Matrix4f",[]),transition:Tt("f",.5),uColor:Tt("c",new ie(16777215)),visibleNodes:Tt("t",this.visibleNodesTexture||new Ss),vnStart:Tt("f",0),wClassification:Tt("f",0),wElevation:Tt("f",0),wIntensity:Tt("f",0),wReturnNumber:Tt("f",0),wRGB:Tt("f",1),wSourceID:Tt("f",0),opacityAttenuation:Tt("f",1),filterByNormalThreshold:Tt("f",0),highlightedPointCoordinate:Tt("fv",new H),highlightedPointColor:Tt("fv",dz.clone()),enablePointHighlighting:Tt("b",!0),highlightedPointScale:Tt("f",2),useUnscaledElevation:Tt("b",!1),clipIntersection:Tt("b",!1)},this.useClipBox=!1,this.weighted=!1,this.pointColorType=Zs.RGB,this.pointSizeType=tn.ADAPTIVE,this.clipMode=jn.DISABLED,this.useEDL=!1,this.shape=Qn.CIRCLE,this.treeType=aa.OCTREE,this.pointOpacityType=Vo.FIXED,this.useFilterByNormal=!1,this.highlightPoint=!1,this.attributes={position:{type:"fv",value:[]},color:{type:"fv",value:[]},normal:{type:"fv",value:[]},intensity:{type:"f",value:[]},classification:{type:"f",value:[]},returnNumber:{type:"f",value:[]},numberOfReturns:{type:"f",value:[]},pointSourceID:{type:"f",value:[]},indices:{type:"fv",value:[]}},this.clipping=!0;const i=this.visibleNodesTexture=iZ(2048,1,new ie(16777215));i.minFilter=us,i.magFilter=us,this.setUniform("visibleNodes",i),this.treeType=Ch(e.treeType,aa.OCTREE),this.size=Ch(e.size,1),this.minSize=Ch(e.minSize,2),this.maxSize=Ch(e.maxSize,50),this.classification=tZ,this.defaultAttributeValues.normal=[0,0,0],this.defaultAttributeValues.classification=[0,0,0],this.defaultAttributeValues.indices=[0,0,0,0],this.vertexColors=!0,this.updateShaderSource()}dispose(){super.dispose(),this.gradientTexture&&(this.gradientTexture.dispose(),this.gradientTexture=void 0),this.visibleNodesTexture&&(this.visibleNodesTexture.dispose(),this.visibleNodesTexture=void 0),this.clearVisibleNodeTextureOffsets(),this.classificationTexture&&(this.classificationTexture.dispose(),this.classificationTexture=void 0),this.depthMap&&(this.depthMap.dispose(),this.depthMap=void 0)}clearVisibleNodeTextureOffsets(){this.visibleNodeTextureOffsets.clear()}updateShaderSource(){this.vertexShader=this.applyDefines(Iz),this.fragmentShader=this.applyDefines(Tz),this.opacity===1?(this.blending=pn,this.transparent=!1,this.depthTest=!0,this.depthWrite=!0,this.depthFunc=qa):this.opacity<1&&!this.useEDL&&(this.blending=Ic,this.transparent=!0,this.depthTest=!1,this.depthWrite=!0),this.weighted&&(this.blending=Ic,this.transparent=!0,this.depthTest=!0,this.depthWrite=!1,this.depthFunc=qa),this.needsUpdate=!0}applyDefines(e){const i=[];function t(s){s&&i.push(`#define ${s}`)}return t(Xz[this.treeType]),t(Wz[this.pointSizeType]),t(Cz[this.shape]),t(Vz[this.pointColorType]),t(Lz[this.clipMode]),t(Sz[this.pointOpacityType]),(this.rgbGamma!==qy||this.rgbBrightness!==Qy||this.rgbContrast!==_y)&&t("use_rgb_gamma_contrast_brightness"),this.useFilterByNormal&&t("use_filter_by_normal"),this.useEDL&&t("use_edl"),this.weighted&&t("weighted_splats"),this.numClipBoxes>0&&t("use_clip_box"),this.highlightPoint&&t("highlight_point"),t("MAX_POINT_LIGHTS 0"),t("MAX_DIR_LIGHTS 0"),i.push(e),i.join(`
`)}setClipBoxes(e){if(!e)return;this.clipBoxes=e;const i=this.numClipBoxes!==e.length&&(e.length===0||this.numClipBoxes===0);this.numClipBoxes=e.length,this.setUniform("clipBoxCount",this.numClipBoxes),i&&this.updateShaderSource();const t=this.numClipBoxes*16,s=new Float32Array(t);for(let n=0;n<this.numClipBoxes;n++)s.set(e[n].inverse.elements,16*n);for(let n=0;n<t;n++)isNaN(s[n])&&(s[n]=1/0);this.setUniform("clipBoxes",s)}get gradient(){return this._gradient}set gradient(e){this._gradient!==e&&(this._gradient=e,this.gradientTexture=tp(this._gradient),this.setUniform("gradient",this.gradientTexture))}get classification(){return this._classification}set classification(e){const i={};for(const s of Object.keys(e))i[s]=e[s].clone();let t=!1;if(this._classification===void 0)t=!1;else{t=Object.keys(i).length===Object.keys(this._classification).length;for(const s of Object.keys(i))t=t&&this._classification[s]!==void 0,t=t&&i[s].equals(this._classification[s])}t||(this._classification=i,this.recomputeClassification())}recomputeClassification(){this.classificationTexture=sp(this._classification),this.setUniform("classificationLUT",this.classificationTexture)}get elevationRange(){return[this.heightMin,this.heightMax]}set elevationRange(e){this.heightMin=e[0],this.heightMax=e[1]}getUniform(e){return this.uniforms===void 0?void 0:this.uniforms[e].value}setUniform(e,i){if(this.uniforms===void 0)return;const t=this.uniforms[e];t.type==="c"?t.value.copy(i):i!==t.value&&(t.value=i)}updateMaterial(e,i,t,s){const n=s.getPixelRatio();t.type===eZ?this.fov=t.fov*(Math.PI/180):this.fov=Math.PI/2;const r=s.getRenderTarget();r!==null&&r instanceof _s?(this.screenWidth=r.width,this.screenHeight=r.height):(this.screenWidth=s.domElement.clientWidth*n,this.screenHeight=s.domElement.clientHeight*n);const l=Math.max(e.scale.x,e.scale.y,e.scale.z);this.spacing=e.pcoGeometry.spacing*l,this.octreeSize=e.pcoGeometry.boundingBox.getSize(nZ.helperVec3).x,(this.pointSizeType===tn.ADAPTIVE||this.pointColorType===Zs.LOD)&&this.updateVisibilityTextureData(i)}updateVisibilityTextureData(e){e.sort(pz);const i=new Uint8Array(e.length*4),t=new Array(e.length).fill(1/0);this.visibleNodeTextureOffsets.clear();for(let n=0;n<e.length;n++){const r=e[n];if(this.visibleNodeTextureOffsets.set(r.name,n),n>0){const l=r.name.slice(0,-1),a=this.visibleNodeTextureOffsets.get(l),o=n-a;t[a]=Math.min(t[a],o);const c=a*4;i[c]=i[c]|1<<r.index,i[c+1]=t[a]>>8,i[c+2]=t[a]%256}i[n*4+3]=r.name.length}const s=this.visibleNodesTexture;s&&(s.image.data.set(i),s.needsUpdate=!0)}onBeforeCompile(e,i){this.cacheKeyIndex++}customProgramCacheKey(){return`pc-mat-${this.cacheKeyIndex}`}static makeOnBeforeRender(e,i,t){return(s,n,r,l,a)=>{const o=a,c=o.uniforms;c.level.value=i.level,c.isLeafNode.value=i.isLeafNode;const h=o.visibleNodeTextureOffsets.get(i.name);h!==void 0&&(c.vnStart.value=h),c.pcIndex.value=t!==void 0?t:e.visibleNodes.indexOf(i),a.uniformsNeedUpdate=!0}}};let dt=nZ;dt.helperVec3=new H,ft([Ut("bbSize")],dt.prototype,"bbSize",2),ft([Ut("depthMap")],dt.prototype,"depthMap",2),ft([Ut("fov")],dt.prototype,"fov",2),ft([Ut("heightMax")],dt.prototype,"heightMax",2),ft([Ut("heightMin")],dt.prototype,"heightMin",2),ft([Ut("intensityBrightness")],dt.prototype,"intensityBrightness",2),ft([Ut("intensityContrast")],dt.prototype,"intensityContrast",2),ft([Ut("intensityGamma")],dt.prototype,"intensityGamma",2),ft([Ut("intensityRange")],dt.prototype,"intensityRange",2),ft([Ut("maxSize")],dt.prototype,"maxSize",2),ft([Ut("minSize")],dt.prototype,"minSize",2),ft([Ut("octreeSize")],dt.prototype,"octreeSize",2),ft([Ut("opacity",!0)],dt.prototype,"opacity",2),ft([Ut("rgbBrightness",!0)],dt.prototype,"rgbBrightness",2),ft([Ut("rgbContrast",!0)],dt.prototype,"rgbContrast",2),ft([Ut("rgbGamma",!0)],dt.prototype,"rgbGamma",2),ft([Ut("screenHeight")],dt.prototype,"screenHeight",2),ft([Ut("screenWidth")],dt.prototype,"screenWidth",2),ft([Ut("size")],dt.prototype,"size",2),ft([Ut("spacing")],dt.prototype,"spacing",2),ft([Ut("transition")],dt.prototype,"transition",2),ft([Ut("uColor")],dt.prototype,"color",2),ft([Ut("wClassification")],dt.prototype,"weightClassification",2),ft([Ut("wElevation")],dt.prototype,"weightElevation",2),ft([Ut("wIntensity")],dt.prototype,"weightIntensity",2),ft([Ut("wReturnNumber")],dt.prototype,"weightReturnNumber",2),ft([Ut("wRGB")],dt.prototype,"weightRGB",2),ft([Ut("wSourceID")],dt.prototype,"weightSourceID",2),ft([Ut("opacityAttenuation")],dt.prototype,"opacityAttenuation",2),ft([Ut("filterByNormalThreshold")],dt.prototype,"filterByNormalThreshold",2),ft([Ut("highlightedPointCoordinate")],dt.prototype,"highlightedPointCoordinate",2),ft([Ut("highlightedPointColor")],dt.prototype,"highlightedPointColor",2),ft([Ut("enablePointHighlighting")],dt.prototype,"enablePointHighlighting",2),ft([Ut("highlightedPointScale")],dt.prototype,"highlightedPointScale",2),ft([Ut("useUnscaledElevation")],dt.prototype,"useUnscaledElevation",2),ft([Ut("clipIntersection")],dt.prototype,"clipIntersection",2),ft([sn()],dt.prototype,"useClipBox",2),ft([sn()],dt.prototype,"weighted",2),ft([sn()],dt.prototype,"pointColorType",2),ft([sn()],dt.prototype,"pointSizeType",2),ft([sn()],dt.prototype,"clipMode",2),ft([sn()],dt.prototype,"useEDL",2),ft([sn()],dt.prototype,"shape",2),ft([sn()],dt.prototype,"treeType",2),ft([sn()],dt.prototype,"pointOpacityType",2),ft([sn()],dt.prototype,"useFilterByNormal",2),ft([sn()],dt.prototype,"highlightPoint",2);function Tt(e,i){return{type:e,value:i}}function Ch(e,i){return e===void 0?i:e}function Ut(e,i=!1){return(t,s)=>{Object.defineProperty(t,s,{get(){return this.getUniform(e)},set(n){n!==this.getUniform(e)&&(this.setUniform(e,n),i&&this.updateShaderSource())}})}}function sn(){return(e,i)=>{const t=`_${i.toString()}`;Object.defineProperty(e,i,{get(){return this[t]},set(s){s!==this[t]&&(this[t]=s,this.updateShaderSource())}})}}var rZ=(e=>(e[e.POSITION_CARTESIAN=0]="POSITION_CARTESIAN",e[e.COLOR_PACKED=1]="COLOR_PACKED",e[e.COLOR_FLOATS_1=2]="COLOR_FLOATS_1",e[e.COLOR_FLOATS_255=3]="COLOR_FLOATS_255",e[e.NORMAL_FLOATS=4]="NORMAL_FLOATS",e[e.FILLER=5]="FILLER",e[e.INTENSITY=6]="INTENSITY",e[e.CLASSIFICATION=7]="CLASSIFICATION",e[e.NORMAL_SPHEREMAPPED=8]="NORMAL_SPHEREMAPPED",e[e.NORMAL_OCT16=9]="NORMAL_OCT16",e[e.NORMAL=10]="NORMAL",e))(rZ||{});const nn={DATA_TYPE_DOUBLE:{ordinal:0,size:8},DATA_TYPE_FLOAT:{ordinal:1,size:4},DATA_TYPE_INT8:{ordinal:2,size:1},DATA_TYPE_UINT8:{ordinal:3,size:1},DATA_TYPE_INT16:{ordinal:4,size:2},DATA_TYPE_UINT16:{ordinal:5,size:2},DATA_TYPE_INT32:{ordinal:6,size:4},DATA_TYPE_UINT32:{ordinal:7,size:4},DATA_TYPE_INT64:{ordinal:8,size:8},DATA_TYPE_UINT64:{ordinal:9,size:8}};function Rn(e,i,t){return{name:e,type:i,numElements:t,byteSize:t*i.size}}const lZ=Rn(1,nn.DATA_TYPE_INT8,4),aZ={POSITION_CARTESIAN:Rn(0,nn.DATA_TYPE_FLOAT,3),RGBA_PACKED:lZ,COLOR_PACKED:lZ,RGB_PACKED:Rn(1,nn.DATA_TYPE_INT8,3),NORMAL_FLOATS:Rn(4,nn.DATA_TYPE_FLOAT,3),FILLER_1B:Rn(5,nn.DATA_TYPE_UINT8,1),INTENSITY:Rn(6,nn.DATA_TYPE_UINT16,1),CLASSIFICATION:Rn(7,nn.DATA_TYPE_UINT8,1),NORMAL_SPHEREMAPPED:Rn(8,nn.DATA_TYPE_UINT8,2),NORMAL_OCT16:Rn(9,nn.DATA_TYPE_UINT8,2),NORMAL:Rn(10,nn.DATA_TYPE_FLOAT,3)};class ip{constructor(i=[]){this.attributes=[],this.byteSize=0,this.size=0;for(let t=0;t<i.length;t++){const s=i[t],n=aZ[s];this.attributes.push(n),this.byteSize+=n.byteSize,this.size++}}add(i){this.attributes.push(i),this.byteSize+=i.byteSize,this.size++}hasColors(){return this.attributes.find(Fz)!==void 0}hasNormals(){return this.attributes.find(Nz)!==void 0}}function Fz({name:e}){return e===1}function Nz({name:e}){return e===8||e===4||e===10||e===9}const oZ=5,np=class extends zn{constructor(e,i,t,s){super();this.id=np.idCount++,this.level=0,this.spacing=0,this.hasChildren=!1,this.children=[null,null,null,null,null,null,null,null],this.mean=new H,this.numPoints=0,this.geometry=new It,this.loaded=!1,this.loading=!1,this.failed=!1,this.parent=null,this.oneTimeDisposeHandlers=[],this.isLeafNode=!0,this.isTreeNode=!1,this.isGeometryNode=!0,this.name=e,this.index=ep(e),this.pcoGeometry=i,this.boundingBox=t,this.tightBoundingBox=t.clone(),this.boundingSphere=t.getBoundingSphere(new qi),this.xhrInit=s||{}}dispose(){!this.geometry||!this.parent||(this.geometry.dispose(),this.geometry=new It,this.loaded=!1,this.oneTimeDisposeHandlers.forEach(e=>e()),this.oneTimeDisposeHandlers=[])}getUrl(){const e=this.pcoGeometry,i=e.loader.version,t=[e.octreeDir];return e.loader&&i.equalOrHigher("1.5")?(t.push(this.getHierarchyBaseUrl()),t.push(this.name)):i.equalOrHigher("1.4")?t.push(this.name):i.upTo("1.3")&&t.push(this.name),t.join("/")}getHierarchyUrl(){return`${this.pcoGeometry.octreeDir}/${this.getHierarchyBaseUrl()}/${this.name}.hrc`}addChild(e){this.children[e.index]=e,this.isLeafNode=!1,e.parent=this}traverse(e,i=!0){const t=i?[this]:[];let s;for(;(s=t.pop())!==void 0;){e(s);for(const n of s.children)n!==null&&t.push(n)}}load(){if(!this.canLoad())return Promise.resolve();this.loading=!0,this.pcoGeometry.numNodesLoading++,this.pcoGeometry.needsUpdate=!0;let e;return this.pcoGeometry.loader.version.equalOrHigher("1.5")&&this.level%this.pcoGeometry.hierarchyStepSize===0&&this.hasChildren?e=this.loadHierachyThenPoints():e=this.loadPoints(),e.catch(i=>{throw this.loading=!1,this.failed=!0,this.pcoGeometry.numNodesLoading--,i})}canLoad(){return!this.loading&&!this.loaded&&!this.pcoGeometry.disposed&&!this.pcoGeometry.loader.disposed&&this.pcoGeometry.numNodesLoading<this.pcoGeometry.maxNumNodesLoading}loadPoints(){return this.pcoGeometry.needsUpdate=!0,this.pcoGeometry.loader.load(this)}loadHierachyThenPoints(){return this.level%this.pcoGeometry.hierarchyStepSize!==0?Promise.resolve():Promise.resolve(this.pcoGeometry.loader.getUrl(this.getHierarchyUrl())).then(e=>this.pcoGeometry.xhrRequest(e,this.xhrInit)).then(e=>e.arrayBuffer()).then(e=>this.loadHierarchy(this,e))}getHierarchyBaseUrl(){const e=this.pcoGeometry.hierarchyStepSize,i=this.name.substr(1),t=Math.floor(i.length/e);let s="r/";for(let n=0;n<t;n++)s+=`${i.substr(n*e,e)}/`;return s.slice(0,-1)}loadHierarchy(e,i){const t=new DataView(i),s=this.getNodeData(e.name,0,t);e.numPoints=s.numPoints;const n=[s],r=[];let l=oZ;for(;n.length>0;){const o=n.shift();let c=1;for(let h=0;h<8&&l+1<i.byteLength;h++){if((o.children&c)!==0){const u=this.getNodeData(o.name+h,l,t);r.push(u),n.push(u),l+=oZ}c=c*2}}e.pcoGeometry.needsUpdate=!0;const a=new Map;a.set(e.name,e),r.forEach(o=>this.addNode(o,e.pcoGeometry,a)),e.loadPoints()}getNodeData(e,i,t){const s=t.getUint8(i),n=t.getUint32(i+1,!0);return{children:s,numPoints:n,name:e}}addNode({name:e,numPoints:i,children:t},s,n){const r=ep(e),l=e.substring(0,e.length-1),a=n.get(l),o=e.length-1,c=Ay(a.boundingBox,r),h=new np(e,s,c,this.xhrInit);h.level=o,h.numPoints=i,h.hasChildren=t>0,h.spacing=s.spacing/Math.pow(2,o),a.addChild(h),n.set(e,h)}};let Vh=np;Vh.idCount=0;class cZ{constructor(i,t,s,n,r,l){this.loader=i,this.boundingBox=t,this.tightBoundingBox=s,this.offset=n,this.xhrRequest=r,this.xhrInit=l,this.disposed=!1,this.needsUpdate=!0,this.octreeDir="",this.hierarchyStepSize=-1,this.nodes={},this.numNodesLoading=0,this.maxNumNodesLoading=3,this.spacing=0,this.pointAttributes=new ip([]),this.projection=null,this.url=null}dispose(){this.loader.dispose(),this.root.traverse(i=>i.dispose()),this.disposed=!0}addNodeLoadedCallback(i){this.loader.callbacks.push(i)}clearNodeLoadedCallbacks(){this.loader.callbacks=[]}}class hZ extends zn{constructor(i,t){super();this.pcIndex=void 0,this.boundingBoxNode=null,this.loaded=!0,this.isTreeNode=!0,this.isGeometryNode=!1,this.geometryNode=i,this.sceneNode=t,this.children=i.children.slice()}dispose(){this.geometryNode.dispose()}disposeSceneNode(){const i=this.sceneNode;if(i.geometry instanceof It){const t=i.geometry.attributes;for(const s in t)s==="position"&&delete t[s].array,delete t[s];i.geometry.dispose(),i.geometry=void 0}}traverse(i,t){this.geometryNode.traverse(i,t)}get id(){return this.geometryNode.id}get name(){return this.geometryNode.name}get level(){return this.geometryNode.level}get isLeafNode(){return this.geometryNode.isLeafNode}get numPoints(){return this.geometryNode.numPoints}get index(){return this.geometryNode.index}get boundingSphere(){return this.geometryNode.boundingSphere}get boundingBox(){return this.geometryNode.boundingBox}get spacing(){return this.geometryNode.spacing}}function uZ(e,i,t){return Math.min(Math.max(i,e),t)}const As=class{dispose(){this.pickState&&(this.pickState.material.dispose(),this.pickState.renderTarget.dispose())}pick(e,i,t,s,n={}){if(s.length===0)return null;const r=this.pickState?this.pickState:this.pickState=As.getPickState(),l=r.material,a=e.getPixelRatio(),o=Math.ceil(e.domElement.clientWidth*a),c=Math.ceil(e.domElement.clientHeight*a);As.updatePickRenderTarget(this.pickState,o,c);const h=As.helperVec3;n.pixelPosition?h.copy(n.pixelPosition):(h.addVectors(i.position,t.direction).project(i),h.x=(h.x+1)*o*.5,h.y=(h.y+1)*c*.5);const u=Math.floor((n.pickWindowSize||oz)*a),d=(u-1)/2,p=Math.floor(uZ(h.x-d,0,o)),G=Math.floor(uZ(h.y-d,0,c));As.prepareRender(e,p,G,u,l,r);const g=As.render(e,i,l,s,t,r,n);l.clearVisibleNodeTextureOffsets();const I=As.readPixels(e,p,G,u),X=As.findHit(I,u);return As.getPickPoint(X,g)}static prepareRender(e,i,t,s,n,r){e.setScissor(i,t,s,s),e.setScissorTest(!0),e.state.buffers.depth.setTest(n.depthTest),e.state.buffers.depth.setMask(n.depthWrite),e.state.setBlending(pn),e.setRenderTarget(r.renderTarget),e.getClearColor(this.clearColor);const l=e.getClearAlpha();e.setClearColor(uz,0),e.clear(!0,!0,!0),e.setClearColor(this.clearColor,l)}static render(e,i,t,s,n,r,l){const a=[];for(const o of s){const c=As.nodesOnRay(o,n);!c.length||(As.updatePickMaterial(t,o.material,l),t.updateMaterial(o,c,i,e),l.onBeforePickRender&&l.onBeforePickRender(t,r.renderTarget),r.scene.children=As.createTempNodes(o,c,t,a.length),e.render(r.scene,i),c.forEach(h=>a.push({node:h,octree:o})))}return a}static nodesOnRay(e,i){const t=[],s=i.clone();for(const n of e.visibleNodes){const r=As.helperSphere.copy(n.boundingSphere).applyMatrix4(e.matrixWorld);s.intersectsSphere(r)&&t.push(n)}return t}static readPixels(e,i,t,s){const n=new Uint8Array(4*s*s);return e.readRenderTargetPixels(e.getRenderTarget(),i,t,s,s,n),e.setScissorTest(!1),e.setRenderTarget(null),n}static createTempNodes(e,i,t,s){const n=[];for(let r=0;r<i.length;r++){const l=i[r],a=l.sceneNode,o=new Vd(a.geometry,t);o.matrix=a.matrix,o.matrixWorld=a.matrixWorld,o.matrixAutoUpdate=!1,o.frustumCulled=!1;const c=s+r+1;c>255&&console.error("More than 255 nodes for pick are not supported."),o.onBeforeRender=dt.makeOnBeforeRender(e,l,c),n.push(o)}return n}static updatePickMaterial(e,i,t){e.pointSizeType=i.pointSizeType,e.shape=i.shape,e.size=i.size,e.minSize=i.minSize,e.maxSize=i.maxSize,e.classification=i.classification,e.useFilterByNormal=i.useFilterByNormal,e.filterByNormalThreshold=i.filterByNormalThreshold,t.pickOutsideClipRegion?e.clipMode=jn.DISABLED:(e.clipMode=i.clipMode,e.setClipBoxes(i.clipMode===jn.CLIP_OUTSIDE?i.clipBoxes:[]))}static updatePickRenderTarget(e,i,t){e.renderTarget.width===i&&e.renderTarget.height===t||(e.renderTarget.dispose(),e.renderTarget=As.makePickRenderTarget(),e.renderTarget.setSize(i,t))}static makePickRenderTarget(){return new _s(1,1,{minFilter:Ms,magFilter:us,format:ri})}static findHit(e,i){const t=new Uint32Array(e.buffer);let s=Number.MAX_VALUE,n=null;for(let r=0;r<i;r++)for(let l=0;l<i;l++){const a=r+l*i,o=Math.pow(r-(i-1)/2,2)+Math.pow(l-(i-1)/2,2),c=e[4*a+3];e[4*a+3]=0;const h=t[a];c>0&&o<s&&(n={pIndex:h,pcIndex:c-1},s=o)}return n}static getPickPoint(e,i){if(!e)return null;const t={},s=i[e.pcIndex]&&i[e.pcIndex].node.sceneNode;if(!s)return null;t.pointCloud=i[e.pcIndex].octree;const n=s.geometry.attributes;for(const r in n){if(!n.hasOwnProperty(r))continue;const l=n[r];if(r==="position")As.addPositionToPickPoint(t,e,l,s);else if(r==="normal")As.addNormalToPickPoint(t,e,l,s);else if(r!=="indices")if(l.itemSize===1)t[r]=l.array[e.pIndex];else{const a=[];for(let o=0;o<l.itemSize;o++)a.push(l.array[l.itemSize*e.pIndex+o]);t[r]=a}}return t}static addPositionToPickPoint(e,i,t,s){e.position=new H().fromBufferAttribute(t,i.pIndex).applyMatrix4(s.matrixWorld)}static addNormalToPickPoint(e,i,t,s){const n=new H().fromBufferAttribute(t,i.pIndex),r=new De(n.x,n.y,n.z,0).applyMatrix4(s.matrixWorld);n.set(r.x,r.y,r.z),e.normal=n}static getPickState(){const e=new On;e.autoUpdate=!1;const i=new dt;return i.pointColorType=Zs.POINT_INDEX,{renderTarget:As.makePickRenderTarget(),material:i,scene:e}}};let Lo=As;Lo.helperVec3=new H,Lo.helperSphere=new qi,Lo.clearColor=new ie;class dZ extends zt{constructor(){super(...arguments);this.root=null,this.geometry=new It}initialized(){return this.root!==null}}class pZ extends dZ{constructor(i,t,s){super();this.disposed=!1,this.level=0,this.maxLevel=1/0,this.minNodePixelSize=lz,this.root=null,this.boundingBoxNodes=[],this.visibleNodes=[],this.visibleGeometry=[],this.numVisiblePoints=0,this.showBoundingBox=!1,this.visibleBounds=new is,this.name="",this.potree=i,this.root=t.root,this.pcoGeometry=t,this.boundingBox=t.boundingBox,this.boundingSphere=this.boundingBox.getBoundingSphere(new qi),this.position.copy(t.offset),this.updateMatrix(),this.material=s||new dt,this.initMaterial(this.material)}initMaterial(i){this.updateMatrixWorld(!0);const{min:t,max:s}=Sh(this.pcoGeometry.tightBoundingBox||this.getBoundingBoxWorld(),this.matrixWorld),n=s.z-t.z;i.heightMin=t.z-.2*n,i.heightMax=s.z+.2*n}dispose(){this.root&&this.root.dispose(),this.pcoGeometry.root.traverse(i=>this.potree.lru.remove(i)),this.pcoGeometry.dispose(),this.material.dispose(),this.visibleNodes=[],this.visibleGeometry=[],this.picker&&(this.picker.dispose(),this.picker=void 0),this.disposed=!0}get pointSizeType(){return this.material.pointSizeType}set pointSizeType(i){this.material.pointSizeType=i}toTreeNode(i,t){const s=new Vd(i.geometry,this.material),n=new hZ(i,s);return s.name=i.name,s.position.copy(i.boundingBox.min),s.frustumCulled=!1,s.onBeforeRender=dt.makeOnBeforeRender(this,n),t?(t.sceneNode.add(s),t.children[i.index]=n,i.oneTimeDisposeHandlers.push(()=>{n.disposeSceneNode(),t.sceneNode.remove(n.sceneNode),t.children[i.index]=i})):(this.root=n,this.add(s)),n}updateVisibleBounds(){const i=this.visibleBounds;i.min.set(1/0,1/0,1/0),i.max.set(-1/0,-1/0,-1/0);for(const t of this.visibleNodes)t.isLeafNode&&(i.expandByPoint(t.boundingBox.min),i.expandByPoint(t.boundingBox.max))}updateBoundingBoxes(){if(!this.showBoundingBox||!this.parent)return;let i=this.parent.getObjectByName("bbroot");i||(i=new zt,i.name="bbroot",this.parent.add(i));const t=[];for(const s of this.visibleNodes)s.boundingBoxNode!==void 0&&s.isLeafNode&&t.push(s.boundingBoxNode);i.children=t}updateMatrixWorld(i){this.matrixAutoUpdate===!0&&this.updateMatrix(),(this.matrixWorldNeedsUpdate===!0||i===!0)&&(this.parent?this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix):this.matrixWorld.copy(this.matrix),this.matrixWorldNeedsUpdate=!1,i=!0)}hideDescendants(i){const t=[];for(s(i);t.length>0;){const n=t.shift();n.visible=!1,s(n)}function s(n){for(const r of n.children)r.visible&&t.push(r)}}moveToOrigin(){this.position.set(0,0,0),this.position.set(0,0,0).sub(this.getBoundingBoxWorld().getCenter(new H))}moveToGroundPlane(){this.position.y+=-this.getBoundingBoxWorld().min.y}getBoundingBoxWorld(){return this.updateMatrixWorld(!0),Sh(this.boundingBox,this.matrixWorld)}getVisibleExtent(){return this.visibleBounds.applyMatrix4(this.matrixWorld)}pick(i,t,s,n={}){return this.picker=this.picker||new Lo,this.picker.pick(i,t,s,[this],n)}get progress(){return this.visibleGeometry.length===0?0:this.visibleNodes.length/this.visibleGeometry.length}}const mZ=document.createElement("canvas"),Ds=mZ.getContext("webgl")||mZ.getContext("experimental-webgl"),xz={SHADER_INTERPOLATION:Lh("EXT_frag_depth")&&rp(8),SHADER_SPLATS:Lh("EXT_frag_depth")&&Lh("OES_texture_float")&&rp(8),SHADER_EDL:Lh("OES_texture_float")&&rp(8),precision:vz()};function Lh(e){return Ds!==null&&Boolean(Ds.getExtension(e))}function rp(e){return Ds!==null&&Ds.getParameter(Ds.MAX_VARYING_VECTORS)>=e}function vz(){if(Ds===null)return"";const e=Ds.getShaderPrecisionFormat(Ds.VERTEX_SHADER,Ds.HIGH_FLOAT),i=Ds.getShaderPrecisionFormat(Ds.VERTEX_SHADER,Ds.MEDIUM_FLOAT),t=Ds.getShaderPrecisionFormat(Ds.FRAGMENT_SHADER,Ds.HIGH_FLOAT),s=Ds.getShaderPrecisionFormat(Ds.FRAGMENT_SHADER,Ds.MEDIUM_FLOAT),n=e&&t&&e.precision>0&&t.precision>0,r=i&&s&&i.precision>0&&s.precision>0;return n?"highp":r?"mediump":"lowp"}class oa{constructor(i){this.versionMinor=0,this.version=i;const t=i.indexOf(".")===-1?i.length:i.indexOf(".");this.versionMajor=parseInt(i.substr(0,t),10),this.versionMinor=parseInt(i.substr(t+1),10),isNaN(this.versionMinor)&&(this.versionMinor=0)}newerThan(i){const t=new oa(i);return this.versionMajor>t.versionMajor?!0:this.versionMajor===t.versionMajor&&this.versionMinor>t.versionMinor}equalOrHigher(i){const t=new oa(i);return this.versionMajor>t.versionMajor?!0:this.versionMajor===t.versionMajor&&this.versionMinor>=t.versionMinor}upTo(i){return!this.newerThan(i)}}var bZ=null;try{var Ez=typeof module<"u"&&typeof module.require=="function"&&module.require("worker_threads")||typeof __non_webpack_require__=="function"&&__non_webpack_require__("worker_threads")||typeof require=="function"&&require("worker_threads");bZ=Ez.Worker}catch{}function Yz(e,i){return Buffer.from(e,"base64").toString(i?"utf16":"utf8")}function Mz(e,i,t){var s=i===void 0?null:i,n=t===void 0?!1:t,r=Yz(e,n),l=r.indexOf(`
`,10)+1,a=r.substring(l)+(s?"//# sourceMappingURL="+s:"");return function(c){return new bZ(a,Object.assign({},c,{eval:!0}))}}function wz(e,i){var t=atob(e);if(i){for(var s=new Uint8Array(t.length),n=0,r=t.length;n<r;++n)s[n]=t.charCodeAt(n);return String.fromCharCode.apply(null,new Uint16Array(s.buffer))}return t}function Hz(e,i,t){var s=i===void 0?null:i,n=t===void 0?!1:t,r=wz(e,n),l=r.indexOf(`
`,10)+1,a=r.substring(l)+(s?"//# sourceMappingURL="+s:""),o=new Blob([a],{type:"application/javascript"});return URL.createObjectURL(o)}function Pz(e,i,t){var s;return function(r){return s=s||Hz(e,i,t),new Worker(s,r)}}var zz=Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]";function Uz(){return zz}function lp(e,i,t){return Uz()?Mz(e,i,t):Pz(e,i,t)}lp("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwp2YXIgd29ya2VyX2NvZGU9ZnVuY3Rpb24oUCl7InVzZSBzdHJpY3QiO3ZhciBUPShuPT4obltuLlBPU0lUSU9OX0NBUlRFU0lBTj0wXT0iUE9TSVRJT05fQ0FSVEVTSUFOIixuW24uQ09MT1JfUEFDS0VEPTFdPSJDT0xPUl9QQUNLRUQiLG5bbi5DT0xPUl9GTE9BVFNfMT0yXT0iQ09MT1JfRkxPQVRTXzEiLG5bbi5DT0xPUl9GTE9BVFNfMjU1PTNdPSJDT0xPUl9GTE9BVFNfMjU1IixuW24uTk9STUFMX0ZMT0FUUz00XT0iTk9STUFMX0ZMT0FUUyIsbltuLkZJTExFUj01XT0iRklMTEVSIixuW24uSU5URU5TSVRZPTZdPSJJTlRFTlNJVFkiLG5bbi5DTEFTU0lGSUNBVElPTj03XT0iQ0xBU1NJRklDQVRJT04iLG5bbi5OT1JNQUxfU1BIRVJFTUFQUEVEPThdPSJOT1JNQUxfU1BIRVJFTUFQUEVEIixuW24uTk9STUFMX09DVDE2PTldPSJOT1JNQUxfT0NUMTYiLG5bbi5OT1JNQUw9MTBdPSJOT1JNQUwiLG4pKShUfHx7fSk7Y29uc3QgTz17REFUQV9UWVBFX0RPVUJMRTp7b3JkaW5hbDowLHNpemU6OH0sREFUQV9UWVBFX0ZMT0FUOntvcmRpbmFsOjEsc2l6ZTo0fSxEQVRBX1RZUEVfSU5UODp7b3JkaW5hbDoyLHNpemU6MX0sREFUQV9UWVBFX1VJTlQ4OntvcmRpbmFsOjMsc2l6ZToxfSxEQVRBX1RZUEVfSU5UMTY6e29yZGluYWw6NCxzaXplOjJ9LERBVEFfVFlQRV9VSU5UMTY6e29yZGluYWw6NSxzaXplOjJ9LERBVEFfVFlQRV9JTlQzMjp7b3JkaW5hbDo2LHNpemU6NH0sREFUQV9UWVBFX1VJTlQzMjp7b3JkaW5hbDo3LHNpemU6NH0sREFUQV9UWVBFX0lOVDY0OntvcmRpbmFsOjgsc2l6ZTo4fSxEQVRBX1RZUEVfVUlOVDY0OntvcmRpbmFsOjksc2l6ZTo4fX07ZnVuY3Rpb24gSShuLHQsZSl7cmV0dXJue25hbWU6bix0eXBlOnQsbnVtRWxlbWVudHM6ZSxieXRlU2l6ZTplKnQuc2l6ZX19Y29uc3QgaD1JKDEsTy5EQVRBX1RZUEVfSU5UOCw0KSxTPXtQT1NJVElPTl9DQVJURVNJQU46SSgwLE8uREFUQV9UWVBFX0ZMT0FULDMpLFJHQkFfUEFDS0VEOmgsQ09MT1JfUEFDS0VEOmgsUkdCX1BBQ0tFRDpJKDEsTy5EQVRBX1RZUEVfSU5UOCwzKSxOT1JNQUxfRkxPQVRTOkkoNCxPLkRBVEFfVFlQRV9GTE9BVCwzKSxGSUxMRVJfMUI6SSg1LE8uREFUQV9UWVBFX1VJTlQ4LDEpLElOVEVOU0lUWTpJKDYsTy5EQVRBX1RZUEVfVUlOVDE2LDEpLENMQVNTSUZJQ0FUSU9OOkkoNyxPLkRBVEFfVFlQRV9VSU5UOCwxKSxOT1JNQUxfU1BIRVJFTUFQUEVEOkkoOCxPLkRBVEFfVFlQRV9VSU5UOCwyKSxOT1JNQUxfT0NUMTY6SSg5LE8uREFUQV9UWVBFX1VJTlQ4LDIpLE5PUk1BTDpJKDEwLE8uREFUQV9UWVBFX0ZMT0FULDMpfTtjbGFzcyBfe2NvbnN0cnVjdG9yKHQpe3RoaXMudmVyc2lvbk1pbm9yPTAsdGhpcy52ZXJzaW9uPXQ7Y29uc3QgZT10LmluZGV4T2YoIi4iKT09PS0xP3QubGVuZ3RoOnQuaW5kZXhPZigiLiIpO3RoaXMudmVyc2lvbk1ham9yPXBhcnNlSW50KHQuc3Vic3RyKDAsZSksMTApLHRoaXMudmVyc2lvbk1pbm9yPXBhcnNlSW50KHQuc3Vic3RyKGUrMSksMTApLGlzTmFOKHRoaXMudmVyc2lvbk1pbm9yKSYmKHRoaXMudmVyc2lvbk1pbm9yPTApfW5ld2VyVGhhbih0KXtjb25zdCBlPW5ldyBfKHQpO3JldHVybiB0aGlzLnZlcnNpb25NYWpvcj5lLnZlcnNpb25NYWpvcj8hMDp0aGlzLnZlcnNpb25NYWpvcj09PWUudmVyc2lvbk1ham9yJiZ0aGlzLnZlcnNpb25NaW5vcj5lLnZlcnNpb25NaW5vcn1lcXVhbE9ySGlnaGVyKHQpe2NvbnN0IGU9bmV3IF8odCk7cmV0dXJuIHRoaXMudmVyc2lvbk1ham9yPmUudmVyc2lvbk1ham9yPyEwOnRoaXMudmVyc2lvbk1ham9yPT09ZS52ZXJzaW9uTWFqb3ImJnRoaXMudmVyc2lvbk1pbm9yPj1lLnZlcnNpb25NaW5vcn11cFRvKHQpe3JldHVybiF0aGlzLm5ld2VyVGhhbih0KX19Y2xhc3MgRXtjb25zdHJ1Y3Rvcih0KXt0aGlzLnRtcD1uZXcgQXJyYXlCdWZmZXIoNCksdGhpcy50bXBmPW5ldyBGbG9hdDMyQXJyYXkodGhpcy50bXApLHRoaXMudG1wdTg9bmV3IFVpbnQ4QXJyYXkodGhpcy50bXApLHRoaXMudTg9bmV3IFVpbnQ4QXJyYXkodCl9Z2V0VWludDMyKHQpe3JldHVybiB0aGlzLnU4W3QrM108PDI0fHRoaXMudThbdCsyXTw8MTZ8dGhpcy51OFt0KzFdPDw4fHRoaXMudThbdF19Z2V0VWludDE2KHQpe3JldHVybiB0aGlzLnU4W3QrMV08PDh8dGhpcy51OFt0XX1nZXRGbG9hdDMyKHQpe2NvbnN0IGU9dGhpcy50bXB1OCxpPXRoaXMudTgscj10aGlzLnRtcGY7cmV0dXJuIGVbMF09aVt0KzBdLGVbMV09aVt0KzFdLGVbMl09aVt0KzJdLGVbM109aVt0KzNdLHJbMF19Z2V0VWludDgodCl7cmV0dXJuIHRoaXMudThbdF19fWNvbnN0IE49TWF0aC5zaWdufHxmdW5jdGlvbihuKXtyZXR1cm4obj0rbik9PTB8fG4hPW4/bjpuPDA/LTE6MX07ZnVuY3Rpb24gbChuKXtjb25zdCB0PW4uZGF0YS5idWZmZXIsZT1uLmRhdGEucG9pbnRBdHRyaWJ1dGVzLGk9e2F0dHJpYnV0ZUJ1ZmZlcnM6e30sY3VycmVudE9mZnNldDowLGRhdGE6bmV3IEUodCksbWVhbjpbMCwwLDBdLG5vZGVPZmZzZXQ6bi5kYXRhLm9mZnNldCxudW1Qb2ludHM6bi5kYXRhLmJ1ZmZlci5ieXRlTGVuZ3RoL2UuYnl0ZVNpemUscG9pbnRBdHRyaWJ1dGVzOmUsc2NhbGU6bi5kYXRhLnNjYWxlLHRpZ2h0Qm94TWF4OltOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLE51bWJlci5ORUdBVElWRV9JTkZJTklUWV0sdGlnaHRCb3hNaW46W051bWJlci5QT1NJVElWRV9JTkZJTklUWSxOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZXSx0cmFuc2ZlcmFibGVzOltdLHZlcnNpb246bmV3IF8obi5kYXRhLnZlcnNpb24pfTtmb3IoY29uc3QgcyBvZiBpLnBvaW50QXR0cmlidXRlcy5hdHRyaWJ1dGVzKWQocyxpKSxpLmN1cnJlbnRPZmZzZXQrPXMuYnl0ZVNpemU7Y29uc3Qgcj1uZXcgQXJyYXlCdWZmZXIoaS5udW1Qb2ludHMqNCksbz1uZXcgVWludDMyQXJyYXkocik7Zm9yKGxldCBzPTA7czxpLm51bVBvaW50cztzKyspb1tzXT1zO2kuYXR0cmlidXRlQnVmZmVyc1tULkNMQVNTSUZJQ0FUSU9OXXx8bShpKTtjb25zdCB1PXtidWZmZXI6dCxtZWFuOmkubWVhbixhdHRyaWJ1dGVCdWZmZXJzOmkuYXR0cmlidXRlQnVmZmVycyx0aWdodEJvdW5kaW5nQm94OnttaW46aS50aWdodEJveE1pbixtYXg6aS50aWdodEJveE1heH0saW5kaWNlczpyfTtwb3N0TWVzc2FnZSh1LGkudHJhbnNmZXJhYmxlcyl9ZnVuY3Rpb24gbShuKXtjb25zdCB0PW5ldyBBcnJheUJ1ZmZlcihuLm51bVBvaW50cyo0KSxlPW5ldyBGbG9hdDMyQXJyYXkodCk7Zm9yKGxldCBpPTA7aTxuLm51bVBvaW50cztpKyspZVtpXT0wO24uYXR0cmlidXRlQnVmZmVyc1tULkNMQVNTSUZJQ0FUSU9OXT17YnVmZmVyOnQsYXR0cmlidXRlOlMuQ0xBU1NJRklDQVRJT059fWZ1bmN0aW9uIGQobix0KXtjb25zdCBlPUwobix0KTtlIT09dm9pZCAwJiYodC5hdHRyaWJ1dGVCdWZmZXJzW2UuYXR0cmlidXRlLm5hbWVdPWUsdC50cmFuc2ZlcmFibGVzLnB1c2goZS5idWZmZXIpKX1mdW5jdGlvbiBMKG4sdCl7c3dpdGNoKG4ubmFtZSl7Y2FzZSBULlBPU0lUSU9OX0NBUlRFU0lBTjpyZXR1cm4gZyhuLHQpO2Nhc2UgVC5DT0xPUl9QQUNLRUQ6cmV0dXJuIHkobix0KTtjYXNlIFQuSU5URU5TSVRZOnJldHVybiBGKG4sdCk7Y2FzZSBULkNMQVNTSUZJQ0FUSU9OOnJldHVybiBCKG4sdCk7Y2FzZSBULk5PUk1BTF9TUEhFUkVNQVBQRUQ6cmV0dXJuIEMobix0KTtjYXNlIFQuTk9STUFMX09DVDE2OnJldHVybiBSKG4sdCk7Y2FzZSBULk5PUk1BTDpyZXR1cm4gcChuLHQpO2RlZmF1bHQ6cmV0dXJufX1mdW5jdGlvbiBnKG4sdCl7Y29uc3QgZT1uZXcgQXJyYXlCdWZmZXIodC5udW1Qb2ludHMqNCozKSxpPW5ldyBGbG9hdDMyQXJyYXkoZSk7Zm9yKGxldCByPTA7cjx0Lm51bVBvaW50cztyKyspe2xldCBvLHUsczt0LnZlcnNpb24ubmV3ZXJUaGFuKCIxLjMiKT8obz10LmRhdGEuZ2V0VWludDMyKHQuY3VycmVudE9mZnNldCtyKnQucG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplKzApKnQuc2NhbGUsdT10LmRhdGEuZ2V0VWludDMyKHQuY3VycmVudE9mZnNldCtyKnQucG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplKzQpKnQuc2NhbGUscz10LmRhdGEuZ2V0VWludDMyKHQuY3VycmVudE9mZnNldCtyKnQucG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplKzgpKnQuc2NhbGUpOihvPXQuZGF0YS5nZXRGbG9hdDMyKHIqdC5wb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUrMCkrdC5ub2RlT2Zmc2V0WzBdLHU9dC5kYXRhLmdldEZsb2F0MzIocip0LnBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSs0KSt0Lm5vZGVPZmZzZXRbMV0scz10LmRhdGEuZ2V0RmxvYXQzMihyKnQucG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplKzgpK3Qubm9kZU9mZnNldFsyXSksaVszKnIrMF09byxpWzMqcisxXT11LGlbMypyKzJdPXMsdC5tZWFuWzBdKz1vL3QubnVtUG9pbnRzLHQubWVhblsxXSs9dS90Lm51bVBvaW50cyx0Lm1lYW5bMl0rPXMvdC5udW1Qb2ludHMsdC50aWdodEJveE1pblswXT1NYXRoLm1pbih0LnRpZ2h0Qm94TWluWzBdLG8pLHQudGlnaHRCb3hNaW5bMV09TWF0aC5taW4odC50aWdodEJveE1pblsxXSx1KSx0LnRpZ2h0Qm94TWluWzJdPU1hdGgubWluKHQudGlnaHRCb3hNaW5bMl0scyksdC50aWdodEJveE1heFswXT1NYXRoLm1heCh0LnRpZ2h0Qm94TWF4WzBdLG8pLHQudGlnaHRCb3hNYXhbMV09TWF0aC5tYXgodC50aWdodEJveE1heFsxXSx1KSx0LnRpZ2h0Qm94TWF4WzJdPU1hdGgubWF4KHQudGlnaHRCb3hNYXhbMl0scyl9cmV0dXJue2J1ZmZlcjplLGF0dHJpYnV0ZTpufX1mdW5jdGlvbiB5KG4sdCl7Y29uc3QgZT1uZXcgQXJyYXlCdWZmZXIodC5udW1Qb2ludHMqMyksaT1uZXcgVWludDhBcnJheShlKTtmb3IobGV0IHI9MDtyPHQubnVtUG9pbnRzO3IrKylpWzMqciswXT10LmRhdGEuZ2V0VWludDgodC5jdXJyZW50T2Zmc2V0K3IqdC5wb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUrMCksaVszKnIrMV09dC5kYXRhLmdldFVpbnQ4KHQuY3VycmVudE9mZnNldCtyKnQucG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplKzEpLGlbMypyKzJdPXQuZGF0YS5nZXRVaW50OCh0LmN1cnJlbnRPZmZzZXQrcip0LnBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSsyKTtyZXR1cm57YnVmZmVyOmUsYXR0cmlidXRlOm59fWZ1bmN0aW9uIEYobix0KXtjb25zdCBlPW5ldyBBcnJheUJ1ZmZlcih0Lm51bVBvaW50cyo0KSxpPW5ldyBGbG9hdDMyQXJyYXkoZSk7Zm9yKGxldCByPTA7cjx0Lm51bVBvaW50cztyKyspaVtyXT10LmRhdGEuZ2V0VWludDE2KHQuY3VycmVudE9mZnNldCtyKnQucG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplKTtyZXR1cm57YnVmZmVyOmUsYXR0cmlidXRlOm59fWZ1bmN0aW9uIEIobix0KXtjb25zdCBlPW5ldyBBcnJheUJ1ZmZlcih0Lm51bVBvaW50cyksaT1uZXcgVWludDhBcnJheShlKTtmb3IobGV0IHI9MDtyPHQubnVtUG9pbnRzO3IrKylpW3JdPXQuZGF0YS5nZXRVaW50OCh0LmN1cnJlbnRPZmZzZXQrcip0LnBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSk7cmV0dXJue2J1ZmZlcjplLGF0dHJpYnV0ZTpufX1mdW5jdGlvbiBDKG4sdCl7Y29uc3QgZT1uZXcgQXJyYXlCdWZmZXIodC5udW1Qb2ludHMqNCozKSxpPW5ldyBGbG9hdDMyQXJyYXkoZSk7Zm9yKGxldCByPTA7cjx0Lm51bVBvaW50cztyKyspe2NvbnN0IG89dC5kYXRhLmdldFVpbnQ4KHQuY3VycmVudE9mZnNldCtyKnQucG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplKzApLHU9dC5kYXRhLmdldFVpbnQ4KHQuY3VycmVudE9mZnNldCtyKnQucG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplKzEpLHM9by8yNTUsYj11LzI1NTtsZXQgQT1zKjItMSxhPWIqMi0xLGY9MTtjb25zdCBjPS0xLE09QSotQSthKi1hK2YqLWM7Zj1NLEE9QSpNYXRoLnNxcnQoTSksYT1hKk1hdGguc3FydChNKSxBPUEqMixhPWEqMixmPWYqMi0xLGlbMypyKzBdPUEsaVszKnIrMV09YSxpWzMqcisyXT1mfXJldHVybntidWZmZXI6ZSxhdHRyaWJ1dGU6bn19ZnVuY3Rpb24gUihuLHQpe2NvbnN0IGU9bmV3IEFycmF5QnVmZmVyKHQubnVtUG9pbnRzKjQqMyksaT1uZXcgRmxvYXQzMkFycmF5KGUpO2ZvcihsZXQgcj0wO3I8dC5udW1Qb2ludHM7cisrKXtjb25zdCBvPXQuZGF0YS5nZXRVaW50OCh0LmN1cnJlbnRPZmZzZXQrcip0LnBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSswKSx1PXQuZGF0YS5nZXRVaW50OCh0LmN1cnJlbnRPZmZzZXQrcip0LnBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSsxKSxzPW8vMjU1KjItMSxiPXUvMjU1KjItMTtsZXQgQT0xLU1hdGguYWJzKHMpLU1hdGguYWJzKGIpLGE9MCxmPTA7QT49MD8oYT1zLGY9Yik6KGE9LShiL04oYiktMSkvTihzKSxmPS0ocy9OKHMpLTEpL04oYikpO2NvbnN0IGM9TWF0aC5zcXJ0KGEqYStmKmYrQSpBKTthPWEvYyxmPWYvYyxBPUEvYyxpWzMqciswXT1hLGlbMypyKzFdPWYsaVszKnIrMl09QX1yZXR1cm57YnVmZmVyOmUsYXR0cmlidXRlOm59fWZ1bmN0aW9uIHAobix0KXtjb25zdCBlPW5ldyBBcnJheUJ1ZmZlcih0Lm51bVBvaW50cyo0KjMpLGk9bmV3IEZsb2F0MzJBcnJheShlKTtmb3IobGV0IHI9MDtyPHQubnVtUG9pbnRzO3IrKyl7Y29uc3Qgbz10LmRhdGEuZ2V0RmxvYXQzMih0LmN1cnJlbnRPZmZzZXQrcip0LnBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSswKSx1PXQuZGF0YS5nZXRGbG9hdDMyKHQuY3VycmVudE9mZnNldCtyKnQucG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplKzQpLHM9dC5kYXRhLmdldEZsb2F0MzIodC5jdXJyZW50T2Zmc2V0K3IqdC5wb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUrOCk7aVszKnIrMF09byxpWzMqcisxXT11LGlbMypyKzJdPXN9cmV0dXJue2J1ZmZlcjplLGF0dHJpYnV0ZTpufX1yZXR1cm4gUC5oYW5kbGVNZXNzYWdlPWwsT2JqZWN0LmRlZmluZVByb3BlcnR5KFAsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLFB9KHt9KTsKCg==",null,!1);var kz=lp("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbChpKXtjb25zdCBFPWkuZGF0YS5idWZmZXIsbj1pLmRhdGEubnVtUG9pbnRzLHI9aS5kYXRhLnBvaW50U2l6ZSxGPWkuZGF0YS5wb2ludEZvcm1hdElELGM9aS5kYXRhLnNjYWxlLE49aS5kYXRhLm9mZnNldCxhPW5ldyBEYXRhVmlldyhFKSxlPXttaW46W051bWJlci5QT1NJVElWRV9JTkZJTklUWSxOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZXSxtYXg6W051bWJlci5ORUdBVElWRV9JTkZJTklUWSxOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZXX0sbT1bMCwwLDBdLHc9bmV3IEFycmF5QnVmZmVyKG4qMyo0KSx5PW5ldyBBcnJheUJ1ZmZlcihuKjQpLGc9bmV3IEFycmF5QnVmZmVyKG4qNCksVT1uZXcgQXJyYXlCdWZmZXIobiksZD1uZXcgQXJyYXlCdWZmZXIobiksVD1uZXcgQXJyYXlCdWZmZXIobiksYj1uZXcgQXJyYXlCdWZmZXIobioyKSxBPW5ldyBGbG9hdDMyQXJyYXkodykscz1uZXcgVWludDhBcnJheSh5KSxoPW5ldyBGbG9hdDMyQXJyYXkoZykscD1uZXcgVWludDhBcnJheShVKSxNPW5ldyBVaW50OEFycmF5KGQpLFY9bmV3IFVpbnQ4QXJyYXkoVCksUz1uZXcgVWludDE2QXJyYXkoYik7Zm9yKGxldCB0PTA7dDxuO3QrKyl7Y29uc3QgTz1hLmdldEludDMyKHQqciswLCEwKSxEPWEuZ2V0SW50MzIodCpyKzQsITApLFA9YS5nZXRJbnQzMih0KnIrOCwhMCksST1PKmNbMF0rTlswXS1pLmRhdGEubWluc1swXSxmPUQqY1sxXStOWzFdLWkuZGF0YS5taW5zWzFdLG89UCpjWzJdK05bMl0taS5kYXRhLm1pbnNbMl07QVszKnQrMF09SSxBWzMqdCsxXT1mLEFbMyp0KzJdPW8sbVswXSs9SS9uLG1bMV0rPWYvbixtWzJdKz1vL24sZS5taW5bMF09TWF0aC5taW4oZS5taW5bMF0sSSksZS5taW5bMV09TWF0aC5taW4oZS5taW5bMV0sZiksZS5taW5bMl09TWF0aC5taW4oZS5taW5bMl0sbyksZS5tYXhbMF09TWF0aC5tYXgoZS5tYXhbMF0sSSksZS5tYXhbMV09TWF0aC5tYXgoZS5tYXhbMV0sZiksZS5tYXhbMl09TWF0aC5tYXgoZS5tYXhbMl0sbyk7Y29uc3QgRz1hLmdldFVpbnQxNih0KnIrMTIsITApO2hbdF09Rztjb25zdCBCPWEuZ2V0VWludDgodCpyKzE0KSxSPUImNyx6PShCJjU2KT4+MztNW3RdPVIsVlt0XT16O2NvbnN0IGo9YS5nZXRVaW50OCh0KnIrMTUpO3BbdF09ajtjb25zdCBrPWEuZ2V0VWludDE2KHQqcisxOCwhMCk7aWYoU1t0XT1rLEY9PT0yKXtjb25zdCBxPWEuZ2V0VWludDE2KHQqcisyMCwhMCkvMjU2LEM9YS5nZXRVaW50MTYodCpyKzIyLCEwKS8yNTYsSD1hLmdldFVpbnQxNih0KnIrMjQsITApLzI1NjtzWzQqdCswXT1xLHNbNCp0KzFdPUMsc1s0KnQrMl09SCxzWzQqdCszXT0yNTV9fWNvbnN0IHg9bmV3IEFycmF5QnVmZmVyKG4qNCksWT1uZXcgVWludDMyQXJyYXkoeCk7Zm9yKGxldCB0PTA7dDxuO3QrKylZW3RdPXQ7Y29uc3QgdT17bWVhbjptLHBvc2l0aW9uOncsY29sb3I6eSxpbnRlbnNpdHk6ZyxjbGFzc2lmaWNhdGlvbjpVLHJldHVybk51bWJlcjpkLG51bWJlck9mUmV0dXJuczpULHBvaW50U291cmNlSUQ6Yix0aWdodEJvdW5kaW5nQm94OmUsaW5kaWNlczp4fSxfPVt1LnBvc2l0aW9uLHUuY29sb3IsdS5pbnRlbnNpdHksdS5jbGFzc2lmaWNhdGlvbix1LnJldHVybk51bWJlcix1Lm51bWJlck9mUmV0dXJucyx1LnBvaW50U291cmNlSUQsdS5pbmRpY2VzXTtwb3N0TWVzc2FnZSh1LF8pfW9ubWVzc2FnZT1sfSkoKTsKCg==",null,!1);const yZ={0:e=>({position:[e.getInt32(0,!0),e.getInt32(4,!0),e.getInt32(8,!0)],intensity:e.getUint16(12,!0),classification:e.getUint8(16)}),1:e=>({position:[e.getInt32(0,!0),e.getInt32(4,!0),e.getInt32(8,!0)],intensity:e.getUint16(12,!0),classification:e.getUint8(16)}),2:e=>({position:[e.getInt32(0,!0),e.getInt32(4,!0),e.getInt32(8,!0)],intensity:e.getUint16(12,!0),classification:e.getUint8(16),color:[e.getUint16(20,!0),e.getUint16(22,!0),e.getUint16(24,!0)]}),3:e=>({position:[e.getInt32(0,!0),e.getInt32(4,!0),e.getInt32(8,!0)],intensity:e.getUint16(12,!0),classification:e.getUint8(16),color:[e.getUint16(28,!0),e.getUint16(30,!0),e.getUint16(32,!0)]})},Rr=(e,i,t,s)=>{s=s===void 0||s===0?1:s;const n=e.slice(t,t+i.BYTES_PER_ELEMENT*s),r=new i(n);if(s===void 0||s===1)return r[0];const l=[];for(let a=0;a<s;a++)l.push(r[a]);return l},Dz=e=>{const i={pointsOffset:0,pointsFormatId:0,pointsStructSize:0,pointsCount:0,scale:[],offset:[],maxs:[],mins:[]};i.pointsOffset=Rr(e,Uint32Array,32*3),i.pointsFormatId=Rr(e,Uint8Array,32*3+8),i.pointsStructSize=Rr(e,Uint16Array,32*3+8+1),i.pointsCount=Rr(e,Uint32Array,32*3+11);let t=32*3+35;i.scale=Rr(e,Float64Array,t,3),t+=24,i.offset=Rr(e,Float64Array,t,3),t+=24;const s=Rr(e,Float64Array,t,6);return t+=48,i.maxs=[s[0],s[2],s[4]],i.mins=[s[1],s[3],s[5]],i};class Jz{constructor(i){this.arrayBuffer=i,this.readOffset=0}open(){return new Promise(function(i){setTimeout(i,0)})}getHeader(){return new Promise(i=>{setTimeout(()=>{this.header=Dz(this.arrayBuffer),i(this.header)},0)})}readData(i,t,s){return new Promise((n,r)=>{setTimeout(()=>{if(!this.header)return r(new Error("Cannot start reading data till a header request is issued"));let l;if(s<=1){i=Math.min(i,this.header.pointsCount-this.readOffset),l=this.header.pointsOffset+this.readOffset*this.header.pointsStructSize;const a=l+i*this.header.pointsStructSize;return this.readOffset+=i,n({buffer:this.arrayBuffer.slice(l,a),count:i,hasMoreData:this.readOffset+i<this.header.pointsCount})}else{const a=Math.min(i*s,this.header.pointsCount-this.readOffset),o=Math.ceil(a/s);let c=0;const h=new Uint8Array(o*this.header.pointsStructSize);for(let u=0;u<a;u++){if(u%s===0){l=this.header.pointsOffset+this.readOffset*this.header.pointsStructSize;const d=new Uint8Array(this.arrayBuffer,l,this.header.pointsStructSize);h.set(d,c*this.header.pointsStructSize),c++}this.readOffset++}return n({buffer:h.buffer,count:c,hasMoreData:this.readOffset<this.header.pointsCount})}},0)})}close(){return new Promise(i=>{setTimeout(i,0)})}}class Kz{constructor(i){if(this.arrayBuffer=i,this.version=-1,this.formatId=-1,this.isCompressed=!1,this.versionAsString="-1",this.determineVersion(),this.version>12)throw new Error("Only file versions <= 1.2 are supported at this time");if(this.determineFormat(),!yZ[this.formatId])throw new Error("The point format ID is not supported: "+this.formatId);if(this.isCompressed)throw new Error("LAZ not supported");this.loader=new Jz(this.arrayBuffer)}determineFormat(){const i=Rr(this.arrayBuffer,Uint8Array,104),t=(i&128)>>7,s=(i&64)>>6;if(t===1&&s===1)throw new Error("Old style compression not supported");this.formatId=i&63,this.isCompressed=t===1||s===1}determineVersion(){const i=new Int8Array(this.arrayBuffer,24,2);this.version=i[0]*10+i[1],this.versionAsString=i[0]+"."+i[1]}open(){return this.loader.open()}getHeader(){return this.loader.getHeader()}readData(i,t,s){return this.loader.readData(i,t,s)}close(){return this.loader.close()}}class Oz{constructor(i,t,s,n,r,l,a,o){this.arrayb=i,this.decoder=yZ[t],this.pointsCount=n,this.pointSize=s,this.scale=r,this.offset=l,this.mins=a,this.maxs=o}getPoint(i){if(i<0||i>=this.pointsCount)throw new Error("Point index out of range");const t=new DataView(this.arrayb,i*this.pointSize,this.pointSize);return this.decoder(t)}}var Az=(e,i,t)=>new Promise((s,n)=>{var r=o=>{try{a(t.next(o))}catch(c){n(c)}},l=o=>{try{a(t.throw(o))}catch(c){n(c)}},a=o=>o.done?s(o.value):Promise.resolve(o.value).then(r,l);a((t=t.apply(e,i)).next())});class Bz{constructor({getUrl:i=a=>Promise.resolve(a),version:t,boundingBox:s,scale:n,xhrRequest:r,xhrInit:l}){this.disposed=!1,this.workers=[],typeof t=="string"?this.version=new oa(t):this.version=t,this.xhrRequest=r,this.xhrInit=l||{},this.getUrl=i,this.boundingBox=s,this.scale=n,this.callbacks=[]}dispose(){this.workers.forEach(i=>i.terminate()),this.workers=[],this.disposed=!0}load(i){return i.loaded||this.disposed?Promise.resolve():Promise.resolve(this.getUrl(this.getNodeUrl(i))).then(t=>this.xhrRequest(t,this.xhrInit)).then(t=>t.arrayBuffer()).then(t=>new Promise(s=>this.parse(i,t,s)))}getNodeUrl(i){let t=i.getUrl();return this.version.equalOrHigher("1.4")&&(t+=".las"),t}parse(i,t,s){return Az(this,null,function*(){if(this.disposed){s();return}const n=new Kz(t),r=yield n.getHeader(),l=1,a=r.pointsCount;yield n.readData(a,0,l).then(o=>{const c=new Oz(o.buffer,r.pointsFormatId,r.pointsStructSize,o.count,r.scale,r.offset,r.mins,r.maxs),h=this.getWorker();h.onmessage=d=>{const p=i.geometry=i.geometry||new It,G=c.pointsCount,g=new Float32Array(d.data.position),I=new Uint8Array(d.data.color),X=new Float32Array(d.data.intensity),S=new Uint8Array(d.data.classification),x=new Uint8Array(d.data.returnNumber),v=new Uint8Array(d.data.numberOfReturns),L=new Uint16Array(d.data.pointSourceID),M=new Uint8Array(d.data.indices);p.setAttribute("position",new Nt(g,3)),p.setAttribute("color",new Nt(I,4,!0)),p.setAttribute("intensity",new Nt(X,1)),p.setAttribute("classification",new Nt(S,1)),p.setAttribute("returnNumber",new Nt(x,1)),p.setAttribute("numberOfReturns",new Nt(v,1)),p.setAttribute("pointSourceID",new Nt(L,1)),p.setAttribute("indices",new Nt(M,4)),p.attributes.indices.normalized=!0;const E=new is(new H().fromArray(d.data.tightBoundingBox.min),new H().fromArray(d.data.tightBoundingBox.max));p.boundingBox=i.boundingBox,i.tightBoundingBox=E,i.loaded=!0,i.loading=!1,i.failed=!1,i.pcoGeometry.numNodesLoading--,i.pcoGeometry.needsUpdate=!0,i.geometry=p,i.numPoints=G,i.mean=new H(...d.data.mean),this.releaseWorker(h),this.callbacks.forEach(K=>K(i)),s()};const u={buffer:c.arrayb,numPoints:c.pointsCount,pointSize:c.pointSize,pointFormatID:2,scale:c.scale,offset:c.offset,mins:c.mins,maxs:c.maxs};h.postMessage(u,[u.buffer])}).catch(o=>{throw new Error(o)})})}getWorker(){const i=this.workers.pop();return i||new kz}releaseWorker(i){this.workers.push(i)}}function jz(e,i,t,s){return Promise.resolve(i(e)).then(n=>t(n,s).then(r=>r.json()).then(Qz(n,i,t,s)))}function Qz(e,i,t,s){return n=>{const{offset:r,boundingBox:l,tightBoundingBox:a}=_z(n);let o,c;if(!Array.isArray(n.pointAttributes)&&n.pointAttributes==="LAS")o=new Bz({getUrl:i,version:n.version,boundingBox:l,scale:n.scale,xhrRequest:t,xhrInit:s}),c=["POSITION_CARTESIAN","RGB_PACKED","INTENSITY","CLASSIFICATION"];else throw new Error("Unsupported format "+n.pointAttributes);const h=new cZ(o,l,a,r,t,s);h.url=e,h.octreeDir=n.octreeDir,h.needsUpdate=!0,h.spacing=n.spacing,h.hierarchyStepSize=n.hierarchyStepSize,h.projection=n.projection,h.offset=r,h.pointAttributes=new ip(c);const u={},d=new oa(n.version);return qz(h,n,u,d,s).then(()=>(d.upTo("1.4")&&$z(h,n,u,s),h.nodes=u,h))}}function _z(e){const i=new H(e.boundingBox.lx,e.boundingBox.ly,e.boundingBox.lz),t=new H(e.boundingBox.ux,e.boundingBox.uy,e.boundingBox.uz),s=new is(i,t),n=s.clone(),r=i.clone();if(e.tightBoundingBox){const{lx:l,ly:a,lz:o,ux:c,uy:h,uz:u}=e.tightBoundingBox;n.min.set(l,a,o),n.max.set(c,h,u)}return s.min.sub(r),s.max.sub(r),n.min.sub(r),n.max.sub(r),{offset:r,boundingBox:s,tightBoundingBox:n}}function qz(e,i,t,s,n){const r="r",l=new Vh(r,e,e.boundingBox,n);return l.hasChildren=!0,l.spacing=e.spacing,s.upTo("1.5")?l.numPoints=i.hierarchy[0][1]:l.numPoints=0,e.root=l,t[r]=l,e.root.load()}function $z(e,i,t,s){for(let n=1;n<i.hierarchy.length;n++){const[r,l]=i.hierarchy[n],{index:a,parentName:o,level:c}=eU(r),h=t[o],u=Ay(h.boundingBox,a),d=new Vh(r,e,u,s);d.level=c,d.numPoints=l,d.spacing=e.spacing/Math.pow(2,d.level),t[r]=d,h.addChild(d)}}function eU(e){return{index:ep(e),parentName:e.substring(0,e.length-1),level:e.length-1}}function tU(e){return e!=null&&e.isGeometryNode}function ap(e){return e!=null&&e.isTreeNode}function ZZ(e){this.content=[],this.scoreFunction=e}ZZ.prototype={push:function(e){this.content.push(e),this.bubbleUp(this.content.length-1)},pop:function(){var e=this.content[0],i=this.content.pop();return this.content.length>0&&(this.content[0]=i,this.sinkDown(0)),e},remove:function(e){for(var i=this.content.length,t=0;t<i;t++)if(this.content[t]==e){var s=this.content.pop();if(t==i-1)break;this.content[t]=s,this.bubbleUp(t),this.sinkDown(t);break}},size:function(){return this.content.length},bubbleUp:function(e){for(var i=this.content[e],t=this.scoreFunction(i);e>0;){var s=Math.floor((e+1)/2)-1,n=this.content[s];if(t>=this.scoreFunction(n))break;this.content[s]=i,this.content[e]=n,e=s}},sinkDown:function(e){for(var i=this.content.length,t=this.content[e],s=this.scoreFunction(t);;){var n=(e+1)*2,r=n-1,l=null;if(r<i){var a=this.content[r],o=this.scoreFunction(a);o<s&&(l=r)}if(n<i){var c=this.content[n],h=this.scoreFunction(c);h<(l==null?s:o)&&(l=n)}if(l==null)break;this.content[e]=this.content[l],this.content[l]=t,e=l}}};class sU extends oh{constructor(i,t=new ie(16776960)){const s=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new Float32Array([i.min.x,i.min.y,i.min.z,i.max.x,i.min.y,i.min.z,i.max.x,i.min.y,i.max.z,i.min.x,i.min.y,i.max.z,i.min.x,i.max.y,i.min.z,i.max.x,i.max.y,i.min.z,i.max.x,i.max.y,i.max.z,i.min.x,i.max.y,i.max.z]),r=new It;r.setIndex(new Nt(s,1)),r.setAttribute("position",new Nt(n,3));const l=new yn({color:t});super(r,l)}}class iU{constructor(i){this.node=i,this.next=null,this.previous=null}}class nU{constructor(i=1e6){this.pointBudget=i,this.first=null,this.last=null,this.numPoints=0,this.items=new Map}get size(){return this.items.size}has(i){return this.items.has(i.id)}touch(i){if(!i.loaded)return;const t=this.items.get(i.id);t?this.touchExisting(t):this.addNew(i)}addNew(i){const t=new iU(i);t.previous=this.last,this.last=t,t.previous&&(t.previous.next=t),this.first||(this.first=t),this.items.set(i.id,t),this.numPoints+=i.numPoints}touchExisting(i){i.previous?i.next&&(i.previous.next=i.next,i.next.previous=i.previous,i.previous=this.last,i.next=null,this.last=i,i.previous&&(i.previous.next=i)):i.next&&(this.first=i.next,this.first.previous=null,i.previous=this.last,i.next=null,this.last=i,i.previous&&(i.previous.next=i))}remove(i){const t=this.items.get(i.id);!t||(this.items.size===1?(this.first=null,this.last=null):(t.previous||(this.first=t.next,this.first.previous=null),t.next||(this.last=t.previous,this.last.next=null),t.previous&&t.next&&(t.previous.next=t.next,t.next.previous=t.previous)),this.items.delete(i.id),this.numPoints-=i.numPoints)}getLRUItem(){return this.first?this.first.node:void 0}freeMemory(){if(!(this.items.size<=1))for(;this.numPoints>this.pointBudget*2;){const i=this.getLRUItem();i&&this.disposeSubtree(i)}}dispose(){let i=this.getLRUItem();for(;i!==void 0;)this.disposeSubtree(i),i=this.getLRUItem()}disposeSubtree(i){const t=[i];i.traverse(s=>{s.loaded&&t.push(s)});for(const s of t)s.dispose(),this.remove(s)}}class op{constructor(i,t,s,n){this.pointCloudIndex=i,this.weight=t,this.node=s,this.parent=n}}class ca{constructor(){this._pointBudget=cz,this._rendererSize=new Xe,this.maxNumNodesLoading=hz,this.features=xz,this.lru=new nU(this._pointBudget),this.updateVisibilityStructures=(()=>{const i=new _e,t=new _e,s=new _e;return(n,r)=>{const l=[],a=[],o=new ZZ(c=>1/c.weight);for(let c=0;c<n.length;c++){const h=n[c];if(!h.initialized())continue;h.numVisiblePoints=0,h.visibleNodes=[],h.visibleGeometry=[],r.updateMatrixWorld(!1);const u=r.matrixWorldInverse,d=h.matrixWorld;if(i.identity().multiply(r.projectionMatrix).multiply(u).multiply(d),l.push(new co().setFromProjectionMatrix(i)),t.copy(d).invert(),s.identity().multiply(t).multiply(r.matrixWorld),a.push(new H().setFromMatrixPosition(s)),h.visible&&h.root!==null){const p=Number.MAX_VALUE;o.push(new op(c,p,h.root))}ap(h.root)&&h.hideDescendants(h.root.sceneNode);for(const p of h.boundingBoxNodes)p.visible=!1}return{frustums:l,cameraPositions:a,priorityQueue:o}}})()}loadPointCloud(i,t,s=(r,l)=>fetch(r,l),n){return jz(i,t,s,n).then(r=>new pZ(this,r))}updatePointClouds(i,t,s){const n=this.updateVisibility(i,t,s);for(let r=0;r<i.length;r++){const l=i[r];l.disposed||(l.material.updateMaterial(l,l.visibleNodes,t,s),l.updateVisibleBounds(),l.updateBoundingBoxes())}return this.lru.freeMemory(),n}static pick(i,t,s,n,r={}){return ca.picker=ca.picker||new Lo,ca.picker.pick(t,s,n,i,r)}dispose(){this.lru.dispose()}get pointBudget(){return this._pointBudget}set pointBudget(i){i!==this._pointBudget&&(this._pointBudget=i,this.lru.pointBudget=i,this.lru.freeMemory())}updateVisibility(i,t,s){let n=0;const r=[],l=[],{frustums:a,cameraPositions:o,priorityQueue:c}=this.updateVisibilityStructures(i,t);let h=0,u=!1,d=!1,p;for(;(p=c.pop())!==void 0;){let I=p.node;if(n+I.numPoints>this.pointBudget)break;const X=p.pointCloudIndex,S=i[X],x=S.maxLevel!==void 0?S.maxLevel:1/0;if(I.level>x||!a[X].intersectsBox(I.boundingBox)||this.shouldClip(S,I.boundingBox))continue;n+=I.numPoints,S.numVisiblePoints+=I.numPoints;const v=p.parent;if(tU(I)&&(!v||ap(v)))if(I.loaded&&h<$y)I=S.toTreeNode(I,v),h++;else if(!I.failed)I.loaded&&h>=$y&&(u=!0),l.push(I),S.visibleGeometry.push(I);else{d=!0;continue}ap(I)&&(this.updateTreeNodeVisibility(S,I,r),S.visibleGeometry.push(I.geometryNode));const L=.5*s.getSize(this._rendererSize).height*s.getPixelRatio();this.updateChildVisibility(p,c,S,I,o[X],t,L)}const G=Math.min(this.maxNumNodesLoading,l.length),g=[];for(let I=0;I<G;I++)g.push(l[I].load());return{visibleNodes:r,numVisiblePoints:n,exceededMaxLoadsToGPU:u,nodeLoadFailed:d,nodeLoadPromises:g}}updateTreeNodeVisibility(i,t,s){this.lru.touch(t.geometryNode);const n=t.sceneNode;n.visible=!0,n.material=i.material,n.updateMatrix(),n.matrixWorld.multiplyMatrices(i.matrixWorld,n.matrix),s.push(t),i.visibleNodes.push(t),this.updateBoundingBoxVisibility(i,t)}updateChildVisibility(i,t,s,n,r,l,a){const o=n.children;for(let c=0;c<o.length;c++){const h=o[c];if(h===null)continue;const u=h.boundingSphere,d=u.center.distanceTo(r),p=u.radius;let G=0;if(l.type===eZ){const S=l.fov*Math.PI/180,x=Math.tan(S/2);G=a/(x*d)}else{const X=l;G=2*a/(X.top-X.bottom)}const g=p*G;if(g<s.minNodePixelSize)continue;const I=d<p?Number.MAX_VALUE:g+1/d;t.push(new op(i.pointCloudIndex,I,h,n))}}updateBoundingBoxVisibility(i,t){if(i.showBoundingBox&&!t.boundingBoxNode){const s=new sU(t.boundingBox);s.matrixAutoUpdate=!1,i.boundingBoxNodes.push(s),t.boundingBoxNode=s,t.boundingBoxNode.matrix.copy(i.matrixWorld)}else i.showBoundingBox&&t.boundingBoxNode?(t.boundingBoxNode.visible=!0,t.boundingBoxNode.matrix.copy(i.matrixWorld)):!i.showBoundingBox&&t.boundingBoxNode&&(t.boundingBoxNode.visible=!1)}shouldClip(i,t){const s=i.material;if(s.numClipBoxes===0||s.clipMode!==jn.CLIP_OUTSIDE)return!1;const n=t.clone();i.updateMatrixWorld(!0),n.applyMatrix4(i.matrixWorld);const r=s.clipBoxes;for(let l=0;l<r.length;l++){const a=r[l].matrix,o=new is(new H(-.5,-.5,-.5),new H(.5,.5,.5)).applyMatrix4(a);if(n.intersectsBox(o))return!1}return!0}}var rU=Object.freeze({__proto__:null,BlurMaterial:nz,ClipMode:jn,PointSizeType:tn,PointShape:Qn,TreeType:aa,PointOpacityType:Vo,PointColorType:Zs,PointCloudMaterial:dt,generateDataTexture:iZ,generateGradientTexture:tp,generateClassificationTexture:sp,GRAYSCALE:mz,INFERNO:bz,PLASMA:yz,RAINBOW:Zz,SPECTRAL:sZ,VIRIDIS:Gz,YELLOW_GREEN:gz,PointAttributeName:rZ,POINT_ATTRIBUTE_TYPES:nn,POINT_ATTRIBUTES:aZ,PointAttributes:ip,PointCloudOctreeGeometryNode:Vh,PointCloudOctreeGeometry:cZ,PointCloudOctreeNode:hZ,PointCloudOctree:pZ,PointCloudTree:dZ,QueueItem:op,Potree:ca,Version:oa}),GZ=`// 
// adapted from the EDL shader code from Christian Boucheny in cloud compare:
// https://github.com/cloudcompare/trunk/tree/master/plugins/qEDL/shaders/EDL
//
#ifndef IS_WEBGL_2
	#extension GL_EXT_frag_depth : enable
#endif

uniform float screenWidth;
uniform float screenHeight;
uniform vec2 neighbours[NEIGHBOUR_COUNT];
uniform float edlStrength;
uniform float radius;
uniform float opacity;

uniform float uNear;
uniform float uFar;

uniform mat4 uProj;

uniform sampler2D uEDLColor;
uniform sampler2D uEDLDepth;

varying vec2 vUv;

float response(float depth){
	vec2 uvRadius = radius / vec2(screenWidth, screenHeight);
	
	float sum = 0.0;
	
	for(int i = 0; i < NEIGHBOUR_COUNT; i++){
		vec2 uvNeighbor = vUv + uvRadius * neighbours[i];
		
		float neighbourDepth = texture2D(uEDLColor, uvNeighbor).a;
		neighbourDepth = (neighbourDepth == 1.0) ? 0.0 : neighbourDepth;

		if(neighbourDepth != 0.0){
			if(depth == 0.0){
				sum += 100.0;
			}else{
				sum += max(0.0, depth - neighbourDepth);
			}
		}
	}
	
	return sum / float(NEIGHBOUR_COUNT);
}

void main(){
	vec4 cEDL = texture2D(uEDLColor, vUv);
	
	float depth = cEDL.a;
	depth = (depth == 1.0) ? 0.0 : depth;
	float res = response(depth);
	float shade = exp(-res * 300.0 * edlStrength);

	gl_FragColor = vec4(cEDL.rgb * shade, opacity);

	float dl = pow(2.0, depth);

	vec4 dp = uProj * vec4(0.0, 0.0, -dl, 1.0);
	float pz = dp.z / dp.w;
	float fragDepth = (pz + 1.0) / 2.0;

	gl_FragDepthEXT = fragDepth;

	if(depth == 0.0){
		discard;
	}
}`,gZ=`varying vec2 vUv;

void main() {
	vUv = uv;
	vec4 mvPosition = modelViewMatrix * vec4(position,1.0);
	gl_Position = projectionMatrix * mvPosition;
}`;class lU extends li{constructor(){super();this.neighbourCnt=0,this.isWebGL2=!1;const i={screenWidth:{type:"f",value:1024},screenHeight:{type:"f",value:768},edlStrength:{type:"f",value:1},uNear:{type:"f",value:1},uFar:{type:"f",value:1},radius:{type:"f",value:1},neighbours:{type:"2fv",value:[]},uEDLColor:{type:"t",value:null},uEDLDepth:{type:"t",value:null},opacity:{type:"f",value:1},uProj:{type:"Matrix4fv",value:[]}};this.setValues({uniforms:i,vertexShader:this.getDefines()+gZ,fragmentShader:this.getDefines()+GZ,lights:!1}),this.neighbourCount=8}getDefines(){let i="";return i+="#define NEIGHBOUR_COUNT "+this.neighbourCnt+`
`,this.isWebGL2&&(i+=`#define IS_WEBGL_2
`),i}setIsWebGL2(i){this.isWebGL2=i,this.updateShaderSource()}updateShaderSource(){const i=this.getDefines()+gZ,t=this.getDefines()+GZ;this.setValues({vertexShader:i,fragmentShader:t}),this.uniforms.neighbours.value=this.neighbours,this.needsUpdate=!0}get neighbourCount(){return this.neighbourCnt}set neighbourCount(i){if(this.neighbourCnt!==i){this.neighbourCnt=i,this.neighbours=new Float32Array(this.neighbourCnt*2);for(let t=0;t<this.neighbourCount;t++)this.neighbours[2*t+0]=Math.cos(2*t*Math.PI/this.neighbourCnt),this.neighbours[2*t+1]=Math.sin(2*t*Math.PI/this.neighbourCnt);this.updateShaderSource()}}}class aU{constructor(i,t,s){this.screenScene=new On,this.camera=new Qc,this.edlMaterial=new lU,this.edlMaterial.depthTest=!0,this.edlMaterial.depthWrite=!0,this.edlMaterial.transparent=!0,this.edlMaterial.uniforms.edlStrength.value=.4,this.edlMaterial.uniforms.radius.value=1.6,this.edlMaterial.uniforms.opacity.value=1,this.rtEDL=new _s(1024,1024,{minFilter:us,magFilter:us,format:ri,type:ar,depthTexture:new Id(1024,1024,eo)}),this.screenQuad=new ns(new ho(2,2,1,1),this.edlMaterial),this.screenQuad.frustumCulled=!1,this.screenScene.add(this.screenQuad),i&&t&&s&&this.resize(i,t,s)}resize(i,t,s){const n=t.getPixelRatio(),r=i.clientWidth,l=i.clientHeight,a=Math.floor(r*n),o=Math.floor(l*n);this.rtEDL.setSize(a,o),this.edlMaterial.uniforms.screenWidth.value=r,this.edlMaterial.uniforms.screenHeight.value=l,this.edlMaterial.uniforms.uNear.value=s.near,this.edlMaterial.uniforms.uFar.value=s.far}dispose(){this.edlMaterial.dispose(),this.rtEDL.dispose(),this.screenQuad.material.dispose(),this.screenQuad.geometry.dispose(),this.screenScene.remove(this.screenQuad)}render(i,t,s){i.setRenderTarget(this.rtEDL),i.clear(!0,!0,!0),i.render(t,s),i.setRenderTarget(null);const n=s.projectionMatrix,r=new Float32Array(16);r.set(n.elements),this.edlMaterial.uniforms.uEDLColor.value=this.rtEDL.texture,this.edlMaterial.uniforms.uEDLDepth.value=this.rtEDL.depthTexture,this.edlMaterial.uniforms.uProj.value=r,i.render(this.screenScene,this.camera)}}var oU=Object.defineProperty,cU=Object.defineProperties,hU=Object.getOwnPropertyDescriptors,TZ=Object.getOwnPropertySymbols,uU=Object.prototype.hasOwnProperty,dU=Object.prototype.propertyIsEnumerable,IZ=(e,i,t)=>i in e?oU(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,pU=(e,i)=>{for(var t in i||(i={}))uU.call(i,t)&&IZ(e,t,i[t]);if(TZ)for(var t of TZ(i))dU.call(i,t)&&IZ(e,t,i[t]);return e},mU=(e,i)=>cU(e,hU(i)),RZ=(e,i,t)=>new Promise((s,n)=>{var r=o=>{try{a(t.next(o))}catch(c){n(c)}},l=o=>{try{a(t.throw(o))}catch(c){n(c)}},a=o=>o.done?s(o.value):Promise.resolve(o.value).then(r,l);a((t=t.apply(e,i)).next())});class fZ{constructor(i={}){if(this.pointclouds=[],this.pointBudgetLow=2e5,this.pointBudgetMed=15e5,this.pointBudgetHigh=3e6,this.events=new wi,this.potree=new ca,this.useEDL=!1,this.edlRenderer=new aU,this.needsVisibilityFlip=!1,this.prevClippingPlaneCount=0,this.scene=i.scene,this.camera=i.camera,this.renderer=i.renderer,this.domEl=i.domEl,this.referenceFrame=i.referenceFrame,this.referenceFrame&&i.referenceFramePosition)throw new Error("PointClouds: ReferenceFrame and ReferenceFramePosition both provider. Use only one.");!this.referenceFrame&&i.referenceFramePosition&&(this.referenceFrame=new jy,this.referenceFrame.position=i.referenceFramePosition),this.renderer&&this.initGLExtensions(this.renderer),this.binds(),this.addListeners(),this.setPointBudget("Med"),this.camera&&this.domEl&&this.renderer&&this.resize(this.renderer,this.camera,this.domEl)}initGLExtensions(i){const t=i.capabilities.isWebGL2,s=i.getContext(),n=s.getExtension("EXT_frag_depth"),r=s.getExtension("WEBGL_depth_texture");if(!t&&!n&&!r&&console.error("Device/browser not supported. Capabilities",i.capabilities),!t){const l=s.getExtension("OES_vertex_array_object");l&&(s.createVertexArray=l.createVertexArrayOES.bind(l),s.bindVertexArray=l.bindVertexArrayOES.bind(l))}this.edlRenderer.edlMaterial.setIsWebGL2(t)}dispose(){for(const i of this.pointclouds)i.dispose();this.pointclouds=[],this.potree&&(this.potree.dispose(),this.potree=void 0),this.edlRenderer.dispose(),this.removeListeners()}pick(i){const t=i.screenPos,s=i.renderer||this.renderer,n=i.pickClipped||!1,r=i.camera||this.camera,l=i.pointclouds||this.pointclouds,a=i.pickWindowSize||17;if(!r)throw new Error("PointClouds.pick: camera required");if(!s)throw new Error("PointClouds.pick: renderer required");let o=i.raycaster;if(!o){if(!t)throw new Error('Missing "screenPos" or "raycaster"');const p={x:t.x/s.domElement.clientWidth*2-1,y:-(t.y/s.domElement.clientHeight)*2+1};o=new fh,o.setFromCamera(p,r)}const c=o.ray;let h,u=1/0,d;for(const p of l){if(!p.visible)continue;const G=p.pick(s,r,c,{pickOutsideClipRegion:n,pickWindowSize:a});if(!G||!G.position)continue;const g=r.position.distanceTo(G.position);g<u&&(u=g,h=p,d=G.position)}return h&&d?{distance:u,point:d,object:h,objectType:"pointcloud"}:null}getBoundingBox(i){i=i||this.pointclouds;const t=new is;for(let s=0;s<i.length;s++){const r=i[s].getBoundingBoxWorld();t.union(r)}return t}getHeightRange(){if(this.pointclouds.length===0||!this.referenceFrame)return[0,100];const i=this.referenceFrame.toGeo({x:0,y:0,z:this.pointclouds[0].material.elevationRange[0]}),t=this.referenceFrame.toGeo({x:0,y:0,z:this.pointclouds[0].material.elevationRange[1]});return[i.z,t.z]}setReferenceFrame(i){this.referenceFrame=i}fitHeightRange(){const i=this.getBoundingBox();this.setHeightRange([i.min.z,i.max.z])}fitIntensityRange(){let i=!1;const t=this.pointclouds.length>0?this.pointclouds[0].material.intensityRange:ha.intensityRange;for(let s=0;s<this.pointclouds.length;s++){const n=this.pointclouds[s].pcoGeometry.root,r=.85;if(n!==void 0){if(!n.loaded)return!1;const l=n.geometry.attributes;if(l.intensity!==void 0){const a=l.intensity.array,o=[];for(let u=0;u<a.length;u++)o.push(a[u]);o.sort();const c=Math.floor((o.length-1)*r),h=Math.floor((o.length-1)*(1-r));t[0]=t[0]>o[h]?o[h]:t[0],t[1]=t[1]<o[c]?o[c]:t[1],i=!0}}}return i&&this.setIntensityRange(t),!0}setDefaults(i){const t=new H;for(const s of i){s.material.shape=ha.pointShape,s.material.gradient=ha.heightGradient,s.material.classification=ha.classificationColors,s.material.pointColorType=ha.pointColorType,s.material.pointSizeType=ha.pointSizeType,s.pcoGeometry.boundingBox.getSize(t),s.material.opacity=1;const n=t.x;s.material.uniforms.octreeSize.value=n,s.material.spacing=s.pcoGeometry.spacing*s.scale.x}}load(i){return RZ(this,arguments,function*(t,s={}){const n=Array.isArray(t)?t:[t],r=[];if(!this.potree)throw new Error("Potree needs to be initialized first");let l="";s.queryString&&(l=s.queryString.startsWith("?")?s.queryString:"?"+s.queryString);const a=s.xhrInit||{};for(const o of n){const c=o.endsWith("/")?o:o+"/",h=yield this.potree.loadPointCloud("cloud.js",u=>c+u+l,(u,d)=>fetch(u,d),mU(pU({},a),{mode:"cors"})).catch(u=>{throw new Error(u)});r.push(h)}return this.setDefaults(r),this.pointclouds.push(...r),r})}loadInternal(i){return RZ(this,arguments,function*(t,s={}){const n=yield this.load(t,s).catch(l=>{throw new Error(l)});if(!this.referenceFrame)throw new Error("PointClouds.loadInternal: ReferenceFrame not initialized");const r=this.addToReferenceFrame(n,this.referenceFrame);if(!this.scene)throw new Error("PointClouds.loadInternal: scene required");return this.scene.add(r),n})}addToReferenceFrame(i,t){if(i.length<1)throw new Error("PointClouds.addToReferenceFrame: at least one POC required");return t.isSet()||t.setPosition(i[0].position,!0),t.getSceneGroup(i)}render(i,t,s){const n=i||this.renderer,r=t||this.scene,l=s||this.camera;if(!n||!r||!l)throw new Error("PointClouds.render: renderer, scene and camera required");this.useEDL?this.edlRenderer.render(n,r,l):n.render(r,l)}update(i,t,s){const n=i||this.pointclouds,r=s||this.camera,l=t||this.renderer;if(!n||!r||!l)throw new Error("PointClouds.update: pointclouds, camera and renderer required");this.pointclouds.forEach(a=>{a.material.clippingPlanes=l.clippingPlanes}),this.potree&&this.potree.updatePointClouds(n,r,l)}setClipBoxes(i){this.pointclouds.forEach(function(t){t.material.setClipBoxes(i)}),i&&i.length>0?this.pointclouds.forEach(function(t){t.material.useClipBox=!0}):this.pointclouds.forEach(function(t){t.material.useClipBox=!1})}setEDLEnabled(i){this.useEDL=i;for(const t of this.pointclouds)t.material.useEDL=i;this.events.dispatch("pointscene_pointclouds_edl_changed",{value:i},this.domEl)}isEDLEnabled(){return this.useEDL}setOpacity(i){this.pointclouds.forEach(function(t){t.material.opacity=i}),this.events.dispatch("pointscene_pointclouds_opacity_changed",{value:i},this.domEl)}setPointBudget(i){if(!this.potree)throw new Error("Potree needs to be initialized first");if(i==="Low")this.potree.pointBudget=this.pointBudgetLow;else if(i==="Med")this.potree.pointBudget=this.pointBudgetMed;else if(i==="High")this.potree.pointBudget=this.pointBudgetHigh;else{console.warn("Pointclouds.setPointBudget: unknown value",i);return}this.events.dispatch("pointscene_pointclouds_lod_changed",{value:i},this.domEl)}translatePosition(i){this.pointclouds.forEach(t=>{t.position.add(i),t.updateMatrix()})}setColorType(i){this.events.dispatch("pointscene_pointclouds_color_type_changed",{value:i},this.domEl),this.pointclouds.forEach(function(t){t.material.pointColorType=i})}setMaterialWeights(i){i=i||{};const t=i.rgb||0,s=i.int||0,n=i.z||0,r=i.cls||0;this.pointclouds.forEach(l=>{l.material.uniforms.wRGB.value=t,l.material.uniforms.wIntensity.value=s,l.material.uniforms.wElevation.value=n,l.material.uniforms.wClassification.value=r}),this.events.dispatch("pointscene_pointclouds_material_weights_changed",{weights:i},this.domEl)}setColorWeight(i){this.pointclouds.forEach(t=>{t.material.uniforms.wRGB.value=i}),this.events.dispatch("pointscene_pointclouds_rgb_weight_changed",{value:i},this.domEl)}setElevationWeight(i){this.pointclouds.forEach(t=>{t.material.uniforms.wElevation.value=i}),this.events.dispatch("pointscene_pointclouds_elevation_weight_changed",{value:i},this.domEl)}setIntensityWeight(i){this.pointclouds.forEach(t=>{t.material.uniforms.wIntensity.value=i}),this.events.dispatch("pointscene_pointclouds_intensity_weight_changed",{value:i},this.domEl)}setClassificationWeight(i){this.pointclouds.forEach(t=>{t.material.uniforms.wClassification.value=i}),this.events.dispatch("pointscene_pointclouds_classification_weight_changed",{value:i},this.domEl)}setClassVisibility(i,t){let s=!1;for(let n=0;n<this.pointclouds.length;n++){const r=this.pointclouds[n],l=r.material.classification,a=l[i].w;l[i].w=t?1:0,a!==l[i].w&&(s=!0),r.material.classification=l}s&&this.events.dispatch("pointscene_pointclouds_class_visibility_changed",{key:i,value:t},this.domEl)}setClipMode(i){this.events.dispatch("pointscene_pointclouds_clip_mode_changed",{value:i},this.domEl),this.pointclouds.forEach(t=>{t.material.clipMode=i})}setPointShape(i){let t=Qn.SQUARE;typeof i=="string"?i.toLowerCase()==="circle"&&(t=Qn.CIRCLE):t=i,this.events.dispatch("pointscene_pointclouds_point_shape_changed",{value:t},this.domEl),this.pointclouds.forEach(function(s){s.material.shape=t})}setPointSize(i){i<0&&(i=0),this.events.dispatch("pointscene_pointclouds_point_size_changed",{value:i},this.domEl),this.pointclouds.forEach(function(t){t.material.size=i})}setPointSizeType(i){let t;typeof i=="string"?i==="Adaptive"?t=tn.ADAPTIVE:i==="Attenuated"?t=tn.ATTENUATED:t=tn.FIXED:t=i,this.events.dispatch("pointscene_pointclouds_point_size_type_changed",{value:t},this.domEl),this.pointclouds.forEach(function(s){s.material.pointSizeType=t})}setHeightRange(i){let t={x:0,y:0,z:i[0]},s={x:0,y:0,z:i[1]};if(!this.referenceFrame||!this.referenceFrame.isSet())throw new Error("Reference frame has not been set");t=this.referenceFrame.toScene(t),s=this.referenceFrame.toScene(s),this.events.dispatch("pointscene_pointclouds_height_range_changed",{range:[i[0],i[1]]},this.domEl),this.pointclouds.forEach(function(n){n.material.elevationRange=[t.z,s.z]})}setUseUnscaledElevation(i){this.pointclouds.forEach(function(t){})}setIntensityRange(i){this.events.dispatch("pointscene_pointclouds_intensity_range_changed",{range:i},this.domEl),this.pointclouds.forEach(function(t){t.material.uniforms.intensityRange.value=i})}setVisibility(i){this.pointclouds.forEach(function(t){t.visible=i}),this.events.dispatch("pointscene_pointclouds_visibility_changed",{value:i},this.domEl)}resize(i,t,s){const n=t||this.camera,r=s||this.domEl,l=i||this.renderer;if(!n||!r||!l)throw new Error("PointClouds.onWindowResize: camera, domEl and renderer required");this.edlRenderer.resize(r,l,n);for(let a=0;a<this.pointclouds.length;a++){const o=this.pointclouds[a];o.material.screenWidth=r.clientWidth,o.material.screenHeight=r.clientHeight,typeof n.fov<"u"&&(o.material.fov=n.fov*(Math.PI/180))}}handleWindowResize(){!this.camera&&!this.domEl||this.resize()}handleLoadPointcloud(i){this.load(i.detail.path)}handleSetClipBoxes(i){this.setClipBoxes(i.detail.clipBoxes)}handleSetClipMode(i){this.setClipMode(i.detail.clipMode)}handleSetLOD(i){this.setPointBudget(i.detail.value)}handleSetMaterialWeights(i){this.setMaterialWeights(i.detail.weights)}handleSetClassVisibility(i){this.setClassVisibility(i.detail.key,i.detail.value)}handleUpdateClassRange(i){throw new Error("Update class range not implemented "+i)}handleSetPointShape(i){this.setPointShape(i.detail.value)}handleSetPointSize(i){this.setPointSize(i.detail.value)}handleSetPointSizeType(i){this.setPointSizeType(i.detail.value)}handleSetHeightRange(i){this.setHeightRange(i.detail.range)}handleSetIntensityRange(i){this.setIntensityRange(i.detail.range)}handleSetEDL(i){this.setEDLEnabled(i.detail.value)}handleSetVisibility(i){this.setVisibility(i.detail.value)}binds(){this.handleLoadPointcloud=this.handleLoadPointcloud.bind(this),this.handleSetClassVisibility=this.handleSetClassVisibility.bind(this),this.handleSetClipBoxes=this.handleSetClipBoxes.bind(this),this.handleSetClipMode=this.handleSetClipMode.bind(this),this.handleSetEDL=this.handleSetEDL.bind(this),this.handleSetHeightRange=this.handleSetHeightRange.bind(this),this.handleSetIntensityRange=this.handleSetIntensityRange.bind(this),this.handleSetLOD=this.handleSetLOD.bind(this),this.handleSetMaterialWeights=this.handleSetMaterialWeights.bind(this),this.handleSetPointShape=this.handleSetPointShape.bind(this),this.handleSetPointSize=this.handleSetPointSize.bind(this),this.handleSetPointSizeType=this.handleSetPointSizeType.bind(this),this.handleSetVisibility=this.handleSetVisibility.bind(this),this.handleUpdateClassRange=this.handleUpdateClassRange.bind(this),this.handleWindowResize=this.handleWindowResize.bind(this)}addListeners(i){const t=i||this.domEl;!t||(t.addEventListener("pointscene_load_pointcloud",this.handleLoadPointcloud,!1),t.addEventListener("pointscene_set_clipboxes",this.handleSetClipBoxes,!1),t.addEventListener("pointscene_set_clip_mode",this.handleSetClipMode,!1),t.addEventListener("pointscene_set_pointclouds_lod",this.handleSetLOD,!1),t.addEventListener("pointscene_set_pointclouds_material_weights",this.handleSetMaterialWeights,!1),t.addEventListener("pointscene_set_pointclouds_class_visibility",this.handleSetClassVisibility,!1),t.addEventListener("pointscene_pointclouds_update_class_range",this.handleUpdateClassRange,!1),t.addEventListener("pointscene_set_pointclouds_shape",this.handleSetPointShape,!1),t.addEventListener("pointscene_set_pointclouds_point_size",this.handleSetPointSize,!1),t.addEventListener("pointscene_set_pointclouds_size_type",this.handleSetPointSizeType,!1),t.addEventListener("pointscene_set_pointclouds_height_range",this.handleSetHeightRange,!1),t.addEventListener("pointscene_set_pointclouds_intensity_range",this.handleSetIntensityRange,!1),t.addEventListener("pointscene_set_pointclouds_edl",this.handleSetEDL,!1),t.addEventListener("pointscene_set_pointclouds_visibility",this.handleSetVisibility,!1),window.addEventListener("resize",this.handleWindowResize,!1))}removeListeners(i){const t=i||this.domEl;!t||(t.removeEventListener("pointscene_load_pointcloud",this.handleLoadPointcloud,!1),t.removeEventListener("pointscene_set_clipboxes",this.handleSetClipBoxes,!1),t.removeEventListener("pointscene_set_clip_mode",this.handleSetClipMode,!1),t.removeEventListener("pointscene_set_pointclouds_lod",this.handleSetLOD,!1),t.removeEventListener("pointscene_set_pointclouds_material_weights",this.handleSetMaterialWeights,!1),t.removeEventListener("pointscene_set_pointclouds_class_visibility",this.handleSetClassVisibility,!1),t.removeEventListener("pointscene_pointclouds_update_class_range",this.handleUpdateClassRange,!1),t.removeEventListener("pointscene_set_pointclouds_shape",this.handleSetPointShape,!1),t.removeEventListener("pointscene_set_pointclouds_point_size",this.handleSetPointSize,!1),t.removeEventListener("pointscene_set_pointclouds_size_type",this.handleSetPointSizeType,!1),t.removeEventListener("pointscene_set_pointclouds_height_range",this.handleSetHeightRange,!1),t.removeEventListener("pointscene_set_pointclouds_intensity_range",this.handleSetIntensityRange,!1),t.removeEventListener("pointscene_set_pointclouds_edl",this.handleSetEDL,!1),t.removeEventListener("pointscene_set_pointclouds_visibility",this.handleSetVisibility,!1),window.removeEventListener("resize",this.handleWindowResize,!1))}}const ha={pointShape:Qn.CIRCLE,pointSize:1,minPointSize:1,maxPointSize:50,opacity:1,sizeType:"Adaptive",pointSizeType:tn.ADAPTIVE,pointColorType:Zs.RGB,minNodeSize:1,edlStrength:1,edlRadius:1.4,useEDL:!1,useHqSplat:!1,heightMin:0,heightMax:100,useUnscaledElevation:!1,materialTransition:.5,weightRGB:.4,weightIntensity:0,weightElevation:.6,weightClassification:0,weightReturnNumber:0,weightSourceID:0,intensityRange:[0,65536],intensityGamma:1,intensityContrast:0,intensityBrightness:0,rgbGamma:1,rgbContrast:0,rgbBrightness:0,heightGradient:[[0/36,new ie(54/255,83/255,121/255)],[1/36,new ie(54/255,94/255,123/255)],[2/36,new ie(53/255,106/255,124/255)],[3/36,new ie(53/255,119/255,126/255)],[4/36,new ie(52/255,128/255,124/255)],[5/36,new ie(52/255,129/255,113/255)],[6/36,new ie(51/255,131/255,102/255)],[7/36,new ie(50/255,133/255,90/255)],[8/36,new ie(50/255,134/255,77/255)],[9/36,new ie(49/255,136/255,64/255)],[10/36,new ie(48/255,138/255,50/255)],[11/36,new ie(61/255,139/255,48/255)],[12/36,new ie(75/255,141/255,47/255)],[13/36,new ie(89/255,149/255,47/255)],[14/36,new ie(104/255,158/255,46/255)],[15/36,new ie(121/255,166/255,45/255)],[16/36,new ie(140/255,175/255,43/255)],[17/36,new ie(161/255,183/255,41/255)],[18/36,new ie(185/255,192/255,39/255)],[19/36,new ie(200/255,189/255,36/255)],[20/36,new ie(208/255,177/255,33/255)],[21/36,new ie(217/255,163/255,30/255)],[22/36,new ie(225/255,146/255,26/255)],[23/36,new ie(234/255,127/255,22/255)],[24/36,new ie(242/255,104/255,18/255)],[25/36,new ie(237/255,94/255,16/255)],[26/36,new ie(233/255,84/255,14/255)],[27/36,new ie(228/255,75/255,13/255)],[28/36,new ie(224/255,66/255,11/255)],[29/36,new ie(219/255,57/255,10/255)],[30/36,new ie(215/255,48/255,8/255)],[31/36,new ie(211/255,39/255,7/255)],[32/36,new ie(206/255,31/255,5/255)],[33/36,new ie(202/255,23/255,4/255)],[34/36,new ie(197/255,15/255,2/255)],[35/36,new ie(193/255,7/255,1/255)],[36/36,new ie(188/255,0/255,0/255)]],classificationColors:{0:new De(.5,.5,.5,1),1:new De(1,1,1,1),2:new De(177/255,110/255,13/255,1),3:new De(43/255,143/255,81/255,1),4:new De(39/255,149/255,48/255,1),5:new De(60/255,155/255,34/255,1),6:new De(188/255,0/255,0/255,1),7:new De(158/255,30/255,160/255,1),8:new De(166/255,25/255,139/255,1),9:new De(52/255,106/255,127/255,1),10:new De(49/255,132/255,130/255,1),11:new De(182/255,59/255,7/255,1),12:new De(171/255,155/255,19/255,1),13:new De(166/255,25/255,139/255,1),14:new De(129/255,34/255,155/255,1),15:new De(182/255,7/255,42/255,1),16:new De(158/255,30/255,160/255,1),17:new De(46/255,138/255,108/255,1),18:new De(158/255,30/255,160/255,1),19:new De(188/255,10/255,10/255,1),20:new De(188/255,20/255,20/255,1),21:new De(188/255,30/255,30/255,1),22:new De(188/255,40/255,40/255,1),23:new De(188/255,50/255,50/255,1),24:new De(188/255,60/255,60/255,1),25:new De(188/255,70/255,70/255,1),26:new De(188/255,80/255,80/255,1),27:new De(188/255,90/255,90/255,1),28:new De(188/255,100/255,100/255,1),29:new De(188/255,110/255,110/255,1),30:new De(188/255,120/255,120/255,1),31:new De(188/255,130/255,130/255,1),DEFAULT:new De(.5,.5,.5,1)}};var bU=Object.defineProperty,yU=Object.defineProperties,ZU=Object.getOwnPropertyDescriptors,XZ=Object.getOwnPropertySymbols,GU=Object.prototype.hasOwnProperty,gU=Object.prototype.propertyIsEnumerable,WZ=(e,i,t)=>i in e?bU(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,TU=(e,i)=>{for(var t in i||(i={}))GU.call(i,t)&&WZ(e,t,i[t]);if(XZ)for(var t of XZ(i))gU.call(i,t)&&WZ(e,t,i[t]);return e},IU=(e,i)=>yU(e,ZU(i));class RU{constructor(i){this.raycaster=new fh,this.pickPointclouds=!0,this.pickModels=!0,this.pickDepth=!0,this.pickInteractive=!1,this.mouse=i.mouse,this.domEl=i.domEl,this.camera=i.camera,this.scenePickable=i.scenePickable,this.sceneStatic=i.sceneStatic,this.modules=i.modules}getFaceNormal(i){const t=new _e;i.object.updateWorldMatrix(!0,!1),t.extractRotation(i.object.matrixWorld);const s=i.face;if(!s)return null;const n=s.normal.clone();return n.applyMatrix4(t),n}pick(){const i=new Xe(this.mouse.x/this.domEl.clientWidth*2-1,-(this.mouse.y/this.domEl.clientHeight)*2+1);this.raycaster.setFromCamera(i,this.camera);let t=[];if(this.pickModels){const n=this.raycaster.intersectObjects(this.scenePickable.children,!0).filter(r=>{const l=r.object.visible,a=typeof r.object.userData.isPickable<"u"&&r.object.userData.isPickable,o=typeof r.object.userData.isInteractive<"u"&&r.object.userData.isInteractive;return l&&a&&!o});if(n.length>0){const r=n.map(l=>IU(TU({},l),{objectType:"mesh",normal:this.getFaceNormal(l)}));t.push(...r)}}if(this.pickDepth&&this.modules.photoSpheres&&this.modules.photoSpheres.hasDepthData()){const s=this.modules.photoSpheres.pick(this.raycaster);s&&t.push(s)}if(this.pickPointclouds&&this.modules.pointclouds){const s=this.modules.pointclouds.pick({raycaster:this.raycaster});s&&t.push(s)}return t.length>0?(t.sort((s,n)=>s.distance-n.distance),t[0]):null}intersectPlane(i){let t=new H;const s=new Xe(this.mouse.x/this.domEl.clientWidth*2-1,-(this.mouse.y/this.domEl.clientHeight)*2+1);return this.raycaster.setFromCamera(s,this.camera),this.raycaster.ray.intersectPlane(i,t)?{point:t,distance:this.camera.position.distanceTo(t),objectType:"plane",object:new zt}:null}}var fU=(e,i,t)=>new Promise((s,n)=>{var r=o=>{try{a(t.next(o))}catch(c){n(c)}},l=o=>{try{a(t.throw(o))}catch(c){n(c)}},a=o=>o.done?s(o.value):Promise.resolve(o.value).then(r,l);a((t=t.apply(e,i)).next())});class SZ{constructor(i){this.raycastDelta=0,this.updateHooks=[],this.scene=i.scene,this.camera=i.camera,this.renderer=i.renderer,this.domEl=i.domEl,this.sceneStatic=new On,this.scenePointCloud=new On,this.scenePickable=new On,this.sceneLabels=new On,this.referenceFrame=typeof i.referenceFrame<"u"?i.referenceFrame:new jy,this.mouse=new Xe,this.scene.background=new ie(2109510),this.events=new wi,this.raycastActive=!0,this.raycaster=new fh,this.dragActive=!1,this.mouseDownActive=!1,this.touchDownActive=!1,this.picker=new RU({mouse:this.mouse,domEl:this.domEl,camera:this.camera,scenePickable:this.scenePickable,sceneStatic:this.sceneStatic,modules:this}),this.binds(),this.addListeners(),this.mouseDownRightStarted=Date.now(),this.mouseDownLeftStarted=Date.now(),this.disposeCount={geometry:0,material:0,pcoGeometry:0,points:0,nodes:0}}setupLights(i){const t=new Bd(16772863,.8);t.position.set(1,1,1),i.add(t);const s=new Bd(16777215,.8);s.position.set(-1,.5,-1),i.add(s);const n=new xy(16777198,.25);i.add(n)}render(){this.freezeRenderAndUpdate||(this.renderer.clear(),this.renderer.render(this.scene,this.camera),this.pointclouds&&this.pointclouds.render(),this.renderer.render(this.scenePickable,this.camera),this.renderer.render(this.sceneStatic,this.camera),this.renderer.render(this.sceneLabels,this.camera))}raycast(){const i=new Xe(this.mouse.x/this.domEl.clientWidth*2-1,-(this.mouse.y/this.domEl.clientHeight)*2+1);return this.raycaster.setFromCamera(i,this.camera),this.raycaster.intersectObjects(this.scenePickable.children,!0)}disposeMaterial(i){i.map&&i.map.dispose(),i.lightMap&&i.lightMap.dispose(),i.bumpMap&&i.bumpMap.dispose(),i.normalMap&&i.normalMap.dispose(),i.specularMap&&i.specularMap.dispose(),i.envMap&&i.envMap.dispose(),i.dispose()}recursiveRemove(i){if(Array.isArray(i))for(const t of i)for(;t.children.length>0;)t.children[0].children.length>0&&this.recursiveRemove(t.children[0].children),t.remove(t.children[0]),this.disposeCount.nodes++;else for(;i.children.length>0;)i.children[0].children.length>0&&this.recursiveRemove(i.children[0].children),i.remove(i.children[0]),this.disposeCount.nodes++}disposeScene(i){i.traverse(t=>{t.geometry&&(t.geometry.dispose(),t.geometry=void 0,this.disposeCount.geometry++),t.pcoGeometry&&this.disposeCount.pcoGeometry++,t.type==="Points"&&this.disposeCount.points++,t.material&&(this.disposeMaterial(t.material),t.material=void 0,this.disposeCount.material++),t.texture&&(t.texture.dispose(),t.texture=void 0)}),this.recursiveRemove(i)}dispose(){this.freezeRenderAndUpdate=!0,this.disposeCount={geometry:0,material:0,pcoGeometry:0,points:0,nodes:0},this.hoveredElement&&(this.hoveredElement.material.dispose(),this.hoveredElement.geometry.dispose(),this.hoveredElement=void 0),this.pointclouds&&(this.pointclouds.dispose(),this.pointclouds=void 0),this.photoSpheres&&(this.photoSpheres.dispose(),this.photoSpheres=void 0),this.disposeScene(this.scene),this.disposeScene(this.scenePointCloud),this.disposeScene(this.scenePickable),this.disposeScene(this.sceneLabels),this.disposeScene(this.sceneStatic),this.renderer.dispose(),this.renderer.forceContextLoss(),this.removeListeners()}handleRegisterUpdateHook(i){this.registerUpdateHook(i.detail.fn)}registerUpdateHook(i){this.updateHooks.push(i)}update(i){if(!this.freezeRenderAndUpdate){this.pointclouds&&this.pointclouds.update(),this.photoSpheres&&this.photoSpheres.update();for(let t of this.updateHooks)t(i);if(this.raycastActive&&!this.disableRaycast&&!this.mouseDownActive&&!this.touchDownActive){if(this.raycastDelta+=i,this.raycastDelta<.1)return;this.raycastDelta=0;const s=this.raycast().filter(n=>n.object.userData.isInteractive);if(s.length>0){const n=s[0].object;this.hoveredElement!==n&&this.hoveredElement!==void 0&&this.hoveredElement.dispatchEvent({type:"hover_out"}),!n.userData.hoverActive&&n.visible&&(n.parent&&n.parent.visible||!n.parent)&&n.dispatchEvent({type:"hover_in"}),this.hoveredElement=n}else this.hoveredElement!==void 0&&(this.hoveredElement.dispatchEvent({type:"hover_out"}),this.hoveredElement=void 0)}}}loadPhotoSpheres(i,t){return typeof this.photoSpheres>"u"&&(this.photoSpheres=new Oy({scene:this.scenePickable,sceneLabels:this.sceneLabels,domEl:this.domEl,mouse:this.mouse,camera:this.camera,referenceFrame:this.referenceFrame})),this.photoSpheres.load(i,t)}createPointcloudModule(){this.pointclouds=new fZ({scene:this.scenePointCloud,camera:this.camera,renderer:this.renderer,domEl:this.domEl,referenceFrame:this.referenceFrame})}loadPointcloud(i){return fU(this,arguments,function*(t,s={}){return typeof this.pointclouds>"u"&&this.createPointcloudModule(),yield this.pointclouds.loadInternal(t,{xhrInit:s.xhrInit,queryString:s.queryString})})}updateMouseFromTouch(i){const t=this.domEl.getBoundingClientRect();this.mouse.x=i.touches[0].clientX-t.left,this.mouse.y=i.touches[0].clientY-t.top}handleMouseMove(i){const t=this.domEl.getBoundingClientRect();this.mouse.x=i.clientX-t.left,this.mouse.y=i.clientY-t.top,this.events.dispatch("pointscene_on_mousemove",{mouse:this.mouse},this.domEl),this.mouseDownActive&&this.hoveredElement&&(this.dragActive?this.hoveredElement.dispatchEvent({type:"drag"}):(this.hoveredElement.dispatchEvent({type:"drag_start",intersects:this.raycast()}),this.dragActive=!0))}handleTouchMove(i){this.updateMouseFromTouch(i),i.preventDefault(),this.touchDownActive&&this.hoveredElement&&(this.dragActive?this.hoveredElement.dispatchEvent({type:"drag"}):(this.hoveredElement.dispatchEvent({type:"drag_start",intersects:this.raycast()}),this.dragActive=!0))}handleTouchStart(i){this.updateMouseFromTouch(i),i.touches.length===1&&(this.touchDownActive=!0)}handleTouchEnd(){this.touchDownActive=!1,this.dragActive&&this.hoveredElement&&(this.hoveredElement.dispatchEvent({type:"drag_end"}),this.dragActive=!1)}isHoveredInteractive(){return this.hoveredElement?!!this.hoveredElement.userData.isInteractive:!1}handleMouseDown(i){var t;const s=i.target;if(!(s.tagName!=="CANVAS"||((t=s.parentElement)==null?void 0:t.id)!==this.domEl.id))switch(i.button){case 0:this.mouseDownActive=!0,this.mouseDownLeftStarted=Date.now();const n=this.picker.pick();n&&!this.isHoveredInteractive()&&this.events.dispatch(tt.UpdateOrbitPoint,{point:n.point},this.domEl);break;case 2:this.mouseDownRightStarted=Date.now();break}}handleMouseUp(i){if(!!this.mouseDownActive)switch(this.events.dispatch("pointscene_camera_position_changed",{position:{x:this.camera.position.x,y:this.camera.position.y,z:this.camera.position.z}},this.domEl),i.button){case 0:const t=Date.now()-this.mouseDownLeftStarted;t<300&&(this.dragActive=!1),this.mouseDownActive=!1,this.dragActive&&this.hoveredElement?(this.hoveredElement.dispatchEvent({type:"drag_end"}),this.dragActive=!1):t<150&&this.raycastActive&&this.events.dispatch("pointscene_on_leftclick",{},this.domEl);break;case 2:this.mouseDownActive||Date.now()-this.mouseDownRightStarted<300&&this.events.dispatch("pointscene_on_rightclick",{},this.domEl);break}}binds(){this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleTouchEnd=this.handleTouchEnd.bind(this),this.handleTouchMove=this.handleTouchMove.bind(this),this.handleTouchStart=this.handleTouchStart.bind(this),this.handleRegisterUpdateHook=this.handleRegisterUpdateHook.bind(this)}addListeners(){this.domEl.addEventListener("mousemove",this.handleMouseMove,!1),this.domEl.addEventListener("touchmove",this.handleTouchMove,!1),this.domEl.addEventListener("touchstart",this.handleTouchStart,!1),this.domEl.addEventListener("touchend",this.handleTouchEnd,!1),this.domEl.addEventListener("mousedown",this.handleMouseDown,!1),this.domEl.addEventListener("mouseup",this.handleMouseUp,!1),this.domEl.addEventListener(tt.RegisterUpdateHook,this.handleRegisterUpdateHook,!1)}removeListeners(){this.domEl.removeEventListener("mousemove",this.handleMouseMove,!1),this.domEl.removeEventListener("touchmove",this.handleTouchMove,!1),this.domEl.removeEventListener("touchstart",this.handleTouchStart,!1),this.domEl.removeEventListener("touchend",this.handleTouchEnd,!1),this.domEl.removeEventListener("mousedown",this.handleMouseDown,!1),this.domEl.removeEventListener("mouseup",this.handleMouseUp,!1),this.domEl.removeEventListener(tt.RegisterUpdateHook,this.handleRegisterUpdateHook,!1)}}const cp=window.ShadowRoot&&(window.ShadyCSS===void 0||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,hp=Symbol(),CZ=new Map;class VZ{constructor(i,t){if(this._$cssResult$=!0,t!==hp)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=i}get styleSheet(){let i=CZ.get(this.cssText);return cp&&i===void 0&&(CZ.set(this.cssText,i=new CSSStyleSheet),i.replaceSync(this.cssText)),i}toString(){return this.cssText}}const XU=e=>new VZ(typeof e=="string"?e:e+"",hp),rn=(e,...i)=>{const t=e.length===1?e[0]:i.reduce((s,n,r)=>s+(l=>{if(l._$cssResult$===!0)return l.cssText;if(typeof l=="number")return l;throw Error("Value passed to 'css' function must be a 'css' function result: "+l+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+e[r+1],e[0]);return new VZ(t,hp)},WU=(e,i)=>{cp?e.adoptedStyleSheets=i.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet):i.forEach(t=>{const s=document.createElement("style"),n=window.litNonce;n!==void 0&&s.setAttribute("nonce",n),s.textContent=t.cssText,e.appendChild(s)})},LZ=cp?e=>e:e=>e instanceof CSSStyleSheet?(i=>{let t="";for(const s of i.cssRules)t+=s.cssText;return XU(t)})(e):e;var up;const FZ=window.trustedTypes,SU=FZ?FZ.emptyScript:"",NZ=window.reactiveElementPolyfillSupport,dp={toAttribute(e,i){switch(i){case Boolean:e=e?SU:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,i){let t=e;switch(i){case Boolean:t=e!==null;break;case Number:t=e===null?null:Number(e);break;case Object:case Array:try{t=JSON.parse(e)}catch{t=null}}return t}},xZ=(e,i)=>i!==e&&(i==i||e==e),pp={attribute:!0,type:String,converter:dp,reflect:!1,hasChanged:xZ};class ua extends HTMLElement{constructor(){super(),this._$Et=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Ei=null,this.o()}static addInitializer(i){var t;(t=this.l)!==null&&t!==void 0||(this.l=[]),this.l.push(i)}static get observedAttributes(){this.finalize();const i=[];return this.elementProperties.forEach((t,s)=>{const n=this._$Eh(s,t);n!==void 0&&(this._$Eu.set(n,s),i.push(n))}),i}static createProperty(i,t=pp){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(i,t),!t.noAccessor&&!this.prototype.hasOwnProperty(i)){const s=typeof i=="symbol"?Symbol():"__"+i,n=this.getPropertyDescriptor(i,s,t);n!==void 0&&Object.defineProperty(this.prototype,i,n)}}static getPropertyDescriptor(i,t,s){return{get(){return this[t]},set(n){const r=this[i];this[t]=n,this.requestUpdate(i,r,s)},configurable:!0,enumerable:!0}}static getPropertyOptions(i){return this.elementProperties.get(i)||pp}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const i=Object.getPrototypeOf(this);if(i.finalize(),this.elementProperties=new Map(i.elementProperties),this._$Eu=new Map,this.hasOwnProperty("properties")){const t=this.properties,s=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const n of s)this.createProperty(n,t[n])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(i){const t=[];if(Array.isArray(i)){const s=new Set(i.flat(1/0).reverse());for(const n of s)t.unshift(LZ(n))}else i!==void 0&&t.push(LZ(i));return t}static _$Eh(i,t){const s=t.attribute;return s===!1?void 0:typeof s=="string"?s:typeof i=="string"?i.toLowerCase():void 0}o(){var i;this._$Ep=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$Em(),this.requestUpdate(),(i=this.constructor.l)===null||i===void 0||i.forEach(t=>t(this))}addController(i){var t,s;((t=this._$Eg)!==null&&t!==void 0?t:this._$Eg=[]).push(i),this.renderRoot!==void 0&&this.isConnected&&((s=i.hostConnected)===null||s===void 0||s.call(i))}removeController(i){var t;(t=this._$Eg)===null||t===void 0||t.splice(this._$Eg.indexOf(i)>>>0,1)}_$Em(){this.constructor.elementProperties.forEach((i,t)=>{this.hasOwnProperty(t)&&(this._$Et.set(t,this[t]),delete this[t])})}createRenderRoot(){var i;const t=(i=this.shadowRoot)!==null&&i!==void 0?i:this.attachShadow(this.constructor.shadowRootOptions);return WU(t,this.constructor.elementStyles),t}connectedCallback(){var i;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(i=this._$Eg)===null||i===void 0||i.forEach(t=>{var s;return(s=t.hostConnected)===null||s===void 0?void 0:s.call(t)})}enableUpdating(i){}disconnectedCallback(){var i;(i=this._$Eg)===null||i===void 0||i.forEach(t=>{var s;return(s=t.hostDisconnected)===null||s===void 0?void 0:s.call(t)})}attributeChangedCallback(i,t,s){this._$AK(i,s)}_$ES(i,t,s=pp){var n,r;const l=this.constructor._$Eh(i,s);if(l!==void 0&&s.reflect===!0){const a=((r=(n=s.converter)===null||n===void 0?void 0:n.toAttribute)!==null&&r!==void 0?r:dp.toAttribute)(t,s.type);this._$Ei=i,a==null?this.removeAttribute(l):this.setAttribute(l,a),this._$Ei=null}}_$AK(i,t){var s,n,r;const l=this.constructor,a=l._$Eu.get(i);if(a!==void 0&&this._$Ei!==a){const o=l.getPropertyOptions(a),c=o.converter,h=(r=(n=(s=c)===null||s===void 0?void 0:s.fromAttribute)!==null&&n!==void 0?n:typeof c=="function"?c:null)!==null&&r!==void 0?r:dp.fromAttribute;this._$Ei=a,this[a]=h(t,o.type),this._$Ei=null}}requestUpdate(i,t,s){let n=!0;i!==void 0&&(((s=s||this.constructor.getPropertyOptions(i)).hasChanged||xZ)(this[i],t)?(this._$AL.has(i)||this._$AL.set(i,t),s.reflect===!0&&this._$Ei!==i&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(i,s))):n=!1),!this.isUpdatePending&&n&&(this._$Ep=this._$E_())}async _$E_(){this.isUpdatePending=!0;try{await this._$Ep}catch(t){Promise.reject(t)}const i=this.scheduleUpdate();return i!=null&&await i,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var i;if(!this.isUpdatePending)return;this.hasUpdated,this._$Et&&(this._$Et.forEach((n,r)=>this[r]=n),this._$Et=void 0);let t=!1;const s=this._$AL;try{t=this.shouldUpdate(s),t?(this.willUpdate(s),(i=this._$Eg)===null||i===void 0||i.forEach(n=>{var r;return(r=n.hostUpdate)===null||r===void 0?void 0:r.call(n)}),this.update(s)):this._$EU()}catch(n){throw t=!1,this._$EU(),n}t&&this._$AE(s)}willUpdate(i){}_$AE(i){var t;(t=this._$Eg)===null||t===void 0||t.forEach(s=>{var n;return(n=s.hostUpdated)===null||n===void 0?void 0:n.call(s)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(i)),this.updated(i)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Ep}shouldUpdate(i){return!0}update(i){this._$EC!==void 0&&(this._$EC.forEach((t,s)=>this._$ES(s,this[s],t)),this._$EC=void 0),this._$EU()}updated(i){}firstUpdated(i){}}ua.finalized=!0,ua.elementProperties=new Map,ua.elementStyles=[],ua.shadowRootOptions={mode:"open"},NZ==null||NZ({ReactiveElement:ua}),((up=globalThis.reactiveElementVersions)!==null&&up!==void 0?up:globalThis.reactiveElementVersions=[]).push("1.3.0");var mp;const da=globalThis.trustedTypes,vZ=da?da.createPolicy("lit-html",{createHTML:e=>e}):void 0,fr=`lit$${(Math.random()+"").slice(9)}$`,EZ="?"+fr,CU=`<${EZ}>`,pa=document,Fo=(e="")=>pa.createComment(e),No=e=>e===null||typeof e!="object"&&typeof e!="function",YZ=Array.isArray,VU=e=>{var i;return YZ(e)||typeof((i=e)===null||i===void 0?void 0:i[Symbol.iterator])=="function"},xo=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,MZ=/-->/g,wZ=/>/g,$r=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,HZ=/'/g,PZ=/"/g,zZ=/^(?:script|style|textarea|title)$/i,LU=e=>(i,...t)=>({_$litType$:e,strings:i,values:t}),as=LU(1),ma=Symbol.for("lit-noChange"),Js=Symbol.for("lit-nothing"),UZ=new WeakMap,FU=(e,i,t)=>{var s,n;const r=(s=t==null?void 0:t.renderBefore)!==null&&s!==void 0?s:i;let l=r._$litPart$;if(l===void 0){const a=(n=t==null?void 0:t.renderBefore)!==null&&n!==void 0?n:null;r._$litPart$=l=new Eo(i.insertBefore(Fo(),a),a,void 0,t??{})}return l._$AI(e),l},ba=pa.createTreeWalker(pa,129,null,!1),NU=(e,i)=>{const t=e.length-1,s=[];let n,r=i===2?"<svg>":"",l=xo;for(let o=0;o<t;o++){const c=e[o];let h,u,d=-1,p=0;for(;p<c.length&&(l.lastIndex=p,u=l.exec(c),u!==null);)p=l.lastIndex,l===xo?u[1]==="!--"?l=MZ:u[1]!==void 0?l=wZ:u[2]!==void 0?(zZ.test(u[2])&&(n=RegExp("</"+u[2],"g")),l=$r):u[3]!==void 0&&(l=$r):l===$r?u[0]===">"?(l=n??xo,d=-1):u[1]===void 0?d=-2:(d=l.lastIndex-u[2].length,h=u[1],l=u[3]===void 0?$r:u[3]==='"'?PZ:HZ):l===PZ||l===HZ?l=$r:l===MZ||l===wZ?l=xo:(l=$r,n=void 0);const G=l===$r&&e[o+1].startsWith("/>")?" ":"";r+=l===xo?c+CU:d>=0?(s.push(h),c.slice(0,d)+"$lit$"+c.slice(d)+fr+G):c+fr+(d===-2?(s.push(void 0),o):G)}const a=r+(e[t]||"<?>")+(i===2?"</svg>":"");if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return[vZ!==void 0?vZ.createHTML(a):a,s]};class vo{constructor({strings:i,_$litType$:t},s){let n;this.parts=[];let r=0,l=0;const a=i.length-1,o=this.parts,[c,h]=NU(i,t);if(this.el=vo.createElement(c,s),ba.currentNode=this.el.content,t===2){const u=this.el.content,d=u.firstChild;d.remove(),u.append(...d.childNodes)}for(;(n=ba.nextNode())!==null&&o.length<a;){if(n.nodeType===1){if(n.hasAttributes()){const u=[];for(const d of n.getAttributeNames())if(d.endsWith("$lit$")||d.startsWith(fr)){const p=h[l++];if(u.push(d),p!==void 0){const G=n.getAttribute(p.toLowerCase()+"$lit$").split(fr),g=/([.?@])?(.*)/.exec(p);o.push({type:1,index:r,name:g[2],strings:G,ctor:g[1]==="."?vU:g[1]==="?"?YU:g[1]==="@"?MU:Fh})}else o.push({type:6,index:r})}for(const d of u)n.removeAttribute(d)}if(zZ.test(n.tagName)){const u=n.textContent.split(fr),d=u.length-1;if(d>0){n.textContent=da?da.emptyScript:"";for(let p=0;p<d;p++)n.append(u[p],Fo()),ba.nextNode(),o.push({type:2,index:++r});n.append(u[d],Fo())}}}else if(n.nodeType===8)if(n.data===EZ)o.push({type:2,index:r});else{let u=-1;for(;(u=n.data.indexOf(fr,u+1))!==-1;)o.push({type:7,index:r}),u+=fr.length-1}r++}}static createElement(i,t){const s=pa.createElement("template");return s.innerHTML=i,s}}function ya(e,i,t=e,s){var n,r,l,a;if(i===ma)return i;let o=s!==void 0?(n=t._$Cl)===null||n===void 0?void 0:n[s]:t._$Cu;const c=No(i)?void 0:i._$litDirective$;return(o==null?void 0:o.constructor)!==c&&((r=o==null?void 0:o._$AO)===null||r===void 0||r.call(o,!1),c===void 0?o=void 0:(o=new c(e),o._$AT(e,t,s)),s!==void 0?((l=(a=t)._$Cl)!==null&&l!==void 0?l:a._$Cl=[])[s]=o:t._$Cu=o),o!==void 0&&(i=ya(e,o._$AS(e,i.values),o,s)),i}class xU{constructor(i,t){this.v=[],this._$AN=void 0,this._$AD=i,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(i){var t;const{el:{content:s},parts:n}=this._$AD,r=((t=i==null?void 0:i.creationScope)!==null&&t!==void 0?t:pa).importNode(s,!0);ba.currentNode=r;let l=ba.nextNode(),a=0,o=0,c=n[0];for(;c!==void 0;){if(a===c.index){let h;c.type===2?h=new Eo(l,l.nextSibling,this,i):c.type===1?h=new c.ctor(l,c.name,c.strings,this,i):c.type===6&&(h=new wU(l,this,i)),this.v.push(h),c=n[++o]}a!==(c==null?void 0:c.index)&&(l=ba.nextNode(),a++)}return r}m(i){let t=0;for(const s of this.v)s!==void 0&&(s.strings!==void 0?(s._$AI(i,s,t),t+=s.strings.length-2):s._$AI(i[t])),t++}}class Eo{constructor(i,t,s,n){var r;this.type=2,this._$AH=Js,this._$AN=void 0,this._$AA=i,this._$AB=t,this._$AM=s,this.options=n,this._$Cg=(r=n==null?void 0:n.isConnected)===null||r===void 0||r}get _$AU(){var i,t;return(t=(i=this._$AM)===null||i===void 0?void 0:i._$AU)!==null&&t!==void 0?t:this._$Cg}get parentNode(){let i=this._$AA.parentNode;const t=this._$AM;return t!==void 0&&i.nodeType===11&&(i=t.parentNode),i}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(i,t=this){i=ya(this,i,t),No(i)?i===Js||i==null||i===""?(this._$AH!==Js&&this._$AR(),this._$AH=Js):i!==this._$AH&&i!==ma&&this.$(i):i._$litType$!==void 0?this.T(i):i.nodeType!==void 0?this.k(i):VU(i)?this.S(i):this.$(i)}A(i,t=this._$AB){return this._$AA.parentNode.insertBefore(i,t)}k(i){this._$AH!==i&&(this._$AR(),this._$AH=this.A(i))}$(i){this._$AH!==Js&&No(this._$AH)?this._$AA.nextSibling.data=i:this.k(pa.createTextNode(i)),this._$AH=i}T(i){var t;const{values:s,_$litType$:n}=i,r=typeof n=="number"?this._$AC(i):(n.el===void 0&&(n.el=vo.createElement(n.h,this.options)),n);if(((t=this._$AH)===null||t===void 0?void 0:t._$AD)===r)this._$AH.m(s);else{const l=new xU(r,this),a=l.p(this.options);l.m(s),this.k(a),this._$AH=l}}_$AC(i){let t=UZ.get(i.strings);return t===void 0&&UZ.set(i.strings,t=new vo(i)),t}S(i){YZ(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let s,n=0;for(const r of i)n===t.length?t.push(s=new Eo(this.A(Fo()),this.A(Fo()),this,this.options)):s=t[n],s._$AI(r),n++;n<t.length&&(this._$AR(s&&s._$AB.nextSibling,n),t.length=n)}_$AR(i=this._$AA.nextSibling,t){var s;for((s=this._$AP)===null||s===void 0||s.call(this,!1,!0,t);i&&i!==this._$AB;){const n=i.nextSibling;i.remove(),i=n}}setConnected(i){var t;this._$AM===void 0&&(this._$Cg=i,(t=this._$AP)===null||t===void 0||t.call(this,i))}}class Fh{constructor(i,t,s,n,r){this.type=1,this._$AH=Js,this._$AN=void 0,this.element=i,this.name=t,this._$AM=n,this.options=r,s.length>2||s[0]!==""||s[1]!==""?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=Js}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(i,t=this,s,n){const r=this.strings;let l=!1;if(r===void 0)i=ya(this,i,t,0),l=!No(i)||i!==this._$AH&&i!==ma,l&&(this._$AH=i);else{const a=i;let o,c;for(i=r[0],o=0;o<r.length-1;o++)c=ya(this,a[s+o],t,o),c===ma&&(c=this._$AH[o]),l||(l=!No(c)||c!==this._$AH[o]),c===Js?i=Js:i!==Js&&(i+=(c??"")+r[o+1]),this._$AH[o]=c}l&&!n&&this.C(i)}C(i){i===Js?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,i??"")}}class vU extends Fh{constructor(){super(...arguments),this.type=3}C(i){this.element[this.name]=i===Js?void 0:i}}const EU=da?da.emptyScript:"";class YU extends Fh{constructor(){super(...arguments),this.type=4}C(i){i&&i!==Js?this.element.setAttribute(this.name,EU):this.element.removeAttribute(this.name)}}class MU extends Fh{constructor(i,t,s,n,r){super(i,t,s,n,r),this.type=5}_$AI(i,t=this){var s;if((i=(s=ya(this,i,t,0))!==null&&s!==void 0?s:Js)===ma)return;const n=this._$AH,r=i===Js&&n!==Js||i.capture!==n.capture||i.once!==n.once||i.passive!==n.passive,l=i!==Js&&(n===Js||r);r&&this.element.removeEventListener(this.name,this,n),l&&this.element.addEventListener(this.name,this,i),this._$AH=i}handleEvent(i){var t,s;typeof this._$AH=="function"?this._$AH.call((s=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&s!==void 0?s:this.element,i):this._$AH.handleEvent(i)}}class wU{constructor(i,t,s){this.element=i,this.type=6,this._$AN=void 0,this._$AM=t,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(i){ya(this,i)}}const kZ=window.litHtmlPolyfillSupport;kZ==null||kZ(vo,Eo),((mp=globalThis.litHtmlVersions)!==null&&mp!==void 0?mp:globalThis.litHtmlVersions=[]).push("2.2.0");var bp,yp;class bi extends ua{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var i,t;const s=super.createRenderRoot();return(i=(t=this.renderOptions).renderBefore)!==null&&i!==void 0||(t.renderBefore=s.firstChild),s}update(i){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(i),this._$Dt=FU(t,this.renderRoot,this.renderOptions)}connectedCallback(){var i;super.connectedCallback(),(i=this._$Dt)===null||i===void 0||i.setConnected(!0)}disconnectedCallback(){var i;super.disconnectedCallback(),(i=this._$Dt)===null||i===void 0||i.setConnected(!1)}render(){return ma}}bi.finalized=!0,bi._$litElement$=!0,(bp=globalThis.litElementHydrateSupport)===null||bp===void 0||bp.call(globalThis,{LitElement:bi});const DZ=globalThis.litElementPolyfillSupport;DZ==null||DZ({LitElement:bi}),((yp=globalThis.litElementVersions)!==null&&yp!==void 0?yp:globalThis.litElementVersions=[]).push("3.2.0");const fn=e=>i=>typeof i=="function"?((t,s)=>(window.customElements.define(t,s),s))(e,i):((t,s)=>{const{kind:n,elements:r}=s;return{kind:n,elements:r,finisher(l){window.customElements.define(t,l)}}})(e,i);const HU=(e,i)=>i.kind==="method"&&i.descriptor&&!("value"in i.descriptor)?{...i,finisher(t){t.createProperty(i.key,e)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:i.key,initializer(){typeof i.initializer=="function"&&(this[i.key]=i.initializer.call(this))},finisher(t){t.createProperty(i.key,e)}};function Qt(e){return(i,t)=>t!==void 0?((s,n,r)=>{n.constructor.createProperty(r,s)})(e,i,t):HU(e,i)}function xs(e){return Qt({...e,state:!0})}var Zp;((Zp=window.HTMLSlotElement)===null||Zp===void 0?void 0:Zp.prototype.assignedElements)!=null;const el=rn`
  :host {
    font-family: 'Open Sans';
    margin: 0px;
    padding: 0px;
    padding-top: 4px;
    padding-bottom: 4px;
    opacity: 0.90;
    background-color: white;
    color: #365379;
    border-radius: 5px;
    border-color: #365379;
    width: 100%;
    z-index: 100;
  }

  .pointscene-ui-expand-toggle {
    background-color: #fff;
    color: #365379;
    position: absolute;
    border-radius: 5px;
    left: -28px;
    top: 10px;
    width: 35px;
    height: 30px;
  }
  .pointscene-ui-expand-toggle-icon {
    position: absolute;
    top: 4px;
    left: 4px;
    -webkit-transform: rotate(90deg);
    -moz-transform: rotate(90deg);
    -o-transform: rotate(90deg);
    -ms-transform: rotate(90deg);
    transform: rotate(90deg);
  }
  .pointscene-ui-expand-toggle:hover {
    background-color: #eee;
    cursor: pointer;
  }
  .pointscene-header {
    text-align: center;
    position: relative;
    top: 2px;
    padding: 4px;
    font-size: 14px;
    cursor: pointer;
    width: 94%;
    height: 24px;
  }
  .pointscene-header-icon {
    position: absolute;
    left: 8px;
    top: 6px;
  }
  .pointscene-header-title {
    position: absolute;
    left: 32px;
    top: 6px;
  }
  .pointscene-header-toggle {
    position: absolute;
    right: 12px;
    top: 6px;
  }
  .pointscene-header:hover {
    background-color: #eee;
  }
  .pointscene-expanded-content {
    padding-top: 4px;
    padding-bottom: 4px;
    animation: append-animate .2s linear;
  }
  hr {
    border-top: 1px solid #365379;
    width: 60px;
    opacity: 0.4;
    margin-top: 16px;
  }
  .offset-bottom-4px {
    bottom: 4px;
    position: relative;
  }
  .expand-mark {
    position: absolute;
    right: -12px;
    top: 0px;
  }

  @keyframes append-animate {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
`,PU=rn`
.pointscene-collapsible-button {
  border-width: 0px;
  border-radius: 0px;
  width: 100%;
  height: 24px;
  font-size: 12px;
  padding-top: 0px;
  background-color: white;
  color: #f26812;
  transition: all 0.3s ease 0s;
}
.pointscene-collapsible-button:hover {
  cursor: pointer;
  background-color: #eee;
}
`,JZ=rn`
.pointscene-cancel-button {
  border-width: 0px;
  border-radius: 0px;
  width: 48%;
  height: 24px;
  font-size: 12px;
  background-color: white;
  color: #bc0000;
  transition: all 0.3s ease 0s;
}
.pointscene-cancel-button:hover {
  cursor: pointer;
  background-color: #eee;
}
`,zU=rn`
.pointscene-basic-button {
  border-width: 0px;
  border-radius: 0px;
  width: 48%;
  height: 24px;
  font-size: 12px;
  background-color: white;
  color: #365379;
  transition: all 0.3s ease 0s;
}
.pointscene-basic-button:hover {
  cursor: pointer;
  background-color: #eee;
}
`,UU=rn`
.pointscene-switch {
  position: relative;
  display: inline-block;
  width: 32px;
  height: 16px;
  left: 4px;
}

.pointscene-switch input {
  opacity: 0;
  width: 0px;
  height: 0px;
}

.pointscene-slider {
  position: absolute;
  cursor: pointer;
  top: 0px;
  left: 4px;
  right: 0px;
  bottom: 0px;
  background-color: #ccc;
  -webkit-transition: .4s;
  transition: .4s;
}

.pointscene-slider:before {
  position: absolute;
  content: "";
  height: 12px;
  width: 12px;
  left: 2px;
  bottom: 2px;
  background-color: white;
  -webkit-transition: .4s;
  transition: .4s;
}

input:checked + .pointscene-slider {
  background-color: #365379;
}

input:disabled + .pointscene-slider {
  background-color: #eee;
}

input:focus + .pointscene-slider {
  box-shadow: 0 0 1px #365379;
}

input:checked + .pointscene-slider:before {
  -webkit-transform: translateX(12px);
  -ms-transform: translateX(12px);
  transform: translateX(12px);
}

/* Rounded sliders */
.pointscene-slider.round {
  border-radius: 10px;
}

.pointscene-slider.round:before {
  border-radius: 50%;
}

.pointscene-switch-label {
  position: absolute;
  top: 0px;
  left: 36px;
  width: 110px;
  cursor: pointer;
  font-size: 12px;
  text-overflow: ellipsis;
  white-space: nowrap;
  overflow: hidden;
}
`;var ht;(function(e){e[e.NONE=0]="NONE",e[e.ROTATE=1]="ROTATE",e[e.TRUCK=2]="TRUCK",e[e.OFFSET=3]="OFFSET",e[e.DOLLY=4]="DOLLY",e[e.ZOOM=5]="ZOOM",e[e.TOUCH_ROTATE=6]="TOUCH_ROTATE",e[e.TOUCH_TRUCK=7]="TOUCH_TRUCK",e[e.TOUCH_OFFSET=8]="TOUCH_OFFSET",e[e.TOUCH_DOLLY=9]="TOUCH_DOLLY",e[e.TOUCH_ZOOM=10]="TOUCH_ZOOM",e[e.TOUCH_DOLLY_TRUCK=11]="TOUCH_DOLLY_TRUCK",e[e.TOUCH_DOLLY_OFFSET=12]="TOUCH_DOLLY_OFFSET",e[e.TOUCH_ZOOM_TRUCK=13]="TOUCH_ZOOM_TRUCK",e[e.TOUCH_ZOOM_OFFSET=14]="TOUCH_ZOOM_OFFSET"})(ht||(ht={}));function tl(e){return e.isPerspectiveCamera}function Xr(e){return e.isOrthographicCamera}const Za=Math.PI*2,KZ=Math.PI/2,OZ=1e-5;function fs(e,i=OZ){return Math.abs(e)<i}function Xs(e,i,t=OZ){return fs(e-i,t)}function AZ(e,i){return Math.round(e/i)*i}function Yo(e){return isFinite(e)?e:e<0?-Number.MAX_VALUE:Number.MAX_VALUE}function Mo(e){return Math.abs(e)<Number.MAX_VALUE?e:e*(1/0)}function Gp(e,i){i.set(0,0),e.forEach(t=>{i.x+=t.clientX,i.y+=t.clientY}),i.x/=e.length,i.y/=e.length}function gp(e,i){return Xr(e)?(console.warn(`${i} is not supported in OrthographicCamera`),!0):!1}function BZ(e){return e.invert?e.invert():e.inverse(),e}class kU{constructor(){this._listeners={}}addEventListener(i,t){const s=this._listeners;s[i]===void 0&&(s[i]=[]),s[i].indexOf(t)===-1&&s[i].push(t)}removeEventListener(i,t){const n=this._listeners[i];if(n!==void 0){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}}removeAllEventListeners(i){if(!i){this._listeners={};return}Array.isArray(this._listeners[i])&&(this._listeners[i].length=0)}dispatchEvent(i){const s=this._listeners[i.type];if(s!==void 0){i.target=this;const n=s.slice(0);for(let r=0,l=n.length;r<l;r++)n[r].call(this,i)}}}const jZ=typeof window<"u",DU=jZ&&/Mac/.test(navigator.platform),QZ=!(jZ&&"PointerEvent"in window),JU=Object.freeze(ht),Nh=1/8;let ot,_Z,xh,Tp,yi,wt,os,Ga,Xn,Wn,sl,ln,wo,ga,qZ,Ip,$Z,eG,Rp,vh;class ps extends kU{constructor(i,t){super();if(this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.minDistance=0,this.maxDistance=1/0,this.infinityDolly=!1,this.minZoom=.01,this.maxZoom=1/0,this.dampingFactor=.05,this.draggingDampingFactor=.25,this.azimuthRotateSpeed=1,this.polarRotateSpeed=1,this.dollySpeed=1,this.truckSpeed=2,this.dollyToCursor=!1,this.dragToOffset=!1,this.verticalDragToForward=!1,this.boundaryFriction=0,this.restThreshold=.01,this.colliderMeshes=[],this.cancel=()=>{},this._enabled=!0,this._state=ht.NONE,this._viewport=null,this._dollyControlAmount=0,this._hasRested=!0,this._boundaryEnclosesCamera=!1,this._needsUpdate=!0,this._updatedLastTime=!1,this._elementRect=new DOMRect,this._activePointers=[],this._truckInternal=(s,n,r)=>{if(tl(this._camera)){const l=wt.copy(this._camera.position).sub(this._target),a=this._camera.getEffectiveFOV()*ot.MathUtils.DEG2RAD,o=l.length()*Math.tan(a*.5),c=this.truckSpeed*s*o/this._elementRect.height,h=this.truckSpeed*n*o/this._elementRect.height;this.verticalDragToForward?(r?this.setFocalOffset(this._focalOffsetEnd.x+c,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(c,0,!0),this.forward(-h,!0)):r?this.setFocalOffset(this._focalOffsetEnd.x+c,this._focalOffsetEnd.y+h,this._focalOffsetEnd.z,!0):this.truck(c,h,!0)}else if(Xr(this._camera)){const l=this._camera,a=s*(l.right-l.left)/l.zoom/this._elementRect.width,o=n*(l.top-l.bottom)/l.zoom/this._elementRect.height;r?this.setFocalOffset(this._focalOffsetEnd.x+a,this._focalOffsetEnd.y+o,this._focalOffsetEnd.z,!0):this.truck(a,o,!0)}},this._rotateInternal=(s,n)=>{const r=Za*this.azimuthRotateSpeed*s/this._elementRect.height,l=Za*this.polarRotateSpeed*n/this._elementRect.height;this.rotate(r,l,!0)},this._dollyInternal=(s,n,r)=>{const l=Math.pow(.95,-s*this.dollySpeed),a=this._sphericalEnd.radius*l,o=this._sphericalEnd.radius,c=o*(s>=0?-1:1);this.dollyTo(a),this.infinityDolly&&(a<this.minDistance||this.maxDistance===this.minDistance)&&(this._camera.getWorldDirection(wt),this._targetEnd.add(wt.normalize().multiplyScalar(c)),this._target.add(wt.normalize().multiplyScalar(c))),this.dollyToCursor&&(this._dollyControlAmount+=this._sphericalEnd.radius-o,this.infinityDolly&&(a<this.minDistance||this.maxDistance===this.minDistance)&&(this._dollyControlAmount-=c),this._dollyControlCoord.set(n,r))},this._zoomInternal=(s,n,r)=>{const l=Math.pow(.95,s*this.dollySpeed);this.zoomTo(this._zoom*l),this.dollyToCursor&&(this._dollyControlAmount=this._zoomEnd,this._dollyControlCoord.set(n,r))},typeof ot>"u"&&console.error("camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information."),this._camera=i,this._yAxisUpSpace=new ot.Quaternion().setFromUnitVectors(this._camera.up,xh),this._yAxisUpSpaceInverse=BZ(this._yAxisUpSpace.clone()),this._state=ht.NONE,this._domElement=t,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._target=new ot.Vector3,this._targetEnd=this._target.clone(),this._focalOffset=new ot.Vector3,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=new ot.Spherical().setFromVector3(wt.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._nearPlaneCorners=[new ot.Vector3,new ot.Vector3,new ot.Vector3,new ot.Vector3],this._updateNearPlaneCorners(),this._boundary=new ot.Box3(new ot.Vector3(-1/0,-1/0,-1/0),new ot.Vector3(1/0,1/0,1/0)),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlAmount=0,this._dollyControlCoord=new ot.Vector2,this.mouseButtons={left:ht.ROTATE,middle:ht.DOLLY,right:ht.TRUCK,wheel:tl(this._camera)?ht.DOLLY:Xr(this._camera)?ht.ZOOM:ht.NONE,shiftLeft:ht.NONE},this.touches={one:ht.TOUCH_ROTATE,two:tl(this._camera)?ht.TOUCH_DOLLY_TRUCK:Xr(this._camera)?ht.TOUCH_ZOOM_TRUCK:ht.NONE,three:ht.TOUCH_TRUCK},this._domElement){const s=new ot.Vector2,n=new ot.Vector2,r=new ot.Vector2,l=L=>{if(!this._enabled)return;const M={pointerId:L.pointerId,clientX:L.clientX,clientY:L.clientY};switch(this._activePointers.push(M),L.button){case ot.MOUSE.LEFT:this._state=L.shiftKey?this.mouseButtons.shiftLeft:this.mouseButtons.left;break;case ot.MOUSE.MIDDLE:this._state=this.mouseButtons.middle;break;case ot.MOUSE.RIGHT:this._state=this.mouseButtons.right;break}if(L.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}this._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",d),this._domElement.ownerDocument.addEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",d),S()},a=L=>{if(!this._enabled)return;const M={pointerId:0,clientX:L.clientX,clientY:L.clientY};switch(this._activePointers.push(M),L.button){case ot.MOUSE.LEFT:this._state=L.shiftKey?this.mouseButtons.shiftLeft:this.mouseButtons.left;break;case ot.MOUSE.MIDDLE:this._state=this.mouseButtons.middle;break;case ot.MOUSE.RIGHT:this._state=this.mouseButtons.right;break}this._domElement.ownerDocument.removeEventListener("mousemove",h),this._domElement.ownerDocument.removeEventListener("mouseup",p),this._domElement.ownerDocument.addEventListener("mousemove",h),this._domElement.ownerDocument.addEventListener("mouseup",p),S()},o=L=>{if(!!this._enabled){switch(L.preventDefault(),Array.prototype.forEach.call(L.changedTouches,M=>{const E={pointerId:M.identifier,clientX:M.clientX,clientY:M.clientY};this._activePointers.push(E)}),this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}this._domElement.ownerDocument.removeEventListener("touchmove",u,{passive:!1}),this._domElement.ownerDocument.removeEventListener("touchend",G),this._domElement.ownerDocument.addEventListener("touchmove",u,{passive:!1}),this._domElement.ownerDocument.addEventListener("touchend",G),S()}},c=L=>{L.cancelable&&L.preventDefault();const M=L.pointerId,E=this._findPointerById(M);!E||(E.clientX=L.clientX,E.clientY=L.clientY,x())},h=L=>{const M=this._findPointerById(0);!M||(M.clientX=L.clientX,M.clientY=L.clientY,x())},u=L=>{L.cancelable&&L.preventDefault(),Array.prototype.forEach.call(L.changedTouches,M=>{const E=M.identifier,K=this._findPointerById(E);!K||(K.clientX=M.clientX,K.clientY=M.clientY)}),x()},d=L=>{const M=L.pointerId,E=this._findPointerById(M);if(E&&this._activePointers.splice(this._activePointers.indexOf(E),1),L.pointerType==="touch")switch(this._activePointers.length){case 0:this._state=ht.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=ht.NONE;v()},p=()=>{const L=this._findPointerById(0);L&&this._activePointers.splice(this._activePointers.indexOf(L),1),this._state=ht.NONE,v()},G=L=>{switch(Array.prototype.forEach.call(L.changedTouches,M=>{const E=M.identifier,K=this._findPointerById(E);K&&this._activePointers.splice(this._activePointers.indexOf(K),1)}),this._activePointers.length){case 0:this._state=ht.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}v()};let g=-1;const I=L=>{if(!this._enabled||this.mouseButtons.wheel===ht.NONE)return;if(L.preventDefault(),this.dollyToCursor||this.mouseButtons.wheel===ht.ROTATE||this.mouseButtons.wheel===ht.TRUCK){const Q=performance.now();g-Q<1e3&&this._getClientRect(this._elementRect),g=Q}const M=DU?-1:-3,E=L.deltaMode===1?L.deltaY/M:L.deltaY/(M*10),K=this.dollyToCursor?(L.clientX-this._elementRect.x)/this._elementRect.width*2-1:0,q=this.dollyToCursor?(L.clientY-this._elementRect.y)/this._elementRect.height*-2+1:0;switch(this.mouseButtons.wheel){case ht.ROTATE:{this._rotateInternal(L.deltaX,L.deltaY);break}case ht.TRUCK:{this._truckInternal(L.deltaX,L.deltaY,!1);break}case ht.OFFSET:{this._truckInternal(L.deltaX,L.deltaY,!0);break}case ht.DOLLY:{this._dollyInternal(-E,K,q);break}case ht.ZOOM:{this._zoomInternal(-E,K,q);break}}this.dispatchEvent({type:"control"})},X=L=>{!this._enabled||L.preventDefault()},S=()=>{if(!this._enabled)return;if(Gp(this._activePointers,yi),this._getClientRect(this._elementRect),s.copy(yi),n.copy(yi),this._activePointers.length>=2){const M=yi.x-this._activePointers[1].clientX,E=yi.y-this._activePointers[1].clientY,K=Math.sqrt(M*M+E*E);r.set(0,K);const q=(this._activePointers[0].clientX+this._activePointers[1].clientX)*.5,Q=(this._activePointers[0].clientY+this._activePointers[1].clientY)*.5;n.set(q,Q)}this.dispatchEvent({type:"controlstart"})},x=()=>{if(!this._enabled)return;Gp(this._activePointers,yi);const L=n.x-yi.x,M=n.y-yi.y;switch(n.copy(yi),this._state){case ht.ROTATE:case ht.TOUCH_ROTATE:{this._rotateInternal(L,M);break}case ht.DOLLY:case ht.ZOOM:{const E=this.dollyToCursor?(s.x-this._elementRect.x)/this._elementRect.width*2-1:0,K=this.dollyToCursor?(s.y-this._elementRect.y)/this._elementRect.height*-2+1:0;this._state===ht.DOLLY?this._dollyInternal(M*Nh,E,K):this._zoomInternal(M*Nh,E,K);break}case ht.TOUCH_DOLLY:case ht.TOUCH_ZOOM:case ht.TOUCH_DOLLY_TRUCK:case ht.TOUCH_ZOOM_TRUCK:case ht.TOUCH_DOLLY_OFFSET:case ht.TOUCH_ZOOM_OFFSET:{const E=yi.x-this._activePointers[1].clientX,K=yi.y-this._activePointers[1].clientY,q=Math.sqrt(E*E+K*K),Q=r.y-q;r.set(0,q);const w=this.dollyToCursor?(n.x-this._elementRect.x)/this._elementRect.width*2-1:0,j=this.dollyToCursor?(n.y-this._elementRect.y)/this._elementRect.height*-2+1:0;this._state===ht.TOUCH_DOLLY||this._state===ht.TOUCH_DOLLY_TRUCK||this._state===ht.TOUCH_DOLLY_OFFSET?this._dollyInternal(Q*Nh,w,j):this._zoomInternal(Q*Nh,w,j),this._state===ht.TOUCH_DOLLY_TRUCK||this._state===ht.TOUCH_ZOOM_TRUCK?this._truckInternal(L,M,!1):(this._state===ht.TOUCH_DOLLY_OFFSET||this._state===ht.TOUCH_ZOOM_OFFSET)&&this._truckInternal(L,M,!0);break}case ht.TRUCK:case ht.TOUCH_TRUCK:{this._truckInternal(L,M,!1);break}case ht.OFFSET:case ht.TOUCH_OFFSET:{this._truckInternal(L,M,!0);break}}this.dispatchEvent({type:"control"})},v=()=>{Gp(this._activePointers,yi),n.copy(yi),this._activePointers.length===0&&(this._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",d),this._domElement.ownerDocument.removeEventListener("touchmove",u,{passive:!1}),this._domElement.ownerDocument.removeEventListener("touchend",G),this.dispatchEvent({type:"controlend"}))};this._domElement.addEventListener("pointerdown",l),QZ&&this._domElement.addEventListener("mousedown",a),QZ&&this._domElement.addEventListener("touchstart",o),this._domElement.addEventListener("pointercancel",d),this._domElement.addEventListener("wheel",I,{passive:!1}),this._domElement.addEventListener("contextmenu",X),this._removeAllEventListeners=()=>{this._domElement.removeEventListener("pointerdown",l),this._domElement.removeEventListener("mousedown",a),this._domElement.removeEventListener("touchstart",o),this._domElement.removeEventListener("pointercancel",d),this._domElement.removeEventListener("wheel",I,{passive:!1}),this._domElement.removeEventListener("contextmenu",X),this._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.removeEventListener("mousemove",h),this._domElement.ownerDocument.removeEventListener("touchmove",u,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",d),this._domElement.ownerDocument.removeEventListener("mouseup",p),this._domElement.ownerDocument.removeEventListener("touchend",G)},this.cancel=()=>{this._state!==ht.NONE&&(this._state=ht.NONE,this._activePointers.length=0,v())}}this.update(0)}static install(i){ot=i.THREE,_Z=Object.freeze(new ot.Vector3(0,0,0)),xh=Object.freeze(new ot.Vector3(0,1,0)),Tp=Object.freeze(new ot.Vector3(0,0,1)),yi=new ot.Vector2,wt=new ot.Vector3,os=new ot.Vector3,Ga=new ot.Vector3,Xn=new ot.Vector3,Wn=new ot.Vector3,sl=new ot.Vector3,ln=new ot.Spherical,wo=new ot.Spherical,ga=new ot.Box3,qZ=new ot.Box3,Ip=new ot.Sphere,$Z=new ot.Quaternion,eG=new ot.Quaternion,Rp=new ot.Matrix4,vh=new ot.Raycaster}static get ACTION(){return JU}get camera(){return this._camera}set camera(i){this._camera=i,this.updateCameraUp(),this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(i){this._enabled=i,i?(this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none"):(this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect="")}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(i){this._spherical.radius===i&&this._sphericalEnd.radius===i||(this._spherical.radius=i,this._sphericalEnd.radius=i,this._needsUpdate=!0)}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(i){this._spherical.theta===i&&this._sphericalEnd.theta===i||(this._spherical.theta=i,this._sphericalEnd.theta=i,this._needsUpdate=!0)}get polarAngle(){return this._spherical.phi}set polarAngle(i){this._spherical.phi===i&&this._sphericalEnd.phi===i||(this._spherical.phi=i,this._sphericalEnd.phi=i,this._needsUpdate=!0)}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(i){this._boundaryEnclosesCamera=i,this._needsUpdate=!0}addEventListener(i,t){super.addEventListener(i,t)}removeEventListener(i,t){super.removeEventListener(i,t)}rotate(i,t,s=!1){return this.rotateTo(this._sphericalEnd.theta+i,this._sphericalEnd.phi+t,s)}rotateAzimuthTo(i,t=!1){return this.rotateTo(i,this._sphericalEnd.phi,t)}rotatePolarTo(i,t=!1){return this.rotateTo(this._sphericalEnd.theta,i,t)}rotateTo(i,t,s=!1){const n=ot.MathUtils.clamp(i,this.minAzimuthAngle,this.maxAzimuthAngle),r=ot.MathUtils.clamp(t,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=n,this._sphericalEnd.phi=r,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,s||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi);const l=!s||Xs(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&Xs(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(l)}dolly(i,t=!1){return this.dollyTo(this._sphericalEnd.radius-i,t)}dollyTo(i,t=!1){const s=this._sphericalEnd.radius,n=ot.MathUtils.clamp(i,this.minDistance,this.maxDistance);if(this.colliderMeshes.length>=1){const a=this._collisionTest(),o=Xs(a,this._spherical.radius);if(!(s>n)&&o)return Promise.resolve();this._sphericalEnd.radius=Math.min(n,a)}else this._sphericalEnd.radius=n;this._needsUpdate=!0,t||(this._spherical.radius=this._sphericalEnd.radius);const l=!t||Xs(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(l)}zoom(i,t=!1){return this.zoomTo(this._zoomEnd+i,t)}zoomTo(i,t=!1){this._zoomEnd=ot.MathUtils.clamp(i,this.minZoom,this.maxZoom),this._needsUpdate=!0,t||(this._zoom=this._zoomEnd);const s=!t||Xs(this._zoom,this._zoomEnd,this.restThreshold);return this._createOnRestPromise(s)}pan(i,t,s=!1){return console.warn("`pan` has been renamed to `truck`"),this.truck(i,t,s)}truck(i,t,s=!1){this._camera.updateMatrix(),Xn.setFromMatrixColumn(this._camera.matrix,0),Wn.setFromMatrixColumn(this._camera.matrix,1),Xn.multiplyScalar(i),Wn.multiplyScalar(-t);const n=wt.copy(Xn).add(Wn),r=os.copy(this._targetEnd).add(n);return this.moveTo(r.x,r.y,r.z,s)}forward(i,t=!1){wt.setFromMatrixColumn(this._camera.matrix,0),wt.crossVectors(this._camera.up,wt),wt.multiplyScalar(i);const s=os.copy(this._targetEnd).add(wt);return this.moveTo(s.x,s.y,s.z,t)}moveTo(i,t,s,n=!1){const r=wt.set(i,t,s).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,r,this.boundaryFriction),this._needsUpdate=!0,n||this._target.copy(this._targetEnd);const l=!n||Xs(this._target.x,this._targetEnd.x,this.restThreshold)&&Xs(this._target.y,this._targetEnd.y,this.restThreshold)&&Xs(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(l)}fitToBox(i,t,{paddingLeft:s=0,paddingRight:n=0,paddingBottom:r=0,paddingTop:l=0}={}){const a=[],o=i.isBox3?ga.copy(i):ga.setFromObject(i);o.isEmpty()&&(console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve());const c=AZ(this._sphericalEnd.theta,KZ),h=AZ(this._sphericalEnd.phi,KZ);a.push(this.rotateTo(c,h,t));const u=wt.setFromSpherical(this._sphericalEnd).normalize(),d=$Z.setFromUnitVectors(u,Tp);Xs(Math.abs(u.y),1)&&d.multiply(eG.setFromAxisAngle(xh,c));const G=qZ.makeEmpty();os.copy(o.min).applyQuaternion(d),G.expandByPoint(os),os.copy(o.min).setX(o.max.x).applyQuaternion(d),G.expandByPoint(os),os.copy(o.min).setY(o.max.y).applyQuaternion(d),G.expandByPoint(os),os.copy(o.max).setZ(o.min.z).applyQuaternion(d),G.expandByPoint(os),os.copy(o.min).setZ(o.max.z).applyQuaternion(d),G.expandByPoint(os),os.copy(o.max).setY(o.min.y).applyQuaternion(d),G.expandByPoint(os),os.copy(o.max).setX(o.min.x).applyQuaternion(d),G.expandByPoint(os),os.copy(o.max).applyQuaternion(d),G.expandByPoint(os),d.setFromUnitVectors(Tp,u),G.min.x-=s,G.min.y-=r,G.max.x+=n,G.max.y+=l;const g=G.getSize(wt),I=G.getCenter(os).applyQuaternion(d);if(tl(this._camera)){const X=this.getDistanceToFitBox(g.x,g.y,g.z);a.push(this.moveTo(I.x,I.y,I.z,t)),a.push(this.dollyTo(X,t)),a.push(this.setFocalOffset(0,0,0,t))}else if(Xr(this._camera)){const X=this._camera,S=X.right-X.left,x=X.top-X.bottom,v=Math.min(S/g.x,x/g.y);a.push(this.moveTo(I.x,I.y,I.z,t)),a.push(this.zoomTo(v,t)),a.push(this.setFocalOffset(0,0,0,t))}return Promise.all(a)}fitTo(i,t,s={}){return console.warn("camera-controls: fitTo() has been renamed to fitToBox()"),this.fitToBox(i,t,s)}fitToSphere(i,t){const s=[],r=i instanceof ot.Sphere?Ip.copy(i):KU(i,Ip);if(s.push(this.moveTo(r.center.x,r.center.y,r.center.z,t)),tl(this._camera)){const l=this.getDistanceToFitSphere(r.radius);s.push(this.dollyTo(l,t))}else if(Xr(this._camera)){const l=this._camera.right-this._camera.left,a=this._camera.top-this._camera.bottom,o=2*r.radius,c=Math.min(l/o,a/o);s.push(this.zoomTo(c,t))}return s.push(this.setFocalOffset(0,0,0,t)),Promise.all(s)}setLookAt(i,t,s,n,r,l,a=!1){const o=os.set(n,r,l),c=wt.set(i,t,s);this._targetEnd.copy(o),this._sphericalEnd.setFromVector3(c.sub(o).applyQuaternion(this._yAxisUpSpace)),this.normalizeRotations(),this._needsUpdate=!0,a||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const h=!a||Xs(this._target.x,this._targetEnd.x,this.restThreshold)&&Xs(this._target.y,this._targetEnd.y,this.restThreshold)&&Xs(this._target.z,this._targetEnd.z,this.restThreshold)&&Xs(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&Xs(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&Xs(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(h)}lerpLookAt(i,t,s,n,r,l,a,o,c,h,u,d,p,G=!1){const g=wt.set(n,r,l),I=os.set(i,t,s);ln.setFromVector3(I.sub(g).applyQuaternion(this._yAxisUpSpace));const X=Ga.set(h,u,d),S=os.set(a,o,c);wo.setFromVector3(S.sub(X).applyQuaternion(this._yAxisUpSpace)),this._targetEnd.copy(g.lerp(X,p));const x=wo.theta-ln.theta,v=wo.phi-ln.phi,L=wo.radius-ln.radius;this._sphericalEnd.set(ln.radius+L*p,ln.phi+v*p,ln.theta+x*p),this.normalizeRotations(),this._needsUpdate=!0,G||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const M=!G||Xs(this._target.x,this._targetEnd.x,this.restThreshold)&&Xs(this._target.y,this._targetEnd.y,this.restThreshold)&&Xs(this._target.z,this._targetEnd.z,this.restThreshold)&&Xs(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&Xs(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&Xs(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(M)}setPosition(i,t,s,n=!1){return this.setLookAt(i,t,s,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,n)}setTarget(i,t,s,n=!1){const r=this.getPosition(wt);return this.setLookAt(r.x,r.y,r.z,i,t,s,n)}setFocalOffset(i,t,s,n=!1){this._focalOffsetEnd.set(i,t,s),this._needsUpdate=!0,n||this._focalOffset.copy(this._focalOffsetEnd);const r=!n||Xs(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&Xs(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&Xs(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(r)}setOrbitPoint(i,t,s){Xn.setFromMatrixColumn(this._camera.matrixWorldInverse,0),Wn.setFromMatrixColumn(this._camera.matrixWorldInverse,1),sl.setFromMatrixColumn(this._camera.matrixWorldInverse,2);const n=wt.set(i,t,s),r=n.distanceTo(this._camera.position),l=n.sub(this._camera.position);Xn.multiplyScalar(l.x),Wn.multiplyScalar(l.y),sl.multiplyScalar(l.z),wt.copy(Xn).add(Wn).add(sl),wt.z=wt.z+r,this.dollyTo(r,!1),this.setFocalOffset(-wt.x,wt.y,-wt.z,!1),this.moveTo(i,t,s,!1)}setBoundary(i){if(!i){this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),this._needsUpdate=!0;return}this._boundary.copy(i),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(i,t,s,n){if(i===null){this._viewport=null;return}this._viewport=this._viewport||new ot.Vector4,typeof i=="number"?this._viewport.set(i,t,s,n):this._viewport.copy(i)}getDistanceToFitBox(i,t,s){if(gp(this._camera,"getDistanceToFitBox"))return this._spherical.radius;const n=i/t,r=this._camera.getEffectiveFOV()*ot.MathUtils.DEG2RAD,l=this._camera.aspect;return(n<l?t:i/l)*.5/Math.tan(r*.5)+s*.5}getDistanceToFit(i,t,s){return console.warn("camera-controls: getDistanceToFit() has been renamed to getDistanceToFitBox()"),this.getDistanceToFitBox(i,t,s)}getDistanceToFitSphere(i){if(gp(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;const t=this._camera.getEffectiveFOV()*ot.MathUtils.DEG2RAD,s=Math.atan(Math.tan(t*.5)*this._camera.aspect)*2,n=1<this._camera.aspect?t:s;return i/Math.sin(n*.5)}getTarget(i){return(!!i&&i.isVector3?i:new ot.Vector3).copy(this._targetEnd)}getPosition(i){return(!!i&&i.isVector3?i:new ot.Vector3).setFromSpherical(this._sphericalEnd).applyQuaternion(this._yAxisUpSpaceInverse).add(this._targetEnd)}getFocalOffset(i){return(!!i&&i.isVector3?i:new ot.Vector3).copy(this._focalOffsetEnd)}normalizeRotations(){this._sphericalEnd.theta=this._sphericalEnd.theta%Za,this._sphericalEnd.theta<0&&(this._sphericalEnd.theta+=Za),this._spherical.theta+=Za*Math.round((this._sphericalEnd.theta-this._spherical.theta)/Za)}reset(i=!1){const t=[this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,i),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,i),this.zoomTo(this._zoom0,i)];return Promise.all(t)}saveState(){this._target0.copy(this._target),this._position0.copy(this._camera.position),this._zoom0=this._zoom}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,xh),BZ(this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace))}update(i){const t=this._state===ht.NONE?this.dampingFactor:this.draggingDampingFactor,s=Math.min(t*i*60,1),n=this._sphericalEnd.theta-this._spherical.theta,r=this._sphericalEnd.phi-this._spherical.phi,l=this._sphericalEnd.radius-this._spherical.radius,a=wt.subVectors(this._targetEnd,this._target),o=os.subVectors(this._focalOffsetEnd,this._focalOffset);if(!fs(n)||!fs(r)||!fs(l)||!fs(a.x)||!fs(a.y)||!fs(a.z)||!fs(o.x)||!fs(o.y)||!fs(o.z)?(this._spherical.set(this._spherical.radius+l*s,this._spherical.phi+r*s,this._spherical.theta+n*s),this._target.add(a.multiplyScalar(s)),this._focalOffset.add(o.multiplyScalar(s)),this._needsUpdate=!0):(this._spherical.copy(this._sphericalEnd),this._target.copy(this._targetEnd),this._focalOffset.copy(this._focalOffsetEnd)),this._dollyControlAmount!==0){if(tl(this._camera)){const p=this._camera,G=wt.setFromSpherical(this._sphericalEnd).applyQuaternion(this._yAxisUpSpaceInverse).normalize().negate(),g=os.copy(G).cross(p.up).normalize();g.lengthSq()===0&&(g.x=1);const I=Ga.crossVectors(g,G),X=this._sphericalEnd.radius*Math.tan(p.getEffectiveFOV()*ot.MathUtils.DEG2RAD*.5),x=(this._sphericalEnd.radius-this._dollyControlAmount-this._sphericalEnd.radius)/this._sphericalEnd.radius,v=wt.copy(this._targetEnd).add(g.multiplyScalar(this._dollyControlCoord.x*X*p.aspect)).add(I.multiplyScalar(this._dollyControlCoord.y*X));this._targetEnd.lerp(v,x),this._target.copy(this._targetEnd)}else if(Xr(this._camera)){const p=this._camera,G=wt.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(p.near+p.far)/(p.near-p.far)).unproject(p),g=os.set(0,0,-1).applyQuaternion(p.quaternion),I=g.dot(p.up),X=fs(I)?-G.dot(p.up):-G.dot(p.up)/I,S=Ga.copy(G).add(g.multiplyScalar(X));this._targetEnd.lerp(S,1-p.zoom/this._dollyControlAmount),this._target.copy(this._targetEnd)}this._dollyControlAmount=0}const c=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,c),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),(!fs(this._focalOffset.x)||!fs(this._focalOffset.y)||!fs(this._focalOffset.z))&&(this._camera.updateMatrix(),Xn.setFromMatrixColumn(this._camera.matrix,0),Wn.setFromMatrixColumn(this._camera.matrix,1),sl.setFromMatrixColumn(this._camera.matrix,2),Xn.multiplyScalar(this._focalOffset.x),Wn.multiplyScalar(-this._focalOffset.y),sl.multiplyScalar(this._focalOffset.z),wt.copy(Xn).add(Wn).add(sl),this._camera.position.add(wt)),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),wt.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);const u=this._zoomEnd-this._zoom;this._zoom+=u*s,this._camera.zoom!==this._zoom&&(fs(u)&&(this._zoom=this._zoomEnd),this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0);const d=this._needsUpdate;return d&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):d?(this.dispatchEvent({type:"update"}),fs(n,this.restThreshold)&&fs(r,this.restThreshold)&&fs(l,this.restThreshold)&&fs(a.x,this.restThreshold)&&fs(a.y,this.restThreshold)&&fs(a.z,this.restThreshold)&&fs(o.x,this.restThreshold)&&fs(o.y,this.restThreshold)&&fs(o.z,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:"rest"}))):!d&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._updatedLastTime=d,this._needsUpdate=!1,d}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:Yo(this.maxDistance),minZoom:this.minZoom,maxZoom:Yo(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:Yo(this.maxPolarAngle),minAzimuthAngle:Yo(this.minAzimuthAngle),maxAzimuthAngle:Yo(this.maxAzimuthAngle),dampingFactor:this.dampingFactor,draggingDampingFactor:this.draggingDampingFactor,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,verticalDragToForward:this.verticalDragToForward,target:this._targetEnd.toArray(),position:wt.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(i,t=!1){const s=JSON.parse(i),n=wt.fromArray(s.position);this.enabled=s.enabled,this.minDistance=s.minDistance,this.maxDistance=Mo(s.maxDistance),this.minZoom=s.minZoom,this.maxZoom=Mo(s.maxZoom),this.minPolarAngle=s.minPolarAngle,this.maxPolarAngle=Mo(s.maxPolarAngle),this.minAzimuthAngle=Mo(s.minAzimuthAngle),this.maxAzimuthAngle=Mo(s.maxAzimuthAngle),this.dampingFactor=s.dampingFactor,this.draggingDampingFactor=s.draggingDampingFactor,this.dollySpeed=s.dollySpeed,this.truckSpeed=s.truckSpeed,this.dollyToCursor=s.dollyToCursor,this.verticalDragToForward=s.verticalDragToForward,this._target0.fromArray(s.target0),this._position0.fromArray(s.position0),this._zoom0=s.zoom0,this._focalOffset0.fromArray(s.focalOffset0),this.moveTo(s.target[0],s.target[1],s.target[2],t),ln.setFromVector3(n.sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(ln.theta,ln.phi,t),this.zoomTo(s.zoom,t),this.setFocalOffset(s.focalOffset[0],s.focalOffset[1],s.focalOffset[2],t),this._needsUpdate=!0}dispose(){this._removeAllEventListeners()}_findPointerById(i){let t=null;return this._activePointers.some(s=>s.pointerId===i?(t=s,!0):!1),t}_encloseToBoundary(i,t,s){const n=t.lengthSq();if(n===0)return i;const r=os.copy(t).add(i),a=this._boundary.clampPoint(r,Ga).sub(r),o=a.lengthSq();if(o===0)return i.add(t);if(o===n)return i;if(s===0)return i.add(t).add(a);{const c=1+s*o/t.dot(a);return i.add(os.copy(t).multiplyScalar(c)).add(a.multiplyScalar(1-s))}}_updateNearPlaneCorners(){if(tl(this._camera)){const i=this._camera,t=i.near,s=i.getEffectiveFOV()*ot.MathUtils.DEG2RAD,n=Math.tan(s*.5)*t,r=n*i.aspect;this._nearPlaneCorners[0].set(-r,-n,0),this._nearPlaneCorners[1].set(r,-n,0),this._nearPlaneCorners[2].set(r,n,0),this._nearPlaneCorners[3].set(-r,n,0)}else if(Xr(this._camera)){const i=this._camera,t=1/i.zoom,s=i.left*t,n=i.right*t,r=i.top*t,l=i.bottom*t;this._nearPlaneCorners[0].set(s,r,0),this._nearPlaneCorners[1].set(n,r,0),this._nearPlaneCorners[2].set(n,l,0),this._nearPlaneCorners[3].set(s,l,0)}}_collisionTest(){let i=1/0;if(!(this.colliderMeshes.length>=1)||gp(this._camera,"_collisionTest"))return i;const s=wt.setFromSpherical(this._spherical).divideScalar(this._spherical.radius);Rp.lookAt(_Z,s,this._camera.up);for(let n=0;n<4;n++){const r=os.copy(this._nearPlaneCorners[n]);r.applyMatrix4(Rp);const l=Ga.addVectors(this._target,r);vh.set(l,s),vh.far=this._spherical.radius+1;const a=vh.intersectObjects(this.colliderMeshes);a.length!==0&&a[0].distance<i&&(i=a[0].distance)}return i}_getClientRect(i){const t=this._domElement.getBoundingClientRect();return i.x=t.left,i.y=t.top,this._viewport?(i.x+=this._viewport.x,i.y+=t.height-this._viewport.w-this._viewport.y,i.width=this._viewport.z,i.height=this._viewport.w):(i.width=t.width,i.height=t.height),i}_createOnRestPromise(i){return i?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise(t=>{const s=()=>{this.removeEventListener("rest",s),t()};this.addEventListener("rest",s)}))}_removeAllEventListeners(){}}function KU(e,i){const t=i,s=t.center;ga.makeEmpty(),e.traverseVisible(r=>{!r.isMesh||ga.expandByObject(r)}),ga.getCenter(s);let n=0;return e.traverseVisible(r=>{if(!r.isMesh)return;const l=r,a=l.geometry.clone();if(a.applyMatrix4(l.matrixWorld),a.isBufferGeometry){const c=a.attributes.position;for(let h=0,u=c.count;h<u;h++)wt.fromBufferAttribute(c,h),n=Math.max(n,s.distanceToSquared(wt))}else{const o=a.attributes.position,c=new ot.Vector3;for(let h=0,u=o.count;h<u;h++)c.fromBufferAttribute(o,h),n=Math.max(n,s.distanceToSquared(c))}}),t.radius=Math.sqrt(n),t}const OU={MOUSE:sE,Vector2:Xe,Vector3:H,Vector4:De,Quaternion:Ls,Matrix4:_e,Spherical:DP,Box3:is,Sphere:qi,Raycaster:fh,MathUtils:{DEG2RAD:zb.DEG2RAD,clamp:zb.clamp}};ps.install({THREE:OU});var Ci=(e=>(e.FirstPerson="walk",e.Orbit="orbit",e.Spherical="360",e))(Ci||{});class tG{constructor(i){this.mode="orbit",this.allowOrbitWalkAutoChange=!1,this.orbitMinDistance=.5,this.orbitMaxDistance=5e3,this.events=new wi,this.orbitTruckSpeed=5,this.orbitDollySpeed=.25,this.fpsMinDistance=.1,this.fpsMaxDistance=.5,this.fpsTruckSpeed=20,this.fpsDollySpeed=5,this.sphereMinDistance=.001,this.sphereMaxDistance=.0011,this.domEl=i.domEl,this.controls=new ps(i.camera,i.domEl),this.controls.minDistance=this.orbitMinDistance,this.controls.maxDistance=this.orbitMaxDistance,this.controls.infinityDolly=!0,this.controls.dollyToCursor=!0,this.controls.mouseButtons.wheel=ps.ACTION.DOLLY,this.controls.mouseButtons.right=ps.ACTION.TRUCK,this.controls.mouseButtons.middle=ps.ACTION.NONE,this.controls.touches.two=ps.ACTION.TOUCH_DOLLY_TRUCK,this.controls.truckSpeed=this.orbitTruckSpeed,this.controls.dollySpeed=this.orbitDollySpeed,this.controls.minZoom=.35,this.controls.maxZoom=3,this.handleDisableControls=this.handleDisableControls.bind(this),this.handleEnableControls=this.handleEnableControls.bind(this),this.domEl.addEventListener(tt.DisableControls,this.handleDisableControls),this.domEl.addEventListener(tt.EnableControls,this.handleEnableControls)}handleDisableControls(){this.disable()}handleEnableControls(){this.enable()}getMode(){return this.mode}updateOrbitPoint(i){this.mode==="orbit"&&this.controls.setOrbitPoint(i.x,i.y,i.z)}setFirstPersonMode(i=!1,t=!1){i&&this.controls.saveState(),t&&this.controls.reset(!0),this.controls.mouseButtons.wheel=ps.ACTION.DOLLY,this.controls.mouseButtons.left=ps.ACTION.ROTATE,this.controls.mouseButtons.middle=ps.ACTION.DOLLY,this.controls.mouseButtons.right=ps.ACTION.TRUCK,this.controls.touches.one=ps.ACTION.TOUCH_ROTATE,this.controls.touches.two=ps.ACTION.TOUCH_DOLLY_TRUCK,this.controls.touches.three=ps.ACTION.TOUCH_DOLLY_TRUCK,this.controls.minDistance=this.fpsMinDistance,this.controls.maxDistance=this.fpsMaxDistance,this.controls.dollySpeed=this.fpsDollySpeed,this.controls.truckSpeed=this.fpsTruckSpeed,this.controls.infinityDolly=!0,this.controls.dollyToCursor=!0;let s=new H;this.controls.camera.getWorldDirection(s),s.setLength(this.fpsMinDistance);const n=this.controls.camera.position;s=n.clone().add(s),this.controls.setFocalOffset(0,0,0,!1),this.controls.setLookAt(n.x,n.y,n.z,s.x,s.y,s.z,!1),this.mode="walk",this.events.dispatch(tt.ControlModeChanged,{value:this.mode},this.domEl)}setSphericalMode(i,t,s=!1,n=!1){s&&this.controls.saveState(),n&&this.controls.reset(!0),this.controls.mouseButtons.wheel=ps.ACTION.ZOOM,this.controls.mouseButtons.left=ps.ACTION.ROTATE,this.controls.mouseButtons.middle=ps.ACTION.DOLLY,this.controls.mouseButtons.right=ps.ACTION.NONE,this.controls.touches.one=ps.ACTION.TOUCH_ROTATE,this.controls.touches.two=ps.ACTION.TOUCH_ZOOM,this.controls.touches.three=ps.ACTION.TOUCH_DOLLY_TRUCK,this.controls.minDistance=this.sphereMinDistance,this.controls.maxDistance=this.sphereMaxDistance,this.controls.infinityDolly=!1,this.controls.dollyToCursor=!1;const r=i.clone().add(t.setLength(.001));this.controls.setFocalOffset(0,0,0,!1),this.controls.setLookAt(i.x,i.y,i.z,r.x,r.y,r.z,!0),this.mode="360",this.events.dispatch(tt.ControlModeChanged,{value:this.mode},this.domEl)}setOrbitMode(i=!1,t=!1){i&&this.controls.saveState(),t&&this.controls.reset(!0),this.controls.mouseButtons.wheel=ps.ACTION.DOLLY,this.controls.mouseButtons.left=ps.ACTION.ROTATE,this.controls.mouseButtons.middle=ps.ACTION.DOLLY,this.controls.mouseButtons.right=ps.ACTION.TRUCK,this.controls.touches.one=ps.ACTION.TOUCH_ROTATE,this.controls.touches.two=ps.ACTION.TOUCH_DOLLY_TRUCK,this.controls.touches.three=ps.ACTION.TOUCH_DOLLY_TRUCK,this.controls.minDistance=this.orbitMinDistance,this.controls.maxDistance=this.orbitMaxDistance,this.controls.truckSpeed=this.orbitTruckSpeed,this.controls.dollySpeed=this.orbitDollySpeed,this.controls.infinityDolly=!0,this.controls.dollyToCursor=!0,this.mode="orbit",this.events.dispatch(tt.ControlModeChanged,{value:this.mode},this.domEl)}disable(){this.controls.enabled=!1}enable(){this.controls.enabled=!0}update(i){this.controls.update(i)}dispose(){this.controls.dispose(),this.domEl.removeEventListener(tt.DisableControls,this.handleDisableControls),this.domEl.removeEventListener(tt.EnableControls,this.handleEnableControls)}}var AU=Object.defineProperty,BU=Object.getOwnPropertyDescriptor,fp=(e,i,t,s)=>{for(var n=s>1?void 0:s?BU(i,t):i,r=e.length-1,l;r>=0;r--)(l=e[r])&&(n=(s?l(i,t,n):l(n))||n);return s&&n&&AU(i,t,n),n};let Ho=class extends bi{constructor(){super(...arguments);this.options=[],this.disabled=!1,this.divId=`pointscene-dropdown-${Date.now()}`}render(){return as`
      <label>
        <select id="${this.divId}" class="pointscene-dropdown" @change=${this.handleChange}>
          ${this.options.map(e=>as`
            <option value="${e.value}" .disabled=${e.disabled} .selected=${e.selected}>${e.label}</option>
          `)}
        </select>
      </label>
    `}handleChange(e){var i;const t=(i=this.shadowRoot)==null?void 0:i.querySelector(`#${this.divId}`);this.dispatchEvent(new CustomEvent("change",{detail:{value:t.value}}))}};Ho.styles=[el,rn`
      .pointscene-dropdown {
        border-radius: 10px;
        border-width: 0px;
        color: #365379;
        width: 92%;
        margin-left: 8px;
        margin-bottom: 8px;
      }
      .pointscene-dropdown:hover {
        cursor: pointer;
        background-color: #eee;
      }
    `],fp([Qt({type:Array})],Ho.prototype,"options",2),fp([Qt({type:Boolean})],Ho.prototype,"disabled",2),Ho=fp([fn("pointscene-dropdown")],Ho);var jU=Object.defineProperty,QU=Object.getOwnPropertyDescriptor,Ta=(e,i,t,s)=>{for(var n=s>1?void 0:s?QU(i,t):i,r=e.length-1,l;r>=0;r--)(l=e[r])&&(n=(s?l(i,t,n):l(n))||n);return s&&n&&jU(i,t,n),n};let Wr=class extends bi{constructor(){super();this.isCollapsed=!0,this.autoEnabled=!1,this.domEl="",this.spherical=!1,this.mode=Ci.Orbit,this.events=new wi,this.registerControls=this.registerControls.bind(this),this.handleExternalModeChange=this.handleExternalModeChange.bind(this)}connectedCallback(){super.connectedCallback();const e=document.querySelector(`#${this.domEl}`);e==null||e.addEventListener(tt.RegisterControls,this.registerControls),e==null||e.addEventListener(tt.ControlModeChanged,this.handleExternalModeChange),this.events.dispatch(tt.ControlsUICreated,{},e)}disconnectedCallback(){const e=document.querySelector(`#${this.domEl}`);e==null||e.removeEventListener(tt.RegisterControls,this.registerControls),e==null||e.removeEventListener(tt.ControlModeChanged,this.handleExternalModeChange),super.disconnectedCallback()}render(){return as`
      <div class="pointscene-header" @click=${this.toggleCollapsed}>
        <div class="pointscene-header-icon">
          <pointscene-icon icon="controls" width="18px" height="18px"></pointscene-icon>
        </div>
        <div class="pointscene-header-title">
          CONTROL
        </div>
        <div class="pointscene-header-toggle">
          ${this.isCollapsed?"+":"-"}
        </div>
      </div>
      ${this.isCollapsed?"":as`
      <div class="pointscene-expanded-content">
        <div>
          <pointscene-switch
            .disabled=${this.spherical}
            .checked=${this.autoEnabled}
            label="Auto mode"
            @change=${this.handleAutoChange}
          ></pointscene-switch>
        </div>
        <div>
          <pointscene-dropdown
            @change=${this.handleInternalModeChange}
            options=${JSON.stringify([{value:Ci.Orbit,label:"Orbit",selected:this.mode===Ci.Orbit,disabled:this.autoEnabled||this.spherical},{value:Ci.FirstPerson,label:"Walk",selected:this.mode===Ci.FirstPerson,disabled:this.autoEnabled||this.spherical},{value:Ci.Spherical,label:"360",selected:this.mode===Ci.Spherical,disabled:!0}])}
          ></pointscene-dropdown>
        </div>
      </div>
      `}
    `}handleAutoChange(){!this.controls||(this.controls.allowOrbitWalkAutoChange=!this.controls.allowOrbitWalkAutoChange,this.autoEnabled=this.controls.allowOrbitWalkAutoChange)}handleExternalModeChange(e){this.mode=e.detail.value}handleInternalModeChange(e){var i,t;if(this.spherical)return;switch(e.detail.value){case"walk":(i=this.controls)==null||i.setFirstPersonMode(!1,!1),this.mode=Ci.FirstPerson;break;case"orbit":(t=this.controls)==null||t.setOrbitMode(!1,!1),this.mode=Ci.Orbit;break}}toggleCollapsed(){this.isCollapsed=!this.isCollapsed}registerControls(e){this.controls=e.detail.controls}};Wr.styles=[el],Ta([xs()],Wr.prototype,"isCollapsed",2),Ta([xs()],Wr.prototype,"autoEnabled",2),Ta([Qt({type:String})],Wr.prototype,"domEl",2),Ta([Qt({type:Boolean})],Wr.prototype,"spherical",2),Ta([Qt({type:String})],Wr.prototype,"mode",2),Wr=Ta([fn("pointscene-controls")],Wr);class sG extends zt{constructor(i=document.createElement("div")){super();this.element=i,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",function(){this.traverse(function(t){t.element instanceof Element&&t.element.parentNode!==null&&t.element.parentNode.removeChild(t.element)})})}copy(i,t){return super.copy(i,t),this.element=i.element.cloneNode(!0),this}}sG.prototype.isCSS2DObject=!0;const Sr=new H,iG=new _e,nG=new _e,rG=new H,lG=new H;class _U{constructor(i={}){const t=this;let s,n,r,l;const a={objects:new WeakMap},o=i.element!==void 0?i.element:document.createElement("div");o.style.overflow="hidden",this.domElement=o,this.getSize=function(){return{width:s,height:n}},this.render=function(p,G){p.autoUpdate===!0&&p.updateMatrixWorld(),G.parent===null&&G.updateMatrixWorld(),iG.copy(G.matrixWorldInverse),nG.multiplyMatrices(G.projectionMatrix,iG),c(p,p,G),d(p)},this.setSize=function(p,G){s=p,n=G,r=s/2,l=n/2,o.style.width=p+"px",o.style.height=G+"px"};function c(p,G,g){if(p.isCSS2DObject){Sr.setFromMatrixPosition(p.matrixWorld),Sr.applyMatrix4(nG);const I=p.visible===!0&&Sr.z>=-1&&Sr.z<=1&&p.layers.test(g.layers)===!0;if(p.element.style.display=I===!0?"":"none",I===!0){p.onBeforeRender(t,G,g);const S=p.element;/apple/i.test(navigator.vendor)?S.style.transform="translate(-50%,-50%) translate("+Math.round(Sr.x*r+r)+"px,"+Math.round(-Sr.y*l+l)+"px)":S.style.transform="translate(-50%,-50%) translate("+(Sr.x*r+r)+"px,"+(-Sr.y*l+l)+"px)",S.parentNode!==o&&o.appendChild(S),p.onAfterRender(t,G,g)}const X={distanceToCameraSquared:h(g,p)};a.objects.set(p,X)}for(let I=0,X=p.children.length;I<X;I++)c(p.children[I],G,g)}function h(p,G){return rG.setFromMatrixPosition(p.matrixWorld),lG.setFromMatrixPosition(G.matrixWorld),rG.distanceToSquared(lG)}function u(p){const G=[];return p.traverse(function(g){g.isCSS2DObject&&G.push(g)}),G}function d(p){const G=u(p).sort(function(I,X){if(I.renderOrder!==X.renderOrder)return X.renderOrder-I.renderOrder;const S=a.objects.get(I).distanceToCameraSquared,x=a.objects.get(X).distanceToCameraSquared;return S-x}),g=G.length;for(let I=0,X=G.length;I<X;I++)G[I].element.style.zIndex=g-I}}}const qU={triangulate:function(e,i,t=2){const s=i&&i.length,n=s?i[0]*t:e.length;let r=aG(e,0,n,t,!0);const l=[];if(!r||r.next===r.prev)return l;let a,o,c,h,u,d,p;if(s&&(r=ik(e,i,r,t)),e.length>80*t){a=c=e[0],o=h=e[1];for(let G=t;G<n;G+=t)u=e[G],d=e[G+1],u<a&&(a=u),d<o&&(o=d),u>c&&(c=u),d>h&&(h=d);p=Math.max(c-a,h-o),p=p!==0?1/p:0}return Po(r,l,t,a,o,p),l}};function aG(e,i,t,s,n){let r,l;if(n===mk(e,i,t,s)>0)for(r=i;r<t;r+=s)l=hG(r,e[r],e[r+1],l);else for(r=t-s;r>=i;r-=s)l=hG(r,e[r],e[r+1],l);return l&&Eh(l,l.next)&&(Uo(l),l=l.next),l}function Cr(e,i){if(!e)return e;i||(i=e);let t=e,s;do if(s=!1,!t.steiner&&(Eh(t,t.next)||Vs(t.prev,t,t.next)===0)){if(Uo(t),t=i=t.prev,t===t.next)break;s=!0}else t=t.next;while(s||t!==i);return i}function Po(e,i,t,s,n,r,l){if(!e)return;!l&&r&&ok(e,s,n,r);let a=e,o,c;for(;e.prev!==e.next;){if(o=e.prev,c=e.next,r?ek(e,s,n,r):$U(e)){i.push(o.i/t),i.push(e.i/t),i.push(c.i/t),Uo(e),e=c.next,a=c.next;continue}if(e=c,e===a){l?l===1?(e=tk(Cr(e),i,t),Po(e,i,t,s,n,r,2)):l===2&&sk(e,i,t,s,n,r):Po(Cr(e),i,t,s,n,r,1);break}}}function $U(e){const i=e.prev,t=e,s=e.next;if(Vs(i,t,s)>=0)return!1;let n=e.next.next;for(;n!==e.prev;){if(Ia(i.x,i.y,t.x,t.y,s.x,s.y,n.x,n.y)&&Vs(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function ek(e,i,t,s){const n=e.prev,r=e,l=e.next;if(Vs(n,r,l)>=0)return!1;const a=n.x<r.x?n.x<l.x?n.x:l.x:r.x<l.x?r.x:l.x,o=n.y<r.y?n.y<l.y?n.y:l.y:r.y<l.y?r.y:l.y,c=n.x>r.x?n.x>l.x?n.x:l.x:r.x>l.x?r.x:l.x,h=n.y>r.y?n.y>l.y?n.y:l.y:r.y>l.y?r.y:l.y,u=Xp(a,o,i,t,s),d=Xp(c,h,i,t,s);let p=e.prevZ,G=e.nextZ;for(;p&&p.z>=u&&G&&G.z<=d;){if(p!==e.prev&&p!==e.next&&Ia(n.x,n.y,r.x,r.y,l.x,l.y,p.x,p.y)&&Vs(p.prev,p,p.next)>=0||(p=p.prevZ,G!==e.prev&&G!==e.next&&Ia(n.x,n.y,r.x,r.y,l.x,l.y,G.x,G.y)&&Vs(G.prev,G,G.next)>=0))return!1;G=G.nextZ}for(;p&&p.z>=u;){if(p!==e.prev&&p!==e.next&&Ia(n.x,n.y,r.x,r.y,l.x,l.y,p.x,p.y)&&Vs(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;G&&G.z<=d;){if(G!==e.prev&&G!==e.next&&Ia(n.x,n.y,r.x,r.y,l.x,l.y,G.x,G.y)&&Vs(G.prev,G,G.next)>=0)return!1;G=G.nextZ}return!0}function tk(e,i,t){let s=e;do{const n=s.prev,r=s.next.next;!Eh(n,r)&&oG(n,s,s.next,r)&&zo(n,r)&&zo(r,n)&&(i.push(n.i/t),i.push(s.i/t),i.push(r.i/t),Uo(s),Uo(s.next),s=e=r),s=s.next}while(s!==e);return Cr(s)}function sk(e,i,t,s,n,r){let l=e;do{let a=l.next.next;for(;a!==l.prev;){if(l.i!==a.i&&uk(l,a)){let o=cG(l,a);l=Cr(l,l.next),o=Cr(o,o.next),Po(l,i,t,s,n,r),Po(o,i,t,s,n,r);return}a=a.next}l=l.next}while(l!==e)}function ik(e,i,t,s){const n=[];let r,l,a,o,c;for(r=0,l=i.length;r<l;r++)a=i[r]*s,o=r<l-1?i[r+1]*s:e.length,c=aG(e,a,o,s,!1),c===c.next&&(c.steiner=!0),n.push(hk(c));for(n.sort(nk),r=0;r<n.length;r++)rk(n[r],t),t=Cr(t,t.next);return t}function nk(e,i){return e.x-i.x}function rk(e,i){if(i=lk(e,i),i){const t=cG(i,e);Cr(i,i.next),Cr(t,t.next)}}function lk(e,i){let t=i;const s=e.x,n=e.y;let r=-1/0,l;do{if(n<=t.y&&n>=t.next.y&&t.next.y!==t.y){const d=t.x+(n-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(d<=s&&d>r){if(r=d,d===s){if(n===t.y)return t;if(n===t.next.y)return t.next}l=t.x<t.next.x?t:t.next}}t=t.next}while(t!==i);if(!l)return null;if(s===r)return l;const a=l,o=l.x,c=l.y;let h=1/0,u;t=l;do s>=t.x&&t.x>=o&&s!==t.x&&Ia(n<c?s:r,n,o,c,n<c?r:s,n,t.x,t.y)&&(u=Math.abs(n-t.y)/(s-t.x),zo(t,e)&&(u<h||u===h&&(t.x>l.x||t.x===l.x&&ak(l,t)))&&(l=t,h=u)),t=t.next;while(t!==a);return l}function ak(e,i){return Vs(e.prev,e,i.prev)<0&&Vs(i.next,e,e.next)<0}function ok(e,i,t,s){let n=e;do n.z===null&&(n.z=Xp(n.x,n.y,i,t,s)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next;while(n!==e);n.prevZ.nextZ=null,n.prevZ=null,ck(n)}function ck(e){let i,t,s,n,r,l,a,o,c=1;do{for(t=e,e=null,r=null,l=0;t;){for(l++,s=t,a=0,i=0;i<c&&(a++,s=s.nextZ,!!s);i++);for(o=c;a>0||o>0&&s;)a!==0&&(o===0||!s||t.z<=s.z)?(n=t,t=t.nextZ,a--):(n=s,s=s.nextZ,o--),r?r.nextZ=n:e=n,n.prevZ=r,r=n;t=s}r.nextZ=null,c*=2}while(l>1);return e}function Xp(e,i,t,s,n){return e=32767*(e-t)*n,i=32767*(i-s)*n,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,e|i<<1}function hk(e){let i=e,t=e;do(i.x<t.x||i.x===t.x&&i.y<t.y)&&(t=i),i=i.next;while(i!==e);return t}function Ia(e,i,t,s,n,r,l,a){return(n-l)*(i-a)-(e-l)*(r-a)>=0&&(e-l)*(s-a)-(t-l)*(i-a)>=0&&(t-l)*(r-a)-(n-l)*(s-a)>=0}function uk(e,i){return e.next.i!==i.i&&e.prev.i!==i.i&&!dk(e,i)&&(zo(e,i)&&zo(i,e)&&pk(e,i)&&(Vs(e.prev,e,i.prev)||Vs(e,i.prev,i))||Eh(e,i)&&Vs(e.prev,e,e.next)>0&&Vs(i.prev,i,i.next)>0)}function Vs(e,i,t){return(i.y-e.y)*(t.x-i.x)-(i.x-e.x)*(t.y-i.y)}function Eh(e,i){return e.x===i.x&&e.y===i.y}function oG(e,i,t,s){const n=Mh(Vs(e,i,t)),r=Mh(Vs(e,i,s)),l=Mh(Vs(t,s,e)),a=Mh(Vs(t,s,i));return!!(n!==r&&l!==a||n===0&&Yh(e,t,i)||r===0&&Yh(e,s,i)||l===0&&Yh(t,e,s)||a===0&&Yh(t,i,s))}function Yh(e,i,t){return i.x<=Math.max(e.x,t.x)&&i.x>=Math.min(e.x,t.x)&&i.y<=Math.max(e.y,t.y)&&i.y>=Math.min(e.y,t.y)}function Mh(e){return e>0?1:e<0?-1:0}function dk(e,i){let t=e;do{if(t.i!==e.i&&t.next.i!==e.i&&t.i!==i.i&&t.next.i!==i.i&&oG(t,t.next,e,i))return!0;t=t.next}while(t!==e);return!1}function zo(e,i){return Vs(e.prev,e,e.next)<0?Vs(e,i,e.next)>=0&&Vs(e,e.prev,i)>=0:Vs(e,i,e.prev)<0||Vs(e,e.next,i)<0}function pk(e,i){let t=e,s=!1;const n=(e.x+i.x)/2,r=(e.y+i.y)/2;do t.y>r!=t.next.y>r&&t.next.y!==t.y&&n<(t.next.x-t.x)*(r-t.y)/(t.next.y-t.y)+t.x&&(s=!s),t=t.next;while(t!==e);return s}function cG(e,i){const t=new Wp(e.i,e.x,e.y),s=new Wp(i.i,i.x,i.y),n=e.next,r=i.prev;return e.next=i,i.prev=e,t.next=n,n.prev=t,s.next=t,t.prev=s,r.next=s,s.prev=r,s}function hG(e,i,t,s){const n=new Wp(e,i,t);return s?(n.next=s.next,n.prev=s,s.next.prev=n,s.next=n):(n.prev=n,n.next=n),n}function Uo(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Wp(e,i,t){this.i=e,this.x=i,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function mk(e,i,t,s){let n=0;for(let r=i,l=t-s;r<t;r+=s)n+=(e[l]-e[r])*(e[r+1]+e[l+1]),l=r;return n}function uG(e,i,t){t===void 0&&(t={});var s={type:"Feature"};return(t.id===0||t.id)&&(s.id=t.id),t.bbox&&(s.bbox=t.bbox),s.properties=i||{},s.geometry=e,s}function bk(e,i,t){if(t===void 0&&(t={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!dG(e[0])||!dG(e[1]))throw new Error("coordinates must contain numbers");var s={type:"Point",coordinates:e};return uG(s,i,t)}function yk(e,i,t){if(t===void 0&&(t={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");var s={type:"LineString",coordinates:e};return uG(s,i,t)}function dG(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function Zk(e){var i,t,s={type:"FeatureCollection",features:[]};if(e.type==="Feature"?t=e.geometry:t=e,t.type==="LineString")i=[t.coordinates];else if(t.type==="MultiLineString")i=t.coordinates;else if(t.type==="MultiPolygon")i=[].concat.apply([],t.coordinates);else if(t.type==="Polygon")i=t.coordinates;else throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");return i.forEach(function(n){i.forEach(function(r){for(var l=0;l<n.length-1;l++)for(var a=l;a<r.length-1;a++)if(!(n===r&&(Math.abs(l-a)===1||l===0&&a===n.length-2&&n[l][0]===n[n.length-1][0]&&n[l][1]===n[n.length-1][1]))){var o=Gk(n[l][0],n[l][1],n[l+1][0],n[l+1][1],r[a][0],r[a][1],r[a+1][0],r[a+1][1]);o&&s.features.push(bk([o[0],o[1]]))}})}),s}function Gk(e,i,t,s,n,r,l,a){var o,c,h,u,d,p={x:null,y:null,onLine1:!1,onLine2:!1};return o=(a-r)*(t-e)-(l-n)*(s-i),o===0?p.x!==null&&p.y!==null?p:!1:(c=i-r,h=e-n,u=(l-n)*c-(a-r)*h,d=(t-e)*c-(s-i)*h,c=u/o,h=d/o,p.x=e+c*(t-e),p.y=i+c*(s-i),c>=0&&c<=1&&(p.onLine1=!0),h>=0&&h<=1&&(p.onLine2=!0),p.onLine1&&p.onLine2?[p.x,p.y]:!1)}const Sp=1e3;class Cp{constructor(i){this.points=[],this.activeType="none",this.activeDimensions="all",this.markerRadius=.5,this.hasKinks=!1,this.labelRenderer=new _U,this.events=new wi,this.updateCounter=0,this.markerMinPixelSize=10,this.markerMaxPixelSize=40,this.hideLabels=!1,this.picker=i.picker,this.referenceFrame=i.referenceFrame,this.getPositionFn=i.getPositionFn,this.getDistanceFn=i.getDistanceFn,this.getAreaFn=i.getAreaFn,i.hideLabels&&(this.hideLabels=i.hideLabels),this.markers=[],this.markerGeometry=new zd(this.markerRadius-.1,this.markerRadius,32),this.domEl=i.picker.domEl,this.labelRenderer.setSize(this.domEl.clientWidth,this.domEl.clientHeight),this.labelRenderer.domElement.style.position="absolute",this.labelRenderer.domElement.style.top="0px",this.labelRenderer.domElement.style.pointerEvents="none",this.labelRenderer.domElement.style.zIndex="99",this.domEl.appendChild(this.labelRenderer.domElement),this.activeMarker=this.createMarker(16777215),this.activeMarker.userData.isPickable=!1,this.activeLine=this.createLine(new Array(Sp).fill(new H),this.getLineMaterial(16777215)),this.activeDashedLine=this.createLine(new Array(Sp).fill(new H),this.getLineDashedMaterial(16777215)),this.activeAreaMesh=this.createMesh(new Array(Sp*3).fill(new H),this.getMaterial()),this.activeAreaMesh.material.opacity=.4,this.activeLabelDiv=this.getLabelDiv(),this.activeLabel=this.getLabel(this.activeLabelDiv),this.activeMarker.add(this.activeLabel),this.handleLeftClick=this.handleLeftClick.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.domEl.addEventListener("pointscene_on_leftclick",this.handleLeftClick),this.domEl.addEventListener("pointscene_on_mousemove",this.handleMouseMove),this.events.dispatch("pointscene_register_update_hook",{fn:this.update.bind(this)},this.domEl)}getLabelDiv(){const i=document.createElement("div");return i.className="label",i.textContent="",this.setLabelStyle(i),i}getLabel(i){const t=new sG(i);return t.position.set(0,0,0),t}setLabelStyle(i){i.style.color="#fff",i.style.backgroundColor="#365379",i.style.opacity="0.9",i.style.borderRadius="10px",i.style.borderWidth="0px",i.style.borderColor="#365379",i.style.fontFamily="Open Sans",i.style.fontWeight="bolder",i.style.fontSize="12px",i.style.pointerEvents="none",i.style.minWidth="90px",i.style.marginTop="-45px",i.style.padding="5px",i.style.paddingLeft="10px",i.style.paddingRight="10px"}start(i,t){this.points=[],this.activeType=i,this.hasKinks=!1,this.activeMarker.add(this.activeLabel),this.picker.sceneStatic.add(this.activeMarker),this.picker.sceneStatic.add(this.activeLine),this.picker.sceneStatic.add(this.activeDashedLine),this.picker.sceneStatic.add(this.activeAreaMesh);const s=new Si;s.userData.isPickable=!1,s.userData.measureType=i,s.userData.labelNeedsUpdate=!1;const n={group:s};this.markers.push(n),this.picker.sceneStatic.add(this.markers[this.markers.length-1].group),this.activeLine.geometry.setDrawRange(0,0),this.activeDashedLine.geometry.setDrawRange(0,0),this.activeAreaMesh.geometry.setDrawRange(0,0),this.onFinish=t.onFinish,this.onUpdate=t.onUpdate}setActiveDimensions(i){for(let t=0;t<this.points.length;t++){const s=this.points[t];this.activeDashedLine.geometry.attributes.position.setXYZ(t,s.x,s.y,s.z),this.activeDashedLine.geometry.attributes.position.needsUpdate=!0}this.activeDimensions=i}getPosition(i){switch(this.activeDimensions){case"all":return i;case"xy":if(this.points.length===0)return i;const t=this.points[this.points.length-1];return new H(i.x,i.y,t.z);case"z":if(this.points.length===0)return i;const s=this.points[this.points.length-1];return new H(s.x,s.y,i.z)}}getNormal(i){switch(this.activeDimensions){case"all":return i;case"xy":return new H(0,0,1);case"z":return new H(0,0,1)}}getArea(i){const s=(i.drawRange.count-1)/3;let n=0,r=[];for(let l=0;l<s;l++){const a=l*3,o=i.attributes.position.getX(a+0),c=i.attributes.position.getY(a+0),h=i.attributes.position.getZ(a+0),u=i.attributes.position.getX(a+1),d=i.attributes.position.getY(a+1),p=i.attributes.position.getZ(a+1),G=i.attributes.position.getX(a+2),g=i.attributes.position.getY(a+2),I=i.attributes.position.getZ(a+2),X=new H(o,c,h),S=new H(u,d,p),x=new H(G,g,I);this.getAreaFn?r.push([this.referenceFrame.toGeo(X),this.referenceFrame.toGeo(S),this.referenceFrame.toGeo(S)]):n+=new Is(X,S,x).getArea()}return this.getAreaFn?this.getAreaFn(r):n}update(i){if(this.updateCounter+=i,!(this.updateCounter<.05)&&(this.updateCounter=0,this.hideLabels||(this.updateLabels(),this.labelRenderer.render(this.picker.sceneStatic,this.picker.camera)),this.updateMarkers(),this.onUpdate)){const t=this.activeMarker.position.clone();this.onUpdate(this.referenceFrame.toGeo(t))}}findGeometryObject(i,t){return i.children.filter(n=>n instanceof qr&&n.userData.measureType===t)[0]}findMarkerGroup(i){return i.children.filter(s=>s instanceof Si&&s.userData.isMarkerGroup)}calculateScale(i,t,s,n){const r=this.domEl.clientHeight,l=this.picker.camera.position.distanceTo(i),a=this.picker.camera.fov*Math.PI/180,o=2*Math.tan(a/2)*l,h=t/o*r;return h<s?s/h:h>=n?n/h:1}updateMarkers(){for(const i of this.markers){const t=this.findMarkerGroup(i.group);for(const s of t){if(!s)continue;const n=this.calculateScale(s.position,this.markerRadius,this.markerMinPixelSize,this.markerMaxPixelSize);s.scale.set(n,n,n),s.lookAt(this.picker.camera.position)}}}updateLabels(){for(const i of this.markers){const t=this.findMarkerGroup(i.group);if(t.length===0)continue;const s=t[0],n=i.group.userData;if(!!n.labelNeedsUpdate){if(i.labelDiv||(i.labelDiv=this.getLabelDiv()),i.label||(i.label=this.getLabel(i.labelDiv),i.group.add(i.label)),n.measureType==="point")this.setLabelText(n.measureType,i.labelDiv,new It().setFromPoints([s.position]),i.label);else if(n.measureType==="distance"){const r=this.findGeometryObject(i.group,"distance");r&&this.setLabelText(n.measureType,i.labelDiv,r.geometry,i.label)}else if(n.measureType==="area"){const r=this.findGeometryObject(i.group,"area");r&&this.setLabelText(n.measureType,i.labelDiv,r.geometry,i.label)}i.group.userData.labelNeedsUpdate=!1}}}clear(){for(;this.markers.length>0;){let i=this.markers.pop();!i||(i.label&&i.group.remove(i.label),this.picker.sceneStatic.remove(i.group),i.group.children.forEach(t=>{t.material&&t.material.dispose(),t.geometry&&t.geometry.dispose()}),i=void 0)}}getDistance(i){if(this.getDistanceFn){const t=this.referenceFrame.toGeo({x:i.attributes.position.getX(0),y:i.attributes.position.getY(0),z:i.attributes.position.getZ(0)}),s=this.referenceFrame.toGeo({x:i.attributes.position.getX(1),y:i.attributes.position.getY(1),z:i.attributes.position.getZ(1)});return this.getDistanceFn(t,s)}else{const t=new H(i.attributes.position.getX(0),i.attributes.position.getY(0),i.attributes.position.getZ(0)),s=new H(i.attributes.position.getX(1),i.attributes.position.getY(1),i.attributes.position.getZ(1));return t.distanceTo(s)}}setLabelText(i,t,s,n){var r,l;const a=s.drawRange.count-1;switch(i){case"point":const o=s.attributes.position.getX(0),c=s.attributes.position.getY(0),h=s.attributes.position.getZ(0);let u=this.referenceFrame.toGeo({x:o,y:c,z:h});this.getPositionFn&&(u=this.getPosition(u)),t.innerHTML=`x = ${Math.round(u.x*1e3)/1e3}<br />y = ${Math.round(u.y*1e3)/1e3}<br />z = ${Math.round(u.z*1e3)/1e3}`,n&&n.position.set(o,c,h);break;case"distance":if(a<1||this.hideLabels){t.textContent="Add point";return}const d=this.getDistance(s);t.textContent=`distance = ${Math.round(d*1e3)/1e3}`,n&&n.position.copy((r=s.boundingSphere)==null?void 0:r.center);break;case"area":if(a<2){t.textContent="Add point";return}let p=s;n&&(p=this.triangulatePolygon(s),n.position.copy((l=s.boundingSphere)==null?void 0:l.center));const G=this.getArea(p);t.textContent=`area = ${Math.round(G*1e3)/1e3}`;break}}updateActiveMarker(){let i;if(this.pickingPlane?i=this.picker.intersectPlane(this.pickingPlane):i=this.picker.pick(),!i)return;const t=this.getPosition(i.point);this.activeMarker.position.copy(t);const s=this.calculateScale(t,this.markerRadius,this.markerMinPixelSize,this.markerMaxPixelSize);if(this.activeMarker.scale.set(s,s,s),i.normal){const r=this.getNormal(i.normal);this.activeMarker.lookAt(t.clone().add(r))}else{const r=this.getNormal(this.picker.camera.position.clone().sub(t).normalize());this.activeMarker.lookAt(t.clone().add(r))}const n=this.points.length;if(this.activeLine.geometry.setDrawRange(0,n+1),this.activeLine.geometry.attributes.position.setXYZ(n,t.x,t.y,t.z),this.activeLine.geometry.attributes.position.needsUpdate=!0,this.activeLine.geometry.computeBoundingBox(),this.activeLine.geometry.computeBoundingSphere(),this.activeDimensions!=="all"&&(this.activeDashedLine.geometry.attributes.position.setXYZ(n,i.point.x,i.point.y,i.point.z),this.activeDashedLine.geometry.attributes.position.setXYZ(n+1,t.x,t.y,t.z),this.activeDashedLine.geometry.attributes.position.needsUpdate=!0,this.activeDashedLine.geometry.computeBoundingBox(),this.activeDashedLine.geometry.computeBoundingSphere(),this.activeDashedLine.geometry.setDrawRange(0,n+2),this.activeDashedLine.computeLineDistances()),this.activeType==="area"&&this.points.length>1){const r=this.activeLine.geometry.attributes.position.getX(0),l=this.activeLine.geometry.attributes.position.getY(0),a=this.activeLine.geometry.attributes.position.getZ(0);this.activeLine.geometry.attributes.position.setXYZ(n+1,r,l,a),this.activeLine.geometry.setDrawRange(0,n+2),this.updateActiveArea(t),this.setLabelText(this.activeType,this.activeLabelDiv,this.activeAreaMesh.geometry)}else this.setLabelText(this.activeType,this.activeLabelDiv,this.activeLine.geometry)}triangulatePolygon(i,t){const s=i.drawRange.count*3,n=qU.triangulate(i.attributes.position.array.subarray(0,s),[],3),r=t||new It().setFromPoints(Array(n.length).fill(new H));for(let l=0;l<n.length;l+=3){const a=n[l+0],o=n[l+1],c=n[l+2],h=i.attributes.position.getX(a),u=i.attributes.position.getY(a),d=i.attributes.position.getZ(a),p=i.attributes.position.getX(o),G=i.attributes.position.getY(o),g=i.attributes.position.getZ(o),I=i.attributes.position.getX(c),X=i.attributes.position.getY(c),S=i.attributes.position.getZ(c);r.attributes.position.setXYZ(l+0,h,u,d),r.attributes.position.setXYZ(l+1,p,G,g),r.attributes.position.setXYZ(l+2,I,X,S),r.attributes.position.needsUpdate=!0,r.computeBoundingBox(),r.computeBoundingSphere()}return r.setDrawRange(0,n.length+1),r}updateActiveArea(i){const t=this.points.map(r=>[r.x,r.y]);t.push([i.x,i.y]);const s=yk(t);Zk(s).features.length>0?(this.activeLine.material.color.setHex(12320768),this.hasKinks=!0,this.activeAreaMesh.geometry.setDrawRange(0,0),this.activeAreaMesh.geometry.attributes.position.needsUpdate=!0):(this.activeLine.material.color.setHex(16777215),this.triangulatePolygon(this.activeLine.geometry,this.activeAreaMesh.geometry),this.hasKinks=!1)}addPoint(){if(this.activeType==="area"&&this.hasKinks)return;let i;if(this.pickingPlane?i=this.picker.intersectPlane(this.pickingPlane):i=this.picker.pick(),!i)return;const t=this.getPosition(i.point);this.points.push(t);const s=this.createMarker();if(s.position.copy(t),s.userData.isPickable=!1,s.userData.measureType=this.activeType,s.userData.isMarkerGroup=!0,!!this.markers[this.markers.length-1]){if(this.markers[this.markers.length-1].group.add(s),i.normal){const n=this.getNormal(i.normal);s.lookAt(t.clone().add(n))}else{const n=this.getNormal(this.picker.camera.position.clone().sub(t).normalize());s.lookAt(this.picker.camera.position.clone().add(n))}if(this.activeType==="point")return this.end();if(this.activeType==="distance"&&this.points.length===2)return this.end()}}handleLeftClick(){this.activeType!=="none"&&this.addPoint()}handleMouseMove(){this.activeType!=="none"&&this.updateActiveMarker()}cancel(){this.activeType="none";const i=this.markers.pop();!i||(this.picker.sceneStatic.remove(i.group),this.activeMarker.remove(this.activeLabel),this.picker.sceneStatic.remove(this.activeMarker),this.picker.sceneStatic.remove(this.activeLine),this.picker.sceneStatic.remove(this.activeDashedLine),this.picker.sceneStatic.remove(this.activeAreaMesh))}dispose(){this.domEl.removeChild(this.labelRenderer.domElement),this.domEl.removeEventListener("pointscene_on_leftclick",this.handleLeftClick),this.domEl.removeEventListener("pointscene_on_mousemove",this.handleMouseMove)}end(){if(this.activeMarker.remove(this.activeLabel),this.picker.sceneStatic.remove(this.activeMarker),this.picker.sceneStatic.remove(this.activeLine),this.picker.sceneStatic.remove(this.activeDashedLine),this.picker.sceneStatic.remove(this.activeAreaMesh),this.activeType==="point")this.markers[this.markers.length-1].group.userData.labelNeedsUpdate=!0;else if(this.activeType==="distance"){if(this.points.length<2)return this.cancel();const i=this.createLine(this.points,this.getLineMaterial());i.userData.measureType="distance",i.geometry.computeBoundingBox(),i.geometry.computeBoundingSphere(),this.markers[this.markers.length-1].group.add(i),this.markers[this.markers.length-1].group.userData.labelNeedsUpdate=!0}else if(this.activeType==="area"){if(this.points.length<3)return this.cancel();this.points.push(this.points[0].clone());const i=this.createLine(this.points,this.getLineMaterial());i.geometry.computeBoundingBox(),i.geometry.computeBoundingSphere(),i.userData.measureType="area",this.markers[this.markers.length-1].group.add(i),this.markers[this.markers.length-1].group.userData.labelNeedsUpdate=!0}this.activeType="none",typeof this.onFinish<"u"&&this.onFinish(this.points.map(i=>this.referenceFrame.toGeo(i))),this.onFinish=void 0,this.onUpdate=void 0}createMarker(i=15886354){const t=new Si;t.userData.measureType=this.activeType;const s=new ns(this.markerGeometry,this.getMaterial(i)),n=[new H(-this.markerRadius,0,0),new H(this.markerRadius,0,0)],r=[new H(0,-this.markerRadius,0),new H(0,this.markerRadius,0)],l=this.createLine(n,this.getLineMaterial(i)),a=this.createLine(r,this.getLineMaterial(i));return s.userData.isPickable=!1,l.userData.isPickable=!1,a.userData.isPickable=!1,t.add(s),t.add(l),t.add(a),t.up.set(0,0,1),t}createMesh(i,t){const s=new It().setFromPoints(i);return new ns(s,t)}createLine(i,t){const s=new It().setFromPoints(i);return new qr(s,t)}getMaterial(i=15886354){return new pr({color:i,visible:!0,transparent:!1,wireframe:!1,side:pi,depthTest:!1,depthWrite:!1})}getLineMaterial(i=15886354){return new yn({color:i,depthTest:!1,depthWrite:!1})}getLineDashedMaterial(i=15886354){return new Kd({color:i,depthTest:!1,depthWrite:!1,dashSize:.25,gapSize:.5})}getGeometryArray(i){const t=i.attributes.position.count,s=i.attributes.position;let n=[];for(let r=0;r<t;r++){const l=s.getX(r),a=s.getY(r),o=s.getZ(r);n.push(this.referenceFrame.toGeo({x:l,y:a,z:o}))}return n}getGeometry(){let i=[],t=[],s=[];for(let n of this.markers){const r=this.findMarkerGroup(n.group);if(r.length===0)continue;const l=r[0];switch(n.group.userData.measureType){case"point":i.push(this.referenceFrame.toGeo(l.position.clone()));break;case"distance":const o=this.findGeometryObject(n.group,"distance");t.push(this.getGeometryArray(o.geometry));break;case"area":const c=this.findGeometryObject(n.group,"area");s.push(this.getGeometryArray(c.geometry));break}}return{points:i,lines:t,polygons:s}}}var pG="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='24px' viewBox='0 0 24 24' width='24px' fill='%23365379'%3e%3cpath d='M0 0h24v24H0V0z' fill='none'/%3e%3cpath d='M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3-8c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3z'/%3e%3c/svg%3e",gk="data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8'%3f%3e%3c!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' width='24' height='24' viewBox='0 0 24 24' fill='%23365379'%3e%3cpath d='M3%2c14L3.5%2c14.07L8.07%2c9.5C7.89%2c8.85 8.06%2c8.11 8.59%2c7.59C9.37%2c6.8 10.63%2c6.8 11.41%2c7.59C11.94%2c8.11 12.11%2c8.85 11.93%2c9.5L14.5%2c12.07L15%2c12C15.18%2c12 15.35%2c12 15.5%2c12.07L19.07%2c8.5C19%2c8.35 19%2c8.18 19%2c8A2%2c2 0 0%2c1 21%2c6A2%2c2 0 0%2c1 23%2c8A2%2c2 0 0%2c1 21%2c10C20.82%2c10 20.65%2c10 20.5%2c9.93L16.93%2c13.5C17%2c13.65 17%2c13.82 17%2c14A2%2c2 0 0%2c1 15%2c16A2%2c2 0 0%2c1 13%2c14L13.07%2c13.5L10.5%2c10.93C10.18%2c11 9.82%2c11 9.5%2c10.93L4.93%2c15.5L5%2c16A2%2c2 0 0%2c1 3%2c18A2%2c2 0 0%2c1 1%2c16A2%2c2 0 0%2c1 3%2c14Z' /%3e%3c/svg%3e",Tk="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='24px' viewBox='0 0 24 24' width='24px' fill='%23365379'%3e%3cpath d='M0 0h24v24H0V0z' fill='none'/%3e%3cpath d='M23 7V1h-6v2H7V1H1v6h2v10H1v6h6v-2h10v2h6v-6h-2V7h2zM3 3h2v2H3V3zm2 18H3v-2h2v2zm12-2H7v-2H5V7h2V5h10v2h2v10h-2v2zm4 2h-2v-2h2v2zM19 5V3h2v2h-2zm-5.27 9h-3.49l-.73 2H7.89l3.4-9h1.4l3.41 9h-1.63l-.74-2zm-3.04-1.26h2.61L12 8.91l-1.31 3.83z'/%3e%3c/svg%3e",Ik="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='24px' viewBox='0 0 24 24' width='24px' fill='%23bc0000'%3e%3cpath d='M0 0h24v24H0V0z' fill='none' opacity='.87'/%3e%3cpath d='M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z'/%3e%3c/svg%3e",Rk="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='24px' viewBox='0 0 24 24' width='24px' fill='%23f26812'%3e%3cpath d='M0 0h24v24H0V0z' fill='none'/%3e%3cpath d='M12 7C6.48 7 2 9.24 2 12c0 2.24 2.94 4.13 7 4.77V20l4-4-4-4v2.73c-3.15-.56-5-1.9-5-2.73 0-1.06 3.04-3 8-3s8 1.94 8 3c0 .73-1.46 1.89-4 2.53v2.05c3.53-.77 6-2.53 6-4.58 0-2.76-4.48-5-10-5z'/%3e%3c/svg%3e",fk="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='24px' viewBox='0 0 24 24' width='24px' fill='%23f26812'%3e%3cpath d='M0 0h24v24H0V0z' fill='none'/%3e%3cpath d='M11.99 18.54l-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16zm0-11.47L17.74 9 12 13.47 6.26 9 12 4.53z'/%3e%3c/svg%3e",Xk="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='24px' viewBox='0 0 24 24' width='24px' fill='%23f26812'%3e%3cpath d='M0 0h24v24H0V0z' fill='none'/%3e%3cpath d='M21 6H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 10H3V8h2v4h2V8h2v4h2V8h2v4h2V8h2v4h2V8h2v8z'/%3e%3c/svg%3e",Wk="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='24px' viewBox='0 0 24 24' width='24px' fill='%23f26812'%3e%3cpath d='M0 0h24v24H0V0z' fill='none'/%3e%3cpath d='M10 12c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM6 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12-8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm-4 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm4-4c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-4-4c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-4-4c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z'/%3e%3c/svg%3e",Sk="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='24px' viewBox='0 0 24 24' width='24px' fill='%23f26812'%3e%3cpath d='M0 0h24v24H0V0z' fill='none'/%3e%3cpath d='M20 9c-.04-4.39-3.6-7.93-8-7.93S4.04 4.61 4 9v6c0 4.42 3.58 8 8 8s8-3.58 8-8V9zm-2 0h-5V3.16c2.81.47 4.96 2.9 5 5.84zm-7-5.84V9H6c.04-2.94 2.19-5.37 5-5.84zM18 15c0 3.31-2.69 6-6 6s-6-2.69-6-6v-4h12v4z'/%3e%3c/svg%3e",Ck="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='48' width='48' fill='%23f26812'%3e%3cpath d='M17.2 17.4 15 15.2 24 6.2 33 15.2 30.8 17.4 24 10.6ZM24 42 15 33 17.2 30.8 24 37.6 30.8 30.8 33 33Z'/%3e%3c/svg%3e",Vk="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='48' width='48' fill='%23f26812'%3e%3cpath d='M24 19.15 15 10.15 17.15 8 24 14.85 30.85 8 33 10.15ZM17.15 40 15 37.85 24 28.85 33 37.85 30.85 40 24 33.15Z'/%3e%3c/svg%3e",Lk="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='48' width='48' fill='%23f26812'%3e%3cpath d='M7 40Q5.85 40 4.925 39.075Q4 38.15 4 37V11Q4 9.85 4.925 8.925Q5.85 8 7 8H21.05L24.05 11H41Q42.15 11 43.075 11.925Q44 12.85 44 14H22.75L19.75 11H7Q7 11 7 11Q7 11 7 11V37Q7 37 7 37Q7 37 7 37L12.1 17H47L41.65 37.7Q41.35 38.9 40.55 39.45Q39.75 40 38.5 40ZM10.15 37H38.75L42.95 20H14.35ZM10.15 37 14.35 20 10.15 37ZM7 14V11Q7 11 7 11Q7 11 7 11V14Z'/%3e%3c/svg%3e",Fk="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='48' width='48' fill='%23f26812'%3e%3cpath d='M7.05 40Q5.85 40 4.95 39.075Q4.05 38.15 4.05 37V11Q4.05 9.85 4.95 8.925Q5.85 8 7.05 8H21.05L24.05 11H41.05Q42.2 11 43.125 11.925Q44.05 12.85 44.05 14V37Q44.05 38.15 43.125 39.075Q42.2 40 41.05 40ZM7.05 11V37Q7.05 37 7.05 37Q7.05 37 7.05 37H41.05Q41.05 37 41.05 37Q41.05 37 41.05 37V14Q41.05 14 41.05 14Q41.05 14 41.05 14H22.8L19.8 11H7.05Q7.05 11 7.05 11Q7.05 11 7.05 11ZM7.05 11Q7.05 11 7.05 11Q7.05 11 7.05 11V14Q7.05 14 7.05 14Q7.05 14 7.05 14V37Q7.05 37 7.05 37Q7.05 37 7.05 37Q7.05 37 7.05 37Q7.05 37 7.05 37Z'/%3e%3c/svg%3e",Nk="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='48' width='48'%3e%3cpath d='M19.6 42H9Q7.8 42 6.9 41.1Q6 40.2 6 39V9Q6 7.8 6.9 6.9Q7.8 6 9 6H19.6V9H9Q9 9 9 9Q9 9 9 9V39Q9 39 9 39Q9 39 9 39H19.6ZM22.6 46V2H25.6V46ZM39 9H38.3V6H39Q40.2 6 41.1 6.9Q42 7.8 42 9V9.7H39ZM39 26.75V21.25H42V26.75ZM39 42H38.3V39H39V38.3H42V39Q42 40.2 41.1 41.1Q40.2 42 39 42ZM39 18.25V12.7H42V18.25ZM39 35.3V29.75H42V35.3ZM28.6 42V39H35.3V42ZM28.6 9V6H35.3V9Z'/%3e%3c/svg%3e",xk=Object.defineProperty,vk=Object.getOwnPropertyDescriptor,ko=(e,i,t,s)=>{for(var n=s>1?void 0:s?vk(i,t):i,r=e.length-1,l;r>=0;r--)(l=e[r])&&(n=(s?l(i,t,n):l(n))||n);return s&&n&&xk(i,t,n),n};let Ra=class extends bi{constructor(){super(...arguments);this.icon="point",this.width="22px",this.height="22px",this.class=""}render(){return as`
      <img class=${this.class} width=${this.width} height=${this.height} src=${this.getImage(this.icon)} />
    `}getImage(e){switch(e){case"point":return pG;case"distance":return gk;case"area":return Tk;case"cancel":return Ik;case"360":return Rk;case"layers":return fk;case"ruler":return Xk;case"pointcloud":return Wk;case"controls":return Sk;case"unfold_more":return Ck;case"unfold_less":return Vk;case"folder_open":return Lk;case"folder_closed":return Fk;case"clip":return Nk;default:return pG}}};ko([Qt({type:String})],Ra.prototype,"icon",2),ko([Qt({type:String})],Ra.prototype,"width",2),ko([Qt({type:String})],Ra.prototype,"height",2),ko([Qt({type:String})],Ra.prototype,"class",2),Ra=ko([fn("pointscene-icon")],Ra);var Ek=Object.defineProperty,Yk=Object.getOwnPropertyDescriptor,il=(e,i,t,s)=>{for(var n=s>1?void 0:s?Yk(i,t):i,r=e.length-1,l;r>=0;r--)(l=e[r])&&(n=(s?l(i,t,n):l(n))||n);return s&&n&&Ek(i,t,n),n};let _n=class extends bi{constructor(){super(...arguments);this.disabled=!1,this.active=!1,this.label="",this.badge=""}render(){return as`
      <button ?disabled=${this.disabled} class="${this.active?"button-active":""}">
        <span class="pointscene-button-icon">
          <pointscene-icon icon=${this.active===!0?this.iconCancel:this.icon}></pointscene-icon>
        </span>
        <span class="pointscene-button-label">
          ${this.label}
        </span>
        ${this.badge?as`
          <span class="pointscene-button-badge">
            ${this.badge}
          </span>
        `:""}
      </button>
    `}};_n.styles=rn`
    button {
      position: relative;
      left: 3px;
      font-family: 'Open Sans';
      padding: 2px;
      margin: 2px;
      padding-left: 4px;
      padding-right: 4px;
      background-color: white;
      border-radius: 5px;
      border-color: #365379;
      border-width: 0px;
      transition: all 0.3s ease 0s;
      color: #365379;
      width: 92%;
      height: 30px;
      box-shadow: none;
    }
    button:active {
      background-color: #eee;
    }
    button:hover {
      cursor: pointer;
      background-color: #eee;
    }
    button:disabled {
      border-color: transparent;
      background-color: #fff;
      cursor: not-allowed;
    }
    .button-active {
      background-color: #eee;
    }
    .pointscene-button-icon {
      position: absolute;
      left: 4px;
      top: 4px;
      color: ##365379;
    }
    .pointscene-button-label {
      position: absolute;
      left: 32px;
      top: 4px;
      font-size: 14px;
    }
    .pointscene-button-badge {
      position: absolute;
      right: 8px;
      top: 0px;
      font-size: 12px;
      color: #f26812;
    }
  `,il([Qt({type:Boolean})],_n.prototype,"disabled",2),il([Qt({type:Boolean})],_n.prototype,"active",2),il([Qt({type:String})],_n.prototype,"label",2),il([Qt({type:String})],_n.prototype,"badge",2),il([Qt({type:String})],_n.prototype,"icon",2),il([Qt({type:String})],_n.prototype,"iconCancel",2),_n=il([fn("pointscene-button")],_n);var Mk=Object.defineProperty,wk=Object.getOwnPropertyDescriptor,Do=(e,i,t,s)=>{for(var n=s>1?void 0:s?wk(i,t):i,r=e.length-1,l;r>=0;r--)(l=e[r])&&(n=(s?l(i,t,n):l(n))||n);return s&&n&&Mk(i,t,n),n};let nl=class extends bi{constructor(){super(...arguments);this.label="",this.checked=!1,this.disabled=!1,this.expanded=!1}render(){return as`
        <label class="pointscene-switch">
            <input type="checkbox"
                .disabled=${this.disabled}
                @change=${this.handleChange}
                .checked=${this.checked}
            >
            <span class="pointscene-slider round"></span>
            <span class="pointscene-switch-label" style="${this.expanded?"width: 300px;":""}">
                ${this.label}
            </span>
        </label>
    `}handleChange(e){this.dispatchEvent(new CustomEvent("change",{}))}};nl.styles=[UU],Do([Qt({type:String})],nl.prototype,"label",2),Do([Qt({type:Boolean})],nl.prototype,"checked",2),Do([Qt({type:Boolean})],nl.prototype,"disabled",2),Do([Qt({type:Boolean})],nl.prototype,"expanded",2),nl=Do([fn("pointscene-switch")],nl);class Hk{constructor(){this.header=`999
DXF downloaded from Pointscene.com
0
SECTION
2
HEADER
9
$ACADVER
1
AC1006
9
$INSBASE
10
0.0
20
0.0
30
0.0
9
$EXTMIN
10
{xmin}
20
{ymin}
30
{zmin}
9
$EXTMAX
10
{xmax}
20
{ymax}
30
{zmax}
0
ENDSEC
`,this.header+=`0
SECTION
2
TABLES
0
TABLE
2
LTYPE
70
1
0
LTYPE
2
CONTINUOUS
70
64
3
Solid line
72
65
73
0
40
0.000000
0
ENDTAB
`,this.header+=`0
TABLE
2
LAYER
70
6
0
LAYER
2
1
70
64
62
7
6
CONTINUOUS
0
LAYER
2
2
70
64
62
7
6
CONTINUOUS
0
ENDTAB
0
TABLE
2
STYLE
70
0
0
ENDTAB
0
ENDSEC
`,this.header+=`0
SECTION
2
BLOCKS
0
ENDSEC
`,this.body="",this.footer=`0
EOF`,this.entitiesBegin=`0
SECTION
2
ENTITIES
`,this.entityEnd=`0
ENDSEC
`,this.pointEnt=`0
POINT
5
{id}
8
{layer}
6
CONTINUOUS
62
150
10
{x}
20
{y}
30
{z}
`,this.vertexBegin=`0
POLYLINE
8
{layer}
62
0
66
1
10
0.0
20
0.0
30
0.0
70
8
`,this.vertex=`0
VERTEX
8
{layer}
10
{x}
20
{y}
30
{z}
70
32
`,this.vertexEnd=`0
SEQEND
`,this.points=[],this.lines=[],this.polygons=[],this.xmin=9999999999e-2,this.ymin=9999999999e-2,this.zmin=9999999999e-2,this.xmax=-9999999999e-2,this.ymax=-9999999999e-2,this.zmax=-9999999999e-2}dispose(){this.points=[],this.lines=[],this.polygons=[]}setPoints(i){this.points=[],this.points=i}setLines(i){this.lines=[],this.lines=i}setPolygons(i){this.polygons=[],this.polygons=i}addPoint(i){this.points.push(i)}addLine(i){this.lines.push(i)}addPolygon(i){this.polygons.push(i)}updateExtremes(i){this.xmin=Math.min(this.xmin,i.x),this.ymin=Math.min(this.ymin,i.y),this.zmin=Math.min(this.zmin,i.z),this.xmax=Math.max(this.xmax,i.x),this.ymax=Math.max(this.ymax,i.y),this.zmax=Math.max(this.zmax,i.z)}getData(){if(this.lines.length===0&&this.polygons.length===0&&this.points.length===0)return;let i="";i+=this.entitiesBegin;for(let s=0;s<this.points.length;s++){const n=this.points[s];this.updateExtremes(n),i+=this.pointEnt.replace("{id}",s.toString()).replace("{x}",n.x.toString()).replace("{y}",n.y.toString()).replace("{z}",n.z.toString()).replace("{layer}","POINTS")}for(let s=0;s<this.lines.length;s++){const n=this.lines[s];i+=this.vertexBegin.replace("{layer}","LINES");for(let r=0;r<n.length;r++){const l=n[r];this.updateExtremes(l);let a=this.vertex.slice(0);a=a.replace("{x}",l.x.toString()).replace("{y}",l.y.toString()).replace("{z}",l.z.toString()).replace("{layer}","LINES"),i+=a}i+=this.vertexEnd.slice(0)}for(let s=0;s<this.polygons.length;s++){const n=this.polygons[s];i+=this.vertexBegin.replace("{layer}","POLYGONS");for(let r=0;r<n.length;r++){const l=n[r];this.updateExtremes(l);let a=this.vertex.slice(0);a=a.replace("{x}",l.x.toString()).replace("{y}",l.y.toString()).replace("{z}",l.z.toString()).replace("{layer}","POLYGONS"),i+=a}i+=this.vertexEnd.slice(0)}i+=this.entityEnd;let t=this.header;return t=t.replace("{xmin}",this.xmin.toString()).replace("{ymin}",this.ymin.toString()).replace("{zmin}",this.zmin.toString()),t=t.replace("{xmax}",this.xmax.toString()).replace("{ymax}",this.ymax.toString()).replace("{zmax}",this.zmax.toString()),t+i+this.footer}reset(){this.points=[],this.lines=[],this.polygons=[]}saveFile(){const i=this.getData();if(!i)return;const t=new Blob([i],{type:"text/plain;charset=utf-8"}),s=document.createElement("a");s.href=window.URL.createObjectURL(t),s.download="pointscene_export_"+Date.now()+".dxf",s.style.display="none",document.body.appendChild(s),s.click(),setTimeout(function(){document.body.removeChild(s)},1e3)}}var Pk=Object.defineProperty,mG=Object.getOwnPropertySymbols,zk=Object.prototype.hasOwnProperty,Uk=Object.prototype.propertyIsEnumerable,bG=(e,i,t)=>i in e?Pk(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,kk=(e,i)=>{for(var t in i||(i={}))zk.call(i,t)&&bG(e,t,i[t]);if(mG)for(var t of mG(i))Uk.call(i,t)&&bG(e,t,i[t]);return e};class Dk{constructor(i){this.clipPlane=new mi,this.pickPlane=new mi,this.axis=new H(0,0,1),this.meshVisible=!1,this.needsUpdate=!1,this.events=new wi,this.isDragging=!1,this.measureTool=new Cp({picker:i.picker,referenceFrame:i.referenceFrame,hideLabels:!0}),this.renderer=i.renderer,this.model=new Si;const t=[];t.push(new H(-.5,-.5,0)),t.push(new H(-.5,.5,0)),t.push(new H(.5,.5,0)),t.push(new H(.5,-.5,0)),t.push(new H(-.5,-.5,0));const s=new It().setFromPoints(t),n=new yn({color:15886354,side:pi,transparent:!0,opacity:.8});this.model.add(new qr(s,n));const r=new ho(1,1,1,1),l=new pr({color:15886354,side:pi,transparent:!0,opacity:.05});this.model.add(new ns(r,l)),this.handleSliderDragStart=this.handleSliderDragStart.bind(this),this.handleSliderDragEnd=this.handleSliderDragEnd.bind(this),this.handleSliderHoverIn=this.handleSliderHoverIn.bind(this),this.handleSliderHoverOut=this.handleSliderHoverOut.bind(this),this.slider=this.getSlider(),this.events.dispatch("pointscene_register_update_hook",{fn:this.update.bind(this)},this.measureTool.picker.domEl)}update(){!this.needsUpdate||this.measureTool.points.length!==2||(this.updatePlane(),this.isDragging&&this.translatePlane())}start(i){this.onUpdate=i.onUpdate,this.onFinish=i.onFinish,this.needsUpdate=!0,this.add()}flipNormal(i,t,s){return t=t||new H(0,0,0),s=s||new H(0,0,Number.MAX_VALUE),new H(s.x-t.x,s.y-t.y,s.z-t.z).clone().dot(i)<0&&i.multiplyScalar(-1),i}getNonClipMaterial(){const i={vertexShader:`
        attribute vec3 center;
        varying vec3 vCenter;

        void main() {
          vCenter = center;
          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
        }
      `,fragmentShader:`
        varying vec3 vCenter;
        uniform float thickness;
        uniform float opacity;
        uniform vec3 color;

        void main() {
          vec3 afwidth = fwidth(vCenter.xyz);
          vec3 edge3 = smoothstep((thickness - 1.0) * afwidth, thickness * afwidth, vCenter.xyz);

          float edge = 1.0 - min(min(edge3.x, edge3.y), edge3.z);
  
          gl_FragColor.rgb = color;
          gl_FragColor.a = edge > opacity ? edge : opacity;
        }
      `,uniforms:{opacity:{type:"f",value:.4},color:new Rh(new ie(16777215)),thickness:{type:"f",value:1.5}}};return new li(kk({side:pi,transparent:!0,depthWrite:!1,depthTest:!1,clipping:!1},i))}getSlider(){const i=o=>{const c=[new H(1,0,0),new H(0,1,0),new H(0,0,1)],h=o.attributes.position,u=new Float32Array(h.count*3);for(let d=0,p=h.count;d<p;d++)c[d%3].toArray(u,d*3);o.setAttribute("center",new Nt(u,3))},t=new Float32Array([0,0,.25,0,-.25,0,0,.25,0]),s=new It;s.setAttribute("position",new Nt(t,3)),i(s);const n=this.getNonClipMaterial(),r=new ns(s,n);r.position.z=.5;const l=new ns(s,n);l.position.z=-.5,l.rotateY(Math.PI);const a=new Si;return a.add(r),a.add(l),a.userData.isInteractive=!0,a.userData.isPickable=!0,r.userData.isInteractive=!0,r.userData.isPickable=!0,r.userData.side="forward",l.userData.isInteractive=!0,l.userData.isPickable=!0,l.userData.side="back",r.addEventListener("hover_in",this.handleSliderHoverIn),r.addEventListener("hover_out",this.handleSliderHoverOut),r.addEventListener("drag_start",this.handleSliderDragStart),r.addEventListener("drag_end",this.handleSliderDragEnd),l.addEventListener("hover_in",this.handleSliderHoverIn),l.addEventListener("hover_out",this.handleSliderHoverOut),l.addEventListener("drag_start",this.handleSliderDragStart),l.addEventListener("drag_end",this.handleSliderDragEnd),a}handleSliderHoverIn(i){i.target.material.uniforms.opacity.value=.8,i.target.material.uniforms.thickness.value=2.5,i.target.material.uniforms.color.value=new ie(15886354),this.measureTool.picker.domEl.style.cursor="grab"}handleSliderHoverOut(i){i.target.material.uniforms.opacity.value=.2,i.target.material.uniforms.thickness.value=1.5,i.target.material.uniforms.color.value=new ie(16777215),this.measureTool&&(this.measureTool.picker.domEl.style.cursor="auto")}handleSliderDragStart(){const i=this.measureTool.picker.domEl;this.events.dispatch(tt.DisableControls,{},i),this.isDragging=!0}handleSliderDragEnd(){const i=this.measureTool.picker.domEl;this.events.dispatch(tt.EnableControls,{},i),this.isDragging=!1,this.dragStartOffset=void 0}translatePlane(){const i=this.measureTool.picker.intersectPlane(this.pickPlane);if(!i)return;if(!this.dragStartOffset){const r=this.model.position.clone();this.dragStartOffset=r.sub(i.point)}const t=i.point.clone().add(this.dragStartOffset);let s=this.clipPlane.normal.clone();s=this.flipNormal(s,this.measureTool.picker.camera.position,t),this.clipPlane.setFromNormalAndCoplanarPoint(s,t),this.pickPlane.setFromNormalAndCoplanarPoint(this.axis,t);const n=i.point.clone().add(this.dragStartOffset).add(s.clone().setLength(.01));this.model.position.copy(n),this.slider.position.copy(n)}updatePlane(){let i=this.clipPlane.normal.clone();const t=this.model.position.clone();i=this.flipNormal(i,this.measureTool.picker.camera.position,t),this.clipPlane.setFromNormalAndCoplanarPoint(i,t),this.pickPlane.setFromNormalAndCoplanarPoint(this.axis,t)}updatePlaneFromPoints(i){const t=i,s=new H().lerpVectors(t[0],t[1],.5),n=i[1].clone().sub(t[0]),r=n.length();let l=n.cross(this.axis).normalize();l=this.flipNormal(l,this.measureTool.picker.camera.position,s);const a=l.clone().setLength(.01);this.clipPlane.setFromNormalAndCoplanarPoint(l,s),this.pickPlane.setFromNormalAndCoplanarPoint(this.axis,s),this.model.position.copy(s.clone().add(a)),this.model.scale.set(r,r,r),this.model.lookAt(s.clone().add(l)),this.slider.position.copy(s.clone().add(a)),this.slider.scale.set(r,r,r),this.slider.lookAt(s.clone().add(l))}add(){this.measureTool.start("distance",{onFinish:i=>{this.updatePlaneFromPoints(this.measureTool.points),this.end()},onUpdate:i=>{!this.needsUpdate||this.measureTool.points.length!==0&&(this.meshVisible||(this.measureTool.picker.sceneStatic.add(this.model),this.measureTool.picker.scenePickable.add(this.slider),this.measureTool.pickingPlane=this.pickPlane,this.meshVisible=!0),this.updatePlaneFromPoints([this.measureTool.points[0],this.measureTool.referenceFrame.toScene(i)]),this.renderer&&this.meshVisible&&(this.renderer.clippingPlanes=[this.clipPlane],this.renderer.localClippingEnabled=!1),this.onUpdate&&this.onUpdate([]))}})}end(){this.onFinish&&this.onFinish(this.measureTool.points),this.measureTool.clear(),this.onUpdate=void 0,this.onFinish=void 0}clear(){this.measureTool.picker.sceneStatic.remove(this.model),this.measureTool.picker.scenePickable.remove(this.slider),this.meshVisible=!1,this.needsUpdate=!1,this.renderer&&(this.renderer.clippingPlanes=[],this.renderer.localClippingEnabled=!0)}dispose(){this.slider&&this.slider.children.forEach(i=>{i.removeEventListener("drag_start",this.handleSliderDragStart),i.removeEventListener("drag_end",this.handleSliderDragEnd),i.removeEventListener("hover_in",this.handleSliderHoverIn),i.removeEventListener("hover_out",this.handleSliderHoverOut),i.material.dispose(),i.geometry.dispose()}),this.model&&this.model.children.forEach(i=>{i.material.dispose(),i.geometry.dispose()})}}var Jk=Object.defineProperty,Kk=Object.getOwnPropertyDescriptor,Sn=(e,i,t,s)=>{for(var n=s>1?void 0:s?Kk(i,t):i,r=e.length-1,l;r>=0;r--)(l=e[r])&&(n=(s?l(i,t,n):l(n))||n);return s&&n&&Jk(i,t,n),n};let Hi=class extends bi{constructor(){super();this.expanded=!1,this._activeTool="none",this._snapDepth=!1,this._snapPointcloud=!0,this._snapModel=!0,this._xyOnly=!1,this._zOnly=!1,this.isCollapsed=!0,this.domEl="",this.events=new wi,this.registerPicker=this.registerPicker.bind(this)}connectedCallback(){super.connectedCallback();const e=document.querySelector(`#${this.domEl}`);e==null||e.addEventListener(tt.RegisterPicker,this.registerPicker),this.events.dispatch(tt.MeasureUICreated,{},e)}disconnectedCallback(){var e,i;const t=document.querySelector(`#${this.domEl}`);t==null||t.removeEventListener(tt.RegisterPicker,this.registerPicker),(e=this.measureTool)==null||e.dispose(),(i=this.clippingTool)==null||i.dispose(),super.disconnectedCallback()}registerPicker(e){this.picker=e.detail.picker,this.referenceFrame=e.detail.referenceFrame;const i=e.detail.renderer;if(!this.picker||!this.referenceFrame||!i)throw new Error("Missing picker or reference frame: "+this.picker+" "+this.referenceFrame);this.measureTool=new Cp({picker:this.picker,referenceFrame:this.referenceFrame}),this.clippingTool=new Dk({picker:this.picker,referenceFrame:this.referenceFrame,renderer:i})}render(){return as`
      <div class="pointscene-header" @click=${this.toggleCollapsed}>
        <div class="pointscene-header-icon">
          <pointscene-icon icon="ruler" width="18px" height="18px"></pointscene-icon>
        </div>
        <div class="pointscene-header-title">
          TOOLS
        </div>
        <div class="pointscene-header-toggle">
          ${this.isCollapsed?"+":"-"}
        </div>
      </div>
      ${this.isCollapsed?"":as`
        <div>
          <pointscene-button
            ?disabled=${this.isDisabled("point")}
            ?active=${this._activeTool==="point"}
            @click=${()=>this.toggleActiveTool("point")}
            icon="point"
            iconCancel="cancel"
            label="Point"
            .badge=${this.getDimensionBadge(!1)}
          ></pointscene-button>
        </div>
        <div>
          <pointscene-button
            ?disabled=${this.isDisabled("distance")}
            ?active=${this._activeTool==="distance"}
            @click=${()=>this.toggleActiveTool("distance")}
            icon="distance"
            iconCancel="cancel"
            label="Distance"
            .badge=${this.getDimensionBadge(this._activeTool==="distance")}
          ></pointscene-button>
        </div>
        <div>
          <pointscene-button
            ?disabled=${this.isDisabled("area")}
            ?active=${this._activeTool==="area"}
            @click=${()=>this.toggleActiveTool("area")}
            icon="area"
            iconCancel="cancel"
            label="Area"
            .badge=${this.getDimensionBadge(this._activeTool==="area")}
          ></pointscene-button>
        </div>
        <div>
          <pointscene-button
            ?disabled=${this.isDisabled("clip")}
            ?active=${this._activeTool==="clip"}
            @click=${()=>this.toggleActiveTool("clip")}
            icon="clip"
            iconCancel="cancel"
            label="Clip"
            .badge=${this.getDimensionBadge(this._activeTool==="clip")}
          ></pointscene-button>
        </div>

        <button
          class="pointscene-cancel-button"
          @click=${this.clearMeasurements}
        >
            Clear
        </button>

        <button
          class="pointscene-basic-button"
          @click=${this.exportMeasurements}
        >
            Export
        </button>

        <button
          class="pointscene-collapsible-button"
          @click=${this.toggleExpanded}
        >
            Advanced ${this.expanded?"-":"+"}
        </button>

        ${this.expanded?as`
        <div class="pointscene-expanded-content">
          <div class="pointscene-header">Dimensions</div>
          <div>
            <pointscene-switch
              .checked=${this._xyOnly}
              label="X/Y only"
              @change=${this.toggleXYOnly}
            ></pointscene-switch>
          </div>
          <div>
            <pointscene-switch
              .checked=${this._zOnly}
              label="Z only"
              @change=${this.toggleZOnly}
            ></pointscene-switch>
          </div>

          <hr />

          <div class="pointscene-header">Snap</div>
          <div>
            <pointscene-switch
              .checked=${this._snapDepth}
              label="360 depth"
              @change=${this.toggleSnapDepth}
            ></pointscene-switch>
          </div>
          <div>
            <pointscene-switch
              .checked=${this._snapModel}
              label="Model"
              @change=${this.toggleSnapModel}
            ></pointscene-switch>
          </div>
          <div>
            <pointscene-switch
              .checked=${this._snapPointcloud}
              label="Point cloud"
              @change=${this.toggleSnapPointcloud}
            ></pointscene-switch>
          </div>
        </div>
        `:""}
      `}
    `}getDimensionBadge(e){if(!!e)return this._xyOnly?"XY":this._zOnly?"Z":void 0}clearMeasurements(){var e,i;(e=this.measureTool)==null||e.clear(),(i=this.clippingTool)==null||i.clear()}isDisabled(e){return this._activeTool==="none"?!1:e!==this._activeTool}exportMeasurements(){var e;const i=(e=this.measureTool)==null?void 0:e.getGeometry();if(!this.measureTool||!i||!this.referenceFrame)return;const t=new Hk;for(const s of i.points)t.addPoint(this.referenceFrame.toGeo(s));for(const s of i.lines)t.addLine(s.map(n=>this.referenceFrame.toGeo(n)));for(const s of i.polygons)t.addPolygon(s.map(n=>this.referenceFrame.toGeo(n)));t.saveFile()}toggleActiveTool(e){var i,t,s;if(!(this._activeTool!=="none"&&e!==this._activeTool))switch(this._activeTool=e===this._activeTool?"none":e,this._activeTool){case"point":case"distance":case"area":(i=this.measureTool)==null||i.start(this._activeTool,{onFinish:n=>this._activeTool="none"});return;case"clip":(t=this.clippingTool)==null||t.start({onUpdate:n=>{},onFinish:n=>{this._activeTool="none"}});return;case"none":(s=this.measureTool)==null||s.end();default:return}}toggleCollapsed(){this.isCollapsed=!this.isCollapsed}toggleExpanded(){this.expanded=!this.expanded}toggleSnapDepth(){this._snapDepth=!this._snapDepth,this.measureTool&&(this.measureTool.picker.pickDepth=this._snapDepth)}toggleSnapPointcloud(){this._snapPointcloud=!this._snapPointcloud,this.measureTool&&(this.measureTool.picker.pickPointclouds=this._snapPointcloud)}toggleSnapModel(){this._snapModel=!this._snapModel,this.measureTool&&(this.measureTool.picker.pickModels=this._snapModel)}toggleXYOnly(){this._xyOnly=!this._xyOnly,this._xyOnly&&this._zOnly&&(this._zOnly=!1),!!this.measureTool&&this.measureTool.setActiveDimensions(this._xyOnly?"xy":"all")}toggleZOnly(){this._zOnly=!this._zOnly,this._zOnly&&this._xyOnly&&(this._xyOnly=!1),!!this.measureTool&&this.measureTool.setActiveDimensions(this._zOnly?"z":"all")}updateActiveDimension(){!this.measureTool||(this._xyOnly?this.measureTool.setActiveDimensions("xy"):this._zOnly?this.measureTool.setActiveDimensions("z"):this.measureTool.setActiveDimensions("all"))}};Hi.styles=[el,zU,JZ,PU],Sn([xs()],Hi.prototype,"expanded",2),Sn([xs()],Hi.prototype,"_activeTool",2),Sn([xs()],Hi.prototype,"_snapDepth",2),Sn([xs()],Hi.prototype,"_snapPointcloud",2),Sn([xs()],Hi.prototype,"_snapModel",2),Sn([xs()],Hi.prototype,"_xyOnly",2),Sn([xs()],Hi.prototype,"_zOnly",2),Sn([xs()],Hi.prototype,"isCollapsed",2),Sn([Qt({type:String})],Hi.prototype,"domEl",2),Hi=Sn([fn("pointscene-tools")],Hi);var Ok=Object.defineProperty,Ak=Object.getOwnPropertyDescriptor,fa=(e,i,t,s)=>{for(var n=s>1?void 0:s?Ak(i,t):i,r=e.length-1,l;r>=0;r--)(l=e[r])&&(n=(s?l(i,t,n):l(n))||n);return s&&n&&Ok(i,t,n),n};let Vr=class extends bi{constructor(){super(...arguments);this.domEl="",this.depthEnabled=!1,this.peekMode=!1,this.backgroundMode=!1,this.isCollapsed=!0,this.events=new wi}render(){return as`
      <div class="pointscene-header" @click=${this.toggleCollapsed}>
        <div class="pointscene-header-icon">
          <pointscene-icon icon="360" width="18px" height="18px"></pointscene-icon>
        </div>
        <div class="pointscene-header-title">
          PHOTO
        </div>
        <div class="pointscene-header-toggle">
          ${this.isCollapsed?"+":"-"}
        </div>
      </div>
      ${this.isCollapsed?as`
      <div>
        <button
          class="pointscene-cancel-button"
          @click=${this.exitPhotoMode}
        >
          Exit 360
        </button>
      </div>
      `:""}
      ${this.isCollapsed?"":as`
      <div class="pointscene-expanded-content">
        <div>
          <pointscene-switch
            .checked=${this.peekMode}
            label="Peek mode"
            @change=${this.togglePeekMode}
          ></pointscene-switch>
        </div>
        <div>
          <pointscene-switch
            .checked=${this.backgroundMode}
            label="Background"
            @change=${this.toggleBackgroundMode}
          ></pointscene-switch>
        </div>
        ${this.depthEnabled?as`
        <div class="pointscene-depth-enabled">
          Depth enabled
        </div>
        `:""}
        <div>
          <button
            class="pointscene-cancel-button"
            @click=${this.exitPhotoMode}
          >
            Exit 360
          </button>
        </div>
      </div>
      `}
    `}dispatch(e,i){const t=document.querySelector(`#${this.domEl}`);!t||this.events.dispatch(e,i,t)}exitPhotoMode(){this.dispatch(tt.ExitSphereMode,{}),this.dispatch(tt.SetPhotoPeekMode,{value:!1}),this.dispatch(tt.SetPhotoBackgroundMode,{value:!1})}toggleCollapsed(){this.isCollapsed=!this.isCollapsed}togglePeekMode(){this.peekMode=!this.peekMode,this.peekMode&&this.backgroundMode&&this.toggleBackgroundMode(),this.dispatch(tt.SetPhotoPeekMode,{value:this.peekMode})}toggleBackgroundMode(){this.backgroundMode=!this.backgroundMode,this.backgroundMode&&this.peekMode&&this.togglePeekMode(),this.dispatch(tt.SetPhotoBackgroundMode,{value:this.backgroundMode})}};Vr.styles=[el,JZ,rn`
    /*
      :host {
        position: absolute;
        right: 160px;
        top: 20px;
      }*/
      .pointscene-depth-enabled {
        color: #4b8d2f;
        font-size: 12px;
        padding: 4px;
        text-align: center;
      }
    `],fa([Qt({type:String})],Vr.prototype,"domEl",2),fa([Qt({type:Boolean})],Vr.prototype,"depthEnabled",2),fa([xs()],Vr.prototype,"peekMode",2),fa([xs()],Vr.prototype,"backgroundMode",2),fa([xs()],Vr.prototype,"isCollapsed",2),Vr=fa([fn("pointscene-spherical")],Vr);var Bk=Object.defineProperty,jk=Object.getOwnPropertyDescriptor,Jo=(e,i,t,s)=>{for(var n=s>1?void 0:s?jk(i,t):i,r=e.length-1,l;r>=0;r--)(l=e[r])&&(n=(s?l(i,t,n):l(n))||n);return s&&n&&Bk(i,t,n),n};let rl=class extends bi{constructor(){super();this.domEl="",this.expanded=!1,this.isCollapsed=!0,this.data=[],this.events=new wi,this.registerLayers=this.registerLayers.bind(this)}connectedCallback(){super.connectedCallback();const e=document.querySelector(`#${this.domEl}`);e==null||e.addEventListener(tt.RegisterLayers,this.registerLayers),this.events.dispatch(tt.LayerUICreated,{},e)}disconnectedCallback(){var e;const i=document.querySelector(`#${this.domEl}`);i==null||i.removeEventListener(tt.RegisterLayers,this.registerLayers),(e=this.layers)==null||e.dispose(),super.disconnectedCallback()}registerLayers(e){this.layers=e.detail.layers,!!this.layers&&(this.layers.registerOnUpdateCallback(this.layerUpdateCallback.bind(this)),this.data=this.layers.getAll())}layerUpdateCallback(){!this.layers||(this.data=this.layers.getAll())}render(){return as`
      <div class="pointscene-header" @click=${this.toggleCollapsed}>
        <div class="pointscene-header-icon">
          <pointscene-icon icon="layers" width="18px" height="18px"></pointscene-icon>
        </div>
        <div class="pointscene-header-title">
          LAYERS
        </div>
        <div class="pointscene-header-toggle">
          ${this.isCollapsed?"+":"-"}
        </div>
      </div>
      ${this.isCollapsed?"":as`
          <div class="pointscene-expanded-content">
          ${this.data.map(e=>{var i;return as`
            <div class="layer-switch-container">
              <pointscene-switch
                ?expanded=${this.expanded}
                ?checked=${(i=this.layers)==null?void 0:i.isVisible(e.id)}
                label="${e.name}"
                @change=${()=>{var t;return(t=this.layers)==null?void 0:t.toggleVisibility(e.id)}}
              ></pointscene-switch>
            </div>
            `})}
          </div>
        `}
    `}handleMouseOut(e){var i;if(!this.hoverTarget)return;const t=e.target;if(!t||!this.hoverTarget.isEqualNode(t))return;const s=(i=this.shadowRoot)==null?void 0:i.getElementById("layer-hover-text");!s||(s.style.visibility="hidden")}handleMouseOver(e){var i;const t=e.target;if(console.log("name",t.className),!t)return;const s=(i=this.shadowRoot)==null?void 0:i.getElementById("layer-hover-text");!s||(this.hoverTarget=t,s.style.visibility="visible",s.style.left=`${e.clientX-180}px`,s.style.top=`${e.clientY}px`,s.innerText=t.getAttribute("label"))}toggleCollapsed(){this.isCollapsed=!this.isCollapsed}};rl.styles=[el,rn`
      .layer-switch-container {
        width: 94%;
        height: 24px;
      }
    `],Jo([Qt({type:String})],rl.prototype,"domEl",2),Jo([Qt({type:Boolean})],rl.prototype,"expanded",2),Jo([xs()],rl.prototype,"isCollapsed",2),Jo([xs()],rl.prototype,"data",2),rl=Jo([fn("pointscene-layers")],rl);class Qk{constructor(i){this.points=[],this.measureTool=new Cp({picker:i.picker,referenceFrame:i.referenceFrame})}start(i){this.onUpdate=i.onUpdate,this.onFinish=i.onFinish,this.add()}add(){this.measureTool.start("point",{onFinish:i=>{this.points.push(i[0]),this.points.length===2?this.end():this.add()},onUpdate:i=>{if(this.onUpdate){if(this.points.length===0)return;this.points[0].z<i.z?this.onUpdate([this.points[0].z,i.z]):this.onUpdate([i.z,this.points[0].z])}}})}end(){this.onFinish&&(this.points[0].z>this.points[1].z&&this.points.reverse(),this.onFinish([this.points[0].z,this.points[1].z])),this.points=[],this.measureTool.clear(),this.onUpdate=void 0,this.onFinish=void 0}}var _k=Object.defineProperty,qk=Object.getOwnPropertyDescriptor,Ko=(e,i,t,s)=>{for(var n=s>1?void 0:s?qk(i,t):i,r=e.length-1,l;r>=0;r--)(l=e[r])&&(n=(s?l(i,t,n):l(n))||n);return s&&n&&_k(i,t,n),n};let ll=class extends bi{constructor(){super();this.isCollapsed=!0,this.pointColorType="rgb",this.rangeToolActive=!1,this.domEl="",this.events=new wi,this.registerPointclouds=this.registerPointclouds.bind(this)}connectedCallback(){super.connectedCallback();const e=document.querySelector(`#${this.domEl}`);e==null||e.addEventListener(tt.RegisterPointclouds,this.registerPointclouds),this.events.dispatch(tt.PointcloudUICreated,{},e)}disconnectedCallback(){const e=document.querySelector(`#${this.domEl}`);e==null||e.removeEventListener(tt.RegisterPointclouds,this.registerPointclouds),super.disconnectedCallback()}render(){var e;return as`
      <div class="pointscene-header" @click=${this.toggleCollapsed}>
        <div class="pointscene-header-icon">
          <pointscene-icon icon="pointcloud" width="18px" height="18px"></pointscene-icon>
        </div>
        <div class="pointscene-header-title">
          POINTS
        </div>
        <div class="pointscene-header-toggle">
          ${this.isCollapsed?"+":"-"}
        </div>
      </div>
      ${this.isCollapsed?"":as`
      <div class="pointscene-expanded-content">
        <div>
          <pointscene-dropdown
            @change=${this.handleColorChange}
            options=${JSON.stringify([{value:"rgb",label:"Color",selected:!1},{value:"z",label:"Height",selected:!1},{value:"intensity",label:"Intensity",selected:!1},{value:"classification",label:"Classification",selected:!1}])}
          ></pointscene-dropdown>
        </div>
        ${this.pointColorType==="z"?as`
        <div class="pointscene-elevation-range">
          <button
            class="pointscene-set-elevation-button"
            @click=${this.setElevationStart}
          >
              Set
          </button>
          <span id="elevation-range">0 - 100</span>
        </div>
        `:""}
        <div>
          <pointscene-switch
            .checked=${(e=this.pointclouds)==null?void 0:e.isEDLEnabled()}
            label="Edge"
            @change=${this.handleEdlChange}
          ></pointscene-switch>
        </div>
      </div>
      `}
    `}setElevationStart(){var e;if(!this.rangeTool||!this.pointclouds)return;const i=(e=this.shadowRoot)==null?void 0:e.querySelector("#elevation-range");this.pointclouds.getHeightRange(),this.rangeToolActive=!0;const t=s=>{s.length<2||!this.rangeToolActive||(i&&(i.innerHTML=`${s[0].toFixed(3)} - ${s[1].toFixed(3)}`),this.pointclouds.setHeightRange(s))};this.rangeTool.start({onUpdate:s=>t(s),onFinish:s=>{t(s),this.rangeToolActive=!1}})}cancelElevationRange(){var e;(e=this.rangeTool)==null||e.end(),this.rangeToolActive=!1}registerPointclouds(e){this.pointclouds=e.detail.pointclouds;const i=e.detail.picker,t=e.detail.referenceFrame;this.rangeTool=new Qk({picker:i,referenceFrame:t})}handleColorChange(e){var i,t,s,n;const r=e.detail.value;switch(this.pointColorType=r,r){case"rgb":(i=this.pointclouds)==null||i.setColorType(Zs.RGB);break;case"z":(t=this.pointclouds)==null||t.setColorType(Zs.ELEVATION);break;case"intensity":(s=this.pointclouds)==null||s.setColorType(Zs.INTENSITY);break;case"classification":(n=this.pointclouds)==null||n.setColorType(Zs.CLASSIFICATION);break}}handleEdlChange(){var e;(e=this.pointclouds)==null||e.setEDLEnabled(!this.pointclouds.isEDLEnabled())}toggleCollapsed(){this.isCollapsed=!this.isCollapsed}};ll.styles=[el,rn`
    .pointscene-elevation-range {
      width: 92%;
      padding-bottom: 8px;
    }
    .pointscene-set-elevation-button {
      border-width: 0px;
      border-radius: 10px;
      border-color: #365379;
      width: 32px;
      height: 18px;
      font-size: 12px;
      background-color: #f26812;
      color: white;
      transition: all 0.3s ease 0s;
      position: relative;
      top: -2px;
      left: 8px;
    }
    .pointscene-set-elevation-button:hover {
      cursor: pointer;
      background-color: #365379;
    }
    #elevation-range {
      font-size: 12px;
      position: relative;
      top: -2px;
      left: 8px;
    }
    `],Ko([xs()],ll.prototype,"isCollapsed",2),Ko([xs()],ll.prototype,"pointColorType",2),Ko([xs()],ll.prototype,"rangeToolActive",2),Ko([Qt({type:String})],ll.prototype,"domEl",2),ll=Ko([fn("pointscene-pointcloud")],ll);var $k=Object.defineProperty,eD=Object.getOwnPropertyDescriptor,Cn=(e,i,t,s)=>{for(var n=s>1?void 0:s?eD(i,t):i,r=e.length-1,l;r>=0;r--)(l=e[r])&&(n=(s?l(i,t,n):l(n))||n);return s&&n&&$k(i,t,n),n};let Pi=class extends bi{constructor(){super();this.controls=!1,this.measure=!1,this.spherical=!1,this.layers=!1,this.pointcloud=!1,this.domEl="",this.sphericalViewIsActive=!1,this.depthEnabled=!1,this.expanded=!1,this.handleEnterSphereMode=this.handleEnterSphereMode.bind(this),this.handleExitSphereMode=this.handleExitSphereMode.bind(this),this.handleDepthEnabled=this.handleDepthEnabled.bind(this)}connectedCallback(){super.connectedCallback();const e=document.querySelector(`#${this.domEl}`);e==null||e.addEventListener(tt.EnterSphereMode,this.handleEnterSphereMode),e==null||e.addEventListener(tt.ExitSphereMode,this.handleExitSphereMode),e==null||e.addEventListener(tt.DepthEnabled,this.handleDepthEnabled)}disconnectedCallback(){const e=document.querySelector(`#${this.domEl}`);e==null||e.removeEventListener(tt.EnterSphereMode,this.handleEnterSphereMode),e==null||e.removeEventListener(tt.ExitSphereMode,this.handleExitSphereMode),super.disconnectedCallback()}render(){return as`
      <div class="pointscene-ui-expand-toggle" @click=${this.handleExpandToggle}>
        <span class="pointscene-ui-expand-toggle-icon">
          ${this.expanded?as`
          <pointscene-icon icon="unfold_less" width="18px" height="18px"></pointscene-icon>
          `:as`
          <pointscene-icon icon="unfold_more" width="18px" height="18px"></pointscene-icon>
          `}
          
        </span>
      </div>
      ${this.layers?as`<pointscene-layers domel=${this.domEl} ?expanded=${this.expanded}></pointscene-layers>`:""}
      ${this.controls?as`<pointscene-controls ?spherical=${this.sphericalViewIsActive} domel=${this.domEl}></pointscene-controls>`:""}
      ${this.measure?as`<pointscene-tools domel=${this.domEl}></pointscene-measure>`:""}
      ${this.pointcloud?as`<pointscene-pointcloud domel=${this.domEl}></pointscene-pointcloud>`:""}
      ${this.sphericalViewIsActive&&this.spherical?as`<pointscene-spherical domel=${this.domEl} ?depthenabled=${this.depthEnabled}></pointscene-spherical`:""}
    `}handleExpandToggle(){this.expanded=!this.expanded,this.style.width=this.expanded?"350px":"160px"}handleDepthEnabled(e){this.depthEnabled=e.detail.value}handleEnterSphereMode(){this.sphericalViewIsActive=!0}handleExitSphereMode(){this.sphericalViewIsActive=!1}};Pi.styles=[el,rn`
      :host {
        display: flex;
        flex-direction: column;
        z-index: 100;
        position: absolute;
        top: 20px;
        right: 20px;
        width: 160px;
        max-height: 90vh;
        transition: width 0.5s;
      }
    `],Cn([Qt({type:Boolean})],Pi.prototype,"controls",2),Cn([Qt({type:Boolean})],Pi.prototype,"measure",2),Cn([Qt({type:Boolean})],Pi.prototype,"spherical",2),Cn([Qt({type:Boolean})],Pi.prototype,"layers",2),Cn([Qt({type:Boolean})],Pi.prototype,"pointcloud",2),Cn([Qt({type:String})],Pi.prototype,"domEl",2),Cn([xs()],Pi.prototype,"sphericalViewIsActive",2),Cn([xs()],Pi.prototype,"depthEnabled",2),Cn([xs()],Pi.prototype,"expanded",2),Pi=Cn([fn("pointscene-js-ui")],Pi);class tD{constructor(){this.data={},this.onUpdateFn=[]}add(i){if(this.data[i.id])throw new Error(`Layer id ${i.id} already exists`);this.data[i.id]=i,this.triggerUpdate()}dispose(){for(const i of Object.keys(this.data))delete this.data[i]}getAll(){const i=Object.keys(this.data).map(t=>this.data[t]);return i.sort((t,s)=>t.name>s.name?1:s.name>t.name?-1:0),i}remove(i){this.data[i.id]&&delete this.data[i.id],this.triggerUpdate()}registerOnUpdateCallback(i){this.onUpdateFn.push(i)}triggerUpdate(){for(const i of this.onUpdateFn)i()}count(){return Object.keys(this.data).length}isVisible(i){if(!!this.data[i])return this.data[i].object.visible}setVisibility(i,t){const s=this.data[i];if(!s)throw new Error("Tried to set visibility for non-existing layer id:"+i);s.object.visible=t}toggleVisibility(i){const t=this.data[i];!t||(t.object.visible=!t.object.visible)}}class yG{constructor(i){this.layers=new tD,this.showStats=!1,this.preserveDrawingBuffer=!1,this.prevControlDistance=0,this.domEl=i.domEl,this.showStats=i.showStats||!1,this.preserveDrawingBuffer=i.preserveDrawingBuffer||!1,this.scene=new On,this.rangeNear=.1,this.rangeFar=1e4,this.fov=60,this.aspectRatio=this.domEl.clientWidth/this.domEl.clientHeight,this.perspectiveCamera=new ai(this.fov,this.aspectRatio,this.rangeNear,this.rangeFar),this.orthoCamera=new $c(-this.domEl.clientWidth/2,this.domEl.clientWidth/2,this.domEl.clientHeight/2,-this.domEl.clientHeight/2,1,1e4),this.camera=this.perspectiveCamera,this.camera.up.set(0,0,1),this.camControls=new tG({camera:this.camera,domEl:this.domEl}),this.controls=this.camControls.controls,this.screenWidth=this.domEl.clientWidth,this.screenHeight=this.domEl.clientHeight,this.aspectRatio=this.screenWidth/this.screenHeight,this.renderer=new rs({premultipliedAlpha:!1,preserveDrawingBuffer:this.preserveDrawingBuffer}),this.renderer.setSize(this.screenWidth,this.screenHeight),this.renderer.localClippingEnabled=!1,this.renderer.clippingPlanes=[],this.renderer.autoClear=!1,this.renderer.autoClearDepth=!1,this.domEl.appendChild(this.renderer.domElement),this.clock=new VP,this.freezeAnimate=!1,this.binds(),this.addListeners(),this.events=new wi,this.showStats&&(this.stats=new AP,this.stats.showPanel(0),document.body.appendChild(this.stats.dom)),this.modules=new SZ({domEl:this.domEl,scene:this.scene,camera:this.camera,renderer:this.renderer,referenceFrame:i.referenceFrame}),this.start()}dispose(){this.freezeAnimate=!0,this.modules&&(this.modules.dispose(),this.modules=void 0),this.renderer.dispose(),this.camControls.dispose(),this.removeListeners()}onWindowResize(){const i=this.domEl.clientWidth,t=this.domEl.clientHeight;this.screenWidth=i,this.screenHeight=t,this.renderer.setSize(i,t),this.aspectRatio=this.screenWidth/this.screenHeight,this.camera.aspect=this.aspectRatio,this.camera.updateProjectionMatrix()}handleStart(){this.start()}handleFitTopView(){this.fitTopView()}handleRendererFocus(){this.renderer.domElement.focus()}binds(){this.handleRendererFocus=this.handleRendererFocus.bind(this),this.handleControlUICreated=this.handleControlUICreated.bind(this),this.handleMeasureUICreated=this.handleMeasureUICreated.bind(this),this.handleLayerUICreated=this.handleLayerUICreated.bind(this),this.handlePointcloudUICreated=this.handlePointcloudUICreated.bind(this),this.handleSetOrbitMode=this.handleSetOrbitMode.bind(this),this.handleSetSphericalMode=this.handleSetSphericalMode.bind(this),this.handleUpdateOrbitPoint=this.handleUpdateOrbitPoint.bind(this),this.onWindowResize=this.onWindowResize.bind(this)}addListeners(){window.addEventListener("resize",this.onWindowResize,!1),this.renderer.domElement.addEventListener("mousedown",this.handleRendererFocus,!1),this.domEl.addEventListener(tt.EnterSphereMode,this.handleSetSphericalMode),this.domEl.addEventListener(tt.ExitSphereMode,this.handleSetOrbitMode),this.domEl.addEventListener(tt.ControlsUICreated,this.handleControlUICreated,!1),this.domEl.addEventListener(tt.MeasureUICreated,this.handleMeasureUICreated,!1),this.domEl.addEventListener(tt.LayerUICreated,this.handleLayerUICreated,!1),this.domEl.addEventListener(tt.PointcloudUICreated,this.handlePointcloudUICreated,!1),this.domEl.addEventListener(tt.UpdateOrbitPoint,this.handleUpdateOrbitPoint)}handleUpdateOrbitPoint(i){const t=i.detail.point;this.camControls.updateOrbitPoint(t)}handleControlUICreated(){this.events.dispatch(tt.RegisterControls,{controls:this.camControls},this.domEl)}handleLayerUICreated(){this.events.dispatch(tt.RegisterLayers,{layers:this.layers},this.domEl)}handleSetSphericalMode(i){const t=i.detail.target,s=i.detail.normal,n=i.detail.saveState;this.camControls.setSphericalMode(t.position,s,!!n)}handleSetOrbitMode(){this.camControls.setOrbitMode()}removeListeners(){window.removeEventListener("resize",this.onWindowResize,!1),this.renderer.domElement.removeEventListener("mousedown",this.handleRendererFocus,!1),this.domEl.removeEventListener(tt.EnterSphereMode,this.handleSetSphericalMode),this.domEl.removeEventListener(tt.ExitSphereMode,this.handleSetOrbitMode),this.domEl.removeEventListener(tt.MeasureUICreated,this.handleMeasureUICreated),this.domEl.removeEventListener(tt.LayerUICreated,this.handleLayerUICreated),this.domEl.removeEventListener(tt.PointcloudUICreated,this.handlePointcloudUICreated),this.domEl.removeEventListener(tt.UpdateOrbitPoint,this.handleUpdateOrbitPoint),this.modules&&this.modules.removeListeners()}handleMeasureUICreated(){if(!this.modules)throw new Error("Missing modules");this.events.dispatch(tt.RegisterPicker,{picker:this.modules.picker,referenceFrame:this.modules.referenceFrame,renderer:this.renderer},this.domEl)}handlePointcloudUICreated(){if(!this.modules)throw new Error("Missing modules");this.modules.pointclouds||this.modules.createPointcloudModule(),this.events.dispatch(tt.RegisterPointclouds,{pointclouds:this.modules.pointclouds,picker:this.modules.picker,referenceFrame:this.modules.referenceFrame},this.domEl)}initUI(i={}){const t=document.createElement("pointscene-js-ui");t.setAttribute("spherical",""),i.disableControls||t.setAttribute("controls",""),i.disableMeasure||t.setAttribute("measure",""),i.disableLayers||t.setAttribute("layers",""),i.disablePointclouds||t.setAttribute("pointcloud",""),t.setAttribute("domel",this.domEl.id),this.domEl.append(t)}fitTopView(){if(!this.modules){console.error("Modules is undefined");return}const i=[];if(typeof this.modules.pointclouds<"u"){const n=this.modules.pointclouds.getBoundingBox();isFinite(n.min.x)&&isFinite(n.min.y)&&isFinite(n.min.z)&&isFinite(n.max.x)&&isFinite(n.max.y)&&isFinite(n.max.z)&&i.push(new H(n.min.x,n.min.y,n.min.z),new H(n.max.x,n.max.y,n.max.z))}const t=new is;this.modules.scenePickable.children.forEach(n=>{t.expandByObject(n)}),this.modules.sceneLabels.children.forEach(n=>{t.expandByObject(n)}),this.modules.sceneStatic.children.forEach(n=>{t.expandByObject(n)}),isFinite(t.min.x)&&isFinite(t.min.y)&&isFinite(t.min.z)&&isFinite(t.max.x)&&isFinite(t.max.y)&&isFinite(t.max.z)&&i.push(new H(t.min.x,t.min.y,t.min.z),new H(t.max.x,t.max.y,t.max.z));const s=new It().setFromPoints(i);if(s.computeBoundingSphere(),s.computeBoundingBox(),!s.boundingBox){console.error("Failed to get scene bounding box");return}this.controls.fitToBox(s.boundingBox,!1)}getScreenShot(i){let t=!0;i!==void 0&&(t=i);try{this.render();const s=this.renderer.domElement.toDataURL("image/png");if(t){const n=document.createElement("a");return n.href=s,n.download="pointscene_"+Date.now()+".png",n.style.display="none",document.body.appendChild(n),n.click(),setTimeout(function(){document.body.removeChild(n)},1e3),!0}else return s}catch(s){return console.warn("Error saving screenshot",s),!1}}setClipMode(i){!this.modules||this.modules.pointclouds&&this.modules.pointclouds.setClipMode(i)}setCameraMode(i){switch(i){case"orthographic":console.log("set orthographic"),this.camera=this.orthoCamera;break;case"perspective":console.log("set perspective"),this.camera=this.perspectiveCamera;break}this.controls.camera=this.camera}setClippingPlanes(i){this.renderer.clippingPlanes=i,this.renderer.localClippingEnabled=!1}render(){this.freezeAnimate||this.modules&&this.modules.render()}update(){if(this.freezeAnimate)return;const i=this.clock.getDelta();this.camControls.update(i);let t;this.controls.distance&&this.camControls.allowOrbitWalkAutoChange&&(this.controls.distance>this.prevControlDistance?t="out":t="in",this.prevControlDistance=this.controls.distance),t&&t==="in"&&this.controls.distance<this.camControls.fpsMaxDistance+.2&&this.camControls.mode===Ci.Orbit?this.camControls.setFirstPersonMode(!1,!1):t&&this.controls.distance>this.camControls.fpsMaxDistance-.2&&this.camControls.mode===Ci.FirstPerson&&this.camControls.setOrbitMode(!1,!1),this.modules&&this.modules.update(i)}animate(){this.stats&&this.stats.begin(),requestAnimationFrame(this.animate.bind(this)),this.update(),this.render(),this.stats&&this.stats.end()}start(){console.log("Pointscene.js",BP,"(c) 3point Ltd"),this.animate()}}const ZG=e=>new yG({domEl:e.domEl,showStats:e.showStats||!1,preserveDrawingBuffer:e.preserveDrawingBuffer||!1,referenceFrame:e.referenceFrame}),sD=(e,i,t,s="XYZ",n=[1,0,0,0,1,0,0,0,1])=>{if(n.length!==9)throw new Error("Transformation must be an column-major array defining a 3x3 matrix");const r=new mn(e,i,t,s),l=new _e().makeRotationFromEuler(r),a=new Es().setFromMatrix4(l),o=new Es().fromArray(n);a.multiply(o);const c=new _e().setFromMatrix3(a),h=new Ls().setFromRotationMatrix(c);return{x:h.x,y:h.y,z:h.z,w:h.w}},iD=(e,i,t,s)=>new mi(new H(e,i,t),s);class nD{projectedRadius(i,t,s,n){let r=1/Math.tan(t/2)/s;return r=r*n/2,i*r}lineSegmentIntersection2D(i,t,s,n){function l(c,h,u){return c-1e-7<=h&&h<=u+1e-7}function a(c,h,u,d,p,G,g,I){const X=((c*d-h*u)*(p-g)-(c-u)*(p*I-G*g))/((c-u)*(G-I)-(h-d)*(p-g)),S=((c*d-h*u)*(G-I)-(h-d)*(p*I-G*g))/((c-u)*(G-I)-(h-d)*(p-g));if(isNaN(X)||isNaN(S))return!1;if(c>=u){if(!l(u,X,c))return!1}else if(!l(c,X,u))return!1;if(h>=d){if(!l(d,S,h))return!1}else if(!l(h,S,d))return!1;if(p>=g){if(!l(g,X,p))return!1}else if(!l(p,X,g))return!1;if(G>=I){if(!l(I,S,G))return!1}else if(!l(G,S,I))return!1;return{x:X,y:S}}return a(i.x,i.y,t.x,t.y,s.x,s.y,n.x,n.y)!==!1}lineLineIntersection2D(i,t,s,n){const r=function(l,a,o){return(o.y-l.y)*(a.x-l.x)>(a.y-l.y)*(o.x-l.x)};return r(i,s,n)!==r(t,s,n)&&r(i,t,s)!==r(i,t,n)}pointInPolygon2D(i,t){let s,n,r=!1;for(s=0,n=i.length-1;s<i.length;n=s++)i[s].y>t.y!=i[n].y>t.y&&t.x<(i[n].x-i[s].x)*(t.y-i[s].y)/(i[n].y-i[s].y)+i[s].x&&(r=!r);return r}almostEquals(i,t,s,n){return n=n||!1,n&&i<0&&(i*=-1),s=s||Number.EPSILON,i>t-s&&i<=t+s}getMiddlePoint(i,t){return i.clone().lerp(t,.5)}getLineIntersectionXY(i,t,s,n){const r=Number.EPSILON,l=(i.x-t.x)*(s.y-n.y)-(i.y-t.y)*(s.x-n.x);if(l<r&&l>=-r)return;const a=i.x*t.y-i.y*t.x,o=s.x*n.y-s.y*n.x;let c=a*(s.x-n.x)-(i.x-t.x)*o;c/=l;let h=a*(s.y-n.y)-(i.y-t.y)*o;return h/=l,new H(c,h,0)}arrayToMatrix(i,t){t=t||3;const s=i.length/t,n=[];for(let r=0;r<s;r++){const l=r*t;n.push([i[l+0],i[l+1],i[l+2]])}return n}typedToArray(i,t){t=t||3;const s=i.length/t,n=[];for(const r=0;r<s;r+t)n.push(i[r+0]),n.push(i[r+1]),n.push(i[r+2]);return n}arrayToTyped(i){const t=i[0].length,s=i.length,n=new Float32Array(t*s);for(let r=0;r<s;r++)n[r*t+0]=i[r][0],n[r*t+1]=i[r][1],n[r*t+2]=i[r][2];return n}flipNormal(i,t,s){return t=t||new H(0,0,0),s=s||new H(0,0,Number.MAX_VALUE),new H(s.x-t.x,s.y-t.y,s.z-t.z).clone().dot(i)<0&&i.multiplyScalar(-1),i}getPlaneNormal(i){const t=this.getCentroid(i);for(let r=0;r<i.length;r++)i[r][0]-=t[0],i[r][1]-=t[1],i[r][2]-=t[2];const s=this.getSVD(i);return new H(s.V[2][0],s.V[2][1],s.V[2][2])}getCentroid(i){let t=0,s=0,n=0;const r=i.length;for(let l=0;l<r;l++){const a=i[l];t+=a[0],s+=a[1],n+=a[2]}return[t/r,s/r,n/r]}rep(i,t,s){typeof s>"u"&&(s=0);const n=i[s],r=Array(n);let l;if(s===i.length-1){for(l=n-2;l>=0;l-=2)r[l+1]=t,r[l]=t;return l===-1&&(r[0]=t),r}for(l=n-1;l>=0;l--)r[l]=this.rep(i,t,s+1);return r}getSVD(i){let t=2220446049250313e-31;const s=1e-64/t,n=50;let r=0,l=0,a=0,o=0,c=0;const h=i,u=h.length,d=h[0].length;if(u<d)throw new Error("Need more rows than columns");const p=new Array(d),G=new Array(d);for(l=0;l<d;l++)p[l]=G[l]=0;const g=this.rep([d,d],0);function I(K,q){return K=Math.abs(K),q=Math.abs(q),K>q?K*Math.sqrt(1+q*q/K/K):q===0?K:q*Math.sqrt(1+K*K/q/q)}let X=0,S=0,x=0,v=0,L=0,M=0,E=0;for(l=0;l<d;l++){for(p[l]=S,E=0,c=l+1,a=l;a<u;a++)E+=h[a][l]*h[a][l];if(E<=s)S=0;else for(X=h[l][l],S=Math.sqrt(E),X>=0&&(S=-S),x=X*S-E,h[l][l]=X-S,a=c;a<d;a++){for(E=0,o=l;o<u;o++)E+=h[o][l]*h[o][a];for(X=E/x,o=l;o<u;o++)h[o][a]+=X*h[o][l]}for(G[l]=S,E=0,a=c;a<d;a++)E+=h[l][a]*h[l][a];if(E<=s)S=0;else{for(X=h[l][l+1],S=Math.sqrt(E),X>=0&&(S=-S),x=X*S-E,h[l][l+1]=X-S,a=c;a<d;a++)p[a]=h[l][a]/x;for(a=c;a<u;a++){for(E=0,o=c;o<d;o++)E+=h[a][o]*h[l][o];for(o=c;o<d;o++)h[a][o]+=E*p[o]}}L=Math.abs(G[l])+Math.abs(p[l]),L>v&&(v=L)}for(l=d-1;l!==-1;l+=-1){if(S!==0){for(x=S*h[l][l+1],a=c;a<d;a++)g[a][l]=h[l][a]/x;for(a=c;a<d;a++){for(E=0,o=c;o<d;o++)E+=h[l][o]*g[o][a];for(o=c;o<d;o++)g[o][a]+=E*g[o][l]}}for(a=c;a<d;a++)g[l][a]=0,g[a][l]=0;g[l][l]=1,S=p[l],c=l}for(l=d-1;l!==-1;l+=-1){for(c=l+1,S=G[l],a=c;a<d;a++)h[l][a]=0;if(S!==0){for(x=h[l][l]*S,a=c;a<d;a++){for(E=0,o=c;o<u;o++)E+=h[o][l]*h[o][a];for(X=E/x,o=l;o<u;o++)h[o][a]+=X*h[o][l]}for(a=l;a<u;a++)h[a][l]/=S}else for(a=l;a<u;a++)h[a][l]=0;h[l][l]+=1}for(t*=v,o=d-1;o!==-1;o+=-1)for(let K=0;K<n;K++){let q=!1;for(c=o;c!==-1;c+=-1){if(Math.abs(p[c])<=t){q=!0;break}if(Math.abs(G[c-1])<=t)break}if(!q){r=0,E=1;const Q=c-1;for(l=c;l<o+1&&(X=E*p[l],p[l]*=r,!(Math.abs(X)<=t));l++)for(S=G[l],x=I(X,S),G[l]=x,r=S/x,E=-X/x,a=0;a<u;a++)L=h[a][Q],M=h[a][l],h[a][Q]=L*r+M*E,h[a][l]=-L*E+M*r}if(M=G[o],c===o){if(M<0)for(G[o]=-M,a=0;a<d;a++)g[a][o]=-g[a][o];break}if(K>=n-1)throw new Error("Error: no convergence.");for(v=G[c],L=G[o-1],S=p[o-1],x=p[o],X=((L-M)*(L+M)+(S-x)*(S+x))/(2*x*L),S=I(X,1),X<0?X=((v-M)*(v+M)+x*(L/(X-S)-x))/v:X=((v-M)*(v+M)+x*(L/(X+S)-x))/v,r=1,E=1,l=c+1;l<o+1;l++){for(S=p[l],L=G[l],x=E*S,S*=r,M=I(X,x),p[l-1]=M,r=X/M,E=x/M,X=v*r+S*E,S=-v*E+S*r,x=L*E,L*=r,a=0;a<d;a++)v=g[a][l-1],M=g[a][l],g[a][l-1]=v*r+M*E,g[a][l]=-v*E+M*r;for(M=I(X,x),G[l-1]=M,r=X/M,E=x/M,X=r*S+E*L,v=-E*S+r*L,a=0;a<u;a++)L=h[a][l-1],M=h[a][l],h[a][l-1]=L*r+M*E,h[a][l]=-L*E+M*r}p[c]=0,p[o]=X,G[o]=v}for(l=0;l<G.length;l++)G[l]<t&&(G[l]=0);for(l=0;l<d;l++)for(a=l-1;a>=0;a--)if(G[a]<G[l]){for(r=G[a],G[a]=G[l],G[l]=r,o=0;o<h.length;o++){const K=h[o][l];h[o][l]=h[o][a],h[o][a]=K}for(o=0;o<g.length;o++){const K=g[o][l];g[o][l]=g[o][a],g[o][a]=K}l=a}return{U:h,S:G,V:g}}}class rD extends zt{constructor(){super();const i=new Ss;i.minFilter=us,i.magFilter=us;const t=new sh({map:i,depthTest:!0,depthWrite:!0});this.material=t,this.sprite=new P0(t),this.add(this.sprite),this.borderThickness=0,this.fontface="Open Sans",this.fontsize=24,this.borderColor={r:255,g:255,b:255,a:1},this.backgroundColor={r:255,g:255,b:255,a:1},this.textColor={r:255,g:255,b:255,a:1},this.text=""}setText(i){this.text!==i&&(this.text=i,this.update())}setTextColor(i){this.textColor=i,this.update()}setBorderColor(i){this.borderColor=i,this.update()}setBackgroundColor(i){this.backgroundColor=i,this.update()}update(){let i=document.createElement("canvas"),t=i.getContext("2d");if(!t)return;t.font=this.fontsize+"px "+this.fontface;const n=t.measureText(this.text).width,r=4,l=2*r+n+2*this.borderThickness,a=this.fontsize*1.4+2*this.borderThickness;if(i=document.createElement("canvas"),t=i.getContext("2d"),!t)return;t.canvas.width=l,t.canvas.height=a,t.font=this.fontsize+"px "+this.fontface,t.fillStyle="rgba("+this.backgroundColor.r+","+this.backgroundColor.g+","+this.backgroundColor.b+","+this.backgroundColor.a+")",t.strokeStyle="rgba("+this.borderColor.r+","+this.borderColor.g+","+this.borderColor.b+","+this.borderColor.a+")",t.lineWidth=this.borderThickness,this.roundRect(t,this.borderThickness/2,this.borderThickness/2,n+this.borderThickness+2*r,this.fontsize*1.4+this.borderThickness,0),t.strokeStyle="rgba(255, 255, 255, 1.0)",t.strokeText(this.text,this.borderThickness+r,this.fontsize+this.borderThickness),t.fillStyle="rgba("+this.textColor.r+","+this.textColor.g+","+this.textColor.b+","+this.textColor.a+")",t.fillText(this.text,this.borderThickness+r,this.fontsize+this.borderThickness);const o=new Ss(i);o.minFilter=Ms,o.magFilter=Ms,o.needsUpdate=!0,this.sprite.material.map=o,this.sprite.scale.set(l*.01,a*.01,1)}roundRect(i,t,s,n,r,l){i.beginPath(),i.moveTo(t+l,s),i.lineTo(t+n-l,s),i.quadraticCurveTo(t+n,s,t+n,s+l),i.lineTo(t+n,s+r-l),i.quadraticCurveTo(t+n,s+r,t+n-l,s+r),i.lineTo(t+l,s+r),i.quadraticCurveTo(t,s+r,t,s+r-l),i.lineTo(t,s+l),i.quadraticCurveTo(t,s,t+l,s),i.closePath(),i.fill(),i.stroke()}}class lD{getPotreeProfileFromBBox(i){let t;if(i instanceof is){let I;parseInt(Ai,10)<102?I=i.getSize():(I=new H,i.getSize(I));const X=new Jl(I.x,I.y,I.z),S=new pr;t=new ns(X,S);let x;parseInt(Ai,10)<102?x=i.getCenter():(x=new H,i.getCenter(x)),t.position.set(x.x,x.y,x.z)}else t=i;const s={};s.points=[],s.width=1;const n=t.quaternion.clone();t.rotation.set(0,0,0);const r=i instanceof zt?new is().setFromObject(t):i;let l;parseInt(Ai,10)<102?l=r.getSize():(l=new H,r.getSize(l));const a=l.x,o=l.z;let c;parseInt(Ai,10)<102?c=r.getCenter():(c=new H,r.getCenter(c));const h=new H(0,0,o/2),u=new H(0,0,-o/2),d=new H(0,l.y/2,0),p=new H(0,-l.y/2,0);h.applyQuaternion(n),u.applyQuaternion(n),h.add(c),u.add(c),d.add(c),p.add(c);const G=h,g=u;return s.points.push(G),s.points.push(g),s.start=G,s.end=g,s.width=a,s.top=d,s.bottom=p,s}}function GG(e,i=new ie("#ffffff")){const t=e.map(l=>new H(l[0],l[1],l[2])),s=new It().setFromPoints(t),n=new yn({color:i});return new qr(s,n)}function gG(e,i,t=new ie("#eeeeee"),s,n,r={}){const l=(p,G,g)=>{p[G+0]=g[0],p[G+1]=g[1],p[G+2]=g[2]},a=new Float32Array(i.length*3*3),o=new Float32Array(i.length*3*3),c=new Float32Array(i.length*3*3);for(let p=0;p<i.length;p++){const G=p*3*3,g=i[p],I=e[g[0]],X=e[g[1]],S=e[g[2]];if(l(a,G+0,I),l(a,G+3,X),l(a,G+6,S),typeof s<"u"){const x=s[g[0]],v=s[g[1]],L=s[g[2]];l(c,G+0,x),l(c,G+3,v),l(c,G+6,L)}}const h=new It;h.setAttribute("position",new Nt(a,3)),h.setAttribute("normal",new Nt(o,3)),typeof s<"u"&&h.setAttribute("color",new Nt(c,3)),h.computeBoundingBox(),h.computeBoundingSphere(),h.computeVertexNormals();const u=typeof n<"u"?n:new Jd({color:t,flatShading:!0,side:pi}),d=new ns(h,u);return d.userData.isPickable=!!r.isPickable,d.userData.isInteractive=!!r.isInteractive,d.updateMatrixWorld(),d}const TG=0,aD=1,oD=2,IG=2,Vp=1.25,RG=1,wh=6*4+4+4,Lp=65535,cD=Math.pow(2,-24);class Hh{constructor(){}}function Vn(e,i,t){return t.min.x=i[e],t.min.y=i[e+1],t.min.z=i[e+2],t.max.x=i[e+3],t.max.y=i[e+4],t.max.z=i[e+5],t}function fG(e){let i=-1,t=-1/0;for(let s=0;s<3;s++){const n=e[s+3]-e[s];n>t&&(t=n,i=s)}return i}function XG(e,i){i.set(e)}function WG(e,i,t){let s,n;for(let r=0;r<3;r++){const l=r+3;s=e[r],n=i[r],t[r]=s<n?s:n,s=e[l],n=i[l],t[l]=s>n?s:n}}function Ph(e,i,t){for(let s=0;s<3;s++){const n=i[e+2*s],r=i[e+2*s+1],l=n-r,a=n+r;l<t[s]&&(t[s]=l),a>t[s+3]&&(t[s+3]=a)}}function Oo(e){const i=e[3]-e[0],t=e[4]-e[1],s=e[5]-e[2];return 2*(i*t+t*s+s*i)}function hD(e,i){if(!e.index){const t=e.attributes.position.count,s=i.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;let n;t>65535?n=new Uint32Array(new s(4*t)):n=new Uint16Array(new s(2*t)),e.setIndex(new Nt(n,1));for(let r=0;r<t;r++)n[r]=r}}function uD(e){if(!e.groups||!e.groups.length)return[{offset:0,count:e.index.count/3}];const i=[],t=new Set;for(const n of e.groups)t.add(n.start),t.add(n.start+n.count);const s=Array.from(t.values()).sort((n,r)=>n-r);for(let n=0;n<s.length-1;n++){const r=s[n],l=s[n+1];i.push({offset:r/3,count:(l-r)/3})}return i}function Fp(e,i,t,s,n=null){let r=1/0,l=1/0,a=1/0,o=-1/0,c=-1/0,h=-1/0,u=1/0,d=1/0,p=1/0,G=-1/0,g=-1/0,I=-1/0;const X=n!==null;for(let S=i*6,x=(i+t)*6;S<x;S+=6){const v=e[S+0],L=e[S+1],M=v-L,E=v+L;M<r&&(r=M),E>o&&(o=E),X&&v<u&&(u=v),X&&v>G&&(G=v);const K=e[S+2],q=e[S+3],Q=K-q,w=K+q;Q<l&&(l=Q),w>c&&(c=w),X&&K<d&&(d=K),X&&K>g&&(g=K);const j=e[S+4],pe=e[S+5],se=j-pe,oe=j+pe;se<a&&(a=se),oe>h&&(h=oe),X&&j<p&&(p=j),X&&j>I&&(I=j)}s[0]=r,s[1]=l,s[2]=a,s[3]=o,s[4]=c,s[5]=h,X&&(n[0]=u,n[1]=d,n[2]=p,n[3]=G,n[4]=g,n[5]=I)}function dD(e,i,t,s){let n=1/0,r=1/0,l=1/0,a=-1/0,o=-1/0,c=-1/0;for(let h=i*6,u=(i+t)*6;h<u;h+=6){const d=e[h+0];d<n&&(n=d),d>a&&(a=d);const p=e[h+2];p<r&&(r=p),p>o&&(o=p);const G=e[h+4];G<l&&(l=G),G>c&&(c=G)}s[0]=n,s[1]=r,s[2]=l,s[3]=a,s[4]=o,s[5]=c}function pD(e,i,t,s,n){let r=t,l=t+s-1;const a=n.pos,o=n.axis*2;for(;;){for(;r<=l&&i[r*6+o]<a;)r++;for(;r<=l&&i[l*6+o]>=a;)l--;if(r<l){for(let c=0;c<3;c++){let h=e[r*3+c];e[r*3+c]=e[l*3+c],e[l*3+c]=h;let u=i[r*6+c*2+0];i[r*6+c*2+0]=i[l*6+c*2+0],i[l*6+c*2+0]=u;let d=i[r*6+c*2+1];i[r*6+c*2+1]=i[l*6+c*2+1],i[l*6+c*2+1]=d}r++,l--}else return r}}const qn=32,mD=(e,i)=>e.candidate-i.candidate,Lr=new Array(qn).fill().map(()=>({count:0,bounds:new Float32Array(6),rightCacheBounds:new Float32Array(6),leftCacheBounds:new Float32Array(6),candidate:0})),zh=new Float32Array(6);function bD(e,i,t,s,n,r){let l=-1,a=0;if(r===TG)l=fG(i),l!==-1&&(a=(i[l]+i[l+3])/2);else if(r===aD)l=fG(e),l!==-1&&(a=yD(t,s,n,l));else if(r===oD){const o=Oo(e);let c=Vp*n;const h=s*6,u=(s+n)*6;for(let d=0;d<3;d++){const p=i[d],I=(i[d+3]-p)/qn;if(n<qn/4){const X=[...Lr];X.length=n;let S=0;for(let v=h;v<u;v+=6,S++){const L=X[S];L.candidate=t[v+2*d],L.count=0;const{bounds:M,leftCacheBounds:E,rightCacheBounds:K}=L;for(let q=0;q<3;q++)K[q]=1/0,K[q+3]=-1/0,E[q]=1/0,E[q+3]=-1/0,M[q]=1/0,M[q+3]=-1/0;Ph(v,t,M)}X.sort(mD);let x=n;for(let v=0;v<x;v++){const L=X[v];for(;v+1<x&&X[v+1].candidate===L.candidate;)X.splice(v+1,1),x--}for(let v=h;v<u;v+=6){const L=t[v+2*d];for(let M=0;M<x;M++){const E=X[M];L>=E.candidate?Ph(v,t,E.rightCacheBounds):(Ph(v,t,E.leftCacheBounds),E.count++)}}for(let v=0;v<x;v++){const L=X[v],M=L.count,E=n-L.count,K=L.leftCacheBounds,q=L.rightCacheBounds;let Q=0;M!==0&&(Q=Oo(K)/o);let w=0;E!==0&&(w=Oo(q)/o);const j=RG+Vp*(Q*M+w*E);j<c&&(l=d,c=j,a=L.candidate)}}else{for(let x=0;x<qn;x++){const v=Lr[x];v.count=0,v.candidate=p+I+x*I;const L=v.bounds;for(let M=0;M<3;M++)L[M]=1/0,L[M+3]=-1/0}for(let x=h;x<u;x+=6){let M=~~((t[x+2*d]-p)/I);M>=qn&&(M=qn-1);const E=Lr[M];E.count++,Ph(x,t,E.bounds)}const X=Lr[qn-1];XG(X.bounds,X.rightCacheBounds);for(let x=qn-2;x>=0;x--){const v=Lr[x],L=Lr[x+1];WG(v.bounds,L.rightCacheBounds,v.rightCacheBounds)}let S=0;for(let x=0;x<qn-1;x++){const v=Lr[x],L=v.count,M=v.bounds,K=Lr[x+1].rightCacheBounds;L!==0&&(S===0?XG(M,zh):WG(M,zh,zh)),S+=L;let q=0,Q=0;S!==0&&(q=Oo(zh)/o);const w=n-S;w!==0&&(Q=Oo(K)/o);const j=RG+Vp*(q*S+Q*w);j<c&&(l=d,c=j,a=v.candidate)}}}}else console.warn(`MeshBVH: Invalid build strategy value ${r} used.`);return{axis:l,pos:a}}function yD(e,i,t,s){let n=0;for(let r=i,l=i+t;r<l;r++)n+=e[r*6+s*2];return n/t}function ZD(e,i){const t=e.attributes.position,s=t.array,n=e.index.array,r=n.length/3,l=new Float32Array(r*6),a=t.offset||0;let o=3;t.isInterleavedBufferAttribute&&(o=t.data.stride);for(let c=0;c<r;c++){const h=c*3,u=c*6,d=n[h+0]*o+a,p=n[h+1]*o+a,G=n[h+2]*o+a;for(let g=0;g<3;g++){const I=s[d+g],X=s[p+g],S=s[G+g];let x=I;X<x&&(x=X),S<x&&(x=S);let v=I;X>v&&(v=X),S>v&&(v=S);const L=(v-x)/2,M=g*2;l[u+M+0]=x+L,l[u+M+1]=L+(Math.abs(x)+L)*cD,x<i[g]&&(i[g]=x),v>i[g+3]&&(i[g+3]=v)}}return l}function GD(e,i){function t(X){d&&d(X/p)}function s(X,S,x,v=null,L=0){if(!G&&L>=o&&(G=!0,c&&(console.warn(`MeshBVH: Max depth of ${o} reached when generating BVH. Consider increasing maxDepth.`),console.warn(e))),x<=h||L>=o)return t(S+x),X.offset=S,X.count=x,X;const M=bD(X.boundingData,v,l,S,x,u);if(M.axis===-1)return t(S+x),X.offset=S,X.count=x,X;const E=pD(a,l,S,x,M);if(E===S||E===S+x)t(S+x),X.offset=S,X.count=x;else{X.splitAxis=M.axis;const K=new Hh,q=S,Q=E-S;X.left=K,K.boundingData=new Float32Array(6),Fp(l,q,Q,K.boundingData,r),s(K,q,Q,r,L+1);const w=new Hh,j=E,pe=x-Q;X.right=w,w.boundingData=new Float32Array(6),Fp(l,j,pe,w.boundingData,r),s(w,j,pe,r,L+1)}return X}hD(e,i);const n=new Float32Array(6),r=new Float32Array(6),l=ZD(e,n),a=e.index.array,o=i.maxDepth,c=i.verbose,h=i.maxLeafTris,u=i.strategy,d=i.onProgress,p=e.index.count/3;let G=!1;const g=[],I=uD(e);if(I.length===1){const X=I[0],S=new Hh;S.boundingData=n,dD(l,X.offset,X.count,r),s(S,X.offset,X.count,r),g.push(S)}else for(let X of I){const S=new Hh;S.boundingData=new Float32Array(6),Fp(l,X.offset,X.count,S.boundingData,r),s(S,X.offset,X.count,r),g.push(S)}return g}function gD(e,i){const t=GD(e,i);let s,n,r;const l=[],a=i.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;for(let h=0;h<t.length;h++){const u=t[h];let d=o(u);const p=new a(wh*d);s=new Float32Array(p),n=new Uint32Array(p),r=new Uint16Array(p),c(0,u),l.push(p)}return l;function o(h){return h.count?1:1+o(h.left)+o(h.right)}function c(h,u){const d=h/4,p=h/2,G=!!u.count,g=u.boundingData;for(let I=0;I<6;I++)s[d+I]=g[I];if(G){const I=u.offset,X=u.count;return n[d+6]=I,r[p+14]=X,r[p+15]=Lp,h+wh}else{const I=u.left,X=u.right,S=u.splitAxis;let x;if(x=c(h+wh,I),x/4>Math.pow(2,32))throw new Error("MeshBVH: Cannot store child pointer greater than 32 bits.");return n[d+6]=x/4,x=c(x,X),n[d+7]=S,x}}}class Ln{constructor(){this.min=1/0,this.max=-1/0}setFromPointsField(i,t){let s=1/0,n=-1/0;for(let r=0,l=i.length;r<l;r++){const o=i[r][t];s=o<s?o:s,n=o>n?o:n}this.min=s,this.max=n}setFromPoints(i,t){let s=1/0,n=-1/0;for(let r=0,l=t.length;r<l;r++){const a=t[r],o=i.dot(a);s=o<s?o:s,n=o>n?o:n}this.min=s,this.max=n}isSeparated(i){return this.min>i.max||i.min>this.max}}Ln.prototype.setFromBox=function(){const e=new H;return function(t,s){const n=s.min,r=s.max;let l=1/0,a=-1/0;for(let o=0;o<=1;o++)for(let c=0;c<=1;c++)for(let h=0;h<=1;h++){e.x=n.x*o+r.x*(1-o),e.y=n.y*c+r.y*(1-c),e.z=n.z*h+r.z*(1-h);const u=t.dot(e);l=Math.min(u,l),a=Math.max(u,a)}this.min=l,this.max=a}}(),function(){const e=new Ln;return function(t,s){const n=t.points,r=t.satAxes,l=t.satBounds,a=s.points,o=s.satAxes,c=s.satBounds;for(let h=0;h<3;h++){const u=l[h],d=r[h];if(e.setFromPoints(d,a),u.isSeparated(e))return!1}for(let h=0;h<3;h++){const u=c[h],d=o[h];if(e.setFromPoints(d,n),u.isSeparated(e))return!1}}}();const TD=function(){const e=new H,i=new H,t=new H;return function(n,r,l){const a=n.start,o=e,c=r.start,h=i;t.subVectors(a,c),e.subVectors(n.end,r.start),i.subVectors(r.end,r.start);const u=t.dot(h),d=h.dot(o),p=h.dot(h),G=t.dot(o),I=o.dot(o)*p-d*d;let X,S;I!==0?X=(u*d-G*p)/I:X=0,S=(u+X*d)/p,l.x=X,l.y=S}}(),Np=function(){const e=new Xe,i=new H,t=new H;return function(n,r,l,a){TD(n,r,e);let o=e.x,c=e.y;if(o>=0&&o<=1&&c>=0&&c<=1){n.at(o,l),r.at(c,a);return}else if(o>=0&&o<=1){c<0?r.at(0,a):r.at(1,a),n.closestPointToPoint(a,!0,l);return}else if(c>=0&&c<=1){o<0?n.at(0,l):n.at(1,l),r.closestPointToPoint(l,!0,a);return}else{let h;o<0?h=n.start:h=n.end;let u;c<0?u=r.start:u=r.end;const d=i,p=t;if(n.closestPointToPoint(u,!0,i),r.closestPointToPoint(h,!0,t),d.distanceToSquared(u)<=p.distanceToSquared(h)){l.copy(d),a.copy(u);return}else{l.copy(h),a.copy(p);return}}}}(),ID=function(){const e=new H,i=new H,t=new mi,s=new gn;return function(r,l){const{radius:a,center:o}=r,{a:c,b:h,c:u}=l;if(s.start=c,s.end=h,s.closestPointToPoint(o,!0,e).distanceTo(o)<=a||(s.start=c,s.end=u,s.closestPointToPoint(o,!0,e).distanceTo(o)<=a)||(s.start=h,s.end=u,s.closestPointToPoint(o,!0,e).distanceTo(o)<=a))return!0;const g=l.getPlane(t);if(Math.abs(g.distanceToPoint(o))<=a){const X=g.projectPoint(o,i);if(l.containsPoint(X))return!0}return!1}}();class $n extends Is{constructor(...i){super(...i);this.isSeparatingAxisTriangle=!0,this.satAxes=new Array(4).fill().map(()=>new H),this.satBounds=new Array(4).fill().map(()=>new Ln),this.points=[this.a,this.b,this.c],this.sphere=new qi,this.plane=new mi,this.needsUpdate=!1}intersectsSphere(i){return ID(i,this)}update(){const i=this.a,t=this.b,s=this.c,n=this.points,r=this.satAxes,l=this.satBounds,a=r[0],o=l[0];this.getNormal(a),o.setFromPoints(a,n);const c=r[1],h=l[1];c.subVectors(i,t),h.setFromPoints(c,n);const u=r[2],d=l[2];u.subVectors(t,s),d.setFromPoints(u,n);const p=r[3],G=l[3];p.subVectors(s,i),G.setFromPoints(p,n),this.sphere.setFromPoints(this.points),this.plane.setFromNormalAndCoplanarPoint(a,i),this.needsUpdate=!1}}$n.prototype.closestPointToSegment=function(){const e=new H,i=new H,t=new gn;return function(n,r=null,l=null){const{start:a,end:o}=n,c=this.points;let h,u=1/0;for(let d=0;d<3;d++){const p=(d+1)%3;t.start.copy(c[d]),t.end.copy(c[p]),Np(t,n,e,i),h=e.distanceToSquared(i),h<u&&(u=h,r&&r.copy(e),l&&l.copy(i))}return this.closestPointToPoint(a,e),h=a.distanceToSquared(e),h<u&&(u=h,r&&r.copy(e),l&&l.copy(a)),this.closestPointToPoint(o,e),h=o.distanceToSquared(e),h<u&&(u=h,r&&r.copy(e),l&&l.copy(o)),Math.sqrt(u)}}(),$n.prototype.intersectsTriangle=function(){const e=new $n,i=new Array(3),t=new Array(3),s=new Ln,n=new Ln,r=new H,l=new H,a=new H,o=new H,c=new gn,h=new gn,u=new gn;return function(p,G=null){this.needsUpdate&&this.update(),p.isSeparatingAxisTriangle?p.needsUpdate&&p.update():(e.copy(p),e.update(),p=e);const g=this.satBounds,I=this.satAxes;t[0]=p.a,t[1]=p.b,t[2]=p.c;for(let x=0;x<4;x++){const v=g[x],L=I[x];if(s.setFromPoints(L,t),v.isSeparated(s))return!1}const X=p.satBounds,S=p.satAxes;i[0]=this.a,i[1]=this.b,i[2]=this.c;for(let x=0;x<4;x++){const v=X[x],L=S[x];if(s.setFromPoints(L,i),v.isSeparated(s))return!1}for(let x=0;x<4;x++){const v=I[x];for(let L=0;L<4;L++){const M=S[L];if(r.crossVectors(v,M),s.setFromPoints(r,i),n.setFromPoints(r,t),s.isSeparated(n))return!1}}if(G){const x=this.plane,v=p.plane;if(Math.abs(x.normal.dot(v.normal))>1-1e-10)console.warn("SeparatingAxisTriangle.intersectsTriangle: Triangles are coplanar which does not support an output edge. Setting edge to 0, 0, 0."),G.start.set(0,0,0),G.end.set(0,0,0);else{const L=this.points;let M=!1;for(let q=0;q<3;q++){const Q=L[q],w=L[(q+1)%3];if(c.start.copy(Q),c.end.copy(w),v.intersectLine(c,M?h.start:h.end)){if(M)break;M=!0}}const E=p.points;let K=!1;for(let q=0;q<3;q++){const Q=E[q],w=E[(q+1)%3];if(c.start.copy(Q),c.end.copy(w),x.intersectLine(c,K?u.start:u.end)){if(K)break;K=!0}}if(h.delta(l),u.delta(a),l.dot(a)<0){let q=u.start;u.start=u.end,u.end=q}o.subVectors(h.start,u.start),o.dot(l)>0?G.start.copy(h.start):G.start.copy(u.start),o.subVectors(h.end,u.end),o.dot(l)<0?G.end.copy(h.end):G.end.copy(u.end)}}return!0}}(),$n.prototype.distanceToPoint=function(){const e=new H;return function(t){return this.closestPointToPoint(t,e),t.distanceTo(e)}}(),$n.prototype.distanceToTriangle=function(){const e=new H,i=new H,t=["a","b","c"],s=new gn,n=new gn;return function(l,a=null,o=null){const c=a||o?s:null;if(this.intersectsTriangle(l,c))return(a||o)&&(a&&c.getCenter(a),o&&c.getCenter(o)),0;let h=1/0;for(let u=0;u<3;u++){let d;const p=t[u],G=l[p];this.closestPointToPoint(G,e),d=G.distanceToSquared(e),d<h&&(h=d,a&&a.copy(e),o&&o.copy(G));const g=this[p];l.closestPointToPoint(g,e),d=g.distanceToSquared(e),d<h&&(h=d,a&&a.copy(g),o&&o.copy(e))}for(let u=0;u<3;u++){const d=t[u],p=t[(u+1)%3];s.set(this[d],this[p]);for(let G=0;G<3;G++){const g=t[G],I=t[(G+1)%3];n.set(l[g],l[I]),Np(s,n,e,i);const X=e.distanceToSquared(i);X<h&&(h=X,a&&a.copy(e),o&&o.copy(i))}}return Math.sqrt(h)}}();class Fn extends is{constructor(...i){super(...i);this.isOrientedBox=!0,this.matrix=new _e,this.invMatrix=new _e,this.points=new Array(8).fill().map(()=>new H),this.satAxes=new Array(3).fill().map(()=>new H),this.satBounds=new Array(3).fill().map(()=>new Ln),this.alignedSatBounds=new Array(3).fill().map(()=>new Ln),this.needsUpdate=!1}set(i,t,s){super.set(i,t),this.matrix=s,this.needsUpdate=!0}copy(i){super.copy(i),this.matrix.copy(i.matrix),this.needsUpdate=!0}}Fn.prototype.update=function(){return function(){const i=this.matrix,t=this.min,s=this.max,n=this.points;for(let c=0;c<=1;c++)for(let h=0;h<=1;h++)for(let u=0;u<=1;u++){const d=1*c|2*h|4*u,p=n[d];p.x=c?s.x:t.x,p.y=h?s.y:t.y,p.z=u?s.z:t.z,p.applyMatrix4(i)}const r=this.satBounds,l=this.satAxes,a=n[0];for(let c=0;c<3;c++){const h=l[c],u=r[c],d=1<<c,p=n[d];h.subVectors(a,p),u.setFromPoints(h,n)}const o=this.alignedSatBounds;o[0].setFromPointsField(n,"x"),o[1].setFromPointsField(n,"y"),o[2].setFromPointsField(n,"z"),this.invMatrix.copy(this.matrix).invert(),this.needsUpdate=!1}}(),Fn.prototype.intersectsBox=function(){const e=new Ln;return function(t){this.needsUpdate&&this.update();const s=t.min,n=t.max,r=this.satBounds,l=this.satAxes,a=this.alignedSatBounds;if(e.min=s.x,e.max=n.x,a[0].isSeparated(e)||(e.min=s.y,e.max=n.y,a[1].isSeparated(e))||(e.min=s.z,e.max=n.z,a[2].isSeparated(e)))return!1;for(let o=0;o<3;o++){const c=l[o],h=r[o];if(e.setFromBox(c,t),h.isSeparated(e))return!1}return!0}}(),Fn.prototype.intersectsTriangle=function(){const e=new $n,i=new Array(3),t=new Ln,s=new Ln,n=new H;return function(l){this.needsUpdate&&this.update(),l.isSeparatingAxisTriangle?l.needsUpdate&&l.update():(e.copy(l),e.update(),l=e);const a=this.satBounds,o=this.satAxes;i[0]=l.a,i[1]=l.b,i[2]=l.c;for(let d=0;d<3;d++){const p=a[d],G=o[d];if(t.setFromPoints(G,i),p.isSeparated(t))return!1}const c=l.satBounds,h=l.satAxes,u=this.points;for(let d=0;d<3;d++){const p=c[d],G=h[d];if(t.setFromPoints(G,u),p.isSeparated(t))return!1}for(let d=0;d<3;d++){const p=o[d];for(let G=0;G<4;G++){const g=h[G];if(n.crossVectors(p,g),t.setFromPoints(n,i),s.setFromPoints(n,u),t.isSeparated(s))return!1}}return!0}}(),Fn.prototype.closestPointToPoint=function(){return function(i,t){return this.needsUpdate&&this.update(),t.copy(i).applyMatrix4(this.invMatrix).clamp(this.min,this.max).applyMatrix4(this.matrix),t}}(),Fn.prototype.distanceToPoint=function(){const e=new H;return function(t){return this.closestPointToPoint(t,e),t.distanceTo(e)}}(),Fn.prototype.distanceToBox=function(){const e=["x","y","z"],i=new Array(12).fill().map(()=>new gn),t=new Array(12).fill().map(()=>new gn),s=new H,n=new H;return function(l,a=0,o=null,c=null){if(this.needsUpdate&&this.update(),this.intersectsBox(l))return(o||c)&&(l.getCenter(n),this.closestPointToPoint(n,s),l.closestPointToPoint(s,n),o&&o.copy(s),c&&c.copy(n)),0;const h=a*a,u=l.min,d=l.max,p=this.points;let G=1/0;for(let I=0;I<8;I++){const X=p[I];n.copy(X).clamp(u,d);const S=X.distanceToSquared(n);if(S<G&&(G=S,o&&o.copy(X),c&&c.copy(n),S<h))return Math.sqrt(S)}let g=0;for(let I=0;I<3;I++)for(let X=0;X<=1;X++)for(let S=0;S<=1;S++){const x=(I+1)%3,v=(I+2)%3,L=X<<x|S<<v,M=1<<I|X<<x|S<<v,E=p[L],K=p[M];i[g].set(E,K);const Q=e[I],w=e[x],j=e[v],pe=t[g],se=pe.start,oe=pe.end;se[Q]=u[Q],se[w]=X?u[w]:d[w],se[j]=S?u[j]:d[w],oe[Q]=d[Q],oe[w]=X?u[w]:d[w],oe[j]=S?u[j]:d[w],g++}for(let I=0;I<=1;I++)for(let X=0;X<=1;X++)for(let S=0;S<=1;S++){n.x=I?d.x:u.x,n.y=X?d.y:u.y,n.z=S?d.z:u.z,this.closestPointToPoint(n,s);const x=n.distanceToSquared(s);if(x<G&&(G=x,o&&o.copy(s),c&&c.copy(n),x<h))return Math.sqrt(x)}for(let I=0;I<12;I++){const X=i[I];for(let S=0;S<12;S++){const x=t[S];Np(X,x,s,n);const v=s.distanceToSquared(n);if(v<G&&(G=v,o&&o.copy(s),c&&c.copy(n),v<h))return Math.sqrt(v)}}return Math.sqrt(G)}}();const Uh=new H,kh=new H,Dh=new H,SG=new Xe,CG=new Xe,VG=new Xe,LG=new H;function RD(e,i,t,s,n,r){let l;return r===fi?l=e.intersectTriangle(s,t,i,!0,n):l=e.intersectTriangle(i,t,s,r!==pi,n),l===null?null:{distance:e.origin.distanceTo(n),point:n.clone()}}function fD(e,i,t,s,n,r,l){Uh.fromBufferAttribute(i,s),kh.fromBufferAttribute(i,n),Dh.fromBufferAttribute(i,r);const a=RD(e,Uh,kh,Dh,LG,l);if(a){t&&(SG.fromBufferAttribute(t,s),CG.fromBufferAttribute(t,n),VG.fromBufferAttribute(t,r),a.uv=Is.getUV(LG,Uh,kh,Dh,SG,CG,VG,new Xe));const o={a:s,b:n,c:r,normal:new H,materialIndex:0};Is.getNormal(Uh,kh,Dh,o.normal),a.face=o,a.faceIndex=s}return a}function FG(e,i,t,s,n){const r=s*3,l=e.index.getX(r),a=e.index.getX(r+1),o=e.index.getX(r+2),c=fD(t,e.attributes.position,e.attributes.uv,l,a,o,i);return c?(c.faceIndex=s,n&&n.push(c),c):null}function XD(e,i,t,s,n,r){for(let l=s,a=s+n;l<a;l++)FG(e,i,t,l,r)}function WD(e,i,t,s,n){let r=1/0,l=null;for(let a=s,o=s+n;a<o;a++){const c=FG(e,i,t,a);c&&c.distance<r&&(l=c,r=c.distance)}return l}function Jh(e,i,t){return e===null||(e.point.applyMatrix4(i.matrixWorld),e.distance=e.point.distanceTo(t.ray.origin),e.object=i,e.distance<t.near||e.distance>t.far)?null:e}function Nn(e,i,t,s){const n=e.a,r=e.b,l=e.c;let a=i,o=i+1,c=i+2;t&&(a=t.getX(i),o=t.getX(i+1),c=t.getX(i+2)),n.x=s.getX(a),n.y=s.getY(a),n.z=s.getZ(a),r.x=s.getX(o),r.y=s.getY(o),r.z=s.getZ(o),l.x=s.getX(c),l.y=s.getY(c),l.z=s.getZ(c)}function NG(e,i,t,s,n,r,l){const a=t.index,o=t.attributes.position;for(let c=e,h=i+e;c<h;c++)if(Nn(l,c*3,a,o),l.needsUpdate=!0,s(l,c,n,r))return!0;return!1}class xG{constructor(i){this._getNewPrimitive=i,this._primitives=[]}getPrimitive(){const i=this._primitives;return i.length===0?this._getNewPrimitive():i.pop()}releasePrimitive(i){this._primitives.push(i)}}function Fr(e,i){return i[e+15]===65535}function Xa(e,i){return i[e+6]}function Ao(e,i){return i[e+14]}function Bo(e){return e+8}function jo(e,i){return i[e+6]}function SD(e,i){return i[e+7]}function Tee(e){return e}const Wa=new is,Kh=new H,CD=["x","y","z"];function xp(e,i,t,s,n){let r=e*2,l=Sa,a=Nr,o=xr;if(Fr(r,a)){const h=Xa(e,o),u=Ao(r,a);XD(i,t,s,h,u,n)}else{const h=Bo(e);Oh(h,l,s,Kh)&&xp(h,i,t,s,n);const u=jo(e,o);Oh(u,l,s,Kh)&&xp(u,i,t,s,n)}}function vp(e,i,t,s){let n=e*2,r=Sa,l=Nr,a=xr;if(Fr(n,l)){const c=Xa(e,a),h=Ao(n,l);return WD(i,t,s,c,h)}else{const c=SD(e,a),h=CD[c],d=s.direction[h]>=0;let p,G;d?(p=Bo(e),G=jo(e,a)):(p=jo(e,a),G=Bo(e));const I=Oh(p,r,s,Kh)?vp(p,i,t,s):null;if(I){const x=I.point[h];if(d?x<=r[G+c]:x>=r[G+c+3])return I}const S=Oh(G,r,s,Kh)?vp(G,i,t,s):null;return I&&S?I.distance<=S.distance?I:S:I||S||null}}const VD=function(){let e,i;const t=[],s=new xG(()=>new is);return function(...l){e=s.getPrimitive(),i=s.getPrimitive(),t.push(e,i);const a=n(...l);s.releasePrimitive(e),s.releasePrimitive(i),t.pop(),t.pop();const o=t.length;return o>0&&(i=t[o-1],e=t[o-2]),a};function n(r,l,a,o,c=null,h=0,u=0){function d(x){let v=x*2,L=Nr,M=xr;for(;!Fr(v,L);)x=Bo(x),v=x*2;return Xa(x,M)}function p(x){let v=x*2,L=Nr,M=xr;for(;!Fr(v,L);)x=jo(x,M),v=x*2;return Xa(x,M)+Ao(v,L)}let G=r*2,g=Sa,I=Nr,X=xr;if(Fr(G,I)){const x=Xa(r,X),v=Ao(G,I);return Vn(r,g,e),o(x,v,!1,u,h+r,e)}else{const x=Bo(r),v=jo(r,X);let L=x,M=v,E,K,q,Q;if(c&&(q=e,Q=i,Vn(L,g,q),Vn(M,g,Q),E=c(q),K=c(Q),K<E)){L=v,M=x;const re=E;E=K,K=re,q=Q}q||(q=e,Vn(L,g,q));const w=Fr(L*2,I),j=a(q,w,E,u+1,h+L);let pe;if(j===IG){const re=d(L),Ze=p(L)-re;pe=o(re,Ze,!0,u+1,h+L,q)}else pe=j&&n(L,l,a,o,c,h,u+1);if(pe)return!0;Q=i,Vn(M,g,Q);const se=Fr(M*2,I),oe=a(Q,se,K,u+1,h+M);let le;if(oe===IG){const re=d(M),Ze=p(M)-re;le=o(re,Ze,!0,u+1,h+M,Q)}else le=oe&&n(M,l,a,o,c,h,u+1);return!!le}}}(),LD=function(){const e=new $n,i=new $n,t=new _e,s=new Fn,n=new Fn;return function r(l,a,o,c,h=null){let u=l*2,d=Sa,p=Nr,G=xr;if(h===null&&(o.boundingBox||o.computeBoundingBox(),s.set(o.boundingBox.min,o.boundingBox.max,c),h=s),Fr(u,p)){const I=a,X=I.index,S=I.attributes.position,x=o.index,v=o.attributes.position,L=Xa(l,G),M=Ao(u,p);if(t.copy(c).invert(),o.boundsTree)return Vn(l,d,n),n.matrix.copy(t),n.needsUpdate=!0,o.boundsTree.shapecast({intersectsBounds:K=>n.intersectsBox(K),intersectsTriangle:K=>{K.a.applyMatrix4(c),K.b.applyMatrix4(c),K.c.applyMatrix4(c),K.needsUpdate=!0;for(let q=L*3,Q=(M+L)*3;q<Q;q+=3)if(Nn(i,q,X,S),i.needsUpdate=!0,K.intersectsTriangle(i))return!0;return!1}});for(let E=L*3,K=M+L*3;E<K;E+=3){Nn(e,E,X,S),e.a.applyMatrix4(t),e.b.applyMatrix4(t),e.c.applyMatrix4(t),e.needsUpdate=!0;for(let q=0,Q=x.count;q<Q;q+=3)if(Nn(i,q,x,v),i.needsUpdate=!0,e.intersectsTriangle(i))return!0}}else{const I=l+8,X=G[l+6];return Vn(I,d,Wa),!!(h.intersectsBox(Wa)&&r(I,a,o,c,h)||(Vn(X,d,Wa),h.intersectsBox(Wa)&&r(X,a,o,c,h)))}}}();function Oh(e,i,t,s){return Vn(e,i,Wa),t.intersectBox(Wa,s)}const Ep=[];let Ah,Sa,Nr,xr;function Qo(e){Ah&&Ep.push(Ah),Ah=e,Sa=new Float32Array(e),Nr=new Uint16Array(e),xr=new Uint32Array(e)}function Bh(){Ah=null,Sa=null,Nr=null,xr=null,Ep.length&&Qo(Ep.pop())}const Yp=Symbol("skip tree generation"),Mp=new is,wp=new is,Ca=new _e,al=new Fn,_o=new Fn,qo=new H,jh=new H,FD=new H,ND=new H,xD=new H,vG=new is,xn=new xG(()=>new $n);class Bs{static serialize(i,t={}){if(t.isBufferGeometry)return console.warn("MeshBVH.serialize: The arguments for the function have changed. See documentation for new signature."),Bs.serialize(arguments[0],{cloneBuffers:arguments[2]===void 0?!0:arguments[2]});t={cloneBuffers:!0,...t};const s=i.geometry,n=i._roots,r=s.getIndex();let l;return t.cloneBuffers?l={roots:n.map(a=>a.slice()),index:r.array.slice()}:l={roots:n,index:r.array},l}static deserialize(i,t,s={}){if(typeof s=="boolean")return console.warn("MeshBVH.deserialize: The arguments for the function have changed. See documentation for new signature."),Bs.deserialize(arguments[0],arguments[1],{setIndex:arguments[2]===void 0?!0:arguments[2]});s={setIndex:!0,...s};const{index:n,roots:r}=i,l=new Bs(t,{...s,[Yp]:!0});if(l._roots=r,s.setIndex){const a=t.getIndex();if(a===null){const o=new Nt(i.index,1,!1);t.setIndex(o)}else a.array!==n&&(a.array.set(n),a.needsUpdate=!0)}return l}constructor(i,t={}){if(i.isBufferGeometry){if(i.index&&i.index.isInterleavedBufferAttribute)throw new Error("MeshBVH: InterleavedBufferAttribute is not supported for the index attribute.")}else throw new Error("MeshBVH: Only BufferGeometries are supported.");if(t=Object.assign({strategy:TG,maxDepth:40,maxLeafTris:10,verbose:!0,useSharedArrayBuffer:!1,setBoundingBox:!0,onProgress:null,[Yp]:!1},t),t.useSharedArrayBuffer&&typeof SharedArrayBuffer>"u")throw new Error("MeshBVH: SharedArrayBuffer is not available.");this._roots=null,t[Yp]||(this._roots=gD(i,t),!i.boundingBox&&t.setBoundingBox&&(i.boundingBox=this.getBoundingBox(new is))),this.geometry=i}refit(i=null){i&&Array.isArray(i)&&(i=new Set(i));const t=this.geometry,s=t.index.array,n=t.attributes.position,r=n.array,l=n.offset||0;let a=3;n.isInterleavedBufferAttribute&&(a=n.data.stride);let o,c,h,u,d=0;const p=this._roots;for(let g=0,I=p.length;g<I;g++)o=p[g],c=new Uint32Array(o),h=new Uint16Array(o),u=new Float32Array(o),G(0,d),d+=o.byteLength;function G(g,I,X=!1){const S=g*2;if(h[S+15]===Lp){const v=c[g+6],L=h[S+14];let M=1/0,E=1/0,K=1/0,q=-1/0,Q=-1/0,w=-1/0;for(let j=3*v,pe=3*(v+L);j<pe;j++){const se=s[j]*a+l,oe=r[se+0],le=r[se+1],re=r[se+2];oe<M&&(M=oe),oe>q&&(q=oe),le<E&&(E=le),le>Q&&(Q=le),re<K&&(K=re),re>w&&(w=re)}return u[g+0]!==M||u[g+1]!==E||u[g+2]!==K||u[g+3]!==q||u[g+4]!==Q||u[g+5]!==w?(u[g+0]=M,u[g+1]=E,u[g+2]=K,u[g+3]=q,u[g+4]=Q,u[g+5]=w,!0):!1}else{const v=g+8,L=c[g+6],M=v+I,E=L+I;let K=X,q=!1,Q=!1;i?K||(q=i.has(M),Q=i.has(E),K=!q&&!Q):(q=!0,Q=!0);const w=K||q,j=K||Q;let pe=!1;w&&(pe=G(v,I,K));let se=!1;j&&(se=G(L,I,K));const oe=pe||se;if(oe)for(let le=0;le<3;le++){const re=v+le,ne=L+le,Ze=u[re],fe=u[re+3],ve=u[ne],Ce=u[ne+3];u[g+le]=Ze<ve?Ze:ve,u[g+le+3]=fe>Ce?fe:Ce}return oe}}}traverse(i,t=0){const s=this._roots[t],n=new Uint32Array(s),r=new Uint16Array(s);l(0);function l(a,o=0){const c=a*2,h=r[c+15]===Lp;if(h){const u=n[a+6],d=r[c+14];i(o,h,new Float32Array(s,a*4,6),u,d)}else{const u=a+wh/4,d=n[a+6],p=n[a+7];i(o,h,new Float32Array(s,a*4,6),p)||(l(u,o+1),l(d,o+1))}}}raycast(i,t=lr){const s=this._roots,n=this.geometry,r=[],l=t.isMaterial,a=Array.isArray(t),o=n.groups,c=l?t.side:t;for(let h=0,u=s.length;h<u;h++){const d=a?t[o[h].materialIndex].side:c,p=r.length;if(Qo(s[h]),xp(0,n,d,i,r),Bh(),a){const G=o[h].materialIndex;for(let g=p,I=r.length;g<I;g++)r[g].face.materialIndex=G}}return r}raycastFirst(i,t=lr){const s=this._roots,n=this.geometry,r=t.isMaterial,l=Array.isArray(t);let a=null;const o=n.groups,c=r?t.side:t;for(let h=0,u=s.length;h<u;h++){const d=l?t[o[h].materialIndex].side:c;Qo(s[h]);const p=vp(0,n,d,i);Bh(),p!=null&&(a==null||p.distance<a.distance)&&(a=p,l&&(p.face.materialIndex=o[h].materialIndex))}return a}intersectsGeometry(i,t){const s=this.geometry;let n=!1;for(const r of this._roots)if(Qo(r),n=LD(0,s,i,t),Bh(),n)break;return n}shapecast(i,t,s){const n=this.geometry;if(i instanceof Function){if(t){const d=t;t=(p,G,g,I)=>{const X=G*3;return d(p,X,X+1,X+2,g,I)}}i={boundsTraverseOrder:s,intersectsBounds:i,intersectsTriangle:t,intersectsRange:null},console.warn("MeshBVH: Shapecast function signature has changed and now takes an object of callbacks as a second argument. See docs for new signature.")}const r=xn.getPrimitive();let{boundsTraverseOrder:l,intersectsBounds:a,intersectsRange:o,intersectsTriangle:c}=i;if(o&&c){const d=o;o=(p,G,g,I,X)=>d(p,G,g,I,X)?!0:NG(p,G,n,c,g,I,r)}else o||(c?o=(d,p,G,g)=>NG(d,p,n,c,G,g,r):o=(d,p,G)=>G);let h=!1,u=0;for(const d of this._roots){if(Qo(d),h=VD(0,n,a,o,l,u),Bh(),h)break;u+=d.byteLength}return xn.releasePrimitive(r),h}bvhcast(i,t,s){let{intersectsRanges:n,intersectsTriangles:r}=s;const l=this.geometry.index,a=this.geometry.attributes.position,o=i.geometry.index,c=i.geometry.attributes.position;Ca.copy(t).invert();const h=xn.getPrimitive(),u=xn.getPrimitive();if(r){let p=function(G,g,I,X,S,x,v,L){for(let M=I,E=I+X;M<E;M++){Nn(u,M*3,o,c),u.a.applyMatrix4(t),u.b.applyMatrix4(t),u.c.applyMatrix4(t),u.needsUpdate=!0;for(let K=G,q=G+g;K<q;K++)if(Nn(h,K*3,l,a),h.needsUpdate=!0,r(h,u,K,M,S,x,v,L))return!0}return!1};if(n){const G=n;n=function(g,I,X,S,x,v,L,M){return G(g,I,X,S,x,v,L,M)?!0:p(g,I,X,S,x,v,L,M)}}else n=p}this.getBoundingBox(wp),wp.applyMatrix4(t);const d=this.shapecast({intersectsBounds:p=>wp.intersectsBox(p),intersectsRange:(p,G,g,I,X,S)=>(Mp.copy(S),Mp.applyMatrix4(Ca),i.shapecast({intersectsBounds:x=>Mp.intersectsBox(x),intersectsRange:(x,v,L,M,E)=>n(p,G,x,v,I,X,M,E)}))});return xn.releasePrimitive(h),xn.releasePrimitive(u),d}intersectsBox(i,t){return al.set(i.min,i.max,t),al.needsUpdate=!0,this.shapecast({intersectsBounds:s=>al.intersectsBox(s),intersectsTriangle:s=>al.intersectsTriangle(s)})}intersectsSphere(i){return this.shapecast({intersectsBounds:t=>i.intersectsBox(t),intersectsTriangle:t=>t.intersectsSphere(i)})}closestPointToGeometry(i,t,s={},n={},r=0,l=1/0){i.boundingBox||i.computeBoundingBox(),al.set(i.boundingBox.min,i.boundingBox.max,t),al.needsUpdate=!0;const a=this.geometry,o=a.attributes.position,c=a.index,h=i.attributes.position,u=i.index,d=xn.getPrimitive(),p=xn.getPrimitive();let G=jh,g=FD,I=null,X=null;n&&(I=ND,X=xD);let S=1/0,x=null,v=null;return Ca.copy(t).invert(),_o.matrix.copy(Ca),this.shapecast({boundsTraverseOrder:L=>al.distanceToBox(L,Math.min(S,l)),intersectsBounds:(L,M,E)=>E<S&&E<l?(M&&(_o.min.copy(L.min),_o.max.copy(L.max),_o.needsUpdate=!0),!0):!1,intersectsRange:(L,M)=>{if(i.boundsTree)return i.boundsTree.shapecast({boundsTraverseOrder:E=>_o.distanceToBox(E,Math.min(S,l)),intersectsBounds:(E,K,q)=>q<S&&q<l,intersectsRange:(E,K)=>{for(let q=E*3,Q=(E+K)*3;q<Q;q+=3){Nn(p,q,u,h),p.a.applyMatrix4(t),p.b.applyMatrix4(t),p.c.applyMatrix4(t),p.needsUpdate=!0;for(let w=L*3,j=(L+M)*3;w<j;w+=3){Nn(d,w,c,o),d.needsUpdate=!0;const pe=d.distanceToTriangle(p,G,I);if(pe<S&&(g.copy(G),X&&X.copy(I),S=pe,x=w/3,v=q/3),pe<r)return!0}}}});{const E=u?u.count:h.count;for(let K=0,q=E;K<q;K+=3){Nn(p,K,u,h),p.a.applyMatrix4(t),p.b.applyMatrix4(t),p.c.applyMatrix4(t),p.needsUpdate=!0;for(let Q=L*3,w=(L+M)*3;Q<w;Q+=3){Nn(d,Q,c,o),d.needsUpdate=!0;const j=d.distanceToTriangle(p,G,I);if(j<S&&(g.copy(G),X&&X.copy(I),S=j,x=Q/3,v=K/3),j<r)return!0}}}}}),xn.releasePrimitive(d),xn.releasePrimitive(p),S===1/0?null:(s.point?s.point.copy(g):s.point=g.clone(),s.distance=S,s.faceIndex=x,n&&(n.point?n.point.copy(X):n.point=X.clone(),n.point.applyMatrix4(Ca),g.applyMatrix4(Ca),n.distance=g.sub(n.point).length(),n.faceIndex=v),s)}closestPointToPoint(i,t={},s=0,n=1/0){const r=s*s,l=n*n;let a=1/0,o=null;if(this.shapecast({boundsTraverseOrder:h=>(qo.copy(i).clamp(h.min,h.max),qo.distanceToSquared(i)),intersectsBounds:(h,u,d)=>d<a&&d<l,intersectsTriangle:(h,u)=>{h.closestPointToPoint(i,qo);const d=i.distanceToSquared(qo);return d<a&&(jh.copy(qo),a=d,o=u),d<r}}),a===1/0)return null;const c=Math.sqrt(a);return t.point?t.point.copy(jh):t.point=jh.clone(),t.distance=c,t.faceIndex=o,t}getBoundingBox(i){return i.makeEmpty(),this._roots.forEach(s=>{Vn(0,new Float32Array(s),vG),i.union(vG)}),i}}const EG=Bs.prototype.raycast;Bs.prototype.raycast=function(...e){if(e[0].isMesh){console.warn('MeshBVH: The function signature and results frame for "raycast" has changed. See docs for new signature.');const[i,t,s,n]=e;return EG.call(this,s,i.material).forEach(l=>{l=Jh(l,i,t),l&&n.push(l)}),n}else return EG.apply(this,e)};const YG=Bs.prototype.raycastFirst;Bs.prototype.raycastFirst=function(...e){if(e[0].isMesh){console.warn('MeshBVH: The function signature and results frame for "raycastFirst" has changed. See docs for new signature.');const[i,t,s]=e;return Jh(YG.call(this,s,i.material),i,t)}else return YG.apply(this,e)};const MG=Bs.prototype.closestPointToPoint;Bs.prototype.closestPointToPoint=function(...e){if(e[0].isMesh){console.warn('MeshBVH: The function signature and results frame for "closestPointToPoint" has changed. See docs for new signature.'),e.unshift();const i=e[1],t={};return e[1]=t,MG.apply(this,e),i&&i.copy(t.point),t.distance}else return MG.apply(this,e)};const wG=Bs.prototype.closestPointToGeometry;Bs.prototype.closestPointToGeometry=function(...e){const i=e[2],t=e[3];if(i&&i.isVector3||t&&t.isVector3){console.warn('MeshBVH: The function signature and results frame for "closestPointToGeometry" has changed. See docs for new signature.');const s={},n={},r=e[1];return e[2]=s,e[3]=n,wG.apply(this,e),i&&i.copy(s.point),t&&t.copy(n.point).applyMatrix4(r),s.distance}else return wG.apply(this,e)};const HG=Bs.prototype.refit;Bs.prototype.refit=function(...e){const i=e[0],t=e[1];if(t&&(t instanceof Set||Array.isArray(t))){console.warn('MeshBVH: The function signature for "refit" has changed. See docs for new signature.');const s=new Set;t.forEach(n=>s.add(n)),i&&i.forEach(n=>s.add(n)),HG.call(this,s)}else HG.apply(this,e)},["intersectsGeometry","shapecast","intersectsBox","intersectsSphere"].forEach(e=>{const i=Bs.prototype[e];Bs.prototype[e]=function(...t){return(t[0]===null||t[0].isMesh)&&(t.shift(),console.warn(`MeshBVH: The function signature for "${e}" has changed and no longer takes Mesh. See docs for new signature.`)),i.apply(this,t)}});const Hp=new ur,PG=new _e,vD=ns.prototype.raycast;function ED(e,i){if(this.geometry.boundsTree){if(this.material===void 0)return;PG.copy(this.matrixWorld).invert(),Hp.copy(e.ray).applyMatrix4(PG);const t=this.geometry.boundsTree;if(e.firstHitOnly===!0){const s=Jh(t.raycastFirst(Hp,this.material),this,e);s&&i.push(s)}else{const s=t.raycast(Hp,this.material);for(let n=0,r=s.length;n<r;n++){const l=Jh(s[n],this,e);l&&i.push(l)}}}else vD.call(this,e,i)}function YD(e){return this.boundsTree=new Bs(this,e),this.boundsTree}function MD(){this.boundsTree=null}var wD=Object.defineProperty,zG=Object.getOwnPropertySymbols,HD=Object.prototype.hasOwnProperty,PD=Object.prototype.propertyIsEnumerable,UG=(e,i,t)=>i in e?wD(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,Qh=(e,i)=>{for(var t in i||(i={}))HD.call(i,t)&&UG(e,t,i[t]);if(zG)for(var t of zG(i))PD.call(i,t)&&UG(e,t,i[t]);return e},ei=e=>{if(typeof require<"u")return require(e);throw new Error('Dynamic require of "'+e+'" is not supported')},Pp=(e,i)=>function(){return i||(0,e[Object.keys(e)[0]])((i={exports:{}}).exports,i),i.exports},Zi=(e,i,t)=>new Promise((s,n)=>{var r=o=>{try{a(t.next(o))}catch(c){n(c)}},l=o=>{try{a(t.throw(o))}catch(c){n(c)}},a=o=>o.done?s(o.value):Promise.resolve(o.value).then(r,l);a((t=t.apply(e,i)).next())}),kG=Pp({"(disabled):crypto"(){}}),zD=Pp({"dist/web-ifc-mt.js"(e,i){var t=function(){var s=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(s=s||__filename),function(n){n=n||{};function r(){return ze.buffer!=he&&$(ze.buffer),Fe}function l(){return ze.buffer!=he&&$(ze.buffer),Je}function a(){return ze.buffer!=he&&$(ze.buffer),$e}function o(){return ze.buffer!=he&&$(ze.buffer),pt}function c(){return ze.buffer!=he&&$(ze.buffer),ye}function h(){return ze.buffer!=he&&$(ze.buffer),Ct}function u(){return ze.buffer!=he&&$(ze.buffer),Ft}function d(){return ze.buffer!=he&&$(ze.buffer),it}var p=typeof n<"u"?n:{},G,g;p.ready=new Promise(function(m,b){G=m,g=b});var I={},X;for(X in p)p.hasOwnProperty(X)&&(I[X]=p[X]);var S="./this.program",x=function(m,b){throw b},v=typeof window=="object",L=typeof importScripts=="function",M=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",E=p.ENVIRONMENT_IS_PTHREAD||!1,K="";function q(m){return p.locateFile?p.locateFile(m,K):K+m}var Q,w,j,pe,se;if(M){L?K=ei("path").dirname(K)+"/":K=__dirname+"/",Q=function(b,T){return pe||(pe=ei("fs")),se||(se=ei("path")),b=se.normalize(b),pe.readFileSync(b,T?null:"utf8")},j=function(b){var T=Q(b,!0);return T.buffer||(T=new Uint8Array(T)),Ge(T.buffer),T},w=function(b,T,W){pe||(pe=ei("fs")),se||(se=ei("path")),b=se.normalize(b),pe.readFile(b,function(N,P){N?W(N):T(P.buffer)})},process.argv.length>1&&(S=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(m){if(!(m instanceof Qa))throw m}),process.on("unhandledRejection",te),x=function(m,b){if(qt())throw process.exitCode=m,b;process.exit(m)},p.inspect=function(){return"[Emscripten Module object]"};var oe;try{oe=ei("worker_threads")}catch(m){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),m}global.Worker=oe.Worker}else(v||L)&&(L?K=self.location.href:typeof document<"u"&&document.currentScript&&(K=document.currentScript.src),s&&(K=s),K.indexOf("blob:")!==0?K=K.substr(0,K.lastIndexOf("/")+1):K="",M?(Q=function(b,T){return pe||(pe=ei("fs")),se||(se=ei("path")),b=se.normalize(b),pe.readFileSync(b,T?null:"utf8")},j=function(b){var T=Q(b,!0);return T.buffer||(T=new Uint8Array(T)),Ge(T.buffer),T},w=function(b,T,W){pe||(pe=ei("fs")),se||(se=ei("path")),b=se.normalize(b),pe.readFile(b,function(N,P){N?W(N):T(P.buffer)})}):(Q=function(m){var b=new XMLHttpRequest;return b.open("GET",m,!1),b.send(null),b.responseText},L&&(j=function(m){var b=new XMLHttpRequest;return b.open("GET",m,!1),b.responseType="arraybuffer",b.send(null),new Uint8Array(b.response)}),w=function(m,b,T){var W=new XMLHttpRequest;W.open("GET",m,!0),W.responseType="arraybuffer",W.onload=function(){if(W.status==200||W.status==0&&W.response){b(W.response);return}T()},W.onerror=T,W.send(null)}));M&&typeof performance>"u"&&(global.performance=ei("perf_hooks").performance);var le=p.print||console.log.bind(console),re=p.printErr||console.warn.bind(console);for(X in I)I.hasOwnProperty(X)&&(p[X]=I[X]);I=null,p.arguments,p.thisProgram&&(S=p.thisProgram),p.quit&&(x=p.quit);var ne=16;function Ze(m,b){return b||(b=ne),Math.ceil(m/b)*b}function fe(m){fe.shown||(fe.shown={}),fe.shown[m]||(fe.shown[m]=1,re(m))}var ve;p.wasmBinary&&(ve=p.wasmBinary);var Ce=p.noExitRuntime||!0;typeof WebAssembly!="object"&&te("no native wasm support detected");var ze,vt,gt=!1;function Ge(m,b){m||te("Assertion failed: "+b)}function Ot(m){var b=new TextDecoder(m);this.decode=function(T){return T.buffer instanceof SharedArrayBuffer&&(T=new Uint8Array(T)),b.decode.call(b,T)}}var St=typeof TextDecoder<"u"?new Ot("utf8"):void 0;function yt(m,b,T){b>>>=0;for(var W=b+T,N=b;m[N>>>0]&&!(N>=W);)++N;if(N-b>16&&m.subarray&&St)return St.decode(m.subarray(b>>>0,N>>>0));for(var P="";b<N;){var z=m[b++>>>0];if(!(z&128)){P+=String.fromCharCode(z);continue}var O=m[b++>>>0]&63;if((z&224)==192){P+=String.fromCharCode((z&31)<<6|O);continue}var _=m[b++>>>0]&63;if((z&240)==224?z=(z&15)<<12|O<<6|_:z=(z&7)<<18|O<<12|_<<6|m[b++>>>0]&63,z<65536)P+=String.fromCharCode(z);else{var ue=z-65536;P+=String.fromCharCode(55296|ue>>10,56320|ue&1023)}}return P}function We(m,b){return m>>>=0,m?yt(l(),m,b):""}function ct(m,b,T,W){if(T>>>=0,!(W>0))return 0;for(var N=T,P=T+W-1,z=0;z<m.length;++z){var O=m.charCodeAt(z);if(O>=55296&&O<=57343){var _=m.charCodeAt(++z);O=65536+((O&1023)<<10)|_&1023}if(O<=127){if(T>=P)break;b[T++>>>0]=O}else if(O<=2047){if(T+1>=P)break;b[T++>>>0]=192|O>>6,b[T++>>>0]=128|O&63}else if(O<=65535){if(T+2>=P)break;b[T++>>>0]=224|O>>12,b[T++>>>0]=128|O>>6&63,b[T++>>>0]=128|O&63}else{if(T+3>=P)break;b[T++>>>0]=240|O>>18,b[T++>>>0]=128|O>>12&63,b[T++>>>0]=128|O>>6&63,b[T++>>>0]=128|O&63}}return b[T>>>0]=0,T-N}function be(m,b,T){return ct(m,l(),b,T)}function ge(m){for(var b=0,T=0;T<m.length;++T){var W=m.charCodeAt(T);W>=55296&&W<=57343&&(W=65536+((W&1023)<<10)|m.charCodeAt(++T)&1023),W<=127?++b:W<=2047?b+=2:W<=65535?b+=3:b+=4}return b}var ae=typeof TextDecoder<"u"?new Ot("utf-16le"):void 0;function je(m,b){for(var T=m,W=T>>1,N=W+b/2;!(W>=N)&&o()[W>>>0];)++W;if(T=W<<1,T-m>32&&ae)return ae.decode(l().subarray(m>>>0,T>>>0));for(var P="",z=0;!(z>=b/2);++z){var O=a()[m+z*2>>>1];if(O==0)break;P+=String.fromCharCode(O)}return P}function Oe(m,b,T){if(T===void 0&&(T=2147483647),T<2)return 0;T-=2;for(var W=b,N=T<m.length*2?T/2:m.length,P=0;P<N;++P){var z=m.charCodeAt(P);a()[b>>>1]=z,b+=2}return a()[b>>>1]=0,b-W}function Wt(m){return m.length*2}function Zt(m,b){for(var T=0,W="";!(T>=b/4);){var N=c()[m+T*4>>>2];if(N==0)break;if(++T,N>=65536){var P=N-65536;W+=String.fromCharCode(55296|P>>10,56320|P&1023)}else W+=String.fromCharCode(N)}return W}function at(m,b,T){if(b>>>=0,T===void 0&&(T=2147483647),T<4)return 0;for(var W=b,N=W+T-4,P=0;P<m.length;++P){var z=m.charCodeAt(P);if(z>=55296&&z<=57343){var O=m.charCodeAt(++P);z=65536+((z&1023)<<10)|O&1023}if(c()[b>>>2]=z,b+=4,b+4>N)break}return c()[b>>>2]=0,b-W}function cs(m){for(var b=0,T=0;T<m.length;++T){var W=m.charCodeAt(T);W>=55296&&W<=57343&&++T,b+=4}return b}function _t(m,b){r().set(m,b>>>0)}function A(m,b,T){for(var W=0;W<m.length;++W)r()[b++>>>0]=m.charCodeAt(W);T||(r()[b>>>0]=0)}function D(m,b){return m%b>0&&(m+=b-m%b),m}var he,Fe,Je,$e,pt,ye,Ct,Ft,it;E&&(he=p.buffer);function $(m){he=m,p.HEAP8=Fe=new Int8Array(m),p.HEAP16=$e=new Int16Array(m),p.HEAP32=ye=new Int32Array(m),p.HEAPU8=Je=new Uint8Array(m),p.HEAPU16=pt=new Uint16Array(m),p.HEAPU32=Ct=new Uint32Array(m),p.HEAPF32=Ft=new Float32Array(m),p.HEAPF64=it=new Float64Array(m)}var Ue=p.INITIAL_MEMORY||16777216;if(E)ze=p.wasmMemory,he=p.buffer;else if(p.wasmMemory)ze=p.wasmMemory;else if(ze=new WebAssembly.Memory({initial:Ue/65536,maximum:65536,shared:!0}),!(ze.buffer instanceof SharedArrayBuffer))throw re("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),M&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");ze&&(he=ze.buffer),Ue=he.byteLength,$(he);var we,mt=[],qe=[],st=[],ke=[],Xt=0;function qt(){return Ce||Xt>0}function Gt(){if(!E){if(p.preRun)for(typeof p.preRun=="function"&&(p.preRun=[p.preRun]);p.preRun.length;)Gs(p.preRun.shift());js(mt)}}function ti(){E||(!p.noFSInit&&!F.init.initialized&&F.init(),F.ignorePermissions=!1,js(qe))}function Gi(){E||js(st)}function ic(){if(!E){if(p.postRun)for(typeof p.postRun=="function"&&(p.postRun=[p.postRun]);p.postRun.length;)En(p.postRun.shift());js(ke)}}function Gs(m){mt.unshift(m)}function Vi(m){qe.unshift(m)}function En(m){ke.unshift(m)}var Ui=0,tr=null;function tu(m){return m}function Er(m){Ui++,p.monitorRunDependencies&&p.monitorRunDependencies(Ui)}function J(m){if(Ui--,p.monitorRunDependencies&&p.monitorRunDependencies(Ui),Ui==0&&tr){var b=tr;tr=null,b()}}p.preloadedImages={},p.preloadedAudios={};function te(m){p.onAbort&&p.onAbort(m),E&&console.error("Pthread aborting at "+new Error().stack),m+="",re(m),gt=!0,m="abort("+m+"). Build with -s ASSERTIONS=1 for more info.";var b=new WebAssembly.RuntimeError(m);throw g(b),b}var me="data:application/octet-stream;base64,";function ce(m){return m.startsWith(me)}function Te(m){return m.startsWith("file://")}var nt;nt="web-ifc-mt.wasm",ce(nt)||(nt=q(nt));function Ye(m){try{if(m==nt&&ve)return new Uint8Array(ve);if(j)return j(m);throw"both async and sync fetching of the wasm failed"}catch(b){te(b)}}function xt(){if(!ve&&(v||L)){if(typeof fetch=="function"&&!Te(nt))return fetch(nt,{credentials:"same-origin"}).then(function(m){if(!m.ok)throw"failed to load wasm binary file at '"+nt+"'";return m.arrayBuffer()}).catch(function(){return Ye(nt)});if(w)return new Promise(function(m,b){w(nt,function(T){m(new Uint8Array(T))},b)})}return Promise.resolve().then(function(){return Ye(nt)})}function V(){var m={a:z$};function b(z,O){var _=z.exports;if(p.asm=_,we=p.asm.ta,Vi(p.asm.oa),Be.tlsInitFunctions.push(p.asm.sa),vt=O,!E){var ue=Be.unusedWorkers.length;Be.unusedWorkers.forEach(function(Ie){Be.loadWasmModuleToWorker(Ie,function(){--ue||J()})})}}E||Er();function T(z){b(z.instance,z.module)}function W(z){return xt().then(function(O){var _=WebAssembly.instantiate(O,m);return _}).then(z,function(O){re("failed to asynchronously prepare wasm: "+O),te(O)})}function N(){return!ve&&typeof WebAssembly.instantiateStreaming=="function"&&!ce(nt)&&!Te(nt)&&typeof fetch=="function"?fetch(nt,{credentials:"same-origin"}).then(function(z){var O=WebAssembly.instantiateStreaming(z,m);return O.then(T,function(_){return re("wasm streaming compile failed: "+_),re("falling back to ArrayBuffer instantiation"),W(T)})}):W(T)}if(p.instantiateWasm)try{var P=p.instantiateWasm(m,b);return P}catch(z){return re("Module.instantiateWasm callback failed with error: "+z),!1}return N().catch(g),{}}var et,Vt,Ht={44848:function(){throw"Canceled!"},44866:function(m,b){setTimeout(function(){Ov(m,b)},0)}};function bs(){Be.initRuntime()}function js(m){for(;m.length>0;){var b=m.shift();if(typeof b=="function"){b(p);continue}var T=b.func;typeof T=="number"?b.arg===void 0?we.get(T)():we.get(T)(b.arg):T(b.arg===void 0?null:b.arg)}}function si(m,b){if(m<=0||m>r().length||m&!0||b<0)return-28;if(b==0)return 0;b>=2147483647&&(b=1/0);var T=Atomics.load(c(),ja>>2),W=0;if(T==m){var N=Atomics.compareExchange(c(),ja>>2,T,0);if(N==T&&(--b,W=1,b<=0))return 1}var P=Atomics.notify(c(),m>>2,b);if(P>=0)return P+W;throw"Atomics.notify returned an unexpected value "+P}p._emscripten_futex_wake=si;function hi(m){if(E)throw"Internal Error! killThread() can only ever be called from main application thread!";if(!m)throw"Internal Error! Null pthread_ptr in killThread!";c()[m+12>>>2]=0;var b=Be.pthreads[m];b.worker.terminate(),Be.freeThreadData(b),Be.runningWorkers.splice(Be.runningWorkers.indexOf(b.worker),1),b.worker.pthread=void 0}function zs(m){if(E)throw"Internal Error! cancelThread() can only ever be called from main application thread!";if(!m)throw"Internal Error! Null pthread_ptr in cancelThread!";var b=Be.pthreads[m];b.worker.postMessage({cmd:"cancel"})}function Et(m){if(E)throw"Internal Error! cleanupThread() can only ever be called from main application thread!";if(!m)throw"Internal Error! Null pthread_ptr in cleanupThread!";var b=Be.pthreads[m];if(b){c()[m+12>>>2]=0;var T=b.worker;Be.returnWorkerToPool(T)}}var Be={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],initMainThreadBlock:function(){for(var m=navigator.hardwareConcurrency,b=0;b<m;++b)Be.allocateUnusedWorker()},initRuntime:function(){for(var m=Mn(228),b=0;b<228/4;++b)h()[m/4+b>>>0]=0;c()[m+12>>>2]=m;var T=m+152;c()[T>>>2]=T;for(var W=Mn(512),b=0;b<128;++b)h()[W/4+b>>>0]=0;Atomics.store(h(),m+100>>2,W),Atomics.store(h(),m+40>>2,m),tb(m,!L,1),Kv(m)},initWorker:function(){},pthreads:{},threadExitHandlers:[],runExitHandlers:function(){for(;Be.threadExitHandlers.length>0;)Be.threadExitHandlers.pop()();_v()},runExitHandlersAndDeinitThread:function(m,b){Atomics.store(h(),m+56>>2,1),Atomics.store(h(),m+60>>2,0),Be.runExitHandlers(),Atomics.store(h(),m+4>>2,b),Atomics.store(h(),m+0>>2,1),si(m+0,2147483647),tb(0,0,0)},setExitStatus:function(m){},threadExit:function(m){var b=gc();b&&(Be.runExitHandlersAndDeinitThread(b,m),E&&postMessage({cmd:"exit"}))},threadCancel:function(){Be.runExitHandlersAndDeinitThread(gc(),-1),postMessage({cmd:"cancelDone"})},terminateAllThreads:function(){for(var m in Be.pthreads){var b=Be.pthreads[m];b&&b.worker&&Be.returnWorkerToPool(b.worker)}Be.pthreads={};for(var T=0;T<Be.unusedWorkers.length;++T){var W=Be.unusedWorkers[T];W.terminate()}Be.unusedWorkers=[];for(var T=0;T<Be.runningWorkers.length;++T){var W=Be.runningWorkers[T],b=W.pthread;Be.freeThreadData(b),W.terminate()}Be.runningWorkers=[]},freeThreadData:function(m){if(!!m){if(m.threadInfoStruct){var b=c()[m.threadInfoStruct+100>>>2];c()[m.threadInfoStruct+100>>>2]=0,vi(b),vi(m.threadInfoStruct)}m.threadInfoStruct=0,m.allocatedOwnStack&&m.stackBase&&vi(m.stackBase),m.stackBase=0,m.worker&&(m.worker.pthread=null)}},returnWorkerToPool:function(m){Be.runWithoutMainThreadQueuedCalls(function(){delete Be.pthreads[m.pthread.threadInfoStruct],Be.unusedWorkers.push(m),Be.runningWorkers.splice(Be.runningWorkers.indexOf(m),1),Be.freeThreadData(m.pthread),m.pthread=void 0})},runWithoutMainThreadQueuedCalls:function(m){c()[$v>>>2]=0;try{m()}finally{c()[$v>>>2]=1}},receiveObjectTransfer:function(m){},threadInit:function(){for(var m in Be.tlsInitFunctions)Be.tlsInitFunctions[m]()},loadWasmModuleToWorker:function(m,b){m.onmessage=function(T){var W=T.data,N=W.cmd;if(m.pthread&&(Be.currentProxiedOperationCallerThread=m.pthread.threadInfoStruct),W.targetThread&&W.targetThread!=gc()){var P=Be.pthreads[W.targetThread];P?P.worker.postMessage(T.data,W.transferList):console.error('Internal error! Worker sent a message "'+N+'" to target pthread '+W.targetThread+", but that thread no longer exists!"),Be.currentProxiedOperationCallerThread=void 0;return}if(N==="processQueuedMainThreadWork")$m();else if(N==="spawnThread")Uv(T.data);else if(N==="cleanupThread")Et(W.thread);else if(N==="killThread")hi(W.thread);else if(N==="cancelThread")zs(W.thread);else if(N==="loaded")m.loaded=!0,b&&b(m),m.runPthread&&(m.runPthread(),delete m.runPthread);else if(N==="print")le("Thread "+W.threadId+": "+W.text);else if(N==="printErr")re("Thread "+W.threadId+": "+W.text);else if(N==="alert")alert("Thread "+W.threadId+": "+W.text);else if(N==="exit"){var z=m.pthread&&Atomics.load(h(),m.pthread.threadInfoStruct+64>>2);z&&Be.returnWorkerToPool(m)}else if(N==="exitProcess")try{eE(W.returnCode)}catch(O){if(O instanceof Qa)return;throw O}else N==="cancelDone"?Be.returnWorkerToPool(m):N==="objectTransfer"?Be.receiveObjectTransfer(T.data):T.data.target==="setimmediate"?m.postMessage(T.data):re("worker sent an unknown command "+N);Be.currentProxiedOperationCallerThread=void 0},m.onerror=function(T){re("pthread sent an error! "+T.filename+":"+T.lineno+": "+T.message)},M&&(m.on("message",function(T){m.onmessage({data:T})}),m.on("error",function(T){m.onerror(T)}),m.on("exit",function(T){})),m.postMessage({cmd:"load",urlOrBlob:p.mainScriptUrlOrBlob||s,wasmMemory:ze,wasmModule:vt})},allocateUnusedWorker:function(){var m=q("web-ifc-mt.worker.js");Be.unusedWorkers.push(new Worker(m))},getNewWorker:function(){return Be.unusedWorkers.length==0&&(Be.allocateUnusedWorker(),Be.loadWasmModuleToWorker(Be.unusedWorkers[0])),Be.unusedWorkers.pop()},busySpinWait:function(m){for(var b=performance.now()+m;performance.now()<b;);}};function Ws(m,b){qv(m,b),Tc(m)}p.establishStackSpace=Ws;function gi(m,b){return we.get(m)(b)}p.invokeEntryPoint=gi;function Ti(m,b,T,W){te("Assertion failed: "+We(m)+", at: "+[b?We(b):"unknown filename",T,W?We(W):"unknown function"])}var ii;M?ii=function(){var m=process.hrtime();return m[0]*1e3+m[1]/1e6}:E?ii=function(){return performance.now()-p.__performance_now_clock_drift}:ii=function(){return performance.now()};var sr=!0;function Fs(m){return c()[Qv()>>>2]=m,m}function ki(m,b){var T;if(m===0)T=Date.now();else if((m===1||m===4)&&sr)T=ii();else return Fs(28),-1;return c()[b>>>2]=T/1e3|0,c()[b+4>>>2]=T%1e3*1e3*1e3|0,0}function Ii(m){return Mn(m+16)+16}function ui(m,b){if(E)return Z(1,1,m,b)}function Va(m,b){Be.threadExitHandlers.push(function(){we.get(m)(b)})}function $p(m){this.excPtr=m,this.ptr=m-16,this.set_type=function(b){c()[this.ptr+4>>>2]=b},this.get_type=function(){return c()[this.ptr+4>>>2]},this.set_destructor=function(b){c()[this.ptr+8>>>2]=b},this.get_destructor=function(){return c()[this.ptr+8>>>2]},this.set_refcount=function(b){c()[this.ptr>>>2]=b},this.set_caught=function(b){b=b?1:0,r()[this.ptr+12>>>0]=b},this.get_caught=function(){return r()[this.ptr+12>>>0]!=0},this.set_rethrown=function(b){b=b?1:0,r()[this.ptr+13>>>0]=b},this.get_rethrown=function(){return r()[this.ptr+13>>>0]!=0},this.init=function(b,T){this.set_type(b),this.set_destructor(T),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){Atomics.add(c(),this.ptr+0>>2,1)},this.release_ref=function(){var b=Atomics.sub(c(),this.ptr+0>>2,1);return b===1}}function em(m,b,T){var W=new $p(m);throw W.init(b,T),m}var kt={splitPath:function(m){var b=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return b.exec(m).slice(1)},normalizeArray:function(m,b){for(var T=0,W=m.length-1;W>=0;W--){var N=m[W];N==="."?m.splice(W,1):N===".."?(m.splice(W,1),T++):T&&(m.splice(W,1),T--)}if(b)for(;T;T--)m.unshift("..");return m},normalize:function(m){var b=m.charAt(0)==="/",T=m.substr(-1)==="/";return m=kt.normalizeArray(m.split("/").filter(function(W){return!!W}),!b).join("/"),!m&&!b&&(m="."),m&&T&&(m+="/"),(b?"/":"")+m},dirname:function(m){var b=kt.splitPath(m),T=b[0],W=b[1];return!T&&!W?".":(W&&(W=W.substr(0,W.length-1)),T+W)},basename:function(m){if(m==="/")return"/";m=kt.normalize(m),m=m.replace(/\/$/,"");var b=m.lastIndexOf("/");return b===-1?m:m.substr(b+1)},extname:function(m){return kt.splitPath(m)[3]},join:function(){var m=Array.prototype.slice.call(arguments,0);return kt.normalize(m.join("/"))},join2:function(m,b){return kt.normalize(m+"/"+b)}};function tm(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var m=new Uint8Array(1);return function(){return crypto.getRandomValues(m),m[0]}}else if(M)try{var b=kG();return function(){return b.randomBytes(1)[0]}}catch{}return function(){te("randomDevice")}}var Di={resolve:function(){for(var m="",b=!1,T=arguments.length-1;T>=-1&&!b;T--){var W=T>=0?arguments[T]:F.cwd();if(typeof W!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!W)return"";m=W+"/"+m,b=W.charAt(0)==="/"}return m=kt.normalizeArray(m.split("/").filter(function(N){return!!N}),!b).join("/"),(b?"/":"")+m||"."},relative:function(m,b){m=Di.resolve(m).substr(1),b=Di.resolve(b).substr(1);function T(ue){for(var Ie=0;Ie<ue.length&&ue[Ie]==="";Ie++);for(var Ee=ue.length-1;Ee>=0&&ue[Ee]==="";Ee--);return Ie>Ee?[]:ue.slice(Ie,Ee-Ie+1)}for(var W=T(m.split("/")),N=T(b.split("/")),P=Math.min(W.length,N.length),z=P,O=0;O<P;O++)if(W[O]!==N[O]){z=O;break}for(var _=[],O=z;O<W.length;O++)_.push("..");return _=_.concat(N.slice(z)),_.join("/")}},ms={ttys:[],init:function(){},shutdown:function(){},register:function(m,b){ms.ttys[m]={input:[],output:[],ops:b},F.registerDevice(m,ms.stream_ops)},stream_ops:{open:function(m){var b=ms.ttys[m.node.rdev];if(!b)throw new F.ErrnoError(43);m.tty=b,m.seekable=!1},close:function(m){m.tty.ops.flush(m.tty)},flush:function(m){m.tty.ops.flush(m.tty)},read:function(m,b,T,W,N){if(!m.tty||!m.tty.ops.get_char)throw new F.ErrnoError(60);for(var P=0,z=0;z<W;z++){var O;try{O=m.tty.ops.get_char(m.tty)}catch{throw new F.ErrnoError(29)}if(O===void 0&&P===0)throw new F.ErrnoError(6);if(O==null)break;P++,b[T+z]=O}return P&&(m.node.timestamp=Date.now()),P},write:function(m,b,T,W,N){if(!m.tty||!m.tty.ops.put_char)throw new F.ErrnoError(60);try{for(var P=0;P<W;P++)m.tty.ops.put_char(m.tty,b[T+P])}catch{throw new F.ErrnoError(29)}return W&&(m.node.timestamp=Date.now()),P}},default_tty_ops:{get_char:function(m){if(!m.input.length){var b=null;if(M){var T=256,W=Buffer.alloc(T),N=0;try{N=pe.readSync(process.stdin.fd,W,0,T,null)}catch(P){if(P.toString().includes("EOF"))N=0;else throw P}N>0?b=W.slice(0,N).toString("utf-8"):b=null}else typeof window<"u"&&typeof window.prompt=="function"?(b=window.prompt("Input: "),b!==null&&(b+=`
`)):typeof readline=="function"&&(b=readline(),b!==null&&(b+=`
`));if(!b)return null;m.input=Xu(b,!0)}return m.input.shift()},put_char:function(m,b){b===null||b===10?(le(yt(m.output,0)),m.output=[]):b!=0&&m.output.push(b)},flush:function(m){m.output&&m.output.length>0&&(le(yt(m.output,0)),m.output=[])}},default_tty1_ops:{put_char:function(m,b){b===null||b===10?(re(yt(m.output,0)),m.output=[]):b!=0&&m.output.push(b)},flush:function(m){m.output&&m.output.length>0&&(re(yt(m.output,0)),m.output=[])}}};function Yr(m,b){l().fill(0,m,m+b)}function At(m){m=Ze(m,65536);var b=sb(65536,m);return b?(Yr(b,m),b):0}var bt={ops_table:null,mount:function(m){return bt.createNode(null,"/",16895,0)},createNode:function(m,b,T,W){if(F.isBlkdev(T)||F.isFIFO(T))throw new F.ErrnoError(63);bt.ops_table||(bt.ops_table={dir:{node:{getattr:bt.node_ops.getattr,setattr:bt.node_ops.setattr,lookup:bt.node_ops.lookup,mknod:bt.node_ops.mknod,rename:bt.node_ops.rename,unlink:bt.node_ops.unlink,rmdir:bt.node_ops.rmdir,readdir:bt.node_ops.readdir,symlink:bt.node_ops.symlink},stream:{llseek:bt.stream_ops.llseek}},file:{node:{getattr:bt.node_ops.getattr,setattr:bt.node_ops.setattr},stream:{llseek:bt.stream_ops.llseek,read:bt.stream_ops.read,write:bt.stream_ops.write,allocate:bt.stream_ops.allocate,mmap:bt.stream_ops.mmap,msync:bt.stream_ops.msync}},link:{node:{getattr:bt.node_ops.getattr,setattr:bt.node_ops.setattr,readlink:bt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:bt.node_ops.getattr,setattr:bt.node_ops.setattr},stream:F.chrdev_stream_ops}});var N=F.createNode(m,b,T,W);return F.isDir(N.mode)?(N.node_ops=bt.ops_table.dir.node,N.stream_ops=bt.ops_table.dir.stream,N.contents={}):F.isFile(N.mode)?(N.node_ops=bt.ops_table.file.node,N.stream_ops=bt.ops_table.file.stream,N.usedBytes=0,N.contents=null):F.isLink(N.mode)?(N.node_ops=bt.ops_table.link.node,N.stream_ops=bt.ops_table.link.stream):F.isChrdev(N.mode)&&(N.node_ops=bt.ops_table.chrdev.node,N.stream_ops=bt.ops_table.chrdev.stream),N.timestamp=Date.now(),m&&(m.contents[b]=N,m.timestamp=N.timestamp),N},getFileDataAsTypedArray:function(m){return m.contents?m.contents.subarray?m.contents.subarray(0,m.usedBytes):new Uint8Array(m.contents):new Uint8Array(0)},expandFileStorage:function(m,b){b>>>=0;var T=m.contents?m.contents.length:0;if(!(T>=b)){var W=1024*1024;b=Math.max(b,T*(T<W?2:1.125)>>>0),T!=0&&(b=Math.max(b,256));var N=m.contents;m.contents=new Uint8Array(b),m.usedBytes>0&&m.contents.set(N.subarray(0,m.usedBytes),0)}},resizeFileStorage:function(m,b){if(b>>>=0,m.usedBytes!=b)if(b==0)m.contents=null,m.usedBytes=0;else{var T=m.contents;m.contents=new Uint8Array(b),T&&m.contents.set(T.subarray(0,Math.min(b,m.usedBytes))),m.usedBytes=b}},node_ops:{getattr:function(m){var b={};return b.dev=F.isChrdev(m.mode)?m.id:1,b.ino=m.id,b.mode=m.mode,b.nlink=1,b.uid=0,b.gid=0,b.rdev=m.rdev,F.isDir(m.mode)?b.size=4096:F.isFile(m.mode)?b.size=m.usedBytes:F.isLink(m.mode)?b.size=m.link.length:b.size=0,b.atime=new Date(m.timestamp),b.mtime=new Date(m.timestamp),b.ctime=new Date(m.timestamp),b.blksize=4096,b.blocks=Math.ceil(b.size/b.blksize),b},setattr:function(m,b){b.mode!==void 0&&(m.mode=b.mode),b.timestamp!==void 0&&(m.timestamp=b.timestamp),b.size!==void 0&&bt.resizeFileStorage(m,b.size)},lookup:function(m,b){throw F.genericErrors[44]},mknod:function(m,b,T,W){return bt.createNode(m,b,T,W)},rename:function(m,b,T){if(F.isDir(m.mode)){var W;try{W=F.lookupNode(b,T)}catch{}if(W)for(var N in W.contents)throw new F.ErrnoError(55)}delete m.parent.contents[m.name],m.parent.timestamp=Date.now(),m.name=T,b.contents[T]=m,b.timestamp=m.parent.timestamp,m.parent=b},unlink:function(m,b){delete m.contents[b],m.timestamp=Date.now()},rmdir:function(m,b){var T=F.lookupNode(m,b);for(var W in T.contents)throw new F.ErrnoError(55);delete m.contents[b],m.timestamp=Date.now()},readdir:function(m){var b=[".",".."];for(var T in m.contents)!m.contents.hasOwnProperty(T)||b.push(T);return b},symlink:function(m,b,T){var W=bt.createNode(m,b,41471,0);return W.link=T,W},readlink:function(m){if(!F.isLink(m.mode))throw new F.ErrnoError(28);return m.link}},stream_ops:{read:function(m,b,T,W,N){var P=m.node.contents;if(N>=m.node.usedBytes)return 0;var z=Math.min(m.node.usedBytes-N,W);if(z>8&&P.subarray)b.set(P.subarray(N,N+z),T);else for(var O=0;O<z;O++)b[T+O]=P[N+O];return z},write:function(m,b,T,W,N,P){if(b.buffer===r().buffer&&(P=!1),!W)return 0;var z=m.node;if(z.timestamp=Date.now(),b.subarray&&(!z.contents||z.contents.subarray)){if(P)return z.contents=b.subarray(T,T+W),z.usedBytes=W,W;if(z.usedBytes===0&&N===0)return z.contents=b.slice(T,T+W),z.usedBytes=W,W;if(N+W<=z.usedBytes)return z.contents.set(b.subarray(T,T+W),N),W}if(bt.expandFileStorage(z,N+W),z.contents.subarray&&b.subarray)z.contents.set(b.subarray(T,T+W),N);else for(var O=0;O<W;O++)z.contents[N+O]=b[T+O];return z.usedBytes=Math.max(z.usedBytes,N+W),W},llseek:function(m,b,T){var W=b;if(T===1?W+=m.position:T===2&&F.isFile(m.node.mode)&&(W+=m.node.usedBytes),W<0)throw new F.ErrnoError(28);return W},allocate:function(m,b,T){bt.expandFileStorage(m.node,b+T),m.node.usedBytes=Math.max(m.node.usedBytes,b+T)},mmap:function(m,b,T,W,N,P){if(b!==0)throw new F.ErrnoError(28);if(!F.isFile(m.node.mode))throw new F.ErrnoError(43);var z,O,_=m.node.contents;if(!(P&2)&&_.buffer===he)O=!1,z=_.byteOffset;else{if((W>0||W+T<_.length)&&(_.subarray?_=_.subarray(W,W+T):_=Array.prototype.slice.call(_,W,W+T)),O=!0,z=At(T),!z)throw new F.ErrnoError(48);z>>>=0,r().set(_,z>>>0)}return{ptr:z,allocated:O}},msync:function(m,b,T,W,N){if(!F.isFile(m.node.mode))throw new F.ErrnoError(43);return N&2||bt.stream_ops.write(m,b,0,W,T,!1),0}}};function sm(m,b,T,W){var N=W?"":"al "+m;w(m,function(P){Ge(P,'Loading data file "'+m+'" failed (no arrayBuffer).'),b(new Uint8Array(P)),N&&J()},function(P){if(T)T();else throw'Loading data file "'+m+'" failed.'}),N&&Er()}var F={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(m,b){if(m=Di.resolve(F.cwd(),m),b=b||{},!m)return{path:"",node:null};var T={follow_mount:!0,recurse_count:0};for(var W in T)b[W]===void 0&&(b[W]=T[W]);if(b.recurse_count>8)throw new F.ErrnoError(32);for(var N=kt.normalizeArray(m.split("/").filter(function(Ne){return!!Ne}),!1),P=F.root,z="/",O=0;O<N.length;O++){var _=O===N.length-1;if(_&&b.parent)break;if(P=F.lookupNode(P,N[O]),z=kt.join2(z,N[O]),F.isMountpoint(P)&&(!_||_&&b.follow_mount)&&(P=P.mounted.root),!_||b.follow)for(var ue=0;F.isLink(P.mode);){var Ie=F.readlink(z);z=Di.resolve(kt.dirname(z),Ie);var Ee=F.lookupPath(z,{recurse_count:b.recurse_count});if(P=Ee.node,ue++>40)throw new F.ErrnoError(32)}}return{path:z,node:P}},getPath:function(m){for(var b;;){if(F.isRoot(m)){var T=m.mount.mountpoint;return b?T[T.length-1]!=="/"?T+"/"+b:T+b:T}b=b?m.name+"/"+b:m.name,m=m.parent}},hashName:function(m,b){for(var T=0,W=0;W<b.length;W++)T=(T<<5)-T+b.charCodeAt(W)|0;return(m+T>>>0)%F.nameTable.length},hashAddNode:function(m){var b=F.hashName(m.parent.id,m.name);m.name_next=F.nameTable[b],F.nameTable[b]=m},hashRemoveNode:function(m){var b=F.hashName(m.parent.id,m.name);if(F.nameTable[b]===m)F.nameTable[b]=m.name_next;else for(var T=F.nameTable[b];T;){if(T.name_next===m){T.name_next=m.name_next;break}T=T.name_next}},lookupNode:function(m,b){var T=F.mayLookup(m);if(T)throw new F.ErrnoError(T,m);for(var W=F.hashName(m.id,b),N=F.nameTable[W];N;N=N.name_next){var P=N.name;if(N.parent.id===m.id&&P===b)return N}return F.lookup(m,b)},createNode:function(m,b,T,W){var N=new F.FSNode(m,b,T,W);return F.hashAddNode(N),N},destroyNode:function(m){F.hashRemoveNode(m)},isRoot:function(m){return m===m.parent},isMountpoint:function(m){return!!m.mounted},isFile:function(m){return(m&61440)===32768},isDir:function(m){return(m&61440)===16384},isLink:function(m){return(m&61440)===40960},isChrdev:function(m){return(m&61440)===8192},isBlkdev:function(m){return(m&61440)===24576},isFIFO:function(m){return(m&61440)===4096},isSocket:function(m){return(m&49152)===49152},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(m){var b=F.flagModes[m];if(typeof b>"u")throw new Error("Unknown file open mode: "+m);return b},flagsToPermissionString:function(m){var b=["r","w","rw"][m&3];return m&512&&(b+="w"),b},nodePermissions:function(m,b){return F.ignorePermissions?0:b.includes("r")&&!(m.mode&292)||b.includes("w")&&!(m.mode&146)||b.includes("x")&&!(m.mode&73)?2:0},mayLookup:function(m){var b=F.nodePermissions(m,"x");return b||(m.node_ops.lookup?0:2)},mayCreate:function(m,b){try{var T=F.lookupNode(m,b);return 20}catch{}return F.nodePermissions(m,"wx")},mayDelete:function(m,b,T){var W;try{W=F.lookupNode(m,b)}catch(P){return P.errno}var N=F.nodePermissions(m,"wx");if(N)return N;if(T){if(!F.isDir(W.mode))return 54;if(F.isRoot(W)||F.getPath(W)===F.cwd())return 10}else if(F.isDir(W.mode))return 31;return 0},mayOpen:function(m,b){return m?F.isLink(m.mode)?32:F.isDir(m.mode)&&(F.flagsToPermissionString(b)!=="r"||b&512)?31:F.nodePermissions(m,F.flagsToPermissionString(b)):44},MAX_OPEN_FDS:4096,nextfd:function(m,b){m=m||0,b=b||F.MAX_OPEN_FDS;for(var T=m;T<=b;T++)if(!F.streams[T])return T;throw new F.ErrnoError(33)},getStream:function(m){return F.streams[m]},createStream:function(m,b,T){F.FSStream||(F.FSStream=function(){},F.FSStream.prototype={object:{get:function(){return this.node},set:function(z){this.node=z}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}}});var W=new F.FSStream;for(var N in m)W[N]=m[N];m=W;var P=F.nextfd(b,T);return m.fd=P,F.streams[P]=m,m},closeStream:function(m){F.streams[m]=null},chrdev_stream_ops:{open:function(m){var b=F.getDevice(m.node.rdev);m.stream_ops=b.stream_ops,m.stream_ops.open&&m.stream_ops.open(m)},llseek:function(){throw new F.ErrnoError(70)}},major:function(m){return m>>8},minor:function(m){return m&255},makedev:function(m,b){return m<<8|b},registerDevice:function(m,b){F.devices[m]={stream_ops:b}},getDevice:function(m){return F.devices[m]},getMounts:function(m){for(var b=[],T=[m];T.length;){var W=T.pop();b.push(W),T.push.apply(T,W.mounts)}return b},syncfs:function(m,b){typeof m=="function"&&(b=m,m=!1),F.syncFSRequests++,F.syncFSRequests>1&&re("warning: "+F.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var T=F.getMounts(F.root.mount),W=0;function N(z){return F.syncFSRequests--,b(z)}function P(z){if(z)return P.errored?void 0:(P.errored=!0,N(z));++W>=T.length&&N(null)}T.forEach(function(z){if(!z.type.syncfs)return P(null);z.type.syncfs(z,m,P)})},mount:function(m,b,T){var W=T==="/",N=!T,P;if(W&&F.root)throw new F.ErrnoError(10);if(!W&&!N){var z=F.lookupPath(T,{follow_mount:!1});if(T=z.path,P=z.node,F.isMountpoint(P))throw new F.ErrnoError(10);if(!F.isDir(P.mode))throw new F.ErrnoError(54)}var O={type:m,opts:b,mountpoint:T,mounts:[]},_=m.mount(O);return _.mount=O,O.root=_,W?F.root=_:P&&(P.mounted=O,P.mount&&P.mount.mounts.push(O)),_},unmount:function(m){var b=F.lookupPath(m,{follow_mount:!1});if(!F.isMountpoint(b.node))throw new F.ErrnoError(28);var T=b.node,W=T.mounted,N=F.getMounts(W);Object.keys(F.nameTable).forEach(function(z){for(var O=F.nameTable[z];O;){var _=O.name_next;N.includes(O.mount)&&F.destroyNode(O),O=_}}),T.mounted=null;var P=T.mount.mounts.indexOf(W);T.mount.mounts.splice(P,1)},lookup:function(m,b){return m.node_ops.lookup(m,b)},mknod:function(m,b,T){var W=F.lookupPath(m,{parent:!0}),N=W.node,P=kt.basename(m);if(!P||P==="."||P==="..")throw new F.ErrnoError(28);var z=F.mayCreate(N,P);if(z)throw new F.ErrnoError(z);if(!N.node_ops.mknod)throw new F.ErrnoError(63);return N.node_ops.mknod(N,P,b,T)},create:function(m,b){return b=b!==void 0?b:438,b&=4095,b|=32768,F.mknod(m,b,0)},mkdir:function(m,b){return b=b!==void 0?b:511,b&=1023,b|=16384,F.mknod(m,b,0)},mkdirTree:function(m,b){for(var T=m.split("/"),W="",N=0;N<T.length;++N)if(!!T[N]){W+="/"+T[N];try{F.mkdir(W,b)}catch(P){if(P.errno!=20)throw P}}},mkdev:function(m,b,T){return typeof T>"u"&&(T=b,b=438),b|=8192,F.mknod(m,b,T)},symlink:function(m,b){if(!Di.resolve(m))throw new F.ErrnoError(44);var T=F.lookupPath(b,{parent:!0}),W=T.node;if(!W)throw new F.ErrnoError(44);var N=kt.basename(b),P=F.mayCreate(W,N);if(P)throw new F.ErrnoError(P);if(!W.node_ops.symlink)throw new F.ErrnoError(63);return W.node_ops.symlink(W,N,m)},rename:function(m,b){var T=kt.dirname(m),W=kt.dirname(b),N=kt.basename(m),P=kt.basename(b),z,O,_;if(z=F.lookupPath(m,{parent:!0}),O=z.node,z=F.lookupPath(b,{parent:!0}),_=z.node,!O||!_)throw new F.ErrnoError(44);if(O.mount!==_.mount)throw new F.ErrnoError(75);var ue=F.lookupNode(O,N),Ie=Di.relative(m,W);if(Ie.charAt(0)!==".")throw new F.ErrnoError(28);if(Ie=Di.relative(b,T),Ie.charAt(0)!==".")throw new F.ErrnoError(55);var Ee;try{Ee=F.lookupNode(_,P)}catch{}if(ue!==Ee){var Ne=F.isDir(ue.mode),Pe=F.mayDelete(O,N,Ne);if(Pe)throw new F.ErrnoError(Pe);if(Pe=Ee?F.mayDelete(_,P,Ne):F.mayCreate(_,P),Pe)throw new F.ErrnoError(Pe);if(!O.node_ops.rename)throw new F.ErrnoError(63);if(F.isMountpoint(ue)||Ee&&F.isMountpoint(Ee))throw new F.ErrnoError(10);if(_!==O&&(Pe=F.nodePermissions(O,"w"),Pe))throw new F.ErrnoError(Pe);try{F.trackingDelegate.willMovePath&&F.trackingDelegate.willMovePath(m,b)}catch(lt){re("FS.trackingDelegate['willMovePath']('"+m+"', '"+b+"') threw an exception: "+lt.message)}F.hashRemoveNode(ue);try{O.node_ops.rename(ue,_,P)}catch(lt){throw lt}finally{F.hashAddNode(ue)}try{F.trackingDelegate.onMovePath&&F.trackingDelegate.onMovePath(m,b)}catch(lt){re("FS.trackingDelegate['onMovePath']('"+m+"', '"+b+"') threw an exception: "+lt.message)}}},rmdir:function(m){var b=F.lookupPath(m,{parent:!0}),T=b.node,W=kt.basename(m),N=F.lookupNode(T,W),P=F.mayDelete(T,W,!0);if(P)throw new F.ErrnoError(P);if(!T.node_ops.rmdir)throw new F.ErrnoError(63);if(F.isMountpoint(N))throw new F.ErrnoError(10);try{F.trackingDelegate.willDeletePath&&F.trackingDelegate.willDeletePath(m)}catch(z){re("FS.trackingDelegate['willDeletePath']('"+m+"') threw an exception: "+z.message)}T.node_ops.rmdir(T,W),F.destroyNode(N);try{F.trackingDelegate.onDeletePath&&F.trackingDelegate.onDeletePath(m)}catch(z){re("FS.trackingDelegate['onDeletePath']('"+m+"') threw an exception: "+z.message)}},readdir:function(m){var b=F.lookupPath(m,{follow:!0}),T=b.node;if(!T.node_ops.readdir)throw new F.ErrnoError(54);return T.node_ops.readdir(T)},unlink:function(m){var b=F.lookupPath(m,{parent:!0}),T=b.node,W=kt.basename(m),N=F.lookupNode(T,W),P=F.mayDelete(T,W,!1);if(P)throw new F.ErrnoError(P);if(!T.node_ops.unlink)throw new F.ErrnoError(63);if(F.isMountpoint(N))throw new F.ErrnoError(10);try{F.trackingDelegate.willDeletePath&&F.trackingDelegate.willDeletePath(m)}catch(z){re("FS.trackingDelegate['willDeletePath']('"+m+"') threw an exception: "+z.message)}T.node_ops.unlink(T,W),F.destroyNode(N);try{F.trackingDelegate.onDeletePath&&F.trackingDelegate.onDeletePath(m)}catch(z){re("FS.trackingDelegate['onDeletePath']('"+m+"') threw an exception: "+z.message)}},readlink:function(m){var b=F.lookupPath(m),T=b.node;if(!T)throw new F.ErrnoError(44);if(!T.node_ops.readlink)throw new F.ErrnoError(28);return Di.resolve(F.getPath(T.parent),T.node_ops.readlink(T))},stat:function(m,b){var T=F.lookupPath(m,{follow:!b}),W=T.node;if(!W)throw new F.ErrnoError(44);if(!W.node_ops.getattr)throw new F.ErrnoError(63);return W.node_ops.getattr(W)},lstat:function(m){return F.stat(m,!0)},chmod:function(m,b,T){var W;if(typeof m=="string"){var N=F.lookupPath(m,{follow:!T});W=N.node}else W=m;if(!W.node_ops.setattr)throw new F.ErrnoError(63);W.node_ops.setattr(W,{mode:b&4095|W.mode&-4096,timestamp:Date.now()})},lchmod:function(m,b){F.chmod(m,b,!0)},fchmod:function(m,b){var T=F.getStream(m);if(!T)throw new F.ErrnoError(8);F.chmod(T.node,b)},chown:function(m,b,T,W){var N;if(typeof m=="string"){var P=F.lookupPath(m,{follow:!W});N=P.node}else N=m;if(!N.node_ops.setattr)throw new F.ErrnoError(63);N.node_ops.setattr(N,{timestamp:Date.now()})},lchown:function(m,b,T){F.chown(m,b,T,!0)},fchown:function(m,b,T){var W=F.getStream(m);if(!W)throw new F.ErrnoError(8);F.chown(W.node,b,T)},truncate:function(m,b){if(b<0)throw new F.ErrnoError(28);var T;if(typeof m=="string"){var W=F.lookupPath(m,{follow:!0});T=W.node}else T=m;if(!T.node_ops.setattr)throw new F.ErrnoError(63);if(F.isDir(T.mode))throw new F.ErrnoError(31);if(!F.isFile(T.mode))throw new F.ErrnoError(28);var N=F.nodePermissions(T,"w");if(N)throw new F.ErrnoError(N);T.node_ops.setattr(T,{size:b,timestamp:Date.now()})},ftruncate:function(m,b){var T=F.getStream(m);if(!T)throw new F.ErrnoError(8);if((T.flags&2097155)===0)throw new F.ErrnoError(28);F.truncate(T.node,b)},utime:function(m,b,T){var W=F.lookupPath(m,{follow:!0}),N=W.node;N.node_ops.setattr(N,{timestamp:Math.max(b,T)})},open:function(m,b,T,W,N){if(m==="")throw new F.ErrnoError(44);b=typeof b=="string"?F.modeStringToFlags(b):b,T=typeof T>"u"?438:T,b&64?T=T&4095|32768:T=0;var P;if(typeof m=="object")P=m;else{m=kt.normalize(m);try{var z=F.lookupPath(m,{follow:!(b&131072)});P=z.node}catch{}}var O=!1;if(b&64)if(P){if(b&128)throw new F.ErrnoError(20)}else P=F.mknod(m,T,0),O=!0;if(!P)throw new F.ErrnoError(44);if(F.isChrdev(P.mode)&&(b&=-513),b&65536&&!F.isDir(P.mode))throw new F.ErrnoError(54);if(!O){var _=F.mayOpen(P,b);if(_)throw new F.ErrnoError(_)}b&512&&F.truncate(P,0),b&=-131713;var ue=F.createStream({node:P,path:F.getPath(P),flags:b,seekable:!0,position:0,stream_ops:P.stream_ops,ungotten:[],error:!1},W,N);ue.stream_ops.open&&ue.stream_ops.open(ue),p.logReadFiles&&!(b&1)&&(F.readFiles||(F.readFiles={}),m in F.readFiles||(F.readFiles[m]=1,re("FS.trackingDelegate error on read file: "+m)));try{if(F.trackingDelegate.onOpenFile){var Ie=0;(b&2097155)!==1&&(Ie|=F.tracking.openFlags.READ),(b&2097155)!==0&&(Ie|=F.tracking.openFlags.WRITE),F.trackingDelegate.onOpenFile(m,Ie)}}catch(Ee){re("FS.trackingDelegate['onOpenFile']('"+m+"', flags) threw an exception: "+Ee.message)}return ue},close:function(m){if(F.isClosed(m))throw new F.ErrnoError(8);m.getdents&&(m.getdents=null);try{m.stream_ops.close&&m.stream_ops.close(m)}catch(b){throw b}finally{F.closeStream(m.fd)}m.fd=null},isClosed:function(m){return m.fd===null},llseek:function(m,b,T){if(F.isClosed(m))throw new F.ErrnoError(8);if(!m.seekable||!m.stream_ops.llseek)throw new F.ErrnoError(70);if(T!=0&&T!=1&&T!=2)throw new F.ErrnoError(28);return m.position=m.stream_ops.llseek(m,b,T),m.ungotten=[],m.position},read:function(m,b,T,W,N){if(T>>>=0,W<0||N<0)throw new F.ErrnoError(28);if(F.isClosed(m))throw new F.ErrnoError(8);if((m.flags&2097155)===1)throw new F.ErrnoError(8);if(F.isDir(m.node.mode))throw new F.ErrnoError(31);if(!m.stream_ops.read)throw new F.ErrnoError(28);var P=typeof N<"u";if(!P)N=m.position;else if(!m.seekable)throw new F.ErrnoError(70);var z=m.stream_ops.read(m,b,T,W,N);return P||(m.position+=z),z},write:function(m,b,T,W,N,P){if(T>>>=0,W<0||N<0)throw new F.ErrnoError(28);if(F.isClosed(m))throw new F.ErrnoError(8);if((m.flags&2097155)===0)throw new F.ErrnoError(8);if(F.isDir(m.node.mode))throw new F.ErrnoError(31);if(!m.stream_ops.write)throw new F.ErrnoError(28);m.seekable&&m.flags&1024&&F.llseek(m,0,2);var z=typeof N<"u";if(!z)N=m.position;else if(!m.seekable)throw new F.ErrnoError(70);var O=m.stream_ops.write(m,b,T,W,N,P);z||(m.position+=O);try{m.path&&F.trackingDelegate.onWriteToFile&&F.trackingDelegate.onWriteToFile(m.path)}catch(_){re("FS.trackingDelegate['onWriteToFile']('"+m.path+"') threw an exception: "+_.message)}return O},allocate:function(m,b,T){if(F.isClosed(m))throw new F.ErrnoError(8);if(b<0||T<=0)throw new F.ErrnoError(28);if((m.flags&2097155)===0)throw new F.ErrnoError(8);if(!F.isFile(m.node.mode)&&!F.isDir(m.node.mode))throw new F.ErrnoError(43);if(!m.stream_ops.allocate)throw new F.ErrnoError(138);m.stream_ops.allocate(m,b,T)},mmap:function(m,b,T,W,N,P){if(b>>>=0,(N&2)!==0&&(P&2)===0&&(m.flags&2097155)!==2)throw new F.ErrnoError(2);if((m.flags&2097155)===1)throw new F.ErrnoError(2);if(!m.stream_ops.mmap)throw new F.ErrnoError(43);return m.stream_ops.mmap(m,b,T,W,N,P)},msync:function(m,b,T,W,N){return T>>>=0,!m||!m.stream_ops.msync?0:m.stream_ops.msync(m,b,T,W,N)},munmap:function(m){return 0},ioctl:function(m,b,T){if(!m.stream_ops.ioctl)throw new F.ErrnoError(59);return m.stream_ops.ioctl(m,b,T)},readFile:function(m,b){if(b=b||{},b.flags=b.flags||0,b.encoding=b.encoding||"binary",b.encoding!=="utf8"&&b.encoding!=="binary")throw new Error('Invalid encoding type "'+b.encoding+'"');var T,W=F.open(m,b.flags),N=F.stat(m),P=N.size,z=new Uint8Array(P);return F.read(W,z,0,P,0),b.encoding==="utf8"?T=yt(z,0):b.encoding==="binary"&&(T=z),F.close(W),T},writeFile:function(m,b,T){T=T||{},T.flags=T.flags||577;var W=F.open(m,T.flags,T.mode);if(typeof b=="string"){var N=new Uint8Array(ge(b)+1),P=ct(b,N,0,N.length);F.write(W,N,0,P,void 0,T.canOwn)}else if(ArrayBuffer.isView(b))F.write(W,b,0,b.byteLength,void 0,T.canOwn);else throw new Error("Unsupported data type");F.close(W)},cwd:function(){return F.currentPath},chdir:function(m){var b=F.lookupPath(m,{follow:!0});if(b.node===null)throw new F.ErrnoError(44);if(!F.isDir(b.node.mode))throw new F.ErrnoError(54);var T=F.nodePermissions(b.node,"x");if(T)throw new F.ErrnoError(T);F.currentPath=b.path},createDefaultDirectories:function(){F.mkdir("/tmp"),F.mkdir("/home"),F.mkdir("/home/web_user")},createDefaultDevices:function(){F.mkdir("/dev"),F.registerDevice(F.makedev(1,3),{read:function(){return 0},write:function(b,T,W,N,P){return N}}),F.mkdev("/dev/null",F.makedev(1,3)),ms.register(F.makedev(5,0),ms.default_tty_ops),ms.register(F.makedev(6,0),ms.default_tty1_ops),F.mkdev("/dev/tty",F.makedev(5,0)),F.mkdev("/dev/tty1",F.makedev(6,0));var m=tm();F.createDevice("/dev","random",m),F.createDevice("/dev","urandom",m),F.mkdir("/dev/shm"),F.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){F.mkdir("/proc");var m=F.mkdir("/proc/self");F.mkdir("/proc/self/fd"),F.mount({mount:function(){var b=F.createNode(m,"fd",16895,73);return b.node_ops={lookup:function(T,W){var N=+W,P=F.getStream(N);if(!P)throw new F.ErrnoError(8);var z={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return P.path}}};return z.parent=z,z}},b}},{},"/proc/self/fd")},createStandardStreams:function(){p.stdin?F.createDevice("/dev","stdin",p.stdin):F.symlink("/dev/tty","/dev/stdin"),p.stdout?F.createDevice("/dev","stdout",null,p.stdout):F.symlink("/dev/tty","/dev/stdout"),p.stderr?F.createDevice("/dev","stderr",null,p.stderr):F.symlink("/dev/tty1","/dev/stderr"),F.open("/dev/stdin",0),F.open("/dev/stdout",1),F.open("/dev/stderr",1)},ensureErrnoError:function(){F.ErrnoError||(F.ErrnoError=function(b,T){this.node=T,this.setErrno=function(W){this.errno=W},this.setErrno(b),this.message="FS error"},F.ErrnoError.prototype=new Error,F.ErrnoError.prototype.constructor=F.ErrnoError,[44].forEach(function(m){F.genericErrors[m]=new F.ErrnoError(m),F.genericErrors[m].stack="<generic error, no stack>"}))},staticInit:function(){F.ensureErrnoError(),F.nameTable=new Array(4096),F.mount(bt,{},"/"),F.createDefaultDirectories(),F.createDefaultDevices(),F.createSpecialDirectories(),F.filesystems={MEMFS:bt}},init:function(m,b,T){F.init.initialized=!0,F.ensureErrnoError(),p.stdin=m||p.stdin,p.stdout=b||p.stdout,p.stderr=T||p.stderr,F.createStandardStreams()},quit:function(){F.init.initialized=!1;var m=p._fflush;m&&m(0);for(var b=0;b<F.streams.length;b++){var T=F.streams[b];!T||F.close(T)}},getMode:function(m,b){var T=0;return m&&(T|=365),b&&(T|=146),T},findObject:function(m,b){var T=F.analyzePath(m,b);return T.exists?T.object:null},analyzePath:function(m,b){try{var T=F.lookupPath(m,{follow:!b});m=T.path}catch{}var W={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var T=F.lookupPath(m,{parent:!0});W.parentExists=!0,W.parentPath=T.path,W.parentObject=T.node,W.name=kt.basename(m),T=F.lookupPath(m,{follow:!b}),W.exists=!0,W.path=T.path,W.object=T.node,W.name=T.node.name,W.isRoot=T.path==="/"}catch(N){W.error=N.errno}return W},createPath:function(m,b,T,W){m=typeof m=="string"?m:F.getPath(m);for(var N=b.split("/").reverse();N.length;){var P=N.pop();if(!!P){var z=kt.join2(m,P);try{F.mkdir(z)}catch{}m=z}}return z},createFile:function(m,b,T,W,N){var P=kt.join2(typeof m=="string"?m:F.getPath(m),b),z=F.getMode(W,N);return F.create(P,z)},createDataFile:function(m,b,T,W,N,P){var z=b?kt.join2(typeof m=="string"?m:F.getPath(m),b):m,O=F.getMode(W,N),_=F.create(z,O);if(T){if(typeof T=="string"){for(var ue=new Array(T.length),Ie=0,Ee=T.length;Ie<Ee;++Ie)ue[Ie]=T.charCodeAt(Ie);T=ue}F.chmod(_,O|146);var Ne=F.open(_,577);F.write(Ne,T,0,T.length,0,P),F.close(Ne),F.chmod(_,O)}return _},createDevice:function(m,b,T,W){var N=kt.join2(typeof m=="string"?m:F.getPath(m),b),P=F.getMode(!!T,!!W);F.createDevice.major||(F.createDevice.major=64);var z=F.makedev(F.createDevice.major++,0);return F.registerDevice(z,{open:function(O){O.seekable=!1},close:function(O){W&&W.buffer&&W.buffer.length&&W(10)},read:function(O,_,ue,Ie,Ee){for(var Ne=0,Pe=0;Pe<Ie;Pe++){var lt;try{lt=T()}catch{throw new F.ErrnoError(29)}if(lt===void 0&&Ne===0)throw new F.ErrnoError(6);if(lt==null)break;Ne++,_[ue+Pe]=lt}return Ne&&(O.node.timestamp=Date.now()),Ne},write:function(O,_,ue,Ie,Ee){for(var Ne=0;Ne<Ie;Ne++)try{W(_[ue+Ne])}catch{throw new F.ErrnoError(29)}return Ie&&(O.node.timestamp=Date.now()),Ne}}),F.mkdev(N,P,z)},forceLoadFile:function(m){if(m.isDevice||m.isFolder||m.link||m.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(Q)try{m.contents=Xu(Q(m.url),!0),m.usedBytes=m.contents.length}catch{throw new F.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:function(m,b,T,W,N){function P(){this.lengthKnown=!1,this.chunks=[]}if(P.prototype.get=function(Ne){if(!(Ne>this.length-1||Ne<0)){var Pe=Ne%this.chunkSize,lt=Ne/this.chunkSize|0;return this.getter(lt)[Pe]}},P.prototype.setDataGetter=function(Ne){this.getter=Ne},P.prototype.cacheLength=function(){var Ne=new XMLHttpRequest;if(Ne.open("HEAD",T,!1),Ne.send(null),!(Ne.status>=200&&Ne.status<300||Ne.status===304))throw new Error("Couldn't load "+T+". Status: "+Ne.status);var Pe=Number(Ne.getResponseHeader("Content-length")),lt,jt=(lt=Ne.getResponseHeader("Accept-Ranges"))&&lt==="bytes",ys=(lt=Ne.getResponseHeader("Content-Encoding"))&&lt==="gzip",ss=1024*1024;jt||(ss=Pe);var Ve=function(es,Jt){if(es>Jt)throw new Error("invalid range ("+es+", "+Jt+") or no bytes requested!");if(Jt>Pe-1)throw new Error("only "+Pe+" bytes available! programmer error!");var ts=new XMLHttpRequest;if(ts.open("GET",T,!1),Pe!==ss&&ts.setRequestHeader("Range","bytes="+es+"-"+Jt),typeof Uint8Array<"u"&&(ts.responseType="arraybuffer"),ts.overrideMimeType&&ts.overrideMimeType("text/plain; charset=x-user-defined"),ts.send(null),!(ts.status>=200&&ts.status<300||ts.status===304))throw new Error("Couldn't load "+T+". Status: "+ts.status);return ts.response!==void 0?new Uint8Array(ts.response||[]):Xu(ts.responseText||"",!0)},Qe=this;Qe.setDataGetter(function(es){var Jt=es*ss,ts=(es+1)*ss-1;if(ts=Math.min(ts,Pe-1),typeof Qe.chunks[es]>"u"&&(Qe.chunks[es]=Ve(Jt,ts)),typeof Qe.chunks[es]>"u")throw new Error("doXHR failed!");return Qe.chunks[es]}),(ys||!Pe)&&(ss=Pe=1,Pe=this.getter(0).length,ss=Pe,le("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Pe,this._chunkSize=ss,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!L)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var z=new P;Object.defineProperties(z,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var O={isDevice:!1,contents:z}}else var O={isDevice:!1,url:T};var _=F.createFile(m,b,O,W,N);O.contents?_.contents=O.contents:O.url&&(_.contents=null,_.url=O.url),Object.defineProperties(_,{usedBytes:{get:function(){return this.contents.length}}});var ue={},Ie=Object.keys(_.stream_ops);return Ie.forEach(function(Ee){var Ne=_.stream_ops[Ee];ue[Ee]=function(){return F.forceLoadFile(_),Ne.apply(null,arguments)}}),ue.read=function(Ne,Pe,lt,jt,ys){F.forceLoadFile(_);var ss=Ne.node.contents;if(ys>=ss.length)return 0;var Ve=Math.min(ss.length-ys,jt);if(ss.slice)for(var Qe=0;Qe<Ve;Qe++)Pe[lt+Qe]=ss[ys+Qe];else for(var Qe=0;Qe<Ve;Qe++)Pe[lt+Qe]=ss.get(ys+Qe);return Ve},_.stream_ops=ue,_},createPreloadedFile:function(m,b,T,W,N,P,z,O,_,ue){Browser.init();var Ie=b?Di.resolve(kt.join2(m,b)):m;function Ee(Ne){function Pe(jt){ue&&ue(),O||F.createDataFile(m,b,jt,W,N,_),P&&P(),J()}var lt=!1;p.preloadPlugins.forEach(function(jt){lt||jt.canHandle(Ie)&&(jt.handle(Ne,Ie,Pe,function(){z&&z(),J()}),lt=!0)}),lt||Pe(Ne)}Er(),typeof T=="string"?sm(T,function(Ne){Ee(Ne)},z):Ee(T)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(m,b,T){b=b||function(){},T=T||function(){};var W=F.indexedDB();try{var N=W.open(F.DB_NAME(),F.DB_VERSION)}catch(P){return T(P)}N.onupgradeneeded=function(){le("creating db");var z=N.result;z.createObjectStore(F.DB_STORE_NAME)},N.onsuccess=function(){var z=N.result,O=z.transaction([F.DB_STORE_NAME],"readwrite"),_=O.objectStore(F.DB_STORE_NAME),ue=0,Ie=0,Ee=m.length;function Ne(){Ie==0?b():T()}m.forEach(function(Pe){var lt=_.put(F.analyzePath(Pe).object.contents,Pe);lt.onsuccess=function(){ue++,ue+Ie==Ee&&Ne()},lt.onerror=function(){Ie++,ue+Ie==Ee&&Ne()}}),O.onerror=T},N.onerror=T},loadFilesFromDB:function(m,b,T){b=b||function(){},T=T||function(){};var W=F.indexedDB();try{var N=W.open(F.DB_NAME(),F.DB_VERSION)}catch(P){return T(P)}N.onupgradeneeded=T,N.onsuccess=function(){var z=N.result;try{var O=z.transaction([F.DB_STORE_NAME],"readonly")}catch(Pe){T(Pe);return}var _=O.objectStore(F.DB_STORE_NAME),ue=0,Ie=0,Ee=m.length;function Ne(){Ie==0?b():T()}m.forEach(function(Pe){var lt=_.get(Pe);lt.onsuccess=function(){F.analyzePath(Pe).exists&&F.unlink(Pe),F.createDataFile(kt.dirname(Pe),kt.basename(Pe),lt.result,!0,!0,!0),ue++,ue+Ie==Ee&&Ne()},lt.onerror=function(){Ie++,ue+Ie==Ee&&Ne()}}),O.onerror=T},N.onerror=T}},Ns={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(m,b,T){if(b[0]==="/")return b;var W;if(m===-100)W=F.cwd();else{var N=F.getStream(m);if(!N)throw new F.ErrnoError(8);W=N.path}if(b.length==0){if(!T)throw new F.ErrnoError(44);return W}return kt.join2(W,b)},doStat:function(m,b,T){try{var W=m(b)}catch(N){if(N&&N.node&&kt.normalize(b)!==kt.normalize(F.getPath(N.node)))return-54;throw N}return c()[T>>>2]=W.dev,c()[T+4>>>2]=0,c()[T+8>>>2]=W.ino,c()[T+12>>>2]=W.mode,c()[T+16>>>2]=W.nlink,c()[T+20>>>2]=W.uid,c()[T+24>>>2]=W.gid,c()[T+28>>>2]=W.rdev,c()[T+32>>>2]=0,Vt=[W.size>>>0,(et=W.size,+Math.abs(et)>=1?et>0?(Math.min(+Math.floor(et/4294967296),4294967295)|0)>>>0:~~+Math.ceil((et-+(~~et>>>0))/4294967296)>>>0:0)],c()[T+40>>>2]=Vt[0],c()[T+44>>>2]=Vt[1],c()[T+48>>>2]=4096,c()[T+52>>>2]=W.blocks,c()[T+56>>>2]=W.atime.getTime()/1e3|0,c()[T+60>>>2]=0,c()[T+64>>>2]=W.mtime.getTime()/1e3|0,c()[T+68>>>2]=0,c()[T+72>>>2]=W.ctime.getTime()/1e3|0,c()[T+76>>>2]=0,Vt=[W.ino>>>0,(et=W.ino,+Math.abs(et)>=1?et>0?(Math.min(+Math.floor(et/4294967296),4294967295)|0)>>>0:~~+Math.ceil((et-+(~~et>>>0))/4294967296)>>>0:0)],c()[T+80>>>2]=Vt[0],c()[T+84>>>2]=Vt[1],0},doMsync:function(m,b,T,W,N){var P=l().slice(m,m+T);F.msync(b,P,N,T,W)},doMkdir:function(m,b){return m=kt.normalize(m),m[m.length-1]==="/"&&(m=m.substr(0,m.length-1)),F.mkdir(m,b,0),0},doMknod:function(m,b,T){switch(b&61440){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return F.mknod(m,b,T),0},doReadlink:function(m,b,T){if(T<=0)return-28;var W=F.readlink(m),N=Math.min(T,ge(W)),P=r()[b+N>>>0];return be(W,b,T+1),r()[b+N>>>0]=P,N},doAccess:function(m,b){if(b&-8)return-28;var T,W=F.lookupPath(m,{follow:!0});if(T=W.node,!T)return-44;var N="";return b&4&&(N+="r"),b&2&&(N+="w"),b&1&&(N+="x"),N&&F.nodePermissions(T,N)?-2:0},doDup:function(m,b,T){var W=F.getStream(T);return W&&F.close(W),F.open(m,b,0,T,T).fd},doReadv:function(m,b,T,W){for(var N=0,P=0;P<T;P++){var z=c()[b+P*8>>>2],O=c()[b+(P*8+4)>>>2],_=F.read(m,r(),z,O,W);if(_<0)return-1;if(N+=_,_<O)break}return N},doWritev:function(m,b,T,W){for(var N=0,P=0;P<T;P++){var z=c()[b+P*8>>>2],O=c()[b+(P*8+4)>>>2],_=F.write(m,r(),z,O,W);if(_<0)return-1;N+=_}return N},varargs:void 0,get:function(){Ns.varargs+=4;var m=c()[Ns.varargs-4>>>2];return m},getStr:function(m){var b=We(m);return b},getStreamFromFD:function(m){var b=F.getStream(m);if(!b)throw new F.ErrnoError(8);return b},get64:function(m,b){return m}};function La(m,b,T){if(E)return Z(2,1,m,b,T);Ns.varargs=T;try{var W=Ns.getStreamFromFD(m);switch(b){case 0:{var N=Ns.get();if(N<0)return-28;var P;return P=F.open(W.path,W.flags,0,N),P.fd}case 1:case 2:return 0;case 3:return W.flags;case 4:{var N=Ns.get();return W.flags|=N,0}case 12:{var N=Ns.get(),z=0;return a()[N+z>>>1]=2,0}case 13:case 14:return 0;case 16:case 8:return-28;case 9:return Fs(28),-1;default:return-28}}catch(O){return(typeof F>"u"||!(O instanceof F.ErrnoError))&&te(O),-O.errno}}function Fa(m,b,T){if(E)return Z(3,1,m,b,T);Ns.varargs=T;try{var W=Ns.getStreamFromFD(m);switch(b){case 21509:case 21505:return W.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return W.tty?0:-59;case 21519:{if(!W.tty)return-59;var N=Ns.get();return c()[N>>>2]=0,0}case 21520:return W.tty?-28:-59;case 21531:{var N=Ns.get();return F.ioctl(W,b,N)}case 21523:return W.tty?0:-59;case 21524:return W.tty?0:-59;default:te("bad ioctl syscall "+b)}}catch(P){return(typeof F>"u"||!(P instanceof F.ErrnoError))&&te(P),-P.errno}}function nc(m,b,T){if(E)return Z(4,1,m,b,T);Ns.varargs=T;try{var W=Ns.getStr(m),N=T?Ns.get():0,P=F.open(W,b,N);return P.fd}catch(z){return(typeof F>"u"||!(z instanceof F.ErrnoError))&&te(z),-z.errno}}var Na={};function Mr(m){for(;m.length;){var b=m.pop(),T=m.pop();T(b)}}function Ji(m){return this.fromWireType(h()[m>>>2])}var wr={},ir={},xa={},pl=48,ml=57;function bl(m){if(m===void 0)return"_unknown";m=m.replace(/[^a-zA-Z0-9_]/g,"$");var b=m.charCodeAt(0);return b>=pl&&b<=ml?"_"+m:m}function va(m,b){return m=bl(m),new Function("body","return function "+m+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(b)}function rc(m,b){var T=va(b,function(W){this.name=b,this.message=W;var N=new Error(W).stack;N!==void 0&&(this.stack=this.toString()+`
`+N.replace(/^Error(:[^\n]*)?\n/,""))});return T.prototype=Object.create(m.prototype),T.prototype.constructor=T,T.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},T}var an=void 0;function yl(m){throw new an(m)}function on(m,b,T){m.forEach(function(O){xa[O]=b});function W(O){var _=T(O);_.length!==m.length&&yl("Mismatched type converter count");for(var ue=0;ue<m.length;++ue)Ki(m[ue],_[ue])}var N=new Array(b.length),P=[],z=0;b.forEach(function(O,_){ir.hasOwnProperty(O)?N[_]=ir[O]:(P.push(O),wr.hasOwnProperty(O)||(wr[O]=[]),wr[O].push(function(){N[_]=ir[O],++z,z===P.length&&W(N)}))}),P.length===0&&W(N)}function lc(m){var b=Na[m];delete Na[m];var T=b.elements,W=T.length,N=T.map(function(O){return O.getterReturnType}).concat(T.map(function(O){return O.setterArgumentType})),P=b.rawConstructor,z=b.rawDestructor;on([m],N,function(O){return T.forEach(function(_,ue){var Ie=O[ue],Ee=_.getter,Ne=_.getterContext,Pe=O[ue+W],lt=_.setter,jt=_.setterContext;_.read=function(ys){return Ie.fromWireType(Ee(Ne,ys))},_.write=function(ys,ss){var Ve=[];lt(jt,ys,Pe.toWireType(Ve,ss)),Mr(Ve)}}),[{name:b.name,fromWireType:function(_){for(var ue=new Array(W),Ie=0;Ie<W;++Ie)ue[Ie]=T[Ie].read(_);return z(_),ue},toWireType:function(_,ue){if(W!==ue.length)throw new TypeError("Incorrect number of tuple elements for "+b.name+": expected="+W+", actual="+ue.length);for(var Ie=P(),Ee=0;Ee<W;++Ee)T[Ee].write(Ie,ue[Ee]);return _!==null&&_.push(z,Ie),Ie},argPackAdvance:8,readValueFromPointer:Ji,destructorFunction:z}]})}var Ea={};function ac(m){var b=Ea[m];delete Ea[m];var T=b.rawConstructor,W=b.rawDestructor,N=b.fields,P=N.map(function(z){return z.getterReturnType}).concat(N.map(function(z){return z.setterArgumentType}));on([m],P,function(z){var O={};return N.forEach(function(_,ue){var Ie=_.fieldName,Ee=z[ue],Ne=_.getter,Pe=_.getterContext,lt=z[ue+N.length],jt=_.setter,ys=_.setterContext;O[Ie]={read:function(ss){return Ee.fromWireType(Ne(Pe,ss))},write:function(ss,Ve){var Qe=[];jt(ys,ss,lt.toWireType(Qe,Ve)),Mr(Qe)}}}),[{name:b.name,fromWireType:function(_){var ue={};for(var Ie in O)ue[Ie]=O[Ie].read(_);return W(_),ue},toWireType:function(_,ue){for(var Ie in O)if(!(Ie in ue))throw new TypeError('Missing field:  "'+Ie+'"');var Ee=T();for(Ie in O)O[Ie].write(Ee,ue[Ie]);return _!==null&&_.push(W,Ee),Ee},argPackAdvance:8,readValueFromPointer:Ji,destructorFunction:W}]})}function im(m,b,T,W,N){}function Ya(m){switch(m){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+m)}}function nm(){for(var m=new Array(256),b=0;b<256;++b)m[b]=String.fromCharCode(b);su=m}var su=void 0;function vs(m){for(var b="",T=m;l()[T>>>0];)b+=su[l()[T++>>>0]];return b}var Hr=void 0;function Dt(m){throw new Hr(m)}function Ki(m,b,T){if(T=T||{},!("argPackAdvance"in b))throw new TypeError("registerType registeredInstance requires argPackAdvance");var W=b.name;if(m||Dt('type "'+W+'" must have a positive integer typeid pointer'),ir.hasOwnProperty(m)){if(T.ignoreDuplicateRegistrations)return;Dt("Cannot register type '"+W+"' twice")}if(ir[m]=b,delete xa[m],wr.hasOwnProperty(m)){var N=wr[m];delete wr[m],N.forEach(function(P){P()})}}function rm(m,b,T,W,N){var P=Ya(T);b=vs(b),Ki(m,{name:b,fromWireType:function(z){return!!z},toWireType:function(z,O){return O?W:N},argPackAdvance:8,readValueFromPointer:function(z){var O;if(T===1)O=r();else if(T===2)O=a();else if(T===4)O=c();else throw new TypeError("Unknown boolean type size: "+b);return this.fromWireType(O[z>>>P])},destructorFunction:null})}function lm(m){if(!(this instanceof Li)||!(m instanceof Li))return!1;for(var b=this.$$.ptrType.registeredClass,T=this.$$.ptr,W=m.$$.ptrType.registeredClass,N=m.$$.ptr;b.baseClass;)T=b.upcast(T),b=b.baseClass;for(;W.baseClass;)N=W.upcast(N),W=W.baseClass;return b===W&&T===N}function am(m){return{count:m.count,deleteScheduled:m.deleteScheduled,preservePointerOnDelete:m.preservePointerOnDelete,ptr:m.ptr,ptrType:m.ptrType,smartPtr:m.smartPtr,smartPtrType:m.smartPtrType}}function nr(m){function b(T){return T.$$.ptrType.registeredClass.name}Dt(b(m)+" instance already deleted")}var oc=!1;function iu(m){}function Ma(m){m.smartPtr?m.smartPtrType.rawDestructor(m.smartPtr):m.ptrType.registeredClass.rawDestructor(m.ptr)}function nu(m){m.count.value-=1;var b=m.count.value===0;b&&Ma(m)}function Zl(m){return typeof FinalizationGroup>"u"?(Zl=function(b){return b},m):(oc=new FinalizationGroup(function(b){for(var T=b.next();!T.done;T=b.next()){var W=T.value;W.ptr?nu(W):console.warn("object already deleted: "+W.ptr)}}),Zl=function(b){return oc.register(b,b.$$,b.$$),b},iu=function(b){oc.unregister(b.$$)},Zl(m))}function cn(){if(this.$$.ptr||nr(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var m=Zl(Object.create(Object.getPrototypeOf(this),{$$:{value:am(this.$$)}}));return m.$$.count.value+=1,m.$$.deleteScheduled=!1,m}function ru(){this.$$.ptr||nr(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Dt("Object already scheduled for deletion"),iu(this),nu(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function om(){return!this.$$.ptr}var Gl=void 0,gl=[];function Us(){for(;gl.length;){var m=gl.pop();m.$$.deleteScheduled=!1,m.delete()}}function lu(){return this.$$.ptr||nr(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Dt("Object already scheduled for deletion"),gl.push(this),gl.length===1&&Gl&&Gl(Us),this.$$.deleteScheduled=!0,this}function au(){Li.prototype.isAliasOf=lm,Li.prototype.clone=cn,Li.prototype.delete=ru,Li.prototype.isDeleted=om,Li.prototype.deleteLater=lu}function Li(){}var ou={};function wa(m,b,T){if(m[b].overloadTable===void 0){var W=m[b];m[b]=function(){return m[b].overloadTable.hasOwnProperty(arguments.length)||Dt("Function '"+T+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+m[b].overloadTable+")!"),m[b].overloadTable[arguments.length].apply(this,arguments)},m[b].overloadTable=[],m[b].overloadTable[W.argCount]=W}}function cc(m,b,T){p.hasOwnProperty(m)?((T===void 0||p[m].overloadTable!==void 0&&p[m].overloadTable[T]!==void 0)&&Dt("Cannot register public name '"+m+"' twice"),wa(p,m,m),p.hasOwnProperty(T)&&Dt("Cannot register multiple overloads of a function with the same number of arguments ("+T+")!"),p[m].overloadTable[T]=b):(p[m]=b,T!==void 0&&(p[m].numArguments=T))}function cm(m,b,T,W,N,P,z,O){this.name=m,this.constructor=b,this.instancePrototype=T,this.rawDestructor=W,this.baseClass=N,this.getActualType=P,this.upcast=z,this.downcast=O,this.pureVirtualFunctions=[]}function Ha(m,b,T){for(;b!==T;)b.upcast||Dt("Expected null or instance of "+T.name+", got an instance of "+b.name),m=b.upcast(m),b=b.baseClass;return m}function hm(m,b){if(b===null)return this.isReference&&Dt("null is not a valid "+this.name),0;b.$$||Dt('Cannot pass "'+zr(b)+'" as a '+this.name),b.$$.ptr||Dt("Cannot pass deleted object as a pointer of type "+this.name);var T=b.$$.ptrType.registeredClass,W=Ha(b.$$.ptr,T,this.registeredClass);return W}function hc(m,b){var T;if(b===null)return this.isReference&&Dt("null is not a valid "+this.name),this.isSmartPointer?(T=this.rawConstructor(),m!==null&&m.push(this.rawDestructor,T),T):0;b.$$||Dt('Cannot pass "'+zr(b)+'" as a '+this.name),b.$$.ptr||Dt("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&b.$$.ptrType.isConst&&Dt("Cannot convert argument of type "+(b.$$.smartPtrType?b.$$.smartPtrType.name:b.$$.ptrType.name)+" to parameter type "+this.name);var W=b.$$.ptrType.registeredClass;if(T=Ha(b.$$.ptr,W,this.registeredClass),this.isSmartPointer)switch(b.$$.smartPtr===void 0&&Dt("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:b.$$.smartPtrType===this?T=b.$$.smartPtr:Dt("Cannot convert argument of type "+(b.$$.smartPtrType?b.$$.smartPtrType.name:b.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:T=b.$$.smartPtr;break;case 2:if(b.$$.smartPtrType===this)T=b.$$.smartPtr;else{var N=b.clone();T=this.rawShare(T,Ni(function(){N.delete()})),m!==null&&m.push(this.rawDestructor,T)}break;default:Dt("Unsupporting sharing policy")}return T}function di(m,b){if(b===null)return this.isReference&&Dt("null is not a valid "+this.name),0;b.$$||Dt('Cannot pass "'+zr(b)+'" as a '+this.name),b.$$.ptr||Dt("Cannot pass deleted object as a pointer of type "+this.name),b.$$.ptrType.isConst&&Dt("Cannot convert argument of type "+b.$$.ptrType.name+" to parameter type "+this.name);var T=b.$$.ptrType.registeredClass,W=Ha(b.$$.ptr,T,this.registeredClass);return W}function uc(m){return this.rawGetPointee&&(m=this.rawGetPointee(m)),m}function um(m){this.rawDestructor&&this.rawDestructor(m)}function dm(m){m!==null&&m.delete()}function cu(m,b,T){if(b===T)return m;if(T.baseClass===void 0)return null;var W=cu(m,b,T.baseClass);return W===null?null:T.downcast(W)}function Fi(){return Object.keys(Yn).length}function pm(){var m=[];for(var b in Yn)Yn.hasOwnProperty(b)&&m.push(Yn[b]);return m}function mm(m){Gl=m,gl.length&&Gl&&Gl(Us)}function bm(){p.getInheritedInstanceCount=Fi,p.getLiveInheritedInstances=pm,p.flushPendingDeletes=Us,p.setDelayFunction=mm}var Yn={};function ym(m,b){for(b===void 0&&Dt("ptr should not be undefined");m.baseClass;)b=m.upcast(b),m=m.baseClass;return b}function Pr(m,b){return b=ym(m,b),Yn[b]}function Pa(m,b){(!b.ptrType||!b.ptr)&&yl("makeClassHandle requires ptr and ptrType");var T=!!b.smartPtrType,W=!!b.smartPtr;return T!==W&&yl("Both smartPtrType and smartPtr must be specified"),b.count={value:1},Zl(Object.create(m,{$$:{value:b}}))}function Zm(m){var b=this.getPointee(m);if(!b)return this.destructor(m),null;var T=Pr(this.registeredClass,b);if(T!==void 0){if(T.$$.count.value===0)return T.$$.ptr=b,T.$$.smartPtr=m,T.clone();var W=T.clone();return this.destructor(m),W}function N(){return this.isSmartPointer?Pa(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:b,smartPtrType:this,smartPtr:m}):Pa(this.registeredClass.instancePrototype,{ptrType:this,ptr:m})}var P=this.registeredClass.getActualType(b),z=ou[P];if(!z)return N.call(this);var O;this.isConst?O=z.constPointerType:O=z.pointerType;var _=cu(b,this.registeredClass,O.registeredClass);return _===null?N.call(this):this.isSmartPointer?Pa(O.registeredClass.instancePrototype,{ptrType:O,ptr:_,smartPtrType:this,smartPtr:m}):Pa(O.registeredClass.instancePrototype,{ptrType:O,ptr:_})}function Gm(){hn.prototype.getPointee=uc,hn.prototype.destructor=um,hn.prototype.argPackAdvance=8,hn.prototype.readValueFromPointer=Ji,hn.prototype.deleteObject=dm,hn.prototype.fromWireType=Zm}function hn(m,b,T,W,N,P,z,O,_,ue,Ie){this.name=m,this.registeredClass=b,this.isReference=T,this.isConst=W,this.isSmartPointer=N,this.pointeeType=P,this.sharingPolicy=z,this.rawGetPointee=O,this.rawConstructor=_,this.rawShare=ue,this.rawDestructor=Ie,!N&&b.baseClass===void 0?W?(this.toWireType=hm,this.destructorFunction=null):(this.toWireType=di,this.destructorFunction=null):this.toWireType=hc}function hu(m,b,T){p.hasOwnProperty(m)||yl("Replacing nonexistant public symbol"),p[m].overloadTable!==void 0&&T!==void 0?p[m].overloadTable[T]=b:(p[m]=b,p[m].argCount=T)}function gm(m,b,T){var W=p["dynCall_"+m];return T&&T.length?W.apply(null,[b].concat(T)):W.call(null,b)}function Tm(m,b,T){return m.includes("j")?gm(m,b,T):we.get(b).apply(null,T)}function Im(m,b){var T=[];return function(){T.length=arguments.length;for(var W=0;W<arguments.length;W++)T[W]=arguments[W];return Tm(m,b,T)}}function Qs(m,b){m=vs(m);function T(){return m.includes("j")?Im(m,b):we.get(b)}var W=T();return typeof W!="function"&&Dt("unknown function pointer with signature "+m+": "+b),W}var uu=void 0;function du(m){var b=Jv(m),T=vs(b);return vi(b),T}function za(m,b){var T=[],W={};function N(P){if(!W[P]&&!ir[P]){if(xa[P]){xa[P].forEach(N);return}T.push(P),W[P]=!0}}throw b.forEach(N),new uu(m+": "+T.map(du).join([", "]))}function Rm(m,b,T,W,N,P,z,O,_,ue,Ie,Ee,Ne){Ie=vs(Ie),P=Qs(N,P),O&&(O=Qs(z,O)),ue&&(ue=Qs(_,ue)),Ne=Qs(Ee,Ne);var Pe=bl(Ie);cc(Pe,function(){za("Cannot construct "+Ie+" due to unbound types",[W])}),on([m,b,T],W?[W]:[],function(lt){lt=lt[0];var jt,ys;W?(jt=lt.registeredClass,ys=jt.instancePrototype):ys=Li.prototype;var ss=va(Pe,function(){if(Object.getPrototypeOf(this)!==Ve)throw new Hr("Use 'new' to construct "+Ie);if(Qe.constructor_body===void 0)throw new Hr(Ie+" has no accessible constructor");var dn=Qe.constructor_body[arguments.length];if(dn===void 0)throw new Hr("Tried to invoke ctor of "+Ie+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(Qe.constructor_body).toString()+") parameters instead!");return dn.apply(this,arguments)}),Ve=Object.create(ys,{constructor:{value:ss}});ss.prototype=Ve;var Qe=new cm(Ie,ss,Ve,Ne,jt,P,O,ue),es=new hn(Ie,Qe,!0,!1,!1),Jt=new hn(Ie+"*",Qe,!1,!1,!1),ts=new hn(Ie+" const*",Qe,!1,!0,!1);return ou[m]={pointerType:Jt,constPointerType:ts},hu(Pe,ss),[es,Jt,ts]})}function Ri(m,b){for(var T=[],W=0;W<m;W++)T.push(c()[(b>>2)+W>>>0]);return T}function fm(m,b,T,W,N,P){Ge(b>0);var z=Ri(b,T);N=Qs(W,N);var O=[P],_=[];on([],[m],function(ue){ue=ue[0];var Ie="constructor "+ue.name;if(ue.registeredClass.constructor_body===void 0&&(ue.registeredClass.constructor_body=[]),ue.registeredClass.constructor_body[b-1]!==void 0)throw new Hr("Cannot register multiple constructors with identical number of parameters ("+(b-1)+") for class '"+ue.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return ue.registeredClass.constructor_body[b-1]=function(){za("Cannot construct "+ue.name+" due to unbound types",z)},on([],z,function(Ee){return ue.registeredClass.constructor_body[b-1]=function(){arguments.length!==b-1&&Dt(Ie+" called with "+arguments.length+" arguments, expected "+(b-1)),_.length=0,O.length=b;for(var Pe=1;Pe<b;++Pe)O[Pe]=Ee[Pe].toWireType(_,arguments[Pe-1]);var lt=N.apply(null,O);return Mr(_),Ee[0].fromWireType(lt)},[]}),[]})}function Xm(m,b){if(!(m instanceof Function))throw new TypeError("new_ called with constructor type "+typeof m+" which is not a function");var T=va(m.name||"unknownFunctionName",function(){});T.prototype=m.prototype;var W=new T,N=m.apply(W,b);return N instanceof Object?N:W}function pu(m,b,T,W,N){var P=b.length;P<2&&Dt("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var z=b[1]!==null&&T!==null,O=!1,_=1;_<b.length;++_)if(b[_]!==null&&b[_].destructorFunction===void 0){O=!0;break}for(var ue=b[0].name!=="void",Ie="",Ee="",_=0;_<P-2;++_)Ie+=(_!==0?", ":"")+"arg"+_,Ee+=(_!==0?", ":"")+"arg"+_+"Wired";var Ne="return function "+bl(m)+"("+Ie+`) {
if (arguments.length !== `+(P-2)+`) {
throwBindingError('function `+m+" called with ' + arguments.length + ' arguments, expected "+(P-2)+` args!');
}
`;O&&(Ne+=`var destructors = [];
`);var Pe=O?"destructors":"null",lt=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],jt=[Dt,W,N,Mr,b[0],b[1]];z&&(Ne+="var thisWired = classParam.toWireType("+Pe+`, this);
`);for(var _=0;_<P-2;++_)Ne+="var arg"+_+"Wired = argType"+_+".toWireType("+Pe+", arg"+_+"); // "+b[_+2].name+`
`,lt.push("argType"+_),jt.push(b[_+2]);if(z&&(Ee="thisWired"+(Ee.length>0?", ":"")+Ee),Ne+=(ue?"var rv = ":"")+"invoker(fn"+(Ee.length>0?", ":"")+Ee+`);
`,O)Ne+=`runDestructors(destructors);
`;else for(var _=z?1:2;_<b.length;++_){var ys=_===1?"thisWired":"arg"+(_-2)+"Wired";b[_].destructorFunction!==null&&(Ne+=ys+"_dtor("+ys+"); // "+b[_].name+`
`,lt.push(ys+"_dtor"),jt.push(b[_].destructorFunction))}ue&&(Ne+=`var ret = retType.fromWireType(rv);
return ret;
`),Ne+=`}
`,lt.push(Ne);var ss=Xm(Function,lt).apply(null,jt);return ss}function Wm(m,b,T,W,N,P,z,O){var _=Ri(T,W);b=vs(b),P=Qs(N,P),on([],[m],function(ue){ue=ue[0];var Ie=ue.name+"."+b;b.startsWith("@@")&&(b=Symbol[b.substring(2)]),O&&ue.registeredClass.pureVirtualFunctions.push(b);function Ee(){za("Cannot call "+Ie+" due to unbound types",_)}var Ne=ue.registeredClass.instancePrototype,Pe=Ne[b];return Pe===void 0||Pe.overloadTable===void 0&&Pe.className!==ue.name&&Pe.argCount===T-2?(Ee.argCount=T-2,Ee.className=ue.name,Ne[b]=Ee):(wa(Ne,b,Ie),Ne[b].overloadTable[T-2]=Ee),on([],_,function(lt){var jt=pu(Ie,lt,ue,P,z);return Ne[b].overloadTable===void 0?(jt.argCount=T-2,Ne[b]=jt):Ne[b].overloadTable[T-2]=jt,[]}),[]})}var Ua=[],ni=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function dc(m){m>4&&--ni[m].refcount===0&&(ni[m]=void 0,Ua.push(m))}function Sm(){for(var m=0,b=5;b<ni.length;++b)ni[b]!==void 0&&++m;return m}function Cm(){for(var m=5;m<ni.length;++m)if(ni[m]!==void 0)return ni[m];return null}function Vm(){p.count_emval_handles=Sm,p.get_first_emval=Cm}function Ni(m){switch(m){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var b=Ua.length?Ua.pop():ni.length;return ni[b]={refcount:1,value:m},b}}}function Lm(m,b){b=vs(b),Ki(m,{name:b,fromWireType:function(T){var W=ni[T].value;return dc(T),W},toWireType:function(T,W){return Ni(W)},argPackAdvance:8,readValueFromPointer:Ji,destructorFunction:null})}function Fm(m,b,T){switch(b){case 0:return function(W){var N=T?r():l();return this.fromWireType(N[W>>>0])};case 1:return function(W){var N=T?a():o();return this.fromWireType(N[W>>>1])};case 2:return function(W){var N=T?c():h();return this.fromWireType(N[W>>>2])};default:throw new TypeError("Unknown integer type: "+m)}}function Nm(m,b,T,W){var N=Ya(T);b=vs(b);function P(){}P.values={},Ki(m,{name:b,constructor:P,fromWireType:function(z){return this.constructor.values[z]},toWireType:function(z,O){return O.value},argPackAdvance:8,readValueFromPointer:Fm(b,N,W),destructorFunction:null}),cc(b,P)}function ka(m,b){var T=ir[m];return T===void 0&&Dt(b+" has unknown type "+du(m)),T}function xm(m,b,T){var W=ka(m,"enum");b=vs(b);var N=W.constructor,P=Object.create(W.constructor.prototype,{value:{value:T},constructor:{value:va(W.name+"_"+b,function(){})}});N.values[T]=P,N[b]=P}function zr(m){if(m===null)return"null";var b=typeof m;return b==="object"||b==="array"||b==="function"?m.toString():""+m}function vm(m,b){switch(b){case 2:return function(T){return this.fromWireType(u()[T>>>2])};case 3:return function(T){return this.fromWireType(d()[T>>>3])};default:throw new TypeError("Unknown float type: "+m)}}function pc(m,b,T){var W=Ya(T);b=vs(b),Ki(m,{name:b,fromWireType:function(N){return N},toWireType:function(N,P){if(typeof P!="number"&&typeof P!="boolean")throw new TypeError('Cannot convert "'+zr(P)+'" to '+this.name);return P},argPackAdvance:8,readValueFromPointer:vm(b,W),destructorFunction:null})}function Em(m,b,T,W,N,P){var z=Ri(b,T);m=vs(m),N=Qs(W,N),cc(m,function(){za("Cannot call "+m+" due to unbound types",z)},b-1),on([],z,function(O){var _=[O[0],null].concat(O.slice(1));return hu(m,pu(m,_,null,N,P),b-1),[]})}function Ym(m,b,T){switch(b){case 0:return T?function(N){return r()[N>>>0]}:function(N){return l()[N>>>0]};case 1:return T?function(N){return a()[N>>>1]}:function(N){return o()[N>>>1]};case 2:return T?function(N){return c()[N>>>2]}:function(N){return h()[N>>>2]};default:throw new TypeError("Unknown integer type: "+m)}}function Mm(m,b,T,W,N){b=vs(b),N===-1&&(N=4294967295);var P=Ya(T),z=function(ue){return ue};if(W===0){var O=32-8*T;z=function(ue){return ue<<O>>>O}}var _=b.includes("unsigned");Ki(m,{name:b,fromWireType:z,toWireType:function(ue,Ie){if(typeof Ie!="number"&&typeof Ie!="boolean")throw new TypeError('Cannot convert "'+zr(Ie)+'" to '+this.name);if(Ie<W||Ie>N)throw new TypeError('Passing a number "'+zr(Ie)+'" from JS side to C/C++ side to an argument of type "'+b+'", which is outside the valid range ['+W+", "+N+"]!");return _?Ie>>>0:Ie|0},argPackAdvance:8,readValueFromPointer:Ym(b,P,W!==0),destructorFunction:null})}function wm(m,b,T){var W=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],N=W[b];function P(z){z=z>>2;var O=h(),_=O[z>>>0],ue=O[z+1>>>0];return new N(he,ue,_)}T=vs(T),Ki(m,{name:T,fromWireType:P,argPackAdvance:8,readValueFromPointer:P},{ignoreDuplicateRegistrations:!0})}function Hm(m,b){b=vs(b);var T=b==="std::string";Ki(m,{name:b,fromWireType:function(W){var N=h()[W>>>2],P;if(T)for(var z=W+4,O=0;O<=N;++O){var _=W+4+O;if(O==N||l()[_>>>0]==0){var ue=_-z,Ie=We(z,ue);P===void 0?P=Ie:(P+=String.fromCharCode(0),P+=Ie),z=_+1}}else{for(var Ee=new Array(N),O=0;O<N;++O)Ee[O]=String.fromCharCode(l()[W+4+O>>>0]);P=Ee.join("")}return vi(W),P},toWireType:function(W,N){N instanceof ArrayBuffer&&(N=new Uint8Array(N));var P,z=typeof N=="string";z||N instanceof Uint8Array||N instanceof Uint8ClampedArray||N instanceof Int8Array||Dt("Cannot pass non-string to std::string"),T&&z?P=function(){return ge(N)}:P=function(){return N.length};var O=P(),_=Mn(4+O+1);if(_>>>=0,h()[_>>>2]=O,T&&z)be(N,_+4,O+1);else if(z)for(var ue=0;ue<O;++ue){var Ie=N.charCodeAt(ue);Ie>255&&(vi(_),Dt("String has UTF-16 code units that do not fit in 8 bits")),l()[_+4+ue>>>0]=Ie}else for(var ue=0;ue<O;++ue)l()[_+4+ue>>>0]=N[ue];return W!==null&&W.push(vi,_),_},argPackAdvance:8,readValueFromPointer:Ji,destructorFunction:function(W){vi(W)}})}function mc(m,b,T){T=vs(T);var W,N,P,z,O;b===2?(W=je,N=Oe,z=Wt,P=function(){return o()},O=1):b===4&&(W=Zt,N=at,z=cs,P=function(){return h()},O=2),Ki(m,{name:T,fromWireType:function(_){for(var ue=h()[_>>>2],Ie=P(),Ee,Ne=_+4,Pe=0;Pe<=ue;++Pe){var lt=_+4+Pe*b;if(Pe==ue||Ie[lt>>>O]==0){var jt=lt-Ne,ys=W(Ne,jt);Ee===void 0?Ee=ys:(Ee+=String.fromCharCode(0),Ee+=ys),Ne=lt+b}}return vi(_),Ee},toWireType:function(_,ue){typeof ue!="string"&&Dt("Cannot pass non-string to C++ string type "+T);var Ie=z(ue),Ee=Mn(4+Ie+b);return Ee>>>=0,h()[Ee>>>2]=Ie>>O,N(ue,Ee+4,Ie+b),_!==null&&_.push(vi,Ee),Ee},argPackAdvance:8,readValueFromPointer:Ji,destructorFunction:function(_){vi(_)}})}function Pm(m,b,T,W,N,P){Na[m]={name:vs(b),rawConstructor:Qs(T,W),rawDestructor:Qs(N,P),elements:[]}}function Tl(m,b,T,W,N,P,z,O,_){Na[m].elements.push({getterReturnType:b,getter:Qs(T,W),getterContext:N,setterArgumentType:P,setter:Qs(z,O),setterContext:_})}function zm(m,b,T,W,N,P){Ea[m]={name:vs(b),rawConstructor:Qs(T,W),rawDestructor:Qs(N,P),fields:[]}}function Um(m,b,T,W,N,P,z,O,_,ue){Ea[m].fields.push({fieldName:vs(b),getterReturnType:T,getter:Qs(W,N),getterContext:P,setterArgumentType:z,setter:Qs(O,_),setterContext:ue})}function km(m,b){b=vs(b),Ki(m,{isVoid:!0,name:b,argPackAdvance:0,fromWireType:function(){},toWireType:function(T,W){}})}function Dm(m,b){if(m==b)postMessage({cmd:"processQueuedMainThreadWork"});else if(E)postMessage({targetThread:m,cmd:"processThreadQueue"});else{var T=Be.pthreads[m],W=T&&T.worker;if(!W)return;W.postMessage({cmd:"processThreadQueue"})}return 1}function Oi(m){return m||Dt("Cannot use deleted val. handle = "+m),ni[m].value}function Jm(m,b,T){m=Oi(m),b=ka(b,"emval::as");var W=[],N=Ni(W);return c()[T>>>2]=N,b.toWireType(W,m)}function Km(m,b){for(var T=new Array(m),W=0;W<m;++W)T[W]=ka(c()[(b>>2)+W>>>0],"parameter "+W);return T}function Da(m,b,T,W){m=Oi(m);for(var N=Km(b,T),P=new Array(b),z=0;z<b;++z){var O=N[z];P[z]=O.readValueFromPointer(W),W+=O.argPackAdvance}var _=m.apply(void 0,P);return Ni(_)}var bc={};function Il(m){var b=bc[m];return b===void 0?vs(m):b}function Rl(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function Ja(m){return m===0?Ni(Rl()):(m=Il(m),Ni(Rl()[m]))}function Om(m,b){return m=Oi(m),b=Oi(b),Ni(m[b])}function Am(m){m>4&&(ni[m].refcount+=1)}function mu(m,b){return m=Oi(m),b=Oi(b),m instanceof b}function Ka(m){return m=Oi(m),typeof m=="number"}function Oa(){return Ni([])}function Aa(m){return Ni(Il(m))}function Bm(){return Ni({})}function Ba(m){var b=ni[m].value;Mr(b),dc(m)}function un(m,b,T){m=Oi(m),b=Oi(b),T=Oi(T),m[b]=T}function bu(m,b){m=ka(m,"_emval_take_value");var T=m.readValueFromPointer(b);return Ni(T)}function yu(){te()}var Ur=[];function yc(m,b){Ur.length=0;var T;for(b>>=2;T=l()[m++>>>0];){var W=T<105;W&&b&1&&b++,Ur.push(W?d()[b++>>>1]:c()[b>>>0]),++b}return Ur}function jm(m,b,T){var W=yc(b,T);return Ht[m].apply(null,W)}function Zc(){M||L||fe("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")}function Qm(m,b){}function Zu(m,b,T){if(m<=0||m>r().length||m&!0)return-28;if(v){if(Atomics.load(c(),m>>2)!=b)return-6;for(var N=performance.now(),P=N+T,z=Atomics.exchange(c(),ja>>2,m);;){if(N=performance.now(),N>P)return z=Atomics.exchange(c(),ja>>2,0),-73;if(z=Atomics.exchange(c(),ja>>2,0),z==0)break;if($m(),Atomics.load(c(),m>>2)!=b)return-6;z=Atomics.exchange(c(),ja>>2,m)}return 0}else{var W=Atomics.wait(c(),m>>2,b,T);if(W==="timed-out")return-73;if(W==="not-equal")return-6;if(W==="ok")return 0;throw"Atomics.wait returned an unexpected value "+W}}function y(m,b,T){l().copyWithin(m>>>0,b>>>0,b+T>>>0)}function Z(m,b){for(var T=arguments.length-2,W=Wu(),N=T,P=Su(N*8),z=P>>3,O=0;O<T;O++){var _=arguments[2+O];d()[z+O>>>0]=_}var ue=Bv(m,N,P,b);return Tc(W),ue}var f=[];function C(m,b,T){f.length=b;for(var W=T>>3,N=0;N<b;N++)f[N]=d()[W+N>>>0];var P=m<0,z=P?Ht[-m-1]:P$[m];return z.apply(null,f)}function Y(m){try{return ze.grow(m-he.byteLength+65535>>>16),$(ze.buffer),1}catch{}}function k(m){var b=l().length;if(m=m>>>0,m<=b)return!1;var T=4294901760;if(m>T)return!1;for(var W=1;W<=4;W*=2){var N=b*(1+.2/W);N=Math.min(N,m+100663296);var P=Math.min(T,D(Math.max(m,N),65536)),z=Y(P);if(z)return!0}return!1}var U={inEventHandler:0,removeAllEventListeners:function(){for(var m=U.eventHandlers.length-1;m>=0;--m)U._removeHandler(m);U.eventHandlers=[],U.deferredCalls=[]},registerRemoveEventListeners:function(){U.removeEventListenersRegistered||(U.removeEventListenersRegistered=!0)},deferredCalls:[],deferCall:function(m,b,T){function W(z,O){if(z.length!=O.length)return!1;for(var _ in z)if(z[_]!=O[_])return!1;return!0}for(var N in U.deferredCalls){var P=U.deferredCalls[N];if(P.targetFunction==m&&W(P.argsList,T))return}U.deferredCalls.push({targetFunction:m,precedence:b,argsList:T}),U.deferredCalls.sort(function(z,O){return z.precedence<O.precedence})},removeDeferredCalls:function(m){for(var b=0;b<U.deferredCalls.length;++b)U.deferredCalls[b].targetFunction==m&&(U.deferredCalls.splice(b,1),--b)},canPerformEventHandlerRequests:function(){return U.inEventHandler&&U.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(!!U.canPerformEventHandlerRequests())for(var m=0;m<U.deferredCalls.length;++m){var b=U.deferredCalls[m];U.deferredCalls.splice(m,1),--m,b.targetFunction.apply(null,b.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:function(m,b){for(var T=0;T<U.eventHandlers.length;++T)U.eventHandlers[T].target==m&&(!b||b==U.eventHandlers[T].eventTypeString)&&U._removeHandler(T--)},_removeHandler:function(m){var b=U.eventHandlers[m];b.target.removeEventListener(b.eventTypeString,b.eventListenerFunc,b.useCapture),U.eventHandlers.splice(m,1)},registerOrRemoveHandler:function(m){var b=function(N){++U.inEventHandler,U.currentEventHandler=m,U.runDeferredCalls(),m.handlerFunc(N),U.runDeferredCalls(),--U.inEventHandler};if(m.callbackfunc)m.eventListenerFunc=b,m.target.addEventListener(m.eventTypeString,b,m.useCapture),U.eventHandlers.push(m),U.registerRemoveEventListeners();else for(var T=0;T<U.eventHandlers.length;++T)U.eventHandlers[T].target==m.target&&U.eventHandlers[T].eventTypeString==m.eventTypeString&&U._removeHandler(T--)},queueEventHandlerOnThread_iiii:function(m,b,T,W,N){var P=Wu(),z=Su(12);c()[z>>>2]=T,c()[z+4>>>2]=W,c()[z+8>>>2]=N,eb(0,m,637534208,b,W,z),Tc(P)},getTargetThreadForEventCallback:function(m){switch(m){case 1:return 0;case 2:return Be.currentProxiedOperationCallerThread;default:return m}},getNodeNameForTarget:function(m){return m?m==window?"#window":m==screen?"#screen":m&&m.nodeName?m.nodeName:"":""},fullscreenEnabled:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}};function B(m){var b=ge(m)+1,T=Mn(b);return be(m,T,b),T}function ee(m,b,T,W){var N=Wu(),P=Su(12),z=0;b&&(z=B(b)),c()[P>>>2]=z,c()[P+4>>>2]=T,c()[P+8>>>2]=W,eb(0,m,657457152,0,z,P),Tc(N)}function de(m,b,T,W){b=b?We(b):"",ee(m,b,T,W)}function Re(m){return m>2?We(m):m}var Me=[0,typeof document<"u"?document:0,typeof window<"u"?window:0];function xe(m){m=Re(m);var b=Me[m]||(typeof document<"u"?document.querySelector(m):void 0);return b}function He(m){return xe(m)}function rt(m,b,T){var W=He(m);if(!W)return-4;if(W.canvasSharedPtr&&(c()[W.canvasSharedPtr>>>2]=b,c()[W.canvasSharedPtr+4>>>2]=T),W.offscreenCanvas||!W.controlTransferredOffscreen){W.offscreenCanvas&&(W=W.offscreenCanvas);var N=!1;if(W.GLctxObject&&W.GLctxObject.GLctx){var P=W.GLctxObject.GLctx.getParameter(2978);N=P[0]===0&&P[1]===0&&P[2]===W.width&&P[3]===W.height}W.width=b,W.height=T,N&&W.GLctxObject.GLctx.viewport(0,0,b,T)}else if(W.canvasSharedPtr){var z=c()[W.canvasSharedPtr+8>>>2];return de(z,m,b,T),1}else return-4;return 0}function Pt(m,b,T){return E?Z(5,1,m,b,T):rt(m,b,T)}function hs(m,b,T){var W=He(m);return W?rt(m,b,T):Pt(m,b,T)}function $t(m){}function Se(m){var b=m.getExtension("ANGLE_instanced_arrays");if(b)return m.vertexAttribDivisor=function(T,W){b.vertexAttribDivisorANGLE(T,W)},m.drawArraysInstanced=function(T,W,N,P){b.drawArraysInstancedANGLE(T,W,N,P)},m.drawElementsInstanced=function(T,W,N,P,z){b.drawElementsInstancedANGLE(T,W,N,P,z)},1}function Ae(m){var b=m.getExtension("OES_vertex_array_object");if(b)return m.createVertexArray=function(){return b.createVertexArrayOES()},m.deleteVertexArray=function(T){b.deleteVertexArrayOES(T)},m.bindVertexArray=function(T){b.bindVertexArrayOES(T)},m.isVertexArray=function(T){return b.isVertexArrayOES(T)},1}function Bt(m){var b=m.getExtension("WEBGL_draw_buffers");if(b)return m.drawBuffers=function(T,W){b.drawBuffersWEBGL(T,W)},1}function Yt(m){return!!(m.multiDrawWebgl=m.getExtension("WEBGL_multi_draw"))}var ut={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],shaders:[],vaos:[],contexts:{},offscreenCanvases:{},queries:[],stringCache:{},unpackAlignment:4,recordError:function(b){ut.lastError||(ut.lastError=b)},getNewId:function(m){for(var b=ut.counter++,T=m.length;T<b;T++)m[T]=null;return b},getSource:function(m,b,T,W){for(var N="",P=0;P<b;++P){var z=W?c()[W+P*4>>>2]:-1;N+=We(c()[T+P*4>>>2],z<0?void 0:z)}return N},createContext:function(m,b){m.getContextSafariWebGL2Fixed||(m.getContextSafariWebGL2Fixed=m.getContext,m.getContext=function(N,P){var z=m.getContextSafariWebGL2Fixed(N,P);return N=="webgl"==z instanceof WebGLRenderingContext?z:null});var T=m.getContext("webgl",b);if(!T)return 0;var W=ut.registerContext(T,b);return W},registerContext:function(m,b){var T=Mn(8);c()[T+4>>>2]=gc();var W={handle:T,attributes:b,version:b.majorVersion,GLctx:m};return m.canvas&&(m.canvas.GLctxObject=W),ut.contexts[T]=W,(typeof b.enableExtensionsByDefault>"u"||b.enableExtensionsByDefault)&&ut.initExtensions(W),T},makeContextCurrent:function(m){return ut.currentContext=ut.contexts[m],p.ctx=Dv=ut.currentContext&&ut.currentContext.GLctx,!(m&&!Dv)},getContext:function(m){return ut.contexts[m]},deleteContext:function(m){ut.currentContext===ut.contexts[m]&&(ut.currentContext=null),typeof U=="object"&&U.removeAllHandlersOnTarget(ut.contexts[m].GLctx.canvas),ut.contexts[m]&&ut.contexts[m].GLctx.canvas&&(ut.contexts[m].GLctx.canvas.GLctxObject=void 0),vi(ut.contexts[m].handle),ut.contexts[m]=null},initExtensions:function(m){if(m||(m=ut.currentContext),!m.initExtensionsDone){m.initExtensionsDone=!0;var b=m.GLctx;Se(b),Ae(b),Bt(b),b.disjointTimerQueryExt=b.getExtension("EXT_disjoint_timer_query"),Yt(b);var T=b.getSupportedExtensions()||[];T.forEach(function(W){!W.includes("lose_context")&&!W.includes("debug")&&b.getExtension(W)})}}},xi=["default","low-power","high-performance"];function rr(m,b){var T=b>>2,W=c()[T+6>>>0],N={alpha:!!c()[T+0>>>0],depth:!!c()[T+1>>>0],stencil:!!c()[T+2>>>0],antialias:!!c()[T+3>>>0],premultipliedAlpha:!!c()[T+4>>>0],preserveDrawingBuffer:!!c()[T+5>>>0],powerPreference:xi[W],failIfMajorPerformanceCaveat:!!c()[T+7>>>0],majorVersion:c()[T+8>>>0],minorVersion:c()[T+9>>>0],enableExtensionsByDefault:c()[T+10>>>0],explicitSwapControl:c()[T+11>>>0],proxyContextToMainThread:c()[T+12>>>0],renderViaOffscreenBackBuffer:c()[T+13>>>0]},P=He(m);if(!P||N.explicitSwapControl)return 0;var z=ut.createContext(P,N);return z}function v$(m,b){return rr(m,b)}var _m={};function E$(){return S||"./this.program"}function Gc(){if(!Gc.strings){var m=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",b={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:m,_:E$()};for(var T in _m)_m[T]===void 0?delete b[T]:b[T]=_m[T];var W=[];for(var T in b)W.push(T+"="+b[T]);Gc.strings=W}return Gc.strings}function Yv(m,b){if(E)return Z(6,1,m,b);try{var T=0;return Gc().forEach(function(W,N){var P=b+T;c()[m+N*4>>>2]=P,A(W,P),T+=W.length+1}),0}catch(W){return(typeof F>"u"||!(W instanceof F.ErrnoError))&&te(W),W.errno}}function Mv(m,b){if(E)return Z(7,1,m,b);try{var T=Gc();c()[m>>>2]=T.length;var W=0;return T.forEach(function(N){W+=N.length+1}),c()[b>>>2]=W,0}catch(N){return(typeof F>"u"||!(N instanceof F.ErrnoError))&&te(N),N.errno}}function wv(m){if(E)return Z(8,1,m);try{var b=Ns.getStreamFromFD(m);return F.close(b),0}catch(T){return(typeof F>"u"||!(T instanceof F.ErrnoError))&&te(T),T.errno}}function Hv(m,b,T,W){if(E)return Z(9,1,m,b,T,W);try{var N=Ns.getStreamFromFD(m),P=Ns.doReadv(N,b,T);return c()[W>>>2]=P,0}catch(z){return(typeof F>"u"||!(z instanceof F.ErrnoError))&&te(z),z.errno}}function Pv(m,b,T,W,N){if(E)return Z(10,1,m,b,T,W,N);try{var P=Ns.getStreamFromFD(m),z=4294967296,O=T*z+(b>>>0),_=9007199254740992;return O<=-_||O>=_?-61:(F.llseek(P,O,W),Vt=[P.position>>>0,(et=P.position,+Math.abs(et)>=1?et>0?(Math.min(+Math.floor(et/4294967296),4294967295)|0)>>>0:~~+Math.ceil((et-+(~~et>>>0))/4294967296)>>>0:0)],c()[N>>>2]=Vt[0],c()[N+4>>>2]=Vt[1],P.getdents&&O===0&&W===0&&(P.getdents=null),0)}catch(ue){return(typeof F>"u"||!(ue instanceof F.ErrnoError))&&te(ue),ue.errno}}function zv(m,b,T,W){if(E)return Z(11,1,m,b,T,W);try{var N=Ns.getStreamFromFD(m),P=Ns.doWritev(N,b,T);return c()[W>>>2]=P,0}catch(z){return(typeof F>"u"||!(z instanceof F.ErrnoError))&&te(z),z.errno}}function Uv(m){if(E)throw"Internal Error! spawnThread() can only ever be called from main application thread!";var b=Be.getNewWorker();if(!b)return 6;if(b.pthread!==void 0)throw"Internal error!";if(!m.pthread_ptr)throw"Internal error, no pthread ptr!";Be.runningWorkers.push(b);for(var T=Mn(128*4),W=0;W<128;++W)c()[T+W*4>>>2]=0;var N=m.stackBase+m.stackSize,P=Be.pthreads[m.pthread_ptr]={worker:b,stackBase:m.stackBase,stackSize:m.stackSize,allocatedOwnStack:m.allocatedOwnStack,threadInfoStruct:m.pthread_ptr},z=P.threadInfoStruct>>2;Atomics.store(h(),z+16,m.detached),Atomics.store(h(),z+25,T),Atomics.store(h(),z+10,P.threadInfoStruct),Atomics.store(h(),z+20,m.stackSize),Atomics.store(h(),z+19,N),Atomics.store(h(),z+26,m.stackSize),Atomics.store(h(),z+28,N),Atomics.store(h(),z+29,m.detached);var O=jv(),_=O+40;Atomics.store(h(),z+43,_),b.pthread=P;var ue={cmd:"run",start_routine:m.startRoutine,arg:m.arg,threadInfoStruct:m.pthread_ptr,stackBase:m.stackBase,stackSize:m.stackSize};return b.runPthread=function(){ue.time=performance.now(),b.postMessage(ue,m.transferList)},b.loaded&&(b.runPthread(),delete b.runPthread),0}function Y$(m,b,T,W){if(typeof SharedArrayBuffer>"u")return re("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;if(!m)return re("pthread_create called with a null thread pointer!"),28;var N=[],P=0;if(E&&(N.length===0||P))return Av(687865856,m,b,T,W);var z=0,O=0,_=0;b&&b!=-1?(z=c()[b>>>2],z+=81920,O=c()[b+8>>>2],_=c()[b+12>>>2]!==0):z=2097152;var ue=O==0;ue?O=sb(16,z):(O-=z,Ge(O>0));for(var Ie=Mn(228),Ee=0;Ee<57;++Ee)h()[(Ie>>2)+Ee>>>0]=0;c()[m>>>2]=Ie,c()[Ie+12>>>2]=Ie;var Ne=Ie+152;c()[Ne>>>2]=Ne;var Pe={stackBase:O,stackSize:z,allocatedOwnStack:ue,detached:_,startRoutine:T,pthread_ptr:Ie,arg:W,transferList:N};return E?(Pe.cmd="spawnThread",postMessage(Pe,N),0):Uv(Pe)}function M$(m){}function Gu(m){return m%4===0&&(m%100!==0||m%400===0)}function qm(m,b){for(var T=0,W=0;W<=b;T+=m[W++]);return T}var gu=[31,29,31,30,31,30,31,31,30,31,30,31],Tu=[31,28,31,30,31,30,31,31,30,31,30,31];function Iu(m,b){for(var T=new Date(m.getTime());b>0;){var W=Gu(T.getFullYear()),N=T.getMonth(),P=(W?gu:Tu)[N];if(b>P-T.getDate())b-=P-T.getDate()+1,T.setDate(1),N<11?T.setMonth(N+1):(T.setMonth(0),T.setFullYear(T.getFullYear()+1));else return T.setDate(T.getDate()+b),T}return T}function w$(m,b,T,W){var N=c()[W+40>>>2],P={tm_sec:c()[W>>>2],tm_min:c()[W+4>>>2],tm_hour:c()[W+8>>>2],tm_mday:c()[W+12>>>2],tm_mon:c()[W+16>>>2],tm_year:c()[W+20>>>2],tm_wday:c()[W+24>>>2],tm_yday:c()[W+28>>>2],tm_isdst:c()[W+32>>>2],tm_gmtoff:c()[W+36>>>2],tm_zone:N?We(N):""},z=We(T),O={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var _ in O)z=z.replace(new RegExp(_,"g"),O[_]);var ue=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Ie=["January","February","March","April","May","June","July","August","September","October","November","December"];function Ee(Ve,Qe,es){for(var Jt=typeof Ve=="number"?Ve.toString():Ve||"";Jt.length<Qe;)Jt=es[0]+Jt;return Jt}function Ne(Ve,Qe){return Ee(Ve,Qe,"0")}function Pe(Ve,Qe){function es(ts){return ts<0?-1:ts>0?1:0}var Jt;return(Jt=es(Ve.getFullYear()-Qe.getFullYear()))===0&&(Jt=es(Ve.getMonth()-Qe.getMonth()))===0&&(Jt=es(Ve.getDate()-Qe.getDate())),Jt}function lt(Ve){switch(Ve.getDay()){case 0:return new Date(Ve.getFullYear()-1,11,29);case 1:return Ve;case 2:return new Date(Ve.getFullYear(),0,3);case 3:return new Date(Ve.getFullYear(),0,2);case 4:return new Date(Ve.getFullYear(),0,1);case 5:return new Date(Ve.getFullYear()-1,11,31);case 6:return new Date(Ve.getFullYear()-1,11,30)}}function jt(Ve){var Qe=Iu(new Date(Ve.tm_year+1900,0,1),Ve.tm_yday),es=new Date(Qe.getFullYear(),0,4),Jt=new Date(Qe.getFullYear()+1,0,4),ts=lt(es),dn=lt(Jt);return Pe(ts,Qe)<=0?Pe(dn,Qe)<=0?Qe.getFullYear()+1:Qe.getFullYear():Qe.getFullYear()-1}var ys={"%a":function(Ve){return ue[Ve.tm_wday].substring(0,3)},"%A":function(Ve){return ue[Ve.tm_wday]},"%b":function(Ve){return Ie[Ve.tm_mon].substring(0,3)},"%B":function(Ve){return Ie[Ve.tm_mon]},"%C":function(Ve){var Qe=Ve.tm_year+1900;return Ne(Qe/100|0,2)},"%d":function(Ve){return Ne(Ve.tm_mday,2)},"%e":function(Ve){return Ee(Ve.tm_mday,2," ")},"%g":function(Ve){return jt(Ve).toString().substring(2)},"%G":function(Ve){return jt(Ve)},"%H":function(Ve){return Ne(Ve.tm_hour,2)},"%I":function(Ve){var Qe=Ve.tm_hour;return Qe==0?Qe=12:Qe>12&&(Qe-=12),Ne(Qe,2)},"%j":function(Ve){return Ne(Ve.tm_mday+qm(Gu(Ve.tm_year+1900)?gu:Tu,Ve.tm_mon-1),3)},"%m":function(Ve){return Ne(Ve.tm_mon+1,2)},"%M":function(Ve){return Ne(Ve.tm_min,2)},"%n":function(){return`
`},"%p":function(Ve){return Ve.tm_hour>=0&&Ve.tm_hour<12?"AM":"PM"},"%S":function(Ve){return Ne(Ve.tm_sec,2)},"%t":function(){return"	"},"%u":function(Ve){return Ve.tm_wday||7},"%U":function(Ve){var Qe=new Date(Ve.tm_year+1900,0,1),es=Qe.getDay()===0?Qe:Iu(Qe,7-Qe.getDay()),Jt=new Date(Ve.tm_year+1900,Ve.tm_mon,Ve.tm_mday);if(Pe(es,Jt)<0){var ts=qm(Gu(Jt.getFullYear())?gu:Tu,Jt.getMonth()-1)-31,dn=31-es.getDate(),fl=dn+ts+Jt.getDate();return Ne(Math.ceil(fl/7),2)}return Pe(es,Qe)===0?"01":"00"},"%V":function(Ve){var Qe=new Date(Ve.tm_year+1900,0,4),es=new Date(Ve.tm_year+1901,0,4),Jt=lt(Qe),ts=lt(es),dn=Iu(new Date(Ve.tm_year+1900,0,1),Ve.tm_yday);if(Pe(dn,Jt)<0)return"53";if(Pe(ts,dn)<=0)return"01";var fl;return Jt.getFullYear()<Ve.tm_year+1900?fl=Ve.tm_yday+32-Jt.getDate():fl=Ve.tm_yday+1-Jt.getDate(),Ne(Math.ceil(fl/7),2)},"%w":function(Ve){return Ve.tm_wday},"%W":function(Ve){var Qe=new Date(Ve.tm_year,0,1),es=Qe.getDay()===1?Qe:Iu(Qe,Qe.getDay()===0?1:7-Qe.getDay()+1),Jt=new Date(Ve.tm_year+1900,Ve.tm_mon,Ve.tm_mday);if(Pe(es,Jt)<0){var ts=qm(Gu(Jt.getFullYear())?gu:Tu,Jt.getMonth()-1)-31,dn=31-es.getDate(),fl=dn+ts+Jt.getDate();return Ne(Math.ceil(fl/7),2)}return Pe(es,Qe)===0?"01":"00"},"%y":function(Ve){return(Ve.tm_year+1900).toString().substring(2)},"%Y":function(Ve){return Ve.tm_year+1900},"%z":function(Ve){var Qe=Ve.tm_gmtoff,es=Qe>=0;return Qe=Math.abs(Qe)/60,Qe=Qe/60*100+Qe%60,(es?"+":"-")+String("0000"+Qe).slice(-4)},"%Z":function(Ve){return Ve.tm_zone},"%%":function(){return"%"}};for(var _ in ys)z.includes(_)&&(z=z.replace(new RegExp(_,"g"),ys[_](P)));var ss=Xu(z,!1);return ss.length>b?0:(_t(ss,m),ss.length-1)}function H$(m,b,T,W){return w$(m,b,T,W)}E||Be.initMainThreadBlock();var kv=function(m,b,T,W){m||(m=this),this.parent=m,this.mount=m.mount,this.mounted=null,this.id=F.nextInode++,this.name=b,this.mode=T,this.node_ops={},this.stream_ops={},this.rdev=W},Ru=365,fu=146;Object.defineProperties(kv.prototype,{read:{get:function(){return(this.mode&Ru)===Ru},set:function(m){m?this.mode|=Ru:this.mode&=~Ru}},write:{get:function(){return(this.mode&fu)===fu},set:function(m){m?this.mode|=fu:this.mode&=~fu}},isFolder:{get:function(){return F.isDir(this.mode)}},isDevice:{get:function(){return F.isChrdev(this.mode)}}}),F.FSNode=kv,F.staticInit(),p.FS_createPath=F.createPath,p.FS_createDataFile=F.createDataFile,p.FS_createPreloadedFile=F.createPreloadedFile,p.FS_createLazyFile=F.createLazyFile,p.FS_createDevice=F.createDevice,p.FS_unlink=F.unlink,an=p.InternalError=rc(Error,"InternalError"),nm(),Hr=p.BindingError=rc(Error,"BindingError"),au(),Gm(),bm(),uu=p.UnboundTypeError=rc(Error,"UnboundTypeError"),Vm();var Dv,P$=[null,ui,La,Fa,nc,Pt,Yv,Mv,wv,Hv,Pv,zv];function Xu(m,b,T){var W=T>0?T:ge(m)+1,N=new Array(W),P=ct(m,N,0,N.length);return b&&(N.length=P),N}var z$={l:Ti,B:Ii,ka:Va,A:em,D:La,V:Fa,W:nc,ma:lc,s:ac,O:im,ia:rm,v:Rm,u:fm,c:Wm,ha:Lm,la:Nm,y:xm,J:pc,f:Em,p:Mm,k:wm,K:Hm,z:mc,na:Pm,h:Tl,t:zm,e:Um,ja:km,ea:Dm,n:Jm,L:Da,b:dc,U:Ja,o:Om,j:Am,ca:mu,M:Ka,C:Oa,g:Aa,w:Bm,m:Ba,i:un,d:bu,I:yu,T:ki,G:jm,_:Zc,F:Qm,r:Zu,q:si,x:ii,R:y,$:C,S:k,aa:hs,E:$t,ba:v$,Y:Yv,Z:Mv,H:wv,ga:Hv,N:Pv,fa:zv,Q:bs,a:ze||p.wasmMemory,da:Y$,P:M$,X:H$};V(),p.___wasm_call_ctors=function(){return(p.___wasm_call_ctors=p.asm.oa).apply(null,arguments)},p._main=function(){return(p._main=p.asm.pa).apply(null,arguments)};var Mn=p._malloc=function(){return(Mn=p._malloc=p.asm.qa).apply(null,arguments)},vi=p._free=function(){return(vi=p._free=p.asm.ra).apply(null,arguments)};p._emscripten_tls_init=function(){return(p._emscripten_tls_init=p.asm.sa).apply(null,arguments)};var Jv=p.___getTypeName=function(){return(Jv=p.___getTypeName=p.asm.ua).apply(null,arguments)};p.___embind_register_native_and_builtin_types=function(){return(p.___embind_register_native_and_builtin_types=p.asm.va).apply(null,arguments)},p._emscripten_current_thread_process_queued_calls=function(){return(p._emscripten_current_thread_process_queued_calls=p.asm.wa).apply(null,arguments)};var Kv=p._emscripten_register_main_browser_thread_id=function(){return(Kv=p._emscripten_register_main_browser_thread_id=p.asm.xa).apply(null,arguments)},Ov=p.__emscripten_do_dispatch_to_thread=function(){return(Ov=p.__emscripten_do_dispatch_to_thread=p.asm.ya).apply(null,arguments)},Av=p._emscripten_sync_run_in_main_thread_4=function(){return(Av=p._emscripten_sync_run_in_main_thread_4=p.asm.za).apply(null,arguments)},$m=p._emscripten_main_thread_process_queued_calls=function(){return($m=p._emscripten_main_thread_process_queued_calls=p.asm.Aa).apply(null,arguments)},Bv=p._emscripten_run_in_main_runtime_thread_js=function(){return(Bv=p._emscripten_run_in_main_runtime_thread_js=p.asm.Ba).apply(null,arguments)},eb=p.__emscripten_call_on_thread=function(){return(eb=p.__emscripten_call_on_thread=p.asm.Ca).apply(null,arguments)},tb=p.__emscripten_thread_init=function(){return(tb=p.__emscripten_thread_init=p.asm.Da).apply(null,arguments)},jv=p._emscripten_get_global_libc=function(){return(jv=p._emscripten_get_global_libc=p.asm.Ea).apply(null,arguments)},Qv=p.___errno_location=function(){return(Qv=p.___errno_location=p.asm.Fa).apply(null,arguments)},gc=p._pthread_self=function(){return(gc=p._pthread_self=p.asm.Ga).apply(null,arguments)},_v=p.___pthread_tsd_run_dtors=function(){return(_v=p.___pthread_tsd_run_dtors=p.asm.Ha).apply(null,arguments)},Wu=p.stackSave=function(){return(Wu=p.stackSave=p.asm.Ia).apply(null,arguments)},Tc=p.stackRestore=function(){return(Tc=p.stackRestore=p.asm.Ja).apply(null,arguments)},Su=p.stackAlloc=function(){return(Su=p.stackAlloc=p.asm.Ka).apply(null,arguments)},qv=p._emscripten_stack_set_limits=function(){return(qv=p._emscripten_stack_set_limits=p.asm.La).apply(null,arguments)},sb=p._memalign=function(){return(sb=p._memalign=p.asm.Ma).apply(null,arguments)};p.dynCall_jiji=function(){return(p.dynCall_jiji=p.asm.Na).apply(null,arguments)},p.dynCall_viijii=function(){return(p.dynCall_viijii=p.asm.Oa).apply(null,arguments)},p.dynCall_iiiiij=function(){return(p.dynCall_iiiiij=p.asm.Pa).apply(null,arguments)},p.dynCall_iiiiijj=function(){return(p.dynCall_iiiiijj=p.asm.Qa).apply(null,arguments)},p.dynCall_iiiiiijj=function(){return(p.dynCall_iiiiiijj=p.asm.Ra).apply(null,arguments)};var $v=p.__emscripten_allow_main_runtime_queued_calls=44840,ja=p.__emscripten_main_thread_futex=48292;p.addRunDependency=Er,p.removeRunDependency=J,p.FS_createPath=F.createPath,p.FS_createDataFile=F.createDataFile,p.FS_createPreloadedFile=F.createPreloadedFile,p.FS_createLazyFile=F.createLazyFile,p.FS_createDevice=F.createDevice,p.FS_unlink=F.unlink,p.keepRuntimeAlive=qt,p.FS=F,p.PThread=Be,p.PThread=Be,p.wasmMemory=ze,p.ExitStatus=Qa;var Cu;function Qa(m){this.name="ExitStatus",this.message="Program terminated with exit("+m+")",this.status=m}tr=function m(){Cu||ib(),Cu||(tr=m)};function U$(m){var b=p._main,T=0,W=0;try{var N=b(T,W);eE(N,!0)}catch(z){if(z instanceof Qa||z=="unwind")return;var P=z;z&&typeof z=="object"&&z.stack&&(P=[z,z.stack]),re("exception thrown: "+P),x(1,z)}finally{}}function ib(m){if(Ui>0)return;if(E){G(p),ti(),postMessage({cmd:"loaded"});return}if(Gt(),Ui>0)return;function b(){Cu||(Cu=!0,p.calledRun=!0,!gt&&(ti(),Gi(),G(p),p.onRuntimeInitialized&&p.onRuntimeInitialized(),tE&&U$(),ic()))}p.setStatus?(p.setStatus("Running..."),setTimeout(function(){setTimeout(function(){p.setStatus("")},1),b()},1)):b()}p.run=ib;function eE(m,b){if(!b&&E)throw postMessage({cmd:"exitProcess",returnCode:m}),new Qa(m);qt()||(Be.terminateAllThreads(),p.onExit&&p.onExit(m),gt=!0),x(m,new Qa(m))}if(p.preInit)for(typeof p.preInit=="function"&&(p.preInit=[p.preInit]);p.preInit.length>0;)p.preInit.pop()();var tE=!0;return p.noInitialRun&&(tE=!1),E&&(Ce=!1,Be.initWorker()),ib(),n.ready}}();typeof e=="object"&&typeof i=="object"?i.exports=t:typeof define=="function"&&define.amd?define([],function(){return t}):typeof e=="object"&&(e.WebIFCWasm=t)}}),UD=Pp({"dist/web-ifc.js"(e,i){var t=function(){var s=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(s=s||__filename),function(n){n=n||{};var r=typeof n<"u"?n:{},l,a;r.ready=new Promise(function(y,Z){l=y,a=Z});var o={},c;for(c in r)r.hasOwnProperty(c)&&(o[c]=r[c]);var h="./this.program",u=function(y,Z){throw Z},d=typeof window=="object",p=typeof importScripts=="function",G=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",g="";function I(y){return r.locateFile?r.locateFile(y,g):g+y}var X,S,x,v,L;G?(p?g=ei("path").dirname(g)+"/":g=__dirname+"/",X=function(Z,f){return v||(v=ei("fs")),L||(L=ei("path")),Z=L.normalize(Z),v.readFileSync(Z,f?null:"utf8")},x=function(Z){var f=X(Z,!0);return f.buffer||(f=new Uint8Array(f)),j(f.buffer),f},S=function(Z,f,C){v||(v=ei("fs")),L||(L=ei("path")),Z=L.normalize(Z),v.readFile(Z,function(Y,k){Y?C(Y):f(k.buffer)})},process.argv.length>1&&(h=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(y){if(!(y instanceof yc))throw y}),process.on("unhandledRejection",st),u=function(y,Z){if(Fe())throw process.exitCode=y,Z;process.exit(y)},r.inspect=function(){return"[Emscripten Module object]"}):(d||p)&&(p?g=self.location.href:typeof document<"u"&&document.currentScript&&(g=document.currentScript.src),s&&(g=s),g.indexOf("blob:")!==0?g=g.substr(0,g.lastIndexOf("/")+1):g="",X=function(y){var Z=new XMLHttpRequest;return Z.open("GET",y,!1),Z.send(null),Z.responseText},p&&(x=function(y){var Z=new XMLHttpRequest;return Z.open("GET",y,!1),Z.responseType="arraybuffer",Z.send(null),new Uint8Array(Z.response)}),S=function(y,Z,f){var C=new XMLHttpRequest;C.open("GET",y,!0),C.responseType="arraybuffer",C.onload=function(){if(C.status==200||C.status==0&&C.response){Z(C.response);return}f()},C.onerror=f,C.send(null)});var M=r.print||console.log.bind(console),E=r.printErr||console.warn.bind(console);for(c in o)o.hasOwnProperty(c)&&(r[c]=o[c]);o=null,r.arguments,r.thisProgram&&(h=r.thisProgram),r.quit&&(u=r.quit);var K;r.wasmBinary&&(K=r.wasmBinary);var q=r.noExitRuntime||!0;typeof WebAssembly!="object"&&st("no native wasm support detected");var Q,w=!1;function j(y,Z){y||st("Assertion failed: "+Z)}var pe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function se(y,Z,f){Z>>>=0;for(var C=Z+f,Y=Z;y[Y>>>0]&&!(Y>=C);)++Y;if(Y-Z>16&&y.subarray&&pe)return pe.decode(y.subarray(Z>>>0,Y>>>0));for(var k="";Z<Y;){var U=y[Z++>>>0];if(!(U&128)){k+=String.fromCharCode(U);continue}var B=y[Z++>>>0]&63;if((U&224)==192){k+=String.fromCharCode((U&31)<<6|B);continue}var ee=y[Z++>>>0]&63;if((U&240)==224?U=(U&15)<<12|B<<6|ee:U=(U&7)<<18|B<<12|ee<<6|y[Z++>>>0]&63,U<65536)k+=String.fromCharCode(U);else{var de=U-65536;k+=String.fromCharCode(55296|de>>10,56320|de&1023)}}return k}function oe(y,Z){return y>>>=0,y?se(ct,y,Z):""}function le(y,Z,f,C){if(f>>>=0,!(C>0))return 0;for(var Y=f,k=f+C-1,U=0;U<y.length;++U){var B=y.charCodeAt(U);if(B>=55296&&B<=57343){var ee=y.charCodeAt(++U);B=65536+((B&1023)<<10)|ee&1023}if(B<=127){if(f>=k)break;Z[f++>>>0]=B}else if(B<=2047){if(f+1>=k)break;Z[f++>>>0]=192|B>>6,Z[f++>>>0]=128|B&63}else if(B<=65535){if(f+2>=k)break;Z[f++>>>0]=224|B>>12,Z[f++>>>0]=128|B>>6&63,Z[f++>>>0]=128|B&63}else{if(f+3>=k)break;Z[f++>>>0]=240|B>>18,Z[f++>>>0]=128|B>>12&63,Z[f++>>>0]=128|B>>6&63,Z[f++>>>0]=128|B&63}}return Z[f>>>0]=0,f-Y}function re(y,Z,f){return le(y,ct,Z,f)}function ne(y){for(var Z=0,f=0;f<y.length;++f){var C=y.charCodeAt(f);C>=55296&&C<=57343&&(C=65536+((C&1023)<<10)|y.charCodeAt(++f)&1023),C<=127?++Z:C<=2047?Z+=2:C<=65535?Z+=3:Z+=4}return Z}var Ze=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;function fe(y,Z){for(var f=y,C=f>>1,Y=C+Z/2;!(C>=Y)&&ge[C>>>0];)++C;if(f=C<<1,f-y>32&&Ze)return Ze.decode(ct.subarray(y>>>0,f>>>0));for(var k="",U=0;!(U>=Z/2);++U){var B=be[y+U*2>>>1];if(B==0)break;k+=String.fromCharCode(B)}return k}function ve(y,Z,f){if(f===void 0&&(f=2147483647),f<2)return 0;f-=2;for(var C=Z,Y=f<y.length*2?f/2:y.length,k=0;k<Y;++k){var U=y.charCodeAt(k);be[Z>>>1]=U,Z+=2}return be[Z>>>1]=0,Z-C}function Ce(y){return y.length*2}function ze(y,Z){for(var f=0,C="";!(f>=Z/4);){var Y=ae[y+f*4>>>2];if(Y==0)break;if(++f,Y>=65536){var k=Y-65536;C+=String.fromCharCode(55296|k>>10,56320|k&1023)}else C+=String.fromCharCode(Y)}return C}function vt(y,Z,f){if(Z>>>=0,f===void 0&&(f=2147483647),f<4)return 0;for(var C=Z,Y=C+f-4,k=0;k<y.length;++k){var U=y.charCodeAt(k);if(U>=55296&&U<=57343){var B=y.charCodeAt(++k);U=65536+((U&1023)<<10)|B&1023}if(ae[Z>>>2]=U,Z+=4,Z+4>Y)break}return ae[Z>>>2]=0,Z-C}function gt(y){for(var Z=0,f=0;f<y.length;++f){var C=y.charCodeAt(f);C>=55296&&C<=57343&&++f,Z+=4}return Z}function Ge(y,Z){We.set(y,Z>>>0)}function Ot(y,Z,f){for(var C=0;C<y.length;++C)We[Z++>>>0]=y.charCodeAt(C);f||(We[Z>>>0]=0)}function St(y,Z){return y%Z>0&&(y+=Z-y%Z),y}var yt,We,ct,be,ge,ae,je,Oe,Wt;function Zt(y){yt=y,r.HEAP8=We=new Int8Array(y),r.HEAP16=be=new Int16Array(y),r.HEAP32=ae=new Int32Array(y),r.HEAPU8=ct=new Uint8Array(y),r.HEAPU16=ge=new Uint16Array(y),r.HEAPU32=je=new Uint32Array(y),r.HEAPF32=Oe=new Float32Array(y),r.HEAPF64=Wt=new Float64Array(y)}r.INITIAL_MEMORY;var at,cs=[],_t=[],A=[],D=[],he=0;function Fe(){return q||he>0}function Je(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)Ct(r.preRun.shift());En(cs)}function $e(){!r.noFSInit&&!V.init.initialized&&V.init(),V.ignorePermissions=!1,En(_t)}function pt(){En(A)}function ye(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)it(r.postRun.shift());En(D)}function Ct(y){cs.unshift(y)}function Ft(y){_t.unshift(y)}function it(y){D.unshift(y)}var $=0,Ue=null;function we(y){return y}function mt(y){$++,r.monitorRunDependencies&&r.monitorRunDependencies($)}function qe(y){if($--,r.monitorRunDependencies&&r.monitorRunDependencies($),$==0&&Ue){var Z=Ue;Ue=null,Z()}}r.preloadedImages={},r.preloadedAudios={};function st(y){r.onAbort&&r.onAbort(y),y+="",E(y),w=!0,y="abort("+y+"). Build with -s ASSERTIONS=1 for more info.";var Z=new WebAssembly.RuntimeError(y);throw a(Z),Z}var ke="data:application/octet-stream;base64,";function Xt(y){return y.startsWith(ke)}function qt(y){return y.startsWith("file://")}var Gt;Gt="web-ifc.wasm",Xt(Gt)||(Gt=I(Gt));function ti(y){try{if(y==Gt&&K)return new Uint8Array(K);if(x)return x(y);throw"both async and sync fetching of the wasm failed"}catch(Z){st(Z)}}function Gi(){if(!K&&(d||p)){if(typeof fetch=="function"&&!qt(Gt))return fetch(Gt,{credentials:"same-origin"}).then(function(y){if(!y.ok)throw"failed to load wasm binary file at '"+Gt+"'";return y.arrayBuffer()}).catch(function(){return ti(Gt)});if(S)return new Promise(function(y,Z){S(Gt,function(f){y(new Uint8Array(f))},Z)})}return Promise.resolve().then(function(){return ti(Gt)})}function ic(){var y={a:Bm};function Z(U,B){var ee=U.exports;r.asm=ee,Q=r.asm.$,Zt(Q.buffer),at=r.asm.ha,Ft(r.asm.aa),qe()}mt();function f(U){Z(U.instance)}function C(U){return Gi().then(function(B){var ee=WebAssembly.instantiate(B,y);return ee}).then(U,function(B){E("failed to asynchronously prepare wasm: "+B),st(B)})}function Y(){return!K&&typeof WebAssembly.instantiateStreaming=="function"&&!Xt(Gt)&&!qt(Gt)&&typeof fetch=="function"?fetch(Gt,{credentials:"same-origin"}).then(function(U){var B=WebAssembly.instantiateStreaming(U,y);return B.then(f,function(ee){return E("wasm streaming compile failed: "+ee),E("falling back to ArrayBuffer instantiation"),C(f)})}):C(f)}if(r.instantiateWasm)try{var k=r.instantiateWasm(y,Z);return k}catch(U){return E("Module.instantiateWasm callback failed with error: "+U),!1}return Y().catch(a),{}}var Gs,Vi;function En(y){for(;y.length>0;){var Z=y.shift();if(typeof Z=="function"){Z(r);continue}var f=Z.func;typeof f=="number"?Z.arg===void 0?at.get(f)():at.get(f)(Z.arg):f(Z.arg===void 0?null:Z.arg)}}function Ui(y,Z,f,C){st("Assertion failed: "+oe(y)+", at: "+[Z?oe(Z):"unknown filename",f,C?oe(C):"unknown function"])}function tr(y){return Ba(y+16)+16}function tu(y){this.excPtr=y,this.ptr=y-16,this.set_type=function(Z){ae[this.ptr+4>>>2]=Z},this.get_type=function(){return ae[this.ptr+4>>>2]},this.set_destructor=function(Z){ae[this.ptr+8>>>2]=Z},this.get_destructor=function(){return ae[this.ptr+8>>>2]},this.set_refcount=function(Z){ae[this.ptr>>>2]=Z},this.set_caught=function(Z){Z=Z?1:0,We[this.ptr+12>>>0]=Z},this.get_caught=function(){return We[this.ptr+12>>>0]!=0},this.set_rethrown=function(Z){Z=Z?1:0,We[this.ptr+13>>>0]=Z},this.get_rethrown=function(){return We[this.ptr+13>>>0]!=0},this.init=function(Z,f){this.set_type(Z),this.set_destructor(f),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var Z=ae[this.ptr>>>2];ae[this.ptr>>>2]=Z+1},this.release_ref=function(){var Z=ae[this.ptr>>>2];return ae[this.ptr>>>2]=Z-1,Z===1}}function Er(y,Z,f){var C=new tu(y);throw C.init(Z,f),y}function J(y){return ae[yu()>>>2]=y,y}var te={splitPath:function(y){var Z=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return Z.exec(y).slice(1)},normalizeArray:function(y,Z){for(var f=0,C=y.length-1;C>=0;C--){var Y=y[C];Y==="."?y.splice(C,1):Y===".."?(y.splice(C,1),f++):f&&(y.splice(C,1),f--)}if(Z)for(;f;f--)y.unshift("..");return y},normalize:function(y){var Z=y.charAt(0)==="/",f=y.substr(-1)==="/";return y=te.normalizeArray(y.split("/").filter(function(C){return!!C}),!Z).join("/"),!y&&!Z&&(y="."),y&&f&&(y+="/"),(Z?"/":"")+y},dirname:function(y){var Z=te.splitPath(y),f=Z[0],C=Z[1];return!f&&!C?".":(C&&(C=C.substr(0,C.length-1)),f+C)},basename:function(y){if(y==="/")return"/";y=te.normalize(y),y=y.replace(/\/$/,"");var Z=y.lastIndexOf("/");return Z===-1?y:y.substr(Z+1)},extname:function(y){return te.splitPath(y)[3]},join:function(){var y=Array.prototype.slice.call(arguments,0);return te.normalize(y.join("/"))},join2:function(y,Z){return te.normalize(y+"/"+Z)}};function me(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var y=new Uint8Array(1);return function(){return crypto.getRandomValues(y),y[0]}}else if(G)try{var Z=kG();return function(){return Z.randomBytes(1)[0]}}catch{}return function(){st("randomDevice")}}var ce={resolve:function(){for(var y="",Z=!1,f=arguments.length-1;f>=-1&&!Z;f--){var C=f>=0?arguments[f]:V.cwd();if(typeof C!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!C)return"";y=C+"/"+y,Z=C.charAt(0)==="/"}return y=te.normalizeArray(y.split("/").filter(function(Y){return!!Y}),!Z).join("/"),(Z?"/":"")+y||"."},relative:function(y,Z){y=ce.resolve(y).substr(1),Z=ce.resolve(Z).substr(1);function f(de){for(var Re=0;Re<de.length&&de[Re]==="";Re++);for(var Me=de.length-1;Me>=0&&de[Me]==="";Me--);return Re>Me?[]:de.slice(Re,Me-Re+1)}for(var C=f(y.split("/")),Y=f(Z.split("/")),k=Math.min(C.length,Y.length),U=k,B=0;B<k;B++)if(C[B]!==Y[B]){U=B;break}for(var ee=[],B=U;B<C.length;B++)ee.push("..");return ee=ee.concat(Y.slice(U)),ee.join("/")}},Te={ttys:[],init:function(){},shutdown:function(){},register:function(y,Z){Te.ttys[y]={input:[],output:[],ops:Z},V.registerDevice(y,Te.stream_ops)},stream_ops:{open:function(y){var Z=Te.ttys[y.node.rdev];if(!Z)throw new V.ErrnoError(43);y.tty=Z,y.seekable=!1},close:function(y){y.tty.ops.flush(y.tty)},flush:function(y){y.tty.ops.flush(y.tty)},read:function(y,Z,f,C,Y){if(!y.tty||!y.tty.ops.get_char)throw new V.ErrnoError(60);for(var k=0,U=0;U<C;U++){var B;try{B=y.tty.ops.get_char(y.tty)}catch{throw new V.ErrnoError(29)}if(B===void 0&&k===0)throw new V.ErrnoError(6);if(B==null)break;k++,Z[f+U]=B}return k&&(y.node.timestamp=Date.now()),k},write:function(y,Z,f,C,Y){if(!y.tty||!y.tty.ops.put_char)throw new V.ErrnoError(60);try{for(var k=0;k<C;k++)y.tty.ops.put_char(y.tty,Z[f+k])}catch{throw new V.ErrnoError(29)}return C&&(y.node.timestamp=Date.now()),k}},default_tty_ops:{get_char:function(y){if(!y.input.length){var Z=null;if(G){var f=256,C=Buffer.alloc(f),Y=0;try{Y=v.readSync(process.stdin.fd,C,0,f,null)}catch(k){if(k.toString().includes("EOF"))Y=0;else throw k}Y>0?Z=C.slice(0,Y).toString("utf-8"):Z=null}else typeof window<"u"&&typeof window.prompt=="function"?(Z=window.prompt("Input: "),Z!==null&&(Z+=`
`)):typeof readline=="function"&&(Z=readline(),Z!==null&&(Z+=`
`));if(!Z)return null;y.input=Aa(Z,!0)}return y.input.shift()},put_char:function(y,Z){Z===null||Z===10?(M(se(y.output,0)),y.output=[]):Z!=0&&y.output.push(Z)},flush:function(y){y.output&&y.output.length>0&&(M(se(y.output,0)),y.output=[])}},default_tty1_ops:{put_char:function(y,Z){Z===null||Z===10?(E(se(y.output,0)),y.output=[]):Z!=0&&y.output.push(Z)},flush:function(y){y.output&&y.output.length>0&&(E(se(y.output,0)),y.output=[])}}};function nt(y){st()}var Ye={ops_table:null,mount:function(y){return Ye.createNode(null,"/",16895,0)},createNode:function(y,Z,f,C){if(V.isBlkdev(f)||V.isFIFO(f))throw new V.ErrnoError(63);Ye.ops_table||(Ye.ops_table={dir:{node:{getattr:Ye.node_ops.getattr,setattr:Ye.node_ops.setattr,lookup:Ye.node_ops.lookup,mknod:Ye.node_ops.mknod,rename:Ye.node_ops.rename,unlink:Ye.node_ops.unlink,rmdir:Ye.node_ops.rmdir,readdir:Ye.node_ops.readdir,symlink:Ye.node_ops.symlink},stream:{llseek:Ye.stream_ops.llseek}},file:{node:{getattr:Ye.node_ops.getattr,setattr:Ye.node_ops.setattr},stream:{llseek:Ye.stream_ops.llseek,read:Ye.stream_ops.read,write:Ye.stream_ops.write,allocate:Ye.stream_ops.allocate,mmap:Ye.stream_ops.mmap,msync:Ye.stream_ops.msync}},link:{node:{getattr:Ye.node_ops.getattr,setattr:Ye.node_ops.setattr,readlink:Ye.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Ye.node_ops.getattr,setattr:Ye.node_ops.setattr},stream:V.chrdev_stream_ops}});var Y=V.createNode(y,Z,f,C);return V.isDir(Y.mode)?(Y.node_ops=Ye.ops_table.dir.node,Y.stream_ops=Ye.ops_table.dir.stream,Y.contents={}):V.isFile(Y.mode)?(Y.node_ops=Ye.ops_table.file.node,Y.stream_ops=Ye.ops_table.file.stream,Y.usedBytes=0,Y.contents=null):V.isLink(Y.mode)?(Y.node_ops=Ye.ops_table.link.node,Y.stream_ops=Ye.ops_table.link.stream):V.isChrdev(Y.mode)&&(Y.node_ops=Ye.ops_table.chrdev.node,Y.stream_ops=Ye.ops_table.chrdev.stream),Y.timestamp=Date.now(),y&&(y.contents[Z]=Y,y.timestamp=Y.timestamp),Y},getFileDataAsTypedArray:function(y){return y.contents?y.contents.subarray?y.contents.subarray(0,y.usedBytes):new Uint8Array(y.contents):new Uint8Array(0)},expandFileStorage:function(y,Z){Z>>>=0;var f=y.contents?y.contents.length:0;if(!(f>=Z)){var C=1024*1024;Z=Math.max(Z,f*(f<C?2:1.125)>>>0),f!=0&&(Z=Math.max(Z,256));var Y=y.contents;y.contents=new Uint8Array(Z),y.usedBytes>0&&y.contents.set(Y.subarray(0,y.usedBytes),0)}},resizeFileStorage:function(y,Z){if(Z>>>=0,y.usedBytes!=Z)if(Z==0)y.contents=null,y.usedBytes=0;else{var f=y.contents;y.contents=new Uint8Array(Z),f&&y.contents.set(f.subarray(0,Math.min(Z,y.usedBytes))),y.usedBytes=Z}},node_ops:{getattr:function(y){var Z={};return Z.dev=V.isChrdev(y.mode)?y.id:1,Z.ino=y.id,Z.mode=y.mode,Z.nlink=1,Z.uid=0,Z.gid=0,Z.rdev=y.rdev,V.isDir(y.mode)?Z.size=4096:V.isFile(y.mode)?Z.size=y.usedBytes:V.isLink(y.mode)?Z.size=y.link.length:Z.size=0,Z.atime=new Date(y.timestamp),Z.mtime=new Date(y.timestamp),Z.ctime=new Date(y.timestamp),Z.blksize=4096,Z.blocks=Math.ceil(Z.size/Z.blksize),Z},setattr:function(y,Z){Z.mode!==void 0&&(y.mode=Z.mode),Z.timestamp!==void 0&&(y.timestamp=Z.timestamp),Z.size!==void 0&&Ye.resizeFileStorage(y,Z.size)},lookup:function(y,Z){throw V.genericErrors[44]},mknod:function(y,Z,f,C){return Ye.createNode(y,Z,f,C)},rename:function(y,Z,f){if(V.isDir(y.mode)){var C;try{C=V.lookupNode(Z,f)}catch{}if(C)for(var Y in C.contents)throw new V.ErrnoError(55)}delete y.parent.contents[y.name],y.parent.timestamp=Date.now(),y.name=f,Z.contents[f]=y,Z.timestamp=y.parent.timestamp,y.parent=Z},unlink:function(y,Z){delete y.contents[Z],y.timestamp=Date.now()},rmdir:function(y,Z){var f=V.lookupNode(y,Z);for(var C in f.contents)throw new V.ErrnoError(55);delete y.contents[Z],y.timestamp=Date.now()},readdir:function(y){var Z=[".",".."];for(var f in y.contents)!y.contents.hasOwnProperty(f)||Z.push(f);return Z},symlink:function(y,Z,f){var C=Ye.createNode(y,Z,41471,0);return C.link=f,C},readlink:function(y){if(!V.isLink(y.mode))throw new V.ErrnoError(28);return y.link}},stream_ops:{read:function(y,Z,f,C,Y){var k=y.node.contents;if(Y>=y.node.usedBytes)return 0;var U=Math.min(y.node.usedBytes-Y,C);if(U>8&&k.subarray)Z.set(k.subarray(Y,Y+U),f);else for(var B=0;B<U;B++)Z[f+B]=k[Y+B];return U},write:function(y,Z,f,C,Y,k){if(Z.buffer===We.buffer&&(k=!1),!C)return 0;var U=y.node;if(U.timestamp=Date.now(),Z.subarray&&(!U.contents||U.contents.subarray)){if(k)return U.contents=Z.subarray(f,f+C),U.usedBytes=C,C;if(U.usedBytes===0&&Y===0)return U.contents=Z.slice(f,f+C),U.usedBytes=C,C;if(Y+C<=U.usedBytes)return U.contents.set(Z.subarray(f,f+C),Y),C}if(Ye.expandFileStorage(U,Y+C),U.contents.subarray&&Z.subarray)U.contents.set(Z.subarray(f,f+C),Y);else for(var B=0;B<C;B++)U.contents[Y+B]=Z[f+B];return U.usedBytes=Math.max(U.usedBytes,Y+C),C},llseek:function(y,Z,f){var C=Z;if(f===1?C+=y.position:f===2&&V.isFile(y.node.mode)&&(C+=y.node.usedBytes),C<0)throw new V.ErrnoError(28);return C},allocate:function(y,Z,f){Ye.expandFileStorage(y.node,Z+f),y.node.usedBytes=Math.max(y.node.usedBytes,Z+f)},mmap:function(y,Z,f,C,Y,k){if(Z!==0)throw new V.ErrnoError(28);if(!V.isFile(y.node.mode))throw new V.ErrnoError(43);var U,B,ee=y.node.contents;if(!(k&2)&&ee.buffer===yt)B=!1,U=ee.byteOffset;else{if((C>0||C+f<ee.length)&&(ee.subarray?ee=ee.subarray(C,C+f):ee=Array.prototype.slice.call(ee,C,C+f)),B=!0,U=nt(),!U)throw new V.ErrnoError(48);U>>>=0,We.set(ee,U>>>0)}return{ptr:U,allocated:B}},msync:function(y,Z,f,C,Y){if(!V.isFile(y.node.mode))throw new V.ErrnoError(43);return Y&2||Ye.stream_ops.write(y,Z,0,C,f,!1),0}}};function xt(y,Z,f,C){var Y=C?"":"al "+y;S(y,function(k){j(k,'Loading data file "'+y+'" failed (no arrayBuffer).'),Z(new Uint8Array(k)),Y&&qe()},function(k){if(f)f();else throw'Loading data file "'+y+'" failed.'}),Y&&mt()}var V={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(y,Z){if(y=ce.resolve(V.cwd(),y),Z=Z||{},!y)return{path:"",node:null};var f={follow_mount:!0,recurse_count:0};for(var C in f)Z[C]===void 0&&(Z[C]=f[C]);if(Z.recurse_count>8)throw new V.ErrnoError(32);for(var Y=te.normalizeArray(y.split("/").filter(function(xe){return!!xe}),!1),k=V.root,U="/",B=0;B<Y.length;B++){var ee=B===Y.length-1;if(ee&&Z.parent)break;if(k=V.lookupNode(k,Y[B]),U=te.join2(U,Y[B]),V.isMountpoint(k)&&(!ee||ee&&Z.follow_mount)&&(k=k.mounted.root),!ee||Z.follow)for(var de=0;V.isLink(k.mode);){var Re=V.readlink(U);U=ce.resolve(te.dirname(U),Re);var Me=V.lookupPath(U,{recurse_count:Z.recurse_count});if(k=Me.node,de++>40)throw new V.ErrnoError(32)}}return{path:U,node:k}},getPath:function(y){for(var Z;;){if(V.isRoot(y)){var f=y.mount.mountpoint;return Z?f[f.length-1]!=="/"?f+"/"+Z:f+Z:f}Z=Z?y.name+"/"+Z:y.name,y=y.parent}},hashName:function(y,Z){for(var f=0,C=0;C<Z.length;C++)f=(f<<5)-f+Z.charCodeAt(C)|0;return(y+f>>>0)%V.nameTable.length},hashAddNode:function(y){var Z=V.hashName(y.parent.id,y.name);y.name_next=V.nameTable[Z],V.nameTable[Z]=y},hashRemoveNode:function(y){var Z=V.hashName(y.parent.id,y.name);if(V.nameTable[Z]===y)V.nameTable[Z]=y.name_next;else for(var f=V.nameTable[Z];f;){if(f.name_next===y){f.name_next=y.name_next;break}f=f.name_next}},lookupNode:function(y,Z){var f=V.mayLookup(y);if(f)throw new V.ErrnoError(f,y);for(var C=V.hashName(y.id,Z),Y=V.nameTable[C];Y;Y=Y.name_next){var k=Y.name;if(Y.parent.id===y.id&&k===Z)return Y}return V.lookup(y,Z)},createNode:function(y,Z,f,C){var Y=new V.FSNode(y,Z,f,C);return V.hashAddNode(Y),Y},destroyNode:function(y){V.hashRemoveNode(y)},isRoot:function(y){return y===y.parent},isMountpoint:function(y){return!!y.mounted},isFile:function(y){return(y&61440)===32768},isDir:function(y){return(y&61440)===16384},isLink:function(y){return(y&61440)===40960},isChrdev:function(y){return(y&61440)===8192},isBlkdev:function(y){return(y&61440)===24576},isFIFO:function(y){return(y&61440)===4096},isSocket:function(y){return(y&49152)===49152},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(y){var Z=V.flagModes[y];if(typeof Z>"u")throw new Error("Unknown file open mode: "+y);return Z},flagsToPermissionString:function(y){var Z=["r","w","rw"][y&3];return y&512&&(Z+="w"),Z},nodePermissions:function(y,Z){return V.ignorePermissions?0:Z.includes("r")&&!(y.mode&292)||Z.includes("w")&&!(y.mode&146)||Z.includes("x")&&!(y.mode&73)?2:0},mayLookup:function(y){var Z=V.nodePermissions(y,"x");return Z||(y.node_ops.lookup?0:2)},mayCreate:function(y,Z){try{var f=V.lookupNode(y,Z);return 20}catch{}return V.nodePermissions(y,"wx")},mayDelete:function(y,Z,f){var C;try{C=V.lookupNode(y,Z)}catch(k){return k.errno}var Y=V.nodePermissions(y,"wx");if(Y)return Y;if(f){if(!V.isDir(C.mode))return 54;if(V.isRoot(C)||V.getPath(C)===V.cwd())return 10}else if(V.isDir(C.mode))return 31;return 0},mayOpen:function(y,Z){return y?V.isLink(y.mode)?32:V.isDir(y.mode)&&(V.flagsToPermissionString(Z)!=="r"||Z&512)?31:V.nodePermissions(y,V.flagsToPermissionString(Z)):44},MAX_OPEN_FDS:4096,nextfd:function(y,Z){y=y||0,Z=Z||V.MAX_OPEN_FDS;for(var f=y;f<=Z;f++)if(!V.streams[f])return f;throw new V.ErrnoError(33)},getStream:function(y){return V.streams[y]},createStream:function(y,Z,f){V.FSStream||(V.FSStream=function(){},V.FSStream.prototype={object:{get:function(){return this.node},set:function(U){this.node=U}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}}});var C=new V.FSStream;for(var Y in y)C[Y]=y[Y];y=C;var k=V.nextfd(Z,f);return y.fd=k,V.streams[k]=y,y},closeStream:function(y){V.streams[y]=null},chrdev_stream_ops:{open:function(y){var Z=V.getDevice(y.node.rdev);y.stream_ops=Z.stream_ops,y.stream_ops.open&&y.stream_ops.open(y)},llseek:function(){throw new V.ErrnoError(70)}},major:function(y){return y>>8},minor:function(y){return y&255},makedev:function(y,Z){return y<<8|Z},registerDevice:function(y,Z){V.devices[y]={stream_ops:Z}},getDevice:function(y){return V.devices[y]},getMounts:function(y){for(var Z=[],f=[y];f.length;){var C=f.pop();Z.push(C),f.push.apply(f,C.mounts)}return Z},syncfs:function(y,Z){typeof y=="function"&&(Z=y,y=!1),V.syncFSRequests++,V.syncFSRequests>1&&E("warning: "+V.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var f=V.getMounts(V.root.mount),C=0;function Y(U){return V.syncFSRequests--,Z(U)}function k(U){if(U)return k.errored?void 0:(k.errored=!0,Y(U));++C>=f.length&&Y(null)}f.forEach(function(U){if(!U.type.syncfs)return k(null);U.type.syncfs(U,y,k)})},mount:function(y,Z,f){var C=f==="/",Y=!f,k;if(C&&V.root)throw new V.ErrnoError(10);if(!C&&!Y){var U=V.lookupPath(f,{follow_mount:!1});if(f=U.path,k=U.node,V.isMountpoint(k))throw new V.ErrnoError(10);if(!V.isDir(k.mode))throw new V.ErrnoError(54)}var B={type:y,opts:Z,mountpoint:f,mounts:[]},ee=y.mount(B);return ee.mount=B,B.root=ee,C?V.root=ee:k&&(k.mounted=B,k.mount&&k.mount.mounts.push(B)),ee},unmount:function(y){var Z=V.lookupPath(y,{follow_mount:!1});if(!V.isMountpoint(Z.node))throw new V.ErrnoError(28);var f=Z.node,C=f.mounted,Y=V.getMounts(C);Object.keys(V.nameTable).forEach(function(U){for(var B=V.nameTable[U];B;){var ee=B.name_next;Y.includes(B.mount)&&V.destroyNode(B),B=ee}}),f.mounted=null;var k=f.mount.mounts.indexOf(C);f.mount.mounts.splice(k,1)},lookup:function(y,Z){return y.node_ops.lookup(y,Z)},mknod:function(y,Z,f){var C=V.lookupPath(y,{parent:!0}),Y=C.node,k=te.basename(y);if(!k||k==="."||k==="..")throw new V.ErrnoError(28);var U=V.mayCreate(Y,k);if(U)throw new V.ErrnoError(U);if(!Y.node_ops.mknod)throw new V.ErrnoError(63);return Y.node_ops.mknod(Y,k,Z,f)},create:function(y,Z){return Z=Z!==void 0?Z:438,Z&=4095,Z|=32768,V.mknod(y,Z,0)},mkdir:function(y,Z){return Z=Z!==void 0?Z:511,Z&=1023,Z|=16384,V.mknod(y,Z,0)},mkdirTree:function(y,Z){for(var f=y.split("/"),C="",Y=0;Y<f.length;++Y)if(!!f[Y]){C+="/"+f[Y];try{V.mkdir(C,Z)}catch(k){if(k.errno!=20)throw k}}},mkdev:function(y,Z,f){return typeof f>"u"&&(f=Z,Z=438),Z|=8192,V.mknod(y,Z,f)},symlink:function(y,Z){if(!ce.resolve(y))throw new V.ErrnoError(44);var f=V.lookupPath(Z,{parent:!0}),C=f.node;if(!C)throw new V.ErrnoError(44);var Y=te.basename(Z),k=V.mayCreate(C,Y);if(k)throw new V.ErrnoError(k);if(!C.node_ops.symlink)throw new V.ErrnoError(63);return C.node_ops.symlink(C,Y,y)},rename:function(y,Z){var f=te.dirname(y),C=te.dirname(Z),Y=te.basename(y),k=te.basename(Z),U,B,ee;if(U=V.lookupPath(y,{parent:!0}),B=U.node,U=V.lookupPath(Z,{parent:!0}),ee=U.node,!B||!ee)throw new V.ErrnoError(44);if(B.mount!==ee.mount)throw new V.ErrnoError(75);var de=V.lookupNode(B,Y),Re=ce.relative(y,C);if(Re.charAt(0)!==".")throw new V.ErrnoError(28);if(Re=ce.relative(Z,f),Re.charAt(0)!==".")throw new V.ErrnoError(55);var Me;try{Me=V.lookupNode(ee,k)}catch{}if(de!==Me){var xe=V.isDir(de.mode),He=V.mayDelete(B,Y,xe);if(He)throw new V.ErrnoError(He);if(He=Me?V.mayDelete(ee,k,xe):V.mayCreate(ee,k),He)throw new V.ErrnoError(He);if(!B.node_ops.rename)throw new V.ErrnoError(63);if(V.isMountpoint(de)||Me&&V.isMountpoint(Me))throw new V.ErrnoError(10);if(ee!==B&&(He=V.nodePermissions(B,"w"),He))throw new V.ErrnoError(He);try{V.trackingDelegate.willMovePath&&V.trackingDelegate.willMovePath(y,Z)}catch(rt){E("FS.trackingDelegate['willMovePath']('"+y+"', '"+Z+"') threw an exception: "+rt.message)}V.hashRemoveNode(de);try{B.node_ops.rename(de,ee,k)}catch(rt){throw rt}finally{V.hashAddNode(de)}try{V.trackingDelegate.onMovePath&&V.trackingDelegate.onMovePath(y,Z)}catch(rt){E("FS.trackingDelegate['onMovePath']('"+y+"', '"+Z+"') threw an exception: "+rt.message)}}},rmdir:function(y){var Z=V.lookupPath(y,{parent:!0}),f=Z.node,C=te.basename(y),Y=V.lookupNode(f,C),k=V.mayDelete(f,C,!0);if(k)throw new V.ErrnoError(k);if(!f.node_ops.rmdir)throw new V.ErrnoError(63);if(V.isMountpoint(Y))throw new V.ErrnoError(10);try{V.trackingDelegate.willDeletePath&&V.trackingDelegate.willDeletePath(y)}catch(U){E("FS.trackingDelegate['willDeletePath']('"+y+"') threw an exception: "+U.message)}f.node_ops.rmdir(f,C),V.destroyNode(Y);try{V.trackingDelegate.onDeletePath&&V.trackingDelegate.onDeletePath(y)}catch(U){E("FS.trackingDelegate['onDeletePath']('"+y+"') threw an exception: "+U.message)}},readdir:function(y){var Z=V.lookupPath(y,{follow:!0}),f=Z.node;if(!f.node_ops.readdir)throw new V.ErrnoError(54);return f.node_ops.readdir(f)},unlink:function(y){var Z=V.lookupPath(y,{parent:!0}),f=Z.node,C=te.basename(y),Y=V.lookupNode(f,C),k=V.mayDelete(f,C,!1);if(k)throw new V.ErrnoError(k);if(!f.node_ops.unlink)throw new V.ErrnoError(63);if(V.isMountpoint(Y))throw new V.ErrnoError(10);try{V.trackingDelegate.willDeletePath&&V.trackingDelegate.willDeletePath(y)}catch(U){E("FS.trackingDelegate['willDeletePath']('"+y+"') threw an exception: "+U.message)}f.node_ops.unlink(f,C),V.destroyNode(Y);try{V.trackingDelegate.onDeletePath&&V.trackingDelegate.onDeletePath(y)}catch(U){E("FS.trackingDelegate['onDeletePath']('"+y+"') threw an exception: "+U.message)}},readlink:function(y){var Z=V.lookupPath(y),f=Z.node;if(!f)throw new V.ErrnoError(44);if(!f.node_ops.readlink)throw new V.ErrnoError(28);return ce.resolve(V.getPath(f.parent),f.node_ops.readlink(f))},stat:function(y,Z){var f=V.lookupPath(y,{follow:!Z}),C=f.node;if(!C)throw new V.ErrnoError(44);if(!C.node_ops.getattr)throw new V.ErrnoError(63);return C.node_ops.getattr(C)},lstat:function(y){return V.stat(y,!0)},chmod:function(y,Z,f){var C;if(typeof y=="string"){var Y=V.lookupPath(y,{follow:!f});C=Y.node}else C=y;if(!C.node_ops.setattr)throw new V.ErrnoError(63);C.node_ops.setattr(C,{mode:Z&4095|C.mode&-4096,timestamp:Date.now()})},lchmod:function(y,Z){V.chmod(y,Z,!0)},fchmod:function(y,Z){var f=V.getStream(y);if(!f)throw new V.ErrnoError(8);V.chmod(f.node,Z)},chown:function(y,Z,f,C){var Y;if(typeof y=="string"){var k=V.lookupPath(y,{follow:!C});Y=k.node}else Y=y;if(!Y.node_ops.setattr)throw new V.ErrnoError(63);Y.node_ops.setattr(Y,{timestamp:Date.now()})},lchown:function(y,Z,f){V.chown(y,Z,f,!0)},fchown:function(y,Z,f){var C=V.getStream(y);if(!C)throw new V.ErrnoError(8);V.chown(C.node,Z,f)},truncate:function(y,Z){if(Z<0)throw new V.ErrnoError(28);var f;if(typeof y=="string"){var C=V.lookupPath(y,{follow:!0});f=C.node}else f=y;if(!f.node_ops.setattr)throw new V.ErrnoError(63);if(V.isDir(f.mode))throw new V.ErrnoError(31);if(!V.isFile(f.mode))throw new V.ErrnoError(28);var Y=V.nodePermissions(f,"w");if(Y)throw new V.ErrnoError(Y);f.node_ops.setattr(f,{size:Z,timestamp:Date.now()})},ftruncate:function(y,Z){var f=V.getStream(y);if(!f)throw new V.ErrnoError(8);if((f.flags&2097155)===0)throw new V.ErrnoError(28);V.truncate(f.node,Z)},utime:function(y,Z,f){var C=V.lookupPath(y,{follow:!0}),Y=C.node;Y.node_ops.setattr(Y,{timestamp:Math.max(Z,f)})},open:function(y,Z,f,C,Y){if(y==="")throw new V.ErrnoError(44);Z=typeof Z=="string"?V.modeStringToFlags(Z):Z,f=typeof f>"u"?438:f,Z&64?f=f&4095|32768:f=0;var k;if(typeof y=="object")k=y;else{y=te.normalize(y);try{var U=V.lookupPath(y,{follow:!(Z&131072)});k=U.node}catch{}}var B=!1;if(Z&64)if(k){if(Z&128)throw new V.ErrnoError(20)}else k=V.mknod(y,f,0),B=!0;if(!k)throw new V.ErrnoError(44);if(V.isChrdev(k.mode)&&(Z&=-513),Z&65536&&!V.isDir(k.mode))throw new V.ErrnoError(54);if(!B){var ee=V.mayOpen(k,Z);if(ee)throw new V.ErrnoError(ee)}Z&512&&V.truncate(k,0),Z&=-131713;var de=V.createStream({node:k,path:V.getPath(k),flags:Z,seekable:!0,position:0,stream_ops:k.stream_ops,ungotten:[],error:!1},C,Y);de.stream_ops.open&&de.stream_ops.open(de),r.logReadFiles&&!(Z&1)&&(V.readFiles||(V.readFiles={}),y in V.readFiles||(V.readFiles[y]=1,E("FS.trackingDelegate error on read file: "+y)));try{if(V.trackingDelegate.onOpenFile){var Re=0;(Z&2097155)!==1&&(Re|=V.tracking.openFlags.READ),(Z&2097155)!==0&&(Re|=V.tracking.openFlags.WRITE),V.trackingDelegate.onOpenFile(y,Re)}}catch(Me){E("FS.trackingDelegate['onOpenFile']('"+y+"', flags) threw an exception: "+Me.message)}return de},close:function(y){if(V.isClosed(y))throw new V.ErrnoError(8);y.getdents&&(y.getdents=null);try{y.stream_ops.close&&y.stream_ops.close(y)}catch(Z){throw Z}finally{V.closeStream(y.fd)}y.fd=null},isClosed:function(y){return y.fd===null},llseek:function(y,Z,f){if(V.isClosed(y))throw new V.ErrnoError(8);if(!y.seekable||!y.stream_ops.llseek)throw new V.ErrnoError(70);if(f!=0&&f!=1&&f!=2)throw new V.ErrnoError(28);return y.position=y.stream_ops.llseek(y,Z,f),y.ungotten=[],y.position},read:function(y,Z,f,C,Y){if(f>>>=0,C<0||Y<0)throw new V.ErrnoError(28);if(V.isClosed(y))throw new V.ErrnoError(8);if((y.flags&2097155)===1)throw new V.ErrnoError(8);if(V.isDir(y.node.mode))throw new V.ErrnoError(31);if(!y.stream_ops.read)throw new V.ErrnoError(28);var k=typeof Y<"u";if(!k)Y=y.position;else if(!y.seekable)throw new V.ErrnoError(70);var U=y.stream_ops.read(y,Z,f,C,Y);return k||(y.position+=U),U},write:function(y,Z,f,C,Y,k){if(f>>>=0,C<0||Y<0)throw new V.ErrnoError(28);if(V.isClosed(y))throw new V.ErrnoError(8);if((y.flags&2097155)===0)throw new V.ErrnoError(8);if(V.isDir(y.node.mode))throw new V.ErrnoError(31);if(!y.stream_ops.write)throw new V.ErrnoError(28);y.seekable&&y.flags&1024&&V.llseek(y,0,2);var U=typeof Y<"u";if(!U)Y=y.position;else if(!y.seekable)throw new V.ErrnoError(70);var B=y.stream_ops.write(y,Z,f,C,Y,k);U||(y.position+=B);try{y.path&&V.trackingDelegate.onWriteToFile&&V.trackingDelegate.onWriteToFile(y.path)}catch(ee){E("FS.trackingDelegate['onWriteToFile']('"+y.path+"') threw an exception: "+ee.message)}return B},allocate:function(y,Z,f){if(V.isClosed(y))throw new V.ErrnoError(8);if(Z<0||f<=0)throw new V.ErrnoError(28);if((y.flags&2097155)===0)throw new V.ErrnoError(8);if(!V.isFile(y.node.mode)&&!V.isDir(y.node.mode))throw new V.ErrnoError(43);if(!y.stream_ops.allocate)throw new V.ErrnoError(138);y.stream_ops.allocate(y,Z,f)},mmap:function(y,Z,f,C,Y,k){if(Z>>>=0,(Y&2)!==0&&(k&2)===0&&(y.flags&2097155)!==2)throw new V.ErrnoError(2);if((y.flags&2097155)===1)throw new V.ErrnoError(2);if(!y.stream_ops.mmap)throw new V.ErrnoError(43);return y.stream_ops.mmap(y,Z,f,C,Y,k)},msync:function(y,Z,f,C,Y){return f>>>=0,!y||!y.stream_ops.msync?0:y.stream_ops.msync(y,Z,f,C,Y)},munmap:function(y){return 0},ioctl:function(y,Z,f){if(!y.stream_ops.ioctl)throw new V.ErrnoError(59);return y.stream_ops.ioctl(y,Z,f)},readFile:function(y,Z){if(Z=Z||{},Z.flags=Z.flags||0,Z.encoding=Z.encoding||"binary",Z.encoding!=="utf8"&&Z.encoding!=="binary")throw new Error('Invalid encoding type "'+Z.encoding+'"');var f,C=V.open(y,Z.flags),Y=V.stat(y),k=Y.size,U=new Uint8Array(k);return V.read(C,U,0,k,0),Z.encoding==="utf8"?f=se(U,0):Z.encoding==="binary"&&(f=U),V.close(C),f},writeFile:function(y,Z,f){f=f||{},f.flags=f.flags||577;var C=V.open(y,f.flags,f.mode);if(typeof Z=="string"){var Y=new Uint8Array(ne(Z)+1),k=le(Z,Y,0,Y.length);V.write(C,Y,0,k,void 0,f.canOwn)}else if(ArrayBuffer.isView(Z))V.write(C,Z,0,Z.byteLength,void 0,f.canOwn);else throw new Error("Unsupported data type");V.close(C)},cwd:function(){return V.currentPath},chdir:function(y){var Z=V.lookupPath(y,{follow:!0});if(Z.node===null)throw new V.ErrnoError(44);if(!V.isDir(Z.node.mode))throw new V.ErrnoError(54);var f=V.nodePermissions(Z.node,"x");if(f)throw new V.ErrnoError(f);V.currentPath=Z.path},createDefaultDirectories:function(){V.mkdir("/tmp"),V.mkdir("/home"),V.mkdir("/home/web_user")},createDefaultDevices:function(){V.mkdir("/dev"),V.registerDevice(V.makedev(1,3),{read:function(){return 0},write:function(Z,f,C,Y,k){return Y}}),V.mkdev("/dev/null",V.makedev(1,3)),Te.register(V.makedev(5,0),Te.default_tty_ops),Te.register(V.makedev(6,0),Te.default_tty1_ops),V.mkdev("/dev/tty",V.makedev(5,0)),V.mkdev("/dev/tty1",V.makedev(6,0));var y=me();V.createDevice("/dev","random",y),V.createDevice("/dev","urandom",y),V.mkdir("/dev/shm"),V.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){V.mkdir("/proc");var y=V.mkdir("/proc/self");V.mkdir("/proc/self/fd"),V.mount({mount:function(){var Z=V.createNode(y,"fd",16895,73);return Z.node_ops={lookup:function(f,C){var Y=+C,k=V.getStream(Y);if(!k)throw new V.ErrnoError(8);var U={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return k.path}}};return U.parent=U,U}},Z}},{},"/proc/self/fd")},createStandardStreams:function(){r.stdin?V.createDevice("/dev","stdin",r.stdin):V.symlink("/dev/tty","/dev/stdin"),r.stdout?V.createDevice("/dev","stdout",null,r.stdout):V.symlink("/dev/tty","/dev/stdout"),r.stderr?V.createDevice("/dev","stderr",null,r.stderr):V.symlink("/dev/tty1","/dev/stderr"),V.open("/dev/stdin",0),V.open("/dev/stdout",1),V.open("/dev/stderr",1)},ensureErrnoError:function(){V.ErrnoError||(V.ErrnoError=function(Z,f){this.node=f,this.setErrno=function(C){this.errno=C},this.setErrno(Z),this.message="FS error"},V.ErrnoError.prototype=new Error,V.ErrnoError.prototype.constructor=V.ErrnoError,[44].forEach(function(y){V.genericErrors[y]=new V.ErrnoError(y),V.genericErrors[y].stack="<generic error, no stack>"}))},staticInit:function(){V.ensureErrnoError(),V.nameTable=new Array(4096),V.mount(Ye,{},"/"),V.createDefaultDirectories(),V.createDefaultDevices(),V.createSpecialDirectories(),V.filesystems={MEMFS:Ye}},init:function(y,Z,f){V.init.initialized=!0,V.ensureErrnoError(),r.stdin=y||r.stdin,r.stdout=Z||r.stdout,r.stderr=f||r.stderr,V.createStandardStreams()},quit:function(){V.init.initialized=!1;var y=r._fflush;y&&y(0);for(var Z=0;Z<V.streams.length;Z++){var f=V.streams[Z];!f||V.close(f)}},getMode:function(y,Z){var f=0;return y&&(f|=365),Z&&(f|=146),f},findObject:function(y,Z){var f=V.analyzePath(y,Z);return f.exists?f.object:null},analyzePath:function(y,Z){try{var f=V.lookupPath(y,{follow:!Z});y=f.path}catch{}var C={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var f=V.lookupPath(y,{parent:!0});C.parentExists=!0,C.parentPath=f.path,C.parentObject=f.node,C.name=te.basename(y),f=V.lookupPath(y,{follow:!Z}),C.exists=!0,C.path=f.path,C.object=f.node,C.name=f.node.name,C.isRoot=f.path==="/"}catch(Y){C.error=Y.errno}return C},createPath:function(y,Z,f,C){y=typeof y=="string"?y:V.getPath(y);for(var Y=Z.split("/").reverse();Y.length;){var k=Y.pop();if(!!k){var U=te.join2(y,k);try{V.mkdir(U)}catch{}y=U}}return U},createFile:function(y,Z,f,C,Y){var k=te.join2(typeof y=="string"?y:V.getPath(y),Z),U=V.getMode(C,Y);return V.create(k,U)},createDataFile:function(y,Z,f,C,Y,k){var U=Z?te.join2(typeof y=="string"?y:V.getPath(y),Z):y,B=V.getMode(C,Y),ee=V.create(U,B);if(f){if(typeof f=="string"){for(var de=new Array(f.length),Re=0,Me=f.length;Re<Me;++Re)de[Re]=f.charCodeAt(Re);f=de}V.chmod(ee,B|146);var xe=V.open(ee,577);V.write(xe,f,0,f.length,0,k),V.close(xe),V.chmod(ee,B)}return ee},createDevice:function(y,Z,f,C){var Y=te.join2(typeof y=="string"?y:V.getPath(y),Z),k=V.getMode(!!f,!!C);V.createDevice.major||(V.createDevice.major=64);var U=V.makedev(V.createDevice.major++,0);return V.registerDevice(U,{open:function(B){B.seekable=!1},close:function(B){C&&C.buffer&&C.buffer.length&&C(10)},read:function(B,ee,de,Re,Me){for(var xe=0,He=0;He<Re;He++){var rt;try{rt=f()}catch{throw new V.ErrnoError(29)}if(rt===void 0&&xe===0)throw new V.ErrnoError(6);if(rt==null)break;xe++,ee[de+He]=rt}return xe&&(B.node.timestamp=Date.now()),xe},write:function(B,ee,de,Re,Me){for(var xe=0;xe<Re;xe++)try{C(ee[de+xe])}catch{throw new V.ErrnoError(29)}return Re&&(B.node.timestamp=Date.now()),xe}}),V.mkdev(Y,k,U)},forceLoadFile:function(y){if(y.isDevice||y.isFolder||y.link||y.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(X)try{y.contents=Aa(X(y.url),!0),y.usedBytes=y.contents.length}catch{throw new V.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:function(y,Z,f,C,Y){function k(){this.lengthKnown=!1,this.chunks=[]}if(k.prototype.get=function(xe){if(!(xe>this.length-1||xe<0)){var He=xe%this.chunkSize,rt=xe/this.chunkSize|0;return this.getter(rt)[He]}},k.prototype.setDataGetter=function(xe){this.getter=xe},k.prototype.cacheLength=function(){var xe=new XMLHttpRequest;if(xe.open("HEAD",f,!1),xe.send(null),!(xe.status>=200&&xe.status<300||xe.status===304))throw new Error("Couldn't load "+f+". Status: "+xe.status);var He=Number(xe.getResponseHeader("Content-length")),rt,Pt=(rt=xe.getResponseHeader("Accept-Ranges"))&&rt==="bytes",hs=(rt=xe.getResponseHeader("Content-Encoding"))&&rt==="gzip",$t=1024*1024;Pt||($t=He);var Se=function(Bt,Yt){if(Bt>Yt)throw new Error("invalid range ("+Bt+", "+Yt+") or no bytes requested!");if(Yt>He-1)throw new Error("only "+He+" bytes available! programmer error!");var ut=new XMLHttpRequest;if(ut.open("GET",f,!1),He!==$t&&ut.setRequestHeader("Range","bytes="+Bt+"-"+Yt),typeof Uint8Array<"u"&&(ut.responseType="arraybuffer"),ut.overrideMimeType&&ut.overrideMimeType("text/plain; charset=x-user-defined"),ut.send(null),!(ut.status>=200&&ut.status<300||ut.status===304))throw new Error("Couldn't load "+f+". Status: "+ut.status);return ut.response!==void 0?new Uint8Array(ut.response||[]):Aa(ut.responseText||"",!0)},Ae=this;Ae.setDataGetter(function(Bt){var Yt=Bt*$t,ut=(Bt+1)*$t-1;if(ut=Math.min(ut,He-1),typeof Ae.chunks[Bt]>"u"&&(Ae.chunks[Bt]=Se(Yt,ut)),typeof Ae.chunks[Bt]>"u")throw new Error("doXHR failed!");return Ae.chunks[Bt]}),(hs||!He)&&($t=He=1,He=this.getter(0).length,$t=He,M("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=He,this._chunkSize=$t,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!p)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var U=new k;Object.defineProperties(U,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var B={isDevice:!1,contents:U}}else var B={isDevice:!1,url:f};var ee=V.createFile(y,Z,B,C,Y);B.contents?ee.contents=B.contents:B.url&&(ee.contents=null,ee.url=B.url),Object.defineProperties(ee,{usedBytes:{get:function(){return this.contents.length}}});var de={},Re=Object.keys(ee.stream_ops);return Re.forEach(function(Me){var xe=ee.stream_ops[Me];de[Me]=function(){return V.forceLoadFile(ee),xe.apply(null,arguments)}}),de.read=function(xe,He,rt,Pt,hs){V.forceLoadFile(ee);var $t=xe.node.contents;if(hs>=$t.length)return 0;var Se=Math.min($t.length-hs,Pt);if($t.slice)for(var Ae=0;Ae<Se;Ae++)He[rt+Ae]=$t[hs+Ae];else for(var Ae=0;Ae<Se;Ae++)He[rt+Ae]=$t.get(hs+Ae);return Se},ee.stream_ops=de,ee},createPreloadedFile:function(y,Z,f,C,Y,k,U,B,ee,de){Browser.init();var Re=Z?ce.resolve(te.join2(y,Z)):y;function Me(xe){function He(Pt){de&&de(),B||V.createDataFile(y,Z,Pt,C,Y,ee),k&&k(),qe()}var rt=!1;r.preloadPlugins.forEach(function(Pt){rt||Pt.canHandle(Re)&&(Pt.handle(xe,Re,He,function(){U&&U(),qe()}),rt=!0)}),rt||He(xe)}mt(),typeof f=="string"?xt(f,function(xe){Me(xe)},U):Me(f)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(y,Z,f){Z=Z||function(){},f=f||function(){};var C=V.indexedDB();try{var Y=C.open(V.DB_NAME(),V.DB_VERSION)}catch(k){return f(k)}Y.onupgradeneeded=function(){M("creating db");var U=Y.result;U.createObjectStore(V.DB_STORE_NAME)},Y.onsuccess=function(){var U=Y.result,B=U.transaction([V.DB_STORE_NAME],"readwrite"),ee=B.objectStore(V.DB_STORE_NAME),de=0,Re=0,Me=y.length;function xe(){Re==0?Z():f()}y.forEach(function(He){var rt=ee.put(V.analyzePath(He).object.contents,He);rt.onsuccess=function(){de++,de+Re==Me&&xe()},rt.onerror=function(){Re++,de+Re==Me&&xe()}}),B.onerror=f},Y.onerror=f},loadFilesFromDB:function(y,Z,f){Z=Z||function(){},f=f||function(){};var C=V.indexedDB();try{var Y=C.open(V.DB_NAME(),V.DB_VERSION)}catch(k){return f(k)}Y.onupgradeneeded=f,Y.onsuccess=function(){var U=Y.result;try{var B=U.transaction([V.DB_STORE_NAME],"readonly")}catch(He){f(He);return}var ee=B.objectStore(V.DB_STORE_NAME),de=0,Re=0,Me=y.length;function xe(){Re==0?Z():f()}y.forEach(function(He){var rt=ee.get(He);rt.onsuccess=function(){V.analyzePath(He).exists&&V.unlink(He),V.createDataFile(te.dirname(He),te.basename(He),rt.result,!0,!0,!0),de++,de+Re==Me&&xe()},rt.onerror=function(){Re++,de+Re==Me&&xe()}}),B.onerror=f},Y.onerror=f}},et={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(y,Z,f){if(Z[0]==="/")return Z;var C;if(y===-100)C=V.cwd();else{var Y=V.getStream(y);if(!Y)throw new V.ErrnoError(8);C=Y.path}if(Z.length==0){if(!f)throw new V.ErrnoError(44);return C}return te.join2(C,Z)},doStat:function(y,Z,f){try{var C=y(Z)}catch(Y){if(Y&&Y.node&&te.normalize(Z)!==te.normalize(V.getPath(Y.node)))return-54;throw Y}return ae[f>>>2]=C.dev,ae[f+4>>>2]=0,ae[f+8>>>2]=C.ino,ae[f+12>>>2]=C.mode,ae[f+16>>>2]=C.nlink,ae[f+20>>>2]=C.uid,ae[f+24>>>2]=C.gid,ae[f+28>>>2]=C.rdev,ae[f+32>>>2]=0,Vi=[C.size>>>0,(Gs=C.size,+Math.abs(Gs)>=1?Gs>0?(Math.min(+Math.floor(Gs/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Gs-+(~~Gs>>>0))/4294967296)>>>0:0)],ae[f+40>>>2]=Vi[0],ae[f+44>>>2]=Vi[1],ae[f+48>>>2]=4096,ae[f+52>>>2]=C.blocks,ae[f+56>>>2]=C.atime.getTime()/1e3|0,ae[f+60>>>2]=0,ae[f+64>>>2]=C.mtime.getTime()/1e3|0,ae[f+68>>>2]=0,ae[f+72>>>2]=C.ctime.getTime()/1e3|0,ae[f+76>>>2]=0,Vi=[C.ino>>>0,(Gs=C.ino,+Math.abs(Gs)>=1?Gs>0?(Math.min(+Math.floor(Gs/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Gs-+(~~Gs>>>0))/4294967296)>>>0:0)],ae[f+80>>>2]=Vi[0],ae[f+84>>>2]=Vi[1],0},doMsync:function(y,Z,f,C,Y){var k=ct.slice(y,y+f);V.msync(Z,k,Y,f,C)},doMkdir:function(y,Z){return y=te.normalize(y),y[y.length-1]==="/"&&(y=y.substr(0,y.length-1)),V.mkdir(y,Z,0),0},doMknod:function(y,Z,f){switch(Z&61440){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return V.mknod(y,Z,f),0},doReadlink:function(y,Z,f){if(f<=0)return-28;var C=V.readlink(y),Y=Math.min(f,ne(C)),k=We[Z+Y>>>0];return re(C,Z,f+1),We[Z+Y>>>0]=k,Y},doAccess:function(y,Z){if(Z&-8)return-28;var f,C=V.lookupPath(y,{follow:!0});if(f=C.node,!f)return-44;var Y="";return Z&4&&(Y+="r"),Z&2&&(Y+="w"),Z&1&&(Y+="x"),Y&&V.nodePermissions(f,Y)?-2:0},doDup:function(y,Z,f){var C=V.getStream(f);return C&&V.close(C),V.open(y,Z,0,f,f).fd},doReadv:function(y,Z,f,C){for(var Y=0,k=0;k<f;k++){var U=ae[Z+k*8>>>2],B=ae[Z+(k*8+4)>>>2],ee=V.read(y,We,U,B,C);if(ee<0)return-1;if(Y+=ee,ee<B)break}return Y},doWritev:function(y,Z,f,C){for(var Y=0,k=0;k<f;k++){var U=ae[Z+k*8>>>2],B=ae[Z+(k*8+4)>>>2],ee=V.write(y,We,U,B,C);if(ee<0)return-1;Y+=ee}return Y},varargs:void 0,get:function(){et.varargs+=4;var y=ae[et.varargs-4>>>2];return y},getStr:function(y){var Z=oe(y);return Z},getStreamFromFD:function(y){var Z=V.getStream(y);if(!Z)throw new V.ErrnoError(8);return Z},get64:function(y,Z){return y}};function Vt(y,Z,f){et.varargs=f;try{var C=et.getStreamFromFD(y);switch(Z){case 0:{var Y=et.get();if(Y<0)return-28;var k;return k=V.open(C.path,C.flags,0,Y),k.fd}case 1:case 2:return 0;case 3:return C.flags;case 4:{var Y=et.get();return C.flags|=Y,0}case 12:{var Y=et.get(),U=0;return be[Y+U>>>1]=2,0}case 13:case 14:return 0;case 16:case 8:return-28;case 9:return J(28),-1;default:return-28}}catch(B){return(typeof V>"u"||!(B instanceof V.ErrnoError))&&st(B),-B.errno}}function Ht(y,Z,f){et.varargs=f;try{var C=et.getStreamFromFD(y);switch(Z){case 21509:case 21505:return C.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return C.tty?0:-59;case 21519:{if(!C.tty)return-59;var Y=et.get();return ae[Y>>>2]=0,0}case 21520:return C.tty?-28:-59;case 21531:{var Y=et.get();return V.ioctl(C,Z,Y)}case 21523:return C.tty?0:-59;case 21524:return C.tty?0:-59;default:st("bad ioctl syscall "+Z)}}catch(k){return(typeof V>"u"||!(k instanceof V.ErrnoError))&&st(k),-k.errno}}function bs(y,Z,f){et.varargs=f;try{var C=et.getStr(y),Y=f?et.get():0,k=V.open(C,Z,Y);return k.fd}catch(U){return(typeof V>"u"||!(U instanceof V.ErrnoError))&&st(U),-U.errno}}var js={};function si(y){for(;y.length;){var Z=y.pop(),f=y.pop();f(Z)}}function hi(y){return this.fromWireType(je[y>>>2])}var zs={},Et={},Be={},Ws=48,gi=57;function Ti(y){if(y===void 0)return"_unknown";y=y.replace(/[^a-zA-Z0-9_]/g,"$");var Z=y.charCodeAt(0);return Z>=Ws&&Z<=gi?"_"+y:y}function ii(y,Z){return y=Ti(y),new Function("body","return function "+y+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(Z)}function sr(y,Z){var f=ii(Z,function(C){this.name=Z,this.message=C;var Y=new Error(C).stack;Y!==void 0&&(this.stack=this.toString()+`
`+Y.replace(/^Error(:[^\n]*)?\n/,""))});return f.prototype=Object.create(y.prototype),f.prototype.constructor=f,f.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},f}var Fs=void 0;function ki(y){throw new Fs(y)}function Ii(y,Z,f){y.forEach(function(B){Be[B]=Z});function C(B){var ee=f(B);ee.length!==y.length&&ki("Mismatched type converter count");for(var de=0;de<y.length;++de)bt(y[de],ee[de])}var Y=new Array(Z.length),k=[],U=0;Z.forEach(function(B,ee){Et.hasOwnProperty(B)?Y[ee]=Et[B]:(k.push(B),zs.hasOwnProperty(B)||(zs[B]=[]),zs[B].push(function(){Y[ee]=Et[B],++U,U===k.length&&C(Y)}))}),k.length===0&&C(Y)}function ui(y){var Z=js[y];delete js[y];var f=Z.elements,C=f.length,Y=f.map(function(B){return B.getterReturnType}).concat(f.map(function(B){return B.setterArgumentType})),k=Z.rawConstructor,U=Z.rawDestructor;Ii([y],Y,function(B){return f.forEach(function(ee,de){var Re=B[de],Me=ee.getter,xe=ee.getterContext,He=B[de+C],rt=ee.setter,Pt=ee.setterContext;ee.read=function(hs){return Re.fromWireType(Me(xe,hs))},ee.write=function(hs,$t){var Se=[];rt(Pt,hs,He.toWireType(Se,$t)),si(Se)}}),[{name:Z.name,fromWireType:function(ee){for(var de=new Array(C),Re=0;Re<C;++Re)de[Re]=f[Re].read(ee);return U(ee),de},toWireType:function(ee,de){if(C!==de.length)throw new TypeError("Incorrect number of tuple elements for "+Z.name+": expected="+C+", actual="+de.length);for(var Re=k(),Me=0;Me<C;++Me)f[Me].write(Re,de[Me]);return ee!==null&&ee.push(U,Re),Re},argPackAdvance:8,readValueFromPointer:hi,destructorFunction:U}]})}var Va={};function $p(y){var Z=Va[y];delete Va[y];var f=Z.rawConstructor,C=Z.rawDestructor,Y=Z.fields,k=Y.map(function(U){return U.getterReturnType}).concat(Y.map(function(U){return U.setterArgumentType}));Ii([y],k,function(U){var B={};return Y.forEach(function(ee,de){var Re=ee.fieldName,Me=U[de],xe=ee.getter,He=ee.getterContext,rt=U[de+Y.length],Pt=ee.setter,hs=ee.setterContext;B[Re]={read:function($t){return Me.fromWireType(xe(He,$t))},write:function($t,Se){var Ae=[];Pt(hs,$t,rt.toWireType(Ae,Se)),si(Ae)}}}),[{name:Z.name,fromWireType:function(ee){var de={};for(var Re in B)de[Re]=B[Re].read(ee);return C(ee),de},toWireType:function(ee,de){for(var Re in B)if(!(Re in de))throw new TypeError('Missing field:  "'+Re+'"');var Me=f();for(Re in B)B[Re].write(Me,de[Re]);return ee!==null&&ee.push(C,Me),Me},argPackAdvance:8,readValueFromPointer:hi,destructorFunction:C}]})}function em(y,Z,f,C,Y){}function kt(y){switch(y){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+y)}}function tm(){for(var y=new Array(256),Z=0;Z<256;++Z)y[Z]=String.fromCharCode(Z);Di=y}var Di=void 0;function ms(y){for(var Z="",f=y;ct[f>>>0];)Z+=Di[ct[f++>>>0]];return Z}var Yr=void 0;function At(y){throw new Yr(y)}function bt(y,Z,f){if(f=f||{},!("argPackAdvance"in Z))throw new TypeError("registerType registeredInstance requires argPackAdvance");var C=Z.name;if(y||At('type "'+C+'" must have a positive integer typeid pointer'),Et.hasOwnProperty(y)){if(f.ignoreDuplicateRegistrations)return;At("Cannot register type '"+C+"' twice")}if(Et[y]=Z,delete Be[y],zs.hasOwnProperty(y)){var Y=zs[y];delete zs[y],Y.forEach(function(k){k()})}}function sm(y,Z,f,C,Y){var k=kt(f);Z=ms(Z),bt(y,{name:Z,fromWireType:function(U){return!!U},toWireType:function(U,B){return B?C:Y},argPackAdvance:8,readValueFromPointer:function(U){var B;if(f===1)B=We;else if(f===2)B=be;else if(f===4)B=ae;else throw new TypeError("Unknown boolean type size: "+Z);return this.fromWireType(B[U>>>k])},destructorFunction:null})}function F(y){if(!(this instanceof an)||!(y instanceof an))return!1;for(var Z=this.$$.ptrType.registeredClass,f=this.$$.ptr,C=y.$$.ptrType.registeredClass,Y=y.$$.ptr;Z.baseClass;)f=Z.upcast(f),Z=Z.baseClass;for(;C.baseClass;)Y=C.upcast(Y),C=C.baseClass;return Z===C&&f===Y}function Ns(y){return{count:y.count,deleteScheduled:y.deleteScheduled,preservePointerOnDelete:y.preservePointerOnDelete,ptr:y.ptr,ptrType:y.ptrType,smartPtr:y.smartPtr,smartPtrType:y.smartPtrType}}function La(y){function Z(f){return f.$$.ptrType.registeredClass.name}At(Z(y)+" instance already deleted")}var Fa=!1;function nc(y){}function Na(y){y.smartPtr?y.smartPtrType.rawDestructor(y.smartPtr):y.ptrType.registeredClass.rawDestructor(y.ptr)}function Mr(y){y.count.value-=1;var Z=y.count.value===0;Z&&Na(y)}function Ji(y){return typeof FinalizationGroup>"u"?(Ji=function(Z){return Z},y):(Fa=new FinalizationGroup(function(Z){for(var f=Z.next();!f.done;f=Z.next()){var C=f.value;C.ptr?Mr(C):console.warn("object already deleted: "+C.ptr)}}),Ji=function(Z){return Fa.register(Z,Z.$$,Z.$$),Z},nc=function(Z){Fa.unregister(Z.$$)},Ji(y))}function wr(){if(this.$$.ptr||La(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var y=Ji(Object.create(Object.getPrototypeOf(this),{$$:{value:Ns(this.$$)}}));return y.$$.count.value+=1,y.$$.deleteScheduled=!1,y}function ir(){this.$$.ptr||La(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&At("Object already scheduled for deletion"),nc(this),Mr(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function xa(){return!this.$$.ptr}var pl=void 0,ml=[];function bl(){for(;ml.length;){var y=ml.pop();y.$$.deleteScheduled=!1,y.delete()}}function va(){return this.$$.ptr||La(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&At("Object already scheduled for deletion"),ml.push(this),ml.length===1&&pl&&pl(bl),this.$$.deleteScheduled=!0,this}function rc(){an.prototype.isAliasOf=F,an.prototype.clone=wr,an.prototype.delete=ir,an.prototype.isDeleted=xa,an.prototype.deleteLater=va}function an(){}var yl={};function on(y,Z,f){if(y[Z].overloadTable===void 0){var C=y[Z];y[Z]=function(){return y[Z].overloadTable.hasOwnProperty(arguments.length)||At("Function '"+f+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+y[Z].overloadTable+")!"),y[Z].overloadTable[arguments.length].apply(this,arguments)},y[Z].overloadTable=[],y[Z].overloadTable[C.argCount]=C}}function lc(y,Z,f){r.hasOwnProperty(y)?((f===void 0||r[y].overloadTable!==void 0&&r[y].overloadTable[f]!==void 0)&&At("Cannot register public name '"+y+"' twice"),on(r,y,y),r.hasOwnProperty(f)&&At("Cannot register multiple overloads of a function with the same number of arguments ("+f+")!"),r[y].overloadTable[f]=Z):(r[y]=Z,f!==void 0&&(r[y].numArguments=f))}function Ea(y,Z,f,C,Y,k,U,B){this.name=y,this.constructor=Z,this.instancePrototype=f,this.rawDestructor=C,this.baseClass=Y,this.getActualType=k,this.upcast=U,this.downcast=B,this.pureVirtualFunctions=[]}function ac(y,Z,f){for(;Z!==f;)Z.upcast||At("Expected null or instance of "+f.name+", got an instance of "+Z.name),y=Z.upcast(y),Z=Z.baseClass;return y}function im(y,Z){if(Z===null)return this.isReference&&At("null is not a valid "+this.name),0;Z.$$||At('Cannot pass "'+Pr(Z)+'" as a '+this.name),Z.$$.ptr||At("Cannot pass deleted object as a pointer of type "+this.name);var f=Z.$$.ptrType.registeredClass,C=ac(Z.$$.ptr,f,this.registeredClass);return C}function Ya(y,Z){var f;if(Z===null)return this.isReference&&At("null is not a valid "+this.name),this.isSmartPointer?(f=this.rawConstructor(),y!==null&&y.push(this.rawDestructor,f),f):0;Z.$$||At('Cannot pass "'+Pr(Z)+'" as a '+this.name),Z.$$.ptr||At("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&Z.$$.ptrType.isConst&&At("Cannot convert argument of type "+(Z.$$.smartPtrType?Z.$$.smartPtrType.name:Z.$$.ptrType.name)+" to parameter type "+this.name);var C=Z.$$.ptrType.registeredClass;if(f=ac(Z.$$.ptr,C,this.registeredClass),this.isSmartPointer)switch(Z.$$.smartPtr===void 0&&At("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:Z.$$.smartPtrType===this?f=Z.$$.smartPtr:At("Cannot convert argument of type "+(Z.$$.smartPtrType?Z.$$.smartPtrType.name:Z.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:f=Z.$$.smartPtr;break;case 2:if(Z.$$.smartPtrType===this)f=Z.$$.smartPtr;else{var Y=Z.clone();f=this.rawShare(f,Fi(function(){Y.delete()})),y!==null&&y.push(this.rawDestructor,f)}break;default:At("Unsupporting sharing policy")}return f}function nm(y,Z){if(Z===null)return this.isReference&&At("null is not a valid "+this.name),0;Z.$$||At('Cannot pass "'+Pr(Z)+'" as a '+this.name),Z.$$.ptr||At("Cannot pass deleted object as a pointer of type "+this.name),Z.$$.ptrType.isConst&&At("Cannot convert argument of type "+Z.$$.ptrType.name+" to parameter type "+this.name);var f=Z.$$.ptrType.registeredClass,C=ac(Z.$$.ptr,f,this.registeredClass);return C}function su(y){return this.rawGetPointee&&(y=this.rawGetPointee(y)),y}function vs(y){this.rawDestructor&&this.rawDestructor(y)}function Hr(y){y!==null&&y.delete()}function Dt(y,Z,f){if(Z===f)return y;if(f.baseClass===void 0)return null;var C=Dt(y,Z,f.baseClass);return C===null?null:f.downcast(C)}function Ki(){return Object.keys(nr).length}function rm(){var y=[];for(var Z in nr)nr.hasOwnProperty(Z)&&y.push(nr[Z]);return y}function lm(y){pl=y,ml.length&&pl&&pl(bl)}function am(){r.getInheritedInstanceCount=Ki,r.getLiveInheritedInstances=rm,r.flushPendingDeletes=bl,r.setDelayFunction=lm}var nr={};function oc(y,Z){for(Z===void 0&&At("ptr should not be undefined");y.baseClass;)Z=y.upcast(Z),y=y.baseClass;return Z}function iu(y,Z){return Z=oc(y,Z),nr[Z]}function Ma(y,Z){(!Z.ptrType||!Z.ptr)&&ki("makeClassHandle requires ptr and ptrType");var f=!!Z.smartPtrType,C=!!Z.smartPtr;return f!==C&&ki("Both smartPtrType and smartPtr must be specified"),Z.count={value:1},Ji(Object.create(y,{$$:{value:Z}}))}function nu(y){var Z=this.getPointee(y);if(!Z)return this.destructor(y),null;var f=iu(this.registeredClass,Z);if(f!==void 0){if(f.$$.count.value===0)return f.$$.ptr=Z,f.$$.smartPtr=y,f.clone();var C=f.clone();return this.destructor(y),C}function Y(){return this.isSmartPointer?Ma(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:Z,smartPtrType:this,smartPtr:y}):Ma(this.registeredClass.instancePrototype,{ptrType:this,ptr:y})}var k=this.registeredClass.getActualType(Z),U=yl[k];if(!U)return Y.call(this);var B;this.isConst?B=U.constPointerType:B=U.pointerType;var ee=Dt(Z,this.registeredClass,B.registeredClass);return ee===null?Y.call(this):this.isSmartPointer?Ma(B.registeredClass.instancePrototype,{ptrType:B,ptr:ee,smartPtrType:this,smartPtr:y}):Ma(B.registeredClass.instancePrototype,{ptrType:B,ptr:ee})}function Zl(){cn.prototype.getPointee=su,cn.prototype.destructor=vs,cn.prototype.argPackAdvance=8,cn.prototype.readValueFromPointer=hi,cn.prototype.deleteObject=Hr,cn.prototype.fromWireType=nu}function cn(y,Z,f,C,Y,k,U,B,ee,de,Re){this.name=y,this.registeredClass=Z,this.isReference=f,this.isConst=C,this.isSmartPointer=Y,this.pointeeType=k,this.sharingPolicy=U,this.rawGetPointee=B,this.rawConstructor=ee,this.rawShare=de,this.rawDestructor=Re,!Y&&Z.baseClass===void 0?C?(this.toWireType=im,this.destructorFunction=null):(this.toWireType=nm,this.destructorFunction=null):this.toWireType=Ya}function ru(y,Z,f){r.hasOwnProperty(y)||ki("Replacing nonexistant public symbol"),r[y].overloadTable!==void 0&&f!==void 0?r[y].overloadTable[f]=Z:(r[y]=Z,r[y].argCount=f)}function om(y,Z,f){var C=r["dynCall_"+y];return f&&f.length?C.apply(null,[Z].concat(f)):C.call(null,Z)}function Gl(y,Z,f){return y.includes("j")?om(y,Z,f):at.get(Z).apply(null,f)}function gl(y,Z){var f=[];return function(){f.length=arguments.length;for(var C=0;C<arguments.length;C++)f[C]=arguments[C];return Gl(y,Z,f)}}function Us(y,Z){y=ms(y);function f(){return y.includes("j")?gl(y,Z):at.get(Z)}var C=f();return typeof C!="function"&&At("unknown function pointer with signature "+y+": "+Z),C}var lu=void 0;function au(y){var Z=bu(y),f=ms(Z);return un(Z),f}function Li(y,Z){var f=[],C={};function Y(k){if(!C[k]&&!Et[k]){if(Be[k]){Be[k].forEach(Y);return}f.push(k),C[k]=!0}}throw Z.forEach(Y),new lu(y+": "+f.map(au).join([", "]))}function ou(y,Z,f,C,Y,k,U,B,ee,de,Re,Me,xe){Re=ms(Re),k=Us(Y,k),B&&(B=Us(U,B)),de&&(de=Us(ee,de)),xe=Us(Me,xe);var He=Ti(Re);lc(He,function(){Li("Cannot construct "+Re+" due to unbound types",[C])}),Ii([y,Z,f],C?[C]:[],function(rt){rt=rt[0];var Pt,hs;C?(Pt=rt.registeredClass,hs=Pt.instancePrototype):hs=an.prototype;var $t=ii(He,function(){if(Object.getPrototypeOf(this)!==Se)throw new Yr("Use 'new' to construct "+Re);if(Ae.constructor_body===void 0)throw new Yr(Re+" has no accessible constructor");var xi=Ae.constructor_body[arguments.length];if(xi===void 0)throw new Yr("Tried to invoke ctor of "+Re+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(Ae.constructor_body).toString()+") parameters instead!");return xi.apply(this,arguments)}),Se=Object.create(hs,{constructor:{value:$t}});$t.prototype=Se;var Ae=new Ea(Re,$t,Se,xe,Pt,k,B,de),Bt=new cn(Re,Ae,!0,!1,!1),Yt=new cn(Re+"*",Ae,!1,!1,!1),ut=new cn(Re+" const*",Ae,!1,!0,!1);return yl[y]={pointerType:Yt,constPointerType:ut},ru(He,$t),[Bt,Yt,ut]})}function wa(y,Z){for(var f=[],C=0;C<y;C++)f.push(ae[(Z>>2)+C>>>0]);return f}function cc(y,Z,f,C,Y,k){j(Z>0);var U=wa(Z,f);Y=Us(C,Y);var B=[k],ee=[];Ii([],[y],function(de){de=de[0];var Re="constructor "+de.name;if(de.registeredClass.constructor_body===void 0&&(de.registeredClass.constructor_body=[]),de.registeredClass.constructor_body[Z-1]!==void 0)throw new Yr("Cannot register multiple constructors with identical number of parameters ("+(Z-1)+") for class '"+de.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return de.registeredClass.constructor_body[Z-1]=function(){Li("Cannot construct "+de.name+" due to unbound types",U)},Ii([],U,function(Me){return de.registeredClass.constructor_body[Z-1]=function(){arguments.length!==Z-1&&At(Re+" called with "+arguments.length+" arguments, expected "+(Z-1)),ee.length=0,B.length=Z;for(var He=1;He<Z;++He)B[He]=Me[He].toWireType(ee,arguments[He-1]);var rt=Y.apply(null,B);return si(ee),Me[0].fromWireType(rt)},[]}),[]})}function cm(y,Z){if(!(y instanceof Function))throw new TypeError("new_ called with constructor type "+typeof y+" which is not a function");var f=ii(y.name||"unknownFunctionName",function(){});f.prototype=y.prototype;var C=new f,Y=y.apply(C,Z);return Y instanceof Object?Y:C}function Ha(y,Z,f,C,Y){var k=Z.length;k<2&&At("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var U=Z[1]!==null&&f!==null,B=!1,ee=1;ee<Z.length;++ee)if(Z[ee]!==null&&Z[ee].destructorFunction===void 0){B=!0;break}for(var de=Z[0].name!=="void",Re="",Me="",ee=0;ee<k-2;++ee)Re+=(ee!==0?", ":"")+"arg"+ee,Me+=(ee!==0?", ":"")+"arg"+ee+"Wired";var xe="return function "+Ti(y)+"("+Re+`) {
if (arguments.length !== `+(k-2)+`) {
throwBindingError('function `+y+" called with ' + arguments.length + ' arguments, expected "+(k-2)+` args!');
}
`;B&&(xe+=`var destructors = [];
`);var He=B?"destructors":"null",rt=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],Pt=[At,C,Y,si,Z[0],Z[1]];U&&(xe+="var thisWired = classParam.toWireType("+He+`, this);
`);for(var ee=0;ee<k-2;++ee)xe+="var arg"+ee+"Wired = argType"+ee+".toWireType("+He+", arg"+ee+"); // "+Z[ee+2].name+`
`,rt.push("argType"+ee),Pt.push(Z[ee+2]);if(U&&(Me="thisWired"+(Me.length>0?", ":"")+Me),xe+=(de?"var rv = ":"")+"invoker(fn"+(Me.length>0?", ":"")+Me+`);
`,B)xe+=`runDestructors(destructors);
`;else for(var ee=U?1:2;ee<Z.length;++ee){var hs=ee===1?"thisWired":"arg"+(ee-2)+"Wired";Z[ee].destructorFunction!==null&&(xe+=hs+"_dtor("+hs+"); // "+Z[ee].name+`
`,rt.push(hs+"_dtor"),Pt.push(Z[ee].destructorFunction))}de&&(xe+=`var ret = retType.fromWireType(rv);
return ret;
`),xe+=`}
`,rt.push(xe);var $t=cm(Function,rt).apply(null,Pt);return $t}function hm(y,Z,f,C,Y,k,U,B){var ee=wa(f,C);Z=ms(Z),k=Us(Y,k),Ii([],[y],function(de){de=de[0];var Re=de.name+"."+Z;Z.startsWith("@@")&&(Z=Symbol[Z.substring(2)]),B&&de.registeredClass.pureVirtualFunctions.push(Z);function Me(){Li("Cannot call "+Re+" due to unbound types",ee)}var xe=de.registeredClass.instancePrototype,He=xe[Z];return He===void 0||He.overloadTable===void 0&&He.className!==de.name&&He.argCount===f-2?(Me.argCount=f-2,Me.className=de.name,xe[Z]=Me):(on(xe,Z,Re),xe[Z].overloadTable[f-2]=Me),Ii([],ee,function(rt){var Pt=Ha(Re,rt,de,k,U);return xe[Z].overloadTable===void 0?(Pt.argCount=f-2,xe[Z]=Pt):xe[Z].overloadTable[f-2]=Pt,[]}),[]})}var hc=[],di=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function uc(y){y>4&&--di[y].refcount===0&&(di[y]=void 0,hc.push(y))}function um(){for(var y=0,Z=5;Z<di.length;++Z)di[Z]!==void 0&&++y;return y}function dm(){for(var y=5;y<di.length;++y)if(di[y]!==void 0)return di[y];return null}function cu(){r.count_emval_handles=um,r.get_first_emval=dm}function Fi(y){switch(y){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var Z=hc.length?hc.pop():di.length;return di[Z]={refcount:1,value:y},Z}}}function pm(y,Z){Z=ms(Z),bt(y,{name:Z,fromWireType:function(f){var C=di[f].value;return uc(f),C},toWireType:function(f,C){return Fi(C)},argPackAdvance:8,readValueFromPointer:hi,destructorFunction:null})}function mm(y,Z,f){switch(Z){case 0:return function(C){var Y=f?We:ct;return this.fromWireType(Y[C>>>0])};case 1:return function(C){var Y=f?be:ge;return this.fromWireType(Y[C>>>1])};case 2:return function(C){var Y=f?ae:je;return this.fromWireType(Y[C>>>2])};default:throw new TypeError("Unknown integer type: "+y)}}function bm(y,Z,f,C){var Y=kt(f);Z=ms(Z);function k(){}k.values={},bt(y,{name:Z,constructor:k,fromWireType:function(U){return this.constructor.values[U]},toWireType:function(U,B){return B.value},argPackAdvance:8,readValueFromPointer:mm(Z,Y,C),destructorFunction:null}),lc(Z,k)}function Yn(y,Z){var f=Et[y];return f===void 0&&At(Z+" has unknown type "+au(y)),f}function ym(y,Z,f){var C=Yn(y,"enum");Z=ms(Z);var Y=C.constructor,k=Object.create(C.constructor.prototype,{value:{value:f},constructor:{value:ii(C.name+"_"+Z,function(){})}});Y.values[f]=k,Y[Z]=k}function Pr(y){if(y===null)return"null";var Z=typeof y;return Z==="object"||Z==="array"||Z==="function"?y.toString():""+y}function Pa(y,Z){switch(Z){case 2:return function(f){return this.fromWireType(Oe[f>>>2])};case 3:return function(f){return this.fromWireType(Wt[f>>>3])};default:throw new TypeError("Unknown float type: "+y)}}function Zm(y,Z,f){var C=kt(f);Z=ms(Z),bt(y,{name:Z,fromWireType:function(Y){return Y},toWireType:function(Y,k){if(typeof k!="number"&&typeof k!="boolean")throw new TypeError('Cannot convert "'+Pr(k)+'" to '+this.name);return k},argPackAdvance:8,readValueFromPointer:Pa(Z,C),destructorFunction:null})}function Gm(y,Z,f,C,Y,k){var U=wa(Z,f);y=ms(y),Y=Us(C,Y),lc(y,function(){Li("Cannot call "+y+" due to unbound types",U)},Z-1),Ii([],U,function(B){var ee=[B[0],null].concat(B.slice(1));return ru(y,Ha(y,ee,null,Y,k),Z-1),[]})}function hn(y,Z,f){switch(Z){case 0:return f?function(Y){return We[Y>>>0]}:function(Y){return ct[Y>>>0]};case 1:return f?function(Y){return be[Y>>>1]}:function(Y){return ge[Y>>>1]};case 2:return f?function(Y){return ae[Y>>>2]}:function(Y){return je[Y>>>2]};default:throw new TypeError("Unknown integer type: "+y)}}function hu(y,Z,f,C,Y){Z=ms(Z),Y===-1&&(Y=4294967295);var k=kt(f),U=function(de){return de};if(C===0){var B=32-8*f;U=function(de){return de<<B>>>B}}var ee=Z.includes("unsigned");bt(y,{name:Z,fromWireType:U,toWireType:function(de,Re){if(typeof Re!="number"&&typeof Re!="boolean")throw new TypeError('Cannot convert "'+Pr(Re)+'" to '+this.name);if(Re<C||Re>Y)throw new TypeError('Passing a number "'+Pr(Re)+'" from JS side to C/C++ side to an argument of type "'+Z+'", which is outside the valid range ['+C+", "+Y+"]!");return ee?Re>>>0:Re|0},argPackAdvance:8,readValueFromPointer:hn(Z,k,C!==0),destructorFunction:null})}function gm(y,Z,f){var C=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Y=C[Z];function k(U){U=U>>2;var B=je,ee=B[U>>>0],de=B[U+1>>>0];return new Y(yt,de,ee)}f=ms(f),bt(y,{name:f,fromWireType:k,argPackAdvance:8,readValueFromPointer:k},{ignoreDuplicateRegistrations:!0})}function Tm(y,Z){Z=ms(Z);var f=Z==="std::string";bt(y,{name:Z,fromWireType:function(C){var Y=je[C>>>2],k;if(f)for(var U=C+4,B=0;B<=Y;++B){var ee=C+4+B;if(B==Y||ct[ee>>>0]==0){var de=ee-U,Re=oe(U,de);k===void 0?k=Re:(k+=String.fromCharCode(0),k+=Re),U=ee+1}}else{for(var Me=new Array(Y),B=0;B<Y;++B)Me[B]=String.fromCharCode(ct[C+4+B>>>0]);k=Me.join("")}return un(C),k},toWireType:function(C,Y){Y instanceof ArrayBuffer&&(Y=new Uint8Array(Y));var k,U=typeof Y=="string";U||Y instanceof Uint8Array||Y instanceof Uint8ClampedArray||Y instanceof Int8Array||At("Cannot pass non-string to std::string"),f&&U?k=function(){return ne(Y)}:k=function(){return Y.length};var B=k(),ee=Ba(4+B+1);if(ee>>>=0,je[ee>>>2]=B,f&&U)re(Y,ee+4,B+1);else if(U)for(var de=0;de<B;++de){var Re=Y.charCodeAt(de);Re>255&&(un(ee),At("String has UTF-16 code units that do not fit in 8 bits")),ct[ee+4+de>>>0]=Re}else for(var de=0;de<B;++de)ct[ee+4+de>>>0]=Y[de];return C!==null&&C.push(un,ee),ee},argPackAdvance:8,readValueFromPointer:hi,destructorFunction:function(C){un(C)}})}function Im(y,Z,f){f=ms(f);var C,Y,k,U,B;Z===2?(C=fe,Y=ve,U=Ce,k=function(){return ge},B=1):Z===4&&(C=ze,Y=vt,U=gt,k=function(){return je},B=2),bt(y,{name:f,fromWireType:function(ee){for(var de=je[ee>>>2],Re=k(),Me,xe=ee+4,He=0;He<=de;++He){var rt=ee+4+He*Z;if(He==de||Re[rt>>>B]==0){var Pt=rt-xe,hs=C(xe,Pt);Me===void 0?Me=hs:(Me+=String.fromCharCode(0),Me+=hs),xe=rt+Z}}return un(ee),Me},toWireType:function(ee,de){typeof de!="string"&&At("Cannot pass non-string to C++ string type "+f);var Re=U(de),Me=Ba(4+Re+Z);return Me>>>=0,je[Me>>>2]=Re>>B,Y(de,Me+4,Re+Z),ee!==null&&ee.push(un,Me),Me},argPackAdvance:8,readValueFromPointer:hi,destructorFunction:function(ee){un(ee)}})}function Qs(y,Z,f,C,Y,k){js[y]={name:ms(Z),rawConstructor:Us(f,C),rawDestructor:Us(Y,k),elements:[]}}function uu(y,Z,f,C,Y,k,U,B,ee){js[y].elements.push({getterReturnType:Z,getter:Us(f,C),getterContext:Y,setterArgumentType:k,setter:Us(U,B),setterContext:ee})}function du(y,Z,f,C,Y,k){Va[y]={name:ms(Z),rawConstructor:Us(f,C),rawDestructor:Us(Y,k),fields:[]}}function za(y,Z,f,C,Y,k,U,B,ee,de){Va[y].fields.push({fieldName:ms(Z),getterReturnType:f,getter:Us(C,Y),getterContext:k,setterArgumentType:U,setter:Us(B,ee),setterContext:de})}function Rm(y,Z){Z=ms(Z),bt(y,{isVoid:!0,name:Z,argPackAdvance:0,fromWireType:function(){},toWireType:function(f,C){}})}function Ri(y){return y||At("Cannot use deleted val. handle = "+y),di[y].value}function fm(y,Z,f){y=Ri(y),Z=Yn(Z,"emval::as");var C=[],Y=Fi(C);return ae[f>>>2]=Y,Z.toWireType(C,y)}function Xm(y,Z){for(var f=new Array(y),C=0;C<y;++C)f[C]=Yn(ae[(Z>>2)+C>>>0],"parameter "+C);return f}function pu(y,Z,f,C){y=Ri(y);for(var Y=Xm(Z,f),k=new Array(Z),U=0;U<Z;++U){var B=Y[U];k[U]=B.readValueFromPointer(C),C+=B.argPackAdvance}var ee=y.apply(void 0,k);return Fi(ee)}var Wm={};function Ua(y){var Z=Wm[y];return Z===void 0?ms(y):Z}function ni(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function dc(y){return y===0?Fi(ni()):(y=Ua(y),Fi(ni()[y]))}function Sm(y,Z){return y=Ri(y),Z=Ri(Z),Fi(y[Z])}function Cm(y){y>4&&(di[y].refcount+=1)}function Vm(y,Z){return y=Ri(y),Z=Ri(Z),y instanceof Z}function Ni(y){return y=Ri(y),typeof y=="number"}function Lm(){return Fi([])}function Fm(y){return Fi(Ua(y))}function Nm(){return Fi({})}function ka(y){var Z=di[y].value;si(Z),uc(y)}function xm(y,Z,f){y=Ri(y),Z=Ri(Z),f=Ri(f),y[Z]=f}function zr(y,Z){y=Yn(y,"_emval_take_value");var f=y.readValueFromPointer(Z);return Fi(f)}function vm(){st()}var pc;G?pc=function(){var y=process.hrtime();return y[0]*1e3+y[1]/1e6}:pc=function(){return performance.now()};var Em=!0;function Ym(y,Z){var f;if(y===0)f=Date.now();else if((y===1||y===4)&&Em)f=pc();else return J(28),-1;return ae[Z>>>2]=f/1e3|0,ae[Z+4>>>2]=f%1e3*1e3*1e3|0,0}function Mm(y,Z,f){ct.copyWithin(y>>>0,Z>>>0,Z+f>>>0)}function wm(y){try{return Q.grow(y-yt.byteLength+65535>>>16),Zt(Q.buffer),1}catch{}}function Hm(y){var Z=ct.length;y=y>>>0;var f=4294901760;if(y>f)return!1;for(var C=1;C<=4;C*=2){var Y=Z*(1+.2/C);Y=Math.min(Y,y+100663296);var k=Math.min(f,St(Math.max(y,Y),65536)),U=wm(k);if(U)return!0}return!1}var mc={};function Pm(){return h||"./this.program"}function Tl(){if(!Tl.strings){var y=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",Z={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:y,_:Pm()};for(var f in mc)mc[f]===void 0?delete Z[f]:Z[f]=mc[f];var C=[];for(var f in Z)C.push(f+"="+Z[f]);Tl.strings=C}return Tl.strings}function zm(y,Z){try{var f=0;return Tl().forEach(function(C,Y){var k=Z+f;ae[y+Y*4>>>2]=k,Ot(C,k),f+=C.length+1}),0}catch(C){return(typeof V>"u"||!(C instanceof V.ErrnoError))&&st(C),C.errno}}function Um(y,Z){try{var f=Tl();ae[y>>>2]=f.length;var C=0;return f.forEach(function(Y){C+=Y.length+1}),ae[Z>>>2]=C,0}catch(Y){return(typeof V>"u"||!(Y instanceof V.ErrnoError))&&st(Y),Y.errno}}function km(y){try{var Z=et.getStreamFromFD(y);return V.close(Z),0}catch(f){return(typeof V>"u"||!(f instanceof V.ErrnoError))&&st(f),f.errno}}function Dm(y,Z,f,C){try{var Y=et.getStreamFromFD(y),k=et.doReadv(Y,Z,f);return ae[C>>>2]=k,0}catch(U){return(typeof V>"u"||!(U instanceof V.ErrnoError))&&st(U),U.errno}}function Oi(y,Z,f,C,Y){try{var k=et.getStreamFromFD(y),U=4294967296,B=f*U+(Z>>>0),ee=9007199254740992;return B<=-ee||B>=ee?-61:(V.llseek(k,B,C),Vi=[k.position>>>0,(Gs=k.position,+Math.abs(Gs)>=1?Gs>0?(Math.min(+Math.floor(Gs/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Gs-+(~~Gs>>>0))/4294967296)>>>0:0)],ae[Y>>>2]=Vi[0],ae[Y+4>>>2]=Vi[1],k.getdents&&B===0&&C===0&&(k.getdents=null),0)}catch(de){return(typeof V>"u"||!(de instanceof V.ErrnoError))&&st(de),de.errno}}function Jm(y,Z,f,C){try{var Y=et.getStreamFromFD(y),k=et.doWritev(Y,Z,f);return ae[C>>>2]=k,0}catch(U){return(typeof V>"u"||!(U instanceof V.ErrnoError))&&st(U),U.errno}}function Km(y){}function Da(y){return y%4===0&&(y%100!==0||y%400===0)}function bc(y,Z){for(var f=0,C=0;C<=Z;f+=y[C++]);return f}var Il=[31,29,31,30,31,30,31,31,30,31,30,31],Rl=[31,28,31,30,31,30,31,31,30,31,30,31];function Ja(y,Z){for(var f=new Date(y.getTime());Z>0;){var C=Da(f.getFullYear()),Y=f.getMonth(),k=(C?Il:Rl)[Y];if(Z>k-f.getDate())Z-=k-f.getDate()+1,f.setDate(1),Y<11?f.setMonth(Y+1):(f.setMonth(0),f.setFullYear(f.getFullYear()+1));else return f.setDate(f.getDate()+Z),f}return f}function Om(y,Z,f,C){var Y=ae[C+40>>>2],k={tm_sec:ae[C>>>2],tm_min:ae[C+4>>>2],tm_hour:ae[C+8>>>2],tm_mday:ae[C+12>>>2],tm_mon:ae[C+16>>>2],tm_year:ae[C+20>>>2],tm_wday:ae[C+24>>>2],tm_yday:ae[C+28>>>2],tm_isdst:ae[C+32>>>2],tm_gmtoff:ae[C+36>>>2],tm_zone:Y?oe(Y):""},U=oe(f),B={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ee in B)U=U.replace(new RegExp(ee,"g"),B[ee]);var de=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Re=["January","February","March","April","May","June","July","August","September","October","November","December"];function Me(Se,Ae,Bt){for(var Yt=typeof Se=="number"?Se.toString():Se||"";Yt.length<Ae;)Yt=Bt[0]+Yt;return Yt}function xe(Se,Ae){return Me(Se,Ae,"0")}function He(Se,Ae){function Bt(ut){return ut<0?-1:ut>0?1:0}var Yt;return(Yt=Bt(Se.getFullYear()-Ae.getFullYear()))===0&&(Yt=Bt(Se.getMonth()-Ae.getMonth()))===0&&(Yt=Bt(Se.getDate()-Ae.getDate())),Yt}function rt(Se){switch(Se.getDay()){case 0:return new Date(Se.getFullYear()-1,11,29);case 1:return Se;case 2:return new Date(Se.getFullYear(),0,3);case 3:return new Date(Se.getFullYear(),0,2);case 4:return new Date(Se.getFullYear(),0,1);case 5:return new Date(Se.getFullYear()-1,11,31);case 6:return new Date(Se.getFullYear()-1,11,30)}}function Pt(Se){var Ae=Ja(new Date(Se.tm_year+1900,0,1),Se.tm_yday),Bt=new Date(Ae.getFullYear(),0,4),Yt=new Date(Ae.getFullYear()+1,0,4),ut=rt(Bt),xi=rt(Yt);return He(ut,Ae)<=0?He(xi,Ae)<=0?Ae.getFullYear()+1:Ae.getFullYear():Ae.getFullYear()-1}var hs={"%a":function(Se){return de[Se.tm_wday].substring(0,3)},"%A":function(Se){return de[Se.tm_wday]},"%b":function(Se){return Re[Se.tm_mon].substring(0,3)},"%B":function(Se){return Re[Se.tm_mon]},"%C":function(Se){var Ae=Se.tm_year+1900;return xe(Ae/100|0,2)},"%d":function(Se){return xe(Se.tm_mday,2)},"%e":function(Se){return Me(Se.tm_mday,2," ")},"%g":function(Se){return Pt(Se).toString().substring(2)},"%G":function(Se){return Pt(Se)},"%H":function(Se){return xe(Se.tm_hour,2)},"%I":function(Se){var Ae=Se.tm_hour;return Ae==0?Ae=12:Ae>12&&(Ae-=12),xe(Ae,2)},"%j":function(Se){return xe(Se.tm_mday+bc(Da(Se.tm_year+1900)?Il:Rl,Se.tm_mon-1),3)},"%m":function(Se){return xe(Se.tm_mon+1,2)},"%M":function(Se){return xe(Se.tm_min,2)},"%n":function(){return`
`},"%p":function(Se){return Se.tm_hour>=0&&Se.tm_hour<12?"AM":"PM"},"%S":function(Se){return xe(Se.tm_sec,2)},"%t":function(){return"	"},"%u":function(Se){return Se.tm_wday||7},"%U":function(Se){var Ae=new Date(Se.tm_year+1900,0,1),Bt=Ae.getDay()===0?Ae:Ja(Ae,7-Ae.getDay()),Yt=new Date(Se.tm_year+1900,Se.tm_mon,Se.tm_mday);if(He(Bt,Yt)<0){var ut=bc(Da(Yt.getFullYear())?Il:Rl,Yt.getMonth()-1)-31,xi=31-Bt.getDate(),rr=xi+ut+Yt.getDate();return xe(Math.ceil(rr/7),2)}return He(Bt,Ae)===0?"01":"00"},"%V":function(Se){var Ae=new Date(Se.tm_year+1900,0,4),Bt=new Date(Se.tm_year+1901,0,4),Yt=rt(Ae),ut=rt(Bt),xi=Ja(new Date(Se.tm_year+1900,0,1),Se.tm_yday);if(He(xi,Yt)<0)return"53";if(He(ut,xi)<=0)return"01";var rr;return Yt.getFullYear()<Se.tm_year+1900?rr=Se.tm_yday+32-Yt.getDate():rr=Se.tm_yday+1-Yt.getDate(),xe(Math.ceil(rr/7),2)},"%w":function(Se){return Se.tm_wday},"%W":function(Se){var Ae=new Date(Se.tm_year,0,1),Bt=Ae.getDay()===1?Ae:Ja(Ae,Ae.getDay()===0?1:7-Ae.getDay()+1),Yt=new Date(Se.tm_year+1900,Se.tm_mon,Se.tm_mday);if(He(Bt,Yt)<0){var ut=bc(Da(Yt.getFullYear())?Il:Rl,Yt.getMonth()-1)-31,xi=31-Bt.getDate(),rr=xi+ut+Yt.getDate();return xe(Math.ceil(rr/7),2)}return He(Bt,Ae)===0?"01":"00"},"%y":function(Se){return(Se.tm_year+1900).toString().substring(2)},"%Y":function(Se){return Se.tm_year+1900},"%z":function(Se){var Ae=Se.tm_gmtoff,Bt=Ae>=0;return Ae=Math.abs(Ae)/60,Ae=Ae/60*100+Ae%60,(Bt?"+":"-")+String("0000"+Ae).slice(-4)},"%Z":function(Se){return Se.tm_zone},"%%":function(){return"%"}};for(var ee in hs)U.includes(ee)&&(U=U.replace(new RegExp(ee,"g"),hs[ee](k)));var $t=Aa(U,!1);return $t.length>Z?0:(Ge($t,y),$t.length-1)}function Am(y,Z,f,C){return Om(y,Z,f,C)}var mu=function(y,Z,f,C){y||(y=this),this.parent=y,this.mount=y.mount,this.mounted=null,this.id=V.nextInode++,this.name=Z,this.mode=f,this.node_ops={},this.stream_ops={},this.rdev=C},Ka=365,Oa=146;Object.defineProperties(mu.prototype,{read:{get:function(){return(this.mode&Ka)===Ka},set:function(y){y?this.mode|=Ka:this.mode&=~Ka}},write:{get:function(){return(this.mode&Oa)===Oa},set:function(y){y?this.mode|=Oa:this.mode&=~Oa}},isFolder:{get:function(){return V.isDir(this.mode)}},isDevice:{get:function(){return V.isChrdev(this.mode)}}}),V.FSNode=mu,V.staticInit(),r.FS_createPath=V.createPath,r.FS_createDataFile=V.createDataFile,r.FS_createPreloadedFile=V.createPreloadedFile,r.FS_createLazyFile=V.createLazyFile,r.FS_createDevice=V.createDevice,r.FS_unlink=V.unlink,Fs=r.InternalError=sr(Error,"InternalError"),tm(),Yr=r.BindingError=sr(Error,"BindingError"),rc(),Zl(),am(),lu=r.UnboundTypeError=sr(Error,"UnboundTypeError"),cu();function Aa(y,Z,f){var C=f>0?f:ne(y)+1,Y=new Array(C),k=le(y,Y,0,Y.length);return Z&&(Y.length=k),Y}var Bm={y:Ui,x:tr,w:Er,A:Vt,O:Ht,P:bs,Z:ui,o:$p,J:em,W:sm,r:ou,q:cc,b:hm,V:pm,Y:bm,t:ym,D:Zm,e:Gm,n:hu,j:gm,E:Tm,v:Im,_:Qs,g:uu,p:du,d:za,X:Rm,l:fm,F:pu,a:uc,H:dc,m:Sm,i:Cm,L:Vm,G:Ni,z:Lm,f:Fm,s:Nm,k:ka,h:xm,c:zr,C:vm,N:Ym,M:Mm,u:Hm,R:zm,S:Um,B:km,U:Dm,I:Oi,T:Jm,K:Km,Q:Am};ic(),r.___wasm_call_ctors=function(){return(r.___wasm_call_ctors=r.asm.aa).apply(null,arguments)},r._main=function(){return(r._main=r.asm.ba).apply(null,arguments)};var Ba=r._malloc=function(){return(Ba=r._malloc=r.asm.ca).apply(null,arguments)},un=r._free=function(){return(un=r._free=r.asm.da).apply(null,arguments)},bu=r.___getTypeName=function(){return(bu=r.___getTypeName=r.asm.ea).apply(null,arguments)};r.___embind_register_native_and_builtin_types=function(){return(r.___embind_register_native_and_builtin_types=r.asm.fa).apply(null,arguments)};var yu=r.___errno_location=function(){return(yu=r.___errno_location=r.asm.ga).apply(null,arguments)};r.dynCall_jiji=function(){return(r.dynCall_jiji=r.asm.ia).apply(null,arguments)},r.dynCall_viijii=function(){return(r.dynCall_viijii=r.asm.ja).apply(null,arguments)},r.dynCall_iiiiij=function(){return(r.dynCall_iiiiij=r.asm.ka).apply(null,arguments)},r.dynCall_iiiiijj=function(){return(r.dynCall_iiiiijj=r.asm.la).apply(null,arguments)},r.dynCall_iiiiiijj=function(){return(r.dynCall_iiiiiijj=r.asm.ma).apply(null,arguments)},r.addRunDependency=mt,r.removeRunDependency=qe,r.FS_createPath=V.createPath,r.FS_createDataFile=V.createDataFile,r.FS_createPreloadedFile=V.createPreloadedFile,r.FS_createLazyFile=V.createLazyFile,r.FS_createDevice=V.createDevice,r.FS_unlink=V.unlink,r.FS=V;var Ur;function yc(y){this.name="ExitStatus",this.message="Program terminated with exit("+y+")",this.status=y}Ue=function y(){Ur||Zc(),Ur||(Ue=y)};function jm(y){var Z=r._main,f=0,C=0;try{var Y=Z(f,C);Qm(Y,!0)}catch(U){if(U instanceof yc||U=="unwind")return;var k=U;U&&typeof U=="object"&&U.stack&&(k=[U,U.stack]),E("exception thrown: "+k),u(1,U)}finally{}}function Zc(y){if($>0||(Je(),$>0))return;function Z(){Ur||(Ur=!0,r.calledRun=!0,!w&&($e(),pt(),l(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),Zu&&jm(),ye()))}r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),Z()},1)):Z()}r.run=Zc;function Qm(y,Z){Fe()||(r.onExit&&r.onExit(y),w=!0),u(y,new yc(y))}if(r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();var Zu=!0;return r.noInitialRun&&(Zu=!1),Zc(),n.ready}}();typeof e=="object"&&typeof i=="object"?i.exports=t:typeof define=="function"&&define.amd?define([],function(){return t}):typeof e=="object"&&(e.WebIFCWasm=t)}}),kD=3821786052,DD=2296667514,JD=3630933823,DG=4288193352,KD=2874132201,OD=618182010,AD=1635779807,BD=2603310189,jD=3406155212,JG=1634111441,KG=177149247,QD=1411407467,_D=3352864051,OG=2056796094,qD=1871374353,AG=3087945054,$D=3001207471,BG=325726236,eJ=749761778,tJ=3199563722,sJ=2483840362,iJ=3379348081,nJ=3239324667,rJ=4263986512,lJ=53199957,aJ=2029264950,oJ=3512275521,jG=1674181508,cJ=669184980,hJ=639542469,uJ=411424972,dJ=130549933,pJ=3869604511,mJ=3798115385,bJ=1310608509,yJ=2705031697,ZJ=3460190687,GJ=3207858831,QG=277319702,gJ=1532957894,TJ=4261334040,IJ=3125803723,RJ=2740243338,fJ=1967976161,XJ=2461110595,WJ=2887950389,SJ=167062518,_G=753842376,qG=2906023776,CJ=819618141,$G=4196446775,VJ=3649138523,LJ=616511568,FJ=1334484129,eg=32344328,NJ=231477066,xJ=3649129432,vJ=2736907675,EJ=4037036970,YJ=1136057603,MJ=1560379544,wJ=3367102660,HJ=1387855156,PJ=2069777674,zJ=1260505505,UJ=4182860854,kJ=2581212453,DJ=2713105998,tg=644574406,sg=963979645,ig=4031249490,ng=3299480353,rg=2979338954,JJ=39481116,lg=1095909175,KJ=1909888760,OJ=1950629157,ag=3124254112,AJ=1177604601,og=2938176219,BJ=2188180465,jJ=2898889636,cg=635142910,QJ=395041908,hg=3758799889,_J=3293546465,ug=1051757585,qJ=2674252688,dg=4217484030,$J=1285652485,pg=3999819293,eK=3203706013,tK=1123145078,sK=574549367,iK=1675464909,nK=2059837836,rK=59481748,lK=3749851601,aK=3486308946,oK=3331915920,cK=1416205885,hK=3150382593,mg=3902619387,uK=2951183804,bg=3296154744,dK=2197970202,pK=2611217952,mK=2937912522,bK=1383045692,yK=1062206242,yg=1677625105,ZK=3893394355,GK=747523909,gK=647927063,TK=2205249479,Zg=639361253,IK=2301859152,RK=776857604,fK=3285139300,XK=3264961684,Gg=843113511,gg=905975707,WK=300633059,Tg=3221913625,SK=400855858,CK=2542286263,VK=3875453745,LK=3732776249,FK=15328376,NK=2485617015,xK=1485152156,Ig=3571504051,vK=3850581409,Rg=2272882330,EK=2816379211,YK=2510884976,MK=370225590,wK=1981873012,HK=2859738748,PK=45288368,zK=2614616156,UK=2732653382,kK=775493141,DK=1959218052,JK=3898045240,KK=2185764099,OK=1060000209,AK=4105962743,BK=488727124,jK=1525564444,QK=2559216714,_K=2574617495,qK=3419103109,$K=3050246964,eO=3293443760,fg=25142252,tO=578613899,sO=2889183280,iO=2713554722,Xg=4136498852,nO=335055490,Wg=3640358203,rO=2954562838,lO=1785450214,aO=1466758467,oO=3895139033,cO=1419761937,hO=602808272,Sg=1973544240,uO=1916426348,dO=3295246426,pO=1815067380,mO=2506170314,bO=2147822146,yO=539742890,Cg=3495092785,ZO=1457835157,GO=2601014836,gO=2827736869,TO=2629017746,IO=1186437898,RO=3800577675,fO=1105321065,XO=2367409068,WO=3510044353,SO=1213902940,Vg=4074379575,CO=3961806047,Lg=3426335179,VO=1306400036,LO=3632507154,FO=1765591967,NO=1045800335,xO=2949456006,vO=32440307,Fg=1335981549,EO=2635815018,YO=1945343521,Ng=1052013943,MO=1599208980,wO=562808652,xg=1062813311,HO=2063403501,vg=1945004755,PO=3256556792,Eg=3040386961,zO=3849074793,Yg=3041715199,UO=3205830791,kO=1154170062,DO=770865208,JO=3732053477,Mg=395920057,KO=2963535650,OO=1714330368,wg=3242481149,AO=526551008,BO=2323601079,jO=445594917,QO=4006246654,Hg=342316401,_O=869906466,Pg=3518393246,qO=3760055223,zg=1360408905,$O=2030761528,eA=3900360178,tA=476780140,sA=1472233963,Ug=1904799276,iA=663422040,kg=862014818,nA=2417008758,Dg=3310460725,rA=3277789161,Jg=264262732,lA=1534661035,Kg=402227799,aA=1217240411,Og=1003880860,oA=712377611,Ag=1758889154,Bg=4123344466,cA=2397081782,jg=1623761950,hA=2590856083,uA=1883228015,dA=339256511,pA=2777663545,mA=1704287377,bA=2835456948,Qg=1658829314,yA=2107101300,_g=2814081492,ZA=132023988,qg=3747195512,GA=3174744832,$g=484807127,gA=3390157468,TA=4148101412,IA=211053100,RA=4024345920,fA=297599258,XA=4294318154,WA=3200245327,SA=1437805879,eT=1209101575,tT=2853485674,CA=2242383968,VA=1040185647,LA=3548104201,FA=477187591,NA=2804161546,xA=2556980723,vA=2047409740,EA=1809719519,YA=803316827,MA=3008276851,wA=807026263,HA=3737207727,sT=24185140,iT=1310830890,PA=4219587988,nT=3415622556,zA=346874300,rT=647756555,UA=2489546625,lT=2827207264,aT=2143335405,oT=1287392070,kA=738692330,DA=374418227,JA=315944413,cT=819412036,KA=1810631287,hT=1426591983,OA=4222183408,AA=2652556860,uT=2058353004,BA=3907093117,dT=4278956645,jA=3198132628,pT=182646315,QA=4037862832,mT=2188021234,_A=3815607619,bT=3132237377,qA=1482959167,yT=987401354,$A=1834744321,ZT=707683696,eB=1339347760,GT=2223149337,tB=2297155007,gT=3508470533,sB=3009222698,TT=900683007,iB=1893162501,IT=263784265,nB=4238390223,RT=1509553395,rB=1268542332,fT=3493046030,lB=4095422895,aB=987898635,oB=3448662350,cB=2453401579,hB=4142052618,uB=3590301190,XT=3009204131,dB=852622518,pB=178086475,mB=2706460486,bB=812098782,WT=3319311131,yB=1251058090,ST=2068733104,ZB=1806887404,GB=1484403080,gB=3905492369,TB=3570813810,IB=2571569899,RB=178912537,fB=2294589976,XB=1437953363,WB=2133299955,CT=4175244083,SB=3946677679,CB=3113134337,VB=2391368822,LB=3741457305,FB=3020489413,VT=2176052936,NB=4288270099,xB=572779678,vB=3827777499,EB=428585644,YB=1585845231,LT=76236018,MB=1051575348,wB=2655187982,HB=3452421091,PB=4162380809,FT=629592764,zB=1161773419,UB=1566485204,kB=1402838566,DB=125510826,JB=2604431987,KB=4266656042,OB=1520743889,AB=3422422726,BB=1281925730,jB=3092502836,QB=388784114,NT=1154579445,_B=2624227202,qB=1008929658,$B=1425443689,e4=3057273783,t4=2347385850,s4=1838606355,i4=1847130766,n4=3708119e3,r4=2852063980,l4=760658860,a4=2022407955,o4=248100487,c4=3303938423,h4=1303795690,u4=1847252529,d4=2199411900,p4=2235152071,m4=164193824,b4=3079605661,y4=3404854881,Z4=552965576,G4=3265635763,g4=853536259,T4=1507914824,I4=2597039031,xT=377706215,R4=2108223431,vT=1437502449,f4=1114901282,ET=1073191201,YT=1911478936,X4=3181161470,W4=3368373690,S4=2998442950,C4=2706619895,MT=2474470126,V4=977012517,L4=1918398963,F4=3888040117,N4=219451334,x4=3701648758,v4=2251480897,E4=4143007308,Y4=590820931,M4=3388369263,w4=3505215534,H4=2485787929,P4=2665983363,$o=3588315303,wT=3079942009,z4=4251960020,U4=1411181986,k4=643959842,D4=1029017970,J4=144952367,HT=3694346114,K4=2837617999,O4=1207048766,A4=2529465313,B4=2519244187,j4=1682466193,Q4=2382730787,_4=3566463478,q4=3327091369,$4=2077209135,ej=101040310,tj=3021840470,sj=2483315170,ij=2226359599,PT=1687234759,nj=1158309216,zT=310824031,rj=804291784,UT=3612865200,lj=4231323485,aj=597895409,oj=2004835150,cj=603570806,hj=1663979128,uj=220341763,kT=3171933400,DT=1156407060,dj=4017108033,pj=2067069095,mj=4022376103,bj=1423911732,yj=2924175390,Zj=2775532180,Gj=2839578677,gj=3724593414,JT=3740093272,KT=1946335990,Tj=3355820592,Ij=759155922,Rj=2559016684,fj=3727388367,Xj=3778827333,Wj=3967405729,Sj=1775413392,Cj=677532197,Vj=2022622350,Lj=1304840413,Fj=3119450353,Nj=2417041796,xj=2744685151,vj=569719735,Ej=2945172077,Yj=4208778838,OT=673634403,Mj=2095639259,wj=3958567839,Hj=2802850158,_h=103090709,Pj=653396225,zj=2904328755,Uj=3843373140,AT=3651124850,kj=2598011224,Dj=986844984,Jj=871118103,Kj=1680319473,Oj=148025276,Aj=4166981789,Bj=3710013099,jj=2752243245,Qj=941946838,_j=1451395588,qj=3357820518,$j=492091185,eQ=3650150729,tQ=110355661,sQ=3521284610,iQ=1482703590,BT=738039164,jT=2295281155,nQ=655969474,rQ=1842657554,QT=3219374653,_T=90941305,lQ=2250791053,aQ=2044713172,oQ=2093928680,cQ=931644368,hQ=2090586900,uQ=3252649465,dQ=2405470396,pQ=825690147,qT=2262370178,mQ=2893384427,$T=3024970846,eI=3283111854,bQ=2324767716,yQ=1469900589,ZQ=1232101972,GQ=683857671,gQ=2770003689,TQ=3615266464,IQ=2798486643,RQ=3454111270,fQ=3915482550,XQ=2433181523,tI=4021432810,WQ=3413951693,SQ=1580146022,CQ=3765753017,sI=979691226,VQ=2572171363,iI=3027567501,LQ=964333572,nI=2320036040,FQ=2310774935,zp=160246688,NQ=3939117080,xQ=1683148259,vQ=2495723537,EQ=1307041759,YQ=1027710054,MQ=4278684876,wQ=2857406711,HQ=205026976,PQ=1865459582,zQ=4095574036,UQ=919958153,kQ=2728634034,DQ=982818633,JQ=3840914261,Up=2655215786,KQ=826625072,OQ=1204542856,AQ=3945020480,BQ=4201705270,jQ=3190031847,QQ=2127690289,_Q=1638771189,qQ=504942748,$Q=3678494232,kp=3242617779,e_=886880790,t_=2802773753,s_=2565941209,i_=2551354335,n_=693640335,r_=1462361463,Dp=4186316022,l_=307848117,Jp=781010003,a_=3940055652,o_=279856033,c_=427948657,h_=3268803585,u_=1441486842,d_=750771296,p_=1245217292,m_=4122056220,b_=366585022,y_=3451746338,Z_=3523091289,G_=1521410863,g_=1401173127,T_=478536968,I_=816062949,R_=1076942058,f_=3377609919,X_=3008791417,W_=1660063152,S_=2914609552,C_=2943643501,V_=1608871552,L_=2439245199,F_=1042787934,N_=1856042241,x_=3243963512,v_=4158566097,E_=3626867408,rI=2016517767,Y_=2781568857,M_=2341007311,w_=2778083089,H_=448429030,lI=3053780830,P_=1768891740,z_=1054537805,U_=2157484638,k_=2042790032,D_=4165799628,J_=1862484736,K_=1290935644,O_=1509187699,aI=4086658281,A_=1783015770,oI=1329646415,B_=4074543187,j_=867548509,Q_=3982875396,__=4240577450,q_=4124623270,$_=3692461612,e7=3663146110,cI=4097777520,hI=1529196076,uI=3127900445,dI=3027962421,t7=2533589738,s7=2609359061,pI=3420628829,i7=1072016465,n7=723233188,ec=3856911033,mI=1999602285,r7=1305183839,l7=3812236995,bI=1412071761,a7=710998568,yI=2706606064,o7=3893378262,ZI=463610769,c7=2481509218,h7=451544542,u7=4015995234,GI=1404847402,d7=3112655638,gI=331165859,TI=4252922144,p7=1039846685,m7=338393293,II=682877961,RI=3544373492,b7=2515109513,fI=1179482911,y7=2273995522,XI=1004757350,WI=4243806635,SI=214636428,CI=2445595289,VI=2757150158,LI=3136571912,FI=1807405624,Z7=2162789131,G7=385403989,g7=3478079324,T7=1252848954,I7=1595516126,R7=609421318,f7=2668620305,X7=2473145415,W7=1973038258,S7=1597423693,C7=1190533807,V7=2525727697,L7=3408363356,NI=530289379,xI=1621171031,vI=2082059205,EI=734778138,YI=1235345126,MI=3689010777,F7=2986769608,wI=3657597509,HI=1975003073,PI=3979015343,zI=2218152070,UI=603775116,N7=2830218821,x7=3958052878,v7=3049322572,E7=148013059,Y7=4095615324,M7=2233826070,w7=2513912981,H7=699246055,P7=2028607225,kI=3101698114,z7=2809605785,U7=4124788165,k7=2934153892,D7=1300840506,J7=3303107099,K7=1607154358,O7=1878645084,A7=846575682,B7=1351298697,j7=626085974,Q7=2247615214,_7=1260650574,q7=1096409881,$7=230924584,DI=1162798199,e8=2315554128,t8=2254336722,JI=413509423,s8=1580310250,i8=3071757647,n8=985171141,r8=2043862942,l8=531007025,KI=812556717,a8=5716631,o8=3473067441,c8=1549132990,h8=2771591690,u8=3206491090,d8=912023232,OI=3824725483,AI=2347447852,p8=3081323446,BI=3663046924,m8=2281632017,b8=2415094496,y8=2387106220,Z8=901063453,G8=4282788508,g8=3124975700,T8=1447204868,I8=1983826977,R8=2636378356,f8=1640371178,X8=280115917,W8=1742049831,S8=2552916305,C8=1210645708,V8=3611470254,L8=1199560280,F8=3101149627,N8=581633288,x8=1377556343,v8=1735638870,E8=1935646853,jI=3825984169,Y8=1692211062,M8=2595432518,QI=1620046519,w8=2097647324,H8=2715220739,P8=2916149573,z8=1229763772,U8=3593883385,_I=3026737570,k8=1600972822,D8=1628702193,J8=3736923433,K8=2347495698,O8=3698973494,A8=427810014,B8=180925521,qI=630975310,j8=3179687236,$I=4292641817,Q8=1911125066,eR=4207607924,_8=728799441,q8=1417489154,$8=2799835756,e6=2759199220,t6=1907098498,tR=1530820697,s6=3956297820,sR=2391383451,i6=3313531582,iR=2769231204,n6=891718957,nR=926996030,rR=2391406946,lR=4156078855,aR=3512223829,r6=1898987631,oR=4237592921,l6=1133259667,cR=3304561284,a6=336235671,o6=512836454,hR=486154966,c6=1299126871,h6=4009809668,u6=4088093105,d6=1028945134,p6=4218914973,m6=3342526732,b6=1236880293,y6=2543172580,Z6=1033361043,uR=[DG,JG,KG,OG,AG,BG,jG,QG,_G,qG,$G,eg,tg,sg,ig,ng,rg,lg,ag,og,cg,hg,ug,dg,pg,mg,bg,yg,Zg,Gg,gg,Tg,Ig,Rg,fg,Xg,Wg,Sg,Cg,Vg,Lg,Fg,Ng,xg,vg,Eg,Yg,Mg,wg,Hg,Pg,zg,Ug,kg,Dg,Jg,Kg,Og,Ag,Bg,jg,Qg,_g,qg,$g,eT,tT,sT,iT,nT,rT,lT,aT,oT,cT,hT,uT,dT,pT,mT,bT,yT,ZT,GT,gT,TT,IT,RT,fT,XT,WT,ST,CT,VT,LT,FT,NT,xT,vT,ET,YT,MT,$o,wT,HT,PT,zT,UT,kT,DT,JT,KT,AT,BT,jT,QT,_T,qT,$T,eI,tI,sI,iI,nI,rI,lI,aI,oI,cI,hI,uI,dI,pI,ec,mI,bI,yI,ZI,GI,gI,TI,II,RI,fI,XI,WI,SI,CI,VI,LI,FI,NI,xI,vI,EI,YI,MI,wI,HI,PI,zI,UI,kI,DI,JI,KI,OI,AI,BI,jI,QI,_I,qI,$I,eR,tR,sR,iR,nR,rR,lR,aR,oR,cR,hR],R={};R[kD]=e=>dR.FromTape(e.ID,e.type,e.arguments),R[DD]=e=>pR.FromTape(e.ID,e.type,e.arguments),R[JD]=e=>mR.FromTape(e.ID,e.type,e.arguments),R[DG]=e=>bR.FromTape(e.ID,e.type,e.arguments),R[KD]=e=>yR.FromTape(e.ID,e.type,e.arguments),R[OD]=e=>ZR.FromTape(e.ID,e.type,e.arguments),R[AD]=e=>GR.FromTape(e.ID,e.type,e.arguments),R[BD]=e=>gR.FromTape(e.ID,e.type,e.arguments),R[jD]=e=>TR.FromTape(e.ID,e.type,e.arguments),R[JG]=e=>IR.FromTape(e.ID,e.type,e.arguments),R[KG]=e=>RR.FromTape(e.ID,e.type,e.arguments),R[QD]=e=>fR.FromTape(e.ID,e.type,e.arguments),R[_D]=e=>XR.FromTape(e.ID,e.type,e.arguments),R[OG]=e=>WR.FromTape(e.ID,e.type,e.arguments),R[qD]=e=>SR.FromTape(e.ID,e.type,e.arguments),R[AG]=e=>CR.FromTape(e.ID,e.type,e.arguments),R[$D]=e=>VR.FromTape(e.ID,e.type,e.arguments),R[BG]=e=>LR.FromTape(e.ID,e.type,e.arguments),R[eJ]=e=>FR.FromTape(e.ID,e.type,e.arguments),R[tJ]=e=>NR.FromTape(e.ID,e.type,e.arguments),R[sJ]=e=>xR.FromTape(e.ID,e.type,e.arguments),R[iJ]=e=>vR.FromTape(e.ID,e.type,e.arguments),R[nJ]=e=>ER.FromTape(e.ID,e.type,e.arguments),R[rJ]=e=>YR.FromTape(e.ID,e.type,e.arguments),R[lJ]=e=>MR.FromTape(e.ID,e.type,e.arguments),R[aJ]=e=>wR.FromTape(e.ID,e.type,e.arguments),R[oJ]=e=>HR.FromTape(e.ID,e.type,e.arguments),R[jG]=e=>PR.FromTape(e.ID,e.type,e.arguments),R[cJ]=e=>zR.FromTape(e.ID,e.type,e.arguments),R[hJ]=e=>UR.FromTape(e.ID,e.type,e.arguments),R[uJ]=e=>kR.FromTape(e.ID,e.type,e.arguments),R[dJ]=e=>DR.FromTape(e.ID,e.type,e.arguments),R[pJ]=e=>JR.FromTape(e.ID,e.type,e.arguments),R[mJ]=e=>KR.FromTape(e.ID,e.type,e.arguments),R[bJ]=e=>OR.FromTape(e.ID,e.type,e.arguments),R[yJ]=e=>AR.FromTape(e.ID,e.type,e.arguments),R[ZJ]=e=>BR.FromTape(e.ID,e.type,e.arguments),R[GJ]=e=>jR.FromTape(e.ID,e.type,e.arguments),R[QG]=e=>QR.FromTape(e.ID,e.type,e.arguments),R[gJ]=e=>_R.FromTape(e.ID,e.type,e.arguments),R[TJ]=e=>qR.FromTape(e.ID,e.type,e.arguments),R[IJ]=e=>$R.FromTape(e.ID,e.type,e.arguments),R[RJ]=e=>ef.FromTape(e.ID,e.type,e.arguments),R[fJ]=e=>tf.FromTape(e.ID,e.type,e.arguments),R[XJ]=e=>sf.FromTape(e.ID,e.type,e.arguments),R[WJ]=e=>nf.FromTape(e.ID,e.type,e.arguments),R[SJ]=e=>rf.FromTape(e.ID,e.type,e.arguments),R[_G]=e=>lf.FromTape(e.ID,e.type,e.arguments),R[qG]=e=>af.FromTape(e.ID,e.type,e.arguments),R[CJ]=e=>of.FromTape(e.ID,e.type,e.arguments),R[$G]=e=>cf.FromTape(e.ID,e.type,e.arguments),R[VJ]=e=>hf.FromTape(e.ID,e.type,e.arguments),R[LJ]=e=>uf.FromTape(e.ID,e.type,e.arguments),R[FJ]=e=>df.FromTape(e.ID,e.type,e.arguments),R[eg]=e=>pf.FromTape(e.ID,e.type,e.arguments),R[NJ]=e=>mf.FromTape(e.ID,e.type,e.arguments),R[xJ]=e=>bf.FromTape(e.ID,e.type,e.arguments),R[vJ]=e=>yf.FromTape(e.ID,e.type,e.arguments),R[EJ]=e=>Zf.FromTape(e.ID,e.type,e.arguments),R[YJ]=e=>Gf.FromTape(e.ID,e.type,e.arguments),R[MJ]=e=>gf.FromTape(e.ID,e.type,e.arguments),R[wJ]=e=>Tf.FromTape(e.ID,e.type,e.arguments),R[HJ]=e=>If.FromTape(e.ID,e.type,e.arguments),R[PJ]=e=>Rf.FromTape(e.ID,e.type,e.arguments),R[zJ]=e=>ff.FromTape(e.ID,e.type,e.arguments),R[UJ]=e=>Xf.FromTape(e.ID,e.type,e.arguments),R[kJ]=e=>Wf.FromTape(e.ID,e.type,e.arguments),R[DJ]=e=>Sf.FromTape(e.ID,e.type,e.arguments),R[tg]=e=>Cf.FromTape(e.ID,e.type,e.arguments),R[sg]=e=>Vf.FromTape(e.ID,e.type,e.arguments),R[ig]=e=>Lf.FromTape(e.ID,e.type,e.arguments),R[ng]=e=>Ff.FromTape(e.ID,e.type,e.arguments),R[rg]=e=>Nf.FromTape(e.ID,e.type,e.arguments),R[JJ]=e=>xf.FromTape(e.ID,e.type,e.arguments),R[lg]=e=>vf.FromTape(e.ID,e.type,e.arguments),R[KJ]=e=>Ef.FromTape(e.ID,e.type,e.arguments),R[OJ]=e=>Yf.FromTape(e.ID,e.type,e.arguments),R[ag]=e=>Mf.FromTape(e.ID,e.type,e.arguments),R[AJ]=e=>wf.FromTape(e.ID,e.type,e.arguments),R[og]=e=>Hf.FromTape(e.ID,e.type,e.arguments),R[BJ]=e=>Pf.FromTape(e.ID,e.type,e.arguments),R[jJ]=e=>zf.FromTape(e.ID,e.type,e.arguments),R[cg]=e=>Uf.FromTape(e.ID,e.type,e.arguments),R[QJ]=e=>kf.FromTape(e.ID,e.type,e.arguments),R[hg]=e=>Df.FromTape(e.ID,e.type,e.arguments),R[_J]=e=>Jf.FromTape(e.ID,e.type,e.arguments),R[ug]=e=>Kf.FromTape(e.ID,e.type,e.arguments),R[qJ]=e=>Of.FromTape(e.ID,e.type,e.arguments),R[dg]=e=>Af.FromTape(e.ID,e.type,e.arguments),R[$J]=e=>Bf.FromTape(e.ID,e.type,e.arguments),R[pg]=e=>jf.FromTape(e.ID,e.type,e.arguments),R[eK]=e=>Qf.FromTape(e.ID,e.type,e.arguments),R[tK]=e=>_f.FromTape(e.ID,e.type,e.arguments),R[sK]=e=>qf.FromTape(e.ID,e.type,e.arguments),R[iK]=e=>$f.FromTape(e.ID,e.type,e.arguments),R[nK]=e=>eX.FromTape(e.ID,e.type,e.arguments),R[rK]=e=>tX.FromTape(e.ID,e.type,e.arguments),R[lK]=e=>sX.FromTape(e.ID,e.type,e.arguments),R[aK]=e=>iX.FromTape(e.ID,e.type,e.arguments),R[oK]=e=>nX.FromTape(e.ID,e.type,e.arguments),R[cK]=e=>rX.FromTape(e.ID,e.type,e.arguments),R[hK]=e=>lX.FromTape(e.ID,e.type,e.arguments),R[mg]=e=>aX.FromTape(e.ID,e.type,e.arguments),R[uK]=e=>oX.FromTape(e.ID,e.type,e.arguments),R[bg]=e=>cX.FromTape(e.ID,e.type,e.arguments),R[dK]=e=>hX.FromTape(e.ID,e.type,e.arguments),R[pK]=e=>uX.FromTape(e.ID,e.type,e.arguments),R[mK]=e=>dX.FromTape(e.ID,e.type,e.arguments),R[bK]=e=>pX.FromTape(e.ID,e.type,e.arguments),R[yK]=e=>mX.FromTape(e.ID,e.type,e.arguments),R[yg]=e=>bX.FromTape(e.ID,e.type,e.arguments),R[ZK]=e=>yX.FromTape(e.ID,e.type,e.arguments),R[GK]=e=>ZX.FromTape(e.ID,e.type,e.arguments),R[gK]=e=>GX.FromTape(e.ID,e.type,e.arguments),R[TK]=e=>gX.FromTape(e.ID,e.type,e.arguments),R[Zg]=e=>TX.FromTape(e.ID,e.type,e.arguments),R[IK]=e=>IX.FromTape(e.ID,e.type,e.arguments),R[RK]=e=>RX.FromTape(e.ID,e.type,e.arguments),R[fK]=e=>fX.FromTape(e.ID,e.type,e.arguments),R[XK]=e=>XX.FromTape(e.ID,e.type,e.arguments),R[Gg]=e=>WX.FromTape(e.ID,e.type,e.arguments),R[gg]=e=>SX.FromTape(e.ID,e.type,e.arguments),R[WK]=e=>CX.FromTape(e.ID,e.type,e.arguments),R[Tg]=e=>VX.FromTape(e.ID,e.type,e.arguments),R[SK]=e=>LX.FromTape(e.ID,e.type,e.arguments),R[CK]=e=>FX.FromTape(e.ID,e.type,e.arguments),R[VK]=e=>NX.FromTape(e.ID,e.type,e.arguments),R[LK]=e=>xX.FromTape(e.ID,e.type,e.arguments),R[FK]=e=>vX.FromTape(e.ID,e.type,e.arguments),R[NK]=e=>EX.FromTape(e.ID,e.type,e.arguments),R[xK]=e=>YX.FromTape(e.ID,e.type,e.arguments),R[Ig]=e=>MX.FromTape(e.ID,e.type,e.arguments),R[vK]=e=>wX.FromTape(e.ID,e.type,e.arguments),R[Rg]=e=>HX.FromTape(e.ID,e.type,e.arguments),R[EK]=e=>PX.FromTape(e.ID,e.type,e.arguments),R[YK]=e=>zX.FromTape(e.ID,e.type,e.arguments),R[MK]=e=>UX.FromTape(e.ID,e.type,e.arguments),R[wK]=e=>kX.FromTape(e.ID,e.type,e.arguments),R[HK]=e=>DX.FromTape(e.ID,e.type,e.arguments),R[PK]=e=>JX.FromTape(e.ID,e.type,e.arguments),R[zK]=e=>KX.FromTape(e.ID,e.type,e.arguments),R[UK]=e=>OX.FromTape(e.ID,e.type,e.arguments),R[kK]=e=>AX.FromTape(e.ID,e.type,e.arguments),R[DK]=e=>BX.FromTape(e.ID,e.type,e.arguments),R[JK]=e=>jX.FromTape(e.ID,e.type,e.arguments),R[KK]=e=>QX.FromTape(e.ID,e.type,e.arguments),R[OK]=e=>_X.FromTape(e.ID,e.type,e.arguments),R[AK]=e=>qX.FromTape(e.ID,e.type,e.arguments),R[BK]=e=>$X.FromTape(e.ID,e.type,e.arguments),R[jK]=e=>e2.FromTape(e.ID,e.type,e.arguments),R[QK]=e=>t2.FromTape(e.ID,e.type,e.arguments),R[_K]=e=>s2.FromTape(e.ID,e.type,e.arguments),R[qK]=e=>i2.FromTape(e.ID,e.type,e.arguments),R[$K]=e=>n2.FromTape(e.ID,e.type,e.arguments),R[eO]=e=>r2.FromTape(e.ID,e.type,e.arguments),R[fg]=e=>l2.FromTape(e.ID,e.type,e.arguments),R[tO]=e=>a2.FromTape(e.ID,e.type,e.arguments),R[sO]=e=>o2.FromTape(e.ID,e.type,e.arguments),R[iO]=e=>c2.FromTape(e.ID,e.type,e.arguments),R[Xg]=e=>h2.FromTape(e.ID,e.type,e.arguments),R[nO]=e=>u2.FromTape(e.ID,e.type,e.arguments),R[Wg]=e=>d2.FromTape(e.ID,e.type,e.arguments),R[rO]=e=>p2.FromTape(e.ID,e.type,e.arguments),R[lO]=e=>m2.FromTape(e.ID,e.type,e.arguments),R[aO]=e=>b2.FromTape(e.ID,e.type,e.arguments),R[oO]=e=>y2.FromTape(e.ID,e.type,e.arguments),R[cO]=e=>Z2.FromTape(e.ID,e.type,e.arguments),R[hO]=e=>G2.FromTape(e.ID,e.type,e.arguments),R[Sg]=e=>g2.FromTape(e.ID,e.type,e.arguments),R[uO]=e=>T2.FromTape(e.ID,e.type,e.arguments),R[dO]=e=>I2.FromTape(e.ID,e.type,e.arguments),R[pO]=e=>R2.FromTape(e.ID,e.type,e.arguments),R[mO]=e=>f2.FromTape(e.ID,e.type,e.arguments),R[bO]=e=>X2.FromTape(e.ID,e.type,e.arguments),R[yO]=e=>W2.FromTape(e.ID,e.type,e.arguments),R[Cg]=e=>S2.FromTape(e.ID,e.type,e.arguments),R[ZO]=e=>C2.FromTape(e.ID,e.type,e.arguments),R[GO]=e=>V2.FromTape(e.ID,e.type,e.arguments),R[gO]=e=>L2.FromTape(e.ID,e.type,e.arguments),R[TO]=e=>F2.FromTape(e.ID,e.type,e.arguments),R[IO]=e=>N2.FromTape(e.ID,e.type,e.arguments),R[RO]=e=>x2.FromTape(e.ID,e.type,e.arguments),R[fO]=e=>v2.FromTape(e.ID,e.type,e.arguments),R[XO]=e=>E2.FromTape(e.ID,e.type,e.arguments),R[WO]=e=>Y2.FromTape(e.ID,e.type,e.arguments),R[SO]=e=>M2.FromTape(e.ID,e.type,e.arguments),R[Vg]=e=>w2.FromTape(e.ID,e.type,e.arguments),R[CO]=e=>H2.FromTape(e.ID,e.type,e.arguments),R[Lg]=e=>P2.FromTape(e.ID,e.type,e.arguments),R[VO]=e=>z2.FromTape(e.ID,e.type,e.arguments),R[LO]=e=>U2.FromTape(e.ID,e.type,e.arguments),R[FO]=e=>k2.FromTape(e.ID,e.type,e.arguments),R[NO]=e=>D2.FromTape(e.ID,e.type,e.arguments),R[xO]=e=>J2.FromTape(e.ID,e.type,e.arguments),R[vO]=e=>K2.FromTape(e.ID,e.type,e.arguments),R[Fg]=e=>O2.FromTape(e.ID,e.type,e.arguments),R[EO]=e=>A2.FromTape(e.ID,e.type,e.arguments),R[YO]=e=>B2.FromTape(e.ID,e.type,e.arguments),R[Ng]=e=>j2.FromTape(e.ID,e.type,e.arguments),R[MO]=e=>Q2.FromTape(e.ID,e.type,e.arguments),R[wO]=e=>_2.FromTape(e.ID,e.type,e.arguments),R[xg]=e=>q2.FromTape(e.ID,e.type,e.arguments),R[HO]=e=>$2.FromTape(e.ID,e.type,e.arguments),R[vg]=e=>eW.FromTape(e.ID,e.type,e.arguments),R[PO]=e=>tW.FromTape(e.ID,e.type,e.arguments),R[Eg]=e=>sW.FromTape(e.ID,e.type,e.arguments),R[zO]=e=>iW.FromTape(e.ID,e.type,e.arguments),R[Yg]=e=>nW.FromTape(e.ID,e.type,e.arguments),R[UO]=e=>rW.FromTape(e.ID,e.type,e.arguments),R[kO]=e=>lW.FromTape(e.ID,e.type,e.arguments),R[DO]=e=>aW.FromTape(e.ID,e.type,e.arguments),R[JO]=e=>oW.FromTape(e.ID,e.type,e.arguments),R[Mg]=e=>cW.FromTape(e.ID,e.type,e.arguments),R[KO]=e=>hW.FromTape(e.ID,e.type,e.arguments),R[OO]=e=>uW.FromTape(e.ID,e.type,e.arguments),R[wg]=e=>dW.FromTape(e.ID,e.type,e.arguments),R[AO]=e=>pW.FromTape(e.ID,e.type,e.arguments),R[BO]=e=>mW.FromTape(e.ID,e.type,e.arguments),R[jO]=e=>bW.FromTape(e.ID,e.type,e.arguments),R[QO]=e=>yW.FromTape(e.ID,e.type,e.arguments),R[Hg]=e=>ZW.FromTape(e.ID,e.type,e.arguments),R[_O]=e=>GW.FromTape(e.ID,e.type,e.arguments),R[Pg]=e=>gW.FromTape(e.ID,e.type,e.arguments),R[qO]=e=>TW.FromTape(e.ID,e.type,e.arguments),R[zg]=e=>IW.FromTape(e.ID,e.type,e.arguments),R[$O]=e=>RW.FromTape(e.ID,e.type,e.arguments),R[eA]=e=>fW.FromTape(e.ID,e.type,e.arguments),R[tA]=e=>XW.FromTape(e.ID,e.type,e.arguments),R[sA]=e=>WW.FromTape(e.ID,e.type,e.arguments),R[Ug]=e=>SW.FromTape(e.ID,e.type,e.arguments),R[iA]=e=>CW.FromTape(e.ID,e.type,e.arguments),R[kg]=e=>VW.FromTape(e.ID,e.type,e.arguments),R[nA]=e=>LW.FromTape(e.ID,e.type,e.arguments),R[Dg]=e=>FW.FromTape(e.ID,e.type,e.arguments),R[rA]=e=>NW.FromTape(e.ID,e.type,e.arguments),R[Jg]=e=>xW.FromTape(e.ID,e.type,e.arguments),R[lA]=e=>vW.FromTape(e.ID,e.type,e.arguments),R[Kg]=e=>EW.FromTape(e.ID,e.type,e.arguments),R[aA]=e=>YW.FromTape(e.ID,e.type,e.arguments),R[Og]=e=>MW.FromTape(e.ID,e.type,e.arguments),R[oA]=e=>wW.FromTape(e.ID,e.type,e.arguments),R[Ag]=e=>HW.FromTape(e.ID,e.type,e.arguments),R[Bg]=e=>PW.FromTape(e.ID,e.type,e.arguments),R[cA]=e=>zW.FromTape(e.ID,e.type,e.arguments),R[jg]=e=>UW.FromTape(e.ID,e.type,e.arguments),R[hA]=e=>kW.FromTape(e.ID,e.type,e.arguments),R[uA]=e=>DW.FromTape(e.ID,e.type,e.arguments),R[dA]=e=>JW.FromTape(e.ID,e.type,e.arguments),R[pA]=e=>KW.FromTape(e.ID,e.type,e.arguments),R[mA]=e=>OW.FromTape(e.ID,e.type,e.arguments),R[bA]=e=>AW.FromTape(e.ID,e.type,e.arguments),R[Qg]=e=>BW.FromTape(e.ID,e.type,e.arguments),R[yA]=e=>jW.FromTape(e.ID,e.type,e.arguments),R[_g]=e=>QW.FromTape(e.ID,e.type,e.arguments),R[ZA]=e=>_W.FromTape(e.ID,e.type,e.arguments),R[qg]=e=>qW.FromTape(e.ID,e.type,e.arguments),R[GA]=e=>$W.FromTape(e.ID,e.type,e.arguments),R[$g]=e=>e1.FromTape(e.ID,e.type,e.arguments),R[gA]=e=>t1.FromTape(e.ID,e.type,e.arguments),R[TA]=e=>s1.FromTape(e.ID,e.type,e.arguments),R[IA]=e=>i1.FromTape(e.ID,e.type,e.arguments),R[RA]=e=>n1.FromTape(e.ID,e.type,e.arguments),R[fA]=e=>r1.FromTape(e.ID,e.type,e.arguments),R[XA]=e=>l1.FromTape(e.ID,e.type,e.arguments),R[WA]=e=>a1.FromTape(e.ID,e.type,e.arguments),R[SA]=e=>o1.FromTape(e.ID,e.type,e.arguments),R[eT]=e=>c1.FromTape(e.ID,e.type,e.arguments),R[tT]=e=>h1.FromTape(e.ID,e.type,e.arguments),R[CA]=e=>u1.FromTape(e.ID,e.type,e.arguments),R[VA]=e=>d1.FromTape(e.ID,e.type,e.arguments),R[LA]=e=>p1.FromTape(e.ID,e.type,e.arguments),R[FA]=e=>m1.FromTape(e.ID,e.type,e.arguments),R[NA]=e=>b1.FromTape(e.ID,e.type,e.arguments),R[xA]=e=>y1.FromTape(e.ID,e.type,e.arguments),R[vA]=e=>Z1.FromTape(e.ID,e.type,e.arguments),R[EA]=e=>G1.FromTape(e.ID,e.type,e.arguments),R[YA]=e=>g1.FromTape(e.ID,e.type,e.arguments),R[MA]=e=>T1.FromTape(e.ID,e.type,e.arguments),R[wA]=e=>I1.FromTape(e.ID,e.type,e.arguments),R[HA]=e=>R1.FromTape(e.ID,e.type,e.arguments),R[sT]=e=>f1.FromTape(e.ID,e.type,e.arguments),R[iT]=e=>X1.FromTape(e.ID,e.type,e.arguments),R[PA]=e=>W1.FromTape(e.ID,e.type,e.arguments),R[nT]=e=>S1.FromTape(e.ID,e.type,e.arguments),R[zA]=e=>C1.FromTape(e.ID,e.type,e.arguments),R[rT]=e=>V1.FromTape(e.ID,e.type,e.arguments),R[UA]=e=>L1.FromTape(e.ID,e.type,e.arguments),R[lT]=e=>F1.FromTape(e.ID,e.type,e.arguments),R[aT]=e=>N1.FromTape(e.ID,e.type,e.arguments),R[oT]=e=>x1.FromTape(e.ID,e.type,e.arguments),R[kA]=e=>v1.FromTape(e.ID,e.type,e.arguments),R[DA]=e=>E1.FromTape(e.ID,e.type,e.arguments),R[JA]=e=>Y1.FromTape(e.ID,e.type,e.arguments),R[cT]=e=>M1.FromTape(e.ID,e.type,e.arguments),R[KA]=e=>w1.FromTape(e.ID,e.type,e.arguments),R[hT]=e=>H1.FromTape(e.ID,e.type,e.arguments),R[OA]=e=>P1.FromTape(e.ID,e.type,e.arguments),R[AA]=e=>z1.FromTape(e.ID,e.type,e.arguments),R[uT]=e=>U1.FromTape(e.ID,e.type,e.arguments),R[BA]=e=>k1.FromTape(e.ID,e.type,e.arguments),R[dT]=e=>D1.FromTape(e.ID,e.type,e.arguments),R[jA]=e=>J1.FromTape(e.ID,e.type,e.arguments),R[pT]=e=>K1.FromTape(e.ID,e.type,e.arguments),R[QA]=e=>O1.FromTape(e.ID,e.type,e.arguments),R[mT]=e=>A1.FromTape(e.ID,e.type,e.arguments),R[_A]=e=>B1.FromTape(e.ID,e.type,e.arguments),R[bT]=e=>j1.FromTape(e.ID,e.type,e.arguments),R[qA]=e=>Q1.FromTape(e.ID,e.type,e.arguments),R[yT]=e=>_1.FromTape(e.ID,e.type,e.arguments),R[$A]=e=>q1.FromTape(e.ID,e.type,e.arguments),R[ZT]=e=>$1.FromTape(e.ID,e.type,e.arguments),R[eB]=e=>eS.FromTape(e.ID,e.type,e.arguments),R[GT]=e=>tS.FromTape(e.ID,e.type,e.arguments),R[tB]=e=>sS.FromTape(e.ID,e.type,e.arguments),R[gT]=e=>iS.FromTape(e.ID,e.type,e.arguments),R[sB]=e=>nS.FromTape(e.ID,e.type,e.arguments),R[TT]=e=>rS.FromTape(e.ID,e.type,e.arguments),R[iB]=e=>lS.FromTape(e.ID,e.type,e.arguments),R[IT]=e=>aS.FromTape(e.ID,e.type,e.arguments),R[nB]=e=>oS.FromTape(e.ID,e.type,e.arguments),R[RT]=e=>cS.FromTape(e.ID,e.type,e.arguments),R[rB]=e=>hS.FromTape(e.ID,e.type,e.arguments),R[fT]=e=>uS.FromTape(e.ID,e.type,e.arguments),R[lB]=e=>dS.FromTape(e.ID,e.type,e.arguments),R[aB]=e=>pS.FromTape(e.ID,e.type,e.arguments),R[oB]=e=>mS.FromTape(e.ID,e.type,e.arguments),R[cB]=e=>bS.FromTape(e.ID,e.type,e.arguments),R[hB]=e=>yS.FromTape(e.ID,e.type,e.arguments),R[uB]=e=>ZS.FromTape(e.ID,e.type,e.arguments),R[XT]=e=>GS.FromTape(e.ID,e.type,e.arguments),R[dB]=e=>gS.FromTape(e.ID,e.type,e.arguments),R[pB]=e=>TS.FromTape(e.ID,e.type,e.arguments),R[mB]=e=>IS.FromTape(e.ID,e.type,e.arguments),R[bB]=e=>RS.FromTape(e.ID,e.type,e.arguments),R[WT]=e=>fS.FromTape(e.ID,e.type,e.arguments),R[yB]=e=>XS.FromTape(e.ID,e.type,e.arguments),R[ST]=e=>WS.FromTape(e.ID,e.type,e.arguments),R[ZB]=e=>SS.FromTape(e.ID,e.type,e.arguments),R[GB]=e=>CS.FromTape(e.ID,e.type,e.arguments),R[gB]=e=>VS.FromTape(e.ID,e.type,e.arguments),R[TB]=e=>LS.FromTape(e.ID,e.type,e.arguments),R[IB]=e=>FS.FromTape(e.ID,e.type,e.arguments),R[RB]=e=>NS.FromTape(e.ID,e.type,e.arguments),R[fB]=e=>xS.FromTape(e.ID,e.type,e.arguments),R[XB]=e=>vS.FromTape(e.ID,e.type,e.arguments),R[WB]=e=>ES.FromTape(e.ID,e.type,e.arguments),R[CT]=e=>YS.FromTape(e.ID,e.type,e.arguments),R[SB]=e=>MS.FromTape(e.ID,e.type,e.arguments),R[CB]=e=>wS.FromTape(e.ID,e.type,e.arguments),R[VB]=e=>HS.FromTape(e.ID,e.type,e.arguments),R[LB]=e=>PS.FromTape(e.ID,e.type,e.arguments),R[FB]=e=>zS.FromTape(e.ID,e.type,e.arguments),R[VT]=e=>US.FromTape(e.ID,e.type,e.arguments),R[NB]=e=>kS.FromTape(e.ID,e.type,e.arguments),R[xB]=e=>DS.FromTape(e.ID,e.type,e.arguments),R[vB]=e=>JS.FromTape(e.ID,e.type,e.arguments),R[EB]=e=>KS.FromTape(e.ID,e.type,e.arguments),R[YB]=e=>OS.FromTape(e.ID,e.type,e.arguments),R[LT]=e=>AS.FromTape(e.ID,e.type,e.arguments),R[MB]=e=>BS.FromTape(e.ID,e.type,e.arguments),R[wB]=e=>jS.FromTape(e.ID,e.type,e.arguments),R[HB]=e=>QS.FromTape(e.ID,e.type,e.arguments),R[PB]=e=>_S.FromTape(e.ID,e.type,e.arguments),R[FT]=e=>qS.FromTape(e.ID,e.type,e.arguments),R[zB]=e=>$S.FromTape(e.ID,e.type,e.arguments),R[UB]=e=>eC.FromTape(e.ID,e.type,e.arguments),R[kB]=e=>tC.FromTape(e.ID,e.type,e.arguments),R[DB]=e=>sC.FromTape(e.ID,e.type,e.arguments),R[JB]=e=>iC.FromTape(e.ID,e.type,e.arguments),R[KB]=e=>nC.FromTape(e.ID,e.type,e.arguments),R[OB]=e=>rC.FromTape(e.ID,e.type,e.arguments),R[AB]=e=>lC.FromTape(e.ID,e.type,e.arguments),R[BB]=e=>aC.FromTape(e.ID,e.type,e.arguments),R[jB]=e=>oC.FromTape(e.ID,e.type,e.arguments),R[QB]=e=>cC.FromTape(e.ID,e.type,e.arguments),R[NT]=e=>hC.FromTape(e.ID,e.type,e.arguments),R[_B]=e=>uC.FromTape(e.ID,e.type,e.arguments),R[qB]=e=>dC.FromTape(e.ID,e.type,e.arguments),R[$B]=e=>pC.FromTape(e.ID,e.type,e.arguments),R[e4]=e=>mC.FromTape(e.ID,e.type,e.arguments),R[t4]=e=>bC.FromTape(e.ID,e.type,e.arguments),R[s4]=e=>yC.FromTape(e.ID,e.type,e.arguments),R[i4]=e=>ZC.FromTape(e.ID,e.type,e.arguments),R[n4]=e=>GC.FromTape(e.ID,e.type,e.arguments),R[r4]=e=>gC.FromTape(e.ID,e.type,e.arguments),R[l4]=e=>TC.FromTape(e.ID,e.type,e.arguments),R[a4]=e=>IC.FromTape(e.ID,e.type,e.arguments),R[o4]=e=>RC.FromTape(e.ID,e.type,e.arguments),R[c4]=e=>fC.FromTape(e.ID,e.type,e.arguments),R[h4]=e=>XC.FromTape(e.ID,e.type,e.arguments),R[u4]=e=>WC.FromTape(e.ID,e.type,e.arguments),R[d4]=e=>SC.FromTape(e.ID,e.type,e.arguments),R[p4]=e=>CC.FromTape(e.ID,e.type,e.arguments),R[m4]=e=>VC.FromTape(e.ID,e.type,e.arguments),R[b4]=e=>LC.FromTape(e.ID,e.type,e.arguments),R[y4]=e=>FC.FromTape(e.ID,e.type,e.arguments),R[Z4]=e=>NC.FromTape(e.ID,e.type,e.arguments),R[G4]=e=>xC.FromTape(e.ID,e.type,e.arguments),R[g4]=e=>vC.FromTape(e.ID,e.type,e.arguments),R[T4]=e=>EC.FromTape(e.ID,e.type,e.arguments),R[I4]=e=>YC.FromTape(e.ID,e.type,e.arguments),R[xT]=e=>MC.FromTape(e.ID,e.type,e.arguments),R[R4]=e=>wC.FromTape(e.ID,e.type,e.arguments),R[vT]=e=>HC.FromTape(e.ID,e.type,e.arguments),R[f4]=e=>PC.FromTape(e.ID,e.type,e.arguments),R[ET]=e=>zC.FromTape(e.ID,e.type,e.arguments),R[YT]=e=>UC.FromTape(e.ID,e.type,e.arguments),R[X4]=e=>kC.FromTape(e.ID,e.type,e.arguments),R[W4]=e=>DC.FromTape(e.ID,e.type,e.arguments),R[S4]=e=>JC.FromTape(e.ID,e.type,e.arguments),R[C4]=e=>KC.FromTape(e.ID,e.type,e.arguments),R[MT]=e=>OC.FromTape(e.ID,e.type,e.arguments),R[V4]=e=>AC.FromTape(e.ID,e.type,e.arguments),R[L4]=e=>BC.FromTape(e.ID,e.type,e.arguments),R[F4]=e=>jC.FromTape(e.ID,e.type,e.arguments),R[N4]=e=>QC.FromTape(e.ID,e.type,e.arguments),R[x4]=e=>_C.FromTape(e.ID,e.type,e.arguments),R[v4]=e=>qC.FromTape(e.ID,e.type,e.arguments),R[E4]=e=>$C.FromTape(e.ID,e.type,e.arguments),R[Y4]=e=>eV.FromTape(e.ID,e.type,e.arguments),R[M4]=e=>tV.FromTape(e.ID,e.type,e.arguments),R[w4]=e=>sV.FromTape(e.ID,e.type,e.arguments),R[H4]=e=>iV.FromTape(e.ID,e.type,e.arguments),R[P4]=e=>nV.FromTape(e.ID,e.type,e.arguments),R[$o]=e=>rV.FromTape(e.ID,e.type,e.arguments),R[wT]=e=>lV.FromTape(e.ID,e.type,e.arguments),R[z4]=e=>aV.FromTape(e.ID,e.type,e.arguments),R[U4]=e=>oV.FromTape(e.ID,e.type,e.arguments),R[k4]=e=>cV.FromTape(e.ID,e.type,e.arguments),R[D4]=e=>hV.FromTape(e.ID,e.type,e.arguments),R[J4]=e=>uV.FromTape(e.ID,e.type,e.arguments),R[HT]=e=>dV.FromTape(e.ID,e.type,e.arguments),R[K4]=e=>pV.FromTape(e.ID,e.type,e.arguments),R[O4]=e=>mV.FromTape(e.ID,e.type,e.arguments),R[A4]=e=>bV.FromTape(e.ID,e.type,e.arguments),R[B4]=e=>yV.FromTape(e.ID,e.type,e.arguments),R[j4]=e=>ZV.FromTape(e.ID,e.type,e.arguments),R[Q4]=e=>GV.FromTape(e.ID,e.type,e.arguments),R[_4]=e=>gV.FromTape(e.ID,e.type,e.arguments),R[q4]=e=>TV.FromTape(e.ID,e.type,e.arguments),R[$4]=e=>IV.FromTape(e.ID,e.type,e.arguments),R[ej]=e=>RV.FromTape(e.ID,e.type,e.arguments),R[tj]=e=>fV.FromTape(e.ID,e.type,e.arguments),R[sj]=e=>XV.FromTape(e.ID,e.type,e.arguments),R[ij]=e=>WV.FromTape(e.ID,e.type,e.arguments),R[PT]=e=>SV.FromTape(e.ID,e.type,e.arguments),R[nj]=e=>CV.FromTape(e.ID,e.type,e.arguments),R[zT]=e=>VV.FromTape(e.ID,e.type,e.arguments),R[rj]=e=>LV.FromTape(e.ID,e.type,e.arguments),R[UT]=e=>FV.FromTape(e.ID,e.type,e.arguments),R[lj]=e=>NV.FromTape(e.ID,e.type,e.arguments),R[aj]=e=>xV.FromTape(e.ID,e.type,e.arguments),R[oj]=e=>vV.FromTape(e.ID,e.type,e.arguments),R[cj]=e=>EV.FromTape(e.ID,e.type,e.arguments),R[hj]=e=>YV.FromTape(e.ID,e.type,e.arguments),R[uj]=e=>MV.FromTape(e.ID,e.type,e.arguments),R[kT]=e=>wV.FromTape(e.ID,e.type,e.arguments),R[DT]=e=>HV.FromTape(e.ID,e.type,e.arguments),R[dj]=e=>PV.FromTape(e.ID,e.type,e.arguments),R[pj]=e=>zV.FromTape(e.ID,e.type,e.arguments),R[mj]=e=>UV.FromTape(e.ID,e.type,e.arguments),R[bj]=e=>kV.FromTape(e.ID,e.type,e.arguments),R[yj]=e=>DV.FromTape(e.ID,e.type,e.arguments),R[Zj]=e=>JV.FromTape(e.ID,e.type,e.arguments),R[Gj]=e=>KV.FromTape(e.ID,e.type,e.arguments),R[gj]=e=>OV.FromTape(e.ID,e.type,e.arguments),R[JT]=e=>AV.FromTape(e.ID,e.type,e.arguments),R[KT]=e=>BV.FromTape(e.ID,e.type,e.arguments),R[Tj]=e=>jV.FromTape(e.ID,e.type,e.arguments),R[Ij]=e=>QV.FromTape(e.ID,e.type,e.arguments),R[Rj]=e=>_V.FromTape(e.ID,e.type,e.arguments),R[fj]=e=>qV.FromTape(e.ID,e.type,e.arguments),R[Xj]=e=>$V.FromTape(e.ID,e.type,e.arguments),R[Wj]=e=>eL.FromTape(e.ID,e.type,e.arguments),R[Sj]=e=>tL.FromTape(e.ID,e.type,e.arguments),R[Cj]=e=>sL.FromTape(e.ID,e.type,e.arguments),R[Vj]=e=>iL.FromTape(e.ID,e.type,e.arguments),R[Lj]=e=>nL.FromTape(e.ID,e.type,e.arguments),R[Fj]=e=>rL.FromTape(e.ID,e.type,e.arguments),R[Nj]=e=>lL.FromTape(e.ID,e.type,e.arguments),R[xj]=e=>aL.FromTape(e.ID,e.type,e.arguments),R[vj]=e=>oL.FromTape(e.ID,e.type,e.arguments),R[Ej]=e=>cL.FromTape(e.ID,e.type,e.arguments),R[Yj]=e=>hL.FromTape(e.ID,e.type,e.arguments),R[OT]=e=>uL.FromTape(e.ID,e.type,e.arguments),R[Mj]=e=>dL.FromTape(e.ID,e.type,e.arguments),R[wj]=e=>pL.FromTape(e.ID,e.type,e.arguments),R[Hj]=e=>mL.FromTape(e.ID,e.type,e.arguments),R[_h]=e=>bL.FromTape(e.ID,e.type,e.arguments),R[Pj]=e=>yL.FromTape(e.ID,e.type,e.arguments),R[zj]=e=>ZL.FromTape(e.ID,e.type,e.arguments),R[Uj]=e=>GL.FromTape(e.ID,e.type,e.arguments),R[AT]=e=>gL.FromTape(e.ID,e.type,e.arguments),R[kj]=e=>TL.FromTape(e.ID,e.type,e.arguments),R[Dj]=e=>IL.FromTape(e.ID,e.type,e.arguments),R[Jj]=e=>RL.FromTape(e.ID,e.type,e.arguments),R[Kj]=e=>fL.FromTape(e.ID,e.type,e.arguments),R[Oj]=e=>XL.FromTape(e.ID,e.type,e.arguments),R[Aj]=e=>WL.FromTape(e.ID,e.type,e.arguments),R[Bj]=e=>SL.FromTape(e.ID,e.type,e.arguments),R[jj]=e=>CL.FromTape(e.ID,e.type,e.arguments),R[Qj]=e=>VL.FromTape(e.ID,e.type,e.arguments),R[_j]=e=>LL.FromTape(e.ID,e.type,e.arguments),R[qj]=e=>FL.FromTape(e.ID,e.type,e.arguments),R[$j]=e=>NL.FromTape(e.ID,e.type,e.arguments),R[eQ]=e=>xL.FromTape(e.ID,e.type,e.arguments),R[tQ]=e=>vL.FromTape(e.ID,e.type,e.arguments),R[sQ]=e=>EL.FromTape(e.ID,e.type,e.arguments),R[iQ]=e=>YL.FromTape(e.ID,e.type,e.arguments),R[BT]=e=>ML.FromTape(e.ID,e.type,e.arguments),R[jT]=e=>wL.FromTape(e.ID,e.type,e.arguments),R[nQ]=e=>HL.FromTape(e.ID,e.type,e.arguments),R[rQ]=e=>PL.FromTape(e.ID,e.type,e.arguments),R[QT]=e=>zL.FromTape(e.ID,e.type,e.arguments),R[_T]=e=>UL.FromTape(e.ID,e.type,e.arguments),R[lQ]=e=>kL.FromTape(e.ID,e.type,e.arguments),R[aQ]=e=>DL.FromTape(e.ID,e.type,e.arguments),R[oQ]=e=>JL.FromTape(e.ID,e.type,e.arguments),R[cQ]=e=>KL.FromTape(e.ID,e.type,e.arguments),R[hQ]=e=>OL.FromTape(e.ID,e.type,e.arguments),R[uQ]=e=>AL.FromTape(e.ID,e.type,e.arguments),R[dQ]=e=>BL.FromTape(e.ID,e.type,e.arguments),R[pQ]=e=>jL.FromTape(e.ID,e.type,e.arguments),R[qT]=e=>QL.FromTape(e.ID,e.type,e.arguments),R[mQ]=e=>_L.FromTape(e.ID,e.type,e.arguments),R[$T]=e=>qL.FromTape(e.ID,e.type,e.arguments),R[eI]=e=>$L.FromTape(e.ID,e.type,e.arguments),R[bQ]=e=>eF.FromTape(e.ID,e.type,e.arguments),R[yQ]=e=>tF.FromTape(e.ID,e.type,e.arguments),R[ZQ]=e=>sF.FromTape(e.ID,e.type,e.arguments),R[GQ]=e=>iF.FromTape(e.ID,e.type,e.arguments),R[gQ]=e=>nF.FromTape(e.ID,e.type,e.arguments),R[TQ]=e=>rF.FromTape(e.ID,e.type,e.arguments),R[IQ]=e=>lF.FromTape(e.ID,e.type,e.arguments),R[RQ]=e=>aF.FromTape(e.ID,e.type,e.arguments),R[fQ]=e=>oF.FromTape(e.ID,e.type,e.arguments),R[XQ]=e=>cF.FromTape(e.ID,e.type,e.arguments),R[tI]=e=>hF.FromTape(e.ID,e.type,e.arguments),R[WQ]=e=>uF.FromTape(e.ID,e.type,e.arguments),R[SQ]=e=>dF.FromTape(e.ID,e.type,e.arguments),R[CQ]=e=>pF.FromTape(e.ID,e.type,e.arguments),R[sI]=e=>mF.FromTape(e.ID,e.type,e.arguments),R[VQ]=e=>bF.FromTape(e.ID,e.type,e.arguments),R[iI]=e=>yF.FromTape(e.ID,e.type,e.arguments),R[LQ]=e=>ZF.FromTape(e.ID,e.type,e.arguments),R[nI]=e=>GF.FromTape(e.ID,e.type,e.arguments),R[FQ]=e=>gF.FromTape(e.ID,e.type,e.arguments),R[zp]=e=>TF.FromTape(e.ID,e.type,e.arguments),R[NQ]=e=>IF.FromTape(e.ID,e.type,e.arguments),R[xQ]=e=>RF.FromTape(e.ID,e.type,e.arguments),R[vQ]=e=>fF.FromTape(e.ID,e.type,e.arguments),R[EQ]=e=>XF.FromTape(e.ID,e.type,e.arguments),R[YQ]=e=>WF.FromTape(e.ID,e.type,e.arguments),R[MQ]=e=>SF.FromTape(e.ID,e.type,e.arguments),R[wQ]=e=>CF.FromTape(e.ID,e.type,e.arguments),R[HQ]=e=>VF.FromTape(e.ID,e.type,e.arguments),R[PQ]=e=>LF.FromTape(e.ID,e.type,e.arguments),R[zQ]=e=>FF.FromTape(e.ID,e.type,e.arguments),R[UQ]=e=>NF.FromTape(e.ID,e.type,e.arguments),R[kQ]=e=>xF.FromTape(e.ID,e.type,e.arguments),R[DQ]=e=>vF.FromTape(e.ID,e.type,e.arguments),R[JQ]=e=>EF.FromTape(e.ID,e.type,e.arguments),R[Up]=e=>YF.FromTape(e.ID,e.type,e.arguments),R[KQ]=e=>MF.FromTape(e.ID,e.type,e.arguments),R[OQ]=e=>wF.FromTape(e.ID,e.type,e.arguments),R[AQ]=e=>HF.FromTape(e.ID,e.type,e.arguments),R[BQ]=e=>PF.FromTape(e.ID,e.type,e.arguments),R[jQ]=e=>zF.FromTape(e.ID,e.type,e.arguments),R[QQ]=e=>UF.FromTape(e.ID,e.type,e.arguments),R[_Q]=e=>kF.FromTape(e.ID,e.type,e.arguments),R[qQ]=e=>DF.FromTape(e.ID,e.type,e.arguments),R[$Q]=e=>JF.FromTape(e.ID,e.type,e.arguments),R[kp]=e=>KF.FromTape(e.ID,e.type,e.arguments),R[e_]=e=>OF.FromTape(e.ID,e.type,e.arguments),R[t_]=e=>AF.FromTape(e.ID,e.type,e.arguments),R[s_]=e=>BF.FromTape(e.ID,e.type,e.arguments),R[i_]=e=>jF.FromTape(e.ID,e.type,e.arguments),R[n_]=e=>QF.FromTape(e.ID,e.type,e.arguments),R[r_]=e=>_F.FromTape(e.ID,e.type,e.arguments),R[Dp]=e=>qF.FromTape(e.ID,e.type,e.arguments),R[l_]=e=>$F.FromTape(e.ID,e.type,e.arguments),R[Jp]=e=>e5.FromTape(e.ID,e.type,e.arguments),R[a_]=e=>t5.FromTape(e.ID,e.type,e.arguments),R[o_]=e=>s5.FromTape(e.ID,e.type,e.arguments),R[c_]=e=>i5.FromTape(e.ID,e.type,e.arguments),R[h_]=e=>n5.FromTape(e.ID,e.type,e.arguments),R[u_]=e=>r5.FromTape(e.ID,e.type,e.arguments),R[d_]=e=>l5.FromTape(e.ID,e.type,e.arguments),R[p_]=e=>a5.FromTape(e.ID,e.type,e.arguments),R[m_]=e=>o5.FromTape(e.ID,e.type,e.arguments),R[b_]=e=>c5.FromTape(e.ID,e.type,e.arguments),R[y_]=e=>h5.FromTape(e.ID,e.type,e.arguments),R[Z_]=e=>u5.FromTape(e.ID,e.type,e.arguments),R[G_]=e=>d5.FromTape(e.ID,e.type,e.arguments),R[g_]=e=>p5.FromTape(e.ID,e.type,e.arguments),R[T_]=e=>m5.FromTape(e.ID,e.type,e.arguments),R[I_]=e=>b5.FromTape(e.ID,e.type,e.arguments),R[R_]=e=>y5.FromTape(e.ID,e.type,e.arguments),R[f_]=e=>Z5.FromTape(e.ID,e.type,e.arguments),R[X_]=e=>G5.FromTape(e.ID,e.type,e.arguments),R[W_]=e=>g5.FromTape(e.ID,e.type,e.arguments),R[S_]=e=>T5.FromTape(e.ID,e.type,e.arguments),R[C_]=e=>I5.FromTape(e.ID,e.type,e.arguments),R[V_]=e=>R5.FromTape(e.ID,e.type,e.arguments),R[L_]=e=>f5.FromTape(e.ID,e.type,e.arguments),R[F_]=e=>X5.FromTape(e.ID,e.type,e.arguments),R[N_]=e=>W5.FromTape(e.ID,e.type,e.arguments),R[x_]=e=>S5.FromTape(e.ID,e.type,e.arguments),R[v_]=e=>C5.FromTape(e.ID,e.type,e.arguments),R[E_]=e=>V5.FromTape(e.ID,e.type,e.arguments),R[rI]=e=>L5.FromTape(e.ID,e.type,e.arguments),R[Y_]=e=>F5.FromTape(e.ID,e.type,e.arguments),R[M_]=e=>N5.FromTape(e.ID,e.type,e.arguments),R[w_]=e=>x5.FromTape(e.ID,e.type,e.arguments),R[H_]=e=>v5.FromTape(e.ID,e.type,e.arguments),R[lI]=e=>E5.FromTape(e.ID,e.type,e.arguments),R[P_]=e=>Y5.FromTape(e.ID,e.type,e.arguments),R[z_]=e=>M5.FromTape(e.ID,e.type,e.arguments),R[U_]=e=>w5.FromTape(e.ID,e.type,e.arguments),R[k_]=e=>H5.FromTape(e.ID,e.type,e.arguments),R[D_]=e=>P5.FromTape(e.ID,e.type,e.arguments),R[J_]=e=>z5.FromTape(e.ID,e.type,e.arguments),R[K_]=e=>U5.FromTape(e.ID,e.type,e.arguments),R[O_]=e=>k5.FromTape(e.ID,e.type,e.arguments),R[aI]=e=>D5.FromTape(e.ID,e.type,e.arguments),R[A_]=e=>J5.FromTape(e.ID,e.type,e.arguments),R[oI]=e=>K5.FromTape(e.ID,e.type,e.arguments),R[B_]=e=>O5.FromTape(e.ID,e.type,e.arguments),R[j_]=e=>A5.FromTape(e.ID,e.type,e.arguments),R[Q_]=e=>B5.FromTape(e.ID,e.type,e.arguments),R[__]=e=>j5.FromTape(e.ID,e.type,e.arguments),R[q_]=e=>Q5.FromTape(e.ID,e.type,e.arguments),R[$_]=e=>_5.FromTape(e.ID,e.type,e.arguments),R[e7]=e=>q5.FromTape(e.ID,e.type,e.arguments),R[cI]=e=>$5.FromTape(e.ID,e.type,e.arguments),R[hI]=e=>eN.FromTape(e.ID,e.type,e.arguments),R[uI]=e=>tN.FromTape(e.ID,e.type,e.arguments),R[dI]=e=>sN.FromTape(e.ID,e.type,e.arguments),R[t7]=e=>iN.FromTape(e.ID,e.type,e.arguments),R[s7]=e=>nN.FromTape(e.ID,e.type,e.arguments),R[pI]=e=>rN.FromTape(e.ID,e.type,e.arguments),R[i7]=e=>lN.FromTape(e.ID,e.type,e.arguments),R[n7]=e=>aN.FromTape(e.ID,e.type,e.arguments),R[ec]=e=>oN.FromTape(e.ID,e.type,e.arguments),R[mI]=e=>cN.FromTape(e.ID,e.type,e.arguments),R[r7]=e=>hN.FromTape(e.ID,e.type,e.arguments),R[l7]=e=>uN.FromTape(e.ID,e.type,e.arguments),R[bI]=e=>dN.FromTape(e.ID,e.type,e.arguments),R[a7]=e=>pN.FromTape(e.ID,e.type,e.arguments),R[yI]=e=>mN.FromTape(e.ID,e.type,e.arguments),R[o7]=e=>bN.FromTape(e.ID,e.type,e.arguments),R[ZI]=e=>yN.FromTape(e.ID,e.type,e.arguments),R[c7]=e=>ZN.FromTape(e.ID,e.type,e.arguments),R[h7]=e=>GN.FromTape(e.ID,e.type,e.arguments),R[u7]=e=>gN.FromTape(e.ID,e.type,e.arguments),R[GI]=e=>TN.FromTape(e.ID,e.type,e.arguments),R[d7]=e=>IN.FromTape(e.ID,e.type,e.arguments),R[gI]=e=>RN.FromTape(e.ID,e.type,e.arguments),R[TI]=e=>fN.FromTape(e.ID,e.type,e.arguments),R[p7]=e=>XN.FromTape(e.ID,e.type,e.arguments),R[m7]=e=>WN.FromTape(e.ID,e.type,e.arguments),R[II]=e=>SN.FromTape(e.ID,e.type,e.arguments),R[RI]=e=>CN.FromTape(e.ID,e.type,e.arguments),R[b7]=e=>VN.FromTape(e.ID,e.type,e.arguments),R[fI]=e=>LN.FromTape(e.ID,e.type,e.arguments),R[y7]=e=>FN.FromTape(e.ID,e.type,e.arguments),R[XI]=e=>NN.FromTape(e.ID,e.type,e.arguments),R[WI]=e=>xN.FromTape(e.ID,e.type,e.arguments),R[SI]=e=>vN.FromTape(e.ID,e.type,e.arguments),R[CI]=e=>EN.FromTape(e.ID,e.type,e.arguments),R[VI]=e=>YN.FromTape(e.ID,e.type,e.arguments),R[LI]=e=>MN.FromTape(e.ID,e.type,e.arguments),R[FI]=e=>wN.FromTape(e.ID,e.type,e.arguments),R[Z7]=e=>HN.FromTape(e.ID,e.type,e.arguments),R[G7]=e=>PN.FromTape(e.ID,e.type,e.arguments),R[g7]=e=>zN.FromTape(e.ID,e.type,e.arguments),R[T7]=e=>UN.FromTape(e.ID,e.type,e.arguments),R[I7]=e=>kN.FromTape(e.ID,e.type,e.arguments),R[R7]=e=>DN.FromTape(e.ID,e.type,e.arguments),R[f7]=e=>JN.FromTape(e.ID,e.type,e.arguments),R[X7]=e=>KN.FromTape(e.ID,e.type,e.arguments),R[W7]=e=>ON.FromTape(e.ID,e.type,e.arguments),R[S7]=e=>AN.FromTape(e.ID,e.type,e.arguments),R[C7]=e=>BN.FromTape(e.ID,e.type,e.arguments),R[V7]=e=>jN.FromTape(e.ID,e.type,e.arguments),R[L7]=e=>QN.FromTape(e.ID,e.type,e.arguments),R[NI]=e=>_N.FromTape(e.ID,e.type,e.arguments),R[xI]=e=>qN.FromTape(e.ID,e.type,e.arguments),R[vI]=e=>$N.FromTape(e.ID,e.type,e.arguments),R[EI]=e=>ex.FromTape(e.ID,e.type,e.arguments),R[YI]=e=>tx.FromTape(e.ID,e.type,e.arguments),R[MI]=e=>sx.FromTape(e.ID,e.type,e.arguments),R[F7]=e=>ix.FromTape(e.ID,e.type,e.arguments),R[wI]=e=>nx.FromTape(e.ID,e.type,e.arguments),R[HI]=e=>rx.FromTape(e.ID,e.type,e.arguments),R[PI]=e=>lx.FromTape(e.ID,e.type,e.arguments),R[zI]=e=>ax.FromTape(e.ID,e.type,e.arguments),R[UI]=e=>ox.FromTape(e.ID,e.type,e.arguments),R[N7]=e=>cx.FromTape(e.ID,e.type,e.arguments),R[x7]=e=>hx.FromTape(e.ID,e.type,e.arguments),R[v7]=e=>ux.FromTape(e.ID,e.type,e.arguments),R[E7]=e=>dx.FromTape(e.ID,e.type,e.arguments),R[Y7]=e=>px.FromTape(e.ID,e.type,e.arguments),R[M7]=e=>mx.FromTape(e.ID,e.type,e.arguments),R[w7]=e=>bx.FromTape(e.ID,e.type,e.arguments),R[H7]=e=>yx.FromTape(e.ID,e.type,e.arguments),R[P7]=e=>Zx.FromTape(e.ID,e.type,e.arguments),R[kI]=e=>Gx.FromTape(e.ID,e.type,e.arguments),R[z7]=e=>gx.FromTape(e.ID,e.type,e.arguments),R[U7]=e=>Tx.FromTape(e.ID,e.type,e.arguments),R[k7]=e=>Ix.FromTape(e.ID,e.type,e.arguments),R[D7]=e=>Rx.FromTape(e.ID,e.type,e.arguments),R[J7]=e=>fx.FromTape(e.ID,e.type,e.arguments),R[K7]=e=>Xx.FromTape(e.ID,e.type,e.arguments),R[O7]=e=>Wx.FromTape(e.ID,e.type,e.arguments),R[A7]=e=>Sx.FromTape(e.ID,e.type,e.arguments),R[B7]=e=>Cx.FromTape(e.ID,e.type,e.arguments),R[j7]=e=>Vx.FromTape(e.ID,e.type,e.arguments),R[Q7]=e=>Lx.FromTape(e.ID,e.type,e.arguments),R[_7]=e=>Fx.FromTape(e.ID,e.type,e.arguments),R[q7]=e=>Nx.FromTape(e.ID,e.type,e.arguments),R[$7]=e=>xx.FromTape(e.ID,e.type,e.arguments),R[DI]=e=>vx.FromTape(e.ID,e.type,e.arguments),R[e8]=e=>Ex.FromTape(e.ID,e.type,e.arguments),R[t8]=e=>Yx.FromTape(e.ID,e.type,e.arguments),R[JI]=e=>Mx.FromTape(e.ID,e.type,e.arguments),R[s8]=e=>wx.FromTape(e.ID,e.type,e.arguments),R[i8]=e=>Hx.FromTape(e.ID,e.type,e.arguments),R[n8]=e=>Px.FromTape(e.ID,e.type,e.arguments),R[r8]=e=>zx.FromTape(e.ID,e.type,e.arguments),R[l8]=e=>Ux.FromTape(e.ID,e.type,e.arguments),R[KI]=e=>kx.FromTape(e.ID,e.type,e.arguments),R[a8]=e=>Dx.FromTape(e.ID,e.type,e.arguments),R[o8]=e=>Jx.FromTape(e.ID,e.type,e.arguments),R[c8]=e=>Kx.FromTape(e.ID,e.type,e.arguments),R[h8]=e=>Ox.FromTape(e.ID,e.type,e.arguments),R[u8]=e=>Ax.FromTape(e.ID,e.type,e.arguments),R[d8]=e=>Bx.FromTape(e.ID,e.type,e.arguments),R[OI]=e=>jx.FromTape(e.ID,e.type,e.arguments),R[AI]=e=>Qx.FromTape(e.ID,e.type,e.arguments),R[p8]=e=>_x.FromTape(e.ID,e.type,e.arguments),R[BI]=e=>qx.FromTape(e.ID,e.type,e.arguments),R[m8]=e=>$x.FromTape(e.ID,e.type,e.arguments),R[b8]=e=>e9.FromTape(e.ID,e.type,e.arguments),R[y8]=e=>t9.FromTape(e.ID,e.type,e.arguments),R[Z8]=e=>s9.FromTape(e.ID,e.type,e.arguments),R[G8]=e=>i9.FromTape(e.ID,e.type,e.arguments),R[g8]=e=>n9.FromTape(e.ID,e.type,e.arguments),R[T8]=e=>r9.FromTape(e.ID,e.type,e.arguments),R[I8]=e=>l9.FromTape(e.ID,e.type,e.arguments),R[R8]=e=>a9.FromTape(e.ID,e.type,e.arguments),R[f8]=e=>o9.FromTape(e.ID,e.type,e.arguments),R[X8]=e=>c9.FromTape(e.ID,e.type,e.arguments),R[W8]=e=>h9.FromTape(e.ID,e.type,e.arguments),R[S8]=e=>u9.FromTape(e.ID,e.type,e.arguments),R[C8]=e=>d9.FromTape(e.ID,e.type,e.arguments),R[V8]=e=>p9.FromTape(e.ID,e.type,e.arguments),R[L8]=e=>m9.FromTape(e.ID,e.type,e.arguments),R[F8]=e=>b9.FromTape(e.ID,e.type,e.arguments),R[N8]=e=>y9.FromTape(e.ID,e.type,e.arguments),R[x8]=e=>Z9.FromTape(e.ID,e.type,e.arguments),R[v8]=e=>G9.FromTape(e.ID,e.type,e.arguments),R[E8]=e=>g9.FromTape(e.ID,e.type,e.arguments),R[jI]=e=>T9.FromTape(e.ID,e.type,e.arguments),R[Y8]=e=>I9.FromTape(e.ID,e.type,e.arguments),R[M8]=e=>R9.FromTape(e.ID,e.type,e.arguments),R[QI]=e=>f9.FromTape(e.ID,e.type,e.arguments),R[w8]=e=>X9.FromTape(e.ID,e.type,e.arguments),R[H8]=e=>W9.FromTape(e.ID,e.type,e.arguments),R[P8]=e=>S9.FromTape(e.ID,e.type,e.arguments),R[z8]=e=>C9.FromTape(e.ID,e.type,e.arguments),R[U8]=e=>V9.FromTape(e.ID,e.type,e.arguments),R[_I]=e=>L9.FromTape(e.ID,e.type,e.arguments),R[k8]=e=>F9.FromTape(e.ID,e.type,e.arguments),R[D8]=e=>N9.FromTape(e.ID,e.type,e.arguments),R[J8]=e=>x9.FromTape(e.ID,e.type,e.arguments),R[K8]=e=>v9.FromTape(e.ID,e.type,e.arguments),R[O8]=e=>E9.FromTape(e.ID,e.type,e.arguments),R[A8]=e=>Y9.FromTape(e.ID,e.type,e.arguments),R[B8]=e=>M9.FromTape(e.ID,e.type,e.arguments),R[qI]=e=>w9.FromTape(e.ID,e.type,e.arguments),R[j8]=e=>H9.FromTape(e.ID,e.type,e.arguments),R[$I]=e=>P9.FromTape(e.ID,e.type,e.arguments),R[Q8]=e=>z9.FromTape(e.ID,e.type,e.arguments),R[eR]=e=>U9.FromTape(e.ID,e.type,e.arguments),R[_8]=e=>k9.FromTape(e.ID,e.type,e.arguments),R[q8]=e=>D9.FromTape(e.ID,e.type,e.arguments),R[$8]=e=>J9.FromTape(e.ID,e.type,e.arguments),R[e6]=e=>K9.FromTape(e.ID,e.type,e.arguments),R[t6]=e=>O9.FromTape(e.ID,e.type,e.arguments),R[tR]=e=>A9.FromTape(e.ID,e.type,e.arguments),R[s6]=e=>B9.FromTape(e.ID,e.type,e.arguments),R[sR]=e=>j9.FromTape(e.ID,e.type,e.arguments),R[i6]=e=>Q9.FromTape(e.ID,e.type,e.arguments),R[iR]=e=>_9.FromTape(e.ID,e.type,e.arguments),R[n6]=e=>q9.FromTape(e.ID,e.type,e.arguments),R[nR]=e=>$9.FromTape(e.ID,e.type,e.arguments),R[rR]=e=>ev.FromTape(e.ID,e.type,e.arguments),R[lR]=e=>tv.FromTape(e.ID,e.type,e.arguments),R[aR]=e=>sv.FromTape(e.ID,e.type,e.arguments),R[r6]=e=>iv.FromTape(e.ID,e.type,e.arguments),R[oR]=e=>nv.FromTape(e.ID,e.type,e.arguments),R[l6]=e=>rv.FromTape(e.ID,e.type,e.arguments),R[cR]=e=>lv.FromTape(e.ID,e.type,e.arguments),R[a6]=e=>av.FromTape(e.ID,e.type,e.arguments),R[o6]=e=>ov.FromTape(e.ID,e.type,e.arguments),R[hR]=e=>cv.FromTape(e.ID,e.type,e.arguments),R[c6]=e=>hv.FromTape(e.ID,e.type,e.arguments),R[h6]=e=>uv.FromTape(e.ID,e.type,e.arguments),R[u6]=e=>dv.FromTape(e.ID,e.type,e.arguments),R[d6]=e=>pv.FromTape(e.ID,e.type,e.arguments),R[p6]=e=>mv.FromTape(e.ID,e.type,e.arguments),R[m6]=e=>bv.FromTape(e.ID,e.type,e.arguments),R[b6]=e=>yv.FromTape(e.ID,e.type,e.arguments),R[y6]=e=>Zv.FromTape(e.ID,e.type,e.arguments),R[Z6]=e=>Gv.FromTape(e.ID,e.type,e.arguments);var dR=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.Identification=a,this.PredefinedType=o,this.Status=c,this.LongDescription=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new dR(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.PredefinedType),e.push(this.Status),e.push(this.LongDescription),e}},pR=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.TheActor=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new pR(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.TheActor),e}},mR=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Role=t,this.UserDefinedRole=s,this.Description=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new mR(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.Role),e.push(this.UserDefinedRole),e.push(this.Description),e}},bR=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new bR(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},yR=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new yR(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},ZR=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Purpose=t,this.Description=s,this.UserDefinedPurpose=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new ZR(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.Purpose),e.push(this.Description),e.push(this.UserDefinedPurpose),e}},GR=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Outer=t}static FromTape(e,i,t){let s=0,n=t[s++];return new GR(e,i,n)}ToTape(){let e=[];return e.push(this.Outer),e}},gR=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Outer=t,this.Voids=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new gR(e,i,n,r)}ToTape(){let e=[];return e.push(this.Outer),e.push(this.Voids),e}},TR=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Bounds=t,this.FaceSurface=s,this.SameSense=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new TR(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.Bounds),e.push(this.FaceSurface),e.push(this.SameSense),e}},IR=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new IR(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},RR=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new RR(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},fR=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new fR(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},XR=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new XR(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},WR=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new WR(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},SR=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new SR(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},CR=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new CR(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},VR=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new VR(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},LR=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Axis=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new LR(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Axis),e.push(this.PredefinedType),e}},FR=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.StartDistAlong=t,this.Segments=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new FR(e,i,n,r)}ToTape(){let e=[];return e.push(this.StartDistAlong),e.push(this.Segments),e}},NR=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.TangentialContinuity=t,this.StartTag=s,this.EndTag=n,this.CurveGeometry=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new NR(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.TangentialContinuity),e.push(this.StartTag),e.push(this.EndTag),e.push(this.CurveGeometry),e}},xR=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.TangentialContinuity=t,this.StartTag=s,this.EndTag=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new xR(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.TangentialContinuity),e.push(this.StartTag),e.push(this.EndTag),e}},vR=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.TangentialContinuity=t,this.StartTag=s,this.EndTag=n,this.StartDistAlong=r,this.HorizontalLength=l,this.StartHeight=a,this.StartGradient=o,this.Radius=c,this.IsConvex=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new vR(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.TangentialContinuity),e.push(this.StartTag),e.push(this.EndTag),e.push(this.StartDistAlong),e.push(this.HorizontalLength),e.push(this.StartHeight),e.push(this.StartGradient),e.push(this.Radius),e.push(this.IsConvex),e}},ER=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.TangentialContinuity=t,this.StartTag=s,this.EndTag=n,this.StartDistAlong=r,this.HorizontalLength=l,this.StartHeight=a,this.StartGradient=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new ER(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.TangentialContinuity),e.push(this.StartTag),e.push(this.EndTag),e.push(this.StartDistAlong),e.push(this.HorizontalLength),e.push(this.StartHeight),e.push(this.StartGradient),e}},YR=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.TangentialContinuity=t,this.StartTag=s,this.EndTag=n,this.StartDistAlong=r,this.HorizontalLength=l,this.StartHeight=a,this.StartGradient=o,this.ParabolaConstant=c,this.IsConvex=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new YR(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.TangentialContinuity),e.push(this.StartTag),e.push(this.EndTag),e.push(this.StartDistAlong),e.push(this.HorizontalLength),e.push(this.StartHeight),e.push(this.StartGradient),e.push(this.ParabolaConstant),e.push(this.IsConvex),e}},MR=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Segments=t}static FromTape(e,i,t){let s=0,n=t[s++];return new MR(e,i,n)}ToTape(){let e=[];return e.push(this.Segments),e}},wR=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.TangentialContinuity=t,this.StartTag=s,this.EndTag=n,this.StartDistAlong=r,this.HorizontalLength=l,this.StartHeight=a,this.StartGradient=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new wR(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.TangentialContinuity),e.push(this.StartTag),e.push(this.EndTag),e.push(this.StartDistAlong),e.push(this.HorizontalLength),e.push(this.StartHeight),e.push(this.StartGradient),e}},HR=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Horizontal=t,this.Vertical=s,this.Tag=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new HR(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.Horizontal),e.push(this.Vertical),e.push(this.Tag),e}},PR=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new PR(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e}},zR=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.OuterBoundary=t,this.InnerBoundaries=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new zR(e,i,n,r)}ToTape(){let e=[];return e.push(this.OuterBoundary),e.push(this.InnerBoundaries),e}},UR=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.ApplicationDeveloper=t,this.Version=s,this.ApplicationFullName=n,this.ApplicationIdentifier=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new UR(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.ApplicationDeveloper),e.push(this.Version),e.push(this.ApplicationFullName),e.push(this.ApplicationIdentifier),e}},kR=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.AppliedValue=n,this.UnitBasis=r,this.ApplicableDate=l,this.FixedUntilDate=a,this.Category=o,this.Condition=c,this.ArithmeticOperator=h,this.Components=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new kR(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.AppliedValue),e.push(this.UnitBasis),e.push(this.ApplicableDate),e.push(this.FixedUntilDate),e.push(this.Category),e.push(this.Condition),e.push(this.ArithmeticOperator),e.push(this.Components),e}},DR=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.Identifier=t,this.Name=s,this.Description=n,this.TimeOfApproval=r,this.Status=l,this.Level=a,this.Qualifier=o,this.RequestingApproval=c,this.GivingApproval=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new DR(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.Identifier),e.push(this.Name),e.push(this.Description),e.push(this.TimeOfApproval),e.push(this.Status),e.push(this.Level),e.push(this.Qualifier),e.push(this.RequestingApproval),e.push(this.GivingApproval),e}},JR=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.RelatingApproval=n,this.RelatedApprovals=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new JR(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.RelatingApproval),e.push(this.RelatedApprovals),e}},KR=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.OuterCurve=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new KR(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.OuterCurve),e}},OR=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.Curve=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new OR(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Curve),e}},AR=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.OuterCurve=n,this.InnerCurves=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new AR(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.OuterCurve),e.push(this.InnerCurves),e}},BR=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p,G,g){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.Identification=a,this.OriginalValue=o,this.CurrentValue=c,this.TotalReplacementCost=h,this.Owner=u,this.User=d,this.ResponsiblePerson=p,this.IncorporationDate=G,this.DepreciatedValue=g}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++],I=t[s++],X=t[s++];return new BR(e,i,n,r,l,a,o,c,h,u,d,p,G,g,I,X)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.OriginalValue),e.push(this.CurrentValue),e.push(this.TotalReplacementCost),e.push(this.Owner),e.push(this.User),e.push(this.ResponsiblePerson),e.push(this.IncorporationDate),e.push(this.DepreciatedValue),e}},jR=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p,G,g,I){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.Position=n,this.BottomFlangeWidth=r,this.OverallDepth=l,this.WebThickness=a,this.BottomFlangeThickness=o,this.BottomFlangeFilletRadius=c,this.TopFlangeWidth=h,this.TopFlangeThickness=u,this.TopFlangeFilletRadius=d,this.BottomFlangeEdgeRadius=p,this.BottomFlangeSlope=G,this.TopFlangeEdgeRadius=g,this.TopFlangeSlope=I}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++],I=t[s++],X=t[s++],S=t[s++];return new jR(e,i,n,r,l,a,o,c,h,u,d,p,G,g,I,X,S)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.BottomFlangeWidth),e.push(this.OverallDepth),e.push(this.WebThickness),e.push(this.BottomFlangeThickness),e.push(this.BottomFlangeFilletRadius),e.push(this.TopFlangeWidth),e.push(this.TopFlangeThickness),e.push(this.TopFlangeFilletRadius),e.push(this.BottomFlangeEdgeRadius),e.push(this.BottomFlangeSlope),e.push(this.TopFlangeEdgeRadius),e.push(this.TopFlangeSlope),e}},QR=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new QR(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},_R=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new _R(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},qR=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Location=t,this.Axis=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new qR(e,i,n,r)}ToTape(){let e=[];return e.push(this.Location),e.push(this.Axis),e}},$R=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Location=t,this.RefDirection=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new $R(e,i,n,r)}ToTape(){let e=[];return e.push(this.Location),e.push(this.RefDirection),e}},ef=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Location=t,this.Axis=s,this.RefDirection=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new ef(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.Location),e.push(this.Axis),e.push(this.RefDirection),e}},tf=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.Degree=t,this.ControlPointsList=s,this.CurveForm=n,this.ClosedCurve=r,this.SelfIntersect=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new tf(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.Degree),e.push(this.ControlPointsList),e.push(this.CurveForm),e.push(this.ClosedCurve),e.push(this.SelfIntersect),e}},sf=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.Degree=t,this.ControlPointsList=s,this.CurveForm=n,this.ClosedCurve=r,this.SelfIntersect=l,this.KnotMultiplicities=a,this.Knots=o,this.KnotSpec=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new sf(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.Degree),e.push(this.ControlPointsList),e.push(this.CurveForm),e.push(this.ClosedCurve),e.push(this.SelfIntersect),e.push(this.KnotMultiplicities),e.push(this.Knots),e.push(this.KnotSpec),e}},nf=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.UDegree=t,this.VDegree=s,this.ControlPointsList=n,this.SurfaceForm=r,this.UClosed=l,this.VClosed=a,this.SelfIntersect=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new nf(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.UDegree),e.push(this.VDegree),e.push(this.ControlPointsList),e.push(this.SurfaceForm),e.push(this.UClosed),e.push(this.VClosed),e.push(this.SelfIntersect),e}},rf=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p){this.expressID=e,this.type=i,this.UDegree=t,this.VDegree=s,this.ControlPointsList=n,this.SurfaceForm=r,this.UClosed=l,this.VClosed=a,this.SelfIntersect=o,this.UMultiplicities=c,this.VMultiplicities=h,this.UKnots=u,this.VKnots=d,this.KnotSpec=p}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++];return new rf(e,i,n,r,l,a,o,c,h,u,d,p,G,g)}ToTape(){let e=[];return e.push(this.UDegree),e.push(this.VDegree),e.push(this.ControlPointsList),e.push(this.SurfaceForm),e.push(this.UClosed),e.push(this.VClosed),e.push(this.SelfIntersect),e.push(this.UMultiplicities),e.push(this.VMultiplicities),e.push(this.UKnots),e.push(this.VKnots),e.push(this.KnotSpec),e}},lf=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new lf(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},af=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new af(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},of=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new of(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},cf=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new cf(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},hf=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new hf(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},uf=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.RepeatS=t,this.RepeatT=s,this.Mode=n,this.TextureTransform=r,this.Parameter=l,this.RasterFormat=a,this.RasterCode=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new uf(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.RepeatS),e.push(this.RepeatT),e.push(this.Mode),e.push(this.TextureTransform),e.push(this.Parameter),e.push(this.RasterFormat),e.push(this.RasterCode),e}},df=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Position=t,this.XLength=s,this.YLength=n,this.ZLength=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new df(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.Position),e.push(this.XLength),e.push(this.YLength),e.push(this.ZLength),e}},pf=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new pf(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},mf=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new mf(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},bf=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Operator=t,this.FirstOperand=s,this.SecondOperand=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new bf(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.Operator),e.push(this.FirstOperand),e.push(this.SecondOperand),e}},yf=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Operator=t,this.FirstOperand=s,this.SecondOperand=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new yf(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.Operator),e.push(this.FirstOperand),e.push(this.SecondOperand),e}},Zf=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Name=t}static FromTape(e,i,t){let s=0,n=t[s++];return new Zf(e,i,n)}ToTape(){let e=[];return e.push(this.Name),e}},Gf=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Segments=t,this.SelfIntersect=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new Gf(e,i,n,r)}ToTape(){let e=[];return e.push(this.Segments),e.push(this.SelfIntersect),e}},gf=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.Name=t,this.TranslationalStiffnessByLengthX=s,this.TranslationalStiffnessByLengthY=n,this.TranslationalStiffnessByLengthZ=r,this.RotationalStiffnessByLengthX=l,this.RotationalStiffnessByLengthY=a,this.RotationalStiffnessByLengthZ=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new gf(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.Name),e.push(this.TranslationalStiffnessByLengthX),e.push(this.TranslationalStiffnessByLengthY),e.push(this.TranslationalStiffnessByLengthZ),e.push(this.RotationalStiffnessByLengthX),e.push(this.RotationalStiffnessByLengthY),e.push(this.RotationalStiffnessByLengthZ),e}},Tf=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.TranslationalStiffnessByAreaX=s,this.TranslationalStiffnessByAreaY=n,this.TranslationalStiffnessByAreaZ=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new Tf(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.TranslationalStiffnessByAreaX),e.push(this.TranslationalStiffnessByAreaY),e.push(this.TranslationalStiffnessByAreaZ),e}},If=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.Name=t,this.TranslationalStiffnessX=s,this.TranslationalStiffnessY=n,this.TranslationalStiffnessZ=r,this.RotationalStiffnessX=l,this.RotationalStiffnessY=a,this.RotationalStiffnessZ=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new If(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.Name),e.push(this.TranslationalStiffnessX),e.push(this.TranslationalStiffnessY),e.push(this.TranslationalStiffnessZ),e.push(this.RotationalStiffnessX),e.push(this.RotationalStiffnessY),e.push(this.RotationalStiffnessZ),e}},Rf=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.Name=t,this.TranslationalStiffnessX=s,this.TranslationalStiffnessY=n,this.TranslationalStiffnessZ=r,this.RotationalStiffnessX=l,this.RotationalStiffnessY=a,this.RotationalStiffnessZ=o,this.WarpingStiffness=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new Rf(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.Name),e.push(this.TranslationalStiffnessX),e.push(this.TranslationalStiffnessY),e.push(this.TranslationalStiffnessZ),e.push(this.RotationalStiffnessX),e.push(this.RotationalStiffnessY),e.push(this.RotationalStiffnessZ),e.push(this.WarpingStiffness),e}},ff=class{constructor(e,i){this.expressID=e,this.type=i}static FromTape(e,i,t){return new ff(e,i)}ToTape(){return[]}},Xf=class{constructor(e,i){this.expressID=e,this.type=i}static FromTape(e,i,t){return new Xf(e,i)}ToTape(){return[]}},Wf=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Corner=t,this.XDim=s,this.YDim=n,this.ZDim=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new Wf(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.Corner),e.push(this.XDim),e.push(this.YDim),e.push(this.ZDim),e}},Sf=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.BaseSurface=t,this.AgreementFlag=s,this.Enclosure=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new Sf(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.BaseSurface),e.push(this.AgreementFlag),e.push(this.Enclosure),e}},Cf=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.LongName=c,this.CompositionType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new Cf(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.LongName),e.push(this.CompositionType),e.push(this.PredefinedType),e}},Vf=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.LongName=c,this.CompositionType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new Vf(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.LongName),e.push(this.CompositionType),e.push(this.PredefinedType),e}},Lf=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.LongName=c,this.CompositionType=h,this.ElevationOfRefHeight=u,this.ElevationOfTerrain=d,this.BuildingAddress=p}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++];return new Lf(e,i,n,r,l,a,o,c,h,u,d,p,G,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.LongName),e.push(this.CompositionType),e.push(this.ElevationOfRefHeight),e.push(this.ElevationOfTerrain),e.push(this.BuildingAddress),e}},Ff=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new Ff(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},Nf=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new Nf(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},xf=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new xf(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},vf=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new vf(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},Ef=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new Ef(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},Yf=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new Yf(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},Mf=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.LongName=c,this.CompositionType=h,this.Elevation=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new Mf(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.LongName),e.push(this.CompositionType),e.push(this.Elevation),e}},wf=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.PredefinedType=a,this.LongName=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new wf(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.PredefinedType),e.push(this.LongName),e}},Hf=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new Hf(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},Pf=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new Pf(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},zf=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.Position=n,this.Depth=r,this.Width=l,this.WallThickness=a,this.Girth=o,this.InternalFilletRadius=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new zf(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.Depth),e.push(this.Width),e.push(this.WallThickness),e.push(this.Girth),e.push(this.InternalFilletRadius),e}},Uf=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new Uf(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},kf=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new kf(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},Df=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new Df(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},Jf=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new Jf(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},Kf=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new Kf(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},Of=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new Of(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},Af=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new Af(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},Bf=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new Bf(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},jf=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new jf(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},Qf=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new Qf(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},_f=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Coordinates=t}static FromTape(e,i,t){let s=0,n=t[s++];return new _f(e,i,n)}ToTape(){let e=[];return e.push(this.Coordinates),e}},qf=class{constructor(e,i){this.expressID=e,this.type=i}static FromTape(e,i,t){return new qf(e,i)}ToTape(){return[]}},$f=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.CoordList=t,this.TagList=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new $f(e,i,n,r)}ToTape(){let e=[];return e.push(this.CoordList),e.push(this.TagList),e}},eX=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.CoordList=t,this.TagList=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new eX(e,i,n,r)}ToTape(){let e=[];return e.push(this.CoordList),e.push(this.TagList),e}},tX=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Axis1=t,this.Axis2=s,this.LocalOrigin=n,this.Scale=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new tX(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.Axis1),e.push(this.Axis2),e.push(this.LocalOrigin),e.push(this.Scale),e}},sX=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Axis1=t,this.Axis2=s,this.LocalOrigin=n,this.Scale=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new sX(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.Axis1),e.push(this.Axis2),e.push(this.LocalOrigin),e.push(this.Scale),e}},iX=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.Axis1=t,this.Axis2=s,this.LocalOrigin=n,this.Scale=r,this.Scale2=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new iX(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.Axis1),e.push(this.Axis2),e.push(this.LocalOrigin),e.push(this.Scale),e.push(this.Scale2),e}},nX=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.Axis1=t,this.Axis2=s,this.LocalOrigin=n,this.Scale=r,this.Axis3=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new nX(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.Axis1),e.push(this.Axis2),e.push(this.LocalOrigin),e.push(this.Scale),e.push(this.Axis3),e}},rX=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.Axis1=t,this.Axis2=s,this.LocalOrigin=n,this.Scale=r,this.Axis3=l,this.Scale2=a,this.Scale3=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new rX(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.Axis1),e.push(this.Axis2),e.push(this.LocalOrigin),e.push(this.Scale),e.push(this.Axis3),e.push(this.Scale2),e.push(this.Scale3),e}},lX=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.Curve=n,this.Thickness=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new lX(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Curve),e.push(this.Thickness),e}},aX=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new aX(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},oX=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new oX(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},cX=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new cX(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},hX=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new hX(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},uX=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Position=t,this.Radius=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new uX(e,i,n,r)}ToTape(){let e=[];return e.push(this.Position),e.push(this.Radius),e}},dX=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.Position=n,this.Radius=r,this.WallThickness=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new dX(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.Radius),e.push(this.WallThickness),e}},pX=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.Position=n,this.Radius=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new pX(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.Radius),e}},mX=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.StartPoint=t,this.StartDirection=s,this.SegmentLength=n,this.Radius=r,this.IsCCW=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new mX(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.StartPoint),e.push(this.StartDirection),e.push(this.SegmentLength),e.push(this.Radius),e.push(this.IsCCW),e}},bX=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new bX(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},yX=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new yX(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},ZX=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.Source=t,this.Edition=s,this.EditionDate=n,this.Name=r,this.Description=l,this.Location=a,this.ReferenceTokens=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new ZX(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.Source),e.push(this.Edition),e.push(this.EditionDate),e.push(this.Name),e.push(this.Description),e.push(this.Location),e.push(this.ReferenceTokens),e}},GX=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.Location=t,this.Identification=s,this.Name=n,this.ReferencedSource=r,this.Description=l,this.Sort=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new GX(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.Location),e.push(this.Identification),e.push(this.Name),e.push(this.ReferencedSource),e.push(this.Description),e.push(this.Sort),e}},gX=class{constructor(e,i,t){this.expressID=e,this.type=i,this.CfsFaces=t}static FromTape(e,i,t){let s=0,n=t[s++];return new gX(e,i,n)}ToTape(){let e=[];return e.push(this.CfsFaces),e}},TX=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new TX(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},IX=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new IX(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},RX=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.Red=s,this.Green=n,this.Blue=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new RX(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Red),e.push(this.Green),e.push(this.Blue),e}},fX=class{constructor(e,i,t){this.expressID=e,this.type=i,this.ColourList=t}static FromTape(e,i,t){let s=0,n=t[s++];return new fX(e,i,n)}ToTape(){let e=[];return e.push(this.ColourList),e}},XX=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Name=t}static FromTape(e,i,t){let s=0,n=t[s++];return new XX(e,i,n)}ToTape(){let e=[];return e.push(this.Name),e}},WX=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new WX(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},SX=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new SX(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},CX=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new CX(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},VX=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new VX(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},LX=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new LX(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},FX=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.UsageName=n,this.HasProperties=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new FX(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.UsageName),e.push(this.HasProperties),e}},NX=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.UsageName=l,this.TemplateType=a,this.HasPropertyTemplates=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new NX(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.UsageName),e.push(this.TemplateType),e.push(this.HasPropertyTemplates),e}},xX=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Segments=t,this.SelfIntersect=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new xX(e,i,n,r)}ToTape(){let e=[];return e.push(this.Segments),e.push(this.SelfIntersect),e}},vX=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Segments=t,this.SelfIntersect=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new vX(e,i,n,r)}ToTape(){let e=[];return e.push(this.Segments),e.push(this.SelfIntersect),e}},EX=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Transition=t,this.SameSense=s,this.ParentCurve=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new EX(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.Transition),e.push(this.SameSense),e.push(this.ParentCurve),e}},YX=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.Profiles=n,this.Label=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new YX(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Profiles),e.push(this.Label),e}},MX=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new MX(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},wX=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new wX(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},HX=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new HX(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},PX=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new PX(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},zX=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Position=t}static FromTape(e,i,t){let s=0,n=t[s++];return new zX(e,i,n)}ToTape(){let e=[];return e.push(this.Position),e}},UX=class{constructor(e,i,t){this.expressID=e,this.type=i,this.CfsFaces=t}static FromTape(e,i,t){let s=0,n=t[s++];return new UX(e,i,n)}ToTape(){let e=[];return e.push(this.CfsFaces),e}},kX=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.CurveOnRelatingElement=t,this.CurveOnRelatedElement=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new kX(e,i,n,r)}ToTape(){let e=[];return e.push(this.CurveOnRelatingElement),e.push(this.CurveOnRelatedElement),e}},DX=class{constructor(e,i){this.expressID=e,this.type=i}static FromTape(e,i,t){return new DX(e,i)}ToTape(){return[]}},JX=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.PointOnRelatingElement=t,this.PointOnRelatedElement=s,this.EccentricityInX=n,this.EccentricityInY=r,this.EccentricityInZ=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new JX(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.PointOnRelatingElement),e.push(this.PointOnRelatedElement),e.push(this.EccentricityInX),e.push(this.EccentricityInY),e.push(this.EccentricityInZ),e}},KX=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.PointOnRelatingElement=t,this.PointOnRelatedElement=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new KX(e,i,n,r)}ToTape(){let e=[];return e.push(this.PointOnRelatingElement),e.push(this.PointOnRelatedElement),e}},OX=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.SurfaceOnRelatingElement=t,this.SurfaceOnRelatedElement=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new OX(e,i,n,r)}ToTape(){let e=[];return e.push(this.SurfaceOnRelatingElement),e.push(this.SurfaceOnRelatedElement),e}},AX=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.VolumeOnRelatingElement=t,this.VolumeOnRelatedElement=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new AX(e,i,n,r)}ToTape(){let e=[];return e.push(this.VolumeOnRelatingElement),e.push(this.VolumeOnRelatedElement),e}},BX=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.ConstraintGrade=n,this.ConstraintSource=r,this.CreatingActor=l,this.CreationTime=a,this.UserDefinedGrade=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new BX(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.ConstraintGrade),e.push(this.ConstraintSource),e.push(this.CreatingActor),e.push(this.CreationTime),e.push(this.UserDefinedGrade),e}},jX=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.Identification=a,this.LongDescription=o,this.Usage=c,this.BaseCosts=h,this.BaseQuantity=u,this.PredefinedType=d}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++];return new jX(e,i,n,r,l,a,o,c,h,u,d,p,G)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.LongDescription),e.push(this.Usage),e.push(this.BaseCosts),e.push(this.BaseQuantity),e.push(this.PredefinedType),e}},QX=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.Identification=o,this.LongDescription=c,this.ResourceType=h,this.BaseCosts=u,this.BaseQuantity=d,this.PredefinedType=p}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++];return new QX(e,i,n,r,l,a,o,c,h,u,d,p,G,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.Identification),e.push(this.LongDescription),e.push(this.ResourceType),e.push(this.BaseCosts),e.push(this.BaseQuantity),e.push(this.PredefinedType),e}},_X=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.Identification=a,this.LongDescription=o,this.Usage=c,this.BaseCosts=h,this.BaseQuantity=u,this.PredefinedType=d}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++];return new _X(e,i,n,r,l,a,o,c,h,u,d,p,G)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.LongDescription),e.push(this.Usage),e.push(this.BaseCosts),e.push(this.BaseQuantity),e.push(this.PredefinedType),e}},qX=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.Identification=o,this.LongDescription=c,this.ResourceType=h,this.BaseCosts=u,this.BaseQuantity=d,this.PredefinedType=p}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++];return new qX(e,i,n,r,l,a,o,c,h,u,d,p,G,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.Identification),e.push(this.LongDescription),e.push(this.ResourceType),e.push(this.BaseCosts),e.push(this.BaseQuantity),e.push(this.PredefinedType),e}},$X=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.Identification=a,this.LongDescription=o,this.Usage=c,this.BaseCosts=h,this.BaseQuantity=u,this.PredefinedType=d}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++];return new $X(e,i,n,r,l,a,o,c,h,u,d,p,G)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.LongDescription),e.push(this.Usage),e.push(this.BaseCosts),e.push(this.BaseQuantity),e.push(this.PredefinedType),e}},e2=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.Identification=o,this.LongDescription=c,this.ResourceType=h,this.BaseCosts=u,this.BaseQuantity=d,this.PredefinedType=p}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++];return new e2(e,i,n,r,l,a,o,c,h,u,d,p,G,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.Identification),e.push(this.LongDescription),e.push(this.ResourceType),e.push(this.BaseCosts),e.push(this.BaseQuantity),e.push(this.PredefinedType),e}},t2=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.Identification=a,this.LongDescription=o,this.Usage=c,this.BaseCosts=h,this.BaseQuantity=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new t2(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.LongDescription),e.push(this.Usage),e.push(this.BaseCosts),e.push(this.BaseQuantity),e}},s2=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.Identification=o,this.LongDescription=c,this.ResourceType=h,this.BaseCosts=u,this.BaseQuantity=d}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++];return new s2(e,i,n,r,l,a,o,c,h,u,d,p,G)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.Identification),e.push(this.LongDescription),e.push(this.ResourceType),e.push(this.BaseCosts),e.push(this.BaseQuantity),e}},i2=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.LongName=a,this.Phase=o,this.RepresentationContexts=c,this.UnitsInContext=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new i2(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.LongName),e.push(this.Phase),e.push(this.RepresentationContexts),e.push(this.UnitsInContext),e}},n2=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Dimensions=t,this.UnitType=s,this.Name=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new n2(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.Dimensions),e.push(this.UnitType),e.push(this.Name),e}},r2=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.Identification=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new r2(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e}},l2=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new l2(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},a2=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new a2(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},o2=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Dimensions=t,this.UnitType=s,this.Name=n,this.ConversionFactor=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new o2(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.Dimensions),e.push(this.UnitType),e.push(this.Name),e.push(this.ConversionFactor),e}},c2=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.Dimensions=t,this.UnitType=s,this.Name=n,this.ConversionFactor=r,this.ConversionOffset=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new c2(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.Dimensions),e.push(this.UnitType),e.push(this.Name),e.push(this.ConversionFactor),e.push(this.ConversionOffset),e}},h2=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new h2(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},u2=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new u2(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},d2=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new d2(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},p2=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new p2(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},m2=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.SourceCRS=t,this.TargetCRS=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new m2(e,i,n,r)}ToTape(){let e=[];return e.push(this.SourceCRS),e.push(this.TargetCRS),e}},b2=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.GeodeticDatum=n,this.VerticalDatum=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new b2(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.GeodeticDatum),e.push(this.VerticalDatum),e}},y2=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.Identification=a,this.PredefinedType=o,this.CostValues=c,this.CostQuantities=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new y2(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.PredefinedType),e.push(this.CostValues),e.push(this.CostQuantities),e}},Z2=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.Identification=a,this.PredefinedType=o,this.Status=c,this.SubmittedOn=h,this.UpdateDate=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new Z2(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.PredefinedType),e.push(this.Status),e.push(this.SubmittedOn),e.push(this.UpdateDate),e}},G2=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.AppliedValue=n,this.UnitBasis=r,this.ApplicableDate=l,this.FixedUntilDate=a,this.Category=o,this.Condition=c,this.ArithmeticOperator=h,this.Components=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new G2(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.AppliedValue),e.push(this.UnitBasis),e.push(this.ApplicableDate),e.push(this.FixedUntilDate),e.push(this.Category),e.push(this.Condition),e.push(this.ArithmeticOperator),e.push(this.Components),e}},g2=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new g2(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},T2=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new T2(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},I2=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.Identification=a,this.LongDescription=o,this.Usage=c,this.BaseCosts=h,this.BaseQuantity=u,this.PredefinedType=d}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++];return new I2(e,i,n,r,l,a,o,c,h,u,d,p,G)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.LongDescription),e.push(this.Usage),e.push(this.BaseCosts),e.push(this.BaseQuantity),e.push(this.PredefinedType),e}},R2=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.Identification=o,this.LongDescription=c,this.ResourceType=h,this.BaseCosts=u,this.BaseQuantity=d,this.PredefinedType=p}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++];return new R2(e,i,n,r,l,a,o,c,h,u,d,p,G,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.Identification),e.push(this.LongDescription),e.push(this.ResourceType),e.push(this.BaseCosts),e.push(this.BaseQuantity),e.push(this.PredefinedType),e}},f2=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Position=t}static FromTape(e,i,t){let s=0,n=t[s++];return new f2(e,i,n)}ToTape(){let e=[];return e.push(this.Position),e}},X2=class{constructor(e,i,t){this.expressID=e,this.type=i,this.TreeRootExpression=t}static FromTape(e,i,t){let s=0,n=t[s++];return new X2(e,i,n)}ToTape(){let e=[];return e.push(this.TreeRootExpression),e}},W2=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.RelatingMonetaryUnit=n,this.RelatedMonetaryUnit=r,this.ExchangeRate=l,this.RateDateTime=a,this.RateSource=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new W2(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.RelatingMonetaryUnit),e.push(this.RelatedMonetaryUnit),e.push(this.ExchangeRate),e.push(this.RateDateTime),e.push(this.RateSource),e}},S2=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new S2(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},C2=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new C2(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},V2=class{constructor(e,i){this.expressID=e,this.type=i}static FromTape(e,i,t){return new V2(e,i)}ToTape(){return[]}},L2=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.BasisSurface=t,this.OuterBoundary=s,this.InnerBoundaries=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new L2(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.BasisSurface),e.push(this.OuterBoundary),e.push(this.InnerBoundaries),e}},F2=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.BasisSurface=t,this.Boundaries=s,this.ImplicitOuter=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new F2(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.BasisSurface),e.push(this.Boundaries),e.push(this.ImplicitOuter),e}},N2=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.StartPoint=t,this.StartDirection=s,this.SegmentLength=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new N2(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.StartPoint),e.push(this.StartDirection),e.push(this.SegmentLength),e}},x2=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.Name=t,this.CurveFont=s,this.CurveWidth=n,this.CurveColour=r,this.ModelOrDraughting=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new x2(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.Name),e.push(this.CurveFont),e.push(this.CurveWidth),e.push(this.CurveColour),e.push(this.ModelOrDraughting),e}},v2=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Name=t,this.PatternList=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new v2(e,i,n,r)}ToTape(){let e=[];return e.push(this.Name),e.push(this.PatternList),e}},E2=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Name=t,this.CurveFont=s,this.CurveFontScaling=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new E2(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.Name),e.push(this.CurveFont),e.push(this.CurveFontScaling),e}},Y2=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.VisibleSegmentLength=t,this.InvisibleSegmentLength=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new Y2(e,i,n,r)}ToTape(){let e=[];return e.push(this.VisibleSegmentLength),e.push(this.InvisibleSegmentLength),e}},M2=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Position=t,this.Radius=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new M2(e,i,n,r)}ToTape(){let e=[];return e.push(this.Position),e.push(this.Radius),e}},w2=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new w2(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},H2=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new H2(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},P2=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new P2(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},z2=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new z2(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},U2=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.ParentProfile=n,this.Operator=r,this.Label=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new U2(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.ParentProfile),e.push(this.Operator),e.push(this.Label),e}},k2=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Elements=t,this.UnitType=s,this.UserDefinedType=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new k2(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.Elements),e.push(this.UnitType),e.push(this.UserDefinedType),e}},D2=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Unit=t,this.Exponent=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new D2(e,i,n,r)}ToTape(){let e=[];return e.push(this.Unit),e.push(this.Exponent),e}},J2=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.LengthExponent=t,this.MassExponent=s,this.TimeExponent=n,this.ElectricCurrentExponent=r,this.ThermodynamicTemperatureExponent=l,this.AmountOfSubstanceExponent=a,this.LuminousIntensityExponent=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new J2(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.LengthExponent),e.push(this.MassExponent),e.push(this.TimeExponent),e.push(this.ElectricCurrentExponent),e.push(this.ThermodynamicTemperatureExponent),e.push(this.AmountOfSubstanceExponent),e.push(this.LuminousIntensityExponent),e}},K2=class{constructor(e,i,t){this.expressID=e,this.type=i,this.DirectionRatios=t}static FromTape(e,i,t){let s=0,n=t[s++];return new K2(e,i,n)}ToTape(){let e=[];return e.push(this.DirectionRatios),e}},O2=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new O2(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},A2=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new A2(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},B2=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.DistanceAlong=t,this.OffsetLateral=s,this.OffsetVertical=n,this.OffsetLongitudinal=r,this.AlongHorizontal=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new B2(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.DistanceAlong),e.push(this.OffsetLateral),e.push(this.OffsetVertical),e.push(this.OffsetLongitudinal),e.push(this.AlongHorizontal),e}},j2=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new j2(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},Q2=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new Q2(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},_2=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.LongName=a,this.PredefinedType=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new _2(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.LongName),e.push(this.PredefinedType),e}},q2=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new q2(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},$2=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new $2(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},eW=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new eW(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},tW=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new tW(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},sW=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new sW(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},iW=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new iW(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},nW=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.FlowDirection=c,this.PredefinedType=h,this.SystemType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new nW(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.FlowDirection),e.push(this.PredefinedType),e.push(this.SystemType),e}},rW=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.LongName=a,this.PredefinedType=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new rW(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.LongName),e.push(this.PredefinedType),e}},lW=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p,G,g,I,X,S){this.expressID=e,this.type=i,this.Identification=t,this.Name=s,this.Description=n,this.Location=r,this.Purpose=l,this.IntendedUse=a,this.Scope=o,this.Revision=c,this.DocumentOwner=h,this.Editors=u,this.CreationTime=d,this.LastRevisionTime=p,this.ElectronicFormat=G,this.ValidFrom=g,this.ValidUntil=I,this.Confidentiality=X,this.Status=S}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++],I=t[s++],X=t[s++],S=t[s++],x=t[s++],v=t[s++];return new lW(e,i,n,r,l,a,o,c,h,u,d,p,G,g,I,X,S,x,v)}ToTape(){let e=[];return e.push(this.Identification),e.push(this.Name),e.push(this.Description),e.push(this.Location),e.push(this.Purpose),e.push(this.IntendedUse),e.push(this.Scope),e.push(this.Revision),e.push(this.DocumentOwner),e.push(this.Editors),e.push(this.CreationTime),e.push(this.LastRevisionTime),e.push(this.ElectronicFormat),e.push(this.ValidFrom),e.push(this.ValidUntil),e.push(this.Confidentiality),e.push(this.Status),e}},aW=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.RelatingDocument=n,this.RelatedDocuments=r,this.RelationshipType=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new aW(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.RelatingDocument),e.push(this.RelatedDocuments),e.push(this.RelationshipType),e}},oW=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.Location=t,this.Identification=s,this.Name=n,this.Description=r,this.ReferencedDocument=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new oW(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.Location),e.push(this.Identification),e.push(this.Name),e.push(this.Description),e.push(this.ReferencedDocument),e}},cW=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p,G){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.OverallHeight=h,this.OverallWidth=u,this.PredefinedType=d,this.OperationType=p,this.UserDefinedOperationType=G}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++],I=t[s++];return new cW(e,i,n,r,l,a,o,c,h,u,d,p,G,g,I)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.OverallHeight),e.push(this.OverallWidth),e.push(this.PredefinedType),e.push(this.OperationType),e.push(this.UserDefinedOperationType),e}},hW=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p,G,g,I,X,S){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.LiningDepth=l,this.LiningThickness=a,this.ThresholdDepth=o,this.ThresholdThickness=c,this.TransomThickness=h,this.TransomOffset=u,this.LiningOffset=d,this.ThresholdOffset=p,this.CasingThickness=G,this.CasingDepth=g,this.ShapeAspectStyle=I,this.LiningToPanelOffsetX=X,this.LiningToPanelOffsetY=S}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++],I=t[s++],X=t[s++],S=t[s++],x=t[s++],v=t[s++];return new hW(e,i,n,r,l,a,o,c,h,u,d,p,G,g,I,X,S,x,v)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.LiningDepth),e.push(this.LiningThickness),e.push(this.ThresholdDepth),e.push(this.ThresholdThickness),e.push(this.TransomThickness),e.push(this.TransomOffset),e.push(this.LiningOffset),e.push(this.ThresholdOffset),e.push(this.CasingThickness),e.push(this.CasingDepth),e.push(this.ShapeAspectStyle),e.push(this.LiningToPanelOffsetX),e.push(this.LiningToPanelOffsetY),e}},uW=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.PanelDepth=l,this.PanelOperation=a,this.PanelWidth=o,this.PanelPosition=c,this.ShapeAspectStyle=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new uW(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.PanelDepth),e.push(this.PanelOperation),e.push(this.PanelWidth),e.push(this.PanelPosition),e.push(this.ShapeAspectStyle),e}},dW=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p,G){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.OverallHeight=h,this.OverallWidth=u,this.PredefinedType=d,this.OperationType=p,this.UserDefinedOperationType=G}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++],I=t[s++];return new dW(e,i,n,r,l,a,o,c,h,u,d,p,G,g,I)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.OverallHeight),e.push(this.OverallWidth),e.push(this.PredefinedType),e.push(this.OperationType),e.push(this.UserDefinedOperationType),e}},pW=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.OperationType=h,this.ConstructionType=u,this.ParameterTakesPrecedence=d,this.Sizeable=p}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++];return new pW(e,i,n,r,l,a,o,c,h,u,d,p,G,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.OperationType),e.push(this.ConstructionType),e.push(this.ParameterTakesPrecedence),e.push(this.Sizeable),e}},mW=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p,G){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u,this.OperationType=d,this.ParameterTakesPrecedence=p,this.UserDefinedOperationType=G}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++],I=t[s++];return new mW(e,i,n,r,l,a,o,c,h,u,d,p,G,g,I)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e.push(this.OperationType),e.push(this.ParameterTakesPrecedence),e.push(this.UserDefinedOperationType),e}},bW=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Name=t}static FromTape(e,i,t){let s=0,n=t[s++];return new bW(e,i,n)}ToTape(){let e=[];return e.push(this.Name),e}},yW=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Name=t}static FromTape(e,i,t){let s=0,n=t[s++];return new yW(e,i,n)}ToTape(){let e=[];return e.push(this.Name),e}},ZW=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new ZW(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},GW=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new GW(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},gW=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new gW(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},TW=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new TW(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},IW=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new IW(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},RW=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new RW(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},fW=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.EdgeStart=t,this.EdgeEnd=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new fW(e,i,n,r)}ToTape(){let e=[];return e.push(this.EdgeStart),e.push(this.EdgeEnd),e}},XW=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.EdgeStart=t,this.EdgeEnd=s,this.EdgeGeometry=n,this.SameSense=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new XW(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.EdgeStart),e.push(this.EdgeEnd),e.push(this.EdgeGeometry),e.push(this.SameSense),e}},WW=class{constructor(e,i,t){this.expressID=e,this.type=i,this.EdgeList=t}static FromTape(e,i,t){let s=0,n=t[s++];return new WW(e,i,n)}ToTape(){let e=[];return e.push(this.EdgeList),e}},SW=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new SW(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},CW=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new CW(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},VW=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new VW(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},LW=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new LW(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},FW=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new FW(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},NW=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new NW(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},xW=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new xW(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},vW=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new vW(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},EW=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new EW(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},YW=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new YW(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},MW=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new MW(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},wW=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new wW(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},HW=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new HW(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},PW=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.AssemblyPlace=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new PW(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.AssemblyPlace),e.push(this.PredefinedType),e}},zW=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new zW(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},UW=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new UW(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},kW=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new kW(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},DW=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.MethodOfMeasurement=l,this.Quantities=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new DW(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.MethodOfMeasurement),e.push(this.Quantities),e}},JW=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new JW(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},KW=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Position=t}static FromTape(e,i,t){let s=0,n=t[s++];return new KW(e,i,n)}ToTape(){let e=[];return e.push(this.Position),e}},OW=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Position=t,this.SemiAxis1=s,this.SemiAxis2=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new OW(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.Position),e.push(this.SemiAxis1),e.push(this.SemiAxis2),e}},AW=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.Position=n,this.SemiAxis1=r,this.SemiAxis2=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new AW(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.SemiAxis1),e.push(this.SemiAxis2),e}},BW=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new BW(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},jW=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new jW(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},QW=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new QW(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},_W=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new _W(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},qW=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new qW(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},$W=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new $W(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},e1=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new e1(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},t1=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new t1(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},s1=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.Identification=a,this.LongDescription=o,this.PredefinedType=c,this.EventTriggerType=h,this.UserDefinedEventTriggerType=u,this.EventOccurenceTime=d}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++];return new s1(e,i,n,r,l,a,o,c,h,u,d,p,G)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.LongDescription),e.push(this.PredefinedType),e.push(this.EventTriggerType),e.push(this.UserDefinedEventTriggerType),e.push(this.EventOccurenceTime),e}},i1=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.Name=t,this.DataOrigin=s,this.UserDefinedDataOrigin=n,this.ActualDate=r,this.EarlyDate=l,this.LateDate=a,this.ScheduleDate=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new i1(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.Name),e.push(this.DataOrigin),e.push(this.UserDefinedDataOrigin),e.push(this.ActualDate),e.push(this.EarlyDate),e.push(this.LateDate),e.push(this.ScheduleDate),e}},n1=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.Identification=o,this.LongDescription=c,this.ProcessType=h,this.PredefinedType=u,this.EventTriggerType=d,this.UserDefinedEventTriggerType=p}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++];return new n1(e,i,n,r,l,a,o,c,h,u,d,p,G,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.Identification),e.push(this.LongDescription),e.push(this.ProcessType),e.push(this.PredefinedType),e.push(this.EventTriggerType),e.push(this.UserDefinedEventTriggerType),e}},r1=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.Properties=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new r1(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Properties),e}},l1=class{constructor(e,i){this.expressID=e,this.type=i}static FromTape(e,i,t){return new l1(e,i)}ToTape(){return[]}},a1=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Location=t,this.Identification=s,this.Name=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new a1(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.Location),e.push(this.Identification),e.push(this.Name),e}},o1=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.RelatingReference=n,this.RelatedResourceObjects=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new o1(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.RelatingReference),e.push(this.RelatedResourceObjects),e}},c1=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.LongName=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new c1(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.LongName),e.push(this.PredefinedType),e}},h1=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.LongName=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new h1(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.LongName),e}},u1=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Location=t,this.Identification=s,this.Name=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new u1(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.Location),e.push(this.Identification),e.push(this.Name),e}},d1=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Location=t,this.Identification=s,this.Name=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new d1(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.Location),e.push(this.Identification),e.push(this.Name),e}},p1=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Location=t,this.Identification=s,this.Name=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new p1(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.Location),e.push(this.Identification),e.push(this.Name),e}},m1=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.SweptArea=t,this.Position=s,this.ExtrudedDirection=n,this.Depth=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new m1(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.SweptArea),e.push(this.Position),e.push(this.ExtrudedDirection),e.push(this.Depth),e}},b1=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.SweptArea=t,this.Position=s,this.ExtrudedDirection=n,this.Depth=r,this.EndSweptArea=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new b1(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.SweptArea),e.push(this.Position),e.push(this.ExtrudedDirection),e.push(this.Depth),e.push(this.EndSweptArea),e}},y1=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Bounds=t}static FromTape(e,i,t){let s=0,n=t[s++];return new y1(e,i,n)}ToTape(){let e=[];return e.push(this.Bounds),e}},Z1=class{constructor(e,i,t){this.expressID=e,this.type=i,this.FbsmFaces=t}static FromTape(e,i,t){let s=0,n=t[s++];return new Z1(e,i,n)}ToTape(){let e=[];return e.push(this.FbsmFaces),e}},G1=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Bound=t,this.Orientation=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new G1(e,i,n,r)}ToTape(){let e=[];return e.push(this.Bound),e.push(this.Orientation),e}},g1=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Bound=t,this.Orientation=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new g1(e,i,n,r)}ToTape(){let e=[];return e.push(this.Bound),e.push(this.Orientation),e}},T1=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Bounds=t,this.FaceSurface=s,this.SameSense=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new T1(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.Bounds),e.push(this.FaceSurface),e.push(this.SameSense),e}},I1=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Outer=t}static FromTape(e,i,t){let s=0,n=t[s++];return new I1(e,i,n)}ToTape(){let e=[];return e.push(this.Outer),e}},R1=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Outer=t,this.Voids=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new R1(e,i,n,r)}ToTape(){let e=[];return e.push(this.Outer),e.push(this.Voids),e}},f1=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.LongName=c,this.CompositionType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new f1(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.LongName),e.push(this.CompositionType),e}},X1=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.LongName=c,this.CompositionType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new X1(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.LongName),e.push(this.CompositionType),e}},W1=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.Name=t,this.TensionFailureX=s,this.TensionFailureY=n,this.TensionFailureZ=r,this.CompressionFailureX=l,this.CompressionFailureY=a,this.CompressionFailureZ=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new W1(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.Name),e.push(this.TensionFailureX),e.push(this.TensionFailureY),e.push(this.TensionFailureZ),e.push(this.CompressionFailureX),e.push(this.CompressionFailureY),e.push(this.CompressionFailureZ),e}},S1=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new S1(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},C1=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new C1(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},V1=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new V1(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},L1=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new L1(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},F1=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new F1(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},N1=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new N1(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},x1=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new x1(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},v1=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Name=t,this.FillStyles=s,this.ModelorDraughting=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new v1(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.Name),e.push(this.FillStyles),e.push(this.ModelorDraughting),e}},E1=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.HatchLineAppearance=t,this.StartOfNextHatchLine=s,this.PointOfReferenceHatchLine=n,this.PatternStart=r,this.HatchLineAngle=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new E1(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.HatchLineAppearance),e.push(this.StartOfNextHatchLine),e.push(this.PointOfReferenceHatchLine),e.push(this.PatternStart),e.push(this.HatchLineAngle),e}},Y1=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.TilingPattern=t,this.Tiles=s,this.TilingScale=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new Y1(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.TilingPattern),e.push(this.Tiles),e.push(this.TilingScale),e}},M1=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new M1(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},w1=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new w1(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},H1=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new H1(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},P1=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new P1(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},z1=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.SweptArea=t,this.Position=s,this.Directrix=n,this.StartParam=r,this.EndParam=l,this.FixedReference=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new z1(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.SweptArea),e.push(this.Position),e.push(this.Directrix),e.push(this.StartParam),e.push(this.EndParam),e.push(this.FixedReference),e}},U1=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new U1(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},k1=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new k1(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},D1=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new D1(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},J1=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new J1(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},K1=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new K1(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},O1=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new O1(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},A1=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new A1(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},B1=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new B1(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},j1=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new j1(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},Q1=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new Q1(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},_1=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new _1(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},q1=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new q1(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},$1=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new $1(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},eS=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new eS(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},tS=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new tS(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},sS=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new sS(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},iS=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new iS(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},nS=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new nS(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},rS=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new rS(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},lS=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new lS(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},aS=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new aS(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},oS=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new oS(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},cS=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new cS(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},hS=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.AssemblyPlace=u,this.PredefinedType=d}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++];return new hS(e,i,n,r,l,a,o,c,h,u,d,p,G)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.AssemblyPlace),e.push(this.PredefinedType),e}},uS=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new uS(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},dS=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new dS(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},pS=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Elements=t}static FromTape(e,i,t){let s=0,n=t[s++];return new pS(e,i,n)}ToTape(){let e=[];return e.push(this.Elements),e}},mS=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.ContextIdentifier=t,this.ContextType=s,this.CoordinateSpaceDimension=n,this.Precision=r,this.WorldCoordinateSystem=l,this.TrueNorth=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new mS(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.ContextIdentifier),e.push(this.ContextType),e.push(this.CoordinateSpaceDimension),e.push(this.Precision),e.push(this.WorldCoordinateSystem),e.push(this.TrueNorth),e}},bS=class{constructor(e,i){this.expressID=e,this.type=i}static FromTape(e,i,t){return new bS(e,i)}ToTape(){return[]}},yS=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.ContextIdentifier=t,this.ContextType=s,this.CoordinateSpaceDimension=n,this.Precision=r,this.WorldCoordinateSystem=l,this.TrueNorth=a,this.ParentContext=o,this.TargetScale=c,this.TargetView=h,this.UserDefinedTargetView=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new yS(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.ContextIdentifier),e.push(this.ContextType),e.push(this.CoordinateSpaceDimension),e.push(this.Precision),e.push(this.WorldCoordinateSystem),e.push(this.TrueNorth),e.push(this.ParentContext),e.push(this.TargetScale),e.push(this.TargetView),e.push(this.UserDefinedTargetView),e}},ZS=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Elements=t}static FromTape(e,i,t){let s=0,n=t[s++];return new ZS(e,i,n)}ToTape(){let e=[];return e.push(this.Elements),e}},GS=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.UAxes=c,this.VAxes=h,this.WAxes=u,this.PredefinedType=d}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++];return new GS(e,i,n,r,l,a,o,c,h,u,d,p,G)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.UAxes),e.push(this.VAxes),e.push(this.WAxes),e.push(this.PredefinedType),e}},gS=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.AxisTag=t,this.AxisCurve=s,this.SameSense=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new gS(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.AxisTag),e.push(this.AxisCurve),e.push(this.SameSense),e}},TS=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.PlacementRelTo=t,this.PlacementLocation=s,this.PlacementRefDirection=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new TS(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.PlacementRelTo),e.push(this.PlacementLocation),e.push(this.PlacementRefDirection),e}},IS=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new IS(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e}},RS=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.BaseSurface=t,this.AgreementFlag=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new RS(e,i,n,r)}ToTape(){let e=[];return e.push(this.BaseSurface),e.push(this.AgreementFlag),e}},fS=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new fS(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},XS=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new XS(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},WS=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new WS(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},SS=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new SS(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},CS=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.Position=n,this.OverallWidth=r,this.OverallDepth=l,this.WebThickness=a,this.FlangeThickness=o,this.FilletRadius=c,this.FlangeEdgeRadius=h,this.FlangeSlope=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new CS(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.OverallWidth),e.push(this.OverallDepth),e.push(this.WebThickness),e.push(this.FlangeThickness),e.push(this.FilletRadius),e.push(this.FlangeEdgeRadius),e.push(this.FlangeSlope),e}},VS=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.RepeatS=t,this.RepeatT=s,this.Mode=n,this.TextureTransform=r,this.Parameter=l,this.URLReference=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new VS(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.RepeatS),e.push(this.RepeatT),e.push(this.Mode),e.push(this.TextureTransform),e.push(this.Parameter),e.push(this.URLReference),e}},LS=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.MappedTo=t,this.Opacity=s,this.Colours=n,this.ColourIndex=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new LS(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.MappedTo),e.push(this.Opacity),e.push(this.Colours),e.push(this.ColourIndex),e}},FS=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Points=t,this.Segments=s,this.SelfIntersect=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new FS(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.Points),e.push(this.Segments),e.push(this.SelfIntersect),e}},NS=class{constructor(e,i,t){this.expressID=e,this.type=i,this.CoordIndex=t}static FromTape(e,i,t){let s=0,n=t[s++];return new NS(e,i,n)}ToTape(){let e=[];return e.push(this.CoordIndex),e}},xS=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.CoordIndex=t,this.InnerCoordIndices=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new xS(e,i,n,r)}ToTape(){let e=[];return e.push(this.CoordIndex),e.push(this.InnerCoordIndices),e}},vS=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Maps=t,this.MappedTo=s,this.TexCoords=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new vS(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.Maps),e.push(this.MappedTo),e.push(this.TexCoords),e}},ES=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Maps=t,this.MappedTo=s,this.TexCoords=n,this.TexCoordIndex=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new ES(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.Maps),e.push(this.MappedTo),e.push(this.TexCoords),e.push(this.TexCoordIndex),e}},YS=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new YS(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},MS=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new MS(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},wS=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Curve3D=t,this.AssociatedGeometry=s,this.MasterRepresentation=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new wS(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.Curve3D),e.push(this.AssociatedGeometry),e.push(this.MasterRepresentation),e}},HS=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.PredefinedType=a,this.Jurisdiction=o,this.ResponsiblePersons=c,this.LastUpdateDate=h,this.CurrentValue=u,this.OriginalValue=d}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++];return new HS(e,i,n,r,l,a,o,c,h,u,d,p,G)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.PredefinedType),e.push(this.Jurisdiction),e.push(this.ResponsiblePersons),e.push(this.LastUpdateDate),e.push(this.CurrentValue),e.push(this.OriginalValue),e}},PS=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.StartTime=n,this.EndTime=r,this.TimeSeriesDataType=l,this.DataOrigin=a,this.UserDefinedDataOrigin=o,this.Unit=c,this.Values=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new PS(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.StartTime),e.push(this.EndTime),e.push(this.TimeSeriesDataType),e.push(this.DataOrigin),e.push(this.UserDefinedDataOrigin),e.push(this.Unit),e.push(this.Values),e}},zS=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.TimeStamp=t,this.ListValues=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new zS(e,i,n,r)}ToTape(){let e=[];return e.push(this.TimeStamp),e.push(this.ListValues),e}},US=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new US(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},kS=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new kS(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},DS=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.Position=n,this.Depth=r,this.Width=l,this.Thickness=a,this.FilletRadius=o,this.EdgeRadius=c,this.LegSlope=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new DS(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.Depth),e.push(this.Width),e.push(this.Thickness),e.push(this.FilletRadius),e.push(this.EdgeRadius),e.push(this.LegSlope),e}},JS=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.Identification=a,this.LongDescription=o,this.Usage=c,this.BaseCosts=h,this.BaseQuantity=u,this.PredefinedType=d}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++];return new JS(e,i,n,r,l,a,o,c,h,u,d,p,G)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.LongDescription),e.push(this.Usage),e.push(this.BaseCosts),e.push(this.BaseQuantity),e.push(this.PredefinedType),e}},KS=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.Identification=o,this.LongDescription=c,this.ResourceType=h,this.BaseCosts=u,this.BaseQuantity=d,this.PredefinedType=p}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++];return new KS(e,i,n,r,l,a,o,c,h,u,d,p,G,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.Identification),e.push(this.LongDescription),e.push(this.ResourceType),e.push(this.BaseCosts),e.push(this.BaseQuantity),e.push(this.PredefinedType),e}},OS=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.Name=t,this.DataOrigin=s,this.UserDefinedDataOrigin=n,this.LagValue=r,this.DurationType=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new OS(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.Name),e.push(this.DataOrigin),e.push(this.UserDefinedDataOrigin),e.push(this.LagValue),e.push(this.DurationType),e}},AS=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new AS(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},BS=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new BS(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},jS=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.Name=t,this.Version=s,this.Publisher=n,this.VersionDate=r,this.Location=l,this.Description=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new jS(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Version),e.push(this.Publisher),e.push(this.VersionDate),e.push(this.Location),e.push(this.Description),e}},QS=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.Location=t,this.Identification=s,this.Name=n,this.Description=r,this.Language=l,this.ReferencedLibrary=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new QS(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.Location),e.push(this.Identification),e.push(this.Name),e.push(this.Description),e.push(this.Language),e.push(this.ReferencedLibrary),e}},_S=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.MainPlaneAngle=t,this.SecondaryPlaneAngle=s,this.LuminousIntensity=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new _S(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.MainPlaneAngle),e.push(this.SecondaryPlaneAngle),e.push(this.LuminousIntensity),e}},qS=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new qS(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},$S=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new $S(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},eC=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.LightDistributionCurve=t,this.DistributionData=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new eC(e,i,n,r)}ToTape(){let e=[];return e.push(this.LightDistributionCurve),e.push(this.DistributionData),e}},tC=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.LightColour=s,this.AmbientIntensity=n,this.Intensity=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new tC(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.LightColour),e.push(this.AmbientIntensity),e.push(this.Intensity),e}},sC=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.LightColour=s,this.AmbientIntensity=n,this.Intensity=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new sC(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.LightColour),e.push(this.AmbientIntensity),e.push(this.Intensity),e}},iC=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.Name=t,this.LightColour=s,this.AmbientIntensity=n,this.Intensity=r,this.Orientation=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new iC(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.Name),e.push(this.LightColour),e.push(this.AmbientIntensity),e.push(this.Intensity),e.push(this.Orientation),e}},nC=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.Name=t,this.LightColour=s,this.AmbientIntensity=n,this.Intensity=r,this.Position=l,this.ColourAppearance=a,this.ColourTemperature=o,this.LuminousFlux=c,this.LightEmissionSource=h,this.LightDistributionDataSource=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new nC(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.Name),e.push(this.LightColour),e.push(this.AmbientIntensity),e.push(this.Intensity),e.push(this.Position),e.push(this.ColourAppearance),e.push(this.ColourTemperature),e.push(this.LuminousFlux),e.push(this.LightEmissionSource),e.push(this.LightDistributionDataSource),e}},rC=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.Name=t,this.LightColour=s,this.AmbientIntensity=n,this.Intensity=r,this.Position=l,this.Radius=a,this.ConstantAttenuation=o,this.DistanceAttenuation=c,this.QuadricAttenuation=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new rC(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.Name),e.push(this.LightColour),e.push(this.AmbientIntensity),e.push(this.Intensity),e.push(this.Position),e.push(this.Radius),e.push(this.ConstantAttenuation),e.push(this.DistanceAttenuation),e.push(this.QuadricAttenuation),e}},lC=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p,G){this.expressID=e,this.type=i,this.Name=t,this.LightColour=s,this.AmbientIntensity=n,this.Intensity=r,this.Position=l,this.Radius=a,this.ConstantAttenuation=o,this.DistanceAttenuation=c,this.QuadricAttenuation=h,this.Orientation=u,this.ConcentrationExponent=d,this.SpreadAngle=p,this.BeamWidthAngle=G}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++],I=t[s++];return new lC(e,i,n,r,l,a,o,c,h,u,d,p,G,g,I)}ToTape(){let e=[];return e.push(this.Name),e.push(this.LightColour),e.push(this.AmbientIntensity),e.push(this.Intensity),e.push(this.Position),e.push(this.Radius),e.push(this.ConstantAttenuation),e.push(this.DistanceAttenuation),e.push(this.QuadricAttenuation),e.push(this.Orientation),e.push(this.ConcentrationExponent),e.push(this.SpreadAngle),e.push(this.BeamWidthAngle),e}},aC=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Pnt=t,this.Dir=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new aC(e,i,n,r)}ToTape(){let e=[];return e.push(this.Pnt),e.push(this.Dir),e}},oC=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.StartPoint=t,this.StartDirection=s,this.SegmentLength=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new oC(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.StartPoint),e.push(this.StartDirection),e.push(this.SegmentLength),e}},cC=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.PlacementRelTo=t,this.PlacementMeasuredAlong=s,this.Distance=n,this.Orientation=r,this.CartesianPosition=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new cC(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.PlacementRelTo),e.push(this.PlacementMeasuredAlong),e.push(this.Distance),e.push(this.Orientation),e.push(this.CartesianPosition),e}},hC=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Axis=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new hC(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Axis),e}},uC=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.PlacementRelTo=t,this.RelativePlacement=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new uC(e,i,n,r)}ToTape(){let e=[];return e.push(this.PlacementRelTo),e.push(this.RelativePlacement),e}},dC=class{constructor(e,i){this.expressID=e,this.type=i}static FromTape(e,i,t){return new dC(e,i)}ToTape(){return[]}},pC=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Outer=t}static FromTape(e,i,t){let s=0,n=t[s++];return new pC(e,i,n)}ToTape(){let e=[];return e.push(this.Outer),e}},mC=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.SourceCRS=t,this.TargetCRS=s,this.Eastings=n,this.Northings=r,this.OrthogonalHeight=l,this.XAxisAbscissa=a,this.XAxisOrdinate=o,this.Scale=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new mC(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.SourceCRS),e.push(this.TargetCRS),e.push(this.Eastings),e.push(this.Northings),e.push(this.OrthogonalHeight),e.push(this.XAxisAbscissa),e.push(this.XAxisOrdinate),e.push(this.Scale),e}},bC=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.MappingSource=t,this.MappingTarget=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new bC(e,i,n,r)}ToTape(){let e=[];return e.push(this.MappingSource),e.push(this.MappingTarget),e}},yC=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.Category=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new yC(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Category),e}},ZC=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.MaterialClassifications=t,this.ClassifiedMaterial=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new ZC(e,i,n,r)}ToTape(){let e=[];return e.push(this.MaterialClassifications),e.push(this.ClassifiedMaterial),e}},GC=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.Material=n,this.Fraction=r,this.Category=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new GC(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Material),e.push(this.Fraction),e.push(this.Category),e}},gC=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.MaterialConstituents=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new gC(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.MaterialConstituents),e}},TC=class{constructor(e,i){this.expressID=e,this.type=i}static FromTape(e,i,t){return new TC(e,i)}ToTape(){return[]}},IC=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.Representations=n,this.RepresentedMaterial=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new IC(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Representations),e.push(this.RepresentedMaterial),e}},RC=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.Material=t,this.LayerThickness=s,this.IsVentilated=n,this.Name=r,this.Description=l,this.Category=a,this.Priority=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new RC(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.Material),e.push(this.LayerThickness),e.push(this.IsVentilated),e.push(this.Name),e.push(this.Description),e.push(this.Category),e.push(this.Priority),e}},fC=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.MaterialLayers=t,this.LayerSetName=s,this.Description=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new fC(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.MaterialLayers),e.push(this.LayerSetName),e.push(this.Description),e}},XC=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.ForLayerSet=t,this.LayerSetDirection=s,this.DirectionSense=n,this.OffsetFromReferenceLine=r,this.ReferenceExtent=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new XC(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.ForLayerSet),e.push(this.LayerSetDirection),e.push(this.DirectionSense),e.push(this.OffsetFromReferenceLine),e.push(this.ReferenceExtent),e}},WC=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.Material=t,this.LayerThickness=s,this.IsVentilated=n,this.Name=r,this.Description=l,this.Category=a,this.Priority=o,this.OffsetDirection=c,this.OffsetValues=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new WC(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.Material),e.push(this.LayerThickness),e.push(this.IsVentilated),e.push(this.Name),e.push(this.Description),e.push(this.Category),e.push(this.Priority),e.push(this.OffsetDirection),e.push(this.OffsetValues),e}},SC=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Materials=t}static FromTape(e,i,t){let s=0,n=t[s++];return new SC(e,i,n)}ToTape(){let e=[];return e.push(this.Materials),e}},CC=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.Material=n,this.Profile=r,this.Priority=l,this.Category=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new CC(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Material),e.push(this.Profile),e.push(this.Priority),e.push(this.Category),e}},VC=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.MaterialProfiles=n,this.CompositeProfile=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new VC(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.MaterialProfiles),e.push(this.CompositeProfile),e}},LC=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.ForProfileSet=t,this.CardinalPoint=s,this.ReferenceExtent=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new LC(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.ForProfileSet),e.push(this.CardinalPoint),e.push(this.ReferenceExtent),e}},FC=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.ForProfileSet=t,this.CardinalPoint=s,this.ReferenceExtent=n,this.ForProfileEndSet=r,this.CardinalEndPoint=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new FC(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.ForProfileSet),e.push(this.CardinalPoint),e.push(this.ReferenceExtent),e.push(this.ForProfileEndSet),e.push(this.CardinalEndPoint),e}},NC=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.Material=n,this.Profile=r,this.Priority=l,this.Category=a,this.OffsetValues=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new NC(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Material),e.push(this.Profile),e.push(this.Priority),e.push(this.Category),e.push(this.OffsetValues),e}},xC=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.Properties=n,this.Material=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new xC(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Properties),e.push(this.Material),e}},vC=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.RelatingMaterial=n,this.RelatedMaterials=r,this.Expression=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new vC(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.RelatingMaterial),e.push(this.RelatedMaterials),e.push(this.Expression),e}},EC=class{constructor(e,i){this.expressID=e,this.type=i}static FromTape(e,i,t){return new EC(e,i)}ToTape(){return[]}},YC=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.ValueComponent=t,this.UnitComponent=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new YC(e,i,n,r)}ToTape(){let e=[];return e.push(this.ValueComponent),e.push(this.UnitComponent),e}},MC=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.NominalDiameter=h,this.NominalLength=u,this.PredefinedType=d}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++];return new MC(e,i,n,r,l,a,o,c,h,u,d,p,G)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.NominalDiameter),e.push(this.NominalLength),e.push(this.PredefinedType),e}},wC=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u,this.NominalDiameter=d,this.NominalLength=p}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++];return new wC(e,i,n,r,l,a,o,c,h,u,d,p,G,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e.push(this.NominalDiameter),e.push(this.NominalLength),e}},HC=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new HC(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},PC=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new PC(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},zC=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new zC(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},UC=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new UC(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},kC=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new kC(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},DC=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.ConstraintGrade=n,this.ConstraintSource=r,this.CreatingActor=l,this.CreationTime=a,this.UserDefinedGrade=o,this.Benchmark=c,this.ValueSource=h,this.DataValue=u,this.ReferencePath=d}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++];return new DC(e,i,n,r,l,a,o,c,h,u,d,p,G)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.ConstraintGrade),e.push(this.ConstraintSource),e.push(this.CreatingActor),e.push(this.CreationTime),e.push(this.UserDefinedGrade),e.push(this.Benchmark),e.push(this.ValueSource),e.push(this.DataValue),e.push(this.ReferencePath),e}},JC=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.ParentProfile=n,this.Operator=r,this.Label=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new JC(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.ParentProfile),e.push(this.Operator),e.push(this.Label),e}},KC=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Currency=t}static FromTape(e,i,t){let s=0,n=t[s++];return new KC(e,i,n)}ToTape(){let e=[];return e.push(this.Currency),e}},OC=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new OC(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},AC=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new AC(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},BC=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Dimensions=t,this.UnitType=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new BC(e,i,n,r)}ToTape(){let e=[];return e.push(this.Dimensions),e.push(this.UnitType),e}},jC=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new jC(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e}},QC=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new QC(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e}},_C=class{constructor(e,i,t){this.expressID=e,this.type=i,this.PlacementRelTo=t}static FromTape(e,i,t){let s=0,n=t[s++];return new _C(e,i,n)}ToTape(){let e=[];return e.push(this.PlacementRelTo),e}},qC=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.ConstraintGrade=n,this.ConstraintSource=r,this.CreatingActor=l,this.CreationTime=a,this.UserDefinedGrade=o,this.BenchmarkValues=c,this.LogicalAggregator=h,this.ObjectiveQualifier=u,this.UserDefinedQualifier=d}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++];return new qC(e,i,n,r,l,a,o,c,h,u,d,p,G)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.ConstraintGrade),e.push(this.ConstraintSource),e.push(this.CreatingActor),e.push(this.CreationTime),e.push(this.UserDefinedGrade),e.push(this.BenchmarkValues),e.push(this.LogicalAggregator),e.push(this.ObjectiveQualifier),e.push(this.UserDefinedQualifier),e}},$C=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.TheActor=a,this.PredefinedType=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new $C(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.TheActor),e.push(this.PredefinedType),e}},eV=class{constructor(e,i,t){this.expressID=e,this.type=i,this.BasisCurve=t}static FromTape(e,i,t){let s=0,n=t[s++];return new eV(e,i,n)}ToTape(){let e=[];return e.push(this.BasisCurve),e}},tV=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.BasisCurve=t,this.Distance=s,this.SelfIntersect=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new tV(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.BasisCurve),e.push(this.Distance),e.push(this.SelfIntersect),e}},sV=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.BasisCurve=t,this.Distance=s,this.SelfIntersect=n,this.RefDirection=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new sV(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.BasisCurve),e.push(this.Distance),e.push(this.SelfIntersect),e.push(this.RefDirection),e}},iV=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.BasisCurve=t,this.OffsetValues=s,this.Tag=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new iV(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.BasisCurve),e.push(this.OffsetValues),e.push(this.Tag),e}},nV=class{constructor(e,i,t){this.expressID=e,this.type=i,this.CfsFaces=t}static FromTape(e,i,t){let s=0,n=t[s++];return new nV(e,i,n)}ToTape(){let e=[];return e.push(this.CfsFaces),e}},rV=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new rV(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},lV=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new lV(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},aV=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.Identification=t,this.Name=s,this.Description=n,this.Roles=r,this.Addresses=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new aV(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.Identification),e.push(this.Name),e.push(this.Description),e.push(this.Roles),e.push(this.Addresses),e}},oV=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.RelatingOrganization=n,this.RelatedOrganizations=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new oV(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.RelatingOrganization),e.push(this.RelatedOrganizations),e}},cV=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.LateralAxisDirection=t,this.VerticalAxisDirection=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new cV(e,i,n,r)}ToTape(){let e=[];return e.push(this.LateralAxisDirection),e.push(this.VerticalAxisDirection),e}},hV=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.EdgeStart=t,this.EdgeEnd=s,this.EdgeElement=n,this.Orientation=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new hV(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.EdgeStart),e.push(this.EdgeEnd),e.push(this.EdgeElement),e.push(this.Orientation),e}},uV=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Segments=t,this.SelfIntersect=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new uV(e,i,n,r)}ToTape(){let e=[];return e.push(this.Segments),e.push(this.SelfIntersect),e}},dV=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new dV(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},pV=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new pV(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},mV=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.OwningUser=t,this.OwningApplication=s,this.State=n,this.ChangeAction=r,this.LastModifiedDate=l,this.LastModifyingUser=a,this.LastModifyingApplication=o,this.CreationDate=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new mV(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.OwningUser),e.push(this.OwningApplication),e.push(this.State),e.push(this.ChangeAction),e.push(this.LastModifiedDate),e.push(this.LastModifyingUser),e.push(this.LastModifyingApplication),e.push(this.CreationDate),e}},bV=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.Position=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new bV(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e}},yV=class{constructor(e,i,t){this.expressID=e,this.type=i,this.EdgeList=t}static FromTape(e,i,t){let s=0,n=t[s++];return new yV(e,i,n)}ToTape(){let e=[];return e.push(this.EdgeList),e}},ZV=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.BasisSurface=t,this.ReferenceCurve=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new ZV(e,i,n,r)}ToTape(){let e=[];return e.push(this.BasisSurface),e.push(this.ReferenceCurve),e}},GV=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.Identification=a,this.LifeCyclePhase=o,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new GV(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.LifeCyclePhase),e.push(this.PredefinedType),e}},gV=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.OperationType=l,this.PanelPosition=a,this.FrameDepth=o,this.FrameThickness=c,this.ShapeAspectStyle=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new gV(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.OperationType),e.push(this.PanelPosition),e.push(this.FrameDepth),e.push(this.FrameThickness),e.push(this.ShapeAspectStyle),e}},TV=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.Identification=a,this.PredefinedType=o,this.Status=c,this.LongDescription=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new TV(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.PredefinedType),e.push(this.Status),e.push(this.LongDescription),e}},IV=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.Identification=t,this.FamilyName=s,this.GivenName=n,this.MiddleNames=r,this.PrefixTitles=l,this.SuffixTitles=a,this.Roles=o,this.Addresses=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new IV(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.Identification),e.push(this.FamilyName),e.push(this.GivenName),e.push(this.MiddleNames),e.push(this.PrefixTitles),e.push(this.SuffixTitles),e.push(this.Roles),e.push(this.Addresses),e}},RV=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.ThePerson=t,this.TheOrganization=s,this.Roles=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new RV(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.ThePerson),e.push(this.TheOrganization),e.push(this.Roles),e}},fV=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.HasQuantities=n,this.Discrimination=r,this.Quality=l,this.Usage=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new fV(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.HasQuantities),e.push(this.Discrimination),e.push(this.Quality),e.push(this.Usage),e}},XV=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Name=t,this.Description=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new XV(e,i,n,r)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e}},WV=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.Unit=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new WV(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Unit),e}},SV=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h,this.ConstructionType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new SV(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e.push(this.ConstructionType),e}},CV=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new CV(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},VV=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new VV(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},LV=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new LV(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},FV=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new FV(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},NV=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new NV(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},xV=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.RepeatS=t,this.RepeatT=s,this.Mode=n,this.TextureTransform=r,this.Parameter=l,this.Width=a,this.Height=o,this.ColourComponents=c,this.Pixel=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new xV(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.RepeatS),e.push(this.RepeatT),e.push(this.Mode),e.push(this.TextureTransform),e.push(this.Parameter),e.push(this.Width),e.push(this.Height),e.push(this.ColourComponents),e.push(this.Pixel),e}},vV=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Location=t}static FromTape(e,i,t){let s=0,n=t[s++];return new vV(e,i,n)}ToTape(){let e=[];return e.push(this.Location),e}},EV=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.SizeInX=t,this.SizeInY=s,this.Placement=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new EV(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.SizeInX),e.push(this.SizeInY),e.push(this.Placement),e}},YV=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.SizeInX=t,this.SizeInY=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new YV(e,i,n,r)}ToTape(){let e=[];return e.push(this.SizeInX),e.push(this.SizeInY),e}},MV=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Position=t}static FromTape(e,i,t){let s=0,n=t[s++];return new MV(e,i,n)}ToTape(){let e=[];return e.push(this.Position),e}},wV=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new wV(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},HV=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new HV(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},PV=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new PV(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},zV=class{constructor(e,i){this.expressID=e,this.type=i}static FromTape(e,i,t){return new zV(e,i)}ToTape(){return[]}},UV=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.BasisCurve=t,this.PointParameter=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new UV(e,i,n,r)}ToTape(){let e=[];return e.push(this.BasisCurve),e.push(this.PointParameter),e}},kV=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.BasisSurface=t,this.PointParameterU=s,this.PointParameterV=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new kV(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.BasisSurface),e.push(this.PointParameterU),e.push(this.PointParameterV),e}},DV=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Polygon=t}static FromTape(e,i,t){let s=0,n=t[s++];return new DV(e,i,n)}ToTape(){let e=[];return e.push(this.Polygon),e}},JV=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.BaseSurface=t,this.AgreementFlag=s,this.Position=n,this.PolygonalBoundary=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new JV(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.BaseSurface),e.push(this.AgreementFlag),e.push(this.Position),e.push(this.PolygonalBoundary),e}},KV=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Coordinates=t,this.Closed=s,this.Faces=n,this.PnIndex=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new KV(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.Coordinates),e.push(this.Closed),e.push(this.Faces),e.push(this.PnIndex),e}},OV=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Points=t}static FromTape(e,i,t){let s=0,n=t[s++];return new OV(e,i,n)}ToTape(){let e=[];return e.push(this.Points),e}},AV=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new AV(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e}},BV=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new BV(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e}},jV=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.Purpose=t,this.Description=s,this.UserDefinedPurpose=n,this.InternalLocation=r,this.AddressLines=l,this.PostalBox=a,this.Town=o,this.Region=c,this.PostalCode=h,this.Country=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new jV(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.Purpose),e.push(this.Description),e.push(this.UserDefinedPurpose),e.push(this.InternalLocation),e.push(this.AddressLines),e.push(this.PostalBox),e.push(this.Town),e.push(this.Region),e.push(this.PostalCode),e.push(this.Country),e}},QV=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Name=t}static FromTape(e,i,t){let s=0,n=t[s++];return new QV(e,i,n)}ToTape(){let e=[];return e.push(this.Name),e}},_V=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Name=t}static FromTape(e,i,t){let s=0,n=t[s++];return new _V(e,i,n)}ToTape(){let e=[];return e.push(this.Name),e}},qV=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Name=t}static FromTape(e,i,t){let s=0,n=t[s++];return new qV(e,i,n)}ToTape(){let e=[];return e.push(this.Name),e}},$V=class{constructor(e,i){this.expressID=e,this.type=i}static FromTape(e,i,t){return new $V(e,i)}ToTape(){return[]}},eL=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new eL(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e}},tL=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Name=t}static FromTape(e,i,t){let s=0,n=t[s++];return new tL(e,i,n)}ToTape(){let e=[];return e.push(this.Name),e}},sL=class{constructor(e,i){this.expressID=e,this.type=i}static FromTape(e,i,t){return new sL(e,i)}ToTape(){return[]}},iL=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.AssignedItems=n,this.Identifier=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new iL(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.AssignedItems),e.push(this.Identifier),e}},nL=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.AssignedItems=n,this.Identifier=r,this.LayerOn=l,this.LayerFrozen=a,this.LayerBlocked=o,this.LayerStyles=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new nL(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.AssignedItems),e.push(this.Identifier),e.push(this.LayerOn),e.push(this.LayerFrozen),e.push(this.LayerBlocked),e.push(this.LayerStyles),e}},rL=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Name=t}static FromTape(e,i,t){let s=0,n=t[s++];return new rL(e,i,n)}ToTape(){let e=[];return e.push(this.Name),e}},lL=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Styles=t}static FromTape(e,i,t){let s=0,n=t[s++];return new lL(e,i,n)}ToTape(){let e=[];return e.push(this.Styles),e}},aL=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.Identification=a,this.LongDescription=o,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new aL(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.LongDescription),e.push(this.PredefinedType),e}},oL=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.Identification=o,this.LongDescription=c,this.ProcessType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new oL(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.Identification),e.push(this.LongDescription),e.push(this.ProcessType),e.push(this.PredefinedType),e}},cL=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.Identification=a,this.LongDescription=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new cL(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.LongDescription),e}},hL=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new hL(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e}},uL=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.Representations=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new uL(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Representations),e}},dL=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.Representations=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new dL(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Representations),e}},pL=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new pL(e,i,n,r)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e}},mL=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.Properties=n,this.ProfileDefinition=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new mL(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Properties),e.push(this.ProfileDefinition),e}},bL=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.LongName=a,this.Phase=o,this.RepresentationContexts=c,this.UnitsInContext=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new bL(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.LongName),e.push(this.Phase),e.push(this.RepresentationContexts),e.push(this.UnitsInContext),e}},yL=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.LongName=a,this.Phase=o,this.RepresentationContexts=c,this.UnitsInContext=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new yL(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.LongName),e.push(this.Phase),e.push(this.RepresentationContexts),e.push(this.UnitsInContext),e}},ZL=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.Identification=a,this.PredefinedType=o,this.Status=c,this.LongDescription=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new ZL(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.PredefinedType),e.push(this.Status),e.push(this.LongDescription),e}},GL=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.GeodeticDatum=n,this.VerticalDatum=r,this.MapProjection=l,this.MapZone=a,this.MapUnit=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new GL(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.GeodeticDatum),e.push(this.VerticalDatum),e.push(this.MapProjection),e.push(this.MapZone),e.push(this.MapUnit),e}},gL=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new gL(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},TL=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Name=t,this.Description=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new TL(e,i,n,r)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e}},IL=class{constructor(e,i){this.expressID=e,this.type=i}static FromTape(e,i,t){return new IL(e,i)}ToTape(){return[]}},RL=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.UpperBoundValue=n,this.LowerBoundValue=r,this.Unit=l,this.SetPointValue=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new RL(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.UpperBoundValue),e.push(this.LowerBoundValue),e.push(this.Unit),e.push(this.SetPointValue),e}},fL=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new fL(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e}},XL=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.DependingProperty=n,this.DependantProperty=r,this.Expression=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new XL(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.DependingProperty),e.push(this.DependantProperty),e.push(this.Expression),e}},WL=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.EnumerationValues=n,this.EnumerationReference=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new WL(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.EnumerationValues),e.push(this.EnumerationReference),e}},SL=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Name=t,this.EnumerationValues=s,this.Unit=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new SL(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.Name),e.push(this.EnumerationValues),e.push(this.Unit),e}},CL=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.ListValues=n,this.Unit=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new CL(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.ListValues),e.push(this.Unit),e}},VL=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.UsageName=n,this.PropertyReference=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new VL(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.UsageName),e.push(this.PropertyReference),e}},LL=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.HasProperties=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new LL(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.HasProperties),e}},FL=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new FL(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e}},NL=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.TemplateType=l,this.ApplicableEntity=a,this.HasPropertyTemplates=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new NL(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.TemplateType),e.push(this.ApplicableEntity),e.push(this.HasPropertyTemplates),e}},xL=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.NominalValue=n,this.Unit=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new xL(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.NominalValue),e.push(this.Unit),e}},vL=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.DefiningValues=n,this.DefinedValues=r,this.Expression=l,this.DefiningUnit=a,this.DefinedUnit=o,this.CurveInterpolation=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new vL(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.DefiningValues),e.push(this.DefinedValues),e.push(this.Expression),e.push(this.DefiningUnit),e.push(this.DefinedUnit),e.push(this.CurveInterpolation),e}},EL=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new EL(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e}},YL=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new YL(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e}},ML=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new ML(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},wL=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new wL(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},HL=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new HL(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},PL=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new PL(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},zL=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.ProxyType=c,this.Tag=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new zL(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.ProxyType),e.push(this.Tag),e}},UL=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new UL(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},kL=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new kL(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},DL=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.Unit=n,this.AreaValue=r,this.Formula=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new DL(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Unit),e.push(this.AreaValue),e.push(this.Formula),e}},JL=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.Unit=n,this.CountValue=r,this.Formula=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new JL(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Unit),e.push(this.CountValue),e.push(this.Formula),e}},KL=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.Unit=n,this.LengthValue=r,this.Formula=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new KL(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Unit),e.push(this.LengthValue),e.push(this.Formula),e}},OL=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new OL(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e}},AL=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.Unit=n,this.TimeValue=r,this.Formula=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new AL(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Unit),e.push(this.TimeValue),e.push(this.Formula),e}},BL=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.Unit=n,this.VolumeValue=r,this.Formula=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new BL(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Unit),e.push(this.VolumeValue),e.push(this.Formula),e}},jL=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.Unit=n,this.WeightValue=r,this.Formula=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new jL(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Unit),e.push(this.WeightValue),e.push(this.Formula),e}},QL=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new QL(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},_L=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new _L(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},qL=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new qL(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},$L=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new $L(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},eF=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new eF(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},tF=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new tF(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},sF=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.Degree=t,this.ControlPointsList=s,this.CurveForm=n,this.ClosedCurve=r,this.SelfIntersect=l,this.KnotMultiplicities=a,this.Knots=o,this.KnotSpec=c,this.WeightsData=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new sF(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.Degree),e.push(this.ControlPointsList),e.push(this.CurveForm),e.push(this.ClosedCurve),e.push(this.SelfIntersect),e.push(this.KnotMultiplicities),e.push(this.Knots),e.push(this.KnotSpec),e.push(this.WeightsData),e}},iF=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p,G){this.expressID=e,this.type=i,this.UDegree=t,this.VDegree=s,this.ControlPointsList=n,this.SurfaceForm=r,this.UClosed=l,this.VClosed=a,this.SelfIntersect=o,this.UMultiplicities=c,this.VMultiplicities=h,this.UKnots=u,this.VKnots=d,this.KnotSpec=p,this.WeightsData=G}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++],I=t[s++];return new iF(e,i,n,r,l,a,o,c,h,u,d,p,G,g,I)}ToTape(){let e=[];return e.push(this.UDegree),e.push(this.VDegree),e.push(this.ControlPointsList),e.push(this.SurfaceForm),e.push(this.UClosed),e.push(this.VClosed),e.push(this.SelfIntersect),e.push(this.UMultiplicities),e.push(this.VMultiplicities),e.push(this.UKnots),e.push(this.VKnots),e.push(this.KnotSpec),e.push(this.WeightsData),e}},nF=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.Position=n,this.XDim=r,this.YDim=l,this.WallThickness=a,this.InnerFilletRadius=o,this.OuterFilletRadius=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new nF(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.XDim),e.push(this.YDim),e.push(this.WallThickness),e.push(this.InnerFilletRadius),e.push(this.OuterFilletRadius),e}},rF=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.Position=n,this.XDim=r,this.YDim=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new rF(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.XDim),e.push(this.YDim),e}},lF=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Position=t,this.XLength=s,this.YLength=n,this.Height=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new lF(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.Position),e.push(this.XLength),e.push(this.YLength),e.push(this.Height),e}},aF=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.BasisSurface=t,this.U1=s,this.V1=n,this.U2=r,this.V2=l,this.Usense=a,this.Vsense=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new aF(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.BasisSurface),e.push(this.U1),e.push(this.V1),e.push(this.U2),e.push(this.V2),e.push(this.Usense),e.push(this.Vsense),e}},oF=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.RecurrenceType=t,this.DayComponent=s,this.WeekdayComponent=n,this.MonthComponent=r,this.Position=l,this.Interval=a,this.Occurrences=o,this.TimePeriods=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new oF(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.RecurrenceType),e.push(this.DayComponent),e.push(this.WeekdayComponent),e.push(this.MonthComponent),e.push(this.Position),e.push(this.Interval),e.push(this.Occurrences),e.push(this.TimePeriods),e}},cF=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.TypeIdentifier=t,this.AttributeIdentifier=s,this.InstanceName=n,this.ListPositions=r,this.InnerReference=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new cF(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.TypeIdentifier),e.push(this.AttributeIdentifier),e.push(this.InstanceName),e.push(this.ListPositions),e.push(this.InnerReference),e}},hF=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.PredefinedType=c,this.RestartDistance=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new hF(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.PredefinedType),e.push(this.RestartDistance),e}},uF=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.StartTime=n,this.EndTime=r,this.TimeSeriesDataType=l,this.DataOrigin=a,this.UserDefinedDataOrigin=o,this.Unit=c,this.TimeStep=h,this.Values=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new uF(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.StartTime),e.push(this.EndTime),e.push(this.TimeSeriesDataType),e.push(this.DataOrigin),e.push(this.UserDefinedDataOrigin),e.push(this.Unit),e.push(this.TimeStep),e.push(this.Values),e}},dF=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.TotalCrossSectionArea=t,this.SteelGrade=s,this.BarSurface=n,this.EffectiveDepth=r,this.NominalBarDiameter=l,this.BarCount=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new dF(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.TotalCrossSectionArea),e.push(this.SteelGrade),e.push(this.BarSurface),e.push(this.EffectiveDepth),e.push(this.NominalBarDiameter),e.push(this.BarCount),e}},pF=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.DefinitionType=l,this.ReinforcementSectionDefinitions=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new pF(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.DefinitionType),e.push(this.ReinforcementSectionDefinitions),e}},mF=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p,G,g){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.SteelGrade=h,this.NominalDiameter=u,this.CrossSectionArea=d,this.BarLength=p,this.PredefinedType=G,this.BarSurface=g}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++],I=t[s++],X=t[s++];return new mF(e,i,n,r,l,a,o,c,h,u,d,p,G,g,I,X)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.SteelGrade),e.push(this.NominalDiameter),e.push(this.CrossSectionArea),e.push(this.BarLength),e.push(this.PredefinedType),e.push(this.BarSurface),e}},bF=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p,G,g,I,X){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u,this.NominalDiameter=d,this.CrossSectionArea=p,this.BarLength=G,this.BarSurface=g,this.BendingShapeCode=I,this.BendingParameters=X}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++],I=t[s++],X=t[s++],S=t[s++],x=t[s++];return new bF(e,i,n,r,l,a,o,c,h,u,d,p,G,g,I,X,S,x)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e.push(this.NominalDiameter),e.push(this.CrossSectionArea),e.push(this.BarLength),e.push(this.BarSurface),e.push(this.BendingShapeCode),e.push(this.BendingParameters),e}},yF=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.SteelGrade=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new yF(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.SteelGrade),e}},ZF=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new ZF(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},GF=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p,G,g,I,X,S,x){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.SteelGrade=h,this.MeshLength=u,this.MeshWidth=d,this.LongitudinalBarNominalDiameter=p,this.TransverseBarNominalDiameter=G,this.LongitudinalBarCrossSectionArea=g,this.TransverseBarCrossSectionArea=I,this.LongitudinalBarSpacing=X,this.TransverseBarSpacing=S,this.PredefinedType=x}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++],I=t[s++],X=t[s++],S=t[s++],x=t[s++],v=t[s++],L=t[s++];return new GF(e,i,n,r,l,a,o,c,h,u,d,p,G,g,I,X,S,x,v,L)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.SteelGrade),e.push(this.MeshLength),e.push(this.MeshWidth),e.push(this.LongitudinalBarNominalDiameter),e.push(this.TransverseBarNominalDiameter),e.push(this.LongitudinalBarCrossSectionArea),e.push(this.TransverseBarCrossSectionArea),e.push(this.LongitudinalBarSpacing),e.push(this.TransverseBarSpacing),e.push(this.PredefinedType),e}},gF=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p,G,g,I,X,S,x,v,L){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u,this.MeshLength=d,this.MeshWidth=p,this.LongitudinalBarNominalDiameter=G,this.TransverseBarNominalDiameter=g,this.LongitudinalBarCrossSectionArea=I,this.TransverseBarCrossSectionArea=X,this.LongitudinalBarSpacing=S,this.TransverseBarSpacing=x,this.BendingShapeCode=v,this.BendingParameters=L}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++],I=t[s++],X=t[s++],S=t[s++],x=t[s++],v=t[s++],L=t[s++],M=t[s++],E=t[s++];return new gF(e,i,n,r,l,a,o,c,h,u,d,p,G,g,I,X,S,x,v,L,M,E)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e.push(this.MeshLength),e.push(this.MeshWidth),e.push(this.LongitudinalBarNominalDiameter),e.push(this.TransverseBarNominalDiameter),e.push(this.LongitudinalBarCrossSectionArea),e.push(this.TransverseBarCrossSectionArea),e.push(this.LongitudinalBarSpacing),e.push(this.TransverseBarSpacing),e.push(this.BendingShapeCode),e.push(this.BendingParameters),e}},TF=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatingObject=l,this.RelatedObjects=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new TF(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingObject),e.push(this.RelatedObjects),e}},IF=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedObjects=l,this.RelatedObjectsType=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new IF(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatedObjectsType),e}},RF=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedObjects=l,this.RelatedObjectsType=a,this.RelatingActor=o,this.ActingRole=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new RF(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatedObjectsType),e.push(this.RelatingActor),e.push(this.ActingRole),e}},fF=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedObjects=l,this.RelatedObjectsType=a,this.RelatingControl=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new fF(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatedObjectsType),e.push(this.RelatingControl),e}},XF=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedObjects=l,this.RelatedObjectsType=a,this.RelatingGroup=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new XF(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatedObjectsType),e.push(this.RelatingGroup),e}},WF=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedObjects=l,this.RelatedObjectsType=a,this.RelatingGroup=o,this.Factor=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new WF(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatedObjectsType),e.push(this.RelatingGroup),e.push(this.Factor),e}},SF=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedObjects=l,this.RelatedObjectsType=a,this.RelatingProcess=o,this.QuantityInProcess=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new SF(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatedObjectsType),e.push(this.RelatingProcess),e.push(this.QuantityInProcess),e}},CF=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedObjects=l,this.RelatedObjectsType=a,this.RelatingProduct=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new CF(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatedObjectsType),e.push(this.RelatingProduct),e}},VF=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedObjects=l,this.RelatedObjectsType=a,this.RelatingResource=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new VF(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatedObjectsType),e.push(this.RelatingResource),e}},LF=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedObjects=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new LF(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e}},FF=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedObjects=l,this.RelatingApproval=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new FF(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatingApproval),e}},NF=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedObjects=l,this.RelatingClassification=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new NF(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatingClassification),e}},xF=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedObjects=l,this.Intent=a,this.RelatingConstraint=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new xF(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.Intent),e.push(this.RelatingConstraint),e}},vF=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedObjects=l,this.RelatingDocument=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new vF(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatingDocument),e}},EF=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedObjects=l,this.RelatingLibrary=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new EF(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatingLibrary),e}},YF=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedObjects=l,this.RelatingMaterial=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new YF(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatingMaterial),e}},MF=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new MF(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e}},wF=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ConnectionGeometry=l,this.RelatingElement=a,this.RelatedElement=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new wF(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ConnectionGeometry),e.push(this.RelatingElement),e.push(this.RelatedElement),e}},HF=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ConnectionGeometry=l,this.RelatingElement=a,this.RelatedElement=o,this.RelatingPriorities=c,this.RelatedPriorities=h,this.RelatedConnectionType=u,this.RelatingConnectionType=d}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++];return new HF(e,i,n,r,l,a,o,c,h,u,d,p,G)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ConnectionGeometry),e.push(this.RelatingElement),e.push(this.RelatedElement),e.push(this.RelatingPriorities),e.push(this.RelatedPriorities),e.push(this.RelatedConnectionType),e.push(this.RelatingConnectionType),e}},PF=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatingPort=l,this.RelatedElement=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new PF(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingPort),e.push(this.RelatedElement),e}},zF=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatingPort=l,this.RelatedPort=a,this.RealizingElement=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new zF(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingPort),e.push(this.RelatedPort),e.push(this.RealizingElement),e}},UF=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatingElement=l,this.RelatedStructuralActivity=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new UF(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingElement),e.push(this.RelatedStructuralActivity),e}},kF=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatingStructuralMember=l,this.RelatedStructuralConnection=a,this.AppliedCondition=o,this.AdditionalConditions=c,this.SupportedLength=h,this.ConditionCoordinateSystem=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new kF(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingStructuralMember),e.push(this.RelatedStructuralConnection),e.push(this.AppliedCondition),e.push(this.AdditionalConditions),e.push(this.SupportedLength),e.push(this.ConditionCoordinateSystem),e}},DF=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatingStructuralMember=l,this.RelatedStructuralConnection=a,this.AppliedCondition=o,this.AdditionalConditions=c,this.SupportedLength=h,this.ConditionCoordinateSystem=u,this.ConnectionConstraint=d}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++];return new DF(e,i,n,r,l,a,o,c,h,u,d,p,G)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingStructuralMember),e.push(this.RelatedStructuralConnection),e.push(this.AppliedCondition),e.push(this.AdditionalConditions),e.push(this.SupportedLength),e.push(this.ConditionCoordinateSystem),e.push(this.ConnectionConstraint),e}},JF=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ConnectionGeometry=l,this.RelatingElement=a,this.RelatedElement=o,this.RealizingElements=c,this.ConnectionType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new JF(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ConnectionGeometry),e.push(this.RelatingElement),e.push(this.RelatedElement),e.push(this.RealizingElements),e.push(this.ConnectionType),e}},KF=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedElements=l,this.RelatingStructure=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new KF(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedElements),e.push(this.RelatingStructure),e}},OF=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatingBuildingElement=l,this.RelatedCoverings=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new OF(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingBuildingElement),e.push(this.RelatedCoverings),e}},AF=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatingSpace=l,this.RelatedCoverings=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new AF(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingSpace),e.push(this.RelatedCoverings),e}},BF=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatingContext=l,this.RelatedDefinitions=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new BF(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingContext),e.push(this.RelatedDefinitions),e}},jF=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new jF(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e}},QF=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new QF(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e}},_F=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedObjects=l,this.RelatingObject=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new _F(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatingObject),e}},qF=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedObjects=l,this.RelatingPropertyDefinition=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new qF(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatingPropertyDefinition),e}},$F=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedPropertySets=l,this.RelatingTemplate=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new $F(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedPropertySets),e.push(this.RelatingTemplate),e}},e5=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedObjects=l,this.RelatingType=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new e5(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatingType),e}},t5=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatingOpeningElement=l,this.RelatedBuildingElement=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new t5(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingOpeningElement),e.push(this.RelatedBuildingElement),e}},s5=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedControlElements=l,this.RelatingFlowElement=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new s5(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedControlElements),e.push(this.RelatingFlowElement),e}},i5=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatingElement=l,this.RelatedElement=a,this.InterferenceGeometry=o,this.InterferenceType=c,this.ImpliedOrder=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new i5(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingElement),e.push(this.RelatedElement),e.push(this.InterferenceGeometry),e.push(this.InterferenceType),e.push(this.ImpliedOrder),e}},n5=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatingObject=l,this.RelatedObjects=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new n5(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingObject),e.push(this.RelatedObjects),e}},r5=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatingPositioningElement=l,this.RelatedProducts=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new r5(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingPositioningElement),e.push(this.RelatedProducts),e}},l5=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatingElement=l,this.RelatedFeatureElement=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new l5(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingElement),e.push(this.RelatedFeatureElement),e}},a5=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedElements=l,this.RelatingStructure=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new a5(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedElements),e.push(this.RelatingStructure),e}},o5=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatingProcess=l,this.RelatedProcess=a,this.TimeLag=o,this.SequenceType=c,this.UserDefinedSequenceType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new o5(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingProcess),e.push(this.RelatedProcess),e.push(this.TimeLag),e.push(this.SequenceType),e.push(this.UserDefinedSequenceType),e}},c5=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatingSystem=l,this.RelatedBuildings=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new c5(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingSystem),e.push(this.RelatedBuildings),e}},h5=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatingSpace=l,this.RelatedBuildingElement=a,this.ConnectionGeometry=o,this.PhysicalOrVirtualBoundary=c,this.InternalOrExternalBoundary=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new h5(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingSpace),e.push(this.RelatedBuildingElement),e.push(this.ConnectionGeometry),e.push(this.PhysicalOrVirtualBoundary),e.push(this.InternalOrExternalBoundary),e}},u5=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatingSpace=l,this.RelatedBuildingElement=a,this.ConnectionGeometry=o,this.PhysicalOrVirtualBoundary=c,this.InternalOrExternalBoundary=h,this.ParentBoundary=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new u5(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingSpace),e.push(this.RelatedBuildingElement),e.push(this.ConnectionGeometry),e.push(this.PhysicalOrVirtualBoundary),e.push(this.InternalOrExternalBoundary),e.push(this.ParentBoundary),e}},d5=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatingSpace=l,this.RelatedBuildingElement=a,this.ConnectionGeometry=o,this.PhysicalOrVirtualBoundary=c,this.InternalOrExternalBoundary=h,this.ParentBoundary=u,this.CorrespondingBoundary=d}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++];return new d5(e,i,n,r,l,a,o,c,h,u,d,p,G)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingSpace),e.push(this.RelatedBuildingElement),e.push(this.ConnectionGeometry),e.push(this.PhysicalOrVirtualBoundary),e.push(this.InternalOrExternalBoundary),e.push(this.ParentBoundary),e.push(this.CorrespondingBoundary),e}},p5=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatingBuildingElement=l,this.RelatedOpeningElement=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new p5(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingBuildingElement),e.push(this.RelatedOpeningElement),e}},m5=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new m5(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e}},b5=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Transition=t,this.SameSense=s,this.ParentCurve=n,this.ParamLength=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new b5(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.Transition),e.push(this.SameSense),e.push(this.ParentCurve),e.push(this.ParamLength),e}},y5=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.ContextOfItems=t,this.RepresentationIdentifier=s,this.RepresentationType=n,this.Items=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new y5(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.ContextOfItems),e.push(this.RepresentationIdentifier),e.push(this.RepresentationType),e.push(this.Items),e}},Z5=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.ContextIdentifier=t,this.ContextType=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new Z5(e,i,n,r)}ToTape(){let e=[];return e.push(this.ContextIdentifier),e.push(this.ContextType),e}},G5=class{constructor(e,i){this.expressID=e,this.type=i}static FromTape(e,i,t){return new G5(e,i)}ToTape(){return[]}},g5=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.MappingOrigin=t,this.MappedRepresentation=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new g5(e,i,n,r)}ToTape(){let e=[];return e.push(this.MappingOrigin),e.push(this.MappedRepresentation),e}},T5=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.Identification=a,this.LongDescription=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new T5(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.LongDescription),e}},I5=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.RelatedResourceObjects=n,this.RelatingApproval=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new I5(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.RelatedResourceObjects),e.push(this.RelatingApproval),e}},R5=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.RelatingConstraint=n,this.RelatedResourceObjects=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new R5(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.RelatingConstraint),e.push(this.RelatedResourceObjects),e}},f5=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Name=t,this.Description=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new f5(e,i,n,r)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e}},X5=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p,G,g,I,X,S,x){this.expressID=e,this.type=i,this.Name=t,this.DataOrigin=s,this.UserDefinedDataOrigin=n,this.ScheduleWork=r,this.ScheduleUsage=l,this.ScheduleStart=a,this.ScheduleFinish=o,this.ScheduleContour=c,this.LevelingDelay=h,this.IsOverAllocated=u,this.StatusTime=d,this.ActualWork=p,this.ActualUsage=G,this.ActualStart=g,this.ActualFinish=I,this.RemainingWork=X,this.RemainingUsage=S,this.Completion=x}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++],I=t[s++],X=t[s++],S=t[s++],x=t[s++],v=t[s++],L=t[s++];return new X5(e,i,n,r,l,a,o,c,h,u,d,p,G,g,I,X,S,x,v,L)}ToTape(){let e=[];return e.push(this.Name),e.push(this.DataOrigin),e.push(this.UserDefinedDataOrigin),e.push(this.ScheduleWork),e.push(this.ScheduleUsage),e.push(this.ScheduleStart),e.push(this.ScheduleFinish),e.push(this.ScheduleContour),e.push(this.LevelingDelay),e.push(this.IsOverAllocated),e.push(this.StatusTime),e.push(this.ActualWork),e.push(this.ActualUsage),e.push(this.ActualStart),e.push(this.ActualFinish),e.push(this.RemainingWork),e.push(this.RemainingUsage),e.push(this.Completion),e}},W5=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.SweptArea=t,this.Position=s,this.Axis=n,this.Angle=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new W5(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.SweptArea),e.push(this.Position),e.push(this.Axis),e.push(this.Angle),e}},S5=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.SweptArea=t,this.Position=s,this.Axis=n,this.Angle=r,this.EndSweptArea=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new S5(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.SweptArea),e.push(this.Position),e.push(this.Axis),e.push(this.Angle),e.push(this.EndSweptArea),e}},C5=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Position=t,this.Height=s,this.BottomRadius=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new C5(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.Position),e.push(this.Height),e.push(this.BottomRadius),e}},V5=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Position=t,this.Height=s,this.Radius=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new V5(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.Position),e.push(this.Height),e.push(this.Radius),e}},L5=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new L5(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},F5=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new F5(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},N5=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new N5(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e}},x5=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.Position=n,this.XDim=r,this.YDim=l,this.RoundingRadius=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new x5(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.XDim),e.push(this.YDim),e.push(this.RoundingRadius),e}},v5=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Dimensions=t,this.UnitType=s,this.Prefix=n,this.Name=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new v5(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.Dimensions),e.push(this.UnitType),e.push(this.Prefix),e.push(this.Name),e}},E5=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new E5(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},Y5=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new Y5(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},M5=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Name=t,this.DataOrigin=s,this.UserDefinedDataOrigin=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new M5(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.Name),e.push(this.DataOrigin),e.push(this.UserDefinedDataOrigin),e}},w5=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Curve3D=t,this.AssociatedGeometry=s,this.MasterRepresentation=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new w5(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.Curve3D),e.push(this.AssociatedGeometry),e.push(this.MasterRepresentation),e}},H5=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.SectionType=t,this.StartProfile=s,this.EndProfile=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new H5(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.SectionType),e.push(this.StartProfile),e.push(this.EndProfile),e}},P5=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.LongitudinalStartPosition=t,this.LongitudinalEndPosition=s,this.TransversePosition=n,this.ReinforcementRole=r,this.SectionDefinition=l,this.CrossSectionReinforcementDefinitions=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new P5(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.LongitudinalStartPosition),e.push(this.LongitudinalEndPosition),e.push(this.TransversePosition),e.push(this.ReinforcementRole),e.push(this.SectionDefinition),e.push(this.CrossSectionReinforcementDefinitions),e}},z5=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Directrix=t,this.CrossSections=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new z5(e,i,n,r)}ToTape(){let e=[];return e.push(this.Directrix),e.push(this.CrossSections),e}},U5=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Directrix=t,this.CrossSections=s,this.CrossSectionPositions=n,this.FixedAxisVertical=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new U5(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.Directrix),e.push(this.CrossSections),e.push(this.CrossSectionPositions),e.push(this.FixedAxisVertical),e}},k5=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.SpineCurve=t,this.CrossSections=s,this.CrossSectionPositions=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new k5(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.SpineCurve),e.push(this.CrossSections),e.push(this.CrossSectionPositions),e}},D5=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new D5(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},J5=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new J5(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},K5=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new K5(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},O5=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new O5(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},A5=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.ShapeRepresentations=t,this.Name=s,this.Description=n,this.ProductDefinitional=r,this.PartOfProductDefinitionShape=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new A5(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.ShapeRepresentations),e.push(this.Name),e.push(this.Description),e.push(this.ProductDefinitional),e.push(this.PartOfProductDefinitionShape),e}},B5=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.ContextOfItems=t,this.RepresentationIdentifier=s,this.RepresentationType=n,this.Items=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new B5(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.ContextOfItems),e.push(this.RepresentationIdentifier),e.push(this.RepresentationType),e.push(this.Items),e}},j5=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.ContextOfItems=t,this.RepresentationIdentifier=s,this.RepresentationType=n,this.Items=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new j5(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.ContextOfItems),e.push(this.RepresentationIdentifier),e.push(this.RepresentationType),e.push(this.Items),e}},Q5=class{constructor(e,i,t){this.expressID=e,this.type=i,this.SbsmBoundary=t}static FromTape(e,i,t){let s=0,n=t[s++];return new Q5(e,i,n)}ToTape(){let e=[];return e.push(this.SbsmBoundary),e}},_5=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Name=t,this.Description=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new _5(e,i,n,r)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e}},q5=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.TemplateType=l,this.PrimaryMeasureType=a,this.SecondaryMeasureType=o,this.Enumerators=c,this.PrimaryUnit=h,this.SecondaryUnit=u,this.Expression=d,this.AccessState=p}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++];return new q5(e,i,n,r,l,a,o,c,h,u,d,p,G,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.TemplateType),e.push(this.PrimaryMeasureType),e.push(this.SecondaryMeasureType),e.push(this.Enumerators),e.push(this.PrimaryUnit),e.push(this.SecondaryUnit),e.push(this.Expression),e.push(this.AccessState),e}},$5=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p,G,g){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.LongName=c,this.CompositionType=h,this.RefLatitude=u,this.RefLongitude=d,this.RefElevation=p,this.LandTitleNumber=G,this.SiteAddress=g}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++],I=t[s++],X=t[s++];return new $5(e,i,n,r,l,a,o,c,h,u,d,p,G,g,I,X)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.LongName),e.push(this.CompositionType),e.push(this.RefLatitude),e.push(this.RefLongitude),e.push(this.RefElevation),e.push(this.LandTitleNumber),e.push(this.SiteAddress),e}},eN=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new eN(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},tN=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new tN(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},sN=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new sN(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},iN=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new iN(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},nN=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.SlippageX=s,this.SlippageY=n,this.SlippageZ=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new nN(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.SlippageX),e.push(this.SlippageY),e.push(this.SlippageZ),e}},rN=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new rN(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},lN=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new lN(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},aN=class{constructor(e,i){this.expressID=e,this.type=i}static FromTape(e,i,t){return new aN(e,i)}ToTape(){return[]}},oN=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.LongName=c,this.CompositionType=h,this.PredefinedType=u,this.ElevationWithFlooring=d}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++];return new oN(e,i,n,r,l,a,o,c,h,u,d,p,G)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.LongName),e.push(this.CompositionType),e.push(this.PredefinedType),e.push(this.ElevationWithFlooring),e}},cN=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new cN(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},hN=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new hN(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},uN=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u,this.LongName=d}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++];return new uN(e,i,n,r,l,a,o,c,h,u,d,p,G)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e.push(this.LongName),e}},dN=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.LongName=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new dN(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.LongName),e}},pN=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new pN(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},mN=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.LongName=c,this.CompositionType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new mN(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.LongName),e.push(this.CompositionType),e}},bN=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new bN(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},yN=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.LongName=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new yN(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.LongName),e.push(this.PredefinedType),e}},ZN=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u,this.LongName=d}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++];return new ZN(e,i,n,r,l,a,o,c,h,u,d,p,G)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e.push(this.LongName),e}},GN=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Position=t,this.Radius=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new GN(e,i,n,r)}ToTape(){let e=[];return e.push(this.Position),e.push(this.Radius),e}},gN=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Position=t,this.Radius=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new gN(e,i,n,r)}ToTape(){let e=[];return e.push(this.Position),e.push(this.Radius),e}},TN=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new TN(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},IN=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new IN(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},RN=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new RN(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},fN=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p,G){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.NumberOfRisers=h,this.NumberOfTreads=u,this.RiserHeight=d,this.TreadLength=p,this.PredefinedType=G}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++],I=t[s++];return new fN(e,i,n,r,l,a,o,c,h,u,d,p,G,g,I)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.NumberOfRisers),e.push(this.NumberOfTreads),e.push(this.RiserHeight),e.push(this.TreadLength),e.push(this.PredefinedType),e}},XN=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new XN(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},WN=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new WN(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},SN=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.AppliedLoad=c,this.GlobalOrLocal=h,this.DestabilizingLoad=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new SN(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedLoad),e.push(this.GlobalOrLocal),e.push(this.DestabilizingLoad),e}},CN=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.AppliedLoad=c,this.GlobalOrLocal=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new CN(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedLoad),e.push(this.GlobalOrLocal),e}},VN=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.PredefinedType=a,this.OrientationOf2DPlane=o,this.LoadedBy=c,this.HasResults=h,this.SharedPlacement=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new VN(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.PredefinedType),e.push(this.OrientationOf2DPlane),e.push(this.LoadedBy),e.push(this.HasResults),e.push(this.SharedPlacement),e}},LN=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.AppliedCondition=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new LN(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedCondition),e}},FN=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Name=t}static FromTape(e,i,t){let s=0,n=t[s++];return new FN(e,i,n)}ToTape(){let e=[];return e.push(this.Name),e}},NN=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.AppliedLoad=c,this.GlobalOrLocal=h,this.DestabilizingLoad=u,this.ProjectedOrTrue=d,this.PredefinedType=p}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++];return new NN(e,i,n,r,l,a,o,c,h,u,d,p,G,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedLoad),e.push(this.GlobalOrLocal),e.push(this.DestabilizingLoad),e.push(this.ProjectedOrTrue),e.push(this.PredefinedType),e}},xN=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.AppliedCondition=c,this.Axis=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new xN(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedCondition),e.push(this.Axis),e}},vN=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.PredefinedType=c,this.Axis=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new vN(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.PredefinedType),e.push(this.Axis),e}},EN=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.PredefinedType=c,this.Axis=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new EN(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.PredefinedType),e.push(this.Axis),e}},YN=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.AppliedLoad=c,this.GlobalOrLocal=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new YN(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedLoad),e.push(this.GlobalOrLocal),e.push(this.PredefinedType),e}},MN=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new MN(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e}},wN=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.AppliedLoad=c,this.GlobalOrLocal=h,this.DestabilizingLoad=u,this.ProjectedOrTrue=d,this.PredefinedType=p}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++];return new wN(e,i,n,r,l,a,o,c,h,u,d,p,G,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedLoad),e.push(this.GlobalOrLocal),e.push(this.DestabilizingLoad),e.push(this.ProjectedOrTrue),e.push(this.PredefinedType),e}},HN=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Name=t}static FromTape(e,i,t){let s=0,n=t[s++];return new HN(e,i,n)}ToTape(){let e=[];return e.push(this.Name),e}},PN=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.PredefinedType=a,this.ActionType=o,this.ActionSource=c,this.Coefficient=h,this.Purpose=u,this.SelfWeightCoefficients=d}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++];return new PN(e,i,n,r,l,a,o,c,h,u,d,p,G)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.PredefinedType),e.push(this.ActionType),e.push(this.ActionSource),e.push(this.Coefficient),e.push(this.Purpose),e.push(this.SelfWeightCoefficients),e}},zN=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Name=t,this.Values=s,this.Locations=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new zN(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Values),e.push(this.Locations),e}},UN=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.PredefinedType=a,this.ActionType=o,this.ActionSource=c,this.Coefficient=h,this.Purpose=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new UN(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.PredefinedType),e.push(this.ActionType),e.push(this.ActionSource),e.push(this.Coefficient),e.push(this.Purpose),e}},kN=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.Name=t,this.LinearForceX=s,this.LinearForceY=n,this.LinearForceZ=r,this.LinearMomentX=l,this.LinearMomentY=a,this.LinearMomentZ=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new kN(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.Name),e.push(this.LinearForceX),e.push(this.LinearForceY),e.push(this.LinearForceZ),e.push(this.LinearMomentX),e.push(this.LinearMomentY),e.push(this.LinearMomentZ),e}},DN=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Name=t}static FromTape(e,i,t){let s=0,n=t[s++];return new DN(e,i,n)}ToTape(){let e=[];return e.push(this.Name),e}},JN=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.PlanarForceX=s,this.PlanarForceY=n,this.PlanarForceZ=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new JN(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.PlanarForceX),e.push(this.PlanarForceY),e.push(this.PlanarForceZ),e}},KN=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.Name=t,this.DisplacementX=s,this.DisplacementY=n,this.DisplacementZ=r,this.RotationalDisplacementRX=l,this.RotationalDisplacementRY=a,this.RotationalDisplacementRZ=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new KN(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.Name),e.push(this.DisplacementX),e.push(this.DisplacementY),e.push(this.DisplacementZ),e.push(this.RotationalDisplacementRX),e.push(this.RotationalDisplacementRY),e.push(this.RotationalDisplacementRZ),e}},ON=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.Name=t,this.DisplacementX=s,this.DisplacementY=n,this.DisplacementZ=r,this.RotationalDisplacementRX=l,this.RotationalDisplacementRY=a,this.RotationalDisplacementRZ=o,this.Distortion=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new ON(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.Name),e.push(this.DisplacementX),e.push(this.DisplacementY),e.push(this.DisplacementZ),e.push(this.RotationalDisplacementRX),e.push(this.RotationalDisplacementRY),e.push(this.RotationalDisplacementRZ),e.push(this.Distortion),e}},AN=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.Name=t,this.ForceX=s,this.ForceY=n,this.ForceZ=r,this.MomentX=l,this.MomentY=a,this.MomentZ=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new AN(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.Name),e.push(this.ForceX),e.push(this.ForceY),e.push(this.ForceZ),e.push(this.MomentX),e.push(this.MomentY),e.push(this.MomentZ),e}},BN=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.Name=t,this.ForceX=s,this.ForceY=n,this.ForceZ=r,this.MomentX=l,this.MomentY=a,this.MomentZ=o,this.WarpingMoment=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new BN(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.Name),e.push(this.ForceX),e.push(this.ForceY),e.push(this.ForceZ),e.push(this.MomentX),e.push(this.MomentY),e.push(this.MomentZ),e.push(this.WarpingMoment),e}},jN=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Name=t}static FromTape(e,i,t){let s=0,n=t[s++];return new jN(e,i,n)}ToTape(){let e=[];return e.push(this.Name),e}},QN=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.DeltaTConstant=s,this.DeltaTY=n,this.DeltaTZ=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new QN(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.DeltaTConstant),e.push(this.DeltaTY),e.push(this.DeltaTZ),e}},_N=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new _N(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e}},qN=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.AppliedLoad=c,this.GlobalOrLocal=h,this.DestabilizingLoad=u,this.ProjectedOrTrue=d,this.PredefinedType=p}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++];return new qN(e,i,n,r,l,a,o,c,h,u,d,p,G,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedLoad),e.push(this.GlobalOrLocal),e.push(this.DestabilizingLoad),e.push(this.ProjectedOrTrue),e.push(this.PredefinedType),e}},$N=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.AppliedLoad=c,this.GlobalOrLocal=h,this.DestabilizingLoad=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new $N(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedLoad),e.push(this.GlobalOrLocal),e.push(this.DestabilizingLoad),e}},ex=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.AppliedCondition=c,this.ConditionCoordinateSystem=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new ex(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedCondition),e.push(this.ConditionCoordinateSystem),e}},tx=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.AppliedLoad=c,this.GlobalOrLocal=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new tx(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedLoad),e.push(this.GlobalOrLocal),e}},sx=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.AppliedLoad=c,this.GlobalOrLocal=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new sx(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedLoad),e.push(this.GlobalOrLocal),e}},ix=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.TheoryType=a,this.ResultForLoadGroup=o,this.IsLinear=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new ix(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.TheoryType),e.push(this.ResultForLoadGroup),e.push(this.IsLinear),e}},nx=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.AppliedLoad=c,this.GlobalOrLocal=h,this.DestabilizingLoad=u,this.ProjectedOrTrue=d,this.PredefinedType=p}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++];return new nx(e,i,n,r,l,a,o,c,h,u,d,p,G,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedLoad),e.push(this.GlobalOrLocal),e.push(this.DestabilizingLoad),e.push(this.ProjectedOrTrue),e.push(this.PredefinedType),e}},rx=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.AppliedCondition=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new rx(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedCondition),e}},lx=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.PredefinedType=c,this.Thickness=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new lx(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.PredefinedType),e.push(this.Thickness),e}},ax=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.PredefinedType=c,this.Thickness=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new ax(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.PredefinedType),e.push(this.Thickness),e}},ox=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.AppliedLoad=c,this.GlobalOrLocal=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new ox(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedLoad),e.push(this.GlobalOrLocal),e.push(this.PredefinedType),e}},cx=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.ContextOfItems=t,this.RepresentationIdentifier=s,this.RepresentationType=n,this.Items=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new cx(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.ContextOfItems),e.push(this.RepresentationIdentifier),e.push(this.RepresentationType),e.push(this.Items),e}},hx=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Item=t,this.Styles=s,this.Name=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new hx(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.Item),e.push(this.Styles),e.push(this.Name),e}},ux=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.ContextOfItems=t,this.RepresentationIdentifier=s,this.RepresentationType=n,this.Items=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new ux(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.ContextOfItems),e.push(this.RepresentationIdentifier),e.push(this.RepresentationType),e.push(this.Items),e}},dx=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.Identification=a,this.LongDescription=o,this.Usage=c,this.BaseCosts=h,this.BaseQuantity=u,this.PredefinedType=d}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++];return new dx(e,i,n,r,l,a,o,c,h,u,d,p,G)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.LongDescription),e.push(this.Usage),e.push(this.BaseCosts),e.push(this.BaseQuantity),e.push(this.PredefinedType),e}},px=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.Identification=o,this.LongDescription=c,this.ResourceType=h,this.BaseCosts=u,this.BaseQuantity=d,this.PredefinedType=p}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++];return new px(e,i,n,r,l,a,o,c,h,u,d,p,G,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.Identification),e.push(this.LongDescription),e.push(this.ResourceType),e.push(this.BaseCosts),e.push(this.BaseQuantity),e.push(this.PredefinedType),e}},mx=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.EdgeStart=t,this.EdgeEnd=s,this.ParentEdge=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new mx(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.EdgeStart),e.push(this.EdgeEnd),e.push(this.ParentEdge),e}},bx=class{constructor(e,i){this.expressID=e,this.type=i}static FromTape(e,i,t){return new bx(e,i)}ToTape(){return[]}},yx=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Curve3D=t,this.AssociatedGeometry=s,this.MasterRepresentation=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new yx(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.Curve3D),e.push(this.AssociatedGeometry),e.push(this.MasterRepresentation),e}},Zx=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.SweptArea=t,this.Position=s,this.Directrix=n,this.StartParam=r,this.EndParam=l,this.ReferenceSurface=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new Zx(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.SweptArea),e.push(this.Position),e.push(this.Directrix),e.push(this.StartParam),e.push(this.EndParam),e.push(this.ReferenceSurface),e}},Gx=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new Gx(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},gx=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.SweptCurve=t,this.Position=s,this.ExtrudedDirection=n,this.Depth=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new gx(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.SweptCurve),e.push(this.Position),e.push(this.ExtrudedDirection),e.push(this.Depth),e}},Tx=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.SweptCurve=t,this.Position=s,this.AxisPosition=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new Tx(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.SweptCurve),e.push(this.Position),e.push(this.AxisPosition),e}},Ix=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.SurfaceReinforcement1=s,this.SurfaceReinforcement2=n,this.ShearReinforcement=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new Ix(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.SurfaceReinforcement1),e.push(this.SurfaceReinforcement2),e.push(this.ShearReinforcement),e}},Rx=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Name=t,this.Side=s,this.Styles=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new Rx(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Side),e.push(this.Styles),e}},fx=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.DiffuseTransmissionColour=t,this.DiffuseReflectionColour=s,this.TransmissionColour=n,this.ReflectanceColour=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new fx(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.DiffuseTransmissionColour),e.push(this.DiffuseReflectionColour),e.push(this.TransmissionColour),e.push(this.ReflectanceColour),e}},Xx=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.RefractionIndex=t,this.DispersionFactor=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new Xx(e,i,n,r)}ToTape(){let e=[];return e.push(this.RefractionIndex),e.push(this.DispersionFactor),e}},Wx=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.SurfaceColour=t,this.Transparency=s,this.DiffuseColour=n,this.TransmissionColour=r,this.DiffuseTransmissionColour=l,this.ReflectionColour=a,this.SpecularColour=o,this.SpecularHighlight=c,this.ReflectanceMethod=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new Wx(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.SurfaceColour),e.push(this.Transparency),e.push(this.DiffuseColour),e.push(this.TransmissionColour),e.push(this.DiffuseTransmissionColour),e.push(this.ReflectionColour),e.push(this.SpecularColour),e.push(this.SpecularHighlight),e.push(this.ReflectanceMethod),e}},Sx=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.SurfaceColour=t,this.Transparency=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new Sx(e,i,n,r)}ToTape(){let e=[];return e.push(this.SurfaceColour),e.push(this.Transparency),e}},Cx=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Textures=t}static FromTape(e,i,t){let s=0,n=t[s++];return new Cx(e,i,n)}ToTape(){let e=[];return e.push(this.Textures),e}},Vx=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.RepeatS=t,this.RepeatT=s,this.Mode=n,this.TextureTransform=r,this.Parameter=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new Vx(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.RepeatS),e.push(this.RepeatT),e.push(this.Mode),e.push(this.TextureTransform),e.push(this.Parameter),e}},Lx=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.SweptArea=t,this.Position=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new Lx(e,i,n,r)}ToTape(){let e=[];return e.push(this.SweptArea),e.push(this.Position),e}},Fx=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.Directrix=t,this.Radius=s,this.InnerRadius=n,this.StartParam=r,this.EndParam=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new Fx(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.Directrix),e.push(this.Radius),e.push(this.InnerRadius),e.push(this.StartParam),e.push(this.EndParam),e}},Nx=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.Directrix=t,this.Radius=s,this.InnerRadius=n,this.StartParam=r,this.EndParam=l,this.FilletRadius=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new Nx(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.Directrix),e.push(this.Radius),e.push(this.InnerRadius),e.push(this.StartParam),e.push(this.EndParam),e.push(this.FilletRadius),e}},xx=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.SweptCurve=t,this.Position=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new xx(e,i,n,r)}ToTape(){let e=[];return e.push(this.SweptCurve),e.push(this.Position),e}},vx=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new vx(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},Ex=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new Ex(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},Yx=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new Yx(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e}},Mx=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new Mx(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},wx=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new wx(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},Hx=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.Position=n,this.Depth=r,this.FlangeWidth=l,this.WebThickness=a,this.FlangeThickness=o,this.FilletRadius=c,this.FlangeEdgeRadius=h,this.WebEdgeRadius=u,this.WebSlope=d,this.FlangeSlope=p}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++];return new Hx(e,i,n,r,l,a,o,c,h,u,d,p,G,g)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.Depth),e.push(this.FlangeWidth),e.push(this.WebThickness),e.push(this.FlangeThickness),e.push(this.FilletRadius),e.push(this.FlangeEdgeRadius),e.push(this.WebEdgeRadius),e.push(this.WebSlope),e.push(this.FlangeSlope),e}},Px=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Name=t,this.Rows=s,this.Columns=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new Px(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Rows),e.push(this.Columns),e}},zx=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.Identifier=t,this.Name=s,this.Description=n,this.Unit=r,this.ReferencePath=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new zx(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.Identifier),e.push(this.Name),e.push(this.Description),e.push(this.Unit),e.push(this.ReferencePath),e}},Ux=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.RowCells=t,this.IsHeading=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new Ux(e,i,n,r)}ToTape(){let e=[];return e.push(this.RowCells),e.push(this.IsHeading),e}},kx=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new kx(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},Dx=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new Dx(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},Jx=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p,G){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.Identification=a,this.LongDescription=o,this.Status=c,this.WorkMethod=h,this.IsMilestone=u,this.Priority=d,this.TaskTime=p,this.PredefinedType=G}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++],I=t[s++];return new Jx(e,i,n,r,l,a,o,c,h,u,d,p,G,g,I)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.LongDescription),e.push(this.Status),e.push(this.WorkMethod),e.push(this.IsMilestone),e.push(this.Priority),e.push(this.TaskTime),e.push(this.PredefinedType),e}},Kx=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p,G,g,I,X,S,x,v,L){this.expressID=e,this.type=i,this.Name=t,this.DataOrigin=s,this.UserDefinedDataOrigin=n,this.DurationType=r,this.ScheduleDuration=l,this.ScheduleStart=a,this.ScheduleFinish=o,this.EarlyStart=c,this.EarlyFinish=h,this.LateStart=u,this.LateFinish=d,this.FreeFloat=p,this.TotalFloat=G,this.IsCritical=g,this.StatusTime=I,this.ActualDuration=X,this.ActualStart=S,this.ActualFinish=x,this.RemainingTime=v,this.Completion=L}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++],I=t[s++],X=t[s++],S=t[s++],x=t[s++],v=t[s++],L=t[s++],M=t[s++],E=t[s++];return new Kx(e,i,n,r,l,a,o,c,h,u,d,p,G,g,I,X,S,x,v,L,M,E)}ToTape(){let e=[];return e.push(this.Name),e.push(this.DataOrigin),e.push(this.UserDefinedDataOrigin),e.push(this.DurationType),e.push(this.ScheduleDuration),e.push(this.ScheduleStart),e.push(this.ScheduleFinish),e.push(this.EarlyStart),e.push(this.EarlyFinish),e.push(this.LateStart),e.push(this.LateFinish),e.push(this.FreeFloat),e.push(this.TotalFloat),e.push(this.IsCritical),e.push(this.StatusTime),e.push(this.ActualDuration),e.push(this.ActualStart),e.push(this.ActualFinish),e.push(this.RemainingTime),e.push(this.Completion),e}},Ox=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p,G,g,I,X,S,x,v,L,M){this.expressID=e,this.type=i,this.Name=t,this.DataOrigin=s,this.UserDefinedDataOrigin=n,this.DurationType=r,this.ScheduleDuration=l,this.ScheduleStart=a,this.ScheduleFinish=o,this.EarlyStart=c,this.EarlyFinish=h,this.LateStart=u,this.LateFinish=d,this.FreeFloat=p,this.TotalFloat=G,this.IsCritical=g,this.StatusTime=I,this.ActualDuration=X,this.ActualStart=S,this.ActualFinish=x,this.RemainingTime=v,this.Completion=L,this.Recurrence=M}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++],I=t[s++],X=t[s++],S=t[s++],x=t[s++],v=t[s++],L=t[s++],M=t[s++],E=t[s++],K=t[s++];return new Ox(e,i,n,r,l,a,o,c,h,u,d,p,G,g,I,X,S,x,v,L,M,E,K)}ToTape(){let e=[];return e.push(this.Name),e.push(this.DataOrigin),e.push(this.UserDefinedDataOrigin),e.push(this.DurationType),e.push(this.ScheduleDuration),e.push(this.ScheduleStart),e.push(this.ScheduleFinish),e.push(this.EarlyStart),e.push(this.EarlyFinish),e.push(this.LateStart),e.push(this.LateFinish),e.push(this.FreeFloat),e.push(this.TotalFloat),e.push(this.IsCritical),e.push(this.StatusTime),e.push(this.ActualDuration),e.push(this.ActualStart),e.push(this.ActualFinish),e.push(this.RemainingTime),e.push(this.Completion),e.push(this.Recurrence),e}},Ax=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.Identification=o,this.LongDescription=c,this.ProcessType=h,this.PredefinedType=u,this.WorkMethod=d}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++];return new Ax(e,i,n,r,l,a,o,c,h,u,d,p,G)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.Identification),e.push(this.LongDescription),e.push(this.ProcessType),e.push(this.PredefinedType),e.push(this.WorkMethod),e}},Bx=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.Purpose=t,this.Description=s,this.UserDefinedPurpose=n,this.TelephoneNumbers=r,this.FacsimileNumbers=l,this.PagerNumber=a,this.ElectronicMailAddresses=o,this.WWWHomePageURL=c,this.MessagingIDs=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new Bx(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.Purpose),e.push(this.Description),e.push(this.UserDefinedPurpose),e.push(this.TelephoneNumbers),e.push(this.FacsimileNumbers),e.push(this.PagerNumber),e.push(this.ElectronicMailAddresses),e.push(this.WWWHomePageURL),e.push(this.MessagingIDs),e}},jx=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p,G,g,I,X,S){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.SteelGrade=h,this.PredefinedType=u,this.NominalDiameter=d,this.CrossSectionArea=p,this.TensionForce=G,this.PreStress=g,this.FrictionCoefficient=I,this.AnchorageSlip=X,this.MinCurvatureRadius=S}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++],I=t[s++],X=t[s++],S=t[s++],x=t[s++],v=t[s++];return new jx(e,i,n,r,l,a,o,c,h,u,d,p,G,g,I,X,S,x,v)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.SteelGrade),e.push(this.PredefinedType),e.push(this.NominalDiameter),e.push(this.CrossSectionArea),e.push(this.TensionForce),e.push(this.PreStress),e.push(this.FrictionCoefficient),e.push(this.AnchorageSlip),e.push(this.MinCurvatureRadius),e}},Qx=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.SteelGrade=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new Qx(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.SteelGrade),e.push(this.PredefinedType),e}},_x=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new _x(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},qx=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.SteelGrade=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new qx(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.SteelGrade),e.push(this.PredefinedType),e}},$x=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new $x(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},e9=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p,G){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u,this.NominalDiameter=d,this.CrossSectionArea=p,this.SheathDiameter=G}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++],I=t[s++];return new e9(e,i,n,r,l,a,o,c,h,u,d,p,G,g,I)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e.push(this.NominalDiameter),e.push(this.CrossSectionArea),e.push(this.SheathDiameter),e}},t9=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Coordinates=t}static FromTape(e,i,t){let s=0,n=t[s++];return new t9(e,i,n)}ToTape(){let e=[];return e.push(this.Coordinates),e}},s9=class{constructor(e,i){this.expressID=e,this.type=i}static FromTape(e,i,t){return new s9(e,i)}ToTape(){return[]}},i9=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Literal=t,this.Placement=s,this.Path=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new i9(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.Literal),e.push(this.Placement),e.push(this.Path),e}},n9=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.Literal=t,this.Placement=s,this.Path=n,this.Extent=r,this.BoxAlignment=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new n9(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.Literal),e.push(this.Placement),e.push(this.Path),e.push(this.Extent),e.push(this.BoxAlignment),e}},r9=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.Name=t,this.TextCharacterAppearance=s,this.TextStyle=n,this.TextFontStyle=r,this.ModelOrDraughting=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new r9(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.Name),e.push(this.TextCharacterAppearance),e.push(this.TextStyle),e.push(this.TextFontStyle),e.push(this.ModelOrDraughting),e}},l9=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.Name=t,this.FontFamily=s,this.FontStyle=n,this.FontVariant=r,this.FontWeight=l,this.FontSize=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new l9(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.Name),e.push(this.FontFamily),e.push(this.FontStyle),e.push(this.FontVariant),e.push(this.FontWeight),e.push(this.FontSize),e}},a9=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Colour=t,this.BackgroundColour=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new a9(e,i,n,r)}ToTape(){let e=[];return e.push(this.Colour),e.push(this.BackgroundColour),e}},o9=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.TextIndent=t,this.TextAlign=s,this.TextDecoration=n,this.LetterSpacing=r,this.WordSpacing=l,this.TextTransform=a,this.LineHeight=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new o9(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.TextIndent),e.push(this.TextAlign),e.push(this.TextDecoration),e.push(this.LetterSpacing),e.push(this.WordSpacing),e.push(this.TextTransform),e.push(this.LineHeight),e}},c9=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Maps=t}static FromTape(e,i,t){let s=0,n=t[s++];return new c9(e,i,n)}ToTape(){let e=[];return e.push(this.Maps),e}},h9=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Maps=t,this.Mode=s,this.Parameter=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new h9(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.Maps),e.push(this.Mode),e.push(this.Parameter),e}},u9=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Maps=t,this.Vertices=s,this.MappedTo=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new u9(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.Maps),e.push(this.Vertices),e.push(this.MappedTo),e}},d9=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Coordinates=t}static FromTape(e,i,t){let s=0,n=t[s++];return new d9(e,i,n)}ToTape(){let e=[];return e.push(this.Coordinates),e}},p9=class{constructor(e,i,t){this.expressID=e,this.type=i,this.TexCoordsList=t}static FromTape(e,i,t){let s=0,n=t[s++];return new p9(e,i,n)}ToTape(){let e=[];return e.push(this.TexCoordsList),e}},m9=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.StartTime=t,this.EndTime=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new m9(e,i,n,r)}ToTape(){let e=[];return e.push(this.StartTime),e.push(this.EndTime),e}},b9=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.StartTime=n,this.EndTime=r,this.TimeSeriesDataType=l,this.DataOrigin=a,this.UserDefinedDataOrigin=o,this.Unit=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new b9(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.StartTime),e.push(this.EndTime),e.push(this.TimeSeriesDataType),e.push(this.DataOrigin),e.push(this.UserDefinedDataOrigin),e.push(this.Unit),e}},y9=class{constructor(e,i,t){this.expressID=e,this.type=i,this.ListValues=t}static FromTape(e,i,t){let s=0,n=t[s++];return new y9(e,i,n)}ToTape(){let e=[];return e.push(this.ListValues),e}},Z9=class{constructor(e,i){this.expressID=e,this.type=i}static FromTape(e,i,t){return new Z9(e,i)}ToTape(){return[]}},G9=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.ContextOfItems=t,this.RepresentationIdentifier=s,this.RepresentationType=n,this.Items=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++];return new G9(e,i,n,r,l,a)}ToTape(){let e=[];return e.push(this.ContextOfItems),e.push(this.RepresentationIdentifier),e.push(this.RepresentationType),e.push(this.Items),e}},g9=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Position=t,this.MajorRadius=s,this.MinorRadius=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++];return new g9(e,i,n,r,l)}ToTape(){let e=[];return e.push(this.Position),e.push(this.MajorRadius),e.push(this.MinorRadius),e}},T9=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new T9(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},I9=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new I9(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},R9=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.StartPoint=t,this.StartDirection=s,this.SegmentLength=n,this.StartRadius=r,this.EndRadius=l,this.IsStartRadiusCCW=a,this.IsEndRadiusCCW=o,this.TransitionCurveType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new R9(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.StartPoint),e.push(this.StartDirection),e.push(this.SegmentLength),e.push(this.StartRadius),e.push(this.EndRadius),e.push(this.IsStartRadiusCCW),e.push(this.IsEndRadiusCCW),e.push(this.TransitionCurveType),e}},f9=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new f9(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},X9=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new X9(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},W9=class{constructor(e,i,t,s,n,r,l,a,o){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.Position=n,this.BottomXDim=r,this.TopXDim=l,this.YDim=a,this.TopXOffset=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++];return new W9(e,i,n,r,l,a,o,c,h)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.BottomXDim),e.push(this.TopXDim),e.push(this.YDim),e.push(this.TopXOffset),e}},S9=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.Coordinates=t,this.Normals=s,this.Closed=n,this.CoordIndex=r,this.PnIndex=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new S9(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.Coordinates),e.push(this.Normals),e.push(this.Closed),e.push(this.CoordIndex),e.push(this.PnIndex),e}},C9=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.Coordinates=t,this.Normals=s,this.Closed=n,this.CoordIndex=r,this.PnIndex=l,this.Flags=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new C9(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.Coordinates),e.push(this.Normals),e.push(this.Closed),e.push(this.CoordIndex),e.push(this.PnIndex),e.push(this.Flags),e}},V9=class{constructor(e,i,t,s,n,r,l){this.expressID=e,this.type=i,this.BasisCurve=t,this.Trim1=s,this.Trim2=n,this.SenseAgreement=r,this.MasterRepresentation=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++];return new V9(e,i,n,r,l,a,o)}ToTape(){let e=[];return e.push(this.BasisCurve),e.push(this.Trim1),e.push(this.Trim2),e.push(this.SenseAgreement),e.push(this.MasterRepresentation),e}},L9=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new L9(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},F9=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new F9(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},N9=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new N9(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e}},x9=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.Identification=o,this.LongDescription=c,this.ProcessType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new x9(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.Identification),e.push(this.LongDescription),e.push(this.ProcessType),e}},v9=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new v9(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e}},E9=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.Identification=o,this.LongDescription=c,this.ResourceType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new E9(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.Identification),e.push(this.LongDescription),e.push(this.ResourceType),e}},Y9=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.Position=n,this.Depth=r,this.FlangeWidth=l,this.WebThickness=a,this.FlangeThickness=o,this.FilletRadius=c,this.EdgeRadius=h,this.FlangeSlope=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new Y9(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.Depth),e.push(this.FlangeWidth),e.push(this.WebThickness),e.push(this.FlangeThickness),e.push(this.FilletRadius),e.push(this.EdgeRadius),e.push(this.FlangeSlope),e}},M9=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Units=t}static FromTape(e,i,t){let s=0,n=t[s++];return new M9(e,i,n)}ToTape(){let e=[];return e.push(this.Units),e}},w9=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new w9(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},H9=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new H9(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},P9=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new P9(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},z9=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new z9(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},U9=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new U9(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},k9=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new k9(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},D9=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Orientation=t,this.Magnitude=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new D9(e,i,n,r)}ToTape(){let e=[];return e.push(this.Orientation),e.push(this.Magnitude),e}},J9=class{constructor(e,i){this.expressID=e,this.type=i}static FromTape(e,i,t){return new J9(e,i)}ToTape(){return[]}},K9=class{constructor(e,i,t){this.expressID=e,this.type=i,this.LoopVertex=t}static FromTape(e,i,t){let s=0,n=t[s++];return new K9(e,i,n)}ToTape(){let e=[];return e.push(this.LoopVertex),e}},O9=class{constructor(e,i,t){this.expressID=e,this.type=i,this.VertexGeometry=t}static FromTape(e,i,t){let s=0,n=t[s++];return new O9(e,i,n)}ToTape(){let e=[];return e.push(this.VertexGeometry),e}},A9=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new A9(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},B9=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new B9(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},j9=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new j9(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},Q9=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new Q9(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},_9=class{constructor(e,i,t,s,n,r,l,a,o,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++];return new _9(e,i,n,r,l,a,o,c,h,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},q9=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.IntersectingAxes=t,this.OffsetDistances=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new q9(e,i,n,r)}ToTape(){let e=[];return e.push(this.IntersectingAxes),e.push(this.OffsetDistances),e}},$9=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new $9(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},ev=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new ev(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},tv=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new tv(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},sv=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new sv(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},iv=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new iv(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},nv=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new nv(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},rv=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++];return new rv(e,i,n,r,l,a,o,c,h,u,d,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},lv=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p,G){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.OverallHeight=h,this.OverallWidth=u,this.PredefinedType=d,this.PartitioningType=p,this.UserDefinedPartitioningType=G}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++],I=t[s++];return new lv(e,i,n,r,l,a,o,c,h,u,d,p,G,g,I)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.OverallHeight),e.push(this.OverallWidth),e.push(this.PredefinedType),e.push(this.PartitioningType),e.push(this.UserDefinedPartitioningType),e}},av=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p,G,g,I,X){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.LiningDepth=l,this.LiningThickness=a,this.TransomThickness=o,this.MullionThickness=c,this.FirstTransomOffset=h,this.SecondTransomOffset=u,this.FirstMullionOffset=d,this.SecondMullionOffset=p,this.ShapeAspectStyle=G,this.LiningOffset=g,this.LiningToPanelOffsetX=I,this.LiningToPanelOffsetY=X}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++],I=t[s++],X=t[s++],S=t[s++],x=t[s++];return new av(e,i,n,r,l,a,o,c,h,u,d,p,G,g,I,X,S,x)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.LiningDepth),e.push(this.LiningThickness),e.push(this.TransomThickness),e.push(this.MullionThickness),e.push(this.FirstTransomOffset),e.push(this.SecondTransomOffset),e.push(this.FirstMullionOffset),e.push(this.SecondMullionOffset),e.push(this.ShapeAspectStyle),e.push(this.LiningOffset),e.push(this.LiningToPanelOffsetX),e.push(this.LiningToPanelOffsetY),e}},ov=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.OperationType=l,this.PanelPosition=a,this.FrameDepth=o,this.FrameThickness=c,this.ShapeAspectStyle=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new ov(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.OperationType),e.push(this.PanelPosition),e.push(this.FrameDepth),e.push(this.FrameThickness),e.push(this.ShapeAspectStyle),e}},cv=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p,G){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.ObjectPlacement=a,this.Representation=o,this.Tag=c,this.OverallHeight=h,this.OverallWidth=u,this.PredefinedType=d,this.PartitioningType=p,this.UserDefinedPartitioningType=G}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++],I=t[s++];return new cv(e,i,n,r,l,a,o,c,h,u,d,p,G,g,I)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.OverallHeight),e.push(this.OverallWidth),e.push(this.PredefinedType),e.push(this.PartitioningType),e.push(this.UserDefinedPartitioningType),e}},hv=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ConstructionType=h,this.OperationType=u,this.ParameterTakesPrecedence=d,this.Sizeable=p}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++];return new hv(e,i,n,r,l,a,o,c,h,u,d,p,G,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ConstructionType),e.push(this.OperationType),e.push(this.ParameterTakesPrecedence),e.push(this.Sizeable),e}},uv=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p,G){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=l,this.HasPropertySets=a,this.RepresentationMaps=o,this.Tag=c,this.ElementType=h,this.PredefinedType=u,this.PartitioningType=d,this.ParameterTakesPrecedence=p,this.UserDefinedPartitioningType=G}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++],I=t[s++];return new uv(e,i,n,r,l,a,o,c,h,u,d,p,G,g,I)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e.push(this.PartitioningType),e.push(this.ParameterTakesPrecedence),e.push(this.UserDefinedPartitioningType),e}},dv=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.Identification=a,this.WorkingTimes=o,this.ExceptionTimes=c,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new dv(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.WorkingTimes),e.push(this.ExceptionTimes),e.push(this.PredefinedType),e}},pv=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p,G){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.Identification=a,this.CreationDate=o,this.Creators=c,this.Purpose=h,this.Duration=u,this.TotalFloat=d,this.StartTime=p,this.FinishTime=G}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++],I=t[s++];return new pv(e,i,n,r,l,a,o,c,h,u,d,p,G,g,I)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.CreationDate),e.push(this.Creators),e.push(this.Purpose),e.push(this.Duration),e.push(this.TotalFloat),e.push(this.StartTime),e.push(this.FinishTime),e}},mv=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p,G,g){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.Identification=a,this.CreationDate=o,this.Creators=c,this.Purpose=h,this.Duration=u,this.TotalFloat=d,this.StartTime=p,this.FinishTime=G,this.PredefinedType=g}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++],I=t[s++],X=t[s++];return new mv(e,i,n,r,l,a,o,c,h,u,d,p,G,g,I,X)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.CreationDate),e.push(this.Creators),e.push(this.Purpose),e.push(this.Duration),e.push(this.TotalFloat),e.push(this.StartTime),e.push(this.FinishTime),e.push(this.PredefinedType),e}},bv=class{constructor(e,i,t,s,n,r,l,a,o,c,h,u,d,p,G,g){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.Identification=a,this.CreationDate=o,this.Creators=c,this.Purpose=h,this.Duration=u,this.TotalFloat=d,this.StartTime=p,this.FinishTime=G,this.PredefinedType=g}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++],p=t[s++],G=t[s++],g=t[s++],I=t[s++],X=t[s++];return new bv(e,i,n,r,l,a,o,c,h,u,d,p,G,g,I,X)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.CreationDate),e.push(this.Creators),e.push(this.Purpose),e.push(this.Duration),e.push(this.TotalFloat),e.push(this.StartTime),e.push(this.FinishTime),e.push(this.PredefinedType),e}},yv=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.Name=t,this.DataOrigin=s,this.UserDefinedDataOrigin=n,this.RecurrencePattern=r,this.Start=l,this.Finish=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new yv(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.Name),e.push(this.DataOrigin),e.push(this.UserDefinedDataOrigin),e.push(this.RecurrencePattern),e.push(this.Start),e.push(this.Finish),e}},Zv=class{constructor(e,i,t,s,n,r,l,a,o,c,h){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.Position=n,this.Depth=r,this.FlangeWidth=l,this.WebThickness=a,this.FlangeThickness=o,this.FilletRadius=c,this.EdgeRadius=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++],h=t[s++],u=t[s++],d=t[s++];return new Zv(e,i,n,r,l,a,o,c,h,u,d)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.Depth),e.push(this.FlangeWidth),e.push(this.WebThickness),e.push(this.FlangeThickness),e.push(this.FilletRadius),e.push(this.EdgeRadius),e}},Gv=class{constructor(e,i,t,s,n,r,l,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=l,this.LongName=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],l=t[s++],a=t[s++],o=t[s++],c=t[s++];return new Gv(e,i,n,r,l,a,o,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.LongName),e}},gv={103090709:"IFCPROJECT",4097777520:"IFCSITE",4031249490:"IFCBUILDING",3124254112:"IFCBUILDINGSTOREY",3856911033:"IFCSPACE",1674181508:"IFCANNOTATION",25142252:"IFCCONTROLLER",32344328:"IFCBOILER",76236018:"IFCLAMP",90941305:"IFCPUMP",177149247:"IFCAIRTERMINALBOX",182646315:"IFCFLOWINSTRUMENT",263784265:"IFCFURNISHINGELEMENT",264262732:"IFCELECTRICGENERATOR",277319702:"IFCAUDIOVISUALAPPLIANCE",310824031:"IFCPIPEFITTING",331165859:"IFCSTAIR",342316401:"IFCDUCTFITTING",377706215:"IFCMECHANICALFASTENER",395920057:"IFCDOOR",402227799:"IFCELECTRICMOTOR",413509423:"IFCSYSTEMFURNITUREELEMENT",484807127:"IFCEVAPORATOR",486154966:"IFCWINDOWSTANDARDCASE",629592764:"IFCLIGHTFIXTURE",630975310:"IFCUNITARYCONTROLELEMENT",635142910:"IFCCABLECARRIERFITTING",639361253:"IFCCOIL",647756555:"IFCFASTENER",707683696:"IFCFLOWSTORAGEDEVICE",738039164:"IFCPROTECTIVEDEVICE",753842376:"IFCBEAM",812556717:"IFCTANK",819412036:"IFCFILTER",843113511:"IFCCOLUMN",862014818:"IFCELECTRICDISTRIBUTIONBOARD",900683007:"IFCFOOTING",905975707:"IFCCOLUMNSTANDARDCASE",926996030:"IFCVOIDINGFEATURE",979691226:"IFCREINFORCINGBAR",987401354:"IFCFLOWSEGMENT",1003880860:"IFCELECTRICTIMECONTROL",1051757585:"IFCCABLEFITTING",1052013943:"IFCDISTRIBUTIONCHAMBERELEMENT",1062813311:"IFCDISTRIBUTIONCONTROLELEMENT",1073191201:"IFCMEMBER",1095909175:"IFCBUILDINGELEMENTPROXY",1156407060:"IFCPLATESTANDARDCASE",1162798199:"IFCSWITCHINGDEVICE",1329646415:"IFCSHADINGDEVICE",1335981549:"IFCDISCRETEACCESSORY",1360408905:"IFCDUCTSILENCER",1404847402:"IFCSTACKTERMINAL",1426591983:"IFCFIRESUPPRESSIONTERMINAL",1437502449:"IFCMEDICALDEVICE",1509553395:"IFCFURNITURE",1529196076:"IFCSLAB",1620046519:"IFCTRANSPORTELEMENT",1634111441:"IFCAIRTERMINAL",1658829314:"IFCENERGYCONVERSIONDEVICE",1677625105:"IFCCIVILELEMENT",1687234759:"IFCPILE",1904799276:"IFCELECTRICAPPLIANCE",1911478936:"IFCMEMBERSTANDARDCASE",1945004755:"IFCDISTRIBUTIONELEMENT",1973544240:"IFCCOVERING",1999602285:"IFCSPACEHEATER",2016517767:"IFCROOF",2056796094:"IFCAIRTOAIRHEATRECOVERY",2058353004:"IFCFLOWCONTROLLER",2068733104:"IFCHUMIDIFIER",2176052936:"IFCJUNCTIONBOX",2188021234:"IFCFLOWMETER",2223149337:"IFCFLOWTERMINAL",2262370178:"IFCRAILING",2272882330:"IFCCONDENSER",2295281155:"IFCPROTECTIVEDEVICETRIPPINGUNIT",2320036040:"IFCREINFORCINGMESH",2347447852:"IFCTENDONANCHOR",2391383451:"IFCVIBRATIONISOLATOR",2391406946:"IFCWALL",2474470126:"IFCMOTORCONNECTION",2769231204:"IFCVIRTUALELEMENT",2814081492:"IFCENGINE",2906023776:"IFCBEAMSTANDARDCASE",2938176219:"IFCBURNER",2979338954:"IFCBUILDINGELEMENTPART",3024970846:"IFCRAMP",3026737570:"IFCTUBEBUNDLE",3027962421:"IFCSLABSTANDARDCASE",3040386961:"IFCDISTRIBUTIONFLOWELEMENT",3053780830:"IFCSANITARYTERMINAL",3079942009:"IFCOPENINGSTANDARDCASE",3087945054:"IFCALARM",3101698114:"IFCSURFACEFEATURE",3127900445:"IFCSLABELEMENTEDCASE",3132237377:"IFCFLOWMOVINGDEVICE",3171933400:"IFCPLATE",3221913625:"IFCCOMMUNICATIONSAPPLIANCE",3242481149:"IFCDOORSTANDARDCASE",3283111854:"IFCRAMPFLIGHT",3296154744:"IFCCHIMNEY",3304561284:"IFCWINDOW",3310460725:"IFCELECTRICFLOWSTORAGEDEVICE",3319311131:"IFCHEATEXCHANGER",3415622556:"IFCFAN",3420628829:"IFCSOLARDEVICE",3493046030:"IFCGEOGRAPHICELEMENT",3495092785:"IFCCURTAINWALL",3508470533:"IFCFLOWTREATMENTDEVICE",3512223829:"IFCWALLSTANDARDCASE",3518393246:"IFCDUCTSEGMENT",3571504051:"IFCCOMPRESSOR",3588315303:"IFCOPENINGELEMENT",3612865200:"IFCPIPESEGMENT",3640358203:"IFCCOOLINGTOWER",3651124850:"IFCPROJECTIONELEMENT",3694346114:"IFCOUTLET",3747195512:"IFCEVAPORATIVECOOLER",3758799889:"IFCCABLECARRIERSEGMENT",3824725483:"IFCTENDON",3825984169:"IFCTRANSFORMER",3902619387:"IFCCHILLER",4074379575:"IFCDAMPER",4086658281:"IFCSENSOR",4123344466:"IFCELEMENTASSEMBLY",4136498852:"IFCCOOLEDBEAM",4156078855:"IFCWALLELEMENTEDCASE",4175244083:"IFCINTERCEPTOR",4207607924:"IFCVALVE",4217484030:"IFCCABLESEGMENT",4237592921:"IFCWASTETERMINAL",4252922144:"IFCSTAIRFLIGHT",4278956645:"IFCFLOWFITTING",4288193352:"IFCACTUATOR",4292641817:"IFCUNITARYEQUIPMENT",3009204131:"IFCGRID"},G6={3821786052:"IFCACTIONREQUEST",2296667514:"IFCACTOR",3630933823:"IFCACTORROLE",4288193352:"IFCACTUATOR",2874132201:"IFCACTUATORTYPE",618182010:"IFCADDRESS",1635779807:"IFCADVANCEDBREP",2603310189:"IFCADVANCEDBREPWITHVOIDS",3406155212:"IFCADVANCEDFACE",1634111441:"IFCAIRTERMINAL",177149247:"IFCAIRTERMINALBOX",1411407467:"IFCAIRTERMINALBOXTYPE",3352864051:"IFCAIRTERMINALTYPE",2056796094:"IFCAIRTOAIRHEATRECOVERY",1871374353:"IFCAIRTOAIRHEATRECOVERYTYPE",3087945054:"IFCALARM",3001207471:"IFCALARMTYPE",325726236:"IFCALIGNMENT",749761778:"IFCALIGNMENT2DHORIZONTAL",3199563722:"IFCALIGNMENT2DHORIZONTALSEGMENT",2483840362:"IFCALIGNMENT2DSEGMENT",3379348081:"IFCALIGNMENT2DVERSEGCIRCULARARC",3239324667:"IFCALIGNMENT2DVERSEGLINE",4263986512:"IFCALIGNMENT2DVERSEGPARABOLICARC",53199957:"IFCALIGNMENT2DVERTICAL",2029264950:"IFCALIGNMENT2DVERTICALSEGMENT",3512275521:"IFCALIGNMENTCURVE",1674181508:"IFCANNOTATION",669184980:"IFCANNOTATIONFILLAREA",639542469:"IFCAPPLICATION",411424972:"IFCAPPLIEDVALUE",130549933:"IFCAPPROVAL",3869604511:"IFCAPPROVALRELATIONSHIP",3798115385:"IFCARBITRARYCLOSEDPROFILEDEF",1310608509:"IFCARBITRARYOPENPROFILEDEF",2705031697:"IFCARBITRARYPROFILEDEFWITHVOIDS",3460190687:"IFCASSET",3207858831:"IFCASYMMETRICISHAPEPROFILEDEF",277319702:"IFCAUDIOVISUALAPPLIANCE",1532957894:"IFCAUDIOVISUALAPPLIANCETYPE",4261334040:"IFCAXIS1PLACEMENT",3125803723:"IFCAXIS2PLACEMENT2D",2740243338:"IFCAXIS2PLACEMENT3D",1967976161:"IFCBSPLINECURVE",2461110595:"IFCBSPLINECURVEWITHKNOTS",2887950389:"IFCBSPLINESURFACE",167062518:"IFCBSPLINESURFACEWITHKNOTS",753842376:"IFCBEAM",2906023776:"IFCBEAMSTANDARDCASE",819618141:"IFCBEAMTYPE",4196446775:"IFCBEARING",3649138523:"IFCBEARINGTYPE",616511568:"IFCBLOBTEXTURE",1334484129:"IFCBLOCK",32344328:"IFCBOILER",231477066:"IFCBOILERTYPE",3649129432:"IFCBOOLEANCLIPPINGRESULT",2736907675:"IFCBOOLEANRESULT",4037036970:"IFCBOUNDARYCONDITION",1136057603:"IFCBOUNDARYCURVE",1560379544:"IFCBOUNDARYEDGECONDITION",3367102660:"IFCBOUNDARYFACECONDITION",1387855156:"IFCBOUNDARYNODECONDITION",2069777674:"IFCBOUNDARYNODECONDITIONWARPING",1260505505:"IFCBOUNDEDCURVE",4182860854:"IFCBOUNDEDSURFACE",2581212453:"IFCBOUNDINGBOX",2713105998:"IFCBOXEDHALFSPACE",644574406:"IFCBRIDGE",963979645:"IFCBRIDGEPART",4031249490:"IFCBUILDING",3299480353:"IFCBUILDINGELEMENT",2979338954:"IFCBUILDINGELEMENTPART",39481116:"IFCBUILDINGELEMENTPARTTYPE",1095909175:"IFCBUILDINGELEMENTPROXY",1909888760:"IFCBUILDINGELEMENTPROXYTYPE",1950629157:"IFCBUILDINGELEMENTTYPE",3124254112:"IFCBUILDINGSTOREY",1177604601:"IFCBUILDINGSYSTEM",2938176219:"IFCBURNER",2188180465:"IFCBURNERTYPE",2898889636:"IFCCSHAPEPROFILEDEF",635142910:"IFCCABLECARRIERFITTING",395041908:"IFCCABLECARRIERFITTINGTYPE",3758799889:"IFCCABLECARRIERSEGMENT",3293546465:"IFCCABLECARRIERSEGMENTTYPE",1051757585:"IFCCABLEFITTING",2674252688:"IFCCABLEFITTINGTYPE",4217484030:"IFCCABLESEGMENT",1285652485:"IFCCABLESEGMENTTYPE",3999819293:"IFCCAISSONFOUNDATION",3203706013:"IFCCAISSONFOUNDATIONTYPE",1123145078:"IFCCARTESIANPOINT",574549367:"IFCCARTESIANPOINTLIST",1675464909:"IFCCARTESIANPOINTLIST2D",2059837836:"IFCCARTESIANPOINTLIST3D",59481748:"IFCCARTESIANTRANSFORMATIONOPERATOR",3749851601:"IFCCARTESIANTRANSFORMATIONOPERATOR2D",3486308946:"IFCCARTESIANTRANSFORMATIONOPERATOR2DNONUNIFORM",3331915920:"IFCCARTESIANTRANSFORMATIONOPERATOR3D",1416205885:"IFCCARTESIANTRANSFORMATIONOPERATOR3DNONUNIFORM",3150382593:"IFCCENTERLINEPROFILEDEF",3902619387:"IFCCHILLER",2951183804:"IFCCHILLERTYPE",3296154744:"IFCCHIMNEY",2197970202:"IFCCHIMNEYTYPE",2611217952:"IFCCIRCLE",2937912522:"IFCCIRCLEHOLLOWPROFILEDEF",1383045692:"IFCCIRCLEPROFILEDEF",1062206242:"IFCCIRCULARARCSEGMENT2D",1677625105:"IFCCIVILELEMENT",3893394355:"IFCCIVILELEMENTTYPE",747523909:"IFCCLASSIFICATION",647927063:"IFCCLASSIFICATIONREFERENCE",2205249479:"IFCCLOSEDSHELL",639361253:"IFCCOIL",2301859152:"IFCCOILTYPE",776857604:"IFCCOLOURRGB",3285139300:"IFCCOLOURRGBLIST",3264961684:"IFCCOLOURSPECIFICATION",843113511:"IFCCOLUMN",905975707:"IFCCOLUMNSTANDARDCASE",300633059:"IFCCOLUMNTYPE",3221913625:"IFCCOMMUNICATIONSAPPLIANCE",400855858:"IFCCOMMUNICATIONSAPPLIANCETYPE",2542286263:"IFCCOMPLEXPROPERTY",3875453745:"IFCCOMPLEXPROPERTYTEMPLATE",3732776249:"IFCCOMPOSITECURVE",15328376:"IFCCOMPOSITECURVEONSURFACE",2485617015:"IFCCOMPOSITECURVESEGMENT",1485152156:"IFCCOMPOSITEPROFILEDEF",3571504051:"IFCCOMPRESSOR",3850581409:"IFCCOMPRESSORTYPE",2272882330:"IFCCONDENSER",2816379211:"IFCCONDENSERTYPE",2510884976:"IFCCONIC",370225590:"IFCCONNECTEDFACESET",1981873012:"IFCCONNECTIONCURVEGEOMETRY",2859738748:"IFCCONNECTIONGEOMETRY",45288368:"IFCCONNECTIONPOINTECCENTRICITY",2614616156:"IFCCONNECTIONPOINTGEOMETRY",2732653382:"IFCCONNECTIONSURFACEGEOMETRY",775493141:"IFCCONNECTIONVOLUMEGEOMETRY",1959218052:"IFCCONSTRAINT",3898045240:"IFCCONSTRUCTIONEQUIPMENTRESOURCE",2185764099:"IFCCONSTRUCTIONEQUIPMENTRESOURCETYPE",1060000209:"IFCCONSTRUCTIONMATERIALRESOURCE",4105962743:"IFCCONSTRUCTIONMATERIALRESOURCETYPE",488727124:"IFCCONSTRUCTIONPRODUCTRESOURCE",1525564444:"IFCCONSTRUCTIONPRODUCTRESOURCETYPE",2559216714:"IFCCONSTRUCTIONRESOURCE",2574617495:"IFCCONSTRUCTIONRESOURCETYPE",3419103109:"IFCCONTEXT",3050246964:"IFCCONTEXTDEPENDENTUNIT",3293443760:"IFCCONTROL",25142252:"IFCCONTROLLER",578613899:"IFCCONTROLLERTYPE",2889183280:"IFCCONVERSIONBASEDUNIT",2713554722:"IFCCONVERSIONBASEDUNITWITHOFFSET",4136498852:"IFCCOOLEDBEAM",335055490:"IFCCOOLEDBEAMTYPE",3640358203:"IFCCOOLINGTOWER",2954562838:"IFCCOOLINGTOWERTYPE",1785450214:"IFCCOORDINATEOPERATION",1466758467:"IFCCOORDINATEREFERENCESYSTEM",3895139033:"IFCCOSTITEM",1419761937:"IFCCOSTSCHEDULE",602808272:"IFCCOSTVALUE",1973544240:"IFCCOVERING",1916426348:"IFCCOVERINGTYPE",3295246426:"IFCCREWRESOURCE",1815067380:"IFCCREWRESOURCETYPE",2506170314:"IFCCSGPRIMITIVE3D",2147822146:"IFCCSGSOLID",539742890:"IFCCURRENCYRELATIONSHIP",3495092785:"IFCCURTAINWALL",1457835157:"IFCCURTAINWALLTYPE",2601014836:"IFCCURVE",2827736869:"IFCCURVEBOUNDEDPLANE",2629017746:"IFCCURVEBOUNDEDSURFACE",1186437898:"IFCCURVESEGMENT2D",3800577675:"IFCCURVESTYLE",1105321065:"IFCCURVESTYLEFONT",2367409068:"IFCCURVESTYLEFONTANDSCALING",3510044353:"IFCCURVESTYLEFONTPATTERN",1213902940:"IFCCYLINDRICALSURFACE",4074379575:"IFCDAMPER",3961806047:"IFCDAMPERTYPE",3426335179:"IFCDEEPFOUNDATION",1306400036:"IFCDEEPFOUNDATIONTYPE",3632507154:"IFCDERIVEDPROFILEDEF",1765591967:"IFCDERIVEDUNIT",1045800335:"IFCDERIVEDUNITELEMENT",2949456006:"IFCDIMENSIONALEXPONENTS",32440307:"IFCDIRECTION",1335981549:"IFCDISCRETEACCESSORY",2635815018:"IFCDISCRETEACCESSORYTYPE",1945343521:"IFCDISTANCEEXPRESSION",1052013943:"IFCDISTRIBUTIONCHAMBERELEMENT",1599208980:"IFCDISTRIBUTIONCHAMBERELEMENTTYPE",562808652:"IFCDISTRIBUTIONCIRCUIT",1062813311:"IFCDISTRIBUTIONCONTROLELEMENT",2063403501:"IFCDISTRIBUTIONCONTROLELEMENTTYPE",1945004755:"IFCDISTRIBUTIONELEMENT",3256556792:"IFCDISTRIBUTIONELEMENTTYPE",3040386961:"IFCDISTRIBUTIONFLOWELEMENT",3849074793:"IFCDISTRIBUTIONFLOWELEMENTTYPE",3041715199:"IFCDISTRIBUTIONPORT",3205830791:"IFCDISTRIBUTIONSYSTEM",1154170062:"IFCDOCUMENTINFORMATION",770865208:"IFCDOCUMENTINFORMATIONRELATIONSHIP",3732053477:"IFCDOCUMENTREFERENCE",395920057:"IFCDOOR",2963535650:"IFCDOORLININGPROPERTIES",1714330368:"IFCDOORPANELPROPERTIES",3242481149:"IFCDOORSTANDARDCASE",526551008:"IFCDOORSTYLE",2323601079:"IFCDOORTYPE",445594917:"IFCDRAUGHTINGPREDEFINEDCOLOUR",4006246654:"IFCDRAUGHTINGPREDEFINEDCURVEFONT",342316401:"IFCDUCTFITTING",869906466:"IFCDUCTFITTINGTYPE",3518393246:"IFCDUCTSEGMENT",3760055223:"IFCDUCTSEGMENTTYPE",1360408905:"IFCDUCTSILENCER",2030761528:"IFCDUCTSILENCERTYPE",3900360178:"IFCEDGE",476780140:"IFCEDGECURVE",1472233963:"IFCEDGELOOP",1904799276:"IFCELECTRICAPPLIANCE",663422040:"IFCELECTRICAPPLIANCETYPE",862014818:"IFCELECTRICDISTRIBUTIONBOARD",2417008758:"IFCELECTRICDISTRIBUTIONBOARDTYPE",3310460725:"IFCELECTRICFLOWSTORAGEDEVICE",3277789161:"IFCELECTRICFLOWSTORAGEDEVICETYPE",264262732:"IFCELECTRICGENERATOR",1534661035:"IFCELECTRICGENERATORTYPE",402227799:"IFCELECTRICMOTOR",1217240411:"IFCELECTRICMOTORTYPE",1003880860:"IFCELECTRICTIMECONTROL",712377611:"IFCELECTRICTIMECONTROLTYPE",1758889154:"IFCELEMENT",4123344466:"IFCELEMENTASSEMBLY",2397081782:"IFCELEMENTASSEMBLYTYPE",1623761950:"IFCELEMENTCOMPONENT",2590856083:"IFCELEMENTCOMPONENTTYPE",1883228015:"IFCELEMENTQUANTITY",339256511:"IFCELEMENTTYPE",2777663545:"IFCELEMENTARYSURFACE",1704287377:"IFCELLIPSE",2835456948:"IFCELLIPSEPROFILEDEF",1658829314:"IFCENERGYCONVERSIONDEVICE",2107101300:"IFCENERGYCONVERSIONDEVICETYPE",2814081492:"IFCENGINE",132023988:"IFCENGINETYPE",3747195512:"IFCEVAPORATIVECOOLER",3174744832:"IFCEVAPORATIVECOOLERTYPE",484807127:"IFCEVAPORATOR",3390157468:"IFCEVAPORATORTYPE",4148101412:"IFCEVENT",211053100:"IFCEVENTTIME",4024345920:"IFCEVENTTYPE",297599258:"IFCEXTENDEDPROPERTIES",4294318154:"IFCEXTERNALINFORMATION",3200245327:"IFCEXTERNALREFERENCE",1437805879:"IFCEXTERNALREFERENCERELATIONSHIP",1209101575:"IFCEXTERNALSPATIALELEMENT",2853485674:"IFCEXTERNALSPATIALSTRUCTUREELEMENT",2242383968:"IFCEXTERNALLYDEFINEDHATCHSTYLE",1040185647:"IFCEXTERNALLYDEFINEDSURFACESTYLE",3548104201:"IFCEXTERNALLYDEFINEDTEXTFONT",477187591:"IFCEXTRUDEDAREASOLID",2804161546:"IFCEXTRUDEDAREASOLIDTAPERED",2556980723:"IFCFACE",2047409740:"IFCFACEBASEDSURFACEMODEL",1809719519:"IFCFACEBOUND",803316827:"IFCFACEOUTERBOUND",3008276851:"IFCFACESURFACE",807026263:"IFCFACETEDBREP",3737207727:"IFCFACETEDBREPWITHVOIDS",24185140:"IFCFACILITY",1310830890:"IFCFACILITYPART",4219587988:"IFCFAILURECONNECTIONCONDITION",3415622556:"IFCFAN",346874300:"IFCFANTYPE",647756555:"IFCFASTENER",2489546625:"IFCFASTENERTYPE",2827207264:"IFCFEATUREELEMENT",2143335405:"IFCFEATUREELEMENTADDITION",1287392070:"IFCFEATUREELEMENTSUBTRACTION",738692330:"IFCFILLAREASTYLE",374418227:"IFCFILLAREASTYLEHATCHING",315944413:"IFCFILLAREASTYLETILES",819412036:"IFCFILTER",1810631287:"IFCFILTERTYPE",1426591983:"IFCFIRESUPPRESSIONTERMINAL",4222183408:"IFCFIRESUPPRESSIONTERMINALTYPE",2652556860:"IFCFIXEDREFERENCESWEPTAREASOLID",2058353004:"IFCFLOWCONTROLLER",3907093117:"IFCFLOWCONTROLLERTYPE",4278956645:"IFCFLOWFITTING",3198132628:"IFCFLOWFITTINGTYPE",182646315:"IFCFLOWINSTRUMENT",4037862832:"IFCFLOWINSTRUMENTTYPE",2188021234:"IFCFLOWMETER",3815607619:"IFCFLOWMETERTYPE",3132237377:"IFCFLOWMOVINGDEVICE",1482959167:"IFCFLOWMOVINGDEVICETYPE",987401354:"IFCFLOWSEGMENT",1834744321:"IFCFLOWSEGMENTTYPE",707683696:"IFCFLOWSTORAGEDEVICE",1339347760:"IFCFLOWSTORAGEDEVICETYPE",2223149337:"IFCFLOWTERMINAL",2297155007:"IFCFLOWTERMINALTYPE",3508470533:"IFCFLOWTREATMENTDEVICE",3009222698:"IFCFLOWTREATMENTDEVICETYPE",900683007:"IFCFOOTING",1893162501:"IFCFOOTINGTYPE",263784265:"IFCFURNISHINGELEMENT",4238390223:"IFCFURNISHINGELEMENTTYPE",1509553395:"IFCFURNITURE",1268542332:"IFCFURNITURETYPE",3493046030:"IFCGEOGRAPHICELEMENT",4095422895:"IFCGEOGRAPHICELEMENTTYPE",987898635:"IFCGEOMETRICCURVESET",3448662350:"IFCGEOMETRICREPRESENTATIONCONTEXT",2453401579:"IFCGEOMETRICREPRESENTATIONITEM",4142052618:"IFCGEOMETRICREPRESENTATIONSUBCONTEXT",3590301190:"IFCGEOMETRICSET",3009204131:"IFCGRID",852622518:"IFCGRIDAXIS",178086475:"IFCGRIDPLACEMENT",2706460486:"IFCGROUP",812098782:"IFCHALFSPACESOLID",3319311131:"IFCHEATEXCHANGER",1251058090:"IFCHEATEXCHANGERTYPE",2068733104:"IFCHUMIDIFIER",1806887404:"IFCHUMIDIFIERTYPE",1484403080:"IFCISHAPEPROFILEDEF",3905492369:"IFCIMAGETEXTURE",3570813810:"IFCINDEXEDCOLOURMAP",2571569899:"IFCINDEXEDPOLYCURVE",178912537:"IFCINDEXEDPOLYGONALFACE",2294589976:"IFCINDEXEDPOLYGONALFACEWITHVOIDS",1437953363:"IFCINDEXEDTEXTUREMAP",2133299955:"IFCINDEXEDTRIANGLETEXTUREMAP",4175244083:"IFCINTERCEPTOR",3946677679:"IFCINTERCEPTORTYPE",3113134337:"IFCINTERSECTIONCURVE",2391368822:"IFCINVENTORY",3741457305:"IFCIRREGULARTIMESERIES",3020489413:"IFCIRREGULARTIMESERIESVALUE",2176052936:"IFCJUNCTIONBOX",4288270099:"IFCJUNCTIONBOXTYPE",572779678:"IFCLSHAPEPROFILEDEF",3827777499:"IFCLABORRESOURCE",428585644:"IFCLABORRESOURCETYPE",1585845231:"IFCLAGTIME",76236018:"IFCLAMP",1051575348:"IFCLAMPTYPE",2655187982:"IFCLIBRARYINFORMATION",3452421091:"IFCLIBRARYREFERENCE",4162380809:"IFCLIGHTDISTRIBUTIONDATA",629592764:"IFCLIGHTFIXTURE",1161773419:"IFCLIGHTFIXTURETYPE",1566485204:"IFCLIGHTINTENSITYDISTRIBUTION",1402838566:"IFCLIGHTSOURCE",125510826:"IFCLIGHTSOURCEAMBIENT",2604431987:"IFCLIGHTSOURCEDIRECTIONAL",4266656042:"IFCLIGHTSOURCEGONIOMETRIC",1520743889:"IFCLIGHTSOURCEPOSITIONAL",3422422726:"IFCLIGHTSOURCESPOT",1281925730:"IFCLINE",3092502836:"IFCLINESEGMENT2D",388784114:"IFCLINEARPLACEMENT",1154579445:"IFCLINEARPOSITIONINGELEMENT",2624227202:"IFCLOCALPLACEMENT",1008929658:"IFCLOOP",1425443689:"IFCMANIFOLDSOLIDBREP",3057273783:"IFCMAPCONVERSION",2347385850:"IFCMAPPEDITEM",1838606355:"IFCMATERIAL",1847130766:"IFCMATERIALCLASSIFICATIONRELATIONSHIP",3708119e3:"IFCMATERIALCONSTITUENT",2852063980:"IFCMATERIALCONSTITUENTSET",760658860:"IFCMATERIALDEFINITION",2022407955:"IFCMATERIALDEFINITIONREPRESENTATION",248100487:"IFCMATERIALLAYER",3303938423:"IFCMATERIALLAYERSET",1303795690:"IFCMATERIALLAYERSETUSAGE",1847252529:"IFCMATERIALLAYERWITHOFFSETS",2199411900:"IFCMATERIALLIST",2235152071:"IFCMATERIALPROFILE",164193824:"IFCMATERIALPROFILESET",3079605661:"IFCMATERIALPROFILESETUSAGE",3404854881:"IFCMATERIALPROFILESETUSAGETAPERING",552965576:"IFCMATERIALPROFILEWITHOFFSETS",3265635763:"IFCMATERIALPROPERTIES",853536259:"IFCMATERIALRELATIONSHIP",1507914824:"IFCMATERIALUSAGEDEFINITION",2597039031:"IFCMEASUREWITHUNIT",377706215:"IFCMECHANICALFASTENER",2108223431:"IFCMECHANICALFASTENERTYPE",1437502449:"IFCMEDICALDEVICE",1114901282:"IFCMEDICALDEVICETYPE",1073191201:"IFCMEMBER",1911478936:"IFCMEMBERSTANDARDCASE",3181161470:"IFCMEMBERTYPE",3368373690:"IFCMETRIC",2998442950:"IFCMIRROREDPROFILEDEF",2706619895:"IFCMONETARYUNIT",2474470126:"IFCMOTORCONNECTION",977012517:"IFCMOTORCONNECTIONTYPE",1918398963:"IFCNAMEDUNIT",3888040117:"IFCOBJECT",219451334:"IFCOBJECTDEFINITION",3701648758:"IFCOBJECTPLACEMENT",2251480897:"IFCOBJECTIVE",4143007308:"IFCOCCUPANT",590820931:"IFCOFFSETCURVE",3388369263:"IFCOFFSETCURVE2D",3505215534:"IFCOFFSETCURVE3D",2485787929:"IFCOFFSETCURVEBYDISTANCES",2665983363:"IFCOPENSHELL",3588315303:"IFCOPENINGELEMENT",3079942009:"IFCOPENINGSTANDARDCASE",4251960020:"IFCORGANIZATION",1411181986:"IFCORGANIZATIONRELATIONSHIP",643959842:"IFCORIENTATIONEXPRESSION",1029017970:"IFCORIENTEDEDGE",144952367:"IFCOUTERBOUNDARYCURVE",3694346114:"IFCOUTLET",2837617999:"IFCOUTLETTYPE",1207048766:"IFCOWNERHISTORY",2529465313:"IFCPARAMETERIZEDPROFILEDEF",2519244187:"IFCPATH",1682466193:"IFCPCURVE",2382730787:"IFCPERFORMANCEHISTORY",3566463478:"IFCPERMEABLECOVERINGPROPERTIES",3327091369:"IFCPERMIT",2077209135:"IFCPERSON",101040310:"IFCPERSONANDORGANIZATION",3021840470:"IFCPHYSICALCOMPLEXQUANTITY",2483315170:"IFCPHYSICALQUANTITY",2226359599:"IFCPHYSICALSIMPLEQUANTITY",1687234759:"IFCPILE",1158309216:"IFCPILETYPE",310824031:"IFCPIPEFITTING",804291784:"IFCPIPEFITTINGTYPE",3612865200:"IFCPIPESEGMENT",4231323485:"IFCPIPESEGMENTTYPE",597895409:"IFCPIXELTEXTURE",2004835150:"IFCPLACEMENT",603570806:"IFCPLANARBOX",1663979128:"IFCPLANAREXTENT",220341763:"IFCPLANE",3171933400:"IFCPLATE",1156407060:"IFCPLATESTANDARDCASE",4017108033:"IFCPLATETYPE",2067069095:"IFCPOINT",4022376103:"IFCPOINTONCURVE",1423911732:"IFCPOINTONSURFACE",2924175390:"IFCPOLYLOOP",2775532180:"IFCPOLYGONALBOUNDEDHALFSPACE",2839578677:"IFCPOLYGONALFACESET",3724593414:"IFCPOLYLINE",3740093272:"IFCPORT",1946335990:"IFCPOSITIONINGELEMENT",3355820592:"IFCPOSTALADDRESS",759155922:"IFCPREDEFINEDCOLOUR",2559016684:"IFCPREDEFINEDCURVEFONT",3727388367:"IFCPREDEFINEDITEM",3778827333:"IFCPREDEFINEDPROPERTIES",3967405729:"IFCPREDEFINEDPROPERTYSET",1775413392:"IFCPREDEFINEDTEXTFONT",677532197:"IFCPRESENTATIONITEM",2022622350:"IFCPRESENTATIONLAYERASSIGNMENT",1304840413:"IFCPRESENTATIONLAYERWITHSTYLE",3119450353:"IFCPRESENTATIONSTYLE",2417041796:"IFCPRESENTATIONSTYLEASSIGNMENT",2744685151:"IFCPROCEDURE",569719735:"IFCPROCEDURETYPE",2945172077:"IFCPROCESS",4208778838:"IFCPRODUCT",673634403:"IFCPRODUCTDEFINITIONSHAPE",2095639259:"IFCPRODUCTREPRESENTATION",3958567839:"IFCPROFILEDEF",2802850158:"IFCPROFILEPROPERTIES",103090709:"IFCPROJECT",653396225:"IFCPROJECTLIBRARY",2904328755:"IFCPROJECTORDER",3843373140:"IFCPROJECTEDCRS",3651124850:"IFCPROJECTIONELEMENT",2598011224:"IFCPROPERTY",986844984:"IFCPROPERTYABSTRACTION",871118103:"IFCPROPERTYBOUNDEDVALUE",1680319473:"IFCPROPERTYDEFINITION",148025276:"IFCPROPERTYDEPENDENCYRELATIONSHIP",4166981789:"IFCPROPERTYENUMERATEDVALUE",3710013099:"IFCPROPERTYENUMERATION",2752243245:"IFCPROPERTYLISTVALUE",941946838:"IFCPROPERTYREFERENCEVALUE",1451395588:"IFCPROPERTYSET",3357820518:"IFCPROPERTYSETDEFINITION",492091185:"IFCPROPERTYSETTEMPLATE",3650150729:"IFCPROPERTYSINGLEVALUE",110355661:"IFCPROPERTYTABLEVALUE",3521284610:"IFCPROPERTYTEMPLATE",1482703590:"IFCPROPERTYTEMPLATEDEFINITION",738039164:"IFCPROTECTIVEDEVICE",2295281155:"IFCPROTECTIVEDEVICETRIPPINGUNIT",655969474:"IFCPROTECTIVEDEVICETRIPPINGUNITTYPE",1842657554:"IFCPROTECTIVEDEVICETYPE",3219374653:"IFCPROXY",90941305:"IFCPUMP",2250791053:"IFCPUMPTYPE",2044713172:"IFCQUANTITYAREA",2093928680:"IFCQUANTITYCOUNT",931644368:"IFCQUANTITYLENGTH",2090586900:"IFCQUANTITYSET",3252649465:"IFCQUANTITYTIME",2405470396:"IFCQUANTITYVOLUME",825690147:"IFCQUANTITYWEIGHT",2262370178:"IFCRAILING",2893384427:"IFCRAILINGTYPE",3024970846:"IFCRAMP",3283111854:"IFCRAMPFLIGHT",2324767716:"IFCRAMPFLIGHTTYPE",1469900589:"IFCRAMPTYPE",1232101972:"IFCRATIONALBSPLINECURVEWITHKNOTS",683857671:"IFCRATIONALBSPLINESURFACEWITHKNOTS",2770003689:"IFCRECTANGLEHOLLOWPROFILEDEF",3615266464:"IFCRECTANGLEPROFILEDEF",2798486643:"IFCRECTANGULARPYRAMID",3454111270:"IFCRECTANGULARTRIMMEDSURFACE",3915482550:"IFCRECURRENCEPATTERN",2433181523:"IFCREFERENCE",4021432810:"IFCREFERENT",3413951693:"IFCREGULARTIMESERIES",1580146022:"IFCREINFORCEMENTBARPROPERTIES",3765753017:"IFCREINFORCEMENTDEFINITIONPROPERTIES",979691226:"IFCREINFORCINGBAR",2572171363:"IFCREINFORCINGBARTYPE",3027567501:"IFCREINFORCINGELEMENT",964333572:"IFCREINFORCINGELEMENTTYPE",2320036040:"IFCREINFORCINGMESH",2310774935:"IFCREINFORCINGMESHTYPE",160246688:"IFCRELAGGREGATES",3939117080:"IFCRELASSIGNS",1683148259:"IFCRELASSIGNSTOACTOR",2495723537:"IFCRELASSIGNSTOCONTROL",1307041759:"IFCRELASSIGNSTOGROUP",1027710054:"IFCRELASSIGNSTOGROUPBYFACTOR",4278684876:"IFCRELASSIGNSTOPROCESS",2857406711:"IFCRELASSIGNSTOPRODUCT",205026976:"IFCRELASSIGNSTORESOURCE",1865459582:"IFCRELASSOCIATES",4095574036:"IFCRELASSOCIATESAPPROVAL",919958153:"IFCRELASSOCIATESCLASSIFICATION",2728634034:"IFCRELASSOCIATESCONSTRAINT",982818633:"IFCRELASSOCIATESDOCUMENT",3840914261:"IFCRELASSOCIATESLIBRARY",2655215786:"IFCRELASSOCIATESMATERIAL",826625072:"IFCRELCONNECTS",1204542856:"IFCRELCONNECTSELEMENTS",3945020480:"IFCRELCONNECTSPATHELEMENTS",4201705270:"IFCRELCONNECTSPORTTOELEMENT",3190031847:"IFCRELCONNECTSPORTS",2127690289:"IFCRELCONNECTSSTRUCTURALACTIVITY",1638771189:"IFCRELCONNECTSSTRUCTURALMEMBER",504942748:"IFCRELCONNECTSWITHECCENTRICITY",3678494232:"IFCRELCONNECTSWITHREALIZINGELEMENTS",3242617779:"IFCRELCONTAINEDINSPATIALSTRUCTURE",886880790:"IFCRELCOVERSBLDGELEMENTS",2802773753:"IFCRELCOVERSSPACES",2565941209:"IFCRELDECLARES",2551354335:"IFCRELDECOMPOSES",693640335:"IFCRELDEFINES",1462361463:"IFCRELDEFINESBYOBJECT",4186316022:"IFCRELDEFINESBYPROPERTIES",307848117:"IFCRELDEFINESBYTEMPLATE",781010003:"IFCRELDEFINESBYTYPE",3940055652:"IFCRELFILLSELEMENT",279856033:"IFCRELFLOWCONTROLELEMENTS",427948657:"IFCRELINTERFERESELEMENTS",3268803585:"IFCRELNESTS",1441486842:"IFCRELPOSITIONS",750771296:"IFCRELPROJECTSELEMENT",1245217292:"IFCRELREFERENCEDINSPATIALSTRUCTURE",4122056220:"IFCRELSEQUENCE",366585022:"IFCRELSERVICESBUILDINGS",3451746338:"IFCRELSPACEBOUNDARY",3523091289:"IFCRELSPACEBOUNDARY1STLEVEL",1521410863:"IFCRELSPACEBOUNDARY2NDLEVEL",1401173127:"IFCRELVOIDSELEMENT",478536968:"IFCRELATIONSHIP",816062949:"IFCREPARAMETRISEDCOMPOSITECURVESEGMENT",1076942058:"IFCREPRESENTATION",3377609919:"IFCREPRESENTATIONCONTEXT",3008791417:"IFCREPRESENTATIONITEM",1660063152:"IFCREPRESENTATIONMAP",2914609552:"IFCRESOURCE",2943643501:"IFCRESOURCEAPPROVALRELATIONSHIP",1608871552:"IFCRESOURCECONSTRAINTRELATIONSHIP",2439245199:"IFCRESOURCELEVELRELATIONSHIP",1042787934:"IFCRESOURCETIME",1856042241:"IFCREVOLVEDAREASOLID",3243963512:"IFCREVOLVEDAREASOLIDTAPERED",4158566097:"IFCRIGHTCIRCULARCONE",3626867408:"IFCRIGHTCIRCULARCYLINDER",2016517767:"IFCROOF",2781568857:"IFCROOFTYPE",2341007311:"IFCROOT",2778083089:"IFCROUNDEDRECTANGLEPROFILEDEF",448429030:"IFCSIUNIT",3053780830:"IFCSANITARYTERMINAL",1768891740:"IFCSANITARYTERMINALTYPE",1054537805:"IFCSCHEDULINGTIME",2157484638:"IFCSEAMCURVE",2042790032:"IFCSECTIONPROPERTIES",4165799628:"IFCSECTIONREINFORCEMENTPROPERTIES",1862484736:"IFCSECTIONEDSOLID",1290935644:"IFCSECTIONEDSOLIDHORIZONTAL",1509187699:"IFCSECTIONEDSPINE",4086658281:"IFCSENSOR",1783015770:"IFCSENSORTYPE",1329646415:"IFCSHADINGDEVICE",4074543187:"IFCSHADINGDEVICETYPE",867548509:"IFCSHAPEASPECT",3982875396:"IFCSHAPEMODEL",4240577450:"IFCSHAPEREPRESENTATION",4124623270:"IFCSHELLBASEDSURFACEMODEL",3692461612:"IFCSIMPLEPROPERTY",3663146110:"IFCSIMPLEPROPERTYTEMPLATE",4097777520:"IFCSITE",1529196076:"IFCSLAB",3127900445:"IFCSLABELEMENTEDCASE",3027962421:"IFCSLABSTANDARDCASE",2533589738:"IFCSLABTYPE",2609359061:"IFCSLIPPAGECONNECTIONCONDITION",3420628829:"IFCSOLARDEVICE",1072016465:"IFCSOLARDEVICETYPE",723233188:"IFCSOLIDMODEL",3856911033:"IFCSPACE",1999602285:"IFCSPACEHEATER",1305183839:"IFCSPACEHEATERTYPE",3812236995:"IFCSPACETYPE",1412071761:"IFCSPATIALELEMENT",710998568:"IFCSPATIALELEMENTTYPE",2706606064:"IFCSPATIALSTRUCTUREELEMENT",3893378262:"IFCSPATIALSTRUCTUREELEMENTTYPE",463610769:"IFCSPATIALZONE",2481509218:"IFCSPATIALZONETYPE",451544542:"IFCSPHERE",4015995234:"IFCSPHERICALSURFACE",1404847402:"IFCSTACKTERMINAL",3112655638:"IFCSTACKTERMINALTYPE",331165859:"IFCSTAIR",4252922144:"IFCSTAIRFLIGHT",1039846685:"IFCSTAIRFLIGHTTYPE",338393293:"IFCSTAIRTYPE",682877961:"IFCSTRUCTURALACTION",3544373492:"IFCSTRUCTURALACTIVITY",2515109513:"IFCSTRUCTURALANALYSISMODEL",1179482911:"IFCSTRUCTURALCONNECTION",2273995522:"IFCSTRUCTURALCONNECTIONCONDITION",1004757350:"IFCSTRUCTURALCURVEACTION",4243806635:"IFCSTRUCTURALCURVECONNECTION",214636428:"IFCSTRUCTURALCURVEMEMBER",2445595289:"IFCSTRUCTURALCURVEMEMBERVARYING",2757150158:"IFCSTRUCTURALCURVEREACTION",3136571912:"IFCSTRUCTURALITEM",1807405624:"IFCSTRUCTURALLINEARACTION",2162789131:"IFCSTRUCTURALLOAD",385403989:"IFCSTRUCTURALLOADCASE",3478079324:"IFCSTRUCTURALLOADCONFIGURATION",1252848954:"IFCSTRUCTURALLOADGROUP",1595516126:"IFCSTRUCTURALLOADLINEARFORCE",609421318:"IFCSTRUCTURALLOADORRESULT",2668620305:"IFCSTRUCTURALLOADPLANARFORCE",2473145415:"IFCSTRUCTURALLOADSINGLEDISPLACEMENT",1973038258:"IFCSTRUCTURALLOADSINGLEDISPLACEMENTDISTORTION",1597423693:"IFCSTRUCTURALLOADSINGLEFORCE",1190533807:"IFCSTRUCTURALLOADSINGLEFORCEWARPING",2525727697:"IFCSTRUCTURALLOADSTATIC",3408363356:"IFCSTRUCTURALLOADTEMPERATURE",530289379:"IFCSTRUCTURALMEMBER",1621171031:"IFCSTRUCTURALPLANARACTION",2082059205:"IFCSTRUCTURALPOINTACTION",734778138:"IFCSTRUCTURALPOINTCONNECTION",1235345126:"IFCSTRUCTURALPOINTREACTION",3689010777:"IFCSTRUCTURALREACTION",2986769608:"IFCSTRUCTURALRESULTGROUP",3657597509:"IFCSTRUCTURALSURFACEACTION",1975003073:"IFCSTRUCTURALSURFACECONNECTION",3979015343:"IFCSTRUCTURALSURFACEMEMBER",2218152070:"IFCSTRUCTURALSURFACEMEMBERVARYING",603775116:"IFCSTRUCTURALSURFACEREACTION",2830218821:"IFCSTYLEMODEL",3958052878:"IFCSTYLEDITEM",3049322572:"IFCSTYLEDREPRESENTATION",148013059:"IFCSUBCONTRACTRESOURCE",4095615324:"IFCSUBCONTRACTRESOURCETYPE",2233826070:"IFCSUBEDGE",2513912981:"IFCSURFACE",699246055:"IFCSURFACECURVE",2028607225:"IFCSURFACECURVESWEPTAREASOLID",3101698114:"IFCSURFACEFEATURE",2809605785:"IFCSURFACEOFLINEAREXTRUSION",4124788165:"IFCSURFACEOFREVOLUTION",2934153892:"IFCSURFACEREINFORCEMENTAREA",1300840506:"IFCSURFACESTYLE",3303107099:"IFCSURFACESTYLELIGHTING",1607154358:"IFCSURFACESTYLEREFRACTION",1878645084:"IFCSURFACESTYLERENDERING",846575682:"IFCSURFACESTYLESHADING",1351298697:"IFCSURFACESTYLEWITHTEXTURES",626085974:"IFCSURFACETEXTURE",2247615214:"IFCSWEPTAREASOLID",1260650574:"IFCSWEPTDISKSOLID",1096409881:"IFCSWEPTDISKSOLIDPOLYGONAL",230924584:"IFCSWEPTSURFACE",1162798199:"IFCSWITCHINGDEVICE",2315554128:"IFCSWITCHINGDEVICETYPE",2254336722:"IFCSYSTEM",413509423:"IFCSYSTEMFURNITUREELEMENT",1580310250:"IFCSYSTEMFURNITUREELEMENTTYPE",3071757647:"IFCTSHAPEPROFILEDEF",985171141:"IFCTABLE",2043862942:"IFCTABLECOLUMN",531007025:"IFCTABLEROW",812556717:"IFCTANK",5716631:"IFCTANKTYPE",3473067441:"IFCTASK",1549132990:"IFCTASKTIME",2771591690:"IFCTASKTIMERECURRING",3206491090:"IFCTASKTYPE",912023232:"IFCTELECOMADDRESS",3824725483:"IFCTENDON",2347447852:"IFCTENDONANCHOR",3081323446:"IFCTENDONANCHORTYPE",3663046924:"IFCTENDONCONDUIT",2281632017:"IFCTENDONCONDUITTYPE",2415094496:"IFCTENDONTYPE",2387106220:"IFCTESSELLATEDFACESET",901063453:"IFCTESSELLATEDITEM",4282788508:"IFCTEXTLITERAL",3124975700:"IFCTEXTLITERALWITHEXTENT",1447204868:"IFCTEXTSTYLE",1983826977:"IFCTEXTSTYLEFONTMODEL",2636378356:"IFCTEXTSTYLEFORDEFINEDFONT",1640371178:"IFCTEXTSTYLETEXTMODEL",280115917:"IFCTEXTURECOORDINATE",1742049831:"IFCTEXTURECOORDINATEGENERATOR",2552916305:"IFCTEXTUREMAP",1210645708:"IFCTEXTUREVERTEX",3611470254:"IFCTEXTUREVERTEXLIST",1199560280:"IFCTIMEPERIOD",3101149627:"IFCTIMESERIES",581633288:"IFCTIMESERIESVALUE",1377556343:"IFCTOPOLOGICALREPRESENTATIONITEM",1735638870:"IFCTOPOLOGYREPRESENTATION",1935646853:"IFCTOROIDALSURFACE",3825984169:"IFCTRANSFORMER",1692211062:"IFCTRANSFORMERTYPE",2595432518:"IFCTRANSITIONCURVESEGMENT2D",1620046519:"IFCTRANSPORTELEMENT",2097647324:"IFCTRANSPORTELEMENTTYPE",2715220739:"IFCTRAPEZIUMPROFILEDEF",2916149573:"IFCTRIANGULATEDFACESET",1229763772:"IFCTRIANGULATEDIRREGULARNETWORK",3593883385:"IFCTRIMMEDCURVE",3026737570:"IFCTUBEBUNDLE",1600972822:"IFCTUBEBUNDLETYPE",1628702193:"IFCTYPEOBJECT",3736923433:"IFCTYPEPROCESS",2347495698:"IFCTYPEPRODUCT",3698973494:"IFCTYPERESOURCE",427810014:"IFCUSHAPEPROFILEDEF",180925521:"IFCUNITASSIGNMENT",630975310:"IFCUNITARYCONTROLELEMENT",3179687236:"IFCUNITARYCONTROLELEMENTTYPE",4292641817:"IFCUNITARYEQUIPMENT",1911125066:"IFCUNITARYEQUIPMENTTYPE",4207607924:"IFCVALVE",728799441:"IFCVALVETYPE",1417489154:"IFCVECTOR",2799835756:"IFCVERTEX",2759199220:"IFCVERTEXLOOP",1907098498:"IFCVERTEXPOINT",1530820697:"IFCVIBRATIONDAMPER",3956297820:"IFCVIBRATIONDAMPERTYPE",2391383451:"IFCVIBRATIONISOLATOR",3313531582:"IFCVIBRATIONISOLATORTYPE",2769231204:"IFCVIRTUALELEMENT",891718957:"IFCVIRTUALGRIDINTERSECTION",926996030:"IFCVOIDINGFEATURE",2391406946:"IFCWALL",4156078855:"IFCWALLELEMENTEDCASE",3512223829:"IFCWALLSTANDARDCASE",1898987631:"IFCWALLTYPE",4237592921:"IFCWASTETERMINAL",1133259667:"IFCWASTETERMINALTYPE",3304561284:"IFCWINDOW",336235671:"IFCWINDOWLININGPROPERTIES",512836454:"IFCWINDOWPANELPROPERTIES",486154966:"IFCWINDOWSTANDARDCASE",1299126871:"IFCWINDOWSTYLE",4009809668:"IFCWINDOWTYPE",4088093105:"IFCWORKCALENDAR",1028945134:"IFCWORKCONTROL",4218914973:"IFCWORKPLAN",3342526732:"IFCWORKSCHEDULE",1236880293:"IFCWORKTIME",2543172580:"IFCZSHAPEPROFILEDEF",1033361043:"IFCZONE"},ol={aggregates:{name:zp,relating:"RelatingObject",related:"RelatedObjects",key:"children"},spatial:{name:kp,relating:"RelatingStructure",related:"RelatedElements",key:"children"},psets:{name:Dp,relating:"RelatingPropertyDefinition",related:"RelatedObjects",key:"hasPsets"},materials:{name:Up,relating:"RelatingMaterial",related:"RelatedObjects",key:"hasMaterial"},type:{name:Jp,relating:"RelatingType",related:"RelatedObjects",key:"hasType"}},Kp=class{constructor(e){this.api=e}getIfcType(e){return G6[e]}getItemProperties(e,i,t=!1){return Zi(this,null,function*(){return this.api.GetLine(e,i,t)})}getPropertySets(e,i,t=!1){return Zi(this,null,function*(){return yield this.getProperty(e,i,t,ol.psets)})}getTypeProperties(e,i,t=!1){return Zi(this,null,function*(){return yield this.getProperty(e,i,t,ol.type)})}getMaterialsProperties(e,i,t=!1){return Zi(this,null,function*(){return yield this.getProperty(e,i,t,ol.materials)})}getSpatialStructure(e,i){return Zi(this,null,function*(){yield this.getAllTypesOfModel(e);const t=yield this.getSpatialTreeChunks(e),n=(yield this.api.GetLineIDsWithType(e,_h)).get(0),r=Kp.newIfcProject(n);return yield this.getSpatialNode(e,r,t,i),this.cleanupTypes(),r})}getAllItemsOfType(e,i,t){return Zi(this,null,function*(){let s=[];const n=yield this.api.GetLineIDsWithType(e,i);for(let l=0;l<n.size();l++)s.push(n.get(l));if(!t)return s;const r=[];for(let l=0;l<s.length;l++)r.push(yield this.api.GetLine(e,s[l]));return r})}getProperty(e,i,t=!1,s){return Zi(this,null,function*(){const n=yield this.getAllRelatedItemsOfType(e,i,s),r=[];for(let l=0;l<n.length;l++)r.push(yield this.api.GetLine(e,n[l],t));return r})}getChunks(e,i,t){return Zi(this,null,function*(){const s=yield this.api.GetLineIDsWithType(e,t.name);for(let n=0;n<s.size();n++){const r=yield this.api.GetLine(e,s.get(n),!1);this.saveChunk(i,t,r)}})}static isRelated(e,i,t){const s=i[t.related];return Array.isArray(s)?s.map(r=>r.value).includes(e):s.value===e}static newIfcProject(e){return{expressID:e,type:"IFCPROJECT",children:[]}}getSpatialNode(e,i,t,s){return Zi(this,null,function*(){yield this.getChildren(e,i,t,ol.aggregates,s),yield this.getChildren(e,i,t,ol.spatial,s)})}getChildren(e,i,t,s,n){return Zi(this,null,function*(){const r=t[i.expressID];if(r==null)return;const l=s.key,a=[];for(let o=0;o<r.length;o++){const c=r[o];let h=this.newNode(c);if(n){const u=yield this.getItemProperties(e,h.expressID);h=Qh(Qh({},u),h)}yield this.getSpatialNode(e,h,t,n),a.push(h)}i[l]=a})}newNode(e){const i=this.getNodeType(e);return{expressID:e,type:i,children:[]}}getNodeType(e){const i=this.types[e];return gv[i]}getSpatialTreeChunks(e){return Zi(this,null,function*(){const i={};return yield this.getChunks(e,i,ol.aggregates),yield this.getChunks(e,i,ol.spatial),i})}saveChunk(e,i,t){const s=t[i.relating].value,n=t[i.related].map(r=>r.value);e[s]==null?e[s]=n:e[s]=e[s].concat(n)}getRelated(e,i,t){const s=e[i.relating];Array.isArray(s)?s.forEach(n=>t.push(n.value)):t.push(s.value)}getAllRelatedItemsOfType(e,i,t){return Zi(this,null,function*(){const s=yield this.api.GetLineIDsWithType(e,t.name),n=[];for(let r=0;r<s.size();r++){const l=yield this.api.GetLine(e,s.get(r));Kp.isRelated(i,l,t)&&this.getRelated(l,t,n)}return n})}cleanupTypes(){this.types={}}getAllTypesOfModel(e){return Zi(this,null,function*(){const i={},t=Object.keys(gv).map(s=>parseInt(s));for(let s=0;s<t.length;s++){const n=t[s],r=yield this.api.GetLineIDsWithType(e,n),l=r.size();for(let a=0;a<l;a++)i[r.get(a)]=n}this.types=i})}},qh;typeof self<"u"&&self.crossOriginIsolated?qh=zD():qh=UD();var Op=class{constructor(){this.wasmModule=void 0,this.fs=void 0,this.wasmPath="",this.isWasmPathAbsolute=!1,this.ifcGuidMap=new Map,this.properties=new Kp(this)}Init(e){return Zi(this,null,function*(){if(qh){let i=(t,s)=>t.endsWith(".wasm")?this.isWasmPathAbsolute?this.wasmPath+t:s+this.wasmPath+t:s+t;this.wasmModule=yield qh({noInitialRun:!0,locateFile:e||i}),this.fs=this.wasmModule.FS}else console.error("Could not find wasm module at './web-ifc' from web-ifc-api.ts")})}OpenModel(e,i){let t=Qh({COORDINATE_TO_ORIGIN:!1,USE_FAST_BOOLS:!1,CIRCLE_SEGMENTS_LOW:5,CIRCLE_SEGMENTS_MEDIUM:8,CIRCLE_SEGMENTS_HIGH:12,BOOL_ABORT_THRESHOLD:1e4},i),s=0;return this.wasmModule.OpenModel(t,(r,l)=>{let a=Math.min(e.byteLength-s,l),o=this.wasmModule.HEAPU8.subarray(r,r+l),c=e.subarray(s,s+a);return o.set(c),s+=a,a})}CreateModel(e){let i=Qh({COORDINATE_TO_ORIGIN:!1,USE_FAST_BOOLS:!1,CIRCLE_SEGMENTS_LOW:5,CIRCLE_SEGMENTS_MEDIUM:8,CIRCLE_SEGMENTS_HIGH:12,BOOL_ABORT_THRESHOLD:1e4},e);return this.wasmModule.CreateModel(i)}ExportFileAsIFC(e){this.wasmModule.ExportFileAsIFC(e);let i=this.fs.readFile("/export.ifc");return this.wasmModule.FS_unlink("/export.ifc"),i}GetGeometry(e,i){return this.wasmModule.GetGeometry(e,i)}GetLine(e,i,t=!1){let s=this.GetRawLineData(e,i),n=R[s.type](s);return t&&this.FlattenLine(e,n),n}GetAndClearErrors(e){return this.wasmModule.GetAndClearErrors(e)}WriteLine(e,i){Object.keys(i).forEach(s=>{let n=i[s];if(n&&n.expressID!==void 0)this.WriteLine(e,n),i[s]={type:5,value:n.expressID};else if(Array.isArray(n)&&n.length>0)for(let r=0;r<n.length;r++)n[r].expressID!==void 0&&(this.WriteLine(e,n[r]),i[s][r]={type:5,value:n[r].expressID})});let t={ID:i.expressID,type:i.type,arguments:i.ToTape()};this.WriteRawLineData(e,t)}FlattenLine(e,i){Object.keys(i).forEach(t=>{let s=i[t];if(s&&s.type===5)i[t]=this.GetLine(e,s.value,!0);else if(Array.isArray(s)&&s.length>0&&s[0].type===5)for(let n=0;n<s.length;n++)i[t][n]=this.GetLine(e,s[n].value,!0)})}GetRawLineData(e,i){return this.wasmModule.GetLine(e,i)}WriteRawLineData(e,i){return this.wasmModule.WriteLine(e,i.ID,i.type,i.arguments)}GetLineIDsWithType(e,i){return this.wasmModule.GetLineIDsWithType(e,i)}GetAllLines(e){return this.wasmModule.GetAllLines(e)}SetGeometryTransformation(e,i){if(i.length!=16){console.log(`Bad transformation matrix size: ${i.length}`);return}this.wasmModule.SetGeometryTransformation(e,i)}GetCoordinationMatrix(e){return this.wasmModule.GetCoordinationMatrix(e)}GetVertexArray(e,i){return this.getSubArray(this.wasmModule.HEAPF32,e,i)}GetIndexArray(e,i){return this.getSubArray(this.wasmModule.HEAPU32,e,i)}getSubArray(e,i,t){return e.subarray(i/4,i/4+t).slice(0)}CloseModel(e){this.ifcGuidMap.delete(e),this.wasmModule.CloseModel(e)}StreamAllMeshes(e,i){this.wasmModule.StreamAllMeshes(e,i)}StreamAllMeshesWithTypes(e,i,t){this.wasmModule.StreamAllMeshesWithTypes(e,i,t)}IsModelOpen(e){return this.wasmModule.IsModelOpen(e)}LoadAllGeometry(e){return this.wasmModule.LoadAllGeometry(e)}GetFlatMesh(e,i){return this.wasmModule.GetFlatMesh(e,i)}CreateIfcGuidToExpressIdMapping(e){const i=new Map;for(let t=0;t<uR.length;t++){const s=uR[t],n=this.GetLineIDsWithType(e,s),r=n.size();for(let l=0;l<r;l++){const a=n.get(l),c=this.GetLine(e,a).GlobalId.value;i.set(a,c),i.set(c,a)}}this.ifcGuidMap.set(e,i)}SetWasmPath(e,i=!1){this.wasmPath=e,this.isWasmPathAbsolute=i}},g6=Object.defineProperty,T6=Object.defineProperties,I6=Object.getOwnPropertyDescriptors,Tv=Object.getOwnPropertySymbols,R6=Object.prototype.hasOwnProperty,f6=Object.prototype.propertyIsEnumerable,Iv=(e,i,t)=>i in e?g6(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,cl=(e,i)=>{for(var t in i||(i={}))R6.call(i,t)&&Iv(e,t,i[t]);if(Tv)for(var t of Tv(i))f6.call(i,t)&&Iv(e,t,i[t]);return e},X6=(e,i)=>T6(e,I6(i)),Le=(e,i,t)=>new Promise((s,n)=>{var r=o=>{try{a(t.next(o))}catch(c){n(c)}},l=o=>{try{a(t.throw(o))}catch(c){n(c)}},a=o=>o.done?s(o.value):Promise.resolve(o.value).then(r,l);a((t=t.apply(e,i)).next())});function Rv(e,i=!1){const t=e[0].index!==null,s=new Set(Object.keys(e[0].attributes)),n=new Set(Object.keys(e[0].morphAttributes)),r={},l={},a=e[0].morphTargetsRelative,o=new It;let c=0;for(let h=0;h<e.length;++h){const u=e[h];let d=0;if(t!==(u.index!==null))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+h+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(const p in u.attributes){if(!s.has(p))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+h+'. All geometries must have compatible attributes; make sure "'+p+'" attribute exists among all geometries, or in none of them.'),null;r[p]===void 0&&(r[p]=[]),r[p].push(u.attributes[p]),d++}if(d!==s.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+h+". Make sure all geometries have the same number of attributes."),null;if(a!==u.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+h+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(const p in u.morphAttributes){if(!n.has(p))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+h+".  .morphAttributes must be consistent throughout all geometries."),null;l[p]===void 0&&(l[p]=[]),l[p].push(u.morphAttributes[p])}if(o.userData.mergedUserData=o.userData.mergedUserData||[],o.userData.mergedUserData.push(u.userData),i){let p;if(t)p=u.index.count;else if(u.attributes.position!==void 0)p=u.attributes.position.count;else return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+h+". The geometry must have either an index or a position attribute"),null;o.addGroup(c,p,h),c+=p}}if(t){let h=0;const u=[];for(let d=0;d<e.length;++d){const p=e[d].index;for(let G=0;G<p.count;++G)u.push(p.getX(G)+h);h+=e[d].attributes.position.count}o.setIndex(u)}for(const h in r){const u=fv(r[h]);if(!u)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+h+" attribute."),null;o.setAttribute(h,u)}for(const h in l){const u=l[h][0].length;if(u===0)break;o.morphAttributes=o.morphAttributes||{},o.morphAttributes[h]=[];for(let d=0;d<u;++d){const p=[];for(let g=0;g<l[h].length;++g)p.push(l[h][g][d]);const G=fv(p);if(!G)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+h+" morphAttribute."),null;o.morphAttributes[h].push(G)}}return o}function fv(e){let i,t,s,n=0;for(let a=0;a<e.length;++a){const o=e[a];if(o.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported."),null;if(i===void 0&&(i=o.array.constructor),i!==o.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(t===void 0&&(t=o.itemSize),t!==o.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(s===void 0&&(s=o.normalized),s!==o.normalized)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;n+=o.array.length}const r=new i(n);let l=0;for(let a=0;a<e.length;++a)r.set(e[a].array,l),l+=e[a].array.length;return new Nt(r,t,s)}const zi="IfcManager is null!";class hl extends ns{constructor(){super(...arguments);this.modelID=hl.modelIdCounter++,this.ifcManager=null,this.mesh=this}static dispose(){hl.modelIdCounter=0}setIFCManager(i){this.ifcManager=i}setWasmPath(i){if(this.ifcManager===null)throw new Error(zi);this.ifcManager.setWasmPath(i)}close(i){if(this.ifcManager===null)throw new Error(zi);this.ifcManager.close(this.modelID,i)}getExpressId(i,t){if(this.ifcManager===null)throw new Error(zi);return this.ifcManager.getExpressId(i,t)}getAllItemsOfType(i,t){if(this.ifcManager===null)throw new Error(zi);return this.ifcManager.getAllItemsOfType(this.modelID,i,t)}getItemProperties(i,t=!1){if(this.ifcManager===null)throw new Error(zi);return this.ifcManager.getItemProperties(this.modelID,i,t)}getPropertySets(i,t=!1){if(this.ifcManager===null)throw new Error(zi);return this.ifcManager.getPropertySets(this.modelID,i,t)}getTypeProperties(i,t=!1){if(this.ifcManager===null)throw new Error(zi);return this.ifcManager.getTypeProperties(this.modelID,i,t)}getIfcType(i){if(this.ifcManager===null)throw new Error(zi);return this.ifcManager.getIfcType(this.modelID,i)}getSpatialStructure(){if(this.ifcManager===null)throw new Error(zi);return this.ifcManager.getSpatialStructure(this.modelID)}getSubset(i){if(this.ifcManager===null)throw new Error(zi);return this.ifcManager.getSubset(this.modelID,i)}removeSubset(i,t){if(this.ifcManager===null)throw new Error(zi);this.ifcManager.removeSubset(this.modelID,i,t)}createSubset(i){if(this.ifcManager===null)throw new Error(zi);const t=X6(cl({},i),{modelID:this.modelID});return this.ifcManager.createSubset(t)}}hl.modelIdCounter=0;class W6{constructor(i,t){this.state=i,this.BVH=t,this.loadedModels=0,this.optionalCategories={[ec]:!0,[$o]:!1},this.geometriesByMaterials={},this.loadingState={total:0,current:0,step:.1},this.currentWebIfcID=-1,this.currentModelID=-1}setupOptionalCategories(i){return Le(this,null,function*(){this.optionalCategories=i})}parse(i,t){return Le(this,null,function*(){return this.state.api.wasmModule===void 0&&(yield this.state.api.Init()),yield this.newIfcModel(i),this.loadedModels++,t&&(yield this.state.api.SetGeometryTransformation(this.currentWebIfcID,t)),this.loadAllGeometry(this.currentWebIfcID)})}getAndClearErrors(i){}notifyProgress(i,t){this.state.onProgress&&this.state.onProgress({loaded:i,total:t})}newIfcModel(i){return Le(this,null,function*(){const t=new Uint8Array(i);this.currentWebIfcID=yield this.state.api.OpenModel(t,this.state.webIfcSettings),this.currentModelID=this.state.useJSON?this.loadedModels:this.currentWebIfcID,this.state.models[this.currentModelID]={modelID:this.currentModelID,mesh:{},types:{},jsonData:{}}})}loadAllGeometry(i){return Le(this,null,function*(){this.addOptionalCategories(i),yield this.initializeLoadingState(i),this.state.api.StreamAllMeshes(i,l=>{this.updateLoadingState(),this.streamMesh(i,l)}),this.notifyLoadingEnded();const t=[],s=[];Object.keys(this.geometriesByMaterials).forEach(l=>{const a=this.geometriesByMaterials[l].geometries,o=Rv(a);s.push(this.geometriesByMaterials[l].material),t.push(o)});const n=Rv(t,!0);this.cleanUpGeometryMemory(t),this.BVH&&this.BVH.applyThreeMeshBVH(n);const r=new hl(n,s);return this.state.models[this.currentModelID].mesh=r,r})}initializeLoadingState(i){return Le(this,null,function*(){const t=yield this.state.api.GetLineIDsWithType(i,OT);this.loadingState.total=t.size(),this.loadingState.current=0,this.loadingState.step=.1})}notifyLoadingEnded(){this.notifyProgress(this.loadingState.total,this.loadingState.total)}updateLoadingState(){if(Math.min(this.loadingState.current++,this.loadingState.total)/this.loadingState.total>=this.loadingState.step){const t=Math.ceil(this.loadingState.total*this.loadingState.step);this.notifyProgress(t,this.loadingState.total),this.loadingState.step+=.1}}addOptionalCategories(i){const t=[];for(let s in this.optionalCategories)if(this.optionalCategories.hasOwnProperty(s)){const n=parseInt(s);this.optionalCategories[n]&&t.push(n)}this.state.api.StreamAllMeshesWithTypes(this.currentWebIfcID,t,s=>{this.streamMesh(i,s)})}streamMesh(i,t){const s=t.geometries,n=s.size();for(let r=0;r<n;r++){const l=s.get(r);let a=this.getPlacedGeometry(i,t.expressID,l),o=a.geometry.applyMatrix4(a.matrix);this.storeGeometryByMaterial(l.color,o)}}getPlacedGeometry(i,t,s){const n=this.getBufferGeometry(i,t,s),r=new ns(n);return r.matrix=this.getMeshMatrix(s.flatTransformation),r.matrixAutoUpdate=!1,r}getBufferGeometry(i,t,s){const n=this.state.api.GetGeometry(i,s.geometryExpressID),r=this.state.api.GetVertexArray(n.GetVertexData(),n.GetVertexDataSize()),l=this.state.api.GetIndexArray(n.GetIndexData(),n.GetIndexDataSize()),a=this.ifcGeometryToBuffer(t,r,l);return n.delete(),a}storeGeometryByMaterial(i,t){let s=`${i.x}${i.y}${i.z}${i.w}`;if(this.geometriesByMaterials[s]){this.geometriesByMaterials[s].geometries.push(t);return}const n=new ie(i.x,i.y,i.z),r=new Gh({color:n,side:pi});r.transparent=i.w!==1,r.transparent&&(r.opacity=i.w),this.geometriesByMaterials[s]={material:r,geometries:[t]}}getMeshMatrix(i){const t=new _e;return t.fromArray(i),t}ifcGeometryToBuffer(i,t,s){const n=new It,r=new Float32Array(t.length/2),l=new Float32Array(t.length/2),a=new Uint32Array(t.length/6);for(let o=0;o<t.length;o+=6)r[o/2]=t[o],r[o/2+1]=t[o+1],r[o/2+2]=t[o+2],l[o/2]=t[o+3],l[o/2+1]=t[o+4],l[o/2+2]=t[o+5],a[o/6]=i;return n.setAttribute("position",new Nt(r,3)),n.setAttribute("normal",new Nt(l,3)),n.setAttribute("expressID",new Nt(a,1)),n.setIndex(new Nt(s,1)),n}cleanUpGeometryMemory(i){i.forEach(t=>t.dispose()),Object.keys(this.geometriesByMaterials).forEach(t=>{const s=this.geometriesByMaterials[t];s.geometries.forEach(n=>n.dispose()),s.geometries=[],s.material=null}),this.geometriesByMaterials={}}}class S6{constructor(i){this.state=i,this.map={}}generateGeometryIndexMap(i){if(this.map[i])return;const t=this.getGeometry(i),s=this.newItemsMap(i,t);for(const n of t.groups)this.fillItemsWithGroupInfo(n,t,s)}getSubsetID(i,t,s="DEFAULT"){const n=i,r=t?t.uuid:"DEFAULT";return`${n} - ${r} - ${s}`}dispose(){Object.values(this.map).forEach(i=>{i.indexCache=null,i.map=null}),this.map=null}getGeometry(i){const t=this.state.models[i].mesh.geometry;if(!t)throw new Error("Model without geometry.");if(!t.index)throw new Error("Geometry must be indexed");return t}newItemsMap(i,t){const s=t.index.array;return this.map[i]={indexCache:s.slice(0,t.index.array.length),map:new Map},this.map[i]}fillItemsWithGroupInfo(i,t,s){let n=-1;const r=i.materialIndex,l=i.start,a=l+i.count-1;let o=-1,c=-1;for(let h=l;h<=a;h++){const u=t.index.array[h],d=t.attributes.expressID.array[u];if(n===-1&&(n=d,o=h),h===a){this.getMaterialStore(s.map,d,r).push(o,a);break}if(n===d)continue;const G=this.getMaterialStore(s.map,n,r);c=h-1,G.push(o,c),n=d,o=h}}getMaterialStore(i,t,s){i.get(t)===void 0&&i.set(t,{});const n=i.get(t);if(n===void 0)throw new Error("Geometry map generation error");return n[s]===void 0&&(n[s]=[]),n[s]}}class Ap{static getAllIndicesOfGroup(i,t,s,n,r=!0){const l=[];for(const a of t){const o=n.map.get(a);if(!o)continue;const c=o[s];!c||Ap.getIndexChunk(c,l,s,n,r)}return l}static getIndexChunk(i,t,s,n,r){const l=i.length/2;for(let a=0;a<l;a++){const o=a*2,c=i[o],h=i[o+1];for(let u=c;u<=h;u++)r?t.push(n.indexCache[u]):(t[s]||(t[s]=[]),t[s].push(n.indexCache[u]))}}}class C6{constructor(i,t,s,n){this.state=i,this.items=t,this.subsets=s,this.BVH=n,this.tempIndex=[]}createSubset(i,t){this.items.map[i.modelID]||this.items.generateGeometryIndexMap(i.modelID),this.subsets[t]||this.initializeSubset(i,t),this.filterIndices(i,t),this.constructSubsetByMaterial(i,t),i.ids.forEach(n=>this.subsets[t].ids.add(n)),this.subsets[t].mesh.geometry.setIndex(this.tempIndex),this.tempIndex.length=0;const s=this.subsets[t].mesh;return i.applyBVH&&this.BVH.applyThreeMeshBVH(s.geometry),i.scene&&i.scene.add(s),this.subsets[t].mesh}dispose(){this.tempIndex=[]}initializeSubset(i,t){const s=this.state.models[i.modelID].mesh,n=new It;this.initializeSubsetAttributes(n,s),i.material||this.initializeSubsetGroups(n,s);const r=new ns(n,i.material||s.material);r.modelID=i.modelID;const l=Boolean(i.applyBVH);this.subsets[t]={ids:new Set,mesh:r,bvh:l},s.add(r)}initializeSubsetAttributes(i,t){i.setAttribute("position",t.geometry.attributes.position),i.setAttribute("normal",t.geometry.attributes.normal),i.setAttribute("expressID",t.geometry.attributes.expressID),i.setIndex([])}initializeSubsetGroups(i,t){i.groups=JSON.parse(JSON.stringify(t.geometry.groups)),this.resetGroups(i)}filterIndices(i,t){const s=this.subsets[t].mesh.geometry;if(i.removePrevious){s.setIndex([]),this.resetGroups(s);return}const n=s.index.array,r=this.subsets[t].ids;i.ids=i.ids.filter(l=>!r.has(l)),this.tempIndex=Array.from(n)}constructSubsetByMaterial(i,t){const s=this.state.models[i.modelID].mesh,n={count:0};for(let r=0;r<s.geometry.groups.length;r++)this.insertNewIndices(i,t,r,n)}insertNewIndices(i,t,s,n){const r=this.items.map[i.modelID],l=Ap.getAllIndicesOfGroup(i.modelID,i.ids,s,r);i.material?l.forEach(a=>this.tempIndex.push(a)):this.insertIndicesAtGroup(t,l,s,n)}insertIndicesAtGroup(i,t,s,n){const r=this.getCurrentGroup(i,s);r.start+=n.count;let l=r.start+r.count;if(n.count+=t.length,t.length>0){let a=l;const o=this.tempIndex.slice(0,a),c=this.tempIndex.slice(a);this.tempIndex=Array.prototype.concat.apply([],[o,t,c]),r.count+=t.length}}getCurrentGroup(i,t){return this.subsets[i].mesh.geometry.groups[t]}resetGroups(i){i.groups.forEach(t=>{t.start=0,t.count=0})}}class V6{constructor(i,t){this.subsets={},this.state=i,this.items=new S6(i),this.BVH=t,this.subsetCreator=new C6(i,this.items,this.subsets,this.BVH)}getAllSubsets(){return this.subsets}getSubset(i,t,s){const n=this.getSubsetID(i,t,s);return this.subsets[n].mesh}removeSubset(i,t,s){const n=this.getSubsetID(i,t,s),r=this.subsets[n];!r||(r.mesh.parent&&r.mesh.removeFromParent(),r.mesh.geometry.attributes={},r.mesh.geometry.index=null,r.mesh.geometry.dispose(),r.mesh.geometry=null,delete this.subsets[n])}createSubset(i){const t=this.getSubsetID(i.modelID,i.material,i.customID);return this.subsetCreator.createSubset(i,t)}removeFromSubset(i,t,s,n){const r=this.getSubsetID(i,n,s);if(!this.subsets[r])return;const l=this.subsets[r].ids;return t.forEach(a=>{l.has(a)&&l.delete(a)}),this.createSubset({modelID:i,removePrevious:!0,material:n,customID:s,applyBVH:this.subsets[r].bvh,ids:Array.from(l),scene:this.subsets[r].mesh.parent})}clearSubset(i,t,s){const n=this.getSubsetID(i,s,t);if(!this.subsets[n])return;this.subsets[n].ids.clear(),this.getSubset(i,s,t).geometry.setIndex([])}dispose(){this.items.dispose(),this.subsetCreator.dispose(),Object.values(this.subsets).forEach(i=>{i.ids=null,i.mesh.removeFromParent();const t=i.mesh.material;Array.isArray(t)?t.forEach(n=>n.dispose()):t.dispose(),i.mesh.geometry.index=null,i.mesh.geometry.dispose();const s=i.mesh.geometry;s.disposeBoundsTree&&s.disposeBoundsTree(),i.mesh=null}),this.subsets=null}getSubsetID(i,t,s="DEFAULT"){const n=i,r=t?t.uuid:"DEFAULT";return`${n} - ${r} - ${s}`}}const Xv="expressID",ul={aggregates:{name:zp,relating:"RelatingObject",related:"RelatedObjects",key:"children"},spatial:{name:kp,relating:"RelatingStructure",related:"RelatedElements",key:"children"},psets:{name:Dp,relating:"RelatingPropertyDefinition",related:"RelatedObjects",key:"hasPsets"},materials:{name:Up,relating:"RelatingMaterial",related:"RelatedObjects",key:"hasMaterial"},type:{name:Jp,relating:"RelatingType",related:"RelatedObjects",key:"hasType"}};class Bp{constructor(i){this.state=i}getPropertySets(i,t,s=!1){return Le(this,null,function*(){return yield this.getProperty(i,t,s,ul.psets)})}getTypeProperties(i,t,s=!1){return Le(this,null,function*(){return yield this.getProperty(i,t,s,ul.type)})}getMaterialsProperties(i,t,s=!1){return Le(this,null,function*(){return yield this.getProperty(i,t,s,ul.materials)})}getSpatialNode(i,t,s,n){return Le(this,null,function*(){yield this.getChildren(i,t,s,ul.aggregates,n),yield this.getChildren(i,t,s,ul.spatial,n)})}getChildren(i,t,s,n,r){return Le(this,null,function*(){const l=s[t.expressID];if(l==null)return;const a=n.key,o=[];for(let c=0;c<l.length;c++){const h=l[c];let u=this.newNode(i,h);if(r){const d=yield this.getItemProperties(i,u.expressID);u=cl(cl({},d),u)}yield this.getSpatialNode(i,u,s,r),o.push(u)}t[a]=o})}newNode(i,t){const s=this.getNodeType(i,t);return{expressID:t,type:s,children:[]}}getSpatialTreeChunks(i){return Le(this,null,function*(){const t={};return yield this.getChunks(i,t,ul.aggregates),yield this.getChunks(i,t,ul.spatial),t})}saveChunk(i,t,s){const n=s[t.relating].value,r=s[t.related].map(l=>l.value);i[n]==null?i[n]=r:i[n]=i[n].concat(r)}getRelated(i,t,s){const n=i[t.relating];if(!n)return console.warn(`The object with ID ${i.expressID} has a broken reference.`);Array.isArray(n)?n.forEach(r=>s.push(r.value)):s.push(n.value)}static isRelated(i,t,s){const n=t[s.related];return Array.isArray(n)?n.map(l=>l.value).includes(i):n.value===i}static newIfcProject(i){return{expressID:i,type:"IFCPROJECT",children:[]}}getProperty(i,t,s=!1,n){return Le(this,null,function*(){})}getChunks(i,t,s){return Le(this,null,function*(){})}getItemProperties(i,t,s=!1){return Le(this,null,function*(){})}getNodeType(i,t){}}let jp={103090709:"IFCPROJECT",4097777520:"IFCSITE",4031249490:"IFCBUILDING",3124254112:"IFCBUILDINGSTOREY",3856911033:"IFCSPACE",1674181508:"IFCANNOTATION",25142252:"IFCCONTROLLER",32344328:"IFCBOILER",76236018:"IFCLAMP",90941305:"IFCPUMP",177149247:"IFCAIRTERMINALBOX",182646315:"IFCFLOWINSTRUMENT",263784265:"IFCFURNISHINGELEMENT",264262732:"IFCELECTRICGENERATOR",277319702:"IFCAUDIOVISUALAPPLIANCE",310824031:"IFCPIPEFITTING",331165859:"IFCSTAIR",342316401:"IFCDUCTFITTING",377706215:"IFCMECHANICALFASTENER",395920057:"IFCDOOR",402227799:"IFCELECTRICMOTOR",413509423:"IFCSYSTEMFURNITUREELEMENT",484807127:"IFCEVAPORATOR",486154966:"IFCWINDOWSTANDARDCASE",629592764:"IFCLIGHTFIXTURE",630975310:"IFCUNITARYCONTROLELEMENT",635142910:"IFCCABLECARRIERFITTING",639361253:"IFCCOIL",647756555:"IFCFASTENER",707683696:"IFCFLOWSTORAGEDEVICE",738039164:"IFCPROTECTIVEDEVICE",753842376:"IFCBEAM",812556717:"IFCTANK",819412036:"IFCFILTER",843113511:"IFCCOLUMN",862014818:"IFCELECTRICDISTRIBUTIONBOARD",900683007:"IFCFOOTING",905975707:"IFCCOLUMNSTANDARDCASE",926996030:"IFCVOIDINGFEATURE",979691226:"IFCREINFORCINGBAR",987401354:"IFCFLOWSEGMENT",1003880860:"IFCELECTRICTIMECONTROL",1051757585:"IFCCABLEFITTING",1052013943:"IFCDISTRIBUTIONCHAMBERELEMENT",1062813311:"IFCDISTRIBUTIONCONTROLELEMENT",1073191201:"IFCMEMBER",1095909175:"IFCBUILDINGELEMENTPROXY",1156407060:"IFCPLATESTANDARDCASE",1162798199:"IFCSWITCHINGDEVICE",1329646415:"IFCSHADINGDEVICE",1335981549:"IFCDISCRETEACCESSORY",1360408905:"IFCDUCTSILENCER",1404847402:"IFCSTACKTERMINAL",1426591983:"IFCFIRESUPPRESSIONTERMINAL",1437502449:"IFCMEDICALDEVICE",1509553395:"IFCFURNITURE",1529196076:"IFCSLAB",1620046519:"IFCTRANSPORTELEMENT",1634111441:"IFCAIRTERMINAL",1658829314:"IFCENERGYCONVERSIONDEVICE",1677625105:"IFCCIVILELEMENT",1687234759:"IFCPILE",1904799276:"IFCELECTRICAPPLIANCE",1911478936:"IFCMEMBERSTANDARDCASE",1945004755:"IFCDISTRIBUTIONELEMENT",1973544240:"IFCCOVERING",1999602285:"IFCSPACEHEATER",2016517767:"IFCROOF",2056796094:"IFCAIRTOAIRHEATRECOVERY",2058353004:"IFCFLOWCONTROLLER",2068733104:"IFCHUMIDIFIER",2176052936:"IFCJUNCTIONBOX",2188021234:"IFCFLOWMETER",2223149337:"IFCFLOWTERMINAL",2262370178:"IFCRAILING",2272882330:"IFCCONDENSER",2295281155:"IFCPROTECTIVEDEVICETRIPPINGUNIT",2320036040:"IFCREINFORCINGMESH",2347447852:"IFCTENDONANCHOR",2391383451:"IFCVIBRATIONISOLATOR",2391406946:"IFCWALL",2474470126:"IFCMOTORCONNECTION",2769231204:"IFCVIRTUALELEMENT",2814081492:"IFCENGINE",2906023776:"IFCBEAMSTANDARDCASE",2938176219:"IFCBURNER",2979338954:"IFCBUILDINGELEMENTPART",3024970846:"IFCRAMP",3026737570:"IFCTUBEBUNDLE",3027962421:"IFCSLABSTANDARDCASE",3040386961:"IFCDISTRIBUTIONFLOWELEMENT",3053780830:"IFCSANITARYTERMINAL",3079942009:"IFCOPENINGSTANDARDCASE",3087945054:"IFCALARM",3101698114:"IFCSURFACEFEATURE",3127900445:"IFCSLABELEMENTEDCASE",3132237377:"IFCFLOWMOVINGDEVICE",3171933400:"IFCPLATE",3221913625:"IFCCOMMUNICATIONSAPPLIANCE",3242481149:"IFCDOORSTANDARDCASE",3283111854:"IFCRAMPFLIGHT",3296154744:"IFCCHIMNEY",3304561284:"IFCWINDOW",3310460725:"IFCELECTRICFLOWSTORAGEDEVICE",3319311131:"IFCHEATEXCHANGER",3415622556:"IFCFAN",3420628829:"IFCSOLARDEVICE",3493046030:"IFCGEOGRAPHICELEMENT",3495092785:"IFCCURTAINWALL",3508470533:"IFCFLOWTREATMENTDEVICE",3512223829:"IFCWALLSTANDARDCASE",3518393246:"IFCDUCTSEGMENT",3571504051:"IFCCOMPRESSOR",3588315303:"IFCOPENINGELEMENT",3612865200:"IFCPIPESEGMENT",3640358203:"IFCCOOLINGTOWER",3651124850:"IFCPROJECTIONELEMENT",3694346114:"IFCOUTLET",3747195512:"IFCEVAPORATIVECOOLER",3758799889:"IFCCABLECARRIERSEGMENT",3824725483:"IFCTENDON",3825984169:"IFCTRANSFORMER",3902619387:"IFCCHILLER",4074379575:"IFCDAMPER",4086658281:"IFCSENSOR",4123344466:"IFCELEMENTASSEMBLY",4136498852:"IFCCOOLEDBEAM",4156078855:"IFCWALLELEMENTEDCASE",4175244083:"IFCINTERCEPTOR",4207607924:"IFCVALVE",4217484030:"IFCCABLESEGMENT",4237592921:"IFCWASTETERMINAL",4252922144:"IFCSTAIRFLIGHT",4278956645:"IFCFLOWFITTING",4288193352:"IFCACTUATOR",4292641817:"IFCUNITARYEQUIPMENT",3009204131:"IFCGRID"};class Qp extends Bp{getItemProperties(i,t,s=!1){return Le(this,null,function*(){return this.state.api.GetLine(i,t,s)})}getSpatialStructure(i,t){return Le(this,null,function*(){const s=yield this.getSpatialTreeChunks(i),r=(yield this.state.api.GetLineIDsWithType(i,_h)).get(0),l=Qp.newIfcProject(r);return yield this.getSpatialNode(i,l,s,t),l})}getAllItemsOfType(i,t,s){return Le(this,null,function*(){let n=[];const r=yield this.state.api.GetLineIDsWithType(i,t);for(let a=0;a<r.size();a++)n.push(r.get(a));if(!s)return n;const l=[];for(let a=0;a<n.length;a++)l.push(yield this.state.api.GetLine(i,n[a]));return l})}getProperty(i,t,s=!1,n){return Le(this,null,function*(){const r=yield this.getAllRelatedItemsOfType(i,t,n),l=[];for(let a=0;a<r.length;a++)l.push(yield this.state.api.GetLine(i,r[a],s));return l})}getNodeType(i,t){const s=this.state.models[i].types[t];return jp[s]}getChunks(i,t,s){return Le(this,null,function*(){const n=yield this.state.api.GetLineIDsWithType(i,s.name);for(let r=0;r<n.size();r++){const l=yield this.state.api.GetLine(i,n.get(r),!1);this.saveChunk(t,s,l)}})}getAllRelatedItemsOfType(i,t,s){return Le(this,null,function*(){const n=yield this.state.api.GetLineIDsWithType(i,s.name),r=[];for(let l=0;l<n.size();l++){const a=yield this.state.api.GetLine(i,n.get(l));Bp.isRelated(t,a,s)&&this.getRelated(a,s,r)}return r})}}let tc={3821786052:"IFCACTIONREQUEST",2296667514:"IFCACTOR",3630933823:"IFCACTORROLE",4288193352:"IFCACTUATOR",2874132201:"IFCACTUATORTYPE",618182010:"IFCADDRESS",1635779807:"IFCADVANCEDBREP",2603310189:"IFCADVANCEDBREPWITHVOIDS",3406155212:"IFCADVANCEDFACE",1634111441:"IFCAIRTERMINAL",177149247:"IFCAIRTERMINALBOX",1411407467:"IFCAIRTERMINALBOXTYPE",3352864051:"IFCAIRTERMINALTYPE",2056796094:"IFCAIRTOAIRHEATRECOVERY",1871374353:"IFCAIRTOAIRHEATRECOVERYTYPE",3087945054:"IFCALARM",3001207471:"IFCALARMTYPE",325726236:"IFCALIGNMENT",749761778:"IFCALIGNMENT2DHORIZONTAL",3199563722:"IFCALIGNMENT2DHORIZONTALSEGMENT",2483840362:"IFCALIGNMENT2DSEGMENT",3379348081:"IFCALIGNMENT2DVERSEGCIRCULARARC",3239324667:"IFCALIGNMENT2DVERSEGLINE",4263986512:"IFCALIGNMENT2DVERSEGPARABOLICARC",53199957:"IFCALIGNMENT2DVERTICAL",2029264950:"IFCALIGNMENT2DVERTICALSEGMENT",3512275521:"IFCALIGNMENTCURVE",1674181508:"IFCANNOTATION",669184980:"IFCANNOTATIONFILLAREA",639542469:"IFCAPPLICATION",411424972:"IFCAPPLIEDVALUE",130549933:"IFCAPPROVAL",3869604511:"IFCAPPROVALRELATIONSHIP",3798115385:"IFCARBITRARYCLOSEDPROFILEDEF",1310608509:"IFCARBITRARYOPENPROFILEDEF",2705031697:"IFCARBITRARYPROFILEDEFWITHVOIDS",3460190687:"IFCASSET",3207858831:"IFCASYMMETRICISHAPEPROFILEDEF",277319702:"IFCAUDIOVISUALAPPLIANCE",1532957894:"IFCAUDIOVISUALAPPLIANCETYPE",4261334040:"IFCAXIS1PLACEMENT",3125803723:"IFCAXIS2PLACEMENT2D",2740243338:"IFCAXIS2PLACEMENT3D",1967976161:"IFCBSPLINECURVE",2461110595:"IFCBSPLINECURVEWITHKNOTS",2887950389:"IFCBSPLINESURFACE",167062518:"IFCBSPLINESURFACEWITHKNOTS",753842376:"IFCBEAM",2906023776:"IFCBEAMSTANDARDCASE",819618141:"IFCBEAMTYPE",4196446775:"IFCBEARING",3649138523:"IFCBEARINGTYPE",616511568:"IFCBLOBTEXTURE",1334484129:"IFCBLOCK",32344328:"IFCBOILER",231477066:"IFCBOILERTYPE",3649129432:"IFCBOOLEANCLIPPINGRESULT",2736907675:"IFCBOOLEANRESULT",4037036970:"IFCBOUNDARYCONDITION",1136057603:"IFCBOUNDARYCURVE",1560379544:"IFCBOUNDARYEDGECONDITION",3367102660:"IFCBOUNDARYFACECONDITION",1387855156:"IFCBOUNDARYNODECONDITION",2069777674:"IFCBOUNDARYNODECONDITIONWARPING",1260505505:"IFCBOUNDEDCURVE",4182860854:"IFCBOUNDEDSURFACE",2581212453:"IFCBOUNDINGBOX",2713105998:"IFCBOXEDHALFSPACE",644574406:"IFCBRIDGE",963979645:"IFCBRIDGEPART",4031249490:"IFCBUILDING",3299480353:"IFCBUILDINGELEMENT",2979338954:"IFCBUILDINGELEMENTPART",39481116:"IFCBUILDINGELEMENTPARTTYPE",1095909175:"IFCBUILDINGELEMENTPROXY",1909888760:"IFCBUILDINGELEMENTPROXYTYPE",1950629157:"IFCBUILDINGELEMENTTYPE",3124254112:"IFCBUILDINGSTOREY",1177604601:"IFCBUILDINGSYSTEM",2938176219:"IFCBURNER",2188180465:"IFCBURNERTYPE",2898889636:"IFCCSHAPEPROFILEDEF",635142910:"IFCCABLECARRIERFITTING",395041908:"IFCCABLECARRIERFITTINGTYPE",3758799889:"IFCCABLECARRIERSEGMENT",3293546465:"IFCCABLECARRIERSEGMENTTYPE",1051757585:"IFCCABLEFITTING",2674252688:"IFCCABLEFITTINGTYPE",4217484030:"IFCCABLESEGMENT",1285652485:"IFCCABLESEGMENTTYPE",3999819293:"IFCCAISSONFOUNDATION",3203706013:"IFCCAISSONFOUNDATIONTYPE",1123145078:"IFCCARTESIANPOINT",574549367:"IFCCARTESIANPOINTLIST",1675464909:"IFCCARTESIANPOINTLIST2D",2059837836:"IFCCARTESIANPOINTLIST3D",59481748:"IFCCARTESIANTRANSFORMATIONOPERATOR",3749851601:"IFCCARTESIANTRANSFORMATIONOPERATOR2D",3486308946:"IFCCARTESIANTRANSFORMATIONOPERATOR2DNONUNIFORM",3331915920:"IFCCARTESIANTRANSFORMATIONOPERATOR3D",1416205885:"IFCCARTESIANTRANSFORMATIONOPERATOR3DNONUNIFORM",3150382593:"IFCCENTERLINEPROFILEDEF",3902619387:"IFCCHILLER",2951183804:"IFCCHILLERTYPE",3296154744:"IFCCHIMNEY",2197970202:"IFCCHIMNEYTYPE",2611217952:"IFCCIRCLE",2937912522:"IFCCIRCLEHOLLOWPROFILEDEF",1383045692:"IFCCIRCLEPROFILEDEF",1062206242:"IFCCIRCULARARCSEGMENT2D",1677625105:"IFCCIVILELEMENT",3893394355:"IFCCIVILELEMENTTYPE",747523909:"IFCCLASSIFICATION",647927063:"IFCCLASSIFICATIONREFERENCE",2205249479:"IFCCLOSEDSHELL",639361253:"IFCCOIL",2301859152:"IFCCOILTYPE",776857604:"IFCCOLOURRGB",3285139300:"IFCCOLOURRGBLIST",3264961684:"IFCCOLOURSPECIFICATION",843113511:"IFCCOLUMN",905975707:"IFCCOLUMNSTANDARDCASE",300633059:"IFCCOLUMNTYPE",3221913625:"IFCCOMMUNICATIONSAPPLIANCE",400855858:"IFCCOMMUNICATIONSAPPLIANCETYPE",2542286263:"IFCCOMPLEXPROPERTY",3875453745:"IFCCOMPLEXPROPERTYTEMPLATE",3732776249:"IFCCOMPOSITECURVE",15328376:"IFCCOMPOSITECURVEONSURFACE",2485617015:"IFCCOMPOSITECURVESEGMENT",1485152156:"IFCCOMPOSITEPROFILEDEF",3571504051:"IFCCOMPRESSOR",3850581409:"IFCCOMPRESSORTYPE",2272882330:"IFCCONDENSER",2816379211:"IFCCONDENSERTYPE",2510884976:"IFCCONIC",370225590:"IFCCONNECTEDFACESET",1981873012:"IFCCONNECTIONCURVEGEOMETRY",2859738748:"IFCCONNECTIONGEOMETRY",45288368:"IFCCONNECTIONPOINTECCENTRICITY",2614616156:"IFCCONNECTIONPOINTGEOMETRY",2732653382:"IFCCONNECTIONSURFACEGEOMETRY",775493141:"IFCCONNECTIONVOLUMEGEOMETRY",1959218052:"IFCCONSTRAINT",3898045240:"IFCCONSTRUCTIONEQUIPMENTRESOURCE",2185764099:"IFCCONSTRUCTIONEQUIPMENTRESOURCETYPE",1060000209:"IFCCONSTRUCTIONMATERIALRESOURCE",4105962743:"IFCCONSTRUCTIONMATERIALRESOURCETYPE",488727124:"IFCCONSTRUCTIONPRODUCTRESOURCE",1525564444:"IFCCONSTRUCTIONPRODUCTRESOURCETYPE",2559216714:"IFCCONSTRUCTIONRESOURCE",2574617495:"IFCCONSTRUCTIONRESOURCETYPE",3419103109:"IFCCONTEXT",3050246964:"IFCCONTEXTDEPENDENTUNIT",3293443760:"IFCCONTROL",25142252:"IFCCONTROLLER",578613899:"IFCCONTROLLERTYPE",2889183280:"IFCCONVERSIONBASEDUNIT",2713554722:"IFCCONVERSIONBASEDUNITWITHOFFSET",4136498852:"IFCCOOLEDBEAM",335055490:"IFCCOOLEDBEAMTYPE",3640358203:"IFCCOOLINGTOWER",2954562838:"IFCCOOLINGTOWERTYPE",1785450214:"IFCCOORDINATEOPERATION",1466758467:"IFCCOORDINATEREFERENCESYSTEM",3895139033:"IFCCOSTITEM",1419761937:"IFCCOSTSCHEDULE",602808272:"IFCCOSTVALUE",1973544240:"IFCCOVERING",1916426348:"IFCCOVERINGTYPE",3295246426:"IFCCREWRESOURCE",1815067380:"IFCCREWRESOURCETYPE",2506170314:"IFCCSGPRIMITIVE3D",2147822146:"IFCCSGSOLID",539742890:"IFCCURRENCYRELATIONSHIP",3495092785:"IFCCURTAINWALL",1457835157:"IFCCURTAINWALLTYPE",2601014836:"IFCCURVE",2827736869:"IFCCURVEBOUNDEDPLANE",2629017746:"IFCCURVEBOUNDEDSURFACE",1186437898:"IFCCURVESEGMENT2D",3800577675:"IFCCURVESTYLE",1105321065:"IFCCURVESTYLEFONT",2367409068:"IFCCURVESTYLEFONTANDSCALING",3510044353:"IFCCURVESTYLEFONTPATTERN",1213902940:"IFCCYLINDRICALSURFACE",4074379575:"IFCDAMPER",3961806047:"IFCDAMPERTYPE",3426335179:"IFCDEEPFOUNDATION",1306400036:"IFCDEEPFOUNDATIONTYPE",3632507154:"IFCDERIVEDPROFILEDEF",1765591967:"IFCDERIVEDUNIT",1045800335:"IFCDERIVEDUNITELEMENT",2949456006:"IFCDIMENSIONALEXPONENTS",32440307:"IFCDIRECTION",1335981549:"IFCDISCRETEACCESSORY",2635815018:"IFCDISCRETEACCESSORYTYPE",1945343521:"IFCDISTANCEEXPRESSION",1052013943:"IFCDISTRIBUTIONCHAMBERELEMENT",1599208980:"IFCDISTRIBUTIONCHAMBERELEMENTTYPE",562808652:"IFCDISTRIBUTIONCIRCUIT",1062813311:"IFCDISTRIBUTIONCONTROLELEMENT",2063403501:"IFCDISTRIBUTIONCONTROLELEMENTTYPE",1945004755:"IFCDISTRIBUTIONELEMENT",3256556792:"IFCDISTRIBUTIONELEMENTTYPE",3040386961:"IFCDISTRIBUTIONFLOWELEMENT",3849074793:"IFCDISTRIBUTIONFLOWELEMENTTYPE",3041715199:"IFCDISTRIBUTIONPORT",3205830791:"IFCDISTRIBUTIONSYSTEM",1154170062:"IFCDOCUMENTINFORMATION",770865208:"IFCDOCUMENTINFORMATIONRELATIONSHIP",3732053477:"IFCDOCUMENTREFERENCE",395920057:"IFCDOOR",2963535650:"IFCDOORLININGPROPERTIES",1714330368:"IFCDOORPANELPROPERTIES",3242481149:"IFCDOORSTANDARDCASE",526551008:"IFCDOORSTYLE",2323601079:"IFCDOORTYPE",445594917:"IFCDRAUGHTINGPREDEFINEDCOLOUR",4006246654:"IFCDRAUGHTINGPREDEFINEDCURVEFONT",342316401:"IFCDUCTFITTING",869906466:"IFCDUCTFITTINGTYPE",3518393246:"IFCDUCTSEGMENT",3760055223:"IFCDUCTSEGMENTTYPE",1360408905:"IFCDUCTSILENCER",2030761528:"IFCDUCTSILENCERTYPE",3900360178:"IFCEDGE",476780140:"IFCEDGECURVE",1472233963:"IFCEDGELOOP",1904799276:"IFCELECTRICAPPLIANCE",663422040:"IFCELECTRICAPPLIANCETYPE",862014818:"IFCELECTRICDISTRIBUTIONBOARD",2417008758:"IFCELECTRICDISTRIBUTIONBOARDTYPE",3310460725:"IFCELECTRICFLOWSTORAGEDEVICE",3277789161:"IFCELECTRICFLOWSTORAGEDEVICETYPE",264262732:"IFCELECTRICGENERATOR",1534661035:"IFCELECTRICGENERATORTYPE",402227799:"IFCELECTRICMOTOR",1217240411:"IFCELECTRICMOTORTYPE",1003880860:"IFCELECTRICTIMECONTROL",712377611:"IFCELECTRICTIMECONTROLTYPE",1758889154:"IFCELEMENT",4123344466:"IFCELEMENTASSEMBLY",2397081782:"IFCELEMENTASSEMBLYTYPE",1623761950:"IFCELEMENTCOMPONENT",2590856083:"IFCELEMENTCOMPONENTTYPE",1883228015:"IFCELEMENTQUANTITY",339256511:"IFCELEMENTTYPE",2777663545:"IFCELEMENTARYSURFACE",1704287377:"IFCELLIPSE",2835456948:"IFCELLIPSEPROFILEDEF",1658829314:"IFCENERGYCONVERSIONDEVICE",2107101300:"IFCENERGYCONVERSIONDEVICETYPE",2814081492:"IFCENGINE",132023988:"IFCENGINETYPE",3747195512:"IFCEVAPORATIVECOOLER",3174744832:"IFCEVAPORATIVECOOLERTYPE",484807127:"IFCEVAPORATOR",3390157468:"IFCEVAPORATORTYPE",4148101412:"IFCEVENT",211053100:"IFCEVENTTIME",4024345920:"IFCEVENTTYPE",297599258:"IFCEXTENDEDPROPERTIES",4294318154:"IFCEXTERNALINFORMATION",3200245327:"IFCEXTERNALREFERENCE",1437805879:"IFCEXTERNALREFERENCERELATIONSHIP",1209101575:"IFCEXTERNALSPATIALELEMENT",2853485674:"IFCEXTERNALSPATIALSTRUCTUREELEMENT",2242383968:"IFCEXTERNALLYDEFINEDHATCHSTYLE",1040185647:"IFCEXTERNALLYDEFINEDSURFACESTYLE",3548104201:"IFCEXTERNALLYDEFINEDTEXTFONT",477187591:"IFCEXTRUDEDAREASOLID",2804161546:"IFCEXTRUDEDAREASOLIDTAPERED",2556980723:"IFCFACE",2047409740:"IFCFACEBASEDSURFACEMODEL",1809719519:"IFCFACEBOUND",803316827:"IFCFACEOUTERBOUND",3008276851:"IFCFACESURFACE",807026263:"IFCFACETEDBREP",3737207727:"IFCFACETEDBREPWITHVOIDS",24185140:"IFCFACILITY",1310830890:"IFCFACILITYPART",4219587988:"IFCFAILURECONNECTIONCONDITION",3415622556:"IFCFAN",346874300:"IFCFANTYPE",647756555:"IFCFASTENER",2489546625:"IFCFASTENERTYPE",2827207264:"IFCFEATUREELEMENT",2143335405:"IFCFEATUREELEMENTADDITION",1287392070:"IFCFEATUREELEMENTSUBTRACTION",738692330:"IFCFILLAREASTYLE",374418227:"IFCFILLAREASTYLEHATCHING",315944413:"IFCFILLAREASTYLETILES",819412036:"IFCFILTER",1810631287:"IFCFILTERTYPE",1426591983:"IFCFIRESUPPRESSIONTERMINAL",4222183408:"IFCFIRESUPPRESSIONTERMINALTYPE",2652556860:"IFCFIXEDREFERENCESWEPTAREASOLID",2058353004:"IFCFLOWCONTROLLER",3907093117:"IFCFLOWCONTROLLERTYPE",4278956645:"IFCFLOWFITTING",3198132628:"IFCFLOWFITTINGTYPE",182646315:"IFCFLOWINSTRUMENT",4037862832:"IFCFLOWINSTRUMENTTYPE",2188021234:"IFCFLOWMETER",3815607619:"IFCFLOWMETERTYPE",3132237377:"IFCFLOWMOVINGDEVICE",1482959167:"IFCFLOWMOVINGDEVICETYPE",987401354:"IFCFLOWSEGMENT",1834744321:"IFCFLOWSEGMENTTYPE",707683696:"IFCFLOWSTORAGEDEVICE",1339347760:"IFCFLOWSTORAGEDEVICETYPE",2223149337:"IFCFLOWTERMINAL",2297155007:"IFCFLOWTERMINALTYPE",3508470533:"IFCFLOWTREATMENTDEVICE",3009222698:"IFCFLOWTREATMENTDEVICETYPE",900683007:"IFCFOOTING",1893162501:"IFCFOOTINGTYPE",263784265:"IFCFURNISHINGELEMENT",4238390223:"IFCFURNISHINGELEMENTTYPE",1509553395:"IFCFURNITURE",1268542332:"IFCFURNITURETYPE",3493046030:"IFCGEOGRAPHICELEMENT",4095422895:"IFCGEOGRAPHICELEMENTTYPE",987898635:"IFCGEOMETRICCURVESET",3448662350:"IFCGEOMETRICREPRESENTATIONCONTEXT",2453401579:"IFCGEOMETRICREPRESENTATIONITEM",4142052618:"IFCGEOMETRICREPRESENTATIONSUBCONTEXT",3590301190:"IFCGEOMETRICSET",3009204131:"IFCGRID",852622518:"IFCGRIDAXIS",178086475:"IFCGRIDPLACEMENT",2706460486:"IFCGROUP",812098782:"IFCHALFSPACESOLID",3319311131:"IFCHEATEXCHANGER",1251058090:"IFCHEATEXCHANGERTYPE",2068733104:"IFCHUMIDIFIER",1806887404:"IFCHUMIDIFIERTYPE",1484403080:"IFCISHAPEPROFILEDEF",3905492369:"IFCIMAGETEXTURE",3570813810:"IFCINDEXEDCOLOURMAP",2571569899:"IFCINDEXEDPOLYCURVE",178912537:"IFCINDEXEDPOLYGONALFACE",2294589976:"IFCINDEXEDPOLYGONALFACEWITHVOIDS",1437953363:"IFCINDEXEDTEXTUREMAP",2133299955:"IFCINDEXEDTRIANGLETEXTUREMAP",4175244083:"IFCINTERCEPTOR",3946677679:"IFCINTERCEPTORTYPE",3113134337:"IFCINTERSECTIONCURVE",2391368822:"IFCINVENTORY",3741457305:"IFCIRREGULARTIMESERIES",3020489413:"IFCIRREGULARTIMESERIESVALUE",2176052936:"IFCJUNCTIONBOX",4288270099:"IFCJUNCTIONBOXTYPE",572779678:"IFCLSHAPEPROFILEDEF",3827777499:"IFCLABORRESOURCE",428585644:"IFCLABORRESOURCETYPE",1585845231:"IFCLAGTIME",76236018:"IFCLAMP",1051575348:"IFCLAMPTYPE",2655187982:"IFCLIBRARYINFORMATION",3452421091:"IFCLIBRARYREFERENCE",4162380809:"IFCLIGHTDISTRIBUTIONDATA",629592764:"IFCLIGHTFIXTURE",1161773419:"IFCLIGHTFIXTURETYPE",1566485204:"IFCLIGHTINTENSITYDISTRIBUTION",1402838566:"IFCLIGHTSOURCE",125510826:"IFCLIGHTSOURCEAMBIENT",2604431987:"IFCLIGHTSOURCEDIRECTIONAL",4266656042:"IFCLIGHTSOURCEGONIOMETRIC",1520743889:"IFCLIGHTSOURCEPOSITIONAL",3422422726:"IFCLIGHTSOURCESPOT",1281925730:"IFCLINE",3092502836:"IFCLINESEGMENT2D",388784114:"IFCLINEARPLACEMENT",1154579445:"IFCLINEARPOSITIONINGELEMENT",2624227202:"IFCLOCALPLACEMENT",1008929658:"IFCLOOP",1425443689:"IFCMANIFOLDSOLIDBREP",3057273783:"IFCMAPCONVERSION",2347385850:"IFCMAPPEDITEM",1838606355:"IFCMATERIAL",1847130766:"IFCMATERIALCLASSIFICATIONRELATIONSHIP",3708119e3:"IFCMATERIALCONSTITUENT",2852063980:"IFCMATERIALCONSTITUENTSET",760658860:"IFCMATERIALDEFINITION",2022407955:"IFCMATERIALDEFINITIONREPRESENTATION",248100487:"IFCMATERIALLAYER",3303938423:"IFCMATERIALLAYERSET",1303795690:"IFCMATERIALLAYERSETUSAGE",1847252529:"IFCMATERIALLAYERWITHOFFSETS",2199411900:"IFCMATERIALLIST",2235152071:"IFCMATERIALPROFILE",164193824:"IFCMATERIALPROFILESET",3079605661:"IFCMATERIALPROFILESETUSAGE",3404854881:"IFCMATERIALPROFILESETUSAGETAPERING",552965576:"IFCMATERIALPROFILEWITHOFFSETS",3265635763:"IFCMATERIALPROPERTIES",853536259:"IFCMATERIALRELATIONSHIP",1507914824:"IFCMATERIALUSAGEDEFINITION",2597039031:"IFCMEASUREWITHUNIT",377706215:"IFCMECHANICALFASTENER",2108223431:"IFCMECHANICALFASTENERTYPE",1437502449:"IFCMEDICALDEVICE",1114901282:"IFCMEDICALDEVICETYPE",1073191201:"IFCMEMBER",1911478936:"IFCMEMBERSTANDARDCASE",3181161470:"IFCMEMBERTYPE",3368373690:"IFCMETRIC",2998442950:"IFCMIRROREDPROFILEDEF",2706619895:"IFCMONETARYUNIT",2474470126:"IFCMOTORCONNECTION",977012517:"IFCMOTORCONNECTIONTYPE",1918398963:"IFCNAMEDUNIT",3888040117:"IFCOBJECT",219451334:"IFCOBJECTDEFINITION",3701648758:"IFCOBJECTPLACEMENT",2251480897:"IFCOBJECTIVE",4143007308:"IFCOCCUPANT",590820931:"IFCOFFSETCURVE",3388369263:"IFCOFFSETCURVE2D",3505215534:"IFCOFFSETCURVE3D",2485787929:"IFCOFFSETCURVEBYDISTANCES",2665983363:"IFCOPENSHELL",3588315303:"IFCOPENINGELEMENT",3079942009:"IFCOPENINGSTANDARDCASE",4251960020:"IFCORGANIZATION",1411181986:"IFCORGANIZATIONRELATIONSHIP",643959842:"IFCORIENTATIONEXPRESSION",1029017970:"IFCORIENTEDEDGE",144952367:"IFCOUTERBOUNDARYCURVE",3694346114:"IFCOUTLET",2837617999:"IFCOUTLETTYPE",1207048766:"IFCOWNERHISTORY",2529465313:"IFCPARAMETERIZEDPROFILEDEF",2519244187:"IFCPATH",1682466193:"IFCPCURVE",2382730787:"IFCPERFORMANCEHISTORY",3566463478:"IFCPERMEABLECOVERINGPROPERTIES",3327091369:"IFCPERMIT",2077209135:"IFCPERSON",101040310:"IFCPERSONANDORGANIZATION",3021840470:"IFCPHYSICALCOMPLEXQUANTITY",2483315170:"IFCPHYSICALQUANTITY",2226359599:"IFCPHYSICALSIMPLEQUANTITY",1687234759:"IFCPILE",1158309216:"IFCPILETYPE",310824031:"IFCPIPEFITTING",804291784:"IFCPIPEFITTINGTYPE",3612865200:"IFCPIPESEGMENT",4231323485:"IFCPIPESEGMENTTYPE",597895409:"IFCPIXELTEXTURE",2004835150:"IFCPLACEMENT",603570806:"IFCPLANARBOX",1663979128:"IFCPLANAREXTENT",220341763:"IFCPLANE",3171933400:"IFCPLATE",1156407060:"IFCPLATESTANDARDCASE",4017108033:"IFCPLATETYPE",2067069095:"IFCPOINT",4022376103:"IFCPOINTONCURVE",1423911732:"IFCPOINTONSURFACE",2924175390:"IFCPOLYLOOP",2775532180:"IFCPOLYGONALBOUNDEDHALFSPACE",2839578677:"IFCPOLYGONALFACESET",3724593414:"IFCPOLYLINE",3740093272:"IFCPORT",1946335990:"IFCPOSITIONINGELEMENT",3355820592:"IFCPOSTALADDRESS",759155922:"IFCPREDEFINEDCOLOUR",2559016684:"IFCPREDEFINEDCURVEFONT",3727388367:"IFCPREDEFINEDITEM",3778827333:"IFCPREDEFINEDPROPERTIES",3967405729:"IFCPREDEFINEDPROPERTYSET",1775413392:"IFCPREDEFINEDTEXTFONT",677532197:"IFCPRESENTATIONITEM",2022622350:"IFCPRESENTATIONLAYERASSIGNMENT",1304840413:"IFCPRESENTATIONLAYERWITHSTYLE",3119450353:"IFCPRESENTATIONSTYLE",2417041796:"IFCPRESENTATIONSTYLEASSIGNMENT",2744685151:"IFCPROCEDURE",569719735:"IFCPROCEDURETYPE",2945172077:"IFCPROCESS",4208778838:"IFCPRODUCT",673634403:"IFCPRODUCTDEFINITIONSHAPE",2095639259:"IFCPRODUCTREPRESENTATION",3958567839:"IFCPROFILEDEF",2802850158:"IFCPROFILEPROPERTIES",103090709:"IFCPROJECT",653396225:"IFCPROJECTLIBRARY",2904328755:"IFCPROJECTORDER",3843373140:"IFCPROJECTEDCRS",3651124850:"IFCPROJECTIONELEMENT",2598011224:"IFCPROPERTY",986844984:"IFCPROPERTYABSTRACTION",871118103:"IFCPROPERTYBOUNDEDVALUE",1680319473:"IFCPROPERTYDEFINITION",148025276:"IFCPROPERTYDEPENDENCYRELATIONSHIP",4166981789:"IFCPROPERTYENUMERATEDVALUE",3710013099:"IFCPROPERTYENUMERATION",2752243245:"IFCPROPERTYLISTVALUE",941946838:"IFCPROPERTYREFERENCEVALUE",1451395588:"IFCPROPERTYSET",3357820518:"IFCPROPERTYSETDEFINITION",492091185:"IFCPROPERTYSETTEMPLATE",3650150729:"IFCPROPERTYSINGLEVALUE",110355661:"IFCPROPERTYTABLEVALUE",3521284610:"IFCPROPERTYTEMPLATE",1482703590:"IFCPROPERTYTEMPLATEDEFINITION",738039164:"IFCPROTECTIVEDEVICE",2295281155:"IFCPROTECTIVEDEVICETRIPPINGUNIT",655969474:"IFCPROTECTIVEDEVICETRIPPINGUNITTYPE",1842657554:"IFCPROTECTIVEDEVICETYPE",3219374653:"IFCPROXY",90941305:"IFCPUMP",2250791053:"IFCPUMPTYPE",2044713172:"IFCQUANTITYAREA",2093928680:"IFCQUANTITYCOUNT",931644368:"IFCQUANTITYLENGTH",2090586900:"IFCQUANTITYSET",3252649465:"IFCQUANTITYTIME",2405470396:"IFCQUANTITYVOLUME",825690147:"IFCQUANTITYWEIGHT",2262370178:"IFCRAILING",2893384427:"IFCRAILINGTYPE",3024970846:"IFCRAMP",3283111854:"IFCRAMPFLIGHT",2324767716:"IFCRAMPFLIGHTTYPE",1469900589:"IFCRAMPTYPE",1232101972:"IFCRATIONALBSPLINECURVEWITHKNOTS",683857671:"IFCRATIONALBSPLINESURFACEWITHKNOTS",2770003689:"IFCRECTANGLEHOLLOWPROFILEDEF",3615266464:"IFCRECTANGLEPROFILEDEF",2798486643:"IFCRECTANGULARPYRAMID",3454111270:"IFCRECTANGULARTRIMMEDSURFACE",3915482550:"IFCRECURRENCEPATTERN",2433181523:"IFCREFERENCE",4021432810:"IFCREFERENT",3413951693:"IFCREGULARTIMESERIES",1580146022:"IFCREINFORCEMENTBARPROPERTIES",3765753017:"IFCREINFORCEMENTDEFINITIONPROPERTIES",979691226:"IFCREINFORCINGBAR",2572171363:"IFCREINFORCINGBARTYPE",3027567501:"IFCREINFORCINGELEMENT",964333572:"IFCREINFORCINGELEMENTTYPE",2320036040:"IFCREINFORCINGMESH",2310774935:"IFCREINFORCINGMESHTYPE",160246688:"IFCRELAGGREGATES",3939117080:"IFCRELASSIGNS",1683148259:"IFCRELASSIGNSTOACTOR",2495723537:"IFCRELASSIGNSTOCONTROL",1307041759:"IFCRELASSIGNSTOGROUP",1027710054:"IFCRELASSIGNSTOGROUPBYFACTOR",4278684876:"IFCRELASSIGNSTOPROCESS",2857406711:"IFCRELASSIGNSTOPRODUCT",205026976:"IFCRELASSIGNSTORESOURCE",1865459582:"IFCRELASSOCIATES",4095574036:"IFCRELASSOCIATESAPPROVAL",919958153:"IFCRELASSOCIATESCLASSIFICATION",2728634034:"IFCRELASSOCIATESCONSTRAINT",982818633:"IFCRELASSOCIATESDOCUMENT",3840914261:"IFCRELASSOCIATESLIBRARY",2655215786:"IFCRELASSOCIATESMATERIAL",826625072:"IFCRELCONNECTS",1204542856:"IFCRELCONNECTSELEMENTS",3945020480:"IFCRELCONNECTSPATHELEMENTS",4201705270:"IFCRELCONNECTSPORTTOELEMENT",3190031847:"IFCRELCONNECTSPORTS",2127690289:"IFCRELCONNECTSSTRUCTURALACTIVITY",1638771189:"IFCRELCONNECTSSTRUCTURALMEMBER",504942748:"IFCRELCONNECTSWITHECCENTRICITY",3678494232:"IFCRELCONNECTSWITHREALIZINGELEMENTS",3242617779:"IFCRELCONTAINEDINSPATIALSTRUCTURE",886880790:"IFCRELCOVERSBLDGELEMENTS",2802773753:"IFCRELCOVERSSPACES",2565941209:"IFCRELDECLARES",2551354335:"IFCRELDECOMPOSES",693640335:"IFCRELDEFINES",1462361463:"IFCRELDEFINESBYOBJECT",4186316022:"IFCRELDEFINESBYPROPERTIES",307848117:"IFCRELDEFINESBYTEMPLATE",781010003:"IFCRELDEFINESBYTYPE",3940055652:"IFCRELFILLSELEMENT",279856033:"IFCRELFLOWCONTROLELEMENTS",427948657:"IFCRELINTERFERESELEMENTS",3268803585:"IFCRELNESTS",1441486842:"IFCRELPOSITIONS",750771296:"IFCRELPROJECTSELEMENT",1245217292:"IFCRELREFERENCEDINSPATIALSTRUCTURE",4122056220:"IFCRELSEQUENCE",366585022:"IFCRELSERVICESBUILDINGS",3451746338:"IFCRELSPACEBOUNDARY",3523091289:"IFCRELSPACEBOUNDARY1STLEVEL",1521410863:"IFCRELSPACEBOUNDARY2NDLEVEL",1401173127:"IFCRELVOIDSELEMENT",478536968:"IFCRELATIONSHIP",816062949:"IFCREPARAMETRISEDCOMPOSITECURVESEGMENT",1076942058:"IFCREPRESENTATION",3377609919:"IFCREPRESENTATIONCONTEXT",3008791417:"IFCREPRESENTATIONITEM",1660063152:"IFCREPRESENTATIONMAP",2914609552:"IFCRESOURCE",2943643501:"IFCRESOURCEAPPROVALRELATIONSHIP",1608871552:"IFCRESOURCECONSTRAINTRELATIONSHIP",2439245199:"IFCRESOURCELEVELRELATIONSHIP",1042787934:"IFCRESOURCETIME",1856042241:"IFCREVOLVEDAREASOLID",3243963512:"IFCREVOLVEDAREASOLIDTAPERED",4158566097:"IFCRIGHTCIRCULARCONE",3626867408:"IFCRIGHTCIRCULARCYLINDER",2016517767:"IFCROOF",2781568857:"IFCROOFTYPE",2341007311:"IFCROOT",2778083089:"IFCROUNDEDRECTANGLEPROFILEDEF",448429030:"IFCSIUNIT",3053780830:"IFCSANITARYTERMINAL",1768891740:"IFCSANITARYTERMINALTYPE",1054537805:"IFCSCHEDULINGTIME",2157484638:"IFCSEAMCURVE",2042790032:"IFCSECTIONPROPERTIES",4165799628:"IFCSECTIONREINFORCEMENTPROPERTIES",1862484736:"IFCSECTIONEDSOLID",1290935644:"IFCSECTIONEDSOLIDHORIZONTAL",1509187699:"IFCSECTIONEDSPINE",4086658281:"IFCSENSOR",1783015770:"IFCSENSORTYPE",1329646415:"IFCSHADINGDEVICE",4074543187:"IFCSHADINGDEVICETYPE",867548509:"IFCSHAPEASPECT",3982875396:"IFCSHAPEMODEL",4240577450:"IFCSHAPEREPRESENTATION",4124623270:"IFCSHELLBASEDSURFACEMODEL",3692461612:"IFCSIMPLEPROPERTY",3663146110:"IFCSIMPLEPROPERTYTEMPLATE",4097777520:"IFCSITE",1529196076:"IFCSLAB",3127900445:"IFCSLABELEMENTEDCASE",3027962421:"IFCSLABSTANDARDCASE",2533589738:"IFCSLABTYPE",2609359061:"IFCSLIPPAGECONNECTIONCONDITION",3420628829:"IFCSOLARDEVICE",1072016465:"IFCSOLARDEVICETYPE",723233188:"IFCSOLIDMODEL",3856911033:"IFCSPACE",1999602285:"IFCSPACEHEATER",1305183839:"IFCSPACEHEATERTYPE",3812236995:"IFCSPACETYPE",1412071761:"IFCSPATIALELEMENT",710998568:"IFCSPATIALELEMENTTYPE",2706606064:"IFCSPATIALSTRUCTUREELEMENT",3893378262:"IFCSPATIALSTRUCTUREELEMENTTYPE",463610769:"IFCSPATIALZONE",2481509218:"IFCSPATIALZONETYPE",451544542:"IFCSPHERE",4015995234:"IFCSPHERICALSURFACE",1404847402:"IFCSTACKTERMINAL",3112655638:"IFCSTACKTERMINALTYPE",331165859:"IFCSTAIR",4252922144:"IFCSTAIRFLIGHT",1039846685:"IFCSTAIRFLIGHTTYPE",338393293:"IFCSTAIRTYPE",682877961:"IFCSTRUCTURALACTION",3544373492:"IFCSTRUCTURALACTIVITY",2515109513:"IFCSTRUCTURALANALYSISMODEL",1179482911:"IFCSTRUCTURALCONNECTION",2273995522:"IFCSTRUCTURALCONNECTIONCONDITION",1004757350:"IFCSTRUCTURALCURVEACTION",4243806635:"IFCSTRUCTURALCURVECONNECTION",214636428:"IFCSTRUCTURALCURVEMEMBER",2445595289:"IFCSTRUCTURALCURVEMEMBERVARYING",2757150158:"IFCSTRUCTURALCURVEREACTION",3136571912:"IFCSTRUCTURALITEM",1807405624:"IFCSTRUCTURALLINEARACTION",2162789131:"IFCSTRUCTURALLOAD",385403989:"IFCSTRUCTURALLOADCASE",3478079324:"IFCSTRUCTURALLOADCONFIGURATION",1252848954:"IFCSTRUCTURALLOADGROUP",1595516126:"IFCSTRUCTURALLOADLINEARFORCE",609421318:"IFCSTRUCTURALLOADORRESULT",2668620305:"IFCSTRUCTURALLOADPLANARFORCE",2473145415:"IFCSTRUCTURALLOADSINGLEDISPLACEMENT",1973038258:"IFCSTRUCTURALLOADSINGLEDISPLACEMENTDISTORTION",1597423693:"IFCSTRUCTURALLOADSINGLEFORCE",1190533807:"IFCSTRUCTURALLOADSINGLEFORCEWARPING",2525727697:"IFCSTRUCTURALLOADSTATIC",3408363356:"IFCSTRUCTURALLOADTEMPERATURE",530289379:"IFCSTRUCTURALMEMBER",1621171031:"IFCSTRUCTURALPLANARACTION",2082059205:"IFCSTRUCTURALPOINTACTION",734778138:"IFCSTRUCTURALPOINTCONNECTION",1235345126:"IFCSTRUCTURALPOINTREACTION",3689010777:"IFCSTRUCTURALREACTION",2986769608:"IFCSTRUCTURALRESULTGROUP",3657597509:"IFCSTRUCTURALSURFACEACTION",1975003073:"IFCSTRUCTURALSURFACECONNECTION",3979015343:"IFCSTRUCTURALSURFACEMEMBER",2218152070:"IFCSTRUCTURALSURFACEMEMBERVARYING",603775116:"IFCSTRUCTURALSURFACEREACTION",2830218821:"IFCSTYLEMODEL",3958052878:"IFCSTYLEDITEM",3049322572:"IFCSTYLEDREPRESENTATION",148013059:"IFCSUBCONTRACTRESOURCE",4095615324:"IFCSUBCONTRACTRESOURCETYPE",2233826070:"IFCSUBEDGE",2513912981:"IFCSURFACE",699246055:"IFCSURFACECURVE",2028607225:"IFCSURFACECURVESWEPTAREASOLID",3101698114:"IFCSURFACEFEATURE",2809605785:"IFCSURFACEOFLINEAREXTRUSION",4124788165:"IFCSURFACEOFREVOLUTION",2934153892:"IFCSURFACEREINFORCEMENTAREA",1300840506:"IFCSURFACESTYLE",3303107099:"IFCSURFACESTYLELIGHTING",1607154358:"IFCSURFACESTYLEREFRACTION",1878645084:"IFCSURFACESTYLERENDERING",846575682:"IFCSURFACESTYLESHADING",1351298697:"IFCSURFACESTYLEWITHTEXTURES",626085974:"IFCSURFACETEXTURE",2247615214:"IFCSWEPTAREASOLID",1260650574:"IFCSWEPTDISKSOLID",1096409881:"IFCSWEPTDISKSOLIDPOLYGONAL",230924584:"IFCSWEPTSURFACE",1162798199:"IFCSWITCHINGDEVICE",2315554128:"IFCSWITCHINGDEVICETYPE",2254336722:"IFCSYSTEM",413509423:"IFCSYSTEMFURNITUREELEMENT",1580310250:"IFCSYSTEMFURNITUREELEMENTTYPE",3071757647:"IFCTSHAPEPROFILEDEF",985171141:"IFCTABLE",2043862942:"IFCTABLECOLUMN",531007025:"IFCTABLEROW",812556717:"IFCTANK",5716631:"IFCTANKTYPE",3473067441:"IFCTASK",1549132990:"IFCTASKTIME",2771591690:"IFCTASKTIMERECURRING",3206491090:"IFCTASKTYPE",912023232:"IFCTELECOMADDRESS",3824725483:"IFCTENDON",2347447852:"IFCTENDONANCHOR",3081323446:"IFCTENDONANCHORTYPE",3663046924:"IFCTENDONCONDUIT",2281632017:"IFCTENDONCONDUITTYPE",2415094496:"IFCTENDONTYPE",2387106220:"IFCTESSELLATEDFACESET",901063453:"IFCTESSELLATEDITEM",4282788508:"IFCTEXTLITERAL",3124975700:"IFCTEXTLITERALWITHEXTENT",1447204868:"IFCTEXTSTYLE",1983826977:"IFCTEXTSTYLEFONTMODEL",2636378356:"IFCTEXTSTYLEFORDEFINEDFONT",1640371178:"IFCTEXTSTYLETEXTMODEL",280115917:"IFCTEXTURECOORDINATE",1742049831:"IFCTEXTURECOORDINATEGENERATOR",2552916305:"IFCTEXTUREMAP",1210645708:"IFCTEXTUREVERTEX",3611470254:"IFCTEXTUREVERTEXLIST",1199560280:"IFCTIMEPERIOD",3101149627:"IFCTIMESERIES",581633288:"IFCTIMESERIESVALUE",1377556343:"IFCTOPOLOGICALREPRESENTATIONITEM",1735638870:"IFCTOPOLOGYREPRESENTATION",1935646853:"IFCTOROIDALSURFACE",3825984169:"IFCTRANSFORMER",1692211062:"IFCTRANSFORMERTYPE",2595432518:"IFCTRANSITIONCURVESEGMENT2D",1620046519:"IFCTRANSPORTELEMENT",2097647324:"IFCTRANSPORTELEMENTTYPE",2715220739:"IFCTRAPEZIUMPROFILEDEF",2916149573:"IFCTRIANGULATEDFACESET",1229763772:"IFCTRIANGULATEDIRREGULARNETWORK",3593883385:"IFCTRIMMEDCURVE",3026737570:"IFCTUBEBUNDLE",1600972822:"IFCTUBEBUNDLETYPE",1628702193:"IFCTYPEOBJECT",3736923433:"IFCTYPEPROCESS",2347495698:"IFCTYPEPRODUCT",3698973494:"IFCTYPERESOURCE",427810014:"IFCUSHAPEPROFILEDEF",180925521:"IFCUNITASSIGNMENT",630975310:"IFCUNITARYCONTROLELEMENT",3179687236:"IFCUNITARYCONTROLELEMENTTYPE",4292641817:"IFCUNITARYEQUIPMENT",1911125066:"IFCUNITARYEQUIPMENTTYPE",4207607924:"IFCVALVE",728799441:"IFCVALVETYPE",1417489154:"IFCVECTOR",2799835756:"IFCVERTEX",2759199220:"IFCVERTEXLOOP",1907098498:"IFCVERTEXPOINT",1530820697:"IFCVIBRATIONDAMPER",3956297820:"IFCVIBRATIONDAMPERTYPE",2391383451:"IFCVIBRATIONISOLATOR",3313531582:"IFCVIBRATIONISOLATORTYPE",2769231204:"IFCVIRTUALELEMENT",891718957:"IFCVIRTUALGRIDINTERSECTION",926996030:"IFCVOIDINGFEATURE",2391406946:"IFCWALL",4156078855:"IFCWALLELEMENTEDCASE",3512223829:"IFCWALLSTANDARDCASE",1898987631:"IFCWALLTYPE",4237592921:"IFCWASTETERMINAL",1133259667:"IFCWASTETERMINALTYPE",3304561284:"IFCWINDOW",336235671:"IFCWINDOWLININGPROPERTIES",512836454:"IFCWINDOWPANELPROPERTIES",486154966:"IFCWINDOWSTANDARDCASE",1299126871:"IFCWINDOWSTYLE",4009809668:"IFCWINDOWTYPE",4088093105:"IFCWORKCALENDAR",1028945134:"IFCWORKCONTROL",4218914973:"IFCWORKPLAN",3342526732:"IFCWORKSCHEDULE",1236880293:"IFCWORKTIME",2543172580:"IFCZSHAPEPROFILEDEF",1033361043:"IFCZONE"};class $h extends Bp{getItemProperties(i,t,s=!1){return Le(this,null,function*(){return cl({},this.state.models[i].jsonData[t])})}getSpatialStructure(i,t){return Le(this,null,function*(){const s=yield this.getSpatialTreeChunks(i),r=(yield this.getAllItemsOfType(i,_h,!1))[0],l=$h.newIfcProject(r);return yield this.getSpatialNode(i,l,s,t),cl({},l)})}getAllItemsOfType(i,t,s){return Le(this,null,function*(){const n=this.state.models[i].jsonData,r=tc[t];if(!r)throw new Error(`Type not found: ${t}`);return this.filterItemsByType(n,r,s)})}getProperty(i,t,s=!1,n){return Le(this,null,function*(){const r=yield this.getAllRelatedItemsOfType(i,t,n),l=this.getItemsByID(i,r);return s&&l.forEach(a=>this.getReferencesRecursively(i,a)),l})}getNodeType(i,t){return this.state.models[i].jsonData[t].type}getChunks(i,t,s){return Le(this,null,function*(){(yield this.getAllItemsOfType(i,s.name,!0)).forEach(r=>{this.saveChunk(t,s,r)})})}filterItemsByType(i,t,s){const n=[];return Object.keys(i).forEach(r=>{const l=parseInt(r);i[l].type.toUpperCase()===t&&n.push(s?cl({},i[l]):l)}),n}getAllRelatedItemsOfType(i,t,s){return Le(this,null,function*(){const n=yield this.getAllItemsOfType(i,s.name,!0),r=[];return n.forEach(l=>{$h.isRelated(t,l,s)&&this.getRelated(l,s,r)}),r})}getItemsByID(i,t){const s=this.state.models[i].jsonData,n=[];return t.forEach(r=>n.push(cl({},s[r]))),n}getReferencesRecursively(i,t){if(t==null)return;const s=Object.keys(t);for(let n=0;n<s.length;n++){const r=s[n];this.getJSONItem(i,t,r)}}getJSONItem(i,t,s){if(Array.isArray(t[s]))return this.getMultipleJSONItems(i,t,s);t[s]&&t[s].type===5&&(t[s]=this.getItemsByID(i,[t[s].value])[0],this.getReferencesRecursively(i,t[s]))}getMultipleJSONItems(i,t,s){t[s]=t[s].map(n=>(n.type===5&&(n=this.getItemsByID(i,[n.value])[0],this.getReferencesRecursively(i,n)),n))}}class L6{constructor(i){this.state=i,this.webIfcProps=new Qp(i),this.jsonProps=new $h(i),this.currentProps=this.webIfcProps}getExpressId(i,t){if(!i.index)throw new Error("Geometry does not have index information.");const s=i.index.array;return i.attributes[Xv].getX(s[3*t])}getItemProperties(i,t,s=!1){return Le(this,null,function*(){return this.updateCurrentProps(),this.currentProps.getItemProperties(i,t,s)})}getAllItemsOfType(i,t,s){return Le(this,null,function*(){return this.updateCurrentProps(),this.currentProps.getAllItemsOfType(i,t,s)})}getPropertySets(i,t,s=!1){return Le(this,null,function*(){return this.updateCurrentProps(),this.currentProps.getPropertySets(i,t,s)})}getTypeProperties(i,t,s=!1){return Le(this,null,function*(){return this.updateCurrentProps(),this.currentProps.getTypeProperties(i,t,s)})}getMaterialsProperties(i,t,s=!1){return Le(this,null,function*(){return this.updateCurrentProps(),this.currentProps.getMaterialsProperties(i,t,s)})}getSpatialStructure(i,t){return Le(this,null,function*(){return this.updateCurrentProps(),!this.state.useJSON&&t&&console.warn("Including properties in getSpatialStructure with the JSON workflow disabled can lead to poor performance."),yield this.currentProps.getSpatialStructure(i,t)})}updateCurrentProps(){this.currentProps=this.state.useJSON?this.jsonProps:this.webIfcProps}}class F6{constructor(i){this.state=i,this.state=i}getAllTypes(i){return Le(this,null,function*(){for(let t in this.state.models)if(this.state.models.hasOwnProperty(t)){const s=this.state.models[t].types;Object.keys(s).length==0&&(yield this.getAllTypesOfModel(parseInt(t),i))}})}getAllTypesOfModel(i,t){return Le(this,null,function*(){const s={},n=Object.keys(jp).map(r=>parseInt(r));for(let r=0;r<n.length;r++){const l=n[r],a=yield this.state.api.GetLineIDsWithType(i,l),o=a.size();for(let c=0;c<o;c++)s[a.get(c)]=l}this.state.worker.active&&t&&(yield t.workerState.updateModelStateTypes(i,s)),this.state.models[i].types=s})}}class N6{initializeMeshBVH(i,t,s){this.computeBoundsTree=i,this.disposeBoundsTree=t,this.acceleratedRaycast=s,this.setupThreeMeshBVH()}applyThreeMeshBVH(i){this.computeBoundsTree&&i.computeBoundsTree()}setupThreeMeshBVH(){!this.computeBoundsTree||!this.disposeBoundsTree||!this.acceleratedRaycast||(It.prototype.computeBoundsTree=this.computeBoundsTree,It.prototype.disposeBoundsTree=this.disposeBoundsTree,ns.prototype.raycast=this.acceleratedRaycast)}}var Lt;(function(e){e.updateStateUseJson="updateStateUseJson",e.updateStateWebIfcSettings="updateStateWebIfcSettings",e.updateModelStateTypes="updateModelStateTypes",e.updateModelStateJsonData="updateModelStateJsonData",e.loadJsonDataFromWorker="loadJsonDataFromWorker",e.dispose="dispose",e.Close="Close",e.DisposeWebIfc="DisposeWebIfc",e.Init="Init",e.OpenModel="OpenModel",e.CreateModel="CreateModel",e.ExportFileAsIFC="ExportFileAsIFC",e.GetGeometry="GetGeometry",e.GetLine="GetLine",e.GetAndClearErrors="GetAndClearErrors",e.WriteLine="WriteLine",e.FlattenLine="FlattenLine",e.GetRawLineData="GetRawLineData",e.WriteRawLineData="WriteRawLineData",e.GetLineIDsWithType="GetLineIDsWithType",e.GetAllLines="GetAllLines",e.SetGeometryTransformation="SetGeometryTransformation",e.GetCoordinationMatrix="GetCoordinationMatrix",e.GetVertexArray="GetVertexArray",e.GetIndexArray="GetIndexArray",e.getSubArray="getSubArray",e.CloseModel="CloseModel",e.StreamAllMeshes="StreamAllMeshes",e.StreamAllMeshesWithTypes="StreamAllMeshesWithTypes",e.IsModelOpen="IsModelOpen",e.LoadAllGeometry="LoadAllGeometry",e.GetFlatMesh="GetFlatMesh",e.SetWasmPath="SetWasmPath",e.parse="parse",e.setupOptionalCategories="setupOptionalCategories",e.getExpressId="getExpressId",e.initializeProperties="initializeProperties",e.getAllItemsOfType="getAllItemsOfType",e.getItemProperties="getItemProperties",e.getMaterialsProperties="getMaterialsProperties",e.getPropertySets="getPropertySets",e.getSpatialStructure="getSpatialStructure",e.getTypeProperties="getTypeProperties"})(Lt||(Lt={}));var er;(function(e){e.workerState="workerState",e.webIfc="webIfc",e.properties="properties",e.parser="parser"})(er||(er={}));class x6{constructor(i){this._data={},this._size=i.size,Object.keys(i).filter(s=>s.indexOf("size")===-1).map(s=>parseInt(s)).forEach(s=>this._data[s]=i[s])}size(){return this._size}get(i){return this._data[i]}}class v6{constructor(i){this._GetVertexData=i.GetVertexData,this._GetVertexDataSize=i.GetVertexDataSize,this._GetIndexData=i.GetIndexData,this._GetIndexDataSize=i.GetIndexDataSize}GetVertexData(){return this._GetVertexData}GetVertexDataSize(){return this._GetVertexDataSize}GetIndexData(){return this._GetIndexData}GetIndexDataSize(){return this._GetIndexDataSize}}class E6{constructor(i,t){this.expressID=t.expressID,this.geometries=i.reconstructVector(t.geometries)}}class Y6{constructor(i,t){this._data={},this._size=t.size,Object.keys(t).filter(n=>n.indexOf("size")===-1).map(n=>parseInt(n)).forEach(n=>this._data[n]=i.reconstructFlatMesh(t[n]))}size(){return this._size}get(i){return this._data[i]}}class Wv{constructor(i){this.color=[i.color.r,i.color.g,i.color.b],this.opacity=i.opacity,this.transparent=i.transparent}}class M6{static new(i){return new Gh({color:new ie(i.color[0],i.color[1],i.color[2]),opacity:i.opacity,transparent:i.transparent,side:pi})}}class w6{constructor(i){var t,s,n,r;this.position=((t=i.attributes.position)===null||t===void 0?void 0:t.array)||[],this.normal=((s=i.attributes.normal)===null||s===void 0?void 0:s.array)||[],this.expressID=((n=i.attributes.expressID)===null||n===void 0?void 0:n.array)||[],this.index=((r=i.index)===null||r===void 0?void 0:r.array)||[],this.groups=i.groups}}class sc{static new(i){const t=new It;return sc.set(t,"expressID",new Uint32Array(i.expressID),1),sc.set(t,"position",new Float32Array(i.position),3),sc.set(t,"normal",new Float32Array(i.normal),3),t.setIndex(Array.from(i.index)),t.groups=i.groups,t}static set(i,t,s,n){s.length>0&&i.setAttribute(t,new Nt(s,n))}}class H6{constructor(i){this.materials=[],this.modelID=i.modelID,this.geometry=new w6(i.geometry),Array.isArray(i.material)?i.material.forEach(t=>{this.materials.push(new Wv(t))}):this.materials.push(new Wv(i.material))}}class _p{static new(i){const t=new hl;return t.modelID=i.modelID,t.geometry=sc.new(i.geometry),_p.getMaterials(i,t),t}static getMaterials(i,t){t.material=[];const s=t.material;i.materials.forEach(n=>{s.push(M6.new(n))})}}class P6{serializeVector(i){const t=i.size(),s={size:t};for(let n=0;n<t;n++)s[n]=i.get(n);return s}reconstructVector(i){return new x6(i)}serializeIfcGeometry(i){const t=i.GetVertexData(),s=i.GetVertexDataSize(),n=i.GetIndexData(),r=i.GetIndexDataSize();return{GetVertexData:t,GetVertexDataSize:s,GetIndexData:n,GetIndexDataSize:r}}reconstructIfcGeometry(i){return new v6(i)}serializeFlatMesh(i){return{expressID:i.expressID,geometries:this.serializeVector(i.geometries)}}reconstructFlatMesh(i){return new E6(this,i)}serializeFlatMeshVector(i){const t=i.size(),s={size:t};for(let n=0;n<t;n++){const r=i.get(n);s[n]=this.serializeFlatMesh(r)}return s}reconstructFlatMeshVector(i){return new Y6(this,i)}serializeIfcModel(i){return new H6(i)}reconstructIfcModel(i){return _p.new(i)}}class z6{constructor(i){this.handler=i,this.API=er.properties}getExpressId(i,t){if(!i.index)throw new Error("Geometry does not have index information.");const s=i.index.array;return i.attributes[Xv].getX(s[3*t])}getAllItemsOfType(i,t,s){return this.handler.request(this.API,Lt.getAllItemsOfType,{modelID:i,type:t,verbose:s})}getItemProperties(i,t,s){return this.handler.request(this.API,Lt.getItemProperties,{modelID:i,elementID:t,recursive:s})}getMaterialsProperties(i,t,s){return this.handler.request(this.API,Lt.getMaterialsProperties,{modelID:i,elementID:t,recursive:s})}getPropertySets(i,t,s){return this.handler.request(this.API,Lt.getPropertySets,{modelID:i,elementID:t,recursive:s})}getTypeProperties(i,t,s){return this.handler.request(this.API,Lt.getTypeProperties,{modelID:i,elementID:t,recursive:s})}getSpatialStructure(i,t){return this.handler.request(this.API,Lt.getSpatialStructure,{modelID:i,includeProperties:t})}}class U6{constructor(i,t){this.handler=i,this.serializer=t,this.API=er.webIfc}Init(){return Le(this,null,function*(){return this.wasmModule=!0,this.handler.request(this.API,Lt.Init)})}OpenModel(i,t){return Le(this,null,function*(){return this.handler.request(this.API,Lt.OpenModel,{data:i,settings:t})})}CreateModel(i){return Le(this,null,function*(){return this.handler.request(this.API,Lt.CreateModel,{settings:i})})}ExportFileAsIFC(i){return Le(this,null,function*(){return this.handler.request(this.API,Lt.ExportFileAsIFC,{modelID:i})})}GetGeometry(i,t){return Le(this,null,function*(){return this.handler.serializeHandlers[this.handler.requestID]=s=>this.serializer.reconstructIfcGeometry(s),this.handler.request(this.API,Lt.GetGeometry,{modelID:i,geometryExpressID:t})})}GetLine(i,t,s){return Le(this,null,function*(){return this.handler.request(this.API,Lt.GetLine,{modelID:i,expressID:t,flatten:s})})}GetAndClearErrors(i){return Le(this,null,function*(){return this.handler.serializeHandlers[this.handler.requestID]=t=>this.serializer.reconstructVector(t),this.handler.request(this.API,Lt.GetAndClearErrors,{modelID:i})})}WriteLine(i,t){return Le(this,null,function*(){return this.handler.request(this.API,Lt.WriteLine,{modelID:i,lineObject:t})})}FlattenLine(i,t){return Le(this,null,function*(){return this.handler.request(this.API,Lt.FlattenLine,{modelID:i,line:t})})}GetRawLineData(i,t){return Le(this,null,function*(){return this.handler.request(this.API,Lt.GetRawLineData,{modelID:i,expressID:t})})}WriteRawLineData(i,t){return Le(this,null,function*(){return this.handler.request(this.API,Lt.WriteRawLineData,{modelID:i,data:t})})}GetLineIDsWithType(i,t){return Le(this,null,function*(){return this.handler.serializeHandlers[this.handler.requestID]=s=>this.serializer.reconstructVector(s),this.handler.request(this.API,Lt.GetLineIDsWithType,{modelID:i,type:t})})}GetAllLines(i){return Le(this,null,function*(){return this.handler.serializeHandlers[this.handler.requestID]=t=>this.serializer.reconstructVector(t),this.handler.request(this.API,Lt.GetAllLines,{modelID:i})})}SetGeometryTransformation(i,t){return Le(this,null,function*(){return this.handler.request(this.API,Lt.SetGeometryTransformation,{modelID:i,transformationMatrix:t})})}GetCoordinationMatrix(i){return Le(this,null,function*(){return this.handler.request(this.API,Lt.GetCoordinationMatrix,{modelID:i})})}GetVertexArray(i,t){return Le(this,null,function*(){return this.handler.request(this.API,Lt.GetVertexArray,{ptr:i,size:t})})}GetIndexArray(i,t){return Le(this,null,function*(){return this.handler.request(this.API,Lt.GetIndexArray,{ptr:i,size:t})})}getSubArray(i,t,s){return Le(this,null,function*(){return this.handler.request(this.API,Lt.getSubArray,{heap:i,startPtr:t,sizeBytes:s})})}CloseModel(i){return Le(this,null,function*(){return this.handler.request(this.API,Lt.CloseModel,{modelID:i})})}StreamAllMeshes(i,t){return Le(this,null,function*(){return this.handler.callbackHandlers[this.handler.requestID]={action:t,serializer:this.serializer.reconstructFlatMesh},this.handler.request(this.API,Lt.StreamAllMeshes,{modelID:i})})}StreamAllMeshesWithTypes(i,t,s){return Le(this,null,function*(){return this.handler.callbackHandlers[this.handler.requestID]={action:s,serializer:this.serializer.reconstructFlatMesh},this.handler.request(this.API,Lt.StreamAllMeshesWithTypes,{modelID:i,types:t})})}IsModelOpen(i){return Le(this,null,function*(){return this.handler.request(this.API,Lt.IsModelOpen,{modelID:i})})}LoadAllGeometry(i){return Le(this,null,function*(){return this.handler.serializeHandlers[this.handler.requestID]=t=>this.serializer.reconstructFlatMeshVector(t),this.handler.request(this.API,Lt.LoadAllGeometry,{modelID:i})})}GetFlatMesh(i,t){return Le(this,null,function*(){return this.handler.serializeHandlers[this.handler.requestID]=s=>this.serializer.reconstructFlatMesh(s),this.handler.request(this.API,Lt.GetFlatMesh,{modelID:i,expressID:t})})}SetWasmPath(i){return Le(this,null,function*(){return this.handler.request(this.API,Lt.SetWasmPath,{path:i})})}}class k6{constructor(i){this.handler=i,this.API=er.workerState,this.state=this.handler.state}updateStateUseJson(){return Le(this,null,function*(){const i=this.state.useJSON;return this.handler.request(this.API,Lt.updateStateUseJson,{useJson:i})})}updateStateWebIfcSettings(){return Le(this,null,function*(){const i=this.state.webIfcSettings;return this.handler.request(this.API,Lt.updateStateWebIfcSettings,{webIfcSettings:i})})}updateModelStateTypes(i,t){return Le(this,null,function*(){return this.handler.request(this.API,Lt.updateModelStateTypes,{modelID:i,types:t})})}updateModelStateJsonData(i,t){return Le(this,null,function*(){return this.handler.request(this.API,Lt.updateModelStateJsonData,{modelID:i,jsonData:t})})}loadJsonDataFromWorker(i,t){return Le(this,null,function*(){return this.handler.request(this.API,Lt.loadJsonDataFromWorker,{modelID:i,path:t})})}}var qp;(function(e){e[e.transferIfcModel=0]="transferIfcModel",e[e.transferIndividualItems=1]="transferIndividualItems"})(qp||(qp={}));class vr{save(i,t){return Le(this,null,function*(){const s=vr.openOrCreateDB(t);return this.createSchema(s,t),new Promise((n,r)=>{s.onsuccess=()=>this.saveItem(i,s,t,n)})})}load(i){return Le(this,null,function*(){const t=vr.openOrCreateDB(i);return new Promise((s,n)=>{t.onsuccess=()=>this.loadItem(t,i,s)})})}createSchema(i,t){i.onupgradeneeded=function(){i.result.createObjectStore(t.toString(),{keyPath:"id"})}}saveItem(i,t,s,n){const{db:r,tx:l,store:a}=vr.getDBItems(t,s);i.id=s,a.put(i),l.oncomplete=()=>vr.closeDB(r,l,n)}loadItem(i,t,s){const{db:n,tx:r,store:l}=vr.getDBItems(i,t),a=l.get(t),o=()=>{delete a.result.id,s(a.result)};r.oncomplete=()=>vr.closeDB(n,r,o)}static getDBItems(i,t){const s=i.result,n=s.transaction(t.toString(),"readwrite"),r=n.objectStore(t.toString());return{db:s,tx:n,store:r}}static openOrCreateDB(i){return indexedDB.open(i.toString(),1)}static closeDB(i,t,s){i.close(),s("success")}}class D6{constructor(i,t,s,n){this.handler=i,this.serializer=t,this.BVH=s,this.IDB=n,this.optionalCategories={[ec]:!0,[$o]:!1},this.API=er.parser}setupOptionalCategories(i){return Le(this,null,function*(){return this.optionalCategories=i,this.handler.request(this.API,Lt.setupOptionalCategories,{config:i})})}parse(i,t){return Le(this,null,function*(){return this.handler.onprogressHandlers[this.handler.requestID]=s=>{this.handler.state.onProgress&&this.handler.state.onProgress(s)},this.handler.serializeHandlers[this.handler.requestID]=s=>Le(this,null,function*(){return this.updateState(s.modelID),this.getModel()}),this.handler.request(this.API,Lt.parse,{buffer:i,coordinationMatrix:t})})}getAndClearErrors(i){}updateState(i){this.handler.state.models[i]={modelID:i,mesh:{},types:{},jsonData:{}}}getModel(){return Le(this,null,function*(){const i=yield this.IDB.load(qp.transferIfcModel),t=this.serializer.reconstructIfcModel(i);return this.BVH.applyThreeMeshBVH(t.geometry),this.handler.state.models[t.modelID].mesh=t,t})}}class J6{constructor(i,t){this.state=i,this.BVH=t,this.requestID=0,this.rejectHandlers={},this.resolveHandlers={},this.serializeHandlers={},this.callbackHandlers={},this.onprogressHandlers={},this.serializer=new P6,this.IDB=new vr,this.workerPath=this.state.worker.path,this.ifcWorker=new Worker(this.workerPath),this.ifcWorker.onmessage=s=>this.handleResponse(s),this.properties=new z6(this),this.parser=new D6(this,this.serializer,this.BVH,this.IDB),this.webIfc=new U6(this,this.serializer),this.workerState=new k6(this)}request(i,t,s){const n={worker:i,action:t,args:s,id:this.requestID,result:void 0,onProgress:!1};return new Promise((r,l)=>{this.resolveHandlers[this.requestID]=r,this.rejectHandlers[this.requestID]=l,this.requestID++,this.ifcWorker.postMessage(n)})}terminate(){return Le(this,null,function*(){yield this.request(er.workerState,Lt.dispose),yield this.request(er.webIfc,Lt.DisposeWebIfc),this.ifcWorker.terminate()})}Close(){return Le(this,null,function*(){yield this.request(er.webIfc,Lt.Close)})}handleResponse(i){const t=i.data;if(t.onProgress){this.resolveOnProgress(t);return}this.callHandlers(t),delete this.resolveHandlers[t.id],delete this.rejectHandlers[t.id],delete this.onprogressHandlers[t.id]}callHandlers(i){try{this.resolveSerializations(i),this.resolveCallbacks(i),this.resolveHandlers[i.id](i.result)}catch(t){this.rejectHandlers[i.id](t)}}resolveOnProgress(i){this.onprogressHandlers[i.id]&&(i.result=this.onprogressHandlers[i.id](i.result))}resolveSerializations(i){this.serializeHandlers[i.id]&&(i.result=this.serializeHandlers[i.id](i.result),delete this.serializeHandlers[i.id])}resolveCallbacks(i){if(this.callbackHandlers[i.id]){let t=i.result;this.callbackHandlers[i.id].serializer&&(t=this.callbackHandlers[i.id].serializer(i.result)),this.callbackHandlers[i.id].action(t)}}}class K6{constructor(i){this.state=i}dispose(){return Le(this,null,function*(){Object.keys(this.state.models).forEach(i=>{const t=this.state.models[parseInt(i,10)];t.mesh.removeFromParent();const s=t.mesh.geometry;s.disposeBoundsTree&&s.disposeBoundsTree(),s.dispose(),Array.isArray(t.mesh.material)?t.mesh.material.forEach(n=>n.dispose()):t.mesh.material.dispose(),t.mesh=null,t.types=null,t.jsonData=null}),this.state.api=null,this.state.models=null})}}class Sv{constructor(i){this.state=i,this.map={}}getMapping(){this.map=this.reverseElementMapping(tc)}releaseMapping(){this.map={}}reverseElementMapping(i){let t={};return Object.keys(i).forEach(s=>{t[i[s]]=s}),t}isA(i,t){var s=!1;return t?(tc[i.type]===t.toUpperCase()&&(s=!0),s):tc[i.type]}byId(i,t){return Le(this,null,function*(){return this.state.api.GetLine(i,t)})}idsByType(i,t){return Le(this,null,function*(){this.getMapping();let s=yield this.state.api.GetLineIDsWithType(i,Number(this.map[t.toUpperCase()]));return this.releaseMapping(),s})}byType(i,t){return Le(this,null,function*(){let s=yield this.idsByType(i,t);if(s!==null){this.getMapping();let n=[];for(let r=0;r<s.size();r++){let l=yield this.byId(i,s.get(r));n.push(l)}return this.releaseMapping(),n}})}}class O6{constructor(i){this.state=i,this.is_loaded=!1,this.work_plans={},this.workSchedules={},this.work_calendars={},this.work_times={},this.recurrence_patterns={},this.time_periods={},this.tasks={},this.task_times={},this.lag_times={},this.sequences={},this.utils=new Sv(this.state)}load(i){return Le(this,null,function*(){yield this.loadTasks(i),this.loadWorkSchedules(i)})}loadWorkSchedules(i){return Le(this,null,function*(){let t=yield this.utils.byType(i,"IfcWorkSchedule");for(let s=0;s<t.length;s++){let n=t[s];this.workSchedules[n.expressID]={Id:n.expressID,Name:n.Name.value,Description:n.Description?n.Description.value:"",Creators:[],CreationDate:n.CreationDate?n.CreationDate.value:"",StartTime:n.StartTime?n.StartTime.value:"",FinishTime:n.FinishTime?n.FinishTime.value:"",TotalFloat:n.TotalFloat?n.TotalFloat.value:"",RelatedObjects:[]}}this.loadWorkScheduleRelatedObjects(i)})}loadWorkScheduleRelatedObjects(i){return Le(this,null,function*(){let t=yield this.utils.byType(i,"IfcRelAssignsToControl");console.log("Rel Controls:",t);for(let n=0;n<t.length;n++){let r=t[n],l=yield this.utils.byId(i,r.RelatingControl.value),a=r.RelatedObjects;if(this.utils.isA(l,"IfcWorkSchedule"))for(var s=0;s<a.length;s++)this.workSchedules[l.expressID].RelatedObjects.push(a[s].value)}})}loadTasks(i){return Le(this,null,function*(){let t=yield this.utils.byType(i,"IfcTask");for(let s=0;s<t.length;s++){let n=t[s];this.tasks[n.expressID]={Id:n.expressID,Name:n.Name.value,TaskTime:n.TaskTime?yield this.utils.byId(i,n.TaskTime.value):"",Identification:n.Identification.value,IsMilestone:n.IsMilestone.value,IsPredecessorTo:[],IsSucessorFrom:[],Inputs:[],Resources:[],Outputs:[],Controls:[],Nests:[],IsNestedBy:[],OperatesOn:[]}}yield this.loadTaskSequence(i),yield this.loadTaskOutputs(i),yield this.loadTaskNesting(i),yield this.loadTaskOperations(i)})}loadTaskSequence(i){return Le(this,null,function*(){let t=yield this.utils.idsByType(i,"IfcRelSequence");for(let s=0;s<t.size();s++){let n=t.get(s);if(n!==0){let r=yield this.utils.byId(i,n),l=r.RelatedProcess.value,a=r.RelatingProcess.value;this.tasks[a].IsPredecessorTo.push(r.expressID);let o={RelId:r.expressID,Rel:r};this.tasks[l].IsSucessorFrom.push(o)}}})}loadTaskOutputs(i){return Le(this,null,function*(){let t=yield this.utils.byType(i,"IfcRelAssignsToProduct");for(let s=0;s<t.length;s++){let n=t[s],r=yield this.utils.byId(i,n.RelatingProduct.value),l=yield this.utils.byId(i,n.RelatedObjects[0].value);this.utils.isA(l,"IfcTask")&&this.tasks[l.expressID].Outputs.push(r.expressID)}})}loadTaskNesting(i){return Le(this,null,function*(){let t=yield this.utils.byType(i,"IfcRelNests");for(let n=0;n<t.length;n++){let r=t[n],l=yield this.utils.byId(i,r.RelatingObject.value),a=r.RelatedObjects;if(this.utils.isA(l,"IfcTask"))for(var s=0;s<a.length;s++)this.tasks[l.expressID].IsNestedBy.push(a[s].value),this.tasks[a[s].value].Nests.push(l.expressID)}})}loadTaskOperations(i){return Le(this,null,function*(){let t=yield this.utils.byType(i,"IfcRelAssignsToProcess");for(let n=0;n<t.length;n++){let r=t[n],l=yield this.utils.byId(i,r.RelatingProcess.value),a=r.RelatedObjects;if(this.utils.isA(l,"IfcTask"))for(var s=0;s<a.length;s++)this.tasks[l.expressID].OperatesOn.push(a[s].value),console.log(l.expressID),console.log("Has Operations")}})}}class A6{constructor(){this.state={models:[],api:new Op,useJSON:!1,worker:{active:!1,path:""}},this.BVH=new N6,this.typesMap=tc,this.parser=new W6(this.state,this.BVH),this.subsets=new V6(this.state,this.BVH),this.utils=new Sv(this.state),this.sequenceData=new O6(this.state),this.properties=new L6(this.state),this.types=new F6(this.state),this.cleaner=new K6(this.state)}get ifcAPI(){return this.state.api}parse(i){return Le(this,null,function*(){var t;const s=yield this.parser.parse(i,(t=this.state.coordinationMatrix)===null||t===void 0?void 0:t.toArray());return s.setIFCManager(this),yield this.types.getAllTypes(this.worker),s})}setWasmPath(i){return Le(this,null,function*(){this.state.api.SetWasmPath(i),this.state.wasmPath=i})}setupThreeMeshBVH(i,t,s){this.BVH.initializeMeshBVH(i,t,s)}setOnProgress(i){this.state.onProgress=i}setupCoordinationMatrix(i){this.state.coordinationMatrix=i}clearCoordinationMatrix(){delete this.state.coordinationMatrix}applyWebIfcConfig(i){return Le(this,null,function*(){this.state.webIfcSettings=i,this.state.worker.active&&this.worker&&(yield this.worker.workerState.updateStateWebIfcSettings())})}useWebWorkers(i,t){return Le(this,null,function*(){if(this.state.worker.active!==i)if(this.state.api=null,i){if(!t)throw new Error("You must provide a path to the web worker.");this.state.worker.active=i,this.state.worker.path=t,yield this.initializeWorkers();const s=this.state.wasmPath;s&&(yield this.setWasmPath(s))}else this.state.api=new Op})}useJSONData(i=!0){return Le(this,null,function*(){var t;this.state.useJSON=i,i&&(yield(t=this.worker)===null||t===void 0?void 0:t.workerState.updateStateUseJson())})}addModelJSONData(i,t){return Le(this,null,function*(){var s;const n=this.state.models[i];if(!n)throw new Error("The specified model for the JSON data does not exist");this.state.worker.active?yield(s=this.worker)===null||s===void 0?void 0:s.workerState.updateModelStateJsonData(i,t):n.jsonData=t})}loadJsonDataFromWorker(i,t){return Le(this,null,function*(){var s;this.state.worker.active&&(yield(s=this.worker)===null||s===void 0?void 0:s.workerState.loadJsonDataFromWorker(i,t))})}close(i,t){this.state.api.CloseModel(i),t&&t.remove(this.state.models[i].mesh),delete this.state.models[i]}getExpressId(i,t){return this.properties.getExpressId(i,t)}getAllItemsOfType(i,t,s){return this.properties.getAllItemsOfType(i,t,s)}getItemProperties(i,t,s=!1){return this.properties.getItemProperties(i,t,s)}getPropertySets(i,t,s=!1){return this.properties.getPropertySets(i,t,s)}getTypeProperties(i,t,s=!1){return this.properties.getTypeProperties(i,t,s)}getMaterialsProperties(i,t,s=!1){return this.properties.getMaterialsProperties(i,t,s)}getIfcType(i,t){const s=this.state.models[i].types[t];return jp[s]}getSpatialStructure(i,t){return this.properties.getSpatialStructure(i,t)}getSubset(i,t,s){return this.subsets.getSubset(i,t,s)}removeSubset(i,t,s){this.subsets.removeSubset(i,t,s)}createSubset(i){return this.subsets.createSubset(i)}removeFromSubset(i,t,s,n){return this.subsets.removeFromSubset(i,t,s,n)}clearSubset(i,t,s){return this.subsets.clearSubset(i,t,s)}isA(i,t){return Le(this,null,function*(){return this.utils.isA(i,t)})}getSequenceData(i){return Le(this,null,function*(){return yield this.sequenceData.load(i),this.sequenceData})}byType(i,t){return Le(this,null,function*(){return this.utils.byType(i,t)})}byId(i,t){return Le(this,null,function*(){return this.utils.byId(i,t)})}idsByType(i,t){return Le(this,null,function*(){return this.utils.idsByType(i,t)})}dispose(){return Le(this,null,function*(){hl.dispose(),yield this.cleaner.dispose(),this.subsets.dispose(),this.worker&&this.state.worker.active&&(yield this.worker.terminate()),this.state=null})}disposeMemory(){return Le(this,null,function*(){var i;this.state.worker.active?yield(i=this.worker)===null||i===void 0?void 0:i.Close():(this.state.api.Close(),this.state.api=null,this.state.api=new Op)})}getAndClearErrors(i){return this.parser.getAndClearErrors(i)}initializeWorkers(){return Le(this,null,function*(){this.worker=new J6(this.state,this.BVH),this.state.api=this.worker.webIfc,this.properties=this.worker.properties,yield this.worker.parser.setupOptionalCategories(this.parser.optionalCategories),this.parser=this.worker.parser,yield this.worker.workerState.updateStateUseJson(),yield this.worker.workerState.updateStateWebIfcSettings()})}}class B6 extends An{constructor(i){super(i);this.ifcManager=new A6}load(i,t,s,n){const r=this,l=new Ry(r.manager);this.onProgress=s,l.setPath(r.path),l.setResponseType("arraybuffer"),l.setRequestHeader(r.requestHeader),l.setWithCredentials(r.withCredentials),l.load(i,function(a){return Le(this,null,function*(){try{if(typeof a=="string")throw new Error("IFC files must be given as a buffer!");t(yield r.parse(a))}catch(o){n?n(o):console.error(o),r.manager.itemError(i)}})},s,n)}parse(i){return this.ifcManager.parse(i)}}var j6=lp("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwp2YXIgd29ya2VyX2NvZGU9ZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIGZ1PU1hdGgucG93LG11PShobixDaSxGdCk9Pm5ldyBQcm9taXNlKChmaSxYaSk9Pnt2YXIgbG49bWk9Pnt0cnl7aHIoRnQubmV4dChtaSkpfWNhdGNoKGxyKXtYaShscil9fSxocz1taT0+e3RyeXtocihGdC50aHJvdyhtaSkpfWNhdGNoKGxyKXtYaShscil9fSxocj1taT0+bWkuZG9uZT9maShtaS52YWx1ZSk6UHJvbWlzZS5yZXNvbHZlKG1pLnZhbHVlKS50aGVuKGxuLGhzKTtocigoRnQ9RnQuYXBwbHkoaG4sQ2kpKS5uZXh0KCkpfSksZ3U9KGhuLENpKT0+KCk9PihDaXx8aG4oKENpPXtleHBvcnRzOnt9fSkuZXhwb3J0cyxDaSksQ2kuZXhwb3J0cyksdnU9Z3Uob3Q9PntmdW5jdGlvbiBDaShpKXtpKCJFUFNHOjQzMjYiLCIrdGl0bGU9V0dTIDg0IChsb25nL2xhdCkgK3Byb2o9bG9uZ2xhdCArZWxscHM9V0dTODQgK2RhdHVtPVdHUzg0ICt1bml0cz1kZWdyZWVzIiksaSgiRVBTRzo0MjY5IiwiK3RpdGxlPU5BRDgzIChsb25nL2xhdCkgK3Byb2o9bG9uZ2xhdCArYT02Mzc4MTM3LjAgK2I9NjM1Njc1Mi4zMTQxNDAzNiArZWxscHM9R1JTODAgK2RhdHVtPU5BRDgzICt1bml0cz1kZWdyZWVzIiksaSgiRVBTRzozODU3IiwiK3RpdGxlPVdHUyA4NCAvIFBzZXVkby1NZXJjYXRvciArcHJvaj1tZXJjICthPTYzNzgxMzcgK2I9NjM3ODEzNyArbGF0X3RzPTAuMCArbG9uXzA9MC4wICt4XzA9MC4wICt5XzA9MCAraz0xLjAgK3VuaXRzPW0gK25hZGdyaWRzPUBudWxsICtub19kZWZzIiksaS5XR1M4ND1pWyJFUFNHOjQzMjYiXSxpWyJFUFNHOjM3ODUiXT1pWyJFUFNHOjM4NTciXSxpLkdPT0dMRT1pWyJFUFNHOjM4NTciXSxpWyJFUFNHOjkwMDkxMyJdPWlbIkVQU0c6Mzg1NyJdLGlbIkVQU0c6MTAyMTEzIl09aVsiRVBTRzozODU3Il19dmFyIEZ0PTEsZmk9MixYaT0zLGxuPTQsaHM9NSxocj02Mzc4MTM3LG1pPTYzNTY3NTIzMTRlLTMsbHI9LjAwNjY5NDM3OTk5MDE0MTMxNjUsbHM9NDg0ODEzNjgxMTA5NTM2ZS0yMCxLPU1hdGguUEkvMixfdT0uMTY2NjY2NjY2NjY2NjY2NjYseXU9LjA0NzIyMjIyMjIyMjIyMjIyLE11PS4wMjIxNTYwODQ2NTYwODQ2NTUsbmU9MWUtMTAsZ3Q9LjAxNzQ1MzI5MjUxOTk0MzI5NSx0aT01Ny4yOTU3Nzk1MTMwODIzMixHZT1NYXRoLlBJLzQsY3M9TWF0aC5QSSoyLHN0PTMuMTQxNTkyNjUzNTksUnQ9e307UnQuZ3JlZW53aWNoPTAsUnQubGlzYm9uPS05LjEzMTkwNjExMTExMSxSdC5wYXJpcz0yLjMzNzIyOTE2NjY2NyxSdC5ib2dvdGE9LTc0LjA4MDkxNjY2NjY2NyxSdC5tYWRyaWQ9LTMuNjg3OTM4ODg4ODg5LFJ0LnJvbWU9MTIuNDUyMzMzMzMzMzMzLFJ0LmJlcm49Ny40Mzk1ODMzMzMzMzMsUnQuamFrYXJ0YT0xMDYuODA3NzE5NDQ0NDQ0LFJ0LmZlcnJvPS0xNy42NjY2NjY2NjY2NjcsUnQuYnJ1c3NlbHM9NC4zNjc5NzUsUnQuc3RvY2tob2xtPTE4LjA1ODI3Nzc3Nzc3OCxSdC5hdGhlbnM9MjMuNzE2MzM3NSxSdC5vc2xvPTEwLjcyMjkxNjY2NjY2Nzt2YXIgYnU9e2Z0Ont0b19tZXRlcjouMzA0OH0sInVzLWZ0Ijp7dG9fbWV0ZXI6MTIwMC8zOTM3fX0sWW89L1tcc19cLVwvXChcKV0vZztmdW5jdGlvbiBMaShpLGUpe2lmKGlbZV0pcmV0dXJuIGlbZV07Zm9yKHZhciB0PU9iamVjdC5rZXlzKGkpLHI9ZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoWW8sIiIpLHM9LTEsYSxuOysrczx0Lmxlbmd0aDspaWYoYT10W3NdLG49YS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoWW8sIiIpLG49PT1yKXJldHVybiBpW2FdfWZ1bmN0aW9uIGNuKGkpe3ZhciBlPXt9LHQ9aS5zcGxpdCgiKyIpLm1hcChmdW5jdGlvbihvKXtyZXR1cm4gby50cmltKCl9KS5maWx0ZXIoZnVuY3Rpb24obyl7cmV0dXJuIG99KS5yZWR1Y2UoZnVuY3Rpb24obyxoKXt2YXIgbD1oLnNwbGl0KCI9Iik7cmV0dXJuIGwucHVzaCghMCksb1tsWzBdLnRvTG93ZXJDYXNlKCldPWxbMV0sb30se30pLHIscyxhLG49e3Byb2o6InByb2pOYW1lIixkYXR1bToiZGF0dW1Db2RlIixyZjpmdW5jdGlvbihvKXtlLnJmPXBhcnNlRmxvYXQobyl9LGxhdF8wOmZ1bmN0aW9uKG8pe2UubGF0MD1vKmd0fSxsYXRfMTpmdW5jdGlvbihvKXtlLmxhdDE9bypndH0sbGF0XzI6ZnVuY3Rpb24obyl7ZS5sYXQyPW8qZ3R9LGxhdF90czpmdW5jdGlvbihvKXtlLmxhdF90cz1vKmd0fSxsb25fMDpmdW5jdGlvbihvKXtlLmxvbmcwPW8qZ3R9LGxvbl8xOmZ1bmN0aW9uKG8pe2UubG9uZzE9bypndH0sbG9uXzI6ZnVuY3Rpb24obyl7ZS5sb25nMj1vKmd0fSxhbHBoYTpmdW5jdGlvbihvKXtlLmFscGhhPXBhcnNlRmxvYXQobykqZ3R9LGdhbW1hOmZ1bmN0aW9uKG8pe2UucmVjdGlmaWVkX2dyaWRfYW5nbGU9cGFyc2VGbG9hdChvKX0sbG9uYzpmdW5jdGlvbihvKXtlLmxvbmdjPW8qZ3R9LHhfMDpmdW5jdGlvbihvKXtlLngwPXBhcnNlRmxvYXQobyl9LHlfMDpmdW5jdGlvbihvKXtlLnkwPXBhcnNlRmxvYXQobyl9LGtfMDpmdW5jdGlvbihvKXtlLmswPXBhcnNlRmxvYXQobyl9LGs6ZnVuY3Rpb24obyl7ZS5rMD1wYXJzZUZsb2F0KG8pfSxhOmZ1bmN0aW9uKG8pe2UuYT1wYXJzZUZsb2F0KG8pfSxiOmZ1bmN0aW9uKG8pe2UuYj1wYXJzZUZsb2F0KG8pfSxyX2E6ZnVuY3Rpb24oKXtlLlJfQT0hMH0sem9uZTpmdW5jdGlvbihvKXtlLnpvbmU9cGFyc2VJbnQobywxMCl9LHNvdXRoOmZ1bmN0aW9uKCl7ZS51dG1Tb3V0aD0hMH0sdG93Z3M4NDpmdW5jdGlvbihvKXtlLmRhdHVtX3BhcmFtcz1vLnNwbGl0KCIsIikubWFwKGZ1bmN0aW9uKGgpe3JldHVybiBwYXJzZUZsb2F0KGgpfSl9LHRvX21ldGVyOmZ1bmN0aW9uKG8pe2UudG9fbWV0ZXI9cGFyc2VGbG9hdChvKX0sdW5pdHM6ZnVuY3Rpb24obyl7ZS51bml0cz1vO3ZhciBoPUxpKGJ1LG8pO2gmJihlLnRvX21ldGVyPWgudG9fbWV0ZXIpfSxmcm9tX2dyZWVud2ljaDpmdW5jdGlvbihvKXtlLmZyb21fZ3JlZW53aWNoPW8qZ3R9LHBtOmZ1bmN0aW9uKG8pe3ZhciBoPUxpKFJ0LG8pO2UuZnJvbV9ncmVlbndpY2g9KGh8fHBhcnNlRmxvYXQobykpKmd0fSxuYWRncmlkczpmdW5jdGlvbihvKXtvPT09IkBudWxsIj9lLmRhdHVtQ29kZT0ibm9uZSI6ZS5uYWRncmlkcz1vfSxheGlzOmZ1bmN0aW9uKG8pe3ZhciBoPSJld25zdWQiO28ubGVuZ3RoPT09MyYmaC5pbmRleE9mKG8uc3Vic3RyKDAsMSkpIT09LTEmJmguaW5kZXhPZihvLnN1YnN0cigxLDEpKSE9PS0xJiZoLmluZGV4T2Yoby5zdWJzdHIoMiwxKSkhPT0tMSYmKGUuYXhpcz1vKX0sYXBwcm94OmZ1bmN0aW9uKCl7ZS5hcHByb3g9ITB9fTtmb3IociBpbiB0KXM9dFtyXSxyIGluIG4/KGE9bltyXSx0eXBlb2YgYT09ImZ1bmN0aW9uIj9hKHMpOmVbYV09cyk6ZVtyXT1zO3JldHVybiB0eXBlb2YgZS5kYXR1bUNvZGU9PSJzdHJpbmciJiZlLmRhdHVtQ29kZSE9PSJXR1M4NCImJihlLmRhdHVtQ29kZT1lLmRhdHVtQ29kZS50b0xvd2VyQ2FzZSgpKSxlfXZhciB1cz0xLFpvPTIsS289MyxLcz00LFFvPTUsdW49LTEsd3U9L1xzLyxTdT0vW0EtWmEtel0vLEV1PS9bQS1aYS16ODRfXS8sUXM9L1ssXF1dLywkbz0vW1xkXC5FXC1cK10vO2Z1bmN0aW9uIGdpKGkpe2lmKHR5cGVvZiBpIT0ic3RyaW5nIil0aHJvdyBuZXcgRXJyb3IoIm5vdCBhIHN0cmluZyIpO3RoaXMudGV4dD1pLnRyaW0oKSx0aGlzLmxldmVsPTAsdGhpcy5wbGFjZT0wLHRoaXMucm9vdD1udWxsLHRoaXMuc3RhY2s9W10sdGhpcy5jdXJyZW50T2JqZWN0PW51bGwsdGhpcy5zdGF0ZT11c31naS5wcm90b3R5cGUucmVhZENoYXJpY3Rlcj1mdW5jdGlvbigpe3ZhciBpPXRoaXMudGV4dFt0aGlzLnBsYWNlKytdO2lmKHRoaXMuc3RhdGUhPT1Lcylmb3IoO3d1LnRlc3QoaSk7KXtpZih0aGlzLnBsYWNlPj10aGlzLnRleHQubGVuZ3RoKXJldHVybjtpPXRoaXMudGV4dFt0aGlzLnBsYWNlKytdfXN3aXRjaCh0aGlzLnN0YXRlKXtjYXNlIHVzOnJldHVybiB0aGlzLm5ldXRyYWwoaSk7Y2FzZSBabzpyZXR1cm4gdGhpcy5rZXl3b3JkKGkpO2Nhc2UgS3M6cmV0dXJuIHRoaXMucXVvdGVkKGkpO2Nhc2UgUW86cmV0dXJuIHRoaXMuYWZ0ZXJxdW90ZShpKTtjYXNlIEtvOnJldHVybiB0aGlzLm51bWJlcihpKTtjYXNlIHVuOnJldHVybn19LGdpLnByb3RvdHlwZS5hZnRlcnF1b3RlPWZ1bmN0aW9uKGkpe2lmKGk9PT0nIicpe3RoaXMud29yZCs9JyInLHRoaXMuc3RhdGU9S3M7cmV0dXJufWlmKFFzLnRlc3QoaSkpe3RoaXMud29yZD10aGlzLndvcmQudHJpbSgpLHRoaXMuYWZ0ZXJJdGVtKGkpO3JldHVybn10aHJvdyBuZXcgRXJyb3IoYGhhdm4ndCBoYW5kbGVkICJgK2krJyIgaW4gYWZ0ZXJxdW90ZSB5ZXQsIGluZGV4ICcrdGhpcy5wbGFjZSl9LGdpLnByb3RvdHlwZS5hZnRlckl0ZW09ZnVuY3Rpb24oaSl7aWYoaT09PSIsIil7dGhpcy53b3JkIT09bnVsbCYmdGhpcy5jdXJyZW50T2JqZWN0LnB1c2godGhpcy53b3JkKSx0aGlzLndvcmQ9bnVsbCx0aGlzLnN0YXRlPXVzO3JldHVybn1pZihpPT09Il0iKXt0aGlzLmxldmVsLS0sdGhpcy53b3JkIT09bnVsbCYmKHRoaXMuY3VycmVudE9iamVjdC5wdXNoKHRoaXMud29yZCksdGhpcy53b3JkPW51bGwpLHRoaXMuc3RhdGU9dXMsdGhpcy5jdXJyZW50T2JqZWN0PXRoaXMuc3RhY2sucG9wKCksdGhpcy5jdXJyZW50T2JqZWN0fHwodGhpcy5zdGF0ZT11bik7cmV0dXJufX0sZ2kucHJvdG90eXBlLm51bWJlcj1mdW5jdGlvbihpKXtpZigkby50ZXN0KGkpKXt0aGlzLndvcmQrPWk7cmV0dXJufWlmKFFzLnRlc3QoaSkpe3RoaXMud29yZD1wYXJzZUZsb2F0KHRoaXMud29yZCksdGhpcy5hZnRlckl0ZW0oaSk7cmV0dXJufXRocm93IG5ldyBFcnJvcihgaGF2bid0IGhhbmRsZWQgImAraSsnIiBpbiBudW1iZXIgeWV0LCBpbmRleCAnK3RoaXMucGxhY2UpfSxnaS5wcm90b3R5cGUucXVvdGVkPWZ1bmN0aW9uKGkpe2lmKGk9PT0nIicpe3RoaXMuc3RhdGU9UW87cmV0dXJufXRoaXMud29yZCs9aX0sZ2kucHJvdG90eXBlLmtleXdvcmQ9ZnVuY3Rpb24oaSl7aWYoRXUudGVzdChpKSl7dGhpcy53b3JkKz1pO3JldHVybn1pZihpPT09IlsiKXt2YXIgZT1bXTtlLnB1c2godGhpcy53b3JkKSx0aGlzLmxldmVsKyssdGhpcy5yb290PT09bnVsbD90aGlzLnJvb3Q9ZTp0aGlzLmN1cnJlbnRPYmplY3QucHVzaChlKSx0aGlzLnN0YWNrLnB1c2godGhpcy5jdXJyZW50T2JqZWN0KSx0aGlzLmN1cnJlbnRPYmplY3Q9ZSx0aGlzLnN0YXRlPXVzO3JldHVybn1pZihRcy50ZXN0KGkpKXt0aGlzLmFmdGVySXRlbShpKTtyZXR1cm59dGhyb3cgbmV3IEVycm9yKGBoYXZuJ3QgaGFuZGxlZCAiYCtpKyciIGluIGtleXdvcmQgeWV0LCBpbmRleCAnK3RoaXMucGxhY2UpfSxnaS5wcm90b3R5cGUubmV1dHJhbD1mdW5jdGlvbihpKXtpZihTdS50ZXN0KGkpKXt0aGlzLndvcmQ9aSx0aGlzLnN0YXRlPVpvO3JldHVybn1pZihpPT09JyInKXt0aGlzLndvcmQ9IiIsdGhpcy5zdGF0ZT1LcztyZXR1cm59aWYoJG8udGVzdChpKSl7dGhpcy53b3JkPWksdGhpcy5zdGF0ZT1LbztyZXR1cm59aWYoUXMudGVzdChpKSl7dGhpcy5hZnRlckl0ZW0oaSk7cmV0dXJufXRocm93IG5ldyBFcnJvcihgaGF2bid0IGhhbmRsZWQgImAraSsnIiBpbiBuZXV0cmFsIHlldCwgaW5kZXggJyt0aGlzLnBsYWNlKX0sZ2kucHJvdG90eXBlLm91dHB1dD1mdW5jdGlvbigpe2Zvcig7dGhpcy5wbGFjZTx0aGlzLnRleHQubGVuZ3RoOyl0aGlzLnJlYWRDaGFyaWN0ZXIoKTtpZih0aGlzLnN0YXRlPT09dW4pcmV0dXJuIHRoaXMucm9vdDt0aHJvdyBuZXcgRXJyb3IoJ3VuYWJsZSB0byBwYXJzZSBzdHJpbmcgIicrdGhpcy50ZXh0KyciLiBTdGF0ZSBpcyAnK3RoaXMuc3RhdGUpfTtmdW5jdGlvbiBUdShpKXt2YXIgZT1uZXcgZ2koaSk7cmV0dXJuIGUub3V0cHV0KCl9ZnVuY3Rpb24gZWgoaSxlLHQpe0FycmF5LmlzQXJyYXkoZSkmJih0LnVuc2hpZnQoZSksZT1udWxsKTt2YXIgcj1lP3t9Omkscz10LnJlZHVjZShmdW5jdGlvbihhLG4pe3JldHVybiBjcihuLGEpLGF9LHIpO2UmJihpW2VdPXMpfWZ1bmN0aW9uIGNyKGksZSl7aWYoIUFycmF5LmlzQXJyYXkoaSkpe2VbaV09ITA7cmV0dXJufXZhciB0PWkuc2hpZnQoKTtpZih0PT09IlBBUkFNRVRFUiImJih0PWkuc2hpZnQoKSksaS5sZW5ndGg9PT0xKXtpZihBcnJheS5pc0FycmF5KGlbMF0pKXtlW3RdPXt9LGNyKGlbMF0sZVt0XSk7cmV0dXJufWVbdF09aVswXTtyZXR1cm59aWYoIWkubGVuZ3RoKXtlW3RdPSEwO3JldHVybn1pZih0PT09IlRPV0dTODQiKXtlW3RdPWk7cmV0dXJufWlmKHQ9PT0iQVhJUyIpe3QgaW4gZXx8KGVbdF09W10pLGVbdF0ucHVzaChpKTtyZXR1cm59QXJyYXkuaXNBcnJheSh0KXx8KGVbdF09e30pO3ZhciByO3N3aXRjaCh0KXtjYXNlIlVOSVQiOmNhc2UiUFJJTUVNIjpjYXNlIlZFUlRfREFUVU0iOmVbdF09e25hbWU6aVswXS50b0xvd2VyQ2FzZSgpLGNvbnZlcnQ6aVsxXX0saS5sZW5ndGg9PT0zJiZjcihpWzJdLGVbdF0pO3JldHVybjtjYXNlIlNQSEVST0lEIjpjYXNlIkVMTElQU09JRCI6ZVt0XT17bmFtZTppWzBdLGE6aVsxXSxyZjppWzJdfSxpLmxlbmd0aD09PTQmJmNyKGlbM10sZVt0XSk7cmV0dXJuO2Nhc2UiUFJPSkVDVEVEQ1JTIjpjYXNlIlBST0pDUlMiOmNhc2UiR0VPR0NTIjpjYXNlIkdFT0NDUyI6Y2FzZSJQUk9KQ1MiOmNhc2UiTE9DQUxfQ1MiOmNhc2UiR0VPRENSUyI6Y2FzZSJHRU9ERVRJQ0NSUyI6Y2FzZSJHRU9ERVRJQ0RBVFVNIjpjYXNlIkVEQVRVTSI6Y2FzZSJFTkdJTkVFUklOR0RBVFVNIjpjYXNlIlZFUlRfQ1MiOmNhc2UiVkVSVENSUyI6Y2FzZSJWRVJUSUNBTENSUyI6Y2FzZSJDT01QRF9DUyI6Y2FzZSJDT01QT1VORENSUyI6Y2FzZSJFTkdJTkVFUklOR0NSUyI6Y2FzZSJFTkdDUlMiOmNhc2UiRklUVEVEX0NTIjpjYXNlIkxPQ0FMX0RBVFVNIjpjYXNlIkRBVFVNIjppWzBdPVsibmFtZSIsaVswXV0sZWgoZSx0LGkpO3JldHVybjtkZWZhdWx0OmZvcihyPS0xOysrcjxpLmxlbmd0aDspaWYoIUFycmF5LmlzQXJyYXkoaVtyXSkpcmV0dXJuIGNyKGksZVt0XSk7cmV0dXJuIGVoKGUsdCxpKX19dmFyIEF1PS4wMTc0NTMyOTI1MTk5NDMyOTU7ZnVuY3Rpb24gQ3UoaSxlKXt2YXIgdD1lWzBdLHI9ZVsxXTshKHQgaW4gaSkmJnIgaW4gaSYmKGlbdF09aVtyXSxlLmxlbmd0aD09PTMmJihpW3RdPWVbMl0oaVt0XSkpKX1mdW5jdGlvbiB2aShpKXtyZXR1cm4gaSpBdX1mdW5jdGlvbiBMdShpKXtpZihpLnR5cGU9PT0iR0VPR0NTIj9pLnByb2pOYW1lPSJsb25nbGF0IjppLnR5cGU9PT0iTE9DQUxfQ1MiPyhpLnByb2pOYW1lPSJpZGVudGl0eSIsaS5sb2NhbD0hMCk6dHlwZW9mIGkuUFJPSkVDVElPTj09Im9iamVjdCI/aS5wcm9qTmFtZT1PYmplY3Qua2V5cyhpLlBST0pFQ1RJT04pWzBdOmkucHJvak5hbWU9aS5QUk9KRUNUSU9OLGkuQVhJUyl7Zm9yKHZhciBlPSIiLHQ9MCxyPWkuQVhJUy5sZW5ndGg7dDxyOysrdCl7dmFyIHM9W2kuQVhJU1t0XVswXS50b0xvd2VyQ2FzZSgpLGkuQVhJU1t0XVsxXS50b0xvd2VyQ2FzZSgpXTtzWzBdLmluZGV4T2YoIm5vcnRoIikhPT0tMXx8KHNbMF09PT0ieSJ8fHNbMF09PT0ibGF0IikmJnNbMV09PT0ibm9ydGgiP2UrPSJuIjpzWzBdLmluZGV4T2YoInNvdXRoIikhPT0tMXx8KHNbMF09PT0ieSJ8fHNbMF09PT0ibGF0IikmJnNbMV09PT0ic291dGgiP2UrPSJzIjpzWzBdLmluZGV4T2YoImVhc3QiKSE9PS0xfHwoc1swXT09PSJ4Inx8c1swXT09PSJsb24iKSYmc1sxXT09PSJlYXN0Ij9lKz0iZSI6KHNbMF0uaW5kZXhPZigid2VzdCIpIT09LTF8fChzWzBdPT09IngifHxzWzBdPT09ImxvbiIpJiZzWzFdPT09Indlc3QiKSYmKGUrPSJ3Iil9ZS5sZW5ndGg9PT0yJiYoZSs9InUiKSxlLmxlbmd0aD09PTMmJihpLmF4aXM9ZSl9aS5VTklUJiYoaS51bml0cz1pLlVOSVQubmFtZS50b0xvd2VyQ2FzZSgpLGkudW5pdHM9PT0ibWV0cmUiJiYoaS51bml0cz0ibWV0ZXIiKSxpLlVOSVQuY29udmVydCYmKGkudHlwZT09PSJHRU9HQ1MiP2kuREFUVU0mJmkuREFUVU0uU1BIRVJPSUQmJihpLnRvX21ldGVyPWkuVU5JVC5jb252ZXJ0KmkuREFUVU0uU1BIRVJPSUQuYSk6aS50b19tZXRlcj1pLlVOSVQuY29udmVydCkpO3ZhciBhPWkuR0VPR0NTO2kudHlwZT09PSJHRU9HQ1MiJiYoYT1pKSxhJiYoYS5EQVRVTT9pLmRhdHVtQ29kZT1hLkRBVFVNLm5hbWUudG9Mb3dlckNhc2UoKTppLmRhdHVtQ29kZT1hLm5hbWUudG9Mb3dlckNhc2UoKSxpLmRhdHVtQ29kZS5zbGljZSgwLDIpPT09ImRfIiYmKGkuZGF0dW1Db2RlPWkuZGF0dW1Db2RlLnNsaWNlKDIpKSwoaS5kYXR1bUNvZGU9PT0ibmV3X3plYWxhbmRfZ2VvZGV0aWNfZGF0dW1fMTk0OSJ8fGkuZGF0dW1Db2RlPT09Im5ld196ZWFsYW5kXzE5NDkiKSYmKGkuZGF0dW1Db2RlPSJuemdkNDkiKSwoaS5kYXR1bUNvZGU9PT0id2dzXzE5ODQifHxpLmRhdHVtQ29kZT09PSJ3b3JsZF9nZW9kZXRpY19zeXN0ZW1fMTk4NCIpJiYoaS5QUk9KRUNUSU9OPT09Ik1lcmNhdG9yX0F1eGlsaWFyeV9TcGhlcmUiJiYoaS5zcGhlcmU9ITApLGkuZGF0dW1Db2RlPSJ3Z3M4NCIpLGkuZGF0dW1Db2RlLnNsaWNlKC02KT09PSJfZmVycm8iJiYoaS5kYXR1bUNvZGU9aS5kYXR1bUNvZGUuc2xpY2UoMCwtNikpLGkuZGF0dW1Db2RlLnNsaWNlKC04KT09PSJfamFrYXJ0YSImJihpLmRhdHVtQ29kZT1pLmRhdHVtQ29kZS5zbGljZSgwLC04KSksfmkuZGF0dW1Db2RlLmluZGV4T2YoImJlbGdlIikmJihpLmRhdHVtQ29kZT0icm5iNzIiKSxhLkRBVFVNJiZhLkRBVFVNLlNQSEVST0lEJiYoaS5lbGxwcz1hLkRBVFVNLlNQSEVST0lELm5hbWUucmVwbGFjZSgiXzE5IiwiIikucmVwbGFjZSgvW0NjXWxhcmtlXF8xOC8sImNscmsiKSxpLmVsbHBzLnRvTG93ZXJDYXNlKCkuc2xpY2UoMCwxMyk9PT0iaW50ZXJuYXRpb25hbCImJihpLmVsbHBzPSJpbnRsIiksaS5hPWEuREFUVU0uU1BIRVJPSUQuYSxpLnJmPXBhcnNlRmxvYXQoYS5EQVRVTS5TUEhFUk9JRC5yZiwxMCkpLGEuREFUVU0mJmEuREFUVU0uVE9XR1M4NCYmKGkuZGF0dW1fcGFyYW1zPWEuREFUVU0uVE9XR1M4NCksfmkuZGF0dW1Db2RlLmluZGV4T2YoIm9zZ2JfMTkzNiIpJiYoaS5kYXR1bUNvZGU9Im9zZ2IzNiIpLH5pLmRhdHVtQ29kZS5pbmRleE9mKCJvc25pXzE5NTIiKSYmKGkuZGF0dW1Db2RlPSJvc25pNTIiKSwofmkuZGF0dW1Db2RlLmluZGV4T2YoInRtNjUiKXx8fmkuZGF0dW1Db2RlLmluZGV4T2YoImdlb2RldGljX2RhdHVtX29mXzE5NjUiKSkmJihpLmRhdHVtQ29kZT0iaXJlNjUiKSxpLmRhdHVtQ29kZT09PSJjaDE5MDMrIiYmKGkuZGF0dW1Db2RlPSJjaDE5MDMiKSx+aS5kYXR1bUNvZGUuaW5kZXhPZigiaXNyYWVsIikmJihpLmRhdHVtQ29kZT0iaXNyOTMiKSksaS5iJiYhaXNGaW5pdGUoaS5iKSYmKGkuYj1pLmEpO2Z1bmN0aW9uIG4obCl7dmFyIGM9aS50b19tZXRlcnx8MTtyZXR1cm4gbCpjfXZhciBvPWZ1bmN0aW9uKGwpe3JldHVybiBDdShpLGwpfSxoPVtbInN0YW5kYXJkX3BhcmFsbGVsXzEiLCJTdGFuZGFyZF9QYXJhbGxlbF8xIl0sWyJzdGFuZGFyZF9wYXJhbGxlbF8xIiwiTGF0aXR1ZGUgb2YgMXN0IHN0YW5kYXJkIHBhcmFsbGVsIl0sWyJzdGFuZGFyZF9wYXJhbGxlbF8yIiwiU3RhbmRhcmRfUGFyYWxsZWxfMiJdLFsic3RhbmRhcmRfcGFyYWxsZWxfMiIsIkxhdGl0dWRlIG9mIDJuZCBzdGFuZGFyZCBwYXJhbGxlbCJdLFsiZmFsc2VfZWFzdGluZyIsIkZhbHNlX0Vhc3RpbmciXSxbImZhbHNlX2Vhc3RpbmciLCJGYWxzZSBlYXN0aW5nIl0sWyJmYWxzZS1lYXN0aW5nIiwiRWFzdGluZyBhdCBmYWxzZSBvcmlnaW4iXSxbImZhbHNlX25vcnRoaW5nIiwiRmFsc2VfTm9ydGhpbmciXSxbImZhbHNlX25vcnRoaW5nIiwiRmFsc2Ugbm9ydGhpbmciXSxbImZhbHNlX25vcnRoaW5nIiwiTm9ydGhpbmcgYXQgZmFsc2Ugb3JpZ2luIl0sWyJjZW50cmFsX21lcmlkaWFuIiwiQ2VudHJhbF9NZXJpZGlhbiJdLFsiY2VudHJhbF9tZXJpZGlhbiIsIkxvbmdpdHVkZSBvZiBuYXR1cmFsIG9yaWdpbiJdLFsiY2VudHJhbF9tZXJpZGlhbiIsIkxvbmdpdHVkZSBvZiBmYWxzZSBvcmlnaW4iXSxbImxhdGl0dWRlX29mX29yaWdpbiIsIkxhdGl0dWRlX09mX09yaWdpbiJdLFsibGF0aXR1ZGVfb2Zfb3JpZ2luIiwiQ2VudHJhbF9QYXJhbGxlbCJdLFsibGF0aXR1ZGVfb2Zfb3JpZ2luIiwiTGF0aXR1ZGUgb2YgbmF0dXJhbCBvcmlnaW4iXSxbImxhdGl0dWRlX29mX29yaWdpbiIsIkxhdGl0dWRlIG9mIGZhbHNlIG9yaWdpbiJdLFsic2NhbGVfZmFjdG9yIiwiU2NhbGVfRmFjdG9yIl0sWyJrMCIsInNjYWxlX2ZhY3RvciJdLFsibGF0aXR1ZGVfb2ZfY2VudGVyIiwiTGF0aXR1ZGVfT2ZfQ2VudGVyIl0sWyJsYXRpdHVkZV9vZl9jZW50ZXIiLCJMYXRpdHVkZV9vZl9jZW50ZXIiXSxbImxhdDAiLCJsYXRpdHVkZV9vZl9jZW50ZXIiLHZpXSxbImxvbmdpdHVkZV9vZl9jZW50ZXIiLCJMb25naXR1ZGVfT2ZfQ2VudGVyIl0sWyJsb25naXR1ZGVfb2ZfY2VudGVyIiwiTG9uZ2l0dWRlX29mX2NlbnRlciJdLFsibG9uZ2MiLCJsb25naXR1ZGVfb2ZfY2VudGVyIix2aV0sWyJ4MCIsImZhbHNlX2Vhc3RpbmciLG5dLFsieTAiLCJmYWxzZV9ub3J0aGluZyIsbl0sWyJsb25nMCIsImNlbnRyYWxfbWVyaWRpYW4iLHZpXSxbImxhdDAiLCJsYXRpdHVkZV9vZl9vcmlnaW4iLHZpXSxbImxhdDAiLCJzdGFuZGFyZF9wYXJhbGxlbF8xIix2aV0sWyJsYXQxIiwic3RhbmRhcmRfcGFyYWxsZWxfMSIsdmldLFsibGF0MiIsInN0YW5kYXJkX3BhcmFsbGVsXzIiLHZpXSxbImF6aW11dGgiLCJBemltdXRoIl0sWyJhbHBoYSIsImF6aW11dGgiLHZpXSxbInNyc0NvZGUiLCJuYW1lIl1dO2guZm9yRWFjaChvKSwhaS5sb25nMCYmaS5sb25nYyYmKGkucHJvak5hbWU9PT0iQWxiZXJzX0NvbmljX0VxdWFsX0FyZWEifHxpLnByb2pOYW1lPT09IkxhbWJlcnRfQXppbXV0aGFsX0VxdWFsX0FyZWEiKSYmKGkubG9uZzA9aS5sb25nYyksIWkubGF0X3RzJiZpLmxhdDEmJihpLnByb2pOYW1lPT09IlN0ZXJlb2dyYXBoaWNfU291dGhfUG9sZSJ8fGkucHJvak5hbWU9PT0iUG9sYXIgU3RlcmVvZ3JhcGhpYyAodmFyaWFudCBCKSIpJiYoaS5sYXQwPXZpKGkubGF0MT4wPzkwOi05MCksaS5sYXRfdHM9aS5sYXQxKX1mdW5jdGlvbiB0aChpKXt2YXIgZT1UdShpKSx0PWUuc2hpZnQoKSxyPWUuc2hpZnQoKTtlLnVuc2hpZnQoWyJuYW1lIixyXSksZS51bnNoaWZ0KFsidHlwZSIsdF0pO3ZhciBzPXt9O3JldHVybiBjcihlLHMpLEx1KHMpLHN9ZnVuY3Rpb24gU3QoaSl7dmFyIGU9dGhpcztpZihhcmd1bWVudHMubGVuZ3RoPT09Mil7dmFyIHQ9YXJndW1lbnRzWzFdO3R5cGVvZiB0PT0ic3RyaW5nIj90LmNoYXJBdCgwKT09PSIrIj9TdFtpXT1jbihhcmd1bWVudHNbMV0pOlN0W2ldPXRoKGFyZ3VtZW50c1sxXSk6U3RbaV09dH1lbHNlIGlmKGFyZ3VtZW50cy5sZW5ndGg9PT0xKXtpZihBcnJheS5pc0FycmF5KGkpKXJldHVybiBpLm1hcChmdW5jdGlvbihyKXtBcnJheS5pc0FycmF5KHIpP1N0LmFwcGx5KGUscik6U3Qocil9KTtpZih0eXBlb2YgaT09InN0cmluZyIpe2lmKGkgaW4gU3QpcmV0dXJuIFN0W2ldfWVsc2UiRVBTRyJpbiBpP1N0WyJFUFNHOiIraS5FUFNHXT1pOiJFU1JJImluIGk/U3RbIkVTUkk6IitpLkVTUkldPWk6IklBVTIwMDAiaW4gaT9TdFsiSUFVMjAwMDoiK2kuSUFVMjAwMF09aTpjb25zb2xlLmxvZyhpKTtyZXR1cm59fUNpKFN0KTtmdW5jdGlvbiBSdShpKXtyZXR1cm4gdHlwZW9mIGk9PSJzdHJpbmcifWZ1bmN0aW9uIFB1KGkpe3JldHVybiBpIGluIFN0fXZhciBJdT1bIlBST0pFQ1RFRENSUyIsIlBST0pDUlMiLCJHRU9HQ1MiLCJHRU9DQ1MiLCJQUk9KQ1MiLCJMT0NBTF9DUyIsIkdFT0RDUlMiLCJHRU9ERVRJQ0NSUyIsIkdFT0RFVElDREFUVU0iLCJFTkdDUlMiLCJFTkdJTkVFUklOR0NSUyJdO2Z1bmN0aW9uIE51KGkpe3JldHVybiBJdS5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiBpLmluZGV4T2YoZSk+LTF9KX12YXIgRHU9WyIzODU3IiwiOTAwOTEzIiwiMzc4NSIsIjEwMjExMyJdO2Z1bmN0aW9uIE91KGkpe3ZhciBlPUxpKGksImF1dGhvcml0eSIpO2lmKGUpe3ZhciB0PUxpKGUsImVwc2ciKTtyZXR1cm4gdCYmRHUuaW5kZXhPZih0KT4tMX19ZnVuY3Rpb24genUoaSl7dmFyIGU9TGkoaSwiZXh0ZW5zaW9uIik7aWYoZSlyZXR1cm4gTGkoZSwicHJvajQiKX1mdW5jdGlvbiBCdShpKXtyZXR1cm4gaVswXT09PSIrIn1mdW5jdGlvbiBVdShpKXtpZihSdShpKSl7aWYoUHUoaSkpcmV0dXJuIFN0W2ldO2lmKE51KGkpKXt2YXIgZT10aChpKTtpZihPdShlKSlyZXR1cm4gU3RbIkVQU0c6Mzg1NyJdO3ZhciB0PXp1KGUpO3JldHVybiB0P2NuKHQpOmV9aWYoQnUoaSkpcmV0dXJuIGNuKGkpfWVsc2UgcmV0dXJuIGl9ZnVuY3Rpb24gaWgoaSxlKXtpPWl8fHt9O3ZhciB0LHI7aWYoIWUpcmV0dXJuIGk7Zm9yKHIgaW4gZSl0PWVbcl0sdCE9PXZvaWQgMCYmKGlbcl09dCk7cmV0dXJuIGl9ZnVuY3Rpb24gaWkoaSxlLHQpe3ZhciByPWkqZTtyZXR1cm4gdC9NYXRoLnNxcnQoMS1yKnIpfWZ1bmN0aW9uIGRzKGkpe3JldHVybiBpPDA/LTE6MX1mdW5jdGlvbiB1ZShpKXtyZXR1cm4gTWF0aC5hYnMoaSk8PXN0P2k6aS1kcyhpKSpjc31mdW5jdGlvbiBWdChpLGUsdCl7dmFyIHI9aSp0LHM9LjUqaTtyZXR1cm4gcj1NYXRoLnBvdygoMS1yKS8oMStyKSxzKSxNYXRoLnRhbiguNSooSy1lKSkvcn1mdW5jdGlvbiBwcyhpLGUpe2Zvcih2YXIgdD0uNSppLHIscyxhPUstMipNYXRoLmF0YW4oZSksbj0wO248PTE1O24rKylpZihyPWkqTWF0aC5zaW4oYSkscz1LLTIqTWF0aC5hdGFuKGUqTWF0aC5wb3coKDEtcikvKDErciksdCkpLWEsYSs9cyxNYXRoLmFicyhzKTw9MWUtMTApcmV0dXJuIGE7cmV0dXJuLTk5OTl9ZnVuY3Rpb24gRnUoKXt2YXIgaT10aGlzLmIvdGhpcy5hO3RoaXMuZXM9MS1pKmksIngwImluIHRoaXN8fCh0aGlzLngwPTApLCJ5MCJpbiB0aGlzfHwodGhpcy55MD0wKSx0aGlzLmU9TWF0aC5zcXJ0KHRoaXMuZXMpLHRoaXMubGF0X3RzP3RoaXMuc3BoZXJlP3RoaXMuazA9TWF0aC5jb3ModGhpcy5sYXRfdHMpOnRoaXMuazA9aWkodGhpcy5lLE1hdGguc2luKHRoaXMubGF0X3RzKSxNYXRoLmNvcyh0aGlzLmxhdF90cykpOnRoaXMuazB8fCh0aGlzLms/dGhpcy5rMD10aGlzLms6dGhpcy5rMD0xKX1mdW5jdGlvbiBIdShpKXt2YXIgZT1pLngsdD1pLnk7aWYodCp0aT45MCYmdCp0aTwtOTAmJmUqdGk+MTgwJiZlKnRpPC0xODApcmV0dXJuIG51bGw7dmFyIHIscztpZihNYXRoLmFicyhNYXRoLmFicyh0KS1LKTw9bmUpcmV0dXJuIG51bGw7aWYodGhpcy5zcGhlcmUpcj10aGlzLngwK3RoaXMuYSp0aGlzLmswKnVlKGUtdGhpcy5sb25nMCkscz10aGlzLnkwK3RoaXMuYSp0aGlzLmswKk1hdGgubG9nKE1hdGgudGFuKEdlKy41KnQpKTtlbHNle3ZhciBhPU1hdGguc2luKHQpLG49VnQodGhpcy5lLHQsYSk7cj10aGlzLngwK3RoaXMuYSp0aGlzLmswKnVlKGUtdGhpcy5sb25nMCkscz10aGlzLnkwLXRoaXMuYSp0aGlzLmswKk1hdGgubG9nKG4pfXJldHVybiBpLng9cixpLnk9cyxpfWZ1bmN0aW9uIGt1KGkpe3ZhciBlPWkueC10aGlzLngwLHQ9aS55LXRoaXMueTAscixzO2lmKHRoaXMuc3BoZXJlKXM9Sy0yKk1hdGguYXRhbihNYXRoLmV4cCgtdC8odGhpcy5hKnRoaXMuazApKSk7ZWxzZXt2YXIgYT1NYXRoLmV4cCgtdC8odGhpcy5hKnRoaXMuazApKTtpZihzPXBzKHRoaXMuZSxhKSxzPT09LTk5OTkpcmV0dXJuIG51bGx9cmV0dXJuIHI9dWUodGhpcy5sb25nMCtlLyh0aGlzLmEqdGhpcy5rMCkpLGkueD1yLGkueT1zLGl9dmFyIEd1PVsiTWVyY2F0b3IiLCJQb3B1bGFyIFZpc3VhbGlzYXRpb24gUHNldWRvIE1lcmNhdG9yIiwiTWVyY2F0b3JfMVNQIiwiTWVyY2F0b3JfQXV4aWxpYXJ5X1NwaGVyZSIsIm1lcmMiXSxWdT17aW5pdDpGdSxmb3J3YXJkOkh1LGludmVyc2U6a3UsbmFtZXM6R3V9O2Z1bmN0aW9uIFd1KCl7fWZ1bmN0aW9uIHJoKGkpe3JldHVybiBpfXZhciBqdT1bImxvbmdsYXQiLCJpZGVudGl0eSJdLHF1PXtpbml0Old1LGZvcndhcmQ6cmgsaW52ZXJzZTpyaCxuYW1lczpqdX0sWHU9W1Z1LHF1XSwkcz17fSxlYT1bXTtmdW5jdGlvbiBzaChpLGUpe3ZhciB0PWVhLmxlbmd0aDtyZXR1cm4gaS5uYW1lcz8oZWFbdF09aSxpLm5hbWVzLmZvckVhY2goZnVuY3Rpb24ocil7JHNbci50b0xvd2VyQ2FzZSgpXT10fSksdGhpcyk6KGNvbnNvbGUubG9nKGUpLCEwKX1mdW5jdGlvbiBKdShpKXtpZighaSlyZXR1cm4hMTt2YXIgZT1pLnRvTG93ZXJDYXNlKCk7aWYodHlwZW9mICRzW2VdPCJ1IiYmZWFbJHNbZV1dKXJldHVybiBlYVskc1tlXV19ZnVuY3Rpb24gWXUoKXtYdS5mb3JFYWNoKHNoKX12YXIgWnU9e3N0YXJ0Oll1LGFkZDpzaCxnZXQ6SnV9LEVlPXt9O0VlLk1FUklUPXthOjYzNzgxMzcscmY6Mjk4LjI1NyxlbGxpcHNlTmFtZToiTUVSSVQgMTk4MyJ9LEVlLlNHUzg1PXthOjYzNzgxMzYscmY6Mjk4LjI1NyxlbGxpcHNlTmFtZToiU292aWV0IEdlb2RldGljIFN5c3RlbSA4NSJ9LEVlLkdSUzgwPXthOjYzNzgxMzcscmY6Mjk4LjI1NzIyMjEwMSxlbGxpcHNlTmFtZToiR1JTIDE5ODAoSVVHRywgMTk4MCkifSxFZS5JQVU3Nj17YTo2Mzc4MTQwLHJmOjI5OC4yNTcsZWxsaXBzZU5hbWU6IklBVSAxOTc2In0sRWUuYWlyeT17YTo2Mzc3NTYzMzk2ZS0zLGI6NjM1NjI1NjkxZS0yLGVsbGlwc2VOYW1lOiJBaXJ5IDE4MzAifSxFZS5BUEw0PXthOjYzNzgxMzcscmY6Mjk4LjI1LGVsbGlwc2VOYW1lOiJBcHBsLiBQaHlzaWNzLiAxOTY1In0sRWUuTldMOUQ9e2E6NjM3ODE0NSxyZjoyOTguMjUsZWxsaXBzZU5hbWU6Ik5hdmFsIFdlYXBvbnMgTGFiLiwgMTk2NSJ9LEVlLm1vZF9haXJ5PXthOjYzNzczNDAxODllLTMsYjo2MzU2MDM0NDQ2ZS0zLGVsbGlwc2VOYW1lOiJNb2RpZmllZCBBaXJ5In0sRWUuYW5kcmFlPXthOjYzNzcxMDQ0M2UtMixyZjozMDAsZWxsaXBzZU5hbWU6IkFuZHJhZSAxODc2IChEZW4uLCBJY2xuZC4pIn0sRWUuYXVzdF9TQT17YTo2Mzc4MTYwLHJmOjI5OC4yNSxlbGxpcHNlTmFtZToiQXVzdHJhbGlhbiBOYXRsICYgUy4gQW1lci4gMTk2OSJ9LEVlLkdSUzY3PXthOjYzNzgxNjAscmY6Mjk4LjI0NzE2NzQyNyxlbGxpcHNlTmFtZToiR1JTIDY3KElVR0cgMTk2NykifSxFZS5iZXNzZWw9e2E6NjM3NzM5NzE1NWUtMyxyZjoyOTkuMTUyODEyOCxlbGxpcHNlTmFtZToiQmVzc2VsIDE4NDEifSxFZS5iZXNzX25hbT17YTo2Mzc3NDgzODY1ZS0zLHJmOjI5OS4xNTI4MTI4LGVsbGlwc2VOYW1lOiJCZXNzZWwgMTg0MSAoTmFtaWJpYSkifSxFZS5jbHJrNjY9e2E6NjM3ODIwNjRlLTEsYjo2MzU2NTgzOGUtMSxlbGxpcHNlTmFtZToiQ2xhcmtlIDE4NjYifSxFZS5jbHJrODA9e2E6NjM3ODI0OTE0NWUtMyxyZjoyOTMuNDY2MyxlbGxpcHNlTmFtZToiQ2xhcmtlIDE4ODAgbW9kLiJ9LEVlLmNscms1OD17YTo2Mzc4MjkzNjQ1MjA4NzU5ZS05LHJmOjI5NC4yNjA2NzYzNjkyNjU0LGVsbGlwc2VOYW1lOiJDbGFya2UgMTg1OCJ9LEVlLkNQTT17YTo2Mzc1NzM4N2UtMSxyZjozMzQuMjksZWxsaXBzZU5hbWU6IkNvbW0uIGRlcyBQb2lkcyBldCBNZXN1cmVzIDE3OTkifSxFZS5kZWxtYnI9e2E6NjM3NjQyOCxyZjozMTEuNSxlbGxpcHNlTmFtZToiRGVsYW1icmUgMTgxMCAoQmVsZ2l1bSkifSxFZS5lbmdlbGlzPXthOjYzNzgxMzYwNWUtMixyZjoyOTguMjU2NixlbGxpcHNlTmFtZToiRW5nZWxpcyAxOTg1In0sRWUuZXZyc3QzMD17YTo2Mzc3Mjc2MzQ1ZS0zLHJmOjMwMC44MDE3LGVsbGlwc2VOYW1lOiJFdmVyZXN0IDE4MzAifSxFZS5ldnJzdDQ4PXthOjYzNzczMDQwNjNlLTMscmY6MzAwLjgwMTcsZWxsaXBzZU5hbWU6IkV2ZXJlc3QgMTk0OCJ9LEVlLmV2cnN0NTY9e2E6NjM3NzMwMTI0M2UtMyxyZjozMDAuODAxNyxlbGxpcHNlTmFtZToiRXZlcmVzdCAxOTU2In0sRWUuZXZyc3Q2OT17YTo2Mzc3Mjk1NjY0ZS0zLHJmOjMwMC44MDE3LGVsbGlwc2VOYW1lOiJFdmVyZXN0IDE5NjkifSxFZS5ldnJzdFNTPXthOjYzNzcyOTg1NTZlLTMscmY6MzAwLjgwMTcsZWxsaXBzZU5hbWU6IkV2ZXJlc3QgKFNhYmFoICYgU2FyYXdhaykifSxFZS5mc2NocjYwPXthOjYzNzgxNjYscmY6Mjk4LjMsZWxsaXBzZU5hbWU6IkZpc2NoZXIgKE1lcmN1cnkgRGF0dW0pIDE5NjAifSxFZS5mc2NocjYwbT17YTo2Mzc4MTU1LHJmOjI5OC4zLGVsbGlwc2VOYW1lOiJGaXNjaGVyIDE5NjAifSxFZS5mc2NocjY4PXthOjYzNzgxNTAscmY6Mjk4LjMsZWxsaXBzZU5hbWU6IkZpc2NoZXIgMTk2OCJ9LEVlLmhlbG1lcnQ9e2E6NjM3ODIwMCxyZjoyOTguMyxlbGxpcHNlTmFtZToiSGVsbWVydCAxOTA2In0sRWUuaG91Z2g9e2E6NjM3ODI3MCxyZjoyOTcsZWxsaXBzZU5hbWU6IkhvdWdoIn0sRWUuaW50bD17YTo2Mzc4Mzg4LHJmOjI5NyxlbGxpcHNlTmFtZToiSW50ZXJuYXRpb25hbCAxOTA5IChIYXlmb3JkKSJ9LEVlLmthdWxhPXthOjYzNzgxNjMscmY6Mjk4LjI0LGVsbGlwc2VOYW1lOiJLYXVsYSAxOTYxIn0sRWUubGVyY2g9e2E6NjM3ODEzOSxyZjoyOTguMjU3LGVsbGlwc2VOYW1lOiJMZXJjaCAxOTc5In0sRWUubXBydHM9e2E6NjM5NzMwMCxyZjoxOTEsZWxsaXBzZU5hbWU6Ik1hdXBlcnRpdXMgMTczOCJ9LEVlLm5ld19pbnRsPXthOjYzNzgxNTc1ZS0xLGI6NjM1Njc3MjJlLTEsZWxsaXBzZU5hbWU6Ik5ldyBJbnRlcm5hdGlvbmFsIDE5NjcifSxFZS5wbGVzc2lzPXthOjYzNzY1MjMscmY6NjM1NTg2MyxlbGxpcHNlTmFtZToiUGxlc3NpcyAxODE3IChGcmFuY2UpIn0sRWUua3Jhc3M9e2E6NjM3ODI0NSxyZjoyOTguMyxlbGxpcHNlTmFtZToiS3Jhc3NvdnNreSwgMTk0MiJ9LEVlLlNFYXNpYT17YTo2Mzc4MTU1LGI6NjM1Njc3MzMyMDVlLTQsZWxsaXBzZU5hbWU6IlNvdXRoZWFzdCBBc2lhIn0sRWUud2FsYmVjaz17YTo2Mzc2ODk2LGI6NjM1NTgzNDg0NjdlLTQsZWxsaXBzZU5hbWU6IldhbGJlY2sifSxFZS5XR1M2MD17YTo2Mzc4MTY1LHJmOjI5OC4zLGVsbGlwc2VOYW1lOiJXR1MgNjAifSxFZS5XR1M2Nj17YTo2Mzc4MTQ1LHJmOjI5OC4yNSxlbGxpcHNlTmFtZToiV0dTIDY2In0sRWUuV0dTNz17YTo2Mzc4MTM1LHJmOjI5OC4yNixlbGxpcHNlTmFtZToiV0dTIDcyIn07dmFyIEt1PUVlLldHUzg0PXthOjYzNzgxMzcscmY6Mjk4LjI1NzIyMzU2MyxlbGxpcHNlTmFtZToiV0dTIDg0In07RWUuc3BoZXJlPXthOjYzNzA5OTcsYjo2MzcwOTk3LGVsbGlwc2VOYW1lOiJOb3JtYWwgU3BoZXJlIChyPTYzNzA5OTcpIn07ZnVuY3Rpb24gUXUoaSxlLHQscil7dmFyIHM9aSppLGE9ZSplLG49KHMtYSkvcyxvPTA7cj8oaSo9MS1uKihfdStuKih5dStuKk11KSkscz1pKmksbj0wKTpvPU1hdGguc3FydChuKTt2YXIgaD0ocy1hKS9hO3JldHVybntlczpuLGU6byxlcDI6aH19ZnVuY3Rpb24gJHUoaSxlLHQscixzKXtpZighaSl7dmFyIGE9TGkoRWUscik7YXx8KGE9S3UpLGk9YS5hLGU9YS5iLHQ9YS5yZn1yZXR1cm4gdCYmIWUmJihlPSgxLTEvdCkqaSksKHQ9PT0wfHxNYXRoLmFicyhpLWUpPG5lKSYmKHM9ITAsZT1pKSx7YTppLGI6ZSxyZjp0LHNwaGVyZTpzfX12YXIgb3Q9e307b3Qud2dzODQ9e3Rvd2dzODQ6IjAsMCwwIixlbGxpcHNlOiJXR1M4NCIsZGF0dW1OYW1lOiJXR1M4NCJ9LG90LmNoMTkwMz17dG93Z3M4NDoiNjc0LjM3NCwxNS4wNTYsNDA1LjM0NiIsZWxsaXBzZToiYmVzc2VsIixkYXR1bU5hbWU6InN3aXNzIn0sb3QuZ2dyczg3PXt0b3dnczg0OiItMTk5Ljg3LDc0Ljc5LDI0Ni42MiIsZWxsaXBzZToiR1JTODAiLGRhdHVtTmFtZToiR3JlZWtfR2VvZGV0aWNfUmVmZXJlbmNlX1N5c3RlbV8xOTg3In0sb3QubmFkODM9e3Rvd2dzODQ6IjAsMCwwIixlbGxpcHNlOiJHUlM4MCIsZGF0dW1OYW1lOiJOb3J0aF9BbWVyaWNhbl9EYXR1bV8xOTgzIn0sb3QubmFkMjc9e25hZGdyaWRzOiJAY29udXMsQGFsYXNrYSxAbnR2Ml8wLmdzYixAbnR2MV9jYW4uZGF0IixlbGxpcHNlOiJjbHJrNjYiLGRhdHVtTmFtZToiTm9ydGhfQW1lcmljYW5fRGF0dW1fMTkyNyJ9LG90LnBvdHNkYW09e3Rvd2dzODQ6IjU5OC4xLDczLjcsNDE4LjIsMC4yMDIsMC4wNDUsLTIuNDU1LDYuNyIsZWxsaXBzZToiYmVzc2VsIixkYXR1bU5hbWU6IlBvdHNkYW0gUmF1ZW5iZXJnIDE5NTAgREhETiJ9LG90LmNhcnRoYWdlPXt0b3dnczg0OiItMjYzLjAsNi4wLDQzMS4wIixlbGxpcHNlOiJjbGFyazgwIixkYXR1bU5hbWU6IkNhcnRoYWdlIDE5MzQgVHVuaXNpYSJ9LG90Lmhlcm1hbm5za29nZWw9e3Rvd2dzODQ6IjU3Ny4zMjYsOTAuMTI5LDQ2My45MTksNS4xMzcsMS40NzQsNS4yOTcsMi40MjMyIixlbGxpcHNlOiJiZXNzZWwiLGRhdHVtTmFtZToiSGVybWFubnNrb2dlbCJ9LG90Lm9zbmk1Mj17dG93Z3M4NDoiNDgyLjUzMCwtMTMwLjU5Niw1NjQuNTU3LC0xLjA0MiwtMC4yMTQsLTAuNjMxLDguMTUiLGVsbGlwc2U6ImFpcnkiLGRhdHVtTmFtZToiSXJpc2ggTmF0aW9uYWwifSxvdC5pcmU2NT17dG93Z3M4NDoiNDgyLjUzMCwtMTMwLjU5Niw1NjQuNTU3LC0xLjA0MiwtMC4yMTQsLTAuNjMxLDguMTUiLGVsbGlwc2U6Im1vZF9haXJ5IixkYXR1bU5hbWU6IklyZWxhbmQgMTk2NSJ9LG90LnJhc3NhZGlyYW49e3Rvd2dzODQ6Ii0xMzMuNjMsLTE1Ny41LC0xNTguNjIiLGVsbGlwc2U6ImludGwiLGRhdHVtTmFtZToiUmFzc2FkaXJhbiJ9LG90Lm56Z2Q0OT17dG93Z3M4NDoiNTkuNDcsLTUuMDQsMTg3LjQ0LDAuNDcsLTAuMSwxLjAyNCwtNC41OTkzIixlbGxpcHNlOiJpbnRsIixkYXR1bU5hbWU6Ik5ldyBaZWFsYW5kIEdlb2RldGljIERhdHVtIDE5NDkifSxvdC5vc2diMzY9e3Rvd2dzODQ6IjQ0Ni40NDgsLTEyNS4xNTcsNTQyLjA2MCwwLjE1MDIsMC4yNDcwLDAuODQyMSwtMjAuNDg5NCIsZWxsaXBzZToiYWlyeSIsZGF0dW1OYW1lOiJBaXJ5IDE4MzAifSxvdC5zX2p0c2s9e3Rvd2dzODQ6IjU4OSw3Niw0ODAiLGVsbGlwc2U6ImJlc3NlbCIsZGF0dW1OYW1lOiJTLUpUU0sgKEZlcnJvKSJ9LG90LmJlZHVhcmFtPXt0b3dnczg0OiItMTA2LC04NywxODgiLGVsbGlwc2U6ImNscms4MCIsZGF0dW1OYW1lOiJCZWR1YXJhbSJ9LG90Lmd1bnVuZ19zZWdhcmE9e3Rvd2dzODQ6Ii00MDMsNjg0LDQxIixlbGxpcHNlOiJiZXNzZWwiLGRhdHVtTmFtZToiR3VudW5nIFNlZ2FyYSBKYWthcnRhIn0sb3Qucm5iNzI9e3Rvd2dzODQ6IjEwNi44NjksLTUyLjI5NzgsMTAzLjcyNCwtMC4zMzY1NywwLjQ1Njk1NSwtMS44NDIxOCwxIixlbGxpcHNlOiJpbnRsIixkYXR1bU5hbWU6IlJlc2VhdSBOYXRpb25hbCBCZWxnZSAxOTcyIn07ZnVuY3Rpb24gZWQoaSxlLHQscixzLGEsbil7dmFyIG89e307cmV0dXJuIGk9PT12b2lkIDB8fGk9PT0ibm9uZSI/by5kYXR1bV90eXBlPWhzOm8uZGF0dW1fdHlwZT1sbixlJiYoby5kYXR1bV9wYXJhbXM9ZS5tYXAocGFyc2VGbG9hdCksKG8uZGF0dW1fcGFyYW1zWzBdIT09MHx8by5kYXR1bV9wYXJhbXNbMV0hPT0wfHxvLmRhdHVtX3BhcmFtc1syXSE9PTApJiYoby5kYXR1bV90eXBlPUZ0KSxvLmRhdHVtX3BhcmFtcy5sZW5ndGg+MyYmKG8uZGF0dW1fcGFyYW1zWzNdIT09MHx8by5kYXR1bV9wYXJhbXNbNF0hPT0wfHxvLmRhdHVtX3BhcmFtc1s1XSE9PTB8fG8uZGF0dW1fcGFyYW1zWzZdIT09MCkmJihvLmRhdHVtX3R5cGU9Zmksby5kYXR1bV9wYXJhbXNbM10qPWxzLG8uZGF0dW1fcGFyYW1zWzRdKj1scyxvLmRhdHVtX3BhcmFtc1s1XSo9bHMsby5kYXR1bV9wYXJhbXNbNl09by5kYXR1bV9wYXJhbXNbNl0vMWU2KzEpKSxuJiYoby5kYXR1bV90eXBlPVhpLG8uZ3JpZHM9biksby5hPXQsby5iPXIsby5lcz1zLG8uZXAyPWEsb312YXIgYWg9e307ZnVuY3Rpb24gdGQoaSxlKXt2YXIgdD1uZXcgRGF0YVZpZXcoZSkscj1zZCh0KSxzPWFkKHQscik7cy5uU3ViZ3JpZHM+MSYmY29uc29sZS5sb2coIk9ubHkgc2luZ2xlIE5UdjIgc3ViZ3JpZHMgYXJlIGN1cnJlbnRseSBzdXBwb3J0ZWQsIHN1YnNlcXVlbnQgc3ViIGdyaWRzIGFyZSBpZ25vcmVkIik7dmFyIGE9bmQodCxzLHIpLG49e2hlYWRlcjpzLHN1YmdyaWRzOmF9O3JldHVybiBhaFtpXT1uLG59ZnVuY3Rpb24gaWQoaSl7aWYoaT09PXZvaWQgMClyZXR1cm4gbnVsbDt2YXIgZT1pLnNwbGl0KCIsIik7cmV0dXJuIGUubWFwKHJkKX1mdW5jdGlvbiByZChpKXtpZihpLmxlbmd0aD09PTApcmV0dXJuIG51bGw7dmFyIGU9aVswXT09PSJAIjtyZXR1cm4gZSYmKGk9aS5zbGljZSgxKSksaT09PSJudWxsIj97bmFtZToibnVsbCIsbWFuZGF0b3J5OiFlLGdyaWQ6bnVsbCxpc051bGw6ITB9OntuYW1lOmksbWFuZGF0b3J5OiFlLGdyaWQ6YWhbaV18fG51bGwsaXNOdWxsOiExfX1mdW5jdGlvbiB1cihpKXtyZXR1cm4gaS8zNjAwKk1hdGguUEkvMTgwfWZ1bmN0aW9uIHNkKGkpe3ZhciBlPWkuZ2V0SW50MzIoOCwhMSk7cmV0dXJuIGU9PT0xMT8hMTooZT1pLmdldEludDMyKDgsITApLGUhPT0xMSYmY29uc29sZS53YXJuKCJGYWlsZWQgdG8gZGV0ZWN0IG5hZGdyaWQgZW5kaWFuLW5lc3MsIGRlZmF1bHRpbmcgdG8gbGl0dGxlLWVuZGlhbiIpLCEwKX1mdW5jdGlvbiBhZChpLGUpe3JldHVybntuRmllbGRzOmkuZ2V0SW50MzIoOCxlKSxuU3ViZ3JpZEZpZWxkczppLmdldEludDMyKDI0LGUpLG5TdWJncmlkczppLmdldEludDMyKDQwLGUpLHNoaWZ0VHlwZTpkbihpLDU2LDU2KzgpLnRyaW0oKSxmcm9tU2VtaU1ham9yQXhpczppLmdldEZsb2F0NjQoMTIwLGUpLGZyb21TZW1pTWlub3JBeGlzOmkuZ2V0RmxvYXQ2NCgxMzYsZSksdG9TZW1pTWFqb3JBeGlzOmkuZ2V0RmxvYXQ2NCgxNTIsZSksdG9TZW1pTWlub3JBeGlzOmkuZ2V0RmxvYXQ2NCgxNjgsZSl9fWZ1bmN0aW9uIGRuKGksZSx0KXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KGkuYnVmZmVyLnNsaWNlKGUsdCkpKX1mdW5jdGlvbiBuZChpLGUsdCl7Zm9yKHZhciByPTE3NixzPVtdLGE9MDthPGUublN1YmdyaWRzO2ErKyl7dmFyIG49aGQoaSxyLHQpLG89bGQoaSxyLG4sdCksaD1NYXRoLnJvdW5kKDErKG4udXBwZXJMb25naXR1ZGUtbi5sb3dlckxvbmdpdHVkZSkvbi5sb25naXR1ZGVJbnRlcnZhbCksbD1NYXRoLnJvdW5kKDErKG4udXBwZXJMYXRpdHVkZS1uLmxvd2VyTGF0aXR1ZGUpL24ubGF0aXR1ZGVJbnRlcnZhbCk7cy5wdXNoKHtsbDpbdXIobi5sb3dlckxvbmdpdHVkZSksdXIobi5sb3dlckxhdGl0dWRlKV0sZGVsOlt1cihuLmxvbmdpdHVkZUludGVydmFsKSx1cihuLmxhdGl0dWRlSW50ZXJ2YWwpXSxsaW06W2gsbF0sY291bnQ6bi5ncmlkTm9kZUNvdW50LGN2czpvZChvKX0pfXJldHVybiBzfWZ1bmN0aW9uIG9kKGkpe3JldHVybiBpLm1hcChmdW5jdGlvbihlKXtyZXR1cm5bdXIoZS5sb25naXR1ZGVTaGlmdCksdXIoZS5sYXRpdHVkZVNoaWZ0KV19KX1mdW5jdGlvbiBoZChpLGUsdCl7cmV0dXJue25hbWU6ZG4oaSxlKzgsZSsxNikudHJpbSgpLHBhcmVudDpkbihpLGUrMjQsZSsyNCs4KS50cmltKCksbG93ZXJMYXRpdHVkZTppLmdldEZsb2F0NjQoZSs3Mix0KSx1cHBlckxhdGl0dWRlOmkuZ2V0RmxvYXQ2NChlKzg4LHQpLGxvd2VyTG9uZ2l0dWRlOmkuZ2V0RmxvYXQ2NChlKzEwNCx0KSx1cHBlckxvbmdpdHVkZTppLmdldEZsb2F0NjQoZSsxMjAsdCksbGF0aXR1ZGVJbnRlcnZhbDppLmdldEZsb2F0NjQoZSsxMzYsdCksbG9uZ2l0dWRlSW50ZXJ2YWw6aS5nZXRGbG9hdDY0KGUrMTUyLHQpLGdyaWROb2RlQ291bnQ6aS5nZXRJbnQzMihlKzE2OCx0KX19ZnVuY3Rpb24gbGQoaSxlLHQscil7Zm9yKHZhciBzPWUrMTc2LGE9MTYsbj1bXSxvPTA7bzx0LmdyaWROb2RlQ291bnQ7bysrKXt2YXIgaD17bGF0aXR1ZGVTaGlmdDppLmdldEZsb2F0MzIocytvKmEsciksbG9uZ2l0dWRlU2hpZnQ6aS5nZXRGbG9hdDMyKHMrbyphKzQsciksbGF0aXR1ZGVBY2N1cmFjeTppLmdldEZsb2F0MzIocytvKmErOCxyKSxsb25naXR1ZGVBY2N1cmFjeTppLmdldEZsb2F0MzIocytvKmErMTIscil9O24ucHVzaChoKX1yZXR1cm4gbn1mdW5jdGlvbiByaShpLGUpe2lmKCEodGhpcyBpbnN0YW5jZW9mIHJpKSlyZXR1cm4gbmV3IHJpKGkpO2U9ZXx8ZnVuY3Rpb24obCl7aWYobCl0aHJvdyBsfTt2YXIgdD1VdShpKTtpZih0eXBlb2YgdCE9Im9iamVjdCIpe2UoaSk7cmV0dXJufXZhciByPXJpLnByb2plY3Rpb25zLmdldCh0LnByb2pOYW1lKTtpZighcil7ZShpKTtyZXR1cm59aWYodC5kYXR1bUNvZGUmJnQuZGF0dW1Db2RlIT09Im5vbmUiKXt2YXIgcz1MaShvdCx0LmRhdHVtQ29kZSk7cyYmKHQuZGF0dW1fcGFyYW1zPXQuZGF0dW1fcGFyYW1zfHwocy50b3dnczg0P3MudG93Z3M4NC5zcGxpdCgiLCIpOm51bGwpLHQuZWxscHM9cy5lbGxpcHNlLHQuZGF0dW1OYW1lPXMuZGF0dW1OYW1lP3MuZGF0dW1OYW1lOnQuZGF0dW1Db2RlKX10LmswPXQuazB8fDEsdC5heGlzPXQuYXhpc3x8ImVudSIsdC5lbGxwcz10LmVsbHBzfHwid2dzODQiLHQubGF0MT10LmxhdDF8fHQubGF0MDt2YXIgYT0kdSh0LmEsdC5iLHQucmYsdC5lbGxwcyx0LnNwaGVyZSksbj1RdShhLmEsYS5iLGEucmYsdC5SX0EpLG89aWQodC5uYWRncmlkcyksaD10LmRhdHVtfHxlZCh0LmRhdHVtQ29kZSx0LmRhdHVtX3BhcmFtcyxhLmEsYS5iLG4uZXMsbi5lcDIsbyk7aWgodGhpcyx0KSxpaCh0aGlzLHIpLHRoaXMuYT1hLmEsdGhpcy5iPWEuYix0aGlzLnJmPWEucmYsdGhpcy5zcGhlcmU9YS5zcGhlcmUsdGhpcy5lcz1uLmVzLHRoaXMuZT1uLmUsdGhpcy5lcDI9bi5lcDIsdGhpcy5kYXR1bT1oLHRoaXMuaW5pdCgpLGUobnVsbCx0aGlzKX1yaS5wcm9qZWN0aW9ucz1adSxyaS5wcm9qZWN0aW9ucy5zdGFydCgpO2Z1bmN0aW9uIGNkKGksZSl7cmV0dXJuIGkuZGF0dW1fdHlwZSE9PWUuZGF0dW1fdHlwZXx8aS5hIT09ZS5hfHxNYXRoLmFicyhpLmVzLWUuZXMpPjVlLTExPyExOmkuZGF0dW1fdHlwZT09PUZ0P2kuZGF0dW1fcGFyYW1zWzBdPT09ZS5kYXR1bV9wYXJhbXNbMF0mJmkuZGF0dW1fcGFyYW1zWzFdPT09ZS5kYXR1bV9wYXJhbXNbMV0mJmkuZGF0dW1fcGFyYW1zWzJdPT09ZS5kYXR1bV9wYXJhbXNbMl06aS5kYXR1bV90eXBlPT09Zmk/aS5kYXR1bV9wYXJhbXNbMF09PT1lLmRhdHVtX3BhcmFtc1swXSYmaS5kYXR1bV9wYXJhbXNbMV09PT1lLmRhdHVtX3BhcmFtc1sxXSYmaS5kYXR1bV9wYXJhbXNbMl09PT1lLmRhdHVtX3BhcmFtc1syXSYmaS5kYXR1bV9wYXJhbXNbM109PT1lLmRhdHVtX3BhcmFtc1szXSYmaS5kYXR1bV9wYXJhbXNbNF09PT1lLmRhdHVtX3BhcmFtc1s0XSYmaS5kYXR1bV9wYXJhbXNbNV09PT1lLmRhdHVtX3BhcmFtc1s1XSYmaS5kYXR1bV9wYXJhbXNbNl09PT1lLmRhdHVtX3BhcmFtc1s2XTohMH1mdW5jdGlvbiBuaChpLGUsdCl7dmFyIHI9aS54LHM9aS55LGE9aS56P2kuejowLG4sbyxoLGw7aWYoczwtSyYmcz4tMS4wMDEqSylzPS1LO2Vsc2UgaWYocz5LJiZzPDEuMDAxKkspcz1LO2Vsc2V7aWYoczwtSylyZXR1cm57eDotMS8wLHk6LTEvMCx6Omkuen07aWYocz5LKXJldHVybnt4OjEvMCx5OjEvMCx6Omkuen19cmV0dXJuIHI+TWF0aC5QSSYmKHItPTIqTWF0aC5QSSksbz1NYXRoLnNpbihzKSxsPU1hdGguY29zKHMpLGg9bypvLG49dC9NYXRoLnNxcnQoMS1lKmgpLHt4OihuK2EpKmwqTWF0aC5jb3MocikseToobithKSpsKk1hdGguc2luKHIpLHo6KG4qKDEtZSkrYSkqb319ZnVuY3Rpb24gb2goaSxlLHQscil7dmFyIHM9MWUtMTIsYT1zKnMsbj0zMCxvLGgsbCxjLHUsZCxwLGcsZixtLHYseSxULHc9aS54LGI9aS55LEw9aS56P2kuejowLFAsayxpZTtpZihvPU1hdGguc3FydCh3KncrYipiKSxoPU1hdGguc3FydCh3KncrYipiK0wqTCksby90PHMpe2lmKFA9MCxoL3Q8cylyZXR1cm4gaz1LLGllPS1yLHt4OmkueCx5OmkueSx6Omkuen19ZWxzZSBQPU1hdGguYXRhbjIoYix3KTtsPUwvaCxjPW8vaCx1PTEvTWF0aC5zcXJ0KDEtZSooMi1lKSpjKmMpLGc9YyooMS1lKSp1LGY9bCp1LFQ9MDtkbyBUKysscD10L01hdGguc3FydCgxLWUqZipmKSxpZT1vKmcrTCpmLXAqKDEtZSpmKmYpLGQ9ZSpwLyhwK2llKSx1PTEvTWF0aC5zcXJ0KDEtZCooMi1kKSpjKmMpLG09YyooMS1kKSp1LHY9bCp1LHk9dipnLW0qZixnPW0sZj12O3doaWxlKHkqeT5hJiZUPG4pO3JldHVybiBrPU1hdGguYXRhbih2L01hdGguYWJzKG0pKSx7eDpQLHk6ayx6OmllfX1mdW5jdGlvbiB1ZChpLGUsdCl7aWYoZT09PUZ0KXJldHVybnt4OmkueCt0WzBdLHk6aS55K3RbMV0sejppLnordFsyXX07aWYoZT09PWZpKXt2YXIgcj10WzBdLHM9dFsxXSxhPXRbMl0sbj10WzNdLG89dFs0XSxoPXRbNV0sbD10WzZdO3JldHVybnt4OmwqKGkueC1oKmkueStvKmkueikrcix5OmwqKGgqaS54K2kueS1uKmkueikrcyx6OmwqKC1vKmkueCtuKmkueStpLnopK2F9fX1mdW5jdGlvbiBkZChpLGUsdCl7aWYoZT09PUZ0KXJldHVybnt4OmkueC10WzBdLHk6aS55LXRbMV0sejppLnotdFsyXX07aWYoZT09PWZpKXt2YXIgcj10WzBdLHM9dFsxXSxhPXRbMl0sbj10WzNdLG89dFs0XSxoPXRbNV0sbD10WzZdLGM9KGkueC1yKS9sLHU9KGkueS1zKS9sLGQ9KGkuei1hKS9sO3JldHVybnt4OmMraCp1LW8qZCx5Oi1oKmMrdStuKmQsejpvKmMtbip1K2R9fX1mdW5jdGlvbiB0YShpKXtyZXR1cm4gaT09PUZ0fHxpPT09Zml9ZnVuY3Rpb24gcGQoaSxlLHQpe2lmKGNkKGksZSl8fGkuZGF0dW1fdHlwZT09PWhzfHxlLmRhdHVtX3R5cGU9PT1ocylyZXR1cm4gdDt2YXIgcj1pLmEscz1pLmVzO2lmKGkuZGF0dW1fdHlwZT09PVhpKXt2YXIgYT1oaChpLCExLHQpO2lmKGEhPT0wKXJldHVybjtyPWhyLHM9bHJ9dmFyIG49ZS5hLG89ZS5iLGg9ZS5lcztpZihlLmRhdHVtX3R5cGU9PT1YaSYmKG49aHIsbz1taSxoPWxyKSxzPT09aCYmcj09PW4mJiF0YShpLmRhdHVtX3R5cGUpJiYhdGEoZS5kYXR1bV90eXBlKSlyZXR1cm4gdDtpZih0PW5oKHQscyxyKSx0YShpLmRhdHVtX3R5cGUpJiYodD11ZCh0LGkuZGF0dW1fdHlwZSxpLmRhdHVtX3BhcmFtcykpLHRhKGUuZGF0dW1fdHlwZSkmJih0PWRkKHQsZS5kYXR1bV90eXBlLGUuZGF0dW1fcGFyYW1zKSksdD1vaCh0LGgsbixvKSxlLmRhdHVtX3R5cGU9PT1YaSl7dmFyIGw9aGgoZSwhMCx0KTtpZihsIT09MClyZXR1cm59cmV0dXJuIHR9ZnVuY3Rpb24gaGgoaSxlLHQpe2lmKGkuZ3JpZHM9PT1udWxsfHxpLmdyaWRzLmxlbmd0aD09PTApcmV0dXJuIGNvbnNvbGUubG9nKCJHcmlkIHNoaWZ0IGdyaWRzIG5vdCBmb3VuZCIpLC0xO2Zvcih2YXIgcj17eDotdC54LHk6dC55fSxzPXt4Ok51bWJlci5OYU4seTpOdW1iZXIuTmFOfSxhPVtdLG49MDtuPGkuZ3JpZHMubGVuZ3RoO24rKyl7dmFyIG89aS5ncmlkc1tuXTtpZihhLnB1c2goby5uYW1lKSxvLmlzTnVsbCl7cz1yO2JyZWFrfWlmKG8uZ3JpZD09PW51bGwpe2lmKG8ubWFuZGF0b3J5KXJldHVybiBjb25zb2xlLmxvZygiVW5hYmxlIHRvIGZpbmQgbWFuZGF0b3J5IGdyaWQgJyIrby5uYW1lKyInIiksLTE7Y29udGludWV9dmFyIGg9by5ncmlkLnN1YmdyaWRzWzBdLGw9KE1hdGguYWJzKGguZGVsWzFdKStNYXRoLmFicyhoLmRlbFswXSkpLzFlNCxjPWgubGxbMF0tbCx1PWgubGxbMV0tbCxkPWgubGxbMF0rKGgubGltWzBdLTEpKmguZGVsWzBdK2wscD1oLmxsWzFdKyhoLmxpbVsxXS0xKSpoLmRlbFsxXStsO2lmKCEodT5yLnl8fGM+ci54fHxwPHIueXx8ZDxyLngpJiYocz1mZChyLGUsaCksIWlzTmFOKHMueCkpKWJyZWFrfXJldHVybiBpc05hTihzLngpPyhjb25zb2xlLmxvZygiRmFpbGVkIHRvIGZpbmQgYSBncmlkIHNoaWZ0IHRhYmxlIGZvciBsb2NhdGlvbiAnIistci54KnRpKyIgIityLnkqdGkrIiB0cmllZDogJyIrYSsiJyIpLC0xKToodC54PS1zLngsdC55PXMueSwwKX1mdW5jdGlvbiBmZChpLGUsdCl7dmFyIHI9e3g6TnVtYmVyLk5hTix5Ok51bWJlci5OYU59O2lmKGlzTmFOKGkueCkpcmV0dXJuIHI7dmFyIHM9e3g6aS54LHk6aS55fTtzLngtPXQubGxbMF0scy55LT10LmxsWzFdLHMueD11ZShzLngtTWF0aC5QSSkrTWF0aC5QSTt2YXIgYT1saChzLHQpO2lmKGUpe2lmKGlzTmFOKGEueCkpcmV0dXJuIHI7YS54PXMueC1hLngsYS55PXMueS1hLnk7dmFyIG49OSxvPTFlLTEyLGgsbDtkb3tpZihsPWxoKGEsdCksaXNOYU4obC54KSl7Y29uc29sZS5sb2coIkludmVyc2UgZ3JpZCBzaGlmdCBpdGVyYXRpb24gZmFpbGVkLCBwcmVzdW1hYmx5IGF0IGdyaWQgZWRnZS4gIFVzaW5nIGZpcnN0IGFwcHJveGltYXRpb24uIik7YnJlYWt9aD17eDpzLngtKGwueCthLngpLHk6cy55LShsLnkrYS55KX0sYS54Kz1oLngsYS55Kz1oLnl9d2hpbGUobi0tJiZNYXRoLmFicyhoLngpPm8mJk1hdGguYWJzKGgueSk+byk7aWYobjwwKXJldHVybiBjb25zb2xlLmxvZygiSW52ZXJzZSBncmlkIHNoaWZ0IGl0ZXJhdG9yIGZhaWxlZCB0byBjb252ZXJnZS4iKSxyO3IueD11ZShhLngrdC5sbFswXSksci55PWEueSt0LmxsWzFdfWVsc2UgaXNOYU4oYS54KXx8KHIueD1pLngrYS54LHIueT1pLnkrYS55KTtyZXR1cm4gcn1mdW5jdGlvbiBsaChpLGUpe3ZhciB0PXt4OmkueC9lLmRlbFswXSx5OmkueS9lLmRlbFsxXX0scj17eDpNYXRoLmZsb29yKHQueCkseTpNYXRoLmZsb29yKHQueSl9LHM9e3g6dC54LTEqci54LHk6dC55LTEqci55fSxhPXt4Ok51bWJlci5OYU4seTpOdW1iZXIuTmFOfSxuO2lmKHIueDwwfHxyLng+PWUubGltWzBdfHxyLnk8MHx8ci55Pj1lLmxpbVsxXSlyZXR1cm4gYTtuPXIueSplLmxpbVswXStyLng7dmFyIG89e3g6ZS5jdnNbbl1bMF0seTplLmN2c1tuXVsxXX07bisrO3ZhciBoPXt4OmUuY3ZzW25dWzBdLHk6ZS5jdnNbbl1bMV19O24rPWUubGltWzBdO3ZhciBsPXt4OmUuY3ZzW25dWzBdLHk6ZS5jdnNbbl1bMV19O24tLTt2YXIgYz17eDplLmN2c1tuXVswXSx5OmUuY3ZzW25dWzFdfSx1PXMueCpzLnksZD1zLngqKDEtcy55KSxwPSgxLXMueCkqKDEtcy55KSxnPSgxLXMueCkqcy55O3JldHVybiBhLng9cCpvLngrZCpoLngrZypjLngrdSpsLngsYS55PXAqby55K2QqaC55K2cqYy55K3UqbC55LGF9ZnVuY3Rpb24gY2goaSxlLHQpe3ZhciByPXQueCxzPXQueSxhPXQuenx8MCxuLG8saCxsPXt9O2ZvcihoPTA7aDwzO2grKylpZighKGUmJmg9PT0yJiZ0Lno9PT12b2lkIDApKXN3aXRjaChoPT09MD8obj1yLCJldyIuaW5kZXhPZihpLmF4aXNbaF0pIT09LTE/bz0ieCI6bz0ieSIpOmg9PT0xPyhuPXMsIm5zIi5pbmRleE9mKGkuYXhpc1toXSkhPT0tMT9vPSJ5IjpvPSJ4Iik6KG49YSxvPSJ6IiksaS5heGlzW2hdKXtjYXNlImUiOmxbb109bjticmVhaztjYXNlInciOmxbb109LW47YnJlYWs7Y2FzZSJuIjpsW29dPW47YnJlYWs7Y2FzZSJzIjpsW29dPS1uO2JyZWFrO2Nhc2UidSI6dFtvXSE9PXZvaWQgMCYmKGwuej1uKTticmVhaztjYXNlImQiOnRbb10hPT12b2lkIDAmJihsLno9LW4pO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIG51bGx9cmV0dXJuIGx9ZnVuY3Rpb24gdWgoaSl7dmFyIGU9e3g6aVswXSx5OmlbMV19O3JldHVybiBpLmxlbmd0aD4yJiYoZS56PWlbMl0pLGkubGVuZ3RoPjMmJihlLm09aVszXSksZX1mdW5jdGlvbiBtZChpKXtkaChpLngpLGRoKGkueSl9ZnVuY3Rpb24gZGgoaSl7aWYodHlwZW9mIE51bWJlci5pc0Zpbml0ZT09ImZ1bmN0aW9uIil7aWYoTnVtYmVyLmlzRmluaXRlKGkpKXJldHVybjt0aHJvdyBuZXcgVHlwZUVycm9yKCJjb29yZGluYXRlcyBtdXN0IGJlIGZpbml0ZSBudW1iZXJzIil9aWYodHlwZW9mIGkhPSJudW1iZXIifHxpIT09aXx8IWlzRmluaXRlKGkpKXRocm93IG5ldyBUeXBlRXJyb3IoImNvb3JkaW5hdGVzIG11c3QgYmUgZmluaXRlIG51bWJlcnMiKX1mdW5jdGlvbiBnZChpLGUpe3JldHVybihpLmRhdHVtLmRhdHVtX3R5cGU9PT1GdHx8aS5kYXR1bS5kYXR1bV90eXBlPT09ZmkpJiZlLmRhdHVtQ29kZSE9PSJXR1M4NCJ8fChlLmRhdHVtLmRhdHVtX3R5cGU9PT1GdHx8ZS5kYXR1bS5kYXR1bV90eXBlPT09ZmkpJiZpLmRhdHVtQ29kZSE9PSJXR1M4NCJ9ZnVuY3Rpb24gaWEoaSxlLHQscil7dmFyIHM7aWYoQXJyYXkuaXNBcnJheSh0KSYmKHQ9dWgodCkpLG1kKHQpLGkuZGF0dW0mJmUuZGF0dW0mJmdkKGksZSkmJihzPW5ldyByaSgiV0dTODQiKSx0PWlhKGkscyx0LHIpLGk9cyksciYmaS5heGlzIT09ImVudSImJih0PWNoKGksITEsdCkpLGkucHJvak5hbWU9PT0ibG9uZ2xhdCIpdD17eDp0LngqZ3QseTp0LnkqZ3Qsejp0Lnp8fDB9O2Vsc2UgaWYoaS50b19tZXRlciYmKHQ9e3g6dC54KmkudG9fbWV0ZXIseTp0LnkqaS50b19tZXRlcix6OnQuenx8MH0pLHQ9aS5pbnZlcnNlKHQpLCF0KXJldHVybjtpZihpLmZyb21fZ3JlZW53aWNoJiYodC54Kz1pLmZyb21fZ3JlZW53aWNoKSx0PXBkKGkuZGF0dW0sZS5kYXR1bSx0KSwhIXQpcmV0dXJuIGUuZnJvbV9ncmVlbndpY2gmJih0PXt4OnQueC1lLmZyb21fZ3JlZW53aWNoLHk6dC55LHo6dC56fHwwfSksZS5wcm9qTmFtZT09PSJsb25nbGF0Ij90PXt4OnQueCp0aSx5OnQueSp0aSx6OnQuenx8MH06KHQ9ZS5mb3J3YXJkKHQpLGUudG9fbWV0ZXImJih0PXt4OnQueC9lLnRvX21ldGVyLHk6dC55L2UudG9fbWV0ZXIsejp0Lnp8fDB9KSksciYmZS5heGlzIT09ImVudSI/Y2goZSwhMCx0KTp0fXZhciBwaD1yaSgiV0dTODQiKTtmdW5jdGlvbiBwbihpLGUsdCxyKXt2YXIgcyxhLG47cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/KHM9aWEoaSxlLHQscil8fHt4Ok5hTix5Ok5hTn0sdC5sZW5ndGg+Mj90eXBlb2YgaS5uYW1lPCJ1IiYmaS5uYW1lPT09Imdlb2NlbnQifHx0eXBlb2YgZS5uYW1lPCJ1IiYmZS5uYW1lPT09Imdlb2NlbnQiP3R5cGVvZiBzLno9PSJudW1iZXIiP1tzLngscy55LHMuel0uY29uY2F0KHQuc3BsaWNlKDMpKTpbcy54LHMueSx0WzJdXS5jb25jYXQodC5zcGxpY2UoMykpOltzLngscy55XS5jb25jYXQodC5zcGxpY2UoMikpOltzLngscy55XSk6KGE9aWEoaSxlLHQsciksbj1PYmplY3Qua2V5cyh0KSxuLmxlbmd0aD09PTJ8fG4uZm9yRWFjaChmdW5jdGlvbihvKXtpZih0eXBlb2YgaS5uYW1lPCJ1IiYmaS5uYW1lPT09Imdlb2NlbnQifHx0eXBlb2YgZS5uYW1lPCJ1IiYmZS5uYW1lPT09Imdlb2NlbnQiKXtpZihvPT09IngifHxvPT09InkifHxvPT09InoiKXJldHVybn1lbHNlIGlmKG89PT0ieCJ8fG89PT0ieSIpcmV0dXJuO2Fbb109dFtvXX0pLGEpfWZ1bmN0aW9uIGZoKGkpe3JldHVybiBpIGluc3RhbmNlb2Ygcmk/aTppLm9Qcm9qP2kub1Byb2o6cmkoaSl9ZnVuY3Rpb24gT3QoaSxlLHQpe2k9ZmgoaSk7dmFyIHI9ITEscztyZXR1cm4gdHlwZW9mIGU+InUiPyhlPWksaT1waCxyPSEwKToodHlwZW9mIGUueDwidSJ8fEFycmF5LmlzQXJyYXkoZSkpJiYodD1lLGU9aSxpPXBoLHI9ITApLGU9ZmgoZSksdD9wbihpLGUsdCk6KHM9e2ZvcndhcmQ6ZnVuY3Rpb24oYSxuKXtyZXR1cm4gcG4oaSxlLGEsbil9LGludmVyc2U6ZnVuY3Rpb24oYSxuKXtyZXR1cm4gcG4oZSxpLGEsbil9fSxyJiYocy5vUHJvaj1lKSxzKX12YXIgbWg9NixnaD0iQUpTQUpTIix2aD0iQUZBRkFGIixkcj02NSxQdD03MyxIdD03OSxmcz04Nixtcz05MCx2ZD17Zm9yd2FyZDp4aCxpbnZlcnNlOnhkLHRvUG9pbnQ6X2h9O2Z1bmN0aW9uIHhoKGksZSl7cmV0dXJuIGU9ZXx8NSxNZChfZCh7bGF0OmlbMV0sbG9uOmlbMF19KSxlKX1mdW5jdGlvbiB4ZChpKXt2YXIgZT1tbihiaChpLnRvVXBwZXJDYXNlKCkpKTtyZXR1cm4gZS5sYXQmJmUubG9uP1tlLmxvbixlLmxhdCxlLmxvbixlLmxhdF06W2UubGVmdCxlLmJvdHRvbSxlLnJpZ2h0LGUudG9wXX1mdW5jdGlvbiBfaChpKXt2YXIgZT1tbihiaChpLnRvVXBwZXJDYXNlKCkpKTtyZXR1cm4gZS5sYXQmJmUubG9uP1tlLmxvbixlLmxhdF06WyhlLmxlZnQrZS5yaWdodCkvMiwoZS50b3ArZS5ib3R0b20pLzJdfWZ1bmN0aW9uIGZuKGkpe3JldHVybiBpKihNYXRoLlBJLzE4MCl9ZnVuY3Rpb24geWgoaSl7cmV0dXJuIDE4MCooaS9NYXRoLlBJKX1mdW5jdGlvbiBfZChpKXt2YXIgZT1pLmxhdCx0PWkubG9uLHI9NjM3ODEzNyxzPS4wMDY2OTQzOCxhPS45OTk2LG4sbyxoLGwsYyx1LGQscD1mbihlKSxnPWZuKHQpLGYsbTttPU1hdGguZmxvb3IoKHQrMTgwKS82KSsxLHQ9PT0xODAmJihtPTYwKSxlPj01NiYmZTw2NCYmdD49MyYmdDwxMiYmKG09MzIpLGU+PTcyJiZlPDg0JiYodD49MCYmdDw5P209MzE6dD49OSYmdDwyMT9tPTMzOnQ+PTIxJiZ0PDMzP209MzU6dD49MzMmJnQ8NDImJihtPTM3KSksbj0obS0xKSo2LTE4MCszLGY9Zm4obiksbz1zLygxLXMpLGg9ci9NYXRoLnNxcnQoMS1zKk1hdGguc2luKHApKk1hdGguc2luKHApKSxsPU1hdGgudGFuKHApKk1hdGgudGFuKHApLGM9bypNYXRoLmNvcyhwKSpNYXRoLmNvcyhwKSx1PU1hdGguY29zKHApKihnLWYpLGQ9ciooKDEtcy80LTMqcypzLzY0LTUqcypzKnMvMjU2KSpwLSgzKnMvOCszKnMqcy8zMis0NSpzKnMqcy8xMDI0KSpNYXRoLnNpbigyKnApKygxNSpzKnMvMjU2KzQ1KnMqcypzLzEwMjQpKk1hdGguc2luKDQqcCktMzUqcypzKnMvMzA3MipNYXRoLnNpbig2KnApKTt2YXIgdj1hKmgqKHUrKDEtbCtjKSp1KnUqdS82Kyg1LTE4KmwrbCpsKzcyKmMtNTgqbykqdSp1KnUqdSp1LzEyMCkrNWU1LHk9YSooZCtoKk1hdGgudGFuKHApKih1KnUvMisoNS1sKzkqYys0KmMqYykqdSp1KnUqdS8yNCsoNjEtNTgqbCtsKmwrNjAwKmMtMzMwKm8pKnUqdSp1KnUqdSp1LzcyMCkpO3JldHVybiBlPDAmJih5Kz0xZTcpLHtub3J0aGluZzpNYXRoLnJvdW5kKHkpLGVhc3Rpbmc6TWF0aC5yb3VuZCh2KSx6b25lTnVtYmVyOm0sem9uZUxldHRlcjp5ZChlKX19ZnVuY3Rpb24gbW4oaSl7dmFyIGU9aS5ub3J0aGluZyx0PWkuZWFzdGluZyxyPWkuem9uZUxldHRlcixzPWkuem9uZU51bWJlcjtpZihzPDB8fHM+NjApcmV0dXJuIG51bGw7dmFyIGE9Ljk5OTYsbj02Mzc4MTM3LG89LjAwNjY5NDM4LGgsbD0oMS1NYXRoLnNxcnQoMS1vKSkvKDErTWF0aC5zcXJ0KDEtbykpLGMsdSxkLHAsZyxmLG0sdix5LFQ9dC01ZTUsdz1lO3I8Ik4iJiYody09MWU3KSxtPShzLTEpKjYtMTgwKzMsaD1vLygxLW8pLGY9dy9hLHY9Zi8obiooMS1vLzQtMypvKm8vNjQtNSpvKm8qby8yNTYpKSx5PXYrKDMqbC8yLTI3KmwqbCpsLzMyKSpNYXRoLnNpbigyKnYpKygyMSpsKmwvMTYtNTUqbCpsKmwqbC8zMikqTWF0aC5zaW4oNCp2KSsxNTEqbCpsKmwvOTYqTWF0aC5zaW4oNip2KSxjPW4vTWF0aC5zcXJ0KDEtbypNYXRoLnNpbih5KSpNYXRoLnNpbih5KSksdT1NYXRoLnRhbih5KSpNYXRoLnRhbih5KSxkPWgqTWF0aC5jb3MoeSkqTWF0aC5jb3MoeSkscD1uKigxLW8pL01hdGgucG93KDEtbypNYXRoLnNpbih5KSpNYXRoLnNpbih5KSwxLjUpLGc9VC8oYyphKTt2YXIgYj15LWMqTWF0aC50YW4oeSkvcCooZypnLzItKDUrMyp1KzEwKmQtNCpkKmQtOSpoKSpnKmcqZypnLzI0Kyg2MSs5MCp1KzI5OCpkKzQ1KnUqdS0yNTIqaC0zKmQqZCkqZypnKmcqZypnKmcvNzIwKTtiPXloKGIpO3ZhciBMPShnLSgxKzIqdStkKSpnKmcqZy82Kyg1LTIqZCsyOCp1LTMqZCpkKzgqaCsyNCp1KnUpKmcqZypnKmcqZy8xMjApL01hdGguY29zKHkpO0w9bSt5aChMKTt2YXIgUDtpZihpLmFjY3VyYWN5KXt2YXIgaz1tbih7bm9ydGhpbmc6aS5ub3J0aGluZytpLmFjY3VyYWN5LGVhc3Rpbmc6aS5lYXN0aW5nK2kuYWNjdXJhY3ksem9uZUxldHRlcjppLnpvbmVMZXR0ZXIsem9uZU51bWJlcjppLnpvbmVOdW1iZXJ9KTtQPXt0b3A6ay5sYXQscmlnaHQ6ay5sb24sYm90dG9tOmIsbGVmdDpMfX1lbHNlIFA9e2xhdDpiLGxvbjpMfTtyZXR1cm4gUH1mdW5jdGlvbiB5ZChpKXt2YXIgZT0iWiI7cmV0dXJuIDg0Pj1pJiZpPj03Mj9lPSJYIjo3Mj5pJiZpPj02ND9lPSJXIjo2ND5pJiZpPj01Nj9lPSJWIjo1Nj5pJiZpPj00OD9lPSJVIjo0OD5pJiZpPj00MD9lPSJUIjo0MD5pJiZpPj0zMj9lPSJTIjozMj5pJiZpPj0yND9lPSJSIjoyND5pJiZpPj0xNj9lPSJRIjoxNj5pJiZpPj04P2U9IlAiOjg+aSYmaT49MD9lPSJOIjowPmkmJmk+PS04P2U9Ik0iOi04PmkmJmk+PS0xNj9lPSJMIjotMTY+aSYmaT49LTI0P2U9IksiOi0yND5pJiZpPj0tMzI/ZT0iSiI6LTMyPmkmJmk+PS00MD9lPSJIIjotNDA+aSYmaT49LTQ4P2U9IkciOi00OD5pJiZpPj0tNTY/ZT0iRiI6LTU2PmkmJmk+PS02ND9lPSJFIjotNjQ+aSYmaT49LTcyP2U9IkQiOi03Mj5pJiZpPj0tODAmJihlPSJDIiksZX1mdW5jdGlvbiBNZChpLGUpe3ZhciB0PSIwMDAwMCIraS5lYXN0aW5nLHI9IjAwMDAwIitpLm5vcnRoaW5nO3JldHVybiBpLnpvbmVOdW1iZXIraS56b25lTGV0dGVyK2JkKGkuZWFzdGluZyxpLm5vcnRoaW5nLGkuem9uZU51bWJlcikrdC5zdWJzdHIodC5sZW5ndGgtNSxlKStyLnN1YnN0cihyLmxlbmd0aC01LGUpfWZ1bmN0aW9uIGJkKGksZSx0KXt2YXIgcj1NaCh0KSxzPU1hdGguZmxvb3IoaS8xZTUpLGE9TWF0aC5mbG9vcihlLzFlNSklMjA7cmV0dXJuIHdkKHMsYSxyKX1mdW5jdGlvbiBNaChpKXt2YXIgZT1pJW1oO3JldHVybiBlPT09MCYmKGU9bWgpLGV9ZnVuY3Rpb24gd2QoaSxlLHQpe3ZhciByPXQtMSxzPWdoLmNoYXJDb2RlQXQociksYT12aC5jaGFyQ29kZUF0KHIpLG49cytpLTEsbz1hK2UsaD0hMTtuPm1zJiYobj1uLW1zK2RyLTEsaD0hMCksKG49PT1QdHx8czxQdCYmbj5QdHx8KG4+UHR8fHM8UHQpJiZoKSYmbisrLChuPT09SHR8fHM8SHQmJm4+SHR8fChuPkh0fHxzPEh0KSYmaCkmJihuKyssbj09PVB0JiZuKyspLG4+bXMmJihuPW4tbXMrZHItMSksbz5mcz8obz1vLWZzK2RyLTEsaD0hMCk6aD0hMSwobz09PVB0fHxhPFB0JiZvPlB0fHwobz5QdHx8YTxQdCkmJmgpJiZvKyssKG89PT1IdHx8YTxIdCYmbz5IdHx8KG8+SHR8fGE8SHQpJiZoKSYmKG8rKyxvPT09UHQmJm8rKyksbz5mcyYmKG89by1mcytkci0xKTt2YXIgbD1TdHJpbmcuZnJvbUNoYXJDb2RlKG4pK1N0cmluZy5mcm9tQ2hhckNvZGUobyk7cmV0dXJuIGx9ZnVuY3Rpb24gYmgoaSl7aWYoaSYmaS5sZW5ndGg9PT0wKXRocm93Ik1HUlNQb2ludCBjb3ZlcnRpbmcgZnJvbSBub3RoaW5nIjtmb3IodmFyIGU9aS5sZW5ndGgsdD1udWxsLHI9IiIscyxhPTA7IS9bQS1aXS8udGVzdChzPWkuY2hhckF0KGEpKTspe2lmKGE+PTIpdGhyb3ciTUdSU1BvaW50IGJhZCBjb252ZXJzaW9uIGZyb206ICIraTtyKz1zLGErK312YXIgbj1wYXJzZUludChyLDEwKTtpZihhPT09MHx8YSszPmUpdGhyb3ciTUdSU1BvaW50IGJhZCBjb252ZXJzaW9uIGZyb206ICIraTt2YXIgbz1pLmNoYXJBdChhKyspO2lmKG88PSJBInx8bz09PSJCInx8bz09PSJZInx8bz49IloifHxvPT09IkkifHxvPT09Ik8iKXRocm93Ik1HUlNQb2ludCB6b25lIGxldHRlciAiK28rIiBub3QgaGFuZGxlZDogIitpO3Q9aS5zdWJzdHJpbmcoYSxhKz0yKTtmb3IodmFyIGg9TWgobiksbD1TZCh0LmNoYXJBdCgwKSxoKSxjPUVkKHQuY2hhckF0KDEpLGgpO2M8VGQobyk7KWMrPTJlNjt2YXIgdT1lLWE7aWYodSUyIT09MCl0aHJvd2BNR1JTUG9pbnQgaGFzIHRvIGhhdmUgYW4gZXZlbiBudW1iZXIgCm9mIGRpZ2l0cyBhZnRlciB0aGUgem9uZSBsZXR0ZXIgYW5kIHR3byAxMDBrbSBsZXR0ZXJzIC0gZnJvbnQgCmhhbGYgZm9yIGVhc3RpbmcgbWV0ZXJzLCBzZWNvbmQgaGFsZiBmb3IgCm5vcnRoaW5nIG1ldGVyc2AraTt2YXIgZD11LzIscD0wLGc9MCxmLG0sdix5LFQ7cmV0dXJuIGQ+MCYmKGY9MWU1L01hdGgucG93KDEwLGQpLG09aS5zdWJzdHJpbmcoYSxhK2QpLHA9cGFyc2VGbG9hdChtKSpmLHY9aS5zdWJzdHJpbmcoYStkKSxnPXBhcnNlRmxvYXQodikqZikseT1wK2wsVD1nK2Mse2Vhc3Rpbmc6eSxub3J0aGluZzpULHpvbmVMZXR0ZXI6byx6b25lTnVtYmVyOm4sYWNjdXJhY3k6Zn19ZnVuY3Rpb24gU2QoaSxlKXtmb3IodmFyIHQ9Z2guY2hhckNvZGVBdChlLTEpLHI9MWU1LHM9ITE7dCE9PWkuY2hhckNvZGVBdCgwKTspe2lmKHQrKyx0PT09UHQmJnQrKyx0PT09SHQmJnQrKyx0Pm1zKXtpZihzKXRocm93IkJhZCBjaGFyYWN0ZXI6ICIraTt0PWRyLHM9ITB9cis9MWU1fXJldHVybiByfWZ1bmN0aW9uIEVkKGksZSl7aWYoaT4iViIpdGhyb3ciTUdSU1BvaW50IGdpdmVuIGludmFsaWQgTm9ydGhpbmcgIitpO2Zvcih2YXIgdD12aC5jaGFyQ29kZUF0KGUtMSkscj0wLHM9ITE7dCE9PWkuY2hhckNvZGVBdCgwKTspe2lmKHQrKyx0PT09UHQmJnQrKyx0PT09SHQmJnQrKyx0PmZzKXtpZihzKXRocm93IkJhZCBjaGFyYWN0ZXI6ICIraTt0PWRyLHM9ITB9cis9MWU1fXJldHVybiByfWZ1bmN0aW9uIFRkKGkpe3ZhciBlO3N3aXRjaChpKXtjYXNlIkMiOmU9MTFlNTticmVhaztjYXNlIkQiOmU9MmU2O2JyZWFrO2Nhc2UiRSI6ZT0yOGU1O2JyZWFrO2Nhc2UiRiI6ZT0zN2U1O2JyZWFrO2Nhc2UiRyI6ZT00NmU1O2JyZWFrO2Nhc2UiSCI6ZT01NWU1O2JyZWFrO2Nhc2UiSiI6ZT02NGU1O2JyZWFrO2Nhc2UiSyI6ZT03M2U1O2JyZWFrO2Nhc2UiTCI6ZT04MmU1O2JyZWFrO2Nhc2UiTSI6ZT05MWU1O2JyZWFrO2Nhc2UiTiI6ZT0wO2JyZWFrO2Nhc2UiUCI6ZT04ZTU7YnJlYWs7Y2FzZSJRIjplPTE3ZTU7YnJlYWs7Y2FzZSJSIjplPTI2ZTU7YnJlYWs7Y2FzZSJTIjplPTM1ZTU7YnJlYWs7Y2FzZSJUIjplPTQ0ZTU7YnJlYWs7Y2FzZSJVIjplPTUzZTU7YnJlYWs7Y2FzZSJWIjplPTYyZTU7YnJlYWs7Y2FzZSJXIjplPTdlNjticmVhaztjYXNlIlgiOmU9NzllNTticmVhaztkZWZhdWx0OmU9LTF9aWYoZT49MClyZXR1cm4gZTt0aHJvdyJJbnZhbGlkIHpvbmUgbGV0dGVyOiAiK2l9ZnVuY3Rpb24gcHIoaSxlLHQpe2lmKCEodGhpcyBpbnN0YW5jZW9mIHByKSlyZXR1cm4gbmV3IHByKGksZSx0KTtpZihBcnJheS5pc0FycmF5KGkpKXRoaXMueD1pWzBdLHRoaXMueT1pWzFdLHRoaXMuej1pWzJdfHwwO2Vsc2UgaWYodHlwZW9mIGk9PSJvYmplY3QiKXRoaXMueD1pLngsdGhpcy55PWkueSx0aGlzLno9aS56fHwwO2Vsc2UgaWYodHlwZW9mIGk9PSJzdHJpbmciJiZ0eXBlb2YgZT4idSIpe3ZhciByPWkuc3BsaXQoIiwiKTt0aGlzLng9cGFyc2VGbG9hdChyWzBdLDEwKSx0aGlzLnk9cGFyc2VGbG9hdChyWzFdLDEwKSx0aGlzLno9cGFyc2VGbG9hdChyWzJdLDEwKXx8MH1lbHNlIHRoaXMueD1pLHRoaXMueT1lLHRoaXMuej10fHwwO2NvbnNvbGUud2FybigicHJvajQuUG9pbnQgd2lsbCBiZSByZW1vdmVkIGluIHZlcnNpb24gMywgdXNlIHByb2o0LnRvUG9pbnQiKX1wci5mcm9tTUdSUz1mdW5jdGlvbihpKXtyZXR1cm4gbmV3IHByKF9oKGkpKX0scHIucHJvdG90eXBlLnRvTUdSUz1mdW5jdGlvbihpKXtyZXR1cm4geGgoW3RoaXMueCx0aGlzLnldLGkpfTt2YXIgQWQ9MSxDZD0uMjUsd2g9LjA0Njg3NSxTaD0uMDE5NTMxMjUsRWg9LjAxMDY4MTE1MjM0Mzc1LExkPS43NSxSZD0uNDY4NzUsUGQ9LjAxMzAyMDgzMzMzMzMzMzMzNCxJZD0uMDA3MTIwNzY4MjI5MTY2NjY3LE5kPS4zNjQ1ODMzMzMzMzMzMzMzLERkPS4wMDU2OTY2MTQ1ODMzMzMzMzMsT2Q9LjMwNzYxNzE4NzU7ZnVuY3Rpb24gVGgoaSl7dmFyIGU9W107ZVswXT1BZC1pKihDZCtpKih3aCtpKihTaCtpKkVoKSkpLGVbMV09aSooTGQtaSood2graSooU2graSpFaCkpKTt2YXIgdD1pKmk7cmV0dXJuIGVbMl09dCooUmQtaSooUGQraSpJZCkpLHQqPWksZVszXT10KihOZC1pKkRkKSxlWzRdPXQqaSpPZCxlfWZ1bmN0aW9uIHJhKGksZSx0LHIpe3JldHVybiB0Kj1lLGUqPWUsclswXSppLXQqKHJbMV0rZSooclsyXStlKihyWzNdK2Uqcls0XSkpKX12YXIgemQ9MjA7ZnVuY3Rpb24gQWgoaSxlLHQpe2Zvcih2YXIgcj0xLygxLWUpLHM9aSxhPXpkO2E7LS1hKXt2YXIgbj1NYXRoLnNpbihzKSxvPTEtZSpuKm47aWYobz0ocmEocyxuLE1hdGguY29zKHMpLHQpLWkpKihvKk1hdGguc3FydChvKSkqcixzLT1vLE1hdGguYWJzKG8pPG5lKXJldHVybiBzfXJldHVybiBzfWZ1bmN0aW9uIEJkKCl7dGhpcy54MD10aGlzLngwIT09dm9pZCAwP3RoaXMueDA6MCx0aGlzLnkwPXRoaXMueTAhPT12b2lkIDA/dGhpcy55MDowLHRoaXMubG9uZzA9dGhpcy5sb25nMCE9PXZvaWQgMD90aGlzLmxvbmcwOjAsdGhpcy5sYXQwPXRoaXMubGF0MCE9PXZvaWQgMD90aGlzLmxhdDA6MCx0aGlzLmVzJiYodGhpcy5lbj1UaCh0aGlzLmVzKSx0aGlzLm1sMD1yYSh0aGlzLmxhdDAsTWF0aC5zaW4odGhpcy5sYXQwKSxNYXRoLmNvcyh0aGlzLmxhdDApLHRoaXMuZW4pKX1mdW5jdGlvbiBVZChpKXt2YXIgZT1pLngsdD1pLnkscj11ZShlLXRoaXMubG9uZzApLHMsYSxuLG89TWF0aC5zaW4odCksaD1NYXRoLmNvcyh0KTtpZih0aGlzLmVzKXt2YXIgbD1oKnIsYz1NYXRoLnBvdyhsLDIpLHU9dGhpcy5lcDIqTWF0aC5wb3coaCwyKSxkPU1hdGgucG93KHUsMikscD1NYXRoLmFicyhoKT5uZT9NYXRoLnRhbih0KTowLGc9TWF0aC5wb3cocCwyKSxmPU1hdGgucG93KGcsMik7cz0xLXRoaXMuZXMqTWF0aC5wb3cobywyKSxsPWwvTWF0aC5zcXJ0KHMpO3ZhciBtPXJhKHQsbyxoLHRoaXMuZW4pO2E9dGhpcy5hKih0aGlzLmswKmwqKDErYy82KigxLWcrdStjLzIwKig1LTE4KmcrZisxNCp1LTU4KmcqdStjLzQyKig2MSsxNzkqZi1mKmctNDc5KmcpKSkpKSt0aGlzLngwLG49dGhpcy5hKih0aGlzLmswKihtLXRoaXMubWwwK28qcipsLzIqKDErYy8xMiooNS1nKzkqdSs0KmQrYy8zMCooNjErZi01OCpnKzI3MCp1LTMzMCpnKnUrYy81NiooMTM4NSs1NDMqZi1mKmctMzExMSpnKSkpKSkpK3RoaXMueTB9ZWxzZXt2YXIgdj1oKk1hdGguc2luKHIpO2lmKE1hdGguYWJzKE1hdGguYWJzKHYpLTEpPG5lKXJldHVybiA5MztpZihhPS41KnRoaXMuYSp0aGlzLmswKk1hdGgubG9nKCgxK3YpLygxLXYpKSt0aGlzLngwLG49aCpNYXRoLmNvcyhyKS9NYXRoLnNxcnQoMS1NYXRoLnBvdyh2LDIpKSx2PU1hdGguYWJzKG4pLHY+PTEpe2lmKHYtMT5uZSlyZXR1cm4gOTM7bj0wfWVsc2Ugbj1NYXRoLmFjb3Mobik7dDwwJiYobj0tbiksbj10aGlzLmEqdGhpcy5rMCoobi10aGlzLmxhdDApK3RoaXMueTB9cmV0dXJuIGkueD1hLGkueT1uLGl9ZnVuY3Rpb24gRmQoaSl7dmFyIGUsdCxyLHMsYT0oaS54LXRoaXMueDApKigxL3RoaXMuYSksbj0oaS55LXRoaXMueTApKigxL3RoaXMuYSk7aWYodGhpcy5lcylpZihlPXRoaXMubWwwK24vdGhpcy5rMCx0PUFoKGUsdGhpcy5lcyx0aGlzLmVuKSxNYXRoLmFicyh0KTxLKXt2YXIgbz1NYXRoLnNpbih0KSxoPU1hdGguY29zKHQpLGw9TWF0aC5hYnMoaCk+bmU/TWF0aC50YW4odCk6MCxjPXRoaXMuZXAyKk1hdGgucG93KGgsMiksdT1NYXRoLnBvdyhjLDIpLGQ9TWF0aC5wb3cobCwyKSxwPU1hdGgucG93KGQsMik7ZT0xLXRoaXMuZXMqTWF0aC5wb3cobywyKTt2YXIgZz1hKk1hdGguc3FydChlKS90aGlzLmswLGY9TWF0aC5wb3coZywyKTtlPWUqbCxyPXQtZSpmLygxLXRoaXMuZXMpKi41KigxLWYvMTIqKDUrMypkLTkqYypkK2MtNCp1LWYvMzAqKDYxKzkwKmQtMjUyKmMqZCs0NSpwKzQ2KmMtZi81NiooMTM4NSszNjMzKmQrNDA5NSpwKzE1NzQqcCpkKSkpKSxzPXVlKHRoaXMubG9uZzArZyooMS1mLzYqKDErMipkK2MtZi8yMCooNSsyOCpkKzI0KnArOCpjKmQrNipjLWYvNDIqKDYxKzY2MipkKzEzMjAqcCs3MjAqcCpkKSkpKS9oKX1lbHNlIHI9SypkcyhuKSxzPTA7ZWxzZXt2YXIgbT1NYXRoLmV4cChhL3RoaXMuazApLHY9LjUqKG0tMS9tKSx5PXRoaXMubGF0MCtuL3RoaXMuazAsVD1NYXRoLmNvcyh5KTtlPU1hdGguc3FydCgoMS1NYXRoLnBvdyhULDIpKS8oMStNYXRoLnBvdyh2LDIpKSkscj1NYXRoLmFzaW4oZSksbjwwJiYocj0tciksdj09PTAmJlQ9PT0wP3M9MDpzPXVlKE1hdGguYXRhbjIodixUKSt0aGlzLmxvbmcwKX1yZXR1cm4gaS54PXMsaS55PXIsaX12YXIgSGQ9WyJGYXN0X1RyYW5zdmVyc2VfTWVyY2F0b3IiLCJGYXN0IFRyYW5zdmVyc2UgTWVyY2F0b3IiXSxzYT17aW5pdDpCZCxmb3J3YXJkOlVkLGludmVyc2U6RmQsbmFtZXM6SGR9O2Z1bmN0aW9uIENoKGkpe3ZhciBlPU1hdGguZXhwKGkpO3JldHVybiBlPShlLTEvZSkvMixlfWZ1bmN0aW9uIFd0KGksZSl7aT1NYXRoLmFicyhpKSxlPU1hdGguYWJzKGUpO3ZhciB0PU1hdGgubWF4KGksZSkscj1NYXRoLm1pbihpLGUpLyh0fHwxKTtyZXR1cm4gdCpNYXRoLnNxcnQoMStNYXRoLnBvdyhyLDIpKX1mdW5jdGlvbiBrZChpKXt2YXIgZT0xK2ksdD1lLTE7cmV0dXJuIHQ9PT0wP2k6aSpNYXRoLmxvZyhlKS90fWZ1bmN0aW9uIEdkKGkpe3ZhciBlPU1hdGguYWJzKGkpO3JldHVybiBlPWtkKGUqKDErZS8oV3QoMSxlKSsxKSkpLGk8MD8tZTplfWZ1bmN0aW9uIGduKGksZSl7Zm9yKHZhciB0PTIqTWF0aC5jb3MoMiplKSxyPWkubGVuZ3RoLTEscz1pW3JdLGE9MCxuOy0tcj49MDspbj0tYSt0KnMraVtyXSxhPXMscz1uO3JldHVybiBlK24qTWF0aC5zaW4oMiplKX1mdW5jdGlvbiBWZChpLGUpe2Zvcih2YXIgdD0yKk1hdGguY29zKGUpLHI9aS5sZW5ndGgtMSxzPWlbcl0sYT0wLG47LS1yPj0wOyluPS1hK3QqcytpW3JdLGE9cyxzPW47cmV0dXJuIE1hdGguc2luKGUpKm59ZnVuY3Rpb24gV2QoaSl7dmFyIGU9TWF0aC5leHAoaSk7cmV0dXJuIGU9KGUrMS9lKS8yLGV9ZnVuY3Rpb24gTGgoaSxlLHQpe2Zvcih2YXIgcj1NYXRoLnNpbihlKSxzPU1hdGguY29zKGUpLGE9Q2godCksbj1XZCh0KSxvPTIqcypuLGg9LTIqciphLGw9aS5sZW5ndGgtMSxjPWlbbF0sdT0wLGQ9MCxwPTAsZyxmOy0tbD49MDspZz1kLGY9dSxkPWMsdT1wLGM9LWcrbypkLWgqdStpW2xdLHA9LWYraCpkK28qdTtyZXR1cm4gbz1yKm4saD1zKmEsW28qYy1oKnAsbypwK2gqY119ZnVuY3Rpb24gamQoKXtpZighdGhpcy5hcHByb3gmJihpc05hTih0aGlzLmVzKXx8dGhpcy5lczw9MCkpdGhyb3cgbmV3IEVycm9yKCdJbmNvcnJlY3QgZWxsaXB0aWNhbCB1c2FnZS4gVHJ5IHVzaW5nIHRoZSArYXBwcm94IG9wdGlvbiBpbiB0aGUgcHJvaiBzdHJpbmcsIG9yIFBST0pFQ1RJT05bIkZhc3RfVHJhbnN2ZXJzZV9NZXJjYXRvciJdIGluIHRoZSBXS1QuJyk7dGhpcy5hcHByb3gmJihzYS5pbml0LmFwcGx5KHRoaXMpLHRoaXMuZm9yd2FyZD1zYS5mb3J3YXJkLHRoaXMuaW52ZXJzZT1zYS5pbnZlcnNlKSx0aGlzLngwPXRoaXMueDAhPT12b2lkIDA/dGhpcy54MDowLHRoaXMueTA9dGhpcy55MCE9PXZvaWQgMD90aGlzLnkwOjAsdGhpcy5sb25nMD10aGlzLmxvbmcwIT09dm9pZCAwP3RoaXMubG9uZzA6MCx0aGlzLmxhdDA9dGhpcy5sYXQwIT09dm9pZCAwP3RoaXMubGF0MDowLHRoaXMuY2diPVtdLHRoaXMuY2JnPVtdLHRoaXMudXRnPVtdLHRoaXMuZ3R1PVtdO3ZhciBpPXRoaXMuZXMvKDErTWF0aC5zcXJ0KDEtdGhpcy5lcykpLGU9aS8oMi1pKSx0PWU7dGhpcy5jZ2JbMF09ZSooMitlKigtMi8zK2UqKC0yK2UqKDExNi80NStlKigyNi80NStlKigtMjg1NC82NzUpKSkpKSksdGhpcy5jYmdbMF09ZSooLTIrZSooMi8zK2UqKDQvMytlKigtODIvNDUrZSooMzIvNDUrZSooNDY0Mi80NzI1KSkpKSkpLHQ9dCplLHRoaXMuY2diWzFdPXQqKDcvMytlKigtOC81K2UqKC0yMjcvNDUrZSooMjcwNC8zMTUrZSooMjMyMy85NDUpKSkpKSx0aGlzLmNiZ1sxXT10Kig1LzMrZSooLTE2LzE1K2UqKC0xMy85K2UqKDkwNC8zMTUrZSooLTE1MjIvOTQ1KSkpKSksdD10KmUsdGhpcy5jZ2JbMl09dCooNTYvMTUrZSooLTEzNi8zNStlKigtMTI2Mi8xMDUrZSooNzM4MTQvMjgzNSkpKSksdGhpcy5jYmdbMl09dCooLTI2LzE1K2UqKDM0LzIxK2UqKDgvNStlKigtMTI2ODYvMjgzNSkpKSksdD10KmUsdGhpcy5jZ2JbM109dCooNDI3OS82MzArZSooLTMzMi8zNStlKigtMzk5NTcyLzE0MTc1KSkpLHRoaXMuY2JnWzNdPXQqKDEyMzcvNjMwK2UqKC0xMi81K2UqKC0yNDgzMi8xNDE3NSkpKSx0PXQqZSx0aGlzLmNnYls0XT10Kig0MTc0LzMxNStlKigtMTQ0ODM4LzYyMzcpKSx0aGlzLmNiZ1s0XT10KigtNzM0LzMxNStlKigxMDk1OTgvMzExODUpKSx0PXQqZSx0aGlzLmNnYls1XT10Kig2MDE2NzYvMjIyNzUpLHRoaXMuY2JnWzVdPXQqKDQ0NDMzNy8xNTU5MjUpLHQ9TWF0aC5wb3coZSwyKSx0aGlzLlFuPXRoaXMuazAvKDErZSkqKDErdCooMS80K3QqKDEvNjQrdC8yNTYpKSksdGhpcy51dGdbMF09ZSooLS41K2UqKDIvMytlKigtMzcvOTYrZSooMS8zNjArZSooODEvNTEyK2UqKC05NjE5OS82MDQ4MDApKSkpKSksdGhpcy5ndHVbMF09ZSooLjUrZSooLTIvMytlKig1LzE2K2UqKDQxLzE4MCtlKigtMTI3LzI4OCtlKig3ODkxLzM3ODAwKSkpKSkpLHRoaXMudXRnWzFdPXQqKC0xLzQ4K2UqKC0xLzE1K2UqKDQzNy8xNDQwK2UqKC00Ni8xMDUrZSooMTExODcxMS8zODcwNzIwKSkpKSksdGhpcy5ndHVbMV09dCooMTMvNDgrZSooLTMvNStlKig1NTcvMTQ0MCtlKigyODEvNjMwK2UqKC0xOTgzNDMzLzE5MzUzNjApKSkpKSx0PXQqZSx0aGlzLnV0Z1syXT10KigtMTcvNDgwK2UqKDM3Lzg0MCtlKigyMDkvNDQ4MCtlKigtNTU2OS85MDcyMCkpKSksdGhpcy5ndHVbMl09dCooNjEvMjQwK2UqKC0xMDMvMTQwK2UqKDE1MDYxLzI2ODgwK2UqKDE2NzYwMy8xODE0NDApKSkpLHQ9dCplLHRoaXMudXRnWzNdPXQqKC00Mzk3LzE2MTI4MCtlKigxMS81MDQrZSooODMwMjUxLzcyNTc2MDApKSksdGhpcy5ndHVbM109dCooNDk1NjEvMTYxMjgwK2UqKC0xNzkvMTY4K2UqKDY2MDE2NjEvNzI1NzYwMCkpKSx0PXQqZSx0aGlzLnV0Z1s0XT10KigtNDU4My8xNjEyODArZSooMTA4ODQ3LzM5OTE2ODApKSx0aGlzLmd0dVs0XT10KigzNDcyOS84MDY0MCtlKigtMzQxODg4OS8xOTk1ODQwKSksdD10KmUsdGhpcy51dGdbNV09dCooLTIwNjQ4NjkzLzYzODY2ODgwMCksdGhpcy5ndHVbNV09dCooMjEyMzc4OTQxLzMxOTMzNDQwMCk7dmFyIHI9Z24odGhpcy5jYmcsdGhpcy5sYXQwKTt0aGlzLlpiPS10aGlzLlFuKihyK1ZkKHRoaXMuZ3R1LDIqcikpfWZ1bmN0aW9uIHFkKGkpe3ZhciBlPXVlKGkueC10aGlzLmxvbmcwKSx0PWkueTt0PWduKHRoaXMuY2JnLHQpO3ZhciByPU1hdGguc2luKHQpLHM9TWF0aC5jb3ModCksYT1NYXRoLnNpbihlKSxuPU1hdGguY29zKGUpO3Q9TWF0aC5hdGFuMihyLG4qcyksZT1NYXRoLmF0YW4yKGEqcyxXdChyLHMqbikpLGU9R2QoTWF0aC50YW4oZSkpO3ZhciBvPUxoKHRoaXMuZ3R1LDIqdCwyKmUpO3Q9dCtvWzBdLGU9ZStvWzFdO3ZhciBoLGw7cmV0dXJuIE1hdGguYWJzKGUpPD0yLjYyMzM5NTE2Mjc3OD8oaD10aGlzLmEqKHRoaXMuUW4qZSkrdGhpcy54MCxsPXRoaXMuYSoodGhpcy5Rbip0K3RoaXMuWmIpK3RoaXMueTApOihoPTEvMCxsPTEvMCksaS54PWgsaS55PWwsaX1mdW5jdGlvbiBYZChpKXt2YXIgZT0oaS54LXRoaXMueDApKigxL3RoaXMuYSksdD0oaS55LXRoaXMueTApKigxL3RoaXMuYSk7dD0odC10aGlzLlpiKS90aGlzLlFuLGU9ZS90aGlzLlFuO3ZhciByLHM7aWYoTWF0aC5hYnMoZSk8PTIuNjIzMzk1MTYyNzc4KXt2YXIgYT1MaCh0aGlzLnV0ZywyKnQsMiplKTt0PXQrYVswXSxlPWUrYVsxXSxlPU1hdGguYXRhbihDaChlKSk7dmFyIG49TWF0aC5zaW4odCksbz1NYXRoLmNvcyh0KSxoPU1hdGguc2luKGUpLGw9TWF0aC5jb3MoZSk7dD1NYXRoLmF0YW4yKG4qbCxXdChoLGwqbykpLGU9TWF0aC5hdGFuMihoLGwqbykscj11ZShlK3RoaXMubG9uZzApLHM9Z24odGhpcy5jZ2IsdCl9ZWxzZSByPTEvMCxzPTEvMDtyZXR1cm4gaS54PXIsaS55PXMsaX12YXIgSmQ9WyJFeHRlbmRlZF9UcmFuc3ZlcnNlX01lcmNhdG9yIiwiRXh0ZW5kZWQgVHJhbnN2ZXJzZSBNZXJjYXRvciIsImV0bWVyYyIsIlRyYW5zdmVyc2VfTWVyY2F0b3IiLCJUcmFuc3ZlcnNlIE1lcmNhdG9yIiwidG1lcmMiXSxhYT17aW5pdDpqZCxmb3J3YXJkOnFkLGludmVyc2U6WGQsbmFtZXM6SmR9O2Z1bmN0aW9uIFlkKGksZSl7aWYoaT09PXZvaWQgMCl7aWYoaT1NYXRoLmZsb29yKCh1ZShlKStNYXRoLlBJKSozMC9NYXRoLlBJKSsxLGk8MClyZXR1cm4gMDtpZihpPjYwKXJldHVybiA2MH1yZXR1cm4gaX12YXIgWmQ9ImV0bWVyYyI7ZnVuY3Rpb24gS2QoKXt2YXIgaT1ZZCh0aGlzLnpvbmUsdGhpcy5sb25nMCk7aWYoaT09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoInVua25vd24gdXRtIHpvbmUiKTt0aGlzLmxhdDA9MCx0aGlzLmxvbmcwPSg2Kk1hdGguYWJzKGkpLTE4MykqZ3QsdGhpcy54MD01ZTUsdGhpcy55MD10aGlzLnV0bVNvdXRoPzFlNzowLHRoaXMuazA9Ljk5OTYsYWEuaW5pdC5hcHBseSh0aGlzKSx0aGlzLmZvcndhcmQ9YWEuZm9yd2FyZCx0aGlzLmludmVyc2U9YWEuaW52ZXJzZX12YXIgUWQ9WyJVbml2ZXJzYWwgVHJhbnN2ZXJzZSBNZXJjYXRvciBTeXN0ZW0iLCJ1dG0iXSwkZD17aW5pdDpLZCxuYW1lczpRZCxkZXBlbmRzT246WmR9O2Z1bmN0aW9uIHZuKGksZSl7cmV0dXJuIE1hdGgucG93KCgxLWkpLygxK2kpLGUpfXZhciBlcD0yMDtmdW5jdGlvbiB0cCgpe3ZhciBpPU1hdGguc2luKHRoaXMubGF0MCksZT1NYXRoLmNvcyh0aGlzLmxhdDApO2UqPWUsdGhpcy5yYz1NYXRoLnNxcnQoMS10aGlzLmVzKS8oMS10aGlzLmVzKmkqaSksdGhpcy5DPU1hdGguc3FydCgxK3RoaXMuZXMqZSplLygxLXRoaXMuZXMpKSx0aGlzLnBoaWMwPU1hdGguYXNpbihpL3RoaXMuQyksdGhpcy5yYXRleHA9LjUqdGhpcy5DKnRoaXMuZSx0aGlzLks9TWF0aC50YW4oLjUqdGhpcy5waGljMCtHZSkvKE1hdGgucG93KE1hdGgudGFuKC41KnRoaXMubGF0MCtHZSksdGhpcy5DKSp2bih0aGlzLmUqaSx0aGlzLnJhdGV4cCkpfWZ1bmN0aW9uIGlwKGkpe3ZhciBlPWkueCx0PWkueTtyZXR1cm4gaS55PTIqTWF0aC5hdGFuKHRoaXMuSypNYXRoLnBvdyhNYXRoLnRhbiguNSp0K0dlKSx0aGlzLkMpKnZuKHRoaXMuZSpNYXRoLnNpbih0KSx0aGlzLnJhdGV4cCkpLUssaS54PXRoaXMuQyplLGl9ZnVuY3Rpb24gcnAoaSl7Zm9yKHZhciBlPTFlLTE0LHQ9aS54L3RoaXMuQyxyPWkueSxzPU1hdGgucG93KE1hdGgudGFuKC41KnIrR2UpL3RoaXMuSywxL3RoaXMuQyksYT1lcDthPjAmJihyPTIqTWF0aC5hdGFuKHMqdm4odGhpcy5lKk1hdGguc2luKGkueSksLS41KnRoaXMuZSkpLUssIShNYXRoLmFicyhyLWkueSk8ZSkpOy0tYSlpLnk9cjtyZXR1cm4gYT8oaS54PXQsaS55PXIsaSk6bnVsbH12YXIgc3A9WyJnYXVzcyJdLHhuPXtpbml0OnRwLGZvcndhcmQ6aXAsaW52ZXJzZTpycCxuYW1lczpzcH07ZnVuY3Rpb24gYXAoKXt4bi5pbml0LmFwcGx5KHRoaXMpLCEhdGhpcy5yYyYmKHRoaXMuc2luYzA9TWF0aC5zaW4odGhpcy5waGljMCksdGhpcy5jb3NjMD1NYXRoLmNvcyh0aGlzLnBoaWMwKSx0aGlzLlIyPTIqdGhpcy5yYyx0aGlzLnRpdGxlfHwodGhpcy50aXRsZT0iT2JsaXF1ZSBTdGVyZW9ncmFwaGljIEFsdGVybmF0aXZlIikpfWZ1bmN0aW9uIG5wKGkpe3ZhciBlLHQscixzO3JldHVybiBpLng9dWUoaS54LXRoaXMubG9uZzApLHhuLmZvcndhcmQuYXBwbHkodGhpcyxbaV0pLGU9TWF0aC5zaW4oaS55KSx0PU1hdGguY29zKGkueSkscj1NYXRoLmNvcyhpLngpLHM9dGhpcy5rMCp0aGlzLlIyLygxK3RoaXMuc2luYzAqZSt0aGlzLmNvc2MwKnQqciksaS54PXMqdCpNYXRoLnNpbihpLngpLGkueT1zKih0aGlzLmNvc2MwKmUtdGhpcy5zaW5jMCp0KnIpLGkueD10aGlzLmEqaS54K3RoaXMueDAsaS55PXRoaXMuYSppLnkrdGhpcy55MCxpfWZ1bmN0aW9uIG9wKGkpe3ZhciBlLHQscixzLGE7aWYoaS54PShpLngtdGhpcy54MCkvdGhpcy5hLGkueT0oaS55LXRoaXMueTApL3RoaXMuYSxpLngvPXRoaXMuazAsaS55Lz10aGlzLmswLGE9TWF0aC5zcXJ0KGkueCppLngraS55KmkueSkpe3ZhciBuPTIqTWF0aC5hdGFuMihhLHRoaXMuUjIpO2U9TWF0aC5zaW4obiksdD1NYXRoLmNvcyhuKSxzPU1hdGguYXNpbih0KnRoaXMuc2luYzAraS55KmUqdGhpcy5jb3NjMC9hKSxyPU1hdGguYXRhbjIoaS54KmUsYSp0aGlzLmNvc2MwKnQtaS55KnRoaXMuc2luYzAqZSl9ZWxzZSBzPXRoaXMucGhpYzAscj0wO3JldHVybiBpLng9cixpLnk9cyx4bi5pbnZlcnNlLmFwcGx5KHRoaXMsW2ldKSxpLng9dWUoaS54K3RoaXMubG9uZzApLGl9dmFyIGhwPVsiU3RlcmVvZ3JhcGhpY19Ob3J0aF9Qb2xlIiwiT2JsaXF1ZV9TdGVyZW9ncmFwaGljIiwiUG9sYXJfU3RlcmVvZ3JhcGhpYyIsInN0ZXJlYSIsIk9ibGlxdWUgU3RlcmVvZ3JhcGhpYyBBbHRlcm5hdGl2ZSIsIkRvdWJsZV9TdGVyZW9ncmFwaGljIl0sbHA9e2luaXQ6YXAsZm9yd2FyZDpucCxpbnZlcnNlOm9wLG5hbWVzOmhwfTtmdW5jdGlvbiBjcChpLGUsdCl7cmV0dXJuIGUqPXQsTWF0aC50YW4oLjUqKEsraSkpKk1hdGgucG93KCgxLWUpLygxK2UpLC41KnQpfWZ1bmN0aW9uIHVwKCl7dGhpcy5jb3NsYXQwPU1hdGguY29zKHRoaXMubGF0MCksdGhpcy5zaW5sYXQwPU1hdGguc2luKHRoaXMubGF0MCksdGhpcy5zcGhlcmU/dGhpcy5rMD09PTEmJiFpc05hTih0aGlzLmxhdF90cykmJk1hdGguYWJzKHRoaXMuY29zbGF0MCk8PW5lJiYodGhpcy5rMD0uNSooMStkcyh0aGlzLmxhdDApKk1hdGguc2luKHRoaXMubGF0X3RzKSkpOihNYXRoLmFicyh0aGlzLmNvc2xhdDApPD1uZSYmKHRoaXMubGF0MD4wP3RoaXMuY29uPTE6dGhpcy5jb249LTEpLHRoaXMuY29ucz1NYXRoLnNxcnQoTWF0aC5wb3coMSt0aGlzLmUsMSt0aGlzLmUpKk1hdGgucG93KDEtdGhpcy5lLDEtdGhpcy5lKSksdGhpcy5rMD09PTEmJiFpc05hTih0aGlzLmxhdF90cykmJk1hdGguYWJzKHRoaXMuY29zbGF0MCk8PW5lJiYodGhpcy5rMD0uNSp0aGlzLmNvbnMqaWkodGhpcy5lLE1hdGguc2luKHRoaXMubGF0X3RzKSxNYXRoLmNvcyh0aGlzLmxhdF90cykpL1Z0KHRoaXMuZSx0aGlzLmNvbip0aGlzLmxhdF90cyx0aGlzLmNvbipNYXRoLnNpbih0aGlzLmxhdF90cykpKSx0aGlzLm1zMT1paSh0aGlzLmUsdGhpcy5zaW5sYXQwLHRoaXMuY29zbGF0MCksdGhpcy5YMD0yKk1hdGguYXRhbih0aGlzLnNzZm5fKHRoaXMubGF0MCx0aGlzLnNpbmxhdDAsdGhpcy5lKSktSyx0aGlzLmNvc1gwPU1hdGguY29zKHRoaXMuWDApLHRoaXMuc2luWDA9TWF0aC5zaW4odGhpcy5YMCkpfWZ1bmN0aW9uIGRwKGkpe3ZhciBlPWkueCx0PWkueSxyPU1hdGguc2luKHQpLHM9TWF0aC5jb3ModCksYSxuLG8saCxsLGMsdT11ZShlLXRoaXMubG9uZzApO3JldHVybiBNYXRoLmFicyhNYXRoLmFicyhlLXRoaXMubG9uZzApLU1hdGguUEkpPD1uZSYmTWF0aC5hYnModCt0aGlzLmxhdDApPD1uZT8oaS54PU5hTixpLnk9TmFOLGkpOnRoaXMuc3BoZXJlPyhhPTIqdGhpcy5rMC8oMSt0aGlzLnNpbmxhdDAqcit0aGlzLmNvc2xhdDAqcypNYXRoLmNvcyh1KSksaS54PXRoaXMuYSphKnMqTWF0aC5zaW4odSkrdGhpcy54MCxpLnk9dGhpcy5hKmEqKHRoaXMuY29zbGF0MCpyLXRoaXMuc2lubGF0MCpzKk1hdGguY29zKHUpKSt0aGlzLnkwLGkpOihuPTIqTWF0aC5hdGFuKHRoaXMuc3Nmbl8odCxyLHRoaXMuZSkpLUssaD1NYXRoLmNvcyhuKSxvPU1hdGguc2luKG4pLE1hdGguYWJzKHRoaXMuY29zbGF0MCk8PW5lPyhsPVZ0KHRoaXMuZSx0KnRoaXMuY29uLHRoaXMuY29uKnIpLGM9Mip0aGlzLmEqdGhpcy5rMCpsL3RoaXMuY29ucyxpLng9dGhpcy54MCtjKk1hdGguc2luKGUtdGhpcy5sb25nMCksaS55PXRoaXMueTAtdGhpcy5jb24qYypNYXRoLmNvcyhlLXRoaXMubG9uZzApLGkpOihNYXRoLmFicyh0aGlzLnNpbmxhdDApPG5lPyhhPTIqdGhpcy5hKnRoaXMuazAvKDEraCpNYXRoLmNvcyh1KSksaS55PWEqbyk6KGE9Mip0aGlzLmEqdGhpcy5rMCp0aGlzLm1zMS8odGhpcy5jb3NYMCooMSt0aGlzLnNpblgwKm8rdGhpcy5jb3NYMCpoKk1hdGguY29zKHUpKSksaS55PWEqKHRoaXMuY29zWDAqby10aGlzLnNpblgwKmgqTWF0aC5jb3ModSkpK3RoaXMueTApLGkueD1hKmgqTWF0aC5zaW4odSkrdGhpcy54MCxpKSl9ZnVuY3Rpb24gcHAoaSl7aS54LT10aGlzLngwLGkueS09dGhpcy55MDt2YXIgZSx0LHIscyxhLG49TWF0aC5zcXJ0KGkueCppLngraS55KmkueSk7aWYodGhpcy5zcGhlcmUpe3ZhciBvPTIqTWF0aC5hdGFuKG4vKDIqdGhpcy5hKnRoaXMuazApKTtyZXR1cm4gZT10aGlzLmxvbmcwLHQ9dGhpcy5sYXQwLG48PW5lPyhpLng9ZSxpLnk9dCxpKToodD1NYXRoLmFzaW4oTWF0aC5jb3MobykqdGhpcy5zaW5sYXQwK2kueSpNYXRoLnNpbihvKSp0aGlzLmNvc2xhdDAvbiksTWF0aC5hYnModGhpcy5jb3NsYXQwKTxuZT90aGlzLmxhdDA+MD9lPXVlKHRoaXMubG9uZzArTWF0aC5hdGFuMihpLngsLTEqaS55KSk6ZT11ZSh0aGlzLmxvbmcwK01hdGguYXRhbjIoaS54LGkueSkpOmU9dWUodGhpcy5sb25nMCtNYXRoLmF0YW4yKGkueCpNYXRoLnNpbihvKSxuKnRoaXMuY29zbGF0MCpNYXRoLmNvcyhvKS1pLnkqdGhpcy5zaW5sYXQwKk1hdGguc2luKG8pKSksaS54PWUsaS55PXQsaSl9ZWxzZSBpZihNYXRoLmFicyh0aGlzLmNvc2xhdDApPD1uZSl7aWYobjw9bmUpcmV0dXJuIHQ9dGhpcy5sYXQwLGU9dGhpcy5sb25nMCxpLng9ZSxpLnk9dCxpO2kueCo9dGhpcy5jb24saS55Kj10aGlzLmNvbixyPW4qdGhpcy5jb25zLygyKnRoaXMuYSp0aGlzLmswKSx0PXRoaXMuY29uKnBzKHRoaXMuZSxyKSxlPXRoaXMuY29uKnVlKHRoaXMuY29uKnRoaXMubG9uZzArTWF0aC5hdGFuMihpLngsLTEqaS55KSl9ZWxzZSBzPTIqTWF0aC5hdGFuKG4qdGhpcy5jb3NYMC8oMip0aGlzLmEqdGhpcy5rMCp0aGlzLm1zMSkpLGU9dGhpcy5sb25nMCxuPD1uZT9hPXRoaXMuWDA6KGE9TWF0aC5hc2luKE1hdGguY29zKHMpKnRoaXMuc2luWDAraS55Kk1hdGguc2luKHMpKnRoaXMuY29zWDAvbiksZT11ZSh0aGlzLmxvbmcwK01hdGguYXRhbjIoaS54Kk1hdGguc2luKHMpLG4qdGhpcy5jb3NYMCpNYXRoLmNvcyhzKS1pLnkqdGhpcy5zaW5YMCpNYXRoLnNpbihzKSkpKSx0PS0xKnBzKHRoaXMuZSxNYXRoLnRhbiguNSooSythKSkpO3JldHVybiBpLng9ZSxpLnk9dCxpfXZhciBmcD1bInN0ZXJlIiwiU3RlcmVvZ3JhcGhpY19Tb3V0aF9Qb2xlIiwiUG9sYXIgU3RlcmVvZ3JhcGhpYyAodmFyaWFudCBCKSJdLG1wPXtpbml0OnVwLGZvcndhcmQ6ZHAsaW52ZXJzZTpwcCxuYW1lczpmcCxzc2ZuXzpjcH07ZnVuY3Rpb24gZ3AoKXt2YXIgaT10aGlzLmxhdDA7dGhpcy5sYW1iZGEwPXRoaXMubG9uZzA7dmFyIGU9TWF0aC5zaW4oaSksdD10aGlzLmEscj10aGlzLnJmLHM9MS9yLGE9MipzLU1hdGgucG93KHMsMiksbj10aGlzLmU9TWF0aC5zcXJ0KGEpO3RoaXMuUj10aGlzLmswKnQqTWF0aC5zcXJ0KDEtYSkvKDEtYSpNYXRoLnBvdyhlLDIpKSx0aGlzLmFscGhhPU1hdGguc3FydCgxK2EvKDEtYSkqTWF0aC5wb3coTWF0aC5jb3MoaSksNCkpLHRoaXMuYjA9TWF0aC5hc2luKGUvdGhpcy5hbHBoYSk7dmFyIG89TWF0aC5sb2coTWF0aC50YW4oTWF0aC5QSS80K3RoaXMuYjAvMikpLGg9TWF0aC5sb2coTWF0aC50YW4oTWF0aC5QSS80K2kvMikpLGw9TWF0aC5sb2coKDErbiplKS8oMS1uKmUpKTt0aGlzLks9by10aGlzLmFscGhhKmgrdGhpcy5hbHBoYSpuLzIqbH1mdW5jdGlvbiB2cChpKXt2YXIgZT1NYXRoLmxvZyhNYXRoLnRhbihNYXRoLlBJLzQtaS55LzIpKSx0PXRoaXMuZS8yKk1hdGgubG9nKCgxK3RoaXMuZSpNYXRoLnNpbihpLnkpKS8oMS10aGlzLmUqTWF0aC5zaW4oaS55KSkpLHI9LXRoaXMuYWxwaGEqKGUrdCkrdGhpcy5LLHM9MiooTWF0aC5hdGFuKE1hdGguZXhwKHIpKS1NYXRoLlBJLzQpLGE9dGhpcy5hbHBoYSooaS54LXRoaXMubGFtYmRhMCksbj1NYXRoLmF0YW4oTWF0aC5zaW4oYSkvKE1hdGguc2luKHRoaXMuYjApKk1hdGgudGFuKHMpK01hdGguY29zKHRoaXMuYjApKk1hdGguY29zKGEpKSksbz1NYXRoLmFzaW4oTWF0aC5jb3ModGhpcy5iMCkqTWF0aC5zaW4ocyktTWF0aC5zaW4odGhpcy5iMCkqTWF0aC5jb3MocykqTWF0aC5jb3MoYSkpO3JldHVybiBpLnk9dGhpcy5SLzIqTWF0aC5sb2coKDErTWF0aC5zaW4obykpLygxLU1hdGguc2luKG8pKSkrdGhpcy55MCxpLng9dGhpcy5SKm4rdGhpcy54MCxpfWZ1bmN0aW9uIHhwKGkpe2Zvcih2YXIgZT1pLngtdGhpcy54MCx0PWkueS10aGlzLnkwLHI9ZS90aGlzLlIscz0yKihNYXRoLmF0YW4oTWF0aC5leHAodC90aGlzLlIpKS1NYXRoLlBJLzQpLGE9TWF0aC5hc2luKE1hdGguY29zKHRoaXMuYjApKk1hdGguc2luKHMpK01hdGguc2luKHRoaXMuYjApKk1hdGguY29zKHMpKk1hdGguY29zKHIpKSxuPU1hdGguYXRhbihNYXRoLnNpbihyKS8oTWF0aC5jb3ModGhpcy5iMCkqTWF0aC5jb3MociktTWF0aC5zaW4odGhpcy5iMCkqTWF0aC50YW4ocykpKSxvPXRoaXMubGFtYmRhMCtuL3RoaXMuYWxwaGEsaD0wLGw9YSxjPS0xZTMsdT0wO01hdGguYWJzKGwtYyk+MWUtNzspe2lmKCsrdT4yMClyZXR1cm47aD0xL3RoaXMuYWxwaGEqKE1hdGgubG9nKE1hdGgudGFuKE1hdGguUEkvNCthLzIpKS10aGlzLkspK3RoaXMuZSpNYXRoLmxvZyhNYXRoLnRhbihNYXRoLlBJLzQrTWF0aC5hc2luKHRoaXMuZSpNYXRoLnNpbihsKSkvMikpLGM9bCxsPTIqTWF0aC5hdGFuKE1hdGguZXhwKGgpKS1NYXRoLlBJLzJ9cmV0dXJuIGkueD1vLGkueT1sLGl9dmFyIF9wPVsic29tZXJjIl0seXA9e2luaXQ6Z3AsZm9yd2FyZDp2cCxpbnZlcnNlOnhwLG5hbWVzOl9wfSxmcj0xZS03O2Z1bmN0aW9uIE1wKGkpe3ZhciBlPVsiSG90aW5lX09ibGlxdWVfTWVyY2F0b3IiLCJIb3RpbmVfT2JsaXF1ZV9NZXJjYXRvcl9BemltdXRoX05hdHVyYWxfT3JpZ2luIl0sdD10eXBlb2YgaS5QUk9KRUNUSU9OPT0ib2JqZWN0Ij9PYmplY3Qua2V5cyhpLlBST0pFQ1RJT04pWzBdOmkuUFJPSkVDVElPTjtyZXR1cm4ibm9fdW9mZiJpbiBpfHwibm9fb2ZmImluIGl8fGUuaW5kZXhPZih0KSE9PS0xfWZ1bmN0aW9uIGJwKCl7dmFyIGksZSx0LHIscyxhLG4sbyxoLGwsYz0wLHUsZD0wLHA9MCxnPTAsZj0wLG09MCx2PTA7dGhpcy5ub19vZmY9TXAodGhpcyksdGhpcy5ub19yb3Q9Im5vX3JvdCJpbiB0aGlzO3ZhciB5PSExOyJhbHBoYSJpbiB0aGlzJiYoeT0hMCk7dmFyIFQ9ITE7aWYoInJlY3RpZmllZF9ncmlkX2FuZ2xlImluIHRoaXMmJihUPSEwKSx5JiYodj10aGlzLmFscGhhKSxUJiYoYz10aGlzLnJlY3RpZmllZF9ncmlkX2FuZ2xlKmd0KSx5fHxUKWQ9dGhpcy5sb25nYztlbHNlIGlmKHA9dGhpcy5sb25nMSxmPXRoaXMubGF0MSxnPXRoaXMubG9uZzIsbT10aGlzLmxhdDIsTWF0aC5hYnMoZi1tKTw9ZnJ8fChpPU1hdGguYWJzKGYpKTw9ZnJ8fE1hdGguYWJzKGktSyk8PWZyfHxNYXRoLmFicyhNYXRoLmFicyh0aGlzLmxhdDApLUspPD1mcnx8TWF0aC5hYnMoTWF0aC5hYnMobSktSyk8PWZyKXRocm93IG5ldyBFcnJvcjt2YXIgdz0xLXRoaXMuZXM7ZT1NYXRoLnNxcnQodyksTWF0aC5hYnModGhpcy5sYXQwKT5uZT8obz1NYXRoLnNpbih0aGlzLmxhdDApLHQ9TWF0aC5jb3ModGhpcy5sYXQwKSxpPTEtdGhpcy5lcypvKm8sdGhpcy5CPXQqdCx0aGlzLkI9TWF0aC5zcXJ0KDErdGhpcy5lcyp0aGlzLkIqdGhpcy5CL3cpLHRoaXMuQT10aGlzLkIqdGhpcy5rMCplL2kscj10aGlzLkIqZS8odCpNYXRoLnNxcnQoaSkpLHM9cipyLTEsczw9MD9zPTA6KHM9TWF0aC5zcXJ0KHMpLHRoaXMubGF0MDwwJiYocz0tcykpLHRoaXMuRT1zKz1yLHRoaXMuRSo9TWF0aC5wb3coVnQodGhpcy5lLHRoaXMubGF0MCxvKSx0aGlzLkIpKToodGhpcy5CPTEvZSx0aGlzLkE9dGhpcy5rMCx0aGlzLkU9cj1zPTEpLHl8fFQ/KHk/KHU9TWF0aC5hc2luKE1hdGguc2luKHYpL3IpLFR8fChjPXYpKToodT1jLHY9TWF0aC5hc2luKHIqTWF0aC5zaW4odSkpKSx0aGlzLmxhbTA9ZC1NYXRoLmFzaW4oLjUqKHMtMS9zKSpNYXRoLnRhbih1KSkvdGhpcy5CKTooYT1NYXRoLnBvdyhWdCh0aGlzLmUsZixNYXRoLnNpbihmKSksdGhpcy5CKSxuPU1hdGgucG93KFZ0KHRoaXMuZSxtLE1hdGguc2luKG0pKSx0aGlzLkIpLHM9dGhpcy5FL2EsaD0obi1hKS8obithKSxsPXRoaXMuRSp0aGlzLkUsbD0obC1uKmEpLyhsK24qYSksaT1wLWcsaTwtTWF0aC5waT9nLT1jczppPk1hdGgucGkmJihnKz1jcyksdGhpcy5sYW0wPXVlKC41KihwK2cpLU1hdGguYXRhbihsKk1hdGgudGFuKC41KnRoaXMuQioocC1nKSkvaCkvdGhpcy5CKSx1PU1hdGguYXRhbigyKk1hdGguc2luKHRoaXMuQip1ZShwLXRoaXMubGFtMCkpLyhzLTEvcykpLGM9dj1NYXRoLmFzaW4ocipNYXRoLnNpbih1KSkpLHRoaXMuc2luZ2FtPU1hdGguc2luKHUpLHRoaXMuY29zZ2FtPU1hdGguY29zKHUpLHRoaXMuc2lucm90PU1hdGguc2luKGMpLHRoaXMuY29zcm90PU1hdGguY29zKGMpLHRoaXMuckI9MS90aGlzLkIsdGhpcy5BckI9dGhpcy5BKnRoaXMuckIsdGhpcy5CckE9MS90aGlzLkFyQix0aGlzLkEqdGhpcy5CLHRoaXMubm9fb2ZmP3RoaXMudV8wPTA6KHRoaXMudV8wPU1hdGguYWJzKHRoaXMuQXJCKk1hdGguYXRhbihNYXRoLnNxcnQocipyLTEpL01hdGguY29zKHYpKSksdGhpcy5sYXQwPDAmJih0aGlzLnVfMD0tdGhpcy51XzApKSxzPS41KnUsdGhpcy52X3BvbGVfbj10aGlzLkFyQipNYXRoLmxvZyhNYXRoLnRhbihHZS1zKSksdGhpcy52X3BvbGVfcz10aGlzLkFyQipNYXRoLmxvZyhNYXRoLnRhbihHZStzKSl9ZnVuY3Rpb24gd3AoaSl7dmFyIGU9e30sdCxyLHMsYSxuLG8saCxsO2lmKGkueD1pLngtdGhpcy5sYW0wLE1hdGguYWJzKE1hdGguYWJzKGkueSktSyk+bmUpe2lmKG49dGhpcy5FL01hdGgucG93KFZ0KHRoaXMuZSxpLnksTWF0aC5zaW4oaS55KSksdGhpcy5CKSxvPTEvbix0PS41KihuLW8pLHI9LjUqKG4rbyksYT1NYXRoLnNpbih0aGlzLkIqaS54KSxzPSh0KnRoaXMuc2luZ2FtLWEqdGhpcy5jb3NnYW0pL3IsTWF0aC5hYnMoTWF0aC5hYnMocyktMSk8bmUpdGhyb3cgbmV3IEVycm9yO2w9LjUqdGhpcy5BckIqTWF0aC5sb2coKDEtcykvKDErcykpLG89TWF0aC5jb3ModGhpcy5CKmkueCksTWF0aC5hYnMobyk8ZnI/aD10aGlzLkEqaS54Omg9dGhpcy5BckIqTWF0aC5hdGFuMih0KnRoaXMuY29zZ2FtK2EqdGhpcy5zaW5nYW0sbyl9ZWxzZSBsPWkueT4wP3RoaXMudl9wb2xlX246dGhpcy52X3BvbGVfcyxoPXRoaXMuQXJCKmkueTtyZXR1cm4gdGhpcy5ub19yb3Q/KGUueD1oLGUueT1sKTooaC09dGhpcy51XzAsZS54PWwqdGhpcy5jb3Nyb3QraCp0aGlzLnNpbnJvdCxlLnk9aCp0aGlzLmNvc3JvdC1sKnRoaXMuc2lucm90KSxlLng9dGhpcy5hKmUueCt0aGlzLngwLGUueT10aGlzLmEqZS55K3RoaXMueTAsZX1mdW5jdGlvbiBTcChpKXt2YXIgZSx0LHIscyxhLG4sbyxoPXt9O2lmKGkueD0oaS54LXRoaXMueDApKigxL3RoaXMuYSksaS55PShpLnktdGhpcy55MCkqKDEvdGhpcy5hKSx0aGlzLm5vX3JvdD8odD1pLnksZT1pLngpOih0PWkueCp0aGlzLmNvc3JvdC1pLnkqdGhpcy5zaW5yb3QsZT1pLnkqdGhpcy5jb3Nyb3QraS54KnRoaXMuc2lucm90K3RoaXMudV8wKSxyPU1hdGguZXhwKC10aGlzLkJyQSp0KSxzPS41KihyLTEvciksYT0uNSoocisxL3IpLG49TWF0aC5zaW4odGhpcy5CckEqZSksbz0obip0aGlzLmNvc2dhbStzKnRoaXMuc2luZ2FtKS9hLE1hdGguYWJzKE1hdGguYWJzKG8pLTEpPG5lKWgueD0wLGgueT1vPDA/LUs6SztlbHNle2lmKGgueT10aGlzLkUvTWF0aC5zcXJ0KCgxK28pLygxLW8pKSxoLnk9cHModGhpcy5lLE1hdGgucG93KGgueSwxL3RoaXMuQikpLGgueT09PTEvMCl0aHJvdyBuZXcgRXJyb3I7aC54PS10aGlzLnJCKk1hdGguYXRhbjIocyp0aGlzLmNvc2dhbS1uKnRoaXMuc2luZ2FtLE1hdGguY29zKHRoaXMuQnJBKmUpKX1yZXR1cm4gaC54Kz10aGlzLmxhbTAsaH12YXIgRXA9WyJIb3RpbmVfT2JsaXF1ZV9NZXJjYXRvciIsIkhvdGluZSBPYmxpcXVlIE1lcmNhdG9yIiwiSG90aW5lX09ibGlxdWVfTWVyY2F0b3JfQXppbXV0aF9OYXR1cmFsX09yaWdpbiIsIkhvdGluZV9PYmxpcXVlX01lcmNhdG9yX1R3b19Qb2ludF9OYXR1cmFsX09yaWdpbiIsIkhvdGluZV9PYmxpcXVlX01lcmNhdG9yX0F6aW11dGhfQ2VudGVyIiwiT2JsaXF1ZV9NZXJjYXRvciIsIm9tZXJjIl0sVHA9e2luaXQ6YnAsZm9yd2FyZDp3cCxpbnZlcnNlOlNwLG5hbWVzOkVwfTtmdW5jdGlvbiBBcCgpe2lmKHRoaXMubGF0Mnx8KHRoaXMubGF0Mj10aGlzLmxhdDEpLHRoaXMuazB8fCh0aGlzLmswPTEpLHRoaXMueDA9dGhpcy54MHx8MCx0aGlzLnkwPXRoaXMueTB8fDAsIShNYXRoLmFicyh0aGlzLmxhdDErdGhpcy5sYXQyKTxuZSkpe3ZhciBpPXRoaXMuYi90aGlzLmE7dGhpcy5lPU1hdGguc3FydCgxLWkqaSk7dmFyIGU9TWF0aC5zaW4odGhpcy5sYXQxKSx0PU1hdGguY29zKHRoaXMubGF0MSkscj1paSh0aGlzLmUsZSx0KSxzPVZ0KHRoaXMuZSx0aGlzLmxhdDEsZSksYT1NYXRoLnNpbih0aGlzLmxhdDIpLG49TWF0aC5jb3ModGhpcy5sYXQyKSxvPWlpKHRoaXMuZSxhLG4pLGg9VnQodGhpcy5lLHRoaXMubGF0MixhKSxsPVZ0KHRoaXMuZSx0aGlzLmxhdDAsTWF0aC5zaW4odGhpcy5sYXQwKSk7TWF0aC5hYnModGhpcy5sYXQxLXRoaXMubGF0Mik+bmU/dGhpcy5ucz1NYXRoLmxvZyhyL28pL01hdGgubG9nKHMvaCk6dGhpcy5ucz1lLGlzTmFOKHRoaXMubnMpJiYodGhpcy5ucz1lKSx0aGlzLmYwPXIvKHRoaXMubnMqTWF0aC5wb3cocyx0aGlzLm5zKSksdGhpcy5yaD10aGlzLmEqdGhpcy5mMCpNYXRoLnBvdyhsLHRoaXMubnMpLHRoaXMudGl0bGV8fCh0aGlzLnRpdGxlPSJMYW1iZXJ0IENvbmZvcm1hbCBDb25pYyIpfX1mdW5jdGlvbiBDcChpKXt2YXIgZT1pLngsdD1pLnk7TWF0aC5hYnMoMipNYXRoLmFicyh0KS1NYXRoLlBJKTw9bmUmJih0PWRzKHQpKihLLTIqbmUpKTt2YXIgcj1NYXRoLmFicyhNYXRoLmFicyh0KS1LKSxzLGE7aWYocj5uZSlzPVZ0KHRoaXMuZSx0LE1hdGguc2luKHQpKSxhPXRoaXMuYSp0aGlzLmYwKk1hdGgucG93KHMsdGhpcy5ucyk7ZWxzZXtpZihyPXQqdGhpcy5ucyxyPD0wKXJldHVybiBudWxsO2E9MH12YXIgbj10aGlzLm5zKnVlKGUtdGhpcy5sb25nMCk7cmV0dXJuIGkueD10aGlzLmswKihhKk1hdGguc2luKG4pKSt0aGlzLngwLGkueT10aGlzLmswKih0aGlzLnJoLWEqTWF0aC5jb3MobikpK3RoaXMueTAsaX1mdW5jdGlvbiBMcChpKXt2YXIgZSx0LHIscyxhLG49KGkueC10aGlzLngwKS90aGlzLmswLG89dGhpcy5yaC0oaS55LXRoaXMueTApL3RoaXMuazA7dGhpcy5ucz4wPyhlPU1hdGguc3FydChuKm4rbypvKSx0PTEpOihlPS1NYXRoLnNxcnQobipuK28qbyksdD0tMSk7dmFyIGg9MDtpZihlIT09MCYmKGg9TWF0aC5hdGFuMih0Km4sdCpvKSksZSE9PTB8fHRoaXMubnM+MCl7aWYodD0xL3RoaXMubnMscj1NYXRoLnBvdyhlLyh0aGlzLmEqdGhpcy5mMCksdCkscz1wcyh0aGlzLmUscikscz09PS05OTk5KXJldHVybiBudWxsfWVsc2Ugcz0tSztyZXR1cm4gYT11ZShoL3RoaXMubnMrdGhpcy5sb25nMCksaS54PWEsaS55PXMsaX12YXIgUnA9WyJMYW1iZXJ0IFRhbmdlbnRpYWwgQ29uZm9ybWFsIENvbmljIFByb2plY3Rpb24iLCJMYW1iZXJ0X0NvbmZvcm1hbF9Db25pYyIsIkxhbWJlcnRfQ29uZm9ybWFsX0NvbmljXzFTUCIsIkxhbWJlcnRfQ29uZm9ybWFsX0NvbmljXzJTUCIsImxjYyIsIkxhbWJlcnQgQ29uaWMgQ29uZm9ybWFsICgxU1ApIiwiTGFtYmVydCBDb25pYyBDb25mb3JtYWwgKDJTUCkiXSxQcD17aW5pdDpBcCxmb3J3YXJkOkNwLGludmVyc2U6THAsbmFtZXM6UnB9O2Z1bmN0aW9uIElwKCl7dGhpcy5hPTYzNzczOTcxNTVlLTMsdGhpcy5lcz0uMDA2Njc0MzcyMjMwNjE0LHRoaXMuZT1NYXRoLnNxcnQodGhpcy5lcyksdGhpcy5sYXQwfHwodGhpcy5sYXQwPS44NjM5Mzc5Nzk3MzcxOTMpLHRoaXMubG9uZzB8fCh0aGlzLmxvbmcwPS43NDE3NjQ5MzIwOTc1OTAxLS4zMDgzNDE1MDExODU2NjUpLHRoaXMuazB8fCh0aGlzLmswPS45OTk5KSx0aGlzLnM0NT0uNzg1Mzk4MTYzMzk3NDQ4LHRoaXMuczkwPTIqdGhpcy5zNDUsdGhpcy5maTA9dGhpcy5sYXQwLHRoaXMuZTI9dGhpcy5lcyx0aGlzLmU9TWF0aC5zcXJ0KHRoaXMuZTIpLHRoaXMuYWxmYT1NYXRoLnNxcnQoMSt0aGlzLmUyKk1hdGgucG93KE1hdGguY29zKHRoaXMuZmkwKSw0KS8oMS10aGlzLmUyKSksdGhpcy51cT0xLjA0MjE2ODU2MzgwNDc0LHRoaXMudTA9TWF0aC5hc2luKE1hdGguc2luKHRoaXMuZmkwKS90aGlzLmFsZmEpLHRoaXMuZz1NYXRoLnBvdygoMSt0aGlzLmUqTWF0aC5zaW4odGhpcy5maTApKS8oMS10aGlzLmUqTWF0aC5zaW4odGhpcy5maTApKSx0aGlzLmFsZmEqdGhpcy5lLzIpLHRoaXMuaz1NYXRoLnRhbih0aGlzLnUwLzIrdGhpcy5zNDUpL01hdGgucG93KE1hdGgudGFuKHRoaXMuZmkwLzIrdGhpcy5zNDUpLHRoaXMuYWxmYSkqdGhpcy5nLHRoaXMuazE9dGhpcy5rMCx0aGlzLm4wPXRoaXMuYSpNYXRoLnNxcnQoMS10aGlzLmUyKS8oMS10aGlzLmUyKk1hdGgucG93KE1hdGguc2luKHRoaXMuZmkwKSwyKSksdGhpcy5zMD0xLjM3MDA4MzQ2MjgxNTU1LHRoaXMubj1NYXRoLnNpbih0aGlzLnMwKSx0aGlzLnJvMD10aGlzLmsxKnRoaXMubjAvTWF0aC50YW4odGhpcy5zMCksdGhpcy5hZD10aGlzLnM5MC10aGlzLnVxfWZ1bmN0aW9uIE5wKGkpe3ZhciBlLHQscixzLGEsbixvLGg9aS54LGw9aS55LGM9dWUoaC10aGlzLmxvbmcwKTtyZXR1cm4gZT1NYXRoLnBvdygoMSt0aGlzLmUqTWF0aC5zaW4obCkpLygxLXRoaXMuZSpNYXRoLnNpbihsKSksdGhpcy5hbGZhKnRoaXMuZS8yKSx0PTIqKE1hdGguYXRhbih0aGlzLmsqTWF0aC5wb3coTWF0aC50YW4obC8yK3RoaXMuczQ1KSx0aGlzLmFsZmEpL2UpLXRoaXMuczQ1KSxyPS1jKnRoaXMuYWxmYSxzPU1hdGguYXNpbihNYXRoLmNvcyh0aGlzLmFkKSpNYXRoLnNpbih0KStNYXRoLnNpbih0aGlzLmFkKSpNYXRoLmNvcyh0KSpNYXRoLmNvcyhyKSksYT1NYXRoLmFzaW4oTWF0aC5jb3ModCkqTWF0aC5zaW4ocikvTWF0aC5jb3MocykpLG49dGhpcy5uKmEsbz10aGlzLnJvMCpNYXRoLnBvdyhNYXRoLnRhbih0aGlzLnMwLzIrdGhpcy5zNDUpLHRoaXMubikvTWF0aC5wb3coTWF0aC50YW4ocy8yK3RoaXMuczQ1KSx0aGlzLm4pLGkueT1vKk1hdGguY29zKG4pLzEsaS54PW8qTWF0aC5zaW4obikvMSx0aGlzLmN6ZWNofHwoaS55Kj0tMSxpLngqPS0xKSxpfWZ1bmN0aW9uIERwKGkpe3ZhciBlLHQscixzLGEsbixvLGgsbD1pLng7aS54PWkueSxpLnk9bCx0aGlzLmN6ZWNofHwoaS55Kj0tMSxpLngqPS0xKSxuPU1hdGguc3FydChpLngqaS54K2kueSppLnkpLGE9TWF0aC5hdGFuMihpLnksaS54KSxzPWEvTWF0aC5zaW4odGhpcy5zMCkscj0yKihNYXRoLmF0YW4oTWF0aC5wb3codGhpcy5ybzAvbiwxL3RoaXMubikqTWF0aC50YW4odGhpcy5zMC8yK3RoaXMuczQ1KSktdGhpcy5zNDUpLGU9TWF0aC5hc2luKE1hdGguY29zKHRoaXMuYWQpKk1hdGguc2luKHIpLU1hdGguc2luKHRoaXMuYWQpKk1hdGguY29zKHIpKk1hdGguY29zKHMpKSx0PU1hdGguYXNpbihNYXRoLmNvcyhyKSpNYXRoLnNpbihzKS9NYXRoLmNvcyhlKSksaS54PXRoaXMubG9uZzAtdC90aGlzLmFsZmEsbz1lLGg9MDt2YXIgYz0wO2RvIGkueT0yKihNYXRoLmF0YW4oTWF0aC5wb3codGhpcy5rLC0xL3RoaXMuYWxmYSkqTWF0aC5wb3coTWF0aC50YW4oZS8yK3RoaXMuczQ1KSwxL3RoaXMuYWxmYSkqTWF0aC5wb3coKDErdGhpcy5lKk1hdGguc2luKG8pKS8oMS10aGlzLmUqTWF0aC5zaW4obykpLHRoaXMuZS8yKSktdGhpcy5zNDUpLE1hdGguYWJzKG8taS55KTwxZS0xMCYmKGg9MSksbz1pLnksYys9MTt3aGlsZShoPT09MCYmYzwxNSk7cmV0dXJuIGM+PTE1P251bGw6aX12YXIgT3A9WyJLcm92YWsiLCJrcm92YWsiXSx6cD17aW5pdDpJcCxmb3J3YXJkOk5wLGludmVyc2U6RHAsbmFtZXM6T3B9O2Z1bmN0aW9uIEV0KGksZSx0LHIscyl7cmV0dXJuIGkqcy1lKk1hdGguc2luKDIqcykrdCpNYXRoLnNpbig0KnMpLXIqTWF0aC5zaW4oNipzKX1mdW5jdGlvbiBncyhpKXtyZXR1cm4gMS0uMjUqaSooMStpLzE2KigzKzEuMjUqaSkpfWZ1bmN0aW9uIHZzKGkpe3JldHVybiAuMzc1KmkqKDErLjI1KmkqKDErLjQ2ODc1KmkpKX1mdW5jdGlvbiB4cyhpKXtyZXR1cm4gLjA1ODU5Mzc1KmkqaSooMSsuNzUqaSl9ZnVuY3Rpb24gX3MoaSl7cmV0dXJuIGkqaSppKigzNS8zMDcyKX1mdW5jdGlvbiBtcihpLGUsdCl7dmFyIHI9ZSp0O3JldHVybiBpL01hdGguc3FydCgxLXIqcil9ZnVuY3Rpb24gZ3IoaSl7cmV0dXJuIE1hdGguYWJzKGkpPEs/aTppLWRzKGkpKk1hdGguUEl9ZnVuY3Rpb24gbmEoaSxlLHQscixzKXt2YXIgYSxuO2E9aS9lO2Zvcih2YXIgbz0wO288MTU7bysrKWlmKG49KGktKGUqYS10Kk1hdGguc2luKDIqYSkrcipNYXRoLnNpbig0KmEpLXMqTWF0aC5zaW4oNiphKSkpLyhlLTIqdCpNYXRoLmNvcygyKmEpKzQqcipNYXRoLmNvcyg0KmEpLTYqcypNYXRoLmNvcyg2KmEpKSxhKz1uLE1hdGguYWJzKG4pPD0xZS0xMClyZXR1cm4gYTtyZXR1cm4gTmFOfWZ1bmN0aW9uIEJwKCl7dGhpcy5zcGhlcmV8fCh0aGlzLmUwPWdzKHRoaXMuZXMpLHRoaXMuZTE9dnModGhpcy5lcyksdGhpcy5lMj14cyh0aGlzLmVzKSx0aGlzLmUzPV9zKHRoaXMuZXMpLHRoaXMubWwwPXRoaXMuYSpFdCh0aGlzLmUwLHRoaXMuZTEsdGhpcy5lMix0aGlzLmUzLHRoaXMubGF0MCkpfWZ1bmN0aW9uIFVwKGkpe3ZhciBlLHQscj1pLngscz1pLnk7aWYocj11ZShyLXRoaXMubG9uZzApLHRoaXMuc3BoZXJlKWU9dGhpcy5hKk1hdGguYXNpbihNYXRoLmNvcyhzKSpNYXRoLnNpbihyKSksdD10aGlzLmEqKE1hdGguYXRhbjIoTWF0aC50YW4ocyksTWF0aC5jb3MocikpLXRoaXMubGF0MCk7ZWxzZXt2YXIgYT1NYXRoLnNpbihzKSxuPU1hdGguY29zKHMpLG89bXIodGhpcy5hLHRoaXMuZSxhKSxoPU1hdGgudGFuKHMpKk1hdGgudGFuKHMpLGw9cipNYXRoLmNvcyhzKSxjPWwqbCx1PXRoaXMuZXMqbipuLygxLXRoaXMuZXMpLGQ9dGhpcy5hKkV0KHRoaXMuZTAsdGhpcy5lMSx0aGlzLmUyLHRoaXMuZTMscyk7ZT1vKmwqKDEtYypoKigxLzYtKDgtaCs4KnUpKmMvMTIwKSksdD1kLXRoaXMubWwwK28qYS9uKmMqKC41Kyg1LWgrNip1KSpjLzI0KX1yZXR1cm4gaS54PWUrdGhpcy54MCxpLnk9dCt0aGlzLnkwLGl9ZnVuY3Rpb24gRnAoaSl7aS54LT10aGlzLngwLGkueS09dGhpcy55MDt2YXIgZT1pLngvdGhpcy5hLHQ9aS55L3RoaXMuYSxyLHM7aWYodGhpcy5zcGhlcmUpe3ZhciBhPXQrdGhpcy5sYXQwO3I9TWF0aC5hc2luKE1hdGguc2luKGEpKk1hdGguY29zKGUpKSxzPU1hdGguYXRhbjIoTWF0aC50YW4oZSksTWF0aC5jb3MoYSkpfWVsc2V7dmFyIG49dGhpcy5tbDAvdGhpcy5hK3Qsbz1uYShuLHRoaXMuZTAsdGhpcy5lMSx0aGlzLmUyLHRoaXMuZTMpO2lmKE1hdGguYWJzKE1hdGguYWJzKG8pLUspPD1uZSlyZXR1cm4gaS54PXRoaXMubG9uZzAsaS55PUssdDwwJiYoaS55Kj0tMSksaTt2YXIgaD1tcih0aGlzLmEsdGhpcy5lLE1hdGguc2luKG8pKSxsPWgqaCpoL3RoaXMuYS90aGlzLmEqKDEtdGhpcy5lcyksYz1NYXRoLnBvdyhNYXRoLnRhbihvKSwyKSx1PWUqdGhpcy5hL2gsZD11KnU7cj1vLWgqTWF0aC50YW4obykvbCp1KnUqKC41LSgxKzMqYykqdSp1LzI0KSxzPXUqKDEtZCooYy8zKygxKzMqYykqYypkLzE1KSkvTWF0aC5jb3Mobyl9cmV0dXJuIGkueD11ZShzK3RoaXMubG9uZzApLGkueT1ncihyKSxpfXZhciBIcD1bIkNhc3NpbmkiLCJDYXNzaW5pX1NvbGRuZXIiLCJjYXNzIl0sa3A9e2luaXQ6QnAsZm9yd2FyZDpVcCxpbnZlcnNlOkZwLG5hbWVzOkhwfTtmdW5jdGlvbiBSaShpLGUpe3ZhciB0O3JldHVybiBpPjFlLTc/KHQ9aSplLCgxLWkqaSkqKGUvKDEtdCp0KS0uNS9pKk1hdGgubG9nKCgxLXQpLygxK3QpKSkpOjIqZX12YXIgR3A9MSxWcD0yLFdwPTMsanA9NDtmdW5jdGlvbiBxcCgpe3ZhciBpPU1hdGguYWJzKHRoaXMubGF0MCk7aWYoTWF0aC5hYnMoaS1LKTxuZT90aGlzLm1vZGU9dGhpcy5sYXQwPDA/dGhpcy5TX1BPTEU6dGhpcy5OX1BPTEU6TWF0aC5hYnMoaSk8bmU/dGhpcy5tb2RlPXRoaXMuRVFVSVQ6dGhpcy5tb2RlPXRoaXMuT0JMSVEsdGhpcy5lcz4wKXt2YXIgZTtzd2l0Y2godGhpcy5xcD1SaSh0aGlzLmUsMSksdGhpcy5tbWY9LjUvKDEtdGhpcy5lcyksdGhpcy5hcGE9dGYodGhpcy5lcyksdGhpcy5tb2RlKXtjYXNlIHRoaXMuTl9QT0xFOnRoaXMuZGQ9MTticmVhaztjYXNlIHRoaXMuU19QT0xFOnRoaXMuZGQ9MTticmVhaztjYXNlIHRoaXMuRVFVSVQ6dGhpcy5ycT1NYXRoLnNxcnQoLjUqdGhpcy5xcCksdGhpcy5kZD0xL3RoaXMucnEsdGhpcy54bWY9MSx0aGlzLnltZj0uNSp0aGlzLnFwO2JyZWFrO2Nhc2UgdGhpcy5PQkxJUTp0aGlzLnJxPU1hdGguc3FydCguNSp0aGlzLnFwKSxlPU1hdGguc2luKHRoaXMubGF0MCksdGhpcy5zaW5iMT1SaSh0aGlzLmUsZSkvdGhpcy5xcCx0aGlzLmNvc2IxPU1hdGguc3FydCgxLXRoaXMuc2luYjEqdGhpcy5zaW5iMSksdGhpcy5kZD1NYXRoLmNvcyh0aGlzLmxhdDApLyhNYXRoLnNxcnQoMS10aGlzLmVzKmUqZSkqdGhpcy5ycSp0aGlzLmNvc2IxKSx0aGlzLnltZj0odGhpcy54bWY9dGhpcy5ycSkvdGhpcy5kZCx0aGlzLnhtZio9dGhpcy5kZDticmVha319ZWxzZSB0aGlzLm1vZGU9PT10aGlzLk9CTElRJiYodGhpcy5zaW5waDA9TWF0aC5zaW4odGhpcy5sYXQwKSx0aGlzLmNvc3BoMD1NYXRoLmNvcyh0aGlzLmxhdDApKX1mdW5jdGlvbiBYcChpKXt2YXIgZSx0LHIscyxhLG4sbyxoLGwsYyx1PWkueCxkPWkueTtpZih1PXVlKHUtdGhpcy5sb25nMCksdGhpcy5zcGhlcmUpe2lmKGE9TWF0aC5zaW4oZCksYz1NYXRoLmNvcyhkKSxyPU1hdGguY29zKHUpLHRoaXMubW9kZT09PXRoaXMuT0JMSVF8fHRoaXMubW9kZT09PXRoaXMuRVFVSVQpe2lmKHQ9dGhpcy5tb2RlPT09dGhpcy5FUVVJVD8xK2MqcjoxK3RoaXMuc2lucGgwKmErdGhpcy5jb3NwaDAqYypyLHQ8PW5lKXJldHVybiBudWxsO3Q9TWF0aC5zcXJ0KDIvdCksZT10KmMqTWF0aC5zaW4odSksdCo9dGhpcy5tb2RlPT09dGhpcy5FUVVJVD9hOnRoaXMuY29zcGgwKmEtdGhpcy5zaW5waDAqYypyfWVsc2UgaWYodGhpcy5tb2RlPT09dGhpcy5OX1BPTEV8fHRoaXMubW9kZT09PXRoaXMuU19QT0xFKXtpZih0aGlzLm1vZGU9PT10aGlzLk5fUE9MRSYmKHI9LXIpLE1hdGguYWJzKGQrdGhpcy5sYXQwKTxuZSlyZXR1cm4gbnVsbDt0PUdlLWQqLjUsdD0yKih0aGlzLm1vZGU9PT10aGlzLlNfUE9MRT9NYXRoLmNvcyh0KTpNYXRoLnNpbih0KSksZT10Kk1hdGguc2luKHUpLHQqPXJ9fWVsc2V7c3dpdGNoKG89MCxoPTAsbD0wLHI9TWF0aC5jb3ModSkscz1NYXRoLnNpbih1KSxhPU1hdGguc2luKGQpLG49UmkodGhpcy5lLGEpLCh0aGlzLm1vZGU9PT10aGlzLk9CTElRfHx0aGlzLm1vZGU9PT10aGlzLkVRVUlUKSYmKG89bi90aGlzLnFwLGg9TWF0aC5zcXJ0KDEtbypvKSksdGhpcy5tb2RlKXtjYXNlIHRoaXMuT0JMSVE6bD0xK3RoaXMuc2luYjEqbyt0aGlzLmNvc2IxKmgqcjticmVhaztjYXNlIHRoaXMuRVFVSVQ6bD0xK2gqcjticmVhaztjYXNlIHRoaXMuTl9QT0xFOmw9SytkLG49dGhpcy5xcC1uO2JyZWFrO2Nhc2UgdGhpcy5TX1BPTEU6bD1kLUssbj10aGlzLnFwK247YnJlYWt9aWYoTWF0aC5hYnMobCk8bmUpcmV0dXJuIG51bGw7c3dpdGNoKHRoaXMubW9kZSl7Y2FzZSB0aGlzLk9CTElROmNhc2UgdGhpcy5FUVVJVDpsPU1hdGguc3FydCgyL2wpLHRoaXMubW9kZT09PXRoaXMuT0JMSVE/dD10aGlzLnltZipsKih0aGlzLmNvc2IxKm8tdGhpcy5zaW5iMSpoKnIpOnQ9KGw9TWF0aC5zcXJ0KDIvKDEraCpyKSkpKm8qdGhpcy55bWYsZT10aGlzLnhtZipsKmgqczticmVhaztjYXNlIHRoaXMuTl9QT0xFOmNhc2UgdGhpcy5TX1BPTEU6bj49MD8oZT0obD1NYXRoLnNxcnQobikpKnMsdD1yKih0aGlzLm1vZGU9PT10aGlzLlNfUE9MRT9sOi1sKSk6ZT10PTA7YnJlYWt9fXJldHVybiBpLng9dGhpcy5hKmUrdGhpcy54MCxpLnk9dGhpcy5hKnQrdGhpcy55MCxpfWZ1bmN0aW9uIEpwKGkpe2kueC09dGhpcy54MCxpLnktPXRoaXMueTA7dmFyIGU9aS54L3RoaXMuYSx0PWkueS90aGlzLmEscixzLGEsbixvLGgsbDtpZih0aGlzLnNwaGVyZSl7dmFyIGM9MCx1LGQ9MDtpZih1PU1hdGguc3FydChlKmUrdCp0KSxzPXUqLjUscz4xKXJldHVybiBudWxsO3N3aXRjaChzPTIqTWF0aC5hc2luKHMpLCh0aGlzLm1vZGU9PT10aGlzLk9CTElRfHx0aGlzLm1vZGU9PT10aGlzLkVRVUlUKSYmKGQ9TWF0aC5zaW4ocyksYz1NYXRoLmNvcyhzKSksdGhpcy5tb2RlKXtjYXNlIHRoaXMuRVFVSVQ6cz1NYXRoLmFicyh1KTw9bmU/MDpNYXRoLmFzaW4odCpkL3UpLGUqPWQsdD1jKnU7YnJlYWs7Y2FzZSB0aGlzLk9CTElROnM9TWF0aC5hYnModSk8PW5lP3RoaXMubGF0MDpNYXRoLmFzaW4oYyp0aGlzLnNpbnBoMCt0KmQqdGhpcy5jb3NwaDAvdSksZSo9ZCp0aGlzLmNvc3BoMCx0PShjLU1hdGguc2luKHMpKnRoaXMuc2lucGgwKSp1O2JyZWFrO2Nhc2UgdGhpcy5OX1BPTEU6dD0tdCxzPUstczticmVhaztjYXNlIHRoaXMuU19QT0xFOnMtPUs7YnJlYWt9cj10PT09MCYmKHRoaXMubW9kZT09PXRoaXMuRVFVSVR8fHRoaXMubW9kZT09PXRoaXMuT0JMSVEpPzA6TWF0aC5hdGFuMihlLHQpfWVsc2V7aWYobD0wLHRoaXMubW9kZT09PXRoaXMuT0JMSVF8fHRoaXMubW9kZT09PXRoaXMuRVFVSVQpe2lmKGUvPXRoaXMuZGQsdCo9dGhpcy5kZCxoPU1hdGguc3FydChlKmUrdCp0KSxoPG5lKXJldHVybiBpLng9dGhpcy5sb25nMCxpLnk9dGhpcy5sYXQwLGk7bj0yKk1hdGguYXNpbiguNSpoL3RoaXMucnEpLGE9TWF0aC5jb3MobiksZSo9bj1NYXRoLnNpbihuKSx0aGlzLm1vZGU9PT10aGlzLk9CTElRPyhsPWEqdGhpcy5zaW5iMSt0Km4qdGhpcy5jb3NiMS9oLG89dGhpcy5xcCpsLHQ9aCp0aGlzLmNvc2IxKmEtdCp0aGlzLnNpbmIxKm4pOihsPXQqbi9oLG89dGhpcy5xcCpsLHQ9aCphKX1lbHNlIGlmKHRoaXMubW9kZT09PXRoaXMuTl9QT0xFfHx0aGlzLm1vZGU9PT10aGlzLlNfUE9MRSl7aWYodGhpcy5tb2RlPT09dGhpcy5OX1BPTEUmJih0PS10KSxvPWUqZSt0KnQsIW8pcmV0dXJuIGkueD10aGlzLmxvbmcwLGkueT10aGlzLmxhdDAsaTtsPTEtby90aGlzLnFwLHRoaXMubW9kZT09PXRoaXMuU19QT0xFJiYobD0tbCl9cj1NYXRoLmF0YW4yKGUsdCkscz1yZihNYXRoLmFzaW4obCksdGhpcy5hcGEpfXJldHVybiBpLng9dWUodGhpcy5sb25nMCtyKSxpLnk9cyxpfXZhciBZcD0uMzMzMzMzMzMzMzMzMzMzMyxacD0uMTcyMjIyMjIyMjIyMjIyMjIsS3A9LjEwMjU3OTM2NTA3OTM2NTA4LFFwPS4wNjM4ODg4ODg4ODg4ODg4OCwkcD0uMDY2NDAyMTE2NDAyMTE2NCxlZj0uMDE2NDE1MDEyOTQyMTkxNTQzO2Z1bmN0aW9uIHRmKGkpe3ZhciBlLHQ9W107cmV0dXJuIHRbMF09aSpZcCxlPWkqaSx0WzBdKz1lKlpwLHRbMV09ZSpRcCxlKj1pLHRbMF0rPWUqS3AsdFsxXSs9ZSokcCx0WzJdPWUqZWYsdH1mdW5jdGlvbiByZihpLGUpe3ZhciB0PWkraTtyZXR1cm4gaStlWzBdKk1hdGguc2luKHQpK2VbMV0qTWF0aC5zaW4odCt0KStlWzJdKk1hdGguc2luKHQrdCt0KX12YXIgc2Y9WyJMYW1iZXJ0IEF6aW11dGhhbCBFcXVhbCBBcmVhIiwiTGFtYmVydF9BemltdXRoYWxfRXF1YWxfQXJlYSIsImxhZWEiXSxhZj17aW5pdDpxcCxmb3J3YXJkOlhwLGludmVyc2U6SnAsbmFtZXM6c2YsU19QT0xFOkdwLE5fUE9MRTpWcCxFUVVJVDpXcCxPQkxJUTpqcH07ZnVuY3Rpb24gUGkoaSl7cmV0dXJuIE1hdGguYWJzKGkpPjEmJihpPWk+MT8xOi0xKSxNYXRoLmFzaW4oaSl9ZnVuY3Rpb24gbmYoKXtNYXRoLmFicyh0aGlzLmxhdDErdGhpcy5sYXQyKTxuZXx8KHRoaXMudGVtcD10aGlzLmIvdGhpcy5hLHRoaXMuZXM9MS1NYXRoLnBvdyh0aGlzLnRlbXAsMiksdGhpcy5lMz1NYXRoLnNxcnQodGhpcy5lcyksdGhpcy5zaW5fcG89TWF0aC5zaW4odGhpcy5sYXQxKSx0aGlzLmNvc19wbz1NYXRoLmNvcyh0aGlzLmxhdDEpLHRoaXMudDE9dGhpcy5zaW5fcG8sdGhpcy5jb249dGhpcy5zaW5fcG8sdGhpcy5tczE9aWkodGhpcy5lMyx0aGlzLnNpbl9wbyx0aGlzLmNvc19wbyksdGhpcy5xczE9UmkodGhpcy5lMyx0aGlzLnNpbl9wbyx0aGlzLmNvc19wbyksdGhpcy5zaW5fcG89TWF0aC5zaW4odGhpcy5sYXQyKSx0aGlzLmNvc19wbz1NYXRoLmNvcyh0aGlzLmxhdDIpLHRoaXMudDI9dGhpcy5zaW5fcG8sdGhpcy5tczI9aWkodGhpcy5lMyx0aGlzLnNpbl9wbyx0aGlzLmNvc19wbyksdGhpcy5xczI9UmkodGhpcy5lMyx0aGlzLnNpbl9wbyx0aGlzLmNvc19wbyksdGhpcy5zaW5fcG89TWF0aC5zaW4odGhpcy5sYXQwKSx0aGlzLmNvc19wbz1NYXRoLmNvcyh0aGlzLmxhdDApLHRoaXMudDM9dGhpcy5zaW5fcG8sdGhpcy5xczA9UmkodGhpcy5lMyx0aGlzLnNpbl9wbyx0aGlzLmNvc19wbyksTWF0aC5hYnModGhpcy5sYXQxLXRoaXMubGF0Mik+bmU/dGhpcy5uczA9KHRoaXMubXMxKnRoaXMubXMxLXRoaXMubXMyKnRoaXMubXMyKS8odGhpcy5xczItdGhpcy5xczEpOnRoaXMubnMwPXRoaXMuY29uLHRoaXMuYz10aGlzLm1zMSp0aGlzLm1zMSt0aGlzLm5zMCp0aGlzLnFzMSx0aGlzLnJoPXRoaXMuYSpNYXRoLnNxcnQodGhpcy5jLXRoaXMubnMwKnRoaXMucXMwKS90aGlzLm5zMCl9ZnVuY3Rpb24gb2YoaSl7dmFyIGU9aS54LHQ9aS55O3RoaXMuc2luX3BoaT1NYXRoLnNpbih0KSx0aGlzLmNvc19waGk9TWF0aC5jb3ModCk7dmFyIHI9UmkodGhpcy5lMyx0aGlzLnNpbl9waGksdGhpcy5jb3NfcGhpKSxzPXRoaXMuYSpNYXRoLnNxcnQodGhpcy5jLXRoaXMubnMwKnIpL3RoaXMubnMwLGE9dGhpcy5uczAqdWUoZS10aGlzLmxvbmcwKSxuPXMqTWF0aC5zaW4oYSkrdGhpcy54MCxvPXRoaXMucmgtcypNYXRoLmNvcyhhKSt0aGlzLnkwO3JldHVybiBpLng9bixpLnk9byxpfWZ1bmN0aW9uIGhmKGkpe3ZhciBlLHQscixzLGEsbjtyZXR1cm4gaS54LT10aGlzLngwLGkueT10aGlzLnJoLWkueSt0aGlzLnkwLHRoaXMubnMwPj0wPyhlPU1hdGguc3FydChpLngqaS54K2kueSppLnkpLHI9MSk6KGU9LU1hdGguc3FydChpLngqaS54K2kueSppLnkpLHI9LTEpLHM9MCxlIT09MCYmKHM9TWF0aC5hdGFuMihyKmkueCxyKmkueSkpLHI9ZSp0aGlzLm5zMC90aGlzLmEsdGhpcy5zcGhlcmU/bj1NYXRoLmFzaW4oKHRoaXMuYy1yKnIpLygyKnRoaXMubnMwKSk6KHQ9KHRoaXMuYy1yKnIpL3RoaXMubnMwLG49dGhpcy5waGkxeih0aGlzLmUzLHQpKSxhPXVlKHMvdGhpcy5uczArdGhpcy5sb25nMCksaS54PWEsaS55PW4saX1mdW5jdGlvbiBsZihpLGUpe3ZhciB0LHIscyxhLG4sbz1QaSguNSplKTtpZihpPG5lKXJldHVybiBvO2Zvcih2YXIgaD1pKmksbD0xO2w8PTI1O2wrKylpZih0PU1hdGguc2luKG8pLHI9TWF0aC5jb3Mobykscz1pKnQsYT0xLXMqcyxuPS41KmEqYS9yKihlLygxLWgpLXQvYSsuNS9pKk1hdGgubG9nKCgxLXMpLygxK3MpKSksbz1vK24sTWF0aC5hYnMobik8PTFlLTcpcmV0dXJuIG87cmV0dXJuIG51bGx9dmFyIGNmPVsiQWxiZXJzX0NvbmljX0VxdWFsX0FyZWEiLCJBbGJlcnMiLCJhZWEiXSx1Zj17aW5pdDpuZixmb3J3YXJkOm9mLGludmVyc2U6aGYsbmFtZXM6Y2YscGhpMXo6bGZ9O2Z1bmN0aW9uIGRmKCl7dGhpcy5zaW5fcDE0PU1hdGguc2luKHRoaXMubGF0MCksdGhpcy5jb3NfcDE0PU1hdGguY29zKHRoaXMubGF0MCksdGhpcy5pbmZpbml0eV9kaXN0PTFlMyp0aGlzLmEsdGhpcy5yYz0xfWZ1bmN0aW9uIHBmKGkpe3ZhciBlLHQscixzLGEsbixvLGgsbD1pLngsYz1pLnk7cmV0dXJuIHI9dWUobC10aGlzLmxvbmcwKSxlPU1hdGguc2luKGMpLHQ9TWF0aC5jb3MoYykscz1NYXRoLmNvcyhyKSxuPXRoaXMuc2luX3AxNCplK3RoaXMuY29zX3AxNCp0KnMsYT0xLG4+MHx8TWF0aC5hYnMobik8PW5lPyhvPXRoaXMueDArdGhpcy5hKmEqdCpNYXRoLnNpbihyKS9uLGg9dGhpcy55MCt0aGlzLmEqYSoodGhpcy5jb3NfcDE0KmUtdGhpcy5zaW5fcDE0KnQqcykvbik6KG89dGhpcy54MCt0aGlzLmluZmluaXR5X2Rpc3QqdCpNYXRoLnNpbihyKSxoPXRoaXMueTArdGhpcy5pbmZpbml0eV9kaXN0Kih0aGlzLmNvc19wMTQqZS10aGlzLnNpbl9wMTQqdCpzKSksaS54PW8saS55PWgsaX1mdW5jdGlvbiBmZihpKXt2YXIgZSx0LHIscyxhLG47cmV0dXJuIGkueD0oaS54LXRoaXMueDApL3RoaXMuYSxpLnk9KGkueS10aGlzLnkwKS90aGlzLmEsaS54Lz10aGlzLmswLGkueS89dGhpcy5rMCwoZT1NYXRoLnNxcnQoaS54KmkueCtpLnkqaS55KSk/KHM9TWF0aC5hdGFuMihlLHRoaXMucmMpLHQ9TWF0aC5zaW4ocykscj1NYXRoLmNvcyhzKSxuPVBpKHIqdGhpcy5zaW5fcDE0K2kueSp0KnRoaXMuY29zX3AxNC9lKSxhPU1hdGguYXRhbjIoaS54KnQsZSp0aGlzLmNvc19wMTQqci1pLnkqdGhpcy5zaW5fcDE0KnQpLGE9dWUodGhpcy5sb25nMCthKSk6KG49dGhpcy5waGljMCxhPTApLGkueD1hLGkueT1uLGl9dmFyIG1mPVsiZ25vbSJdLGdmPXtpbml0OmRmLGZvcndhcmQ6cGYsaW52ZXJzZTpmZixuYW1lczptZn07ZnVuY3Rpb24gdmYoaSxlKXt2YXIgdD0xLSgxLWkqaSkvKDIqaSkqTWF0aC5sb2coKDEtaSkvKDEraSkpO2lmKE1hdGguYWJzKE1hdGguYWJzKGUpLXQpPDFlLTYpcmV0dXJuIGU8MD8tMSpLOks7Zm9yKHZhciByPU1hdGguYXNpbiguNSplKSxzLGEsbixvLGg9MDtoPDMwO2grKylpZihhPU1hdGguc2luKHIpLG49TWF0aC5jb3Mociksbz1pKmEscz1NYXRoLnBvdygxLW8qbywyKS8oMipuKSooZS8oMS1pKmkpLWEvKDEtbypvKSsuNS9pKk1hdGgubG9nKCgxLW8pLygxK28pKSkscis9cyxNYXRoLmFicyhzKTw9MWUtMTApcmV0dXJuIHI7cmV0dXJuIE5hTn1mdW5jdGlvbiB4Zigpe3RoaXMuc3BoZXJlfHwodGhpcy5rMD1paSh0aGlzLmUsTWF0aC5zaW4odGhpcy5sYXRfdHMpLE1hdGguY29zKHRoaXMubGF0X3RzKSkpfWZ1bmN0aW9uIF9mKGkpe3ZhciBlPWkueCx0PWkueSxyLHMsYT11ZShlLXRoaXMubG9uZzApO2lmKHRoaXMuc3BoZXJlKXI9dGhpcy54MCt0aGlzLmEqYSpNYXRoLmNvcyh0aGlzLmxhdF90cykscz10aGlzLnkwK3RoaXMuYSpNYXRoLnNpbih0KS9NYXRoLmNvcyh0aGlzLmxhdF90cyk7ZWxzZXt2YXIgbj1SaSh0aGlzLmUsTWF0aC5zaW4odCkpO3I9dGhpcy54MCt0aGlzLmEqdGhpcy5rMCphLHM9dGhpcy55MCt0aGlzLmEqbiouNS90aGlzLmswfXJldHVybiBpLng9cixpLnk9cyxpfWZ1bmN0aW9uIHlmKGkpe2kueC09dGhpcy54MCxpLnktPXRoaXMueTA7dmFyIGUsdDtyZXR1cm4gdGhpcy5zcGhlcmU/KGU9dWUodGhpcy5sb25nMCtpLngvdGhpcy5hL01hdGguY29zKHRoaXMubGF0X3RzKSksdD1NYXRoLmFzaW4oaS55L3RoaXMuYSpNYXRoLmNvcyh0aGlzLmxhdF90cykpKToodD12Zih0aGlzLmUsMippLnkqdGhpcy5rMC90aGlzLmEpLGU9dWUodGhpcy5sb25nMCtpLngvKHRoaXMuYSp0aGlzLmswKSkpLGkueD1lLGkueT10LGl9dmFyIE1mPVsiY2VhIl0sYmY9e2luaXQ6eGYsZm9yd2FyZDpfZixpbnZlcnNlOnlmLG5hbWVzOk1mfTtmdW5jdGlvbiB3Zigpe3RoaXMueDA9dGhpcy54MHx8MCx0aGlzLnkwPXRoaXMueTB8fDAsdGhpcy5sYXQwPXRoaXMubGF0MHx8MCx0aGlzLmxvbmcwPXRoaXMubG9uZzB8fDAsdGhpcy5sYXRfdHM9dGhpcy5sYXRfdHN8fDAsdGhpcy50aXRsZT10aGlzLnRpdGxlfHwiRXF1aWRpc3RhbnQgQ3lsaW5kcmljYWwgKFBsYXRlIENhcnJlKSIsdGhpcy5yYz1NYXRoLmNvcyh0aGlzLmxhdF90cyl9ZnVuY3Rpb24gU2YoaSl7dmFyIGU9aS54LHQ9aS55LHI9dWUoZS10aGlzLmxvbmcwKSxzPWdyKHQtdGhpcy5sYXQwKTtyZXR1cm4gaS54PXRoaXMueDArdGhpcy5hKnIqdGhpcy5yYyxpLnk9dGhpcy55MCt0aGlzLmEqcyxpfWZ1bmN0aW9uIEVmKGkpe3ZhciBlPWkueCx0PWkueTtyZXR1cm4gaS54PXVlKHRoaXMubG9uZzArKGUtdGhpcy54MCkvKHRoaXMuYSp0aGlzLnJjKSksaS55PWdyKHRoaXMubGF0MCsodC10aGlzLnkwKS90aGlzLmEpLGl9dmFyIFRmPVsiRXF1aXJlY3Rhbmd1bGFyIiwiRXF1aWRpc3RhbnRfQ3lsaW5kcmljYWwiLCJlcWMiXSxBZj17aW5pdDp3Zixmb3J3YXJkOlNmLGludmVyc2U6RWYsbmFtZXM6VGZ9LFJoPTIwO2Z1bmN0aW9uIENmKCl7dGhpcy50ZW1wPXRoaXMuYi90aGlzLmEsdGhpcy5lcz0xLU1hdGgucG93KHRoaXMudGVtcCwyKSx0aGlzLmU9TWF0aC5zcXJ0KHRoaXMuZXMpLHRoaXMuZTA9Z3ModGhpcy5lcyksdGhpcy5lMT12cyh0aGlzLmVzKSx0aGlzLmUyPXhzKHRoaXMuZXMpLHRoaXMuZTM9X3ModGhpcy5lcyksdGhpcy5tbDA9dGhpcy5hKkV0KHRoaXMuZTAsdGhpcy5lMSx0aGlzLmUyLHRoaXMuZTMsdGhpcy5sYXQwKX1mdW5jdGlvbiBMZihpKXt2YXIgZT1pLngsdD1pLnkscixzLGEsbj11ZShlLXRoaXMubG9uZzApO2lmKGE9bipNYXRoLnNpbih0KSx0aGlzLnNwaGVyZSlNYXRoLmFicyh0KTw9bmU/KHI9dGhpcy5hKm4scz0tMSp0aGlzLmEqdGhpcy5sYXQwKToocj10aGlzLmEqTWF0aC5zaW4oYSkvTWF0aC50YW4odCkscz10aGlzLmEqKGdyKHQtdGhpcy5sYXQwKSsoMS1NYXRoLmNvcyhhKSkvTWF0aC50YW4odCkpKTtlbHNlIGlmKE1hdGguYWJzKHQpPD1uZSlyPXRoaXMuYSpuLHM9LTEqdGhpcy5tbDA7ZWxzZXt2YXIgbz1tcih0aGlzLmEsdGhpcy5lLE1hdGguc2luKHQpKS9NYXRoLnRhbih0KTtyPW8qTWF0aC5zaW4oYSkscz10aGlzLmEqRXQodGhpcy5lMCx0aGlzLmUxLHRoaXMuZTIsdGhpcy5lMyx0KS10aGlzLm1sMCtvKigxLU1hdGguY29zKGEpKX1yZXR1cm4gaS54PXIrdGhpcy54MCxpLnk9cyt0aGlzLnkwLGl9ZnVuY3Rpb24gUmYoaSl7dmFyIGUsdCxyLHMsYSxuLG8saCxsO2lmKHI9aS54LXRoaXMueDAscz1pLnktdGhpcy55MCx0aGlzLnNwaGVyZSlpZihNYXRoLmFicyhzK3RoaXMuYSp0aGlzLmxhdDApPD1uZSllPXVlKHIvdGhpcy5hK3RoaXMubG9uZzApLHQ9MDtlbHNle249dGhpcy5sYXQwK3MvdGhpcy5hLG89cipyL3RoaXMuYS90aGlzLmErbipuLGg9bjt2YXIgYztmb3IoYT1SaDthOy0tYSlpZihjPU1hdGgudGFuKGgpLGw9LTEqKG4qKGgqYysxKS1oLS41KihoKmgrbykqYykvKChoLW4pL2MtMSksaCs9bCxNYXRoLmFicyhsKTw9bmUpe3Q9aDticmVha31lPXVlKHRoaXMubG9uZzArTWF0aC5hc2luKHIqTWF0aC50YW4oaCkvdGhpcy5hKS9NYXRoLnNpbih0KSl9ZWxzZSBpZihNYXRoLmFicyhzK3RoaXMubWwwKTw9bmUpdD0wLGU9dWUodGhpcy5sb25nMCtyL3RoaXMuYSk7ZWxzZXtuPSh0aGlzLm1sMCtzKS90aGlzLmEsbz1yKnIvdGhpcy5hL3RoaXMuYStuKm4saD1uO3ZhciB1LGQscCxnLGY7Zm9yKGE9Umg7YTstLWEpaWYoZj10aGlzLmUqTWF0aC5zaW4oaCksdT1NYXRoLnNxcnQoMS1mKmYpKk1hdGgudGFuKGgpLGQ9dGhpcy5hKkV0KHRoaXMuZTAsdGhpcy5lMSx0aGlzLmUyLHRoaXMuZTMsaCkscD10aGlzLmUwLTIqdGhpcy5lMSpNYXRoLmNvcygyKmgpKzQqdGhpcy5lMipNYXRoLmNvcyg0KmgpLTYqdGhpcy5lMypNYXRoLmNvcyg2KmgpLGc9ZC90aGlzLmEsbD0obioodSpnKzEpLWctLjUqdSooZypnK28pKS8odGhpcy5lcypNYXRoLnNpbigyKmgpKihnKmcrby0yKm4qZykvKDQqdSkrKG4tZykqKHUqcC0yL01hdGguc2luKDIqaCkpLXApLGgtPWwsTWF0aC5hYnMobCk8PW5lKXt0PWg7YnJlYWt9dT1NYXRoLnNxcnQoMS10aGlzLmVzKk1hdGgucG93KE1hdGguc2luKHQpLDIpKSpNYXRoLnRhbih0KSxlPXVlKHRoaXMubG9uZzArTWF0aC5hc2luKHIqdS90aGlzLmEpL01hdGguc2luKHQpKX1yZXR1cm4gaS54PWUsaS55PXQsaX12YXIgUGY9WyJQb2x5Y29uaWMiLCJwb2x5Il0sSWY9e2luaXQ6Q2YsZm9yd2FyZDpMZixpbnZlcnNlOlJmLG5hbWVzOlBmfTtmdW5jdGlvbiBOZigpe3RoaXMuQT1bXSx0aGlzLkFbMV09LjYzOTkxNzUwNzMsdGhpcy5BWzJdPS0uMTM1ODc5NzYxMyx0aGlzLkFbM109LjA2MzI5NDQwOSx0aGlzLkFbNF09LS4wMjUyNjg1Myx0aGlzLkFbNV09LjAxMTc4NzksdGhpcy5BWzZdPS0uMDA1NTE2MSx0aGlzLkFbN109LjAwMjY5MDYsdGhpcy5BWzhdPS0uMDAxMzMzLHRoaXMuQVs5XT02N2UtNSx0aGlzLkFbMTBdPS0zNGUtNSx0aGlzLkJfcmU9W10sdGhpcy5CX2ltPVtdLHRoaXMuQl9yZVsxXT0uNzU1Nzg1MzIyOCx0aGlzLkJfaW1bMV09MCx0aGlzLkJfcmVbMl09LjI0OTIwNDY0Nix0aGlzLkJfaW1bMl09LjAwMzM3MTUwNyx0aGlzLkJfcmVbM109LS4wMDE1NDE3MzksdGhpcy5CX2ltWzNdPS4wNDEwNTg1Nix0aGlzLkJfcmVbNF09LS4xMDE2MjkwNyx0aGlzLkJfaW1bNF09LjAxNzI3NjA5LHRoaXMuQl9yZVs1XT0tLjI2NjIzNDg5LHRoaXMuQl9pbVs1XT0tLjM2MjQ5MjE4LHRoaXMuQl9yZVs2XT0tLjY4NzA5ODMsdGhpcy5CX2ltWzZdPS0xLjE2NTE5NjcsdGhpcy5DX3JlPVtdLHRoaXMuQ19pbT1bXSx0aGlzLkNfcmVbMV09MS4zMjMxMjcwNDM5LHRoaXMuQ19pbVsxXT0wLHRoaXMuQ19yZVsyXT0tLjU3NzI0NTc4OSx0aGlzLkNfaW1bMl09LS4wMDc4MDk1OTgsdGhpcy5DX3JlWzNdPS41MDgzMDc1MTMsdGhpcy5DX2ltWzNdPS0uMTEyMjA4OTUyLHRoaXMuQ19yZVs0XT0tLjE1MDk0NzYyLHRoaXMuQ19pbVs0XT0uMTgyMDA2MDIsdGhpcy5DX3JlWzVdPTEuMDE0MTgxNzksdGhpcy5DX2ltWzVdPTEuNjQ0OTc2OTYsdGhpcy5DX3JlWzZdPTEuOTY2MDU0OSx0aGlzLkNfaW1bNl09Mi41MTI3NjQ1LHRoaXMuRD1bXSx0aGlzLkRbMV09MS41NjI3MDE0MjQzLHRoaXMuRFsyXT0uNTE4NTQwNjM5OCx0aGlzLkRbM109LS4wMzMzMzA5OCx0aGlzLkRbNF09LS4xMDUyOTA2LHRoaXMuRFs1XT0tLjAzNjg1OTQsdGhpcy5EWzZdPS4wMDczMTcsdGhpcy5EWzddPS4wMTIyLHRoaXMuRFs4XT0uMDAzOTQsdGhpcy5EWzldPS0uMDAxM31mdW5jdGlvbiBEZihpKXt2YXIgZSx0PWkueCxyPWkueSxzPXItdGhpcy5sYXQwLGE9dC10aGlzLmxvbmcwLG49cy9scyoxZS01LG89YSxoPTEsbD0wO2ZvcihlPTE7ZTw9MTA7ZSsrKWg9aCpuLGw9bCt0aGlzLkFbZV0qaDt2YXIgYz1sLHU9byxkPTEscD0wLGcsZixtPTAsdj0wO2ZvcihlPTE7ZTw9NjtlKyspZz1kKmMtcCp1LGY9cCpjK2QqdSxkPWcscD1mLG09bSt0aGlzLkJfcmVbZV0qZC10aGlzLkJfaW1bZV0qcCx2PXYrdGhpcy5CX2ltW2VdKmQrdGhpcy5CX3JlW2VdKnA7cmV0dXJuIGkueD12KnRoaXMuYSt0aGlzLngwLGkueT1tKnRoaXMuYSt0aGlzLnkwLGl9ZnVuY3Rpb24gT2YoaSl7dmFyIGUsdD1pLngscj1pLnkscz10LXRoaXMueDAsYT1yLXRoaXMueTAsbj1hL3RoaXMuYSxvPXMvdGhpcy5hLGg9MSxsPTAsYyx1LGQ9MCxwPTA7Zm9yKGU9MTtlPD02O2UrKyljPWgqbi1sKm8sdT1sKm4raCpvLGg9YyxsPXUsZD1kK3RoaXMuQ19yZVtlXSpoLXRoaXMuQ19pbVtlXSpsLHA9cCt0aGlzLkNfaW1bZV0qaCt0aGlzLkNfcmVbZV0qbDtmb3IodmFyIGc9MDtnPHRoaXMuaXRlcmF0aW9ucztnKyspe3ZhciBmPWQsbT1wLHYseSxUPW4sdz1vO2ZvcihlPTI7ZTw9NjtlKyspdj1mKmQtbSpwLHk9bSpkK2YqcCxmPXYsbT15LFQ9VCsoZS0xKSoodGhpcy5CX3JlW2VdKmYtdGhpcy5CX2ltW2VdKm0pLHc9dysoZS0xKSoodGhpcy5CX2ltW2VdKmYrdGhpcy5CX3JlW2VdKm0pO2Y9MSxtPTA7dmFyIGI9dGhpcy5CX3JlWzFdLEw9dGhpcy5CX2ltWzFdO2ZvcihlPTI7ZTw9NjtlKyspdj1mKmQtbSpwLHk9bSpkK2YqcCxmPXYsbT15LGI9YitlKih0aGlzLkJfcmVbZV0qZi10aGlzLkJfaW1bZV0qbSksTD1MK2UqKHRoaXMuQl9pbVtlXSpmK3RoaXMuQl9yZVtlXSptKTt2YXIgUD1iKmIrTCpMO2Q9KFQqYit3KkwpL1AscD0odypiLVQqTCkvUH12YXIgaz1kLGllPXAsTz0xLHg9MDtmb3IoZT0xO2U8PTk7ZSsrKU89TyprLHg9eCt0aGlzLkRbZV0qTzt2YXIgQz10aGlzLmxhdDAreCpscyoxZTUsWT10aGlzLmxvbmcwK2llO3JldHVybiBpLng9WSxpLnk9QyxpfXZhciB6Zj1bIk5ld19aZWFsYW5kX01hcF9HcmlkIiwibnptZyJdLEJmPXtpbml0Ok5mLGZvcndhcmQ6RGYsaW52ZXJzZTpPZixuYW1lczp6Zn07ZnVuY3Rpb24gVWYoKXt9ZnVuY3Rpb24gRmYoaSl7dmFyIGU9aS54LHQ9aS55LHI9dWUoZS10aGlzLmxvbmcwKSxzPXRoaXMueDArdGhpcy5hKnIsYT10aGlzLnkwK3RoaXMuYSpNYXRoLmxvZyhNYXRoLnRhbihNYXRoLlBJLzQrdC8yLjUpKSoxLjI1O3JldHVybiBpLng9cyxpLnk9YSxpfWZ1bmN0aW9uIEhmKGkpe2kueC09dGhpcy54MCxpLnktPXRoaXMueTA7dmFyIGU9dWUodGhpcy5sb25nMCtpLngvdGhpcy5hKSx0PTIuNSooTWF0aC5hdGFuKE1hdGguZXhwKC44KmkueS90aGlzLmEpKS1NYXRoLlBJLzQpO3JldHVybiBpLng9ZSxpLnk9dCxpfXZhciBrZj1bIk1pbGxlcl9DeWxpbmRyaWNhbCIsIm1pbGwiXSxHZj17aW5pdDpVZixmb3J3YXJkOkZmLGludmVyc2U6SGYsbmFtZXM6a2Z9LFZmPTIwO2Z1bmN0aW9uIFdmKCl7dGhpcy5zcGhlcmU/KHRoaXMubj0xLHRoaXMubT0wLHRoaXMuZXM9MCx0aGlzLkNfeT1NYXRoLnNxcnQoKHRoaXMubSsxKS90aGlzLm4pLHRoaXMuQ194PXRoaXMuQ195Lyh0aGlzLm0rMSkpOnRoaXMuZW49VGgodGhpcy5lcyl9ZnVuY3Rpb24gamYoaSl7dmFyIGUsdCxyPWkueCxzPWkueTtpZihyPXVlKHItdGhpcy5sb25nMCksdGhpcy5zcGhlcmUpe2lmKCF0aGlzLm0pcz10aGlzLm4hPT0xP01hdGguYXNpbih0aGlzLm4qTWF0aC5zaW4ocykpOnM7ZWxzZSBmb3IodmFyIGE9dGhpcy5uKk1hdGguc2luKHMpLG49VmY7bjstLW4pe3ZhciBvPSh0aGlzLm0qcytNYXRoLnNpbihzKS1hKS8odGhpcy5tK01hdGguY29zKHMpKTtpZihzLT1vLE1hdGguYWJzKG8pPG5lKWJyZWFrfWU9dGhpcy5hKnRoaXMuQ194KnIqKHRoaXMubStNYXRoLmNvcyhzKSksdD10aGlzLmEqdGhpcy5DX3kqc31lbHNle3ZhciBoPU1hdGguc2luKHMpLGw9TWF0aC5jb3Mocyk7dD10aGlzLmEqcmEocyxoLGwsdGhpcy5lbiksZT10aGlzLmEqcipsL01hdGguc3FydCgxLXRoaXMuZXMqaCpoKX1yZXR1cm4gaS54PWUsaS55PXQsaX1mdW5jdGlvbiBxZihpKXt2YXIgZSx0LHIscztyZXR1cm4gaS54LT10aGlzLngwLHI9aS54L3RoaXMuYSxpLnktPXRoaXMueTAsZT1pLnkvdGhpcy5hLHRoaXMuc3BoZXJlPyhlLz10aGlzLkNfeSxyPXIvKHRoaXMuQ194Kih0aGlzLm0rTWF0aC5jb3MoZSkpKSx0aGlzLm0/ZT1QaSgodGhpcy5tKmUrTWF0aC5zaW4oZSkpL3RoaXMubik6dGhpcy5uIT09MSYmKGU9UGkoTWF0aC5zaW4oZSkvdGhpcy5uKSkscj11ZShyK3RoaXMubG9uZzApLGU9Z3IoZSkpOihlPUFoKGkueS90aGlzLmEsdGhpcy5lcyx0aGlzLmVuKSxzPU1hdGguYWJzKGUpLHM8Sz8ocz1NYXRoLnNpbihlKSx0PXRoaXMubG9uZzAraS54Kk1hdGguc3FydCgxLXRoaXMuZXMqcypzKS8odGhpcy5hKk1hdGguY29zKGUpKSxyPXVlKHQpKTpzLW5lPEsmJihyPXRoaXMubG9uZzApKSxpLng9cixpLnk9ZSxpfXZhciBYZj1bIlNpbnVzb2lkYWwiLCJzaW51Il0sSmY9e2luaXQ6V2YsZm9yd2FyZDpqZixpbnZlcnNlOnFmLG5hbWVzOlhmfTtmdW5jdGlvbiBZZigpe31mdW5jdGlvbiBaZihpKXtmb3IodmFyIGU9aS54LHQ9aS55LHI9dWUoZS10aGlzLmxvbmcwKSxzPXQsYT1NYXRoLlBJKk1hdGguc2luKHQpOzspe3ZhciBuPS0ocytNYXRoLnNpbihzKS1hKS8oMStNYXRoLmNvcyhzKSk7aWYocys9bixNYXRoLmFicyhuKTxuZSlicmVha31zLz0yLE1hdGguUEkvMi1NYXRoLmFicyh0KTxuZSYmKHI9MCk7dmFyIG89LjkwMDMxNjMxNjE1OCp0aGlzLmEqcipNYXRoLmNvcyhzKSt0aGlzLngwLGg9MS40MTQyMTM1NjIzNzMxKnRoaXMuYSpNYXRoLnNpbihzKSt0aGlzLnkwO3JldHVybiBpLng9byxpLnk9aCxpfWZ1bmN0aW9uIEtmKGkpe3ZhciBlLHQ7aS54LT10aGlzLngwLGkueS09dGhpcy55MCx0PWkueS8oMS40MTQyMTM1NjIzNzMxKnRoaXMuYSksTWF0aC5hYnModCk+Ljk5OTk5OTk5OTk5OSYmKHQ9Ljk5OTk5OTk5OTk5OSksZT1NYXRoLmFzaW4odCk7dmFyIHI9dWUodGhpcy5sb25nMCtpLngvKC45MDAzMTYzMTYxNTgqdGhpcy5hKk1hdGguY29zKGUpKSk7cjwtTWF0aC5QSSYmKHI9LU1hdGguUEkpLHI+TWF0aC5QSSYmKHI9TWF0aC5QSSksdD0oMiplK01hdGguc2luKDIqZSkpL01hdGguUEksTWF0aC5hYnModCk+MSYmKHQ9MSk7dmFyIHM9TWF0aC5hc2luKHQpO3JldHVybiBpLng9cixpLnk9cyxpfXZhciBRZj1bIk1vbGx3ZWlkZSIsIm1vbGwiXSwkZj17aW5pdDpZZixmb3J3YXJkOlpmLGludmVyc2U6S2YsbmFtZXM6UWZ9O2Z1bmN0aW9uIGVtKCl7TWF0aC5hYnModGhpcy5sYXQxK3RoaXMubGF0Mik8bmV8fCh0aGlzLmxhdDI9dGhpcy5sYXQyfHx0aGlzLmxhdDEsdGhpcy50ZW1wPXRoaXMuYi90aGlzLmEsdGhpcy5lcz0xLU1hdGgucG93KHRoaXMudGVtcCwyKSx0aGlzLmU9TWF0aC5zcXJ0KHRoaXMuZXMpLHRoaXMuZTA9Z3ModGhpcy5lcyksdGhpcy5lMT12cyh0aGlzLmVzKSx0aGlzLmUyPXhzKHRoaXMuZXMpLHRoaXMuZTM9X3ModGhpcy5lcyksdGhpcy5zaW5waGk9TWF0aC5zaW4odGhpcy5sYXQxKSx0aGlzLmNvc3BoaT1NYXRoLmNvcyh0aGlzLmxhdDEpLHRoaXMubXMxPWlpKHRoaXMuZSx0aGlzLnNpbnBoaSx0aGlzLmNvc3BoaSksdGhpcy5tbDE9RXQodGhpcy5lMCx0aGlzLmUxLHRoaXMuZTIsdGhpcy5lMyx0aGlzLmxhdDEpLE1hdGguYWJzKHRoaXMubGF0MS10aGlzLmxhdDIpPG5lP3RoaXMubnM9dGhpcy5zaW5waGk6KHRoaXMuc2lucGhpPU1hdGguc2luKHRoaXMubGF0MiksdGhpcy5jb3NwaGk9TWF0aC5jb3ModGhpcy5sYXQyKSx0aGlzLm1zMj1paSh0aGlzLmUsdGhpcy5zaW5waGksdGhpcy5jb3NwaGkpLHRoaXMubWwyPUV0KHRoaXMuZTAsdGhpcy5lMSx0aGlzLmUyLHRoaXMuZTMsdGhpcy5sYXQyKSx0aGlzLm5zPSh0aGlzLm1zMS10aGlzLm1zMikvKHRoaXMubWwyLXRoaXMubWwxKSksdGhpcy5nPXRoaXMubWwxK3RoaXMubXMxL3RoaXMubnMsdGhpcy5tbDA9RXQodGhpcy5lMCx0aGlzLmUxLHRoaXMuZTIsdGhpcy5lMyx0aGlzLmxhdDApLHRoaXMucmg9dGhpcy5hKih0aGlzLmctdGhpcy5tbDApKX1mdW5jdGlvbiB0bShpKXt2YXIgZT1pLngsdD1pLnkscjtpZih0aGlzLnNwaGVyZSlyPXRoaXMuYSoodGhpcy5nLXQpO2Vsc2V7dmFyIHM9RXQodGhpcy5lMCx0aGlzLmUxLHRoaXMuZTIsdGhpcy5lMyx0KTtyPXRoaXMuYSoodGhpcy5nLXMpfXZhciBhPXRoaXMubnMqdWUoZS10aGlzLmxvbmcwKSxuPXRoaXMueDArcipNYXRoLnNpbihhKSxvPXRoaXMueTArdGhpcy5yaC1yKk1hdGguY29zKGEpO3JldHVybiBpLng9bixpLnk9byxpfWZ1bmN0aW9uIGltKGkpe2kueC09dGhpcy54MCxpLnk9dGhpcy5yaC1pLnkrdGhpcy55MDt2YXIgZSx0LHIsczt0aGlzLm5zPj0wPyh0PU1hdGguc3FydChpLngqaS54K2kueSppLnkpLGU9MSk6KHQ9LU1hdGguc3FydChpLngqaS54K2kueSppLnkpLGU9LTEpO3ZhciBhPTA7aWYodCE9PTAmJihhPU1hdGguYXRhbjIoZSppLngsZSppLnkpKSx0aGlzLnNwaGVyZSlyZXR1cm4gcz11ZSh0aGlzLmxvbmcwK2EvdGhpcy5ucykscj1ncih0aGlzLmctdC90aGlzLmEpLGkueD1zLGkueT1yLGk7dmFyIG49dGhpcy5nLXQvdGhpcy5hO3JldHVybiByPW5hKG4sdGhpcy5lMCx0aGlzLmUxLHRoaXMuZTIsdGhpcy5lMykscz11ZSh0aGlzLmxvbmcwK2EvdGhpcy5ucyksaS54PXMsaS55PXIsaX12YXIgcm09WyJFcXVpZGlzdGFudF9Db25pYyIsImVxZGMiXSxzbT17aW5pdDplbSxmb3J3YXJkOnRtLGludmVyc2U6aW0sbmFtZXM6cm19O2Z1bmN0aW9uIGFtKCl7dGhpcy5SPXRoaXMuYX1mdW5jdGlvbiBubShpKXt2YXIgZT1pLngsdD1pLnkscj11ZShlLXRoaXMubG9uZzApLHMsYTtNYXRoLmFicyh0KTw9bmUmJihzPXRoaXMueDArdGhpcy5SKnIsYT10aGlzLnkwKTt2YXIgbj1QaSgyKk1hdGguYWJzKHQvTWF0aC5QSSkpOyhNYXRoLmFicyhyKTw9bmV8fE1hdGguYWJzKE1hdGguYWJzKHQpLUspPD1uZSkmJihzPXRoaXMueDAsdD49MD9hPXRoaXMueTArTWF0aC5QSSp0aGlzLlIqTWF0aC50YW4oLjUqbik6YT10aGlzLnkwK01hdGguUEkqdGhpcy5SKi1NYXRoLnRhbiguNSpuKSk7dmFyIG89LjUqTWF0aC5hYnMoTWF0aC5QSS9yLXIvTWF0aC5QSSksaD1vKm8sbD1NYXRoLnNpbihuKSxjPU1hdGguY29zKG4pLHU9Yy8obCtjLTEpLGQ9dSp1LHA9dSooMi9sLTEpLGc9cCpwLGY9TWF0aC5QSSp0aGlzLlIqKG8qKHUtZykrTWF0aC5zcXJ0KGgqKHUtZykqKHUtZyktKGcraCkqKGQtZykpKS8oZytoKTtyPDAmJihmPS1mKSxzPXRoaXMueDArZjt2YXIgbT1oK3U7cmV0dXJuIGY9TWF0aC5QSSp0aGlzLlIqKHAqbS1vKk1hdGguc3FydCgoZytoKSooaCsxKS1tKm0pKS8oZytoKSx0Pj0wP2E9dGhpcy55MCtmOmE9dGhpcy55MC1mLGkueD1zLGkueT1hLGl9ZnVuY3Rpb24gb20oaSl7dmFyIGUsdCxyLHMsYSxuLG8saCxsLGMsdSxkLHA7cmV0dXJuIGkueC09dGhpcy54MCxpLnktPXRoaXMueTAsdT1NYXRoLlBJKnRoaXMuUixyPWkueC91LHM9aS55L3UsYT1yKnIrcypzLG49LU1hdGguYWJzKHMpKigxK2EpLG89bi0yKnMqcytyKnIsaD0tMipuKzErMipzKnMrYSphLHA9cypzL2grKDIqbypvKm8vaC9oL2gtOSpuKm8vaC9oKS8yNyxsPShuLW8qby8zL2gpL2gsYz0yKk1hdGguc3FydCgtbC8zKSx1PTMqcC9sL2MsTWF0aC5hYnModSk+MSYmKHU+PTA/dT0xOnU9LTEpLGQ9TWF0aC5hY29zKHUpLzMsaS55Pj0wP3Q9KC1jKk1hdGguY29zKGQrTWF0aC5QSS8zKS1vLzMvaCkqTWF0aC5QSTp0PS0oLWMqTWF0aC5jb3MoZCtNYXRoLlBJLzMpLW8vMy9oKSpNYXRoLlBJLE1hdGguYWJzKHIpPG5lP2U9dGhpcy5sb25nMDplPXVlKHRoaXMubG9uZzArTWF0aC5QSSooYS0xK01hdGguc3FydCgxKzIqKHIqci1zKnMpK2EqYSkpLzIvciksaS54PWUsaS55PXQsaX12YXIgaG09WyJWYW5fZGVyX0dyaW50ZW5fSSIsIlZhbkRlckdyaW50ZW4iLCJ2YW5kZyJdLGxtPXtpbml0OmFtLGZvcndhcmQ6bm0saW52ZXJzZTpvbSxuYW1lczpobX07ZnVuY3Rpb24gY20oKXt0aGlzLnNpbl9wMTI9TWF0aC5zaW4odGhpcy5sYXQwKSx0aGlzLmNvc19wMTI9TWF0aC5jb3ModGhpcy5sYXQwKX1mdW5jdGlvbiB1bShpKXt2YXIgZT1pLngsdD1pLnkscj1NYXRoLnNpbihpLnkpLHM9TWF0aC5jb3MoaS55KSxhPXVlKGUtdGhpcy5sb25nMCksbixvLGgsbCxjLHUsZCxwLGcsZixtLHYseSxULHcsYixMLFAsayxpZSxPLHgsQztyZXR1cm4gdGhpcy5zcGhlcmU/TWF0aC5hYnModGhpcy5zaW5fcDEyLTEpPD1uZT8oaS54PXRoaXMueDArdGhpcy5hKihLLXQpKk1hdGguc2luKGEpLGkueT10aGlzLnkwLXRoaXMuYSooSy10KSpNYXRoLmNvcyhhKSxpKTpNYXRoLmFicyh0aGlzLnNpbl9wMTIrMSk8PW5lPyhpLng9dGhpcy54MCt0aGlzLmEqKEsrdCkqTWF0aC5zaW4oYSksaS55PXRoaXMueTArdGhpcy5hKihLK3QpKk1hdGguY29zKGEpLGkpOihQPXRoaXMuc2luX3AxMipyK3RoaXMuY29zX3AxMipzKk1hdGguY29zKGEpLGI9TWF0aC5hY29zKFApLEw9Yj9iL01hdGguc2luKGIpOjEsaS54PXRoaXMueDArdGhpcy5hKkwqcypNYXRoLnNpbihhKSxpLnk9dGhpcy55MCt0aGlzLmEqTCoodGhpcy5jb3NfcDEyKnItdGhpcy5zaW5fcDEyKnMqTWF0aC5jb3MoYSkpLGkpOihuPWdzKHRoaXMuZXMpLG89dnModGhpcy5lcyksaD14cyh0aGlzLmVzKSxsPV9zKHRoaXMuZXMpLE1hdGguYWJzKHRoaXMuc2luX3AxMi0xKTw9bmU/KGM9dGhpcy5hKkV0KG4sbyxoLGwsSyksdT10aGlzLmEqRXQobixvLGgsbCx0KSxpLng9dGhpcy54MCsoYy11KSpNYXRoLnNpbihhKSxpLnk9dGhpcy55MC0oYy11KSpNYXRoLmNvcyhhKSxpKTpNYXRoLmFicyh0aGlzLnNpbl9wMTIrMSk8PW5lPyhjPXRoaXMuYSpFdChuLG8saCxsLEspLHU9dGhpcy5hKkV0KG4sbyxoLGwsdCksaS54PXRoaXMueDArKGMrdSkqTWF0aC5zaW4oYSksaS55PXRoaXMueTArKGMrdSkqTWF0aC5jb3MoYSksaSk6KGQ9ci9zLHA9bXIodGhpcy5hLHRoaXMuZSx0aGlzLnNpbl9wMTIpLGc9bXIodGhpcy5hLHRoaXMuZSxyKSxmPU1hdGguYXRhbigoMS10aGlzLmVzKSpkK3RoaXMuZXMqcCp0aGlzLnNpbl9wMTIvKGcqcykpLG09TWF0aC5hdGFuMihNYXRoLnNpbihhKSx0aGlzLmNvc19wMTIqTWF0aC50YW4oZiktdGhpcy5zaW5fcDEyKk1hdGguY29zKGEpKSxtPT09MD9rPU1hdGguYXNpbih0aGlzLmNvc19wMTIqTWF0aC5zaW4oZiktdGhpcy5zaW5fcDEyKk1hdGguY29zKGYpKTpNYXRoLmFicyhNYXRoLmFicyhtKS1NYXRoLlBJKTw9bmU/az0tTWF0aC5hc2luKHRoaXMuY29zX3AxMipNYXRoLnNpbihmKS10aGlzLnNpbl9wMTIqTWF0aC5jb3MoZikpOms9TWF0aC5hc2luKE1hdGguc2luKGEpKk1hdGguY29zKGYpL01hdGguc2luKG0pKSx2PXRoaXMuZSp0aGlzLnNpbl9wMTIvTWF0aC5zcXJ0KDEtdGhpcy5lcykseT10aGlzLmUqdGhpcy5jb3NfcDEyKk1hdGguY29zKG0pL01hdGguc3FydCgxLXRoaXMuZXMpLFQ9dip5LHc9eSp5LGllPWsqayxPPWllKmsseD1PKmssQz14KmssYj1wKmsqKDEtaWUqdyooMS13KS82K08vOCpUKigxLTIqdykreC8xMjAqKHcqKDQtNyp3KS0zKnYqdiooMS03KncpKS1DLzQ4KlQpLGkueD10aGlzLngwK2IqTWF0aC5zaW4obSksaS55PXRoaXMueTArYipNYXRoLmNvcyhtKSxpKSl9ZnVuY3Rpb24gZG0oaSl7aS54LT10aGlzLngwLGkueS09dGhpcy55MDt2YXIgZSx0LHIscyxhLG4sbyxoLGwsYyx1LGQscCxnLGYsbSx2LHksVCx3LGIsTCxQLGs7cmV0dXJuIHRoaXMuc3BoZXJlPyhlPU1hdGguc3FydChpLngqaS54K2kueSppLnkpLGU+MipLKnRoaXMuYT92b2lkIDA6KHQ9ZS90aGlzLmEscj1NYXRoLnNpbih0KSxzPU1hdGguY29zKHQpLGE9dGhpcy5sb25nMCxNYXRoLmFicyhlKTw9bmU/bj10aGlzLmxhdDA6KG49UGkocyp0aGlzLnNpbl9wMTIraS55KnIqdGhpcy5jb3NfcDEyL2UpLG89TWF0aC5hYnModGhpcy5sYXQwKS1LLE1hdGguYWJzKG8pPD1uZT90aGlzLmxhdDA+PTA/YT11ZSh0aGlzLmxvbmcwK01hdGguYXRhbjIoaS54LC1pLnkpKTphPXVlKHRoaXMubG9uZzAtTWF0aC5hdGFuMigtaS54LGkueSkpOmE9dWUodGhpcy5sb25nMCtNYXRoLmF0YW4yKGkueCpyLGUqdGhpcy5jb3NfcDEyKnMtaS55KnRoaXMuc2luX3AxMipyKSkpLGkueD1hLGkueT1uLGkpKTooaD1ncyh0aGlzLmVzKSxsPXZzKHRoaXMuZXMpLGM9eHModGhpcy5lcyksdT1fcyh0aGlzLmVzKSxNYXRoLmFicyh0aGlzLnNpbl9wMTItMSk8PW5lPyhkPXRoaXMuYSpFdChoLGwsYyx1LEspLGU9TWF0aC5zcXJ0KGkueCppLngraS55KmkueSkscD1kLWUsbj1uYShwL3RoaXMuYSxoLGwsYyx1KSxhPXVlKHRoaXMubG9uZzArTWF0aC5hdGFuMihpLngsLTEqaS55KSksaS54PWEsaS55PW4saSk6TWF0aC5hYnModGhpcy5zaW5fcDEyKzEpPD1uZT8oZD10aGlzLmEqRXQoaCxsLGMsdSxLKSxlPU1hdGguc3FydChpLngqaS54K2kueSppLnkpLHA9ZS1kLG49bmEocC90aGlzLmEsaCxsLGMsdSksYT11ZSh0aGlzLmxvbmcwK01hdGguYXRhbjIoaS54LGkueSkpLGkueD1hLGkueT1uLGkpOihlPU1hdGguc3FydChpLngqaS54K2kueSppLnkpLG09TWF0aC5hdGFuMihpLngsaS55KSxnPW1yKHRoaXMuYSx0aGlzLmUsdGhpcy5zaW5fcDEyKSx2PU1hdGguY29zKG0pLHk9dGhpcy5lKnRoaXMuY29zX3AxMip2LFQ9LXkqeS8oMS10aGlzLmVzKSx3PTMqdGhpcy5lcyooMS1UKSp0aGlzLnNpbl9wMTIqdGhpcy5jb3NfcDEyKnYvKDEtdGhpcy5lcyksYj1lL2csTD1iLVQqKDErVCkqTWF0aC5wb3coYiwzKS82LXcqKDErMypUKSpNYXRoLnBvdyhiLDQpLzI0LFA9MS1UKkwqTC8yLWIqTCpMKkwvNixmPU1hdGguYXNpbih0aGlzLnNpbl9wMTIqTWF0aC5jb3MoTCkrdGhpcy5jb3NfcDEyKk1hdGguc2luKEwpKnYpLGE9dWUodGhpcy5sb25nMCtNYXRoLmFzaW4oTWF0aC5zaW4obSkqTWF0aC5zaW4oTCkvTWF0aC5jb3MoZikpKSxrPU1hdGguc2luKGYpLG49TWF0aC5hdGFuMigoay10aGlzLmVzKlAqdGhpcy5zaW5fcDEyKSpNYXRoLnRhbihmKSxrKigxLXRoaXMuZXMpKSxpLng9YSxpLnk9bixpKSl9dmFyIHBtPVsiQXppbXV0aGFsX0VxdWlkaXN0YW50IiwiYWVxZCJdLGZtPXtpbml0OmNtLGZvcndhcmQ6dW0saW52ZXJzZTpkbSxuYW1lczpwbX07ZnVuY3Rpb24gbW0oKXt0aGlzLnNpbl9wMTQ9TWF0aC5zaW4odGhpcy5sYXQwKSx0aGlzLmNvc19wMTQ9TWF0aC5jb3ModGhpcy5sYXQwKX1mdW5jdGlvbiBnbShpKXt2YXIgZSx0LHIscyxhLG4sbyxoLGw9aS54LGM9aS55O3JldHVybiByPXVlKGwtdGhpcy5sb25nMCksZT1NYXRoLnNpbihjKSx0PU1hdGguY29zKGMpLHM9TWF0aC5jb3Mociksbj10aGlzLnNpbl9wMTQqZSt0aGlzLmNvc19wMTQqdCpzLGE9MSwobj4wfHxNYXRoLmFicyhuKTw9bmUpJiYobz10aGlzLmEqYSp0Kk1hdGguc2luKHIpLGg9dGhpcy55MCt0aGlzLmEqYSoodGhpcy5jb3NfcDE0KmUtdGhpcy5zaW5fcDE0KnQqcykpLGkueD1vLGkueT1oLGl9ZnVuY3Rpb24gdm0oaSl7dmFyIGUsdCxyLHMsYSxuLG87cmV0dXJuIGkueC09dGhpcy54MCxpLnktPXRoaXMueTAsZT1NYXRoLnNxcnQoaS54KmkueCtpLnkqaS55KSx0PVBpKGUvdGhpcy5hKSxyPU1hdGguc2luKHQpLHM9TWF0aC5jb3ModCksbj10aGlzLmxvbmcwLE1hdGguYWJzKGUpPD1uZT8obz10aGlzLmxhdDAsaS54PW4saS55PW8saSk6KG89UGkocyp0aGlzLnNpbl9wMTQraS55KnIqdGhpcy5jb3NfcDE0L2UpLGE9TWF0aC5hYnModGhpcy5sYXQwKS1LLE1hdGguYWJzKGEpPD1uZT8odGhpcy5sYXQwPj0wP249dWUodGhpcy5sb25nMCtNYXRoLmF0YW4yKGkueCwtaS55KSk6bj11ZSh0aGlzLmxvbmcwLU1hdGguYXRhbjIoLWkueCxpLnkpKSxpLng9bixpLnk9byxpKToobj11ZSh0aGlzLmxvbmcwK01hdGguYXRhbjIoaS54KnIsZSp0aGlzLmNvc19wMTQqcy1pLnkqdGhpcy5zaW5fcDE0KnIpKSxpLng9bixpLnk9byxpKSl9dmFyIHhtPVsib3J0aG8iXSxfbT17aW5pdDptbSxmb3J3YXJkOmdtLGludmVyc2U6dm0sbmFtZXM6eG19LHR0PXtGUk9OVDoxLFJJR0hUOjIsQkFDSzozLExFRlQ6NCxUT1A6NSxCT1RUT006Nn0sVmU9e0FSRUFfMDoxLEFSRUFfMToyLEFSRUFfMjozLEFSRUFfMzo0fTtmdW5jdGlvbiB5bSgpe3RoaXMueDA9dGhpcy54MHx8MCx0aGlzLnkwPXRoaXMueTB8fDAsdGhpcy5sYXQwPXRoaXMubGF0MHx8MCx0aGlzLmxvbmcwPXRoaXMubG9uZzB8fDAsdGhpcy5sYXRfdHM9dGhpcy5sYXRfdHN8fDAsdGhpcy50aXRsZT10aGlzLnRpdGxlfHwiUXVhZHJpbGF0ZXJhbGl6ZWQgU3BoZXJpY2FsIEN1YmUiLHRoaXMubGF0MD49Sy1HZS8yP3RoaXMuZmFjZT10dC5UT1A6dGhpcy5sYXQwPD0tKEstR2UvMik/dGhpcy5mYWNlPXR0LkJPVFRPTTpNYXRoLmFicyh0aGlzLmxvbmcwKTw9R2U/dGhpcy5mYWNlPXR0LkZST05UOk1hdGguYWJzKHRoaXMubG9uZzApPD1LK0dlP3RoaXMuZmFjZT10aGlzLmxvbmcwPjA/dHQuUklHSFQ6dHQuTEVGVDp0aGlzLmZhY2U9dHQuQkFDSyx0aGlzLmVzIT09MCYmKHRoaXMub25lX21pbnVzX2Y9MS0odGhpcy5hLXRoaXMuYikvdGhpcy5hLHRoaXMub25lX21pbnVzX2Zfc3F1YXJlZD10aGlzLm9uZV9taW51c19mKnRoaXMub25lX21pbnVzX2YpfWZ1bmN0aW9uIE1tKGkpe3ZhciBlPXt4OjAseTowfSx0LHIscyxhLG4sbyxoPXt2YWx1ZTowfTtpZihpLngtPXRoaXMubG9uZzAsdGhpcy5lcyE9PTA/dD1NYXRoLmF0YW4odGhpcy5vbmVfbWludXNfZl9zcXVhcmVkKk1hdGgudGFuKGkueSkpOnQ9aS55LHI9aS54LHRoaXMuZmFjZT09PXR0LlRPUClhPUstdCxyPj1HZSYmcjw9SytHZT8oaC52YWx1ZT1WZS5BUkVBXzAscz1yLUspOnI+SytHZXx8cjw9LShLK0dlKT8oaC52YWx1ZT1WZS5BUkVBXzEscz1yPjA/ci1zdDpyK3N0KTpyPi0oSytHZSkmJnI8PS1HZT8oaC52YWx1ZT1WZS5BUkVBXzIscz1yK0spOihoLnZhbHVlPVZlLkFSRUFfMyxzPXIpO2Vsc2UgaWYodGhpcy5mYWNlPT09dHQuQk9UVE9NKWE9Syt0LHI+PUdlJiZyPD1LK0dlPyhoLnZhbHVlPVZlLkFSRUFfMCxzPS1yK0spOnI8R2UmJnI+PS1HZT8oaC52YWx1ZT1WZS5BUkVBXzEscz0tcik6cjwtR2UmJnI+PS0oSytHZSk/KGgudmFsdWU9VmUuQVJFQV8yLHM9LXItSyk6KGgudmFsdWU9VmUuQVJFQV8zLHM9cj4wPy1yK3N0Oi1yLXN0KTtlbHNle3ZhciBsLGMsdSxkLHAsZyxmO3RoaXMuZmFjZT09PXR0LlJJR0hUP3I9dnIociwrSyk6dGhpcy5mYWNlPT09dHQuQkFDSz9yPXZyKHIsK3N0KTp0aGlzLmZhY2U9PT10dC5MRUZUJiYocj12cihyLC1LKSksZD1NYXRoLnNpbih0KSxwPU1hdGguY29zKHQpLGc9TWF0aC5zaW4ociksZj1NYXRoLmNvcyhyKSxsPXAqZixjPXAqZyx1PWQsdGhpcy5mYWNlPT09dHQuRlJPTlQ/KGE9TWF0aC5hY29zKGwpLHM9b2EoYSx1LGMsaCkpOnRoaXMuZmFjZT09PXR0LlJJR0hUPyhhPU1hdGguYWNvcyhjKSxzPW9hKGEsdSwtbCxoKSk6dGhpcy5mYWNlPT09dHQuQkFDSz8oYT1NYXRoLmFjb3MoLWwpLHM9b2EoYSx1LC1jLGgpKTp0aGlzLmZhY2U9PT10dC5MRUZUPyhhPU1hdGguYWNvcygtYykscz1vYShhLHUsbCxoKSk6KGE9cz0wLGgudmFsdWU9VmUuQVJFQV8wKX1yZXR1cm4gbz1NYXRoLmF0YW4oMTIvc3QqKHMrTWF0aC5hY29zKE1hdGguc2luKHMpKk1hdGguY29zKEdlKSktSykpLG49TWF0aC5zcXJ0KCgxLU1hdGguY29zKGEpKS8oTWF0aC5jb3MobykqTWF0aC5jb3MobykpLygxLU1hdGguY29zKE1hdGguYXRhbigxL01hdGguY29zKHMpKSkpKSxoLnZhbHVlPT09VmUuQVJFQV8xP28rPUs6aC52YWx1ZT09PVZlLkFSRUFfMj9vKz1zdDpoLnZhbHVlPT09VmUuQVJFQV8zJiYobys9MS41KnN0KSxlLng9bipNYXRoLmNvcyhvKSxlLnk9bipNYXRoLnNpbihvKSxlLng9ZS54KnRoaXMuYSt0aGlzLngwLGUueT1lLnkqdGhpcy5hK3RoaXMueTAsaS54PWUueCxpLnk9ZS55LGl9ZnVuY3Rpb24gYm0oaSl7dmFyIGU9e2xhbTowLHBoaTowfSx0LHIscyxhLG4sbyxoLGwsYyx1PXt2YWx1ZTowfTtpZihpLng9KGkueC10aGlzLngwKS90aGlzLmEsaS55PShpLnktdGhpcy55MCkvdGhpcy5hLHI9TWF0aC5hdGFuKE1hdGguc3FydChpLngqaS54K2kueSppLnkpKSx0PU1hdGguYXRhbjIoaS55LGkueCksaS54Pj0wJiZpLng+PU1hdGguYWJzKGkueSk/dS52YWx1ZT1WZS5BUkVBXzA6aS55Pj0wJiZpLnk+PU1hdGguYWJzKGkueCk/KHUudmFsdWU9VmUuQVJFQV8xLHQtPUspOmkueDwwJiYtaS54Pj1NYXRoLmFicyhpLnkpPyh1LnZhbHVlPVZlLkFSRUFfMix0PXQ8MD90K3N0OnQtc3QpOih1LnZhbHVlPVZlLkFSRUFfMyx0Kz1LKSxjPXN0LzEyKk1hdGgudGFuKHQpLG49TWF0aC5zaW4oYykvKE1hdGguY29zKGMpLTEvTWF0aC5zcXJ0KDIpKSxvPU1hdGguYXRhbihuKSxzPU1hdGguY29zKHQpLGE9TWF0aC50YW4ociksaD0xLXMqcyphKmEqKDEtTWF0aC5jb3MoTWF0aC5hdGFuKDEvTWF0aC5jb3MobykpKSksaDwtMT9oPS0xOmg+MSYmKGg9MSksdGhpcy5mYWNlPT09dHQuVE9QKWw9TWF0aC5hY29zKGgpLGUucGhpPUstbCx1LnZhbHVlPT09VmUuQVJFQV8wP2UubGFtPW8rSzp1LnZhbHVlPT09VmUuQVJFQV8xP2UubGFtPW88MD9vK3N0Om8tc3Q6dS52YWx1ZT09PVZlLkFSRUFfMj9lLmxhbT1vLUs6ZS5sYW09bztlbHNlIGlmKHRoaXMuZmFjZT09PXR0LkJPVFRPTSlsPU1hdGguYWNvcyhoKSxlLnBoaT1sLUssdS52YWx1ZT09PVZlLkFSRUFfMD9lLmxhbT0tbytLOnUudmFsdWU9PT1WZS5BUkVBXzE/ZS5sYW09LW86dS52YWx1ZT09PVZlLkFSRUFfMj9lLmxhbT0tby1LOmUubGFtPW88MD8tby1zdDotbytzdDtlbHNle3ZhciBkLHAsZztkPWgsYz1kKmQsYz49MT9nPTA6Zz1NYXRoLnNxcnQoMS1jKSpNYXRoLnNpbihvKSxjKz1nKmcsYz49MT9wPTA6cD1NYXRoLnNxcnQoMS1jKSx1LnZhbHVlPT09VmUuQVJFQV8xPyhjPXAscD0tZyxnPWMpOnUudmFsdWU9PT1WZS5BUkVBXzI/KHA9LXAsZz0tZyk6dS52YWx1ZT09PVZlLkFSRUFfMyYmKGM9cCxwPWcsZz0tYyksdGhpcy5mYWNlPT09dHQuUklHSFQ/KGM9ZCxkPS1wLHA9Yyk6dGhpcy5mYWNlPT09dHQuQkFDSz8oZD0tZCxwPS1wKTp0aGlzLmZhY2U9PT10dC5MRUZUJiYoYz1kLGQ9cCxwPS1jKSxlLnBoaT1NYXRoLmFjb3MoLWcpLUssZS5sYW09TWF0aC5hdGFuMihwLGQpLHRoaXMuZmFjZT09PXR0LlJJR0hUP2UubGFtPXZyKGUubGFtLC1LKTp0aGlzLmZhY2U9PT10dC5CQUNLP2UubGFtPXZyKGUubGFtLC1zdCk6dGhpcy5mYWNlPT09dHQuTEVGVCYmKGUubGFtPXZyKGUubGFtLCtLKSl9aWYodGhpcy5lcyE9PTApe3ZhciBmLG0sdjtmPWUucGhpPDA/MTowLG09TWF0aC50YW4oZS5waGkpLHY9dGhpcy5iL01hdGguc3FydChtKm0rdGhpcy5vbmVfbWludXNfZl9zcXVhcmVkKSxlLnBoaT1NYXRoLmF0YW4oTWF0aC5zcXJ0KHRoaXMuYSp0aGlzLmEtdip2KS8odGhpcy5vbmVfbWludXNfZip2KSksZiYmKGUucGhpPS1lLnBoaSl9cmV0dXJuIGUubGFtKz10aGlzLmxvbmcwLGkueD1lLmxhbSxpLnk9ZS5waGksaX1mdW5jdGlvbiBvYShpLGUsdCxyKXt2YXIgcztyZXR1cm4gaTxuZT8oci52YWx1ZT1WZS5BUkVBXzAscz0wKToocz1NYXRoLmF0YW4yKGUsdCksTWF0aC5hYnMocyk8PUdlP3IudmFsdWU9VmUuQVJFQV8wOnM+R2UmJnM8PUsrR2U/KHIudmFsdWU9VmUuQVJFQV8xLHMtPUspOnM+SytHZXx8czw9LShLK0dlKT8oci52YWx1ZT1WZS5BUkVBXzIscz1zPj0wP3Mtc3Q6cytzdCk6KHIudmFsdWU9VmUuQVJFQV8zLHMrPUspKSxzfWZ1bmN0aW9uIHZyKGksZSl7dmFyIHQ9aStlO3JldHVybiB0PC1zdD90Kz1jczp0PitzdCYmKHQtPWNzKSx0fXZhciB3bT1bIlF1YWRyaWxhdGVyYWxpemVkIFNwaGVyaWNhbCBDdWJlIiwiUXVhZHJpbGF0ZXJhbGl6ZWRfU3BoZXJpY2FsX0N1YmUiLCJxc2MiXSxTbT17aW5pdDp5bSxmb3J3YXJkOk1tLGludmVyc2U6Ym0sbmFtZXM6d219LF9uPVtbMSwyMjE5OWUtMjEsLTcxNTUxNWUtMTAsMzExMDNlLTEwXSxbLjk5ODYsLTQ4MjI0M2UtOSwtMjQ4OTdlLTksLTEzMzA5ZS0xMF0sWy45OTU0LC04MzEwM2UtOCwtNDQ4NjA1ZS0xMCwtOTg2NzAxZS0xMl0sWy45OSwtLjAwMTM1MzY0LC01OTY2MWUtOSwzNjc3N2UtMTBdLFsuOTgyMiwtLjAwMTY3NDQyLC00NDk1NDdlLTExLC01NzI0MTFlLTExXSxbLjk3MywtLjAwMjE0ODY4LC05MDM1NzFlLTEwLDE4NzM2ZS0xMl0sWy45NiwtLjAwMzA1MDg1LC05MDA3NjFlLTEwLDE2NDkxN2UtMTFdLFsuOTQyNywtLjAwMzgyNzkyLC02NTMzODZlLTEwLC0yNjE1NGUtMTBdLFsuOTIxNiwtLjAwNDY3NzQ2LC0xMDQ1N2UtOCw0ODEyNDNlLTExXSxbLjg5NjIsLS4wMDUzNjIyMywtMzIzODMxZS0xMCwtNTQzNDMyZS0xMV0sWy44Njc5LC0uMDA2MDkzNjMsLTExMzg5OGUtOSwzMzI0ODRlLTExXSxbLjgzNSwtLjAwNjk4MzI1LC02NDAyNTNlLTEwLDkzNDk1OWUtMTJdLFsuNzk4NiwtLjAwNzU1MzM4LC01MDAwMDllLTEwLDkzNTMyNGUtMTJdLFsuNzU5NywtLjAwNzk4MzI0LC0zNTk3MWUtOSwtMjI3NjI2ZS0xMV0sWy43MTg2LC0uMDA4NTEzNjcsLTcwMTE0OWUtMTAsLTg2MzAzZS0xMF0sWy42NzMyLC0uMDA5ODYyMDksLTE5OTU2OWUtOSwxOTE5NzRlLTEwXSxbLjYyMTMsLS4wMTA0MTgsODgzOTIzZS0xMCw2MjQwNTFlLTExXSxbLjU3MjIsLS4wMDkwNjYwMSwxODJlLTYsNjI0MDUxZS0xMV0sWy41MzIyLC0uMDA2Nzc3OTcsMjc1NjA4ZS05LDYyNDA1MWUtMTFdXSx5cz1bWy01MjA0MTdlLTIzLC4wMTI0LDEyMTQzMWUtMjMsLTg0NTI4NGUtMTZdLFsuMDYyLC4wMTI0LC0xMjY3OTNlLTE0LDQyMjY0MmUtMTVdLFsuMTI0LC4wMTI0LDUwNzE3MWUtMTQsLTE2MDYwNGUtMTRdLFsuMTg2LC4wMTIzOTk5LC0xOTAxODllLTEzLDYwMDE1MmUtMTRdLFsuMjQ4LC4wMTI0MDAyLDcxMDAzOWUtMTMsLTIyNGUtMTBdLFsuMzEsLjAxMjM5OTIsLTI2NDk5N2UtMTIsODM1OTg2ZS0xM10sWy4zNzIsLjAxMjQwMjksOTg4OTgzZS0xMiwtMzExOTk0ZS0xMl0sWy40MzQsLjAxMjM4OTMsLTM2OTA5M2UtMTEsLTQzNTYyMWUtMTJdLFsuNDk1OCwuMDEyMzE5OCwtMTAyMjUyZS0xMCwtMzQ1NTIzZS0xMl0sWy41NTcxLC4wMTIxOTE2LC0xNTQwODFlLTEwLC01ODIyODhlLTEyXSxbLjYxNzYsLjAxMTk5MzgsLTI0MTQyNGUtMTAsLTUyNTMyN2UtMTJdLFsuNjc2OSwuMDExNzEzLC0zMjAyMjNlLTEwLC01MTY0MDVlLTEyXSxbLjczNDYsLjAxMTM1NDEsLTM5NzY4NGUtMTAsLTYwOTA1MmUtMTJdLFsuNzkwMywuMDEwOTEwNywtNDg5MDQyZS0xMCwtMTA0NzM5ZS0xMV0sWy44NDM1LC4wMTAzNDMxLC02NDYxNWUtOSwtMTQwMzc0ZS0xNF0sWy44OTM2LC4wMDk2OTY4NiwtNjQ2MzZlLTksLTg1NDdlLTldLFsuOTM5NCwuMDA4NDA5NDcsLTE5Mjg0MWUtOSwtNDIxMDZlLTEwXSxbLjk3NjEsLjAwNjE2NTI3LC0yNTZlLTYsLTQyMTA2ZS0xMF0sWzEsLjAwMzI4OTQ3LC0zMTkxNTllLTksLTQyMTA2ZS0xMF1dLFBoPS44NDg3LEloPTEuMzUyMyxOaD10aS81LEVtPTEvTmgseHI9MTgsaGE9ZnVuY3Rpb24oaSxlKXtyZXR1cm4gaVswXStlKihpWzFdK2UqKGlbMl0rZSppWzNdKSl9LFRtPWZ1bmN0aW9uKGksZSl7cmV0dXJuIGlbMV0rZSooMippWzJdK2UqMyppWzNdKX07ZnVuY3Rpb24gQW0oaSxlLHQscil7Zm9yKHZhciBzPWU7cjstLXIpe3ZhciBhPWkocyk7aWYocy09YSxNYXRoLmFicyhhKTx0KWJyZWFrfXJldHVybiBzfWZ1bmN0aW9uIENtKCl7dGhpcy54MD10aGlzLngwfHwwLHRoaXMueTA9dGhpcy55MHx8MCx0aGlzLmxvbmcwPXRoaXMubG9uZzB8fDAsdGhpcy5lcz0wLHRoaXMudGl0bGU9dGhpcy50aXRsZXx8IlJvYmluc29uIn1mdW5jdGlvbiBMbShpKXt2YXIgZT11ZShpLngtdGhpcy5sb25nMCksdD1NYXRoLmFicyhpLnkpLHI9TWF0aC5mbG9vcih0Kk5oKTtyPDA/cj0wOnI+PXhyJiYocj14ci0xKSx0PXRpKih0LUVtKnIpO3ZhciBzPXt4OmhhKF9uW3JdLHQpKmUseTpoYSh5c1tyXSx0KX07cmV0dXJuIGkueTwwJiYocy55PS1zLnkpLHMueD1zLngqdGhpcy5hKlBoK3RoaXMueDAscy55PXMueSp0aGlzLmEqSWgrdGhpcy55MCxzfWZ1bmN0aW9uIFJtKGkpe3ZhciBlPXt4OihpLngtdGhpcy54MCkvKHRoaXMuYSpQaCkseTpNYXRoLmFicyhpLnktdGhpcy55MCkvKHRoaXMuYSpJaCl9O2lmKGUueT49MSllLngvPV9uW3hyXVswXSxlLnk9aS55PDA/LUs6SztlbHNle3ZhciB0PU1hdGguZmxvb3IoZS55KnhyKTtmb3IodDwwP3Q9MDp0Pj14ciYmKHQ9eHItMSk7OylpZih5c1t0XVswXT5lLnkpLS10O2Vsc2UgaWYoeXNbdCsxXVswXTw9ZS55KSsrdDtlbHNlIGJyZWFrO3ZhciByPXlzW3RdLHM9NSooZS55LXJbMF0pLyh5c1t0KzFdWzBdLXJbMF0pO3M9QW0oZnVuY3Rpb24oYSl7cmV0dXJuKGhhKHIsYSktZS55KS9UbShyLGEpfSxzLG5lLDEwMCksZS54Lz1oYShfblt0XSxzKSxlLnk9KDUqdCtzKSpndCxpLnk8MCYmKGUueT0tZS55KX1yZXR1cm4gZS54PXVlKGUueCt0aGlzLmxvbmcwKSxlfXZhciBQbT1bIlJvYmluc29uIiwicm9iaW4iXSxJbT17aW5pdDpDbSxmb3J3YXJkOkxtLGludmVyc2U6Um0sbmFtZXM6UG19O2Z1bmN0aW9uIE5tKCl7dGhpcy5uYW1lPSJnZW9jZW50In1mdW5jdGlvbiBEbShpKXt2YXIgZT1uaChpLHRoaXMuZXMsdGhpcy5hKTtyZXR1cm4gZX1mdW5jdGlvbiBPbShpKXt2YXIgZT1vaChpLHRoaXMuZXMsdGhpcy5hLHRoaXMuYik7cmV0dXJuIGV9dmFyIHptPVsiR2VvY2VudHJpYyIsImdlb2NlbnRyaWMiLCJnZW9jZW50IiwiR2VvY2VudCJdLEJtPXtpbml0Ok5tLGZvcndhcmQ6RG0saW52ZXJzZTpPbSxuYW1lczp6bX0sX3Q9e05fUE9MRTowLFNfUE9MRToxLEVRVUlUOjIsT0JMSVE6M30sTXM9e2g6e2RlZjoxZTUsbnVtOiEwfSxhemk6e2RlZjowLG51bTohMCxkZWdyZWVzOiEwfSx0aWx0OntkZWY6MCxudW06ITAsZGVncmVlczohMH0sbG9uZzA6e2RlZjowLG51bTohMH0sbGF0MDp7ZGVmOjAsbnVtOiEwfX07ZnVuY3Rpb24gVW0oKXtpZihPYmplY3Qua2V5cyhNcykuZm9yRWFjaChmdW5jdGlvbih0KXtpZih0eXBlb2YgdGhpc1t0XT4idSIpdGhpc1t0XT1Nc1t0XS5kZWY7ZWxzZXtpZihNc1t0XS5udW0mJmlzTmFOKHRoaXNbdF0pKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBwYXJhbWV0ZXIgdmFsdWUsIG11c3QgYmUgbnVtZXJpYyAiK3QrIiA9ICIrdGhpc1t0XSk7TXNbdF0ubnVtJiYodGhpc1t0XT1wYXJzZUZsb2F0KHRoaXNbdF0pKX1Nc1t0XS5kZWdyZWVzJiYodGhpc1t0XT10aGlzW3RdKmd0KX0uYmluZCh0aGlzKSksTWF0aC5hYnMoTWF0aC5hYnModGhpcy5sYXQwKS1LKTxuZT90aGlzLm1vZGU9dGhpcy5sYXQwPDA/X3QuU19QT0xFOl90Lk5fUE9MRTpNYXRoLmFicyh0aGlzLmxhdDApPG5lP3RoaXMubW9kZT1fdC5FUVVJVDoodGhpcy5tb2RlPV90Lk9CTElRLHRoaXMuc2lucGgwPU1hdGguc2luKHRoaXMubGF0MCksdGhpcy5jb3NwaDA9TWF0aC5jb3ModGhpcy5sYXQwKSksdGhpcy5wbjE9dGhpcy5oL3RoaXMuYSx0aGlzLnBuMTw9MHx8dGhpcy5wbjE+MWUxMCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgaGVpZ2h0Iik7dGhpcy5wPTErdGhpcy5wbjEsdGhpcy5ycD0xL3RoaXMucCx0aGlzLmgxPTEvdGhpcy5wbjEsdGhpcy5wZmFjdD0odGhpcy5wKzEpKnRoaXMuaDEsdGhpcy5lcz0wO3ZhciBpPXRoaXMudGlsdCxlPXRoaXMuYXppO3RoaXMuY2c9TWF0aC5jb3MoZSksdGhpcy5zZz1NYXRoLnNpbihlKSx0aGlzLmN3PU1hdGguY29zKGkpLHRoaXMuc3c9TWF0aC5zaW4oaSl9ZnVuY3Rpb24gRm0oaSl7aS54LT10aGlzLmxvbmcwO3ZhciBlPU1hdGguc2luKGkueSksdD1NYXRoLmNvcyhpLnkpLHI9TWF0aC5jb3MoaS54KSxzLGE7c3dpdGNoKHRoaXMubW9kZSl7Y2FzZSBfdC5PQkxJUTphPXRoaXMuc2lucGgwKmUrdGhpcy5jb3NwaDAqdCpyO2JyZWFrO2Nhc2UgX3QuRVFVSVQ6YT10KnI7YnJlYWs7Y2FzZSBfdC5TX1BPTEU6YT0tZTticmVhaztjYXNlIF90Lk5fUE9MRTphPWU7YnJlYWt9c3dpdGNoKGE9dGhpcy5wbjEvKHRoaXMucC1hKSxzPWEqdCpNYXRoLnNpbihpLngpLHRoaXMubW9kZSl7Y2FzZSBfdC5PQkxJUTphKj10aGlzLmNvc3BoMCplLXRoaXMuc2lucGgwKnQqcjticmVhaztjYXNlIF90LkVRVUlUOmEqPWU7YnJlYWs7Y2FzZSBfdC5OX1BPTEU6YSo9LSh0KnIpO2JyZWFrO2Nhc2UgX3QuU19QT0xFOmEqPXQqcjticmVha312YXIgbixvO3JldHVybiBuPWEqdGhpcy5jZytzKnRoaXMuc2csbz0xLyhuKnRoaXMuc3cqdGhpcy5oMSt0aGlzLmN3KSxzPShzKnRoaXMuY2ctYSp0aGlzLnNnKSp0aGlzLmN3Km8sYT1uKm8saS54PXMqdGhpcy5hLGkueT1hKnRoaXMuYSxpfWZ1bmN0aW9uIEhtKGkpe2kueC89dGhpcy5hLGkueS89dGhpcy5hO3ZhciBlPXt4OmkueCx5OmkueX0sdCxyLHM7cz0xLyh0aGlzLnBuMS1pLnkqdGhpcy5zdyksdD10aGlzLnBuMSppLngqcyxyPXRoaXMucG4xKmkueSp0aGlzLmN3KnMsaS54PXQqdGhpcy5jZytyKnRoaXMuc2csaS55PXIqdGhpcy5jZy10KnRoaXMuc2c7dmFyIGE9V3QoaS54LGkueSk7aWYoTWF0aC5hYnMoYSk8bmUpZS54PTAsZS55PWkueTtlbHNle3ZhciBuLG87c3dpdGNoKG89MS1hKmEqdGhpcy5wZmFjdCxvPSh0aGlzLnAtTWF0aC5zcXJ0KG8pKS8odGhpcy5wbjEvYSthL3RoaXMucG4xKSxuPU1hdGguc3FydCgxLW8qbyksdGhpcy5tb2RlKXtjYXNlIF90Lk9CTElROmUueT1NYXRoLmFzaW4obip0aGlzLnNpbnBoMCtpLnkqbyp0aGlzLmNvc3BoMC9hKSxpLnk9KG4tdGhpcy5zaW5waDAqTWF0aC5zaW4oZS55KSkqYSxpLngqPW8qdGhpcy5jb3NwaDA7YnJlYWs7Y2FzZSBfdC5FUVVJVDplLnk9TWF0aC5hc2luKGkueSpvL2EpLGkueT1uKmEsaS54Kj1vO2JyZWFrO2Nhc2UgX3QuTl9QT0xFOmUueT1NYXRoLmFzaW4obiksaS55PS1pLnk7YnJlYWs7Y2FzZSBfdC5TX1BPTEU6ZS55PS1NYXRoLmFzaW4obik7YnJlYWt9ZS54PU1hdGguYXRhbjIoaS54LGkueSl9cmV0dXJuIGkueD1lLngrdGhpcy5sb25nMCxpLnk9ZS55LGl9dmFyIGttPVsiVGlsdGVkX1BlcnNwZWN0aXZlIiwidHBlcnMiXSxHbT17aW5pdDpVbSxmb3J3YXJkOkZtLGludmVyc2U6SG0sbmFtZXM6a219O2Z1bmN0aW9uIFZtKCl7aWYodGhpcy5mbGlwX2F4aXM9dGhpcy5zd2VlcD09PSJ4Ij8xOjAsdGhpcy5oPU51bWJlcih0aGlzLmgpLHRoaXMucmFkaXVzX2dfMT10aGlzLmgvdGhpcy5hLHRoaXMucmFkaXVzX2dfMTw9MHx8dGhpcy5yYWRpdXNfZ18xPjFlMTApdGhyb3cgbmV3IEVycm9yO2lmKHRoaXMucmFkaXVzX2c9MSt0aGlzLnJhZGl1c19nXzEsdGhpcy5DPXRoaXMucmFkaXVzX2cqdGhpcy5yYWRpdXNfZy0xLHRoaXMuZXMhPT0wKXt2YXIgaT0xLXRoaXMuZXMsZT0xL2k7dGhpcy5yYWRpdXNfcD1NYXRoLnNxcnQoaSksdGhpcy5yYWRpdXNfcDI9aSx0aGlzLnJhZGl1c19wX2ludjI9ZSx0aGlzLnNoYXBlPSJlbGxpcHNlIn1lbHNlIHRoaXMucmFkaXVzX3A9MSx0aGlzLnJhZGl1c19wMj0xLHRoaXMucmFkaXVzX3BfaW52Mj0xLHRoaXMuc2hhcGU9InNwaGVyZSI7dGhpcy50aXRsZXx8KHRoaXMudGl0bGU9Ikdlb3N0YXRpb25hcnkgU2F0ZWxsaXRlIFZpZXciKX1mdW5jdGlvbiBXbShpKXt2YXIgZT1pLngsdD1pLnkscixzLGEsbjtpZihlPWUtdGhpcy5sb25nMCx0aGlzLnNoYXBlPT09ImVsbGlwc2UiKXt0PU1hdGguYXRhbih0aGlzLnJhZGl1c19wMipNYXRoLnRhbih0KSk7dmFyIG89dGhpcy5yYWRpdXNfcC9XdCh0aGlzLnJhZGl1c19wKk1hdGguY29zKHQpLE1hdGguc2luKHQpKTtpZihzPW8qTWF0aC5jb3MoZSkqTWF0aC5jb3ModCksYT1vKk1hdGguc2luKGUpKk1hdGguY29zKHQpLG49bypNYXRoLnNpbih0KSwodGhpcy5yYWRpdXNfZy1zKSpzLWEqYS1uKm4qdGhpcy5yYWRpdXNfcF9pbnYyPDApcmV0dXJuIGkueD1OdW1iZXIuTmFOLGkueT1OdW1iZXIuTmFOLGk7cj10aGlzLnJhZGl1c19nLXMsdGhpcy5mbGlwX2F4aXM/KGkueD10aGlzLnJhZGl1c19nXzEqTWF0aC5hdGFuKGEvV3QobixyKSksaS55PXRoaXMucmFkaXVzX2dfMSpNYXRoLmF0YW4obi9yKSk6KGkueD10aGlzLnJhZGl1c19nXzEqTWF0aC5hdGFuKGEvciksaS55PXRoaXMucmFkaXVzX2dfMSpNYXRoLmF0YW4obi9XdChhLHIpKSl9ZWxzZSB0aGlzLnNoYXBlPT09InNwaGVyZSImJihyPU1hdGguY29zKHQpLHM9TWF0aC5jb3MoZSkqcixhPU1hdGguc2luKGUpKnIsbj1NYXRoLnNpbih0KSxyPXRoaXMucmFkaXVzX2ctcyx0aGlzLmZsaXBfYXhpcz8oaS54PXRoaXMucmFkaXVzX2dfMSpNYXRoLmF0YW4oYS9XdChuLHIpKSxpLnk9dGhpcy5yYWRpdXNfZ18xKk1hdGguYXRhbihuL3IpKTooaS54PXRoaXMucmFkaXVzX2dfMSpNYXRoLmF0YW4oYS9yKSxpLnk9dGhpcy5yYWRpdXNfZ18xKk1hdGguYXRhbihuL1d0KGEscikpKSk7cmV0dXJuIGkueD1pLngqdGhpcy5hLGkueT1pLnkqdGhpcy5hLGl9ZnVuY3Rpb24gam0oaSl7dmFyIGU9LTEsdD0wLHI9MCxzLGEsbixvO2lmKGkueD1pLngvdGhpcy5hLGkueT1pLnkvdGhpcy5hLHRoaXMuc2hhcGU9PT0iZWxsaXBzZSIpe3RoaXMuZmxpcF9heGlzPyhyPU1hdGgudGFuKGkueS90aGlzLnJhZGl1c19nXzEpLHQ9TWF0aC50YW4oaS54L3RoaXMucmFkaXVzX2dfMSkqV3QoMSxyKSk6KHQ9TWF0aC50YW4oaS54L3RoaXMucmFkaXVzX2dfMSkscj1NYXRoLnRhbihpLnkvdGhpcy5yYWRpdXNfZ18xKSpXdCgxLHQpKTt2YXIgaD1yL3RoaXMucmFkaXVzX3A7aWYocz10KnQraCpoK2UqZSxhPTIqdGhpcy5yYWRpdXNfZyplLG49YSphLTQqcyp0aGlzLkMsbjwwKXJldHVybiBpLng9TnVtYmVyLk5hTixpLnk9TnVtYmVyLk5hTixpO289KC1hLU1hdGguc3FydChuKSkvKDIqcyksZT10aGlzLnJhZGl1c19nK28qZSx0Kj1vLHIqPW8saS54PU1hdGguYXRhbjIodCxlKSxpLnk9TWF0aC5hdGFuKHIqTWF0aC5jb3MoaS54KS9lKSxpLnk9TWF0aC5hdGFuKHRoaXMucmFkaXVzX3BfaW52MipNYXRoLnRhbihpLnkpKX1lbHNlIGlmKHRoaXMuc2hhcGU9PT0ic3BoZXJlIil7aWYodGhpcy5mbGlwX2F4aXM/KHI9TWF0aC50YW4oaS55L3RoaXMucmFkaXVzX2dfMSksdD1NYXRoLnRhbihpLngvdGhpcy5yYWRpdXNfZ18xKSpNYXRoLnNxcnQoMStyKnIpKToodD1NYXRoLnRhbihpLngvdGhpcy5yYWRpdXNfZ18xKSxyPU1hdGgudGFuKGkueS90aGlzLnJhZGl1c19nXzEpKk1hdGguc3FydCgxK3QqdCkpLHM9dCp0K3IqcitlKmUsYT0yKnRoaXMucmFkaXVzX2cqZSxuPWEqYS00KnMqdGhpcy5DLG48MClyZXR1cm4gaS54PU51bWJlci5OYU4saS55PU51bWJlci5OYU4saTtvPSgtYS1NYXRoLnNxcnQobikpLygyKnMpLGU9dGhpcy5yYWRpdXNfZytvKmUsdCo9byxyKj1vLGkueD1NYXRoLmF0YW4yKHQsZSksaS55PU1hdGguYXRhbihyKk1hdGguY29zKGkueCkvZSl9cmV0dXJuIGkueD1pLngrdGhpcy5sb25nMCxpfXZhciBxbT1bIkdlb3N0YXRpb25hcnkgU2F0ZWxsaXRlIFZpZXciLCJHZW9zdGF0aW9uYXJ5X1NhdGVsbGl0ZSIsImdlb3MiXSxYbT17aW5pdDpWbSxmb3J3YXJkOldtLGludmVyc2U6am0sbmFtZXM6cW19O2Z1bmN0aW9uIEptKGkpe2kuUHJvai5wcm9qZWN0aW9ucy5hZGQoc2EpLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoYWEpLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoJGQpLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQobHApLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQobXApLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoeXApLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoVHApLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoUHApLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoenApLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoa3ApLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoYWYpLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQodWYpLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoZ2YpLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoYmYpLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoQWYpLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoSWYpLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoQmYpLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoR2YpLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoSmYpLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoJGYpLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoc20pLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQobG0pLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoZm0pLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoX20pLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoU20pLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoSW0pLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoQm0pLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoR20pLGkuUHJvai5wcm9qZWN0aW9ucy5hZGQoWG0pfU90LmRlZmF1bHREYXR1bT0iV0dTODQiLE90LlByb2o9cmksT3QuV0dTODQ9bmV3IE90LlByb2ooIldHUzg0IiksT3QuUG9pbnQ9cHIsT3QudG9Qb2ludD11aCxPdC5kZWZzPVN0LE90Lm5hZGdyaWQ9dGQsT3QudHJhbnNmb3JtPWlhLE90Lm1ncnM9dmQsT3QudmVyc2lvbj0iX19WRVJTSU9OX18iLEptKE90KTtjb25zdCB5bj0iMTM5IixZbT0wLERoPTEsWm09MixPaD0xLEttPTIsYnM9Myx3cz0wLGp0PTEsX3I9Mix6aD0xLElpPTAseXI9MSxCaD0yLFVoPTMsRmg9NCxRbT01LE1yPTEwMCwkbT0xMDEsZWc9MTAyLEhoPTEwMyxraD0xMDQsdGc9MjAwLGlnPTIwMSxyZz0yMDIsc2c9MjAzLEdoPTIwNCxWaD0yMDUsYWc9MjA2LG5nPTIwNyxvZz0yMDgsaGc9MjA5LGxnPTIxMCxjZz0wLHVnPTEsZGc9MixNbj0zLHBnPTQsZmc9NSxtZz02LGdnPTcsbGE9MCx2Zz0xLHhnPTIseGk9MCxfZz0xLHlnPTIsTWc9MyxiZz00LHdnPTUsV2g9MzAwLGJyPTMwMSx3cj0zMDIsYm49MzAzLHduPTMwNCxjYT0zMDYsU249MWUzLHF0PTEwMDEsRW49MTAwMix1dD0xMDAzLGpoPTEwMDQscWg9MTAwNSxJdD0xMDA2LFNnPTEwMDcsdWE9MTAwOCxKaT0xMDA5LEVnPTEwMTAsVGc9MTAxMSxTcz0xMDEyLEFnPTEwMTMsZGE9MTAxNCxZaT0xMDE1LFNyPTEwMTYsQ2c9MTAxNyxMZz0xMDE4LEVyPTEwMjAsUmc9MTAyMSxQZz0xMDIyLFh0PTEwMjMsSWc9MTAyNCxOZz0xMDI1LFppPTEwMjYsVHI9MTAyNyxEZz0xMDI4LE9nPTEwMjksemc9MTAzMCxCZz0xMDMxLFVnPTEwMzMsVG49MzM3NzYsQW49MzM3NzcsQ249MzM3NzgsTG49MzM3NzksWGg9MzU4NDAsSmg9MzU4NDEsWWg9MzU4NDIsWmg9MzU4NDMsRmc9MzYxOTYsS2g9Mzc0OTIsUWg9Mzc0OTYsJGg9Mzc4MDgsZWw9Mzc4MDksdGw9Mzc4MTAsaWw9Mzc4MTEscmw9Mzc4MTIsc2w9Mzc4MTMsYWw9Mzc4MTQsbmw9Mzc4MTUsb2w9Mzc4MTYsaGw9Mzc4MTcsbGw9Mzc4MTgsY2w9Mzc4MTksdWw9Mzc4MjAsZGw9Mzc4MjEscGw9MzY0OTIsSGc9MjIwMCxrZz0yMjAxLEdnPTIyMDIscGE9MjMwMCxmYT0yMzAxLFJuPTIzMDIsQXI9MjQwMCxDcj0yNDAxLG1hPTI0MDIsUG49MjUwMCxmbD0yNTAxLFZnPTAsX2k9M2UzLFFlPTMwMDEsV2c9MzIwMCxqZz0zMjAxLExyPTAscWc9MSx5aT0ic3JnYiIsS2k9InNyZ2ItbGluZWFyIixJbj03NjgwLFhnPTUxOSxFcz0zNTA0NCxnYT0zNTA0OCxtbD0iMzAwIGVzIixObj0xMDM1O2NsYXNzIFFpe2FkZEV2ZW50TGlzdGVuZXIoZSx0KXt0aGlzLl9saXN0ZW5lcnM9PT12b2lkIDAmJih0aGlzLl9saXN0ZW5lcnM9e30pO2NvbnN0IHI9dGhpcy5fbGlzdGVuZXJzO3JbZV09PT12b2lkIDAmJihyW2VdPVtdKSxyW2VdLmluZGV4T2YodCk9PT0tMSYmcltlXS5wdXNoKHQpfWhhc0V2ZW50TGlzdGVuZXIoZSx0KXtpZih0aGlzLl9saXN0ZW5lcnM9PT12b2lkIDApcmV0dXJuITE7Y29uc3Qgcj10aGlzLl9saXN0ZW5lcnM7cmV0dXJuIHJbZV0hPT12b2lkIDAmJnJbZV0uaW5kZXhPZih0KSE9PS0xfXJlbW92ZUV2ZW50TGlzdGVuZXIoZSx0KXtpZih0aGlzLl9saXN0ZW5lcnM9PT12b2lkIDApcmV0dXJuO2NvbnN0IHI9dGhpcy5fbGlzdGVuZXJzW2VdO2lmKHIhPT12b2lkIDApe2NvbnN0IHM9ci5pbmRleE9mKHQpO3MhPT0tMSYmci5zcGxpY2UocywxKX19ZGlzcGF0Y2hFdmVudChlKXtpZih0aGlzLl9saXN0ZW5lcnM9PT12b2lkIDApcmV0dXJuO2NvbnN0IHQ9dGhpcy5fbGlzdGVuZXJzW2UudHlwZV07aWYodCE9PXZvaWQgMCl7ZS50YXJnZXQ9dGhpcztjb25zdCByPXQuc2xpY2UoMCk7Zm9yKGxldCBzPTAsYT1yLmxlbmd0aDtzPGE7cysrKXJbc10uY2FsbCh0aGlzLGUpO2UudGFyZ2V0PW51bGx9fX1jb25zdCB2dD1bXTtmb3IobGV0IGk9MDtpPDI1NjtpKyspdnRbaV09KGk8MTY/IjAiOiIiKStpLnRvU3RyaW5nKDE2KTtjb25zdCBEbj1NYXRoLlBJLzE4MCxPbj0xODAvTWF0aC5QSTtmdW5jdGlvbiBzaSgpe2NvbnN0IGk9TWF0aC5yYW5kb20oKSo0Mjk0OTY3Mjk1fDAsZT1NYXRoLnJhbmRvbSgpKjQyOTQ5NjcyOTV8MCx0PU1hdGgucmFuZG9tKCkqNDI5NDk2NzI5NXwwLHI9TWF0aC5yYW5kb20oKSo0Mjk0OTY3Mjk1fDA7cmV0dXJuKHZ0W2kmMjU1XSt2dFtpPj44JjI1NV0rdnRbaT4+MTYmMjU1XSt2dFtpPj4yNCYyNTVdKyItIit2dFtlJjI1NV0rdnRbZT4+OCYyNTVdKyItIit2dFtlPj4xNiYxNXw2NF0rdnRbZT4+MjQmMjU1XSsiLSIrdnRbdCY2M3wxMjhdK3Z0W3Q+PjgmMjU1XSsiLSIrdnRbdD4+MTYmMjU1XSt2dFt0Pj4yNCYyNTVdK3Z0W3ImMjU1XSt2dFtyPj44JjI1NV0rdnRbcj4+MTYmMjU1XSt2dFtyPj4yNCYyNTVdKS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIHl0KGksZSx0KXtyZXR1cm4gTWF0aC5tYXgoZSxNYXRoLm1pbih0LGkpKX1mdW5jdGlvbiBKZyhpLGUpe3JldHVybihpJWUrZSklZX1mdW5jdGlvbiB6bihpLGUsdCl7cmV0dXJuKDEtdCkqaSt0KmV9ZnVuY3Rpb24gZ2woaSl7cmV0dXJuKGkmaS0xKT09PTAmJmkhPT0wfWZ1bmN0aW9uIEJuKGkpe3JldHVybiBNYXRoLnBvdygyLE1hdGguZmxvb3IoTWF0aC5sb2coaSkvTWF0aC5MTjIpKX1jbGFzcyBlZXtjb25zdHJ1Y3RvcihlPTAsdD0wKXt0aGlzLng9ZSx0aGlzLnk9dH1nZXQgd2lkdGgoKXtyZXR1cm4gdGhpcy54fXNldCB3aWR0aChlKXt0aGlzLng9ZX1nZXQgaGVpZ2h0KCl7cmV0dXJuIHRoaXMueX1zZXQgaGVpZ2h0KGUpe3RoaXMueT1lfXNldChlLHQpe3JldHVybiB0aGlzLng9ZSx0aGlzLnk9dCx0aGlzfXNldFNjYWxhcihlKXtyZXR1cm4gdGhpcy54PWUsdGhpcy55PWUsdGhpc31zZXRYKGUpe3JldHVybiB0aGlzLng9ZSx0aGlzfXNldFkoZSl7cmV0dXJuIHRoaXMueT1lLHRoaXN9c2V0Q29tcG9uZW50KGUsdCl7c3dpdGNoKGUpe2Nhc2UgMDp0aGlzLng9dDticmVhaztjYXNlIDE6dGhpcy55PXQ7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoImluZGV4IGlzIG91dCBvZiByYW5nZTogIitlKX1yZXR1cm4gdGhpc31nZXRDb21wb25lbnQoZSl7c3dpdGNoKGUpe2Nhc2UgMDpyZXR1cm4gdGhpcy54O2Nhc2UgMTpyZXR1cm4gdGhpcy55O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJpbmRleCBpcyBvdXQgb2YgcmFuZ2U6ICIrZSl9fWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueCx0aGlzLnkpfWNvcHkoZSl7cmV0dXJuIHRoaXMueD1lLngsdGhpcy55PWUueSx0aGlzfWFkZChlLHQpe3JldHVybiB0IT09dm9pZCAwPyhjb25zb2xlLndhcm4oIlRIUkVFLlZlY3RvcjI6IC5hZGQoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5hZGRWZWN0b3JzKCBhLCBiICkgaW5zdGVhZC4iKSx0aGlzLmFkZFZlY3RvcnMoZSx0KSk6KHRoaXMueCs9ZS54LHRoaXMueSs9ZS55LHRoaXMpfWFkZFNjYWxhcihlKXtyZXR1cm4gdGhpcy54Kz1lLHRoaXMueSs9ZSx0aGlzfWFkZFZlY3RvcnMoZSx0KXtyZXR1cm4gdGhpcy54PWUueCt0LngsdGhpcy55PWUueSt0LnksdGhpc31hZGRTY2FsZWRWZWN0b3IoZSx0KXtyZXR1cm4gdGhpcy54Kz1lLngqdCx0aGlzLnkrPWUueSp0LHRoaXN9c3ViKGUsdCl7cmV0dXJuIHQhPT12b2lkIDA/KGNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yMjogLnN1YigpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLnN1YlZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLiIpLHRoaXMuc3ViVmVjdG9ycyhlLHQpKToodGhpcy54LT1lLngsdGhpcy55LT1lLnksdGhpcyl9c3ViU2NhbGFyKGUpe3JldHVybiB0aGlzLngtPWUsdGhpcy55LT1lLHRoaXN9c3ViVmVjdG9ycyhlLHQpe3JldHVybiB0aGlzLng9ZS54LXQueCx0aGlzLnk9ZS55LXQueSx0aGlzfW11bHRpcGx5KGUpe3JldHVybiB0aGlzLngqPWUueCx0aGlzLnkqPWUueSx0aGlzfW11bHRpcGx5U2NhbGFyKGUpe3JldHVybiB0aGlzLngqPWUsdGhpcy55Kj1lLHRoaXN9ZGl2aWRlKGUpe3JldHVybiB0aGlzLngvPWUueCx0aGlzLnkvPWUueSx0aGlzfWRpdmlkZVNjYWxhcihlKXtyZXR1cm4gdGhpcy5tdWx0aXBseVNjYWxhcigxL2UpfWFwcGx5TWF0cml4MyhlKXtjb25zdCB0PXRoaXMueCxyPXRoaXMueSxzPWUuZWxlbWVudHM7cmV0dXJuIHRoaXMueD1zWzBdKnQrc1szXSpyK3NbNl0sdGhpcy55PXNbMV0qdCtzWzRdKnIrc1s3XSx0aGlzfW1pbihlKXtyZXR1cm4gdGhpcy54PU1hdGgubWluKHRoaXMueCxlLngpLHRoaXMueT1NYXRoLm1pbih0aGlzLnksZS55KSx0aGlzfW1heChlKXtyZXR1cm4gdGhpcy54PU1hdGgubWF4KHRoaXMueCxlLngpLHRoaXMueT1NYXRoLm1heCh0aGlzLnksZS55KSx0aGlzfWNsYW1wKGUsdCl7cmV0dXJuIHRoaXMueD1NYXRoLm1heChlLngsTWF0aC5taW4odC54LHRoaXMueCkpLHRoaXMueT1NYXRoLm1heChlLnksTWF0aC5taW4odC55LHRoaXMueSkpLHRoaXN9Y2xhbXBTY2FsYXIoZSx0KXtyZXR1cm4gdGhpcy54PU1hdGgubWF4KGUsTWF0aC5taW4odCx0aGlzLngpKSx0aGlzLnk9TWF0aC5tYXgoZSxNYXRoLm1pbih0LHRoaXMueSkpLHRoaXN9Y2xhbXBMZW5ndGgoZSx0KXtjb25zdCByPXRoaXMubGVuZ3RoKCk7cmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKHJ8fDEpLm11bHRpcGx5U2NhbGFyKE1hdGgubWF4KGUsTWF0aC5taW4odCxyKSkpfWZsb29yKCl7cmV0dXJuIHRoaXMueD1NYXRoLmZsb29yKHRoaXMueCksdGhpcy55PU1hdGguZmxvb3IodGhpcy55KSx0aGlzfWNlaWwoKXtyZXR1cm4gdGhpcy54PU1hdGguY2VpbCh0aGlzLngpLHRoaXMueT1NYXRoLmNlaWwodGhpcy55KSx0aGlzfXJvdW5kKCl7cmV0dXJuIHRoaXMueD1NYXRoLnJvdW5kKHRoaXMueCksdGhpcy55PU1hdGgucm91bmQodGhpcy55KSx0aGlzfXJvdW5kVG9aZXJvKCl7cmV0dXJuIHRoaXMueD10aGlzLng8MD9NYXRoLmNlaWwodGhpcy54KTpNYXRoLmZsb29yKHRoaXMueCksdGhpcy55PXRoaXMueTwwP01hdGguY2VpbCh0aGlzLnkpOk1hdGguZmxvb3IodGhpcy55KSx0aGlzfW5lZ2F0ZSgpe3JldHVybiB0aGlzLng9LXRoaXMueCx0aGlzLnk9LXRoaXMueSx0aGlzfWRvdChlKXtyZXR1cm4gdGhpcy54KmUueCt0aGlzLnkqZS55fWNyb3NzKGUpe3JldHVybiB0aGlzLngqZS55LXRoaXMueSplLnh9bGVuZ3RoU3EoKXtyZXR1cm4gdGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55fWxlbmd0aCgpe3JldHVybiBNYXRoLnNxcnQodGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55KX1tYW5oYXR0YW5MZW5ndGgoKXtyZXR1cm4gTWF0aC5hYnModGhpcy54KStNYXRoLmFicyh0aGlzLnkpfW5vcm1hbGl6ZSgpe3JldHVybiB0aGlzLmRpdmlkZVNjYWxhcih0aGlzLmxlbmd0aCgpfHwxKX1hbmdsZSgpe3JldHVybiBNYXRoLmF0YW4yKC10aGlzLnksLXRoaXMueCkrTWF0aC5QSX1kaXN0YW5jZVRvKGUpe3JldHVybiBNYXRoLnNxcnQodGhpcy5kaXN0YW5jZVRvU3F1YXJlZChlKSl9ZGlzdGFuY2VUb1NxdWFyZWQoZSl7Y29uc3QgdD10aGlzLngtZS54LHI9dGhpcy55LWUueTtyZXR1cm4gdCp0K3Iqcn1tYW5oYXR0YW5EaXN0YW5jZVRvKGUpe3JldHVybiBNYXRoLmFicyh0aGlzLngtZS54KStNYXRoLmFicyh0aGlzLnktZS55KX1zZXRMZW5ndGgoZSl7cmV0dXJuIHRoaXMubm9ybWFsaXplKCkubXVsdGlwbHlTY2FsYXIoZSl9bGVycChlLHQpe3JldHVybiB0aGlzLngrPShlLngtdGhpcy54KSp0LHRoaXMueSs9KGUueS10aGlzLnkpKnQsdGhpc31sZXJwVmVjdG9ycyhlLHQscil7cmV0dXJuIHRoaXMueD1lLngrKHQueC1lLngpKnIsdGhpcy55PWUueSsodC55LWUueSkqcix0aGlzfWVxdWFscyhlKXtyZXR1cm4gZS54PT09dGhpcy54JiZlLnk9PT10aGlzLnl9ZnJvbUFycmF5KGUsdD0wKXtyZXR1cm4gdGhpcy54PWVbdF0sdGhpcy55PWVbdCsxXSx0aGlzfXRvQXJyYXkoZT1bXSx0PTApe3JldHVybiBlW3RdPXRoaXMueCxlW3QrMV09dGhpcy55LGV9ZnJvbUJ1ZmZlckF0dHJpYnV0ZShlLHQscil7cmV0dXJuIHIhPT12b2lkIDAmJmNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yMjogb2Zmc2V0IGhhcyBiZWVuIHJlbW92ZWQgZnJvbSAuZnJvbUJ1ZmZlckF0dHJpYnV0ZSgpLiIpLHRoaXMueD1lLmdldFgodCksdGhpcy55PWUuZ2V0WSh0KSx0aGlzfXJvdGF0ZUFyb3VuZChlLHQpe2NvbnN0IHI9TWF0aC5jb3ModCkscz1NYXRoLnNpbih0KSxhPXRoaXMueC1lLngsbj10aGlzLnktZS55O3JldHVybiB0aGlzLng9YSpyLW4qcytlLngsdGhpcy55PWEqcytuKnIrZS55LHRoaXN9cmFuZG9tKCl7cmV0dXJuIHRoaXMueD1NYXRoLnJhbmRvbSgpLHRoaXMueT1NYXRoLnJhbmRvbSgpLHRoaXN9KltTeW1ib2wuaXRlcmF0b3JdKCl7eWllbGQgdGhpcy54LHlpZWxkIHRoaXMueX19ZWUucHJvdG90eXBlLmlzVmVjdG9yMj0hMDtjbGFzcyB4dHtjb25zdHJ1Y3Rvcigpe3RoaXMuZWxlbWVudHM9WzEsMCwwLDAsMSwwLDAsMCwxXSxhcmd1bWVudHMubGVuZ3RoPjAmJmNvbnNvbGUuZXJyb3IoIlRIUkVFLk1hdHJpeDM6IHRoZSBjb25zdHJ1Y3RvciBubyBsb25nZXIgcmVhZHMgYXJndW1lbnRzLiB1c2UgLnNldCgpIGluc3RlYWQuIil9c2V0KGUsdCxyLHMsYSxuLG8saCxsKXtjb25zdCBjPXRoaXMuZWxlbWVudHM7cmV0dXJuIGNbMF09ZSxjWzFdPXMsY1syXT1vLGNbM109dCxjWzRdPWEsY1s1XT1oLGNbNl09cixjWzddPW4sY1s4XT1sLHRoaXN9aWRlbnRpdHkoKXtyZXR1cm4gdGhpcy5zZXQoMSwwLDAsMCwxLDAsMCwwLDEpLHRoaXN9Y29weShlKXtjb25zdCB0PXRoaXMuZWxlbWVudHMscj1lLmVsZW1lbnRzO3JldHVybiB0WzBdPXJbMF0sdFsxXT1yWzFdLHRbMl09clsyXSx0WzNdPXJbM10sdFs0XT1yWzRdLHRbNV09cls1XSx0WzZdPXJbNl0sdFs3XT1yWzddLHRbOF09cls4XSx0aGlzfWV4dHJhY3RCYXNpcyhlLHQscil7cmV0dXJuIGUuc2V0RnJvbU1hdHJpeDNDb2x1bW4odGhpcywwKSx0LnNldEZyb21NYXRyaXgzQ29sdW1uKHRoaXMsMSksci5zZXRGcm9tTWF0cml4M0NvbHVtbih0aGlzLDIpLHRoaXN9c2V0RnJvbU1hdHJpeDQoZSl7Y29uc3QgdD1lLmVsZW1lbnRzO3JldHVybiB0aGlzLnNldCh0WzBdLHRbNF0sdFs4XSx0WzFdLHRbNV0sdFs5XSx0WzJdLHRbNl0sdFsxMF0pLHRoaXN9bXVsdGlwbHkoZSl7cmV0dXJuIHRoaXMubXVsdGlwbHlNYXRyaWNlcyh0aGlzLGUpfXByZW11bHRpcGx5KGUpe3JldHVybiB0aGlzLm11bHRpcGx5TWF0cmljZXMoZSx0aGlzKX1tdWx0aXBseU1hdHJpY2VzKGUsdCl7Y29uc3Qgcj1lLmVsZW1lbnRzLHM9dC5lbGVtZW50cyxhPXRoaXMuZWxlbWVudHMsbj1yWzBdLG89clszXSxoPXJbNl0sbD1yWzFdLGM9cls0XSx1PXJbN10sZD1yWzJdLHA9cls1XSxnPXJbOF0sZj1zWzBdLG09c1szXSx2PXNbNl0seT1zWzFdLFQ9c1s0XSx3PXNbN10sYj1zWzJdLEw9c1s1XSxQPXNbOF07cmV0dXJuIGFbMF09bipmK28qeStoKmIsYVszXT1uKm0rbypUK2gqTCxhWzZdPW4qditvKncraCpQLGFbMV09bCpmK2MqeSt1KmIsYVs0XT1sKm0rYypUK3UqTCxhWzddPWwqditjKncrdSpQLGFbMl09ZCpmK3AqeStnKmIsYVs1XT1kKm0rcCpUK2cqTCxhWzhdPWQqditwKncrZypQLHRoaXN9bXVsdGlwbHlTY2FsYXIoZSl7Y29uc3QgdD10aGlzLmVsZW1lbnRzO3JldHVybiB0WzBdKj1lLHRbM10qPWUsdFs2XSo9ZSx0WzFdKj1lLHRbNF0qPWUsdFs3XSo9ZSx0WzJdKj1lLHRbNV0qPWUsdFs4XSo9ZSx0aGlzfWRldGVybWluYW50KCl7Y29uc3QgZT10aGlzLmVsZW1lbnRzLHQ9ZVswXSxyPWVbMV0scz1lWzJdLGE9ZVszXSxuPWVbNF0sbz1lWzVdLGg9ZVs2XSxsPWVbN10sYz1lWzhdO3JldHVybiB0Km4qYy10Km8qbC1yKmEqYytyKm8qaCtzKmEqbC1zKm4qaH1pbnZlcnQoKXtjb25zdCBlPXRoaXMuZWxlbWVudHMsdD1lWzBdLHI9ZVsxXSxzPWVbMl0sYT1lWzNdLG49ZVs0XSxvPWVbNV0saD1lWzZdLGw9ZVs3XSxjPWVbOF0sdT1jKm4tbypsLGQ9bypoLWMqYSxwPWwqYS1uKmgsZz10KnUrcipkK3MqcDtpZihnPT09MClyZXR1cm4gdGhpcy5zZXQoMCwwLDAsMCwwLDAsMCwwLDApO2NvbnN0IGY9MS9nO3JldHVybiBlWzBdPXUqZixlWzFdPShzKmwtYypyKSpmLGVbMl09KG8qci1zKm4pKmYsZVszXT1kKmYsZVs0XT0oYyp0LXMqaCkqZixlWzVdPShzKmEtbyp0KSpmLGVbNl09cCpmLGVbN109KHIqaC1sKnQpKmYsZVs4XT0obip0LXIqYSkqZix0aGlzfXRyYW5zcG9zZSgpe2xldCBlO2NvbnN0IHQ9dGhpcy5lbGVtZW50cztyZXR1cm4gZT10WzFdLHRbMV09dFszXSx0WzNdPWUsZT10WzJdLHRbMl09dFs2XSx0WzZdPWUsZT10WzVdLHRbNV09dFs3XSx0WzddPWUsdGhpc31nZXROb3JtYWxNYXRyaXgoZSl7cmV0dXJuIHRoaXMuc2V0RnJvbU1hdHJpeDQoZSkuaW52ZXJ0KCkudHJhbnNwb3NlKCl9dHJhbnNwb3NlSW50b0FycmF5KGUpe2NvbnN0IHQ9dGhpcy5lbGVtZW50cztyZXR1cm4gZVswXT10WzBdLGVbMV09dFszXSxlWzJdPXRbNl0sZVszXT10WzFdLGVbNF09dFs0XSxlWzVdPXRbN10sZVs2XT10WzJdLGVbN109dFs1XSxlWzhdPXRbOF0sdGhpc31zZXRVdlRyYW5zZm9ybShlLHQscixzLGEsbixvKXtjb25zdCBoPU1hdGguY29zKGEpLGw9TWF0aC5zaW4oYSk7cmV0dXJuIHRoaXMuc2V0KHIqaCxyKmwsLXIqKGgqbitsKm8pK24rZSwtcypsLHMqaCwtcyooLWwqbitoKm8pK28rdCwwLDAsMSksdGhpc31zY2FsZShlLHQpe2NvbnN0IHI9dGhpcy5lbGVtZW50cztyZXR1cm4gclswXSo9ZSxyWzNdKj1lLHJbNl0qPWUsclsxXSo9dCxyWzRdKj10LHJbN10qPXQsdGhpc31yb3RhdGUoZSl7Y29uc3QgdD1NYXRoLmNvcyhlKSxyPU1hdGguc2luKGUpLHM9dGhpcy5lbGVtZW50cyxhPXNbMF0sbj1zWzNdLG89c1s2XSxoPXNbMV0sbD1zWzRdLGM9c1s3XTtyZXR1cm4gc1swXT10KmErcipoLHNbM109dCpuK3IqbCxzWzZdPXQqbytyKmMsc1sxXT0tciphK3QqaCxzWzRdPS1yKm4rdCpsLHNbN109LXIqbyt0KmMsdGhpc310cmFuc2xhdGUoZSx0KXtjb25zdCByPXRoaXMuZWxlbWVudHM7cmV0dXJuIHJbMF0rPWUqclsyXSxyWzNdKz1lKnJbNV0scls2XSs9ZSpyWzhdLHJbMV0rPXQqclsyXSxyWzRdKz10KnJbNV0scls3XSs9dCpyWzhdLHRoaXN9ZXF1YWxzKGUpe2NvbnN0IHQ9dGhpcy5lbGVtZW50cyxyPWUuZWxlbWVudHM7Zm9yKGxldCBzPTA7czw5O3MrKylpZih0W3NdIT09cltzXSlyZXR1cm4hMTtyZXR1cm4hMH1mcm9tQXJyYXkoZSx0PTApe2ZvcihsZXQgcj0wO3I8OTtyKyspdGhpcy5lbGVtZW50c1tyXT1lW3IrdF07cmV0dXJuIHRoaXN9dG9BcnJheShlPVtdLHQ9MCl7Y29uc3Qgcj10aGlzLmVsZW1lbnRzO3JldHVybiBlW3RdPXJbMF0sZVt0KzFdPXJbMV0sZVt0KzJdPXJbMl0sZVt0KzNdPXJbM10sZVt0KzRdPXJbNF0sZVt0KzVdPXJbNV0sZVt0KzZdPXJbNl0sZVt0KzddPXJbN10sZVt0KzhdPXJbOF0sZX1jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmZyb21BcnJheSh0aGlzLmVsZW1lbnRzKX19eHQucHJvdG90eXBlLmlzTWF0cml4Mz0hMDtmdW5jdGlvbiB2bChpKXtmb3IobGV0IGU9aS5sZW5ndGgtMTtlPj0wOy0tZSlpZihpW2VdPjY1NTM1KXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIFRzKGkpe3JldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiLGkpfWZ1bmN0aW9uICRpKGkpe3JldHVybiBpPC4wNDA0NT9pKi4wNzczOTkzODA4Ok1hdGgucG93KGkqLjk0Nzg2NzI5ODYrLjA1MjEzMjcwMTQsMi40KX1mdW5jdGlvbiB2YShpKXtyZXR1cm4gaTwuMDAzMTMwOD9pKjEyLjkyOjEuMDU1Kk1hdGgucG93KGksLjQxNjY2KS0uMDU1fWNvbnN0IFVuPXtbeWldOntbS2ldOiRpfSxbS2ldOntbeWldOnZhfX0sSnQ9e2xlZ2FjeU1vZGU6ITAsZ2V0IHdvcmtpbmdDb2xvclNwYWNlKCl7cmV0dXJuIEtpfSxzZXQgd29ya2luZ0NvbG9yU3BhY2UoaSl7Y29uc29sZS53YXJuKCJUSFJFRS5Db2xvck1hbmFnZW1lbnQ6IC53b3JraW5nQ29sb3JTcGFjZSBpcyByZWFkb25seS4iKX0sY29udmVydDpmdW5jdGlvbihpLGUsdCl7aWYodGhpcy5sZWdhY3lNb2RlfHxlPT09dHx8IWV8fCF0KXJldHVybiBpO2lmKFVuW2VdJiZVbltlXVt0XSE9PXZvaWQgMCl7Y29uc3Qgcj1VbltlXVt0XTtyZXR1cm4gaS5yPXIoaS5yKSxpLmc9cihpLmcpLGkuYj1yKGkuYiksaX10aHJvdyBuZXcgRXJyb3IoIlVuc3VwcG9ydGVkIGNvbG9yIHNwYWNlIGNvbnZlcnNpb24uIil9LGZyb21Xb3JraW5nQ29sb3JTcGFjZTpmdW5jdGlvbihpLGUpe3JldHVybiB0aGlzLmNvbnZlcnQoaSx0aGlzLndvcmtpbmdDb2xvclNwYWNlLGUpfSx0b1dvcmtpbmdDb2xvclNwYWNlOmZ1bmN0aW9uKGksZSl7cmV0dXJuIHRoaXMuY29udmVydChpLGUsdGhpcy53b3JraW5nQ29sb3JTcGFjZSl9fSx4bD17YWxpY2VibHVlOjE1NzkyMzgzLGFudGlxdWV3aGl0ZToxNjQ0NDM3NSxhcXVhOjY1NTM1LGFxdWFtYXJpbmU6ODM4ODU2NCxhenVyZToxNTc5NDE3NSxiZWlnZToxNjExOTI2MCxiaXNxdWU6MTY3NzAyNDQsYmxhY2s6MCxibGFuY2hlZGFsbW9uZDoxNjc3MjA0NSxibHVlOjI1NSxibHVldmlvbGV0OjkwNTUyMDIsYnJvd246MTA4MjQyMzQsYnVybHl3b29kOjE0NTk2MjMxLGNhZGV0Ymx1ZTo2MjY2NTI4LGNoYXJ0cmV1c2U6ODM4ODM1MixjaG9jb2xhdGU6MTM3ODk0NzAsY29yYWw6MTY3NDQyNzIsY29ybmZsb3dlcmJsdWU6NjU5MTk4MSxjb3Juc2lsazoxNjc3NTM4OCxjcmltc29uOjE0NDIzMTAwLGN5YW46NjU1MzUsZGFya2JsdWU6MTM5LGRhcmtjeWFuOjM1NzIzLGRhcmtnb2xkZW5yb2Q6MTIwOTI5MzksZGFya2dyYXk6MTExMTkwMTcsZGFya2dyZWVuOjI1NjAwLGRhcmtncmV5OjExMTE5MDE3LGRhcmtraGFraToxMjQzMzI1OSxkYXJrbWFnZW50YTo5MTA5NjQzLGRhcmtvbGl2ZWdyZWVuOjU1OTc5OTksZGFya29yYW5nZToxNjc0NzUyMCxkYXJrb3JjaGlkOjEwMDQwMDEyLGRhcmtyZWQ6OTEwOTUwNCxkYXJrc2FsbW9uOjE1MzA4NDEwLGRhcmtzZWFncmVlbjo5NDE5OTE5LGRhcmtzbGF0ZWJsdWU6NDczNDM0NyxkYXJrc2xhdGVncmF5OjMxMDA0OTUsZGFya3NsYXRlZ3JleTozMTAwNDk1LGRhcmt0dXJxdW9pc2U6NTI5NDUsZGFya3Zpb2xldDo5Njk5NTM5LGRlZXBwaW5rOjE2NzE2OTQ3LGRlZXBza3libHVlOjQ5MTUxLGRpbWdyYXk6NjkwODI2NSxkaW1ncmV5OjY5MDgyNjUsZG9kZ2VyYmx1ZToyMDAzMTk5LGZpcmVicmljazoxMTY3NDE0NixmbG9yYWx3aGl0ZToxNjc3NTkyMCxmb3Jlc3RncmVlbjoyMjYzODQyLGZ1Y2hzaWE6MTY3MTE5MzUsZ2FpbnNib3JvOjE0NDc0NDYwLGdob3N0d2hpdGU6MTYzMTY2NzEsZ29sZDoxNjc2NjcyMCxnb2xkZW5yb2Q6MTQzMjkxMjAsZ3JheTo4NDIxNTA0LGdyZWVuOjMyNzY4LGdyZWVueWVsbG93OjExNDAzMDU1LGdyZXk6ODQyMTUwNCxob25leWRldzoxNTc5NDE2MCxob3RwaW5rOjE2NzM4NzQwLGluZGlhbnJlZDoxMzQ1ODUyNCxpbmRpZ286NDkxNTMzMCxpdm9yeToxNjc3NzIwMCxraGFraToxNTc4NzY2MCxsYXZlbmRlcjoxNTEzMjQxMCxsYXZlbmRlcmJsdXNoOjE2NzczMzY1LGxhd25ncmVlbjo4MTkwOTc2LGxlbW9uY2hpZmZvbjoxNjc3NTg4NSxsaWdodGJsdWU6MTEzOTMyNTQsbGlnaHRjb3JhbDoxNTc2MTUzNixsaWdodGN5YW46MTQ3NDU1OTksbGlnaHRnb2xkZW5yb2R5ZWxsb3c6MTY0NDgyMTAsbGlnaHRncmF5OjEzODgyMzIzLGxpZ2h0Z3JlZW46OTQ5ODI1NixsaWdodGdyZXk6MTM4ODIzMjMsbGlnaHRwaW5rOjE2NzU4NDY1LGxpZ2h0c2FsbW9uOjE2NzUyNzYyLGxpZ2h0c2VhZ3JlZW46MjE0Mjg5MCxsaWdodHNreWJsdWU6ODkwMDM0NixsaWdodHNsYXRlZ3JheTo3ODMzNzUzLGxpZ2h0c2xhdGVncmV5Ojc4MzM3NTMsbGlnaHRzdGVlbGJsdWU6MTE1ODQ3MzQsbGlnaHR5ZWxsb3c6MTY3NzcxODQsbGltZTo2NTI4MCxsaW1lZ3JlZW46MzMyOTMzMCxsaW5lbjoxNjQ0NTY3MCxtYWdlbnRhOjE2NzExOTM1LG1hcm9vbjo4Mzg4NjA4LG1lZGl1bWFxdWFtYXJpbmU6NjczNzMyMixtZWRpdW1ibHVlOjIwNSxtZWRpdW1vcmNoaWQ6MTIyMTE2NjcsbWVkaXVtcHVycGxlOjk2NjI2ODMsbWVkaXVtc2VhZ3JlZW46Mzk3ODA5NyxtZWRpdW1zbGF0ZWJsdWU6ODA4Nzc5MCxtZWRpdW1zcHJpbmdncmVlbjo2NDE1NCxtZWRpdW10dXJxdW9pc2U6NDc3MjMwMCxtZWRpdW12aW9sZXRyZWQ6MTMwNDcxNzMsbWlkbmlnaHRibHVlOjE2NDQ5MTIsbWludGNyZWFtOjE2MTIxODUwLG1pc3R5cm9zZToxNjc3MDI3Myxtb2NjYXNpbjoxNjc3MDIyOSxuYXZham93aGl0ZToxNjc2ODY4NSxuYXZ5OjEyOCxvbGRsYWNlOjE2NjQzNTU4LG9saXZlOjg0MjEzNzYsb2xpdmVkcmFiOjcwNDg3Mzksb3JhbmdlOjE2NzUzOTIwLG9yYW5nZXJlZDoxNjcyOTM0NCxvcmNoaWQ6MTQzMTU3MzQscGFsZWdvbGRlbnJvZDoxNTY1NzEzMCxwYWxlZ3JlZW46MTAwMjU4ODAscGFsZXR1cnF1b2lzZToxMTUyOTk2NixwYWxldmlvbGV0cmVkOjE0MzgxMjAzLHBhcGF5YXdoaXA6MTY3NzMwNzcscGVhY2hwdWZmOjE2NzY3NjczLHBlcnU6MTM0Njg5OTEscGluazoxNjc2MTAzNSxwbHVtOjE0NTI0NjM3LHBvd2RlcmJsdWU6MTE1OTE5MTAscHVycGxlOjgzODg3MzYscmViZWNjYXB1cnBsZTo2Njk3ODgxLHJlZDoxNjcxMTY4MCxyb3N5YnJvd246MTIzNTc1MTkscm95YWxibHVlOjQyODY5NDUsc2FkZGxlYnJvd246OTEyNzE4NyxzYWxtb246MTY0MTY4ODIsc2FuZHlicm93bjoxNjAzMjg2NCxzZWFncmVlbjozMDUwMzI3LHNlYXNoZWxsOjE2Nzc0NjM4LHNpZW5uYToxMDUwNjc5NyxzaWx2ZXI6MTI2MzIyNTYsc2t5Ymx1ZTo4OTAwMzMxLHNsYXRlYmx1ZTo2OTcwMDYxLHNsYXRlZ3JheTo3MzcyOTQ0LHNsYXRlZ3JleTo3MzcyOTQ0LHNub3c6MTY3NzU5MzAsc3ByaW5nZ3JlZW46NjU0MDcsc3RlZWxibHVlOjQ2MjA5ODAsdGFuOjEzODA4NzgwLHRlYWw6MzI4OTYsdGhpc3RsZToxNDIwNDg4OCx0b21hdG86MTY3MzcwOTUsdHVycXVvaXNlOjQyNTE4NTYsdmlvbGV0OjE1NjMxMDg2LHdoZWF0OjE2MTEzMzMxLHdoaXRlOjE2Nzc3MjE1LHdoaXRlc21va2U6MTYxMTkyODUseWVsbG93OjE2Nzc2OTYwLHllbGxvd2dyZWVuOjEwMTQ1MDc0fSxodD17cjowLGc6MCxiOjB9LFl0PXtoOjAsczowLGw6MH0seGE9e2g6MCxzOjAsbDowfTtmdW5jdGlvbiBGbihpLGUsdCl7cmV0dXJuIHQ8MCYmKHQrPTEpLHQ+MSYmKHQtPTEpLHQ8MS82P2krKGUtaSkqNip0OnQ8MS8yP2U6dDwyLzM/aSsoZS1pKSo2KigyLzMtdCk6aX1mdW5jdGlvbiBfYShpLGUpe3JldHVybiBlLnI9aS5yLGUuZz1pLmcsZS5iPWkuYixlfWNsYXNzIGdle2NvbnN0cnVjdG9yKGUsdCxyKXtyZXR1cm4gdD09PXZvaWQgMCYmcj09PXZvaWQgMD90aGlzLnNldChlKTp0aGlzLnNldFJHQihlLHQscil9c2V0KGUpe3JldHVybiBlJiZlLmlzQ29sb3I/dGhpcy5jb3B5KGUpOnR5cGVvZiBlPT0ibnVtYmVyIj90aGlzLnNldEhleChlKTp0eXBlb2YgZT09InN0cmluZyImJnRoaXMuc2V0U3R5bGUoZSksdGhpc31zZXRTY2FsYXIoZSl7cmV0dXJuIHRoaXMucj1lLHRoaXMuZz1lLHRoaXMuYj1lLHRoaXN9c2V0SGV4KGUsdD15aSl7cmV0dXJuIGU9TWF0aC5mbG9vcihlKSx0aGlzLnI9KGU+PjE2JjI1NSkvMjU1LHRoaXMuZz0oZT4+OCYyNTUpLzI1NSx0aGlzLmI9KGUmMjU1KS8yNTUsSnQudG9Xb3JraW5nQ29sb3JTcGFjZSh0aGlzLHQpLHRoaXN9c2V0UkdCKGUsdCxyLHM9S2kpe3JldHVybiB0aGlzLnI9ZSx0aGlzLmc9dCx0aGlzLmI9cixKdC50b1dvcmtpbmdDb2xvclNwYWNlKHRoaXMscyksdGhpc31zZXRIU0woZSx0LHIscz1LaSl7aWYoZT1KZyhlLDEpLHQ9eXQodCwwLDEpLHI9eXQociwwLDEpLHQ9PT0wKXRoaXMucj10aGlzLmc9dGhpcy5iPXI7ZWxzZXtjb25zdCBhPXI8PS41P3IqKDErdCk6cit0LXIqdCxuPTIqci1hO3RoaXMucj1GbihuLGEsZSsxLzMpLHRoaXMuZz1GbihuLGEsZSksdGhpcy5iPUZuKG4sYSxlLTEvMyl9cmV0dXJuIEp0LnRvV29ya2luZ0NvbG9yU3BhY2UodGhpcyxzKSx0aGlzfXNldFN0eWxlKGUsdD15aSl7ZnVuY3Rpb24gcihhKXthIT09dm9pZCAwJiZwYXJzZUZsb2F0KGEpPDEmJmNvbnNvbGUud2FybigiVEhSRUUuQ29sb3I6IEFscGhhIGNvbXBvbmVudCBvZiAiK2UrIiB3aWxsIGJlIGlnbm9yZWQuIil9bGV0IHM7aWYocz0vXigoPzpyZ2J8aHNsKWE/KVwoKFteXCldKilcKS8uZXhlYyhlKSl7bGV0IGE7Y29uc3Qgbj1zWzFdLG89c1syXTtzd2l0Y2gobil7Y2FzZSJyZ2IiOmNhc2UicmdiYSI6aWYoYT0vXlxzKihcZCspXHMqLFxzKihcZCspXHMqLFxzKihcZCspXHMqKD86LFxzKihcZCpcLj9cZCspXHMqKT8kLy5leGVjKG8pKXJldHVybiB0aGlzLnI9TWF0aC5taW4oMjU1LHBhcnNlSW50KGFbMV0sMTApKS8yNTUsdGhpcy5nPU1hdGgubWluKDI1NSxwYXJzZUludChhWzJdLDEwKSkvMjU1LHRoaXMuYj1NYXRoLm1pbigyNTUscGFyc2VJbnQoYVszXSwxMCkpLzI1NSxKdC50b1dvcmtpbmdDb2xvclNwYWNlKHRoaXMsdCkscihhWzRdKSx0aGlzO2lmKGE9L15ccyooXGQrKVwlXHMqLFxzKihcZCspXCVccyosXHMqKFxkKylcJVxzKig/OixccyooXGQqXC4/XGQrKVxzKik/JC8uZXhlYyhvKSlyZXR1cm4gdGhpcy5yPU1hdGgubWluKDEwMCxwYXJzZUludChhWzFdLDEwKSkvMTAwLHRoaXMuZz1NYXRoLm1pbigxMDAscGFyc2VJbnQoYVsyXSwxMCkpLzEwMCx0aGlzLmI9TWF0aC5taW4oMTAwLHBhcnNlSW50KGFbM10sMTApKS8xMDAsSnQudG9Xb3JraW5nQ29sb3JTcGFjZSh0aGlzLHQpLHIoYVs0XSksdGhpczticmVhaztjYXNlImhzbCI6Y2FzZSJoc2xhIjppZihhPS9eXHMqKFxkKlwuP1xkKylccyosXHMqKFxkKylcJVxzKixccyooXGQrKVwlXHMqKD86LFxzKihcZCpcLj9cZCspXHMqKT8kLy5leGVjKG8pKXtjb25zdCBoPXBhcnNlRmxvYXQoYVsxXSkvMzYwLGw9cGFyc2VJbnQoYVsyXSwxMCkvMTAwLGM9cGFyc2VJbnQoYVszXSwxMCkvMTAwO3JldHVybiByKGFbNF0pLHRoaXMuc2V0SFNMKGgsbCxjLHQpfWJyZWFrfX1lbHNlIGlmKHM9L15cIyhbQS1GYS1mXGRdKykkLy5leGVjKGUpKXtjb25zdCBhPXNbMV0sbj1hLmxlbmd0aDtpZihuPT09MylyZXR1cm4gdGhpcy5yPXBhcnNlSW50KGEuY2hhckF0KDApK2EuY2hhckF0KDApLDE2KS8yNTUsdGhpcy5nPXBhcnNlSW50KGEuY2hhckF0KDEpK2EuY2hhckF0KDEpLDE2KS8yNTUsdGhpcy5iPXBhcnNlSW50KGEuY2hhckF0KDIpK2EuY2hhckF0KDIpLDE2KS8yNTUsSnQudG9Xb3JraW5nQ29sb3JTcGFjZSh0aGlzLHQpLHRoaXM7aWYobj09PTYpcmV0dXJuIHRoaXMucj1wYXJzZUludChhLmNoYXJBdCgwKSthLmNoYXJBdCgxKSwxNikvMjU1LHRoaXMuZz1wYXJzZUludChhLmNoYXJBdCgyKSthLmNoYXJBdCgzKSwxNikvMjU1LHRoaXMuYj1wYXJzZUludChhLmNoYXJBdCg0KSthLmNoYXJBdCg1KSwxNikvMjU1LEp0LnRvV29ya2luZ0NvbG9yU3BhY2UodGhpcyx0KSx0aGlzfXJldHVybiBlJiZlLmxlbmd0aD4wP3RoaXMuc2V0Q29sb3JOYW1lKGUsdCk6dGhpc31zZXRDb2xvck5hbWUoZSx0PXlpKXtjb25zdCByPXhsW2UudG9Mb3dlckNhc2UoKV07cmV0dXJuIHIhPT12b2lkIDA/dGhpcy5zZXRIZXgocix0KTpjb25zb2xlLndhcm4oIlRIUkVFLkNvbG9yOiBVbmtub3duIGNvbG9yICIrZSksdGhpc31jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLnIsdGhpcy5nLHRoaXMuYil9Y29weShlKXtyZXR1cm4gdGhpcy5yPWUucix0aGlzLmc9ZS5nLHRoaXMuYj1lLmIsdGhpc31jb3B5U1JHQlRvTGluZWFyKGUpe3JldHVybiB0aGlzLnI9JGkoZS5yKSx0aGlzLmc9JGkoZS5nKSx0aGlzLmI9JGkoZS5iKSx0aGlzfWNvcHlMaW5lYXJUb1NSR0IoZSl7cmV0dXJuIHRoaXMucj12YShlLnIpLHRoaXMuZz12YShlLmcpLHRoaXMuYj12YShlLmIpLHRoaXN9Y29udmVydFNSR0JUb0xpbmVhcigpe3JldHVybiB0aGlzLmNvcHlTUkdCVG9MaW5lYXIodGhpcyksdGhpc31jb252ZXJ0TGluZWFyVG9TUkdCKCl7cmV0dXJuIHRoaXMuY29weUxpbmVhclRvU1JHQih0aGlzKSx0aGlzfWdldEhleChlPXlpKXtyZXR1cm4gSnQuZnJvbVdvcmtpbmdDb2xvclNwYWNlKF9hKHRoaXMsaHQpLGUpLHl0KGh0LnIqMjU1LDAsMjU1KTw8MTZeeXQoaHQuZyoyNTUsMCwyNTUpPDw4Xnl0KGh0LmIqMjU1LDAsMjU1KTw8MH1nZXRIZXhTdHJpbmcoZT15aSl7cmV0dXJuKCIwMDAwMDAiK3RoaXMuZ2V0SGV4KGUpLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTYpfWdldEhTTChlLHQ9S2kpe0p0LmZyb21Xb3JraW5nQ29sb3JTcGFjZShfYSh0aGlzLGh0KSx0KTtjb25zdCByPWh0LnIscz1odC5nLGE9aHQuYixuPU1hdGgubWF4KHIscyxhKSxvPU1hdGgubWluKHIscyxhKTtsZXQgaCxsO2NvbnN0IGM9KG8rbikvMjtpZihvPT09biloPTAsbD0wO2Vsc2V7Y29uc3QgdT1uLW87c3dpdGNoKGw9Yzw9LjU/dS8obitvKTp1LygyLW4tbyksbil7Y2FzZSByOmg9KHMtYSkvdSsoczxhPzY6MCk7YnJlYWs7Y2FzZSBzOmg9KGEtcikvdSsyO2JyZWFrO2Nhc2UgYTpoPShyLXMpL3UrNDticmVha31oLz02fXJldHVybiBlLmg9aCxlLnM9bCxlLmw9YyxlfWdldFJHQihlLHQ9S2kpe3JldHVybiBKdC5mcm9tV29ya2luZ0NvbG9yU3BhY2UoX2EodGhpcyxodCksdCksZS5yPWh0LnIsZS5nPWh0LmcsZS5iPWh0LmIsZX1nZXRTdHlsZShlPXlpKXtyZXR1cm4gSnQuZnJvbVdvcmtpbmdDb2xvclNwYWNlKF9hKHRoaXMsaHQpLGUpLGUhPT15aT9gY29sb3IoJHtlfSAke2h0LnJ9ICR7aHQuZ30gJHtodC5ifSlgOmByZ2IoJHtodC5yKjI1NXwwfSwke2h0LmcqMjU1fDB9LCR7aHQuYioyNTV8MH0pYH1vZmZzZXRIU0woZSx0LHIpe3JldHVybiB0aGlzLmdldEhTTChZdCksWXQuaCs9ZSxZdC5zKz10LFl0LmwrPXIsdGhpcy5zZXRIU0woWXQuaCxZdC5zLFl0LmwpLHRoaXN9YWRkKGUpe3JldHVybiB0aGlzLnIrPWUucix0aGlzLmcrPWUuZyx0aGlzLmIrPWUuYix0aGlzfWFkZENvbG9ycyhlLHQpe3JldHVybiB0aGlzLnI9ZS5yK3Qucix0aGlzLmc9ZS5nK3QuZyx0aGlzLmI9ZS5iK3QuYix0aGlzfWFkZFNjYWxhcihlKXtyZXR1cm4gdGhpcy5yKz1lLHRoaXMuZys9ZSx0aGlzLmIrPWUsdGhpc31zdWIoZSl7cmV0dXJuIHRoaXMucj1NYXRoLm1heCgwLHRoaXMuci1lLnIpLHRoaXMuZz1NYXRoLm1heCgwLHRoaXMuZy1lLmcpLHRoaXMuYj1NYXRoLm1heCgwLHRoaXMuYi1lLmIpLHRoaXN9bXVsdGlwbHkoZSl7cmV0dXJuIHRoaXMucio9ZS5yLHRoaXMuZyo9ZS5nLHRoaXMuYio9ZS5iLHRoaXN9bXVsdGlwbHlTY2FsYXIoZSl7cmV0dXJuIHRoaXMucio9ZSx0aGlzLmcqPWUsdGhpcy5iKj1lLHRoaXN9bGVycChlLHQpe3JldHVybiB0aGlzLnIrPShlLnItdGhpcy5yKSp0LHRoaXMuZys9KGUuZy10aGlzLmcpKnQsdGhpcy5iKz0oZS5iLXRoaXMuYikqdCx0aGlzfWxlcnBDb2xvcnMoZSx0LHIpe3JldHVybiB0aGlzLnI9ZS5yKyh0LnItZS5yKSpyLHRoaXMuZz1lLmcrKHQuZy1lLmcpKnIsdGhpcy5iPWUuYisodC5iLWUuYikqcix0aGlzfWxlcnBIU0woZSx0KXt0aGlzLmdldEhTTChZdCksZS5nZXRIU0woeGEpO2NvbnN0IHI9em4oWXQuaCx4YS5oLHQpLHM9em4oWXQucyx4YS5zLHQpLGE9em4oWXQubCx4YS5sLHQpO3JldHVybiB0aGlzLnNldEhTTChyLHMsYSksdGhpc31lcXVhbHMoZSl7cmV0dXJuIGUucj09PXRoaXMuciYmZS5nPT09dGhpcy5nJiZlLmI9PT10aGlzLmJ9ZnJvbUFycmF5KGUsdD0wKXtyZXR1cm4gdGhpcy5yPWVbdF0sdGhpcy5nPWVbdCsxXSx0aGlzLmI9ZVt0KzJdLHRoaXN9dG9BcnJheShlPVtdLHQ9MCl7cmV0dXJuIGVbdF09dGhpcy5yLGVbdCsxXT10aGlzLmcsZVt0KzJdPXRoaXMuYixlfWZyb21CdWZmZXJBdHRyaWJ1dGUoZSx0KXtyZXR1cm4gdGhpcy5yPWUuZ2V0WCh0KSx0aGlzLmc9ZS5nZXRZKHQpLHRoaXMuYj1lLmdldFoodCksZS5ub3JtYWxpemVkPT09ITAmJih0aGlzLnIvPTI1NSx0aGlzLmcvPTI1NSx0aGlzLmIvPTI1NSksdGhpc310b0pTT04oKXtyZXR1cm4gdGhpcy5nZXRIZXgoKX19Z2UuTkFNRVM9eGwsZ2UucHJvdG90eXBlLmlzQ29sb3I9ITAsZ2UucHJvdG90eXBlLnI9MSxnZS5wcm90b3R5cGUuZz0xLGdlLnByb3RvdHlwZS5iPTE7bGV0IFJyO2NsYXNzIGVye3N0YXRpYyBnZXREYXRhVVJMKGUpe2lmKC9eZGF0YTovaS50ZXN0KGUuc3JjKXx8dHlwZW9mIEhUTUxDYW52YXNFbGVtZW50PiJ1IilyZXR1cm4gZS5zcmM7bGV0IHQ7aWYoZSBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50KXQ9ZTtlbHNle1JyPT09dm9pZCAwJiYoUnI9VHMoImNhbnZhcyIpKSxSci53aWR0aD1lLndpZHRoLFJyLmhlaWdodD1lLmhlaWdodDtjb25zdCByPVJyLmdldENvbnRleHQoIjJkIik7ZSBpbnN0YW5jZW9mIEltYWdlRGF0YT9yLnB1dEltYWdlRGF0YShlLDAsMCk6ci5kcmF3SW1hZ2UoZSwwLDAsZS53aWR0aCxlLmhlaWdodCksdD1Scn1yZXR1cm4gdC53aWR0aD4yMDQ4fHx0LmhlaWdodD4yMDQ4Pyhjb25zb2xlLndhcm4oIlRIUkVFLkltYWdlVXRpbHMuZ2V0RGF0YVVSTDogSW1hZ2UgY29udmVydGVkIHRvIGpwZyBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucyIsZSksdC50b0RhdGFVUkwoImltYWdlL2pwZWciLC42KSk6dC50b0RhdGFVUkwoImltYWdlL3BuZyIpfXN0YXRpYyBzUkdCVG9MaW5lYXIoZSl7aWYodHlwZW9mIEhUTUxJbWFnZUVsZW1lbnQ8InUiJiZlIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudHx8dHlwZW9mIEhUTUxDYW52YXNFbGVtZW50PCJ1IiYmZSBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50fHx0eXBlb2YgSW1hZ2VCaXRtYXA8InUiJiZlIGluc3RhbmNlb2YgSW1hZ2VCaXRtYXApe2NvbnN0IHQ9VHMoImNhbnZhcyIpO3Qud2lkdGg9ZS53aWR0aCx0LmhlaWdodD1lLmhlaWdodDtjb25zdCByPXQuZ2V0Q29udGV4dCgiMmQiKTtyLmRyYXdJbWFnZShlLDAsMCxlLndpZHRoLGUuaGVpZ2h0KTtjb25zdCBzPXIuZ2V0SW1hZ2VEYXRhKDAsMCxlLndpZHRoLGUuaGVpZ2h0KSxhPXMuZGF0YTtmb3IobGV0IG49MDtuPGEubGVuZ3RoO24rKylhW25dPSRpKGFbbl0vMjU1KSoyNTU7cmV0dXJuIHIucHV0SW1hZ2VEYXRhKHMsMCwwKSx0fWVsc2UgaWYoZS5kYXRhKXtjb25zdCB0PWUuZGF0YS5zbGljZSgwKTtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKyl0IGluc3RhbmNlb2YgVWludDhBcnJheXx8dCBpbnN0YW5jZW9mIFVpbnQ4Q2xhbXBlZEFycmF5P3Rbcl09TWF0aC5mbG9vcigkaSh0W3JdLzI1NSkqMjU1KTp0W3JdPSRpKHRbcl0pO3JldHVybntkYXRhOnQsd2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHR9fWVsc2UgcmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuSW1hZ2VVdGlscy5zUkdCVG9MaW5lYXIoKTogVW5zdXBwb3J0ZWQgaW1hZ2UgdHlwZS4gTm8gY29sb3Igc3BhY2UgY29udmVyc2lvbiBhcHBsaWVkLiIpLGV9fWNsYXNzIF9se2NvbnN0cnVjdG9yKGU9bnVsbCl7dGhpcy51dWlkPXNpKCksdGhpcy5kYXRhPWUsdGhpcy52ZXJzaW9uPTB9c2V0IG5lZWRzVXBkYXRlKGUpe2U9PT0hMCYmdGhpcy52ZXJzaW9uKyt9dG9KU09OKGUpe2NvbnN0IHQ9ZT09PXZvaWQgMHx8dHlwZW9mIGU9PSJzdHJpbmciO2lmKCF0JiZlLmltYWdlc1t0aGlzLnV1aWRdIT09dm9pZCAwKXJldHVybiBlLmltYWdlc1t0aGlzLnV1aWRdO2NvbnN0IHI9e3V1aWQ6dGhpcy51dWlkLHVybDoiIn0scz10aGlzLmRhdGE7aWYocyE9PW51bGwpe2xldCBhO2lmKEFycmF5LmlzQXJyYXkocykpe2E9W107Zm9yKGxldCBuPTAsbz1zLmxlbmd0aDtuPG87bisrKXNbbl0uaXNEYXRhVGV4dHVyZT9hLnB1c2goSG4oc1tuXS5pbWFnZSkpOmEucHVzaChIbihzW25dKSl9ZWxzZSBhPUhuKHMpO3IudXJsPWF9cmV0dXJuIHR8fChlLmltYWdlc1t0aGlzLnV1aWRdPXIpLHJ9fWZ1bmN0aW9uIEhuKGkpe3JldHVybiB0eXBlb2YgSFRNTEltYWdlRWxlbWVudDwidSImJmkgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50fHx0eXBlb2YgSFRNTENhbnZhc0VsZW1lbnQ8InUiJiZpIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnR8fHR5cGVvZiBJbWFnZUJpdG1hcDwidSImJmkgaW5zdGFuY2VvZiBJbWFnZUJpdG1hcD9lci5nZXREYXRhVVJMKGkpOmkuZGF0YT97ZGF0YTpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChpLmRhdGEpLHdpZHRoOmkud2lkdGgsaGVpZ2h0OmkuaGVpZ2h0LHR5cGU6aS5kYXRhLmNvbnN0cnVjdG9yLm5hbWV9Oihjb25zb2xlLndhcm4oIlRIUkVFLlRleHR1cmU6IFVuYWJsZSB0byBzZXJpYWxpemUgVGV4dHVyZS4iKSx7fSl9X2wucHJvdG90eXBlLmlzU291cmNlPSEwO2xldCBZZz0wO2NsYXNzIGR0IGV4dGVuZHMgUWl7Y29uc3RydWN0b3IoZT1kdC5ERUZBVUxUX0lNQUdFLHQ9ZHQuREVGQVVMVF9NQVBQSU5HLHI9cXQscz1xdCxhPUl0LG49dWEsbz1YdCxoPUppLGw9MSxjPV9pKXtzdXBlcigpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJpZCIse3ZhbHVlOllnKyt9KSx0aGlzLnV1aWQ9c2koKSx0aGlzLm5hbWU9IiIsdGhpcy5zb3VyY2U9bmV3IF9sKGUpLHRoaXMubWlwbWFwcz1bXSx0aGlzLm1hcHBpbmc9dCx0aGlzLndyYXBTPXIsdGhpcy53cmFwVD1zLHRoaXMubWFnRmlsdGVyPWEsdGhpcy5taW5GaWx0ZXI9bix0aGlzLmFuaXNvdHJvcHk9bCx0aGlzLmZvcm1hdD1vLHRoaXMuaW50ZXJuYWxGb3JtYXQ9bnVsbCx0aGlzLnR5cGU9aCx0aGlzLm9mZnNldD1uZXcgZWUoMCwwKSx0aGlzLnJlcGVhdD1uZXcgZWUoMSwxKSx0aGlzLmNlbnRlcj1uZXcgZWUoMCwwKSx0aGlzLnJvdGF0aW9uPTAsdGhpcy5tYXRyaXhBdXRvVXBkYXRlPSEwLHRoaXMubWF0cml4PW5ldyB4dCx0aGlzLmdlbmVyYXRlTWlwbWFwcz0hMCx0aGlzLnByZW11bHRpcGx5QWxwaGE9ITEsdGhpcy5mbGlwWT0hMCx0aGlzLnVucGFja0FsaWdubWVudD00LHRoaXMuZW5jb2Rpbmc9Yyx0aGlzLnVzZXJEYXRhPXt9LHRoaXMudmVyc2lvbj0wLHRoaXMub25VcGRhdGU9bnVsbCx0aGlzLmlzUmVuZGVyVGFyZ2V0VGV4dHVyZT0hMSx0aGlzLm5lZWRzUE1SRU1VcGRhdGU9ITF9Z2V0IGltYWdlKCl7cmV0dXJuIHRoaXMuc291cmNlLmRhdGF9c2V0IGltYWdlKGUpe3RoaXMuc291cmNlLmRhdGE9ZX11cGRhdGVNYXRyaXgoKXt0aGlzLm1hdHJpeC5zZXRVdlRyYW5zZm9ybSh0aGlzLm9mZnNldC54LHRoaXMub2Zmc2V0LnksdGhpcy5yZXBlYXQueCx0aGlzLnJlcGVhdC55LHRoaXMucm90YXRpb24sdGhpcy5jZW50ZXIueCx0aGlzLmNlbnRlci55KX1jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyl9Y29weShlKXtyZXR1cm4gdGhpcy5uYW1lPWUubmFtZSx0aGlzLnNvdXJjZT1lLnNvdXJjZSx0aGlzLm1pcG1hcHM9ZS5taXBtYXBzLnNsaWNlKDApLHRoaXMubWFwcGluZz1lLm1hcHBpbmcsdGhpcy53cmFwUz1lLndyYXBTLHRoaXMud3JhcFQ9ZS53cmFwVCx0aGlzLm1hZ0ZpbHRlcj1lLm1hZ0ZpbHRlcix0aGlzLm1pbkZpbHRlcj1lLm1pbkZpbHRlcix0aGlzLmFuaXNvdHJvcHk9ZS5hbmlzb3Ryb3B5LHRoaXMuZm9ybWF0PWUuZm9ybWF0LHRoaXMuaW50ZXJuYWxGb3JtYXQ9ZS5pbnRlcm5hbEZvcm1hdCx0aGlzLnR5cGU9ZS50eXBlLHRoaXMub2Zmc2V0LmNvcHkoZS5vZmZzZXQpLHRoaXMucmVwZWF0LmNvcHkoZS5yZXBlYXQpLHRoaXMuY2VudGVyLmNvcHkoZS5jZW50ZXIpLHRoaXMucm90YXRpb249ZS5yb3RhdGlvbix0aGlzLm1hdHJpeEF1dG9VcGRhdGU9ZS5tYXRyaXhBdXRvVXBkYXRlLHRoaXMubWF0cml4LmNvcHkoZS5tYXRyaXgpLHRoaXMuZ2VuZXJhdGVNaXBtYXBzPWUuZ2VuZXJhdGVNaXBtYXBzLHRoaXMucHJlbXVsdGlwbHlBbHBoYT1lLnByZW11bHRpcGx5QWxwaGEsdGhpcy5mbGlwWT1lLmZsaXBZLHRoaXMudW5wYWNrQWxpZ25tZW50PWUudW5wYWNrQWxpZ25tZW50LHRoaXMuZW5jb2Rpbmc9ZS5lbmNvZGluZyx0aGlzLnVzZXJEYXRhPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZS51c2VyRGF0YSkpLHRoaXMubmVlZHNVcGRhdGU9ITAsdGhpc310b0pTT04oZSl7Y29uc3QgdD1lPT09dm9pZCAwfHx0eXBlb2YgZT09InN0cmluZyI7aWYoIXQmJmUudGV4dHVyZXNbdGhpcy51dWlkXSE9PXZvaWQgMClyZXR1cm4gZS50ZXh0dXJlc1t0aGlzLnV1aWRdO2NvbnN0IHI9e21ldGFkYXRhOnt2ZXJzaW9uOjQuNSx0eXBlOiJUZXh0dXJlIixnZW5lcmF0b3I6IlRleHR1cmUudG9KU09OIn0sdXVpZDp0aGlzLnV1aWQsbmFtZTp0aGlzLm5hbWUsaW1hZ2U6dGhpcy5zb3VyY2UudG9KU09OKGUpLnV1aWQsbWFwcGluZzp0aGlzLm1hcHBpbmcscmVwZWF0Olt0aGlzLnJlcGVhdC54LHRoaXMucmVwZWF0LnldLG9mZnNldDpbdGhpcy5vZmZzZXQueCx0aGlzLm9mZnNldC55XSxjZW50ZXI6W3RoaXMuY2VudGVyLngsdGhpcy5jZW50ZXIueV0scm90YXRpb246dGhpcy5yb3RhdGlvbix3cmFwOlt0aGlzLndyYXBTLHRoaXMud3JhcFRdLGZvcm1hdDp0aGlzLmZvcm1hdCx0eXBlOnRoaXMudHlwZSxlbmNvZGluZzp0aGlzLmVuY29kaW5nLG1pbkZpbHRlcjp0aGlzLm1pbkZpbHRlcixtYWdGaWx0ZXI6dGhpcy5tYWdGaWx0ZXIsYW5pc290cm9weTp0aGlzLmFuaXNvdHJvcHksZmxpcFk6dGhpcy5mbGlwWSxwcmVtdWx0aXBseUFscGhhOnRoaXMucHJlbXVsdGlwbHlBbHBoYSx1bnBhY2tBbGlnbm1lbnQ6dGhpcy51bnBhY2tBbGlnbm1lbnR9O3JldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLnVzZXJEYXRhKSE9PSJ7fSImJihyLnVzZXJEYXRhPXRoaXMudXNlckRhdGEpLHR8fChlLnRleHR1cmVzW3RoaXMudXVpZF09cikscn1kaXNwb3NlKCl7dGhpcy5kaXNwYXRjaEV2ZW50KHt0eXBlOiJkaXNwb3NlIn0pfXRyYW5zZm9ybVV2KGUpe2lmKHRoaXMubWFwcGluZyE9PVdoKXJldHVybiBlO2lmKGUuYXBwbHlNYXRyaXgzKHRoaXMubWF0cml4KSxlLng8MHx8ZS54PjEpc3dpdGNoKHRoaXMud3JhcFMpe2Nhc2UgU246ZS54PWUueC1NYXRoLmZsb29yKGUueCk7YnJlYWs7Y2FzZSBxdDplLng9ZS54PDA/MDoxO2JyZWFrO2Nhc2UgRW46TWF0aC5hYnMoTWF0aC5mbG9vcihlLngpJTIpPT09MT9lLng9TWF0aC5jZWlsKGUueCktZS54OmUueD1lLngtTWF0aC5mbG9vcihlLngpO2JyZWFrfWlmKGUueTwwfHxlLnk+MSlzd2l0Y2godGhpcy53cmFwVCl7Y2FzZSBTbjplLnk9ZS55LU1hdGguZmxvb3IoZS55KTticmVhaztjYXNlIHF0OmUueT1lLnk8MD8wOjE7YnJlYWs7Y2FzZSBFbjpNYXRoLmFicyhNYXRoLmZsb29yKGUueSklMik9PT0xP2UueT1NYXRoLmNlaWwoZS55KS1lLnk6ZS55PWUueS1NYXRoLmZsb29yKGUueSk7YnJlYWt9cmV0dXJuIHRoaXMuZmxpcFkmJihlLnk9MS1lLnkpLGV9c2V0IG5lZWRzVXBkYXRlKGUpe2U9PT0hMCYmKHRoaXMudmVyc2lvbisrLHRoaXMuc291cmNlLm5lZWRzVXBkYXRlPSEwKX19ZHQuREVGQVVMVF9JTUFHRT1udWxsLGR0LkRFRkFVTFRfTUFQUElORz1XaCxkdC5wcm90b3R5cGUuaXNUZXh0dXJlPSEwO2NsYXNzIFhle2NvbnN0cnVjdG9yKGU9MCx0PTAscj0wLHM9MSl7dGhpcy54PWUsdGhpcy55PXQsdGhpcy56PXIsdGhpcy53PXN9Z2V0IHdpZHRoKCl7cmV0dXJuIHRoaXMuen1zZXQgd2lkdGgoZSl7dGhpcy56PWV9Z2V0IGhlaWdodCgpe3JldHVybiB0aGlzLnd9c2V0IGhlaWdodChlKXt0aGlzLnc9ZX1zZXQoZSx0LHIscyl7cmV0dXJuIHRoaXMueD1lLHRoaXMueT10LHRoaXMuej1yLHRoaXMudz1zLHRoaXN9c2V0U2NhbGFyKGUpe3JldHVybiB0aGlzLng9ZSx0aGlzLnk9ZSx0aGlzLno9ZSx0aGlzLnc9ZSx0aGlzfXNldFgoZSl7cmV0dXJuIHRoaXMueD1lLHRoaXN9c2V0WShlKXtyZXR1cm4gdGhpcy55PWUsdGhpc31zZXRaKGUpe3JldHVybiB0aGlzLno9ZSx0aGlzfXNldFcoZSl7cmV0dXJuIHRoaXMudz1lLHRoaXN9c2V0Q29tcG9uZW50KGUsdCl7c3dpdGNoKGUpe2Nhc2UgMDp0aGlzLng9dDticmVhaztjYXNlIDE6dGhpcy55PXQ7YnJlYWs7Y2FzZSAyOnRoaXMuej10O2JyZWFrO2Nhc2UgMzp0aGlzLnc9dDticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiaW5kZXggaXMgb3V0IG9mIHJhbmdlOiAiK2UpfXJldHVybiB0aGlzfWdldENvbXBvbmVudChlKXtzd2l0Y2goZSl7Y2FzZSAwOnJldHVybiB0aGlzLng7Y2FzZSAxOnJldHVybiB0aGlzLnk7Y2FzZSAyOnJldHVybiB0aGlzLno7Y2FzZSAzOnJldHVybiB0aGlzLnc7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoImluZGV4IGlzIG91dCBvZiByYW5nZTogIitlKX19Y2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54LHRoaXMueSx0aGlzLnosdGhpcy53KX1jb3B5KGUpe3JldHVybiB0aGlzLng9ZS54LHRoaXMueT1lLnksdGhpcy56PWUueix0aGlzLnc9ZS53IT09dm9pZCAwP2UudzoxLHRoaXN9YWRkKGUsdCl7cmV0dXJuIHQhPT12b2lkIDA/KGNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yNDogLmFkZCgpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLmFkZFZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLiIpLHRoaXMuYWRkVmVjdG9ycyhlLHQpKToodGhpcy54Kz1lLngsdGhpcy55Kz1lLnksdGhpcy56Kz1lLnosdGhpcy53Kz1lLncsdGhpcyl9YWRkU2NhbGFyKGUpe3JldHVybiB0aGlzLngrPWUsdGhpcy55Kz1lLHRoaXMueis9ZSx0aGlzLncrPWUsdGhpc31hZGRWZWN0b3JzKGUsdCl7cmV0dXJuIHRoaXMueD1lLngrdC54LHRoaXMueT1lLnkrdC55LHRoaXMuej1lLnordC56LHRoaXMudz1lLncrdC53LHRoaXN9YWRkU2NhbGVkVmVjdG9yKGUsdCl7cmV0dXJuIHRoaXMueCs9ZS54KnQsdGhpcy55Kz1lLnkqdCx0aGlzLnorPWUueip0LHRoaXMudys9ZS53KnQsdGhpc31zdWIoZSx0KXtyZXR1cm4gdCE9PXZvaWQgMD8oY29uc29sZS53YXJuKCJUSFJFRS5WZWN0b3I0OiAuc3ViKCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAuc3ViVmVjdG9ycyggYSwgYiApIGluc3RlYWQuIiksdGhpcy5zdWJWZWN0b3JzKGUsdCkpOih0aGlzLngtPWUueCx0aGlzLnktPWUueSx0aGlzLnotPWUueix0aGlzLnctPWUudyx0aGlzKX1zdWJTY2FsYXIoZSl7cmV0dXJuIHRoaXMueC09ZSx0aGlzLnktPWUsdGhpcy56LT1lLHRoaXMudy09ZSx0aGlzfXN1YlZlY3RvcnMoZSx0KXtyZXR1cm4gdGhpcy54PWUueC10LngsdGhpcy55PWUueS10LnksdGhpcy56PWUuei10LnosdGhpcy53PWUudy10LncsdGhpc31tdWx0aXBseShlKXtyZXR1cm4gdGhpcy54Kj1lLngsdGhpcy55Kj1lLnksdGhpcy56Kj1lLnosdGhpcy53Kj1lLncsdGhpc31tdWx0aXBseVNjYWxhcihlKXtyZXR1cm4gdGhpcy54Kj1lLHRoaXMueSo9ZSx0aGlzLnoqPWUsdGhpcy53Kj1lLHRoaXN9YXBwbHlNYXRyaXg0KGUpe2NvbnN0IHQ9dGhpcy54LHI9dGhpcy55LHM9dGhpcy56LGE9dGhpcy53LG49ZS5lbGVtZW50cztyZXR1cm4gdGhpcy54PW5bMF0qdCtuWzRdKnIrbls4XSpzK25bMTJdKmEsdGhpcy55PW5bMV0qdCtuWzVdKnIrbls5XSpzK25bMTNdKmEsdGhpcy56PW5bMl0qdCtuWzZdKnIrblsxMF0qcytuWzE0XSphLHRoaXMudz1uWzNdKnQrbls3XSpyK25bMTFdKnMrblsxNV0qYSx0aGlzfWRpdmlkZVNjYWxhcihlKXtyZXR1cm4gdGhpcy5tdWx0aXBseVNjYWxhcigxL2UpfXNldEF4aXNBbmdsZUZyb21RdWF0ZXJuaW9uKGUpe3RoaXMudz0yKk1hdGguYWNvcyhlLncpO2NvbnN0IHQ9TWF0aC5zcXJ0KDEtZS53KmUudyk7cmV0dXJuIHQ8MWUtND8odGhpcy54PTEsdGhpcy55PTAsdGhpcy56PTApOih0aGlzLng9ZS54L3QsdGhpcy55PWUueS90LHRoaXMuej1lLnovdCksdGhpc31zZXRBeGlzQW5nbGVGcm9tUm90YXRpb25NYXRyaXgoZSl7bGV0IHQscixzLGE7Y29uc3Qgbj1lLmVsZW1lbnRzLG89blswXSxoPW5bNF0sbD1uWzhdLGM9blsxXSx1PW5bNV0sZD1uWzldLHA9blsyXSxnPW5bNl0sZj1uWzEwXTtpZihNYXRoLmFicyhoLWMpPC4wMSYmTWF0aC5hYnMobC1wKTwuMDEmJk1hdGguYWJzKGQtZyk8LjAxKXtpZihNYXRoLmFicyhoK2MpPC4xJiZNYXRoLmFicyhsK3ApPC4xJiZNYXRoLmFicyhkK2cpPC4xJiZNYXRoLmFicyhvK3UrZi0zKTwuMSlyZXR1cm4gdGhpcy5zZXQoMSwwLDAsMCksdGhpczt0PU1hdGguUEk7Y29uc3Qgdj0obysxKS8yLHk9KHUrMSkvMixUPShmKzEpLzIsdz0oaCtjKS80LGI9KGwrcCkvNCxMPShkK2cpLzQ7cmV0dXJuIHY+eSYmdj5UP3Y8LjAxPyhyPTAscz0uNzA3MTA2NzgxLGE9LjcwNzEwNjc4MSk6KHI9TWF0aC5zcXJ0KHYpLHM9dy9yLGE9Yi9yKTp5PlQ/eTwuMDE/KHI9LjcwNzEwNjc4MSxzPTAsYT0uNzA3MTA2NzgxKToocz1NYXRoLnNxcnQoeSkscj13L3MsYT1ML3MpOlQ8LjAxPyhyPS43MDcxMDY3ODEscz0uNzA3MTA2NzgxLGE9MCk6KGE9TWF0aC5zcXJ0KFQpLHI9Yi9hLHM9TC9hKSx0aGlzLnNldChyLHMsYSx0KSx0aGlzfWxldCBtPU1hdGguc3FydCgoZy1kKSooZy1kKSsobC1wKSoobC1wKSsoYy1oKSooYy1oKSk7cmV0dXJuIE1hdGguYWJzKG0pPC4wMDEmJihtPTEpLHRoaXMueD0oZy1kKS9tLHRoaXMueT0obC1wKS9tLHRoaXMuej0oYy1oKS9tLHRoaXMudz1NYXRoLmFjb3MoKG8rdStmLTEpLzIpLHRoaXN9bWluKGUpe3JldHVybiB0aGlzLng9TWF0aC5taW4odGhpcy54LGUueCksdGhpcy55PU1hdGgubWluKHRoaXMueSxlLnkpLHRoaXMuej1NYXRoLm1pbih0aGlzLnosZS56KSx0aGlzLnc9TWF0aC5taW4odGhpcy53LGUudyksdGhpc31tYXgoZSl7cmV0dXJuIHRoaXMueD1NYXRoLm1heCh0aGlzLngsZS54KSx0aGlzLnk9TWF0aC5tYXgodGhpcy55LGUueSksdGhpcy56PU1hdGgubWF4KHRoaXMueixlLnopLHRoaXMudz1NYXRoLm1heCh0aGlzLncsZS53KSx0aGlzfWNsYW1wKGUsdCl7cmV0dXJuIHRoaXMueD1NYXRoLm1heChlLngsTWF0aC5taW4odC54LHRoaXMueCkpLHRoaXMueT1NYXRoLm1heChlLnksTWF0aC5taW4odC55LHRoaXMueSkpLHRoaXMuej1NYXRoLm1heChlLnosTWF0aC5taW4odC56LHRoaXMueikpLHRoaXMudz1NYXRoLm1heChlLncsTWF0aC5taW4odC53LHRoaXMudykpLHRoaXN9Y2xhbXBTY2FsYXIoZSx0KXtyZXR1cm4gdGhpcy54PU1hdGgubWF4KGUsTWF0aC5taW4odCx0aGlzLngpKSx0aGlzLnk9TWF0aC5tYXgoZSxNYXRoLm1pbih0LHRoaXMueSkpLHRoaXMuej1NYXRoLm1heChlLE1hdGgubWluKHQsdGhpcy56KSksdGhpcy53PU1hdGgubWF4KGUsTWF0aC5taW4odCx0aGlzLncpKSx0aGlzfWNsYW1wTGVuZ3RoKGUsdCl7Y29uc3Qgcj10aGlzLmxlbmd0aCgpO3JldHVybiB0aGlzLmRpdmlkZVNjYWxhcihyfHwxKS5tdWx0aXBseVNjYWxhcihNYXRoLm1heChlLE1hdGgubWluKHQscikpKX1mbG9vcigpe3JldHVybiB0aGlzLng9TWF0aC5mbG9vcih0aGlzLngpLHRoaXMueT1NYXRoLmZsb29yKHRoaXMueSksdGhpcy56PU1hdGguZmxvb3IodGhpcy56KSx0aGlzLnc9TWF0aC5mbG9vcih0aGlzLncpLHRoaXN9Y2VpbCgpe3JldHVybiB0aGlzLng9TWF0aC5jZWlsKHRoaXMueCksdGhpcy55PU1hdGguY2VpbCh0aGlzLnkpLHRoaXMuej1NYXRoLmNlaWwodGhpcy56KSx0aGlzLnc9TWF0aC5jZWlsKHRoaXMudyksdGhpc31yb3VuZCgpe3JldHVybiB0aGlzLng9TWF0aC5yb3VuZCh0aGlzLngpLHRoaXMueT1NYXRoLnJvdW5kKHRoaXMueSksdGhpcy56PU1hdGgucm91bmQodGhpcy56KSx0aGlzLnc9TWF0aC5yb3VuZCh0aGlzLncpLHRoaXN9cm91bmRUb1plcm8oKXtyZXR1cm4gdGhpcy54PXRoaXMueDwwP01hdGguY2VpbCh0aGlzLngpOk1hdGguZmxvb3IodGhpcy54KSx0aGlzLnk9dGhpcy55PDA/TWF0aC5jZWlsKHRoaXMueSk6TWF0aC5mbG9vcih0aGlzLnkpLHRoaXMuej10aGlzLno8MD9NYXRoLmNlaWwodGhpcy56KTpNYXRoLmZsb29yKHRoaXMueiksdGhpcy53PXRoaXMudzwwP01hdGguY2VpbCh0aGlzLncpOk1hdGguZmxvb3IodGhpcy53KSx0aGlzfW5lZ2F0ZSgpe3JldHVybiB0aGlzLng9LXRoaXMueCx0aGlzLnk9LXRoaXMueSx0aGlzLno9LXRoaXMueix0aGlzLnc9LXRoaXMudyx0aGlzfWRvdChlKXtyZXR1cm4gdGhpcy54KmUueCt0aGlzLnkqZS55K3RoaXMueiplLnordGhpcy53KmUud31sZW5ndGhTcSgpe3JldHVybiB0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkrdGhpcy56KnRoaXMueit0aGlzLncqdGhpcy53fWxlbmd0aCgpe3JldHVybiBNYXRoLnNxcnQodGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55K3RoaXMueip0aGlzLnordGhpcy53KnRoaXMudyl9bWFuaGF0dGFuTGVuZ3RoKCl7cmV0dXJuIE1hdGguYWJzKHRoaXMueCkrTWF0aC5hYnModGhpcy55KStNYXRoLmFicyh0aGlzLnopK01hdGguYWJzKHRoaXMudyl9bm9ybWFsaXplKCl7cmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKHRoaXMubGVuZ3RoKCl8fDEpfXNldExlbmd0aChlKXtyZXR1cm4gdGhpcy5ub3JtYWxpemUoKS5tdWx0aXBseVNjYWxhcihlKX1sZXJwKGUsdCl7cmV0dXJuIHRoaXMueCs9KGUueC10aGlzLngpKnQsdGhpcy55Kz0oZS55LXRoaXMueSkqdCx0aGlzLnorPShlLnotdGhpcy56KSp0LHRoaXMudys9KGUudy10aGlzLncpKnQsdGhpc31sZXJwVmVjdG9ycyhlLHQscil7cmV0dXJuIHRoaXMueD1lLngrKHQueC1lLngpKnIsdGhpcy55PWUueSsodC55LWUueSkqcix0aGlzLno9ZS56Kyh0LnotZS56KSpyLHRoaXMudz1lLncrKHQudy1lLncpKnIsdGhpc31lcXVhbHMoZSl7cmV0dXJuIGUueD09PXRoaXMueCYmZS55PT09dGhpcy55JiZlLno9PT10aGlzLnomJmUudz09PXRoaXMud31mcm9tQXJyYXkoZSx0PTApe3JldHVybiB0aGlzLng9ZVt0XSx0aGlzLnk9ZVt0KzFdLHRoaXMuej1lW3QrMl0sdGhpcy53PWVbdCszXSx0aGlzfXRvQXJyYXkoZT1bXSx0PTApe3JldHVybiBlW3RdPXRoaXMueCxlW3QrMV09dGhpcy55LGVbdCsyXT10aGlzLnosZVt0KzNdPXRoaXMudyxlfWZyb21CdWZmZXJBdHRyaWJ1dGUoZSx0LHIpe3JldHVybiByIT09dm9pZCAwJiZjb25zb2xlLndhcm4oIlRIUkVFLlZlY3RvcjQ6IG9mZnNldCBoYXMgYmVlbiByZW1vdmVkIGZyb20gLmZyb21CdWZmZXJBdHRyaWJ1dGUoKS4iKSx0aGlzLng9ZS5nZXRYKHQpLHRoaXMueT1lLmdldFkodCksdGhpcy56PWUuZ2V0Wih0KSx0aGlzLnc9ZS5nZXRXKHQpLHRoaXN9cmFuZG9tKCl7cmV0dXJuIHRoaXMueD1NYXRoLnJhbmRvbSgpLHRoaXMueT1NYXRoLnJhbmRvbSgpLHRoaXMuej1NYXRoLnJhbmRvbSgpLHRoaXMudz1NYXRoLnJhbmRvbSgpLHRoaXN9KltTeW1ib2wuaXRlcmF0b3JdKCl7eWllbGQgdGhpcy54LHlpZWxkIHRoaXMueSx5aWVsZCB0aGlzLnoseWllbGQgdGhpcy53fX1YZS5wcm90b3R5cGUuaXNWZWN0b3I0PSEwO2NsYXNzIHp0IGV4dGVuZHMgUWl7Y29uc3RydWN0b3IoZSx0LHI9e30pe3N1cGVyKCk7dGhpcy53aWR0aD1lLHRoaXMuaGVpZ2h0PXQsdGhpcy5kZXB0aD0xLHRoaXMuc2Npc3Nvcj1uZXcgWGUoMCwwLGUsdCksdGhpcy5zY2lzc29yVGVzdD0hMSx0aGlzLnZpZXdwb3J0PW5ldyBYZSgwLDAsZSx0KTtjb25zdCBzPXt3aWR0aDplLGhlaWdodDp0LGRlcHRoOjF9O3RoaXMudGV4dHVyZT1uZXcgZHQocyxyLm1hcHBpbmcsci53cmFwUyxyLndyYXBULHIubWFnRmlsdGVyLHIubWluRmlsdGVyLHIuZm9ybWF0LHIudHlwZSxyLmFuaXNvdHJvcHksci5lbmNvZGluZyksdGhpcy50ZXh0dXJlLmlzUmVuZGVyVGFyZ2V0VGV4dHVyZT0hMCx0aGlzLnRleHR1cmUuZmxpcFk9ITEsdGhpcy50ZXh0dXJlLmdlbmVyYXRlTWlwbWFwcz1yLmdlbmVyYXRlTWlwbWFwcyE9PXZvaWQgMD9yLmdlbmVyYXRlTWlwbWFwczohMSx0aGlzLnRleHR1cmUuaW50ZXJuYWxGb3JtYXQ9ci5pbnRlcm5hbEZvcm1hdCE9PXZvaWQgMD9yLmludGVybmFsRm9ybWF0Om51bGwsdGhpcy50ZXh0dXJlLm1pbkZpbHRlcj1yLm1pbkZpbHRlciE9PXZvaWQgMD9yLm1pbkZpbHRlcjpJdCx0aGlzLmRlcHRoQnVmZmVyPXIuZGVwdGhCdWZmZXIhPT12b2lkIDA/ci5kZXB0aEJ1ZmZlcjohMCx0aGlzLnN0ZW5jaWxCdWZmZXI9ci5zdGVuY2lsQnVmZmVyIT09dm9pZCAwP3Iuc3RlbmNpbEJ1ZmZlcjohMSx0aGlzLmRlcHRoVGV4dHVyZT1yLmRlcHRoVGV4dHVyZSE9PXZvaWQgMD9yLmRlcHRoVGV4dHVyZTpudWxsLHRoaXMuc2FtcGxlcz1yLnNhbXBsZXMhPT12b2lkIDA/ci5zYW1wbGVzOjB9c2V0U2l6ZShlLHQscj0xKXsodGhpcy53aWR0aCE9PWV8fHRoaXMuaGVpZ2h0IT09dHx8dGhpcy5kZXB0aCE9PXIpJiYodGhpcy53aWR0aD1lLHRoaXMuaGVpZ2h0PXQsdGhpcy5kZXB0aD1yLHRoaXMudGV4dHVyZS5pbWFnZS53aWR0aD1lLHRoaXMudGV4dHVyZS5pbWFnZS5oZWlnaHQ9dCx0aGlzLnRleHR1cmUuaW1hZ2UuZGVwdGg9cix0aGlzLmRpc3Bvc2UoKSksdGhpcy52aWV3cG9ydC5zZXQoMCwwLGUsdCksdGhpcy5zY2lzc29yLnNldCgwLDAsZSx0KX1jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyl9Y29weShlKXtyZXR1cm4gdGhpcy53aWR0aD1lLndpZHRoLHRoaXMuaGVpZ2h0PWUuaGVpZ2h0LHRoaXMuZGVwdGg9ZS5kZXB0aCx0aGlzLnZpZXdwb3J0LmNvcHkoZS52aWV3cG9ydCksdGhpcy50ZXh0dXJlPWUudGV4dHVyZS5jbG9uZSgpLHRoaXMudGV4dHVyZS5pc1JlbmRlclRhcmdldFRleHR1cmU9ITAsdGhpcy50ZXh0dXJlLmltYWdlPU9iamVjdC5hc3NpZ24oe30sZS50ZXh0dXJlLmltYWdlKSx0aGlzLmRlcHRoQnVmZmVyPWUuZGVwdGhCdWZmZXIsdGhpcy5zdGVuY2lsQnVmZmVyPWUuc3RlbmNpbEJ1ZmZlcixlLmRlcHRoVGV4dHVyZSE9PW51bGwmJih0aGlzLmRlcHRoVGV4dHVyZT1lLmRlcHRoVGV4dHVyZS5jbG9uZSgpKSx0aGlzLnNhbXBsZXM9ZS5zYW1wbGVzLHRoaXN9ZGlzcG9zZSgpe3RoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZToiZGlzcG9zZSJ9KX19enQucHJvdG90eXBlLmlzV2ViR0xSZW5kZXJUYXJnZXQ9ITA7Y2xhc3MgeWEgZXh0ZW5kcyBkdHtjb25zdHJ1Y3RvcihlPW51bGwsdD0xLHI9MSxzPTEpe3N1cGVyKG51bGwpO3RoaXMuaW1hZ2U9e2RhdGE6ZSx3aWR0aDp0LGhlaWdodDpyLGRlcHRoOnN9LHRoaXMubWFnRmlsdGVyPXV0LHRoaXMubWluRmlsdGVyPXV0LHRoaXMud3JhcFI9cXQsdGhpcy5nZW5lcmF0ZU1pcG1hcHM9ITEsdGhpcy5mbGlwWT0hMSx0aGlzLnVucGFja0FsaWdubWVudD0xfX15YS5wcm90b3R5cGUuaXNEYXRhQXJyYXlUZXh0dXJlPSEwO2NsYXNzIFpnIGV4dGVuZHMgenR7Y29uc3RydWN0b3IoZSx0LHIpe3N1cGVyKGUsdCk7dGhpcy5kZXB0aD1yLHRoaXMudGV4dHVyZT1uZXcgeWEobnVsbCxlLHQsciksdGhpcy50ZXh0dXJlLmlzUmVuZGVyVGFyZ2V0VGV4dHVyZT0hMH19WmcucHJvdG90eXBlLmlzV2ViR0xBcnJheVJlbmRlclRhcmdldD0hMDtjbGFzcyBrbiBleHRlbmRzIGR0e2NvbnN0cnVjdG9yKGU9bnVsbCx0PTEscj0xLHM9MSl7c3VwZXIobnVsbCk7dGhpcy5pbWFnZT17ZGF0YTplLHdpZHRoOnQsaGVpZ2h0OnIsZGVwdGg6c30sdGhpcy5tYWdGaWx0ZXI9dXQsdGhpcy5taW5GaWx0ZXI9dXQsdGhpcy53cmFwUj1xdCx0aGlzLmdlbmVyYXRlTWlwbWFwcz0hMSx0aGlzLmZsaXBZPSExLHRoaXMudW5wYWNrQWxpZ25tZW50PTF9fWtuLnByb3RvdHlwZS5pc0RhdGEzRFRleHR1cmU9ITA7Y2xhc3MgS2cgZXh0ZW5kcyB6dHtjb25zdHJ1Y3RvcihlLHQscil7c3VwZXIoZSx0KTt0aGlzLmRlcHRoPXIsdGhpcy50ZXh0dXJlPW5ldyBrbihudWxsLGUsdCxyKSx0aGlzLnRleHR1cmUuaXNSZW5kZXJUYXJnZXRUZXh0dXJlPSEwfX1LZy5wcm90b3R5cGUuaXNXZWJHTDNEUmVuZGVyVGFyZ2V0PSEwO2NsYXNzIFFnIGV4dGVuZHMgenR7Y29uc3RydWN0b3IoZSx0LHIscz17fSl7c3VwZXIoZSx0LHMpO2NvbnN0IGE9dGhpcy50ZXh0dXJlO3RoaXMudGV4dHVyZT1bXTtmb3IobGV0IG49MDtuPHI7bisrKXRoaXMudGV4dHVyZVtuXT1hLmNsb25lKCksdGhpcy50ZXh0dXJlW25dLmlzUmVuZGVyVGFyZ2V0VGV4dHVyZT0hMH1zZXRTaXplKGUsdCxyPTEpe2lmKHRoaXMud2lkdGghPT1lfHx0aGlzLmhlaWdodCE9PXR8fHRoaXMuZGVwdGghPT1yKXt0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9dCx0aGlzLmRlcHRoPXI7Zm9yKGxldCBzPTAsYT10aGlzLnRleHR1cmUubGVuZ3RoO3M8YTtzKyspdGhpcy50ZXh0dXJlW3NdLmltYWdlLndpZHRoPWUsdGhpcy50ZXh0dXJlW3NdLmltYWdlLmhlaWdodD10LHRoaXMudGV4dHVyZVtzXS5pbWFnZS5kZXB0aD1yO3RoaXMuZGlzcG9zZSgpfXJldHVybiB0aGlzLnZpZXdwb3J0LnNldCgwLDAsZSx0KSx0aGlzLnNjaXNzb3Iuc2V0KDAsMCxlLHQpLHRoaXN9Y29weShlKXt0aGlzLmRpc3Bvc2UoKSx0aGlzLndpZHRoPWUud2lkdGgsdGhpcy5oZWlnaHQ9ZS5oZWlnaHQsdGhpcy5kZXB0aD1lLmRlcHRoLHRoaXMudmlld3BvcnQuc2V0KDAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSx0aGlzLnNjaXNzb3Iuc2V0KDAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSx0aGlzLmRlcHRoQnVmZmVyPWUuZGVwdGhCdWZmZXIsdGhpcy5zdGVuY2lsQnVmZmVyPWUuc3RlbmNpbEJ1ZmZlcix0aGlzLmRlcHRoVGV4dHVyZT1lLmRlcHRoVGV4dHVyZSx0aGlzLnRleHR1cmUubGVuZ3RoPTA7Zm9yKGxldCB0PTAscj1lLnRleHR1cmUubGVuZ3RoO3Q8cjt0KyspdGhpcy50ZXh0dXJlW3RdPWUudGV4dHVyZVt0XS5jbG9uZSgpO3JldHVybiB0aGlzfX1RZy5wcm90b3R5cGUuaXNXZWJHTE11bHRpcGxlUmVuZGVyVGFyZ2V0cz0hMDtjbGFzcyBUdHtjb25zdHJ1Y3RvcihlPTAsdD0wLHI9MCxzPTEpe3RoaXMuX3g9ZSx0aGlzLl95PXQsdGhpcy5fej1yLHRoaXMuX3c9c31zdGF0aWMgc2xlcnAoZSx0LHIscyl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuUXVhdGVybmlvbjogU3RhdGljIC5zbGVycCgpIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSBxbS5zbGVycFF1YXRlcm5pb25zKCBxYSwgcWIsIHQgKSBpbnN0ZWFkLiIpLHIuc2xlcnBRdWF0ZXJuaW9ucyhlLHQscyl9c3RhdGljIHNsZXJwRmxhdChlLHQscixzLGEsbixvKXtsZXQgaD1yW3MrMF0sbD1yW3MrMV0sYz1yW3MrMl0sdT1yW3MrM107Y29uc3QgZD1hW24rMF0scD1hW24rMV0sZz1hW24rMl0sZj1hW24rM107aWYobz09PTApe2VbdCswXT1oLGVbdCsxXT1sLGVbdCsyXT1jLGVbdCszXT11O3JldHVybn1pZihvPT09MSl7ZVt0KzBdPWQsZVt0KzFdPXAsZVt0KzJdPWcsZVt0KzNdPWY7cmV0dXJufWlmKHUhPT1mfHxoIT09ZHx8bCE9PXB8fGMhPT1nKXtsZXQgbT0xLW87Y29uc3Qgdj1oKmQrbCpwK2MqZyt1KmYseT12Pj0wPzE6LTEsVD0xLXYqdjtpZihUPk51bWJlci5FUFNJTE9OKXtjb25zdCBiPU1hdGguc3FydChUKSxMPU1hdGguYXRhbjIoYix2KnkpO209TWF0aC5zaW4obSpMKS9iLG89TWF0aC5zaW4obypMKS9ifWNvbnN0IHc9byp5O2lmKGg9aCptK2QqdyxsPWwqbStwKncsYz1jKm0rZyp3LHU9dSptK2YqdyxtPT09MS1vKXtjb25zdCBiPTEvTWF0aC5zcXJ0KGgqaCtsKmwrYypjK3UqdSk7aCo9YixsKj1iLGMqPWIsdSo9Yn19ZVt0XT1oLGVbdCsxXT1sLGVbdCsyXT1jLGVbdCszXT11fXN0YXRpYyBtdWx0aXBseVF1YXRlcm5pb25zRmxhdChlLHQscixzLGEsbil7Y29uc3Qgbz1yW3NdLGg9cltzKzFdLGw9cltzKzJdLGM9cltzKzNdLHU9YVtuXSxkPWFbbisxXSxwPWFbbisyXSxnPWFbbiszXTtyZXR1cm4gZVt0XT1vKmcrYyp1K2gqcC1sKmQsZVt0KzFdPWgqZytjKmQrbCp1LW8qcCxlW3QrMl09bCpnK2MqcCtvKmQtaCp1LGVbdCszXT1jKmctbyp1LWgqZC1sKnAsZX1nZXQgeCgpe3JldHVybiB0aGlzLl94fXNldCB4KGUpe3RoaXMuX3g9ZSx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCl9Z2V0IHkoKXtyZXR1cm4gdGhpcy5feX1zZXQgeShlKXt0aGlzLl95PWUsdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpfWdldCB6KCl7cmV0dXJuIHRoaXMuX3p9c2V0IHooZSl7dGhpcy5fej1lLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKX1nZXQgdygpe3JldHVybiB0aGlzLl93fXNldCB3KGUpe3RoaXMuX3c9ZSx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCl9c2V0KGUsdCxyLHMpe3JldHVybiB0aGlzLl94PWUsdGhpcy5feT10LHRoaXMuX3o9cix0aGlzLl93PXMsdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpLHRoaXN9Y2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feCx0aGlzLl95LHRoaXMuX3osdGhpcy5fdyl9Y29weShlKXtyZXR1cm4gdGhpcy5feD1lLngsdGhpcy5feT1lLnksdGhpcy5fej1lLnosdGhpcy5fdz1lLncsdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpLHRoaXN9c2V0RnJvbUV1bGVyKGUsdCl7aWYoIShlJiZlLmlzRXVsZXIpKXRocm93IG5ldyBFcnJvcigiVEhSRUUuUXVhdGVybmlvbjogLnNldEZyb21FdWxlcigpIG5vdyBleHBlY3RzIGFuIEV1bGVyIHJvdGF0aW9uIHJhdGhlciB0aGFuIGEgVmVjdG9yMyBhbmQgb3JkZXIuIik7Y29uc3Qgcj1lLl94LHM9ZS5feSxhPWUuX3osbj1lLl9vcmRlcixvPU1hdGguY29zLGg9TWF0aC5zaW4sbD1vKHIvMiksYz1vKHMvMiksdT1vKGEvMiksZD1oKHIvMikscD1oKHMvMiksZz1oKGEvMik7c3dpdGNoKG4pe2Nhc2UiWFlaIjp0aGlzLl94PWQqYyp1K2wqcCpnLHRoaXMuX3k9bCpwKnUtZCpjKmcsdGhpcy5fej1sKmMqZytkKnAqdSx0aGlzLl93PWwqYyp1LWQqcCpnO2JyZWFrO2Nhc2UiWVhaIjp0aGlzLl94PWQqYyp1K2wqcCpnLHRoaXMuX3k9bCpwKnUtZCpjKmcsdGhpcy5fej1sKmMqZy1kKnAqdSx0aGlzLl93PWwqYyp1K2QqcCpnO2JyZWFrO2Nhc2UiWlhZIjp0aGlzLl94PWQqYyp1LWwqcCpnLHRoaXMuX3k9bCpwKnUrZCpjKmcsdGhpcy5fej1sKmMqZytkKnAqdSx0aGlzLl93PWwqYyp1LWQqcCpnO2JyZWFrO2Nhc2UiWllYIjp0aGlzLl94PWQqYyp1LWwqcCpnLHRoaXMuX3k9bCpwKnUrZCpjKmcsdGhpcy5fej1sKmMqZy1kKnAqdSx0aGlzLl93PWwqYyp1K2QqcCpnO2JyZWFrO2Nhc2UiWVpYIjp0aGlzLl94PWQqYyp1K2wqcCpnLHRoaXMuX3k9bCpwKnUrZCpjKmcsdGhpcy5fej1sKmMqZy1kKnAqdSx0aGlzLl93PWwqYyp1LWQqcCpnO2JyZWFrO2Nhc2UiWFpZIjp0aGlzLl94PWQqYyp1LWwqcCpnLHRoaXMuX3k9bCpwKnUtZCpjKmcsdGhpcy5fej1sKmMqZytkKnAqdSx0aGlzLl93PWwqYyp1K2QqcCpnO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS53YXJuKCJUSFJFRS5RdWF0ZXJuaW9uOiAuc2V0RnJvbUV1bGVyKCkgZW5jb3VudGVyZWQgYW4gdW5rbm93biBvcmRlcjogIituKX1yZXR1cm4gdCE9PSExJiZ0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc31zZXRGcm9tQXhpc0FuZ2xlKGUsdCl7Y29uc3Qgcj10LzIscz1NYXRoLnNpbihyKTtyZXR1cm4gdGhpcy5feD1lLngqcyx0aGlzLl95PWUueSpzLHRoaXMuX3o9ZS56KnMsdGhpcy5fdz1NYXRoLmNvcyhyKSx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc31zZXRGcm9tUm90YXRpb25NYXRyaXgoZSl7Y29uc3QgdD1lLmVsZW1lbnRzLHI9dFswXSxzPXRbNF0sYT10WzhdLG49dFsxXSxvPXRbNV0saD10WzldLGw9dFsyXSxjPXRbNl0sdT10WzEwXSxkPXIrbyt1O2lmKGQ+MCl7Y29uc3QgcD0uNS9NYXRoLnNxcnQoZCsxKTt0aGlzLl93PS4yNS9wLHRoaXMuX3g9KGMtaCkqcCx0aGlzLl95PShhLWwpKnAsdGhpcy5fej0obi1zKSpwfWVsc2UgaWYocj5vJiZyPnUpe2NvbnN0IHA9MipNYXRoLnNxcnQoMStyLW8tdSk7dGhpcy5fdz0oYy1oKS9wLHRoaXMuX3g9LjI1KnAsdGhpcy5feT0ocytuKS9wLHRoaXMuX3o9KGErbCkvcH1lbHNlIGlmKG8+dSl7Y29uc3QgcD0yKk1hdGguc3FydCgxK28tci11KTt0aGlzLl93PShhLWwpL3AsdGhpcy5feD0ocytuKS9wLHRoaXMuX3k9LjI1KnAsdGhpcy5fej0oaCtjKS9wfWVsc2V7Y29uc3QgcD0yKk1hdGguc3FydCgxK3Utci1vKTt0aGlzLl93PShuLXMpL3AsdGhpcy5feD0oYStsKS9wLHRoaXMuX3k9KGgrYykvcCx0aGlzLl96PS4yNSpwfXJldHVybiB0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc31zZXRGcm9tVW5pdFZlY3RvcnMoZSx0KXtsZXQgcj1lLmRvdCh0KSsxO3JldHVybiByPE51bWJlci5FUFNJTE9OPyhyPTAsTWF0aC5hYnMoZS54KT5NYXRoLmFicyhlLnopPyh0aGlzLl94PS1lLnksdGhpcy5feT1lLngsdGhpcy5fej0wLHRoaXMuX3c9cik6KHRoaXMuX3g9MCx0aGlzLl95PS1lLnosdGhpcy5fej1lLnksdGhpcy5fdz1yKSk6KHRoaXMuX3g9ZS55KnQuei1lLnoqdC55LHRoaXMuX3k9ZS56KnQueC1lLngqdC56LHRoaXMuX3o9ZS54KnQueS1lLnkqdC54LHRoaXMuX3c9ciksdGhpcy5ub3JtYWxpemUoKX1hbmdsZVRvKGUpe3JldHVybiAyKk1hdGguYWNvcyhNYXRoLmFicyh5dCh0aGlzLmRvdChlKSwtMSwxKSkpfXJvdGF0ZVRvd2FyZHMoZSx0KXtjb25zdCByPXRoaXMuYW5nbGVUbyhlKTtpZihyPT09MClyZXR1cm4gdGhpcztjb25zdCBzPU1hdGgubWluKDEsdC9yKTtyZXR1cm4gdGhpcy5zbGVycChlLHMpLHRoaXN9aWRlbnRpdHkoKXtyZXR1cm4gdGhpcy5zZXQoMCwwLDAsMSl9aW52ZXJ0KCl7cmV0dXJuIHRoaXMuY29uanVnYXRlKCl9Y29uanVnYXRlKCl7cmV0dXJuIHRoaXMuX3gqPS0xLHRoaXMuX3kqPS0xLHRoaXMuX3oqPS0xLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfWRvdChlKXtyZXR1cm4gdGhpcy5feCplLl94K3RoaXMuX3kqZS5feSt0aGlzLl96KmUuX3ordGhpcy5fdyplLl93fWxlbmd0aFNxKCl7cmV0dXJuIHRoaXMuX3gqdGhpcy5feCt0aGlzLl95KnRoaXMuX3krdGhpcy5feip0aGlzLl96K3RoaXMuX3cqdGhpcy5fd31sZW5ndGgoKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuX3gqdGhpcy5feCt0aGlzLl95KnRoaXMuX3krdGhpcy5feip0aGlzLl96K3RoaXMuX3cqdGhpcy5fdyl9bm9ybWFsaXplKCl7bGV0IGU9dGhpcy5sZW5ndGgoKTtyZXR1cm4gZT09PTA/KHRoaXMuX3g9MCx0aGlzLl95PTAsdGhpcy5fej0wLHRoaXMuX3c9MSk6KGU9MS9lLHRoaXMuX3g9dGhpcy5feCplLHRoaXMuX3k9dGhpcy5feSplLHRoaXMuX3o9dGhpcy5feiplLHRoaXMuX3c9dGhpcy5fdyplKSx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc31tdWx0aXBseShlLHQpe3JldHVybiB0IT09dm9pZCAwPyhjb25zb2xlLndhcm4oIlRIUkVFLlF1YXRlcm5pb246IC5tdWx0aXBseSgpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLm11bHRpcGx5UXVhdGVybmlvbnMoIGEsIGIgKSBpbnN0ZWFkLiIpLHRoaXMubXVsdGlwbHlRdWF0ZXJuaW9ucyhlLHQpKTp0aGlzLm11bHRpcGx5UXVhdGVybmlvbnModGhpcyxlKX1wcmVtdWx0aXBseShlKXtyZXR1cm4gdGhpcy5tdWx0aXBseVF1YXRlcm5pb25zKGUsdGhpcyl9bXVsdGlwbHlRdWF0ZXJuaW9ucyhlLHQpe2NvbnN0IHI9ZS5feCxzPWUuX3ksYT1lLl96LG49ZS5fdyxvPXQuX3gsaD10Ll95LGw9dC5feixjPXQuX3c7cmV0dXJuIHRoaXMuX3g9cipjK24qbytzKmwtYSpoLHRoaXMuX3k9cypjK24qaCthKm8tcipsLHRoaXMuX3o9YSpjK24qbCtyKmgtcypvLHRoaXMuX3c9bipjLXIqby1zKmgtYSpsLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfXNsZXJwKGUsdCl7aWYodD09PTApcmV0dXJuIHRoaXM7aWYodD09PTEpcmV0dXJuIHRoaXMuY29weShlKTtjb25zdCByPXRoaXMuX3gscz10aGlzLl95LGE9dGhpcy5feixuPXRoaXMuX3c7bGV0IG89biplLl93K3IqZS5feCtzKmUuX3krYSplLl96O2lmKG88MD8odGhpcy5fdz0tZS5fdyx0aGlzLl94PS1lLl94LHRoaXMuX3k9LWUuX3ksdGhpcy5fej0tZS5feixvPS1vKTp0aGlzLmNvcHkoZSksbz49MSlyZXR1cm4gdGhpcy5fdz1uLHRoaXMuX3g9cix0aGlzLl95PXMsdGhpcy5fej1hLHRoaXM7Y29uc3QgaD0xLW8qbztpZihoPD1OdW1iZXIuRVBTSUxPTil7Y29uc3QgcD0xLXQ7cmV0dXJuIHRoaXMuX3c9cCpuK3QqdGhpcy5fdyx0aGlzLl94PXAqcit0KnRoaXMuX3gsdGhpcy5feT1wKnMrdCp0aGlzLl95LHRoaXMuX3o9cCphK3QqdGhpcy5feix0aGlzLm5vcm1hbGl6ZSgpLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfWNvbnN0IGw9TWF0aC5zcXJ0KGgpLGM9TWF0aC5hdGFuMihsLG8pLHU9TWF0aC5zaW4oKDEtdCkqYykvbCxkPU1hdGguc2luKHQqYykvbDtyZXR1cm4gdGhpcy5fdz1uKnUrdGhpcy5fdypkLHRoaXMuX3g9cip1K3RoaXMuX3gqZCx0aGlzLl95PXMqdSt0aGlzLl95KmQsdGhpcy5fej1hKnUrdGhpcy5feipkLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfXNsZXJwUXVhdGVybmlvbnMoZSx0LHIpe3JldHVybiB0aGlzLmNvcHkoZSkuc2xlcnAodCxyKX1yYW5kb20oKXtjb25zdCBlPU1hdGgucmFuZG9tKCksdD1NYXRoLnNxcnQoMS1lKSxyPU1hdGguc3FydChlKSxzPTIqTWF0aC5QSSpNYXRoLnJhbmRvbSgpLGE9MipNYXRoLlBJKk1hdGgucmFuZG9tKCk7cmV0dXJuIHRoaXMuc2V0KHQqTWF0aC5jb3MocykscipNYXRoLnNpbihhKSxyKk1hdGguY29zKGEpLHQqTWF0aC5zaW4ocykpfWVxdWFscyhlKXtyZXR1cm4gZS5feD09PXRoaXMuX3gmJmUuX3k9PT10aGlzLl95JiZlLl96PT09dGhpcy5feiYmZS5fdz09PXRoaXMuX3d9ZnJvbUFycmF5KGUsdD0wKXtyZXR1cm4gdGhpcy5feD1lW3RdLHRoaXMuX3k9ZVt0KzFdLHRoaXMuX3o9ZVt0KzJdLHRoaXMuX3c9ZVt0KzNdLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfXRvQXJyYXkoZT1bXSx0PTApe3JldHVybiBlW3RdPXRoaXMuX3gsZVt0KzFdPXRoaXMuX3ksZVt0KzJdPXRoaXMuX3osZVt0KzNdPXRoaXMuX3csZX1mcm9tQnVmZmVyQXR0cmlidXRlKGUsdCl7cmV0dXJuIHRoaXMuX3g9ZS5nZXRYKHQpLHRoaXMuX3k9ZS5nZXRZKHQpLHRoaXMuX3o9ZS5nZXRaKHQpLHRoaXMuX3c9ZS5nZXRXKHQpLHRoaXN9X29uQ2hhbmdlKGUpe3JldHVybiB0aGlzLl9vbkNoYW5nZUNhbGxiYWNrPWUsdGhpc31fb25DaGFuZ2VDYWxsYmFjaygpe319VHQucHJvdG90eXBlLmlzUXVhdGVybmlvbj0hMDtjbGFzcyBFe2NvbnN0cnVjdG9yKGU9MCx0PTAscj0wKXt0aGlzLng9ZSx0aGlzLnk9dCx0aGlzLno9cn1zZXQoZSx0LHIpe3JldHVybiByPT09dm9pZCAwJiYocj10aGlzLnopLHRoaXMueD1lLHRoaXMueT10LHRoaXMuej1yLHRoaXN9c2V0U2NhbGFyKGUpe3JldHVybiB0aGlzLng9ZSx0aGlzLnk9ZSx0aGlzLno9ZSx0aGlzfXNldFgoZSl7cmV0dXJuIHRoaXMueD1lLHRoaXN9c2V0WShlKXtyZXR1cm4gdGhpcy55PWUsdGhpc31zZXRaKGUpe3JldHVybiB0aGlzLno9ZSx0aGlzfXNldENvbXBvbmVudChlLHQpe3N3aXRjaChlKXtjYXNlIDA6dGhpcy54PXQ7YnJlYWs7Y2FzZSAxOnRoaXMueT10O2JyZWFrO2Nhc2UgMjp0aGlzLno9dDticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiaW5kZXggaXMgb3V0IG9mIHJhbmdlOiAiK2UpfXJldHVybiB0aGlzfWdldENvbXBvbmVudChlKXtzd2l0Y2goZSl7Y2FzZSAwOnJldHVybiB0aGlzLng7Y2FzZSAxOnJldHVybiB0aGlzLnk7Y2FzZSAyOnJldHVybiB0aGlzLno7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoImluZGV4IGlzIG91dCBvZiByYW5nZTogIitlKX19Y2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54LHRoaXMueSx0aGlzLnopfWNvcHkoZSl7cmV0dXJuIHRoaXMueD1lLngsdGhpcy55PWUueSx0aGlzLno9ZS56LHRoaXN9YWRkKGUsdCl7cmV0dXJuIHQhPT12b2lkIDA/KGNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yMzogLmFkZCgpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLmFkZFZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLiIpLHRoaXMuYWRkVmVjdG9ycyhlLHQpKToodGhpcy54Kz1lLngsdGhpcy55Kz1lLnksdGhpcy56Kz1lLnosdGhpcyl9YWRkU2NhbGFyKGUpe3JldHVybiB0aGlzLngrPWUsdGhpcy55Kz1lLHRoaXMueis9ZSx0aGlzfWFkZFZlY3RvcnMoZSx0KXtyZXR1cm4gdGhpcy54PWUueCt0LngsdGhpcy55PWUueSt0LnksdGhpcy56PWUueit0LnosdGhpc31hZGRTY2FsZWRWZWN0b3IoZSx0KXtyZXR1cm4gdGhpcy54Kz1lLngqdCx0aGlzLnkrPWUueSp0LHRoaXMueis9ZS56KnQsdGhpc31zdWIoZSx0KXtyZXR1cm4gdCE9PXZvaWQgMD8oY29uc29sZS53YXJuKCJUSFJFRS5WZWN0b3IzOiAuc3ViKCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAuc3ViVmVjdG9ycyggYSwgYiApIGluc3RlYWQuIiksdGhpcy5zdWJWZWN0b3JzKGUsdCkpOih0aGlzLngtPWUueCx0aGlzLnktPWUueSx0aGlzLnotPWUueix0aGlzKX1zdWJTY2FsYXIoZSl7cmV0dXJuIHRoaXMueC09ZSx0aGlzLnktPWUsdGhpcy56LT1lLHRoaXN9c3ViVmVjdG9ycyhlLHQpe3JldHVybiB0aGlzLng9ZS54LXQueCx0aGlzLnk9ZS55LXQueSx0aGlzLno9ZS56LXQueix0aGlzfW11bHRpcGx5KGUsdCl7cmV0dXJuIHQhPT12b2lkIDA/KGNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yMzogLm11bHRpcGx5KCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAubXVsdGlwbHlWZWN0b3JzKCBhLCBiICkgaW5zdGVhZC4iKSx0aGlzLm11bHRpcGx5VmVjdG9ycyhlLHQpKToodGhpcy54Kj1lLngsdGhpcy55Kj1lLnksdGhpcy56Kj1lLnosdGhpcyl9bXVsdGlwbHlTY2FsYXIoZSl7cmV0dXJuIHRoaXMueCo9ZSx0aGlzLnkqPWUsdGhpcy56Kj1lLHRoaXN9bXVsdGlwbHlWZWN0b3JzKGUsdCl7cmV0dXJuIHRoaXMueD1lLngqdC54LHRoaXMueT1lLnkqdC55LHRoaXMuej1lLnoqdC56LHRoaXN9YXBwbHlFdWxlcihlKXtyZXR1cm4gZSYmZS5pc0V1bGVyfHxjb25zb2xlLmVycm9yKCJUSFJFRS5WZWN0b3IzOiAuYXBwbHlFdWxlcigpIG5vdyBleHBlY3RzIGFuIEV1bGVyIHJvdGF0aW9uIHJhdGhlciB0aGFuIGEgVmVjdG9yMyBhbmQgb3JkZXIuIiksdGhpcy5hcHBseVF1YXRlcm5pb24oeWwuc2V0RnJvbUV1bGVyKGUpKX1hcHBseUF4aXNBbmdsZShlLHQpe3JldHVybiB0aGlzLmFwcGx5UXVhdGVybmlvbih5bC5zZXRGcm9tQXhpc0FuZ2xlKGUsdCkpfWFwcGx5TWF0cml4MyhlKXtjb25zdCB0PXRoaXMueCxyPXRoaXMueSxzPXRoaXMueixhPWUuZWxlbWVudHM7cmV0dXJuIHRoaXMueD1hWzBdKnQrYVszXSpyK2FbNl0qcyx0aGlzLnk9YVsxXSp0K2FbNF0qcithWzddKnMsdGhpcy56PWFbMl0qdCthWzVdKnIrYVs4XSpzLHRoaXN9YXBwbHlOb3JtYWxNYXRyaXgoZSl7cmV0dXJuIHRoaXMuYXBwbHlNYXRyaXgzKGUpLm5vcm1hbGl6ZSgpfWFwcGx5TWF0cml4NChlKXtjb25zdCB0PXRoaXMueCxyPXRoaXMueSxzPXRoaXMueixhPWUuZWxlbWVudHMsbj0xLyhhWzNdKnQrYVs3XSpyK2FbMTFdKnMrYVsxNV0pO3JldHVybiB0aGlzLng9KGFbMF0qdCthWzRdKnIrYVs4XSpzK2FbMTJdKSpuLHRoaXMueT0oYVsxXSp0K2FbNV0qcithWzldKnMrYVsxM10pKm4sdGhpcy56PShhWzJdKnQrYVs2XSpyK2FbMTBdKnMrYVsxNF0pKm4sdGhpc31hcHBseVF1YXRlcm5pb24oZSl7Y29uc3QgdD10aGlzLngscj10aGlzLnkscz10aGlzLnosYT1lLngsbj1lLnksbz1lLnosaD1lLncsbD1oKnQrbipzLW8qcixjPWgqcitvKnQtYSpzLHU9aCpzK2Eqci1uKnQsZD0tYSp0LW4qci1vKnM7cmV0dXJuIHRoaXMueD1sKmgrZCotYStjKi1vLXUqLW4sdGhpcy55PWMqaCtkKi1uK3UqLWEtbCotbyx0aGlzLno9dSpoK2QqLW8rbCotbi1jKi1hLHRoaXN9cHJvamVjdChlKXtyZXR1cm4gdGhpcy5hcHBseU1hdHJpeDQoZS5tYXRyaXhXb3JsZEludmVyc2UpLmFwcGx5TWF0cml4NChlLnByb2plY3Rpb25NYXRyaXgpfXVucHJvamVjdChlKXtyZXR1cm4gdGhpcy5hcHBseU1hdHJpeDQoZS5wcm9qZWN0aW9uTWF0cml4SW52ZXJzZSkuYXBwbHlNYXRyaXg0KGUubWF0cml4V29ybGQpfXRyYW5zZm9ybURpcmVjdGlvbihlKXtjb25zdCB0PXRoaXMueCxyPXRoaXMueSxzPXRoaXMueixhPWUuZWxlbWVudHM7cmV0dXJuIHRoaXMueD1hWzBdKnQrYVs0XSpyK2FbOF0qcyx0aGlzLnk9YVsxXSp0K2FbNV0qcithWzldKnMsdGhpcy56PWFbMl0qdCthWzZdKnIrYVsxMF0qcyx0aGlzLm5vcm1hbGl6ZSgpfWRpdmlkZShlKXtyZXR1cm4gdGhpcy54Lz1lLngsdGhpcy55Lz1lLnksdGhpcy56Lz1lLnosdGhpc31kaXZpZGVTY2FsYXIoZSl7cmV0dXJuIHRoaXMubXVsdGlwbHlTY2FsYXIoMS9lKX1taW4oZSl7cmV0dXJuIHRoaXMueD1NYXRoLm1pbih0aGlzLngsZS54KSx0aGlzLnk9TWF0aC5taW4odGhpcy55LGUueSksdGhpcy56PU1hdGgubWluKHRoaXMueixlLnopLHRoaXN9bWF4KGUpe3JldHVybiB0aGlzLng9TWF0aC5tYXgodGhpcy54LGUueCksdGhpcy55PU1hdGgubWF4KHRoaXMueSxlLnkpLHRoaXMuej1NYXRoLm1heCh0aGlzLnosZS56KSx0aGlzfWNsYW1wKGUsdCl7cmV0dXJuIHRoaXMueD1NYXRoLm1heChlLngsTWF0aC5taW4odC54LHRoaXMueCkpLHRoaXMueT1NYXRoLm1heChlLnksTWF0aC5taW4odC55LHRoaXMueSkpLHRoaXMuej1NYXRoLm1heChlLnosTWF0aC5taW4odC56LHRoaXMueikpLHRoaXN9Y2xhbXBTY2FsYXIoZSx0KXtyZXR1cm4gdGhpcy54PU1hdGgubWF4KGUsTWF0aC5taW4odCx0aGlzLngpKSx0aGlzLnk9TWF0aC5tYXgoZSxNYXRoLm1pbih0LHRoaXMueSkpLHRoaXMuej1NYXRoLm1heChlLE1hdGgubWluKHQsdGhpcy56KSksdGhpc31jbGFtcExlbmd0aChlLHQpe2NvbnN0IHI9dGhpcy5sZW5ndGgoKTtyZXR1cm4gdGhpcy5kaXZpZGVTY2FsYXIocnx8MSkubXVsdGlwbHlTY2FsYXIoTWF0aC5tYXgoZSxNYXRoLm1pbih0LHIpKSl9Zmxvb3IoKXtyZXR1cm4gdGhpcy54PU1hdGguZmxvb3IodGhpcy54KSx0aGlzLnk9TWF0aC5mbG9vcih0aGlzLnkpLHRoaXMuej1NYXRoLmZsb29yKHRoaXMueiksdGhpc31jZWlsKCl7cmV0dXJuIHRoaXMueD1NYXRoLmNlaWwodGhpcy54KSx0aGlzLnk9TWF0aC5jZWlsKHRoaXMueSksdGhpcy56PU1hdGguY2VpbCh0aGlzLnopLHRoaXN9cm91bmQoKXtyZXR1cm4gdGhpcy54PU1hdGgucm91bmQodGhpcy54KSx0aGlzLnk9TWF0aC5yb3VuZCh0aGlzLnkpLHRoaXMuej1NYXRoLnJvdW5kKHRoaXMueiksdGhpc31yb3VuZFRvWmVybygpe3JldHVybiB0aGlzLng9dGhpcy54PDA/TWF0aC5jZWlsKHRoaXMueCk6TWF0aC5mbG9vcih0aGlzLngpLHRoaXMueT10aGlzLnk8MD9NYXRoLmNlaWwodGhpcy55KTpNYXRoLmZsb29yKHRoaXMueSksdGhpcy56PXRoaXMuejwwP01hdGguY2VpbCh0aGlzLnopOk1hdGguZmxvb3IodGhpcy56KSx0aGlzfW5lZ2F0ZSgpe3JldHVybiB0aGlzLng9LXRoaXMueCx0aGlzLnk9LXRoaXMueSx0aGlzLno9LXRoaXMueix0aGlzfWRvdChlKXtyZXR1cm4gdGhpcy54KmUueCt0aGlzLnkqZS55K3RoaXMueiplLnp9bGVuZ3RoU3EoKXtyZXR1cm4gdGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55K3RoaXMueip0aGlzLnp9bGVuZ3RoKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkrdGhpcy56KnRoaXMueil9bWFuaGF0dGFuTGVuZ3RoKCl7cmV0dXJuIE1hdGguYWJzKHRoaXMueCkrTWF0aC5hYnModGhpcy55KStNYXRoLmFicyh0aGlzLnopfW5vcm1hbGl6ZSgpe3JldHVybiB0aGlzLmRpdmlkZVNjYWxhcih0aGlzLmxlbmd0aCgpfHwxKX1zZXRMZW5ndGgoZSl7cmV0dXJuIHRoaXMubm9ybWFsaXplKCkubXVsdGlwbHlTY2FsYXIoZSl9bGVycChlLHQpe3JldHVybiB0aGlzLngrPShlLngtdGhpcy54KSp0LHRoaXMueSs9KGUueS10aGlzLnkpKnQsdGhpcy56Kz0oZS56LXRoaXMueikqdCx0aGlzfWxlcnBWZWN0b3JzKGUsdCxyKXtyZXR1cm4gdGhpcy54PWUueCsodC54LWUueCkqcix0aGlzLnk9ZS55Kyh0LnktZS55KSpyLHRoaXMuej1lLnorKHQuei1lLnopKnIsdGhpc31jcm9zcyhlLHQpe3JldHVybiB0IT09dm9pZCAwPyhjb25zb2xlLndhcm4oIlRIUkVFLlZlY3RvcjM6IC5jcm9zcygpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLmNyb3NzVmVjdG9ycyggYSwgYiApIGluc3RlYWQuIiksdGhpcy5jcm9zc1ZlY3RvcnMoZSx0KSk6dGhpcy5jcm9zc1ZlY3RvcnModGhpcyxlKX1jcm9zc1ZlY3RvcnMoZSx0KXtjb25zdCByPWUueCxzPWUueSxhPWUueixuPXQueCxvPXQueSxoPXQuejtyZXR1cm4gdGhpcy54PXMqaC1hKm8sdGhpcy55PWEqbi1yKmgsdGhpcy56PXIqby1zKm4sdGhpc31wcm9qZWN0T25WZWN0b3IoZSl7Y29uc3QgdD1lLmxlbmd0aFNxKCk7aWYodD09PTApcmV0dXJuIHRoaXMuc2V0KDAsMCwwKTtjb25zdCByPWUuZG90KHRoaXMpL3Q7cmV0dXJuIHRoaXMuY29weShlKS5tdWx0aXBseVNjYWxhcihyKX1wcm9qZWN0T25QbGFuZShlKXtyZXR1cm4gR24uY29weSh0aGlzKS5wcm9qZWN0T25WZWN0b3IoZSksdGhpcy5zdWIoR24pfXJlZmxlY3QoZSl7cmV0dXJuIHRoaXMuc3ViKEduLmNvcHkoZSkubXVsdGlwbHlTY2FsYXIoMip0aGlzLmRvdChlKSkpfWFuZ2xlVG8oZSl7Y29uc3QgdD1NYXRoLnNxcnQodGhpcy5sZW5ndGhTcSgpKmUubGVuZ3RoU3EoKSk7aWYodD09PTApcmV0dXJuIE1hdGguUEkvMjtjb25zdCByPXRoaXMuZG90KGUpL3Q7cmV0dXJuIE1hdGguYWNvcyh5dChyLC0xLDEpKX1kaXN0YW5jZVRvKGUpe3JldHVybiBNYXRoLnNxcnQodGhpcy5kaXN0YW5jZVRvU3F1YXJlZChlKSl9ZGlzdGFuY2VUb1NxdWFyZWQoZSl7Y29uc3QgdD10aGlzLngtZS54LHI9dGhpcy55LWUueSxzPXRoaXMuei1lLno7cmV0dXJuIHQqdCtyKnIrcypzfW1hbmhhdHRhbkRpc3RhbmNlVG8oZSl7cmV0dXJuIE1hdGguYWJzKHRoaXMueC1lLngpK01hdGguYWJzKHRoaXMueS1lLnkpK01hdGguYWJzKHRoaXMuei1lLnopfXNldEZyb21TcGhlcmljYWwoZSl7cmV0dXJuIHRoaXMuc2V0RnJvbVNwaGVyaWNhbENvb3JkcyhlLnJhZGl1cyxlLnBoaSxlLnRoZXRhKX1zZXRGcm9tU3BoZXJpY2FsQ29vcmRzKGUsdCxyKXtjb25zdCBzPU1hdGguc2luKHQpKmU7cmV0dXJuIHRoaXMueD1zKk1hdGguc2luKHIpLHRoaXMueT1NYXRoLmNvcyh0KSplLHRoaXMuej1zKk1hdGguY29zKHIpLHRoaXN9c2V0RnJvbUN5bGluZHJpY2FsKGUpe3JldHVybiB0aGlzLnNldEZyb21DeWxpbmRyaWNhbENvb3JkcyhlLnJhZGl1cyxlLnRoZXRhLGUueSl9c2V0RnJvbUN5bGluZHJpY2FsQ29vcmRzKGUsdCxyKXtyZXR1cm4gdGhpcy54PWUqTWF0aC5zaW4odCksdGhpcy55PXIsdGhpcy56PWUqTWF0aC5jb3ModCksdGhpc31zZXRGcm9tTWF0cml4UG9zaXRpb24oZSl7Y29uc3QgdD1lLmVsZW1lbnRzO3JldHVybiB0aGlzLng9dFsxMl0sdGhpcy55PXRbMTNdLHRoaXMuej10WzE0XSx0aGlzfXNldEZyb21NYXRyaXhTY2FsZShlKXtjb25zdCB0PXRoaXMuc2V0RnJvbU1hdHJpeENvbHVtbihlLDApLmxlbmd0aCgpLHI9dGhpcy5zZXRGcm9tTWF0cml4Q29sdW1uKGUsMSkubGVuZ3RoKCkscz10aGlzLnNldEZyb21NYXRyaXhDb2x1bW4oZSwyKS5sZW5ndGgoKTtyZXR1cm4gdGhpcy54PXQsdGhpcy55PXIsdGhpcy56PXMsdGhpc31zZXRGcm9tTWF0cml4Q29sdW1uKGUsdCl7cmV0dXJuIHRoaXMuZnJvbUFycmF5KGUuZWxlbWVudHMsdCo0KX1zZXRGcm9tTWF0cml4M0NvbHVtbihlLHQpe3JldHVybiB0aGlzLmZyb21BcnJheShlLmVsZW1lbnRzLHQqMyl9c2V0RnJvbUV1bGVyKGUpe3JldHVybiB0aGlzLng9ZS5feCx0aGlzLnk9ZS5feSx0aGlzLno9ZS5feix0aGlzfWVxdWFscyhlKXtyZXR1cm4gZS54PT09dGhpcy54JiZlLnk9PT10aGlzLnkmJmUuej09PXRoaXMuen1mcm9tQXJyYXkoZSx0PTApe3JldHVybiB0aGlzLng9ZVt0XSx0aGlzLnk9ZVt0KzFdLHRoaXMuej1lW3QrMl0sdGhpc310b0FycmF5KGU9W10sdD0wKXtyZXR1cm4gZVt0XT10aGlzLngsZVt0KzFdPXRoaXMueSxlW3QrMl09dGhpcy56LGV9ZnJvbUJ1ZmZlckF0dHJpYnV0ZShlLHQscil7cmV0dXJuIHIhPT12b2lkIDAmJmNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yMzogb2Zmc2V0IGhhcyBiZWVuIHJlbW92ZWQgZnJvbSAuZnJvbUJ1ZmZlckF0dHJpYnV0ZSgpLiIpLHRoaXMueD1lLmdldFgodCksdGhpcy55PWUuZ2V0WSh0KSx0aGlzLno9ZS5nZXRaKHQpLHRoaXN9cmFuZG9tKCl7cmV0dXJuIHRoaXMueD1NYXRoLnJhbmRvbSgpLHRoaXMueT1NYXRoLnJhbmRvbSgpLHRoaXMuej1NYXRoLnJhbmRvbSgpLHRoaXN9cmFuZG9tRGlyZWN0aW9uKCl7Y29uc3QgZT0oTWF0aC5yYW5kb20oKS0uNSkqMix0PU1hdGgucmFuZG9tKCkqTWF0aC5QSSoyLHI9TWF0aC5zcXJ0KDEtZnUoZSwyKSk7cmV0dXJuIHRoaXMueD1yKk1hdGguY29zKHQpLHRoaXMueT1yKk1hdGguc2luKHQpLHRoaXMuej1lLHRoaXN9KltTeW1ib2wuaXRlcmF0b3JdKCl7eWllbGQgdGhpcy54LHlpZWxkIHRoaXMueSx5aWVsZCB0aGlzLnp9fUUucHJvdG90eXBlLmlzVmVjdG9yMz0hMDtjb25zdCBHbj1uZXcgRSx5bD1uZXcgVHQ7Y2xhc3MgWnR7Y29uc3RydWN0b3IoZT1uZXcgRSgxLzAsMS8wLDEvMCksdD1uZXcgRSgtMS8wLC0xLzAsLTEvMCkpe3RoaXMubWluPWUsdGhpcy5tYXg9dH1zZXQoZSx0KXtyZXR1cm4gdGhpcy5taW4uY29weShlKSx0aGlzLm1heC5jb3B5KHQpLHRoaXN9c2V0RnJvbUFycmF5KGUpe2xldCB0PTEvMCxyPTEvMCxzPTEvMCxhPS0xLzAsbj0tMS8wLG89LTEvMDtmb3IobGV0IGg9MCxsPWUubGVuZ3RoO2g8bDtoKz0zKXtjb25zdCBjPWVbaF0sdT1lW2grMV0sZD1lW2grMl07Yzx0JiYodD1jKSx1PHImJihyPXUpLGQ8cyYmKHM9ZCksYz5hJiYoYT1jKSx1Pm4mJihuPXUpLGQ+byYmKG89ZCl9cmV0dXJuIHRoaXMubWluLnNldCh0LHIscyksdGhpcy5tYXguc2V0KGEsbixvKSx0aGlzfXNldEZyb21CdWZmZXJBdHRyaWJ1dGUoZSl7bGV0IHQ9MS8wLHI9MS8wLHM9MS8wLGE9LTEvMCxuPS0xLzAsbz0tMS8wO2ZvcihsZXQgaD0wLGw9ZS5jb3VudDtoPGw7aCsrKXtjb25zdCBjPWUuZ2V0WChoKSx1PWUuZ2V0WShoKSxkPWUuZ2V0WihoKTtjPHQmJih0PWMpLHU8ciYmKHI9dSksZDxzJiYocz1kKSxjPmEmJihhPWMpLHU+biYmKG49dSksZD5vJiYobz1kKX1yZXR1cm4gdGhpcy5taW4uc2V0KHQscixzKSx0aGlzLm1heC5zZXQoYSxuLG8pLHRoaXN9c2V0RnJvbVBvaW50cyhlKXt0aGlzLm1ha2VFbXB0eSgpO2ZvcihsZXQgdD0wLHI9ZS5sZW5ndGg7dDxyO3QrKyl0aGlzLmV4cGFuZEJ5UG9pbnQoZVt0XSk7cmV0dXJuIHRoaXN9c2V0RnJvbUNlbnRlckFuZFNpemUoZSx0KXtjb25zdCByPXRyLmNvcHkodCkubXVsdGlwbHlTY2FsYXIoLjUpO3JldHVybiB0aGlzLm1pbi5jb3B5KGUpLnN1YihyKSx0aGlzLm1heC5jb3B5KGUpLmFkZChyKSx0aGlzfXNldEZyb21PYmplY3QoZSx0PSExKXtyZXR1cm4gdGhpcy5tYWtlRW1wdHkoKSx0aGlzLmV4cGFuZEJ5T2JqZWN0KGUsdCl9Y2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoKS5jb3B5KHRoaXMpfWNvcHkoZSl7cmV0dXJuIHRoaXMubWluLmNvcHkoZS5taW4pLHRoaXMubWF4LmNvcHkoZS5tYXgpLHRoaXN9bWFrZUVtcHR5KCl7cmV0dXJuIHRoaXMubWluLng9dGhpcy5taW4ueT10aGlzLm1pbi56PTEvMCx0aGlzLm1heC54PXRoaXMubWF4Lnk9dGhpcy5tYXguej0tMS8wLHRoaXN9aXNFbXB0eSgpe3JldHVybiB0aGlzLm1heC54PHRoaXMubWluLnh8fHRoaXMubWF4Lnk8dGhpcy5taW4ueXx8dGhpcy5tYXguejx0aGlzLm1pbi56fWdldENlbnRlcihlKXtyZXR1cm4gdGhpcy5pc0VtcHR5KCk/ZS5zZXQoMCwwLDApOmUuYWRkVmVjdG9ycyh0aGlzLm1pbix0aGlzLm1heCkubXVsdGlwbHlTY2FsYXIoLjUpfWdldFNpemUoZSl7cmV0dXJuIHRoaXMuaXNFbXB0eSgpP2Uuc2V0KDAsMCwwKTplLnN1YlZlY3RvcnModGhpcy5tYXgsdGhpcy5taW4pfWV4cGFuZEJ5UG9pbnQoZSl7cmV0dXJuIHRoaXMubWluLm1pbihlKSx0aGlzLm1heC5tYXgoZSksdGhpc31leHBhbmRCeVZlY3RvcihlKXtyZXR1cm4gdGhpcy5taW4uc3ViKGUpLHRoaXMubWF4LmFkZChlKSx0aGlzfWV4cGFuZEJ5U2NhbGFyKGUpe3JldHVybiB0aGlzLm1pbi5hZGRTY2FsYXIoLWUpLHRoaXMubWF4LmFkZFNjYWxhcihlKSx0aGlzfWV4cGFuZEJ5T2JqZWN0KGUsdD0hMSl7ZS51cGRhdGVXb3JsZE1hdHJpeCghMSwhMSk7Y29uc3Qgcj1lLmdlb21ldHJ5O2lmKHIhPT12b2lkIDApaWYodCYmci5hdHRyaWJ1dGVzIT1udWxsJiZyLmF0dHJpYnV0ZXMucG9zaXRpb24hPT12b2lkIDApe2NvbnN0IGE9ci5hdHRyaWJ1dGVzLnBvc2l0aW9uO2ZvcihsZXQgbj0wLG89YS5jb3VudDtuPG87bisrKXRyLmZyb21CdWZmZXJBdHRyaWJ1dGUoYSxuKS5hcHBseU1hdHJpeDQoZS5tYXRyaXhXb3JsZCksdGhpcy5leHBhbmRCeVBvaW50KHRyKX1lbHNlIHIuYm91bmRpbmdCb3g9PT1udWxsJiZyLmNvbXB1dGVCb3VuZGluZ0JveCgpLFZuLmNvcHkoci5ib3VuZGluZ0JveCksVm4uYXBwbHlNYXRyaXg0KGUubWF0cml4V29ybGQpLHRoaXMudW5pb24oVm4pO2NvbnN0IHM9ZS5jaGlsZHJlbjtmb3IobGV0IGE9MCxuPXMubGVuZ3RoO2E8bjthKyspdGhpcy5leHBhbmRCeU9iamVjdChzW2FdLHQpO3JldHVybiB0aGlzfWNvbnRhaW5zUG9pbnQoZSl7cmV0dXJuIShlLng8dGhpcy5taW4ueHx8ZS54PnRoaXMubWF4Lnh8fGUueTx0aGlzLm1pbi55fHxlLnk+dGhpcy5tYXgueXx8ZS56PHRoaXMubWluLnp8fGUuej50aGlzLm1heC56KX1jb250YWluc0JveChlKXtyZXR1cm4gdGhpcy5taW4ueDw9ZS5taW4ueCYmZS5tYXgueDw9dGhpcy5tYXgueCYmdGhpcy5taW4ueTw9ZS5taW4ueSYmZS5tYXgueTw9dGhpcy5tYXgueSYmdGhpcy5taW4uejw9ZS5taW4ueiYmZS5tYXguejw9dGhpcy5tYXguen1nZXRQYXJhbWV0ZXIoZSx0KXtyZXR1cm4gdC5zZXQoKGUueC10aGlzLm1pbi54KS8odGhpcy5tYXgueC10aGlzLm1pbi54KSwoZS55LXRoaXMubWluLnkpLyh0aGlzLm1heC55LXRoaXMubWluLnkpLChlLnotdGhpcy5taW4ueikvKHRoaXMubWF4LnotdGhpcy5taW4ueikpfWludGVyc2VjdHNCb3goZSl7cmV0dXJuIShlLm1heC54PHRoaXMubWluLnh8fGUubWluLng+dGhpcy5tYXgueHx8ZS5tYXgueTx0aGlzLm1pbi55fHxlLm1pbi55PnRoaXMubWF4Lnl8fGUubWF4Lno8dGhpcy5taW4uenx8ZS5taW4uej50aGlzLm1heC56KX1pbnRlcnNlY3RzU3BoZXJlKGUpe3JldHVybiB0aGlzLmNsYW1wUG9pbnQoZS5jZW50ZXIsdHIpLHRyLmRpc3RhbmNlVG9TcXVhcmVkKGUuY2VudGVyKTw9ZS5yYWRpdXMqZS5yYWRpdXN9aW50ZXJzZWN0c1BsYW5lKGUpe2xldCB0LHI7cmV0dXJuIGUubm9ybWFsLng+MD8odD1lLm5vcm1hbC54KnRoaXMubWluLngscj1lLm5vcm1hbC54KnRoaXMubWF4LngpOih0PWUubm9ybWFsLngqdGhpcy5tYXgueCxyPWUubm9ybWFsLngqdGhpcy5taW4ueCksZS5ub3JtYWwueT4wPyh0Kz1lLm5vcm1hbC55KnRoaXMubWluLnkscis9ZS5ub3JtYWwueSp0aGlzLm1heC55KToodCs9ZS5ub3JtYWwueSp0aGlzLm1heC55LHIrPWUubm9ybWFsLnkqdGhpcy5taW4ueSksZS5ub3JtYWwuej4wPyh0Kz1lLm5vcm1hbC56KnRoaXMubWluLnoscis9ZS5ub3JtYWwueip0aGlzLm1heC56KToodCs9ZS5ub3JtYWwueip0aGlzLm1heC56LHIrPWUubm9ybWFsLnoqdGhpcy5taW4ueiksdDw9LWUuY29uc3RhbnQmJnI+PS1lLmNvbnN0YW50fWludGVyc2VjdHNUcmlhbmdsZShlKXtpZih0aGlzLmlzRW1wdHkoKSlyZXR1cm4hMTt0aGlzLmdldENlbnRlcihBcyksTWEuc3ViVmVjdG9ycyh0aGlzLm1heCxBcyksUHIuc3ViVmVjdG9ycyhlLmEsQXMpLElyLnN1YlZlY3RvcnMoZS5iLEFzKSxOci5zdWJWZWN0b3JzKGUuYyxBcyksTmkuc3ViVmVjdG9ycyhJcixQciksRGkuc3ViVmVjdG9ycyhOcixJciksaXIuc3ViVmVjdG9ycyhQcixOcik7bGV0IHQ9WzAsLU5pLnosTmkueSwwLC1EaS56LERpLnksMCwtaXIueixpci55LE5pLnosMCwtTmkueCxEaS56LDAsLURpLngsaXIueiwwLC1pci54LC1OaS55LE5pLngsMCwtRGkueSxEaS54LDAsLWlyLnksaXIueCwwXTtyZXR1cm4hV24odCxQcixJcixOcixNYSl8fCh0PVsxLDAsMCwwLDEsMCwwLDAsMV0sIVduKHQsUHIsSXIsTnIsTWEpKT8hMTooYmEuY3Jvc3NWZWN0b3JzKE5pLERpKSx0PVtiYS54LGJhLnksYmEuel0sV24odCxQcixJcixOcixNYSkpfWNsYW1wUG9pbnQoZSx0KXtyZXR1cm4gdC5jb3B5KGUpLmNsYW1wKHRoaXMubWluLHRoaXMubWF4KX1kaXN0YW5jZVRvUG9pbnQoZSl7cmV0dXJuIHRyLmNvcHkoZSkuY2xhbXAodGhpcy5taW4sdGhpcy5tYXgpLnN1YihlKS5sZW5ndGgoKX1nZXRCb3VuZGluZ1NwaGVyZShlKXtyZXR1cm4gdGhpcy5nZXRDZW50ZXIoZS5jZW50ZXIpLGUucmFkaXVzPXRoaXMuZ2V0U2l6ZSh0cikubGVuZ3RoKCkqLjUsZX1pbnRlcnNlY3QoZSl7cmV0dXJuIHRoaXMubWluLm1heChlLm1pbiksdGhpcy5tYXgubWluKGUubWF4KSx0aGlzLmlzRW1wdHkoKSYmdGhpcy5tYWtlRW1wdHkoKSx0aGlzfXVuaW9uKGUpe3JldHVybiB0aGlzLm1pbi5taW4oZS5taW4pLHRoaXMubWF4Lm1heChlLm1heCksdGhpc31hcHBseU1hdHJpeDQoZSl7cmV0dXJuIHRoaXMuaXNFbXB0eSgpP3RoaXM6KE1pWzBdLnNldCh0aGlzLm1pbi54LHRoaXMubWluLnksdGhpcy5taW4ueikuYXBwbHlNYXRyaXg0KGUpLE1pWzFdLnNldCh0aGlzLm1pbi54LHRoaXMubWluLnksdGhpcy5tYXgueikuYXBwbHlNYXRyaXg0KGUpLE1pWzJdLnNldCh0aGlzLm1pbi54LHRoaXMubWF4LnksdGhpcy5taW4ueikuYXBwbHlNYXRyaXg0KGUpLE1pWzNdLnNldCh0aGlzLm1pbi54LHRoaXMubWF4LnksdGhpcy5tYXgueikuYXBwbHlNYXRyaXg0KGUpLE1pWzRdLnNldCh0aGlzLm1heC54LHRoaXMubWluLnksdGhpcy5taW4ueikuYXBwbHlNYXRyaXg0KGUpLE1pWzVdLnNldCh0aGlzLm1heC54LHRoaXMubWluLnksdGhpcy5tYXgueikuYXBwbHlNYXRyaXg0KGUpLE1pWzZdLnNldCh0aGlzLm1heC54LHRoaXMubWF4LnksdGhpcy5taW4ueikuYXBwbHlNYXRyaXg0KGUpLE1pWzddLnNldCh0aGlzLm1heC54LHRoaXMubWF4LnksdGhpcy5tYXgueikuYXBwbHlNYXRyaXg0KGUpLHRoaXMuc2V0RnJvbVBvaW50cyhNaSksdGhpcyl9dHJhbnNsYXRlKGUpe3JldHVybiB0aGlzLm1pbi5hZGQoZSksdGhpcy5tYXguYWRkKGUpLHRoaXN9ZXF1YWxzKGUpe3JldHVybiBlLm1pbi5lcXVhbHModGhpcy5taW4pJiZlLm1heC5lcXVhbHModGhpcy5tYXgpfX1adC5wcm90b3R5cGUuaXNCb3gzPSEwO2NvbnN0IE1pPVtuZXcgRSxuZXcgRSxuZXcgRSxuZXcgRSxuZXcgRSxuZXcgRSxuZXcgRSxuZXcgRV0sdHI9bmV3IEUsVm49bmV3IFp0LFByPW5ldyBFLElyPW5ldyBFLE5yPW5ldyBFLE5pPW5ldyBFLERpPW5ldyBFLGlyPW5ldyBFLEFzPW5ldyBFLE1hPW5ldyBFLGJhPW5ldyBFLHJyPW5ldyBFO2Z1bmN0aW9uIFduKGksZSx0LHIscyl7Zm9yKGxldCBhPTAsbj1pLmxlbmd0aC0zO2E8PW47YSs9Myl7cnIuZnJvbUFycmF5KGksYSk7Y29uc3Qgbz1zLngqTWF0aC5hYnMocnIueCkrcy55Kk1hdGguYWJzKHJyLnkpK3MueipNYXRoLmFicyhyci56KSxoPWUuZG90KHJyKSxsPXQuZG90KHJyKSxjPXIuZG90KHJyKTtpZihNYXRoLm1heCgtTWF0aC5tYXgoaCxsLGMpLE1hdGgubWluKGgsbCxjKSk+bylyZXR1cm4hMX1yZXR1cm4hMH1jb25zdCAkZz1uZXcgWnQsTWw9bmV3IEUsd2E9bmV3IEUsam49bmV3IEU7Y2xhc3MgRHJ7Y29uc3RydWN0b3IoZT1uZXcgRSx0PS0xKXt0aGlzLmNlbnRlcj1lLHRoaXMucmFkaXVzPXR9c2V0KGUsdCl7cmV0dXJuIHRoaXMuY2VudGVyLmNvcHkoZSksdGhpcy5yYWRpdXM9dCx0aGlzfXNldEZyb21Qb2ludHMoZSx0KXtjb25zdCByPXRoaXMuY2VudGVyO3QhPT12b2lkIDA/ci5jb3B5KHQpOiRnLnNldEZyb21Qb2ludHMoZSkuZ2V0Q2VudGVyKHIpO2xldCBzPTA7Zm9yKGxldCBhPTAsbj1lLmxlbmd0aDthPG47YSsrKXM9TWF0aC5tYXgocyxyLmRpc3RhbmNlVG9TcXVhcmVkKGVbYV0pKTtyZXR1cm4gdGhpcy5yYWRpdXM9TWF0aC5zcXJ0KHMpLHRoaXN9Y29weShlKXtyZXR1cm4gdGhpcy5jZW50ZXIuY29weShlLmNlbnRlciksdGhpcy5yYWRpdXM9ZS5yYWRpdXMsdGhpc31pc0VtcHR5KCl7cmV0dXJuIHRoaXMucmFkaXVzPDB9bWFrZUVtcHR5KCl7cmV0dXJuIHRoaXMuY2VudGVyLnNldCgwLDAsMCksdGhpcy5yYWRpdXM9LTEsdGhpc31jb250YWluc1BvaW50KGUpe3JldHVybiBlLmRpc3RhbmNlVG9TcXVhcmVkKHRoaXMuY2VudGVyKTw9dGhpcy5yYWRpdXMqdGhpcy5yYWRpdXN9ZGlzdGFuY2VUb1BvaW50KGUpe3JldHVybiBlLmRpc3RhbmNlVG8odGhpcy5jZW50ZXIpLXRoaXMucmFkaXVzfWludGVyc2VjdHNTcGhlcmUoZSl7Y29uc3QgdD10aGlzLnJhZGl1cytlLnJhZGl1cztyZXR1cm4gZS5jZW50ZXIuZGlzdGFuY2VUb1NxdWFyZWQodGhpcy5jZW50ZXIpPD10KnR9aW50ZXJzZWN0c0JveChlKXtyZXR1cm4gZS5pbnRlcnNlY3RzU3BoZXJlKHRoaXMpfWludGVyc2VjdHNQbGFuZShlKXtyZXR1cm4gTWF0aC5hYnMoZS5kaXN0YW5jZVRvUG9pbnQodGhpcy5jZW50ZXIpKTw9dGhpcy5yYWRpdXN9Y2xhbXBQb2ludChlLHQpe2NvbnN0IHI9dGhpcy5jZW50ZXIuZGlzdGFuY2VUb1NxdWFyZWQoZSk7cmV0dXJuIHQuY29weShlKSxyPnRoaXMucmFkaXVzKnRoaXMucmFkaXVzJiYodC5zdWIodGhpcy5jZW50ZXIpLm5vcm1hbGl6ZSgpLHQubXVsdGlwbHlTY2FsYXIodGhpcy5yYWRpdXMpLmFkZCh0aGlzLmNlbnRlcikpLHR9Z2V0Qm91bmRpbmdCb3goZSl7cmV0dXJuIHRoaXMuaXNFbXB0eSgpPyhlLm1ha2VFbXB0eSgpLGUpOihlLnNldCh0aGlzLmNlbnRlcix0aGlzLmNlbnRlciksZS5leHBhbmRCeVNjYWxhcih0aGlzLnJhZGl1cyksZSl9YXBwbHlNYXRyaXg0KGUpe3JldHVybiB0aGlzLmNlbnRlci5hcHBseU1hdHJpeDQoZSksdGhpcy5yYWRpdXM9dGhpcy5yYWRpdXMqZS5nZXRNYXhTY2FsZU9uQXhpcygpLHRoaXN9dHJhbnNsYXRlKGUpe3JldHVybiB0aGlzLmNlbnRlci5hZGQoZSksdGhpc31leHBhbmRCeVBvaW50KGUpe2puLnN1YlZlY3RvcnMoZSx0aGlzLmNlbnRlcik7Y29uc3QgdD1qbi5sZW5ndGhTcSgpO2lmKHQ+dGhpcy5yYWRpdXMqdGhpcy5yYWRpdXMpe2NvbnN0IHI9TWF0aC5zcXJ0KHQpLHM9KHItdGhpcy5yYWRpdXMpKi41O3RoaXMuY2VudGVyLmFkZChqbi5tdWx0aXBseVNjYWxhcihzL3IpKSx0aGlzLnJhZGl1cys9c31yZXR1cm4gdGhpc311bmlvbihlKXtyZXR1cm4gdGhpcy5jZW50ZXIuZXF1YWxzKGUuY2VudGVyKT09PSEwP3dhLnNldCgwLDAsMSkubXVsdGlwbHlTY2FsYXIoZS5yYWRpdXMpOndhLnN1YlZlY3RvcnMoZS5jZW50ZXIsdGhpcy5jZW50ZXIpLm5vcm1hbGl6ZSgpLm11bHRpcGx5U2NhbGFyKGUucmFkaXVzKSx0aGlzLmV4cGFuZEJ5UG9pbnQoTWwuY29weShlLmNlbnRlcikuYWRkKHdhKSksdGhpcy5leHBhbmRCeVBvaW50KE1sLmNvcHkoZS5jZW50ZXIpLnN1Yih3YSkpLHRoaXN9ZXF1YWxzKGUpe3JldHVybiBlLmNlbnRlci5lcXVhbHModGhpcy5jZW50ZXIpJiZlLnJhZGl1cz09PXRoaXMucmFkaXVzfWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSh0aGlzKX19Y29uc3QgYmk9bmV3IEUscW49bmV3IEUsU2E9bmV3IEUsT2k9bmV3IEUsWG49bmV3IEUsRWE9bmV3IEUsSm49bmV3IEU7Y2xhc3MgT3J7Y29uc3RydWN0b3IoZT1uZXcgRSx0PW5ldyBFKDAsMCwtMSkpe3RoaXMub3JpZ2luPWUsdGhpcy5kaXJlY3Rpb249dH1zZXQoZSx0KXtyZXR1cm4gdGhpcy5vcmlnaW4uY29weShlKSx0aGlzLmRpcmVjdGlvbi5jb3B5KHQpLHRoaXN9Y29weShlKXtyZXR1cm4gdGhpcy5vcmlnaW4uY29weShlLm9yaWdpbiksdGhpcy5kaXJlY3Rpb24uY29weShlLmRpcmVjdGlvbiksdGhpc31hdChlLHQpe3JldHVybiB0LmNvcHkodGhpcy5kaXJlY3Rpb24pLm11bHRpcGx5U2NhbGFyKGUpLmFkZCh0aGlzLm9yaWdpbil9bG9va0F0KGUpe3JldHVybiB0aGlzLmRpcmVjdGlvbi5jb3B5KGUpLnN1Yih0aGlzLm9yaWdpbikubm9ybWFsaXplKCksdGhpc31yZWNhc3QoZSl7cmV0dXJuIHRoaXMub3JpZ2luLmNvcHkodGhpcy5hdChlLGJpKSksdGhpc31jbG9zZXN0UG9pbnRUb1BvaW50KGUsdCl7dC5zdWJWZWN0b3JzKGUsdGhpcy5vcmlnaW4pO2NvbnN0IHI9dC5kb3QodGhpcy5kaXJlY3Rpb24pO3JldHVybiByPDA/dC5jb3B5KHRoaXMub3JpZ2luKTp0LmNvcHkodGhpcy5kaXJlY3Rpb24pLm11bHRpcGx5U2NhbGFyKHIpLmFkZCh0aGlzLm9yaWdpbil9ZGlzdGFuY2VUb1BvaW50KGUpe3JldHVybiBNYXRoLnNxcnQodGhpcy5kaXN0YW5jZVNxVG9Qb2ludChlKSl9ZGlzdGFuY2VTcVRvUG9pbnQoZSl7Y29uc3QgdD1iaS5zdWJWZWN0b3JzKGUsdGhpcy5vcmlnaW4pLmRvdCh0aGlzLmRpcmVjdGlvbik7cmV0dXJuIHQ8MD90aGlzLm9yaWdpbi5kaXN0YW5jZVRvU3F1YXJlZChlKTooYmkuY29weSh0aGlzLmRpcmVjdGlvbikubXVsdGlwbHlTY2FsYXIodCkuYWRkKHRoaXMub3JpZ2luKSxiaS5kaXN0YW5jZVRvU3F1YXJlZChlKSl9ZGlzdGFuY2VTcVRvU2VnbWVudChlLHQscixzKXtxbi5jb3B5KGUpLmFkZCh0KS5tdWx0aXBseVNjYWxhciguNSksU2EuY29weSh0KS5zdWIoZSkubm9ybWFsaXplKCksT2kuY29weSh0aGlzLm9yaWdpbikuc3ViKHFuKTtjb25zdCBhPWUuZGlzdGFuY2VUbyh0KSouNSxuPS10aGlzLmRpcmVjdGlvbi5kb3QoU2EpLG89T2kuZG90KHRoaXMuZGlyZWN0aW9uKSxoPS1PaS5kb3QoU2EpLGw9T2kubGVuZ3RoU3EoKSxjPU1hdGguYWJzKDEtbipuKTtsZXQgdSxkLHAsZztpZihjPjApaWYodT1uKmgtbyxkPW4qby1oLGc9YSpjLHU+PTApaWYoZD49LWcpaWYoZDw9Zyl7Y29uc3QgZj0xL2M7dSo9ZixkKj1mLHA9dSoodStuKmQrMipvKStkKihuKnUrZCsyKmgpK2x9ZWxzZSBkPWEsdT1NYXRoLm1heCgwLC0obipkK28pKSxwPS11KnUrZCooZCsyKmgpK2w7ZWxzZSBkPS1hLHU9TWF0aC5tYXgoMCwtKG4qZCtvKSkscD0tdSp1K2QqKGQrMipoKStsO2Vsc2UgZDw9LWc/KHU9TWF0aC5tYXgoMCwtKC1uKmErbykpLGQ9dT4wPy1hOk1hdGgubWluKE1hdGgubWF4KC1hLC1oKSxhKSxwPS11KnUrZCooZCsyKmgpK2wpOmQ8PWc/KHU9MCxkPU1hdGgubWluKE1hdGgubWF4KC1hLC1oKSxhKSxwPWQqKGQrMipoKStsKToodT1NYXRoLm1heCgwLC0obiphK28pKSxkPXU+MD9hOk1hdGgubWluKE1hdGgubWF4KC1hLC1oKSxhKSxwPS11KnUrZCooZCsyKmgpK2wpO2Vsc2UgZD1uPjA/LWE6YSx1PU1hdGgubWF4KDAsLShuKmQrbykpLHA9LXUqdStkKihkKzIqaCkrbDtyZXR1cm4gciYmci5jb3B5KHRoaXMuZGlyZWN0aW9uKS5tdWx0aXBseVNjYWxhcih1KS5hZGQodGhpcy5vcmlnaW4pLHMmJnMuY29weShTYSkubXVsdGlwbHlTY2FsYXIoZCkuYWRkKHFuKSxwfWludGVyc2VjdFNwaGVyZShlLHQpe2JpLnN1YlZlY3RvcnMoZS5jZW50ZXIsdGhpcy5vcmlnaW4pO2NvbnN0IHI9YmkuZG90KHRoaXMuZGlyZWN0aW9uKSxzPWJpLmRvdChiaSktcipyLGE9ZS5yYWRpdXMqZS5yYWRpdXM7aWYocz5hKXJldHVybiBudWxsO2NvbnN0IG49TWF0aC5zcXJ0KGEtcyksbz1yLW4saD1yK247cmV0dXJuIG88MCYmaDwwP251bGw6bzwwP3RoaXMuYXQoaCx0KTp0aGlzLmF0KG8sdCl9aW50ZXJzZWN0c1NwaGVyZShlKXtyZXR1cm4gdGhpcy5kaXN0YW5jZVNxVG9Qb2ludChlLmNlbnRlcik8PWUucmFkaXVzKmUucmFkaXVzfWRpc3RhbmNlVG9QbGFuZShlKXtjb25zdCB0PWUubm9ybWFsLmRvdCh0aGlzLmRpcmVjdGlvbik7aWYodD09PTApcmV0dXJuIGUuZGlzdGFuY2VUb1BvaW50KHRoaXMub3JpZ2luKT09PTA/MDpudWxsO2NvbnN0IHI9LSh0aGlzLm9yaWdpbi5kb3QoZS5ub3JtYWwpK2UuY29uc3RhbnQpL3Q7cmV0dXJuIHI+PTA/cjpudWxsfWludGVyc2VjdFBsYW5lKGUsdCl7Y29uc3Qgcj10aGlzLmRpc3RhbmNlVG9QbGFuZShlKTtyZXR1cm4gcj09PW51bGw/bnVsbDp0aGlzLmF0KHIsdCl9aW50ZXJzZWN0c1BsYW5lKGUpe2NvbnN0IHQ9ZS5kaXN0YW5jZVRvUG9pbnQodGhpcy5vcmlnaW4pO3JldHVybiB0PT09MHx8ZS5ub3JtYWwuZG90KHRoaXMuZGlyZWN0aW9uKSp0PDB9aW50ZXJzZWN0Qm94KGUsdCl7bGV0IHIscyxhLG4sbyxoO2NvbnN0IGw9MS90aGlzLmRpcmVjdGlvbi54LGM9MS90aGlzLmRpcmVjdGlvbi55LHU9MS90aGlzLmRpcmVjdGlvbi56LGQ9dGhpcy5vcmlnaW47cmV0dXJuIGw+PTA/KHI9KGUubWluLngtZC54KSpsLHM9KGUubWF4LngtZC54KSpsKToocj0oZS5tYXgueC1kLngpKmwscz0oZS5taW4ueC1kLngpKmwpLGM+PTA/KGE9KGUubWluLnktZC55KSpjLG49KGUubWF4LnktZC55KSpjKTooYT0oZS5tYXgueS1kLnkpKmMsbj0oZS5taW4ueS1kLnkpKmMpLHI+bnx8YT5zfHwoKGE+cnx8ciE9PXIpJiYocj1hKSwobjxzfHxzIT09cykmJihzPW4pLHU+PTA/KG89KGUubWluLnotZC56KSp1LGg9KGUubWF4LnotZC56KSp1KToobz0oZS5tYXguei1kLnopKnUsaD0oZS5taW4uei1kLnopKnUpLHI+aHx8bz5zKXx8KChvPnJ8fHIhPT1yKSYmKHI9byksKGg8c3x8cyE9PXMpJiYocz1oKSxzPDApP251bGw6dGhpcy5hdChyPj0wP3I6cyx0KX1pbnRlcnNlY3RzQm94KGUpe3JldHVybiB0aGlzLmludGVyc2VjdEJveChlLGJpKSE9PW51bGx9aW50ZXJzZWN0VHJpYW5nbGUoZSx0LHIscyxhKXtYbi5zdWJWZWN0b3JzKHQsZSksRWEuc3ViVmVjdG9ycyhyLGUpLEpuLmNyb3NzVmVjdG9ycyhYbixFYSk7bGV0IG49dGhpcy5kaXJlY3Rpb24uZG90KEpuKSxvO2lmKG4+MCl7aWYocylyZXR1cm4gbnVsbDtvPTF9ZWxzZSBpZihuPDApbz0tMSxuPS1uO2Vsc2UgcmV0dXJuIG51bGw7T2kuc3ViVmVjdG9ycyh0aGlzLm9yaWdpbixlKTtjb25zdCBoPW8qdGhpcy5kaXJlY3Rpb24uZG90KEVhLmNyb3NzVmVjdG9ycyhPaSxFYSkpO2lmKGg8MClyZXR1cm4gbnVsbDtjb25zdCBsPW8qdGhpcy5kaXJlY3Rpb24uZG90KFhuLmNyb3NzKE9pKSk7aWYobDwwfHxoK2w+bilyZXR1cm4gbnVsbDtjb25zdCBjPS1vKk9pLmRvdChKbik7cmV0dXJuIGM8MD9udWxsOnRoaXMuYXQoYy9uLGEpfWFwcGx5TWF0cml4NChlKXtyZXR1cm4gdGhpcy5vcmlnaW4uYXBwbHlNYXRyaXg0KGUpLHRoaXMuZGlyZWN0aW9uLnRyYW5zZm9ybURpcmVjdGlvbihlKSx0aGlzfWVxdWFscyhlKXtyZXR1cm4gZS5vcmlnaW4uZXF1YWxzKHRoaXMub3JpZ2luKSYmZS5kaXJlY3Rpb24uZXF1YWxzKHRoaXMuZGlyZWN0aW9uKX1jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyl9fWNsYXNzIF9le2NvbnN0cnVjdG9yKCl7dGhpcy5lbGVtZW50cz1bMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMV0sYXJndW1lbnRzLmxlbmd0aD4wJiZjb25zb2xlLmVycm9yKCJUSFJFRS5NYXRyaXg0OiB0aGUgY29uc3RydWN0b3Igbm8gbG9uZ2VyIHJlYWRzIGFyZ3VtZW50cy4gdXNlIC5zZXQoKSBpbnN0ZWFkLiIpfXNldChlLHQscixzLGEsbixvLGgsbCxjLHUsZCxwLGcsZixtKXtjb25zdCB2PXRoaXMuZWxlbWVudHM7cmV0dXJuIHZbMF09ZSx2WzRdPXQsdls4XT1yLHZbMTJdPXMsdlsxXT1hLHZbNV09bix2WzldPW8sdlsxM109aCx2WzJdPWwsdls2XT1jLHZbMTBdPXUsdlsxNF09ZCx2WzNdPXAsdls3XT1nLHZbMTFdPWYsdlsxNV09bSx0aGlzfWlkZW50aXR5KCl7cmV0dXJuIHRoaXMuc2V0KDEsMCwwLDAsMCwxLDAsMCwwLDAsMSwwLDAsMCwwLDEpLHRoaXN9Y2xvbmUoKXtyZXR1cm4gbmV3IF9lKCkuZnJvbUFycmF5KHRoaXMuZWxlbWVudHMpfWNvcHkoZSl7Y29uc3QgdD10aGlzLmVsZW1lbnRzLHI9ZS5lbGVtZW50cztyZXR1cm4gdFswXT1yWzBdLHRbMV09clsxXSx0WzJdPXJbMl0sdFszXT1yWzNdLHRbNF09cls0XSx0WzVdPXJbNV0sdFs2XT1yWzZdLHRbN109cls3XSx0WzhdPXJbOF0sdFs5XT1yWzldLHRbMTBdPXJbMTBdLHRbMTFdPXJbMTFdLHRbMTJdPXJbMTJdLHRbMTNdPXJbMTNdLHRbMTRdPXJbMTRdLHRbMTVdPXJbMTVdLHRoaXN9Y29weVBvc2l0aW9uKGUpe2NvbnN0IHQ9dGhpcy5lbGVtZW50cyxyPWUuZWxlbWVudHM7cmV0dXJuIHRbMTJdPXJbMTJdLHRbMTNdPXJbMTNdLHRbMTRdPXJbMTRdLHRoaXN9c2V0RnJvbU1hdHJpeDMoZSl7Y29uc3QgdD1lLmVsZW1lbnRzO3JldHVybiB0aGlzLnNldCh0WzBdLHRbM10sdFs2XSwwLHRbMV0sdFs0XSx0WzddLDAsdFsyXSx0WzVdLHRbOF0sMCwwLDAsMCwxKSx0aGlzfWV4dHJhY3RCYXNpcyhlLHQscil7cmV0dXJuIGUuc2V0RnJvbU1hdHJpeENvbHVtbih0aGlzLDApLHQuc2V0RnJvbU1hdHJpeENvbHVtbih0aGlzLDEpLHIuc2V0RnJvbU1hdHJpeENvbHVtbih0aGlzLDIpLHRoaXN9bWFrZUJhc2lzKGUsdCxyKXtyZXR1cm4gdGhpcy5zZXQoZS54LHQueCxyLngsMCxlLnksdC55LHIueSwwLGUueix0Lnosci56LDAsMCwwLDAsMSksdGhpc31leHRyYWN0Um90YXRpb24oZSl7Y29uc3QgdD10aGlzLmVsZW1lbnRzLHI9ZS5lbGVtZW50cyxzPTEvenIuc2V0RnJvbU1hdHJpeENvbHVtbihlLDApLmxlbmd0aCgpLGE9MS96ci5zZXRGcm9tTWF0cml4Q29sdW1uKGUsMSkubGVuZ3RoKCksbj0xL3pyLnNldEZyb21NYXRyaXhDb2x1bW4oZSwyKS5sZW5ndGgoKTtyZXR1cm4gdFswXT1yWzBdKnMsdFsxXT1yWzFdKnMsdFsyXT1yWzJdKnMsdFszXT0wLHRbNF09cls0XSphLHRbNV09cls1XSphLHRbNl09cls2XSphLHRbN109MCx0WzhdPXJbOF0qbix0WzldPXJbOV0qbix0WzEwXT1yWzEwXSpuLHRbMTFdPTAsdFsxMl09MCx0WzEzXT0wLHRbMTRdPTAsdFsxNV09MSx0aGlzfW1ha2VSb3RhdGlvbkZyb21FdWxlcihlKXtlJiZlLmlzRXVsZXJ8fGNvbnNvbGUuZXJyb3IoIlRIUkVFLk1hdHJpeDQ6IC5tYWtlUm90YXRpb25Gcm9tRXVsZXIoKSBub3cgZXhwZWN0cyBhIEV1bGVyIHJvdGF0aW9uIHJhdGhlciB0aGFuIGEgVmVjdG9yMyBhbmQgb3JkZXIuIik7Y29uc3QgdD10aGlzLmVsZW1lbnRzLHI9ZS54LHM9ZS55LGE9ZS56LG49TWF0aC5jb3Mociksbz1NYXRoLnNpbihyKSxoPU1hdGguY29zKHMpLGw9TWF0aC5zaW4ocyksYz1NYXRoLmNvcyhhKSx1PU1hdGguc2luKGEpO2lmKGUub3JkZXI9PT0iWFlaIil7Y29uc3QgZD1uKmMscD1uKnUsZz1vKmMsZj1vKnU7dFswXT1oKmMsdFs0XT0taCp1LHRbOF09bCx0WzFdPXArZypsLHRbNV09ZC1mKmwsdFs5XT0tbypoLHRbMl09Zi1kKmwsdFs2XT1nK3AqbCx0WzEwXT1uKmh9ZWxzZSBpZihlLm9yZGVyPT09IllYWiIpe2NvbnN0IGQ9aCpjLHA9aCp1LGc9bCpjLGY9bCp1O3RbMF09ZCtmKm8sdFs0XT1nKm8tcCx0WzhdPW4qbCx0WzFdPW4qdSx0WzVdPW4qYyx0WzldPS1vLHRbMl09cCpvLWcsdFs2XT1mK2Qqbyx0WzEwXT1uKmh9ZWxzZSBpZihlLm9yZGVyPT09IlpYWSIpe2NvbnN0IGQ9aCpjLHA9aCp1LGc9bCpjLGY9bCp1O3RbMF09ZC1mKm8sdFs0XT0tbip1LHRbOF09ZytwKm8sdFsxXT1wK2cqbyx0WzVdPW4qYyx0WzldPWYtZCpvLHRbMl09LW4qbCx0WzZdPW8sdFsxMF09bipofWVsc2UgaWYoZS5vcmRlcj09PSJaWVgiKXtjb25zdCBkPW4qYyxwPW4qdSxnPW8qYyxmPW8qdTt0WzBdPWgqYyx0WzRdPWcqbC1wLHRbOF09ZCpsK2YsdFsxXT1oKnUsdFs1XT1mKmwrZCx0WzldPXAqbC1nLHRbMl09LWwsdFs2XT1vKmgsdFsxMF09bipofWVsc2UgaWYoZS5vcmRlcj09PSJZWlgiKXtjb25zdCBkPW4qaCxwPW4qbCxnPW8qaCxmPW8qbDt0WzBdPWgqYyx0WzRdPWYtZCp1LHRbOF09Zyp1K3AsdFsxXT11LHRbNV09bipjLHRbOV09LW8qYyx0WzJdPS1sKmMsdFs2XT1wKnUrZyx0WzEwXT1kLWYqdX1lbHNlIGlmKGUub3JkZXI9PT0iWFpZIil7Y29uc3QgZD1uKmgscD1uKmwsZz1vKmgsZj1vKmw7dFswXT1oKmMsdFs0XT0tdSx0WzhdPWwqYyx0WzFdPWQqdStmLHRbNV09bipjLHRbOV09cCp1LWcsdFsyXT1nKnUtcCx0WzZdPW8qYyx0WzEwXT1mKnUrZH1yZXR1cm4gdFszXT0wLHRbN109MCx0WzExXT0wLHRbMTJdPTAsdFsxM109MCx0WzE0XT0wLHRbMTVdPTEsdGhpc31tYWtlUm90YXRpb25Gcm9tUXVhdGVybmlvbihlKXtyZXR1cm4gdGhpcy5jb21wb3NlKGUwLGUsdDApfWxvb2tBdChlLHQscil7Y29uc3Qgcz10aGlzLmVsZW1lbnRzO3JldHVybiBCdC5zdWJWZWN0b3JzKGUsdCksQnQubGVuZ3RoU3EoKT09PTAmJihCdC56PTEpLEJ0Lm5vcm1hbGl6ZSgpLHppLmNyb3NzVmVjdG9ycyhyLEJ0KSx6aS5sZW5ndGhTcSgpPT09MCYmKE1hdGguYWJzKHIueik9PT0xP0J0LngrPTFlLTQ6QnQueis9MWUtNCxCdC5ub3JtYWxpemUoKSx6aS5jcm9zc1ZlY3RvcnMocixCdCkpLHppLm5vcm1hbGl6ZSgpLFRhLmNyb3NzVmVjdG9ycyhCdCx6aSksc1swXT16aS54LHNbNF09VGEueCxzWzhdPUJ0Lngsc1sxXT16aS55LHNbNV09VGEueSxzWzldPUJ0Lnksc1syXT16aS56LHNbNl09VGEueixzWzEwXT1CdC56LHRoaXN9bXVsdGlwbHkoZSx0KXtyZXR1cm4gdCE9PXZvaWQgMD8oY29uc29sZS53YXJuKCJUSFJFRS5NYXRyaXg0OiAubXVsdGlwbHkoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5tdWx0aXBseU1hdHJpY2VzKCBhLCBiICkgaW5zdGVhZC4iKSx0aGlzLm11bHRpcGx5TWF0cmljZXMoZSx0KSk6dGhpcy5tdWx0aXBseU1hdHJpY2VzKHRoaXMsZSl9cHJlbXVsdGlwbHkoZSl7cmV0dXJuIHRoaXMubXVsdGlwbHlNYXRyaWNlcyhlLHRoaXMpfW11bHRpcGx5TWF0cmljZXMoZSx0KXtjb25zdCByPWUuZWxlbWVudHMscz10LmVsZW1lbnRzLGE9dGhpcy5lbGVtZW50cyxuPXJbMF0sbz1yWzRdLGg9cls4XSxsPXJbMTJdLGM9clsxXSx1PXJbNV0sZD1yWzldLHA9clsxM10sZz1yWzJdLGY9cls2XSxtPXJbMTBdLHY9clsxNF0seT1yWzNdLFQ9cls3XSx3PXJbMTFdLGI9clsxNV0sTD1zWzBdLFA9c1s0XSxrPXNbOF0saWU9c1sxMl0sTz1zWzFdLHg9c1s1XSxDPXNbOV0sWT1zWzEzXSxOPXNbMl0sVT1zWzZdLEI9c1sxMF0sRz1zWzE0XSxSPXNbM10sWD1zWzddLEo9c1sxMV0sdGU9c1sxNV07cmV0dXJuIGFbMF09bipMK28qTytoKk4rbCpSLGFbNF09bipQK28qeCtoKlUrbCpYLGFbOF09biprK28qQytoKkIrbCpKLGFbMTJdPW4qaWUrbypZK2gqRytsKnRlLGFbMV09YypMK3UqTytkKk4rcCpSLGFbNV09YypQK3UqeCtkKlUrcCpYLGFbOV09YyprK3UqQytkKkIrcCpKLGFbMTNdPWMqaWUrdSpZK2QqRytwKnRlLGFbMl09ZypMK2YqTyttKk4rdipSLGFbNl09ZypQK2YqeCttKlUrdipYLGFbMTBdPWcqaytmKkMrbSpCK3YqSixhWzE0XT1nKmllK2YqWSttKkcrdip0ZSxhWzNdPXkqTCtUKk8rdypOK2IqUixhWzddPXkqUCtUKngrdypVK2IqWCxhWzExXT15KmsrVCpDK3cqQitiKkosYVsxNV09eSppZStUKlkrdypHK2IqdGUsdGhpc31tdWx0aXBseVNjYWxhcihlKXtjb25zdCB0PXRoaXMuZWxlbWVudHM7cmV0dXJuIHRbMF0qPWUsdFs0XSo9ZSx0WzhdKj1lLHRbMTJdKj1lLHRbMV0qPWUsdFs1XSo9ZSx0WzldKj1lLHRbMTNdKj1lLHRbMl0qPWUsdFs2XSo9ZSx0WzEwXSo9ZSx0WzE0XSo9ZSx0WzNdKj1lLHRbN10qPWUsdFsxMV0qPWUsdFsxNV0qPWUsdGhpc31kZXRlcm1pbmFudCgpe2NvbnN0IGU9dGhpcy5lbGVtZW50cyx0PWVbMF0scj1lWzRdLHM9ZVs4XSxhPWVbMTJdLG49ZVsxXSxvPWVbNV0saD1lWzldLGw9ZVsxM10sYz1lWzJdLHU9ZVs2XSxkPWVbMTBdLHA9ZVsxNF0sZz1lWzNdLGY9ZVs3XSxtPWVbMTFdLHY9ZVsxNV07cmV0dXJuIGcqKCthKmgqdS1zKmwqdS1hKm8qZCtyKmwqZCtzKm8qcC1yKmgqcCkrZiooK3QqaCpwLXQqbCpkK2EqbipkLXMqbipwK3MqbCpjLWEqaCpjKSttKigrdCpsKnUtdCpvKnAtYSpuKnUrcipuKnArYSpvKmMtcipsKmMpK3YqKC1zKm8qYy10KmgqdSt0Km8qZCtzKm4qdS1yKm4qZCtyKmgqYyl9dHJhbnNwb3NlKCl7Y29uc3QgZT10aGlzLmVsZW1lbnRzO2xldCB0O3JldHVybiB0PWVbMV0sZVsxXT1lWzRdLGVbNF09dCx0PWVbMl0sZVsyXT1lWzhdLGVbOF09dCx0PWVbNl0sZVs2XT1lWzldLGVbOV09dCx0PWVbM10sZVszXT1lWzEyXSxlWzEyXT10LHQ9ZVs3XSxlWzddPWVbMTNdLGVbMTNdPXQsdD1lWzExXSxlWzExXT1lWzE0XSxlWzE0XT10LHRoaXN9c2V0UG9zaXRpb24oZSx0LHIpe2NvbnN0IHM9dGhpcy5lbGVtZW50cztyZXR1cm4gZS5pc1ZlY3RvcjM/KHNbMTJdPWUueCxzWzEzXT1lLnksc1sxNF09ZS56KTooc1sxMl09ZSxzWzEzXT10LHNbMTRdPXIpLHRoaXN9aW52ZXJ0KCl7Y29uc3QgZT10aGlzLmVsZW1lbnRzLHQ9ZVswXSxyPWVbMV0scz1lWzJdLGE9ZVszXSxuPWVbNF0sbz1lWzVdLGg9ZVs2XSxsPWVbN10sYz1lWzhdLHU9ZVs5XSxkPWVbMTBdLHA9ZVsxMV0sZz1lWzEyXSxmPWVbMTNdLG09ZVsxNF0sdj1lWzE1XSx5PXUqbSpsLWYqZCpsK2YqaCpwLW8qbSpwLXUqaCp2K28qZCp2LFQ9ZypkKmwtYyptKmwtZypoKnArbiptKnArYypoKnYtbipkKnYsdz1jKmYqbC1nKnUqbCtnKm8qcC1uKmYqcC1jKm8qdituKnUqdixiPWcqdSpoLWMqZipoLWcqbypkK24qZipkK2MqbyptLW4qdSptLEw9dCp5K3IqVCtzKncrYSpiO2lmKEw9PT0wKXJldHVybiB0aGlzLnNldCgwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwKTtjb25zdCBQPTEvTDtyZXR1cm4gZVswXT15KlAsZVsxXT0oZipkKmEtdSptKmEtZipzKnArciptKnArdSpzKnYtcipkKnYpKlAsZVsyXT0obyptKmEtZipoKmErZipzKmwtciptKmwtbypzKnYrcipoKnYpKlAsZVszXT0odSpoKmEtbypkKmEtdSpzKmwrcipkKmwrbypzKnAtcipoKnApKlAsZVs0XT1UKlAsZVs1XT0oYyptKmEtZypkKmErZypzKnAtdCptKnAtYypzKnYrdCpkKnYpKlAsZVs2XT0oZypoKmEtbiptKmEtZypzKmwrdCptKmwrbipzKnYtdCpoKnYpKlAsZVs3XT0obipkKmEtYypoKmErYypzKmwtdCpkKmwtbipzKnArdCpoKnApKlAsZVs4XT13KlAsZVs5XT0oZyp1KmEtYypmKmEtZypyKnArdCpmKnArYypyKnYtdCp1KnYpKlAsZVsxMF09KG4qZiphLWcqbyphK2cqcipsLXQqZipsLW4qcip2K3Qqbyp2KSpQLGVbMTFdPShjKm8qYS1uKnUqYS1jKnIqbCt0KnUqbCtuKnIqcC10Km8qcCkqUCxlWzEyXT1iKlAsZVsxM109KGMqZipzLWcqdSpzK2cqcipkLXQqZipkLWMqciptK3QqdSptKSpQLGVbMTRdPShnKm8qcy1uKmYqcy1nKnIqaCt0KmYqaCtuKnIqbS10Km8qbSkqUCxlWzE1XT0obip1KnMtYypvKnMrYypyKmgtdCp1KmgtbipyKmQrdCpvKmQpKlAsdGhpc31zY2FsZShlKXtjb25zdCB0PXRoaXMuZWxlbWVudHMscj1lLngscz1lLnksYT1lLno7cmV0dXJuIHRbMF0qPXIsdFs0XSo9cyx0WzhdKj1hLHRbMV0qPXIsdFs1XSo9cyx0WzldKj1hLHRbMl0qPXIsdFs2XSo9cyx0WzEwXSo9YSx0WzNdKj1yLHRbN10qPXMsdFsxMV0qPWEsdGhpc31nZXRNYXhTY2FsZU9uQXhpcygpe2NvbnN0IGU9dGhpcy5lbGVtZW50cyx0PWVbMF0qZVswXStlWzFdKmVbMV0rZVsyXSplWzJdLHI9ZVs0XSplWzRdK2VbNV0qZVs1XStlWzZdKmVbNl0scz1lWzhdKmVbOF0rZVs5XSplWzldK2VbMTBdKmVbMTBdO3JldHVybiBNYXRoLnNxcnQoTWF0aC5tYXgodCxyLHMpKX1tYWtlVHJhbnNsYXRpb24oZSx0LHIpe3JldHVybiB0aGlzLnNldCgxLDAsMCxlLDAsMSwwLHQsMCwwLDEsciwwLDAsMCwxKSx0aGlzfW1ha2VSb3RhdGlvblgoZSl7Y29uc3QgdD1NYXRoLmNvcyhlKSxyPU1hdGguc2luKGUpO3JldHVybiB0aGlzLnNldCgxLDAsMCwwLDAsdCwtciwwLDAscix0LDAsMCwwLDAsMSksdGhpc31tYWtlUm90YXRpb25ZKGUpe2NvbnN0IHQ9TWF0aC5jb3MoZSkscj1NYXRoLnNpbihlKTtyZXR1cm4gdGhpcy5zZXQodCwwLHIsMCwwLDEsMCwwLC1yLDAsdCwwLDAsMCwwLDEpLHRoaXN9bWFrZVJvdGF0aW9uWihlKXtjb25zdCB0PU1hdGguY29zKGUpLHI9TWF0aC5zaW4oZSk7cmV0dXJuIHRoaXMuc2V0KHQsLXIsMCwwLHIsdCwwLDAsMCwwLDEsMCwwLDAsMCwxKSx0aGlzfW1ha2VSb3RhdGlvbkF4aXMoZSx0KXtjb25zdCByPU1hdGguY29zKHQpLHM9TWF0aC5zaW4odCksYT0xLXIsbj1lLngsbz1lLnksaD1lLnosbD1hKm4sYz1hKm87cmV0dXJuIHRoaXMuc2V0KGwqbityLGwqby1zKmgsbCpoK3MqbywwLGwqbytzKmgsYypvK3IsYypoLXMqbiwwLGwqaC1zKm8sYypoK3MqbixhKmgqaCtyLDAsMCwwLDAsMSksdGhpc31tYWtlU2NhbGUoZSx0LHIpe3JldHVybiB0aGlzLnNldChlLDAsMCwwLDAsdCwwLDAsMCwwLHIsMCwwLDAsMCwxKSx0aGlzfW1ha2VTaGVhcihlLHQscixzLGEsbil7cmV0dXJuIHRoaXMuc2V0KDEscixhLDAsZSwxLG4sMCx0LHMsMSwwLDAsMCwwLDEpLHRoaXN9Y29tcG9zZShlLHQscil7Y29uc3Qgcz10aGlzLmVsZW1lbnRzLGE9dC5feCxuPXQuX3ksbz10Ll96LGg9dC5fdyxsPWErYSxjPW4rbix1PW8rbyxkPWEqbCxwPWEqYyxnPWEqdSxmPW4qYyxtPW4qdSx2PW8qdSx5PWgqbCxUPWgqYyx3PWgqdSxiPXIueCxMPXIueSxQPXIuejtyZXR1cm4gc1swXT0oMS0oZit2KSkqYixzWzFdPShwK3cpKmIsc1syXT0oZy1UKSpiLHNbM109MCxzWzRdPShwLXcpKkwsc1s1XT0oMS0oZCt2KSkqTCxzWzZdPShtK3kpKkwsc1s3XT0wLHNbOF09KGcrVCkqUCxzWzldPShtLXkpKlAsc1sxMF09KDEtKGQrZikpKlAsc1sxMV09MCxzWzEyXT1lLngsc1sxM109ZS55LHNbMTRdPWUueixzWzE1XT0xLHRoaXN9ZGVjb21wb3NlKGUsdCxyKXtjb25zdCBzPXRoaXMuZWxlbWVudHM7bGV0IGE9enIuc2V0KHNbMF0sc1sxXSxzWzJdKS5sZW5ndGgoKTtjb25zdCBuPXpyLnNldChzWzRdLHNbNV0sc1s2XSkubGVuZ3RoKCksbz16ci5zZXQoc1s4XSxzWzldLHNbMTBdKS5sZW5ndGgoKTt0aGlzLmRldGVybWluYW50KCk8MCYmKGE9LWEpLGUueD1zWzEyXSxlLnk9c1sxM10sZS56PXNbMTRdLEt0LmNvcHkodGhpcyk7Y29uc3QgaD0xL2EsbD0xL24sYz0xL287cmV0dXJuIEt0LmVsZW1lbnRzWzBdKj1oLEt0LmVsZW1lbnRzWzFdKj1oLEt0LmVsZW1lbnRzWzJdKj1oLEt0LmVsZW1lbnRzWzRdKj1sLEt0LmVsZW1lbnRzWzVdKj1sLEt0LmVsZW1lbnRzWzZdKj1sLEt0LmVsZW1lbnRzWzhdKj1jLEt0LmVsZW1lbnRzWzldKj1jLEt0LmVsZW1lbnRzWzEwXSo9Yyx0LnNldEZyb21Sb3RhdGlvbk1hdHJpeChLdCksci54PWEsci55PW4sci56PW8sdGhpc31tYWtlUGVyc3BlY3RpdmUoZSx0LHIscyxhLG4pe249PT12b2lkIDAmJmNvbnNvbGUud2FybigiVEhSRUUuTWF0cml4NDogLm1ha2VQZXJzcGVjdGl2ZSgpIGhhcyBiZWVuIHJlZGVmaW5lZCBhbmQgaGFzIGEgbmV3IHNpZ25hdHVyZS4gUGxlYXNlIGNoZWNrIHRoZSBkb2NzLiIpO2NvbnN0IG89dGhpcy5lbGVtZW50cyxoPTIqYS8odC1lKSxsPTIqYS8oci1zKSxjPSh0K2UpLyh0LWUpLHU9KHIrcykvKHItcyksZD0tKG4rYSkvKG4tYSkscD0tMipuKmEvKG4tYSk7cmV0dXJuIG9bMF09aCxvWzRdPTAsb1s4XT1jLG9bMTJdPTAsb1sxXT0wLG9bNV09bCxvWzldPXUsb1sxM109MCxvWzJdPTAsb1s2XT0wLG9bMTBdPWQsb1sxNF09cCxvWzNdPTAsb1s3XT0wLG9bMTFdPS0xLG9bMTVdPTAsdGhpc31tYWtlT3J0aG9ncmFwaGljKGUsdCxyLHMsYSxuKXtjb25zdCBvPXRoaXMuZWxlbWVudHMsaD0xLyh0LWUpLGw9MS8oci1zKSxjPTEvKG4tYSksdT0odCtlKSpoLGQ9KHIrcykqbCxwPShuK2EpKmM7cmV0dXJuIG9bMF09MipoLG9bNF09MCxvWzhdPTAsb1sxMl09LXUsb1sxXT0wLG9bNV09MipsLG9bOV09MCxvWzEzXT0tZCxvWzJdPTAsb1s2XT0wLG9bMTBdPS0yKmMsb1sxNF09LXAsb1szXT0wLG9bN109MCxvWzExXT0wLG9bMTVdPTEsdGhpc31lcXVhbHMoZSl7Y29uc3QgdD10aGlzLmVsZW1lbnRzLHI9ZS5lbGVtZW50cztmb3IobGV0IHM9MDtzPDE2O3MrKylpZih0W3NdIT09cltzXSlyZXR1cm4hMTtyZXR1cm4hMH1mcm9tQXJyYXkoZSx0PTApe2ZvcihsZXQgcj0wO3I8MTY7cisrKXRoaXMuZWxlbWVudHNbcl09ZVtyK3RdO3JldHVybiB0aGlzfXRvQXJyYXkoZT1bXSx0PTApe2NvbnN0IHI9dGhpcy5lbGVtZW50cztyZXR1cm4gZVt0XT1yWzBdLGVbdCsxXT1yWzFdLGVbdCsyXT1yWzJdLGVbdCszXT1yWzNdLGVbdCs0XT1yWzRdLGVbdCs1XT1yWzVdLGVbdCs2XT1yWzZdLGVbdCs3XT1yWzddLGVbdCs4XT1yWzhdLGVbdCs5XT1yWzldLGVbdCsxMF09clsxMF0sZVt0KzExXT1yWzExXSxlW3QrMTJdPXJbMTJdLGVbdCsxM109clsxM10sZVt0KzE0XT1yWzE0XSxlW3QrMTVdPXJbMTVdLGV9fV9lLnByb3RvdHlwZS5pc01hdHJpeDQ9ITA7Y29uc3QgenI9bmV3IEUsS3Q9bmV3IF9lLGUwPW5ldyBFKDAsMCwwKSx0MD1uZXcgRSgxLDEsMSksemk9bmV3IEUsVGE9bmV3IEUsQnQ9bmV3IEUsYmw9bmV3IF9lLHdsPW5ldyBUdDtjbGFzcyBzcntjb25zdHJ1Y3RvcihlPTAsdD0wLHI9MCxzPXNyLkRlZmF1bHRPcmRlcil7dGhpcy5feD1lLHRoaXMuX3k9dCx0aGlzLl96PXIsdGhpcy5fb3JkZXI9c31nZXQgeCgpe3JldHVybiB0aGlzLl94fXNldCB4KGUpe3RoaXMuX3g9ZSx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCl9Z2V0IHkoKXtyZXR1cm4gdGhpcy5feX1zZXQgeShlKXt0aGlzLl95PWUsdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpfWdldCB6KCl7cmV0dXJuIHRoaXMuX3p9c2V0IHooZSl7dGhpcy5fej1lLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKX1nZXQgb3JkZXIoKXtyZXR1cm4gdGhpcy5fb3JkZXJ9c2V0IG9yZGVyKGUpe3RoaXMuX29yZGVyPWUsdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpfXNldChlLHQscixzPXRoaXMuX29yZGVyKXtyZXR1cm4gdGhpcy5feD1lLHRoaXMuX3k9dCx0aGlzLl96PXIsdGhpcy5fb3JkZXI9cyx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc31jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLl94LHRoaXMuX3ksdGhpcy5feix0aGlzLl9vcmRlcil9Y29weShlKXtyZXR1cm4gdGhpcy5feD1lLl94LHRoaXMuX3k9ZS5feSx0aGlzLl96PWUuX3osdGhpcy5fb3JkZXI9ZS5fb3JkZXIsdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpLHRoaXN9c2V0RnJvbVJvdGF0aW9uTWF0cml4KGUsdD10aGlzLl9vcmRlcixyPSEwKXtjb25zdCBzPWUuZWxlbWVudHMsYT1zWzBdLG49c1s0XSxvPXNbOF0saD1zWzFdLGw9c1s1XSxjPXNbOV0sdT1zWzJdLGQ9c1s2XSxwPXNbMTBdO3N3aXRjaCh0KXtjYXNlIlhZWiI6dGhpcy5feT1NYXRoLmFzaW4oeXQobywtMSwxKSksTWF0aC5hYnMobyk8Ljk5OTk5OTk/KHRoaXMuX3g9TWF0aC5hdGFuMigtYyxwKSx0aGlzLl96PU1hdGguYXRhbjIoLW4sYSkpOih0aGlzLl94PU1hdGguYXRhbjIoZCxsKSx0aGlzLl96PTApO2JyZWFrO2Nhc2UiWVhaIjp0aGlzLl94PU1hdGguYXNpbigteXQoYywtMSwxKSksTWF0aC5hYnMoYyk8Ljk5OTk5OTk/KHRoaXMuX3k9TWF0aC5hdGFuMihvLHApLHRoaXMuX3o9TWF0aC5hdGFuMihoLGwpKToodGhpcy5feT1NYXRoLmF0YW4yKC11LGEpLHRoaXMuX3o9MCk7YnJlYWs7Y2FzZSJaWFkiOnRoaXMuX3g9TWF0aC5hc2luKHl0KGQsLTEsMSkpLE1hdGguYWJzKGQpPC45OTk5OTk5Pyh0aGlzLl95PU1hdGguYXRhbjIoLXUscCksdGhpcy5fej1NYXRoLmF0YW4yKC1uLGwpKToodGhpcy5feT0wLHRoaXMuX3o9TWF0aC5hdGFuMihoLGEpKTticmVhaztjYXNlIlpZWCI6dGhpcy5feT1NYXRoLmFzaW4oLXl0KHUsLTEsMSkpLE1hdGguYWJzKHUpPC45OTk5OTk5Pyh0aGlzLl94PU1hdGguYXRhbjIoZCxwKSx0aGlzLl96PU1hdGguYXRhbjIoaCxhKSk6KHRoaXMuX3g9MCx0aGlzLl96PU1hdGguYXRhbjIoLW4sbCkpO2JyZWFrO2Nhc2UiWVpYIjp0aGlzLl96PU1hdGguYXNpbih5dChoLC0xLDEpKSxNYXRoLmFicyhoKTwuOTk5OTk5OT8odGhpcy5feD1NYXRoLmF0YW4yKC1jLGwpLHRoaXMuX3k9TWF0aC5hdGFuMigtdSxhKSk6KHRoaXMuX3g9MCx0aGlzLl95PU1hdGguYXRhbjIobyxwKSk7YnJlYWs7Y2FzZSJYWlkiOnRoaXMuX3o9TWF0aC5hc2luKC15dChuLC0xLDEpKSxNYXRoLmFicyhuKTwuOTk5OTk5OT8odGhpcy5feD1NYXRoLmF0YW4yKGQsbCksdGhpcy5feT1NYXRoLmF0YW4yKG8sYSkpOih0aGlzLl94PU1hdGguYXRhbjIoLWMscCksdGhpcy5feT0wKTticmVhaztkZWZhdWx0OmNvbnNvbGUud2FybigiVEhSRUUuRXVsZXI6IC5zZXRGcm9tUm90YXRpb25NYXRyaXgoKSBlbmNvdW50ZXJlZCBhbiB1bmtub3duIG9yZGVyOiAiK3QpfXJldHVybiB0aGlzLl9vcmRlcj10LHI9PT0hMCYmdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpLHRoaXN9c2V0RnJvbVF1YXRlcm5pb24oZSx0LHIpe3JldHVybiBibC5tYWtlUm90YXRpb25Gcm9tUXVhdGVybmlvbihlKSx0aGlzLnNldEZyb21Sb3RhdGlvbk1hdHJpeChibCx0LHIpfXNldEZyb21WZWN0b3IzKGUsdD10aGlzLl9vcmRlcil7cmV0dXJuIHRoaXMuc2V0KGUueCxlLnksZS56LHQpfXJlb3JkZXIoZSl7cmV0dXJuIHdsLnNldEZyb21FdWxlcih0aGlzKSx0aGlzLnNldEZyb21RdWF0ZXJuaW9uKHdsLGUpfWVxdWFscyhlKXtyZXR1cm4gZS5feD09PXRoaXMuX3gmJmUuX3k9PT10aGlzLl95JiZlLl96PT09dGhpcy5feiYmZS5fb3JkZXI9PT10aGlzLl9vcmRlcn1mcm9tQXJyYXkoZSl7cmV0dXJuIHRoaXMuX3g9ZVswXSx0aGlzLl95PWVbMV0sdGhpcy5fej1lWzJdLGVbM10hPT12b2lkIDAmJih0aGlzLl9vcmRlcj1lWzNdKSx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc310b0FycmF5KGU9W10sdD0wKXtyZXR1cm4gZVt0XT10aGlzLl94LGVbdCsxXT10aGlzLl95LGVbdCsyXT10aGlzLl96LGVbdCszXT10aGlzLl9vcmRlcixlfV9vbkNoYW5nZShlKXtyZXR1cm4gdGhpcy5fb25DaGFuZ2VDYWxsYmFjaz1lLHRoaXN9X29uQ2hhbmdlQ2FsbGJhY2soKXt9fXNyLnByb3RvdHlwZS5pc0V1bGVyPSEwLHNyLkRlZmF1bHRPcmRlcj0iWFlaIixzci5Sb3RhdGlvbk9yZGVycz1bIlhZWiIsIllaWCIsIlpYWSIsIlhaWSIsIllYWiIsIlpZWCJdO2NsYXNzIFNse2NvbnN0cnVjdG9yKCl7dGhpcy5tYXNrPTF9c2V0KGUpe3RoaXMubWFzaz0oMTw8ZXwwKT4+PjB9ZW5hYmxlKGUpe3RoaXMubWFza3w9MTw8ZXwwfWVuYWJsZUFsbCgpe3RoaXMubWFzaz0tMX10b2dnbGUoZSl7dGhpcy5tYXNrXj0xPDxlfDB9ZGlzYWJsZShlKXt0aGlzLm1hc2smPX4oMTw8ZXwwKX1kaXNhYmxlQWxsKCl7dGhpcy5tYXNrPTB9dGVzdChlKXtyZXR1cm4odGhpcy5tYXNrJmUubWFzaykhPT0wfWlzRW5hYmxlZChlKXtyZXR1cm4odGhpcy5tYXNrJigxPDxlfDApKSE9PTB9fWxldCBpMD0wO2NvbnN0IEVsPW5ldyBFLEJyPW5ldyBUdCx3aT1uZXcgX2UsQWE9bmV3IEUsQ3M9bmV3IEUscjA9bmV3IEUsczA9bmV3IFR0LFRsPW5ldyBFKDEsMCwwKSxBbD1uZXcgRSgwLDEsMCksQ2w9bmV3IEUoMCwwLDEpLGEwPXt0eXBlOiJhZGRlZCJ9LExsPXt0eXBlOiJyZW1vdmVkIn07Y2xhc3MgamUgZXh0ZW5kcyBRaXtjb25zdHJ1Y3Rvcigpe3N1cGVyKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsImlkIix7dmFsdWU6aTArK30pLHRoaXMudXVpZD1zaSgpLHRoaXMubmFtZT0iIix0aGlzLnR5cGU9Ik9iamVjdDNEIix0aGlzLnBhcmVudD1udWxsLHRoaXMuY2hpbGRyZW49W10sdGhpcy51cD1qZS5EZWZhdWx0VXAuY2xvbmUoKTtjb25zdCBlPW5ldyBFLHQ9bmV3IHNyLHI9bmV3IFR0LHM9bmV3IEUoMSwxLDEpO2Z1bmN0aW9uIGEoKXtyLnNldEZyb21FdWxlcih0LCExKX1mdW5jdGlvbiBuKCl7dC5zZXRGcm9tUXVhdGVybmlvbihyLHZvaWQgMCwhMSl9dC5fb25DaGFuZ2UoYSksci5fb25DaGFuZ2UobiksT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcyx7cG9zaXRpb246e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHZhbHVlOmV9LHJvdGF0aW9uOntjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx2YWx1ZTp0fSxxdWF0ZXJuaW9uOntjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx2YWx1ZTpyfSxzY2FsZTp7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsdmFsdWU6c30sbW9kZWxWaWV3TWF0cml4Ont2YWx1ZTpuZXcgX2V9LG5vcm1hbE1hdHJpeDp7dmFsdWU6bmV3IHh0fX0pLHRoaXMubWF0cml4PW5ldyBfZSx0aGlzLm1hdHJpeFdvcmxkPW5ldyBfZSx0aGlzLm1hdHJpeEF1dG9VcGRhdGU9amUuRGVmYXVsdE1hdHJpeEF1dG9VcGRhdGUsdGhpcy5tYXRyaXhXb3JsZE5lZWRzVXBkYXRlPSExLHRoaXMubGF5ZXJzPW5ldyBTbCx0aGlzLnZpc2libGU9ITAsdGhpcy5jYXN0U2hhZG93PSExLHRoaXMucmVjZWl2ZVNoYWRvdz0hMSx0aGlzLmZydXN0dW1DdWxsZWQ9ITAsdGhpcy5yZW5kZXJPcmRlcj0wLHRoaXMuYW5pbWF0aW9ucz1bXSx0aGlzLnVzZXJEYXRhPXt9fW9uQmVmb3JlUmVuZGVyKCl7fW9uQWZ0ZXJSZW5kZXIoKXt9YXBwbHlNYXRyaXg0KGUpe3RoaXMubWF0cml4QXV0b1VwZGF0ZSYmdGhpcy51cGRhdGVNYXRyaXgoKSx0aGlzLm1hdHJpeC5wcmVtdWx0aXBseShlKSx0aGlzLm1hdHJpeC5kZWNvbXBvc2UodGhpcy5wb3NpdGlvbix0aGlzLnF1YXRlcm5pb24sdGhpcy5zY2FsZSl9YXBwbHlRdWF0ZXJuaW9uKGUpe3JldHVybiB0aGlzLnF1YXRlcm5pb24ucHJlbXVsdGlwbHkoZSksdGhpc31zZXRSb3RhdGlvbkZyb21BeGlzQW5nbGUoZSx0KXt0aGlzLnF1YXRlcm5pb24uc2V0RnJvbUF4aXNBbmdsZShlLHQpfXNldFJvdGF0aW9uRnJvbUV1bGVyKGUpe3RoaXMucXVhdGVybmlvbi5zZXRGcm9tRXVsZXIoZSwhMCl9c2V0Um90YXRpb25Gcm9tTWF0cml4KGUpe3RoaXMucXVhdGVybmlvbi5zZXRGcm9tUm90YXRpb25NYXRyaXgoZSl9c2V0Um90YXRpb25Gcm9tUXVhdGVybmlvbihlKXt0aGlzLnF1YXRlcm5pb24uY29weShlKX1yb3RhdGVPbkF4aXMoZSx0KXtyZXR1cm4gQnIuc2V0RnJvbUF4aXNBbmdsZShlLHQpLHRoaXMucXVhdGVybmlvbi5tdWx0aXBseShCciksdGhpc31yb3RhdGVPbldvcmxkQXhpcyhlLHQpe3JldHVybiBCci5zZXRGcm9tQXhpc0FuZ2xlKGUsdCksdGhpcy5xdWF0ZXJuaW9uLnByZW11bHRpcGx5KEJyKSx0aGlzfXJvdGF0ZVgoZSl7cmV0dXJuIHRoaXMucm90YXRlT25BeGlzKFRsLGUpfXJvdGF0ZVkoZSl7cmV0dXJuIHRoaXMucm90YXRlT25BeGlzKEFsLGUpfXJvdGF0ZVooZSl7cmV0dXJuIHRoaXMucm90YXRlT25BeGlzKENsLGUpfXRyYW5zbGF0ZU9uQXhpcyhlLHQpe3JldHVybiBFbC5jb3B5KGUpLmFwcGx5UXVhdGVybmlvbih0aGlzLnF1YXRlcm5pb24pLHRoaXMucG9zaXRpb24uYWRkKEVsLm11bHRpcGx5U2NhbGFyKHQpKSx0aGlzfXRyYW5zbGF0ZVgoZSl7cmV0dXJuIHRoaXMudHJhbnNsYXRlT25BeGlzKFRsLGUpfXRyYW5zbGF0ZVkoZSl7cmV0dXJuIHRoaXMudHJhbnNsYXRlT25BeGlzKEFsLGUpfXRyYW5zbGF0ZVooZSl7cmV0dXJuIHRoaXMudHJhbnNsYXRlT25BeGlzKENsLGUpfWxvY2FsVG9Xb3JsZChlKXtyZXR1cm4gZS5hcHBseU1hdHJpeDQodGhpcy5tYXRyaXhXb3JsZCl9d29ybGRUb0xvY2FsKGUpe3JldHVybiBlLmFwcGx5TWF0cml4NCh3aS5jb3B5KHRoaXMubWF0cml4V29ybGQpLmludmVydCgpKX1sb29rQXQoZSx0LHIpe2UuaXNWZWN0b3IzP0FhLmNvcHkoZSk6QWEuc2V0KGUsdCxyKTtjb25zdCBzPXRoaXMucGFyZW50O3RoaXMudXBkYXRlV29ybGRNYXRyaXgoITAsITEpLENzLnNldEZyb21NYXRyaXhQb3NpdGlvbih0aGlzLm1hdHJpeFdvcmxkKSx0aGlzLmlzQ2FtZXJhfHx0aGlzLmlzTGlnaHQ/d2kubG9va0F0KENzLEFhLHRoaXMudXApOndpLmxvb2tBdChBYSxDcyx0aGlzLnVwKSx0aGlzLnF1YXRlcm5pb24uc2V0RnJvbVJvdGF0aW9uTWF0cml4KHdpKSxzJiYod2kuZXh0cmFjdFJvdGF0aW9uKHMubWF0cml4V29ybGQpLEJyLnNldEZyb21Sb3RhdGlvbk1hdHJpeCh3aSksdGhpcy5xdWF0ZXJuaW9uLnByZW11bHRpcGx5KEJyLmludmVydCgpKSl9YWRkKGUpe2lmKGFyZ3VtZW50cy5sZW5ndGg+MSl7Zm9yKGxldCB0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl0aGlzLmFkZChhcmd1bWVudHNbdF0pO3JldHVybiB0aGlzfXJldHVybiBlPT09dGhpcz8oY29uc29sZS5lcnJvcigiVEhSRUUuT2JqZWN0M0QuYWRkOiBvYmplY3QgY2FuJ3QgYmUgYWRkZWQgYXMgYSBjaGlsZCBvZiBpdHNlbGYuIixlKSx0aGlzKTooZSYmZS5pc09iamVjdDNEPyhlLnBhcmVudCE9PW51bGwmJmUucGFyZW50LnJlbW92ZShlKSxlLnBhcmVudD10aGlzLHRoaXMuY2hpbGRyZW4ucHVzaChlKSxlLmRpc3BhdGNoRXZlbnQoYTApKTpjb25zb2xlLmVycm9yKCJUSFJFRS5PYmplY3QzRC5hZGQ6IG9iamVjdCBub3QgYW4gaW5zdGFuY2Ugb2YgVEhSRUUuT2JqZWN0M0QuIixlKSx0aGlzKX1yZW1vdmUoZSl7aWYoYXJndW1lbnRzLmxlbmd0aD4xKXtmb3IobGV0IHI9MDtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXRoaXMucmVtb3ZlKGFyZ3VtZW50c1tyXSk7cmV0dXJuIHRoaXN9Y29uc3QgdD10aGlzLmNoaWxkcmVuLmluZGV4T2YoZSk7cmV0dXJuIHQhPT0tMSYmKGUucGFyZW50PW51bGwsdGhpcy5jaGlsZHJlbi5zcGxpY2UodCwxKSxlLmRpc3BhdGNoRXZlbnQoTGwpKSx0aGlzfXJlbW92ZUZyb21QYXJlbnQoKXtjb25zdCBlPXRoaXMucGFyZW50O3JldHVybiBlIT09bnVsbCYmZS5yZW1vdmUodGhpcyksdGhpc31jbGVhcigpe2ZvcihsZXQgZT0wO2U8dGhpcy5jaGlsZHJlbi5sZW5ndGg7ZSsrKXtjb25zdCB0PXRoaXMuY2hpbGRyZW5bZV07dC5wYXJlbnQ9bnVsbCx0LmRpc3BhdGNoRXZlbnQoTGwpfXJldHVybiB0aGlzLmNoaWxkcmVuLmxlbmd0aD0wLHRoaXN9YXR0YWNoKGUpe3JldHVybiB0aGlzLnVwZGF0ZVdvcmxkTWF0cml4KCEwLCExKSx3aS5jb3B5KHRoaXMubWF0cml4V29ybGQpLmludmVydCgpLGUucGFyZW50IT09bnVsbCYmKGUucGFyZW50LnVwZGF0ZVdvcmxkTWF0cml4KCEwLCExKSx3aS5tdWx0aXBseShlLnBhcmVudC5tYXRyaXhXb3JsZCkpLGUuYXBwbHlNYXRyaXg0KHdpKSx0aGlzLmFkZChlKSxlLnVwZGF0ZVdvcmxkTWF0cml4KCExLCEwKSx0aGlzfWdldE9iamVjdEJ5SWQoZSl7cmV0dXJuIHRoaXMuZ2V0T2JqZWN0QnlQcm9wZXJ0eSgiaWQiLGUpfWdldE9iamVjdEJ5TmFtZShlKXtyZXR1cm4gdGhpcy5nZXRPYmplY3RCeVByb3BlcnR5KCJuYW1lIixlKX1nZXRPYmplY3RCeVByb3BlcnR5KGUsdCl7aWYodGhpc1tlXT09PXQpcmV0dXJuIHRoaXM7Zm9yKGxldCByPTAscz10aGlzLmNoaWxkcmVuLmxlbmd0aDtyPHM7cisrKXtjb25zdCBhPXRoaXMuY2hpbGRyZW5bcl0uZ2V0T2JqZWN0QnlQcm9wZXJ0eShlLHQpO2lmKGEhPT12b2lkIDApcmV0dXJuIGF9fWdldFdvcmxkUG9zaXRpb24oZSl7cmV0dXJuIHRoaXMudXBkYXRlV29ybGRNYXRyaXgoITAsITEpLGUuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHRoaXMubWF0cml4V29ybGQpfWdldFdvcmxkUXVhdGVybmlvbihlKXtyZXR1cm4gdGhpcy51cGRhdGVXb3JsZE1hdHJpeCghMCwhMSksdGhpcy5tYXRyaXhXb3JsZC5kZWNvbXBvc2UoQ3MsZSxyMCksZX1nZXRXb3JsZFNjYWxlKGUpe3JldHVybiB0aGlzLnVwZGF0ZVdvcmxkTWF0cml4KCEwLCExKSx0aGlzLm1hdHJpeFdvcmxkLmRlY29tcG9zZShDcyxzMCxlKSxlfWdldFdvcmxkRGlyZWN0aW9uKGUpe3RoaXMudXBkYXRlV29ybGRNYXRyaXgoITAsITEpO2NvbnN0IHQ9dGhpcy5tYXRyaXhXb3JsZC5lbGVtZW50cztyZXR1cm4gZS5zZXQodFs4XSx0WzldLHRbMTBdKS5ub3JtYWxpemUoKX1yYXljYXN0KCl7fXRyYXZlcnNlKGUpe2UodGhpcyk7Y29uc3QgdD10aGlzLmNoaWxkcmVuO2ZvcihsZXQgcj0wLHM9dC5sZW5ndGg7cjxzO3IrKyl0W3JdLnRyYXZlcnNlKGUpfXRyYXZlcnNlVmlzaWJsZShlKXtpZih0aGlzLnZpc2libGU9PT0hMSlyZXR1cm47ZSh0aGlzKTtjb25zdCB0PXRoaXMuY2hpbGRyZW47Zm9yKGxldCByPTAscz10Lmxlbmd0aDtyPHM7cisrKXRbcl0udHJhdmVyc2VWaXNpYmxlKGUpfXRyYXZlcnNlQW5jZXN0b3JzKGUpe2NvbnN0IHQ9dGhpcy5wYXJlbnQ7dCE9PW51bGwmJihlKHQpLHQudHJhdmVyc2VBbmNlc3RvcnMoZSkpfXVwZGF0ZU1hdHJpeCgpe3RoaXMubWF0cml4LmNvbXBvc2UodGhpcy5wb3NpdGlvbix0aGlzLnF1YXRlcm5pb24sdGhpcy5zY2FsZSksdGhpcy5tYXRyaXhXb3JsZE5lZWRzVXBkYXRlPSEwfXVwZGF0ZU1hdHJpeFdvcmxkKGUpe3RoaXMubWF0cml4QXV0b1VwZGF0ZSYmdGhpcy51cGRhdGVNYXRyaXgoKSwodGhpcy5tYXRyaXhXb3JsZE5lZWRzVXBkYXRlfHxlKSYmKHRoaXMucGFyZW50PT09bnVsbD90aGlzLm1hdHJpeFdvcmxkLmNvcHkodGhpcy5tYXRyaXgpOnRoaXMubWF0cml4V29ybGQubXVsdGlwbHlNYXRyaWNlcyh0aGlzLnBhcmVudC5tYXRyaXhXb3JsZCx0aGlzLm1hdHJpeCksdGhpcy5tYXRyaXhXb3JsZE5lZWRzVXBkYXRlPSExLGU9ITApO2NvbnN0IHQ9dGhpcy5jaGlsZHJlbjtmb3IobGV0IHI9MCxzPXQubGVuZ3RoO3I8cztyKyspdFtyXS51cGRhdGVNYXRyaXhXb3JsZChlKX11cGRhdGVXb3JsZE1hdHJpeChlLHQpe2NvbnN0IHI9dGhpcy5wYXJlbnQ7aWYoZT09PSEwJiZyIT09bnVsbCYmci51cGRhdGVXb3JsZE1hdHJpeCghMCwhMSksdGhpcy5tYXRyaXhBdXRvVXBkYXRlJiZ0aGlzLnVwZGF0ZU1hdHJpeCgpLHRoaXMucGFyZW50PT09bnVsbD90aGlzLm1hdHJpeFdvcmxkLmNvcHkodGhpcy5tYXRyaXgpOnRoaXMubWF0cml4V29ybGQubXVsdGlwbHlNYXRyaWNlcyh0aGlzLnBhcmVudC5tYXRyaXhXb3JsZCx0aGlzLm1hdHJpeCksdD09PSEwKXtjb25zdCBzPXRoaXMuY2hpbGRyZW47Zm9yKGxldCBhPTAsbj1zLmxlbmd0aDthPG47YSsrKXNbYV0udXBkYXRlV29ybGRNYXRyaXgoITEsITApfX10b0pTT04oZSl7Y29uc3QgdD1lPT09dm9pZCAwfHx0eXBlb2YgZT09InN0cmluZyIscj17fTt0JiYoZT17Z2VvbWV0cmllczp7fSxtYXRlcmlhbHM6e30sdGV4dHVyZXM6e30saW1hZ2VzOnt9LHNoYXBlczp7fSxza2VsZXRvbnM6e30sYW5pbWF0aW9uczp7fSxub2Rlczp7fX0sci5tZXRhZGF0YT17dmVyc2lvbjo0LjUsdHlwZToiT2JqZWN0IixnZW5lcmF0b3I6Ik9iamVjdDNELnRvSlNPTiJ9KTtjb25zdCBzPXt9O3MudXVpZD10aGlzLnV1aWQscy50eXBlPXRoaXMudHlwZSx0aGlzLm5hbWUhPT0iIiYmKHMubmFtZT10aGlzLm5hbWUpLHRoaXMuY2FzdFNoYWRvdz09PSEwJiYocy5jYXN0U2hhZG93PSEwKSx0aGlzLnJlY2VpdmVTaGFkb3c9PT0hMCYmKHMucmVjZWl2ZVNoYWRvdz0hMCksdGhpcy52aXNpYmxlPT09ITEmJihzLnZpc2libGU9ITEpLHRoaXMuZnJ1c3R1bUN1bGxlZD09PSExJiYocy5mcnVzdHVtQ3VsbGVkPSExKSx0aGlzLnJlbmRlck9yZGVyIT09MCYmKHMucmVuZGVyT3JkZXI9dGhpcy5yZW5kZXJPcmRlciksSlNPTi5zdHJpbmdpZnkodGhpcy51c2VyRGF0YSkhPT0ie30iJiYocy51c2VyRGF0YT10aGlzLnVzZXJEYXRhKSxzLmxheWVycz10aGlzLmxheWVycy5tYXNrLHMubWF0cml4PXRoaXMubWF0cml4LnRvQXJyYXkoKSx0aGlzLm1hdHJpeEF1dG9VcGRhdGU9PT0hMSYmKHMubWF0cml4QXV0b1VwZGF0ZT0hMSksdGhpcy5pc0luc3RhbmNlZE1lc2gmJihzLnR5cGU9Ikluc3RhbmNlZE1lc2giLHMuY291bnQ9dGhpcy5jb3VudCxzLmluc3RhbmNlTWF0cml4PXRoaXMuaW5zdGFuY2VNYXRyaXgudG9KU09OKCksdGhpcy5pbnN0YW5jZUNvbG9yIT09bnVsbCYmKHMuaW5zdGFuY2VDb2xvcj10aGlzLmluc3RhbmNlQ29sb3IudG9KU09OKCkpKTtmdW5jdGlvbiBhKG8saCl7cmV0dXJuIG9baC51dWlkXT09PXZvaWQgMCYmKG9baC51dWlkXT1oLnRvSlNPTihlKSksaC51dWlkfWlmKHRoaXMuaXNTY2VuZSl0aGlzLmJhY2tncm91bmQmJih0aGlzLmJhY2tncm91bmQuaXNDb2xvcj9zLmJhY2tncm91bmQ9dGhpcy5iYWNrZ3JvdW5kLnRvSlNPTigpOnRoaXMuYmFja2dyb3VuZC5pc1RleHR1cmUmJihzLmJhY2tncm91bmQ9dGhpcy5iYWNrZ3JvdW5kLnRvSlNPTihlKS51dWlkKSksdGhpcy5lbnZpcm9ubWVudCYmdGhpcy5lbnZpcm9ubWVudC5pc1RleHR1cmUmJihzLmVudmlyb25tZW50PXRoaXMuZW52aXJvbm1lbnQudG9KU09OKGUpLnV1aWQpO2Vsc2UgaWYodGhpcy5pc01lc2h8fHRoaXMuaXNMaW5lfHx0aGlzLmlzUG9pbnRzKXtzLmdlb21ldHJ5PWEoZS5nZW9tZXRyaWVzLHRoaXMuZ2VvbWV0cnkpO2NvbnN0IG89dGhpcy5nZW9tZXRyeS5wYXJhbWV0ZXJzO2lmKG8hPT12b2lkIDAmJm8uc2hhcGVzIT09dm9pZCAwKXtjb25zdCBoPW8uc2hhcGVzO2lmKEFycmF5LmlzQXJyYXkoaCkpZm9yKGxldCBsPTAsYz1oLmxlbmd0aDtsPGM7bCsrKXtjb25zdCB1PWhbbF07YShlLnNoYXBlcyx1KX1lbHNlIGEoZS5zaGFwZXMsaCl9fWlmKHRoaXMuaXNTa2lubmVkTWVzaCYmKHMuYmluZE1vZGU9dGhpcy5iaW5kTW9kZSxzLmJpbmRNYXRyaXg9dGhpcy5iaW5kTWF0cml4LnRvQXJyYXkoKSx0aGlzLnNrZWxldG9uIT09dm9pZCAwJiYoYShlLnNrZWxldG9ucyx0aGlzLnNrZWxldG9uKSxzLnNrZWxldG9uPXRoaXMuc2tlbGV0b24udXVpZCkpLHRoaXMubWF0ZXJpYWwhPT12b2lkIDApaWYoQXJyYXkuaXNBcnJheSh0aGlzLm1hdGVyaWFsKSl7Y29uc3Qgbz1bXTtmb3IobGV0IGg9MCxsPXRoaXMubWF0ZXJpYWwubGVuZ3RoO2g8bDtoKyspby5wdXNoKGEoZS5tYXRlcmlhbHMsdGhpcy5tYXRlcmlhbFtoXSkpO3MubWF0ZXJpYWw9b31lbHNlIHMubWF0ZXJpYWw9YShlLm1hdGVyaWFscyx0aGlzLm1hdGVyaWFsKTtpZih0aGlzLmNoaWxkcmVuLmxlbmd0aD4wKXtzLmNoaWxkcmVuPVtdO2ZvcihsZXQgbz0wO288dGhpcy5jaGlsZHJlbi5sZW5ndGg7bysrKXMuY2hpbGRyZW4ucHVzaCh0aGlzLmNoaWxkcmVuW29dLnRvSlNPTihlKS5vYmplY3QpfWlmKHRoaXMuYW5pbWF0aW9ucy5sZW5ndGg+MCl7cy5hbmltYXRpb25zPVtdO2ZvcihsZXQgbz0wO288dGhpcy5hbmltYXRpb25zLmxlbmd0aDtvKyspe2NvbnN0IGg9dGhpcy5hbmltYXRpb25zW29dO3MuYW5pbWF0aW9ucy5wdXNoKGEoZS5hbmltYXRpb25zLGgpKX19aWYodCl7Y29uc3Qgbz1uKGUuZ2VvbWV0cmllcyksaD1uKGUubWF0ZXJpYWxzKSxsPW4oZS50ZXh0dXJlcyksYz1uKGUuaW1hZ2VzKSx1PW4oZS5zaGFwZXMpLGQ9bihlLnNrZWxldG9ucykscD1uKGUuYW5pbWF0aW9ucyksZz1uKGUubm9kZXMpO28ubGVuZ3RoPjAmJihyLmdlb21ldHJpZXM9byksaC5sZW5ndGg+MCYmKHIubWF0ZXJpYWxzPWgpLGwubGVuZ3RoPjAmJihyLnRleHR1cmVzPWwpLGMubGVuZ3RoPjAmJihyLmltYWdlcz1jKSx1Lmxlbmd0aD4wJiYoci5zaGFwZXM9dSksZC5sZW5ndGg+MCYmKHIuc2tlbGV0b25zPWQpLHAubGVuZ3RoPjAmJihyLmFuaW1hdGlvbnM9cCksZy5sZW5ndGg+MCYmKHIubm9kZXM9Zyl9cmV0dXJuIHIub2JqZWN0PXMscjtmdW5jdGlvbiBuKG8pe2NvbnN0IGg9W107Zm9yKGNvbnN0IGwgaW4gbyl7Y29uc3QgYz1vW2xdO2RlbGV0ZSBjLm1ldGFkYXRhLGgucHVzaChjKX1yZXR1cm4gaH19Y2xvbmUoZSl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSh0aGlzLGUpfWNvcHkoZSx0PSEwKXtpZih0aGlzLm5hbWU9ZS5uYW1lLHRoaXMudXAuY29weShlLnVwKSx0aGlzLnBvc2l0aW9uLmNvcHkoZS5wb3NpdGlvbiksdGhpcy5yb3RhdGlvbi5vcmRlcj1lLnJvdGF0aW9uLm9yZGVyLHRoaXMucXVhdGVybmlvbi5jb3B5KGUucXVhdGVybmlvbiksdGhpcy5zY2FsZS5jb3B5KGUuc2NhbGUpLHRoaXMubWF0cml4LmNvcHkoZS5tYXRyaXgpLHRoaXMubWF0cml4V29ybGQuY29weShlLm1hdHJpeFdvcmxkKSx0aGlzLm1hdHJpeEF1dG9VcGRhdGU9ZS5tYXRyaXhBdXRvVXBkYXRlLHRoaXMubWF0cml4V29ybGROZWVkc1VwZGF0ZT1lLm1hdHJpeFdvcmxkTmVlZHNVcGRhdGUsdGhpcy5sYXllcnMubWFzaz1lLmxheWVycy5tYXNrLHRoaXMudmlzaWJsZT1lLnZpc2libGUsdGhpcy5jYXN0U2hhZG93PWUuY2FzdFNoYWRvdyx0aGlzLnJlY2VpdmVTaGFkb3c9ZS5yZWNlaXZlU2hhZG93LHRoaXMuZnJ1c3R1bUN1bGxlZD1lLmZydXN0dW1DdWxsZWQsdGhpcy5yZW5kZXJPcmRlcj1lLnJlbmRlck9yZGVyLHRoaXMudXNlckRhdGE9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlLnVzZXJEYXRhKSksdD09PSEwKWZvcihsZXQgcj0wO3I8ZS5jaGlsZHJlbi5sZW5ndGg7cisrKXtjb25zdCBzPWUuY2hpbGRyZW5bcl07dGhpcy5hZGQocy5jbG9uZSgpKX1yZXR1cm4gdGhpc319amUuRGVmYXVsdFVwPW5ldyBFKDAsMSwwKSxqZS5EZWZhdWx0TWF0cml4QXV0b1VwZGF0ZT0hMCxqZS5wcm90b3R5cGUuaXNPYmplY3QzRD0hMDtjb25zdCBRdD1uZXcgRSxTaT1uZXcgRSxZbj1uZXcgRSxFaT1uZXcgRSxVcj1uZXcgRSxGcj1uZXcgRSxSbD1uZXcgRSxabj1uZXcgRSxLbj1uZXcgRSxRbj1uZXcgRTtjbGFzcyBhdHtjb25zdHJ1Y3RvcihlPW5ldyBFLHQ9bmV3IEUscj1uZXcgRSl7dGhpcy5hPWUsdGhpcy5iPXQsdGhpcy5jPXJ9c3RhdGljIGdldE5vcm1hbChlLHQscixzKXtzLnN1YlZlY3RvcnMocix0KSxRdC5zdWJWZWN0b3JzKGUsdCkscy5jcm9zcyhRdCk7Y29uc3QgYT1zLmxlbmd0aFNxKCk7cmV0dXJuIGE+MD9zLm11bHRpcGx5U2NhbGFyKDEvTWF0aC5zcXJ0KGEpKTpzLnNldCgwLDAsMCl9c3RhdGljIGdldEJhcnljb29yZChlLHQscixzLGEpe1F0LnN1YlZlY3RvcnMocyx0KSxTaS5zdWJWZWN0b3JzKHIsdCksWW4uc3ViVmVjdG9ycyhlLHQpO2NvbnN0IG49UXQuZG90KFF0KSxvPVF0LmRvdChTaSksaD1RdC5kb3QoWW4pLGw9U2kuZG90KFNpKSxjPVNpLmRvdChZbiksdT1uKmwtbypvO2lmKHU9PT0wKXJldHVybiBhLnNldCgtMiwtMSwtMSk7Y29uc3QgZD0xL3UscD0obCpoLW8qYykqZCxnPShuKmMtbypoKSpkO3JldHVybiBhLnNldCgxLXAtZyxnLHApfXN0YXRpYyBjb250YWluc1BvaW50KGUsdCxyLHMpe3JldHVybiB0aGlzLmdldEJhcnljb29yZChlLHQscixzLEVpKSxFaS54Pj0wJiZFaS55Pj0wJiZFaS54K0VpLnk8PTF9c3RhdGljIGdldFVWKGUsdCxyLHMsYSxuLG8saCl7cmV0dXJuIHRoaXMuZ2V0QmFyeWNvb3JkKGUsdCxyLHMsRWkpLGguc2V0KDAsMCksaC5hZGRTY2FsZWRWZWN0b3IoYSxFaS54KSxoLmFkZFNjYWxlZFZlY3RvcihuLEVpLnkpLGguYWRkU2NhbGVkVmVjdG9yKG8sRWkueiksaH1zdGF0aWMgaXNGcm9udEZhY2luZyhlLHQscixzKXtyZXR1cm4gUXQuc3ViVmVjdG9ycyhyLHQpLFNpLnN1YlZlY3RvcnMoZSx0KSxRdC5jcm9zcyhTaSkuZG90KHMpPDB9c2V0KGUsdCxyKXtyZXR1cm4gdGhpcy5hLmNvcHkoZSksdGhpcy5iLmNvcHkodCksdGhpcy5jLmNvcHkociksdGhpc31zZXRGcm9tUG9pbnRzQW5kSW5kaWNlcyhlLHQscixzKXtyZXR1cm4gdGhpcy5hLmNvcHkoZVt0XSksdGhpcy5iLmNvcHkoZVtyXSksdGhpcy5jLmNvcHkoZVtzXSksdGhpc31zZXRGcm9tQXR0cmlidXRlQW5kSW5kaWNlcyhlLHQscixzKXtyZXR1cm4gdGhpcy5hLmZyb21CdWZmZXJBdHRyaWJ1dGUoZSx0KSx0aGlzLmIuZnJvbUJ1ZmZlckF0dHJpYnV0ZShlLHIpLHRoaXMuYy5mcm9tQnVmZmVyQXR0cmlidXRlKGUscyksdGhpc31jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyl9Y29weShlKXtyZXR1cm4gdGhpcy5hLmNvcHkoZS5hKSx0aGlzLmIuY29weShlLmIpLHRoaXMuYy5jb3B5KGUuYyksdGhpc31nZXRBcmVhKCl7cmV0dXJuIFF0LnN1YlZlY3RvcnModGhpcy5jLHRoaXMuYiksU2kuc3ViVmVjdG9ycyh0aGlzLmEsdGhpcy5iKSxRdC5jcm9zcyhTaSkubGVuZ3RoKCkqLjV9Z2V0TWlkcG9pbnQoZSl7cmV0dXJuIGUuYWRkVmVjdG9ycyh0aGlzLmEsdGhpcy5iKS5hZGQodGhpcy5jKS5tdWx0aXBseVNjYWxhcigxLzMpfWdldE5vcm1hbChlKXtyZXR1cm4gYXQuZ2V0Tm9ybWFsKHRoaXMuYSx0aGlzLmIsdGhpcy5jLGUpfWdldFBsYW5lKGUpe3JldHVybiBlLnNldEZyb21Db3BsYW5hclBvaW50cyh0aGlzLmEsdGhpcy5iLHRoaXMuYyl9Z2V0QmFyeWNvb3JkKGUsdCl7cmV0dXJuIGF0LmdldEJhcnljb29yZChlLHRoaXMuYSx0aGlzLmIsdGhpcy5jLHQpfWdldFVWKGUsdCxyLHMsYSl7cmV0dXJuIGF0LmdldFVWKGUsdGhpcy5hLHRoaXMuYix0aGlzLmMsdCxyLHMsYSl9Y29udGFpbnNQb2ludChlKXtyZXR1cm4gYXQuY29udGFpbnNQb2ludChlLHRoaXMuYSx0aGlzLmIsdGhpcy5jKX1pc0Zyb250RmFjaW5nKGUpe3JldHVybiBhdC5pc0Zyb250RmFjaW5nKHRoaXMuYSx0aGlzLmIsdGhpcy5jLGUpfWludGVyc2VjdHNCb3goZSl7cmV0dXJuIGUuaW50ZXJzZWN0c1RyaWFuZ2xlKHRoaXMpfWNsb3Nlc3RQb2ludFRvUG9pbnQoZSx0KXtjb25zdCByPXRoaXMuYSxzPXRoaXMuYixhPXRoaXMuYztsZXQgbixvO1VyLnN1YlZlY3RvcnMocyxyKSxGci5zdWJWZWN0b3JzKGEsciksWm4uc3ViVmVjdG9ycyhlLHIpO2NvbnN0IGg9VXIuZG90KFpuKSxsPUZyLmRvdChabik7aWYoaDw9MCYmbDw9MClyZXR1cm4gdC5jb3B5KHIpO0tuLnN1YlZlY3RvcnMoZSxzKTtjb25zdCBjPVVyLmRvdChLbiksdT1Gci5kb3QoS24pO2lmKGM+PTAmJnU8PWMpcmV0dXJuIHQuY29weShzKTtjb25zdCBkPWgqdS1jKmw7aWYoZDw9MCYmaD49MCYmYzw9MClyZXR1cm4gbj1oLyhoLWMpLHQuY29weShyKS5hZGRTY2FsZWRWZWN0b3IoVXIsbik7UW4uc3ViVmVjdG9ycyhlLGEpO2NvbnN0IHA9VXIuZG90KFFuKSxnPUZyLmRvdChRbik7aWYoZz49MCYmcDw9ZylyZXR1cm4gdC5jb3B5KGEpO2NvbnN0IGY9cCpsLWgqZztpZihmPD0wJiZsPj0wJiZnPD0wKXJldHVybiBvPWwvKGwtZyksdC5jb3B5KHIpLmFkZFNjYWxlZFZlY3RvcihGcixvKTtjb25zdCBtPWMqZy1wKnU7aWYobTw9MCYmdS1jPj0wJiZwLWc+PTApcmV0dXJuIFJsLnN1YlZlY3RvcnMoYSxzKSxvPSh1LWMpLyh1LWMrKHAtZykpLHQuY29weShzKS5hZGRTY2FsZWRWZWN0b3IoUmwsbyk7Y29uc3Qgdj0xLyhtK2YrZCk7cmV0dXJuIG49Zip2LG89ZCp2LHQuY29weShyKS5hZGRTY2FsZWRWZWN0b3IoVXIsbikuYWRkU2NhbGVkVmVjdG9yKEZyLG8pfWVxdWFscyhlKXtyZXR1cm4gZS5hLmVxdWFscyh0aGlzLmEpJiZlLmIuZXF1YWxzKHRoaXMuYikmJmUuYy5lcXVhbHModGhpcy5jKX19bGV0IG4wPTA7Y2xhc3MgbHQgZXh0ZW5kcyBRaXtjb25zdHJ1Y3Rvcigpe3N1cGVyKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsImlkIix7dmFsdWU6bjArK30pLHRoaXMudXVpZD1zaSgpLHRoaXMubmFtZT0iIix0aGlzLnR5cGU9Ik1hdGVyaWFsIix0aGlzLmZvZz0hMCx0aGlzLmJsZW5kaW5nPXlyLHRoaXMuc2lkZT13cyx0aGlzLnZlcnRleENvbG9ycz0hMSx0aGlzLm9wYWNpdHk9MSx0aGlzLnRyYW5zcGFyZW50PSExLHRoaXMuYmxlbmRTcmM9R2gsdGhpcy5ibGVuZERzdD1WaCx0aGlzLmJsZW5kRXF1YXRpb249TXIsdGhpcy5ibGVuZFNyY0FscGhhPW51bGwsdGhpcy5ibGVuZERzdEFscGhhPW51bGwsdGhpcy5ibGVuZEVxdWF0aW9uQWxwaGE9bnVsbCx0aGlzLmRlcHRoRnVuYz1Nbix0aGlzLmRlcHRoVGVzdD0hMCx0aGlzLmRlcHRoV3JpdGU9ITAsdGhpcy5zdGVuY2lsV3JpdGVNYXNrPTI1NSx0aGlzLnN0ZW5jaWxGdW5jPVhnLHRoaXMuc3RlbmNpbFJlZj0wLHRoaXMuc3RlbmNpbEZ1bmNNYXNrPTI1NSx0aGlzLnN0ZW5jaWxGYWlsPUluLHRoaXMuc3RlbmNpbFpGYWlsPUluLHRoaXMuc3RlbmNpbFpQYXNzPUluLHRoaXMuc3RlbmNpbFdyaXRlPSExLHRoaXMuY2xpcHBpbmdQbGFuZXM9bnVsbCx0aGlzLmNsaXBJbnRlcnNlY3Rpb249ITEsdGhpcy5jbGlwU2hhZG93cz0hMSx0aGlzLnNoYWRvd1NpZGU9bnVsbCx0aGlzLmNvbG9yV3JpdGU9ITAsdGhpcy5wcmVjaXNpb249bnVsbCx0aGlzLnBvbHlnb25PZmZzZXQ9ITEsdGhpcy5wb2x5Z29uT2Zmc2V0RmFjdG9yPTAsdGhpcy5wb2x5Z29uT2Zmc2V0VW5pdHM9MCx0aGlzLmRpdGhlcmluZz0hMSx0aGlzLmFscGhhVG9Db3ZlcmFnZT0hMSx0aGlzLnByZW11bHRpcGxpZWRBbHBoYT0hMSx0aGlzLnZpc2libGU9ITAsdGhpcy50b25lTWFwcGVkPSEwLHRoaXMudXNlckRhdGE9e30sdGhpcy52ZXJzaW9uPTAsdGhpcy5fYWxwaGFUZXN0PTB9Z2V0IGFscGhhVGVzdCgpe3JldHVybiB0aGlzLl9hbHBoYVRlc3R9c2V0IGFscGhhVGVzdChlKXt0aGlzLl9hbHBoYVRlc3Q+MCE9ZT4wJiZ0aGlzLnZlcnNpb24rKyx0aGlzLl9hbHBoYVRlc3Q9ZX1vbkJ1aWxkKCl7fW9uQmVmb3JlUmVuZGVyKCl7fW9uQmVmb3JlQ29tcGlsZSgpe31jdXN0b21Qcm9ncmFtQ2FjaGVLZXkoKXtyZXR1cm4gdGhpcy5vbkJlZm9yZUNvbXBpbGUudG9TdHJpbmcoKX1zZXRWYWx1ZXMoZSl7aWYoZSE9PXZvaWQgMClmb3IoY29uc3QgdCBpbiBlKXtjb25zdCByPWVbdF07aWYocj09PXZvaWQgMCl7Y29uc29sZS53YXJuKCJUSFJFRS5NYXRlcmlhbDogJyIrdCsiJyBwYXJhbWV0ZXIgaXMgdW5kZWZpbmVkLiIpO2NvbnRpbnVlfWlmKHQ9PT0ic2hhZGluZyIpe2NvbnNvbGUud2FybigiVEhSRUUuIit0aGlzLnR5cGUrIjogLnNoYWRpbmcgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIHRoZSBib29sZWFuIC5mbGF0U2hhZGluZyBpbnN0ZWFkLiIpLHRoaXMuZmxhdFNoYWRpbmc9cj09PXpoO2NvbnRpbnVlfWNvbnN0IHM9dGhpc1t0XTtpZihzPT09dm9pZCAwKXtjb25zb2xlLndhcm4oIlRIUkVFLiIrdGhpcy50eXBlKyI6ICciK3QrIicgaXMgbm90IGEgcHJvcGVydHkgb2YgdGhpcyBtYXRlcmlhbC4iKTtjb250aW51ZX1zJiZzLmlzQ29sb3I/cy5zZXQocik6cyYmcy5pc1ZlY3RvcjMmJnImJnIuaXNWZWN0b3IzP3MuY29weShyKTp0aGlzW3RdPXJ9fXRvSlNPTihlKXtjb25zdCB0PWU9PT12b2lkIDB8fHR5cGVvZiBlPT0ic3RyaW5nIjt0JiYoZT17dGV4dHVyZXM6e30saW1hZ2VzOnt9fSk7Y29uc3Qgcj17bWV0YWRhdGE6e3ZlcnNpb246NC41LHR5cGU6Ik1hdGVyaWFsIixnZW5lcmF0b3I6Ik1hdGVyaWFsLnRvSlNPTiJ9fTtyLnV1aWQ9dGhpcy51dWlkLHIudHlwZT10aGlzLnR5cGUsdGhpcy5uYW1lIT09IiImJihyLm5hbWU9dGhpcy5uYW1lKSx0aGlzLmNvbG9yJiZ0aGlzLmNvbG9yLmlzQ29sb3ImJihyLmNvbG9yPXRoaXMuY29sb3IuZ2V0SGV4KCkpLHRoaXMucm91Z2huZXNzIT09dm9pZCAwJiYoci5yb3VnaG5lc3M9dGhpcy5yb3VnaG5lc3MpLHRoaXMubWV0YWxuZXNzIT09dm9pZCAwJiYoci5tZXRhbG5lc3M9dGhpcy5tZXRhbG5lc3MpLHRoaXMuc2hlZW4hPT12b2lkIDAmJihyLnNoZWVuPXRoaXMuc2hlZW4pLHRoaXMuc2hlZW5Db2xvciYmdGhpcy5zaGVlbkNvbG9yLmlzQ29sb3ImJihyLnNoZWVuQ29sb3I9dGhpcy5zaGVlbkNvbG9yLmdldEhleCgpKSx0aGlzLnNoZWVuUm91Z2huZXNzIT09dm9pZCAwJiYoci5zaGVlblJvdWdobmVzcz10aGlzLnNoZWVuUm91Z2huZXNzKSx0aGlzLmVtaXNzaXZlJiZ0aGlzLmVtaXNzaXZlLmlzQ29sb3ImJihyLmVtaXNzaXZlPXRoaXMuZW1pc3NpdmUuZ2V0SGV4KCkpLHRoaXMuZW1pc3NpdmVJbnRlbnNpdHkmJnRoaXMuZW1pc3NpdmVJbnRlbnNpdHkhPT0xJiYoci5lbWlzc2l2ZUludGVuc2l0eT10aGlzLmVtaXNzaXZlSW50ZW5zaXR5KSx0aGlzLnNwZWN1bGFyJiZ0aGlzLnNwZWN1bGFyLmlzQ29sb3ImJihyLnNwZWN1bGFyPXRoaXMuc3BlY3VsYXIuZ2V0SGV4KCkpLHRoaXMuc3BlY3VsYXJJbnRlbnNpdHkhPT12b2lkIDAmJihyLnNwZWN1bGFySW50ZW5zaXR5PXRoaXMuc3BlY3VsYXJJbnRlbnNpdHkpLHRoaXMuc3BlY3VsYXJDb2xvciYmdGhpcy5zcGVjdWxhckNvbG9yLmlzQ29sb3ImJihyLnNwZWN1bGFyQ29sb3I9dGhpcy5zcGVjdWxhckNvbG9yLmdldEhleCgpKSx0aGlzLnNoaW5pbmVzcyE9PXZvaWQgMCYmKHIuc2hpbmluZXNzPXRoaXMuc2hpbmluZXNzKSx0aGlzLmNsZWFyY29hdCE9PXZvaWQgMCYmKHIuY2xlYXJjb2F0PXRoaXMuY2xlYXJjb2F0KSx0aGlzLmNsZWFyY29hdFJvdWdobmVzcyE9PXZvaWQgMCYmKHIuY2xlYXJjb2F0Um91Z2huZXNzPXRoaXMuY2xlYXJjb2F0Um91Z2huZXNzKSx0aGlzLmNsZWFyY29hdE1hcCYmdGhpcy5jbGVhcmNvYXRNYXAuaXNUZXh0dXJlJiYoci5jbGVhcmNvYXRNYXA9dGhpcy5jbGVhcmNvYXRNYXAudG9KU09OKGUpLnV1aWQpLHRoaXMuY2xlYXJjb2F0Um91Z2huZXNzTWFwJiZ0aGlzLmNsZWFyY29hdFJvdWdobmVzc01hcC5pc1RleHR1cmUmJihyLmNsZWFyY29hdFJvdWdobmVzc01hcD10aGlzLmNsZWFyY29hdFJvdWdobmVzc01hcC50b0pTT04oZSkudXVpZCksdGhpcy5jbGVhcmNvYXROb3JtYWxNYXAmJnRoaXMuY2xlYXJjb2F0Tm9ybWFsTWFwLmlzVGV4dHVyZSYmKHIuY2xlYXJjb2F0Tm9ybWFsTWFwPXRoaXMuY2xlYXJjb2F0Tm9ybWFsTWFwLnRvSlNPTihlKS51dWlkLHIuY2xlYXJjb2F0Tm9ybWFsU2NhbGU9dGhpcy5jbGVhcmNvYXROb3JtYWxTY2FsZS50b0FycmF5KCkpLHRoaXMubWFwJiZ0aGlzLm1hcC5pc1RleHR1cmUmJihyLm1hcD10aGlzLm1hcC50b0pTT04oZSkudXVpZCksdGhpcy5tYXRjYXAmJnRoaXMubWF0Y2FwLmlzVGV4dHVyZSYmKHIubWF0Y2FwPXRoaXMubWF0Y2FwLnRvSlNPTihlKS51dWlkKSx0aGlzLmFscGhhTWFwJiZ0aGlzLmFscGhhTWFwLmlzVGV4dHVyZSYmKHIuYWxwaGFNYXA9dGhpcy5hbHBoYU1hcC50b0pTT04oZSkudXVpZCksdGhpcy5saWdodE1hcCYmdGhpcy5saWdodE1hcC5pc1RleHR1cmUmJihyLmxpZ2h0TWFwPXRoaXMubGlnaHRNYXAudG9KU09OKGUpLnV1aWQsci5saWdodE1hcEludGVuc2l0eT10aGlzLmxpZ2h0TWFwSW50ZW5zaXR5KSx0aGlzLmFvTWFwJiZ0aGlzLmFvTWFwLmlzVGV4dHVyZSYmKHIuYW9NYXA9dGhpcy5hb01hcC50b0pTT04oZSkudXVpZCxyLmFvTWFwSW50ZW5zaXR5PXRoaXMuYW9NYXBJbnRlbnNpdHkpLHRoaXMuYnVtcE1hcCYmdGhpcy5idW1wTWFwLmlzVGV4dHVyZSYmKHIuYnVtcE1hcD10aGlzLmJ1bXBNYXAudG9KU09OKGUpLnV1aWQsci5idW1wU2NhbGU9dGhpcy5idW1wU2NhbGUpLHRoaXMubm9ybWFsTWFwJiZ0aGlzLm5vcm1hbE1hcC5pc1RleHR1cmUmJihyLm5vcm1hbE1hcD10aGlzLm5vcm1hbE1hcC50b0pTT04oZSkudXVpZCxyLm5vcm1hbE1hcFR5cGU9dGhpcy5ub3JtYWxNYXBUeXBlLHIubm9ybWFsU2NhbGU9dGhpcy5ub3JtYWxTY2FsZS50b0FycmF5KCkpLHRoaXMuZGlzcGxhY2VtZW50TWFwJiZ0aGlzLmRpc3BsYWNlbWVudE1hcC5pc1RleHR1cmUmJihyLmRpc3BsYWNlbWVudE1hcD10aGlzLmRpc3BsYWNlbWVudE1hcC50b0pTT04oZSkudXVpZCxyLmRpc3BsYWNlbWVudFNjYWxlPXRoaXMuZGlzcGxhY2VtZW50U2NhbGUsci5kaXNwbGFjZW1lbnRCaWFzPXRoaXMuZGlzcGxhY2VtZW50QmlhcyksdGhpcy5yb3VnaG5lc3NNYXAmJnRoaXMucm91Z2huZXNzTWFwLmlzVGV4dHVyZSYmKHIucm91Z2huZXNzTWFwPXRoaXMucm91Z2huZXNzTWFwLnRvSlNPTihlKS51dWlkKSx0aGlzLm1ldGFsbmVzc01hcCYmdGhpcy5tZXRhbG5lc3NNYXAuaXNUZXh0dXJlJiYoci5tZXRhbG5lc3NNYXA9dGhpcy5tZXRhbG5lc3NNYXAudG9KU09OKGUpLnV1aWQpLHRoaXMuZW1pc3NpdmVNYXAmJnRoaXMuZW1pc3NpdmVNYXAuaXNUZXh0dXJlJiYoci5lbWlzc2l2ZU1hcD10aGlzLmVtaXNzaXZlTWFwLnRvSlNPTihlKS51dWlkKSx0aGlzLnNwZWN1bGFyTWFwJiZ0aGlzLnNwZWN1bGFyTWFwLmlzVGV4dHVyZSYmKHIuc3BlY3VsYXJNYXA9dGhpcy5zcGVjdWxhck1hcC50b0pTT04oZSkudXVpZCksdGhpcy5zcGVjdWxhckludGVuc2l0eU1hcCYmdGhpcy5zcGVjdWxhckludGVuc2l0eU1hcC5pc1RleHR1cmUmJihyLnNwZWN1bGFySW50ZW5zaXR5TWFwPXRoaXMuc3BlY3VsYXJJbnRlbnNpdHlNYXAudG9KU09OKGUpLnV1aWQpLHRoaXMuc3BlY3VsYXJDb2xvck1hcCYmdGhpcy5zcGVjdWxhckNvbG9yTWFwLmlzVGV4dHVyZSYmKHIuc3BlY3VsYXJDb2xvck1hcD10aGlzLnNwZWN1bGFyQ29sb3JNYXAudG9KU09OKGUpLnV1aWQpLHRoaXMuZW52TWFwJiZ0aGlzLmVudk1hcC5pc1RleHR1cmUmJihyLmVudk1hcD10aGlzLmVudk1hcC50b0pTT04oZSkudXVpZCx0aGlzLmNvbWJpbmUhPT12b2lkIDAmJihyLmNvbWJpbmU9dGhpcy5jb21iaW5lKSksdGhpcy5lbnZNYXBJbnRlbnNpdHkhPT12b2lkIDAmJihyLmVudk1hcEludGVuc2l0eT10aGlzLmVudk1hcEludGVuc2l0eSksdGhpcy5yZWZsZWN0aXZpdHkhPT12b2lkIDAmJihyLnJlZmxlY3Rpdml0eT10aGlzLnJlZmxlY3Rpdml0eSksdGhpcy5yZWZyYWN0aW9uUmF0aW8hPT12b2lkIDAmJihyLnJlZnJhY3Rpb25SYXRpbz10aGlzLnJlZnJhY3Rpb25SYXRpbyksdGhpcy5ncmFkaWVudE1hcCYmdGhpcy5ncmFkaWVudE1hcC5pc1RleHR1cmUmJihyLmdyYWRpZW50TWFwPXRoaXMuZ3JhZGllbnRNYXAudG9KU09OKGUpLnV1aWQpLHRoaXMudHJhbnNtaXNzaW9uIT09dm9pZCAwJiYoci50cmFuc21pc3Npb249dGhpcy50cmFuc21pc3Npb24pLHRoaXMudHJhbnNtaXNzaW9uTWFwJiZ0aGlzLnRyYW5zbWlzc2lvbk1hcC5pc1RleHR1cmUmJihyLnRyYW5zbWlzc2lvbk1hcD10aGlzLnRyYW5zbWlzc2lvbk1hcC50b0pTT04oZSkudXVpZCksdGhpcy50aGlja25lc3MhPT12b2lkIDAmJihyLnRoaWNrbmVzcz10aGlzLnRoaWNrbmVzcyksdGhpcy50aGlja25lc3NNYXAmJnRoaXMudGhpY2tuZXNzTWFwLmlzVGV4dHVyZSYmKHIudGhpY2tuZXNzTWFwPXRoaXMudGhpY2tuZXNzTWFwLnRvSlNPTihlKS51dWlkKSx0aGlzLmF0dGVudWF0aW9uRGlzdGFuY2UhPT12b2lkIDAmJihyLmF0dGVudWF0aW9uRGlzdGFuY2U9dGhpcy5hdHRlbnVhdGlvbkRpc3RhbmNlKSx0aGlzLmF0dGVudWF0aW9uQ29sb3IhPT12b2lkIDAmJihyLmF0dGVudWF0aW9uQ29sb3I9dGhpcy5hdHRlbnVhdGlvbkNvbG9yLmdldEhleCgpKSx0aGlzLnNpemUhPT12b2lkIDAmJihyLnNpemU9dGhpcy5zaXplKSx0aGlzLnNoYWRvd1NpZGUhPT1udWxsJiYoci5zaGFkb3dTaWRlPXRoaXMuc2hhZG93U2lkZSksdGhpcy5zaXplQXR0ZW51YXRpb24hPT12b2lkIDAmJihyLnNpemVBdHRlbnVhdGlvbj10aGlzLnNpemVBdHRlbnVhdGlvbiksdGhpcy5ibGVuZGluZyE9PXlyJiYoci5ibGVuZGluZz10aGlzLmJsZW5kaW5nKSx0aGlzLnNpZGUhPT13cyYmKHIuc2lkZT10aGlzLnNpZGUpLHRoaXMudmVydGV4Q29sb3JzJiYoci52ZXJ0ZXhDb2xvcnM9ITApLHRoaXMub3BhY2l0eTwxJiYoci5vcGFjaXR5PXRoaXMub3BhY2l0eSksdGhpcy50cmFuc3BhcmVudD09PSEwJiYoci50cmFuc3BhcmVudD10aGlzLnRyYW5zcGFyZW50KSxyLmRlcHRoRnVuYz10aGlzLmRlcHRoRnVuYyxyLmRlcHRoVGVzdD10aGlzLmRlcHRoVGVzdCxyLmRlcHRoV3JpdGU9dGhpcy5kZXB0aFdyaXRlLHIuY29sb3JXcml0ZT10aGlzLmNvbG9yV3JpdGUsci5zdGVuY2lsV3JpdGU9dGhpcy5zdGVuY2lsV3JpdGUsci5zdGVuY2lsV3JpdGVNYXNrPXRoaXMuc3RlbmNpbFdyaXRlTWFzayxyLnN0ZW5jaWxGdW5jPXRoaXMuc3RlbmNpbEZ1bmMsci5zdGVuY2lsUmVmPXRoaXMuc3RlbmNpbFJlZixyLnN0ZW5jaWxGdW5jTWFzaz10aGlzLnN0ZW5jaWxGdW5jTWFzayxyLnN0ZW5jaWxGYWlsPXRoaXMuc3RlbmNpbEZhaWwsci5zdGVuY2lsWkZhaWw9dGhpcy5zdGVuY2lsWkZhaWwsci5zdGVuY2lsWlBhc3M9dGhpcy5zdGVuY2lsWlBhc3MsdGhpcy5yb3RhdGlvbiE9PXZvaWQgMCYmdGhpcy5yb3RhdGlvbiE9PTAmJihyLnJvdGF0aW9uPXRoaXMucm90YXRpb24pLHRoaXMucG9seWdvbk9mZnNldD09PSEwJiYoci5wb2x5Z29uT2Zmc2V0PSEwKSx0aGlzLnBvbHlnb25PZmZzZXRGYWN0b3IhPT0wJiYoci5wb2x5Z29uT2Zmc2V0RmFjdG9yPXRoaXMucG9seWdvbk9mZnNldEZhY3RvciksdGhpcy5wb2x5Z29uT2Zmc2V0VW5pdHMhPT0wJiYoci5wb2x5Z29uT2Zmc2V0VW5pdHM9dGhpcy5wb2x5Z29uT2Zmc2V0VW5pdHMpLHRoaXMubGluZXdpZHRoIT09dm9pZCAwJiZ0aGlzLmxpbmV3aWR0aCE9PTEmJihyLmxpbmV3aWR0aD10aGlzLmxpbmV3aWR0aCksdGhpcy5kYXNoU2l6ZSE9PXZvaWQgMCYmKHIuZGFzaFNpemU9dGhpcy5kYXNoU2l6ZSksdGhpcy5nYXBTaXplIT09dm9pZCAwJiYoci5nYXBTaXplPXRoaXMuZ2FwU2l6ZSksdGhpcy5zY2FsZSE9PXZvaWQgMCYmKHIuc2NhbGU9dGhpcy5zY2FsZSksdGhpcy5kaXRoZXJpbmc9PT0hMCYmKHIuZGl0aGVyaW5nPSEwKSx0aGlzLmFscGhhVGVzdD4wJiYoci5hbHBoYVRlc3Q9dGhpcy5hbHBoYVRlc3QpLHRoaXMuYWxwaGFUb0NvdmVyYWdlPT09ITAmJihyLmFscGhhVG9Db3ZlcmFnZT10aGlzLmFscGhhVG9Db3ZlcmFnZSksdGhpcy5wcmVtdWx0aXBsaWVkQWxwaGE9PT0hMCYmKHIucHJlbXVsdGlwbGllZEFscGhhPXRoaXMucHJlbXVsdGlwbGllZEFscGhhKSx0aGlzLndpcmVmcmFtZT09PSEwJiYoci53aXJlZnJhbWU9dGhpcy53aXJlZnJhbWUpLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPjEmJihyLndpcmVmcmFtZUxpbmV3aWR0aD10aGlzLndpcmVmcmFtZUxpbmV3aWR0aCksdGhpcy53aXJlZnJhbWVMaW5lY2FwIT09InJvdW5kIiYmKHIud2lyZWZyYW1lTGluZWNhcD10aGlzLndpcmVmcmFtZUxpbmVjYXApLHRoaXMud2lyZWZyYW1lTGluZWpvaW4hPT0icm91bmQiJiYoci53aXJlZnJhbWVMaW5lam9pbj10aGlzLndpcmVmcmFtZUxpbmVqb2luKSx0aGlzLmZsYXRTaGFkaW5nPT09ITAmJihyLmZsYXRTaGFkaW5nPXRoaXMuZmxhdFNoYWRpbmcpLHRoaXMudmlzaWJsZT09PSExJiYoci52aXNpYmxlPSExKSx0aGlzLnRvbmVNYXBwZWQ9PT0hMSYmKHIudG9uZU1hcHBlZD0hMSksSlNPTi5zdHJpbmdpZnkodGhpcy51c2VyRGF0YSkhPT0ie30iJiYoci51c2VyRGF0YT10aGlzLnVzZXJEYXRhKTtmdW5jdGlvbiBzKGEpe2NvbnN0IG49W107Zm9yKGNvbnN0IG8gaW4gYSl7Y29uc3QgaD1hW29dO2RlbGV0ZSBoLm1ldGFkYXRhLG4ucHVzaChoKX1yZXR1cm4gbn1pZih0KXtjb25zdCBhPXMoZS50ZXh0dXJlcyksbj1zKGUuaW1hZ2VzKTthLmxlbmd0aD4wJiYoci50ZXh0dXJlcz1hKSxuLmxlbmd0aD4wJiYoci5pbWFnZXM9bil9cmV0dXJuIHJ9Y2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoKS5jb3B5KHRoaXMpfWNvcHkoZSl7dGhpcy5uYW1lPWUubmFtZSx0aGlzLmZvZz1lLmZvZyx0aGlzLmJsZW5kaW5nPWUuYmxlbmRpbmcsdGhpcy5zaWRlPWUuc2lkZSx0aGlzLnZlcnRleENvbG9ycz1lLnZlcnRleENvbG9ycyx0aGlzLm9wYWNpdHk9ZS5vcGFjaXR5LHRoaXMudHJhbnNwYXJlbnQ9ZS50cmFuc3BhcmVudCx0aGlzLmJsZW5kU3JjPWUuYmxlbmRTcmMsdGhpcy5ibGVuZERzdD1lLmJsZW5kRHN0LHRoaXMuYmxlbmRFcXVhdGlvbj1lLmJsZW5kRXF1YXRpb24sdGhpcy5ibGVuZFNyY0FscGhhPWUuYmxlbmRTcmNBbHBoYSx0aGlzLmJsZW5kRHN0QWxwaGE9ZS5ibGVuZERzdEFscGhhLHRoaXMuYmxlbmRFcXVhdGlvbkFscGhhPWUuYmxlbmRFcXVhdGlvbkFscGhhLHRoaXMuZGVwdGhGdW5jPWUuZGVwdGhGdW5jLHRoaXMuZGVwdGhUZXN0PWUuZGVwdGhUZXN0LHRoaXMuZGVwdGhXcml0ZT1lLmRlcHRoV3JpdGUsdGhpcy5zdGVuY2lsV3JpdGVNYXNrPWUuc3RlbmNpbFdyaXRlTWFzayx0aGlzLnN0ZW5jaWxGdW5jPWUuc3RlbmNpbEZ1bmMsdGhpcy5zdGVuY2lsUmVmPWUuc3RlbmNpbFJlZix0aGlzLnN0ZW5jaWxGdW5jTWFzaz1lLnN0ZW5jaWxGdW5jTWFzayx0aGlzLnN0ZW5jaWxGYWlsPWUuc3RlbmNpbEZhaWwsdGhpcy5zdGVuY2lsWkZhaWw9ZS5zdGVuY2lsWkZhaWwsdGhpcy5zdGVuY2lsWlBhc3M9ZS5zdGVuY2lsWlBhc3MsdGhpcy5zdGVuY2lsV3JpdGU9ZS5zdGVuY2lsV3JpdGU7Y29uc3QgdD1lLmNsaXBwaW5nUGxhbmVzO2xldCByPW51bGw7aWYodCE9PW51bGwpe2NvbnN0IHM9dC5sZW5ndGg7cj1uZXcgQXJyYXkocyk7Zm9yKGxldCBhPTA7YSE9PXM7KythKXJbYV09dFthXS5jbG9uZSgpfXJldHVybiB0aGlzLmNsaXBwaW5nUGxhbmVzPXIsdGhpcy5jbGlwSW50ZXJzZWN0aW9uPWUuY2xpcEludGVyc2VjdGlvbix0aGlzLmNsaXBTaGFkb3dzPWUuY2xpcFNoYWRvd3MsdGhpcy5zaGFkb3dTaWRlPWUuc2hhZG93U2lkZSx0aGlzLmNvbG9yV3JpdGU9ZS5jb2xvcldyaXRlLHRoaXMucHJlY2lzaW9uPWUucHJlY2lzaW9uLHRoaXMucG9seWdvbk9mZnNldD1lLnBvbHlnb25PZmZzZXQsdGhpcy5wb2x5Z29uT2Zmc2V0RmFjdG9yPWUucG9seWdvbk9mZnNldEZhY3Rvcix0aGlzLnBvbHlnb25PZmZzZXRVbml0cz1lLnBvbHlnb25PZmZzZXRVbml0cyx0aGlzLmRpdGhlcmluZz1lLmRpdGhlcmluZyx0aGlzLmFscGhhVGVzdD1lLmFscGhhVGVzdCx0aGlzLmFscGhhVG9Db3ZlcmFnZT1lLmFscGhhVG9Db3ZlcmFnZSx0aGlzLnByZW11bHRpcGxpZWRBbHBoYT1lLnByZW11bHRpcGxpZWRBbHBoYSx0aGlzLnZpc2libGU9ZS52aXNpYmxlLHRoaXMudG9uZU1hcHBlZD1lLnRvbmVNYXBwZWQsdGhpcy51c2VyRGF0YT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUudXNlckRhdGEpKSx0aGlzfWRpc3Bvc2UoKXt0aGlzLmRpc3BhdGNoRXZlbnQoe3R5cGU6ImRpc3Bvc2UifSl9c2V0IG5lZWRzVXBkYXRlKGUpe2U9PT0hMCYmdGhpcy52ZXJzaW9uKyt9fWx0LnByb3RvdHlwZS5pc01hdGVyaWFsPSEwLGx0LmZyb21UeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9O2NsYXNzIENhIGV4dGVuZHMgbHR7Y29uc3RydWN0b3IoZSl7c3VwZXIoKTt0aGlzLnR5cGU9Ik1lc2hCYXNpY01hdGVyaWFsIix0aGlzLmNvbG9yPW5ldyBnZSgxNjc3NzIxNSksdGhpcy5tYXA9bnVsbCx0aGlzLmxpZ2h0TWFwPW51bGwsdGhpcy5saWdodE1hcEludGVuc2l0eT0xLHRoaXMuYW9NYXA9bnVsbCx0aGlzLmFvTWFwSW50ZW5zaXR5PTEsdGhpcy5zcGVjdWxhck1hcD1udWxsLHRoaXMuYWxwaGFNYXA9bnVsbCx0aGlzLmVudk1hcD1udWxsLHRoaXMuY29tYmluZT1sYSx0aGlzLnJlZmxlY3Rpdml0eT0xLHRoaXMucmVmcmFjdGlvblJhdGlvPS45OCx0aGlzLndpcmVmcmFtZT0hMSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD0xLHRoaXMud2lyZWZyYW1lTGluZWNhcD0icm91bmQiLHRoaXMud2lyZWZyYW1lTGluZWpvaW49InJvdW5kIix0aGlzLnNldFZhbHVlcyhlKX1jb3B5KGUpe3JldHVybiBzdXBlci5jb3B5KGUpLHRoaXMuY29sb3IuY29weShlLmNvbG9yKSx0aGlzLm1hcD1lLm1hcCx0aGlzLmxpZ2h0TWFwPWUubGlnaHRNYXAsdGhpcy5saWdodE1hcEludGVuc2l0eT1lLmxpZ2h0TWFwSW50ZW5zaXR5LHRoaXMuYW9NYXA9ZS5hb01hcCx0aGlzLmFvTWFwSW50ZW5zaXR5PWUuYW9NYXBJbnRlbnNpdHksdGhpcy5zcGVjdWxhck1hcD1lLnNwZWN1bGFyTWFwLHRoaXMuYWxwaGFNYXA9ZS5hbHBoYU1hcCx0aGlzLmVudk1hcD1lLmVudk1hcCx0aGlzLmNvbWJpbmU9ZS5jb21iaW5lLHRoaXMucmVmbGVjdGl2aXR5PWUucmVmbGVjdGl2aXR5LHRoaXMucmVmcmFjdGlvblJhdGlvPWUucmVmcmFjdGlvblJhdGlvLHRoaXMud2lyZWZyYW1lPWUud2lyZWZyYW1lLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPWUud2lyZWZyYW1lTGluZXdpZHRoLHRoaXMud2lyZWZyYW1lTGluZWNhcD1lLndpcmVmcmFtZUxpbmVjYXAsdGhpcy53aXJlZnJhbWVMaW5lam9pbj1lLndpcmVmcmFtZUxpbmVqb2luLHRoaXN9fUNhLnByb3RvdHlwZS5pc01lc2hCYXNpY01hdGVyaWFsPSEwO2NvbnN0IG50PW5ldyBFLExhPW5ldyBlZTtjbGFzcyBjdHtjb25zdHJ1Y3RvcihlLHQscil7aWYoQXJyYXkuaXNBcnJheShlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJUSFJFRS5CdWZmZXJBdHRyaWJ1dGU6IGFycmF5IHNob3VsZCBiZSBhIFR5cGVkIEFycmF5LiIpO3RoaXMubmFtZT0iIix0aGlzLmFycmF5PWUsdGhpcy5pdGVtU2l6ZT10LHRoaXMuY291bnQ9ZSE9PXZvaWQgMD9lLmxlbmd0aC90OjAsdGhpcy5ub3JtYWxpemVkPXI9PT0hMCx0aGlzLnVzYWdlPUVzLHRoaXMudXBkYXRlUmFuZ2U9e29mZnNldDowLGNvdW50Oi0xfSx0aGlzLnZlcnNpb249MH1vblVwbG9hZENhbGxiYWNrKCl7fXNldCBuZWVkc1VwZGF0ZShlKXtlPT09ITAmJnRoaXMudmVyc2lvbisrfXNldFVzYWdlKGUpe3JldHVybiB0aGlzLnVzYWdlPWUsdGhpc31jb3B5KGUpe3JldHVybiB0aGlzLm5hbWU9ZS5uYW1lLHRoaXMuYXJyYXk9bmV3IGUuYXJyYXkuY29uc3RydWN0b3IoZS5hcnJheSksdGhpcy5pdGVtU2l6ZT1lLml0ZW1TaXplLHRoaXMuY291bnQ9ZS5jb3VudCx0aGlzLm5vcm1hbGl6ZWQ9ZS5ub3JtYWxpemVkLHRoaXMudXNhZ2U9ZS51c2FnZSx0aGlzfWNvcHlBdChlLHQscil7ZSo9dGhpcy5pdGVtU2l6ZSxyKj10Lml0ZW1TaXplO2ZvcihsZXQgcz0wLGE9dGhpcy5pdGVtU2l6ZTtzPGE7cysrKXRoaXMuYXJyYXlbZStzXT10LmFycmF5W3Irc107cmV0dXJuIHRoaXN9Y29weUFycmF5KGUpe3JldHVybiB0aGlzLmFycmF5LnNldChlKSx0aGlzfWNvcHlDb2xvcnNBcnJheShlKXtjb25zdCB0PXRoaXMuYXJyYXk7bGV0IHI9MDtmb3IobGV0IHM9MCxhPWUubGVuZ3RoO3M8YTtzKyspe2xldCBuPWVbc107bj09PXZvaWQgMCYmKGNvbnNvbGUud2FybigiVEhSRUUuQnVmZmVyQXR0cmlidXRlLmNvcHlDb2xvcnNBcnJheSgpOiBjb2xvciBpcyB1bmRlZmluZWQiLHMpLG49bmV3IGdlKSx0W3IrK109bi5yLHRbcisrXT1uLmcsdFtyKytdPW4uYn1yZXR1cm4gdGhpc31jb3B5VmVjdG9yMnNBcnJheShlKXtjb25zdCB0PXRoaXMuYXJyYXk7bGV0IHI9MDtmb3IobGV0IHM9MCxhPWUubGVuZ3RoO3M8YTtzKyspe2xldCBuPWVbc107bj09PXZvaWQgMCYmKGNvbnNvbGUud2FybigiVEhSRUUuQnVmZmVyQXR0cmlidXRlLmNvcHlWZWN0b3Iyc0FycmF5KCk6IHZlY3RvciBpcyB1bmRlZmluZWQiLHMpLG49bmV3IGVlKSx0W3IrK109bi54LHRbcisrXT1uLnl9cmV0dXJuIHRoaXN9Y29weVZlY3RvcjNzQXJyYXkoZSl7Y29uc3QgdD10aGlzLmFycmF5O2xldCByPTA7Zm9yKGxldCBzPTAsYT1lLmxlbmd0aDtzPGE7cysrKXtsZXQgbj1lW3NdO249PT12b2lkIDAmJihjb25zb2xlLndhcm4oIlRIUkVFLkJ1ZmZlckF0dHJpYnV0ZS5jb3B5VmVjdG9yM3NBcnJheSgpOiB2ZWN0b3IgaXMgdW5kZWZpbmVkIixzKSxuPW5ldyBFKSx0W3IrK109bi54LHRbcisrXT1uLnksdFtyKytdPW4uen1yZXR1cm4gdGhpc31jb3B5VmVjdG9yNHNBcnJheShlKXtjb25zdCB0PXRoaXMuYXJyYXk7bGV0IHI9MDtmb3IobGV0IHM9MCxhPWUubGVuZ3RoO3M8YTtzKyspe2xldCBuPWVbc107bj09PXZvaWQgMCYmKGNvbnNvbGUud2FybigiVEhSRUUuQnVmZmVyQXR0cmlidXRlLmNvcHlWZWN0b3I0c0FycmF5KCk6IHZlY3RvciBpcyB1bmRlZmluZWQiLHMpLG49bmV3IFhlKSx0W3IrK109bi54LHRbcisrXT1uLnksdFtyKytdPW4ueix0W3IrK109bi53fXJldHVybiB0aGlzfWFwcGx5TWF0cml4MyhlKXtpZih0aGlzLml0ZW1TaXplPT09Milmb3IobGV0IHQ9MCxyPXRoaXMuY291bnQ7dDxyO3QrKylMYS5mcm9tQnVmZmVyQXR0cmlidXRlKHRoaXMsdCksTGEuYXBwbHlNYXRyaXgzKGUpLHRoaXMuc2V0WFkodCxMYS54LExhLnkpO2Vsc2UgaWYodGhpcy5pdGVtU2l6ZT09PTMpZm9yKGxldCB0PTAscj10aGlzLmNvdW50O3Q8cjt0KyspbnQuZnJvbUJ1ZmZlckF0dHJpYnV0ZSh0aGlzLHQpLG50LmFwcGx5TWF0cml4MyhlKSx0aGlzLnNldFhZWih0LG50LngsbnQueSxudC56KTtyZXR1cm4gdGhpc31hcHBseU1hdHJpeDQoZSl7Zm9yKGxldCB0PTAscj10aGlzLmNvdW50O3Q8cjt0KyspbnQuZnJvbUJ1ZmZlckF0dHJpYnV0ZSh0aGlzLHQpLG50LmFwcGx5TWF0cml4NChlKSx0aGlzLnNldFhZWih0LG50LngsbnQueSxudC56KTtyZXR1cm4gdGhpc31hcHBseU5vcm1hbE1hdHJpeChlKXtmb3IobGV0IHQ9MCxyPXRoaXMuY291bnQ7dDxyO3QrKyludC5mcm9tQnVmZmVyQXR0cmlidXRlKHRoaXMsdCksbnQuYXBwbHlOb3JtYWxNYXRyaXgoZSksdGhpcy5zZXRYWVoodCxudC54LG50LnksbnQueik7cmV0dXJuIHRoaXN9dHJhbnNmb3JtRGlyZWN0aW9uKGUpe2ZvcihsZXQgdD0wLHI9dGhpcy5jb3VudDt0PHI7dCsrKW50LmZyb21CdWZmZXJBdHRyaWJ1dGUodGhpcyx0KSxudC50cmFuc2Zvcm1EaXJlY3Rpb24oZSksdGhpcy5zZXRYWVoodCxudC54LG50LnksbnQueik7cmV0dXJuIHRoaXN9c2V0KGUsdD0wKXtyZXR1cm4gdGhpcy5hcnJheS5zZXQoZSx0KSx0aGlzfWdldFgoZSl7cmV0dXJuIHRoaXMuYXJyYXlbZSp0aGlzLml0ZW1TaXplXX1zZXRYKGUsdCl7cmV0dXJuIHRoaXMuYXJyYXlbZSp0aGlzLml0ZW1TaXplXT10LHRoaXN9Z2V0WShlKXtyZXR1cm4gdGhpcy5hcnJheVtlKnRoaXMuaXRlbVNpemUrMV19c2V0WShlLHQpe3JldHVybiB0aGlzLmFycmF5W2UqdGhpcy5pdGVtU2l6ZSsxXT10LHRoaXN9Z2V0WihlKXtyZXR1cm4gdGhpcy5hcnJheVtlKnRoaXMuaXRlbVNpemUrMl19c2V0WihlLHQpe3JldHVybiB0aGlzLmFycmF5W2UqdGhpcy5pdGVtU2l6ZSsyXT10LHRoaXN9Z2V0VyhlKXtyZXR1cm4gdGhpcy5hcnJheVtlKnRoaXMuaXRlbVNpemUrM119c2V0VyhlLHQpe3JldHVybiB0aGlzLmFycmF5W2UqdGhpcy5pdGVtU2l6ZSszXT10LHRoaXN9c2V0WFkoZSx0LHIpe3JldHVybiBlKj10aGlzLml0ZW1TaXplLHRoaXMuYXJyYXlbZSswXT10LHRoaXMuYXJyYXlbZSsxXT1yLHRoaXN9c2V0WFlaKGUsdCxyLHMpe3JldHVybiBlKj10aGlzLml0ZW1TaXplLHRoaXMuYXJyYXlbZSswXT10LHRoaXMuYXJyYXlbZSsxXT1yLHRoaXMuYXJyYXlbZSsyXT1zLHRoaXN9c2V0WFlaVyhlLHQscixzLGEpe3JldHVybiBlKj10aGlzLml0ZW1TaXplLHRoaXMuYXJyYXlbZSswXT10LHRoaXMuYXJyYXlbZSsxXT1yLHRoaXMuYXJyYXlbZSsyXT1zLHRoaXMuYXJyYXlbZSszXT1hLHRoaXN9b25VcGxvYWQoZSl7cmV0dXJuIHRoaXMub25VcGxvYWRDYWxsYmFjaz1lLHRoaXN9Y2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5hcnJheSx0aGlzLml0ZW1TaXplKS5jb3B5KHRoaXMpfXRvSlNPTigpe2NvbnN0IGU9e2l0ZW1TaXplOnRoaXMuaXRlbVNpemUsdHlwZTp0aGlzLmFycmF5LmNvbnN0cnVjdG9yLm5hbWUsYXJyYXk6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5hcnJheSksbm9ybWFsaXplZDp0aGlzLm5vcm1hbGl6ZWR9O3JldHVybiB0aGlzLm5hbWUhPT0iIiYmKGUubmFtZT10aGlzLm5hbWUpLHRoaXMudXNhZ2UhPT1FcyYmKGUudXNhZ2U9dGhpcy51c2FnZSksKHRoaXMudXBkYXRlUmFuZ2Uub2Zmc2V0IT09MHx8dGhpcy51cGRhdGVSYW5nZS5jb3VudCE9PS0xKSYmKGUudXBkYXRlUmFuZ2U9dGhpcy51cGRhdGVSYW5nZSksZX19Y3QucHJvdG90eXBlLmlzQnVmZmVyQXR0cmlidXRlPSEwO2NsYXNzIFBsIGV4dGVuZHMgY3R7Y29uc3RydWN0b3IoZSx0LHIpe3N1cGVyKG5ldyBVaW50MTZBcnJheShlKSx0LHIpfX1jbGFzcyBJbCBleHRlbmRzIGN0e2NvbnN0cnVjdG9yKGUsdCxyKXtzdXBlcihuZXcgVWludDMyQXJyYXkoZSksdCxyKX19Y2xhc3MgbzAgZXh0ZW5kcyBjdHtjb25zdHJ1Y3RvcihlLHQscil7c3VwZXIobmV3IFVpbnQxNkFycmF5KGUpLHQscil9fW8wLnByb3RvdHlwZS5pc0Zsb2F0MTZCdWZmZXJBdHRyaWJ1dGU9ITA7Y2xhc3MgcHQgZXh0ZW5kcyBjdHtjb25zdHJ1Y3RvcihlLHQscil7c3VwZXIobmV3IEZsb2F0MzJBcnJheShlKSx0LHIpfX1sZXQgaDA9MDtjb25zdCBrdD1uZXcgX2UsJG49bmV3IGplLEhyPW5ldyBFLFV0PW5ldyBadCxMcz1uZXcgWnQsZnQ9bmV3IEU7Y2xhc3MgJGUgZXh0ZW5kcyBRaXtjb25zdHJ1Y3Rvcigpe3N1cGVyKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsImlkIix7dmFsdWU6aDArK30pLHRoaXMudXVpZD1zaSgpLHRoaXMubmFtZT0iIix0aGlzLnR5cGU9IkJ1ZmZlckdlb21ldHJ5Iix0aGlzLmluZGV4PW51bGwsdGhpcy5hdHRyaWJ1dGVzPXt9LHRoaXMubW9ycGhBdHRyaWJ1dGVzPXt9LHRoaXMubW9ycGhUYXJnZXRzUmVsYXRpdmU9ITEsdGhpcy5ncm91cHM9W10sdGhpcy5ib3VuZGluZ0JveD1udWxsLHRoaXMuYm91bmRpbmdTcGhlcmU9bnVsbCx0aGlzLmRyYXdSYW5nZT17c3RhcnQ6MCxjb3VudDoxLzB9LHRoaXMudXNlckRhdGE9e319Z2V0SW5kZXgoKXtyZXR1cm4gdGhpcy5pbmRleH1zZXRJbmRleChlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT90aGlzLmluZGV4PW5ldyh2bChlKT9JbDpQbCkoZSwxKTp0aGlzLmluZGV4PWUsdGhpc31nZXRBdHRyaWJ1dGUoZSl7cmV0dXJuIHRoaXMuYXR0cmlidXRlc1tlXX1zZXRBdHRyaWJ1dGUoZSx0KXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzW2VdPXQsdGhpc31kZWxldGVBdHRyaWJ1dGUoZSl7cmV0dXJuIGRlbGV0ZSB0aGlzLmF0dHJpYnV0ZXNbZV0sdGhpc31oYXNBdHRyaWJ1dGUoZSl7cmV0dXJuIHRoaXMuYXR0cmlidXRlc1tlXSE9PXZvaWQgMH1hZGRHcm91cChlLHQscj0wKXt0aGlzLmdyb3Vwcy5wdXNoKHtzdGFydDplLGNvdW50OnQsbWF0ZXJpYWxJbmRleDpyfSl9Y2xlYXJHcm91cHMoKXt0aGlzLmdyb3Vwcz1bXX1zZXREcmF3UmFuZ2UoZSx0KXt0aGlzLmRyYXdSYW5nZS5zdGFydD1lLHRoaXMuZHJhd1JhbmdlLmNvdW50PXR9YXBwbHlNYXRyaXg0KGUpe2NvbnN0IHQ9dGhpcy5hdHRyaWJ1dGVzLnBvc2l0aW9uO3QhPT12b2lkIDAmJih0LmFwcGx5TWF0cml4NChlKSx0Lm5lZWRzVXBkYXRlPSEwKTtjb25zdCByPXRoaXMuYXR0cmlidXRlcy5ub3JtYWw7aWYociE9PXZvaWQgMCl7Y29uc3QgYT1uZXcgeHQoKS5nZXROb3JtYWxNYXRyaXgoZSk7ci5hcHBseU5vcm1hbE1hdHJpeChhKSxyLm5lZWRzVXBkYXRlPSEwfWNvbnN0IHM9dGhpcy5hdHRyaWJ1dGVzLnRhbmdlbnQ7cmV0dXJuIHMhPT12b2lkIDAmJihzLnRyYW5zZm9ybURpcmVjdGlvbihlKSxzLm5lZWRzVXBkYXRlPSEwKSx0aGlzLmJvdW5kaW5nQm94IT09bnVsbCYmdGhpcy5jb21wdXRlQm91bmRpbmdCb3goKSx0aGlzLmJvdW5kaW5nU3BoZXJlIT09bnVsbCYmdGhpcy5jb21wdXRlQm91bmRpbmdTcGhlcmUoKSx0aGlzfWFwcGx5UXVhdGVybmlvbihlKXtyZXR1cm4ga3QubWFrZVJvdGF0aW9uRnJvbVF1YXRlcm5pb24oZSksdGhpcy5hcHBseU1hdHJpeDQoa3QpLHRoaXN9cm90YXRlWChlKXtyZXR1cm4ga3QubWFrZVJvdGF0aW9uWChlKSx0aGlzLmFwcGx5TWF0cml4NChrdCksdGhpc31yb3RhdGVZKGUpe3JldHVybiBrdC5tYWtlUm90YXRpb25ZKGUpLHRoaXMuYXBwbHlNYXRyaXg0KGt0KSx0aGlzfXJvdGF0ZVooZSl7cmV0dXJuIGt0Lm1ha2VSb3RhdGlvblooZSksdGhpcy5hcHBseU1hdHJpeDQoa3QpLHRoaXN9dHJhbnNsYXRlKGUsdCxyKXtyZXR1cm4ga3QubWFrZVRyYW5zbGF0aW9uKGUsdCxyKSx0aGlzLmFwcGx5TWF0cml4NChrdCksdGhpc31zY2FsZShlLHQscil7cmV0dXJuIGt0Lm1ha2VTY2FsZShlLHQsciksdGhpcy5hcHBseU1hdHJpeDQoa3QpLHRoaXN9bG9va0F0KGUpe3JldHVybiAkbi5sb29rQXQoZSksJG4udXBkYXRlTWF0cml4KCksdGhpcy5hcHBseU1hdHJpeDQoJG4ubWF0cml4KSx0aGlzfWNlbnRlcigpe3JldHVybiB0aGlzLmNvbXB1dGVCb3VuZGluZ0JveCgpLHRoaXMuYm91bmRpbmdCb3guZ2V0Q2VudGVyKEhyKS5uZWdhdGUoKSx0aGlzLnRyYW5zbGF0ZShIci54LEhyLnksSHIueiksdGhpc31zZXRGcm9tUG9pbnRzKGUpe2NvbnN0IHQ9W107Zm9yKGxldCByPTAscz1lLmxlbmd0aDtyPHM7cisrKXtjb25zdCBhPWVbcl07dC5wdXNoKGEueCxhLnksYS56fHwwKX1yZXR1cm4gdGhpcy5zZXRBdHRyaWJ1dGUoInBvc2l0aW9uIixuZXcgcHQodCwzKSksdGhpc31jb21wdXRlQm91bmRpbmdCb3goKXt0aGlzLmJvdW5kaW5nQm94PT09bnVsbCYmKHRoaXMuYm91bmRpbmdCb3g9bmV3IFp0KTtjb25zdCBlPXRoaXMuYXR0cmlidXRlcy5wb3NpdGlvbix0PXRoaXMubW9ycGhBdHRyaWJ1dGVzLnBvc2l0aW9uO2lmKGUmJmUuaXNHTEJ1ZmZlckF0dHJpYnV0ZSl7Y29uc29sZS5lcnJvcignVEhSRUUuQnVmZmVyR2VvbWV0cnkuY29tcHV0ZUJvdW5kaW5nQm94KCk6IEdMQnVmZmVyQXR0cmlidXRlIHJlcXVpcmVzIGEgbWFudWFsIGJvdW5kaW5nIGJveC4gQWx0ZXJuYXRpdmVseSBzZXQgIm1lc2guZnJ1c3R1bUN1bGxlZCIgdG8gImZhbHNlIi4nLHRoaXMpLHRoaXMuYm91bmRpbmdCb3guc2V0KG5ldyBFKC0xLzAsLTEvMCwtMS8wKSxuZXcgRSgxLzAsMS8wLDEvMCkpO3JldHVybn1pZihlIT09dm9pZCAwKXtpZih0aGlzLmJvdW5kaW5nQm94LnNldEZyb21CdWZmZXJBdHRyaWJ1dGUoZSksdClmb3IobGV0IHI9MCxzPXQubGVuZ3RoO3I8cztyKyspe2NvbnN0IGE9dFtyXTtVdC5zZXRGcm9tQnVmZmVyQXR0cmlidXRlKGEpLHRoaXMubW9ycGhUYXJnZXRzUmVsYXRpdmU/KGZ0LmFkZFZlY3RvcnModGhpcy5ib3VuZGluZ0JveC5taW4sVXQubWluKSx0aGlzLmJvdW5kaW5nQm94LmV4cGFuZEJ5UG9pbnQoZnQpLGZ0LmFkZFZlY3RvcnModGhpcy5ib3VuZGluZ0JveC5tYXgsVXQubWF4KSx0aGlzLmJvdW5kaW5nQm94LmV4cGFuZEJ5UG9pbnQoZnQpKToodGhpcy5ib3VuZGluZ0JveC5leHBhbmRCeVBvaW50KFV0Lm1pbiksdGhpcy5ib3VuZGluZ0JveC5leHBhbmRCeVBvaW50KFV0Lm1heCkpfX1lbHNlIHRoaXMuYm91bmRpbmdCb3gubWFrZUVtcHR5KCk7KGlzTmFOKHRoaXMuYm91bmRpbmdCb3gubWluLngpfHxpc05hTih0aGlzLmJvdW5kaW5nQm94Lm1pbi55KXx8aXNOYU4odGhpcy5ib3VuZGluZ0JveC5taW4ueikpJiZjb25zb2xlLmVycm9yKCdUSFJFRS5CdWZmZXJHZW9tZXRyeS5jb21wdXRlQm91bmRpbmdCb3goKTogQ29tcHV0ZWQgbWluL21heCBoYXZlIE5hTiB2YWx1ZXMuIFRoZSAicG9zaXRpb24iIGF0dHJpYnV0ZSBpcyBsaWtlbHkgdG8gaGF2ZSBOYU4gdmFsdWVzLicsdGhpcyl9Y29tcHV0ZUJvdW5kaW5nU3BoZXJlKCl7dGhpcy5ib3VuZGluZ1NwaGVyZT09PW51bGwmJih0aGlzLmJvdW5kaW5nU3BoZXJlPW5ldyBEcik7Y29uc3QgZT10aGlzLmF0dHJpYnV0ZXMucG9zaXRpb24sdD10aGlzLm1vcnBoQXR0cmlidXRlcy5wb3NpdGlvbjtpZihlJiZlLmlzR0xCdWZmZXJBdHRyaWJ1dGUpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5LmNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpOiBHTEJ1ZmZlckF0dHJpYnV0ZSByZXF1aXJlcyBhIG1hbnVhbCBib3VuZGluZyBzcGhlcmUuIEFsdGVybmF0aXZlbHkgc2V0ICJtZXNoLmZydXN0dW1DdWxsZWQiIHRvICJmYWxzZSIuJyx0aGlzKSx0aGlzLmJvdW5kaW5nU3BoZXJlLnNldChuZXcgRSwxLzApO3JldHVybn1pZihlKXtjb25zdCByPXRoaXMuYm91bmRpbmdTcGhlcmUuY2VudGVyO2lmKFV0LnNldEZyb21CdWZmZXJBdHRyaWJ1dGUoZSksdClmb3IobGV0IGE9MCxuPXQubGVuZ3RoO2E8bjthKyspe2NvbnN0IG89dFthXTtMcy5zZXRGcm9tQnVmZmVyQXR0cmlidXRlKG8pLHRoaXMubW9ycGhUYXJnZXRzUmVsYXRpdmU/KGZ0LmFkZFZlY3RvcnMoVXQubWluLExzLm1pbiksVXQuZXhwYW5kQnlQb2ludChmdCksZnQuYWRkVmVjdG9ycyhVdC5tYXgsTHMubWF4KSxVdC5leHBhbmRCeVBvaW50KGZ0KSk6KFV0LmV4cGFuZEJ5UG9pbnQoTHMubWluKSxVdC5leHBhbmRCeVBvaW50KExzLm1heCkpfVV0LmdldENlbnRlcihyKTtsZXQgcz0wO2ZvcihsZXQgYT0wLG49ZS5jb3VudDthPG47YSsrKWZ0LmZyb21CdWZmZXJBdHRyaWJ1dGUoZSxhKSxzPU1hdGgubWF4KHMsci5kaXN0YW5jZVRvU3F1YXJlZChmdCkpO2lmKHQpZm9yKGxldCBhPTAsbj10Lmxlbmd0aDthPG47YSsrKXtjb25zdCBvPXRbYV0saD10aGlzLm1vcnBoVGFyZ2V0c1JlbGF0aXZlO2ZvcihsZXQgbD0wLGM9by5jb3VudDtsPGM7bCsrKWZ0LmZyb21CdWZmZXJBdHRyaWJ1dGUobyxsKSxoJiYoSHIuZnJvbUJ1ZmZlckF0dHJpYnV0ZShlLGwpLGZ0LmFkZChIcikpLHM9TWF0aC5tYXgocyxyLmRpc3RhbmNlVG9TcXVhcmVkKGZ0KSl9dGhpcy5ib3VuZGluZ1NwaGVyZS5yYWRpdXM9TWF0aC5zcXJ0KHMpLGlzTmFOKHRoaXMuYm91bmRpbmdTcGhlcmUucmFkaXVzKSYmY29uc29sZS5lcnJvcignVEhSRUUuQnVmZmVyR2VvbWV0cnkuY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCk6IENvbXB1dGVkIHJhZGl1cyBpcyBOYU4uIFRoZSAicG9zaXRpb24iIGF0dHJpYnV0ZSBpcyBsaWtlbHkgdG8gaGF2ZSBOYU4gdmFsdWVzLicsdGhpcyl9fWNvbXB1dGVUYW5nZW50cygpe2NvbnN0IGU9dGhpcy5pbmRleCx0PXRoaXMuYXR0cmlidXRlcztpZihlPT09bnVsbHx8dC5wb3NpdGlvbj09PXZvaWQgMHx8dC5ub3JtYWw9PT12b2lkIDB8fHQudXY9PT12b2lkIDApe2NvbnNvbGUuZXJyb3IoIlRIUkVFLkJ1ZmZlckdlb21ldHJ5OiAuY29tcHV0ZVRhbmdlbnRzKCkgZmFpbGVkLiBNaXNzaW5nIHJlcXVpcmVkIGF0dHJpYnV0ZXMgKGluZGV4LCBwb3NpdGlvbiwgbm9ybWFsIG9yIHV2KSIpO3JldHVybn1jb25zdCByPWUuYXJyYXkscz10LnBvc2l0aW9uLmFycmF5LGE9dC5ub3JtYWwuYXJyYXksbj10LnV2LmFycmF5LG89cy5sZW5ndGgvMzt0aGlzLmhhc0F0dHJpYnV0ZSgidGFuZ2VudCIpPT09ITEmJnRoaXMuc2V0QXR0cmlidXRlKCJ0YW5nZW50IixuZXcgY3QobmV3IEZsb2F0MzJBcnJheSg0Km8pLDQpKTtjb25zdCBoPXRoaXMuZ2V0QXR0cmlidXRlKCJ0YW5nZW50IikuYXJyYXksbD1bXSxjPVtdO2ZvcihsZXQgTz0wO088bztPKyspbFtPXT1uZXcgRSxjW09dPW5ldyBFO2NvbnN0IHU9bmV3IEUsZD1uZXcgRSxwPW5ldyBFLGc9bmV3IGVlLGY9bmV3IGVlLG09bmV3IGVlLHY9bmV3IEUseT1uZXcgRTtmdW5jdGlvbiBUKE8seCxDKXt1LmZyb21BcnJheShzLE8qMyksZC5mcm9tQXJyYXkocyx4KjMpLHAuZnJvbUFycmF5KHMsQyozKSxnLmZyb21BcnJheShuLE8qMiksZi5mcm9tQXJyYXkobix4KjIpLG0uZnJvbUFycmF5KG4sQyoyKSxkLnN1Yih1KSxwLnN1Yih1KSxmLnN1YihnKSxtLnN1YihnKTtjb25zdCBZPTEvKGYueCptLnktbS54KmYueSk7IWlzRmluaXRlKFkpfHwodi5jb3B5KGQpLm11bHRpcGx5U2NhbGFyKG0ueSkuYWRkU2NhbGVkVmVjdG9yKHAsLWYueSkubXVsdGlwbHlTY2FsYXIoWSkseS5jb3B5KHApLm11bHRpcGx5U2NhbGFyKGYueCkuYWRkU2NhbGVkVmVjdG9yKGQsLW0ueCkubXVsdGlwbHlTY2FsYXIoWSksbFtPXS5hZGQodiksbFt4XS5hZGQodiksbFtDXS5hZGQodiksY1tPXS5hZGQoeSksY1t4XS5hZGQoeSksY1tDXS5hZGQoeSkpfWxldCB3PXRoaXMuZ3JvdXBzO3cubGVuZ3RoPT09MCYmKHc9W3tzdGFydDowLGNvdW50OnIubGVuZ3RofV0pO2ZvcihsZXQgTz0wLHg9dy5sZW5ndGg7Tzx4OysrTyl7Y29uc3QgQz13W09dLFk9Qy5zdGFydCxOPUMuY291bnQ7Zm9yKGxldCBVPVksQj1ZK047VTxCO1UrPTMpVChyW1UrMF0scltVKzFdLHJbVSsyXSl9Y29uc3QgYj1uZXcgRSxMPW5ldyBFLFA9bmV3IEUsaz1uZXcgRTtmdW5jdGlvbiBpZShPKXtQLmZyb21BcnJheShhLE8qMyksay5jb3B5KFApO2NvbnN0IHg9bFtPXTtiLmNvcHkoeCksYi5zdWIoUC5tdWx0aXBseVNjYWxhcihQLmRvdCh4KSkpLm5vcm1hbGl6ZSgpLEwuY3Jvc3NWZWN0b3JzKGsseCk7Y29uc3QgQz1MLmRvdChjW09dKTwwPy0xOjE7aFtPKjRdPWIueCxoW08qNCsxXT1iLnksaFtPKjQrMl09Yi56LGhbTyo0KzNdPUN9Zm9yKGxldCBPPTAseD13Lmxlbmd0aDtPPHg7KytPKXtjb25zdCBDPXdbT10sWT1DLnN0YXJ0LE49Qy5jb3VudDtmb3IobGV0IFU9WSxCPVkrTjtVPEI7VSs9MylpZShyW1UrMF0pLGllKHJbVSsxXSksaWUocltVKzJdKX19Y29tcHV0ZVZlcnRleE5vcm1hbHMoKXtjb25zdCBlPXRoaXMuaW5kZXgsdD10aGlzLmdldEF0dHJpYnV0ZSgicG9zaXRpb24iKTtpZih0IT09dm9pZCAwKXtsZXQgcj10aGlzLmdldEF0dHJpYnV0ZSgibm9ybWFsIik7aWYocj09PXZvaWQgMClyPW5ldyBjdChuZXcgRmxvYXQzMkFycmF5KHQuY291bnQqMyksMyksdGhpcy5zZXRBdHRyaWJ1dGUoIm5vcm1hbCIscik7ZWxzZSBmb3IobGV0IGQ9MCxwPXIuY291bnQ7ZDxwO2QrKylyLnNldFhZWihkLDAsMCwwKTtjb25zdCBzPW5ldyBFLGE9bmV3IEUsbj1uZXcgRSxvPW5ldyBFLGg9bmV3IEUsbD1uZXcgRSxjPW5ldyBFLHU9bmV3IEU7aWYoZSlmb3IobGV0IGQ9MCxwPWUuY291bnQ7ZDxwO2QrPTMpe2NvbnN0IGc9ZS5nZXRYKGQrMCksZj1lLmdldFgoZCsxKSxtPWUuZ2V0WChkKzIpO3MuZnJvbUJ1ZmZlckF0dHJpYnV0ZSh0LGcpLGEuZnJvbUJ1ZmZlckF0dHJpYnV0ZSh0LGYpLG4uZnJvbUJ1ZmZlckF0dHJpYnV0ZSh0LG0pLGMuc3ViVmVjdG9ycyhuLGEpLHUuc3ViVmVjdG9ycyhzLGEpLGMuY3Jvc3ModSksby5mcm9tQnVmZmVyQXR0cmlidXRlKHIsZyksaC5mcm9tQnVmZmVyQXR0cmlidXRlKHIsZiksbC5mcm9tQnVmZmVyQXR0cmlidXRlKHIsbSksby5hZGQoYyksaC5hZGQoYyksbC5hZGQoYyksci5zZXRYWVooZyxvLngsby55LG8ueiksci5zZXRYWVooZixoLngsaC55LGgueiksci5zZXRYWVoobSxsLngsbC55LGwueil9ZWxzZSBmb3IobGV0IGQ9MCxwPXQuY291bnQ7ZDxwO2QrPTMpcy5mcm9tQnVmZmVyQXR0cmlidXRlKHQsZCswKSxhLmZyb21CdWZmZXJBdHRyaWJ1dGUodCxkKzEpLG4uZnJvbUJ1ZmZlckF0dHJpYnV0ZSh0LGQrMiksYy5zdWJWZWN0b3JzKG4sYSksdS5zdWJWZWN0b3JzKHMsYSksYy5jcm9zcyh1KSxyLnNldFhZWihkKzAsYy54LGMueSxjLnopLHIuc2V0WFlaKGQrMSxjLngsYy55LGMueiksci5zZXRYWVooZCsyLGMueCxjLnksYy56KTt0aGlzLm5vcm1hbGl6ZU5vcm1hbHMoKSxyLm5lZWRzVXBkYXRlPSEwfX1tZXJnZShlLHQpe2lmKCEoZSYmZS5pc0J1ZmZlckdlb21ldHJ5KSl7Y29uc29sZS5lcnJvcigiVEhSRUUuQnVmZmVyR2VvbWV0cnkubWVyZ2UoKTogZ2VvbWV0cnkgbm90IGFuIGluc3RhbmNlIG9mIFRIUkVFLkJ1ZmZlckdlb21ldHJ5LiIsZSk7cmV0dXJufXQ9PT12b2lkIDAmJih0PTAsY29uc29sZS53YXJuKCJUSFJFRS5CdWZmZXJHZW9tZXRyeS5tZXJnZSgpOiBPdmVyd3JpdGluZyBvcmlnaW5hbCBnZW9tZXRyeSwgc3RhcnRpbmcgYXQgb2Zmc2V0PTAuIFVzZSBCdWZmZXJHZW9tZXRyeVV0aWxzLm1lcmdlQnVmZmVyR2VvbWV0cmllcygpIGZvciBsb3NzbGVzcyBtZXJnZS4iKSk7Y29uc3Qgcj10aGlzLmF0dHJpYnV0ZXM7Zm9yKGNvbnN0IHMgaW4gcil7aWYoZS5hdHRyaWJ1dGVzW3NdPT09dm9pZCAwKWNvbnRpbnVlO2NvbnN0IGE9cltzXS5hcnJheSxuPWUuYXR0cmlidXRlc1tzXSxvPW4uYXJyYXksaD1uLml0ZW1TaXplKnQsbD1NYXRoLm1pbihvLmxlbmd0aCxhLmxlbmd0aC1oKTtmb3IobGV0IGM9MCx1PWg7YzxsO2MrKyx1KyspYVt1XT1vW2NdfXJldHVybiB0aGlzfW5vcm1hbGl6ZU5vcm1hbHMoKXtjb25zdCBlPXRoaXMuYXR0cmlidXRlcy5ub3JtYWw7Zm9yKGxldCB0PTAscj1lLmNvdW50O3Q8cjt0KyspZnQuZnJvbUJ1ZmZlckF0dHJpYnV0ZShlLHQpLGZ0Lm5vcm1hbGl6ZSgpLGUuc2V0WFlaKHQsZnQueCxmdC55LGZ0LnopfXRvTm9uSW5kZXhlZCgpe2Z1bmN0aW9uIGUobyxoKXtjb25zdCBsPW8uYXJyYXksYz1vLml0ZW1TaXplLHU9by5ub3JtYWxpemVkLGQ9bmV3IGwuY29uc3RydWN0b3IoaC5sZW5ndGgqYyk7bGV0IHA9MCxnPTA7Zm9yKGxldCBmPTAsbT1oLmxlbmd0aDtmPG07ZisrKXtvLmlzSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGU/cD1oW2ZdKm8uZGF0YS5zdHJpZGUrby5vZmZzZXQ6cD1oW2ZdKmM7Zm9yKGxldCB2PTA7djxjO3YrKylkW2crK109bFtwKytdfXJldHVybiBuZXcgY3QoZCxjLHUpfWlmKHRoaXMuaW5kZXg9PT1udWxsKXJldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkJ1ZmZlckdlb21ldHJ5LnRvTm9uSW5kZXhlZCgpOiBCdWZmZXJHZW9tZXRyeSBpcyBhbHJlYWR5IG5vbi1pbmRleGVkLiIpLHRoaXM7Y29uc3QgdD1uZXcgJGUscj10aGlzLmluZGV4LmFycmF5LHM9dGhpcy5hdHRyaWJ1dGVzO2Zvcihjb25zdCBvIGluIHMpe2NvbnN0IGg9c1tvXSxsPWUoaCxyKTt0LnNldEF0dHJpYnV0ZShvLGwpfWNvbnN0IGE9dGhpcy5tb3JwaEF0dHJpYnV0ZXM7Zm9yKGNvbnN0IG8gaW4gYSl7Y29uc3QgaD1bXSxsPWFbb107Zm9yKGxldCBjPTAsdT1sLmxlbmd0aDtjPHU7YysrKXtjb25zdCBkPWxbY10scD1lKGQscik7aC5wdXNoKHApfXQubW9ycGhBdHRyaWJ1dGVzW29dPWh9dC5tb3JwaFRhcmdldHNSZWxhdGl2ZT10aGlzLm1vcnBoVGFyZ2V0c1JlbGF0aXZlO2NvbnN0IG49dGhpcy5ncm91cHM7Zm9yKGxldCBvPTAsaD1uLmxlbmd0aDtvPGg7bysrKXtjb25zdCBsPW5bb107dC5hZGRHcm91cChsLnN0YXJ0LGwuY291bnQsbC5tYXRlcmlhbEluZGV4KX1yZXR1cm4gdH10b0pTT04oKXtjb25zdCBlPXttZXRhZGF0YTp7dmVyc2lvbjo0LjUsdHlwZToiQnVmZmVyR2VvbWV0cnkiLGdlbmVyYXRvcjoiQnVmZmVyR2VvbWV0cnkudG9KU09OIn19O2lmKGUudXVpZD10aGlzLnV1aWQsZS50eXBlPXRoaXMudHlwZSx0aGlzLm5hbWUhPT0iIiYmKGUubmFtZT10aGlzLm5hbWUpLE9iamVjdC5rZXlzKHRoaXMudXNlckRhdGEpLmxlbmd0aD4wJiYoZS51c2VyRGF0YT10aGlzLnVzZXJEYXRhKSx0aGlzLnBhcmFtZXRlcnMhPT12b2lkIDApe2NvbnN0IGg9dGhpcy5wYXJhbWV0ZXJzO2Zvcihjb25zdCBsIGluIGgpaFtsXSE9PXZvaWQgMCYmKGVbbF09aFtsXSk7cmV0dXJuIGV9ZS5kYXRhPXthdHRyaWJ1dGVzOnt9fTtjb25zdCB0PXRoaXMuaW5kZXg7dCE9PW51bGwmJihlLmRhdGEuaW5kZXg9e3R5cGU6dC5hcnJheS5jb25zdHJ1Y3Rvci5uYW1lLGFycmF5OkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQuYXJyYXkpfSk7Y29uc3Qgcj10aGlzLmF0dHJpYnV0ZXM7Zm9yKGNvbnN0IGggaW4gcil7Y29uc3QgbD1yW2hdO2UuZGF0YS5hdHRyaWJ1dGVzW2hdPWwudG9KU09OKGUuZGF0YSl9Y29uc3Qgcz17fTtsZXQgYT0hMTtmb3IoY29uc3QgaCBpbiB0aGlzLm1vcnBoQXR0cmlidXRlcyl7Y29uc3QgbD10aGlzLm1vcnBoQXR0cmlidXRlc1toXSxjPVtdO2ZvcihsZXQgdT0wLGQ9bC5sZW5ndGg7dTxkO3UrKyl7Y29uc3QgcD1sW3VdO2MucHVzaChwLnRvSlNPTihlLmRhdGEpKX1jLmxlbmd0aD4wJiYoc1toXT1jLGE9ITApfWEmJihlLmRhdGEubW9ycGhBdHRyaWJ1dGVzPXMsZS5kYXRhLm1vcnBoVGFyZ2V0c1JlbGF0aXZlPXRoaXMubW9ycGhUYXJnZXRzUmVsYXRpdmUpO2NvbnN0IG49dGhpcy5ncm91cHM7bi5sZW5ndGg+MCYmKGUuZGF0YS5ncm91cHM9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShuKSkpO2NvbnN0IG89dGhpcy5ib3VuZGluZ1NwaGVyZTtyZXR1cm4gbyE9PW51bGwmJihlLmRhdGEuYm91bmRpbmdTcGhlcmU9e2NlbnRlcjpvLmNlbnRlci50b0FycmF5KCkscmFkaXVzOm8ucmFkaXVzfSksZX1jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyl9Y29weShlKXt0aGlzLmluZGV4PW51bGwsdGhpcy5hdHRyaWJ1dGVzPXt9LHRoaXMubW9ycGhBdHRyaWJ1dGVzPXt9LHRoaXMuZ3JvdXBzPVtdLHRoaXMuYm91bmRpbmdCb3g9bnVsbCx0aGlzLmJvdW5kaW5nU3BoZXJlPW51bGw7Y29uc3QgdD17fTt0aGlzLm5hbWU9ZS5uYW1lO2NvbnN0IHI9ZS5pbmRleDtyIT09bnVsbCYmdGhpcy5zZXRJbmRleChyLmNsb25lKHQpKTtjb25zdCBzPWUuYXR0cmlidXRlcztmb3IoY29uc3QgbCBpbiBzKXtjb25zdCBjPXNbbF07dGhpcy5zZXRBdHRyaWJ1dGUobCxjLmNsb25lKHQpKX1jb25zdCBhPWUubW9ycGhBdHRyaWJ1dGVzO2Zvcihjb25zdCBsIGluIGEpe2NvbnN0IGM9W10sdT1hW2xdO2ZvcihsZXQgZD0wLHA9dS5sZW5ndGg7ZDxwO2QrKyljLnB1c2godVtkXS5jbG9uZSh0KSk7dGhpcy5tb3JwaEF0dHJpYnV0ZXNbbF09Y310aGlzLm1vcnBoVGFyZ2V0c1JlbGF0aXZlPWUubW9ycGhUYXJnZXRzUmVsYXRpdmU7Y29uc3Qgbj1lLmdyb3Vwcztmb3IobGV0IGw9MCxjPW4ubGVuZ3RoO2w8YztsKyspe2NvbnN0IHU9bltsXTt0aGlzLmFkZEdyb3VwKHUuc3RhcnQsdS5jb3VudCx1Lm1hdGVyaWFsSW5kZXgpfWNvbnN0IG89ZS5ib3VuZGluZ0JveDtvIT09bnVsbCYmKHRoaXMuYm91bmRpbmdCb3g9by5jbG9uZSgpKTtjb25zdCBoPWUuYm91bmRpbmdTcGhlcmU7cmV0dXJuIGghPT1udWxsJiYodGhpcy5ib3VuZGluZ1NwaGVyZT1oLmNsb25lKCkpLHRoaXMuZHJhd1JhbmdlLnN0YXJ0PWUuZHJhd1JhbmdlLnN0YXJ0LHRoaXMuZHJhd1JhbmdlLmNvdW50PWUuZHJhd1JhbmdlLmNvdW50LHRoaXMudXNlckRhdGE9ZS51c2VyRGF0YSxlLnBhcmFtZXRlcnMhPT12b2lkIDAmJih0aGlzLnBhcmFtZXRlcnM9T2JqZWN0LmFzc2lnbih7fSxlLnBhcmFtZXRlcnMpKSx0aGlzfWRpc3Bvc2UoKXt0aGlzLmRpc3BhdGNoRXZlbnQoe3R5cGU6ImRpc3Bvc2UifSl9fSRlLnByb3RvdHlwZS5pc0J1ZmZlckdlb21ldHJ5PSEwO2NvbnN0IE5sPW5ldyBfZSxrcj1uZXcgT3IsZW89bmV3IERyLEJpPW5ldyBFLFVpPW5ldyBFLEZpPW5ldyBFLHRvPW5ldyBFLGlvPW5ldyBFLHJvPW5ldyBFLFJhPW5ldyBFLFBhPW5ldyBFLElhPW5ldyBFLE5hPW5ldyBlZSxEYT1uZXcgZWUsT2E9bmV3IGVlLHNvPW5ldyBFLHphPW5ldyBFO2NsYXNzIE50IGV4dGVuZHMgamV7Y29uc3RydWN0b3IoZT1uZXcgJGUsdD1uZXcgQ2Epe3N1cGVyKCk7dGhpcy50eXBlPSJNZXNoIix0aGlzLmdlb21ldHJ5PWUsdGhpcy5tYXRlcmlhbD10LHRoaXMudXBkYXRlTW9ycGhUYXJnZXRzKCl9Y29weShlKXtyZXR1cm4gc3VwZXIuY29weShlKSxlLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcyE9PXZvaWQgMCYmKHRoaXMubW9ycGhUYXJnZXRJbmZsdWVuY2VzPWUubW9ycGhUYXJnZXRJbmZsdWVuY2VzLnNsaWNlKCkpLGUubW9ycGhUYXJnZXREaWN0aW9uYXJ5IT09dm9pZCAwJiYodGhpcy5tb3JwaFRhcmdldERpY3Rpb25hcnk9T2JqZWN0LmFzc2lnbih7fSxlLm1vcnBoVGFyZ2V0RGljdGlvbmFyeSkpLHRoaXMubWF0ZXJpYWw9ZS5tYXRlcmlhbCx0aGlzLmdlb21ldHJ5PWUuZ2VvbWV0cnksdGhpc311cGRhdGVNb3JwaFRhcmdldHMoKXtjb25zdCBlPXRoaXMuZ2VvbWV0cnk7aWYoZS5pc0J1ZmZlckdlb21ldHJ5KXtjb25zdCB0PWUubW9ycGhBdHRyaWJ1dGVzLHI9T2JqZWN0LmtleXModCk7aWYoci5sZW5ndGg+MCl7Y29uc3Qgcz10W3JbMF1dO2lmKHMhPT12b2lkIDApe3RoaXMubW9ycGhUYXJnZXRJbmZsdWVuY2VzPVtdLHRoaXMubW9ycGhUYXJnZXREaWN0aW9uYXJ5PXt9O2ZvcihsZXQgYT0wLG49cy5sZW5ndGg7YTxuO2ErKyl7Y29uc3Qgbz1zW2FdLm5hbWV8fFN0cmluZyhhKTt0aGlzLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcy5wdXNoKDApLHRoaXMubW9ycGhUYXJnZXREaWN0aW9uYXJ5W29dPWF9fX19ZWxzZXtjb25zdCB0PWUubW9ycGhUYXJnZXRzO3QhPT12b2lkIDAmJnQubGVuZ3RoPjAmJmNvbnNvbGUuZXJyb3IoIlRIUkVFLk1lc2gudXBkYXRlTW9ycGhUYXJnZXRzKCkgbm8gbG9uZ2VyIHN1cHBvcnRzIFRIUkVFLkdlb21ldHJ5LiBVc2UgVEhSRUUuQnVmZmVyR2VvbWV0cnkgaW5zdGVhZC4iKX19cmF5Y2FzdChlLHQpe2NvbnN0IHI9dGhpcy5nZW9tZXRyeSxzPXRoaXMubWF0ZXJpYWwsYT10aGlzLm1hdHJpeFdvcmxkO2lmKHM9PT12b2lkIDB8fChyLmJvdW5kaW5nU3BoZXJlPT09bnVsbCYmci5jb21wdXRlQm91bmRpbmdTcGhlcmUoKSxlby5jb3B5KHIuYm91bmRpbmdTcGhlcmUpLGVvLmFwcGx5TWF0cml4NChhKSxlLnJheS5pbnRlcnNlY3RzU3BoZXJlKGVvKT09PSExKXx8KE5sLmNvcHkoYSkuaW52ZXJ0KCksa3IuY29weShlLnJheSkuYXBwbHlNYXRyaXg0KE5sKSxyLmJvdW5kaW5nQm94IT09bnVsbCYma3IuaW50ZXJzZWN0c0JveChyLmJvdW5kaW5nQm94KT09PSExKSlyZXR1cm47bGV0IG47aWYoci5pc0J1ZmZlckdlb21ldHJ5KXtjb25zdCBvPXIuaW5kZXgsaD1yLmF0dHJpYnV0ZXMucG9zaXRpb24sbD1yLm1vcnBoQXR0cmlidXRlcy5wb3NpdGlvbixjPXIubW9ycGhUYXJnZXRzUmVsYXRpdmUsdT1yLmF0dHJpYnV0ZXMudXYsZD1yLmF0dHJpYnV0ZXMudXYyLHA9ci5ncm91cHMsZz1yLmRyYXdSYW5nZTtpZihvIT09bnVsbClpZihBcnJheS5pc0FycmF5KHMpKWZvcihsZXQgZj0wLG09cC5sZW5ndGg7ZjxtO2YrKyl7Y29uc3Qgdj1wW2ZdLHk9c1t2Lm1hdGVyaWFsSW5kZXhdLFQ9TWF0aC5tYXgodi5zdGFydCxnLnN0YXJ0KSx3PU1hdGgubWluKG8uY291bnQsTWF0aC5taW4odi5zdGFydCt2LmNvdW50LGcuc3RhcnQrZy5jb3VudCkpO2ZvcihsZXQgYj1ULEw9dztiPEw7Yis9Myl7Y29uc3QgUD1vLmdldFgoYiksaz1vLmdldFgoYisxKSxpZT1vLmdldFgoYisyKTtuPUJhKHRoaXMseSxlLGtyLGgsbCxjLHUsZCxQLGssaWUpLG4mJihuLmZhY2VJbmRleD1NYXRoLmZsb29yKGIvMyksbi5mYWNlLm1hdGVyaWFsSW5kZXg9di5tYXRlcmlhbEluZGV4LHQucHVzaChuKSl9fWVsc2V7Y29uc3QgZj1NYXRoLm1heCgwLGcuc3RhcnQpLG09TWF0aC5taW4oby5jb3VudCxnLnN0YXJ0K2cuY291bnQpO2ZvcihsZXQgdj1mLHk9bTt2PHk7dis9Myl7Y29uc3QgVD1vLmdldFgodiksdz1vLmdldFgodisxKSxiPW8uZ2V0WCh2KzIpO249QmEodGhpcyxzLGUsa3IsaCxsLGMsdSxkLFQsdyxiKSxuJiYobi5mYWNlSW5kZXg9TWF0aC5mbG9vcih2LzMpLHQucHVzaChuKSl9fWVsc2UgaWYoaCE9PXZvaWQgMClpZihBcnJheS5pc0FycmF5KHMpKWZvcihsZXQgZj0wLG09cC5sZW5ndGg7ZjxtO2YrKyl7Y29uc3Qgdj1wW2ZdLHk9c1t2Lm1hdGVyaWFsSW5kZXhdLFQ9TWF0aC5tYXgodi5zdGFydCxnLnN0YXJ0KSx3PU1hdGgubWluKGguY291bnQsTWF0aC5taW4odi5zdGFydCt2LmNvdW50LGcuc3RhcnQrZy5jb3VudCkpO2ZvcihsZXQgYj1ULEw9dztiPEw7Yis9Myl7Y29uc3QgUD1iLGs9YisxLGllPWIrMjtuPUJhKHRoaXMseSxlLGtyLGgsbCxjLHUsZCxQLGssaWUpLG4mJihuLmZhY2VJbmRleD1NYXRoLmZsb29yKGIvMyksbi5mYWNlLm1hdGVyaWFsSW5kZXg9di5tYXRlcmlhbEluZGV4LHQucHVzaChuKSl9fWVsc2V7Y29uc3QgZj1NYXRoLm1heCgwLGcuc3RhcnQpLG09TWF0aC5taW4oaC5jb3VudCxnLnN0YXJ0K2cuY291bnQpO2ZvcihsZXQgdj1mLHk9bTt2PHk7dis9Myl7Y29uc3QgVD12LHc9disxLGI9disyO249QmEodGhpcyxzLGUsa3IsaCxsLGMsdSxkLFQsdyxiKSxuJiYobi5mYWNlSW5kZXg9TWF0aC5mbG9vcih2LzMpLHQucHVzaChuKSl9fX1lbHNlIHIuaXNHZW9tZXRyeSYmY29uc29sZS5lcnJvcigiVEhSRUUuTWVzaC5yYXljYXN0KCkgbm8gbG9uZ2VyIHN1cHBvcnRzIFRIUkVFLkdlb21ldHJ5LiBVc2UgVEhSRUUuQnVmZmVyR2VvbWV0cnkgaW5zdGVhZC4iKX19TnQucHJvdG90eXBlLmlzTWVzaD0hMDtmdW5jdGlvbiBsMChpLGUsdCxyLHMsYSxuLG8pe2xldCBoO2lmKGUuc2lkZT09PWp0P2g9ci5pbnRlcnNlY3RUcmlhbmdsZShuLGEscywhMCxvKTpoPXIuaW50ZXJzZWN0VHJpYW5nbGUocyxhLG4sZS5zaWRlIT09X3IsbyksaD09PW51bGwpcmV0dXJuIG51bGw7emEuY29weShvKSx6YS5hcHBseU1hdHJpeDQoaS5tYXRyaXhXb3JsZCk7Y29uc3QgbD10LnJheS5vcmlnaW4uZGlzdGFuY2VUbyh6YSk7cmV0dXJuIGw8dC5uZWFyfHxsPnQuZmFyP251bGw6e2Rpc3RhbmNlOmwscG9pbnQ6emEuY2xvbmUoKSxvYmplY3Q6aX19ZnVuY3Rpb24gQmEoaSxlLHQscixzLGEsbixvLGgsbCxjLHUpe0JpLmZyb21CdWZmZXJBdHRyaWJ1dGUocyxsKSxVaS5mcm9tQnVmZmVyQXR0cmlidXRlKHMsYyksRmkuZnJvbUJ1ZmZlckF0dHJpYnV0ZShzLHUpO2NvbnN0IGQ9aS5tb3JwaFRhcmdldEluZmx1ZW5jZXM7aWYoYSYmZCl7UmEuc2V0KDAsMCwwKSxQYS5zZXQoMCwwLDApLElhLnNldCgwLDAsMCk7Zm9yKGxldCBnPTAsZj1hLmxlbmd0aDtnPGY7ZysrKXtjb25zdCBtPWRbZ10sdj1hW2ddO20hPT0wJiYodG8uZnJvbUJ1ZmZlckF0dHJpYnV0ZSh2LGwpLGlvLmZyb21CdWZmZXJBdHRyaWJ1dGUodixjKSxyby5mcm9tQnVmZmVyQXR0cmlidXRlKHYsdSksbj8oUmEuYWRkU2NhbGVkVmVjdG9yKHRvLG0pLFBhLmFkZFNjYWxlZFZlY3RvcihpbyxtKSxJYS5hZGRTY2FsZWRWZWN0b3Iocm8sbSkpOihSYS5hZGRTY2FsZWRWZWN0b3IodG8uc3ViKEJpKSxtKSxQYS5hZGRTY2FsZWRWZWN0b3IoaW8uc3ViKFVpKSxtKSxJYS5hZGRTY2FsZWRWZWN0b3Iocm8uc3ViKEZpKSxtKSkpfUJpLmFkZChSYSksVWkuYWRkKFBhKSxGaS5hZGQoSWEpfWkuaXNTa2lubmVkTWVzaCYmKGkuYm9uZVRyYW5zZm9ybShsLEJpKSxpLmJvbmVUcmFuc2Zvcm0oYyxVaSksaS5ib25lVHJhbnNmb3JtKHUsRmkpKTtjb25zdCBwPWwwKGksZSx0LHIsQmksVWksRmksc28pO2lmKHApe28mJihOYS5mcm9tQnVmZmVyQXR0cmlidXRlKG8sbCksRGEuZnJvbUJ1ZmZlckF0dHJpYnV0ZShvLGMpLE9hLmZyb21CdWZmZXJBdHRyaWJ1dGUobyx1KSxwLnV2PWF0LmdldFVWKHNvLEJpLFVpLEZpLE5hLERhLE9hLG5ldyBlZSkpLGgmJihOYS5mcm9tQnVmZmVyQXR0cmlidXRlKGgsbCksRGEuZnJvbUJ1ZmZlckF0dHJpYnV0ZShoLGMpLE9hLmZyb21CdWZmZXJBdHRyaWJ1dGUoaCx1KSxwLnV2Mj1hdC5nZXRVVihzbyxCaSxVaSxGaSxOYSxEYSxPYSxuZXcgZWUpKTtjb25zdCBnPXthOmwsYjpjLGM6dSxub3JtYWw6bmV3IEUsbWF0ZXJpYWxJbmRleDowfTthdC5nZXROb3JtYWwoQmksVWksRmksZy5ub3JtYWwpLHAuZmFjZT1nfXJldHVybiBwfWNsYXNzIFJzIGV4dGVuZHMgJGV7Y29uc3RydWN0b3IoZT0xLHQ9MSxyPTEscz0xLGE9MSxuPTEpe3N1cGVyKCk7dGhpcy50eXBlPSJCb3hHZW9tZXRyeSIsdGhpcy5wYXJhbWV0ZXJzPXt3aWR0aDplLGhlaWdodDp0LGRlcHRoOnIsd2lkdGhTZWdtZW50czpzLGhlaWdodFNlZ21lbnRzOmEsZGVwdGhTZWdtZW50czpufTtjb25zdCBvPXRoaXM7cz1NYXRoLmZsb29yKHMpLGE9TWF0aC5mbG9vcihhKSxuPU1hdGguZmxvb3Iobik7Y29uc3QgaD1bXSxsPVtdLGM9W10sdT1bXTtsZXQgZD0wLHA9MDtnKCJ6IiwieSIsIngiLC0xLC0xLHIsdCxlLG4sYSwwKSxnKCJ6IiwieSIsIngiLDEsLTEscix0LC1lLG4sYSwxKSxnKCJ4IiwieiIsInkiLDEsMSxlLHIsdCxzLG4sMiksZygieCIsInoiLCJ5IiwxLC0xLGUsciwtdCxzLG4sMyksZygieCIsInkiLCJ6IiwxLC0xLGUsdCxyLHMsYSw0KSxnKCJ4IiwieSIsInoiLC0xLC0xLGUsdCwtcixzLGEsNSksdGhpcy5zZXRJbmRleChoKSx0aGlzLnNldEF0dHJpYnV0ZSgicG9zaXRpb24iLG5ldyBwdChsLDMpKSx0aGlzLnNldEF0dHJpYnV0ZSgibm9ybWFsIixuZXcgcHQoYywzKSksdGhpcy5zZXRBdHRyaWJ1dGUoInV2IixuZXcgcHQodSwyKSk7ZnVuY3Rpb24gZyhmLG0sdix5LFQsdyxiLEwsUCxrLGllKXtjb25zdCBPPXcvUCx4PWIvayxDPXcvMixZPWIvMixOPUwvMixVPVArMSxCPWsrMTtsZXQgRz0wLFI9MDtjb25zdCBYPW5ldyBFO2ZvcihsZXQgSj0wO0o8QjtKKyspe2NvbnN0IHRlPUoqeC1ZO2ZvcihsZXQgUT0wO1E8VTtRKyspe2NvbnN0IHZlPVEqTy1DO1hbZl09dmUqeSxYW21dPXRlKlQsWFt2XT1OLGwucHVzaChYLngsWC55LFgueiksWFtmXT0wLFhbbV09MCxYW3ZdPUw+MD8xOi0xLGMucHVzaChYLngsWC55LFgueiksdS5wdXNoKFEvUCksdS5wdXNoKDEtSi9rKSxHKz0xfX1mb3IobGV0IEo9MDtKPGs7SisrKWZvcihsZXQgdGU9MDt0ZTxQO3RlKyspe2NvbnN0IFE9ZCt0ZStVKkosdmU9ZCt0ZStVKihKKzEpLHplPWQrKHRlKzEpK1UqKEorMSksYmU9ZCsodGUrMSkrVSpKO2gucHVzaChRLHZlLGJlKSxoLnB1c2godmUsemUsYmUpLFIrPTZ9by5hZGRHcm91cChwLFIsaWUpLHArPVIsZCs9R319c3RhdGljIGZyb21KU09OKGUpe3JldHVybiBuZXcgUnMoZS53aWR0aCxlLmhlaWdodCxlLmRlcHRoLGUud2lkdGhTZWdtZW50cyxlLmhlaWdodFNlZ21lbnRzLGUuZGVwdGhTZWdtZW50cyl9fWZ1bmN0aW9uIEdyKGkpe2NvbnN0IGU9e307Zm9yKGNvbnN0IHQgaW4gaSl7ZVt0XT17fTtmb3IoY29uc3QgciBpbiBpW3RdKXtjb25zdCBzPWlbdF1bcl07cyYmKHMuaXNDb2xvcnx8cy5pc01hdHJpeDN8fHMuaXNNYXRyaXg0fHxzLmlzVmVjdG9yMnx8cy5pc1ZlY3RvcjN8fHMuaXNWZWN0b3I0fHxzLmlzVGV4dHVyZXx8cy5pc1F1YXRlcm5pb24pP2VbdF1bcl09cy5jbG9uZSgpOkFycmF5LmlzQXJyYXkocyk/ZVt0XVtyXT1zLnNsaWNlKCk6ZVt0XVtyXT1zfX1yZXR1cm4gZX1mdW5jdGlvbiBNdChpKXtjb25zdCBlPXt9O2ZvcihsZXQgdD0wO3Q8aS5sZW5ndGg7dCsrKXtjb25zdCByPUdyKGlbdF0pO2Zvcihjb25zdCBzIGluIHIpZVtzXT1yW3NdfXJldHVybiBlfWNvbnN0IGMwPXtjbG9uZTpHcixtZXJnZTpNdH07dmFyIHUwPWB2b2lkIG1haW4oKSB7CglnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7Cn1gLGQwPWB2b2lkIG1haW4oKSB7CglnbF9GcmFnQ29sb3IgPSB2ZWM0KCAxLjAsIDAuMCwgMC4wLCAxLjAgKTsKfWA7Y2xhc3MgJHQgZXh0ZW5kcyBsdHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpO3RoaXMudHlwZT0iU2hhZGVyTWF0ZXJpYWwiLHRoaXMuZGVmaW5lcz17fSx0aGlzLnVuaWZvcm1zPXt9LHRoaXMudmVydGV4U2hhZGVyPXUwLHRoaXMuZnJhZ21lbnRTaGFkZXI9ZDAsdGhpcy5saW5ld2lkdGg9MSx0aGlzLndpcmVmcmFtZT0hMSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD0xLHRoaXMuZm9nPSExLHRoaXMubGlnaHRzPSExLHRoaXMuY2xpcHBpbmc9ITEsdGhpcy5leHRlbnNpb25zPXtkZXJpdmF0aXZlczohMSxmcmFnRGVwdGg6ITEsZHJhd0J1ZmZlcnM6ITEsc2hhZGVyVGV4dHVyZUxPRDohMX0sdGhpcy5kZWZhdWx0QXR0cmlidXRlVmFsdWVzPXtjb2xvcjpbMSwxLDFdLHV2OlswLDBdLHV2MjpbMCwwXX0sdGhpcy5pbmRleDBBdHRyaWJ1dGVOYW1lPXZvaWQgMCx0aGlzLnVuaWZvcm1zTmVlZFVwZGF0ZT0hMSx0aGlzLmdsc2xWZXJzaW9uPW51bGwsZSE9PXZvaWQgMCYmKGUuYXR0cmlidXRlcyE9PXZvaWQgMCYmY29uc29sZS5lcnJvcigiVEhSRUUuU2hhZGVyTWF0ZXJpYWw6IGF0dHJpYnV0ZXMgc2hvdWxkIG5vdyBiZSBkZWZpbmVkIGluIFRIUkVFLkJ1ZmZlckdlb21ldHJ5IGluc3RlYWQuIiksdGhpcy5zZXRWYWx1ZXMoZSkpfWNvcHkoZSl7cmV0dXJuIHN1cGVyLmNvcHkoZSksdGhpcy5mcmFnbWVudFNoYWRlcj1lLmZyYWdtZW50U2hhZGVyLHRoaXMudmVydGV4U2hhZGVyPWUudmVydGV4U2hhZGVyLHRoaXMudW5pZm9ybXM9R3IoZS51bmlmb3JtcyksdGhpcy5kZWZpbmVzPU9iamVjdC5hc3NpZ24oe30sZS5kZWZpbmVzKSx0aGlzLndpcmVmcmFtZT1lLndpcmVmcmFtZSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD1lLndpcmVmcmFtZUxpbmV3aWR0aCx0aGlzLmxpZ2h0cz1lLmxpZ2h0cyx0aGlzLmNsaXBwaW5nPWUuY2xpcHBpbmcsdGhpcy5leHRlbnNpb25zPU9iamVjdC5hc3NpZ24oe30sZS5leHRlbnNpb25zKSx0aGlzLmdsc2xWZXJzaW9uPWUuZ2xzbFZlcnNpb24sdGhpc310b0pTT04oZSl7Y29uc3QgdD1zdXBlci50b0pTT04oZSk7dC5nbHNsVmVyc2lvbj10aGlzLmdsc2xWZXJzaW9uLHQudW5pZm9ybXM9e307Zm9yKGNvbnN0IHMgaW4gdGhpcy51bmlmb3Jtcyl7Y29uc3QgYT10aGlzLnVuaWZvcm1zW3NdLnZhbHVlO2EmJmEuaXNUZXh0dXJlP3QudW5pZm9ybXNbc109e3R5cGU6InQiLHZhbHVlOmEudG9KU09OKGUpLnV1aWR9OmEmJmEuaXNDb2xvcj90LnVuaWZvcm1zW3NdPXt0eXBlOiJjIix2YWx1ZTphLmdldEhleCgpfTphJiZhLmlzVmVjdG9yMj90LnVuaWZvcm1zW3NdPXt0eXBlOiJ2MiIsdmFsdWU6YS50b0FycmF5KCl9OmEmJmEuaXNWZWN0b3IzP3QudW5pZm9ybXNbc109e3R5cGU6InYzIix2YWx1ZTphLnRvQXJyYXkoKX06YSYmYS5pc1ZlY3RvcjQ/dC51bmlmb3Jtc1tzXT17dHlwZToidjQiLHZhbHVlOmEudG9BcnJheSgpfTphJiZhLmlzTWF0cml4Mz90LnVuaWZvcm1zW3NdPXt0eXBlOiJtMyIsdmFsdWU6YS50b0FycmF5KCl9OmEmJmEuaXNNYXRyaXg0P3QudW5pZm9ybXNbc109e3R5cGU6Im00Iix2YWx1ZTphLnRvQXJyYXkoKX06dC51bmlmb3Jtc1tzXT17dmFsdWU6YX19T2JqZWN0LmtleXModGhpcy5kZWZpbmVzKS5sZW5ndGg+MCYmKHQuZGVmaW5lcz10aGlzLmRlZmluZXMpLHQudmVydGV4U2hhZGVyPXRoaXMudmVydGV4U2hhZGVyLHQuZnJhZ21lbnRTaGFkZXI9dGhpcy5mcmFnbWVudFNoYWRlcjtjb25zdCByPXt9O2Zvcihjb25zdCBzIGluIHRoaXMuZXh0ZW5zaW9ucyl0aGlzLmV4dGVuc2lvbnNbc109PT0hMCYmKHJbc109ITApO3JldHVybiBPYmplY3Qua2V5cyhyKS5sZW5ndGg+MCYmKHQuZXh0ZW5zaW9ucz1yKSx0fX0kdC5wcm90b3R5cGUuaXNTaGFkZXJNYXRlcmlhbD0hMDtjbGFzcyBhbyBleHRlbmRzIGple2NvbnN0cnVjdG9yKCl7c3VwZXIoKTt0aGlzLnR5cGU9IkNhbWVyYSIsdGhpcy5tYXRyaXhXb3JsZEludmVyc2U9bmV3IF9lLHRoaXMucHJvamVjdGlvbk1hdHJpeD1uZXcgX2UsdGhpcy5wcm9qZWN0aW9uTWF0cml4SW52ZXJzZT1uZXcgX2V9Y29weShlLHQpe3JldHVybiBzdXBlci5jb3B5KGUsdCksdGhpcy5tYXRyaXhXb3JsZEludmVyc2UuY29weShlLm1hdHJpeFdvcmxkSW52ZXJzZSksdGhpcy5wcm9qZWN0aW9uTWF0cml4LmNvcHkoZS5wcm9qZWN0aW9uTWF0cml4KSx0aGlzLnByb2plY3Rpb25NYXRyaXhJbnZlcnNlLmNvcHkoZS5wcm9qZWN0aW9uTWF0cml4SW52ZXJzZSksdGhpc31nZXRXb3JsZERpcmVjdGlvbihlKXt0aGlzLnVwZGF0ZVdvcmxkTWF0cml4KCEwLCExKTtjb25zdCB0PXRoaXMubWF0cml4V29ybGQuZWxlbWVudHM7cmV0dXJuIGUuc2V0KC10WzhdLC10WzldLC10WzEwXSkubm9ybWFsaXplKCl9dXBkYXRlTWF0cml4V29ybGQoZSl7c3VwZXIudXBkYXRlTWF0cml4V29ybGQoZSksdGhpcy5tYXRyaXhXb3JsZEludmVyc2UuY29weSh0aGlzLm1hdHJpeFdvcmxkKS5pbnZlcnQoKX11cGRhdGVXb3JsZE1hdHJpeChlLHQpe3N1cGVyLnVwZGF0ZVdvcmxkTWF0cml4KGUsdCksdGhpcy5tYXRyaXhXb3JsZEludmVyc2UuY29weSh0aGlzLm1hdHJpeFdvcmxkKS5pbnZlcnQoKX1jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyl9fWFvLnByb3RvdHlwZS5pc0NhbWVyYT0hMDtjbGFzcyBEdCBleHRlbmRzIGFve2NvbnN0cnVjdG9yKGU9NTAsdD0xLHI9LjEscz0yZTMpe3N1cGVyKCk7dGhpcy50eXBlPSJQZXJzcGVjdGl2ZUNhbWVyYSIsdGhpcy5mb3Y9ZSx0aGlzLnpvb209MSx0aGlzLm5lYXI9cix0aGlzLmZhcj1zLHRoaXMuZm9jdXM9MTAsdGhpcy5hc3BlY3Q9dCx0aGlzLnZpZXc9bnVsbCx0aGlzLmZpbG1HYXVnZT0zNSx0aGlzLmZpbG1PZmZzZXQ9MCx0aGlzLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKX1jb3B5KGUsdCl7cmV0dXJuIHN1cGVyLmNvcHkoZSx0KSx0aGlzLmZvdj1lLmZvdix0aGlzLnpvb209ZS56b29tLHRoaXMubmVhcj1lLm5lYXIsdGhpcy5mYXI9ZS5mYXIsdGhpcy5mb2N1cz1lLmZvY3VzLHRoaXMuYXNwZWN0PWUuYXNwZWN0LHRoaXMudmlldz1lLnZpZXc9PT1udWxsP251bGw6T2JqZWN0LmFzc2lnbih7fSxlLnZpZXcpLHRoaXMuZmlsbUdhdWdlPWUuZmlsbUdhdWdlLHRoaXMuZmlsbU9mZnNldD1lLmZpbG1PZmZzZXQsdGhpc31zZXRGb2NhbExlbmd0aChlKXtjb25zdCB0PS41KnRoaXMuZ2V0RmlsbUhlaWdodCgpL2U7dGhpcy5mb3Y9T24qMipNYXRoLmF0YW4odCksdGhpcy51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCl9Z2V0Rm9jYWxMZW5ndGgoKXtjb25zdCBlPU1hdGgudGFuKERuKi41KnRoaXMuZm92KTtyZXR1cm4gLjUqdGhpcy5nZXRGaWxtSGVpZ2h0KCkvZX1nZXRFZmZlY3RpdmVGT1YoKXtyZXR1cm4gT24qMipNYXRoLmF0YW4oTWF0aC50YW4oRG4qLjUqdGhpcy5mb3YpL3RoaXMuem9vbSl9Z2V0RmlsbVdpZHRoKCl7cmV0dXJuIHRoaXMuZmlsbUdhdWdlKk1hdGgubWluKHRoaXMuYXNwZWN0LDEpfWdldEZpbG1IZWlnaHQoKXtyZXR1cm4gdGhpcy5maWxtR2F1Z2UvTWF0aC5tYXgodGhpcy5hc3BlY3QsMSl9c2V0Vmlld09mZnNldChlLHQscixzLGEsbil7dGhpcy5hc3BlY3Q9ZS90LHRoaXMudmlldz09PW51bGwmJih0aGlzLnZpZXc9e2VuYWJsZWQ6ITAsZnVsbFdpZHRoOjEsZnVsbEhlaWdodDoxLG9mZnNldFg6MCxvZmZzZXRZOjAsd2lkdGg6MSxoZWlnaHQ6MX0pLHRoaXMudmlldy5lbmFibGVkPSEwLHRoaXMudmlldy5mdWxsV2lkdGg9ZSx0aGlzLnZpZXcuZnVsbEhlaWdodD10LHRoaXMudmlldy5vZmZzZXRYPXIsdGhpcy52aWV3Lm9mZnNldFk9cyx0aGlzLnZpZXcud2lkdGg9YSx0aGlzLnZpZXcuaGVpZ2h0PW4sdGhpcy51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCl9Y2xlYXJWaWV3T2Zmc2V0KCl7dGhpcy52aWV3IT09bnVsbCYmKHRoaXMudmlldy5lbmFibGVkPSExKSx0aGlzLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKX11cGRhdGVQcm9qZWN0aW9uTWF0cml4KCl7Y29uc3QgZT10aGlzLm5lYXI7bGV0IHQ9ZSpNYXRoLnRhbihEbiouNSp0aGlzLmZvdikvdGhpcy56b29tLHI9Mip0LHM9dGhpcy5hc3BlY3QqcixhPS0uNSpzO2NvbnN0IG49dGhpcy52aWV3O2lmKHRoaXMudmlldyE9PW51bGwmJnRoaXMudmlldy5lbmFibGVkKXtjb25zdCBoPW4uZnVsbFdpZHRoLGw9bi5mdWxsSGVpZ2h0O2ErPW4ub2Zmc2V0WCpzL2gsdC09bi5vZmZzZXRZKnIvbCxzKj1uLndpZHRoL2gscio9bi5oZWlnaHQvbH1jb25zdCBvPXRoaXMuZmlsbU9mZnNldDtvIT09MCYmKGErPWUqby90aGlzLmdldEZpbG1XaWR0aCgpKSx0aGlzLnByb2plY3Rpb25NYXRyaXgubWFrZVBlcnNwZWN0aXZlKGEsYStzLHQsdC1yLGUsdGhpcy5mYXIpLHRoaXMucHJvamVjdGlvbk1hdHJpeEludmVyc2UuY29weSh0aGlzLnByb2plY3Rpb25NYXRyaXgpLmludmVydCgpfXRvSlNPTihlKXtjb25zdCB0PXN1cGVyLnRvSlNPTihlKTtyZXR1cm4gdC5vYmplY3QuZm92PXRoaXMuZm92LHQub2JqZWN0Lnpvb209dGhpcy56b29tLHQub2JqZWN0Lm5lYXI9dGhpcy5uZWFyLHQub2JqZWN0LmZhcj10aGlzLmZhcix0Lm9iamVjdC5mb2N1cz10aGlzLmZvY3VzLHQub2JqZWN0LmFzcGVjdD10aGlzLmFzcGVjdCx0aGlzLnZpZXchPT1udWxsJiYodC5vYmplY3Qudmlldz1PYmplY3QuYXNzaWduKHt9LHRoaXMudmlldykpLHQub2JqZWN0LmZpbG1HYXVnZT10aGlzLmZpbG1HYXVnZSx0Lm9iamVjdC5maWxtT2Zmc2V0PXRoaXMuZmlsbU9mZnNldCx0fX1EdC5wcm90b3R5cGUuaXNQZXJzcGVjdGl2ZUNhbWVyYT0hMDtjb25zdCBWcj05MCxXcj0xO2NsYXNzIG5vIGV4dGVuZHMgamV7Y29uc3RydWN0b3IoZSx0LHIpe3N1cGVyKCk7aWYodGhpcy50eXBlPSJDdWJlQ2FtZXJhIixyLmlzV2ViR0xDdWJlUmVuZGVyVGFyZ2V0IT09ITApe2NvbnNvbGUuZXJyb3IoIlRIUkVFLkN1YmVDYW1lcmE6IFRoZSBjb25zdHJ1Y3RvciBub3cgZXhwZWN0cyBhbiBpbnN0YW5jZSBvZiBXZWJHTEN1YmVSZW5kZXJUYXJnZXQgYXMgdGhpcmQgcGFyYW1ldGVyLiIpO3JldHVybn10aGlzLnJlbmRlclRhcmdldD1yO2NvbnN0IHM9bmV3IER0KFZyLFdyLGUsdCk7cy5sYXllcnM9dGhpcy5sYXllcnMscy51cC5zZXQoMCwtMSwwKSxzLmxvb2tBdChuZXcgRSgxLDAsMCkpLHRoaXMuYWRkKHMpO2NvbnN0IGE9bmV3IER0KFZyLFdyLGUsdCk7YS5sYXllcnM9dGhpcy5sYXllcnMsYS51cC5zZXQoMCwtMSwwKSxhLmxvb2tBdChuZXcgRSgtMSwwLDApKSx0aGlzLmFkZChhKTtjb25zdCBuPW5ldyBEdChWcixXcixlLHQpO24ubGF5ZXJzPXRoaXMubGF5ZXJzLG4udXAuc2V0KDAsMCwxKSxuLmxvb2tBdChuZXcgRSgwLDEsMCkpLHRoaXMuYWRkKG4pO2NvbnN0IG89bmV3IER0KFZyLFdyLGUsdCk7by5sYXllcnM9dGhpcy5sYXllcnMsby51cC5zZXQoMCwwLC0xKSxvLmxvb2tBdChuZXcgRSgwLC0xLDApKSx0aGlzLmFkZChvKTtjb25zdCBoPW5ldyBEdChWcixXcixlLHQpO2gubGF5ZXJzPXRoaXMubGF5ZXJzLGgudXAuc2V0KDAsLTEsMCksaC5sb29rQXQobmV3IEUoMCwwLDEpKSx0aGlzLmFkZChoKTtjb25zdCBsPW5ldyBEdChWcixXcixlLHQpO2wubGF5ZXJzPXRoaXMubGF5ZXJzLGwudXAuc2V0KDAsLTEsMCksbC5sb29rQXQobmV3IEUoMCwwLC0xKSksdGhpcy5hZGQobCl9dXBkYXRlKGUsdCl7dGhpcy5wYXJlbnQ9PT1udWxsJiZ0aGlzLnVwZGF0ZU1hdHJpeFdvcmxkKCk7Y29uc3Qgcj10aGlzLnJlbmRlclRhcmdldCxbcyxhLG4sbyxoLGxdPXRoaXMuY2hpbGRyZW4sYz1lLmdldFJlbmRlclRhcmdldCgpLHU9ZS5vdXRwdXRFbmNvZGluZyxkPWUudG9uZU1hcHBpbmcscD1lLnhyLmVuYWJsZWQ7ZS5vdXRwdXRFbmNvZGluZz1faSxlLnRvbmVNYXBwaW5nPXhpLGUueHIuZW5hYmxlZD0hMTtjb25zdCBnPXIudGV4dHVyZS5nZW5lcmF0ZU1pcG1hcHM7ci50ZXh0dXJlLmdlbmVyYXRlTWlwbWFwcz0hMSxlLnNldFJlbmRlclRhcmdldChyLDApLGUucmVuZGVyKHQscyksZS5zZXRSZW5kZXJUYXJnZXQociwxKSxlLnJlbmRlcih0LGEpLGUuc2V0UmVuZGVyVGFyZ2V0KHIsMiksZS5yZW5kZXIodCxuKSxlLnNldFJlbmRlclRhcmdldChyLDMpLGUucmVuZGVyKHQsbyksZS5zZXRSZW5kZXJUYXJnZXQociw0KSxlLnJlbmRlcih0LGgpLHIudGV4dHVyZS5nZW5lcmF0ZU1pcG1hcHM9ZyxlLnNldFJlbmRlclRhcmdldChyLDUpLGUucmVuZGVyKHQsbCksZS5zZXRSZW5kZXJUYXJnZXQoYyksZS5vdXRwdXRFbmNvZGluZz11LGUudG9uZU1hcHBpbmc9ZCxlLnhyLmVuYWJsZWQ9cCxyLnRleHR1cmUubmVlZHNQTVJFTVVwZGF0ZT0hMH19Y2xhc3MgVWEgZXh0ZW5kcyBkdHtjb25zdHJ1Y3RvcihlLHQscixzLGEsbixvLGgsbCxjKXtlPWUhPT12b2lkIDA/ZTpbXSx0PXQhPT12b2lkIDA/dDpicjtzdXBlcihlLHQscixzLGEsbixvLGgsbCxjKTt0aGlzLmZsaXBZPSExfWdldCBpbWFnZXMoKXtyZXR1cm4gdGhpcy5pbWFnZX1zZXQgaW1hZ2VzKGUpe3RoaXMuaW1hZ2U9ZX19VWEucHJvdG90eXBlLmlzQ3ViZVRleHR1cmU9ITA7Y2xhc3MgRGwgZXh0ZW5kcyB6dHtjb25zdHJ1Y3RvcihlLHQ9e30pe3N1cGVyKGUsZSx0KTtjb25zdCByPXt3aWR0aDplLGhlaWdodDplLGRlcHRoOjF9LHM9W3IscixyLHIscixyXTt0aGlzLnRleHR1cmU9bmV3IFVhKHMsdC5tYXBwaW5nLHQud3JhcFMsdC53cmFwVCx0Lm1hZ0ZpbHRlcix0Lm1pbkZpbHRlcix0LmZvcm1hdCx0LnR5cGUsdC5hbmlzb3Ryb3B5LHQuZW5jb2RpbmcpLHRoaXMudGV4dHVyZS5pc1JlbmRlclRhcmdldFRleHR1cmU9ITAsdGhpcy50ZXh0dXJlLmdlbmVyYXRlTWlwbWFwcz10LmdlbmVyYXRlTWlwbWFwcyE9PXZvaWQgMD90LmdlbmVyYXRlTWlwbWFwczohMSx0aGlzLnRleHR1cmUubWluRmlsdGVyPXQubWluRmlsdGVyIT09dm9pZCAwP3QubWluRmlsdGVyOkl0fWZyb21FcXVpcmVjdGFuZ3VsYXJUZXh0dXJlKGUsdCl7dGhpcy50ZXh0dXJlLnR5cGU9dC50eXBlLHRoaXMudGV4dHVyZS5lbmNvZGluZz10LmVuY29kaW5nLHRoaXMudGV4dHVyZS5nZW5lcmF0ZU1pcG1hcHM9dC5nZW5lcmF0ZU1pcG1hcHMsdGhpcy50ZXh0dXJlLm1pbkZpbHRlcj10Lm1pbkZpbHRlcix0aGlzLnRleHR1cmUubWFnRmlsdGVyPXQubWFnRmlsdGVyO2NvbnN0IHI9e3VuaWZvcm1zOnt0RXF1aXJlY3Q6e3ZhbHVlOm51bGx9fSx2ZXJ0ZXhTaGFkZXI6YAoKCQkJCXZhcnlpbmcgdmVjMyB2V29ybGREaXJlY3Rpb247CgoJCQkJdmVjMyB0cmFuc2Zvcm1EaXJlY3Rpb24oIGluIHZlYzMgZGlyLCBpbiBtYXQ0IG1hdHJpeCApIHsKCgkJCQkJcmV0dXJuIG5vcm1hbGl6ZSggKCBtYXRyaXggKiB2ZWM0KCBkaXIsIDAuMCApICkueHl6ICk7CgoJCQkJfQoKCQkJCXZvaWQgbWFpbigpIHsKCgkJCQkJdldvcmxkRGlyZWN0aW9uID0gdHJhbnNmb3JtRGlyZWN0aW9uKCBwb3NpdGlvbiwgbW9kZWxNYXRyaXggKTsKCgkJCQkJI2luY2x1ZGUgPGJlZ2luX3ZlcnRleD4KCQkJCQkjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+CgoJCQkJfQoJCQlgLGZyYWdtZW50U2hhZGVyOmAKCgkJCQl1bmlmb3JtIHNhbXBsZXIyRCB0RXF1aXJlY3Q7CgoJCQkJdmFyeWluZyB2ZWMzIHZXb3JsZERpcmVjdGlvbjsKCgkJCQkjaW5jbHVkZSA8Y29tbW9uPgoKCQkJCXZvaWQgbWFpbigpIHsKCgkJCQkJdmVjMyBkaXJlY3Rpb24gPSBub3JtYWxpemUoIHZXb3JsZERpcmVjdGlvbiApOwoKCQkJCQl2ZWMyIHNhbXBsZVVWID0gZXF1aXJlY3RVdiggZGlyZWN0aW9uICk7CgoJCQkJCWdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCggdEVxdWlyZWN0LCBzYW1wbGVVViApOwoKCQkJCX0KCQkJYH0scz1uZXcgUnMoNSw1LDUpLGE9bmV3ICR0KHtuYW1lOiJDdWJlbWFwRnJvbUVxdWlyZWN0Iix1bmlmb3JtczpHcihyLnVuaWZvcm1zKSx2ZXJ0ZXhTaGFkZXI6ci52ZXJ0ZXhTaGFkZXIsZnJhZ21lbnRTaGFkZXI6ci5mcmFnbWVudFNoYWRlcixzaWRlOmp0LGJsZW5kaW5nOklpfSk7YS51bmlmb3Jtcy50RXF1aXJlY3QudmFsdWU9dDtjb25zdCBuPW5ldyBOdChzLGEpLG89dC5taW5GaWx0ZXI7cmV0dXJuIHQubWluRmlsdGVyPT09dWEmJih0Lm1pbkZpbHRlcj1JdCksbmV3IG5vKDEsMTAsdGhpcykudXBkYXRlKGUsbiksdC5taW5GaWx0ZXI9byxuLmdlb21ldHJ5LmRpc3Bvc2UoKSxuLm1hdGVyaWFsLmRpc3Bvc2UoKSx0aGlzfWNsZWFyKGUsdCxyLHMpe2NvbnN0IGE9ZS5nZXRSZW5kZXJUYXJnZXQoKTtmb3IobGV0IG49MDtuPDY7bisrKWUuc2V0UmVuZGVyVGFyZ2V0KHRoaXMsbiksZS5jbGVhcih0LHIscyk7ZS5zZXRSZW5kZXJUYXJnZXQoYSl9fURsLnByb3RvdHlwZS5pc1dlYkdMQ3ViZVJlbmRlclRhcmdldD0hMDtjb25zdCBvbz1uZXcgRSxwMD1uZXcgRSxmMD1uZXcgeHQ7Y2xhc3MgVGl7Y29uc3RydWN0b3IoZT1uZXcgRSgxLDAsMCksdD0wKXt0aGlzLm5vcm1hbD1lLHRoaXMuY29uc3RhbnQ9dH1zZXQoZSx0KXtyZXR1cm4gdGhpcy5ub3JtYWwuY29weShlKSx0aGlzLmNvbnN0YW50PXQsdGhpc31zZXRDb21wb25lbnRzKGUsdCxyLHMpe3JldHVybiB0aGlzLm5vcm1hbC5zZXQoZSx0LHIpLHRoaXMuY29uc3RhbnQ9cyx0aGlzfXNldEZyb21Ob3JtYWxBbmRDb3BsYW5hclBvaW50KGUsdCl7cmV0dXJuIHRoaXMubm9ybWFsLmNvcHkoZSksdGhpcy5jb25zdGFudD0tdC5kb3QodGhpcy5ub3JtYWwpLHRoaXN9c2V0RnJvbUNvcGxhbmFyUG9pbnRzKGUsdCxyKXtjb25zdCBzPW9vLnN1YlZlY3RvcnMocix0KS5jcm9zcyhwMC5zdWJWZWN0b3JzKGUsdCkpLm5vcm1hbGl6ZSgpO3JldHVybiB0aGlzLnNldEZyb21Ob3JtYWxBbmRDb3BsYW5hclBvaW50KHMsZSksdGhpc31jb3B5KGUpe3JldHVybiB0aGlzLm5vcm1hbC5jb3B5KGUubm9ybWFsKSx0aGlzLmNvbnN0YW50PWUuY29uc3RhbnQsdGhpc31ub3JtYWxpemUoKXtjb25zdCBlPTEvdGhpcy5ub3JtYWwubGVuZ3RoKCk7cmV0dXJuIHRoaXMubm9ybWFsLm11bHRpcGx5U2NhbGFyKGUpLHRoaXMuY29uc3RhbnQqPWUsdGhpc31uZWdhdGUoKXtyZXR1cm4gdGhpcy5jb25zdGFudCo9LTEsdGhpcy5ub3JtYWwubmVnYXRlKCksdGhpc31kaXN0YW5jZVRvUG9pbnQoZSl7cmV0dXJuIHRoaXMubm9ybWFsLmRvdChlKSt0aGlzLmNvbnN0YW50fWRpc3RhbmNlVG9TcGhlcmUoZSl7cmV0dXJuIHRoaXMuZGlzdGFuY2VUb1BvaW50KGUuY2VudGVyKS1lLnJhZGl1c31wcm9qZWN0UG9pbnQoZSx0KXtyZXR1cm4gdC5jb3B5KHRoaXMubm9ybWFsKS5tdWx0aXBseVNjYWxhcigtdGhpcy5kaXN0YW5jZVRvUG9pbnQoZSkpLmFkZChlKX1pbnRlcnNlY3RMaW5lKGUsdCl7Y29uc3Qgcj1lLmRlbHRhKG9vKSxzPXRoaXMubm9ybWFsLmRvdChyKTtpZihzPT09MClyZXR1cm4gdGhpcy5kaXN0YW5jZVRvUG9pbnQoZS5zdGFydCk9PT0wP3QuY29weShlLnN0YXJ0KTpudWxsO2NvbnN0IGE9LShlLnN0YXJ0LmRvdCh0aGlzLm5vcm1hbCkrdGhpcy5jb25zdGFudCkvcztyZXR1cm4gYTwwfHxhPjE/bnVsbDp0LmNvcHkocikubXVsdGlwbHlTY2FsYXIoYSkuYWRkKGUuc3RhcnQpfWludGVyc2VjdHNMaW5lKGUpe2NvbnN0IHQ9dGhpcy5kaXN0YW5jZVRvUG9pbnQoZS5zdGFydCkscj10aGlzLmRpc3RhbmNlVG9Qb2ludChlLmVuZCk7cmV0dXJuIHQ8MCYmcj4wfHxyPDAmJnQ+MH1pbnRlcnNlY3RzQm94KGUpe3JldHVybiBlLmludGVyc2VjdHNQbGFuZSh0aGlzKX1pbnRlcnNlY3RzU3BoZXJlKGUpe3JldHVybiBlLmludGVyc2VjdHNQbGFuZSh0aGlzKX1jb3BsYW5hclBvaW50KGUpe3JldHVybiBlLmNvcHkodGhpcy5ub3JtYWwpLm11bHRpcGx5U2NhbGFyKC10aGlzLmNvbnN0YW50KX1hcHBseU1hdHJpeDQoZSx0KXtjb25zdCByPXR8fGYwLmdldE5vcm1hbE1hdHJpeChlKSxzPXRoaXMuY29wbGFuYXJQb2ludChvbykuYXBwbHlNYXRyaXg0KGUpLGE9dGhpcy5ub3JtYWwuYXBwbHlNYXRyaXgzKHIpLm5vcm1hbGl6ZSgpO3JldHVybiB0aGlzLmNvbnN0YW50PS1zLmRvdChhKSx0aGlzfXRyYW5zbGF0ZShlKXtyZXR1cm4gdGhpcy5jb25zdGFudC09ZS5kb3QodGhpcy5ub3JtYWwpLHRoaXN9ZXF1YWxzKGUpe3JldHVybiBlLm5vcm1hbC5lcXVhbHModGhpcy5ub3JtYWwpJiZlLmNvbnN0YW50PT09dGhpcy5jb25zdGFudH1jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyl9fVRpLnByb3RvdHlwZS5pc1BsYW5lPSEwO2NvbnN0IGpyPW5ldyBEcixGYT1uZXcgRTtjbGFzcyBIYXtjb25zdHJ1Y3RvcihlPW5ldyBUaSx0PW5ldyBUaSxyPW5ldyBUaSxzPW5ldyBUaSxhPW5ldyBUaSxuPW5ldyBUaSl7dGhpcy5wbGFuZXM9W2UsdCxyLHMsYSxuXX1zZXQoZSx0LHIscyxhLG4pe2NvbnN0IG89dGhpcy5wbGFuZXM7cmV0dXJuIG9bMF0uY29weShlKSxvWzFdLmNvcHkodCksb1syXS5jb3B5KHIpLG9bM10uY29weShzKSxvWzRdLmNvcHkoYSksb1s1XS5jb3B5KG4pLHRoaXN9Y29weShlKXtjb25zdCB0PXRoaXMucGxhbmVzO2ZvcihsZXQgcj0wO3I8NjtyKyspdFtyXS5jb3B5KGUucGxhbmVzW3JdKTtyZXR1cm4gdGhpc31zZXRGcm9tUHJvamVjdGlvbk1hdHJpeChlKXtjb25zdCB0PXRoaXMucGxhbmVzLHI9ZS5lbGVtZW50cyxzPXJbMF0sYT1yWzFdLG49clsyXSxvPXJbM10saD1yWzRdLGw9cls1XSxjPXJbNl0sdT1yWzddLGQ9cls4XSxwPXJbOV0sZz1yWzEwXSxmPXJbMTFdLG09clsxMl0sdj1yWzEzXSx5PXJbMTRdLFQ9clsxNV07cmV0dXJuIHRbMF0uc2V0Q29tcG9uZW50cyhvLXMsdS1oLGYtZCxULW0pLm5vcm1hbGl6ZSgpLHRbMV0uc2V0Q29tcG9uZW50cyhvK3MsdStoLGYrZCxUK20pLm5vcm1hbGl6ZSgpLHRbMl0uc2V0Q29tcG9uZW50cyhvK2EsdStsLGYrcCxUK3YpLm5vcm1hbGl6ZSgpLHRbM10uc2V0Q29tcG9uZW50cyhvLWEsdS1sLGYtcCxULXYpLm5vcm1hbGl6ZSgpLHRbNF0uc2V0Q29tcG9uZW50cyhvLW4sdS1jLGYtZyxULXkpLm5vcm1hbGl6ZSgpLHRbNV0uc2V0Q29tcG9uZW50cyhvK24sdStjLGYrZyxUK3kpLm5vcm1hbGl6ZSgpLHRoaXN9aW50ZXJzZWN0c09iamVjdChlKXtjb25zdCB0PWUuZ2VvbWV0cnk7cmV0dXJuIHQuYm91bmRpbmdTcGhlcmU9PT1udWxsJiZ0LmNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpLGpyLmNvcHkodC5ib3VuZGluZ1NwaGVyZSkuYXBwbHlNYXRyaXg0KGUubWF0cml4V29ybGQpLHRoaXMuaW50ZXJzZWN0c1NwaGVyZShqcil9aW50ZXJzZWN0c1Nwcml0ZShlKXtyZXR1cm4ganIuY2VudGVyLnNldCgwLDAsMCksanIucmFkaXVzPS43MDcxMDY3ODExODY1NDc2LGpyLmFwcGx5TWF0cml4NChlLm1hdHJpeFdvcmxkKSx0aGlzLmludGVyc2VjdHNTcGhlcmUoanIpfWludGVyc2VjdHNTcGhlcmUoZSl7Y29uc3QgdD10aGlzLnBsYW5lcyxyPWUuY2VudGVyLHM9LWUucmFkaXVzO2ZvcihsZXQgYT0wO2E8NjthKyspaWYodFthXS5kaXN0YW5jZVRvUG9pbnQocik8cylyZXR1cm4hMTtyZXR1cm4hMH1pbnRlcnNlY3RzQm94KGUpe2NvbnN0IHQ9dGhpcy5wbGFuZXM7Zm9yKGxldCByPTA7cjw2O3IrKyl7Y29uc3Qgcz10W3JdO2lmKEZhLng9cy5ub3JtYWwueD4wP2UubWF4Lng6ZS5taW4ueCxGYS55PXMubm9ybWFsLnk+MD9lLm1heC55OmUubWluLnksRmEuej1zLm5vcm1hbC56PjA/ZS5tYXguejplLm1pbi56LHMuZGlzdGFuY2VUb1BvaW50KEZhKTwwKXJldHVybiExfXJldHVybiEwfWNvbnRhaW5zUG9pbnQoZSl7Y29uc3QgdD10aGlzLnBsYW5lcztmb3IobGV0IHI9MDtyPDY7cisrKWlmKHRbcl0uZGlzdGFuY2VUb1BvaW50KGUpPDApcmV0dXJuITE7cmV0dXJuITB9Y2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoKS5jb3B5KHRoaXMpfX1mdW5jdGlvbiBPbCgpe2xldCBpPW51bGwsZT0hMSx0PW51bGwscj1udWxsO2Z1bmN0aW9uIHMoYSxuKXt0KGEsbikscj1pLnJlcXVlc3RBbmltYXRpb25GcmFtZShzKX1yZXR1cm57c3RhcnQ6ZnVuY3Rpb24oKXtlIT09ITAmJnQhPT1udWxsJiYocj1pLnJlcXVlc3RBbmltYXRpb25GcmFtZShzKSxlPSEwKX0sc3RvcDpmdW5jdGlvbigpe2kuY2FuY2VsQW5pbWF0aW9uRnJhbWUociksZT0hMX0sc2V0QW5pbWF0aW9uTG9vcDpmdW5jdGlvbihhKXt0PWF9LHNldENvbnRleHQ6ZnVuY3Rpb24oYSl7aT1hfX19ZnVuY3Rpb24gbTAoaSxlKXtjb25zdCB0PWUuaXNXZWJHTDIscj1uZXcgV2Vha01hcDtmdW5jdGlvbiBzKGwsYyl7Y29uc3QgdT1sLmFycmF5LGQ9bC51c2FnZSxwPWkuY3JlYXRlQnVmZmVyKCk7aS5iaW5kQnVmZmVyKGMscCksaS5idWZmZXJEYXRhKGMsdSxkKSxsLm9uVXBsb2FkQ2FsbGJhY2soKTtsZXQgZztpZih1IGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KWc9NTEyNjtlbHNlIGlmKHUgaW5zdGFuY2VvZiBVaW50MTZBcnJheSlpZihsLmlzRmxvYXQxNkJ1ZmZlckF0dHJpYnV0ZSlpZih0KWc9NTEzMTtlbHNlIHRocm93IG5ldyBFcnJvcigiVEhSRUUuV2ViR0xBdHRyaWJ1dGVzOiBVc2FnZSBvZiBGbG9hdDE2QnVmZmVyQXR0cmlidXRlIHJlcXVpcmVzIFdlYkdMMi4iKTtlbHNlIGc9NTEyMztlbHNlIGlmKHUgaW5zdGFuY2VvZiBJbnQxNkFycmF5KWc9NTEyMjtlbHNlIGlmKHUgaW5zdGFuY2VvZiBVaW50MzJBcnJheSlnPTUxMjU7ZWxzZSBpZih1IGluc3RhbmNlb2YgSW50MzJBcnJheSlnPTUxMjQ7ZWxzZSBpZih1IGluc3RhbmNlb2YgSW50OEFycmF5KWc9NTEyMDtlbHNlIGlmKHUgaW5zdGFuY2VvZiBVaW50OEFycmF5KWc9NTEyMTtlbHNlIGlmKHUgaW5zdGFuY2VvZiBVaW50OENsYW1wZWRBcnJheSlnPTUxMjE7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoIlRIUkVFLldlYkdMQXR0cmlidXRlczogVW5zdXBwb3J0ZWQgYnVmZmVyIGRhdGEgZm9ybWF0OiAiK3UpO3JldHVybntidWZmZXI6cCx0eXBlOmcsYnl0ZXNQZXJFbGVtZW50OnUuQllURVNfUEVSX0VMRU1FTlQsdmVyc2lvbjpsLnZlcnNpb259fWZ1bmN0aW9uIGEobCxjLHUpe2NvbnN0IGQ9Yy5hcnJheSxwPWMudXBkYXRlUmFuZ2U7aS5iaW5kQnVmZmVyKHUsbCkscC5jb3VudD09PS0xP2kuYnVmZmVyU3ViRGF0YSh1LDAsZCk6KHQ/aS5idWZmZXJTdWJEYXRhKHUscC5vZmZzZXQqZC5CWVRFU19QRVJfRUxFTUVOVCxkLHAub2Zmc2V0LHAuY291bnQpOmkuYnVmZmVyU3ViRGF0YSh1LHAub2Zmc2V0KmQuQllURVNfUEVSX0VMRU1FTlQsZC5zdWJhcnJheShwLm9mZnNldCxwLm9mZnNldCtwLmNvdW50KSkscC5jb3VudD0tMSl9ZnVuY3Rpb24gbihsKXtyZXR1cm4gbC5pc0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlJiYobD1sLmRhdGEpLHIuZ2V0KGwpfWZ1bmN0aW9uIG8obCl7bC5pc0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlJiYobD1sLmRhdGEpO2NvbnN0IGM9ci5nZXQobCk7YyYmKGkuZGVsZXRlQnVmZmVyKGMuYnVmZmVyKSxyLmRlbGV0ZShsKSl9ZnVuY3Rpb24gaChsLGMpe2lmKGwuaXNHTEJ1ZmZlckF0dHJpYnV0ZSl7Y29uc3QgZD1yLmdldChsKTsoIWR8fGQudmVyc2lvbjxsLnZlcnNpb24pJiZyLnNldChsLHtidWZmZXI6bC5idWZmZXIsdHlwZTpsLnR5cGUsYnl0ZXNQZXJFbGVtZW50OmwuZWxlbWVudFNpemUsdmVyc2lvbjpsLnZlcnNpb259KTtyZXR1cm59bC5pc0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlJiYobD1sLmRhdGEpO2NvbnN0IHU9ci5nZXQobCk7dT09PXZvaWQgMD9yLnNldChsLHMobCxjKSk6dS52ZXJzaW9uPGwudmVyc2lvbiYmKGEodS5idWZmZXIsbCxjKSx1LnZlcnNpb249bC52ZXJzaW9uKX1yZXR1cm57Z2V0Om4scmVtb3ZlOm8sdXBkYXRlOmh9fWNsYXNzIGhvIGV4dGVuZHMgJGV7Y29uc3RydWN0b3IoZT0xLHQ9MSxyPTEscz0xKXtzdXBlcigpO3RoaXMudHlwZT0iUGxhbmVHZW9tZXRyeSIsdGhpcy5wYXJhbWV0ZXJzPXt3aWR0aDplLGhlaWdodDp0LHdpZHRoU2VnbWVudHM6cixoZWlnaHRTZWdtZW50czpzfTtjb25zdCBhPWUvMixuPXQvMixvPU1hdGguZmxvb3IociksaD1NYXRoLmZsb29yKHMpLGw9bysxLGM9aCsxLHU9ZS9vLGQ9dC9oLHA9W10sZz1bXSxmPVtdLG09W107Zm9yKGxldCB2PTA7djxjO3YrKyl7Y29uc3QgeT12KmQtbjtmb3IobGV0IFQ9MDtUPGw7VCsrKXtjb25zdCB3PVQqdS1hO2cucHVzaCh3LC15LDApLGYucHVzaCgwLDAsMSksbS5wdXNoKFQvbyksbS5wdXNoKDEtdi9oKX19Zm9yKGxldCB2PTA7djxoO3YrKylmb3IobGV0IHk9MDt5PG87eSsrKXtjb25zdCBUPXkrbCp2LHc9eStsKih2KzEpLGI9eSsxK2wqKHYrMSksTD15KzErbCp2O3AucHVzaChULHcsTCkscC5wdXNoKHcsYixMKX10aGlzLnNldEluZGV4KHApLHRoaXMuc2V0QXR0cmlidXRlKCJwb3NpdGlvbiIsbmV3IHB0KGcsMykpLHRoaXMuc2V0QXR0cmlidXRlKCJub3JtYWwiLG5ldyBwdChmLDMpKSx0aGlzLnNldEF0dHJpYnV0ZSgidXYiLG5ldyBwdChtLDIpKX1zdGF0aWMgZnJvbUpTT04oZSl7cmV0dXJuIG5ldyBobyhlLndpZHRoLGUuaGVpZ2h0LGUud2lkdGhTZWdtZW50cyxlLmhlaWdodFNlZ21lbnRzKX19dmFyIGcwPWAjaWZkZWYgVVNFX0FMUEhBTUFQCglkaWZmdXNlQ29sb3IuYSAqPSB0ZXh0dXJlMkQoIGFscGhhTWFwLCB2VXYgKS5nOwojZW5kaWZgLHYwPWAjaWZkZWYgVVNFX0FMUEhBTUFQCgl1bmlmb3JtIHNhbXBsZXIyRCBhbHBoYU1hcDsKI2VuZGlmYCx4MD1gI2lmZGVmIFVTRV9BTFBIQVRFU1QKCWlmICggZGlmZnVzZUNvbG9yLmEgPCBhbHBoYVRlc3QgKSBkaXNjYXJkOwojZW5kaWZgLF8wPWAjaWZkZWYgVVNFX0FMUEhBVEVTVAoJdW5pZm9ybSBmbG9hdCBhbHBoYVRlc3Q7CiNlbmRpZmAseTA9YCNpZmRlZiBVU0VfQU9NQVAKCWZsb2F0IGFtYmllbnRPY2NsdXNpb24gPSAoIHRleHR1cmUyRCggYW9NYXAsIHZVdjIgKS5yIC0gMS4wICkgKiBhb01hcEludGVuc2l0eSArIDEuMDsKCXJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSAqPSBhbWJpZW50T2NjbHVzaW9uOwoJI2lmIGRlZmluZWQoIFVTRV9FTlZNQVAgKSAmJiBkZWZpbmVkKCBTVEFOREFSRCApCgkJZmxvYXQgZG90TlYgPSBzYXR1cmF0ZSggZG90KCBnZW9tZXRyeS5ub3JtYWwsIGdlb21ldHJ5LnZpZXdEaXIgKSApOwoJCXJlZmxlY3RlZExpZ2h0LmluZGlyZWN0U3BlY3VsYXIgKj0gY29tcHV0ZVNwZWN1bGFyT2NjbHVzaW9uKCBkb3ROViwgYW1iaWVudE9jY2x1c2lvbiwgbWF0ZXJpYWwucm91Z2huZXNzICk7CgkjZW5kaWYKI2VuZGlmYCxNMD1gI2lmZGVmIFVTRV9BT01BUAoJdW5pZm9ybSBzYW1wbGVyMkQgYW9NYXA7Cgl1bmlmb3JtIGZsb2F0IGFvTWFwSW50ZW5zaXR5OwojZW5kaWZgLGIwPSJ2ZWMzIHRyYW5zZm9ybWVkID0gdmVjMyggcG9zaXRpb24gKTsiLHcwPWB2ZWMzIG9iamVjdE5vcm1hbCA9IHZlYzMoIG5vcm1hbCApOwojaWZkZWYgVVNFX1RBTkdFTlQKCXZlYzMgb2JqZWN0VGFuZ2VudCA9IHZlYzMoIHRhbmdlbnQueHl6ICk7CiNlbmRpZmAsUzA9YHZlYzMgQlJERl9MYW1iZXJ0KCBjb25zdCBpbiB2ZWMzIGRpZmZ1c2VDb2xvciApIHsKCXJldHVybiBSRUNJUFJPQ0FMX1BJICogZGlmZnVzZUNvbG9yOwp9CnZlYzMgRl9TY2hsaWNrKCBjb25zdCBpbiB2ZWMzIGYwLCBjb25zdCBpbiBmbG9hdCBmOTAsIGNvbnN0IGluIGZsb2F0IGRvdFZIICkgewoJZmxvYXQgZnJlc25lbCA9IGV4cDIoICggLSA1LjU1NDczICogZG90VkggLSA2Ljk4MzE2ICkgKiBkb3RWSCApOwoJcmV0dXJuIGYwICogKCAxLjAgLSBmcmVzbmVsICkgKyAoIGY5MCAqIGZyZXNuZWwgKTsKfQpmbG9hdCBWX0dHWF9TbWl0aENvcnJlbGF0ZWQoIGNvbnN0IGluIGZsb2F0IGFscGhhLCBjb25zdCBpbiBmbG9hdCBkb3ROTCwgY29uc3QgaW4gZmxvYXQgZG90TlYgKSB7CglmbG9hdCBhMiA9IHBvdzIoIGFscGhhICk7CglmbG9hdCBndiA9IGRvdE5MICogc3FydCggYTIgKyAoIDEuMCAtIGEyICkgKiBwb3cyKCBkb3ROViApICk7CglmbG9hdCBnbCA9IGRvdE5WICogc3FydCggYTIgKyAoIDEuMCAtIGEyICkgKiBwb3cyKCBkb3ROTCApICk7CglyZXR1cm4gMC41IC8gbWF4KCBndiArIGdsLCBFUFNJTE9OICk7Cn0KZmxvYXQgRF9HR1goIGNvbnN0IGluIGZsb2F0IGFscGhhLCBjb25zdCBpbiBmbG9hdCBkb3ROSCApIHsKCWZsb2F0IGEyID0gcG93MiggYWxwaGEgKTsKCWZsb2F0IGRlbm9tID0gcG93MiggZG90TkggKSAqICggYTIgLSAxLjAgKSArIDEuMDsKCXJldHVybiBSRUNJUFJPQ0FMX1BJICogYTIgLyBwb3cyKCBkZW5vbSApOwp9CnZlYzMgQlJERl9HR1goIGNvbnN0IGluIHZlYzMgbGlnaHREaXIsIGNvbnN0IGluIHZlYzMgdmlld0RpciwgY29uc3QgaW4gdmVjMyBub3JtYWwsIGNvbnN0IGluIHZlYzMgZjAsIGNvbnN0IGluIGZsb2F0IGY5MCwgY29uc3QgaW4gZmxvYXQgcm91Z2huZXNzICkgewoJZmxvYXQgYWxwaGEgPSBwb3cyKCByb3VnaG5lc3MgKTsKCXZlYzMgaGFsZkRpciA9IG5vcm1hbGl6ZSggbGlnaHREaXIgKyB2aWV3RGlyICk7CglmbG9hdCBkb3ROTCA9IHNhdHVyYXRlKCBkb3QoIG5vcm1hbCwgbGlnaHREaXIgKSApOwoJZmxvYXQgZG90TlYgPSBzYXR1cmF0ZSggZG90KCBub3JtYWwsIHZpZXdEaXIgKSApOwoJZmxvYXQgZG90TkggPSBzYXR1cmF0ZSggZG90KCBub3JtYWwsIGhhbGZEaXIgKSApOwoJZmxvYXQgZG90VkggPSBzYXR1cmF0ZSggZG90KCB2aWV3RGlyLCBoYWxmRGlyICkgKTsKCXZlYzMgRiA9IEZfU2NobGljayggZjAsIGY5MCwgZG90VkggKTsKCWZsb2F0IFYgPSBWX0dHWF9TbWl0aENvcnJlbGF0ZWQoIGFscGhhLCBkb3ROTCwgZG90TlYgKTsKCWZsb2F0IEQgPSBEX0dHWCggYWxwaGEsIGRvdE5IICk7CglyZXR1cm4gRiAqICggViAqIEQgKTsKfQp2ZWMyIExUQ19VdiggY29uc3QgaW4gdmVjMyBOLCBjb25zdCBpbiB2ZWMzIFYsIGNvbnN0IGluIGZsb2F0IHJvdWdobmVzcyApIHsKCWNvbnN0IGZsb2F0IExVVF9TSVpFID0gNjQuMDsKCWNvbnN0IGZsb2F0IExVVF9TQ0FMRSA9ICggTFVUX1NJWkUgLSAxLjAgKSAvIExVVF9TSVpFOwoJY29uc3QgZmxvYXQgTFVUX0JJQVMgPSAwLjUgLyBMVVRfU0laRTsKCWZsb2F0IGRvdE5WID0gc2F0dXJhdGUoIGRvdCggTiwgViApICk7Cgl2ZWMyIHV2ID0gdmVjMiggcm91Z2huZXNzLCBzcXJ0KCAxLjAgLSBkb3ROViApICk7Cgl1diA9IHV2ICogTFVUX1NDQUxFICsgTFVUX0JJQVM7CglyZXR1cm4gdXY7Cn0KZmxvYXQgTFRDX0NsaXBwZWRTcGhlcmVGb3JtRmFjdG9yKCBjb25zdCBpbiB2ZWMzIGYgKSB7CglmbG9hdCBsID0gbGVuZ3RoKCBmICk7CglyZXR1cm4gbWF4KCAoIGwgKiBsICsgZi56ICkgLyAoIGwgKyAxLjAgKSwgMC4wICk7Cn0KdmVjMyBMVENfRWRnZVZlY3RvckZvcm1GYWN0b3IoIGNvbnN0IGluIHZlYzMgdjEsIGNvbnN0IGluIHZlYzMgdjIgKSB7CglmbG9hdCB4ID0gZG90KCB2MSwgdjIgKTsKCWZsb2F0IHkgPSBhYnMoIHggKTsKCWZsb2F0IGEgPSAwLjg1NDM5ODUgKyAoIDAuNDk2NTE1NSArIDAuMDE0NTIwNiAqIHkgKSAqIHk7CglmbG9hdCBiID0gMy40MTc1OTQwICsgKCA0LjE2MTY3MjQgKyB5ICkgKiB5OwoJZmxvYXQgdiA9IGEgLyBiOwoJZmxvYXQgdGhldGFfc2ludGhldGEgPSAoIHggPiAwLjAgKSA/IHYgOiAwLjUgKiBpbnZlcnNlc3FydCggbWF4KCAxLjAgLSB4ICogeCwgMWUtNyApICkgLSB2OwoJcmV0dXJuIGNyb3NzKCB2MSwgdjIgKSAqIHRoZXRhX3NpbnRoZXRhOwp9CnZlYzMgTFRDX0V2YWx1YXRlKCBjb25zdCBpbiB2ZWMzIE4sIGNvbnN0IGluIHZlYzMgViwgY29uc3QgaW4gdmVjMyBQLCBjb25zdCBpbiBtYXQzIG1JbnYsIGNvbnN0IGluIHZlYzMgcmVjdENvb3Jkc1sgNCBdICkgewoJdmVjMyB2MSA9IHJlY3RDb29yZHNbIDEgXSAtIHJlY3RDb29yZHNbIDAgXTsKCXZlYzMgdjIgPSByZWN0Q29vcmRzWyAzIF0gLSByZWN0Q29vcmRzWyAwIF07Cgl2ZWMzIGxpZ2h0Tm9ybWFsID0gY3Jvc3MoIHYxLCB2MiApOwoJaWYoIGRvdCggbGlnaHROb3JtYWwsIFAgLSByZWN0Q29vcmRzWyAwIF0gKSA8IDAuMCApIHJldHVybiB2ZWMzKCAwLjAgKTsKCXZlYzMgVDEsIFQyOwoJVDEgPSBub3JtYWxpemUoIFYgLSBOICogZG90KCBWLCBOICkgKTsKCVQyID0gLSBjcm9zcyggTiwgVDEgKTsKCW1hdDMgbWF0ID0gbUludiAqIHRyYW5zcG9zZU1hdDMoIG1hdDMoIFQxLCBUMiwgTiApICk7Cgl2ZWMzIGNvb3Jkc1sgNCBdOwoJY29vcmRzWyAwIF0gPSBtYXQgKiAoIHJlY3RDb29yZHNbIDAgXSAtIFAgKTsKCWNvb3Jkc1sgMSBdID0gbWF0ICogKCByZWN0Q29vcmRzWyAxIF0gLSBQICk7Cgljb29yZHNbIDIgXSA9IG1hdCAqICggcmVjdENvb3Jkc1sgMiBdIC0gUCApOwoJY29vcmRzWyAzIF0gPSBtYXQgKiAoIHJlY3RDb29yZHNbIDMgXSAtIFAgKTsKCWNvb3Jkc1sgMCBdID0gbm9ybWFsaXplKCBjb29yZHNbIDAgXSApOwoJY29vcmRzWyAxIF0gPSBub3JtYWxpemUoIGNvb3Jkc1sgMSBdICk7Cgljb29yZHNbIDIgXSA9IG5vcm1hbGl6ZSggY29vcmRzWyAyIF0gKTsKCWNvb3Jkc1sgMyBdID0gbm9ybWFsaXplKCBjb29yZHNbIDMgXSApOwoJdmVjMyB2ZWN0b3JGb3JtRmFjdG9yID0gdmVjMyggMC4wICk7Cgl2ZWN0b3JGb3JtRmFjdG9yICs9IExUQ19FZGdlVmVjdG9yRm9ybUZhY3RvciggY29vcmRzWyAwIF0sIGNvb3Jkc1sgMSBdICk7Cgl2ZWN0b3JGb3JtRmFjdG9yICs9IExUQ19FZGdlVmVjdG9yRm9ybUZhY3RvciggY29vcmRzWyAxIF0sIGNvb3Jkc1sgMiBdICk7Cgl2ZWN0b3JGb3JtRmFjdG9yICs9IExUQ19FZGdlVmVjdG9yRm9ybUZhY3RvciggY29vcmRzWyAyIF0sIGNvb3Jkc1sgMyBdICk7Cgl2ZWN0b3JGb3JtRmFjdG9yICs9IExUQ19FZGdlVmVjdG9yRm9ybUZhY3RvciggY29vcmRzWyAzIF0sIGNvb3Jkc1sgMCBdICk7CglmbG9hdCByZXN1bHQgPSBMVENfQ2xpcHBlZFNwaGVyZUZvcm1GYWN0b3IoIHZlY3RvckZvcm1GYWN0b3IgKTsKCXJldHVybiB2ZWMzKCByZXN1bHQgKTsKfQpmbG9hdCBHX0JsaW5uUGhvbmdfSW1wbGljaXQoICkgewoJcmV0dXJuIDAuMjU7Cn0KZmxvYXQgRF9CbGlublBob25nKCBjb25zdCBpbiBmbG9hdCBzaGluaW5lc3MsIGNvbnN0IGluIGZsb2F0IGRvdE5IICkgewoJcmV0dXJuIFJFQ0lQUk9DQUxfUEkgKiAoIHNoaW5pbmVzcyAqIDAuNSArIDEuMCApICogcG93KCBkb3ROSCwgc2hpbmluZXNzICk7Cn0KdmVjMyBCUkRGX0JsaW5uUGhvbmcoIGNvbnN0IGluIHZlYzMgbGlnaHREaXIsIGNvbnN0IGluIHZlYzMgdmlld0RpciwgY29uc3QgaW4gdmVjMyBub3JtYWwsIGNvbnN0IGluIHZlYzMgc3BlY3VsYXJDb2xvciwgY29uc3QgaW4gZmxvYXQgc2hpbmluZXNzICkgewoJdmVjMyBoYWxmRGlyID0gbm9ybWFsaXplKCBsaWdodERpciArIHZpZXdEaXIgKTsKCWZsb2F0IGRvdE5IID0gc2F0dXJhdGUoIGRvdCggbm9ybWFsLCBoYWxmRGlyICkgKTsKCWZsb2F0IGRvdFZIID0gc2F0dXJhdGUoIGRvdCggdmlld0RpciwgaGFsZkRpciApICk7Cgl2ZWMzIEYgPSBGX1NjaGxpY2soIHNwZWN1bGFyQ29sb3IsIDEuMCwgZG90VkggKTsKCWZsb2F0IEcgPSBHX0JsaW5uUGhvbmdfSW1wbGljaXQoICk7CglmbG9hdCBEID0gRF9CbGlublBob25nKCBzaGluaW5lc3MsIGRvdE5IICk7CglyZXR1cm4gRiAqICggRyAqIEQgKTsKfQojaWYgZGVmaW5lZCggVVNFX1NIRUVOICkKZmxvYXQgRF9DaGFybGllKCBmbG9hdCByb3VnaG5lc3MsIGZsb2F0IGRvdE5IICkgewoJZmxvYXQgYWxwaGEgPSBwb3cyKCByb3VnaG5lc3MgKTsKCWZsb2F0IGludkFscGhhID0gMS4wIC8gYWxwaGE7CglmbG9hdCBjb3MyaCA9IGRvdE5IICogZG90Tkg7CglmbG9hdCBzaW4yaCA9IG1heCggMS4wIC0gY29zMmgsIDAuMDA3ODEyNSApOwoJcmV0dXJuICggMi4wICsgaW52QWxwaGEgKSAqIHBvdyggc2luMmgsIGludkFscGhhICogMC41ICkgLyAoIDIuMCAqIFBJICk7Cn0KZmxvYXQgVl9OZXViZWx0KCBmbG9hdCBkb3ROViwgZmxvYXQgZG90TkwgKSB7CglyZXR1cm4gc2F0dXJhdGUoIDEuMCAvICggNC4wICogKCBkb3ROTCArIGRvdE5WIC0gZG90TkwgKiBkb3ROViApICkgKTsKfQp2ZWMzIEJSREZfU2hlZW4oIGNvbnN0IGluIHZlYzMgbGlnaHREaXIsIGNvbnN0IGluIHZlYzMgdmlld0RpciwgY29uc3QgaW4gdmVjMyBub3JtYWwsIHZlYzMgc2hlZW5Db2xvciwgY29uc3QgaW4gZmxvYXQgc2hlZW5Sb3VnaG5lc3MgKSB7Cgl2ZWMzIGhhbGZEaXIgPSBub3JtYWxpemUoIGxpZ2h0RGlyICsgdmlld0RpciApOwoJZmxvYXQgZG90TkwgPSBzYXR1cmF0ZSggZG90KCBub3JtYWwsIGxpZ2h0RGlyICkgKTsKCWZsb2F0IGRvdE5WID0gc2F0dXJhdGUoIGRvdCggbm9ybWFsLCB2aWV3RGlyICkgKTsKCWZsb2F0IGRvdE5IID0gc2F0dXJhdGUoIGRvdCggbm9ybWFsLCBoYWxmRGlyICkgKTsKCWZsb2F0IEQgPSBEX0NoYXJsaWUoIHNoZWVuUm91Z2huZXNzLCBkb3ROSCApOwoJZmxvYXQgViA9IFZfTmV1YmVsdCggZG90TlYsIGRvdE5MICk7CglyZXR1cm4gc2hlZW5Db2xvciAqICggRCAqIFYgKTsKfQojZW5kaWZgLEUwPWAjaWZkZWYgVVNFX0JVTVBNQVAKCXVuaWZvcm0gc2FtcGxlcjJEIGJ1bXBNYXA7Cgl1bmlmb3JtIGZsb2F0IGJ1bXBTY2FsZTsKCXZlYzIgZEhkeHlfZndkKCkgewoJCXZlYzIgZFNUZHggPSBkRmR4KCB2VXYgKTsKCQl2ZWMyIGRTVGR5ID0gZEZkeSggdlV2ICk7CgkJZmxvYXQgSGxsID0gYnVtcFNjYWxlICogdGV4dHVyZTJEKCBidW1wTWFwLCB2VXYgKS54OwoJCWZsb2F0IGRCeCA9IGJ1bXBTY2FsZSAqIHRleHR1cmUyRCggYnVtcE1hcCwgdlV2ICsgZFNUZHggKS54IC0gSGxsOwoJCWZsb2F0IGRCeSA9IGJ1bXBTY2FsZSAqIHRleHR1cmUyRCggYnVtcE1hcCwgdlV2ICsgZFNUZHkgKS54IC0gSGxsOwoJCXJldHVybiB2ZWMyKCBkQngsIGRCeSApOwoJfQoJdmVjMyBwZXJ0dXJiTm9ybWFsQXJiKCB2ZWMzIHN1cmZfcG9zLCB2ZWMzIHN1cmZfbm9ybSwgdmVjMiBkSGR4eSwgZmxvYXQgZmFjZURpcmVjdGlvbiApIHsKCQl2ZWMzIHZTaWdtYVggPSB2ZWMzKCBkRmR4KCBzdXJmX3Bvcy54ICksIGRGZHgoIHN1cmZfcG9zLnkgKSwgZEZkeCggc3VyZl9wb3MueiApICk7CgkJdmVjMyB2U2lnbWFZID0gdmVjMyggZEZkeSggc3VyZl9wb3MueCApLCBkRmR5KCBzdXJmX3Bvcy55ICksIGRGZHkoIHN1cmZfcG9zLnogKSApOwoJCXZlYzMgdk4gPSBzdXJmX25vcm07CgkJdmVjMyBSMSA9IGNyb3NzKCB2U2lnbWFZLCB2TiApOwoJCXZlYzMgUjIgPSBjcm9zcyggdk4sIHZTaWdtYVggKTsKCQlmbG9hdCBmRGV0ID0gZG90KCB2U2lnbWFYLCBSMSApICogZmFjZURpcmVjdGlvbjsKCQl2ZWMzIHZHcmFkID0gc2lnbiggZkRldCApICogKCBkSGR4eS54ICogUjEgKyBkSGR4eS55ICogUjIgKTsKCQlyZXR1cm4gbm9ybWFsaXplKCBhYnMoIGZEZXQgKSAqIHN1cmZfbm9ybSAtIHZHcmFkICk7Cgl9CiNlbmRpZmAsVDA9YCNpZiBOVU1fQ0xJUFBJTkdfUExBTkVTID4gMAoJdmVjNCBwbGFuZTsKCSNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnQKCWZvciAoIGludCBpID0gMDsgaSA8IFVOSU9OX0NMSVBQSU5HX1BMQU5FUzsgaSArKyApIHsKCQlwbGFuZSA9IGNsaXBwaW5nUGxhbmVzWyBpIF07CgkJaWYgKCBkb3QoIHZDbGlwUG9zaXRpb24sIHBsYW5lLnh5eiApID4gcGxhbmUudyApIGRpc2NhcmQ7Cgl9CgkjcHJhZ21hIHVucm9sbF9sb29wX2VuZAoJI2lmIFVOSU9OX0NMSVBQSU5HX1BMQU5FUyA8IE5VTV9DTElQUElOR19QTEFORVMKCQlib29sIGNsaXBwZWQgPSB0cnVlOwoJCSNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnQKCQlmb3IgKCBpbnQgaSA9IFVOSU9OX0NMSVBQSU5HX1BMQU5FUzsgaSA8IE5VTV9DTElQUElOR19QTEFORVM7IGkgKysgKSB7CgkJCXBsYW5lID0gY2xpcHBpbmdQbGFuZXNbIGkgXTsKCQkJY2xpcHBlZCA9ICggZG90KCB2Q2xpcFBvc2l0aW9uLCBwbGFuZS54eXogKSA+IHBsYW5lLncgKSAmJiBjbGlwcGVkOwoJCX0KCQkjcHJhZ21hIHVucm9sbF9sb29wX2VuZAoJCWlmICggY2xpcHBlZCApIGRpc2NhcmQ7CgkjZW5kaWYKI2VuZGlmYCxBMD1gI2lmIE5VTV9DTElQUElOR19QTEFORVMgPiAwCgl2YXJ5aW5nIHZlYzMgdkNsaXBQb3NpdGlvbjsKCXVuaWZvcm0gdmVjNCBjbGlwcGluZ1BsYW5lc1sgTlVNX0NMSVBQSU5HX1BMQU5FUyBdOwojZW5kaWZgLEMwPWAjaWYgTlVNX0NMSVBQSU5HX1BMQU5FUyA+IDAKCXZhcnlpbmcgdmVjMyB2Q2xpcFBvc2l0aW9uOwojZW5kaWZgLEwwPWAjaWYgTlVNX0NMSVBQSU5HX1BMQU5FUyA+IDAKCXZDbGlwUG9zaXRpb24gPSAtIG12UG9zaXRpb24ueHl6OwojZW5kaWZgLFIwPWAjaWYgZGVmaW5lZCggVVNFX0NPTE9SX0FMUEhBICkKCWRpZmZ1c2VDb2xvciAqPSB2Q29sb3I7CiNlbGlmIGRlZmluZWQoIFVTRV9DT0xPUiApCglkaWZmdXNlQ29sb3IucmdiICo9IHZDb2xvcjsKI2VuZGlmYCxQMD1gI2lmIGRlZmluZWQoIFVTRV9DT0xPUl9BTFBIQSApCgl2YXJ5aW5nIHZlYzQgdkNvbG9yOwojZWxpZiBkZWZpbmVkKCBVU0VfQ09MT1IgKQoJdmFyeWluZyB2ZWMzIHZDb2xvcjsKI2VuZGlmYCxJMD1gI2lmIGRlZmluZWQoIFVTRV9DT0xPUl9BTFBIQSApCgl2YXJ5aW5nIHZlYzQgdkNvbG9yOwojZWxpZiBkZWZpbmVkKCBVU0VfQ09MT1IgKSB8fCBkZWZpbmVkKCBVU0VfSU5TVEFOQ0lOR19DT0xPUiApCgl2YXJ5aW5nIHZlYzMgdkNvbG9yOwojZW5kaWZgLE4wPWAjaWYgZGVmaW5lZCggVVNFX0NPTE9SX0FMUEhBICkKCXZDb2xvciA9IHZlYzQoIDEuMCApOwojZWxpZiBkZWZpbmVkKCBVU0VfQ09MT1IgKSB8fCBkZWZpbmVkKCBVU0VfSU5TVEFOQ0lOR19DT0xPUiApCgl2Q29sb3IgPSB2ZWMzKCAxLjAgKTsKI2VuZGlmCiNpZmRlZiBVU0VfQ09MT1IKCXZDb2xvciAqPSBjb2xvcjsKI2VuZGlmCiNpZmRlZiBVU0VfSU5TVEFOQ0lOR19DT0xPUgoJdkNvbG9yLnh5eiAqPSBpbnN0YW5jZUNvbG9yLnh5ejsKI2VuZGlmYCxEMD1gI2RlZmluZSBQSSAzLjE0MTU5MjY1MzU4OTc5MwojZGVmaW5lIFBJMiA2LjI4MzE4NTMwNzE3OTU4NgojZGVmaW5lIFBJX0hBTEYgMS41NzA3OTYzMjY3OTQ4OTY2CiNkZWZpbmUgUkVDSVBST0NBTF9QSSAwLjMxODMwOTg4NjE4Mzc5MDcKI2RlZmluZSBSRUNJUFJPQ0FMX1BJMiAwLjE1OTE1NDk0MzA5MTg5NTM1CiNkZWZpbmUgRVBTSUxPTiAxZS02CiNpZm5kZWYgc2F0dXJhdGUKI2RlZmluZSBzYXR1cmF0ZSggYSApIGNsYW1wKCBhLCAwLjAsIDEuMCApCiNlbmRpZgojZGVmaW5lIHdoaXRlQ29tcGxlbWVudCggYSApICggMS4wIC0gc2F0dXJhdGUoIGEgKSApCmZsb2F0IHBvdzIoIGNvbnN0IGluIGZsb2F0IHggKSB7IHJldHVybiB4Kng7IH0KZmxvYXQgcG93MyggY29uc3QgaW4gZmxvYXQgeCApIHsgcmV0dXJuIHgqeCp4OyB9CmZsb2F0IHBvdzQoIGNvbnN0IGluIGZsb2F0IHggKSB7IGZsb2F0IHgyID0geCp4OyByZXR1cm4geDIqeDI7IH0KZmxvYXQgbWF4MyggY29uc3QgaW4gdmVjMyB2ICkgeyByZXR1cm4gbWF4KCBtYXgoIHYueCwgdi55ICksIHYueiApOyB9CmZsb2F0IGF2ZXJhZ2UoIGNvbnN0IGluIHZlYzMgY29sb3IgKSB7IHJldHVybiBkb3QoIGNvbG9yLCB2ZWMzKCAwLjMzMzMgKSApOyB9CmhpZ2hwIGZsb2F0IHJhbmQoIGNvbnN0IGluIHZlYzIgdXYgKSB7Cgljb25zdCBoaWdocCBmbG9hdCBhID0gMTIuOTg5OCwgYiA9IDc4LjIzMywgYyA9IDQzNzU4LjU0NTM7CgloaWdocCBmbG9hdCBkdCA9IGRvdCggdXYueHksIHZlYzIoIGEsYiApICksIHNuID0gbW9kKCBkdCwgUEkgKTsKCXJldHVybiBmcmFjdCggc2luKCBzbiApICogYyApOwp9CiNpZmRlZiBISUdIX1BSRUNJU0lPTgoJZmxvYXQgcHJlY2lzaW9uU2FmZUxlbmd0aCggdmVjMyB2ICkgeyByZXR1cm4gbGVuZ3RoKCB2ICk7IH0KI2Vsc2UKCWZsb2F0IHByZWNpc2lvblNhZmVMZW5ndGgoIHZlYzMgdiApIHsKCQlmbG9hdCBtYXhDb21wb25lbnQgPSBtYXgzKCBhYnMoIHYgKSApOwoJCXJldHVybiBsZW5ndGgoIHYgLyBtYXhDb21wb25lbnQgKSAqIG1heENvbXBvbmVudDsKCX0KI2VuZGlmCnN0cnVjdCBJbmNpZGVudExpZ2h0IHsKCXZlYzMgY29sb3I7Cgl2ZWMzIGRpcmVjdGlvbjsKCWJvb2wgdmlzaWJsZTsKfTsKc3RydWN0IFJlZmxlY3RlZExpZ2h0IHsKCXZlYzMgZGlyZWN0RGlmZnVzZTsKCXZlYzMgZGlyZWN0U3BlY3VsYXI7Cgl2ZWMzIGluZGlyZWN0RGlmZnVzZTsKCXZlYzMgaW5kaXJlY3RTcGVjdWxhcjsKfTsKc3RydWN0IEdlb21ldHJpY0NvbnRleHQgewoJdmVjMyBwb3NpdGlvbjsKCXZlYzMgbm9ybWFsOwoJdmVjMyB2aWV3RGlyOwojaWZkZWYgVVNFX0NMRUFSQ09BVAoJdmVjMyBjbGVhcmNvYXROb3JtYWw7CiNlbmRpZgp9Owp2ZWMzIHRyYW5zZm9ybURpcmVjdGlvbiggaW4gdmVjMyBkaXIsIGluIG1hdDQgbWF0cml4ICkgewoJcmV0dXJuIG5vcm1hbGl6ZSggKCBtYXRyaXggKiB2ZWM0KCBkaXIsIDAuMCApICkueHl6ICk7Cn0KdmVjMyBpbnZlcnNlVHJhbnNmb3JtRGlyZWN0aW9uKCBpbiB2ZWMzIGRpciwgaW4gbWF0NCBtYXRyaXggKSB7CglyZXR1cm4gbm9ybWFsaXplKCAoIHZlYzQoIGRpciwgMC4wICkgKiBtYXRyaXggKS54eXogKTsKfQptYXQzIHRyYW5zcG9zZU1hdDMoIGNvbnN0IGluIG1hdDMgbSApIHsKCW1hdDMgdG1wOwoJdG1wWyAwIF0gPSB2ZWMzKCBtWyAwIF0ueCwgbVsgMSBdLngsIG1bIDIgXS54ICk7Cgl0bXBbIDEgXSA9IHZlYzMoIG1bIDAgXS55LCBtWyAxIF0ueSwgbVsgMiBdLnkgKTsKCXRtcFsgMiBdID0gdmVjMyggbVsgMCBdLnosIG1bIDEgXS56LCBtWyAyIF0ueiApOwoJcmV0dXJuIHRtcDsKfQpmbG9hdCBsaW5lYXJUb1JlbGF0aXZlTHVtaW5hbmNlKCBjb25zdCBpbiB2ZWMzIGNvbG9yICkgewoJdmVjMyB3ZWlnaHRzID0gdmVjMyggMC4yMTI2LCAwLjcxNTIsIDAuMDcyMiApOwoJcmV0dXJuIGRvdCggd2VpZ2h0cywgY29sb3IucmdiICk7Cn0KYm9vbCBpc1BlcnNwZWN0aXZlTWF0cml4KCBtYXQ0IG0gKSB7CglyZXR1cm4gbVsgMiBdWyAzIF0gPT0gLSAxLjA7Cn0KdmVjMiBlcXVpcmVjdFV2KCBpbiB2ZWMzIGRpciApIHsKCWZsb2F0IHUgPSBhdGFuKCBkaXIueiwgZGlyLnggKSAqIFJFQ0lQUk9DQUxfUEkyICsgMC41OwoJZmxvYXQgdiA9IGFzaW4oIGNsYW1wKCBkaXIueSwgLSAxLjAsIDEuMCApICkgKiBSRUNJUFJPQ0FMX1BJICsgMC41OwoJcmV0dXJuIHZlYzIoIHUsIHYgKTsKfWAsTzA9YCNpZmRlZiBFTlZNQVBfVFlQRV9DVUJFX1VWCgkjZGVmaW5lIGN1YmVVVl9taW5NaXBMZXZlbCA0LjAKCSNkZWZpbmUgY3ViZVVWX21pblRpbGVTaXplIDE2LjAKCWZsb2F0IGdldEZhY2UoIHZlYzMgZGlyZWN0aW9uICkgewoJCXZlYzMgYWJzRGlyZWN0aW9uID0gYWJzKCBkaXJlY3Rpb24gKTsKCQlmbG9hdCBmYWNlID0gLSAxLjA7CgkJaWYgKCBhYnNEaXJlY3Rpb24ueCA+IGFic0RpcmVjdGlvbi56ICkgewoJCQlpZiAoIGFic0RpcmVjdGlvbi54ID4gYWJzRGlyZWN0aW9uLnkgKQoJCQkJZmFjZSA9IGRpcmVjdGlvbi54ID4gMC4wID8gMC4wIDogMy4wOwoJCQllbHNlCgkJCQlmYWNlID0gZGlyZWN0aW9uLnkgPiAwLjAgPyAxLjAgOiA0LjA7CgkJfSBlbHNlIHsKCQkJaWYgKCBhYnNEaXJlY3Rpb24ueiA+IGFic0RpcmVjdGlvbi55ICkKCQkJCWZhY2UgPSBkaXJlY3Rpb24ueiA+IDAuMCA/IDIuMCA6IDUuMDsKCQkJZWxzZQoJCQkJZmFjZSA9IGRpcmVjdGlvbi55ID4gMC4wID8gMS4wIDogNC4wOwoJCX0KCQlyZXR1cm4gZmFjZTsKCX0KCXZlYzIgZ2V0VVYoIHZlYzMgZGlyZWN0aW9uLCBmbG9hdCBmYWNlICkgewoJCXZlYzIgdXY7CgkJaWYgKCBmYWNlID09IDAuMCApIHsKCQkJdXYgPSB2ZWMyKCBkaXJlY3Rpb24ueiwgZGlyZWN0aW9uLnkgKSAvIGFicyggZGlyZWN0aW9uLnggKTsKCQl9IGVsc2UgaWYgKCBmYWNlID09IDEuMCApIHsKCQkJdXYgPSB2ZWMyKCAtIGRpcmVjdGlvbi54LCAtIGRpcmVjdGlvbi56ICkgLyBhYnMoIGRpcmVjdGlvbi55ICk7CgkJfSBlbHNlIGlmICggZmFjZSA9PSAyLjAgKSB7CgkJCXV2ID0gdmVjMiggLSBkaXJlY3Rpb24ueCwgZGlyZWN0aW9uLnkgKSAvIGFicyggZGlyZWN0aW9uLnogKTsKCQl9IGVsc2UgaWYgKCBmYWNlID09IDMuMCApIHsKCQkJdXYgPSB2ZWMyKCAtIGRpcmVjdGlvbi56LCBkaXJlY3Rpb24ueSApIC8gYWJzKCBkaXJlY3Rpb24ueCApOwoJCX0gZWxzZSBpZiAoIGZhY2UgPT0gNC4wICkgewoJCQl1diA9IHZlYzIoIC0gZGlyZWN0aW9uLngsIGRpcmVjdGlvbi56ICkgLyBhYnMoIGRpcmVjdGlvbi55ICk7CgkJfSBlbHNlIHsKCQkJdXYgPSB2ZWMyKCBkaXJlY3Rpb24ueCwgZGlyZWN0aW9uLnkgKSAvIGFicyggZGlyZWN0aW9uLnogKTsKCQl9CgkJcmV0dXJuIDAuNSAqICggdXYgKyAxLjAgKTsKCX0KCXZlYzMgYmlsaW5lYXJDdWJlVVYoIHNhbXBsZXIyRCBlbnZNYXAsIHZlYzMgZGlyZWN0aW9uLCBmbG9hdCBtaXBJbnQgKSB7CgkJZmxvYXQgZmFjZSA9IGdldEZhY2UoIGRpcmVjdGlvbiApOwoJCWZsb2F0IGZpbHRlckludCA9IG1heCggY3ViZVVWX21pbk1pcExldmVsIC0gbWlwSW50LCAwLjAgKTsKCQltaXBJbnQgPSBtYXgoIG1pcEludCwgY3ViZVVWX21pbk1pcExldmVsICk7CgkJZmxvYXQgZmFjZVNpemUgPSBleHAyKCBtaXBJbnQgKTsKCQl2ZWMyIHV2ID0gZ2V0VVYoIGRpcmVjdGlvbiwgZmFjZSApICogKCBmYWNlU2l6ZSAtIDEuMCApICsgMC41OwoJCWlmICggZmFjZSA+IDIuMCApIHsKCQkJdXYueSArPSBmYWNlU2l6ZTsKCQkJZmFjZSAtPSAzLjA7CgkJfQoJCXV2LnggKz0gZmFjZSAqIGZhY2VTaXplOwoJCXV2LnggKz0gZmlsdGVySW50ICogMy4wICogY3ViZVVWX21pblRpbGVTaXplOwoJCXV2LnkgKz0gNC4wICogKCBleHAyKCBDVUJFVVZfTUFYX01JUCApIC0gZmFjZVNpemUgKTsKCQl1di54ICo9IENVQkVVVl9URVhFTF9XSURUSDsKCQl1di55ICo9IENVQkVVVl9URVhFTF9IRUlHSFQ7CgkJI2lmZGVmIHRleHR1cmUyREdyYWRFWFQKCQkJcmV0dXJuIHRleHR1cmUyREdyYWRFWFQoIGVudk1hcCwgdXYsIHZlYzIoIDAuMCApLCB2ZWMyKCAwLjAgKSApLnJnYjsKCQkjZWxzZQoJCQlyZXR1cm4gdGV4dHVyZTJEKCBlbnZNYXAsIHV2ICkucmdiOwoJCSNlbmRpZgoJfQoJI2RlZmluZSByMCAxLjAKCSNkZWZpbmUgdjAgMC4zMzkKCSNkZWZpbmUgbTAgLSAyLjAKCSNkZWZpbmUgcjEgMC44CgkjZGVmaW5lIHYxIDAuMjc2CgkjZGVmaW5lIG0xIC0gMS4wCgkjZGVmaW5lIHI0IDAuNAoJI2RlZmluZSB2NCAwLjA0NgoJI2RlZmluZSBtNCAyLjAKCSNkZWZpbmUgcjUgMC4zMDUKCSNkZWZpbmUgdjUgMC4wMTYKCSNkZWZpbmUgbTUgMy4wCgkjZGVmaW5lIHI2IDAuMjEKCSNkZWZpbmUgdjYgMC4wMDM4CgkjZGVmaW5lIG02IDQuMAoJZmxvYXQgcm91Z2huZXNzVG9NaXAoIGZsb2F0IHJvdWdobmVzcyApIHsKCQlmbG9hdCBtaXAgPSAwLjA7CgkJaWYgKCByb3VnaG5lc3MgPj0gcjEgKSB7CgkJCW1pcCA9ICggcjAgLSByb3VnaG5lc3MgKSAqICggbTEgLSBtMCApIC8gKCByMCAtIHIxICkgKyBtMDsKCQl9IGVsc2UgaWYgKCByb3VnaG5lc3MgPj0gcjQgKSB7CgkJCW1pcCA9ICggcjEgLSByb3VnaG5lc3MgKSAqICggbTQgLSBtMSApIC8gKCByMSAtIHI0ICkgKyBtMTsKCQl9IGVsc2UgaWYgKCByb3VnaG5lc3MgPj0gcjUgKSB7CgkJCW1pcCA9ICggcjQgLSByb3VnaG5lc3MgKSAqICggbTUgLSBtNCApIC8gKCByNCAtIHI1ICkgKyBtNDsKCQl9IGVsc2UgaWYgKCByb3VnaG5lc3MgPj0gcjYgKSB7CgkJCW1pcCA9ICggcjUgLSByb3VnaG5lc3MgKSAqICggbTYgLSBtNSApIC8gKCByNSAtIHI2ICkgKyBtNTsKCQl9IGVsc2UgewoJCQltaXAgPSAtIDIuMCAqIGxvZzIoIDEuMTYgKiByb3VnaG5lc3MgKTsJCX0KCQlyZXR1cm4gbWlwOwoJfQoJdmVjNCB0ZXh0dXJlQ3ViZVVWKCBzYW1wbGVyMkQgZW52TWFwLCB2ZWMzIHNhbXBsZURpciwgZmxvYXQgcm91Z2huZXNzICkgewoJCWZsb2F0IG1pcCA9IGNsYW1wKCByb3VnaG5lc3NUb01pcCggcm91Z2huZXNzICksIG0wLCBDVUJFVVZfTUFYX01JUCApOwoJCWZsb2F0IG1pcEYgPSBmcmFjdCggbWlwICk7CgkJZmxvYXQgbWlwSW50ID0gZmxvb3IoIG1pcCApOwoJCXZlYzMgY29sb3IwID0gYmlsaW5lYXJDdWJlVVYoIGVudk1hcCwgc2FtcGxlRGlyLCBtaXBJbnQgKTsKCQlpZiAoIG1pcEYgPT0gMC4wICkgewoJCQlyZXR1cm4gdmVjNCggY29sb3IwLCAxLjAgKTsKCQl9IGVsc2UgewoJCQl2ZWMzIGNvbG9yMSA9IGJpbGluZWFyQ3ViZVVWKCBlbnZNYXAsIHNhbXBsZURpciwgbWlwSW50ICsgMS4wICk7CgkJCXJldHVybiB2ZWM0KCBtaXgoIGNvbG9yMCwgY29sb3IxLCBtaXBGICksIDEuMCApOwoJCX0KCX0KI2VuZGlmYCx6MD1gdmVjMyB0cmFuc2Zvcm1lZE5vcm1hbCA9IG9iamVjdE5vcm1hbDsKI2lmZGVmIFVTRV9JTlNUQU5DSU5HCgltYXQzIG0gPSBtYXQzKCBpbnN0YW5jZU1hdHJpeCApOwoJdHJhbnNmb3JtZWROb3JtYWwgLz0gdmVjMyggZG90KCBtWyAwIF0sIG1bIDAgXSApLCBkb3QoIG1bIDEgXSwgbVsgMSBdICksIGRvdCggbVsgMiBdLCBtWyAyIF0gKSApOwoJdHJhbnNmb3JtZWROb3JtYWwgPSBtICogdHJhbnNmb3JtZWROb3JtYWw7CiNlbmRpZgp0cmFuc2Zvcm1lZE5vcm1hbCA9IG5vcm1hbE1hdHJpeCAqIHRyYW5zZm9ybWVkTm9ybWFsOwojaWZkZWYgRkxJUF9TSURFRAoJdHJhbnNmb3JtZWROb3JtYWwgPSAtIHRyYW5zZm9ybWVkTm9ybWFsOwojZW5kaWYKI2lmZGVmIFVTRV9UQU5HRU5UCgl2ZWMzIHRyYW5zZm9ybWVkVGFuZ2VudCA9ICggbW9kZWxWaWV3TWF0cml4ICogdmVjNCggb2JqZWN0VGFuZ2VudCwgMC4wICkgKS54eXo7CgkjaWZkZWYgRkxJUF9TSURFRAoJCXRyYW5zZm9ybWVkVGFuZ2VudCA9IC0gdHJhbnNmb3JtZWRUYW5nZW50OwoJI2VuZGlmCiNlbmRpZmAsQjA9YCNpZmRlZiBVU0VfRElTUExBQ0VNRU5UTUFQCgl1bmlmb3JtIHNhbXBsZXIyRCBkaXNwbGFjZW1lbnRNYXA7Cgl1bmlmb3JtIGZsb2F0IGRpc3BsYWNlbWVudFNjYWxlOwoJdW5pZm9ybSBmbG9hdCBkaXNwbGFjZW1lbnRCaWFzOwojZW5kaWZgLFUwPWAjaWZkZWYgVVNFX0RJU1BMQUNFTUVOVE1BUAoJdHJhbnNmb3JtZWQgKz0gbm9ybWFsaXplKCBvYmplY3ROb3JtYWwgKSAqICggdGV4dHVyZTJEKCBkaXNwbGFjZW1lbnRNYXAsIHZVdiApLnggKiBkaXNwbGFjZW1lbnRTY2FsZSArIGRpc3BsYWNlbWVudEJpYXMgKTsKI2VuZGlmYCxGMD1gI2lmZGVmIFVTRV9FTUlTU0lWRU1BUAoJdmVjNCBlbWlzc2l2ZUNvbG9yID0gdGV4dHVyZTJEKCBlbWlzc2l2ZU1hcCwgdlV2ICk7Cgl0b3RhbEVtaXNzaXZlUmFkaWFuY2UgKj0gZW1pc3NpdmVDb2xvci5yZ2I7CiNlbmRpZmAsSDA9YCNpZmRlZiBVU0VfRU1JU1NJVkVNQVAKCXVuaWZvcm0gc2FtcGxlcjJEIGVtaXNzaXZlTWFwOwojZW5kaWZgLGswPSJnbF9GcmFnQ29sb3IgPSBsaW5lYXJUb091dHB1dFRleGVsKCBnbF9GcmFnQ29sb3IgKTsiLEcwPWB2ZWM0IExpbmVhclRvTGluZWFyKCBpbiB2ZWM0IHZhbHVlICkgewoJcmV0dXJuIHZhbHVlOwp9CnZlYzQgTGluZWFyVG9zUkdCKCBpbiB2ZWM0IHZhbHVlICkgewoJcmV0dXJuIHZlYzQoIG1peCggcG93KCB2YWx1ZS5yZ2IsIHZlYzMoIDAuNDE2NjYgKSApICogMS4wNTUgLSB2ZWMzKCAwLjA1NSApLCB2YWx1ZS5yZ2IgKiAxMi45MiwgdmVjMyggbGVzc1RoYW5FcXVhbCggdmFsdWUucmdiLCB2ZWMzKCAwLjAwMzEzMDggKSApICkgKSwgdmFsdWUuYSApOwp9YCxWMD1gI2lmZGVmIFVTRV9FTlZNQVAKCSNpZmRlZiBFTlZfV09STERQT1MKCQl2ZWMzIGNhbWVyYVRvRnJhZzsKCQlpZiAoIGlzT3J0aG9ncmFwaGljICkgewoJCQljYW1lcmFUb0ZyYWcgPSBub3JtYWxpemUoIHZlYzMoIC0gdmlld01hdHJpeFsgMCBdWyAyIF0sIC0gdmlld01hdHJpeFsgMSBdWyAyIF0sIC0gdmlld01hdHJpeFsgMiBdWyAyIF0gKSApOwoJCX0gZWxzZSB7CgkJCWNhbWVyYVRvRnJhZyA9IG5vcm1hbGl6ZSggdldvcmxkUG9zaXRpb24gLSBjYW1lcmFQb3NpdGlvbiApOwoJCX0KCQl2ZWMzIHdvcmxkTm9ybWFsID0gaW52ZXJzZVRyYW5zZm9ybURpcmVjdGlvbiggbm9ybWFsLCB2aWV3TWF0cml4ICk7CgkJI2lmZGVmIEVOVk1BUF9NT0RFX1JFRkxFQ1RJT04KCQkJdmVjMyByZWZsZWN0VmVjID0gcmVmbGVjdCggY2FtZXJhVG9GcmFnLCB3b3JsZE5vcm1hbCApOwoJCSNlbHNlCgkJCXZlYzMgcmVmbGVjdFZlYyA9IHJlZnJhY3QoIGNhbWVyYVRvRnJhZywgd29ybGROb3JtYWwsIHJlZnJhY3Rpb25SYXRpbyApOwoJCSNlbmRpZgoJI2Vsc2UKCQl2ZWMzIHJlZmxlY3RWZWMgPSB2UmVmbGVjdDsKCSNlbmRpZgoJI2lmZGVmIEVOVk1BUF9UWVBFX0NVQkUKCQl2ZWM0IGVudkNvbG9yID0gdGV4dHVyZUN1YmUoIGVudk1hcCwgdmVjMyggZmxpcEVudk1hcCAqIHJlZmxlY3RWZWMueCwgcmVmbGVjdFZlYy55eiApICk7CgkjZWxpZiBkZWZpbmVkKCBFTlZNQVBfVFlQRV9DVUJFX1VWICkKCQl2ZWM0IGVudkNvbG9yID0gdGV4dHVyZUN1YmVVViggZW52TWFwLCByZWZsZWN0VmVjLCAwLjAgKTsKCSNlbHNlCgkJdmVjNCBlbnZDb2xvciA9IHZlYzQoIDAuMCApOwoJI2VuZGlmCgkjaWZkZWYgRU5WTUFQX0JMRU5ESU5HX01VTFRJUExZCgkJb3V0Z29pbmdMaWdodCA9IG1peCggb3V0Z29pbmdMaWdodCwgb3V0Z29pbmdMaWdodCAqIGVudkNvbG9yLnh5eiwgc3BlY3VsYXJTdHJlbmd0aCAqIHJlZmxlY3Rpdml0eSApOwoJI2VsaWYgZGVmaW5lZCggRU5WTUFQX0JMRU5ESU5HX01JWCApCgkJb3V0Z29pbmdMaWdodCA9IG1peCggb3V0Z29pbmdMaWdodCwgZW52Q29sb3IueHl6LCBzcGVjdWxhclN0cmVuZ3RoICogcmVmbGVjdGl2aXR5ICk7CgkjZWxpZiBkZWZpbmVkKCBFTlZNQVBfQkxFTkRJTkdfQUREICkKCQlvdXRnb2luZ0xpZ2h0ICs9IGVudkNvbG9yLnh5eiAqIHNwZWN1bGFyU3RyZW5ndGggKiByZWZsZWN0aXZpdHk7CgkjZW5kaWYKI2VuZGlmYCxXMD1gI2lmZGVmIFVTRV9FTlZNQVAKCXVuaWZvcm0gZmxvYXQgZW52TWFwSW50ZW5zaXR5OwoJdW5pZm9ybSBmbG9hdCBmbGlwRW52TWFwOwoJI2lmZGVmIEVOVk1BUF9UWVBFX0NVQkUKCQl1bmlmb3JtIHNhbXBsZXJDdWJlIGVudk1hcDsKCSNlbHNlCgkJdW5pZm9ybSBzYW1wbGVyMkQgZW52TWFwOwoJI2VuZGlmCgkKI2VuZGlmYCxqMD1gI2lmZGVmIFVTRV9FTlZNQVAKCXVuaWZvcm0gZmxvYXQgcmVmbGVjdGl2aXR5OwoJI2lmIGRlZmluZWQoIFVTRV9CVU1QTUFQICkgfHwgZGVmaW5lZCggVVNFX05PUk1BTE1BUCApIHx8IGRlZmluZWQoIFBIT05HICkKCQkjZGVmaW5lIEVOVl9XT1JMRFBPUwoJI2VuZGlmCgkjaWZkZWYgRU5WX1dPUkxEUE9TCgkJdmFyeWluZyB2ZWMzIHZXb3JsZFBvc2l0aW9uOwoJCXVuaWZvcm0gZmxvYXQgcmVmcmFjdGlvblJhdGlvOwoJI2Vsc2UKCQl2YXJ5aW5nIHZlYzMgdlJlZmxlY3Q7CgkjZW5kaWYKI2VuZGlmYCxxMD1gI2lmZGVmIFVTRV9FTlZNQVAKCSNpZiBkZWZpbmVkKCBVU0VfQlVNUE1BUCApIHx8IGRlZmluZWQoIFVTRV9OT1JNQUxNQVAgKSB8fGRlZmluZWQoIFBIT05HICkKCQkjZGVmaW5lIEVOVl9XT1JMRFBPUwoJI2VuZGlmCgkjaWZkZWYgRU5WX1dPUkxEUE9TCgkJCgkJdmFyeWluZyB2ZWMzIHZXb3JsZFBvc2l0aW9uOwoJI2Vsc2UKCQl2YXJ5aW5nIHZlYzMgdlJlZmxlY3Q7CgkJdW5pZm9ybSBmbG9hdCByZWZyYWN0aW9uUmF0aW87CgkjZW5kaWYKI2VuZGlmYCxYMD1gI2lmZGVmIFVTRV9FTlZNQVAKCSNpZmRlZiBFTlZfV09STERQT1MKCQl2V29ybGRQb3NpdGlvbiA9IHdvcmxkUG9zaXRpb24ueHl6OwoJI2Vsc2UKCQl2ZWMzIGNhbWVyYVRvVmVydGV4OwoJCWlmICggaXNPcnRob2dyYXBoaWMgKSB7CgkJCWNhbWVyYVRvVmVydGV4ID0gbm9ybWFsaXplKCB2ZWMzKCAtIHZpZXdNYXRyaXhbIDAgXVsgMiBdLCAtIHZpZXdNYXRyaXhbIDEgXVsgMiBdLCAtIHZpZXdNYXRyaXhbIDIgXVsgMiBdICkgKTsKCQl9IGVsc2UgewoJCQljYW1lcmFUb1ZlcnRleCA9IG5vcm1hbGl6ZSggd29ybGRQb3NpdGlvbi54eXogLSBjYW1lcmFQb3NpdGlvbiApOwoJCX0KCQl2ZWMzIHdvcmxkTm9ybWFsID0gaW52ZXJzZVRyYW5zZm9ybURpcmVjdGlvbiggdHJhbnNmb3JtZWROb3JtYWwsIHZpZXdNYXRyaXggKTsKCQkjaWZkZWYgRU5WTUFQX01PREVfUkVGTEVDVElPTgoJCQl2UmVmbGVjdCA9IHJlZmxlY3QoIGNhbWVyYVRvVmVydGV4LCB3b3JsZE5vcm1hbCApOwoJCSNlbHNlCgkJCXZSZWZsZWN0ID0gcmVmcmFjdCggY2FtZXJhVG9WZXJ0ZXgsIHdvcmxkTm9ybWFsLCByZWZyYWN0aW9uUmF0aW8gKTsKCQkjZW5kaWYKCSNlbmRpZgojZW5kaWZgLEowPWAjaWZkZWYgVVNFX0ZPRwoJdkZvZ0RlcHRoID0gLSBtdlBvc2l0aW9uLno7CiNlbmRpZmAsWTA9YCNpZmRlZiBVU0VfRk9HCgl2YXJ5aW5nIGZsb2F0IHZGb2dEZXB0aDsKI2VuZGlmYCxaMD1gI2lmZGVmIFVTRV9GT0cKCSNpZmRlZiBGT0dfRVhQMgoJCWZsb2F0IGZvZ0ZhY3RvciA9IDEuMCAtIGV4cCggLSBmb2dEZW5zaXR5ICogZm9nRGVuc2l0eSAqIHZGb2dEZXB0aCAqIHZGb2dEZXB0aCApOwoJI2Vsc2UKCQlmbG9hdCBmb2dGYWN0b3IgPSBzbW9vdGhzdGVwKCBmb2dOZWFyLCBmb2dGYXIsIHZGb2dEZXB0aCApOwoJI2VuZGlmCglnbF9GcmFnQ29sb3IucmdiID0gbWl4KCBnbF9GcmFnQ29sb3IucmdiLCBmb2dDb2xvciwgZm9nRmFjdG9yICk7CiNlbmRpZmAsSzA9YCNpZmRlZiBVU0VfRk9HCgl1bmlmb3JtIHZlYzMgZm9nQ29sb3I7Cgl2YXJ5aW5nIGZsb2F0IHZGb2dEZXB0aDsKCSNpZmRlZiBGT0dfRVhQMgoJCXVuaWZvcm0gZmxvYXQgZm9nRGVuc2l0eTsKCSNlbHNlCgkJdW5pZm9ybSBmbG9hdCBmb2dOZWFyOwoJCXVuaWZvcm0gZmxvYXQgZm9nRmFyOwoJI2VuZGlmCiNlbmRpZmAsUTA9YCNpZmRlZiBVU0VfR1JBRElFTlRNQVAKCXVuaWZvcm0gc2FtcGxlcjJEIGdyYWRpZW50TWFwOwojZW5kaWYKdmVjMyBnZXRHcmFkaWVudElycmFkaWFuY2UoIHZlYzMgbm9ybWFsLCB2ZWMzIGxpZ2h0RGlyZWN0aW9uICkgewoJZmxvYXQgZG90TkwgPSBkb3QoIG5vcm1hbCwgbGlnaHREaXJlY3Rpb24gKTsKCXZlYzIgY29vcmQgPSB2ZWMyKCBkb3ROTCAqIDAuNSArIDAuNSwgMC4wICk7CgkjaWZkZWYgVVNFX0dSQURJRU5UTUFQCgkJcmV0dXJuIHZlYzMoIHRleHR1cmUyRCggZ3JhZGllbnRNYXAsIGNvb3JkICkuciApOwoJI2Vsc2UKCQlyZXR1cm4gKCBjb29yZC54IDwgMC43ICkgPyB2ZWMzKCAwLjcgKSA6IHZlYzMoIDEuMCApOwoJI2VuZGlmCn1gLCQwPWAjaWZkZWYgVVNFX0xJR0hUTUFQCgl2ZWM0IGxpZ2h0TWFwVGV4ZWwgPSB0ZXh0dXJlMkQoIGxpZ2h0TWFwLCB2VXYyICk7Cgl2ZWMzIGxpZ2h0TWFwSXJyYWRpYW5jZSA9IGxpZ2h0TWFwVGV4ZWwucmdiICogbGlnaHRNYXBJbnRlbnNpdHk7CglyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKz0gbGlnaHRNYXBJcnJhZGlhbmNlOwojZW5kaWZgLGV2PWAjaWZkZWYgVVNFX0xJR0hUTUFQCgl1bmlmb3JtIHNhbXBsZXIyRCBsaWdodE1hcDsKCXVuaWZvcm0gZmxvYXQgbGlnaHRNYXBJbnRlbnNpdHk7CiNlbmRpZmAsdHY9YHZlYzMgZGlmZnVzZSA9IHZlYzMoIDEuMCApOwpHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5OwpnZW9tZXRyeS5wb3NpdGlvbiA9IG12UG9zaXRpb24ueHl6OwpnZW9tZXRyeS5ub3JtYWwgPSBub3JtYWxpemUoIHRyYW5zZm9ybWVkTm9ybWFsICk7Cmdlb21ldHJ5LnZpZXdEaXIgPSAoIGlzT3J0aG9ncmFwaGljICkgPyB2ZWMzKCAwLCAwLCAxICkgOiBub3JtYWxpemUoIC1tdlBvc2l0aW9uLnh5eiApOwpHZW9tZXRyaWNDb250ZXh0IGJhY2tHZW9tZXRyeTsKYmFja0dlb21ldHJ5LnBvc2l0aW9uID0gZ2VvbWV0cnkucG9zaXRpb247CmJhY2tHZW9tZXRyeS5ub3JtYWwgPSAtZ2VvbWV0cnkubm9ybWFsOwpiYWNrR2VvbWV0cnkudmlld0RpciA9IGdlb21ldHJ5LnZpZXdEaXI7CnZMaWdodEZyb250ID0gdmVjMyggMC4wICk7CnZJbmRpcmVjdEZyb250ID0gdmVjMyggMC4wICk7CiNpZmRlZiBET1VCTEVfU0lERUQKCXZMaWdodEJhY2sgPSB2ZWMzKCAwLjAgKTsKCXZJbmRpcmVjdEJhY2sgPSB2ZWMzKCAwLjAgKTsKI2VuZGlmCkluY2lkZW50TGlnaHQgZGlyZWN0TGlnaHQ7CmZsb2F0IGRvdE5MOwp2ZWMzIGRpcmVjdExpZ2h0Q29sb3JfRGlmZnVzZTsKdkluZGlyZWN0RnJvbnQgKz0gZ2V0QW1iaWVudExpZ2h0SXJyYWRpYW5jZSggYW1iaWVudExpZ2h0Q29sb3IgKTsKdkluZGlyZWN0RnJvbnQgKz0gZ2V0TGlnaHRQcm9iZUlycmFkaWFuY2UoIGxpZ2h0UHJvYmUsIGdlb21ldHJ5Lm5vcm1hbCApOwojaWZkZWYgRE9VQkxFX1NJREVECgl2SW5kaXJlY3RCYWNrICs9IGdldEFtYmllbnRMaWdodElycmFkaWFuY2UoIGFtYmllbnRMaWdodENvbG9yICk7Cgl2SW5kaXJlY3RCYWNrICs9IGdldExpZ2h0UHJvYmVJcnJhZGlhbmNlKCBsaWdodFByb2JlLCBiYWNrR2VvbWV0cnkubm9ybWFsICk7CiNlbmRpZgojaWYgTlVNX1BPSU5UX0xJR0hUUyA+IDAKCSNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnQKCWZvciAoIGludCBpID0gMDsgaSA8IE5VTV9QT0lOVF9MSUdIVFM7IGkgKysgKSB7CgkJZ2V0UG9pbnRMaWdodEluZm8oIHBvaW50TGlnaHRzWyBpIF0sIGdlb21ldHJ5LCBkaXJlY3RMaWdodCApOwoJCWRvdE5MID0gZG90KCBnZW9tZXRyeS5ub3JtYWwsIGRpcmVjdExpZ2h0LmRpcmVjdGlvbiApOwoJCWRpcmVjdExpZ2h0Q29sb3JfRGlmZnVzZSA9IGRpcmVjdExpZ2h0LmNvbG9yOwoJCXZMaWdodEZyb250ICs9IHNhdHVyYXRlKCBkb3ROTCApICogZGlyZWN0TGlnaHRDb2xvcl9EaWZmdXNlOwoJCSNpZmRlZiBET1VCTEVfU0lERUQKCQkJdkxpZ2h0QmFjayArPSBzYXR1cmF0ZSggLSBkb3ROTCApICogZGlyZWN0TGlnaHRDb2xvcl9EaWZmdXNlOwoJCSNlbmRpZgoJfQoJI3ByYWdtYSB1bnJvbGxfbG9vcF9lbmQKI2VuZGlmCiNpZiBOVU1fU1BPVF9MSUdIVFMgPiAwCgkjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0Cglmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fU1BPVF9MSUdIVFM7IGkgKysgKSB7CgkJZ2V0U3BvdExpZ2h0SW5mbyggc3BvdExpZ2h0c1sgaSBdLCBnZW9tZXRyeSwgZGlyZWN0TGlnaHQgKTsKCQlkb3ROTCA9IGRvdCggZ2VvbWV0cnkubm9ybWFsLCBkaXJlY3RMaWdodC5kaXJlY3Rpb24gKTsKCQlkaXJlY3RMaWdodENvbG9yX0RpZmZ1c2UgPSBkaXJlY3RMaWdodC5jb2xvcjsKCQl2TGlnaHRGcm9udCArPSBzYXR1cmF0ZSggZG90TkwgKSAqIGRpcmVjdExpZ2h0Q29sb3JfRGlmZnVzZTsKCQkjaWZkZWYgRE9VQkxFX1NJREVECgkJCXZMaWdodEJhY2sgKz0gc2F0dXJhdGUoIC0gZG90TkwgKSAqIGRpcmVjdExpZ2h0Q29sb3JfRGlmZnVzZTsKCQkjZW5kaWYKCX0KCSNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kCiNlbmRpZgojaWYgTlVNX0RJUl9MSUdIVFMgPiAwCgkjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0Cglmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fRElSX0xJR0hUUzsgaSArKyApIHsKCQlnZXREaXJlY3Rpb25hbExpZ2h0SW5mbyggZGlyZWN0aW9uYWxMaWdodHNbIGkgXSwgZ2VvbWV0cnksIGRpcmVjdExpZ2h0ICk7CgkJZG90TkwgPSBkb3QoIGdlb21ldHJ5Lm5vcm1hbCwgZGlyZWN0TGlnaHQuZGlyZWN0aW9uICk7CgkJZGlyZWN0TGlnaHRDb2xvcl9EaWZmdXNlID0gZGlyZWN0TGlnaHQuY29sb3I7CgkJdkxpZ2h0RnJvbnQgKz0gc2F0dXJhdGUoIGRvdE5MICkgKiBkaXJlY3RMaWdodENvbG9yX0RpZmZ1c2U7CgkJI2lmZGVmIERPVUJMRV9TSURFRAoJCQl2TGlnaHRCYWNrICs9IHNhdHVyYXRlKCAtIGRvdE5MICkgKiBkaXJlY3RMaWdodENvbG9yX0RpZmZ1c2U7CgkJI2VuZGlmCgl9CgkjcHJhZ21hIHVucm9sbF9sb29wX2VuZAojZW5kaWYKI2lmIE5VTV9IRU1JX0xJR0hUUyA+IDAKCSNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnQKCWZvciAoIGludCBpID0gMDsgaSA8IE5VTV9IRU1JX0xJR0hUUzsgaSArKyApIHsKCQl2SW5kaXJlY3RGcm9udCArPSBnZXRIZW1pc3BoZXJlTGlnaHRJcnJhZGlhbmNlKCBoZW1pc3BoZXJlTGlnaHRzWyBpIF0sIGdlb21ldHJ5Lm5vcm1hbCApOwoJCSNpZmRlZiBET1VCTEVfU0lERUQKCQkJdkluZGlyZWN0QmFjayArPSBnZXRIZW1pc3BoZXJlTGlnaHRJcnJhZGlhbmNlKCBoZW1pc3BoZXJlTGlnaHRzWyBpIF0sIGJhY2tHZW9tZXRyeS5ub3JtYWwgKTsKCQkjZW5kaWYKCX0KCSNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kCiNlbmRpZmAsaXY9YHVuaWZvcm0gYm9vbCByZWNlaXZlU2hhZG93Owp1bmlmb3JtIHZlYzMgYW1iaWVudExpZ2h0Q29sb3I7CnVuaWZvcm0gdmVjMyBsaWdodFByb2JlWyA5IF07CnZlYzMgc2hHZXRJcnJhZGlhbmNlQXQoIGluIHZlYzMgbm9ybWFsLCBpbiB2ZWMzIHNoQ29lZmZpY2llbnRzWyA5IF0gKSB7CglmbG9hdCB4ID0gbm9ybWFsLngsIHkgPSBub3JtYWwueSwgeiA9IG5vcm1hbC56OwoJdmVjMyByZXN1bHQgPSBzaENvZWZmaWNpZW50c1sgMCBdICogMC44ODYyMjc7CglyZXN1bHQgKz0gc2hDb2VmZmljaWVudHNbIDEgXSAqIDIuMCAqIDAuNTExNjY0ICogeTsKCXJlc3VsdCArPSBzaENvZWZmaWNpZW50c1sgMiBdICogMi4wICogMC41MTE2NjQgKiB6OwoJcmVzdWx0ICs9IHNoQ29lZmZpY2llbnRzWyAzIF0gKiAyLjAgKiAwLjUxMTY2NCAqIHg7CglyZXN1bHQgKz0gc2hDb2VmZmljaWVudHNbIDQgXSAqIDIuMCAqIDAuNDI5MDQzICogeCAqIHk7CglyZXN1bHQgKz0gc2hDb2VmZmljaWVudHNbIDUgXSAqIDIuMCAqIDAuNDI5MDQzICogeSAqIHo7CglyZXN1bHQgKz0gc2hDb2VmZmljaWVudHNbIDYgXSAqICggMC43NDMxMjUgKiB6ICogeiAtIDAuMjQ3NzA4ICk7CglyZXN1bHQgKz0gc2hDb2VmZmljaWVudHNbIDcgXSAqIDIuMCAqIDAuNDI5MDQzICogeCAqIHo7CglyZXN1bHQgKz0gc2hDb2VmZmljaWVudHNbIDggXSAqIDAuNDI5MDQzICogKCB4ICogeCAtIHkgKiB5ICk7CglyZXR1cm4gcmVzdWx0Owp9CnZlYzMgZ2V0TGlnaHRQcm9iZUlycmFkaWFuY2UoIGNvbnN0IGluIHZlYzMgbGlnaHRQcm9iZVsgOSBdLCBjb25zdCBpbiB2ZWMzIG5vcm1hbCApIHsKCXZlYzMgd29ybGROb3JtYWwgPSBpbnZlcnNlVHJhbnNmb3JtRGlyZWN0aW9uKCBub3JtYWwsIHZpZXdNYXRyaXggKTsKCXZlYzMgaXJyYWRpYW5jZSA9IHNoR2V0SXJyYWRpYW5jZUF0KCB3b3JsZE5vcm1hbCwgbGlnaHRQcm9iZSApOwoJcmV0dXJuIGlycmFkaWFuY2U7Cn0KdmVjMyBnZXRBbWJpZW50TGlnaHRJcnJhZGlhbmNlKCBjb25zdCBpbiB2ZWMzIGFtYmllbnRMaWdodENvbG9yICkgewoJdmVjMyBpcnJhZGlhbmNlID0gYW1iaWVudExpZ2h0Q29sb3I7CglyZXR1cm4gaXJyYWRpYW5jZTsKfQpmbG9hdCBnZXREaXN0YW5jZUF0dGVudWF0aW9uKCBjb25zdCBpbiBmbG9hdCBsaWdodERpc3RhbmNlLCBjb25zdCBpbiBmbG9hdCBjdXRvZmZEaXN0YW5jZSwgY29uc3QgaW4gZmxvYXQgZGVjYXlFeHBvbmVudCApIHsKCSNpZiBkZWZpbmVkICggUEhZU0lDQUxMWV9DT1JSRUNUX0xJR0hUUyApCgkJZmxvYXQgZGlzdGFuY2VGYWxsb2ZmID0gMS4wIC8gbWF4KCBwb3coIGxpZ2h0RGlzdGFuY2UsIGRlY2F5RXhwb25lbnQgKSwgMC4wMSApOwoJCWlmICggY3V0b2ZmRGlzdGFuY2UgPiAwLjAgKSB7CgkJCWRpc3RhbmNlRmFsbG9mZiAqPSBwb3cyKCBzYXR1cmF0ZSggMS4wIC0gcG93NCggbGlnaHREaXN0YW5jZSAvIGN1dG9mZkRpc3RhbmNlICkgKSApOwoJCX0KCQlyZXR1cm4gZGlzdGFuY2VGYWxsb2ZmOwoJI2Vsc2UKCQlpZiAoIGN1dG9mZkRpc3RhbmNlID4gMC4wICYmIGRlY2F5RXhwb25lbnQgPiAwLjAgKSB7CgkJCXJldHVybiBwb3coIHNhdHVyYXRlKCAtIGxpZ2h0RGlzdGFuY2UgLyBjdXRvZmZEaXN0YW5jZSArIDEuMCApLCBkZWNheUV4cG9uZW50ICk7CgkJfQoJCXJldHVybiAxLjA7CgkjZW5kaWYKfQpmbG9hdCBnZXRTcG90QXR0ZW51YXRpb24oIGNvbnN0IGluIGZsb2F0IGNvbmVDb3NpbmUsIGNvbnN0IGluIGZsb2F0IHBlbnVtYnJhQ29zaW5lLCBjb25zdCBpbiBmbG9hdCBhbmdsZUNvc2luZSApIHsKCXJldHVybiBzbW9vdGhzdGVwKCBjb25lQ29zaW5lLCBwZW51bWJyYUNvc2luZSwgYW5nbGVDb3NpbmUgKTsKfQojaWYgTlVNX0RJUl9MSUdIVFMgPiAwCglzdHJ1Y3QgRGlyZWN0aW9uYWxMaWdodCB7CgkJdmVjMyBkaXJlY3Rpb247CgkJdmVjMyBjb2xvcjsKCX07Cgl1bmlmb3JtIERpcmVjdGlvbmFsTGlnaHQgZGlyZWN0aW9uYWxMaWdodHNbIE5VTV9ESVJfTElHSFRTIF07Cgl2b2lkIGdldERpcmVjdGlvbmFsTGlnaHRJbmZvKCBjb25zdCBpbiBEaXJlY3Rpb25hbExpZ2h0IGRpcmVjdGlvbmFsTGlnaHQsIGNvbnN0IGluIEdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnksIG91dCBJbmNpZGVudExpZ2h0IGxpZ2h0ICkgewoJCWxpZ2h0LmNvbG9yID0gZGlyZWN0aW9uYWxMaWdodC5jb2xvcjsKCQlsaWdodC5kaXJlY3Rpb24gPSBkaXJlY3Rpb25hbExpZ2h0LmRpcmVjdGlvbjsKCQlsaWdodC52aXNpYmxlID0gdHJ1ZTsKCX0KI2VuZGlmCiNpZiBOVU1fUE9JTlRfTElHSFRTID4gMAoJc3RydWN0IFBvaW50TGlnaHQgewoJCXZlYzMgcG9zaXRpb247CgkJdmVjMyBjb2xvcjsKCQlmbG9hdCBkaXN0YW5jZTsKCQlmbG9hdCBkZWNheTsKCX07Cgl1bmlmb3JtIFBvaW50TGlnaHQgcG9pbnRMaWdodHNbIE5VTV9QT0lOVF9MSUdIVFMgXTsKCXZvaWQgZ2V0UG9pbnRMaWdodEluZm8oIGNvbnN0IGluIFBvaW50TGlnaHQgcG9pbnRMaWdodCwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgb3V0IEluY2lkZW50TGlnaHQgbGlnaHQgKSB7CgkJdmVjMyBsVmVjdG9yID0gcG9pbnRMaWdodC5wb3NpdGlvbiAtIGdlb21ldHJ5LnBvc2l0aW9uOwoJCWxpZ2h0LmRpcmVjdGlvbiA9IG5vcm1hbGl6ZSggbFZlY3RvciApOwoJCWZsb2F0IGxpZ2h0RGlzdGFuY2UgPSBsZW5ndGgoIGxWZWN0b3IgKTsKCQlsaWdodC5jb2xvciA9IHBvaW50TGlnaHQuY29sb3I7CgkJbGlnaHQuY29sb3IgKj0gZ2V0RGlzdGFuY2VBdHRlbnVhdGlvbiggbGlnaHREaXN0YW5jZSwgcG9pbnRMaWdodC5kaXN0YW5jZSwgcG9pbnRMaWdodC5kZWNheSApOwoJCWxpZ2h0LnZpc2libGUgPSAoIGxpZ2h0LmNvbG9yICE9IHZlYzMoIDAuMCApICk7Cgl9CiNlbmRpZgojaWYgTlVNX1NQT1RfTElHSFRTID4gMAoJc3RydWN0IFNwb3RMaWdodCB7CgkJdmVjMyBwb3NpdGlvbjsKCQl2ZWMzIGRpcmVjdGlvbjsKCQl2ZWMzIGNvbG9yOwoJCWZsb2F0IGRpc3RhbmNlOwoJCWZsb2F0IGRlY2F5OwoJCWZsb2F0IGNvbmVDb3M7CgkJZmxvYXQgcGVudW1icmFDb3M7Cgl9OwoJdW5pZm9ybSBTcG90TGlnaHQgc3BvdExpZ2h0c1sgTlVNX1NQT1RfTElHSFRTIF07Cgl2b2lkIGdldFNwb3RMaWdodEluZm8oIGNvbnN0IGluIFNwb3RMaWdodCBzcG90TGlnaHQsIGNvbnN0IGluIEdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnksIG91dCBJbmNpZGVudExpZ2h0IGxpZ2h0ICkgewoJCXZlYzMgbFZlY3RvciA9IHNwb3RMaWdodC5wb3NpdGlvbiAtIGdlb21ldHJ5LnBvc2l0aW9uOwoJCWxpZ2h0LmRpcmVjdGlvbiA9IG5vcm1hbGl6ZSggbFZlY3RvciApOwoJCWZsb2F0IGFuZ2xlQ29zID0gZG90KCBsaWdodC5kaXJlY3Rpb24sIHNwb3RMaWdodC5kaXJlY3Rpb24gKTsKCQlmbG9hdCBzcG90QXR0ZW51YXRpb24gPSBnZXRTcG90QXR0ZW51YXRpb24oIHNwb3RMaWdodC5jb25lQ29zLCBzcG90TGlnaHQucGVudW1icmFDb3MsIGFuZ2xlQ29zICk7CgkJaWYgKCBzcG90QXR0ZW51YXRpb24gPiAwLjAgKSB7CgkJCWZsb2F0IGxpZ2h0RGlzdGFuY2UgPSBsZW5ndGgoIGxWZWN0b3IgKTsKCQkJbGlnaHQuY29sb3IgPSBzcG90TGlnaHQuY29sb3IgKiBzcG90QXR0ZW51YXRpb247CgkJCWxpZ2h0LmNvbG9yICo9IGdldERpc3RhbmNlQXR0ZW51YXRpb24oIGxpZ2h0RGlzdGFuY2UsIHNwb3RMaWdodC5kaXN0YW5jZSwgc3BvdExpZ2h0LmRlY2F5ICk7CgkJCWxpZ2h0LnZpc2libGUgPSAoIGxpZ2h0LmNvbG9yICE9IHZlYzMoIDAuMCApICk7CgkJfSBlbHNlIHsKCQkJbGlnaHQuY29sb3IgPSB2ZWMzKCAwLjAgKTsKCQkJbGlnaHQudmlzaWJsZSA9IGZhbHNlOwoJCX0KCX0KI2VuZGlmCiNpZiBOVU1fUkVDVF9BUkVBX0xJR0hUUyA+IDAKCXN0cnVjdCBSZWN0QXJlYUxpZ2h0IHsKCQl2ZWMzIGNvbG9yOwoJCXZlYzMgcG9zaXRpb247CgkJdmVjMyBoYWxmV2lkdGg7CgkJdmVjMyBoYWxmSGVpZ2h0OwoJfTsKCXVuaWZvcm0gc2FtcGxlcjJEIGx0Y18xOwl1bmlmb3JtIHNhbXBsZXIyRCBsdGNfMjsKCXVuaWZvcm0gUmVjdEFyZWFMaWdodCByZWN0QXJlYUxpZ2h0c1sgTlVNX1JFQ1RfQVJFQV9MSUdIVFMgXTsKI2VuZGlmCiNpZiBOVU1fSEVNSV9MSUdIVFMgPiAwCglzdHJ1Y3QgSGVtaXNwaGVyZUxpZ2h0IHsKCQl2ZWMzIGRpcmVjdGlvbjsKCQl2ZWMzIHNreUNvbG9yOwoJCXZlYzMgZ3JvdW5kQ29sb3I7Cgl9OwoJdW5pZm9ybSBIZW1pc3BoZXJlTGlnaHQgaGVtaXNwaGVyZUxpZ2h0c1sgTlVNX0hFTUlfTElHSFRTIF07Cgl2ZWMzIGdldEhlbWlzcGhlcmVMaWdodElycmFkaWFuY2UoIGNvbnN0IGluIEhlbWlzcGhlcmVMaWdodCBoZW1pTGlnaHQsIGNvbnN0IGluIHZlYzMgbm9ybWFsICkgewoJCWZsb2F0IGRvdE5MID0gZG90KCBub3JtYWwsIGhlbWlMaWdodC5kaXJlY3Rpb24gKTsKCQlmbG9hdCBoZW1pRGlmZnVzZVdlaWdodCA9IDAuNSAqIGRvdE5MICsgMC41OwoJCXZlYzMgaXJyYWRpYW5jZSA9IG1peCggaGVtaUxpZ2h0Lmdyb3VuZENvbG9yLCBoZW1pTGlnaHQuc2t5Q29sb3IsIGhlbWlEaWZmdXNlV2VpZ2h0ICk7CgkJcmV0dXJuIGlycmFkaWFuY2U7Cgl9CiNlbmRpZmAscnY9YCNpZiBkZWZpbmVkKCBVU0VfRU5WTUFQICkKCXZlYzMgZ2V0SUJMSXJyYWRpYW5jZSggY29uc3QgaW4gdmVjMyBub3JtYWwgKSB7CgkJI2lmIGRlZmluZWQoIEVOVk1BUF9UWVBFX0NVQkVfVVYgKQoJCQl2ZWMzIHdvcmxkTm9ybWFsID0gaW52ZXJzZVRyYW5zZm9ybURpcmVjdGlvbiggbm9ybWFsLCB2aWV3TWF0cml4ICk7CgkJCXZlYzQgZW52TWFwQ29sb3IgPSB0ZXh0dXJlQ3ViZVVWKCBlbnZNYXAsIHdvcmxkTm9ybWFsLCAxLjAgKTsKCQkJcmV0dXJuIFBJICogZW52TWFwQ29sb3IucmdiICogZW52TWFwSW50ZW5zaXR5OwoJCSNlbHNlCgkJCXJldHVybiB2ZWMzKCAwLjAgKTsKCQkjZW5kaWYKCX0KCXZlYzMgZ2V0SUJMUmFkaWFuY2UoIGNvbnN0IGluIHZlYzMgdmlld0RpciwgY29uc3QgaW4gdmVjMyBub3JtYWwsIGNvbnN0IGluIGZsb2F0IHJvdWdobmVzcyApIHsKCQkjaWYgZGVmaW5lZCggRU5WTUFQX1RZUEVfQ1VCRV9VViApCgkJCXZlYzMgcmVmbGVjdFZlYyA9IHJlZmxlY3QoIC0gdmlld0Rpciwgbm9ybWFsICk7CgkJCXJlZmxlY3RWZWMgPSBub3JtYWxpemUoIG1peCggcmVmbGVjdFZlYywgbm9ybWFsLCByb3VnaG5lc3MgKiByb3VnaG5lc3MpICk7CgkJCXJlZmxlY3RWZWMgPSBpbnZlcnNlVHJhbnNmb3JtRGlyZWN0aW9uKCByZWZsZWN0VmVjLCB2aWV3TWF0cml4ICk7CgkJCXZlYzQgZW52TWFwQ29sb3IgPSB0ZXh0dXJlQ3ViZVVWKCBlbnZNYXAsIHJlZmxlY3RWZWMsIHJvdWdobmVzcyApOwoJCQlyZXR1cm4gZW52TWFwQ29sb3IucmdiICogZW52TWFwSW50ZW5zaXR5OwoJCSNlbHNlCgkJCXJldHVybiB2ZWMzKCAwLjAgKTsKCQkjZW5kaWYKCX0KI2VuZGlmYCxzdj1gVG9vbk1hdGVyaWFsIG1hdGVyaWFsOwptYXRlcmlhbC5kaWZmdXNlQ29sb3IgPSBkaWZmdXNlQ29sb3IucmdiO2AsYXY9YHZhcnlpbmcgdmVjMyB2Vmlld1Bvc2l0aW9uOwpzdHJ1Y3QgVG9vbk1hdGVyaWFsIHsKCXZlYzMgZGlmZnVzZUNvbG9yOwp9Owp2b2lkIFJFX0RpcmVjdF9Ub29uKCBjb25zdCBpbiBJbmNpZGVudExpZ2h0IGRpcmVjdExpZ2h0LCBjb25zdCBpbiBHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5LCBjb25zdCBpbiBUb29uTWF0ZXJpYWwgbWF0ZXJpYWwsIGlub3V0IFJlZmxlY3RlZExpZ2h0IHJlZmxlY3RlZExpZ2h0ICkgewoJdmVjMyBpcnJhZGlhbmNlID0gZ2V0R3JhZGllbnRJcnJhZGlhbmNlKCBnZW9tZXRyeS5ub3JtYWwsIGRpcmVjdExpZ2h0LmRpcmVjdGlvbiApICogZGlyZWN0TGlnaHQuY29sb3I7CglyZWZsZWN0ZWRMaWdodC5kaXJlY3REaWZmdXNlICs9IGlycmFkaWFuY2UgKiBCUkRGX0xhbWJlcnQoIG1hdGVyaWFsLmRpZmZ1c2VDb2xvciApOwp9CnZvaWQgUkVfSW5kaXJlY3REaWZmdXNlX1Rvb24oIGNvbnN0IGluIHZlYzMgaXJyYWRpYW5jZSwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgY29uc3QgaW4gVG9vbk1hdGVyaWFsIG1hdGVyaWFsLCBpbm91dCBSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCApIHsKCXJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArPSBpcnJhZGlhbmNlICogQlJERl9MYW1iZXJ0KCBtYXRlcmlhbC5kaWZmdXNlQ29sb3IgKTsKfQojZGVmaW5lIFJFX0RpcmVjdAkJCQlSRV9EaXJlY3RfVG9vbgojZGVmaW5lIFJFX0luZGlyZWN0RGlmZnVzZQkJUkVfSW5kaXJlY3REaWZmdXNlX1Rvb24KI2RlZmluZSBNYXRlcmlhbF9MaWdodFByb2JlTE9EKCBtYXRlcmlhbCApCSgwKWAsbnY9YEJsaW5uUGhvbmdNYXRlcmlhbCBtYXRlcmlhbDsKbWF0ZXJpYWwuZGlmZnVzZUNvbG9yID0gZGlmZnVzZUNvbG9yLnJnYjsKbWF0ZXJpYWwuc3BlY3VsYXJDb2xvciA9IHNwZWN1bGFyOwptYXRlcmlhbC5zcGVjdWxhclNoaW5pbmVzcyA9IHNoaW5pbmVzczsKbWF0ZXJpYWwuc3BlY3VsYXJTdHJlbmd0aCA9IHNwZWN1bGFyU3RyZW5ndGg7YCxvdj1gdmFyeWluZyB2ZWMzIHZWaWV3UG9zaXRpb247CnN0cnVjdCBCbGlublBob25nTWF0ZXJpYWwgewoJdmVjMyBkaWZmdXNlQ29sb3I7Cgl2ZWMzIHNwZWN1bGFyQ29sb3I7CglmbG9hdCBzcGVjdWxhclNoaW5pbmVzczsKCWZsb2F0IHNwZWN1bGFyU3RyZW5ndGg7Cn07CnZvaWQgUkVfRGlyZWN0X0JsaW5uUGhvbmcoIGNvbnN0IGluIEluY2lkZW50TGlnaHQgZGlyZWN0TGlnaHQsIGNvbnN0IGluIEdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnksIGNvbnN0IGluIEJsaW5uUGhvbmdNYXRlcmlhbCBtYXRlcmlhbCwgaW5vdXQgUmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQgKSB7CglmbG9hdCBkb3ROTCA9IHNhdHVyYXRlKCBkb3QoIGdlb21ldHJ5Lm5vcm1hbCwgZGlyZWN0TGlnaHQuZGlyZWN0aW9uICkgKTsKCXZlYzMgaXJyYWRpYW5jZSA9IGRvdE5MICogZGlyZWN0TGlnaHQuY29sb3I7CglyZWZsZWN0ZWRMaWdodC5kaXJlY3REaWZmdXNlICs9IGlycmFkaWFuY2UgKiBCUkRGX0xhbWJlcnQoIG1hdGVyaWFsLmRpZmZ1c2VDb2xvciApOwoJcmVmbGVjdGVkTGlnaHQuZGlyZWN0U3BlY3VsYXIgKz0gaXJyYWRpYW5jZSAqIEJSREZfQmxpbm5QaG9uZyggZGlyZWN0TGlnaHQuZGlyZWN0aW9uLCBnZW9tZXRyeS52aWV3RGlyLCBnZW9tZXRyeS5ub3JtYWwsIG1hdGVyaWFsLnNwZWN1bGFyQ29sb3IsIG1hdGVyaWFsLnNwZWN1bGFyU2hpbmluZXNzICkgKiBtYXRlcmlhbC5zcGVjdWxhclN0cmVuZ3RoOwp9CnZvaWQgUkVfSW5kaXJlY3REaWZmdXNlX0JsaW5uUGhvbmcoIGNvbnN0IGluIHZlYzMgaXJyYWRpYW5jZSwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgY29uc3QgaW4gQmxpbm5QaG9uZ01hdGVyaWFsIG1hdGVyaWFsLCBpbm91dCBSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCApIHsKCXJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArPSBpcnJhZGlhbmNlICogQlJERl9MYW1iZXJ0KCBtYXRlcmlhbC5kaWZmdXNlQ29sb3IgKTsKfQojZGVmaW5lIFJFX0RpcmVjdAkJCQlSRV9EaXJlY3RfQmxpbm5QaG9uZwojZGVmaW5lIFJFX0luZGlyZWN0RGlmZnVzZQkJUkVfSW5kaXJlY3REaWZmdXNlX0JsaW5uUGhvbmcKI2RlZmluZSBNYXRlcmlhbF9MaWdodFByb2JlTE9EKCBtYXRlcmlhbCApCSgwKWAsaHY9YFBoeXNpY2FsTWF0ZXJpYWwgbWF0ZXJpYWw7Cm1hdGVyaWFsLmRpZmZ1c2VDb2xvciA9IGRpZmZ1c2VDb2xvci5yZ2IgKiAoIDEuMCAtIG1ldGFsbmVzc0ZhY3RvciApOwp2ZWMzIGR4eSA9IG1heCggYWJzKCBkRmR4KCBnZW9tZXRyeU5vcm1hbCApICksIGFicyggZEZkeSggZ2VvbWV0cnlOb3JtYWwgKSApICk7CmZsb2F0IGdlb21ldHJ5Um91Z2huZXNzID0gbWF4KCBtYXgoIGR4eS54LCBkeHkueSApLCBkeHkueiApOwptYXRlcmlhbC5yb3VnaG5lc3MgPSBtYXgoIHJvdWdobmVzc0ZhY3RvciwgMC4wNTI1ICk7bWF0ZXJpYWwucm91Z2huZXNzICs9IGdlb21ldHJ5Um91Z2huZXNzOwptYXRlcmlhbC5yb3VnaG5lc3MgPSBtaW4oIG1hdGVyaWFsLnJvdWdobmVzcywgMS4wICk7CiNpZmRlZiBJT1IKCSNpZmRlZiBTUEVDVUxBUgoJCWZsb2F0IHNwZWN1bGFySW50ZW5zaXR5RmFjdG9yID0gc3BlY3VsYXJJbnRlbnNpdHk7CgkJdmVjMyBzcGVjdWxhckNvbG9yRmFjdG9yID0gc3BlY3VsYXJDb2xvcjsKCQkjaWZkZWYgVVNFX1NQRUNVTEFSSU5URU5TSVRZTUFQCgkJCXNwZWN1bGFySW50ZW5zaXR5RmFjdG9yICo9IHRleHR1cmUyRCggc3BlY3VsYXJJbnRlbnNpdHlNYXAsIHZVdiApLmE7CgkJI2VuZGlmCgkJI2lmZGVmIFVTRV9TUEVDVUxBUkNPTE9STUFQCgkJCXNwZWN1bGFyQ29sb3JGYWN0b3IgKj0gdGV4dHVyZTJEKCBzcGVjdWxhckNvbG9yTWFwLCB2VXYgKS5yZ2I7CgkJI2VuZGlmCgkJbWF0ZXJpYWwuc3BlY3VsYXJGOTAgPSBtaXgoIHNwZWN1bGFySW50ZW5zaXR5RmFjdG9yLCAxLjAsIG1ldGFsbmVzc0ZhY3RvciApOwoJI2Vsc2UKCQlmbG9hdCBzcGVjdWxhckludGVuc2l0eUZhY3RvciA9IDEuMDsKCQl2ZWMzIHNwZWN1bGFyQ29sb3JGYWN0b3IgPSB2ZWMzKCAxLjAgKTsKCQltYXRlcmlhbC5zcGVjdWxhckY5MCA9IDEuMDsKCSNlbmRpZgoJbWF0ZXJpYWwuc3BlY3VsYXJDb2xvciA9IG1peCggbWluKCBwb3cyKCAoIGlvciAtIDEuMCApIC8gKCBpb3IgKyAxLjAgKSApICogc3BlY3VsYXJDb2xvckZhY3RvciwgdmVjMyggMS4wICkgKSAqIHNwZWN1bGFySW50ZW5zaXR5RmFjdG9yLCBkaWZmdXNlQ29sb3IucmdiLCBtZXRhbG5lc3NGYWN0b3IgKTsKI2Vsc2UKCW1hdGVyaWFsLnNwZWN1bGFyQ29sb3IgPSBtaXgoIHZlYzMoIDAuMDQgKSwgZGlmZnVzZUNvbG9yLnJnYiwgbWV0YWxuZXNzRmFjdG9yICk7CgltYXRlcmlhbC5zcGVjdWxhckY5MCA9IDEuMDsKI2VuZGlmCiNpZmRlZiBVU0VfQ0xFQVJDT0FUCgltYXRlcmlhbC5jbGVhcmNvYXQgPSBjbGVhcmNvYXQ7CgltYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3MgPSBjbGVhcmNvYXRSb3VnaG5lc3M7CgltYXRlcmlhbC5jbGVhcmNvYXRGMCA9IHZlYzMoIDAuMDQgKTsKCW1hdGVyaWFsLmNsZWFyY29hdEY5MCA9IDEuMDsKCSNpZmRlZiBVU0VfQ0xFQVJDT0FUTUFQCgkJbWF0ZXJpYWwuY2xlYXJjb2F0ICo9IHRleHR1cmUyRCggY2xlYXJjb2F0TWFwLCB2VXYgKS54OwoJI2VuZGlmCgkjaWZkZWYgVVNFX0NMRUFSQ09BVF9ST1VHSE5FU1NNQVAKCQltYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3MgKj0gdGV4dHVyZTJEKCBjbGVhcmNvYXRSb3VnaG5lc3NNYXAsIHZVdiApLnk7CgkjZW5kaWYKCW1hdGVyaWFsLmNsZWFyY29hdCA9IHNhdHVyYXRlKCBtYXRlcmlhbC5jbGVhcmNvYXQgKTsJbWF0ZXJpYWwuY2xlYXJjb2F0Um91Z2huZXNzID0gbWF4KCBtYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3MsIDAuMDUyNSApOwoJbWF0ZXJpYWwuY2xlYXJjb2F0Um91Z2huZXNzICs9IGdlb21ldHJ5Um91Z2huZXNzOwoJbWF0ZXJpYWwuY2xlYXJjb2F0Um91Z2huZXNzID0gbWluKCBtYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3MsIDEuMCApOwojZW5kaWYKI2lmZGVmIFVTRV9TSEVFTgoJbWF0ZXJpYWwuc2hlZW5Db2xvciA9IHNoZWVuQ29sb3I7CgkjaWZkZWYgVVNFX1NIRUVOQ09MT1JNQVAKCQltYXRlcmlhbC5zaGVlbkNvbG9yICo9IHRleHR1cmUyRCggc2hlZW5Db2xvck1hcCwgdlV2ICkucmdiOwoJI2VuZGlmCgltYXRlcmlhbC5zaGVlblJvdWdobmVzcyA9IGNsYW1wKCBzaGVlblJvdWdobmVzcywgMC4wNywgMS4wICk7CgkjaWZkZWYgVVNFX1NIRUVOUk9VR0hORVNTTUFQCgkJbWF0ZXJpYWwuc2hlZW5Sb3VnaG5lc3MgKj0gdGV4dHVyZTJEKCBzaGVlblJvdWdobmVzc01hcCwgdlV2ICkuYTsKCSNlbmRpZgojZW5kaWZgLGx2PWBzdHJ1Y3QgUGh5c2ljYWxNYXRlcmlhbCB7Cgl2ZWMzIGRpZmZ1c2VDb2xvcjsKCWZsb2F0IHJvdWdobmVzczsKCXZlYzMgc3BlY3VsYXJDb2xvcjsKCWZsb2F0IHNwZWN1bGFyRjkwOwoJI2lmZGVmIFVTRV9DTEVBUkNPQVQKCQlmbG9hdCBjbGVhcmNvYXQ7CgkJZmxvYXQgY2xlYXJjb2F0Um91Z2huZXNzOwoJCXZlYzMgY2xlYXJjb2F0RjA7CgkJZmxvYXQgY2xlYXJjb2F0RjkwOwoJI2VuZGlmCgkjaWZkZWYgVVNFX1NIRUVOCgkJdmVjMyBzaGVlbkNvbG9yOwoJCWZsb2F0IHNoZWVuUm91Z2huZXNzOwoJI2VuZGlmCn07CnZlYzMgY2xlYXJjb2F0U3BlY3VsYXIgPSB2ZWMzKCAwLjAgKTsKdmVjMyBzaGVlblNwZWN1bGFyID0gdmVjMyggMC4wICk7CmZsb2F0IElCTFNoZWVuQlJERiggY29uc3QgaW4gdmVjMyBub3JtYWwsIGNvbnN0IGluIHZlYzMgdmlld0RpciwgY29uc3QgaW4gZmxvYXQgcm91Z2huZXNzKSB7CglmbG9hdCBkb3ROViA9IHNhdHVyYXRlKCBkb3QoIG5vcm1hbCwgdmlld0RpciApICk7CglmbG9hdCByMiA9IHJvdWdobmVzcyAqIHJvdWdobmVzczsKCWZsb2F0IGEgPSByb3VnaG5lc3MgPCAwLjI1ID8gLTMzOS4yICogcjIgKyAxNjEuNCAqIHJvdWdobmVzcyAtIDI1LjkgOiAtOC40OCAqIHIyICsgMTQuMyAqIHJvdWdobmVzcyAtIDkuOTU7CglmbG9hdCBiID0gcm91Z2huZXNzIDwgMC4yNSA/IDQ0LjAgKiByMiAtIDIzLjcgKiByb3VnaG5lc3MgKyAzLjI2IDogMS45NyAqIHIyIC0gMy4yNyAqIHJvdWdobmVzcyArIDAuNzI7CglmbG9hdCBERyA9IGV4cCggYSAqIGRvdE5WICsgYiApICsgKCByb3VnaG5lc3MgPCAwLjI1ID8gMC4wIDogMC4xICogKCByb3VnaG5lc3MgLSAwLjI1ICkgKTsKCXJldHVybiBzYXR1cmF0ZSggREcgKiBSRUNJUFJPQ0FMX1BJICk7Cn0KdmVjMiBERkdBcHByb3goIGNvbnN0IGluIHZlYzMgbm9ybWFsLCBjb25zdCBpbiB2ZWMzIHZpZXdEaXIsIGNvbnN0IGluIGZsb2F0IHJvdWdobmVzcyApIHsKCWZsb2F0IGRvdE5WID0gc2F0dXJhdGUoIGRvdCggbm9ybWFsLCB2aWV3RGlyICkgKTsKCWNvbnN0IHZlYzQgYzAgPSB2ZWM0KCAtIDEsIC0gMC4wMjc1LCAtIDAuNTcyLCAwLjAyMiApOwoJY29uc3QgdmVjNCBjMSA9IHZlYzQoIDEsIDAuMDQyNSwgMS4wNCwgLSAwLjA0ICk7Cgl2ZWM0IHIgPSByb3VnaG5lc3MgKiBjMCArIGMxOwoJZmxvYXQgYTAwNCA9IG1pbiggci54ICogci54LCBleHAyKCAtIDkuMjggKiBkb3ROViApICkgKiByLnggKyByLnk7Cgl2ZWMyIGZhYiA9IHZlYzIoIC0gMS4wNCwgMS4wNCApICogYTAwNCArIHIuenc7CglyZXR1cm4gZmFiOwp9CnZlYzMgRW52aXJvbm1lbnRCUkRGKCBjb25zdCBpbiB2ZWMzIG5vcm1hbCwgY29uc3QgaW4gdmVjMyB2aWV3RGlyLCBjb25zdCBpbiB2ZWMzIHNwZWN1bGFyQ29sb3IsIGNvbnN0IGluIGZsb2F0IHNwZWN1bGFyRjkwLCBjb25zdCBpbiBmbG9hdCByb3VnaG5lc3MgKSB7Cgl2ZWMyIGZhYiA9IERGR0FwcHJveCggbm9ybWFsLCB2aWV3RGlyLCByb3VnaG5lc3MgKTsKCXJldHVybiBzcGVjdWxhckNvbG9yICogZmFiLnggKyBzcGVjdWxhckY5MCAqIGZhYi55Owp9CnZvaWQgY29tcHV0ZU11bHRpc2NhdHRlcmluZyggY29uc3QgaW4gdmVjMyBub3JtYWwsIGNvbnN0IGluIHZlYzMgdmlld0RpciwgY29uc3QgaW4gdmVjMyBzcGVjdWxhckNvbG9yLCBjb25zdCBpbiBmbG9hdCBzcGVjdWxhckY5MCwgY29uc3QgaW4gZmxvYXQgcm91Z2huZXNzLCBpbm91dCB2ZWMzIHNpbmdsZVNjYXR0ZXIsIGlub3V0IHZlYzMgbXVsdGlTY2F0dGVyICkgewoJdmVjMiBmYWIgPSBERkdBcHByb3goIG5vcm1hbCwgdmlld0Rpciwgcm91Z2huZXNzICk7Cgl2ZWMzIEZzc0VzcyA9IHNwZWN1bGFyQ29sb3IgKiBmYWIueCArIHNwZWN1bGFyRjkwICogZmFiLnk7CglmbG9hdCBFc3MgPSBmYWIueCArIGZhYi55OwoJZmxvYXQgRW1zID0gMS4wIC0gRXNzOwoJdmVjMyBGYXZnID0gc3BlY3VsYXJDb2xvciArICggMS4wIC0gc3BlY3VsYXJDb2xvciApICogMC4wNDc2MTk7CXZlYzMgRm1zID0gRnNzRXNzICogRmF2ZyAvICggMS4wIC0gRW1zICogRmF2ZyApOwoJc2luZ2xlU2NhdHRlciArPSBGc3NFc3M7CgltdWx0aVNjYXR0ZXIgKz0gRm1zICogRW1zOwp9CiNpZiBOVU1fUkVDVF9BUkVBX0xJR0hUUyA+IDAKCXZvaWQgUkVfRGlyZWN0X1JlY3RBcmVhX1BoeXNpY2FsKCBjb25zdCBpbiBSZWN0QXJlYUxpZ2h0IHJlY3RBcmVhTGlnaHQsIGNvbnN0IGluIEdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnksIGNvbnN0IGluIFBoeXNpY2FsTWF0ZXJpYWwgbWF0ZXJpYWwsIGlub3V0IFJlZmxlY3RlZExpZ2h0IHJlZmxlY3RlZExpZ2h0ICkgewoJCXZlYzMgbm9ybWFsID0gZ2VvbWV0cnkubm9ybWFsOwoJCXZlYzMgdmlld0RpciA9IGdlb21ldHJ5LnZpZXdEaXI7CgkJdmVjMyBwb3NpdGlvbiA9IGdlb21ldHJ5LnBvc2l0aW9uOwoJCXZlYzMgbGlnaHRQb3MgPSByZWN0QXJlYUxpZ2h0LnBvc2l0aW9uOwoJCXZlYzMgaGFsZldpZHRoID0gcmVjdEFyZWFMaWdodC5oYWxmV2lkdGg7CgkJdmVjMyBoYWxmSGVpZ2h0ID0gcmVjdEFyZWFMaWdodC5oYWxmSGVpZ2h0OwoJCXZlYzMgbGlnaHRDb2xvciA9IHJlY3RBcmVhTGlnaHQuY29sb3I7CgkJZmxvYXQgcm91Z2huZXNzID0gbWF0ZXJpYWwucm91Z2huZXNzOwoJCXZlYzMgcmVjdENvb3Jkc1sgNCBdOwoJCXJlY3RDb29yZHNbIDAgXSA9IGxpZ2h0UG9zICsgaGFsZldpZHRoIC0gaGFsZkhlaWdodDsJCXJlY3RDb29yZHNbIDEgXSA9IGxpZ2h0UG9zIC0gaGFsZldpZHRoIC0gaGFsZkhlaWdodDsKCQlyZWN0Q29vcmRzWyAyIF0gPSBsaWdodFBvcyAtIGhhbGZXaWR0aCArIGhhbGZIZWlnaHQ7CgkJcmVjdENvb3Jkc1sgMyBdID0gbGlnaHRQb3MgKyBoYWxmV2lkdGggKyBoYWxmSGVpZ2h0OwoJCXZlYzIgdXYgPSBMVENfVXYoIG5vcm1hbCwgdmlld0Rpciwgcm91Z2huZXNzICk7CgkJdmVjNCB0MSA9IHRleHR1cmUyRCggbHRjXzEsIHV2ICk7CgkJdmVjNCB0MiA9IHRleHR1cmUyRCggbHRjXzIsIHV2ICk7CgkJbWF0MyBtSW52ID0gbWF0MygKCQkJdmVjMyggdDEueCwgMCwgdDEueSApLAoJCQl2ZWMzKCAgICAwLCAxLCAgICAwICksCgkJCXZlYzMoIHQxLnosIDAsIHQxLncgKQoJCSk7CgkJdmVjMyBmcmVzbmVsID0gKCBtYXRlcmlhbC5zcGVjdWxhckNvbG9yICogdDIueCArICggdmVjMyggMS4wICkgLSBtYXRlcmlhbC5zcGVjdWxhckNvbG9yICkgKiB0Mi55ICk7CgkJcmVmbGVjdGVkTGlnaHQuZGlyZWN0U3BlY3VsYXIgKz0gbGlnaHRDb2xvciAqIGZyZXNuZWwgKiBMVENfRXZhbHVhdGUoIG5vcm1hbCwgdmlld0RpciwgcG9zaXRpb24sIG1JbnYsIHJlY3RDb29yZHMgKTsKCQlyZWZsZWN0ZWRMaWdodC5kaXJlY3REaWZmdXNlICs9IGxpZ2h0Q29sb3IgKiBtYXRlcmlhbC5kaWZmdXNlQ29sb3IgKiBMVENfRXZhbHVhdGUoIG5vcm1hbCwgdmlld0RpciwgcG9zaXRpb24sIG1hdDMoIDEuMCApLCByZWN0Q29vcmRzICk7Cgl9CiNlbmRpZgp2b2lkIFJFX0RpcmVjdF9QaHlzaWNhbCggY29uc3QgaW4gSW5jaWRlbnRMaWdodCBkaXJlY3RMaWdodCwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgY29uc3QgaW4gUGh5c2ljYWxNYXRlcmlhbCBtYXRlcmlhbCwgaW5vdXQgUmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQgKSB7CglmbG9hdCBkb3ROTCA9IHNhdHVyYXRlKCBkb3QoIGdlb21ldHJ5Lm5vcm1hbCwgZGlyZWN0TGlnaHQuZGlyZWN0aW9uICkgKTsKCXZlYzMgaXJyYWRpYW5jZSA9IGRvdE5MICogZGlyZWN0TGlnaHQuY29sb3I7CgkjaWZkZWYgVVNFX0NMRUFSQ09BVAoJCWZsb2F0IGRvdE5MY2MgPSBzYXR1cmF0ZSggZG90KCBnZW9tZXRyeS5jbGVhcmNvYXROb3JtYWwsIGRpcmVjdExpZ2h0LmRpcmVjdGlvbiApICk7CgkJdmVjMyBjY0lycmFkaWFuY2UgPSBkb3ROTGNjICogZGlyZWN0TGlnaHQuY29sb3I7CgkJY2xlYXJjb2F0U3BlY3VsYXIgKz0gY2NJcnJhZGlhbmNlICogQlJERl9HR1goIGRpcmVjdExpZ2h0LmRpcmVjdGlvbiwgZ2VvbWV0cnkudmlld0RpciwgZ2VvbWV0cnkuY2xlYXJjb2F0Tm9ybWFsLCBtYXRlcmlhbC5jbGVhcmNvYXRGMCwgbWF0ZXJpYWwuY2xlYXJjb2F0RjkwLCBtYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3MgKTsKCSNlbmRpZgoJI2lmZGVmIFVTRV9TSEVFTgoJCXNoZWVuU3BlY3VsYXIgKz0gaXJyYWRpYW5jZSAqIEJSREZfU2hlZW4oIGRpcmVjdExpZ2h0LmRpcmVjdGlvbiwgZ2VvbWV0cnkudmlld0RpciwgZ2VvbWV0cnkubm9ybWFsLCBtYXRlcmlhbC5zaGVlbkNvbG9yLCBtYXRlcmlhbC5zaGVlblJvdWdobmVzcyApOwoJI2VuZGlmCglyZWZsZWN0ZWRMaWdodC5kaXJlY3RTcGVjdWxhciArPSBpcnJhZGlhbmNlICogQlJERl9HR1goIGRpcmVjdExpZ2h0LmRpcmVjdGlvbiwgZ2VvbWV0cnkudmlld0RpciwgZ2VvbWV0cnkubm9ybWFsLCBtYXRlcmlhbC5zcGVjdWxhckNvbG9yLCBtYXRlcmlhbC5zcGVjdWxhckY5MCwgbWF0ZXJpYWwucm91Z2huZXNzICk7CglyZWZsZWN0ZWRMaWdodC5kaXJlY3REaWZmdXNlICs9IGlycmFkaWFuY2UgKiBCUkRGX0xhbWJlcnQoIG1hdGVyaWFsLmRpZmZ1c2VDb2xvciApOwp9CnZvaWQgUkVfSW5kaXJlY3REaWZmdXNlX1BoeXNpY2FsKCBjb25zdCBpbiB2ZWMzIGlycmFkaWFuY2UsIGNvbnN0IGluIEdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnksIGNvbnN0IGluIFBoeXNpY2FsTWF0ZXJpYWwgbWF0ZXJpYWwsIGlub3V0IFJlZmxlY3RlZExpZ2h0IHJlZmxlY3RlZExpZ2h0ICkgewoJcmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICs9IGlycmFkaWFuY2UgKiBCUkRGX0xhbWJlcnQoIG1hdGVyaWFsLmRpZmZ1c2VDb2xvciApOwp9CnZvaWQgUkVfSW5kaXJlY3RTcGVjdWxhcl9QaHlzaWNhbCggY29uc3QgaW4gdmVjMyByYWRpYW5jZSwgY29uc3QgaW4gdmVjMyBpcnJhZGlhbmNlLCBjb25zdCBpbiB2ZWMzIGNsZWFyY29hdFJhZGlhbmNlLCBjb25zdCBpbiBHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5LCBjb25zdCBpbiBQaHlzaWNhbE1hdGVyaWFsIG1hdGVyaWFsLCBpbm91dCBSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCkgewoJI2lmZGVmIFVTRV9DTEVBUkNPQVQKCQljbGVhcmNvYXRTcGVjdWxhciArPSBjbGVhcmNvYXRSYWRpYW5jZSAqIEVudmlyb25tZW50QlJERiggZ2VvbWV0cnkuY2xlYXJjb2F0Tm9ybWFsLCBnZW9tZXRyeS52aWV3RGlyLCBtYXRlcmlhbC5jbGVhcmNvYXRGMCwgbWF0ZXJpYWwuY2xlYXJjb2F0RjkwLCBtYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3MgKTsKCSNlbmRpZgoJI2lmZGVmIFVTRV9TSEVFTgoJCXNoZWVuU3BlY3VsYXIgKz0gaXJyYWRpYW5jZSAqIG1hdGVyaWFsLnNoZWVuQ29sb3IgKiBJQkxTaGVlbkJSREYoIGdlb21ldHJ5Lm5vcm1hbCwgZ2VvbWV0cnkudmlld0RpciwgbWF0ZXJpYWwuc2hlZW5Sb3VnaG5lc3MgKTsKCSNlbmRpZgoJdmVjMyBzaW5nbGVTY2F0dGVyaW5nID0gdmVjMyggMC4wICk7Cgl2ZWMzIG11bHRpU2NhdHRlcmluZyA9IHZlYzMoIDAuMCApOwoJdmVjMyBjb3NpbmVXZWlnaHRlZElycmFkaWFuY2UgPSBpcnJhZGlhbmNlICogUkVDSVBST0NBTF9QSTsKCWNvbXB1dGVNdWx0aXNjYXR0ZXJpbmcoIGdlb21ldHJ5Lm5vcm1hbCwgZ2VvbWV0cnkudmlld0RpciwgbWF0ZXJpYWwuc3BlY3VsYXJDb2xvciwgbWF0ZXJpYWwuc3BlY3VsYXJGOTAsIG1hdGVyaWFsLnJvdWdobmVzcywgc2luZ2xlU2NhdHRlcmluZywgbXVsdGlTY2F0dGVyaW5nICk7Cgl2ZWMzIGRpZmZ1c2UgPSBtYXRlcmlhbC5kaWZmdXNlQ29sb3IgKiAoIDEuMCAtICggc2luZ2xlU2NhdHRlcmluZyArIG11bHRpU2NhdHRlcmluZyApICk7CglyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdFNwZWN1bGFyICs9IHJhZGlhbmNlICogc2luZ2xlU2NhdHRlcmluZzsKCXJlZmxlY3RlZExpZ2h0LmluZGlyZWN0U3BlY3VsYXIgKz0gbXVsdGlTY2F0dGVyaW5nICogY29zaW5lV2VpZ2h0ZWRJcnJhZGlhbmNlOwoJcmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICs9IGRpZmZ1c2UgKiBjb3NpbmVXZWlnaHRlZElycmFkaWFuY2U7Cn0KI2RlZmluZSBSRV9EaXJlY3QJCQkJUkVfRGlyZWN0X1BoeXNpY2FsCiNkZWZpbmUgUkVfRGlyZWN0X1JlY3RBcmVhCQlSRV9EaXJlY3RfUmVjdEFyZWFfUGh5c2ljYWwKI2RlZmluZSBSRV9JbmRpcmVjdERpZmZ1c2UJCVJFX0luZGlyZWN0RGlmZnVzZV9QaHlzaWNhbAojZGVmaW5lIFJFX0luZGlyZWN0U3BlY3VsYXIJCVJFX0luZGlyZWN0U3BlY3VsYXJfUGh5c2ljYWwKZmxvYXQgY29tcHV0ZVNwZWN1bGFyT2NjbHVzaW9uKCBjb25zdCBpbiBmbG9hdCBkb3ROViwgY29uc3QgaW4gZmxvYXQgYW1iaWVudE9jY2x1c2lvbiwgY29uc3QgaW4gZmxvYXQgcm91Z2huZXNzICkgewoJcmV0dXJuIHNhdHVyYXRlKCBwb3coIGRvdE5WICsgYW1iaWVudE9jY2x1c2lvbiwgZXhwMiggLSAxNi4wICogcm91Z2huZXNzIC0gMS4wICkgKSAtIDEuMCArIGFtYmllbnRPY2NsdXNpb24gKTsKfWAsY3Y9YApHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5OwpnZW9tZXRyeS5wb3NpdGlvbiA9IC0gdlZpZXdQb3NpdGlvbjsKZ2VvbWV0cnkubm9ybWFsID0gbm9ybWFsOwpnZW9tZXRyeS52aWV3RGlyID0gKCBpc09ydGhvZ3JhcGhpYyApID8gdmVjMyggMCwgMCwgMSApIDogbm9ybWFsaXplKCB2Vmlld1Bvc2l0aW9uICk7CiNpZmRlZiBVU0VfQ0xFQVJDT0FUCglnZW9tZXRyeS5jbGVhcmNvYXROb3JtYWwgPSBjbGVhcmNvYXROb3JtYWw7CiNlbmRpZgpJbmNpZGVudExpZ2h0IGRpcmVjdExpZ2h0OwojaWYgKCBOVU1fUE9JTlRfTElHSFRTID4gMCApICYmIGRlZmluZWQoIFJFX0RpcmVjdCApCglQb2ludExpZ2h0IHBvaW50TGlnaHQ7CgkjaWYgZGVmaW5lZCggVVNFX1NIQURPV01BUCApICYmIE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTID4gMAoJUG9pbnRMaWdodFNoYWRvdyBwb2ludExpZ2h0U2hhZG93OwoJI2VuZGlmCgkjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0Cglmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fUE9JTlRfTElHSFRTOyBpICsrICkgewoJCXBvaW50TGlnaHQgPSBwb2ludExpZ2h0c1sgaSBdOwoJCWdldFBvaW50TGlnaHRJbmZvKCBwb2ludExpZ2h0LCBnZW9tZXRyeSwgZGlyZWN0TGlnaHQgKTsKCQkjaWYgZGVmaW5lZCggVVNFX1NIQURPV01BUCApICYmICggVU5ST0xMRURfTE9PUF9JTkRFWCA8IE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTICkKCQlwb2ludExpZ2h0U2hhZG93ID0gcG9pbnRMaWdodFNoYWRvd3NbIGkgXTsKCQlkaXJlY3RMaWdodC5jb2xvciAqPSBhbGwoIGJ2ZWMyKCBkaXJlY3RMaWdodC52aXNpYmxlLCByZWNlaXZlU2hhZG93ICkgKSA/IGdldFBvaW50U2hhZG93KCBwb2ludFNoYWRvd01hcFsgaSBdLCBwb2ludExpZ2h0U2hhZG93LnNoYWRvd01hcFNpemUsIHBvaW50TGlnaHRTaGFkb3cuc2hhZG93QmlhcywgcG9pbnRMaWdodFNoYWRvdy5zaGFkb3dSYWRpdXMsIHZQb2ludFNoYWRvd0Nvb3JkWyBpIF0sIHBvaW50TGlnaHRTaGFkb3cuc2hhZG93Q2FtZXJhTmVhciwgcG9pbnRMaWdodFNoYWRvdy5zaGFkb3dDYW1lcmFGYXIgKSA6IDEuMDsKCQkjZW5kaWYKCQlSRV9EaXJlY3QoIGRpcmVjdExpZ2h0LCBnZW9tZXRyeSwgbWF0ZXJpYWwsIHJlZmxlY3RlZExpZ2h0ICk7Cgl9CgkjcHJhZ21hIHVucm9sbF9sb29wX2VuZAojZW5kaWYKI2lmICggTlVNX1NQT1RfTElHSFRTID4gMCApICYmIGRlZmluZWQoIFJFX0RpcmVjdCApCglTcG90TGlnaHQgc3BvdExpZ2h0OwoJI2lmIGRlZmluZWQoIFVTRV9TSEFET1dNQVAgKSAmJiBOVU1fU1BPVF9MSUdIVF9TSEFET1dTID4gMAoJU3BvdExpZ2h0U2hhZG93IHNwb3RMaWdodFNoYWRvdzsKCSNlbmRpZgoJI3ByYWdtYSB1bnJvbGxfbG9vcF9zdGFydAoJZm9yICggaW50IGkgPSAwOyBpIDwgTlVNX1NQT1RfTElHSFRTOyBpICsrICkgewoJCXNwb3RMaWdodCA9IHNwb3RMaWdodHNbIGkgXTsKCQlnZXRTcG90TGlnaHRJbmZvKCBzcG90TGlnaHQsIGdlb21ldHJ5LCBkaXJlY3RMaWdodCApOwoJCSNpZiBkZWZpbmVkKCBVU0VfU0hBRE9XTUFQICkgJiYgKCBVTlJPTExFRF9MT09QX0lOREVYIDwgTlVNX1NQT1RfTElHSFRfU0hBRE9XUyApCgkJc3BvdExpZ2h0U2hhZG93ID0gc3BvdExpZ2h0U2hhZG93c1sgaSBdOwoJCWRpcmVjdExpZ2h0LmNvbG9yICo9IGFsbCggYnZlYzIoIGRpcmVjdExpZ2h0LnZpc2libGUsIHJlY2VpdmVTaGFkb3cgKSApID8gZ2V0U2hhZG93KCBzcG90U2hhZG93TWFwWyBpIF0sIHNwb3RMaWdodFNoYWRvdy5zaGFkb3dNYXBTaXplLCBzcG90TGlnaHRTaGFkb3cuc2hhZG93Qmlhcywgc3BvdExpZ2h0U2hhZG93LnNoYWRvd1JhZGl1cywgdlNwb3RTaGFkb3dDb29yZFsgaSBdICkgOiAxLjA7CgkJI2VuZGlmCgkJUkVfRGlyZWN0KCBkaXJlY3RMaWdodCwgZ2VvbWV0cnksIG1hdGVyaWFsLCByZWZsZWN0ZWRMaWdodCApOwoJfQoJI3ByYWdtYSB1bnJvbGxfbG9vcF9lbmQKI2VuZGlmCiNpZiAoIE5VTV9ESVJfTElHSFRTID4gMCApICYmIGRlZmluZWQoIFJFX0RpcmVjdCApCglEaXJlY3Rpb25hbExpZ2h0IGRpcmVjdGlvbmFsTGlnaHQ7CgkjaWYgZGVmaW5lZCggVVNFX1NIQURPV01BUCApICYmIE5VTV9ESVJfTElHSFRfU0hBRE9XUyA+IDAKCURpcmVjdGlvbmFsTGlnaHRTaGFkb3cgZGlyZWN0aW9uYWxMaWdodFNoYWRvdzsKCSNlbmRpZgoJI3ByYWdtYSB1bnJvbGxfbG9vcF9zdGFydAoJZm9yICggaW50IGkgPSAwOyBpIDwgTlVNX0RJUl9MSUdIVFM7IGkgKysgKSB7CgkJZGlyZWN0aW9uYWxMaWdodCA9IGRpcmVjdGlvbmFsTGlnaHRzWyBpIF07CgkJZ2V0RGlyZWN0aW9uYWxMaWdodEluZm8oIGRpcmVjdGlvbmFsTGlnaHQsIGdlb21ldHJ5LCBkaXJlY3RMaWdodCApOwoJCSNpZiBkZWZpbmVkKCBVU0VfU0hBRE9XTUFQICkgJiYgKCBVTlJPTExFRF9MT09QX0lOREVYIDwgTlVNX0RJUl9MSUdIVF9TSEFET1dTICkKCQlkaXJlY3Rpb25hbExpZ2h0U2hhZG93ID0gZGlyZWN0aW9uYWxMaWdodFNoYWRvd3NbIGkgXTsKCQlkaXJlY3RMaWdodC5jb2xvciAqPSBhbGwoIGJ2ZWMyKCBkaXJlY3RMaWdodC52aXNpYmxlLCByZWNlaXZlU2hhZG93ICkgKSA/IGdldFNoYWRvdyggZGlyZWN0aW9uYWxTaGFkb3dNYXBbIGkgXSwgZGlyZWN0aW9uYWxMaWdodFNoYWRvdy5zaGFkb3dNYXBTaXplLCBkaXJlY3Rpb25hbExpZ2h0U2hhZG93LnNoYWRvd0JpYXMsIGRpcmVjdGlvbmFsTGlnaHRTaGFkb3cuc2hhZG93UmFkaXVzLCB2RGlyZWN0aW9uYWxTaGFkb3dDb29yZFsgaSBdICkgOiAxLjA7CgkJI2VuZGlmCgkJUkVfRGlyZWN0KCBkaXJlY3RMaWdodCwgZ2VvbWV0cnksIG1hdGVyaWFsLCByZWZsZWN0ZWRMaWdodCApOwoJfQoJI3ByYWdtYSB1bnJvbGxfbG9vcF9lbmQKI2VuZGlmCiNpZiAoIE5VTV9SRUNUX0FSRUFfTElHSFRTID4gMCApICYmIGRlZmluZWQoIFJFX0RpcmVjdF9SZWN0QXJlYSApCglSZWN0QXJlYUxpZ2h0IHJlY3RBcmVhTGlnaHQ7CgkjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0Cglmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fUkVDVF9BUkVBX0xJR0hUUzsgaSArKyApIHsKCQlyZWN0QXJlYUxpZ2h0ID0gcmVjdEFyZWFMaWdodHNbIGkgXTsKCQlSRV9EaXJlY3RfUmVjdEFyZWEoIHJlY3RBcmVhTGlnaHQsIGdlb21ldHJ5LCBtYXRlcmlhbCwgcmVmbGVjdGVkTGlnaHQgKTsKCX0KCSNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kCiNlbmRpZgojaWYgZGVmaW5lZCggUkVfSW5kaXJlY3REaWZmdXNlICkKCXZlYzMgaWJsSXJyYWRpYW5jZSA9IHZlYzMoIDAuMCApOwoJdmVjMyBpcnJhZGlhbmNlID0gZ2V0QW1iaWVudExpZ2h0SXJyYWRpYW5jZSggYW1iaWVudExpZ2h0Q29sb3IgKTsKCWlycmFkaWFuY2UgKz0gZ2V0TGlnaHRQcm9iZUlycmFkaWFuY2UoIGxpZ2h0UHJvYmUsIGdlb21ldHJ5Lm5vcm1hbCApOwoJI2lmICggTlVNX0hFTUlfTElHSFRTID4gMCApCgkJI3ByYWdtYSB1bnJvbGxfbG9vcF9zdGFydAoJCWZvciAoIGludCBpID0gMDsgaSA8IE5VTV9IRU1JX0xJR0hUUzsgaSArKyApIHsKCQkJaXJyYWRpYW5jZSArPSBnZXRIZW1pc3BoZXJlTGlnaHRJcnJhZGlhbmNlKCBoZW1pc3BoZXJlTGlnaHRzWyBpIF0sIGdlb21ldHJ5Lm5vcm1hbCApOwoJCX0KCQkjcHJhZ21hIHVucm9sbF9sb29wX2VuZAoJI2VuZGlmCiNlbmRpZgojaWYgZGVmaW5lZCggUkVfSW5kaXJlY3RTcGVjdWxhciApCgl2ZWMzIHJhZGlhbmNlID0gdmVjMyggMC4wICk7Cgl2ZWMzIGNsZWFyY29hdFJhZGlhbmNlID0gdmVjMyggMC4wICk7CiNlbmRpZmAsdXY9YCNpZiBkZWZpbmVkKCBSRV9JbmRpcmVjdERpZmZ1c2UgKQoJI2lmZGVmIFVTRV9MSUdIVE1BUAoJCXZlYzQgbGlnaHRNYXBUZXhlbCA9IHRleHR1cmUyRCggbGlnaHRNYXAsIHZVdjIgKTsKCQl2ZWMzIGxpZ2h0TWFwSXJyYWRpYW5jZSA9IGxpZ2h0TWFwVGV4ZWwucmdiICogbGlnaHRNYXBJbnRlbnNpdHk7CgkJaXJyYWRpYW5jZSArPSBsaWdodE1hcElycmFkaWFuY2U7CgkjZW5kaWYKCSNpZiBkZWZpbmVkKCBVU0VfRU5WTUFQICkgJiYgZGVmaW5lZCggU1RBTkRBUkQgKSAmJiBkZWZpbmVkKCBFTlZNQVBfVFlQRV9DVUJFX1VWICkKCQlpYmxJcnJhZGlhbmNlICs9IGdldElCTElycmFkaWFuY2UoIGdlb21ldHJ5Lm5vcm1hbCApOwoJI2VuZGlmCiNlbmRpZgojaWYgZGVmaW5lZCggVVNFX0VOVk1BUCApICYmIGRlZmluZWQoIFJFX0luZGlyZWN0U3BlY3VsYXIgKQoJcmFkaWFuY2UgKz0gZ2V0SUJMUmFkaWFuY2UoIGdlb21ldHJ5LnZpZXdEaXIsIGdlb21ldHJ5Lm5vcm1hbCwgbWF0ZXJpYWwucm91Z2huZXNzICk7CgkjaWZkZWYgVVNFX0NMRUFSQ09BVAoJCWNsZWFyY29hdFJhZGlhbmNlICs9IGdldElCTFJhZGlhbmNlKCBnZW9tZXRyeS52aWV3RGlyLCBnZW9tZXRyeS5jbGVhcmNvYXROb3JtYWwsIG1hdGVyaWFsLmNsZWFyY29hdFJvdWdobmVzcyApOwoJI2VuZGlmCiNlbmRpZmAsZHY9YCNpZiBkZWZpbmVkKCBSRV9JbmRpcmVjdERpZmZ1c2UgKQoJUkVfSW5kaXJlY3REaWZmdXNlKCBpcnJhZGlhbmNlLCBnZW9tZXRyeSwgbWF0ZXJpYWwsIHJlZmxlY3RlZExpZ2h0ICk7CiNlbmRpZgojaWYgZGVmaW5lZCggUkVfSW5kaXJlY3RTcGVjdWxhciApCglSRV9JbmRpcmVjdFNwZWN1bGFyKCByYWRpYW5jZSwgaWJsSXJyYWRpYW5jZSwgY2xlYXJjb2F0UmFkaWFuY2UsIGdlb21ldHJ5LCBtYXRlcmlhbCwgcmVmbGVjdGVkTGlnaHQgKTsKI2VuZGlmYCxwdj1gI2lmIGRlZmluZWQoIFVTRV9MT0dERVBUSEJVRiApICYmIGRlZmluZWQoIFVTRV9MT0dERVBUSEJVRl9FWFQgKQoJZ2xfRnJhZ0RlcHRoRVhUID0gdklzUGVyc3BlY3RpdmUgPT0gMC4wID8gZ2xfRnJhZ0Nvb3JkLnogOiBsb2cyKCB2RnJhZ0RlcHRoICkgKiBsb2dEZXB0aEJ1ZkZDICogMC41OwojZW5kaWZgLGZ2PWAjaWYgZGVmaW5lZCggVVNFX0xPR0RFUFRIQlVGICkgJiYgZGVmaW5lZCggVVNFX0xPR0RFUFRIQlVGX0VYVCApCgl1bmlmb3JtIGZsb2F0IGxvZ0RlcHRoQnVmRkM7Cgl2YXJ5aW5nIGZsb2F0IHZGcmFnRGVwdGg7Cgl2YXJ5aW5nIGZsb2F0IHZJc1BlcnNwZWN0aXZlOwojZW5kaWZgLG12PWAjaWZkZWYgVVNFX0xPR0RFUFRIQlVGCgkjaWZkZWYgVVNFX0xPR0RFUFRIQlVGX0VYVAoJCXZhcnlpbmcgZmxvYXQgdkZyYWdEZXB0aDsKCQl2YXJ5aW5nIGZsb2F0IHZJc1BlcnNwZWN0aXZlOwoJI2Vsc2UKCQl1bmlmb3JtIGZsb2F0IGxvZ0RlcHRoQnVmRkM7CgkjZW5kaWYKI2VuZGlmYCxndj1gI2lmZGVmIFVTRV9MT0dERVBUSEJVRgoJI2lmZGVmIFVTRV9MT0dERVBUSEJVRl9FWFQKCQl2RnJhZ0RlcHRoID0gMS4wICsgZ2xfUG9zaXRpb24udzsKCQl2SXNQZXJzcGVjdGl2ZSA9IGZsb2F0KCBpc1BlcnNwZWN0aXZlTWF0cml4KCBwcm9qZWN0aW9uTWF0cml4ICkgKTsKCSNlbHNlCgkJaWYgKCBpc1BlcnNwZWN0aXZlTWF0cml4KCBwcm9qZWN0aW9uTWF0cml4ICkgKSB7CgkJCWdsX1Bvc2l0aW9uLnogPSBsb2cyKCBtYXgoIEVQU0lMT04sIGdsX1Bvc2l0aW9uLncgKyAxLjAgKSApICogbG9nRGVwdGhCdWZGQyAtIDEuMDsKCQkJZ2xfUG9zaXRpb24ueiAqPSBnbF9Qb3NpdGlvbi53OwoJCX0KCSNlbmRpZgojZW5kaWZgLHZ2PWAjaWZkZWYgVVNFX01BUAoJdmVjNCBzYW1wbGVkRGlmZnVzZUNvbG9yID0gdGV4dHVyZTJEKCBtYXAsIHZVdiApOwoJI2lmZGVmIERFQ09ERV9WSURFT19URVhUVVJFCgkJc2FtcGxlZERpZmZ1c2VDb2xvciA9IHZlYzQoIG1peCggcG93KCBzYW1wbGVkRGlmZnVzZUNvbG9yLnJnYiAqIDAuOTQ3ODY3Mjk4NiArIHZlYzMoIDAuMDUyMTMyNzAxNCApLCB2ZWMzKCAyLjQgKSApLCBzYW1wbGVkRGlmZnVzZUNvbG9yLnJnYiAqIDAuMDc3Mzk5MzgwOCwgdmVjMyggbGVzc1RoYW5FcXVhbCggc2FtcGxlZERpZmZ1c2VDb2xvci5yZ2IsIHZlYzMoIDAuMDQwNDUgKSApICkgKSwgc2FtcGxlZERpZmZ1c2VDb2xvci53ICk7CgkjZW5kaWYKCWRpZmZ1c2VDb2xvciAqPSBzYW1wbGVkRGlmZnVzZUNvbG9yOwojZW5kaWZgLHh2PWAjaWZkZWYgVVNFX01BUAoJdW5pZm9ybSBzYW1wbGVyMkQgbWFwOwojZW5kaWZgLF92PWAjaWYgZGVmaW5lZCggVVNFX01BUCApIHx8IGRlZmluZWQoIFVTRV9BTFBIQU1BUCApCgl2ZWMyIHV2ID0gKCB1dlRyYW5zZm9ybSAqIHZlYzMoIGdsX1BvaW50Q29vcmQueCwgMS4wIC0gZ2xfUG9pbnRDb29yZC55LCAxICkgKS54eTsKI2VuZGlmCiNpZmRlZiBVU0VfTUFQCglkaWZmdXNlQ29sb3IgKj0gdGV4dHVyZTJEKCBtYXAsIHV2ICk7CiNlbmRpZgojaWZkZWYgVVNFX0FMUEhBTUFQCglkaWZmdXNlQ29sb3IuYSAqPSB0ZXh0dXJlMkQoIGFscGhhTWFwLCB1diApLmc7CiNlbmRpZmAseXY9YCNpZiBkZWZpbmVkKCBVU0VfTUFQICkgfHwgZGVmaW5lZCggVVNFX0FMUEhBTUFQICkKCXVuaWZvcm0gbWF0MyB1dlRyYW5zZm9ybTsKI2VuZGlmCiNpZmRlZiBVU0VfTUFQCgl1bmlmb3JtIHNhbXBsZXIyRCBtYXA7CiNlbmRpZgojaWZkZWYgVVNFX0FMUEhBTUFQCgl1bmlmb3JtIHNhbXBsZXIyRCBhbHBoYU1hcDsKI2VuZGlmYCxNdj1gZmxvYXQgbWV0YWxuZXNzRmFjdG9yID0gbWV0YWxuZXNzOwojaWZkZWYgVVNFX01FVEFMTkVTU01BUAoJdmVjNCB0ZXhlbE1ldGFsbmVzcyA9IHRleHR1cmUyRCggbWV0YWxuZXNzTWFwLCB2VXYgKTsKCW1ldGFsbmVzc0ZhY3RvciAqPSB0ZXhlbE1ldGFsbmVzcy5iOwojZW5kaWZgLGJ2PWAjaWZkZWYgVVNFX01FVEFMTkVTU01BUAoJdW5pZm9ybSBzYW1wbGVyMkQgbWV0YWxuZXNzTWFwOwojZW5kaWZgLHd2PWAjaWYgZGVmaW5lZCggVVNFX01PUlBIQ09MT1JTICkgJiYgZGVmaW5lZCggTU9SUEhUQVJHRVRTX1RFWFRVUkUgKQoJdkNvbG9yICo9IG1vcnBoVGFyZ2V0QmFzZUluZmx1ZW5jZTsKCWZvciAoIGludCBpID0gMDsgaSA8IE1PUlBIVEFSR0VUU19DT1VOVDsgaSArKyApIHsKCQkjaWYgZGVmaW5lZCggVVNFX0NPTE9SX0FMUEhBICkKCQkJaWYgKCBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIGkgXSAhPSAwLjAgKSB2Q29sb3IgKz0gZ2V0TW9ycGgoIGdsX1ZlcnRleElELCBpLCAyICkgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIGkgXTsKCQkjZWxpZiBkZWZpbmVkKCBVU0VfQ09MT1IgKQoJCQlpZiAoIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgaSBdICE9IDAuMCApIHZDb2xvciArPSBnZXRNb3JwaCggZ2xfVmVydGV4SUQsIGksIDIgKS5yZ2IgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIGkgXTsKCQkjZW5kaWYKCX0KI2VuZGlmYCxTdj1gI2lmZGVmIFVTRV9NT1JQSE5PUk1BTFMKCW9iamVjdE5vcm1hbCAqPSBtb3JwaFRhcmdldEJhc2VJbmZsdWVuY2U7CgkjaWZkZWYgTU9SUEhUQVJHRVRTX1RFWFRVUkUKCQlmb3IgKCBpbnQgaSA9IDA7IGkgPCBNT1JQSFRBUkdFVFNfQ09VTlQ7IGkgKysgKSB7CgkJCWlmICggbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyBpIF0gIT0gMC4wICkgb2JqZWN0Tm9ybWFsICs9IGdldE1vcnBoKCBnbF9WZXJ0ZXhJRCwgaSwgMSApLnh5eiAqIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgaSBdOwoJCX0KCSNlbHNlCgkJb2JqZWN0Tm9ybWFsICs9IG1vcnBoTm9ybWFsMCAqIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgMCBdOwoJCW9iamVjdE5vcm1hbCArPSBtb3JwaE5vcm1hbDEgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDEgXTsKCQlvYmplY3ROb3JtYWwgKz0gbW9ycGhOb3JtYWwyICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyAyIF07CgkJb2JqZWN0Tm9ybWFsICs9IG1vcnBoTm9ybWFsMyAqIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgMyBdOwoJI2VuZGlmCiNlbmRpZmAsRXY9YCNpZmRlZiBVU0VfTU9SUEhUQVJHRVRTCgl1bmlmb3JtIGZsb2F0IG1vcnBoVGFyZ2V0QmFzZUluZmx1ZW5jZTsKCSNpZmRlZiBNT1JQSFRBUkdFVFNfVEVYVFVSRQoJCXVuaWZvcm0gZmxvYXQgbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyBNT1JQSFRBUkdFVFNfQ09VTlQgXTsKCQl1bmlmb3JtIHNhbXBsZXIyREFycmF5IG1vcnBoVGFyZ2V0c1RleHR1cmU7CgkJdW5pZm9ybSBpdmVjMiBtb3JwaFRhcmdldHNUZXh0dXJlU2l6ZTsKCQl2ZWM0IGdldE1vcnBoKCBjb25zdCBpbiBpbnQgdmVydGV4SW5kZXgsIGNvbnN0IGluIGludCBtb3JwaFRhcmdldEluZGV4LCBjb25zdCBpbiBpbnQgb2Zmc2V0ICkgewoJCQlpbnQgdGV4ZWxJbmRleCA9IHZlcnRleEluZGV4ICogTU9SUEhUQVJHRVRTX1RFWFRVUkVfU1RSSURFICsgb2Zmc2V0OwoJCQlpbnQgeSA9IHRleGVsSW5kZXggLyBtb3JwaFRhcmdldHNUZXh0dXJlU2l6ZS54OwoJCQlpbnQgeCA9IHRleGVsSW5kZXggLSB5ICogbW9ycGhUYXJnZXRzVGV4dHVyZVNpemUueDsKCQkJaXZlYzMgbW9ycGhVViA9IGl2ZWMzKCB4LCB5LCBtb3JwaFRhcmdldEluZGV4ICk7CgkJCXJldHVybiB0ZXhlbEZldGNoKCBtb3JwaFRhcmdldHNUZXh0dXJlLCBtb3JwaFVWLCAwICk7CgkJfQoJI2Vsc2UKCQkjaWZuZGVmIFVTRV9NT1JQSE5PUk1BTFMKCQkJdW5pZm9ybSBmbG9hdCBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDggXTsKCQkjZWxzZQoJCQl1bmlmb3JtIGZsb2F0IG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgNCBdOwoJCSNlbmRpZgoJI2VuZGlmCiNlbmRpZmAsVHY9YCNpZmRlZiBVU0VfTU9SUEhUQVJHRVRTCgl0cmFuc2Zvcm1lZCAqPSBtb3JwaFRhcmdldEJhc2VJbmZsdWVuY2U7CgkjaWZkZWYgTU9SUEhUQVJHRVRTX1RFWFRVUkUKCQlmb3IgKCBpbnQgaSA9IDA7IGkgPCBNT1JQSFRBUkdFVFNfQ09VTlQ7IGkgKysgKSB7CgkJCWlmICggbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyBpIF0gIT0gMC4wICkgdHJhbnNmb3JtZWQgKz0gZ2V0TW9ycGgoIGdsX1ZlcnRleElELCBpLCAwICkueHl6ICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyBpIF07CgkJfQoJI2Vsc2UKCQl0cmFuc2Zvcm1lZCArPSBtb3JwaFRhcmdldDAgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDAgXTsKCQl0cmFuc2Zvcm1lZCArPSBtb3JwaFRhcmdldDEgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDEgXTsKCQl0cmFuc2Zvcm1lZCArPSBtb3JwaFRhcmdldDIgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDIgXTsKCQl0cmFuc2Zvcm1lZCArPSBtb3JwaFRhcmdldDMgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDMgXTsKCQkjaWZuZGVmIFVTRV9NT1JQSE5PUk1BTFMKCQkJdHJhbnNmb3JtZWQgKz0gbW9ycGhUYXJnZXQ0ICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyA0IF07CgkJCXRyYW5zZm9ybWVkICs9IG1vcnBoVGFyZ2V0NSAqIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgNSBdOwoJCQl0cmFuc2Zvcm1lZCArPSBtb3JwaFRhcmdldDYgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDYgXTsKCQkJdHJhbnNmb3JtZWQgKz0gbW9ycGhUYXJnZXQ3ICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyA3IF07CgkJI2VuZGlmCgkjZW5kaWYKI2VuZGlmYCxBdj1gZmxvYXQgZmFjZURpcmVjdGlvbiA9IGdsX0Zyb250RmFjaW5nID8gMS4wIDogLSAxLjA7CiNpZmRlZiBGTEFUX1NIQURFRAoJdmVjMyBmZHggPSB2ZWMzKCBkRmR4KCB2Vmlld1Bvc2l0aW9uLnggKSwgZEZkeCggdlZpZXdQb3NpdGlvbi55ICksIGRGZHgoIHZWaWV3UG9zaXRpb24ueiApICk7Cgl2ZWMzIGZkeSA9IHZlYzMoIGRGZHkoIHZWaWV3UG9zaXRpb24ueCApLCBkRmR5KCB2Vmlld1Bvc2l0aW9uLnkgKSwgZEZkeSggdlZpZXdQb3NpdGlvbi56ICkgKTsKCXZlYzMgbm9ybWFsID0gbm9ybWFsaXplKCBjcm9zcyggZmR4LCBmZHkgKSApOwojZWxzZQoJdmVjMyBub3JtYWwgPSBub3JtYWxpemUoIHZOb3JtYWwgKTsKCSNpZmRlZiBET1VCTEVfU0lERUQKCQlub3JtYWwgPSBub3JtYWwgKiBmYWNlRGlyZWN0aW9uOwoJI2VuZGlmCgkjaWZkZWYgVVNFX1RBTkdFTlQKCQl2ZWMzIHRhbmdlbnQgPSBub3JtYWxpemUoIHZUYW5nZW50ICk7CgkJdmVjMyBiaXRhbmdlbnQgPSBub3JtYWxpemUoIHZCaXRhbmdlbnQgKTsKCQkjaWZkZWYgRE9VQkxFX1NJREVECgkJCXRhbmdlbnQgPSB0YW5nZW50ICogZmFjZURpcmVjdGlvbjsKCQkJYml0YW5nZW50ID0gYml0YW5nZW50ICogZmFjZURpcmVjdGlvbjsKCQkjZW5kaWYKCQkjaWYgZGVmaW5lZCggVEFOR0VOVFNQQUNFX05PUk1BTE1BUCApIHx8IGRlZmluZWQoIFVTRV9DTEVBUkNPQVRfTk9STUFMTUFQICkKCQkJbWF0MyB2VEJOID0gbWF0MyggdGFuZ2VudCwgYml0YW5nZW50LCBub3JtYWwgKTsKCQkjZW5kaWYKCSNlbmRpZgojZW5kaWYKdmVjMyBnZW9tZXRyeU5vcm1hbCA9IG5vcm1hbDtgLEN2PWAjaWZkZWYgT0JKRUNUU1BBQ0VfTk9STUFMTUFQCglub3JtYWwgPSB0ZXh0dXJlMkQoIG5vcm1hbE1hcCwgdlV2ICkueHl6ICogMi4wIC0gMS4wOwoJI2lmZGVmIEZMSVBfU0lERUQKCQlub3JtYWwgPSAtIG5vcm1hbDsKCSNlbmRpZgoJI2lmZGVmIERPVUJMRV9TSURFRAoJCW5vcm1hbCA9IG5vcm1hbCAqIGZhY2VEaXJlY3Rpb247CgkjZW5kaWYKCW5vcm1hbCA9IG5vcm1hbGl6ZSggbm9ybWFsTWF0cml4ICogbm9ybWFsICk7CiNlbGlmIGRlZmluZWQoIFRBTkdFTlRTUEFDRV9OT1JNQUxNQVAgKQoJdmVjMyBtYXBOID0gdGV4dHVyZTJEKCBub3JtYWxNYXAsIHZVdiApLnh5eiAqIDIuMCAtIDEuMDsKCW1hcE4ueHkgKj0gbm9ybWFsU2NhbGU7CgkjaWZkZWYgVVNFX1RBTkdFTlQKCQlub3JtYWwgPSBub3JtYWxpemUoIHZUQk4gKiBtYXBOICk7CgkjZWxzZQoJCW5vcm1hbCA9IHBlcnR1cmJOb3JtYWwyQXJiKCAtIHZWaWV3UG9zaXRpb24sIG5vcm1hbCwgbWFwTiwgZmFjZURpcmVjdGlvbiApOwoJI2VuZGlmCiNlbGlmIGRlZmluZWQoIFVTRV9CVU1QTUFQICkKCW5vcm1hbCA9IHBlcnR1cmJOb3JtYWxBcmIoIC0gdlZpZXdQb3NpdGlvbiwgbm9ybWFsLCBkSGR4eV9md2QoKSwgZmFjZURpcmVjdGlvbiApOwojZW5kaWZgLEx2PWAjaWZuZGVmIEZMQVRfU0hBREVECgl2YXJ5aW5nIHZlYzMgdk5vcm1hbDsKCSNpZmRlZiBVU0VfVEFOR0VOVAoJCXZhcnlpbmcgdmVjMyB2VGFuZ2VudDsKCQl2YXJ5aW5nIHZlYzMgdkJpdGFuZ2VudDsKCSNlbmRpZgojZW5kaWZgLFJ2PWAjaWZuZGVmIEZMQVRfU0hBREVECgl2YXJ5aW5nIHZlYzMgdk5vcm1hbDsKCSNpZmRlZiBVU0VfVEFOR0VOVAoJCXZhcnlpbmcgdmVjMyB2VGFuZ2VudDsKCQl2YXJ5aW5nIHZlYzMgdkJpdGFuZ2VudDsKCSNlbmRpZgojZW5kaWZgLFB2PWAjaWZuZGVmIEZMQVRfU0hBREVECgl2Tm9ybWFsID0gbm9ybWFsaXplKCB0cmFuc2Zvcm1lZE5vcm1hbCApOwoJI2lmZGVmIFVTRV9UQU5HRU5UCgkJdlRhbmdlbnQgPSBub3JtYWxpemUoIHRyYW5zZm9ybWVkVGFuZ2VudCApOwoJCXZCaXRhbmdlbnQgPSBub3JtYWxpemUoIGNyb3NzKCB2Tm9ybWFsLCB2VGFuZ2VudCApICogdGFuZ2VudC53ICk7CgkjZW5kaWYKI2VuZGlmYCxJdj1gI2lmZGVmIFVTRV9OT1JNQUxNQVAKCXVuaWZvcm0gc2FtcGxlcjJEIG5vcm1hbE1hcDsKCXVuaWZvcm0gdmVjMiBub3JtYWxTY2FsZTsKI2VuZGlmCiNpZmRlZiBPQkpFQ1RTUEFDRV9OT1JNQUxNQVAKCXVuaWZvcm0gbWF0MyBub3JtYWxNYXRyaXg7CiNlbmRpZgojaWYgISBkZWZpbmVkICggVVNFX1RBTkdFTlQgKSAmJiAoIGRlZmluZWQgKCBUQU5HRU5UU1BBQ0VfTk9STUFMTUFQICkgfHwgZGVmaW5lZCAoIFVTRV9DTEVBUkNPQVRfTk9STUFMTUFQICkgKQoJdmVjMyBwZXJ0dXJiTm9ybWFsMkFyYiggdmVjMyBleWVfcG9zLCB2ZWMzIHN1cmZfbm9ybSwgdmVjMyBtYXBOLCBmbG9hdCBmYWNlRGlyZWN0aW9uICkgewoJCXZlYzMgcTAgPSB2ZWMzKCBkRmR4KCBleWVfcG9zLnggKSwgZEZkeCggZXllX3Bvcy55ICksIGRGZHgoIGV5ZV9wb3MueiApICk7CgkJdmVjMyBxMSA9IHZlYzMoIGRGZHkoIGV5ZV9wb3MueCApLCBkRmR5KCBleWVfcG9zLnkgKSwgZEZkeSggZXllX3Bvcy56ICkgKTsKCQl2ZWMyIHN0MCA9IGRGZHgoIHZVdi5zdCApOwoJCXZlYzIgc3QxID0gZEZkeSggdlV2LnN0ICk7CgkJdmVjMyBOID0gc3VyZl9ub3JtOwoJCXZlYzMgcTFwZXJwID0gY3Jvc3MoIHExLCBOICk7CgkJdmVjMyBxMHBlcnAgPSBjcm9zcyggTiwgcTAgKTsKCQl2ZWMzIFQgPSBxMXBlcnAgKiBzdDAueCArIHEwcGVycCAqIHN0MS54OwoJCXZlYzMgQiA9IHExcGVycCAqIHN0MC55ICsgcTBwZXJwICogc3QxLnk7CgkJZmxvYXQgZGV0ID0gbWF4KCBkb3QoIFQsIFQgKSwgZG90KCBCLCBCICkgKTsKCQlmbG9hdCBzY2FsZSA9ICggZGV0ID09IDAuMCApID8gMC4wIDogZmFjZURpcmVjdGlvbiAqIGludmVyc2VzcXJ0KCBkZXQgKTsKCQlyZXR1cm4gbm9ybWFsaXplKCBUICogKCBtYXBOLnggKiBzY2FsZSApICsgQiAqICggbWFwTi55ICogc2NhbGUgKSArIE4gKiBtYXBOLnogKTsKCX0KI2VuZGlmYCxOdj1gI2lmZGVmIFVTRV9DTEVBUkNPQVQKCXZlYzMgY2xlYXJjb2F0Tm9ybWFsID0gZ2VvbWV0cnlOb3JtYWw7CiNlbmRpZmAsRHY9YCNpZmRlZiBVU0VfQ0xFQVJDT0FUX05PUk1BTE1BUAoJdmVjMyBjbGVhcmNvYXRNYXBOID0gdGV4dHVyZTJEKCBjbGVhcmNvYXROb3JtYWxNYXAsIHZVdiApLnh5eiAqIDIuMCAtIDEuMDsKCWNsZWFyY29hdE1hcE4ueHkgKj0gY2xlYXJjb2F0Tm9ybWFsU2NhbGU7CgkjaWZkZWYgVVNFX1RBTkdFTlQKCQljbGVhcmNvYXROb3JtYWwgPSBub3JtYWxpemUoIHZUQk4gKiBjbGVhcmNvYXRNYXBOICk7CgkjZWxzZQoJCWNsZWFyY29hdE5vcm1hbCA9IHBlcnR1cmJOb3JtYWwyQXJiKCAtIHZWaWV3UG9zaXRpb24sIGNsZWFyY29hdE5vcm1hbCwgY2xlYXJjb2F0TWFwTiwgZmFjZURpcmVjdGlvbiApOwoJI2VuZGlmCiNlbmRpZmAsT3Y9YCNpZmRlZiBVU0VfQ0xFQVJDT0FUTUFQCgl1bmlmb3JtIHNhbXBsZXIyRCBjbGVhcmNvYXRNYXA7CiNlbmRpZgojaWZkZWYgVVNFX0NMRUFSQ09BVF9ST1VHSE5FU1NNQVAKCXVuaWZvcm0gc2FtcGxlcjJEIGNsZWFyY29hdFJvdWdobmVzc01hcDsKI2VuZGlmCiNpZmRlZiBVU0VfQ0xFQVJDT0FUX05PUk1BTE1BUAoJdW5pZm9ybSBzYW1wbGVyMkQgY2xlYXJjb2F0Tm9ybWFsTWFwOwoJdW5pZm9ybSB2ZWMyIGNsZWFyY29hdE5vcm1hbFNjYWxlOwojZW5kaWZgLHp2PWAjaWZkZWYgT1BBUVVFCmRpZmZ1c2VDb2xvci5hID0gMS4wOwojZW5kaWYKI2lmZGVmIFVTRV9UUkFOU01JU1NJT04KZGlmZnVzZUNvbG9yLmEgKj0gdHJhbnNtaXNzaW9uQWxwaGEgKyAwLjE7CiNlbmRpZgpnbF9GcmFnQ29sb3IgPSB2ZWM0KCBvdXRnb2luZ0xpZ2h0LCBkaWZmdXNlQ29sb3IuYSApO2AsQnY9YHZlYzMgcGFja05vcm1hbFRvUkdCKCBjb25zdCBpbiB2ZWMzIG5vcm1hbCApIHsKCXJldHVybiBub3JtYWxpemUoIG5vcm1hbCApICogMC41ICsgMC41Owp9CnZlYzMgdW5wYWNrUkdCVG9Ob3JtYWwoIGNvbnN0IGluIHZlYzMgcmdiICkgewoJcmV0dXJuIDIuMCAqIHJnYi54eXogLSAxLjA7Cn0KY29uc3QgZmxvYXQgUGFja1Vwc2NhbGUgPSAyNTYuIC8gMjU1Ljtjb25zdCBmbG9hdCBVbnBhY2tEb3duc2NhbGUgPSAyNTUuIC8gMjU2LjsKY29uc3QgdmVjMyBQYWNrRmFjdG9ycyA9IHZlYzMoIDI1Ni4gKiAyNTYuICogMjU2LiwgMjU2LiAqIDI1Ni4sIDI1Ni4gKTsKY29uc3QgdmVjNCBVbnBhY2tGYWN0b3JzID0gVW5wYWNrRG93bnNjYWxlIC8gdmVjNCggUGFja0ZhY3RvcnMsIDEuICk7CmNvbnN0IGZsb2F0IFNoaWZ0UmlnaHQ4ID0gMS4gLyAyNTYuOwp2ZWM0IHBhY2tEZXB0aFRvUkdCQSggY29uc3QgaW4gZmxvYXQgdiApIHsKCXZlYzQgciA9IHZlYzQoIGZyYWN0KCB2ICogUGFja0ZhY3RvcnMgKSwgdiApOwoJci55encgLT0gci54eXogKiBTaGlmdFJpZ2h0ODsJcmV0dXJuIHIgKiBQYWNrVXBzY2FsZTsKfQpmbG9hdCB1bnBhY2tSR0JBVG9EZXB0aCggY29uc3QgaW4gdmVjNCB2ICkgewoJcmV0dXJuIGRvdCggdiwgVW5wYWNrRmFjdG9ycyApOwp9CnZlYzQgcGFjazJIYWxmVG9SR0JBKCB2ZWMyIHYgKSB7Cgl2ZWM0IHIgPSB2ZWM0KCB2LngsIGZyYWN0KCB2LnggKiAyNTUuMCApLCB2LnksIGZyYWN0KCB2LnkgKiAyNTUuMCApICk7CglyZXR1cm4gdmVjNCggci54IC0gci55IC8gMjU1LjAsIHIueSwgci56IC0gci53IC8gMjU1LjAsIHIudyApOwp9CnZlYzIgdW5wYWNrUkdCQVRvMkhhbGYoIHZlYzQgdiApIHsKCXJldHVybiB2ZWMyKCB2LnggKyAoIHYueSAvIDI1NS4wICksIHYueiArICggdi53IC8gMjU1LjAgKSApOwp9CmZsb2F0IHZpZXdaVG9PcnRob2dyYXBoaWNEZXB0aCggY29uc3QgaW4gZmxvYXQgdmlld1osIGNvbnN0IGluIGZsb2F0IG5lYXIsIGNvbnN0IGluIGZsb2F0IGZhciApIHsKCXJldHVybiAoIHZpZXdaICsgbmVhciApIC8gKCBuZWFyIC0gZmFyICk7Cn0KZmxvYXQgb3J0aG9ncmFwaGljRGVwdGhUb1ZpZXdaKCBjb25zdCBpbiBmbG9hdCBsaW5lYXJDbGlwWiwgY29uc3QgaW4gZmxvYXQgbmVhciwgY29uc3QgaW4gZmxvYXQgZmFyICkgewoJcmV0dXJuIGxpbmVhckNsaXBaICogKCBuZWFyIC0gZmFyICkgLSBuZWFyOwp9CmZsb2F0IHZpZXdaVG9QZXJzcGVjdGl2ZURlcHRoKCBjb25zdCBpbiBmbG9hdCB2aWV3WiwgY29uc3QgaW4gZmxvYXQgbmVhciwgY29uc3QgaW4gZmxvYXQgZmFyICkgewoJcmV0dXJuICggKCBuZWFyICsgdmlld1ogKSAqIGZhciApIC8gKCAoIGZhciAtIG5lYXIgKSAqIHZpZXdaICk7Cn0KZmxvYXQgcGVyc3BlY3RpdmVEZXB0aFRvVmlld1ooIGNvbnN0IGluIGZsb2F0IGludkNsaXBaLCBjb25zdCBpbiBmbG9hdCBuZWFyLCBjb25zdCBpbiBmbG9hdCBmYXIgKSB7CglyZXR1cm4gKCBuZWFyICogZmFyICkgLyAoICggZmFyIC0gbmVhciApICogaW52Q2xpcFogLSBmYXIgKTsKfWAsVXY9YCNpZmRlZiBQUkVNVUxUSVBMSUVEX0FMUEhBCglnbF9GcmFnQ29sb3IucmdiICo9IGdsX0ZyYWdDb2xvci5hOwojZW5kaWZgLEZ2PWB2ZWM0IG12UG9zaXRpb24gPSB2ZWM0KCB0cmFuc2Zvcm1lZCwgMS4wICk7CiNpZmRlZiBVU0VfSU5TVEFOQ0lORwoJbXZQb3NpdGlvbiA9IGluc3RhbmNlTWF0cml4ICogbXZQb3NpdGlvbjsKI2VuZGlmCm12UG9zaXRpb24gPSBtb2RlbFZpZXdNYXRyaXggKiBtdlBvc2l0aW9uOwpnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtdlBvc2l0aW9uO2AsSHY9YCNpZmRlZiBESVRIRVJJTkcKCWdsX0ZyYWdDb2xvci5yZ2IgPSBkaXRoZXJpbmcoIGdsX0ZyYWdDb2xvci5yZ2IgKTsKI2VuZGlmYCxrdj1gI2lmZGVmIERJVEhFUklORwoJdmVjMyBkaXRoZXJpbmcoIHZlYzMgY29sb3IgKSB7CgkJZmxvYXQgZ3JpZF9wb3NpdGlvbiA9IHJhbmQoIGdsX0ZyYWdDb29yZC54eSApOwoJCXZlYzMgZGl0aGVyX3NoaWZ0X1JHQiA9IHZlYzMoIDAuMjUgLyAyNTUuMCwgLTAuMjUgLyAyNTUuMCwgMC4yNSAvIDI1NS4wICk7CgkJZGl0aGVyX3NoaWZ0X1JHQiA9IG1peCggMi4wICogZGl0aGVyX3NoaWZ0X1JHQiwgLTIuMCAqIGRpdGhlcl9zaGlmdF9SR0IsIGdyaWRfcG9zaXRpb24gKTsKCQlyZXR1cm4gY29sb3IgKyBkaXRoZXJfc2hpZnRfUkdCOwoJfQojZW5kaWZgLEd2PWBmbG9hdCByb3VnaG5lc3NGYWN0b3IgPSByb3VnaG5lc3M7CiNpZmRlZiBVU0VfUk9VR0hORVNTTUFQCgl2ZWM0IHRleGVsUm91Z2huZXNzID0gdGV4dHVyZTJEKCByb3VnaG5lc3NNYXAsIHZVdiApOwoJcm91Z2huZXNzRmFjdG9yICo9IHRleGVsUm91Z2huZXNzLmc7CiNlbmRpZmAsVnY9YCNpZmRlZiBVU0VfUk9VR0hORVNTTUFQCgl1bmlmb3JtIHNhbXBsZXIyRCByb3VnaG5lc3NNYXA7CiNlbmRpZmAsV3Y9YCNpZmRlZiBVU0VfU0hBRE9XTUFQCgkjaWYgTlVNX0RJUl9MSUdIVF9TSEFET1dTID4gMAoJCXVuaWZvcm0gc2FtcGxlcjJEIGRpcmVjdGlvbmFsU2hhZG93TWFwWyBOVU1fRElSX0xJR0hUX1NIQURPV1MgXTsKCQl2YXJ5aW5nIHZlYzQgdkRpcmVjdGlvbmFsU2hhZG93Q29vcmRbIE5VTV9ESVJfTElHSFRfU0hBRE9XUyBdOwoJCXN0cnVjdCBEaXJlY3Rpb25hbExpZ2h0U2hhZG93IHsKCQkJZmxvYXQgc2hhZG93QmlhczsKCQkJZmxvYXQgc2hhZG93Tm9ybWFsQmlhczsKCQkJZmxvYXQgc2hhZG93UmFkaXVzOwoJCQl2ZWMyIHNoYWRvd01hcFNpemU7CgkJfTsKCQl1bmlmb3JtIERpcmVjdGlvbmFsTGlnaHRTaGFkb3cgZGlyZWN0aW9uYWxMaWdodFNoYWRvd3NbIE5VTV9ESVJfTElHSFRfU0hBRE9XUyBdOwoJI2VuZGlmCgkjaWYgTlVNX1NQT1RfTElHSFRfU0hBRE9XUyA+IDAKCQl1bmlmb3JtIHNhbXBsZXIyRCBzcG90U2hhZG93TWFwWyBOVU1fU1BPVF9MSUdIVF9TSEFET1dTIF07CgkJdmFyeWluZyB2ZWM0IHZTcG90U2hhZG93Q29vcmRbIE5VTV9TUE9UX0xJR0hUX1NIQURPV1MgXTsKCQlzdHJ1Y3QgU3BvdExpZ2h0U2hhZG93IHsKCQkJZmxvYXQgc2hhZG93QmlhczsKCQkJZmxvYXQgc2hhZG93Tm9ybWFsQmlhczsKCQkJZmxvYXQgc2hhZG93UmFkaXVzOwoJCQl2ZWMyIHNoYWRvd01hcFNpemU7CgkJfTsKCQl1bmlmb3JtIFNwb3RMaWdodFNoYWRvdyBzcG90TGlnaHRTaGFkb3dzWyBOVU1fU1BPVF9MSUdIVF9TSEFET1dTIF07CgkjZW5kaWYKCSNpZiBOVU1fUE9JTlRfTElHSFRfU0hBRE9XUyA+IDAKCQl1bmlmb3JtIHNhbXBsZXIyRCBwb2ludFNoYWRvd01hcFsgTlVNX1BPSU5UX0xJR0hUX1NIQURPV1MgXTsKCQl2YXJ5aW5nIHZlYzQgdlBvaW50U2hhZG93Q29vcmRbIE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTIF07CgkJc3RydWN0IFBvaW50TGlnaHRTaGFkb3cgewoJCQlmbG9hdCBzaGFkb3dCaWFzOwoJCQlmbG9hdCBzaGFkb3dOb3JtYWxCaWFzOwoJCQlmbG9hdCBzaGFkb3dSYWRpdXM7CgkJCXZlYzIgc2hhZG93TWFwU2l6ZTsKCQkJZmxvYXQgc2hhZG93Q2FtZXJhTmVhcjsKCQkJZmxvYXQgc2hhZG93Q2FtZXJhRmFyOwoJCX07CgkJdW5pZm9ybSBQb2ludExpZ2h0U2hhZG93IHBvaW50TGlnaHRTaGFkb3dzWyBOVU1fUE9JTlRfTElHSFRfU0hBRE9XUyBdOwoJI2VuZGlmCglmbG9hdCB0ZXh0dXJlMkRDb21wYXJlKCBzYW1wbGVyMkQgZGVwdGhzLCB2ZWMyIHV2LCBmbG9hdCBjb21wYXJlICkgewoJCXJldHVybiBzdGVwKCBjb21wYXJlLCB1bnBhY2tSR0JBVG9EZXB0aCggdGV4dHVyZTJEKCBkZXB0aHMsIHV2ICkgKSApOwoJfQoJdmVjMiB0ZXh0dXJlMkREaXN0cmlidXRpb24oIHNhbXBsZXIyRCBzaGFkb3csIHZlYzIgdXYgKSB7CgkJcmV0dXJuIHVucGFja1JHQkFUbzJIYWxmKCB0ZXh0dXJlMkQoIHNoYWRvdywgdXYgKSApOwoJfQoJZmxvYXQgVlNNU2hhZG93IChzYW1wbGVyMkQgc2hhZG93LCB2ZWMyIHV2LCBmbG9hdCBjb21wYXJlICl7CgkJZmxvYXQgb2NjbHVzaW9uID0gMS4wOwoJCXZlYzIgZGlzdHJpYnV0aW9uID0gdGV4dHVyZTJERGlzdHJpYnV0aW9uKCBzaGFkb3csIHV2ICk7CgkJZmxvYXQgaGFyZF9zaGFkb3cgPSBzdGVwKCBjb21wYXJlICwgZGlzdHJpYnV0aW9uLnggKTsKCQlpZiAoaGFyZF9zaGFkb3cgIT0gMS4wICkgewoJCQlmbG9hdCBkaXN0YW5jZSA9IGNvbXBhcmUgLSBkaXN0cmlidXRpb24ueCA7CgkJCWZsb2F0IHZhcmlhbmNlID0gbWF4KCAwLjAwMDAwLCBkaXN0cmlidXRpb24ueSAqIGRpc3RyaWJ1dGlvbi55ICk7CgkJCWZsb2F0IHNvZnRuZXNzX3Byb2JhYmlsaXR5ID0gdmFyaWFuY2UgLyAodmFyaWFuY2UgKyBkaXN0YW5jZSAqIGRpc3RhbmNlICk7CQkJc29mdG5lc3NfcHJvYmFiaWxpdHkgPSBjbGFtcCggKCBzb2Z0bmVzc19wcm9iYWJpbGl0eSAtIDAuMyApIC8gKCAwLjk1IC0gMC4zICksIDAuMCwgMS4wICk7CQkJb2NjbHVzaW9uID0gY2xhbXAoIG1heCggaGFyZF9zaGFkb3csIHNvZnRuZXNzX3Byb2JhYmlsaXR5ICksIDAuMCwgMS4wICk7CgkJfQoJCXJldHVybiBvY2NsdXNpb247Cgl9CglmbG9hdCBnZXRTaGFkb3coIHNhbXBsZXIyRCBzaGFkb3dNYXAsIHZlYzIgc2hhZG93TWFwU2l6ZSwgZmxvYXQgc2hhZG93QmlhcywgZmxvYXQgc2hhZG93UmFkaXVzLCB2ZWM0IHNoYWRvd0Nvb3JkICkgewoJCWZsb2F0IHNoYWRvdyA9IDEuMDsKCQlzaGFkb3dDb29yZC54eXogLz0gc2hhZG93Q29vcmQudzsKCQlzaGFkb3dDb29yZC56ICs9IHNoYWRvd0JpYXM7CgkJYnZlYzQgaW5GcnVzdHVtVmVjID0gYnZlYzQgKCBzaGFkb3dDb29yZC54ID49IDAuMCwgc2hhZG93Q29vcmQueCA8PSAxLjAsIHNoYWRvd0Nvb3JkLnkgPj0gMC4wLCBzaGFkb3dDb29yZC55IDw9IDEuMCApOwoJCWJvb2wgaW5GcnVzdHVtID0gYWxsKCBpbkZydXN0dW1WZWMgKTsKCQlidmVjMiBmcnVzdHVtVGVzdFZlYyA9IGJ2ZWMyKCBpbkZydXN0dW0sIHNoYWRvd0Nvb3JkLnogPD0gMS4wICk7CgkJYm9vbCBmcnVzdHVtVGVzdCA9IGFsbCggZnJ1c3R1bVRlc3RWZWMgKTsKCQlpZiAoIGZydXN0dW1UZXN0ICkgewoJCSNpZiBkZWZpbmVkKCBTSEFET1dNQVBfVFlQRV9QQ0YgKQoJCQl2ZWMyIHRleGVsU2l6ZSA9IHZlYzIoIDEuMCApIC8gc2hhZG93TWFwU2l6ZTsKCQkJZmxvYXQgZHgwID0gLSB0ZXhlbFNpemUueCAqIHNoYWRvd1JhZGl1czsKCQkJZmxvYXQgZHkwID0gLSB0ZXhlbFNpemUueSAqIHNoYWRvd1JhZGl1czsKCQkJZmxvYXQgZHgxID0gKyB0ZXhlbFNpemUueCAqIHNoYWRvd1JhZGl1czsKCQkJZmxvYXQgZHkxID0gKyB0ZXhlbFNpemUueSAqIHNoYWRvd1JhZGl1czsKCQkJZmxvYXQgZHgyID0gZHgwIC8gMi4wOwoJCQlmbG9hdCBkeTIgPSBkeTAgLyAyLjA7CgkJCWZsb2F0IGR4MyA9IGR4MSAvIDIuMDsKCQkJZmxvYXQgZHkzID0gZHkxIC8gMi4wOwoJCQlzaGFkb3cgPSAoCgkJCQl0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggZHgwLCBkeTAgKSwgc2hhZG93Q29vcmQueiApICsKCQkJCXRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCAwLjAsIGR5MCApLCBzaGFkb3dDb29yZC56ICkgKwoJCQkJdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MSwgZHkwICksIHNoYWRvd0Nvb3JkLnogKSArCgkJCQl0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggZHgyLCBkeTIgKSwgc2hhZG93Q29vcmQueiApICsKCQkJCXRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCAwLjAsIGR5MiApLCBzaGFkb3dDb29yZC56ICkgKwoJCQkJdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MywgZHkyICksIHNoYWRvd0Nvb3JkLnogKSArCgkJCQl0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggZHgwLCAwLjAgKSwgc2hhZG93Q29vcmQueiApICsKCQkJCXRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDIsIDAuMCApLCBzaGFkb3dDb29yZC56ICkgKwoJCQkJdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSwgc2hhZG93Q29vcmQueiApICsKCQkJCXRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDMsIDAuMCApLCBzaGFkb3dDb29yZC56ICkgKwoJCQkJdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MSwgMC4wICksIHNoYWRvd0Nvb3JkLnogKSArCgkJCQl0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggZHgyLCBkeTMgKSwgc2hhZG93Q29vcmQueiApICsKCQkJCXRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCAwLjAsIGR5MyApLCBzaGFkb3dDb29yZC56ICkgKwoJCQkJdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MywgZHkzICksIHNoYWRvd0Nvb3JkLnogKSArCgkJCQl0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggZHgwLCBkeTEgKSwgc2hhZG93Q29vcmQueiApICsKCQkJCXRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCAwLjAsIGR5MSApLCBzaGFkb3dDb29yZC56ICkgKwoJCQkJdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MSwgZHkxICksIHNoYWRvd0Nvb3JkLnogKQoJCQkpICogKCAxLjAgLyAxNy4wICk7CgkJI2VsaWYgZGVmaW5lZCggU0hBRE9XTUFQX1RZUEVfUENGX1NPRlQgKQoJCQl2ZWMyIHRleGVsU2l6ZSA9IHZlYzIoIDEuMCApIC8gc2hhZG93TWFwU2l6ZTsKCQkJZmxvYXQgZHggPSB0ZXhlbFNpemUueDsKCQkJZmxvYXQgZHkgPSB0ZXhlbFNpemUueTsKCQkJdmVjMiB1diA9IHNoYWRvd0Nvb3JkLnh5OwoJCQl2ZWMyIGYgPSBmcmFjdCggdXYgKiBzaGFkb3dNYXBTaXplICsgMC41ICk7CgkJCXV2IC09IGYgKiB0ZXhlbFNpemU7CgkJCXNoYWRvdyA9ICgKCQkJCXRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgdXYsIHNoYWRvd0Nvb3JkLnogKSArCgkJCQl0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHV2ICsgdmVjMiggZHgsIDAuMCApLCBzaGFkb3dDb29yZC56ICkgKwoJCQkJdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCB1diArIHZlYzIoIDAuMCwgZHkgKSwgc2hhZG93Q29vcmQueiApICsKCQkJCXRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgdXYgKyB0ZXhlbFNpemUsIHNoYWRvd0Nvb3JkLnogKSArCgkJCQltaXgoIHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgdXYgKyB2ZWMyKCAtZHgsIDAuMCApLCBzaGFkb3dDb29yZC56ICksIAoJCQkJCSB0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHV2ICsgdmVjMiggMi4wICogZHgsIDAuMCApLCBzaGFkb3dDb29yZC56ICksCgkJCQkJIGYueCApICsKCQkJCW1peCggdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCB1diArIHZlYzIoIC1keCwgZHkgKSwgc2hhZG93Q29vcmQueiApLCAKCQkJCQkgdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCB1diArIHZlYzIoIDIuMCAqIGR4LCBkeSApLCBzaGFkb3dDb29yZC56ICksCgkJCQkJIGYueCApICsKCQkJCW1peCggdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCB1diArIHZlYzIoIDAuMCwgLWR5ICksIHNoYWRvd0Nvb3JkLnogKSwgCgkJCQkJIHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgdXYgKyB2ZWMyKCAwLjAsIDIuMCAqIGR5ICksIHNoYWRvd0Nvb3JkLnogKSwKCQkJCQkgZi55ICkgKwoJCQkJbWl4KCB0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHV2ICsgdmVjMiggZHgsIC1keSApLCBzaGFkb3dDb29yZC56ICksIAoJCQkJCSB0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHV2ICsgdmVjMiggZHgsIDIuMCAqIGR5ICksIHNoYWRvd0Nvb3JkLnogKSwKCQkJCQkgZi55ICkgKwoJCQkJbWl4KCBtaXgoIHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgdXYgKyB2ZWMyKCAtZHgsIC1keSApLCBzaGFkb3dDb29yZC56ICksIAoJCQkJCQkgIHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgdXYgKyB2ZWMyKCAyLjAgKiBkeCwgLWR5ICksIHNoYWRvd0Nvb3JkLnogKSwKCQkJCQkJICBmLnggKSwKCQkJCQkgbWl4KCB0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHV2ICsgdmVjMiggLWR4LCAyLjAgKiBkeSApLCBzaGFkb3dDb29yZC56ICksIAoJCQkJCQkgIHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgdXYgKyB2ZWMyKCAyLjAgKiBkeCwgMi4wICogZHkgKSwgc2hhZG93Q29vcmQueiApLAoJCQkJCQkgIGYueCApLAoJCQkJCSBmLnkgKQoJCQkpICogKCAxLjAgLyA5LjAgKTsKCQkjZWxpZiBkZWZpbmVkKCBTSEFET1dNQVBfVFlQRV9WU00gKQoJCQlzaGFkb3cgPSBWU01TaGFkb3coIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHksIHNoYWRvd0Nvb3JkLnogKTsKCQkjZWxzZQoJCQlzaGFkb3cgPSB0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5LCBzaGFkb3dDb29yZC56ICk7CgkJI2VuZGlmCgkJfQoJCXJldHVybiBzaGFkb3c7Cgl9Cgl2ZWMyIGN1YmVUb1VWKCB2ZWMzIHYsIGZsb2F0IHRleGVsU2l6ZVkgKSB7CgkJdmVjMyBhYnNWID0gYWJzKCB2ICk7CgkJZmxvYXQgc2NhbGVUb0N1YmUgPSAxLjAgLyBtYXgoIGFic1YueCwgbWF4KCBhYnNWLnksIGFic1YueiApICk7CgkJYWJzViAqPSBzY2FsZVRvQ3ViZTsKCQl2ICo9IHNjYWxlVG9DdWJlICogKCAxLjAgLSAyLjAgKiB0ZXhlbFNpemVZICk7CgkJdmVjMiBwbGFuYXIgPSB2Lnh5OwoJCWZsb2F0IGFsbW9zdEFUZXhlbCA9IDEuNSAqIHRleGVsU2l6ZVk7CgkJZmxvYXQgYWxtb3N0T25lID0gMS4wIC0gYWxtb3N0QVRleGVsOwoJCWlmICggYWJzVi56ID49IGFsbW9zdE9uZSApIHsKCQkJaWYgKCB2LnogPiAwLjAgKQoJCQkJcGxhbmFyLnggPSA0LjAgLSB2Lng7CgkJfSBlbHNlIGlmICggYWJzVi54ID49IGFsbW9zdE9uZSApIHsKCQkJZmxvYXQgc2lnblggPSBzaWduKCB2LnggKTsKCQkJcGxhbmFyLnggPSB2LnogKiBzaWduWCArIDIuMCAqIHNpZ25YOwoJCX0gZWxzZSBpZiAoIGFic1YueSA+PSBhbG1vc3RPbmUgKSB7CgkJCWZsb2F0IHNpZ25ZID0gc2lnbiggdi55ICk7CgkJCXBsYW5hci54ID0gdi54ICsgMi4wICogc2lnblkgKyAyLjA7CgkJCXBsYW5hci55ID0gdi56ICogc2lnblkgLSAyLjA7CgkJfQoJCXJldHVybiB2ZWMyKCAwLjEyNSwgMC4yNSApICogcGxhbmFyICsgdmVjMiggMC4zNzUsIDAuNzUgKTsKCX0KCWZsb2F0IGdldFBvaW50U2hhZG93KCBzYW1wbGVyMkQgc2hhZG93TWFwLCB2ZWMyIHNoYWRvd01hcFNpemUsIGZsb2F0IHNoYWRvd0JpYXMsIGZsb2F0IHNoYWRvd1JhZGl1cywgdmVjNCBzaGFkb3dDb29yZCwgZmxvYXQgc2hhZG93Q2FtZXJhTmVhciwgZmxvYXQgc2hhZG93Q2FtZXJhRmFyICkgewoJCXZlYzIgdGV4ZWxTaXplID0gdmVjMiggMS4wICkgLyAoIHNoYWRvd01hcFNpemUgKiB2ZWMyKCA0LjAsIDIuMCApICk7CgkJdmVjMyBsaWdodFRvUG9zaXRpb24gPSBzaGFkb3dDb29yZC54eXo7CgkJZmxvYXQgZHAgPSAoIGxlbmd0aCggbGlnaHRUb1Bvc2l0aW9uICkgLSBzaGFkb3dDYW1lcmFOZWFyICkgLyAoIHNoYWRvd0NhbWVyYUZhciAtIHNoYWRvd0NhbWVyYU5lYXIgKTsJCWRwICs9IHNoYWRvd0JpYXM7CgkJdmVjMyBiZDNEID0gbm9ybWFsaXplKCBsaWdodFRvUG9zaXRpb24gKTsKCQkjaWYgZGVmaW5lZCggU0hBRE9XTUFQX1RZUEVfUENGICkgfHwgZGVmaW5lZCggU0hBRE9XTUFQX1RZUEVfUENGX1NPRlQgKSB8fCBkZWZpbmVkKCBTSEFET1dNQVBfVFlQRV9WU00gKQoJCQl2ZWMyIG9mZnNldCA9IHZlYzIoIC0gMSwgMSApICogc2hhZG93UmFkaXVzICogdGV4ZWxTaXplLnk7CgkJCXJldHVybiAoCgkJCQl0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIGN1YmVUb1VWKCBiZDNEICsgb2Zmc2V0Lnh5eSwgdGV4ZWxTaXplLnkgKSwgZHAgKSArCgkJCQl0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIGN1YmVUb1VWKCBiZDNEICsgb2Zmc2V0Lnl5eSwgdGV4ZWxTaXplLnkgKSwgZHAgKSArCgkJCQl0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIGN1YmVUb1VWKCBiZDNEICsgb2Zmc2V0Lnh5eCwgdGV4ZWxTaXplLnkgKSwgZHAgKSArCgkJCQl0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIGN1YmVUb1VWKCBiZDNEICsgb2Zmc2V0Lnl5eCwgdGV4ZWxTaXplLnkgKSwgZHAgKSArCgkJCQl0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIGN1YmVUb1VWKCBiZDNELCB0ZXhlbFNpemUueSApLCBkcCApICsKCQkJCXRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgY3ViZVRvVVYoIGJkM0QgKyBvZmZzZXQueHh5LCB0ZXhlbFNpemUueSApLCBkcCApICsKCQkJCXRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgY3ViZVRvVVYoIGJkM0QgKyBvZmZzZXQueXh5LCB0ZXhlbFNpemUueSApLCBkcCApICsKCQkJCXRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgY3ViZVRvVVYoIGJkM0QgKyBvZmZzZXQueHh4LCB0ZXhlbFNpemUueSApLCBkcCApICsKCQkJCXRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgY3ViZVRvVVYoIGJkM0QgKyBvZmZzZXQueXh4LCB0ZXhlbFNpemUueSApLCBkcCApCgkJCSkgKiAoIDEuMCAvIDkuMCApOwoJCSNlbHNlCgkJCXJldHVybiB0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIGN1YmVUb1VWKCBiZDNELCB0ZXhlbFNpemUueSApLCBkcCApOwoJCSNlbmRpZgoJfQojZW5kaWZgLGp2PWAjaWZkZWYgVVNFX1NIQURPV01BUAoJI2lmIE5VTV9ESVJfTElHSFRfU0hBRE9XUyA+IDAKCQl1bmlmb3JtIG1hdDQgZGlyZWN0aW9uYWxTaGFkb3dNYXRyaXhbIE5VTV9ESVJfTElHSFRfU0hBRE9XUyBdOwoJCXZhcnlpbmcgdmVjNCB2RGlyZWN0aW9uYWxTaGFkb3dDb29yZFsgTlVNX0RJUl9MSUdIVF9TSEFET1dTIF07CgkJc3RydWN0IERpcmVjdGlvbmFsTGlnaHRTaGFkb3cgewoJCQlmbG9hdCBzaGFkb3dCaWFzOwoJCQlmbG9hdCBzaGFkb3dOb3JtYWxCaWFzOwoJCQlmbG9hdCBzaGFkb3dSYWRpdXM7CgkJCXZlYzIgc2hhZG93TWFwU2l6ZTsKCQl9OwoJCXVuaWZvcm0gRGlyZWN0aW9uYWxMaWdodFNoYWRvdyBkaXJlY3Rpb25hbExpZ2h0U2hhZG93c1sgTlVNX0RJUl9MSUdIVF9TSEFET1dTIF07CgkjZW5kaWYKCSNpZiBOVU1fU1BPVF9MSUdIVF9TSEFET1dTID4gMAoJCXVuaWZvcm0gbWF0NCBzcG90U2hhZG93TWF0cml4WyBOVU1fU1BPVF9MSUdIVF9TSEFET1dTIF07CgkJdmFyeWluZyB2ZWM0IHZTcG90U2hhZG93Q29vcmRbIE5VTV9TUE9UX0xJR0hUX1NIQURPV1MgXTsKCQlzdHJ1Y3QgU3BvdExpZ2h0U2hhZG93IHsKCQkJZmxvYXQgc2hhZG93QmlhczsKCQkJZmxvYXQgc2hhZG93Tm9ybWFsQmlhczsKCQkJZmxvYXQgc2hhZG93UmFkaXVzOwoJCQl2ZWMyIHNoYWRvd01hcFNpemU7CgkJfTsKCQl1bmlmb3JtIFNwb3RMaWdodFNoYWRvdyBzcG90TGlnaHRTaGFkb3dzWyBOVU1fU1BPVF9MSUdIVF9TSEFET1dTIF07CgkjZW5kaWYKCSNpZiBOVU1fUE9JTlRfTElHSFRfU0hBRE9XUyA+IDAKCQl1bmlmb3JtIG1hdDQgcG9pbnRTaGFkb3dNYXRyaXhbIE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTIF07CgkJdmFyeWluZyB2ZWM0IHZQb2ludFNoYWRvd0Nvb3JkWyBOVU1fUE9JTlRfTElHSFRfU0hBRE9XUyBdOwoJCXN0cnVjdCBQb2ludExpZ2h0U2hhZG93IHsKCQkJZmxvYXQgc2hhZG93QmlhczsKCQkJZmxvYXQgc2hhZG93Tm9ybWFsQmlhczsKCQkJZmxvYXQgc2hhZG93UmFkaXVzOwoJCQl2ZWMyIHNoYWRvd01hcFNpemU7CgkJCWZsb2F0IHNoYWRvd0NhbWVyYU5lYXI7CgkJCWZsb2F0IHNoYWRvd0NhbWVyYUZhcjsKCQl9OwoJCXVuaWZvcm0gUG9pbnRMaWdodFNoYWRvdyBwb2ludExpZ2h0U2hhZG93c1sgTlVNX1BPSU5UX0xJR0hUX1NIQURPV1MgXTsKCSNlbmRpZgojZW5kaWZgLHF2PWAjaWZkZWYgVVNFX1NIQURPV01BUAoJI2lmIE5VTV9ESVJfTElHSFRfU0hBRE9XUyA+IDAgfHwgTlVNX1NQT1RfTElHSFRfU0hBRE9XUyA+IDAgfHwgTlVNX1BPSU5UX0xJR0hUX1NIQURPV1MgPiAwCgkJdmVjMyBzaGFkb3dXb3JsZE5vcm1hbCA9IGludmVyc2VUcmFuc2Zvcm1EaXJlY3Rpb24oIHRyYW5zZm9ybWVkTm9ybWFsLCB2aWV3TWF0cml4ICk7CgkJdmVjNCBzaGFkb3dXb3JsZFBvc2l0aW9uOwoJI2VuZGlmCgkjaWYgTlVNX0RJUl9MSUdIVF9TSEFET1dTID4gMAoJI3ByYWdtYSB1bnJvbGxfbG9vcF9zdGFydAoJZm9yICggaW50IGkgPSAwOyBpIDwgTlVNX0RJUl9MSUdIVF9TSEFET1dTOyBpICsrICkgewoJCXNoYWRvd1dvcmxkUG9zaXRpb24gPSB3b3JsZFBvc2l0aW9uICsgdmVjNCggc2hhZG93V29ybGROb3JtYWwgKiBkaXJlY3Rpb25hbExpZ2h0U2hhZG93c1sgaSBdLnNoYWRvd05vcm1hbEJpYXMsIDAgKTsKCQl2RGlyZWN0aW9uYWxTaGFkb3dDb29yZFsgaSBdID0gZGlyZWN0aW9uYWxTaGFkb3dNYXRyaXhbIGkgXSAqIHNoYWRvd1dvcmxkUG9zaXRpb247Cgl9CgkjcHJhZ21hIHVucm9sbF9sb29wX2VuZAoJI2VuZGlmCgkjaWYgTlVNX1NQT1RfTElHSFRfU0hBRE9XUyA+IDAKCSNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnQKCWZvciAoIGludCBpID0gMDsgaSA8IE5VTV9TUE9UX0xJR0hUX1NIQURPV1M7IGkgKysgKSB7CgkJc2hhZG93V29ybGRQb3NpdGlvbiA9IHdvcmxkUG9zaXRpb24gKyB2ZWM0KCBzaGFkb3dXb3JsZE5vcm1hbCAqIHNwb3RMaWdodFNoYWRvd3NbIGkgXS5zaGFkb3dOb3JtYWxCaWFzLCAwICk7CgkJdlNwb3RTaGFkb3dDb29yZFsgaSBdID0gc3BvdFNoYWRvd01hdHJpeFsgaSBdICogc2hhZG93V29ybGRQb3NpdGlvbjsKCX0KCSNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kCgkjZW5kaWYKCSNpZiBOVU1fUE9JTlRfTElHSFRfU0hBRE9XUyA+IDAKCSNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnQKCWZvciAoIGludCBpID0gMDsgaSA8IE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTOyBpICsrICkgewoJCXNoYWRvd1dvcmxkUG9zaXRpb24gPSB3b3JsZFBvc2l0aW9uICsgdmVjNCggc2hhZG93V29ybGROb3JtYWwgKiBwb2ludExpZ2h0U2hhZG93c1sgaSBdLnNoYWRvd05vcm1hbEJpYXMsIDAgKTsKCQl2UG9pbnRTaGFkb3dDb29yZFsgaSBdID0gcG9pbnRTaGFkb3dNYXRyaXhbIGkgXSAqIHNoYWRvd1dvcmxkUG9zaXRpb247Cgl9CgkjcHJhZ21hIHVucm9sbF9sb29wX2VuZAoJI2VuZGlmCiNlbmRpZmAsWHY9YGZsb2F0IGdldFNoYWRvd01hc2soKSB7CglmbG9hdCBzaGFkb3cgPSAxLjA7CgkjaWZkZWYgVVNFX1NIQURPV01BUAoJI2lmIE5VTV9ESVJfTElHSFRfU0hBRE9XUyA+IDAKCURpcmVjdGlvbmFsTGlnaHRTaGFkb3cgZGlyZWN0aW9uYWxMaWdodDsKCSNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnQKCWZvciAoIGludCBpID0gMDsgaSA8IE5VTV9ESVJfTElHSFRfU0hBRE9XUzsgaSArKyApIHsKCQlkaXJlY3Rpb25hbExpZ2h0ID0gZGlyZWN0aW9uYWxMaWdodFNoYWRvd3NbIGkgXTsKCQlzaGFkb3cgKj0gcmVjZWl2ZVNoYWRvdyA/IGdldFNoYWRvdyggZGlyZWN0aW9uYWxTaGFkb3dNYXBbIGkgXSwgZGlyZWN0aW9uYWxMaWdodC5zaGFkb3dNYXBTaXplLCBkaXJlY3Rpb25hbExpZ2h0LnNoYWRvd0JpYXMsIGRpcmVjdGlvbmFsTGlnaHQuc2hhZG93UmFkaXVzLCB2RGlyZWN0aW9uYWxTaGFkb3dDb29yZFsgaSBdICkgOiAxLjA7Cgl9CgkjcHJhZ21hIHVucm9sbF9sb29wX2VuZAoJI2VuZGlmCgkjaWYgTlVNX1NQT1RfTElHSFRfU0hBRE9XUyA+IDAKCVNwb3RMaWdodFNoYWRvdyBzcG90TGlnaHQ7CgkjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0Cglmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fU1BPVF9MSUdIVF9TSEFET1dTOyBpICsrICkgewoJCXNwb3RMaWdodCA9IHNwb3RMaWdodFNoYWRvd3NbIGkgXTsKCQlzaGFkb3cgKj0gcmVjZWl2ZVNoYWRvdyA/IGdldFNoYWRvdyggc3BvdFNoYWRvd01hcFsgaSBdLCBzcG90TGlnaHQuc2hhZG93TWFwU2l6ZSwgc3BvdExpZ2h0LnNoYWRvd0JpYXMsIHNwb3RMaWdodC5zaGFkb3dSYWRpdXMsIHZTcG90U2hhZG93Q29vcmRbIGkgXSApIDogMS4wOwoJfQoJI3ByYWdtYSB1bnJvbGxfbG9vcF9lbmQKCSNlbmRpZgoJI2lmIE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTID4gMAoJUG9pbnRMaWdodFNoYWRvdyBwb2ludExpZ2h0OwoJI3ByYWdtYSB1bnJvbGxfbG9vcF9zdGFydAoJZm9yICggaW50IGkgPSAwOyBpIDwgTlVNX1BPSU5UX0xJR0hUX1NIQURPV1M7IGkgKysgKSB7CgkJcG9pbnRMaWdodCA9IHBvaW50TGlnaHRTaGFkb3dzWyBpIF07CgkJc2hhZG93ICo9IHJlY2VpdmVTaGFkb3cgPyBnZXRQb2ludFNoYWRvdyggcG9pbnRTaGFkb3dNYXBbIGkgXSwgcG9pbnRMaWdodC5zaGFkb3dNYXBTaXplLCBwb2ludExpZ2h0LnNoYWRvd0JpYXMsIHBvaW50TGlnaHQuc2hhZG93UmFkaXVzLCB2UG9pbnRTaGFkb3dDb29yZFsgaSBdLCBwb2ludExpZ2h0LnNoYWRvd0NhbWVyYU5lYXIsIHBvaW50TGlnaHQuc2hhZG93Q2FtZXJhRmFyICkgOiAxLjA7Cgl9CgkjcHJhZ21hIHVucm9sbF9sb29wX2VuZAoJI2VuZGlmCgkjZW5kaWYKCXJldHVybiBzaGFkb3c7Cn1gLEp2PWAjaWZkZWYgVVNFX1NLSU5OSU5HCgltYXQ0IGJvbmVNYXRYID0gZ2V0Qm9uZU1hdHJpeCggc2tpbkluZGV4LnggKTsKCW1hdDQgYm9uZU1hdFkgPSBnZXRCb25lTWF0cml4KCBza2luSW5kZXgueSApOwoJbWF0NCBib25lTWF0WiA9IGdldEJvbmVNYXRyaXgoIHNraW5JbmRleC56ICk7CgltYXQ0IGJvbmVNYXRXID0gZ2V0Qm9uZU1hdHJpeCggc2tpbkluZGV4LncgKTsKI2VuZGlmYCxZdj1gI2lmZGVmIFVTRV9TS0lOTklORwoJdW5pZm9ybSBtYXQ0IGJpbmRNYXRyaXg7Cgl1bmlmb3JtIG1hdDQgYmluZE1hdHJpeEludmVyc2U7CgkjaWZkZWYgQk9ORV9URVhUVVJFCgkJdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgYm9uZVRleHR1cmU7CgkJdW5pZm9ybSBpbnQgYm9uZVRleHR1cmVTaXplOwoJCW1hdDQgZ2V0Qm9uZU1hdHJpeCggY29uc3QgaW4gZmxvYXQgaSApIHsKCQkJZmxvYXQgaiA9IGkgKiA0LjA7CgkJCWZsb2F0IHggPSBtb2QoIGosIGZsb2F0KCBib25lVGV4dHVyZVNpemUgKSApOwoJCQlmbG9hdCB5ID0gZmxvb3IoIGogLyBmbG9hdCggYm9uZVRleHR1cmVTaXplICkgKTsKCQkJZmxvYXQgZHggPSAxLjAgLyBmbG9hdCggYm9uZVRleHR1cmVTaXplICk7CgkJCWZsb2F0IGR5ID0gMS4wIC8gZmxvYXQoIGJvbmVUZXh0dXJlU2l6ZSApOwoJCQl5ID0gZHkgKiAoIHkgKyAwLjUgKTsKCQkJdmVjNCB2MSA9IHRleHR1cmUyRCggYm9uZVRleHR1cmUsIHZlYzIoIGR4ICogKCB4ICsgMC41ICksIHkgKSApOwoJCQl2ZWM0IHYyID0gdGV4dHVyZTJEKCBib25lVGV4dHVyZSwgdmVjMiggZHggKiAoIHggKyAxLjUgKSwgeSApICk7CgkJCXZlYzQgdjMgPSB0ZXh0dXJlMkQoIGJvbmVUZXh0dXJlLCB2ZWMyKCBkeCAqICggeCArIDIuNSApLCB5ICkgKTsKCQkJdmVjNCB2NCA9IHRleHR1cmUyRCggYm9uZVRleHR1cmUsIHZlYzIoIGR4ICogKCB4ICsgMy41ICksIHkgKSApOwoJCQltYXQ0IGJvbmUgPSBtYXQ0KCB2MSwgdjIsIHYzLCB2NCApOwoJCQlyZXR1cm4gYm9uZTsKCQl9CgkjZWxzZQoJCXVuaWZvcm0gbWF0NCBib25lTWF0cmljZXNbIE1BWF9CT05FUyBdOwoJCW1hdDQgZ2V0Qm9uZU1hdHJpeCggY29uc3QgaW4gZmxvYXQgaSApIHsKCQkJbWF0NCBib25lID0gYm9uZU1hdHJpY2VzWyBpbnQoaSkgXTsKCQkJcmV0dXJuIGJvbmU7CgkJfQoJI2VuZGlmCiNlbmRpZmAsWnY9YCNpZmRlZiBVU0VfU0tJTk5JTkcKCXZlYzQgc2tpblZlcnRleCA9IGJpbmRNYXRyaXggKiB2ZWM0KCB0cmFuc2Zvcm1lZCwgMS4wICk7Cgl2ZWM0IHNraW5uZWQgPSB2ZWM0KCAwLjAgKTsKCXNraW5uZWQgKz0gYm9uZU1hdFggKiBza2luVmVydGV4ICogc2tpbldlaWdodC54OwoJc2tpbm5lZCArPSBib25lTWF0WSAqIHNraW5WZXJ0ZXggKiBza2luV2VpZ2h0Lnk7Cglza2lubmVkICs9IGJvbmVNYXRaICogc2tpblZlcnRleCAqIHNraW5XZWlnaHQuejsKCXNraW5uZWQgKz0gYm9uZU1hdFcgKiBza2luVmVydGV4ICogc2tpbldlaWdodC53OwoJdHJhbnNmb3JtZWQgPSAoIGJpbmRNYXRyaXhJbnZlcnNlICogc2tpbm5lZCApLnh5ejsKI2VuZGlmYCxLdj1gI2lmZGVmIFVTRV9TS0lOTklORwoJbWF0NCBza2luTWF0cml4ID0gbWF0NCggMC4wICk7Cglza2luTWF0cml4ICs9IHNraW5XZWlnaHQueCAqIGJvbmVNYXRYOwoJc2tpbk1hdHJpeCArPSBza2luV2VpZ2h0LnkgKiBib25lTWF0WTsKCXNraW5NYXRyaXggKz0gc2tpbldlaWdodC56ICogYm9uZU1hdFo7Cglza2luTWF0cml4ICs9IHNraW5XZWlnaHQudyAqIGJvbmVNYXRXOwoJc2tpbk1hdHJpeCA9IGJpbmRNYXRyaXhJbnZlcnNlICogc2tpbk1hdHJpeCAqIGJpbmRNYXRyaXg7CglvYmplY3ROb3JtYWwgPSB2ZWM0KCBza2luTWF0cml4ICogdmVjNCggb2JqZWN0Tm9ybWFsLCAwLjAgKSApLnh5ejsKCSNpZmRlZiBVU0VfVEFOR0VOVAoJCW9iamVjdFRhbmdlbnQgPSB2ZWM0KCBza2luTWF0cml4ICogdmVjNCggb2JqZWN0VGFuZ2VudCwgMC4wICkgKS54eXo7CgkjZW5kaWYKI2VuZGlmYCxRdj1gZmxvYXQgc3BlY3VsYXJTdHJlbmd0aDsKI2lmZGVmIFVTRV9TUEVDVUxBUk1BUAoJdmVjNCB0ZXhlbFNwZWN1bGFyID0gdGV4dHVyZTJEKCBzcGVjdWxhck1hcCwgdlV2ICk7CglzcGVjdWxhclN0cmVuZ3RoID0gdGV4ZWxTcGVjdWxhci5yOwojZWxzZQoJc3BlY3VsYXJTdHJlbmd0aCA9IDEuMDsKI2VuZGlmYCwkdj1gI2lmZGVmIFVTRV9TUEVDVUxBUk1BUAoJdW5pZm9ybSBzYW1wbGVyMkQgc3BlY3VsYXJNYXA7CiNlbmRpZmAsZXg9YCNpZiBkZWZpbmVkKCBUT05FX01BUFBJTkcgKQoJZ2xfRnJhZ0NvbG9yLnJnYiA9IHRvbmVNYXBwaW5nKCBnbF9GcmFnQ29sb3IucmdiICk7CiNlbmRpZmAsdHg9YCNpZm5kZWYgc2F0dXJhdGUKI2RlZmluZSBzYXR1cmF0ZSggYSApIGNsYW1wKCBhLCAwLjAsIDEuMCApCiNlbmRpZgp1bmlmb3JtIGZsb2F0IHRvbmVNYXBwaW5nRXhwb3N1cmU7CnZlYzMgTGluZWFyVG9uZU1hcHBpbmcoIHZlYzMgY29sb3IgKSB7CglyZXR1cm4gdG9uZU1hcHBpbmdFeHBvc3VyZSAqIGNvbG9yOwp9CnZlYzMgUmVpbmhhcmRUb25lTWFwcGluZyggdmVjMyBjb2xvciApIHsKCWNvbG9yICo9IHRvbmVNYXBwaW5nRXhwb3N1cmU7CglyZXR1cm4gc2F0dXJhdGUoIGNvbG9yIC8gKCB2ZWMzKCAxLjAgKSArIGNvbG9yICkgKTsKfQp2ZWMzIE9wdGltaXplZENpbmVvblRvbmVNYXBwaW5nKCB2ZWMzIGNvbG9yICkgewoJY29sb3IgKj0gdG9uZU1hcHBpbmdFeHBvc3VyZTsKCWNvbG9yID0gbWF4KCB2ZWMzKCAwLjAgKSwgY29sb3IgLSAwLjAwNCApOwoJcmV0dXJuIHBvdyggKCBjb2xvciAqICggNi4yICogY29sb3IgKyAwLjUgKSApIC8gKCBjb2xvciAqICggNi4yICogY29sb3IgKyAxLjcgKSArIDAuMDYgKSwgdmVjMyggMi4yICkgKTsKfQp2ZWMzIFJSVEFuZE9EVEZpdCggdmVjMyB2ICkgewoJdmVjMyBhID0gdiAqICggdiArIDAuMDI0NTc4NiApIC0gMC4wMDAwOTA1Mzc7Cgl2ZWMzIGIgPSB2ICogKCAwLjk4MzcyOSAqIHYgKyAwLjQzMjk1MTAgKSArIDAuMjM4MDgxOwoJcmV0dXJuIGEgLyBiOwp9CnZlYzMgQUNFU0ZpbG1pY1RvbmVNYXBwaW5nKCB2ZWMzIGNvbG9yICkgewoJY29uc3QgbWF0MyBBQ0VTSW5wdXRNYXQgPSBtYXQzKAoJCXZlYzMoIDAuNTk3MTksIDAuMDc2MDAsIDAuMDI4NDAgKSwJCXZlYzMoIDAuMzU0NTgsIDAuOTA4MzQsIDAuMTMzODMgKSwKCQl2ZWMzKCAwLjA0ODIzLCAwLjAxNTY2LCAwLjgzNzc3ICkKCSk7Cgljb25zdCBtYXQzIEFDRVNPdXRwdXRNYXQgPSBtYXQzKAoJCXZlYzMoICAxLjYwNDc1LCAtMC4xMDIwOCwgLTAuMDAzMjcgKSwJCXZlYzMoIC0wLjUzMTA4LCAgMS4xMDgxMywgLTAuMDcyNzYgKSwKCQl2ZWMzKCAtMC4wNzM2NywgLTAuMDA2MDUsICAxLjA3NjAyICkKCSk7Cgljb2xvciAqPSB0b25lTWFwcGluZ0V4cG9zdXJlIC8gMC42OwoJY29sb3IgPSBBQ0VTSW5wdXRNYXQgKiBjb2xvcjsKCWNvbG9yID0gUlJUQW5kT0RURml0KCBjb2xvciApOwoJY29sb3IgPSBBQ0VTT3V0cHV0TWF0ICogY29sb3I7CglyZXR1cm4gc2F0dXJhdGUoIGNvbG9yICk7Cn0KdmVjMyBDdXN0b21Ub25lTWFwcGluZyggdmVjMyBjb2xvciApIHsgcmV0dXJuIGNvbG9yOyB9YCxpeD1gI2lmZGVmIFVTRV9UUkFOU01JU1NJT04KCWZsb2F0IHRyYW5zbWlzc2lvbkFscGhhID0gMS4wOwoJZmxvYXQgdHJhbnNtaXNzaW9uRmFjdG9yID0gdHJhbnNtaXNzaW9uOwoJZmxvYXQgdGhpY2tuZXNzRmFjdG9yID0gdGhpY2tuZXNzOwoJI2lmZGVmIFVTRV9UUkFOU01JU1NJT05NQVAKCQl0cmFuc21pc3Npb25GYWN0b3IgKj0gdGV4dHVyZTJEKCB0cmFuc21pc3Npb25NYXAsIHZVdiApLnI7CgkjZW5kaWYKCSNpZmRlZiBVU0VfVEhJQ0tORVNTTUFQCgkJdGhpY2tuZXNzRmFjdG9yICo9IHRleHR1cmUyRCggdGhpY2tuZXNzTWFwLCB2VXYgKS5nOwoJI2VuZGlmCgl2ZWMzIHBvcyA9IHZXb3JsZFBvc2l0aW9uOwoJdmVjMyB2ID0gbm9ybWFsaXplKCBjYW1lcmFQb3NpdGlvbiAtIHBvcyApOwoJdmVjMyBuID0gaW52ZXJzZVRyYW5zZm9ybURpcmVjdGlvbiggbm9ybWFsLCB2aWV3TWF0cml4ICk7Cgl2ZWM0IHRyYW5zbWlzc2lvbiA9IGdldElCTFZvbHVtZVJlZnJhY3Rpb24oCgkJbiwgdiwgcm91Z2huZXNzRmFjdG9yLCBtYXRlcmlhbC5kaWZmdXNlQ29sb3IsIG1hdGVyaWFsLnNwZWN1bGFyQ29sb3IsIG1hdGVyaWFsLnNwZWN1bGFyRjkwLAoJCXBvcywgbW9kZWxNYXRyaXgsIHZpZXdNYXRyaXgsIHByb2plY3Rpb25NYXRyaXgsIGlvciwgdGhpY2tuZXNzRmFjdG9yLAoJCWF0dGVudWF0aW9uQ29sb3IsIGF0dGVudWF0aW9uRGlzdGFuY2UgKTsKCXRvdGFsRGlmZnVzZSA9IG1peCggdG90YWxEaWZmdXNlLCB0cmFuc21pc3Npb24ucmdiLCB0cmFuc21pc3Npb25GYWN0b3IgKTsKCXRyYW5zbWlzc2lvbkFscGhhID0gbWl4KCB0cmFuc21pc3Npb25BbHBoYSwgdHJhbnNtaXNzaW9uLmEsIHRyYW5zbWlzc2lvbkZhY3RvciApOwojZW5kaWZgLHJ4PWAjaWZkZWYgVVNFX1RSQU5TTUlTU0lPTgoJdW5pZm9ybSBmbG9hdCB0cmFuc21pc3Npb247Cgl1bmlmb3JtIGZsb2F0IHRoaWNrbmVzczsKCXVuaWZvcm0gZmxvYXQgYXR0ZW51YXRpb25EaXN0YW5jZTsKCXVuaWZvcm0gdmVjMyBhdHRlbnVhdGlvbkNvbG9yOwoJI2lmZGVmIFVTRV9UUkFOU01JU1NJT05NQVAKCQl1bmlmb3JtIHNhbXBsZXIyRCB0cmFuc21pc3Npb25NYXA7CgkjZW5kaWYKCSNpZmRlZiBVU0VfVEhJQ0tORVNTTUFQCgkJdW5pZm9ybSBzYW1wbGVyMkQgdGhpY2tuZXNzTWFwOwoJI2VuZGlmCgl1bmlmb3JtIHZlYzIgdHJhbnNtaXNzaW9uU2FtcGxlclNpemU7Cgl1bmlmb3JtIHNhbXBsZXIyRCB0cmFuc21pc3Npb25TYW1wbGVyTWFwOwoJdW5pZm9ybSBtYXQ0IG1vZGVsTWF0cml4OwoJdW5pZm9ybSBtYXQ0IHByb2plY3Rpb25NYXRyaXg7Cgl2YXJ5aW5nIHZlYzMgdldvcmxkUG9zaXRpb247Cgl2ZWMzIGdldFZvbHVtZVRyYW5zbWlzc2lvblJheSggY29uc3QgaW4gdmVjMyBuLCBjb25zdCBpbiB2ZWMzIHYsIGNvbnN0IGluIGZsb2F0IHRoaWNrbmVzcywgY29uc3QgaW4gZmxvYXQgaW9yLCBjb25zdCBpbiBtYXQ0IG1vZGVsTWF0cml4ICkgewoJCXZlYzMgcmVmcmFjdGlvblZlY3RvciA9IHJlZnJhY3QoIC0gdiwgbm9ybWFsaXplKCBuICksIDEuMCAvIGlvciApOwoJCXZlYzMgbW9kZWxTY2FsZTsKCQltb2RlbFNjYWxlLnggPSBsZW5ndGgoIHZlYzMoIG1vZGVsTWF0cml4WyAwIF0ueHl6ICkgKTsKCQltb2RlbFNjYWxlLnkgPSBsZW5ndGgoIHZlYzMoIG1vZGVsTWF0cml4WyAxIF0ueHl6ICkgKTsKCQltb2RlbFNjYWxlLnogPSBsZW5ndGgoIHZlYzMoIG1vZGVsTWF0cml4WyAyIF0ueHl6ICkgKTsKCQlyZXR1cm4gbm9ybWFsaXplKCByZWZyYWN0aW9uVmVjdG9yICkgKiB0aGlja25lc3MgKiBtb2RlbFNjYWxlOwoJfQoJZmxvYXQgYXBwbHlJb3JUb1JvdWdobmVzcyggY29uc3QgaW4gZmxvYXQgcm91Z2huZXNzLCBjb25zdCBpbiBmbG9hdCBpb3IgKSB7CgkJcmV0dXJuIHJvdWdobmVzcyAqIGNsYW1wKCBpb3IgKiAyLjAgLSAyLjAsIDAuMCwgMS4wICk7Cgl9Cgl2ZWM0IGdldFRyYW5zbWlzc2lvblNhbXBsZSggY29uc3QgaW4gdmVjMiBmcmFnQ29vcmQsIGNvbnN0IGluIGZsb2F0IHJvdWdobmVzcywgY29uc3QgaW4gZmxvYXQgaW9yICkgewoJCWZsb2F0IGZyYW1lYnVmZmVyTG9kID0gbG9nMiggdHJhbnNtaXNzaW9uU2FtcGxlclNpemUueCApICogYXBwbHlJb3JUb1JvdWdobmVzcyggcm91Z2huZXNzLCBpb3IgKTsKCQkjaWZkZWYgdGV4dHVyZTJETG9kRVhUCgkJCXJldHVybiB0ZXh0dXJlMkRMb2RFWFQoIHRyYW5zbWlzc2lvblNhbXBsZXJNYXAsIGZyYWdDb29yZC54eSwgZnJhbWVidWZmZXJMb2QgKTsKCQkjZWxzZQoJCQlyZXR1cm4gdGV4dHVyZTJEKCB0cmFuc21pc3Npb25TYW1wbGVyTWFwLCBmcmFnQ29vcmQueHksIGZyYW1lYnVmZmVyTG9kICk7CgkJI2VuZGlmCgl9Cgl2ZWMzIGFwcGx5Vm9sdW1lQXR0ZW51YXRpb24oIGNvbnN0IGluIHZlYzMgcmFkaWFuY2UsIGNvbnN0IGluIGZsb2F0IHRyYW5zbWlzc2lvbkRpc3RhbmNlLCBjb25zdCBpbiB2ZWMzIGF0dGVudWF0aW9uQ29sb3IsIGNvbnN0IGluIGZsb2F0IGF0dGVudWF0aW9uRGlzdGFuY2UgKSB7CgkJaWYgKCBhdHRlbnVhdGlvbkRpc3RhbmNlID09IDAuMCApIHsKCQkJcmV0dXJuIHJhZGlhbmNlOwoJCX0gZWxzZSB7CgkJCXZlYzMgYXR0ZW51YXRpb25Db2VmZmljaWVudCA9IC1sb2coIGF0dGVudWF0aW9uQ29sb3IgKSAvIGF0dGVudWF0aW9uRGlzdGFuY2U7CgkJCXZlYzMgdHJhbnNtaXR0YW5jZSA9IGV4cCggLSBhdHRlbnVhdGlvbkNvZWZmaWNpZW50ICogdHJhbnNtaXNzaW9uRGlzdGFuY2UgKTsJCQlyZXR1cm4gdHJhbnNtaXR0YW5jZSAqIHJhZGlhbmNlOwoJCX0KCX0KCXZlYzQgZ2V0SUJMVm9sdW1lUmVmcmFjdGlvbiggY29uc3QgaW4gdmVjMyBuLCBjb25zdCBpbiB2ZWMzIHYsIGNvbnN0IGluIGZsb2F0IHJvdWdobmVzcywgY29uc3QgaW4gdmVjMyBkaWZmdXNlQ29sb3IsCgkJY29uc3QgaW4gdmVjMyBzcGVjdWxhckNvbG9yLCBjb25zdCBpbiBmbG9hdCBzcGVjdWxhckY5MCwgY29uc3QgaW4gdmVjMyBwb3NpdGlvbiwgY29uc3QgaW4gbWF0NCBtb2RlbE1hdHJpeCwKCQljb25zdCBpbiBtYXQ0IHZpZXdNYXRyaXgsIGNvbnN0IGluIG1hdDQgcHJvak1hdHJpeCwgY29uc3QgaW4gZmxvYXQgaW9yLCBjb25zdCBpbiBmbG9hdCB0aGlja25lc3MsCgkJY29uc3QgaW4gdmVjMyBhdHRlbnVhdGlvbkNvbG9yLCBjb25zdCBpbiBmbG9hdCBhdHRlbnVhdGlvbkRpc3RhbmNlICkgewoJCXZlYzMgdHJhbnNtaXNzaW9uUmF5ID0gZ2V0Vm9sdW1lVHJhbnNtaXNzaW9uUmF5KCBuLCB2LCB0aGlja25lc3MsIGlvciwgbW9kZWxNYXRyaXggKTsKCQl2ZWMzIHJlZnJhY3RlZFJheUV4aXQgPSBwb3NpdGlvbiArIHRyYW5zbWlzc2lvblJheTsKCQl2ZWM0IG5kY1BvcyA9IHByb2pNYXRyaXggKiB2aWV3TWF0cml4ICogdmVjNCggcmVmcmFjdGVkUmF5RXhpdCwgMS4wICk7CgkJdmVjMiByZWZyYWN0aW9uQ29vcmRzID0gbmRjUG9zLnh5IC8gbmRjUG9zLnc7CgkJcmVmcmFjdGlvbkNvb3JkcyArPSAxLjA7CgkJcmVmcmFjdGlvbkNvb3JkcyAvPSAyLjA7CgkJdmVjNCB0cmFuc21pdHRlZExpZ2h0ID0gZ2V0VHJhbnNtaXNzaW9uU2FtcGxlKCByZWZyYWN0aW9uQ29vcmRzLCByb3VnaG5lc3MsIGlvciApOwoJCXZlYzMgYXR0ZW51YXRlZENvbG9yID0gYXBwbHlWb2x1bWVBdHRlbnVhdGlvbiggdHJhbnNtaXR0ZWRMaWdodC5yZ2IsIGxlbmd0aCggdHJhbnNtaXNzaW9uUmF5ICksIGF0dGVudWF0aW9uQ29sb3IsIGF0dGVudWF0aW9uRGlzdGFuY2UgKTsKCQl2ZWMzIEYgPSBFbnZpcm9ubWVudEJSREYoIG4sIHYsIHNwZWN1bGFyQ29sb3IsIHNwZWN1bGFyRjkwLCByb3VnaG5lc3MgKTsKCQlyZXR1cm4gdmVjNCggKCAxLjAgLSBGICkgKiBhdHRlbnVhdGVkQ29sb3IgKiBkaWZmdXNlQ29sb3IsIHRyYW5zbWl0dGVkTGlnaHQuYSApOwoJfQojZW5kaWZgLHN4PWAjaWYgKCBkZWZpbmVkKCBVU0VfVVYgKSAmJiAhIGRlZmluZWQoIFVWU19WRVJURVhfT05MWSApICkKCXZhcnlpbmcgdmVjMiB2VXY7CiNlbmRpZmAsYXg9YCNpZmRlZiBVU0VfVVYKCSNpZmRlZiBVVlNfVkVSVEVYX09OTFkKCQl2ZWMyIHZVdjsKCSNlbHNlCgkJdmFyeWluZyB2ZWMyIHZVdjsKCSNlbmRpZgoJdW5pZm9ybSBtYXQzIHV2VHJhbnNmb3JtOwojZW5kaWZgLG54PWAjaWZkZWYgVVNFX1VWCgl2VXYgPSAoIHV2VHJhbnNmb3JtICogdmVjMyggdXYsIDEgKSApLnh5OwojZW5kaWZgLG94PWAjaWYgZGVmaW5lZCggVVNFX0xJR0hUTUFQICkgfHwgZGVmaW5lZCggVVNFX0FPTUFQICkKCXZhcnlpbmcgdmVjMiB2VXYyOwojZW5kaWZgLGh4PWAjaWYgZGVmaW5lZCggVVNFX0xJR0hUTUFQICkgfHwgZGVmaW5lZCggVVNFX0FPTUFQICkKCWF0dHJpYnV0ZSB2ZWMyIHV2MjsKCXZhcnlpbmcgdmVjMiB2VXYyOwoJdW5pZm9ybSBtYXQzIHV2MlRyYW5zZm9ybTsKI2VuZGlmYCxseD1gI2lmIGRlZmluZWQoIFVTRV9MSUdIVE1BUCApIHx8IGRlZmluZWQoIFVTRV9BT01BUCApCgl2VXYyID0gKCB1djJUcmFuc2Zvcm0gKiB2ZWMzKCB1djIsIDEgKSApLnh5OwojZW5kaWZgLGN4PWAjaWYgZGVmaW5lZCggVVNFX0VOVk1BUCApIHx8IGRlZmluZWQoIERJU1RBTkNFICkgfHwgZGVmaW5lZCAoIFVTRV9TSEFET1dNQVAgKSB8fCBkZWZpbmVkICggVVNFX1RSQU5TTUlTU0lPTiApCgl2ZWM0IHdvcmxkUG9zaXRpb24gPSB2ZWM0KCB0cmFuc2Zvcm1lZCwgMS4wICk7CgkjaWZkZWYgVVNFX0lOU1RBTkNJTkcKCQl3b3JsZFBvc2l0aW9uID0gaW5zdGFuY2VNYXRyaXggKiB3b3JsZFBvc2l0aW9uOwoJI2VuZGlmCgl3b3JsZFBvc2l0aW9uID0gbW9kZWxNYXRyaXggKiB3b3JsZFBvc2l0aW9uOwojZW5kaWZgO2NvbnN0IHV4PWB2YXJ5aW5nIHZlYzIgdlV2Owp1bmlmb3JtIG1hdDMgdXZUcmFuc2Zvcm07CnZvaWQgbWFpbigpIHsKCXZVdiA9ICggdXZUcmFuc2Zvcm0gKiB2ZWMzKCB1diwgMSApICkueHk7CglnbF9Qb3NpdGlvbiA9IHZlYzQoIHBvc2l0aW9uLnh5LCAxLjAsIDEuMCApOwp9YCxkeD1gdW5pZm9ybSBzYW1wbGVyMkQgdDJEOwp2YXJ5aW5nIHZlYzIgdlV2Owp2b2lkIG1haW4oKSB7CglnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQoIHQyRCwgdlV2ICk7CgkjaWZkZWYgREVDT0RFX1ZJREVPX1RFWFRVUkUKCQlnbF9GcmFnQ29sb3IgPSB2ZWM0KCBtaXgoIHBvdyggZ2xfRnJhZ0NvbG9yLnJnYiAqIDAuOTQ3ODY3Mjk4NiArIHZlYzMoIDAuMDUyMTMyNzAxNCApLCB2ZWMzKCAyLjQgKSApLCBnbF9GcmFnQ29sb3IucmdiICogMC4wNzczOTkzODA4LCB2ZWMzKCBsZXNzVGhhbkVxdWFsKCBnbF9GcmFnQ29sb3IucmdiLCB2ZWMzKCAwLjA0MDQ1ICkgKSApICksIGdsX0ZyYWdDb2xvci53ICk7CgkjZW5kaWYKCSNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD4KCSNpbmNsdWRlIDxlbmNvZGluZ3NfZnJhZ21lbnQ+Cn1gLHB4PWB2YXJ5aW5nIHZlYzMgdldvcmxkRGlyZWN0aW9uOwojaW5jbHVkZSA8Y29tbW9uPgp2b2lkIG1haW4oKSB7Cgl2V29ybGREaXJlY3Rpb24gPSB0cmFuc2Zvcm1EaXJlY3Rpb24oIHBvc2l0aW9uLCBtb2RlbE1hdHJpeCApOwoJI2luY2x1ZGUgPGJlZ2luX3ZlcnRleD4KCSNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD4KCWdsX1Bvc2l0aW9uLnogPSBnbF9Qb3NpdGlvbi53Owp9YCxmeD1gI2luY2x1ZGUgPGVudm1hcF9jb21tb25fcGFyc19mcmFnbWVudD4KdW5pZm9ybSBmbG9hdCBvcGFjaXR5Owp2YXJ5aW5nIHZlYzMgdldvcmxkRGlyZWN0aW9uOwojaW5jbHVkZSA8Y3ViZV91dl9yZWZsZWN0aW9uX2ZyYWdtZW50Pgp2b2lkIG1haW4oKSB7Cgl2ZWMzIHZSZWZsZWN0ID0gdldvcmxkRGlyZWN0aW9uOwoJI2luY2x1ZGUgPGVudm1hcF9mcmFnbWVudD4KCWdsX0ZyYWdDb2xvciA9IGVudkNvbG9yOwoJZ2xfRnJhZ0NvbG9yLmEgKj0gb3BhY2l0eTsKCSNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD4KCSNpbmNsdWRlIDxlbmNvZGluZ3NfZnJhZ21lbnQ+Cn1gLG14PWAjaW5jbHVkZSA8Y29tbW9uPgojaW5jbHVkZSA8dXZfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxtb3JwaHRhcmdldF9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPHNraW5uaW5nX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+CnZhcnlpbmcgdmVjMiB2SGlnaFByZWNpc2lvblpXOwp2b2lkIG1haW4oKSB7CgkjaW5jbHVkZSA8dXZfdmVydGV4PgoJI2luY2x1ZGUgPHNraW5iYXNlX3ZlcnRleD4KCSNpZmRlZiBVU0VfRElTUExBQ0VNRU5UTUFQCgkJI2luY2x1ZGUgPGJlZ2lubm9ybWFsX3ZlcnRleD4KCQkjaW5jbHVkZSA8bW9ycGhub3JtYWxfdmVydGV4PgoJCSNpbmNsdWRlIDxza2lubm9ybWFsX3ZlcnRleD4KCSNlbmRpZgoJI2luY2x1ZGUgPGJlZ2luX3ZlcnRleD4KCSNpbmNsdWRlIDxtb3JwaHRhcmdldF92ZXJ0ZXg+CgkjaW5jbHVkZSA8c2tpbm5pbmdfdmVydGV4PgoJI2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF92ZXJ0ZXg+CgkjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+CgkjaW5jbHVkZSA8bG9nZGVwdGhidWZfdmVydGV4PgoJI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc192ZXJ0ZXg+Cgl2SGlnaFByZWNpc2lvblpXID0gZ2xfUG9zaXRpb24uenc7Cn1gLGd4PWAjaWYgREVQVEhfUEFDS0lORyA9PSAzMjAwCgl1bmlmb3JtIGZsb2F0IG9wYWNpdHk7CiNlbmRpZgojaW5jbHVkZSA8Y29tbW9uPgojaW5jbHVkZSA8cGFja2luZz4KI2luY2x1ZGUgPHV2X3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGFscGhhbWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxhbHBoYXRlc3RfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudD4KdmFyeWluZyB2ZWMyIHZIaWdoUHJlY2lzaW9uWlc7CnZvaWQgbWFpbigpIHsKCSNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfZnJhZ21lbnQ+Cgl2ZWM0IGRpZmZ1c2VDb2xvciA9IHZlYzQoIDEuMCApOwoJI2lmIERFUFRIX1BBQ0tJTkcgPT0gMzIwMAoJCWRpZmZ1c2VDb2xvci5hID0gb3BhY2l0eTsKCSNlbmRpZgoJI2luY2x1ZGUgPG1hcF9mcmFnbWVudD4KCSNpbmNsdWRlIDxhbHBoYW1hcF9mcmFnbWVudD4KCSNpbmNsdWRlIDxhbHBoYXRlc3RfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8bG9nZGVwdGhidWZfZnJhZ21lbnQ+CglmbG9hdCBmcmFnQ29vcmRaID0gMC41ICogdkhpZ2hQcmVjaXNpb25aV1swXSAvIHZIaWdoUHJlY2lzaW9uWldbMV0gKyAwLjU7CgkjaWYgREVQVEhfUEFDS0lORyA9PSAzMjAwCgkJZ2xfRnJhZ0NvbG9yID0gdmVjNCggdmVjMyggMS4wIC0gZnJhZ0Nvb3JkWiApLCBvcGFjaXR5ICk7CgkjZWxpZiBERVBUSF9QQUNLSU5HID09IDMyMDEKCQlnbF9GcmFnQ29sb3IgPSBwYWNrRGVwdGhUb1JHQkEoIGZyYWdDb29yZFogKTsKCSNlbmRpZgp9YCx2eD1gI2RlZmluZSBESVNUQU5DRQp2YXJ5aW5nIHZlYzMgdldvcmxkUG9zaXRpb247CiNpbmNsdWRlIDxjb21tb24+CiNpbmNsdWRlIDx1dl9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3BhcnNfdmVydGV4PgojaW5jbHVkZSA8c2tpbm5pbmdfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+CnZvaWQgbWFpbigpIHsKCSNpbmNsdWRlIDx1dl92ZXJ0ZXg+CgkjaW5jbHVkZSA8c2tpbmJhc2VfdmVydGV4PgoJI2lmZGVmIFVTRV9ESVNQTEFDRU1FTlRNQVAKCQkjaW5jbHVkZSA8YmVnaW5ub3JtYWxfdmVydGV4PgoJCSNpbmNsdWRlIDxtb3JwaG5vcm1hbF92ZXJ0ZXg+CgkJI2luY2x1ZGUgPHNraW5ub3JtYWxfdmVydGV4PgoJI2VuZGlmCgkjaW5jbHVkZSA8YmVnaW5fdmVydGV4PgoJI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3ZlcnRleD4KCSNpbmNsdWRlIDxza2lubmluZ192ZXJ0ZXg+CgkjaW5jbHVkZSA8ZGlzcGxhY2VtZW50bWFwX3ZlcnRleD4KCSNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD4KCSNpbmNsdWRlIDx3b3JsZHBvc192ZXJ0ZXg+CgkjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3ZlcnRleD4KCXZXb3JsZFBvc2l0aW9uID0gd29ybGRQb3NpdGlvbi54eXo7Cn1gLHh4PWAjZGVmaW5lIERJU1RBTkNFCnVuaWZvcm0gdmVjMyByZWZlcmVuY2VQb3NpdGlvbjsKdW5pZm9ybSBmbG9hdCBuZWFyRGlzdGFuY2U7CnVuaWZvcm0gZmxvYXQgZmFyRGlzdGFuY2U7CnZhcnlpbmcgdmVjMyB2V29ybGRQb3NpdGlvbjsKI2luY2x1ZGUgPGNvbW1vbj4KI2luY2x1ZGUgPHBhY2tpbmc+CiNpbmNsdWRlIDx1dl9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8bWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxhbHBoYW1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8YWxwaGF0ZXN0X3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudD4Kdm9pZCBtYWluICgpIHsKCSNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfZnJhZ21lbnQ+Cgl2ZWM0IGRpZmZ1c2VDb2xvciA9IHZlYzQoIDEuMCApOwoJI2luY2x1ZGUgPG1hcF9mcmFnbWVudD4KCSNpbmNsdWRlIDxhbHBoYW1hcF9mcmFnbWVudD4KCSNpbmNsdWRlIDxhbHBoYXRlc3RfZnJhZ21lbnQ+CglmbG9hdCBkaXN0ID0gbGVuZ3RoKCB2V29ybGRQb3NpdGlvbiAtIHJlZmVyZW5jZVBvc2l0aW9uICk7CglkaXN0ID0gKCBkaXN0IC0gbmVhckRpc3RhbmNlICkgLyAoIGZhckRpc3RhbmNlIC0gbmVhckRpc3RhbmNlICk7CglkaXN0ID0gc2F0dXJhdGUoIGRpc3QgKTsKCWdsX0ZyYWdDb2xvciA9IHBhY2tEZXB0aFRvUkdCQSggZGlzdCApOwp9YCxfeD1gdmFyeWluZyB2ZWMzIHZXb3JsZERpcmVjdGlvbjsKI2luY2x1ZGUgPGNvbW1vbj4Kdm9pZCBtYWluKCkgewoJdldvcmxkRGlyZWN0aW9uID0gdHJhbnNmb3JtRGlyZWN0aW9uKCBwb3NpdGlvbiwgbW9kZWxNYXRyaXggKTsKCSNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+CgkjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+Cn1gLHl4PWB1bmlmb3JtIHNhbXBsZXIyRCB0RXF1aXJlY3Q7CnZhcnlpbmcgdmVjMyB2V29ybGREaXJlY3Rpb247CiNpbmNsdWRlIDxjb21tb24+CnZvaWQgbWFpbigpIHsKCXZlYzMgZGlyZWN0aW9uID0gbm9ybWFsaXplKCB2V29ybGREaXJlY3Rpb24gKTsKCXZlYzIgc2FtcGxlVVYgPSBlcXVpcmVjdFV2KCBkaXJlY3Rpb24gKTsKCWdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCggdEVxdWlyZWN0LCBzYW1wbGVVViApOwoJI2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGVuY29kaW5nc19mcmFnbWVudD4KfWAsTXg9YHVuaWZvcm0gZmxvYXQgc2NhbGU7CmF0dHJpYnV0ZSBmbG9hdCBsaW5lRGlzdGFuY2U7CnZhcnlpbmcgZmxvYXQgdkxpbmVEaXN0YW5jZTsKI2luY2x1ZGUgPGNvbW1vbj4KI2luY2x1ZGUgPGNvbG9yX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8Zm9nX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8bW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD4Kdm9pZCBtYWluKCkgewoJdkxpbmVEaXN0YW5jZSA9IHNjYWxlICogbGluZURpc3RhbmNlOwoJI2luY2x1ZGUgPGNvbG9yX3ZlcnRleD4KCSNpbmNsdWRlIDxtb3JwaGNvbG9yX3ZlcnRleD4KCSNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+CgkjaW5jbHVkZSA8bW9ycGh0YXJnZXRfdmVydGV4PgoJI2luY2x1ZGUgPHByb2plY3RfdmVydGV4PgoJI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3ZlcnRleD4KCSNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PgoJI2luY2x1ZGUgPGZvZ192ZXJ0ZXg+Cn1gLGJ4PWB1bmlmb3JtIHZlYzMgZGlmZnVzZTsKdW5pZm9ybSBmbG9hdCBvcGFjaXR5Owp1bmlmb3JtIGZsb2F0IGRhc2hTaXplOwp1bmlmb3JtIGZsb2F0IHRvdGFsU2l6ZTsKdmFyeWluZyBmbG9hdCB2TGluZURpc3RhbmNlOwojaW5jbHVkZSA8Y29tbW9uPgojaW5jbHVkZSA8Y29sb3JfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGZvZ19wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX2ZyYWdtZW50Pgp2b2lkIG1haW4oKSB7CgkjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX2ZyYWdtZW50PgoJaWYgKCBtb2QoIHZMaW5lRGlzdGFuY2UsIHRvdGFsU2l6ZSApID4gZGFzaFNpemUgKSB7CgkJZGlzY2FyZDsKCX0KCXZlYzMgb3V0Z29pbmdMaWdodCA9IHZlYzMoIDAuMCApOwoJdmVjNCBkaWZmdXNlQ29sb3IgPSB2ZWM0KCBkaWZmdXNlLCBvcGFjaXR5ICk7CgkjaW5jbHVkZSA8bG9nZGVwdGhidWZfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8Y29sb3JfZnJhZ21lbnQ+CglvdXRnb2luZ0xpZ2h0ID0gZGlmZnVzZUNvbG9yLnJnYjsKCSNpbmNsdWRlIDxvdXRwdXRfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8dG9uZW1hcHBpbmdfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8ZW5jb2RpbmdzX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGZvZ19mcmFnbWVudD4KCSNpbmNsdWRlIDxwcmVtdWx0aXBsaWVkX2FscGhhX2ZyYWdtZW50Pgp9YCx3eD1gI2luY2x1ZGUgPGNvbW1vbj4KI2luY2x1ZGUgPHV2X3BhcnNfdmVydGV4PgojaW5jbHVkZSA8dXYyX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8ZW52bWFwX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8Y29sb3JfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxmb2dfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxtb3JwaHRhcmdldF9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPHNraW5uaW5nX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+CnZvaWQgbWFpbigpIHsKCSNpbmNsdWRlIDx1dl92ZXJ0ZXg+CgkjaW5jbHVkZSA8dXYyX3ZlcnRleD4KCSNpbmNsdWRlIDxjb2xvcl92ZXJ0ZXg+CgkjaW5jbHVkZSA8bW9ycGhjb2xvcl92ZXJ0ZXg+CgkjaWYgZGVmaW5lZCAoIFVTRV9FTlZNQVAgKSB8fCBkZWZpbmVkICggVVNFX1NLSU5OSU5HICkKCQkjaW5jbHVkZSA8YmVnaW5ub3JtYWxfdmVydGV4PgoJCSNpbmNsdWRlIDxtb3JwaG5vcm1hbF92ZXJ0ZXg+CgkJI2luY2x1ZGUgPHNraW5iYXNlX3ZlcnRleD4KCQkjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+CgkJI2luY2x1ZGUgPGRlZmF1bHRub3JtYWxfdmVydGV4PgoJI2VuZGlmCgkjaW5jbHVkZSA8YmVnaW5fdmVydGV4PgoJI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3ZlcnRleD4KCSNpbmNsdWRlIDxza2lubmluZ192ZXJ0ZXg+CgkjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+CgkjaW5jbHVkZSA8bG9nZGVwdGhidWZfdmVydGV4PgoJI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc192ZXJ0ZXg+CgkjaW5jbHVkZSA8d29ybGRwb3NfdmVydGV4PgoJI2luY2x1ZGUgPGVudm1hcF92ZXJ0ZXg+CgkjaW5jbHVkZSA8Zm9nX3ZlcnRleD4KfWAsU3g9YHVuaWZvcm0gdmVjMyBkaWZmdXNlOwp1bmlmb3JtIGZsb2F0IG9wYWNpdHk7CiNpZm5kZWYgRkxBVF9TSEFERUQKCXZhcnlpbmcgdmVjMyB2Tm9ybWFsOwojZW5kaWYKI2luY2x1ZGUgPGNvbW1vbj4KI2luY2x1ZGUgPGRpdGhlcmluZ19wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8Y29sb3JfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPHV2X3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDx1djJfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPG1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8YWxwaGFtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGFscGhhdGVzdF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8YW9tYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGxpZ2h0bWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxlbnZtYXBfY29tbW9uX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxlbnZtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGN1YmVfdXZfcmVmbGVjdGlvbl9mcmFnbWVudD4KI2luY2x1ZGUgPGZvZ19wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8c3BlY3VsYXJtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudD4Kdm9pZCBtYWluKCkgewoJI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudD4KCXZlYzQgZGlmZnVzZUNvbG9yID0gdmVjNCggZGlmZnVzZSwgb3BhY2l0eSApOwoJI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX2ZyYWdtZW50PgoJI2luY2x1ZGUgPG1hcF9mcmFnbWVudD4KCSNpbmNsdWRlIDxjb2xvcl9mcmFnbWVudD4KCSNpbmNsdWRlIDxhbHBoYW1hcF9mcmFnbWVudD4KCSNpbmNsdWRlIDxhbHBoYXRlc3RfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8c3BlY3VsYXJtYXBfZnJhZ21lbnQ+CglSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCA9IFJlZmxlY3RlZExpZ2h0KCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICksIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSApOwoJI2lmZGVmIFVTRV9MSUdIVE1BUAoJCXZlYzQgbGlnaHRNYXBUZXhlbCA9IHRleHR1cmUyRCggbGlnaHRNYXAsIHZVdjIgKTsKCQlyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKz0gbGlnaHRNYXBUZXhlbC5yZ2IgKiBsaWdodE1hcEludGVuc2l0eSAqIFJFQ0lQUk9DQUxfUEk7CgkjZWxzZQoJCXJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArPSB2ZWMzKCAxLjAgKTsKCSNlbmRpZgoJI2luY2x1ZGUgPGFvbWFwX2ZyYWdtZW50PgoJcmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICo9IGRpZmZ1c2VDb2xvci5yZ2I7Cgl2ZWMzIG91dGdvaW5nTGlnaHQgPSByZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2U7CgkjaW5jbHVkZSA8ZW52bWFwX2ZyYWdtZW50PgoJI2luY2x1ZGUgPG91dHB1dF9mcmFnbWVudD4KCSNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD4KCSNpbmNsdWRlIDxlbmNvZGluZ3NfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8Zm9nX2ZyYWdtZW50PgoJI2luY2x1ZGUgPHByZW11bHRpcGxpZWRfYWxwaGFfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8ZGl0aGVyaW5nX2ZyYWdtZW50Pgp9YCxFeD1gI2RlZmluZSBMQU1CRVJUCnZhcnlpbmcgdmVjMyB2TGlnaHRGcm9udDsKdmFyeWluZyB2ZWMzIHZJbmRpcmVjdEZyb250OwojaWZkZWYgRE9VQkxFX1NJREVECgl2YXJ5aW5nIHZlYzMgdkxpZ2h0QmFjazsKCXZhcnlpbmcgdmVjMyB2SW5kaXJlY3RCYWNrOwojZW5kaWYKI2luY2x1ZGUgPGNvbW1vbj4KI2luY2x1ZGUgPHV2X3BhcnNfdmVydGV4PgojaW5jbHVkZSA8dXYyX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8ZW52bWFwX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8YnNkZnM+CiNpbmNsdWRlIDxsaWdodHNfcGFyc19iZWdpbj4KI2luY2x1ZGUgPGNvbG9yX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8Zm9nX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8bW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxza2lubmluZ19wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPHNoYWRvd21hcF9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfdmVydGV4Pgp2b2lkIG1haW4oKSB7CgkjaW5jbHVkZSA8dXZfdmVydGV4PgoJI2luY2x1ZGUgPHV2Ml92ZXJ0ZXg+CgkjaW5jbHVkZSA8Y29sb3JfdmVydGV4PgoJI2luY2x1ZGUgPG1vcnBoY29sb3JfdmVydGV4PgoJI2luY2x1ZGUgPGJlZ2lubm9ybWFsX3ZlcnRleD4KCSNpbmNsdWRlIDxtb3JwaG5vcm1hbF92ZXJ0ZXg+CgkjaW5jbHVkZSA8c2tpbmJhc2VfdmVydGV4PgoJI2luY2x1ZGUgPHNraW5ub3JtYWxfdmVydGV4PgoJI2luY2x1ZGUgPGRlZmF1bHRub3JtYWxfdmVydGV4PgoJI2luY2x1ZGUgPGJlZ2luX3ZlcnRleD4KCSNpbmNsdWRlIDxtb3JwaHRhcmdldF92ZXJ0ZXg+CgkjaW5jbHVkZSA8c2tpbm5pbmdfdmVydGV4PgoJI2luY2x1ZGUgPHByb2plY3RfdmVydGV4PgoJI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3ZlcnRleD4KCSNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PgoJI2luY2x1ZGUgPHdvcmxkcG9zX3ZlcnRleD4KCSNpbmNsdWRlIDxlbnZtYXBfdmVydGV4PgoJI2luY2x1ZGUgPGxpZ2h0c19sYW1iZXJ0X3ZlcnRleD4KCSNpbmNsdWRlIDxzaGFkb3dtYXBfdmVydGV4PgoJI2luY2x1ZGUgPGZvZ192ZXJ0ZXg+Cn1gLFR4PWB1bmlmb3JtIHZlYzMgZGlmZnVzZTsKdW5pZm9ybSB2ZWMzIGVtaXNzaXZlOwp1bmlmb3JtIGZsb2F0IG9wYWNpdHk7CnZhcnlpbmcgdmVjMyB2TGlnaHRGcm9udDsKdmFyeWluZyB2ZWMzIHZJbmRpcmVjdEZyb250OwojaWZkZWYgRE9VQkxFX1NJREVECgl2YXJ5aW5nIHZlYzMgdkxpZ2h0QmFjazsKCXZhcnlpbmcgdmVjMyB2SW5kaXJlY3RCYWNrOwojZW5kaWYKI2luY2x1ZGUgPGNvbW1vbj4KI2luY2x1ZGUgPHBhY2tpbmc+CiNpbmNsdWRlIDxkaXRoZXJpbmdfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGNvbG9yX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDx1dl9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8dXYyX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGFscGhhbWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxhbHBoYXRlc3RfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGFvbWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxsaWdodG1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8ZW1pc3NpdmVtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGVudm1hcF9jb21tb25fcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGVudm1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8Y3ViZV91dl9yZWZsZWN0aW9uX2ZyYWdtZW50PgojaW5jbHVkZSA8YnNkZnM+CiNpbmNsdWRlIDxsaWdodHNfcGFyc19iZWdpbj4KI2luY2x1ZGUgPGZvZ19wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8c2hhZG93bWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxzaGFkb3dtYXNrX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxzcGVjdWxhcm1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX2ZyYWdtZW50Pgp2b2lkIG1haW4oKSB7CgkjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX2ZyYWdtZW50PgoJdmVjNCBkaWZmdXNlQ29sb3IgPSB2ZWM0KCBkaWZmdXNlLCBvcGFjaXR5ICk7CglSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCA9IFJlZmxlY3RlZExpZ2h0KCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICksIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSApOwoJdmVjMyB0b3RhbEVtaXNzaXZlUmFkaWFuY2UgPSBlbWlzc2l2ZTsKCSNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9mcmFnbWVudD4KCSNpbmNsdWRlIDxtYXBfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8Y29sb3JfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8YWxwaGFtYXBfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8YWxwaGF0ZXN0X2ZyYWdtZW50PgoJI2luY2x1ZGUgPHNwZWN1bGFybWFwX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGVtaXNzaXZlbWFwX2ZyYWdtZW50PgoJI2lmZGVmIERPVUJMRV9TSURFRAoJCXJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArPSAoIGdsX0Zyb250RmFjaW5nICkgPyB2SW5kaXJlY3RGcm9udCA6IHZJbmRpcmVjdEJhY2s7CgkjZWxzZQoJCXJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArPSB2SW5kaXJlY3RGcm9udDsKCSNlbmRpZgoJI2luY2x1ZGUgPGxpZ2h0bWFwX2ZyYWdtZW50PgoJcmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICo9IEJSREZfTGFtYmVydCggZGlmZnVzZUNvbG9yLnJnYiApOwoJI2lmZGVmIERPVUJMRV9TSURFRAoJCXJlZmxlY3RlZExpZ2h0LmRpcmVjdERpZmZ1c2UgPSAoIGdsX0Zyb250RmFjaW5nICkgPyB2TGlnaHRGcm9udCA6IHZMaWdodEJhY2s7CgkjZWxzZQoJCXJlZmxlY3RlZExpZ2h0LmRpcmVjdERpZmZ1c2UgPSB2TGlnaHRGcm9udDsKCSNlbmRpZgoJcmVmbGVjdGVkTGlnaHQuZGlyZWN0RGlmZnVzZSAqPSBCUkRGX0xhbWJlcnQoIGRpZmZ1c2VDb2xvci5yZ2IgKSAqIGdldFNoYWRvd01hc2soKTsKCSNpbmNsdWRlIDxhb21hcF9mcmFnbWVudD4KCXZlYzMgb3V0Z29pbmdMaWdodCA9IHJlZmxlY3RlZExpZ2h0LmRpcmVjdERpZmZ1c2UgKyByZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKyB0b3RhbEVtaXNzaXZlUmFkaWFuY2U7CgkjaW5jbHVkZSA8ZW52bWFwX2ZyYWdtZW50PgoJI2luY2x1ZGUgPG91dHB1dF9mcmFnbWVudD4KCSNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD4KCSNpbmNsdWRlIDxlbmNvZGluZ3NfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8Zm9nX2ZyYWdtZW50PgoJI2luY2x1ZGUgPHByZW11bHRpcGxpZWRfYWxwaGFfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8ZGl0aGVyaW5nX2ZyYWdtZW50Pgp9YCxBeD1gI2RlZmluZSBNQVRDQVAKdmFyeWluZyB2ZWMzIHZWaWV3UG9zaXRpb247CiNpbmNsdWRlIDxjb21tb24+CiNpbmNsdWRlIDx1dl9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPGNvbG9yX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8ZGlzcGxhY2VtZW50bWFwX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8Zm9nX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8bm9ybWFsX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8bW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxza2lubmluZ19wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfdmVydGV4Pgp2b2lkIG1haW4oKSB7CgkjaW5jbHVkZSA8dXZfdmVydGV4PgoJI2luY2x1ZGUgPGNvbG9yX3ZlcnRleD4KCSNpbmNsdWRlIDxtb3JwaGNvbG9yX3ZlcnRleD4KCSNpbmNsdWRlIDxiZWdpbm5vcm1hbF92ZXJ0ZXg+CgkjaW5jbHVkZSA8bW9ycGhub3JtYWxfdmVydGV4PgoJI2luY2x1ZGUgPHNraW5iYXNlX3ZlcnRleD4KCSNpbmNsdWRlIDxza2lubm9ybWFsX3ZlcnRleD4KCSNpbmNsdWRlIDxkZWZhdWx0bm9ybWFsX3ZlcnRleD4KCSNpbmNsdWRlIDxub3JtYWxfdmVydGV4PgoJI2luY2x1ZGUgPGJlZ2luX3ZlcnRleD4KCSNpbmNsdWRlIDxtb3JwaHRhcmdldF92ZXJ0ZXg+CgkjaW5jbHVkZSA8c2tpbm5pbmdfdmVydGV4PgoJI2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF92ZXJ0ZXg+CgkjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+CgkjaW5jbHVkZSA8bG9nZGVwdGhidWZfdmVydGV4PgoJI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc192ZXJ0ZXg+CgkjaW5jbHVkZSA8Zm9nX3ZlcnRleD4KCXZWaWV3UG9zaXRpb24gPSAtIG12UG9zaXRpb24ueHl6Owp9YCxDeD1gI2RlZmluZSBNQVRDQVAKdW5pZm9ybSB2ZWMzIGRpZmZ1c2U7CnVuaWZvcm0gZmxvYXQgb3BhY2l0eTsKdW5pZm9ybSBzYW1wbGVyMkQgbWF0Y2FwOwp2YXJ5aW5nIHZlYzMgdlZpZXdQb3NpdGlvbjsKI2luY2x1ZGUgPGNvbW1vbj4KI2luY2x1ZGUgPGRpdGhlcmluZ19wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8Y29sb3JfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPHV2X3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGFscGhhbWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxhbHBoYXRlc3RfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGZvZ19wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8bm9ybWFsX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxidW1wbWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxub3JtYWxtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudD4Kdm9pZCBtYWluKCkgewoJI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudD4KCXZlYzQgZGlmZnVzZUNvbG9yID0gdmVjNCggZGlmZnVzZSwgb3BhY2l0eSApOwoJI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX2ZyYWdtZW50PgoJI2luY2x1ZGUgPG1hcF9mcmFnbWVudD4KCSNpbmNsdWRlIDxjb2xvcl9mcmFnbWVudD4KCSNpbmNsdWRlIDxhbHBoYW1hcF9mcmFnbWVudD4KCSNpbmNsdWRlIDxhbHBoYXRlc3RfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8bm9ybWFsX2ZyYWdtZW50X2JlZ2luPgoJI2luY2x1ZGUgPG5vcm1hbF9mcmFnbWVudF9tYXBzPgoJdmVjMyB2aWV3RGlyID0gbm9ybWFsaXplKCB2Vmlld1Bvc2l0aW9uICk7Cgl2ZWMzIHggPSBub3JtYWxpemUoIHZlYzMoIHZpZXdEaXIueiwgMC4wLCAtIHZpZXdEaXIueCApICk7Cgl2ZWMzIHkgPSBjcm9zcyggdmlld0RpciwgeCApOwoJdmVjMiB1diA9IHZlYzIoIGRvdCggeCwgbm9ybWFsICksIGRvdCggeSwgbm9ybWFsICkgKSAqIDAuNDk1ICsgMC41OwoJI2lmZGVmIFVTRV9NQVRDQVAKCQl2ZWM0IG1hdGNhcENvbG9yID0gdGV4dHVyZTJEKCBtYXRjYXAsIHV2ICk7CgkjZWxzZQoJCXZlYzQgbWF0Y2FwQ29sb3IgPSB2ZWM0KCB2ZWMzKCBtaXgoIDAuMiwgMC44LCB1di55ICkgKSwgMS4wICk7CgkjZW5kaWYKCXZlYzMgb3V0Z29pbmdMaWdodCA9IGRpZmZ1c2VDb2xvci5yZ2IgKiBtYXRjYXBDb2xvci5yZ2I7CgkjaW5jbHVkZSA8b3V0cHV0X2ZyYWdtZW50PgoJI2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGVuY29kaW5nc19mcmFnbWVudD4KCSNpbmNsdWRlIDxmb2dfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8cHJlbXVsdGlwbGllZF9hbHBoYV9mcmFnbWVudD4KCSNpbmNsdWRlIDxkaXRoZXJpbmdfZnJhZ21lbnQ+Cn1gLEx4PWAjZGVmaW5lIE5PUk1BTAojaWYgZGVmaW5lZCggRkxBVF9TSEFERUQgKSB8fCBkZWZpbmVkKCBVU0VfQlVNUE1BUCApIHx8IGRlZmluZWQoIFRBTkdFTlRTUEFDRV9OT1JNQUxNQVAgKQoJdmFyeWluZyB2ZWMzIHZWaWV3UG9zaXRpb247CiNlbmRpZgojaW5jbHVkZSA8Y29tbW9uPgojaW5jbHVkZSA8dXZfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxub3JtYWxfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxtb3JwaHRhcmdldF9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPHNraW5uaW5nX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+CnZvaWQgbWFpbigpIHsKCSNpbmNsdWRlIDx1dl92ZXJ0ZXg+CgkjaW5jbHVkZSA8YmVnaW5ub3JtYWxfdmVydGV4PgoJI2luY2x1ZGUgPG1vcnBobm9ybWFsX3ZlcnRleD4KCSNpbmNsdWRlIDxza2luYmFzZV92ZXJ0ZXg+CgkjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+CgkjaW5jbHVkZSA8ZGVmYXVsdG5vcm1hbF92ZXJ0ZXg+CgkjaW5jbHVkZSA8bm9ybWFsX3ZlcnRleD4KCSNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+CgkjaW5jbHVkZSA8bW9ycGh0YXJnZXRfdmVydGV4PgoJI2luY2x1ZGUgPHNraW5uaW5nX3ZlcnRleD4KCSNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfdmVydGV4PgoJI2luY2x1ZGUgPHByb2plY3RfdmVydGV4PgoJI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3ZlcnRleD4KCSNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PgojaWYgZGVmaW5lZCggRkxBVF9TSEFERUQgKSB8fCBkZWZpbmVkKCBVU0VfQlVNUE1BUCApIHx8IGRlZmluZWQoIFRBTkdFTlRTUEFDRV9OT1JNQUxNQVAgKQoJdlZpZXdQb3NpdGlvbiA9IC0gbXZQb3NpdGlvbi54eXo7CiNlbmRpZgp9YCxSeD1gI2RlZmluZSBOT1JNQUwKdW5pZm9ybSBmbG9hdCBvcGFjaXR5OwojaWYgZGVmaW5lZCggRkxBVF9TSEFERUQgKSB8fCBkZWZpbmVkKCBVU0VfQlVNUE1BUCApIHx8IGRlZmluZWQoIFRBTkdFTlRTUEFDRV9OT1JNQUxNQVAgKQoJdmFyeWluZyB2ZWMzIHZWaWV3UG9zaXRpb247CiNlbmRpZgojaW5jbHVkZSA8cGFja2luZz4KI2luY2x1ZGUgPHV2X3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxub3JtYWxfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGJ1bXBtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPG5vcm1hbG1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX2ZyYWdtZW50Pgp2b2lkIG1haW4oKSB7CgkjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX2ZyYWdtZW50PgoJI2luY2x1ZGUgPG5vcm1hbF9mcmFnbWVudF9iZWdpbj4KCSNpbmNsdWRlIDxub3JtYWxfZnJhZ21lbnRfbWFwcz4KCWdsX0ZyYWdDb2xvciA9IHZlYzQoIHBhY2tOb3JtYWxUb1JHQiggbm9ybWFsICksIG9wYWNpdHkgKTsKCSNpZmRlZiBPUEFRVUUKCQlnbF9GcmFnQ29sb3IuYSA9IDEuMDsKCSNlbmRpZgp9YCxQeD1gI2RlZmluZSBQSE9ORwp2YXJ5aW5nIHZlYzMgdlZpZXdQb3NpdGlvbjsKI2luY2x1ZGUgPGNvbW1vbj4KI2luY2x1ZGUgPHV2X3BhcnNfdmVydGV4PgojaW5jbHVkZSA8dXYyX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8ZGlzcGxhY2VtZW50bWFwX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8ZW52bWFwX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8Y29sb3JfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxmb2dfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxub3JtYWxfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxtb3JwaHRhcmdldF9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPHNraW5uaW5nX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8c2hhZG93bWFwX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+CnZvaWQgbWFpbigpIHsKCSNpbmNsdWRlIDx1dl92ZXJ0ZXg+CgkjaW5jbHVkZSA8dXYyX3ZlcnRleD4KCSNpbmNsdWRlIDxjb2xvcl92ZXJ0ZXg+CgkjaW5jbHVkZSA8bW9ycGhjb2xvcl92ZXJ0ZXg+CgkjaW5jbHVkZSA8YmVnaW5ub3JtYWxfdmVydGV4PgoJI2luY2x1ZGUgPG1vcnBobm9ybWFsX3ZlcnRleD4KCSNpbmNsdWRlIDxza2luYmFzZV92ZXJ0ZXg+CgkjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+CgkjaW5jbHVkZSA8ZGVmYXVsdG5vcm1hbF92ZXJ0ZXg+CgkjaW5jbHVkZSA8bm9ybWFsX3ZlcnRleD4KCSNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+CgkjaW5jbHVkZSA8bW9ycGh0YXJnZXRfdmVydGV4PgoJI2luY2x1ZGUgPHNraW5uaW5nX3ZlcnRleD4KCSNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfdmVydGV4PgoJI2luY2x1ZGUgPHByb2plY3RfdmVydGV4PgoJI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3ZlcnRleD4KCSNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PgoJdlZpZXdQb3NpdGlvbiA9IC0gbXZQb3NpdGlvbi54eXo7CgkjaW5jbHVkZSA8d29ybGRwb3NfdmVydGV4PgoJI2luY2x1ZGUgPGVudm1hcF92ZXJ0ZXg+CgkjaW5jbHVkZSA8c2hhZG93bWFwX3ZlcnRleD4KCSNpbmNsdWRlIDxmb2dfdmVydGV4Pgp9YCxJeD1gI2RlZmluZSBQSE9ORwp1bmlmb3JtIHZlYzMgZGlmZnVzZTsKdW5pZm9ybSB2ZWMzIGVtaXNzaXZlOwp1bmlmb3JtIHZlYzMgc3BlY3VsYXI7CnVuaWZvcm0gZmxvYXQgc2hpbmluZXNzOwp1bmlmb3JtIGZsb2F0IG9wYWNpdHk7CiNpbmNsdWRlIDxjb21tb24+CiNpbmNsdWRlIDxwYWNraW5nPgojaW5jbHVkZSA8ZGl0aGVyaW5nX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxjb2xvcl9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8dXZfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPHV2Ml9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8bWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxhbHBoYW1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8YWxwaGF0ZXN0X3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxhb21hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8bGlnaHRtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGVtaXNzaXZlbWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxlbnZtYXBfY29tbW9uX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxlbnZtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGN1YmVfdXZfcmVmbGVjdGlvbl9mcmFnbWVudD4KI2luY2x1ZGUgPGZvZ19wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8YnNkZnM+CiNpbmNsdWRlIDxsaWdodHNfcGFyc19iZWdpbj4KI2luY2x1ZGUgPG5vcm1hbF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8bGlnaHRzX3Bob25nX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxzaGFkb3dtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGJ1bXBtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPG5vcm1hbG1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8c3BlY3VsYXJtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudD4Kdm9pZCBtYWluKCkgewoJI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudD4KCXZlYzQgZGlmZnVzZUNvbG9yID0gdmVjNCggZGlmZnVzZSwgb3BhY2l0eSApOwoJUmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQgPSBSZWZsZWN0ZWRMaWdodCggdmVjMyggMC4wICksIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICkgKTsKCXZlYzMgdG90YWxFbWlzc2l2ZVJhZGlhbmNlID0gZW1pc3NpdmU7CgkjaW5jbHVkZSA8bG9nZGVwdGhidWZfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8bWFwX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGNvbG9yX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGFscGhhbWFwX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGFscGhhdGVzdF9mcmFnbWVudD4KCSNpbmNsdWRlIDxzcGVjdWxhcm1hcF9mcmFnbWVudD4KCSNpbmNsdWRlIDxub3JtYWxfZnJhZ21lbnRfYmVnaW4+CgkjaW5jbHVkZSA8bm9ybWFsX2ZyYWdtZW50X21hcHM+CgkjaW5jbHVkZSA8ZW1pc3NpdmVtYXBfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8bGlnaHRzX3Bob25nX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGxpZ2h0c19mcmFnbWVudF9iZWdpbj4KCSNpbmNsdWRlIDxsaWdodHNfZnJhZ21lbnRfbWFwcz4KCSNpbmNsdWRlIDxsaWdodHNfZnJhZ21lbnRfZW5kPgoJI2luY2x1ZGUgPGFvbWFwX2ZyYWdtZW50PgoJdmVjMyBvdXRnb2luZ0xpZ2h0ID0gcmVmbGVjdGVkTGlnaHQuZGlyZWN0RGlmZnVzZSArIHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArIHJlZmxlY3RlZExpZ2h0LmRpcmVjdFNwZWN1bGFyICsgcmVmbGVjdGVkTGlnaHQuaW5kaXJlY3RTcGVjdWxhciArIHRvdGFsRW1pc3NpdmVSYWRpYW5jZTsKCSNpbmNsdWRlIDxlbnZtYXBfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8b3V0cHV0X2ZyYWdtZW50PgoJI2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGVuY29kaW5nc19mcmFnbWVudD4KCSNpbmNsdWRlIDxmb2dfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8cHJlbXVsdGlwbGllZF9hbHBoYV9mcmFnbWVudD4KCSNpbmNsdWRlIDxkaXRoZXJpbmdfZnJhZ21lbnQ+Cn1gLE54PWAjZGVmaW5lIFNUQU5EQVJECnZhcnlpbmcgdmVjMyB2Vmlld1Bvc2l0aW9uOwojaWZkZWYgVVNFX1RSQU5TTUlTU0lPTgoJdmFyeWluZyB2ZWMzIHZXb3JsZFBvc2l0aW9uOwojZW5kaWYKI2luY2x1ZGUgPGNvbW1vbj4KI2luY2x1ZGUgPHV2X3BhcnNfdmVydGV4PgojaW5jbHVkZSA8dXYyX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8ZGlzcGxhY2VtZW50bWFwX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8Y29sb3JfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxmb2dfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxub3JtYWxfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxtb3JwaHRhcmdldF9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPHNraW5uaW5nX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8c2hhZG93bWFwX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+CnZvaWQgbWFpbigpIHsKCSNpbmNsdWRlIDx1dl92ZXJ0ZXg+CgkjaW5jbHVkZSA8dXYyX3ZlcnRleD4KCSNpbmNsdWRlIDxjb2xvcl92ZXJ0ZXg+CgkjaW5jbHVkZSA8bW9ycGhjb2xvcl92ZXJ0ZXg+CgkjaW5jbHVkZSA8YmVnaW5ub3JtYWxfdmVydGV4PgoJI2luY2x1ZGUgPG1vcnBobm9ybWFsX3ZlcnRleD4KCSNpbmNsdWRlIDxza2luYmFzZV92ZXJ0ZXg+CgkjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+CgkjaW5jbHVkZSA8ZGVmYXVsdG5vcm1hbF92ZXJ0ZXg+CgkjaW5jbHVkZSA8bm9ybWFsX3ZlcnRleD4KCSNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+CgkjaW5jbHVkZSA8bW9ycGh0YXJnZXRfdmVydGV4PgoJI2luY2x1ZGUgPHNraW5uaW5nX3ZlcnRleD4KCSNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfdmVydGV4PgoJI2luY2x1ZGUgPHByb2plY3RfdmVydGV4PgoJI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3ZlcnRleD4KCSNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PgoJdlZpZXdQb3NpdGlvbiA9IC0gbXZQb3NpdGlvbi54eXo7CgkjaW5jbHVkZSA8d29ybGRwb3NfdmVydGV4PgoJI2luY2x1ZGUgPHNoYWRvd21hcF92ZXJ0ZXg+CgkjaW5jbHVkZSA8Zm9nX3ZlcnRleD4KI2lmZGVmIFVTRV9UUkFOU01JU1NJT04KCXZXb3JsZFBvc2l0aW9uID0gd29ybGRQb3NpdGlvbi54eXo7CiNlbmRpZgp9YCxEeD1gI2RlZmluZSBTVEFOREFSRAojaWZkZWYgUEhZU0lDQUwKCSNkZWZpbmUgSU9SCgkjZGVmaW5lIFNQRUNVTEFSCiNlbmRpZgp1bmlmb3JtIHZlYzMgZGlmZnVzZTsKdW5pZm9ybSB2ZWMzIGVtaXNzaXZlOwp1bmlmb3JtIGZsb2F0IHJvdWdobmVzczsKdW5pZm9ybSBmbG9hdCBtZXRhbG5lc3M7CnVuaWZvcm0gZmxvYXQgb3BhY2l0eTsKI2lmZGVmIElPUgoJdW5pZm9ybSBmbG9hdCBpb3I7CiNlbmRpZgojaWZkZWYgU1BFQ1VMQVIKCXVuaWZvcm0gZmxvYXQgc3BlY3VsYXJJbnRlbnNpdHk7Cgl1bmlmb3JtIHZlYzMgc3BlY3VsYXJDb2xvcjsKCSNpZmRlZiBVU0VfU1BFQ1VMQVJJTlRFTlNJVFlNQVAKCQl1bmlmb3JtIHNhbXBsZXIyRCBzcGVjdWxhckludGVuc2l0eU1hcDsKCSNlbmRpZgoJI2lmZGVmIFVTRV9TUEVDVUxBUkNPTE9STUFQCgkJdW5pZm9ybSBzYW1wbGVyMkQgc3BlY3VsYXJDb2xvck1hcDsKCSNlbmRpZgojZW5kaWYKI2lmZGVmIFVTRV9DTEVBUkNPQVQKCXVuaWZvcm0gZmxvYXQgY2xlYXJjb2F0OwoJdW5pZm9ybSBmbG9hdCBjbGVhcmNvYXRSb3VnaG5lc3M7CiNlbmRpZgojaWZkZWYgVVNFX1NIRUVOCgl1bmlmb3JtIHZlYzMgc2hlZW5Db2xvcjsKCXVuaWZvcm0gZmxvYXQgc2hlZW5Sb3VnaG5lc3M7CgkjaWZkZWYgVVNFX1NIRUVOQ09MT1JNQVAKCQl1bmlmb3JtIHNhbXBsZXIyRCBzaGVlbkNvbG9yTWFwOwoJI2VuZGlmCgkjaWZkZWYgVVNFX1NIRUVOUk9VR0hORVNTTUFQCgkJdW5pZm9ybSBzYW1wbGVyMkQgc2hlZW5Sb3VnaG5lc3NNYXA7CgkjZW5kaWYKI2VuZGlmCnZhcnlpbmcgdmVjMyB2Vmlld1Bvc2l0aW9uOwojaW5jbHVkZSA8Y29tbW9uPgojaW5jbHVkZSA8cGFja2luZz4KI2luY2x1ZGUgPGRpdGhlcmluZ19wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8Y29sb3JfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPHV2X3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDx1djJfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPG1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8YWxwaGFtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGFscGhhdGVzdF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8YW9tYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGxpZ2h0bWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxlbWlzc2l2ZW1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8YnNkZnM+CiNpbmNsdWRlIDxjdWJlX3V2X3JlZmxlY3Rpb25fZnJhZ21lbnQ+CiNpbmNsdWRlIDxlbnZtYXBfY29tbW9uX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxlbnZtYXBfcGh5c2ljYWxfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGZvZ19wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8bGlnaHRzX3BhcnNfYmVnaW4+CiNpbmNsdWRlIDxub3JtYWxfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGxpZ2h0c19waHlzaWNhbF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8dHJhbnNtaXNzaW9uX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxzaGFkb3dtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGJ1bXBtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPG5vcm1hbG1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8Y2xlYXJjb2F0X3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxyb3VnaG5lc3NtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPG1ldGFsbmVzc21hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX2ZyYWdtZW50Pgp2b2lkIG1haW4oKSB7CgkjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX2ZyYWdtZW50PgoJdmVjNCBkaWZmdXNlQ29sb3IgPSB2ZWM0KCBkaWZmdXNlLCBvcGFjaXR5ICk7CglSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCA9IFJlZmxlY3RlZExpZ2h0KCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICksIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSApOwoJdmVjMyB0b3RhbEVtaXNzaXZlUmFkaWFuY2UgPSBlbWlzc2l2ZTsKCSNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9mcmFnbWVudD4KCSNpbmNsdWRlIDxtYXBfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8Y29sb3JfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8YWxwaGFtYXBfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8YWxwaGF0ZXN0X2ZyYWdtZW50PgoJI2luY2x1ZGUgPHJvdWdobmVzc21hcF9mcmFnbWVudD4KCSNpbmNsdWRlIDxtZXRhbG5lc3NtYXBfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8bm9ybWFsX2ZyYWdtZW50X2JlZ2luPgoJI2luY2x1ZGUgPG5vcm1hbF9mcmFnbWVudF9tYXBzPgoJI2luY2x1ZGUgPGNsZWFyY29hdF9ub3JtYWxfZnJhZ21lbnRfYmVnaW4+CgkjaW5jbHVkZSA8Y2xlYXJjb2F0X25vcm1hbF9mcmFnbWVudF9tYXBzPgoJI2luY2x1ZGUgPGVtaXNzaXZlbWFwX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGxpZ2h0c19waHlzaWNhbF9mcmFnbWVudD4KCSNpbmNsdWRlIDxsaWdodHNfZnJhZ21lbnRfYmVnaW4+CgkjaW5jbHVkZSA8bGlnaHRzX2ZyYWdtZW50X21hcHM+CgkjaW5jbHVkZSA8bGlnaHRzX2ZyYWdtZW50X2VuZD4KCSNpbmNsdWRlIDxhb21hcF9mcmFnbWVudD4KCXZlYzMgdG90YWxEaWZmdXNlID0gcmVmbGVjdGVkTGlnaHQuZGlyZWN0RGlmZnVzZSArIHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZTsKCXZlYzMgdG90YWxTcGVjdWxhciA9IHJlZmxlY3RlZExpZ2h0LmRpcmVjdFNwZWN1bGFyICsgcmVmbGVjdGVkTGlnaHQuaW5kaXJlY3RTcGVjdWxhcjsKCSNpbmNsdWRlIDx0cmFuc21pc3Npb25fZnJhZ21lbnQ+Cgl2ZWMzIG91dGdvaW5nTGlnaHQgPSB0b3RhbERpZmZ1c2UgKyB0b3RhbFNwZWN1bGFyICsgdG90YWxFbWlzc2l2ZVJhZGlhbmNlOwoJI2lmZGVmIFVTRV9TSEVFTgoJCWZsb2F0IHNoZWVuRW5lcmd5Q29tcCA9IDEuMCAtIDAuMTU3ICogbWF4MyggbWF0ZXJpYWwuc2hlZW5Db2xvciApOwoJCW91dGdvaW5nTGlnaHQgPSBvdXRnb2luZ0xpZ2h0ICogc2hlZW5FbmVyZ3lDb21wICsgc2hlZW5TcGVjdWxhcjsKCSNlbmRpZgoJI2lmZGVmIFVTRV9DTEVBUkNPQVQKCQlmbG9hdCBkb3ROVmNjID0gc2F0dXJhdGUoIGRvdCggZ2VvbWV0cnkuY2xlYXJjb2F0Tm9ybWFsLCBnZW9tZXRyeS52aWV3RGlyICkgKTsKCQl2ZWMzIEZjYyA9IEZfU2NobGljayggbWF0ZXJpYWwuY2xlYXJjb2F0RjAsIG1hdGVyaWFsLmNsZWFyY29hdEY5MCwgZG90TlZjYyApOwoJCW91dGdvaW5nTGlnaHQgPSBvdXRnb2luZ0xpZ2h0ICogKCAxLjAgLSBtYXRlcmlhbC5jbGVhcmNvYXQgKiBGY2MgKSArIGNsZWFyY29hdFNwZWN1bGFyICogbWF0ZXJpYWwuY2xlYXJjb2F0OwoJI2VuZGlmCgkjaW5jbHVkZSA8b3V0cHV0X2ZyYWdtZW50PgoJI2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGVuY29kaW5nc19mcmFnbWVudD4KCSNpbmNsdWRlIDxmb2dfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8cHJlbXVsdGlwbGllZF9hbHBoYV9mcmFnbWVudD4KCSNpbmNsdWRlIDxkaXRoZXJpbmdfZnJhZ21lbnQ+Cn1gLE94PWAjZGVmaW5lIFRPT04KdmFyeWluZyB2ZWMzIHZWaWV3UG9zaXRpb247CiNpbmNsdWRlIDxjb21tb24+CiNpbmNsdWRlIDx1dl9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPHV2Ml9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPGNvbG9yX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8Zm9nX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8bm9ybWFsX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8bW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxza2lubmluZ19wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPHNoYWRvd21hcF9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfdmVydGV4Pgp2b2lkIG1haW4oKSB7CgkjaW5jbHVkZSA8dXZfdmVydGV4PgoJI2luY2x1ZGUgPHV2Ml92ZXJ0ZXg+CgkjaW5jbHVkZSA8Y29sb3JfdmVydGV4PgoJI2luY2x1ZGUgPG1vcnBoY29sb3JfdmVydGV4PgoJI2luY2x1ZGUgPGJlZ2lubm9ybWFsX3ZlcnRleD4KCSNpbmNsdWRlIDxtb3JwaG5vcm1hbF92ZXJ0ZXg+CgkjaW5jbHVkZSA8c2tpbmJhc2VfdmVydGV4PgoJI2luY2x1ZGUgPHNraW5ub3JtYWxfdmVydGV4PgoJI2luY2x1ZGUgPGRlZmF1bHRub3JtYWxfdmVydGV4PgoJI2luY2x1ZGUgPG5vcm1hbF92ZXJ0ZXg+CgkjaW5jbHVkZSA8YmVnaW5fdmVydGV4PgoJI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3ZlcnRleD4KCSNpbmNsdWRlIDxza2lubmluZ192ZXJ0ZXg+CgkjaW5jbHVkZSA8ZGlzcGxhY2VtZW50bWFwX3ZlcnRleD4KCSNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD4KCSNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl92ZXJ0ZXg+CgkjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3ZlcnRleD4KCXZWaWV3UG9zaXRpb24gPSAtIG12UG9zaXRpb24ueHl6OwoJI2luY2x1ZGUgPHdvcmxkcG9zX3ZlcnRleD4KCSNpbmNsdWRlIDxzaGFkb3dtYXBfdmVydGV4PgoJI2luY2x1ZGUgPGZvZ192ZXJ0ZXg+Cn1gLHp4PWAjZGVmaW5lIFRPT04KdW5pZm9ybSB2ZWMzIGRpZmZ1c2U7CnVuaWZvcm0gdmVjMyBlbWlzc2l2ZTsKdW5pZm9ybSBmbG9hdCBvcGFjaXR5OwojaW5jbHVkZSA8Y29tbW9uPgojaW5jbHVkZSA8cGFja2luZz4KI2luY2x1ZGUgPGRpdGhlcmluZ19wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8Y29sb3JfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPHV2X3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDx1djJfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPG1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8YWxwaGFtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGFscGhhdGVzdF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8YW9tYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGxpZ2h0bWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxlbWlzc2l2ZW1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8Z3JhZGllbnRtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGZvZ19wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8YnNkZnM+CiNpbmNsdWRlIDxsaWdodHNfcGFyc19iZWdpbj4KI2luY2x1ZGUgPG5vcm1hbF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8bGlnaHRzX3Rvb25fcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPHNoYWRvd21hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8YnVtcG1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8bm9ybWFsbWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQ+CnZvaWQgbWFpbigpIHsKCSNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfZnJhZ21lbnQ+Cgl2ZWM0IGRpZmZ1c2VDb2xvciA9IHZlYzQoIGRpZmZ1c2UsIG9wYWNpdHkgKTsKCVJlZmxlY3RlZExpZ2h0IHJlZmxlY3RlZExpZ2h0ID0gUmVmbGVjdGVkTGlnaHQoIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICksIHZlYzMoIDAuMCApICk7Cgl2ZWMzIHRvdGFsRW1pc3NpdmVSYWRpYW5jZSA9IGVtaXNzaXZlOwoJI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX2ZyYWdtZW50PgoJI2luY2x1ZGUgPG1hcF9mcmFnbWVudD4KCSNpbmNsdWRlIDxjb2xvcl9mcmFnbWVudD4KCSNpbmNsdWRlIDxhbHBoYW1hcF9mcmFnbWVudD4KCSNpbmNsdWRlIDxhbHBoYXRlc3RfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8bm9ybWFsX2ZyYWdtZW50X2JlZ2luPgoJI2luY2x1ZGUgPG5vcm1hbF9mcmFnbWVudF9tYXBzPgoJI2luY2x1ZGUgPGVtaXNzaXZlbWFwX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGxpZ2h0c190b29uX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGxpZ2h0c19mcmFnbWVudF9iZWdpbj4KCSNpbmNsdWRlIDxsaWdodHNfZnJhZ21lbnRfbWFwcz4KCSNpbmNsdWRlIDxsaWdodHNfZnJhZ21lbnRfZW5kPgoJI2luY2x1ZGUgPGFvbWFwX2ZyYWdtZW50PgoJdmVjMyBvdXRnb2luZ0xpZ2h0ID0gcmVmbGVjdGVkTGlnaHQuZGlyZWN0RGlmZnVzZSArIHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArIHRvdGFsRW1pc3NpdmVSYWRpYW5jZTsKCSNpbmNsdWRlIDxvdXRwdXRfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8dG9uZW1hcHBpbmdfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8ZW5jb2RpbmdzX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGZvZ19mcmFnbWVudD4KCSNpbmNsdWRlIDxwcmVtdWx0aXBsaWVkX2FscGhhX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGRpdGhlcmluZ19mcmFnbWVudD4KfWAsQng9YHVuaWZvcm0gZmxvYXQgc2l6ZTsKdW5pZm9ybSBmbG9hdCBzY2FsZTsKI2luY2x1ZGUgPGNvbW1vbj4KI2luY2x1ZGUgPGNvbG9yX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8Zm9nX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8bW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD4Kdm9pZCBtYWluKCkgewoJI2luY2x1ZGUgPGNvbG9yX3ZlcnRleD4KCSNpbmNsdWRlIDxtb3JwaGNvbG9yX3ZlcnRleD4KCSNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+CgkjaW5jbHVkZSA8bW9ycGh0YXJnZXRfdmVydGV4PgoJI2luY2x1ZGUgPHByb2plY3RfdmVydGV4PgoJZ2xfUG9pbnRTaXplID0gc2l6ZTsKCSNpZmRlZiBVU0VfU0laRUFUVEVOVUFUSU9OCgkJYm9vbCBpc1BlcnNwZWN0aXZlID0gaXNQZXJzcGVjdGl2ZU1hdHJpeCggcHJvamVjdGlvbk1hdHJpeCApOwoJCWlmICggaXNQZXJzcGVjdGl2ZSApIGdsX1BvaW50U2l6ZSAqPSAoIHNjYWxlIC8gLSBtdlBvc2l0aW9uLnogKTsKCSNlbmRpZgoJI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3ZlcnRleD4KCSNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PgoJI2luY2x1ZGUgPHdvcmxkcG9zX3ZlcnRleD4KCSNpbmNsdWRlIDxmb2dfdmVydGV4Pgp9YCxVeD1gdW5pZm9ybSB2ZWMzIGRpZmZ1c2U7CnVuaWZvcm0gZmxvYXQgb3BhY2l0eTsKI2luY2x1ZGUgPGNvbW1vbj4KI2luY2x1ZGUgPGNvbG9yX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxtYXBfcGFydGljbGVfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGFscGhhdGVzdF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8Zm9nX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQ+CnZvaWQgbWFpbigpIHsKCSNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfZnJhZ21lbnQ+Cgl2ZWMzIG91dGdvaW5nTGlnaHQgPSB2ZWMzKCAwLjAgKTsKCXZlYzQgZGlmZnVzZUNvbG9yID0gdmVjNCggZGlmZnVzZSwgb3BhY2l0eSApOwoJI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX2ZyYWdtZW50PgoJI2luY2x1ZGUgPG1hcF9wYXJ0aWNsZV9mcmFnbWVudD4KCSNpbmNsdWRlIDxjb2xvcl9mcmFnbWVudD4KCSNpbmNsdWRlIDxhbHBoYXRlc3RfZnJhZ21lbnQ+CglvdXRnb2luZ0xpZ2h0ID0gZGlmZnVzZUNvbG9yLnJnYjsKCSNpbmNsdWRlIDxvdXRwdXRfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8dG9uZW1hcHBpbmdfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8ZW5jb2RpbmdzX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGZvZ19mcmFnbWVudD4KCSNpbmNsdWRlIDxwcmVtdWx0aXBsaWVkX2FscGhhX2ZyYWdtZW50Pgp9YCxGeD1gI2luY2x1ZGUgPGNvbW1vbj4KI2luY2x1ZGUgPGZvZ19wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3BhcnNfdmVydGV4PgojaW5jbHVkZSA8c2tpbm5pbmdfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxzaGFkb3dtYXBfcGFyc192ZXJ0ZXg+CnZvaWQgbWFpbigpIHsKCSNpbmNsdWRlIDxiZWdpbm5vcm1hbF92ZXJ0ZXg+CgkjaW5jbHVkZSA8bW9ycGhub3JtYWxfdmVydGV4PgoJI2luY2x1ZGUgPHNraW5iYXNlX3ZlcnRleD4KCSNpbmNsdWRlIDxza2lubm9ybWFsX3ZlcnRleD4KCSNpbmNsdWRlIDxkZWZhdWx0bm9ybWFsX3ZlcnRleD4KCSNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+CgkjaW5jbHVkZSA8bW9ycGh0YXJnZXRfdmVydGV4PgoJI2luY2x1ZGUgPHNraW5uaW5nX3ZlcnRleD4KCSNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD4KCSNpbmNsdWRlIDx3b3JsZHBvc192ZXJ0ZXg+CgkjaW5jbHVkZSA8c2hhZG93bWFwX3ZlcnRleD4KCSNpbmNsdWRlIDxmb2dfdmVydGV4Pgp9YCxIeD1gdW5pZm9ybSB2ZWMzIGNvbG9yOwp1bmlmb3JtIGZsb2F0IG9wYWNpdHk7CiNpbmNsdWRlIDxjb21tb24+CiNpbmNsdWRlIDxwYWNraW5nPgojaW5jbHVkZSA8Zm9nX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxic2Rmcz4KI2luY2x1ZGUgPGxpZ2h0c19wYXJzX2JlZ2luPgojaW5jbHVkZSA8c2hhZG93bWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxzaGFkb3dtYXNrX3BhcnNfZnJhZ21lbnQ+CnZvaWQgbWFpbigpIHsKCWdsX0ZyYWdDb2xvciA9IHZlYzQoIGNvbG9yLCBvcGFjaXR5ICogKCAxLjAgLSBnZXRTaGFkb3dNYXNrKCkgKSApOwoJI2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGVuY29kaW5nc19mcmFnbWVudD4KCSNpbmNsdWRlIDxmb2dfZnJhZ21lbnQ+Cn1gLGt4PWB1bmlmb3JtIGZsb2F0IHJvdGF0aW9uOwp1bmlmb3JtIHZlYzIgY2VudGVyOwojaW5jbHVkZSA8Y29tbW9uPgojaW5jbHVkZSA8dXZfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxmb2dfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD4Kdm9pZCBtYWluKCkgewoJI2luY2x1ZGUgPHV2X3ZlcnRleD4KCXZlYzQgbXZQb3NpdGlvbiA9IG1vZGVsVmlld01hdHJpeCAqIHZlYzQoIDAuMCwgMC4wLCAwLjAsIDEuMCApOwoJdmVjMiBzY2FsZTsKCXNjYWxlLnggPSBsZW5ndGgoIHZlYzMoIG1vZGVsTWF0cml4WyAwIF0ueCwgbW9kZWxNYXRyaXhbIDAgXS55LCBtb2RlbE1hdHJpeFsgMCBdLnogKSApOwoJc2NhbGUueSA9IGxlbmd0aCggdmVjMyggbW9kZWxNYXRyaXhbIDEgXS54LCBtb2RlbE1hdHJpeFsgMSBdLnksIG1vZGVsTWF0cml4WyAxIF0ueiApICk7CgkjaWZuZGVmIFVTRV9TSVpFQVRURU5VQVRJT04KCQlib29sIGlzUGVyc3BlY3RpdmUgPSBpc1BlcnNwZWN0aXZlTWF0cml4KCBwcm9qZWN0aW9uTWF0cml4ICk7CgkJaWYgKCBpc1BlcnNwZWN0aXZlICkgc2NhbGUgKj0gLSBtdlBvc2l0aW9uLno7CgkjZW5kaWYKCXZlYzIgYWxpZ25lZFBvc2l0aW9uID0gKCBwb3NpdGlvbi54eSAtICggY2VudGVyIC0gdmVjMiggMC41ICkgKSApICogc2NhbGU7Cgl2ZWMyIHJvdGF0ZWRQb3NpdGlvbjsKCXJvdGF0ZWRQb3NpdGlvbi54ID0gY29zKCByb3RhdGlvbiApICogYWxpZ25lZFBvc2l0aW9uLnggLSBzaW4oIHJvdGF0aW9uICkgKiBhbGlnbmVkUG9zaXRpb24ueTsKCXJvdGF0ZWRQb3NpdGlvbi55ID0gc2luKCByb3RhdGlvbiApICogYWxpZ25lZFBvc2l0aW9uLnggKyBjb3MoIHJvdGF0aW9uICkgKiBhbGlnbmVkUG9zaXRpb24ueTsKCW12UG9zaXRpb24ueHkgKz0gcm90YXRlZFBvc2l0aW9uOwoJZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbXZQb3NpdGlvbjsKCSNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl92ZXJ0ZXg+CgkjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3ZlcnRleD4KCSNpbmNsdWRlIDxmb2dfdmVydGV4Pgp9YCxHeD1gdW5pZm9ybSB2ZWMzIGRpZmZ1c2U7CnVuaWZvcm0gZmxvYXQgb3BhY2l0eTsKI2luY2x1ZGUgPGNvbW1vbj4KI2luY2x1ZGUgPHV2X3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGFscGhhbWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxhbHBoYXRlc3RfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGZvZ19wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX2ZyYWdtZW50Pgp2b2lkIG1haW4oKSB7CgkjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX2ZyYWdtZW50PgoJdmVjMyBvdXRnb2luZ0xpZ2h0ID0gdmVjMyggMC4wICk7Cgl2ZWM0IGRpZmZ1c2VDb2xvciA9IHZlYzQoIGRpZmZ1c2UsIG9wYWNpdHkgKTsKCSNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9mcmFnbWVudD4KCSNpbmNsdWRlIDxtYXBfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8YWxwaGFtYXBfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8YWxwaGF0ZXN0X2ZyYWdtZW50PgoJb3V0Z29pbmdMaWdodCA9IGRpZmZ1c2VDb2xvci5yZ2I7CgkjaW5jbHVkZSA8b3V0cHV0X2ZyYWdtZW50PgoJI2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGVuY29kaW5nc19mcmFnbWVudD4KCSNpbmNsdWRlIDxmb2dfZnJhZ21lbnQ+Cn1gLERlPXthbHBoYW1hcF9mcmFnbWVudDpnMCxhbHBoYW1hcF9wYXJzX2ZyYWdtZW50OnYwLGFscGhhdGVzdF9mcmFnbWVudDp4MCxhbHBoYXRlc3RfcGFyc19mcmFnbWVudDpfMCxhb21hcF9mcmFnbWVudDp5MCxhb21hcF9wYXJzX2ZyYWdtZW50Ok0wLGJlZ2luX3ZlcnRleDpiMCxiZWdpbm5vcm1hbF92ZXJ0ZXg6dzAsYnNkZnM6UzAsYnVtcG1hcF9wYXJzX2ZyYWdtZW50OkUwLGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudDpUMCxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudDpBMCxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg6QzAsY2xpcHBpbmdfcGxhbmVzX3ZlcnRleDpMMCxjb2xvcl9mcmFnbWVudDpSMCxjb2xvcl9wYXJzX2ZyYWdtZW50OlAwLGNvbG9yX3BhcnNfdmVydGV4OkkwLGNvbG9yX3ZlcnRleDpOMCxjb21tb246RDAsY3ViZV91dl9yZWZsZWN0aW9uX2ZyYWdtZW50Ok8wLGRlZmF1bHRub3JtYWxfdmVydGV4OnowLGRpc3BsYWNlbWVudG1hcF9wYXJzX3ZlcnRleDpCMCxkaXNwbGFjZW1lbnRtYXBfdmVydGV4OlUwLGVtaXNzaXZlbWFwX2ZyYWdtZW50OkYwLGVtaXNzaXZlbWFwX3BhcnNfZnJhZ21lbnQ6SDAsZW5jb2RpbmdzX2ZyYWdtZW50OmswLGVuY29kaW5nc19wYXJzX2ZyYWdtZW50OkcwLGVudm1hcF9mcmFnbWVudDpWMCxlbnZtYXBfY29tbW9uX3BhcnNfZnJhZ21lbnQ6VzAsZW52bWFwX3BhcnNfZnJhZ21lbnQ6ajAsZW52bWFwX3BhcnNfdmVydGV4OnEwLGVudm1hcF9waHlzaWNhbF9wYXJzX2ZyYWdtZW50OnJ2LGVudm1hcF92ZXJ0ZXg6WDAsZm9nX3ZlcnRleDpKMCxmb2dfcGFyc192ZXJ0ZXg6WTAsZm9nX2ZyYWdtZW50OlowLGZvZ19wYXJzX2ZyYWdtZW50OkswLGdyYWRpZW50bWFwX3BhcnNfZnJhZ21lbnQ6UTAsbGlnaHRtYXBfZnJhZ21lbnQ6JDAsbGlnaHRtYXBfcGFyc19mcmFnbWVudDpldixsaWdodHNfbGFtYmVydF92ZXJ0ZXg6dHYsbGlnaHRzX3BhcnNfYmVnaW46aXYsbGlnaHRzX3Rvb25fZnJhZ21lbnQ6c3YsbGlnaHRzX3Rvb25fcGFyc19mcmFnbWVudDphdixsaWdodHNfcGhvbmdfZnJhZ21lbnQ6bnYsbGlnaHRzX3Bob25nX3BhcnNfZnJhZ21lbnQ6b3YsbGlnaHRzX3BoeXNpY2FsX2ZyYWdtZW50Omh2LGxpZ2h0c19waHlzaWNhbF9wYXJzX2ZyYWdtZW50Omx2LGxpZ2h0c19mcmFnbWVudF9iZWdpbjpjdixsaWdodHNfZnJhZ21lbnRfbWFwczp1dixsaWdodHNfZnJhZ21lbnRfZW5kOmR2LGxvZ2RlcHRoYnVmX2ZyYWdtZW50OnB2LGxvZ2RlcHRoYnVmX3BhcnNfZnJhZ21lbnQ6ZnYsbG9nZGVwdGhidWZfcGFyc192ZXJ0ZXg6bXYsbG9nZGVwdGhidWZfdmVydGV4Omd2LG1hcF9mcmFnbWVudDp2dixtYXBfcGFyc19mcmFnbWVudDp4dixtYXBfcGFydGljbGVfZnJhZ21lbnQ6X3YsbWFwX3BhcnRpY2xlX3BhcnNfZnJhZ21lbnQ6eXYsbWV0YWxuZXNzbWFwX2ZyYWdtZW50Ok12LG1ldGFsbmVzc21hcF9wYXJzX2ZyYWdtZW50OmJ2LG1vcnBoY29sb3JfdmVydGV4Ond2LG1vcnBobm9ybWFsX3ZlcnRleDpTdixtb3JwaHRhcmdldF9wYXJzX3ZlcnRleDpFdixtb3JwaHRhcmdldF92ZXJ0ZXg6VHYsbm9ybWFsX2ZyYWdtZW50X2JlZ2luOkF2LG5vcm1hbF9mcmFnbWVudF9tYXBzOkN2LG5vcm1hbF9wYXJzX2ZyYWdtZW50Okx2LG5vcm1hbF9wYXJzX3ZlcnRleDpSdixub3JtYWxfdmVydGV4OlB2LG5vcm1hbG1hcF9wYXJzX2ZyYWdtZW50Okl2LGNsZWFyY29hdF9ub3JtYWxfZnJhZ21lbnRfYmVnaW46TnYsY2xlYXJjb2F0X25vcm1hbF9mcmFnbWVudF9tYXBzOkR2LGNsZWFyY29hdF9wYXJzX2ZyYWdtZW50Ok92LG91dHB1dF9mcmFnbWVudDp6dixwYWNraW5nOkJ2LHByZW11bHRpcGxpZWRfYWxwaGFfZnJhZ21lbnQ6VXYscHJvamVjdF92ZXJ0ZXg6RnYsZGl0aGVyaW5nX2ZyYWdtZW50Okh2LGRpdGhlcmluZ19wYXJzX2ZyYWdtZW50Omt2LHJvdWdobmVzc21hcF9mcmFnbWVudDpHdixyb3VnaG5lc3NtYXBfcGFyc19mcmFnbWVudDpWdixzaGFkb3dtYXBfcGFyc19mcmFnbWVudDpXdixzaGFkb3dtYXBfcGFyc192ZXJ0ZXg6anYsc2hhZG93bWFwX3ZlcnRleDpxdixzaGFkb3dtYXNrX3BhcnNfZnJhZ21lbnQ6WHYsc2tpbmJhc2VfdmVydGV4Okp2LHNraW5uaW5nX3BhcnNfdmVydGV4Oll2LHNraW5uaW5nX3ZlcnRleDpadixza2lubm9ybWFsX3ZlcnRleDpLdixzcGVjdWxhcm1hcF9mcmFnbWVudDpRdixzcGVjdWxhcm1hcF9wYXJzX2ZyYWdtZW50OiR2LHRvbmVtYXBwaW5nX2ZyYWdtZW50OmV4LHRvbmVtYXBwaW5nX3BhcnNfZnJhZ21lbnQ6dHgsdHJhbnNtaXNzaW9uX2ZyYWdtZW50Oml4LHRyYW5zbWlzc2lvbl9wYXJzX2ZyYWdtZW50OnJ4LHV2X3BhcnNfZnJhZ21lbnQ6c3gsdXZfcGFyc192ZXJ0ZXg6YXgsdXZfdmVydGV4Om54LHV2Ml9wYXJzX2ZyYWdtZW50Om94LHV2Ml9wYXJzX3ZlcnRleDpoeCx1djJfdmVydGV4Omx4LHdvcmxkcG9zX3ZlcnRleDpjeCxiYWNrZ3JvdW5kX3ZlcnQ6dXgsYmFja2dyb3VuZF9mcmFnOmR4LGN1YmVfdmVydDpweCxjdWJlX2ZyYWc6ZngsZGVwdGhfdmVydDpteCxkZXB0aF9mcmFnOmd4LGRpc3RhbmNlUkdCQV92ZXJ0OnZ4LGRpc3RhbmNlUkdCQV9mcmFnOnh4LGVxdWlyZWN0X3ZlcnQ6X3gsZXF1aXJlY3RfZnJhZzp5eCxsaW5lZGFzaGVkX3ZlcnQ6TXgsbGluZWRhc2hlZF9mcmFnOmJ4LG1lc2hiYXNpY192ZXJ0Ond4LG1lc2hiYXNpY19mcmFnOlN4LG1lc2hsYW1iZXJ0X3ZlcnQ6RXgsbWVzaGxhbWJlcnRfZnJhZzpUeCxtZXNobWF0Y2FwX3ZlcnQ6QXgsbWVzaG1hdGNhcF9mcmFnOkN4LG1lc2hub3JtYWxfdmVydDpMeCxtZXNobm9ybWFsX2ZyYWc6UngsbWVzaHBob25nX3ZlcnQ6UHgsbWVzaHBob25nX2ZyYWc6SXgsbWVzaHBoeXNpY2FsX3ZlcnQ6TngsbWVzaHBoeXNpY2FsX2ZyYWc6RHgsbWVzaHRvb25fdmVydDpPeCxtZXNodG9vbl9mcmFnOnp4LHBvaW50c192ZXJ0OkJ4LHBvaW50c19mcmFnOlV4LHNoYWRvd192ZXJ0OkZ4LHNoYWRvd19mcmFnOkh4LHNwcml0ZV92ZXJ0Omt4LHNwcml0ZV9mcmFnOkd4fSxvZT17Y29tbW9uOntkaWZmdXNlOnt2YWx1ZTpuZXcgZ2UoMTY3NzcyMTUpfSxvcGFjaXR5Ont2YWx1ZToxfSxtYXA6e3ZhbHVlOm51bGx9LHV2VHJhbnNmb3JtOnt2YWx1ZTpuZXcgeHR9LHV2MlRyYW5zZm9ybTp7dmFsdWU6bmV3IHh0fSxhbHBoYU1hcDp7dmFsdWU6bnVsbH0sYWxwaGFUZXN0Ont2YWx1ZTowfX0sc3BlY3VsYXJtYXA6e3NwZWN1bGFyTWFwOnt2YWx1ZTpudWxsfX0sZW52bWFwOntlbnZNYXA6e3ZhbHVlOm51bGx9LGZsaXBFbnZNYXA6e3ZhbHVlOi0xfSxyZWZsZWN0aXZpdHk6e3ZhbHVlOjF9LGlvcjp7dmFsdWU6MS41fSxyZWZyYWN0aW9uUmF0aW86e3ZhbHVlOi45OH19LGFvbWFwOnthb01hcDp7dmFsdWU6bnVsbH0sYW9NYXBJbnRlbnNpdHk6e3ZhbHVlOjF9fSxsaWdodG1hcDp7bGlnaHRNYXA6e3ZhbHVlOm51bGx9LGxpZ2h0TWFwSW50ZW5zaXR5Ont2YWx1ZToxfX0sZW1pc3NpdmVtYXA6e2VtaXNzaXZlTWFwOnt2YWx1ZTpudWxsfX0sYnVtcG1hcDp7YnVtcE1hcDp7dmFsdWU6bnVsbH0sYnVtcFNjYWxlOnt2YWx1ZToxfX0sbm9ybWFsbWFwOntub3JtYWxNYXA6e3ZhbHVlOm51bGx9LG5vcm1hbFNjYWxlOnt2YWx1ZTpuZXcgZWUoMSwxKX19LGRpc3BsYWNlbWVudG1hcDp7ZGlzcGxhY2VtZW50TWFwOnt2YWx1ZTpudWxsfSxkaXNwbGFjZW1lbnRTY2FsZTp7dmFsdWU6MX0sZGlzcGxhY2VtZW50Qmlhczp7dmFsdWU6MH19LHJvdWdobmVzc21hcDp7cm91Z2huZXNzTWFwOnt2YWx1ZTpudWxsfX0sbWV0YWxuZXNzbWFwOnttZXRhbG5lc3NNYXA6e3ZhbHVlOm51bGx9fSxncmFkaWVudG1hcDp7Z3JhZGllbnRNYXA6e3ZhbHVlOm51bGx9fSxmb2c6e2ZvZ0RlbnNpdHk6e3ZhbHVlOjI1ZS01fSxmb2dOZWFyOnt2YWx1ZToxfSxmb2dGYXI6e3ZhbHVlOjJlM30sZm9nQ29sb3I6e3ZhbHVlOm5ldyBnZSgxNjc3NzIxNSl9fSxsaWdodHM6e2FtYmllbnRMaWdodENvbG9yOnt2YWx1ZTpbXX0sbGlnaHRQcm9iZTp7dmFsdWU6W119LGRpcmVjdGlvbmFsTGlnaHRzOnt2YWx1ZTpbXSxwcm9wZXJ0aWVzOntkaXJlY3Rpb246e30sY29sb3I6e319fSxkaXJlY3Rpb25hbExpZ2h0U2hhZG93czp7dmFsdWU6W10scHJvcGVydGllczp7c2hhZG93Qmlhczp7fSxzaGFkb3dOb3JtYWxCaWFzOnt9LHNoYWRvd1JhZGl1czp7fSxzaGFkb3dNYXBTaXplOnt9fX0sZGlyZWN0aW9uYWxTaGFkb3dNYXA6e3ZhbHVlOltdfSxkaXJlY3Rpb25hbFNoYWRvd01hdHJpeDp7dmFsdWU6W119LHNwb3RMaWdodHM6e3ZhbHVlOltdLHByb3BlcnRpZXM6e2NvbG9yOnt9LHBvc2l0aW9uOnt9LGRpcmVjdGlvbjp7fSxkaXN0YW5jZTp7fSxjb25lQ29zOnt9LHBlbnVtYnJhQ29zOnt9LGRlY2F5Ont9fX0sc3BvdExpZ2h0U2hhZG93czp7dmFsdWU6W10scHJvcGVydGllczp7c2hhZG93Qmlhczp7fSxzaGFkb3dOb3JtYWxCaWFzOnt9LHNoYWRvd1JhZGl1czp7fSxzaGFkb3dNYXBTaXplOnt9fX0sc3BvdFNoYWRvd01hcDp7dmFsdWU6W119LHNwb3RTaGFkb3dNYXRyaXg6e3ZhbHVlOltdfSxwb2ludExpZ2h0czp7dmFsdWU6W10scHJvcGVydGllczp7Y29sb3I6e30scG9zaXRpb246e30sZGVjYXk6e30sZGlzdGFuY2U6e319fSxwb2ludExpZ2h0U2hhZG93czp7dmFsdWU6W10scHJvcGVydGllczp7c2hhZG93Qmlhczp7fSxzaGFkb3dOb3JtYWxCaWFzOnt9LHNoYWRvd1JhZGl1czp7fSxzaGFkb3dNYXBTaXplOnt9LHNoYWRvd0NhbWVyYU5lYXI6e30sc2hhZG93Q2FtZXJhRmFyOnt9fX0scG9pbnRTaGFkb3dNYXA6e3ZhbHVlOltdfSxwb2ludFNoYWRvd01hdHJpeDp7dmFsdWU6W119LGhlbWlzcGhlcmVMaWdodHM6e3ZhbHVlOltdLHByb3BlcnRpZXM6e2RpcmVjdGlvbjp7fSxza3lDb2xvcjp7fSxncm91bmRDb2xvcjp7fX19LHJlY3RBcmVhTGlnaHRzOnt2YWx1ZTpbXSxwcm9wZXJ0aWVzOntjb2xvcjp7fSxwb3NpdGlvbjp7fSx3aWR0aDp7fSxoZWlnaHQ6e319fSxsdGNfMTp7dmFsdWU6bnVsbH0sbHRjXzI6e3ZhbHVlOm51bGx9fSxwb2ludHM6e2RpZmZ1c2U6e3ZhbHVlOm5ldyBnZSgxNjc3NzIxNSl9LG9wYWNpdHk6e3ZhbHVlOjF9LHNpemU6e3ZhbHVlOjF9LHNjYWxlOnt2YWx1ZToxfSxtYXA6e3ZhbHVlOm51bGx9LGFscGhhTWFwOnt2YWx1ZTpudWxsfSxhbHBoYVRlc3Q6e3ZhbHVlOjB9LHV2VHJhbnNmb3JtOnt2YWx1ZTpuZXcgeHR9fSxzcHJpdGU6e2RpZmZ1c2U6e3ZhbHVlOm5ldyBnZSgxNjc3NzIxNSl9LG9wYWNpdHk6e3ZhbHVlOjF9LGNlbnRlcjp7dmFsdWU6bmV3IGVlKC41LC41KX0scm90YXRpb246e3ZhbHVlOjB9LG1hcDp7dmFsdWU6bnVsbH0sYWxwaGFNYXA6e3ZhbHVlOm51bGx9LGFscGhhVGVzdDp7dmFsdWU6MH0sdXZUcmFuc2Zvcm06e3ZhbHVlOm5ldyB4dH19fSxhaT17YmFzaWM6e3VuaWZvcm1zOk10KFtvZS5jb21tb24sb2Uuc3BlY3VsYXJtYXAsb2UuZW52bWFwLG9lLmFvbWFwLG9lLmxpZ2h0bWFwLG9lLmZvZ10pLHZlcnRleFNoYWRlcjpEZS5tZXNoYmFzaWNfdmVydCxmcmFnbWVudFNoYWRlcjpEZS5tZXNoYmFzaWNfZnJhZ30sbGFtYmVydDp7dW5pZm9ybXM6TXQoW29lLmNvbW1vbixvZS5zcGVjdWxhcm1hcCxvZS5lbnZtYXAsb2UuYW9tYXAsb2UubGlnaHRtYXAsb2UuZW1pc3NpdmVtYXAsb2UuZm9nLG9lLmxpZ2h0cyx7ZW1pc3NpdmU6e3ZhbHVlOm5ldyBnZSgwKX19XSksdmVydGV4U2hhZGVyOkRlLm1lc2hsYW1iZXJ0X3ZlcnQsZnJhZ21lbnRTaGFkZXI6RGUubWVzaGxhbWJlcnRfZnJhZ30scGhvbmc6e3VuaWZvcm1zOk10KFtvZS5jb21tb24sb2Uuc3BlY3VsYXJtYXAsb2UuZW52bWFwLG9lLmFvbWFwLG9lLmxpZ2h0bWFwLG9lLmVtaXNzaXZlbWFwLG9lLmJ1bXBtYXAsb2Uubm9ybWFsbWFwLG9lLmRpc3BsYWNlbWVudG1hcCxvZS5mb2csb2UubGlnaHRzLHtlbWlzc2l2ZTp7dmFsdWU6bmV3IGdlKDApfSxzcGVjdWxhcjp7dmFsdWU6bmV3IGdlKDExMTg0ODEpfSxzaGluaW5lc3M6e3ZhbHVlOjMwfX1dKSx2ZXJ0ZXhTaGFkZXI6RGUubWVzaHBob25nX3ZlcnQsZnJhZ21lbnRTaGFkZXI6RGUubWVzaHBob25nX2ZyYWd9LHN0YW5kYXJkOnt1bmlmb3JtczpNdChbb2UuY29tbW9uLG9lLmVudm1hcCxvZS5hb21hcCxvZS5saWdodG1hcCxvZS5lbWlzc2l2ZW1hcCxvZS5idW1wbWFwLG9lLm5vcm1hbG1hcCxvZS5kaXNwbGFjZW1lbnRtYXAsb2Uucm91Z2huZXNzbWFwLG9lLm1ldGFsbmVzc21hcCxvZS5mb2csb2UubGlnaHRzLHtlbWlzc2l2ZTp7dmFsdWU6bmV3IGdlKDApfSxyb3VnaG5lc3M6e3ZhbHVlOjF9LG1ldGFsbmVzczp7dmFsdWU6MH0sZW52TWFwSW50ZW5zaXR5Ont2YWx1ZToxfX1dKSx2ZXJ0ZXhTaGFkZXI6RGUubWVzaHBoeXNpY2FsX3ZlcnQsZnJhZ21lbnRTaGFkZXI6RGUubWVzaHBoeXNpY2FsX2ZyYWd9LHRvb246e3VuaWZvcm1zOk10KFtvZS5jb21tb24sb2UuYW9tYXAsb2UubGlnaHRtYXAsb2UuZW1pc3NpdmVtYXAsb2UuYnVtcG1hcCxvZS5ub3JtYWxtYXAsb2UuZGlzcGxhY2VtZW50bWFwLG9lLmdyYWRpZW50bWFwLG9lLmZvZyxvZS5saWdodHMse2VtaXNzaXZlOnt2YWx1ZTpuZXcgZ2UoMCl9fV0pLHZlcnRleFNoYWRlcjpEZS5tZXNodG9vbl92ZXJ0LGZyYWdtZW50U2hhZGVyOkRlLm1lc2h0b29uX2ZyYWd9LG1hdGNhcDp7dW5pZm9ybXM6TXQoW29lLmNvbW1vbixvZS5idW1wbWFwLG9lLm5vcm1hbG1hcCxvZS5kaXNwbGFjZW1lbnRtYXAsb2UuZm9nLHttYXRjYXA6e3ZhbHVlOm51bGx9fV0pLHZlcnRleFNoYWRlcjpEZS5tZXNobWF0Y2FwX3ZlcnQsZnJhZ21lbnRTaGFkZXI6RGUubWVzaG1hdGNhcF9mcmFnfSxwb2ludHM6e3VuaWZvcm1zOk10KFtvZS5wb2ludHMsb2UuZm9nXSksdmVydGV4U2hhZGVyOkRlLnBvaW50c192ZXJ0LGZyYWdtZW50U2hhZGVyOkRlLnBvaW50c19mcmFnfSxkYXNoZWQ6e3VuaWZvcm1zOk10KFtvZS5jb21tb24sb2UuZm9nLHtzY2FsZTp7dmFsdWU6MX0sZGFzaFNpemU6e3ZhbHVlOjF9LHRvdGFsU2l6ZTp7dmFsdWU6Mn19XSksdmVydGV4U2hhZGVyOkRlLmxpbmVkYXNoZWRfdmVydCxmcmFnbWVudFNoYWRlcjpEZS5saW5lZGFzaGVkX2ZyYWd9LGRlcHRoOnt1bmlmb3JtczpNdChbb2UuY29tbW9uLG9lLmRpc3BsYWNlbWVudG1hcF0pLHZlcnRleFNoYWRlcjpEZS5kZXB0aF92ZXJ0LGZyYWdtZW50U2hhZGVyOkRlLmRlcHRoX2ZyYWd9LG5vcm1hbDp7dW5pZm9ybXM6TXQoW29lLmNvbW1vbixvZS5idW1wbWFwLG9lLm5vcm1hbG1hcCxvZS5kaXNwbGFjZW1lbnRtYXAse29wYWNpdHk6e3ZhbHVlOjF9fV0pLHZlcnRleFNoYWRlcjpEZS5tZXNobm9ybWFsX3ZlcnQsZnJhZ21lbnRTaGFkZXI6RGUubWVzaG5vcm1hbF9mcmFnfSxzcHJpdGU6e3VuaWZvcm1zOk10KFtvZS5zcHJpdGUsb2UuZm9nXSksdmVydGV4U2hhZGVyOkRlLnNwcml0ZV92ZXJ0LGZyYWdtZW50U2hhZGVyOkRlLnNwcml0ZV9mcmFnfSxiYWNrZ3JvdW5kOnt1bmlmb3Jtczp7dXZUcmFuc2Zvcm06e3ZhbHVlOm5ldyB4dH0sdDJEOnt2YWx1ZTpudWxsfX0sdmVydGV4U2hhZGVyOkRlLmJhY2tncm91bmRfdmVydCxmcmFnbWVudFNoYWRlcjpEZS5iYWNrZ3JvdW5kX2ZyYWd9LGN1YmU6e3VuaWZvcm1zOk10KFtvZS5lbnZtYXAse29wYWNpdHk6e3ZhbHVlOjF9fV0pLHZlcnRleFNoYWRlcjpEZS5jdWJlX3ZlcnQsZnJhZ21lbnRTaGFkZXI6RGUuY3ViZV9mcmFnfSxlcXVpcmVjdDp7dW5pZm9ybXM6e3RFcXVpcmVjdDp7dmFsdWU6bnVsbH19LHZlcnRleFNoYWRlcjpEZS5lcXVpcmVjdF92ZXJ0LGZyYWdtZW50U2hhZGVyOkRlLmVxdWlyZWN0X2ZyYWd9LGRpc3RhbmNlUkdCQTp7dW5pZm9ybXM6TXQoW29lLmNvbW1vbixvZS5kaXNwbGFjZW1lbnRtYXAse3JlZmVyZW5jZVBvc2l0aW9uOnt2YWx1ZTpuZXcgRX0sbmVhckRpc3RhbmNlOnt2YWx1ZToxfSxmYXJEaXN0YW5jZTp7dmFsdWU6MWUzfX1dKSx2ZXJ0ZXhTaGFkZXI6RGUuZGlzdGFuY2VSR0JBX3ZlcnQsZnJhZ21lbnRTaGFkZXI6RGUuZGlzdGFuY2VSR0JBX2ZyYWd9LHNoYWRvdzp7dW5pZm9ybXM6TXQoW29lLmxpZ2h0cyxvZS5mb2cse2NvbG9yOnt2YWx1ZTpuZXcgZ2UoMCl9LG9wYWNpdHk6e3ZhbHVlOjF9fV0pLHZlcnRleFNoYWRlcjpEZS5zaGFkb3dfdmVydCxmcmFnbWVudFNoYWRlcjpEZS5zaGFkb3dfZnJhZ319O2FpLnBoeXNpY2FsPXt1bmlmb3JtczpNdChbYWkuc3RhbmRhcmQudW5pZm9ybXMse2NsZWFyY29hdDp7dmFsdWU6MH0sY2xlYXJjb2F0TWFwOnt2YWx1ZTpudWxsfSxjbGVhcmNvYXRSb3VnaG5lc3M6e3ZhbHVlOjB9LGNsZWFyY29hdFJvdWdobmVzc01hcDp7dmFsdWU6bnVsbH0sY2xlYXJjb2F0Tm9ybWFsU2NhbGU6e3ZhbHVlOm5ldyBlZSgxLDEpfSxjbGVhcmNvYXROb3JtYWxNYXA6e3ZhbHVlOm51bGx9LHNoZWVuOnt2YWx1ZTowfSxzaGVlbkNvbG9yOnt2YWx1ZTpuZXcgZ2UoMCl9LHNoZWVuQ29sb3JNYXA6e3ZhbHVlOm51bGx9LHNoZWVuUm91Z2huZXNzOnt2YWx1ZToxfSxzaGVlblJvdWdobmVzc01hcDp7dmFsdWU6bnVsbH0sdHJhbnNtaXNzaW9uOnt2YWx1ZTowfSx0cmFuc21pc3Npb25NYXA6e3ZhbHVlOm51bGx9LHRyYW5zbWlzc2lvblNhbXBsZXJTaXplOnt2YWx1ZTpuZXcgZWV9LHRyYW5zbWlzc2lvblNhbXBsZXJNYXA6e3ZhbHVlOm51bGx9LHRoaWNrbmVzczp7dmFsdWU6MH0sdGhpY2tuZXNzTWFwOnt2YWx1ZTpudWxsfSxhdHRlbnVhdGlvbkRpc3RhbmNlOnt2YWx1ZTowfSxhdHRlbnVhdGlvbkNvbG9yOnt2YWx1ZTpuZXcgZ2UoMCl9LHNwZWN1bGFySW50ZW5zaXR5Ont2YWx1ZToxfSxzcGVjdWxhckludGVuc2l0eU1hcDp7dmFsdWU6bnVsbH0sc3BlY3VsYXJDb2xvcjp7dmFsdWU6bmV3IGdlKDEsMSwxKX0sc3BlY3VsYXJDb2xvck1hcDp7dmFsdWU6bnVsbH19XSksdmVydGV4U2hhZGVyOkRlLm1lc2hwaHlzaWNhbF92ZXJ0LGZyYWdtZW50U2hhZGVyOkRlLm1lc2hwaHlzaWNhbF9mcmFnfTtmdW5jdGlvbiBWeChpLGUsdCxyLHMsYSl7Y29uc3Qgbj1uZXcgZ2UoMCk7bGV0IG89cz09PSEwPzA6MSxoLGwsYz1udWxsLHU9MCxkPW51bGw7ZnVuY3Rpb24gcChmLG0pe2xldCB2PSExLHk9bS5pc1NjZW5lPT09ITA/bS5iYWNrZ3JvdW5kOm51bGw7eSYmeS5pc1RleHR1cmUmJih5PWUuZ2V0KHkpKTtjb25zdCBUPWkueHIsdz1ULmdldFNlc3Npb24mJlQuZ2V0U2Vzc2lvbigpO3cmJncuZW52aXJvbm1lbnRCbGVuZE1vZGU9PT0iYWRkaXRpdmUiJiYoeT1udWxsKSx5PT09bnVsbD9nKG4sbyk6eSYmeS5pc0NvbG9yJiYoZyh5LDEpLHY9ITApLChpLmF1dG9DbGVhcnx8dikmJmkuY2xlYXIoaS5hdXRvQ2xlYXJDb2xvcixpLmF1dG9DbGVhckRlcHRoLGkuYXV0b0NsZWFyU3RlbmNpbCkseSYmKHkuaXNDdWJlVGV4dHVyZXx8eS5tYXBwaW5nPT09Y2EpPyhsPT09dm9pZCAwJiYobD1uZXcgTnQobmV3IFJzKDEsMSwxKSxuZXcgJHQoe25hbWU6IkJhY2tncm91bmRDdWJlTWF0ZXJpYWwiLHVuaWZvcm1zOkdyKGFpLmN1YmUudW5pZm9ybXMpLHZlcnRleFNoYWRlcjphaS5jdWJlLnZlcnRleFNoYWRlcixmcmFnbWVudFNoYWRlcjphaS5jdWJlLmZyYWdtZW50U2hhZGVyLHNpZGU6anQsZGVwdGhUZXN0OiExLGRlcHRoV3JpdGU6ITEsZm9nOiExfSkpLGwuZ2VvbWV0cnkuZGVsZXRlQXR0cmlidXRlKCJub3JtYWwiKSxsLmdlb21ldHJ5LmRlbGV0ZUF0dHJpYnV0ZSgidXYiKSxsLm9uQmVmb3JlUmVuZGVyPWZ1bmN0aW9uKGIsTCxQKXt0aGlzLm1hdHJpeFdvcmxkLmNvcHlQb3NpdGlvbihQLm1hdHJpeFdvcmxkKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGwubWF0ZXJpYWwsImVudk1hcCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVuaWZvcm1zLmVudk1hcC52YWx1ZX19KSxyLnVwZGF0ZShsKSksbC5tYXRlcmlhbC51bmlmb3Jtcy5lbnZNYXAudmFsdWU9eSxsLm1hdGVyaWFsLnVuaWZvcm1zLmZsaXBFbnZNYXAudmFsdWU9eS5pc0N1YmVUZXh0dXJlJiZ5LmlzUmVuZGVyVGFyZ2V0VGV4dHVyZT09PSExPy0xOjEsKGMhPT15fHx1IT09eS52ZXJzaW9ufHxkIT09aS50b25lTWFwcGluZykmJihsLm1hdGVyaWFsLm5lZWRzVXBkYXRlPSEwLGM9eSx1PXkudmVyc2lvbixkPWkudG9uZU1hcHBpbmcpLGYudW5zaGlmdChsLGwuZ2VvbWV0cnksbC5tYXRlcmlhbCwwLDAsbnVsbCkpOnkmJnkuaXNUZXh0dXJlJiYoaD09PXZvaWQgMCYmKGg9bmV3IE50KG5ldyBobygyLDIpLG5ldyAkdCh7bmFtZToiQmFja2dyb3VuZE1hdGVyaWFsIix1bmlmb3JtczpHcihhaS5iYWNrZ3JvdW5kLnVuaWZvcm1zKSx2ZXJ0ZXhTaGFkZXI6YWkuYmFja2dyb3VuZC52ZXJ0ZXhTaGFkZXIsZnJhZ21lbnRTaGFkZXI6YWkuYmFja2dyb3VuZC5mcmFnbWVudFNoYWRlcixzaWRlOndzLGRlcHRoVGVzdDohMSxkZXB0aFdyaXRlOiExLGZvZzohMX0pKSxoLmdlb21ldHJ5LmRlbGV0ZUF0dHJpYnV0ZSgibm9ybWFsIiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgubWF0ZXJpYWwsIm1hcCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVuaWZvcm1zLnQyRC52YWx1ZX19KSxyLnVwZGF0ZShoKSksaC5tYXRlcmlhbC51bmlmb3Jtcy50MkQudmFsdWU9eSx5Lm1hdHJpeEF1dG9VcGRhdGU9PT0hMCYmeS51cGRhdGVNYXRyaXgoKSxoLm1hdGVyaWFsLnVuaWZvcm1zLnV2VHJhbnNmb3JtLnZhbHVlLmNvcHkoeS5tYXRyaXgpLChjIT09eXx8dSE9PXkudmVyc2lvbnx8ZCE9PWkudG9uZU1hcHBpbmcpJiYoaC5tYXRlcmlhbC5uZWVkc1VwZGF0ZT0hMCxjPXksdT15LnZlcnNpb24sZD1pLnRvbmVNYXBwaW5nKSxmLnVuc2hpZnQoaCxoLmdlb21ldHJ5LGgubWF0ZXJpYWwsMCwwLG51bGwpKX1mdW5jdGlvbiBnKGYsbSl7dC5idWZmZXJzLmNvbG9yLnNldENsZWFyKGYucixmLmcsZi5iLG0sYSl9cmV0dXJue2dldENsZWFyQ29sb3I6ZnVuY3Rpb24oKXtyZXR1cm4gbn0sc2V0Q2xlYXJDb2xvcjpmdW5jdGlvbihmLG09MSl7bi5zZXQoZiksbz1tLGcobixvKX0sZ2V0Q2xlYXJBbHBoYTpmdW5jdGlvbigpe3JldHVybiBvfSxzZXRDbGVhckFscGhhOmZ1bmN0aW9uKGYpe289ZixnKG4sbyl9LHJlbmRlcjpwfX1mdW5jdGlvbiBXeChpLGUsdCxyKXtjb25zdCBzPWkuZ2V0UGFyYW1ldGVyKDM0OTIxKSxhPXIuaXNXZWJHTDI/bnVsbDplLmdldCgiT0VTX3ZlcnRleF9hcnJheV9vYmplY3QiKSxuPXIuaXNXZWJHTDJ8fGEhPT1udWxsLG89e30saD1tKG51bGwpO2xldCBsPWgsYz0hMTtmdW5jdGlvbiB1KE4sVSxCLEcsUil7bGV0IFg9ITE7aWYobil7Y29uc3QgSj1mKEcsQixVKTtsIT09SiYmKGw9SixwKGwub2JqZWN0KSksWD12KEcsUiksWCYmeShHLFIpfWVsc2V7Y29uc3QgSj1VLndpcmVmcmFtZT09PSEwOyhsLmdlb21ldHJ5IT09Ry5pZHx8bC5wcm9ncmFtIT09Qi5pZHx8bC53aXJlZnJhbWUhPT1KKSYmKGwuZ2VvbWV0cnk9Ry5pZCxsLnByb2dyYW09Qi5pZCxsLndpcmVmcmFtZT1KLFg9ITApfU4uaXNJbnN0YW5jZWRNZXNoPT09ITAmJihYPSEwKSxSIT09bnVsbCYmdC51cGRhdGUoUiwzNDk2MyksKFh8fGMpJiYoYz0hMSxrKE4sVSxCLEcpLFIhPT1udWxsJiZpLmJpbmRCdWZmZXIoMzQ5NjMsdC5nZXQoUikuYnVmZmVyKSl9ZnVuY3Rpb24gZCgpe3JldHVybiByLmlzV2ViR0wyP2kuY3JlYXRlVmVydGV4QXJyYXkoKTphLmNyZWF0ZVZlcnRleEFycmF5T0VTKCl9ZnVuY3Rpb24gcChOKXtyZXR1cm4gci5pc1dlYkdMMj9pLmJpbmRWZXJ0ZXhBcnJheShOKTphLmJpbmRWZXJ0ZXhBcnJheU9FUyhOKX1mdW5jdGlvbiBnKE4pe3JldHVybiByLmlzV2ViR0wyP2kuZGVsZXRlVmVydGV4QXJyYXkoTik6YS5kZWxldGVWZXJ0ZXhBcnJheU9FUyhOKX1mdW5jdGlvbiBmKE4sVSxCKXtjb25zdCBHPUIud2lyZWZyYW1lPT09ITA7bGV0IFI9b1tOLmlkXTtSPT09dm9pZCAwJiYoUj17fSxvW04uaWRdPVIpO2xldCBYPVJbVS5pZF07WD09PXZvaWQgMCYmKFg9e30sUltVLmlkXT1YKTtsZXQgSj1YW0ddO3JldHVybiBKPT09dm9pZCAwJiYoSj1tKGQoKSksWFtHXT1KKSxKfWZ1bmN0aW9uIG0oTil7Y29uc3QgVT1bXSxCPVtdLEc9W107Zm9yKGxldCBSPTA7UjxzO1IrKylVW1JdPTAsQltSXT0wLEdbUl09MDtyZXR1cm57Z2VvbWV0cnk6bnVsbCxwcm9ncmFtOm51bGwsd2lyZWZyYW1lOiExLG5ld0F0dHJpYnV0ZXM6VSxlbmFibGVkQXR0cmlidXRlczpCLGF0dHJpYnV0ZURpdmlzb3JzOkcsb2JqZWN0Ok4sYXR0cmlidXRlczp7fSxpbmRleDpudWxsfX1mdW5jdGlvbiB2KE4sVSl7Y29uc3QgQj1sLmF0dHJpYnV0ZXMsRz1OLmF0dHJpYnV0ZXM7bGV0IFI9MDtmb3IoY29uc3QgWCBpbiBHKXtjb25zdCBKPUJbWF0sdGU9R1tYXTtpZihKPT09dm9pZCAwfHxKLmF0dHJpYnV0ZSE9PXRlfHxKLmRhdGEhPT10ZS5kYXRhKXJldHVybiEwO1IrK31yZXR1cm4gbC5hdHRyaWJ1dGVzTnVtIT09Unx8bC5pbmRleCE9PVV9ZnVuY3Rpb24geShOLFUpe2NvbnN0IEI9e30sRz1OLmF0dHJpYnV0ZXM7bGV0IFI9MDtmb3IoY29uc3QgWCBpbiBHKXtjb25zdCBKPUdbWF0sdGU9e307dGUuYXR0cmlidXRlPUosSi5kYXRhJiYodGUuZGF0YT1KLmRhdGEpLEJbWF09dGUsUisrfWwuYXR0cmlidXRlcz1CLGwuYXR0cmlidXRlc051bT1SLGwuaW5kZXg9VX1mdW5jdGlvbiBUKCl7Y29uc3QgTj1sLm5ld0F0dHJpYnV0ZXM7Zm9yKGxldCBVPTAsQj1OLmxlbmd0aDtVPEI7VSsrKU5bVV09MH1mdW5jdGlvbiB3KE4pe2IoTiwwKX1mdW5jdGlvbiBiKE4sVSl7Y29uc3QgQj1sLm5ld0F0dHJpYnV0ZXMsRz1sLmVuYWJsZWRBdHRyaWJ1dGVzLFI9bC5hdHRyaWJ1dGVEaXZpc29ycztCW05dPTEsR1tOXT09PTAmJihpLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KE4pLEdbTl09MSksUltOXSE9PVUmJigoci5pc1dlYkdMMj9pOmUuZ2V0KCJBTkdMRV9pbnN0YW5jZWRfYXJyYXlzIikpW3IuaXNXZWJHTDI/InZlcnRleEF0dHJpYkRpdmlzb3IiOiJ2ZXJ0ZXhBdHRyaWJEaXZpc29yQU5HTEUiXShOLFUpLFJbTl09VSl9ZnVuY3Rpb24gTCgpe2NvbnN0IE49bC5uZXdBdHRyaWJ1dGVzLFU9bC5lbmFibGVkQXR0cmlidXRlcztmb3IobGV0IEI9MCxHPVUubGVuZ3RoO0I8RztCKyspVVtCXSE9PU5bQl0mJihpLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShCKSxVW0JdPTApfWZ1bmN0aW9uIFAoTixVLEIsRyxSLFgpe3IuaXNXZWJHTDI9PT0hMCYmKEI9PT01MTI0fHxCPT09NTEyNSk/aS52ZXJ0ZXhBdHRyaWJJUG9pbnRlcihOLFUsQixSLFgpOmkudmVydGV4QXR0cmliUG9pbnRlcihOLFUsQixHLFIsWCl9ZnVuY3Rpb24gayhOLFUsQixHKXtpZihyLmlzV2ViR0wyPT09ITEmJihOLmlzSW5zdGFuY2VkTWVzaHx8Ry5pc0luc3RhbmNlZEJ1ZmZlckdlb21ldHJ5KSYmZS5nZXQoIkFOR0xFX2luc3RhbmNlZF9hcnJheXMiKT09PW51bGwpcmV0dXJuO1QoKTtjb25zdCBSPUcuYXR0cmlidXRlcyxYPUIuZ2V0QXR0cmlidXRlcygpLEo9VS5kZWZhdWx0QXR0cmlidXRlVmFsdWVzO2Zvcihjb25zdCB0ZSBpbiBYKXtjb25zdCBRPVhbdGVdO2lmKFEubG9jYXRpb24+PTApe2xldCB2ZT1SW3RlXTtpZih2ZT09PXZvaWQgMCYmKHRlPT09Imluc3RhbmNlTWF0cml4IiYmTi5pbnN0YW5jZU1hdHJpeCYmKHZlPU4uaW5zdGFuY2VNYXRyaXgpLHRlPT09Imluc3RhbmNlQ29sb3IiJiZOLmluc3RhbmNlQ29sb3ImJih2ZT1OLmluc3RhbmNlQ29sb3IpKSx2ZSE9PXZvaWQgMCl7Y29uc3QgemU9dmUubm9ybWFsaXplZCxiZT12ZS5pdGVtU2l6ZSxWPXQuZ2V0KHZlKTtpZihWPT09dm9pZCAwKWNvbnRpbnVlO2NvbnN0IFplPVYuYnVmZmVyLE9lPVYudHlwZSx5ZT1WLmJ5dGVzUGVyRWxlbWVudDtpZih2ZS5pc0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlKXtjb25zdCByZT12ZS5kYXRhLFo9cmUuc3RyaWRlLGo9dmUub2Zmc2V0O2lmKHJlLmlzSW5zdGFuY2VkSW50ZXJsZWF2ZWRCdWZmZXIpe2ZvcihsZXQgcT0wO3E8US5sb2NhdGlvblNpemU7cSsrKWIoUS5sb2NhdGlvbitxLHJlLm1lc2hQZXJBdHRyaWJ1dGUpO04uaXNJbnN0YW5jZWRNZXNoIT09ITAmJkcuX21heEluc3RhbmNlQ291bnQ9PT12b2lkIDAmJihHLl9tYXhJbnN0YW5jZUNvdW50PXJlLm1lc2hQZXJBdHRyaWJ1dGUqcmUuY291bnQpfWVsc2UgZm9yKGxldCBxPTA7cTxRLmxvY2F0aW9uU2l6ZTtxKyspdyhRLmxvY2F0aW9uK3EpO2kuYmluZEJ1ZmZlcigzNDk2MixaZSk7Zm9yKGxldCBxPTA7cTxRLmxvY2F0aW9uU2l6ZTtxKyspUChRLmxvY2F0aW9uK3EsYmUvUS5sb2NhdGlvblNpemUsT2UsemUsWip5ZSwoaitiZS9RLmxvY2F0aW9uU2l6ZSpxKSp5ZSl9ZWxzZXtpZih2ZS5pc0luc3RhbmNlZEJ1ZmZlckF0dHJpYnV0ZSl7Zm9yKGxldCByZT0wO3JlPFEubG9jYXRpb25TaXplO3JlKyspYihRLmxvY2F0aW9uK3JlLHZlLm1lc2hQZXJBdHRyaWJ1dGUpO04uaXNJbnN0YW5jZWRNZXNoIT09ITAmJkcuX21heEluc3RhbmNlQ291bnQ9PT12b2lkIDAmJihHLl9tYXhJbnN0YW5jZUNvdW50PXZlLm1lc2hQZXJBdHRyaWJ1dGUqdmUuY291bnQpfWVsc2UgZm9yKGxldCByZT0wO3JlPFEubG9jYXRpb25TaXplO3JlKyspdyhRLmxvY2F0aW9uK3JlKTtpLmJpbmRCdWZmZXIoMzQ5NjIsWmUpO2ZvcihsZXQgcmU9MDtyZTxRLmxvY2F0aW9uU2l6ZTtyZSsrKVAoUS5sb2NhdGlvbityZSxiZS9RLmxvY2F0aW9uU2l6ZSxPZSx6ZSxiZSp5ZSxiZS9RLmxvY2F0aW9uU2l6ZSpyZSp5ZSl9fWVsc2UgaWYoSiE9PXZvaWQgMCl7Y29uc3QgemU9Slt0ZV07aWYoemUhPT12b2lkIDApc3dpdGNoKHplLmxlbmd0aCl7Y2FzZSAyOmkudmVydGV4QXR0cmliMmZ2KFEubG9jYXRpb24semUpO2JyZWFrO2Nhc2UgMzppLnZlcnRleEF0dHJpYjNmdihRLmxvY2F0aW9uLHplKTticmVhaztjYXNlIDQ6aS52ZXJ0ZXhBdHRyaWI0ZnYoUS5sb2NhdGlvbix6ZSk7YnJlYWs7ZGVmYXVsdDppLnZlcnRleEF0dHJpYjFmdihRLmxvY2F0aW9uLHplKX19fX1MKCl9ZnVuY3Rpb24gaWUoKXtDKCk7Zm9yKGNvbnN0IE4gaW4gbyl7Y29uc3QgVT1vW05dO2Zvcihjb25zdCBCIGluIFUpe2NvbnN0IEc9VVtCXTtmb3IoY29uc3QgUiBpbiBHKWcoR1tSXS5vYmplY3QpLGRlbGV0ZSBHW1JdO2RlbGV0ZSBVW0JdfWRlbGV0ZSBvW05dfX1mdW5jdGlvbiBPKE4pe2lmKG9bTi5pZF09PT12b2lkIDApcmV0dXJuO2NvbnN0IFU9b1tOLmlkXTtmb3IoY29uc3QgQiBpbiBVKXtjb25zdCBHPVVbQl07Zm9yKGNvbnN0IFIgaW4gRylnKEdbUl0ub2JqZWN0KSxkZWxldGUgR1tSXTtkZWxldGUgVVtCXX1kZWxldGUgb1tOLmlkXX1mdW5jdGlvbiB4KE4pe2Zvcihjb25zdCBVIGluIG8pe2NvbnN0IEI9b1tVXTtpZihCW04uaWRdPT09dm9pZCAwKWNvbnRpbnVlO2NvbnN0IEc9QltOLmlkXTtmb3IoY29uc3QgUiBpbiBHKWcoR1tSXS5vYmplY3QpLGRlbGV0ZSBHW1JdO2RlbGV0ZSBCW04uaWRdfX1mdW5jdGlvbiBDKCl7WSgpLGM9ITAsbCE9PWgmJihsPWgscChsLm9iamVjdCkpfWZ1bmN0aW9uIFkoKXtoLmdlb21ldHJ5PW51bGwsaC5wcm9ncmFtPW51bGwsaC53aXJlZnJhbWU9ITF9cmV0dXJue3NldHVwOnUscmVzZXQ6QyxyZXNldERlZmF1bHRTdGF0ZTpZLGRpc3Bvc2U6aWUscmVsZWFzZVN0YXRlc09mR2VvbWV0cnk6TyxyZWxlYXNlU3RhdGVzT2ZQcm9ncmFtOngsaW5pdEF0dHJpYnV0ZXM6VCxlbmFibGVBdHRyaWJ1dGU6dyxkaXNhYmxlVW51c2VkQXR0cmlidXRlczpMfX1mdW5jdGlvbiBqeChpLGUsdCxyKXtjb25zdCBzPXIuaXNXZWJHTDI7bGV0IGE7ZnVuY3Rpb24gbihsKXthPWx9ZnVuY3Rpb24gbyhsLGMpe2kuZHJhd0FycmF5cyhhLGwsYyksdC51cGRhdGUoYyxhLDEpfWZ1bmN0aW9uIGgobCxjLHUpe2lmKHU9PT0wKXJldHVybjtsZXQgZCxwO2lmKHMpZD1pLHA9ImRyYXdBcnJheXNJbnN0YW5jZWQiO2Vsc2UgaWYoZD1lLmdldCgiQU5HTEVfaW5zdGFuY2VkX2FycmF5cyIpLHA9ImRyYXdBcnJheXNJbnN0YW5jZWRBTkdMRSIsZD09PW51bGwpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMQnVmZmVyUmVuZGVyZXI6IHVzaW5nIFRIUkVFLkluc3RhbmNlZEJ1ZmZlckdlb21ldHJ5IGJ1dCBoYXJkd2FyZSBkb2VzIG5vdCBzdXBwb3J0IGV4dGVuc2lvbiBBTkdMRV9pbnN0YW5jZWRfYXJyYXlzLiIpO3JldHVybn1kW3BdKGEsbCxjLHUpLHQudXBkYXRlKGMsYSx1KX10aGlzLnNldE1vZGU9bix0aGlzLnJlbmRlcj1vLHRoaXMucmVuZGVySW5zdGFuY2VzPWh9ZnVuY3Rpb24gcXgoaSxlLHQpe2xldCByO2Z1bmN0aW9uIHMoKXtpZihyIT09dm9pZCAwKXJldHVybiByO2lmKGUuaGFzKCJFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMiKT09PSEwKXtjb25zdCBQPWUuZ2V0KCJFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMiKTtyPWkuZ2V0UGFyYW1ldGVyKFAuTUFYX1RFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhUKX1lbHNlIHI9MDtyZXR1cm4gcn1mdW5jdGlvbiBhKFApe2lmKFA9PT0iaGlnaHAiKXtpZihpLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdCgzNTYzMywzNjMzOCkucHJlY2lzaW9uPjAmJmkuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KDM1NjMyLDM2MzM4KS5wcmVjaXNpb24+MClyZXR1cm4iaGlnaHAiO1A9Im1lZGl1bXAifXJldHVybiBQPT09Im1lZGl1bXAiJiZpLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdCgzNTYzMywzNjMzNykucHJlY2lzaW9uPjAmJmkuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KDM1NjMyLDM2MzM3KS5wcmVjaXNpb24+MD8ibWVkaXVtcCI6Imxvd3AifWNvbnN0IG49dHlwZW9mIFdlYkdMMlJlbmRlcmluZ0NvbnRleHQ8InUiJiZpIGluc3RhbmNlb2YgV2ViR0wyUmVuZGVyaW5nQ29udGV4dHx8dHlwZW9mIFdlYkdMMkNvbXB1dGVSZW5kZXJpbmdDb250ZXh0PCJ1IiYmaSBpbnN0YW5jZW9mIFdlYkdMMkNvbXB1dGVSZW5kZXJpbmdDb250ZXh0O2xldCBvPXQucHJlY2lzaW9uIT09dm9pZCAwP3QucHJlY2lzaW9uOiJoaWdocCI7Y29uc3QgaD1hKG8pO2ghPT1vJiYoY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiIsbywibm90IHN1cHBvcnRlZCwgdXNpbmciLGgsImluc3RlYWQuIiksbz1oKTtjb25zdCBsPW58fGUuaGFzKCJXRUJHTF9kcmF3X2J1ZmZlcnMiKSxjPXQubG9nYXJpdGhtaWNEZXB0aEJ1ZmZlcj09PSEwLHU9aS5nZXRQYXJhbWV0ZXIoMzQ5MzApLGQ9aS5nZXRQYXJhbWV0ZXIoMzU2NjApLHA9aS5nZXRQYXJhbWV0ZXIoMzM3OSksZz1pLmdldFBhcmFtZXRlcigzNDA3NiksZj1pLmdldFBhcmFtZXRlcigzNDkyMSksbT1pLmdldFBhcmFtZXRlcigzNjM0Nyksdj1pLmdldFBhcmFtZXRlcigzNjM0OCkseT1pLmdldFBhcmFtZXRlcigzNjM0OSksVD1kPjAsdz1ufHxlLmhhcygiT0VTX3RleHR1cmVfZmxvYXQiKSxiPVQmJncsTD1uP2kuZ2V0UGFyYW1ldGVyKDM2MTgzKTowO3JldHVybntpc1dlYkdMMjpuLGRyYXdCdWZmZXJzOmwsZ2V0TWF4QW5pc290cm9weTpzLGdldE1heFByZWNpc2lvbjphLHByZWNpc2lvbjpvLGxvZ2FyaXRobWljRGVwdGhCdWZmZXI6YyxtYXhUZXh0dXJlczp1LG1heFZlcnRleFRleHR1cmVzOmQsbWF4VGV4dHVyZVNpemU6cCxtYXhDdWJlbWFwU2l6ZTpnLG1heEF0dHJpYnV0ZXM6ZixtYXhWZXJ0ZXhVbmlmb3JtczptLG1heFZhcnlpbmdzOnYsbWF4RnJhZ21lbnRVbmlmb3Jtczp5LHZlcnRleFRleHR1cmVzOlQsZmxvYXRGcmFnbWVudFRleHR1cmVzOncsZmxvYXRWZXJ0ZXhUZXh0dXJlczpiLG1heFNhbXBsZXM6TH19ZnVuY3Rpb24gWHgoaSl7Y29uc3QgZT10aGlzO2xldCB0PW51bGwscj0wLHM9ITEsYT0hMTtjb25zdCBuPW5ldyBUaSxvPW5ldyB4dCxoPXt2YWx1ZTpudWxsLG5lZWRzVXBkYXRlOiExfTt0aGlzLnVuaWZvcm09aCx0aGlzLm51bVBsYW5lcz0wLHRoaXMubnVtSW50ZXJzZWN0aW9uPTAsdGhpcy5pbml0PWZ1bmN0aW9uKHUsZCxwKXtjb25zdCBnPXUubGVuZ3RoIT09MHx8ZHx8ciE9PTB8fHM7cmV0dXJuIHM9ZCx0PWModSxwLDApLHI9dS5sZW5ndGgsZ30sdGhpcy5iZWdpblNoYWRvd3M9ZnVuY3Rpb24oKXthPSEwLGMobnVsbCl9LHRoaXMuZW5kU2hhZG93cz1mdW5jdGlvbigpe2E9ITEsbCgpfSx0aGlzLnNldFN0YXRlPWZ1bmN0aW9uKHUsZCxwKXtjb25zdCBnPXUuY2xpcHBpbmdQbGFuZXMsZj11LmNsaXBJbnRlcnNlY3Rpb24sbT11LmNsaXBTaGFkb3dzLHY9aS5nZXQodSk7aWYoIXN8fGc9PT1udWxsfHxnLmxlbmd0aD09PTB8fGEmJiFtKWE/YyhudWxsKTpsKCk7ZWxzZXtjb25zdCB5PWE/MDpyLFQ9eSo0O2xldCB3PXYuY2xpcHBpbmdTdGF0ZXx8bnVsbDtoLnZhbHVlPXcsdz1jKGcsZCxULHApO2ZvcihsZXQgYj0wO2IhPT1UOysrYil3W2JdPXRbYl07di5jbGlwcGluZ1N0YXRlPXcsdGhpcy5udW1JbnRlcnNlY3Rpb249Zj90aGlzLm51bVBsYW5lczowLHRoaXMubnVtUGxhbmVzKz15fX07ZnVuY3Rpb24gbCgpe2gudmFsdWUhPT10JiYoaC52YWx1ZT10LGgubmVlZHNVcGRhdGU9cj4wKSxlLm51bVBsYW5lcz1yLGUubnVtSW50ZXJzZWN0aW9uPTB9ZnVuY3Rpb24gYyh1LGQscCxnKXtjb25zdCBmPXUhPT1udWxsP3UubGVuZ3RoOjA7bGV0IG09bnVsbDtpZihmIT09MCl7aWYobT1oLnZhbHVlLGchPT0hMHx8bT09PW51bGwpe2NvbnN0IHY9cCtmKjQseT1kLm1hdHJpeFdvcmxkSW52ZXJzZTtvLmdldE5vcm1hbE1hdHJpeCh5KSwobT09PW51bGx8fG0ubGVuZ3RoPHYpJiYobT1uZXcgRmxvYXQzMkFycmF5KHYpKTtmb3IobGV0IFQ9MCx3PXA7VCE9PWY7KytULHcrPTQpbi5jb3B5KHVbVF0pLmFwcGx5TWF0cml4NCh5LG8pLG4ubm9ybWFsLnRvQXJyYXkobSx3KSxtW3crM109bi5jb25zdGFudH1oLnZhbHVlPW0saC5uZWVkc1VwZGF0ZT0hMH1yZXR1cm4gZS5udW1QbGFuZXM9ZixlLm51bUludGVyc2VjdGlvbj0wLG19fWZ1bmN0aW9uIEp4KGkpe2xldCBlPW5ldyBXZWFrTWFwO2Z1bmN0aW9uIHQobixvKXtyZXR1cm4gbz09PWJuP24ubWFwcGluZz1icjpvPT09d24mJihuLm1hcHBpbmc9d3IpLG59ZnVuY3Rpb24gcihuKXtpZihuJiZuLmlzVGV4dHVyZSYmbi5pc1JlbmRlclRhcmdldFRleHR1cmU9PT0hMSl7Y29uc3Qgbz1uLm1hcHBpbmc7aWYobz09PWJufHxvPT09d24paWYoZS5oYXMobikpe2NvbnN0IGg9ZS5nZXQobikudGV4dHVyZTtyZXR1cm4gdChoLG4ubWFwcGluZyl9ZWxzZXtjb25zdCBoPW4uaW1hZ2U7aWYoaCYmaC5oZWlnaHQ+MCl7Y29uc3QgbD1uZXcgRGwoaC5oZWlnaHQvMik7cmV0dXJuIGwuZnJvbUVxdWlyZWN0YW5ndWxhclRleHR1cmUoaSxuKSxlLnNldChuLGwpLG4uYWRkRXZlbnRMaXN0ZW5lcigiZGlzcG9zZSIscyksdChsLnRleHR1cmUsbi5tYXBwaW5nKX1lbHNlIHJldHVybiBudWxsfX1yZXR1cm4gbn1mdW5jdGlvbiBzKG4pe2NvbnN0IG89bi50YXJnZXQ7by5yZW1vdmVFdmVudExpc3RlbmVyKCJkaXNwb3NlIixzKTtjb25zdCBoPWUuZ2V0KG8pO2ghPT12b2lkIDAmJihlLmRlbGV0ZShvKSxoLmRpc3Bvc2UoKSl9ZnVuY3Rpb24gYSgpe2U9bmV3IFdlYWtNYXB9cmV0dXJue2dldDpyLGRpc3Bvc2U6YX19Y2xhc3MgbG8gZXh0ZW5kcyBhb3tjb25zdHJ1Y3RvcihlPS0xLHQ9MSxyPTEscz0tMSxhPS4xLG49MmUzKXtzdXBlcigpO3RoaXMudHlwZT0iT3J0aG9ncmFwaGljQ2FtZXJhIix0aGlzLnpvb209MSx0aGlzLnZpZXc9bnVsbCx0aGlzLmxlZnQ9ZSx0aGlzLnJpZ2h0PXQsdGhpcy50b3A9cix0aGlzLmJvdHRvbT1zLHRoaXMubmVhcj1hLHRoaXMuZmFyPW4sdGhpcy51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCl9Y29weShlLHQpe3JldHVybiBzdXBlci5jb3B5KGUsdCksdGhpcy5sZWZ0PWUubGVmdCx0aGlzLnJpZ2h0PWUucmlnaHQsdGhpcy50b3A9ZS50b3AsdGhpcy5ib3R0b209ZS5ib3R0b20sdGhpcy5uZWFyPWUubmVhcix0aGlzLmZhcj1lLmZhcix0aGlzLnpvb209ZS56b29tLHRoaXMudmlldz1lLnZpZXc9PT1udWxsP251bGw6T2JqZWN0LmFzc2lnbih7fSxlLnZpZXcpLHRoaXN9c2V0Vmlld09mZnNldChlLHQscixzLGEsbil7dGhpcy52aWV3PT09bnVsbCYmKHRoaXMudmlldz17ZW5hYmxlZDohMCxmdWxsV2lkdGg6MSxmdWxsSGVpZ2h0OjEsb2Zmc2V0WDowLG9mZnNldFk6MCx3aWR0aDoxLGhlaWdodDoxfSksdGhpcy52aWV3LmVuYWJsZWQ9ITAsdGhpcy52aWV3LmZ1bGxXaWR0aD1lLHRoaXMudmlldy5mdWxsSGVpZ2h0PXQsdGhpcy52aWV3Lm9mZnNldFg9cix0aGlzLnZpZXcub2Zmc2V0WT1zLHRoaXMudmlldy53aWR0aD1hLHRoaXMudmlldy5oZWlnaHQ9bix0aGlzLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKX1jbGVhclZpZXdPZmZzZXQoKXt0aGlzLnZpZXchPT1udWxsJiYodGhpcy52aWV3LmVuYWJsZWQ9ITEpLHRoaXMudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpfXVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKXtjb25zdCBlPSh0aGlzLnJpZ2h0LXRoaXMubGVmdCkvKDIqdGhpcy56b29tKSx0PSh0aGlzLnRvcC10aGlzLmJvdHRvbSkvKDIqdGhpcy56b29tKSxyPSh0aGlzLnJpZ2h0K3RoaXMubGVmdCkvMixzPSh0aGlzLnRvcCt0aGlzLmJvdHRvbSkvMjtsZXQgYT1yLWUsbj1yK2Usbz1zK3QsaD1zLXQ7aWYodGhpcy52aWV3IT09bnVsbCYmdGhpcy52aWV3LmVuYWJsZWQpe2NvbnN0IGw9KHRoaXMucmlnaHQtdGhpcy5sZWZ0KS90aGlzLnZpZXcuZnVsbFdpZHRoL3RoaXMuem9vbSxjPSh0aGlzLnRvcC10aGlzLmJvdHRvbSkvdGhpcy52aWV3LmZ1bGxIZWlnaHQvdGhpcy56b29tO2ErPWwqdGhpcy52aWV3Lm9mZnNldFgsbj1hK2wqdGhpcy52aWV3LndpZHRoLG8tPWMqdGhpcy52aWV3Lm9mZnNldFksaD1vLWMqdGhpcy52aWV3LmhlaWdodH10aGlzLnByb2plY3Rpb25NYXRyaXgubWFrZU9ydGhvZ3JhcGhpYyhhLG4sbyxoLHRoaXMubmVhcix0aGlzLmZhciksdGhpcy5wcm9qZWN0aW9uTWF0cml4SW52ZXJzZS5jb3B5KHRoaXMucHJvamVjdGlvbk1hdHJpeCkuaW52ZXJ0KCl9dG9KU09OKGUpe2NvbnN0IHQ9c3VwZXIudG9KU09OKGUpO3JldHVybiB0Lm9iamVjdC56b29tPXRoaXMuem9vbSx0Lm9iamVjdC5sZWZ0PXRoaXMubGVmdCx0Lm9iamVjdC5yaWdodD10aGlzLnJpZ2h0LHQub2JqZWN0LnRvcD10aGlzLnRvcCx0Lm9iamVjdC5ib3R0b209dGhpcy5ib3R0b20sdC5vYmplY3QubmVhcj10aGlzLm5lYXIsdC5vYmplY3QuZmFyPXRoaXMuZmFyLHRoaXMudmlldyE9PW51bGwmJih0Lm9iamVjdC52aWV3PU9iamVjdC5hc3NpZ24oe30sdGhpcy52aWV3KSksdH19bG8ucHJvdG90eXBlLmlzT3J0aG9ncmFwaGljQ2FtZXJhPSEwO2NvbnN0IHFyPTQsemw9Wy4xMjUsLjIxNSwuMzUsLjQ0NiwuNTI2LC41ODJdLGFyPTIwLGNvPW5ldyBsbyxCbD1uZXcgZ2U7bGV0IHVvPW51bGw7Y29uc3QgbnI9KDErTWF0aC5zcXJ0KDUpKS8yLFhyPTEvbnIsVWw9W25ldyBFKDEsMSwxKSxuZXcgRSgtMSwxLDEpLG5ldyBFKDEsMSwtMSksbmV3IEUoLTEsMSwtMSksbmV3IEUoMCxucixYciksbmV3IEUoMCxuciwtWHIpLG5ldyBFKFhyLDAsbnIpLG5ldyBFKC1YciwwLG5yKSxuZXcgRShucixYciwwKSxuZXcgRSgtbnIsWHIsMCldO2NsYXNzIEZse2NvbnN0cnVjdG9yKGUpe3RoaXMuX3JlbmRlcmVyPWUsdGhpcy5fcGluZ1BvbmdSZW5kZXJUYXJnZXQ9bnVsbCx0aGlzLl9sb2RNYXg9MCx0aGlzLl9jdWJlU2l6ZT0wLHRoaXMuX2xvZFBsYW5lcz1bXSx0aGlzLl9zaXplTG9kcz1bXSx0aGlzLl9zaWdtYXM9W10sdGhpcy5fYmx1ck1hdGVyaWFsPW51bGwsdGhpcy5fY3ViZW1hcE1hdGVyaWFsPW51bGwsdGhpcy5fZXF1aXJlY3RNYXRlcmlhbD1udWxsLHRoaXMuX2NvbXBpbGVNYXRlcmlhbCh0aGlzLl9ibHVyTWF0ZXJpYWwpfWZyb21TY2VuZShlLHQ9MCxyPS4xLHM9MTAwKXt1bz10aGlzLl9yZW5kZXJlci5nZXRSZW5kZXJUYXJnZXQoKSx0aGlzLl9zZXRTaXplKDI1Nik7Y29uc3QgYT10aGlzLl9hbGxvY2F0ZVRhcmdldHMoKTtyZXR1cm4gYS5kZXB0aEJ1ZmZlcj0hMCx0aGlzLl9zY2VuZVRvQ3ViZVVWKGUscixzLGEpLHQ+MCYmdGhpcy5fYmx1cihhLDAsMCx0KSx0aGlzLl9hcHBseVBNUkVNKGEpLHRoaXMuX2NsZWFudXAoYSksYX1mcm9tRXF1aXJlY3Rhbmd1bGFyKGUsdD1udWxsKXtyZXR1cm4gdGhpcy5fZnJvbVRleHR1cmUoZSx0KX1mcm9tQ3ViZW1hcChlLHQ9bnVsbCl7cmV0dXJuIHRoaXMuX2Zyb21UZXh0dXJlKGUsdCl9Y29tcGlsZUN1YmVtYXBTaGFkZXIoKXt0aGlzLl9jdWJlbWFwTWF0ZXJpYWw9PT1udWxsJiYodGhpcy5fY3ViZW1hcE1hdGVyaWFsPUdsKCksdGhpcy5fY29tcGlsZU1hdGVyaWFsKHRoaXMuX2N1YmVtYXBNYXRlcmlhbCkpfWNvbXBpbGVFcXVpcmVjdGFuZ3VsYXJTaGFkZXIoKXt0aGlzLl9lcXVpcmVjdE1hdGVyaWFsPT09bnVsbCYmKHRoaXMuX2VxdWlyZWN0TWF0ZXJpYWw9a2woKSx0aGlzLl9jb21waWxlTWF0ZXJpYWwodGhpcy5fZXF1aXJlY3RNYXRlcmlhbCkpfWRpc3Bvc2UoKXt0aGlzLl9kaXNwb3NlKCksdGhpcy5fY3ViZW1hcE1hdGVyaWFsIT09bnVsbCYmdGhpcy5fY3ViZW1hcE1hdGVyaWFsLmRpc3Bvc2UoKSx0aGlzLl9lcXVpcmVjdE1hdGVyaWFsIT09bnVsbCYmdGhpcy5fZXF1aXJlY3RNYXRlcmlhbC5kaXNwb3NlKCl9X3NldFNpemUoZSl7dGhpcy5fbG9kTWF4PU1hdGguZmxvb3IoTWF0aC5sb2cyKGUpKSx0aGlzLl9jdWJlU2l6ZT1NYXRoLnBvdygyLHRoaXMuX2xvZE1heCl9X2Rpc3Bvc2UoKXt0aGlzLl9ibHVyTWF0ZXJpYWwhPT1udWxsJiZ0aGlzLl9ibHVyTWF0ZXJpYWwuZGlzcG9zZSgpLHRoaXMuX3BpbmdQb25nUmVuZGVyVGFyZ2V0IT09bnVsbCYmdGhpcy5fcGluZ1BvbmdSZW5kZXJUYXJnZXQuZGlzcG9zZSgpO2ZvcihsZXQgZT0wO2U8dGhpcy5fbG9kUGxhbmVzLmxlbmd0aDtlKyspdGhpcy5fbG9kUGxhbmVzW2VdLmRpc3Bvc2UoKX1fY2xlYW51cChlKXt0aGlzLl9yZW5kZXJlci5zZXRSZW5kZXJUYXJnZXQodW8pLGUuc2Npc3NvclRlc3Q9ITEsa2EoZSwwLDAsZS53aWR0aCxlLmhlaWdodCl9X2Zyb21UZXh0dXJlKGUsdCl7ZS5tYXBwaW5nPT09YnJ8fGUubWFwcGluZz09PXdyP3RoaXMuX3NldFNpemUoZS5pbWFnZS5sZW5ndGg9PT0wPzE2OmUuaW1hZ2VbMF0ud2lkdGh8fGUuaW1hZ2VbMF0uaW1hZ2Uud2lkdGgpOnRoaXMuX3NldFNpemUoZS5pbWFnZS53aWR0aC80KSx1bz10aGlzLl9yZW5kZXJlci5nZXRSZW5kZXJUYXJnZXQoKTtjb25zdCByPXR8fHRoaXMuX2FsbG9jYXRlVGFyZ2V0cygpO3JldHVybiB0aGlzLl90ZXh0dXJlVG9DdWJlVVYoZSxyKSx0aGlzLl9hcHBseVBNUkVNKHIpLHRoaXMuX2NsZWFudXAocikscn1fYWxsb2NhdGVUYXJnZXRzKCl7Y29uc3QgZT0zKk1hdGgubWF4KHRoaXMuX2N1YmVTaXplLDExMiksdD00KnRoaXMuX2N1YmVTaXplLTMyLHI9e21hZ0ZpbHRlcjpJdCxtaW5GaWx0ZXI6SXQsZ2VuZXJhdGVNaXBtYXBzOiExLHR5cGU6U3IsZm9ybWF0Olh0LGVuY29kaW5nOl9pLGRlcHRoQnVmZmVyOiExfSxzPUhsKGUsdCxyKTtpZih0aGlzLl9waW5nUG9uZ1JlbmRlclRhcmdldD09PW51bGx8fHRoaXMuX3BpbmdQb25nUmVuZGVyVGFyZ2V0LndpZHRoIT09ZSl7dGhpcy5fcGluZ1BvbmdSZW5kZXJUYXJnZXQhPT1udWxsJiZ0aGlzLl9kaXNwb3NlKCksdGhpcy5fcGluZ1BvbmdSZW5kZXJUYXJnZXQ9SGwoZSx0LHIpO2NvbnN0e19sb2RNYXg6YX09dGhpczsoe3NpemVMb2RzOnRoaXMuX3NpemVMb2RzLGxvZFBsYW5lczp0aGlzLl9sb2RQbGFuZXMsc2lnbWFzOnRoaXMuX3NpZ21hc309WXgoYSkpLHRoaXMuX2JsdXJNYXRlcmlhbD1aeChhLGUsdCl9cmV0dXJuIHN9X2NvbXBpbGVNYXRlcmlhbChlKXtjb25zdCB0PW5ldyBOdCh0aGlzLl9sb2RQbGFuZXNbMF0sZSk7dGhpcy5fcmVuZGVyZXIuY29tcGlsZSh0LGNvKX1fc2NlbmVUb0N1YmVVVihlLHQscixzKXtjb25zdCBhPW5ldyBEdCg5MCwxLHQsciksbj1bMSwtMSwxLDEsMSwxXSxvPVsxLDEsMSwtMSwtMSwtMV0saD10aGlzLl9yZW5kZXJlcixsPWguYXV0b0NsZWFyLGM9aC50b25lTWFwcGluZztoLmdldENsZWFyQ29sb3IoQmwpLGgudG9uZU1hcHBpbmc9eGksaC5hdXRvQ2xlYXI9ITE7Y29uc3QgdT1uZXcgQ2Eoe25hbWU6IlBNUkVNLkJhY2tncm91bmQiLHNpZGU6anQsZGVwdGhXcml0ZTohMSxkZXB0aFRlc3Q6ITF9KSxkPW5ldyBOdChuZXcgUnMsdSk7bGV0IHA9ITE7Y29uc3QgZz1lLmJhY2tncm91bmQ7Zz9nLmlzQ29sb3ImJih1LmNvbG9yLmNvcHkoZyksZS5iYWNrZ3JvdW5kPW51bGwscD0hMCk6KHUuY29sb3IuY29weShCbCkscD0hMCk7Zm9yKGxldCBmPTA7Zjw2O2YrKyl7Y29uc3QgbT1mJTM7bT09PTA/KGEudXAuc2V0KDAsbltmXSwwKSxhLmxvb2tBdChvW2ZdLDAsMCkpOm09PT0xPyhhLnVwLnNldCgwLDAsbltmXSksYS5sb29rQXQoMCxvW2ZdLDApKTooYS51cC5zZXQoMCxuW2ZdLDApLGEubG9va0F0KDAsMCxvW2ZdKSk7Y29uc3Qgdj10aGlzLl9jdWJlU2l6ZTtrYShzLG0qdixmPjI/djowLHYsdiksaC5zZXRSZW5kZXJUYXJnZXQocykscCYmaC5yZW5kZXIoZCxhKSxoLnJlbmRlcihlLGEpfWQuZ2VvbWV0cnkuZGlzcG9zZSgpLGQubWF0ZXJpYWwuZGlzcG9zZSgpLGgudG9uZU1hcHBpbmc9YyxoLmF1dG9DbGVhcj1sLGUuYmFja2dyb3VuZD1nfV90ZXh0dXJlVG9DdWJlVVYoZSx0KXtjb25zdCByPXRoaXMuX3JlbmRlcmVyLHM9ZS5tYXBwaW5nPT09YnJ8fGUubWFwcGluZz09PXdyO3M/KHRoaXMuX2N1YmVtYXBNYXRlcmlhbD09PW51bGwmJih0aGlzLl9jdWJlbWFwTWF0ZXJpYWw9R2woKSksdGhpcy5fY3ViZW1hcE1hdGVyaWFsLnVuaWZvcm1zLmZsaXBFbnZNYXAudmFsdWU9ZS5pc1JlbmRlclRhcmdldFRleHR1cmU9PT0hMT8tMToxKTp0aGlzLl9lcXVpcmVjdE1hdGVyaWFsPT09bnVsbCYmKHRoaXMuX2VxdWlyZWN0TWF0ZXJpYWw9a2woKSk7Y29uc3QgYT1zP3RoaXMuX2N1YmVtYXBNYXRlcmlhbDp0aGlzLl9lcXVpcmVjdE1hdGVyaWFsLG49bmV3IE50KHRoaXMuX2xvZFBsYW5lc1swXSxhKSxvPWEudW5pZm9ybXM7by5lbnZNYXAudmFsdWU9ZTtjb25zdCBoPXRoaXMuX2N1YmVTaXplO2thKHQsMCwwLDMqaCwyKmgpLHIuc2V0UmVuZGVyVGFyZ2V0KHQpLHIucmVuZGVyKG4sY28pfV9hcHBseVBNUkVNKGUpe2NvbnN0IHQ9dGhpcy5fcmVuZGVyZXIscj10LmF1dG9DbGVhcjt0LmF1dG9DbGVhcj0hMTtmb3IobGV0IHM9MTtzPHRoaXMuX2xvZFBsYW5lcy5sZW5ndGg7cysrKXtjb25zdCBhPU1hdGguc3FydCh0aGlzLl9zaWdtYXNbc10qdGhpcy5fc2lnbWFzW3NdLXRoaXMuX3NpZ21hc1tzLTFdKnRoaXMuX3NpZ21hc1tzLTFdKSxuPVVsWyhzLTEpJVVsLmxlbmd0aF07dGhpcy5fYmx1cihlLHMtMSxzLGEsbil9dC5hdXRvQ2xlYXI9cn1fYmx1cihlLHQscixzLGEpe2NvbnN0IG49dGhpcy5fcGluZ1BvbmdSZW5kZXJUYXJnZXQ7dGhpcy5faGFsZkJsdXIoZSxuLHQscixzLCJsYXRpdHVkaW5hbCIsYSksdGhpcy5faGFsZkJsdXIobixlLHIscixzLCJsb25naXR1ZGluYWwiLGEpfV9oYWxmQmx1cihlLHQscixzLGEsbixvKXtjb25zdCBoPXRoaXMuX3JlbmRlcmVyLGw9dGhpcy5fYmx1ck1hdGVyaWFsO24hPT0ibGF0aXR1ZGluYWwiJiZuIT09ImxvbmdpdHVkaW5hbCImJmNvbnNvbGUuZXJyb3IoImJsdXIgZGlyZWN0aW9uIG11c3QgYmUgZWl0aGVyIGxhdGl0dWRpbmFsIG9yIGxvbmdpdHVkaW5hbCEiKTtjb25zdCBjPTMsdT1uZXcgTnQodGhpcy5fbG9kUGxhbmVzW3NdLGwpLGQ9bC51bmlmb3JtcyxwPXRoaXMuX3NpemVMb2RzW3JdLTEsZz1pc0Zpbml0ZShhKT9NYXRoLlBJLygyKnApOjIqTWF0aC5QSS8oMiphci0xKSxmPWEvZyxtPWlzRmluaXRlKGEpPzErTWF0aC5mbG9vcihjKmYpOmFyO20+YXImJmNvbnNvbGUud2Fybihgc2lnbWFSYWRpYW5zLCAke2F9LCBpcyB0b28gbGFyZ2UgYW5kIHdpbGwgY2xpcCwgYXMgaXQgcmVxdWVzdGVkICR7bX0gc2FtcGxlcyB3aGVuIHRoZSBtYXhpbXVtIGlzIHNldCB0byAke2FyfWApO2NvbnN0IHY9W107bGV0IHk9MDtmb3IobGV0IFA9MDtQPGFyOysrUCl7Y29uc3Qgaz1QL2YsaWU9TWF0aC5leHAoLWsqay8yKTt2LnB1c2goaWUpLFA9PT0wP3krPWllOlA8bSYmKHkrPTIqaWUpfWZvcihsZXQgUD0wO1A8di5sZW5ndGg7UCsrKXZbUF09dltQXS95O2QuZW52TWFwLnZhbHVlPWUudGV4dHVyZSxkLnNhbXBsZXMudmFsdWU9bSxkLndlaWdodHMudmFsdWU9dixkLmxhdGl0dWRpbmFsLnZhbHVlPW49PT0ibGF0aXR1ZGluYWwiLG8mJihkLnBvbGVBeGlzLnZhbHVlPW8pO2NvbnN0e19sb2RNYXg6VH09dGhpcztkLmRUaGV0YS52YWx1ZT1nLGQubWlwSW50LnZhbHVlPVQtcjtjb25zdCB3PXRoaXMuX3NpemVMb2RzW3NdLGI9Myp3KihzPlQtcXI/cy1UK3FyOjApLEw9NCoodGhpcy5fY3ViZVNpemUtdyk7a2EodCxiLEwsMyp3LDIqdyksaC5zZXRSZW5kZXJUYXJnZXQodCksaC5yZW5kZXIodSxjbyl9fWZ1bmN0aW9uIFl4KGkpe2NvbnN0IGU9W10sdD1bXSxyPVtdO2xldCBzPWk7Y29uc3QgYT1pLXFyKzEremwubGVuZ3RoO2ZvcihsZXQgbj0wO248YTtuKyspe2NvbnN0IG89TWF0aC5wb3coMixzKTt0LnB1c2gobyk7bGV0IGg9MS9vO24+aS1xcj9oPXpsW24taStxci0xXTpuPT09MCYmKGg9MCksci5wdXNoKGgpO2NvbnN0IGw9MS8oby0xKSxjPS1sLzIsdT0xK2wvMixkPVtjLGMsdSxjLHUsdSxjLGMsdSx1LGMsdV0scD02LGc9NixmPTMsbT0yLHY9MSx5PW5ldyBGbG9hdDMyQXJyYXkoZipnKnApLFQ9bmV3IEZsb2F0MzJBcnJheShtKmcqcCksdz1uZXcgRmxvYXQzMkFycmF5KHYqZypwKTtmb3IobGV0IEw9MDtMPHA7TCsrKXtjb25zdCBQPUwlMyoyLzMtMSxrPUw+Mj8wOi0xLGllPVtQLGssMCxQKzIvMyxrLDAsUCsyLzMsaysxLDAsUCxrLDAsUCsyLzMsaysxLDAsUCxrKzEsMF07eS5zZXQoaWUsZipnKkwpLFQuc2V0KGQsbSpnKkwpO2NvbnN0IE89W0wsTCxMLEwsTCxMXTt3LnNldChPLHYqZypMKX1jb25zdCBiPW5ldyAkZTtiLnNldEF0dHJpYnV0ZSgicG9zaXRpb24iLG5ldyBjdCh5LGYpKSxiLnNldEF0dHJpYnV0ZSgidXYiLG5ldyBjdChULG0pKSxiLnNldEF0dHJpYnV0ZSgiZmFjZUluZGV4IixuZXcgY3Qodyx2KSksZS5wdXNoKGIpLHM+cXImJnMtLX1yZXR1cm57bG9kUGxhbmVzOmUsc2l6ZUxvZHM6dCxzaWdtYXM6cn19ZnVuY3Rpb24gSGwoaSxlLHQpe2NvbnN0IHI9bmV3IHp0KGksZSx0KTtyZXR1cm4gci50ZXh0dXJlLm1hcHBpbmc9Y2Esci50ZXh0dXJlLm5hbWU9IlBNUkVNLmN1YmVVdiIsci5zY2lzc29yVGVzdD0hMCxyfWZ1bmN0aW9uIGthKGksZSx0LHIscyl7aS52aWV3cG9ydC5zZXQoZSx0LHIscyksaS5zY2lzc29yLnNldChlLHQscixzKX1mdW5jdGlvbiBaeChpLGUsdCl7Y29uc3Qgcj1uZXcgRmxvYXQzMkFycmF5KGFyKSxzPW5ldyBFKDAsMSwwKTtyZXR1cm4gbmV3ICR0KHtuYW1lOiJTcGhlcmljYWxHYXVzc2lhbkJsdXIiLGRlZmluZXM6e246YXIsQ1VCRVVWX1RFWEVMX1dJRFRIOjEvZSxDVUJFVVZfVEVYRUxfSEVJR0hUOjEvdCxDVUJFVVZfTUFYX01JUDpgJHtpfS4wYH0sdW5pZm9ybXM6e2Vudk1hcDp7dmFsdWU6bnVsbH0sc2FtcGxlczp7dmFsdWU6MX0sd2VpZ2h0czp7dmFsdWU6cn0sbGF0aXR1ZGluYWw6e3ZhbHVlOiExfSxkVGhldGE6e3ZhbHVlOjB9LG1pcEludDp7dmFsdWU6MH0scG9sZUF4aXM6e3ZhbHVlOnN9fSx2ZXJ0ZXhTaGFkZXI6cG8oKSxmcmFnbWVudFNoYWRlcjpgCgoJCQlwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsKCQkJcHJlY2lzaW9uIG1lZGl1bXAgaW50OwoKCQkJdmFyeWluZyB2ZWMzIHZPdXRwdXREaXJlY3Rpb247CgoJCQl1bmlmb3JtIHNhbXBsZXIyRCBlbnZNYXA7CgkJCXVuaWZvcm0gaW50IHNhbXBsZXM7CgkJCXVuaWZvcm0gZmxvYXQgd2VpZ2h0c1sgbiBdOwoJCQl1bmlmb3JtIGJvb2wgbGF0aXR1ZGluYWw7CgkJCXVuaWZvcm0gZmxvYXQgZFRoZXRhOwoJCQl1bmlmb3JtIGZsb2F0IG1pcEludDsKCQkJdW5pZm9ybSB2ZWMzIHBvbGVBeGlzOwoKCQkJI2RlZmluZSBFTlZNQVBfVFlQRV9DVUJFX1VWCgkJCSNpbmNsdWRlIDxjdWJlX3V2X3JlZmxlY3Rpb25fZnJhZ21lbnQ+CgoJCQl2ZWMzIGdldFNhbXBsZSggZmxvYXQgdGhldGEsIHZlYzMgYXhpcyApIHsKCgkJCQlmbG9hdCBjb3NUaGV0YSA9IGNvcyggdGhldGEgKTsKCQkJCS8vIFJvZHJpZ3VlcycgYXhpcy1hbmdsZSByb3RhdGlvbgoJCQkJdmVjMyBzYW1wbGVEaXJlY3Rpb24gPSB2T3V0cHV0RGlyZWN0aW9uICogY29zVGhldGEKCQkJCQkrIGNyb3NzKCBheGlzLCB2T3V0cHV0RGlyZWN0aW9uICkgKiBzaW4oIHRoZXRhICkKCQkJCQkrIGF4aXMgKiBkb3QoIGF4aXMsIHZPdXRwdXREaXJlY3Rpb24gKSAqICggMS4wIC0gY29zVGhldGEgKTsKCgkJCQlyZXR1cm4gYmlsaW5lYXJDdWJlVVYoIGVudk1hcCwgc2FtcGxlRGlyZWN0aW9uLCBtaXBJbnQgKTsKCgkJCX0KCgkJCXZvaWQgbWFpbigpIHsKCgkJCQl2ZWMzIGF4aXMgPSBsYXRpdHVkaW5hbCA/IHBvbGVBeGlzIDogY3Jvc3MoIHBvbGVBeGlzLCB2T3V0cHV0RGlyZWN0aW9uICk7CgoJCQkJaWYgKCBhbGwoIGVxdWFsKCBheGlzLCB2ZWMzKCAwLjAgKSApICkgKSB7CgoJCQkJCWF4aXMgPSB2ZWMzKCB2T3V0cHV0RGlyZWN0aW9uLnosIDAuMCwgLSB2T3V0cHV0RGlyZWN0aW9uLnggKTsKCgkJCQl9CgoJCQkJYXhpcyA9IG5vcm1hbGl6ZSggYXhpcyApOwoKCQkJCWdsX0ZyYWdDb2xvciA9IHZlYzQoIDAuMCwgMC4wLCAwLjAsIDEuMCApOwoJCQkJZ2xfRnJhZ0NvbG9yLnJnYiArPSB3ZWlnaHRzWyAwIF0gKiBnZXRTYW1wbGUoIDAuMCwgYXhpcyApOwoKCQkJCWZvciAoIGludCBpID0gMTsgaSA8IG47IGkrKyApIHsKCgkJCQkJaWYgKCBpID49IHNhbXBsZXMgKSB7CgoJCQkJCQlicmVhazsKCgkJCQkJfQoKCQkJCQlmbG9hdCB0aGV0YSA9IGRUaGV0YSAqIGZsb2F0KCBpICk7CgkJCQkJZ2xfRnJhZ0NvbG9yLnJnYiArPSB3ZWlnaHRzWyBpIF0gKiBnZXRTYW1wbGUoIC0xLjAgKiB0aGV0YSwgYXhpcyApOwoJCQkJCWdsX0ZyYWdDb2xvci5yZ2IgKz0gd2VpZ2h0c1sgaSBdICogZ2V0U2FtcGxlKCB0aGV0YSwgYXhpcyApOwoKCQkJCX0KCgkJCX0KCQlgLGJsZW5kaW5nOklpLGRlcHRoVGVzdDohMSxkZXB0aFdyaXRlOiExfSl9ZnVuY3Rpb24ga2woKXtyZXR1cm4gbmV3ICR0KHtuYW1lOiJFcXVpcmVjdGFuZ3VsYXJUb0N1YmVVViIsdW5pZm9ybXM6e2Vudk1hcDp7dmFsdWU6bnVsbH19LHZlcnRleFNoYWRlcjpwbygpLGZyYWdtZW50U2hhZGVyOmAKCgkJCXByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwoJCQlwcmVjaXNpb24gbWVkaXVtcCBpbnQ7CgoJCQl2YXJ5aW5nIHZlYzMgdk91dHB1dERpcmVjdGlvbjsKCgkJCXVuaWZvcm0gc2FtcGxlcjJEIGVudk1hcDsKCgkJCSNpbmNsdWRlIDxjb21tb24+CgoJCQl2b2lkIG1haW4oKSB7CgoJCQkJdmVjMyBvdXRwdXREaXJlY3Rpb24gPSBub3JtYWxpemUoIHZPdXRwdXREaXJlY3Rpb24gKTsKCQkJCXZlYzIgdXYgPSBlcXVpcmVjdFV2KCBvdXRwdXREaXJlY3Rpb24gKTsKCgkJCQlnbF9GcmFnQ29sb3IgPSB2ZWM0KCB0ZXh0dXJlMkQgKCBlbnZNYXAsIHV2ICkucmdiLCAxLjAgKTsKCgkJCX0KCQlgLGJsZW5kaW5nOklpLGRlcHRoVGVzdDohMSxkZXB0aFdyaXRlOiExfSl9ZnVuY3Rpb24gR2woKXtyZXR1cm4gbmV3ICR0KHtuYW1lOiJDdWJlbWFwVG9DdWJlVVYiLHVuaWZvcm1zOntlbnZNYXA6e3ZhbHVlOm51bGx9LGZsaXBFbnZNYXA6e3ZhbHVlOi0xfX0sdmVydGV4U2hhZGVyOnBvKCksZnJhZ21lbnRTaGFkZXI6YAoKCQkJcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7CgkJCXByZWNpc2lvbiBtZWRpdW1wIGludDsKCgkJCXVuaWZvcm0gZmxvYXQgZmxpcEVudk1hcDsKCgkJCXZhcnlpbmcgdmVjMyB2T3V0cHV0RGlyZWN0aW9uOwoKCQkJdW5pZm9ybSBzYW1wbGVyQ3ViZSBlbnZNYXA7CgoJCQl2b2lkIG1haW4oKSB7CgoJCQkJZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZUN1YmUoIGVudk1hcCwgdmVjMyggZmxpcEVudk1hcCAqIHZPdXRwdXREaXJlY3Rpb24ueCwgdk91dHB1dERpcmVjdGlvbi55eiApICk7CgoJCQl9CgkJYCxibGVuZGluZzpJaSxkZXB0aFRlc3Q6ITEsZGVwdGhXcml0ZTohMX0pfWZ1bmN0aW9uIHBvKCl7cmV0dXJuYAoKCQlwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsKCQlwcmVjaXNpb24gbWVkaXVtcCBpbnQ7CgoJCWF0dHJpYnV0ZSBmbG9hdCBmYWNlSW5kZXg7CgoJCXZhcnlpbmcgdmVjMyB2T3V0cHV0RGlyZWN0aW9uOwoKCQkvLyBSSCBjb29yZGluYXRlIHN5c3RlbTsgUE1SRU0gZmFjZS1pbmRleGluZyBjb252ZW50aW9uCgkJdmVjMyBnZXREaXJlY3Rpb24oIHZlYzIgdXYsIGZsb2F0IGZhY2UgKSB7CgoJCQl1diA9IDIuMCAqIHV2IC0gMS4wOwoKCQkJdmVjMyBkaXJlY3Rpb24gPSB2ZWMzKCB1diwgMS4wICk7CgoJCQlpZiAoIGZhY2UgPT0gMC4wICkgewoKCQkJCWRpcmVjdGlvbiA9IGRpcmVjdGlvbi56eXg7IC8vICggMSwgdiwgdSApIHBvcyB4CgoJCQl9IGVsc2UgaWYgKCBmYWNlID09IDEuMCApIHsKCgkJCQlkaXJlY3Rpb24gPSBkaXJlY3Rpb24ueHp5OwoJCQkJZGlyZWN0aW9uLnh6ICo9IC0xLjA7IC8vICggLXUsIDEsIC12ICkgcG9zIHkKCgkJCX0gZWxzZSBpZiAoIGZhY2UgPT0gMi4wICkgewoKCQkJCWRpcmVjdGlvbi54ICo9IC0xLjA7IC8vICggLXUsIHYsIDEgKSBwb3MgegoKCQkJfSBlbHNlIGlmICggZmFjZSA9PSAzLjAgKSB7CgoJCQkJZGlyZWN0aW9uID0gZGlyZWN0aW9uLnp5eDsKCQkJCWRpcmVjdGlvbi54eiAqPSAtMS4wOyAvLyAoIC0xLCB2LCAtdSApIG5lZyB4CgoJCQl9IGVsc2UgaWYgKCBmYWNlID09IDQuMCApIHsKCgkJCQlkaXJlY3Rpb24gPSBkaXJlY3Rpb24ueHp5OwoJCQkJZGlyZWN0aW9uLnh5ICo9IC0xLjA7IC8vICggLXUsIC0xLCB2ICkgbmVnIHkKCgkJCX0gZWxzZSBpZiAoIGZhY2UgPT0gNS4wICkgewoKCQkJCWRpcmVjdGlvbi56ICo9IC0xLjA7IC8vICggdSwgdiwgLTEgKSBuZWcgegoKCQkJfQoKCQkJcmV0dXJuIGRpcmVjdGlvbjsKCgkJfQoKCQl2b2lkIG1haW4oKSB7CgoJCQl2T3V0cHV0RGlyZWN0aW9uID0gZ2V0RGlyZWN0aW9uKCB1diwgZmFjZUluZGV4ICk7CgkJCWdsX1Bvc2l0aW9uID0gdmVjNCggcG9zaXRpb24sIDEuMCApOwoKCQl9CglgfWZ1bmN0aW9uIEt4KGkpe2xldCBlPW5ldyBXZWFrTWFwLHQ9bnVsbDtmdW5jdGlvbiByKG8pe2lmKG8mJm8uaXNUZXh0dXJlKXtjb25zdCBoPW8ubWFwcGluZyxsPWg9PT1ibnx8aD09PXduLGM9aD09PWJyfHxoPT09d3I7aWYobHx8YylpZihvLmlzUmVuZGVyVGFyZ2V0VGV4dHVyZSYmby5uZWVkc1BNUkVNVXBkYXRlPT09ITApe28ubmVlZHNQTVJFTVVwZGF0ZT0hMTtsZXQgdT1lLmdldChvKTtyZXR1cm4gdD09PW51bGwmJih0PW5ldyBGbChpKSksdT1sP3QuZnJvbUVxdWlyZWN0YW5ndWxhcihvLHUpOnQuZnJvbUN1YmVtYXAobyx1KSxlLnNldChvLHUpLHUudGV4dHVyZX1lbHNle2lmKGUuaGFzKG8pKXJldHVybiBlLmdldChvKS50ZXh0dXJlO3tjb25zdCB1PW8uaW1hZ2U7aWYobCYmdSYmdS5oZWlnaHQ+MHx8YyYmdSYmcyh1KSl7dD09PW51bGwmJih0PW5ldyBGbChpKSk7Y29uc3QgZD1sP3QuZnJvbUVxdWlyZWN0YW5ndWxhcihvKTp0LmZyb21DdWJlbWFwKG8pO3JldHVybiBlLnNldChvLGQpLG8uYWRkRXZlbnRMaXN0ZW5lcigiZGlzcG9zZSIsYSksZC50ZXh0dXJlfWVsc2UgcmV0dXJuIG51bGx9fX1yZXR1cm4gb31mdW5jdGlvbiBzKG8pe2xldCBoPTA7Y29uc3QgbD02O2ZvcihsZXQgYz0wO2M8bDtjKyspb1tjXSE9PXZvaWQgMCYmaCsrO3JldHVybiBoPT09bH1mdW5jdGlvbiBhKG8pe2NvbnN0IGg9by50YXJnZXQ7aC5yZW1vdmVFdmVudExpc3RlbmVyKCJkaXNwb3NlIixhKTtjb25zdCBsPWUuZ2V0KGgpO2whPT12b2lkIDAmJihlLmRlbGV0ZShoKSxsLmRpc3Bvc2UoKSl9ZnVuY3Rpb24gbigpe2U9bmV3IFdlYWtNYXAsdCE9PW51bGwmJih0LmRpc3Bvc2UoKSx0PW51bGwpfXJldHVybntnZXQ6cixkaXNwb3NlOm59fWZ1bmN0aW9uIFF4KGkpe2NvbnN0IGU9e307ZnVuY3Rpb24gdChyKXtpZihlW3JdIT09dm9pZCAwKXJldHVybiBlW3JdO2xldCBzO3N3aXRjaChyKXtjYXNlIldFQkdMX2RlcHRoX3RleHR1cmUiOnM9aS5nZXRFeHRlbnNpb24oIldFQkdMX2RlcHRoX3RleHR1cmUiKXx8aS5nZXRFeHRlbnNpb24oIk1PWl9XRUJHTF9kZXB0aF90ZXh0dXJlIil8fGkuZ2V0RXh0ZW5zaW9uKCJXRUJLSVRfV0VCR0xfZGVwdGhfdGV4dHVyZSIpO2JyZWFrO2Nhc2UiRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljIjpzPWkuZ2V0RXh0ZW5zaW9uKCJFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMiKXx8aS5nZXRFeHRlbnNpb24oIk1PWl9FWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMiKXx8aS5nZXRFeHRlbnNpb24oIldFQktJVF9FWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMiKTticmVhaztjYXNlIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjIjpzPWkuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0YyIpfHxpLmdldEV4dGVuc2lvbigiTU9aX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjIil8fGkuZ2V0RXh0ZW5zaW9uKCJXRUJLSVRfV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGMiKTticmVhaztjYXNlIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0YyI6cz1pLmdldEV4dGVuc2lvbigiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjIil8fGkuZ2V0RXh0ZW5zaW9uKCJXRUJLSVRfV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjIik7YnJlYWs7ZGVmYXVsdDpzPWkuZ2V0RXh0ZW5zaW9uKHIpfXJldHVybiBlW3JdPXMsc31yZXR1cm57aGFzOmZ1bmN0aW9uKHIpe3JldHVybiB0KHIpIT09bnVsbH0saW5pdDpmdW5jdGlvbihyKXtyLmlzV2ViR0wyP3QoIkVYVF9jb2xvcl9idWZmZXJfZmxvYXQiKToodCgiV0VCR0xfZGVwdGhfdGV4dHVyZSIpLHQoIk9FU190ZXh0dXJlX2Zsb2F0IiksdCgiT0VTX3RleHR1cmVfaGFsZl9mbG9hdCIpLHQoIk9FU190ZXh0dXJlX2hhbGZfZmxvYXRfbGluZWFyIiksdCgiT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzIiksdCgiT0VTX2VsZW1lbnRfaW5kZXhfdWludCIpLHQoIk9FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0IiksdCgiQU5HTEVfaW5zdGFuY2VkX2FycmF5cyIpKSx0KCJPRVNfdGV4dHVyZV9mbG9hdF9saW5lYXIiKSx0KCJFWFRfY29sb3JfYnVmZmVyX2hhbGZfZmxvYXQiKSx0KCJXRUJHTF9tdWx0aXNhbXBsZWRfcmVuZGVyX3RvX3RleHR1cmUiKX0sZ2V0OmZ1bmN0aW9uKHIpe2NvbnN0IHM9dChyKTtyZXR1cm4gcz09PW51bGwmJmNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogIityKyIgZXh0ZW5zaW9uIG5vdCBzdXBwb3J0ZWQuIiksc319fWZ1bmN0aW9uICR4KGksZSx0LHIpe2NvbnN0IHM9e30sYT1uZXcgV2Vha01hcDtmdW5jdGlvbiBuKHUpe2NvbnN0IGQ9dS50YXJnZXQ7ZC5pbmRleCE9PW51bGwmJmUucmVtb3ZlKGQuaW5kZXgpO2Zvcihjb25zdCBnIGluIGQuYXR0cmlidXRlcyllLnJlbW92ZShkLmF0dHJpYnV0ZXNbZ10pO2QucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZGlzcG9zZSIsbiksZGVsZXRlIHNbZC5pZF07Y29uc3QgcD1hLmdldChkKTtwJiYoZS5yZW1vdmUocCksYS5kZWxldGUoZCkpLHIucmVsZWFzZVN0YXRlc09mR2VvbWV0cnkoZCksZC5pc0luc3RhbmNlZEJ1ZmZlckdlb21ldHJ5PT09ITAmJmRlbGV0ZSBkLl9tYXhJbnN0YW5jZUNvdW50LHQubWVtb3J5Lmdlb21ldHJpZXMtLX1mdW5jdGlvbiBvKHUsZCl7cmV0dXJuIHNbZC5pZF09PT0hMHx8KGQuYWRkRXZlbnRMaXN0ZW5lcigiZGlzcG9zZSIsbiksc1tkLmlkXT0hMCx0Lm1lbW9yeS5nZW9tZXRyaWVzKyspLGR9ZnVuY3Rpb24gaCh1KXtjb25zdCBkPXUuYXR0cmlidXRlcztmb3IoY29uc3QgZyBpbiBkKWUudXBkYXRlKGRbZ10sMzQ5NjIpO2NvbnN0IHA9dS5tb3JwaEF0dHJpYnV0ZXM7Zm9yKGNvbnN0IGcgaW4gcCl7Y29uc3QgZj1wW2ddO2ZvcihsZXQgbT0wLHY9Zi5sZW5ndGg7bTx2O20rKyllLnVwZGF0ZShmW21dLDM0OTYyKX19ZnVuY3Rpb24gbCh1KXtjb25zdCBkPVtdLHA9dS5pbmRleCxnPXUuYXR0cmlidXRlcy5wb3NpdGlvbjtsZXQgZj0wO2lmKHAhPT1udWxsKXtjb25zdCB5PXAuYXJyYXk7Zj1wLnZlcnNpb247Zm9yKGxldCBUPTAsdz15Lmxlbmd0aDtUPHc7VCs9Myl7Y29uc3QgYj15W1QrMF0sTD15W1QrMV0sUD15W1QrMl07ZC5wdXNoKGIsTCxMLFAsUCxiKX19ZWxzZXtjb25zdCB5PWcuYXJyYXk7Zj1nLnZlcnNpb247Zm9yKGxldCBUPTAsdz15Lmxlbmd0aC8zLTE7VDx3O1QrPTMpe2NvbnN0IGI9VCswLEw9VCsxLFA9VCsyO2QucHVzaChiLEwsTCxQLFAsYil9fWNvbnN0IG09bmV3KHZsKGQpP0lsOlBsKShkLDEpO20udmVyc2lvbj1mO2NvbnN0IHY9YS5nZXQodSk7diYmZS5yZW1vdmUodiksYS5zZXQodSxtKX1mdW5jdGlvbiBjKHUpe2NvbnN0IGQ9YS5nZXQodSk7aWYoZCl7Y29uc3QgcD11LmluZGV4O3AhPT1udWxsJiZkLnZlcnNpb248cC52ZXJzaW9uJiZsKHUpfWVsc2UgbCh1KTtyZXR1cm4gYS5nZXQodSl9cmV0dXJue2dldDpvLHVwZGF0ZTpoLGdldFdpcmVmcmFtZUF0dHJpYnV0ZTpjfX1mdW5jdGlvbiBlXyhpLGUsdCxyKXtjb25zdCBzPXIuaXNXZWJHTDI7bGV0IGE7ZnVuY3Rpb24gbihkKXthPWR9bGV0IG8saDtmdW5jdGlvbiBsKGQpe289ZC50eXBlLGg9ZC5ieXRlc1BlckVsZW1lbnR9ZnVuY3Rpb24gYyhkLHApe2kuZHJhd0VsZW1lbnRzKGEscCxvLGQqaCksdC51cGRhdGUocCxhLDEpfWZ1bmN0aW9uIHUoZCxwLGcpe2lmKGc9PT0wKXJldHVybjtsZXQgZixtO2lmKHMpZj1pLG09ImRyYXdFbGVtZW50c0luc3RhbmNlZCI7ZWxzZSBpZihmPWUuZ2V0KCJBTkdMRV9pbnN0YW5jZWRfYXJyYXlzIiksbT0iZHJhd0VsZW1lbnRzSW5zdGFuY2VkQU5HTEUiLGY9PT1udWxsKXtjb25zb2xlLmVycm9yKCJUSFJFRS5XZWJHTEluZGV4ZWRCdWZmZXJSZW5kZXJlcjogdXNpbmcgVEhSRUUuSW5zdGFuY2VkQnVmZmVyR2VvbWV0cnkgYnV0IGhhcmR3YXJlIGRvZXMgbm90IHN1cHBvcnQgZXh0ZW5zaW9uIEFOR0xFX2luc3RhbmNlZF9hcnJheXMuIik7cmV0dXJufWZbbV0oYSxwLG8sZCpoLGcpLHQudXBkYXRlKHAsYSxnKX10aGlzLnNldE1vZGU9bix0aGlzLnNldEluZGV4PWwsdGhpcy5yZW5kZXI9Yyx0aGlzLnJlbmRlckluc3RhbmNlcz11fWZ1bmN0aW9uIHRfKGkpe2NvbnN0IGU9e2dlb21ldHJpZXM6MCx0ZXh0dXJlczowfSx0PXtmcmFtZTowLGNhbGxzOjAsdHJpYW5nbGVzOjAscG9pbnRzOjAsbGluZXM6MH07ZnVuY3Rpb24gcihhLG4sbyl7c3dpdGNoKHQuY2FsbHMrKyxuKXtjYXNlIDQ6dC50cmlhbmdsZXMrPW8qKGEvMyk7YnJlYWs7Y2FzZSAxOnQubGluZXMrPW8qKGEvMik7YnJlYWs7Y2FzZSAzOnQubGluZXMrPW8qKGEtMSk7YnJlYWs7Y2FzZSAyOnQubGluZXMrPW8qYTticmVhaztjYXNlIDA6dC5wb2ludHMrPW8qYTticmVhaztkZWZhdWx0OmNvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMSW5mbzogVW5rbm93biBkcmF3IG1vZGU6IixuKTticmVha319ZnVuY3Rpb24gcygpe3QuZnJhbWUrKyx0LmNhbGxzPTAsdC50cmlhbmdsZXM9MCx0LnBvaW50cz0wLHQubGluZXM9MH1yZXR1cm57bWVtb3J5OmUscmVuZGVyOnQscHJvZ3JhbXM6bnVsbCxhdXRvUmVzZXQ6ITAscmVzZXQ6cyx1cGRhdGU6cn19ZnVuY3Rpb24gaV8oaSxlKXtyZXR1cm4gaVswXS1lWzBdfWZ1bmN0aW9uIHJfKGksZSl7cmV0dXJuIE1hdGguYWJzKGVbMV0pLU1hdGguYWJzKGlbMV0pfWZ1bmN0aW9uIGZvKGksZSl7bGV0IHQ9MTtjb25zdCByPWUuaXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZT9lLmRhdGEuYXJyYXk6ZS5hcnJheTtyIGluc3RhbmNlb2YgSW50OEFycmF5P3Q9MTI3OnIgaW5zdGFuY2VvZiBJbnQxNkFycmF5P3Q9MzI3Njc6ciBpbnN0YW5jZW9mIEludDMyQXJyYXk/dD0yMTQ3NDgzNjQ3OmNvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMTW9ycGh0YXJnZXRzOiBVbnN1cHBvcnRlZCBtb3JwaCBhdHRyaWJ1dGUgZGF0YSB0eXBlOiAiLHIpLGkuZGl2aWRlU2NhbGFyKHQpfWZ1bmN0aW9uIHNfKGksZSx0KXtjb25zdCByPXt9LHM9bmV3IEZsb2F0MzJBcnJheSg4KSxhPW5ldyBXZWFrTWFwLG49bmV3IFhlLG89W107Zm9yKGxldCBsPTA7bDw4O2wrKylvW2xdPVtsLDBdO2Z1bmN0aW9uIGgobCxjLHUsZCl7Y29uc3QgcD1sLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcztpZihlLmlzV2ViR0wyPT09ITApe2NvbnN0IGc9Yy5tb3JwaEF0dHJpYnV0ZXMucG9zaXRpb258fGMubW9ycGhBdHRyaWJ1dGVzLm5vcm1hbHx8Yy5tb3JwaEF0dHJpYnV0ZXMuY29sb3IsZj1nIT09dm9pZCAwP2cubGVuZ3RoOjA7bGV0IG09YS5nZXQoYyk7aWYobT09PXZvaWQgMHx8bS5jb3VudCE9PWYpe2xldCBUPWZ1bmN0aW9uKCl7Ti5kaXNwb3NlKCksYS5kZWxldGUoYyksYy5yZW1vdmVFdmVudExpc3RlbmVyKCJkaXNwb3NlIixUKX07bSE9PXZvaWQgMCYmbS50ZXh0dXJlLmRpc3Bvc2UoKTtjb25zdCB3PWMubW9ycGhBdHRyaWJ1dGVzLnBvc2l0aW9uIT09dm9pZCAwLGI9Yy5tb3JwaEF0dHJpYnV0ZXMubm9ybWFsIT09dm9pZCAwLEw9Yy5tb3JwaEF0dHJpYnV0ZXMuY29sb3IhPT12b2lkIDAsUD1jLm1vcnBoQXR0cmlidXRlcy5wb3NpdGlvbnx8W10saz1jLm1vcnBoQXR0cmlidXRlcy5ub3JtYWx8fFtdLGllPWMubW9ycGhBdHRyaWJ1dGVzLmNvbG9yfHxbXTtsZXQgTz0wO3c9PT0hMCYmKE89MSksYj09PSEwJiYoTz0yKSxMPT09ITAmJihPPTMpO2xldCB4PWMuYXR0cmlidXRlcy5wb3NpdGlvbi5jb3VudCpPLEM9MTt4PmUubWF4VGV4dHVyZVNpemUmJihDPU1hdGguY2VpbCh4L2UubWF4VGV4dHVyZVNpemUpLHg9ZS5tYXhUZXh0dXJlU2l6ZSk7Y29uc3QgWT1uZXcgRmxvYXQzMkFycmF5KHgqQyo0KmYpLE49bmV3IHlhKFkseCxDLGYpO04udHlwZT1ZaSxOLm5lZWRzVXBkYXRlPSEwO2NvbnN0IFU9Tyo0O2ZvcihsZXQgQj0wO0I8ZjtCKyspe2NvbnN0IEc9UFtCXSxSPWtbQl0sWD1pZVtCXSxKPXgqQyo0KkI7Zm9yKGxldCB0ZT0wO3RlPEcuY291bnQ7dGUrKyl7Y29uc3QgUT10ZSpVO3c9PT0hMCYmKG4uZnJvbUJ1ZmZlckF0dHJpYnV0ZShHLHRlKSxHLm5vcm1hbGl6ZWQ9PT0hMCYmZm8obixHKSxZW0orUSswXT1uLngsWVtKK1ErMV09bi55LFlbSitRKzJdPW4ueixZW0orUSszXT0wKSxiPT09ITAmJihuLmZyb21CdWZmZXJBdHRyaWJ1dGUoUix0ZSksUi5ub3JtYWxpemVkPT09ITAmJmZvKG4sUiksWVtKK1ErNF09bi54LFlbSitRKzVdPW4ueSxZW0orUSs2XT1uLnosWVtKK1ErN109MCksTD09PSEwJiYobi5mcm9tQnVmZmVyQXR0cmlidXRlKFgsdGUpLFgubm9ybWFsaXplZD09PSEwJiZmbyhuLFgpLFlbSitRKzhdPW4ueCxZW0orUSs5XT1uLnksWVtKK1ErMTBdPW4ueixZW0orUSsxMV09WC5pdGVtU2l6ZT09PTQ/bi53OjEpfX1tPXtjb3VudDpmLHRleHR1cmU6TixzaXplOm5ldyBlZSh4LEMpfSxhLnNldChjLG0pLGMuYWRkRXZlbnRMaXN0ZW5lcigiZGlzcG9zZSIsVCl9bGV0IHY9MDtmb3IobGV0IFQ9MDtUPHAubGVuZ3RoO1QrKyl2Kz1wW1RdO2NvbnN0IHk9Yy5tb3JwaFRhcmdldHNSZWxhdGl2ZT8xOjEtdjtkLmdldFVuaWZvcm1zKCkuc2V0VmFsdWUoaSwibW9ycGhUYXJnZXRCYXNlSW5mbHVlbmNlIix5KSxkLmdldFVuaWZvcm1zKCkuc2V0VmFsdWUoaSwibW9ycGhUYXJnZXRJbmZsdWVuY2VzIixwKSxkLmdldFVuaWZvcm1zKCkuc2V0VmFsdWUoaSwibW9ycGhUYXJnZXRzVGV4dHVyZSIsbS50ZXh0dXJlLHQpLGQuZ2V0VW5pZm9ybXMoKS5zZXRWYWx1ZShpLCJtb3JwaFRhcmdldHNUZXh0dXJlU2l6ZSIsbS5zaXplKX1lbHNle2NvbnN0IGc9cD09PXZvaWQgMD8wOnAubGVuZ3RoO2xldCBmPXJbYy5pZF07aWYoZj09PXZvaWQgMHx8Zi5sZW5ndGghPT1nKXtmPVtdO2ZvcihsZXQgdz0wO3c8Zzt3KyspZlt3XT1bdywwXTtyW2MuaWRdPWZ9Zm9yKGxldCB3PTA7dzxnO3crKyl7Y29uc3QgYj1mW3ddO2JbMF09dyxiWzFdPXBbd119Zi5zb3J0KHJfKTtmb3IobGV0IHc9MDt3PDg7dysrKXc8ZyYmZlt3XVsxXT8ob1t3XVswXT1mW3ddWzBdLG9bd11bMV09Zlt3XVsxXSk6KG9bd11bMF09TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsb1t3XVsxXT0wKTtvLnNvcnQoaV8pO2NvbnN0IG09Yy5tb3JwaEF0dHJpYnV0ZXMucG9zaXRpb24sdj1jLm1vcnBoQXR0cmlidXRlcy5ub3JtYWw7bGV0IHk9MDtmb3IobGV0IHc9MDt3PDg7dysrKXtjb25zdCBiPW9bd10sTD1iWzBdLFA9YlsxXTtMIT09TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVImJlA/KG0mJmMuZ2V0QXR0cmlidXRlKCJtb3JwaFRhcmdldCIrdykhPT1tW0xdJiZjLnNldEF0dHJpYnV0ZSgibW9ycGhUYXJnZXQiK3csbVtMXSksdiYmYy5nZXRBdHRyaWJ1dGUoIm1vcnBoTm9ybWFsIit3KSE9PXZbTF0mJmMuc2V0QXR0cmlidXRlKCJtb3JwaE5vcm1hbCIrdyx2W0xdKSxzW3ddPVAseSs9UCk6KG0mJmMuaGFzQXR0cmlidXRlKCJtb3JwaFRhcmdldCIrdyk9PT0hMCYmYy5kZWxldGVBdHRyaWJ1dGUoIm1vcnBoVGFyZ2V0Iit3KSx2JiZjLmhhc0F0dHJpYnV0ZSgibW9ycGhOb3JtYWwiK3cpPT09ITAmJmMuZGVsZXRlQXR0cmlidXRlKCJtb3JwaE5vcm1hbCIrdyksc1t3XT0wKX1jb25zdCBUPWMubW9ycGhUYXJnZXRzUmVsYXRpdmU/MToxLXk7ZC5nZXRVbmlmb3JtcygpLnNldFZhbHVlKGksIm1vcnBoVGFyZ2V0QmFzZUluZmx1ZW5jZSIsVCksZC5nZXRVbmlmb3JtcygpLnNldFZhbHVlKGksIm1vcnBoVGFyZ2V0SW5mbHVlbmNlcyIscyl9fXJldHVybnt1cGRhdGU6aH19ZnVuY3Rpb24gYV8oaSxlLHQscil7bGV0IHM9bmV3IFdlYWtNYXA7ZnVuY3Rpb24gYShoKXtjb25zdCBsPXIucmVuZGVyLmZyYW1lLGM9aC5nZW9tZXRyeSx1PWUuZ2V0KGgsYyk7cmV0dXJuIHMuZ2V0KHUpIT09bCYmKGUudXBkYXRlKHUpLHMuc2V0KHUsbCkpLGguaXNJbnN0YW5jZWRNZXNoJiYoaC5oYXNFdmVudExpc3RlbmVyKCJkaXNwb3NlIixvKT09PSExJiZoLmFkZEV2ZW50TGlzdGVuZXIoImRpc3Bvc2UiLG8pLHQudXBkYXRlKGguaW5zdGFuY2VNYXRyaXgsMzQ5NjIpLGguaW5zdGFuY2VDb2xvciE9PW51bGwmJnQudXBkYXRlKGguaW5zdGFuY2VDb2xvciwzNDk2MikpLHV9ZnVuY3Rpb24gbigpe3M9bmV3IFdlYWtNYXB9ZnVuY3Rpb24gbyhoKXtjb25zdCBsPWgudGFyZ2V0O2wucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZGlzcG9zZSIsbyksdC5yZW1vdmUobC5pbnN0YW5jZU1hdHJpeCksbC5pbnN0YW5jZUNvbG9yIT09bnVsbCYmdC5yZW1vdmUobC5pbnN0YW5jZUNvbG9yKX1yZXR1cm57dXBkYXRlOmEsZGlzcG9zZTpufX1jb25zdCBWbD1uZXcgZHQsV2w9bmV3IHlhLGpsPW5ldyBrbixxbD1uZXcgVWEsWGw9W10sSmw9W10sWWw9bmV3IEZsb2F0MzJBcnJheSgxNiksWmw9bmV3IEZsb2F0MzJBcnJheSg5KSxLbD1uZXcgRmxvYXQzMkFycmF5KDQpO2Z1bmN0aW9uIEpyKGksZSx0KXtjb25zdCByPWlbMF07aWYocjw9MHx8cj4wKXJldHVybiBpO2NvbnN0IHM9ZSp0O2xldCBhPVhsW3NdO2lmKGE9PT12b2lkIDAmJihhPW5ldyBGbG9hdDMyQXJyYXkocyksWGxbc109YSksZSE9PTApe3IudG9BcnJheShhLDApO2ZvcihsZXQgbj0xLG89MDtuIT09ZTsrK24pbys9dCxpW25dLnRvQXJyYXkoYSxvKX1yZXR1cm4gYX1mdW5jdGlvbiBBdChpLGUpe2lmKGkubGVuZ3RoIT09ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKGxldCB0PTAscj1pLmxlbmd0aDt0PHI7dCsrKWlmKGlbdF0hPT1lW3RdKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIGJ0KGksZSl7Zm9yKGxldCB0PTAscj1lLmxlbmd0aDt0PHI7dCsrKWlbdF09ZVt0XX1mdW5jdGlvbiBHYShpLGUpe2xldCB0PUpsW2VdO3Q9PT12b2lkIDAmJih0PW5ldyBJbnQzMkFycmF5KGUpLEpsW2VdPXQpO2ZvcihsZXQgcj0wO3IhPT1lOysrcil0W3JdPWkuYWxsb2NhdGVUZXh0dXJlVW5pdCgpO3JldHVybiB0fWZ1bmN0aW9uIG5fKGksZSl7Y29uc3QgdD10aGlzLmNhY2hlO3RbMF0hPT1lJiYoaS51bmlmb3JtMWYodGhpcy5hZGRyLGUpLHRbMF09ZSl9ZnVuY3Rpb24gb18oaSxlKXtjb25zdCB0PXRoaXMuY2FjaGU7aWYoZS54IT09dm9pZCAwKSh0WzBdIT09ZS54fHx0WzFdIT09ZS55KSYmKGkudW5pZm9ybTJmKHRoaXMuYWRkcixlLngsZS55KSx0WzBdPWUueCx0WzFdPWUueSk7ZWxzZXtpZihBdCh0LGUpKXJldHVybjtpLnVuaWZvcm0yZnYodGhpcy5hZGRyLGUpLGJ0KHQsZSl9fWZ1bmN0aW9uIGhfKGksZSl7Y29uc3QgdD10aGlzLmNhY2hlO2lmKGUueCE9PXZvaWQgMCkodFswXSE9PWUueHx8dFsxXSE9PWUueXx8dFsyXSE9PWUueikmJihpLnVuaWZvcm0zZih0aGlzLmFkZHIsZS54LGUueSxlLnopLHRbMF09ZS54LHRbMV09ZS55LHRbMl09ZS56KTtlbHNlIGlmKGUuciE9PXZvaWQgMCkodFswXSE9PWUucnx8dFsxXSE9PWUuZ3x8dFsyXSE9PWUuYikmJihpLnVuaWZvcm0zZih0aGlzLmFkZHIsZS5yLGUuZyxlLmIpLHRbMF09ZS5yLHRbMV09ZS5nLHRbMl09ZS5iKTtlbHNle2lmKEF0KHQsZSkpcmV0dXJuO2kudW5pZm9ybTNmdih0aGlzLmFkZHIsZSksYnQodCxlKX19ZnVuY3Rpb24gbF8oaSxlKXtjb25zdCB0PXRoaXMuY2FjaGU7aWYoZS54IT09dm9pZCAwKSh0WzBdIT09ZS54fHx0WzFdIT09ZS55fHx0WzJdIT09ZS56fHx0WzNdIT09ZS53KSYmKGkudW5pZm9ybTRmKHRoaXMuYWRkcixlLngsZS55LGUueixlLncpLHRbMF09ZS54LHRbMV09ZS55LHRbMl09ZS56LHRbM109ZS53KTtlbHNle2lmKEF0KHQsZSkpcmV0dXJuO2kudW5pZm9ybTRmdih0aGlzLmFkZHIsZSksYnQodCxlKX19ZnVuY3Rpb24gY18oaSxlKXtjb25zdCB0PXRoaXMuY2FjaGUscj1lLmVsZW1lbnRzO2lmKHI9PT12b2lkIDApe2lmKEF0KHQsZSkpcmV0dXJuO2kudW5pZm9ybU1hdHJpeDJmdih0aGlzLmFkZHIsITEsZSksYnQodCxlKX1lbHNle2lmKEF0KHQscikpcmV0dXJuO0tsLnNldChyKSxpLnVuaWZvcm1NYXRyaXgyZnYodGhpcy5hZGRyLCExLEtsKSxidCh0LHIpfX1mdW5jdGlvbiB1XyhpLGUpe2NvbnN0IHQ9dGhpcy5jYWNoZSxyPWUuZWxlbWVudHM7aWYocj09PXZvaWQgMCl7aWYoQXQodCxlKSlyZXR1cm47aS51bmlmb3JtTWF0cml4M2Z2KHRoaXMuYWRkciwhMSxlKSxidCh0LGUpfWVsc2V7aWYoQXQodCxyKSlyZXR1cm47Wmwuc2V0KHIpLGkudW5pZm9ybU1hdHJpeDNmdih0aGlzLmFkZHIsITEsWmwpLGJ0KHQscil9fWZ1bmN0aW9uIGRfKGksZSl7Y29uc3QgdD10aGlzLmNhY2hlLHI9ZS5lbGVtZW50cztpZihyPT09dm9pZCAwKXtpZihBdCh0LGUpKXJldHVybjtpLnVuaWZvcm1NYXRyaXg0ZnYodGhpcy5hZGRyLCExLGUpLGJ0KHQsZSl9ZWxzZXtpZihBdCh0LHIpKXJldHVybjtZbC5zZXQociksaS51bmlmb3JtTWF0cml4NGZ2KHRoaXMuYWRkciwhMSxZbCksYnQodCxyKX19ZnVuY3Rpb24gcF8oaSxlKXtjb25zdCB0PXRoaXMuY2FjaGU7dFswXSE9PWUmJihpLnVuaWZvcm0xaSh0aGlzLmFkZHIsZSksdFswXT1lKX1mdW5jdGlvbiBmXyhpLGUpe2NvbnN0IHQ9dGhpcy5jYWNoZTtBdCh0LGUpfHwoaS51bmlmb3JtMml2KHRoaXMuYWRkcixlKSxidCh0LGUpKX1mdW5jdGlvbiBtXyhpLGUpe2NvbnN0IHQ9dGhpcy5jYWNoZTtBdCh0LGUpfHwoaS51bmlmb3JtM2l2KHRoaXMuYWRkcixlKSxidCh0LGUpKX1mdW5jdGlvbiBnXyhpLGUpe2NvbnN0IHQ9dGhpcy5jYWNoZTtBdCh0LGUpfHwoaS51bmlmb3JtNGl2KHRoaXMuYWRkcixlKSxidCh0LGUpKX1mdW5jdGlvbiB2XyhpLGUpe2NvbnN0IHQ9dGhpcy5jYWNoZTt0WzBdIT09ZSYmKGkudW5pZm9ybTF1aSh0aGlzLmFkZHIsZSksdFswXT1lKX1mdW5jdGlvbiB4XyhpLGUpe2NvbnN0IHQ9dGhpcy5jYWNoZTtBdCh0LGUpfHwoaS51bmlmb3JtMnVpdih0aGlzLmFkZHIsZSksYnQodCxlKSl9ZnVuY3Rpb24gX18oaSxlKXtjb25zdCB0PXRoaXMuY2FjaGU7QXQodCxlKXx8KGkudW5pZm9ybTN1aXYodGhpcy5hZGRyLGUpLGJ0KHQsZSkpfWZ1bmN0aW9uIHlfKGksZSl7Y29uc3QgdD10aGlzLmNhY2hlO0F0KHQsZSl8fChpLnVuaWZvcm00dWl2KHRoaXMuYWRkcixlKSxidCh0LGUpKX1mdW5jdGlvbiBNXyhpLGUsdCl7Y29uc3Qgcj10aGlzLmNhY2hlLHM9dC5hbGxvY2F0ZVRleHR1cmVVbml0KCk7clswXSE9PXMmJihpLnVuaWZvcm0xaSh0aGlzLmFkZHIscyksclswXT1zKSx0LnNldFRleHR1cmUyRChlfHxWbCxzKX1mdW5jdGlvbiBiXyhpLGUsdCl7Y29uc3Qgcj10aGlzLmNhY2hlLHM9dC5hbGxvY2F0ZVRleHR1cmVVbml0KCk7clswXSE9PXMmJihpLnVuaWZvcm0xaSh0aGlzLmFkZHIscyksclswXT1zKSx0LnNldFRleHR1cmUzRChlfHxqbCxzKX1mdW5jdGlvbiB3XyhpLGUsdCl7Y29uc3Qgcj10aGlzLmNhY2hlLHM9dC5hbGxvY2F0ZVRleHR1cmVVbml0KCk7clswXSE9PXMmJihpLnVuaWZvcm0xaSh0aGlzLmFkZHIscyksclswXT1zKSx0LnNldFRleHR1cmVDdWJlKGV8fHFsLHMpfWZ1bmN0aW9uIFNfKGksZSx0KXtjb25zdCByPXRoaXMuY2FjaGUscz10LmFsbG9jYXRlVGV4dHVyZVVuaXQoKTtyWzBdIT09cyYmKGkudW5pZm9ybTFpKHRoaXMuYWRkcixzKSxyWzBdPXMpLHQuc2V0VGV4dHVyZTJEQXJyYXkoZXx8V2wscyl9ZnVuY3Rpb24gRV8oaSl7c3dpdGNoKGkpe2Nhc2UgNTEyNjpyZXR1cm4gbl87Y2FzZSAzNTY2NDpyZXR1cm4gb187Y2FzZSAzNTY2NTpyZXR1cm4gaF87Y2FzZSAzNTY2NjpyZXR1cm4gbF87Y2FzZSAzNTY3NDpyZXR1cm4gY187Y2FzZSAzNTY3NTpyZXR1cm4gdV87Y2FzZSAzNTY3NjpyZXR1cm4gZF87Y2FzZSA1MTI0OmNhc2UgMzU2NzA6cmV0dXJuIHBfO2Nhc2UgMzU2Njc6Y2FzZSAzNTY3MTpyZXR1cm4gZl87Y2FzZSAzNTY2ODpjYXNlIDM1NjcyOnJldHVybiBtXztjYXNlIDM1NjY5OmNhc2UgMzU2NzM6cmV0dXJuIGdfO2Nhc2UgNTEyNTpyZXR1cm4gdl87Y2FzZSAzNjI5NDpyZXR1cm4geF87Y2FzZSAzNjI5NTpyZXR1cm4gX187Y2FzZSAzNjI5NjpyZXR1cm4geV87Y2FzZSAzNTY3ODpjYXNlIDM2MTk4OmNhc2UgMzYyOTg6Y2FzZSAzNjMwNjpjYXNlIDM1NjgyOnJldHVybiBNXztjYXNlIDM1Njc5OmNhc2UgMzYyOTk6Y2FzZSAzNjMwNzpyZXR1cm4gYl87Y2FzZSAzNTY4MDpjYXNlIDM2MzAwOmNhc2UgMzYzMDg6Y2FzZSAzNjI5MzpyZXR1cm4gd187Y2FzZSAzNjI4OTpjYXNlIDM2MzAzOmNhc2UgMzYzMTE6Y2FzZSAzNjI5MjpyZXR1cm4gU199fWZ1bmN0aW9uIFRfKGksZSl7aS51bmlmb3JtMWZ2KHRoaXMuYWRkcixlKX1mdW5jdGlvbiBBXyhpLGUpe2NvbnN0IHQ9SnIoZSx0aGlzLnNpemUsMik7aS51bmlmb3JtMmZ2KHRoaXMuYWRkcix0KX1mdW5jdGlvbiBDXyhpLGUpe2NvbnN0IHQ9SnIoZSx0aGlzLnNpemUsMyk7aS51bmlmb3JtM2Z2KHRoaXMuYWRkcix0KX1mdW5jdGlvbiBMXyhpLGUpe2NvbnN0IHQ9SnIoZSx0aGlzLnNpemUsNCk7aS51bmlmb3JtNGZ2KHRoaXMuYWRkcix0KX1mdW5jdGlvbiBSXyhpLGUpe2NvbnN0IHQ9SnIoZSx0aGlzLnNpemUsNCk7aS51bmlmb3JtTWF0cml4MmZ2KHRoaXMuYWRkciwhMSx0KX1mdW5jdGlvbiBQXyhpLGUpe2NvbnN0IHQ9SnIoZSx0aGlzLnNpemUsOSk7aS51bmlmb3JtTWF0cml4M2Z2KHRoaXMuYWRkciwhMSx0KX1mdW5jdGlvbiBJXyhpLGUpe2NvbnN0IHQ9SnIoZSx0aGlzLnNpemUsMTYpO2kudW5pZm9ybU1hdHJpeDRmdih0aGlzLmFkZHIsITEsdCl9ZnVuY3Rpb24gTl8oaSxlKXtpLnVuaWZvcm0xaXYodGhpcy5hZGRyLGUpfWZ1bmN0aW9uIERfKGksZSl7aS51bmlmb3JtMml2KHRoaXMuYWRkcixlKX1mdW5jdGlvbiBPXyhpLGUpe2kudW5pZm9ybTNpdih0aGlzLmFkZHIsZSl9ZnVuY3Rpb24gel8oaSxlKXtpLnVuaWZvcm00aXYodGhpcy5hZGRyLGUpfWZ1bmN0aW9uIEJfKGksZSl7aS51bmlmb3JtMXVpdih0aGlzLmFkZHIsZSl9ZnVuY3Rpb24gVV8oaSxlKXtpLnVuaWZvcm0ydWl2KHRoaXMuYWRkcixlKX1mdW5jdGlvbiBGXyhpLGUpe2kudW5pZm9ybTN1aXYodGhpcy5hZGRyLGUpfWZ1bmN0aW9uIEhfKGksZSl7aS51bmlmb3JtNHVpdih0aGlzLmFkZHIsZSl9ZnVuY3Rpb24ga18oaSxlLHQpe2NvbnN0IHI9ZS5sZW5ndGgscz1HYSh0LHIpO2kudW5pZm9ybTFpdih0aGlzLmFkZHIscyk7Zm9yKGxldCBhPTA7YSE9PXI7KythKXQuc2V0VGV4dHVyZTJEKGVbYV18fFZsLHNbYV0pfWZ1bmN0aW9uIEdfKGksZSx0KXtjb25zdCByPWUubGVuZ3RoLHM9R2EodCxyKTtpLnVuaWZvcm0xaXYodGhpcy5hZGRyLHMpO2ZvcihsZXQgYT0wO2EhPT1yOysrYSl0LnNldFRleHR1cmUzRChlW2FdfHxqbCxzW2FdKX1mdW5jdGlvbiBWXyhpLGUsdCl7Y29uc3Qgcj1lLmxlbmd0aCxzPUdhKHQscik7aS51bmlmb3JtMWl2KHRoaXMuYWRkcixzKTtmb3IobGV0IGE9MDthIT09cjsrK2EpdC5zZXRUZXh0dXJlQ3ViZShlW2FdfHxxbCxzW2FdKX1mdW5jdGlvbiBXXyhpLGUsdCl7Y29uc3Qgcj1lLmxlbmd0aCxzPUdhKHQscik7aS51bmlmb3JtMWl2KHRoaXMuYWRkcixzKTtmb3IobGV0IGE9MDthIT09cjsrK2EpdC5zZXRUZXh0dXJlMkRBcnJheShlW2FdfHxXbCxzW2FdKX1mdW5jdGlvbiBqXyhpKXtzd2l0Y2goaSl7Y2FzZSA1MTI2OnJldHVybiBUXztjYXNlIDM1NjY0OnJldHVybiBBXztjYXNlIDM1NjY1OnJldHVybiBDXztjYXNlIDM1NjY2OnJldHVybiBMXztjYXNlIDM1Njc0OnJldHVybiBSXztjYXNlIDM1Njc1OnJldHVybiBQXztjYXNlIDM1Njc2OnJldHVybiBJXztjYXNlIDUxMjQ6Y2FzZSAzNTY3MDpyZXR1cm4gTl87Y2FzZSAzNTY2NzpjYXNlIDM1NjcxOnJldHVybiBEXztjYXNlIDM1NjY4OmNhc2UgMzU2NzI6cmV0dXJuIE9fO2Nhc2UgMzU2Njk6Y2FzZSAzNTY3MzpyZXR1cm4gel87Y2FzZSA1MTI1OnJldHVybiBCXztjYXNlIDM2Mjk0OnJldHVybiBVXztjYXNlIDM2Mjk1OnJldHVybiBGXztjYXNlIDM2Mjk2OnJldHVybiBIXztjYXNlIDM1Njc4OmNhc2UgMzYxOTg6Y2FzZSAzNjI5ODpjYXNlIDM2MzA2OmNhc2UgMzU2ODI6cmV0dXJuIGtfO2Nhc2UgMzU2Nzk6Y2FzZSAzNjI5OTpjYXNlIDM2MzA3OnJldHVybiBHXztjYXNlIDM1NjgwOmNhc2UgMzYzMDA6Y2FzZSAzNjMwODpjYXNlIDM2MjkzOnJldHVybiBWXztjYXNlIDM2Mjg5OmNhc2UgMzYzMDM6Y2FzZSAzNjMxMTpjYXNlIDM2MjkyOnJldHVybiBXX319ZnVuY3Rpb24gcV8oaSxlLHQpe3RoaXMuaWQ9aSx0aGlzLmFkZHI9dCx0aGlzLmNhY2hlPVtdLHRoaXMuc2V0VmFsdWU9RV8oZS50eXBlKX1mdW5jdGlvbiBRbChpLGUsdCl7dGhpcy5pZD1pLHRoaXMuYWRkcj10LHRoaXMuY2FjaGU9W10sdGhpcy5zaXplPWUuc2l6ZSx0aGlzLnNldFZhbHVlPWpfKGUudHlwZSl9UWwucHJvdG90eXBlLnVwZGF0ZUNhY2hlPWZ1bmN0aW9uKGkpe2NvbnN0IGU9dGhpcy5jYWNoZTtpIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5JiZlLmxlbmd0aCE9PWkubGVuZ3RoJiYodGhpcy5jYWNoZT1uZXcgRmxvYXQzMkFycmF5KGkubGVuZ3RoKSksYnQoZSxpKX07ZnVuY3Rpb24gJGwoaSl7dGhpcy5pZD1pLHRoaXMuc2VxPVtdLHRoaXMubWFwPXt9fSRsLnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbihpLGUsdCl7Y29uc3Qgcj10aGlzLnNlcTtmb3IobGV0IHM9MCxhPXIubGVuZ3RoO3MhPT1hOysrcyl7Y29uc3Qgbj1yW3NdO24uc2V0VmFsdWUoaSxlW24uaWRdLHQpfX07Y29uc3QgbW89LyhcdyspKFxdKT8oXFt8XC4pPy9nO2Z1bmN0aW9uIGVjKGksZSl7aS5zZXEucHVzaChlKSxpLm1hcFtlLmlkXT1lfWZ1bmN0aW9uIFhfKGksZSx0KXtjb25zdCByPWkubmFtZSxzPXIubGVuZ3RoO2Zvcihtby5sYXN0SW5kZXg9MDs7KXtjb25zdCBhPW1vLmV4ZWMociksbj1tby5sYXN0SW5kZXg7bGV0IG89YVsxXTtjb25zdCBoPWFbMl09PT0iXSIsbD1hWzNdO2lmKGgmJihvPW98MCksbD09PXZvaWQgMHx8bD09PSJbIiYmbisyPT09cyl7ZWModCxsPT09dm9pZCAwP25ldyBxXyhvLGksZSk6bmV3IFFsKG8saSxlKSk7YnJlYWt9ZWxzZXtsZXQgYz10Lm1hcFtvXTtjPT09dm9pZCAwJiYoYz1uZXcgJGwobyksZWModCxjKSksdD1jfX19ZnVuY3Rpb24gSGkoaSxlKXt0aGlzLnNlcT1bXSx0aGlzLm1hcD17fTtjb25zdCB0PWkuZ2V0UHJvZ3JhbVBhcmFtZXRlcihlLDM1NzE4KTtmb3IobGV0IHI9MDtyPHQ7KytyKXtjb25zdCBzPWkuZ2V0QWN0aXZlVW5pZm9ybShlLHIpLGE9aS5nZXRVbmlmb3JtTG9jYXRpb24oZSxzLm5hbWUpO1hfKHMsYSx0aGlzKX19SGkucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKGksZSx0LHIpe2NvbnN0IHM9dGhpcy5tYXBbZV07cyE9PXZvaWQgMCYmcy5zZXRWYWx1ZShpLHQscil9LEhpLnByb3RvdHlwZS5zZXRPcHRpb25hbD1mdW5jdGlvbihpLGUsdCl7Y29uc3Qgcj1lW3RdO3IhPT12b2lkIDAmJnRoaXMuc2V0VmFsdWUoaSx0LHIpfSxIaS51cGxvYWQ9ZnVuY3Rpb24oaSxlLHQscil7Zm9yKGxldCBzPTAsYT1lLmxlbmd0aDtzIT09YTsrK3Mpe2NvbnN0IG49ZVtzXSxvPXRbbi5pZF07by5uZWVkc1VwZGF0ZSE9PSExJiZuLnNldFZhbHVlKGksby52YWx1ZSxyKX19LEhpLnNlcVdpdGhWYWx1ZT1mdW5jdGlvbihpLGUpe2NvbnN0IHQ9W107Zm9yKGxldCByPTAscz1pLmxlbmd0aDtyIT09czsrK3Ipe2NvbnN0IGE9aVtyXTthLmlkIGluIGUmJnQucHVzaChhKX1yZXR1cm4gdH07ZnVuY3Rpb24gdGMoaSxlLHQpe2NvbnN0IHI9aS5jcmVhdGVTaGFkZXIoZSk7cmV0dXJuIGkuc2hhZGVyU291cmNlKHIsdCksaS5jb21waWxlU2hhZGVyKHIpLHJ9bGV0IEpfPTA7ZnVuY3Rpb24gWV8oaSxlKXtjb25zdCB0PWkuc3BsaXQoYApgKSxyPVtdLHM9TWF0aC5tYXgoZS02LDApLGE9TWF0aC5taW4oZSs2LHQubGVuZ3RoKTtmb3IobGV0IG49cztuPGE7bisrKXIucHVzaChuKzErIjogIit0W25dKTtyZXR1cm4gci5qb2luKGAKYCl9ZnVuY3Rpb24gWl8oaSl7c3dpdGNoKGkpe2Nhc2UgX2k6cmV0dXJuWyJMaW5lYXIiLCIoIHZhbHVlICkiXTtjYXNlIFFlOnJldHVyblsic1JHQiIsIiggdmFsdWUgKSJdO2RlZmF1bHQ6cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xQcm9ncmFtOiBVbnN1cHBvcnRlZCBlbmNvZGluZzoiLGkpLFsiTGluZWFyIiwiKCB2YWx1ZSApIl19fWZ1bmN0aW9uIGljKGksZSx0KXtjb25zdCByPWkuZ2V0U2hhZGVyUGFyYW1ldGVyKGUsMzU3MTMpLHM9aS5nZXRTaGFkZXJJbmZvTG9nKGUpLnRyaW0oKTtpZihyJiZzPT09IiIpcmV0dXJuIiI7Y29uc3QgYT1wYXJzZUludCgvRVJST1I6IDA6KFxkKykvLmV4ZWMocylbMV0pO3JldHVybiB0LnRvVXBwZXJDYXNlKCkrYAoKYCtzK2AKCmArWV8oaS5nZXRTaGFkZXJTb3VyY2UoZSksYSl9ZnVuY3Rpb24gS18oaSxlKXtjb25zdCB0PVpfKGUpO3JldHVybiJ2ZWM0ICIraSsiKCB2ZWM0IHZhbHVlICkgeyByZXR1cm4gTGluZWFyVG8iK3RbMF0rdFsxXSsiOyB9In1mdW5jdGlvbiBRXyhpLGUpe2xldCB0O3N3aXRjaChlKXtjYXNlIF9nOnQ9IkxpbmVhciI7YnJlYWs7Y2FzZSB5Zzp0PSJSZWluaGFyZCI7YnJlYWs7Y2FzZSBNZzp0PSJPcHRpbWl6ZWRDaW5lb24iO2JyZWFrO2Nhc2UgYmc6dD0iQUNFU0ZpbG1pYyI7YnJlYWs7Y2FzZSB3Zzp0PSJDdXN0b20iO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFByb2dyYW06IFVuc3VwcG9ydGVkIHRvbmVNYXBwaW5nOiIsZSksdD0iTGluZWFyIn1yZXR1cm4idmVjMyAiK2krIiggdmVjMyBjb2xvciApIHsgcmV0dXJuICIrdCsiVG9uZU1hcHBpbmcoIGNvbG9yICk7IH0ifWZ1bmN0aW9uICRfKGkpe3JldHVybltpLmV4dGVuc2lvbkRlcml2YXRpdmVzfHwhIWkuZW52TWFwQ3ViZVVWSGVpZ2h0fHxpLmJ1bXBNYXB8fGkudGFuZ2VudFNwYWNlTm9ybWFsTWFwfHxpLmNsZWFyY29hdE5vcm1hbE1hcHx8aS5mbGF0U2hhZGluZ3x8aS5zaGFkZXJJRD09PSJwaHlzaWNhbCI/IiNleHRlbnNpb24gR0xfT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzIDogZW5hYmxlIjoiIiwoaS5leHRlbnNpb25GcmFnRGVwdGh8fGkubG9nYXJpdGhtaWNEZXB0aEJ1ZmZlcikmJmkucmVuZGVyZXJFeHRlbnNpb25GcmFnRGVwdGg/IiNleHRlbnNpb24gR0xfRVhUX2ZyYWdfZGVwdGggOiBlbmFibGUiOiIiLGkuZXh0ZW5zaW9uRHJhd0J1ZmZlcnMmJmkucmVuZGVyZXJFeHRlbnNpb25EcmF3QnVmZmVycz8iI2V4dGVuc2lvbiBHTF9FWFRfZHJhd19idWZmZXJzIDogcmVxdWlyZSI6IiIsKGkuZXh0ZW5zaW9uU2hhZGVyVGV4dHVyZUxPRHx8aS5lbnZNYXB8fGkudHJhbnNtaXNzaW9uKSYmaS5yZW5kZXJlckV4dGVuc2lvblNoYWRlclRleHR1cmVMb2Q/IiNleHRlbnNpb24gR0xfRVhUX3NoYWRlcl90ZXh0dXJlX2xvZCA6IGVuYWJsZSI6IiJdLmZpbHRlcihQcykuam9pbihgCmApfWZ1bmN0aW9uIGV5KGkpe2NvbnN0IGU9W107Zm9yKGNvbnN0IHQgaW4gaSl7Y29uc3Qgcj1pW3RdO3IhPT0hMSYmZS5wdXNoKCIjZGVmaW5lICIrdCsiICIrcil9cmV0dXJuIGUuam9pbihgCmApfWZ1bmN0aW9uIHR5KGksZSl7Y29uc3QgdD17fSxyPWkuZ2V0UHJvZ3JhbVBhcmFtZXRlcihlLDM1NzIxKTtmb3IobGV0IHM9MDtzPHI7cysrKXtjb25zdCBhPWkuZ2V0QWN0aXZlQXR0cmliKGUscyksbj1hLm5hbWU7bGV0IG89MTthLnR5cGU9PT0zNTY3NCYmKG89MiksYS50eXBlPT09MzU2NzUmJihvPTMpLGEudHlwZT09PTM1Njc2JiYobz00KSx0W25dPXt0eXBlOmEudHlwZSxsb2NhdGlvbjppLmdldEF0dHJpYkxvY2F0aW9uKGUsbiksbG9jYXRpb25TaXplOm99fXJldHVybiB0fWZ1bmN0aW9uIFBzKGkpe3JldHVybiBpIT09IiJ9ZnVuY3Rpb24gcmMoaSxlKXtyZXR1cm4gaS5yZXBsYWNlKC9OVU1fRElSX0xJR0hUUy9nLGUubnVtRGlyTGlnaHRzKS5yZXBsYWNlKC9OVU1fU1BPVF9MSUdIVFMvZyxlLm51bVNwb3RMaWdodHMpLnJlcGxhY2UoL05VTV9SRUNUX0FSRUFfTElHSFRTL2csZS5udW1SZWN0QXJlYUxpZ2h0cykucmVwbGFjZSgvTlVNX1BPSU5UX0xJR0hUUy9nLGUubnVtUG9pbnRMaWdodHMpLnJlcGxhY2UoL05VTV9IRU1JX0xJR0hUUy9nLGUubnVtSGVtaUxpZ2h0cykucmVwbGFjZSgvTlVNX0RJUl9MSUdIVF9TSEFET1dTL2csZS5udW1EaXJMaWdodFNoYWRvd3MpLnJlcGxhY2UoL05VTV9TUE9UX0xJR0hUX1NIQURPV1MvZyxlLm51bVNwb3RMaWdodFNoYWRvd3MpLnJlcGxhY2UoL05VTV9QT0lOVF9MSUdIVF9TSEFET1dTL2csZS5udW1Qb2ludExpZ2h0U2hhZG93cyl9ZnVuY3Rpb24gc2MoaSxlKXtyZXR1cm4gaS5yZXBsYWNlKC9OVU1fQ0xJUFBJTkdfUExBTkVTL2csZS5udW1DbGlwcGluZ1BsYW5lcykucmVwbGFjZSgvVU5JT05fQ0xJUFBJTkdfUExBTkVTL2csZS5udW1DbGlwcGluZ1BsYW5lcy1lLm51bUNsaXBJbnRlcnNlY3Rpb24pfWNvbnN0IGl5PS9eWyBcdF0qI2luY2x1ZGUgKzwoW1x3XGQuL10rKT4vZ207ZnVuY3Rpb24gZ28oaSl7cmV0dXJuIGkucmVwbGFjZShpeSxyeSl9ZnVuY3Rpb24gcnkoaSxlKXtjb25zdCB0PURlW2VdO2lmKHQ9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKCJDYW4gbm90IHJlc29sdmUgI2luY2x1ZGUgPCIrZSsiPiIpO3JldHVybiBnbyh0KX1jb25zdCBzeT0vI3ByYWdtYSB1bnJvbGxfbG9vcFtcc10rP2ZvciBcKCBpbnQgaSBcPSAoXGQrKVw7IGkgPCAoXGQrKVw7IGkgXCtcKyBcKSBceyhbXHNcU10rPykoPz1cfSlcfS9nLGF5PS8jcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0XHMrZm9yXHMqXChccyppbnRccytpXHMqPVxzKihcZCspXHMqO1xzKmlccyo8XHMqKFxkKylccyo7XHMqaVxzKlwrXCtccypcKVxzKnsoW1xzXFNdKz8pfVxzKyNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kL2c7ZnVuY3Rpb24gYWMoaSl7cmV0dXJuIGkucmVwbGFjZShheSxuYykucmVwbGFjZShzeSxueSl9ZnVuY3Rpb24gbnkoaSxlLHQscil7cmV0dXJuIGNvbnNvbGUud2FybigiV2ViR0xQcm9ncmFtOiAjcHJhZ21hIHVucm9sbF9sb29wIHNoYWRlciBzeW50YXggaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSAjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0IHN5bnRheCBpbnN0ZWFkLiIpLG5jKGksZSx0LHIpfWZ1bmN0aW9uIG5jKGksZSx0LHIpe2xldCBzPSIiO2ZvcihsZXQgYT1wYXJzZUludChlKTthPHBhcnNlSW50KHQpO2ErKylzKz1yLnJlcGxhY2UoL1xbXHMqaVxzKlxdL2csIlsgIithKyIgXSIpLnJlcGxhY2UoL1VOUk9MTEVEX0xPT1BfSU5ERVgvZyxhKTtyZXR1cm4gc31mdW5jdGlvbiBvYyhpKXtsZXQgZT0icHJlY2lzaW9uICIraS5wcmVjaXNpb24rYCBmbG9hdDsKcHJlY2lzaW9uIGAraS5wcmVjaXNpb24rIiBpbnQ7IjtyZXR1cm4gaS5wcmVjaXNpb249PT0iaGlnaHAiP2UrPWAKI2RlZmluZSBISUdIX1BSRUNJU0lPTmA6aS5wcmVjaXNpb249PT0ibWVkaXVtcCI/ZSs9YAojZGVmaW5lIE1FRElVTV9QUkVDSVNJT05gOmkucHJlY2lzaW9uPT09Imxvd3AiJiYoZSs9YAojZGVmaW5lIExPV19QUkVDSVNJT05gKSxlfWZ1bmN0aW9uIG95KGkpe2xldCBlPSJTSEFET1dNQVBfVFlQRV9CQVNJQyI7cmV0dXJuIGkuc2hhZG93TWFwVHlwZT09PU9oP2U9IlNIQURPV01BUF9UWVBFX1BDRiI6aS5zaGFkb3dNYXBUeXBlPT09S20/ZT0iU0hBRE9XTUFQX1RZUEVfUENGX1NPRlQiOmkuc2hhZG93TWFwVHlwZT09PWJzJiYoZT0iU0hBRE9XTUFQX1RZUEVfVlNNIiksZX1mdW5jdGlvbiBoeShpKXtsZXQgZT0iRU5WTUFQX1RZUEVfQ1VCRSI7aWYoaS5lbnZNYXApc3dpdGNoKGkuZW52TWFwTW9kZSl7Y2FzZSBicjpjYXNlIHdyOmU9IkVOVk1BUF9UWVBFX0NVQkUiO2JyZWFrO2Nhc2UgY2E6ZT0iRU5WTUFQX1RZUEVfQ1VCRV9VViI7YnJlYWt9cmV0dXJuIGV9ZnVuY3Rpb24gbHkoaSl7bGV0IGU9IkVOVk1BUF9NT0RFX1JFRkxFQ1RJT04iO2lmKGkuZW52TWFwKXN3aXRjaChpLmVudk1hcE1vZGUpe2Nhc2Ugd3I6ZT0iRU5WTUFQX01PREVfUkVGUkFDVElPTiI7YnJlYWt9cmV0dXJuIGV9ZnVuY3Rpb24gY3koaSl7bGV0IGU9IkVOVk1BUF9CTEVORElOR19OT05FIjtpZihpLmVudk1hcClzd2l0Y2goaS5jb21iaW5lKXtjYXNlIGxhOmU9IkVOVk1BUF9CTEVORElOR19NVUxUSVBMWSI7YnJlYWs7Y2FzZSB2ZzplPSJFTlZNQVBfQkxFTkRJTkdfTUlYIjticmVhaztjYXNlIHhnOmU9IkVOVk1BUF9CTEVORElOR19BREQiO2JyZWFrfXJldHVybiBlfWZ1bmN0aW9uIHV5KGkpe2NvbnN0IGU9aS5lbnZNYXBDdWJlVVZIZWlnaHQ7aWYoZT09PW51bGwpcmV0dXJuIG51bGw7Y29uc3QgdD1NYXRoLmxvZzIoZS8zMisxKSszLHI9MS9lO3JldHVybnt0ZXhlbFdpZHRoOjEvKDMqTWF0aC5tYXgoTWF0aC5wb3coMix0KSw3KjE2KSksdGV4ZWxIZWlnaHQ6cixtYXhNaXA6dH19ZnVuY3Rpb24gZHkoaSxlLHQscil7Y29uc3Qgcz1pLmdldENvbnRleHQoKSxhPXQuZGVmaW5lcztsZXQgbj10LnZlcnRleFNoYWRlcixvPXQuZnJhZ21lbnRTaGFkZXI7Y29uc3QgaD1veSh0KSxsPWh5KHQpLGM9bHkodCksdT1jeSh0KSxkPXV5KHQpLHA9dC5pc1dlYkdMMj8iIjokXyh0KSxnPWV5KGEpLGY9cy5jcmVhdGVQcm9ncmFtKCk7bGV0IG0sdix5PXQuZ2xzbFZlcnNpb24/IiN2ZXJzaW9uICIrdC5nbHNsVmVyc2lvbitgCmA6IiI7dC5pc1Jhd1NoYWRlck1hdGVyaWFsPyhtPVtnXS5maWx0ZXIoUHMpLmpvaW4oYApgKSxtLmxlbmd0aD4wJiYobSs9YApgKSx2PVtwLGddLmZpbHRlcihQcykuam9pbihgCmApLHYubGVuZ3RoPjAmJih2Kz1gCmApKToobT1bb2ModCksIiNkZWZpbmUgU0hBREVSX05BTUUgIit0LnNoYWRlck5hbWUsZyx0Lmluc3RhbmNpbmc/IiNkZWZpbmUgVVNFX0lOU1RBTkNJTkciOiIiLHQuaW5zdGFuY2luZ0NvbG9yPyIjZGVmaW5lIFVTRV9JTlNUQU5DSU5HX0NPTE9SIjoiIix0LnN1cHBvcnRzVmVydGV4VGV4dHVyZXM/IiNkZWZpbmUgVkVSVEVYX1RFWFRVUkVTIjoiIiwiI2RlZmluZSBNQVhfQk9ORVMgIit0Lm1heEJvbmVzLHQudXNlRm9nJiZ0LmZvZz8iI2RlZmluZSBVU0VfRk9HIjoiIix0LnVzZUZvZyYmdC5mb2dFeHAyPyIjZGVmaW5lIEZPR19FWFAyIjoiIix0Lm1hcD8iI2RlZmluZSBVU0VfTUFQIjoiIix0LmVudk1hcD8iI2RlZmluZSBVU0VfRU5WTUFQIjoiIix0LmVudk1hcD8iI2RlZmluZSAiK2M6IiIsdC5saWdodE1hcD8iI2RlZmluZSBVU0VfTElHSFRNQVAiOiIiLHQuYW9NYXA/IiNkZWZpbmUgVVNFX0FPTUFQIjoiIix0LmVtaXNzaXZlTWFwPyIjZGVmaW5lIFVTRV9FTUlTU0lWRU1BUCI6IiIsdC5idW1wTWFwPyIjZGVmaW5lIFVTRV9CVU1QTUFQIjoiIix0Lm5vcm1hbE1hcD8iI2RlZmluZSBVU0VfTk9STUFMTUFQIjoiIix0Lm5vcm1hbE1hcCYmdC5vYmplY3RTcGFjZU5vcm1hbE1hcD8iI2RlZmluZSBPQkpFQ1RTUEFDRV9OT1JNQUxNQVAiOiIiLHQubm9ybWFsTWFwJiZ0LnRhbmdlbnRTcGFjZU5vcm1hbE1hcD8iI2RlZmluZSBUQU5HRU5UU1BBQ0VfTk9STUFMTUFQIjoiIix0LmNsZWFyY29hdE1hcD8iI2RlZmluZSBVU0VfQ0xFQVJDT0FUTUFQIjoiIix0LmNsZWFyY29hdFJvdWdobmVzc01hcD8iI2RlZmluZSBVU0VfQ0xFQVJDT0FUX1JPVUdITkVTU01BUCI6IiIsdC5jbGVhcmNvYXROb3JtYWxNYXA/IiNkZWZpbmUgVVNFX0NMRUFSQ09BVF9OT1JNQUxNQVAiOiIiLHQuZGlzcGxhY2VtZW50TWFwJiZ0LnN1cHBvcnRzVmVydGV4VGV4dHVyZXM/IiNkZWZpbmUgVVNFX0RJU1BMQUNFTUVOVE1BUCI6IiIsdC5zcGVjdWxhck1hcD8iI2RlZmluZSBVU0VfU1BFQ1VMQVJNQVAiOiIiLHQuc3BlY3VsYXJJbnRlbnNpdHlNYXA/IiNkZWZpbmUgVVNFX1NQRUNVTEFSSU5URU5TSVRZTUFQIjoiIix0LnNwZWN1bGFyQ29sb3JNYXA/IiNkZWZpbmUgVVNFX1NQRUNVTEFSQ09MT1JNQVAiOiIiLHQucm91Z2huZXNzTWFwPyIjZGVmaW5lIFVTRV9ST1VHSE5FU1NNQVAiOiIiLHQubWV0YWxuZXNzTWFwPyIjZGVmaW5lIFVTRV9NRVRBTE5FU1NNQVAiOiIiLHQuYWxwaGFNYXA/IiNkZWZpbmUgVVNFX0FMUEhBTUFQIjoiIix0LnRyYW5zbWlzc2lvbj8iI2RlZmluZSBVU0VfVFJBTlNNSVNTSU9OIjoiIix0LnRyYW5zbWlzc2lvbk1hcD8iI2RlZmluZSBVU0VfVFJBTlNNSVNTSU9OTUFQIjoiIix0LnRoaWNrbmVzc01hcD8iI2RlZmluZSBVU0VfVEhJQ0tORVNTTUFQIjoiIix0LnNoZWVuQ29sb3JNYXA/IiNkZWZpbmUgVVNFX1NIRUVOQ09MT1JNQVAiOiIiLHQuc2hlZW5Sb3VnaG5lc3NNYXA/IiNkZWZpbmUgVVNFX1NIRUVOUk9VR0hORVNTTUFQIjoiIix0LnZlcnRleFRhbmdlbnRzPyIjZGVmaW5lIFVTRV9UQU5HRU5UIjoiIix0LnZlcnRleENvbG9ycz8iI2RlZmluZSBVU0VfQ09MT1IiOiIiLHQudmVydGV4QWxwaGFzPyIjZGVmaW5lIFVTRV9DT0xPUl9BTFBIQSI6IiIsdC52ZXJ0ZXhVdnM/IiNkZWZpbmUgVVNFX1VWIjoiIix0LnV2c1ZlcnRleE9ubHk/IiNkZWZpbmUgVVZTX1ZFUlRFWF9PTkxZIjoiIix0LmZsYXRTaGFkaW5nPyIjZGVmaW5lIEZMQVRfU0hBREVEIjoiIix0LnNraW5uaW5nPyIjZGVmaW5lIFVTRV9TS0lOTklORyI6IiIsdC51c2VWZXJ0ZXhUZXh0dXJlPyIjZGVmaW5lIEJPTkVfVEVYVFVSRSI6IiIsdC5tb3JwaFRhcmdldHM/IiNkZWZpbmUgVVNFX01PUlBIVEFSR0VUUyI6IiIsdC5tb3JwaE5vcm1hbHMmJnQuZmxhdFNoYWRpbmc9PT0hMT8iI2RlZmluZSBVU0VfTU9SUEhOT1JNQUxTIjoiIix0Lm1vcnBoQ29sb3JzJiZ0LmlzV2ViR0wyPyIjZGVmaW5lIFVTRV9NT1JQSENPTE9SUyI6IiIsdC5tb3JwaFRhcmdldHNDb3VudD4wJiZ0LmlzV2ViR0wyPyIjZGVmaW5lIE1PUlBIVEFSR0VUU19URVhUVVJFIjoiIix0Lm1vcnBoVGFyZ2V0c0NvdW50PjAmJnQuaXNXZWJHTDI/IiNkZWZpbmUgTU9SUEhUQVJHRVRTX1RFWFRVUkVfU1RSSURFICIrdC5tb3JwaFRleHR1cmVTdHJpZGU6IiIsdC5tb3JwaFRhcmdldHNDb3VudD4wJiZ0LmlzV2ViR0wyPyIjZGVmaW5lIE1PUlBIVEFSR0VUU19DT1VOVCAiK3QubW9ycGhUYXJnZXRzQ291bnQ6IiIsdC5kb3VibGVTaWRlZD8iI2RlZmluZSBET1VCTEVfU0lERUQiOiIiLHQuZmxpcFNpZGVkPyIjZGVmaW5lIEZMSVBfU0lERUQiOiIiLHQuc2hhZG93TWFwRW5hYmxlZD8iI2RlZmluZSBVU0VfU0hBRE9XTUFQIjoiIix0LnNoYWRvd01hcEVuYWJsZWQ/IiNkZWZpbmUgIitoOiIiLHQuc2l6ZUF0dGVudWF0aW9uPyIjZGVmaW5lIFVTRV9TSVpFQVRURU5VQVRJT04iOiIiLHQubG9nYXJpdGhtaWNEZXB0aEJ1ZmZlcj8iI2RlZmluZSBVU0VfTE9HREVQVEhCVUYiOiIiLHQubG9nYXJpdGhtaWNEZXB0aEJ1ZmZlciYmdC5yZW5kZXJlckV4dGVuc2lvbkZyYWdEZXB0aD8iI2RlZmluZSBVU0VfTE9HREVQVEhCVUZfRVhUIjoiIiwidW5pZm9ybSBtYXQ0IG1vZGVsTWF0cml4OyIsInVuaWZvcm0gbWF0NCBtb2RlbFZpZXdNYXRyaXg7IiwidW5pZm9ybSBtYXQ0IHByb2plY3Rpb25NYXRyaXg7IiwidW5pZm9ybSBtYXQ0IHZpZXdNYXRyaXg7IiwidW5pZm9ybSBtYXQzIG5vcm1hbE1hdHJpeDsiLCJ1bmlmb3JtIHZlYzMgY2FtZXJhUG9zaXRpb247IiwidW5pZm9ybSBib29sIGlzT3J0aG9ncmFwaGljOyIsIiNpZmRlZiBVU0VfSU5TVEFOQ0lORyIsIglhdHRyaWJ1dGUgbWF0NCBpbnN0YW5jZU1hdHJpeDsiLCIjZW5kaWYiLCIjaWZkZWYgVVNFX0lOU1RBTkNJTkdfQ09MT1IiLCIJYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VDb2xvcjsiLCIjZW5kaWYiLCJhdHRyaWJ1dGUgdmVjMyBwb3NpdGlvbjsiLCJhdHRyaWJ1dGUgdmVjMyBub3JtYWw7IiwiYXR0cmlidXRlIHZlYzIgdXY7IiwiI2lmZGVmIFVTRV9UQU5HRU5UIiwiCWF0dHJpYnV0ZSB2ZWM0IHRhbmdlbnQ7IiwiI2VuZGlmIiwiI2lmIGRlZmluZWQoIFVTRV9DT0xPUl9BTFBIQSApIiwiCWF0dHJpYnV0ZSB2ZWM0IGNvbG9yOyIsIiNlbGlmIGRlZmluZWQoIFVTRV9DT0xPUiApIiwiCWF0dHJpYnV0ZSB2ZWMzIGNvbG9yOyIsIiNlbmRpZiIsIiNpZiAoIGRlZmluZWQoIFVTRV9NT1JQSFRBUkdFVFMgKSAmJiAhIGRlZmluZWQoIE1PUlBIVEFSR0VUU19URVhUVVJFICkgKSIsIglhdHRyaWJ1dGUgdmVjMyBtb3JwaFRhcmdldDA7IiwiCWF0dHJpYnV0ZSB2ZWMzIG1vcnBoVGFyZ2V0MTsiLCIJYXR0cmlidXRlIHZlYzMgbW9ycGhUYXJnZXQyOyIsIglhdHRyaWJ1dGUgdmVjMyBtb3JwaFRhcmdldDM7IiwiCSNpZmRlZiBVU0VfTU9SUEhOT1JNQUxTIiwiCQlhdHRyaWJ1dGUgdmVjMyBtb3JwaE5vcm1hbDA7IiwiCQlhdHRyaWJ1dGUgdmVjMyBtb3JwaE5vcm1hbDE7IiwiCQlhdHRyaWJ1dGUgdmVjMyBtb3JwaE5vcm1hbDI7IiwiCQlhdHRyaWJ1dGUgdmVjMyBtb3JwaE5vcm1hbDM7IiwiCSNlbHNlIiwiCQlhdHRyaWJ1dGUgdmVjMyBtb3JwaFRhcmdldDQ7IiwiCQlhdHRyaWJ1dGUgdmVjMyBtb3JwaFRhcmdldDU7IiwiCQlhdHRyaWJ1dGUgdmVjMyBtb3JwaFRhcmdldDY7IiwiCQlhdHRyaWJ1dGUgdmVjMyBtb3JwaFRhcmdldDc7IiwiCSNlbmRpZiIsIiNlbmRpZiIsIiNpZmRlZiBVU0VfU0tJTk5JTkciLCIJYXR0cmlidXRlIHZlYzQgc2tpbkluZGV4OyIsIglhdHRyaWJ1dGUgdmVjNCBza2luV2VpZ2h0OyIsIiNlbmRpZiIsYApgXS5maWx0ZXIoUHMpLmpvaW4oYApgKSx2PVtwLG9jKHQpLCIjZGVmaW5lIFNIQURFUl9OQU1FICIrdC5zaGFkZXJOYW1lLGcsdC51c2VGb2cmJnQuZm9nPyIjZGVmaW5lIFVTRV9GT0ciOiIiLHQudXNlRm9nJiZ0LmZvZ0V4cDI/IiNkZWZpbmUgRk9HX0VYUDIiOiIiLHQubWFwPyIjZGVmaW5lIFVTRV9NQVAiOiIiLHQubWF0Y2FwPyIjZGVmaW5lIFVTRV9NQVRDQVAiOiIiLHQuZW52TWFwPyIjZGVmaW5lIFVTRV9FTlZNQVAiOiIiLHQuZW52TWFwPyIjZGVmaW5lICIrbDoiIix0LmVudk1hcD8iI2RlZmluZSAiK2M6IiIsdC5lbnZNYXA/IiNkZWZpbmUgIit1OiIiLGQ/IiNkZWZpbmUgQ1VCRVVWX1RFWEVMX1dJRFRIICIrZC50ZXhlbFdpZHRoOiIiLGQ/IiNkZWZpbmUgQ1VCRVVWX1RFWEVMX0hFSUdIVCAiK2QudGV4ZWxIZWlnaHQ6IiIsZD8iI2RlZmluZSBDVUJFVVZfTUFYX01JUCAiK2QubWF4TWlwKyIuMCI6IiIsdC5saWdodE1hcD8iI2RlZmluZSBVU0VfTElHSFRNQVAiOiIiLHQuYW9NYXA/IiNkZWZpbmUgVVNFX0FPTUFQIjoiIix0LmVtaXNzaXZlTWFwPyIjZGVmaW5lIFVTRV9FTUlTU0lWRU1BUCI6IiIsdC5idW1wTWFwPyIjZGVmaW5lIFVTRV9CVU1QTUFQIjoiIix0Lm5vcm1hbE1hcD8iI2RlZmluZSBVU0VfTk9STUFMTUFQIjoiIix0Lm5vcm1hbE1hcCYmdC5vYmplY3RTcGFjZU5vcm1hbE1hcD8iI2RlZmluZSBPQkpFQ1RTUEFDRV9OT1JNQUxNQVAiOiIiLHQubm9ybWFsTWFwJiZ0LnRhbmdlbnRTcGFjZU5vcm1hbE1hcD8iI2RlZmluZSBUQU5HRU5UU1BBQ0VfTk9STUFMTUFQIjoiIix0LmNsZWFyY29hdD8iI2RlZmluZSBVU0VfQ0xFQVJDT0FUIjoiIix0LmNsZWFyY29hdE1hcD8iI2RlZmluZSBVU0VfQ0xFQVJDT0FUTUFQIjoiIix0LmNsZWFyY29hdFJvdWdobmVzc01hcD8iI2RlZmluZSBVU0VfQ0xFQVJDT0FUX1JPVUdITkVTU01BUCI6IiIsdC5jbGVhcmNvYXROb3JtYWxNYXA/IiNkZWZpbmUgVVNFX0NMRUFSQ09BVF9OT1JNQUxNQVAiOiIiLHQuc3BlY3VsYXJNYXA/IiNkZWZpbmUgVVNFX1NQRUNVTEFSTUFQIjoiIix0LnNwZWN1bGFySW50ZW5zaXR5TWFwPyIjZGVmaW5lIFVTRV9TUEVDVUxBUklOVEVOU0lUWU1BUCI6IiIsdC5zcGVjdWxhckNvbG9yTWFwPyIjZGVmaW5lIFVTRV9TUEVDVUxBUkNPTE9STUFQIjoiIix0LnJvdWdobmVzc01hcD8iI2RlZmluZSBVU0VfUk9VR0hORVNTTUFQIjoiIix0Lm1ldGFsbmVzc01hcD8iI2RlZmluZSBVU0VfTUVUQUxORVNTTUFQIjoiIix0LmFscGhhTWFwPyIjZGVmaW5lIFVTRV9BTFBIQU1BUCI6IiIsdC5hbHBoYVRlc3Q/IiNkZWZpbmUgVVNFX0FMUEhBVEVTVCI6IiIsdC5zaGVlbj8iI2RlZmluZSBVU0VfU0hFRU4iOiIiLHQuc2hlZW5Db2xvck1hcD8iI2RlZmluZSBVU0VfU0hFRU5DT0xPUk1BUCI6IiIsdC5zaGVlblJvdWdobmVzc01hcD8iI2RlZmluZSBVU0VfU0hFRU5ST1VHSE5FU1NNQVAiOiIiLHQudHJhbnNtaXNzaW9uPyIjZGVmaW5lIFVTRV9UUkFOU01JU1NJT04iOiIiLHQudHJhbnNtaXNzaW9uTWFwPyIjZGVmaW5lIFVTRV9UUkFOU01JU1NJT05NQVAiOiIiLHQudGhpY2tuZXNzTWFwPyIjZGVmaW5lIFVTRV9USElDS05FU1NNQVAiOiIiLHQuZGVjb2RlVmlkZW9UZXh0dXJlPyIjZGVmaW5lIERFQ09ERV9WSURFT19URVhUVVJFIjoiIix0LnZlcnRleFRhbmdlbnRzPyIjZGVmaW5lIFVTRV9UQU5HRU5UIjoiIix0LnZlcnRleENvbG9yc3x8dC5pbnN0YW5jaW5nQ29sb3I/IiNkZWZpbmUgVVNFX0NPTE9SIjoiIix0LnZlcnRleEFscGhhcz8iI2RlZmluZSBVU0VfQ09MT1JfQUxQSEEiOiIiLHQudmVydGV4VXZzPyIjZGVmaW5lIFVTRV9VViI6IiIsdC51dnNWZXJ0ZXhPbmx5PyIjZGVmaW5lIFVWU19WRVJURVhfT05MWSI6IiIsdC5ncmFkaWVudE1hcD8iI2RlZmluZSBVU0VfR1JBRElFTlRNQVAiOiIiLHQuZmxhdFNoYWRpbmc/IiNkZWZpbmUgRkxBVF9TSEFERUQiOiIiLHQuZG91YmxlU2lkZWQ/IiNkZWZpbmUgRE9VQkxFX1NJREVEIjoiIix0LmZsaXBTaWRlZD8iI2RlZmluZSBGTElQX1NJREVEIjoiIix0LnNoYWRvd01hcEVuYWJsZWQ/IiNkZWZpbmUgVVNFX1NIQURPV01BUCI6IiIsdC5zaGFkb3dNYXBFbmFibGVkPyIjZGVmaW5lICIraDoiIix0LnByZW11bHRpcGxpZWRBbHBoYT8iI2RlZmluZSBQUkVNVUxUSVBMSUVEX0FMUEhBIjoiIix0LnBoeXNpY2FsbHlDb3JyZWN0TGlnaHRzPyIjZGVmaW5lIFBIWVNJQ0FMTFlfQ09SUkVDVF9MSUdIVFMiOiIiLHQubG9nYXJpdGhtaWNEZXB0aEJ1ZmZlcj8iI2RlZmluZSBVU0VfTE9HREVQVEhCVUYiOiIiLHQubG9nYXJpdGhtaWNEZXB0aEJ1ZmZlciYmdC5yZW5kZXJlckV4dGVuc2lvbkZyYWdEZXB0aD8iI2RlZmluZSBVU0VfTE9HREVQVEhCVUZfRVhUIjoiIiwidW5pZm9ybSBtYXQ0IHZpZXdNYXRyaXg7IiwidW5pZm9ybSB2ZWMzIGNhbWVyYVBvc2l0aW9uOyIsInVuaWZvcm0gYm9vbCBpc09ydGhvZ3JhcGhpYzsiLHQudG9uZU1hcHBpbmchPT14aT8iI2RlZmluZSBUT05FX01BUFBJTkciOiIiLHQudG9uZU1hcHBpbmchPT14aT9EZS50b25lbWFwcGluZ19wYXJzX2ZyYWdtZW50OiIiLHQudG9uZU1hcHBpbmchPT14aT9RXygidG9uZU1hcHBpbmciLHQudG9uZU1hcHBpbmcpOiIiLHQuZGl0aGVyaW5nPyIjZGVmaW5lIERJVEhFUklORyI6IiIsdC5vcGFxdWU/IiNkZWZpbmUgT1BBUVVFIjoiIixEZS5lbmNvZGluZ3NfcGFyc19mcmFnbWVudCxLXygibGluZWFyVG9PdXRwdXRUZXhlbCIsdC5vdXRwdXRFbmNvZGluZyksdC5kZXB0aFBhY2tpbmc/IiNkZWZpbmUgREVQVEhfUEFDS0lORyAiK3QuZGVwdGhQYWNraW5nOiIiLGAKYF0uZmlsdGVyKFBzKS5qb2luKGAKYCkpLG49Z28obiksbj1yYyhuLHQpLG49c2Mobix0KSxvPWdvKG8pLG89cmMobyx0KSxvPXNjKG8sdCksbj1hYyhuKSxvPWFjKG8pLHQuaXNXZWJHTDImJnQuaXNSYXdTaGFkZXJNYXRlcmlhbCE9PSEwJiYoeT1gI3ZlcnNpb24gMzAwIGVzCmAsbT1bInByZWNpc2lvbiBtZWRpdW1wIHNhbXBsZXIyREFycmF5OyIsIiNkZWZpbmUgYXR0cmlidXRlIGluIiwiI2RlZmluZSB2YXJ5aW5nIG91dCIsIiNkZWZpbmUgdGV4dHVyZTJEIHRleHR1cmUiXS5qb2luKGAKYCkrYApgK20sdj1bIiNkZWZpbmUgdmFyeWluZyBpbiIsdC5nbHNsVmVyc2lvbj09PW1sPyIiOiJsYXlvdXQobG9jYXRpb24gPSAwKSBvdXQgaGlnaHAgdmVjNCBwY19mcmFnQ29sb3I7Iix0Lmdsc2xWZXJzaW9uPT09bWw/IiI6IiNkZWZpbmUgZ2xfRnJhZ0NvbG9yIHBjX2ZyYWdDb2xvciIsIiNkZWZpbmUgZ2xfRnJhZ0RlcHRoRVhUIGdsX0ZyYWdEZXB0aCIsIiNkZWZpbmUgdGV4dHVyZTJEIHRleHR1cmUiLCIjZGVmaW5lIHRleHR1cmVDdWJlIHRleHR1cmUiLCIjZGVmaW5lIHRleHR1cmUyRFByb2ogdGV4dHVyZVByb2oiLCIjZGVmaW5lIHRleHR1cmUyRExvZEVYVCB0ZXh0dXJlTG9kIiwiI2RlZmluZSB0ZXh0dXJlMkRQcm9qTG9kRVhUIHRleHR1cmVQcm9qTG9kIiwiI2RlZmluZSB0ZXh0dXJlQ3ViZUxvZEVYVCB0ZXh0dXJlTG9kIiwiI2RlZmluZSB0ZXh0dXJlMkRHcmFkRVhUIHRleHR1cmVHcmFkIiwiI2RlZmluZSB0ZXh0dXJlMkRQcm9qR3JhZEVYVCB0ZXh0dXJlUHJvakdyYWQiLCIjZGVmaW5lIHRleHR1cmVDdWJlR3JhZEVYVCB0ZXh0dXJlR3JhZCJdLmpvaW4oYApgKStgCmArdik7Y29uc3QgVD15K20rbix3PXkrditvLGI9dGMocywzNTYzMyxUKSxMPXRjKHMsMzU2MzIsdyk7aWYocy5hdHRhY2hTaGFkZXIoZixiKSxzLmF0dGFjaFNoYWRlcihmLEwpLHQuaW5kZXgwQXR0cmlidXRlTmFtZSE9PXZvaWQgMD9zLmJpbmRBdHRyaWJMb2NhdGlvbihmLDAsdC5pbmRleDBBdHRyaWJ1dGVOYW1lKTp0Lm1vcnBoVGFyZ2V0cz09PSEwJiZzLmJpbmRBdHRyaWJMb2NhdGlvbihmLDAsInBvc2l0aW9uIikscy5saW5rUHJvZ3JhbShmKSxpLmRlYnVnLmNoZWNrU2hhZGVyRXJyb3JzKXtjb25zdCBpZT1zLmdldFByb2dyYW1JbmZvTG9nKGYpLnRyaW0oKSxPPXMuZ2V0U2hhZGVySW5mb0xvZyhiKS50cmltKCkseD1zLmdldFNoYWRlckluZm9Mb2coTCkudHJpbSgpO2xldCBDPSEwLFk9ITA7aWYocy5nZXRQcm9ncmFtUGFyYW1ldGVyKGYsMzU3MTQpPT09ITEpe0M9ITE7Y29uc3QgTj1pYyhzLGIsInZlcnRleCIpLFU9aWMocyxMLCJmcmFnbWVudCIpO2NvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMUHJvZ3JhbTogU2hhZGVyIEVycm9yICIrcy5nZXRFcnJvcigpKyIgLSBWQUxJREFURV9TVEFUVVMgIitzLmdldFByb2dyYW1QYXJhbWV0ZXIoZiwzNTcxNSkrYAoKUHJvZ3JhbSBJbmZvIExvZzogYCtpZStgCmArTitgCmArVSl9ZWxzZSBpZSE9PSIiP2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xQcm9ncmFtOiBQcm9ncmFtIEluZm8gTG9nOiIsaWUpOihPPT09IiJ8fHg9PT0iIikmJihZPSExKTtZJiYodGhpcy5kaWFnbm9zdGljcz17cnVubmFibGU6Qyxwcm9ncmFtTG9nOmllLHZlcnRleFNoYWRlcjp7bG9nOk8scHJlZml4Om19LGZyYWdtZW50U2hhZGVyOntsb2c6eCxwcmVmaXg6dn19KX1zLmRlbGV0ZVNoYWRlcihiKSxzLmRlbGV0ZVNoYWRlcihMKTtsZXQgUDt0aGlzLmdldFVuaWZvcm1zPWZ1bmN0aW9uKCl7cmV0dXJuIFA9PT12b2lkIDAmJihQPW5ldyBIaShzLGYpKSxQfTtsZXQgaztyZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGVzPWZ1bmN0aW9uKCl7cmV0dXJuIGs9PT12b2lkIDAmJihrPXR5KHMsZikpLGt9LHRoaXMuZGVzdHJveT1mdW5jdGlvbigpe3IucmVsZWFzZVN0YXRlc09mUHJvZ3JhbSh0aGlzKSxzLmRlbGV0ZVByb2dyYW0oZiksdGhpcy5wcm9ncmFtPXZvaWQgMH0sdGhpcy5uYW1lPXQuc2hhZGVyTmFtZSx0aGlzLmlkPUpfKyssdGhpcy5jYWNoZUtleT1lLHRoaXMudXNlZFRpbWVzPTEsdGhpcy5wcm9ncmFtPWYsdGhpcy52ZXJ0ZXhTaGFkZXI9Yix0aGlzLmZyYWdtZW50U2hhZGVyPUwsdGhpc31sZXQgcHk9MDtjbGFzcyBmeXtjb25zdHJ1Y3Rvcigpe3RoaXMuc2hhZGVyQ2FjaGU9bmV3IE1hcCx0aGlzLm1hdGVyaWFsQ2FjaGU9bmV3IE1hcH11cGRhdGUoZSl7Y29uc3QgdD1lLnZlcnRleFNoYWRlcixyPWUuZnJhZ21lbnRTaGFkZXIscz10aGlzLl9nZXRTaGFkZXJTdGFnZSh0KSxhPXRoaXMuX2dldFNoYWRlclN0YWdlKHIpLG49dGhpcy5fZ2V0U2hhZGVyQ2FjaGVGb3JNYXRlcmlhbChlKTtyZXR1cm4gbi5oYXMocyk9PT0hMSYmKG4uYWRkKHMpLHMudXNlZFRpbWVzKyspLG4uaGFzKGEpPT09ITEmJihuLmFkZChhKSxhLnVzZWRUaW1lcysrKSx0aGlzfXJlbW92ZShlKXtjb25zdCB0PXRoaXMubWF0ZXJpYWxDYWNoZS5nZXQoZSk7Zm9yKGNvbnN0IHIgb2YgdClyLnVzZWRUaW1lcy0tLHIudXNlZFRpbWVzPT09MCYmdGhpcy5zaGFkZXJDYWNoZS5kZWxldGUoci5jb2RlKTtyZXR1cm4gdGhpcy5tYXRlcmlhbENhY2hlLmRlbGV0ZShlKSx0aGlzfWdldFZlcnRleFNoYWRlcklEKGUpe3JldHVybiB0aGlzLl9nZXRTaGFkZXJTdGFnZShlLnZlcnRleFNoYWRlcikuaWR9Z2V0RnJhZ21lbnRTaGFkZXJJRChlKXtyZXR1cm4gdGhpcy5fZ2V0U2hhZGVyU3RhZ2UoZS5mcmFnbWVudFNoYWRlcikuaWR9ZGlzcG9zZSgpe3RoaXMuc2hhZGVyQ2FjaGUuY2xlYXIoKSx0aGlzLm1hdGVyaWFsQ2FjaGUuY2xlYXIoKX1fZ2V0U2hhZGVyQ2FjaGVGb3JNYXRlcmlhbChlKXtjb25zdCB0PXRoaXMubWF0ZXJpYWxDYWNoZTtyZXR1cm4gdC5oYXMoZSk9PT0hMSYmdC5zZXQoZSxuZXcgU2V0KSx0LmdldChlKX1fZ2V0U2hhZGVyU3RhZ2UoZSl7Y29uc3QgdD10aGlzLnNoYWRlckNhY2hlO2lmKHQuaGFzKGUpPT09ITEpe2NvbnN0IHI9bmV3IG15KGUpO3Quc2V0KGUscil9cmV0dXJuIHQuZ2V0KGUpfX1jbGFzcyBteXtjb25zdHJ1Y3RvcihlKXt0aGlzLmlkPXB5KyssdGhpcy5jb2RlPWUsdGhpcy51c2VkVGltZXM9MH19ZnVuY3Rpb24gZ3koaSxlLHQscixzLGEsbil7Y29uc3Qgbz1uZXcgU2wsaD1uZXcgZnksbD1bXSxjPXMuaXNXZWJHTDIsdT1zLmxvZ2FyaXRobWljRGVwdGhCdWZmZXIsZD1zLmZsb2F0VmVydGV4VGV4dHVyZXMscD1zLm1heFZlcnRleFVuaWZvcm1zLGc9cy52ZXJ0ZXhUZXh0dXJlcztsZXQgZj1zLnByZWNpc2lvbjtjb25zdCBtPXtNZXNoRGVwdGhNYXRlcmlhbDoiZGVwdGgiLE1lc2hEaXN0YW5jZU1hdGVyaWFsOiJkaXN0YW5jZVJHQkEiLE1lc2hOb3JtYWxNYXRlcmlhbDoibm9ybWFsIixNZXNoQmFzaWNNYXRlcmlhbDoiYmFzaWMiLE1lc2hMYW1iZXJ0TWF0ZXJpYWw6ImxhbWJlcnQiLE1lc2hQaG9uZ01hdGVyaWFsOiJwaG9uZyIsTWVzaFRvb25NYXRlcmlhbDoidG9vbiIsTWVzaFN0YW5kYXJkTWF0ZXJpYWw6InBoeXNpY2FsIixNZXNoUGh5c2ljYWxNYXRlcmlhbDoicGh5c2ljYWwiLE1lc2hNYXRjYXBNYXRlcmlhbDoibWF0Y2FwIixMaW5lQmFzaWNNYXRlcmlhbDoiYmFzaWMiLExpbmVEYXNoZWRNYXRlcmlhbDoiZGFzaGVkIixQb2ludHNNYXRlcmlhbDoicG9pbnRzIixTaGFkb3dNYXRlcmlhbDoic2hhZG93IixTcHJpdGVNYXRlcmlhbDoic3ByaXRlIn07ZnVuY3Rpb24gdih4KXtjb25zdCBDPXguc2tlbGV0b24uYm9uZXM7aWYoZClyZXR1cm4gMTAyNDt7Y29uc3QgWT1NYXRoLmZsb29yKChwLTIwKS80KSxOPU1hdGgubWluKFksQy5sZW5ndGgpO3JldHVybiBOPEMubGVuZ3RoPyhjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IFNrZWxldG9uIGhhcyAiK0MubGVuZ3RoKyIgYm9uZXMuIFRoaXMgR1BVIHN1cHBvcnRzICIrTisiLiIpLDApOk59fWZ1bmN0aW9uIHkoeCxDLFksTixVKXtjb25zdCBCPU4uZm9nLEc9VS5nZW9tZXRyeSxSPXguaXNNZXNoU3RhbmRhcmRNYXRlcmlhbD9OLmVudmlyb25tZW50Om51bGwsWD0oeC5pc01lc2hTdGFuZGFyZE1hdGVyaWFsP3Q6ZSkuZ2V0KHguZW52TWFwfHxSKSxKPSEhWCYmWC5tYXBwaW5nPT09Y2E/WC5pbWFnZS5oZWlnaHQ6bnVsbCx0ZT1tW3gudHlwZV0sUT1VLmlzU2tpbm5lZE1lc2g/dihVKTowO3gucHJlY2lzaW9uIT09bnVsbCYmKGY9cy5nZXRNYXhQcmVjaXNpb24oeC5wcmVjaXNpb24pLGYhPT14LnByZWNpc2lvbiYmY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFByb2dyYW0uZ2V0UGFyYW1ldGVyczoiLHgucHJlY2lzaW9uLCJub3Qgc3VwcG9ydGVkLCB1c2luZyIsZiwiaW5zdGVhZC4iKSk7Y29uc3QgdmU9Ry5tb3JwaEF0dHJpYnV0ZXMucG9zaXRpb258fEcubW9ycGhBdHRyaWJ1dGVzLm5vcm1hbHx8Ry5tb3JwaEF0dHJpYnV0ZXMuY29sb3IsemU9dmUhPT12b2lkIDA/dmUubGVuZ3RoOjA7bGV0IGJlPTA7Ry5tb3JwaEF0dHJpYnV0ZXMucG9zaXRpb24hPT12b2lkIDAmJihiZT0xKSxHLm1vcnBoQXR0cmlidXRlcy5ub3JtYWwhPT12b2lkIDAmJihiZT0yKSxHLm1vcnBoQXR0cmlidXRlcy5jb2xvciE9PXZvaWQgMCYmKGJlPTMpO2xldCBWLFplLE9lLHllO2lmKHRlKXtjb25zdCBxPWFpW3RlXTtWPXEudmVydGV4U2hhZGVyLFplPXEuZnJhZ21lbnRTaGFkZXJ9ZWxzZSBWPXgudmVydGV4U2hhZGVyLFplPXguZnJhZ21lbnRTaGFkZXIsaC51cGRhdGUoeCksT2U9aC5nZXRWZXJ0ZXhTaGFkZXJJRCh4KSx5ZT1oLmdldEZyYWdtZW50U2hhZGVySUQoeCk7Y29uc3QgcmU9aS5nZXRSZW5kZXJUYXJnZXQoKSxaPXguYWxwaGFUZXN0PjAsaj14LmNsZWFyY29hdD4wO3JldHVybntpc1dlYkdMMjpjLHNoYWRlcklEOnRlLHNoYWRlck5hbWU6eC50eXBlLHZlcnRleFNoYWRlcjpWLGZyYWdtZW50U2hhZGVyOlplLGRlZmluZXM6eC5kZWZpbmVzLGN1c3RvbVZlcnRleFNoYWRlcklEOk9lLGN1c3RvbUZyYWdtZW50U2hhZGVySUQ6eWUsaXNSYXdTaGFkZXJNYXRlcmlhbDp4LmlzUmF3U2hhZGVyTWF0ZXJpYWw9PT0hMCxnbHNsVmVyc2lvbjp4Lmdsc2xWZXJzaW9uLHByZWNpc2lvbjpmLGluc3RhbmNpbmc6VS5pc0luc3RhbmNlZE1lc2g9PT0hMCxpbnN0YW5jaW5nQ29sb3I6VS5pc0luc3RhbmNlZE1lc2g9PT0hMCYmVS5pbnN0YW5jZUNvbG9yIT09bnVsbCxzdXBwb3J0c1ZlcnRleFRleHR1cmVzOmcsb3V0cHV0RW5jb2Rpbmc6cmU9PT1udWxsP2kub3V0cHV0RW5jb2Rpbmc6cmUuaXNYUlJlbmRlclRhcmdldD09PSEwP3JlLnRleHR1cmUuZW5jb2Rpbmc6X2ksbWFwOiEheC5tYXAsbWF0Y2FwOiEheC5tYXRjYXAsZW52TWFwOiEhWCxlbnZNYXBNb2RlOlgmJlgubWFwcGluZyxlbnZNYXBDdWJlVVZIZWlnaHQ6SixsaWdodE1hcDohIXgubGlnaHRNYXAsYW9NYXA6ISF4LmFvTWFwLGVtaXNzaXZlTWFwOiEheC5lbWlzc2l2ZU1hcCxidW1wTWFwOiEheC5idW1wTWFwLG5vcm1hbE1hcDohIXgubm9ybWFsTWFwLG9iamVjdFNwYWNlTm9ybWFsTWFwOngubm9ybWFsTWFwVHlwZT09PXFnLHRhbmdlbnRTcGFjZU5vcm1hbE1hcDp4Lm5vcm1hbE1hcFR5cGU9PT1McixkZWNvZGVWaWRlb1RleHR1cmU6ISF4Lm1hcCYmeC5tYXAuaXNWaWRlb1RleHR1cmU9PT0hMCYmeC5tYXAuZW5jb2Rpbmc9PT1RZSxjbGVhcmNvYXQ6aixjbGVhcmNvYXRNYXA6aiYmISF4LmNsZWFyY29hdE1hcCxjbGVhcmNvYXRSb3VnaG5lc3NNYXA6aiYmISF4LmNsZWFyY29hdFJvdWdobmVzc01hcCxjbGVhcmNvYXROb3JtYWxNYXA6aiYmISF4LmNsZWFyY29hdE5vcm1hbE1hcCxkaXNwbGFjZW1lbnRNYXA6ISF4LmRpc3BsYWNlbWVudE1hcCxyb3VnaG5lc3NNYXA6ISF4LnJvdWdobmVzc01hcCxtZXRhbG5lc3NNYXA6ISF4Lm1ldGFsbmVzc01hcCxzcGVjdWxhck1hcDohIXguc3BlY3VsYXJNYXAsc3BlY3VsYXJJbnRlbnNpdHlNYXA6ISF4LnNwZWN1bGFySW50ZW5zaXR5TWFwLHNwZWN1bGFyQ29sb3JNYXA6ISF4LnNwZWN1bGFyQ29sb3JNYXAsb3BhcXVlOngudHJhbnNwYXJlbnQ9PT0hMSYmeC5ibGVuZGluZz09PXlyLGFscGhhTWFwOiEheC5hbHBoYU1hcCxhbHBoYVRlc3Q6WixncmFkaWVudE1hcDohIXguZ3JhZGllbnRNYXAsc2hlZW46eC5zaGVlbj4wLHNoZWVuQ29sb3JNYXA6ISF4LnNoZWVuQ29sb3JNYXAsc2hlZW5Sb3VnaG5lc3NNYXA6ISF4LnNoZWVuUm91Z2huZXNzTWFwLHRyYW5zbWlzc2lvbjp4LnRyYW5zbWlzc2lvbj4wLHRyYW5zbWlzc2lvbk1hcDohIXgudHJhbnNtaXNzaW9uTWFwLHRoaWNrbmVzc01hcDohIXgudGhpY2tuZXNzTWFwLGNvbWJpbmU6eC5jb21iaW5lLHZlcnRleFRhbmdlbnRzOiEheC5ub3JtYWxNYXAmJiEhRy5hdHRyaWJ1dGVzLnRhbmdlbnQsdmVydGV4Q29sb3JzOngudmVydGV4Q29sb3JzLHZlcnRleEFscGhhczp4LnZlcnRleENvbG9ycz09PSEwJiYhIUcuYXR0cmlidXRlcy5jb2xvciYmRy5hdHRyaWJ1dGVzLmNvbG9yLml0ZW1TaXplPT09NCx2ZXJ0ZXhVdnM6ISF4Lm1hcHx8ISF4LmJ1bXBNYXB8fCEheC5ub3JtYWxNYXB8fCEheC5zcGVjdWxhck1hcHx8ISF4LmFscGhhTWFwfHwhIXguZW1pc3NpdmVNYXB8fCEheC5yb3VnaG5lc3NNYXB8fCEheC5tZXRhbG5lc3NNYXB8fCEheC5jbGVhcmNvYXRNYXB8fCEheC5jbGVhcmNvYXRSb3VnaG5lc3NNYXB8fCEheC5jbGVhcmNvYXROb3JtYWxNYXB8fCEheC5kaXNwbGFjZW1lbnRNYXB8fCEheC50cmFuc21pc3Npb25NYXB8fCEheC50aGlja25lc3NNYXB8fCEheC5zcGVjdWxhckludGVuc2l0eU1hcHx8ISF4LnNwZWN1bGFyQ29sb3JNYXB8fCEheC5zaGVlbkNvbG9yTWFwfHwhIXguc2hlZW5Sb3VnaG5lc3NNYXAsdXZzVmVydGV4T25seTohKCEheC5tYXB8fCEheC5idW1wTWFwfHwhIXgubm9ybWFsTWFwfHwhIXguc3BlY3VsYXJNYXB8fCEheC5hbHBoYU1hcHx8ISF4LmVtaXNzaXZlTWFwfHwhIXgucm91Z2huZXNzTWFwfHwhIXgubWV0YWxuZXNzTWFwfHwhIXguY2xlYXJjb2F0Tm9ybWFsTWFwfHx4LnRyYW5zbWlzc2lvbj4wfHwhIXgudHJhbnNtaXNzaW9uTWFwfHwhIXgudGhpY2tuZXNzTWFwfHwhIXguc3BlY3VsYXJJbnRlbnNpdHlNYXB8fCEheC5zcGVjdWxhckNvbG9yTWFwfHx4LnNoZWVuPjB8fCEheC5zaGVlbkNvbG9yTWFwfHwhIXguc2hlZW5Sb3VnaG5lc3NNYXApJiYhIXguZGlzcGxhY2VtZW50TWFwLGZvZzohIUIsdXNlRm9nOnguZm9nLGZvZ0V4cDI6QiYmQi5pc0ZvZ0V4cDIsZmxhdFNoYWRpbmc6ISF4LmZsYXRTaGFkaW5nLHNpemVBdHRlbnVhdGlvbjp4LnNpemVBdHRlbnVhdGlvbixsb2dhcml0aG1pY0RlcHRoQnVmZmVyOnUsc2tpbm5pbmc6VS5pc1NraW5uZWRNZXNoPT09ITAmJlE+MCxtYXhCb25lczpRLHVzZVZlcnRleFRleHR1cmU6ZCxtb3JwaFRhcmdldHM6Ry5tb3JwaEF0dHJpYnV0ZXMucG9zaXRpb24hPT12b2lkIDAsbW9ycGhOb3JtYWxzOkcubW9ycGhBdHRyaWJ1dGVzLm5vcm1hbCE9PXZvaWQgMCxtb3JwaENvbG9yczpHLm1vcnBoQXR0cmlidXRlcy5jb2xvciE9PXZvaWQgMCxtb3JwaFRhcmdldHNDb3VudDp6ZSxtb3JwaFRleHR1cmVTdHJpZGU6YmUsbnVtRGlyTGlnaHRzOkMuZGlyZWN0aW9uYWwubGVuZ3RoLG51bVBvaW50TGlnaHRzOkMucG9pbnQubGVuZ3RoLG51bVNwb3RMaWdodHM6Qy5zcG90Lmxlbmd0aCxudW1SZWN0QXJlYUxpZ2h0czpDLnJlY3RBcmVhLmxlbmd0aCxudW1IZW1pTGlnaHRzOkMuaGVtaS5sZW5ndGgsbnVtRGlyTGlnaHRTaGFkb3dzOkMuZGlyZWN0aW9uYWxTaGFkb3dNYXAubGVuZ3RoLG51bVBvaW50TGlnaHRTaGFkb3dzOkMucG9pbnRTaGFkb3dNYXAubGVuZ3RoLG51bVNwb3RMaWdodFNoYWRvd3M6Qy5zcG90U2hhZG93TWFwLmxlbmd0aCxudW1DbGlwcGluZ1BsYW5lczpuLm51bVBsYW5lcyxudW1DbGlwSW50ZXJzZWN0aW9uOm4ubnVtSW50ZXJzZWN0aW9uLGRpdGhlcmluZzp4LmRpdGhlcmluZyxzaGFkb3dNYXBFbmFibGVkOmkuc2hhZG93TWFwLmVuYWJsZWQmJlkubGVuZ3RoPjAsc2hhZG93TWFwVHlwZTppLnNoYWRvd01hcC50eXBlLHRvbmVNYXBwaW5nOngudG9uZU1hcHBlZD9pLnRvbmVNYXBwaW5nOnhpLHBoeXNpY2FsbHlDb3JyZWN0TGlnaHRzOmkucGh5c2ljYWxseUNvcnJlY3RMaWdodHMscHJlbXVsdGlwbGllZEFscGhhOngucHJlbXVsdGlwbGllZEFscGhhLGRvdWJsZVNpZGVkOnguc2lkZT09PV9yLGZsaXBTaWRlZDp4LnNpZGU9PT1qdCxkZXB0aFBhY2tpbmc6eC5kZXB0aFBhY2tpbmchPT12b2lkIDA/eC5kZXB0aFBhY2tpbmc6ITEsaW5kZXgwQXR0cmlidXRlTmFtZTp4LmluZGV4MEF0dHJpYnV0ZU5hbWUsZXh0ZW5zaW9uRGVyaXZhdGl2ZXM6eC5leHRlbnNpb25zJiZ4LmV4dGVuc2lvbnMuZGVyaXZhdGl2ZXMsZXh0ZW5zaW9uRnJhZ0RlcHRoOnguZXh0ZW5zaW9ucyYmeC5leHRlbnNpb25zLmZyYWdEZXB0aCxleHRlbnNpb25EcmF3QnVmZmVyczp4LmV4dGVuc2lvbnMmJnguZXh0ZW5zaW9ucy5kcmF3QnVmZmVycyxleHRlbnNpb25TaGFkZXJUZXh0dXJlTE9EOnguZXh0ZW5zaW9ucyYmeC5leHRlbnNpb25zLnNoYWRlclRleHR1cmVMT0QscmVuZGVyZXJFeHRlbnNpb25GcmFnRGVwdGg6Y3x8ci5oYXMoIkVYVF9mcmFnX2RlcHRoIikscmVuZGVyZXJFeHRlbnNpb25EcmF3QnVmZmVyczpjfHxyLmhhcygiV0VCR0xfZHJhd19idWZmZXJzIikscmVuZGVyZXJFeHRlbnNpb25TaGFkZXJUZXh0dXJlTG9kOmN8fHIuaGFzKCJFWFRfc2hhZGVyX3RleHR1cmVfbG9kIiksY3VzdG9tUHJvZ3JhbUNhY2hlS2V5OnguY3VzdG9tUHJvZ3JhbUNhY2hlS2V5KCl9fWZ1bmN0aW9uIFQoeCl7Y29uc3QgQz1bXTtpZih4LnNoYWRlcklEP0MucHVzaCh4LnNoYWRlcklEKTooQy5wdXNoKHguY3VzdG9tVmVydGV4U2hhZGVySUQpLEMucHVzaCh4LmN1c3RvbUZyYWdtZW50U2hhZGVySUQpKSx4LmRlZmluZXMhPT12b2lkIDApZm9yKGNvbnN0IFkgaW4geC5kZWZpbmVzKUMucHVzaChZKSxDLnB1c2goeC5kZWZpbmVzW1ldKTtyZXR1cm4geC5pc1Jhd1NoYWRlck1hdGVyaWFsPT09ITEmJih3KEMseCksYihDLHgpLEMucHVzaChpLm91dHB1dEVuY29kaW5nKSksQy5wdXNoKHguY3VzdG9tUHJvZ3JhbUNhY2hlS2V5KSxDLmpvaW4oKX1mdW5jdGlvbiB3KHgsQyl7eC5wdXNoKEMucHJlY2lzaW9uKSx4LnB1c2goQy5vdXRwdXRFbmNvZGluZykseC5wdXNoKEMuZW52TWFwTW9kZSkseC5wdXNoKEMuZW52TWFwQ3ViZVVWSGVpZ2h0KSx4LnB1c2goQy5jb21iaW5lKSx4LnB1c2goQy52ZXJ0ZXhVdnMpLHgucHVzaChDLmZvZ0V4cDIpLHgucHVzaChDLnNpemVBdHRlbnVhdGlvbikseC5wdXNoKEMubWF4Qm9uZXMpLHgucHVzaChDLm1vcnBoVGFyZ2V0c0NvdW50KSx4LnB1c2goQy5tb3JwaEF0dHJpYnV0ZUNvdW50KSx4LnB1c2goQy5udW1EaXJMaWdodHMpLHgucHVzaChDLm51bVBvaW50TGlnaHRzKSx4LnB1c2goQy5udW1TcG90TGlnaHRzKSx4LnB1c2goQy5udW1IZW1pTGlnaHRzKSx4LnB1c2goQy5udW1SZWN0QXJlYUxpZ2h0cykseC5wdXNoKEMubnVtRGlyTGlnaHRTaGFkb3dzKSx4LnB1c2goQy5udW1Qb2ludExpZ2h0U2hhZG93cykseC5wdXNoKEMubnVtU3BvdExpZ2h0U2hhZG93cykseC5wdXNoKEMuc2hhZG93TWFwVHlwZSkseC5wdXNoKEMudG9uZU1hcHBpbmcpLHgucHVzaChDLm51bUNsaXBwaW5nUGxhbmVzKSx4LnB1c2goQy5udW1DbGlwSW50ZXJzZWN0aW9uKX1mdW5jdGlvbiBiKHgsQyl7by5kaXNhYmxlQWxsKCksQy5pc1dlYkdMMiYmby5lbmFibGUoMCksQy5zdXBwb3J0c1ZlcnRleFRleHR1cmVzJiZvLmVuYWJsZSgxKSxDLmluc3RhbmNpbmcmJm8uZW5hYmxlKDIpLEMuaW5zdGFuY2luZ0NvbG9yJiZvLmVuYWJsZSgzKSxDLm1hcCYmby5lbmFibGUoNCksQy5tYXRjYXAmJm8uZW5hYmxlKDUpLEMuZW52TWFwJiZvLmVuYWJsZSg2KSxDLmxpZ2h0TWFwJiZvLmVuYWJsZSg3KSxDLmFvTWFwJiZvLmVuYWJsZSg4KSxDLmVtaXNzaXZlTWFwJiZvLmVuYWJsZSg5KSxDLmJ1bXBNYXAmJm8uZW5hYmxlKDEwKSxDLm5vcm1hbE1hcCYmby5lbmFibGUoMTEpLEMub2JqZWN0U3BhY2VOb3JtYWxNYXAmJm8uZW5hYmxlKDEyKSxDLnRhbmdlbnRTcGFjZU5vcm1hbE1hcCYmby5lbmFibGUoMTMpLEMuY2xlYXJjb2F0JiZvLmVuYWJsZSgxNCksQy5jbGVhcmNvYXRNYXAmJm8uZW5hYmxlKDE1KSxDLmNsZWFyY29hdFJvdWdobmVzc01hcCYmby5lbmFibGUoMTYpLEMuY2xlYXJjb2F0Tm9ybWFsTWFwJiZvLmVuYWJsZSgxNyksQy5kaXNwbGFjZW1lbnRNYXAmJm8uZW5hYmxlKDE4KSxDLnNwZWN1bGFyTWFwJiZvLmVuYWJsZSgxOSksQy5yb3VnaG5lc3NNYXAmJm8uZW5hYmxlKDIwKSxDLm1ldGFsbmVzc01hcCYmby5lbmFibGUoMjEpLEMuZ3JhZGllbnRNYXAmJm8uZW5hYmxlKDIyKSxDLmFscGhhTWFwJiZvLmVuYWJsZSgyMyksQy5hbHBoYVRlc3QmJm8uZW5hYmxlKDI0KSxDLnZlcnRleENvbG9ycyYmby5lbmFibGUoMjUpLEMudmVydGV4QWxwaGFzJiZvLmVuYWJsZSgyNiksQy52ZXJ0ZXhVdnMmJm8uZW5hYmxlKDI3KSxDLnZlcnRleFRhbmdlbnRzJiZvLmVuYWJsZSgyOCksQy51dnNWZXJ0ZXhPbmx5JiZvLmVuYWJsZSgyOSksQy5mb2cmJm8uZW5hYmxlKDMwKSx4LnB1c2goby5tYXNrKSxvLmRpc2FibGVBbGwoKSxDLnVzZUZvZyYmby5lbmFibGUoMCksQy5mbGF0U2hhZGluZyYmby5lbmFibGUoMSksQy5sb2dhcml0aG1pY0RlcHRoQnVmZmVyJiZvLmVuYWJsZSgyKSxDLnNraW5uaW5nJiZvLmVuYWJsZSgzKSxDLnVzZVZlcnRleFRleHR1cmUmJm8uZW5hYmxlKDQpLEMubW9ycGhUYXJnZXRzJiZvLmVuYWJsZSg1KSxDLm1vcnBoTm9ybWFscyYmby5lbmFibGUoNiksQy5tb3JwaENvbG9ycyYmby5lbmFibGUoNyksQy5wcmVtdWx0aXBsaWVkQWxwaGEmJm8uZW5hYmxlKDgpLEMuc2hhZG93TWFwRW5hYmxlZCYmby5lbmFibGUoOSksQy5waHlzaWNhbGx5Q29ycmVjdExpZ2h0cyYmby5lbmFibGUoMTApLEMuZG91YmxlU2lkZWQmJm8uZW5hYmxlKDExKSxDLmZsaXBTaWRlZCYmby5lbmFibGUoMTIpLEMuZGVwdGhQYWNraW5nJiZvLmVuYWJsZSgxMyksQy5kaXRoZXJpbmcmJm8uZW5hYmxlKDE0KSxDLnNwZWN1bGFySW50ZW5zaXR5TWFwJiZvLmVuYWJsZSgxNSksQy5zcGVjdWxhckNvbG9yTWFwJiZvLmVuYWJsZSgxNiksQy50cmFuc21pc3Npb24mJm8uZW5hYmxlKDE3KSxDLnRyYW5zbWlzc2lvbk1hcCYmby5lbmFibGUoMTgpLEMudGhpY2tuZXNzTWFwJiZvLmVuYWJsZSgxOSksQy5zaGVlbiYmby5lbmFibGUoMjApLEMuc2hlZW5Db2xvck1hcCYmby5lbmFibGUoMjEpLEMuc2hlZW5Sb3VnaG5lc3NNYXAmJm8uZW5hYmxlKDIyKSxDLmRlY29kZVZpZGVvVGV4dHVyZSYmby5lbmFibGUoMjMpLEMub3BhcXVlJiZvLmVuYWJsZSgyNCkseC5wdXNoKG8ubWFzayl9ZnVuY3Rpb24gTCh4KXtjb25zdCBDPW1beC50eXBlXTtsZXQgWTtpZihDKXtjb25zdCBOPWFpW0NdO1k9YzAuY2xvbmUoTi51bmlmb3Jtcyl9ZWxzZSBZPXgudW5pZm9ybXM7cmV0dXJuIFl9ZnVuY3Rpb24gUCh4LEMpe2xldCBZO2ZvcihsZXQgTj0wLFU9bC5sZW5ndGg7TjxVO04rKyl7Y29uc3QgQj1sW05dO2lmKEIuY2FjaGVLZXk9PT1DKXtZPUIsKytZLnVzZWRUaW1lczticmVha319cmV0dXJuIFk9PT12b2lkIDAmJihZPW5ldyBkeShpLEMseCxhKSxsLnB1c2goWSkpLFl9ZnVuY3Rpb24gayh4KXtpZigtLXgudXNlZFRpbWVzPT09MCl7Y29uc3QgQz1sLmluZGV4T2YoeCk7bFtDXT1sW2wubGVuZ3RoLTFdLGwucG9wKCkseC5kZXN0cm95KCl9fWZ1bmN0aW9uIGllKHgpe2gucmVtb3ZlKHgpfWZ1bmN0aW9uIE8oKXtoLmRpc3Bvc2UoKX1yZXR1cm57Z2V0UGFyYW1ldGVyczp5LGdldFByb2dyYW1DYWNoZUtleTpULGdldFVuaWZvcm1zOkwsYWNxdWlyZVByb2dyYW06UCxyZWxlYXNlUHJvZ3JhbTprLHJlbGVhc2VTaGFkZXJDYWNoZTppZSxwcm9ncmFtczpsLGRpc3Bvc2U6T319ZnVuY3Rpb24gdnkoKXtsZXQgaT1uZXcgV2Vha01hcDtmdW5jdGlvbiBlKGEpe2xldCBuPWkuZ2V0KGEpO3JldHVybiBuPT09dm9pZCAwJiYobj17fSxpLnNldChhLG4pKSxufWZ1bmN0aW9uIHQoYSl7aS5kZWxldGUoYSl9ZnVuY3Rpb24gcihhLG4sbyl7aS5nZXQoYSlbbl09b31mdW5jdGlvbiBzKCl7aT1uZXcgV2Vha01hcH1yZXR1cm57Z2V0OmUscmVtb3ZlOnQsdXBkYXRlOnIsZGlzcG9zZTpzfX1mdW5jdGlvbiB4eShpLGUpe3JldHVybiBpLmdyb3VwT3JkZXIhPT1lLmdyb3VwT3JkZXI/aS5ncm91cE9yZGVyLWUuZ3JvdXBPcmRlcjppLnJlbmRlck9yZGVyIT09ZS5yZW5kZXJPcmRlcj9pLnJlbmRlck9yZGVyLWUucmVuZGVyT3JkZXI6aS5tYXRlcmlhbC5pZCE9PWUubWF0ZXJpYWwuaWQ/aS5tYXRlcmlhbC5pZC1lLm1hdGVyaWFsLmlkOmkueiE9PWUuej9pLnotZS56OmkuaWQtZS5pZH1mdW5jdGlvbiBoYyhpLGUpe3JldHVybiBpLmdyb3VwT3JkZXIhPT1lLmdyb3VwT3JkZXI/aS5ncm91cE9yZGVyLWUuZ3JvdXBPcmRlcjppLnJlbmRlck9yZGVyIT09ZS5yZW5kZXJPcmRlcj9pLnJlbmRlck9yZGVyLWUucmVuZGVyT3JkZXI6aS56IT09ZS56P2Uuei1pLno6aS5pZC1lLmlkfWZ1bmN0aW9uIGxjKCl7Y29uc3QgaT1bXTtsZXQgZT0wO2NvbnN0IHQ9W10scj1bXSxzPVtdO2Z1bmN0aW9uIGEoKXtlPTAsdC5sZW5ndGg9MCxyLmxlbmd0aD0wLHMubGVuZ3RoPTB9ZnVuY3Rpb24gbih1LGQscCxnLGYsbSl7bGV0IHY9aVtlXTtyZXR1cm4gdj09PXZvaWQgMD8odj17aWQ6dS5pZCxvYmplY3Q6dSxnZW9tZXRyeTpkLG1hdGVyaWFsOnAsZ3JvdXBPcmRlcjpnLHJlbmRlck9yZGVyOnUucmVuZGVyT3JkZXIsejpmLGdyb3VwOm19LGlbZV09dik6KHYuaWQ9dS5pZCx2Lm9iamVjdD11LHYuZ2VvbWV0cnk9ZCx2Lm1hdGVyaWFsPXAsdi5ncm91cE9yZGVyPWcsdi5yZW5kZXJPcmRlcj11LnJlbmRlck9yZGVyLHYuej1mLHYuZ3JvdXA9bSksZSsrLHZ9ZnVuY3Rpb24gbyh1LGQscCxnLGYsbSl7Y29uc3Qgdj1uKHUsZCxwLGcsZixtKTtwLnRyYW5zbWlzc2lvbj4wP3IucHVzaCh2KTpwLnRyYW5zcGFyZW50PT09ITA/cy5wdXNoKHYpOnQucHVzaCh2KX1mdW5jdGlvbiBoKHUsZCxwLGcsZixtKXtjb25zdCB2PW4odSxkLHAsZyxmLG0pO3AudHJhbnNtaXNzaW9uPjA/ci51bnNoaWZ0KHYpOnAudHJhbnNwYXJlbnQ9PT0hMD9zLnVuc2hpZnQodik6dC51bnNoaWZ0KHYpfWZ1bmN0aW9uIGwodSxkKXt0Lmxlbmd0aD4xJiZ0LnNvcnQodXx8eHkpLHIubGVuZ3RoPjEmJnIuc29ydChkfHxoYykscy5sZW5ndGg+MSYmcy5zb3J0KGR8fGhjKX1mdW5jdGlvbiBjKCl7Zm9yKGxldCB1PWUsZD1pLmxlbmd0aDt1PGQ7dSsrKXtjb25zdCBwPWlbdV07aWYocC5pZD09PW51bGwpYnJlYWs7cC5pZD1udWxsLHAub2JqZWN0PW51bGwscC5nZW9tZXRyeT1udWxsLHAubWF0ZXJpYWw9bnVsbCxwLmdyb3VwPW51bGx9fXJldHVybntvcGFxdWU6dCx0cmFuc21pc3NpdmU6cix0cmFuc3BhcmVudDpzLGluaXQ6YSxwdXNoOm8sdW5zaGlmdDpoLGZpbmlzaDpjLHNvcnQ6bH19ZnVuY3Rpb24gX3koKXtsZXQgaT1uZXcgV2Vha01hcDtmdW5jdGlvbiBlKHIscyl7bGV0IGE7cmV0dXJuIGkuaGFzKHIpPT09ITE/KGE9bmV3IGxjLGkuc2V0KHIsW2FdKSk6cz49aS5nZXQocikubGVuZ3RoPyhhPW5ldyBsYyxpLmdldChyKS5wdXNoKGEpKTphPWkuZ2V0KHIpW3NdLGF9ZnVuY3Rpb24gdCgpe2k9bmV3IFdlYWtNYXB9cmV0dXJue2dldDplLGRpc3Bvc2U6dH19ZnVuY3Rpb24geXkoKXtjb25zdCBpPXt9O3JldHVybntnZXQ6ZnVuY3Rpb24oZSl7aWYoaVtlLmlkXSE9PXZvaWQgMClyZXR1cm4gaVtlLmlkXTtsZXQgdDtzd2l0Y2goZS50eXBlKXtjYXNlIkRpcmVjdGlvbmFsTGlnaHQiOnQ9e2RpcmVjdGlvbjpuZXcgRSxjb2xvcjpuZXcgZ2V9O2JyZWFrO2Nhc2UiU3BvdExpZ2h0Ijp0PXtwb3NpdGlvbjpuZXcgRSxkaXJlY3Rpb246bmV3IEUsY29sb3I6bmV3IGdlLGRpc3RhbmNlOjAsY29uZUNvczowLHBlbnVtYnJhQ29zOjAsZGVjYXk6MH07YnJlYWs7Y2FzZSJQb2ludExpZ2h0Ijp0PXtwb3NpdGlvbjpuZXcgRSxjb2xvcjpuZXcgZ2UsZGlzdGFuY2U6MCxkZWNheTowfTticmVhaztjYXNlIkhlbWlzcGhlcmVMaWdodCI6dD17ZGlyZWN0aW9uOm5ldyBFLHNreUNvbG9yOm5ldyBnZSxncm91bmRDb2xvcjpuZXcgZ2V9O2JyZWFrO2Nhc2UiUmVjdEFyZWFMaWdodCI6dD17Y29sb3I6bmV3IGdlLHBvc2l0aW9uOm5ldyBFLGhhbGZXaWR0aDpuZXcgRSxoYWxmSGVpZ2h0Om5ldyBFfTticmVha31yZXR1cm4gaVtlLmlkXT10LHR9fX1mdW5jdGlvbiBNeSgpe2NvbnN0IGk9e307cmV0dXJue2dldDpmdW5jdGlvbihlKXtpZihpW2UuaWRdIT09dm9pZCAwKXJldHVybiBpW2UuaWRdO2xldCB0O3N3aXRjaChlLnR5cGUpe2Nhc2UiRGlyZWN0aW9uYWxMaWdodCI6dD17c2hhZG93QmlhczowLHNoYWRvd05vcm1hbEJpYXM6MCxzaGFkb3dSYWRpdXM6MSxzaGFkb3dNYXBTaXplOm5ldyBlZX07YnJlYWs7Y2FzZSJTcG90TGlnaHQiOnQ9e3NoYWRvd0JpYXM6MCxzaGFkb3dOb3JtYWxCaWFzOjAsc2hhZG93UmFkaXVzOjEsc2hhZG93TWFwU2l6ZTpuZXcgZWV9O2JyZWFrO2Nhc2UiUG9pbnRMaWdodCI6dD17c2hhZG93QmlhczowLHNoYWRvd05vcm1hbEJpYXM6MCxzaGFkb3dSYWRpdXM6MSxzaGFkb3dNYXBTaXplOm5ldyBlZSxzaGFkb3dDYW1lcmFOZWFyOjEsc2hhZG93Q2FtZXJhRmFyOjFlM307YnJlYWt9cmV0dXJuIGlbZS5pZF09dCx0fX19bGV0IGJ5PTA7ZnVuY3Rpb24gd3koaSxlKXtyZXR1cm4oZS5jYXN0U2hhZG93PzE6MCktKGkuY2FzdFNoYWRvdz8xOjApfWZ1bmN0aW9uIFN5KGksZSl7Y29uc3QgdD1uZXcgeXkscj1NeSgpLHM9e3ZlcnNpb246MCxoYXNoOntkaXJlY3Rpb25hbExlbmd0aDotMSxwb2ludExlbmd0aDotMSxzcG90TGVuZ3RoOi0xLHJlY3RBcmVhTGVuZ3RoOi0xLGhlbWlMZW5ndGg6LTEsbnVtRGlyZWN0aW9uYWxTaGFkb3dzOi0xLG51bVBvaW50U2hhZG93czotMSxudW1TcG90U2hhZG93czotMX0sYW1iaWVudDpbMCwwLDBdLHByb2JlOltdLGRpcmVjdGlvbmFsOltdLGRpcmVjdGlvbmFsU2hhZG93OltdLGRpcmVjdGlvbmFsU2hhZG93TWFwOltdLGRpcmVjdGlvbmFsU2hhZG93TWF0cml4OltdLHNwb3Q6W10sc3BvdFNoYWRvdzpbXSxzcG90U2hhZG93TWFwOltdLHNwb3RTaGFkb3dNYXRyaXg6W10scmVjdEFyZWE6W10scmVjdEFyZWFMVEMxOm51bGwscmVjdEFyZWFMVEMyOm51bGwscG9pbnQ6W10scG9pbnRTaGFkb3c6W10scG9pbnRTaGFkb3dNYXA6W10scG9pbnRTaGFkb3dNYXRyaXg6W10saGVtaTpbXX07Zm9yKGxldCBjPTA7Yzw5O2MrKylzLnByb2JlLnB1c2gobmV3IEUpO2NvbnN0IGE9bmV3IEUsbj1uZXcgX2Usbz1uZXcgX2U7ZnVuY3Rpb24gaChjLHUpe2xldCBkPTAscD0wLGc9MDtmb3IobGV0IGllPTA7aWU8OTtpZSsrKXMucHJvYmVbaWVdLnNldCgwLDAsMCk7bGV0IGY9MCxtPTAsdj0wLHk9MCxUPTAsdz0wLGI9MCxMPTA7Yy5zb3J0KHd5KTtjb25zdCBQPXUhPT0hMD9NYXRoLlBJOjE7Zm9yKGxldCBpZT0wLE89Yy5sZW5ndGg7aWU8TztpZSsrKXtjb25zdCB4PWNbaWVdLEM9eC5jb2xvcixZPXguaW50ZW5zaXR5LE49eC5kaXN0YW5jZSxVPXguc2hhZG93JiZ4LnNoYWRvdy5tYXA/eC5zaGFkb3cubWFwLnRleHR1cmU6bnVsbDtpZih4LmlzQW1iaWVudExpZ2h0KWQrPUMucipZKlAscCs9Qy5nKlkqUCxnKz1DLmIqWSpQO2Vsc2UgaWYoeC5pc0xpZ2h0UHJvYmUpZm9yKGxldCBCPTA7Qjw5O0IrKylzLnByb2JlW0JdLmFkZFNjYWxlZFZlY3Rvcih4LnNoLmNvZWZmaWNpZW50c1tCXSxZKTtlbHNlIGlmKHguaXNEaXJlY3Rpb25hbExpZ2h0KXtjb25zdCBCPXQuZ2V0KHgpO2lmKEIuY29sb3IuY29weSh4LmNvbG9yKS5tdWx0aXBseVNjYWxhcih4LmludGVuc2l0eSpQKSx4LmNhc3RTaGFkb3cpe2NvbnN0IEc9eC5zaGFkb3csUj1yLmdldCh4KTtSLnNoYWRvd0JpYXM9Ry5iaWFzLFIuc2hhZG93Tm9ybWFsQmlhcz1HLm5vcm1hbEJpYXMsUi5zaGFkb3dSYWRpdXM9Ry5yYWRpdXMsUi5zaGFkb3dNYXBTaXplPUcubWFwU2l6ZSxzLmRpcmVjdGlvbmFsU2hhZG93W2ZdPVIscy5kaXJlY3Rpb25hbFNoYWRvd01hcFtmXT1VLHMuZGlyZWN0aW9uYWxTaGFkb3dNYXRyaXhbZl09eC5zaGFkb3cubWF0cml4LHcrK31zLmRpcmVjdGlvbmFsW2ZdPUIsZisrfWVsc2UgaWYoeC5pc1Nwb3RMaWdodCl7Y29uc3QgQj10LmdldCh4KTtpZihCLnBvc2l0aW9uLnNldEZyb21NYXRyaXhQb3NpdGlvbih4Lm1hdHJpeFdvcmxkKSxCLmNvbG9yLmNvcHkoQykubXVsdGlwbHlTY2FsYXIoWSpQKSxCLmRpc3RhbmNlPU4sQi5jb25lQ29zPU1hdGguY29zKHguYW5nbGUpLEIucGVudW1icmFDb3M9TWF0aC5jb3MoeC5hbmdsZSooMS14LnBlbnVtYnJhKSksQi5kZWNheT14LmRlY2F5LHguY2FzdFNoYWRvdyl7Y29uc3QgRz14LnNoYWRvdyxSPXIuZ2V0KHgpO1Iuc2hhZG93Qmlhcz1HLmJpYXMsUi5zaGFkb3dOb3JtYWxCaWFzPUcubm9ybWFsQmlhcyxSLnNoYWRvd1JhZGl1cz1HLnJhZGl1cyxSLnNoYWRvd01hcFNpemU9Ry5tYXBTaXplLHMuc3BvdFNoYWRvd1t2XT1SLHMuc3BvdFNoYWRvd01hcFt2XT1VLHMuc3BvdFNoYWRvd01hdHJpeFt2XT14LnNoYWRvdy5tYXRyaXgsTCsrfXMuc3BvdFt2XT1CLHYrK31lbHNlIGlmKHguaXNSZWN0QXJlYUxpZ2h0KXtjb25zdCBCPXQuZ2V0KHgpO0IuY29sb3IuY29weShDKS5tdWx0aXBseVNjYWxhcihZKSxCLmhhbGZXaWR0aC5zZXQoeC53aWR0aCouNSwwLDApLEIuaGFsZkhlaWdodC5zZXQoMCx4LmhlaWdodCouNSwwKSxzLnJlY3RBcmVhW3ldPUIseSsrfWVsc2UgaWYoeC5pc1BvaW50TGlnaHQpe2NvbnN0IEI9dC5nZXQoeCk7aWYoQi5jb2xvci5jb3B5KHguY29sb3IpLm11bHRpcGx5U2NhbGFyKHguaW50ZW5zaXR5KlApLEIuZGlzdGFuY2U9eC5kaXN0YW5jZSxCLmRlY2F5PXguZGVjYXkseC5jYXN0U2hhZG93KXtjb25zdCBHPXguc2hhZG93LFI9ci5nZXQoeCk7Ui5zaGFkb3dCaWFzPUcuYmlhcyxSLnNoYWRvd05vcm1hbEJpYXM9Ry5ub3JtYWxCaWFzLFIuc2hhZG93UmFkaXVzPUcucmFkaXVzLFIuc2hhZG93TWFwU2l6ZT1HLm1hcFNpemUsUi5zaGFkb3dDYW1lcmFOZWFyPUcuY2FtZXJhLm5lYXIsUi5zaGFkb3dDYW1lcmFGYXI9Ry5jYW1lcmEuZmFyLHMucG9pbnRTaGFkb3dbbV09UixzLnBvaW50U2hhZG93TWFwW21dPVUscy5wb2ludFNoYWRvd01hdHJpeFttXT14LnNoYWRvdy5tYXRyaXgsYisrfXMucG9pbnRbbV09QixtKyt9ZWxzZSBpZih4LmlzSGVtaXNwaGVyZUxpZ2h0KXtjb25zdCBCPXQuZ2V0KHgpO0Iuc2t5Q29sb3IuY29weSh4LmNvbG9yKS5tdWx0aXBseVNjYWxhcihZKlApLEIuZ3JvdW5kQ29sb3IuY29weSh4Lmdyb3VuZENvbG9yKS5tdWx0aXBseVNjYWxhcihZKlApLHMuaGVtaVtUXT1CLFQrK319eT4wJiYoZS5pc1dlYkdMMnx8aS5oYXMoIk9FU190ZXh0dXJlX2Zsb2F0X2xpbmVhciIpPT09ITA/KHMucmVjdEFyZWFMVEMxPW9lLkxUQ19GTE9BVF8xLHMucmVjdEFyZWFMVEMyPW9lLkxUQ19GTE9BVF8yKTppLmhhcygiT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXIiKT09PSEwPyhzLnJlY3RBcmVhTFRDMT1vZS5MVENfSEFMRl8xLHMucmVjdEFyZWFMVEMyPW9lLkxUQ19IQUxGXzIpOmNvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMUmVuZGVyZXI6IFVuYWJsZSB0byB1c2UgUmVjdEFyZWFMaWdodC4gTWlzc2luZyBXZWJHTCBleHRlbnNpb25zLiIpKSxzLmFtYmllbnRbMF09ZCxzLmFtYmllbnRbMV09cCxzLmFtYmllbnRbMl09Zztjb25zdCBrPXMuaGFzaDsoay5kaXJlY3Rpb25hbExlbmd0aCE9PWZ8fGsucG9pbnRMZW5ndGghPT1tfHxrLnNwb3RMZW5ndGghPT12fHxrLnJlY3RBcmVhTGVuZ3RoIT09eXx8ay5oZW1pTGVuZ3RoIT09VHx8ay5udW1EaXJlY3Rpb25hbFNoYWRvd3MhPT13fHxrLm51bVBvaW50U2hhZG93cyE9PWJ8fGsubnVtU3BvdFNoYWRvd3MhPT1MKSYmKHMuZGlyZWN0aW9uYWwubGVuZ3RoPWYscy5zcG90Lmxlbmd0aD12LHMucmVjdEFyZWEubGVuZ3RoPXkscy5wb2ludC5sZW5ndGg9bSxzLmhlbWkubGVuZ3RoPVQscy5kaXJlY3Rpb25hbFNoYWRvdy5sZW5ndGg9dyxzLmRpcmVjdGlvbmFsU2hhZG93TWFwLmxlbmd0aD13LHMucG9pbnRTaGFkb3cubGVuZ3RoPWIscy5wb2ludFNoYWRvd01hcC5sZW5ndGg9YixzLnNwb3RTaGFkb3cubGVuZ3RoPUwscy5zcG90U2hhZG93TWFwLmxlbmd0aD1MLHMuZGlyZWN0aW9uYWxTaGFkb3dNYXRyaXgubGVuZ3RoPXcscy5wb2ludFNoYWRvd01hdHJpeC5sZW5ndGg9YixzLnNwb3RTaGFkb3dNYXRyaXgubGVuZ3RoPUwsay5kaXJlY3Rpb25hbExlbmd0aD1mLGsucG9pbnRMZW5ndGg9bSxrLnNwb3RMZW5ndGg9dixrLnJlY3RBcmVhTGVuZ3RoPXksay5oZW1pTGVuZ3RoPVQsay5udW1EaXJlY3Rpb25hbFNoYWRvd3M9dyxrLm51bVBvaW50U2hhZG93cz1iLGsubnVtU3BvdFNoYWRvd3M9TCxzLnZlcnNpb249YnkrKyl9ZnVuY3Rpb24gbChjLHUpe2xldCBkPTAscD0wLGc9MCxmPTAsbT0wO2NvbnN0IHY9dS5tYXRyaXhXb3JsZEludmVyc2U7Zm9yKGxldCB5PTAsVD1jLmxlbmd0aDt5PFQ7eSsrKXtjb25zdCB3PWNbeV07aWYody5pc0RpcmVjdGlvbmFsTGlnaHQpe2NvbnN0IGI9cy5kaXJlY3Rpb25hbFtkXTtiLmRpcmVjdGlvbi5zZXRGcm9tTWF0cml4UG9zaXRpb24ody5tYXRyaXhXb3JsZCksYS5zZXRGcm9tTWF0cml4UG9zaXRpb24ody50YXJnZXQubWF0cml4V29ybGQpLGIuZGlyZWN0aW9uLnN1YihhKSxiLmRpcmVjdGlvbi50cmFuc2Zvcm1EaXJlY3Rpb24odiksZCsrfWVsc2UgaWYody5pc1Nwb3RMaWdodCl7Y29uc3QgYj1zLnNwb3RbZ107Yi5wb3NpdGlvbi5zZXRGcm9tTWF0cml4UG9zaXRpb24ody5tYXRyaXhXb3JsZCksYi5wb3NpdGlvbi5hcHBseU1hdHJpeDQodiksYi5kaXJlY3Rpb24uc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHcubWF0cml4V29ybGQpLGEuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHcudGFyZ2V0Lm1hdHJpeFdvcmxkKSxiLmRpcmVjdGlvbi5zdWIoYSksYi5kaXJlY3Rpb24udHJhbnNmb3JtRGlyZWN0aW9uKHYpLGcrK31lbHNlIGlmKHcuaXNSZWN0QXJlYUxpZ2h0KXtjb25zdCBiPXMucmVjdEFyZWFbZl07Yi5wb3NpdGlvbi5zZXRGcm9tTWF0cml4UG9zaXRpb24ody5tYXRyaXhXb3JsZCksYi5wb3NpdGlvbi5hcHBseU1hdHJpeDQodiksby5pZGVudGl0eSgpLG4uY29weSh3Lm1hdHJpeFdvcmxkKSxuLnByZW11bHRpcGx5KHYpLG8uZXh0cmFjdFJvdGF0aW9uKG4pLGIuaGFsZldpZHRoLnNldCh3LndpZHRoKi41LDAsMCksYi5oYWxmSGVpZ2h0LnNldCgwLHcuaGVpZ2h0Ki41LDApLGIuaGFsZldpZHRoLmFwcGx5TWF0cml4NChvKSxiLmhhbGZIZWlnaHQuYXBwbHlNYXRyaXg0KG8pLGYrK31lbHNlIGlmKHcuaXNQb2ludExpZ2h0KXtjb25zdCBiPXMucG9pbnRbcF07Yi5wb3NpdGlvbi5zZXRGcm9tTWF0cml4UG9zaXRpb24ody5tYXRyaXhXb3JsZCksYi5wb3NpdGlvbi5hcHBseU1hdHJpeDQodikscCsrfWVsc2UgaWYody5pc0hlbWlzcGhlcmVMaWdodCl7Y29uc3QgYj1zLmhlbWlbbV07Yi5kaXJlY3Rpb24uc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHcubWF0cml4V29ybGQpLGIuZGlyZWN0aW9uLnRyYW5zZm9ybURpcmVjdGlvbih2KSxiLmRpcmVjdGlvbi5ub3JtYWxpemUoKSxtKyt9fX1yZXR1cm57c2V0dXA6aCxzZXR1cFZpZXc6bCxzdGF0ZTpzfX1mdW5jdGlvbiBjYyhpLGUpe2NvbnN0IHQ9bmV3IFN5KGksZSkscj1bXSxzPVtdO2Z1bmN0aW9uIGEoKXtyLmxlbmd0aD0wLHMubGVuZ3RoPTB9ZnVuY3Rpb24gbihjKXtyLnB1c2goYyl9ZnVuY3Rpb24gbyhjKXtzLnB1c2goYyl9ZnVuY3Rpb24gaChjKXt0LnNldHVwKHIsYyl9ZnVuY3Rpb24gbChjKXt0LnNldHVwVmlldyhyLGMpfXJldHVybntpbml0OmEsc3RhdGU6e2xpZ2h0c0FycmF5OnIsc2hhZG93c0FycmF5OnMsbGlnaHRzOnR9LHNldHVwTGlnaHRzOmgsc2V0dXBMaWdodHNWaWV3OmwscHVzaExpZ2h0Om4scHVzaFNoYWRvdzpvfX1mdW5jdGlvbiBFeShpLGUpe2xldCB0PW5ldyBXZWFrTWFwO2Z1bmN0aW9uIHIoYSxuPTApe2xldCBvO3JldHVybiB0LmhhcyhhKT09PSExPyhvPW5ldyBjYyhpLGUpLHQuc2V0KGEsW29dKSk6bj49dC5nZXQoYSkubGVuZ3RoPyhvPW5ldyBjYyhpLGUpLHQuZ2V0KGEpLnB1c2gobykpOm89dC5nZXQoYSlbbl0sb31mdW5jdGlvbiBzKCl7dD1uZXcgV2Vha01hcH1yZXR1cm57Z2V0OnIsZGlzcG9zZTpzfX1jbGFzcyB2byBleHRlbmRzIGx0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCk7dGhpcy50eXBlPSJNZXNoRGVwdGhNYXRlcmlhbCIsdGhpcy5kZXB0aFBhY2tpbmc9V2csdGhpcy5tYXA9bnVsbCx0aGlzLmFscGhhTWFwPW51bGwsdGhpcy5kaXNwbGFjZW1lbnRNYXA9bnVsbCx0aGlzLmRpc3BsYWNlbWVudFNjYWxlPTEsdGhpcy5kaXNwbGFjZW1lbnRCaWFzPTAsdGhpcy53aXJlZnJhbWU9ITEsdGhpcy53aXJlZnJhbWVMaW5ld2lkdGg9MSx0aGlzLmZvZz0hMSx0aGlzLnNldFZhbHVlcyhlKX1jb3B5KGUpe3JldHVybiBzdXBlci5jb3B5KGUpLHRoaXMuZGVwdGhQYWNraW5nPWUuZGVwdGhQYWNraW5nLHRoaXMubWFwPWUubWFwLHRoaXMuYWxwaGFNYXA9ZS5hbHBoYU1hcCx0aGlzLmRpc3BsYWNlbWVudE1hcD1lLmRpc3BsYWNlbWVudE1hcCx0aGlzLmRpc3BsYWNlbWVudFNjYWxlPWUuZGlzcGxhY2VtZW50U2NhbGUsdGhpcy5kaXNwbGFjZW1lbnRCaWFzPWUuZGlzcGxhY2VtZW50Qmlhcyx0aGlzLndpcmVmcmFtZT1lLndpcmVmcmFtZSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD1lLndpcmVmcmFtZUxpbmV3aWR0aCx0aGlzfX12by5wcm90b3R5cGUuaXNNZXNoRGVwdGhNYXRlcmlhbD0hMDtjbGFzcyB4byBleHRlbmRzIGx0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCk7dGhpcy50eXBlPSJNZXNoRGlzdGFuY2VNYXRlcmlhbCIsdGhpcy5yZWZlcmVuY2VQb3NpdGlvbj1uZXcgRSx0aGlzLm5lYXJEaXN0YW5jZT0xLHRoaXMuZmFyRGlzdGFuY2U9MWUzLHRoaXMubWFwPW51bGwsdGhpcy5hbHBoYU1hcD1udWxsLHRoaXMuZGlzcGxhY2VtZW50TWFwPW51bGwsdGhpcy5kaXNwbGFjZW1lbnRTY2FsZT0xLHRoaXMuZGlzcGxhY2VtZW50Qmlhcz0wLHRoaXMuZm9nPSExLHRoaXMuc2V0VmFsdWVzKGUpfWNvcHkoZSl7cmV0dXJuIHN1cGVyLmNvcHkoZSksdGhpcy5yZWZlcmVuY2VQb3NpdGlvbi5jb3B5KGUucmVmZXJlbmNlUG9zaXRpb24pLHRoaXMubmVhckRpc3RhbmNlPWUubmVhckRpc3RhbmNlLHRoaXMuZmFyRGlzdGFuY2U9ZS5mYXJEaXN0YW5jZSx0aGlzLm1hcD1lLm1hcCx0aGlzLmFscGhhTWFwPWUuYWxwaGFNYXAsdGhpcy5kaXNwbGFjZW1lbnRNYXA9ZS5kaXNwbGFjZW1lbnRNYXAsdGhpcy5kaXNwbGFjZW1lbnRTY2FsZT1lLmRpc3BsYWNlbWVudFNjYWxlLHRoaXMuZGlzcGxhY2VtZW50Qmlhcz1lLmRpc3BsYWNlbWVudEJpYXMsdGhpc319eG8ucHJvdG90eXBlLmlzTWVzaERpc3RhbmNlTWF0ZXJpYWw9ITA7Y29uc3QgVHk9YHZvaWQgbWFpbigpIHsKCWdsX1Bvc2l0aW9uID0gdmVjNCggcG9zaXRpb24sIDEuMCApOwp9YCxBeT1gdW5pZm9ybSBzYW1wbGVyMkQgc2hhZG93X3Bhc3M7CnVuaWZvcm0gdmVjMiByZXNvbHV0aW9uOwp1bmlmb3JtIGZsb2F0IHJhZGl1czsKI2luY2x1ZGUgPHBhY2tpbmc+CnZvaWQgbWFpbigpIHsKCWNvbnN0IGZsb2F0IHNhbXBsZXMgPSBmbG9hdCggVlNNX1NBTVBMRVMgKTsKCWZsb2F0IG1lYW4gPSAwLjA7CglmbG9hdCBzcXVhcmVkX21lYW4gPSAwLjA7CglmbG9hdCB1dlN0cmlkZSA9IHNhbXBsZXMgPD0gMS4wID8gMC4wIDogMi4wIC8gKCBzYW1wbGVzIC0gMS4wICk7CglmbG9hdCB1dlN0YXJ0ID0gc2FtcGxlcyA8PSAxLjAgPyAwLjAgOiAtIDEuMDsKCWZvciAoIGZsb2F0IGkgPSAwLjA7IGkgPCBzYW1wbGVzOyBpICsrICkgewoJCWZsb2F0IHV2T2Zmc2V0ID0gdXZTdGFydCArIGkgKiB1dlN0cmlkZTsKCQkjaWZkZWYgSE9SSVpPTlRBTF9QQVNTCgkJCXZlYzIgZGlzdHJpYnV0aW9uID0gdW5wYWNrUkdCQVRvMkhhbGYoIHRleHR1cmUyRCggc2hhZG93X3Bhc3MsICggZ2xfRnJhZ0Nvb3JkLnh5ICsgdmVjMiggdXZPZmZzZXQsIDAuMCApICogcmFkaXVzICkgLyByZXNvbHV0aW9uICkgKTsKCQkJbWVhbiArPSBkaXN0cmlidXRpb24ueDsKCQkJc3F1YXJlZF9tZWFuICs9IGRpc3RyaWJ1dGlvbi55ICogZGlzdHJpYnV0aW9uLnkgKyBkaXN0cmlidXRpb24ueCAqIGRpc3RyaWJ1dGlvbi54OwoJCSNlbHNlCgkJCWZsb2F0IGRlcHRoID0gdW5wYWNrUkdCQVRvRGVwdGgoIHRleHR1cmUyRCggc2hhZG93X3Bhc3MsICggZ2xfRnJhZ0Nvb3JkLnh5ICsgdmVjMiggMC4wLCB1dk9mZnNldCApICogcmFkaXVzICkgLyByZXNvbHV0aW9uICkgKTsKCQkJbWVhbiArPSBkZXB0aDsKCQkJc3F1YXJlZF9tZWFuICs9IGRlcHRoICogZGVwdGg7CgkJI2VuZGlmCgl9CgltZWFuID0gbWVhbiAvIHNhbXBsZXM7CglzcXVhcmVkX21lYW4gPSBzcXVhcmVkX21lYW4gLyBzYW1wbGVzOwoJZmxvYXQgc3RkX2RldiA9IHNxcnQoIHNxdWFyZWRfbWVhbiAtIG1lYW4gKiBtZWFuICk7CglnbF9GcmFnQ29sb3IgPSBwYWNrMkhhbGZUb1JHQkEoIHZlYzIoIG1lYW4sIHN0ZF9kZXYgKSApOwp9YDtmdW5jdGlvbiB1YyhpLGUsdCl7bGV0IHI9bmV3IEhhO2NvbnN0IHM9bmV3IGVlLGE9bmV3IGVlLG49bmV3IFhlLG89bmV3IHZvKHtkZXB0aFBhY2tpbmc6amd9KSxoPW5ldyB4byxsPXt9LGM9dC5tYXhUZXh0dXJlU2l6ZSx1PXswOmp0LDE6d3MsMjpfcn0sZD1uZXcgJHQoe2RlZmluZXM6e1ZTTV9TQU1QTEVTOjh9LHVuaWZvcm1zOntzaGFkb3dfcGFzczp7dmFsdWU6bnVsbH0scmVzb2x1dGlvbjp7dmFsdWU6bmV3IGVlfSxyYWRpdXM6e3ZhbHVlOjR9fSx2ZXJ0ZXhTaGFkZXI6VHksZnJhZ21lbnRTaGFkZXI6QXl9KSxwPWQuY2xvbmUoKTtwLmRlZmluZXMuSE9SSVpPTlRBTF9QQVNTPTE7Y29uc3QgZz1uZXcgJGU7Zy5zZXRBdHRyaWJ1dGUoInBvc2l0aW9uIixuZXcgY3QobmV3IEZsb2F0MzJBcnJheShbLTEsLTEsLjUsMywtMSwuNSwtMSwzLC41XSksMykpO2NvbnN0IGY9bmV3IE50KGcsZCksbT10aGlzO3RoaXMuZW5hYmxlZD0hMSx0aGlzLmF1dG9VcGRhdGU9ITAsdGhpcy5uZWVkc1VwZGF0ZT0hMSx0aGlzLnR5cGU9T2gsdGhpcy5yZW5kZXI9ZnVuY3Rpb24odyxiLEwpe2lmKG0uZW5hYmxlZD09PSExfHxtLmF1dG9VcGRhdGU9PT0hMSYmbS5uZWVkc1VwZGF0ZT09PSExfHx3Lmxlbmd0aD09PTApcmV0dXJuO2NvbnN0IFA9aS5nZXRSZW5kZXJUYXJnZXQoKSxrPWkuZ2V0QWN0aXZlQ3ViZUZhY2UoKSxpZT1pLmdldEFjdGl2ZU1pcG1hcExldmVsKCksTz1pLnN0YXRlO08uc2V0QmxlbmRpbmcoSWkpLE8uYnVmZmVycy5jb2xvci5zZXRDbGVhcigxLDEsMSwxKSxPLmJ1ZmZlcnMuZGVwdGguc2V0VGVzdCghMCksTy5zZXRTY2lzc29yVGVzdCghMSk7Zm9yKGxldCB4PTAsQz13Lmxlbmd0aDt4PEM7eCsrKXtjb25zdCBZPXdbeF0sTj1ZLnNoYWRvdztpZihOPT09dm9pZCAwKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMU2hhZG93TWFwOiIsWSwiaGFzIG5vIHNoYWRvdy4iKTtjb250aW51ZX1pZihOLmF1dG9VcGRhdGU9PT0hMSYmTi5uZWVkc1VwZGF0ZT09PSExKWNvbnRpbnVlO3MuY29weShOLm1hcFNpemUpO2NvbnN0IFU9Ti5nZXRGcmFtZUV4dGVudHMoKTtpZihzLm11bHRpcGx5KFUpLGEuY29weShOLm1hcFNpemUpLChzLng+Y3x8cy55PmMpJiYocy54PmMmJihhLng9TWF0aC5mbG9vcihjL1UueCkscy54PWEueCpVLngsTi5tYXBTaXplLng9YS54KSxzLnk+YyYmKGEueT1NYXRoLmZsb29yKGMvVS55KSxzLnk9YS55KlUueSxOLm1hcFNpemUueT1hLnkpKSxOLm1hcD09PW51bGwmJiFOLmlzUG9pbnRMaWdodFNoYWRvdyYmdGhpcy50eXBlPT09YnMmJihOLm1hcD1uZXcgenQocy54LHMueSksTi5tYXAudGV4dHVyZS5uYW1lPVkubmFtZSsiLnNoYWRvd01hcCIsTi5tYXBQYXNzPW5ldyB6dChzLngscy55KSxOLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCkpLE4ubWFwPT09bnVsbCl7Y29uc3QgRz17bWluRmlsdGVyOnV0LG1hZ0ZpbHRlcjp1dCxmb3JtYXQ6WHR9O04ubWFwPW5ldyB6dChzLngscy55LEcpLE4ubWFwLnRleHR1cmUubmFtZT1ZLm5hbWUrIi5zaGFkb3dNYXAiLE4uY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKX1pLnNldFJlbmRlclRhcmdldChOLm1hcCksaS5jbGVhcigpO2NvbnN0IEI9Ti5nZXRWaWV3cG9ydENvdW50KCk7Zm9yKGxldCBHPTA7RzxCO0crKyl7Y29uc3QgUj1OLmdldFZpZXdwb3J0KEcpO24uc2V0KGEueCpSLngsYS55KlIueSxhLngqUi56LGEueSpSLncpLE8udmlld3BvcnQobiksTi51cGRhdGVNYXRyaWNlcyhZLEcpLHI9Ti5nZXRGcnVzdHVtKCksVChiLEwsTi5jYW1lcmEsWSx0aGlzLnR5cGUpfSFOLmlzUG9pbnRMaWdodFNoYWRvdyYmdGhpcy50eXBlPT09YnMmJnYoTixMKSxOLm5lZWRzVXBkYXRlPSExfW0ubmVlZHNVcGRhdGU9ITEsaS5zZXRSZW5kZXJUYXJnZXQoUCxrLGllKX07ZnVuY3Rpb24gdih3LGIpe2NvbnN0IEw9ZS51cGRhdGUoZik7ZC5kZWZpbmVzLlZTTV9TQU1QTEVTIT09dy5ibHVyU2FtcGxlcyYmKGQuZGVmaW5lcy5WU01fU0FNUExFUz13LmJsdXJTYW1wbGVzLHAuZGVmaW5lcy5WU01fU0FNUExFUz13LmJsdXJTYW1wbGVzLGQubmVlZHNVcGRhdGU9ITAscC5uZWVkc1VwZGF0ZT0hMCksZC51bmlmb3Jtcy5zaGFkb3dfcGFzcy52YWx1ZT13Lm1hcC50ZXh0dXJlLGQudW5pZm9ybXMucmVzb2x1dGlvbi52YWx1ZT13Lm1hcFNpemUsZC51bmlmb3Jtcy5yYWRpdXMudmFsdWU9dy5yYWRpdXMsaS5zZXRSZW5kZXJUYXJnZXQody5tYXBQYXNzKSxpLmNsZWFyKCksaS5yZW5kZXJCdWZmZXJEaXJlY3QoYixudWxsLEwsZCxmLG51bGwpLHAudW5pZm9ybXMuc2hhZG93X3Bhc3MudmFsdWU9dy5tYXBQYXNzLnRleHR1cmUscC51bmlmb3Jtcy5yZXNvbHV0aW9uLnZhbHVlPXcubWFwU2l6ZSxwLnVuaWZvcm1zLnJhZGl1cy52YWx1ZT13LnJhZGl1cyxpLnNldFJlbmRlclRhcmdldCh3Lm1hcCksaS5jbGVhcigpLGkucmVuZGVyQnVmZmVyRGlyZWN0KGIsbnVsbCxMLHAsZixudWxsKX1mdW5jdGlvbiB5KHcsYixMLFAsayxpZSl7bGV0IE89bnVsbDtjb25zdCB4PUwuaXNQb2ludExpZ2h0PT09ITA/dy5jdXN0b21EaXN0YW5jZU1hdGVyaWFsOncuY3VzdG9tRGVwdGhNYXRlcmlhbDtpZih4IT09dm9pZCAwP089eDpPPUwuaXNQb2ludExpZ2h0PT09ITA/aDpvLGkubG9jYWxDbGlwcGluZ0VuYWJsZWQmJmIuY2xpcFNoYWRvd3M9PT0hMCYmYi5jbGlwcGluZ1BsYW5lcy5sZW5ndGghPT0wfHxiLmRpc3BsYWNlbWVudE1hcCYmYi5kaXNwbGFjZW1lbnRTY2FsZSE9PTB8fGIuYWxwaGFNYXAmJmIuYWxwaGFUZXN0PjApe2NvbnN0IEM9Ty51dWlkLFk9Yi51dWlkO2xldCBOPWxbQ107Tj09PXZvaWQgMCYmKE49e30sbFtDXT1OKTtsZXQgVT1OW1ldO1U9PT12b2lkIDAmJihVPU8uY2xvbmUoKSxOW1ldPVUpLE89VX1yZXR1cm4gTy52aXNpYmxlPWIudmlzaWJsZSxPLndpcmVmcmFtZT1iLndpcmVmcmFtZSxpZT09PWJzP08uc2lkZT1iLnNoYWRvd1NpZGUhPT1udWxsP2Iuc2hhZG93U2lkZTpiLnNpZGU6Ty5zaWRlPWIuc2hhZG93U2lkZSE9PW51bGw/Yi5zaGFkb3dTaWRlOnVbYi5zaWRlXSxPLmFscGhhTWFwPWIuYWxwaGFNYXAsTy5hbHBoYVRlc3Q9Yi5hbHBoYVRlc3QsTy5jbGlwU2hhZG93cz1iLmNsaXBTaGFkb3dzLE8uY2xpcHBpbmdQbGFuZXM9Yi5jbGlwcGluZ1BsYW5lcyxPLmNsaXBJbnRlcnNlY3Rpb249Yi5jbGlwSW50ZXJzZWN0aW9uLE8uZGlzcGxhY2VtZW50TWFwPWIuZGlzcGxhY2VtZW50TWFwLE8uZGlzcGxhY2VtZW50U2NhbGU9Yi5kaXNwbGFjZW1lbnRTY2FsZSxPLmRpc3BsYWNlbWVudEJpYXM9Yi5kaXNwbGFjZW1lbnRCaWFzLE8ud2lyZWZyYW1lTGluZXdpZHRoPWIud2lyZWZyYW1lTGluZXdpZHRoLE8ubGluZXdpZHRoPWIubGluZXdpZHRoLEwuaXNQb2ludExpZ2h0PT09ITAmJk8uaXNNZXNoRGlzdGFuY2VNYXRlcmlhbD09PSEwJiYoTy5yZWZlcmVuY2VQb3NpdGlvbi5zZXRGcm9tTWF0cml4UG9zaXRpb24oTC5tYXRyaXhXb3JsZCksTy5uZWFyRGlzdGFuY2U9UCxPLmZhckRpc3RhbmNlPWspLE99ZnVuY3Rpb24gVCh3LGIsTCxQLGspe2lmKHcudmlzaWJsZT09PSExKXJldHVybjtpZih3LmxheWVycy50ZXN0KGIubGF5ZXJzKSYmKHcuaXNNZXNofHx3LmlzTGluZXx8dy5pc1BvaW50cykmJih3LmNhc3RTaGFkb3d8fHcucmVjZWl2ZVNoYWRvdyYmaz09PWJzKSYmKCF3LmZydXN0dW1DdWxsZWR8fHIuaW50ZXJzZWN0c09iamVjdCh3KSkpe3cubW9kZWxWaWV3TWF0cml4Lm11bHRpcGx5TWF0cmljZXMoTC5tYXRyaXhXb3JsZEludmVyc2Usdy5tYXRyaXhXb3JsZCk7Y29uc3QgTz1lLnVwZGF0ZSh3KSx4PXcubWF0ZXJpYWw7aWYoQXJyYXkuaXNBcnJheSh4KSl7Y29uc3QgQz1PLmdyb3Vwcztmb3IobGV0IFk9MCxOPUMubGVuZ3RoO1k8TjtZKyspe2NvbnN0IFU9Q1tZXSxCPXhbVS5tYXRlcmlhbEluZGV4XTtpZihCJiZCLnZpc2libGUpe2NvbnN0IEc9eSh3LEIsUCxMLm5lYXIsTC5mYXIsayk7aS5yZW5kZXJCdWZmZXJEaXJlY3QoTCxudWxsLE8sRyx3LFUpfX19ZWxzZSBpZih4LnZpc2libGUpe2NvbnN0IEM9eSh3LHgsUCxMLm5lYXIsTC5mYXIsayk7aS5yZW5kZXJCdWZmZXJEaXJlY3QoTCxudWxsLE8sQyx3LG51bGwpfX1jb25zdCBpZT13LmNoaWxkcmVuO2ZvcihsZXQgTz0wLHg9aWUubGVuZ3RoO088eDtPKyspVChpZVtPXSxiLEwsUCxrKX19ZnVuY3Rpb24gQ3koaSxlLHQpe2NvbnN0IHI9dC5pc1dlYkdMMjtmdW5jdGlvbiBzKCl7bGV0IEE9ITE7Y29uc3QgaGU9bmV3IFhlO2xldCBhZT1udWxsO2NvbnN0IHdlPW5ldyBYZSgwLDAsMCwwKTtyZXR1cm57c2V0TWFzazpmdW5jdGlvbihwZSl7YWUhPT1wZSYmIUEmJihpLmNvbG9yTWFzayhwZSxwZSxwZSxwZSksYWU9cGUpfSxzZXRMb2NrZWQ6ZnVuY3Rpb24ocGUpe0E9cGV9LHNldENsZWFyOmZ1bmN0aW9uKHBlLFNlLHNlLENlLGtlKXtrZT09PSEwJiYocGUqPUNlLFNlKj1DZSxzZSo9Q2UpLGhlLnNldChwZSxTZSxzZSxDZSksd2UuZXF1YWxzKGhlKT09PSExJiYoaS5jbGVhckNvbG9yKHBlLFNlLHNlLENlKSx3ZS5jb3B5KGhlKSl9LHJlc2V0OmZ1bmN0aW9uKCl7QT0hMSxhZT1udWxsLHdlLnNldCgtMSwwLDAsMCl9fX1mdW5jdGlvbiBhKCl7bGV0IEE9ITEsaGU9bnVsbCxhZT1udWxsLHdlPW51bGw7cmV0dXJue3NldFRlc3Q6ZnVuY3Rpb24ocGUpe3BlP2JlKDI5MjkpOlYoMjkyOSl9LHNldE1hc2s6ZnVuY3Rpb24ocGUpe2hlIT09cGUmJiFBJiYoaS5kZXB0aE1hc2socGUpLGhlPXBlKX0sc2V0RnVuYzpmdW5jdGlvbihwZSl7aWYoYWUhPT1wZSl7aWYocGUpc3dpdGNoKHBlKXtjYXNlIGNnOmkuZGVwdGhGdW5jKDUxMik7YnJlYWs7Y2FzZSB1ZzppLmRlcHRoRnVuYyg1MTkpO2JyZWFrO2Nhc2UgZGc6aS5kZXB0aEZ1bmMoNTEzKTticmVhaztjYXNlIE1uOmkuZGVwdGhGdW5jKDUxNSk7YnJlYWs7Y2FzZSBwZzppLmRlcHRoRnVuYyg1MTQpO2JyZWFrO2Nhc2UgZmc6aS5kZXB0aEZ1bmMoNTE4KTticmVhaztjYXNlIG1nOmkuZGVwdGhGdW5jKDUxNik7YnJlYWs7Y2FzZSBnZzppLmRlcHRoRnVuYyg1MTcpO2JyZWFrO2RlZmF1bHQ6aS5kZXB0aEZ1bmMoNTE1KX1lbHNlIGkuZGVwdGhGdW5jKDUxNSk7YWU9cGV9fSxzZXRMb2NrZWQ6ZnVuY3Rpb24ocGUpe0E9cGV9LHNldENsZWFyOmZ1bmN0aW9uKHBlKXt3ZSE9PXBlJiYoaS5jbGVhckRlcHRoKHBlKSx3ZT1wZSl9LHJlc2V0OmZ1bmN0aW9uKCl7QT0hMSxoZT1udWxsLGFlPW51bGwsd2U9bnVsbH19fWZ1bmN0aW9uIG4oKXtsZXQgQT0hMSxoZT1udWxsLGFlPW51bGwsd2U9bnVsbCxwZT1udWxsLFNlPW51bGwsc2U9bnVsbCxDZT1udWxsLGtlPW51bGw7cmV0dXJue3NldFRlc3Q6ZnVuY3Rpb24oWWUpe0F8fChZZT9iZSgyOTYwKTpWKDI5NjApKX0sc2V0TWFzazpmdW5jdGlvbihZZSl7aGUhPT1ZZSYmIUEmJihpLnN0ZW5jaWxNYXNrKFllKSxoZT1ZZSl9LHNldEZ1bmM6ZnVuY3Rpb24oWWUsY2ksdWkpeyhhZSE9PVllfHx3ZSE9PWNpfHxwZSE9PXVpKSYmKGkuc3RlbmNpbEZ1bmMoWWUsY2ksdWkpLGFlPVllLHdlPWNpLHBlPXVpKX0sc2V0T3A6ZnVuY3Rpb24oWWUsY2ksdWkpeyhTZSE9PVllfHxzZSE9PWNpfHxDZSE9PXVpKSYmKGkuc3RlbmNpbE9wKFllLGNpLHVpKSxTZT1ZZSxzZT1jaSxDZT11aSl9LHNldExvY2tlZDpmdW5jdGlvbihZZSl7QT1ZZX0sc2V0Q2xlYXI6ZnVuY3Rpb24oWWUpe2tlIT09WWUmJihpLmNsZWFyU3RlbmNpbChZZSksa2U9WWUpfSxyZXNldDpmdW5jdGlvbigpe0E9ITEsaGU9bnVsbCxhZT1udWxsLHdlPW51bGwscGU9bnVsbCxTZT1udWxsLHNlPW51bGwsQ2U9bnVsbCxrZT1udWxsfX19Y29uc3Qgbz1uZXcgcyxoPW5ldyBhLGw9bmV3IG47bGV0IGM9e30sdT17fSxkPW5ldyBXZWFrTWFwLHA9W10sZz1udWxsLGY9ITEsbT1udWxsLHY9bnVsbCx5PW51bGwsVD1udWxsLHc9bnVsbCxiPW51bGwsTD1udWxsLFA9ITEsaz1udWxsLGllPW51bGwsTz1udWxsLHg9bnVsbCxDPW51bGw7Y29uc3QgWT1pLmdldFBhcmFtZXRlcigzNTY2MSk7bGV0IE49ITEsVT0wO2NvbnN0IEI9aS5nZXRQYXJhbWV0ZXIoNzkzOCk7Qi5pbmRleE9mKCJXZWJHTCIpIT09LTE/KFU9cGFyc2VGbG9hdCgvXldlYkdMIChcZCkvLmV4ZWMoQilbMV0pLE49VT49MSk6Qi5pbmRleE9mKCJPcGVuR0wgRVMiKSE9PS0xJiYoVT1wYXJzZUZsb2F0KC9eT3BlbkdMIEVTIChcZCkvLmV4ZWMoQilbMV0pLE49VT49Mik7bGV0IEc9bnVsbCxSPXt9O2NvbnN0IFg9aS5nZXRQYXJhbWV0ZXIoMzA4OCksSj1pLmdldFBhcmFtZXRlcigyOTc4KSx0ZT1uZXcgWGUoKS5mcm9tQXJyYXkoWCksUT1uZXcgWGUoKS5mcm9tQXJyYXkoSik7ZnVuY3Rpb24gdmUoQSxoZSxhZSl7Y29uc3Qgd2U9bmV3IFVpbnQ4QXJyYXkoNCkscGU9aS5jcmVhdGVUZXh0dXJlKCk7aS5iaW5kVGV4dHVyZShBLHBlKSxpLnRleFBhcmFtZXRlcmkoQSwxMDI0MSw5NzI4KSxpLnRleFBhcmFtZXRlcmkoQSwxMDI0MCw5NzI4KTtmb3IobGV0IFNlPTA7U2U8YWU7U2UrKylpLnRleEltYWdlMkQoaGUrU2UsMCw2NDA4LDEsMSwwLDY0MDgsNTEyMSx3ZSk7cmV0dXJuIHBlfWNvbnN0IHplPXt9O3plWzM1NTNdPXZlKDM1NTMsMzU1MywxKSx6ZVszNDA2N109dmUoMzQwNjcsMzQwNjksNiksby5zZXRDbGVhcigwLDAsMCwxKSxoLnNldENsZWFyKDEpLGwuc2V0Q2xlYXIoMCksYmUoMjkyOSksaC5zZXRGdW5jKE1uKSxmZSghMSksbGUoRGgpLGJlKDI4ODQpLGooSWkpO2Z1bmN0aW9uIGJlKEEpe2NbQV0hPT0hMCYmKGkuZW5hYmxlKEEpLGNbQV09ITApfWZ1bmN0aW9uIFYoQSl7Y1tBXSE9PSExJiYoaS5kaXNhYmxlKEEpLGNbQV09ITEpfWZ1bmN0aW9uIFplKEEsaGUpe3JldHVybiB1W0FdIT09aGU/KGkuYmluZEZyYW1lYnVmZmVyKEEsaGUpLHVbQV09aGUsciYmKEE9PT0zNjAwOSYmKHVbMzYxNjBdPWhlKSxBPT09MzYxNjAmJih1WzM2MDA5XT1oZSkpLCEwKTohMX1mdW5jdGlvbiBPZShBLGhlKXtsZXQgYWU9cCx3ZT0hMTtpZihBKWlmKGFlPWQuZ2V0KGhlKSxhZT09PXZvaWQgMCYmKGFlPVtdLGQuc2V0KGhlLGFlKSksQS5pc1dlYkdMTXVsdGlwbGVSZW5kZXJUYXJnZXRzKXtjb25zdCBwZT1BLnRleHR1cmU7aWYoYWUubGVuZ3RoIT09cGUubGVuZ3RofHxhZVswXSE9PTM2MDY0KXtmb3IobGV0IFNlPTAsc2U9cGUubGVuZ3RoO1NlPHNlO1NlKyspYWVbU2VdPTM2MDY0K1NlO2FlLmxlbmd0aD1wZS5sZW5ndGgsd2U9ITB9fWVsc2UgYWVbMF0hPT0zNjA2NCYmKGFlWzBdPTM2MDY0LHdlPSEwKTtlbHNlIGFlWzBdIT09MTAyOSYmKGFlWzBdPTEwMjksd2U9ITApO3dlJiYodC5pc1dlYkdMMj9pLmRyYXdCdWZmZXJzKGFlKTplLmdldCgiV0VCR0xfZHJhd19idWZmZXJzIikuZHJhd0J1ZmZlcnNXRUJHTChhZSkpfWZ1bmN0aW9uIHllKEEpe3JldHVybiBnIT09QT8oaS51c2VQcm9ncmFtKEEpLGc9QSwhMCk6ITF9Y29uc3QgcmU9e1tNcl06MzI3NzQsWyRtXTozMjc3OCxbZWddOjMyNzc5fTtpZihyKXJlW0hoXT0zMjc3NSxyZVtraF09MzI3NzY7ZWxzZXtjb25zdCBBPWUuZ2V0KCJFWFRfYmxlbmRfbWlubWF4Iik7QSE9PW51bGwmJihyZVtIaF09QS5NSU5fRVhULHJlW2toXT1BLk1BWF9FWFQpfWNvbnN0IFo9e1t0Z106MCxbaWddOjEsW3JnXTo3NjgsW0doXTo3NzAsW2xnXTo3NzYsW29nXTo3NzQsW2FnXTo3NzIsW3NnXTo3NjksW1ZoXTo3NzEsW2hnXTo3NzUsW25nXTo3NzN9O2Z1bmN0aW9uIGooQSxoZSxhZSx3ZSxwZSxTZSxzZSxDZSl7aWYoQT09PUlpKXtmPT09ITAmJihWKDMwNDIpLGY9ITEpO3JldHVybn1pZihmPT09ITEmJihiZSgzMDQyKSxmPSEwKSxBIT09UW0pe2lmKEEhPT1tfHxDZSE9PVApe2lmKCh2IT09TXJ8fHchPT1NcikmJihpLmJsZW5kRXF1YXRpb24oMzI3NzQpLHY9TXIsdz1NciksQ2Upc3dpdGNoKEEpe2Nhc2UgeXI6aS5ibGVuZEZ1bmNTZXBhcmF0ZSgxLDc3MSwxLDc3MSk7YnJlYWs7Y2FzZSBCaDppLmJsZW5kRnVuYygxLDEpO2JyZWFrO2Nhc2UgVWg6aS5ibGVuZEZ1bmNTZXBhcmF0ZSgwLDc2OSwwLDEpO2JyZWFrO2Nhc2UgRmg6aS5ibGVuZEZ1bmNTZXBhcmF0ZSgwLDc2OCwwLDc3MCk7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLmVycm9yKCJUSFJFRS5XZWJHTFN0YXRlOiBJbnZhbGlkIGJsZW5kaW5nOiAiLEEpO2JyZWFrfWVsc2Ugc3dpdGNoKEEpe2Nhc2UgeXI6aS5ibGVuZEZ1bmNTZXBhcmF0ZSg3NzAsNzcxLDEsNzcxKTticmVhaztjYXNlIEJoOmkuYmxlbmRGdW5jKDc3MCwxKTticmVhaztjYXNlIFVoOmkuYmxlbmRGdW5jU2VwYXJhdGUoMCw3NjksMCwxKTticmVhaztjYXNlIEZoOmkuYmxlbmRGdW5jKDAsNzY4KTticmVhaztkZWZhdWx0OmNvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMU3RhdGU6IEludmFsaWQgYmxlbmRpbmc6ICIsQSk7YnJlYWt9eT1udWxsLFQ9bnVsbCxiPW51bGwsTD1udWxsLG09QSxQPUNlfXJldHVybn1wZT1wZXx8aGUsU2U9U2V8fGFlLHNlPXNlfHx3ZSwoaGUhPT12fHxwZSE9PXcpJiYoaS5ibGVuZEVxdWF0aW9uU2VwYXJhdGUocmVbaGVdLHJlW3BlXSksdj1oZSx3PXBlKSwoYWUhPT15fHx3ZSE9PVR8fFNlIT09Ynx8c2UhPT1MKSYmKGkuYmxlbmRGdW5jU2VwYXJhdGUoWlthZV0sWlt3ZV0sWltTZV0sWltzZV0pLHk9YWUsVD13ZSxiPVNlLEw9c2UpLG09QSxQPW51bGx9ZnVuY3Rpb24gcShBLGhlKXtBLnNpZGU9PT1fcj9WKDI4ODQpOmJlKDI4ODQpO2xldCBhZT1BLnNpZGU9PT1qdDtoZSYmKGFlPSFhZSksZmUoYWUpLEEuYmxlbmRpbmc9PT15ciYmQS50cmFuc3BhcmVudD09PSExP2ooSWkpOmooQS5ibGVuZGluZyxBLmJsZW5kRXF1YXRpb24sQS5ibGVuZFNyYyxBLmJsZW5kRHN0LEEuYmxlbmRFcXVhdGlvbkFscGhhLEEuYmxlbmRTcmNBbHBoYSxBLmJsZW5kRHN0QWxwaGEsQS5wcmVtdWx0aXBsaWVkQWxwaGEpLGguc2V0RnVuYyhBLmRlcHRoRnVuYyksaC5zZXRUZXN0KEEuZGVwdGhUZXN0KSxoLnNldE1hc2soQS5kZXB0aFdyaXRlKSxvLnNldE1hc2soQS5jb2xvcldyaXRlKTtjb25zdCB3ZT1BLnN0ZW5jaWxXcml0ZTtsLnNldFRlc3Qod2UpLHdlJiYobC5zZXRNYXNrKEEuc3RlbmNpbFdyaXRlTWFzayksbC5zZXRGdW5jKEEuc3RlbmNpbEZ1bmMsQS5zdGVuY2lsUmVmLEEuc3RlbmNpbEZ1bmNNYXNrKSxsLnNldE9wKEEuc3RlbmNpbEZhaWwsQS5zdGVuY2lsWkZhaWwsQS5zdGVuY2lsWlBhc3MpKSxQZShBLnBvbHlnb25PZmZzZXQsQS5wb2x5Z29uT2Zmc2V0RmFjdG9yLEEucG9seWdvbk9mZnNldFVuaXRzKSxBLmFscGhhVG9Db3ZlcmFnZT09PSEwP2JlKDMyOTI2KTpWKDMyOTI2KX1mdW5jdGlvbiBmZShBKXtrIT09QSYmKEE/aS5mcm9udEZhY2UoMjMwNCk6aS5mcm9udEZhY2UoMjMwNSksaz1BKX1mdW5jdGlvbiBsZShBKXtBIT09WW0/KGJlKDI4ODQpLEEhPT1pZSYmKEE9PT1EaD9pLmN1bGxGYWNlKDEwMjkpOkE9PT1abT9pLmN1bGxGYWNlKDEwMjgpOmkuY3VsbEZhY2UoMTAzMikpKTpWKDI4ODQpLGllPUF9ZnVuY3Rpb24gQWUoQSl7QSE9PU8mJihOJiZpLmxpbmVXaWR0aChBKSxPPUEpfWZ1bmN0aW9uIFBlKEEsaGUsYWUpe0E/KGJlKDMyODIzKSwoeCE9PWhlfHxDIT09YWUpJiYoaS5wb2x5Z29uT2Zmc2V0KGhlLGFlKSx4PWhlLEM9YWUpKTpWKDMyODIzKX1mdW5jdGlvbiBJZShBKXtBP2JlKDMwODkpOlYoMzA4OSl9ZnVuY3Rpb24gVGUoQSl7QT09PXZvaWQgMCYmKEE9MzM5ODQrWS0xKSxHIT09QSYmKGkuYWN0aXZlVGV4dHVyZShBKSxHPUEpfWZ1bmN0aW9uIEtlKEEsaGUpe0c9PT1udWxsJiZUZSgpO2xldCBhZT1SW0ddO2FlPT09dm9pZCAwJiYoYWU9e3R5cGU6dm9pZCAwLHRleHR1cmU6dm9pZCAwfSxSW0ddPWFlKSwoYWUudHlwZSE9PUF8fGFlLnRleHR1cmUhPT1oZSkmJihpLmJpbmRUZXh0dXJlKEEsaGV8fHplW0FdKSxhZS50eXBlPUEsYWUudGV4dHVyZT1oZSl9ZnVuY3Rpb24gTHQoKXtjb25zdCBBPVJbR107QSE9PXZvaWQgMCYmQS50eXBlIT09dm9pZCAwJiYoaS5iaW5kVGV4dHVyZShBLnR5cGUsbnVsbCksQS50eXBlPXZvaWQgMCxBLnRleHR1cmU9dm9pZCAwKX1mdW5jdGlvbiBTKCl7dHJ5e2kuY29tcHJlc3NlZFRleEltYWdlMkQuYXBwbHkoaSxhcmd1bWVudHMpfWNhdGNoKEEpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMU3RhdGU6IixBKX19ZnVuY3Rpb24gXygpe3RyeXtpLnRleFN1YkltYWdlMkQuYXBwbHkoaSxhcmd1bWVudHMpfWNhdGNoKEEpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMU3RhdGU6IixBKX19ZnVuY3Rpb24gRigpe3RyeXtpLnRleFN1YkltYWdlM0QuYXBwbHkoaSxhcmd1bWVudHMpfWNhdGNoKEEpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMU3RhdGU6IixBKX19ZnVuY3Rpb24gJCgpe3RyeXtpLmNvbXByZXNzZWRUZXhTdWJJbWFnZTJELmFwcGx5KGksYXJndW1lbnRzKX1jYXRjaChBKXtjb25zb2xlLmVycm9yKCJUSFJFRS5XZWJHTFN0YXRlOiIsQSl9fWZ1bmN0aW9uIGNlKCl7dHJ5e2kudGV4U3RvcmFnZTJELmFwcGx5KGksYXJndW1lbnRzKX1jYXRjaChBKXtjb25zb2xlLmVycm9yKCJUSFJFRS5XZWJHTFN0YXRlOiIsQSl9fWZ1bmN0aW9uIGRlKCl7dHJ5e2kudGV4U3RvcmFnZTNELmFwcGx5KGksYXJndW1lbnRzKX1jYXRjaChBKXtjb25zb2xlLmVycm9yKCJUSFJFRS5XZWJHTFN0YXRlOiIsQSl9fWZ1bmN0aW9uIE1lKCl7dHJ5e2kudGV4SW1hZ2UyRC5hcHBseShpLGFyZ3VtZW50cyl9Y2F0Y2goQSl7Y29uc29sZS5lcnJvcigiVEhSRUUuV2ViR0xTdGF0ZToiLEEpfX1mdW5jdGlvbiBIKCl7dHJ5e2kudGV4SW1hZ2UzRC5hcHBseShpLGFyZ3VtZW50cyl9Y2F0Y2goQSl7Y29uc29sZS5lcnJvcigiVEhSRUUuV2ViR0xTdGF0ZToiLEEpfX1mdW5jdGlvbiBOZShBKXt0ZS5lcXVhbHMoQSk9PT0hMSYmKGkuc2Npc3NvcihBLngsQS55LEEueixBLncpLHRlLmNvcHkoQSkpfWZ1bmN0aW9uIEJlKEEpe1EuZXF1YWxzKEEpPT09ITEmJihpLnZpZXdwb3J0KEEueCxBLnksQS56LEEudyksUS5jb3B5KEEpKX1mdW5jdGlvbiBtZSgpe2kuZGlzYWJsZSgzMDQyKSxpLmRpc2FibGUoMjg4NCksaS5kaXNhYmxlKDI5MjkpLGkuZGlzYWJsZSgzMjgyMyksaS5kaXNhYmxlKDMwODkpLGkuZGlzYWJsZSgyOTYwKSxpLmRpc2FibGUoMzI5MjYpLGkuYmxlbmRFcXVhdGlvbigzMjc3NCksaS5ibGVuZEZ1bmMoMSwwKSxpLmJsZW5kRnVuY1NlcGFyYXRlKDEsMCwxLDApLGkuY29sb3JNYXNrKCEwLCEwLCEwLCEwKSxpLmNsZWFyQ29sb3IoMCwwLDAsMCksaS5kZXB0aE1hc2soITApLGkuZGVwdGhGdW5jKDUxMyksaS5jbGVhckRlcHRoKDEpLGkuc3RlbmNpbE1hc2soNDI5NDk2NzI5NSksaS5zdGVuY2lsRnVuYyg1MTksMCw0Mjk0OTY3Mjk1KSxpLnN0ZW5jaWxPcCg3NjgwLDc2ODAsNzY4MCksaS5jbGVhclN0ZW5jaWwoMCksaS5jdWxsRmFjZSgxMDI5KSxpLmZyb250RmFjZSgyMzA1KSxpLnBvbHlnb25PZmZzZXQoMCwwKSxpLmFjdGl2ZVRleHR1cmUoMzM5ODQpLGkuYmluZEZyYW1lYnVmZmVyKDM2MTYwLG51bGwpLHI9PT0hMCYmKGkuYmluZEZyYW1lYnVmZmVyKDM2MDA5LG51bGwpLGkuYmluZEZyYW1lYnVmZmVyKDM2MDA4LG51bGwpKSxpLnVzZVByb2dyYW0obnVsbCksaS5saW5lV2lkdGgoMSksaS5zY2lzc29yKDAsMCxpLmNhbnZhcy53aWR0aCxpLmNhbnZhcy5oZWlnaHQpLGkudmlld3BvcnQoMCwwLGkuY2FudmFzLndpZHRoLGkuY2FudmFzLmhlaWdodCksYz17fSxHPW51bGwsUj17fSx1PXt9LGQ9bmV3IFdlYWtNYXAscD1bXSxnPW51bGwsZj0hMSxtPW51bGwsdj1udWxsLHk9bnVsbCxUPW51bGwsdz1udWxsLGI9bnVsbCxMPW51bGwsUD0hMSxrPW51bGwsaWU9bnVsbCxPPW51bGwseD1udWxsLEM9bnVsbCx0ZS5zZXQoMCwwLGkuY2FudmFzLndpZHRoLGkuY2FudmFzLmhlaWdodCksUS5zZXQoMCwwLGkuY2FudmFzLndpZHRoLGkuY2FudmFzLmhlaWdodCksby5yZXNldCgpLGgucmVzZXQoKSxsLnJlc2V0KCl9cmV0dXJue2J1ZmZlcnM6e2NvbG9yOm8sZGVwdGg6aCxzdGVuY2lsOmx9LGVuYWJsZTpiZSxkaXNhYmxlOlYsYmluZEZyYW1lYnVmZmVyOlplLGRyYXdCdWZmZXJzOk9lLHVzZVByb2dyYW06eWUsc2V0QmxlbmRpbmc6aixzZXRNYXRlcmlhbDpxLHNldEZsaXBTaWRlZDpmZSxzZXRDdWxsRmFjZTpsZSxzZXRMaW5lV2lkdGg6QWUsc2V0UG9seWdvbk9mZnNldDpQZSxzZXRTY2lzc29yVGVzdDpJZSxhY3RpdmVUZXh0dXJlOlRlLGJpbmRUZXh0dXJlOktlLHVuYmluZFRleHR1cmU6THQsY29tcHJlc3NlZFRleEltYWdlMkQ6Uyx0ZXhJbWFnZTJEOk1lLHRleEltYWdlM0Q6SCx0ZXhTdG9yYWdlMkQ6Y2UsdGV4U3RvcmFnZTNEOmRlLHRleFN1YkltYWdlMkQ6Xyx0ZXhTdWJJbWFnZTNEOkYsY29tcHJlc3NlZFRleFN1YkltYWdlMkQ6JCxzY2lzc29yOk5lLHZpZXdwb3J0OkJlLHJlc2V0Om1lfX1mdW5jdGlvbiBMeShpLGUsdCxyLHMsYSxuKXtjb25zdCBvPXMuaXNXZWJHTDIsaD1zLm1heFRleHR1cmVzLGw9cy5tYXhDdWJlbWFwU2l6ZSxjPXMubWF4VGV4dHVyZVNpemUsdT1zLm1heFNhbXBsZXMsZD1lLmhhcygiV0VCR0xfbXVsdGlzYW1wbGVkX3JlbmRlcl90b190ZXh0dXJlIik/ZS5nZXQoIldFQkdMX211bHRpc2FtcGxlZF9yZW5kZXJfdG9fdGV4dHVyZSIpOm51bGwscD0vT2N1bHVzQnJvd3Nlci9nLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksZz1uZXcgV2Vha01hcDtsZXQgZjtjb25zdCBtPW5ldyBXZWFrTWFwO2xldCB2PSExO3RyeXt2PXR5cGVvZiBPZmZzY3JlZW5DYW52YXM8InUiJiZuZXcgT2Zmc2NyZWVuQ2FudmFzKDEsMSkuZ2V0Q29udGV4dCgiMmQiKSE9PW51bGx9Y2F0Y2h7fWZ1bmN0aW9uIHkoUyxfKXtyZXR1cm4gdj9uZXcgT2Zmc2NyZWVuQ2FudmFzKFMsXyk6VHMoImNhbnZhcyIpfWZ1bmN0aW9uIFQoUyxfLEYsJCl7bGV0IGNlPTE7aWYoKFMud2lkdGg+JHx8Uy5oZWlnaHQ+JCkmJihjZT0kL01hdGgubWF4KFMud2lkdGgsUy5oZWlnaHQpKSxjZTwxfHxfPT09ITApaWYodHlwZW9mIEhUTUxJbWFnZUVsZW1lbnQ8InUiJiZTIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudHx8dHlwZW9mIEhUTUxDYW52YXNFbGVtZW50PCJ1IiYmUyBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50fHx0eXBlb2YgSW1hZ2VCaXRtYXA8InUiJiZTIGluc3RhbmNlb2YgSW1hZ2VCaXRtYXApe2NvbnN0IGRlPV8/Qm46TWF0aC5mbG9vcixNZT1kZShjZSpTLndpZHRoKSxIPWRlKGNlKlMuaGVpZ2h0KTtmPT09dm9pZCAwJiYoZj15KE1lLEgpKTtjb25zdCBOZT1GP3koTWUsSCk6ZjtyZXR1cm4gTmUud2lkdGg9TWUsTmUuaGVpZ2h0PUgsTmUuZ2V0Q29udGV4dCgiMmQiKS5kcmF3SW1hZ2UoUywwLDAsTWUsSCksY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiBUZXh0dXJlIGhhcyBiZWVuIHJlc2l6ZWQgZnJvbSAoIitTLndpZHRoKyJ4IitTLmhlaWdodCsiKSB0byAoIitNZSsieCIrSCsiKS4iKSxOZX1lbHNlIHJldHVybiJkYXRhImluIFMmJmNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogSW1hZ2UgaW4gRGF0YVRleHR1cmUgaXMgdG9vIGJpZyAoIitTLndpZHRoKyJ4IitTLmhlaWdodCsiKS4iKSxTO3JldHVybiBTfWZ1bmN0aW9uIHcoUyl7cmV0dXJuIGdsKFMud2lkdGgpJiZnbChTLmhlaWdodCl9ZnVuY3Rpb24gYihTKXtyZXR1cm4gbz8hMTpTLndyYXBTIT09cXR8fFMud3JhcFQhPT1xdHx8Uy5taW5GaWx0ZXIhPT11dCYmUy5taW5GaWx0ZXIhPT1JdH1mdW5jdGlvbiBMKFMsXyl7cmV0dXJuIFMuZ2VuZXJhdGVNaXBtYXBzJiZfJiZTLm1pbkZpbHRlciE9PXV0JiZTLm1pbkZpbHRlciE9PUl0fWZ1bmN0aW9uIFAoUyl7aS5nZW5lcmF0ZU1pcG1hcChTKX1mdW5jdGlvbiBrKFMsXyxGLCQsY2U9ITEpe2lmKG89PT0hMSlyZXR1cm4gXztpZihTIT09bnVsbCl7aWYoaVtTXSE9PXZvaWQgMClyZXR1cm4gaVtTXTtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IEF0dGVtcHQgdG8gdXNlIG5vbi1leGlzdGluZyBXZWJHTCBpbnRlcm5hbCBmb3JtYXQgJyIrUysiJyIpfWxldCBkZT1fO3JldHVybiBfPT09NjQwMyYmKEY9PT01MTI2JiYoZGU9MzMzMjYpLEY9PT01MTMxJiYoZGU9MzMzMjUpLEY9PT01MTIxJiYoZGU9MzMzMjEpKSxfPT09MzMzMTkmJihGPT09NTEyNiYmKGRlPTMzMzI4KSxGPT09NTEzMSYmKGRlPTMzMzI3KSxGPT09NTEyMSYmKGRlPTMzMzIzKSksXz09PTY0MDgmJihGPT09NTEyNiYmKGRlPTM0ODM2KSxGPT09NTEzMSYmKGRlPTM0ODQyKSxGPT09NTEyMSYmKGRlPSQ9PT1RZSYmY2U9PT0hMT8zNTkwNzozMjg1NiksRj09PTMyODE5JiYoZGU9MzI4NTQpLEY9PT0zMjgyMCYmKGRlPTMyODU1KSksKGRlPT09MzMzMjV8fGRlPT09MzMzMjZ8fGRlPT09MzMzMjd8fGRlPT09MzMzMjh8fGRlPT09MzQ4NDJ8fGRlPT09MzQ4MzYpJiZlLmdldCgiRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdCIpLGRlfWZ1bmN0aW9uIGllKFMsXyxGKXtyZXR1cm4gTChTLEYpPT09ITB8fFMuaXNGcmFtZWJ1ZmZlclRleHR1cmUmJlMubWluRmlsdGVyIT09dXQmJlMubWluRmlsdGVyIT09SXQ/TWF0aC5sb2cyKE1hdGgubWF4KF8ud2lkdGgsXy5oZWlnaHQpKSsxOlMubWlwbWFwcyE9PXZvaWQgMCYmUy5taXBtYXBzLmxlbmd0aD4wP1MubWlwbWFwcy5sZW5ndGg6Uy5pc0NvbXByZXNzZWRUZXh0dXJlJiZBcnJheS5pc0FycmF5KFMuaW1hZ2UpP18ubWlwbWFwcy5sZW5ndGg6MX1mdW5jdGlvbiBPKFMpe3JldHVybiBTPT09dXR8fFM9PT1qaHx8Uz09PXFoPzk3Mjg6OTcyOX1mdW5jdGlvbiB4KFMpe2NvbnN0IF89Uy50YXJnZXQ7Xy5yZW1vdmVFdmVudExpc3RlbmVyKCJkaXNwb3NlIix4KSxZKF8pLF8uaXNWaWRlb1RleHR1cmUmJmcuZGVsZXRlKF8pfWZ1bmN0aW9uIEMoUyl7Y29uc3QgXz1TLnRhcmdldDtfLnJlbW92ZUV2ZW50TGlzdGVuZXIoImRpc3Bvc2UiLEMpLFUoXyl9ZnVuY3Rpb24gWShTKXtjb25zdCBfPXIuZ2V0KFMpO2lmKF8uX193ZWJnbEluaXQ9PT12b2lkIDApcmV0dXJuO2NvbnN0IEY9Uy5zb3VyY2UsJD1tLmdldChGKTtpZigkKXtjb25zdCBjZT0kW18uX19jYWNoZUtleV07Y2UudXNlZFRpbWVzLS0sY2UudXNlZFRpbWVzPT09MCYmTihTKSxPYmplY3Qua2V5cygkKS5sZW5ndGg9PT0wJiZtLmRlbGV0ZShGKX1yLnJlbW92ZShTKX1mdW5jdGlvbiBOKFMpe2NvbnN0IF89ci5nZXQoUyk7aS5kZWxldGVUZXh0dXJlKF8uX193ZWJnbFRleHR1cmUpO2NvbnN0IEY9Uy5zb3VyY2UsJD1tLmdldChGKTtkZWxldGUgJFtfLl9fY2FjaGVLZXldLG4ubWVtb3J5LnRleHR1cmVzLS19ZnVuY3Rpb24gVShTKXtjb25zdCBfPVMudGV4dHVyZSxGPXIuZ2V0KFMpLCQ9ci5nZXQoXyk7aWYoJC5fX3dlYmdsVGV4dHVyZSE9PXZvaWQgMCYmKGkuZGVsZXRlVGV4dHVyZSgkLl9fd2ViZ2xUZXh0dXJlKSxuLm1lbW9yeS50ZXh0dXJlcy0tKSxTLmRlcHRoVGV4dHVyZSYmUy5kZXB0aFRleHR1cmUuZGlzcG9zZSgpLFMuaXNXZWJHTEN1YmVSZW5kZXJUYXJnZXQpZm9yKGxldCBjZT0wO2NlPDY7Y2UrKylpLmRlbGV0ZUZyYW1lYnVmZmVyKEYuX193ZWJnbEZyYW1lYnVmZmVyW2NlXSksRi5fX3dlYmdsRGVwdGhidWZmZXImJmkuZGVsZXRlUmVuZGVyYnVmZmVyKEYuX193ZWJnbERlcHRoYnVmZmVyW2NlXSk7ZWxzZSBpLmRlbGV0ZUZyYW1lYnVmZmVyKEYuX193ZWJnbEZyYW1lYnVmZmVyKSxGLl9fd2ViZ2xEZXB0aGJ1ZmZlciYmaS5kZWxldGVSZW5kZXJidWZmZXIoRi5fX3dlYmdsRGVwdGhidWZmZXIpLEYuX193ZWJnbE11bHRpc2FtcGxlZEZyYW1lYnVmZmVyJiZpLmRlbGV0ZUZyYW1lYnVmZmVyKEYuX193ZWJnbE11bHRpc2FtcGxlZEZyYW1lYnVmZmVyKSxGLl9fd2ViZ2xDb2xvclJlbmRlcmJ1ZmZlciYmaS5kZWxldGVSZW5kZXJidWZmZXIoRi5fX3dlYmdsQ29sb3JSZW5kZXJidWZmZXIpLEYuX193ZWJnbERlcHRoUmVuZGVyYnVmZmVyJiZpLmRlbGV0ZVJlbmRlcmJ1ZmZlcihGLl9fd2ViZ2xEZXB0aFJlbmRlcmJ1ZmZlcik7aWYoUy5pc1dlYkdMTXVsdGlwbGVSZW5kZXJUYXJnZXRzKWZvcihsZXQgY2U9MCxkZT1fLmxlbmd0aDtjZTxkZTtjZSsrKXtjb25zdCBNZT1yLmdldChfW2NlXSk7TWUuX193ZWJnbFRleHR1cmUmJihpLmRlbGV0ZVRleHR1cmUoTWUuX193ZWJnbFRleHR1cmUpLG4ubWVtb3J5LnRleHR1cmVzLS0pLHIucmVtb3ZlKF9bY2VdKX1yLnJlbW92ZShfKSxyLnJlbW92ZShTKX1sZXQgQj0wO2Z1bmN0aW9uIEcoKXtCPTB9ZnVuY3Rpb24gUigpe2NvbnN0IFM9QjtyZXR1cm4gUz49aCYmY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFRleHR1cmVzOiBUcnlpbmcgdG8gdXNlICIrUysiIHRleHR1cmUgdW5pdHMgd2hpbGUgdGhpcyBHUFUgc3VwcG9ydHMgb25seSAiK2gpLEIrPTEsU31mdW5jdGlvbiBYKFMpe2NvbnN0IF89W107cmV0dXJuIF8ucHVzaChTLndyYXBTKSxfLnB1c2goUy53cmFwVCksXy5wdXNoKFMubWFnRmlsdGVyKSxfLnB1c2goUy5taW5GaWx0ZXIpLF8ucHVzaChTLmFuaXNvdHJvcHkpLF8ucHVzaChTLmludGVybmFsRm9ybWF0KSxfLnB1c2goUy5mb3JtYXQpLF8ucHVzaChTLnR5cGUpLF8ucHVzaChTLmdlbmVyYXRlTWlwbWFwcyksXy5wdXNoKFMucHJlbXVsdGlwbHlBbHBoYSksXy5wdXNoKFMuZmxpcFkpLF8ucHVzaChTLnVucGFja0FsaWdubWVudCksXy5wdXNoKFMuZW5jb2RpbmcpLF8uam9pbigpfWZ1bmN0aW9uIEooUyxfKXtjb25zdCBGPXIuZ2V0KFMpO2lmKFMuaXNWaWRlb1RleHR1cmUmJktlKFMpLFMuaXNSZW5kZXJUYXJnZXRUZXh0dXJlPT09ITEmJlMudmVyc2lvbj4wJiZGLl9fdmVyc2lvbiE9PVMudmVyc2lvbil7Y29uc3QgJD1TLmltYWdlO2lmKCQ9PT1udWxsKWNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogVGV4dHVyZSBtYXJrZWQgZm9yIHVwZGF0ZSBidXQgbm8gaW1hZ2UgZGF0YSBmb3VuZC4iKTtlbHNlIGlmKCQuY29tcGxldGU9PT0hMSljb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IFRleHR1cmUgbWFya2VkIGZvciB1cGRhdGUgYnV0IGltYWdlIGlzIGluY29tcGxldGUiKTtlbHNle09lKEYsUyxfKTtyZXR1cm59fXQuYWN0aXZlVGV4dHVyZSgzMzk4NCtfKSx0LmJpbmRUZXh0dXJlKDM1NTMsRi5fX3dlYmdsVGV4dHVyZSl9ZnVuY3Rpb24gdGUoUyxfKXtjb25zdCBGPXIuZ2V0KFMpO2lmKFMudmVyc2lvbj4wJiZGLl9fdmVyc2lvbiE9PVMudmVyc2lvbil7T2UoRixTLF8pO3JldHVybn10LmFjdGl2ZVRleHR1cmUoMzM5ODQrXyksdC5iaW5kVGV4dHVyZSgzNTg2NixGLl9fd2ViZ2xUZXh0dXJlKX1mdW5jdGlvbiBRKFMsXyl7Y29uc3QgRj1yLmdldChTKTtpZihTLnZlcnNpb24+MCYmRi5fX3ZlcnNpb24hPT1TLnZlcnNpb24pe09lKEYsUyxfKTtyZXR1cm59dC5hY3RpdmVUZXh0dXJlKDMzOTg0K18pLHQuYmluZFRleHR1cmUoMzI4NzksRi5fX3dlYmdsVGV4dHVyZSl9ZnVuY3Rpb24gdmUoUyxfKXtjb25zdCBGPXIuZ2V0KFMpO2lmKFMudmVyc2lvbj4wJiZGLl9fdmVyc2lvbiE9PVMudmVyc2lvbil7eWUoRixTLF8pO3JldHVybn10LmFjdGl2ZVRleHR1cmUoMzM5ODQrXyksdC5iaW5kVGV4dHVyZSgzNDA2NyxGLl9fd2ViZ2xUZXh0dXJlKX1jb25zdCB6ZT17W1NuXToxMDQ5NyxbcXRdOjMzMDcxLFtFbl06MzM2NDh9LGJlPXtbdXRdOjk3MjgsW2poXTo5OTg0LFtxaF06OTk4NixbSXRdOjk3MjksW1NnXTo5OTg1LFt1YV06OTk4N307ZnVuY3Rpb24gVihTLF8sRil7aWYoRj8oaS50ZXhQYXJhbWV0ZXJpKFMsMTAyNDIsemVbXy53cmFwU10pLGkudGV4UGFyYW1ldGVyaShTLDEwMjQzLHplW18ud3JhcFRdKSwoUz09PTMyODc5fHxTPT09MzU4NjYpJiZpLnRleFBhcmFtZXRlcmkoUywzMjg4Mix6ZVtfLndyYXBSXSksaS50ZXhQYXJhbWV0ZXJpKFMsMTAyNDAsYmVbXy5tYWdGaWx0ZXJdKSxpLnRleFBhcmFtZXRlcmkoUywxMDI0MSxiZVtfLm1pbkZpbHRlcl0pKTooaS50ZXhQYXJhbWV0ZXJpKFMsMTAyNDIsMzMwNzEpLGkudGV4UGFyYW1ldGVyaShTLDEwMjQzLDMzMDcxKSwoUz09PTMyODc5fHxTPT09MzU4NjYpJiZpLnRleFBhcmFtZXRlcmkoUywzMjg4MiwzMzA3MSksKF8ud3JhcFMhPT1xdHx8Xy53cmFwVCE9PXF0KSYmY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiBUZXh0dXJlIGlzIG5vdCBwb3dlciBvZiB0d28uIFRleHR1cmUud3JhcFMgYW5kIFRleHR1cmUud3JhcFQgc2hvdWxkIGJlIHNldCB0byBUSFJFRS5DbGFtcFRvRWRnZVdyYXBwaW5nLiIpLGkudGV4UGFyYW1ldGVyaShTLDEwMjQwLE8oXy5tYWdGaWx0ZXIpKSxpLnRleFBhcmFtZXRlcmkoUywxMDI0MSxPKF8ubWluRmlsdGVyKSksXy5taW5GaWx0ZXIhPT11dCYmXy5taW5GaWx0ZXIhPT1JdCYmY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiBUZXh0dXJlIGlzIG5vdCBwb3dlciBvZiB0d28uIFRleHR1cmUubWluRmlsdGVyIHNob3VsZCBiZSBzZXQgdG8gVEhSRUUuTmVhcmVzdEZpbHRlciBvciBUSFJFRS5MaW5lYXJGaWx0ZXIuIikpLGUuaGFzKCJFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMiKT09PSEwKXtjb25zdCAkPWUuZ2V0KCJFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMiKTtpZihfLnR5cGU9PT1ZaSYmZS5oYXMoIk9FU190ZXh0dXJlX2Zsb2F0X2xpbmVhciIpPT09ITF8fG89PT0hMSYmXy50eXBlPT09U3ImJmUuaGFzKCJPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0X2xpbmVhciIpPT09ITEpcmV0dXJuOyhfLmFuaXNvdHJvcHk+MXx8ci5nZXQoXykuX19jdXJyZW50QW5pc290cm9weSkmJihpLnRleFBhcmFtZXRlcmYoUywkLlRFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhULE1hdGgubWluKF8uYW5pc290cm9weSxzLmdldE1heEFuaXNvdHJvcHkoKSkpLHIuZ2V0KF8pLl9fY3VycmVudEFuaXNvdHJvcHk9Xy5hbmlzb3Ryb3B5KX19ZnVuY3Rpb24gWmUoUyxfKXtsZXQgRj0hMTtTLl9fd2ViZ2xJbml0PT09dm9pZCAwJiYoUy5fX3dlYmdsSW5pdD0hMCxfLmFkZEV2ZW50TGlzdGVuZXIoImRpc3Bvc2UiLHgpKTtjb25zdCAkPV8uc291cmNlO2xldCBjZT1tLmdldCgkKTtjZT09PXZvaWQgMCYmKGNlPXt9LG0uc2V0KCQsY2UpKTtjb25zdCBkZT1YKF8pO2lmKGRlIT09Uy5fX2NhY2hlS2V5KXtjZVtkZV09PT12b2lkIDAmJihjZVtkZV09e3RleHR1cmU6aS5jcmVhdGVUZXh0dXJlKCksdXNlZFRpbWVzOjB9LG4ubWVtb3J5LnRleHR1cmVzKyssRj0hMCksY2VbZGVdLnVzZWRUaW1lcysrO2NvbnN0IE1lPWNlW1MuX19jYWNoZUtleV07TWUhPT12b2lkIDAmJihjZVtTLl9fY2FjaGVLZXldLnVzZWRUaW1lcy0tLE1lLnVzZWRUaW1lcz09PTAmJk4oXykpLFMuX19jYWNoZUtleT1kZSxTLl9fd2ViZ2xUZXh0dXJlPWNlW2RlXS50ZXh0dXJlfXJldHVybiBGfWZ1bmN0aW9uIE9lKFMsXyxGKXtsZXQgJD0zNTUzO18uaXNEYXRhQXJyYXlUZXh0dXJlJiYoJD0zNTg2NiksXy5pc0RhdGEzRFRleHR1cmUmJigkPTMyODc5KTtjb25zdCBjZT1aZShTLF8pLGRlPV8uc291cmNlO2lmKHQuYWN0aXZlVGV4dHVyZSgzMzk4NCtGKSx0LmJpbmRUZXh0dXJlKCQsUy5fX3dlYmdsVGV4dHVyZSksZGUudmVyc2lvbiE9PWRlLl9fY3VycmVudFZlcnNpb258fGNlPT09ITApe2kucGl4ZWxTdG9yZWkoMzc0NDAsXy5mbGlwWSksaS5waXhlbFN0b3JlaSgzNzQ0MSxfLnByZW11bHRpcGx5QWxwaGEpLGkucGl4ZWxTdG9yZWkoMzMxNyxfLnVucGFja0FsaWdubWVudCksaS5waXhlbFN0b3JlaSgzNzQ0MywwKTtjb25zdCBNZT1iKF8pJiZ3KF8uaW1hZ2UpPT09ITE7bGV0IEg9VChfLmltYWdlLE1lLCExLGMpO0g9THQoXyxIKTtjb25zdCBOZT13KEgpfHxvLEJlPWEuY29udmVydChfLmZvcm1hdCxfLmVuY29kaW5nKTtsZXQgbWU9YS5jb252ZXJ0KF8udHlwZSksQT1rKF8uaW50ZXJuYWxGb3JtYXQsQmUsbWUsXy5lbmNvZGluZyxfLmlzVmlkZW9UZXh0dXJlKTtWKCQsXyxOZSk7bGV0IGhlO2NvbnN0IGFlPV8ubWlwbWFwcyx3ZT1vJiZfLmlzVmlkZW9UZXh0dXJlIT09ITAscGU9Uy5fX3ZlcnNpb249PT12b2lkIDAsU2U9aWUoXyxILE5lKTtpZihfLmlzRGVwdGhUZXh0dXJlKUE9NjQwMixvP18udHlwZT09PVlpP0E9MzYwMTI6Xy50eXBlPT09ZGE/QT0zMzE5MDpfLnR5cGU9PT1Fcj9BPTM1MDU2OkE9MzMxODk6Xy50eXBlPT09WWkmJmNvbnNvbGUuZXJyb3IoIldlYkdMUmVuZGVyZXI6IEZsb2F0aW5nIHBvaW50IGRlcHRoIHRleHR1cmUgcmVxdWlyZXMgV2ViR0wyLiIpLF8uZm9ybWF0PT09WmkmJkE9PT02NDAyJiZfLnR5cGUhPT1TcyYmXy50eXBlIT09ZGEmJihjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IFVzZSBVbnNpZ25lZFNob3J0VHlwZSBvciBVbnNpZ25lZEludFR5cGUgZm9yIERlcHRoRm9ybWF0IERlcHRoVGV4dHVyZS4iKSxfLnR5cGU9U3MsbWU9YS5jb252ZXJ0KF8udHlwZSkpLF8uZm9ybWF0PT09VHImJkE9PT02NDAyJiYoQT0zNDA0MSxfLnR5cGUhPT1FciYmKGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogVXNlIFVuc2lnbmVkSW50MjQ4VHlwZSBmb3IgRGVwdGhTdGVuY2lsRm9ybWF0IERlcHRoVGV4dHVyZS4iKSxfLnR5cGU9RXIsbWU9YS5jb252ZXJ0KF8udHlwZSkpKSx3ZSYmcGU/dC50ZXhTdG9yYWdlMkQoMzU1MywxLEEsSC53aWR0aCxILmhlaWdodCk6dC50ZXhJbWFnZTJEKDM1NTMsMCxBLEgud2lkdGgsSC5oZWlnaHQsMCxCZSxtZSxudWxsKTtlbHNlIGlmKF8uaXNEYXRhVGV4dHVyZSlpZihhZS5sZW5ndGg+MCYmTmUpe3dlJiZwZSYmdC50ZXhTdG9yYWdlMkQoMzU1MyxTZSxBLGFlWzBdLndpZHRoLGFlWzBdLmhlaWdodCk7Zm9yKGxldCBzZT0wLENlPWFlLmxlbmd0aDtzZTxDZTtzZSsrKWhlPWFlW3NlXSx3ZT90LnRleFN1YkltYWdlMkQoMzU1MyxzZSwwLDAsaGUud2lkdGgsaGUuaGVpZ2h0LEJlLG1lLGhlLmRhdGEpOnQudGV4SW1hZ2UyRCgzNTUzLHNlLEEsaGUud2lkdGgsaGUuaGVpZ2h0LDAsQmUsbWUsaGUuZGF0YSk7Xy5nZW5lcmF0ZU1pcG1hcHM9ITF9ZWxzZSB3ZT8ocGUmJnQudGV4U3RvcmFnZTJEKDM1NTMsU2UsQSxILndpZHRoLEguaGVpZ2h0KSx0LnRleFN1YkltYWdlMkQoMzU1MywwLDAsMCxILndpZHRoLEguaGVpZ2h0LEJlLG1lLEguZGF0YSkpOnQudGV4SW1hZ2UyRCgzNTUzLDAsQSxILndpZHRoLEguaGVpZ2h0LDAsQmUsbWUsSC5kYXRhKTtlbHNlIGlmKF8uaXNDb21wcmVzc2VkVGV4dHVyZSl7d2UmJnBlJiZ0LnRleFN0b3JhZ2UyRCgzNTUzLFNlLEEsYWVbMF0ud2lkdGgsYWVbMF0uaGVpZ2h0KTtmb3IobGV0IHNlPTAsQ2U9YWUubGVuZ3RoO3NlPENlO3NlKyspaGU9YWVbc2VdLF8uZm9ybWF0IT09WHQ/QmUhPT1udWxsP3dlP3QuY29tcHJlc3NlZFRleFN1YkltYWdlMkQoMzU1MyxzZSwwLDAsaGUud2lkdGgsaGUuaGVpZ2h0LEJlLGhlLmRhdGEpOnQuY29tcHJlc3NlZFRleEltYWdlMkQoMzU1MyxzZSxBLGhlLndpZHRoLGhlLmhlaWdodCwwLGhlLmRhdGEpOmNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogQXR0ZW1wdCB0byBsb2FkIHVuc3VwcG9ydGVkIGNvbXByZXNzZWQgdGV4dHVyZSBmb3JtYXQgaW4gLnVwbG9hZFRleHR1cmUoKSIpOndlP3QudGV4U3ViSW1hZ2UyRCgzNTUzLHNlLDAsMCxoZS53aWR0aCxoZS5oZWlnaHQsQmUsbWUsaGUuZGF0YSk6dC50ZXhJbWFnZTJEKDM1NTMsc2UsQSxoZS53aWR0aCxoZS5oZWlnaHQsMCxCZSxtZSxoZS5kYXRhKX1lbHNlIGlmKF8uaXNEYXRhQXJyYXlUZXh0dXJlKXdlPyhwZSYmdC50ZXhTdG9yYWdlM0QoMzU4NjYsU2UsQSxILndpZHRoLEguaGVpZ2h0LEguZGVwdGgpLHQudGV4U3ViSW1hZ2UzRCgzNTg2NiwwLDAsMCwwLEgud2lkdGgsSC5oZWlnaHQsSC5kZXB0aCxCZSxtZSxILmRhdGEpKTp0LnRleEltYWdlM0QoMzU4NjYsMCxBLEgud2lkdGgsSC5oZWlnaHQsSC5kZXB0aCwwLEJlLG1lLEguZGF0YSk7ZWxzZSBpZihfLmlzRGF0YTNEVGV4dHVyZSl3ZT8ocGUmJnQudGV4U3RvcmFnZTNEKDMyODc5LFNlLEEsSC53aWR0aCxILmhlaWdodCxILmRlcHRoKSx0LnRleFN1YkltYWdlM0QoMzI4NzksMCwwLDAsMCxILndpZHRoLEguaGVpZ2h0LEguZGVwdGgsQmUsbWUsSC5kYXRhKSk6dC50ZXhJbWFnZTNEKDMyODc5LDAsQSxILndpZHRoLEguaGVpZ2h0LEguZGVwdGgsMCxCZSxtZSxILmRhdGEpO2Vsc2UgaWYoXy5pc0ZyYW1lYnVmZmVyVGV4dHVyZSl3ZSYmcGU/dC50ZXhTdG9yYWdlMkQoMzU1MyxTZSxBLEgud2lkdGgsSC5oZWlnaHQpOnQudGV4SW1hZ2UyRCgzNTUzLDAsQSxILndpZHRoLEguaGVpZ2h0LDAsQmUsbWUsbnVsbCk7ZWxzZSBpZihhZS5sZW5ndGg+MCYmTmUpe3dlJiZwZSYmdC50ZXhTdG9yYWdlMkQoMzU1MyxTZSxBLGFlWzBdLndpZHRoLGFlWzBdLmhlaWdodCk7Zm9yKGxldCBzZT0wLENlPWFlLmxlbmd0aDtzZTxDZTtzZSsrKWhlPWFlW3NlXSx3ZT90LnRleFN1YkltYWdlMkQoMzU1MyxzZSwwLDAsQmUsbWUsaGUpOnQudGV4SW1hZ2UyRCgzNTUzLHNlLEEsQmUsbWUsaGUpO18uZ2VuZXJhdGVNaXBtYXBzPSExfWVsc2Ugd2U/KHBlJiZ0LnRleFN0b3JhZ2UyRCgzNTUzLFNlLEEsSC53aWR0aCxILmhlaWdodCksdC50ZXhTdWJJbWFnZTJEKDM1NTMsMCwwLDAsQmUsbWUsSCkpOnQudGV4SW1hZ2UyRCgzNTUzLDAsQSxCZSxtZSxIKTtMKF8sTmUpJiZQKCQpLGRlLl9fY3VycmVudFZlcnNpb249ZGUudmVyc2lvbixfLm9uVXBkYXRlJiZfLm9uVXBkYXRlKF8pfVMuX192ZXJzaW9uPV8udmVyc2lvbn1mdW5jdGlvbiB5ZShTLF8sRil7aWYoXy5pbWFnZS5sZW5ndGghPT02KXJldHVybjtjb25zdCAkPVplKFMsXyksY2U9Xy5zb3VyY2U7aWYodC5hY3RpdmVUZXh0dXJlKDMzOTg0K0YpLHQuYmluZFRleHR1cmUoMzQwNjcsUy5fX3dlYmdsVGV4dHVyZSksY2UudmVyc2lvbiE9PWNlLl9fY3VycmVudFZlcnNpb258fCQ9PT0hMCl7aS5waXhlbFN0b3JlaSgzNzQ0MCxfLmZsaXBZKSxpLnBpeGVsU3RvcmVpKDM3NDQxLF8ucHJlbXVsdGlwbHlBbHBoYSksaS5waXhlbFN0b3JlaSgzMzE3LF8udW5wYWNrQWxpZ25tZW50KSxpLnBpeGVsU3RvcmVpKDM3NDQzLDApO2NvbnN0IGRlPV8uaXNDb21wcmVzc2VkVGV4dHVyZXx8Xy5pbWFnZVswXS5pc0NvbXByZXNzZWRUZXh0dXJlLE1lPV8uaW1hZ2VbMF0mJl8uaW1hZ2VbMF0uaXNEYXRhVGV4dHVyZSxIPVtdO2ZvcihsZXQgc2U9MDtzZTw2O3NlKyspIWRlJiYhTWU/SFtzZV09VChfLmltYWdlW3NlXSwhMSwhMCxsKTpIW3NlXT1NZT9fLmltYWdlW3NlXS5pbWFnZTpfLmltYWdlW3NlXSxIW3NlXT1MdChfLEhbc2VdKTtjb25zdCBOZT1IWzBdLEJlPXcoTmUpfHxvLG1lPWEuY29udmVydChfLmZvcm1hdCxfLmVuY29kaW5nKSxBPWEuY29udmVydChfLnR5cGUpLGhlPWsoXy5pbnRlcm5hbEZvcm1hdCxtZSxBLF8uZW5jb2RpbmcpLGFlPW8mJl8uaXNWaWRlb1RleHR1cmUhPT0hMCx3ZT1TLl9fdmVyc2lvbj09PXZvaWQgMDtsZXQgcGU9aWUoXyxOZSxCZSk7VigzNDA2NyxfLEJlKTtsZXQgU2U7aWYoZGUpe2FlJiZ3ZSYmdC50ZXhTdG9yYWdlMkQoMzQwNjcscGUsaGUsTmUud2lkdGgsTmUuaGVpZ2h0KTtmb3IobGV0IHNlPTA7c2U8NjtzZSsrKXtTZT1IW3NlXS5taXBtYXBzO2ZvcihsZXQgQ2U9MDtDZTxTZS5sZW5ndGg7Q2UrKyl7Y29uc3Qga2U9U2VbQ2VdO18uZm9ybWF0IT09WHQ/bWUhPT1udWxsP2FlP3QuY29tcHJlc3NlZFRleFN1YkltYWdlMkQoMzQwNjkrc2UsQ2UsMCwwLGtlLndpZHRoLGtlLmhlaWdodCxtZSxrZS5kYXRhKTp0LmNvbXByZXNzZWRUZXhJbWFnZTJEKDM0MDY5K3NlLENlLGhlLGtlLndpZHRoLGtlLmhlaWdodCwwLGtlLmRhdGEpOmNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogQXR0ZW1wdCB0byBsb2FkIHVuc3VwcG9ydGVkIGNvbXByZXNzZWQgdGV4dHVyZSBmb3JtYXQgaW4gLnNldFRleHR1cmVDdWJlKCkiKTphZT90LnRleFN1YkltYWdlMkQoMzQwNjkrc2UsQ2UsMCwwLGtlLndpZHRoLGtlLmhlaWdodCxtZSxBLGtlLmRhdGEpOnQudGV4SW1hZ2UyRCgzNDA2OStzZSxDZSxoZSxrZS53aWR0aCxrZS5oZWlnaHQsMCxtZSxBLGtlLmRhdGEpfX19ZWxzZXtTZT1fLm1pcG1hcHMsYWUmJndlJiYoU2UubGVuZ3RoPjAmJnBlKyssdC50ZXhTdG9yYWdlMkQoMzQwNjcscGUsaGUsSFswXS53aWR0aCxIWzBdLmhlaWdodCkpO2ZvcihsZXQgc2U9MDtzZTw2O3NlKyspaWYoTWUpe2FlP3QudGV4U3ViSW1hZ2UyRCgzNDA2OStzZSwwLDAsMCxIW3NlXS53aWR0aCxIW3NlXS5oZWlnaHQsbWUsQSxIW3NlXS5kYXRhKTp0LnRleEltYWdlMkQoMzQwNjkrc2UsMCxoZSxIW3NlXS53aWR0aCxIW3NlXS5oZWlnaHQsMCxtZSxBLEhbc2VdLmRhdGEpO2ZvcihsZXQgQ2U9MDtDZTxTZS5sZW5ndGg7Q2UrKyl7Y29uc3Qga2U9U2VbQ2VdLmltYWdlW3NlXS5pbWFnZTthZT90LnRleFN1YkltYWdlMkQoMzQwNjkrc2UsQ2UrMSwwLDAsa2Uud2lkdGgsa2UuaGVpZ2h0LG1lLEEsa2UuZGF0YSk6dC50ZXhJbWFnZTJEKDM0MDY5K3NlLENlKzEsaGUsa2Uud2lkdGgsa2UuaGVpZ2h0LDAsbWUsQSxrZS5kYXRhKX19ZWxzZXthZT90LnRleFN1YkltYWdlMkQoMzQwNjkrc2UsMCwwLDAsbWUsQSxIW3NlXSk6dC50ZXhJbWFnZTJEKDM0MDY5K3NlLDAsaGUsbWUsQSxIW3NlXSk7Zm9yKGxldCBDZT0wO0NlPFNlLmxlbmd0aDtDZSsrKXtjb25zdCBrZT1TZVtDZV07YWU/dC50ZXhTdWJJbWFnZTJEKDM0MDY5K3NlLENlKzEsMCwwLG1lLEEsa2UuaW1hZ2Vbc2VdKTp0LnRleEltYWdlMkQoMzQwNjkrc2UsQ2UrMSxoZSxtZSxBLGtlLmltYWdlW3NlXSl9fX1MKF8sQmUpJiZQKDM0MDY3KSxjZS5fX2N1cnJlbnRWZXJzaW9uPWNlLnZlcnNpb24sXy5vblVwZGF0ZSYmXy5vblVwZGF0ZShfKX1TLl9fdmVyc2lvbj1fLnZlcnNpb259ZnVuY3Rpb24gcmUoUyxfLEYsJCxjZSl7Y29uc3QgZGU9YS5jb252ZXJ0KEYuZm9ybWF0LEYuZW5jb2RpbmcpLE1lPWEuY29udmVydChGLnR5cGUpLEg9ayhGLmludGVybmFsRm9ybWF0LGRlLE1lLEYuZW5jb2RpbmcpO3IuZ2V0KF8pLl9faGFzRXh0ZXJuYWxUZXh0dXJlc3x8KGNlPT09MzI4Nzl8fGNlPT09MzU4NjY/dC50ZXhJbWFnZTNEKGNlLDAsSCxfLndpZHRoLF8uaGVpZ2h0LF8uZGVwdGgsMCxkZSxNZSxudWxsKTp0LnRleEltYWdlMkQoY2UsMCxILF8ud2lkdGgsXy5oZWlnaHQsMCxkZSxNZSxudWxsKSksdC5iaW5kRnJhbWVidWZmZXIoMzYxNjAsUyksVGUoXyk/ZC5mcmFtZWJ1ZmZlclRleHR1cmUyRE11bHRpc2FtcGxlRVhUKDM2MTYwLCQsY2Usci5nZXQoRikuX193ZWJnbFRleHR1cmUsMCxJZShfKSk6aS5mcmFtZWJ1ZmZlclRleHR1cmUyRCgzNjE2MCwkLGNlLHIuZ2V0KEYpLl9fd2ViZ2xUZXh0dXJlLDApLHQuYmluZEZyYW1lYnVmZmVyKDM2MTYwLG51bGwpfWZ1bmN0aW9uIFooUyxfLEYpe2lmKGkuYmluZFJlbmRlcmJ1ZmZlcigzNjE2MSxTKSxfLmRlcHRoQnVmZmVyJiYhXy5zdGVuY2lsQnVmZmVyKXtsZXQgJD0zMzE4OTtpZihGfHxUZShfKSl7Y29uc3QgY2U9Xy5kZXB0aFRleHR1cmU7Y2UmJmNlLmlzRGVwdGhUZXh0dXJlJiYoY2UudHlwZT09PVlpPyQ9MzYwMTI6Y2UudHlwZT09PWRhJiYoJD0zMzE5MCkpO2NvbnN0IGRlPUllKF8pO1RlKF8pP2QucmVuZGVyYnVmZmVyU3RvcmFnZU11bHRpc2FtcGxlRVhUKDM2MTYxLGRlLCQsXy53aWR0aCxfLmhlaWdodCk6aS5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGUoMzYxNjEsZGUsJCxfLndpZHRoLF8uaGVpZ2h0KX1lbHNlIGkucmVuZGVyYnVmZmVyU3RvcmFnZSgzNjE2MSwkLF8ud2lkdGgsXy5oZWlnaHQpO2kuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoMzYxNjAsMzYwOTYsMzYxNjEsUyl9ZWxzZSBpZihfLmRlcHRoQnVmZmVyJiZfLnN0ZW5jaWxCdWZmZXIpe2NvbnN0ICQ9SWUoXyk7RiYmVGUoXyk9PT0hMT9pLnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZSgzNjE2MSwkLDM1MDU2LF8ud2lkdGgsXy5oZWlnaHQpOlRlKF8pP2QucmVuZGVyYnVmZmVyU3RvcmFnZU11bHRpc2FtcGxlRVhUKDM2MTYxLCQsMzUwNTYsXy53aWR0aCxfLmhlaWdodCk6aS5yZW5kZXJidWZmZXJTdG9yYWdlKDM2MTYxLDM0MDQxLF8ud2lkdGgsXy5oZWlnaHQpLGkuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoMzYxNjAsMzMzMDYsMzYxNjEsUyl9ZWxzZXtjb25zdCAkPV8uaXNXZWJHTE11bHRpcGxlUmVuZGVyVGFyZ2V0cz09PSEwP18udGV4dHVyZVswXTpfLnRleHR1cmUsY2U9YS5jb252ZXJ0KCQuZm9ybWF0LCQuZW5jb2RpbmcpLGRlPWEuY29udmVydCgkLnR5cGUpLE1lPWsoJC5pbnRlcm5hbEZvcm1hdCxjZSxkZSwkLmVuY29kaW5nKSxIPUllKF8pO0YmJlRlKF8pPT09ITE/aS5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGUoMzYxNjEsSCxNZSxfLndpZHRoLF8uaGVpZ2h0KTpUZShfKT9kLnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZUVYVCgzNjE2MSxILE1lLF8ud2lkdGgsXy5oZWlnaHQpOmkucmVuZGVyYnVmZmVyU3RvcmFnZSgzNjE2MSxNZSxfLndpZHRoLF8uaGVpZ2h0KX1pLmJpbmRSZW5kZXJidWZmZXIoMzYxNjEsbnVsbCl9ZnVuY3Rpb24gaihTLF8pe2lmKF8mJl8uaXNXZWJHTEN1YmVSZW5kZXJUYXJnZXQpdGhyb3cgbmV3IEVycm9yKCJEZXB0aCBUZXh0dXJlIHdpdGggY3ViZSByZW5kZXIgdGFyZ2V0cyBpcyBub3Qgc3VwcG9ydGVkIik7aWYodC5iaW5kRnJhbWVidWZmZXIoMzYxNjAsUyksIShfLmRlcHRoVGV4dHVyZSYmXy5kZXB0aFRleHR1cmUuaXNEZXB0aFRleHR1cmUpKXRocm93IG5ldyBFcnJvcigicmVuZGVyVGFyZ2V0LmRlcHRoVGV4dHVyZSBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIFRIUkVFLkRlcHRoVGV4dHVyZSIpOyghci5nZXQoXy5kZXB0aFRleHR1cmUpLl9fd2ViZ2xUZXh0dXJlfHxfLmRlcHRoVGV4dHVyZS5pbWFnZS53aWR0aCE9PV8ud2lkdGh8fF8uZGVwdGhUZXh0dXJlLmltYWdlLmhlaWdodCE9PV8uaGVpZ2h0KSYmKF8uZGVwdGhUZXh0dXJlLmltYWdlLndpZHRoPV8ud2lkdGgsXy5kZXB0aFRleHR1cmUuaW1hZ2UuaGVpZ2h0PV8uaGVpZ2h0LF8uZGVwdGhUZXh0dXJlLm5lZWRzVXBkYXRlPSEwKSxKKF8uZGVwdGhUZXh0dXJlLDApO2NvbnN0IEY9ci5nZXQoXy5kZXB0aFRleHR1cmUpLl9fd2ViZ2xUZXh0dXJlLCQ9SWUoXyk7aWYoXy5kZXB0aFRleHR1cmUuZm9ybWF0PT09WmkpVGUoXyk/ZC5mcmFtZWJ1ZmZlclRleHR1cmUyRE11bHRpc2FtcGxlRVhUKDM2MTYwLDM2MDk2LDM1NTMsRiwwLCQpOmkuZnJhbWVidWZmZXJUZXh0dXJlMkQoMzYxNjAsMzYwOTYsMzU1MyxGLDApO2Vsc2UgaWYoXy5kZXB0aFRleHR1cmUuZm9ybWF0PT09VHIpVGUoXyk/ZC5mcmFtZWJ1ZmZlclRleHR1cmUyRE11bHRpc2FtcGxlRVhUKDM2MTYwLDMzMzA2LDM1NTMsRiwwLCQpOmkuZnJhbWVidWZmZXJUZXh0dXJlMkQoMzYxNjAsMzMzMDYsMzU1MyxGLDApO2Vsc2UgdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIGRlcHRoVGV4dHVyZSBmb3JtYXQiKX1mdW5jdGlvbiBxKFMpe2NvbnN0IF89ci5nZXQoUyksRj1TLmlzV2ViR0xDdWJlUmVuZGVyVGFyZ2V0PT09ITA7aWYoUy5kZXB0aFRleHR1cmUmJiFfLl9fYXV0b0FsbG9jYXRlRGVwdGhCdWZmZXIpe2lmKEYpdGhyb3cgbmV3IEVycm9yKCJ0YXJnZXQuZGVwdGhUZXh0dXJlIG5vdCBzdXBwb3J0ZWQgaW4gQ3ViZSByZW5kZXIgdGFyZ2V0cyIpO2ooXy5fX3dlYmdsRnJhbWVidWZmZXIsUyl9ZWxzZSBpZihGKXtfLl9fd2ViZ2xEZXB0aGJ1ZmZlcj1bXTtmb3IobGV0ICQ9MDskPDY7JCsrKXQuYmluZEZyYW1lYnVmZmVyKDM2MTYwLF8uX193ZWJnbEZyYW1lYnVmZmVyWyRdKSxfLl9fd2ViZ2xEZXB0aGJ1ZmZlclskXT1pLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpLFooXy5fX3dlYmdsRGVwdGhidWZmZXJbJF0sUywhMSl9ZWxzZSB0LmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCxfLl9fd2ViZ2xGcmFtZWJ1ZmZlciksXy5fX3dlYmdsRGVwdGhidWZmZXI9aS5jcmVhdGVSZW5kZXJidWZmZXIoKSxaKF8uX193ZWJnbERlcHRoYnVmZmVyLFMsITEpO3QuYmluZEZyYW1lYnVmZmVyKDM2MTYwLG51bGwpfWZ1bmN0aW9uIGZlKFMsXyxGKXtjb25zdCAkPXIuZ2V0KFMpO18hPT12b2lkIDAmJnJlKCQuX193ZWJnbEZyYW1lYnVmZmVyLFMsUy50ZXh0dXJlLDM2MDY0LDM1NTMpLEYhPT12b2lkIDAmJnEoUyl9ZnVuY3Rpb24gbGUoUyl7Y29uc3QgXz1TLnRleHR1cmUsRj1yLmdldChTKSwkPXIuZ2V0KF8pO1MuYWRkRXZlbnRMaXN0ZW5lcigiZGlzcG9zZSIsQyksUy5pc1dlYkdMTXVsdGlwbGVSZW5kZXJUYXJnZXRzIT09ITAmJigkLl9fd2ViZ2xUZXh0dXJlPT09dm9pZCAwJiYoJC5fX3dlYmdsVGV4dHVyZT1pLmNyZWF0ZVRleHR1cmUoKSksJC5fX3ZlcnNpb249Xy52ZXJzaW9uLG4ubWVtb3J5LnRleHR1cmVzKyspO2NvbnN0IGNlPVMuaXNXZWJHTEN1YmVSZW5kZXJUYXJnZXQ9PT0hMCxkZT1TLmlzV2ViR0xNdWx0aXBsZVJlbmRlclRhcmdldHM9PT0hMCxNZT13KFMpfHxvO2lmKGNlKXtGLl9fd2ViZ2xGcmFtZWJ1ZmZlcj1bXTtmb3IobGV0IEg9MDtIPDY7SCsrKUYuX193ZWJnbEZyYW1lYnVmZmVyW0hdPWkuY3JlYXRlRnJhbWVidWZmZXIoKX1lbHNlIGlmKEYuX193ZWJnbEZyYW1lYnVmZmVyPWkuY3JlYXRlRnJhbWVidWZmZXIoKSxkZSlpZihzLmRyYXdCdWZmZXJzKXtjb25zdCBIPVMudGV4dHVyZTtmb3IobGV0IE5lPTAsQmU9SC5sZW5ndGg7TmU8QmU7TmUrKyl7Y29uc3QgbWU9ci5nZXQoSFtOZV0pO21lLl9fd2ViZ2xUZXh0dXJlPT09dm9pZCAwJiYobWUuX193ZWJnbFRleHR1cmU9aS5jcmVhdGVUZXh0dXJlKCksbi5tZW1vcnkudGV4dHVyZXMrKyl9fWVsc2UgY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiBXZWJHTE11bHRpcGxlUmVuZGVyVGFyZ2V0cyBjYW4gb25seSBiZSB1c2VkIHdpdGggV2ViR0wyIG9yIFdFQkdMX2RyYXdfYnVmZmVycyBleHRlbnNpb24uIik7ZWxzZSBpZihvJiZTLnNhbXBsZXM+MCYmVGUoUyk9PT0hMSl7Ri5fX3dlYmdsTXVsdGlzYW1wbGVkRnJhbWVidWZmZXI9aS5jcmVhdGVGcmFtZWJ1ZmZlcigpLEYuX193ZWJnbENvbG9yUmVuZGVyYnVmZmVyPWkuY3JlYXRlUmVuZGVyYnVmZmVyKCksaS5iaW5kUmVuZGVyYnVmZmVyKDM2MTYxLEYuX193ZWJnbENvbG9yUmVuZGVyYnVmZmVyKTtjb25zdCBIPWEuY29udmVydChfLmZvcm1hdCxfLmVuY29kaW5nKSxOZT1hLmNvbnZlcnQoXy50eXBlKSxCZT1rKF8uaW50ZXJuYWxGb3JtYXQsSCxOZSxfLmVuY29kaW5nKSxtZT1JZShTKTtpLnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZSgzNjE2MSxtZSxCZSxTLndpZHRoLFMuaGVpZ2h0KSx0LmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCxGLl9fd2ViZ2xNdWx0aXNhbXBsZWRGcmFtZWJ1ZmZlciksaS5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcigzNjE2MCwzNjA2NCwzNjE2MSxGLl9fd2ViZ2xDb2xvclJlbmRlcmJ1ZmZlciksaS5iaW5kUmVuZGVyYnVmZmVyKDM2MTYxLG51bGwpLFMuZGVwdGhCdWZmZXImJihGLl9fd2ViZ2xEZXB0aFJlbmRlcmJ1ZmZlcj1pLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpLFooRi5fX3dlYmdsRGVwdGhSZW5kZXJidWZmZXIsUywhMCkpLHQuYmluZEZyYW1lYnVmZmVyKDM2MTYwLG51bGwpfWlmKGNlKXt0LmJpbmRUZXh0dXJlKDM0MDY3LCQuX193ZWJnbFRleHR1cmUpLFYoMzQwNjcsXyxNZSk7Zm9yKGxldCBIPTA7SDw2O0grKylyZShGLl9fd2ViZ2xGcmFtZWJ1ZmZlcltIXSxTLF8sMzYwNjQsMzQwNjkrSCk7TChfLE1lKSYmUCgzNDA2NyksdC51bmJpbmRUZXh0dXJlKCl9ZWxzZSBpZihkZSl7Y29uc3QgSD1TLnRleHR1cmU7Zm9yKGxldCBOZT0wLEJlPUgubGVuZ3RoO05lPEJlO05lKyspe2NvbnN0IG1lPUhbTmVdLEE9ci5nZXQobWUpO3QuYmluZFRleHR1cmUoMzU1MyxBLl9fd2ViZ2xUZXh0dXJlKSxWKDM1NTMsbWUsTWUpLHJlKEYuX193ZWJnbEZyYW1lYnVmZmVyLFMsbWUsMzYwNjQrTmUsMzU1MyksTChtZSxNZSkmJlAoMzU1Myl9dC51bmJpbmRUZXh0dXJlKCl9ZWxzZXtsZXQgSD0zNTUzOyhTLmlzV2ViR0wzRFJlbmRlclRhcmdldHx8Uy5pc1dlYkdMQXJyYXlSZW5kZXJUYXJnZXQpJiYobz9IPVMuaXNXZWJHTDNEUmVuZGVyVGFyZ2V0PzMyODc5OjM1ODY2OmNvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMVGV4dHVyZXM6IFRIUkVFLkRhdGEzRFRleHR1cmUgYW5kIFRIUkVFLkRhdGFBcnJheVRleHR1cmUgb25seSBzdXBwb3J0ZWQgd2l0aCBXZWJHTDIuIikpLHQuYmluZFRleHR1cmUoSCwkLl9fd2ViZ2xUZXh0dXJlKSxWKEgsXyxNZSkscmUoRi5fX3dlYmdsRnJhbWVidWZmZXIsUyxfLDM2MDY0LEgpLEwoXyxNZSkmJlAoSCksdC51bmJpbmRUZXh0dXJlKCl9Uy5kZXB0aEJ1ZmZlciYmcShTKX1mdW5jdGlvbiBBZShTKXtjb25zdCBfPXcoUyl8fG8sRj1TLmlzV2ViR0xNdWx0aXBsZVJlbmRlclRhcmdldHM9PT0hMD9TLnRleHR1cmU6W1MudGV4dHVyZV07Zm9yKGxldCAkPTAsY2U9Ri5sZW5ndGg7JDxjZTskKyspe2NvbnN0IGRlPUZbJF07aWYoTChkZSxfKSl7Y29uc3QgTWU9Uy5pc1dlYkdMQ3ViZVJlbmRlclRhcmdldD8zNDA2NzozNTUzLEg9ci5nZXQoZGUpLl9fd2ViZ2xUZXh0dXJlO3QuYmluZFRleHR1cmUoTWUsSCksUChNZSksdC51bmJpbmRUZXh0dXJlKCl9fX1mdW5jdGlvbiBQZShTKXtpZihvJiZTLnNhbXBsZXM+MCYmVGUoUyk9PT0hMSl7Y29uc3QgXz1TLndpZHRoLEY9Uy5oZWlnaHQ7bGV0ICQ9MTYzODQ7Y29uc3QgY2U9WzM2MDY0XSxkZT1TLnN0ZW5jaWxCdWZmZXI/MzMzMDY6MzYwOTY7Uy5kZXB0aEJ1ZmZlciYmY2UucHVzaChkZSk7Y29uc3QgTWU9ci5nZXQoUyksSD1NZS5fX2lnbm9yZURlcHRoVmFsdWVzIT09dm9pZCAwP01lLl9faWdub3JlRGVwdGhWYWx1ZXM6ITE7SD09PSExJiYoUy5kZXB0aEJ1ZmZlciYmKCR8PTI1NiksUy5zdGVuY2lsQnVmZmVyJiYoJHw9MTAyNCkpLHQuYmluZEZyYW1lYnVmZmVyKDM2MDA4LE1lLl9fd2ViZ2xNdWx0aXNhbXBsZWRGcmFtZWJ1ZmZlciksdC5iaW5kRnJhbWVidWZmZXIoMzYwMDksTWUuX193ZWJnbEZyYW1lYnVmZmVyKSxIPT09ITAmJihpLmludmFsaWRhdGVGcmFtZWJ1ZmZlcigzNjAwOCxbZGVdKSxpLmludmFsaWRhdGVGcmFtZWJ1ZmZlcigzNjAwOSxbZGVdKSksaS5ibGl0RnJhbWVidWZmZXIoMCwwLF8sRiwwLDAsXyxGLCQsOTcyOCkscCYmaS5pbnZhbGlkYXRlRnJhbWVidWZmZXIoMzYwMDgsY2UpLHQuYmluZEZyYW1lYnVmZmVyKDM2MDA4LG51bGwpLHQuYmluZEZyYW1lYnVmZmVyKDM2MDA5LE1lLl9fd2ViZ2xNdWx0aXNhbXBsZWRGcmFtZWJ1ZmZlcil9fWZ1bmN0aW9uIEllKFMpe3JldHVybiBNYXRoLm1pbih1LFMuc2FtcGxlcyl9ZnVuY3Rpb24gVGUoUyl7Y29uc3QgXz1yLmdldChTKTtyZXR1cm4gbyYmUy5zYW1wbGVzPjAmJmUuaGFzKCJXRUJHTF9tdWx0aXNhbXBsZWRfcmVuZGVyX3RvX3RleHR1cmUiKT09PSEwJiZfLl9fdXNlUmVuZGVyVG9UZXh0dXJlIT09ITF9ZnVuY3Rpb24gS2UoUyl7Y29uc3QgXz1uLnJlbmRlci5mcmFtZTtnLmdldChTKSE9PV8mJihnLnNldChTLF8pLFMudXBkYXRlKCkpfWZ1bmN0aW9uIEx0KFMsXyl7Y29uc3QgRj1TLmVuY29kaW5nLCQ9Uy5mb3JtYXQsY2U9Uy50eXBlO3JldHVybiBTLmlzQ29tcHJlc3NlZFRleHR1cmU9PT0hMHx8Uy5pc1ZpZGVvVGV4dHVyZT09PSEwfHxTLmZvcm1hdD09PU5ufHxGIT09X2kmJihGPT09UWU/bz09PSExP2UuaGFzKCJFWFRfc1JHQiIpPT09ITAmJiQ9PT1YdD8oUy5mb3JtYXQ9Tm4sUy5taW5GaWx0ZXI9SXQsUy5nZW5lcmF0ZU1pcG1hcHM9ITEpOl89ZXIuc1JHQlRvTGluZWFyKF8pOigkIT09WHR8fGNlIT09SmkpJiZjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMVGV4dHVyZXM6IHNSR0IgZW5jb2RlZCB0ZXh0dXJlcyBoYXZlIHRvIHVzZSBSR0JBRm9ybWF0IGFuZCBVbnNpZ25lZEJ5dGVUeXBlLiIpOmNvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMVGV4dHVyZXM6IFVuc3VwcG9ydGVkIHRleHR1cmUgZW5jb2Rpbmc6IixGKSksX310aGlzLmFsbG9jYXRlVGV4dHVyZVVuaXQ9Uix0aGlzLnJlc2V0VGV4dHVyZVVuaXRzPUcsdGhpcy5zZXRUZXh0dXJlMkQ9Six0aGlzLnNldFRleHR1cmUyREFycmF5PXRlLHRoaXMuc2V0VGV4dHVyZTNEPVEsdGhpcy5zZXRUZXh0dXJlQ3ViZT12ZSx0aGlzLnJlYmluZFRleHR1cmVzPWZlLHRoaXMuc2V0dXBSZW5kZXJUYXJnZXQ9bGUsdGhpcy51cGRhdGVSZW5kZXJUYXJnZXRNaXBtYXA9QWUsdGhpcy51cGRhdGVNdWx0aXNhbXBsZVJlbmRlclRhcmdldD1QZSx0aGlzLnNldHVwRGVwdGhSZW5kZXJidWZmZXI9cSx0aGlzLnNldHVwRnJhbWVCdWZmZXJUZXh0dXJlPXJlLHRoaXMudXNlTXVsdGlzYW1wbGVkUlRUPVRlfWZ1bmN0aW9uIFJ5KGksZSx0KXtjb25zdCByPXQuaXNXZWJHTDI7ZnVuY3Rpb24gcyhhLG49bnVsbCl7bGV0IG87aWYoYT09PUppKXJldHVybiA1MTIxO2lmKGE9PT1DZylyZXR1cm4gMzI4MTk7aWYoYT09PUxnKXJldHVybiAzMjgyMDtpZihhPT09RWcpcmV0dXJuIDUxMjA7aWYoYT09PVRnKXJldHVybiA1MTIyO2lmKGE9PT1TcylyZXR1cm4gNTEyMztpZihhPT09QWcpcmV0dXJuIDUxMjQ7aWYoYT09PWRhKXJldHVybiA1MTI1O2lmKGE9PT1ZaSlyZXR1cm4gNTEyNjtpZihhPT09U3IpcmV0dXJuIHI/NTEzMToobz1lLmdldCgiT0VTX3RleHR1cmVfaGFsZl9mbG9hdCIpLG8hPT1udWxsP28uSEFMRl9GTE9BVF9PRVM6bnVsbCk7aWYoYT09PVJnKXJldHVybiA2NDA2O2lmKGE9PT1YdClyZXR1cm4gNjQwODtpZihhPT09SWcpcmV0dXJuIDY0MDk7aWYoYT09PU5nKXJldHVybiA2NDEwO2lmKGE9PT1aaSlyZXR1cm4gNjQwMjtpZihhPT09VHIpcmV0dXJuIDM0MDQxO2lmKGE9PT1EZylyZXR1cm4gNjQwMztpZihhPT09UGcpcmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogVEhSRUUuUkdCRm9ybWF0IGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBUSFJFRS5SR0JBRm9ybWF0IGluc3RlYWQuIGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvcHVsbC8yMzIyOCIpLDY0MDg7aWYoYT09PU5uKXJldHVybiBvPWUuZ2V0KCJFWFRfc1JHQiIpLG8hPT1udWxsP28uU1JHQl9BTFBIQV9FWFQ6bnVsbDtpZihhPT09T2cpcmV0dXJuIDM2MjQ0O2lmKGE9PT16ZylyZXR1cm4gMzMzMTk7aWYoYT09PUJnKXJldHVybiAzMzMyMDtpZihhPT09VWcpcmV0dXJuIDM2MjQ5O2lmKGE9PT1Ubnx8YT09PUFufHxhPT09Q258fGE9PT1MbilpZihuPT09UWUpaWYobz1lLmdldCgiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNfc3JnYiIpLG8hPT1udWxsKXtpZihhPT09VG4pcmV0dXJuIG8uQ09NUFJFU1NFRF9TUkdCX1MzVENfRFhUMV9FWFQ7aWYoYT09PUFuKXJldHVybiBvLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDFfRVhUO2lmKGE9PT1DbilyZXR1cm4gby5DT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQzX0VYVDtpZihhPT09TG4pcmV0dXJuIG8uQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUNV9FWFR9ZWxzZSByZXR1cm4gbnVsbDtlbHNlIGlmKG89ZS5nZXQoIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjIiksbyE9PW51bGwpe2lmKGE9PT1UbilyZXR1cm4gby5DT01QUkVTU0VEX1JHQl9TM1RDX0RYVDFfRVhUO2lmKGE9PT1BbilyZXR1cm4gby5DT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQxX0VYVDtpZihhPT09Q24pcmV0dXJuIG8uQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUM19FWFQ7aWYoYT09PUxuKXJldHVybiBvLkNPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDVfRVhUfWVsc2UgcmV0dXJuIG51bGw7aWYoYT09PVhofHxhPT09Smh8fGE9PT1ZaHx8YT09PVpoKWlmKG89ZS5nZXQoIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0YyIpLG8hPT1udWxsKXtpZihhPT09WGgpcmV0dXJuIG8uQ09NUFJFU1NFRF9SR0JfUFZSVENfNEJQUFYxX0lNRztpZihhPT09SmgpcmV0dXJuIG8uQ09NUFJFU1NFRF9SR0JfUFZSVENfMkJQUFYxX0lNRztpZihhPT09WWgpcmV0dXJuIG8uQ09NUFJFU1NFRF9SR0JBX1BWUlRDXzRCUFBWMV9JTUc7aWYoYT09PVpoKXJldHVybiBvLkNPTVBSRVNTRURfUkdCQV9QVlJUQ18yQlBQVjFfSU1HfWVsc2UgcmV0dXJuIG51bGw7aWYoYT09PUZnKXJldHVybiBvPWUuZ2V0KCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjMSIpLG8hPT1udWxsP28uQ09NUFJFU1NFRF9SR0JfRVRDMV9XRUJHTDpudWxsO2lmKGE9PT1LaHx8YT09PVFoKWlmKG89ZS5nZXQoIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGMiKSxvIT09bnVsbCl7aWYoYT09PUtoKXJldHVybiBuPT09UWU/by5DT01QUkVTU0VEX1NSR0I4X0VUQzI6by5DT01QUkVTU0VEX1JHQjhfRVRDMjtpZihhPT09UWgpcmV0dXJuIG49PT1RZT9vLkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0VUQzJfRUFDOm8uQ09NUFJFU1NFRF9SR0JBOF9FVEMyX0VBQ31lbHNlIHJldHVybiBudWxsO2lmKGE9PT0kaHx8YT09PWVsfHxhPT09dGx8fGE9PT1pbHx8YT09PXJsfHxhPT09c2x8fGE9PT1hbHx8YT09PW5sfHxhPT09b2x8fGE9PT1obHx8YT09PWxsfHxhPT09Y2x8fGE9PT11bHx8YT09PWRsKWlmKG89ZS5nZXQoIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9hc3RjIiksbyE9PW51bGwpe2lmKGE9PT0kaClyZXR1cm4gbj09PVFlP28uQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfQVNUQ180eDRfS0hSOm8uQ09NUFJFU1NFRF9SR0JBX0FTVENfNHg0X0tIUjtpZihhPT09ZWwpcmV0dXJuIG49PT1RZT9vLkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0FTVENfNXg0X0tIUjpvLkNPTVBSRVNTRURfUkdCQV9BU1RDXzV4NF9LSFI7aWYoYT09PXRsKXJldHVybiBuPT09UWU/by5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzV4NV9LSFI6by5DT01QUkVTU0VEX1JHQkFfQVNUQ181eDVfS0hSO2lmKGE9PT1pbClyZXR1cm4gbj09PVFlP28uQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfQVNUQ182eDVfS0hSOm8uQ09NUFJFU1NFRF9SR0JBX0FTVENfNng1X0tIUjtpZihhPT09cmwpcmV0dXJuIG49PT1RZT9vLkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0FTVENfNng2X0tIUjpvLkNPTVBSRVNTRURfUkdCQV9BU1RDXzZ4Nl9LSFI7aWYoYT09PXNsKXJldHVybiBuPT09UWU/by5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzh4NV9LSFI6by5DT01QUkVTU0VEX1JHQkFfQVNUQ184eDVfS0hSO2lmKGE9PT1hbClyZXR1cm4gbj09PVFlP28uQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfQVNUQ184eDZfS0hSOm8uQ09NUFJFU1NFRF9SR0JBX0FTVENfOHg2X0tIUjtpZihhPT09bmwpcmV0dXJuIG49PT1RZT9vLkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0FTVENfOHg4X0tIUjpvLkNPTVBSRVNTRURfUkdCQV9BU1RDXzh4OF9LSFI7aWYoYT09PW9sKXJldHVybiBuPT09UWU/by5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzEweDVfS0hSOm8uQ09NUFJFU1NFRF9SR0JBX0FTVENfMTB4NV9LSFI7aWYoYT09PWhsKXJldHVybiBuPT09UWU/by5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzEweDZfS0hSOm8uQ09NUFJFU1NFRF9SR0JBX0FTVENfMTB4Nl9LSFI7aWYoYT09PWxsKXJldHVybiBuPT09UWU/by5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzEweDhfS0hSOm8uQ09NUFJFU1NFRF9SR0JBX0FTVENfMTB4OF9LSFI7aWYoYT09PWNsKXJldHVybiBuPT09UWU/by5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzEweDEwX0tIUjpvLkNPTVBSRVNTRURfUkdCQV9BU1RDXzEweDEwX0tIUjtpZihhPT09dWwpcmV0dXJuIG49PT1RZT9vLkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0FTVENfMTJ4MTBfS0hSOm8uQ09NUFJFU1NFRF9SR0JBX0FTVENfMTJ4MTBfS0hSO2lmKGE9PT1kbClyZXR1cm4gbj09PVFlP28uQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfQVNUQ18xMngxMl9LSFI6by5DT01QUkVTU0VEX1JHQkFfQVNUQ18xMngxMl9LSFJ9ZWxzZSByZXR1cm4gbnVsbDtpZihhPT09cGwpaWYobz1lLmdldCgiRVhUX3RleHR1cmVfY29tcHJlc3Npb25fYnB0YyIpLG8hPT1udWxsKXtpZihhPT09cGwpcmV0dXJuIG49PT1RZT9vLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9CUFRDX1VOT1JNX0VYVDpvLkNPTVBSRVNTRURfUkdCQV9CUFRDX1VOT1JNX0VYVH1lbHNlIHJldHVybiBudWxsO2lmKGE9PT1FcilyZXR1cm4gcj8zNDA0Mjoobz1lLmdldCgiV0VCR0xfZGVwdGhfdGV4dHVyZSIpLG8hPT1udWxsP28uVU5TSUdORURfSU5UXzI0XzhfV0VCR0w6bnVsbCl9cmV0dXJue2NvbnZlcnQ6c319Y2xhc3MgZGMgZXh0ZW5kcyBEdHtjb25zdHJ1Y3RvcihlPVtdKXtzdXBlcigpO3RoaXMuY2FtZXJhcz1lfX1kYy5wcm90b3R5cGUuaXNBcnJheUNhbWVyYT0hMDtjbGFzcyBJcyBleHRlbmRzIGple2NvbnN0cnVjdG9yKCl7c3VwZXIoKTt0aGlzLnR5cGU9Ikdyb3VwIn19SXMucHJvdG90eXBlLmlzR3JvdXA9ITA7Y29uc3QgUHk9e3R5cGU6Im1vdmUifTtjbGFzcyBfb3tjb25zdHJ1Y3Rvcigpe3RoaXMuX3RhcmdldFJheT1udWxsLHRoaXMuX2dyaXA9bnVsbCx0aGlzLl9oYW5kPW51bGx9Z2V0SGFuZFNwYWNlKCl7cmV0dXJuIHRoaXMuX2hhbmQ9PT1udWxsJiYodGhpcy5faGFuZD1uZXcgSXMsdGhpcy5faGFuZC5tYXRyaXhBdXRvVXBkYXRlPSExLHRoaXMuX2hhbmQudmlzaWJsZT0hMSx0aGlzLl9oYW5kLmpvaW50cz17fSx0aGlzLl9oYW5kLmlucHV0U3RhdGU9e3BpbmNoaW5nOiExfSksdGhpcy5faGFuZH1nZXRUYXJnZXRSYXlTcGFjZSgpe3JldHVybiB0aGlzLl90YXJnZXRSYXk9PT1udWxsJiYodGhpcy5fdGFyZ2V0UmF5PW5ldyBJcyx0aGlzLl90YXJnZXRSYXkubWF0cml4QXV0b1VwZGF0ZT0hMSx0aGlzLl90YXJnZXRSYXkudmlzaWJsZT0hMSx0aGlzLl90YXJnZXRSYXkuaGFzTGluZWFyVmVsb2NpdHk9ITEsdGhpcy5fdGFyZ2V0UmF5LmxpbmVhclZlbG9jaXR5PW5ldyBFLHRoaXMuX3RhcmdldFJheS5oYXNBbmd1bGFyVmVsb2NpdHk9ITEsdGhpcy5fdGFyZ2V0UmF5LmFuZ3VsYXJWZWxvY2l0eT1uZXcgRSksdGhpcy5fdGFyZ2V0UmF5fWdldEdyaXBTcGFjZSgpe3JldHVybiB0aGlzLl9ncmlwPT09bnVsbCYmKHRoaXMuX2dyaXA9bmV3IElzLHRoaXMuX2dyaXAubWF0cml4QXV0b1VwZGF0ZT0hMSx0aGlzLl9ncmlwLnZpc2libGU9ITEsdGhpcy5fZ3JpcC5oYXNMaW5lYXJWZWxvY2l0eT0hMSx0aGlzLl9ncmlwLmxpbmVhclZlbG9jaXR5PW5ldyBFLHRoaXMuX2dyaXAuaGFzQW5ndWxhclZlbG9jaXR5PSExLHRoaXMuX2dyaXAuYW5ndWxhclZlbG9jaXR5PW5ldyBFKSx0aGlzLl9ncmlwfWRpc3BhdGNoRXZlbnQoZSl7cmV0dXJuIHRoaXMuX3RhcmdldFJheSE9PW51bGwmJnRoaXMuX3RhcmdldFJheS5kaXNwYXRjaEV2ZW50KGUpLHRoaXMuX2dyaXAhPT1udWxsJiZ0aGlzLl9ncmlwLmRpc3BhdGNoRXZlbnQoZSksdGhpcy5faGFuZCE9PW51bGwmJnRoaXMuX2hhbmQuZGlzcGF0Y2hFdmVudChlKSx0aGlzfWRpc2Nvbm5lY3QoZSl7cmV0dXJuIHRoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZToiZGlzY29ubmVjdGVkIixkYXRhOmV9KSx0aGlzLl90YXJnZXRSYXkhPT1udWxsJiYodGhpcy5fdGFyZ2V0UmF5LnZpc2libGU9ITEpLHRoaXMuX2dyaXAhPT1udWxsJiYodGhpcy5fZ3JpcC52aXNpYmxlPSExKSx0aGlzLl9oYW5kIT09bnVsbCYmKHRoaXMuX2hhbmQudmlzaWJsZT0hMSksdGhpc311cGRhdGUoZSx0LHIpe2xldCBzPW51bGwsYT1udWxsLG49bnVsbDtjb25zdCBvPXRoaXMuX3RhcmdldFJheSxoPXRoaXMuX2dyaXAsbD10aGlzLl9oYW5kO2lmKGUmJnQuc2Vzc2lvbi52aXNpYmlsaXR5U3RhdGUhPT0idmlzaWJsZS1ibHVycmVkIilpZihvIT09bnVsbCYmKHM9dC5nZXRQb3NlKGUudGFyZ2V0UmF5U3BhY2UscikscyE9PW51bGwmJihvLm1hdHJpeC5mcm9tQXJyYXkocy50cmFuc2Zvcm0ubWF0cml4KSxvLm1hdHJpeC5kZWNvbXBvc2Uoby5wb3NpdGlvbixvLnJvdGF0aW9uLG8uc2NhbGUpLHMubGluZWFyVmVsb2NpdHk/KG8uaGFzTGluZWFyVmVsb2NpdHk9ITAsby5saW5lYXJWZWxvY2l0eS5jb3B5KHMubGluZWFyVmVsb2NpdHkpKTpvLmhhc0xpbmVhclZlbG9jaXR5PSExLHMuYW5ndWxhclZlbG9jaXR5PyhvLmhhc0FuZ3VsYXJWZWxvY2l0eT0hMCxvLmFuZ3VsYXJWZWxvY2l0eS5jb3B5KHMuYW5ndWxhclZlbG9jaXR5KSk6by5oYXNBbmd1bGFyVmVsb2NpdHk9ITEsdGhpcy5kaXNwYXRjaEV2ZW50KFB5KSkpLGwmJmUuaGFuZCl7bj0hMDtmb3IoY29uc3QgZiBvZiBlLmhhbmQudmFsdWVzKCkpe2NvbnN0IG09dC5nZXRKb2ludFBvc2UoZixyKTtpZihsLmpvaW50c1tmLmpvaW50TmFtZV09PT12b2lkIDApe2NvbnN0IHk9bmV3IElzO3kubWF0cml4QXV0b1VwZGF0ZT0hMSx5LnZpc2libGU9ITEsbC5qb2ludHNbZi5qb2ludE5hbWVdPXksbC5hZGQoeSl9Y29uc3Qgdj1sLmpvaW50c1tmLmpvaW50TmFtZV07bSE9PW51bGwmJih2Lm1hdHJpeC5mcm9tQXJyYXkobS50cmFuc2Zvcm0ubWF0cml4KSx2Lm1hdHJpeC5kZWNvbXBvc2Uodi5wb3NpdGlvbix2LnJvdGF0aW9uLHYuc2NhbGUpLHYuam9pbnRSYWRpdXM9bS5yYWRpdXMpLHYudmlzaWJsZT1tIT09bnVsbH1jb25zdCBjPWwuam9pbnRzWyJpbmRleC1maW5nZXItdGlwIl0sdT1sLmpvaW50c1sidGh1bWItdGlwIl0sZD1jLnBvc2l0aW9uLmRpc3RhbmNlVG8odS5wb3NpdGlvbikscD0uMDIsZz0uMDA1O2wuaW5wdXRTdGF0ZS5waW5jaGluZyYmZD5wK2c/KGwuaW5wdXRTdGF0ZS5waW5jaGluZz0hMSx0aGlzLmRpc3BhdGNoRXZlbnQoe3R5cGU6InBpbmNoZW5kIixoYW5kZWRuZXNzOmUuaGFuZGVkbmVzcyx0YXJnZXQ6dGhpc30pKTohbC5pbnB1dFN0YXRlLnBpbmNoaW5nJiZkPD1wLWcmJihsLmlucHV0U3RhdGUucGluY2hpbmc9ITAsdGhpcy5kaXNwYXRjaEV2ZW50KHt0eXBlOiJwaW5jaHN0YXJ0IixoYW5kZWRuZXNzOmUuaGFuZGVkbmVzcyx0YXJnZXQ6dGhpc30pKX1lbHNlIGghPT1udWxsJiZlLmdyaXBTcGFjZSYmKGE9dC5nZXRQb3NlKGUuZ3JpcFNwYWNlLHIpLGEhPT1udWxsJiYoaC5tYXRyaXguZnJvbUFycmF5KGEudHJhbnNmb3JtLm1hdHJpeCksaC5tYXRyaXguZGVjb21wb3NlKGgucG9zaXRpb24saC5yb3RhdGlvbixoLnNjYWxlKSxhLmxpbmVhclZlbG9jaXR5PyhoLmhhc0xpbmVhclZlbG9jaXR5PSEwLGgubGluZWFyVmVsb2NpdHkuY29weShhLmxpbmVhclZlbG9jaXR5KSk6aC5oYXNMaW5lYXJWZWxvY2l0eT0hMSxhLmFuZ3VsYXJWZWxvY2l0eT8oaC5oYXNBbmd1bGFyVmVsb2NpdHk9ITAsaC5hbmd1bGFyVmVsb2NpdHkuY29weShhLmFuZ3VsYXJWZWxvY2l0eSkpOmguaGFzQW5ndWxhclZlbG9jaXR5PSExKSk7cmV0dXJuIG8hPT1udWxsJiYoby52aXNpYmxlPXMhPT1udWxsKSxoIT09bnVsbCYmKGgudmlzaWJsZT1hIT09bnVsbCksbCE9PW51bGwmJihsLnZpc2libGU9biE9PW51bGwpLHRoaXN9fWNsYXNzIHBjIGV4dGVuZHMgZHR7Y29uc3RydWN0b3IoZSx0LHIscyxhLG4sbyxoLGwsYyl7aWYoYz1jIT09dm9pZCAwP2M6WmksYyE9PVppJiZjIT09VHIpdGhyb3cgbmV3IEVycm9yKCJEZXB0aFRleHR1cmUgZm9ybWF0IG11c3QgYmUgZWl0aGVyIFRIUkVFLkRlcHRoRm9ybWF0IG9yIFRIUkVFLkRlcHRoU3RlbmNpbEZvcm1hdCIpO3I9PT12b2lkIDAmJmM9PT1aaSYmKHI9U3MpLHI9PT12b2lkIDAmJmM9PT1UciYmKHI9RXIpO3N1cGVyKG51bGwscyxhLG4sbyxoLGMscixsKTt0aGlzLmltYWdlPXt3aWR0aDplLGhlaWdodDp0fSx0aGlzLm1hZ0ZpbHRlcj1vIT09dm9pZCAwP286dXQsdGhpcy5taW5GaWx0ZXI9aCE9PXZvaWQgMD9oOnV0LHRoaXMuZmxpcFk9ITEsdGhpcy5nZW5lcmF0ZU1pcG1hcHM9ITF9fXBjLnByb3RvdHlwZS5pc0RlcHRoVGV4dHVyZT0hMDtjbGFzcyBJeSBleHRlbmRzIFFpe2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoKTtjb25zdCByPXRoaXM7bGV0IHM9bnVsbCxhPTEsbj1udWxsLG89ImxvY2FsLWZsb29yIixoPW51bGwsbD1udWxsLGM9bnVsbCx1PW51bGwsZD1udWxsO2NvbnN0IHA9dC5nZXRDb250ZXh0QXR0cmlidXRlcygpO2xldCBnPW51bGwsZj1udWxsO2NvbnN0IG09W10sdj1uZXcgTWFwLHk9bmV3IER0O3kubGF5ZXJzLmVuYWJsZSgxKSx5LnZpZXdwb3J0PW5ldyBYZTtjb25zdCBUPW5ldyBEdDtULmxheWVycy5lbmFibGUoMiksVC52aWV3cG9ydD1uZXcgWGU7Y29uc3Qgdz1beSxUXSxiPW5ldyBkYztiLmxheWVycy5lbmFibGUoMSksYi5sYXllcnMuZW5hYmxlKDIpO2xldCBMPW51bGwsUD1udWxsO3RoaXMuY2FtZXJhQXV0b1VwZGF0ZT0hMCx0aGlzLmVuYWJsZWQ9ITEsdGhpcy5pc1ByZXNlbnRpbmc9ITEsdGhpcy5nZXRDb250cm9sbGVyPWZ1bmN0aW9uKFIpe2xldCBYPW1bUl07cmV0dXJuIFg9PT12b2lkIDAmJihYPW5ldyBfbyxtW1JdPVgpLFguZ2V0VGFyZ2V0UmF5U3BhY2UoKX0sdGhpcy5nZXRDb250cm9sbGVyR3JpcD1mdW5jdGlvbihSKXtsZXQgWD1tW1JdO3JldHVybiBYPT09dm9pZCAwJiYoWD1uZXcgX28sbVtSXT1YKSxYLmdldEdyaXBTcGFjZSgpfSx0aGlzLmdldEhhbmQ9ZnVuY3Rpb24oUil7bGV0IFg9bVtSXTtyZXR1cm4gWD09PXZvaWQgMCYmKFg9bmV3IF9vLG1bUl09WCksWC5nZXRIYW5kU3BhY2UoKX07ZnVuY3Rpb24gayhSKXtjb25zdCBYPXYuZ2V0KFIuaW5wdXRTb3VyY2UpO1gmJlguZGlzcGF0Y2hFdmVudCh7dHlwZTpSLnR5cGUsZGF0YTpSLmlucHV0U291cmNlfSl9ZnVuY3Rpb24gaWUoKXt2LmZvckVhY2goZnVuY3Rpb24oUixYKXtSLmRpc2Nvbm5lY3QoWCl9KSx2LmNsZWFyKCksTD1udWxsLFA9bnVsbCxlLnNldFJlbmRlclRhcmdldChnKSx1PW51bGwsYz1udWxsLGw9bnVsbCxzPW51bGwsZj1udWxsLEcuc3RvcCgpLHIuaXNQcmVzZW50aW5nPSExLHIuZGlzcGF0Y2hFdmVudCh7dHlwZToic2Vzc2lvbmVuZCJ9KX10aGlzLnNldEZyYW1lYnVmZmVyU2NhbGVGYWN0b3I9ZnVuY3Rpb24oUil7YT1SLHIuaXNQcmVzZW50aW5nPT09ITAmJmNvbnNvbGUud2FybigiVEhSRUUuV2ViWFJNYW5hZ2VyOiBDYW5ub3QgY2hhbmdlIGZyYW1lYnVmZmVyIHNjYWxlIHdoaWxlIHByZXNlbnRpbmcuIil9LHRoaXMuc2V0UmVmZXJlbmNlU3BhY2VUeXBlPWZ1bmN0aW9uKFIpe289UixyLmlzUHJlc2VudGluZz09PSEwJiZjb25zb2xlLndhcm4oIlRIUkVFLldlYlhSTWFuYWdlcjogQ2Fubm90IGNoYW5nZSByZWZlcmVuY2Ugc3BhY2UgdHlwZSB3aGlsZSBwcmVzZW50aW5nLiIpfSx0aGlzLmdldFJlZmVyZW5jZVNwYWNlPWZ1bmN0aW9uKCl7cmV0dXJuIG59LHRoaXMuZ2V0QmFzZUxheWVyPWZ1bmN0aW9uKCl7cmV0dXJuIGMhPT1udWxsP2M6dX0sdGhpcy5nZXRCaW5kaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIGx9LHRoaXMuZ2V0RnJhbWU9ZnVuY3Rpb24oKXtyZXR1cm4gZH0sdGhpcy5nZXRTZXNzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHN9LHRoaXMuc2V0U2Vzc2lvbj1mdW5jdGlvbihSKXtyZXR1cm4gbXUodGhpcyxudWxsLGZ1bmN0aW9uKigpe2lmKHM9UixzIT09bnVsbCl7aWYoZz1lLmdldFJlbmRlclRhcmdldCgpLHMuYWRkRXZlbnRMaXN0ZW5lcigic2VsZWN0IixrKSxzLmFkZEV2ZW50TGlzdGVuZXIoInNlbGVjdHN0YXJ0IixrKSxzLmFkZEV2ZW50TGlzdGVuZXIoInNlbGVjdGVuZCIsaykscy5hZGRFdmVudExpc3RlbmVyKCJzcXVlZXplIixrKSxzLmFkZEV2ZW50TGlzdGVuZXIoInNxdWVlemVzdGFydCIsaykscy5hZGRFdmVudExpc3RlbmVyKCJzcXVlZXplZW5kIixrKSxzLmFkZEV2ZW50TGlzdGVuZXIoImVuZCIsaWUpLHMuYWRkRXZlbnRMaXN0ZW5lcigiaW5wdXRzb3VyY2VzY2hhbmdlIixPKSxwLnhyQ29tcGF0aWJsZSE9PSEwJiYoeWllbGQgdC5tYWtlWFJDb21wYXRpYmxlKCkpLHMucmVuZGVyU3RhdGUubGF5ZXJzPT09dm9pZCAwfHxlLmNhcGFiaWxpdGllcy5pc1dlYkdMMj09PSExKXtjb25zdCBYPXthbnRpYWxpYXM6cy5yZW5kZXJTdGF0ZS5sYXllcnM9PT12b2lkIDA/cC5hbnRpYWxpYXM6ITAsYWxwaGE6cC5hbHBoYSxkZXB0aDpwLmRlcHRoLHN0ZW5jaWw6cC5zdGVuY2lsLGZyYW1lYnVmZmVyU2NhbGVGYWN0b3I6YX07dT1uZXcgWFJXZWJHTExheWVyKHMsdCxYKSxzLnVwZGF0ZVJlbmRlclN0YXRlKHtiYXNlTGF5ZXI6dX0pLGY9bmV3IHp0KHUuZnJhbWVidWZmZXJXaWR0aCx1LmZyYW1lYnVmZmVySGVpZ2h0LHtmb3JtYXQ6WHQsdHlwZTpKaSxlbmNvZGluZzplLm91dHB1dEVuY29kaW5nfSl9ZWxzZXtsZXQgWD1udWxsLEo9bnVsbCx0ZT1udWxsO3AuZGVwdGgmJih0ZT1wLnN0ZW5jaWw/MzUwNTY6MzMxOTAsWD1wLnN0ZW5jaWw/VHI6WmksSj1wLnN0ZW5jaWw/RXI6U3MpO2NvbnN0IFE9e2NvbG9yRm9ybWF0OmUub3V0cHV0RW5jb2Rpbmc9PT1RZT8zNTkwNzozMjg1NixkZXB0aEZvcm1hdDp0ZSxzY2FsZUZhY3RvcjphfTtsPW5ldyBYUldlYkdMQmluZGluZyhzLHQpLGM9bC5jcmVhdGVQcm9qZWN0aW9uTGF5ZXIoUSkscy51cGRhdGVSZW5kZXJTdGF0ZSh7bGF5ZXJzOltjXX0pLGY9bmV3IHp0KGMudGV4dHVyZVdpZHRoLGMudGV4dHVyZUhlaWdodCx7Zm9ybWF0Olh0LHR5cGU6SmksZGVwdGhUZXh0dXJlOm5ldyBwYyhjLnRleHR1cmVXaWR0aCxjLnRleHR1cmVIZWlnaHQsSix2b2lkIDAsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHZvaWQgMCxYKSxzdGVuY2lsQnVmZmVyOnAuc3RlbmNpbCxlbmNvZGluZzplLm91dHB1dEVuY29kaW5nLHNhbXBsZXM6cC5hbnRpYWxpYXM/NDowfSk7Y29uc3QgdmU9ZS5wcm9wZXJ0aWVzLmdldChmKTt2ZS5fX2lnbm9yZURlcHRoVmFsdWVzPWMuaWdub3JlRGVwdGhWYWx1ZXN9Zi5pc1hSUmVuZGVyVGFyZ2V0PSEwLHRoaXMuc2V0Rm92ZWF0aW9uKDEpLG49eWllbGQgcy5yZXF1ZXN0UmVmZXJlbmNlU3BhY2UobyksRy5zZXRDb250ZXh0KHMpLEcuc3RhcnQoKSxyLmlzUHJlc2VudGluZz0hMCxyLmRpc3BhdGNoRXZlbnQoe3R5cGU6InNlc3Npb25zdGFydCJ9KX19KX07ZnVuY3Rpb24gTyhSKXtjb25zdCBYPXMuaW5wdXRTb3VyY2VzO2ZvcihsZXQgSj0wO0o8bS5sZW5ndGg7SisrKXYuc2V0KFhbSl0sbVtKXSk7Zm9yKGxldCBKPTA7SjxSLnJlbW92ZWQubGVuZ3RoO0orKyl7Y29uc3QgdGU9Ui5yZW1vdmVkW0pdLFE9di5nZXQodGUpO1EmJihRLmRpc3BhdGNoRXZlbnQoe3R5cGU6ImRpc2Nvbm5lY3RlZCIsZGF0YTp0ZX0pLHYuZGVsZXRlKHRlKSl9Zm9yKGxldCBKPTA7SjxSLmFkZGVkLmxlbmd0aDtKKyspe2NvbnN0IHRlPVIuYWRkZWRbSl0sUT12LmdldCh0ZSk7USYmUS5kaXNwYXRjaEV2ZW50KHt0eXBlOiJjb25uZWN0ZWQiLGRhdGE6dGV9KX19Y29uc3QgeD1uZXcgRSxDPW5ldyBFO2Z1bmN0aW9uIFkoUixYLEope3guc2V0RnJvbU1hdHJpeFBvc2l0aW9uKFgubWF0cml4V29ybGQpLEMuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKEoubWF0cml4V29ybGQpO2NvbnN0IHRlPXguZGlzdGFuY2VUbyhDKSxRPVgucHJvamVjdGlvbk1hdHJpeC5lbGVtZW50cyx2ZT1KLnByb2plY3Rpb25NYXRyaXguZWxlbWVudHMsemU9UVsxNF0vKFFbMTBdLTEpLGJlPVFbMTRdLyhRWzEwXSsxKSxWPShRWzldKzEpL1FbNV0sWmU9KFFbOV0tMSkvUVs1XSxPZT0oUVs4XS0xKS9RWzBdLHllPSh2ZVs4XSsxKS92ZVswXSxyZT16ZSpPZSxaPXplKnllLGo9dGUvKC1PZSt5ZSkscT1qKi1PZTtYLm1hdHJpeFdvcmxkLmRlY29tcG9zZShSLnBvc2l0aW9uLFIucXVhdGVybmlvbixSLnNjYWxlKSxSLnRyYW5zbGF0ZVgocSksUi50cmFuc2xhdGVaKGopLFIubWF0cml4V29ybGQuY29tcG9zZShSLnBvc2l0aW9uLFIucXVhdGVybmlvbixSLnNjYWxlKSxSLm1hdHJpeFdvcmxkSW52ZXJzZS5jb3B5KFIubWF0cml4V29ybGQpLmludmVydCgpO2NvbnN0IGZlPXplK2osbGU9YmUraixBZT1yZS1xLFBlPVorKHRlLXEpLEllPVYqYmUvbGUqZmUsVGU9WmUqYmUvbGUqZmU7Ui5wcm9qZWN0aW9uTWF0cml4Lm1ha2VQZXJzcGVjdGl2ZShBZSxQZSxJZSxUZSxmZSxsZSl9ZnVuY3Rpb24gTihSLFgpe1g9PT1udWxsP1IubWF0cml4V29ybGQuY29weShSLm1hdHJpeCk6Ui5tYXRyaXhXb3JsZC5tdWx0aXBseU1hdHJpY2VzKFgubWF0cml4V29ybGQsUi5tYXRyaXgpLFIubWF0cml4V29ybGRJbnZlcnNlLmNvcHkoUi5tYXRyaXhXb3JsZCkuaW52ZXJ0KCl9dGhpcy51cGRhdGVDYW1lcmE9ZnVuY3Rpb24oUil7aWYocz09PW51bGwpcmV0dXJuO2IubmVhcj1ULm5lYXI9eS5uZWFyPVIubmVhcixiLmZhcj1ULmZhcj15LmZhcj1SLmZhciwoTCE9PWIubmVhcnx8UCE9PWIuZmFyKSYmKHMudXBkYXRlUmVuZGVyU3RhdGUoe2RlcHRoTmVhcjpiLm5lYXIsZGVwdGhGYXI6Yi5mYXJ9KSxMPWIubmVhcixQPWIuZmFyKTtjb25zdCBYPVIucGFyZW50LEo9Yi5jYW1lcmFzO04oYixYKTtmb3IobGV0IFE9MDtRPEoubGVuZ3RoO1ErKylOKEpbUV0sWCk7Yi5tYXRyaXhXb3JsZC5kZWNvbXBvc2UoYi5wb3NpdGlvbixiLnF1YXRlcm5pb24sYi5zY2FsZSksUi5wb3NpdGlvbi5jb3B5KGIucG9zaXRpb24pLFIucXVhdGVybmlvbi5jb3B5KGIucXVhdGVybmlvbiksUi5zY2FsZS5jb3B5KGIuc2NhbGUpLFIubWF0cml4LmNvcHkoYi5tYXRyaXgpLFIubWF0cml4V29ybGQuY29weShiLm1hdHJpeFdvcmxkKTtjb25zdCB0ZT1SLmNoaWxkcmVuO2ZvcihsZXQgUT0wLHZlPXRlLmxlbmd0aDtRPHZlO1ErKyl0ZVtRXS51cGRhdGVNYXRyaXhXb3JsZCghMCk7Si5sZW5ndGg9PT0yP1koYix5LFQpOmIucHJvamVjdGlvbk1hdHJpeC5jb3B5KHkucHJvamVjdGlvbk1hdHJpeCl9LHRoaXMuZ2V0Q2FtZXJhPWZ1bmN0aW9uKCl7cmV0dXJuIGJ9LHRoaXMuZ2V0Rm92ZWF0aW9uPWZ1bmN0aW9uKCl7aWYoYyE9PW51bGwpcmV0dXJuIGMuZml4ZWRGb3ZlYXRpb247aWYodSE9PW51bGwpcmV0dXJuIHUuZml4ZWRGb3ZlYXRpb259LHRoaXMuc2V0Rm92ZWF0aW9uPWZ1bmN0aW9uKFIpe2MhPT1udWxsJiYoYy5maXhlZEZvdmVhdGlvbj1SKSx1IT09bnVsbCYmdS5maXhlZEZvdmVhdGlvbiE9PXZvaWQgMCYmKHUuZml4ZWRGb3ZlYXRpb249Uil9O2xldCBVPW51bGw7ZnVuY3Rpb24gQihSLFgpe2lmKGg9WC5nZXRWaWV3ZXJQb3NlKG4pLGQ9WCxoIT09bnVsbCl7Y29uc3QgdGU9aC52aWV3czt1IT09bnVsbCYmKGUuc2V0UmVuZGVyVGFyZ2V0RnJhbWVidWZmZXIoZix1LmZyYW1lYnVmZmVyKSxlLnNldFJlbmRlclRhcmdldChmKSk7bGV0IFE9ITE7dGUubGVuZ3RoIT09Yi5jYW1lcmFzLmxlbmd0aCYmKGIuY2FtZXJhcy5sZW5ndGg9MCxRPSEwKTtmb3IobGV0IHZlPTA7dmU8dGUubGVuZ3RoO3ZlKyspe2NvbnN0IHplPXRlW3ZlXTtsZXQgYmU9bnVsbDtpZih1IT09bnVsbCliZT11LmdldFZpZXdwb3J0KHplKTtlbHNle2NvbnN0IFplPWwuZ2V0Vmlld1N1YkltYWdlKGMsemUpO2JlPVplLnZpZXdwb3J0LHZlPT09MCYmKGUuc2V0UmVuZGVyVGFyZ2V0VGV4dHVyZXMoZixaZS5jb2xvclRleHR1cmUsYy5pZ25vcmVEZXB0aFZhbHVlcz92b2lkIDA6WmUuZGVwdGhTdGVuY2lsVGV4dHVyZSksZS5zZXRSZW5kZXJUYXJnZXQoZikpfWNvbnN0IFY9d1t2ZV07Vi5tYXRyaXguZnJvbUFycmF5KHplLnRyYW5zZm9ybS5tYXRyaXgpLFYucHJvamVjdGlvbk1hdHJpeC5mcm9tQXJyYXkoemUucHJvamVjdGlvbk1hdHJpeCksVi52aWV3cG9ydC5zZXQoYmUueCxiZS55LGJlLndpZHRoLGJlLmhlaWdodCksdmU9PT0wJiZiLm1hdHJpeC5jb3B5KFYubWF0cml4KSxRPT09ITAmJmIuY2FtZXJhcy5wdXNoKFYpfX1jb25zdCBKPXMuaW5wdXRTb3VyY2VzO2ZvcihsZXQgdGU9MDt0ZTxtLmxlbmd0aDt0ZSsrKXtjb25zdCBRPW1bdGVdLHZlPUpbdGVdO1EudXBkYXRlKHZlLFgsbil9VSYmVShSLFgpLGQ9bnVsbH1jb25zdCBHPW5ldyBPbDtHLnNldEFuaW1hdGlvbkxvb3AoQiksdGhpcy5zZXRBbmltYXRpb25Mb29wPWZ1bmN0aW9uKFIpe1U9Un0sdGhpcy5kaXNwb3NlPWZ1bmN0aW9uKCl7fX19ZnVuY3Rpb24gTnkoaSxlKXtmdW5jdGlvbiB0KGYsbSl7Zi5mb2dDb2xvci52YWx1ZS5jb3B5KG0uY29sb3IpLG0uaXNGb2c/KGYuZm9nTmVhci52YWx1ZT1tLm5lYXIsZi5mb2dGYXIudmFsdWU9bS5mYXIpOm0uaXNGb2dFeHAyJiYoZi5mb2dEZW5zaXR5LnZhbHVlPW0uZGVuc2l0eSl9ZnVuY3Rpb24gcihmLG0sdix5LFQpe20uaXNNZXNoQmFzaWNNYXRlcmlhbHx8bS5pc01lc2hMYW1iZXJ0TWF0ZXJpYWw/cyhmLG0pOm0uaXNNZXNoVG9vbk1hdGVyaWFsPyhzKGYsbSksYyhmLG0pKTptLmlzTWVzaFBob25nTWF0ZXJpYWw/KHMoZixtKSxsKGYsbSkpOm0uaXNNZXNoU3RhbmRhcmRNYXRlcmlhbD8ocyhmLG0pLHUoZixtKSxtLmlzTWVzaFBoeXNpY2FsTWF0ZXJpYWwmJmQoZixtLFQpKTptLmlzTWVzaE1hdGNhcE1hdGVyaWFsPyhzKGYsbSkscChmLG0pKTptLmlzTWVzaERlcHRoTWF0ZXJpYWw/cyhmLG0pOm0uaXNNZXNoRGlzdGFuY2VNYXRlcmlhbD8ocyhmLG0pLGcoZixtKSk6bS5pc01lc2hOb3JtYWxNYXRlcmlhbD9zKGYsbSk6bS5pc0xpbmVCYXNpY01hdGVyaWFsPyhhKGYsbSksbS5pc0xpbmVEYXNoZWRNYXRlcmlhbCYmbihmLG0pKTptLmlzUG9pbnRzTWF0ZXJpYWw/byhmLG0sdix5KTptLmlzU3ByaXRlTWF0ZXJpYWw/aChmLG0pOm0uaXNTaGFkb3dNYXRlcmlhbD8oZi5jb2xvci52YWx1ZS5jb3B5KG0uY29sb3IpLGYub3BhY2l0eS52YWx1ZT1tLm9wYWNpdHkpOm0uaXNTaGFkZXJNYXRlcmlhbCYmKG0udW5pZm9ybXNOZWVkVXBkYXRlPSExKX1mdW5jdGlvbiBzKGYsbSl7Zi5vcGFjaXR5LnZhbHVlPW0ub3BhY2l0eSxtLmNvbG9yJiZmLmRpZmZ1c2UudmFsdWUuY29weShtLmNvbG9yKSxtLmVtaXNzaXZlJiZmLmVtaXNzaXZlLnZhbHVlLmNvcHkobS5lbWlzc2l2ZSkubXVsdGlwbHlTY2FsYXIobS5lbWlzc2l2ZUludGVuc2l0eSksbS5tYXAmJihmLm1hcC52YWx1ZT1tLm1hcCksbS5hbHBoYU1hcCYmKGYuYWxwaGFNYXAudmFsdWU9bS5hbHBoYU1hcCksbS5idW1wTWFwJiYoZi5idW1wTWFwLnZhbHVlPW0uYnVtcE1hcCxmLmJ1bXBTY2FsZS52YWx1ZT1tLmJ1bXBTY2FsZSxtLnNpZGU9PT1qdCYmKGYuYnVtcFNjYWxlLnZhbHVlKj0tMSkpLG0uZGlzcGxhY2VtZW50TWFwJiYoZi5kaXNwbGFjZW1lbnRNYXAudmFsdWU9bS5kaXNwbGFjZW1lbnRNYXAsZi5kaXNwbGFjZW1lbnRTY2FsZS52YWx1ZT1tLmRpc3BsYWNlbWVudFNjYWxlLGYuZGlzcGxhY2VtZW50Qmlhcy52YWx1ZT1tLmRpc3BsYWNlbWVudEJpYXMpLG0uZW1pc3NpdmVNYXAmJihmLmVtaXNzaXZlTWFwLnZhbHVlPW0uZW1pc3NpdmVNYXApLG0ubm9ybWFsTWFwJiYoZi5ub3JtYWxNYXAudmFsdWU9bS5ub3JtYWxNYXAsZi5ub3JtYWxTY2FsZS52YWx1ZS5jb3B5KG0ubm9ybWFsU2NhbGUpLG0uc2lkZT09PWp0JiZmLm5vcm1hbFNjYWxlLnZhbHVlLm5lZ2F0ZSgpKSxtLnNwZWN1bGFyTWFwJiYoZi5zcGVjdWxhck1hcC52YWx1ZT1tLnNwZWN1bGFyTWFwKSxtLmFscGhhVGVzdD4wJiYoZi5hbHBoYVRlc3QudmFsdWU9bS5hbHBoYVRlc3QpO2NvbnN0IHY9ZS5nZXQobSkuZW52TWFwO2lmKHYmJihmLmVudk1hcC52YWx1ZT12LGYuZmxpcEVudk1hcC52YWx1ZT12LmlzQ3ViZVRleHR1cmUmJnYuaXNSZW5kZXJUYXJnZXRUZXh0dXJlPT09ITE/LTE6MSxmLnJlZmxlY3Rpdml0eS52YWx1ZT1tLnJlZmxlY3Rpdml0eSxmLmlvci52YWx1ZT1tLmlvcixmLnJlZnJhY3Rpb25SYXRpby52YWx1ZT1tLnJlZnJhY3Rpb25SYXRpbyksbS5saWdodE1hcCl7Zi5saWdodE1hcC52YWx1ZT1tLmxpZ2h0TWFwO2NvbnN0IHc9aS5waHlzaWNhbGx5Q29ycmVjdExpZ2h0cyE9PSEwP01hdGguUEk6MTtmLmxpZ2h0TWFwSW50ZW5zaXR5LnZhbHVlPW0ubGlnaHRNYXBJbnRlbnNpdHkqd31tLmFvTWFwJiYoZi5hb01hcC52YWx1ZT1tLmFvTWFwLGYuYW9NYXBJbnRlbnNpdHkudmFsdWU9bS5hb01hcEludGVuc2l0eSk7bGV0IHk7bS5tYXA/eT1tLm1hcDptLnNwZWN1bGFyTWFwP3k9bS5zcGVjdWxhck1hcDptLmRpc3BsYWNlbWVudE1hcD95PW0uZGlzcGxhY2VtZW50TWFwOm0ubm9ybWFsTWFwP3k9bS5ub3JtYWxNYXA6bS5idW1wTWFwP3k9bS5idW1wTWFwOm0ucm91Z2huZXNzTWFwP3k9bS5yb3VnaG5lc3NNYXA6bS5tZXRhbG5lc3NNYXA/eT1tLm1ldGFsbmVzc01hcDptLmFscGhhTWFwP3k9bS5hbHBoYU1hcDptLmVtaXNzaXZlTWFwP3k9bS5lbWlzc2l2ZU1hcDptLmNsZWFyY29hdE1hcD95PW0uY2xlYXJjb2F0TWFwOm0uY2xlYXJjb2F0Tm9ybWFsTWFwP3k9bS5jbGVhcmNvYXROb3JtYWxNYXA6bS5jbGVhcmNvYXRSb3VnaG5lc3NNYXA/eT1tLmNsZWFyY29hdFJvdWdobmVzc01hcDptLnNwZWN1bGFySW50ZW5zaXR5TWFwP3k9bS5zcGVjdWxhckludGVuc2l0eU1hcDptLnNwZWN1bGFyQ29sb3JNYXA/eT1tLnNwZWN1bGFyQ29sb3JNYXA6bS50cmFuc21pc3Npb25NYXA/eT1tLnRyYW5zbWlzc2lvbk1hcDptLnRoaWNrbmVzc01hcD95PW0udGhpY2tuZXNzTWFwOm0uc2hlZW5Db2xvck1hcD95PW0uc2hlZW5Db2xvck1hcDptLnNoZWVuUm91Z2huZXNzTWFwJiYoeT1tLnNoZWVuUm91Z2huZXNzTWFwKSx5IT09dm9pZCAwJiYoeS5pc1dlYkdMUmVuZGVyVGFyZ2V0JiYoeT15LnRleHR1cmUpLHkubWF0cml4QXV0b1VwZGF0ZT09PSEwJiZ5LnVwZGF0ZU1hdHJpeCgpLGYudXZUcmFuc2Zvcm0udmFsdWUuY29weSh5Lm1hdHJpeCkpO2xldCBUO20uYW9NYXA/VD1tLmFvTWFwOm0ubGlnaHRNYXAmJihUPW0ubGlnaHRNYXApLFQhPT12b2lkIDAmJihULmlzV2ViR0xSZW5kZXJUYXJnZXQmJihUPVQudGV4dHVyZSksVC5tYXRyaXhBdXRvVXBkYXRlPT09ITAmJlQudXBkYXRlTWF0cml4KCksZi51djJUcmFuc2Zvcm0udmFsdWUuY29weShULm1hdHJpeCkpfWZ1bmN0aW9uIGEoZixtKXtmLmRpZmZ1c2UudmFsdWUuY29weShtLmNvbG9yKSxmLm9wYWNpdHkudmFsdWU9bS5vcGFjaXR5fWZ1bmN0aW9uIG4oZixtKXtmLmRhc2hTaXplLnZhbHVlPW0uZGFzaFNpemUsZi50b3RhbFNpemUudmFsdWU9bS5kYXNoU2l6ZSttLmdhcFNpemUsZi5zY2FsZS52YWx1ZT1tLnNjYWxlfWZ1bmN0aW9uIG8oZixtLHYseSl7Zi5kaWZmdXNlLnZhbHVlLmNvcHkobS5jb2xvciksZi5vcGFjaXR5LnZhbHVlPW0ub3BhY2l0eSxmLnNpemUudmFsdWU9bS5zaXplKnYsZi5zY2FsZS52YWx1ZT15Ki41LG0ubWFwJiYoZi5tYXAudmFsdWU9bS5tYXApLG0uYWxwaGFNYXAmJihmLmFscGhhTWFwLnZhbHVlPW0uYWxwaGFNYXApLG0uYWxwaGFUZXN0PjAmJihmLmFscGhhVGVzdC52YWx1ZT1tLmFscGhhVGVzdCk7bGV0IFQ7bS5tYXA/VD1tLm1hcDptLmFscGhhTWFwJiYoVD1tLmFscGhhTWFwKSxUIT09dm9pZCAwJiYoVC5tYXRyaXhBdXRvVXBkYXRlPT09ITAmJlQudXBkYXRlTWF0cml4KCksZi51dlRyYW5zZm9ybS52YWx1ZS5jb3B5KFQubWF0cml4KSl9ZnVuY3Rpb24gaChmLG0pe2YuZGlmZnVzZS52YWx1ZS5jb3B5KG0uY29sb3IpLGYub3BhY2l0eS52YWx1ZT1tLm9wYWNpdHksZi5yb3RhdGlvbi52YWx1ZT1tLnJvdGF0aW9uLG0ubWFwJiYoZi5tYXAudmFsdWU9bS5tYXApLG0uYWxwaGFNYXAmJihmLmFscGhhTWFwLnZhbHVlPW0uYWxwaGFNYXApLG0uYWxwaGFUZXN0PjAmJihmLmFscGhhVGVzdC52YWx1ZT1tLmFscGhhVGVzdCk7bGV0IHY7bS5tYXA/dj1tLm1hcDptLmFscGhhTWFwJiYodj1tLmFscGhhTWFwKSx2IT09dm9pZCAwJiYodi5tYXRyaXhBdXRvVXBkYXRlPT09ITAmJnYudXBkYXRlTWF0cml4KCksZi51dlRyYW5zZm9ybS52YWx1ZS5jb3B5KHYubWF0cml4KSl9ZnVuY3Rpb24gbChmLG0pe2Yuc3BlY3VsYXIudmFsdWUuY29weShtLnNwZWN1bGFyKSxmLnNoaW5pbmVzcy52YWx1ZT1NYXRoLm1heChtLnNoaW5pbmVzcywxZS00KX1mdW5jdGlvbiBjKGYsbSl7bS5ncmFkaWVudE1hcCYmKGYuZ3JhZGllbnRNYXAudmFsdWU9bS5ncmFkaWVudE1hcCl9ZnVuY3Rpb24gdShmLG0pe2Yucm91Z2huZXNzLnZhbHVlPW0ucm91Z2huZXNzLGYubWV0YWxuZXNzLnZhbHVlPW0ubWV0YWxuZXNzLG0ucm91Z2huZXNzTWFwJiYoZi5yb3VnaG5lc3NNYXAudmFsdWU9bS5yb3VnaG5lc3NNYXApLG0ubWV0YWxuZXNzTWFwJiYoZi5tZXRhbG5lc3NNYXAudmFsdWU9bS5tZXRhbG5lc3NNYXApLGUuZ2V0KG0pLmVudk1hcCYmKGYuZW52TWFwSW50ZW5zaXR5LnZhbHVlPW0uZW52TWFwSW50ZW5zaXR5KX1mdW5jdGlvbiBkKGYsbSx2KXtmLmlvci52YWx1ZT1tLmlvcixtLnNoZWVuPjAmJihmLnNoZWVuQ29sb3IudmFsdWUuY29weShtLnNoZWVuQ29sb3IpLm11bHRpcGx5U2NhbGFyKG0uc2hlZW4pLGYuc2hlZW5Sb3VnaG5lc3MudmFsdWU9bS5zaGVlblJvdWdobmVzcyxtLnNoZWVuQ29sb3JNYXAmJihmLnNoZWVuQ29sb3JNYXAudmFsdWU9bS5zaGVlbkNvbG9yTWFwKSxtLnNoZWVuUm91Z2huZXNzTWFwJiYoZi5zaGVlblJvdWdobmVzc01hcC52YWx1ZT1tLnNoZWVuUm91Z2huZXNzTWFwKSksbS5jbGVhcmNvYXQ+MCYmKGYuY2xlYXJjb2F0LnZhbHVlPW0uY2xlYXJjb2F0LGYuY2xlYXJjb2F0Um91Z2huZXNzLnZhbHVlPW0uY2xlYXJjb2F0Um91Z2huZXNzLG0uY2xlYXJjb2F0TWFwJiYoZi5jbGVhcmNvYXRNYXAudmFsdWU9bS5jbGVhcmNvYXRNYXApLG0uY2xlYXJjb2F0Um91Z2huZXNzTWFwJiYoZi5jbGVhcmNvYXRSb3VnaG5lc3NNYXAudmFsdWU9bS5jbGVhcmNvYXRSb3VnaG5lc3NNYXApLG0uY2xlYXJjb2F0Tm9ybWFsTWFwJiYoZi5jbGVhcmNvYXROb3JtYWxTY2FsZS52YWx1ZS5jb3B5KG0uY2xlYXJjb2F0Tm9ybWFsU2NhbGUpLGYuY2xlYXJjb2F0Tm9ybWFsTWFwLnZhbHVlPW0uY2xlYXJjb2F0Tm9ybWFsTWFwLG0uc2lkZT09PWp0JiZmLmNsZWFyY29hdE5vcm1hbFNjYWxlLnZhbHVlLm5lZ2F0ZSgpKSksbS50cmFuc21pc3Npb24+MCYmKGYudHJhbnNtaXNzaW9uLnZhbHVlPW0udHJhbnNtaXNzaW9uLGYudHJhbnNtaXNzaW9uU2FtcGxlck1hcC52YWx1ZT12LnRleHR1cmUsZi50cmFuc21pc3Npb25TYW1wbGVyU2l6ZS52YWx1ZS5zZXQodi53aWR0aCx2LmhlaWdodCksbS50cmFuc21pc3Npb25NYXAmJihmLnRyYW5zbWlzc2lvbk1hcC52YWx1ZT1tLnRyYW5zbWlzc2lvbk1hcCksZi50aGlja25lc3MudmFsdWU9bS50aGlja25lc3MsbS50aGlja25lc3NNYXAmJihmLnRoaWNrbmVzc01hcC52YWx1ZT1tLnRoaWNrbmVzc01hcCksZi5hdHRlbnVhdGlvbkRpc3RhbmNlLnZhbHVlPW0uYXR0ZW51YXRpb25EaXN0YW5jZSxmLmF0dGVudWF0aW9uQ29sb3IudmFsdWUuY29weShtLmF0dGVudWF0aW9uQ29sb3IpKSxmLnNwZWN1bGFySW50ZW5zaXR5LnZhbHVlPW0uc3BlY3VsYXJJbnRlbnNpdHksZi5zcGVjdWxhckNvbG9yLnZhbHVlLmNvcHkobS5zcGVjdWxhckNvbG9yKSxtLnNwZWN1bGFySW50ZW5zaXR5TWFwJiYoZi5zcGVjdWxhckludGVuc2l0eU1hcC52YWx1ZT1tLnNwZWN1bGFySW50ZW5zaXR5TWFwKSxtLnNwZWN1bGFyQ29sb3JNYXAmJihmLnNwZWN1bGFyQ29sb3JNYXAudmFsdWU9bS5zcGVjdWxhckNvbG9yTWFwKX1mdW5jdGlvbiBwKGYsbSl7bS5tYXRjYXAmJihmLm1hdGNhcC52YWx1ZT1tLm1hdGNhcCl9ZnVuY3Rpb24gZyhmLG0pe2YucmVmZXJlbmNlUG9zaXRpb24udmFsdWUuY29weShtLnJlZmVyZW5jZVBvc2l0aW9uKSxmLm5lYXJEaXN0YW5jZS52YWx1ZT1tLm5lYXJEaXN0YW5jZSxmLmZhckRpc3RhbmNlLnZhbHVlPW0uZmFyRGlzdGFuY2V9cmV0dXJue3JlZnJlc2hGb2dVbmlmb3Jtczp0LHJlZnJlc2hNYXRlcmlhbFVuaWZvcm1zOnJ9fWZ1bmN0aW9uIER5KCl7Y29uc3QgaT1UcygiY2FudmFzIik7cmV0dXJuIGkuc3R5bGUuZGlzcGxheT0iYmxvY2siLGl9ZnVuY3Rpb24gSmUoaT17fSl7Y29uc3QgZT1pLmNhbnZhcyE9PXZvaWQgMD9pLmNhbnZhczpEeSgpLHQ9aS5jb250ZXh0IT09dm9pZCAwP2kuY29udGV4dDpudWxsLHI9aS5kZXB0aCE9PXZvaWQgMD9pLmRlcHRoOiEwLHM9aS5zdGVuY2lsIT09dm9pZCAwP2kuc3RlbmNpbDohMCxhPWkuYW50aWFsaWFzIT09dm9pZCAwP2kuYW50aWFsaWFzOiExLG49aS5wcmVtdWx0aXBsaWVkQWxwaGEhPT12b2lkIDA/aS5wcmVtdWx0aXBsaWVkQWxwaGE6ITAsbz1pLnByZXNlcnZlRHJhd2luZ0J1ZmZlciE9PXZvaWQgMD9pLnByZXNlcnZlRHJhd2luZ0J1ZmZlcjohMSxoPWkucG93ZXJQcmVmZXJlbmNlIT09dm9pZCAwP2kucG93ZXJQcmVmZXJlbmNlOiJkZWZhdWx0IixsPWkuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCE9PXZvaWQgMD9pLmZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6ITE7bGV0IGM7aS5jb250ZXh0IT09dm9pZCAwP2M9dC5nZXRDb250ZXh0QXR0cmlidXRlcygpLmFscGhhOmM9aS5hbHBoYSE9PXZvaWQgMD9pLmFscGhhOiExO2xldCB1PW51bGwsZD1udWxsO2NvbnN0IHA9W10sZz1bXTt0aGlzLmRvbUVsZW1lbnQ9ZSx0aGlzLmRlYnVnPXtjaGVja1NoYWRlckVycm9yczohMH0sdGhpcy5hdXRvQ2xlYXI9ITAsdGhpcy5hdXRvQ2xlYXJDb2xvcj0hMCx0aGlzLmF1dG9DbGVhckRlcHRoPSEwLHRoaXMuYXV0b0NsZWFyU3RlbmNpbD0hMCx0aGlzLnNvcnRPYmplY3RzPSEwLHRoaXMuY2xpcHBpbmdQbGFuZXM9W10sdGhpcy5sb2NhbENsaXBwaW5nRW5hYmxlZD0hMSx0aGlzLm91dHB1dEVuY29kaW5nPV9pLHRoaXMucGh5c2ljYWxseUNvcnJlY3RMaWdodHM9ITEsdGhpcy50b25lTWFwcGluZz14aSx0aGlzLnRvbmVNYXBwaW5nRXhwb3N1cmU9MTtjb25zdCBmPXRoaXM7bGV0IG09ITEsdj0wLHk9MCxUPW51bGwsdz0tMSxiPW51bGw7Y29uc3QgTD1uZXcgWGUsUD1uZXcgWGU7bGV0IGs9bnVsbCxpZT1lLndpZHRoLE89ZS5oZWlnaHQseD0xLEM9bnVsbCxZPW51bGw7Y29uc3QgTj1uZXcgWGUoMCwwLGllLE8pLFU9bmV3IFhlKDAsMCxpZSxPKTtsZXQgQj0hMTtjb25zdCBHPW5ldyBIYTtsZXQgUj0hMSxYPSExLEo9bnVsbDtjb25zdCB0ZT1uZXcgX2UsUT1uZXcgZWUsdmU9bmV3IEUsemU9e2JhY2tncm91bmQ6bnVsbCxmb2c6bnVsbCxlbnZpcm9ubWVudDpudWxsLG92ZXJyaWRlTWF0ZXJpYWw6bnVsbCxpc1NjZW5lOiEwfTtmdW5jdGlvbiBiZSgpe3JldHVybiBUPT09bnVsbD94OjF9bGV0IFY9dDtmdW5jdGlvbiBaZShNLEkpe2ZvcihsZXQgej0wO3o8TS5sZW5ndGg7eisrKXtjb25zdCBEPU1bel0sVz1lLmdldENvbnRleHQoRCxJKTtpZihXIT09bnVsbClyZXR1cm4gV31yZXR1cm4gbnVsbH10cnl7Y29uc3QgTT17YWxwaGE6ITAsZGVwdGg6cixzdGVuY2lsOnMsYW50aWFsaWFzOmEscHJlbXVsdGlwbGllZEFscGhhOm4scHJlc2VydmVEcmF3aW5nQnVmZmVyOm8scG93ZXJQcmVmZXJlbmNlOmgsZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDpsfTtpZigic2V0QXR0cmlidXRlImluIGUmJmUuc2V0QXR0cmlidXRlKCJkYXRhLWVuZ2luZSIsYHRocmVlLmpzIHIke3lufWApLGUuYWRkRXZlbnRMaXN0ZW5lcigid2ViZ2xjb250ZXh0bG9zdCIsQSwhMSksZS5hZGRFdmVudExpc3RlbmVyKCJ3ZWJnbGNvbnRleHRyZXN0b3JlZCIsaGUsITEpLFY9PT1udWxsKXtjb25zdCBJPVsid2ViZ2wyIiwid2ViZ2wiLCJleHBlcmltZW50YWwtd2ViZ2wiXTtpZihmLmlzV2ViR0wxUmVuZGVyZXI9PT0hMCYmSS5zaGlmdCgpLFY9WmUoSSxNKSxWPT09bnVsbCl0aHJvdyBaZShJKT9uZXcgRXJyb3IoIkVycm9yIGNyZWF0aW5nIFdlYkdMIGNvbnRleHQgd2l0aCB5b3VyIHNlbGVjdGVkIGF0dHJpYnV0ZXMuIik6bmV3IEVycm9yKCJFcnJvciBjcmVhdGluZyBXZWJHTCBjb250ZXh0LiIpfVYuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0PT09dm9pZCAwJiYoVi5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQ9ZnVuY3Rpb24oKXtyZXR1cm57cmFuZ2VNaW46MSxyYW5nZU1heDoxLHByZWNpc2lvbjoxfX0pfWNhdGNoKE0pe3Rocm93IGNvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMUmVuZGVyZXI6ICIrTS5tZXNzYWdlKSxNfWxldCBPZSx5ZSxyZSxaLGoscSxmZSxsZSxBZSxQZSxJZSxUZSxLZSxMdCxTLF8sRiwkLGNlLGRlLE1lLEgsTmU7ZnVuY3Rpb24gQmUoKXtPZT1uZXcgUXgoVikseWU9bmV3IHF4KFYsT2UsaSksT2UuaW5pdCh5ZSksSD1uZXcgUnkoVixPZSx5ZSkscmU9bmV3IEN5KFYsT2UseWUpLFo9bmV3IHRfKFYpLGo9bmV3IHZ5LHE9bmV3IEx5KFYsT2UscmUsaix5ZSxILFopLGZlPW5ldyBKeChmKSxsZT1uZXcgS3goZiksQWU9bmV3IG0wKFYseWUpLE5lPW5ldyBXeChWLE9lLEFlLHllKSxQZT1uZXcgJHgoVixBZSxaLE5lKSxJZT1uZXcgYV8oVixQZSxBZSxaKSxjZT1uZXcgc18oVix5ZSxxKSxfPW5ldyBYeChqKSxUZT1uZXcgZ3koZixmZSxsZSxPZSx5ZSxOZSxfKSxLZT1uZXcgTnkoZixqKSxMdD1uZXcgX3ksUz1uZXcgRXkoT2UseWUpLCQ9bmV3IFZ4KGYsZmUscmUsSWUsYyxuKSxGPW5ldyB1YyhmLEllLHllKSxkZT1uZXcgangoVixPZSxaLHllKSxNZT1uZXcgZV8oVixPZSxaLHllKSxaLnByb2dyYW1zPVRlLnByb2dyYW1zLGYuY2FwYWJpbGl0aWVzPXllLGYuZXh0ZW5zaW9ucz1PZSxmLnByb3BlcnRpZXM9aixmLnJlbmRlckxpc3RzPUx0LGYuc2hhZG93TWFwPUYsZi5zdGF0ZT1yZSxmLmluZm89Wn1CZSgpO2NvbnN0IG1lPW5ldyBJeShmLFYpO3RoaXMueHI9bWUsdGhpcy5nZXRDb250ZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIFZ9LHRoaXMuZ2V0Q29udGV4dEF0dHJpYnV0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gVi5nZXRDb250ZXh0QXR0cmlidXRlcygpfSx0aGlzLmZvcmNlQ29udGV4dExvc3M9ZnVuY3Rpb24oKXtjb25zdCBNPU9lLmdldCgiV0VCR0xfbG9zZV9jb250ZXh0Iik7TSYmTS5sb3NlQ29udGV4dCgpfSx0aGlzLmZvcmNlQ29udGV4dFJlc3RvcmU9ZnVuY3Rpb24oKXtjb25zdCBNPU9lLmdldCgiV0VCR0xfbG9zZV9jb250ZXh0Iik7TSYmTS5yZXN0b3JlQ29udGV4dCgpfSx0aGlzLmdldFBpeGVsUmF0aW89ZnVuY3Rpb24oKXtyZXR1cm4geH0sdGhpcy5zZXRQaXhlbFJhdGlvPWZ1bmN0aW9uKE0pe00hPT12b2lkIDAmJih4PU0sdGhpcy5zZXRTaXplKGllLE8sITEpKX0sdGhpcy5nZXRTaXplPWZ1bmN0aW9uKE0pe3JldHVybiBNLnNldChpZSxPKX0sdGhpcy5zZXRTaXplPWZ1bmN0aW9uKE0sSSx6KXtpZihtZS5pc1ByZXNlbnRpbmcpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogQ2FuJ3QgY2hhbmdlIHNpemUgd2hpbGUgVlIgZGV2aWNlIGlzIHByZXNlbnRpbmcuIik7cmV0dXJufWllPU0sTz1JLGUud2lkdGg9TWF0aC5mbG9vcihNKngpLGUuaGVpZ2h0PU1hdGguZmxvb3IoSSp4KSx6IT09ITEmJihlLnN0eWxlLndpZHRoPU0rInB4IixlLnN0eWxlLmhlaWdodD1JKyJweCIpLHRoaXMuc2V0Vmlld3BvcnQoMCwwLE0sSSl9LHRoaXMuZ2V0RHJhd2luZ0J1ZmZlclNpemU9ZnVuY3Rpb24oTSl7cmV0dXJuIE0uc2V0KGllKngsTyp4KS5mbG9vcigpfSx0aGlzLnNldERyYXdpbmdCdWZmZXJTaXplPWZ1bmN0aW9uKE0sSSx6KXtpZT1NLE89SSx4PXosZS53aWR0aD1NYXRoLmZsb29yKE0qeiksZS5oZWlnaHQ9TWF0aC5mbG9vcihJKnopLHRoaXMuc2V0Vmlld3BvcnQoMCwwLE0sSSl9LHRoaXMuZ2V0Q3VycmVudFZpZXdwb3J0PWZ1bmN0aW9uKE0pe3JldHVybiBNLmNvcHkoTCl9LHRoaXMuZ2V0Vmlld3BvcnQ9ZnVuY3Rpb24oTSl7cmV0dXJuIE0uY29weShOKX0sdGhpcy5zZXRWaWV3cG9ydD1mdW5jdGlvbihNLEkseixEKXtNLmlzVmVjdG9yND9OLnNldChNLngsTS55LE0ueixNLncpOk4uc2V0KE0sSSx6LEQpLHJlLnZpZXdwb3J0KEwuY29weShOKS5tdWx0aXBseVNjYWxhcih4KS5mbG9vcigpKX0sdGhpcy5nZXRTY2lzc29yPWZ1bmN0aW9uKE0pe3JldHVybiBNLmNvcHkoVSl9LHRoaXMuc2V0U2Npc3Nvcj1mdW5jdGlvbihNLEkseixEKXtNLmlzVmVjdG9yND9VLnNldChNLngsTS55LE0ueixNLncpOlUuc2V0KE0sSSx6LEQpLHJlLnNjaXNzb3IoUC5jb3B5KFUpLm11bHRpcGx5U2NhbGFyKHgpLmZsb29yKCkpfSx0aGlzLmdldFNjaXNzb3JUZXN0PWZ1bmN0aW9uKCl7cmV0dXJuIEJ9LHRoaXMuc2V0U2Npc3NvclRlc3Q9ZnVuY3Rpb24oTSl7cmUuc2V0U2Npc3NvclRlc3QoQj1NKX0sdGhpcy5zZXRPcGFxdWVTb3J0PWZ1bmN0aW9uKE0pe0M9TX0sdGhpcy5zZXRUcmFuc3BhcmVudFNvcnQ9ZnVuY3Rpb24oTSl7WT1NfSx0aGlzLmdldENsZWFyQ29sb3I9ZnVuY3Rpb24oTSl7cmV0dXJuIE0uY29weSgkLmdldENsZWFyQ29sb3IoKSl9LHRoaXMuc2V0Q2xlYXJDb2xvcj1mdW5jdGlvbigpeyQuc2V0Q2xlYXJDb2xvci5hcHBseSgkLGFyZ3VtZW50cyl9LHRoaXMuZ2V0Q2xlYXJBbHBoYT1mdW5jdGlvbigpe3JldHVybiAkLmdldENsZWFyQWxwaGEoKX0sdGhpcy5zZXRDbGVhckFscGhhPWZ1bmN0aW9uKCl7JC5zZXRDbGVhckFscGhhLmFwcGx5KCQsYXJndW1lbnRzKX0sdGhpcy5jbGVhcj1mdW5jdGlvbihNPSEwLEk9ITAsej0hMCl7bGV0IEQ9MDtNJiYoRHw9MTYzODQpLEkmJihEfD0yNTYpLHomJihEfD0xMDI0KSxWLmNsZWFyKEQpfSx0aGlzLmNsZWFyQ29sb3I9ZnVuY3Rpb24oKXt0aGlzLmNsZWFyKCEwLCExLCExKX0sdGhpcy5jbGVhckRlcHRoPWZ1bmN0aW9uKCl7dGhpcy5jbGVhcighMSwhMCwhMSl9LHRoaXMuY2xlYXJTdGVuY2lsPWZ1bmN0aW9uKCl7dGhpcy5jbGVhcighMSwhMSwhMCl9LHRoaXMuZGlzcG9zZT1mdW5jdGlvbigpe2UucmVtb3ZlRXZlbnRMaXN0ZW5lcigid2ViZ2xjb250ZXh0bG9zdCIsQSwhMSksZS5yZW1vdmVFdmVudExpc3RlbmVyKCJ3ZWJnbGNvbnRleHRyZXN0b3JlZCIsaGUsITEpLEx0LmRpc3Bvc2UoKSxTLmRpc3Bvc2UoKSxqLmRpc3Bvc2UoKSxmZS5kaXNwb3NlKCksbGUuZGlzcG9zZSgpLEllLmRpc3Bvc2UoKSxOZS5kaXNwb3NlKCksVGUuZGlzcG9zZSgpLG1lLmRpc3Bvc2UoKSxtZS5yZW1vdmVFdmVudExpc3RlbmVyKCJzZXNzaW9uc3RhcnQiLENlKSxtZS5yZW1vdmVFdmVudExpc3RlbmVyKCJzZXNzaW9uZW5kIixrZSksSiYmKEouZGlzcG9zZSgpLEo9bnVsbCksWWUuc3RvcCgpfTtmdW5jdGlvbiBBKE0pe00ucHJldmVudERlZmF1bHQoKSxjb25zb2xlLmxvZygiVEhSRUUuV2ViR0xSZW5kZXJlcjogQ29udGV4dCBMb3N0LiIpLG09ITB9ZnVuY3Rpb24gaGUoKXtjb25zb2xlLmxvZygiVEhSRUUuV2ViR0xSZW5kZXJlcjogQ29udGV4dCBSZXN0b3JlZC4iKSxtPSExO2NvbnN0IE09Wi5hdXRvUmVzZXQsST1GLmVuYWJsZWQsej1GLmF1dG9VcGRhdGUsRD1GLm5lZWRzVXBkYXRlLFc9Ri50eXBlO0JlKCksWi5hdXRvUmVzZXQ9TSxGLmVuYWJsZWQ9SSxGLmF1dG9VcGRhdGU9eixGLm5lZWRzVXBkYXRlPUQsRi50eXBlPVd9ZnVuY3Rpb24gYWUoTSl7Y29uc3QgST1NLnRhcmdldDtJLnJlbW92ZUV2ZW50TGlzdGVuZXIoImRpc3Bvc2UiLGFlKSx3ZShJKX1mdW5jdGlvbiB3ZShNKXtwZShNKSxqLnJlbW92ZShNKX1mdW5jdGlvbiBwZShNKXtjb25zdCBJPWouZ2V0KE0pLnByb2dyYW1zO0khPT12b2lkIDAmJihJLmZvckVhY2goZnVuY3Rpb24oeil7VGUucmVsZWFzZVByb2dyYW0oeil9KSxNLmlzU2hhZGVyTWF0ZXJpYWwmJlRlLnJlbGVhc2VTaGFkZXJDYWNoZShNKSl9dGhpcy5yZW5kZXJCdWZmZXJEaXJlY3Q9ZnVuY3Rpb24oTSxJLHosRCxXLHhlKXtJPT09bnVsbCYmKEk9emUpO2NvbnN0IExlPVcuaXNNZXNoJiZXLm1hdHJpeFdvcmxkLmRldGVybWluYW50KCk8MCxSZT1mMShNLEkseixELFcpO3JlLnNldE1hdGVyaWFsKEQsTGUpO2xldCBVZT16LmluZGV4O2NvbnN0IHJ0PXouYXR0cmlidXRlcy5wb3NpdGlvbjtpZihVZT09PW51bGwpe2lmKHJ0PT09dm9pZCAwfHxydC5jb3VudD09PTApcmV0dXJufWVsc2UgaWYoVWUuY291bnQ9PT0wKXJldHVybjtsZXQgRmU9MTtELndpcmVmcmFtZT09PSEwJiYoVWU9UGUuZ2V0V2lyZWZyYW1lQXR0cmlidXRlKHopLEZlPTIpLE5lLnNldHVwKFcsRCxSZSx6LFVlKTtsZXQgSGUsbXQ9ZGU7VWUhPT1udWxsJiYoSGU9QWUuZ2V0KFVlKSxtdD1NZSxtdC5zZXRJbmRleChIZSkpO2NvbnN0IG9yPVVlIT09bnVsbD9VZS5jb3VudDpydC5jb3VudCxhcz16LmRyYXdSYW5nZS5zdGFydCpGZSxucz16LmRyYXdSYW5nZS5jb3VudCpGZSxkaT14ZSE9PW51bGw/eGUuc3RhcnQqRmU6MCxXZT14ZSE9PW51bGw/eGUuY291bnQqRmU6MS8wLG9zPU1hdGgubWF4KGFzLGRpKSxKcz1NYXRoLm1pbihvcixhcytucyxkaStXZSktMSxwaT1NYXRoLm1heCgwLEpzLW9zKzEpO2lmKHBpIT09MCl7aWYoVy5pc01lc2gpRC53aXJlZnJhbWU9PT0hMD8ocmUuc2V0TGluZVdpZHRoKEQud2lyZWZyYW1lTGluZXdpZHRoKmJlKCkpLG10LnNldE1vZGUoMSkpOm10LnNldE1vZGUoNCk7ZWxzZSBpZihXLmlzTGluZSl7bGV0IHFpPUQubGluZXdpZHRoO3FpPT09dm9pZCAwJiYocWk9MSkscmUuc2V0TGluZVdpZHRoKHFpKmJlKCkpLFcuaXNMaW5lU2VnbWVudHM/bXQuc2V0TW9kZSgxKTpXLmlzTGluZUxvb3A/bXQuc2V0TW9kZSgyKTptdC5zZXRNb2RlKDMpfWVsc2UgVy5pc1BvaW50cz9tdC5zZXRNb2RlKDApOlcuaXNTcHJpdGUmJm10LnNldE1vZGUoNCk7aWYoVy5pc0luc3RhbmNlZE1lc2gpbXQucmVuZGVySW5zdGFuY2VzKG9zLHBpLFcuY291bnQpO2Vsc2UgaWYoei5pc0luc3RhbmNlZEJ1ZmZlckdlb21ldHJ5KXtjb25zdCBxaT1NYXRoLm1pbih6Lmluc3RhbmNlQ291bnQsei5fbWF4SW5zdGFuY2VDb3VudCk7bXQucmVuZGVySW5zdGFuY2VzKG9zLHBpLHFpKX1lbHNlIG10LnJlbmRlcihvcyxwaSl9fSx0aGlzLmNvbXBpbGU9ZnVuY3Rpb24oTSxJKXtkPVMuZ2V0KE0pLGQuaW5pdCgpLGcucHVzaChkKSxNLnRyYXZlcnNlVmlzaWJsZShmdW5jdGlvbih6KXt6LmlzTGlnaHQmJnoubGF5ZXJzLnRlc3QoSS5sYXllcnMpJiYoZC5wdXNoTGlnaHQoeiksei5jYXN0U2hhZG93JiZkLnB1c2hTaGFkb3coeikpfSksZC5zZXR1cExpZ2h0cyhmLnBoeXNpY2FsbHlDb3JyZWN0TGlnaHRzKSxNLnRyYXZlcnNlKGZ1bmN0aW9uKHope2NvbnN0IEQ9ei5tYXRlcmlhbDtpZihEKWlmKEFycmF5LmlzQXJyYXkoRCkpZm9yKGxldCBXPTA7VzxELmxlbmd0aDtXKyspe2NvbnN0IHhlPURbV107cW8oeGUsTSx6KX1lbHNlIHFvKEQsTSx6KX0pLGcucG9wKCksZD1udWxsfTtsZXQgU2U9bnVsbDtmdW5jdGlvbiBzZShNKXtTZSYmU2UoTSl9ZnVuY3Rpb24gQ2UoKXtZZS5zdG9wKCl9ZnVuY3Rpb24ga2UoKXtZZS5zdGFydCgpfWNvbnN0IFllPW5ldyBPbDtZZS5zZXRBbmltYXRpb25Mb29wKHNlKSx0eXBlb2Ygc2VsZjwidSImJlllLnNldENvbnRleHQoc2VsZiksdGhpcy5zZXRBbmltYXRpb25Mb29wPWZ1bmN0aW9uKE0pe1NlPU0sbWUuc2V0QW5pbWF0aW9uTG9vcChNKSxNPT09bnVsbD9ZZS5zdG9wKCk6WWUuc3RhcnQoKX0sbWUuYWRkRXZlbnRMaXN0ZW5lcigic2Vzc2lvbnN0YXJ0IixDZSksbWUuYWRkRXZlbnRMaXN0ZW5lcigic2Vzc2lvbmVuZCIsa2UpLHRoaXMucmVuZGVyPWZ1bmN0aW9uKE0sSSl7aWYoSSE9PXZvaWQgMCYmSS5pc0NhbWVyYSE9PSEwKXtjb25zb2xlLmVycm9yKCJUSFJFRS5XZWJHTFJlbmRlcmVyLnJlbmRlcjogY2FtZXJhIGlzIG5vdCBhbiBpbnN0YW5jZSBvZiBUSFJFRS5DYW1lcmEuIik7cmV0dXJufWlmKG09PT0hMClyZXR1cm47TS5hdXRvVXBkYXRlPT09ITAmJk0udXBkYXRlTWF0cml4V29ybGQoKSxJLnBhcmVudD09PW51bGwmJkkudXBkYXRlTWF0cml4V29ybGQoKSxtZS5lbmFibGVkPT09ITAmJm1lLmlzUHJlc2VudGluZz09PSEwJiYobWUuY2FtZXJhQXV0b1VwZGF0ZT09PSEwJiZtZS51cGRhdGVDYW1lcmEoSSksST1tZS5nZXRDYW1lcmEoKSksTS5pc1NjZW5lPT09ITAmJk0ub25CZWZvcmVSZW5kZXIoZixNLEksVCksZD1TLmdldChNLGcubGVuZ3RoKSxkLmluaXQoKSxnLnB1c2goZCksdGUubXVsdGlwbHlNYXRyaWNlcyhJLnByb2plY3Rpb25NYXRyaXgsSS5tYXRyaXhXb3JsZEludmVyc2UpLEcuc2V0RnJvbVByb2plY3Rpb25NYXRyaXgodGUpLFg9dGhpcy5sb2NhbENsaXBwaW5nRW5hYmxlZCxSPV8uaW5pdCh0aGlzLmNsaXBwaW5nUGxhbmVzLFgsSSksdT1MdC5nZXQoTSxwLmxlbmd0aCksdS5pbml0KCkscC5wdXNoKHUpLGNpKE0sSSwwLGYuc29ydE9iamVjdHMpLHUuZmluaXNoKCksZi5zb3J0T2JqZWN0cz09PSEwJiZ1LnNvcnQoQyxZKSxSPT09ITAmJl8uYmVnaW5TaGFkb3dzKCk7Y29uc3Qgej1kLnN0YXRlLnNoYWRvd3NBcnJheTtpZihGLnJlbmRlcih6LE0sSSksUj09PSEwJiZfLmVuZFNoYWRvd3MoKSx0aGlzLmluZm8uYXV0b1Jlc2V0PT09ITAmJnRoaXMuaW5mby5yZXNldCgpLCQucmVuZGVyKHUsTSksZC5zZXR1cExpZ2h0cyhmLnBoeXNpY2FsbHlDb3JyZWN0TGlnaHRzKSxJLmlzQXJyYXlDYW1lcmEpe2NvbnN0IEQ9SS5jYW1lcmFzO2ZvcihsZXQgVz0wLHhlPUQubGVuZ3RoO1c8eGU7VysrKXtjb25zdCBMZT1EW1ddO3VpKHUsTSxMZSxMZS52aWV3cG9ydCl9fWVsc2UgdWkodSxNLEkpO1QhPT1udWxsJiYocS51cGRhdGVNdWx0aXNhbXBsZVJlbmRlclRhcmdldChUKSxxLnVwZGF0ZVJlbmRlclRhcmdldE1pcG1hcChUKSksTS5pc1NjZW5lPT09ITAmJk0ub25BZnRlclJlbmRlcihmLE0sSSksTmUucmVzZXREZWZhdWx0U3RhdGUoKSx3PS0xLGI9bnVsbCxnLnBvcCgpLGcubGVuZ3RoPjA/ZD1nW2cubGVuZ3RoLTFdOmQ9bnVsbCxwLnBvcCgpLHAubGVuZ3RoPjA/dT1wW3AubGVuZ3RoLTFdOnU9bnVsbH07ZnVuY3Rpb24gY2koTSxJLHosRCl7aWYoTS52aXNpYmxlPT09ITEpcmV0dXJuO2lmKE0ubGF5ZXJzLnRlc3QoSS5sYXllcnMpKXtpZihNLmlzR3JvdXApej1NLnJlbmRlck9yZGVyO2Vsc2UgaWYoTS5pc0xPRClNLmF1dG9VcGRhdGU9PT0hMCYmTS51cGRhdGUoSSk7ZWxzZSBpZihNLmlzTGlnaHQpZC5wdXNoTGlnaHQoTSksTS5jYXN0U2hhZG93JiZkLnB1c2hTaGFkb3coTSk7ZWxzZSBpZihNLmlzU3ByaXRlKXtpZighTS5mcnVzdHVtQ3VsbGVkfHxHLmludGVyc2VjdHNTcHJpdGUoTSkpe0QmJnZlLnNldEZyb21NYXRyaXhQb3NpdGlvbihNLm1hdHJpeFdvcmxkKS5hcHBseU1hdHJpeDQodGUpO2NvbnN0IHhlPUllLnVwZGF0ZShNKSxMZT1NLm1hdGVyaWFsO0xlLnZpc2libGUmJnUucHVzaChNLHhlLExlLHosdmUueixudWxsKX19ZWxzZSBpZigoTS5pc01lc2h8fE0uaXNMaW5lfHxNLmlzUG9pbnRzKSYmKE0uaXNTa2lubmVkTWVzaCYmTS5za2VsZXRvbi5mcmFtZSE9PVoucmVuZGVyLmZyYW1lJiYoTS5za2VsZXRvbi51cGRhdGUoKSxNLnNrZWxldG9uLmZyYW1lPVoucmVuZGVyLmZyYW1lKSwhTS5mcnVzdHVtQ3VsbGVkfHxHLmludGVyc2VjdHNPYmplY3QoTSkpKXtEJiZ2ZS5zZXRGcm9tTWF0cml4UG9zaXRpb24oTS5tYXRyaXhXb3JsZCkuYXBwbHlNYXRyaXg0KHRlKTtjb25zdCB4ZT1JZS51cGRhdGUoTSksTGU9TS5tYXRlcmlhbDtpZihBcnJheS5pc0FycmF5KExlKSl7Y29uc3QgUmU9eGUuZ3JvdXBzO2ZvcihsZXQgVWU9MCxydD1SZS5sZW5ndGg7VWU8cnQ7VWUrKyl7Y29uc3QgRmU9UmVbVWVdLEhlPUxlW0ZlLm1hdGVyaWFsSW5kZXhdO0hlJiZIZS52aXNpYmxlJiZ1LnB1c2goTSx4ZSxIZSx6LHZlLnosRmUpfX1lbHNlIExlLnZpc2libGUmJnUucHVzaChNLHhlLExlLHosdmUueixudWxsKX19Y29uc3QgVz1NLmNoaWxkcmVuO2ZvcihsZXQgeGU9MCxMZT1XLmxlbmd0aDt4ZTxMZTt4ZSsrKWNpKFdbeGVdLEkseixEKX1mdW5jdGlvbiB1aShNLEkseixEKXtjb25zdCBXPU0ub3BhcXVlLHhlPU0udHJhbnNtaXNzaXZlLExlPU0udHJhbnNwYXJlbnQ7ZC5zZXR1cExpZ2h0c1ZpZXcoeikseGUubGVuZ3RoPjAmJmQxKFcsSSx6KSxEJiZyZS52aWV3cG9ydChMLmNvcHkoRCkpLFcubGVuZ3RoPjAmJm9uKFcsSSx6KSx4ZS5sZW5ndGg+MCYmb24oeGUsSSx6KSxMZS5sZW5ndGg+MCYmb24oTGUsSSx6KSxyZS5idWZmZXJzLmRlcHRoLnNldFRlc3QoITApLHJlLmJ1ZmZlcnMuZGVwdGguc2V0TWFzayghMCkscmUuYnVmZmVycy5jb2xvci5zZXRNYXNrKCEwKSxyZS5zZXRQb2x5Z29uT2Zmc2V0KCExKX1mdW5jdGlvbiBkMShNLEkseil7Y29uc3QgRD15ZS5pc1dlYkdMMjtKPT09bnVsbCYmKEo9bmV3IHp0KDEsMSx7Z2VuZXJhdGVNaXBtYXBzOiEwLHR5cGU6SC5jb252ZXJ0KFNyKSE9PW51bGw/U3I6SmksbWluRmlsdGVyOnVhLHNhbXBsZXM6RCYmYT09PSEwPzQ6MH0pKSxmLmdldERyYXdpbmdCdWZmZXJTaXplKFEpLEQ/Si5zZXRTaXplKFEueCxRLnkpOkouc2V0U2l6ZShCbihRLngpLEJuKFEueSkpO2NvbnN0IFc9Zi5nZXRSZW5kZXJUYXJnZXQoKTtmLnNldFJlbmRlclRhcmdldChKKSxmLmNsZWFyKCk7Y29uc3QgeGU9Zi50b25lTWFwcGluZztmLnRvbmVNYXBwaW5nPXhpLG9uKE0sSSx6KSxmLnRvbmVNYXBwaW5nPXhlLHEudXBkYXRlTXVsdGlzYW1wbGVSZW5kZXJUYXJnZXQoSikscS51cGRhdGVSZW5kZXJUYXJnZXRNaXBtYXAoSiksZi5zZXRSZW5kZXJUYXJnZXQoVyl9ZnVuY3Rpb24gb24oTSxJLHope2NvbnN0IEQ9SS5pc1NjZW5lPT09ITA/SS5vdmVycmlkZU1hdGVyaWFsOm51bGw7Zm9yKGxldCBXPTAseGU9TS5sZW5ndGg7Vzx4ZTtXKyspe2NvbnN0IExlPU1bV10sUmU9TGUub2JqZWN0LFVlPUxlLmdlb21ldHJ5LHJ0PUQ9PT1udWxsP0xlLm1hdGVyaWFsOkQsRmU9TGUuZ3JvdXA7UmUubGF5ZXJzLnRlc3Qoei5sYXllcnMpJiZwMShSZSxJLHosVWUscnQsRmUpfX1mdW5jdGlvbiBwMShNLEkseixELFcseGUpe00ub25CZWZvcmVSZW5kZXIoZixJLHosRCxXLHhlKSxNLm1vZGVsVmlld01hdHJpeC5tdWx0aXBseU1hdHJpY2VzKHoubWF0cml4V29ybGRJbnZlcnNlLE0ubWF0cml4V29ybGQpLE0ubm9ybWFsTWF0cml4LmdldE5vcm1hbE1hdHJpeChNLm1vZGVsVmlld01hdHJpeCksVy5vbkJlZm9yZVJlbmRlcihmLEkseixELE0seGUpLFcudHJhbnNwYXJlbnQ9PT0hMCYmVy5zaWRlPT09X3I/KFcuc2lkZT1qdCxXLm5lZWRzVXBkYXRlPSEwLGYucmVuZGVyQnVmZmVyRGlyZWN0KHosSSxELFcsTSx4ZSksVy5zaWRlPXdzLFcubmVlZHNVcGRhdGU9ITAsZi5yZW5kZXJCdWZmZXJEaXJlY3QoeixJLEQsVyxNLHhlKSxXLnNpZGU9X3IpOmYucmVuZGVyQnVmZmVyRGlyZWN0KHosSSxELFcsTSx4ZSksTS5vbkFmdGVyUmVuZGVyKGYsSSx6LEQsVyx4ZSl9ZnVuY3Rpb24gcW8oTSxJLHope0kuaXNTY2VuZSE9PSEwJiYoST16ZSk7Y29uc3QgRD1qLmdldChNKSxXPWQuc3RhdGUubGlnaHRzLHhlPWQuc3RhdGUuc2hhZG93c0FycmF5LExlPVcuc3RhdGUudmVyc2lvbixSZT1UZS5nZXRQYXJhbWV0ZXJzKE0sVy5zdGF0ZSx4ZSxJLHopLFVlPVRlLmdldFByb2dyYW1DYWNoZUtleShSZSk7bGV0IHJ0PUQucHJvZ3JhbXM7RC5lbnZpcm9ubWVudD1NLmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWw/SS5lbnZpcm9ubWVudDpudWxsLEQuZm9nPUkuZm9nLEQuZW52TWFwPShNLmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWw/bGU6ZmUpLmdldChNLmVudk1hcHx8RC5lbnZpcm9ubWVudCkscnQ9PT12b2lkIDAmJihNLmFkZEV2ZW50TGlzdGVuZXIoImRpc3Bvc2UiLGFlKSxydD1uZXcgTWFwLEQucHJvZ3JhbXM9cnQpO2xldCBGZT1ydC5nZXQoVWUpO2lmKEZlIT09dm9pZCAwKXtpZihELmN1cnJlbnRQcm9ncmFtPT09RmUmJkQubGlnaHRzU3RhdGVWZXJzaW9uPT09TGUpcmV0dXJuIHB1KE0sUmUpLEZlfWVsc2UgUmUudW5pZm9ybXM9VGUuZ2V0VW5pZm9ybXMoTSksTS5vbkJ1aWxkKHosUmUsZiksTS5vbkJlZm9yZUNvbXBpbGUoUmUsZiksRmU9VGUuYWNxdWlyZVByb2dyYW0oUmUsVWUpLHJ0LnNldChVZSxGZSksRC51bmlmb3Jtcz1SZS51bmlmb3Jtcztjb25zdCBIZT1ELnVuaWZvcm1zOyghTS5pc1NoYWRlck1hdGVyaWFsJiYhTS5pc1Jhd1NoYWRlck1hdGVyaWFsfHxNLmNsaXBwaW5nPT09ITApJiYoSGUuY2xpcHBpbmdQbGFuZXM9Xy51bmlmb3JtKSxwdShNLFJlKSxELm5lZWRzTGlnaHRzPWcxKE0pLEQubGlnaHRzU3RhdGVWZXJzaW9uPUxlLEQubmVlZHNMaWdodHMmJihIZS5hbWJpZW50TGlnaHRDb2xvci52YWx1ZT1XLnN0YXRlLmFtYmllbnQsSGUubGlnaHRQcm9iZS52YWx1ZT1XLnN0YXRlLnByb2JlLEhlLmRpcmVjdGlvbmFsTGlnaHRzLnZhbHVlPVcuc3RhdGUuZGlyZWN0aW9uYWwsSGUuZGlyZWN0aW9uYWxMaWdodFNoYWRvd3MudmFsdWU9Vy5zdGF0ZS5kaXJlY3Rpb25hbFNoYWRvdyxIZS5zcG90TGlnaHRzLnZhbHVlPVcuc3RhdGUuc3BvdCxIZS5zcG90TGlnaHRTaGFkb3dzLnZhbHVlPVcuc3RhdGUuc3BvdFNoYWRvdyxIZS5yZWN0QXJlYUxpZ2h0cy52YWx1ZT1XLnN0YXRlLnJlY3RBcmVhLEhlLmx0Y18xLnZhbHVlPVcuc3RhdGUucmVjdEFyZWFMVEMxLEhlLmx0Y18yLnZhbHVlPVcuc3RhdGUucmVjdEFyZWFMVEMyLEhlLnBvaW50TGlnaHRzLnZhbHVlPVcuc3RhdGUucG9pbnQsSGUucG9pbnRMaWdodFNoYWRvd3MudmFsdWU9Vy5zdGF0ZS5wb2ludFNoYWRvdyxIZS5oZW1pc3BoZXJlTGlnaHRzLnZhbHVlPVcuc3RhdGUuaGVtaSxIZS5kaXJlY3Rpb25hbFNoYWRvd01hcC52YWx1ZT1XLnN0YXRlLmRpcmVjdGlvbmFsU2hhZG93TWFwLEhlLmRpcmVjdGlvbmFsU2hhZG93TWF0cml4LnZhbHVlPVcuc3RhdGUuZGlyZWN0aW9uYWxTaGFkb3dNYXRyaXgsSGUuc3BvdFNoYWRvd01hcC52YWx1ZT1XLnN0YXRlLnNwb3RTaGFkb3dNYXAsSGUuc3BvdFNoYWRvd01hdHJpeC52YWx1ZT1XLnN0YXRlLnNwb3RTaGFkb3dNYXRyaXgsSGUucG9pbnRTaGFkb3dNYXAudmFsdWU9Vy5zdGF0ZS5wb2ludFNoYWRvd01hcCxIZS5wb2ludFNoYWRvd01hdHJpeC52YWx1ZT1XLnN0YXRlLnBvaW50U2hhZG93TWF0cml4KTtjb25zdCBtdD1GZS5nZXRVbmlmb3JtcygpLG9yPUhpLnNlcVdpdGhWYWx1ZShtdC5zZXEsSGUpO3JldHVybiBELmN1cnJlbnRQcm9ncmFtPUZlLEQudW5pZm9ybXNMaXN0PW9yLEZlfWZ1bmN0aW9uIHB1KE0sSSl7Y29uc3Qgej1qLmdldChNKTt6Lm91dHB1dEVuY29kaW5nPUkub3V0cHV0RW5jb2Rpbmcsei5pbnN0YW5jaW5nPUkuaW5zdGFuY2luZyx6LnNraW5uaW5nPUkuc2tpbm5pbmcsei5tb3JwaFRhcmdldHM9SS5tb3JwaFRhcmdldHMsei5tb3JwaE5vcm1hbHM9SS5tb3JwaE5vcm1hbHMsei5tb3JwaENvbG9ycz1JLm1vcnBoQ29sb3JzLHoubW9ycGhUYXJnZXRzQ291bnQ9SS5tb3JwaFRhcmdldHNDb3VudCx6Lm51bUNsaXBwaW5nUGxhbmVzPUkubnVtQ2xpcHBpbmdQbGFuZXMsei5udW1JbnRlcnNlY3Rpb249SS5udW1DbGlwSW50ZXJzZWN0aW9uLHoudmVydGV4QWxwaGFzPUkudmVydGV4QWxwaGFzLHoudmVydGV4VGFuZ2VudHM9SS52ZXJ0ZXhUYW5nZW50cyx6LnRvbmVNYXBwaW5nPUkudG9uZU1hcHBpbmd9ZnVuY3Rpb24gZjEoTSxJLHosRCxXKXtJLmlzU2NlbmUhPT0hMCYmKEk9emUpLHEucmVzZXRUZXh0dXJlVW5pdHMoKTtjb25zdCB4ZT1JLmZvZyxMZT1ELmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWw/SS5lbnZpcm9ubWVudDpudWxsLFJlPVQ9PT1udWxsP2Yub3V0cHV0RW5jb2Rpbmc6VC5pc1hSUmVuZGVyVGFyZ2V0PT09ITA/VC50ZXh0dXJlLmVuY29kaW5nOl9pLFVlPShELmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWw/bGU6ZmUpLmdldChELmVudk1hcHx8TGUpLHJ0PUQudmVydGV4Q29sb3JzPT09ITAmJiEhei5hdHRyaWJ1dGVzLmNvbG9yJiZ6LmF0dHJpYnV0ZXMuY29sb3IuaXRlbVNpemU9PT00LEZlPSEhRC5ub3JtYWxNYXAmJiEhei5hdHRyaWJ1dGVzLnRhbmdlbnQsSGU9ISF6Lm1vcnBoQXR0cmlidXRlcy5wb3NpdGlvbixtdD0hIXoubW9ycGhBdHRyaWJ1dGVzLm5vcm1hbCxvcj0hIXoubW9ycGhBdHRyaWJ1dGVzLmNvbG9yLGFzPUQudG9uZU1hcHBlZD9mLnRvbmVNYXBwaW5nOnhpLG5zPXoubW9ycGhBdHRyaWJ1dGVzLnBvc2l0aW9ufHx6Lm1vcnBoQXR0cmlidXRlcy5ub3JtYWx8fHoubW9ycGhBdHRyaWJ1dGVzLmNvbG9yLGRpPW5zIT09dm9pZCAwP25zLmxlbmd0aDowLFdlPWouZ2V0KEQpLG9zPWQuc3RhdGUubGlnaHRzO2lmKFI9PT0hMCYmKFg9PT0hMHx8TSE9PWIpKXtjb25zdCBlaT1NPT09YiYmRC5pZD09PXc7Xy5zZXRTdGF0ZShELE0sZWkpfWxldCBKcz0hMTtELnZlcnNpb249PT1XZS5fX3ZlcnNpb24/KFdlLm5lZWRzTGlnaHRzJiZXZS5saWdodHNTdGF0ZVZlcnNpb24hPT1vcy5zdGF0ZS52ZXJzaW9ufHxXZS5vdXRwdXRFbmNvZGluZyE9PVJlfHxXLmlzSW5zdGFuY2VkTWVzaCYmV2UuaW5zdGFuY2luZz09PSExfHwhVy5pc0luc3RhbmNlZE1lc2gmJldlLmluc3RhbmNpbmc9PT0hMHx8Vy5pc1NraW5uZWRNZXNoJiZXZS5za2lubmluZz09PSExfHwhVy5pc1NraW5uZWRNZXNoJiZXZS5za2lubmluZz09PSEwfHxXZS5lbnZNYXAhPT1VZXx8RC5mb2cmJldlLmZvZyE9PXhlfHxXZS5udW1DbGlwcGluZ1BsYW5lcyE9PXZvaWQgMCYmKFdlLm51bUNsaXBwaW5nUGxhbmVzIT09Xy5udW1QbGFuZXN8fFdlLm51bUludGVyc2VjdGlvbiE9PV8ubnVtSW50ZXJzZWN0aW9uKXx8V2UudmVydGV4QWxwaGFzIT09cnR8fFdlLnZlcnRleFRhbmdlbnRzIT09RmV8fFdlLm1vcnBoVGFyZ2V0cyE9PUhlfHxXZS5tb3JwaE5vcm1hbHMhPT1tdHx8V2UubW9ycGhDb2xvcnMhPT1vcnx8V2UudG9uZU1hcHBpbmchPT1hc3x8eWUuaXNXZWJHTDI9PT0hMCYmV2UubW9ycGhUYXJnZXRzQ291bnQhPT1kaSkmJihKcz0hMCk6KEpzPSEwLFdlLl9fdmVyc2lvbj1ELnZlcnNpb24pO2xldCBwaT1XZS5jdXJyZW50UHJvZ3JhbTtKcz09PSEwJiYocGk9cW8oRCxJLFcpKTtsZXQgcWk9ITEsWXM9ITEsWG89ITE7Y29uc3Qgd3Q9cGkuZ2V0VW5pZm9ybXMoKSxacz1XZS51bmlmb3JtcztpZihyZS51c2VQcm9ncmFtKHBpLnByb2dyYW0pJiYocWk9ITAsWXM9ITAsWG89ITApLEQuaWQhPT13JiYodz1ELmlkLFlzPSEwKSxxaXx8YiE9PU0pe2lmKHd0LnNldFZhbHVlKFYsInByb2plY3Rpb25NYXRyaXgiLE0ucHJvamVjdGlvbk1hdHJpeCkseWUubG9nYXJpdGhtaWNEZXB0aEJ1ZmZlciYmd3Quc2V0VmFsdWUoViwibG9nRGVwdGhCdWZGQyIsMi8oTWF0aC5sb2coTS5mYXIrMSkvTWF0aC5MTjIpKSxiIT09TSYmKGI9TSxZcz0hMCxYbz0hMCksRC5pc1NoYWRlck1hdGVyaWFsfHxELmlzTWVzaFBob25nTWF0ZXJpYWx8fEQuaXNNZXNoVG9vbk1hdGVyaWFsfHxELmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWx8fEQuZW52TWFwKXtjb25zdCBlaT13dC5tYXAuY2FtZXJhUG9zaXRpb247ZWkhPT12b2lkIDAmJmVpLnNldFZhbHVlKFYsdmUuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKE0ubWF0cml4V29ybGQpKX0oRC5pc01lc2hQaG9uZ01hdGVyaWFsfHxELmlzTWVzaFRvb25NYXRlcmlhbHx8RC5pc01lc2hMYW1iZXJ0TWF0ZXJpYWx8fEQuaXNNZXNoQmFzaWNNYXRlcmlhbHx8RC5pc01lc2hTdGFuZGFyZE1hdGVyaWFsfHxELmlzU2hhZGVyTWF0ZXJpYWwpJiZ3dC5zZXRWYWx1ZShWLCJpc09ydGhvZ3JhcGhpYyIsTS5pc09ydGhvZ3JhcGhpY0NhbWVyYT09PSEwKSwoRC5pc01lc2hQaG9uZ01hdGVyaWFsfHxELmlzTWVzaFRvb25NYXRlcmlhbHx8RC5pc01lc2hMYW1iZXJ0TWF0ZXJpYWx8fEQuaXNNZXNoQmFzaWNNYXRlcmlhbHx8RC5pc01lc2hTdGFuZGFyZE1hdGVyaWFsfHxELmlzU2hhZGVyTWF0ZXJpYWx8fEQuaXNTaGFkb3dNYXRlcmlhbHx8Vy5pc1NraW5uZWRNZXNoKSYmd3Quc2V0VmFsdWUoViwidmlld01hdHJpeCIsTS5tYXRyaXhXb3JsZEludmVyc2UpfWlmKFcuaXNTa2lubmVkTWVzaCl7d3Quc2V0T3B0aW9uYWwoVixXLCJiaW5kTWF0cml4Iiksd3Quc2V0T3B0aW9uYWwoVixXLCJiaW5kTWF0cml4SW52ZXJzZSIpO2NvbnN0IGVpPVcuc2tlbGV0b247ZWkmJih5ZS5mbG9hdFZlcnRleFRleHR1cmVzPyhlaS5ib25lVGV4dHVyZT09PW51bGwmJmVpLmNvbXB1dGVCb25lVGV4dHVyZSgpLHd0LnNldFZhbHVlKFYsImJvbmVUZXh0dXJlIixlaS5ib25lVGV4dHVyZSxxKSx3dC5zZXRWYWx1ZShWLCJib25lVGV4dHVyZVNpemUiLGVpLmJvbmVUZXh0dXJlU2l6ZSkpOnd0LnNldE9wdGlvbmFsKFYsZWksImJvbmVNYXRyaWNlcyIpKX1jb25zdCBKbz16Lm1vcnBoQXR0cmlidXRlcztyZXR1cm4oSm8ucG9zaXRpb24hPT12b2lkIDB8fEpvLm5vcm1hbCE9PXZvaWQgMHx8Sm8uY29sb3IhPT12b2lkIDAmJnllLmlzV2ViR0wyPT09ITApJiZjZS51cGRhdGUoVyx6LEQscGkpLChZc3x8V2UucmVjZWl2ZVNoYWRvdyE9PVcucmVjZWl2ZVNoYWRvdykmJihXZS5yZWNlaXZlU2hhZG93PVcucmVjZWl2ZVNoYWRvdyx3dC5zZXRWYWx1ZShWLCJyZWNlaXZlU2hhZG93IixXLnJlY2VpdmVTaGFkb3cpKSxZcyYmKHd0LnNldFZhbHVlKFYsInRvbmVNYXBwaW5nRXhwb3N1cmUiLGYudG9uZU1hcHBpbmdFeHBvc3VyZSksV2UubmVlZHNMaWdodHMmJm0xKFpzLFhvKSx4ZSYmRC5mb2cmJktlLnJlZnJlc2hGb2dVbmlmb3Jtcyhacyx4ZSksS2UucmVmcmVzaE1hdGVyaWFsVW5pZm9ybXMoWnMsRCx4LE8sSiksSGkudXBsb2FkKFYsV2UudW5pZm9ybXNMaXN0LFpzLHEpKSxELmlzU2hhZGVyTWF0ZXJpYWwmJkQudW5pZm9ybXNOZWVkVXBkYXRlPT09ITAmJihIaS51cGxvYWQoVixXZS51bmlmb3Jtc0xpc3QsWnMscSksRC51bmlmb3Jtc05lZWRVcGRhdGU9ITEpLEQuaXNTcHJpdGVNYXRlcmlhbCYmd3Quc2V0VmFsdWUoViwiY2VudGVyIixXLmNlbnRlciksd3Quc2V0VmFsdWUoViwibW9kZWxWaWV3TWF0cml4IixXLm1vZGVsVmlld01hdHJpeCksd3Quc2V0VmFsdWUoViwibm9ybWFsTWF0cml4IixXLm5vcm1hbE1hdHJpeCksd3Quc2V0VmFsdWUoViwibW9kZWxNYXRyaXgiLFcubWF0cml4V29ybGQpLHBpfWZ1bmN0aW9uIG0xKE0sSSl7TS5hbWJpZW50TGlnaHRDb2xvci5uZWVkc1VwZGF0ZT1JLE0ubGlnaHRQcm9iZS5uZWVkc1VwZGF0ZT1JLE0uZGlyZWN0aW9uYWxMaWdodHMubmVlZHNVcGRhdGU9SSxNLmRpcmVjdGlvbmFsTGlnaHRTaGFkb3dzLm5lZWRzVXBkYXRlPUksTS5wb2ludExpZ2h0cy5uZWVkc1VwZGF0ZT1JLE0ucG9pbnRMaWdodFNoYWRvd3MubmVlZHNVcGRhdGU9SSxNLnNwb3RMaWdodHMubmVlZHNVcGRhdGU9SSxNLnNwb3RMaWdodFNoYWRvd3MubmVlZHNVcGRhdGU9SSxNLnJlY3RBcmVhTGlnaHRzLm5lZWRzVXBkYXRlPUksTS5oZW1pc3BoZXJlTGlnaHRzLm5lZWRzVXBkYXRlPUl9ZnVuY3Rpb24gZzEoTSl7cmV0dXJuIE0uaXNNZXNoTGFtYmVydE1hdGVyaWFsfHxNLmlzTWVzaFRvb25NYXRlcmlhbHx8TS5pc01lc2hQaG9uZ01hdGVyaWFsfHxNLmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWx8fE0uaXNTaGFkb3dNYXRlcmlhbHx8TS5pc1NoYWRlck1hdGVyaWFsJiZNLmxpZ2h0cz09PSEwfXRoaXMuZ2V0QWN0aXZlQ3ViZUZhY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdn0sdGhpcy5nZXRBY3RpdmVNaXBtYXBMZXZlbD1mdW5jdGlvbigpe3JldHVybiB5fSx0aGlzLmdldFJlbmRlclRhcmdldD1mdW5jdGlvbigpe3JldHVybiBUfSx0aGlzLnNldFJlbmRlclRhcmdldFRleHR1cmVzPWZ1bmN0aW9uKE0sSSx6KXtqLmdldChNLnRleHR1cmUpLl9fd2ViZ2xUZXh0dXJlPUksai5nZXQoTS5kZXB0aFRleHR1cmUpLl9fd2ViZ2xUZXh0dXJlPXo7Y29uc3QgRD1qLmdldChNKTtELl9faGFzRXh0ZXJuYWxUZXh0dXJlcz0hMCxELl9faGFzRXh0ZXJuYWxUZXh0dXJlcyYmKEQuX19hdXRvQWxsb2NhdGVEZXB0aEJ1ZmZlcj16PT09dm9pZCAwLEQuX19hdXRvQWxsb2NhdGVEZXB0aEJ1ZmZlcnx8T2UuaGFzKCJXRUJHTF9tdWx0aXNhbXBsZWRfcmVuZGVyX3RvX3RleHR1cmUiKT09PSEwJiYoY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiBSZW5kZXItdG8tdGV4dHVyZSBleHRlbnNpb24gd2FzIGRpc2FibGVkIGJlY2F1c2UgYW4gZXh0ZXJuYWwgdGV4dHVyZSB3YXMgcHJvdmlkZWQiKSxELl9fdXNlUmVuZGVyVG9UZXh0dXJlPSExKSl9LHRoaXMuc2V0UmVuZGVyVGFyZ2V0RnJhbWVidWZmZXI9ZnVuY3Rpb24oTSxJKXtjb25zdCB6PWouZ2V0KE0pO3ouX193ZWJnbEZyYW1lYnVmZmVyPUksei5fX3VzZURlZmF1bHRGcmFtZWJ1ZmZlcj1JPT09dm9pZCAwfSx0aGlzLnNldFJlbmRlclRhcmdldD1mdW5jdGlvbihNLEk9MCx6PTApe1Q9TSx2PUkseT16O2xldCBEPSEwO2lmKE0pe2NvbnN0IFJlPWouZ2V0KE0pO1JlLl9fdXNlRGVmYXVsdEZyYW1lYnVmZmVyIT09dm9pZCAwPyhyZS5iaW5kRnJhbWVidWZmZXIoMzYxNjAsbnVsbCksRD0hMSk6UmUuX193ZWJnbEZyYW1lYnVmZmVyPT09dm9pZCAwP3Euc2V0dXBSZW5kZXJUYXJnZXQoTSk6UmUuX19oYXNFeHRlcm5hbFRleHR1cmVzJiZxLnJlYmluZFRleHR1cmVzKE0sai5nZXQoTS50ZXh0dXJlKS5fX3dlYmdsVGV4dHVyZSxqLmdldChNLmRlcHRoVGV4dHVyZSkuX193ZWJnbFRleHR1cmUpfWxldCBXPW51bGwseGU9ITEsTGU9ITE7aWYoTSl7Y29uc3QgUmU9TS50ZXh0dXJlOyhSZS5pc0RhdGEzRFRleHR1cmV8fFJlLmlzRGF0YUFycmF5VGV4dHVyZSkmJihMZT0hMCk7Y29uc3QgVWU9ai5nZXQoTSkuX193ZWJnbEZyYW1lYnVmZmVyO00uaXNXZWJHTEN1YmVSZW5kZXJUYXJnZXQ/KFc9VWVbSV0seGU9ITApOnllLmlzV2ViR0wyJiZNLnNhbXBsZXM+MCYmcS51c2VNdWx0aXNhbXBsZWRSVFQoTSk9PT0hMT9XPWouZ2V0KE0pLl9fd2ViZ2xNdWx0aXNhbXBsZWRGcmFtZWJ1ZmZlcjpXPVVlLEwuY29weShNLnZpZXdwb3J0KSxQLmNvcHkoTS5zY2lzc29yKSxrPU0uc2Npc3NvclRlc3R9ZWxzZSBMLmNvcHkoTikubXVsdGlwbHlTY2FsYXIoeCkuZmxvb3IoKSxQLmNvcHkoVSkubXVsdGlwbHlTY2FsYXIoeCkuZmxvb3IoKSxrPUI7aWYocmUuYmluZEZyYW1lYnVmZmVyKDM2MTYwLFcpJiZ5ZS5kcmF3QnVmZmVycyYmRCYmcmUuZHJhd0J1ZmZlcnMoTSxXKSxyZS52aWV3cG9ydChMKSxyZS5zY2lzc29yKFApLHJlLnNldFNjaXNzb3JUZXN0KGspLHhlKXtjb25zdCBSZT1qLmdldChNLnRleHR1cmUpO1YuZnJhbWVidWZmZXJUZXh0dXJlMkQoMzYxNjAsMzYwNjQsMzQwNjkrSSxSZS5fX3dlYmdsVGV4dHVyZSx6KX1lbHNlIGlmKExlKXtjb25zdCBSZT1qLmdldChNLnRleHR1cmUpLFVlPUl8fDA7Vi5mcmFtZWJ1ZmZlclRleHR1cmVMYXllcigzNjE2MCwzNjA2NCxSZS5fX3dlYmdsVGV4dHVyZSx6fHwwLFVlKX13PS0xfSx0aGlzLnJlYWRSZW5kZXJUYXJnZXRQaXhlbHM9ZnVuY3Rpb24oTSxJLHosRCxXLHhlLExlKXtpZighKE0mJk0uaXNXZWJHTFJlbmRlclRhcmdldCkpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMUmVuZGVyZXIucmVhZFJlbmRlclRhcmdldFBpeGVsczogcmVuZGVyVGFyZ2V0IGlzIG5vdCBUSFJFRS5XZWJHTFJlbmRlclRhcmdldC4iKTtyZXR1cm59bGV0IFJlPWouZ2V0KE0pLl9fd2ViZ2xGcmFtZWJ1ZmZlcjtpZihNLmlzV2ViR0xDdWJlUmVuZGVyVGFyZ2V0JiZMZSE9PXZvaWQgMCYmKFJlPVJlW0xlXSksUmUpe3JlLmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCxSZSk7dHJ5e2NvbnN0IFVlPU0udGV4dHVyZSxydD1VZS5mb3JtYXQsRmU9VWUudHlwZTtpZihydCE9PVh0JiZILmNvbnZlcnQocnQpIT09Vi5nZXRQYXJhbWV0ZXIoMzU3MzkpKXtjb25zb2xlLmVycm9yKCJUSFJFRS5XZWJHTFJlbmRlcmVyLnJlYWRSZW5kZXJUYXJnZXRQaXhlbHM6IHJlbmRlclRhcmdldCBpcyBub3QgaW4gUkdCQSBvciBpbXBsZW1lbnRhdGlvbiBkZWZpbmVkIGZvcm1hdC4iKTtyZXR1cm59Y29uc3QgSGU9RmU9PT1TciYmKE9lLmhhcygiRVhUX2NvbG9yX2J1ZmZlcl9oYWxmX2Zsb2F0Iil8fHllLmlzV2ViR0wyJiZPZS5oYXMoIkVYVF9jb2xvcl9idWZmZXJfZmxvYXQiKSk7aWYoRmUhPT1KaSYmSC5jb252ZXJ0KEZlKSE9PVYuZ2V0UGFyYW1ldGVyKDM1NzM4KSYmIShGZT09PVlpJiYoeWUuaXNXZWJHTDJ8fE9lLmhhcygiT0VTX3RleHR1cmVfZmxvYXQiKXx8T2UuaGFzKCJXRUJHTF9jb2xvcl9idWZmZXJfZmxvYXQiKSkpJiYhSGUpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMUmVuZGVyZXIucmVhZFJlbmRlclRhcmdldFBpeGVsczogcmVuZGVyVGFyZ2V0IGlzIG5vdCBpbiBVbnNpZ25lZEJ5dGVUeXBlIG9yIGltcGxlbWVudGF0aW9uIGRlZmluZWQgdHlwZS4iKTtyZXR1cm59ST49MCYmSTw9TS53aWR0aC1EJiZ6Pj0wJiZ6PD1NLmhlaWdodC1XJiZWLnJlYWRQaXhlbHMoSSx6LEQsVyxILmNvbnZlcnQocnQpLEguY29udmVydChGZSkseGUpfWZpbmFsbHl7Y29uc3QgVWU9VCE9PW51bGw/ai5nZXQoVCkuX193ZWJnbEZyYW1lYnVmZmVyOm51bGw7cmUuYmluZEZyYW1lYnVmZmVyKDM2MTYwLFVlKX19fSx0aGlzLmNvcHlGcmFtZWJ1ZmZlclRvVGV4dHVyZT1mdW5jdGlvbihNLEksej0wKXtpZihJLmlzRnJhbWVidWZmZXJUZXh0dXJlIT09ITApe2NvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMUmVuZGVyZXI6IGNvcHlGcmFtZWJ1ZmZlclRvVGV4dHVyZSgpIGNhbiBvbmx5IGJlIHVzZWQgd2l0aCBGcmFtZWJ1ZmZlclRleHR1cmUuIik7cmV0dXJufWNvbnN0IEQ9TWF0aC5wb3coMiwteiksVz1NYXRoLmZsb29yKEkuaW1hZ2Uud2lkdGgqRCkseGU9TWF0aC5mbG9vcihJLmltYWdlLmhlaWdodCpEKTtxLnNldFRleHR1cmUyRChJLDApLFYuY29weVRleFN1YkltYWdlMkQoMzU1Myx6LDAsMCxNLngsTS55LFcseGUpLHJlLnVuYmluZFRleHR1cmUoKX0sdGhpcy5jb3B5VGV4dHVyZVRvVGV4dHVyZT1mdW5jdGlvbihNLEkseixEPTApe2NvbnN0IFc9SS5pbWFnZS53aWR0aCx4ZT1JLmltYWdlLmhlaWdodCxMZT1ILmNvbnZlcnQoei5mb3JtYXQpLFJlPUguY29udmVydCh6LnR5cGUpO3Euc2V0VGV4dHVyZTJEKHosMCksVi5waXhlbFN0b3JlaSgzNzQ0MCx6LmZsaXBZKSxWLnBpeGVsU3RvcmVpKDM3NDQxLHoucHJlbXVsdGlwbHlBbHBoYSksVi5waXhlbFN0b3JlaSgzMzE3LHoudW5wYWNrQWxpZ25tZW50KSxJLmlzRGF0YVRleHR1cmU/Vi50ZXhTdWJJbWFnZTJEKDM1NTMsRCxNLngsTS55LFcseGUsTGUsUmUsSS5pbWFnZS5kYXRhKTpJLmlzQ29tcHJlc3NlZFRleHR1cmU/Vi5jb21wcmVzc2VkVGV4U3ViSW1hZ2UyRCgzNTUzLEQsTS54LE0ueSxJLm1pcG1hcHNbMF0ud2lkdGgsSS5taXBtYXBzWzBdLmhlaWdodCxMZSxJLm1pcG1hcHNbMF0uZGF0YSk6Vi50ZXhTdWJJbWFnZTJEKDM1NTMsRCxNLngsTS55LExlLFJlLEkuaW1hZ2UpLEQ9PT0wJiZ6LmdlbmVyYXRlTWlwbWFwcyYmVi5nZW5lcmF0ZU1pcG1hcCgzNTUzKSxyZS51bmJpbmRUZXh0dXJlKCl9LHRoaXMuY29weVRleHR1cmVUb1RleHR1cmUzRD1mdW5jdGlvbihNLEkseixELFc9MCl7aWYoZi5pc1dlYkdMMVJlbmRlcmVyKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXIuY29weVRleHR1cmVUb1RleHR1cmUzRDogY2FuIG9ubHkgYmUgdXNlZCB3aXRoIFdlYkdMMi4iKTtyZXR1cm59Y29uc3QgeGU9TS5tYXgueC1NLm1pbi54KzEsTGU9TS5tYXgueS1NLm1pbi55KzEsUmU9TS5tYXguei1NLm1pbi56KzEsVWU9SC5jb252ZXJ0KEQuZm9ybWF0KSxydD1ILmNvbnZlcnQoRC50eXBlKTtsZXQgRmU7aWYoRC5pc0RhdGEzRFRleHR1cmUpcS5zZXRUZXh0dXJlM0QoRCwwKSxGZT0zMjg3OTtlbHNlIGlmKEQuaXNEYXRhQXJyYXlUZXh0dXJlKXEuc2V0VGV4dHVyZTJEQXJyYXkoRCwwKSxGZT0zNTg2NjtlbHNle2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlci5jb3B5VGV4dHVyZVRvVGV4dHVyZTNEOiBvbmx5IHN1cHBvcnRzIFRIUkVFLkRhdGFUZXh0dXJlM0QgYW5kIFRIUkVFLkRhdGFUZXh0dXJlMkRBcnJheS4iKTtyZXR1cm59Vi5waXhlbFN0b3JlaSgzNzQ0MCxELmZsaXBZKSxWLnBpeGVsU3RvcmVpKDM3NDQxLEQucHJlbXVsdGlwbHlBbHBoYSksVi5waXhlbFN0b3JlaSgzMzE3LEQudW5wYWNrQWxpZ25tZW50KTtjb25zdCBIZT1WLmdldFBhcmFtZXRlcigzMzE0KSxtdD1WLmdldFBhcmFtZXRlcigzMjg3OCksb3I9Vi5nZXRQYXJhbWV0ZXIoMzMxNiksYXM9Vi5nZXRQYXJhbWV0ZXIoMzMxNSksbnM9Vi5nZXRQYXJhbWV0ZXIoMzI4NzcpLGRpPXouaXNDb21wcmVzc2VkVGV4dHVyZT96Lm1pcG1hcHNbMF06ei5pbWFnZTtWLnBpeGVsU3RvcmVpKDMzMTQsZGkud2lkdGgpLFYucGl4ZWxTdG9yZWkoMzI4NzgsZGkuaGVpZ2h0KSxWLnBpeGVsU3RvcmVpKDMzMTYsTS5taW4ueCksVi5waXhlbFN0b3JlaSgzMzE1LE0ubWluLnkpLFYucGl4ZWxTdG9yZWkoMzI4NzcsTS5taW4ueiksei5pc0RhdGFUZXh0dXJlfHx6LmlzRGF0YTNEVGV4dHVyZT9WLnRleFN1YkltYWdlM0QoRmUsVyxJLngsSS55LEkueix4ZSxMZSxSZSxVZSxydCxkaS5kYXRhKTp6LmlzQ29tcHJlc3NlZFRleHR1cmU/KGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlci5jb3B5VGV4dHVyZVRvVGV4dHVyZTNEOiB1bnRlc3RlZCBzdXBwb3J0IGZvciBjb21wcmVzc2VkIHNyY1RleHR1cmUuIiksVi5jb21wcmVzc2VkVGV4U3ViSW1hZ2UzRChGZSxXLEkueCxJLnksSS56LHhlLExlLFJlLFVlLGRpLmRhdGEpKTpWLnRleFN1YkltYWdlM0QoRmUsVyxJLngsSS55LEkueix4ZSxMZSxSZSxVZSxydCxkaSksVi5waXhlbFN0b3JlaSgzMzE0LEhlKSxWLnBpeGVsU3RvcmVpKDMyODc4LG10KSxWLnBpeGVsU3RvcmVpKDMzMTYsb3IpLFYucGl4ZWxTdG9yZWkoMzMxNSxhcyksVi5waXhlbFN0b3JlaSgzMjg3NyxucyksVz09PTAmJkQuZ2VuZXJhdGVNaXBtYXBzJiZWLmdlbmVyYXRlTWlwbWFwKEZlKSxyZS51bmJpbmRUZXh0dXJlKCl9LHRoaXMuaW5pdFRleHR1cmU9ZnVuY3Rpb24oTSl7cS5zZXRUZXh0dXJlMkQoTSwwKSxyZS51bmJpbmRUZXh0dXJlKCl9LHRoaXMucmVzZXRTdGF0ZT1mdW5jdGlvbigpe3Y9MCx5PTAsVD1udWxsLHJlLnJlc2V0KCksTmUucmVzZXQoKX0sdHlwZW9mIF9fVEhSRUVfREVWVE9PTFNfXzwidSImJl9fVEhSRUVfREVWVE9PTFNfXy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgib2JzZXJ2ZSIse2RldGFpbDp0aGlzfSkpfUplLnByb3RvdHlwZS5pc1dlYkdMUmVuZGVyZXI9ITA7Y2xhc3MgT3kgZXh0ZW5kcyBKZXt9T3kucHJvdG90eXBlLmlzV2ViR0wxUmVuZGVyZXI9ITA7Y2xhc3MgZmMgZXh0ZW5kcyBqZXtjb25zdHJ1Y3Rvcigpe3N1cGVyKCk7dGhpcy50eXBlPSJTY2VuZSIsdGhpcy5iYWNrZ3JvdW5kPW51bGwsdGhpcy5lbnZpcm9ubWVudD1udWxsLHRoaXMuZm9nPW51bGwsdGhpcy5vdmVycmlkZU1hdGVyaWFsPW51bGwsdGhpcy5hdXRvVXBkYXRlPSEwLHR5cGVvZiBfX1RIUkVFX0RFVlRPT0xTX188InUiJiZfX1RIUkVFX0RFVlRPT0xTX18uZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoIm9ic2VydmUiLHtkZXRhaWw6dGhpc30pKX1jb3B5KGUsdCl7cmV0dXJuIHN1cGVyLmNvcHkoZSx0KSxlLmJhY2tncm91bmQhPT1udWxsJiYodGhpcy5iYWNrZ3JvdW5kPWUuYmFja2dyb3VuZC5jbG9uZSgpKSxlLmVudmlyb25tZW50IT09bnVsbCYmKHRoaXMuZW52aXJvbm1lbnQ9ZS5lbnZpcm9ubWVudC5jbG9uZSgpKSxlLmZvZyE9PW51bGwmJih0aGlzLmZvZz1lLmZvZy5jbG9uZSgpKSxlLm92ZXJyaWRlTWF0ZXJpYWwhPT1udWxsJiYodGhpcy5vdmVycmlkZU1hdGVyaWFsPWUub3ZlcnJpZGVNYXRlcmlhbC5jbG9uZSgpKSx0aGlzLmF1dG9VcGRhdGU9ZS5hdXRvVXBkYXRlLHRoaXMubWF0cml4QXV0b1VwZGF0ZT1lLm1hdHJpeEF1dG9VcGRhdGUsdGhpc310b0pTT04oZSl7Y29uc3QgdD1zdXBlci50b0pTT04oZSk7cmV0dXJuIHRoaXMuZm9nIT09bnVsbCYmKHQub2JqZWN0LmZvZz10aGlzLmZvZy50b0pTT04oKSksdH19ZmMucHJvdG90eXBlLmlzU2NlbmU9ITA7Y2xhc3MgTnN7Y29uc3RydWN0b3IoZSx0KXt0aGlzLmFycmF5PWUsdGhpcy5zdHJpZGU9dCx0aGlzLmNvdW50PWUhPT12b2lkIDA/ZS5sZW5ndGgvdDowLHRoaXMudXNhZ2U9RXMsdGhpcy51cGRhdGVSYW5nZT17b2Zmc2V0OjAsY291bnQ6LTF9LHRoaXMudmVyc2lvbj0wLHRoaXMudXVpZD1zaSgpfW9uVXBsb2FkQ2FsbGJhY2soKXt9c2V0IG5lZWRzVXBkYXRlKGUpe2U9PT0hMCYmdGhpcy52ZXJzaW9uKyt9c2V0VXNhZ2UoZSl7cmV0dXJuIHRoaXMudXNhZ2U9ZSx0aGlzfWNvcHkoZSl7cmV0dXJuIHRoaXMuYXJyYXk9bmV3IGUuYXJyYXkuY29uc3RydWN0b3IoZS5hcnJheSksdGhpcy5jb3VudD1lLmNvdW50LHRoaXMuc3RyaWRlPWUuc3RyaWRlLHRoaXMudXNhZ2U9ZS51c2FnZSx0aGlzfWNvcHlBdChlLHQscil7ZSo9dGhpcy5zdHJpZGUscio9dC5zdHJpZGU7Zm9yKGxldCBzPTAsYT10aGlzLnN0cmlkZTtzPGE7cysrKXRoaXMuYXJyYXlbZStzXT10LmFycmF5W3Irc107cmV0dXJuIHRoaXN9c2V0KGUsdD0wKXtyZXR1cm4gdGhpcy5hcnJheS5zZXQoZSx0KSx0aGlzfWNsb25lKGUpe2UuYXJyYXlCdWZmZXJzPT09dm9pZCAwJiYoZS5hcnJheUJ1ZmZlcnM9e30pLHRoaXMuYXJyYXkuYnVmZmVyLl91dWlkPT09dm9pZCAwJiYodGhpcy5hcnJheS5idWZmZXIuX3V1aWQ9c2koKSksZS5hcnJheUJ1ZmZlcnNbdGhpcy5hcnJheS5idWZmZXIuX3V1aWRdPT09dm9pZCAwJiYoZS5hcnJheUJ1ZmZlcnNbdGhpcy5hcnJheS5idWZmZXIuX3V1aWRdPXRoaXMuYXJyYXkuc2xpY2UoMCkuYnVmZmVyKTtjb25zdCB0PW5ldyB0aGlzLmFycmF5LmNvbnN0cnVjdG9yKGUuYXJyYXlCdWZmZXJzW3RoaXMuYXJyYXkuYnVmZmVyLl91dWlkXSkscj1uZXcgdGhpcy5jb25zdHJ1Y3Rvcih0LHRoaXMuc3RyaWRlKTtyZXR1cm4gci5zZXRVc2FnZSh0aGlzLnVzYWdlKSxyfW9uVXBsb2FkKGUpe3JldHVybiB0aGlzLm9uVXBsb2FkQ2FsbGJhY2s9ZSx0aGlzfXRvSlNPTihlKXtyZXR1cm4gZS5hcnJheUJ1ZmZlcnM9PT12b2lkIDAmJihlLmFycmF5QnVmZmVycz17fSksdGhpcy5hcnJheS5idWZmZXIuX3V1aWQ9PT12b2lkIDAmJih0aGlzLmFycmF5LmJ1ZmZlci5fdXVpZD1zaSgpKSxlLmFycmF5QnVmZmVyc1t0aGlzLmFycmF5LmJ1ZmZlci5fdXVpZF09PT12b2lkIDAmJihlLmFycmF5QnVmZmVyc1t0aGlzLmFycmF5LmJ1ZmZlci5fdXVpZF09QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwobmV3IFVpbnQzMkFycmF5KHRoaXMuYXJyYXkuYnVmZmVyKSkpLHt1dWlkOnRoaXMudXVpZCxidWZmZXI6dGhpcy5hcnJheS5idWZmZXIuX3V1aWQsdHlwZTp0aGlzLmFycmF5LmNvbnN0cnVjdG9yLm5hbWUsc3RyaWRlOnRoaXMuc3RyaWRlfX19TnMucHJvdG90eXBlLmlzSW50ZXJsZWF2ZWRCdWZmZXI9ITA7Y29uc3QgQ3Q9bmV3IEU7Y2xhc3MgRHN7Y29uc3RydWN0b3IoZSx0LHIscz0hMSl7dGhpcy5uYW1lPSIiLHRoaXMuZGF0YT1lLHRoaXMuaXRlbVNpemU9dCx0aGlzLm9mZnNldD1yLHRoaXMubm9ybWFsaXplZD1zPT09ITB9Z2V0IGNvdW50KCl7cmV0dXJuIHRoaXMuZGF0YS5jb3VudH1nZXQgYXJyYXkoKXtyZXR1cm4gdGhpcy5kYXRhLmFycmF5fXNldCBuZWVkc1VwZGF0ZShlKXt0aGlzLmRhdGEubmVlZHNVcGRhdGU9ZX1hcHBseU1hdHJpeDQoZSl7Zm9yKGxldCB0PTAscj10aGlzLmRhdGEuY291bnQ7dDxyO3QrKylDdC5mcm9tQnVmZmVyQXR0cmlidXRlKHRoaXMsdCksQ3QuYXBwbHlNYXRyaXg0KGUpLHRoaXMuc2V0WFlaKHQsQ3QueCxDdC55LEN0LnopO3JldHVybiB0aGlzfWFwcGx5Tm9ybWFsTWF0cml4KGUpe2ZvcihsZXQgdD0wLHI9dGhpcy5jb3VudDt0PHI7dCsrKUN0LmZyb21CdWZmZXJBdHRyaWJ1dGUodGhpcyx0KSxDdC5hcHBseU5vcm1hbE1hdHJpeChlKSx0aGlzLnNldFhZWih0LEN0LngsQ3QueSxDdC56KTtyZXR1cm4gdGhpc310cmFuc2Zvcm1EaXJlY3Rpb24oZSl7Zm9yKGxldCB0PTAscj10aGlzLmNvdW50O3Q8cjt0KyspQ3QuZnJvbUJ1ZmZlckF0dHJpYnV0ZSh0aGlzLHQpLEN0LnRyYW5zZm9ybURpcmVjdGlvbihlKSx0aGlzLnNldFhZWih0LEN0LngsQ3QueSxDdC56KTtyZXR1cm4gdGhpc31zZXRYKGUsdCl7cmV0dXJuIHRoaXMuZGF0YS5hcnJheVtlKnRoaXMuZGF0YS5zdHJpZGUrdGhpcy5vZmZzZXRdPXQsdGhpc31zZXRZKGUsdCl7cmV0dXJuIHRoaXMuZGF0YS5hcnJheVtlKnRoaXMuZGF0YS5zdHJpZGUrdGhpcy5vZmZzZXQrMV09dCx0aGlzfXNldFooZSx0KXtyZXR1cm4gdGhpcy5kYXRhLmFycmF5W2UqdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldCsyXT10LHRoaXN9c2V0VyhlLHQpe3JldHVybiB0aGlzLmRhdGEuYXJyYXlbZSp0aGlzLmRhdGEuc3RyaWRlK3RoaXMub2Zmc2V0KzNdPXQsdGhpc31nZXRYKGUpe3JldHVybiB0aGlzLmRhdGEuYXJyYXlbZSp0aGlzLmRhdGEuc3RyaWRlK3RoaXMub2Zmc2V0XX1nZXRZKGUpe3JldHVybiB0aGlzLmRhdGEuYXJyYXlbZSp0aGlzLmRhdGEuc3RyaWRlK3RoaXMub2Zmc2V0KzFdfWdldFooZSl7cmV0dXJuIHRoaXMuZGF0YS5hcnJheVtlKnRoaXMuZGF0YS5zdHJpZGUrdGhpcy5vZmZzZXQrMl19Z2V0VyhlKXtyZXR1cm4gdGhpcy5kYXRhLmFycmF5W2UqdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldCszXX1zZXRYWShlLHQscil7cmV0dXJuIGU9ZSp0aGlzLmRhdGEuc3RyaWRlK3RoaXMub2Zmc2V0LHRoaXMuZGF0YS5hcnJheVtlKzBdPXQsdGhpcy5kYXRhLmFycmF5W2UrMV09cix0aGlzfXNldFhZWihlLHQscixzKXtyZXR1cm4gZT1lKnRoaXMuZGF0YS5zdHJpZGUrdGhpcy5vZmZzZXQsdGhpcy5kYXRhLmFycmF5W2UrMF09dCx0aGlzLmRhdGEuYXJyYXlbZSsxXT1yLHRoaXMuZGF0YS5hcnJheVtlKzJdPXMsdGhpc31zZXRYWVpXKGUsdCxyLHMsYSl7cmV0dXJuIGU9ZSp0aGlzLmRhdGEuc3RyaWRlK3RoaXMub2Zmc2V0LHRoaXMuZGF0YS5hcnJheVtlKzBdPXQsdGhpcy5kYXRhLmFycmF5W2UrMV09cix0aGlzLmRhdGEuYXJyYXlbZSsyXT1zLHRoaXMuZGF0YS5hcnJheVtlKzNdPWEsdGhpc31jbG9uZShlKXtpZihlPT09dm9pZCAwKXtjb25zb2xlLmxvZygiVEhSRUUuSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUuY2xvbmUoKTogQ2xvbmluZyBhbiBpbnRlcmxhdmVkIGJ1ZmZlciBhdHRyaWJ1dGUgd2lsbCBkZWludGVybGVhdmUgYnVmZmVyIGRhdGEuIik7Y29uc3QgdD1bXTtmb3IobGV0IHI9MDtyPHRoaXMuY291bnQ7cisrKXtjb25zdCBzPXIqdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldDtmb3IobGV0IGE9MDthPHRoaXMuaXRlbVNpemU7YSsrKXQucHVzaCh0aGlzLmRhdGEuYXJyYXlbcythXSl9cmV0dXJuIG5ldyBjdChuZXcgdGhpcy5hcnJheS5jb25zdHJ1Y3Rvcih0KSx0aGlzLml0ZW1TaXplLHRoaXMubm9ybWFsaXplZCl9ZWxzZSByZXR1cm4gZS5pbnRlcmxlYXZlZEJ1ZmZlcnM9PT12b2lkIDAmJihlLmludGVybGVhdmVkQnVmZmVycz17fSksZS5pbnRlcmxlYXZlZEJ1ZmZlcnNbdGhpcy5kYXRhLnV1aWRdPT09dm9pZCAwJiYoZS5pbnRlcmxlYXZlZEJ1ZmZlcnNbdGhpcy5kYXRhLnV1aWRdPXRoaXMuZGF0YS5jbG9uZShlKSksbmV3IERzKGUuaW50ZXJsZWF2ZWRCdWZmZXJzW3RoaXMuZGF0YS51dWlkXSx0aGlzLml0ZW1TaXplLHRoaXMub2Zmc2V0LHRoaXMubm9ybWFsaXplZCl9dG9KU09OKGUpe2lmKGU9PT12b2lkIDApe2NvbnNvbGUubG9nKCJUSFJFRS5JbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZS50b0pTT04oKTogU2VyaWFsaXppbmcgYW4gaW50ZXJsYXZlZCBidWZmZXIgYXR0cmlidXRlIHdpbGwgZGVpbnRlcmxlYXZlIGJ1ZmZlciBkYXRhLiIpO2NvbnN0IHQ9W107Zm9yKGxldCByPTA7cjx0aGlzLmNvdW50O3IrKyl7Y29uc3Qgcz1yKnRoaXMuZGF0YS5zdHJpZGUrdGhpcy5vZmZzZXQ7Zm9yKGxldCBhPTA7YTx0aGlzLml0ZW1TaXplO2ErKyl0LnB1c2godGhpcy5kYXRhLmFycmF5W3MrYV0pfXJldHVybntpdGVtU2l6ZTp0aGlzLml0ZW1TaXplLHR5cGU6dGhpcy5hcnJheS5jb25zdHJ1Y3Rvci5uYW1lLGFycmF5OnQsbm9ybWFsaXplZDp0aGlzLm5vcm1hbGl6ZWR9fWVsc2UgcmV0dXJuIGUuaW50ZXJsZWF2ZWRCdWZmZXJzPT09dm9pZCAwJiYoZS5pbnRlcmxlYXZlZEJ1ZmZlcnM9e30pLGUuaW50ZXJsZWF2ZWRCdWZmZXJzW3RoaXMuZGF0YS51dWlkXT09PXZvaWQgMCYmKGUuaW50ZXJsZWF2ZWRCdWZmZXJzW3RoaXMuZGF0YS51dWlkXT10aGlzLmRhdGEudG9KU09OKGUpKSx7aXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZTohMCxpdGVtU2l6ZTp0aGlzLml0ZW1TaXplLGRhdGE6dGhpcy5kYXRhLnV1aWQsb2Zmc2V0OnRoaXMub2Zmc2V0LG5vcm1hbGl6ZWQ6dGhpcy5ub3JtYWxpemVkfX19RHMucHJvdG90eXBlLmlzSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGU9ITA7Y2xhc3MgeW8gZXh0ZW5kcyBsdHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpO3RoaXMudHlwZT0iU3ByaXRlTWF0ZXJpYWwiLHRoaXMuY29sb3I9bmV3IGdlKDE2Nzc3MjE1KSx0aGlzLm1hcD1udWxsLHRoaXMuYWxwaGFNYXA9bnVsbCx0aGlzLnJvdGF0aW9uPTAsdGhpcy5zaXplQXR0ZW51YXRpb249ITAsdGhpcy50cmFuc3BhcmVudD0hMCx0aGlzLnNldFZhbHVlcyhlKX1jb3B5KGUpe3JldHVybiBzdXBlci5jb3B5KGUpLHRoaXMuY29sb3IuY29weShlLmNvbG9yKSx0aGlzLm1hcD1lLm1hcCx0aGlzLmFscGhhTWFwPWUuYWxwaGFNYXAsdGhpcy5yb3RhdGlvbj1lLnJvdGF0aW9uLHRoaXMuc2l6ZUF0dGVudWF0aW9uPWUuc2l6ZUF0dGVudWF0aW9uLHRoaXN9fXlvLnByb3RvdHlwZS5pc1Nwcml0ZU1hdGVyaWFsPSEwO2xldCBZcjtjb25zdCBPcz1uZXcgRSxacj1uZXcgRSxLcj1uZXcgRSxRcj1uZXcgZWUsenM9bmV3IGVlLG1jPW5ldyBfZSxWYT1uZXcgRSxCcz1uZXcgRSxXYT1uZXcgRSxnYz1uZXcgZWUsTW89bmV3IGVlLHZjPW5ldyBlZTtjbGFzcyB6eSBleHRlbmRzIGple2NvbnN0cnVjdG9yKGUpe3N1cGVyKCk7aWYodGhpcy50eXBlPSJTcHJpdGUiLFlyPT09dm9pZCAwKXtZcj1uZXcgJGU7Y29uc3QgdD1uZXcgRmxvYXQzMkFycmF5KFstLjUsLS41LDAsMCwwLC41LC0uNSwwLDEsMCwuNSwuNSwwLDEsMSwtLjUsLjUsMCwwLDFdKSxyPW5ldyBOcyh0LDUpO1lyLnNldEluZGV4KFswLDEsMiwwLDIsM10pLFlyLnNldEF0dHJpYnV0ZSgicG9zaXRpb24iLG5ldyBEcyhyLDMsMCwhMSkpLFlyLnNldEF0dHJpYnV0ZSgidXYiLG5ldyBEcyhyLDIsMywhMSkpfXRoaXMuZ2VvbWV0cnk9WXIsdGhpcy5tYXRlcmlhbD1lIT09dm9pZCAwP2U6bmV3IHlvLHRoaXMuY2VudGVyPW5ldyBlZSguNSwuNSl9cmF5Y2FzdChlLHQpe2UuY2FtZXJhPT09bnVsbCYmY29uc29sZS5lcnJvcignVEhSRUUuU3ByaXRlOiAiUmF5Y2FzdGVyLmNhbWVyYSIgbmVlZHMgdG8gYmUgc2V0IGluIG9yZGVyIHRvIHJheWNhc3QgYWdhaW5zdCBzcHJpdGVzLicpLFpyLnNldEZyb21NYXRyaXhTY2FsZSh0aGlzLm1hdHJpeFdvcmxkKSxtYy5jb3B5KGUuY2FtZXJhLm1hdHJpeFdvcmxkKSx0aGlzLm1vZGVsVmlld01hdHJpeC5tdWx0aXBseU1hdHJpY2VzKGUuY2FtZXJhLm1hdHJpeFdvcmxkSW52ZXJzZSx0aGlzLm1hdHJpeFdvcmxkKSxLci5zZXRGcm9tTWF0cml4UG9zaXRpb24odGhpcy5tb2RlbFZpZXdNYXRyaXgpLGUuY2FtZXJhLmlzUGVyc3BlY3RpdmVDYW1lcmEmJnRoaXMubWF0ZXJpYWwuc2l6ZUF0dGVudWF0aW9uPT09ITEmJlpyLm11bHRpcGx5U2NhbGFyKC1Lci56KTtjb25zdCByPXRoaXMubWF0ZXJpYWwucm90YXRpb247bGV0IHMsYTtyIT09MCYmKGE9TWF0aC5jb3Mocikscz1NYXRoLnNpbihyKSk7Y29uc3Qgbj10aGlzLmNlbnRlcjtqYShWYS5zZXQoLS41LC0uNSwwKSxLcixuLFpyLHMsYSksamEoQnMuc2V0KC41LC0uNSwwKSxLcixuLFpyLHMsYSksamEoV2Euc2V0KC41LC41LDApLEtyLG4sWnIscyxhKSxnYy5zZXQoMCwwKSxNby5zZXQoMSwwKSx2Yy5zZXQoMSwxKTtsZXQgbz1lLnJheS5pbnRlcnNlY3RUcmlhbmdsZShWYSxCcyxXYSwhMSxPcyk7aWYobz09PW51bGwmJihqYShCcy5zZXQoLS41LC41LDApLEtyLG4sWnIscyxhKSxNby5zZXQoMCwxKSxvPWUucmF5LmludGVyc2VjdFRyaWFuZ2xlKFZhLFdhLEJzLCExLE9zKSxvPT09bnVsbCkpcmV0dXJuO2NvbnN0IGg9ZS5yYXkub3JpZ2luLmRpc3RhbmNlVG8oT3MpO2g8ZS5uZWFyfHxoPmUuZmFyfHx0LnB1c2goe2Rpc3RhbmNlOmgscG9pbnQ6T3MuY2xvbmUoKSx1djphdC5nZXRVVihPcyxWYSxCcyxXYSxnYyxNbyx2YyxuZXcgZWUpLGZhY2U6bnVsbCxvYmplY3Q6dGhpc30pfWNvcHkoZSl7cmV0dXJuIHN1cGVyLmNvcHkoZSksZS5jZW50ZXIhPT12b2lkIDAmJnRoaXMuY2VudGVyLmNvcHkoZS5jZW50ZXIpLHRoaXMubWF0ZXJpYWw9ZS5tYXRlcmlhbCx0aGlzfX16eS5wcm90b3R5cGUuaXNTcHJpdGU9ITA7ZnVuY3Rpb24gamEoaSxlLHQscixzLGEpe1FyLnN1YlZlY3RvcnMoaSx0KS5hZGRTY2FsYXIoLjUpLm11bHRpcGx5KHIpLHMhPT12b2lkIDA/KHpzLng9YSpRci54LXMqUXIueSx6cy55PXMqUXIueCthKlFyLnkpOnpzLmNvcHkoUXIpLGkuY29weShlKSxpLngrPXpzLngsaS55Kz16cy55LGkuYXBwbHlNYXRyaXg0KG1jKX1jb25zdCB4Yz1uZXcgRSxfYz1uZXcgWGUseWM9bmV3IFhlLEJ5PW5ldyBFLE1jPW5ldyBfZTtjbGFzcyBiYyBleHRlbmRzIE50e2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KTt0aGlzLnR5cGU9IlNraW5uZWRNZXNoIix0aGlzLmJpbmRNb2RlPSJhdHRhY2hlZCIsdGhpcy5iaW5kTWF0cml4PW5ldyBfZSx0aGlzLmJpbmRNYXRyaXhJbnZlcnNlPW5ldyBfZX1jb3B5KGUpe3JldHVybiBzdXBlci5jb3B5KGUpLHRoaXMuYmluZE1vZGU9ZS5iaW5kTW9kZSx0aGlzLmJpbmRNYXRyaXguY29weShlLmJpbmRNYXRyaXgpLHRoaXMuYmluZE1hdHJpeEludmVyc2UuY29weShlLmJpbmRNYXRyaXhJbnZlcnNlKSx0aGlzLnNrZWxldG9uPWUuc2tlbGV0b24sdGhpc31iaW5kKGUsdCl7dGhpcy5za2VsZXRvbj1lLHQ9PT12b2lkIDAmJih0aGlzLnVwZGF0ZU1hdHJpeFdvcmxkKCEwKSx0aGlzLnNrZWxldG9uLmNhbGN1bGF0ZUludmVyc2VzKCksdD10aGlzLm1hdHJpeFdvcmxkKSx0aGlzLmJpbmRNYXRyaXguY29weSh0KSx0aGlzLmJpbmRNYXRyaXhJbnZlcnNlLmNvcHkodCkuaW52ZXJ0KCl9cG9zZSgpe3RoaXMuc2tlbGV0b24ucG9zZSgpfW5vcm1hbGl6ZVNraW5XZWlnaHRzKCl7Y29uc3QgZT1uZXcgWGUsdD10aGlzLmdlb21ldHJ5LmF0dHJpYnV0ZXMuc2tpbldlaWdodDtmb3IobGV0IHI9MCxzPXQuY291bnQ7cjxzO3IrKyl7ZS5mcm9tQnVmZmVyQXR0cmlidXRlKHQscik7Y29uc3QgYT0xL2UubWFuaGF0dGFuTGVuZ3RoKCk7YSE9PTEvMD9lLm11bHRpcGx5U2NhbGFyKGEpOmUuc2V0KDEsMCwwLDApLHQuc2V0WFlaVyhyLGUueCxlLnksZS56LGUudyl9fXVwZGF0ZU1hdHJpeFdvcmxkKGUpe3N1cGVyLnVwZGF0ZU1hdHJpeFdvcmxkKGUpLHRoaXMuYmluZE1vZGU9PT0iYXR0YWNoZWQiP3RoaXMuYmluZE1hdHJpeEludmVyc2UuY29weSh0aGlzLm1hdHJpeFdvcmxkKS5pbnZlcnQoKTp0aGlzLmJpbmRNb2RlPT09ImRldGFjaGVkIj90aGlzLmJpbmRNYXRyaXhJbnZlcnNlLmNvcHkodGhpcy5iaW5kTWF0cml4KS5pbnZlcnQoKTpjb25zb2xlLndhcm4oIlRIUkVFLlNraW5uZWRNZXNoOiBVbnJlY29nbml6ZWQgYmluZE1vZGU6ICIrdGhpcy5iaW5kTW9kZSl9Ym9uZVRyYW5zZm9ybShlLHQpe2NvbnN0IHI9dGhpcy5za2VsZXRvbixzPXRoaXMuZ2VvbWV0cnk7X2MuZnJvbUJ1ZmZlckF0dHJpYnV0ZShzLmF0dHJpYnV0ZXMuc2tpbkluZGV4LGUpLHljLmZyb21CdWZmZXJBdHRyaWJ1dGUocy5hdHRyaWJ1dGVzLnNraW5XZWlnaHQsZSkseGMuY29weSh0KS5hcHBseU1hdHJpeDQodGhpcy5iaW5kTWF0cml4KSx0LnNldCgwLDAsMCk7Zm9yKGxldCBhPTA7YTw0O2ErKyl7Y29uc3Qgbj15Yy5nZXRDb21wb25lbnQoYSk7aWYobiE9PTApe2NvbnN0IG89X2MuZ2V0Q29tcG9uZW50KGEpO01jLm11bHRpcGx5TWF0cmljZXMoci5ib25lc1tvXS5tYXRyaXhXb3JsZCxyLmJvbmVJbnZlcnNlc1tvXSksdC5hZGRTY2FsZWRWZWN0b3IoQnkuY29weSh4YykuYXBwbHlNYXRyaXg0KE1jKSxuKX19cmV0dXJuIHQuYXBwbHlNYXRyaXg0KHRoaXMuYmluZE1hdHJpeEludmVyc2UpfX1iYy5wcm90b3R5cGUuaXNTa2lubmVkTWVzaD0hMDtjbGFzcyBVeSBleHRlbmRzIGple2NvbnN0cnVjdG9yKCl7c3VwZXIoKTt0aGlzLnR5cGU9IkJvbmUifX1VeS5wcm90b3R5cGUuaXNCb25lPSEwO2NsYXNzIEZ5IGV4dGVuZHMgZHR7Y29uc3RydWN0b3IoZT1udWxsLHQ9MSxyPTEscyxhLG4sbyxoLGw9dXQsYz11dCx1LGQpe3N1cGVyKG51bGwsbixvLGgsbCxjLHMsYSx1LGQpO3RoaXMuaW1hZ2U9e2RhdGE6ZSx3aWR0aDp0LGhlaWdodDpyfSx0aGlzLmdlbmVyYXRlTWlwbWFwcz0hMSx0aGlzLmZsaXBZPSExLHRoaXMudW5wYWNrQWxpZ25tZW50PTF9fUZ5LnByb3RvdHlwZS5pc0RhdGFUZXh0dXJlPSEwO2NsYXNzIGJvIGV4dGVuZHMgY3R7Y29uc3RydWN0b3IoZSx0LHIscz0xKXt0eXBlb2Ygcj09Im51bWJlciImJihzPXIscj0hMSxjb25zb2xlLmVycm9yKCJUSFJFRS5JbnN0YW5jZWRCdWZmZXJBdHRyaWJ1dGU6IFRoZSBjb25zdHJ1Y3RvciBub3cgZXhwZWN0cyBub3JtYWxpemVkIGFzIHRoZSB0aGlyZCBhcmd1bWVudC4iKSk7c3VwZXIoZSx0LHIpO3RoaXMubWVzaFBlckF0dHJpYnV0ZT1zfWNvcHkoZSl7cmV0dXJuIHN1cGVyLmNvcHkoZSksdGhpcy5tZXNoUGVyQXR0cmlidXRlPWUubWVzaFBlckF0dHJpYnV0ZSx0aGlzfXRvSlNPTigpe2NvbnN0IGU9c3VwZXIudG9KU09OKCk7cmV0dXJuIGUubWVzaFBlckF0dHJpYnV0ZT10aGlzLm1lc2hQZXJBdHRyaWJ1dGUsZS5pc0luc3RhbmNlZEJ1ZmZlckF0dHJpYnV0ZT0hMCxlfX1iby5wcm90b3R5cGUuaXNJbnN0YW5jZWRCdWZmZXJBdHRyaWJ1dGU9ITA7Y29uc3Qgd2M9bmV3IF9lLFNjPW5ldyBfZSxxYT1bXSxVcz1uZXcgTnQ7Y2xhc3MgSHkgZXh0ZW5kcyBOdHtjb25zdHJ1Y3RvcihlLHQscil7c3VwZXIoZSx0KTt0aGlzLmluc3RhbmNlTWF0cml4PW5ldyBibyhuZXcgRmxvYXQzMkFycmF5KHIqMTYpLDE2KSx0aGlzLmluc3RhbmNlQ29sb3I9bnVsbCx0aGlzLmNvdW50PXIsdGhpcy5mcnVzdHVtQ3VsbGVkPSExfWNvcHkoZSl7cmV0dXJuIHN1cGVyLmNvcHkoZSksdGhpcy5pbnN0YW5jZU1hdHJpeC5jb3B5KGUuaW5zdGFuY2VNYXRyaXgpLGUuaW5zdGFuY2VDb2xvciE9PW51bGwmJih0aGlzLmluc3RhbmNlQ29sb3I9ZS5pbnN0YW5jZUNvbG9yLmNsb25lKCkpLHRoaXMuY291bnQ9ZS5jb3VudCx0aGlzfWdldENvbG9yQXQoZSx0KXt0LmZyb21BcnJheSh0aGlzLmluc3RhbmNlQ29sb3IuYXJyYXksZSozKX1nZXRNYXRyaXhBdChlLHQpe3QuZnJvbUFycmF5KHRoaXMuaW5zdGFuY2VNYXRyaXguYXJyYXksZSoxNil9cmF5Y2FzdChlLHQpe2NvbnN0IHI9dGhpcy5tYXRyaXhXb3JsZCxzPXRoaXMuY291bnQ7aWYoVXMuZ2VvbWV0cnk9dGhpcy5nZW9tZXRyeSxVcy5tYXRlcmlhbD10aGlzLm1hdGVyaWFsLFVzLm1hdGVyaWFsIT09dm9pZCAwKWZvcihsZXQgYT0wO2E8czthKyspe3RoaXMuZ2V0TWF0cml4QXQoYSx3YyksU2MubXVsdGlwbHlNYXRyaWNlcyhyLHdjKSxVcy5tYXRyaXhXb3JsZD1TYyxVcy5yYXljYXN0KGUscWEpO2ZvcihsZXQgbj0wLG89cWEubGVuZ3RoO248bztuKyspe2NvbnN0IGg9cWFbbl07aC5pbnN0YW5jZUlkPWEsaC5vYmplY3Q9dGhpcyx0LnB1c2goaCl9cWEubGVuZ3RoPTB9fXNldENvbG9yQXQoZSx0KXt0aGlzLmluc3RhbmNlQ29sb3I9PT1udWxsJiYodGhpcy5pbnN0YW5jZUNvbG9yPW5ldyBibyhuZXcgRmxvYXQzMkFycmF5KHRoaXMuaW5zdGFuY2VNYXRyaXguY291bnQqMyksMykpLHQudG9BcnJheSh0aGlzLmluc3RhbmNlQ29sb3IuYXJyYXksZSozKX1zZXRNYXRyaXhBdChlLHQpe3QudG9BcnJheSh0aGlzLmluc3RhbmNlTWF0cml4LmFycmF5LGUqMTYpfXVwZGF0ZU1vcnBoVGFyZ2V0cygpe31kaXNwb3NlKCl7dGhpcy5kaXNwYXRjaEV2ZW50KHt0eXBlOiJkaXNwb3NlIn0pfX1IeS5wcm90b3R5cGUuaXNJbnN0YW5jZWRNZXNoPSEwO2NsYXNzICRyIGV4dGVuZHMgbHR7Y29uc3RydWN0b3IoZSl7c3VwZXIoKTt0aGlzLnR5cGU9IkxpbmVCYXNpY01hdGVyaWFsIix0aGlzLmNvbG9yPW5ldyBnZSgxNjc3NzIxNSksdGhpcy5saW5ld2lkdGg9MSx0aGlzLmxpbmVjYXA9InJvdW5kIix0aGlzLmxpbmVqb2luPSJyb3VuZCIsdGhpcy5zZXRWYWx1ZXMoZSl9Y29weShlKXtyZXR1cm4gc3VwZXIuY29weShlKSx0aGlzLmNvbG9yLmNvcHkoZS5jb2xvciksdGhpcy5saW5ld2lkdGg9ZS5saW5ld2lkdGgsdGhpcy5saW5lY2FwPWUubGluZWNhcCx0aGlzLmxpbmVqb2luPWUubGluZWpvaW4sdGhpc319JHIucHJvdG90eXBlLmlzTGluZUJhc2ljTWF0ZXJpYWw9ITA7Y29uc3QgRWM9bmV3IEUsVGM9bmV3IEUsQWM9bmV3IF9lLHdvPW5ldyBPcixYYT1uZXcgRHI7Y2xhc3MgU28gZXh0ZW5kcyBqZXtjb25zdHJ1Y3RvcihlPW5ldyAkZSx0PW5ldyAkcil7c3VwZXIoKTt0aGlzLnR5cGU9IkxpbmUiLHRoaXMuZ2VvbWV0cnk9ZSx0aGlzLm1hdGVyaWFsPXQsdGhpcy51cGRhdGVNb3JwaFRhcmdldHMoKX1jb3B5KGUpe3JldHVybiBzdXBlci5jb3B5KGUpLHRoaXMubWF0ZXJpYWw9ZS5tYXRlcmlhbCx0aGlzLmdlb21ldHJ5PWUuZ2VvbWV0cnksdGhpc31jb21wdXRlTGluZURpc3RhbmNlcygpe2NvbnN0IGU9dGhpcy5nZW9tZXRyeTtpZihlLmlzQnVmZmVyR2VvbWV0cnkpaWYoZS5pbmRleD09PW51bGwpe2NvbnN0IHQ9ZS5hdHRyaWJ1dGVzLnBvc2l0aW9uLHI9WzBdO2ZvcihsZXQgcz0xLGE9dC5jb3VudDtzPGE7cysrKUVjLmZyb21CdWZmZXJBdHRyaWJ1dGUodCxzLTEpLFRjLmZyb21CdWZmZXJBdHRyaWJ1dGUodCxzKSxyW3NdPXJbcy0xXSxyW3NdKz1FYy5kaXN0YW5jZVRvKFRjKTtlLnNldEF0dHJpYnV0ZSgibGluZURpc3RhbmNlIixuZXcgcHQociwxKSl9ZWxzZSBjb25zb2xlLndhcm4oIlRIUkVFLkxpbmUuY29tcHV0ZUxpbmVEaXN0YW5jZXMoKTogQ29tcHV0YXRpb24gb25seSBwb3NzaWJsZSB3aXRoIG5vbi1pbmRleGVkIEJ1ZmZlckdlb21ldHJ5LiIpO2Vsc2UgZS5pc0dlb21ldHJ5JiZjb25zb2xlLmVycm9yKCJUSFJFRS5MaW5lLmNvbXB1dGVMaW5lRGlzdGFuY2VzKCkgbm8gbG9uZ2VyIHN1cHBvcnRzIFRIUkVFLkdlb21ldHJ5LiBVc2UgVEhSRUUuQnVmZmVyR2VvbWV0cnkgaW5zdGVhZC4iKTtyZXR1cm4gdGhpc31yYXljYXN0KGUsdCl7Y29uc3Qgcj10aGlzLmdlb21ldHJ5LHM9dGhpcy5tYXRyaXhXb3JsZCxhPWUucGFyYW1zLkxpbmUudGhyZXNob2xkLG49ci5kcmF3UmFuZ2U7aWYoci5ib3VuZGluZ1NwaGVyZT09PW51bGwmJnIuY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCksWGEuY29weShyLmJvdW5kaW5nU3BoZXJlKSxYYS5hcHBseU1hdHJpeDQocyksWGEucmFkaXVzKz1hLGUucmF5LmludGVyc2VjdHNTcGhlcmUoWGEpPT09ITEpcmV0dXJuO0FjLmNvcHkocykuaW52ZXJ0KCksd28uY29weShlLnJheSkuYXBwbHlNYXRyaXg0KEFjKTtjb25zdCBvPWEvKCh0aGlzLnNjYWxlLngrdGhpcy5zY2FsZS55K3RoaXMuc2NhbGUueikvMyksaD1vKm8sbD1uZXcgRSxjPW5ldyBFLHU9bmV3IEUsZD1uZXcgRSxwPXRoaXMuaXNMaW5lU2VnbWVudHM/MjoxO2lmKHIuaXNCdWZmZXJHZW9tZXRyeSl7Y29uc3QgZz1yLmluZGV4LGY9ci5hdHRyaWJ1dGVzLnBvc2l0aW9uO2lmKGchPT1udWxsKXtjb25zdCBtPU1hdGgubWF4KDAsbi5zdGFydCksdj1NYXRoLm1pbihnLmNvdW50LG4uc3RhcnQrbi5jb3VudCk7Zm9yKGxldCB5PW0sVD12LTE7eTxUO3krPXApe2NvbnN0IHc9Zy5nZXRYKHkpLGI9Zy5nZXRYKHkrMSk7aWYobC5mcm9tQnVmZmVyQXR0cmlidXRlKGYsdyksYy5mcm9tQnVmZmVyQXR0cmlidXRlKGYsYiksd28uZGlzdGFuY2VTcVRvU2VnbWVudChsLGMsZCx1KT5oKWNvbnRpbnVlO2QuYXBwbHlNYXRyaXg0KHRoaXMubWF0cml4V29ybGQpO2NvbnN0IEw9ZS5yYXkub3JpZ2luLmRpc3RhbmNlVG8oZCk7TDxlLm5lYXJ8fEw+ZS5mYXJ8fHQucHVzaCh7ZGlzdGFuY2U6TCxwb2ludDp1LmNsb25lKCkuYXBwbHlNYXRyaXg0KHRoaXMubWF0cml4V29ybGQpLGluZGV4OnksZmFjZTpudWxsLGZhY2VJbmRleDpudWxsLG9iamVjdDp0aGlzfSl9fWVsc2V7Y29uc3QgbT1NYXRoLm1heCgwLG4uc3RhcnQpLHY9TWF0aC5taW4oZi5jb3VudCxuLnN0YXJ0K24uY291bnQpO2ZvcihsZXQgeT1tLFQ9di0xO3k8VDt5Kz1wKXtpZihsLmZyb21CdWZmZXJBdHRyaWJ1dGUoZix5KSxjLmZyb21CdWZmZXJBdHRyaWJ1dGUoZix5KzEpLHdvLmRpc3RhbmNlU3FUb1NlZ21lbnQobCxjLGQsdSk+aCljb250aW51ZTtkLmFwcGx5TWF0cml4NCh0aGlzLm1hdHJpeFdvcmxkKTtjb25zdCB3PWUucmF5Lm9yaWdpbi5kaXN0YW5jZVRvKGQpO3c8ZS5uZWFyfHx3PmUuZmFyfHx0LnB1c2goe2Rpc3RhbmNlOncscG9pbnQ6dS5jbG9uZSgpLmFwcGx5TWF0cml4NCh0aGlzLm1hdHJpeFdvcmxkKSxpbmRleDp5LGZhY2U6bnVsbCxmYWNlSW5kZXg6bnVsbCxvYmplY3Q6dGhpc30pfX19ZWxzZSByLmlzR2VvbWV0cnkmJmNvbnNvbGUuZXJyb3IoIlRIUkVFLkxpbmUucmF5Y2FzdCgpIG5vIGxvbmdlciBzdXBwb3J0cyBUSFJFRS5HZW9tZXRyeS4gVXNlIFRIUkVFLkJ1ZmZlckdlb21ldHJ5IGluc3RlYWQuIil9dXBkYXRlTW9ycGhUYXJnZXRzKCl7Y29uc3QgZT10aGlzLmdlb21ldHJ5O2lmKGUuaXNCdWZmZXJHZW9tZXRyeSl7Y29uc3QgdD1lLm1vcnBoQXR0cmlidXRlcyxyPU9iamVjdC5rZXlzKHQpO2lmKHIubGVuZ3RoPjApe2NvbnN0IHM9dFtyWzBdXTtpZihzIT09dm9pZCAwKXt0aGlzLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcz1bXSx0aGlzLm1vcnBoVGFyZ2V0RGljdGlvbmFyeT17fTtmb3IobGV0IGE9MCxuPXMubGVuZ3RoO2E8bjthKyspe2NvbnN0IG89c1thXS5uYW1lfHxTdHJpbmcoYSk7dGhpcy5tb3JwaFRhcmdldEluZmx1ZW5jZXMucHVzaCgwKSx0aGlzLm1vcnBoVGFyZ2V0RGljdGlvbmFyeVtvXT1hfX19fWVsc2V7Y29uc3QgdD1lLm1vcnBoVGFyZ2V0czt0IT09dm9pZCAwJiZ0Lmxlbmd0aD4wJiZjb25zb2xlLmVycm9yKCJUSFJFRS5MaW5lLnVwZGF0ZU1vcnBoVGFyZ2V0cygpIGRvZXMgbm90IHN1cHBvcnQgVEhSRUUuR2VvbWV0cnkuIFVzZSBUSFJFRS5CdWZmZXJHZW9tZXRyeSBpbnN0ZWFkLiIpfX19U28ucHJvdG90eXBlLmlzTGluZT0hMDtjb25zdCBDYz1uZXcgRSxMYz1uZXcgRTtjbGFzcyBFbyBleHRlbmRzIFNve2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KTt0aGlzLnR5cGU9IkxpbmVTZWdtZW50cyJ9Y29tcHV0ZUxpbmVEaXN0YW5jZXMoKXtjb25zdCBlPXRoaXMuZ2VvbWV0cnk7aWYoZS5pc0J1ZmZlckdlb21ldHJ5KWlmKGUuaW5kZXg9PT1udWxsKXtjb25zdCB0PWUuYXR0cmlidXRlcy5wb3NpdGlvbixyPVtdO2ZvcihsZXQgcz0wLGE9dC5jb3VudDtzPGE7cys9MilDYy5mcm9tQnVmZmVyQXR0cmlidXRlKHQscyksTGMuZnJvbUJ1ZmZlckF0dHJpYnV0ZSh0LHMrMSkscltzXT1zPT09MD8wOnJbcy0xXSxyW3MrMV09cltzXStDYy5kaXN0YW5jZVRvKExjKTtlLnNldEF0dHJpYnV0ZSgibGluZURpc3RhbmNlIixuZXcgcHQociwxKSl9ZWxzZSBjb25zb2xlLndhcm4oIlRIUkVFLkxpbmVTZWdtZW50cy5jb21wdXRlTGluZURpc3RhbmNlcygpOiBDb21wdXRhdGlvbiBvbmx5IHBvc3NpYmxlIHdpdGggbm9uLWluZGV4ZWQgQnVmZmVyR2VvbWV0cnkuIik7ZWxzZSBlLmlzR2VvbWV0cnkmJmNvbnNvbGUuZXJyb3IoIlRIUkVFLkxpbmVTZWdtZW50cy5jb21wdXRlTGluZURpc3RhbmNlcygpIG5vIGxvbmdlciBzdXBwb3J0cyBUSFJFRS5HZW9tZXRyeS4gVXNlIFRIUkVFLkJ1ZmZlckdlb21ldHJ5IGluc3RlYWQuIik7cmV0dXJuIHRoaXN9fUVvLnByb3RvdHlwZS5pc0xpbmVTZWdtZW50cz0hMDtjbGFzcyBreSBleHRlbmRzIFNve2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KTt0aGlzLnR5cGU9IkxpbmVMb29wIn19a3kucHJvdG90eXBlLmlzTGluZUxvb3A9ITA7Y2xhc3MgVG8gZXh0ZW5kcyBsdHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpO3RoaXMudHlwZT0iUG9pbnRzTWF0ZXJpYWwiLHRoaXMuY29sb3I9bmV3IGdlKDE2Nzc3MjE1KSx0aGlzLm1hcD1udWxsLHRoaXMuYWxwaGFNYXA9bnVsbCx0aGlzLnNpemU9MSx0aGlzLnNpemVBdHRlbnVhdGlvbj0hMCx0aGlzLnNldFZhbHVlcyhlKX1jb3B5KGUpe3JldHVybiBzdXBlci5jb3B5KGUpLHRoaXMuY29sb3IuY29weShlLmNvbG9yKSx0aGlzLm1hcD1lLm1hcCx0aGlzLmFscGhhTWFwPWUuYWxwaGFNYXAsdGhpcy5zaXplPWUuc2l6ZSx0aGlzLnNpemVBdHRlbnVhdGlvbj1lLnNpemVBdHRlbnVhdGlvbix0aGlzfX1Uby5wcm90b3R5cGUuaXNQb2ludHNNYXRlcmlhbD0hMDtjb25zdCBSYz1uZXcgX2UsQW89bmV3IE9yLEphPW5ldyBEcixZYT1uZXcgRTtjbGFzcyBHeSBleHRlbmRzIGple2NvbnN0cnVjdG9yKGU9bmV3ICRlLHQ9bmV3IFRvKXtzdXBlcigpO3RoaXMudHlwZT0iUG9pbnRzIix0aGlzLmdlb21ldHJ5PWUsdGhpcy5tYXRlcmlhbD10LHRoaXMudXBkYXRlTW9ycGhUYXJnZXRzKCl9Y29weShlKXtyZXR1cm4gc3VwZXIuY29weShlKSx0aGlzLm1hdGVyaWFsPWUubWF0ZXJpYWwsdGhpcy5nZW9tZXRyeT1lLmdlb21ldHJ5LHRoaXN9cmF5Y2FzdChlLHQpe2NvbnN0IHI9dGhpcy5nZW9tZXRyeSxzPXRoaXMubWF0cml4V29ybGQsYT1lLnBhcmFtcy5Qb2ludHMudGhyZXNob2xkLG49ci5kcmF3UmFuZ2U7aWYoci5ib3VuZGluZ1NwaGVyZT09PW51bGwmJnIuY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCksSmEuY29weShyLmJvdW5kaW5nU3BoZXJlKSxKYS5hcHBseU1hdHJpeDQocyksSmEucmFkaXVzKz1hLGUucmF5LmludGVyc2VjdHNTcGhlcmUoSmEpPT09ITEpcmV0dXJuO1JjLmNvcHkocykuaW52ZXJ0KCksQW8uY29weShlLnJheSkuYXBwbHlNYXRyaXg0KFJjKTtjb25zdCBvPWEvKCh0aGlzLnNjYWxlLngrdGhpcy5zY2FsZS55K3RoaXMuc2NhbGUueikvMyksaD1vKm87aWYoci5pc0J1ZmZlckdlb21ldHJ5KXtjb25zdCBsPXIuaW5kZXgsYz1yLmF0dHJpYnV0ZXMucG9zaXRpb247aWYobCE9PW51bGwpe2NvbnN0IHU9TWF0aC5tYXgoMCxuLnN0YXJ0KSxkPU1hdGgubWluKGwuY291bnQsbi5zdGFydCtuLmNvdW50KTtmb3IobGV0IHA9dSxnPWQ7cDxnO3ArKyl7Y29uc3QgZj1sLmdldFgocCk7WWEuZnJvbUJ1ZmZlckF0dHJpYnV0ZShjLGYpLFBjKFlhLGYsaCxzLGUsdCx0aGlzKX19ZWxzZXtjb25zdCB1PU1hdGgubWF4KDAsbi5zdGFydCksZD1NYXRoLm1pbihjLmNvdW50LG4uc3RhcnQrbi5jb3VudCk7Zm9yKGxldCBwPXUsZz1kO3A8ZztwKyspWWEuZnJvbUJ1ZmZlckF0dHJpYnV0ZShjLHApLFBjKFlhLHAsaCxzLGUsdCx0aGlzKX19ZWxzZSBjb25zb2xlLmVycm9yKCJUSFJFRS5Qb2ludHMucmF5Y2FzdCgpIG5vIGxvbmdlciBzdXBwb3J0cyBUSFJFRS5HZW9tZXRyeS4gVXNlIFRIUkVFLkJ1ZmZlckdlb21ldHJ5IGluc3RlYWQuIil9dXBkYXRlTW9ycGhUYXJnZXRzKCl7Y29uc3QgZT10aGlzLmdlb21ldHJ5O2lmKGUuaXNCdWZmZXJHZW9tZXRyeSl7Y29uc3QgdD1lLm1vcnBoQXR0cmlidXRlcyxyPU9iamVjdC5rZXlzKHQpO2lmKHIubGVuZ3RoPjApe2NvbnN0IHM9dFtyWzBdXTtpZihzIT09dm9pZCAwKXt0aGlzLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcz1bXSx0aGlzLm1vcnBoVGFyZ2V0RGljdGlvbmFyeT17fTtmb3IobGV0IGE9MCxuPXMubGVuZ3RoO2E8bjthKyspe2NvbnN0IG89c1thXS5uYW1lfHxTdHJpbmcoYSk7dGhpcy5tb3JwaFRhcmdldEluZmx1ZW5jZXMucHVzaCgwKSx0aGlzLm1vcnBoVGFyZ2V0RGljdGlvbmFyeVtvXT1hfX19fWVsc2V7Y29uc3QgdD1lLm1vcnBoVGFyZ2V0czt0IT09dm9pZCAwJiZ0Lmxlbmd0aD4wJiZjb25zb2xlLmVycm9yKCJUSFJFRS5Qb2ludHMudXBkYXRlTW9ycGhUYXJnZXRzKCkgZG9lcyBub3Qgc3VwcG9ydCBUSFJFRS5HZW9tZXRyeS4gVXNlIFRIUkVFLkJ1ZmZlckdlb21ldHJ5IGluc3RlYWQuIil9fX1HeS5wcm90b3R5cGUuaXNQb2ludHM9ITA7ZnVuY3Rpb24gUGMoaSxlLHQscixzLGEsbil7Y29uc3Qgbz1Bby5kaXN0YW5jZVNxVG9Qb2ludChpKTtpZihvPHQpe2NvbnN0IGg9bmV3IEU7QW8uY2xvc2VzdFBvaW50VG9Qb2ludChpLGgpLGguYXBwbHlNYXRyaXg0KHIpO2NvbnN0IGw9cy5yYXkub3JpZ2luLmRpc3RhbmNlVG8oaCk7aWYobDxzLm5lYXJ8fGw+cy5mYXIpcmV0dXJuO2EucHVzaCh7ZGlzdGFuY2U6bCxkaXN0YW5jZVRvUmF5Ok1hdGguc3FydChvKSxwb2ludDpoLGluZGV4OmUsZmFjZTpudWxsLG9iamVjdDpufSl9fWNsYXNzIFZ5IGV4dGVuZHMgZHR7Y29uc3RydWN0b3IoZSx0LHIscyxhLG4sbyxoLGwpe3N1cGVyKGUsdCxyLHMsYSxuLG8saCxsKTt0aGlzLm1pbkZpbHRlcj1uIT09dm9pZCAwP246SXQsdGhpcy5tYWdGaWx0ZXI9YSE9PXZvaWQgMD9hOkl0LHRoaXMuZ2VuZXJhdGVNaXBtYXBzPSExO2NvbnN0IGM9dGhpcztmdW5jdGlvbiB1KCl7Yy5uZWVkc1VwZGF0ZT0hMCxlLnJlcXVlc3RWaWRlb0ZyYW1lQ2FsbGJhY2sodSl9InJlcXVlc3RWaWRlb0ZyYW1lQ2FsbGJhY2siaW4gZSYmZS5yZXF1ZXN0VmlkZW9GcmFtZUNhbGxiYWNrKHUpfWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuaW1hZ2UpLmNvcHkodGhpcyl9dXBkYXRlKCl7Y29uc3QgZT10aGlzLmltYWdlOyEoInJlcXVlc3RWaWRlb0ZyYW1lQ2FsbGJhY2siaW4gZSkmJmUucmVhZHlTdGF0ZT49ZS5IQVZFX0NVUlJFTlRfREFUQSYmKHRoaXMubmVlZHNVcGRhdGU9ITApfX1WeS5wcm90b3R5cGUuaXNWaWRlb1RleHR1cmU9ITA7Y2xhc3MgV3kgZXh0ZW5kcyBkdHtjb25zdHJ1Y3RvcihlLHQscil7c3VwZXIoe3dpZHRoOmUsaGVpZ2h0OnR9KTt0aGlzLmZvcm1hdD1yLHRoaXMubWFnRmlsdGVyPXV0LHRoaXMubWluRmlsdGVyPXV0LHRoaXMuZ2VuZXJhdGVNaXBtYXBzPSExLHRoaXMubmVlZHNVcGRhdGU9ITB9fVd5LnByb3RvdHlwZS5pc0ZyYW1lYnVmZmVyVGV4dHVyZT0hMDtjbGFzcyBqeSBleHRlbmRzIGR0e2NvbnN0cnVjdG9yKGUsdCxyLHMsYSxuLG8saCxsLGMsdSxkKXtzdXBlcihudWxsLG4sbyxoLGwsYyxzLGEsdSxkKTt0aGlzLmltYWdlPXt3aWR0aDp0LGhlaWdodDpyfSx0aGlzLm1pcG1hcHM9ZSx0aGlzLmZsaXBZPSExLHRoaXMuZ2VuZXJhdGVNaXBtYXBzPSExfX1qeS5wcm90b3R5cGUuaXNDb21wcmVzc2VkVGV4dHVyZT0hMDtjbGFzcyBxeSBleHRlbmRzIGR0e2NvbnN0cnVjdG9yKGUsdCxyLHMsYSxuLG8saCxsKXtzdXBlcihlLHQscixzLGEsbixvLGgsbCk7dGhpcy5uZWVkc1VwZGF0ZT0hMH19cXkucHJvdG90eXBlLmlzQ2FudmFzVGV4dHVyZT0hMDtjbGFzcyBHdHtjb25zdHJ1Y3Rvcigpe3RoaXMudHlwZT0iQ3VydmUiLHRoaXMuYXJjTGVuZ3RoRGl2aXNpb25zPTIwMH1nZXRQb2ludCgpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkN1cnZlOiAuZ2V0UG9pbnQoKSBub3QgaW1wbGVtZW50ZWQuIiksbnVsbH1nZXRQb2ludEF0KGUsdCl7Y29uc3Qgcj10aGlzLmdldFV0b1RtYXBwaW5nKGUpO3JldHVybiB0aGlzLmdldFBvaW50KHIsdCl9Z2V0UG9pbnRzKGU9NSl7Y29uc3QgdD1bXTtmb3IobGV0IHI9MDtyPD1lO3IrKyl0LnB1c2godGhpcy5nZXRQb2ludChyL2UpKTtyZXR1cm4gdH1nZXRTcGFjZWRQb2ludHMoZT01KXtjb25zdCB0PVtdO2ZvcihsZXQgcj0wO3I8PWU7cisrKXQucHVzaCh0aGlzLmdldFBvaW50QXQoci9lKSk7cmV0dXJuIHR9Z2V0TGVuZ3RoKCl7Y29uc3QgZT10aGlzLmdldExlbmd0aHMoKTtyZXR1cm4gZVtlLmxlbmd0aC0xXX1nZXRMZW5ndGhzKGU9dGhpcy5hcmNMZW5ndGhEaXZpc2lvbnMpe2lmKHRoaXMuY2FjaGVBcmNMZW5ndGhzJiZ0aGlzLmNhY2hlQXJjTGVuZ3Rocy5sZW5ndGg9PT1lKzEmJiF0aGlzLm5lZWRzVXBkYXRlKXJldHVybiB0aGlzLmNhY2hlQXJjTGVuZ3Roczt0aGlzLm5lZWRzVXBkYXRlPSExO2NvbnN0IHQ9W107bGV0IHIscz10aGlzLmdldFBvaW50KDApLGE9MDt0LnB1c2goMCk7Zm9yKGxldCBuPTE7bjw9ZTtuKyspcj10aGlzLmdldFBvaW50KG4vZSksYSs9ci5kaXN0YW5jZVRvKHMpLHQucHVzaChhKSxzPXI7cmV0dXJuIHRoaXMuY2FjaGVBcmNMZW5ndGhzPXQsdH11cGRhdGVBcmNMZW5ndGhzKCl7dGhpcy5uZWVkc1VwZGF0ZT0hMCx0aGlzLmdldExlbmd0aHMoKX1nZXRVdG9UbWFwcGluZyhlLHQpe2NvbnN0IHI9dGhpcy5nZXRMZW5ndGhzKCk7bGV0IHM9MDtjb25zdCBhPXIubGVuZ3RoO2xldCBuO3Q/bj10Om49ZSpyW2EtMV07bGV0IG89MCxoPWEtMSxsO2Zvcig7bzw9aDspaWYocz1NYXRoLmZsb29yKG8rKGgtbykvMiksbD1yW3NdLW4sbDwwKW89cysxO2Vsc2UgaWYobD4wKWg9cy0xO2Vsc2V7aD1zO2JyZWFrfWlmKHM9aCxyW3NdPT09bilyZXR1cm4gcy8oYS0xKTtjb25zdCBjPXJbc10sdT1yW3MrMV0tYyxkPShuLWMpL3U7cmV0dXJuKHMrZCkvKGEtMSl9Z2V0VGFuZ2VudChlLHQpe2xldCByPWUtMWUtNCxzPWUrMWUtNDtyPDAmJihyPTApLHM+MSYmKHM9MSk7Y29uc3QgYT10aGlzLmdldFBvaW50KHIpLG49dGhpcy5nZXRQb2ludChzKSxvPXR8fChhLmlzVmVjdG9yMj9uZXcgZWU6bmV3IEUpO3JldHVybiBvLmNvcHkobikuc3ViKGEpLm5vcm1hbGl6ZSgpLG99Z2V0VGFuZ2VudEF0KGUsdCl7Y29uc3Qgcj10aGlzLmdldFV0b1RtYXBwaW5nKGUpO3JldHVybiB0aGlzLmdldFRhbmdlbnQocix0KX1jb21wdXRlRnJlbmV0RnJhbWVzKGUsdCl7Y29uc3Qgcj1uZXcgRSxzPVtdLGE9W10sbj1bXSxvPW5ldyBFLGg9bmV3IF9lO2ZvcihsZXQgcD0wO3A8PWU7cCsrKXtjb25zdCBnPXAvZTtzW3BdPXRoaXMuZ2V0VGFuZ2VudEF0KGcsbmV3IEUpfWFbMF09bmV3IEUsblswXT1uZXcgRTtsZXQgbD1OdW1iZXIuTUFYX1ZBTFVFO2NvbnN0IGM9TWF0aC5hYnMoc1swXS54KSx1PU1hdGguYWJzKHNbMF0ueSksZD1NYXRoLmFicyhzWzBdLnopO2M8PWwmJihsPWMsci5zZXQoMSwwLDApKSx1PD1sJiYobD11LHIuc2V0KDAsMSwwKSksZDw9bCYmci5zZXQoMCwwLDEpLG8uY3Jvc3NWZWN0b3JzKHNbMF0scikubm9ybWFsaXplKCksYVswXS5jcm9zc1ZlY3RvcnMoc1swXSxvKSxuWzBdLmNyb3NzVmVjdG9ycyhzWzBdLGFbMF0pO2ZvcihsZXQgcD0xO3A8PWU7cCsrKXtpZihhW3BdPWFbcC0xXS5jbG9uZSgpLG5bcF09bltwLTFdLmNsb25lKCksby5jcm9zc1ZlY3RvcnMoc1twLTFdLHNbcF0pLG8ubGVuZ3RoKCk+TnVtYmVyLkVQU0lMT04pe28ubm9ybWFsaXplKCk7Y29uc3QgZz1NYXRoLmFjb3MoeXQoc1twLTFdLmRvdChzW3BdKSwtMSwxKSk7YVtwXS5hcHBseU1hdHJpeDQoaC5tYWtlUm90YXRpb25BeGlzKG8sZykpfW5bcF0uY3Jvc3NWZWN0b3JzKHNbcF0sYVtwXSl9aWYodD09PSEwKXtsZXQgcD1NYXRoLmFjb3MoeXQoYVswXS5kb3QoYVtlXSksLTEsMSkpO3AvPWUsc1swXS5kb3Qoby5jcm9zc1ZlY3RvcnMoYVswXSxhW2VdKSk+MCYmKHA9LXApO2ZvcihsZXQgZz0xO2c8PWU7ZysrKWFbZ10uYXBwbHlNYXRyaXg0KGgubWFrZVJvdGF0aW9uQXhpcyhzW2ddLHAqZykpLG5bZ10uY3Jvc3NWZWN0b3JzKHNbZ10sYVtnXSl9cmV0dXJue3RhbmdlbnRzOnMsbm9ybWFsczphLGJpbm9ybWFsczpufX1jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyl9Y29weShlKXtyZXR1cm4gdGhpcy5hcmNMZW5ndGhEaXZpc2lvbnM9ZS5hcmNMZW5ndGhEaXZpc2lvbnMsdGhpc310b0pTT04oKXtjb25zdCBlPXttZXRhZGF0YTp7dmVyc2lvbjo0LjUsdHlwZToiQ3VydmUiLGdlbmVyYXRvcjoiQ3VydmUudG9KU09OIn19O3JldHVybiBlLmFyY0xlbmd0aERpdmlzaW9ucz10aGlzLmFyY0xlbmd0aERpdmlzaW9ucyxlLnR5cGU9dGhpcy50eXBlLGV9ZnJvbUpTT04oZSl7cmV0dXJuIHRoaXMuYXJjTGVuZ3RoRGl2aXNpb25zPWUuYXJjTGVuZ3RoRGl2aXNpb25zLHRoaXN9fWNsYXNzIFphIGV4dGVuZHMgR3R7Y29uc3RydWN0b3IoZT0wLHQ9MCxyPTEscz0xLGE9MCxuPU1hdGguUEkqMixvPSExLGg9MCl7c3VwZXIoKTt0aGlzLnR5cGU9IkVsbGlwc2VDdXJ2ZSIsdGhpcy5hWD1lLHRoaXMuYVk9dCx0aGlzLnhSYWRpdXM9cix0aGlzLnlSYWRpdXM9cyx0aGlzLmFTdGFydEFuZ2xlPWEsdGhpcy5hRW5kQW5nbGU9bix0aGlzLmFDbG9ja3dpc2U9byx0aGlzLmFSb3RhdGlvbj1ofWdldFBvaW50KGUsdCl7Y29uc3Qgcj10fHxuZXcgZWUscz1NYXRoLlBJKjI7bGV0IGE9dGhpcy5hRW5kQW5nbGUtdGhpcy5hU3RhcnRBbmdsZTtjb25zdCBuPU1hdGguYWJzKGEpPE51bWJlci5FUFNJTE9OO2Zvcig7YTwwOylhKz1zO2Zvcig7YT5zOylhLT1zO2E8TnVtYmVyLkVQU0lMT04mJihuP2E9MDphPXMpLHRoaXMuYUNsb2Nrd2lzZT09PSEwJiYhbiYmKGE9PT1zP2E9LXM6YT1hLXMpO2NvbnN0IG89dGhpcy5hU3RhcnRBbmdsZStlKmE7bGV0IGg9dGhpcy5hWCt0aGlzLnhSYWRpdXMqTWF0aC5jb3MobyksbD10aGlzLmFZK3RoaXMueVJhZGl1cypNYXRoLnNpbihvKTtpZih0aGlzLmFSb3RhdGlvbiE9PTApe2NvbnN0IGM9TWF0aC5jb3ModGhpcy5hUm90YXRpb24pLHU9TWF0aC5zaW4odGhpcy5hUm90YXRpb24pLGQ9aC10aGlzLmFYLHA9bC10aGlzLmFZO2g9ZCpjLXAqdSt0aGlzLmFYLGw9ZCp1K3AqYyt0aGlzLmFZfXJldHVybiByLnNldChoLGwpfWNvcHkoZSl7cmV0dXJuIHN1cGVyLmNvcHkoZSksdGhpcy5hWD1lLmFYLHRoaXMuYVk9ZS5hWSx0aGlzLnhSYWRpdXM9ZS54UmFkaXVzLHRoaXMueVJhZGl1cz1lLnlSYWRpdXMsdGhpcy5hU3RhcnRBbmdsZT1lLmFTdGFydEFuZ2xlLHRoaXMuYUVuZEFuZ2xlPWUuYUVuZEFuZ2xlLHRoaXMuYUNsb2Nrd2lzZT1lLmFDbG9ja3dpc2UsdGhpcy5hUm90YXRpb249ZS5hUm90YXRpb24sdGhpc310b0pTT04oKXtjb25zdCBlPXN1cGVyLnRvSlNPTigpO3JldHVybiBlLmFYPXRoaXMuYVgsZS5hWT10aGlzLmFZLGUueFJhZGl1cz10aGlzLnhSYWRpdXMsZS55UmFkaXVzPXRoaXMueVJhZGl1cyxlLmFTdGFydEFuZ2xlPXRoaXMuYVN0YXJ0QW5nbGUsZS5hRW5kQW5nbGU9dGhpcy5hRW5kQW5nbGUsZS5hQ2xvY2t3aXNlPXRoaXMuYUNsb2Nrd2lzZSxlLmFSb3RhdGlvbj10aGlzLmFSb3RhdGlvbixlfWZyb21KU09OKGUpe3JldHVybiBzdXBlci5mcm9tSlNPTihlKSx0aGlzLmFYPWUuYVgsdGhpcy5hWT1lLmFZLHRoaXMueFJhZGl1cz1lLnhSYWRpdXMsdGhpcy55UmFkaXVzPWUueVJhZGl1cyx0aGlzLmFTdGFydEFuZ2xlPWUuYVN0YXJ0QW5nbGUsdGhpcy5hRW5kQW5nbGU9ZS5hRW5kQW5nbGUsdGhpcy5hQ2xvY2t3aXNlPWUuYUNsb2Nrd2lzZSx0aGlzLmFSb3RhdGlvbj1lLmFSb3RhdGlvbix0aGlzfX1aYS5wcm90b3R5cGUuaXNFbGxpcHNlQ3VydmU9ITA7Y2xhc3MgSWMgZXh0ZW5kcyBaYXtjb25zdHJ1Y3RvcihlLHQscixzLGEsbil7c3VwZXIoZSx0LHIscixzLGEsbik7dGhpcy50eXBlPSJBcmNDdXJ2ZSJ9fUljLnByb3RvdHlwZS5pc0FyY0N1cnZlPSEwO2Z1bmN0aW9uIENvKCl7bGV0IGk9MCxlPTAsdD0wLHI9MDtmdW5jdGlvbiBzKGEsbixvLGgpe2k9YSxlPW8sdD0tMyphKzMqbi0yKm8taCxyPTIqYS0yKm4rbytofXJldHVybntpbml0Q2F0bXVsbFJvbTpmdW5jdGlvbihhLG4sbyxoLGwpe3MobixvLGwqKG8tYSksbCooaC1uKSl9LGluaXROb251bmlmb3JtQ2F0bXVsbFJvbTpmdW5jdGlvbihhLG4sbyxoLGwsYyx1KXtsZXQgZD0obi1hKS9sLShvLWEpLyhsK2MpKyhvLW4pL2MscD0oby1uKS9jLShoLW4pLyhjK3UpKyhoLW8pL3U7ZCo9YyxwKj1jLHMobixvLGQscCl9LGNhbGM6ZnVuY3Rpb24oYSl7Y29uc3Qgbj1hKmEsbz1uKmE7cmV0dXJuIGkrZSphK3QqbityKm99fX1jb25zdCBLYT1uZXcgRSxMbz1uZXcgQ28sUm89bmV3IENvLFBvPW5ldyBDbztjbGFzcyBOYyBleHRlbmRzIEd0e2NvbnN0cnVjdG9yKGU9W10sdD0hMSxyPSJjZW50cmlwZXRhbCIscz0uNSl7c3VwZXIoKTt0aGlzLnR5cGU9IkNhdG11bGxSb21DdXJ2ZTMiLHRoaXMucG9pbnRzPWUsdGhpcy5jbG9zZWQ9dCx0aGlzLmN1cnZlVHlwZT1yLHRoaXMudGVuc2lvbj1zfWdldFBvaW50KGUsdD1uZXcgRSl7Y29uc3Qgcj10LHM9dGhpcy5wb2ludHMsYT1zLmxlbmd0aCxuPShhLSh0aGlzLmNsb3NlZD8wOjEpKSplO2xldCBvPU1hdGguZmxvb3IobiksaD1uLW87dGhpcy5jbG9zZWQ/bys9bz4wPzA6KE1hdGguZmxvb3IoTWF0aC5hYnMobykvYSkrMSkqYTpoPT09MCYmbz09PWEtMSYmKG89YS0yLGg9MSk7bGV0IGwsYzt0aGlzLmNsb3NlZHx8bz4wP2w9c1soby0xKSVhXTooS2Euc3ViVmVjdG9ycyhzWzBdLHNbMV0pLmFkZChzWzBdKSxsPUthKTtjb25zdCB1PXNbbyVhXSxkPXNbKG8rMSklYV07aWYodGhpcy5jbG9zZWR8fG8rMjxhP2M9c1sobysyKSVhXTooS2Euc3ViVmVjdG9ycyhzW2EtMV0sc1thLTJdKS5hZGQoc1thLTFdKSxjPUthKSx0aGlzLmN1cnZlVHlwZT09PSJjZW50cmlwZXRhbCJ8fHRoaXMuY3VydmVUeXBlPT09ImNob3JkYWwiKXtjb25zdCBwPXRoaXMuY3VydmVUeXBlPT09ImNob3JkYWwiPy41Oi4yNTtsZXQgZz1NYXRoLnBvdyhsLmRpc3RhbmNlVG9TcXVhcmVkKHUpLHApLGY9TWF0aC5wb3codS5kaXN0YW5jZVRvU3F1YXJlZChkKSxwKSxtPU1hdGgucG93KGQuZGlzdGFuY2VUb1NxdWFyZWQoYykscCk7ZjwxZS00JiYoZj0xKSxnPDFlLTQmJihnPWYpLG08MWUtNCYmKG09ZiksTG8uaW5pdE5vbnVuaWZvcm1DYXRtdWxsUm9tKGwueCx1LngsZC54LGMueCxnLGYsbSksUm8uaW5pdE5vbnVuaWZvcm1DYXRtdWxsUm9tKGwueSx1LnksZC55LGMueSxnLGYsbSksUG8uaW5pdE5vbnVuaWZvcm1DYXRtdWxsUm9tKGwueix1LnosZC56LGMueixnLGYsbSl9ZWxzZSB0aGlzLmN1cnZlVHlwZT09PSJjYXRtdWxscm9tIiYmKExvLmluaXRDYXRtdWxsUm9tKGwueCx1LngsZC54LGMueCx0aGlzLnRlbnNpb24pLFJvLmluaXRDYXRtdWxsUm9tKGwueSx1LnksZC55LGMueSx0aGlzLnRlbnNpb24pLFBvLmluaXRDYXRtdWxsUm9tKGwueix1LnosZC56LGMueix0aGlzLnRlbnNpb24pKTtyZXR1cm4gci5zZXQoTG8uY2FsYyhoKSxSby5jYWxjKGgpLFBvLmNhbGMoaCkpLHJ9Y29weShlKXtzdXBlci5jb3B5KGUpLHRoaXMucG9pbnRzPVtdO2ZvcihsZXQgdD0wLHI9ZS5wb2ludHMubGVuZ3RoO3Q8cjt0Kyspe2NvbnN0IHM9ZS5wb2ludHNbdF07dGhpcy5wb2ludHMucHVzaChzLmNsb25lKCkpfXJldHVybiB0aGlzLmNsb3NlZD1lLmNsb3NlZCx0aGlzLmN1cnZlVHlwZT1lLmN1cnZlVHlwZSx0aGlzLnRlbnNpb249ZS50ZW5zaW9uLHRoaXN9dG9KU09OKCl7Y29uc3QgZT1zdXBlci50b0pTT04oKTtlLnBvaW50cz1bXTtmb3IobGV0IHQ9MCxyPXRoaXMucG9pbnRzLmxlbmd0aDt0PHI7dCsrKXtjb25zdCBzPXRoaXMucG9pbnRzW3RdO2UucG9pbnRzLnB1c2gocy50b0FycmF5KCkpfXJldHVybiBlLmNsb3NlZD10aGlzLmNsb3NlZCxlLmN1cnZlVHlwZT10aGlzLmN1cnZlVHlwZSxlLnRlbnNpb249dGhpcy50ZW5zaW9uLGV9ZnJvbUpTT04oZSl7c3VwZXIuZnJvbUpTT04oZSksdGhpcy5wb2ludHM9W107Zm9yKGxldCB0PTAscj1lLnBvaW50cy5sZW5ndGg7dDxyO3QrKyl7Y29uc3Qgcz1lLnBvaW50c1t0XTt0aGlzLnBvaW50cy5wdXNoKG5ldyBFKCkuZnJvbUFycmF5KHMpKX1yZXR1cm4gdGhpcy5jbG9zZWQ9ZS5jbG9zZWQsdGhpcy5jdXJ2ZVR5cGU9ZS5jdXJ2ZVR5cGUsdGhpcy50ZW5zaW9uPWUudGVuc2lvbix0aGlzfX1OYy5wcm90b3R5cGUuaXNDYXRtdWxsUm9tQ3VydmUzPSEwO2Z1bmN0aW9uIERjKGksZSx0LHIscyl7Y29uc3QgYT0oci1lKSouNSxuPShzLXQpKi41LG89aSppLGg9aSpvO3JldHVybigyKnQtMipyK2ErbikqaCsoLTMqdCszKnItMiphLW4pKm8rYSppK3R9ZnVuY3Rpb24gWHkoaSxlKXtjb25zdCB0PTEtaTtyZXR1cm4gdCp0KmV9ZnVuY3Rpb24gSnkoaSxlKXtyZXR1cm4gMiooMS1pKSppKmV9ZnVuY3Rpb24gWXkoaSxlKXtyZXR1cm4gaSppKmV9ZnVuY3Rpb24gRnMoaSxlLHQscil7cmV0dXJuIFh5KGksZSkrSnkoaSx0KStZeShpLHIpfWZ1bmN0aW9uIFp5KGksZSl7Y29uc3QgdD0xLWk7cmV0dXJuIHQqdCp0KmV9ZnVuY3Rpb24gS3koaSxlKXtjb25zdCB0PTEtaTtyZXR1cm4gMyp0KnQqaSplfWZ1bmN0aW9uIFF5KGksZSl7cmV0dXJuIDMqKDEtaSkqaSppKmV9ZnVuY3Rpb24gJHkoaSxlKXtyZXR1cm4gaSppKmkqZX1mdW5jdGlvbiBIcyhpLGUsdCxyLHMpe3JldHVybiBaeShpLGUpK0t5KGksdCkrUXkoaSxyKSskeShpLHMpfWNsYXNzIElvIGV4dGVuZHMgR3R7Y29uc3RydWN0b3IoZT1uZXcgZWUsdD1uZXcgZWUscj1uZXcgZWUscz1uZXcgZWUpe3N1cGVyKCk7dGhpcy50eXBlPSJDdWJpY0JlemllckN1cnZlIix0aGlzLnYwPWUsdGhpcy52MT10LHRoaXMudjI9cix0aGlzLnYzPXN9Z2V0UG9pbnQoZSx0PW5ldyBlZSl7Y29uc3Qgcj10LHM9dGhpcy52MCxhPXRoaXMudjEsbj10aGlzLnYyLG89dGhpcy52MztyZXR1cm4gci5zZXQoSHMoZSxzLngsYS54LG4ueCxvLngpLEhzKGUscy55LGEueSxuLnksby55KSkscn1jb3B5KGUpe3JldHVybiBzdXBlci5jb3B5KGUpLHRoaXMudjAuY29weShlLnYwKSx0aGlzLnYxLmNvcHkoZS52MSksdGhpcy52Mi5jb3B5KGUudjIpLHRoaXMudjMuY29weShlLnYzKSx0aGlzfXRvSlNPTigpe2NvbnN0IGU9c3VwZXIudG9KU09OKCk7cmV0dXJuIGUudjA9dGhpcy52MC50b0FycmF5KCksZS52MT10aGlzLnYxLnRvQXJyYXkoKSxlLnYyPXRoaXMudjIudG9BcnJheSgpLGUudjM9dGhpcy52My50b0FycmF5KCksZX1mcm9tSlNPTihlKXtyZXR1cm4gc3VwZXIuZnJvbUpTT04oZSksdGhpcy52MC5mcm9tQXJyYXkoZS52MCksdGhpcy52MS5mcm9tQXJyYXkoZS52MSksdGhpcy52Mi5mcm9tQXJyYXkoZS52MiksdGhpcy52My5mcm9tQXJyYXkoZS52MyksdGhpc319SW8ucHJvdG90eXBlLmlzQ3ViaWNCZXppZXJDdXJ2ZT0hMDtjbGFzcyBPYyBleHRlbmRzIEd0e2NvbnN0cnVjdG9yKGU9bmV3IEUsdD1uZXcgRSxyPW5ldyBFLHM9bmV3IEUpe3N1cGVyKCk7dGhpcy50eXBlPSJDdWJpY0JlemllckN1cnZlMyIsdGhpcy52MD1lLHRoaXMudjE9dCx0aGlzLnYyPXIsdGhpcy52Mz1zfWdldFBvaW50KGUsdD1uZXcgRSl7Y29uc3Qgcj10LHM9dGhpcy52MCxhPXRoaXMudjEsbj10aGlzLnYyLG89dGhpcy52MztyZXR1cm4gci5zZXQoSHMoZSxzLngsYS54LG4ueCxvLngpLEhzKGUscy55LGEueSxuLnksby55KSxIcyhlLHMueixhLnosbi56LG8ueikpLHJ9Y29weShlKXtyZXR1cm4gc3VwZXIuY29weShlKSx0aGlzLnYwLmNvcHkoZS52MCksdGhpcy52MS5jb3B5KGUudjEpLHRoaXMudjIuY29weShlLnYyKSx0aGlzLnYzLmNvcHkoZS52MyksdGhpc310b0pTT04oKXtjb25zdCBlPXN1cGVyLnRvSlNPTigpO3JldHVybiBlLnYwPXRoaXMudjAudG9BcnJheSgpLGUudjE9dGhpcy52MS50b0FycmF5KCksZS52Mj10aGlzLnYyLnRvQXJyYXkoKSxlLnYzPXRoaXMudjMudG9BcnJheSgpLGV9ZnJvbUpTT04oZSl7cmV0dXJuIHN1cGVyLmZyb21KU09OKGUpLHRoaXMudjAuZnJvbUFycmF5KGUudjApLHRoaXMudjEuZnJvbUFycmF5KGUudjEpLHRoaXMudjIuZnJvbUFycmF5KGUudjIpLHRoaXMudjMuZnJvbUFycmF5KGUudjMpLHRoaXN9fU9jLnByb3RvdHlwZS5pc0N1YmljQmV6aWVyQ3VydmUzPSEwO2NsYXNzIFFhIGV4dGVuZHMgR3R7Y29uc3RydWN0b3IoZT1uZXcgZWUsdD1uZXcgZWUpe3N1cGVyKCk7dGhpcy50eXBlPSJMaW5lQ3VydmUiLHRoaXMudjE9ZSx0aGlzLnYyPXR9Z2V0UG9pbnQoZSx0PW5ldyBlZSl7Y29uc3Qgcj10O3JldHVybiBlPT09MT9yLmNvcHkodGhpcy52Mik6KHIuY29weSh0aGlzLnYyKS5zdWIodGhpcy52MSksci5tdWx0aXBseVNjYWxhcihlKS5hZGQodGhpcy52MSkpLHJ9Z2V0UG9pbnRBdChlLHQpe3JldHVybiB0aGlzLmdldFBvaW50KGUsdCl9Z2V0VGFuZ2VudChlLHQpe2NvbnN0IHI9dHx8bmV3IGVlO3JldHVybiByLmNvcHkodGhpcy52Mikuc3ViKHRoaXMudjEpLm5vcm1hbGl6ZSgpLHJ9Y29weShlKXtyZXR1cm4gc3VwZXIuY29weShlKSx0aGlzLnYxLmNvcHkoZS52MSksdGhpcy52Mi5jb3B5KGUudjIpLHRoaXN9dG9KU09OKCl7Y29uc3QgZT1zdXBlci50b0pTT04oKTtyZXR1cm4gZS52MT10aGlzLnYxLnRvQXJyYXkoKSxlLnYyPXRoaXMudjIudG9BcnJheSgpLGV9ZnJvbUpTT04oZSl7cmV0dXJuIHN1cGVyLmZyb21KU09OKGUpLHRoaXMudjEuZnJvbUFycmF5KGUudjEpLHRoaXMudjIuZnJvbUFycmF5KGUudjIpLHRoaXN9fVFhLnByb3RvdHlwZS5pc0xpbmVDdXJ2ZT0hMDtjbGFzcyBlTSBleHRlbmRzIEd0e2NvbnN0cnVjdG9yKGU9bmV3IEUsdD1uZXcgRSl7c3VwZXIoKTt0aGlzLnR5cGU9IkxpbmVDdXJ2ZTMiLHRoaXMuaXNMaW5lQ3VydmUzPSEwLHRoaXMudjE9ZSx0aGlzLnYyPXR9Z2V0UG9pbnQoZSx0PW5ldyBFKXtjb25zdCByPXQ7cmV0dXJuIGU9PT0xP3IuY29weSh0aGlzLnYyKTooci5jb3B5KHRoaXMudjIpLnN1Yih0aGlzLnYxKSxyLm11bHRpcGx5U2NhbGFyKGUpLmFkZCh0aGlzLnYxKSkscn1nZXRQb2ludEF0KGUsdCl7cmV0dXJuIHRoaXMuZ2V0UG9pbnQoZSx0KX1jb3B5KGUpe3JldHVybiBzdXBlci5jb3B5KGUpLHRoaXMudjEuY29weShlLnYxKSx0aGlzLnYyLmNvcHkoZS52MiksdGhpc310b0pTT04oKXtjb25zdCBlPXN1cGVyLnRvSlNPTigpO3JldHVybiBlLnYxPXRoaXMudjEudG9BcnJheSgpLGUudjI9dGhpcy52Mi50b0FycmF5KCksZX1mcm9tSlNPTihlKXtyZXR1cm4gc3VwZXIuZnJvbUpTT04oZSksdGhpcy52MS5mcm9tQXJyYXkoZS52MSksdGhpcy52Mi5mcm9tQXJyYXkoZS52MiksdGhpc319Y2xhc3MgTm8gZXh0ZW5kcyBHdHtjb25zdHJ1Y3RvcihlPW5ldyBlZSx0PW5ldyBlZSxyPW5ldyBlZSl7c3VwZXIoKTt0aGlzLnR5cGU9IlF1YWRyYXRpY0JlemllckN1cnZlIix0aGlzLnYwPWUsdGhpcy52MT10LHRoaXMudjI9cn1nZXRQb2ludChlLHQ9bmV3IGVlKXtjb25zdCByPXQscz10aGlzLnYwLGE9dGhpcy52MSxuPXRoaXMudjI7cmV0dXJuIHIuc2V0KEZzKGUscy54LGEueCxuLngpLEZzKGUscy55LGEueSxuLnkpKSxyfWNvcHkoZSl7cmV0dXJuIHN1cGVyLmNvcHkoZSksdGhpcy52MC5jb3B5KGUudjApLHRoaXMudjEuY29weShlLnYxKSx0aGlzLnYyLmNvcHkoZS52MiksdGhpc310b0pTT04oKXtjb25zdCBlPXN1cGVyLnRvSlNPTigpO3JldHVybiBlLnYwPXRoaXMudjAudG9BcnJheSgpLGUudjE9dGhpcy52MS50b0FycmF5KCksZS52Mj10aGlzLnYyLnRvQXJyYXkoKSxlfWZyb21KU09OKGUpe3JldHVybiBzdXBlci5mcm9tSlNPTihlKSx0aGlzLnYwLmZyb21BcnJheShlLnYwKSx0aGlzLnYxLmZyb21BcnJheShlLnYxKSx0aGlzLnYyLmZyb21BcnJheShlLnYyKSx0aGlzfX1Oby5wcm90b3R5cGUuaXNRdWFkcmF0aWNCZXppZXJDdXJ2ZT0hMDtjbGFzcyB6YyBleHRlbmRzIEd0e2NvbnN0cnVjdG9yKGU9bmV3IEUsdD1uZXcgRSxyPW5ldyBFKXtzdXBlcigpO3RoaXMudHlwZT0iUXVhZHJhdGljQmV6aWVyQ3VydmUzIix0aGlzLnYwPWUsdGhpcy52MT10LHRoaXMudjI9cn1nZXRQb2ludChlLHQ9bmV3IEUpe2NvbnN0IHI9dCxzPXRoaXMudjAsYT10aGlzLnYxLG49dGhpcy52MjtyZXR1cm4gci5zZXQoRnMoZSxzLngsYS54LG4ueCksRnMoZSxzLnksYS55LG4ueSksRnMoZSxzLnosYS56LG4ueikpLHJ9Y29weShlKXtyZXR1cm4gc3VwZXIuY29weShlKSx0aGlzLnYwLmNvcHkoZS52MCksdGhpcy52MS5jb3B5KGUudjEpLHRoaXMudjIuY29weShlLnYyKSx0aGlzfXRvSlNPTigpe2NvbnN0IGU9c3VwZXIudG9KU09OKCk7cmV0dXJuIGUudjA9dGhpcy52MC50b0FycmF5KCksZS52MT10aGlzLnYxLnRvQXJyYXkoKSxlLnYyPXRoaXMudjIudG9BcnJheSgpLGV9ZnJvbUpTT04oZSl7cmV0dXJuIHN1cGVyLmZyb21KU09OKGUpLHRoaXMudjAuZnJvbUFycmF5KGUudjApLHRoaXMudjEuZnJvbUFycmF5KGUudjEpLHRoaXMudjIuZnJvbUFycmF5KGUudjIpLHRoaXN9fXpjLnByb3RvdHlwZS5pc1F1YWRyYXRpY0JlemllckN1cnZlMz0hMDtjbGFzcyBEbyBleHRlbmRzIEd0e2NvbnN0cnVjdG9yKGU9W10pe3N1cGVyKCk7dGhpcy50eXBlPSJTcGxpbmVDdXJ2ZSIsdGhpcy5wb2ludHM9ZX1nZXRQb2ludChlLHQ9bmV3IGVlKXtjb25zdCByPXQscz10aGlzLnBvaW50cyxhPShzLmxlbmd0aC0xKSplLG49TWF0aC5mbG9vcihhKSxvPWEtbixoPXNbbj09PTA/bjpuLTFdLGw9c1tuXSxjPXNbbj5zLmxlbmd0aC0yP3MubGVuZ3RoLTE6bisxXSx1PXNbbj5zLmxlbmd0aC0zP3MubGVuZ3RoLTE6bisyXTtyZXR1cm4gci5zZXQoRGMobyxoLngsbC54LGMueCx1LngpLERjKG8saC55LGwueSxjLnksdS55KSkscn1jb3B5KGUpe3N1cGVyLmNvcHkoZSksdGhpcy5wb2ludHM9W107Zm9yKGxldCB0PTAscj1lLnBvaW50cy5sZW5ndGg7dDxyO3QrKyl7Y29uc3Qgcz1lLnBvaW50c1t0XTt0aGlzLnBvaW50cy5wdXNoKHMuY2xvbmUoKSl9cmV0dXJuIHRoaXN9dG9KU09OKCl7Y29uc3QgZT1zdXBlci50b0pTT04oKTtlLnBvaW50cz1bXTtmb3IobGV0IHQ9MCxyPXRoaXMucG9pbnRzLmxlbmd0aDt0PHI7dCsrKXtjb25zdCBzPXRoaXMucG9pbnRzW3RdO2UucG9pbnRzLnB1c2gocy50b0FycmF5KCkpfXJldHVybiBlfWZyb21KU09OKGUpe3N1cGVyLmZyb21KU09OKGUpLHRoaXMucG9pbnRzPVtdO2ZvcihsZXQgdD0wLHI9ZS5wb2ludHMubGVuZ3RoO3Q8cjt0Kyspe2NvbnN0IHM9ZS5wb2ludHNbdF07dGhpcy5wb2ludHMucHVzaChuZXcgZWUoKS5mcm9tQXJyYXkocykpfXJldHVybiB0aGlzfX1Eby5wcm90b3R5cGUuaXNTcGxpbmVDdXJ2ZT0hMDt2YXIgQmM9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsQXJjQ3VydmU6SWMsQ2F0bXVsbFJvbUN1cnZlMzpOYyxDdWJpY0JlemllckN1cnZlOklvLEN1YmljQmV6aWVyQ3VydmUzOk9jLEVsbGlwc2VDdXJ2ZTpaYSxMaW5lQ3VydmU6UWEsTGluZUN1cnZlMzplTSxRdWFkcmF0aWNCZXppZXJDdXJ2ZTpObyxRdWFkcmF0aWNCZXppZXJDdXJ2ZTM6emMsU3BsaW5lQ3VydmU6RG99KTtjbGFzcyB0TSBleHRlbmRzIEd0e2NvbnN0cnVjdG9yKCl7c3VwZXIoKTt0aGlzLnR5cGU9IkN1cnZlUGF0aCIsdGhpcy5jdXJ2ZXM9W10sdGhpcy5hdXRvQ2xvc2U9ITF9YWRkKGUpe3RoaXMuY3VydmVzLnB1c2goZSl9Y2xvc2VQYXRoKCl7Y29uc3QgZT10aGlzLmN1cnZlc1swXS5nZXRQb2ludCgwKSx0PXRoaXMuY3VydmVzW3RoaXMuY3VydmVzLmxlbmd0aC0xXS5nZXRQb2ludCgxKTtlLmVxdWFscyh0KXx8dGhpcy5jdXJ2ZXMucHVzaChuZXcgUWEodCxlKSl9Z2V0UG9pbnQoZSx0KXtjb25zdCByPWUqdGhpcy5nZXRMZW5ndGgoKSxzPXRoaXMuZ2V0Q3VydmVMZW5ndGhzKCk7bGV0IGE9MDtmb3IoO2E8cy5sZW5ndGg7KXtpZihzW2FdPj1yKXtjb25zdCBuPXNbYV0tcixvPXRoaXMuY3VydmVzW2FdLGg9by5nZXRMZW5ndGgoKSxsPWg9PT0wPzA6MS1uL2g7cmV0dXJuIG8uZ2V0UG9pbnRBdChsLHQpfWErK31yZXR1cm4gbnVsbH1nZXRMZW5ndGgoKXtjb25zdCBlPXRoaXMuZ2V0Q3VydmVMZW5ndGhzKCk7cmV0dXJuIGVbZS5sZW5ndGgtMV19dXBkYXRlQXJjTGVuZ3Rocygpe3RoaXMubmVlZHNVcGRhdGU9ITAsdGhpcy5jYWNoZUxlbmd0aHM9bnVsbCx0aGlzLmdldEN1cnZlTGVuZ3RocygpfWdldEN1cnZlTGVuZ3Rocygpe2lmKHRoaXMuY2FjaGVMZW5ndGhzJiZ0aGlzLmNhY2hlTGVuZ3Rocy5sZW5ndGg9PT10aGlzLmN1cnZlcy5sZW5ndGgpcmV0dXJuIHRoaXMuY2FjaGVMZW5ndGhzO2NvbnN0IGU9W107bGV0IHQ9MDtmb3IobGV0IHI9MCxzPXRoaXMuY3VydmVzLmxlbmd0aDtyPHM7cisrKXQrPXRoaXMuY3VydmVzW3JdLmdldExlbmd0aCgpLGUucHVzaCh0KTtyZXR1cm4gdGhpcy5jYWNoZUxlbmd0aHM9ZSxlfWdldFNwYWNlZFBvaW50cyhlPTQwKXtjb25zdCB0PVtdO2ZvcihsZXQgcj0wO3I8PWU7cisrKXQucHVzaCh0aGlzLmdldFBvaW50KHIvZSkpO3JldHVybiB0aGlzLmF1dG9DbG9zZSYmdC5wdXNoKHRbMF0pLHR9Z2V0UG9pbnRzKGU9MTIpe2NvbnN0IHQ9W107bGV0IHI7Zm9yKGxldCBzPTAsYT10aGlzLmN1cnZlcztzPGEubGVuZ3RoO3MrKyl7Y29uc3Qgbj1hW3NdLG89bi5pc0VsbGlwc2VDdXJ2ZT9lKjI6bi5pc0xpbmVDdXJ2ZXx8bi5pc0xpbmVDdXJ2ZTM/MTpuLmlzU3BsaW5lQ3VydmU/ZSpuLnBvaW50cy5sZW5ndGg6ZSxoPW4uZ2V0UG9pbnRzKG8pO2ZvcihsZXQgbD0wO2w8aC5sZW5ndGg7bCsrKXtjb25zdCBjPWhbbF07ciYmci5lcXVhbHMoYyl8fCh0LnB1c2goYykscj1jKX19cmV0dXJuIHRoaXMuYXV0b0Nsb3NlJiZ0Lmxlbmd0aD4xJiYhdFt0Lmxlbmd0aC0xXS5lcXVhbHModFswXSkmJnQucHVzaCh0WzBdKSx0fWNvcHkoZSl7c3VwZXIuY29weShlKSx0aGlzLmN1cnZlcz1bXTtmb3IobGV0IHQ9MCxyPWUuY3VydmVzLmxlbmd0aDt0PHI7dCsrKXtjb25zdCBzPWUuY3VydmVzW3RdO3RoaXMuY3VydmVzLnB1c2gocy5jbG9uZSgpKX1yZXR1cm4gdGhpcy5hdXRvQ2xvc2U9ZS5hdXRvQ2xvc2UsdGhpc310b0pTT04oKXtjb25zdCBlPXN1cGVyLnRvSlNPTigpO2UuYXV0b0Nsb3NlPXRoaXMuYXV0b0Nsb3NlLGUuY3VydmVzPVtdO2ZvcihsZXQgdD0wLHI9dGhpcy5jdXJ2ZXMubGVuZ3RoO3Q8cjt0Kyspe2NvbnN0IHM9dGhpcy5jdXJ2ZXNbdF07ZS5jdXJ2ZXMucHVzaChzLnRvSlNPTigpKX1yZXR1cm4gZX1mcm9tSlNPTihlKXtzdXBlci5mcm9tSlNPTihlKSx0aGlzLmF1dG9DbG9zZT1lLmF1dG9DbG9zZSx0aGlzLmN1cnZlcz1bXTtmb3IobGV0IHQ9MCxyPWUuY3VydmVzLmxlbmd0aDt0PHI7dCsrKXtjb25zdCBzPWUuY3VydmVzW3RdO3RoaXMuY3VydmVzLnB1c2gobmV3IEJjW3MudHlwZV0oKS5mcm9tSlNPTihzKSl9cmV0dXJuIHRoaXN9fWNsYXNzIE9vIGV4dGVuZHMgdE17Y29uc3RydWN0b3IoZSl7c3VwZXIoKTt0aGlzLnR5cGU9IlBhdGgiLHRoaXMuY3VycmVudFBvaW50PW5ldyBlZSxlJiZ0aGlzLnNldEZyb21Qb2ludHMoZSl9c2V0RnJvbVBvaW50cyhlKXt0aGlzLm1vdmVUbyhlWzBdLngsZVswXS55KTtmb3IobGV0IHQ9MSxyPWUubGVuZ3RoO3Q8cjt0KyspdGhpcy5saW5lVG8oZVt0XS54LGVbdF0ueSk7cmV0dXJuIHRoaXN9bW92ZVRvKGUsdCl7cmV0dXJuIHRoaXMuY3VycmVudFBvaW50LnNldChlLHQpLHRoaXN9bGluZVRvKGUsdCl7Y29uc3Qgcj1uZXcgUWEodGhpcy5jdXJyZW50UG9pbnQuY2xvbmUoKSxuZXcgZWUoZSx0KSk7cmV0dXJuIHRoaXMuY3VydmVzLnB1c2gociksdGhpcy5jdXJyZW50UG9pbnQuc2V0KGUsdCksdGhpc31xdWFkcmF0aWNDdXJ2ZVRvKGUsdCxyLHMpe2NvbnN0IGE9bmV3IE5vKHRoaXMuY3VycmVudFBvaW50LmNsb25lKCksbmV3IGVlKGUsdCksbmV3IGVlKHIscykpO3JldHVybiB0aGlzLmN1cnZlcy5wdXNoKGEpLHRoaXMuY3VycmVudFBvaW50LnNldChyLHMpLHRoaXN9YmV6aWVyQ3VydmVUbyhlLHQscixzLGEsbil7Y29uc3Qgbz1uZXcgSW8odGhpcy5jdXJyZW50UG9pbnQuY2xvbmUoKSxuZXcgZWUoZSx0KSxuZXcgZWUocixzKSxuZXcgZWUoYSxuKSk7cmV0dXJuIHRoaXMuY3VydmVzLnB1c2gobyksdGhpcy5jdXJyZW50UG9pbnQuc2V0KGEsbiksdGhpc31zcGxpbmVUaHJ1KGUpe2NvbnN0IHQ9W3RoaXMuY3VycmVudFBvaW50LmNsb25lKCldLmNvbmNhdChlKSxyPW5ldyBEbyh0KTtyZXR1cm4gdGhpcy5jdXJ2ZXMucHVzaChyKSx0aGlzLmN1cnJlbnRQb2ludC5jb3B5KGVbZS5sZW5ndGgtMV0pLHRoaXN9YXJjKGUsdCxyLHMsYSxuKXtjb25zdCBvPXRoaXMuY3VycmVudFBvaW50LngsaD10aGlzLmN1cnJlbnRQb2ludC55O3JldHVybiB0aGlzLmFic2FyYyhlK28sdCtoLHIscyxhLG4pLHRoaXN9YWJzYXJjKGUsdCxyLHMsYSxuKXtyZXR1cm4gdGhpcy5hYnNlbGxpcHNlKGUsdCxyLHIscyxhLG4pLHRoaXN9ZWxsaXBzZShlLHQscixzLGEsbixvLGgpe2NvbnN0IGw9dGhpcy5jdXJyZW50UG9pbnQueCxjPXRoaXMuY3VycmVudFBvaW50Lnk7cmV0dXJuIHRoaXMuYWJzZWxsaXBzZShlK2wsdCtjLHIscyxhLG4sbyxoKSx0aGlzfWFic2VsbGlwc2UoZSx0LHIscyxhLG4sbyxoKXtjb25zdCBsPW5ldyBaYShlLHQscixzLGEsbixvLGgpO2lmKHRoaXMuY3VydmVzLmxlbmd0aD4wKXtjb25zdCB1PWwuZ2V0UG9pbnQoMCk7dS5lcXVhbHModGhpcy5jdXJyZW50UG9pbnQpfHx0aGlzLmxpbmVUbyh1LngsdS55KX10aGlzLmN1cnZlcy5wdXNoKGwpO2NvbnN0IGM9bC5nZXRQb2ludCgxKTtyZXR1cm4gdGhpcy5jdXJyZW50UG9pbnQuY29weShjKSx0aGlzfWNvcHkoZSl7cmV0dXJuIHN1cGVyLmNvcHkoZSksdGhpcy5jdXJyZW50UG9pbnQuY29weShlLmN1cnJlbnRQb2ludCksdGhpc310b0pTT04oKXtjb25zdCBlPXN1cGVyLnRvSlNPTigpO3JldHVybiBlLmN1cnJlbnRQb2ludD10aGlzLmN1cnJlbnRQb2ludC50b0FycmF5KCksZX1mcm9tSlNPTihlKXtyZXR1cm4gc3VwZXIuZnJvbUpTT04oZSksdGhpcy5jdXJyZW50UG9pbnQuZnJvbUFycmF5KGUuY3VycmVudFBvaW50KSx0aGlzfX1uZXcgRSxuZXcgRSxuZXcgRSxuZXcgYXQ7Y2xhc3Mga3MgZXh0ZW5kcyBPb3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlKTt0aGlzLnV1aWQ9c2koKSx0aGlzLnR5cGU9IlNoYXBlIix0aGlzLmhvbGVzPVtdfWdldFBvaW50c0hvbGVzKGUpe2NvbnN0IHQ9W107Zm9yKGxldCByPTAscz10aGlzLmhvbGVzLmxlbmd0aDtyPHM7cisrKXRbcl09dGhpcy5ob2xlc1tyXS5nZXRQb2ludHMoZSk7cmV0dXJuIHR9ZXh0cmFjdFBvaW50cyhlKXtyZXR1cm57c2hhcGU6dGhpcy5nZXRQb2ludHMoZSksaG9sZXM6dGhpcy5nZXRQb2ludHNIb2xlcyhlKX19Y29weShlKXtzdXBlci5jb3B5KGUpLHRoaXMuaG9sZXM9W107Zm9yKGxldCB0PTAscj1lLmhvbGVzLmxlbmd0aDt0PHI7dCsrKXtjb25zdCBzPWUuaG9sZXNbdF07dGhpcy5ob2xlcy5wdXNoKHMuY2xvbmUoKSl9cmV0dXJuIHRoaXN9dG9KU09OKCl7Y29uc3QgZT1zdXBlci50b0pTT04oKTtlLnV1aWQ9dGhpcy51dWlkLGUuaG9sZXM9W107Zm9yKGxldCB0PTAscj10aGlzLmhvbGVzLmxlbmd0aDt0PHI7dCsrKXtjb25zdCBzPXRoaXMuaG9sZXNbdF07ZS5ob2xlcy5wdXNoKHMudG9KU09OKCkpfXJldHVybiBlfWZyb21KU09OKGUpe3N1cGVyLmZyb21KU09OKGUpLHRoaXMudXVpZD1lLnV1aWQsdGhpcy5ob2xlcz1bXTtmb3IobGV0IHQ9MCxyPWUuaG9sZXMubGVuZ3RoO3Q8cjt0Kyspe2NvbnN0IHM9ZS5ob2xlc1t0XTt0aGlzLmhvbGVzLnB1c2gobmV3IE9vKCkuZnJvbUpTT04ocykpfXJldHVybiB0aGlzfX1jb25zdCBpTT17dHJpYW5ndWxhdGU6ZnVuY3Rpb24oaSxlLHQ9Mil7Y29uc3Qgcj1lJiZlLmxlbmd0aCxzPXI/ZVswXSp0OmkubGVuZ3RoO2xldCBhPVVjKGksMCxzLHQsITApO2NvbnN0IG49W107aWYoIWF8fGEubmV4dD09PWEucHJldilyZXR1cm4gbjtsZXQgbyxoLGwsYyx1LGQscDtpZihyJiYoYT1vTShpLGUsYSx0KSksaS5sZW5ndGg+ODAqdCl7bz1sPWlbMF0saD1jPWlbMV07Zm9yKGxldCBnPXQ7ZzxzO2crPXQpdT1pW2ddLGQ9aVtnKzFdLHU8byYmKG89dSksZDxoJiYoaD1kKSx1PmwmJihsPXUpLGQ+YyYmKGM9ZCk7cD1NYXRoLm1heChsLW8sYy1oKSxwPXAhPT0wPzEvcDowfXJldHVybiBHcyhhLG4sdCxvLGgscCksbn19O2Z1bmN0aW9uIFVjKGksZSx0LHIscyl7bGV0IGEsbjtpZihzPT09eE0oaSxlLHQscik+MClmb3IoYT1lO2E8dDthKz1yKW49a2MoYSxpW2FdLGlbYSsxXSxuKTtlbHNlIGZvcihhPXQtcjthPj1lO2EtPXIpbj1rYyhhLGlbYV0saVthKzFdLG4pO3JldHVybiBuJiYkYShuLG4ubmV4dCkmJihXcyhuKSxuPW4ubmV4dCksbn1mdW5jdGlvbiBraShpLGUpe2lmKCFpKXJldHVybiBpO2V8fChlPWkpO2xldCB0PWkscjtkbyBpZihyPSExLCF0LnN0ZWluZXImJigkYSh0LHQubmV4dCl8fGl0KHQucHJldix0LHQubmV4dCk9PT0wKSl7aWYoV3ModCksdD1lPXQucHJldix0PT09dC5uZXh0KWJyZWFrO3I9ITB9ZWxzZSB0PXQubmV4dDt3aGlsZShyfHx0IT09ZSk7cmV0dXJuIGV9ZnVuY3Rpb24gR3MoaSxlLHQscixzLGEsbil7aWYoIWkpcmV0dXJuOyFuJiZhJiZkTShpLHIscyxhKTtsZXQgbz1pLGgsbDtmb3IoO2kucHJldiE9PWkubmV4dDspe2lmKGg9aS5wcmV2LGw9aS5uZXh0LGE/c00oaSxyLHMsYSk6ck0oaSkpe2UucHVzaChoLmkvdCksZS5wdXNoKGkuaS90KSxlLnB1c2gobC5pL3QpLFdzKGkpLGk9bC5uZXh0LG89bC5uZXh0O2NvbnRpbnVlfWlmKGk9bCxpPT09byl7bj9uPT09MT8oaT1hTShraShpKSxlLHQpLEdzKGksZSx0LHIscyxhLDIpKTpuPT09MiYmbk0oaSxlLHQscixzLGEpOkdzKGtpKGkpLGUsdCxyLHMsYSwxKTticmVha319fWZ1bmN0aW9uIHJNKGkpe2NvbnN0IGU9aS5wcmV2LHQ9aSxyPWkubmV4dDtpZihpdChlLHQscik+PTApcmV0dXJuITE7bGV0IHM9aS5uZXh0Lm5leHQ7Zm9yKDtzIT09aS5wcmV2Oyl7aWYoZXMoZS54LGUueSx0LngsdC55LHIueCxyLnkscy54LHMueSkmJml0KHMucHJldixzLHMubmV4dCk+PTApcmV0dXJuITE7cz1zLm5leHR9cmV0dXJuITB9ZnVuY3Rpb24gc00oaSxlLHQscil7Y29uc3Qgcz1pLnByZXYsYT1pLG49aS5uZXh0O2lmKGl0KHMsYSxuKT49MClyZXR1cm4hMTtjb25zdCBvPXMueDxhLng/cy54PG4ueD9zLng6bi54OmEueDxuLng/YS54Om4ueCxoPXMueTxhLnk/cy55PG4ueT9zLnk6bi55OmEueTxuLnk/YS55Om4ueSxsPXMueD5hLng/cy54Pm4ueD9zLng6bi54OmEueD5uLng/YS54Om4ueCxjPXMueT5hLnk/cy55Pm4ueT9zLnk6bi55OmEueT5uLnk/YS55Om4ueSx1PXpvKG8saCxlLHQsciksZD16byhsLGMsZSx0LHIpO2xldCBwPWkucHJldlosZz1pLm5leHRaO2Zvcig7cCYmcC56Pj11JiZnJiZnLno8PWQ7KXtpZihwIT09aS5wcmV2JiZwIT09aS5uZXh0JiZlcyhzLngscy55LGEueCxhLnksbi54LG4ueSxwLngscC55KSYmaXQocC5wcmV2LHAscC5uZXh0KT49MHx8KHA9cC5wcmV2WixnIT09aS5wcmV2JiZnIT09aS5uZXh0JiZlcyhzLngscy55LGEueCxhLnksbi54LG4ueSxnLngsZy55KSYmaXQoZy5wcmV2LGcsZy5uZXh0KT49MCkpcmV0dXJuITE7Zz1nLm5leHRafWZvcig7cCYmcC56Pj11Oyl7aWYocCE9PWkucHJldiYmcCE9PWkubmV4dCYmZXMocy54LHMueSxhLngsYS55LG4ueCxuLnkscC54LHAueSkmJml0KHAucHJldixwLHAubmV4dCk+PTApcmV0dXJuITE7cD1wLnByZXZafWZvcig7ZyYmZy56PD1kOyl7aWYoZyE9PWkucHJldiYmZyE9PWkubmV4dCYmZXMocy54LHMueSxhLngsYS55LG4ueCxuLnksZy54LGcueSkmJml0KGcucHJldixnLGcubmV4dCk+PTApcmV0dXJuITE7Zz1nLm5leHRafXJldHVybiEwfWZ1bmN0aW9uIGFNKGksZSx0KXtsZXQgcj1pO2Rve2NvbnN0IHM9ci5wcmV2LGE9ci5uZXh0Lm5leHQ7ISRhKHMsYSkmJkZjKHMscixyLm5leHQsYSkmJlZzKHMsYSkmJlZzKGEscykmJihlLnB1c2gocy5pL3QpLGUucHVzaChyLmkvdCksZS5wdXNoKGEuaS90KSxXcyhyKSxXcyhyLm5leHQpLHI9aT1hKSxyPXIubmV4dH13aGlsZShyIT09aSk7cmV0dXJuIGtpKHIpfWZ1bmN0aW9uIG5NKGksZSx0LHIscyxhKXtsZXQgbj1pO2Rve2xldCBvPW4ubmV4dC5uZXh0O2Zvcig7byE9PW4ucHJldjspe2lmKG4uaSE9PW8uaSYmbU0obixvKSl7bGV0IGg9SGMobixvKTtuPWtpKG4sbi5uZXh0KSxoPWtpKGgsaC5uZXh0KSxHcyhuLGUsdCxyLHMsYSksR3MoaCxlLHQscixzLGEpO3JldHVybn1vPW8ubmV4dH1uPW4ubmV4dH13aGlsZShuIT09aSl9ZnVuY3Rpb24gb00oaSxlLHQscil7Y29uc3Qgcz1bXTtsZXQgYSxuLG8saCxsO2ZvcihhPTAsbj1lLmxlbmd0aDthPG47YSsrKW89ZVthXSpyLGg9YTxuLTE/ZVthKzFdKnI6aS5sZW5ndGgsbD1VYyhpLG8saCxyLCExKSxsPT09bC5uZXh0JiYobC5zdGVpbmVyPSEwKSxzLnB1c2goZk0obCkpO2ZvcihzLnNvcnQoaE0pLGE9MDthPHMubGVuZ3RoO2ErKylsTShzW2FdLHQpLHQ9a2kodCx0Lm5leHQpO3JldHVybiB0fWZ1bmN0aW9uIGhNKGksZSl7cmV0dXJuIGkueC1lLnh9ZnVuY3Rpb24gbE0oaSxlKXtpZihlPWNNKGksZSksZSl7Y29uc3QgdD1IYyhlLGkpO2tpKGUsZS5uZXh0KSxraSh0LHQubmV4dCl9fWZ1bmN0aW9uIGNNKGksZSl7bGV0IHQ9ZTtjb25zdCByPWkueCxzPWkueTtsZXQgYT0tMS8wLG47ZG97aWYoczw9dC55JiZzPj10Lm5leHQueSYmdC5uZXh0LnkhPT10Lnkpe2NvbnN0IGQ9dC54KyhzLXQueSkqKHQubmV4dC54LXQueCkvKHQubmV4dC55LXQueSk7aWYoZDw9ciYmZD5hKXtpZihhPWQsZD09PXIpe2lmKHM9PT10LnkpcmV0dXJuIHQ7aWYocz09PXQubmV4dC55KXJldHVybiB0Lm5leHR9bj10Lng8dC5uZXh0Lng/dDp0Lm5leHR9fXQ9dC5uZXh0fXdoaWxlKHQhPT1lKTtpZighbilyZXR1cm4gbnVsbDtpZihyPT09YSlyZXR1cm4gbjtjb25zdCBvPW4saD1uLngsbD1uLnk7bGV0IGM9MS8wLHU7dD1uO2RvIHI+PXQueCYmdC54Pj1oJiZyIT09dC54JiZlcyhzPGw/cjphLHMsaCxsLHM8bD9hOnIscyx0LngsdC55KSYmKHU9TWF0aC5hYnMocy10LnkpLyhyLXQueCksVnModCxpKSYmKHU8Y3x8dT09PWMmJih0Lng+bi54fHx0Lng9PT1uLngmJnVNKG4sdCkpKSYmKG49dCxjPXUpKSx0PXQubmV4dDt3aGlsZSh0IT09byk7cmV0dXJuIG59ZnVuY3Rpb24gdU0oaSxlKXtyZXR1cm4gaXQoaS5wcmV2LGksZS5wcmV2KTwwJiZpdChlLm5leHQsaSxpLm5leHQpPDB9ZnVuY3Rpb24gZE0oaSxlLHQscil7bGV0IHM9aTtkbyBzLno9PT1udWxsJiYocy56PXpvKHMueCxzLnksZSx0LHIpKSxzLnByZXZaPXMucHJldixzLm5leHRaPXMubmV4dCxzPXMubmV4dDt3aGlsZShzIT09aSk7cy5wcmV2Wi5uZXh0Wj1udWxsLHMucHJldlo9bnVsbCxwTShzKX1mdW5jdGlvbiBwTShpKXtsZXQgZSx0LHIscyxhLG4sbyxoLGw9MTtkb3tmb3IodD1pLGk9bnVsbCxhPW51bGwsbj0wO3Q7KXtmb3IobisrLHI9dCxvPTAsZT0wO2U8bCYmKG8rKyxyPXIubmV4dFosISFyKTtlKyspO2ZvcihoPWw7bz4wfHxoPjAmJnI7KW8hPT0wJiYoaD09PTB8fCFyfHx0Lno8PXIueik/KHM9dCx0PXQubmV4dFosby0tKToocz1yLHI9ci5uZXh0WixoLS0pLGE/YS5uZXh0Wj1zOmk9cyxzLnByZXZaPWEsYT1zO3Q9cn1hLm5leHRaPW51bGwsbCo9Mn13aGlsZShuPjEpO3JldHVybiBpfWZ1bmN0aW9uIHpvKGksZSx0LHIscyl7cmV0dXJuIGk9MzI3NjcqKGktdCkqcyxlPTMyNzY3KihlLXIpKnMsaT0oaXxpPDw4KSYxNjcxMTkzNSxpPShpfGk8PDQpJjI1MjY0NTEzNSxpPShpfGk8PDIpJjg1ODk5MzQ1OSxpPShpfGk8PDEpJjE0MzE2NTU3NjUsZT0oZXxlPDw4KSYxNjcxMTkzNSxlPShlfGU8PDQpJjI1MjY0NTEzNSxlPShlfGU8PDIpJjg1ODk5MzQ1OSxlPShlfGU8PDEpJjE0MzE2NTU3NjUsaXxlPDwxfWZ1bmN0aW9uIGZNKGkpe2xldCBlPWksdD1pO2RvKGUueDx0Lnh8fGUueD09PXQueCYmZS55PHQueSkmJih0PWUpLGU9ZS5uZXh0O3doaWxlKGUhPT1pKTtyZXR1cm4gdH1mdW5jdGlvbiBlcyhpLGUsdCxyLHMsYSxuLG8pe3JldHVybihzLW4pKihlLW8pLShpLW4pKihhLW8pPj0wJiYoaS1uKSooci1vKS0odC1uKSooZS1vKT49MCYmKHQtbikqKGEtbyktKHMtbikqKHItbyk+PTB9ZnVuY3Rpb24gbU0oaSxlKXtyZXR1cm4gaS5uZXh0LmkhPT1lLmkmJmkucHJldi5pIT09ZS5pJiYhZ00oaSxlKSYmKFZzKGksZSkmJlZzKGUsaSkmJnZNKGksZSkmJihpdChpLnByZXYsaSxlLnByZXYpfHxpdChpLGUucHJldixlKSl8fCRhKGksZSkmJml0KGkucHJldixpLGkubmV4dCk+MCYmaXQoZS5wcmV2LGUsZS5uZXh0KT4wKX1mdW5jdGlvbiBpdChpLGUsdCl7cmV0dXJuKGUueS1pLnkpKih0LngtZS54KS0oZS54LWkueCkqKHQueS1lLnkpfWZ1bmN0aW9uICRhKGksZSl7cmV0dXJuIGkueD09PWUueCYmaS55PT09ZS55fWZ1bmN0aW9uIEZjKGksZSx0LHIpe2NvbnN0IHM9dG4oaXQoaSxlLHQpKSxhPXRuKGl0KGksZSxyKSksbj10bihpdCh0LHIsaSkpLG89dG4oaXQodCxyLGUpKTtyZXR1cm4hIShzIT09YSYmbiE9PW98fHM9PT0wJiZlbihpLHQsZSl8fGE9PT0wJiZlbihpLHIsZSl8fG49PT0wJiZlbih0LGkscil8fG89PT0wJiZlbih0LGUscikpfWZ1bmN0aW9uIGVuKGksZSx0KXtyZXR1cm4gZS54PD1NYXRoLm1heChpLngsdC54KSYmZS54Pj1NYXRoLm1pbihpLngsdC54KSYmZS55PD1NYXRoLm1heChpLnksdC55KSYmZS55Pj1NYXRoLm1pbihpLnksdC55KX1mdW5jdGlvbiB0bihpKXtyZXR1cm4gaT4wPzE6aTwwPy0xOjB9ZnVuY3Rpb24gZ00oaSxlKXtsZXQgdD1pO2Rve2lmKHQuaSE9PWkuaSYmdC5uZXh0LmkhPT1pLmkmJnQuaSE9PWUuaSYmdC5uZXh0LmkhPT1lLmkmJkZjKHQsdC5uZXh0LGksZSkpcmV0dXJuITA7dD10Lm5leHR9d2hpbGUodCE9PWkpO3JldHVybiExfWZ1bmN0aW9uIFZzKGksZSl7cmV0dXJuIGl0KGkucHJldixpLGkubmV4dCk8MD9pdChpLGUsaS5uZXh0KT49MCYmaXQoaSxpLnByZXYsZSk+PTA6aXQoaSxlLGkucHJldik8MHx8aXQoaSxpLm5leHQsZSk8MH1mdW5jdGlvbiB2TShpLGUpe2xldCB0PWkscj0hMTtjb25zdCBzPShpLngrZS54KS8yLGE9KGkueStlLnkpLzI7ZG8gdC55PmEhPXQubmV4dC55PmEmJnQubmV4dC55IT09dC55JiZzPCh0Lm5leHQueC10LngpKihhLXQueSkvKHQubmV4dC55LXQueSkrdC54JiYocj0hciksdD10Lm5leHQ7d2hpbGUodCE9PWkpO3JldHVybiByfWZ1bmN0aW9uIEhjKGksZSl7Y29uc3QgdD1uZXcgQm8oaS5pLGkueCxpLnkpLHI9bmV3IEJvKGUuaSxlLngsZS55KSxzPWkubmV4dCxhPWUucHJldjtyZXR1cm4gaS5uZXh0PWUsZS5wcmV2PWksdC5uZXh0PXMscy5wcmV2PXQsci5uZXh0PXQsdC5wcmV2PXIsYS5uZXh0PXIsci5wcmV2PWEscn1mdW5jdGlvbiBrYyhpLGUsdCxyKXtjb25zdCBzPW5ldyBCbyhpLGUsdCk7cmV0dXJuIHI/KHMubmV4dD1yLm5leHQscy5wcmV2PXIsci5uZXh0LnByZXY9cyxyLm5leHQ9cyk6KHMucHJldj1zLHMubmV4dD1zKSxzfWZ1bmN0aW9uIFdzKGkpe2kubmV4dC5wcmV2PWkucHJldixpLnByZXYubmV4dD1pLm5leHQsaS5wcmV2WiYmKGkucHJldloubmV4dFo9aS5uZXh0WiksaS5uZXh0WiYmKGkubmV4dFoucHJldlo9aS5wcmV2Wil9ZnVuY3Rpb24gQm8oaSxlLHQpe3RoaXMuaT1pLHRoaXMueD1lLHRoaXMueT10LHRoaXMucHJldj1udWxsLHRoaXMubmV4dD1udWxsLHRoaXMuej1udWxsLHRoaXMucHJldlo9bnVsbCx0aGlzLm5leHRaPW51bGwsdGhpcy5zdGVpbmVyPSExfWZ1bmN0aW9uIHhNKGksZSx0LHIpe2xldCBzPTA7Zm9yKGxldCBhPWUsbj10LXI7YTx0O2ErPXIpcys9KGlbbl0taVthXSkqKGlbYSsxXStpW24rMV0pLG49YTtyZXR1cm4gc31jbGFzcyBHaXtzdGF0aWMgYXJlYShlKXtjb25zdCB0PWUubGVuZ3RoO2xldCByPTA7Zm9yKGxldCBzPXQtMSxhPTA7YTx0O3M9YSsrKXIrPWVbc10ueCplW2FdLnktZVthXS54KmVbc10ueTtyZXR1cm4gciouNX1zdGF0aWMgaXNDbG9ja1dpc2UoZSl7cmV0dXJuIEdpLmFyZWEoZSk8MH1zdGF0aWMgdHJpYW5ndWxhdGVTaGFwZShlLHQpe2NvbnN0IHI9W10scz1bXSxhPVtdO0djKGUpLFZjKHIsZSk7bGV0IG49ZS5sZW5ndGg7dC5mb3JFYWNoKEdjKTtmb3IobGV0IGg9MDtoPHQubGVuZ3RoO2grKylzLnB1c2gobiksbis9dFtoXS5sZW5ndGgsVmMocix0W2hdKTtjb25zdCBvPWlNLnRyaWFuZ3VsYXRlKHIscyk7Zm9yKGxldCBoPTA7aDxvLmxlbmd0aDtoKz0zKWEucHVzaChvLnNsaWNlKGgsaCszKSk7cmV0dXJuIGF9fWZ1bmN0aW9uIEdjKGkpe2NvbnN0IGU9aS5sZW5ndGg7ZT4yJiZpW2UtMV0uZXF1YWxzKGlbMF0pJiZpLnBvcCgpfWZ1bmN0aW9uIFZjKGksZSl7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0KyspaS5wdXNoKGVbdF0ueCksaS5wdXNoKGVbdF0ueSl9Y2xhc3MgdHMgZXh0ZW5kcyAkZXtjb25zdHJ1Y3RvcihlPW5ldyBrcyhbbmV3IGVlKC41LC41KSxuZXcgZWUoLS41LC41KSxuZXcgZWUoLS41LC0uNSksbmV3IGVlKC41LC0uNSldKSx0PXt9KXtzdXBlcigpO3RoaXMudHlwZT0iRXh0cnVkZUdlb21ldHJ5Iix0aGlzLnBhcmFtZXRlcnM9e3NoYXBlczplLG9wdGlvbnM6dH0sZT1BcnJheS5pc0FycmF5KGUpP2U6W2VdO2NvbnN0IHI9dGhpcyxzPVtdLGE9W107Zm9yKGxldCBvPTAsaD1lLmxlbmd0aDtvPGg7bysrKXtjb25zdCBsPWVbb107bihsKX10aGlzLnNldEF0dHJpYnV0ZSgicG9zaXRpb24iLG5ldyBwdChzLDMpKSx0aGlzLnNldEF0dHJpYnV0ZSgidXYiLG5ldyBwdChhLDIpKSx0aGlzLmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKCk7ZnVuY3Rpb24gbihvKXtjb25zdCBoPVtdLGw9dC5jdXJ2ZVNlZ21lbnRzIT09dm9pZCAwP3QuY3VydmVTZWdtZW50czoxMixjPXQuc3RlcHMhPT12b2lkIDA/dC5zdGVwczoxO2xldCB1PXQuZGVwdGghPT12b2lkIDA/dC5kZXB0aDoxLGQ9dC5iZXZlbEVuYWJsZWQhPT12b2lkIDA/dC5iZXZlbEVuYWJsZWQ6ITAscD10LmJldmVsVGhpY2tuZXNzIT09dm9pZCAwP3QuYmV2ZWxUaGlja25lc3M6LjIsZz10LmJldmVsU2l6ZSE9PXZvaWQgMD90LmJldmVsU2l6ZTpwLS4xLGY9dC5iZXZlbE9mZnNldCE9PXZvaWQgMD90LmJldmVsT2Zmc2V0OjAsbT10LmJldmVsU2VnbWVudHMhPT12b2lkIDA/dC5iZXZlbFNlZ21lbnRzOjM7Y29uc3Qgdj10LmV4dHJ1ZGVQYXRoLHk9dC5VVkdlbmVyYXRvciE9PXZvaWQgMD90LlVWR2VuZXJhdG9yOl9NO3QuYW1vdW50IT09dm9pZCAwJiYoY29uc29sZS53YXJuKCJUSFJFRS5FeHRydWRlQnVmZmVyR2VvbWV0cnk6IGFtb3VudCBoYXMgYmVlbiByZW5hbWVkIHRvIGRlcHRoLiIpLHU9dC5hbW91bnQpO2xldCBULHc9ITEsYixMLFAsazt2JiYoVD12LmdldFNwYWNlZFBvaW50cyhjKSx3PSEwLGQ9ITEsYj12LmNvbXB1dGVGcmVuZXRGcmFtZXMoYywhMSksTD1uZXcgRSxQPW5ldyBFLGs9bmV3IEUpLGR8fChtPTAscD0wLGc9MCxmPTApO2NvbnN0IGllPW8uZXh0cmFjdFBvaW50cyhsKTtsZXQgTz1pZS5zaGFwZTtjb25zdCB4PWllLmhvbGVzO2lmKCFHaS5pc0Nsb2NrV2lzZShPKSl7Tz1PLnJldmVyc2UoKTtmb3IobGV0IFo9MCxqPXgubGVuZ3RoO1o8ajtaKyspe2NvbnN0IHE9eFtaXTtHaS5pc0Nsb2NrV2lzZShxKSYmKHhbWl09cS5yZXZlcnNlKCkpfX1jb25zdCBDPUdpLnRyaWFuZ3VsYXRlU2hhcGUoTyx4KSxZPU87Zm9yKGxldCBaPTAsaj14Lmxlbmd0aDtaPGo7WisrKXtjb25zdCBxPXhbWl07Tz1PLmNvbmNhdChxKX1mdW5jdGlvbiBOKFosaixxKXtyZXR1cm4ganx8Y29uc29sZS5lcnJvcigiVEhSRUUuRXh0cnVkZUdlb21ldHJ5OiB2ZWMgZG9lcyBub3QgZXhpc3QiKSxqLmNsb25lKCkubXVsdGlwbHlTY2FsYXIocSkuYWRkKFopfWNvbnN0IFU9Ty5sZW5ndGgsQj1DLmxlbmd0aDtmdW5jdGlvbiBHKFosaixxKXtsZXQgZmUsbGUsQWU7Y29uc3QgUGU9Wi54LWoueCxJZT1aLnktai55LFRlPXEueC1aLngsS2U9cS55LVoueSxMdD1QZSpQZStJZSpJZSxTPVBlKktlLUllKlRlO2lmKE1hdGguYWJzKFMpPk51bWJlci5FUFNJTE9OKXtjb25zdCBfPU1hdGguc3FydChMdCksRj1NYXRoLnNxcnQoVGUqVGUrS2UqS2UpLCQ9ai54LUllL18sY2U9ai55K1BlL18sZGU9cS54LUtlL0YsTWU9cS55K1RlL0YsSD0oKGRlLSQpKktlLShNZS1jZSkqVGUpLyhQZSpLZS1JZSpUZSk7ZmU9JCtQZSpILVoueCxsZT1jZStJZSpILVoueTtjb25zdCBOZT1mZSpmZStsZSpsZTtpZihOZTw9MilyZXR1cm4gbmV3IGVlKGZlLGxlKTtBZT1NYXRoLnNxcnQoTmUvMil9ZWxzZXtsZXQgXz0hMTtQZT5OdW1iZXIuRVBTSUxPTj9UZT5OdW1iZXIuRVBTSUxPTiYmKF89ITApOlBlPC1OdW1iZXIuRVBTSUxPTj9UZTwtTnVtYmVyLkVQU0lMT04mJihfPSEwKTpNYXRoLnNpZ24oSWUpPT09TWF0aC5zaWduKEtlKSYmKF89ITApLF8/KGZlPS1JZSxsZT1QZSxBZT1NYXRoLnNxcnQoTHQpKTooZmU9UGUsbGU9SWUsQWU9TWF0aC5zcXJ0KEx0LzIpKX1yZXR1cm4gbmV3IGVlKGZlL0FlLGxlL0FlKX1jb25zdCBSPVtdO2ZvcihsZXQgWj0wLGo9WS5sZW5ndGgscT1qLTEsZmU9WisxO1o8ajtaKysscSsrLGZlKyspcT09PWomJihxPTApLGZlPT09aiYmKGZlPTApLFJbWl09RyhZW1pdLFlbcV0sWVtmZV0pO2NvbnN0IFg9W107bGV0IEosdGU9Ui5jb25jYXQoKTtmb3IobGV0IFo9MCxqPXgubGVuZ3RoO1o8ajtaKyspe2NvbnN0IHE9eFtaXTtKPVtdO2ZvcihsZXQgZmU9MCxsZT1xLmxlbmd0aCxBZT1sZS0xLFBlPWZlKzE7ZmU8bGU7ZmUrKyxBZSsrLFBlKyspQWU9PT1sZSYmKEFlPTApLFBlPT09bGUmJihQZT0wKSxKW2ZlXT1HKHFbZmVdLHFbQWVdLHFbUGVdKTtYLnB1c2goSiksdGU9dGUuY29uY2F0KEopfWZvcihsZXQgWj0wO1o8bTtaKyspe2NvbnN0IGo9Wi9tLHE9cCpNYXRoLmNvcyhqKk1hdGguUEkvMiksZmU9ZypNYXRoLnNpbihqKk1hdGguUEkvMikrZjtmb3IobGV0IGxlPTAsQWU9WS5sZW5ndGg7bGU8QWU7bGUrKyl7Y29uc3QgUGU9TihZW2xlXSxSW2xlXSxmZSk7VihQZS54LFBlLnksLXEpfWZvcihsZXQgbGU9MCxBZT14Lmxlbmd0aDtsZTxBZTtsZSsrKXtjb25zdCBQZT14W2xlXTtKPVhbbGVdO2ZvcihsZXQgSWU9MCxUZT1QZS5sZW5ndGg7SWU8VGU7SWUrKyl7Y29uc3QgS2U9TihQZVtJZV0sSltJZV0sZmUpO1YoS2UueCxLZS55LC1xKX19fWNvbnN0IFE9ZytmO2ZvcihsZXQgWj0wO1o8VTtaKyspe2NvbnN0IGo9ZD9OKE9bWl0sdGVbWl0sUSk6T1taXTt3PyhQLmNvcHkoYi5ub3JtYWxzWzBdKS5tdWx0aXBseVNjYWxhcihqLngpLEwuY29weShiLmJpbm9ybWFsc1swXSkubXVsdGlwbHlTY2FsYXIoai55KSxrLmNvcHkoVFswXSkuYWRkKFApLmFkZChMKSxWKGsueCxrLnksay56KSk6VihqLngsai55LDApfWZvcihsZXQgWj0xO1o8PWM7WisrKWZvcihsZXQgaj0wO2o8VTtqKyspe2NvbnN0IHE9ZD9OKE9bal0sdGVbal0sUSk6T1tqXTt3PyhQLmNvcHkoYi5ub3JtYWxzW1pdKS5tdWx0aXBseVNjYWxhcihxLngpLEwuY29weShiLmJpbm9ybWFsc1taXSkubXVsdGlwbHlTY2FsYXIocS55KSxrLmNvcHkoVFtaXSkuYWRkKFApLmFkZChMKSxWKGsueCxrLnksay56KSk6VihxLngscS55LHUvYypaKX1mb3IobGV0IFo9bS0xO1o+PTA7Wi0tKXtjb25zdCBqPVovbSxxPXAqTWF0aC5jb3MoaipNYXRoLlBJLzIpLGZlPWcqTWF0aC5zaW4oaipNYXRoLlBJLzIpK2Y7Zm9yKGxldCBsZT0wLEFlPVkubGVuZ3RoO2xlPEFlO2xlKyspe2NvbnN0IFBlPU4oWVtsZV0sUltsZV0sZmUpO1YoUGUueCxQZS55LHUrcSl9Zm9yKGxldCBsZT0wLEFlPXgubGVuZ3RoO2xlPEFlO2xlKyspe2NvbnN0IFBlPXhbbGVdO0o9WFtsZV07Zm9yKGxldCBJZT0wLFRlPVBlLmxlbmd0aDtJZTxUZTtJZSsrKXtjb25zdCBLZT1OKFBlW0llXSxKW0llXSxmZSk7dz9WKEtlLngsS2UueStUW2MtMV0ueSxUW2MtMV0ueCtxKTpWKEtlLngsS2UueSx1K3EpfX19dmUoKSx6ZSgpO2Z1bmN0aW9uIHZlKCl7Y29uc3QgWj1zLmxlbmd0aC8zO2lmKGQpe2xldCBqPTAscT1VKmo7Zm9yKGxldCBmZT0wO2ZlPEI7ZmUrKyl7Y29uc3QgbGU9Q1tmZV07WmUobGVbMl0rcSxsZVsxXStxLGxlWzBdK3EpfWo9YyttKjIscT1VKmo7Zm9yKGxldCBmZT0wO2ZlPEI7ZmUrKyl7Y29uc3QgbGU9Q1tmZV07WmUobGVbMF0rcSxsZVsxXStxLGxlWzJdK3EpfX1lbHNle2ZvcihsZXQgaj0wO2o8QjtqKyspe2NvbnN0IHE9Q1tqXTtaZShxWzJdLHFbMV0scVswXSl9Zm9yKGxldCBqPTA7ajxCO2orKyl7Y29uc3QgcT1DW2pdO1plKHFbMF0rVSpjLHFbMV0rVSpjLHFbMl0rVSpjKX19ci5hZGRHcm91cChaLHMubGVuZ3RoLzMtWiwwKX1mdW5jdGlvbiB6ZSgpe2NvbnN0IFo9cy5sZW5ndGgvMztsZXQgaj0wO2JlKFksaiksais9WS5sZW5ndGg7Zm9yKGxldCBxPTAsZmU9eC5sZW5ndGg7cTxmZTtxKyspe2NvbnN0IGxlPXhbcV07YmUobGUsaiksais9bGUubGVuZ3RofXIuYWRkR3JvdXAoWixzLmxlbmd0aC8zLVosMSl9ZnVuY3Rpb24gYmUoWixqKXtsZXQgcT1aLmxlbmd0aDtmb3IoOy0tcT49MDspe2NvbnN0IGZlPXE7bGV0IGxlPXEtMTtsZTwwJiYobGU9Wi5sZW5ndGgtMSk7Zm9yKGxldCBBZT0wLFBlPWMrbSoyO0FlPFBlO0FlKyspe2NvbnN0IEllPVUqQWUsVGU9VSooQWUrMSksS2U9aitmZStJZSxMdD1qK2xlK0llLFM9aitsZStUZSxfPWorZmUrVGU7T2UoS2UsTHQsUyxfKX19fWZ1bmN0aW9uIFYoWixqLHEpe2gucHVzaChaKSxoLnB1c2goaiksaC5wdXNoKHEpfWZ1bmN0aW9uIFplKFosaixxKXt5ZShaKSx5ZShqKSx5ZShxKTtjb25zdCBmZT1zLmxlbmd0aC8zLGxlPXkuZ2VuZXJhdGVUb3BVVihyLHMsZmUtMyxmZS0yLGZlLTEpO3JlKGxlWzBdKSxyZShsZVsxXSkscmUobGVbMl0pfWZ1bmN0aW9uIE9lKFosaixxLGZlKXt5ZShaKSx5ZShqKSx5ZShmZSkseWUoaikseWUocSkseWUoZmUpO2NvbnN0IGxlPXMubGVuZ3RoLzMsQWU9eS5nZW5lcmF0ZVNpZGVXYWxsVVYocixzLGxlLTYsbGUtMyxsZS0yLGxlLTEpO3JlKEFlWzBdKSxyZShBZVsxXSkscmUoQWVbM10pLHJlKEFlWzFdKSxyZShBZVsyXSkscmUoQWVbM10pfWZ1bmN0aW9uIHllKFope3MucHVzaChoW1oqMyswXSkscy5wdXNoKGhbWiozKzFdKSxzLnB1c2goaFtaKjMrMl0pfWZ1bmN0aW9uIHJlKFope2EucHVzaChaLngpLGEucHVzaChaLnkpfX19dG9KU09OKCl7Y29uc3QgZT1zdXBlci50b0pTT04oKSx0PXRoaXMucGFyYW1ldGVycy5zaGFwZXMscj10aGlzLnBhcmFtZXRlcnMub3B0aW9ucztyZXR1cm4geU0odCxyLGUpfXN0YXRpYyBmcm9tSlNPTihlLHQpe2NvbnN0IHI9W107Zm9yKGxldCBhPTAsbj1lLnNoYXBlcy5sZW5ndGg7YTxuO2ErKyl7Y29uc3Qgbz10W2Uuc2hhcGVzW2FdXTtyLnB1c2gobyl9Y29uc3Qgcz1lLm9wdGlvbnMuZXh0cnVkZVBhdGg7cmV0dXJuIHMhPT12b2lkIDAmJihlLm9wdGlvbnMuZXh0cnVkZVBhdGg9bmV3IEJjW3MudHlwZV0oKS5mcm9tSlNPTihzKSksbmV3IHRzKHIsZS5vcHRpb25zKX19Y29uc3QgX009e2dlbmVyYXRlVG9wVVY6ZnVuY3Rpb24oaSxlLHQscixzKXtjb25zdCBhPWVbdCozXSxuPWVbdCozKzFdLG89ZVtyKjNdLGg9ZVtyKjMrMV0sbD1lW3MqM10sYz1lW3MqMysxXTtyZXR1cm5bbmV3IGVlKGEsbiksbmV3IGVlKG8saCksbmV3IGVlKGwsYyldfSxnZW5lcmF0ZVNpZGVXYWxsVVY6ZnVuY3Rpb24oaSxlLHQscixzLGEpe2NvbnN0IG49ZVt0KjNdLG89ZVt0KjMrMV0saD1lW3QqMysyXSxsPWVbciozXSxjPWVbciozKzFdLHU9ZVtyKjMrMl0sZD1lW3MqM10scD1lW3MqMysxXSxnPWVbcyozKzJdLGY9ZVthKjNdLG09ZVthKjMrMV0sdj1lW2EqMysyXTtyZXR1cm4gTWF0aC5hYnMoby1jKTxNYXRoLmFicyhuLWwpP1tuZXcgZWUobiwxLWgpLG5ldyBlZShsLDEtdSksbmV3IGVlKGQsMS1nKSxuZXcgZWUoZiwxLXYpXTpbbmV3IGVlKG8sMS1oKSxuZXcgZWUoYywxLXUpLG5ldyBlZShwLDEtZyksbmV3IGVlKG0sMS12KV19fTtmdW5jdGlvbiB5TShpLGUsdCl7aWYodC5zaGFwZXM9W10sQXJyYXkuaXNBcnJheShpKSlmb3IobGV0IHI9MCxzPWkubGVuZ3RoO3I8cztyKyspe2NvbnN0IGE9aVtyXTt0LnNoYXBlcy5wdXNoKGEudXVpZCl9ZWxzZSB0LnNoYXBlcy5wdXNoKGkudXVpZCk7cmV0dXJuIGUuZXh0cnVkZVBhdGghPT12b2lkIDAmJih0Lm9wdGlvbnMuZXh0cnVkZVBhdGg9ZS5leHRydWRlUGF0aC50b0pTT04oKSksdH1jbGFzcyBVbyBleHRlbmRzICRle2NvbnN0cnVjdG9yKGU9bmV3IGtzKFtuZXcgZWUoMCwuNSksbmV3IGVlKC0uNSwtLjUpLG5ldyBlZSguNSwtLjUpXSksdD0xMil7c3VwZXIoKTt0aGlzLnR5cGU9IlNoYXBlR2VvbWV0cnkiLHRoaXMucGFyYW1ldGVycz17c2hhcGVzOmUsY3VydmVTZWdtZW50czp0fTtjb25zdCByPVtdLHM9W10sYT1bXSxuPVtdO2xldCBvPTAsaD0wO2lmKEFycmF5LmlzQXJyYXkoZSk9PT0hMSlsKGUpO2Vsc2UgZm9yKGxldCBjPTA7YzxlLmxlbmd0aDtjKyspbChlW2NdKSx0aGlzLmFkZEdyb3VwKG8saCxjKSxvKz1oLGg9MDt0aGlzLnNldEluZGV4KHIpLHRoaXMuc2V0QXR0cmlidXRlKCJwb3NpdGlvbiIsbmV3IHB0KHMsMykpLHRoaXMuc2V0QXR0cmlidXRlKCJub3JtYWwiLG5ldyBwdChhLDMpKSx0aGlzLnNldEF0dHJpYnV0ZSgidXYiLG5ldyBwdChuLDIpKTtmdW5jdGlvbiBsKGMpe2NvbnN0IHU9cy5sZW5ndGgvMyxkPWMuZXh0cmFjdFBvaW50cyh0KTtsZXQgcD1kLnNoYXBlO2NvbnN0IGc9ZC5ob2xlcztHaS5pc0Nsb2NrV2lzZShwKT09PSExJiYocD1wLnJldmVyc2UoKSk7Zm9yKGxldCBtPTAsdj1nLmxlbmd0aDttPHY7bSsrKXtjb25zdCB5PWdbbV07R2kuaXNDbG9ja1dpc2UoeSk9PT0hMCYmKGdbbV09eS5yZXZlcnNlKCkpfWNvbnN0IGY9R2kudHJpYW5ndWxhdGVTaGFwZShwLGcpO2ZvcihsZXQgbT0wLHY9Zy5sZW5ndGg7bTx2O20rKyl7Y29uc3QgeT1nW21dO3A9cC5jb25jYXQoeSl9Zm9yKGxldCBtPTAsdj1wLmxlbmd0aDttPHY7bSsrKXtjb25zdCB5PXBbbV07cy5wdXNoKHkueCx5LnksMCksYS5wdXNoKDAsMCwxKSxuLnB1c2goeS54LHkueSl9Zm9yKGxldCBtPTAsdj1mLmxlbmd0aDttPHY7bSsrKXtjb25zdCB5PWZbbV0sVD15WzBdK3Usdz15WzFdK3UsYj15WzJdK3U7ci5wdXNoKFQsdyxiKSxoKz0zfX19dG9KU09OKCl7Y29uc3QgZT1zdXBlci50b0pTT04oKSx0PXRoaXMucGFyYW1ldGVycy5zaGFwZXM7cmV0dXJuIE1NKHQsZSl9c3RhdGljIGZyb21KU09OKGUsdCl7Y29uc3Qgcj1bXTtmb3IobGV0IHM9MCxhPWUuc2hhcGVzLmxlbmd0aDtzPGE7cysrKXtjb25zdCBuPXRbZS5zaGFwZXNbc11dO3IucHVzaChuKX1yZXR1cm4gbmV3IFVvKHIsZS5jdXJ2ZVNlZ21lbnRzKX19ZnVuY3Rpb24gTU0oaSxlKXtpZihlLnNoYXBlcz1bXSxBcnJheS5pc0FycmF5KGkpKWZvcihsZXQgdD0wLHI9aS5sZW5ndGg7dDxyO3QrKyl7Y29uc3Qgcz1pW3RdO2Uuc2hhcGVzLnB1c2gocy51dWlkKX1lbHNlIGUuc2hhcGVzLnB1c2goaS51dWlkKTtyZXR1cm4gZX1jbGFzcyBXYyBleHRlbmRzIGx0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCk7dGhpcy50eXBlPSJTaGFkb3dNYXRlcmlhbCIsdGhpcy5jb2xvcj1uZXcgZ2UoMCksdGhpcy50cmFuc3BhcmVudD0hMCx0aGlzLnNldFZhbHVlcyhlKX1jb3B5KGUpe3JldHVybiBzdXBlci5jb3B5KGUpLHRoaXMuY29sb3IuY29weShlLmNvbG9yKSx0aGlzfX1XYy5wcm90b3R5cGUuaXNTaGFkb3dNYXRlcmlhbD0hMDtjbGFzcyBqYyBleHRlbmRzICR0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpO3RoaXMudHlwZT0iUmF3U2hhZGVyTWF0ZXJpYWwifX1qYy5wcm90b3R5cGUuaXNSYXdTaGFkZXJNYXRlcmlhbD0hMDtjbGFzcyBGbyBleHRlbmRzIGx0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCk7dGhpcy5kZWZpbmVzPXtTVEFOREFSRDoiIn0sdGhpcy50eXBlPSJNZXNoU3RhbmRhcmRNYXRlcmlhbCIsdGhpcy5jb2xvcj1uZXcgZ2UoMTY3NzcyMTUpLHRoaXMucm91Z2huZXNzPTEsdGhpcy5tZXRhbG5lc3M9MCx0aGlzLm1hcD1udWxsLHRoaXMubGlnaHRNYXA9bnVsbCx0aGlzLmxpZ2h0TWFwSW50ZW5zaXR5PTEsdGhpcy5hb01hcD1udWxsLHRoaXMuYW9NYXBJbnRlbnNpdHk9MSx0aGlzLmVtaXNzaXZlPW5ldyBnZSgwKSx0aGlzLmVtaXNzaXZlSW50ZW5zaXR5PTEsdGhpcy5lbWlzc2l2ZU1hcD1udWxsLHRoaXMuYnVtcE1hcD1udWxsLHRoaXMuYnVtcFNjYWxlPTEsdGhpcy5ub3JtYWxNYXA9bnVsbCx0aGlzLm5vcm1hbE1hcFR5cGU9THIsdGhpcy5ub3JtYWxTY2FsZT1uZXcgZWUoMSwxKSx0aGlzLmRpc3BsYWNlbWVudE1hcD1udWxsLHRoaXMuZGlzcGxhY2VtZW50U2NhbGU9MSx0aGlzLmRpc3BsYWNlbWVudEJpYXM9MCx0aGlzLnJvdWdobmVzc01hcD1udWxsLHRoaXMubWV0YWxuZXNzTWFwPW51bGwsdGhpcy5hbHBoYU1hcD1udWxsLHRoaXMuZW52TWFwPW51bGwsdGhpcy5lbnZNYXBJbnRlbnNpdHk9MSx0aGlzLndpcmVmcmFtZT0hMSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD0xLHRoaXMud2lyZWZyYW1lTGluZWNhcD0icm91bmQiLHRoaXMud2lyZWZyYW1lTGluZWpvaW49InJvdW5kIix0aGlzLmZsYXRTaGFkaW5nPSExLHRoaXMuc2V0VmFsdWVzKGUpfWNvcHkoZSl7cmV0dXJuIHN1cGVyLmNvcHkoZSksdGhpcy5kZWZpbmVzPXtTVEFOREFSRDoiIn0sdGhpcy5jb2xvci5jb3B5KGUuY29sb3IpLHRoaXMucm91Z2huZXNzPWUucm91Z2huZXNzLHRoaXMubWV0YWxuZXNzPWUubWV0YWxuZXNzLHRoaXMubWFwPWUubWFwLHRoaXMubGlnaHRNYXA9ZS5saWdodE1hcCx0aGlzLmxpZ2h0TWFwSW50ZW5zaXR5PWUubGlnaHRNYXBJbnRlbnNpdHksdGhpcy5hb01hcD1lLmFvTWFwLHRoaXMuYW9NYXBJbnRlbnNpdHk9ZS5hb01hcEludGVuc2l0eSx0aGlzLmVtaXNzaXZlLmNvcHkoZS5lbWlzc2l2ZSksdGhpcy5lbWlzc2l2ZU1hcD1lLmVtaXNzaXZlTWFwLHRoaXMuZW1pc3NpdmVJbnRlbnNpdHk9ZS5lbWlzc2l2ZUludGVuc2l0eSx0aGlzLmJ1bXBNYXA9ZS5idW1wTWFwLHRoaXMuYnVtcFNjYWxlPWUuYnVtcFNjYWxlLHRoaXMubm9ybWFsTWFwPWUubm9ybWFsTWFwLHRoaXMubm9ybWFsTWFwVHlwZT1lLm5vcm1hbE1hcFR5cGUsdGhpcy5ub3JtYWxTY2FsZS5jb3B5KGUubm9ybWFsU2NhbGUpLHRoaXMuZGlzcGxhY2VtZW50TWFwPWUuZGlzcGxhY2VtZW50TWFwLHRoaXMuZGlzcGxhY2VtZW50U2NhbGU9ZS5kaXNwbGFjZW1lbnRTY2FsZSx0aGlzLmRpc3BsYWNlbWVudEJpYXM9ZS5kaXNwbGFjZW1lbnRCaWFzLHRoaXMucm91Z2huZXNzTWFwPWUucm91Z2huZXNzTWFwLHRoaXMubWV0YWxuZXNzTWFwPWUubWV0YWxuZXNzTWFwLHRoaXMuYWxwaGFNYXA9ZS5hbHBoYU1hcCx0aGlzLmVudk1hcD1lLmVudk1hcCx0aGlzLmVudk1hcEludGVuc2l0eT1lLmVudk1hcEludGVuc2l0eSx0aGlzLndpcmVmcmFtZT1lLndpcmVmcmFtZSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD1lLndpcmVmcmFtZUxpbmV3aWR0aCx0aGlzLndpcmVmcmFtZUxpbmVjYXA9ZS53aXJlZnJhbWVMaW5lY2FwLHRoaXMud2lyZWZyYW1lTGluZWpvaW49ZS53aXJlZnJhbWVMaW5lam9pbix0aGlzLmZsYXRTaGFkaW5nPWUuZmxhdFNoYWRpbmcsdGhpc319Rm8ucHJvdG90eXBlLmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWw9ITA7Y2xhc3MgcWMgZXh0ZW5kcyBGb3tjb25zdHJ1Y3RvcihlKXtzdXBlcigpO3RoaXMuZGVmaW5lcz17U1RBTkRBUkQ6IiIsUEhZU0lDQUw6IiJ9LHRoaXMudHlwZT0iTWVzaFBoeXNpY2FsTWF0ZXJpYWwiLHRoaXMuY2xlYXJjb2F0TWFwPW51bGwsdGhpcy5jbGVhcmNvYXRSb3VnaG5lc3M9MCx0aGlzLmNsZWFyY29hdFJvdWdobmVzc01hcD1udWxsLHRoaXMuY2xlYXJjb2F0Tm9ybWFsU2NhbGU9bmV3IGVlKDEsMSksdGhpcy5jbGVhcmNvYXROb3JtYWxNYXA9bnVsbCx0aGlzLmlvcj0xLjUsT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsInJlZmxlY3Rpdml0eSIse2dldDpmdW5jdGlvbigpe3JldHVybiB5dCgyLjUqKHRoaXMuaW9yLTEpLyh0aGlzLmlvcisxKSwwLDEpfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5pb3I9KDErLjQqdCkvKDEtLjQqdCl9fSksdGhpcy5zaGVlbkNvbG9yPW5ldyBnZSgwKSx0aGlzLnNoZWVuQ29sb3JNYXA9bnVsbCx0aGlzLnNoZWVuUm91Z2huZXNzPTEsdGhpcy5zaGVlblJvdWdobmVzc01hcD1udWxsLHRoaXMudHJhbnNtaXNzaW9uTWFwPW51bGwsdGhpcy50aGlja25lc3M9MCx0aGlzLnRoaWNrbmVzc01hcD1udWxsLHRoaXMuYXR0ZW51YXRpb25EaXN0YW5jZT0wLHRoaXMuYXR0ZW51YXRpb25Db2xvcj1uZXcgZ2UoMSwxLDEpLHRoaXMuc3BlY3VsYXJJbnRlbnNpdHk9MSx0aGlzLnNwZWN1bGFySW50ZW5zaXR5TWFwPW51bGwsdGhpcy5zcGVjdWxhckNvbG9yPW5ldyBnZSgxLDEsMSksdGhpcy5zcGVjdWxhckNvbG9yTWFwPW51bGwsdGhpcy5fc2hlZW49MCx0aGlzLl9jbGVhcmNvYXQ9MCx0aGlzLl90cmFuc21pc3Npb249MCx0aGlzLnNldFZhbHVlcyhlKX1nZXQgc2hlZW4oKXtyZXR1cm4gdGhpcy5fc2hlZW59c2V0IHNoZWVuKGUpe3RoaXMuX3NoZWVuPjAhPWU+MCYmdGhpcy52ZXJzaW9uKyssdGhpcy5fc2hlZW49ZX1nZXQgY2xlYXJjb2F0KCl7cmV0dXJuIHRoaXMuX2NsZWFyY29hdH1zZXQgY2xlYXJjb2F0KGUpe3RoaXMuX2NsZWFyY29hdD4wIT1lPjAmJnRoaXMudmVyc2lvbisrLHRoaXMuX2NsZWFyY29hdD1lfWdldCB0cmFuc21pc3Npb24oKXtyZXR1cm4gdGhpcy5fdHJhbnNtaXNzaW9ufXNldCB0cmFuc21pc3Npb24oZSl7dGhpcy5fdHJhbnNtaXNzaW9uPjAhPWU+MCYmdGhpcy52ZXJzaW9uKyssdGhpcy5fdHJhbnNtaXNzaW9uPWV9Y29weShlKXtyZXR1cm4gc3VwZXIuY29weShlKSx0aGlzLmRlZmluZXM9e1NUQU5EQVJEOiIiLFBIWVNJQ0FMOiIifSx0aGlzLmNsZWFyY29hdD1lLmNsZWFyY29hdCx0aGlzLmNsZWFyY29hdE1hcD1lLmNsZWFyY29hdE1hcCx0aGlzLmNsZWFyY29hdFJvdWdobmVzcz1lLmNsZWFyY29hdFJvdWdobmVzcyx0aGlzLmNsZWFyY29hdFJvdWdobmVzc01hcD1lLmNsZWFyY29hdFJvdWdobmVzc01hcCx0aGlzLmNsZWFyY29hdE5vcm1hbE1hcD1lLmNsZWFyY29hdE5vcm1hbE1hcCx0aGlzLmNsZWFyY29hdE5vcm1hbFNjYWxlLmNvcHkoZS5jbGVhcmNvYXROb3JtYWxTY2FsZSksdGhpcy5pb3I9ZS5pb3IsdGhpcy5zaGVlbj1lLnNoZWVuLHRoaXMuc2hlZW5Db2xvci5jb3B5KGUuc2hlZW5Db2xvciksdGhpcy5zaGVlbkNvbG9yTWFwPWUuc2hlZW5Db2xvck1hcCx0aGlzLnNoZWVuUm91Z2huZXNzPWUuc2hlZW5Sb3VnaG5lc3MsdGhpcy5zaGVlblJvdWdobmVzc01hcD1lLnNoZWVuUm91Z2huZXNzTWFwLHRoaXMudHJhbnNtaXNzaW9uPWUudHJhbnNtaXNzaW9uLHRoaXMudHJhbnNtaXNzaW9uTWFwPWUudHJhbnNtaXNzaW9uTWFwLHRoaXMudGhpY2tuZXNzPWUudGhpY2tuZXNzLHRoaXMudGhpY2tuZXNzTWFwPWUudGhpY2tuZXNzTWFwLHRoaXMuYXR0ZW51YXRpb25EaXN0YW5jZT1lLmF0dGVudWF0aW9uRGlzdGFuY2UsdGhpcy5hdHRlbnVhdGlvbkNvbG9yLmNvcHkoZS5hdHRlbnVhdGlvbkNvbG9yKSx0aGlzLnNwZWN1bGFySW50ZW5zaXR5PWUuc3BlY3VsYXJJbnRlbnNpdHksdGhpcy5zcGVjdWxhckludGVuc2l0eU1hcD1lLnNwZWN1bGFySW50ZW5zaXR5TWFwLHRoaXMuc3BlY3VsYXJDb2xvci5jb3B5KGUuc3BlY3VsYXJDb2xvciksdGhpcy5zcGVjdWxhckNvbG9yTWFwPWUuc3BlY3VsYXJDb2xvck1hcCx0aGlzfX1xYy5wcm90b3R5cGUuaXNNZXNoUGh5c2ljYWxNYXRlcmlhbD0hMDtjbGFzcyBYYyBleHRlbmRzIGx0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCk7dGhpcy50eXBlPSJNZXNoUGhvbmdNYXRlcmlhbCIsdGhpcy5jb2xvcj1uZXcgZ2UoMTY3NzcyMTUpLHRoaXMuc3BlY3VsYXI9bmV3IGdlKDExMTg0ODEpLHRoaXMuc2hpbmluZXNzPTMwLHRoaXMubWFwPW51bGwsdGhpcy5saWdodE1hcD1udWxsLHRoaXMubGlnaHRNYXBJbnRlbnNpdHk9MSx0aGlzLmFvTWFwPW51bGwsdGhpcy5hb01hcEludGVuc2l0eT0xLHRoaXMuZW1pc3NpdmU9bmV3IGdlKDApLHRoaXMuZW1pc3NpdmVJbnRlbnNpdHk9MSx0aGlzLmVtaXNzaXZlTWFwPW51bGwsdGhpcy5idW1wTWFwPW51bGwsdGhpcy5idW1wU2NhbGU9MSx0aGlzLm5vcm1hbE1hcD1udWxsLHRoaXMubm9ybWFsTWFwVHlwZT1Mcix0aGlzLm5vcm1hbFNjYWxlPW5ldyBlZSgxLDEpLHRoaXMuZGlzcGxhY2VtZW50TWFwPW51bGwsdGhpcy5kaXNwbGFjZW1lbnRTY2FsZT0xLHRoaXMuZGlzcGxhY2VtZW50Qmlhcz0wLHRoaXMuc3BlY3VsYXJNYXA9bnVsbCx0aGlzLmFscGhhTWFwPW51bGwsdGhpcy5lbnZNYXA9bnVsbCx0aGlzLmNvbWJpbmU9bGEsdGhpcy5yZWZsZWN0aXZpdHk9MSx0aGlzLnJlZnJhY3Rpb25SYXRpbz0uOTgsdGhpcy53aXJlZnJhbWU9ITEsdGhpcy53aXJlZnJhbWVMaW5ld2lkdGg9MSx0aGlzLndpcmVmcmFtZUxpbmVjYXA9InJvdW5kIix0aGlzLndpcmVmcmFtZUxpbmVqb2luPSJyb3VuZCIsdGhpcy5mbGF0U2hhZGluZz0hMSx0aGlzLnNldFZhbHVlcyhlKX1jb3B5KGUpe3JldHVybiBzdXBlci5jb3B5KGUpLHRoaXMuY29sb3IuY29weShlLmNvbG9yKSx0aGlzLnNwZWN1bGFyLmNvcHkoZS5zcGVjdWxhciksdGhpcy5zaGluaW5lc3M9ZS5zaGluaW5lc3MsdGhpcy5tYXA9ZS5tYXAsdGhpcy5saWdodE1hcD1lLmxpZ2h0TWFwLHRoaXMubGlnaHRNYXBJbnRlbnNpdHk9ZS5saWdodE1hcEludGVuc2l0eSx0aGlzLmFvTWFwPWUuYW9NYXAsdGhpcy5hb01hcEludGVuc2l0eT1lLmFvTWFwSW50ZW5zaXR5LHRoaXMuZW1pc3NpdmUuY29weShlLmVtaXNzaXZlKSx0aGlzLmVtaXNzaXZlTWFwPWUuZW1pc3NpdmVNYXAsdGhpcy5lbWlzc2l2ZUludGVuc2l0eT1lLmVtaXNzaXZlSW50ZW5zaXR5LHRoaXMuYnVtcE1hcD1lLmJ1bXBNYXAsdGhpcy5idW1wU2NhbGU9ZS5idW1wU2NhbGUsdGhpcy5ub3JtYWxNYXA9ZS5ub3JtYWxNYXAsdGhpcy5ub3JtYWxNYXBUeXBlPWUubm9ybWFsTWFwVHlwZSx0aGlzLm5vcm1hbFNjYWxlLmNvcHkoZS5ub3JtYWxTY2FsZSksdGhpcy5kaXNwbGFjZW1lbnRNYXA9ZS5kaXNwbGFjZW1lbnRNYXAsdGhpcy5kaXNwbGFjZW1lbnRTY2FsZT1lLmRpc3BsYWNlbWVudFNjYWxlLHRoaXMuZGlzcGxhY2VtZW50Qmlhcz1lLmRpc3BsYWNlbWVudEJpYXMsdGhpcy5zcGVjdWxhck1hcD1lLnNwZWN1bGFyTWFwLHRoaXMuYWxwaGFNYXA9ZS5hbHBoYU1hcCx0aGlzLmVudk1hcD1lLmVudk1hcCx0aGlzLmNvbWJpbmU9ZS5jb21iaW5lLHRoaXMucmVmbGVjdGl2aXR5PWUucmVmbGVjdGl2aXR5LHRoaXMucmVmcmFjdGlvblJhdGlvPWUucmVmcmFjdGlvblJhdGlvLHRoaXMud2lyZWZyYW1lPWUud2lyZWZyYW1lLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPWUud2lyZWZyYW1lTGluZXdpZHRoLHRoaXMud2lyZWZyYW1lTGluZWNhcD1lLndpcmVmcmFtZUxpbmVjYXAsdGhpcy53aXJlZnJhbWVMaW5lam9pbj1lLndpcmVmcmFtZUxpbmVqb2luLHRoaXMuZmxhdFNoYWRpbmc9ZS5mbGF0U2hhZGluZyx0aGlzfX1YYy5wcm90b3R5cGUuaXNNZXNoUGhvbmdNYXRlcmlhbD0hMDtjbGFzcyBKYyBleHRlbmRzIGx0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCk7dGhpcy5kZWZpbmVzPXtUT09OOiIifSx0aGlzLnR5cGU9Ik1lc2hUb29uTWF0ZXJpYWwiLHRoaXMuY29sb3I9bmV3IGdlKDE2Nzc3MjE1KSx0aGlzLm1hcD1udWxsLHRoaXMuZ3JhZGllbnRNYXA9bnVsbCx0aGlzLmxpZ2h0TWFwPW51bGwsdGhpcy5saWdodE1hcEludGVuc2l0eT0xLHRoaXMuYW9NYXA9bnVsbCx0aGlzLmFvTWFwSW50ZW5zaXR5PTEsdGhpcy5lbWlzc2l2ZT1uZXcgZ2UoMCksdGhpcy5lbWlzc2l2ZUludGVuc2l0eT0xLHRoaXMuZW1pc3NpdmVNYXA9bnVsbCx0aGlzLmJ1bXBNYXA9bnVsbCx0aGlzLmJ1bXBTY2FsZT0xLHRoaXMubm9ybWFsTWFwPW51bGwsdGhpcy5ub3JtYWxNYXBUeXBlPUxyLHRoaXMubm9ybWFsU2NhbGU9bmV3IGVlKDEsMSksdGhpcy5kaXNwbGFjZW1lbnRNYXA9bnVsbCx0aGlzLmRpc3BsYWNlbWVudFNjYWxlPTEsdGhpcy5kaXNwbGFjZW1lbnRCaWFzPTAsdGhpcy5hbHBoYU1hcD1udWxsLHRoaXMud2lyZWZyYW1lPSExLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPTEsdGhpcy53aXJlZnJhbWVMaW5lY2FwPSJyb3VuZCIsdGhpcy53aXJlZnJhbWVMaW5lam9pbj0icm91bmQiLHRoaXMuc2V0VmFsdWVzKGUpfWNvcHkoZSl7cmV0dXJuIHN1cGVyLmNvcHkoZSksdGhpcy5jb2xvci5jb3B5KGUuY29sb3IpLHRoaXMubWFwPWUubWFwLHRoaXMuZ3JhZGllbnRNYXA9ZS5ncmFkaWVudE1hcCx0aGlzLmxpZ2h0TWFwPWUubGlnaHRNYXAsdGhpcy5saWdodE1hcEludGVuc2l0eT1lLmxpZ2h0TWFwSW50ZW5zaXR5LHRoaXMuYW9NYXA9ZS5hb01hcCx0aGlzLmFvTWFwSW50ZW5zaXR5PWUuYW9NYXBJbnRlbnNpdHksdGhpcy5lbWlzc2l2ZS5jb3B5KGUuZW1pc3NpdmUpLHRoaXMuZW1pc3NpdmVNYXA9ZS5lbWlzc2l2ZU1hcCx0aGlzLmVtaXNzaXZlSW50ZW5zaXR5PWUuZW1pc3NpdmVJbnRlbnNpdHksdGhpcy5idW1wTWFwPWUuYnVtcE1hcCx0aGlzLmJ1bXBTY2FsZT1lLmJ1bXBTY2FsZSx0aGlzLm5vcm1hbE1hcD1lLm5vcm1hbE1hcCx0aGlzLm5vcm1hbE1hcFR5cGU9ZS5ub3JtYWxNYXBUeXBlLHRoaXMubm9ybWFsU2NhbGUuY29weShlLm5vcm1hbFNjYWxlKSx0aGlzLmRpc3BsYWNlbWVudE1hcD1lLmRpc3BsYWNlbWVudE1hcCx0aGlzLmRpc3BsYWNlbWVudFNjYWxlPWUuZGlzcGxhY2VtZW50U2NhbGUsdGhpcy5kaXNwbGFjZW1lbnRCaWFzPWUuZGlzcGxhY2VtZW50Qmlhcyx0aGlzLmFscGhhTWFwPWUuYWxwaGFNYXAsdGhpcy53aXJlZnJhbWU9ZS53aXJlZnJhbWUsdGhpcy53aXJlZnJhbWVMaW5ld2lkdGg9ZS53aXJlZnJhbWVMaW5ld2lkdGgsdGhpcy53aXJlZnJhbWVMaW5lY2FwPWUud2lyZWZyYW1lTGluZWNhcCx0aGlzLndpcmVmcmFtZUxpbmVqb2luPWUud2lyZWZyYW1lTGluZWpvaW4sdGhpc319SmMucHJvdG90eXBlLmlzTWVzaFRvb25NYXRlcmlhbD0hMDtjbGFzcyBZYyBleHRlbmRzIGx0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCk7dGhpcy50eXBlPSJNZXNoTm9ybWFsTWF0ZXJpYWwiLHRoaXMuYnVtcE1hcD1udWxsLHRoaXMuYnVtcFNjYWxlPTEsdGhpcy5ub3JtYWxNYXA9bnVsbCx0aGlzLm5vcm1hbE1hcFR5cGU9THIsdGhpcy5ub3JtYWxTY2FsZT1uZXcgZWUoMSwxKSx0aGlzLmRpc3BsYWNlbWVudE1hcD1udWxsLHRoaXMuZGlzcGxhY2VtZW50U2NhbGU9MSx0aGlzLmRpc3BsYWNlbWVudEJpYXM9MCx0aGlzLndpcmVmcmFtZT0hMSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD0xLHRoaXMuZm9nPSExLHRoaXMuZmxhdFNoYWRpbmc9ITEsdGhpcy5zZXRWYWx1ZXMoZSl9Y29weShlKXtyZXR1cm4gc3VwZXIuY29weShlKSx0aGlzLmJ1bXBNYXA9ZS5idW1wTWFwLHRoaXMuYnVtcFNjYWxlPWUuYnVtcFNjYWxlLHRoaXMubm9ybWFsTWFwPWUubm9ybWFsTWFwLHRoaXMubm9ybWFsTWFwVHlwZT1lLm5vcm1hbE1hcFR5cGUsdGhpcy5ub3JtYWxTY2FsZS5jb3B5KGUubm9ybWFsU2NhbGUpLHRoaXMuZGlzcGxhY2VtZW50TWFwPWUuZGlzcGxhY2VtZW50TWFwLHRoaXMuZGlzcGxhY2VtZW50U2NhbGU9ZS5kaXNwbGFjZW1lbnRTY2FsZSx0aGlzLmRpc3BsYWNlbWVudEJpYXM9ZS5kaXNwbGFjZW1lbnRCaWFzLHRoaXMud2lyZWZyYW1lPWUud2lyZWZyYW1lLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPWUud2lyZWZyYW1lTGluZXdpZHRoLHRoaXMuZmxhdFNoYWRpbmc9ZS5mbGF0U2hhZGluZyx0aGlzfX1ZYy5wcm90b3R5cGUuaXNNZXNoTm9ybWFsTWF0ZXJpYWw9ITA7Y2xhc3MgWmMgZXh0ZW5kcyBsdHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpO3RoaXMudHlwZT0iTWVzaExhbWJlcnRNYXRlcmlhbCIsdGhpcy5jb2xvcj1uZXcgZ2UoMTY3NzcyMTUpLHRoaXMubWFwPW51bGwsdGhpcy5saWdodE1hcD1udWxsLHRoaXMubGlnaHRNYXBJbnRlbnNpdHk9MSx0aGlzLmFvTWFwPW51bGwsdGhpcy5hb01hcEludGVuc2l0eT0xLHRoaXMuZW1pc3NpdmU9bmV3IGdlKDApLHRoaXMuZW1pc3NpdmVJbnRlbnNpdHk9MSx0aGlzLmVtaXNzaXZlTWFwPW51bGwsdGhpcy5zcGVjdWxhck1hcD1udWxsLHRoaXMuYWxwaGFNYXA9bnVsbCx0aGlzLmVudk1hcD1udWxsLHRoaXMuY29tYmluZT1sYSx0aGlzLnJlZmxlY3Rpdml0eT0xLHRoaXMucmVmcmFjdGlvblJhdGlvPS45OCx0aGlzLndpcmVmcmFtZT0hMSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD0xLHRoaXMud2lyZWZyYW1lTGluZWNhcD0icm91bmQiLHRoaXMud2lyZWZyYW1lTGluZWpvaW49InJvdW5kIix0aGlzLnNldFZhbHVlcyhlKX1jb3B5KGUpe3JldHVybiBzdXBlci5jb3B5KGUpLHRoaXMuY29sb3IuY29weShlLmNvbG9yKSx0aGlzLm1hcD1lLm1hcCx0aGlzLmxpZ2h0TWFwPWUubGlnaHRNYXAsdGhpcy5saWdodE1hcEludGVuc2l0eT1lLmxpZ2h0TWFwSW50ZW5zaXR5LHRoaXMuYW9NYXA9ZS5hb01hcCx0aGlzLmFvTWFwSW50ZW5zaXR5PWUuYW9NYXBJbnRlbnNpdHksdGhpcy5lbWlzc2l2ZS5jb3B5KGUuZW1pc3NpdmUpLHRoaXMuZW1pc3NpdmVNYXA9ZS5lbWlzc2l2ZU1hcCx0aGlzLmVtaXNzaXZlSW50ZW5zaXR5PWUuZW1pc3NpdmVJbnRlbnNpdHksdGhpcy5zcGVjdWxhck1hcD1lLnNwZWN1bGFyTWFwLHRoaXMuYWxwaGFNYXA9ZS5hbHBoYU1hcCx0aGlzLmVudk1hcD1lLmVudk1hcCx0aGlzLmNvbWJpbmU9ZS5jb21iaW5lLHRoaXMucmVmbGVjdGl2aXR5PWUucmVmbGVjdGl2aXR5LHRoaXMucmVmcmFjdGlvblJhdGlvPWUucmVmcmFjdGlvblJhdGlvLHRoaXMud2lyZWZyYW1lPWUud2lyZWZyYW1lLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPWUud2lyZWZyYW1lTGluZXdpZHRoLHRoaXMud2lyZWZyYW1lTGluZWNhcD1lLndpcmVmcmFtZUxpbmVjYXAsdGhpcy53aXJlZnJhbWVMaW5lam9pbj1lLndpcmVmcmFtZUxpbmVqb2luLHRoaXN9fVpjLnByb3RvdHlwZS5pc01lc2hMYW1iZXJ0TWF0ZXJpYWw9ITA7Y2xhc3MgS2MgZXh0ZW5kcyBsdHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpO3RoaXMuZGVmaW5lcz17TUFUQ0FQOiIifSx0aGlzLnR5cGU9Ik1lc2hNYXRjYXBNYXRlcmlhbCIsdGhpcy5jb2xvcj1uZXcgZ2UoMTY3NzcyMTUpLHRoaXMubWF0Y2FwPW51bGwsdGhpcy5tYXA9bnVsbCx0aGlzLmJ1bXBNYXA9bnVsbCx0aGlzLmJ1bXBTY2FsZT0xLHRoaXMubm9ybWFsTWFwPW51bGwsdGhpcy5ub3JtYWxNYXBUeXBlPUxyLHRoaXMubm9ybWFsU2NhbGU9bmV3IGVlKDEsMSksdGhpcy5kaXNwbGFjZW1lbnRNYXA9bnVsbCx0aGlzLmRpc3BsYWNlbWVudFNjYWxlPTEsdGhpcy5kaXNwbGFjZW1lbnRCaWFzPTAsdGhpcy5hbHBoYU1hcD1udWxsLHRoaXMuZmxhdFNoYWRpbmc9ITEsdGhpcy5zZXRWYWx1ZXMoZSl9Y29weShlKXtyZXR1cm4gc3VwZXIuY29weShlKSx0aGlzLmRlZmluZXM9e01BVENBUDoiIn0sdGhpcy5jb2xvci5jb3B5KGUuY29sb3IpLHRoaXMubWF0Y2FwPWUubWF0Y2FwLHRoaXMubWFwPWUubWFwLHRoaXMuYnVtcE1hcD1lLmJ1bXBNYXAsdGhpcy5idW1wU2NhbGU9ZS5idW1wU2NhbGUsdGhpcy5ub3JtYWxNYXA9ZS5ub3JtYWxNYXAsdGhpcy5ub3JtYWxNYXBUeXBlPWUubm9ybWFsTWFwVHlwZSx0aGlzLm5vcm1hbFNjYWxlLmNvcHkoZS5ub3JtYWxTY2FsZSksdGhpcy5kaXNwbGFjZW1lbnRNYXA9ZS5kaXNwbGFjZW1lbnRNYXAsdGhpcy5kaXNwbGFjZW1lbnRTY2FsZT1lLmRpc3BsYWNlbWVudFNjYWxlLHRoaXMuZGlzcGxhY2VtZW50Qmlhcz1lLmRpc3BsYWNlbWVudEJpYXMsdGhpcy5hbHBoYU1hcD1lLmFscGhhTWFwLHRoaXMuZmxhdFNoYWRpbmc9ZS5mbGF0U2hhZGluZyx0aGlzfX1LYy5wcm90b3R5cGUuaXNNZXNoTWF0Y2FwTWF0ZXJpYWw9ITA7Y2xhc3MgUWMgZXh0ZW5kcyAkcntjb25zdHJ1Y3RvcihlKXtzdXBlcigpO3RoaXMudHlwZT0iTGluZURhc2hlZE1hdGVyaWFsIix0aGlzLnNjYWxlPTEsdGhpcy5kYXNoU2l6ZT0zLHRoaXMuZ2FwU2l6ZT0xLHRoaXMuc2V0VmFsdWVzKGUpfWNvcHkoZSl7cmV0dXJuIHN1cGVyLmNvcHkoZSksdGhpcy5zY2FsZT1lLnNjYWxlLHRoaXMuZGFzaFNpemU9ZS5kYXNoU2l6ZSx0aGlzLmdhcFNpemU9ZS5nYXBTaXplLHRoaXN9fVFjLnByb3RvdHlwZS5pc0xpbmVEYXNoZWRNYXRlcmlhbD0hMDtjb25zdCBiTT17U2hhZG93TWF0ZXJpYWw6V2MsU3ByaXRlTWF0ZXJpYWw6eW8sUmF3U2hhZGVyTWF0ZXJpYWw6amMsU2hhZGVyTWF0ZXJpYWw6JHQsUG9pbnRzTWF0ZXJpYWw6VG8sTWVzaFBoeXNpY2FsTWF0ZXJpYWw6cWMsTWVzaFN0YW5kYXJkTWF0ZXJpYWw6Rm8sTWVzaFBob25nTWF0ZXJpYWw6WGMsTWVzaFRvb25NYXRlcmlhbDpKYyxNZXNoTm9ybWFsTWF0ZXJpYWw6WWMsTWVzaExhbWJlcnRNYXRlcmlhbDpaYyxNZXNoRGVwdGhNYXRlcmlhbDp2byxNZXNoRGlzdGFuY2VNYXRlcmlhbDp4byxNZXNoQmFzaWNNYXRlcmlhbDpDYSxNZXNoTWF0Y2FwTWF0ZXJpYWw6S2MsTGluZURhc2hlZE1hdGVyaWFsOlFjLExpbmVCYXNpY01hdGVyaWFsOiRyLE1hdGVyaWFsOmx0fTtsdC5mcm9tVHlwZT1mdW5jdGlvbihpKXtyZXR1cm4gbmV3IGJNW2ldfTtjb25zdCBldD17YXJyYXlTbGljZTpmdW5jdGlvbihpLGUsdCl7cmV0dXJuIGV0LmlzVHlwZWRBcnJheShpKT9uZXcgaS5jb25zdHJ1Y3RvcihpLnN1YmFycmF5KGUsdCE9PXZvaWQgMD90OmkubGVuZ3RoKSk6aS5zbGljZShlLHQpfSxjb252ZXJ0QXJyYXk6ZnVuY3Rpb24oaSxlLHQpe3JldHVybiFpfHwhdCYmaS5jb25zdHJ1Y3Rvcj09PWU/aTp0eXBlb2YgZS5CWVRFU19QRVJfRUxFTUVOVD09Im51bWJlciI/bmV3IGUoaSk6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoaSl9LGlzVHlwZWRBcnJheTpmdW5jdGlvbihpKXtyZXR1cm4gQXJyYXlCdWZmZXIuaXNWaWV3KGkpJiYhKGkgaW5zdGFuY2VvZiBEYXRhVmlldyl9LGdldEtleWZyYW1lT3JkZXI6ZnVuY3Rpb24oaSl7ZnVuY3Rpb24gZShzLGEpe3JldHVybiBpW3NdLWlbYV19Y29uc3QgdD1pLmxlbmd0aCxyPW5ldyBBcnJheSh0KTtmb3IobGV0IHM9MDtzIT09dDsrK3MpcltzXT1zO3JldHVybiByLnNvcnQoZSkscn0sc29ydGVkQXJyYXk6ZnVuY3Rpb24oaSxlLHQpe2NvbnN0IHI9aS5sZW5ndGgscz1uZXcgaS5jb25zdHJ1Y3RvcihyKTtmb3IobGV0IGE9MCxuPTA7biE9PXI7KythKXtjb25zdCBvPXRbYV0qZTtmb3IobGV0IGg9MDtoIT09ZTsrK2gpc1tuKytdPWlbbytoXX1yZXR1cm4gc30sZmxhdHRlbkpTT046ZnVuY3Rpb24oaSxlLHQscil7bGV0IHM9MSxhPWlbMF07Zm9yKDthIT09dm9pZCAwJiZhW3JdPT09dm9pZCAwOylhPWlbcysrXTtpZihhPT09dm9pZCAwKXJldHVybjtsZXQgbj1hW3JdO2lmKG4hPT12b2lkIDApaWYoQXJyYXkuaXNBcnJheShuKSlkbyBuPWFbcl0sbiE9PXZvaWQgMCYmKGUucHVzaChhLnRpbWUpLHQucHVzaC5hcHBseSh0LG4pKSxhPWlbcysrXTt3aGlsZShhIT09dm9pZCAwKTtlbHNlIGlmKG4udG9BcnJheSE9PXZvaWQgMClkbyBuPWFbcl0sbiE9PXZvaWQgMCYmKGUucHVzaChhLnRpbWUpLG4udG9BcnJheSh0LHQubGVuZ3RoKSksYT1pW3MrK107d2hpbGUoYSE9PXZvaWQgMCk7ZWxzZSBkbyBuPWFbcl0sbiE9PXZvaWQgMCYmKGUucHVzaChhLnRpbWUpLHQucHVzaChuKSksYT1pW3MrK107d2hpbGUoYSE9PXZvaWQgMCl9LHN1YmNsaXA6ZnVuY3Rpb24oaSxlLHQscixzPTMwKXtjb25zdCBhPWkuY2xvbmUoKTthLm5hbWU9ZTtjb25zdCBuPVtdO2ZvcihsZXQgaD0wO2g8YS50cmFja3MubGVuZ3RoOysraCl7Y29uc3QgbD1hLnRyYWNrc1toXSxjPWwuZ2V0VmFsdWVTaXplKCksdT1bXSxkPVtdO2ZvcihsZXQgcD0wO3A8bC50aW1lcy5sZW5ndGg7KytwKXtjb25zdCBnPWwudGltZXNbcF0qcztpZighKGc8dHx8Zz49cikpe3UucHVzaChsLnRpbWVzW3BdKTtmb3IobGV0IGY9MDtmPGM7KytmKWQucHVzaChsLnZhbHVlc1twKmMrZl0pfX11Lmxlbmd0aCE9PTAmJihsLnRpbWVzPWV0LmNvbnZlcnRBcnJheSh1LGwudGltZXMuY29uc3RydWN0b3IpLGwudmFsdWVzPWV0LmNvbnZlcnRBcnJheShkLGwudmFsdWVzLmNvbnN0cnVjdG9yKSxuLnB1c2gobCkpfWEudHJhY2tzPW47bGV0IG89MS8wO2ZvcihsZXQgaD0wO2g8YS50cmFja3MubGVuZ3RoOysraClvPmEudHJhY2tzW2hdLnRpbWVzWzBdJiYobz1hLnRyYWNrc1toXS50aW1lc1swXSk7Zm9yKGxldCBoPTA7aDxhLnRyYWNrcy5sZW5ndGg7KytoKWEudHJhY2tzW2hdLnNoaWZ0KC0xKm8pO3JldHVybiBhLnJlc2V0RHVyYXRpb24oKSxhfSxtYWtlQ2xpcEFkZGl0aXZlOmZ1bmN0aW9uKGksZT0wLHQ9aSxyPTMwKXtyPD0wJiYocj0zMCk7Y29uc3Qgcz10LnRyYWNrcy5sZW5ndGgsYT1lL3I7Zm9yKGxldCBuPTA7bjxzOysrbil7Y29uc3Qgbz10LnRyYWNrc1tuXSxoPW8uVmFsdWVUeXBlTmFtZTtpZihoPT09ImJvb2wifHxoPT09InN0cmluZyIpY29udGludWU7Y29uc3QgbD1pLnRyYWNrcy5maW5kKGZ1bmN0aW9uKHYpe3JldHVybiB2Lm5hbWU9PT1vLm5hbWUmJnYuVmFsdWVUeXBlTmFtZT09PWh9KTtpZihsPT09dm9pZCAwKWNvbnRpbnVlO2xldCBjPTA7Y29uc3QgdT1vLmdldFZhbHVlU2l6ZSgpO28uY3JlYXRlSW50ZXJwb2xhbnQuaXNJbnRlcnBvbGFudEZhY3RvcnlNZXRob2RHTFRGQ3ViaWNTcGxpbmUmJihjPXUvMyk7bGV0IGQ9MDtjb25zdCBwPWwuZ2V0VmFsdWVTaXplKCk7bC5jcmVhdGVJbnRlcnBvbGFudC5pc0ludGVycG9sYW50RmFjdG9yeU1ldGhvZEdMVEZDdWJpY1NwbGluZSYmKGQ9cC8zKTtjb25zdCBnPW8udGltZXMubGVuZ3RoLTE7bGV0IGY7aWYoYTw9by50aW1lc1swXSl7Y29uc3Qgdj1jLHk9dS1jO2Y9ZXQuYXJyYXlTbGljZShvLnZhbHVlcyx2LHkpfWVsc2UgaWYoYT49by50aW1lc1tnXSl7Y29uc3Qgdj1nKnUrYyx5PXYrdS1jO2Y9ZXQuYXJyYXlTbGljZShvLnZhbHVlcyx2LHkpfWVsc2V7Y29uc3Qgdj1vLmNyZWF0ZUludGVycG9sYW50KCkseT1jLFQ9dS1jO3YuZXZhbHVhdGUoYSksZj1ldC5hcnJheVNsaWNlKHYucmVzdWx0QnVmZmVyLHksVCl9aD09PSJxdWF0ZXJuaW9uIiYmbmV3IFR0KCkuZnJvbUFycmF5KGYpLm5vcm1hbGl6ZSgpLmNvbmp1Z2F0ZSgpLnRvQXJyYXkoZik7Y29uc3QgbT1sLnRpbWVzLmxlbmd0aDtmb3IobGV0IHY9MDt2PG07Kyt2KXtjb25zdCB5PXYqcCtkO2lmKGg9PT0icXVhdGVybmlvbiIpVHQubXVsdGlwbHlRdWF0ZXJuaW9uc0ZsYXQobC52YWx1ZXMseSxmLDAsbC52YWx1ZXMseSk7ZWxzZXtjb25zdCBUPXAtZCoyO2ZvcihsZXQgdz0wO3c8VDsrK3cpbC52YWx1ZXNbeSt3XS09Zlt3XX19fXJldHVybiBpLmJsZW5kTW9kZT1mbCxpfX07Y2xhc3MgVml7Y29uc3RydWN0b3IoZSx0LHIscyl7dGhpcy5wYXJhbWV0ZXJQb3NpdGlvbnM9ZSx0aGlzLl9jYWNoZWRJbmRleD0wLHRoaXMucmVzdWx0QnVmZmVyPXMhPT12b2lkIDA/czpuZXcgdC5jb25zdHJ1Y3RvcihyKSx0aGlzLnNhbXBsZVZhbHVlcz10LHRoaXMudmFsdWVTaXplPXIsdGhpcy5zZXR0aW5ncz1udWxsLHRoaXMuRGVmYXVsdFNldHRpbmdzXz17fX1ldmFsdWF0ZShlKXtjb25zdCB0PXRoaXMucGFyYW1ldGVyUG9zaXRpb25zO2xldCByPXRoaXMuX2NhY2hlZEluZGV4LHM9dFtyXSxhPXRbci0xXTtlOnt0OntsZXQgbjtpOntyOmlmKCEoZTxzKSl7Zm9yKGxldCBvPXIrMjs7KXtpZihzPT09dm9pZCAwKXtpZihlPGEpYnJlYWsgcjtyZXR1cm4gcj10Lmxlbmd0aCx0aGlzLl9jYWNoZWRJbmRleD1yLHRoaXMuYWZ0ZXJFbmRfKHItMSxlLGEpfWlmKHI9PT1vKWJyZWFrO2lmKGE9cyxzPXRbKytyXSxlPHMpYnJlYWsgdH1uPXQubGVuZ3RoO2JyZWFrIGl9aWYoIShlPj1hKSl7Y29uc3Qgbz10WzFdO2U8byYmKHI9MixhPW8pO2ZvcihsZXQgaD1yLTI7Oyl7aWYoYT09PXZvaWQgMClyZXR1cm4gdGhpcy5fY2FjaGVkSW5kZXg9MCx0aGlzLmJlZm9yZVN0YXJ0XygwLGUscyk7aWYocj09PWgpYnJlYWs7aWYocz1hLGE9dFstLXItMV0sZT49YSlicmVhayB0fW49cixyPTA7YnJlYWsgaX1icmVhayBlfWZvcig7cjxuOyl7Y29uc3Qgbz1yK24+Pj4xO2U8dFtvXT9uPW86cj1vKzF9aWYocz10W3JdLGE9dFtyLTFdLGE9PT12b2lkIDApcmV0dXJuIHRoaXMuX2NhY2hlZEluZGV4PTAsdGhpcy5iZWZvcmVTdGFydF8oMCxlLHMpO2lmKHM9PT12b2lkIDApcmV0dXJuIHI9dC5sZW5ndGgsdGhpcy5fY2FjaGVkSW5kZXg9cix0aGlzLmFmdGVyRW5kXyhyLTEsYSxlKX10aGlzLl9jYWNoZWRJbmRleD1yLHRoaXMuaW50ZXJ2YWxDaGFuZ2VkXyhyLGEscyl9cmV0dXJuIHRoaXMuaW50ZXJwb2xhdGVfKHIsYSxlLHMpfWdldFNldHRpbmdzXygpe3JldHVybiB0aGlzLnNldHRpbmdzfHx0aGlzLkRlZmF1bHRTZXR0aW5nc199Y29weVNhbXBsZVZhbHVlXyhlKXtjb25zdCB0PXRoaXMucmVzdWx0QnVmZmVyLHI9dGhpcy5zYW1wbGVWYWx1ZXMscz10aGlzLnZhbHVlU2l6ZSxhPWUqcztmb3IobGV0IG49MDtuIT09czsrK24pdFtuXT1yW2Erbl07cmV0dXJuIHR9aW50ZXJwb2xhdGVfKCl7dGhyb3cgbmV3IEVycm9yKCJjYWxsIHRvIGFic3RyYWN0IG1ldGhvZCIpfWludGVydmFsQ2hhbmdlZF8oKXt9fVZpLnByb3RvdHlwZS5iZWZvcmVTdGFydF89VmkucHJvdG90eXBlLmNvcHlTYW1wbGVWYWx1ZV8sVmkucHJvdG90eXBlLmFmdGVyRW5kXz1WaS5wcm90b3R5cGUuY29weVNhbXBsZVZhbHVlXztjbGFzcyB3TSBleHRlbmRzIFZpe2NvbnN0cnVjdG9yKGUsdCxyLHMpe3N1cGVyKGUsdCxyLHMpO3RoaXMuX3dlaWdodFByZXY9LTAsdGhpcy5fb2Zmc2V0UHJldj0tMCx0aGlzLl93ZWlnaHROZXh0PS0wLHRoaXMuX29mZnNldE5leHQ9LTAsdGhpcy5EZWZhdWx0U2V0dGluZ3NfPXtlbmRpbmdTdGFydDpBcixlbmRpbmdFbmQ6QXJ9fWludGVydmFsQ2hhbmdlZF8oZSx0LHIpe2NvbnN0IHM9dGhpcy5wYXJhbWV0ZXJQb3NpdGlvbnM7bGV0IGE9ZS0yLG49ZSsxLG89c1thXSxoPXNbbl07aWYobz09PXZvaWQgMClzd2l0Y2godGhpcy5nZXRTZXR0aW5nc18oKS5lbmRpbmdTdGFydCl7Y2FzZSBDcjphPWUsbz0yKnQtcjticmVhaztjYXNlIG1hOmE9cy5sZW5ndGgtMixvPXQrc1thXS1zW2ErMV07YnJlYWs7ZGVmYXVsdDphPWUsbz1yfWlmKGg9PT12b2lkIDApc3dpdGNoKHRoaXMuZ2V0U2V0dGluZ3NfKCkuZW5kaW5nRW5kKXtjYXNlIENyOm49ZSxoPTIqci10O2JyZWFrO2Nhc2UgbWE6bj0xLGg9citzWzFdLXNbMF07YnJlYWs7ZGVmYXVsdDpuPWUtMSxoPXR9Y29uc3QgbD0oci10KSouNSxjPXRoaXMudmFsdWVTaXplO3RoaXMuX3dlaWdodFByZXY9bC8odC1vKSx0aGlzLl93ZWlnaHROZXh0PWwvKGgtciksdGhpcy5fb2Zmc2V0UHJldj1hKmMsdGhpcy5fb2Zmc2V0TmV4dD1uKmN9aW50ZXJwb2xhdGVfKGUsdCxyLHMpe2NvbnN0IGE9dGhpcy5yZXN1bHRCdWZmZXIsbj10aGlzLnNhbXBsZVZhbHVlcyxvPXRoaXMudmFsdWVTaXplLGg9ZSpvLGw9aC1vLGM9dGhpcy5fb2Zmc2V0UHJldix1PXRoaXMuX29mZnNldE5leHQsZD10aGlzLl93ZWlnaHRQcmV2LHA9dGhpcy5fd2VpZ2h0TmV4dCxnPShyLXQpLyhzLXQpLGY9ZypnLG09ZipnLHY9LWQqbSsyKmQqZi1kKmcseT0oMStkKSptKygtMS41LTIqZCkqZisoLS41K2QpKmcrMSxUPSgtMS1wKSptKygxLjUrcCkqZisuNSpnLHc9cCptLXAqZjtmb3IobGV0IGI9MDtiIT09bzsrK2IpYVtiXT12Km5bYytiXSt5Km5bbCtiXStUKm5baCtiXSt3Km5bdStiXTtyZXR1cm4gYX19Y2xhc3MgJGMgZXh0ZW5kcyBWaXtjb25zdHJ1Y3RvcihlLHQscixzKXtzdXBlcihlLHQscixzKX1pbnRlcnBvbGF0ZV8oZSx0LHIscyl7Y29uc3QgYT10aGlzLnJlc3VsdEJ1ZmZlcixuPXRoaXMuc2FtcGxlVmFsdWVzLG89dGhpcy52YWx1ZVNpemUsaD1lKm8sbD1oLW8sYz0oci10KS8ocy10KSx1PTEtYztmb3IobGV0IGQ9MDtkIT09bzsrK2QpYVtkXT1uW2wrZF0qdStuW2grZF0qYztyZXR1cm4gYX19Y2xhc3MgU00gZXh0ZW5kcyBWaXtjb25zdHJ1Y3RvcihlLHQscixzKXtzdXBlcihlLHQscixzKX1pbnRlcnBvbGF0ZV8oZSl7cmV0dXJuIHRoaXMuY29weVNhbXBsZVZhbHVlXyhlLTEpfX1jbGFzcyBuaXtjb25zdHJ1Y3RvcihlLHQscixzKXtpZihlPT09dm9pZCAwKXRocm93IG5ldyBFcnJvcigiVEhSRUUuS2V5ZnJhbWVUcmFjazogdHJhY2sgbmFtZSBpcyB1bmRlZmluZWQiKTtpZih0PT09dm9pZCAwfHx0Lmxlbmd0aD09PTApdGhyb3cgbmV3IEVycm9yKCJUSFJFRS5LZXlmcmFtZVRyYWNrOiBubyBrZXlmcmFtZXMgaW4gdHJhY2sgbmFtZWQgIitlKTt0aGlzLm5hbWU9ZSx0aGlzLnRpbWVzPWV0LmNvbnZlcnRBcnJheSh0LHRoaXMuVGltZUJ1ZmZlclR5cGUpLHRoaXMudmFsdWVzPWV0LmNvbnZlcnRBcnJheShyLHRoaXMuVmFsdWVCdWZmZXJUeXBlKSx0aGlzLnNldEludGVycG9sYXRpb24oc3x8dGhpcy5EZWZhdWx0SW50ZXJwb2xhdGlvbil9c3RhdGljIHRvSlNPTihlKXtjb25zdCB0PWUuY29uc3RydWN0b3I7bGV0IHI7aWYodC50b0pTT04hPT10aGlzLnRvSlNPTilyPXQudG9KU09OKGUpO2Vsc2V7cj17bmFtZTplLm5hbWUsdGltZXM6ZXQuY29udmVydEFycmF5KGUudGltZXMsQXJyYXkpLHZhbHVlczpldC5jb252ZXJ0QXJyYXkoZS52YWx1ZXMsQXJyYXkpfTtjb25zdCBzPWUuZ2V0SW50ZXJwb2xhdGlvbigpO3MhPT1lLkRlZmF1bHRJbnRlcnBvbGF0aW9uJiYoci5pbnRlcnBvbGF0aW9uPXMpfXJldHVybiByLnR5cGU9ZS5WYWx1ZVR5cGVOYW1lLHJ9SW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kRGlzY3JldGUoZSl7cmV0dXJuIG5ldyBTTSh0aGlzLnRpbWVzLHRoaXMudmFsdWVzLHRoaXMuZ2V0VmFsdWVTaXplKCksZSl9SW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kTGluZWFyKGUpe3JldHVybiBuZXcgJGModGhpcy50aW1lcyx0aGlzLnZhbHVlcyx0aGlzLmdldFZhbHVlU2l6ZSgpLGUpfUludGVycG9sYW50RmFjdG9yeU1ldGhvZFNtb290aChlKXtyZXR1cm4gbmV3IHdNKHRoaXMudGltZXMsdGhpcy52YWx1ZXMsdGhpcy5nZXRWYWx1ZVNpemUoKSxlKX1zZXRJbnRlcnBvbGF0aW9uKGUpe2xldCB0O3N3aXRjaChlKXtjYXNlIHBhOnQ9dGhpcy5JbnRlcnBvbGFudEZhY3RvcnlNZXRob2REaXNjcmV0ZTticmVhaztjYXNlIGZhOnQ9dGhpcy5JbnRlcnBvbGFudEZhY3RvcnlNZXRob2RMaW5lYXI7YnJlYWs7Y2FzZSBSbjp0PXRoaXMuSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kU21vb3RoO2JyZWFrfWlmKHQ9PT12b2lkIDApe2NvbnN0IHI9InVuc3VwcG9ydGVkIGludGVycG9sYXRpb24gZm9yICIrdGhpcy5WYWx1ZVR5cGVOYW1lKyIga2V5ZnJhbWUgdHJhY2sgbmFtZWQgIit0aGlzLm5hbWU7aWYodGhpcy5jcmVhdGVJbnRlcnBvbGFudD09PXZvaWQgMClpZihlIT09dGhpcy5EZWZhdWx0SW50ZXJwb2xhdGlvbil0aGlzLnNldEludGVycG9sYXRpb24odGhpcy5EZWZhdWx0SW50ZXJwb2xhdGlvbik7ZWxzZSB0aHJvdyBuZXcgRXJyb3Iocik7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuS2V5ZnJhbWVUcmFjazoiLHIpLHRoaXN9cmV0dXJuIHRoaXMuY3JlYXRlSW50ZXJwb2xhbnQ9dCx0aGlzfWdldEludGVycG9sYXRpb24oKXtzd2l0Y2godGhpcy5jcmVhdGVJbnRlcnBvbGFudCl7Y2FzZSB0aGlzLkludGVycG9sYW50RmFjdG9yeU1ldGhvZERpc2NyZXRlOnJldHVybiBwYTtjYXNlIHRoaXMuSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kTGluZWFyOnJldHVybiBmYTtjYXNlIHRoaXMuSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kU21vb3RoOnJldHVybiBSbn19Z2V0VmFsdWVTaXplKCl7cmV0dXJuIHRoaXMudmFsdWVzLmxlbmd0aC90aGlzLnRpbWVzLmxlbmd0aH1zaGlmdChlKXtpZihlIT09MCl7Y29uc3QgdD10aGlzLnRpbWVzO2ZvcihsZXQgcj0wLHM9dC5sZW5ndGg7ciE9PXM7KytyKXRbcl0rPWV9cmV0dXJuIHRoaXN9c2NhbGUoZSl7aWYoZSE9PTEpe2NvbnN0IHQ9dGhpcy50aW1lcztmb3IobGV0IHI9MCxzPXQubGVuZ3RoO3IhPT1zOysrcil0W3JdKj1lfXJldHVybiB0aGlzfXRyaW0oZSx0KXtjb25zdCByPXRoaXMudGltZXMscz1yLmxlbmd0aDtsZXQgYT0wLG49cy0xO2Zvcig7YSE9PXMmJnJbYV08ZTspKythO2Zvcig7biE9PS0xJiZyW25dPnQ7KS0tbjtpZigrK24sYSE9PTB8fG4hPT1zKXthPj1uJiYobj1NYXRoLm1heChuLDEpLGE9bi0xKTtjb25zdCBvPXRoaXMuZ2V0VmFsdWVTaXplKCk7dGhpcy50aW1lcz1ldC5hcnJheVNsaWNlKHIsYSxuKSx0aGlzLnZhbHVlcz1ldC5hcnJheVNsaWNlKHRoaXMudmFsdWVzLGEqbyxuKm8pfXJldHVybiB0aGlzfXZhbGlkYXRlKCl7bGV0IGU9ITA7Y29uc3QgdD10aGlzLmdldFZhbHVlU2l6ZSgpO3QtTWF0aC5mbG9vcih0KSE9PTAmJihjb25zb2xlLmVycm9yKCJUSFJFRS5LZXlmcmFtZVRyYWNrOiBJbnZhbGlkIHZhbHVlIHNpemUgaW4gdHJhY2suIix0aGlzKSxlPSExKTtjb25zdCByPXRoaXMudGltZXMscz10aGlzLnZhbHVlcyxhPXIubGVuZ3RoO2E9PT0wJiYoY29uc29sZS5lcnJvcigiVEhSRUUuS2V5ZnJhbWVUcmFjazogVHJhY2sgaXMgZW1wdHkuIix0aGlzKSxlPSExKTtsZXQgbj1udWxsO2ZvcihsZXQgbz0wO28hPT1hO28rKyl7Y29uc3QgaD1yW29dO2lmKHR5cGVvZiBoPT0ibnVtYmVyIiYmaXNOYU4oaCkpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLktleWZyYW1lVHJhY2s6IFRpbWUgaXMgbm90IGEgdmFsaWQgbnVtYmVyLiIsdGhpcyxvLGgpLGU9ITE7YnJlYWt9aWYobiE9PW51bGwmJm4+aCl7Y29uc29sZS5lcnJvcigiVEhSRUUuS2V5ZnJhbWVUcmFjazogT3V0IG9mIG9yZGVyIGtleXMuIix0aGlzLG8saCxuKSxlPSExO2JyZWFrfW49aH1pZihzIT09dm9pZCAwJiZldC5pc1R5cGVkQXJyYXkocykpZm9yKGxldCBvPTAsaD1zLmxlbmd0aDtvIT09aDsrK28pe2NvbnN0IGw9c1tvXTtpZihpc05hTihsKSl7Y29uc29sZS5lcnJvcigiVEhSRUUuS2V5ZnJhbWVUcmFjazogVmFsdWUgaXMgbm90IGEgdmFsaWQgbnVtYmVyLiIsdGhpcyxvLGwpLGU9ITE7YnJlYWt9fXJldHVybiBlfW9wdGltaXplKCl7Y29uc3QgZT1ldC5hcnJheVNsaWNlKHRoaXMudGltZXMpLHQ9ZXQuYXJyYXlTbGljZSh0aGlzLnZhbHVlcykscj10aGlzLmdldFZhbHVlU2l6ZSgpLHM9dGhpcy5nZXRJbnRlcnBvbGF0aW9uKCk9PT1SbixhPWUubGVuZ3RoLTE7bGV0IG49MTtmb3IobGV0IG89MTtvPGE7KytvKXtsZXQgaD0hMTtjb25zdCBsPWVbb10sYz1lW28rMV07aWYobCE9PWMmJihvIT09MXx8bCE9PWVbMF0pKWlmKHMpaD0hMDtlbHNle2NvbnN0IHU9bypyLGQ9dS1yLHA9dStyO2ZvcihsZXQgZz0wO2chPT1yOysrZyl7Y29uc3QgZj10W3UrZ107aWYoZiE9PXRbZCtnXXx8ZiE9PXRbcCtnXSl7aD0hMDticmVha319fWlmKGgpe2lmKG8hPT1uKXtlW25dPWVbb107Y29uc3QgdT1vKnIsZD1uKnI7Zm9yKGxldCBwPTA7cCE9PXI7KytwKXRbZCtwXT10W3UrcF19KytufX1pZihhPjApe2Vbbl09ZVthXTtmb3IobGV0IG89YSpyLGg9bipyLGw9MDtsIT09cjsrK2wpdFtoK2xdPXRbbytsXTsrK259cmV0dXJuIG4hPT1lLmxlbmd0aD8odGhpcy50aW1lcz1ldC5hcnJheVNsaWNlKGUsMCxuKSx0aGlzLnZhbHVlcz1ldC5hcnJheVNsaWNlKHQsMCxuKnIpKToodGhpcy50aW1lcz1lLHRoaXMudmFsdWVzPXQpLHRoaXN9Y2xvbmUoKXtjb25zdCBlPWV0LmFycmF5U2xpY2UodGhpcy50aW1lcywwKSx0PWV0LmFycmF5U2xpY2UodGhpcy52YWx1ZXMsMCkscj10aGlzLmNvbnN0cnVjdG9yLHM9bmV3IHIodGhpcy5uYW1lLGUsdCk7cmV0dXJuIHMuY3JlYXRlSW50ZXJwb2xhbnQ9dGhpcy5jcmVhdGVJbnRlcnBvbGFudCxzfX1uaS5wcm90b3R5cGUuVGltZUJ1ZmZlclR5cGU9RmxvYXQzMkFycmF5LG5pLnByb3RvdHlwZS5WYWx1ZUJ1ZmZlclR5cGU9RmxvYXQzMkFycmF5LG5pLnByb3RvdHlwZS5EZWZhdWx0SW50ZXJwb2xhdGlvbj1mYTtjbGFzcyBpcyBleHRlbmRzIG5pe31pcy5wcm90b3R5cGUuVmFsdWVUeXBlTmFtZT0iYm9vbCIsaXMucHJvdG90eXBlLlZhbHVlQnVmZmVyVHlwZT1BcnJheSxpcy5wcm90b3R5cGUuRGVmYXVsdEludGVycG9sYXRpb249cGEsaXMucHJvdG90eXBlLkludGVycG9sYW50RmFjdG9yeU1ldGhvZExpbmVhcj12b2lkIDAsaXMucHJvdG90eXBlLkludGVycG9sYW50RmFjdG9yeU1ldGhvZFNtb290aD12b2lkIDA7Y2xhc3MgZXUgZXh0ZW5kcyBuaXt9ZXUucHJvdG90eXBlLlZhbHVlVHlwZU5hbWU9ImNvbG9yIjtjbGFzcyBybiBleHRlbmRzIG5pe31ybi5wcm90b3R5cGUuVmFsdWVUeXBlTmFtZT0ibnVtYmVyIjtjbGFzcyBFTSBleHRlbmRzIFZpe2NvbnN0cnVjdG9yKGUsdCxyLHMpe3N1cGVyKGUsdCxyLHMpfWludGVycG9sYXRlXyhlLHQscixzKXtjb25zdCBhPXRoaXMucmVzdWx0QnVmZmVyLG49dGhpcy5zYW1wbGVWYWx1ZXMsbz10aGlzLnZhbHVlU2l6ZSxoPShyLXQpLyhzLXQpO2xldCBsPWUqbztmb3IobGV0IGM9bCtvO2whPT1jO2wrPTQpVHQuc2xlcnBGbGF0KGEsMCxuLGwtbyxuLGwsaCk7cmV0dXJuIGF9fWNsYXNzIGpzIGV4dGVuZHMgbml7SW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kTGluZWFyKGUpe3JldHVybiBuZXcgRU0odGhpcy50aW1lcyx0aGlzLnZhbHVlcyx0aGlzLmdldFZhbHVlU2l6ZSgpLGUpfX1qcy5wcm90b3R5cGUuVmFsdWVUeXBlTmFtZT0icXVhdGVybmlvbiIsanMucHJvdG90eXBlLkRlZmF1bHRJbnRlcnBvbGF0aW9uPWZhLGpzLnByb3RvdHlwZS5JbnRlcnBvbGFudEZhY3RvcnlNZXRob2RTbW9vdGg9dm9pZCAwO2NsYXNzIHJzIGV4dGVuZHMgbml7fXJzLnByb3RvdHlwZS5WYWx1ZVR5cGVOYW1lPSJzdHJpbmciLHJzLnByb3RvdHlwZS5WYWx1ZUJ1ZmZlclR5cGU9QXJyYXkscnMucHJvdG90eXBlLkRlZmF1bHRJbnRlcnBvbGF0aW9uPXBhLHJzLnByb3RvdHlwZS5JbnRlcnBvbGFudEZhY3RvcnlNZXRob2RMaW5lYXI9dm9pZCAwLHJzLnByb3RvdHlwZS5JbnRlcnBvbGFudEZhY3RvcnlNZXRob2RTbW9vdGg9dm9pZCAwO2NsYXNzIHNuIGV4dGVuZHMgbml7fXNuLnByb3RvdHlwZS5WYWx1ZVR5cGVOYW1lPSJ2ZWN0b3IiO2NsYXNzIHR1e2NvbnN0cnVjdG9yKGUsdD0tMSxyLHM9UG4pe3RoaXMubmFtZT1lLHRoaXMudHJhY2tzPXIsdGhpcy5kdXJhdGlvbj10LHRoaXMuYmxlbmRNb2RlPXMsdGhpcy51dWlkPXNpKCksdGhpcy5kdXJhdGlvbjwwJiZ0aGlzLnJlc2V0RHVyYXRpb24oKX1zdGF0aWMgcGFyc2UoZSl7Y29uc3QgdD1bXSxyPWUudHJhY2tzLHM9MS8oZS5mcHN8fDEpO2ZvcihsZXQgbj0wLG89ci5sZW5ndGg7biE9PW87KytuKXQucHVzaChBTShyW25dKS5zY2FsZShzKSk7Y29uc3QgYT1uZXcgdGhpcyhlLm5hbWUsZS5kdXJhdGlvbix0LGUuYmxlbmRNb2RlKTtyZXR1cm4gYS51dWlkPWUudXVpZCxhfXN0YXRpYyB0b0pTT04oZSl7Y29uc3QgdD1bXSxyPWUudHJhY2tzLHM9e25hbWU6ZS5uYW1lLGR1cmF0aW9uOmUuZHVyYXRpb24sdHJhY2tzOnQsdXVpZDplLnV1aWQsYmxlbmRNb2RlOmUuYmxlbmRNb2RlfTtmb3IobGV0IGE9MCxuPXIubGVuZ3RoO2EhPT1uOysrYSl0LnB1c2gobmkudG9KU09OKHJbYV0pKTtyZXR1cm4gc31zdGF0aWMgQ3JlYXRlRnJvbU1vcnBoVGFyZ2V0U2VxdWVuY2UoZSx0LHIscyl7Y29uc3QgYT10Lmxlbmd0aCxuPVtdO2ZvcihsZXQgbz0wO288YTtvKyspe2xldCBoPVtdLGw9W107aC5wdXNoKChvK2EtMSklYSxvLChvKzEpJWEpLGwucHVzaCgwLDEsMCk7Y29uc3QgYz1ldC5nZXRLZXlmcmFtZU9yZGVyKGgpO2g9ZXQuc29ydGVkQXJyYXkoaCwxLGMpLGw9ZXQuc29ydGVkQXJyYXkobCwxLGMpLCFzJiZoWzBdPT09MCYmKGgucHVzaChhKSxsLnB1c2gobFswXSkpLG4ucHVzaChuZXcgcm4oIi5tb3JwaFRhcmdldEluZmx1ZW5jZXNbIit0W29dLm5hbWUrIl0iLGgsbCkuc2NhbGUoMS9yKSl9cmV0dXJuIG5ldyB0aGlzKGUsLTEsbil9c3RhdGljIGZpbmRCeU5hbWUoZSx0KXtsZXQgcj1lO2lmKCFBcnJheS5pc0FycmF5KGUpKXtjb25zdCBzPWU7cj1zLmdlb21ldHJ5JiZzLmdlb21ldHJ5LmFuaW1hdGlvbnN8fHMuYW5pbWF0aW9uc31mb3IobGV0IHM9MDtzPHIubGVuZ3RoO3MrKylpZihyW3NdLm5hbWU9PT10KXJldHVybiByW3NdO3JldHVybiBudWxsfXN0YXRpYyBDcmVhdGVDbGlwc0Zyb21Nb3JwaFRhcmdldFNlcXVlbmNlcyhlLHQscil7Y29uc3Qgcz17fSxhPS9eKFtcdy1dKj8pKFtcZF0rKSQvO2ZvcihsZXQgbz0wLGg9ZS5sZW5ndGg7bzxoO28rKyl7Y29uc3QgbD1lW29dLGM9bC5uYW1lLm1hdGNoKGEpO2lmKGMmJmMubGVuZ3RoPjEpe2NvbnN0IHU9Y1sxXTtsZXQgZD1zW3VdO2R8fChzW3VdPWQ9W10pLGQucHVzaChsKX19Y29uc3Qgbj1bXTtmb3IoY29uc3QgbyBpbiBzKW4ucHVzaCh0aGlzLkNyZWF0ZUZyb21Nb3JwaFRhcmdldFNlcXVlbmNlKG8sc1tvXSx0LHIpKTtyZXR1cm4gbn1zdGF0aWMgcGFyc2VBbmltYXRpb24oZSx0KXtpZighZSlyZXR1cm4gY29uc29sZS5lcnJvcigiVEhSRUUuQW5pbWF0aW9uQ2xpcDogTm8gYW5pbWF0aW9uIGluIEpTT05Mb2FkZXIgZGF0YS4iKSxudWxsO2NvbnN0IHI9ZnVuY3Rpb24oYyx1LGQscCxnKXtpZihkLmxlbmd0aCE9PTApe2NvbnN0IGY9W10sbT1bXTtldC5mbGF0dGVuSlNPTihkLGYsbSxwKSxmLmxlbmd0aCE9PTAmJmcucHVzaChuZXcgYyh1LGYsbSkpfX0scz1bXSxhPWUubmFtZXx8ImRlZmF1bHQiLG49ZS5mcHN8fDMwLG89ZS5ibGVuZE1vZGU7bGV0IGg9ZS5sZW5ndGh8fC0xO2NvbnN0IGw9ZS5oaWVyYXJjaHl8fFtdO2ZvcihsZXQgYz0wO2M8bC5sZW5ndGg7YysrKXtjb25zdCB1PWxbY10ua2V5cztpZighKCF1fHx1Lmxlbmd0aD09PTApKWlmKHVbMF0ubW9ycGhUYXJnZXRzKXtjb25zdCBkPXt9O2xldCBwO2ZvcihwPTA7cDx1Lmxlbmd0aDtwKyspaWYodVtwXS5tb3JwaFRhcmdldHMpZm9yKGxldCBnPTA7Zzx1W3BdLm1vcnBoVGFyZ2V0cy5sZW5ndGg7ZysrKWRbdVtwXS5tb3JwaFRhcmdldHNbZ11dPS0xO2Zvcihjb25zdCBnIGluIGQpe2NvbnN0IGY9W10sbT1bXTtmb3IobGV0IHY9MDt2IT09dVtwXS5tb3JwaFRhcmdldHMubGVuZ3RoOysrdil7Y29uc3QgeT11W3BdO2YucHVzaCh5LnRpbWUpLG0ucHVzaCh5Lm1vcnBoVGFyZ2V0PT09Zz8xOjApfXMucHVzaChuZXcgcm4oIi5tb3JwaFRhcmdldEluZmx1ZW5jZVsiK2crIl0iLGYsbSkpfWg9ZC5sZW5ndGgqbn1lbHNle2NvbnN0IGQ9Ii5ib25lc1siK3RbY10ubmFtZSsiXSI7cihzbixkKyIucG9zaXRpb24iLHUsInBvcyIscykscihqcyxkKyIucXVhdGVybmlvbiIsdSwicm90IixzKSxyKHNuLGQrIi5zY2FsZSIsdSwic2NsIixzKX19cmV0dXJuIHMubGVuZ3RoPT09MD9udWxsOm5ldyB0aGlzKGEsaCxzLG8pfXJlc2V0RHVyYXRpb24oKXtjb25zdCBlPXRoaXMudHJhY2tzO2xldCB0PTA7Zm9yKGxldCByPTAscz1lLmxlbmd0aDtyIT09czsrK3Ipe2NvbnN0IGE9dGhpcy50cmFja3Nbcl07dD1NYXRoLm1heCh0LGEudGltZXNbYS50aW1lcy5sZW5ndGgtMV0pfXJldHVybiB0aGlzLmR1cmF0aW9uPXQsdGhpc310cmltKCl7Zm9yKGxldCBlPTA7ZTx0aGlzLnRyYWNrcy5sZW5ndGg7ZSsrKXRoaXMudHJhY2tzW2VdLnRyaW0oMCx0aGlzLmR1cmF0aW9uKTtyZXR1cm4gdGhpc312YWxpZGF0ZSgpe2xldCBlPSEwO2ZvcihsZXQgdD0wO3Q8dGhpcy50cmFja3MubGVuZ3RoO3QrKyllPWUmJnRoaXMudHJhY2tzW3RdLnZhbGlkYXRlKCk7cmV0dXJuIGV9b3B0aW1pemUoKXtmb3IobGV0IGU9MDtlPHRoaXMudHJhY2tzLmxlbmd0aDtlKyspdGhpcy50cmFja3NbZV0ub3B0aW1pemUoKTtyZXR1cm4gdGhpc31jbG9uZSgpe2NvbnN0IGU9W107Zm9yKGxldCB0PTA7dDx0aGlzLnRyYWNrcy5sZW5ndGg7dCsrKWUucHVzaCh0aGlzLnRyYWNrc1t0XS5jbG9uZSgpKTtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5uYW1lLHRoaXMuZHVyYXRpb24sZSx0aGlzLmJsZW5kTW9kZSl9dG9KU09OKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9KU09OKHRoaXMpfX1mdW5jdGlvbiBUTShpKXtzd2l0Y2goaS50b0xvd2VyQ2FzZSgpKXtjYXNlInNjYWxhciI6Y2FzZSJkb3VibGUiOmNhc2UiZmxvYXQiOmNhc2UibnVtYmVyIjpjYXNlImludGVnZXIiOnJldHVybiBybjtjYXNlInZlY3RvciI6Y2FzZSJ2ZWN0b3IyIjpjYXNlInZlY3RvcjMiOmNhc2UidmVjdG9yNCI6cmV0dXJuIHNuO2Nhc2UiY29sb3IiOnJldHVybiBldTtjYXNlInF1YXRlcm5pb24iOnJldHVybiBqcztjYXNlImJvb2wiOmNhc2UiYm9vbGVhbiI6cmV0dXJuIGlzO2Nhc2Uic3RyaW5nIjpyZXR1cm4gcnN9dGhyb3cgbmV3IEVycm9yKCJUSFJFRS5LZXlmcmFtZVRyYWNrOiBVbnN1cHBvcnRlZCB0eXBlTmFtZTogIitpKX1mdW5jdGlvbiBBTShpKXtpZihpLnR5cGU9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKCJUSFJFRS5LZXlmcmFtZVRyYWNrOiB0cmFjayB0eXBlIHVuZGVmaW5lZCwgY2FuIG5vdCBwYXJzZSIpO2NvbnN0IGU9VE0oaS50eXBlKTtpZihpLnRpbWVzPT09dm9pZCAwKXtjb25zdCB0PVtdLHI9W107ZXQuZmxhdHRlbkpTT04oaS5rZXlzLHQsciwidmFsdWUiKSxpLnRpbWVzPXQsaS52YWx1ZXM9cn1yZXR1cm4gZS5wYXJzZSE9PXZvaWQgMD9lLnBhcnNlKGkpOm5ldyBlKGkubmFtZSxpLnRpbWVzLGkudmFsdWVzLGkuaW50ZXJwb2xhdGlvbil9Y29uc3Qgc3M9e2VuYWJsZWQ6ITEsZmlsZXM6e30sYWRkOmZ1bmN0aW9uKGksZSl7dGhpcy5lbmFibGVkIT09ITEmJih0aGlzLmZpbGVzW2ldPWUpfSxnZXQ6ZnVuY3Rpb24oaSl7aWYodGhpcy5lbmFibGVkIT09ITEpcmV0dXJuIHRoaXMuZmlsZXNbaV19LHJlbW92ZTpmdW5jdGlvbihpKXtkZWxldGUgdGhpcy5maWxlc1tpXX0sY2xlYXI6ZnVuY3Rpb24oKXt0aGlzLmZpbGVzPXt9fX07Y2xhc3MgQ017Y29uc3RydWN0b3IoZSx0LHIpe2NvbnN0IHM9dGhpcztsZXQgYT0hMSxuPTAsbz0wLGg7Y29uc3QgbD1bXTt0aGlzLm9uU3RhcnQ9dm9pZCAwLHRoaXMub25Mb2FkPWUsdGhpcy5vblByb2dyZXNzPXQsdGhpcy5vbkVycm9yPXIsdGhpcy5pdGVtU3RhcnQ9ZnVuY3Rpb24oYyl7bysrLGE9PT0hMSYmcy5vblN0YXJ0IT09dm9pZCAwJiZzLm9uU3RhcnQoYyxuLG8pLGE9ITB9LHRoaXMuaXRlbUVuZD1mdW5jdGlvbihjKXtuKysscy5vblByb2dyZXNzIT09dm9pZCAwJiZzLm9uUHJvZ3Jlc3MoYyxuLG8pLG49PT1vJiYoYT0hMSxzLm9uTG9hZCE9PXZvaWQgMCYmcy5vbkxvYWQoKSl9LHRoaXMuaXRlbUVycm9yPWZ1bmN0aW9uKGMpe3Mub25FcnJvciE9PXZvaWQgMCYmcy5vbkVycm9yKGMpfSx0aGlzLnJlc29sdmVVUkw9ZnVuY3Rpb24oYyl7cmV0dXJuIGg/aChjKTpjfSx0aGlzLnNldFVSTE1vZGlmaWVyPWZ1bmN0aW9uKGMpe3JldHVybiBoPWMsdGhpc30sdGhpcy5hZGRIYW5kbGVyPWZ1bmN0aW9uKGMsdSl7cmV0dXJuIGwucHVzaChjLHUpLHRoaXN9LHRoaXMucmVtb3ZlSGFuZGxlcj1mdW5jdGlvbihjKXtjb25zdCB1PWwuaW5kZXhPZihjKTtyZXR1cm4gdSE9PS0xJiZsLnNwbGljZSh1LDIpLHRoaXN9LHRoaXMuZ2V0SGFuZGxlcj1mdW5jdGlvbihjKXtmb3IobGV0IHU9MCxkPWwubGVuZ3RoO3U8ZDt1Kz0yKXtjb25zdCBwPWxbdV0sZz1sW3UrMV07aWYocC5nbG9iYWwmJihwLmxhc3RJbmRleD0wKSxwLnRlc3QoYykpcmV0dXJuIGd9cmV0dXJuIG51bGx9fX1jb25zdCBMTT1uZXcgQ007Y2xhc3MgV2l7Y29uc3RydWN0b3IoZSl7dGhpcy5tYW5hZ2VyPWUhPT12b2lkIDA/ZTpMTSx0aGlzLmNyb3NzT3JpZ2luPSJhbm9ueW1vdXMiLHRoaXMud2l0aENyZWRlbnRpYWxzPSExLHRoaXMucGF0aD0iIix0aGlzLnJlc291cmNlUGF0aD0iIix0aGlzLnJlcXVlc3RIZWFkZXI9e319bG9hZCgpe31sb2FkQXN5bmMoZSx0KXtjb25zdCByPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHMsYSl7ci5sb2FkKGUscyx0LGEpfSl9cGFyc2UoKXt9c2V0Q3Jvc3NPcmlnaW4oZSl7cmV0dXJuIHRoaXMuY3Jvc3NPcmlnaW49ZSx0aGlzfXNldFdpdGhDcmVkZW50aWFscyhlKXtyZXR1cm4gdGhpcy53aXRoQ3JlZGVudGlhbHM9ZSx0aGlzfXNldFBhdGgoZSl7cmV0dXJuIHRoaXMucGF0aD1lLHRoaXN9c2V0UmVzb3VyY2VQYXRoKGUpe3JldHVybiB0aGlzLnJlc291cmNlUGF0aD1lLHRoaXN9c2V0UmVxdWVzdEhlYWRlcihlKXtyZXR1cm4gdGhpcy5yZXF1ZXN0SGVhZGVyPWUsdGhpc319Y29uc3QgQWk9e307Y2xhc3MgUk0gZXh0ZW5kcyBXaXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKX1sb2FkKGUsdCxyLHMpe2U9PT12b2lkIDAmJihlPSIiKSx0aGlzLnBhdGghPT12b2lkIDAmJihlPXRoaXMucGF0aCtlKSxlPXRoaXMubWFuYWdlci5yZXNvbHZlVVJMKGUpO2NvbnN0IGE9c3MuZ2V0KGUpO2lmKGEhPT12b2lkIDApcmV0dXJuIHRoaXMubWFuYWdlci5pdGVtU3RhcnQoZSksc2V0VGltZW91dCgoKT0+e3QmJnQoYSksdGhpcy5tYW5hZ2VyLml0ZW1FbmQoZSl9LDApLGE7aWYoQWlbZV0hPT12b2lkIDApe0FpW2VdLnB1c2goe29uTG9hZDp0LG9uUHJvZ3Jlc3M6cixvbkVycm9yOnN9KTtyZXR1cm59QWlbZV09W10sQWlbZV0ucHVzaCh7b25Mb2FkOnQsb25Qcm9ncmVzczpyLG9uRXJyb3I6c30pO2NvbnN0IG49bmV3IFJlcXVlc3QoZSx7aGVhZGVyczpuZXcgSGVhZGVycyh0aGlzLnJlcXVlc3RIZWFkZXIpLGNyZWRlbnRpYWxzOnRoaXMud2l0aENyZWRlbnRpYWxzPyJpbmNsdWRlIjoic2FtZS1vcmlnaW4ifSksbz10aGlzLm1pbWVUeXBlLGg9dGhpcy5yZXNwb25zZVR5cGU7ZmV0Y2gobikudGhlbihsPT57aWYobC5zdGF0dXM9PT0yMDB8fGwuc3RhdHVzPT09MCl7aWYobC5zdGF0dXM9PT0wJiZjb25zb2xlLndhcm4oIlRIUkVFLkZpbGVMb2FkZXI6IEhUVFAgU3RhdHVzIDAgcmVjZWl2ZWQuIiksdHlwZW9mIFJlYWRhYmxlU3RyZWFtPiJ1Inx8bC5ib2R5PT09dm9pZCAwfHxsLmJvZHkuZ2V0UmVhZGVyPT09dm9pZCAwKXJldHVybiBsO2NvbnN0IGM9QWlbZV0sdT1sLmJvZHkuZ2V0UmVhZGVyKCksZD1sLmhlYWRlcnMuZ2V0KCJDb250ZW50LUxlbmd0aCIpLHA9ZD9wYXJzZUludChkKTowLGc9cCE9PTA7bGV0IGY9MDtjb25zdCBtPW5ldyBSZWFkYWJsZVN0cmVhbSh7c3RhcnQodil7eSgpO2Z1bmN0aW9uIHkoKXt1LnJlYWQoKS50aGVuKCh7ZG9uZTpULHZhbHVlOnd9KT0+e2lmKFQpdi5jbG9zZSgpO2Vsc2V7Zis9dy5ieXRlTGVuZ3RoO2NvbnN0IGI9bmV3IFByb2dyZXNzRXZlbnQoInByb2dyZXNzIix7bGVuZ3RoQ29tcHV0YWJsZTpnLGxvYWRlZDpmLHRvdGFsOnB9KTtmb3IobGV0IEw9MCxQPWMubGVuZ3RoO0w8UDtMKyspe2NvbnN0IGs9Y1tMXTtrLm9uUHJvZ3Jlc3MmJmsub25Qcm9ncmVzcyhiKX12LmVucXVldWUodykseSgpfX0pfX19KTtyZXR1cm4gbmV3IFJlc3BvbnNlKG0pfWVsc2UgdGhyb3cgRXJyb3IoYGZldGNoIGZvciAiJHtsLnVybH0iIHJlc3BvbmRlZCB3aXRoICR7bC5zdGF0dXN9OiAke2wuc3RhdHVzVGV4dH1gKX0pLnRoZW4obD0+e3N3aXRjaChoKXtjYXNlImFycmF5YnVmZmVyIjpyZXR1cm4gbC5hcnJheUJ1ZmZlcigpO2Nhc2UiYmxvYiI6cmV0dXJuIGwuYmxvYigpO2Nhc2UiZG9jdW1lbnQiOnJldHVybiBsLnRleHQoKS50aGVuKGM9Pm5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoYyxvKSk7Y2FzZSJqc29uIjpyZXR1cm4gbC5qc29uKCk7ZGVmYXVsdDppZihvPT09dm9pZCAwKXJldHVybiBsLnRleHQoKTt7Y29uc3QgYz0vY2hhcnNldD0iPyhbXjsiXHNdKikiPy9pLmV4ZWMobyksdT1jJiZjWzFdP2NbMV0udG9Mb3dlckNhc2UoKTp2b2lkIDAsZD1uZXcgVGV4dERlY29kZXIodSk7cmV0dXJuIGwuYXJyYXlCdWZmZXIoKS50aGVuKHA9PmQuZGVjb2RlKHApKX19fSkudGhlbihsPT57c3MuYWRkKGUsbCk7Y29uc3QgYz1BaVtlXTtkZWxldGUgQWlbZV07Zm9yKGxldCB1PTAsZD1jLmxlbmd0aDt1PGQ7dSsrKXtjb25zdCBwPWNbdV07cC5vbkxvYWQmJnAub25Mb2FkKGwpfX0pLmNhdGNoKGw9Pntjb25zdCBjPUFpW2VdO2lmKGM9PT12b2lkIDApdGhyb3cgdGhpcy5tYW5hZ2VyLml0ZW1FcnJvcihlKSxsO2RlbGV0ZSBBaVtlXTtmb3IobGV0IHU9MCxkPWMubGVuZ3RoO3U8ZDt1Kyspe2NvbnN0IHA9Y1t1XTtwLm9uRXJyb3ImJnAub25FcnJvcihsKX10aGlzLm1hbmFnZXIuaXRlbUVycm9yKGUpfSkuZmluYWxseSgoKT0+e3RoaXMubWFuYWdlci5pdGVtRW5kKGUpfSksdGhpcy5tYW5hZ2VyLml0ZW1TdGFydChlKX1zZXRSZXNwb25zZVR5cGUoZSl7cmV0dXJuIHRoaXMucmVzcG9uc2VUeXBlPWUsdGhpc31zZXRNaW1lVHlwZShlKXtyZXR1cm4gdGhpcy5taW1lVHlwZT1lLHRoaXN9fWNsYXNzIGl1IGV4dGVuZHMgV2l7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSl9bG9hZChlLHQscixzKXt0aGlzLnBhdGghPT12b2lkIDAmJihlPXRoaXMucGF0aCtlKSxlPXRoaXMubWFuYWdlci5yZXNvbHZlVVJMKGUpO2NvbnN0IGE9dGhpcyxuPXNzLmdldChlKTtpZihuIT09dm9pZCAwKXJldHVybiBhLm1hbmFnZXIuaXRlbVN0YXJ0KGUpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0JiZ0KG4pLGEubWFuYWdlci5pdGVtRW5kKGUpfSwwKSxuO2NvbnN0IG89VHMoImltZyIpO2Z1bmN0aW9uIGgoKXtjKCksc3MuYWRkKGUsdGhpcyksdCYmdCh0aGlzKSxhLm1hbmFnZXIuaXRlbUVuZChlKX1mdW5jdGlvbiBsKHUpe2MoKSxzJiZzKHUpLGEubWFuYWdlci5pdGVtRXJyb3IoZSksYS5tYW5hZ2VyLml0ZW1FbmQoZSl9ZnVuY3Rpb24gYygpe28ucmVtb3ZlRXZlbnRMaXN0ZW5lcigibG9hZCIsaCwhMSksby5yZW1vdmVFdmVudExpc3RlbmVyKCJlcnJvciIsbCwhMSl9cmV0dXJuIG8uYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsaCwhMSksby5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsbCwhMSksZS5zbGljZSgwLDUpIT09ImRhdGE6IiYmdGhpcy5jcm9zc09yaWdpbiE9PXZvaWQgMCYmKG8uY3Jvc3NPcmlnaW49dGhpcy5jcm9zc09yaWdpbiksYS5tYW5hZ2VyLml0ZW1TdGFydChlKSxvLnNyYz1lLG99fWNsYXNzIFBNIGV4dGVuZHMgV2l7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSl9bG9hZChlLHQscixzKXtjb25zdCBhPW5ldyBVYSxuPW5ldyBpdSh0aGlzLm1hbmFnZXIpO24uc2V0Q3Jvc3NPcmlnaW4odGhpcy5jcm9zc09yaWdpbiksbi5zZXRQYXRoKHRoaXMucGF0aCk7bGV0IG89MDtmdW5jdGlvbiBoKGwpe24ubG9hZChlW2xdLGZ1bmN0aW9uKGMpe2EuaW1hZ2VzW2xdPWMsbysrLG89PT02JiYoYS5uZWVkc1VwZGF0ZT0hMCx0JiZ0KGEpKX0sdm9pZCAwLHMpfWZvcihsZXQgbD0wO2w8ZS5sZW5ndGg7KytsKWgobCk7cmV0dXJuIGF9fWNsYXNzIElNIGV4dGVuZHMgV2l7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSl9bG9hZChlLHQscixzKXtjb25zdCBhPW5ldyBkdCxuPW5ldyBpdSh0aGlzLm1hbmFnZXIpO3JldHVybiBuLnNldENyb3NzT3JpZ2luKHRoaXMuY3Jvc3NPcmlnaW4pLG4uc2V0UGF0aCh0aGlzLnBhdGgpLG4ubG9hZChlLGZ1bmN0aW9uKG8pe2EuaW1hZ2U9byxhLm5lZWRzVXBkYXRlPSEwLHQhPT12b2lkIDAmJnQoYSl9LHIscyksYX19Y2xhc3Mgb2kgZXh0ZW5kcyBqZXtjb25zdHJ1Y3RvcihlLHQ9MSl7c3VwZXIoKTt0aGlzLnR5cGU9IkxpZ2h0Iix0aGlzLmNvbG9yPW5ldyBnZShlKSx0aGlzLmludGVuc2l0eT10fWRpc3Bvc2UoKXt9Y29weShlKXtyZXR1cm4gc3VwZXIuY29weShlKSx0aGlzLmNvbG9yLmNvcHkoZS5jb2xvciksdGhpcy5pbnRlbnNpdHk9ZS5pbnRlbnNpdHksdGhpc310b0pTT04oZSl7Y29uc3QgdD1zdXBlci50b0pTT04oZSk7cmV0dXJuIHQub2JqZWN0LmNvbG9yPXRoaXMuY29sb3IuZ2V0SGV4KCksdC5vYmplY3QuaW50ZW5zaXR5PXRoaXMuaW50ZW5zaXR5LHRoaXMuZ3JvdW5kQ29sb3IhPT12b2lkIDAmJih0Lm9iamVjdC5ncm91bmRDb2xvcj10aGlzLmdyb3VuZENvbG9yLmdldEhleCgpKSx0aGlzLmRpc3RhbmNlIT09dm9pZCAwJiYodC5vYmplY3QuZGlzdGFuY2U9dGhpcy5kaXN0YW5jZSksdGhpcy5hbmdsZSE9PXZvaWQgMCYmKHQub2JqZWN0LmFuZ2xlPXRoaXMuYW5nbGUpLHRoaXMuZGVjYXkhPT12b2lkIDAmJih0Lm9iamVjdC5kZWNheT10aGlzLmRlY2F5KSx0aGlzLnBlbnVtYnJhIT09dm9pZCAwJiYodC5vYmplY3QucGVudW1icmE9dGhpcy5wZW51bWJyYSksdGhpcy5zaGFkb3chPT12b2lkIDAmJih0Lm9iamVjdC5zaGFkb3c9dGhpcy5zaGFkb3cudG9KU09OKCkpLHR9fW9pLnByb3RvdHlwZS5pc0xpZ2h0PSEwO2NsYXNzIE5NIGV4dGVuZHMgb2l7Y29uc3RydWN0b3IoZSx0LHIpe3N1cGVyKGUscik7dGhpcy50eXBlPSJIZW1pc3BoZXJlTGlnaHQiLHRoaXMucG9zaXRpb24uY29weShqZS5EZWZhdWx0VXApLHRoaXMudXBkYXRlTWF0cml4KCksdGhpcy5ncm91bmRDb2xvcj1uZXcgZ2UodCl9Y29weShlKXtyZXR1cm4gb2kucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLGUpLHRoaXMuZ3JvdW5kQ29sb3IuY29weShlLmdyb3VuZENvbG9yKSx0aGlzfX1OTS5wcm90b3R5cGUuaXNIZW1pc3BoZXJlTGlnaHQ9ITA7Y29uc3QgcnU9bmV3IF9lLHN1PW5ldyBFLGF1PW5ldyBFO2NsYXNzIEhve2NvbnN0cnVjdG9yKGUpe3RoaXMuY2FtZXJhPWUsdGhpcy5iaWFzPTAsdGhpcy5ub3JtYWxCaWFzPTAsdGhpcy5yYWRpdXM9MSx0aGlzLmJsdXJTYW1wbGVzPTgsdGhpcy5tYXBTaXplPW5ldyBlZSg1MTIsNTEyKSx0aGlzLm1hcD1udWxsLHRoaXMubWFwUGFzcz1udWxsLHRoaXMubWF0cml4PW5ldyBfZSx0aGlzLmF1dG9VcGRhdGU9ITAsdGhpcy5uZWVkc1VwZGF0ZT0hMSx0aGlzLl9mcnVzdHVtPW5ldyBIYSx0aGlzLl9mcmFtZUV4dGVudHM9bmV3IGVlKDEsMSksdGhpcy5fdmlld3BvcnRDb3VudD0xLHRoaXMuX3ZpZXdwb3J0cz1bbmV3IFhlKDAsMCwxLDEpXX1nZXRWaWV3cG9ydENvdW50KCl7cmV0dXJuIHRoaXMuX3ZpZXdwb3J0Q291bnR9Z2V0RnJ1c3R1bSgpe3JldHVybiB0aGlzLl9mcnVzdHVtfXVwZGF0ZU1hdHJpY2VzKGUpe2NvbnN0IHQ9dGhpcy5jYW1lcmEscj10aGlzLm1hdHJpeDtzdS5zZXRGcm9tTWF0cml4UG9zaXRpb24oZS5tYXRyaXhXb3JsZCksdC5wb3NpdGlvbi5jb3B5KHN1KSxhdS5zZXRGcm9tTWF0cml4UG9zaXRpb24oZS50YXJnZXQubWF0cml4V29ybGQpLHQubG9va0F0KGF1KSx0LnVwZGF0ZU1hdHJpeFdvcmxkKCkscnUubXVsdGlwbHlNYXRyaWNlcyh0LnByb2plY3Rpb25NYXRyaXgsdC5tYXRyaXhXb3JsZEludmVyc2UpLHRoaXMuX2ZydXN0dW0uc2V0RnJvbVByb2plY3Rpb25NYXRyaXgocnUpLHIuc2V0KC41LDAsMCwuNSwwLC41LDAsLjUsMCwwLC41LC41LDAsMCwwLDEpLHIubXVsdGlwbHkodC5wcm9qZWN0aW9uTWF0cml4KSxyLm11bHRpcGx5KHQubWF0cml4V29ybGRJbnZlcnNlKX1nZXRWaWV3cG9ydChlKXtyZXR1cm4gdGhpcy5fdmlld3BvcnRzW2VdfWdldEZyYW1lRXh0ZW50cygpe3JldHVybiB0aGlzLl9mcmFtZUV4dGVudHN9ZGlzcG9zZSgpe3RoaXMubWFwJiZ0aGlzLm1hcC5kaXNwb3NlKCksdGhpcy5tYXBQYXNzJiZ0aGlzLm1hcFBhc3MuZGlzcG9zZSgpfWNvcHkoZSl7cmV0dXJuIHRoaXMuY2FtZXJhPWUuY2FtZXJhLmNsb25lKCksdGhpcy5iaWFzPWUuYmlhcyx0aGlzLnJhZGl1cz1lLnJhZGl1cyx0aGlzLm1hcFNpemUuY29weShlLm1hcFNpemUpLHRoaXN9Y2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoKS5jb3B5KHRoaXMpfXRvSlNPTigpe2NvbnN0IGU9e307cmV0dXJuIHRoaXMuYmlhcyE9PTAmJihlLmJpYXM9dGhpcy5iaWFzKSx0aGlzLm5vcm1hbEJpYXMhPT0wJiYoZS5ub3JtYWxCaWFzPXRoaXMubm9ybWFsQmlhcyksdGhpcy5yYWRpdXMhPT0xJiYoZS5yYWRpdXM9dGhpcy5yYWRpdXMpLCh0aGlzLm1hcFNpemUueCE9PTUxMnx8dGhpcy5tYXBTaXplLnkhPT01MTIpJiYoZS5tYXBTaXplPXRoaXMubWFwU2l6ZS50b0FycmF5KCkpLGUuY2FtZXJhPXRoaXMuY2FtZXJhLnRvSlNPTighMSkub2JqZWN0LGRlbGV0ZSBlLmNhbWVyYS5tYXRyaXgsZX19Y2xhc3MgbnUgZXh0ZW5kcyBIb3tjb25zdHJ1Y3Rvcigpe3N1cGVyKG5ldyBEdCg1MCwxLC41LDUwMCkpO3RoaXMuZm9jdXM9MX11cGRhdGVNYXRyaWNlcyhlKXtjb25zdCB0PXRoaXMuY2FtZXJhLHI9T24qMiplLmFuZ2xlKnRoaXMuZm9jdXMscz10aGlzLm1hcFNpemUud2lkdGgvdGhpcy5tYXBTaXplLmhlaWdodCxhPWUuZGlzdGFuY2V8fHQuZmFyOyhyIT09dC5mb3Z8fHMhPT10LmFzcGVjdHx8YSE9PXQuZmFyKSYmKHQuZm92PXIsdC5hc3BlY3Q9cyx0LmZhcj1hLHQudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpKSxzdXBlci51cGRhdGVNYXRyaWNlcyhlKX1jb3B5KGUpe3JldHVybiBzdXBlci5jb3B5KGUpLHRoaXMuZm9jdXM9ZS5mb2N1cyx0aGlzfX1udS5wcm90b3R5cGUuaXNTcG90TGlnaHRTaGFkb3c9ITA7Y2xhc3MgRE0gZXh0ZW5kcyBvaXtjb25zdHJ1Y3RvcihlLHQscj0wLHM9TWF0aC5QSS8zLGE9MCxuPTEpe3N1cGVyKGUsdCk7dGhpcy50eXBlPSJTcG90TGlnaHQiLHRoaXMucG9zaXRpb24uY29weShqZS5EZWZhdWx0VXApLHRoaXMudXBkYXRlTWF0cml4KCksdGhpcy50YXJnZXQ9bmV3IGplLHRoaXMuZGlzdGFuY2U9cix0aGlzLmFuZ2xlPXMsdGhpcy5wZW51bWJyYT1hLHRoaXMuZGVjYXk9bix0aGlzLnNoYWRvdz1uZXcgbnV9Z2V0IHBvd2VyKCl7cmV0dXJuIHRoaXMuaW50ZW5zaXR5Kk1hdGguUEl9c2V0IHBvd2VyKGUpe3RoaXMuaW50ZW5zaXR5PWUvTWF0aC5QSX1kaXNwb3NlKCl7dGhpcy5zaGFkb3cuZGlzcG9zZSgpfWNvcHkoZSl7cmV0dXJuIHN1cGVyLmNvcHkoZSksdGhpcy5kaXN0YW5jZT1lLmRpc3RhbmNlLHRoaXMuYW5nbGU9ZS5hbmdsZSx0aGlzLnBlbnVtYnJhPWUucGVudW1icmEsdGhpcy5kZWNheT1lLmRlY2F5LHRoaXMudGFyZ2V0PWUudGFyZ2V0LmNsb25lKCksdGhpcy5zaGFkb3c9ZS5zaGFkb3cuY2xvbmUoKSx0aGlzfX1ETS5wcm90b3R5cGUuaXNTcG90TGlnaHQ9ITA7Y29uc3Qgb3U9bmV3IF9lLHFzPW5ldyBFLGtvPW5ldyBFO2NsYXNzIGh1IGV4dGVuZHMgSG97Y29uc3RydWN0b3IoKXtzdXBlcihuZXcgRHQoOTAsMSwuNSw1MDApKTt0aGlzLl9mcmFtZUV4dGVudHM9bmV3IGVlKDQsMiksdGhpcy5fdmlld3BvcnRDb3VudD02LHRoaXMuX3ZpZXdwb3J0cz1bbmV3IFhlKDIsMSwxLDEpLG5ldyBYZSgwLDEsMSwxKSxuZXcgWGUoMywxLDEsMSksbmV3IFhlKDEsMSwxLDEpLG5ldyBYZSgzLDAsMSwxKSxuZXcgWGUoMSwwLDEsMSldLHRoaXMuX2N1YmVEaXJlY3Rpb25zPVtuZXcgRSgxLDAsMCksbmV3IEUoLTEsMCwwKSxuZXcgRSgwLDAsMSksbmV3IEUoMCwwLC0xKSxuZXcgRSgwLDEsMCksbmV3IEUoMCwtMSwwKV0sdGhpcy5fY3ViZVVwcz1bbmV3IEUoMCwxLDApLG5ldyBFKDAsMSwwKSxuZXcgRSgwLDEsMCksbmV3IEUoMCwxLDApLG5ldyBFKDAsMCwxKSxuZXcgRSgwLDAsLTEpXX11cGRhdGVNYXRyaWNlcyhlLHQ9MCl7Y29uc3Qgcj10aGlzLmNhbWVyYSxzPXRoaXMubWF0cml4LGE9ZS5kaXN0YW5jZXx8ci5mYXI7YSE9PXIuZmFyJiYoci5mYXI9YSxyLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKSkscXMuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKGUubWF0cml4V29ybGQpLHIucG9zaXRpb24uY29weShxcyksa28uY29weShyLnBvc2l0aW9uKSxrby5hZGQodGhpcy5fY3ViZURpcmVjdGlvbnNbdF0pLHIudXAuY29weSh0aGlzLl9jdWJlVXBzW3RdKSxyLmxvb2tBdChrbyksci51cGRhdGVNYXRyaXhXb3JsZCgpLHMubWFrZVRyYW5zbGF0aW9uKC1xcy54LC1xcy55LC1xcy56KSxvdS5tdWx0aXBseU1hdHJpY2VzKHIucHJvamVjdGlvbk1hdHJpeCxyLm1hdHJpeFdvcmxkSW52ZXJzZSksdGhpcy5fZnJ1c3R1bS5zZXRGcm9tUHJvamVjdGlvbk1hdHJpeChvdSl9fWh1LnByb3RvdHlwZS5pc1BvaW50TGlnaHRTaGFkb3c9ITA7Y2xhc3MgT00gZXh0ZW5kcyBvaXtjb25zdHJ1Y3RvcihlLHQscj0wLHM9MSl7c3VwZXIoZSx0KTt0aGlzLnR5cGU9IlBvaW50TGlnaHQiLHRoaXMuZGlzdGFuY2U9cix0aGlzLmRlY2F5PXMsdGhpcy5zaGFkb3c9bmV3IGh1fWdldCBwb3dlcigpe3JldHVybiB0aGlzLmludGVuc2l0eSo0Kk1hdGguUEl9c2V0IHBvd2VyKGUpe3RoaXMuaW50ZW5zaXR5PWUvKDQqTWF0aC5QSSl9ZGlzcG9zZSgpe3RoaXMuc2hhZG93LmRpc3Bvc2UoKX1jb3B5KGUpe3JldHVybiBzdXBlci5jb3B5KGUpLHRoaXMuZGlzdGFuY2U9ZS5kaXN0YW5jZSx0aGlzLmRlY2F5PWUuZGVjYXksdGhpcy5zaGFkb3c9ZS5zaGFkb3cuY2xvbmUoKSx0aGlzfX1PTS5wcm90b3R5cGUuaXNQb2ludExpZ2h0PSEwO2NsYXNzIGx1IGV4dGVuZHMgSG97Y29uc3RydWN0b3IoKXtzdXBlcihuZXcgbG8oLTUsNSw1LC01LC41LDUwMCkpfX1sdS5wcm90b3R5cGUuaXNEaXJlY3Rpb25hbExpZ2h0U2hhZG93PSEwO2NsYXNzIHpNIGV4dGVuZHMgb2l7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpO3RoaXMudHlwZT0iRGlyZWN0aW9uYWxMaWdodCIsdGhpcy5wb3NpdGlvbi5jb3B5KGplLkRlZmF1bHRVcCksdGhpcy51cGRhdGVNYXRyaXgoKSx0aGlzLnRhcmdldD1uZXcgamUsdGhpcy5zaGFkb3c9bmV3IGx1fWRpc3Bvc2UoKXt0aGlzLnNoYWRvdy5kaXNwb3NlKCl9Y29weShlKXtyZXR1cm4gc3VwZXIuY29weShlKSx0aGlzLnRhcmdldD1lLnRhcmdldC5jbG9uZSgpLHRoaXMuc2hhZG93PWUuc2hhZG93LmNsb25lKCksdGhpc319ek0ucHJvdG90eXBlLmlzRGlyZWN0aW9uYWxMaWdodD0hMDtjbGFzcyBCTSBleHRlbmRzIG9pe2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KTt0aGlzLnR5cGU9IkFtYmllbnRMaWdodCJ9fUJNLnByb3RvdHlwZS5pc0FtYmllbnRMaWdodD0hMDtjbGFzcyBVTSBleHRlbmRzIG9pe2NvbnN0cnVjdG9yKGUsdCxyPTEwLHM9MTApe3N1cGVyKGUsdCk7dGhpcy50eXBlPSJSZWN0QXJlYUxpZ2h0Iix0aGlzLndpZHRoPXIsdGhpcy5oZWlnaHQ9c31nZXQgcG93ZXIoKXtyZXR1cm4gdGhpcy5pbnRlbnNpdHkqdGhpcy53aWR0aCp0aGlzLmhlaWdodCpNYXRoLlBJfXNldCBwb3dlcihlKXt0aGlzLmludGVuc2l0eT1lLyh0aGlzLndpZHRoKnRoaXMuaGVpZ2h0Kk1hdGguUEkpfWNvcHkoZSl7cmV0dXJuIHN1cGVyLmNvcHkoZSksdGhpcy53aWR0aD1lLndpZHRoLHRoaXMuaGVpZ2h0PWUuaGVpZ2h0LHRoaXN9dG9KU09OKGUpe2NvbnN0IHQ9c3VwZXIudG9KU09OKGUpO3JldHVybiB0Lm9iamVjdC53aWR0aD10aGlzLndpZHRoLHQub2JqZWN0LmhlaWdodD10aGlzLmhlaWdodCx0fX1VTS5wcm90b3R5cGUuaXNSZWN0QXJlYUxpZ2h0PSEwO2NsYXNzIGN1e2NvbnN0cnVjdG9yKCl7dGhpcy5jb2VmZmljaWVudHM9W107Zm9yKGxldCBlPTA7ZTw5O2UrKyl0aGlzLmNvZWZmaWNpZW50cy5wdXNoKG5ldyBFKX1zZXQoZSl7Zm9yKGxldCB0PTA7dDw5O3QrKyl0aGlzLmNvZWZmaWNpZW50c1t0XS5jb3B5KGVbdF0pO3JldHVybiB0aGlzfXplcm8oKXtmb3IobGV0IGU9MDtlPDk7ZSsrKXRoaXMuY29lZmZpY2llbnRzW2VdLnNldCgwLDAsMCk7cmV0dXJuIHRoaXN9Z2V0QXQoZSx0KXtjb25zdCByPWUueCxzPWUueSxhPWUueixuPXRoaXMuY29lZmZpY2llbnRzO3JldHVybiB0LmNvcHkoblswXSkubXVsdGlwbHlTY2FsYXIoLjI4MjA5NSksdC5hZGRTY2FsZWRWZWN0b3IoblsxXSwuNDg4NjAzKnMpLHQuYWRkU2NhbGVkVmVjdG9yKG5bMl0sLjQ4ODYwMyphKSx0LmFkZFNjYWxlZFZlY3RvcihuWzNdLC40ODg2MDMqciksdC5hZGRTY2FsZWRWZWN0b3Iobls0XSwxLjA5MjU0OCoocipzKSksdC5hZGRTY2FsZWRWZWN0b3Iobls1XSwxLjA5MjU0OCoocyphKSksdC5hZGRTY2FsZWRWZWN0b3Iobls2XSwuMzE1MzkyKigzKmEqYS0xKSksdC5hZGRTY2FsZWRWZWN0b3Iobls3XSwxLjA5MjU0OCoociphKSksdC5hZGRTY2FsZWRWZWN0b3Iobls4XSwuNTQ2Mjc0KihyKnItcypzKSksdH1nZXRJcnJhZGlhbmNlQXQoZSx0KXtjb25zdCByPWUueCxzPWUueSxhPWUueixuPXRoaXMuY29lZmZpY2llbnRzO3JldHVybiB0LmNvcHkoblswXSkubXVsdGlwbHlTY2FsYXIoLjg4NjIyNyksdC5hZGRTY2FsZWRWZWN0b3IoblsxXSwyKi41MTE2NjQqcyksdC5hZGRTY2FsZWRWZWN0b3IoblsyXSwyKi41MTE2NjQqYSksdC5hZGRTY2FsZWRWZWN0b3IoblszXSwyKi41MTE2NjQqciksdC5hZGRTY2FsZWRWZWN0b3Iobls0XSwyKi40MjkwNDMqcipzKSx0LmFkZFNjYWxlZFZlY3RvcihuWzVdLDIqLjQyOTA0MypzKmEpLHQuYWRkU2NhbGVkVmVjdG9yKG5bNl0sLjc0MzEyNSphKmEtLjI0NzcwOCksdC5hZGRTY2FsZWRWZWN0b3Iobls3XSwyKi40MjkwNDMqciphKSx0LmFkZFNjYWxlZFZlY3RvcihuWzhdLC40MjkwNDMqKHIqci1zKnMpKSx0fWFkZChlKXtmb3IobGV0IHQ9MDt0PDk7dCsrKXRoaXMuY29lZmZpY2llbnRzW3RdLmFkZChlLmNvZWZmaWNpZW50c1t0XSk7cmV0dXJuIHRoaXN9YWRkU2NhbGVkU0goZSx0KXtmb3IobGV0IHI9MDtyPDk7cisrKXRoaXMuY29lZmZpY2llbnRzW3JdLmFkZFNjYWxlZFZlY3RvcihlLmNvZWZmaWNpZW50c1tyXSx0KTtyZXR1cm4gdGhpc31zY2FsZShlKXtmb3IobGV0IHQ9MDt0PDk7dCsrKXRoaXMuY29lZmZpY2llbnRzW3RdLm11bHRpcGx5U2NhbGFyKGUpO3JldHVybiB0aGlzfWxlcnAoZSx0KXtmb3IobGV0IHI9MDtyPDk7cisrKXRoaXMuY29lZmZpY2llbnRzW3JdLmxlcnAoZS5jb2VmZmljaWVudHNbcl0sdCk7cmV0dXJuIHRoaXN9ZXF1YWxzKGUpe2ZvcihsZXQgdD0wO3Q8OTt0KyspaWYoIXRoaXMuY29lZmZpY2llbnRzW3RdLmVxdWFscyhlLmNvZWZmaWNpZW50c1t0XSkpcmV0dXJuITE7cmV0dXJuITB9Y29weShlKXtyZXR1cm4gdGhpcy5zZXQoZS5jb2VmZmljaWVudHMpfWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSh0aGlzKX1mcm9tQXJyYXkoZSx0PTApe2NvbnN0IHI9dGhpcy5jb2VmZmljaWVudHM7Zm9yKGxldCBzPTA7czw5O3MrKylyW3NdLmZyb21BcnJheShlLHQrcyozKTtyZXR1cm4gdGhpc310b0FycmF5KGU9W10sdD0wKXtjb25zdCByPXRoaXMuY29lZmZpY2llbnRzO2ZvcihsZXQgcz0wO3M8OTtzKyspcltzXS50b0FycmF5KGUsdCtzKjMpO3JldHVybiBlfXN0YXRpYyBnZXRCYXNpc0F0KGUsdCl7Y29uc3Qgcj1lLngscz1lLnksYT1lLno7dFswXT0uMjgyMDk1LHRbMV09LjQ4ODYwMypzLHRbMl09LjQ4ODYwMyphLHRbM109LjQ4ODYwMypyLHRbNF09MS4wOTI1NDgqcipzLHRbNV09MS4wOTI1NDgqcyphLHRbNl09LjMxNTM5MiooMyphKmEtMSksdFs3XT0xLjA5MjU0OCpyKmEsdFs4XT0uNTQ2Mjc0KihyKnItcypzKX19Y3UucHJvdG90eXBlLmlzU3BoZXJpY2FsSGFybW9uaWNzMz0hMDtjbGFzcyBHbyBleHRlbmRzIG9pe2NvbnN0cnVjdG9yKGU9bmV3IGN1LHQ9MSl7c3VwZXIodm9pZCAwLHQpO3RoaXMuc2g9ZX1jb3B5KGUpe3JldHVybiBzdXBlci5jb3B5KGUpLHRoaXMuc2guY29weShlLnNoKSx0aGlzfWZyb21KU09OKGUpe3JldHVybiB0aGlzLmludGVuc2l0eT1lLmludGVuc2l0eSx0aGlzLnNoLmZyb21BcnJheShlLnNoKSx0aGlzfXRvSlNPTihlKXtjb25zdCB0PXN1cGVyLnRvSlNPTihlKTtyZXR1cm4gdC5vYmplY3Quc2g9dGhpcy5zaC50b0FycmF5KCksdH19R28ucHJvdG90eXBlLmlzTGlnaHRQcm9iZT0hMDtjbGFzcyBGTXtzdGF0aWMgZGVjb2RlVGV4dChlKXtpZih0eXBlb2YgVGV4dERlY29kZXI8InUiKXJldHVybiBuZXcgVGV4dERlY29kZXIoKS5kZWNvZGUoZSk7bGV0IHQ9IiI7Zm9yKGxldCByPTAscz1lLmxlbmd0aDtyPHM7cisrKXQrPVN0cmluZy5mcm9tQ2hhckNvZGUoZVtyXSk7dHJ5e3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoZXNjYXBlKHQpKX1jYXRjaHtyZXR1cm4gdH19c3RhdGljIGV4dHJhY3RVcmxCYXNlKGUpe2NvbnN0IHQ9ZS5sYXN0SW5kZXhPZigiLyIpO3JldHVybiB0PT09LTE/Ii4vIjplLnNsaWNlKDAsdCsxKX1zdGF0aWMgcmVzb2x2ZVVSTChlLHQpe3JldHVybiB0eXBlb2YgZSE9InN0cmluZyJ8fGU9PT0iIj8iIjooL15odHRwcz86XC9cLy9pLnRlc3QodCkmJi9eXC8vLnRlc3QoZSkmJih0PXQucmVwbGFjZSgvKF5odHRwcz86XC9cL1teXC9dKykuKi9pLCIkMSIpKSwvXihodHRwcz86KT9cL1wvL2kudGVzdChlKXx8L15kYXRhOi4qLC4qJC9pLnRlc3QoZSl8fC9eYmxvYjouKiQvaS50ZXN0KGUpP2U6dCtlKX19Y2xhc3MgSE0gZXh0ZW5kcyAkZXtjb25zdHJ1Y3Rvcigpe3N1cGVyKCk7dGhpcy50eXBlPSJJbnN0YW5jZWRCdWZmZXJHZW9tZXRyeSIsdGhpcy5pbnN0YW5jZUNvdW50PTEvMH1jb3B5KGUpe3JldHVybiBzdXBlci5jb3B5KGUpLHRoaXMuaW5zdGFuY2VDb3VudD1lLmluc3RhbmNlQ291bnQsdGhpc31jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyl9dG9KU09OKCl7Y29uc3QgZT1zdXBlci50b0pTT04odGhpcyk7cmV0dXJuIGUuaW5zdGFuY2VDb3VudD10aGlzLmluc3RhbmNlQ291bnQsZS5pc0luc3RhbmNlZEJ1ZmZlckdlb21ldHJ5PSEwLGV9fUhNLnByb3RvdHlwZS5pc0luc3RhbmNlZEJ1ZmZlckdlb21ldHJ5PSEwO2NsYXNzIGtNIGV4dGVuZHMgV2l7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSk7dHlwZW9mIGNyZWF0ZUltYWdlQml0bWFwPiJ1IiYmY29uc29sZS53YXJuKCJUSFJFRS5JbWFnZUJpdG1hcExvYWRlcjogY3JlYXRlSW1hZ2VCaXRtYXAoKSBub3Qgc3VwcG9ydGVkLiIpLHR5cGVvZiBmZXRjaD4idSImJmNvbnNvbGUud2FybigiVEhSRUUuSW1hZ2VCaXRtYXBMb2FkZXI6IGZldGNoKCkgbm90IHN1cHBvcnRlZC4iKSx0aGlzLm9wdGlvbnM9e3ByZW11bHRpcGx5QWxwaGE6Im5vbmUifX1zZXRPcHRpb25zKGUpe3JldHVybiB0aGlzLm9wdGlvbnM9ZSx0aGlzfWxvYWQoZSx0LHIscyl7ZT09PXZvaWQgMCYmKGU9IiIpLHRoaXMucGF0aCE9PXZvaWQgMCYmKGU9dGhpcy5wYXRoK2UpLGU9dGhpcy5tYW5hZ2VyLnJlc29sdmVVUkwoZSk7Y29uc3QgYT10aGlzLG49c3MuZ2V0KGUpO2lmKG4hPT12b2lkIDApcmV0dXJuIGEubWFuYWdlci5pdGVtU3RhcnQoZSksc2V0VGltZW91dChmdW5jdGlvbigpe3QmJnQobiksYS5tYW5hZ2VyLml0ZW1FbmQoZSl9LDApLG47Y29uc3Qgbz17fTtvLmNyZWRlbnRpYWxzPXRoaXMuY3Jvc3NPcmlnaW49PT0iYW5vbnltb3VzIj8ic2FtZS1vcmlnaW4iOiJpbmNsdWRlIixvLmhlYWRlcnM9dGhpcy5yZXF1ZXN0SGVhZGVyLGZldGNoKGUsbykudGhlbihmdW5jdGlvbihoKXtyZXR1cm4gaC5ibG9iKCl9KS50aGVuKGZ1bmN0aW9uKGgpe3JldHVybiBjcmVhdGVJbWFnZUJpdG1hcChoLE9iamVjdC5hc3NpZ24oYS5vcHRpb25zLHtjb2xvclNwYWNlQ29udmVyc2lvbjoibm9uZSJ9KSl9KS50aGVuKGZ1bmN0aW9uKGgpe3NzLmFkZChlLGgpLHQmJnQoaCksYS5tYW5hZ2VyLml0ZW1FbmQoZSl9KS5jYXRjaChmdW5jdGlvbihoKXtzJiZzKGgpLGEubWFuYWdlci5pdGVtRXJyb3IoZSksYS5tYW5hZ2VyLml0ZW1FbmQoZSl9KSxhLm1hbmFnZXIuaXRlbVN0YXJ0KGUpfX1rTS5wcm90b3R5cGUuaXNJbWFnZUJpdG1hcExvYWRlcj0hMDtsZXQgYW47Y29uc3QgR009e2dldENvbnRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gYW49PT12b2lkIDAmJihhbj1uZXcod2luZG93LkF1ZGlvQ29udGV4dHx8d2luZG93LndlYmtpdEF1ZGlvQ29udGV4dCkpLGFufSxzZXRDb250ZXh0OmZ1bmN0aW9uKGkpe2FuPWl9fTtjbGFzcyBWTSBleHRlbmRzIFdpe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpfWxvYWQoZSx0LHIscyl7Y29uc3QgYT10aGlzLG49bmV3IFJNKHRoaXMubWFuYWdlcik7bi5zZXRSZXNwb25zZVR5cGUoImFycmF5YnVmZmVyIiksbi5zZXRQYXRoKHRoaXMucGF0aCksbi5zZXRSZXF1ZXN0SGVhZGVyKHRoaXMucmVxdWVzdEhlYWRlciksbi5zZXRXaXRoQ3JlZGVudGlhbHModGhpcy53aXRoQ3JlZGVudGlhbHMpLG4ubG9hZChlLGZ1bmN0aW9uKG8pe3RyeXtjb25zdCBoPW8uc2xpY2UoMCk7R00uZ2V0Q29udGV4dCgpLmRlY29kZUF1ZGlvRGF0YShoLGZ1bmN0aW9uKGwpe3QobCl9KX1jYXRjaChoKXtzP3MoaCk6Y29uc29sZS5lcnJvcihoKSxhLm1hbmFnZXIuaXRlbUVycm9yKGUpfX0scixzKX19Y2xhc3MgV00gZXh0ZW5kcyBHb3tjb25zdHJ1Y3RvcihlLHQscj0xKXtzdXBlcih2b2lkIDAscik7Y29uc3Qgcz1uZXcgZ2UoKS5zZXQoZSksYT1uZXcgZ2UoKS5zZXQodCksbj1uZXcgRShzLnIscy5nLHMuYiksbz1uZXcgRShhLnIsYS5nLGEuYiksaD1NYXRoLnNxcnQoTWF0aC5QSSksbD1oKk1hdGguc3FydCguNzUpO3RoaXMuc2guY29lZmZpY2llbnRzWzBdLmNvcHkobikuYWRkKG8pLm11bHRpcGx5U2NhbGFyKGgpLHRoaXMuc2guY29lZmZpY2llbnRzWzFdLmNvcHkobikuc3ViKG8pLm11bHRpcGx5U2NhbGFyKGwpfX1XTS5wcm90b3R5cGUuaXNIZW1pc3BoZXJlTGlnaHRQcm9iZT0hMDtjbGFzcyBqTSBleHRlbmRzIEdve2NvbnN0cnVjdG9yKGUsdD0xKXtzdXBlcih2b2lkIDAsdCk7Y29uc3Qgcj1uZXcgZ2UoKS5zZXQoZSk7dGhpcy5zaC5jb2VmZmljaWVudHNbMF0uc2V0KHIucixyLmcsci5iKS5tdWx0aXBseVNjYWxhcigyKk1hdGguc3FydChNYXRoLlBJKSl9fWpNLnByb3RvdHlwZS5pc0FtYmllbnRMaWdodFByb2JlPSEwO2NsYXNzIHFNIGV4dGVuZHMgamV7Y29uc3RydWN0b3IoZSl7c3VwZXIoKTt0aGlzLnR5cGU9IkF1ZGlvIix0aGlzLmxpc3RlbmVyPWUsdGhpcy5jb250ZXh0PWUuY29udGV4dCx0aGlzLmdhaW49dGhpcy5jb250ZXh0LmNyZWF0ZUdhaW4oKSx0aGlzLmdhaW4uY29ubmVjdChlLmdldElucHV0KCkpLHRoaXMuYXV0b3BsYXk9ITEsdGhpcy5idWZmZXI9bnVsbCx0aGlzLmRldHVuZT0wLHRoaXMubG9vcD0hMSx0aGlzLmxvb3BTdGFydD0wLHRoaXMubG9vcEVuZD0wLHRoaXMub2Zmc2V0PTAsdGhpcy5kdXJhdGlvbj12b2lkIDAsdGhpcy5wbGF5YmFja1JhdGU9MSx0aGlzLmlzUGxheWluZz0hMSx0aGlzLmhhc1BsYXliYWNrQ29udHJvbD0hMCx0aGlzLnNvdXJjZT1udWxsLHRoaXMuc291cmNlVHlwZT0iZW1wdHkiLHRoaXMuX3N0YXJ0ZWRBdD0wLHRoaXMuX3Byb2dyZXNzPTAsdGhpcy5fY29ubmVjdGVkPSExLHRoaXMuZmlsdGVycz1bXX1nZXRPdXRwdXQoKXtyZXR1cm4gdGhpcy5nYWlufXNldE5vZGVTb3VyY2UoZSl7cmV0dXJuIHRoaXMuaGFzUGxheWJhY2tDb250cm9sPSExLHRoaXMuc291cmNlVHlwZT0iYXVkaW9Ob2RlIix0aGlzLnNvdXJjZT1lLHRoaXMuY29ubmVjdCgpLHRoaXN9c2V0TWVkaWFFbGVtZW50U291cmNlKGUpe3JldHVybiB0aGlzLmhhc1BsYXliYWNrQ29udHJvbD0hMSx0aGlzLnNvdXJjZVR5cGU9Im1lZGlhTm9kZSIsdGhpcy5zb3VyY2U9dGhpcy5jb250ZXh0LmNyZWF0ZU1lZGlhRWxlbWVudFNvdXJjZShlKSx0aGlzLmNvbm5lY3QoKSx0aGlzfXNldE1lZGlhU3RyZWFtU291cmNlKGUpe3JldHVybiB0aGlzLmhhc1BsYXliYWNrQ29udHJvbD0hMSx0aGlzLnNvdXJjZVR5cGU9Im1lZGlhU3RyZWFtTm9kZSIsdGhpcy5zb3VyY2U9dGhpcy5jb250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKGUpLHRoaXMuY29ubmVjdCgpLHRoaXN9c2V0QnVmZmVyKGUpe3JldHVybiB0aGlzLmJ1ZmZlcj1lLHRoaXMuc291cmNlVHlwZT0iYnVmZmVyIix0aGlzLmF1dG9wbGF5JiZ0aGlzLnBsYXkoKSx0aGlzfXBsYXkoZT0wKXtpZih0aGlzLmlzUGxheWluZz09PSEwKXtjb25zb2xlLndhcm4oIlRIUkVFLkF1ZGlvOiBBdWRpbyBpcyBhbHJlYWR5IHBsYXlpbmcuIik7cmV0dXJufWlmKHRoaXMuaGFzUGxheWJhY2tDb250cm9sPT09ITEpe2NvbnNvbGUud2FybigiVEhSRUUuQXVkaW86IHRoaXMgQXVkaW8gaGFzIG5vIHBsYXliYWNrIGNvbnRyb2wuIik7cmV0dXJufXRoaXMuX3N0YXJ0ZWRBdD10aGlzLmNvbnRleHQuY3VycmVudFRpbWUrZTtjb25zdCB0PXRoaXMuY29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtyZXR1cm4gdC5idWZmZXI9dGhpcy5idWZmZXIsdC5sb29wPXRoaXMubG9vcCx0Lmxvb3BTdGFydD10aGlzLmxvb3BTdGFydCx0Lmxvb3BFbmQ9dGhpcy5sb29wRW5kLHQub25lbmRlZD10aGlzLm9uRW5kZWQuYmluZCh0aGlzKSx0LnN0YXJ0KHRoaXMuX3N0YXJ0ZWRBdCx0aGlzLl9wcm9ncmVzcyt0aGlzLm9mZnNldCx0aGlzLmR1cmF0aW9uKSx0aGlzLmlzUGxheWluZz0hMCx0aGlzLnNvdXJjZT10LHRoaXMuc2V0RGV0dW5lKHRoaXMuZGV0dW5lKSx0aGlzLnNldFBsYXliYWNrUmF0ZSh0aGlzLnBsYXliYWNrUmF0ZSksdGhpcy5jb25uZWN0KCl9cGF1c2UoKXtpZih0aGlzLmhhc1BsYXliYWNrQ29udHJvbD09PSExKXtjb25zb2xlLndhcm4oIlRIUkVFLkF1ZGlvOiB0aGlzIEF1ZGlvIGhhcyBubyBwbGF5YmFjayBjb250cm9sLiIpO3JldHVybn1yZXR1cm4gdGhpcy5pc1BsYXlpbmc9PT0hMCYmKHRoaXMuX3Byb2dyZXNzKz1NYXRoLm1heCh0aGlzLmNvbnRleHQuY3VycmVudFRpbWUtdGhpcy5fc3RhcnRlZEF0LDApKnRoaXMucGxheWJhY2tSYXRlLHRoaXMubG9vcD09PSEwJiYodGhpcy5fcHJvZ3Jlc3M9dGhpcy5fcHJvZ3Jlc3MlKHRoaXMuZHVyYXRpb258fHRoaXMuYnVmZmVyLmR1cmF0aW9uKSksdGhpcy5zb3VyY2Uuc3RvcCgpLHRoaXMuc291cmNlLm9uZW5kZWQ9bnVsbCx0aGlzLmlzUGxheWluZz0hMSksdGhpc31zdG9wKCl7aWYodGhpcy5oYXNQbGF5YmFja0NvbnRyb2w9PT0hMSl7Y29uc29sZS53YXJuKCJUSFJFRS5BdWRpbzogdGhpcyBBdWRpbyBoYXMgbm8gcGxheWJhY2sgY29udHJvbC4iKTtyZXR1cm59cmV0dXJuIHRoaXMuX3Byb2dyZXNzPTAsdGhpcy5zb3VyY2Uuc3RvcCgpLHRoaXMuc291cmNlLm9uZW5kZWQ9bnVsbCx0aGlzLmlzUGxheWluZz0hMSx0aGlzfWNvbm5lY3QoKXtpZih0aGlzLmZpbHRlcnMubGVuZ3RoPjApe3RoaXMuc291cmNlLmNvbm5lY3QodGhpcy5maWx0ZXJzWzBdKTtmb3IobGV0IGU9MSx0PXRoaXMuZmlsdGVycy5sZW5ndGg7ZTx0O2UrKyl0aGlzLmZpbHRlcnNbZS0xXS5jb25uZWN0KHRoaXMuZmlsdGVyc1tlXSk7dGhpcy5maWx0ZXJzW3RoaXMuZmlsdGVycy5sZW5ndGgtMV0uY29ubmVjdCh0aGlzLmdldE91dHB1dCgpKX1lbHNlIHRoaXMuc291cmNlLmNvbm5lY3QodGhpcy5nZXRPdXRwdXQoKSk7cmV0dXJuIHRoaXMuX2Nvbm5lY3RlZD0hMCx0aGlzfWRpc2Nvbm5lY3QoKXtpZih0aGlzLmZpbHRlcnMubGVuZ3RoPjApe3RoaXMuc291cmNlLmRpc2Nvbm5lY3QodGhpcy5maWx0ZXJzWzBdKTtmb3IobGV0IGU9MSx0PXRoaXMuZmlsdGVycy5sZW5ndGg7ZTx0O2UrKyl0aGlzLmZpbHRlcnNbZS0xXS5kaXNjb25uZWN0KHRoaXMuZmlsdGVyc1tlXSk7dGhpcy5maWx0ZXJzW3RoaXMuZmlsdGVycy5sZW5ndGgtMV0uZGlzY29ubmVjdCh0aGlzLmdldE91dHB1dCgpKX1lbHNlIHRoaXMuc291cmNlLmRpc2Nvbm5lY3QodGhpcy5nZXRPdXRwdXQoKSk7cmV0dXJuIHRoaXMuX2Nvbm5lY3RlZD0hMSx0aGlzfWdldEZpbHRlcnMoKXtyZXR1cm4gdGhpcy5maWx0ZXJzfXNldEZpbHRlcnMoZSl7cmV0dXJuIGV8fChlPVtdKSx0aGlzLl9jb25uZWN0ZWQ9PT0hMD8odGhpcy5kaXNjb25uZWN0KCksdGhpcy5maWx0ZXJzPWUuc2xpY2UoKSx0aGlzLmNvbm5lY3QoKSk6dGhpcy5maWx0ZXJzPWUuc2xpY2UoKSx0aGlzfXNldERldHVuZShlKXtpZih0aGlzLmRldHVuZT1lLHRoaXMuc291cmNlLmRldHVuZSE9PXZvaWQgMClyZXR1cm4gdGhpcy5pc1BsYXlpbmc9PT0hMCYmdGhpcy5zb3VyY2UuZGV0dW5lLnNldFRhcmdldEF0VGltZSh0aGlzLmRldHVuZSx0aGlzLmNvbnRleHQuY3VycmVudFRpbWUsLjAxKSx0aGlzfWdldERldHVuZSgpe3JldHVybiB0aGlzLmRldHVuZX1nZXRGaWx0ZXIoKXtyZXR1cm4gdGhpcy5nZXRGaWx0ZXJzKClbMF19c2V0RmlsdGVyKGUpe3JldHVybiB0aGlzLnNldEZpbHRlcnMoZT9bZV06W10pfXNldFBsYXliYWNrUmF0ZShlKXtpZih0aGlzLmhhc1BsYXliYWNrQ29udHJvbD09PSExKXtjb25zb2xlLndhcm4oIlRIUkVFLkF1ZGlvOiB0aGlzIEF1ZGlvIGhhcyBubyBwbGF5YmFjayBjb250cm9sLiIpO3JldHVybn1yZXR1cm4gdGhpcy5wbGF5YmFja1JhdGU9ZSx0aGlzLmlzUGxheWluZz09PSEwJiZ0aGlzLnNvdXJjZS5wbGF5YmFja1JhdGUuc2V0VGFyZ2V0QXRUaW1lKHRoaXMucGxheWJhY2tSYXRlLHRoaXMuY29udGV4dC5jdXJyZW50VGltZSwuMDEpLHRoaXN9Z2V0UGxheWJhY2tSYXRlKCl7cmV0dXJuIHRoaXMucGxheWJhY2tSYXRlfW9uRW5kZWQoKXt0aGlzLmlzUGxheWluZz0hMX1nZXRMb29wKCl7cmV0dXJuIHRoaXMuaGFzUGxheWJhY2tDb250cm9sPT09ITE/KGNvbnNvbGUud2FybigiVEhSRUUuQXVkaW86IHRoaXMgQXVkaW8gaGFzIG5vIHBsYXliYWNrIGNvbnRyb2wuIiksITEpOnRoaXMubG9vcH1zZXRMb29wKGUpe2lmKHRoaXMuaGFzUGxheWJhY2tDb250cm9sPT09ITEpe2NvbnNvbGUud2FybigiVEhSRUUuQXVkaW86IHRoaXMgQXVkaW8gaGFzIG5vIHBsYXliYWNrIGNvbnRyb2wuIik7cmV0dXJufXJldHVybiB0aGlzLmxvb3A9ZSx0aGlzLmlzUGxheWluZz09PSEwJiYodGhpcy5zb3VyY2UubG9vcD10aGlzLmxvb3ApLHRoaXN9c2V0TG9vcFN0YXJ0KGUpe3JldHVybiB0aGlzLmxvb3BTdGFydD1lLHRoaXN9c2V0TG9vcEVuZChlKXtyZXR1cm4gdGhpcy5sb29wRW5kPWUsdGhpc31nZXRWb2x1bWUoKXtyZXR1cm4gdGhpcy5nYWluLmdhaW4udmFsdWV9c2V0Vm9sdW1lKGUpe3JldHVybiB0aGlzLmdhaW4uZ2Fpbi5zZXRUYXJnZXRBdFRpbWUoZSx0aGlzLmNvbnRleHQuY3VycmVudFRpbWUsLjAxKSx0aGlzfX1jbGFzcyBYTXtjb25zdHJ1Y3RvcihlLHQscil7dGhpcy5iaW5kaW5nPWUsdGhpcy52YWx1ZVNpemU9cjtsZXQgcyxhLG47c3dpdGNoKHQpe2Nhc2UicXVhdGVybmlvbiI6cz10aGlzLl9zbGVycCxhPXRoaXMuX3NsZXJwQWRkaXRpdmUsbj10aGlzLl9zZXRBZGRpdGl2ZUlkZW50aXR5UXVhdGVybmlvbix0aGlzLmJ1ZmZlcj1uZXcgRmxvYXQ2NEFycmF5KHIqNiksdGhpcy5fd29ya0luZGV4PTU7YnJlYWs7Y2FzZSJzdHJpbmciOmNhc2UiYm9vbCI6cz10aGlzLl9zZWxlY3QsYT10aGlzLl9zZWxlY3Qsbj10aGlzLl9zZXRBZGRpdGl2ZUlkZW50aXR5T3RoZXIsdGhpcy5idWZmZXI9bmV3IEFycmF5KHIqNSk7YnJlYWs7ZGVmYXVsdDpzPXRoaXMuX2xlcnAsYT10aGlzLl9sZXJwQWRkaXRpdmUsbj10aGlzLl9zZXRBZGRpdGl2ZUlkZW50aXR5TnVtZXJpYyx0aGlzLmJ1ZmZlcj1uZXcgRmxvYXQ2NEFycmF5KHIqNSl9dGhpcy5fbWl4QnVmZmVyUmVnaW9uPXMsdGhpcy5fbWl4QnVmZmVyUmVnaW9uQWRkaXRpdmU9YSx0aGlzLl9zZXRJZGVudGl0eT1uLHRoaXMuX29yaWdJbmRleD0zLHRoaXMuX2FkZEluZGV4PTQsdGhpcy5jdW11bGF0aXZlV2VpZ2h0PTAsdGhpcy5jdW11bGF0aXZlV2VpZ2h0QWRkaXRpdmU9MCx0aGlzLnVzZUNvdW50PTAsdGhpcy5yZWZlcmVuY2VDb3VudD0wfWFjY3VtdWxhdGUoZSx0KXtjb25zdCByPXRoaXMuYnVmZmVyLHM9dGhpcy52YWx1ZVNpemUsYT1lKnMrcztsZXQgbj10aGlzLmN1bXVsYXRpdmVXZWlnaHQ7aWYobj09PTApe2ZvcihsZXQgbz0wO28hPT1zOysrbylyW2Erb109cltvXTtuPXR9ZWxzZXtuKz10O2NvbnN0IG89dC9uO3RoaXMuX21peEJ1ZmZlclJlZ2lvbihyLGEsMCxvLHMpfXRoaXMuY3VtdWxhdGl2ZVdlaWdodD1ufWFjY3VtdWxhdGVBZGRpdGl2ZShlKXtjb25zdCB0PXRoaXMuYnVmZmVyLHI9dGhpcy52YWx1ZVNpemUscz1yKnRoaXMuX2FkZEluZGV4O3RoaXMuY3VtdWxhdGl2ZVdlaWdodEFkZGl0aXZlPT09MCYmdGhpcy5fc2V0SWRlbnRpdHkoKSx0aGlzLl9taXhCdWZmZXJSZWdpb25BZGRpdGl2ZSh0LHMsMCxlLHIpLHRoaXMuY3VtdWxhdGl2ZVdlaWdodEFkZGl0aXZlKz1lfWFwcGx5KGUpe2NvbnN0IHQ9dGhpcy52YWx1ZVNpemUscj10aGlzLmJ1ZmZlcixzPWUqdCt0LGE9dGhpcy5jdW11bGF0aXZlV2VpZ2h0LG49dGhpcy5jdW11bGF0aXZlV2VpZ2h0QWRkaXRpdmUsbz10aGlzLmJpbmRpbmc7aWYodGhpcy5jdW11bGF0aXZlV2VpZ2h0PTAsdGhpcy5jdW11bGF0aXZlV2VpZ2h0QWRkaXRpdmU9MCxhPDEpe2NvbnN0IGg9dCp0aGlzLl9vcmlnSW5kZXg7dGhpcy5fbWl4QnVmZmVyUmVnaW9uKHIscyxoLDEtYSx0KX1uPjAmJnRoaXMuX21peEJ1ZmZlclJlZ2lvbkFkZGl0aXZlKHIscyx0aGlzLl9hZGRJbmRleCp0LDEsdCk7Zm9yKGxldCBoPXQsbD10K3Q7aCE9PWw7KytoKWlmKHJbaF0hPT1yW2grdF0pe28uc2V0VmFsdWUocixzKTticmVha319c2F2ZU9yaWdpbmFsU3RhdGUoKXtjb25zdCBlPXRoaXMuYmluZGluZyx0PXRoaXMuYnVmZmVyLHI9dGhpcy52YWx1ZVNpemUscz1yKnRoaXMuX29yaWdJbmRleDtlLmdldFZhbHVlKHQscyk7Zm9yKGxldCBhPXIsbj1zO2EhPT1uOysrYSl0W2FdPXRbcythJXJdO3RoaXMuX3NldElkZW50aXR5KCksdGhpcy5jdW11bGF0aXZlV2VpZ2h0PTAsdGhpcy5jdW11bGF0aXZlV2VpZ2h0QWRkaXRpdmU9MH1yZXN0b3JlT3JpZ2luYWxTdGF0ZSgpe2NvbnN0IGU9dGhpcy52YWx1ZVNpemUqMzt0aGlzLmJpbmRpbmcuc2V0VmFsdWUodGhpcy5idWZmZXIsZSl9X3NldEFkZGl0aXZlSWRlbnRpdHlOdW1lcmljKCl7Y29uc3QgZT10aGlzLl9hZGRJbmRleCp0aGlzLnZhbHVlU2l6ZSx0PWUrdGhpcy52YWx1ZVNpemU7Zm9yKGxldCByPWU7cjx0O3IrKyl0aGlzLmJ1ZmZlcltyXT0wfV9zZXRBZGRpdGl2ZUlkZW50aXR5UXVhdGVybmlvbigpe3RoaXMuX3NldEFkZGl0aXZlSWRlbnRpdHlOdW1lcmljKCksdGhpcy5idWZmZXJbdGhpcy5fYWRkSW5kZXgqdGhpcy52YWx1ZVNpemUrM109MX1fc2V0QWRkaXRpdmVJZGVudGl0eU90aGVyKCl7Y29uc3QgZT10aGlzLl9vcmlnSW5kZXgqdGhpcy52YWx1ZVNpemUsdD10aGlzLl9hZGRJbmRleCp0aGlzLnZhbHVlU2l6ZTtmb3IobGV0IHI9MDtyPHRoaXMudmFsdWVTaXplO3IrKyl0aGlzLmJ1ZmZlclt0K3JdPXRoaXMuYnVmZmVyW2Urcl19X3NlbGVjdChlLHQscixzLGEpe2lmKHM+PS41KWZvcihsZXQgbj0wO24hPT1hOysrbillW3Qrbl09ZVtyK25dfV9zbGVycChlLHQscixzKXtUdC5zbGVycEZsYXQoZSx0LGUsdCxlLHIscyl9X3NsZXJwQWRkaXRpdmUoZSx0LHIscyxhKXtjb25zdCBuPXRoaXMuX3dvcmtJbmRleCphO1R0Lm11bHRpcGx5UXVhdGVybmlvbnNGbGF0KGUsbixlLHQsZSxyKSxUdC5zbGVycEZsYXQoZSx0LGUsdCxlLG4scyl9X2xlcnAoZSx0LHIscyxhKXtjb25zdCBuPTEtcztmb3IobGV0IG89MDtvIT09YTsrK28pe2NvbnN0IGg9dCtvO2VbaF09ZVtoXSpuK2VbcitvXSpzfX1fbGVycEFkZGl0aXZlKGUsdCxyLHMsYSl7Zm9yKGxldCBuPTA7biE9PWE7KytuKXtjb25zdCBvPXQrbjtlW29dPWVbb10rZVtyK25dKnN9fX1jb25zdCBWbz0iXFxbXFxdXFwuOlxcLyIsSk09bmV3IFJlZ0V4cCgiWyIrVm8rIl0iLCJnIiksV289IlteIitWbysiXSIsWU09IlteIitWby5yZXBsYWNlKCJcXC4iLCIiKSsiXSIsWk09LygoPzpXQytbXC86XSkqKS8uc291cmNlLnJlcGxhY2UoIldDIixXbyksS009LyhXQ09EKyk/Ly5zb3VyY2UucmVwbGFjZSgiV0NPRCIsWU0pLFFNPS8oPzpcLihXQyspKD86XFsoLispXF0pPyk/Ly5zb3VyY2UucmVwbGFjZSgiV0MiLFdvKSwkTT0vXC4oV0MrKSg/OlxbKC4rKVxdKT8vLnNvdXJjZS5yZXBsYWNlKCJXQyIsV28pLGUxPW5ldyBSZWdFeHAoIl4iK1pNK0tNK1FNKyRNKyIkIiksdDE9WyJtYXRlcmlhbCIsIm1hdGVyaWFscyIsImJvbmVzIl07Y2xhc3MgaTF7Y29uc3RydWN0b3IoZSx0LHIpe2NvbnN0IHM9cnx8cWUucGFyc2VUcmFja05hbWUodCk7dGhpcy5fdGFyZ2V0R3JvdXA9ZSx0aGlzLl9iaW5kaW5ncz1lLnN1YnNjcmliZV8odCxzKX1nZXRWYWx1ZShlLHQpe3RoaXMuYmluZCgpO2NvbnN0IHI9dGhpcy5fdGFyZ2V0R3JvdXAubkNhY2hlZE9iamVjdHNfLHM9dGhpcy5fYmluZGluZ3Nbcl07cyE9PXZvaWQgMCYmcy5nZXRWYWx1ZShlLHQpfXNldFZhbHVlKGUsdCl7Y29uc3Qgcj10aGlzLl9iaW5kaW5ncztmb3IobGV0IHM9dGhpcy5fdGFyZ2V0R3JvdXAubkNhY2hlZE9iamVjdHNfLGE9ci5sZW5ndGg7cyE9PWE7KytzKXJbc10uc2V0VmFsdWUoZSx0KX1iaW5kKCl7Y29uc3QgZT10aGlzLl9iaW5kaW5ncztmb3IobGV0IHQ9dGhpcy5fdGFyZ2V0R3JvdXAubkNhY2hlZE9iamVjdHNfLHI9ZS5sZW5ndGg7dCE9PXI7Kyt0KWVbdF0uYmluZCgpfXVuYmluZCgpe2NvbnN0IGU9dGhpcy5fYmluZGluZ3M7Zm9yKGxldCB0PXRoaXMuX3RhcmdldEdyb3VwLm5DYWNoZWRPYmplY3RzXyxyPWUubGVuZ3RoO3QhPT1yOysrdCllW3RdLnVuYmluZCgpfX1jbGFzcyBxZXtjb25zdHJ1Y3RvcihlLHQscil7dGhpcy5wYXRoPXQsdGhpcy5wYXJzZWRQYXRoPXJ8fHFlLnBhcnNlVHJhY2tOYW1lKHQpLHRoaXMubm9kZT1xZS5maW5kTm9kZShlLHRoaXMucGFyc2VkUGF0aC5ub2RlTmFtZSl8fGUsdGhpcy5yb290Tm9kZT1lLHRoaXMuZ2V0VmFsdWU9dGhpcy5fZ2V0VmFsdWVfdW5ib3VuZCx0aGlzLnNldFZhbHVlPXRoaXMuX3NldFZhbHVlX3VuYm91bmR9c3RhdGljIGNyZWF0ZShlLHQscil7cmV0dXJuIGUmJmUuaXNBbmltYXRpb25PYmplY3RHcm91cD9uZXcgcWUuQ29tcG9zaXRlKGUsdCxyKTpuZXcgcWUoZSx0LHIpfXN0YXRpYyBzYW5pdGl6ZU5vZGVOYW1lKGUpe3JldHVybiBlLnJlcGxhY2UoL1xzL2csIl8iKS5yZXBsYWNlKEpNLCIiKX1zdGF0aWMgcGFyc2VUcmFja05hbWUoZSl7Y29uc3QgdD1lMS5leGVjKGUpO2lmKHQ9PT1udWxsKXRocm93IG5ldyBFcnJvcigiUHJvcGVydHlCaW5kaW5nOiBDYW5ub3QgcGFyc2UgdHJhY2tOYW1lOiAiK2UpO2NvbnN0IHI9e25vZGVOYW1lOnRbMl0sb2JqZWN0TmFtZTp0WzNdLG9iamVjdEluZGV4OnRbNF0scHJvcGVydHlOYW1lOnRbNV0scHJvcGVydHlJbmRleDp0WzZdfSxzPXIubm9kZU5hbWUmJnIubm9kZU5hbWUubGFzdEluZGV4T2YoIi4iKTtpZihzIT09dm9pZCAwJiZzIT09LTEpe2NvbnN0IGE9ci5ub2RlTmFtZS5zdWJzdHJpbmcocysxKTt0MS5pbmRleE9mKGEpIT09LTEmJihyLm5vZGVOYW1lPXIubm9kZU5hbWUuc3Vic3RyaW5nKDAscyksci5vYmplY3ROYW1lPWEpfWlmKHIucHJvcGVydHlOYW1lPT09bnVsbHx8ci5wcm9wZXJ0eU5hbWUubGVuZ3RoPT09MCl0aHJvdyBuZXcgRXJyb3IoIlByb3BlcnR5QmluZGluZzogY2FuIG5vdCBwYXJzZSBwcm9wZXJ0eU5hbWUgZnJvbSB0cmFja05hbWU6ICIrZSk7cmV0dXJuIHJ9c3RhdGljIGZpbmROb2RlKGUsdCl7aWYodD09PXZvaWQgMHx8dD09PSIifHx0PT09Ii4ifHx0PT09LTF8fHQ9PT1lLm5hbWV8fHQ9PT1lLnV1aWQpcmV0dXJuIGU7aWYoZS5za2VsZXRvbil7Y29uc3Qgcj1lLnNrZWxldG9uLmdldEJvbmVCeU5hbWUodCk7aWYociE9PXZvaWQgMClyZXR1cm4gcn1pZihlLmNoaWxkcmVuKXtjb25zdCByPWZ1bmN0aW9uKGEpe2ZvcihsZXQgbj0wO248YS5sZW5ndGg7bisrKXtjb25zdCBvPWFbbl07aWYoby5uYW1lPT09dHx8by51dWlkPT09dClyZXR1cm4gbztjb25zdCBoPXIoby5jaGlsZHJlbik7aWYoaClyZXR1cm4gaH1yZXR1cm4gbnVsbH0scz1yKGUuY2hpbGRyZW4pO2lmKHMpcmV0dXJuIHN9cmV0dXJuIG51bGx9X2dldFZhbHVlX3VuYXZhaWxhYmxlKCl7fV9zZXRWYWx1ZV91bmF2YWlsYWJsZSgpe31fZ2V0VmFsdWVfZGlyZWN0KGUsdCl7ZVt0XT10aGlzLnRhcmdldE9iamVjdFt0aGlzLnByb3BlcnR5TmFtZV19X2dldFZhbHVlX2FycmF5KGUsdCl7Y29uc3Qgcj10aGlzLnJlc29sdmVkUHJvcGVydHk7Zm9yKGxldCBzPTAsYT1yLmxlbmd0aDtzIT09YTsrK3MpZVt0KytdPXJbc119X2dldFZhbHVlX2FycmF5RWxlbWVudChlLHQpe2VbdF09dGhpcy5yZXNvbHZlZFByb3BlcnR5W3RoaXMucHJvcGVydHlJbmRleF19X2dldFZhbHVlX3RvQXJyYXkoZSx0KXt0aGlzLnJlc29sdmVkUHJvcGVydHkudG9BcnJheShlLHQpfV9zZXRWYWx1ZV9kaXJlY3QoZSx0KXt0aGlzLnRhcmdldE9iamVjdFt0aGlzLnByb3BlcnR5TmFtZV09ZVt0XX1fc2V0VmFsdWVfZGlyZWN0X3NldE5lZWRzVXBkYXRlKGUsdCl7dGhpcy50YXJnZXRPYmplY3RbdGhpcy5wcm9wZXJ0eU5hbWVdPWVbdF0sdGhpcy50YXJnZXRPYmplY3QubmVlZHNVcGRhdGU9ITB9X3NldFZhbHVlX2RpcmVjdF9zZXRNYXRyaXhXb3JsZE5lZWRzVXBkYXRlKGUsdCl7dGhpcy50YXJnZXRPYmplY3RbdGhpcy5wcm9wZXJ0eU5hbWVdPWVbdF0sdGhpcy50YXJnZXRPYmplY3QubWF0cml4V29ybGROZWVkc1VwZGF0ZT0hMH1fc2V0VmFsdWVfYXJyYXkoZSx0KXtjb25zdCByPXRoaXMucmVzb2x2ZWRQcm9wZXJ0eTtmb3IobGV0IHM9MCxhPXIubGVuZ3RoO3MhPT1hOysrcylyW3NdPWVbdCsrXX1fc2V0VmFsdWVfYXJyYXlfc2V0TmVlZHNVcGRhdGUoZSx0KXtjb25zdCByPXRoaXMucmVzb2x2ZWRQcm9wZXJ0eTtmb3IobGV0IHM9MCxhPXIubGVuZ3RoO3MhPT1hOysrcylyW3NdPWVbdCsrXTt0aGlzLnRhcmdldE9iamVjdC5uZWVkc1VwZGF0ZT0hMH1fc2V0VmFsdWVfYXJyYXlfc2V0TWF0cml4V29ybGROZWVkc1VwZGF0ZShlLHQpe2NvbnN0IHI9dGhpcy5yZXNvbHZlZFByb3BlcnR5O2ZvcihsZXQgcz0wLGE9ci5sZW5ndGg7cyE9PWE7KytzKXJbc109ZVt0KytdO3RoaXMudGFyZ2V0T2JqZWN0Lm1hdHJpeFdvcmxkTmVlZHNVcGRhdGU9ITB9X3NldFZhbHVlX2FycmF5RWxlbWVudChlLHQpe3RoaXMucmVzb2x2ZWRQcm9wZXJ0eVt0aGlzLnByb3BlcnR5SW5kZXhdPWVbdF19X3NldFZhbHVlX2FycmF5RWxlbWVudF9zZXROZWVkc1VwZGF0ZShlLHQpe3RoaXMucmVzb2x2ZWRQcm9wZXJ0eVt0aGlzLnByb3BlcnR5SW5kZXhdPWVbdF0sdGhpcy50YXJnZXRPYmplY3QubmVlZHNVcGRhdGU9ITB9X3NldFZhbHVlX2FycmF5RWxlbWVudF9zZXRNYXRyaXhXb3JsZE5lZWRzVXBkYXRlKGUsdCl7dGhpcy5yZXNvbHZlZFByb3BlcnR5W3RoaXMucHJvcGVydHlJbmRleF09ZVt0XSx0aGlzLnRhcmdldE9iamVjdC5tYXRyaXhXb3JsZE5lZWRzVXBkYXRlPSEwfV9zZXRWYWx1ZV9mcm9tQXJyYXkoZSx0KXt0aGlzLnJlc29sdmVkUHJvcGVydHkuZnJvbUFycmF5KGUsdCl9X3NldFZhbHVlX2Zyb21BcnJheV9zZXROZWVkc1VwZGF0ZShlLHQpe3RoaXMucmVzb2x2ZWRQcm9wZXJ0eS5mcm9tQXJyYXkoZSx0KSx0aGlzLnRhcmdldE9iamVjdC5uZWVkc1VwZGF0ZT0hMH1fc2V0VmFsdWVfZnJvbUFycmF5X3NldE1hdHJpeFdvcmxkTmVlZHNVcGRhdGUoZSx0KXt0aGlzLnJlc29sdmVkUHJvcGVydHkuZnJvbUFycmF5KGUsdCksdGhpcy50YXJnZXRPYmplY3QubWF0cml4V29ybGROZWVkc1VwZGF0ZT0hMH1fZ2V0VmFsdWVfdW5ib3VuZChlLHQpe3RoaXMuYmluZCgpLHRoaXMuZ2V0VmFsdWUoZSx0KX1fc2V0VmFsdWVfdW5ib3VuZChlLHQpe3RoaXMuYmluZCgpLHRoaXMuc2V0VmFsdWUoZSx0KX1iaW5kKCl7bGV0IGU9dGhpcy5ub2RlO2NvbnN0IHQ9dGhpcy5wYXJzZWRQYXRoLHI9dC5vYmplY3ROYW1lLHM9dC5wcm9wZXJ0eU5hbWU7bGV0IGE9dC5wcm9wZXJ0eUluZGV4O2lmKGV8fChlPXFlLmZpbmROb2RlKHRoaXMucm9vdE5vZGUsdC5ub2RlTmFtZSl8fHRoaXMucm9vdE5vZGUsdGhpcy5ub2RlPWUpLHRoaXMuZ2V0VmFsdWU9dGhpcy5fZ2V0VmFsdWVfdW5hdmFpbGFibGUsdGhpcy5zZXRWYWx1ZT10aGlzLl9zZXRWYWx1ZV91bmF2YWlsYWJsZSwhZSl7Y29uc29sZS5lcnJvcigiVEhSRUUuUHJvcGVydHlCaW5kaW5nOiBUcnlpbmcgdG8gdXBkYXRlIG5vZGUgZm9yIHRyYWNrOiAiK3RoaXMucGF0aCsiIGJ1dCBpdCB3YXNuJ3QgZm91bmQuIik7cmV0dXJufWlmKHIpe2xldCBsPXQub2JqZWN0SW5kZXg7c3dpdGNoKHIpe2Nhc2UibWF0ZXJpYWxzIjppZighZS5tYXRlcmlhbCl7Y29uc29sZS5lcnJvcigiVEhSRUUuUHJvcGVydHlCaW5kaW5nOiBDYW4gbm90IGJpbmQgdG8gbWF0ZXJpYWwgYXMgbm9kZSBkb2VzIG5vdCBoYXZlIGEgbWF0ZXJpYWwuIix0aGlzKTtyZXR1cm59aWYoIWUubWF0ZXJpYWwubWF0ZXJpYWxzKXtjb25zb2xlLmVycm9yKCJUSFJFRS5Qcm9wZXJ0eUJpbmRpbmc6IENhbiBub3QgYmluZCB0byBtYXRlcmlhbC5tYXRlcmlhbHMgYXMgbm9kZS5tYXRlcmlhbCBkb2VzIG5vdCBoYXZlIGEgbWF0ZXJpYWxzIGFycmF5LiIsdGhpcyk7cmV0dXJufWU9ZS5tYXRlcmlhbC5tYXRlcmlhbHM7YnJlYWs7Y2FzZSJib25lcyI6aWYoIWUuc2tlbGV0b24pe2NvbnNvbGUuZXJyb3IoIlRIUkVFLlByb3BlcnR5QmluZGluZzogQ2FuIG5vdCBiaW5kIHRvIGJvbmVzIGFzIG5vZGUgZG9lcyBub3QgaGF2ZSBhIHNrZWxldG9uLiIsdGhpcyk7cmV0dXJufWU9ZS5za2VsZXRvbi5ib25lcztmb3IobGV0IGM9MDtjPGUubGVuZ3RoO2MrKylpZihlW2NdLm5hbWU9PT1sKXtsPWM7YnJlYWt9YnJlYWs7ZGVmYXVsdDppZihlW3JdPT09dm9pZCAwKXtjb25zb2xlLmVycm9yKCJUSFJFRS5Qcm9wZXJ0eUJpbmRpbmc6IENhbiBub3QgYmluZCB0byBvYmplY3ROYW1lIG9mIG5vZGUgdW5kZWZpbmVkLiIsdGhpcyk7cmV0dXJufWU9ZVtyXX1pZihsIT09dm9pZCAwKXtpZihlW2xdPT09dm9pZCAwKXtjb25zb2xlLmVycm9yKCJUSFJFRS5Qcm9wZXJ0eUJpbmRpbmc6IFRyeWluZyB0byBiaW5kIHRvIG9iamVjdEluZGV4IG9mIG9iamVjdE5hbWUsIGJ1dCBpcyB1bmRlZmluZWQuIix0aGlzLGUpO3JldHVybn1lPWVbbF19fWNvbnN0IG49ZVtzXTtpZihuPT09dm9pZCAwKXtjb25zdCBsPXQubm9kZU5hbWU7Y29uc29sZS5lcnJvcigiVEhSRUUuUHJvcGVydHlCaW5kaW5nOiBUcnlpbmcgdG8gdXBkYXRlIHByb3BlcnR5IGZvciB0cmFjazogIitsKyIuIitzKyIgYnV0IGl0IHdhc24ndCBmb3VuZC4iLGUpO3JldHVybn1sZXQgbz10aGlzLlZlcnNpb25pbmcuTm9uZTt0aGlzLnRhcmdldE9iamVjdD1lLGUubmVlZHNVcGRhdGUhPT12b2lkIDA/bz10aGlzLlZlcnNpb25pbmcuTmVlZHNVcGRhdGU6ZS5tYXRyaXhXb3JsZE5lZWRzVXBkYXRlIT09dm9pZCAwJiYobz10aGlzLlZlcnNpb25pbmcuTWF0cml4V29ybGROZWVkc1VwZGF0ZSk7bGV0IGg9dGhpcy5CaW5kaW5nVHlwZS5EaXJlY3Q7aWYoYSE9PXZvaWQgMCl7aWYocz09PSJtb3JwaFRhcmdldEluZmx1ZW5jZXMiKXtpZighZS5nZW9tZXRyeSl7Y29uc29sZS5lcnJvcigiVEhSRUUuUHJvcGVydHlCaW5kaW5nOiBDYW4gbm90IGJpbmQgdG8gbW9ycGhUYXJnZXRJbmZsdWVuY2VzIGJlY2F1c2Ugbm9kZSBkb2VzIG5vdCBoYXZlIGEgZ2VvbWV0cnkuIix0aGlzKTtyZXR1cm59aWYoZS5nZW9tZXRyeS5pc0J1ZmZlckdlb21ldHJ5KXtpZighZS5nZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLlByb3BlcnR5QmluZGluZzogQ2FuIG5vdCBiaW5kIHRvIG1vcnBoVGFyZ2V0SW5mbHVlbmNlcyBiZWNhdXNlIG5vZGUgZG9lcyBub3QgaGF2ZSBhIGdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcy4iLHRoaXMpO3JldHVybn1lLm1vcnBoVGFyZ2V0RGljdGlvbmFyeVthXSE9PXZvaWQgMCYmKGE9ZS5tb3JwaFRhcmdldERpY3Rpb25hcnlbYV0pfWVsc2V7Y29uc29sZS5lcnJvcigiVEhSRUUuUHJvcGVydHlCaW5kaW5nOiBDYW4gbm90IGJpbmQgdG8gbW9ycGhUYXJnZXRJbmZsdWVuY2VzIG9uIFRIUkVFLkdlb21ldHJ5LiBVc2UgVEhSRUUuQnVmZmVyR2VvbWV0cnkgaW5zdGVhZC4iLHRoaXMpO3JldHVybn19aD10aGlzLkJpbmRpbmdUeXBlLkFycmF5RWxlbWVudCx0aGlzLnJlc29sdmVkUHJvcGVydHk9bix0aGlzLnByb3BlcnR5SW5kZXg9YX1lbHNlIG4uZnJvbUFycmF5IT09dm9pZCAwJiZuLnRvQXJyYXkhPT12b2lkIDA/KGg9dGhpcy5CaW5kaW5nVHlwZS5IYXNGcm9tVG9BcnJheSx0aGlzLnJlc29sdmVkUHJvcGVydHk9bik6QXJyYXkuaXNBcnJheShuKT8oaD10aGlzLkJpbmRpbmdUeXBlLkVudGlyZUFycmF5LHRoaXMucmVzb2x2ZWRQcm9wZXJ0eT1uKTp0aGlzLnByb3BlcnR5TmFtZT1zO3RoaXMuZ2V0VmFsdWU9dGhpcy5HZXR0ZXJCeUJpbmRpbmdUeXBlW2hdLHRoaXMuc2V0VmFsdWU9dGhpcy5TZXR0ZXJCeUJpbmRpbmdUeXBlQW5kVmVyc2lvbmluZ1toXVtvXX11bmJpbmQoKXt0aGlzLm5vZGU9bnVsbCx0aGlzLmdldFZhbHVlPXRoaXMuX2dldFZhbHVlX3VuYm91bmQsdGhpcy5zZXRWYWx1ZT10aGlzLl9zZXRWYWx1ZV91bmJvdW5kfX1xZS5Db21wb3NpdGU9aTEscWUucHJvdG90eXBlLkJpbmRpbmdUeXBlPXtEaXJlY3Q6MCxFbnRpcmVBcnJheToxLEFycmF5RWxlbWVudDoyLEhhc0Zyb21Ub0FycmF5OjN9LHFlLnByb3RvdHlwZS5WZXJzaW9uaW5nPXtOb25lOjAsTmVlZHNVcGRhdGU6MSxNYXRyaXhXb3JsZE5lZWRzVXBkYXRlOjJ9LHFlLnByb3RvdHlwZS5HZXR0ZXJCeUJpbmRpbmdUeXBlPVtxZS5wcm90b3R5cGUuX2dldFZhbHVlX2RpcmVjdCxxZS5wcm90b3R5cGUuX2dldFZhbHVlX2FycmF5LHFlLnByb3RvdHlwZS5fZ2V0VmFsdWVfYXJyYXlFbGVtZW50LHFlLnByb3RvdHlwZS5fZ2V0VmFsdWVfdG9BcnJheV0scWUucHJvdG90eXBlLlNldHRlckJ5QmluZGluZ1R5cGVBbmRWZXJzaW9uaW5nPVtbcWUucHJvdG90eXBlLl9zZXRWYWx1ZV9kaXJlY3QscWUucHJvdG90eXBlLl9zZXRWYWx1ZV9kaXJlY3Rfc2V0TmVlZHNVcGRhdGUscWUucHJvdG90eXBlLl9zZXRWYWx1ZV9kaXJlY3Rfc2V0TWF0cml4V29ybGROZWVkc1VwZGF0ZV0sW3FlLnByb3RvdHlwZS5fc2V0VmFsdWVfYXJyYXkscWUucHJvdG90eXBlLl9zZXRWYWx1ZV9hcnJheV9zZXROZWVkc1VwZGF0ZSxxZS5wcm90b3R5cGUuX3NldFZhbHVlX2FycmF5X3NldE1hdHJpeFdvcmxkTmVlZHNVcGRhdGVdLFtxZS5wcm90b3R5cGUuX3NldFZhbHVlX2FycmF5RWxlbWVudCxxZS5wcm90b3R5cGUuX3NldFZhbHVlX2FycmF5RWxlbWVudF9zZXROZWVkc1VwZGF0ZSxxZS5wcm90b3R5cGUuX3NldFZhbHVlX2FycmF5RWxlbWVudF9zZXRNYXRyaXhXb3JsZE5lZWRzVXBkYXRlXSxbcWUucHJvdG90eXBlLl9zZXRWYWx1ZV9mcm9tQXJyYXkscWUucHJvdG90eXBlLl9zZXRWYWx1ZV9mcm9tQXJyYXlfc2V0TmVlZHNVcGRhdGUscWUucHJvdG90eXBlLl9zZXRWYWx1ZV9mcm9tQXJyYXlfc2V0TWF0cml4V29ybGROZWVkc1VwZGF0ZV1dO2NsYXNzIHIxe2NvbnN0cnVjdG9yKGUsdCxyPW51bGwscz10LmJsZW5kTW9kZSl7dGhpcy5fbWl4ZXI9ZSx0aGlzLl9jbGlwPXQsdGhpcy5fbG9jYWxSb290PXIsdGhpcy5ibGVuZE1vZGU9cztjb25zdCBhPXQudHJhY2tzLG49YS5sZW5ndGgsbz1uZXcgQXJyYXkobiksaD17ZW5kaW5nU3RhcnQ6QXIsZW5kaW5nRW5kOkFyfTtmb3IobGV0IGw9MDtsIT09bjsrK2wpe2NvbnN0IGM9YVtsXS5jcmVhdGVJbnRlcnBvbGFudChudWxsKTtvW2xdPWMsYy5zZXR0aW5ncz1ofXRoaXMuX2ludGVycG9sYW50U2V0dGluZ3M9aCx0aGlzLl9pbnRlcnBvbGFudHM9byx0aGlzLl9wcm9wZXJ0eUJpbmRpbmdzPW5ldyBBcnJheShuKSx0aGlzLl9jYWNoZUluZGV4PW51bGwsdGhpcy5fYnlDbGlwQ2FjaGVJbmRleD1udWxsLHRoaXMuX3RpbWVTY2FsZUludGVycG9sYW50PW51bGwsdGhpcy5fd2VpZ2h0SW50ZXJwb2xhbnQ9bnVsbCx0aGlzLmxvb3A9a2csdGhpcy5fbG9vcENvdW50PS0xLHRoaXMuX3N0YXJ0VGltZT1udWxsLHRoaXMudGltZT0wLHRoaXMudGltZVNjYWxlPTEsdGhpcy5fZWZmZWN0aXZlVGltZVNjYWxlPTEsdGhpcy53ZWlnaHQ9MSx0aGlzLl9lZmZlY3RpdmVXZWlnaHQ9MSx0aGlzLnJlcGV0aXRpb25zPTEvMCx0aGlzLnBhdXNlZD0hMSx0aGlzLmVuYWJsZWQ9ITAsdGhpcy5jbGFtcFdoZW5GaW5pc2hlZD0hMSx0aGlzLnplcm9TbG9wZUF0U3RhcnQ9ITAsdGhpcy56ZXJvU2xvcGVBdEVuZD0hMH1wbGF5KCl7cmV0dXJuIHRoaXMuX21peGVyLl9hY3RpdmF0ZUFjdGlvbih0aGlzKSx0aGlzfXN0b3AoKXtyZXR1cm4gdGhpcy5fbWl4ZXIuX2RlYWN0aXZhdGVBY3Rpb24odGhpcyksdGhpcy5yZXNldCgpfXJlc2V0KCl7cmV0dXJuIHRoaXMucGF1c2VkPSExLHRoaXMuZW5hYmxlZD0hMCx0aGlzLnRpbWU9MCx0aGlzLl9sb29wQ291bnQ9LTEsdGhpcy5fc3RhcnRUaW1lPW51bGwsdGhpcy5zdG9wRmFkaW5nKCkuc3RvcFdhcnBpbmcoKX1pc1J1bm5pbmcoKXtyZXR1cm4gdGhpcy5lbmFibGVkJiYhdGhpcy5wYXVzZWQmJnRoaXMudGltZVNjYWxlIT09MCYmdGhpcy5fc3RhcnRUaW1lPT09bnVsbCYmdGhpcy5fbWl4ZXIuX2lzQWN0aXZlQWN0aW9uKHRoaXMpfWlzU2NoZWR1bGVkKCl7cmV0dXJuIHRoaXMuX21peGVyLl9pc0FjdGl2ZUFjdGlvbih0aGlzKX1zdGFydEF0KGUpe3JldHVybiB0aGlzLl9zdGFydFRpbWU9ZSx0aGlzfXNldExvb3AoZSx0KXtyZXR1cm4gdGhpcy5sb29wPWUsdGhpcy5yZXBldGl0aW9ucz10LHRoaXN9c2V0RWZmZWN0aXZlV2VpZ2h0KGUpe3JldHVybiB0aGlzLndlaWdodD1lLHRoaXMuX2VmZmVjdGl2ZVdlaWdodD10aGlzLmVuYWJsZWQ/ZTowLHRoaXMuc3RvcEZhZGluZygpfWdldEVmZmVjdGl2ZVdlaWdodCgpe3JldHVybiB0aGlzLl9lZmZlY3RpdmVXZWlnaHR9ZmFkZUluKGUpe3JldHVybiB0aGlzLl9zY2hlZHVsZUZhZGluZyhlLDAsMSl9ZmFkZU91dChlKXtyZXR1cm4gdGhpcy5fc2NoZWR1bGVGYWRpbmcoZSwxLDApfWNyb3NzRmFkZUZyb20oZSx0LHIpe2lmKGUuZmFkZU91dCh0KSx0aGlzLmZhZGVJbih0KSxyKXtjb25zdCBzPXRoaXMuX2NsaXAuZHVyYXRpb24sYT1lLl9jbGlwLmR1cmF0aW9uLG49YS9zLG89cy9hO2Uud2FycCgxLG4sdCksdGhpcy53YXJwKG8sMSx0KX1yZXR1cm4gdGhpc31jcm9zc0ZhZGVUbyhlLHQscil7cmV0dXJuIGUuY3Jvc3NGYWRlRnJvbSh0aGlzLHQscil9c3RvcEZhZGluZygpe2NvbnN0IGU9dGhpcy5fd2VpZ2h0SW50ZXJwb2xhbnQ7cmV0dXJuIGUhPT1udWxsJiYodGhpcy5fd2VpZ2h0SW50ZXJwb2xhbnQ9bnVsbCx0aGlzLl9taXhlci5fdGFrZUJhY2tDb250cm9sSW50ZXJwb2xhbnQoZSkpLHRoaXN9c2V0RWZmZWN0aXZlVGltZVNjYWxlKGUpe3JldHVybiB0aGlzLnRpbWVTY2FsZT1lLHRoaXMuX2VmZmVjdGl2ZVRpbWVTY2FsZT10aGlzLnBhdXNlZD8wOmUsdGhpcy5zdG9wV2FycGluZygpfWdldEVmZmVjdGl2ZVRpbWVTY2FsZSgpe3JldHVybiB0aGlzLl9lZmZlY3RpdmVUaW1lU2NhbGV9c2V0RHVyYXRpb24oZSl7cmV0dXJuIHRoaXMudGltZVNjYWxlPXRoaXMuX2NsaXAuZHVyYXRpb24vZSx0aGlzLnN0b3BXYXJwaW5nKCl9c3luY1dpdGgoZSl7cmV0dXJuIHRoaXMudGltZT1lLnRpbWUsdGhpcy50aW1lU2NhbGU9ZS50aW1lU2NhbGUsdGhpcy5zdG9wV2FycGluZygpfWhhbHQoZSl7cmV0dXJuIHRoaXMud2FycCh0aGlzLl9lZmZlY3RpdmVUaW1lU2NhbGUsMCxlKX13YXJwKGUsdCxyKXtjb25zdCBzPXRoaXMuX21peGVyLGE9cy50aW1lLG49dGhpcy50aW1lU2NhbGU7bGV0IG89dGhpcy5fdGltZVNjYWxlSW50ZXJwb2xhbnQ7bz09PW51bGwmJihvPXMuX2xlbmRDb250cm9sSW50ZXJwb2xhbnQoKSx0aGlzLl90aW1lU2NhbGVJbnRlcnBvbGFudD1vKTtjb25zdCBoPW8ucGFyYW1ldGVyUG9zaXRpb25zLGw9by5zYW1wbGVWYWx1ZXM7cmV0dXJuIGhbMF09YSxoWzFdPWErcixsWzBdPWUvbixsWzFdPXQvbix0aGlzfXN0b3BXYXJwaW5nKCl7Y29uc3QgZT10aGlzLl90aW1lU2NhbGVJbnRlcnBvbGFudDtyZXR1cm4gZSE9PW51bGwmJih0aGlzLl90aW1lU2NhbGVJbnRlcnBvbGFudD1udWxsLHRoaXMuX21peGVyLl90YWtlQmFja0NvbnRyb2xJbnRlcnBvbGFudChlKSksdGhpc31nZXRNaXhlcigpe3JldHVybiB0aGlzLl9taXhlcn1nZXRDbGlwKCl7cmV0dXJuIHRoaXMuX2NsaXB9Z2V0Um9vdCgpe3JldHVybiB0aGlzLl9sb2NhbFJvb3R8fHRoaXMuX21peGVyLl9yb290fV91cGRhdGUoZSx0LHIscyl7aWYoIXRoaXMuZW5hYmxlZCl7dGhpcy5fdXBkYXRlV2VpZ2h0KGUpO3JldHVybn1jb25zdCBhPXRoaXMuX3N0YXJ0VGltZTtpZihhIT09bnVsbCl7Y29uc3QgaD0oZS1hKSpyO2lmKGg8MHx8cj09PTApcmV0dXJuO3RoaXMuX3N0YXJ0VGltZT1udWxsLHQ9cipofXQqPXRoaXMuX3VwZGF0ZVRpbWVTY2FsZShlKTtjb25zdCBuPXRoaXMuX3VwZGF0ZVRpbWUodCksbz10aGlzLl91cGRhdGVXZWlnaHQoZSk7aWYobz4wKXtjb25zdCBoPXRoaXMuX2ludGVycG9sYW50cyxsPXRoaXMuX3Byb3BlcnR5QmluZGluZ3M7c3dpdGNoKHRoaXMuYmxlbmRNb2RlKXtjYXNlIGZsOmZvcihsZXQgYz0wLHU9aC5sZW5ndGg7YyE9PXU7KytjKWhbY10uZXZhbHVhdGUobiksbFtjXS5hY2N1bXVsYXRlQWRkaXRpdmUobyk7YnJlYWs7Y2FzZSBQbjpkZWZhdWx0OmZvcihsZXQgYz0wLHU9aC5sZW5ndGg7YyE9PXU7KytjKWhbY10uZXZhbHVhdGUobiksbFtjXS5hY2N1bXVsYXRlKHMsbyl9fX1fdXBkYXRlV2VpZ2h0KGUpe2xldCB0PTA7aWYodGhpcy5lbmFibGVkKXt0PXRoaXMud2VpZ2h0O2NvbnN0IHI9dGhpcy5fd2VpZ2h0SW50ZXJwb2xhbnQ7aWYociE9PW51bGwpe2NvbnN0IHM9ci5ldmFsdWF0ZShlKVswXTt0Kj1zLGU+ci5wYXJhbWV0ZXJQb3NpdGlvbnNbMV0mJih0aGlzLnN0b3BGYWRpbmcoKSxzPT09MCYmKHRoaXMuZW5hYmxlZD0hMSkpfX1yZXR1cm4gdGhpcy5fZWZmZWN0aXZlV2VpZ2h0PXQsdH1fdXBkYXRlVGltZVNjYWxlKGUpe2xldCB0PTA7aWYoIXRoaXMucGF1c2VkKXt0PXRoaXMudGltZVNjYWxlO2NvbnN0IHI9dGhpcy5fdGltZVNjYWxlSW50ZXJwb2xhbnQ7ciE9PW51bGwmJih0Kj1yLmV2YWx1YXRlKGUpWzBdLGU+ci5wYXJhbWV0ZXJQb3NpdGlvbnNbMV0mJih0aGlzLnN0b3BXYXJwaW5nKCksdD09PTA/dGhpcy5wYXVzZWQ9ITA6dGhpcy50aW1lU2NhbGU9dCkpfXJldHVybiB0aGlzLl9lZmZlY3RpdmVUaW1lU2NhbGU9dCx0fV91cGRhdGVUaW1lKGUpe2NvbnN0IHQ9dGhpcy5fY2xpcC5kdXJhdGlvbixyPXRoaXMubG9vcDtsZXQgcz10aGlzLnRpbWUrZSxhPXRoaXMuX2xvb3BDb3VudDtjb25zdCBuPXI9PT1HZztpZihlPT09MClyZXR1cm4gYT09PS0xP3M6biYmKGEmMSk9PT0xP3QtczpzO2lmKHI9PT1IZyl7YT09PS0xJiYodGhpcy5fbG9vcENvdW50PTAsdGhpcy5fc2V0RW5kaW5ncyghMCwhMCwhMSkpO2U6e2lmKHM+PXQpcz10O2Vsc2UgaWYoczwwKXM9MDtlbHNle3RoaXMudGltZT1zO2JyZWFrIGV9dGhpcy5jbGFtcFdoZW5GaW5pc2hlZD90aGlzLnBhdXNlZD0hMDp0aGlzLmVuYWJsZWQ9ITEsdGhpcy50aW1lPXMsdGhpcy5fbWl4ZXIuZGlzcGF0Y2hFdmVudCh7dHlwZToiZmluaXNoZWQiLGFjdGlvbjp0aGlzLGRpcmVjdGlvbjplPDA/LTE6MX0pfX1lbHNle2lmKGE9PT0tMSYmKGU+PTA/KGE9MCx0aGlzLl9zZXRFbmRpbmdzKCEwLHRoaXMucmVwZXRpdGlvbnM9PT0wLG4pKTp0aGlzLl9zZXRFbmRpbmdzKHRoaXMucmVwZXRpdGlvbnM9PT0wLCEwLG4pKSxzPj10fHxzPDApe2NvbnN0IG89TWF0aC5mbG9vcihzL3QpO3MtPXQqbyxhKz1NYXRoLmFicyhvKTtjb25zdCBoPXRoaXMucmVwZXRpdGlvbnMtYTtpZihoPD0wKXRoaXMuY2xhbXBXaGVuRmluaXNoZWQ/dGhpcy5wYXVzZWQ9ITA6dGhpcy5lbmFibGVkPSExLHM9ZT4wP3Q6MCx0aGlzLnRpbWU9cyx0aGlzLl9taXhlci5kaXNwYXRjaEV2ZW50KHt0eXBlOiJmaW5pc2hlZCIsYWN0aW9uOnRoaXMsZGlyZWN0aW9uOmU+MD8xOi0xfSk7ZWxzZXtpZihoPT09MSl7Y29uc3QgbD1lPDA7dGhpcy5fc2V0RW5kaW5ncyhsLCFsLG4pfWVsc2UgdGhpcy5fc2V0RW5kaW5ncyghMSwhMSxuKTt0aGlzLl9sb29wQ291bnQ9YSx0aGlzLnRpbWU9cyx0aGlzLl9taXhlci5kaXNwYXRjaEV2ZW50KHt0eXBlOiJsb29wIixhY3Rpb246dGhpcyxsb29wRGVsdGE6b30pfX1lbHNlIHRoaXMudGltZT1zO2lmKG4mJihhJjEpPT09MSlyZXR1cm4gdC1zfXJldHVybiBzfV9zZXRFbmRpbmdzKGUsdCxyKXtjb25zdCBzPXRoaXMuX2ludGVycG9sYW50U2V0dGluZ3M7cj8ocy5lbmRpbmdTdGFydD1DcixzLmVuZGluZ0VuZD1Dcik6KGU/cy5lbmRpbmdTdGFydD10aGlzLnplcm9TbG9wZUF0U3RhcnQ/Q3I6QXI6cy5lbmRpbmdTdGFydD1tYSx0P3MuZW5kaW5nRW5kPXRoaXMuemVyb1Nsb3BlQXRFbmQ/Q3I6QXI6cy5lbmRpbmdFbmQ9bWEpfV9zY2hlZHVsZUZhZGluZyhlLHQscil7Y29uc3Qgcz10aGlzLl9taXhlcixhPXMudGltZTtsZXQgbj10aGlzLl93ZWlnaHRJbnRlcnBvbGFudDtuPT09bnVsbCYmKG49cy5fbGVuZENvbnRyb2xJbnRlcnBvbGFudCgpLHRoaXMuX3dlaWdodEludGVycG9sYW50PW4pO2NvbnN0IG89bi5wYXJhbWV0ZXJQb3NpdGlvbnMsaD1uLnNhbXBsZVZhbHVlcztyZXR1cm4gb1swXT1hLGhbMF09dCxvWzFdPWErZSxoWzFdPXIsdGhpc319Y2xhc3MgczEgZXh0ZW5kcyBRaXtjb25zdHJ1Y3RvcihlKXtzdXBlcigpO3RoaXMuX3Jvb3Q9ZSx0aGlzLl9pbml0TWVtb3J5TWFuYWdlcigpLHRoaXMuX2FjY3VJbmRleD0wLHRoaXMudGltZT0wLHRoaXMudGltZVNjYWxlPTF9X2JpbmRBY3Rpb24oZSx0KXtjb25zdCByPWUuX2xvY2FsUm9vdHx8dGhpcy5fcm9vdCxzPWUuX2NsaXAudHJhY2tzLGE9cy5sZW5ndGgsbj1lLl9wcm9wZXJ0eUJpbmRpbmdzLG89ZS5faW50ZXJwb2xhbnRzLGg9ci51dWlkLGw9dGhpcy5fYmluZGluZ3NCeVJvb3RBbmROYW1lO2xldCBjPWxbaF07Yz09PXZvaWQgMCYmKGM9e30sbFtoXT1jKTtmb3IobGV0IHU9MDt1IT09YTsrK3Upe2NvbnN0IGQ9c1t1XSxwPWQubmFtZTtsZXQgZz1jW3BdO2lmKGchPT12b2lkIDApKytnLnJlZmVyZW5jZUNvdW50LG5bdV09ZztlbHNle2lmKGc9blt1XSxnIT09dm9pZCAwKXtnLl9jYWNoZUluZGV4PT09bnVsbCYmKCsrZy5yZWZlcmVuY2VDb3VudCx0aGlzLl9hZGRJbmFjdGl2ZUJpbmRpbmcoZyxoLHApKTtjb250aW51ZX1jb25zdCBmPXQmJnQuX3Byb3BlcnR5QmluZGluZ3NbdV0uYmluZGluZy5wYXJzZWRQYXRoO2c9bmV3IFhNKHFlLmNyZWF0ZShyLHAsZiksZC5WYWx1ZVR5cGVOYW1lLGQuZ2V0VmFsdWVTaXplKCkpLCsrZy5yZWZlcmVuY2VDb3VudCx0aGlzLl9hZGRJbmFjdGl2ZUJpbmRpbmcoZyxoLHApLG5bdV09Z31vW3VdLnJlc3VsdEJ1ZmZlcj1nLmJ1ZmZlcn19X2FjdGl2YXRlQWN0aW9uKGUpe2lmKCF0aGlzLl9pc0FjdGl2ZUFjdGlvbihlKSl7aWYoZS5fY2FjaGVJbmRleD09PW51bGwpe2NvbnN0IHI9KGUuX2xvY2FsUm9vdHx8dGhpcy5fcm9vdCkudXVpZCxzPWUuX2NsaXAudXVpZCxhPXRoaXMuX2FjdGlvbnNCeUNsaXBbc107dGhpcy5fYmluZEFjdGlvbihlLGEmJmEua25vd25BY3Rpb25zWzBdKSx0aGlzLl9hZGRJbmFjdGl2ZUFjdGlvbihlLHMscil9Y29uc3QgdD1lLl9wcm9wZXJ0eUJpbmRpbmdzO2ZvcihsZXQgcj0wLHM9dC5sZW5ndGg7ciE9PXM7KytyKXtjb25zdCBhPXRbcl07YS51c2VDb3VudCsrPT09MCYmKHRoaXMuX2xlbmRCaW5kaW5nKGEpLGEuc2F2ZU9yaWdpbmFsU3RhdGUoKSl9dGhpcy5fbGVuZEFjdGlvbihlKX19X2RlYWN0aXZhdGVBY3Rpb24oZSl7aWYodGhpcy5faXNBY3RpdmVBY3Rpb24oZSkpe2NvbnN0IHQ9ZS5fcHJvcGVydHlCaW5kaW5ncztmb3IobGV0IHI9MCxzPXQubGVuZ3RoO3IhPT1zOysrcil7Y29uc3QgYT10W3JdOy0tYS51c2VDb3VudD09PTAmJihhLnJlc3RvcmVPcmlnaW5hbFN0YXRlKCksdGhpcy5fdGFrZUJhY2tCaW5kaW5nKGEpKX10aGlzLl90YWtlQmFja0FjdGlvbihlKX19X2luaXRNZW1vcnlNYW5hZ2VyKCl7dGhpcy5fYWN0aW9ucz1bXSx0aGlzLl9uQWN0aXZlQWN0aW9ucz0wLHRoaXMuX2FjdGlvbnNCeUNsaXA9e30sdGhpcy5fYmluZGluZ3M9W10sdGhpcy5fbkFjdGl2ZUJpbmRpbmdzPTAsdGhpcy5fYmluZGluZ3NCeVJvb3RBbmROYW1lPXt9LHRoaXMuX2NvbnRyb2xJbnRlcnBvbGFudHM9W10sdGhpcy5fbkFjdGl2ZUNvbnRyb2xJbnRlcnBvbGFudHM9MDtjb25zdCBlPXRoaXM7dGhpcy5zdGF0cz17YWN0aW9uczp7Z2V0IHRvdGFsKCl7cmV0dXJuIGUuX2FjdGlvbnMubGVuZ3RofSxnZXQgaW5Vc2UoKXtyZXR1cm4gZS5fbkFjdGl2ZUFjdGlvbnN9fSxiaW5kaW5nczp7Z2V0IHRvdGFsKCl7cmV0dXJuIGUuX2JpbmRpbmdzLmxlbmd0aH0sZ2V0IGluVXNlKCl7cmV0dXJuIGUuX25BY3RpdmVCaW5kaW5nc319LGNvbnRyb2xJbnRlcnBvbGFudHM6e2dldCB0b3RhbCgpe3JldHVybiBlLl9jb250cm9sSW50ZXJwb2xhbnRzLmxlbmd0aH0sZ2V0IGluVXNlKCl7cmV0dXJuIGUuX25BY3RpdmVDb250cm9sSW50ZXJwb2xhbnRzfX19fV9pc0FjdGl2ZUFjdGlvbihlKXtjb25zdCB0PWUuX2NhY2hlSW5kZXg7cmV0dXJuIHQhPT1udWxsJiZ0PHRoaXMuX25BY3RpdmVBY3Rpb25zfV9hZGRJbmFjdGl2ZUFjdGlvbihlLHQscil7Y29uc3Qgcz10aGlzLl9hY3Rpb25zLGE9dGhpcy5fYWN0aW9uc0J5Q2xpcDtsZXQgbj1hW3RdO2lmKG49PT12b2lkIDApbj17a25vd25BY3Rpb25zOltlXSxhY3Rpb25CeVJvb3Q6e319LGUuX2J5Q2xpcENhY2hlSW5kZXg9MCxhW3RdPW47ZWxzZXtjb25zdCBvPW4ua25vd25BY3Rpb25zO2UuX2J5Q2xpcENhY2hlSW5kZXg9by5sZW5ndGgsby5wdXNoKGUpfWUuX2NhY2hlSW5kZXg9cy5sZW5ndGgscy5wdXNoKGUpLG4uYWN0aW9uQnlSb290W3JdPWV9X3JlbW92ZUluYWN0aXZlQWN0aW9uKGUpe2NvbnN0IHQ9dGhpcy5fYWN0aW9ucyxyPXRbdC5sZW5ndGgtMV0scz1lLl9jYWNoZUluZGV4O3IuX2NhY2hlSW5kZXg9cyx0W3NdPXIsdC5wb3AoKSxlLl9jYWNoZUluZGV4PW51bGw7Y29uc3QgYT1lLl9jbGlwLnV1aWQsbj10aGlzLl9hY3Rpb25zQnlDbGlwLG89blthXSxoPW8ua25vd25BY3Rpb25zLGw9aFtoLmxlbmd0aC0xXSxjPWUuX2J5Q2xpcENhY2hlSW5kZXg7bC5fYnlDbGlwQ2FjaGVJbmRleD1jLGhbY109bCxoLnBvcCgpLGUuX2J5Q2xpcENhY2hlSW5kZXg9bnVsbDtjb25zdCB1PW8uYWN0aW9uQnlSb290LGQ9KGUuX2xvY2FsUm9vdHx8dGhpcy5fcm9vdCkudXVpZDtkZWxldGUgdVtkXSxoLmxlbmd0aD09PTAmJmRlbGV0ZSBuW2FdLHRoaXMuX3JlbW92ZUluYWN0aXZlQmluZGluZ3NGb3JBY3Rpb24oZSl9X3JlbW92ZUluYWN0aXZlQmluZGluZ3NGb3JBY3Rpb24oZSl7Y29uc3QgdD1lLl9wcm9wZXJ0eUJpbmRpbmdzO2ZvcihsZXQgcj0wLHM9dC5sZW5ndGg7ciE9PXM7KytyKXtjb25zdCBhPXRbcl07LS1hLnJlZmVyZW5jZUNvdW50PT09MCYmdGhpcy5fcmVtb3ZlSW5hY3RpdmVCaW5kaW5nKGEpfX1fbGVuZEFjdGlvbihlKXtjb25zdCB0PXRoaXMuX2FjdGlvbnMscj1lLl9jYWNoZUluZGV4LHM9dGhpcy5fbkFjdGl2ZUFjdGlvbnMrKyxhPXRbc107ZS5fY2FjaGVJbmRleD1zLHRbc109ZSxhLl9jYWNoZUluZGV4PXIsdFtyXT1hfV90YWtlQmFja0FjdGlvbihlKXtjb25zdCB0PXRoaXMuX2FjdGlvbnMscj1lLl9jYWNoZUluZGV4LHM9LS10aGlzLl9uQWN0aXZlQWN0aW9ucyxhPXRbc107ZS5fY2FjaGVJbmRleD1zLHRbc109ZSxhLl9jYWNoZUluZGV4PXIsdFtyXT1hfV9hZGRJbmFjdGl2ZUJpbmRpbmcoZSx0LHIpe2NvbnN0IHM9dGhpcy5fYmluZGluZ3NCeVJvb3RBbmROYW1lLGE9dGhpcy5fYmluZGluZ3M7bGV0IG49c1t0XTtuPT09dm9pZCAwJiYobj17fSxzW3RdPW4pLG5bcl09ZSxlLl9jYWNoZUluZGV4PWEubGVuZ3RoLGEucHVzaChlKX1fcmVtb3ZlSW5hY3RpdmVCaW5kaW5nKGUpe2NvbnN0IHQ9dGhpcy5fYmluZGluZ3Mscj1lLmJpbmRpbmcscz1yLnJvb3ROb2RlLnV1aWQsYT1yLnBhdGgsbj10aGlzLl9iaW5kaW5nc0J5Um9vdEFuZE5hbWUsbz1uW3NdLGg9dFt0Lmxlbmd0aC0xXSxsPWUuX2NhY2hlSW5kZXg7aC5fY2FjaGVJbmRleD1sLHRbbF09aCx0LnBvcCgpLGRlbGV0ZSBvW2FdLE9iamVjdC5rZXlzKG8pLmxlbmd0aD09PTAmJmRlbGV0ZSBuW3NdfV9sZW5kQmluZGluZyhlKXtjb25zdCB0PXRoaXMuX2JpbmRpbmdzLHI9ZS5fY2FjaGVJbmRleCxzPXRoaXMuX25BY3RpdmVCaW5kaW5ncysrLGE9dFtzXTtlLl9jYWNoZUluZGV4PXMsdFtzXT1lLGEuX2NhY2hlSW5kZXg9cix0W3JdPWF9X3Rha2VCYWNrQmluZGluZyhlKXtjb25zdCB0PXRoaXMuX2JpbmRpbmdzLHI9ZS5fY2FjaGVJbmRleCxzPS0tdGhpcy5fbkFjdGl2ZUJpbmRpbmdzLGE9dFtzXTtlLl9jYWNoZUluZGV4PXMsdFtzXT1lLGEuX2NhY2hlSW5kZXg9cix0W3JdPWF9X2xlbmRDb250cm9sSW50ZXJwb2xhbnQoKXtjb25zdCBlPXRoaXMuX2NvbnRyb2xJbnRlcnBvbGFudHMsdD10aGlzLl9uQWN0aXZlQ29udHJvbEludGVycG9sYW50cysrO2xldCByPWVbdF07cmV0dXJuIHI9PT12b2lkIDAmJihyPW5ldyAkYyhuZXcgRmxvYXQzMkFycmF5KDIpLG5ldyBGbG9hdDMyQXJyYXkoMiksMSx0aGlzLl9jb250cm9sSW50ZXJwb2xhbnRzUmVzdWx0QnVmZmVyKSxyLl9fY2FjaGVJbmRleD10LGVbdF09cikscn1fdGFrZUJhY2tDb250cm9sSW50ZXJwb2xhbnQoZSl7Y29uc3QgdD10aGlzLl9jb250cm9sSW50ZXJwb2xhbnRzLHI9ZS5fX2NhY2hlSW5kZXgscz0tLXRoaXMuX25BY3RpdmVDb250cm9sSW50ZXJwb2xhbnRzLGE9dFtzXTtlLl9fY2FjaGVJbmRleD1zLHRbc109ZSxhLl9fY2FjaGVJbmRleD1yLHRbcl09YX1jbGlwQWN0aW9uKGUsdCxyKXtjb25zdCBzPXR8fHRoaXMuX3Jvb3QsYT1zLnV1aWQ7bGV0IG49dHlwZW9mIGU9PSJzdHJpbmciP3R1LmZpbmRCeU5hbWUocyxlKTplO2NvbnN0IG89biE9PW51bGw/bi51dWlkOmUsaD10aGlzLl9hY3Rpb25zQnlDbGlwW29dO2xldCBsPW51bGw7aWYocj09PXZvaWQgMCYmKG4hPT1udWxsP3I9bi5ibGVuZE1vZGU6cj1QbiksaCE9PXZvaWQgMCl7Y29uc3QgdT1oLmFjdGlvbkJ5Um9vdFthXTtpZih1IT09dm9pZCAwJiZ1LmJsZW5kTW9kZT09PXIpcmV0dXJuIHU7bD1oLmtub3duQWN0aW9uc1swXSxuPT09bnVsbCYmKG49bC5fY2xpcCl9aWYobj09PW51bGwpcmV0dXJuIG51bGw7Y29uc3QgYz1uZXcgcjEodGhpcyxuLHQscik7cmV0dXJuIHRoaXMuX2JpbmRBY3Rpb24oYyxsKSx0aGlzLl9hZGRJbmFjdGl2ZUFjdGlvbihjLG8sYSksY31leGlzdGluZ0FjdGlvbihlLHQpe2NvbnN0IHI9dHx8dGhpcy5fcm9vdCxzPXIudXVpZCxhPXR5cGVvZiBlPT0ic3RyaW5nIj90dS5maW5kQnlOYW1lKHIsZSk6ZSxuPWE/YS51dWlkOmUsbz10aGlzLl9hY3Rpb25zQnlDbGlwW25dO3JldHVybiBvIT09dm9pZCAwJiZvLmFjdGlvbkJ5Um9vdFtzXXx8bnVsbH1zdG9wQWxsQWN0aW9uKCl7Y29uc3QgZT10aGlzLl9hY3Rpb25zLHQ9dGhpcy5fbkFjdGl2ZUFjdGlvbnM7Zm9yKGxldCByPXQtMTtyPj0wOy0tcillW3JdLnN0b3AoKTtyZXR1cm4gdGhpc311cGRhdGUoZSl7ZSo9dGhpcy50aW1lU2NhbGU7Y29uc3QgdD10aGlzLl9hY3Rpb25zLHI9dGhpcy5fbkFjdGl2ZUFjdGlvbnMscz10aGlzLnRpbWUrPWUsYT1NYXRoLnNpZ24oZSksbj10aGlzLl9hY2N1SW5kZXhePTE7Zm9yKGxldCBsPTA7bCE9PXI7KytsKXRbbF0uX3VwZGF0ZShzLGUsYSxuKTtjb25zdCBvPXRoaXMuX2JpbmRpbmdzLGg9dGhpcy5fbkFjdGl2ZUJpbmRpbmdzO2ZvcihsZXQgbD0wO2whPT1oOysrbClvW2xdLmFwcGx5KG4pO3JldHVybiB0aGlzfXNldFRpbWUoZSl7dGhpcy50aW1lPTA7Zm9yKGxldCB0PTA7dDx0aGlzLl9hY3Rpb25zLmxlbmd0aDt0KyspdGhpcy5fYWN0aW9uc1t0XS50aW1lPTA7cmV0dXJuIHRoaXMudXBkYXRlKGUpfWdldFJvb3QoKXtyZXR1cm4gdGhpcy5fcm9vdH11bmNhY2hlQ2xpcChlKXtjb25zdCB0PXRoaXMuX2FjdGlvbnMscj1lLnV1aWQscz10aGlzLl9hY3Rpb25zQnlDbGlwLGE9c1tyXTtpZihhIT09dm9pZCAwKXtjb25zdCBuPWEua25vd25BY3Rpb25zO2ZvcihsZXQgbz0wLGg9bi5sZW5ndGg7byE9PWg7KytvKXtjb25zdCBsPW5bb107dGhpcy5fZGVhY3RpdmF0ZUFjdGlvbihsKTtjb25zdCBjPWwuX2NhY2hlSW5kZXgsdT10W3QubGVuZ3RoLTFdO2wuX2NhY2hlSW5kZXg9bnVsbCxsLl9ieUNsaXBDYWNoZUluZGV4PW51bGwsdS5fY2FjaGVJbmRleD1jLHRbY109dSx0LnBvcCgpLHRoaXMuX3JlbW92ZUluYWN0aXZlQmluZGluZ3NGb3JBY3Rpb24obCl9ZGVsZXRlIHNbcl19fXVuY2FjaGVSb290KGUpe2NvbnN0IHQ9ZS51dWlkLHI9dGhpcy5fYWN0aW9uc0J5Q2xpcDtmb3IoY29uc3QgbiBpbiByKXtjb25zdCBvPXJbbl0uYWN0aW9uQnlSb290LGg9b1t0XTtoIT09dm9pZCAwJiYodGhpcy5fZGVhY3RpdmF0ZUFjdGlvbihoKSx0aGlzLl9yZW1vdmVJbmFjdGl2ZUFjdGlvbihoKSl9Y29uc3Qgcz10aGlzLl9iaW5kaW5nc0J5Um9vdEFuZE5hbWUsYT1zW3RdO2lmKGEhPT12b2lkIDApZm9yKGNvbnN0IG4gaW4gYSl7Y29uc3Qgbz1hW25dO28ucmVzdG9yZU9yaWdpbmFsU3RhdGUoKSx0aGlzLl9yZW1vdmVJbmFjdGl2ZUJpbmRpbmcobyl9fXVuY2FjaGVBY3Rpb24oZSx0KXtjb25zdCByPXRoaXMuZXhpc3RpbmdBY3Rpb24oZSx0KTtyIT09bnVsbCYmKHRoaXMuX2RlYWN0aXZhdGVBY3Rpb24ociksdGhpcy5fcmVtb3ZlSW5hY3RpdmVBY3Rpb24ocikpfX1zMS5wcm90b3R5cGUuX2NvbnRyb2xJbnRlcnBvbGFudHNSZXN1bHRCdWZmZXI9bmV3IEZsb2F0MzJBcnJheSgxKTtjbGFzcyBhMSBleHRlbmRzIE5ze2NvbnN0cnVjdG9yKGUsdCxyPTEpe3N1cGVyKGUsdCk7dGhpcy5tZXNoUGVyQXR0cmlidXRlPXJ9Y29weShlKXtyZXR1cm4gc3VwZXIuY29weShlKSx0aGlzLm1lc2hQZXJBdHRyaWJ1dGU9ZS5tZXNoUGVyQXR0cmlidXRlLHRoaXN9Y2xvbmUoZSl7Y29uc3QgdD1zdXBlci5jbG9uZShlKTtyZXR1cm4gdC5tZXNoUGVyQXR0cmlidXRlPXRoaXMubWVzaFBlckF0dHJpYnV0ZSx0fXRvSlNPTihlKXtjb25zdCB0PXN1cGVyLnRvSlNPTihlKTtyZXR1cm4gdC5pc0luc3RhbmNlZEludGVybGVhdmVkQnVmZmVyPSEwLHQubWVzaFBlckF0dHJpYnV0ZT10aGlzLm1lc2hQZXJBdHRyaWJ1dGUsdH19YTEucHJvdG90eXBlLmlzSW5zdGFuY2VkSW50ZXJsZWF2ZWRCdWZmZXI9ITA7Y29uc3Qgamk9bmV3IEUsbm49bmV3IF9lLGpvPW5ldyBfZTtjbGFzcyBuMSBleHRlbmRzIEVve2NvbnN0cnVjdG9yKGUpe2NvbnN0IHQ9dXUoZSkscj1uZXcgJGUscz1bXSxhPVtdLG49bmV3IGdlKDAsMCwxKSxvPW5ldyBnZSgwLDEsMCk7Zm9yKGxldCBsPTA7bDx0Lmxlbmd0aDtsKyspe2NvbnN0IGM9dFtsXTtjLnBhcmVudCYmYy5wYXJlbnQuaXNCb25lJiYocy5wdXNoKDAsMCwwKSxzLnB1c2goMCwwLDApLGEucHVzaChuLnIsbi5nLG4uYiksYS5wdXNoKG8ucixvLmcsby5iKSl9ci5zZXRBdHRyaWJ1dGUoInBvc2l0aW9uIixuZXcgcHQocywzKSksci5zZXRBdHRyaWJ1dGUoImNvbG9yIixuZXcgcHQoYSwzKSk7Y29uc3QgaD1uZXcgJHIoe3ZlcnRleENvbG9yczohMCxkZXB0aFRlc3Q6ITEsZGVwdGhXcml0ZTohMSx0b25lTWFwcGVkOiExLHRyYW5zcGFyZW50OiEwfSk7c3VwZXIocixoKTt0aGlzLnR5cGU9IlNrZWxldG9uSGVscGVyIix0aGlzLmlzU2tlbGV0b25IZWxwZXI9ITAsdGhpcy5yb290PWUsdGhpcy5ib25lcz10LHRoaXMubWF0cml4PWUubWF0cml4V29ybGQsdGhpcy5tYXRyaXhBdXRvVXBkYXRlPSExfXVwZGF0ZU1hdHJpeFdvcmxkKGUpe2NvbnN0IHQ9dGhpcy5ib25lcyxyPXRoaXMuZ2VvbWV0cnkscz1yLmdldEF0dHJpYnV0ZSgicG9zaXRpb24iKTtqby5jb3B5KHRoaXMucm9vdC5tYXRyaXhXb3JsZCkuaW52ZXJ0KCk7Zm9yKGxldCBhPTAsbj0wO2E8dC5sZW5ndGg7YSsrKXtjb25zdCBvPXRbYV07by5wYXJlbnQmJm8ucGFyZW50LmlzQm9uZSYmKG5uLm11bHRpcGx5TWF0cmljZXMoam8sby5tYXRyaXhXb3JsZCksamkuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKG5uKSxzLnNldFhZWihuLGppLngsamkueSxqaS56KSxubi5tdWx0aXBseU1hdHJpY2VzKGpvLG8ucGFyZW50Lm1hdHJpeFdvcmxkKSxqaS5zZXRGcm9tTWF0cml4UG9zaXRpb24obm4pLHMuc2V0WFlaKG4rMSxqaS54LGppLnksamkueiksbis9Mil9ci5nZXRBdHRyaWJ1dGUoInBvc2l0aW9uIikubmVlZHNVcGRhdGU9ITAsc3VwZXIudXBkYXRlTWF0cml4V29ybGQoZSl9fWZ1bmN0aW9uIHV1KGkpe2NvbnN0IGU9W107aS5pc0JvbmU9PT0hMCYmZS5wdXNoKGkpO2ZvcihsZXQgdD0wO3Q8aS5jaGlsZHJlbi5sZW5ndGg7dCsrKWUucHVzaC5hcHBseShlLHV1KGkuY2hpbGRyZW5bdF0pKTtyZXR1cm4gZX1jbGFzcyBvMSBleHRlbmRzIEVve2NvbnN0cnVjdG9yKGU9MTAsdD0xMCxyPTQ0NzM5MjQscz04OTQ3ODQ4KXtyPW5ldyBnZShyKSxzPW5ldyBnZShzKTtjb25zdCBhPXQvMixuPWUvdCxvPWUvMixoPVtdLGw9W107Zm9yKGxldCBkPTAscD0wLGc9LW87ZDw9dDtkKyssZys9bil7aC5wdXNoKC1vLDAsZyxvLDAsZyksaC5wdXNoKGcsMCwtbyxnLDAsbyk7Y29uc3QgZj1kPT09YT9yOnM7Zi50b0FycmF5KGwscCkscCs9MyxmLnRvQXJyYXkobCxwKSxwKz0zLGYudG9BcnJheShsLHApLHArPTMsZi50b0FycmF5KGwscCkscCs9M31jb25zdCBjPW5ldyAkZTtjLnNldEF0dHJpYnV0ZSgicG9zaXRpb24iLG5ldyBwdChoLDMpKSxjLnNldEF0dHJpYnV0ZSgiY29sb3IiLG5ldyBwdChsLDMpKTtjb25zdCB1PW5ldyAkcih7dmVydGV4Q29sb3JzOiEwLHRvbmVNYXBwZWQ6ITF9KTtzdXBlcihjLHUpO3RoaXMudHlwZT0iR3JpZEhlbHBlciJ9fWNvbnN0IGhpPW5ldyBVaW50MzJBcnJheSg1MTIpLGxpPW5ldyBVaW50MzJBcnJheSg1MTIpO2ZvcihsZXQgaT0wO2k8MjU2OysraSl7Y29uc3QgZT1pLTEyNztlPC0yNz8oaGlbaV09MCxoaVtpfDI1Nl09MzI3NjgsbGlbaV09MjQsbGlbaXwyNTZdPTI0KTplPC0xND8oaGlbaV09MTAyND4+LWUtMTQsaGlbaXwyNTZdPTEwMjQ+Pi1lLTE0fDMyNzY4LGxpW2ldPS1lLTEsbGlbaXwyNTZdPS1lLTEpOmU8PTE1PyhoaVtpXT1lKzE1PDwxMCxoaVtpfDI1Nl09ZSsxNTw8MTB8MzI3NjgsbGlbaV09MTMsbGlbaXwyNTZdPTEzKTplPDEyOD8oaGlbaV09MzE3NDQsaGlbaXwyNTZdPTY0NTEyLGxpW2ldPTI0LGxpW2l8MjU2XT0yNCk6KGhpW2ldPTMxNzQ0LGhpW2l8MjU2XT02NDUxMixsaVtpXT0xMyxsaVtpfDI1Nl09MTMpfWNvbnN0IGR1PW5ldyBVaW50MzJBcnJheSgyMDQ4KSxYcz1uZXcgVWludDMyQXJyYXkoNjQpLGgxPW5ldyBVaW50MzJBcnJheSg2NCk7Zm9yKGxldCBpPTE7aTwxMDI0OysraSl7bGV0IGU9aTw8MTMsdD0wO2Zvcig7KGUmODM4ODYwOCk9PT0wOyllPDw9MSx0LT04Mzg4NjA4O2UmPS04Mzg4NjA5LHQrPTk0NzkxMjcwNCxkdVtpXT1lfHR9Zm9yKGxldCBpPTEwMjQ7aTwyMDQ4OysraSlkdVtpXT05Mzk1MjQwOTYrKGktMTAyNDw8MTMpO2ZvcihsZXQgaT0xO2k8MzE7KytpKVhzW2ldPWk8PDIzO1hzWzMxXT0xMTk5NTcwOTQ0LFhzWzMyXT0yMTQ3NDgzNjQ4O2ZvcihsZXQgaT0zMztpPDYzOysraSlYc1tpXT0yMTQ3NDgzNjQ4KyhpLTMyPDwyMyk7WHNbNjNdPTMzNDcwNTQ1OTI7Zm9yKGxldCBpPTE7aTw2NDsrK2kpaSE9PTMyJiYoaDFbaV09MTAyNCk7R3QuY3JlYXRlPWZ1bmN0aW9uKGksZSl7cmV0dXJuIGNvbnNvbGUubG9nKCJUSFJFRS5DdXJ2ZS5jcmVhdGUoKSBoYXMgYmVlbiBkZXByZWNhdGVkIiksaS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShHdC5wcm90b3R5cGUpLGkucHJvdG90eXBlLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUuZ2V0UG9pbnQ9ZSxpfSxPby5wcm90b3R5cGUuZnJvbVBvaW50cz1mdW5jdGlvbihpKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5QYXRoOiAuZnJvbVBvaW50cygpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLnNldEZyb21Qb2ludHMoKS4iKSx0aGlzLnNldEZyb21Qb2ludHMoaSl9LG8xLnByb3RvdHlwZS5zZXRDb2xvcnM9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5HcmlkSGVscGVyOiBzZXRDb2xvcnMoKSBoYXMgYmVlbiBkZXByZWNhdGVkLCBwYXNzIHRoZW0gaW4gdGhlIGNvbnN0cnVjdG9yIGluc3RlYWQuIil9LG4xLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5Ta2VsZXRvbkhlbHBlcjogdXBkYXRlKCkgbm8gbG9uZ2VyIG5lZWRzIHRvIGJlIGNhbGxlZC4iKX0sV2kucHJvdG90eXBlLmV4dHJhY3RVcmxCYXNlPWZ1bmN0aW9uKGkpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkxvYWRlcjogLmV4dHJhY3RVcmxCYXNlKCkgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIFRIUkVFLkxvYWRlclV0aWxzLmV4dHJhY3RVcmxCYXNlKCkgaW5zdGVhZC4iKSxGTS5leHRyYWN0VXJsQmFzZShpKX0sV2kuSGFuZGxlcnM9e2FkZDpmdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLkxvYWRlcjogSGFuZGxlcnMuYWRkKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIExvYWRpbmdNYW5hZ2VyLmFkZEhhbmRsZXIoKSBpbnN0ZWFkLiIpfSxnZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5Mb2FkZXI6IEhhbmRsZXJzLmdldCgpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBMb2FkaW5nTWFuYWdlci5nZXRIYW5kbGVyKCkgaW5zdGVhZC4iKX19LFp0LnByb3RvdHlwZS5jZW50ZXI9ZnVuY3Rpb24oaSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuQm94MzogLmNlbnRlcigpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmdldENlbnRlcigpLiIpLHRoaXMuZ2V0Q2VudGVyKGkpfSxadC5wcm90b3R5cGUuZW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5Cb3gzOiAuZW1wdHkoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5pc0VtcHR5KCkuIiksdGhpcy5pc0VtcHR5KCl9LFp0LnByb3RvdHlwZS5pc0ludGVyc2VjdGlvbkJveD1mdW5jdGlvbihpKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5Cb3gzOiAuaXNJbnRlcnNlY3Rpb25Cb3goKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5pbnRlcnNlY3RzQm94KCkuIiksdGhpcy5pbnRlcnNlY3RzQm94KGkpfSxadC5wcm90b3R5cGUuaXNJbnRlcnNlY3Rpb25TcGhlcmU9ZnVuY3Rpb24oaSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuQm94MzogLmlzSW50ZXJzZWN0aW9uU3BoZXJlKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuaW50ZXJzZWN0c1NwaGVyZSgpLiIpLHRoaXMuaW50ZXJzZWN0c1NwaGVyZShpKX0sWnQucHJvdG90eXBlLnNpemU9ZnVuY3Rpb24oaSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuQm94MzogLnNpemUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXRTaXplKCkuIiksdGhpcy5nZXRTaXplKGkpfSxzci5wcm90b3R5cGUudG9WZWN0b3IzPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuRXVsZXI6IC50b1ZlY3RvcjMoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgVmVjdG9yMy5zZXRGcm9tRXVsZXIoKSBpbnN0ZWFkIil9LERyLnByb3RvdHlwZS5lbXB0eT1mdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlNwaGVyZTogLmVtcHR5KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuaXNFbXB0eSgpLiIpLHRoaXMuaXNFbXB0eSgpfSxIYS5wcm90b3R5cGUuc2V0RnJvbU1hdHJpeD1mdW5jdGlvbihpKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5GcnVzdHVtOiAuc2V0RnJvbU1hdHJpeCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLnNldEZyb21Qcm9qZWN0aW9uTWF0cml4KCkuIiksdGhpcy5zZXRGcm9tUHJvamVjdGlvbk1hdHJpeChpKX0seHQucHJvdG90eXBlLmZsYXR0ZW5Ub0FycmF5T2Zmc2V0PWZ1bmN0aW9uKGksZSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuTWF0cml4MzogLmZsYXR0ZW5Ub0FycmF5T2Zmc2V0KCkgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC50b0FycmF5KCkgaW5zdGVhZC4iKSx0aGlzLnRvQXJyYXkoaSxlKX0seHQucHJvdG90eXBlLm11bHRpcGx5VmVjdG9yMz1mdW5jdGlvbihpKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5NYXRyaXgzOiAubXVsdGlwbHlWZWN0b3IzKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIHZlY3Rvci5hcHBseU1hdHJpeDMoIG1hdHJpeCApIGluc3RlYWQuIiksaS5hcHBseU1hdHJpeDModGhpcyl9LHh0LnByb3RvdHlwZS5tdWx0aXBseVZlY3RvcjNBcnJheT1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLk1hdHJpeDM6IC5tdWx0aXBseVZlY3RvcjNBcnJheSgpIGhhcyBiZWVuIHJlbW92ZWQuIil9LHh0LnByb3RvdHlwZS5hcHBseVRvQnVmZmVyQXR0cmlidXRlPWZ1bmN0aW9uKGkpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLk1hdHJpeDM6IC5hcHBseVRvQnVmZmVyQXR0cmlidXRlKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIGF0dHJpYnV0ZS5hcHBseU1hdHJpeDMoIG1hdHJpeCApIGluc3RlYWQuIiksaS5hcHBseU1hdHJpeDModGhpcyl9LHh0LnByb3RvdHlwZS5hcHBseVRvVmVjdG9yM0FycmF5PWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuTWF0cml4MzogLmFwcGx5VG9WZWN0b3IzQXJyYXkoKSBoYXMgYmVlbiByZW1vdmVkLiIpfSx4dC5wcm90b3R5cGUuZ2V0SW52ZXJzZT1mdW5jdGlvbihpKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5NYXRyaXgzOiAuZ2V0SW52ZXJzZSgpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBtYXRyaXhJbnYuY29weSggbWF0cml4ICkuaW52ZXJ0KCk7IGluc3RlYWQuIiksdGhpcy5jb3B5KGkpLmludmVydCgpfSxfZS5wcm90b3R5cGUuZXh0cmFjdFBvc2l0aW9uPWZ1bmN0aW9uKGkpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLk1hdHJpeDQ6IC5leHRyYWN0UG9zaXRpb24oKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5jb3B5UG9zaXRpb24oKS4iKSx0aGlzLmNvcHlQb3NpdGlvbihpKX0sX2UucHJvdG90eXBlLmZsYXR0ZW5Ub0FycmF5T2Zmc2V0PWZ1bmN0aW9uKGksZSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuTWF0cml4NDogLmZsYXR0ZW5Ub0FycmF5T2Zmc2V0KCkgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC50b0FycmF5KCkgaW5zdGVhZC4iKSx0aGlzLnRvQXJyYXkoaSxlKX0sX2UucHJvdG90eXBlLmdldFBvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuTWF0cml4NDogLmdldFBvc2l0aW9uKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIFZlY3RvcjMuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKCBtYXRyaXggKSBpbnN0ZWFkLiIpLG5ldyBFKCkuc2V0RnJvbU1hdHJpeENvbHVtbih0aGlzLDMpfSxfZS5wcm90b3R5cGUuc2V0Um90YXRpb25Gcm9tUXVhdGVybmlvbj1mdW5jdGlvbihpKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5NYXRyaXg0OiAuc2V0Um90YXRpb25Gcm9tUXVhdGVybmlvbigpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLm1ha2VSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKCkuIiksdGhpcy5tYWtlUm90YXRpb25Gcm9tUXVhdGVybmlvbihpKX0sX2UucHJvdG90eXBlLm11bHRpcGx5VG9BcnJheT1mdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuTWF0cml4NDogLm11bHRpcGx5VG9BcnJheSgpIGhhcyBiZWVuIHJlbW92ZWQuIil9LF9lLnByb3RvdHlwZS5tdWx0aXBseVZlY3RvcjM9ZnVuY3Rpb24oaSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuTWF0cml4NDogLm11bHRpcGx5VmVjdG9yMygpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSB2ZWN0b3IuYXBwbHlNYXRyaXg0KCBtYXRyaXggKSBpbnN0ZWFkLiIpLGkuYXBwbHlNYXRyaXg0KHRoaXMpfSxfZS5wcm90b3R5cGUubXVsdGlwbHlWZWN0b3I0PWZ1bmN0aW9uKGkpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLk1hdHJpeDQ6IC5tdWx0aXBseVZlY3RvcjQoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgdmVjdG9yLmFwcGx5TWF0cml4NCggbWF0cml4ICkgaW5zdGVhZC4iKSxpLmFwcGx5TWF0cml4NCh0aGlzKX0sX2UucHJvdG90eXBlLm11bHRpcGx5VmVjdG9yM0FycmF5PWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuTWF0cml4NDogLm11bHRpcGx5VmVjdG9yM0FycmF5KCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sX2UucHJvdG90eXBlLnJvdGF0ZUF4aXM9ZnVuY3Rpb24oaSl7Y29uc29sZS53YXJuKCJUSFJFRS5NYXRyaXg0OiAucm90YXRlQXhpcygpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBWZWN0b3IzLnRyYW5zZm9ybURpcmVjdGlvbiggbWF0cml4ICkgaW5zdGVhZC4iKSxpLnRyYW5zZm9ybURpcmVjdGlvbih0aGlzKX0sX2UucHJvdG90eXBlLmNyb3NzVmVjdG9yPWZ1bmN0aW9uKGkpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLk1hdHJpeDQ6IC5jcm9zc1ZlY3RvcigpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSB2ZWN0b3IuYXBwbHlNYXRyaXg0KCBtYXRyaXggKSBpbnN0ZWFkLiIpLGkuYXBwbHlNYXRyaXg0KHRoaXMpfSxfZS5wcm90b3R5cGUudHJhbnNsYXRlPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuTWF0cml4NDogLnRyYW5zbGF0ZSgpIGhhcyBiZWVuIHJlbW92ZWQuIil9LF9lLnByb3RvdHlwZS5yb3RhdGVYPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuTWF0cml4NDogLnJvdGF0ZVgoKSBoYXMgYmVlbiByZW1vdmVkLiIpfSxfZS5wcm90b3R5cGUucm90YXRlWT1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLk1hdHJpeDQ6IC5yb3RhdGVZKCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sX2UucHJvdG90eXBlLnJvdGF0ZVo9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5NYXRyaXg0OiAucm90YXRlWigpIGhhcyBiZWVuIHJlbW92ZWQuIil9LF9lLnByb3RvdHlwZS5yb3RhdGVCeUF4aXM9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5NYXRyaXg0OiAucm90YXRlQnlBeGlzKCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sX2UucHJvdG90eXBlLmFwcGx5VG9CdWZmZXJBdHRyaWJ1dGU9ZnVuY3Rpb24oaSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuTWF0cml4NDogLmFwcGx5VG9CdWZmZXJBdHRyaWJ1dGUoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgYXR0cmlidXRlLmFwcGx5TWF0cml4NCggbWF0cml4ICkgaW5zdGVhZC4iKSxpLmFwcGx5TWF0cml4NCh0aGlzKX0sX2UucHJvdG90eXBlLmFwcGx5VG9WZWN0b3IzQXJyYXk9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5NYXRyaXg0OiAuYXBwbHlUb1ZlY3RvcjNBcnJheSgpIGhhcyBiZWVuIHJlbW92ZWQuIil9LF9lLnByb3RvdHlwZS5tYWtlRnJ1c3R1bT1mdW5jdGlvbihpLGUsdCxyLHMsYSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuTWF0cml4NDogLm1ha2VGcnVzdHVtKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIC5tYWtlUGVyc3BlY3RpdmUoIGxlZnQsIHJpZ2h0LCB0b3AsIGJvdHRvbSwgbmVhciwgZmFyICkgaW5zdGVhZC4iKSx0aGlzLm1ha2VQZXJzcGVjdGl2ZShpLGUscix0LHMsYSl9LF9lLnByb3RvdHlwZS5nZXRJbnZlcnNlPWZ1bmN0aW9uKGkpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLk1hdHJpeDQ6IC5nZXRJbnZlcnNlKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIG1hdHJpeEludi5jb3B5KCBtYXRyaXggKS5pbnZlcnQoKTsgaW5zdGVhZC4iKSx0aGlzLmNvcHkoaSkuaW52ZXJ0KCl9LFRpLnByb3RvdHlwZS5pc0ludGVyc2VjdGlvbkxpbmU9ZnVuY3Rpb24oaSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuUGxhbmU6IC5pc0ludGVyc2VjdGlvbkxpbmUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5pbnRlcnNlY3RzTGluZSgpLiIpLHRoaXMuaW50ZXJzZWN0c0xpbmUoaSl9LFR0LnByb3RvdHlwZS5tdWx0aXBseVZlY3RvcjM9ZnVuY3Rpb24oaSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuUXVhdGVybmlvbjogLm11bHRpcGx5VmVjdG9yMygpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBpcyBub3cgdmVjdG9yLmFwcGx5UXVhdGVybmlvbiggcXVhdGVybmlvbiApIGluc3RlYWQuIiksaS5hcHBseVF1YXRlcm5pb24odGhpcyl9LFR0LnByb3RvdHlwZS5pbnZlcnNlPWZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuUXVhdGVybmlvbjogLmludmVyc2UoKSBoYXMgYmVlbiByZW5hbWVkIHRvIGludmVydCgpLiIpLHRoaXMuaW52ZXJ0KCl9LE9yLnByb3RvdHlwZS5pc0ludGVyc2VjdGlvbkJveD1mdW5jdGlvbihpKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5SYXk6IC5pc0ludGVyc2VjdGlvbkJveCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmludGVyc2VjdHNCb3goKS4iKSx0aGlzLmludGVyc2VjdHNCb3goaSl9LE9yLnByb3RvdHlwZS5pc0ludGVyc2VjdGlvblBsYW5lPWZ1bmN0aW9uKGkpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlJheTogLmlzSW50ZXJzZWN0aW9uUGxhbmUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5pbnRlcnNlY3RzUGxhbmUoKS4iKSx0aGlzLmludGVyc2VjdHNQbGFuZShpKX0sT3IucHJvdG90eXBlLmlzSW50ZXJzZWN0aW9uU3BoZXJlPWZ1bmN0aW9uKGkpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlJheTogLmlzSW50ZXJzZWN0aW9uU3BoZXJlKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuaW50ZXJzZWN0c1NwaGVyZSgpLiIpLHRoaXMuaW50ZXJzZWN0c1NwaGVyZShpKX0sYXQucHJvdG90eXBlLmFyZWE9ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5UcmlhbmdsZTogLmFyZWEoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXRBcmVhKCkuIiksdGhpcy5nZXRBcmVhKCl9LGF0LnByb3RvdHlwZS5iYXJ5Y29vcmRGcm9tUG9pbnQ9ZnVuY3Rpb24oaSxlKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5UcmlhbmdsZTogLmJhcnljb29yZEZyb21Qb2ludCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmdldEJhcnljb29yZCgpLiIpLHRoaXMuZ2V0QmFyeWNvb3JkKGksZSl9LGF0LnByb3RvdHlwZS5taWRwb2ludD1mdW5jdGlvbihpKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5UcmlhbmdsZTogLm1pZHBvaW50KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZ2V0TWlkcG9pbnQoKS4iKSx0aGlzLmdldE1pZHBvaW50KGkpfSxhdC5wcm90b3R5cGVub3JtYWw9ZnVuY3Rpb24oaSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuVHJpYW5nbGU6IC5ub3JtYWwoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXROb3JtYWwoKS4iKSx0aGlzLmdldE5vcm1hbChpKX0sYXQucHJvdG90eXBlLnBsYW5lPWZ1bmN0aW9uKGkpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlRyaWFuZ2xlOiAucGxhbmUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXRQbGFuZSgpLiIpLHRoaXMuZ2V0UGxhbmUoaSl9LGF0LmJhcnljb29yZEZyb21Qb2ludD1mdW5jdGlvbihpLGUsdCxyLHMpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlRyaWFuZ2xlOiAuYmFyeWNvb3JkRnJvbVBvaW50KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZ2V0QmFyeWNvb3JkKCkuIiksYXQuZ2V0QmFyeWNvb3JkKGksZSx0LHIscyl9LGF0Lm5vcm1hbD1mdW5jdGlvbihpLGUsdCxyKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5UcmlhbmdsZTogLm5vcm1hbCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmdldE5vcm1hbCgpLiIpLGF0LmdldE5vcm1hbChpLGUsdCxyKX0sa3MucHJvdG90eXBlLmV4dHJhY3RBbGxQb2ludHM9ZnVuY3Rpb24oaSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuU2hhcGU6IC5leHRyYWN0QWxsUG9pbnRzKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIC5leHRyYWN0UG9pbnRzKCkgaW5zdGVhZC4iKSx0aGlzLmV4dHJhY3RQb2ludHMoaSl9LGtzLnByb3RvdHlwZS5leHRydWRlPWZ1bmN0aW9uKGkpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlNoYXBlOiAuZXh0cnVkZSgpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBFeHRydWRlR2VvbWV0cnkoKSBpbnN0ZWFkLiIpLG5ldyB0cyh0aGlzLGkpfSxrcy5wcm90b3R5cGUubWFrZUdlb21ldHJ5PWZ1bmN0aW9uKGkpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlNoYXBlOiAubWFrZUdlb21ldHJ5KCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIFNoYXBlR2VvbWV0cnkoKSBpbnN0ZWFkLiIpLG5ldyBVbyh0aGlzLGkpfSxlZS5wcm90b3R5cGUuZnJvbUF0dHJpYnV0ZT1mdW5jdGlvbihpLGUsdCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yMjogLmZyb21BdHRyaWJ1dGUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5mcm9tQnVmZmVyQXR0cmlidXRlKCkuIiksdGhpcy5mcm9tQnVmZmVyQXR0cmlidXRlKGksZSx0KX0sZWUucHJvdG90eXBlLmRpc3RhbmNlVG9NYW5oYXR0YW49ZnVuY3Rpb24oaSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yMjogLmRpc3RhbmNlVG9NYW5oYXR0YW4oKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5tYW5oYXR0YW5EaXN0YW5jZVRvKCkuIiksdGhpcy5tYW5oYXR0YW5EaXN0YW5jZVRvKGkpfSxlZS5wcm90b3R5cGUubGVuZ3RoTWFuaGF0dGFuPWZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yMjogLmxlbmd0aE1hbmhhdHRhbigpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLm1hbmhhdHRhbkxlbmd0aCgpLiIpLHRoaXMubWFuaGF0dGFuTGVuZ3RoKCl9LEUucHJvdG90eXBlLnNldEV1bGVyRnJvbVJvdGF0aW9uTWF0cml4PWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuVmVjdG9yMzogLnNldEV1bGVyRnJvbVJvdGF0aW9uTWF0cml4KCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIEV1bGVyLnNldEZyb21Sb3RhdGlvbk1hdHJpeCgpIGluc3RlYWQuIil9LEUucHJvdG90eXBlLnNldEV1bGVyRnJvbVF1YXRlcm5pb249ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5WZWN0b3IzOiAuc2V0RXVsZXJGcm9tUXVhdGVybmlvbigpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBFdWxlci5zZXRGcm9tUXVhdGVybmlvbigpIGluc3RlYWQuIil9LEUucHJvdG90eXBlLmdldFBvc2l0aW9uRnJvbU1hdHJpeD1mdW5jdGlvbihpKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5WZWN0b3IzOiAuZ2V0UG9zaXRpb25Gcm9tTWF0cml4KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKCkuIiksdGhpcy5zZXRGcm9tTWF0cml4UG9zaXRpb24oaSl9LEUucHJvdG90eXBlLmdldFNjYWxlRnJvbU1hdHJpeD1mdW5jdGlvbihpKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5WZWN0b3IzOiAuZ2V0U2NhbGVGcm9tTWF0cml4KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuc2V0RnJvbU1hdHJpeFNjYWxlKCkuIiksdGhpcy5zZXRGcm9tTWF0cml4U2NhbGUoaSl9LEUucHJvdG90eXBlLmdldENvbHVtbkZyb21NYXRyaXg9ZnVuY3Rpb24oaSxlKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5WZWN0b3IzOiAuZ2V0Q29sdW1uRnJvbU1hdHJpeCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLnNldEZyb21NYXRyaXhDb2x1bW4oKS4iKSx0aGlzLnNldEZyb21NYXRyaXhDb2x1bW4oZSxpKX0sRS5wcm90b3R5cGUuYXBwbHlQcm9qZWN0aW9uPWZ1bmN0aW9uKGkpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlZlY3RvcjM6IC5hcHBseVByb2plY3Rpb24oKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgLmFwcGx5TWF0cml4NCggbSApIGluc3RlYWQuIiksdGhpcy5hcHBseU1hdHJpeDQoaSl9LEUucHJvdG90eXBlLmZyb21BdHRyaWJ1dGU9ZnVuY3Rpb24oaSxlLHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlZlY3RvcjM6IC5mcm9tQXR0cmlidXRlKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZnJvbUJ1ZmZlckF0dHJpYnV0ZSgpLiIpLHRoaXMuZnJvbUJ1ZmZlckF0dHJpYnV0ZShpLGUsdCl9LEUucHJvdG90eXBlLmRpc3RhbmNlVG9NYW5oYXR0YW49ZnVuY3Rpb24oaSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yMzogLmRpc3RhbmNlVG9NYW5oYXR0YW4oKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5tYW5oYXR0YW5EaXN0YW5jZVRvKCkuIiksdGhpcy5tYW5oYXR0YW5EaXN0YW5jZVRvKGkpfSxFLnByb3RvdHlwZS5sZW5ndGhNYW5oYXR0YW49ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5WZWN0b3IzOiAubGVuZ3RoTWFuaGF0dGFuKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAubWFuaGF0dGFuTGVuZ3RoKCkuIiksdGhpcy5tYW5oYXR0YW5MZW5ndGgoKX0sWGUucHJvdG90eXBlLmZyb21BdHRyaWJ1dGU9ZnVuY3Rpb24oaSxlLHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlZlY3RvcjQ6IC5mcm9tQXR0cmlidXRlKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZnJvbUJ1ZmZlckF0dHJpYnV0ZSgpLiIpLHRoaXMuZnJvbUJ1ZmZlckF0dHJpYnV0ZShpLGUsdCl9LFhlLnByb3RvdHlwZS5sZW5ndGhNYW5oYXR0YW49ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5WZWN0b3I0OiAubGVuZ3RoTWFuaGF0dGFuKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAubWFuaGF0dGFuTGVuZ3RoKCkuIiksdGhpcy5tYW5oYXR0YW5MZW5ndGgoKX0samUucHJvdG90eXBlLmdldENoaWxkQnlOYW1lPWZ1bmN0aW9uKGkpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLk9iamVjdDNEOiAuZ2V0Q2hpbGRCeU5hbWUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXRPYmplY3RCeU5hbWUoKS4iKSx0aGlzLmdldE9iamVjdEJ5TmFtZShpKX0samUucHJvdG90eXBlLnJlbmRlckRlcHRoPWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5PYmplY3QzRDogLnJlbmRlckRlcHRoIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSAucmVuZGVyT3JkZXIsIGluc3RlYWQuIil9LGplLnByb3RvdHlwZS50cmFuc2xhdGU9ZnVuY3Rpb24oaSxlKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5PYmplY3QzRDogLnRyYW5zbGF0ZSgpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSAudHJhbnNsYXRlT25BeGlzKCBheGlzLCBkaXN0YW5jZSApIGluc3RlYWQuIiksdGhpcy50cmFuc2xhdGVPbkF4aXMoZSxpKX0samUucHJvdG90eXBlLmdldFdvcmxkUm90YXRpb249ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5PYmplY3QzRDogLmdldFdvcmxkUm90YXRpb24oKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgVEhSRUUuT2JqZWN0M0QuZ2V0V29ybGRRdWF0ZXJuaW9uKCB0YXJnZXQgKSBpbnN0ZWFkLiIpfSxqZS5wcm90b3R5cGUuYXBwbHlNYXRyaXg9ZnVuY3Rpb24oaSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuT2JqZWN0M0Q6IC5hcHBseU1hdHJpeCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmFwcGx5TWF0cml4NCgpLiIpLHRoaXMuYXBwbHlNYXRyaXg0KGkpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhqZS5wcm90b3R5cGUse2V1bGVyT3JkZXI6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLk9iamVjdDNEOiAuZXVsZXJPcmRlciBpcyBub3cgLnJvdGF0aW9uLm9yZGVyLiIpLHRoaXMucm90YXRpb24ub3JkZXJ9LHNldDpmdW5jdGlvbihpKXtjb25zb2xlLndhcm4oIlRIUkVFLk9iamVjdDNEOiAuZXVsZXJPcmRlciBpcyBub3cgLnJvdGF0aW9uLm9yZGVyLiIpLHRoaXMucm90YXRpb24ub3JkZXI9aX19LHVzZVF1YXRlcm5pb246e2dldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuT2JqZWN0M0Q6IC51c2VRdWF0ZXJuaW9uIGhhcyBiZWVuIHJlbW92ZWQuIFRoZSBsaWJyYXJ5IG5vdyB1c2VzIHF1YXRlcm5pb25zIGJ5IGRlZmF1bHQuIil9LHNldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuT2JqZWN0M0Q6IC51c2VRdWF0ZXJuaW9uIGhhcyBiZWVuIHJlbW92ZWQuIFRoZSBsaWJyYXJ5IG5vdyB1c2VzIHF1YXRlcm5pb25zIGJ5IGRlZmF1bHQuIil9fX0pLE50LnByb3RvdHlwZS5zZXREcmF3TW9kZT1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLk1lc2g6IC5zZXREcmF3TW9kZSgpIGhhcyBiZWVuIHJlbW92ZWQuIFRoZSByZW5kZXJlciBub3cgYWx3YXlzIGFzc3VtZXMgVEhSRUUuVHJpYW5nbGVzRHJhd01vZGUuIFRyYW5zZm9ybSB5b3VyIGdlb21ldHJ5IHZpYSBCdWZmZXJHZW9tZXRyeVV0aWxzLnRvVHJpYW5nbGVzRHJhd01vZGUoKSBpZiBuZWNlc3NhcnkuIil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKE50LnByb3RvdHlwZSx7ZHJhd01vZGU6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLmVycm9yKCJUSFJFRS5NZXNoOiAuZHJhd01vZGUgaGFzIGJlZW4gcmVtb3ZlZC4gVGhlIHJlbmRlcmVyIG5vdyBhbHdheXMgYXNzdW1lcyBUSFJFRS5UcmlhbmdsZXNEcmF3TW9kZS4iKSxWZ30sc2V0OmZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuTWVzaDogLmRyYXdNb2RlIGhhcyBiZWVuIHJlbW92ZWQuIFRoZSByZW5kZXJlciBub3cgYWx3YXlzIGFzc3VtZXMgVEhSRUUuVHJpYW5nbGVzRHJhd01vZGUuIFRyYW5zZm9ybSB5b3VyIGdlb21ldHJ5IHZpYSBCdWZmZXJHZW9tZXRyeVV0aWxzLnRvVHJpYW5nbGVzRHJhd01vZGUoKSBpZiBuZWNlc3NhcnkuIil9fX0pLGJjLnByb3RvdHlwZS5pbml0Qm9uZXM9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5Ta2lubmVkTWVzaDogaW5pdEJvbmVzKCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sRHQucHJvdG90eXBlLnNldExlbnM9ZnVuY3Rpb24oaSxlKXtjb25zb2xlLndhcm4oIlRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhLnNldExlbnMgaXMgZGVwcmVjYXRlZC4gVXNlIC5zZXRGb2NhbExlbmd0aCBhbmQgLmZpbG1HYXVnZSBmb3IgYSBwaG90b2dyYXBoaWMgc2V0dXAuIiksZSE9PXZvaWQgMCYmKHRoaXMuZmlsbUdhdWdlPWUpLHRoaXMuc2V0Rm9jYWxMZW5ndGgoaSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG9pLnByb3RvdHlwZSx7b25seVNoYWRvdzp7c2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5MaWdodDogLm9ubHlTaGFkb3cgaGFzIGJlZW4gcmVtb3ZlZC4iKX19LHNoYWRvd0NhbWVyYUZvdjp7c2V0OmZ1bmN0aW9uKGkpe2NvbnNvbGUud2FybigiVEhSRUUuTGlnaHQ6IC5zaGFkb3dDYW1lcmFGb3YgaXMgbm93IC5zaGFkb3cuY2FtZXJhLmZvdi4iKSx0aGlzLnNoYWRvdy5jYW1lcmEuZm92PWl9fSxzaGFkb3dDYW1lcmFMZWZ0OntzZXQ6ZnVuY3Rpb24oaSl7Y29uc29sZS53YXJuKCJUSFJFRS5MaWdodDogLnNoYWRvd0NhbWVyYUxlZnQgaXMgbm93IC5zaGFkb3cuY2FtZXJhLmxlZnQuIiksdGhpcy5zaGFkb3cuY2FtZXJhLmxlZnQ9aX19LHNoYWRvd0NhbWVyYVJpZ2h0OntzZXQ6ZnVuY3Rpb24oaSl7Y29uc29sZS53YXJuKCJUSFJFRS5MaWdodDogLnNoYWRvd0NhbWVyYVJpZ2h0IGlzIG5vdyAuc2hhZG93LmNhbWVyYS5yaWdodC4iKSx0aGlzLnNoYWRvdy5jYW1lcmEucmlnaHQ9aX19LHNoYWRvd0NhbWVyYVRvcDp7c2V0OmZ1bmN0aW9uKGkpe2NvbnNvbGUud2FybigiVEhSRUUuTGlnaHQ6IC5zaGFkb3dDYW1lcmFUb3AgaXMgbm93IC5zaGFkb3cuY2FtZXJhLnRvcC4iKSx0aGlzLnNoYWRvdy5jYW1lcmEudG9wPWl9fSxzaGFkb3dDYW1lcmFCb3R0b206e3NldDpmdW5jdGlvbihpKXtjb25zb2xlLndhcm4oIlRIUkVFLkxpZ2h0OiAuc2hhZG93Q2FtZXJhQm90dG9tIGlzIG5vdyAuc2hhZG93LmNhbWVyYS5ib3R0b20uIiksdGhpcy5zaGFkb3cuY2FtZXJhLmJvdHRvbT1pfX0sc2hhZG93Q2FtZXJhTmVhcjp7c2V0OmZ1bmN0aW9uKGkpe2NvbnNvbGUud2FybigiVEhSRUUuTGlnaHQ6IC5zaGFkb3dDYW1lcmFOZWFyIGlzIG5vdyAuc2hhZG93LmNhbWVyYS5uZWFyLiIpLHRoaXMuc2hhZG93LmNhbWVyYS5uZWFyPWl9fSxzaGFkb3dDYW1lcmFGYXI6e3NldDpmdW5jdGlvbihpKXtjb25zb2xlLndhcm4oIlRIUkVFLkxpZ2h0OiAuc2hhZG93Q2FtZXJhRmFyIGlzIG5vdyAuc2hhZG93LmNhbWVyYS5mYXIuIiksdGhpcy5zaGFkb3cuY2FtZXJhLmZhcj1pfX0sc2hhZG93Q2FtZXJhVmlzaWJsZTp7c2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5MaWdodDogLnNoYWRvd0NhbWVyYVZpc2libGUgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIG5ldyBUSFJFRS5DYW1lcmFIZWxwZXIoIGxpZ2h0LnNoYWRvdy5jYW1lcmEgKSBpbnN0ZWFkLiIpfX0sc2hhZG93Qmlhczp7c2V0OmZ1bmN0aW9uKGkpe2NvbnNvbGUud2FybigiVEhSRUUuTGlnaHQ6IC5zaGFkb3dCaWFzIGlzIG5vdyAuc2hhZG93LmJpYXMuIiksdGhpcy5zaGFkb3cuYmlhcz1pfX0sc2hhZG93RGFya25lc3M6e3NldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuTGlnaHQ6IC5zaGFkb3dEYXJrbmVzcyBoYXMgYmVlbiByZW1vdmVkLiIpfX0sc2hhZG93TWFwV2lkdGg6e3NldDpmdW5jdGlvbihpKXtjb25zb2xlLndhcm4oIlRIUkVFLkxpZ2h0OiAuc2hhZG93TWFwV2lkdGggaXMgbm93IC5zaGFkb3cubWFwU2l6ZS53aWR0aC4iKSx0aGlzLnNoYWRvdy5tYXBTaXplLndpZHRoPWl9fSxzaGFkb3dNYXBIZWlnaHQ6e3NldDpmdW5jdGlvbihpKXtjb25zb2xlLndhcm4oIlRIUkVFLkxpZ2h0OiAuc2hhZG93TWFwSGVpZ2h0IGlzIG5vdyAuc2hhZG93Lm1hcFNpemUuaGVpZ2h0LiIpLHRoaXMuc2hhZG93Lm1hcFNpemUuaGVpZ2h0PWl9fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGN0LnByb3RvdHlwZSx7bGVuZ3RoOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5CdWZmZXJBdHRyaWJ1dGU6IC5sZW5ndGggaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5jb3VudCBpbnN0ZWFkLiIpLHRoaXMuYXJyYXkubGVuZ3RofX0sZHluYW1pYzp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuQnVmZmVyQXR0cmlidXRlOiAuZHluYW1pYyBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLnVzYWdlIGluc3RlYWQuIiksdGhpcy51c2FnZT09PWdhfSxzZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLkJ1ZmZlckF0dHJpYnV0ZTogLmR5bmFtaWMgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC51c2FnZSBpbnN0ZWFkLiIpLHRoaXMuc2V0VXNhZ2UoZ2EpfX19KSxjdC5wcm90b3R5cGUuc2V0RHluYW1pYz1mdW5jdGlvbihpKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5CdWZmZXJBdHRyaWJ1dGU6IC5zZXREeW5hbWljKCkgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5zZXRVc2FnZSgpIGluc3RlYWQuIiksdGhpcy5zZXRVc2FnZShpPT09ITA/Z2E6RXMpLHRoaXN9LGN0LnByb3RvdHlwZS5jb3B5SW5kaWNlc0FycmF5PWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuQnVmZmVyQXR0cmlidXRlOiAuY29weUluZGljZXNBcnJheSgpIGhhcyBiZWVuIHJlbW92ZWQuIil9LGN0LnByb3RvdHlwZS5zZXRBcnJheT1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLkJ1ZmZlckF0dHJpYnV0ZTogLnNldEFycmF5IGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBCdWZmZXJHZW9tZXRyeSAuc2V0QXR0cmlidXRlIHRvIHJlcGxhY2UvcmVzaXplIGF0dHJpYnV0ZSBidWZmZXJzIil9LCRlLnByb3RvdHlwZS5hZGRJbmRleD1mdW5jdGlvbihpKXtjb25zb2xlLndhcm4oIlRIUkVFLkJ1ZmZlckdlb21ldHJ5OiAuYWRkSW5kZXgoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5zZXRJbmRleCgpLiIpLHRoaXMuc2V0SW5kZXgoaSl9LCRlLnByb3RvdHlwZS5hZGRBdHRyaWJ1dGU9ZnVuY3Rpb24oaSxlKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5CdWZmZXJHZW9tZXRyeTogLmFkZEF0dHJpYnV0ZSgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLnNldEF0dHJpYnV0ZSgpLiIpLCEoZSYmZS5pc0J1ZmZlckF0dHJpYnV0ZSkmJiEoZSYmZS5pc0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlKT8oY29uc29sZS53YXJuKCJUSFJFRS5CdWZmZXJHZW9tZXRyeTogLmFkZEF0dHJpYnV0ZSgpIG5vdyBleHBlY3RzICggbmFtZSwgYXR0cmlidXRlICkuIiksdGhpcy5zZXRBdHRyaWJ1dGUoaSxuZXcgY3QoYXJndW1lbnRzWzFdLGFyZ3VtZW50c1syXSkpKTppPT09ImluZGV4Ij8oY29uc29sZS53YXJuKCJUSFJFRS5CdWZmZXJHZW9tZXRyeS5hZGRBdHRyaWJ1dGU6IFVzZSAuc2V0SW5kZXgoKSBmb3IgaW5kZXggYXR0cmlidXRlLiIpLHRoaXMuc2V0SW5kZXgoZSksdGhpcyk6dGhpcy5zZXRBdHRyaWJ1dGUoaSxlKX0sJGUucHJvdG90eXBlLmFkZERyYXdDYWxsPWZ1bmN0aW9uKGksZSx0KXt0IT09dm9pZCAwJiZjb25zb2xlLndhcm4oIlRIUkVFLkJ1ZmZlckdlb21ldHJ5OiAuYWRkRHJhd0NhbGwoKSBubyBsb25nZXIgc3VwcG9ydHMgaW5kZXhPZmZzZXQuIiksY29uc29sZS53YXJuKCJUSFJFRS5CdWZmZXJHZW9tZXRyeTogLmFkZERyYXdDYWxsKCkgaXMgbm93IC5hZGRHcm91cCgpLiIpLHRoaXMuYWRkR3JvdXAoaSxlKX0sJGUucHJvdG90eXBlLmNsZWFyRHJhd0NhbGxzPWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5CdWZmZXJHZW9tZXRyeTogLmNsZWFyRHJhd0NhbGxzKCkgaXMgbm93IC5jbGVhckdyb3VwcygpLiIpLHRoaXMuY2xlYXJHcm91cHMoKX0sJGUucHJvdG90eXBlLmNvbXB1dGVPZmZzZXRzPWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5CdWZmZXJHZW9tZXRyeTogLmNvbXB1dGVPZmZzZXRzKCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sJGUucHJvdG90eXBlLnJlbW92ZUF0dHJpYnV0ZT1mdW5jdGlvbihpKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5CdWZmZXJHZW9tZXRyeTogLnJlbW92ZUF0dHJpYnV0ZSgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmRlbGV0ZUF0dHJpYnV0ZSgpLiIpLHRoaXMuZGVsZXRlQXR0cmlidXRlKGkpfSwkZS5wcm90b3R5cGUuYXBwbHlNYXRyaXg9ZnVuY3Rpb24oaSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuQnVmZmVyR2VvbWV0cnk6IC5hcHBseU1hdHJpeCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmFwcGx5TWF0cml4NCgpLiIpLHRoaXMuYXBwbHlNYXRyaXg0KGkpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcygkZS5wcm90b3R5cGUse2RyYXdjYWxsczp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUuZXJyb3IoIlRIUkVFLkJ1ZmZlckdlb21ldHJ5OiAuZHJhd2NhbGxzIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmdyb3Vwcy4iKSx0aGlzLmdyb3Vwc319LG9mZnNldHM6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkJ1ZmZlckdlb21ldHJ5OiAub2Zmc2V0cyBoYXMgYmVlbiByZW5hbWVkIHRvIC5ncm91cHMuIiksdGhpcy5ncm91cHN9fX0pLE5zLnByb3RvdHlwZS5zZXREeW5hbWljPWZ1bmN0aW9uKGkpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkludGVybGVhdmVkQnVmZmVyOiAuc2V0RHluYW1pYygpIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuc2V0VXNhZ2UoKSBpbnN0ZWFkLiIpLHRoaXMuc2V0VXNhZ2UoaT09PSEwP2dhOkVzKSx0aGlzfSxOcy5wcm90b3R5cGUuc2V0QXJyYXk9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5JbnRlcmxlYXZlZEJ1ZmZlcjogLnNldEFycmF5IGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBCdWZmZXJHZW9tZXRyeSAuc2V0QXR0cmlidXRlIHRvIHJlcGxhY2UvcmVzaXplIGF0dHJpYnV0ZSBidWZmZXJzIil9LHRzLnByb3RvdHlwZS5nZXRBcnJheXM9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5FeHRydWRlR2VvbWV0cnk6IC5nZXRBcnJheXMoKSBoYXMgYmVlbiByZW1vdmVkLiIpfSx0cy5wcm90b3R5cGUuYWRkU2hhcGVMaXN0PWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuRXh0cnVkZUdlb21ldHJ5OiAuYWRkU2hhcGVMaXN0KCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sdHMucHJvdG90eXBlLmFkZFNoYXBlPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuRXh0cnVkZUdlb21ldHJ5OiAuYWRkU2hhcGUoKSBoYXMgYmVlbiByZW1vdmVkLiIpfSxmYy5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLlNjZW5lOiAuZGlzcG9zZSgpIGhhcyBiZWVuIHJlbW92ZWQuIil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGx0LnByb3RvdHlwZSx7d3JhcEFyb3VuZDp7Z2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5NYXRlcmlhbDogLndyYXBBcm91bmQgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sc2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5NYXRlcmlhbDogLndyYXBBcm91bmQgaGFzIGJlZW4gcmVtb3ZlZC4iKX19LG92ZXJkcmF3OntnZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLk1hdGVyaWFsOiAub3ZlcmRyYXcgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sc2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5NYXRlcmlhbDogLm92ZXJkcmF3IGhhcyBiZWVuIHJlbW92ZWQuIil9fSx3cmFwUkdCOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5NYXRlcmlhbDogLndyYXBSR0IgaGFzIGJlZW4gcmVtb3ZlZC4iKSxuZXcgZ2V9fSxzaGFkaW5nOntnZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS4iK3RoaXMudHlwZSsiOiAuc2hhZGluZyBoYXMgYmVlbiByZW1vdmVkLiBVc2UgdGhlIGJvb2xlYW4gLmZsYXRTaGFkaW5nIGluc3RlYWQuIil9LHNldDpmdW5jdGlvbihpKXtjb25zb2xlLndhcm4oIlRIUkVFLiIrdGhpcy50eXBlKyI6IC5zaGFkaW5nIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSB0aGUgYm9vbGVhbiAuZmxhdFNoYWRpbmcgaW5zdGVhZC4iKSx0aGlzLmZsYXRTaGFkaW5nPWk9PT16aH19LHN0ZW5jaWxNYXNrOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS4iK3RoaXMudHlwZSsiOiAuc3RlbmNpbE1hc2sgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIC5zdGVuY2lsRnVuY01hc2sgaW5zdGVhZC4iKSx0aGlzLnN0ZW5jaWxGdW5jTWFza30sc2V0OmZ1bmN0aW9uKGkpe2NvbnNvbGUud2FybigiVEhSRUUuIit0aGlzLnR5cGUrIjogLnN0ZW5jaWxNYXNrIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSAuc3RlbmNpbEZ1bmNNYXNrIGluc3RlYWQuIiksdGhpcy5zdGVuY2lsRnVuY01hc2s9aX19LHZlcnRleFRhbmdlbnRzOntnZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLiIrdGhpcy50eXBlKyI6IC52ZXJ0ZXhUYW5nZW50cyBoYXMgYmVlbiByZW1vdmVkLiIpfSxzZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLiIrdGhpcy50eXBlKyI6IC52ZXJ0ZXhUYW5nZW50cyBoYXMgYmVlbiByZW1vdmVkLiIpfX19KSxPYmplY3QuZGVmaW5lUHJvcGVydGllcygkdC5wcm90b3R5cGUse2Rlcml2YXRpdmVzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5TaGFkZXJNYXRlcmlhbDogLmRlcml2YXRpdmVzIGhhcyBiZWVuIG1vdmVkIHRvIC5leHRlbnNpb25zLmRlcml2YXRpdmVzLiIpLHRoaXMuZXh0ZW5zaW9ucy5kZXJpdmF0aXZlc30sc2V0OmZ1bmN0aW9uKGkpe2NvbnNvbGUud2FybigiVEhSRUUuIFNoYWRlck1hdGVyaWFsOiAuZGVyaXZhdGl2ZXMgaGFzIGJlZW4gbW92ZWQgdG8gLmV4dGVuc2lvbnMuZGVyaXZhdGl2ZXMuIiksdGhpcy5leHRlbnNpb25zLmRlcml2YXRpdmVzPWl9fX0pLEplLnByb3RvdHlwZS5jbGVhclRhcmdldD1mdW5jdGlvbihpLGUsdCxyKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5jbGVhclRhcmdldCgpIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuc2V0UmVuZGVyVGFyZ2V0KCkgYW5kIC5jbGVhcigpIGluc3RlYWQuIiksdGhpcy5zZXRSZW5kZXJUYXJnZXQoaSksdGhpcy5jbGVhcihlLHQscil9LEplLnByb3RvdHlwZS5hbmltYXRlPWZ1bmN0aW9uKGkpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmFuaW1hdGUoKSBpcyBub3cgLnNldEFuaW1hdGlvbkxvb3AoKS4iKSx0aGlzLnNldEFuaW1hdGlvbkxvb3AoaSl9LEplLnByb3RvdHlwZS5nZXRDdXJyZW50UmVuZGVyVGFyZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmdldEN1cnJlbnRSZW5kZXJUYXJnZXQoKSBpcyBub3cgLmdldFJlbmRlclRhcmdldCgpLiIpLHRoaXMuZ2V0UmVuZGVyVGFyZ2V0KCl9LEplLnByb3RvdHlwZS5nZXRNYXhBbmlzb3Ryb3B5PWZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmdldE1heEFuaXNvdHJvcHkoKSBpcyBub3cgLmNhcGFiaWxpdGllcy5nZXRNYXhBbmlzb3Ryb3B5KCkuIiksdGhpcy5jYXBhYmlsaXRpZXMuZ2V0TWF4QW5pc290cm9weSgpfSxKZS5wcm90b3R5cGUuZ2V0UHJlY2lzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmdldFByZWNpc2lvbigpIGlzIG5vdyAuY2FwYWJpbGl0aWVzLnByZWNpc2lvbi4iKSx0aGlzLmNhcGFiaWxpdGllcy5wcmVjaXNpb259LEplLnByb3RvdHlwZS5yZXNldEdMU3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAucmVzZXRHTFN0YXRlKCkgaXMgbm93IC5zdGF0ZS5yZXNldCgpLiIpLHRoaXMuc3RhdGUucmVzZXQoKX0sSmUucHJvdG90eXBlLnN1cHBvcnRzRmxvYXRUZXh0dXJlcz1mdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zdXBwb3J0c0Zsb2F0VGV4dHVyZXMoKSBpcyBub3cgLmV4dGVuc2lvbnMuZ2V0KCAnT0VTX3RleHR1cmVfZmxvYXQnICkuIiksdGhpcy5leHRlbnNpb25zLmdldCgiT0VTX3RleHR1cmVfZmxvYXQiKX0sSmUucHJvdG90eXBlLnN1cHBvcnRzSGFsZkZsb2F0VGV4dHVyZXM9ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc3VwcG9ydHNIYWxmRmxvYXRUZXh0dXJlcygpIGlzIG5vdyAuZXh0ZW5zaW9ucy5nZXQoICdPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0JyApLiIpLHRoaXMuZXh0ZW5zaW9ucy5nZXQoIk9FU190ZXh0dXJlX2hhbGZfZmxvYXQiKX0sSmUucHJvdG90eXBlLnN1cHBvcnRzU3RhbmRhcmREZXJpdmF0aXZlcz1mdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zdXBwb3J0c1N0YW5kYXJkRGVyaXZhdGl2ZXMoKSBpcyBub3cgLmV4dGVuc2lvbnMuZ2V0KCAnT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzJyApLiIpLHRoaXMuZXh0ZW5zaW9ucy5nZXQoIk9FU19zdGFuZGFyZF9kZXJpdmF0aXZlcyIpfSxKZS5wcm90b3R5cGUuc3VwcG9ydHNDb21wcmVzc2VkVGV4dHVyZVMzVEM9ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc3VwcG9ydHNDb21wcmVzc2VkVGV4dHVyZVMzVEMoKSBpcyBub3cgLmV4dGVuc2lvbnMuZ2V0KCAnV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGMnICkuIiksdGhpcy5leHRlbnNpb25zLmdldCgiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGMiKX0sSmUucHJvdG90eXBlLnN1cHBvcnRzQ29tcHJlc3NlZFRleHR1cmVQVlJUQz1mdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zdXBwb3J0c0NvbXByZXNzZWRUZXh0dXJlUFZSVEMoKSBpcyBub3cgLmV4dGVuc2lvbnMuZ2V0KCAnV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjJyApLiIpLHRoaXMuZXh0ZW5zaW9ucy5nZXQoIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0YyIpfSxKZS5wcm90b3R5cGUuc3VwcG9ydHNCbGVuZE1pbk1heD1mdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zdXBwb3J0c0JsZW5kTWluTWF4KCkgaXMgbm93IC5leHRlbnNpb25zLmdldCggJ0VYVF9ibGVuZF9taW5tYXgnICkuIiksdGhpcy5leHRlbnNpb25zLmdldCgiRVhUX2JsZW5kX21pbm1heCIpfSxKZS5wcm90b3R5cGUuc3VwcG9ydHNWZXJ0ZXhUZXh0dXJlcz1mdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zdXBwb3J0c1ZlcnRleFRleHR1cmVzKCkgaXMgbm93IC5jYXBhYmlsaXRpZXMudmVydGV4VGV4dHVyZXMuIiksdGhpcy5jYXBhYmlsaXRpZXMudmVydGV4VGV4dHVyZXN9LEplLnByb3RvdHlwZS5zdXBwb3J0c0luc3RhbmNlZEFycmF5cz1mdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zdXBwb3J0c0luc3RhbmNlZEFycmF5cygpIGlzIG5vdyAuZXh0ZW5zaW9ucy5nZXQoICdBTkdMRV9pbnN0YW5jZWRfYXJyYXlzJyApLiIpLHRoaXMuZXh0ZW5zaW9ucy5nZXQoIkFOR0xFX2luc3RhbmNlZF9hcnJheXMiKX0sSmUucHJvdG90eXBlLmVuYWJsZVNjaXNzb3JUZXN0PWZ1bmN0aW9uKGkpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmVuYWJsZVNjaXNzb3JUZXN0KCkgaXMgbm93IC5zZXRTY2lzc29yVGVzdCgpLiIpLHRoaXMuc2V0U2Npc3NvclRlc3QoaSl9LEplLnByb3RvdHlwZS5pbml0TWF0ZXJpYWw9ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5pbml0TWF0ZXJpYWwoKSBoYXMgYmVlbiByZW1vdmVkLiIpfSxKZS5wcm90b3R5cGUuYWRkUHJlUGx1Z2luPWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuYWRkUHJlUGx1Z2luKCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sSmUucHJvdG90eXBlLmFkZFBvc3RQbHVnaW49ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5hZGRQb3N0UGx1Z2luKCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sSmUucHJvdG90eXBlLnVwZGF0ZVNoYWRvd01hcD1mdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnVwZGF0ZVNoYWRvd01hcCgpIGhhcyBiZWVuIHJlbW92ZWQuIil9LEplLnByb3RvdHlwZS5zZXRGYWNlQ3VsbGluZz1mdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnNldEZhY2VDdWxsaW5nKCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sSmUucHJvdG90eXBlLmFsbG9jVGV4dHVyZVVuaXQ9ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5hbGxvY1RleHR1cmVVbml0KCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sSmUucHJvdG90eXBlLnNldFRleHR1cmU9ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zZXRUZXh0dXJlKCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sSmUucHJvdG90eXBlLnNldFRleHR1cmUyRD1mdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnNldFRleHR1cmUyRCgpIGhhcyBiZWVuIHJlbW92ZWQuIil9LEplLnByb3RvdHlwZS5zZXRUZXh0dXJlQ3ViZT1mdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnNldFRleHR1cmVDdWJlKCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sSmUucHJvdG90eXBlLmdldEFjdGl2ZU1pcE1hcExldmVsPWZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmdldEFjdGl2ZU1pcE1hcExldmVsKCkgaXMgbm93IC5nZXRBY3RpdmVNaXBtYXBMZXZlbCgpLiIpLHRoaXMuZ2V0QWN0aXZlTWlwbWFwTGV2ZWwoKX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoSmUucHJvdG90eXBlLHtzaGFkb3dNYXBFbmFibGVkOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaGFkb3dNYXAuZW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGkpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnNoYWRvd01hcEVuYWJsZWQgaXMgbm93IC5zaGFkb3dNYXAuZW5hYmxlZC4iKSx0aGlzLnNoYWRvd01hcC5lbmFibGVkPWl9fSxzaGFkb3dNYXBUeXBlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaGFkb3dNYXAudHlwZX0sc2V0OmZ1bmN0aW9uKGkpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnNoYWRvd01hcFR5cGUgaXMgbm93IC5zaGFkb3dNYXAudHlwZS4iKSx0aGlzLnNoYWRvd01hcC50eXBlPWl9fSxzaGFkb3dNYXBDdWxsRmFjZTp7Z2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc2hhZG93TWFwQ3VsbEZhY2UgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IE1hdGVyaWFsLnNoYWRvd1NpZGUgaW5zdGVhZC4iKX0sc2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc2hhZG93TWFwQ3VsbEZhY2UgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IE1hdGVyaWFsLnNoYWRvd1NpZGUgaW5zdGVhZC4iKX19LGNvbnRleHQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5jb250ZXh0IGhhcyBiZWVuIHJlbW92ZWQuIFVzZSAuZ2V0Q29udGV4dCgpIGluc3RlYWQuIiksdGhpcy5nZXRDb250ZXh0KCl9fSx2cjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnZyIGhhcyBiZWVuIHJlbmFtZWQgdG8gLnhyIiksdGhpcy54cn19LGdhbW1hSW5wdXQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5nYW1tYUlucHV0IGhhcyBiZWVuIHJlbW92ZWQuIFNldCB0aGUgZW5jb2RpbmcgZm9yIHRleHR1cmVzIHZpYSBUZXh0dXJlLmVuY29kaW5nIGluc3RlYWQuIiksITF9LHNldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmdhbW1hSW5wdXQgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IHRoZSBlbmNvZGluZyBmb3IgdGV4dHVyZXMgdmlhIFRleHR1cmUuZW5jb2RpbmcgaW5zdGVhZC4iKX19LGdhbW1hT3V0cHV0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuZ2FtbWFPdXRwdXQgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IFdlYkdMUmVuZGVyZXIub3V0cHV0RW5jb2RpbmcgaW5zdGVhZC4iKSwhMX0sc2V0OmZ1bmN0aW9uKGkpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmdhbW1hT3V0cHV0IGhhcyBiZWVuIHJlbW92ZWQuIFNldCBXZWJHTFJlbmRlcmVyLm91dHB1dEVuY29kaW5nIGluc3RlYWQuIiksdGhpcy5vdXRwdXRFbmNvZGluZz1pPT09ITA/UWU6X2l9fSx0b25lTWFwcGluZ1doaXRlUG9pbnQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC50b25lTWFwcGluZ1doaXRlUG9pbnQgaGFzIGJlZW4gcmVtb3ZlZC4iKSwxfSxzZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC50b25lTWFwcGluZ1doaXRlUG9pbnQgaGFzIGJlZW4gcmVtb3ZlZC4iKX19LGdhbW1hRmFjdG9yOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuZ2FtbWFGYWN0b3IgaGFzIGJlZW4gcmVtb3ZlZC4iKSwyfSxzZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5nYW1tYUZhY3RvciBoYXMgYmVlbiByZW1vdmVkLiIpfX19KSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyh1Yy5wcm90b3R5cGUse2N1bGxGYWNlOntnZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zaGFkb3dNYXAuY3VsbEZhY2UgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IE1hdGVyaWFsLnNoYWRvd1NpZGUgaW5zdGVhZC4iKX0sc2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc2hhZG93TWFwLmN1bGxGYWNlIGhhcyBiZWVuIHJlbW92ZWQuIFNldCBNYXRlcmlhbC5zaGFkb3dTaWRlIGluc3RlYWQuIil9fSxyZW5kZXJSZXZlcnNlU2lkZWQ6e2dldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnNoYWRvd01hcC5yZW5kZXJSZXZlcnNlU2lkZWQgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IE1hdGVyaWFsLnNoYWRvd1NpZGUgaW5zdGVhZC4iKX0sc2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc2hhZG93TWFwLnJlbmRlclJldmVyc2VTaWRlZCBoYXMgYmVlbiByZW1vdmVkLiBTZXQgTWF0ZXJpYWwuc2hhZG93U2lkZSBpbnN0ZWFkLiIpfX0scmVuZGVyU2luZ2xlU2lkZWQ6e2dldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnNoYWRvd01hcC5yZW5kZXJTaW5nbGVTaWRlZCBoYXMgYmVlbiByZW1vdmVkLiBTZXQgTWF0ZXJpYWwuc2hhZG93U2lkZSBpbnN0ZWFkLiIpfSxzZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zaGFkb3dNYXAucmVuZGVyU2luZ2xlU2lkZWQgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IE1hdGVyaWFsLnNoYWRvd1NpZGUgaW5zdGVhZC4iKX19fSksT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoenQucHJvdG90eXBlLHt3cmFwUzp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC53cmFwUyBpcyBub3cgLnRleHR1cmUud3JhcFMuIiksdGhpcy50ZXh0dXJlLndyYXBTfSxzZXQ6ZnVuY3Rpb24oaSl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLndyYXBTIGlzIG5vdyAudGV4dHVyZS53cmFwUy4iKSx0aGlzLnRleHR1cmUud3JhcFM9aX19LHdyYXBUOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLndyYXBUIGlzIG5vdyAudGV4dHVyZS53cmFwVC4iKSx0aGlzLnRleHR1cmUud3JhcFR9LHNldDpmdW5jdGlvbihpKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAud3JhcFQgaXMgbm93IC50ZXh0dXJlLndyYXBULiIpLHRoaXMudGV4dHVyZS53cmFwVD1pfX0sbWFnRmlsdGVyOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLm1hZ0ZpbHRlciBpcyBub3cgLnRleHR1cmUubWFnRmlsdGVyLiIpLHRoaXMudGV4dHVyZS5tYWdGaWx0ZXJ9LHNldDpmdW5jdGlvbihpKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAubWFnRmlsdGVyIGlzIG5vdyAudGV4dHVyZS5tYWdGaWx0ZXIuIiksdGhpcy50ZXh0dXJlLm1hZ0ZpbHRlcj1pfX0sbWluRmlsdGVyOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLm1pbkZpbHRlciBpcyBub3cgLnRleHR1cmUubWluRmlsdGVyLiIpLHRoaXMudGV4dHVyZS5taW5GaWx0ZXJ9LHNldDpmdW5jdGlvbihpKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAubWluRmlsdGVyIGlzIG5vdyAudGV4dHVyZS5taW5GaWx0ZXIuIiksdGhpcy50ZXh0dXJlLm1pbkZpbHRlcj1pfX0sYW5pc290cm9weTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC5hbmlzb3Ryb3B5IGlzIG5vdyAudGV4dHVyZS5hbmlzb3Ryb3B5LiIpLHRoaXMudGV4dHVyZS5hbmlzb3Ryb3B5fSxzZXQ6ZnVuY3Rpb24oaSl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLmFuaXNvdHJvcHkgaXMgbm93IC50ZXh0dXJlLmFuaXNvdHJvcHkuIiksdGhpcy50ZXh0dXJlLmFuaXNvdHJvcHk9aX19LG9mZnNldDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC5vZmZzZXQgaXMgbm93IC50ZXh0dXJlLm9mZnNldC4iKSx0aGlzLnRleHR1cmUub2Zmc2V0fSxzZXQ6ZnVuY3Rpb24oaSl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLm9mZnNldCBpcyBub3cgLnRleHR1cmUub2Zmc2V0LiIpLHRoaXMudGV4dHVyZS5vZmZzZXQ9aX19LHJlcGVhdDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC5yZXBlYXQgaXMgbm93IC50ZXh0dXJlLnJlcGVhdC4iKSx0aGlzLnRleHR1cmUucmVwZWF0fSxzZXQ6ZnVuY3Rpb24oaSl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLnJlcGVhdCBpcyBub3cgLnRleHR1cmUucmVwZWF0LiIpLHRoaXMudGV4dHVyZS5yZXBlYXQ9aX19LGZvcm1hdDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC5mb3JtYXQgaXMgbm93IC50ZXh0dXJlLmZvcm1hdC4iKSx0aGlzLnRleHR1cmUuZm9ybWF0fSxzZXQ6ZnVuY3Rpb24oaSl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLmZvcm1hdCBpcyBub3cgLnRleHR1cmUuZm9ybWF0LiIpLHRoaXMudGV4dHVyZS5mb3JtYXQ9aX19LHR5cGU6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAudHlwZSBpcyBub3cgLnRleHR1cmUudHlwZS4iKSx0aGlzLnRleHR1cmUudHlwZX0sc2V0OmZ1bmN0aW9uKGkpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC50eXBlIGlzIG5vdyAudGV4dHVyZS50eXBlLiIpLHRoaXMudGV4dHVyZS50eXBlPWl9fSxnZW5lcmF0ZU1pcG1hcHM6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAuZ2VuZXJhdGVNaXBtYXBzIGlzIG5vdyAudGV4dHVyZS5nZW5lcmF0ZU1pcG1hcHMuIiksdGhpcy50ZXh0dXJlLmdlbmVyYXRlTWlwbWFwc30sc2V0OmZ1bmN0aW9uKGkpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC5nZW5lcmF0ZU1pcG1hcHMgaXMgbm93IC50ZXh0dXJlLmdlbmVyYXRlTWlwbWFwcy4iKSx0aGlzLnRleHR1cmUuZ2VuZXJhdGVNaXBtYXBzPWl9fX0pLHFNLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKGkpe2NvbnNvbGUud2FybigiVEhSRUUuQXVkaW86IC5sb2FkIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSBUSFJFRS5BdWRpb0xvYWRlciBpbnN0ZWFkLiIpO2NvbnN0IGU9dGhpcztyZXR1cm4gbmV3IFZNKCkubG9hZChpLGZ1bmN0aW9uKHQpe2Uuc2V0QnVmZmVyKHQpfSksdGhpc30sbm8ucHJvdG90eXBlLnVwZGF0ZUN1YmVNYXA9ZnVuY3Rpb24oaSxlKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5DdWJlQ2FtZXJhOiAudXBkYXRlQ3ViZU1hcCgpIGlzIG5vdyAudXBkYXRlKCkuIiksdGhpcy51cGRhdGUoaSxlKX0sbm8ucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKGksZSx0LHIpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkN1YmVDYW1lcmE6IC5jbGVhcigpIGlzIG5vdyAucmVuZGVyVGFyZ2V0LmNsZWFyKCkuIiksdGhpcy5yZW5kZXJUYXJnZXQuY2xlYXIoaSxlLHQscil9LGVyLmNyb3NzT3JpZ2luPXZvaWQgMCxlci5sb2FkVGV4dHVyZT1mdW5jdGlvbihpLGUsdCxyKXtjb25zb2xlLndhcm4oIlRIUkVFLkltYWdlVXRpbHMubG9hZFRleHR1cmUgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIFRIUkVFLlRleHR1cmVMb2FkZXIoKSBpbnN0ZWFkLiIpO2NvbnN0IHM9bmV3IElNO3Muc2V0Q3Jvc3NPcmlnaW4odGhpcy5jcm9zc09yaWdpbik7Y29uc3QgYT1zLmxvYWQoaSx0LHZvaWQgMCxyKTtyZXR1cm4gZSYmKGEubWFwcGluZz1lKSxhfSxlci5sb2FkVGV4dHVyZUN1YmU9ZnVuY3Rpb24oaSxlLHQscil7Y29uc29sZS53YXJuKCJUSFJFRS5JbWFnZVV0aWxzLmxvYWRUZXh0dXJlQ3ViZSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgVEhSRUUuQ3ViZVRleHR1cmVMb2FkZXIoKSBpbnN0ZWFkLiIpO2NvbnN0IHM9bmV3IFBNO3Muc2V0Q3Jvc3NPcmlnaW4odGhpcy5jcm9zc09yaWdpbik7Y29uc3QgYT1zLmxvYWQoaSx0LHZvaWQgMCxyKTtyZXR1cm4gZSYmKGEubWFwcGluZz1lKSxhfSxlci5sb2FkQ29tcHJlc3NlZFRleHR1cmU9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5JbWFnZVV0aWxzLmxvYWRDb21wcmVzc2VkVGV4dHVyZSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgVEhSRUUuRERTTG9hZGVyIGluc3RlYWQuIil9LGVyLmxvYWRDb21wcmVzc2VkVGV4dHVyZUN1YmU9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5JbWFnZVV0aWxzLmxvYWRDb21wcmVzc2VkVGV4dHVyZUN1YmUgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIFRIUkVFLkREU0xvYWRlciBpbnN0ZWFkLiIpfSx0eXBlb2YgX19USFJFRV9ERVZUT09MU19fPCJ1IiYmX19USFJFRV9ERVZUT09MU19fLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCJyZWdpc3RlciIse2RldGFpbDp7cmV2aXNpb246eW59fSkpLHR5cGVvZiB3aW5kb3c8InUiJiYod2luZG93Ll9fVEhSRUVfXz9jb25zb2xlLndhcm4oIldBUk5JTkc6IE11bHRpcGxlIGluc3RhbmNlcyBvZiBUaHJlZS5qcyBiZWluZyBpbXBvcnRlZC4iKTp3aW5kb3cuX19USFJFRV9fPXluKTtmdW5jdGlvbiBsMShpLGUsdCxyKXtjb25zdCBzPW5ldyBGbG9hdDMyQXJyYXkodC5sZW5ndGgpLGE9ci5jbG9uZSgpLmludmVydCgpO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bis9Myl7Y29uc3Qgbz10LmF0KG4rMCksaD10LmF0KG4rMSksbD10LmF0KG4rMiksYz1uZXcgRShvLGgsbCkuYXBwbHlNYXRyaXg0KGUpLHU9aS5mb3J3YXJkKFtjLngsYy55LGMuel0pLGQ9bmV3IEUodVswXSx1WzFdLHVbMl0pLmFwcGx5TWF0cml4NChhKTtzW24rMF09ZC54LHNbbisxXT1kLnksc1tuKzJdPWQuen1yZXR1cm4gc31mdW5jdGlvbiBjMShpLGUpe2NvbnN0IHQ9bmV3IEUscj1uZXcgVHQscz1uZXcgRTtlLmRlY29tcG9zZSh0LHIscyk7Y29uc3QgYT1pLmZvcndhcmQoW3QueCx0LnksdC56XSk7cmV0dXJuIGUuY2xvbmUoKS5zZXRQb3NpdGlvbihuZXcgRShhWzBdLGFbMV0sYVsyXSkpfWZ1bmN0aW9uIHUxKGkpe2NvbnN0IGU9aS5kYXRhLnByb2pJbix0PWkuZGF0YS5wcm9qT3V0LHI9T3QoZSx0KSxzPW5ldyBfZSgpLmZyb21BcnJheShpLmRhdGEubWF0cml4KSxhPWkuZGF0YS5idWZmZXIsbj1jMShyLHMpLG89bDEocixzLGEsbiksaD17bWF0cml4Om4udG9BcnJheSgpLGJ1ZmZlcjpvfSxsPVtoLmJ1ZmZlci5idWZmZXJdO3Bvc3RNZXNzYWdlKGgsbCl9b25tZXNzYWdlPXUxfSkseHU9dnUoKTtyZXR1cm4geHV9KCk7Cgo=",null,!1),Cv=(e,i,t)=>new Promise((s,n)=>{var r=o=>{try{a(t.next(o))}catch(c){n(c)}},l=o=>{try{a(t.throw(o))}catch(c){n(c)}},a=o=>o.done?s(o.value):Promise.resolve(o.value).then(r,l);a((t=t.apply(e,i)).next())});function Q6(e,i,t,s){return Cv(this,null,function*(){return new Promise(n=>{const r=performance.now(),l=new j6;l.onmessage=o=>{l.terminate(),console.log("projected in",performance.now()-r),n({matrix:new _e().fromArray(o.data.matrix),buffer:o.data.buffer})};const a={matrix:e.toArray(),buffer:i,projIn:t,projOut:s};l.postMessage(a,[a.buffer.buffer])})})}function _6(e,i){return Cv(this,null,function*(){const t=new B6;t.ifcManager.setWasmPath(typeof i.wasmPath<"u"?i.wasmPath:"/wasm/"),t.ifcManager.parser.setupOptionalCategories({[ec]:!1,[$o]:!1}),t.ifcManager.setupThreeMeshBVH(YD,MD,ED),yield t.ifcManager.applyWebIfcConfig({USE_FAST_BOOLS:!0});const s=yield t.loadAsync(e);if(i.projIn&&i.projOut){const n=s.geometry.attributes.position.array,r=i.offset?new H(i.offset.x,i.offset.y,i.offset.z):new H,l=new _e().setPosition(r),a=yield Q6(l,n,i.projIn,i.projOut);s.geometry.attributes.position.array=a.buffer,s.geometry.computeBoundsTree(),s.geometry.computeBoundingBox(),s.geometry.computeBoundingSphere(),console.log("ifc",s)}return s.userData.isPickable=typeof i.isPickable<"u"?i.isPickable:!0,s.userData.isInteractive=typeof i.isInteractive<"u"?i.isInteractive:!1,s})}var q6=(e,i,t)=>new Promise((s,n)=>{var r=o=>{try{a(t.next(o))}catch(c){n(c)}},l=o=>{try{a(t.throw(o))}catch(c){n(c)}},a=o=>o.done?s(o.value):Promise.resolve(o.value).then(r,l);a((t=t.apply(e,i)).next())});const Vv=e=>{let i=0;for(let s=0;s<e.length;s++)i=e.charCodeAt(s)+((i<<5)-i);let t="#";for(let s=0;s<3;s++){const n=i>>s*8&255;t+=("00"+n.toString(16)).slice(-2)}return new ie(t)};function Lv(e,i={x:0,y:0,z:0},t,s){const l=new DOMParser().parseFromString(e,"text/xml").querySelectorAll("Surfaces"),a=[];return l.forEach(o=>{const c=[],h=[],u=[],d=o.querySelectorAll("Breakline");d==null||d.forEach(v=>{const L=v.querySelector("Feature");let M={};L&&L.getAttribute("source")==="inframodel"&&L.querySelectorAll("Property").forEach(w=>{const j=w.getAttribute("label"),pe=w.getAttribute("value");j&&pe&&(M[j]=pe)});const E=v.querySelector("PntList3D"),K=E==null?void 0:E.innerHTML.split(" "),q=[];for(let Q=0;Q<K.length;Q+=3){const w=parseFloat(K[Q+1])-i.x,j=parseFloat(K[Q+0])-i.y,pe=parseFloat(K[Q+2])-i.z;q.push([w,j,pe])}q.length>0&&u.push({coordinates:q,properties:M})});const p=o.querySelector("Pnts"),G=p==null?void 0:p.querySelectorAll("P");let g={};G==null||G.forEach((v,L)=>{g[v.id]=L;const M=v.innerHTML.split(" ");c.push([parseFloat(M[1])-i.x,parseFloat(M[0])-i.y,parseFloat(M[2])-i.z])});const I=o.querySelector("Faces"),X=I==null?void 0:I.querySelectorAll("F");X==null||X.forEach(v=>h.push([...v.innerHTML.split(" ").map(L=>g[L])]));let S={};const x=o.querySelector("Surface > Feature");x&&x.getAttribute("source")==="inframodel"&&x.querySelectorAll("Property").forEach(L=>{const M=L.getAttribute("label"),E=L.getAttribute("value");M&&E&&(S[M]=E)}),a.push({tin:{properties:S,vertices:c,faces:h},lines:u})}),a}function $6(e){return q6(this,arguments,function*(i,t={x:0,y:0,z:0},s,n){const r=yield fetch(i);if(!r.ok)return console.error(`Failed to load LandXML url: ${i}`),[];const l=yield r.text(),a=Lv(l,t);let o=[];for(let c of a){const h=new Si;c.lines.forEach(p=>{let G=new ie("#ffffff");p.properties&&p.properties.terrainCoding&&(G=Vv(p.properties.terrainCoding));const g=GG(p.coordinates,G);g.userData.properties=p.properties,h.add(g)});let u=new ie("#eeeeee");c.tin.properties&&c.tin.properties.surfaceCoding&&(u=Vv(c.tin.properties.surfaceCoding));const d=gG(c.tin.vertices,c.tin.faces,u,void 0,void 0,{isInteractive:!1,isPickable:!0});d.userData.properties=c.tin.properties,h.add(d),o.push(h)}return o})}var eq=Object.defineProperty,tq=(e,i,t)=>i in e?eq(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,eu=(e,i,t)=>(tq(e,typeof i!="symbol"?i+"":i,t),t);class sq{constructor(i){eu(this,"_pointer",0),eu(this,"_eof",!1),eu(this,"lastReadGroup"),eu(this,"_data"),this._data=i}next(){if(!this.hasNext())throw this._eof?new Error("Cannot call 'next' after EOF group has been read"):new Error("Unexpected end of input: EOF group not read before end of file. Ended on code "+this._data[this._pointer]);const i={code:parseInt(this._data[this._pointer])};return this._pointer++,i.value=Fv(i.code,this._data[this._pointer].trim()),this._pointer++,i.code===0&&i.value==="EOF"&&(this._eof=!0),this.lastReadGroup=i,i}peek(){if(!this.hasNext())throw this._eof?new Error("Cannot call 'next' after EOF group has been read"):new Error("Unexpected end of input: EOF group not read before end of file. Ended on code "+this._data[this._pointer]);const i={code:parseInt(this._data[this._pointer])};return i.value=Fv(i.code,this._data[this._pointer+1].trim()),i}rewind(i=1){this._pointer=this._pointer-i*2}hasNext(){return!(this._eof||this._pointer>this._data.length-2)}isEOF(){return this._eof}}function Fv(e,i){return e<=9?i:e>=10&&e<=59?parseFloat(i):e>=60&&e<=99?parseInt(i):e>=100&&e<=109?i:e>=110&&e<=149?parseFloat(i):e>=160&&e<=179?parseInt(i):e>=210&&e<=239?parseFloat(i):e>=270&&e<=289?parseInt(i):e>=290&&e<=299?iq(i):e>=300&&e<=369?i:e>=370&&e<=389?parseInt(i):e>=390&&e<=399?i:e>=400&&e<=409?parseInt(i):e>=410&&e<=419?i:e>=420&&e<=429?parseInt(i):e>=430&&e<=439?i:e>=440&&e<=459?parseInt(i):e>=460&&e<=469?parseFloat(i):e>=470&&e<=481||e===999||e>=1e3&&e<=1009?i:e>=1010&&e<=1059?parseFloat(i):e>=1060&&e<=1071?parseInt(i):(console.log("WARNING: Group code does not have a defined type: %j",{code:e,value:i}),i)}function iq(e){if(e==="0")return!1;if(e==="1")return!0;throw TypeError("String '"+e+"' cannot be cast to Boolean type")}var Nv=[0,16711680,16776960,65280,65535,255,16711935,16777215,8421504,12632256,16711680,16744319,13369344,13395558,10027008,10046540,8323072,8339263,4980736,4990502,16727808,16752511,13382400,13401958,10036736,10051404,8331008,8343359,4985600,4992806,16744192,16760703,13395456,13408614,10046464,10056268,8339200,8347455,4990464,4995366,16760576,16768895,13408512,13415014,10056192,10061132,8347392,8351551,4995328,4997670,16776960,16777087,13421568,13421670,10000384,10000460,8355584,8355647,5000192,5000230,12582656,14679935,10079232,11717734,7510016,8755276,6258432,7307071,3755008,4344870,8388352,12582783,6736896,10079334,5019648,7510092,4161280,6258495,2509824,3755046,4194048,10485631,3394560,8375398,2529280,6264908,2064128,5209919,1264640,3099686,65280,8388479,52224,6736998,38912,5019724,32512,4161343,19456,2509862,65343,8388511,52275,6737023,38950,5019743,32543,4161359,19475,2509871,65407,8388543,52326,6737049,38988,5019762,32575,4161375,19494,2509881,65471,8388575,52377,6737074,39026,5019781,32607,4161391,19513,2509890,65535,8388607,52428,6737100,39064,5019800,32639,4161407,19532,2509900,49151,8380415,39372,6730444,29336,5014936,24447,4157311,14668,2507340,32767,8372223,26316,6724044,19608,5010072,16255,4153215,9804,2505036,16383,8364031,13260,6717388,9880,5005208,8063,4149119,4940,2502476,255,8355839,204,6710988,152,5000344,127,4145023,76,2500172,4129023,10452991,3342540,8349388,2490520,6245528,2031743,5193599,1245260,3089996,8323327,12550143,6684876,10053324,4980888,7490712,4128895,6242175,2490444,3745356,12517631,14647295,10027212,11691724,7471256,8735896,6226047,7290751,3735628,4335180,16711935,16744447,13369548,13395660,9961624,9981080,8323199,8339327,4980812,4990540,16711871,16744415,13369497,13395634,9961586,9981061,8323167,8339311,4980793,4990530,16711807,16744383,13369446,13395609,9961548,9981042,8323135,8339295,4980774,4990521,16711743,16744351,13369395,13395583,9961510,9981023,8323103,8339279,4980755,4990511,3355443,5987163,8684676,11382189,14079702,16777215];function nq(e){return Nv[e]}function Rt(e){const i={};e.rewind();let t=e.next(),s=t.code;if(i.x=t.value,s+=10,t=e.next(),t.code!=s)throw new Error("Expected code for point value to be "+s+" but got "+t.code+".");return i.y=t.value,s+=10,t=e.next(),t.code!=s?(e.rewind(),i):(i.z=t.value,i)}function rq(e,i){e.rewind();const t=[];for(let s=0;s<16;s++){const n=e.next();if(n.code!==i)throw new Error("Expected code for matrix value to be "+i+" but got "+n.code+".");t.push(n.value)}return t}function Ks(e,i,t){switch(i.code){case 0:e.type=i.value;break;case 5:e.handle=i.value;break;case 6:e.lineType=i.value;break;case 8:e.layer=i.value;break;case 48:e.lineTypeScale=i.value;break;case 60:e.visible=i.value===0;break;case 62:e.colorIndex=i.value,e.color=nq(Math.abs(i.value));break;case 67:e.inPaperSpace=i.value!==0;break;case 100:break;case 101:for(;i.code!=0;)i=t.next();t.rewind();break;case 330:e.ownerHandle=i.value;break;case 347:e.materialObjectHandle=i.value;break;case 370:e.lineweight=i.value;break;case 420:e.color=i.value;break;case 1e3:e.extendedData=e.extendedData||{},e.extendedData.customStrings=e.extendedData.customStrings||[],e.extendedData.customStrings.push(i.value);break;case 1001:e.extendedData=e.extendedData||{},e.extendedData.applicationName=i.value;break;default:return!1}return!0}var lq=Object.defineProperty,aq=(e,i,t)=>i in e?lq(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,oq=(e,i,t)=>(aq(e,typeof i!="symbol"?i+"":i,t),t);class cq{constructor(){oq(this,"ForEntityName","3DFACE")}parseEntity(i,t){const s={type:t.value,vertices:[]};for(t=i.next();!i.isEOF()&&t.code!==0;){switch(t.code){case 70:s.shape=(t.value&1)===1,s.hasContinuousLinetypePattern=(t.value&128)===128;break;case 10:s.vertices=hq(i,t),t=i.lastReadGroup;break;default:Ks(s,t,i);break}t=i.next()}return s}}function hq(e,i){var t=[],s=!1,n=!1,r=4;for(let a=0;a<=r;a++){for(var l={};!e.isEOF()&&!(i.code===0||n);){switch(i.code){case 10:case 11:case 12:case 13:if(s){n=!0;continue}l.x=i.value,s=!0;break;case 20:case 21:case 22:case 23:l.y=i.value;break;case 30:case 31:case 32:case 33:l.z=i.value;break;default:return t}i=e.next()}t.push(l),s=!1,n=!1}return e.rewind(),t}var uq=Object.defineProperty,dq=(e,i,t)=>i in e?uq(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,pq=(e,i,t)=>(dq(e,typeof i!="symbol"?i+"":i,t),t);class mq{constructor(){pq(this,"ForEntityName","ARC")}parseEntity(i,t){const s={type:t.value};for(t=i.next();!i.isEOF()&&t.code!==0;){switch(t.code){case 10:s.center=Rt(i);break;case 40:s.radius=t.value;break;case 50:s.startAngle=Math.PI/180*t.value;break;case 51:s.endAngle=Math.PI/180*t.value,s.angleLength=s.endAngle-s.startAngle;break;case 210:s.extrusionDirectionX=t.value;break;case 220:s.extrusionDirectionY=t.value;break;case 230:s.extrusionDirectionZ=t.value;break;default:Ks(s,t,i);break}t=i.next()}return s}}var bq=Object.defineProperty,yq=(e,i,t)=>i in e?bq(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,Zq=(e,i,t)=>(yq(e,typeof i!="symbol"?i+"":i,t),t);class Gq{constructor(){Zq(this,"ForEntityName","ATTDEF")}parseEntity(i,t){var s={type:t.value,scale:1,textStyle:"STANDARD"};for(t=i.next();!i.isEOF()&&t.code!==0;){switch(t.code){case 1:s.text=t.value;break;case 2:s.tag=t.value;break;case 3:s.prompt=t.value;break;case 7:s.textStyle=t.value;break;case 10:s.startPoint=Rt(i);break;case 11:s.endPoint=Rt(i);break;case 39:s.thickness=t.value;break;case 40:s.textHeight=t.value;break;case 41:s.scale=t.value;break;case 50:s.rotation=t.value;break;case 51:s.obliqueAngle=t.value;break;case 70:s.invisible=!!(t.value&1),s.constant=!!(t.value&2),s.verificationRequired=!!(t.value&4),s.preset=!!(t.value&8);break;case 71:s.backwards=!!(t.value&2),s.mirrored=!!(t.value&4);break;case 72:s.horizontalJustification=t.value;break;case 73:s.fieldLength=t.value;break;case 74:s.verticalJustification=t.value;break;case 100:break;case 210:s.extrusionDirectionX=t.value;break;case 220:s.extrusionDirectionY=t.value;break;case 230:s.extrusionDirectionZ=t.value;break;default:Ks(s,t,i);break}t=i.next()}return s}}var gq=Object.defineProperty,Tq=(e,i,t)=>i in e?gq(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,Iq=(e,i,t)=>(Tq(e,typeof i!="symbol"?i+"":i,t),t);class Rq{constructor(){Iq(this,"ForEntityName","CIRCLE")}parseEntity(i,t){const s={type:t.value};for(t=i.next();!i.isEOF()&&t.code!==0;){switch(t.code){case 10:s.center=Rt(i);break;case 40:s.radius=t.value;break;case 50:s.startAngle=Math.PI/180*t.value;break;case 51:const n=Math.PI/180*t.value;n<s.startAngle?s.angleLength=n+2*Math.PI-s.startAngle:s.angleLength=n-s.startAngle,s.endAngle=n;break;default:Ks(s,t,i);break}t=i.next()}return s}}var fq=Object.defineProperty,Xq=(e,i,t)=>i in e?fq(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,Wq=(e,i,t)=>(Xq(e,typeof i!="symbol"?i+"":i,t),t);class Sq{constructor(){Wq(this,"ForEntityName","DIMENSION")}parseEntity(i,t){const s={type:t.value};for(t=i.next();!i.isEOF()&&t.code!==0;){switch(t.code){case 2:s.block=t.value;break;case 10:s.anchorPoint=Rt(i);break;case 11:s.middleOfText=Rt(i);break;case 12:s.insertionPoint=Rt(i);break;case 13:s.linearOrAngularPoint1=Rt(i);break;case 14:s.linearOrAngularPoint2=Rt(i);break;case 15:s.diameterOrRadiusPoint=Rt(i);break;case 16:s.arcPoint=Rt(i);break;case 70:s.dimensionType=t.value;break;case 71:s.attachmentPoint=t.value;break;case 42:s.actualMeasurement=t.value;break;case 1:s.text=t.value;break;case 50:s.angle=t.value;break;default:Ks(s,t,i);break}t=i.next()}return s}}var Cq=Object.defineProperty,Vq=(e,i,t)=>i in e?Cq(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,Lq=(e,i,t)=>(Vq(e,typeof i!="symbol"?i+"":i,t),t);class Fq{constructor(){Lq(this,"ForEntityName","MULTILEADER")}parseEntity(i,t){const s={type:t.value};s.contextData={leaders:[]},t=i.next();function n(){for(;!i.isEOF();){switch(t.code){case 0:return;case 340:s.leaderStyleId=t.value;break;case 170:s.leaderLineType=t.value;break;case 91:s.leaderLineColor=t.value;break;case 341:s.leaderLineTypeId=t.value;break;case 171:s.leaderLineWeight=t.value;break;case 41:s.doglegLength=t.value;break;case 290:s.enableLanding=t.value;break;case 291:s.enableDogLeg=t.value;break;case 342:s.arrowHeadId=t.value;break;case 42:s.arrowHeadSize=t.value;break;case 172:s.contentType=t.value;break;case 173:s.textLeftAttachmentType=t.value;break;case 95:s.textLeftAttachmentType=t.value;break;case 174:s.textAngleType=t.value;break;case 175:s.textAlignmentType=t.value;break;case 343:s.textStyleId=t.value;break;case 92:s.textColor=t.value;break;case 292:s.enableFrameText=t.value;break;case 344:s.blockContentId=t.value;break;case 93:s.blockContentColor=t.value;break;case 10:s.blockContentScale=Rt(i);break;case 43:s.blockContentRotation=t.value;break;case 176:s.blockContentConnectionType=t.value;break;case 293:s.enableAnotationScale=t.value;break;case 94:s.arrowHeadIndex=t.value;break;case 330:s.blockAttributeId=t.value;break;case 177:s.blockAttributeIndex=t.value;break;case 44:s.blockAttributeWidth=t.value;break;case 302:s.blockAttributeTextString=t.value;break;case 294:s.textDirectionNegative=t.value;break;case 178:s.textAlignInIPE=t.value;break;case 179:s.textAttachmentPoint=t.value;break;case 271:s.textAttachmentDirectionMText=t.value;break;case 272:s.textAttachmentDirectionBottom=t.value;break;case 273:s.textAttachmentDirectionTop=t.value;break;case 300:r();break;default:Ks(s,t,i);break}t=i.next()}}function r(){for(;!i.isEOF();){switch(t.code){case 40:s.contextData.contentScale=t.value;break;case 10:s.contextData.contentBasePosition=Rt(i);break;case 145:s.contextData.landingGap=t.value;break;case 290:s.contextData.hasMText=t.value;break;case 304:s.contextData.defaultTextContents=t.value;break;case 11:s.contextData.textNormalDirection=Rt(i);break;case 12:s.contextData.textLocation=Rt(i);break;case 13:s.contextData.textDirection=Rt(i);break;case 140:s.contextData.arrowHeadSize=t.value;break;case 41:s.contextData.textHeight=t.value;break;case 42:s.contextData.textRotation=t.value;break;case 43:s.contextData.textWidth=t.value;break;case 44:s.contextData.textHeight=t.value;break;case 45:s.contextData.textLineSpacingFactor=t.value;break;case 90:s.contextData.textColor=t.value;break;case 170:s.contextData.textLineSpacingStyle=t.value;break;case 171:s.contextData.textAttachment=t.value;break;case 172:s.contextData.textFlowDirection=t.value;break;case 141:s.contextData.textBackgroundScaleFactor=t.value;break;case 92:s.contextData.textBackgroundTransparency=t.value;break;case 291:s.contextData.textBackgroundColorOn=t.value;break;case 292:s.contextData.textBackgroundFillOn=t.value;break;case 293:s.contextData.textUseAutoHeight=t.value;break;case 173:s.contextData.textColumnType=t.value;break;case 142:s.contextData.textColumnWidth=t.value;break;case 143:s.contextData.textColumnGutterWidth=t.value;break;case 144:s.contextData.textColumnHeight=t.value;break;case 295:s.contextData.textUseWordBreak=t.value;break;case 296:s.contextData.hasBlock=t.value;break;case 341:s.contextData.blockContentId=t.value;break;case 14:s.contextData.blockContentNormalDirection=Rt(i);break;case 15:s.contextData.blockContentPosition=Rt(i);break;case 16:s.contextData.blockContentScale=t.value;break;case 46:s.contextData.blockContentRotation=t.value;break;case 93:s.contextData.blockContentColor=t.value;break;case 47:s.contextData.blockTransformationMatrix=rq(i,47);break;case 110:s.contextData.planeOriginPoint=Rt(i);break;case 111:s.contextData.planeXAxisDirection=Rt(i);break;case 112:s.contextData.planeYAxisDirection=Rt(i);break;case 297:s.contextData.planeNormalReversed=t.value;break;case 301:return;case 302:l();break}t=i.next()}}function l(){const o={leaderLines:[]};for(s.contextData.leaders.push(o);!i.isEOF();){switch(t.code){case 290:o.hasSetLastLeaderLinePoint=t.value;break;case 291:o.hasSetDoglegVector=t.value;break;case 10:o.lastLeaderLinePoint=Rt(i);break;case 11:o.doglegVector=Rt(i);break;case 90:o.leaderBranchIndex=t.value;break;case 40:o.doglegLength=t.value;break;case 303:return;case 304:a();break}t=i.next()}}function a(){const o=s.contextData.leaders[s.contextData.leaders.length-1],c={vertices:[[]]};for(o.leaderLines.push(c);!i.isEOF();){switch(t.code){case 10:c.vertices[0].push(Rt(i));break;case 305:return}t=i.next()}}return n(),s}}var Nq=Object.defineProperty,xq=(e,i,t)=>i in e?Nq(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,vq=(e,i,t)=>(xq(e,typeof i!="symbol"?i+"":i,t),t);class Eq{constructor(){vq(this,"ForEntityName","ELLIPSE")}parseEntity(i,t){const s={type:t.value};for(t=i.next();!i.isEOF()&&t.code!==0;){switch(t.code){case 10:s.center=Rt(i);break;case 11:s.majorAxisEndPoint=Rt(i);break;case 40:s.axisRatio=t.value;break;case 41:s.startAngle=t.value;break;case 42:s.endAngle=t.value;break;case 2:s.name=t.value;break;default:Ks(s,t,i);break}t=i.next()}return s}}var Yq=Object.defineProperty,Mq=(e,i,t)=>i in e?Yq(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,wq=(e,i,t)=>(Mq(e,typeof i!="symbol"?i+"":i,t),t);class Hq{constructor(){wq(this,"ForEntityName","INSERT")}parseEntity(i,t){const s={type:t.value};for(t=i.next();!i.isEOF()&&t.code!==0;){switch(t.code){case 2:s.name=t.value;break;case 41:s.xScale=t.value;break;case 42:s.yScale=t.value;break;case 43:s.zScale=t.value;break;case 10:s.position=Rt(i);break;case 50:s.rotation=t.value;break;case 70:s.columnCount=t.value;break;case 71:s.rowCount=t.value;break;case 44:s.columnSpacing=t.value;break;case 45:s.rowSpacing=t.value;break;case 210:s.extrusionDirection=Rt(i);break;default:Ks(s,t,i);break}t=i.next()}return s}}var Pq=Object.defineProperty,zq=(e,i,t)=>i in e?Pq(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,Uq=(e,i,t)=>(zq(e,typeof i!="symbol"?i+"":i,t),t);class kq{constructor(){Uq(this,"ForEntityName","LINE")}parseEntity(i,t){const s={type:t.value,vertices:[]};for(t=i.next();!i.isEOF()&&t.code!==0;){switch(t.code){case 10:s.vertices.unshift(Rt(i));break;case 11:s.vertices.push(Rt(i));break;case 210:s.extrusionDirection=Rt(i);break;case 100:break;default:Ks(s,t,i);break}t=i.next()}return s}}var Dq=Object.defineProperty,Jq=(e,i,t)=>i in e?Dq(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,Kq=(e,i,t)=>(Jq(e,typeof i!="symbol"?i+"":i,t),t);class Oq{constructor(){Kq(this,"ForEntityName","LWPOLYLINE")}parseEntity(i,t){const s={type:t.value,vertices:[]};let n=0;for(t=i.next();!i.isEOF()&&t.code!==0;){switch(t.code){case 38:s.elevation=t.value;break;case 39:s.depth=t.value;break;case 70:s.shape=(t.value&1)===1,s.hasContinuousLinetypePattern=(t.value&128)===128;break;case 90:n=t.value;break;case 10:s.vertices=Aq(n,i);break;case 43:t.value!==0&&(s.width=t.value);break;case 210:s.extrusionDirectionX=t.value;break;case 220:s.extrusionDirectionY=t.value;break;case 230:s.extrusionDirectionZ=t.value;break;default:Ks(s,t,i);break}t=i.next()}return s}}function Aq(e,i){if(!e||e<=0)throw Error("n must be greater than 0 verticies");const t=[];let s=!1,n=!1,r=i.lastReadGroup;for(let l=0;l<e;l++){const a={};for(;!i.isEOF()&&!(r.code===0||n);){switch(r.code){case 10:if(s){n=!0;continue}a.x=r.value,s=!0;break;case 20:a.y=r.value;break;case 30:a.z=r.value;break;case 40:a.startWidth=r.value;break;case 41:a.endWidth=r.value;break;case 42:r.value!=0&&(a.bulge=r.value);break;default:return i.rewind(),s&&t.push(a),i.rewind(),t}r=i.next()}t.push(a),s=!1,n=!1}return i.rewind(),t}var Bq=Object.defineProperty,jq=(e,i,t)=>i in e?Bq(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,Qq=(e,i,t)=>(jq(e,typeof i!="symbol"?i+"":i,t),t);class _q{constructor(){Qq(this,"ForEntityName","MTEXT")}parseEntity(i,t){const s={type:t.value};for(t=i.next();!i.isEOF()&&t.code!==0;){switch(t.code){case 3:s.text?s.text+=t.value:s.text=t.value;break;case 1:s.text?s.text+=t.value:s.text=t.value;break;case 10:s.position=Rt(i);break;case 11:s.directionVector=Rt(i);break;case 40:s.height=t.value;break;case 41:s.width=t.value;break;case 50:s.rotation=t.value;break;case 71:s.attachmentPoint=t.value;break;case 72:s.drawingDirection=t.value;break;default:Ks(s,t,i);break}t=i.next()}return s}}var qq=Object.defineProperty,$q=(e,i,t)=>i in e?qq(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,e$=(e,i,t)=>($q(e,typeof i!="symbol"?i+"":i,t),t);class t${constructor(){e$(this,"ForEntityName","POINT")}parseEntity(i,t){const n={type:t.value};for(t=i.next();!i.isEOF()&&t.code!==0;){switch(t.code){case 10:n.position=Rt(i);break;case 39:n.thickness=t.value;break;case 210:n.extrusionDirection=Rt(i);break;case 100:break;default:Ks(n,t,i);break}t=i.next()}return n}}var s$=Object.defineProperty,i$=(e,i,t)=>i in e?s$(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,n$=(e,i,t)=>(i$(e,typeof i!="symbol"?i+"":i,t),t);class r${constructor(){n$(this,"ForEntityName","VERTEX")}parseEntity(i,t){var s={type:t.value};for(t=i.next();!i.isEOF()&&t.code!==0;){switch(t.code){case 10:s.x=t.value;break;case 20:s.y=t.value;break;case 30:s.z=t.value;break;case 40:break;case 41:break;case 42:t.value!=0&&(s.bulge=t.value);break;case 70:s.curveFittingVertex=(t.value&1)!==0,s.curveFitTangent=(t.value&2)!==0,s.splineVertex=(t.value&8)!==0,s.splineControlPoint=(t.value&16)!==0,s.threeDPolylineVertex=(t.value&32)!==0,s.threeDPolylineMesh=(t.value&64)!==0,s.polyfaceMeshVertex=(t.value&128)!==0;break;case 50:break;case 71:s.faceA=t.value;break;case 72:s.faceB=t.value;break;case 73:s.faceC=t.value;break;case 74:s.faceD=t.value;break;default:Ks(s,t,i);break}t=i.next()}return s}}var l$=Object.defineProperty,a$=(e,i,t)=>i in e?l$(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,o$=(e,i,t)=>(a$(e,typeof i!="symbol"?i+"":i,t),t);class c${constructor(){o$(this,"ForEntityName","POLYLINE")}parseEntity(i,t){var s={type:t.value,vertices:[]};for(t=i.next();!i.isEOF()&&t.code!==0;){switch(t.code){case 10:break;case 20:break;case 30:break;case 39:s.thickness=t.value;break;case 40:break;case 41:break;case 70:s.shape=(t.value&1)!==0,s.includesCurveFitVertices=(t.value&2)!==0,s.includesSplineFitVertices=(t.value&4)!==0,s.is3dPolyline=(t.value&8)!==0,s.is3dPolygonMesh=(t.value&16)!==0,s.is3dPolygonMeshClosed=(t.value&32)!==0,s.isPolyfaceMesh=(t.value&64)!==0,s.hasContinuousLinetypePattern=(t.value&128)!==0;break;case 71:break;case 72:break;case 73:break;case 74:break;case 75:break;case 210:s.extrusionDirection=Rt(i);break;default:Ks(s,t,i);break}t=i.next()}return s.vertices=h$(i,t),s}}function h$(e,i){const t=new r$,s=[];for(;!e.isEOF();)if(i.code===0){if(i.value==="VERTEX")s.push(t.parseEntity(e,i)),i=e.lastReadGroup;else if(i.value==="SEQEND"){u$(e,i);break}}return s}function u$(e,i){const t={type:i.value};for(i=e.next();!e.isEOF()&&i.code!=0;)Ks(t,i,e),i=e.next();return t}var d$=Object.defineProperty,p$=(e,i,t)=>i in e?d$(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,m$=(e,i,t)=>(p$(e,typeof i!="symbol"?i+"":i,t),t);class b${constructor(){m$(this,"ForEntityName","SOLID")}parseEntity(i,t){const s={type:t.value,points:[]};for(t=i.next();!i.isEOF()&&t.code!==0;){switch(t.code){case 10:s.points[0]=Rt(i);break;case 11:s.points[1]=Rt(i);break;case 12:s.points[2]=Rt(i);break;case 13:s.points[3]=Rt(i);break;case 210:s.extrusionDirection=Rt(i);break;default:Ks(s,t,i);break}t=i.next()}return s}}var y$=Object.defineProperty,Z$=(e,i,t)=>i in e?y$(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,G$=(e,i,t)=>(Z$(e,typeof i!="symbol"?i+"":i,t),t);class g${constructor(){G$(this,"ForEntityName","SPLINE")}parseEntity(i,t){const s={type:t.value};for(t=i.next();!i.isEOF()&&t.code!==0;){switch(t.code){case 10:s.controlPoints||(s.controlPoints=[]),s.controlPoints.push(Rt(i));break;case 11:s.fitPoints||(s.fitPoints=[]),s.fitPoints.push(Rt(i));break;case 12:s.startTangent=Rt(i);break;case 13:s.endTangent=Rt(i);break;case 40:s.knotValues||(s.knotValues=[]),s.knotValues.push(t.value);break;case 70:(t.value&1)!=0&&(s.closed=!0),(t.value&2)!=0&&(s.periodic=!0),(t.value&4)!=0&&(s.rational=!0),(t.value&8)!=0&&(s.planar=!0),(t.value&16)!=0&&(s.planar=!0,s.linear=!0);break;case 71:s.degreeOfSplineCurve=t.value;break;case 72:s.numberOfKnots=t.value;break;case 73:s.numberOfControlPoints=t.value;break;case 74:s.numberOfFitPoints=t.value;break;case 210:s.normalVector=Rt(i);break;default:Ks(s,t,i);break}t=i.next()}return s}}var T$=Object.defineProperty,I$=(e,i,t)=>i in e?T$(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,R$=(e,i,t)=>(I$(e,typeof i!="symbol"?i+"":i,t),t);class f${constructor(){R$(this,"ForEntityName","TEXT")}parseEntity(i,t){const s={type:t.value};for(t=i.next();!i.isEOF()&&t.code!==0;){switch(t.code){case 10:s.startPoint=Rt(i);break;case 11:s.endPoint=Rt(i);break;case 40:s.textHeight=t.value;break;case 41:s.xScale=t.value;break;case 50:s.rotation=t.value;break;case 1:s.text=t.value;break;case 72:s.halign=t.value;break;case 73:s.valign=t.value;break;default:Ks(s,t,i);break}t=i.next()}return s}}var xv={exports:{}};(function(e){(function(i,t){e.exports?e.exports=t():i.log=t()})(Py,function(){var i=function(){},t="undefined",s=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"];function r(g,I){var X=g[I];if(typeof X.bind=="function")return X.bind(g);try{return Function.prototype.bind.call(X,g)}catch{return function(){return Function.prototype.apply.apply(X,[g,arguments])}}}function l(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function a(g){return g==="debug"&&(g="log"),typeof console===t?!1:g==="trace"&&s?l:console[g]!==void 0?r(console,g):console.log!==void 0?r(console,"log"):i}function o(g,I){for(var X=0;X<n.length;X++){var S=n[X];this[S]=X<g?i:this.methodFactory(S,g,I)}this.log=this.debug}function c(g,I,X){return function(){typeof console!==t&&(o.call(this,I,X),this[g].apply(this,arguments))}}function h(g,I,X){return a(g)||c.apply(this,arguments)}function u(g,I,X){var S=this,x;I=I??"WARN";var v="loglevel";typeof g=="string"?v+=":"+g:typeof g=="symbol"&&(v=void 0);function L(q){var Q=(n[q]||"silent").toUpperCase();if(!(typeof window===t||!v)){try{window.localStorage[v]=Q;return}catch{}try{window.document.cookie=encodeURIComponent(v)+"="+Q+";"}catch{}}}function M(){var q;if(!(typeof window===t||!v)){try{q=window.localStorage[v]}catch{}if(typeof q===t)try{var Q=window.document.cookie,w=Q.indexOf(encodeURIComponent(v)+"=");w!==-1&&(q=/^([^;]+)/.exec(Q.slice(w))[1])}catch{}return S.levels[q]===void 0&&(q=void 0),q}}function E(){if(!(typeof window===t||!v)){try{window.localStorage.removeItem(v);return}catch{}try{window.document.cookie=encodeURIComponent(v)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}S.name=g,S.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},S.methodFactory=X||h,S.getLevel=function(){return x},S.setLevel=function(q,Q){if(typeof q=="string"&&S.levels[q.toUpperCase()]!==void 0&&(q=S.levels[q.toUpperCase()]),typeof q=="number"&&q>=0&&q<=S.levels.SILENT){if(x=q,Q!==!1&&L(q),o.call(S,q,g),typeof console===t&&q<S.levels.SILENT)return"No console available for logging"}else throw"log.setLevel() called with invalid level: "+q},S.setDefaultLevel=function(q){I=q,M()||S.setLevel(q,!1)},S.resetLevel=function(){S.setLevel(I,!1),E()},S.enableAll=function(q){S.setLevel(S.levels.TRACE,q)},S.disableAll=function(q){S.setLevel(S.levels.SILENT,q)};var K=M();K==null&&(K=I),S.setLevel(K,!1)}var d=new u,p={};d.getLogger=function(I){if(typeof I!="symbol"&&typeof I!="string"||I==="")throw new TypeError("You must supply a name when creating a logger.");var X=p[I];return X||(X=p[I]=new u(I,d.getLevel(),d.methodFactory)),X};var G=typeof window!==t?window.log:void 0;return d.noConflict=function(){return typeof window!==t&&window.log===d&&(window.log=G),d},d.getLoggers=function(){return p},d.default=d,d})})(xv);var Kt=xv.exports,X$=Object.defineProperty,W$=(e,i,t)=>i in e?X$(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,S$=(e,i,t)=>(W$(e,typeof i!="symbol"?i+"":i,t),t);Kt.setLevel("error");function C$(e){e.registerEntityHandler(cq),e.registerEntityHandler(mq),e.registerEntityHandler(Gq),e.registerEntityHandler(Rq),e.registerEntityHandler(Sq),e.registerEntityHandler(Fq),e.registerEntityHandler(Eq),e.registerEntityHandler(Hq),e.registerEntityHandler(kq),e.registerEntityHandler(Oq),e.registerEntityHandler(_q),e.registerEntityHandler(t$),e.registerEntityHandler(c$),e.registerEntityHandler(b$),e.registerEntityHandler(g$),e.registerEntityHandler(f$)}class V${constructor(){S$(this,"_entityHandlers",{}),C$(this)}parse(i){return typeof i=="string"?this._parse(i):(console.error("Cannot read dxf source of type `"+typeof i),null)}registerEntityHandler(i){const t=new i;this._entityHandlers[t.ForEntityName]=t}parseSync(i){return this.parse(i)}parseStream(i){let t="";const s=this;return new Promise((n,r)=>{i.on("data",l=>{t+=l}),i.on("end",()=>{try{n(s._parse(t))}catch(l){r(l)}}),i.on("error",l=>{r(l)})})}_parse(i){const t={};let s=0;const n=i.split(/\r\n|\r|\n/g),r=new sq(n);if(!r.hasNext())throw Error("Empty file");const l=this;let a;function o(){for(a=r.next();!r.isEOF();)if(a.code===0&&a.value==="SECTION"){if(a=r.next(),a.code!==2){console.error("Unexpected code %s after 0:SECTION",vv(a)),a=r.next();continue}a.value==="HEADER"?(Kt.debug("> HEADER"),t.header=c(),Kt.debug("<")):a.value==="BLOCKS"?(Kt.debug("> BLOCKS"),t.blocks=h(),Kt.debug("<")):a.value==="ENTITIES"?(Kt.debug("> ENTITIES"),t.entities=x(!1),Kt.debug("<")):a.value==="TABLES"?(Kt.debug("> TABLES"),t.tables=d(),Kt.debug("<")):a.value==="EOF"?Kt.debug("EOF"):Kt.warn("Skipping section '%s'",a.value)}else a=r.next()}function c(){let M=null,E=null;const K={};for(a=r.next();;){if(vn(a,0,"ENDSEC")){M&&(K[M]=E);break}else a.code===9?(M&&(K[M]=E),M=a.value):a.code===10?E={x:a.value}:a.code===20?E.y=a.value:a.code===30?E.z=a.value:E=a.value;a=r.next()}return a=r.next(),K}function h(){const M={};for(a=r.next();a.value!=="EOF"&&!vn(a,0,"ENDSEC");)if(vn(a,0,"BLOCK")){Kt.debug("block {");const E=u();Kt.debug("}"),L(E),E.name?M[E.name]=E:Kt.error('block with handle "'+E.handle+'" is missing a name.')}else dl(a),a=r.next();return M}function u(){const M={};for(a=r.next();a.value!=="EOF";){switch(a.code){case 1:M.xrefPath=a.value,a=r.next();break;case 2:M.name=a.value,a=r.next();break;case 3:M.name2=a.value,a=r.next();break;case 5:M.handle=a.value,a=r.next();break;case 8:M.layer=a.value,a=r.next();break;case 10:M.position=v(a),a=r.next();break;case 67:M.paperSpace=!!(a.value&&a.value==1),a=r.next();break;case 70:a.value!=0&&(M.type=a.value),a=r.next();break;case 100:a=r.next();break;case 330:M.ownerHandle=a.value,a=r.next();break;case 0:if(a.value=="ENDBLK")break;M.entities=x(!0);break;default:dl(a),a=r.next()}if(vn(a,0,"ENDBLK")){a=r.next();break}}return M}function d(){const M={};for(a=r.next();a.value!=="EOF"&&!vn(a,0,"ENDSEC");)vn(a,0,"TABLE")?(a=r.next(),S[a.value]?(Kt.debug(a.value+" Table {"),M[S[a.value].tableName]=G(a),Kt.debug("}")):Kt.debug("Unhandled Table "+a.value)):a=r.next();return a=r.next(),M}const p="ENDTAB";function G(M){const E=S[M.value],K={};let q=0;for(a=r.next();!vn(a,0,p);)switch(a.code){case 5:K.handle=a.value,a=r.next();break;case 330:K.ownerHandle=a.value,a=r.next();break;case 100:a.value==="AcDbSymbolTable"||dl(a),a=r.next();break;case 70:q=a.value,a=r.next();break;case 0:a.value===E.dxfSymbolName?K[E.tableRecordsProperty]=E.parseTableRecords():(dl(a),a=r.next());break;default:dl(a),a=r.next()}const Q=K[E.tableRecordsProperty];if(Q){let w=(()=>{if(Q.constructor===Array)return Q.length;if(typeof Q=="object")return Object.keys(Q).length})();q!==w&&Kt.warn("Parsed "+w+" "+E.dxfSymbolName+"'s but expected "+q)}return a=r.next(),K}function g(){const M=[];let E={};for(Kt.debug("ViewPort {"),a=r.next();!vn(a,0,p);)switch(a.code){case 2:E.name=a.value,a=r.next();break;case 10:E.lowerLeftCorner=v(a),a=r.next();break;case 11:E.upperRightCorner=v(a),a=r.next();break;case 12:E.center=v(a),a=r.next();break;case 13:E.snapBasePoint=v(a),a=r.next();break;case 14:E.snapSpacing=v(a),a=r.next();break;case 15:E.gridSpacing=v(a),a=r.next();break;case 16:E.viewDirectionFromTarget=v(a),a=r.next();break;case 17:E.viewTarget=v(a),a=r.next();break;case 42:E.lensLength=a.value,a=r.next();break;case 43:E.frontClippingPlane=a.value,a=r.next();break;case 44:E.backClippingPlane=a.value,a=r.next();break;case 45:E.viewHeight=a.value,a=r.next();break;case 50:E.snapRotationAngle=a.value,a=r.next();break;case 51:E.viewTwistAngle=a.value,a=r.next();break;case 79:E.orthographicType=a.value,a=r.next();break;case 110:E.ucsOrigin=v(a),a=r.next();break;case 111:E.ucsXAxis=v(a),a=r.next();break;case 112:E.ucsYAxis=v(a),a=r.next();break;case 110:E.ucsOrigin=v(a),a=r.next();break;case 281:E.renderMode=a.value,a=r.next();break;case 281:E.defaultLightingType=a.value,a=r.next();break;case 292:E.defaultLightingOn=a.value,a=r.next();break;case 330:E.ownerHandle=a.value,a=r.next();break;case 63:case 421:case 431:E.ambientColor=a.value,a=r.next();break;case 0:a.value==="VPORT"&&(Kt.debug("}"),M.push(E),Kt.debug("ViewPort {"),E={},a=r.next());break;default:dl(a),a=r.next();break}return Kt.debug("}"),M.push(E),M}function I(){const M={};let E={},K=0,q;for(Kt.debug("LType {"),a=r.next();!vn(a,0,"ENDTAB");)switch(a.code){case 2:E.name=a.value,q=a.value,a=r.next();break;case 3:E.description=a.value,a=r.next();break;case 73:K=a.value,K>0&&(E.pattern=[]),a=r.next();break;case 40:E.patternLength=a.value,a=r.next();break;case 49:E.pattern.push(a.value),a=r.next();break;case 0:Kt.debug("}"),K>0&&K!==E.pattern.length&&Kt.warn("lengths do not match on LTYPE pattern"),M[q]=E,E={},Kt.debug("LType {"),a=r.next();break;default:a=r.next()}return Kt.debug("}"),M[q]=E,M}function X(){const M={};let E={},K;for(Kt.debug("Layer {"),a=r.next();!vn(a,0,"ENDTAB");)switch(a.code){case 2:E.name=a.value,K=a.value,a=r.next();break;case 62:E.visible=a.value>=0,E.colorIndex=Math.abs(a.value),E.color=L$(E.colorIndex),a=r.next();break;case 70:E.frozen=(a.value&1)!=0||(a.value&2)!=0,a=r.next();break;case 420:E.color=Math.abs(a.value),a=r.next();break;case 0:a.value==="LAYER"&&(Kt.debug("}"),M[K]=E,Kt.debug("Layer {"),E={},K=void 0,a=r.next());break;default:dl(a),a=r.next();break}return Kt.debug("}"),M[K]=E,M}const S={VPORT:{tableRecordsProperty:"viewPorts",tableName:"viewPort",dxfSymbolName:"VPORT",parseTableRecords:g},LTYPE:{tableRecordsProperty:"lineTypes",tableName:"lineType",dxfSymbolName:"LTYPE",parseTableRecords:I},LAYER:{tableRecordsProperty:"layers",tableName:"layer",dxfSymbolName:"LAYER",parseTableRecords:X}};function x(M){const E=[],K=M?"ENDBLK":"ENDSEC";for(M||(a=r.next());;)if(a.code===0){if(a.value===K)break;const q=l._entityHandlers[a.value];if(q!=null){Kt.debug(a.value+" {");const Q=q.parseEntity(r,a);a=r.lastReadGroup,Kt.debug("}"),L(Q),E.push(Q)}else{Kt.warn("Unhandled entity "+a.value),a=r.next();continue}}else a=r.next();return K=="ENDSEC"&&(a=r.next()),E}function v(M){const E={};let K=M.code;if(E.x=M.value,K+=10,M=r.next(),M.code!=K)throw new Error("Expected code for point value to be "+K+" but got "+M.code+".");return E.y=M.value,K+=10,M=r.next(),M.code!=K?(r.rewind(),E):(E.z=M.value,E)}function L(M){if(!M)throw new TypeError("entity cannot be undefined or null");M.handle||(M.handle=s++)}return o(),t}}function vn(e,i,t){return e.code===i&&e.value===t}function dl(e){Kt.debug("unhandled group "+vv(e))}function vv(e){return e.code+":"+e.value}function L$(e){return Nv[e]}var Ev=(e,i,t)=>new Promise((s,n)=>{var r=o=>{try{a(t.next(o))}catch(c){n(c)}},l=o=>{try{a(t.throw(o))}catch(c){n(c)}},a=o=>o.done?s(o.value):Promise.resolve(o.value).then(r,l);a((t=t.apply(e,i)).next())});function F$(e){return Ev(this,null,function*(){try{return(yield fetch(e)).text()}catch{throw new Error("Failed to download file")}})}function N$(e){return Ev(this,null,function*(){const i=new V$;try{const t=yield F$(e),s=i.parse(t);console.log("dxf",s)}catch(t){console.error(t.stack)}})}var x$=Object.freeze({__proto__:null,loadLine:GG,loadMesh:gG,loadIFC:_6,parseLandXml:Lv,loadLandXML:$6,loadDXF:N$});gs.CameraControls=tG,gs.ControlMode=Ci,gs.CustomMath=nD,gs.Modules=SZ,gs.PhotoSpheres=Oy,gs.Photos=ky,gs.PointClouds=fZ,gs.PointsceneEvents=tt,gs.Potree=rU,gs.TextSprite=rD,gs.Transformations=lD,gs.World=yG,gs.default=ZG,gs.eulerToQuaternion=sD,gs.getPlane=iD,gs.init=ZG,gs.loaders=x$,Object.defineProperty(gs,"__esModule",{value:!0})});
