(function(Si,or){typeof exports=="object"&&typeof module<"u"?or(exports):typeof define=="function"&&define.amd?define(["exports"],or):(Si=typeof globalThis<"u"?globalThis:Si||self,or(Si.Pointscene={}))})(this,function(Si){"use strict";const or="144",W3={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Y3=0,kf=1,k3=2,Af=1,A3=2,Dc=3,Nr=0,gn=1,ds=2,Fr=0,Ql=1,Xp=2,Kf=3,Zf=4,K3=5,ql=100,Z3=101,H3=102,Hf=103,Uf=104,U3=200,_3=201,V3=202,j3=203,_f=204,Vf=205,B3=206,J3=207,Q3=208,q3=209,$3=210,eO=0,tO=1,iO=2,Oc=3,sO=4,nO=5,rO=6,oO=7,Dp=0,aO=1,lO=2,so=0,hO=1,cO=2,uO=3,pO=4,dO=5,jf=300,$l=301,eh=302,Pm=303,wm=304,Op=306,zp=1e3,_n=1001,Wp=1002,Ui=1003,Xm=1004,Dm=1005,Is=1006,Bf=1007,zc=1008,qa=1009,mO=1010,yO=1011,Jf=1012,fO=1013,Jo=1014,Qo=1015,Wc=1016,TO=1017,gO=1018,th=1020,bO=1021,Qf=1022,Xs=1023,IO=1024,LO=1025,$a=1026,ih=1027,SO=1028,MO=1029,xO=1030,vO=1031,GO=1033,Om=33776,zm=33777,Wm=33778,Ym=33779,qf=35840,$f=35841,eT=35842,tT=35843,EO=36196,iT=37492,sT=37496,nT=37808,rT=37809,oT=37810,aT=37811,lT=37812,hT=37813,cT=37814,uT=37815,pT=37816,dT=37817,mT=37818,yT=37819,fT=37820,TT=37821,gT=36492,CO=2300,RO=2301,el=3e3,rs=3001,NO=3200,FO=3201,km=0,PO=1,no="srgb",tl="srgb-linear",Am=7680,wO=519,Km=35044,bT=35048,IT="300 es",Zm=1035;class qo{addEventListener(i,t){this._listeners===void 0&&(this._listeners={});const s=this._listeners;s[i]===void 0&&(s[i]=[]),s[i].indexOf(t)===-1&&s[i].push(t)}hasEventListener(i,t){if(this._listeners===void 0)return!1;const s=this._listeners;return s[i]!==void 0&&s[i].indexOf(t)!==-1}removeEventListener(i,t){if(this._listeners===void 0)return;const n=this._listeners[i];if(n!==void 0){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}}dispatchEvent(i){if(this._listeners===void 0)return;const s=this._listeners[i.type];if(s!==void 0){i.target=this;const n=s.slice(0);for(let r=0,o=n.length;r<o;r++)n[r].call(this,i);i.target=null}}}const Hs=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let LT=1234567;const Yc=Math.PI/180,Yp=180/Math.PI;function ro(){const e=Math.random()*4294967295|0,i=Math.random()*4294967295|0,t=Math.random()*4294967295|0,s=Math.random()*4294967295|0;return(Hs[e&255]+Hs[e>>8&255]+Hs[e>>16&255]+Hs[e>>24&255]+"-"+Hs[i&255]+Hs[i>>8&255]+"-"+Hs[i>>16&15|64]+Hs[i>>24&255]+"-"+Hs[t&63|128]+Hs[t>>8&255]+"-"+Hs[t>>16&255]+Hs[t>>24&255]+Hs[s&255]+Hs[s>>8&255]+Hs[s>>16&255]+Hs[s>>24&255]).toLowerCase()}function Us(e,i,t){return Math.max(i,Math.min(t,e))}function Hm(e,i){return(e%i+i)%i}function XO(e,i,t,s,n){return s+(e-i)*(n-s)/(t-i)}function DO(e,i,t){return e!==i?(t-e)/(i-e):0}function kc(e,i,t){return(1-t)*e+t*i}function OO(e,i,t,s){return kc(e,i,1-Math.exp(-t*s))}function zO(e,i=1){return i-Math.abs(Hm(e,i*2)-i)}function WO(e,i,t){return e<=i?0:e>=t?1:(e=(e-i)/(t-i),e*e*(3-2*e))}function YO(e,i,t){return e<=i?0:e>=t?1:(e=(e-i)/(t-i),e*e*e*(e*(e*6-15)+10))}function kO(e,i){return e+Math.floor(Math.random()*(i-e+1))}function AO(e,i){return e+Math.random()*(i-e)}function KO(e){return e*(.5-Math.random())}function ZO(e){e!==void 0&&(LT=e);let i=LT+=1831565813;return i=Math.imul(i^i>>>15,i|1),i^=i+Math.imul(i^i>>>7,i|61),((i^i>>>14)>>>0)/4294967296}function HO(e){return e*Yc}function UO(e){return e*Yp}function Um(e){return(e&e-1)===0&&e!==0}function _O(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function kp(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function VO(e,i,t,s,n){const r=Math.cos,o=Math.sin,a=r(t/2),l=o(t/2),h=r((i+s)/2),c=o((i+s)/2),u=r((i-s)/2),p=o((i-s)/2),d=r((s-i)/2),T=o((s-i)/2);switch(n){case"XYX":e.set(a*c,l*u,l*p,a*h);break;case"YZY":e.set(l*p,a*c,l*u,a*h);break;case"ZXZ":e.set(l*u,l*p,a*c,a*h);break;case"XZX":e.set(a*c,l*T,l*d,a*h);break;case"YXY":e.set(l*d,a*c,l*T,a*h);break;case"ZYZ":e.set(l*T,l*d,a*c,a*h);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+n)}}function oo(e,i){switch(i.constructor){case Float32Array:return e;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function Yi(e,i){switch(i.constructor){case Float32Array:return e;case Uint16Array:return Math.round(e*65535);case Uint8Array:return Math.round(e*255);case Int16Array:return Math.round(e*32767);case Int8Array:return Math.round(e*127);default:throw new Error("Invalid component type.")}}var Ap=Object.freeze({__proto__:null,DEG2RAD:Yc,RAD2DEG:Yp,generateUUID:ro,clamp:Us,euclideanModulo:Hm,mapLinear:XO,inverseLerp:DO,lerp:kc,damp:OO,pingpong:zO,smoothstep:WO,smootherstep:YO,randInt:kO,randFloat:AO,randFloatSpread:KO,seededRandom:ZO,degToRad:HO,radToDeg:UO,isPowerOfTwo:Um,ceilPowerOfTwo:_O,floorPowerOfTwo:kp,setQuaternionFromProperEuler:VO,normalize:Yi,denormalize:oo});class ht{constructor(i=0,t=0){ht.prototype.isVector2=!0,this.x=i,this.y=t}get width(){return this.x}set width(i){this.x=i}get height(){return this.y}set height(i){this.y=i}set(i,t){return this.x=i,this.y=t,this}setScalar(i){return this.x=i,this.y=i,this}setX(i){return this.x=i,this}setY(i){return this.y=i,this}setComponent(i,t){switch(i){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+i)}return this}getComponent(i){switch(i){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+i)}}clone(){return new this.constructor(this.x,this.y)}copy(i){return this.x=i.x,this.y=i.y,this}add(i){return this.x+=i.x,this.y+=i.y,this}addScalar(i){return this.x+=i,this.y+=i,this}addVectors(i,t){return this.x=i.x+t.x,this.y=i.y+t.y,this}addScaledVector(i,t){return this.x+=i.x*t,this.y+=i.y*t,this}sub(i){return this.x-=i.x,this.y-=i.y,this}subScalar(i){return this.x-=i,this.y-=i,this}subVectors(i,t){return this.x=i.x-t.x,this.y=i.y-t.y,this}multiply(i){return this.x*=i.x,this.y*=i.y,this}multiplyScalar(i){return this.x*=i,this.y*=i,this}divide(i){return this.x/=i.x,this.y/=i.y,this}divideScalar(i){return this.multiplyScalar(1/i)}applyMatrix3(i){const t=this.x,s=this.y,n=i.elements;return this.x=n[0]*t+n[3]*s+n[6],this.y=n[1]*t+n[4]*s+n[7],this}min(i){return this.x=Math.min(this.x,i.x),this.y=Math.min(this.y,i.y),this}max(i){return this.x=Math.max(this.x,i.x),this.y=Math.max(this.y,i.y),this}clamp(i,t){return this.x=Math.max(i.x,Math.min(t.x,this.x)),this.y=Math.max(i.y,Math.min(t.y,this.y)),this}clampScalar(i,t){return this.x=Math.max(i,Math.min(t,this.x)),this.y=Math.max(i,Math.min(t,this.y)),this}clampLength(i,t){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(i,Math.min(t,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(i){return this.x*i.x+this.y*i.y}cross(i){return this.x*i.y-this.y*i.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(i){return Math.sqrt(this.distanceToSquared(i))}distanceToSquared(i){const t=this.x-i.x,s=this.y-i.y;return t*t+s*s}manhattanDistanceTo(i){return Math.abs(this.x-i.x)+Math.abs(this.y-i.y)}setLength(i){return this.normalize().multiplyScalar(i)}lerp(i,t){return this.x+=(i.x-this.x)*t,this.y+=(i.y-this.y)*t,this}lerpVectors(i,t,s){return this.x=i.x+(t.x-i.x)*s,this.y=i.y+(t.y-i.y)*s,this}equals(i){return i.x===this.x&&i.y===this.y}fromArray(i,t=0){return this.x=i[t],this.y=i[t+1],this}toArray(i=[],t=0){return i[t]=this.x,i[t+1]=this.y,i}fromBufferAttribute(i,t){return this.x=i.getX(t),this.y=i.getY(t),this}rotateAround(i,t){const s=Math.cos(t),n=Math.sin(t),r=this.x-i.x,o=this.y-i.y;return this.x=r*s-o*n+i.x,this.y=r*n+o*s+i.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class nn{constructor(){nn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(i,t,s,n,r,o,a,l,h){const c=this.elements;return c[0]=i,c[1]=n,c[2]=a,c[3]=t,c[4]=r,c[5]=l,c[6]=s,c[7]=o,c[8]=h,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(i){const t=this.elements,s=i.elements;return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],this}extractBasis(i,t,s){return i.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),s.setFromMatrix3Column(this,2),this}setFromMatrix4(i){const t=i.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(i){return this.multiplyMatrices(this,i)}premultiply(i){return this.multiplyMatrices(i,this)}multiplyMatrices(i,t){const s=i.elements,n=t.elements,r=this.elements,o=s[0],a=s[3],l=s[6],h=s[1],c=s[4],u=s[7],p=s[2],d=s[5],T=s[8],g=n[0],I=n[3],v=n[6],C=n[1],N=n[4],F=n[7],P=n[2],w=n[5],O=n[8];return r[0]=o*g+a*C+l*P,r[3]=o*I+a*N+l*w,r[6]=o*v+a*F+l*O,r[1]=h*g+c*C+u*P,r[4]=h*I+c*N+u*w,r[7]=h*v+c*F+u*O,r[2]=p*g+d*C+T*P,r[5]=p*I+d*N+T*w,r[8]=p*v+d*F+T*O,this}multiplyScalar(i){const t=this.elements;return t[0]*=i,t[3]*=i,t[6]*=i,t[1]*=i,t[4]*=i,t[7]*=i,t[2]*=i,t[5]*=i,t[8]*=i,this}determinant(){const i=this.elements,t=i[0],s=i[1],n=i[2],r=i[3],o=i[4],a=i[5],l=i[6],h=i[7],c=i[8];return t*o*c-t*a*h-s*r*c+s*a*l+n*r*h-n*o*l}invert(){const i=this.elements,t=i[0],s=i[1],n=i[2],r=i[3],o=i[4],a=i[5],l=i[6],h=i[7],c=i[8],u=c*o-a*h,p=a*l-c*r,d=h*r-o*l,T=t*u+s*p+n*d;if(T===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/T;return i[0]=u*g,i[1]=(n*h-c*s)*g,i[2]=(a*s-n*o)*g,i[3]=p*g,i[4]=(c*t-n*l)*g,i[5]=(n*r-a*t)*g,i[6]=d*g,i[7]=(s*l-h*t)*g,i[8]=(o*t-s*r)*g,this}transpose(){let i;const t=this.elements;return i=t[1],t[1]=t[3],t[3]=i,i=t[2],t[2]=t[6],t[6]=i,i=t[5],t[5]=t[7],t[7]=i,this}getNormalMatrix(i){return this.setFromMatrix4(i).invert().transpose()}transposeIntoArray(i){const t=this.elements;return i[0]=t[0],i[1]=t[3],i[2]=t[6],i[3]=t[1],i[4]=t[4],i[5]=t[7],i[6]=t[2],i[7]=t[5],i[8]=t[8],this}setUvTransform(i,t,s,n,r,o,a){const l=Math.cos(r),h=Math.sin(r);return this.set(s*l,s*h,-s*(l*o+h*a)+o+i,-n*h,n*l,-n*(-h*o+l*a)+a+t,0,0,1),this}scale(i,t){const s=this.elements;return s[0]*=i,s[3]*=i,s[6]*=i,s[1]*=t,s[4]*=t,s[7]*=t,this}rotate(i){const t=Math.cos(i),s=Math.sin(i),n=this.elements,r=n[0],o=n[3],a=n[6],l=n[1],h=n[4],c=n[7];return n[0]=t*r+s*l,n[3]=t*o+s*h,n[6]=t*a+s*c,n[1]=-s*r+t*l,n[4]=-s*o+t*h,n[7]=-s*a+t*c,this}translate(i,t){const s=this.elements;return s[0]+=i*s[2],s[3]+=i*s[5],s[6]+=i*s[8],s[1]+=t*s[2],s[4]+=t*s[5],s[7]+=t*s[8],this}equals(i){const t=this.elements,s=i.elements;for(let n=0;n<9;n++)if(t[n]!==s[n])return!1;return!0}fromArray(i,t=0){for(let s=0;s<9;s++)this.elements[s]=i[s+t];return this}toArray(i=[],t=0){const s=this.elements;return i[t]=s[0],i[t+1]=s[1],i[t+2]=s[2],i[t+3]=s[3],i[t+4]=s[4],i[t+5]=s[5],i[t+6]=s[6],i[t+7]=s[7],i[t+8]=s[8],i}clone(){return new this.constructor().fromArray(this.elements)}}function ST(e){for(let i=e.length-1;i>=0;--i)if(e[i]>=65535)return!0;return!1}function Ac(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function il(e){return e<.04045?e*.0773993808:Math.pow(e*.9478672986+.0521327014,2.4)}function Kp(e){return e<.0031308?e*12.92:1.055*Math.pow(e,.41666)-.055}const _m={[no]:{[tl]:il},[tl]:{[no]:Kp}},ar={legacyMode:!0,get workingColorSpace(){return tl},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,i,t){if(this.legacyMode||i===t||!i||!t)return e;if(_m[i]&&_m[i][t]!==void 0){const s=_m[i][t];return e.r=s(e.r),e.g=s(e.g),e.b=s(e.b),e}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(e,i){return this.convert(e,this.workingColorSpace,i)},toWorkingColorSpace:function(e,i){return this.convert(e,i,this.workingColorSpace)}},MT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ms={r:0,g:0,b:0},lr={h:0,s:0,l:0},Zp={h:0,s:0,l:0};function Vm(e,i,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?e+(i-e)*6*t:t<1/2?i:t<2/3?e+(i-e)*6*(2/3-t):e}function Hp(e,i){return i.r=e.r,i.g=e.g,i.b=e.b,i}class ge{constructor(i,t,s){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&s===void 0?this.set(i):this.setRGB(i,t,s)}set(i){return i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i),this}setScalar(i){return this.r=i,this.g=i,this.b=i,this}setHex(i,t=no){return i=Math.floor(i),this.r=(i>>16&255)/255,this.g=(i>>8&255)/255,this.b=(i&255)/255,ar.toWorkingColorSpace(this,t),this}setRGB(i,t,s,n=tl){return this.r=i,this.g=t,this.b=s,ar.toWorkingColorSpace(this,n),this}setHSL(i,t,s,n=tl){if(i=Hm(i,1),t=Us(t,0,1),s=Us(s,0,1),t===0)this.r=this.g=this.b=s;else{const r=s<=.5?s*(1+t):s+t-s*t,o=2*s-r;this.r=Vm(o,r,i+1/3),this.g=Vm(o,r,i),this.b=Vm(o,r,i-1/3)}return ar.toWorkingColorSpace(this,n),this}setStyle(i,t=no){function s(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+i+" will be ignored.")}let n;if(n=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(i)){let r;const o=n[1],a=n[2];switch(o){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,ar.toWorkingColorSpace(this,t),s(r[4]),this;if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,ar.toWorkingColorSpace(this,t),s(r[4]),this;break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(r[1])/360,h=parseFloat(r[2])/100,c=parseFloat(r[3])/100;return s(r[4]),this.setHSL(l,h,c,t)}break}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(i)){const r=n[1],o=r.length;if(o===3)return this.r=parseInt(r.charAt(0)+r.charAt(0),16)/255,this.g=parseInt(r.charAt(1)+r.charAt(1),16)/255,this.b=parseInt(r.charAt(2)+r.charAt(2),16)/255,ar.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(r.charAt(0)+r.charAt(1),16)/255,this.g=parseInt(r.charAt(2)+r.charAt(3),16)/255,this.b=parseInt(r.charAt(4)+r.charAt(5),16)/255,ar.toWorkingColorSpace(this,t),this}return i&&i.length>0?this.setColorName(i,t):this}setColorName(i,t=no){const s=MT[i.toLowerCase()];return s!==void 0?this.setHex(s,t):console.warn("THREE.Color: Unknown color "+i),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(i){return this.r=i.r,this.g=i.g,this.b=i.b,this}copySRGBToLinear(i){return this.r=il(i.r),this.g=il(i.g),this.b=il(i.b),this}copyLinearToSRGB(i){return this.r=Kp(i.r),this.g=Kp(i.g),this.b=Kp(i.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(i=no){return ar.fromWorkingColorSpace(Hp(this,ms),i),Us(ms.r*255,0,255)<<16^Us(ms.g*255,0,255)<<8^Us(ms.b*255,0,255)<<0}getHexString(i=no){return("000000"+this.getHex(i).toString(16)).slice(-6)}getHSL(i,t=tl){ar.fromWorkingColorSpace(Hp(this,ms),t);const s=ms.r,n=ms.g,r=ms.b,o=Math.max(s,n,r),a=Math.min(s,n,r);let l,h;const c=(a+o)/2;if(a===o)l=0,h=0;else{const u=o-a;switch(h=c<=.5?u/(o+a):u/(2-o-a),o){case s:l=(n-r)/u+(n<r?6:0);break;case n:l=(r-s)/u+2;break;case r:l=(s-n)/u+4;break}l/=6}return i.h=l,i.s=h,i.l=c,i}getRGB(i,t=tl){return ar.fromWorkingColorSpace(Hp(this,ms),t),i.r=ms.r,i.g=ms.g,i.b=ms.b,i}getStyle(i=no){return ar.fromWorkingColorSpace(Hp(this,ms),i),i!==no?`color(${i} ${ms.r} ${ms.g} ${ms.b})`:`rgb(${ms.r*255|0},${ms.g*255|0},${ms.b*255|0})`}offsetHSL(i,t,s){return this.getHSL(lr),lr.h+=i,lr.s+=t,lr.l+=s,this.setHSL(lr.h,lr.s,lr.l),this}add(i){return this.r+=i.r,this.g+=i.g,this.b+=i.b,this}addColors(i,t){return this.r=i.r+t.r,this.g=i.g+t.g,this.b=i.b+t.b,this}addScalar(i){return this.r+=i,this.g+=i,this.b+=i,this}sub(i){return this.r=Math.max(0,this.r-i.r),this.g=Math.max(0,this.g-i.g),this.b=Math.max(0,this.b-i.b),this}multiply(i){return this.r*=i.r,this.g*=i.g,this.b*=i.b,this}multiplyScalar(i){return this.r*=i,this.g*=i,this.b*=i,this}lerp(i,t){return this.r+=(i.r-this.r)*t,this.g+=(i.g-this.g)*t,this.b+=(i.b-this.b)*t,this}lerpColors(i,t,s){return this.r=i.r+(t.r-i.r)*s,this.g=i.g+(t.g-i.g)*s,this.b=i.b+(t.b-i.b)*s,this}lerpHSL(i,t){this.getHSL(lr),i.getHSL(Zp);const s=kc(lr.h,Zp.h,t),n=kc(lr.s,Zp.s,t),r=kc(lr.l,Zp.l,t);return this.setHSL(s,n,r),this}equals(i){return i.r===this.r&&i.g===this.g&&i.b===this.b}fromArray(i,t=0){return this.r=i[t],this.g=i[t+1],this.b=i[t+2],this}toArray(i=[],t=0){return i[t]=this.r,i[t+1]=this.g,i[t+2]=this.b,i}fromBufferAttribute(i,t){return this.r=i.getX(t),this.g=i.getY(t),this.b=i.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}ge.NAMES=MT;let sh;class xT{static getDataURL(i){if(/^data:/i.test(i.src)||typeof HTMLCanvasElement>"u")return i.src;let t;if(i instanceof HTMLCanvasElement)t=i;else{sh===void 0&&(sh=Ac("canvas")),sh.width=i.width,sh.height=i.height;const s=sh.getContext("2d");i instanceof ImageData?s.putImageData(i,0,0):s.drawImage(i,0,0,i.width,i.height),t=sh}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",i),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(i){if(typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap){const t=Ac("canvas");t.width=i.width,t.height=i.height;const s=t.getContext("2d");s.drawImage(i,0,0,i.width,i.height);const n=s.getImageData(0,0,i.width,i.height),r=n.data;for(let o=0;o<r.length;o++)r[o]=il(r[o]/255)*255;return s.putImageData(n,0,0),t}else if(i.data){const t=i.data.slice(0);for(let s=0;s<t.length;s++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[s]=Math.floor(il(t[s]/255)*255):t[s]=il(t[s]);return{data:t,width:i.width,height:i.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),i}}class vT{constructor(i=null){this.isSource=!0,this.uuid=ro(),this.data=i,this.version=0}set needsUpdate(i){i===!0&&this.version++}toJSON(i){const t=i===void 0||typeof i=="string";if(!t&&i.images[this.uuid]!==void 0)return i.images[this.uuid];const s={uuid:this.uuid,url:""},n=this.data;if(n!==null){let r;if(Array.isArray(n)){r=[];for(let o=0,a=n.length;o<a;o++)n[o].isDataTexture?r.push(jm(n[o].image)):r.push(jm(n[o]))}else r=jm(n);s.url=r}return t||(i.images[this.uuid]=s),s}}function jm(e){return typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap?xT.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let jO=0;class ys extends qo{constructor(i=ys.DEFAULT_IMAGE,t=ys.DEFAULT_MAPPING,s=_n,n=_n,r=Is,o=zc,a=Xs,l=qa,h=1,c=el){super();this.isTexture=!0,Object.defineProperty(this,"id",{value:jO++}),this.uuid=ro(),this.name="",this.source=new vT(i),this.mipmaps=[],this.mapping=t,this.wrapS=s,this.wrapT=n,this.magFilter=r,this.minFilter=o,this.anisotropy=h,this.format=a,this.internalFormat=null,this.type=l,this.offset=new ht(0,0),this.repeat=new ht(1,1),this.center=new ht(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new nn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(i){this.source.data=i}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(i){return this.name=i.name,this.source=i.source,this.mipmaps=i.mipmaps.slice(0),this.mapping=i.mapping,this.wrapS=i.wrapS,this.wrapT=i.wrapT,this.magFilter=i.magFilter,this.minFilter=i.minFilter,this.anisotropy=i.anisotropy,this.format=i.format,this.internalFormat=i.internalFormat,this.type=i.type,this.offset.copy(i.offset),this.repeat.copy(i.repeat),this.center.copy(i.center),this.rotation=i.rotation,this.matrixAutoUpdate=i.matrixAutoUpdate,this.matrix.copy(i.matrix),this.generateMipmaps=i.generateMipmaps,this.premultiplyAlpha=i.premultiplyAlpha,this.flipY=i.flipY,this.unpackAlignment=i.unpackAlignment,this.encoding=i.encoding,this.userData=JSON.parse(JSON.stringify(i.userData)),this.needsUpdate=!0,this}toJSON(i){const t=i===void 0||typeof i=="string";if(!t&&i.textures[this.uuid]!==void 0)return i.textures[this.uuid];const s={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(i).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(s.userData=this.userData),t||(i.textures[this.uuid]=s),s}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(i){if(this.mapping!==jf)return i;if(i.applyMatrix3(this.matrix),i.x<0||i.x>1)switch(this.wrapS){case zp:i.x=i.x-Math.floor(i.x);break;case _n:i.x=i.x<0?0:1;break;case Wp:Math.abs(Math.floor(i.x)%2)===1?i.x=Math.ceil(i.x)-i.x:i.x=i.x-Math.floor(i.x);break}if(i.y<0||i.y>1)switch(this.wrapT){case zp:i.y=i.y-Math.floor(i.y);break;case _n:i.y=i.y<0?0:1;break;case Wp:Math.abs(Math.floor(i.y)%2)===1?i.y=Math.ceil(i.y)-i.y:i.y=i.y-Math.floor(i.y);break}return this.flipY&&(i.y=1-i.y),i}set needsUpdate(i){i===!0&&(this.version++,this.source.needsUpdate=!0)}}ys.DEFAULT_IMAGE=null,ys.DEFAULT_MAPPING=jf;class nt{constructor(i=0,t=0,s=0,n=1){nt.prototype.isVector4=!0,this.x=i,this.y=t,this.z=s,this.w=n}get width(){return this.z}set width(i){this.z=i}get height(){return this.w}set height(i){this.w=i}set(i,t,s,n){return this.x=i,this.y=t,this.z=s,this.w=n,this}setScalar(i){return this.x=i,this.y=i,this.z=i,this.w=i,this}setX(i){return this.x=i,this}setY(i){return this.y=i,this}setZ(i){return this.z=i,this}setW(i){return this.w=i,this}setComponent(i,t){switch(i){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+i)}return this}getComponent(i){switch(i){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+i)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(i){return this.x=i.x,this.y=i.y,this.z=i.z,this.w=i.w!==void 0?i.w:1,this}add(i){return this.x+=i.x,this.y+=i.y,this.z+=i.z,this.w+=i.w,this}addScalar(i){return this.x+=i,this.y+=i,this.z+=i,this.w+=i,this}addVectors(i,t){return this.x=i.x+t.x,this.y=i.y+t.y,this.z=i.z+t.z,this.w=i.w+t.w,this}addScaledVector(i,t){return this.x+=i.x*t,this.y+=i.y*t,this.z+=i.z*t,this.w+=i.w*t,this}sub(i){return this.x-=i.x,this.y-=i.y,this.z-=i.z,this.w-=i.w,this}subScalar(i){return this.x-=i,this.y-=i,this.z-=i,this.w-=i,this}subVectors(i,t){return this.x=i.x-t.x,this.y=i.y-t.y,this.z=i.z-t.z,this.w=i.w-t.w,this}multiply(i){return this.x*=i.x,this.y*=i.y,this.z*=i.z,this.w*=i.w,this}multiplyScalar(i){return this.x*=i,this.y*=i,this.z*=i,this.w*=i,this}applyMatrix4(i){const t=this.x,s=this.y,n=this.z,r=this.w,o=i.elements;return this.x=o[0]*t+o[4]*s+o[8]*n+o[12]*r,this.y=o[1]*t+o[5]*s+o[9]*n+o[13]*r,this.z=o[2]*t+o[6]*s+o[10]*n+o[14]*r,this.w=o[3]*t+o[7]*s+o[11]*n+o[15]*r,this}divideScalar(i){return this.multiplyScalar(1/i)}setAxisAngleFromQuaternion(i){this.w=2*Math.acos(i.w);const t=Math.sqrt(1-i.w*i.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=i.x/t,this.y=i.y/t,this.z=i.z/t),this}setAxisAngleFromRotationMatrix(i){let t,s,n,r;const l=i.elements,h=l[0],c=l[4],u=l[8],p=l[1],d=l[5],T=l[9],g=l[2],I=l[6],v=l[10];if(Math.abs(c-p)<.01&&Math.abs(u-g)<.01&&Math.abs(T-I)<.01){if(Math.abs(c+p)<.1&&Math.abs(u+g)<.1&&Math.abs(T+I)<.1&&Math.abs(h+d+v-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const N=(h+1)/2,F=(d+1)/2,P=(v+1)/2,w=(c+p)/4,O=(u+g)/4,X=(T+I)/4;return N>F&&N>P?N<.01?(s=0,n=.707106781,r=.707106781):(s=Math.sqrt(N),n=w/s,r=O/s):F>P?F<.01?(s=.707106781,n=0,r=.707106781):(n=Math.sqrt(F),s=w/n,r=X/n):P<.01?(s=.707106781,n=.707106781,r=0):(r=Math.sqrt(P),s=O/r,n=X/r),this.set(s,n,r,t),this}let C=Math.sqrt((I-T)*(I-T)+(u-g)*(u-g)+(p-c)*(p-c));return Math.abs(C)<.001&&(C=1),this.x=(I-T)/C,this.y=(u-g)/C,this.z=(p-c)/C,this.w=Math.acos((h+d+v-1)/2),this}min(i){return this.x=Math.min(this.x,i.x),this.y=Math.min(this.y,i.y),this.z=Math.min(this.z,i.z),this.w=Math.min(this.w,i.w),this}max(i){return this.x=Math.max(this.x,i.x),this.y=Math.max(this.y,i.y),this.z=Math.max(this.z,i.z),this.w=Math.max(this.w,i.w),this}clamp(i,t){return this.x=Math.max(i.x,Math.min(t.x,this.x)),this.y=Math.max(i.y,Math.min(t.y,this.y)),this.z=Math.max(i.z,Math.min(t.z,this.z)),this.w=Math.max(i.w,Math.min(t.w,this.w)),this}clampScalar(i,t){return this.x=Math.max(i,Math.min(t,this.x)),this.y=Math.max(i,Math.min(t,this.y)),this.z=Math.max(i,Math.min(t,this.z)),this.w=Math.max(i,Math.min(t,this.w)),this}clampLength(i,t){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(i,Math.min(t,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(i){return this.x*i.x+this.y*i.y+this.z*i.z+this.w*i.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(i){return this.normalize().multiplyScalar(i)}lerp(i,t){return this.x+=(i.x-this.x)*t,this.y+=(i.y-this.y)*t,this.z+=(i.z-this.z)*t,this.w+=(i.w-this.w)*t,this}lerpVectors(i,t,s){return this.x=i.x+(t.x-i.x)*s,this.y=i.y+(t.y-i.y)*s,this.z=i.z+(t.z-i.z)*s,this.w=i.w+(t.w-i.w)*s,this}equals(i){return i.x===this.x&&i.y===this.y&&i.z===this.z&&i.w===this.w}fromArray(i,t=0){return this.x=i[t],this.y=i[t+1],this.z=i[t+2],this.w=i[t+3],this}toArray(i=[],t=0){return i[t]=this.x,i[t+1]=this.y,i[t+2]=this.z,i[t+3]=this.w,i}fromBufferAttribute(i,t){return this.x=i.getX(t),this.y=i.getY(t),this.z=i.getZ(t),this.w=i.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Pr extends qo{constructor(i,t,s={}){super();this.isWebGLRenderTarget=!0,this.width=i,this.height=t,this.depth=1,this.scissor=new nt(0,0,i,t),this.scissorTest=!1,this.viewport=new nt(0,0,i,t);const n={width:i,height:t,depth:1};this.texture=new ys(n,s.mapping,s.wrapS,s.wrapT,s.magFilter,s.minFilter,s.format,s.type,s.anisotropy,s.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=s.generateMipmaps!==void 0?s.generateMipmaps:!1,this.texture.internalFormat=s.internalFormat!==void 0?s.internalFormat:null,this.texture.minFilter=s.minFilter!==void 0?s.minFilter:Is,this.depthBuffer=s.depthBuffer!==void 0?s.depthBuffer:!0,this.stencilBuffer=s.stencilBuffer!==void 0?s.stencilBuffer:!1,this.depthTexture=s.depthTexture!==void 0?s.depthTexture:null,this.samples=s.samples!==void 0?s.samples:0}setSize(i,t,s=1){(this.width!==i||this.height!==t||this.depth!==s)&&(this.width=i,this.height=t,this.depth=s,this.texture.image.width=i,this.texture.image.height=t,this.texture.image.depth=s,this.dispose()),this.viewport.set(0,0,i,t),this.scissor.set(0,0,i,t)}clone(){return new this.constructor().copy(this)}copy(i){this.width=i.width,this.height=i.height,this.depth=i.depth,this.viewport.copy(i.viewport),this.texture=i.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},i.texture.image);return this.texture.source=new vT(t),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,i.depthTexture!==null&&(this.depthTexture=i.depthTexture.clone()),this.samples=i.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class GT extends ys{constructor(i=null,t=1,s=1,n=1){super(null);this.isDataArrayTexture=!0,this.image={data:i,width:t,height:s,depth:n},this.magFilter=Ui,this.minFilter=Ui,this.wrapR=_n,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class BO extends ys{constructor(i=null,t=1,s=1,n=1){super(null);this.isData3DTexture=!0,this.image={data:i,width:t,height:s,depth:n},this.magFilter=Ui,this.minFilter=Ui,this.wrapR=_n,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class bn{constructor(i=0,t=0,s=0,n=1){this.isQuaternion=!0,this._x=i,this._y=t,this._z=s,this._w=n}static slerpFlat(i,t,s,n,r,o,a){let l=s[n+0],h=s[n+1],c=s[n+2],u=s[n+3];const p=r[o+0],d=r[o+1],T=r[o+2],g=r[o+3];if(a===0){i[t+0]=l,i[t+1]=h,i[t+2]=c,i[t+3]=u;return}if(a===1){i[t+0]=p,i[t+1]=d,i[t+2]=T,i[t+3]=g;return}if(u!==g||l!==p||h!==d||c!==T){let I=1-a;const v=l*p+h*d+c*T+u*g,C=v>=0?1:-1,N=1-v*v;if(N>Number.EPSILON){const P=Math.sqrt(N),w=Math.atan2(P,v*C);I=Math.sin(I*w)/P,a=Math.sin(a*w)/P}const F=a*C;if(l=l*I+p*F,h=h*I+d*F,c=c*I+T*F,u=u*I+g*F,I===1-a){const P=1/Math.sqrt(l*l+h*h+c*c+u*u);l*=P,h*=P,c*=P,u*=P}}i[t]=l,i[t+1]=h,i[t+2]=c,i[t+3]=u}static multiplyQuaternionsFlat(i,t,s,n,r,o){const a=s[n],l=s[n+1],h=s[n+2],c=s[n+3],u=r[o],p=r[o+1],d=r[o+2],T=r[o+3];return i[t]=a*T+c*u+l*d-h*p,i[t+1]=l*T+c*p+h*u-a*d,i[t+2]=h*T+c*d+a*p-l*u,i[t+3]=c*T-a*u-l*p-h*d,i}get x(){return this._x}set x(i){this._x=i,this._onChangeCallback()}get y(){return this._y}set y(i){this._y=i,this._onChangeCallback()}get z(){return this._z}set z(i){this._z=i,this._onChangeCallback()}get w(){return this._w}set w(i){this._w=i,this._onChangeCallback()}set(i,t,s,n){return this._x=i,this._y=t,this._z=s,this._w=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(i){return this._x=i.x,this._y=i.y,this._z=i.z,this._w=i.w,this._onChangeCallback(),this}setFromEuler(i,t){const s=i._x,n=i._y,r=i._z,o=i._order,a=Math.cos,l=Math.sin,h=a(s/2),c=a(n/2),u=a(r/2),p=l(s/2),d=l(n/2),T=l(r/2);switch(o){case"XYZ":this._x=p*c*u+h*d*T,this._y=h*d*u-p*c*T,this._z=h*c*T+p*d*u,this._w=h*c*u-p*d*T;break;case"YXZ":this._x=p*c*u+h*d*T,this._y=h*d*u-p*c*T,this._z=h*c*T-p*d*u,this._w=h*c*u+p*d*T;break;case"ZXY":this._x=p*c*u-h*d*T,this._y=h*d*u+p*c*T,this._z=h*c*T+p*d*u,this._w=h*c*u-p*d*T;break;case"ZYX":this._x=p*c*u-h*d*T,this._y=h*d*u+p*c*T,this._z=h*c*T-p*d*u,this._w=h*c*u+p*d*T;break;case"YZX":this._x=p*c*u+h*d*T,this._y=h*d*u+p*c*T,this._z=h*c*T-p*d*u,this._w=h*c*u-p*d*T;break;case"XZY":this._x=p*c*u-h*d*T,this._y=h*d*u-p*c*T,this._z=h*c*T+p*d*u,this._w=h*c*u+p*d*T;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(i,t){const s=t/2,n=Math.sin(s);return this._x=i.x*n,this._y=i.y*n,this._z=i.z*n,this._w=Math.cos(s),this._onChangeCallback(),this}setFromRotationMatrix(i){const t=i.elements,s=t[0],n=t[4],r=t[8],o=t[1],a=t[5],l=t[9],h=t[2],c=t[6],u=t[10],p=s+a+u;if(p>0){const d=.5/Math.sqrt(p+1);this._w=.25/d,this._x=(c-l)*d,this._y=(r-h)*d,this._z=(o-n)*d}else if(s>a&&s>u){const d=2*Math.sqrt(1+s-a-u);this._w=(c-l)/d,this._x=.25*d,this._y=(n+o)/d,this._z=(r+h)/d}else if(a>u){const d=2*Math.sqrt(1+a-s-u);this._w=(r-h)/d,this._x=(n+o)/d,this._y=.25*d,this._z=(l+c)/d}else{const d=2*Math.sqrt(1+u-s-a);this._w=(o-n)/d,this._x=(r+h)/d,this._y=(l+c)/d,this._z=.25*d}return this._onChangeCallback(),this}setFromUnitVectors(i,t){let s=i.dot(t)+1;return s<Number.EPSILON?(s=0,Math.abs(i.x)>Math.abs(i.z)?(this._x=-i.y,this._y=i.x,this._z=0,this._w=s):(this._x=0,this._y=-i.z,this._z=i.y,this._w=s)):(this._x=i.y*t.z-i.z*t.y,this._y=i.z*t.x-i.x*t.z,this._z=i.x*t.y-i.y*t.x,this._w=s),this.normalize()}angleTo(i){return 2*Math.acos(Math.abs(Us(this.dot(i),-1,1)))}rotateTowards(i,t){const s=this.angleTo(i);if(s===0)return this;const n=Math.min(1,t/s);return this.slerp(i,n),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(i){return this._x*i._x+this._y*i._y+this._z*i._z+this._w*i._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let i=this.length();return i===0?(this._x=0,this._y=0,this._z=0,this._w=1):(i=1/i,this._x=this._x*i,this._y=this._y*i,this._z=this._z*i,this._w=this._w*i),this._onChangeCallback(),this}multiply(i){return this.multiplyQuaternions(this,i)}premultiply(i){return this.multiplyQuaternions(i,this)}multiplyQuaternions(i,t){const s=i._x,n=i._y,r=i._z,o=i._w,a=t._x,l=t._y,h=t._z,c=t._w;return this._x=s*c+o*a+n*h-r*l,this._y=n*c+o*l+r*a-s*h,this._z=r*c+o*h+s*l-n*a,this._w=o*c-s*a-n*l-r*h,this._onChangeCallback(),this}slerp(i,t){if(t===0)return this;if(t===1)return this.copy(i);const s=this._x,n=this._y,r=this._z,o=this._w;let a=o*i._w+s*i._x+n*i._y+r*i._z;if(a<0?(this._w=-i._w,this._x=-i._x,this._y=-i._y,this._z=-i._z,a=-a):this.copy(i),a>=1)return this._w=o,this._x=s,this._y=n,this._z=r,this;const l=1-a*a;if(l<=Number.EPSILON){const d=1-t;return this._w=d*o+t*this._w,this._x=d*s+t*this._x,this._y=d*n+t*this._y,this._z=d*r+t*this._z,this.normalize(),this._onChangeCallback(),this}const h=Math.sqrt(l),c=Math.atan2(h,a),u=Math.sin((1-t)*c)/h,p=Math.sin(t*c)/h;return this._w=o*u+this._w*p,this._x=s*u+this._x*p,this._y=n*u+this._y*p,this._z=r*u+this._z*p,this._onChangeCallback(),this}slerpQuaternions(i,t,s){return this.copy(i).slerp(t,s)}random(){const i=Math.random(),t=Math.sqrt(1-i),s=Math.sqrt(i),n=2*Math.PI*Math.random(),r=2*Math.PI*Math.random();return this.set(t*Math.cos(n),s*Math.sin(r),s*Math.cos(r),t*Math.sin(n))}equals(i){return i._x===this._x&&i._y===this._y&&i._z===this._z&&i._w===this._w}fromArray(i,t=0){return this._x=i[t],this._y=i[t+1],this._z=i[t+2],this._w=i[t+3],this._onChangeCallback(),this}toArray(i=[],t=0){return i[t]=this._x,i[t+1]=this._y,i[t+2]=this._z,i[t+3]=this._w,i}fromBufferAttribute(i,t){return this._x=i.getX(t),this._y=i.getY(t),this._z=i.getZ(t),this._w=i.getW(t),this}_onChange(i){return this._onChangeCallback=i,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class H{constructor(i=0,t=0,s=0){H.prototype.isVector3=!0,this.x=i,this.y=t,this.z=s}set(i,t,s){return s===void 0&&(s=this.z),this.x=i,this.y=t,this.z=s,this}setScalar(i){return this.x=i,this.y=i,this.z=i,this}setX(i){return this.x=i,this}setY(i){return this.y=i,this}setZ(i){return this.z=i,this}setComponent(i,t){switch(i){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+i)}return this}getComponent(i){switch(i){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+i)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(i){return this.x=i.x,this.y=i.y,this.z=i.z,this}add(i){return this.x+=i.x,this.y+=i.y,this.z+=i.z,this}addScalar(i){return this.x+=i,this.y+=i,this.z+=i,this}addVectors(i,t){return this.x=i.x+t.x,this.y=i.y+t.y,this.z=i.z+t.z,this}addScaledVector(i,t){return this.x+=i.x*t,this.y+=i.y*t,this.z+=i.z*t,this}sub(i){return this.x-=i.x,this.y-=i.y,this.z-=i.z,this}subScalar(i){return this.x-=i,this.y-=i,this.z-=i,this}subVectors(i,t){return this.x=i.x-t.x,this.y=i.y-t.y,this.z=i.z-t.z,this}multiply(i){return this.x*=i.x,this.y*=i.y,this.z*=i.z,this}multiplyScalar(i){return this.x*=i,this.y*=i,this.z*=i,this}multiplyVectors(i,t){return this.x=i.x*t.x,this.y=i.y*t.y,this.z=i.z*t.z,this}applyEuler(i){return this.applyQuaternion(ET.setFromEuler(i))}applyAxisAngle(i,t){return this.applyQuaternion(ET.setFromAxisAngle(i,t))}applyMatrix3(i){const t=this.x,s=this.y,n=this.z,r=i.elements;return this.x=r[0]*t+r[3]*s+r[6]*n,this.y=r[1]*t+r[4]*s+r[7]*n,this.z=r[2]*t+r[5]*s+r[8]*n,this}applyNormalMatrix(i){return this.applyMatrix3(i).normalize()}applyMatrix4(i){const t=this.x,s=this.y,n=this.z,r=i.elements,o=1/(r[3]*t+r[7]*s+r[11]*n+r[15]);return this.x=(r[0]*t+r[4]*s+r[8]*n+r[12])*o,this.y=(r[1]*t+r[5]*s+r[9]*n+r[13])*o,this.z=(r[2]*t+r[6]*s+r[10]*n+r[14])*o,this}applyQuaternion(i){const t=this.x,s=this.y,n=this.z,r=i.x,o=i.y,a=i.z,l=i.w,h=l*t+o*n-a*s,c=l*s+a*t-r*n,u=l*n+r*s-o*t,p=-r*t-o*s-a*n;return this.x=h*l+p*-r+c*-a-u*-o,this.y=c*l+p*-o+u*-r-h*-a,this.z=u*l+p*-a+h*-o-c*-r,this}project(i){return this.applyMatrix4(i.matrixWorldInverse).applyMatrix4(i.projectionMatrix)}unproject(i){return this.applyMatrix4(i.projectionMatrixInverse).applyMatrix4(i.matrixWorld)}transformDirection(i){const t=this.x,s=this.y,n=this.z,r=i.elements;return this.x=r[0]*t+r[4]*s+r[8]*n,this.y=r[1]*t+r[5]*s+r[9]*n,this.z=r[2]*t+r[6]*s+r[10]*n,this.normalize()}divide(i){return this.x/=i.x,this.y/=i.y,this.z/=i.z,this}divideScalar(i){return this.multiplyScalar(1/i)}min(i){return this.x=Math.min(this.x,i.x),this.y=Math.min(this.y,i.y),this.z=Math.min(this.z,i.z),this}max(i){return this.x=Math.max(this.x,i.x),this.y=Math.max(this.y,i.y),this.z=Math.max(this.z,i.z),this}clamp(i,t){return this.x=Math.max(i.x,Math.min(t.x,this.x)),this.y=Math.max(i.y,Math.min(t.y,this.y)),this.z=Math.max(i.z,Math.min(t.z,this.z)),this}clampScalar(i,t){return this.x=Math.max(i,Math.min(t,this.x)),this.y=Math.max(i,Math.min(t,this.y)),this.z=Math.max(i,Math.min(t,this.z)),this}clampLength(i,t){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(i,Math.min(t,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(i){return this.x*i.x+this.y*i.y+this.z*i.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(i){return this.normalize().multiplyScalar(i)}lerp(i,t){return this.x+=(i.x-this.x)*t,this.y+=(i.y-this.y)*t,this.z+=(i.z-this.z)*t,this}lerpVectors(i,t,s){return this.x=i.x+(t.x-i.x)*s,this.y=i.y+(t.y-i.y)*s,this.z=i.z+(t.z-i.z)*s,this}cross(i){return this.crossVectors(this,i)}crossVectors(i,t){const s=i.x,n=i.y,r=i.z,o=t.x,a=t.y,l=t.z;return this.x=n*l-r*a,this.y=r*o-s*l,this.z=s*a-n*o,this}projectOnVector(i){const t=i.lengthSq();if(t===0)return this.set(0,0,0);const s=i.dot(this)/t;return this.copy(i).multiplyScalar(s)}projectOnPlane(i){return Bm.copy(this).projectOnVector(i),this.sub(Bm)}reflect(i){return this.sub(Bm.copy(i).multiplyScalar(2*this.dot(i)))}angleTo(i){const t=Math.sqrt(this.lengthSq()*i.lengthSq());if(t===0)return Math.PI/2;const s=this.dot(i)/t;return Math.acos(Us(s,-1,1))}distanceTo(i){return Math.sqrt(this.distanceToSquared(i))}distanceToSquared(i){const t=this.x-i.x,s=this.y-i.y,n=this.z-i.z;return t*t+s*s+n*n}manhattanDistanceTo(i){return Math.abs(this.x-i.x)+Math.abs(this.y-i.y)+Math.abs(this.z-i.z)}setFromSpherical(i){return this.setFromSphericalCoords(i.radius,i.phi,i.theta)}setFromSphericalCoords(i,t,s){const n=Math.sin(t)*i;return this.x=n*Math.sin(s),this.y=Math.cos(t)*i,this.z=n*Math.cos(s),this}setFromCylindrical(i){return this.setFromCylindricalCoords(i.radius,i.theta,i.y)}setFromCylindricalCoords(i,t,s){return this.x=i*Math.sin(t),this.y=s,this.z=i*Math.cos(t),this}setFromMatrixPosition(i){const t=i.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(i){const t=this.setFromMatrixColumn(i,0).length(),s=this.setFromMatrixColumn(i,1).length(),n=this.setFromMatrixColumn(i,2).length();return this.x=t,this.y=s,this.z=n,this}setFromMatrixColumn(i,t){return this.fromArray(i.elements,t*4)}setFromMatrix3Column(i,t){return this.fromArray(i.elements,t*3)}setFromEuler(i){return this.x=i._x,this.y=i._y,this.z=i._z,this}equals(i){return i.x===this.x&&i.y===this.y&&i.z===this.z}fromArray(i,t=0){return this.x=i[t],this.y=i[t+1],this.z=i[t+2],this}toArray(i=[],t=0){return i[t]=this.x,i[t+1]=this.y,i[t+2]=this.z,i}fromBufferAttribute(i,t){return this.x=i.getX(t),this.y=i.getY(t),this.z=i.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const i=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,s=Math.sqrt(1-i**2);return this.x=s*Math.cos(t),this.y=s*Math.sin(t),this.z=i,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Bm=new H,ET=new bn;class Pi{constructor(i=new H(1/0,1/0,1/0),t=new H(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=i,this.max=t}set(i,t){return this.min.copy(i),this.max.copy(t),this}setFromArray(i){let t=1/0,s=1/0,n=1/0,r=-1/0,o=-1/0,a=-1/0;for(let l=0,h=i.length;l<h;l+=3){const c=i[l],u=i[l+1],p=i[l+2];c<t&&(t=c),u<s&&(s=u),p<n&&(n=p),c>r&&(r=c),u>o&&(o=u),p>a&&(a=p)}return this.min.set(t,s,n),this.max.set(r,o,a),this}setFromBufferAttribute(i){let t=1/0,s=1/0,n=1/0,r=-1/0,o=-1/0,a=-1/0;for(let l=0,h=i.count;l<h;l++){const c=i.getX(l),u=i.getY(l),p=i.getZ(l);c<t&&(t=c),u<s&&(s=u),p<n&&(n=p),c>r&&(r=c),u>o&&(o=u),p>a&&(a=p)}return this.min.set(t,s,n),this.max.set(r,o,a),this}setFromPoints(i){this.makeEmpty();for(let t=0,s=i.length;t<s;t++)this.expandByPoint(i[t]);return this}setFromCenterAndSize(i,t){const s=sl.copy(t).multiplyScalar(.5);return this.min.copy(i).sub(s),this.max.copy(i).add(s),this}setFromObject(i,t=!1){return this.makeEmpty(),this.expandByObject(i,t)}clone(){return new this.constructor().copy(this)}copy(i){return this.min.copy(i.min),this.max.copy(i.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(i){return this.isEmpty()?i.set(0,0,0):i.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(i){return this.isEmpty()?i.set(0,0,0):i.subVectors(this.max,this.min)}expandByPoint(i){return this.min.min(i),this.max.max(i),this}expandByVector(i){return this.min.sub(i),this.max.add(i),this}expandByScalar(i){return this.min.addScalar(-i),this.max.addScalar(i),this}expandByObject(i,t=!1){i.updateWorldMatrix(!1,!1);const s=i.geometry;if(s!==void 0)if(t&&s.attributes!=null&&s.attributes.position!==void 0){const r=s.attributes.position;for(let o=0,a=r.count;o<a;o++)sl.fromBufferAttribute(r,o).applyMatrix4(i.matrixWorld),this.expandByPoint(sl)}else s.boundingBox===null&&s.computeBoundingBox(),Jm.copy(s.boundingBox),Jm.applyMatrix4(i.matrixWorld),this.union(Jm);const n=i.children;for(let r=0,o=n.length;r<o;r++)this.expandByObject(n[r],t);return this}containsPoint(i){return!(i.x<this.min.x||i.x>this.max.x||i.y<this.min.y||i.y>this.max.y||i.z<this.min.z||i.z>this.max.z)}containsBox(i){return this.min.x<=i.min.x&&i.max.x<=this.max.x&&this.min.y<=i.min.y&&i.max.y<=this.max.y&&this.min.z<=i.min.z&&i.max.z<=this.max.z}getParameter(i,t){return t.set((i.x-this.min.x)/(this.max.x-this.min.x),(i.y-this.min.y)/(this.max.y-this.min.y),(i.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(i){return!(i.max.x<this.min.x||i.min.x>this.max.x||i.max.y<this.min.y||i.min.y>this.max.y||i.max.z<this.min.z||i.min.z>this.max.z)}intersectsSphere(i){return this.clampPoint(i.center,sl),sl.distanceToSquared(i.center)<=i.radius*i.radius}intersectsPlane(i){let t,s;return i.normal.x>0?(t=i.normal.x*this.min.x,s=i.normal.x*this.max.x):(t=i.normal.x*this.max.x,s=i.normal.x*this.min.x),i.normal.y>0?(t+=i.normal.y*this.min.y,s+=i.normal.y*this.max.y):(t+=i.normal.y*this.max.y,s+=i.normal.y*this.min.y),i.normal.z>0?(t+=i.normal.z*this.min.z,s+=i.normal.z*this.max.z):(t+=i.normal.z*this.max.z,s+=i.normal.z*this.min.z),t<=-i.constant&&s>=-i.constant}intersectsTriangle(i){if(this.isEmpty())return!1;this.getCenter(Kc),Up.subVectors(this.max,Kc),nh.subVectors(i.a,Kc),rh.subVectors(i.b,Kc),oh.subVectors(i.c,Kc),$o.subVectors(rh,nh),ea.subVectors(oh,rh),nl.subVectors(nh,oh);let t=[0,-$o.z,$o.y,0,-ea.z,ea.y,0,-nl.z,nl.y,$o.z,0,-$o.x,ea.z,0,-ea.x,nl.z,0,-nl.x,-$o.y,$o.x,0,-ea.y,ea.x,0,-nl.y,nl.x,0];return!Qm(t,nh,rh,oh,Up)||(t=[1,0,0,0,1,0,0,0,1],!Qm(t,nh,rh,oh,Up))?!1:(_p.crossVectors($o,ea),t=[_p.x,_p.y,_p.z],Qm(t,nh,rh,oh,Up))}clampPoint(i,t){return t.copy(i).clamp(this.min,this.max)}distanceToPoint(i){return sl.copy(i).clamp(this.min,this.max).sub(i).length()}getBoundingSphere(i){return this.getCenter(i.center),i.radius=this.getSize(sl).length()*.5,i}intersect(i){return this.min.max(i.min),this.max.min(i.max),this.isEmpty()&&this.makeEmpty(),this}union(i){return this.min.min(i.min),this.max.max(i.max),this}applyMatrix4(i){return this.isEmpty()?this:(ao[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(i),ao[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(i),ao[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(i),ao[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(i),ao[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(i),ao[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(i),ao[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(i),ao[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(i),this.setFromPoints(ao),this)}translate(i){return this.min.add(i),this.max.add(i),this}equals(i){return i.min.equals(this.min)&&i.max.equals(this.max)}}const ao=[new H,new H,new H,new H,new H,new H,new H,new H],sl=new H,Jm=new Pi,nh=new H,rh=new H,oh=new H,$o=new H,ea=new H,nl=new H,Kc=new H,Up=new H,_p=new H,rl=new H;function Qm(e,i,t,s,n){for(let r=0,o=e.length-3;r<=o;r+=3){rl.fromArray(e,r);const a=n.x*Math.abs(rl.x)+n.y*Math.abs(rl.y)+n.z*Math.abs(rl.z),l=i.dot(rl),h=t.dot(rl),c=s.dot(rl);if(Math.max(-Math.max(l,h,c),Math.min(l,h,c))>a)return!1}return!0}const JO=new Pi,CT=new H,Vp=new H,qm=new H;class In{constructor(i=new H,t=-1){this.center=i,this.radius=t}set(i,t){return this.center.copy(i),this.radius=t,this}setFromPoints(i,t){const s=this.center;t!==void 0?s.copy(t):JO.setFromPoints(i).getCenter(s);let n=0;for(let r=0,o=i.length;r<o;r++)n=Math.max(n,s.distanceToSquared(i[r]));return this.radius=Math.sqrt(n),this}copy(i){return this.center.copy(i.center),this.radius=i.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(i){return i.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(i){return i.distanceTo(this.center)-this.radius}intersectsSphere(i){const t=this.radius+i.radius;return i.center.distanceToSquared(this.center)<=t*t}intersectsBox(i){return i.intersectsSphere(this)}intersectsPlane(i){return Math.abs(i.distanceToPoint(this.center))<=this.radius}clampPoint(i,t){const s=this.center.distanceToSquared(i);return t.copy(i),s>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(i){return this.isEmpty()?(i.makeEmpty(),i):(i.set(this.center,this.center),i.expandByScalar(this.radius),i)}applyMatrix4(i){return this.center.applyMatrix4(i),this.radius=this.radius*i.getMaxScaleOnAxis(),this}translate(i){return this.center.add(i),this}expandByPoint(i){qm.subVectors(i,this.center);const t=qm.lengthSq();if(t>this.radius*this.radius){const s=Math.sqrt(t),n=(s-this.radius)*.5;this.center.add(qm.multiplyScalar(n/s)),this.radius+=n}return this}union(i){return this.center.equals(i.center)===!0?Vp.set(0,0,1).multiplyScalar(i.radius):Vp.subVectors(i.center,this.center).normalize().multiplyScalar(i.radius),this.expandByPoint(CT.copy(i.center).add(Vp)),this.expandByPoint(CT.copy(i.center).sub(Vp)),this}equals(i){return i.center.equals(this.center)&&i.radius===this.radius}clone(){return new this.constructor().copy(this)}}const lo=new H,$m=new H,jp=new H,ta=new H,e0=new H,Bp=new H,t0=new H;class Zc{constructor(i=new H,t=new H(0,0,-1)){this.origin=i,this.direction=t}set(i,t){return this.origin.copy(i),this.direction.copy(t),this}copy(i){return this.origin.copy(i.origin),this.direction.copy(i.direction),this}at(i,t){return t.copy(this.direction).multiplyScalar(i).add(this.origin)}lookAt(i){return this.direction.copy(i).sub(this.origin).normalize(),this}recast(i){return this.origin.copy(this.at(i,lo)),this}closestPointToPoint(i,t){t.subVectors(i,this.origin);const s=t.dot(this.direction);return s<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(s).add(this.origin)}distanceToPoint(i){return Math.sqrt(this.distanceSqToPoint(i))}distanceSqToPoint(i){const t=lo.subVectors(i,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(i):(lo.copy(this.direction).multiplyScalar(t).add(this.origin),lo.distanceToSquared(i))}distanceSqToSegment(i,t,s,n){$m.copy(i).add(t).multiplyScalar(.5),jp.copy(t).sub(i).normalize(),ta.copy(this.origin).sub($m);const r=i.distanceTo(t)*.5,o=-this.direction.dot(jp),a=ta.dot(this.direction),l=-ta.dot(jp),h=ta.lengthSq(),c=Math.abs(1-o*o);let u,p,d,T;if(c>0)if(u=o*l-a,p=o*a-l,T=r*c,u>=0)if(p>=-T)if(p<=T){const g=1/c;u*=g,p*=g,d=u*(u+o*p+2*a)+p*(o*u+p+2*l)+h}else p=r,u=Math.max(0,-(o*p+a)),d=-u*u+p*(p+2*l)+h;else p=-r,u=Math.max(0,-(o*p+a)),d=-u*u+p*(p+2*l)+h;else p<=-T?(u=Math.max(0,-(-o*r+a)),p=u>0?-r:Math.min(Math.max(-r,-l),r),d=-u*u+p*(p+2*l)+h):p<=T?(u=0,p=Math.min(Math.max(-r,-l),r),d=p*(p+2*l)+h):(u=Math.max(0,-(o*r+a)),p=u>0?r:Math.min(Math.max(-r,-l),r),d=-u*u+p*(p+2*l)+h);else p=o>0?-r:r,u=Math.max(0,-(o*p+a)),d=-u*u+p*(p+2*l)+h;return s&&s.copy(this.direction).multiplyScalar(u).add(this.origin),n&&n.copy(jp).multiplyScalar(p).add($m),d}intersectSphere(i,t){lo.subVectors(i.center,this.origin);const s=lo.dot(this.direction),n=lo.dot(lo)-s*s,r=i.radius*i.radius;if(n>r)return null;const o=Math.sqrt(r-n),a=s-o,l=s+o;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(i){return this.distanceSqToPoint(i.center)<=i.radius*i.radius}distanceToPlane(i){const t=i.normal.dot(this.direction);if(t===0)return i.distanceToPoint(this.origin)===0?0:null;const s=-(this.origin.dot(i.normal)+i.constant)/t;return s>=0?s:null}intersectPlane(i,t){const s=this.distanceToPlane(i);return s===null?null:this.at(s,t)}intersectsPlane(i){const t=i.distanceToPoint(this.origin);return t===0||i.normal.dot(this.direction)*t<0}intersectBox(i,t){let s,n,r,o,a,l;const h=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,p=this.origin;return h>=0?(s=(i.min.x-p.x)*h,n=(i.max.x-p.x)*h):(s=(i.max.x-p.x)*h,n=(i.min.x-p.x)*h),c>=0?(r=(i.min.y-p.y)*c,o=(i.max.y-p.y)*c):(r=(i.max.y-p.y)*c,o=(i.min.y-p.y)*c),s>o||r>n||((r>s||s!==s)&&(s=r),(o<n||n!==n)&&(n=o),u>=0?(a=(i.min.z-p.z)*u,l=(i.max.z-p.z)*u):(a=(i.max.z-p.z)*u,l=(i.min.z-p.z)*u),s>l||a>n)||((a>s||s!==s)&&(s=a),(l<n||n!==n)&&(n=l),n<0)?null:this.at(s>=0?s:n,t)}intersectsBox(i){return this.intersectBox(i,lo)!==null}intersectTriangle(i,t,s,n,r){e0.subVectors(t,i),Bp.subVectors(s,i),t0.crossVectors(e0,Bp);let o=this.direction.dot(t0),a;if(o>0){if(n)return null;a=1}else if(o<0)a=-1,o=-o;else return null;ta.subVectors(this.origin,i);const l=a*this.direction.dot(Bp.crossVectors(ta,Bp));if(l<0)return null;const h=a*this.direction.dot(e0.cross(ta));if(h<0||l+h>o)return null;const c=-a*ta.dot(t0);return c<0?null:this.at(c/o,r)}applyMatrix4(i){return this.origin.applyMatrix4(i),this.direction.transformDirection(i),this}equals(i){return i.origin.equals(this.origin)&&i.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class pt{constructor(){pt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(i,t,s,n,r,o,a,l,h,c,u,p,d,T,g,I){const v=this.elements;return v[0]=i,v[4]=t,v[8]=s,v[12]=n,v[1]=r,v[5]=o,v[9]=a,v[13]=l,v[2]=h,v[6]=c,v[10]=u,v[14]=p,v[3]=d,v[7]=T,v[11]=g,v[15]=I,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new pt().fromArray(this.elements)}copy(i){const t=this.elements,s=i.elements;return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],t[9]=s[9],t[10]=s[10],t[11]=s[11],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15],this}copyPosition(i){const t=this.elements,s=i.elements;return t[12]=s[12],t[13]=s[13],t[14]=s[14],this}setFromMatrix3(i){const t=i.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(i,t,s){return i.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),s.setFromMatrixColumn(this,2),this}makeBasis(i,t,s){return this.set(i.x,t.x,s.x,0,i.y,t.y,s.y,0,i.z,t.z,s.z,0,0,0,0,1),this}extractRotation(i){const t=this.elements,s=i.elements,n=1/ah.setFromMatrixColumn(i,0).length(),r=1/ah.setFromMatrixColumn(i,1).length(),o=1/ah.setFromMatrixColumn(i,2).length();return t[0]=s[0]*n,t[1]=s[1]*n,t[2]=s[2]*n,t[3]=0,t[4]=s[4]*r,t[5]=s[5]*r,t[6]=s[6]*r,t[7]=0,t[8]=s[8]*o,t[9]=s[9]*o,t[10]=s[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(i){const t=this.elements,s=i.x,n=i.y,r=i.z,o=Math.cos(s),a=Math.sin(s),l=Math.cos(n),h=Math.sin(n),c=Math.cos(r),u=Math.sin(r);if(i.order==="XYZ"){const p=o*c,d=o*u,T=a*c,g=a*u;t[0]=l*c,t[4]=-l*u,t[8]=h,t[1]=d+T*h,t[5]=p-g*h,t[9]=-a*l,t[2]=g-p*h,t[6]=T+d*h,t[10]=o*l}else if(i.order==="YXZ"){const p=l*c,d=l*u,T=h*c,g=h*u;t[0]=p+g*a,t[4]=T*a-d,t[8]=o*h,t[1]=o*u,t[5]=o*c,t[9]=-a,t[2]=d*a-T,t[6]=g+p*a,t[10]=o*l}else if(i.order==="ZXY"){const p=l*c,d=l*u,T=h*c,g=h*u;t[0]=p-g*a,t[4]=-o*u,t[8]=T+d*a,t[1]=d+T*a,t[5]=o*c,t[9]=g-p*a,t[2]=-o*h,t[6]=a,t[10]=o*l}else if(i.order==="ZYX"){const p=o*c,d=o*u,T=a*c,g=a*u;t[0]=l*c,t[4]=T*h-d,t[8]=p*h+g,t[1]=l*u,t[5]=g*h+p,t[9]=d*h-T,t[2]=-h,t[6]=a*l,t[10]=o*l}else if(i.order==="YZX"){const p=o*l,d=o*h,T=a*l,g=a*h;t[0]=l*c,t[4]=g-p*u,t[8]=T*u+d,t[1]=u,t[5]=o*c,t[9]=-a*c,t[2]=-h*c,t[6]=d*u+T,t[10]=p-g*u}else if(i.order==="XZY"){const p=o*l,d=o*h,T=a*l,g=a*h;t[0]=l*c,t[4]=-u,t[8]=h*c,t[1]=p*u+g,t[5]=o*c,t[9]=d*u-T,t[2]=T*u-d,t[6]=a*c,t[10]=g*u+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(i){return this.compose(QO,i,qO)}lookAt(i,t,s){const n=this.elements;return Xn.subVectors(i,t),Xn.lengthSq()===0&&(Xn.z=1),Xn.normalize(),ia.crossVectors(s,Xn),ia.lengthSq()===0&&(Math.abs(s.z)===1?Xn.x+=1e-4:Xn.z+=1e-4,Xn.normalize(),ia.crossVectors(s,Xn)),ia.normalize(),Jp.crossVectors(Xn,ia),n[0]=ia.x,n[4]=Jp.x,n[8]=Xn.x,n[1]=ia.y,n[5]=Jp.y,n[9]=Xn.y,n[2]=ia.z,n[6]=Jp.z,n[10]=Xn.z,this}multiply(i){return this.multiplyMatrices(this,i)}premultiply(i){return this.multiplyMatrices(i,this)}multiplyMatrices(i,t){const s=i.elements,n=t.elements,r=this.elements,o=s[0],a=s[4],l=s[8],h=s[12],c=s[1],u=s[5],p=s[9],d=s[13],T=s[2],g=s[6],I=s[10],v=s[14],C=s[3],N=s[7],F=s[11],P=s[15],w=n[0],O=n[4],X=n[8],K=n[12],ee=n[1],ce=n[5],me=n[9],ae=n[13],oe=n[2],Se=n[6],Pe=n[10],xe=n[14],Re=n[3],fe=n[7],be=n[11],Be=n[15];return r[0]=o*w+a*ee+l*oe+h*Re,r[4]=o*O+a*ce+l*Se+h*fe,r[8]=o*X+a*me+l*Pe+h*be,r[12]=o*K+a*ae+l*xe+h*Be,r[1]=c*w+u*ee+p*oe+d*Re,r[5]=c*O+u*ce+p*Se+d*fe,r[9]=c*X+u*me+p*Pe+d*be,r[13]=c*K+u*ae+p*xe+d*Be,r[2]=T*w+g*ee+I*oe+v*Re,r[6]=T*O+g*ce+I*Se+v*fe,r[10]=T*X+g*me+I*Pe+v*be,r[14]=T*K+g*ae+I*xe+v*Be,r[3]=C*w+N*ee+F*oe+P*Re,r[7]=C*O+N*ce+F*Se+P*fe,r[11]=C*X+N*me+F*Pe+P*be,r[15]=C*K+N*ae+F*xe+P*Be,this}multiplyScalar(i){const t=this.elements;return t[0]*=i,t[4]*=i,t[8]*=i,t[12]*=i,t[1]*=i,t[5]*=i,t[9]*=i,t[13]*=i,t[2]*=i,t[6]*=i,t[10]*=i,t[14]*=i,t[3]*=i,t[7]*=i,t[11]*=i,t[15]*=i,this}determinant(){const i=this.elements,t=i[0],s=i[4],n=i[8],r=i[12],o=i[1],a=i[5],l=i[9],h=i[13],c=i[2],u=i[6],p=i[10],d=i[14],T=i[3],g=i[7],I=i[11],v=i[15];return T*(+r*l*u-n*h*u-r*a*p+s*h*p+n*a*d-s*l*d)+g*(+t*l*d-t*h*p+r*o*p-n*o*d+n*h*c-r*l*c)+I*(+t*h*u-t*a*d-r*o*u+s*o*d+r*a*c-s*h*c)+v*(-n*a*c-t*l*u+t*a*p+n*o*u-s*o*p+s*l*c)}transpose(){const i=this.elements;let t;return t=i[1],i[1]=i[4],i[4]=t,t=i[2],i[2]=i[8],i[8]=t,t=i[6],i[6]=i[9],i[9]=t,t=i[3],i[3]=i[12],i[12]=t,t=i[7],i[7]=i[13],i[13]=t,t=i[11],i[11]=i[14],i[14]=t,this}setPosition(i,t,s){const n=this.elements;return i.isVector3?(n[12]=i.x,n[13]=i.y,n[14]=i.z):(n[12]=i,n[13]=t,n[14]=s),this}invert(){const i=this.elements,t=i[0],s=i[1],n=i[2],r=i[3],o=i[4],a=i[5],l=i[6],h=i[7],c=i[8],u=i[9],p=i[10],d=i[11],T=i[12],g=i[13],I=i[14],v=i[15],C=u*I*h-g*p*h+g*l*d-a*I*d-u*l*v+a*p*v,N=T*p*h-c*I*h-T*l*d+o*I*d+c*l*v-o*p*v,F=c*g*h-T*u*h+T*a*d-o*g*d-c*a*v+o*u*v,P=T*u*l-c*g*l-T*a*p+o*g*p+c*a*I-o*u*I,w=t*C+s*N+n*F+r*P;if(w===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const O=1/w;return i[0]=C*O,i[1]=(g*p*r-u*I*r-g*n*d+s*I*d+u*n*v-s*p*v)*O,i[2]=(a*I*r-g*l*r+g*n*h-s*I*h-a*n*v+s*l*v)*O,i[3]=(u*l*r-a*p*r-u*n*h+s*p*h+a*n*d-s*l*d)*O,i[4]=N*O,i[5]=(c*I*r-T*p*r+T*n*d-t*I*d-c*n*v+t*p*v)*O,i[6]=(T*l*r-o*I*r-T*n*h+t*I*h+o*n*v-t*l*v)*O,i[7]=(o*p*r-c*l*r+c*n*h-t*p*h-o*n*d+t*l*d)*O,i[8]=F*O,i[9]=(T*u*r-c*g*r-T*s*d+t*g*d+c*s*v-t*u*v)*O,i[10]=(o*g*r-T*a*r+T*s*h-t*g*h-o*s*v+t*a*v)*O,i[11]=(c*a*r-o*u*r-c*s*h+t*u*h+o*s*d-t*a*d)*O,i[12]=P*O,i[13]=(c*g*n-T*u*n+T*s*p-t*g*p-c*s*I+t*u*I)*O,i[14]=(T*a*n-o*g*n-T*s*l+t*g*l+o*s*I-t*a*I)*O,i[15]=(o*u*n-c*a*n+c*s*l-t*u*l-o*s*p+t*a*p)*O,this}scale(i){const t=this.elements,s=i.x,n=i.y,r=i.z;return t[0]*=s,t[4]*=n,t[8]*=r,t[1]*=s,t[5]*=n,t[9]*=r,t[2]*=s,t[6]*=n,t[10]*=r,t[3]*=s,t[7]*=n,t[11]*=r,this}getMaxScaleOnAxis(){const i=this.elements,t=i[0]*i[0]+i[1]*i[1]+i[2]*i[2],s=i[4]*i[4]+i[5]*i[5]+i[6]*i[6],n=i[8]*i[8]+i[9]*i[9]+i[10]*i[10];return Math.sqrt(Math.max(t,s,n))}makeTranslation(i,t,s){return this.set(1,0,0,i,0,1,0,t,0,0,1,s,0,0,0,1),this}makeRotationX(i){const t=Math.cos(i),s=Math.sin(i);return this.set(1,0,0,0,0,t,-s,0,0,s,t,0,0,0,0,1),this}makeRotationY(i){const t=Math.cos(i),s=Math.sin(i);return this.set(t,0,s,0,0,1,0,0,-s,0,t,0,0,0,0,1),this}makeRotationZ(i){const t=Math.cos(i),s=Math.sin(i);return this.set(t,-s,0,0,s,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(i,t){const s=Math.cos(t),n=Math.sin(t),r=1-s,o=i.x,a=i.y,l=i.z,h=r*o,c=r*a;return this.set(h*o+s,h*a-n*l,h*l+n*a,0,h*a+n*l,c*a+s,c*l-n*o,0,h*l-n*a,c*l+n*o,r*l*l+s,0,0,0,0,1),this}makeScale(i,t,s){return this.set(i,0,0,0,0,t,0,0,0,0,s,0,0,0,0,1),this}makeShear(i,t,s,n,r,o){return this.set(1,s,r,0,i,1,o,0,t,n,1,0,0,0,0,1),this}compose(i,t,s){const n=this.elements,r=t._x,o=t._y,a=t._z,l=t._w,h=r+r,c=o+o,u=a+a,p=r*h,d=r*c,T=r*u,g=o*c,I=o*u,v=a*u,C=l*h,N=l*c,F=l*u,P=s.x,w=s.y,O=s.z;return n[0]=(1-(g+v))*P,n[1]=(d+F)*P,n[2]=(T-N)*P,n[3]=0,n[4]=(d-F)*w,n[5]=(1-(p+v))*w,n[6]=(I+C)*w,n[7]=0,n[8]=(T+N)*O,n[9]=(I-C)*O,n[10]=(1-(p+g))*O,n[11]=0,n[12]=i.x,n[13]=i.y,n[14]=i.z,n[15]=1,this}decompose(i,t,s){const n=this.elements;let r=ah.set(n[0],n[1],n[2]).length();const o=ah.set(n[4],n[5],n[6]).length(),a=ah.set(n[8],n[9],n[10]).length();this.determinant()<0&&(r=-r),i.x=n[12],i.y=n[13],i.z=n[14],hr.copy(this);const h=1/r,c=1/o,u=1/a;return hr.elements[0]*=h,hr.elements[1]*=h,hr.elements[2]*=h,hr.elements[4]*=c,hr.elements[5]*=c,hr.elements[6]*=c,hr.elements[8]*=u,hr.elements[9]*=u,hr.elements[10]*=u,t.setFromRotationMatrix(hr),s.x=r,s.y=o,s.z=a,this}makePerspective(i,t,s,n,r,o){const a=this.elements,l=2*r/(t-i),h=2*r/(s-n),c=(t+i)/(t-i),u=(s+n)/(s-n),p=-(o+r)/(o-r),d=-2*o*r/(o-r);return a[0]=l,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=h,a[9]=u,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=d,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(i,t,s,n,r,o){const a=this.elements,l=1/(t-i),h=1/(s-n),c=1/(o-r),u=(t+i)*l,p=(s+n)*h,d=(o+r)*c;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-u,a[1]=0,a[5]=2*h,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-d,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(i){const t=this.elements,s=i.elements;for(let n=0;n<16;n++)if(t[n]!==s[n])return!1;return!0}fromArray(i,t=0){for(let s=0;s<16;s++)this.elements[s]=i[s+t];return this}toArray(i=[],t=0){const s=this.elements;return i[t]=s[0],i[t+1]=s[1],i[t+2]=s[2],i[t+3]=s[3],i[t+4]=s[4],i[t+5]=s[5],i[t+6]=s[6],i[t+7]=s[7],i[t+8]=s[8],i[t+9]=s[9],i[t+10]=s[10],i[t+11]=s[11],i[t+12]=s[12],i[t+13]=s[13],i[t+14]=s[14],i[t+15]=s[15],i}}const ah=new H,hr=new pt,QO=new H(0,0,0),qO=new H(1,1,1),ia=new H,Jp=new H,Xn=new H,RT=new pt,NT=new bn;class ho{constructor(i=0,t=0,s=0,n=ho.DefaultOrder){this.isEuler=!0,this._x=i,this._y=t,this._z=s,this._order=n}get x(){return this._x}set x(i){this._x=i,this._onChangeCallback()}get y(){return this._y}set y(i){this._y=i,this._onChangeCallback()}get z(){return this._z}set z(i){this._z=i,this._onChangeCallback()}get order(){return this._order}set order(i){this._order=i,this._onChangeCallback()}set(i,t,s,n=this._order){return this._x=i,this._y=t,this._z=s,this._order=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(i){return this._x=i._x,this._y=i._y,this._z=i._z,this._order=i._order,this._onChangeCallback(),this}setFromRotationMatrix(i,t=this._order,s=!0){const n=i.elements,r=n[0],o=n[4],a=n[8],l=n[1],h=n[5],c=n[9],u=n[2],p=n[6],d=n[10];switch(t){case"XYZ":this._y=Math.asin(Us(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,d),this._z=Math.atan2(-o,r)):(this._x=Math.atan2(p,h),this._z=0);break;case"YXZ":this._x=Math.asin(-Us(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,d),this._z=Math.atan2(l,h)):(this._y=Math.atan2(-u,r),this._z=0);break;case"ZXY":this._x=Math.asin(Us(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-u,d),this._z=Math.atan2(-o,h)):(this._y=0,this._z=Math.atan2(l,r));break;case"ZYX":this._y=Math.asin(-Us(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(p,d),this._z=Math.atan2(l,r)):(this._x=0,this._z=Math.atan2(-o,h));break;case"YZX":this._z=Math.asin(Us(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,h),this._y=Math.atan2(-u,r)):(this._x=0,this._y=Math.atan2(a,d));break;case"XZY":this._z=Math.asin(-Us(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,h),this._y=Math.atan2(a,r)):(this._x=Math.atan2(-c,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,s===!0&&this._onChangeCallback(),this}setFromQuaternion(i,t,s){return RT.makeRotationFromQuaternion(i),this.setFromRotationMatrix(RT,t,s)}setFromVector3(i,t=this._order){return this.set(i.x,i.y,i.z,t)}reorder(i){return NT.setFromEuler(this),this.setFromQuaternion(NT,i)}equals(i){return i._x===this._x&&i._y===this._y&&i._z===this._z&&i._order===this._order}fromArray(i){return this._x=i[0],this._y=i[1],this._z=i[2],i[3]!==void 0&&(this._order=i[3]),this._onChangeCallback(),this}toArray(i=[],t=0){return i[t]=this._x,i[t+1]=this._y,i[t+2]=this._z,i[t+3]=this._order,i}_onChange(i){return this._onChangeCallback=i,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}ho.DefaultOrder="XYZ",ho.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class i0{constructor(){this.mask=1}set(i){this.mask=(1<<i|0)>>>0}enable(i){this.mask|=1<<i|0}enableAll(){this.mask=-1}toggle(i){this.mask^=1<<i|0}disable(i){this.mask&=~(1<<i|0)}disableAll(){this.mask=0}test(i){return(this.mask&i.mask)!==0}isEnabled(i){return(this.mask&(1<<i|0))!==0}}let $O=0;const FT=new H,lh=new bn,co=new pt,Qp=new H,Hc=new H,ez=new H,tz=new bn,PT=new H(1,0,0),wT=new H(0,1,0),XT=new H(0,0,1),iz={type:"added"},DT={type:"removed"};class _i extends qo{constructor(){super();this.isObject3D=!0,Object.defineProperty(this,"id",{value:$O++}),this.uuid=ro(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=_i.DefaultUp.clone();const i=new H,t=new ho,s=new bn,n=new H(1,1,1);function r(){s.setFromEuler(t,!1)}function o(){t.setFromQuaternion(s,void 0,!1)}t._onChange(r),s._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:i},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:s},scale:{configurable:!0,enumerable:!0,value:n},modelViewMatrix:{value:new pt},normalMatrix:{value:new nn}}),this.matrix=new pt,this.matrixWorld=new pt,this.matrixAutoUpdate=_i.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=_i.DefaultMatrixWorldAutoUpdate,this.layers=new i0,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(i){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(i),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(i){return this.quaternion.premultiply(i),this}setRotationFromAxisAngle(i,t){this.quaternion.setFromAxisAngle(i,t)}setRotationFromEuler(i){this.quaternion.setFromEuler(i,!0)}setRotationFromMatrix(i){this.quaternion.setFromRotationMatrix(i)}setRotationFromQuaternion(i){this.quaternion.copy(i)}rotateOnAxis(i,t){return lh.setFromAxisAngle(i,t),this.quaternion.multiply(lh),this}rotateOnWorldAxis(i,t){return lh.setFromAxisAngle(i,t),this.quaternion.premultiply(lh),this}rotateX(i){return this.rotateOnAxis(PT,i)}rotateY(i){return this.rotateOnAxis(wT,i)}rotateZ(i){return this.rotateOnAxis(XT,i)}translateOnAxis(i,t){return FT.copy(i).applyQuaternion(this.quaternion),this.position.add(FT.multiplyScalar(t)),this}translateX(i){return this.translateOnAxis(PT,i)}translateY(i){return this.translateOnAxis(wT,i)}translateZ(i){return this.translateOnAxis(XT,i)}localToWorld(i){return i.applyMatrix4(this.matrixWorld)}worldToLocal(i){return i.applyMatrix4(co.copy(this.matrixWorld).invert())}lookAt(i,t,s){i.isVector3?Qp.copy(i):Qp.set(i,t,s);const n=this.parent;this.updateWorldMatrix(!0,!1),Hc.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?co.lookAt(Hc,Qp,this.up):co.lookAt(Qp,Hc,this.up),this.quaternion.setFromRotationMatrix(co),n&&(co.extractRotation(n.matrixWorld),lh.setFromRotationMatrix(co),this.quaternion.premultiply(lh.invert()))}add(i){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return i===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",i),this):(i&&i.isObject3D?(i.parent!==null&&i.parent.remove(i),i.parent=this,this.children.push(i),i.dispatchEvent(iz)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",i),this)}remove(i){if(arguments.length>1){for(let s=0;s<arguments.length;s++)this.remove(arguments[s]);return this}const t=this.children.indexOf(i);return t!==-1&&(i.parent=null,this.children.splice(t,1),i.dispatchEvent(DT)),this}removeFromParent(){const i=this.parent;return i!==null&&i.remove(this),this}clear(){for(let i=0;i<this.children.length;i++){const t=this.children[i];t.parent=null,t.dispatchEvent(DT)}return this.children.length=0,this}attach(i){return this.updateWorldMatrix(!0,!1),co.copy(this.matrixWorld).invert(),i.parent!==null&&(i.parent.updateWorldMatrix(!0,!1),co.multiply(i.parent.matrixWorld)),i.applyMatrix4(co),this.add(i),i.updateWorldMatrix(!1,!0),this}getObjectById(i){return this.getObjectByProperty("id",i)}getObjectByName(i){return this.getObjectByProperty("name",i)}getObjectByProperty(i,t){if(this[i]===t)return this;for(let s=0,n=this.children.length;s<n;s++){const o=this.children[s].getObjectByProperty(i,t);if(o!==void 0)return o}}getWorldPosition(i){return this.updateWorldMatrix(!0,!1),i.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(i){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Hc,i,ez),i}getWorldScale(i){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Hc,tz,i),i}getWorldDirection(i){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return i.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(i){i(this);const t=this.children;for(let s=0,n=t.length;s<n;s++)t[s].traverse(i)}traverseVisible(i){if(this.visible===!1)return;i(this);const t=this.children;for(let s=0,n=t.length;s<n;s++)t[s].traverseVisible(i)}traverseAncestors(i){const t=this.parent;t!==null&&(i(t),t.traverseAncestors(i))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(i){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||i)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,i=!0);const t=this.children;for(let s=0,n=t.length;s<n;s++){const r=t[s];(r.matrixWorldAutoUpdate===!0||i===!0)&&r.updateMatrixWorld(i)}}updateWorldMatrix(i,t){const s=this.parent;if(i===!0&&s!==null&&s.matrixWorldAutoUpdate===!0&&s.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const n=this.children;for(let r=0,o=n.length;r<o;r++){const a=n[r];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(i){const t=i===void 0||typeof i=="string",s={};t&&(i={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},s.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const n={};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.castShadow===!0&&(n.castShadow=!0),this.receiveShadow===!0&&(n.receiveShadow=!0),this.visible===!1&&(n.visible=!1),this.frustumCulled===!1&&(n.frustumCulled=!1),this.renderOrder!==0&&(n.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(n.userData=this.userData),n.layers=this.layers.mask,n.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(n.matrixAutoUpdate=!1),this.isInstancedMesh&&(n.type="InstancedMesh",n.count=this.count,n.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(n.instanceColor=this.instanceColor.toJSON()));function r(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(i)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?n.background=this.background.toJSON():this.background.isTexture&&(n.background=this.background.toJSON(i).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(n.environment=this.environment.toJSON(i).uuid);else if(this.isMesh||this.isLine||this.isPoints){n.geometry=r(i.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let h=0,c=l.length;h<c;h++){const u=l[h];r(i.shapes,u)}else r(i.shapes,l)}}if(this.isSkinnedMesh&&(n.bindMode=this.bindMode,n.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(i.skeletons,this.skeleton),n.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,h=this.material.length;l<h;l++)a.push(r(i.materials,this.material[l]));n.material=a}else n.material=r(i.materials,this.material);if(this.children.length>0){n.children=[];for(let a=0;a<this.children.length;a++)n.children.push(this.children[a].toJSON(i).object)}if(this.animations.length>0){n.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];n.animations.push(r(i.animations,l))}}if(t){const a=o(i.geometries),l=o(i.materials),h=o(i.textures),c=o(i.images),u=o(i.shapes),p=o(i.skeletons),d=o(i.animations),T=o(i.nodes);a.length>0&&(s.geometries=a),l.length>0&&(s.materials=l),h.length>0&&(s.textures=h),c.length>0&&(s.images=c),u.length>0&&(s.shapes=u),p.length>0&&(s.skeletons=p),d.length>0&&(s.animations=d),T.length>0&&(s.nodes=T)}return s.object=n,s;function o(a){const l=[];for(const h in a){const c=a[h];delete c.metadata,l.push(c)}return l}}clone(i){return new this.constructor().copy(this,i)}copy(i,t=!0){if(this.name=i.name,this.up.copy(i.up),this.position.copy(i.position),this.rotation.order=i.rotation.order,this.quaternion.copy(i.quaternion),this.scale.copy(i.scale),this.matrix.copy(i.matrix),this.matrixWorld.copy(i.matrixWorld),this.matrixAutoUpdate=i.matrixAutoUpdate,this.matrixWorldNeedsUpdate=i.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=i.matrixWorldAutoUpdate,this.layers.mask=i.layers.mask,this.visible=i.visible,this.castShadow=i.castShadow,this.receiveShadow=i.receiveShadow,this.frustumCulled=i.frustumCulled,this.renderOrder=i.renderOrder,this.userData=JSON.parse(JSON.stringify(i.userData)),t===!0)for(let s=0;s<i.children.length;s++){const n=i.children[s];this.add(n.clone())}return this}}_i.DefaultUp=new H(0,1,0),_i.DefaultMatrixAutoUpdate=!0,_i.DefaultMatrixWorldAutoUpdate=!0;const cr=new H,uo=new H,s0=new H,po=new H,hh=new H,ch=new H,OT=new H,n0=new H,r0=new H,o0=new H;class Ln{constructor(i=new H,t=new H,s=new H){this.a=i,this.b=t,this.c=s}static getNormal(i,t,s,n){n.subVectors(s,t),cr.subVectors(i,t),n.cross(cr);const r=n.lengthSq();return r>0?n.multiplyScalar(1/Math.sqrt(r)):n.set(0,0,0)}static getBarycoord(i,t,s,n,r){cr.subVectors(n,t),uo.subVectors(s,t),s0.subVectors(i,t);const o=cr.dot(cr),a=cr.dot(uo),l=cr.dot(s0),h=uo.dot(uo),c=uo.dot(s0),u=o*h-a*a;if(u===0)return r.set(-2,-1,-1);const p=1/u,d=(h*l-a*c)*p,T=(o*c-a*l)*p;return r.set(1-d-T,T,d)}static containsPoint(i,t,s,n){return this.getBarycoord(i,t,s,n,po),po.x>=0&&po.y>=0&&po.x+po.y<=1}static getUV(i,t,s,n,r,o,a,l){return this.getBarycoord(i,t,s,n,po),l.set(0,0),l.addScaledVector(r,po.x),l.addScaledVector(o,po.y),l.addScaledVector(a,po.z),l}static isFrontFacing(i,t,s,n){return cr.subVectors(s,t),uo.subVectors(i,t),cr.cross(uo).dot(n)<0}set(i,t,s){return this.a.copy(i),this.b.copy(t),this.c.copy(s),this}setFromPointsAndIndices(i,t,s,n){return this.a.copy(i[t]),this.b.copy(i[s]),this.c.copy(i[n]),this}setFromAttributeAndIndices(i,t,s,n){return this.a.fromBufferAttribute(i,t),this.b.fromBufferAttribute(i,s),this.c.fromBufferAttribute(i,n),this}clone(){return new this.constructor().copy(this)}copy(i){return this.a.copy(i.a),this.b.copy(i.b),this.c.copy(i.c),this}getArea(){return cr.subVectors(this.c,this.b),uo.subVectors(this.a,this.b),cr.cross(uo).length()*.5}getMidpoint(i){return i.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(i){return Ln.getNormal(this.a,this.b,this.c,i)}getPlane(i){return i.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(i,t){return Ln.getBarycoord(i,this.a,this.b,this.c,t)}getUV(i,t,s,n,r){return Ln.getUV(i,this.a,this.b,this.c,t,s,n,r)}containsPoint(i){return Ln.containsPoint(i,this.a,this.b,this.c)}isFrontFacing(i){return Ln.isFrontFacing(this.a,this.b,this.c,i)}intersectsBox(i){return i.intersectsTriangle(this)}closestPointToPoint(i,t){const s=this.a,n=this.b,r=this.c;let o,a;hh.subVectors(n,s),ch.subVectors(r,s),n0.subVectors(i,s);const l=hh.dot(n0),h=ch.dot(n0);if(l<=0&&h<=0)return t.copy(s);r0.subVectors(i,n);const c=hh.dot(r0),u=ch.dot(r0);if(c>=0&&u<=c)return t.copy(n);const p=l*u-c*h;if(p<=0&&l>=0&&c<=0)return o=l/(l-c),t.copy(s).addScaledVector(hh,o);o0.subVectors(i,r);const d=hh.dot(o0),T=ch.dot(o0);if(T>=0&&d<=T)return t.copy(r);const g=d*h-l*T;if(g<=0&&h>=0&&T<=0)return a=h/(h-T),t.copy(s).addScaledVector(ch,a);const I=c*T-d*u;if(I<=0&&u-c>=0&&d-T>=0)return OT.subVectors(r,n),a=(u-c)/(u-c+(d-T)),t.copy(n).addScaledVector(OT,a);const v=1/(I+g+p);return o=g*v,a=p*v,t.copy(s).addScaledVector(hh,o).addScaledVector(ch,a)}equals(i){return i.a.equals(this.a)&&i.b.equals(this.b)&&i.c.equals(this.c)}}let sz=0;class mo extends qo{constructor(){super();this.isMaterial=!0,Object.defineProperty(this,"id",{value:sz++}),this.uuid=ro(),this.name="",this.type="Material",this.blending=Ql,this.side=Nr,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=_f,this.blendDst=Vf,this.blendEquation=ql,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Oc,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=wO,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Am,this.stencilZFail=Am,this.stencilZPass=Am,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(i){this._alphaTest>0!=i>0&&this.version++,this._alphaTest=i}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(i){if(i!==void 0)for(const t in i){const s=i[t];if(s===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const n=this[t];if(n===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}n&&n.isColor?n.set(s):n&&n.isVector3&&s&&s.isVector3?n.copy(s):this[t]=s}}toJSON(i){const t=i===void 0||typeof i=="string";t&&(i={textures:{},images:{}});const s={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.color&&this.color.isColor&&(s.color=this.color.getHex()),this.roughness!==void 0&&(s.roughness=this.roughness),this.metalness!==void 0&&(s.metalness=this.metalness),this.sheen!==void 0&&(s.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(s.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(s.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(s.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(s.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(s.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(s.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(s.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(s.shininess=this.shininess),this.clearcoat!==void 0&&(s.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(s.clearcoatMap=this.clearcoatMap.toJSON(i).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(s.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(i).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(s.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(i).uuid,s.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(s.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(s.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(s.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(s.iridescenceMap=this.iridescenceMap.toJSON(i).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(s.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(i).uuid),this.map&&this.map.isTexture&&(s.map=this.map.toJSON(i).uuid),this.matcap&&this.matcap.isTexture&&(s.matcap=this.matcap.toJSON(i).uuid),this.alphaMap&&this.alphaMap.isTexture&&(s.alphaMap=this.alphaMap.toJSON(i).uuid),this.lightMap&&this.lightMap.isTexture&&(s.lightMap=this.lightMap.toJSON(i).uuid,s.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(s.aoMap=this.aoMap.toJSON(i).uuid,s.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(s.bumpMap=this.bumpMap.toJSON(i).uuid,s.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(s.normalMap=this.normalMap.toJSON(i).uuid,s.normalMapType=this.normalMapType,s.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(s.displacementMap=this.displacementMap.toJSON(i).uuid,s.displacementScale=this.displacementScale,s.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(s.roughnessMap=this.roughnessMap.toJSON(i).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(s.metalnessMap=this.metalnessMap.toJSON(i).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(s.emissiveMap=this.emissiveMap.toJSON(i).uuid),this.specularMap&&this.specularMap.isTexture&&(s.specularMap=this.specularMap.toJSON(i).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(s.specularIntensityMap=this.specularIntensityMap.toJSON(i).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(s.specularColorMap=this.specularColorMap.toJSON(i).uuid),this.envMap&&this.envMap.isTexture&&(s.envMap=this.envMap.toJSON(i).uuid,this.combine!==void 0&&(s.combine=this.combine)),this.envMapIntensity!==void 0&&(s.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(s.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(s.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(s.gradientMap=this.gradientMap.toJSON(i).uuid),this.transmission!==void 0&&(s.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(s.transmissionMap=this.transmissionMap.toJSON(i).uuid),this.thickness!==void 0&&(s.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(s.thicknessMap=this.thicknessMap.toJSON(i).uuid),this.attenuationDistance!==void 0&&(s.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(s.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(s.size=this.size),this.shadowSide!==null&&(s.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(s.sizeAttenuation=this.sizeAttenuation),this.blending!==Ql&&(s.blending=this.blending),this.side!==Nr&&(s.side=this.side),this.vertexColors&&(s.vertexColors=!0),this.opacity<1&&(s.opacity=this.opacity),this.transparent===!0&&(s.transparent=this.transparent),s.depthFunc=this.depthFunc,s.depthTest=this.depthTest,s.depthWrite=this.depthWrite,s.colorWrite=this.colorWrite,s.stencilWrite=this.stencilWrite,s.stencilWriteMask=this.stencilWriteMask,s.stencilFunc=this.stencilFunc,s.stencilRef=this.stencilRef,s.stencilFuncMask=this.stencilFuncMask,s.stencilFail=this.stencilFail,s.stencilZFail=this.stencilZFail,s.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(s.rotation=this.rotation),this.polygonOffset===!0&&(s.polygonOffset=!0),this.polygonOffsetFactor!==0&&(s.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(s.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(s.linewidth=this.linewidth),this.dashSize!==void 0&&(s.dashSize=this.dashSize),this.gapSize!==void 0&&(s.gapSize=this.gapSize),this.scale!==void 0&&(s.scale=this.scale),this.dithering===!0&&(s.dithering=!0),this.alphaTest>0&&(s.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(s.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(s.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(s.wireframe=this.wireframe),this.wireframeLinewidth>1&&(s.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(s.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(s.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(s.flatShading=this.flatShading),this.visible===!1&&(s.visible=!1),this.toneMapped===!1&&(s.toneMapped=!1),this.fog===!1&&(s.fog=!1),JSON.stringify(this.userData)!=="{}"&&(s.userData=this.userData);function n(r){const o=[];for(const a in r){const l=r[a];delete l.metadata,o.push(l)}return o}if(t){const r=n(i.textures),o=n(i.images);r.length>0&&(s.textures=r),o.length>0&&(s.images=o)}return s}clone(){return new this.constructor().copy(this)}copy(i){this.name=i.name,this.blending=i.blending,this.side=i.side,this.vertexColors=i.vertexColors,this.opacity=i.opacity,this.transparent=i.transparent,this.blendSrc=i.blendSrc,this.blendDst=i.blendDst,this.blendEquation=i.blendEquation,this.blendSrcAlpha=i.blendSrcAlpha,this.blendDstAlpha=i.blendDstAlpha,this.blendEquationAlpha=i.blendEquationAlpha,this.depthFunc=i.depthFunc,this.depthTest=i.depthTest,this.depthWrite=i.depthWrite,this.stencilWriteMask=i.stencilWriteMask,this.stencilFunc=i.stencilFunc,this.stencilRef=i.stencilRef,this.stencilFuncMask=i.stencilFuncMask,this.stencilFail=i.stencilFail,this.stencilZFail=i.stencilZFail,this.stencilZPass=i.stencilZPass,this.stencilWrite=i.stencilWrite;const t=i.clippingPlanes;let s=null;if(t!==null){const n=t.length;s=new Array(n);for(let r=0;r!==n;++r)s[r]=t[r].clone()}return this.clippingPlanes=s,this.clipIntersection=i.clipIntersection,this.clipShadows=i.clipShadows,this.shadowSide=i.shadowSide,this.colorWrite=i.colorWrite,this.precision=i.precision,this.polygonOffset=i.polygonOffset,this.polygonOffsetFactor=i.polygonOffsetFactor,this.polygonOffsetUnits=i.polygonOffsetUnits,this.dithering=i.dithering,this.alphaTest=i.alphaTest,this.alphaToCoverage=i.alphaToCoverage,this.premultipliedAlpha=i.premultipliedAlpha,this.visible=i.visible,this.toneMapped=i.toneMapped,this.userData=JSON.parse(JSON.stringify(i.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(i){i===!0&&this.version++}}class Uc extends mo{constructor(i){super();this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ge(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Dp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(i)}copy(i){return super.copy(i),this.color.copy(i.color),this.map=i.map,this.lightMap=i.lightMap,this.lightMapIntensity=i.lightMapIntensity,this.aoMap=i.aoMap,this.aoMapIntensity=i.aoMapIntensity,this.specularMap=i.specularMap,this.alphaMap=i.alphaMap,this.envMap=i.envMap,this.combine=i.combine,this.reflectivity=i.reflectivity,this.refractionRatio=i.refractionRatio,this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this.wireframeLinecap=i.wireframeLinecap,this.wireframeLinejoin=i.wireframeLinejoin,this.fog=i.fog,this}}const cs=new H,qp=new ht;class Gt{constructor(i,t,s){if(Array.isArray(i))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=i,this.itemSize=t,this.count=i!==void 0?i.length/t:0,this.normalized=s===!0,this.usage=Km,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(i){i===!0&&this.version++}setUsage(i){return this.usage=i,this}copy(i){return this.name=i.name,this.array=new i.array.constructor(i.array),this.itemSize=i.itemSize,this.count=i.count,this.normalized=i.normalized,this.usage=i.usage,this}copyAt(i,t,s){i*=this.itemSize,s*=t.itemSize;for(let n=0,r=this.itemSize;n<r;n++)this.array[i+n]=t.array[s+n];return this}copyArray(i){return this.array.set(i),this}applyMatrix3(i){if(this.itemSize===2)for(let t=0,s=this.count;t<s;t++)qp.fromBufferAttribute(this,t),qp.applyMatrix3(i),this.setXY(t,qp.x,qp.y);else if(this.itemSize===3)for(let t=0,s=this.count;t<s;t++)cs.fromBufferAttribute(this,t),cs.applyMatrix3(i),this.setXYZ(t,cs.x,cs.y,cs.z);return this}applyMatrix4(i){for(let t=0,s=this.count;t<s;t++)cs.fromBufferAttribute(this,t),cs.applyMatrix4(i),this.setXYZ(t,cs.x,cs.y,cs.z);return this}applyNormalMatrix(i){for(let t=0,s=this.count;t<s;t++)cs.fromBufferAttribute(this,t),cs.applyNormalMatrix(i),this.setXYZ(t,cs.x,cs.y,cs.z);return this}transformDirection(i){for(let t=0,s=this.count;t<s;t++)cs.fromBufferAttribute(this,t),cs.transformDirection(i),this.setXYZ(t,cs.x,cs.y,cs.z);return this}set(i,t=0){return this.array.set(i,t),this}getX(i){let t=this.array[i*this.itemSize];return this.normalized&&(t=oo(t,this.array)),t}setX(i,t){return this.normalized&&(t=Yi(t,this.array)),this.array[i*this.itemSize]=t,this}getY(i){let t=this.array[i*this.itemSize+1];return this.normalized&&(t=oo(t,this.array)),t}setY(i,t){return this.normalized&&(t=Yi(t,this.array)),this.array[i*this.itemSize+1]=t,this}getZ(i){let t=this.array[i*this.itemSize+2];return this.normalized&&(t=oo(t,this.array)),t}setZ(i,t){return this.normalized&&(t=Yi(t,this.array)),this.array[i*this.itemSize+2]=t,this}getW(i){let t=this.array[i*this.itemSize+3];return this.normalized&&(t=oo(t,this.array)),t}setW(i,t){return this.normalized&&(t=Yi(t,this.array)),this.array[i*this.itemSize+3]=t,this}setXY(i,t,s){return i*=this.itemSize,this.normalized&&(t=Yi(t,this.array),s=Yi(s,this.array)),this.array[i+0]=t,this.array[i+1]=s,this}setXYZ(i,t,s,n){return i*=this.itemSize,this.normalized&&(t=Yi(t,this.array),s=Yi(s,this.array),n=Yi(n,this.array)),this.array[i+0]=t,this.array[i+1]=s,this.array[i+2]=n,this}setXYZW(i,t,s,n,r){return i*=this.itemSize,this.normalized&&(t=Yi(t,this.array),s=Yi(s,this.array),n=Yi(n,this.array),r=Yi(r,this.array)),this.array[i+0]=t,this.array[i+1]=s,this.array[i+2]=n,this.array[i+3]=r,this}onUpload(i){return this.onUploadCallback=i,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const i={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(i.name=this.name),this.usage!==Km&&(i.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(i.updateRange=this.updateRange),i}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class zT extends Gt{constructor(i,t,s){super(new Uint16Array(i),t,s)}}class WT extends Gt{constructor(i,t,s){super(new Uint32Array(i),t,s)}}class Vi extends Gt{constructor(i,t,s){super(new Float32Array(i),t,s)}}let nz=0;const Vn=new pt,a0=new _i,uh=new H,Dn=new Pi,_c=new Pi,Ls=new H;class Yt extends qo{constructor(){super();this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:nz++}),this.uuid=ro(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(i){return Array.isArray(i)?this.index=new(ST(i)?WT:zT)(i,1):this.index=i,this}getAttribute(i){return this.attributes[i]}setAttribute(i,t){return this.attributes[i]=t,this}deleteAttribute(i){return delete this.attributes[i],this}hasAttribute(i){return this.attributes[i]!==void 0}addGroup(i,t,s=0){this.groups.push({start:i,count:t,materialIndex:s})}clearGroups(){this.groups=[]}setDrawRange(i,t){this.drawRange.start=i,this.drawRange.count=t}applyMatrix4(i){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(i),t.needsUpdate=!0);const s=this.attributes.normal;if(s!==void 0){const r=new nn().getNormalMatrix(i);s.applyNormalMatrix(r),s.needsUpdate=!0}const n=this.attributes.tangent;return n!==void 0&&(n.transformDirection(i),n.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(i){return Vn.makeRotationFromQuaternion(i),this.applyMatrix4(Vn),this}rotateX(i){return Vn.makeRotationX(i),this.applyMatrix4(Vn),this}rotateY(i){return Vn.makeRotationY(i),this.applyMatrix4(Vn),this}rotateZ(i){return Vn.makeRotationZ(i),this.applyMatrix4(Vn),this}translate(i,t,s){return Vn.makeTranslation(i,t,s),this.applyMatrix4(Vn),this}scale(i,t,s){return Vn.makeScale(i,t,s),this.applyMatrix4(Vn),this}lookAt(i){return a0.lookAt(i),a0.updateMatrix(),this.applyMatrix4(a0.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(uh).negate(),this.translate(uh.x,uh.y,uh.z),this}setFromPoints(i){const t=[];for(let s=0,n=i.length;s<n;s++){const r=i[s];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new Vi(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Pi);const i=this.attributes.position,t=this.morphAttributes.position;if(i&&i.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new H(-1/0,-1/0,-1/0),new H(1/0,1/0,1/0));return}if(i!==void 0){if(this.boundingBox.setFromBufferAttribute(i),t)for(let s=0,n=t.length;s<n;s++){const r=t[s];Dn.setFromBufferAttribute(r),this.morphTargetsRelative?(Ls.addVectors(this.boundingBox.min,Dn.min),this.boundingBox.expandByPoint(Ls),Ls.addVectors(this.boundingBox.max,Dn.max),this.boundingBox.expandByPoint(Ls)):(this.boundingBox.expandByPoint(Dn.min),this.boundingBox.expandByPoint(Dn.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new In);const i=this.attributes.position,t=this.morphAttributes.position;if(i&&i.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new H,1/0);return}if(i){const s=this.boundingSphere.center;if(Dn.setFromBufferAttribute(i),t)for(let r=0,o=t.length;r<o;r++){const a=t[r];_c.setFromBufferAttribute(a),this.morphTargetsRelative?(Ls.addVectors(Dn.min,_c.min),Dn.expandByPoint(Ls),Ls.addVectors(Dn.max,_c.max),Dn.expandByPoint(Ls)):(Dn.expandByPoint(_c.min),Dn.expandByPoint(_c.max))}Dn.getCenter(s);let n=0;for(let r=0,o=i.count;r<o;r++)Ls.fromBufferAttribute(i,r),n=Math.max(n,s.distanceToSquared(Ls));if(t)for(let r=0,o=t.length;r<o;r++){const a=t[r],l=this.morphTargetsRelative;for(let h=0,c=a.count;h<c;h++)Ls.fromBufferAttribute(a,h),l&&(uh.fromBufferAttribute(i,h),Ls.add(uh)),n=Math.max(n,s.distanceToSquared(Ls))}this.boundingSphere.radius=Math.sqrt(n),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const i=this.index,t=this.attributes;if(i===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const s=i.array,n=t.position.array,r=t.normal.array,o=t.uv.array,a=n.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Gt(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,h=[],c=[];for(let ee=0;ee<a;ee++)h[ee]=new H,c[ee]=new H;const u=new H,p=new H,d=new H,T=new ht,g=new ht,I=new ht,v=new H,C=new H;function N(ee,ce,me){u.fromArray(n,ee*3),p.fromArray(n,ce*3),d.fromArray(n,me*3),T.fromArray(o,ee*2),g.fromArray(o,ce*2),I.fromArray(o,me*2),p.sub(u),d.sub(u),g.sub(T),I.sub(T);const ae=1/(g.x*I.y-I.x*g.y);!isFinite(ae)||(v.copy(p).multiplyScalar(I.y).addScaledVector(d,-g.y).multiplyScalar(ae),C.copy(d).multiplyScalar(g.x).addScaledVector(p,-I.x).multiplyScalar(ae),h[ee].add(v),h[ce].add(v),h[me].add(v),c[ee].add(C),c[ce].add(C),c[me].add(C))}let F=this.groups;F.length===0&&(F=[{start:0,count:s.length}]);for(let ee=0,ce=F.length;ee<ce;++ee){const me=F[ee],ae=me.start,oe=me.count;for(let Se=ae,Pe=ae+oe;Se<Pe;Se+=3)N(s[Se+0],s[Se+1],s[Se+2])}const P=new H,w=new H,O=new H,X=new H;function K(ee){O.fromArray(r,ee*3),X.copy(O);const ce=h[ee];P.copy(ce),P.sub(O.multiplyScalar(O.dot(ce))).normalize(),w.crossVectors(X,ce);const ae=w.dot(c[ee])<0?-1:1;l[ee*4]=P.x,l[ee*4+1]=P.y,l[ee*4+2]=P.z,l[ee*4+3]=ae}for(let ee=0,ce=F.length;ee<ce;++ee){const me=F[ee],ae=me.start,oe=me.count;for(let Se=ae,Pe=ae+oe;Se<Pe;Se+=3)K(s[Se+0]),K(s[Se+1]),K(s[Se+2])}}computeVertexNormals(){const i=this.index,t=this.getAttribute("position");if(t!==void 0){let s=this.getAttribute("normal");if(s===void 0)s=new Gt(new Float32Array(t.count*3),3),this.setAttribute("normal",s);else for(let p=0,d=s.count;p<d;p++)s.setXYZ(p,0,0,0);const n=new H,r=new H,o=new H,a=new H,l=new H,h=new H,c=new H,u=new H;if(i)for(let p=0,d=i.count;p<d;p+=3){const T=i.getX(p+0),g=i.getX(p+1),I=i.getX(p+2);n.fromBufferAttribute(t,T),r.fromBufferAttribute(t,g),o.fromBufferAttribute(t,I),c.subVectors(o,r),u.subVectors(n,r),c.cross(u),a.fromBufferAttribute(s,T),l.fromBufferAttribute(s,g),h.fromBufferAttribute(s,I),a.add(c),l.add(c),h.add(c),s.setXYZ(T,a.x,a.y,a.z),s.setXYZ(g,l.x,l.y,l.z),s.setXYZ(I,h.x,h.y,h.z)}else for(let p=0,d=t.count;p<d;p+=3)n.fromBufferAttribute(t,p+0),r.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),c.subVectors(o,r),u.subVectors(n,r),c.cross(u),s.setXYZ(p+0,c.x,c.y,c.z),s.setXYZ(p+1,c.x,c.y,c.z),s.setXYZ(p+2,c.x,c.y,c.z);this.normalizeNormals(),s.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const i=this.attributes.normal;for(let t=0,s=i.count;t<s;t++)Ls.fromBufferAttribute(i,t),Ls.normalize(),i.setXYZ(t,Ls.x,Ls.y,Ls.z)}toNonIndexed(){function i(a,l){const h=a.array,c=a.itemSize,u=a.normalized,p=new h.constructor(l.length*c);let d=0,T=0;for(let g=0,I=l.length;g<I;g++){a.isInterleavedBufferAttribute?d=l[g]*a.data.stride+a.offset:d=l[g]*c;for(let v=0;v<c;v++)p[T++]=h[d++]}return new Gt(p,c,u)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Yt,s=this.index.array,n=this.attributes;for(const a in n){const l=n[a],h=i(l,s);t.setAttribute(a,h)}const r=this.morphAttributes;for(const a in r){const l=[],h=r[a];for(let c=0,u=h.length;c<u;c++){const p=h[c],d=i(p,s);l.push(d)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const h=o[a];t.addGroup(h.start,h.count,h.materialIndex)}return t}toJSON(){const i={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),Object.keys(this.userData).length>0&&(i.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const h in l)l[h]!==void 0&&(i[h]=l[h]);return i}i.data={attributes:{}};const t=this.index;t!==null&&(i.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const s=this.attributes;for(const l in s){const h=s[l];i.data.attributes[l]=h.toJSON(i.data)}const n={};let r=!1;for(const l in this.morphAttributes){const h=this.morphAttributes[l],c=[];for(let u=0,p=h.length;u<p;u++){const d=h[u];c.push(d.toJSON(i.data))}c.length>0&&(n[l]=c,r=!0)}r&&(i.data.morphAttributes=n,i.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(i.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(i.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),i}clone(){return new this.constructor().copy(this)}copy(i){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=i.name;const s=i.index;s!==null&&this.setIndex(s.clone(t));const n=i.attributes;for(const h in n){const c=n[h];this.setAttribute(h,c.clone(t))}const r=i.morphAttributes;for(const h in r){const c=[],u=r[h];for(let p=0,d=u.length;p<d;p++)c.push(u[p].clone(t));this.morphAttributes[h]=c}this.morphTargetsRelative=i.morphTargetsRelative;const o=i.groups;for(let h=0,c=o.length;h<c;h++){const u=o[h];this.addGroup(u.start,u.count,u.materialIndex)}const a=i.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=i.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=i.drawRange.start,this.drawRange.count=i.drawRange.count,this.userData=i.userData,i.parameters!==void 0&&(this.parameters=Object.assign({},i.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const YT=new pt,ph=new Zc,l0=new In,sa=new H,na=new H,ra=new H,h0=new H,c0=new H,u0=new H,$p=new H,ed=new H,td=new H,id=new ht,sd=new ht,nd=new ht,p0=new H,rd=new H;class fi extends _i{constructor(i=new Yt,t=new Uc){super();this.isMesh=!0,this.type="Mesh",this.geometry=i,this.material=t,this.updateMorphTargets()}copy(i,t){return super.copy(i,t),i.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=i.morphTargetInfluences.slice()),i.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},i.morphTargetDictionary)),this.material=i.material,this.geometry=i.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,s=Object.keys(t);if(s.length>0){const n=t[s[0]];if(n!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=n.length;r<o;r++){const a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}raycast(i,t){const s=this.geometry,n=this.material,r=this.matrixWorld;if(n===void 0||(s.boundingSphere===null&&s.computeBoundingSphere(),l0.copy(s.boundingSphere),l0.applyMatrix4(r),i.ray.intersectsSphere(l0)===!1)||(YT.copy(r).invert(),ph.copy(i.ray).applyMatrix4(YT),s.boundingBox!==null&&ph.intersectsBox(s.boundingBox)===!1))return;let o;const a=s.index,l=s.attributes.position,h=s.morphAttributes.position,c=s.morphTargetsRelative,u=s.attributes.uv,p=s.attributes.uv2,d=s.groups,T=s.drawRange;if(a!==null)if(Array.isArray(n))for(let g=0,I=d.length;g<I;g++){const v=d[g],C=n[v.materialIndex],N=Math.max(v.start,T.start),F=Math.min(a.count,Math.min(v.start+v.count,T.start+T.count));for(let P=N,w=F;P<w;P+=3){const O=a.getX(P),X=a.getX(P+1),K=a.getX(P+2);o=od(this,C,i,ph,l,h,c,u,p,O,X,K),o&&(o.faceIndex=Math.floor(P/3),o.face.materialIndex=v.materialIndex,t.push(o))}}else{const g=Math.max(0,T.start),I=Math.min(a.count,T.start+T.count);for(let v=g,C=I;v<C;v+=3){const N=a.getX(v),F=a.getX(v+1),P=a.getX(v+2);o=od(this,n,i,ph,l,h,c,u,p,N,F,P),o&&(o.faceIndex=Math.floor(v/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(n))for(let g=0,I=d.length;g<I;g++){const v=d[g],C=n[v.materialIndex],N=Math.max(v.start,T.start),F=Math.min(l.count,Math.min(v.start+v.count,T.start+T.count));for(let P=N,w=F;P<w;P+=3){const O=P,X=P+1,K=P+2;o=od(this,C,i,ph,l,h,c,u,p,O,X,K),o&&(o.faceIndex=Math.floor(P/3),o.face.materialIndex=v.materialIndex,t.push(o))}}else{const g=Math.max(0,T.start),I=Math.min(l.count,T.start+T.count);for(let v=g,C=I;v<C;v+=3){const N=v,F=v+1,P=v+2;o=od(this,n,i,ph,l,h,c,u,p,N,F,P),o&&(o.faceIndex=Math.floor(v/3),t.push(o))}}}}function rz(e,i,t,s,n,r,o,a){let l;if(i.side===gn?l=s.intersectTriangle(o,r,n,!0,a):l=s.intersectTriangle(n,r,o,i.side!==ds,a),l===null)return null;rd.copy(a),rd.applyMatrix4(e.matrixWorld);const h=t.ray.origin.distanceTo(rd);return h<t.near||h>t.far?null:{distance:h,point:rd.clone(),object:e}}function od(e,i,t,s,n,r,o,a,l,h,c,u){sa.fromBufferAttribute(n,h),na.fromBufferAttribute(n,c),ra.fromBufferAttribute(n,u);const p=e.morphTargetInfluences;if(r&&p){$p.set(0,0,0),ed.set(0,0,0),td.set(0,0,0);for(let T=0,g=r.length;T<g;T++){const I=p[T],v=r[T];I!==0&&(h0.fromBufferAttribute(v,h),c0.fromBufferAttribute(v,c),u0.fromBufferAttribute(v,u),o?($p.addScaledVector(h0,I),ed.addScaledVector(c0,I),td.addScaledVector(u0,I)):($p.addScaledVector(h0.sub(sa),I),ed.addScaledVector(c0.sub(na),I),td.addScaledVector(u0.sub(ra),I)))}sa.add($p),na.add(ed),ra.add(td)}e.isSkinnedMesh&&(e.boneTransform(h,sa),e.boneTransform(c,na),e.boneTransform(u,ra));const d=rz(e,i,t,s,sa,na,ra,p0);if(d){a&&(id.fromBufferAttribute(a,h),sd.fromBufferAttribute(a,c),nd.fromBufferAttribute(a,u),d.uv=Ln.getUV(p0,sa,na,ra,id,sd,nd,new ht)),l&&(id.fromBufferAttribute(l,h),sd.fromBufferAttribute(l,c),nd.fromBufferAttribute(l,u),d.uv2=Ln.getUV(p0,sa,na,ra,id,sd,nd,new ht));const T={a:h,b:c,c:u,normal:new H,materialIndex:0};Ln.getNormal(sa,na,ra,T.normal),d.face=T}return d}class dh extends Yt{constructor(i=1,t=1,s=1,n=1,r=1,o=1){super();this.type="BoxGeometry",this.parameters={width:i,height:t,depth:s,widthSegments:n,heightSegments:r,depthSegments:o};const a=this;n=Math.floor(n),r=Math.floor(r),o=Math.floor(o);const l=[],h=[],c=[],u=[];let p=0,d=0;T("z","y","x",-1,-1,s,t,i,o,r,0),T("z","y","x",1,-1,s,t,-i,o,r,1),T("x","z","y",1,1,i,s,t,n,o,2),T("x","z","y",1,-1,i,s,-t,n,o,3),T("x","y","z",1,-1,i,t,s,n,r,4),T("x","y","z",-1,-1,i,t,-s,n,r,5),this.setIndex(l),this.setAttribute("position",new Vi(h,3)),this.setAttribute("normal",new Vi(c,3)),this.setAttribute("uv",new Vi(u,2));function T(g,I,v,C,N,F,P,w,O,X,K){const ee=F/O,ce=P/X,me=F/2,ae=P/2,oe=w/2,Se=O+1,Pe=X+1;let xe=0,Re=0;const fe=new H;for(let be=0;be<Pe;be++){const Be=be*ce-ae;for(let Xe=0;Xe<Se;Xe++){const $e=Xe*ee-me;fe[g]=$e*C,fe[I]=Be*N,fe[v]=oe,h.push(fe.x,fe.y,fe.z),fe[g]=0,fe[I]=0,fe[v]=w>0?1:-1,c.push(fe.x,fe.y,fe.z),u.push(Xe/O),u.push(1-be/X),xe+=1}}for(let be=0;be<X;be++)for(let Be=0;Be<O;Be++){const Xe=p+Be+Se*be,$e=p+Be+Se*(be+1),rt=p+(Be+1)+Se*(be+1),Ct=p+(Be+1)+Se*be;l.push(Xe,$e,Ct),l.push($e,rt,Ct),Re+=6}a.addGroup(d,Re,K),d+=Re,p+=xe}}static fromJSON(i){return new dh(i.width,i.height,i.depth,i.widthSegments,i.heightSegments,i.depthSegments)}}function mh(e){const i={};for(const t in e){i[t]={};for(const s in e[t]){const n=e[t][s];n&&(n.isColor||n.isMatrix3||n.isMatrix4||n.isVector2||n.isVector3||n.isVector4||n.isTexture||n.isQuaternion)?i[t][s]=n.clone():Array.isArray(n)?i[t][s]=n.slice():i[t][s]=n}}return i}function _s(e){const i={};for(let t=0;t<e.length;t++){const s=mh(e[t]);for(const n in s)i[n]=s[n]}return i}function oz(e){const i=[];for(let t=0;t<e.length;t++)i.push(e[t].clone());return i}const yh={clone:mh,merge:_s};var az=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,lz=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class fs extends mo{constructor(i){super();this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=az,this.fragmentShader=lz,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,i!==void 0&&this.setValues(i)}copy(i){return super.copy(i),this.fragmentShader=i.fragmentShader,this.vertexShader=i.vertexShader,this.uniforms=mh(i.uniforms),this.uniformsGroups=oz(i.uniformsGroups),this.defines=Object.assign({},i.defines),this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this.fog=i.fog,this.lights=i.lights,this.clipping=i.clipping,this.extensions=Object.assign({},i.extensions),this.glslVersion=i.glslVersion,this}toJSON(i){const t=super.toJSON(i);t.glslVersion=this.glslVersion,t.uniforms={};for(const n in this.uniforms){const o=this.uniforms[n].value;o&&o.isTexture?t.uniforms[n]={type:"t",value:o.toJSON(i).uuid}:o&&o.isColor?t.uniforms[n]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[n]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[n]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[n]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[n]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[n]={type:"m4",value:o.toArray()}:t.uniforms[n]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const s={};for(const n in this.extensions)this.extensions[n]===!0&&(s[n]=!0);return Object.keys(s).length>0&&(t.extensions=s),t}}class d0 extends _i{constructor(){super();this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new pt,this.projectionMatrix=new pt,this.projectionMatrixInverse=new pt}copy(i,t){return super.copy(i,t),this.matrixWorldInverse.copy(i.matrixWorldInverse),this.projectionMatrix.copy(i.projectionMatrix),this.projectionMatrixInverse.copy(i.projectionMatrixInverse),this}getWorldDirection(i){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return i.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(i){super.updateMatrixWorld(i),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(i,t){super.updateWorldMatrix(i,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class On extends d0{constructor(i=50,t=1,s=.1,n=2e3){super();this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=i,this.zoom=1,this.near=s,this.far=n,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(i,t){return super.copy(i,t),this.fov=i.fov,this.zoom=i.zoom,this.near=i.near,this.far=i.far,this.focus=i.focus,this.aspect=i.aspect,this.view=i.view===null?null:Object.assign({},i.view),this.filmGauge=i.filmGauge,this.filmOffset=i.filmOffset,this}setFocalLength(i){const t=.5*this.getFilmHeight()/i;this.fov=Yp*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const i=Math.tan(Yc*.5*this.fov);return .5*this.getFilmHeight()/i}getEffectiveFOV(){return Yp*2*Math.atan(Math.tan(Yc*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(i,t,s,n,r,o){this.aspect=i/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=i,this.view.fullHeight=t,this.view.offsetX=s,this.view.offsetY=n,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const i=this.near;let t=i*Math.tan(Yc*.5*this.fov)/this.zoom,s=2*t,n=this.aspect*s,r=-.5*n;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,h=o.fullHeight;r+=o.offsetX*n/l,t-=o.offsetY*s/h,n*=o.width/l,s*=o.height/h}const a=this.filmOffset;a!==0&&(r+=i*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+n,t,t-s,i,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(i){const t=super.toJSON(i);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const fh=90,Th=1;class hz extends _i{constructor(i,t,s){super();this.type="CubeCamera",this.renderTarget=s;const n=new On(fh,Th,i,t);n.layers=this.layers,n.up.set(0,-1,0),n.lookAt(new H(1,0,0)),this.add(n);const r=new On(fh,Th,i,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new H(-1,0,0)),this.add(r);const o=new On(fh,Th,i,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new H(0,1,0)),this.add(o);const a=new On(fh,Th,i,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new H(0,-1,0)),this.add(a);const l=new On(fh,Th,i,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new H(0,0,1)),this.add(l);const h=new On(fh,Th,i,t);h.layers=this.layers,h.up.set(0,-1,0),h.lookAt(new H(0,0,-1)),this.add(h)}update(i,t){this.parent===null&&this.updateMatrixWorld();const s=this.renderTarget,[n,r,o,a,l,h]=this.children,c=i.getRenderTarget(),u=i.toneMapping,p=i.xr.enabled;i.toneMapping=so,i.xr.enabled=!1;const d=s.texture.generateMipmaps;s.texture.generateMipmaps=!1,i.setRenderTarget(s,0),i.render(t,n),i.setRenderTarget(s,1),i.render(t,r),i.setRenderTarget(s,2),i.render(t,o),i.setRenderTarget(s,3),i.render(t,a),i.setRenderTarget(s,4),i.render(t,l),s.texture.generateMipmaps=d,i.setRenderTarget(s,5),i.render(t,h),i.setRenderTarget(c),i.toneMapping=u,i.xr.enabled=p,s.texture.needsPMREMUpdate=!0}}class kT extends ys{constructor(i,t,s,n,r,o,a,l,h,c){i=i!==void 0?i:[],t=t!==void 0?t:$l;super(i,t,s,n,r,o,a,l,h,c);this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(i){this.image=i}}class cz extends Pr{constructor(i,t={}){super(i,i,t);this.isWebGLCubeRenderTarget=!0;const s={width:i,height:i,depth:1},n=[s,s,s,s,s,s];this.texture=new kT(n,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Is}fromEquirectangularTexture(i,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const s={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},n=new dh(5,5,5),r=new fs({name:"CubemapFromEquirect",uniforms:mh(s.uniforms),vertexShader:s.vertexShader,fragmentShader:s.fragmentShader,side:gn,blending:Fr});r.uniforms.tEquirect.value=t;const o=new fi(n,r),a=t.minFilter;return t.minFilter===zc&&(t.minFilter=Is),new hz(1,10,this).update(i,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(i,t,s,n){const r=i.getRenderTarget();for(let o=0;o<6;o++)i.setRenderTarget(this,o),i.clear(t,s,n);i.setRenderTarget(r)}}const m0=new H,uz=new H,pz=new nn;class us{constructor(i=new H(1,0,0),t=0){this.isPlane=!0,this.normal=i,this.constant=t}set(i,t){return this.normal.copy(i),this.constant=t,this}setComponents(i,t,s,n){return this.normal.set(i,t,s),this.constant=n,this}setFromNormalAndCoplanarPoint(i,t){return this.normal.copy(i),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(i,t,s){const n=m0.subVectors(s,t).cross(uz.subVectors(i,t)).normalize();return this.setFromNormalAndCoplanarPoint(n,i),this}copy(i){return this.normal.copy(i.normal),this.constant=i.constant,this}normalize(){const i=1/this.normal.length();return this.normal.multiplyScalar(i),this.constant*=i,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(i){return this.normal.dot(i)+this.constant}distanceToSphere(i){return this.distanceToPoint(i.center)-i.radius}projectPoint(i,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(i)).add(i)}intersectLine(i,t){const s=i.delta(m0),n=this.normal.dot(s);if(n===0)return this.distanceToPoint(i.start)===0?t.copy(i.start):null;const r=-(i.start.dot(this.normal)+this.constant)/n;return r<0||r>1?null:t.copy(s).multiplyScalar(r).add(i.start)}intersectsLine(i){const t=this.distanceToPoint(i.start),s=this.distanceToPoint(i.end);return t<0&&s>0||s<0&&t>0}intersectsBox(i){return i.intersectsPlane(this)}intersectsSphere(i){return i.intersectsPlane(this)}coplanarPoint(i){return i.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(i,t){const s=t||pz.getNormalMatrix(i),n=this.coplanarPoint(m0).applyMatrix4(i),r=this.normal.applyMatrix3(s).normalize();return this.constant=-n.dot(r),this}translate(i){return this.constant-=i.dot(this.normal),this}equals(i){return i.normal.equals(this.normal)&&i.constant===this.constant}clone(){return new this.constructor().copy(this)}}const gh=new In,ad=new H;class Vc{constructor(i=new us,t=new us,s=new us,n=new us,r=new us,o=new us){this.planes=[i,t,s,n,r,o]}set(i,t,s,n,r,o){const a=this.planes;return a[0].copy(i),a[1].copy(t),a[2].copy(s),a[3].copy(n),a[4].copy(r),a[5].copy(o),this}copy(i){const t=this.planes;for(let s=0;s<6;s++)t[s].copy(i.planes[s]);return this}setFromProjectionMatrix(i){const t=this.planes,s=i.elements,n=s[0],r=s[1],o=s[2],a=s[3],l=s[4],h=s[5],c=s[6],u=s[7],p=s[8],d=s[9],T=s[10],g=s[11],I=s[12],v=s[13],C=s[14],N=s[15];return t[0].setComponents(a-n,u-l,g-p,N-I).normalize(),t[1].setComponents(a+n,u+l,g+p,N+I).normalize(),t[2].setComponents(a+r,u+h,g+d,N+v).normalize(),t[3].setComponents(a-r,u-h,g-d,N-v).normalize(),t[4].setComponents(a-o,u-c,g-T,N-C).normalize(),t[5].setComponents(a+o,u+c,g+T,N+C).normalize(),this}intersectsObject(i){const t=i.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),gh.copy(t.boundingSphere).applyMatrix4(i.matrixWorld),this.intersectsSphere(gh)}intersectsSprite(i){return gh.center.set(0,0,0),gh.radius=.7071067811865476,gh.applyMatrix4(i.matrixWorld),this.intersectsSphere(gh)}intersectsSphere(i){const t=this.planes,s=i.center,n=-i.radius;for(let r=0;r<6;r++)if(t[r].distanceToPoint(s)<n)return!1;return!0}intersectsBox(i){const t=this.planes;for(let s=0;s<6;s++){const n=t[s];if(ad.x=n.normal.x>0?i.max.x:i.min.x,ad.y=n.normal.y>0?i.max.y:i.min.y,ad.z=n.normal.z>0?i.max.z:i.min.z,n.distanceToPoint(ad)<0)return!1}return!0}containsPoint(i){const t=this.planes;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function AT(){let e=null,i=!1,t=null,s=null;function n(r,o){t(r,o),s=e.requestAnimationFrame(n)}return{start:function(){i!==!0&&t!==null&&(s=e.requestAnimationFrame(n),i=!0)},stop:function(){e.cancelAnimationFrame(s),i=!1},setAnimationLoop:function(r){t=r},setContext:function(r){e=r}}}function dz(e,i){const t=i.isWebGL2,s=new WeakMap;function n(h,c){const u=h.array,p=h.usage,d=e.createBuffer();e.bindBuffer(c,d),e.bufferData(c,u,p),h.onUploadCallback();let T;if(u instanceof Float32Array)T=5126;else if(u instanceof Uint16Array)if(h.isFloat16BufferAttribute)if(t)T=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else T=5123;else if(u instanceof Int16Array)T=5122;else if(u instanceof Uint32Array)T=5125;else if(u instanceof Int32Array)T=5124;else if(u instanceof Int8Array)T=5120;else if(u instanceof Uint8Array)T=5121;else if(u instanceof Uint8ClampedArray)T=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:d,type:T,bytesPerElement:u.BYTES_PER_ELEMENT,version:h.version}}function r(h,c,u){const p=c.array,d=c.updateRange;e.bindBuffer(u,h),d.count===-1?e.bufferSubData(u,0,p):(t?e.bufferSubData(u,d.offset*p.BYTES_PER_ELEMENT,p,d.offset,d.count):e.bufferSubData(u,d.offset*p.BYTES_PER_ELEMENT,p.subarray(d.offset,d.offset+d.count)),d.count=-1)}function o(h){return h.isInterleavedBufferAttribute&&(h=h.data),s.get(h)}function a(h){h.isInterleavedBufferAttribute&&(h=h.data);const c=s.get(h);c&&(e.deleteBuffer(c.buffer),s.delete(h))}function l(h,c){if(h.isGLBufferAttribute){const p=s.get(h);(!p||p.version<h.version)&&s.set(h,{buffer:h.buffer,type:h.type,bytesPerElement:h.elementSize,version:h.version});return}h.isInterleavedBufferAttribute&&(h=h.data);const u=s.get(h);u===void 0?s.set(h,n(h,c)):u.version<h.version&&(r(u.buffer,h,c),u.version=h.version)}return{get:o,remove:a,update:l}}class jc extends Yt{constructor(i=1,t=1,s=1,n=1){super();this.type="PlaneGeometry",this.parameters={width:i,height:t,widthSegments:s,heightSegments:n};const r=i/2,o=t/2,a=Math.floor(s),l=Math.floor(n),h=a+1,c=l+1,u=i/a,p=t/l,d=[],T=[],g=[],I=[];for(let v=0;v<c;v++){const C=v*p-o;for(let N=0;N<h;N++){const F=N*u-r;T.push(F,-C,0),g.push(0,0,1),I.push(N/a),I.push(1-v/l)}}for(let v=0;v<l;v++)for(let C=0;C<a;C++){const N=C+h*v,F=C+h*(v+1),P=C+1+h*(v+1),w=C+1+h*v;d.push(N,F,w),d.push(F,P,w)}this.setIndex(d),this.setAttribute("position",new Vi(T,3)),this.setAttribute("normal",new Vi(g,3)),this.setAttribute("uv",new Vi(I,2))}static fromJSON(i){return new jc(i.width,i.height,i.widthSegments,i.heightSegments)}}var mz=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,yz=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,fz=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,Tz=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,gz=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,bz=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Iz="vec3 transformed = vec3( position );",Lz=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Sz=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,Mz=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,xz=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,vz=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,Gz=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Ez=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Cz=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Rz=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Nz=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Fz=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,Pz=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,wz=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,Xz=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Dz=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Oz=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,zz=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,Wz=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Yz=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,kz="gl_FragColor = linearToOutputTexel( gl_FragColor );",Az=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Kz=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Zz=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Hz=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Uz=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,_z=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Vz=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,jz=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Bz=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Jz=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Qz=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,qz=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,$z=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,eW=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,tW=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert
#define Material_LightProbeLOD( material )	(0)`,iW=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,sW=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,nW=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,rW=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,oW=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,aW=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,lW=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,hW=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,cW=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,uW=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,pW=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,dW=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,mW=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,yW=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,fW=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,TW=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,gW=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,bW=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,IW=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,LW=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,SW=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,MW=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,xW=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,vW=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,GW=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,EW=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,CW=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,RW=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,NW=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,FW=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,PW=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,wW=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,XW=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,DW=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,OW=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,zW=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,WW=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,YW=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,kW=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,AW=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,KW=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,ZW=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,HW=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,UW=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,_W=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,VW=`#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,jW=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,BW=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,JW=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,QW=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,qW=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,$W=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,eY=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tY=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,iY=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,sY=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,nY=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,rY=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,oY=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,aY=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,lY=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,hY=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,cY=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,uY=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const $t={alphamap_fragment:mz,alphamap_pars_fragment:yz,alphatest_fragment:fz,alphatest_pars_fragment:Tz,aomap_fragment:gz,aomap_pars_fragment:bz,begin_vertex:Iz,beginnormal_vertex:Lz,bsdfs:Sz,iridescence_fragment:Mz,bumpmap_pars_fragment:xz,clipping_planes_fragment:vz,clipping_planes_pars_fragment:Gz,clipping_planes_pars_vertex:Ez,clipping_planes_vertex:Cz,color_fragment:Rz,color_pars_fragment:Nz,color_pars_vertex:Fz,color_vertex:Pz,common:wz,cube_uv_reflection_fragment:Xz,defaultnormal_vertex:Dz,displacementmap_pars_vertex:Oz,displacementmap_vertex:zz,emissivemap_fragment:Wz,emissivemap_pars_fragment:Yz,encodings_fragment:kz,encodings_pars_fragment:Az,envmap_fragment:Kz,envmap_common_pars_fragment:Zz,envmap_pars_fragment:Hz,envmap_pars_vertex:Uz,envmap_physical_pars_fragment:sW,envmap_vertex:_z,fog_vertex:Vz,fog_pars_vertex:jz,fog_fragment:Bz,fog_pars_fragment:Jz,gradientmap_pars_fragment:Qz,lightmap_fragment:qz,lightmap_pars_fragment:$z,lights_lambert_fragment:eW,lights_lambert_pars_fragment:tW,lights_pars_begin:iW,lights_toon_fragment:nW,lights_toon_pars_fragment:rW,lights_phong_fragment:oW,lights_phong_pars_fragment:aW,lights_physical_fragment:lW,lights_physical_pars_fragment:hW,lights_fragment_begin:cW,lights_fragment_maps:uW,lights_fragment_end:pW,logdepthbuf_fragment:dW,logdepthbuf_pars_fragment:mW,logdepthbuf_pars_vertex:yW,logdepthbuf_vertex:fW,map_fragment:TW,map_pars_fragment:gW,map_particle_fragment:bW,map_particle_pars_fragment:IW,metalnessmap_fragment:LW,metalnessmap_pars_fragment:SW,morphcolor_vertex:MW,morphnormal_vertex:xW,morphtarget_pars_vertex:vW,morphtarget_vertex:GW,normal_fragment_begin:EW,normal_fragment_maps:CW,normal_pars_fragment:RW,normal_pars_vertex:NW,normal_vertex:FW,normalmap_pars_fragment:PW,clearcoat_normal_fragment_begin:wW,clearcoat_normal_fragment_maps:XW,clearcoat_pars_fragment:DW,iridescence_pars_fragment:OW,output_fragment:zW,packing:WW,premultiplied_alpha_fragment:YW,project_vertex:kW,dithering_fragment:AW,dithering_pars_fragment:KW,roughnessmap_fragment:ZW,roughnessmap_pars_fragment:HW,shadowmap_pars_fragment:UW,shadowmap_pars_vertex:_W,shadowmap_vertex:VW,shadowmask_pars_fragment:jW,skinbase_vertex:BW,skinning_pars_vertex:JW,skinning_vertex:QW,skinnormal_vertex:qW,specularmap_fragment:$W,specularmap_pars_fragment:eY,tonemapping_fragment:tY,tonemapping_pars_fragment:iY,transmission_fragment:sY,transmission_pars_fragment:nY,uv_pars_fragment:rY,uv_pars_vertex:oY,uv_vertex:aY,uv2_pars_fragment:lY,uv2_pars_vertex:hY,uv2_vertex:cY,worldpos_vertex:uY,background_vert:`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,background_frag:`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,cube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,cube_frag:`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,depth_vert:`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,depth_frag:`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,distanceRGBA_vert:`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,distanceRGBA_frag:`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,equirect_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,equirect_frag:`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,linedashed_vert:`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,linedashed_frag:`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,meshbasic_vert:`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,meshbasic_frag:`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshlambert_vert:`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshlambert_frag:`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshmatcap_vert:`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,meshmatcap_frag:`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshnormal_vert:`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,meshnormal_frag:`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,meshphong_vert:`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphong_frag:`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphysical_vert:`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,meshphysical_frag:`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshtoon_vert:`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshtoon_frag:`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,points_vert:`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,points_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,shadow_vert:`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,shadow_frag:`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,sprite_vert:`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,sprite_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`},je={common:{diffuse:{value:new ge(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new nn},uv2Transform:{value:new nn},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ht(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ge(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ge(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new nn}},sprite:{diffuse:{value:new ge(16777215)},opacity:{value:1},center:{value:new ht(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new nn}}},Ss={basic:{uniforms:_s([je.common,je.specularmap,je.envmap,je.aomap,je.lightmap,je.fog]),vertexShader:$t.meshbasic_vert,fragmentShader:$t.meshbasic_frag},lambert:{uniforms:_s([je.common,je.specularmap,je.envmap,je.aomap,je.lightmap,je.emissivemap,je.bumpmap,je.normalmap,je.displacementmap,je.fog,je.lights,{emissive:{value:new ge(0)}}]),vertexShader:$t.meshlambert_vert,fragmentShader:$t.meshlambert_frag},phong:{uniforms:_s([je.common,je.specularmap,je.envmap,je.aomap,je.lightmap,je.emissivemap,je.bumpmap,je.normalmap,je.displacementmap,je.fog,je.lights,{emissive:{value:new ge(0)},specular:{value:new ge(1118481)},shininess:{value:30}}]),vertexShader:$t.meshphong_vert,fragmentShader:$t.meshphong_frag},standard:{uniforms:_s([je.common,je.envmap,je.aomap,je.lightmap,je.emissivemap,je.bumpmap,je.normalmap,je.displacementmap,je.roughnessmap,je.metalnessmap,je.fog,je.lights,{emissive:{value:new ge(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:$t.meshphysical_vert,fragmentShader:$t.meshphysical_frag},toon:{uniforms:_s([je.common,je.aomap,je.lightmap,je.emissivemap,je.bumpmap,je.normalmap,je.displacementmap,je.gradientmap,je.fog,je.lights,{emissive:{value:new ge(0)}}]),vertexShader:$t.meshtoon_vert,fragmentShader:$t.meshtoon_frag},matcap:{uniforms:_s([je.common,je.bumpmap,je.normalmap,je.displacementmap,je.fog,{matcap:{value:null}}]),vertexShader:$t.meshmatcap_vert,fragmentShader:$t.meshmatcap_frag},points:{uniforms:_s([je.points,je.fog]),vertexShader:$t.points_vert,fragmentShader:$t.points_frag},dashed:{uniforms:_s([je.common,je.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:$t.linedashed_vert,fragmentShader:$t.linedashed_frag},depth:{uniforms:_s([je.common,je.displacementmap]),vertexShader:$t.depth_vert,fragmentShader:$t.depth_frag},normal:{uniforms:_s([je.common,je.bumpmap,je.normalmap,je.displacementmap,{opacity:{value:1}}]),vertexShader:$t.meshnormal_vert,fragmentShader:$t.meshnormal_frag},sprite:{uniforms:_s([je.sprite,je.fog]),vertexShader:$t.sprite_vert,fragmentShader:$t.sprite_frag},background:{uniforms:{uvTransform:{value:new nn},t2D:{value:null}},vertexShader:$t.background_vert,fragmentShader:$t.background_frag},cube:{uniforms:_s([je.envmap,{opacity:{value:1}}]),vertexShader:$t.cube_vert,fragmentShader:$t.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:$t.equirect_vert,fragmentShader:$t.equirect_frag},distanceRGBA:{uniforms:_s([je.common,je.displacementmap,{referencePosition:{value:new H},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:$t.distanceRGBA_vert,fragmentShader:$t.distanceRGBA_frag},shadow:{uniforms:_s([je.lights,je.fog,{color:{value:new ge(0)},opacity:{value:1}}]),vertexShader:$t.shadow_vert,fragmentShader:$t.shadow_frag}};Ss.physical={uniforms:_s([Ss.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new ht(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new ge(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new ht},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new ge(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new ge(1,1,1)},specularColorMap:{value:null}}]),vertexShader:$t.meshphysical_vert,fragmentShader:$t.meshphysical_frag};function pY(e,i,t,s,n,r){const o=new ge(0);let a=n===!0?0:1,l,h,c=null,u=0,p=null;function d(g,I){let v=!1,C=I.isScene===!0?I.background:null;C&&C.isTexture&&(C=i.get(C));const N=e.xr,F=N.getSession&&N.getSession();F&&F.environmentBlendMode==="additive"&&(C=null),C===null?T(o,a):C&&C.isColor&&(T(C,1),v=!0),(e.autoClear||v)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),C&&(C.isCubeTexture||C.mapping===Op)?(h===void 0&&(h=new fi(new dh(1,1,1),new fs({name:"BackgroundCubeMaterial",uniforms:mh(Ss.cube.uniforms),vertexShader:Ss.cube.vertexShader,fragmentShader:Ss.cube.fragmentShader,side:gn,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(P,w,O){this.matrixWorld.copyPosition(O.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),s.update(h)),h.material.uniforms.envMap.value=C,h.material.uniforms.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,(c!==C||u!==C.version||p!==e.toneMapping)&&(h.material.needsUpdate=!0,c=C,u=C.version,p=e.toneMapping),h.layers.enableAll(),g.unshift(h,h.geometry,h.material,0,0,null)):C&&C.isTexture&&(l===void 0&&(l=new fi(new jc(2,2),new fs({name:"BackgroundMaterial",uniforms:mh(Ss.background.uniforms),vertexShader:Ss.background.vertexShader,fragmentShader:Ss.background.fragmentShader,side:Nr,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),s.update(l)),l.material.uniforms.t2D.value=C,C.matrixAutoUpdate===!0&&C.updateMatrix(),l.material.uniforms.uvTransform.value.copy(C.matrix),(c!==C||u!==C.version||p!==e.toneMapping)&&(l.material.needsUpdate=!0,c=C,u=C.version,p=e.toneMapping),l.layers.enableAll(),g.unshift(l,l.geometry,l.material,0,0,null))}function T(g,I){t.buffers.color.setClear(g.r,g.g,g.b,I,r)}return{getClearColor:function(){return o},setClearColor:function(g,I=1){o.set(g),a=I,T(o,a)},getClearAlpha:function(){return a},setClearAlpha:function(g){a=g,T(o,a)},render:d}}function dY(e,i,t,s){const n=e.getParameter(34921),r=s.isWebGL2?null:i.get("OES_vertex_array_object"),o=s.isWebGL2||r!==null,a={},l=I(null);let h=l,c=!1;function u(oe,Se,Pe,xe,Re){let fe=!1;if(o){const be=g(xe,Pe,Se);h!==be&&(h=be,d(h.object)),fe=v(oe,xe,Pe,Re),fe&&C(oe,xe,Pe,Re)}else{const be=Se.wireframe===!0;(h.geometry!==xe.id||h.program!==Pe.id||h.wireframe!==be)&&(h.geometry=xe.id,h.program=Pe.id,h.wireframe=be,fe=!0)}Re!==null&&t.update(Re,34963),(fe||c)&&(c=!1,X(oe,Se,Pe,xe),Re!==null&&e.bindBuffer(34963,t.get(Re).buffer))}function p(){return s.isWebGL2?e.createVertexArray():r.createVertexArrayOES()}function d(oe){return s.isWebGL2?e.bindVertexArray(oe):r.bindVertexArrayOES(oe)}function T(oe){return s.isWebGL2?e.deleteVertexArray(oe):r.deleteVertexArrayOES(oe)}function g(oe,Se,Pe){const xe=Pe.wireframe===!0;let Re=a[oe.id];Re===void 0&&(Re={},a[oe.id]=Re);let fe=Re[Se.id];fe===void 0&&(fe={},Re[Se.id]=fe);let be=fe[xe];return be===void 0&&(be=I(p()),fe[xe]=be),be}function I(oe){const Se=[],Pe=[],xe=[];for(let Re=0;Re<n;Re++)Se[Re]=0,Pe[Re]=0,xe[Re]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Se,enabledAttributes:Pe,attributeDivisors:xe,object:oe,attributes:{},index:null}}function v(oe,Se,Pe,xe){const Re=h.attributes,fe=Se.attributes;let be=0;const Be=Pe.getAttributes();for(const Xe in Be)if(Be[Xe].location>=0){const rt=Re[Xe];let Ct=fe[Xe];if(Ct===void 0&&(Xe==="instanceMatrix"&&oe.instanceMatrix&&(Ct=oe.instanceMatrix),Xe==="instanceColor"&&oe.instanceColor&&(Ct=oe.instanceColor)),rt===void 0||rt.attribute!==Ct||Ct&&rt.data!==Ct.data)return!0;be++}return h.attributesNum!==be||h.index!==xe}function C(oe,Se,Pe,xe){const Re={},fe=Se.attributes;let be=0;const Be=Pe.getAttributes();for(const Xe in Be)if(Be[Xe].location>=0){let rt=fe[Xe];rt===void 0&&(Xe==="instanceMatrix"&&oe.instanceMatrix&&(rt=oe.instanceMatrix),Xe==="instanceColor"&&oe.instanceColor&&(rt=oe.instanceColor));const Ct={};Ct.attribute=rt,rt&&rt.data&&(Ct.data=rt.data),Re[Xe]=Ct,be++}h.attributes=Re,h.attributesNum=be,h.index=xe}function N(){const oe=h.newAttributes;for(let Se=0,Pe=oe.length;Se<Pe;Se++)oe[Se]=0}function F(oe){P(oe,0)}function P(oe,Se){const Pe=h.newAttributes,xe=h.enabledAttributes,Re=h.attributeDivisors;Pe[oe]=1,xe[oe]===0&&(e.enableVertexAttribArray(oe),xe[oe]=1),Re[oe]!==Se&&((s.isWebGL2?e:i.get("ANGLE_instanced_arrays"))[s.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](oe,Se),Re[oe]=Se)}function w(){const oe=h.newAttributes,Se=h.enabledAttributes;for(let Pe=0,xe=Se.length;Pe<xe;Pe++)Se[Pe]!==oe[Pe]&&(e.disableVertexAttribArray(Pe),Se[Pe]=0)}function O(oe,Se,Pe,xe,Re,fe){s.isWebGL2===!0&&(Pe===5124||Pe===5125)?e.vertexAttribIPointer(oe,Se,Pe,Re,fe):e.vertexAttribPointer(oe,Se,Pe,xe,Re,fe)}function X(oe,Se,Pe,xe){if(s.isWebGL2===!1&&(oe.isInstancedMesh||xe.isInstancedBufferGeometry)&&i.get("ANGLE_instanced_arrays")===null)return;N();const Re=xe.attributes,fe=Pe.getAttributes(),be=Se.defaultAttributeValues;for(const Be in fe){const Xe=fe[Be];if(Xe.location>=0){let $e=Re[Be];if($e===void 0&&(Be==="instanceMatrix"&&oe.instanceMatrix&&($e=oe.instanceMatrix),Be==="instanceColor"&&oe.instanceColor&&($e=oe.instanceColor)),$e!==void 0){const rt=$e.normalized,Ct=$e.itemSize,Me=t.get($e);if(Me===void 0)continue;const pi=Me.buffer,St=Me.type,Lt=Me.bytesPerElement;if($e.isInterleavedBufferAttribute){const lt=$e.data,xi=lt.stride,Mt=$e.offset;if(lt.isInstancedInterleavedBuffer){for(let et=0;et<Xe.locationSize;et++)P(Xe.location+et,lt.meshPerAttribute);oe.isInstancedMesh!==!0&&xe._maxInstanceCount===void 0&&(xe._maxInstanceCount=lt.meshPerAttribute*lt.count)}else for(let et=0;et<Xe.locationSize;et++)F(Xe.location+et);e.bindBuffer(34962,pi);for(let et=0;et<Xe.locationSize;et++)O(Xe.location+et,Ct/Xe.locationSize,St,rt,xi*Lt,(Mt+Ct/Xe.locationSize*et)*Lt)}else{if($e.isInstancedBufferAttribute){for(let lt=0;lt<Xe.locationSize;lt++)P(Xe.location+lt,$e.meshPerAttribute);oe.isInstancedMesh!==!0&&xe._maxInstanceCount===void 0&&(xe._maxInstanceCount=$e.meshPerAttribute*$e.count)}else for(let lt=0;lt<Xe.locationSize;lt++)F(Xe.location+lt);e.bindBuffer(34962,pi);for(let lt=0;lt<Xe.locationSize;lt++)O(Xe.location+lt,Ct/Xe.locationSize,St,rt,Ct*Lt,Ct/Xe.locationSize*lt*Lt)}}else if(be!==void 0){const rt=be[Be];if(rt!==void 0)switch(rt.length){case 2:e.vertexAttrib2fv(Xe.location,rt);break;case 3:e.vertexAttrib3fv(Xe.location,rt);break;case 4:e.vertexAttrib4fv(Xe.location,rt);break;default:e.vertexAttrib1fv(Xe.location,rt)}}}}w()}function K(){me();for(const oe in a){const Se=a[oe];for(const Pe in Se){const xe=Se[Pe];for(const Re in xe)T(xe[Re].object),delete xe[Re];delete Se[Pe]}delete a[oe]}}function ee(oe){if(a[oe.id]===void 0)return;const Se=a[oe.id];for(const Pe in Se){const xe=Se[Pe];for(const Re in xe)T(xe[Re].object),delete xe[Re];delete Se[Pe]}delete a[oe.id]}function ce(oe){for(const Se in a){const Pe=a[Se];if(Pe[oe.id]===void 0)continue;const xe=Pe[oe.id];for(const Re in xe)T(xe[Re].object),delete xe[Re];delete Pe[oe.id]}}function me(){ae(),c=!0,h!==l&&(h=l,d(h.object))}function ae(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:u,reset:me,resetDefaultState:ae,dispose:K,releaseStatesOfGeometry:ee,releaseStatesOfProgram:ce,initAttributes:N,enableAttribute:F,disableUnusedAttributes:w}}function mY(e,i,t,s){const n=s.isWebGL2;let r;function o(h){r=h}function a(h,c){e.drawArrays(r,h,c),t.update(c,r,1)}function l(h,c,u){if(u===0)return;let p,d;if(n)p=e,d="drawArraysInstanced";else if(p=i.get("ANGLE_instanced_arrays"),d="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[d](r,h,c,u),t.update(c,r,u)}this.setMode=o,this.render=a,this.renderInstances=l}function yY(e,i,t){let s;function n(){if(s!==void 0)return s;if(i.has("EXT_texture_filter_anisotropic")===!0){const O=i.get("EXT_texture_filter_anisotropic");s=e.getParameter(O.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else s=0;return s}function r(O){if(O==="highp"){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";O="mediump"}return O==="mediump"&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&e instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&e instanceof WebGL2ComputeRenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=r(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const h=o||i.has("WEBGL_draw_buffers"),c=t.logarithmicDepthBuffer===!0,u=e.getParameter(34930),p=e.getParameter(35660),d=e.getParameter(3379),T=e.getParameter(34076),g=e.getParameter(34921),I=e.getParameter(36347),v=e.getParameter(36348),C=e.getParameter(36349),N=p>0,F=o||i.has("OES_texture_float"),P=N&&F,w=o?e.getParameter(36183):0;return{isWebGL2:o,drawBuffers:h,getMaxAnisotropy:n,getMaxPrecision:r,precision:a,logarithmicDepthBuffer:c,maxTextures:u,maxVertexTextures:p,maxTextureSize:d,maxCubemapSize:T,maxAttributes:g,maxVertexUniforms:I,maxVaryings:v,maxFragmentUniforms:C,vertexTextures:N,floatFragmentTextures:F,floatVertexTextures:P,maxSamples:w}}function fY(e){const i=this;let t=null,s=0,n=!1,r=!1;const o=new us,a=new nn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(u,p,d){const T=u.length!==0||p||s!==0||n;return n=p,t=c(u,d,0),s=u.length,T},this.beginShadows=function(){r=!0,c(null)},this.endShadows=function(){r=!1,h()},this.setState=function(u,p,d){const T=u.clippingPlanes,g=u.clipIntersection,I=u.clipShadows,v=e.get(u);if(!n||T===null||T.length===0||r&&!I)r?c(null):h();else{const C=r?0:s,N=C*4;let F=v.clippingState||null;l.value=F,F=c(T,p,N,d);for(let P=0;P!==N;++P)F[P]=t[P];v.clippingState=F,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=C}};function h(){l.value!==t&&(l.value=t,l.needsUpdate=s>0),i.numPlanes=s,i.numIntersection=0}function c(u,p,d,T){const g=u!==null?u.length:0;let I=null;if(g!==0){if(I=l.value,T!==!0||I===null){const v=d+g*4,C=p.matrixWorldInverse;a.getNormalMatrix(C),(I===null||I.length<v)&&(I=new Float32Array(v));for(let N=0,F=d;N!==g;++N,F+=4)o.copy(u[N]).applyMatrix4(C,a),o.normal.toArray(I,F),I[F+3]=o.constant}l.value=I,l.needsUpdate=!0}return i.numPlanes=g,i.numIntersection=0,I}}function TY(e){let i=new WeakMap;function t(o,a){return a===Pm?o.mapping=$l:a===wm&&(o.mapping=eh),o}function s(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===Pm||a===wm)if(i.has(o)){const l=i.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const h=new cz(l.height/2);return h.fromEquirectangularTexture(e,o),i.set(o,h),o.addEventListener("dispose",n),t(h.texture,o.mapping)}else return null}}return o}function n(o){const a=o.target;a.removeEventListener("dispose",n);const l=i.get(a);l!==void 0&&(i.delete(a),l.dispose())}function r(){i=new WeakMap}return{get:s,dispose:r}}class Bc extends d0{constructor(i=-1,t=1,s=1,n=-1,r=.1,o=2e3){super();this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=i,this.right=t,this.top=s,this.bottom=n,this.near=r,this.far=o,this.updateProjectionMatrix()}copy(i,t){return super.copy(i,t),this.left=i.left,this.right=i.right,this.top=i.top,this.bottom=i.bottom,this.near=i.near,this.far=i.far,this.zoom=i.zoom,this.view=i.view===null?null:Object.assign({},i.view),this}setViewOffset(i,t,s,n,r,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=i,this.view.fullHeight=t,this.view.offsetX=s,this.view.offsetY=n,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const i=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),s=(this.right+this.left)/2,n=(this.top+this.bottom)/2;let r=s-i,o=s+i,a=n+t,l=n-t;if(this.view!==null&&this.view.enabled){const h=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=h*this.view.offsetX,o=r+h*this.view.width,a-=c*this.view.offsetY,l=a-c*this.view.height}this.projectionMatrix.makeOrthographic(r,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(i){const t=super.toJSON(i);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const bh=4,KT=[.125,.215,.35,.446,.526,.582],ol=20,y0=new Bc,ZT=new ge;let f0=null;const al=(1+Math.sqrt(5))/2,Ih=1/al,HT=[new H(1,1,1),new H(-1,1,1),new H(1,1,-1),new H(-1,1,-1),new H(0,al,Ih),new H(0,al,-Ih),new H(Ih,0,al),new H(-Ih,0,al),new H(al,Ih,0),new H(-al,Ih,0)];class UT{constructor(i){this._renderer=i,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(i,t=0,s=.1,n=100){f0=this._renderer.getRenderTarget(),this._setSize(256);const r=this._allocateTargets();return r.depthBuffer=!0,this._sceneToCubeUV(i,s,n,r),t>0&&this._blur(r,0,0,t),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(i,t=null){return this._fromTexture(i,t)}fromCubemap(i,t=null){return this._fromTexture(i,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=jT(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=VT(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(i){this._lodMax=Math.floor(Math.log2(i)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let i=0;i<this._lodPlanes.length;i++)this._lodPlanes[i].dispose()}_cleanup(i){this._renderer.setRenderTarget(f0),i.scissorTest=!1,ld(i,0,0,i.width,i.height)}_fromTexture(i,t){i.mapping===$l||i.mapping===eh?this._setSize(i.image.length===0?16:i.image[0].width||i.image[0].image.width):this._setSize(i.image.width/4),f0=this._renderer.getRenderTarget();const s=t||this._allocateTargets();return this._textureToCubeUV(i,s),this._applyPMREM(s),this._cleanup(s),s}_allocateTargets(){const i=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,s={magFilter:Is,minFilter:Is,generateMipmaps:!1,type:Wc,format:Xs,encoding:el,depthBuffer:!1},n=_T(i,t,s);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==i){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_T(i,t,s);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=gY(r)),this._blurMaterial=bY(r,i,t)}return n}_compileMaterial(i){const t=new fi(this._lodPlanes[0],i);this._renderer.compile(t,y0)}_sceneToCubeUV(i,t,s,n){const a=new On(90,1,t,s),l=[1,-1,1,1,1,1],h=[1,1,1,-1,-1,-1],c=this._renderer,u=c.autoClear,p=c.toneMapping;c.getClearColor(ZT),c.toneMapping=so,c.autoClear=!1;const d=new Uc({name:"PMREM.Background",side:gn,depthWrite:!1,depthTest:!1}),T=new fi(new dh,d);let g=!1;const I=i.background;I?I.isColor&&(d.color.copy(I),i.background=null,g=!0):(d.color.copy(ZT),g=!0);for(let v=0;v<6;v++){const C=v%3;C===0?(a.up.set(0,l[v],0),a.lookAt(h[v],0,0)):C===1?(a.up.set(0,0,l[v]),a.lookAt(0,h[v],0)):(a.up.set(0,l[v],0),a.lookAt(0,0,h[v]));const N=this._cubeSize;ld(n,C*N,v>2?N:0,N,N),c.setRenderTarget(n),g&&c.render(T,a),c.render(i,a)}T.geometry.dispose(),T.material.dispose(),c.toneMapping=p,c.autoClear=u,i.background=I}_textureToCubeUV(i,t){const s=this._renderer,n=i.mapping===$l||i.mapping===eh;n?(this._cubemapMaterial===null&&(this._cubemapMaterial=jT()),this._cubemapMaterial.uniforms.flipEnvMap.value=i.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=VT());const r=n?this._cubemapMaterial:this._equirectMaterial,o=new fi(this._lodPlanes[0],r),a=r.uniforms;a.envMap.value=i;const l=this._cubeSize;ld(t,0,0,3*l,2*l),s.setRenderTarget(t),s.render(o,y0)}_applyPMREM(i){const t=this._renderer,s=t.autoClear;t.autoClear=!1;for(let n=1;n<this._lodPlanes.length;n++){const r=Math.sqrt(this._sigmas[n]*this._sigmas[n]-this._sigmas[n-1]*this._sigmas[n-1]),o=HT[(n-1)%HT.length];this._blur(i,n-1,n,r,o)}t.autoClear=s}_blur(i,t,s,n,r){const o=this._pingPongRenderTarget;this._halfBlur(i,o,t,s,n,"latitudinal",r),this._halfBlur(o,i,s,s,n,"longitudinal",r)}_halfBlur(i,t,s,n,r,o,a){const l=this._renderer,h=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,u=new fi(this._lodPlanes[n],h),p=h.uniforms,d=this._sizeLods[s]-1,T=isFinite(r)?Math.PI/(2*d):2*Math.PI/(2*ol-1),g=r/T,I=isFinite(r)?1+Math.floor(c*g):ol;I>ol&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${I} samples when the maximum is set to ${ol}`);const v=[];let C=0;for(let O=0;O<ol;++O){const X=O/g,K=Math.exp(-X*X/2);v.push(K),O===0?C+=K:O<I&&(C+=2*K)}for(let O=0;O<v.length;O++)v[O]=v[O]/C;p.envMap.value=i.texture,p.samples.value=I,p.weights.value=v,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:N}=this;p.dTheta.value=T,p.mipInt.value=N-s;const F=this._sizeLods[n],P=3*F*(n>N-bh?n-N+bh:0),w=4*(this._cubeSize-F);ld(t,P,w,3*F,2*F),l.setRenderTarget(t),l.render(u,y0)}}function gY(e){const i=[],t=[],s=[];let n=e;const r=e-bh+1+KT.length;for(let o=0;o<r;o++){const a=Math.pow(2,n);t.push(a);let l=1/a;o>e-bh?l=KT[o-e+bh-1]:o===0&&(l=0),s.push(l);const h=1/(a-2),c=-h,u=1+h,p=[c,c,u,c,u,u,c,c,u,u,c,u],d=6,T=6,g=3,I=2,v=1,C=new Float32Array(g*T*d),N=new Float32Array(I*T*d),F=new Float32Array(v*T*d);for(let w=0;w<d;w++){const O=w%3*2/3-1,X=w>2?0:-1,K=[O,X,0,O+2/3,X,0,O+2/3,X+1,0,O,X,0,O+2/3,X+1,0,O,X+1,0];C.set(K,g*T*w),N.set(p,I*T*w);const ee=[w,w,w,w,w,w];F.set(ee,v*T*w)}const P=new Yt;P.setAttribute("position",new Gt(C,g)),P.setAttribute("uv",new Gt(N,I)),P.setAttribute("faceIndex",new Gt(F,v)),i.push(P),n>bh&&n--}return{lodPlanes:i,sizeLods:t,sigmas:s}}function _T(e,i,t){const s=new Pr(e,i,t);return s.texture.mapping=Op,s.texture.name="PMREM.cubeUv",s.scissorTest=!0,s}function ld(e,i,t,s,n){e.viewport.set(i,t,s,n),e.scissor.set(i,t,s,n)}function bY(e,i,t){const s=new Float32Array(ol),n=new H(0,1,0);return new fs({name:"SphericalGaussianBlur",defines:{n:ol,CUBEUV_TEXEL_WIDTH:1/i,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:s},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n}},vertexShader:T0(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Fr,depthTest:!1,depthWrite:!1})}function VT(){return new fs({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:T0(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Fr,depthTest:!1,depthWrite:!1})}function jT(){return new fs({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:T0(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Fr,depthTest:!1,depthWrite:!1})}function T0(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function IY(e){let i=new WeakMap,t=null;function s(a){if(a&&a.isTexture){const l=a.mapping,h=l===Pm||l===wm,c=l===$l||l===eh;if(h||c)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let u=i.get(a);return t===null&&(t=new UT(e)),u=h?t.fromEquirectangular(a,u):t.fromCubemap(a,u),i.set(a,u),u.texture}else{if(i.has(a))return i.get(a).texture;{const u=a.image;if(h&&u&&u.height>0||c&&u&&n(u)){t===null&&(t=new UT(e));const p=h?t.fromEquirectangular(a):t.fromCubemap(a);return i.set(a,p),a.addEventListener("dispose",r),p.texture}else return null}}}return a}function n(a){let l=0;const h=6;for(let c=0;c<h;c++)a[c]!==void 0&&l++;return l===h}function r(a){const l=a.target;l.removeEventListener("dispose",r);const h=i.get(l);h!==void 0&&(i.delete(l),h.dispose())}function o(){i=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:s,dispose:o}}function LY(e){const i={};function t(s){if(i[s]!==void 0)return i[s];let n;switch(s){case"WEBGL_depth_texture":n=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":n=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:n=e.getExtension(s)}return i[s]=n,n}return{has:function(s){return t(s)!==null},init:function(s){s.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(s){const n=t(s);return n===null&&console.warn("THREE.WebGLRenderer: "+s+" extension not supported."),n}}}function SY(e,i,t,s){const n={},r=new WeakMap;function o(u){const p=u.target;p.index!==null&&i.remove(p.index);for(const T in p.attributes)i.remove(p.attributes[T]);p.removeEventListener("dispose",o),delete n[p.id];const d=r.get(p);d&&(i.remove(d),r.delete(p)),s.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(u,p){return n[p.id]===!0||(p.addEventListener("dispose",o),n[p.id]=!0,t.memory.geometries++),p}function l(u){const p=u.attributes;for(const T in p)i.update(p[T],34962);const d=u.morphAttributes;for(const T in d){const g=d[T];for(let I=0,v=g.length;I<v;I++)i.update(g[I],34962)}}function h(u){const p=[],d=u.index,T=u.attributes.position;let g=0;if(d!==null){const C=d.array;g=d.version;for(let N=0,F=C.length;N<F;N+=3){const P=C[N+0],w=C[N+1],O=C[N+2];p.push(P,w,w,O,O,P)}}else{const C=T.array;g=T.version;for(let N=0,F=C.length/3-1;N<F;N+=3){const P=N+0,w=N+1,O=N+2;p.push(P,w,w,O,O,P)}}const I=new(ST(p)?WT:zT)(p,1);I.version=g;const v=r.get(u);v&&i.remove(v),r.set(u,I)}function c(u){const p=r.get(u);if(p){const d=u.index;d!==null&&p.version<d.version&&h(u)}else h(u);return r.get(u)}return{get:a,update:l,getWireframeAttribute:c}}function MY(e,i,t,s){const n=s.isWebGL2;let r;function o(p){r=p}let a,l;function h(p){a=p.type,l=p.bytesPerElement}function c(p,d){e.drawElements(r,d,a,p*l),t.update(d,r,1)}function u(p,d,T){if(T===0)return;let g,I;if(n)g=e,I="drawElementsInstanced";else if(g=i.get("ANGLE_instanced_arrays"),I="drawElementsInstancedANGLE",g===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}g[I](r,d,a,p*l,T),t.update(d,r,T)}this.setMode=o,this.setIndex=h,this.render=c,this.renderInstances=u}function xY(e){const i={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function s(r,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(r/3);break;case 1:t.lines+=a*(r/2);break;case 3:t.lines+=a*(r-1);break;case 2:t.lines+=a*r;break;case 0:t.points+=a*r;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function n(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:i,render:t,programs:null,autoReset:!0,reset:n,update:s}}function vY(e,i){return e[0]-i[0]}function GY(e,i){return Math.abs(i[1])-Math.abs(e[1])}function EY(e,i,t){const s={},n=new Float32Array(8),r=new WeakMap,o=new nt,a=[];for(let h=0;h<8;h++)a[h]=[h,0];function l(h,c,u,p){const d=h.morphTargetInfluences;if(i.isWebGL2===!0){const T=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,g=T!==void 0?T.length:0;let I=r.get(c);if(I===void 0||I.count!==g){let Se=function(){ae.dispose(),r.delete(c),c.removeEventListener("dispose",Se)};I!==void 0&&I.texture.dispose();const N=c.morphAttributes.position!==void 0,F=c.morphAttributes.normal!==void 0,P=c.morphAttributes.color!==void 0,w=c.morphAttributes.position||[],O=c.morphAttributes.normal||[],X=c.morphAttributes.color||[];let K=0;N===!0&&(K=1),F===!0&&(K=2),P===!0&&(K=3);let ee=c.attributes.position.count*K,ce=1;ee>i.maxTextureSize&&(ce=Math.ceil(ee/i.maxTextureSize),ee=i.maxTextureSize);const me=new Float32Array(ee*ce*4*g),ae=new GT(me,ee,ce,g);ae.type=Qo,ae.needsUpdate=!0;const oe=K*4;for(let Pe=0;Pe<g;Pe++){const xe=w[Pe],Re=O[Pe],fe=X[Pe],be=ee*ce*4*Pe;for(let Be=0;Be<xe.count;Be++){const Xe=Be*oe;N===!0&&(o.fromBufferAttribute(xe,Be),me[be+Xe+0]=o.x,me[be+Xe+1]=o.y,me[be+Xe+2]=o.z,me[be+Xe+3]=0),F===!0&&(o.fromBufferAttribute(Re,Be),me[be+Xe+4]=o.x,me[be+Xe+5]=o.y,me[be+Xe+6]=o.z,me[be+Xe+7]=0),P===!0&&(o.fromBufferAttribute(fe,Be),me[be+Xe+8]=o.x,me[be+Xe+9]=o.y,me[be+Xe+10]=o.z,me[be+Xe+11]=fe.itemSize===4?o.w:1)}}I={count:g,texture:ae,size:new ht(ee,ce)},r.set(c,I),c.addEventListener("dispose",Se)}let v=0;for(let N=0;N<d.length;N++)v+=d[N];const C=c.morphTargetsRelative?1:1-v;p.getUniforms().setValue(e,"morphTargetBaseInfluence",C),p.getUniforms().setValue(e,"morphTargetInfluences",d),p.getUniforms().setValue(e,"morphTargetsTexture",I.texture,t),p.getUniforms().setValue(e,"morphTargetsTextureSize",I.size)}else{const T=d===void 0?0:d.length;let g=s[c.id];if(g===void 0||g.length!==T){g=[];for(let F=0;F<T;F++)g[F]=[F,0];s[c.id]=g}for(let F=0;F<T;F++){const P=g[F];P[0]=F,P[1]=d[F]}g.sort(GY);for(let F=0;F<8;F++)F<T&&g[F][1]?(a[F][0]=g[F][0],a[F][1]=g[F][1]):(a[F][0]=Number.MAX_SAFE_INTEGER,a[F][1]=0);a.sort(vY);const I=c.morphAttributes.position,v=c.morphAttributes.normal;let C=0;for(let F=0;F<8;F++){const P=a[F],w=P[0],O=P[1];w!==Number.MAX_SAFE_INTEGER&&O?(I&&c.getAttribute("morphTarget"+F)!==I[w]&&c.setAttribute("morphTarget"+F,I[w]),v&&c.getAttribute("morphNormal"+F)!==v[w]&&c.setAttribute("morphNormal"+F,v[w]),n[F]=O,C+=O):(I&&c.hasAttribute("morphTarget"+F)===!0&&c.deleteAttribute("morphTarget"+F),v&&c.hasAttribute("morphNormal"+F)===!0&&c.deleteAttribute("morphNormal"+F),n[F]=0)}const N=c.morphTargetsRelative?1:1-C;p.getUniforms().setValue(e,"morphTargetBaseInfluence",N),p.getUniforms().setValue(e,"morphTargetInfluences",n)}}return{update:l}}function CY(e,i,t,s){let n=new WeakMap;function r(l){const h=s.render.frame,c=l.geometry,u=i.get(l,c);return n.get(u)!==h&&(i.update(u),n.set(u,h)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),u}function o(){n=new WeakMap}function a(l){const h=l.target;h.removeEventListener("dispose",a),t.remove(h.instanceMatrix),h.instanceColor!==null&&t.remove(h.instanceColor)}return{update:r,dispose:o}}const BT=new ys,JT=new GT,QT=new BO,qT=new kT,$T=[],eg=[],tg=new Float32Array(16),ig=new Float32Array(9),sg=new Float32Array(4);function Lh(e,i,t){const s=e[0];if(s<=0||s>0)return e;const n=i*t;let r=$T[n];if(r===void 0&&(r=new Float32Array(n),$T[n]=r),i!==0){s.toArray(r,0);for(let o=1,a=0;o!==i;++o)a+=t,e[o].toArray(r,a)}return r}function rn(e,i){if(e.length!==i.length)return!1;for(let t=0,s=e.length;t<s;t++)if(e[t]!==i[t])return!1;return!0}function on(e,i){for(let t=0,s=i.length;t<s;t++)e[t]=i[t]}function hd(e,i){let t=eg[i];t===void 0&&(t=new Int32Array(i),eg[i]=t);for(let s=0;s!==i;++s)t[s]=e.allocateTextureUnit();return t}function RY(e,i){const t=this.cache;t[0]!==i&&(e.uniform1f(this.addr,i),t[0]=i)}function NY(e,i){const t=this.cache;if(i.x!==void 0)(t[0]!==i.x||t[1]!==i.y)&&(e.uniform2f(this.addr,i.x,i.y),t[0]=i.x,t[1]=i.y);else{if(rn(t,i))return;e.uniform2fv(this.addr,i),on(t,i)}}function FY(e,i){const t=this.cache;if(i.x!==void 0)(t[0]!==i.x||t[1]!==i.y||t[2]!==i.z)&&(e.uniform3f(this.addr,i.x,i.y,i.z),t[0]=i.x,t[1]=i.y,t[2]=i.z);else if(i.r!==void 0)(t[0]!==i.r||t[1]!==i.g||t[2]!==i.b)&&(e.uniform3f(this.addr,i.r,i.g,i.b),t[0]=i.r,t[1]=i.g,t[2]=i.b);else{if(rn(t,i))return;e.uniform3fv(this.addr,i),on(t,i)}}function PY(e,i){const t=this.cache;if(i.x!==void 0)(t[0]!==i.x||t[1]!==i.y||t[2]!==i.z||t[3]!==i.w)&&(e.uniform4f(this.addr,i.x,i.y,i.z,i.w),t[0]=i.x,t[1]=i.y,t[2]=i.z,t[3]=i.w);else{if(rn(t,i))return;e.uniform4fv(this.addr,i),on(t,i)}}function wY(e,i){const t=this.cache,s=i.elements;if(s===void 0){if(rn(t,i))return;e.uniformMatrix2fv(this.addr,!1,i),on(t,i)}else{if(rn(t,s))return;sg.set(s),e.uniformMatrix2fv(this.addr,!1,sg),on(t,s)}}function XY(e,i){const t=this.cache,s=i.elements;if(s===void 0){if(rn(t,i))return;e.uniformMatrix3fv(this.addr,!1,i),on(t,i)}else{if(rn(t,s))return;ig.set(s),e.uniformMatrix3fv(this.addr,!1,ig),on(t,s)}}function DY(e,i){const t=this.cache,s=i.elements;if(s===void 0){if(rn(t,i))return;e.uniformMatrix4fv(this.addr,!1,i),on(t,i)}else{if(rn(t,s))return;tg.set(s),e.uniformMatrix4fv(this.addr,!1,tg),on(t,s)}}function OY(e,i){const t=this.cache;t[0]!==i&&(e.uniform1i(this.addr,i),t[0]=i)}function zY(e,i){const t=this.cache;rn(t,i)||(e.uniform2iv(this.addr,i),on(t,i))}function WY(e,i){const t=this.cache;rn(t,i)||(e.uniform3iv(this.addr,i),on(t,i))}function YY(e,i){const t=this.cache;rn(t,i)||(e.uniform4iv(this.addr,i),on(t,i))}function kY(e,i){const t=this.cache;t[0]!==i&&(e.uniform1ui(this.addr,i),t[0]=i)}function AY(e,i){const t=this.cache;rn(t,i)||(e.uniform2uiv(this.addr,i),on(t,i))}function KY(e,i){const t=this.cache;rn(t,i)||(e.uniform3uiv(this.addr,i),on(t,i))}function ZY(e,i){const t=this.cache;rn(t,i)||(e.uniform4uiv(this.addr,i),on(t,i))}function HY(e,i,t){const s=this.cache,n=t.allocateTextureUnit();s[0]!==n&&(e.uniform1i(this.addr,n),s[0]=n),t.setTexture2D(i||BT,n)}function UY(e,i,t){const s=this.cache,n=t.allocateTextureUnit();s[0]!==n&&(e.uniform1i(this.addr,n),s[0]=n),t.setTexture3D(i||QT,n)}function _Y(e,i,t){const s=this.cache,n=t.allocateTextureUnit();s[0]!==n&&(e.uniform1i(this.addr,n),s[0]=n),t.setTextureCube(i||qT,n)}function VY(e,i,t){const s=this.cache,n=t.allocateTextureUnit();s[0]!==n&&(e.uniform1i(this.addr,n),s[0]=n),t.setTexture2DArray(i||JT,n)}function jY(e){switch(e){case 5126:return RY;case 35664:return NY;case 35665:return FY;case 35666:return PY;case 35674:return wY;case 35675:return XY;case 35676:return DY;case 5124:case 35670:return OY;case 35667:case 35671:return zY;case 35668:case 35672:return WY;case 35669:case 35673:return YY;case 5125:return kY;case 36294:return AY;case 36295:return KY;case 36296:return ZY;case 35678:case 36198:case 36298:case 36306:case 35682:return HY;case 35679:case 36299:case 36307:return UY;case 35680:case 36300:case 36308:case 36293:return _Y;case 36289:case 36303:case 36311:case 36292:return VY}}function BY(e,i){e.uniform1fv(this.addr,i)}function JY(e,i){const t=Lh(i,this.size,2);e.uniform2fv(this.addr,t)}function QY(e,i){const t=Lh(i,this.size,3);e.uniform3fv(this.addr,t)}function qY(e,i){const t=Lh(i,this.size,4);e.uniform4fv(this.addr,t)}function $Y(e,i){const t=Lh(i,this.size,4);e.uniformMatrix2fv(this.addr,!1,t)}function ek(e,i){const t=Lh(i,this.size,9);e.uniformMatrix3fv(this.addr,!1,t)}function tk(e,i){const t=Lh(i,this.size,16);e.uniformMatrix4fv(this.addr,!1,t)}function ik(e,i){e.uniform1iv(this.addr,i)}function sk(e,i){e.uniform2iv(this.addr,i)}function nk(e,i){e.uniform3iv(this.addr,i)}function rk(e,i){e.uniform4iv(this.addr,i)}function ok(e,i){e.uniform1uiv(this.addr,i)}function ak(e,i){e.uniform2uiv(this.addr,i)}function lk(e,i){e.uniform3uiv(this.addr,i)}function hk(e,i){e.uniform4uiv(this.addr,i)}function ck(e,i,t){const s=i.length,n=hd(t,s);e.uniform1iv(this.addr,n);for(let r=0;r!==s;++r)t.setTexture2D(i[r]||BT,n[r])}function uk(e,i,t){const s=i.length,n=hd(t,s);e.uniform1iv(this.addr,n);for(let r=0;r!==s;++r)t.setTexture3D(i[r]||QT,n[r])}function pk(e,i,t){const s=i.length,n=hd(t,s);e.uniform1iv(this.addr,n);for(let r=0;r!==s;++r)t.setTextureCube(i[r]||qT,n[r])}function dk(e,i,t){const s=i.length,n=hd(t,s);e.uniform1iv(this.addr,n);for(let r=0;r!==s;++r)t.setTexture2DArray(i[r]||JT,n[r])}function mk(e){switch(e){case 5126:return BY;case 35664:return JY;case 35665:return QY;case 35666:return qY;case 35674:return $Y;case 35675:return ek;case 35676:return tk;case 5124:case 35670:return ik;case 35667:case 35671:return sk;case 35668:case 35672:return nk;case 35669:case 35673:return rk;case 5125:return ok;case 36294:return ak;case 36295:return lk;case 36296:return hk;case 35678:case 36198:case 36298:case 36306:case 35682:return ck;case 35679:case 36299:case 36307:return uk;case 35680:case 36300:case 36308:case 36293:return pk;case 36289:case 36303:case 36311:case 36292:return dk}}class yk{constructor(i,t,s){this.id=i,this.addr=s,this.cache=[],this.setValue=jY(t.type)}}class fk{constructor(i,t,s){this.id=i,this.addr=s,this.cache=[],this.size=t.size,this.setValue=mk(t.type)}}class Tk{constructor(i){this.id=i,this.seq=[],this.map={}}setValue(i,t,s){const n=this.seq;for(let r=0,o=n.length;r!==o;++r){const a=n[r];a.setValue(i,t[a.id],s)}}}const g0=/(\w+)(\])?(\[|\.)?/g;function ng(e,i){e.seq.push(i),e.map[i.id]=i}function gk(e,i,t){const s=e.name,n=s.length;for(g0.lastIndex=0;;){const r=g0.exec(s),o=g0.lastIndex;let a=r[1];const l=r[2]==="]",h=r[3];if(l&&(a=a|0),h===void 0||h==="["&&o+2===n){ng(t,h===void 0?new yk(a,e,i):new fk(a,e,i));break}else{let u=t.map[a];u===void 0&&(u=new Tk(a),ng(t,u)),t=u}}}class cd{constructor(i,t){this.seq=[],this.map={};const s=i.getProgramParameter(t,35718);for(let n=0;n<s;++n){const r=i.getActiveUniform(t,n),o=i.getUniformLocation(t,r.name);gk(r,o,this)}}setValue(i,t,s,n){const r=this.map[t];r!==void 0&&r.setValue(i,s,n)}setOptional(i,t,s){const n=t[s];n!==void 0&&this.setValue(i,s,n)}static upload(i,t,s,n){for(let r=0,o=t.length;r!==o;++r){const a=t[r],l=s[a.id];l.needsUpdate!==!1&&a.setValue(i,l.value,n)}}static seqWithValue(i,t){const s=[];for(let n=0,r=i.length;n!==r;++n){const o=i[n];o.id in t&&s.push(o)}return s}}function rg(e,i,t){const s=e.createShader(i);return e.shaderSource(s,t),e.compileShader(s),s}let bk=0;function Ik(e,i){const t=e.split(`
`),s=[],n=Math.max(i-6,0),r=Math.min(i+6,t.length);for(let o=n;o<r;o++){const a=o+1;s.push(`${a===i?">":" "} ${a}: ${t[o]}`)}return s.join(`
`)}function Lk(e){switch(e){case el:return["Linear","( value )"];case rs:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function og(e,i,t){const s=e.getShaderParameter(i,35713),n=e.getShaderInfoLog(i).trim();if(s&&n==="")return"";const r=/ERROR: 0:(\d+)/.exec(n);if(r){const o=parseInt(r[1]);return t.toUpperCase()+`

`+n+`

`+Ik(e.getShaderSource(i),o)}else return n}function Sk(e,i){const t=Lk(i);return"vec4 "+e+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function Mk(e,i){let t;switch(i){case hO:t="Linear";break;case cO:t="Reinhard";break;case uO:t="OptimizedCineon";break;case pO:t="ACESFilmic";break;case dO:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",i),t="Linear"}return"vec3 "+e+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function xk(e){return[e.extensionDerivatives||!!e.envMapCubeUVHeight||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||e.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Jc).join(`
`)}function vk(e){const i=[];for(const t in e){const s=e[t];s!==!1&&i.push("#define "+t+" "+s)}return i.join(`
`)}function Gk(e,i){const t={},s=e.getProgramParameter(i,35721);for(let n=0;n<s;n++){const r=e.getActiveAttrib(i,n),o=r.name;let a=1;r.type===35674&&(a=2),r.type===35675&&(a=3),r.type===35676&&(a=4),t[o]={type:r.type,location:e.getAttribLocation(i,o),locationSize:a}}return t}function Jc(e){return e!==""}function ag(e,i){const t=i.numSpotLightShadows+i.numSpotLightMaps-i.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,i.numDirLights).replace(/NUM_SPOT_LIGHTS/g,i.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,i.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,i.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,i.numPointLights).replace(/NUM_HEMI_LIGHTS/g,i.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,i.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,i.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,i.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,i.numPointLightShadows)}function lg(e,i){return e.replace(/NUM_CLIPPING_PLANES/g,i.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,i.numClippingPlanes-i.numClipIntersection)}const Ek=/^[ \t]*#include +<([\w\d./]+)>/gm;function b0(e){return e.replace(Ek,Ck)}function Ck(e,i){const t=$t[i];if(t===void 0)throw new Error("Can not resolve #include <"+i+">");return b0(t)}const Rk=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function hg(e){return e.replace(Rk,Nk)}function Nk(e,i,t,s){let n="";for(let r=parseInt(i);r<parseInt(t);r++)n+=s.replace(/\[\s*i\s*\]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return n}function cg(e){let i="precision "+e.precision+` float;
precision `+e.precision+" int;";return e.precision==="highp"?i+=`
#define HIGH_PRECISION`:e.precision==="mediump"?i+=`
#define MEDIUM_PRECISION`:e.precision==="lowp"&&(i+=`
#define LOW_PRECISION`),i}function Fk(e){let i="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===Af?i="SHADOWMAP_TYPE_PCF":e.shadowMapType===A3?i="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===Dc&&(i="SHADOWMAP_TYPE_VSM"),i}function Pk(e){let i="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case $l:case eh:i="ENVMAP_TYPE_CUBE";break;case Op:i="ENVMAP_TYPE_CUBE_UV";break}return i}function wk(e){let i="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case eh:i="ENVMAP_MODE_REFRACTION";break}return i}function Xk(e){let i="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case Dp:i="ENVMAP_BLENDING_MULTIPLY";break;case aO:i="ENVMAP_BLENDING_MIX";break;case lO:i="ENVMAP_BLENDING_ADD";break}return i}function Dk(e){const i=e.envMapCubeUVHeight;if(i===null)return null;const t=Math.log2(i)-2,s=1/i;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:s,maxMip:t}}function Ok(e,i,t,s){const n=e.getContext(),r=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=Fk(t),h=Pk(t),c=wk(t),u=Xk(t),p=Dk(t),d=t.isWebGL2?"":xk(t),T=vk(r),g=n.createProgram();let I,v,C=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(I=[T].filter(Jc).join(`
`),I.length>0&&(I+=`
`),v=[d,T].filter(Jc).join(`
`),v.length>0&&(v+=`
`)):(I=[cg(t),"#define SHADER_NAME "+t.shaderName,T,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Jc).join(`
`),v=[d,cg(t),"#define SHADER_NAME "+t.shaderName,T,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==so?"#define TONE_MAPPING":"",t.toneMapping!==so?$t.tonemapping_pars_fragment:"",t.toneMapping!==so?Mk("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",$t.encodings_pars_fragment,Sk("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Jc).join(`
`)),o=b0(o),o=ag(o,t),o=lg(o,t),a=b0(a),a=ag(a,t),a=lg(a,t),o=hg(o),a=hg(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(C=`#version 300 es
`,I=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+I,v=["#define varying in",t.glslVersion===IT?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===IT?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);const N=C+I+o,F=C+v+a,P=rg(n,35633,N),w=rg(n,35632,F);if(n.attachShader(g,P),n.attachShader(g,w),t.index0AttributeName!==void 0?n.bindAttribLocation(g,0,t.index0AttributeName):t.morphTargets===!0&&n.bindAttribLocation(g,0,"position"),n.linkProgram(g),e.debug.checkShaderErrors){const K=n.getProgramInfoLog(g).trim(),ee=n.getShaderInfoLog(P).trim(),ce=n.getShaderInfoLog(w).trim();let me=!0,ae=!0;if(n.getProgramParameter(g,35714)===!1){me=!1;const oe=og(n,P,"vertex"),Se=og(n,w,"fragment");console.error("THREE.WebGLProgram: Shader Error "+n.getError()+" - VALIDATE_STATUS "+n.getProgramParameter(g,35715)+`

Program Info Log: `+K+`
`+oe+`
`+Se)}else K!==""?console.warn("THREE.WebGLProgram: Program Info Log:",K):(ee===""||ce==="")&&(ae=!1);ae&&(this.diagnostics={runnable:me,programLog:K,vertexShader:{log:ee,prefix:I},fragmentShader:{log:ce,prefix:v}})}n.deleteShader(P),n.deleteShader(w);let O;this.getUniforms=function(){return O===void 0&&(O=new cd(n,g)),O};let X;return this.getAttributes=function(){return X===void 0&&(X=Gk(n,g)),X},this.destroy=function(){s.releaseStatesOfProgram(this),n.deleteProgram(g),this.program=void 0},this.name=t.shaderName,this.id=bk++,this.cacheKey=i,this.usedTimes=1,this.program=g,this.vertexShader=P,this.fragmentShader=w,this}let zk=0;class Wk{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(i){const t=i.vertexShader,s=i.fragmentShader,n=this._getShaderStage(t),r=this._getShaderStage(s),o=this._getShaderCacheForMaterial(i);return o.has(n)===!1&&(o.add(n),n.usedTimes++),o.has(r)===!1&&(o.add(r),r.usedTimes++),this}remove(i){const t=this.materialCache.get(i);for(const s of t)s.usedTimes--,s.usedTimes===0&&this.shaderCache.delete(s.code);return this.materialCache.delete(i),this}getVertexShaderID(i){return this._getShaderStage(i.vertexShader).id}getFragmentShaderID(i){return this._getShaderStage(i.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(i){const t=this.materialCache;let s=t.get(i);return s===void 0&&(s=new Set,t.set(i,s)),s}_getShaderStage(i){const t=this.shaderCache;let s=t.get(i);return s===void 0&&(s=new Yk(i),t.set(i,s)),s}}class Yk{constructor(i){this.id=zk++,this.code=i,this.usedTimes=0}}function kk(e,i,t,s,n,r,o){const a=new i0,l=new Wk,h=[],c=n.isWebGL2,u=n.logarithmicDepthBuffer,p=n.vertexTextures;let d=n.precision;const T={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(X,K,ee,ce,me){const ae=ce.fog,oe=me.geometry,Se=X.isMeshStandardMaterial?ce.environment:null,Pe=(X.isMeshStandardMaterial?t:i).get(X.envMap||Se),xe=!!Pe&&Pe.mapping===Op?Pe.image.height:null,Re=T[X.type];X.precision!==null&&(d=n.getMaxPrecision(X.precision),d!==X.precision&&console.warn("THREE.WebGLProgram.getParameters:",X.precision,"not supported, using",d,"instead."));const fe=oe.morphAttributes.position||oe.morphAttributes.normal||oe.morphAttributes.color,be=fe!==void 0?fe.length:0;let Be=0;oe.morphAttributes.position!==void 0&&(Be=1),oe.morphAttributes.normal!==void 0&&(Be=2),oe.morphAttributes.color!==void 0&&(Be=3);let Xe,$e,rt,Ct;if(Re){const xi=Ss[Re];Xe=xi.vertexShader,$e=xi.fragmentShader}else Xe=X.vertexShader,$e=X.fragmentShader,l.update(X),rt=l.getVertexShaderID(X),Ct=l.getFragmentShaderID(X);const Me=e.getRenderTarget(),pi=X.alphaTest>0,St=X.clearcoat>0,Lt=X.iridescence>0;return{isWebGL2:c,shaderID:Re,shaderName:X.type,vertexShader:Xe,fragmentShader:$e,defines:X.defines,customVertexShaderID:rt,customFragmentShaderID:Ct,isRawShaderMaterial:X.isRawShaderMaterial===!0,glslVersion:X.glslVersion,precision:d,instancing:me.isInstancedMesh===!0,instancingColor:me.isInstancedMesh===!0&&me.instanceColor!==null,supportsVertexTextures:p,outputEncoding:Me===null?e.outputEncoding:Me.isXRRenderTarget===!0?Me.texture.encoding:el,map:!!X.map,matcap:!!X.matcap,envMap:!!Pe,envMapMode:Pe&&Pe.mapping,envMapCubeUVHeight:xe,lightMap:!!X.lightMap,aoMap:!!X.aoMap,emissiveMap:!!X.emissiveMap,bumpMap:!!X.bumpMap,normalMap:!!X.normalMap,objectSpaceNormalMap:X.normalMapType===PO,tangentSpaceNormalMap:X.normalMapType===km,decodeVideoTexture:!!X.map&&X.map.isVideoTexture===!0&&X.map.encoding===rs,clearcoat:St,clearcoatMap:St&&!!X.clearcoatMap,clearcoatRoughnessMap:St&&!!X.clearcoatRoughnessMap,clearcoatNormalMap:St&&!!X.clearcoatNormalMap,iridescence:Lt,iridescenceMap:Lt&&!!X.iridescenceMap,iridescenceThicknessMap:Lt&&!!X.iridescenceThicknessMap,displacementMap:!!X.displacementMap,roughnessMap:!!X.roughnessMap,metalnessMap:!!X.metalnessMap,specularMap:!!X.specularMap,specularIntensityMap:!!X.specularIntensityMap,specularColorMap:!!X.specularColorMap,opaque:X.transparent===!1&&X.blending===Ql,alphaMap:!!X.alphaMap,alphaTest:pi,gradientMap:!!X.gradientMap,sheen:X.sheen>0,sheenColorMap:!!X.sheenColorMap,sheenRoughnessMap:!!X.sheenRoughnessMap,transmission:X.transmission>0,transmissionMap:!!X.transmissionMap,thicknessMap:!!X.thicknessMap,combine:X.combine,vertexTangents:!!X.normalMap&&!!oe.attributes.tangent,vertexColors:X.vertexColors,vertexAlphas:X.vertexColors===!0&&!!oe.attributes.color&&oe.attributes.color.itemSize===4,vertexUvs:!!X.map||!!X.bumpMap||!!X.normalMap||!!X.specularMap||!!X.alphaMap||!!X.emissiveMap||!!X.roughnessMap||!!X.metalnessMap||!!X.clearcoatMap||!!X.clearcoatRoughnessMap||!!X.clearcoatNormalMap||!!X.iridescenceMap||!!X.iridescenceThicknessMap||!!X.displacementMap||!!X.transmissionMap||!!X.thicknessMap||!!X.specularIntensityMap||!!X.specularColorMap||!!X.sheenColorMap||!!X.sheenRoughnessMap,uvsVertexOnly:!(!!X.map||!!X.bumpMap||!!X.normalMap||!!X.specularMap||!!X.alphaMap||!!X.emissiveMap||!!X.roughnessMap||!!X.metalnessMap||!!X.clearcoatNormalMap||!!X.iridescenceMap||!!X.iridescenceThicknessMap||X.transmission>0||!!X.transmissionMap||!!X.thicknessMap||!!X.specularIntensityMap||!!X.specularColorMap||X.sheen>0||!!X.sheenColorMap||!!X.sheenRoughnessMap)&&!!X.displacementMap,fog:!!ae,useFog:X.fog===!0,fogExp2:ae&&ae.isFogExp2,flatShading:!!X.flatShading,sizeAttenuation:X.sizeAttenuation,logarithmicDepthBuffer:u,skinning:me.isSkinnedMesh===!0,morphTargets:oe.morphAttributes.position!==void 0,morphNormals:oe.morphAttributes.normal!==void 0,morphColors:oe.morphAttributes.color!==void 0,morphTargetsCount:be,morphTextureStride:Be,numDirLights:K.directional.length,numPointLights:K.point.length,numSpotLights:K.spot.length,numSpotLightMaps:K.spotLightMap.length,numRectAreaLights:K.rectArea.length,numHemiLights:K.hemi.length,numDirLightShadows:K.directionalShadowMap.length,numPointLightShadows:K.pointShadowMap.length,numSpotLightShadows:K.spotShadowMap.length,numSpotLightShadowsWithMaps:K.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:X.dithering,shadowMapEnabled:e.shadowMap.enabled&&ee.length>0,shadowMapType:e.shadowMap.type,toneMapping:X.toneMapped?e.toneMapping:so,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:X.premultipliedAlpha,doubleSided:X.side===ds,flipSided:X.side===gn,useDepthPacking:!!X.depthPacking,depthPacking:X.depthPacking||0,index0AttributeName:X.index0AttributeName,extensionDerivatives:X.extensions&&X.extensions.derivatives,extensionFragDepth:X.extensions&&X.extensions.fragDepth,extensionDrawBuffers:X.extensions&&X.extensions.drawBuffers,extensionShaderTextureLOD:X.extensions&&X.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||s.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||s.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||s.has("EXT_shader_texture_lod"),customProgramCacheKey:X.customProgramCacheKey()}}function I(X){const K=[];if(X.shaderID?K.push(X.shaderID):(K.push(X.customVertexShaderID),K.push(X.customFragmentShaderID)),X.defines!==void 0)for(const ee in X.defines)K.push(ee),K.push(X.defines[ee]);return X.isRawShaderMaterial===!1&&(v(K,X),C(K,X),K.push(e.outputEncoding)),K.push(X.customProgramCacheKey),K.join()}function v(X,K){X.push(K.precision),X.push(K.outputEncoding),X.push(K.envMapMode),X.push(K.envMapCubeUVHeight),X.push(K.combine),X.push(K.vertexUvs),X.push(K.fogExp2),X.push(K.sizeAttenuation),X.push(K.morphTargetsCount),X.push(K.morphAttributeCount),X.push(K.numDirLights),X.push(K.numPointLights),X.push(K.numSpotLights),X.push(K.numSpotLightMaps),X.push(K.numHemiLights),X.push(K.numRectAreaLights),X.push(K.numDirLightShadows),X.push(K.numPointLightShadows),X.push(K.numSpotLightShadows),X.push(K.numSpotLightShadowsWithMaps),X.push(K.shadowMapType),X.push(K.toneMapping),X.push(K.numClippingPlanes),X.push(K.numClipIntersection),X.push(K.depthPacking)}function C(X,K){a.disableAll(),K.isWebGL2&&a.enable(0),K.supportsVertexTextures&&a.enable(1),K.instancing&&a.enable(2),K.instancingColor&&a.enable(3),K.map&&a.enable(4),K.matcap&&a.enable(5),K.envMap&&a.enable(6),K.lightMap&&a.enable(7),K.aoMap&&a.enable(8),K.emissiveMap&&a.enable(9),K.bumpMap&&a.enable(10),K.normalMap&&a.enable(11),K.objectSpaceNormalMap&&a.enable(12),K.tangentSpaceNormalMap&&a.enable(13),K.clearcoat&&a.enable(14),K.clearcoatMap&&a.enable(15),K.clearcoatRoughnessMap&&a.enable(16),K.clearcoatNormalMap&&a.enable(17),K.iridescence&&a.enable(18),K.iridescenceMap&&a.enable(19),K.iridescenceThicknessMap&&a.enable(20),K.displacementMap&&a.enable(21),K.specularMap&&a.enable(22),K.roughnessMap&&a.enable(23),K.metalnessMap&&a.enable(24),K.gradientMap&&a.enable(25),K.alphaMap&&a.enable(26),K.alphaTest&&a.enable(27),K.vertexColors&&a.enable(28),K.vertexAlphas&&a.enable(29),K.vertexUvs&&a.enable(30),K.vertexTangents&&a.enable(31),K.uvsVertexOnly&&a.enable(32),X.push(a.mask),a.disableAll(),K.fog&&a.enable(0),K.useFog&&a.enable(1),K.flatShading&&a.enable(2),K.logarithmicDepthBuffer&&a.enable(3),K.skinning&&a.enable(4),K.morphTargets&&a.enable(5),K.morphNormals&&a.enable(6),K.morphColors&&a.enable(7),K.premultipliedAlpha&&a.enable(8),K.shadowMapEnabled&&a.enable(9),K.physicallyCorrectLights&&a.enable(10),K.doubleSided&&a.enable(11),K.flipSided&&a.enable(12),K.useDepthPacking&&a.enable(13),K.dithering&&a.enable(14),K.specularIntensityMap&&a.enable(15),K.specularColorMap&&a.enable(16),K.transmission&&a.enable(17),K.transmissionMap&&a.enable(18),K.thicknessMap&&a.enable(19),K.sheen&&a.enable(20),K.sheenColorMap&&a.enable(21),K.sheenRoughnessMap&&a.enable(22),K.decodeVideoTexture&&a.enable(23),K.opaque&&a.enable(24),X.push(a.mask)}function N(X){const K=T[X.type];let ee;if(K){const ce=Ss[K];ee=yh.clone(ce.uniforms)}else ee=X.uniforms;return ee}function F(X,K){let ee;for(let ce=0,me=h.length;ce<me;ce++){const ae=h[ce];if(ae.cacheKey===K){ee=ae,++ee.usedTimes;break}}return ee===void 0&&(ee=new Ok(e,K,X,r),h.push(ee)),ee}function P(X){if(--X.usedTimes===0){const K=h.indexOf(X);h[K]=h[h.length-1],h.pop(),X.destroy()}}function w(X){l.remove(X)}function O(){l.dispose()}return{getParameters:g,getProgramCacheKey:I,getUniforms:N,acquireProgram:F,releaseProgram:P,releaseShaderCache:w,programs:h,dispose:O}}function Ak(){let e=new WeakMap;function i(r){let o=e.get(r);return o===void 0&&(o={},e.set(r,o)),o}function t(r){e.delete(r)}function s(r,o,a){e.get(r)[o]=a}function n(){e=new WeakMap}return{get:i,remove:t,update:s,dispose:n}}function Kk(e,i){return e.groupOrder!==i.groupOrder?e.groupOrder-i.groupOrder:e.renderOrder!==i.renderOrder?e.renderOrder-i.renderOrder:e.material.id!==i.material.id?e.material.id-i.material.id:e.z!==i.z?e.z-i.z:e.id-i.id}function ug(e,i){return e.groupOrder!==i.groupOrder?e.groupOrder-i.groupOrder:e.renderOrder!==i.renderOrder?e.renderOrder-i.renderOrder:e.z!==i.z?i.z-e.z:e.id-i.id}function pg(){const e=[];let i=0;const t=[],s=[],n=[];function r(){i=0,t.length=0,s.length=0,n.length=0}function o(u,p,d,T,g,I){let v=e[i];return v===void 0?(v={id:u.id,object:u,geometry:p,material:d,groupOrder:T,renderOrder:u.renderOrder,z:g,group:I},e[i]=v):(v.id=u.id,v.object=u,v.geometry=p,v.material=d,v.groupOrder=T,v.renderOrder=u.renderOrder,v.z=g,v.group=I),i++,v}function a(u,p,d,T,g,I){const v=o(u,p,d,T,g,I);d.transmission>0?s.push(v):d.transparent===!0?n.push(v):t.push(v)}function l(u,p,d,T,g,I){const v=o(u,p,d,T,g,I);d.transmission>0?s.unshift(v):d.transparent===!0?n.unshift(v):t.unshift(v)}function h(u,p){t.length>1&&t.sort(u||Kk),s.length>1&&s.sort(p||ug),n.length>1&&n.sort(p||ug)}function c(){for(let u=i,p=e.length;u<p;u++){const d=e[u];if(d.id===null)break;d.id=null,d.object=null,d.geometry=null,d.material=null,d.group=null}}return{opaque:t,transmissive:s,transparent:n,init:r,push:a,unshift:l,finish:c,sort:h}}function Zk(){let e=new WeakMap;function i(s,n){const r=e.get(s);let o;return r===void 0?(o=new pg,e.set(s,[o])):n>=r.length?(o=new pg,r.push(o)):o=r[n],o}function t(){e=new WeakMap}return{get:i,dispose:t}}function Hk(){const e={};return{get:function(i){if(e[i.id]!==void 0)return e[i.id];let t;switch(i.type){case"DirectionalLight":t={direction:new H,color:new ge};break;case"SpotLight":t={position:new H,direction:new H,color:new ge,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new H,color:new ge,distance:0,decay:0};break;case"HemisphereLight":t={direction:new H,skyColor:new ge,groundColor:new ge};break;case"RectAreaLight":t={color:new ge,position:new H,halfWidth:new H,halfHeight:new H};break}return e[i.id]=t,t}}}function Uk(){const e={};return{get:function(i){if(e[i.id]!==void 0)return e[i.id];let t;switch(i.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ht};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ht};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ht,shadowCameraNear:1,shadowCameraFar:1e3};break}return e[i.id]=t,t}}}let _k=0;function Vk(e,i){return(i.castShadow?2:0)-(e.castShadow?2:0)+(i.map?1:0)-(e.map?1:0)}function jk(e,i){const t=new Hk,s=Uk(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let c=0;c<9;c++)n.probe.push(new H);const r=new H,o=new pt,a=new pt;function l(c,u){let p=0,d=0,T=0;for(let ce=0;ce<9;ce++)n.probe[ce].set(0,0,0);let g=0,I=0,v=0,C=0,N=0,F=0,P=0,w=0,O=0,X=0;c.sort(Vk);const K=u!==!0?Math.PI:1;for(let ce=0,me=c.length;ce<me;ce++){const ae=c[ce],oe=ae.color,Se=ae.intensity,Pe=ae.distance,xe=ae.shadow&&ae.shadow.map?ae.shadow.map.texture:null;if(ae.isAmbientLight)p+=oe.r*Se*K,d+=oe.g*Se*K,T+=oe.b*Se*K;else if(ae.isLightProbe)for(let Re=0;Re<9;Re++)n.probe[Re].addScaledVector(ae.sh.coefficients[Re],Se);else if(ae.isDirectionalLight){const Re=t.get(ae);if(Re.color.copy(ae.color).multiplyScalar(ae.intensity*K),ae.castShadow){const fe=ae.shadow,be=s.get(ae);be.shadowBias=fe.bias,be.shadowNormalBias=fe.normalBias,be.shadowRadius=fe.radius,be.shadowMapSize=fe.mapSize,n.directionalShadow[g]=be,n.directionalShadowMap[g]=xe,n.directionalShadowMatrix[g]=ae.shadow.matrix,F++}n.directional[g]=Re,g++}else if(ae.isSpotLight){const Re=t.get(ae);Re.position.setFromMatrixPosition(ae.matrixWorld),Re.color.copy(oe).multiplyScalar(Se*K),Re.distance=Pe,Re.coneCos=Math.cos(ae.angle),Re.penumbraCos=Math.cos(ae.angle*(1-ae.penumbra)),Re.decay=ae.decay,n.spot[v]=Re;const fe=ae.shadow;if(ae.map&&(n.spotLightMap[O]=ae.map,O++,fe.updateMatrices(ae),ae.castShadow&&X++),n.spotLightMatrix[v]=fe.matrix,ae.castShadow){const be=s.get(ae);be.shadowBias=fe.bias,be.shadowNormalBias=fe.normalBias,be.shadowRadius=fe.radius,be.shadowMapSize=fe.mapSize,n.spotShadow[v]=be,n.spotShadowMap[v]=xe,w++}v++}else if(ae.isRectAreaLight){const Re=t.get(ae);Re.color.copy(oe).multiplyScalar(Se),Re.halfWidth.set(ae.width*.5,0,0),Re.halfHeight.set(0,ae.height*.5,0),n.rectArea[C]=Re,C++}else if(ae.isPointLight){const Re=t.get(ae);if(Re.color.copy(ae.color).multiplyScalar(ae.intensity*K),Re.distance=ae.distance,Re.decay=ae.decay,ae.castShadow){const fe=ae.shadow,be=s.get(ae);be.shadowBias=fe.bias,be.shadowNormalBias=fe.normalBias,be.shadowRadius=fe.radius,be.shadowMapSize=fe.mapSize,be.shadowCameraNear=fe.camera.near,be.shadowCameraFar=fe.camera.far,n.pointShadow[I]=be,n.pointShadowMap[I]=xe,n.pointShadowMatrix[I]=ae.shadow.matrix,P++}n.point[I]=Re,I++}else if(ae.isHemisphereLight){const Re=t.get(ae);Re.skyColor.copy(ae.color).multiplyScalar(Se*K),Re.groundColor.copy(ae.groundColor).multiplyScalar(Se*K),n.hemi[N]=Re,N++}}C>0&&(i.isWebGL2||e.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=je.LTC_FLOAT_1,n.rectAreaLTC2=je.LTC_FLOAT_2):e.has("OES_texture_half_float_linear")===!0?(n.rectAreaLTC1=je.LTC_HALF_1,n.rectAreaLTC2=je.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),n.ambient[0]=p,n.ambient[1]=d,n.ambient[2]=T;const ee=n.hash;(ee.directionalLength!==g||ee.pointLength!==I||ee.spotLength!==v||ee.rectAreaLength!==C||ee.hemiLength!==N||ee.numDirectionalShadows!==F||ee.numPointShadows!==P||ee.numSpotShadows!==w||ee.numSpotMaps!==O)&&(n.directional.length=g,n.spot.length=v,n.rectArea.length=C,n.point.length=I,n.hemi.length=N,n.directionalShadow.length=F,n.directionalShadowMap.length=F,n.pointShadow.length=P,n.pointShadowMap.length=P,n.spotShadow.length=w,n.spotShadowMap.length=w,n.directionalShadowMatrix.length=F,n.pointShadowMatrix.length=P,n.spotLightMatrix.length=w+O-X,n.spotLightMap.length=O,n.numSpotLightShadowsWithMaps=X,ee.directionalLength=g,ee.pointLength=I,ee.spotLength=v,ee.rectAreaLength=C,ee.hemiLength=N,ee.numDirectionalShadows=F,ee.numPointShadows=P,ee.numSpotShadows=w,ee.numSpotMaps=O,n.version=_k++)}function h(c,u){let p=0,d=0,T=0,g=0,I=0;const v=u.matrixWorldInverse;for(let C=0,N=c.length;C<N;C++){const F=c[C];if(F.isDirectionalLight){const P=n.directional[p];P.direction.setFromMatrixPosition(F.matrixWorld),r.setFromMatrixPosition(F.target.matrixWorld),P.direction.sub(r),P.direction.transformDirection(v),p++}else if(F.isSpotLight){const P=n.spot[T];P.position.setFromMatrixPosition(F.matrixWorld),P.position.applyMatrix4(v),P.direction.setFromMatrixPosition(F.matrixWorld),r.setFromMatrixPosition(F.target.matrixWorld),P.direction.sub(r),P.direction.transformDirection(v),T++}else if(F.isRectAreaLight){const P=n.rectArea[g];P.position.setFromMatrixPosition(F.matrixWorld),P.position.applyMatrix4(v),a.identity(),o.copy(F.matrixWorld),o.premultiply(v),a.extractRotation(o),P.halfWidth.set(F.width*.5,0,0),P.halfHeight.set(0,F.height*.5,0),P.halfWidth.applyMatrix4(a),P.halfHeight.applyMatrix4(a),g++}else if(F.isPointLight){const P=n.point[d];P.position.setFromMatrixPosition(F.matrixWorld),P.position.applyMatrix4(v),d++}else if(F.isHemisphereLight){const P=n.hemi[I];P.direction.setFromMatrixPosition(F.matrixWorld),P.direction.transformDirection(v),I++}}}return{setup:l,setupView:h,state:n}}function dg(e,i){const t=new jk(e,i),s=[],n=[];function r(){s.length=0,n.length=0}function o(u){s.push(u)}function a(u){n.push(u)}function l(u){t.setup(s,u)}function h(u){t.setupView(s,u)}return{init:r,state:{lightsArray:s,shadowsArray:n,lights:t},setupLights:l,setupLightsView:h,pushLight:o,pushShadow:a}}function Bk(e,i){let t=new WeakMap;function s(r,o=0){const a=t.get(r);let l;return a===void 0?(l=new dg(e,i),t.set(r,[l])):o>=a.length?(l=new dg(e,i),a.push(l)):l=a[o],l}function n(){t=new WeakMap}return{get:s,dispose:n}}class Jk extends mo{constructor(i){super();this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=NO,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(i)}copy(i){return super.copy(i),this.depthPacking=i.depthPacking,this.map=i.map,this.alphaMap=i.alphaMap,this.displacementMap=i.displacementMap,this.displacementScale=i.displacementScale,this.displacementBias=i.displacementBias,this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this}}class Qk extends mo{constructor(i){super();this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new H,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(i)}copy(i){return super.copy(i),this.referencePosition.copy(i.referencePosition),this.nearDistance=i.nearDistance,this.farDistance=i.farDistance,this.map=i.map,this.alphaMap=i.alphaMap,this.displacementMap=i.displacementMap,this.displacementScale=i.displacementScale,this.displacementBias=i.displacementBias,this}}const qk=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,$k=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function eA(e,i,t){let s=new Vc;const n=new ht,r=new ht,o=new nt,a=new Jk({depthPacking:FO}),l=new Qk,h={},c=t.maxTextureSize,u={0:gn,1:Nr,2:ds},p=new fs({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ht},radius:{value:4}},vertexShader:qk,fragmentShader:$k}),d=p.clone();d.defines.HORIZONTAL_PASS=1;const T=new Yt;T.setAttribute("position",new Gt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new fi(T,p),I=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Af,this.render=function(F,P,w){if(I.enabled===!1||I.autoUpdate===!1&&I.needsUpdate===!1||F.length===0)return;const O=e.getRenderTarget(),X=e.getActiveCubeFace(),K=e.getActiveMipmapLevel(),ee=e.state;ee.setBlending(Fr),ee.buffers.color.setClear(1,1,1,1),ee.buffers.depth.setTest(!0),ee.setScissorTest(!1);for(let ce=0,me=F.length;ce<me;ce++){const ae=F[ce],oe=ae.shadow;if(oe===void 0){console.warn("THREE.WebGLShadowMap:",ae,"has no shadow.");continue}if(oe.autoUpdate===!1&&oe.needsUpdate===!1)continue;n.copy(oe.mapSize);const Se=oe.getFrameExtents();if(n.multiply(Se),r.copy(oe.mapSize),(n.x>c||n.y>c)&&(n.x>c&&(r.x=Math.floor(c/Se.x),n.x=r.x*Se.x,oe.mapSize.x=r.x),n.y>c&&(r.y=Math.floor(c/Se.y),n.y=r.y*Se.y,oe.mapSize.y=r.y)),oe.map===null){const xe=this.type!==Dc?{minFilter:Ui,magFilter:Ui}:{};oe.map=new Pr(n.x,n.y,xe),oe.map.texture.name=ae.name+".shadowMap",oe.camera.updateProjectionMatrix()}e.setRenderTarget(oe.map),e.clear();const Pe=oe.getViewportCount();for(let xe=0;xe<Pe;xe++){const Re=oe.getViewport(xe);o.set(r.x*Re.x,r.y*Re.y,r.x*Re.z,r.y*Re.w),ee.viewport(o),oe.updateMatrices(ae,xe),s=oe.getFrustum(),N(P,w,oe.camera,ae,this.type)}oe.isPointLightShadow!==!0&&this.type===Dc&&v(oe,w),oe.needsUpdate=!1}I.needsUpdate=!1,e.setRenderTarget(O,X,K)};function v(F,P){const w=i.update(g);p.defines.VSM_SAMPLES!==F.blurSamples&&(p.defines.VSM_SAMPLES=F.blurSamples,d.defines.VSM_SAMPLES=F.blurSamples,p.needsUpdate=!0,d.needsUpdate=!0),F.mapPass===null&&(F.mapPass=new Pr(n.x,n.y)),p.uniforms.shadow_pass.value=F.map.texture,p.uniforms.resolution.value=F.mapSize,p.uniforms.radius.value=F.radius,e.setRenderTarget(F.mapPass),e.clear(),e.renderBufferDirect(P,null,w,p,g,null),d.uniforms.shadow_pass.value=F.mapPass.texture,d.uniforms.resolution.value=F.mapSize,d.uniforms.radius.value=F.radius,e.setRenderTarget(F.map),e.clear(),e.renderBufferDirect(P,null,w,d,g,null)}function C(F,P,w,O,X,K){let ee=null;const ce=w.isPointLight===!0?F.customDistanceMaterial:F.customDepthMaterial;if(ce!==void 0?ee=ce:ee=w.isPointLight===!0?l:a,e.localClippingEnabled&&P.clipShadows===!0&&Array.isArray(P.clippingPlanes)&&P.clippingPlanes.length!==0||P.displacementMap&&P.displacementScale!==0||P.alphaMap&&P.alphaTest>0){const me=ee.uuid,ae=P.uuid;let oe=h[me];oe===void 0&&(oe={},h[me]=oe);let Se=oe[ae];Se===void 0&&(Se=ee.clone(),oe[ae]=Se),ee=Se}return ee.visible=P.visible,ee.wireframe=P.wireframe,K===Dc?ee.side=P.shadowSide!==null?P.shadowSide:P.side:ee.side=P.shadowSide!==null?P.shadowSide:u[P.side],ee.alphaMap=P.alphaMap,ee.alphaTest=P.alphaTest,ee.clipShadows=P.clipShadows,ee.clippingPlanes=P.clippingPlanes,ee.clipIntersection=P.clipIntersection,ee.displacementMap=P.displacementMap,ee.displacementScale=P.displacementScale,ee.displacementBias=P.displacementBias,ee.wireframeLinewidth=P.wireframeLinewidth,ee.linewidth=P.linewidth,w.isPointLight===!0&&ee.isMeshDistanceMaterial===!0&&(ee.referencePosition.setFromMatrixPosition(w.matrixWorld),ee.nearDistance=O,ee.farDistance=X),ee}function N(F,P,w,O,X){if(F.visible===!1)return;if(F.layers.test(P.layers)&&(F.isMesh||F.isLine||F.isPoints)&&(F.castShadow||F.receiveShadow&&X===Dc)&&(!F.frustumCulled||s.intersectsObject(F))){F.modelViewMatrix.multiplyMatrices(w.matrixWorldInverse,F.matrixWorld);const ce=i.update(F),me=F.material;if(Array.isArray(me)){const ae=ce.groups;for(let oe=0,Se=ae.length;oe<Se;oe++){const Pe=ae[oe],xe=me[Pe.materialIndex];if(xe&&xe.visible){const Re=C(F,xe,O,w.near,w.far,X);e.renderBufferDirect(w,null,ce,Re,F,Pe)}}}else if(me.visible){const ae=C(F,me,O,w.near,w.far,X);e.renderBufferDirect(w,null,ce,ae,F,null)}}const ee=F.children;for(let ce=0,me=ee.length;ce<me;ce++)N(ee[ce],P,w,O,X)}}function tA(e,i,t){const s=t.isWebGL2;function n(){let ue=!1;const we=new nt;let Ee=null;const tt=new nt(0,0,0,0);return{setMask:function(Ae){Ee!==Ae&&!ue&&(e.colorMask(Ae,Ae,Ae,Ae),Ee=Ae)},setLocked:function(Ae){ue=Ae},setClear:function(Ae,jt,$i,Ei,Zi){Zi===!0&&(Ae*=Ei,jt*=Ei,$i*=Ei),we.set(Ae,jt,$i,Ei),tt.equals(we)===!1&&(e.clearColor(Ae,jt,$i,Ei),tt.copy(we))},reset:function(){ue=!1,Ee=null,tt.set(-1,0,0,0)}}}function r(){let ue=!1,we=null,Ee=null,tt=null;return{setTest:function(Ae){Ae?pi(2929):St(2929)},setMask:function(Ae){we!==Ae&&!ue&&(e.depthMask(Ae),we=Ae)},setFunc:function(Ae){if(Ee!==Ae){if(Ae)switch(Ae){case eO:e.depthFunc(512);break;case tO:e.depthFunc(519);break;case iO:e.depthFunc(513);break;case Oc:e.depthFunc(515);break;case sO:e.depthFunc(514);break;case nO:e.depthFunc(518);break;case rO:e.depthFunc(516);break;case oO:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);Ee=Ae}},setLocked:function(Ae){ue=Ae},setClear:function(Ae){tt!==Ae&&(e.clearDepth(Ae),tt=Ae)},reset:function(){ue=!1,we=null,Ee=null,tt=null}}}function o(){let ue=!1,we=null,Ee=null,tt=null,Ae=null,jt=null,$i=null,Ei=null,Zi=null;return{setTest:function(Ci){ue||(Ci?pi(2960):St(2960))},setMask:function(Ci){we!==Ci&&!ue&&(e.stencilMask(Ci),we=Ci)},setFunc:function(Ci,hn,Cs){(Ee!==Ci||tt!==hn||Ae!==Cs)&&(e.stencilFunc(Ci,hn,Cs),Ee=Ci,tt=hn,Ae=Cs)},setOp:function(Ci,hn,Cs){(jt!==Ci||$i!==hn||Ei!==Cs)&&(e.stencilOp(Ci,hn,Cs),jt=Ci,$i=hn,Ei=Cs)},setLocked:function(Ci){ue=Ci},setClear:function(Ci){Zi!==Ci&&(e.clearStencil(Ci),Zi=Ci)},reset:function(){ue=!1,we=null,Ee=null,tt=null,Ae=null,jt=null,$i=null,Ei=null,Zi=null}}}const a=new n,l=new r,h=new o,c=new WeakMap,u=new WeakMap;let p={},d={},T=new WeakMap,g=[],I=null,v=!1,C=null,N=null,F=null,P=null,w=null,O=null,X=null,K=!1,ee=null,ce=null,me=null,ae=null,oe=null;const Se=e.getParameter(35661);let Pe=!1,xe=0;const Re=e.getParameter(7938);Re.indexOf("WebGL")!==-1?(xe=parseFloat(/^WebGL (\d)/.exec(Re)[1]),Pe=xe>=1):Re.indexOf("OpenGL ES")!==-1&&(xe=parseFloat(/^OpenGL ES (\d)/.exec(Re)[1]),Pe=xe>=2);let fe=null,be={};const Be=e.getParameter(3088),Xe=e.getParameter(2978),$e=new nt().fromArray(Be),rt=new nt().fromArray(Xe);function Ct(ue,we,Ee){const tt=new Uint8Array(4),Ae=e.createTexture();e.bindTexture(ue,Ae),e.texParameteri(ue,10241,9728),e.texParameteri(ue,10240,9728);for(let jt=0;jt<Ee;jt++)e.texImage2D(we+jt,0,6408,1,1,0,6408,5121,tt);return Ae}const Me={};Me[3553]=Ct(3553,3553,1),Me[34067]=Ct(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),h.setClear(0),pi(2929),l.setFunc(Oc),wi(!1),Ve(kf),pi(2884),Ut(Fr);function pi(ue){p[ue]!==!0&&(e.enable(ue),p[ue]=!0)}function St(ue){p[ue]!==!1&&(e.disable(ue),p[ue]=!1)}function Lt(ue,we){return d[ue]!==we?(e.bindFramebuffer(ue,we),d[ue]=we,s&&(ue===36009&&(d[36160]=we),ue===36160&&(d[36009]=we)),!0):!1}function lt(ue,we){let Ee=g,tt=!1;if(ue)if(Ee=T.get(we),Ee===void 0&&(Ee=[],T.set(we,Ee)),ue.isWebGLMultipleRenderTargets){const Ae=ue.texture;if(Ee.length!==Ae.length||Ee[0]!==36064){for(let jt=0,$i=Ae.length;jt<$i;jt++)Ee[jt]=36064+jt;Ee.length=Ae.length,tt=!0}}else Ee[0]!==36064&&(Ee[0]=36064,tt=!0);else Ee[0]!==1029&&(Ee[0]=1029,tt=!0);tt&&(t.isWebGL2?e.drawBuffers(Ee):i.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ee))}function xi(ue){return I!==ue?(e.useProgram(ue),I=ue,!0):!1}const Mt={[ql]:32774,[Z3]:32778,[H3]:32779};if(s)Mt[Hf]=32775,Mt[Uf]=32776;else{const ue=i.get("EXT_blend_minmax");ue!==null&&(Mt[Hf]=ue.MIN_EXT,Mt[Uf]=ue.MAX_EXT)}const et={[U3]:0,[_3]:1,[V3]:768,[_f]:770,[$3]:776,[Q3]:774,[B3]:772,[j3]:769,[Vf]:771,[q3]:775,[J3]:773};function Ut(ue,we,Ee,tt,Ae,jt,$i,Ei){if(ue===Fr){v===!0&&(St(3042),v=!1);return}if(v===!1&&(pi(3042),v=!0),ue!==K3){if(ue!==C||Ei!==K){if((N!==ql||w!==ql)&&(e.blendEquation(32774),N=ql,w=ql),Ei)switch(ue){case Ql:e.blendFuncSeparate(1,771,1,771);break;case Xp:e.blendFunc(1,1);break;case Kf:e.blendFuncSeparate(0,769,0,1);break;case Zf:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",ue);break}else switch(ue){case Ql:e.blendFuncSeparate(770,771,1,771);break;case Xp:e.blendFunc(770,1);break;case Kf:e.blendFuncSeparate(0,769,0,1);break;case Zf:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",ue);break}F=null,P=null,O=null,X=null,C=ue,K=Ei}return}Ae=Ae||we,jt=jt||Ee,$i=$i||tt,(we!==N||Ae!==w)&&(e.blendEquationSeparate(Mt[we],Mt[Ae]),N=we,w=Ae),(Ee!==F||tt!==P||jt!==O||$i!==X)&&(e.blendFuncSeparate(et[Ee],et[tt],et[jt],et[$i]),F=Ee,P=tt,O=jt,X=$i),C=ue,K=null}function Wi(ue,we){ue.side===ds?St(2884):pi(2884);let Ee=ue.side===gn;we&&(Ee=!Ee),wi(Ee),ue.blending===Ql&&ue.transparent===!1?Ut(Fr):Ut(ue.blending,ue.blendEquation,ue.blendSrc,ue.blendDst,ue.blendEquationAlpha,ue.blendSrcAlpha,ue.blendDstAlpha,ue.premultipliedAlpha),l.setFunc(ue.depthFunc),l.setTest(ue.depthTest),l.setMask(ue.depthWrite),a.setMask(ue.colorWrite);const tt=ue.stencilWrite;h.setTest(tt),tt&&(h.setMask(ue.stencilWriteMask),h.setFunc(ue.stencilFunc,ue.stencilRef,ue.stencilFuncMask),h.setOp(ue.stencilFail,ue.stencilZFail,ue.stencilZPass)),gi(ue.polygonOffset,ue.polygonOffsetFactor,ue.polygonOffsetUnits),ue.alphaToCoverage===!0?pi(32926):St(32926)}function wi(ue){ee!==ue&&(ue?e.frontFace(2304):e.frontFace(2305),ee=ue)}function Ve(ue){ue!==Y3?(pi(2884),ue!==ce&&(ue===kf?e.cullFace(1029):ue===k3?e.cullFace(1028):e.cullFace(1032))):St(2884),ce=ue}function Ti(ue){ue!==me&&(Pe&&e.lineWidth(ue),me=ue)}function gi(ue,we,Ee){ue?(pi(32823),(ae!==we||oe!==Ee)&&(e.polygonOffset(we,Ee),ae=we,oe=Ee)):St(32823)}function Ws(ue){ue?pi(3089):St(3089)}function Es(ue){ue===void 0&&(ue=33984+Se-1),fe!==ue&&(e.activeTexture(ue),fe=ue)}function $(ue,we){fe===null&&Es();let Ee=be[fe];Ee===void 0&&(Ee={type:void 0,texture:void 0},be[fe]=Ee),(Ee.type!==ue||Ee.texture!==we)&&(e.bindTexture(ue,we||Me[ue]),Ee.type=ue,Ee.texture=we)}function J(){const ue=be[fe];ue!==void 0&&ue.type!==void 0&&(e.bindTexture(ue.type,null),ue.type=void 0,ue.texture=void 0)}function Ne(){try{e.compressedTexImage2D.apply(e,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function Ze(){try{e.texSubImage2D.apply(e,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function Je(){try{e.texSubImage3D.apply(e,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function Ue(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function xt(){try{e.texStorage2D.apply(e,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function ve(){try{e.texStorage3D.apply(e,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function dt(){try{e.texImage2D.apply(e,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function ot(){try{e.texImage3D.apply(e,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function mt(ue){$e.equals(ue)===!1&&(e.scissor(ue.x,ue.y,ue.z,ue.w),$e.copy(ue))}function at(ue){rt.equals(ue)===!1&&(e.viewport(ue.x,ue.y,ue.z,ue.w),rt.copy(ue))}function Pt(ue,we){let Ee=u.get(we);Ee===void 0&&(Ee=new WeakMap,u.set(we,Ee));let tt=Ee.get(ue);tt===void 0&&(tt=e.getUniformBlockIndex(we,ue.name),Ee.set(ue,tt))}function ti(ue,we){const tt=u.get(we).get(ue);c.get(ue)!==tt&&(e.uniformBlockBinding(we,tt,ue.__bindingPointIndex),c.set(ue,tt))}function Kt(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),s===!0&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),p={},fe=null,be={},d={},T=new WeakMap,g=[],I=null,v=!1,C=null,N=null,F=null,P=null,w=null,O=null,X=null,K=!1,ee=null,ce=null,me=null,ae=null,oe=null,$e.set(0,0,e.canvas.width,e.canvas.height),rt.set(0,0,e.canvas.width,e.canvas.height),a.reset(),l.reset(),h.reset()}return{buffers:{color:a,depth:l,stencil:h},enable:pi,disable:St,bindFramebuffer:Lt,drawBuffers:lt,useProgram:xi,setBlending:Ut,setMaterial:Wi,setFlipSided:wi,setCullFace:Ve,setLineWidth:Ti,setPolygonOffset:gi,setScissorTest:Ws,activeTexture:Es,bindTexture:$,unbindTexture:J,compressedTexImage2D:Ne,texImage2D:dt,texImage3D:ot,updateUBOMapping:Pt,uniformBlockBinding:ti,texStorage2D:xt,texStorage3D:ve,texSubImage2D:Ze,texSubImage3D:Je,compressedTexSubImage2D:Ue,scissor:mt,viewport:at,reset:Kt}}function iA(e,i,t,s,n,r,o){const a=n.isWebGL2,l=n.maxTextures,h=n.maxCubemapSize,c=n.maxTextureSize,u=n.maxSamples,p=i.has("WEBGL_multisampled_render_to_texture")?i.get("WEBGL_multisampled_render_to_texture"):null,d=/OculusBrowser/g.test(navigator.userAgent),T=new WeakMap;let g;const I=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function C($,J){return v?new OffscreenCanvas($,J):Ac("canvas")}function N($,J,Ne,Ze){let Je=1;if(($.width>Ze||$.height>Ze)&&(Je=Ze/Math.max($.width,$.height)),Je<1||J===!0)if(typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&$ instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&$ instanceof ImageBitmap){const Ue=J?kp:Math.floor,xt=Ue(Je*$.width),ve=Ue(Je*$.height);g===void 0&&(g=C(xt,ve));const dt=Ne?C(xt,ve):g;return dt.width=xt,dt.height=ve,dt.getContext("2d").drawImage($,0,0,xt,ve),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+$.width+"x"+$.height+") to ("+xt+"x"+ve+")."),dt}else return"data"in $&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+$.width+"x"+$.height+")."),$;return $}function F($){return Um($.width)&&Um($.height)}function P($){return a?!1:$.wrapS!==_n||$.wrapT!==_n||$.minFilter!==Ui&&$.minFilter!==Is}function w($,J){return $.generateMipmaps&&J&&$.minFilter!==Ui&&$.minFilter!==Is}function O($){e.generateMipmap($)}function X($,J,Ne,Ze,Je=!1){if(a===!1)return J;if($!==null){if(e[$]!==void 0)return e[$];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+$+"'")}let Ue=J;return J===6403&&(Ne===5126&&(Ue=33326),Ne===5131&&(Ue=33325),Ne===5121&&(Ue=33321)),J===33319&&(Ne===5126&&(Ue=33328),Ne===5131&&(Ue=33327),Ne===5121&&(Ue=33323)),J===6408&&(Ne===5126&&(Ue=34836),Ne===5131&&(Ue=34842),Ne===5121&&(Ue=Ze===rs&&Je===!1?35907:32856),Ne===32819&&(Ue=32854),Ne===32820&&(Ue=32855)),(Ue===33325||Ue===33326||Ue===33327||Ue===33328||Ue===34842||Ue===34836)&&i.get("EXT_color_buffer_float"),Ue}function K($,J,Ne){return w($,Ne)===!0||$.isFramebufferTexture&&$.minFilter!==Ui&&$.minFilter!==Is?Math.log2(Math.max(J.width,J.height))+1:$.mipmaps!==void 0&&$.mipmaps.length>0?$.mipmaps.length:$.isCompressedTexture&&Array.isArray($.image)?J.mipmaps.length:1}function ee($){return $===Ui||$===Xm||$===Dm?9728:9729}function ce($){const J=$.target;J.removeEventListener("dispose",ce),ae(J),J.isVideoTexture&&T.delete(J)}function me($){const J=$.target;J.removeEventListener("dispose",me),Se(J)}function ae($){const J=s.get($);if(J.__webglInit===void 0)return;const Ne=$.source,Ze=I.get(Ne);if(Ze){const Je=Ze[J.__cacheKey];Je.usedTimes--,Je.usedTimes===0&&oe($),Object.keys(Ze).length===0&&I.delete(Ne)}s.remove($)}function oe($){const J=s.get($);e.deleteTexture(J.__webglTexture);const Ne=$.source,Ze=I.get(Ne);delete Ze[J.__cacheKey],o.memory.textures--}function Se($){const J=$.texture,Ne=s.get($),Ze=s.get(J);if(Ze.__webglTexture!==void 0&&(e.deleteTexture(Ze.__webglTexture),o.memory.textures--),$.depthTexture&&$.depthTexture.dispose(),$.isWebGLCubeRenderTarget)for(let Je=0;Je<6;Je++)e.deleteFramebuffer(Ne.__webglFramebuffer[Je]),Ne.__webglDepthbuffer&&e.deleteRenderbuffer(Ne.__webglDepthbuffer[Je]);else{if(e.deleteFramebuffer(Ne.__webglFramebuffer),Ne.__webglDepthbuffer&&e.deleteRenderbuffer(Ne.__webglDepthbuffer),Ne.__webglMultisampledFramebuffer&&e.deleteFramebuffer(Ne.__webglMultisampledFramebuffer),Ne.__webglColorRenderbuffer)for(let Je=0;Je<Ne.__webglColorRenderbuffer.length;Je++)Ne.__webglColorRenderbuffer[Je]&&e.deleteRenderbuffer(Ne.__webglColorRenderbuffer[Je]);Ne.__webglDepthRenderbuffer&&e.deleteRenderbuffer(Ne.__webglDepthRenderbuffer)}if($.isWebGLMultipleRenderTargets)for(let Je=0,Ue=J.length;Je<Ue;Je++){const xt=s.get(J[Je]);xt.__webglTexture&&(e.deleteTexture(xt.__webglTexture),o.memory.textures--),s.remove(J[Je])}s.remove(J),s.remove($)}let Pe=0;function xe(){Pe=0}function Re(){const $=Pe;return $>=l&&console.warn("THREE.WebGLTextures: Trying to use "+$+" texture units while this GPU supports only "+l),Pe+=1,$}function fe($){const J=[];return J.push($.wrapS),J.push($.wrapT),J.push($.magFilter),J.push($.minFilter),J.push($.anisotropy),J.push($.internalFormat),J.push($.format),J.push($.type),J.push($.generateMipmaps),J.push($.premultiplyAlpha),J.push($.flipY),J.push($.unpackAlignment),J.push($.encoding),J.join()}function be($,J){const Ne=s.get($);if($.isVideoTexture&&Ws($),$.isRenderTargetTexture===!1&&$.version>0&&Ne.__version!==$.version){const Ze=$.image;if(Ze===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ze.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{St(Ne,$,J);return}}t.activeTexture(33984+J),t.bindTexture(3553,Ne.__webglTexture)}function Be($,J){const Ne=s.get($);if($.version>0&&Ne.__version!==$.version){St(Ne,$,J);return}t.activeTexture(33984+J),t.bindTexture(35866,Ne.__webglTexture)}function Xe($,J){const Ne=s.get($);if($.version>0&&Ne.__version!==$.version){St(Ne,$,J);return}t.activeTexture(33984+J),t.bindTexture(32879,Ne.__webglTexture)}function $e($,J){const Ne=s.get($);if($.version>0&&Ne.__version!==$.version){Lt(Ne,$,J);return}t.activeTexture(33984+J),t.bindTexture(34067,Ne.__webglTexture)}const rt={[zp]:10497,[_n]:33071,[Wp]:33648},Ct={[Ui]:9728,[Xm]:9984,[Dm]:9986,[Is]:9729,[Bf]:9985,[zc]:9987};function Me($,J,Ne){if(Ne?(e.texParameteri($,10242,rt[J.wrapS]),e.texParameteri($,10243,rt[J.wrapT]),($===32879||$===35866)&&e.texParameteri($,32882,rt[J.wrapR]),e.texParameteri($,10240,Ct[J.magFilter]),e.texParameteri($,10241,Ct[J.minFilter])):(e.texParameteri($,10242,33071),e.texParameteri($,10243,33071),($===32879||$===35866)&&e.texParameteri($,32882,33071),(J.wrapS!==_n||J.wrapT!==_n)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri($,10240,ee(J.magFilter)),e.texParameteri($,10241,ee(J.minFilter)),J.minFilter!==Ui&&J.minFilter!==Is&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),i.has("EXT_texture_filter_anisotropic")===!0){const Ze=i.get("EXT_texture_filter_anisotropic");if(J.type===Qo&&i.has("OES_texture_float_linear")===!1||a===!1&&J.type===Wc&&i.has("OES_texture_half_float_linear")===!1)return;(J.anisotropy>1||s.get(J).__currentAnisotropy)&&(e.texParameterf($,Ze.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(J.anisotropy,n.getMaxAnisotropy())),s.get(J).__currentAnisotropy=J.anisotropy)}}function pi($,J){let Ne=!1;$.__webglInit===void 0&&($.__webglInit=!0,J.addEventListener("dispose",ce));const Ze=J.source;let Je=I.get(Ze);Je===void 0&&(Je={},I.set(Ze,Je));const Ue=fe(J);if(Ue!==$.__cacheKey){Je[Ue]===void 0&&(Je[Ue]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,Ne=!0),Je[Ue].usedTimes++;const xt=Je[$.__cacheKey];xt!==void 0&&(Je[$.__cacheKey].usedTimes--,xt.usedTimes===0&&oe(J)),$.__cacheKey=Ue,$.__webglTexture=Je[Ue].texture}return Ne}function St($,J,Ne){let Ze=3553;J.isDataArrayTexture&&(Ze=35866),J.isData3DTexture&&(Ze=32879);const Je=pi($,J),Ue=J.source;if(t.activeTexture(33984+Ne),t.bindTexture(Ze,$.__webglTexture),Ue.version!==Ue.__currentVersion||Je===!0){e.pixelStorei(37440,J.flipY),e.pixelStorei(37441,J.premultiplyAlpha),e.pixelStorei(3317,J.unpackAlignment),e.pixelStorei(37443,0);const xt=P(J)&&F(J.image)===!1;let ve=N(J.image,xt,!1,c);ve=Es(J,ve);const dt=F(ve)||a,ot=r.convert(J.format,J.encoding);let mt=r.convert(J.type),at=X(J.internalFormat,ot,mt,J.encoding,J.isVideoTexture);Me(Ze,J,dt);let Pt;const ti=J.mipmaps,Kt=a&&J.isVideoTexture!==!0,ue=Ue.__currentVersion===void 0||Je===!0,we=K(J,ve,dt);if(J.isDepthTexture)at=6402,a?J.type===Qo?at=36012:J.type===Jo?at=33190:J.type===th?at=35056:at=33189:J.type===Qo&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),J.format===$a&&at===6402&&J.type!==Jf&&J.type!==Jo&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),J.type=Jo,mt=r.convert(J.type)),J.format===ih&&at===6402&&(at=34041,J.type!==th&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),J.type=th,mt=r.convert(J.type))),ue&&(Kt?t.texStorage2D(3553,1,at,ve.width,ve.height):t.texImage2D(3553,0,at,ve.width,ve.height,0,ot,mt,null));else if(J.isDataTexture)if(ti.length>0&&dt){Kt&&ue&&t.texStorage2D(3553,we,at,ti[0].width,ti[0].height);for(let Ee=0,tt=ti.length;Ee<tt;Ee++)Pt=ti[Ee],Kt?t.texSubImage2D(3553,Ee,0,0,Pt.width,Pt.height,ot,mt,Pt.data):t.texImage2D(3553,Ee,at,Pt.width,Pt.height,0,ot,mt,Pt.data);J.generateMipmaps=!1}else Kt?(ue&&t.texStorage2D(3553,we,at,ve.width,ve.height),t.texSubImage2D(3553,0,0,0,ve.width,ve.height,ot,mt,ve.data)):t.texImage2D(3553,0,at,ve.width,ve.height,0,ot,mt,ve.data);else if(J.isCompressedTexture){Kt&&ue&&t.texStorage2D(3553,we,at,ti[0].width,ti[0].height);for(let Ee=0,tt=ti.length;Ee<tt;Ee++)Pt=ti[Ee],J.format!==Xs?ot!==null?Kt?t.compressedTexSubImage2D(3553,Ee,0,0,Pt.width,Pt.height,ot,Pt.data):t.compressedTexImage2D(3553,Ee,at,Pt.width,Pt.height,0,Pt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Kt?t.texSubImage2D(3553,Ee,0,0,Pt.width,Pt.height,ot,mt,Pt.data):t.texImage2D(3553,Ee,at,Pt.width,Pt.height,0,ot,mt,Pt.data)}else if(J.isDataArrayTexture)Kt?(ue&&t.texStorage3D(35866,we,at,ve.width,ve.height,ve.depth),t.texSubImage3D(35866,0,0,0,0,ve.width,ve.height,ve.depth,ot,mt,ve.data)):t.texImage3D(35866,0,at,ve.width,ve.height,ve.depth,0,ot,mt,ve.data);else if(J.isData3DTexture)Kt?(ue&&t.texStorage3D(32879,we,at,ve.width,ve.height,ve.depth),t.texSubImage3D(32879,0,0,0,0,ve.width,ve.height,ve.depth,ot,mt,ve.data)):t.texImage3D(32879,0,at,ve.width,ve.height,ve.depth,0,ot,mt,ve.data);else if(J.isFramebufferTexture){if(ue)if(Kt)t.texStorage2D(3553,we,at,ve.width,ve.height);else{let Ee=ve.width,tt=ve.height;for(let Ae=0;Ae<we;Ae++)t.texImage2D(3553,Ae,at,Ee,tt,0,ot,mt,null),Ee>>=1,tt>>=1}}else if(ti.length>0&&dt){Kt&&ue&&t.texStorage2D(3553,we,at,ti[0].width,ti[0].height);for(let Ee=0,tt=ti.length;Ee<tt;Ee++)Pt=ti[Ee],Kt?t.texSubImage2D(3553,Ee,0,0,ot,mt,Pt):t.texImage2D(3553,Ee,at,ot,mt,Pt);J.generateMipmaps=!1}else Kt?(ue&&t.texStorage2D(3553,we,at,ve.width,ve.height),t.texSubImage2D(3553,0,0,0,ot,mt,ve)):t.texImage2D(3553,0,at,ot,mt,ve);w(J,dt)&&O(Ze),Ue.__currentVersion=Ue.version,J.onUpdate&&J.onUpdate(J)}$.__version=J.version}function Lt($,J,Ne){if(J.image.length!==6)return;const Ze=pi($,J),Je=J.source;if(t.activeTexture(33984+Ne),t.bindTexture(34067,$.__webglTexture),Je.version!==Je.__currentVersion||Ze===!0){e.pixelStorei(37440,J.flipY),e.pixelStorei(37441,J.premultiplyAlpha),e.pixelStorei(3317,J.unpackAlignment),e.pixelStorei(37443,0);const Ue=J.isCompressedTexture||J.image[0].isCompressedTexture,xt=J.image[0]&&J.image[0].isDataTexture,ve=[];for(let Ee=0;Ee<6;Ee++)!Ue&&!xt?ve[Ee]=N(J.image[Ee],!1,!0,h):ve[Ee]=xt?J.image[Ee].image:J.image[Ee],ve[Ee]=Es(J,ve[Ee]);const dt=ve[0],ot=F(dt)||a,mt=r.convert(J.format,J.encoding),at=r.convert(J.type),Pt=X(J.internalFormat,mt,at,J.encoding),ti=a&&J.isVideoTexture!==!0,Kt=Je.__currentVersion===void 0||Ze===!0;let ue=K(J,dt,ot);Me(34067,J,ot);let we;if(Ue){ti&&Kt&&t.texStorage2D(34067,ue,Pt,dt.width,dt.height);for(let Ee=0;Ee<6;Ee++){we=ve[Ee].mipmaps;for(let tt=0;tt<we.length;tt++){const Ae=we[tt];J.format!==Xs?mt!==null?ti?t.compressedTexSubImage2D(34069+Ee,tt,0,0,Ae.width,Ae.height,mt,Ae.data):t.compressedTexImage2D(34069+Ee,tt,Pt,Ae.width,Ae.height,0,Ae.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ti?t.texSubImage2D(34069+Ee,tt,0,0,Ae.width,Ae.height,mt,at,Ae.data):t.texImage2D(34069+Ee,tt,Pt,Ae.width,Ae.height,0,mt,at,Ae.data)}}}else{we=J.mipmaps,ti&&Kt&&(we.length>0&&ue++,t.texStorage2D(34067,ue,Pt,ve[0].width,ve[0].height));for(let Ee=0;Ee<6;Ee++)if(xt){ti?t.texSubImage2D(34069+Ee,0,0,0,ve[Ee].width,ve[Ee].height,mt,at,ve[Ee].data):t.texImage2D(34069+Ee,0,Pt,ve[Ee].width,ve[Ee].height,0,mt,at,ve[Ee].data);for(let tt=0;tt<we.length;tt++){const jt=we[tt].image[Ee].image;ti?t.texSubImage2D(34069+Ee,tt+1,0,0,jt.width,jt.height,mt,at,jt.data):t.texImage2D(34069+Ee,tt+1,Pt,jt.width,jt.height,0,mt,at,jt.data)}}else{ti?t.texSubImage2D(34069+Ee,0,0,0,mt,at,ve[Ee]):t.texImage2D(34069+Ee,0,Pt,mt,at,ve[Ee]);for(let tt=0;tt<we.length;tt++){const Ae=we[tt];ti?t.texSubImage2D(34069+Ee,tt+1,0,0,mt,at,Ae.image[Ee]):t.texImage2D(34069+Ee,tt+1,Pt,mt,at,Ae.image[Ee])}}}w(J,ot)&&O(34067),Je.__currentVersion=Je.version,J.onUpdate&&J.onUpdate(J)}$.__version=J.version}function lt($,J,Ne,Ze,Je){const Ue=r.convert(Ne.format,Ne.encoding),xt=r.convert(Ne.type),ve=X(Ne.internalFormat,Ue,xt,Ne.encoding);s.get(J).__hasExternalTextures||(Je===32879||Je===35866?t.texImage3D(Je,0,ve,J.width,J.height,J.depth,0,Ue,xt,null):t.texImage2D(Je,0,ve,J.width,J.height,0,Ue,xt,null)),t.bindFramebuffer(36160,$),gi(J)?p.framebufferTexture2DMultisampleEXT(36160,Ze,Je,s.get(Ne).__webglTexture,0,Ti(J)):e.framebufferTexture2D(36160,Ze,Je,s.get(Ne).__webglTexture,0),t.bindFramebuffer(36160,null)}function xi($,J,Ne){if(e.bindRenderbuffer(36161,$),J.depthBuffer&&!J.stencilBuffer){let Ze=33189;if(Ne||gi(J)){const Je=J.depthTexture;Je&&Je.isDepthTexture&&(Je.type===Qo?Ze=36012:Je.type===Jo&&(Ze=33190));const Ue=Ti(J);gi(J)?p.renderbufferStorageMultisampleEXT(36161,Ue,Ze,J.width,J.height):e.renderbufferStorageMultisample(36161,Ue,Ze,J.width,J.height)}else e.renderbufferStorage(36161,Ze,J.width,J.height);e.framebufferRenderbuffer(36160,36096,36161,$)}else if(J.depthBuffer&&J.stencilBuffer){const Ze=Ti(J);Ne&&gi(J)===!1?e.renderbufferStorageMultisample(36161,Ze,35056,J.width,J.height):gi(J)?p.renderbufferStorageMultisampleEXT(36161,Ze,35056,J.width,J.height):e.renderbufferStorage(36161,34041,J.width,J.height),e.framebufferRenderbuffer(36160,33306,36161,$)}else{const Ze=J.isWebGLMultipleRenderTargets===!0?J.texture:[J.texture];for(let Je=0;Je<Ze.length;Je++){const Ue=Ze[Je],xt=r.convert(Ue.format,Ue.encoding),ve=r.convert(Ue.type),dt=X(Ue.internalFormat,xt,ve,Ue.encoding),ot=Ti(J);Ne&&gi(J)===!1?e.renderbufferStorageMultisample(36161,ot,dt,J.width,J.height):gi(J)?p.renderbufferStorageMultisampleEXT(36161,ot,dt,J.width,J.height):e.renderbufferStorage(36161,dt,J.width,J.height)}}e.bindRenderbuffer(36161,null)}function Mt($,J){if(J&&J.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,$),!(J.depthTexture&&J.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!s.get(J.depthTexture).__webglTexture||J.depthTexture.image.width!==J.width||J.depthTexture.image.height!==J.height)&&(J.depthTexture.image.width=J.width,J.depthTexture.image.height=J.height,J.depthTexture.needsUpdate=!0),be(J.depthTexture,0);const Ze=s.get(J.depthTexture).__webglTexture,Je=Ti(J);if(J.depthTexture.format===$a)gi(J)?p.framebufferTexture2DMultisampleEXT(36160,36096,3553,Ze,0,Je):e.framebufferTexture2D(36160,36096,3553,Ze,0);else if(J.depthTexture.format===ih)gi(J)?p.framebufferTexture2DMultisampleEXT(36160,33306,3553,Ze,0,Je):e.framebufferTexture2D(36160,33306,3553,Ze,0);else throw new Error("Unknown depthTexture format")}function et($){const J=s.get($),Ne=$.isWebGLCubeRenderTarget===!0;if($.depthTexture&&!J.__autoAllocateDepthBuffer){if(Ne)throw new Error("target.depthTexture not supported in Cube render targets");Mt(J.__webglFramebuffer,$)}else if(Ne){J.__webglDepthbuffer=[];for(let Ze=0;Ze<6;Ze++)t.bindFramebuffer(36160,J.__webglFramebuffer[Ze]),J.__webglDepthbuffer[Ze]=e.createRenderbuffer(),xi(J.__webglDepthbuffer[Ze],$,!1)}else t.bindFramebuffer(36160,J.__webglFramebuffer),J.__webglDepthbuffer=e.createRenderbuffer(),xi(J.__webglDepthbuffer,$,!1);t.bindFramebuffer(36160,null)}function Ut($,J,Ne){const Ze=s.get($);J!==void 0&&lt(Ze.__webglFramebuffer,$,$.texture,36064,3553),Ne!==void 0&&et($)}function Wi($){const J=$.texture,Ne=s.get($),Ze=s.get(J);$.addEventListener("dispose",me),$.isWebGLMultipleRenderTargets!==!0&&(Ze.__webglTexture===void 0&&(Ze.__webglTexture=e.createTexture()),Ze.__version=J.version,o.memory.textures++);const Je=$.isWebGLCubeRenderTarget===!0,Ue=$.isWebGLMultipleRenderTargets===!0,xt=F($)||a;if(Je){Ne.__webglFramebuffer=[];for(let ve=0;ve<6;ve++)Ne.__webglFramebuffer[ve]=e.createFramebuffer()}else{if(Ne.__webglFramebuffer=e.createFramebuffer(),Ue)if(n.drawBuffers){const ve=$.texture;for(let dt=0,ot=ve.length;dt<ot;dt++){const mt=s.get(ve[dt]);mt.__webglTexture===void 0&&(mt.__webglTexture=e.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&$.samples>0&&gi($)===!1){const ve=Ue?J:[J];Ne.__webglMultisampledFramebuffer=e.createFramebuffer(),Ne.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,Ne.__webglMultisampledFramebuffer);for(let dt=0;dt<ve.length;dt++){const ot=ve[dt];Ne.__webglColorRenderbuffer[dt]=e.createRenderbuffer(),e.bindRenderbuffer(36161,Ne.__webglColorRenderbuffer[dt]);const mt=r.convert(ot.format,ot.encoding),at=r.convert(ot.type),Pt=X(ot.internalFormat,mt,at,ot.encoding),ti=Ti($);e.renderbufferStorageMultisample(36161,ti,Pt,$.width,$.height),e.framebufferRenderbuffer(36160,36064+dt,36161,Ne.__webglColorRenderbuffer[dt])}e.bindRenderbuffer(36161,null),$.depthBuffer&&(Ne.__webglDepthRenderbuffer=e.createRenderbuffer(),xi(Ne.__webglDepthRenderbuffer,$,!0)),t.bindFramebuffer(36160,null)}}if(Je){t.bindTexture(34067,Ze.__webglTexture),Me(34067,J,xt);for(let ve=0;ve<6;ve++)lt(Ne.__webglFramebuffer[ve],$,J,36064,34069+ve);w(J,xt)&&O(34067),t.unbindTexture()}else if(Ue){const ve=$.texture;for(let dt=0,ot=ve.length;dt<ot;dt++){const mt=ve[dt],at=s.get(mt);t.bindTexture(3553,at.__webglTexture),Me(3553,mt,xt),lt(Ne.__webglFramebuffer,$,mt,36064+dt,3553),w(mt,xt)&&O(3553)}t.unbindTexture()}else{let ve=3553;($.isWebGL3DRenderTarget||$.isWebGLArrayRenderTarget)&&(a?ve=$.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(ve,Ze.__webglTexture),Me(ve,J,xt),lt(Ne.__webglFramebuffer,$,J,36064,ve),w(J,xt)&&O(ve),t.unbindTexture()}$.depthBuffer&&et($)}function wi($){const J=F($)||a,Ne=$.isWebGLMultipleRenderTargets===!0?$.texture:[$.texture];for(let Ze=0,Je=Ne.length;Ze<Je;Ze++){const Ue=Ne[Ze];if(w(Ue,J)){const xt=$.isWebGLCubeRenderTarget?34067:3553,ve=s.get(Ue).__webglTexture;t.bindTexture(xt,ve),O(xt),t.unbindTexture()}}}function Ve($){if(a&&$.samples>0&&gi($)===!1){const J=$.isWebGLMultipleRenderTargets?$.texture:[$.texture],Ne=$.width,Ze=$.height;let Je=16384;const Ue=[],xt=$.stencilBuffer?33306:36096,ve=s.get($),dt=$.isWebGLMultipleRenderTargets===!0;if(dt)for(let ot=0;ot<J.length;ot++)t.bindFramebuffer(36160,ve.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+ot,36161,null),t.bindFramebuffer(36160,ve.__webglFramebuffer),e.framebufferTexture2D(36009,36064+ot,3553,null,0);t.bindFramebuffer(36008,ve.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,ve.__webglFramebuffer);for(let ot=0;ot<J.length;ot++){Ue.push(36064+ot),$.depthBuffer&&Ue.push(xt);const mt=ve.__ignoreDepthValues!==void 0?ve.__ignoreDepthValues:!1;if(mt===!1&&($.depthBuffer&&(Je|=256),$.stencilBuffer&&(Je|=1024)),dt&&e.framebufferRenderbuffer(36008,36064,36161,ve.__webglColorRenderbuffer[ot]),mt===!0&&(e.invalidateFramebuffer(36008,[xt]),e.invalidateFramebuffer(36009,[xt])),dt){const at=s.get(J[ot]).__webglTexture;e.framebufferTexture2D(36009,36064,3553,at,0)}e.blitFramebuffer(0,0,Ne,Ze,0,0,Ne,Ze,Je,9728),d&&e.invalidateFramebuffer(36008,Ue)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),dt)for(let ot=0;ot<J.length;ot++){t.bindFramebuffer(36160,ve.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+ot,36161,ve.__webglColorRenderbuffer[ot]);const mt=s.get(J[ot]).__webglTexture;t.bindFramebuffer(36160,ve.__webglFramebuffer),e.framebufferTexture2D(36009,36064+ot,3553,mt,0)}t.bindFramebuffer(36009,ve.__webglMultisampledFramebuffer)}}function Ti($){return Math.min(u,$.samples)}function gi($){const J=s.get($);return a&&$.samples>0&&i.has("WEBGL_multisampled_render_to_texture")===!0&&J.__useRenderToTexture!==!1}function Ws($){const J=o.render.frame;T.get($)!==J&&(T.set($,J),$.update())}function Es($,J){const Ne=$.encoding,Ze=$.format,Je=$.type;return $.isCompressedTexture===!0||$.isVideoTexture===!0||$.format===Zm||Ne!==el&&(Ne===rs?a===!1?i.has("EXT_sRGB")===!0&&Ze===Xs?($.format=Zm,$.minFilter=Is,$.generateMipmaps=!1):J=xT.sRGBToLinear(J):(Ze!==Xs||Je!==qa)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",Ne)),J}this.allocateTextureUnit=Re,this.resetTextureUnits=xe,this.setTexture2D=be,this.setTexture2DArray=Be,this.setTexture3D=Xe,this.setTextureCube=$e,this.rebindTextures=Ut,this.setupRenderTarget=Wi,this.updateRenderTargetMipmap=wi,this.updateMultisampleRenderTarget=Ve,this.setupDepthRenderbuffer=et,this.setupFrameBufferTexture=lt,this.useMultisampledRTT=gi}function sA(e,i,t){const s=t.isWebGL2;function n(r,o=null){let a;if(r===qa)return 5121;if(r===TO)return 32819;if(r===gO)return 32820;if(r===mO)return 5120;if(r===yO)return 5122;if(r===Jf)return 5123;if(r===fO)return 5124;if(r===Jo)return 5125;if(r===Qo)return 5126;if(r===Wc)return s?5131:(a=i.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(r===bO)return 6406;if(r===Xs)return 6408;if(r===IO)return 6409;if(r===LO)return 6410;if(r===$a)return 6402;if(r===ih)return 34041;if(r===SO)return 6403;if(r===Qf)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(r===Zm)return a=i.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(r===MO)return 36244;if(r===xO)return 33319;if(r===vO)return 33320;if(r===GO)return 36249;if(r===Om||r===zm||r===Wm||r===Ym)if(o===rs)if(a=i.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(r===Om)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===zm)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===Wm)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===Ym)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=i.get("WEBGL_compressed_texture_s3tc"),a!==null){if(r===Om)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===zm)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===Wm)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===Ym)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===qf||r===$f||r===eT||r===tT)if(a=i.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(r===qf)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===$f)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===eT)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===tT)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===EO)return a=i.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(r===iT||r===sT)if(a=i.get("WEBGL_compressed_texture_etc"),a!==null){if(r===iT)return o===rs?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(r===sT)return o===rs?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===nT||r===rT||r===oT||r===aT||r===lT||r===hT||r===cT||r===uT||r===pT||r===dT||r===mT||r===yT||r===fT||r===TT)if(a=i.get("WEBGL_compressed_texture_astc"),a!==null){if(r===nT)return o===rs?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===rT)return o===rs?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===oT)return o===rs?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===aT)return o===rs?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===lT)return o===rs?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===hT)return o===rs?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===cT)return o===rs?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===uT)return o===rs?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===pT)return o===rs?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===dT)return o===rs?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===mT)return o===rs?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===yT)return o===rs?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===fT)return o===rs?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===TT)return o===rs?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===gT)if(a=i.get("EXT_texture_compression_bptc"),a!==null){if(r===gT)return o===rs?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return r===th?s?34042:(a=i.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):e[r]!==void 0?e[r]:null}return{convert:n}}class nA extends On{constructor(i=[]){super();this.isArrayCamera=!0,this.cameras=i}}class Vs extends _i{constructor(){super();this.isGroup=!0,this.type="Group"}}const rA={type:"move"};class I0{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Vs,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Vs,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new H,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new H),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Vs,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new H,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new H),this._grip}dispatchEvent(i){return this._targetRay!==null&&this._targetRay.dispatchEvent(i),this._grip!==null&&this._grip.dispatchEvent(i),this._hand!==null&&this._hand.dispatchEvent(i),this}disconnect(i){return this.dispatchEvent({type:"disconnected",data:i}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(i,t,s){let n=null,r=null,o=null;const a=this._targetRay,l=this._grip,h=this._hand;if(i&&t.session.visibilityState!=="visible-blurred"){if(h&&i.hand){o=!0;for(const g of i.hand.values()){const I=t.getJointPose(g,s);if(h.joints[g.jointName]===void 0){const C=new Vs;C.matrixAutoUpdate=!1,C.visible=!1,h.joints[g.jointName]=C,h.add(C)}const v=h.joints[g.jointName];I!==null&&(v.matrix.fromArray(I.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.jointRadius=I.radius),v.visible=I!==null}const c=h.joints["index-finger-tip"],u=h.joints["thumb-tip"],p=c.position.distanceTo(u.position),d=.02,T=.005;h.inputState.pinching&&p>d+T?(h.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:i.handedness,target:this})):!h.inputState.pinching&&p<=d-T&&(h.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:i.handedness,target:this}))}else l!==null&&i.gripSpace&&(r=t.getPose(i.gripSpace,s),r!==null&&(l.matrix.fromArray(r.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),r.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(r.linearVelocity)):l.hasLinearVelocity=!1,r.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(r.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(n=t.getPose(i.targetRaySpace,s),n===null&&r!==null&&(n=r),n!==null&&(a.matrix.fromArray(n.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),n.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(n.linearVelocity)):a.hasLinearVelocity=!1,n.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(n.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(rA)))}return a!==null&&(a.visible=n!==null),l!==null&&(l.visible=r!==null),h!==null&&(h.visible=o!==null),this}}class mg extends ys{constructor(i,t,s,n,r,o,a,l,h,c){if(c=c!==void 0?c:$a,c!==$a&&c!==ih)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");s===void 0&&c===$a&&(s=Jo),s===void 0&&c===ih&&(s=th);super(null,n,r,o,a,l,c,s,h);this.isDepthTexture=!0,this.image={width:i,height:t},this.magFilter=a!==void 0?a:Ui,this.minFilter=l!==void 0?l:Ui,this.flipY=!1,this.generateMipmaps=!1}}class oA extends qo{constructor(i,t){super();const s=this;let n=null,r=1,o=null,a="local-floor",l=null,h=null,c=null,u=null,p=null,d=null;const T=t.getContextAttributes();let g=null,I=null;const v=[],C=[],N=new On;N.layers.enable(1),N.viewport=new nt;const F=new On;F.layers.enable(2),F.viewport=new nt;const P=[N,F],w=new nA;w.layers.enable(1),w.layers.enable(2);let O=null,X=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(fe){let be=v[fe];return be===void 0&&(be=new I0,v[fe]=be),be.getTargetRaySpace()},this.getControllerGrip=function(fe){let be=v[fe];return be===void 0&&(be=new I0,v[fe]=be),be.getGripSpace()},this.getHand=function(fe){let be=v[fe];return be===void 0&&(be=new I0,v[fe]=be),be.getHandSpace()};function K(fe){const be=C.indexOf(fe.inputSource);if(be===-1)return;const Be=v[be];Be!==void 0&&Be.dispatchEvent({type:fe.type,data:fe.inputSource})}function ee(){n.removeEventListener("select",K),n.removeEventListener("selectstart",K),n.removeEventListener("selectend",K),n.removeEventListener("squeeze",K),n.removeEventListener("squeezestart",K),n.removeEventListener("squeezeend",K),n.removeEventListener("end",ee),n.removeEventListener("inputsourceschange",ce);for(let fe=0;fe<v.length;fe++){const be=C[fe];be!==null&&(C[fe]=null,v[fe].disconnect(be))}O=null,X=null,i.setRenderTarget(g),p=null,u=null,c=null,n=null,I=null,Re.stop(),s.isPresenting=!1,s.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(fe){r=fe,s.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(fe){a=fe,s.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(fe){l=fe},this.getBaseLayer=function(){return u!==null?u:p},this.getBinding=function(){return c},this.getFrame=function(){return d},this.getSession=function(){return n},this.setSession=async function(fe){if(n=fe,n!==null){if(g=i.getRenderTarget(),n.addEventListener("select",K),n.addEventListener("selectstart",K),n.addEventListener("selectend",K),n.addEventListener("squeeze",K),n.addEventListener("squeezestart",K),n.addEventListener("squeezeend",K),n.addEventListener("end",ee),n.addEventListener("inputsourceschange",ce),T.xrCompatible!==!0&&await t.makeXRCompatible(),n.renderState.layers===void 0||i.capabilities.isWebGL2===!1){const be={antialias:n.renderState.layers===void 0?T.antialias:!0,alpha:T.alpha,depth:T.depth,stencil:T.stencil,framebufferScaleFactor:r};p=new XRWebGLLayer(n,t,be),n.updateRenderState({baseLayer:p}),I=new Pr(p.framebufferWidth,p.framebufferHeight,{format:Xs,type:qa,encoding:i.outputEncoding,stencilBuffer:T.stencil})}else{let be=null,Be=null,Xe=null;T.depth&&(Xe=T.stencil?35056:33190,be=T.stencil?ih:$a,Be=T.stencil?th:Jo);const $e={colorFormat:32856,depthFormat:Xe,scaleFactor:r};c=new XRWebGLBinding(n,t),u=c.createProjectionLayer($e),n.updateRenderState({layers:[u]}),I=new Pr(u.textureWidth,u.textureHeight,{format:Xs,type:qa,depthTexture:new mg(u.textureWidth,u.textureHeight,Be,void 0,void 0,void 0,void 0,void 0,void 0,be),stencilBuffer:T.stencil,encoding:i.outputEncoding,samples:T.antialias?4:0});const rt=i.properties.get(I);rt.__ignoreDepthValues=u.ignoreDepthValues}I.isXRRenderTarget=!0,this.setFoveation(1),l=null,o=await n.requestReferenceSpace(a),Re.setContext(n),Re.start(),s.isPresenting=!0,s.dispatchEvent({type:"sessionstart"})}};function ce(fe){for(let be=0;be<fe.removed.length;be++){const Be=fe.removed[be],Xe=C.indexOf(Be);Xe>=0&&(C[Xe]=null,v[Xe].dispatchEvent({type:"disconnected",data:Be}))}for(let be=0;be<fe.added.length;be++){const Be=fe.added[be];let Xe=C.indexOf(Be);if(Xe===-1){for(let rt=0;rt<v.length;rt++)if(rt>=C.length){C.push(Be),Xe=rt;break}else if(C[rt]===null){C[rt]=Be,Xe=rt;break}if(Xe===-1)break}const $e=v[Xe];$e&&$e.dispatchEvent({type:"connected",data:Be})}}const me=new H,ae=new H;function oe(fe,be,Be){me.setFromMatrixPosition(be.matrixWorld),ae.setFromMatrixPosition(Be.matrixWorld);const Xe=me.distanceTo(ae),$e=be.projectionMatrix.elements,rt=Be.projectionMatrix.elements,Ct=$e[14]/($e[10]-1),Me=$e[14]/($e[10]+1),pi=($e[9]+1)/$e[5],St=($e[9]-1)/$e[5],Lt=($e[8]-1)/$e[0],lt=(rt[8]+1)/rt[0],xi=Ct*Lt,Mt=Ct*lt,et=Xe/(-Lt+lt),Ut=et*-Lt;be.matrixWorld.decompose(fe.position,fe.quaternion,fe.scale),fe.translateX(Ut),fe.translateZ(et),fe.matrixWorld.compose(fe.position,fe.quaternion,fe.scale),fe.matrixWorldInverse.copy(fe.matrixWorld).invert();const Wi=Ct+et,wi=Me+et,Ve=xi-Ut,Ti=Mt+(Xe-Ut),gi=pi*Me/wi*Wi,Ws=St*Me/wi*Wi;fe.projectionMatrix.makePerspective(Ve,Ti,gi,Ws,Wi,wi)}function Se(fe,be){be===null?fe.matrixWorld.copy(fe.matrix):fe.matrixWorld.multiplyMatrices(be.matrixWorld,fe.matrix),fe.matrixWorldInverse.copy(fe.matrixWorld).invert()}this.updateCamera=function(fe){if(n===null)return;w.near=F.near=N.near=fe.near,w.far=F.far=N.far=fe.far,(O!==w.near||X!==w.far)&&(n.updateRenderState({depthNear:w.near,depthFar:w.far}),O=w.near,X=w.far);const be=fe.parent,Be=w.cameras;Se(w,be);for(let $e=0;$e<Be.length;$e++)Se(Be[$e],be);w.matrixWorld.decompose(w.position,w.quaternion,w.scale),fe.matrix.copy(w.matrix),fe.matrix.decompose(fe.position,fe.quaternion,fe.scale);const Xe=fe.children;for(let $e=0,rt=Xe.length;$e<rt;$e++)Xe[$e].updateMatrixWorld(!0);Be.length===2?oe(w,N,F):w.projectionMatrix.copy(N.projectionMatrix)},this.getCamera=function(){return w},this.getFoveation=function(){if(u!==null)return u.fixedFoveation;if(p!==null)return p.fixedFoveation},this.setFoveation=function(fe){u!==null&&(u.fixedFoveation=fe),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=fe)};let Pe=null;function xe(fe,be){if(h=be.getViewerPose(l||o),d=be,h!==null){const Be=h.views;p!==null&&(i.setRenderTargetFramebuffer(I,p.framebuffer),i.setRenderTarget(I));let Xe=!1;Be.length!==w.cameras.length&&(w.cameras.length=0,Xe=!0);for(let $e=0;$e<Be.length;$e++){const rt=Be[$e];let Ct=null;if(p!==null)Ct=p.getViewport(rt);else{const pi=c.getViewSubImage(u,rt);Ct=pi.viewport,$e===0&&(i.setRenderTargetTextures(I,pi.colorTexture,u.ignoreDepthValues?void 0:pi.depthStencilTexture),i.setRenderTarget(I))}let Me=P[$e];Me===void 0&&(Me=new On,Me.layers.enable($e),Me.viewport=new nt,P[$e]=Me),Me.matrix.fromArray(rt.transform.matrix),Me.projectionMatrix.fromArray(rt.projectionMatrix),Me.viewport.set(Ct.x,Ct.y,Ct.width,Ct.height),$e===0&&w.matrix.copy(Me.matrix),Xe===!0&&w.cameras.push(Me)}}for(let Be=0;Be<v.length;Be++){const Xe=C[Be],$e=v[Be];Xe!==null&&$e!==void 0&&$e.update(Xe,be,l||o)}Pe&&Pe(fe,be),d=null}const Re=new AT;Re.setAnimationLoop(xe),this.setAnimationLoop=function(fe){Pe=fe},this.dispose=function(){}}}function aA(e,i){function t(g,I){g.fogColor.value.copy(I.color),I.isFog?(g.fogNear.value=I.near,g.fogFar.value=I.far):I.isFogExp2&&(g.fogDensity.value=I.density)}function s(g,I,v,C,N){I.isMeshBasicMaterial||I.isMeshLambertMaterial?n(g,I):I.isMeshToonMaterial?(n(g,I),c(g,I)):I.isMeshPhongMaterial?(n(g,I),h(g,I)):I.isMeshStandardMaterial?(n(g,I),u(g,I),I.isMeshPhysicalMaterial&&p(g,I,N)):I.isMeshMatcapMaterial?(n(g,I),d(g,I)):I.isMeshDepthMaterial?n(g,I):I.isMeshDistanceMaterial?(n(g,I),T(g,I)):I.isMeshNormalMaterial?n(g,I):I.isLineBasicMaterial?(r(g,I),I.isLineDashedMaterial&&o(g,I)):I.isPointsMaterial?a(g,I,v,C):I.isSpriteMaterial?l(g,I):I.isShadowMaterial?(g.color.value.copy(I.color),g.opacity.value=I.opacity):I.isShaderMaterial&&(I.uniformsNeedUpdate=!1)}function n(g,I){g.opacity.value=I.opacity,I.color&&g.diffuse.value.copy(I.color),I.emissive&&g.emissive.value.copy(I.emissive).multiplyScalar(I.emissiveIntensity),I.map&&(g.map.value=I.map),I.alphaMap&&(g.alphaMap.value=I.alphaMap),I.bumpMap&&(g.bumpMap.value=I.bumpMap,g.bumpScale.value=I.bumpScale,I.side===gn&&(g.bumpScale.value*=-1)),I.displacementMap&&(g.displacementMap.value=I.displacementMap,g.displacementScale.value=I.displacementScale,g.displacementBias.value=I.displacementBias),I.emissiveMap&&(g.emissiveMap.value=I.emissiveMap),I.normalMap&&(g.normalMap.value=I.normalMap,g.normalScale.value.copy(I.normalScale),I.side===gn&&g.normalScale.value.negate()),I.specularMap&&(g.specularMap.value=I.specularMap),I.alphaTest>0&&(g.alphaTest.value=I.alphaTest);const v=i.get(I).envMap;if(v&&(g.envMap.value=v,g.flipEnvMap.value=v.isCubeTexture&&v.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=I.reflectivity,g.ior.value=I.ior,g.refractionRatio.value=I.refractionRatio),I.lightMap){g.lightMap.value=I.lightMap;const F=e.physicallyCorrectLights!==!0?Math.PI:1;g.lightMapIntensity.value=I.lightMapIntensity*F}I.aoMap&&(g.aoMap.value=I.aoMap,g.aoMapIntensity.value=I.aoMapIntensity);let C;I.map?C=I.map:I.specularMap?C=I.specularMap:I.displacementMap?C=I.displacementMap:I.normalMap?C=I.normalMap:I.bumpMap?C=I.bumpMap:I.roughnessMap?C=I.roughnessMap:I.metalnessMap?C=I.metalnessMap:I.alphaMap?C=I.alphaMap:I.emissiveMap?C=I.emissiveMap:I.clearcoatMap?C=I.clearcoatMap:I.clearcoatNormalMap?C=I.clearcoatNormalMap:I.clearcoatRoughnessMap?C=I.clearcoatRoughnessMap:I.iridescenceMap?C=I.iridescenceMap:I.iridescenceThicknessMap?C=I.iridescenceThicknessMap:I.specularIntensityMap?C=I.specularIntensityMap:I.specularColorMap?C=I.specularColorMap:I.transmissionMap?C=I.transmissionMap:I.thicknessMap?C=I.thicknessMap:I.sheenColorMap?C=I.sheenColorMap:I.sheenRoughnessMap&&(C=I.sheenRoughnessMap),C!==void 0&&(C.isWebGLRenderTarget&&(C=C.texture),C.matrixAutoUpdate===!0&&C.updateMatrix(),g.uvTransform.value.copy(C.matrix));let N;I.aoMap?N=I.aoMap:I.lightMap&&(N=I.lightMap),N!==void 0&&(N.isWebGLRenderTarget&&(N=N.texture),N.matrixAutoUpdate===!0&&N.updateMatrix(),g.uv2Transform.value.copy(N.matrix))}function r(g,I){g.diffuse.value.copy(I.color),g.opacity.value=I.opacity}function o(g,I){g.dashSize.value=I.dashSize,g.totalSize.value=I.dashSize+I.gapSize,g.scale.value=I.scale}function a(g,I,v,C){g.diffuse.value.copy(I.color),g.opacity.value=I.opacity,g.size.value=I.size*v,g.scale.value=C*.5,I.map&&(g.map.value=I.map),I.alphaMap&&(g.alphaMap.value=I.alphaMap),I.alphaTest>0&&(g.alphaTest.value=I.alphaTest);let N;I.map?N=I.map:I.alphaMap&&(N=I.alphaMap),N!==void 0&&(N.matrixAutoUpdate===!0&&N.updateMatrix(),g.uvTransform.value.copy(N.matrix))}function l(g,I){g.diffuse.value.copy(I.color),g.opacity.value=I.opacity,g.rotation.value=I.rotation,I.map&&(g.map.value=I.map),I.alphaMap&&(g.alphaMap.value=I.alphaMap),I.alphaTest>0&&(g.alphaTest.value=I.alphaTest);let v;I.map?v=I.map:I.alphaMap&&(v=I.alphaMap),v!==void 0&&(v.matrixAutoUpdate===!0&&v.updateMatrix(),g.uvTransform.value.copy(v.matrix))}function h(g,I){g.specular.value.copy(I.specular),g.shininess.value=Math.max(I.shininess,1e-4)}function c(g,I){I.gradientMap&&(g.gradientMap.value=I.gradientMap)}function u(g,I){g.roughness.value=I.roughness,g.metalness.value=I.metalness,I.roughnessMap&&(g.roughnessMap.value=I.roughnessMap),I.metalnessMap&&(g.metalnessMap.value=I.metalnessMap),i.get(I).envMap&&(g.envMapIntensity.value=I.envMapIntensity)}function p(g,I,v){g.ior.value=I.ior,I.sheen>0&&(g.sheenColor.value.copy(I.sheenColor).multiplyScalar(I.sheen),g.sheenRoughness.value=I.sheenRoughness,I.sheenColorMap&&(g.sheenColorMap.value=I.sheenColorMap),I.sheenRoughnessMap&&(g.sheenRoughnessMap.value=I.sheenRoughnessMap)),I.clearcoat>0&&(g.clearcoat.value=I.clearcoat,g.clearcoatRoughness.value=I.clearcoatRoughness,I.clearcoatMap&&(g.clearcoatMap.value=I.clearcoatMap),I.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=I.clearcoatRoughnessMap),I.clearcoatNormalMap&&(g.clearcoatNormalScale.value.copy(I.clearcoatNormalScale),g.clearcoatNormalMap.value=I.clearcoatNormalMap,I.side===gn&&g.clearcoatNormalScale.value.negate())),I.iridescence>0&&(g.iridescence.value=I.iridescence,g.iridescenceIOR.value=I.iridescenceIOR,g.iridescenceThicknessMinimum.value=I.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=I.iridescenceThicknessRange[1],I.iridescenceMap&&(g.iridescenceMap.value=I.iridescenceMap),I.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=I.iridescenceThicknessMap)),I.transmission>0&&(g.transmission.value=I.transmission,g.transmissionSamplerMap.value=v.texture,g.transmissionSamplerSize.value.set(v.width,v.height),I.transmissionMap&&(g.transmissionMap.value=I.transmissionMap),g.thickness.value=I.thickness,I.thicknessMap&&(g.thicknessMap.value=I.thicknessMap),g.attenuationDistance.value=I.attenuationDistance,g.attenuationColor.value.copy(I.attenuationColor)),g.specularIntensity.value=I.specularIntensity,g.specularColor.value.copy(I.specularColor),I.specularIntensityMap&&(g.specularIntensityMap.value=I.specularIntensityMap),I.specularColorMap&&(g.specularColorMap.value=I.specularColorMap)}function d(g,I){I.matcap&&(g.matcap.value=I.matcap)}function T(g,I){g.referencePosition.value.copy(I.referencePosition),g.nearDistance.value=I.nearDistance,g.farDistance.value=I.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:s}}function lA(e,i,t,s){let n={},r={},o=[];const a=t.isWebGL2?e.getParameter(35375):0;function l(C,N){const F=N.program;s.uniformBlockBinding(C,F)}function h(C,N){let F=n[C.id];F===void 0&&(T(C),F=c(C),n[C.id]=F,C.addEventListener("dispose",I));const P=N.program;s.updateUBOMapping(C,P);const w=i.render.frame;r[C.id]!==w&&(p(C),r[C.id]=w)}function c(C){const N=u();C.__bindingPointIndex=N;const F=e.createBuffer(),P=C.__size,w=C.usage;return e.bindBuffer(35345,F),e.bufferData(35345,P,w),e.bindBuffer(35345,null),e.bindBufferBase(35345,N,F),F}function u(){for(let C=0;C<a;C++)if(o.indexOf(C)===-1)return o.push(C),C;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(C){const N=n[C.id],F=C.uniforms,P=C.__cache;e.bindBuffer(35345,N);for(let w=0,O=F.length;w<O;w++){const X=F[w];if(d(X,w,P)===!0){const K=X.value,ee=X.__offset;typeof K=="number"?(X.__data[0]=K,e.bufferSubData(35345,ee,X.__data)):(X.value.isMatrix3?(X.__data[0]=X.value.elements[0],X.__data[1]=X.value.elements[1],X.__data[2]=X.value.elements[2],X.__data[3]=X.value.elements[0],X.__data[4]=X.value.elements[3],X.__data[5]=X.value.elements[4],X.__data[6]=X.value.elements[5],X.__data[7]=X.value.elements[0],X.__data[8]=X.value.elements[6],X.__data[9]=X.value.elements[7],X.__data[10]=X.value.elements[8],X.__data[11]=X.value.elements[0]):K.toArray(X.__data),e.bufferSubData(35345,ee,X.__data))}}e.bindBuffer(35345,null)}function d(C,N,F){const P=C.value;if(F[N]===void 0)return typeof P=="number"?F[N]=P:F[N]=P.clone(),!0;if(typeof P=="number"){if(F[N]!==P)return F[N]=P,!0}else{const w=F[N];if(w.equals(P)===!1)return w.copy(P),!0}return!1}function T(C){const N=C.uniforms;let F=0;const P=16;let w=0;for(let O=0,X=N.length;O<X;O++){const K=N[O],ee=g(K);if(K.__data=new Float32Array(ee.storage/Float32Array.BYTES_PER_ELEMENT),K.__offset=F,O>0){w=F%P;const ce=P-w;w!==0&&ce-ee.boundary<0&&(F+=P-w,K.__offset=F)}F+=ee.storage}return w=F%P,w>0&&(F+=P-w),C.__size=F,C.__cache={},this}function g(C){const N=C.value,F={boundary:0,storage:0};return typeof N=="number"?(F.boundary=4,F.storage=4):N.isVector2?(F.boundary=8,F.storage=8):N.isVector3||N.isColor?(F.boundary=16,F.storage=12):N.isVector4?(F.boundary=16,F.storage=16):N.isMatrix3?(F.boundary=48,F.storage=48):N.isMatrix4?(F.boundary=64,F.storage=64):N.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",N),F}function I(C){const N=C.target;N.removeEventListener("dispose",I);const F=o.indexOf(N.__bindingPointIndex);o.splice(F,1),e.deleteBuffer(n[N.id]),delete n[N.id],delete r[N.id]}function v(){for(const C in n)e.deleteBuffer(n[C]);o=[],n={},r={}}return{bind:l,update:h,dispose:v}}function hA(){const e=Ac("canvas");return e.style.display="block",e}function L0(e={}){this.isWebGLRenderer=!0;const i=e.canvas!==void 0?e.canvas:hA(),t=e.context!==void 0?e.context:null,s=e.depth!==void 0?e.depth:!0,n=e.stencil!==void 0?e.stencil:!0,r=e.antialias!==void 0?e.antialias:!1,o=e.premultipliedAlpha!==void 0?e.premultipliedAlpha:!0,a=e.preserveDrawingBuffer!==void 0?e.preserveDrawingBuffer:!1,l=e.powerPreference!==void 0?e.powerPreference:"default",h=e.failIfMajorPerformanceCaveat!==void 0?e.failIfMajorPerformanceCaveat:!1;let c;t!==null?c=t.getContextAttributes().alpha:c=e.alpha!==void 0?e.alpha:!1;let u=null,p=null;const d=[],T=[];this.domElement=i,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=el,this.physicallyCorrectLights=!1,this.toneMapping=so,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const g=this;let I=!1,v=0,C=0,N=null,F=-1,P=null;const w=new nt,O=new nt;let X=null,K=i.width,ee=i.height,ce=1,me=null,ae=null;const oe=new nt(0,0,K,ee),Se=new nt(0,0,K,ee);let Pe=!1;const xe=new Vc;let Re=!1,fe=!1,be=null;const Be=new pt,Xe=new ht,$e=new H,rt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ct(){return N===null?ce:1}let Me=t;function pi(q,Te){for(let Le=0;Le<q.length;Le++){const de=q[Le],Fe=i.getContext(de,Te);if(Fe!==null)return Fe}return null}try{const q={alpha:!0,depth:s,stencil:n,antialias:r,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:h};if("setAttribute"in i&&i.setAttribute("data-engine",`three.js r${or}`),i.addEventListener("webglcontextlost",Pt,!1),i.addEventListener("webglcontextrestored",ti,!1),i.addEventListener("webglcontextcreationerror",Kt,!1),Me===null){const Te=["webgl2","webgl","experimental-webgl"];if(g.isWebGL1Renderer===!0&&Te.shift(),Me=pi(Te,q),Me===null)throw pi(Te)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Me.getShaderPrecisionFormat===void 0&&(Me.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(q){throw console.error("THREE.WebGLRenderer: "+q.message),q}let St,Lt,lt,xi,Mt,et,Ut,Wi,wi,Ve,Ti,gi,Ws,Es,$,J,Ne,Ze,Je,Ue,xt,ve,dt,ot;function mt(){St=new LY(Me),Lt=new yY(Me,St,e),St.init(Lt),ve=new sA(Me,St,Lt),lt=new tA(Me,St,Lt),xi=new xY,Mt=new Ak,et=new iA(Me,St,lt,Mt,Lt,ve,xi),Ut=new TY(g),Wi=new IY(g),wi=new dz(Me,Lt),dt=new dY(Me,St,wi,Lt),Ve=new SY(Me,wi,xi,dt),Ti=new CY(Me,Ve,wi,xi),Je=new EY(Me,Lt,et),J=new fY(Mt),gi=new kk(g,Ut,Wi,St,Lt,dt,J),Ws=new aA(g,Mt),Es=new Zk,$=new Bk(St,Lt),Ze=new pY(g,Ut,lt,Ti,c,o),Ne=new eA(g,Ti,Lt),ot=new lA(Me,xi,Lt,lt),Ue=new mY(Me,St,xi,Lt),xt=new MY(Me,St,xi,Lt),xi.programs=gi.programs,g.capabilities=Lt,g.extensions=St,g.properties=Mt,g.renderLists=Es,g.shadowMap=Ne,g.state=lt,g.info=xi}mt();const at=new oA(g,Me);this.xr=at,this.getContext=function(){return Me},this.getContextAttributes=function(){return Me.getContextAttributes()},this.forceContextLoss=function(){const q=St.get("WEBGL_lose_context");q&&q.loseContext()},this.forceContextRestore=function(){const q=St.get("WEBGL_lose_context");q&&q.restoreContext()},this.getPixelRatio=function(){return ce},this.setPixelRatio=function(q){q!==void 0&&(ce=q,this.setSize(K,ee,!1))},this.getSize=function(q){return q.set(K,ee)},this.setSize=function(q,Te,Le){if(at.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}K=q,ee=Te,i.width=Math.floor(q*ce),i.height=Math.floor(Te*ce),Le!==!1&&(i.style.width=q+"px",i.style.height=Te+"px"),this.setViewport(0,0,q,Te)},this.getDrawingBufferSize=function(q){return q.set(K*ce,ee*ce).floor()},this.setDrawingBufferSize=function(q,Te,Le){K=q,ee=Te,ce=Le,i.width=Math.floor(q*Le),i.height=Math.floor(Te*Le),this.setViewport(0,0,q,Te)},this.getCurrentViewport=function(q){return q.copy(w)},this.getViewport=function(q){return q.copy(oe)},this.setViewport=function(q,Te,Le,de){q.isVector4?oe.set(q.x,q.y,q.z,q.w):oe.set(q,Te,Le,de),lt.viewport(w.copy(oe).multiplyScalar(ce).floor())},this.getScissor=function(q){return q.copy(Se)},this.setScissor=function(q,Te,Le,de){q.isVector4?Se.set(q.x,q.y,q.z,q.w):Se.set(q,Te,Le,de),lt.scissor(O.copy(Se).multiplyScalar(ce).floor())},this.getScissorTest=function(){return Pe},this.setScissorTest=function(q){lt.setScissorTest(Pe=q)},this.setOpaqueSort=function(q){me=q},this.setTransparentSort=function(q){ae=q},this.getClearColor=function(q){return q.copy(Ze.getClearColor())},this.setClearColor=function(){Ze.setClearColor.apply(Ze,arguments)},this.getClearAlpha=function(){return Ze.getClearAlpha()},this.setClearAlpha=function(){Ze.setClearAlpha.apply(Ze,arguments)},this.clear=function(q=!0,Te=!0,Le=!0){let de=0;q&&(de|=16384),Te&&(de|=256),Le&&(de|=1024),Me.clear(de)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){i.removeEventListener("webglcontextlost",Pt,!1),i.removeEventListener("webglcontextrestored",ti,!1),i.removeEventListener("webglcontextcreationerror",Kt,!1),Es.dispose(),$.dispose(),Mt.dispose(),Ut.dispose(),Wi.dispose(),Ti.dispose(),dt.dispose(),ot.dispose(),gi.dispose(),at.dispose(),at.removeEventListener("sessionstart",jt),at.removeEventListener("sessionend",$i),be&&(be.dispose(),be=null),Ei.stop()};function Pt(q){q.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),I=!0}function ti(){console.log("THREE.WebGLRenderer: Context Restored."),I=!1;const q=xi.autoReset,Te=Ne.enabled,Le=Ne.autoUpdate,de=Ne.needsUpdate,Fe=Ne.type;mt(),xi.autoReset=q,Ne.enabled=Te,Ne.autoUpdate=Le,Ne.needsUpdate=de,Ne.type=Fe}function Kt(q){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",q.statusMessage)}function ue(q){const Te=q.target;Te.removeEventListener("dispose",ue),we(Te)}function we(q){Ee(q),Mt.remove(q)}function Ee(q){const Te=Mt.get(q).programs;Te!==void 0&&(Te.forEach(function(Le){gi.releaseProgram(Le)}),q.isShaderMaterial&&gi.releaseShaderCache(q))}this.renderBufferDirect=function(q,Te,Le,de,Fe,ct){Te===null&&(Te=rt);const ut=Fe.isMesh&&Fe.matrixWorld.determinant()<0,zt=En(q,Te,Le,de,Fe);lt.setMaterial(de,ut);let Rt=Le.index;const di=Le.attributes.position;if(Rt===null){if(di===void 0||di.count===0)return}else if(Rt.count===0)return;let yt=1;de.wireframe===!0&&(Rt=Ve.getWireframeAttribute(Le),yt=2),dt.setup(Fe,de,zt,Le,Rt);let wt,Ri=Ue;Rt!==null&&(wt=wi.get(Rt),Ri=xt,Ri.setIndex(wt));const Yn=Rt!==null?Rt.count:di.count,cn=Le.drawRange.start*yt,qs=Le.drawRange.count*yt,Dt=ct!==null?ct.start*yt:0,li=ct!==null?ct.count*yt:1/0,ps=Math.max(cn,Dt),He=Math.min(Yn,cn+qs,Dt+li)-1,Ns=Math.max(0,He-ps+1);if(Ns!==0){if(Fe.isMesh)de.wireframe===!0?(lt.setLineWidth(de.wireframeLinewidth*Ct()),Ri.setMode(1)):Ri.setMode(4);else if(Fe.isLine){let Tt=de.linewidth;Tt===void 0&&(Tt=1),lt.setLineWidth(Tt*Ct()),Fe.isLineSegments?Ri.setMode(1):Fe.isLineLoop?Ri.setMode(2):Ri.setMode(3)}else Fe.isPoints?Ri.setMode(0):Fe.isSprite&&Ri.setMode(4);if(Fe.isInstancedMesh)Ri.renderInstances(ps,Ns,Fe.count);else if(Le.isInstancedBufferGeometry){const Tt=Math.min(Le.instanceCount,Le._maxInstanceCount);Ri.renderInstances(ps,Ns,Tt)}else Ri.render(ps,Ns)}},this.compile=function(q,Te){function Le(de,Fe,ct){de.transparent===!0&&de.side===ds?(de.side=gn,de.needsUpdate=!0,Rs(de,Fe,ct),de.side=Nr,de.needsUpdate=!0,Rs(de,Fe,ct),de.side=ds):Rs(de,Fe,ct)}p=$.get(q),p.init(),T.push(p),q.traverseVisible(function(de){de.isLight&&de.layers.test(Te.layers)&&(p.pushLight(de),de.castShadow&&p.pushShadow(de))}),p.setupLights(g.physicallyCorrectLights),q.traverse(function(de){const Fe=de.material;if(Fe)if(Array.isArray(Fe))for(let ct=0;ct<Fe.length;ct++){const ut=Fe[ct];Le(ut,q,de)}else Le(Fe,q,de)}),T.pop(),p=null};let tt=null;function Ae(q){tt&&tt(q)}function jt(){Ei.stop()}function $i(){Ei.start()}const Ei=new AT;Ei.setAnimationLoop(Ae),typeof self<"u"&&Ei.setContext(self),this.setAnimationLoop=function(q){tt=q,at.setAnimationLoop(q),q===null?Ei.stop():Ei.start()},at.addEventListener("sessionstart",jt),at.addEventListener("sessionend",$i),this.render=function(q,Te){if(Te!==void 0&&Te.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(I===!0)return;q.matrixWorldAutoUpdate===!0&&q.updateMatrixWorld(),Te.parent===null&&Te.matrixWorldAutoUpdate===!0&&Te.updateMatrixWorld(),at.enabled===!0&&at.isPresenting===!0&&(at.cameraAutoUpdate===!0&&at.updateCamera(Te),Te=at.getCamera()),q.isScene===!0&&q.onBeforeRender(g,q,Te,N),p=$.get(q,T.length),p.init(),T.push(p),Be.multiplyMatrices(Te.projectionMatrix,Te.matrixWorldInverse),xe.setFromProjectionMatrix(Be),fe=this.localClippingEnabled,Re=J.init(this.clippingPlanes,fe,Te),u=Es.get(q,d.length),u.init(),d.push(u),Zi(q,Te,0,g.sortObjects),u.finish(),g.sortObjects===!0&&u.sort(me,ae),Re===!0&&J.beginShadows();const Le=p.state.shadowsArray;if(Ne.render(Le,q,Te),Re===!0&&J.endShadows(),this.info.autoReset===!0&&this.info.reset(),Ze.render(u,q),p.setupLights(g.physicallyCorrectLights),Te.isArrayCamera){const de=Te.cameras;for(let Fe=0,ct=de.length;Fe<ct;Fe++){const ut=de[Fe];Ci(u,q,ut,ut.viewport)}}else Ci(u,q,Te);N!==null&&(et.updateMultisampleRenderTarget(N),et.updateRenderTargetMipmap(N)),q.isScene===!0&&q.onAfterRender(g,q,Te),dt.resetDefaultState(),F=-1,P=null,T.pop(),T.length>0?p=T[T.length-1]:p=null,d.pop(),d.length>0?u=d[d.length-1]:u=null};function Zi(q,Te,Le,de){if(q.visible===!1)return;if(q.layers.test(Te.layers)){if(q.isGroup)Le=q.renderOrder;else if(q.isLOD)q.autoUpdate===!0&&q.update(Te);else if(q.isLight)p.pushLight(q),q.castShadow&&p.pushShadow(q);else if(q.isSprite){if(!q.frustumCulled||xe.intersectsSprite(q)){de&&$e.setFromMatrixPosition(q.matrixWorld).applyMatrix4(Be);const ut=Ti.update(q),zt=q.material;zt.visible&&u.push(q,ut,zt,Le,$e.z,null)}}else if((q.isMesh||q.isLine||q.isPoints)&&(q.isSkinnedMesh&&q.skeleton.frame!==xi.render.frame&&(q.skeleton.update(),q.skeleton.frame=xi.render.frame),!q.frustumCulled||xe.intersectsObject(q))){de&&$e.setFromMatrixPosition(q.matrixWorld).applyMatrix4(Be);const ut=Ti.update(q),zt=q.material;if(Array.isArray(zt)){const Rt=ut.groups;for(let di=0,yt=Rt.length;di<yt;di++){const wt=Rt[di],Ri=zt[wt.materialIndex];Ri&&Ri.visible&&u.push(q,ut,Ri,Le,$e.z,wt)}}else zt.visible&&u.push(q,ut,zt,Le,$e.z,null)}}const ct=q.children;for(let ut=0,zt=ct.length;ut<zt;ut++)Zi(ct[ut],Te,Le,de)}function Ci(q,Te,Le,de){const Fe=q.opaque,ct=q.transmissive,ut=q.transparent;p.setupLightsView(Le),ct.length>0&&hn(Fe,Te,Le),de&&lt.viewport(w.copy(de)),Fe.length>0&&Cs(Fe,Te,Le),ct.length>0&&Cs(ct,Te,Le),ut.length>0&&Cs(ut,Te,Le),lt.buffers.depth.setTest(!0),lt.buffers.depth.setMask(!0),lt.buffers.color.setMask(!0),lt.setPolygonOffset(!1)}function hn(q,Te,Le){const de=Lt.isWebGL2;be===null&&(be=new Pr(1,1,{generateMipmaps:!0,type:St.has("EXT_color_buffer_half_float")?Wc:qa,minFilter:zc,samples:de&&r===!0?4:0})),g.getDrawingBufferSize(Xe),de?be.setSize(Xe.x,Xe.y):be.setSize(kp(Xe.x),kp(Xe.y));const Fe=g.getRenderTarget();g.setRenderTarget(be),g.clear();const ct=g.toneMapping;g.toneMapping=so,Cs(q,Te,Le),g.toneMapping=ct,et.updateMultisampleRenderTarget(be),et.updateRenderTargetMipmap(be),g.setRenderTarget(Fe)}function Cs(q,Te,Le){const de=Te.isScene===!0?Te.overrideMaterial:null;for(let Fe=0,ct=q.length;Fe<ct;Fe++){const ut=q[Fe],zt=ut.object,Rt=ut.geometry,di=de===null?ut.material:de,yt=ut.group;zt.layers.test(Le.layers)&&is(zt,Te,Le,Rt,di,yt)}}function is(q,Te,Le,de,Fe,ct){q.onBeforeRender(g,Te,Le,de,Fe,ct),q.modelViewMatrix.multiplyMatrices(Le.matrixWorldInverse,q.matrixWorld),q.normalMatrix.getNormalMatrix(q.modelViewMatrix),Fe.onBeforeRender(g,Te,Le,de,q,ct),Fe.transparent===!0&&Fe.side===ds?(Fe.side=gn,Fe.needsUpdate=!0,g.renderBufferDirect(Le,Te,de,Fe,q,ct),Fe.side=Nr,Fe.needsUpdate=!0,g.renderBufferDirect(Le,Te,de,Fe,q,ct),Fe.side=ds):g.renderBufferDirect(Le,Te,de,Fe,q,ct),q.onAfterRender(g,Te,Le,de,Fe,ct)}function Rs(q,Te,Le){Te.isScene!==!0&&(Te=rt);const de=Mt.get(q),Fe=p.state.lights,ct=p.state.shadowsArray,ut=Fe.state.version,zt=gi.getParameters(q,Fe.state,ct,Te,Le),Rt=gi.getProgramCacheKey(zt);let di=de.programs;de.environment=q.isMeshStandardMaterial?Te.environment:null,de.fog=Te.fog,de.envMap=(q.isMeshStandardMaterial?Wi:Ut).get(q.envMap||de.environment),di===void 0&&(q.addEventListener("dispose",ue),di=new Map,de.programs=di);let yt=di.get(Rt);if(yt!==void 0){if(de.currentProgram===yt&&de.lightsStateVersion===ut)return Sr(q,zt),yt}else zt.uniforms=gi.getUniforms(q),q.onBuild(Le,zt,g),q.onBeforeCompile(zt,g),yt=gi.acquireProgram(zt,Rt),di.set(Rt,yt),de.uniforms=zt.uniforms;const wt=de.uniforms;(!q.isShaderMaterial&&!q.isRawShaderMaterial||q.clipping===!0)&&(wt.clippingPlanes=J.uniform),Sr(q,zt),de.needsLights=jr(q),de.lightsStateVersion=ut,de.needsLights&&(wt.ambientLightColor.value=Fe.state.ambient,wt.lightProbe.value=Fe.state.probe,wt.directionalLights.value=Fe.state.directional,wt.directionalLightShadows.value=Fe.state.directionalShadow,wt.spotLights.value=Fe.state.spot,wt.spotLightShadows.value=Fe.state.spotShadow,wt.rectAreaLights.value=Fe.state.rectArea,wt.ltc_1.value=Fe.state.rectAreaLTC1,wt.ltc_2.value=Fe.state.rectAreaLTC2,wt.pointLights.value=Fe.state.point,wt.pointLightShadows.value=Fe.state.pointShadow,wt.hemisphereLights.value=Fe.state.hemi,wt.directionalShadowMap.value=Fe.state.directionalShadowMap,wt.directionalShadowMatrix.value=Fe.state.directionalShadowMatrix,wt.spotShadowMap.value=Fe.state.spotShadowMap,wt.spotLightMatrix.value=Fe.state.spotLightMatrix,wt.spotLightMap.value=Fe.state.spotLightMap,wt.pointShadowMap.value=Fe.state.pointShadowMap,wt.pointShadowMatrix.value=Fe.state.pointShadowMatrix);const Ri=yt.getUniforms(),Yn=cd.seqWithValue(Ri.seq,wt);return de.currentProgram=yt,de.uniformsList=Yn,yt}function Sr(q,Te){const Le=Mt.get(q);Le.outputEncoding=Te.outputEncoding,Le.instancing=Te.instancing,Le.skinning=Te.skinning,Le.morphTargets=Te.morphTargets,Le.morphNormals=Te.morphNormals,Le.morphColors=Te.morphColors,Le.morphTargetsCount=Te.morphTargetsCount,Le.numClippingPlanes=Te.numClippingPlanes,Le.numIntersection=Te.numClipIntersection,Le.vertexAlphas=Te.vertexAlphas,Le.vertexTangents=Te.vertexTangents,Le.toneMapping=Te.toneMapping}function En(q,Te,Le,de,Fe){Te.isScene!==!0&&(Te=rt),et.resetTextureUnits();const ct=Te.fog,ut=de.isMeshStandardMaterial?Te.environment:null,zt=N===null?g.outputEncoding:N.isXRRenderTarget===!0?N.texture.encoding:el,Rt=(de.isMeshStandardMaterial?Wi:Ut).get(de.envMap||ut),di=de.vertexColors===!0&&!!Le.attributes.color&&Le.attributes.color.itemSize===4,yt=!!de.normalMap&&!!Le.attributes.tangent,wt=!!Le.morphAttributes.position,Ri=!!Le.morphAttributes.normal,Yn=!!Le.morphAttributes.color,cn=de.toneMapped?g.toneMapping:so,qs=Le.morphAttributes.position||Le.morphAttributes.normal||Le.morphAttributes.color,Dt=qs!==void 0?qs.length:0,li=Mt.get(de),ps=p.state.lights;if(Re===!0&&(fe===!0||q!==P)){const gs=q===P&&de.id===F;J.setState(de,q,gs)}let He=!1;de.version===li.__version?(li.needsLights&&li.lightsStateVersion!==ps.state.version||li.outputEncoding!==zt||Fe.isInstancedMesh&&li.instancing===!1||!Fe.isInstancedMesh&&li.instancing===!0||Fe.isSkinnedMesh&&li.skinning===!1||!Fe.isSkinnedMesh&&li.skinning===!0||li.envMap!==Rt||de.fog===!0&&li.fog!==ct||li.numClippingPlanes!==void 0&&(li.numClippingPlanes!==J.numPlanes||li.numIntersection!==J.numIntersection)||li.vertexAlphas!==di||li.vertexTangents!==yt||li.morphTargets!==wt||li.morphNormals!==Ri||li.morphColors!==Yn||li.toneMapping!==cn||Lt.isWebGL2===!0&&li.morphTargetsCount!==Dt)&&(He=!0):(He=!0,li.__version=de.version);let Ns=li.currentProgram;He===!0&&(Ns=Rs(de,Te,Fe));let Tt=!1,kn=!1,W=!1;const Zt=Ns.getUniforms(),Ts=li.uniforms;if(lt.useProgram(Ns.program)&&(Tt=!0,kn=!0,W=!0),de.id!==F&&(F=de.id,kn=!0),Tt||P!==q){if(Zt.setValue(Me,"projectionMatrix",q.projectionMatrix),Lt.logarithmicDepthBuffer&&Zt.setValue(Me,"logDepthBufFC",2/(Math.log(q.far+1)/Math.LN2)),P!==q&&(P=q,kn=!0,W=!0),de.isShaderMaterial||de.isMeshPhongMaterial||de.isMeshToonMaterial||de.isMeshStandardMaterial||de.envMap){const gs=Zt.map.cameraPosition;gs!==void 0&&gs.setValue(Me,$e.setFromMatrixPosition(q.matrixWorld))}(de.isMeshPhongMaterial||de.isMeshToonMaterial||de.isMeshLambertMaterial||de.isMeshBasicMaterial||de.isMeshStandardMaterial||de.isShaderMaterial)&&Zt.setValue(Me,"isOrthographic",q.isOrthographicCamera===!0),(de.isMeshPhongMaterial||de.isMeshToonMaterial||de.isMeshLambertMaterial||de.isMeshBasicMaterial||de.isMeshStandardMaterial||de.isShaderMaterial||de.isShadowMaterial||Fe.isSkinnedMesh)&&Zt.setValue(Me,"viewMatrix",q.matrixWorldInverse)}if(Fe.isSkinnedMesh){Zt.setOptional(Me,Fe,"bindMatrix"),Zt.setOptional(Me,Fe,"bindMatrixInverse");const gs=Fe.skeleton;gs&&(Lt.floatVertexTextures?(gs.boneTexture===null&&gs.computeBoneTexture(),Zt.setValue(Me,"boneTexture",gs.boneTexture,et),Zt.setValue(Me,"boneTextureSize",gs.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const xo=Le.morphAttributes;if((xo.position!==void 0||xo.normal!==void 0||xo.color!==void 0&&Lt.isWebGL2===!0)&&Je.update(Fe,Le,de,Ns),(kn||li.receiveShadow!==Fe.receiveShadow)&&(li.receiveShadow=Fe.receiveShadow,Zt.setValue(Me,"receiveShadow",Fe.receiveShadow)),de.isMeshGouraudMaterial&&de.envMap!==null&&(Ts.envMap.value=Rt,Ts.flipEnvMap.value=Rt.isCubeTexture&&Rt.isRenderTargetTexture===!1?-1:1),kn&&(Zt.setValue(Me,"toneMappingExposure",g.toneMappingExposure),li.needsLights&&$n(Ts,W),ct&&de.fog===!0&&Ws.refreshFogUniforms(Ts,ct),Ws.refreshMaterialUniforms(Ts,de,ce,ee,be),cd.upload(Me,li.uniformsList,Ts,et)),de.isShaderMaterial&&de.uniformsNeedUpdate===!0&&(cd.upload(Me,li.uniformsList,Ts,et),de.uniformsNeedUpdate=!1),de.isSpriteMaterial&&Zt.setValue(Me,"center",Fe.center),Zt.setValue(Me,"modelViewMatrix",Fe.modelViewMatrix),Zt.setValue(Me,"normalMatrix",Fe.normalMatrix),Zt.setValue(Me,"modelMatrix",Fe.matrixWorld),de.isShaderMaterial||de.isRawShaderMaterial){const gs=de.uniformsGroups;for(let er=0,un=gs.length;er<un;er++)if(Lt.isWebGL2){const $s=gs[er];ot.update($s,Ns),ot.bind($s,Ns)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Ns}function $n(q,Te){q.ambientLightColor.needsUpdate=Te,q.lightProbe.needsUpdate=Te,q.directionalLights.needsUpdate=Te,q.directionalLightShadows.needsUpdate=Te,q.pointLights.needsUpdate=Te,q.pointLightShadows.needsUpdate=Te,q.spotLights.needsUpdate=Te,q.spotLightShadows.needsUpdate=Te,q.rectAreaLights.needsUpdate=Te,q.hemisphereLights.needsUpdate=Te}function jr(q){return q.isMeshLambertMaterial||q.isMeshToonMaterial||q.isMeshPhongMaterial||q.isMeshStandardMaterial||q.isShadowMaterial||q.isShaderMaterial&&q.lights===!0}this.getActiveCubeFace=function(){return v},this.getActiveMipmapLevel=function(){return C},this.getRenderTarget=function(){return N},this.setRenderTargetTextures=function(q,Te,Le){Mt.get(q.texture).__webglTexture=Te,Mt.get(q.depthTexture).__webglTexture=Le;const de=Mt.get(q);de.__hasExternalTextures=!0,de.__hasExternalTextures&&(de.__autoAllocateDepthBuffer=Le===void 0,de.__autoAllocateDepthBuffer||St.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),de.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(q,Te){const Le=Mt.get(q);Le.__webglFramebuffer=Te,Le.__useDefaultFramebuffer=Te===void 0},this.setRenderTarget=function(q,Te=0,Le=0){N=q,v=Te,C=Le;let de=!0;if(q){const Rt=Mt.get(q);Rt.__useDefaultFramebuffer!==void 0?(lt.bindFramebuffer(36160,null),de=!1):Rt.__webglFramebuffer===void 0?et.setupRenderTarget(q):Rt.__hasExternalTextures&&et.rebindTextures(q,Mt.get(q.texture).__webglTexture,Mt.get(q.depthTexture).__webglTexture)}let Fe=null,ct=!1,ut=!1;if(q){const Rt=q.texture;(Rt.isData3DTexture||Rt.isDataArrayTexture)&&(ut=!0);const di=Mt.get(q).__webglFramebuffer;q.isWebGLCubeRenderTarget?(Fe=di[Te],ct=!0):Lt.isWebGL2&&q.samples>0&&et.useMultisampledRTT(q)===!1?Fe=Mt.get(q).__webglMultisampledFramebuffer:Fe=di,w.copy(q.viewport),O.copy(q.scissor),X=q.scissorTest}else w.copy(oe).multiplyScalar(ce).floor(),O.copy(Se).multiplyScalar(ce).floor(),X=Pe;if(lt.bindFramebuffer(36160,Fe)&&Lt.drawBuffers&&de&&lt.drawBuffers(q,Fe),lt.viewport(w),lt.scissor(O),lt.setScissorTest(X),ct){const Rt=Mt.get(q.texture);Me.framebufferTexture2D(36160,36064,34069+Te,Rt.__webglTexture,Le)}else if(ut){const Rt=Mt.get(q.texture),di=Te||0;Me.framebufferTextureLayer(36160,36064,Rt.__webglTexture,Le||0,di)}F=-1},this.readRenderTargetPixels=function(q,Te,Le,de,Fe,ct,ut){if(!(q&&q.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let zt=Mt.get(q).__webglFramebuffer;if(q.isWebGLCubeRenderTarget&&ut!==void 0&&(zt=zt[ut]),zt){lt.bindFramebuffer(36160,zt);try{const Rt=q.texture,di=Rt.format,yt=Rt.type;if(di!==Xs&&ve.convert(di)!==Me.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const wt=yt===Wc&&(St.has("EXT_color_buffer_half_float")||Lt.isWebGL2&&St.has("EXT_color_buffer_float"));if(yt!==qa&&ve.convert(yt)!==Me.getParameter(35738)&&!(yt===Qo&&(Lt.isWebGL2||St.has("OES_texture_float")||St.has("WEBGL_color_buffer_float")))&&!wt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Te>=0&&Te<=q.width-de&&Le>=0&&Le<=q.height-Fe&&Me.readPixels(Te,Le,de,Fe,ve.convert(di),ve.convert(yt),ct)}finally{const Rt=N!==null?Mt.get(N).__webglFramebuffer:null;lt.bindFramebuffer(36160,Rt)}}},this.copyFramebufferToTexture=function(q,Te,Le=0){const de=Math.pow(2,-Le),Fe=Math.floor(Te.image.width*de),ct=Math.floor(Te.image.height*de);et.setTexture2D(Te,0),Me.copyTexSubImage2D(3553,Le,0,0,q.x,q.y,Fe,ct),lt.unbindTexture()},this.copyTextureToTexture=function(q,Te,Le,de=0){const Fe=Te.image.width,ct=Te.image.height,ut=ve.convert(Le.format),zt=ve.convert(Le.type);et.setTexture2D(Le,0),Me.pixelStorei(37440,Le.flipY),Me.pixelStorei(37441,Le.premultiplyAlpha),Me.pixelStorei(3317,Le.unpackAlignment),Te.isDataTexture?Me.texSubImage2D(3553,de,q.x,q.y,Fe,ct,ut,zt,Te.image.data):Te.isCompressedTexture?Me.compressedTexSubImage2D(3553,de,q.x,q.y,Te.mipmaps[0].width,Te.mipmaps[0].height,ut,Te.mipmaps[0].data):Me.texSubImage2D(3553,de,q.x,q.y,ut,zt,Te.image),de===0&&Le.generateMipmaps&&Me.generateMipmap(3553),lt.unbindTexture()},this.copyTextureToTexture3D=function(q,Te,Le,de,Fe=0){if(g.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const ct=q.max.x-q.min.x+1,ut=q.max.y-q.min.y+1,zt=q.max.z-q.min.z+1,Rt=ve.convert(de.format),di=ve.convert(de.type);let yt;if(de.isData3DTexture)et.setTexture3D(de,0),yt=32879;else if(de.isDataArrayTexture)et.setTexture2DArray(de,0),yt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Me.pixelStorei(37440,de.flipY),Me.pixelStorei(37441,de.premultiplyAlpha),Me.pixelStorei(3317,de.unpackAlignment);const wt=Me.getParameter(3314),Ri=Me.getParameter(32878),Yn=Me.getParameter(3316),cn=Me.getParameter(3315),qs=Me.getParameter(32877),Dt=Le.isCompressedTexture?Le.mipmaps[0]:Le.image;Me.pixelStorei(3314,Dt.width),Me.pixelStorei(32878,Dt.height),Me.pixelStorei(3316,q.min.x),Me.pixelStorei(3315,q.min.y),Me.pixelStorei(32877,q.min.z),Le.isDataTexture||Le.isData3DTexture?Me.texSubImage3D(yt,Fe,Te.x,Te.y,Te.z,ct,ut,zt,Rt,di,Dt.data):Le.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Me.compressedTexSubImage3D(yt,Fe,Te.x,Te.y,Te.z,ct,ut,zt,Rt,Dt.data)):Me.texSubImage3D(yt,Fe,Te.x,Te.y,Te.z,ct,ut,zt,Rt,di,Dt),Me.pixelStorei(3314,wt),Me.pixelStorei(32878,Ri),Me.pixelStorei(3316,Yn),Me.pixelStorei(3315,cn),Me.pixelStorei(32877,qs),Fe===0&&de.generateMipmaps&&Me.generateMipmap(yt),lt.unbindTexture()},this.initTexture=function(q){q.isCubeTexture?et.setTextureCube(q,0):q.isData3DTexture?et.setTexture3D(q,0):q.isDataArrayTexture?et.setTexture2DArray(q,0):et.setTexture2D(q,0),lt.unbindTexture()},this.resetState=function(){v=0,C=0,N=null,lt.reset(),dt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class cA extends L0{}cA.prototype.isWebGL1Renderer=!0;class S0{constructor(i,t=1,s=1e3){this.isFog=!0,this.name="",this.color=new ge(i),this.near=t,this.far=s}clone(){return new S0(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class ur extends _i{constructor(){super();this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(i,t){return super.copy(i,t),i.background!==null&&(this.background=i.background.clone()),i.environment!==null&&(this.environment=i.environment.clone()),i.fog!==null&&(this.fog=i.fog.clone()),i.overrideMaterial!==null&&(this.overrideMaterial=i.overrideMaterial.clone()),this.matrixAutoUpdate=i.matrixAutoUpdate,this}toJSON(i){const t=super.toJSON(i);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(i){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=i}}class yg{constructor(i,t){this.isInterleavedBuffer=!0,this.array=i,this.stride=t,this.count=i!==void 0?i.length/t:0,this.usage=Km,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=ro()}onUploadCallback(){}set needsUpdate(i){i===!0&&this.version++}setUsage(i){return this.usage=i,this}copy(i){return this.array=new i.array.constructor(i.array),this.count=i.count,this.stride=i.stride,this.usage=i.usage,this}copyAt(i,t,s){i*=this.stride,s*=t.stride;for(let n=0,r=this.stride;n<r;n++)this.array[i+n]=t.array[s+n];return this}set(i,t=0){return this.array.set(i,t),this}clone(i){i.arrayBuffers===void 0&&(i.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ro()),i.arrayBuffers[this.array.buffer._uuid]===void 0&&(i.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(i.arrayBuffers[this.array.buffer._uuid]),s=new this.constructor(t,this.stride);return s.setUsage(this.usage),s}onUpload(i){return this.onUploadCallback=i,this}toJSON(i){return i.arrayBuffers===void 0&&(i.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ro()),i.arrayBuffers[this.array.buffer._uuid]===void 0&&(i.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const an=new H;class wr{constructor(i,t,s,n=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=i,this.itemSize=t,this.offset=s,this.normalized=n===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(i){this.data.needsUpdate=i}applyMatrix4(i){for(let t=0,s=this.data.count;t<s;t++)an.fromBufferAttribute(this,t),an.applyMatrix4(i),this.setXYZ(t,an.x,an.y,an.z);return this}applyNormalMatrix(i){for(let t=0,s=this.count;t<s;t++)an.fromBufferAttribute(this,t),an.applyNormalMatrix(i),this.setXYZ(t,an.x,an.y,an.z);return this}transformDirection(i){for(let t=0,s=this.count;t<s;t++)an.fromBufferAttribute(this,t),an.transformDirection(i),this.setXYZ(t,an.x,an.y,an.z);return this}setX(i,t){return this.normalized&&(t=Yi(t,this.array)),this.data.array[i*this.data.stride+this.offset]=t,this}setY(i,t){return this.normalized&&(t=Yi(t,this.array)),this.data.array[i*this.data.stride+this.offset+1]=t,this}setZ(i,t){return this.normalized&&(t=Yi(t,this.array)),this.data.array[i*this.data.stride+this.offset+2]=t,this}setW(i,t){return this.normalized&&(t=Yi(t,this.array)),this.data.array[i*this.data.stride+this.offset+3]=t,this}getX(i){let t=this.data.array[i*this.data.stride+this.offset];return this.normalized&&(t=oo(t,this.array)),t}getY(i){let t=this.data.array[i*this.data.stride+this.offset+1];return this.normalized&&(t=oo(t,this.array)),t}getZ(i){let t=this.data.array[i*this.data.stride+this.offset+2];return this.normalized&&(t=oo(t,this.array)),t}getW(i){let t=this.data.array[i*this.data.stride+this.offset+3];return this.normalized&&(t=oo(t,this.array)),t}setXY(i,t,s){return i=i*this.data.stride+this.offset,this.normalized&&(t=Yi(t,this.array),s=Yi(s,this.array)),this.data.array[i+0]=t,this.data.array[i+1]=s,this}setXYZ(i,t,s,n){return i=i*this.data.stride+this.offset,this.normalized&&(t=Yi(t,this.array),s=Yi(s,this.array),n=Yi(n,this.array)),this.data.array[i+0]=t,this.data.array[i+1]=s,this.data.array[i+2]=n,this}setXYZW(i,t,s,n,r){return i=i*this.data.stride+this.offset,this.normalized&&(t=Yi(t,this.array),s=Yi(s,this.array),n=Yi(n,this.array),r=Yi(r,this.array)),this.data.array[i+0]=t,this.data.array[i+1]=s,this.data.array[i+2]=n,this.data.array[i+3]=r,this}clone(i){if(i===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let s=0;s<this.count;s++){const n=s*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[n+r])}return new Gt(new this.array.constructor(t),this.itemSize,this.normalized)}else return i.interleavedBuffers===void 0&&(i.interleavedBuffers={}),i.interleavedBuffers[this.data.uuid]===void 0&&(i.interleavedBuffers[this.data.uuid]=this.data.clone(i)),new wr(i.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(i){if(i===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let s=0;s<this.count;s++){const n=s*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[n+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return i.interleavedBuffers===void 0&&(i.interleavedBuffers={}),i.interleavedBuffers[this.data.uuid]===void 0&&(i.interleavedBuffers[this.data.uuid]=this.data.toJSON(i)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class fg extends mo{constructor(i){super();this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ge(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(i)}copy(i){return super.copy(i),this.color.copy(i.color),this.map=i.map,this.alphaMap=i.alphaMap,this.rotation=i.rotation,this.sizeAttenuation=i.sizeAttenuation,this.fog=i.fog,this}}let Sh;const Qc=new H,Mh=new H,xh=new H,vh=new ht,qc=new ht,Tg=new pt,ud=new H,$c=new H,pd=new H,gg=new ht,M0=new ht,bg=new ht;class uA extends _i{constructor(i){super();if(this.isSprite=!0,this.type="Sprite",Sh===void 0){Sh=new Yt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),s=new yg(t,5);Sh.setIndex([0,1,2,0,2,3]),Sh.setAttribute("position",new wr(s,3,0,!1)),Sh.setAttribute("uv",new wr(s,2,3,!1))}this.geometry=Sh,this.material=i!==void 0?i:new fg,this.center=new ht(.5,.5)}raycast(i,t){i.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Mh.setFromMatrixScale(this.matrixWorld),Tg.copy(i.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(i.camera.matrixWorldInverse,this.matrixWorld),xh.setFromMatrixPosition(this.modelViewMatrix),i.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Mh.multiplyScalar(-xh.z);const s=this.material.rotation;let n,r;s!==0&&(r=Math.cos(s),n=Math.sin(s));const o=this.center;dd(ud.set(-.5,-.5,0),xh,o,Mh,n,r),dd($c.set(.5,-.5,0),xh,o,Mh,n,r),dd(pd.set(.5,.5,0),xh,o,Mh,n,r),gg.set(0,0),M0.set(1,0),bg.set(1,1);let a=i.ray.intersectTriangle(ud,$c,pd,!1,Qc);if(a===null&&(dd($c.set(-.5,.5,0),xh,o,Mh,n,r),M0.set(0,1),a=i.ray.intersectTriangle(ud,pd,$c,!1,Qc),a===null))return;const l=i.ray.origin.distanceTo(Qc);l<i.near||l>i.far||t.push({distance:l,point:Qc.clone(),uv:Ln.getUV(Qc,ud,$c,pd,gg,M0,bg,new ht),face:null,object:this})}copy(i,t){return super.copy(i,t),i.center!==void 0&&this.center.copy(i.center),this.material=i.material,this}}function dd(e,i,t,s,n,r){vh.subVectors(e,t).addScalar(.5).multiply(s),n!==void 0?(qc.x=r*vh.x-n*vh.y,qc.y=n*vh.x+r*vh.y):qc.copy(vh),e.copy(i),e.x+=qc.x,e.y+=qc.y,e.applyMatrix4(Tg)}class Ig extends ys{constructor(i=null,t=1,s=1,n,r,o,a,l,h=Ui,c=Ui,u,p){super(null,o,a,l,h,c,n,r,u,p);this.isDataTexture=!0,this.image={data:i,width:t,height:s},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Lg extends Gt{constructor(i,t,s,n=1){super(i,t,s);this.isInstancedBufferAttribute=!0,this.meshPerAttribute=n}copy(i){return super.copy(i),this.meshPerAttribute=i.meshPerAttribute,this}toJSON(){const i=super.toJSON();return i.meshPerAttribute=this.meshPerAttribute,i.isInstancedBufferAttribute=!0,i}}const Sg=new pt,Mg=new pt,md=[],eu=new fi;class pA extends fi{constructor(i,t,s){super(i,t);this.isInstancedMesh=!0,this.instanceMatrix=new Lg(new Float32Array(s*16),16),this.instanceColor=null,this.count=s,this.frustumCulled=!1}copy(i,t){return super.copy(i,t),this.instanceMatrix.copy(i.instanceMatrix),i.instanceColor!==null&&(this.instanceColor=i.instanceColor.clone()),this.count=i.count,this}getColorAt(i,t){t.fromArray(this.instanceColor.array,i*3)}getMatrixAt(i,t){t.fromArray(this.instanceMatrix.array,i*16)}raycast(i,t){const s=this.matrixWorld,n=this.count;if(eu.geometry=this.geometry,eu.material=this.material,eu.material!==void 0)for(let r=0;r<n;r++){this.getMatrixAt(r,Sg),Mg.multiplyMatrices(s,Sg),eu.matrixWorld=Mg,eu.raycast(i,md);for(let o=0,a=md.length;o<a;o++){const l=md[o];l.instanceId=r,l.object=this,t.push(l)}md.length=0}}setColorAt(i,t){this.instanceColor===null&&(this.instanceColor=new Lg(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,i*3)}setMatrixAt(i,t){t.toArray(this.instanceMatrix.array,i*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class yd extends mo{constructor(i){super();this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ge(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(i)}copy(i){return super.copy(i),this.color.copy(i.color),this.linewidth=i.linewidth,this.linecap=i.linecap,this.linejoin=i.linejoin,this.fog=i.fog,this}}const xg=new H,vg=new H,Gg=new pt,x0=new Zc,fd=new In;class Eg extends _i{constructor(i=new Yt,t=new yd){super();this.isLine=!0,this.type="Line",this.geometry=i,this.material=t,this.updateMorphTargets()}copy(i,t){return super.copy(i,t),this.material=i.material,this.geometry=i.geometry,this}computeLineDistances(){const i=this.geometry;if(i.index===null){const t=i.attributes.position,s=[0];for(let n=1,r=t.count;n<r;n++)xg.fromBufferAttribute(t,n-1),vg.fromBufferAttribute(t,n),s[n]=s[n-1],s[n]+=xg.distanceTo(vg);i.setAttribute("lineDistance",new Vi(s,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(i,t){const s=this.geometry,n=this.matrixWorld,r=i.params.Line.threshold,o=s.drawRange;if(s.boundingSphere===null&&s.computeBoundingSphere(),fd.copy(s.boundingSphere),fd.applyMatrix4(n),fd.radius+=r,i.ray.intersectsSphere(fd)===!1)return;Gg.copy(n).invert(),x0.copy(i.ray).applyMatrix4(Gg);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,h=new H,c=new H,u=new H,p=new H,d=this.isLineSegments?2:1,T=s.index,I=s.attributes.position;if(T!==null){const v=Math.max(0,o.start),C=Math.min(T.count,o.start+o.count);for(let N=v,F=C-1;N<F;N+=d){const P=T.getX(N),w=T.getX(N+1);if(h.fromBufferAttribute(I,P),c.fromBufferAttribute(I,w),x0.distanceSqToSegment(h,c,p,u)>l)continue;p.applyMatrix4(this.matrixWorld);const X=i.ray.origin.distanceTo(p);X<i.near||X>i.far||t.push({distance:X,point:u.clone().applyMatrix4(this.matrixWorld),index:N,face:null,faceIndex:null,object:this})}}else{const v=Math.max(0,o.start),C=Math.min(I.count,o.start+o.count);for(let N=v,F=C-1;N<F;N+=d){if(h.fromBufferAttribute(I,N),c.fromBufferAttribute(I,N+1),x0.distanceSqToSegment(h,c,p,u)>l)continue;p.applyMatrix4(this.matrixWorld);const w=i.ray.origin.distanceTo(p);w<i.near||w>i.far||t.push({distance:w,point:u.clone().applyMatrix4(this.matrixWorld),index:N,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,s=Object.keys(t);if(s.length>0){const n=t[s[0]];if(n!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=n.length;r<o;r++){const a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}const Cg=new H,Rg=new H;class v0 extends Eg{constructor(i,t){super(i,t);this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const i=this.geometry;if(i.index===null){const t=i.attributes.position,s=[];for(let n=0,r=t.count;n<r;n+=2)Cg.fromBufferAttribute(t,n),Rg.fromBufferAttribute(t,n+1),s[n]=n===0?0:s[n-1],s[n+1]=s[n]+Cg.distanceTo(Rg);i.setAttribute("lineDistance",new Vi(s,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Ng extends mo{constructor(i){super();this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ge(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(i)}copy(i){return super.copy(i),this.color.copy(i.color),this.map=i.map,this.alphaMap=i.alphaMap,this.size=i.size,this.sizeAttenuation=i.sizeAttenuation,this.fog=i.fog,this}}const Fg=new pt,G0=new Zc,Td=new In,gd=new H;class E0 extends _i{constructor(i=new Yt,t=new Ng){super();this.isPoints=!0,this.type="Points",this.geometry=i,this.material=t,this.updateMorphTargets()}copy(i,t){return super.copy(i,t),this.material=i.material,this.geometry=i.geometry,this}raycast(i,t){const s=this.geometry,n=this.matrixWorld,r=i.params.Points.threshold,o=s.drawRange;if(s.boundingSphere===null&&s.computeBoundingSphere(),Td.copy(s.boundingSphere),Td.applyMatrix4(n),Td.radius+=r,i.ray.intersectsSphere(Td)===!1)return;Fg.copy(n).invert(),G0.copy(i.ray).applyMatrix4(Fg);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,h=s.index,u=s.attributes.position;if(h!==null){const p=Math.max(0,o.start),d=Math.min(h.count,o.start+o.count);for(let T=p,g=d;T<g;T++){const I=h.getX(T);gd.fromBufferAttribute(u,I),Pg(gd,I,l,n,i,t,this)}}else{const p=Math.max(0,o.start),d=Math.min(u.count,o.start+o.count);for(let T=p,g=d;T<g;T++)gd.fromBufferAttribute(u,T),Pg(gd,T,l,n,i,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,s=Object.keys(t);if(s.length>0){const n=t[s[0]];if(n!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=n.length;r<o;r++){const a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}function Pg(e,i,t,s,n,r,o){const a=G0.distanceSqToPoint(e);if(a<t){const l=new H;G0.closestPointToPoint(e,l),l.applyMatrix4(s);const h=n.ray.origin.distanceTo(l);if(h<n.near||h>n.far)return;r.push({distance:h,distanceToRay:Math.sqrt(a),point:l,index:i,face:null,object:o})}}class wg extends ys{constructor(i,t,s,n,r,o,a,l,h){super(i,t,s,n,r,o,a,l,h);this.isCanvasTexture=!0,this.needsUpdate=!0}}class C0 extends Yt{constructor(i=1,t=8,s=0,n=Math.PI*2){super();this.type="CircleGeometry",this.parameters={radius:i,segments:t,thetaStart:s,thetaLength:n},t=Math.max(3,t);const r=[],o=[],a=[],l=[],h=new H,c=new ht;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let u=0,p=3;u<=t;u++,p+=3){const d=s+u/t*n;h.x=i*Math.cos(d),h.y=i*Math.sin(d),o.push(h.x,h.y,h.z),a.push(0,0,1),c.x=(o[p]/i+1)/2,c.y=(o[p+1]/i+1)/2,l.push(c.x,c.y)}for(let u=1;u<=t;u++)r.push(u,u+1,0);this.setIndex(r),this.setAttribute("position",new Vi(o,3)),this.setAttribute("normal",new Vi(a,3)),this.setAttribute("uv",new Vi(l,2))}static fromJSON(i){return new C0(i.radius,i.segments,i.thetaStart,i.thetaLength)}}class R0 extends Yt{constructor(i=1,t=1,s=1,n=8,r=1,o=!1,a=0,l=Math.PI*2){super();this.type="CylinderGeometry",this.parameters={radiusTop:i,radiusBottom:t,height:s,radialSegments:n,heightSegments:r,openEnded:o,thetaStart:a,thetaLength:l};const h=this;n=Math.floor(n),r=Math.floor(r);const c=[],u=[],p=[],d=[];let T=0;const g=[],I=s/2;let v=0;C(),o===!1&&(i>0&&N(!0),t>0&&N(!1)),this.setIndex(c),this.setAttribute("position",new Vi(u,3)),this.setAttribute("normal",new Vi(p,3)),this.setAttribute("uv",new Vi(d,2));function C(){const F=new H,P=new H;let w=0;const O=(t-i)/s;for(let X=0;X<=r;X++){const K=[],ee=X/r,ce=ee*(t-i)+i;for(let me=0;me<=n;me++){const ae=me/n,oe=ae*l+a,Se=Math.sin(oe),Pe=Math.cos(oe);P.x=ce*Se,P.y=-ee*s+I,P.z=ce*Pe,u.push(P.x,P.y,P.z),F.set(Se,O,Pe).normalize(),p.push(F.x,F.y,F.z),d.push(ae,1-ee),K.push(T++)}g.push(K)}for(let X=0;X<n;X++)for(let K=0;K<r;K++){const ee=g[K][X],ce=g[K+1][X],me=g[K+1][X+1],ae=g[K][X+1];c.push(ee,ce,ae),c.push(ce,me,ae),w+=6}h.addGroup(v,w,0),v+=w}function N(F){const P=T,w=new ht,O=new H;let X=0;const K=F===!0?i:t,ee=F===!0?1:-1;for(let me=1;me<=n;me++)u.push(0,I*ee,0),p.push(0,ee,0),d.push(.5,.5),T++;const ce=T;for(let me=0;me<=n;me++){const oe=me/n*l+a,Se=Math.cos(oe),Pe=Math.sin(oe);O.x=K*Pe,O.y=I*ee,O.z=K*Se,u.push(O.x,O.y,O.z),p.push(0,ee,0),w.x=Se*.5+.5,w.y=Pe*.5*ee+.5,d.push(w.x,w.y),T++}for(let me=0;me<n;me++){const ae=P+me,oe=ce+me;F===!0?c.push(oe,oe+1,ae):c.push(oe+1,oe,ae),X+=3}h.addGroup(v,X,F===!0?1:2),v+=X}}static fromJSON(i){return new R0(i.radiusTop,i.radiusBottom,i.height,i.radialSegments,i.heightSegments,i.openEnded,i.thetaStart,i.thetaLength)}}class N0 extends R0{constructor(i=1,t=1,s=8,n=1,r=!1,o=0,a=Math.PI*2){super(0,i,t,s,n,r,o,a);this.type="ConeGeometry",this.parameters={radius:i,height:t,radialSegments:s,heightSegments:n,openEnded:r,thetaStart:o,thetaLength:a}}static fromJSON(i){return new N0(i.radius,i.height,i.radialSegments,i.heightSegments,i.openEnded,i.thetaStart,i.thetaLength)}}class F0 extends Yt{constructor(i=.5,t=1,s=8,n=1,r=0,o=Math.PI*2){super();this.type="RingGeometry",this.parameters={innerRadius:i,outerRadius:t,thetaSegments:s,phiSegments:n,thetaStart:r,thetaLength:o},s=Math.max(3,s),n=Math.max(1,n);const a=[],l=[],h=[],c=[];let u=i;const p=(t-i)/n,d=new H,T=new ht;for(let g=0;g<=n;g++){for(let I=0;I<=s;I++){const v=r+I/s*o;d.x=u*Math.cos(v),d.y=u*Math.sin(v),l.push(d.x,d.y,d.z),h.push(0,0,1),T.x=(d.x/t+1)/2,T.y=(d.y/t+1)/2,c.push(T.x,T.y)}u+=p}for(let g=0;g<n;g++){const I=g*(s+1);for(let v=0;v<s;v++){const C=v+I,N=C,F=C+s+1,P=C+s+2,w=C+1;a.push(N,F,w),a.push(F,P,w)}}this.setIndex(a),this.setAttribute("position",new Vi(l,3)),this.setAttribute("normal",new Vi(h,3)),this.setAttribute("uv",new Vi(c,2))}static fromJSON(i){return new F0(i.innerRadius,i.outerRadius,i.thetaSegments,i.phiSegments,i.thetaStart,i.thetaLength)}}class tu extends Yt{constructor(i=1,t=32,s=16,n=0,r=Math.PI*2,o=0,a=Math.PI){super();this.type="SphereGeometry",this.parameters={radius:i,widthSegments:t,heightSegments:s,phiStart:n,phiLength:r,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),s=Math.max(2,Math.floor(s));const l=Math.min(o+a,Math.PI);let h=0;const c=[],u=new H,p=new H,d=[],T=[],g=[],I=[];for(let v=0;v<=s;v++){const C=[],N=v/s;let F=0;v==0&&o==0?F=.5/t:v==s&&l==Math.PI&&(F=-.5/t);for(let P=0;P<=t;P++){const w=P/t;u.x=-i*Math.cos(n+w*r)*Math.sin(o+N*a),u.y=i*Math.cos(o+N*a),u.z=i*Math.sin(n+w*r)*Math.sin(o+N*a),T.push(u.x,u.y,u.z),p.copy(u).normalize(),g.push(p.x,p.y,p.z),I.push(w+F,1-N),C.push(h++)}c.push(C)}for(let v=0;v<s;v++)for(let C=0;C<t;C++){const N=c[v][C+1],F=c[v][C],P=c[v+1][C],w=c[v+1][C+1];(v!==0||o>0)&&d.push(N,F,w),(v!==s-1||l<Math.PI)&&d.push(F,P,w)}this.setIndex(d),this.setAttribute("position",new Vi(T,3)),this.setAttribute("normal",new Vi(g,3)),this.setAttribute("uv",new Vi(I,2))}static fromJSON(i){return new tu(i.radius,i.widthSegments,i.heightSegments,i.phiStart,i.phiLength,i.thetaStart,i.thetaLength)}}class dA extends Yt{constructor(i=null){super();if(this.type="WireframeGeometry",this.parameters={geometry:i},i!==null){const t=[],s=new Set,n=new H,r=new H;if(i.index!==null){const o=i.attributes.position,a=i.index;let l=i.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let h=0,c=l.length;h<c;++h){const u=l[h],p=u.start,d=u.count;for(let T=p,g=p+d;T<g;T+=3)for(let I=0;I<3;I++){const v=a.getX(T+I),C=a.getX(T+(I+1)%3);n.fromBufferAttribute(o,v),r.fromBufferAttribute(o,C),Xg(n,r,s)===!0&&(t.push(n.x,n.y,n.z),t.push(r.x,r.y,r.z))}}}else{const o=i.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let h=0;h<3;h++){const c=3*a+h,u=3*a+(h+1)%3;n.fromBufferAttribute(o,c),r.fromBufferAttribute(o,u),Xg(n,r,s)===!0&&(t.push(n.x,n.y,n.z),t.push(r.x,r.y,r.z))}}this.setAttribute("position",new Vi(t,3))}}}function Xg(e,i,t){const s=`${e.x},${e.y},${e.z}-${i.x},${i.y},${i.z}`,n=`${i.x},${i.y},${i.z}-${e.x},${e.y},${e.z}`;return t.has(s)===!0||t.has(n)===!0?!1:(t.add(s),t.add(n),!0)}class mA extends fs{constructor(i){super(i);this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class yA extends mo{constructor(i){super();this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ge(16777215),this.specular=new ge(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ge(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=km,this.normalScale=new ht(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Dp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(i)}copy(i){return super.copy(i),this.color.copy(i.color),this.specular.copy(i.specular),this.shininess=i.shininess,this.map=i.map,this.lightMap=i.lightMap,this.lightMapIntensity=i.lightMapIntensity,this.aoMap=i.aoMap,this.aoMapIntensity=i.aoMapIntensity,this.emissive.copy(i.emissive),this.emissiveMap=i.emissiveMap,this.emissiveIntensity=i.emissiveIntensity,this.bumpMap=i.bumpMap,this.bumpScale=i.bumpScale,this.normalMap=i.normalMap,this.normalMapType=i.normalMapType,this.normalScale.copy(i.normalScale),this.displacementMap=i.displacementMap,this.displacementScale=i.displacementScale,this.displacementBias=i.displacementBias,this.specularMap=i.specularMap,this.alphaMap=i.alphaMap,this.envMap=i.envMap,this.combine=i.combine,this.reflectivity=i.reflectivity,this.refractionRatio=i.refractionRatio,this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this.wireframeLinecap=i.wireframeLinecap,this.wireframeLinejoin=i.wireframeLinejoin,this.flatShading=i.flatShading,this.fog=i.fog,this}}class P0 extends mo{constructor(i){super();this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ge(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ge(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=km,this.normalScale=new ht(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Dp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(i)}copy(i){return super.copy(i),this.color.copy(i.color),this.map=i.map,this.lightMap=i.lightMap,this.lightMapIntensity=i.lightMapIntensity,this.aoMap=i.aoMap,this.aoMapIntensity=i.aoMapIntensity,this.emissive.copy(i.emissive),this.emissiveMap=i.emissiveMap,this.emissiveIntensity=i.emissiveIntensity,this.bumpMap=i.bumpMap,this.bumpScale=i.bumpScale,this.normalMap=i.normalMap,this.normalMapType=i.normalMapType,this.normalScale.copy(i.normalScale),this.displacementMap=i.displacementMap,this.displacementScale=i.displacementScale,this.displacementBias=i.displacementBias,this.specularMap=i.specularMap,this.alphaMap=i.alphaMap,this.envMap=i.envMap,this.combine=i.combine,this.reflectivity=i.reflectivity,this.refractionRatio=i.refractionRatio,this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this.wireframeLinecap=i.wireframeLinecap,this.wireframeLinejoin=i.wireframeLinejoin,this.flatShading=i.flatShading,this.fog=i.fog,this}}const bd={enabled:!1,files:{},add:function(e,i){this.enabled!==!1&&(this.files[e]=i)},get:function(e){if(this.enabled!==!1)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};class Dg{constructor(i,t,s){const n=this;let r=!1,o=0,a=0,l;const h=[];this.onStart=void 0,this.onLoad=i,this.onProgress=t,this.onError=s,this.itemStart=function(c){a++,r===!1&&n.onStart!==void 0&&n.onStart(c,o,a),r=!0},this.itemEnd=function(c){o++,n.onProgress!==void 0&&n.onProgress(c,o,a),o===a&&(r=!1,n.onLoad!==void 0&&n.onLoad())},this.itemError=function(c){n.onError!==void 0&&n.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,u){return h.push(c,u),this},this.removeHandler=function(c){const u=h.indexOf(c);return u!==-1&&h.splice(u,2),this},this.getHandler=function(c){for(let u=0,p=h.length;u<p;u+=2){const d=h[u],T=h[u+1];if(d.global&&(d.lastIndex=0),d.test(c))return T}return null}}}const fA=new Dg;class Id{constructor(i){this.manager=i!==void 0?i:fA,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(i,t){const s=this;return new Promise(function(n,r){s.load(i,n,t,r)})}parse(){}setCrossOrigin(i){return this.crossOrigin=i,this}setWithCredentials(i){return this.withCredentials=i,this}setPath(i){return this.path=i,this}setResourcePath(i){return this.resourcePath=i,this}setRequestHeader(i){return this.requestHeader=i,this}}const yo={};class TA extends Error{constructor(i,t){super(i);this.response=t}}class gA extends Id{constructor(i){super(i)}load(i,t,s,n){i===void 0&&(i=""),this.path!==void 0&&(i=this.path+i),i=this.manager.resolveURL(i);const r=bd.get(i);if(r!==void 0)return this.manager.itemStart(i),setTimeout(()=>{t&&t(r),this.manager.itemEnd(i)},0),r;if(yo[i]!==void 0){yo[i].push({onLoad:t,onProgress:s,onError:n});return}yo[i]=[],yo[i].push({onLoad:t,onProgress:s,onError:n});const o=new Request(i,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(h=>{if(h.status===200||h.status===0){if(h.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||h.body===void 0||h.body.getReader===void 0)return h;const c=yo[i],u=h.body.getReader(),p=h.headers.get("Content-Length"),d=p?parseInt(p):0,T=d!==0;let g=0;const I=new ReadableStream({start(v){C();function C(){u.read().then(({done:N,value:F})=>{if(N)v.close();else{g+=F.byteLength;const P=new ProgressEvent("progress",{lengthComputable:T,loaded:g,total:d});for(let w=0,O=c.length;w<O;w++){const X=c[w];X.onProgress&&X.onProgress(P)}v.enqueue(F),C()}})}}});return new Response(I)}else throw new TA(`fetch for "${h.url}" responded with ${h.status}: ${h.statusText}`,h)}).then(h=>{switch(l){case"arraybuffer":return h.arrayBuffer();case"blob":return h.blob();case"document":return h.text().then(c=>new DOMParser().parseFromString(c,a));case"json":return h.json();default:if(a===void 0)return h.text();{const u=/charset="?([^;"\s]*)"?/i.exec(a),p=u&&u[1]?u[1].toLowerCase():void 0,d=new TextDecoder(p);return h.arrayBuffer().then(T=>d.decode(T))}}}).then(h=>{bd.add(i,h);const c=yo[i];delete yo[i];for(let u=0,p=c.length;u<p;u++){const d=c[u];d.onLoad&&d.onLoad(h)}}).catch(h=>{const c=yo[i];if(c===void 0)throw this.manager.itemError(i),h;delete yo[i];for(let u=0,p=c.length;u<p;u++){const d=c[u];d.onError&&d.onError(h)}this.manager.itemError(i)}).finally(()=>{this.manager.itemEnd(i)}),this.manager.itemStart(i)}setResponseType(i){return this.responseType=i,this}setMimeType(i){return this.mimeType=i,this}}class bA extends Id{constructor(i){super(i)}load(i,t,s,n){this.path!==void 0&&(i=this.path+i),i=this.manager.resolveURL(i);const r=this,o=bd.get(i);if(o!==void 0)return r.manager.itemStart(i),setTimeout(function(){t&&t(o),r.manager.itemEnd(i)},0),o;const a=Ac("img");function l(){c(),bd.add(i,this),t&&t(this),r.manager.itemEnd(i)}function h(u){c(),n&&n(u),r.manager.itemError(i),r.manager.itemEnd(i)}function c(){a.removeEventListener("load",l,!1),a.removeEventListener("error",h,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",h,!1),i.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),r.manager.itemStart(i),a.src=i,a}}class IA extends Id{constructor(i){super(i)}load(i,t,s,n){const r=new ys,o=new bA(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(i,function(a){r.image=a,r.needsUpdate=!0,t!==void 0&&t(r)},s,n),r}}class Og extends _i{constructor(i,t=1){super();this.isLight=!0,this.type="Light",this.color=new ge(i),this.intensity=t}dispose(){}copy(i,t){return super.copy(i,t),this.color.copy(i.color),this.intensity=i.intensity,this}toJSON(i){const t=super.toJSON(i);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}const zg=new pt,Wg=new H,Yg=new H;class LA{constructor(i){this.camera=i,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ht(512,512),this.map=null,this.mapPass=null,this.matrix=new pt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Vc,this._frameExtents=new ht(1,1),this._viewportCount=1,this._viewports=[new nt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(i){const t=this.camera,s=this.matrix;Wg.setFromMatrixPosition(i.matrixWorld),t.position.copy(Wg),Yg.setFromMatrixPosition(i.target.matrixWorld),t.lookAt(Yg),t.updateMatrixWorld(),zg.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(zg),s.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),s.multiply(t.projectionMatrix),s.multiply(t.matrixWorldInverse)}getViewport(i){return this._viewports[i]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(i){return this.camera=i.camera.clone(),this.bias=i.bias,this.radius=i.radius,this.mapSize.copy(i.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const i={};return this.bias!==0&&(i.bias=this.bias),this.normalBias!==0&&(i.normalBias=this.normalBias),this.radius!==1&&(i.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(i.mapSize=this.mapSize.toArray()),i.camera=this.camera.toJSON(!1).object,delete i.camera.matrix,i}}class SA extends LA{constructor(){super(new Bc(-5,5,5,-5,.5,500));this.isDirectionalLightShadow=!0}}class kg extends Og{constructor(i,t){super(i,t);this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(_i.DefaultUp),this.updateMatrix(),this.target=new _i,this.shadow=new SA}dispose(){this.shadow.dispose()}copy(i){return super.copy(i),this.target=i.target.clone(),this.shadow=i.shadow.clone(),this}}class MA extends Og{constructor(i,t){super(i,t);this.isAmbientLight=!0,this.type="AmbientLight"}}class xA extends Yt{constructor(){super();this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(i){return super.copy(i),this.instanceCount=i.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const i=super.toJSON(this);return i.instanceCount=this.instanceCount,i.isInstancedBufferGeometry=!0,i}}class vA{constructor(i=!0){this.autoStart=i,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Ag(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let i=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=Ag();i=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=i}return i}}function Ag(){return(typeof performance>"u"?Date:performance).now()}const w0="\\[\\]\\.:\\/",GA=new RegExp("["+w0+"]","g"),X0="[^"+w0+"]",EA="[^"+w0.replace("\\.","")+"]",CA=/((?:WC+[\/:])*)/.source.replace("WC",X0),RA=/(WCOD+)?/.source.replace("WCOD",EA),NA=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",X0),FA=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",X0),PA=new RegExp("^"+CA+RA+NA+FA+"$"),wA=["material","materials","bones","map"];class XA{constructor(i,t,s){const n=s||vi.parseTrackName(t);this._targetGroup=i,this._bindings=i.subscribe_(t,n)}getValue(i,t){this.bind();const s=this._targetGroup.nCachedObjects_,n=this._bindings[s];n!==void 0&&n.getValue(i,t)}setValue(i,t){const s=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=s.length;n!==r;++n)s[n].setValue(i,t)}bind(){const i=this._bindings;for(let t=this._targetGroup.nCachedObjects_,s=i.length;t!==s;++t)i[t].bind()}unbind(){const i=this._bindings;for(let t=this._targetGroup.nCachedObjects_,s=i.length;t!==s;++t)i[t].unbind()}}class vi{constructor(i,t,s){this.path=t,this.parsedPath=s||vi.parseTrackName(t),this.node=vi.findNode(i,this.parsedPath.nodeName)||i,this.rootNode=i,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(i,t,s){return i&&i.isAnimationObjectGroup?new vi.Composite(i,t,s):new vi(i,t,s)}static sanitizeNodeName(i){return i.replace(/\s/g,"_").replace(GA,"")}static parseTrackName(i){const t=PA.exec(i);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+i);const s={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},n=s.nodeName&&s.nodeName.lastIndexOf(".");if(n!==void 0&&n!==-1){const r=s.nodeName.substring(n+1);wA.indexOf(r)!==-1&&(s.nodeName=s.nodeName.substring(0,n),s.objectName=r)}if(s.propertyName===null||s.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+i);return s}static findNode(i,t){if(t===void 0||t===""||t==="."||t===-1||t===i.name||t===i.uuid)return i;if(i.skeleton){const s=i.skeleton.getBoneByName(t);if(s!==void 0)return s}if(i.children){const s=function(r){for(let o=0;o<r.length;o++){const a=r[o];if(a.name===t||a.uuid===t)return a;const l=s(a.children);if(l)return l}return null},n=s(i.children);if(n)return n}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(i,t){i[t]=this.targetObject[this.propertyName]}_getValue_array(i,t){const s=this.resolvedProperty;for(let n=0,r=s.length;n!==r;++n)i[t++]=s[n]}_getValue_arrayElement(i,t){i[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(i,t){this.resolvedProperty.toArray(i,t)}_setValue_direct(i,t){this.targetObject[this.propertyName]=i[t]}_setValue_direct_setNeedsUpdate(i,t){this.targetObject[this.propertyName]=i[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(i,t){this.targetObject[this.propertyName]=i[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(i,t){const s=this.resolvedProperty;for(let n=0,r=s.length;n!==r;++n)s[n]=i[t++]}_setValue_array_setNeedsUpdate(i,t){const s=this.resolvedProperty;for(let n=0,r=s.length;n!==r;++n)s[n]=i[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(i,t){const s=this.resolvedProperty;for(let n=0,r=s.length;n!==r;++n)s[n]=i[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(i,t){this.resolvedProperty[this.propertyIndex]=i[t]}_setValue_arrayElement_setNeedsUpdate(i,t){this.resolvedProperty[this.propertyIndex]=i[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(i,t){this.resolvedProperty[this.propertyIndex]=i[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(i,t){this.resolvedProperty.fromArray(i,t)}_setValue_fromArray_setNeedsUpdate(i,t){this.resolvedProperty.fromArray(i,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(i,t){this.resolvedProperty.fromArray(i,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(i,t){this.bind(),this.getValue(i,t)}_setValue_unbound(i,t){this.bind(),this.setValue(i,t)}bind(){let i=this.node;const t=this.parsedPath,s=t.objectName,n=t.propertyName;let r=t.propertyIndex;if(i||(i=vi.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=i),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!i){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(s){let h=t.objectIndex;switch(s){case"materials":if(!i.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!i.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}i=i.material.materials;break;case"bones":if(!i.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}i=i.skeleton.bones;for(let c=0;c<i.length;c++)if(i[c].name===h){h=c;break}break;case"map":if(!i.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!i.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}i=i.material.map;break;default:if(i[s]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}i=i[s]}if(h!==void 0){if(i[h]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,i);return}i=i[h]}}const o=i[n];if(o===void 0){const h=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+h+"."+n+" but it wasn't found.",i);return}let a=this.Versioning.None;this.targetObject=i,i.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:i.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(r!==void 0){if(n==="morphTargetInfluences"){if(!i.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!i.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}i.morphTargetDictionary[r]!==void 0&&(r=i.morphTargetDictionary[r])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=r}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=n;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}vi.Composite=XA,vi.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},vi.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},vi.prototype.GetterByBindingType=[vi.prototype._getValue_direct,vi.prototype._getValue_array,vi.prototype._getValue_arrayElement,vi.prototype._getValue_toArray],vi.prototype.SetterByBindingTypeAndVersioning=[[vi.prototype._setValue_direct,vi.prototype._setValue_direct_setNeedsUpdate,vi.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[vi.prototype._setValue_array,vi.prototype._setValue_array_setNeedsUpdate,vi.prototype._setValue_array_setMatrixWorldNeedsUpdate],[vi.prototype._setValue_arrayElement,vi.prototype._setValue_arrayElement_setNeedsUpdate,vi.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[vi.prototype._setValue_fromArray,vi.prototype._setValue_fromArray_setNeedsUpdate,vi.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class ll{constructor(i){this.value=i}clone(){return new ll(this.value.clone===void 0?this.value:this.value.clone())}}class D0 extends yg{constructor(i,t,s=1){super(i,t);this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=s}copy(i){return super.copy(i),this.meshPerAttribute=i.meshPerAttribute,this}clone(i){const t=super.clone(i);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(i){const t=super.toJSON(i);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class iu{constructor(i,t,s=0,n=1/0){this.ray=new Zc(i,t),this.near=s,this.far=n,this.camera=null,this.layers=new i0,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(i,t){this.ray.set(i,t)}setFromCamera(i,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(i.x,i.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(i.x,i.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(i,t=!0,s=[]){return O0(i,this,s,t),s.sort(Kg),s}intersectObjects(i,t=!0,s=[]){for(let n=0,r=i.length;n<r;n++)O0(i[n],this,s,t);return s.sort(Kg),s}}function Kg(e,i){return e.distance-i.distance}function O0(e,i,t,s){if(e.layers.test(i.layers)&&e.raycast(i,t),s===!0){const n=e.children;for(let r=0,o=n.length;r<o;r++)O0(n[r],i,t,!0)}}class DA{constructor(i=1,t=0,s=0){return this.radius=i,this.phi=t,this.theta=s,this}set(i,t,s){return this.radius=i,this.phi=t,this.theta=s,this}copy(i){return this.radius=i.radius,this.phi=i.phi,this.theta=i.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(i){return this.setFromCartesianCoords(i.x,i.y,i.z)}setFromCartesianCoords(i,t,s){return this.radius=Math.sqrt(i*i+t*t+s*s),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(i,s),this.phi=Math.acos(Us(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}const Zg=new H,Ld=new H;class Sn{constructor(i=new H,t=new H){this.start=i,this.end=t}set(i,t){return this.start.copy(i),this.end.copy(t),this}copy(i){return this.start.copy(i.start),this.end.copy(i.end),this}getCenter(i){return i.addVectors(this.start,this.end).multiplyScalar(.5)}delta(i){return i.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(i,t){return this.delta(t).multiplyScalar(i).add(this.start)}closestPointToPointParameter(i,t){Zg.subVectors(i,this.start),Ld.subVectors(this.end,this.start);const s=Ld.dot(Ld);let r=Ld.dot(Zg)/s;return t&&(r=Us(r,0,1)),r}closestPointToPoint(i,t,s){const n=this.closestPointToPointParameter(i,t);return this.delta(s).multiplyScalar(n).add(this.start)}applyMatrix4(i){return this.start.applyMatrix4(i),this.end.applyMatrix4(i),this}equals(i){return i.start.equals(this.start)&&i.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}class OA extends v0{constructor(i=10,t=10,s=4473924,n=8947848){s=new ge(s),n=new ge(n);const r=t/2,o=i/t,a=i/2,l=[],h=[];for(let p=0,d=0,T=-a;p<=t;p++,T+=o){l.push(-a,0,T,a,0,T),l.push(T,0,-a,T,0,a);const g=p===r?s:n;g.toArray(h,d),d+=3,g.toArray(h,d),d+=3,g.toArray(h,d),d+=3,g.toArray(h,d),d+=3}const c=new Yt;c.setAttribute("position",new Vi(l,3)),c.setAttribute("color",new Vi(h,3));const u=new yd({vertexColors:!0,toneMapped:!1});super(c,u);this.type="GridHelper"}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:or}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=or);var z0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Hg={exports:{}};(function(e,i){(function(t,s){e.exports=s()})(z0,function(){var t=function(){function s(d){return o.appendChild(d.dom),d}function n(d){for(var T=0;T<o.children.length;T++)o.children[T].style.display=T===d?"block":"none";r=d}var r=0,o=document.createElement("div");o.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",o.addEventListener("click",function(d){d.preventDefault(),n(++r%o.children.length)},!1);var a=(performance||Date).now(),l=a,h=0,c=s(new t.Panel("FPS","#0ff","#002")),u=s(new t.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var p=s(new t.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:o,addPanel:s,showPanel:n,begin:function(){a=(performance||Date).now()},end:function(){h++;var d=(performance||Date).now();if(u.update(d-a,200),d>l+1e3&&(c.update(1e3*h/(d-l),100),l=d,h=0,p)){var T=performance.memory;p.update(T.usedJSHeapSize/1048576,T.jsHeapSizeLimit/1048576)}return d},update:function(){a=this.end()},domElement:o,setMode:n}};return t.Panel=function(s,n,r){var o=1/0,a=0,l=Math.round,h=l(window.devicePixelRatio||1),c=80*h,u=48*h,p=3*h,d=2*h,T=3*h,g=15*h,I=74*h,v=30*h,C=document.createElement("canvas");C.width=c,C.height=u,C.style.cssText="width:80px;height:48px";var N=C.getContext("2d");return N.font="bold "+9*h+"px Helvetica,Arial,sans-serif",N.textBaseline="top",N.fillStyle=r,N.fillRect(0,0,c,u),N.fillStyle=n,N.fillText(s,p,d),N.fillRect(T,g,I,v),N.fillStyle=r,N.globalAlpha=.9,N.fillRect(T,g,I,v),{dom:C,update:function(F,P){o=Math.min(o,F),a=Math.max(a,F),N.fillStyle=r,N.globalAlpha=1,N.fillRect(0,0,c,g),N.fillStyle=n,N.fillText(l(F)+" "+s+" ("+l(o)+"-"+l(a)+")",p,d),N.drawImage(C,T+h,g,I-h,v,T,g,I-h,v),N.fillRect(T+I-h,g,h,v),N.fillStyle=r,N.globalAlpha=.9,N.fillRect(T+I-h,g,h,l((1-F/P)*v))}}},t})})(Hg);var zA=Hg.exports;const WA="62.8.5";var Ye=(e=>(e.ControlModeChanged="pointscene_control_mode_change",e.ControlsUICreated="pointscene_controls_ui_created",e.DepthEnabled="pointscene_depth_enabled",e.DisableControls="pointscene_disable_controls",e.EnableControls="pointscene_enable_controls",e.EnterSphereMode="pointscene_enter_sphere_mode",e.ExitSphereMode="pointscene_exit_sphere_mode",e.LayerUICreated="pointscene_layer_ui_created",e.MeasureUICreated="pointscene_measure_ui_created",e.PointcloudUICreated="pointscene_pointcloud_ui_created",e.RegisterControls="pointscene_register_controls",e.RegisterLayers="pointscene_register_layers",e.RegisterPicker="pointscene_register_picker",e.RegisterPointclouds="pointscene_register_pointclouds",e.RegisterUpdateHook="pointscene_register_update_hook",e.ReferenceFrameIsSet="pointscene_reference_frame_set",e.SetPhotoBackgroundMode="pointscene_set_photo_background_mode",e.SetPhotoPeekMode="pointscene_set_photo_peek_mode",e.UpdateOrbitPoint="pointscene_update_orbit_point",e.UpdateQueryParam="pointscene_update_query_param",e.QueryParamUpdated="pointscene_query_param_updated",e.FitTopView="pointscene_fit_top_view",e.LayerVisibilityChanged="pointscene_layer_visibility_changed",e.LeftClick="pointscene_on_leftclick",e.MouseMove="pointscene_on_mousemove",e))(Ye||{});class as{constructor(){this.debug=!1}dispatch(i,t,s){const n={};t!==void 0&&(n.detail=t),this.debug&&console.log(i,t);const r=new CustomEvent(i,n);(s||window).dispatchEvent(r)}}const YA=(e,i,t)=>{const s=[];let n=-1,r=0,o=e.length/i-1,a=0,l=0,h=0;const c=function(g,I){for(g*=i,I*=i,h=0;h<i;h++)a=e[g+h],e[g+h]=e[I+h],e[I+h]=a};let u,p;const d=new Float64Array(i),T=new Float64Array(i);for(;;)if(o-r<=25){for(p=r+1;p<=o;p++){for(l=0;l<i;l++)d[l]=e[p*i+l];for(u=p-1;u>=r&&e[u*i+t]>d[t];){for(l=0;l<i;l++)e[(u+1)*i+l]=e[u*i+l];u--}for(l=0;l<i;l++)e[(u+1)*i+l]=d[l]}if(n===-1)break;o=s[n--],r=s[n--]}else{const g=r+o>>1;for(u=r+1,p=o,c(g,u),e[r*i+t]>e[o*i+t]&&c(r,o),e[u*i+t]>e[o*i+t]&&c(u,o),e[r*i+t]>e[u*i+t]&&c(r,u),l=0;l<i;l++)T[l]=e[u*i+l];for(;;){do u++;while(e[u*i+t]<T[t]);do p--;while(e[p*i+t]>T[t]);if(p<u)break;c(u,p)}for(l=0;l<i;l++)e[(r+1)*i+l]=e[p*i+l],e[p*i+l]=T[l];o-u+1>=p-r?(s[++n]=u,s[++n]=o,o=p-1):(s[++n]=r,s[++n]=p-1,r=u)}return e};class kA{constructor(i,t,s){this.metric=t,this.maxDepth=0,this.eleSize=s;const n=function(o,a){return o.subarray(a*s,a*s+s)},r=(o,a,l,h)=>{const c=a%s;let u,p;const d=o.length/s;return a>this.maxDepth&&(this.maxDepth=a),d===0?null:d===1?new Ug(n(o,0),a,l,h):(YA(o,s,c),u=Math.floor(d/2),p=new Ug(n(o,u),a,l,u+h),p.left=r(o.subarray(0,u*s),a+1,p,h),p.right=r(o.subarray((u+1)*s,o.length),a+1,p,h+u+1),p)};this.root=r(i,0,null,0)}getMaxDepth(){return this.maxDepth}nearest(i,t,s){let n;const r=new AA(function(a){return-a[1]}),o=a=>{let l;const h=a.depth%this.eleSize,c=this.metric(i,a.obj);let u=0,p,d;const T=[];function g(I,v){r.push([I,v]),r.size()>t&&r.pop()}for(d=0;d<this.eleSize;d+=1)d===a.depth%this.eleSize?T[d]=i[d]:T[d]=a.obj[d];if(u=this.metric(T,a.obj),a.right===null&&a.left===null){(r.size()<t||c<r.peek()[1])&&g(a,c);return}a.right===null?l=a.left:a.left===null?l=a.right:i[h]<a.obj[h]?l=a.left:l=a.right,o(l),(r.size()<t||c<r.peek()[1])&&g(a,c),(r.size()<t||Math.abs(u)<r.peek()[1])&&(l===a.left?p=a.right:p=a.left,p!==null&&o(p))};if(s)for(let a=0;a<t;a+=1)r.push([null,s]);o(this.root),n=[];for(let a=0;a<t;a+=1)r.content[a][0]&&n.push([r.content[a][0],r.content[a][1]]);return n}}class Ug{constructor(i,t,s,n){this.obj=i,this.left=null,this.right=null,this.parent=s,this.depth=t,this.pos=n}}class AA{constructor(i){this.content=[],this.scoreFunction=i}push(i){this.content.push(i),this.bubbleUp(this.content.length-1)}pop(){const i=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.sinkDown(0)),i}peek(){return this.content[0]}remove(i){const t=this.content.length;for(let s=0;s<t;s++)if(this.content[s]===i){const n=this.content.pop();s!==t-1&&(this.content[s]=n,this.scoreFunction(n)<this.scoreFunction(i)?this.bubbleUp(s):this.sinkDown(s));return}throw new Error("Node not found.")}size(){return this.content.length}bubbleUp(i){const t=this.content[i];for(;i>0;){const s=Math.floor((i+1)/2)-1,n=this.content[s];if(this.scoreFunction(t)<this.scoreFunction(n))this.content[s]=t,this.content[i]=n,i=s;else break}}sinkDown(i){const t=this.content.length,s=this.content[i],n=this.scoreFunction(s);for(;;){const r=(i+1)*2,o=r-1;let a=null,l;if(o<t){const h=this.content[o];l=this.scoreFunction(h),l<n&&(a=o)}if(r<t){const h=this.content[r];this.scoreFunction(h)<(a===null?n:l)&&(a=r)}if(a!==null)this.content[i]=this.content[a],this.content[a]=s,i=a;else break}}}class _g{constructor(i){this.depthScale=100,this.disablePhotoNavigation=!1,this.opacityLow=.2,this.opacityHigh=.8,this.scene=i.scene,this.sceneLabels=i.sceneLabels,this.domEl=i.domEl,this.mouse=i.mouse,this.camera=i.camera,this.referenceFrame=i.referenceFrame,this.screenWidth=this.domEl.clientWidth,this.screenHeight=this.domEl.clientHeight,this.disablePhotoNavigation=!!i.disablePhotoNavigation,this.group=new Vs,this.scene.add(this.group),this.toolActive=!1,this.manager=new Dg,this.loader=new IA(this.manager),this.loader.setCrossOrigin("*"),this.events=new as,this.color=3560313,this.hoverColor=15886354,this.activeColor=12320768,this.type="Photo",this.eps=1e-5,this.activeOpacity=1,this.peekMplier=.1,this.peekRadius=0,this.monoColor=0,this.activeMaterialNeedsUpdate=!1,this.nNearest=25,this.maxDistance=100,this.addPhotosBinds(),this.addPhotosListeners(),this.binds(),this.addListeners()}dispose(){var i,t,s,n;this.nearestObjects=void 0,this.sphereGeometry&&(this.sphereGeometry.dispose(),this.sphereGeometry=void 0),this.atmosphereGeometry&&(this.atmosphereGeometry.dispose(),this.atmosphereGeometry=void 0),this.activeTexture=void 0,this.activeDepthTexture=void 0,this.activeDepthData=void 0,this.activeObject&&(this.activeObject.geometry.dispose(),this.activeObject.material.map&&((i=this.activeObject.material.map)==null||i.dispose()),(t=this.activeObject.material)==null||t.dispose(),this.activeObject=void 0),this.targetObject&&(this.targetObject.geometry.dispose(),this.targetObject.material.map&&((s=this.targetObject.material.map)==null||s.dispose()),(n=this.targetObject.material)==null||n.dispose(),this.targetObject=void 0),this.scene.remove(this.group),this.removeListeners()}update(){if(this.activeMaterialNeedsUpdate&&this.activeObject){const i=this.activeObject.material;i.uniforms.screen.value=new ht(this.screenWidth,this.screenHeight),i.uniforms.radius.value=this.peekRadius,i.uniforms.opacity.value=this.activeOpacity,this.activeMaterialNeedsUpdate=!1}if(this.peekRadius>this.eps&&this.activeObject){const i=this.mouse.x/this.domEl.clientWidth*2-1,t=-(this.mouse.y/this.domEl.clientHeight)*2+1;this.activeObject.material.uniforms.mouse.value=new ht(i,t)}}setAllPickable(i){for(let t=0;t<this.group.children.length;t++)this.group.children[t].userData.isPickable=i}getGeometries(){return this.sphereGeometry===void 0&&(this.sphereGeometry=new tu(1,32,16)),this.atmosphereGeometry===void 0&&(this.atmosphereGeometry=new tu(1,32,16)),{sphere:this.sphereGeometry,atmosphere:this.atmosphereGeometry}}getRingGeometry(){return typeof this.ringGeometry>"u"&&(this.ringGeometry=new C0(1,24)),this.ringGeometry}getActiveMaterial(){const i={vertexShader:["#ifdef GL_ES","precision highp float;","#endif","varying vec2 vUv;","varying vec2 pixel;","uniform sampler2D depthmap;","uniform float depthScale;","const float eps = 1e-5;","void main(){","  vUv = uv;","  if (depthScale > eps) {","    vec4 depth = texture2D(depthmap, vUv);","    vec3 newPosition = position + normal * depth.x * depthScale;","    vec4 v = projectionMatrix * modelViewMatrix * vec4(newPosition, 1.0);","    float x = v.x / v.z;","    float y = v.y / v.z;","    pixel = vec2(0.5 * x + 0.5, - 0.5 * y + 0.5);","    gl_Position = v;","  } else {","    vec4 v = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","    float x = v.x / v.z;","    float y = v.y / v.z;","    pixel = vec2(0.5 * x + 0.5, - 0.5 * y + 0.5);","    gl_Position = v;","  }","}"].join(`
`),fragmentShader:["#ifdef GL_ES","precision highp float;","#endif","uniform sampler2D texture1;","uniform sampler2D depthmap;","uniform vec2 mouse;","uniform vec2 screen;","uniform float radius;","uniform float opacity;","uniform float mono;","varying vec2 vUv;","varying vec2 pixel;","const float eps = 1e-5;","const float PI = 3.14159265359;","void main() {","  vec2 pos = vUv;","  vec2 px = pixel;","  vec4 color1 = texture2D(texture1, vUv);","  float opacityOut = opacity;","  if(radius >= eps) {","    vec2 mouse_n = vec2(mouse.x * 0.5 + 0.5, -mouse.y * 0.5 + 0.5);","    vec2 px_screen = vec2(px.x * screen.x, px.y * screen.y);","    vec2 mouse_screen = vec2(mouse_n.x * screen.x, mouse_n.y * screen.y);","    if(distance(mouse_screen, px_screen) < radius) {","      discard;","    }","  }","  vec4 colorOut = color1;","  colorOut.a = opacityOut;","  if(mono > eps){","    vec3 luma = vec3(.299, 0.587, 0.114);","    gl_FragColor = vec4(vec3(dot(colorOut.rgb, luma)), colorOut.a);","  }","  else {","    gl_FragColor = colorOut;","  }","}"].join(`
`)},t={texture1:{type:"t",value:""},depthmap:{type:"t",value:""},depthScale:{type:"f",value:0},mouse:{type:"v2",value:new ht(.5,.5)},screen:{type:"v2",value:new ht(this.screenWidth,this.screenHeight)},mono:{type:"f",value:0},radius:{type:"f",value:this.peekRadius},opacity:{type:"f",value:this.activeOpacity}};return new fs({uniforms:t,vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:gn,transparent:!0,depthWrite:!1,depthTest:!1,clipping:!1})}getMaterials(){const i={vertexShader:["#ifdef GL_ES","  precision highp float;","#endif","varying vec3 vNormal;","void main(){","  vNormal = normalize(normalMatrix * normal);","  vec4 pos = modelMatrix * vec4(position, 1.0);","  gl_Position = projectionMatrix * viewMatrix * pos;","}"].join(`
`),fragmentShader:["#ifdef GL_ES","  precision highp float;","#endif","uniform float opacity;","uniform vec3 color;","varying vec3 vNormal;","void main() {","  float intensity = 1.05 - dot(vNormal, vec3(0., 0., 1.));","  vec3 atmosphere = vec3(1., 1., 1.) * pow(intensity, 3.0);","  vec3 c = color;","  gl_FragColor.rgb = c + atmosphere;","  gl_FragColor.a = opacity;","}"].join(`
`)},t={color:new ll(new ge(this.color)),opacity:{type:"f",value:this.opacityHigh}},s={vertexShader:["varying vec3 vNormal;","void main() {","vNormal = normalize( normalMatrix * normal );","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform vec3 color;","varying vec3 vNormal;","void main() {","float intensity = pow(0.8 - dot(vNormal, vec3(0, -0.5, 0.5)), 2.5);","gl_FragColor = vec4(color.rgb, 1.0) * intensity;","}"].join(`
`),uniforms:{color:new ll(new ge(16777215))}};return{sphere:new fs({uniforms:t,vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Nr,transparent:!0,clipping:!1}),atmosphere:new fs({uniforms:s.uniforms,vertexShader:s.vertexShader,fragmentShader:s.fragmentShader,side:Nr,transparent:!0,clipping:!1})}}setPeekMode(i){this.peekRadius=this.screenWidth>this.screenHeight?this.peekMplier*this.screenWidth:this.peekMplier*this.screenHeight,i?this.activeObject.material.uniforms.radius.value=this.peekRadius:this.activeObject.material.uniforms.radius.value=0}handleResize(){if(this.activeObject===void 0)return;const i=this.domEl,t=this.activeObject.material;t.uniforms.screen.value=new ht(i.clientWidth,i.clientHeight),t.needsUpdate=!0}handleClearHoveredObjects(){this.hoveredObject!==void 0&&this.hoveredObject.dispatchEvent({type:"hover_out"})}handleSetPhotoPeekMode(i){this.setPeekMode(i.detail.value)}handleLeftClick(){this.hoveredObject!==void 0&&this.hoveredObject.dispatchEvent({type:"set_active"})}handleRightClick(){this.isActive&&!this.toolActive&&this.events.dispatch("pointscene_exit_sphere_mode",void 0,this.domEl)}handleEnterSphereMode(){this.setAllPickable(!1),this.isActive=!0}handleExitSphereMode(){!this.targetObject||(this.targetObject.dispatchEvent({type:"set_deactive"}),this.setAllPickable(!0),this.isActive=!1,this.activeObject&&this.scene.remove(this.activeObject),this.nearestObjects=[],this.targetObject.material&&(this.targetObject.material.map&&this.targetObject.material.map.dispose(),this.targetObject.material.dispose()),this.targetObject=void 0,this.activeTexture=void 0,this.activeDepthTexture=void 0,this.activeDepthData=void 0)}addPhotosBinds(){this.handleResize=this.handleResize.bind(this),this.handleSetPhotoPeekMode=this.handleSetPhotoPeekMode.bind(this),this.handleLeftClick=this.handleLeftClick.bind(this),this.handleEnterSphereMode=this.handleEnterSphereMode.bind(this),this.handleExitSphereMode=this.handleExitSphereMode.bind(this)}addPhotosListeners(){window.addEventListener("resize",this.handleResize,!1),this.domEl.addEventListener("pointscene_clear_hovered_objects",this.handleClearHoveredObjects,!1),this.domEl.addEventListener(Ye.SetPhotoPeekMode,this.handleSetPhotoPeekMode,!1),this.domEl.addEventListener("pointscene_on_leftclick",this.handleLeftClick,!1),this.domEl.addEventListener("pointscene_on_rightclick",this.handleRightClick,!1),this.domEl.addEventListener(Ye.EnterSphereMode,this.handleEnterSphereMode,!1),this.domEl.addEventListener(Ye.ExitSphereMode,this.handleExitSphereMode,!1)}removePhotosListeners(){window.removeEventListener("resize",this.handleResize,!1),this.domEl.removeEventListener("pointscene_clear_hovered_objects",this.handleClearHoveredObjects,!1),this.domEl.removeEventListener(Ye.SetPhotoPeekMode,this.handleSetPhotoPeekMode,!1),this.domEl.removeEventListener("pointscene_on_leftclick",this.handleLeftClick,!1),this.domEl.removeEventListener("pointscene_on_rightclick",this.handleRightClick,!1),this.domEl.removeEventListener(Ye.EnterSphereMode,this.handleEnterSphereMode,!1),this.domEl.removeEventListener(Ye.ExitSphereMode,this.handleExitSphereMode,!1)}binds(){}addListeners(){}removeListeners(){}addObjectListeners(i){const t=this;i.addEventListener("hover_in",function(s){const n=s.target;!n.material.visible||!n.userData.isInteractive||t.toolActive||(n.material.uniforms.color.value.equals(new ge(t.activeColor))||(n.material.uniforms.color.value.setHex(t.hoverColor),n.material.uniforms.opacity.value=t.opacityHigh),t.hoveredObject=i,t.domEl.style.cursor="pointer")}),i.addEventListener("hover_out",function(s){const n=s.target;n.material.uniforms.color.value.equals(new ge(t.activeColor))||(n.material.uniforms.color.value.setHex(t.color),t.isActive?n.material.uniforms.opacity.value=t.opacityLow:n.material.uniforms.opacity.value=t.opacityHigh),t.hoveredObject=void 0,t.domEl.style.cursor="auto"}),i.addEventListener("set_active",function(s){const n=s.target,r=s.look;n.userData.activateCallback(n,r)}),i.addEventListener("set_deactive",function(s){const n=s.target;n.userData.deactivateCallback(n)})}load(i){console.warn("Photos.load: not implemented in base class.",i)}add(i,t){if(typeof i.quaternion>"u"&&typeof i.euler>"u")throw new Error('Missing "quaternion" or "euler" from photo object');if(typeof i.position>"u")throw new Error('Missing "position" from photo object');t=t||{};const s=this.getGeometries().sphere,n=this.getMaterials(),r=this.referenceFrame.toScene(i.position);let o;if(i.quaternion)o=new bn(i.quaternion.x,i.quaternion.y,i.quaternion.z,i.quaternion.w);else if(i.euler)o=new bn().setFromEuler(new ho(i.euler.x,i.euler.y,i.euler.z));else throw new Error("No photo orientation provided");i.url;const a=t.activateCallback||function(){console.error("Photos.activateCallback missing")},l=t.deactivateCallback||function(){console.error("Photos.deactivateCallback missing")},h=new fi(s,n.sphere);h.userData.idx=this.group.children.length,h.userData.isPickable=!0,h.userData.isInteractive=!0,this.addObjectListeners(h),h.up.set(0,0,1),h.position.set(r.x,r.y,r.z),h.rotation.setFromQuaternion(o),h.scale.set(1,1,1),h.userData=Object.assign(h.userData,i),h.userData.activateCallback=a,h.userData.deactivateCallback=l,h.userData.position=r,h.userData.quaternion=h.quaternion.clone(),this.group.add(h);const c=this.getGeometries().atmosphere,u=new fi(c,n.atmosphere);u.scale.set(1.1,1.1,1.1),h.add(u)}getObjectAtIndex(i){return this.group.children[i]}index(){const i=function(r,o){return(r[0]-o[0])*(r[0]-o[0])+(r[1]-o[1])*(r[1]-o[1])},t=[],s=this.group.children.length;for(let r=0;r<s;r++){const o=this.group.children[r].position,a=[o.x,o.y,o.z,r];t.push(...a)}const n=new Float64Array(t);this.kdtree=new kA(n,i,4)}openNearest(i,t){const s=this.getNearest(this.referenceFrame.toScene(i));if(!s||s.length===0)return;s.sort(function(r,o){return r.d-o.d});const n=this.getObjectAtIndex(s[0].idx);this.isActive?this.targetObject===n||n.dispatchEvent({type:"set_active"}):n.dispatchEvent({type:"set_active",look:t?this.referenceFrame.toScene(t):void 0})}getNearest(i,t){if(!this.kdtree)return;t=t||{};const s=t.nNearest||10;let n=t.maxDistance||1e3;n*=n;const r=this.kdtree.nearest([i.x,i.y,i.z],s,n),o=[];for(let a=0;a<r.length;a++){const l=r[a],h=l[0],c=Math.round(h.obj[3]),u=l[1];o.push({d:u,idx:c})}return o}}var KA=Object.defineProperty,ZA=Object.defineProperties,HA=Object.getOwnPropertyDescriptors,Vg=Object.getOwnPropertySymbols,UA=Object.prototype.hasOwnProperty,_A=Object.prototype.propertyIsEnumerable,jg=(e,i,t)=>i in e?KA(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,VA=(e,i)=>{for(var t in i||(i={}))UA.call(i,t)&&jg(e,t,i[t]);if(Vg)for(var t of Vg(i))_A.call(i,t)&&jg(e,t,i[t]);return e},jA=(e,i)=>ZA(e,HA(i)),Bg=(e,i,t)=>new Promise((s,n)=>{var r=l=>{try{a(t.next(l))}catch(h){n(h)}},o=l=>{try{a(t.throw(l))}catch(h){n(h)}},a=l=>l.done?s(l.value):Promise.resolve(l.value).then(r,o);a((t=t.apply(e,i)).next())});const Jg=1/255,Qg=Jg*1/255,qg=Qg*1/255,BA=qg*1/255;class $g extends _g{constructor(i){super(i);this.ringOffset=new H(0,0,-1.86),i.navigationFootprintOffsetZ&&this.ringOffset.setZ(i.navigationFootprintOffsetZ),this.type="PhotoSphere",this.createActiveSphere()}pick(i){if(!this.activeObject)return null;const t=i.intersectObject(this.activeObject);if(t.length<1)return null;const s=t[0].point,n=this.camera.position.clone(),r=new H().subVectors(s,n).normalize(),o=t[0].uv;if(!o)return null;const a=this.getDepthPixelValue(o);if(a.length===0||a.reduce((c,u)=>c+u,0)===0)return null;const l=100,h=this.getDepthMetricValue(a,l);return{point:new H().addVectors(n,r.clone().multiplyScalar(h)),object:t[0].object,objectType:"depth",distance:h}}hasDepthData(){return typeof this.activeDepthData<"u"}createActiveSphere(){const i=new tu(1,360,180),t=this.getActiveMaterial();this.activeObject=new fi(i,t),this.activeObject.up.set(0,0,1),this.activeObject.scale.set(-1e4,1e4,1e4),this.activeObject.name="ActivePhotoSphere",this.activeObject.userData.isPickable=!1}getDepthMetricValue(i,t=100){const s=i[0]*Jg+i[1]*Qg+i[2]*qg+i[3]*BA;return t*s}normalizePixel(i,t,s){let n=i[0],r=i[1];return n=n<0?t-n:n,n=n>t?n-(t-1):n,r=r<0?s-r:r,r=r>s?r-(s-1):r,[n,r]}getDepthPixelValue(i){if(typeof this.activeDepthData>"u")return[];const t=this.activeDepthData,s=this.normalizePixel([Math.floor(i.x*t.width),Math.floor((1-i.y)*t.height)],t.width,t.height),n=(s[1]*t.width+s[0])*4;return[t.data[n+0],t.data[n+1],t.data[n+2],t.data[n+3]]}load(i,t){return Bg(this,null,function*(){if(typeof t<"u"&&(this.getUrlCallback=t.getUrl,this.getDepthCallback=t.getDepthUrl,this.disablePhotoNavigation=!!t.disablePhotoNavigation),i.length===0)throw new Error("No photos provided");if(t==null?void 0:t.targetProj4){const d=i[0].proj4;if(d){let T=i.map(g=>[g.position.x,g.position.y,g.position.z]);T=yield Qs.projectPoints(T,d,t.targetProj4),i=i.map((g,I)=>jA(VA({},g),{position:{x:T[I][0],y:T[I][1],z:T[I][2]}}))}}this.nearestObjects=[],this.targetObject=void 0;const s=this,n=d=>{const T=this.camera.position,g=d.position.clone().sub(T).normalize();this.events.dispatch(Ye.EnterSphereMode,{target:d,normal:g,saveState:!1},this.domEl)},r=function(d,T=.01){for(let g=0;g<d.length;g++){if(d[g].d<T)continue;const I=s.getObjectAtIndex(d[g].idx);if(I.geometry.dispose(),I.geometry=s.getRingGeometry(),I.position.add(s.ringOffset),I.rotation.set(0,0,0),I.material.uniforms.opacity.value=.2,I.children.length>0){const v=I.children[0];v.visible=!1}}},o=function(d,T=.01){for(let g=0;g<d.length;g++){if(d[g].d<T)continue;const I=s.getObjectAtIndex(d[g].idx);if(I.geometry.dispose(),I.geometry=s.getGeometries().sphere,I.material.uniforms.opacity.value=.6,I.position.set(I.userData.position.x,I.userData.position.y,I.userData.position.z),I.rotation.setFromQuaternion(new bn(I.userData.quaternion.x,I.userData.quaternion.y,I.userData.quaternion.z,I.userData.quaternion.w)),I.children.length>0){const v=I.children[0];v.visible=!0}}},a=function(d,T,g){for(let I=0;I<d.length;I++){const v=s.getObjectAtIndex(d[I].idx);T?(v.userData.isPickable=!1,v.renderOrder=0):(v.userData.isPickable=!0,v.renderOrder=Number.MAX_VALUE),v.material.depthTest=T,v.material.depthWrite=T,v.material.needsUpdate=!0,v.visible=g}},l=d=>{if(d.minFilter=Is,s.activeTexture=d,!s.targetObject){d.dispose();return}if(s.targetObject.material.visible=!1,s.targetObject.material.needsUpdate=!0,s.nearestObjects=s.getNearest(s.targetObject.position,{nNearest:s.nNearest,maxDistance:s.maxDistance}),s.disablePhotoNavigation)for(const T of s.group.children)T.visible=!1;else{for(const T of s.group.children)T.visible=!1;r(s.nearestObjects),a(s.nearestObjects,!1,!0)}s.scene.getObjectByName("ActivePhotoSphere")&&n(s.targetObject),!!s.activeObject&&(s.activeObject.material.uniforms.texture1.value=s.activeTexture,s.activeObject.position.set(s.targetObject.userData.position.x,s.targetObject.userData.position.y,s.targetObject.userData.position.z),s.activeObject.rotation.setFromQuaternion(new bn(s.targetObject.userData.quaternion.x,s.targetObject.userData.quaternion.y,s.targetObject.userData.quaternion.z,s.targetObject.userData.quaternion.w)),s.activeObject.material.uniforms.mono.value=0,s.scene.getObjectByName("ActivePhotoSphere")||s.scene.add(s.activeObject))},h=function(){},c=function(){},u=(d,T)=>Bg(this,null,function*(){if(s.isActive&&s.targetObject)s.targetObject.dispatchEvent({type:"set_deactive"});else{let C=new H(0,1,0);T&&(C=d.position.clone().negate().add(T).normalize()),s.events.dispatch(Ye.EnterSphereMode,{target:d,normal:C,saveState:!0},s.domEl)}s.targetObject=d;const g=d.userData;let I;if(g.url)I=g.url;else{if(typeof this.getUrlCallback>"u")throw new Error('Provide either "url" for photo object or "getUrl" as callback in load opts');I=yield this.getUrlCallback(g)}s.activeObject&&(s.activeObject.material.uniforms.mono.value=1),s.loader.load(I,l,h,c);let v;typeof g.depthUrl<"u"?v=g.depthUrl:typeof this.getDepthCallback<"u"&&(v=yield this.getDepthCallback(g)),typeof v<"u"?s.loader.load(v,function(C){const N=document.createElement("canvas");N.width=C.image.width,N.height=C.image.height;const F=N.getContext("2d");!F||(F.drawImage(C.image,0,0),s.activeDepthData=F.getImageData(0,0,C.image.width,C.image.height),s.activeDepthTexture=C,s.activeObject.material.uniforms.depthmap.value=C,s.events.dispatch(Ye.DepthEnabled,{value:!0},s.domEl))}):s.events.dispatch(Ye.DepthEnabled,{value:!1},s.domEl)}),p=function(){if(s.targetObject)if(s.targetObject.material.visible=!0,s.targetObject.material.needsUpdate=!0,s.disablePhotoNavigation)for(const d of s.group.children)d.visible=!0;else{o(s.nearestObjects),a(s.nearestObjects,!0,!0);for(const d of s.group.children)d.visible=!0}};for(const d of i){if(!this.referenceFrame.isSet()){this.referenceFrame.position=new H(d.position.x,d.position.y,d.position.z);const T=t==null?void 0:t.targetProj4;T&&this.referenceFrame.setProj4(T)}if(d.euler){const T=new ho(d.euler.x,d.euler.y,-d.euler.z,"XYZ"),g=new pt().makeRotationFromEuler(T),I=new pt().makeRotationZ(-Math.PI/2),v=new pt().makeRotationX(Math.PI/2);g.multiply(I),g.multiply(v);const C=new bn().setFromRotationMatrix(g);d.quaternion={x:C.x,y:C.y,z:C.z,w:C.w}}this.add(d,{activateCallback:u,deactivateCallback:p})}return this.index(),this.group})}setBackgroundMode(i){!this.activeObject||(i?(this.activeObject.material.depthTest=!0,this.activeObject.material.depthWrite=!1,this.activeObject.scale.set(-1e4,1e4,1e4)):(this.activeObject.material.depthTest=!1,this.activeObject.material.depthWrite=!1,this.activeObject.scale.set(-1e4,1e4,1e4)),this.activeObject.material.needsUpdate=!0,this.events.dispatch("pointscene_photosphere_background_mode_changed",{value:i},this.domEl))}handleSetSphereBackgroundMode(i){this.setBackgroundMode(i.detail.value)}binds(){this.handleSetSphereBackgroundMode=this.handleSetSphereBackgroundMode.bind(this)}addListeners(){this.domEl.addEventListener(Ye.SetPhotoBackgroundMode,this.handleSetSphereBackgroundMode,!1)}removeListeners(){this.domEl.removeEventListener(Ye.SetPhotoBackgroundMode,this.handleSetSphereBackgroundMode,!1),this.removePhotosListeners()}}function Sd(e,i){return new Pi().setFromPoints([new H(e.min.x,e.min.y,e.min.z).applyMatrix4(i),new H(e.min.x,e.min.y,e.min.z).applyMatrix4(i),new H(e.max.x,e.min.y,e.min.z).applyMatrix4(i),new H(e.min.x,e.max.y,e.min.z).applyMatrix4(i),new H(e.min.x,e.min.y,e.max.z).applyMatrix4(i),new H(e.min.x,e.max.y,e.max.z).applyMatrix4(i),new H(e.max.x,e.max.y,e.min.z).applyMatrix4(i),new H(e.max.x,e.min.y,e.max.z).applyMatrix4(i),new H(e.max.x,e.max.y,e.max.z).applyMatrix4(i)])}function eb(e,i){const t=e.min.clone(),s=e.max.clone(),n=new H().subVectors(s,t);return(i&1)>0?t.z+=n.z/2:s.z-=n.z/2,(i&2)>0?t.y+=n.y/2:s.y-=n.y/2,(i&4)>0?t.x+=n.x/2:s.x-=n.x/2,new Pi(t,s)}const tb=["Y","Z"];class ib{constructor(i){this._isSet=!1,this._upAxis="Z",this.mRotation=new pt().identity(),this.mScale=new pt().identity(),this.mPosition=new pt().identity(),this.mPreComputed=new pt().identity(),this.mNeedsUpdate=!1,this.events=new as,i&&(this.domEl=i.domEl)}computeBoundingBox(i){const t=this.getTransformationMatrix();return Sd(i,t)}computeUntranslatedBoundingBox(i){const t=this.mRotation.clone().multiply(this.mScale);return Sd(i,t)}decomposeMatrix(i){const t=new H,s=new bn,n=new H,r=new ho;if(i.decompose(t,s,n),r.setFromQuaternion(s),this._upAxis==="Z"){const o=n.x;n.x=n.y,n.y=o}return{position:t,quaternion:s,rotation:r,scale:n}}getSceneGroup(i){const t=this.getTransformationMatrix(),{position:s,quaternion:n,rotation:r}=this.decomposeMatrix(t),o=this.getScale(),a=new Vs;this._upAxis==="Z"?a.up.set(0,0,1):a.up.set(0,1,0),a.matrixAutoUpdate=!1,a.matrix=t,a.matrixWorld=t,a.position.copy(s),a.quaternion.copy(n),a.rotation.copy(r),a.updateMatrix();for(const l of i)l.scale.copy(o),l.matrixAutoUpdate=!1,a.add(l),l.updateMatrix();return a.updateMatrixWorld(!0),a}getTransformationMatrix(i,t){if(!i&&!this.mNeedsUpdate)return this.mPreComputed;const s=this.mRotation.clone();return this.mPreComputed=s.copyPosition(this.mPosition),t&&(this.mPreComputed.elements[0]=this.mScale.elements[0],this.mPreComputed.elements[5]=this.mScale.elements[5],this.mPreComputed.elements[10]=this.mScale.elements[10]),this.mNeedsUpdate=!!t,this.mPreComputed}isSet(){return this._isSet}toGeo(i,t={}){this.isSet()||console.warn("ReferenceFrame.toGeo: ref not set");const s=this._normalize(i),n=this.getTransformationMatrix(t.forceMatrixUpdate,t.useScale).clone().invert();return s.applyMatrix4(n)}toScene(i,t={}){return this.isSet()||console.warn("ReferenceFrame.toScene: ref not set"),this._normalize(i).applyMatrix4(this.getTransformationMatrix(t.forceMatrixUpdate,t.useScale))}toSceneZ(i,t={}){return this.isSet()||console.warn("ReferenceFrame.toScene: ref not set"),this._normalize({x:0,y:0,z:i}).applyMatrix4(this.getTransformationMatrix(t.forceMatrixUpdate,t.useScale)).z}set upAxis(i){if(!tb.includes(i))throw new Error("Invalid up axis: "+i+". Allowed: "+tb.join(" "));i==="Y"?this.mRotation.makeRotationX(-Math.PI/2):this.mRotation.identity(),this.mNeedsUpdate=!0,this._upAxis=i}get upAxis(){return this._upAxis}setPosition(i,t){const s=t?this._normalize(i).clone().negate():this._normalize(i).clone();this.mPosition.makeTranslation(s.x,s.y,s.z),this.mNeedsUpdate=!0,this._isSet=!0,this.domEl&&this.events.dispatch(Ye.ReferenceFrameIsSet,{value:this},this.domEl)}set position(i){this.mPosition.makeTranslation(-i.x,-i.y,-i.z),this.mNeedsUpdate=!0,this._isSet=!0,this.domEl&&this.events.dispatch(Ye.ReferenceFrameIsSet,{value:this},this.domEl)}get position(){const i=new H,t=new bn,s=new H;return this.getTransformationMatrix().decompose(i,t,s),i.negate()}setScale(i){this.mScale.makeScale(i.x,i.y,i.z),this.mNeedsUpdate=!0}set scale(i){this.mScale.makeScale(i.x,i.y,i.z),this.mNeedsUpdate=!0}getScale(){return new H(this.mScale.elements[0],this.mScale.elements[5],this.mScale.elements[10])}getScaleMatrix3(){return new nn().setFromMatrix4(this.mScale)}setProj4(i){this.proj4IsSet()&&console.warn("Resetting proj4 from",this.proj4,"to",i),this.proj4=i}getProj4(){return this.proj4}proj4IsSet(){return!!this.proj4}_normalize(i){return i instanceof H?i.clone():i instanceof _i?i.position.clone():i.x!==void 0&&i.y!==void 0&&i.z!==void 0?new H(i.x,i.y,i.z):(console.warn("referenceFrame: Invalid object",i),new H)}}var JA=`precision highp float;
precision highp int;

uniform mat4 projectionMatrix;

uniform float screenWidth;
uniform float screenHeight;
uniform float near;
uniform float far;

uniform sampler2D map;

varying vec2 vUv;

void main() {

	float dx = 1.0 / screenWidth;
	float dy = 1.0 / screenHeight;

	vec3 color = vec3(0.0, 0.0, 0.0);
	color += texture2D(map, vUv + vec2(-dx, -dy)).rgb;
	color += texture2D(map, vUv + vec2(  0, -dy)).rgb;
	color += texture2D(map, vUv + vec2(+dx, -dy)).rgb;
	color += texture2D(map, vUv + vec2(-dx,   0)).rgb;
	color += texture2D(map, vUv + vec2(  0,   0)).rgb;
	color += texture2D(map, vUv + vec2(+dx,   0)).rgb;
	color += texture2D(map, vUv + vec2(-dx,  dy)).rgb;
	color += texture2D(map, vUv + vec2(  0,  dy)).rgb;
	color += texture2D(map, vUv + vec2(+dx,  dy)).rgb;
    
	color = color / 9.0;
	
	gl_FragColor = vec4(color, 1.0);
	
	
}`,QA=Object.freeze({__proto__:null,default:JA}),qA=`precision highp float;
precision highp int;

attribute vec3 position;
attribute vec2 uv;

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;

varying vec2 vUv;

void main() {
    vUv = uv;

    gl_Position =   projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}`,$A=Object.freeze({__proto__:null,default:qA});class eK extends fs{constructor(){super(...arguments);this.vertexShader=$A,this.fragmentShader=QA,this.uniforms={near:{type:"f",value:0},far:{type:"f",value:0},screenWidth:{type:"f",value:0},screenHeight:{type:"f",value:0},map:{type:"t",value:null}}}}var fo=(e=>(e[e.DISABLED=0]="DISABLED",e[e.CLIP_OUTSIDE=1]="CLIP_OUTSIDE",e[e.HIGHLIGHT_INSIDE=2]="HIGHLIGHT_INSIDE",e))(fo||{}),pr=(e=>(e[e.FIXED=0]="FIXED",e[e.ATTENUATED=1]="ATTENUATED",e[e.ADAPTIVE=2]="ADAPTIVE",e))(pr||{}),To=(e=>(e[e.SQUARE=0]="SQUARE",e[e.CIRCLE=1]="CIRCLE",e[e.PARABOLOID=2]="PARABOLOID",e))(To||{}),Gh=(e=>(e[e.OCTREE=0]="OCTREE",e[e.KDTREE=1]="KDTREE",e))(Gh||{}),su=(e=>(e[e.FIXED=0]="FIXED",e[e.ATTENUATED=1]="ATTENUATED",e))(su||{}),qi=(e=>(e[e.RGB=0]="RGB",e[e.COLOR=1]="COLOR",e[e.DEPTH=2]="DEPTH",e[e.HEIGHT=3]="HEIGHT",e[e.ELEVATION=3]="ELEVATION",e[e.INTENSITY=4]="INTENSITY",e[e.INTENSITY_GRADIENT=5]="INTENSITY_GRADIENT",e[e.LOD=6]="LOD",e[e.LEVEL_OF_DETAIL=6]="LEVEL_OF_DETAIL",e[e.POINT_INDEX=7]="POINT_INDEX",e[e.CLASSIFICATION=8]="CLASSIFICATION",e[e.RETURN_NUMBER=9]="RETURN_NUMBER",e[e.SOURCE=10]="SOURCE",e[e.NORMAL=11]="NORMAL",e[e.PHONG=12]="PHONG",e[e.RGB_HEIGHT=13]="RGB_HEIGHT",e[e.COMPOSITE=50]="COMPOSITE",e))(qi||{});const sb=0,nb=0,rb=1,tK=50,iK=50,sK=2,nK=15,rK=1e6,ob=2,oK=4,ab="PerspectiveCamera",aK=new ge(0,0,0),lK=new nt(1,0,0,1);function W0(e){return parseInt(e.charAt(e.length-1),10)}function hK(e,i){const t=e.name,s=i.name;return t.length!==s.length?t.length-s.length:t<s?-1:t>s?1:0}const lb={0:new nt(.5,.5,.5,1),1:new nt(.5,.5,.5,1),2:new nt(.63,.32,.18,1),3:new nt(0,1,0,1),4:new nt(0,.8,0,1),5:new nt(0,.6,0,1),6:new nt(1,.66,0,1),7:new nt(1,0,1,1),8:new nt(1,0,0,1),9:new nt(0,0,1,1),12:new nt(1,1,0,1),DEFAULT:new nt(.3,.6,.6,.5)},cK=[[0,new ge(0,0,0)],[1,new ge(1,1,1)]],uK=[[0,new ge(.077,.042,.206)],[.1,new ge(.225,.036,.388)],[.2,new ge(.373,.074,.432)],[.3,new ge(.522,.128,.42)],[.4,new ge(.665,.182,.37)],[.5,new ge(.797,.255,.287)],[.6,new ge(.902,.364,.184)],[.7,new ge(.969,.516,.063)],[.8,new ge(.988,.683,.072)],[.9,new ge(.961,.859,.298)],[1,new ge(.988,.998,.645)]],pK=[[0,new ge(.241,.015,.61)],[.1,new ge(.387,.001,.654)],[.2,new ge(.524,.025,.653)],[.3,new ge(.651,.125,.596)],[.4,new ge(.752,.227,.513)],[.5,new ge(.837,.329,.431)],[.6,new ge(.907,.435,.353)],[.7,new ge(.963,.554,.272)],[.8,new ge(.992,.681,.195)],[.9,new ge(.987,.822,.144)],[1,new ge(.94,.975,.131)]],dK=[[0,new ge(.278,0,.714)],[1/6,new ge(0,0,1)],[2/6,new ge(0,1,1)],[3/6,new ge(0,1,0)],[4/6,new ge(1,1,0)],[5/6,new ge(1,.64,0)],[1,new ge(1,0,0)]],hb=[[0,new ge(.3686,.3098,.6353)],[.1,new ge(.1961,.5333,.7412)],[.2,new ge(.4,.7608,.6471)],[.3,new ge(.6706,.8667,.6431)],[.4,new ge(.902,.9608,.5961)],[.5,new ge(1,1,.749)],[.6,new ge(.9961,.8784,.5451)],[.7,new ge(.9922,.6824,.3804)],[.8,new ge(.9569,.4275,.2627)],[.9,new ge(.8353,.2431,.3098)],[1,new ge(.6196,.0039,.2588)]],mK=[[0,new ge(.267,.005,.329)],[.1,new ge(.283,.141,.458)],[.2,new ge(.254,.265,.53)],[.3,new ge(.207,.372,.553)],[.4,new ge(.164,.471,.558)],[.5,new ge(.128,.567,.551)],[.6,new ge(.135,.659,.518)],[.7,new ge(.267,.749,.441)],[.8,new ge(.478,.821,.318)],[.9,new ge(.741,.873,.15)],[1,new ge(.993,.906,.144)]],yK=[[0,new ge(.1647,.2824,.3451)],[.1,new ge(.1338,.3555,.4227)],[.2,new ge(.061,.4319,.4864)],[.3,new ge(0,.5099,.5319)],[.4,new ge(0,.5881,.5569)],[.5,new ge(.137,.665,.5614)],[.6,new ge(.2906,.7395,.5477)],[.7,new ge(.4453,.8099,.5201)],[.8,new ge(.6102,.8748,.485)],[.9,new ge(.7883,.9323,.4514)],[1,new ge(.9804,.9804,.4314)]];function cb(e,i,t){const s=e*i,n=new Uint8Array(4*s),r=Math.floor(t.r*255),o=Math.floor(t.g*255),a=Math.floor(t.b*255);for(let h=0;h<s;h++)n[h*3]=r,n[h*3+1]=o,n[h*3+2]=a;const l=new Ig(n,e,i,Xs);return l.needsUpdate=!0,l.magFilter=Ui,l}function Y0(e){const i=document.createElement("canvas");i.width=64,i.height=64;const t=i.getContext("2d");t.rect(0,0,64,64);const s=t.createLinearGradient(0,0,64,64);for(let r=0;r<e.length;r++){const o=e[r];s.addColorStop(o[0],`#${o[1].getHexString()}`)}t.fillStyle=s,t.fill();const n=new wg(i);return n.needsUpdate=!0,n.minFilter=Is,n}function k0(e){const i=new Uint8Array(262144);for(let s=0;s<256;s++)for(let n=0;n<256;n++){const r=s+256*n;let o;e[s]?o=e[s]:e[s%32]?o=e[s%32]:o=e.DEFAULT,i[4*r+0]=255*o.x,i[4*r+1]=255*o.y,i[4*r+2]=255*o.z,i[4*r+3]=255*o.w}const t=new Ig(i,256,256,Xs);return t.magFilter=Ui,t.needsUpdate=!0,t}var fK=`precision highp float;
precision highp int;

//#if NUM_CLIPPING_PLANES > 0
//	varying vec3 vClipPosition;
//	uniform vec4 clippingPlanes[NUM_CLIPPING_PLANES];
//#endif

#if defined paraboloid_point_shape
	#extension GL_EXT_frag_depth : enable
#endif

uniform mat4 viewMatrix;
uniform vec3 cameraPosition;

uniform mat4 projectionMatrix;
uniform float opacity;

uniform float blendHardness;
uniform float blendDepthSupplement;
uniform float fov;
uniform float spacing;
uniform float pcIndex;
uniform float screenWidth;
uniform float screenHeight;

uniform sampler2D depthMap;

#ifdef highlight_point
	uniform vec4 highlightedPointColor;
#endif

varying vec3 vColor;

#if !defined(color_type_point_index)
	varying float vOpacity;
#endif

#if defined(weighted_splats)
	varying float vLinearDepth;
#endif

#if !defined(paraboloid_point_shape) && defined(use_edl)
	varying float vLogDepth;
#endif

#if defined(color_type_phong) && (MAX_POINT_LIGHTS > 0 || MAX_DIR_LIGHTS > 0) || defined(paraboloid_point_shape)
	varying vec3 vViewPosition;
#endif

#if defined(weighted_splats) || defined(paraboloid_point_shape)
	varying float vRadius;
#endif

#if defined(color_type_phong) && (MAX_POINT_LIGHTS > 0 || MAX_DIR_LIGHTS > 0)
	varying vec3 vNormal;
#endif

#ifdef highlight_point
	varying float vHighlight;
#endif

float specularStrength = 1.0;

#include <clipping_planes_pars_fragment>

void main() {
	#include <clipping_planes_fragment>

	vec3 color = vColor;
	float depth = gl_FragCoord.z;
	/*
	#if NUM_CLIPPING_PLANES > 0
		vec4 plane;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
	*/
	
	#if defined(circle_point_shape) || defined(paraboloid_point_shape) || defined (weighted_splats)
		float u = 2.0 * gl_PointCoord.x - 1.0;
		float v = 2.0 * gl_PointCoord.y - 1.0;
	#endif
	
	#if defined(circle_point_shape) || defined (weighted_splats)
		float cc = u*u + v*v;
		if(cc > 1.0){
			discard;
		}
	#endif
	
	#if defined weighted_splats
		vec2 uv = gl_FragCoord.xy / vec2(screenWidth, screenHeight);
		float sDepth = texture2D(depthMap, uv).r;
		if(vLinearDepth > sDepth + vRadius + blendDepthSupplement){
			discard;
		}
	#endif
		
	#if defined color_type_point_index
		gl_FragColor = vec4(color, pcIndex / 255.0);
	#else
		gl_FragColor = vec4(color, vOpacity);
	#endif

	#if defined(color_type_phong)
		#if MAX_POINT_LIGHTS > 0 || MAX_DIR_LIGHTS > 0
			vec3 normal = normalize( vNormal );
			normal.z = abs(normal.z);

			vec3 viewPosition = normalize( vViewPosition );
		#endif

		// code taken from three.js phong light fragment shader
	
		#if MAX_POINT_LIGHTS > 0

			vec3 pointDiffuse = vec3( 0.0 );
			vec3 pointSpecular = vec3( 0.0 );

			for ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {

				vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );
				vec3 lVector = lPosition.xyz + vViewPosition.xyz;

				float lDistance = 1.0;
				if ( pointLightDistance[ i ] > 0.0 )
					lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );

				lVector = normalize( lVector );

						// diffuse

				float dotProduct = dot( normal, lVector );

				#ifdef WRAP_AROUND

					float pointDiffuseWeightFull = max( dotProduct, 0.0 );
					float pointDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );

					vec3 pointDiffuseWeight = mix( vec3( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );

				#else

					float pointDiffuseWeight = max( dotProduct, 0.0 );

				#endif

				pointDiffuse += diffuse * pointLightColor[ i ] * pointDiffuseWeight * lDistance;

				// specular

				vec3 pointHalfVector = normalize( lVector + viewPosition );
				float pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );
				float pointSpecularWeight = specularStrength * max( pow( pointDotNormalHalf, shininess ), 0.0 );

				float specularNormalization = ( shininess + 2.0 ) / 8.0;

				vec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, pointHalfVector ), 0.0 ), 5.0 );
				pointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * lDistance * specularNormalization;
				pointSpecular = vec3(0.0, 0.0, 0.0);
			}
		
		#endif
		
		#if MAX_DIR_LIGHTS > 0

			vec3 dirDiffuse = vec3( 0.0 );
			vec3 dirSpecular = vec3( 0.0 );

			for( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {

				vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );
				vec3 dirVector = normalize( lDirection.xyz );

						// diffuse

				float dotProduct = dot( normal, dirVector );

				#ifdef WRAP_AROUND

					float dirDiffuseWeightFull = max( dotProduct, 0.0 );
					float dirDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );

					vec3 dirDiffuseWeight = mix( vec3( dirDiffuseWeightFull ), vec3( dirDiffuseWeightHalf ), wrapRGB );

				#else

					float dirDiffuseWeight = max( dotProduct, 0.0 );

				#endif

				dirDiffuse += diffuse * directionalLightColor[ i ] * dirDiffuseWeight;

				// specular

				vec3 dirHalfVector = normalize( dirVector + viewPosition );
				float dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );
				float dirSpecularWeight = specularStrength * max( pow( dirDotNormalHalf, shininess ), 0.0 );

				float specularNormalization = ( shininess + 2.0 ) / 8.0;

				vec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( dirVector, dirHalfVector ), 0.0 ), 5.0 );
				dirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;
			}

		#endif
		
		vec3 totalDiffuse = vec3( 0.0 );
		vec3 totalSpecular = vec3( 0.0 );
		
		#if MAX_POINT_LIGHTS > 0

			totalDiffuse += pointDiffuse;
			totalSpecular += pointSpecular;

		#endif
		
		#if MAX_DIR_LIGHTS > 0

			totalDiffuse += dirDiffuse;
			totalSpecular += dirSpecular;

		#endif
		
		gl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient ) + totalSpecular;

	#endif
	
	#if defined weighted_splats
	    //float w = pow(1.0 - (u*u + v*v), blendHardness);
		
		float wx = 2.0 * length(2.0 * gl_PointCoord - 1.0);
		float w = exp(-wx * wx * 0.5);
		
		//float distance = length(2.0 * gl_PointCoord - 1.0);
		//float w = exp( -(distance * distance) / blendHardness);
		
		gl_FragColor.rgb = gl_FragColor.rgb * w;
		gl_FragColor.a = w;
	#endif
	
	#if defined paraboloid_point_shape
		float wi = 0.0 - ( u*u + v*v);
		vec4 pos = vec4(vViewPosition, 1.0);
		pos.z += wi * vRadius;
		float linearDepth = -pos.z;
		pos = projectionMatrix * pos;
		pos = pos / pos.w;
		float expDepth = pos.z;
		depth = (pos.z + 1.0) / 2.0;
		gl_FragDepthEXT = depth;
		
		#if defined(color_type_depth)
			gl_FragColor.r = linearDepth;
			gl_FragColor.g = expDepth;
		#endif
		
		#if defined(use_edl)
			gl_FragColor.a = log2(linearDepth);
		#endif
		
	#else
		#if defined(use_edl)
			gl_FragColor.a = vLogDepth;
		#endif
	#endif

	#ifdef highlight_point
		if (vHighlight > 0.0) {
			gl_FragColor = highlightedPointColor;
		}
	#endif
}
`,TK=`precision highp float;
precision highp int;

//#if NUM_CLIPPING_PLANES > 0
//	varying vec3 vClipPosition;
//	uniform vec4 clippingPlanes[NUM_CLIPPING_PLANES];
//#endif

#define max_clip_boxes 30

attribute vec3 position;
attribute vec3 color;
attribute vec3 normal;
attribute float intensity;
attribute float classification;
attribute float returnNumber;
attribute float numberOfReturns;
attribute float pointSourceID;
attribute vec4 indices;

uniform mat4 modelMatrix;
uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;

uniform float pcIndex;

uniform float screenWidth;
uniform float screenHeight;
uniform float fov;
uniform float spacing;

#if defined use_clip_box
	uniform mat4 clipBoxes[max_clip_boxes];
#endif

uniform float heightMin;
uniform float heightMax;
uniform float size; // pixel size factor
uniform float minSize; // minimum pixel size
uniform float maxSize; // maximum pixel size
uniform float octreeSize;
uniform vec3 bbSize;
uniform vec3 uColor;
uniform float opacity;
uniform float clipBoxCount;
uniform float level;
uniform float vnStart;
uniform bool isLeafNode;
uniform bool useUnscaledElevation; // Use unscaled z for elevation coloring

uniform float filterByNormalThreshold;
uniform vec2 intensityRange;
uniform float opacityAttenuation;
uniform float intensityGamma;
uniform float intensityContrast;
uniform float intensityBrightness;
uniform float rgbGamma;
uniform float rgbContrast;
uniform float rgbBrightness;
uniform float transition;
uniform float wRGB;
uniform float wIntensity;
uniform float wElevation;
uniform float wClassification;
uniform float wReturnNumber;
uniform float wSourceID;

uniform sampler2D visibleNodes;
uniform sampler2D gradient;
uniform sampler2D classificationLUT;
uniform sampler2D depthMap;

#ifdef highlight_point
	uniform vec3 highlightedPointCoordinate;
	uniform bool enablePointHighlighting;
	uniform float highlightedPointScale;
#endif

varying vec3 vColor;

#if !defined(color_type_point_index)
	varying float vOpacity;
#endif

#if defined(weighted_splats)
	varying float vLinearDepth;
#endif

#if !defined(paraboloid_point_shape) && defined(use_edl)
	varying float vLogDepth;
#endif

#if defined(color_type_phong) && (MAX_POINT_LIGHTS > 0 || MAX_DIR_LIGHTS > 0) || defined(paraboloid_point_shape)
	varying vec3 vViewPosition;
#endif

#if defined(weighted_splats) || defined(paraboloid_point_shape)
	varying float vRadius;
#endif

#if defined(color_type_phong) && (MAX_POINT_LIGHTS > 0 || MAX_DIR_LIGHTS > 0)
	varying vec3 vNormal;
#endif

#ifdef highlight_point
	varying float vHighlight;
#endif

#include <clipping_planes_pars_vertex>

// ---------------------
// OCTREE
// ---------------------

#if (defined(adaptive_point_size) || defined(color_type_lod)) && defined(tree_type_octree)

/**
 * Rounds the specified number to the closest integer.
 */
float round(float number){
	return floor(number + 0.5);
}

/**
 * Gets the number of 1-bits up to inclusive index position.
 * 
 * number is treated as if it were an integer in the range 0-255
 */
int numberOfOnes(int number, int index) {
	int numOnes = 0;
	int tmp = 128;
	for (int i = 7; i >= 0; i--) {

		if (number >= tmp) {
			number = number - tmp;

			if (i <= index) {
				numOnes++;
			}
		}

		tmp = tmp / 2;
	}

	return numOnes;
}

/**
 * Checks whether the bit at index is 1.0
 *
 * number is treated as if it were an integer in the range 0-255
 */
bool isBitSet(int number, int index){

	// weird multi else if due to lack of proper array, int and bitwise support in WebGL 1.0
	int powi = 1;
	if (index == 0) {
		powi = 1;
	} else if (index == 1) {
		powi = 2;
	} else if (index == 2) {
		powi = 4;
	} else if (index == 3) {
		powi = 8;
	} else if (index == 4) {
		powi = 16;
	} else if (index == 5) {
		powi = 32;
	} else if (index == 6) {
		powi = 64;
	} else if (index == 7) {
		powi = 128;
	}

	int ndp = number / powi;

	return mod(float(ndp), 2.0) != 0.0;
}

/**
 * Gets the the LOD at the point position.
 */
float getLOD() {
	vec3 offset = vec3(0.0, 0.0, 0.0);
	int iOffset = int(vnStart);
	float depth = level;

	for (float i = 0.0; i <= 30.0; i++) {
		float nodeSizeAtLevel = octreeSize  / pow(2.0, i + level + 0.0);
		
		vec3 index3d = (position-offset) / nodeSizeAtLevel;
		index3d = floor(index3d + 0.5);
		int index = int(round(4.0 * index3d.x + 2.0 * index3d.y + index3d.z));
		
		vec4 value = texture2D(visibleNodes, vec2(float(iOffset) / 2048.0, 0.0));
		int mask = int(round(value.r * 255.0));

		if (isBitSet(mask, index)) {
			// there are more visible child nodes at this position
			int advanceG = int(round(value.g * 255.0)) * 256;
			int advanceB = int(round(value.b * 255.0));
			int advanceChild = numberOfOnes(mask, index - 1);
			int advance = advanceG + advanceB + advanceChild;

			iOffset = iOffset + advance;

			depth++;
		} else {
			return value.a * 255.0; // no more visible child nodes at this position
		}
		
		offset = offset + (vec3(1.0, 1.0, 1.0) * nodeSizeAtLevel * 0.5) * index3d;  
	}
		
	return depth;
}

float getPointSizeAttenuation() {
	return 0.5 * pow(2.0, getLOD());
}

#endif

// ---------------------
// KD-TREE
// ---------------------

#if (defined(adaptive_point_size) || defined(color_type_lod)) && defined(tree_type_kdtree)

float getLOD() {
	vec3 offset = vec3(0.0, 0.0, 0.0);
	float intOffset = 0.0;
	float depth = 0.0;
			
	vec3 size = bbSize;	
	vec3 pos = position;
		
	for (float i = 0.0; i <= 1000.0; i++) {
		
		vec4 value = texture2D(visibleNodes, vec2(intOffset / 2048.0, 0.0));
		
		int children = int(value.r * 255.0);
		float next = value.g * 255.0;
		int split = int(value.b * 255.0);
		
		if (next == 0.0) {
		 	return depth;
		}
		
		vec3 splitv = vec3(0.0, 0.0, 0.0);
		if (split == 1) {
			splitv.x = 1.0;
		} else if (split == 2) {
		 	splitv.y = 1.0;
		} else if (split == 4) {
		 	splitv.z = 1.0;
		}
		
		intOffset = intOffset + next;
		
		float factor = length(pos * splitv / size);
		if (factor < 0.5) {
		 	// left
			if (children == 0 || children == 2) {
				return depth;
			}
		} else {
			// right
			pos = pos - size * splitv * 0.5;
			if (children == 0 || children == 1) {
				return depth;
			}
			if (children == 3) {
				intOffset = intOffset + 1.0;
			}
		}
		size = size * ((1.0 - (splitv + 1.0) / 2.0) + 0.5);
		
		depth++;
	}
		
		
	return depth;	
}

float getPointSizeAttenuation() {
	return 0.5 * pow(1.3, getLOD());
}

#endif

// formula adapted from: http://www.dfstudios.co.uk/articles/programming/image-programming-algorithms/image-processing-algorithms-part-5-contrast-adjustment/
float getContrastFactor(float contrast) {
	return (1.0158730158730156 * (contrast + 1.0)) / (1.0158730158730156 - contrast);
}

vec3 getRGB() {
	#if defined(use_rgb_gamma_contrast_brightness)
	  vec3 rgb = color;
		rgb = pow(rgb, vec3(rgbGamma));
		rgb = rgb + rgbBrightness;
		rgb = (rgb - 0.5) * getContrastFactor(rgbContrast) + 0.5;
		rgb = clamp(rgb, 0.0, 1.0);
		return rgb;
	#else
		return color;
	#endif
}

float getIntensity() {
	float w = (intensity - intensityRange.x) / (intensityRange.y - intensityRange.x);
	w = pow(w, intensityGamma);
	w = w + intensityBrightness;
	w = (w - 0.5) * getContrastFactor(intensityContrast) + 0.5;
	w = clamp(w, 0.0, 1.0);
	
	return w;
}

vec3 getElevation() {
	float w;
	if (useUnscaledElevation) {
		// Use unscaled/unprojected values directly as elevations with a small scale do not work
		w = (position.z - heightMin) / (heightMax - heightMin);
	} else {
		// Original:
		vec4 world = modelMatrix * vec4(position, 1.0);
		w = (world.z - heightMin) / (heightMax - heightMin);
	}
	vec3 cElevation = texture2D(gradient, vec2(w, 1.0 - w)).rgb;
	return cElevation;
}

vec4 getClassification() {
	vec2 uv = vec2(classification / 255.0, 0.5);
	vec4 classColor = texture2D(classificationLUT, uv);
	
	return classColor;
}

vec3 getReturnNumber() {
	if (numberOfReturns == 1.0) {
		return vec3(1.0, 1.0, 0.0);
	} else {
		if (returnNumber == 1.0) {
			return vec3(1.0, 0.0, 0.0);
		} else if (returnNumber == numberOfReturns) {
			return vec3(0.0, 0.0, 1.0);
		} else {
			return vec3(0.0, 1.0, 0.0);
		}
	}
}

vec3 getSourceID() {
	float w = mod(pointSourceID, 10.0) / 10.0;
	return texture2D(gradient, vec2(w, 1.0 - w)).rgb;
}

vec3 getCompositeColor() {
	vec3 c;
	float w;

	c += wRGB * getRGB();
	w += wRGB;
	
	c += wIntensity * getIntensity() * vec3(1.0, 1.0, 1.0);
	w += wIntensity;
	
	c += wElevation * getElevation();
	w += wElevation;
	
	c += wReturnNumber * getReturnNumber();
	w += wReturnNumber;
	
	c += wSourceID * getSourceID();
	w += wSourceID;
	
	vec4 cl = wClassification * getClassification();
	c += cl.a * cl.rgb;
	w += wClassification * cl.a;

	c = c / w;
	
	if (w == 0.0) {
		gl_Position = vec4(100.0, 100.0, 100.0, 0.0);
	}
	
	return c;
}

void main() {
	//vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
	
	#include <begin_vertex>

	//gl_Position = projectionMatrix * mvPosition;
	#include <project_vertex>

	#if defined(color_type_phong) && (MAX_POINT_LIGHTS > 0 || MAX_DIR_LIGHTS > 0) || defined(paraboloid_point_shape)
		vViewPosition = mvPosition.xyz;
	#endif

	#if defined weighted_splats
		vLinearDepth = gl_Position.w;
	#endif

	#if defined(color_type_phong) && (MAX_POINT_LIGHTS > 0 || MAX_DIR_LIGHTS > 0)
		vNormal = normalize(normalMatrix * normal);
	#endif

	#if !defined(paraboloid_point_shape) && defined(use_edl)
		vLogDepth = log2(-mvPosition.z);
	#endif

	// ---------------------
	// POINT SIZE
	// ---------------------

	float pointSize = 1.0;
	float slope = tan(fov / 2.0);
	float projFactor =  -0.5 * screenHeight / (slope * mvPosition.z);

	#if defined fixed_point_size
		pointSize = size;
	#elif defined attenuated_point_size
		pointSize = size * spacing * projFactor;
	#elif defined adaptive_point_size
		float worldSpaceSize = 2.0 * size * spacing / getPointSizeAttenuation();
		pointSize = worldSpaceSize * projFactor;
	#endif

	pointSize = max(minSize, pointSize);
	pointSize = min(maxSize, pointSize);

	#if defined(weighted_splats) || defined(paraboloid_point_shape)
		vRadius = pointSize / projFactor;
	#endif
	
	gl_PointSize = pointSize;

	// ---------------------
	// HIGHLIGHTING
	// ---------------------

	#ifdef highlight_point
		vec4 mPosition = modelMatrix * vec4(position, 1.0);
		if (enablePointHighlighting && abs(mPosition.x - highlightedPointCoordinate.x) < 0.0001 &&
			abs(mPosition.y - highlightedPointCoordinate.y) < 0.0001 &&
			abs(mPosition.z - highlightedPointCoordinate.z) < 0.0001) {
			vHighlight = 1.0;
			gl_PointSize = pointSize * highlightedPointScale;
		} else {
			vHighlight = 0.0;
		}
	#endif

	// ---------------------
	// OPACITY
	// ---------------------

	#ifndef color_type_point_index
		#ifdef attenuated_opacity
			vOpacity = opacity * exp(-length(-mvPosition.xyz) / opacityAttenuation);
		#else
			vOpacity = opacity;
		#endif
	#endif

	// ---------------------
	// FILTERING
	// ---------------------

	#ifdef use_filter_by_normal
		if(abs((modelViewMatrix * vec4(normal, 0.0)).z) > filterByNormalThreshold) {
			// Move point outside clip space space to discard it.
			gl_Position = vec4(0.0, 0.0, 2.0, 1.0);
		}
	#endif

	// ---------------------
	// POINT COLOR
	// ---------------------	

	#ifdef color_type_rgb
		vColor = getRGB();
	#elif defined color_type_height
		vColor = getElevation();
	#elif defined color_type_rgb_height
		vec3 cHeight = getElevation();
		vColor = (1.0 - transition) * getRGB() + transition * cHeight;
	#elif defined color_type_depth
		float linearDepth = -mvPosition.z ;
		float expDepth = (gl_Position.z / gl_Position.w) * 0.5 + 0.5;
		vColor = vec3(linearDepth, expDepth, 0.0);
	#elif defined color_type_intensity
		float w = getIntensity();
		vColor = vec3(w, w, w);
	#elif defined color_type_intensity_gradient
		float w = getIntensity();
		vColor = texture2D(gradient, vec2(w, 1.0 - w)).rgb;
	#elif defined color_type_color
		vColor = uColor;
	#elif defined color_type_lod
	float w = getLOD() / 10.0;
	vColor = texture2D(gradient, vec2(w, 1.0 - w)).rgb;
	#elif defined color_type_point_index
		vColor = indices.rgb;
	#elif defined color_type_classification
	  vec4 cl = getClassification(); 
		vColor = cl.rgb;
	#elif defined color_type_return_number
		vColor = getReturnNumber();
	#elif defined color_type_source
		vColor = getSourceID();
	#elif defined color_type_normal
		vColor = (modelMatrix * vec4(normal, 0.0)).xyz;
	#elif defined color_type_phong
		vColor = color;
	#elif defined color_type_composite
		vColor = getCompositeColor();
	#endif
	
	#if !defined color_type_composite && defined color_type_classification
		if (cl.a == 0.0) {
			gl_Position = vec4(100.0, 100.0, 100.0, 0.0);
			return;
		}
	#endif

	// ---------------------
	// CLIPPING
	// ---------------------
	//#if NUM_CLIPPING_PLANES > 0
		// TODO: Optimize modelPositions
	//	vClipPosition = -(modelMatrix * vec4(position, 1.0)).xyz;
	//#endif
	#include <clipping_planes_vertex>

	#if defined use_clip_box
		bool insideAny = false;
		for (int i = 0; i < max_clip_boxes; i++) {
			if (i == int(clipBoxCount)) {
				break;
			}
		
			vec4 clipPosition = clipBoxes[i] * modelMatrix * vec4(position, 1.0);
			bool inside = -0.5 <= clipPosition.x && clipPosition.x <= 0.5;
			inside = inside && -0.5 <= clipPosition.y && clipPosition.y <= 0.5;
			inside = inside && -0.5 <= clipPosition.z && clipPosition.z <= 0.5;
			insideAny = insideAny || inside;
		}

		if (!insideAny) {
			#if defined clip_outside
				gl_Position = vec4(1000.0, 1000.0, 1000.0, 1.0);
			#elif defined clip_highlight_inside && !defined(color_type_depth)
				float c = (vColor.r + vColor.g + vColor.b) / 6.0;
			#endif
		} else {
			#if defined clip_highlight_inside
				vColor.r += 0.5;
			#endif
		}
	#endif
}
`,gK=Object.defineProperty,bK=Object.getOwnPropertyDescriptor,Ft=(e,i,t,s)=>{for(var n=s>1?void 0:s?bK(i,t):i,r=e.length-1,o;r>=0;r--)(o=e[r])&&(n=(s?o(i,t,n):o(n))||n);return s&&n&&gK(i,t,n),n};const IK={[Gh.OCTREE]:"tree_type_octree",[Gh.KDTREE]:"tree_type_kdtree"},LK={[pr.FIXED]:"fixed_point_size",[pr.ATTENUATED]:"attenuated_point_size",[pr.ADAPTIVE]:"adaptive_point_size"},SK={[su.ATTENUATED]:"attenuated_opacity",[su.FIXED]:"fixed_opacity"},MK={[To.SQUARE]:"square_point_shape",[To.CIRCLE]:"circle_point_shape",[To.PARABOLOID]:"paraboloid_point_shape"},xK={[qi.RGB]:"color_type_rgb",[qi.COLOR]:"color_type_color",[qi.DEPTH]:"color_type_depth",[qi.HEIGHT]:"color_type_height",[qi.INTENSITY]:"color_type_intensity",[qi.INTENSITY_GRADIENT]:"color_type_intensity_gradient",[qi.LOD]:"color_type_lod",[qi.POINT_INDEX]:"color_type_point_index",[qi.CLASSIFICATION]:"color_type_classification",[qi.RETURN_NUMBER]:"color_type_return_number",[qi.SOURCE]:"color_type_source",[qi.NORMAL]:"color_type_normal",[qi.PHONG]:"color_type_phong",[qi.RGB_HEIGHT]:"color_type_rgb_height",[qi.COMPOSITE]:"color_type_composite"},vK={[fo.DISABLED]:"clip_disabled",[fo.CLIP_OUTSIDE]:"clip_outside",[fo.HIGHLIGHT_INSIDE]:"clip_highlight_inside"},ub=class extends mA{constructor(e={}){super();this.morphTargets=!1,this.lights=!1,this.fog=!1,this.numClipBoxes=0,this.clipBoxes=[],this.cacheKeyIndex=0,this.visibleNodeTextureOffsets=new Map,this._gradient=hb,this.gradientTexture=Y0(this._gradient),this._classification=lb,this.classificationTexture=k0(this._classification),this.uniforms={bbSize:Et("fv",[0,0,0]),blendDepthSupplement:Et("f",0),blendHardness:Et("f",2),classificationLUT:Et("t",this.classificationTexture||new ys),clipBoxCount:Et("f",0),clipBoxes:Et("Matrix4fv",[]),depthMap:Et("t",null),diffuse:Et("fv",[1,1,1]),fov:Et("f",1),gradient:Et("t",this.gradientTexture||new ys),heightMax:Et("f",1),heightMin:Et("f",0),intensityBrightness:Et("f",0),intensityContrast:Et("f",0),intensityGamma:Et("f",1),intensityRange:Et("fv",[0,65e3]),isLeafNode:Et("b",0),level:Et("f",0),maxSize:Et("f",tK),minSize:Et("f",sK),octreeSize:Et("f",0),opacity:Et("f",1),pcIndex:Et("f",0),rgbBrightness:Et("f",sb),rgbContrast:Et("f",nb),rgbGamma:Et("f",rb),screenHeight:Et("f",1),screenWidth:Et("f",1),size:Et("f",1),spacing:Et("f",1),toModel:Et("Matrix4f",[]),transition:Et("f",.5),uColor:Et("c",new ge(16777215)),visibleNodes:Et("t",this.visibleNodesTexture||new ys),vnStart:Et("f",0),wClassification:Et("f",0),wElevation:Et("f",0),wIntensity:Et("f",0),wReturnNumber:Et("f",0),wRGB:Et("f",1),wSourceID:Et("f",0),opacityAttenuation:Et("f",1),filterByNormalThreshold:Et("f",0),highlightedPointCoordinate:Et("fv",new H),highlightedPointColor:Et("fv",lK.clone()),enablePointHighlighting:Et("b",!0),highlightedPointScale:Et("f",2),useUnscaledElevation:Et("b",!1),clipIntersection:Et("b",!1)},this.useClipBox=!1,this.weighted=!1,this.pointColorType=qi.RGB,this.pointSizeType=pr.ADAPTIVE,this.clipMode=fo.DISABLED,this.useEDL=!1,this.shape=To.CIRCLE,this.treeType=Gh.OCTREE,this.pointOpacityType=su.FIXED,this.useFilterByNormal=!1,this.highlightPoint=!1,this.attributes={position:{type:"fv",value:[]},color:{type:"fv",value:[]},normal:{type:"fv",value:[]},intensity:{type:"f",value:[]},classification:{type:"f",value:[]},returnNumber:{type:"f",value:[]},numberOfReturns:{type:"f",value:[]},pointSourceID:{type:"f",value:[]},indices:{type:"fv",value:[]}},this.clipping=!0;const i=this.visibleNodesTexture=cb(2048,1,new ge(16777215));i.minFilter=Ui,i.magFilter=Ui,this.setUniform("visibleNodes",i),this.treeType=Md(e.treeType,Gh.OCTREE),this.size=Md(e.size,1),this.minSize=Md(e.minSize,2),this.maxSize=Md(e.maxSize,50),this.classification=lb,this.defaultAttributeValues.normal=[0,0,0],this.defaultAttributeValues.classification=[0,0,0],this.defaultAttributeValues.indices=[0,0,0,0],this.vertexColors=!0,this.updateShaderSource()}dispose(){super.dispose(),this.gradientTexture&&(this.gradientTexture.dispose(),this.gradientTexture=void 0),this.visibleNodesTexture&&(this.visibleNodesTexture.dispose(),this.visibleNodesTexture=void 0),this.clearVisibleNodeTextureOffsets(),this.classificationTexture&&(this.classificationTexture.dispose(),this.classificationTexture=void 0),this.depthMap&&(this.depthMap.dispose(),this.depthMap=void 0)}clearVisibleNodeTextureOffsets(){this.visibleNodeTextureOffsets.clear()}updateShaderSource(){this.vertexShader=this.applyDefines(TK),this.fragmentShader=this.applyDefines(fK),this.opacity===1?(this.blending=Fr,this.transparent=!1,this.depthTest=!0,this.depthWrite=!0,this.depthFunc=Oc):this.opacity<1&&!this.useEDL&&(this.blending=Xp,this.transparent=!0,this.depthTest=!1,this.depthWrite=!0),this.weighted&&(this.blending=Xp,this.transparent=!0,this.depthTest=!0,this.depthWrite=!1,this.depthFunc=Oc),this.needsUpdate=!0}applyDefines(e){const i=[];function t(s){s&&i.push(`#define ${s}`)}return t(IK[this.treeType]),t(LK[this.pointSizeType]),t(MK[this.shape]),t(xK[this.pointColorType]),t(vK[this.clipMode]),t(SK[this.pointOpacityType]),(this.rgbGamma!==rb||this.rgbBrightness!==sb||this.rgbContrast!==nb)&&t("use_rgb_gamma_contrast_brightness"),this.useFilterByNormal&&t("use_filter_by_normal"),this.useEDL&&t("use_edl"),this.weighted&&t("weighted_splats"),this.numClipBoxes>0&&t("use_clip_box"),this.highlightPoint&&t("highlight_point"),t("MAX_POINT_LIGHTS 0"),t("MAX_DIR_LIGHTS 0"),i.push(e),i.join(`
`)}setClipBoxes(e){if(!e)return;this.clipBoxes=e;const i=this.numClipBoxes!==e.length&&(e.length===0||this.numClipBoxes===0);this.numClipBoxes=e.length,this.setUniform("clipBoxCount",this.numClipBoxes),i&&this.updateShaderSource();const t=this.numClipBoxes*16,s=new Float32Array(t);for(let n=0;n<this.numClipBoxes;n++)s.set(e[n].inverse.elements,16*n);for(let n=0;n<t;n++)isNaN(s[n])&&(s[n]=1/0);this.setUniform("clipBoxes",s)}get gradient(){return this._gradient}set gradient(e){this._gradient!==e&&(this._gradient=e,this.gradientTexture=Y0(this._gradient),this.setUniform("gradient",this.gradientTexture))}get classification(){return this._classification}set classification(e){const i={};for(const s of Object.keys(e))i[s]=e[s].clone();let t=!1;if(this._classification===void 0)t=!1;else{t=Object.keys(i).length===Object.keys(this._classification).length;for(const s of Object.keys(i))t=t&&this._classification[s]!==void 0,t=t&&i[s].equals(this._classification[s])}t||(this._classification=i,this.recomputeClassification())}recomputeClassification(){this.classificationTexture=k0(this._classification),this.setUniform("classificationLUT",this.classificationTexture)}get elevationRange(){return[this.heightMin,this.heightMax]}set elevationRange(e){this.heightMin=e[0],this.heightMax=e[1]}getUniform(e){return this.uniforms===void 0?void 0:this.uniforms[e].value}setUniform(e,i){if(this.uniforms===void 0)return;const t=this.uniforms[e];t.type==="c"?t.value.copy(i):i!==t.value&&(t.value=i)}updateMaterial(e,i,t,s){const n=s.getPixelRatio();t.type===ab?this.fov=t.fov*(Math.PI/180):this.fov=Math.PI/2;const r=s.getRenderTarget();r!==null&&r instanceof Pr?(this.screenWidth=r.width,this.screenHeight=r.height):(this.screenWidth=s.domElement.clientWidth*n,this.screenHeight=s.domElement.clientHeight*n);const o=Math.max(e.scale.x,e.scale.y,e.scale.z);this.spacing=e.pcoGeometry.spacing*o,this.octreeSize=e.pcoGeometry.boundingBox.getSize(ub.helperVec3).x,(this.pointSizeType===pr.ADAPTIVE||this.pointColorType===qi.LOD)&&this.updateVisibilityTextureData(i)}updateVisibilityTextureData(e){e.sort(hK);const i=new Uint8Array(e.length*4),t=new Array(e.length).fill(1/0);this.visibleNodeTextureOffsets.clear();for(let n=0;n<e.length;n++){const r=e[n];if(this.visibleNodeTextureOffsets.set(r.name,n),n>0){const o=r.name.slice(0,-1),a=this.visibleNodeTextureOffsets.get(o),l=n-a;t[a]=Math.min(t[a],l);const h=a*4;i[h]=i[h]|1<<r.index,i[h+1]=t[a]>>8,i[h+2]=t[a]%256}i[n*4+3]=r.name.length}const s=this.visibleNodesTexture;s&&(s.image.data.set(i),s.needsUpdate=!0)}onBeforeCompile(e,i){this.cacheKeyIndex++}customProgramCacheKey(){return`pc-mat-${this.cacheKeyIndex}`}static makeOnBeforeRender(e,i,t){return(s,n,r,o,a)=>{const l=a,h=l.uniforms;h.level.value=i.level,h.isLeafNode.value=i.isLeafNode;const c=l.visibleNodeTextureOffsets.get(i.name);c!==void 0&&(h.vnStart.value=c),h.pcIndex.value=t!==void 0?t:e.visibleNodes.indexOf(i),a.uniformsNeedUpdate=!0}}};let It=ub;It.helperVec3=new H,Ft([ai("bbSize")],It.prototype,"bbSize",2),Ft([ai("depthMap")],It.prototype,"depthMap",2),Ft([ai("fov")],It.prototype,"fov",2),Ft([ai("heightMax")],It.prototype,"heightMax",2),Ft([ai("heightMin")],It.prototype,"heightMin",2),Ft([ai("intensityBrightness")],It.prototype,"intensityBrightness",2),Ft([ai("intensityContrast")],It.prototype,"intensityContrast",2),Ft([ai("intensityGamma")],It.prototype,"intensityGamma",2),Ft([ai("intensityRange")],It.prototype,"intensityRange",2),Ft([ai("maxSize")],It.prototype,"maxSize",2),Ft([ai("minSize")],It.prototype,"minSize",2),Ft([ai("octreeSize")],It.prototype,"octreeSize",2),Ft([ai("opacity",!0)],It.prototype,"opacity",2),Ft([ai("rgbBrightness",!0)],It.prototype,"rgbBrightness",2),Ft([ai("rgbContrast",!0)],It.prototype,"rgbContrast",2),Ft([ai("rgbGamma",!0)],It.prototype,"rgbGamma",2),Ft([ai("screenHeight")],It.prototype,"screenHeight",2),Ft([ai("screenWidth")],It.prototype,"screenWidth",2),Ft([ai("size")],It.prototype,"size",2),Ft([ai("spacing")],It.prototype,"spacing",2),Ft([ai("transition")],It.prototype,"transition",2),Ft([ai("uColor")],It.prototype,"color",2),Ft([ai("wClassification")],It.prototype,"weightClassification",2),Ft([ai("wElevation")],It.prototype,"weightElevation",2),Ft([ai("wIntensity")],It.prototype,"weightIntensity",2),Ft([ai("wReturnNumber")],It.prototype,"weightReturnNumber",2),Ft([ai("wRGB")],It.prototype,"weightRGB",2),Ft([ai("wSourceID")],It.prototype,"weightSourceID",2),Ft([ai("opacityAttenuation")],It.prototype,"opacityAttenuation",2),Ft([ai("filterByNormalThreshold")],It.prototype,"filterByNormalThreshold",2),Ft([ai("highlightedPointCoordinate")],It.prototype,"highlightedPointCoordinate",2),Ft([ai("highlightedPointColor")],It.prototype,"highlightedPointColor",2),Ft([ai("enablePointHighlighting")],It.prototype,"enablePointHighlighting",2),Ft([ai("highlightedPointScale")],It.prototype,"highlightedPointScale",2),Ft([ai("useUnscaledElevation")],It.prototype,"useUnscaledElevation",2),Ft([ai("clipIntersection")],It.prototype,"clipIntersection",2),Ft([dr()],It.prototype,"useClipBox",2),Ft([dr()],It.prototype,"weighted",2),Ft([dr()],It.prototype,"pointColorType",2),Ft([dr()],It.prototype,"pointSizeType",2),Ft([dr()],It.prototype,"clipMode",2),Ft([dr()],It.prototype,"useEDL",2),Ft([dr()],It.prototype,"shape",2),Ft([dr()],It.prototype,"treeType",2),Ft([dr()],It.prototype,"pointOpacityType",2),Ft([dr()],It.prototype,"useFilterByNormal",2),Ft([dr()],It.prototype,"highlightPoint",2);function Et(e,i){return{type:e,value:i}}function Md(e,i){return e===void 0?i:e}function ai(e,i=!1){return(t,s)=>{Object.defineProperty(t,s,{get(){return this.getUniform(e)},set(n){n!==this.getUniform(e)&&(this.setUniform(e,n),i&&this.updateShaderSource())}})}}function dr(){return(e,i)=>{const t=`_${i.toString()}`;Object.defineProperty(e,i,{get(){return this[t]},set(s){s!==this[t]&&(this[t]=s,this.updateShaderSource())}})}}var pb=(e=>(e[e.POSITION_CARTESIAN=0]="POSITION_CARTESIAN",e[e.COLOR_PACKED=1]="COLOR_PACKED",e[e.COLOR_FLOATS_1=2]="COLOR_FLOATS_1",e[e.COLOR_FLOATS_255=3]="COLOR_FLOATS_255",e[e.NORMAL_FLOATS=4]="NORMAL_FLOATS",e[e.FILLER=5]="FILLER",e[e.INTENSITY=6]="INTENSITY",e[e.CLASSIFICATION=7]="CLASSIFICATION",e[e.NORMAL_SPHEREMAPPED=8]="NORMAL_SPHEREMAPPED",e[e.NORMAL_OCT16=9]="NORMAL_OCT16",e[e.NORMAL=10]="NORMAL",e))(pb||{});const mr={DATA_TYPE_DOUBLE:{ordinal:0,size:8},DATA_TYPE_FLOAT:{ordinal:1,size:4},DATA_TYPE_INT8:{ordinal:2,size:1},DATA_TYPE_UINT8:{ordinal:3,size:1},DATA_TYPE_INT16:{ordinal:4,size:2},DATA_TYPE_UINT16:{ordinal:5,size:2},DATA_TYPE_INT32:{ordinal:6,size:4},DATA_TYPE_UINT32:{ordinal:7,size:4},DATA_TYPE_INT64:{ordinal:8,size:8},DATA_TYPE_UINT64:{ordinal:9,size:8}};function Xr(e,i,t){return{name:e,type:i,numElements:t,byteSize:t*i.size}}const db=Xr(1,mr.DATA_TYPE_INT8,4),mb={POSITION_CARTESIAN:Xr(0,mr.DATA_TYPE_FLOAT,3),RGBA_PACKED:db,COLOR_PACKED:db,RGB_PACKED:Xr(1,mr.DATA_TYPE_INT8,3),NORMAL_FLOATS:Xr(4,mr.DATA_TYPE_FLOAT,3),FILLER_1B:Xr(5,mr.DATA_TYPE_UINT8,1),INTENSITY:Xr(6,mr.DATA_TYPE_UINT16,1),CLASSIFICATION:Xr(7,mr.DATA_TYPE_UINT8,1),NORMAL_SPHEREMAPPED:Xr(8,mr.DATA_TYPE_UINT8,2),NORMAL_OCT16:Xr(9,mr.DATA_TYPE_UINT8,2),NORMAL:Xr(10,mr.DATA_TYPE_FLOAT,3)};class A0{constructor(i=[]){this.attributes=[],this.byteSize=0,this.size=0;for(let t=0;t<i.length;t++){const s=i[t],n=mb[s];this.attributes.push(n),this.byteSize+=n.byteSize,this.size++}}add(i){this.attributes.push(i),this.byteSize+=i.byteSize,this.size++}hasColors(){return this.attributes.find(GK)!==void 0}hasNormals(){return this.attributes.find(EK)!==void 0}}function GK({name:e}){return e===1}function EK({name:e}){return e===8||e===4||e===10||e===9}const yb=5,K0=class extends qo{constructor(e,i,t,s){super();this.id=K0.idCount++,this.level=0,this.spacing=0,this.hasChildren=!1,this.children=[null,null,null,null,null,null,null,null],this.mean=new H,this.numPoints=0,this.geometry=new Yt,this.loaded=!1,this.loading=!1,this.failed=!1,this.parent=null,this.oneTimeDisposeHandlers=[],this.isLeafNode=!0,this.isTreeNode=!1,this.isGeometryNode=!0,this.name=e,this.index=W0(e),this.pcoGeometry=i,this.boundingBox=t,this.tightBoundingBox=t.clone(),this.boundingSphere=t.getBoundingSphere(new In),this.xhrInit=s||{}}dispose(){!this.geometry||!this.parent||(this.geometry.dispose(),this.geometry=new Yt,this.loaded=!1,this.oneTimeDisposeHandlers.forEach(e=>e()),this.oneTimeDisposeHandlers=[])}getUrl(){const e=this.pcoGeometry,i=e.loader.version,t=[e.octreeDir];return e.loader&&i.equalOrHigher("1.5")?(t.push(this.getHierarchyBaseUrl()),t.push(this.name)):i.equalOrHigher("1.4")?t.push(this.name):i.upTo("1.3")&&t.push(this.name),t.join("/")}getHierarchyUrl(){return`${this.pcoGeometry.octreeDir}/${this.getHierarchyBaseUrl()}/${this.name}.hrc`}addChild(e){this.children[e.index]=e,this.isLeafNode=!1,e.parent=this}traverse(e,i=!0){const t=i?[this]:[];let s;for(;(s=t.pop())!==void 0;){e(s);for(const n of s.children)n!==null&&t.push(n)}}load(){if(!this.canLoad())return Promise.resolve();this.loading=!0,this.pcoGeometry.numNodesLoading++,this.pcoGeometry.needsUpdate=!0;let e;return this.pcoGeometry.loader.version.equalOrHigher("1.5")&&this.level%this.pcoGeometry.hierarchyStepSize===0&&this.hasChildren?e=this.loadHierachyThenPoints():e=this.loadPoints(),e.catch(i=>{throw this.loading=!1,this.failed=!0,this.pcoGeometry.numNodesLoading--,i})}canLoad(){return!this.loading&&!this.loaded&&!this.pcoGeometry.disposed&&!this.pcoGeometry.loader.disposed&&this.pcoGeometry.numNodesLoading<this.pcoGeometry.maxNumNodesLoading}loadPoints(){return this.pcoGeometry.needsUpdate=!0,this.pcoGeometry.loader.load(this)}loadHierachyThenPoints(){return this.level%this.pcoGeometry.hierarchyStepSize!==0?Promise.resolve():Promise.resolve(this.pcoGeometry.loader.getUrl(this.getHierarchyUrl())).then(e=>this.pcoGeometry.xhrRequest(e,this.xhrInit)).then(e=>e.arrayBuffer()).then(e=>this.loadHierarchy(this,e))}getHierarchyBaseUrl(){const e=this.pcoGeometry.hierarchyStepSize,i=this.name.substr(1),t=Math.floor(i.length/e);let s="r/";for(let n=0;n<t;n++)s+=`${i.substr(n*e,e)}/`;return s.slice(0,-1)}loadHierarchy(e,i){const t=new DataView(i),s=this.getNodeData(e.name,0,t);e.numPoints=s.numPoints;const n=[s],r=[];let o=yb;for(;n.length>0;){const l=n.shift();let h=1;for(let c=0;c<8&&o+1<i.byteLength;c++){if((l.children&h)!==0){const u=this.getNodeData(l.name+c,o,t);r.push(u),n.push(u),o+=yb}h=h*2}}e.pcoGeometry.needsUpdate=!0;const a=new Map;a.set(e.name,e),r.forEach(l=>this.addNode(l,e.pcoGeometry,a)),e.loadPoints()}getNodeData(e,i,t){const s=t.getUint8(i),n=t.getUint32(i+1,!0);return{children:s,numPoints:n,name:e}}addNode({name:e,numPoints:i,children:t},s,n){const r=W0(e),o=e.substring(0,e.length-1),a=n.get(o),l=e.length-1,h=eb(a.boundingBox,r),c=new K0(e,s,h,this.xhrInit);c.level=l,c.numPoints=i,c.hasChildren=t>0,c.spacing=s.spacing/Math.pow(2,l),a.addChild(c),n.set(e,c)}};let xd=K0;xd.idCount=0;class fb{constructor(i,t,s,n,r,o){this.loader=i,this.boundingBox=t,this.tightBoundingBox=s,this.offset=n,this.xhrRequest=r,this.xhrInit=o,this.disposed=!1,this.needsUpdate=!0,this.octreeDir="",this.hierarchyStepSize=-1,this.nodes={},this.numNodesLoading=0,this.maxNumNodesLoading=3,this.spacing=0,this.pointAttributes=new A0([]),this.projection=null,this.url=null}dispose(){this.loader.dispose(),this.root.traverse(i=>i.dispose()),this.disposed=!0}addNodeLoadedCallback(i){this.loader.callbacks.push(i)}clearNodeLoadedCallbacks(){this.loader.callbacks=[]}}class Tb extends qo{constructor(i,t){super();this.pcIndex=void 0,this.boundingBoxNode=null,this.loaded=!0,this.isTreeNode=!0,this.isGeometryNode=!1,this.geometryNode=i,this.sceneNode=t,this.children=i.children.slice()}dispose(){this.geometryNode.dispose()}disposeSceneNode(){const i=this.sceneNode;if(i.geometry instanceof Yt){const t=i.geometry.attributes;for(const s in t)s==="position"&&delete t[s].array,delete t[s];i.geometry.dispose(),i.geometry=void 0}}traverse(i,t){this.geometryNode.traverse(i,t)}get id(){return this.geometryNode.id}get name(){return this.geometryNode.name}get level(){return this.geometryNode.level}get isLeafNode(){return this.geometryNode.isLeafNode}get numPoints(){return this.geometryNode.numPoints}get index(){return this.geometryNode.index}get boundingSphere(){return this.geometryNode.boundingSphere}get boundingBox(){return this.geometryNode.boundingBox}get spacing(){return this.geometryNode.spacing}}function gb(e,i,t){return Math.min(Math.max(i,e),t)}const Ds=class{dispose(){this.pickState&&(this.pickState.material.dispose(),this.pickState.renderTarget.dispose())}pick(e,i,t,s,n={}){if(s.length===0)return null;const r=this.pickState?this.pickState:this.pickState=Ds.getPickState(),o=r.material,a=e.getPixelRatio(),l=Math.ceil(e.domElement.clientWidth*a),h=Math.ceil(e.domElement.clientHeight*a);Ds.updatePickRenderTarget(this.pickState,l,h);const c=Ds.helperVec3;n.pixelPosition?c.copy(n.pixelPosition):(c.addVectors(i.position,t.direction).project(i),c.x=(c.x+1)*l*.5,c.y=(c.y+1)*h*.5);const u=Math.floor((n.pickWindowSize||nK)*a),p=(u-1)/2,d=Math.floor(gb(c.x-p,0,l)),T=Math.floor(gb(c.y-p,0,h));Ds.prepareRender(e,d,T,u,o,r);const g=Ds.render(e,i,o,s,t,r,n);o.clearVisibleNodeTextureOffsets();const I=Ds.readPixels(e,d,T,u),v=Ds.findHit(I,u);return Ds.getPickPoint(v,g)}static prepareRender(e,i,t,s,n,r){e.setScissor(i,t,s,s),e.setScissorTest(!0),e.state.buffers.depth.setTest(n.depthTest),e.state.buffers.depth.setMask(n.depthWrite),e.state.setBlending(Fr),e.setRenderTarget(r.renderTarget),e.getClearColor(this.clearColor);const o=e.getClearAlpha();e.setClearColor(aK,0),e.clear(!0,!0,!0),e.setClearColor(this.clearColor,o)}static render(e,i,t,s,n,r,o){const a=[];for(const l of s){const h=Ds.nodesOnRay(l,n);!h.length||(Ds.updatePickMaterial(t,l.material,o),t.updateMaterial(l,h,i,e),o.onBeforePickRender&&o.onBeforePickRender(t,r.renderTarget),r.scene.children=Ds.createTempNodes(l,h,t,a.length),e.render(r.scene,i),h.forEach(c=>a.push({node:c,octree:l})))}return a}static nodesOnRay(e,i){const t=[],s=i.clone();for(const n of e.visibleNodes){const r=Ds.helperSphere.copy(n.boundingSphere).applyMatrix4(e.matrixWorld);s.intersectsSphere(r)&&t.push(n)}return t}static readPixels(e,i,t,s){const n=new Uint8Array(4*s*s);return e.readRenderTargetPixels(e.getRenderTarget(),i,t,s,s,n),e.setScissorTest(!1),e.setRenderTarget(null),n}static createTempNodes(e,i,t,s){const n=[];for(let r=0;r<i.length;r++){const o=i[r],a=o.sceneNode,l=new E0(a.geometry,t);l.matrix=a.matrix,l.matrixWorld=a.matrixWorld,l.matrixAutoUpdate=!1,l.frustumCulled=!1;const h=s+r+1;h>255&&console.error("More than 255 nodes for pick are not supported."),l.onBeforeRender=It.makeOnBeforeRender(e,o,h),n.push(l)}return n}static updatePickMaterial(e,i,t){e.pointSizeType=i.pointSizeType,e.shape=i.shape,e.size=i.size,e.minSize=i.minSize,e.maxSize=i.maxSize,e.classification=i.classification,e.useFilterByNormal=i.useFilterByNormal,e.filterByNormalThreshold=i.filterByNormalThreshold,t.pickOutsideClipRegion?e.clipMode=fo.DISABLED:(e.clipMode=i.clipMode,e.setClipBoxes(i.clipMode===fo.CLIP_OUTSIDE?i.clipBoxes:[]))}static updatePickRenderTarget(e,i,t){e.renderTarget.width===i&&e.renderTarget.height===t||(e.renderTarget.dispose(),e.renderTarget=Ds.makePickRenderTarget(),e.renderTarget.setSize(i,t))}static makePickRenderTarget(){return new Pr(1,1,{minFilter:Is,magFilter:Ui,format:Xs})}static findHit(e,i){const t=new Uint32Array(e.buffer);let s=Number.MAX_VALUE,n=null;for(let r=0;r<i;r++)for(let o=0;o<i;o++){const a=r+o*i,l=Math.pow(r-(i-1)/2,2)+Math.pow(o-(i-1)/2,2),h=e[4*a+3];e[4*a+3]=0;const c=t[a];h>0&&l<s&&(n={pIndex:c,pcIndex:h-1},s=l)}return n}static getPickPoint(e,i){if(!e)return null;const t={},s=i[e.pcIndex]&&i[e.pcIndex].node.sceneNode;if(!s)return null;t.pointCloud=i[e.pcIndex].octree;const n=s.geometry.attributes;for(const r in n){if(!n.hasOwnProperty(r))continue;const o=n[r];if(r==="position")Ds.addPositionToPickPoint(t,e,o,s);else if(r==="normal")Ds.addNormalToPickPoint(t,e,o,s);else if(r!=="indices")if(o.itemSize===1)t[r]=o.array[e.pIndex];else{const a=[];for(let l=0;l<o.itemSize;l++)a.push(o.array[o.itemSize*e.pIndex+l]);t[r]=a}}return t}static addPositionToPickPoint(e,i,t,s){e.position=new H().fromBufferAttribute(t,i.pIndex).applyMatrix4(s.matrixWorld)}static addNormalToPickPoint(e,i,t,s){const n=new H().fromBufferAttribute(t,i.pIndex),r=new nt(n.x,n.y,n.z,0).applyMatrix4(s.matrixWorld);n.set(r.x,r.y,r.z),e.normal=n}static getPickState(){const e=new ur;e.matrixAutoUpdate=!1;const i=new It;return i.pointColorType=qi.POINT_INDEX,{renderTarget:Ds.makePickRenderTarget(),material:i,scene:e}}};let nu=Ds;nu.helperVec3=new H,nu.helperSphere=new In,nu.clearColor=new ge;class bb extends _i{constructor(){super(...arguments);this.root=null,this.geometry=new Yt}initialized(){return this.root!==null}}class Ib extends bb{constructor(i,t,s){super();this.disposed=!1,this.level=0,this.maxLevel=1/0,this.minNodePixelSize=iK,this.root=null,this.boundingBoxNodes=[],this.visibleNodes=[],this.visibleGeometry=[],this.numVisiblePoints=0,this.showBoundingBox=!1,this.visibleBounds=new Pi,this.name="",this.potree=i,this.root=t.root,this.pcoGeometry=t,this.boundingBox=t.boundingBox,this.boundingSphere=this.boundingBox.getBoundingSphere(new In),this.position.copy(t.offset),this.updateMatrix(),this.material=s||new It,this.initMaterial(this.material)}initMaterial(i){this.updateMatrixWorld(!0);const{min:t,max:s}=Sd(this.pcoGeometry.tightBoundingBox||this.getBoundingBoxWorld(),this.matrixWorld),n=s.z-t.z;i.heightMin=t.z-.2*n,i.heightMax=s.z+.2*n}dispose(){this.root&&this.root.dispose(),this.pcoGeometry.root.traverse(i=>this.potree.lru.remove(i)),this.pcoGeometry.dispose(),this.material.dispose(),this.visibleNodes=[],this.visibleGeometry=[],this.picker&&(this.picker.dispose(),this.picker=void 0),this.disposed=!0}get pointSizeType(){return this.material.pointSizeType}set pointSizeType(i){this.material.pointSizeType=i}toTreeNode(i,t){const s=new E0(i.geometry,this.material),n=new Tb(i,s);return s.name=i.name,s.position.copy(i.boundingBox.min),s.frustumCulled=!1,s.onBeforeRender=It.makeOnBeforeRender(this,n),t?(t.sceneNode.add(s),t.children[i.index]=n,i.oneTimeDisposeHandlers.push(()=>{n.disposeSceneNode(),t.sceneNode.remove(n.sceneNode),t.children[i.index]=i})):(this.root=n,this.add(s)),n}updateVisibleBounds(){const i=this.visibleBounds;i.min.set(1/0,1/0,1/0),i.max.set(-1/0,-1/0,-1/0);for(const t of this.visibleNodes)t.isLeafNode&&(i.expandByPoint(t.boundingBox.min),i.expandByPoint(t.boundingBox.max))}updateBoundingBoxes(){if(!this.showBoundingBox||!this.parent)return;let i=this.parent.getObjectByName("bbroot");i||(i=new _i,i.name="bbroot",this.parent.add(i));const t=[];for(const s of this.visibleNodes)s.boundingBoxNode!==void 0&&s.isLeafNode&&t.push(s.boundingBoxNode);i.children=t}updateMatrixWorld(i){this.matrixAutoUpdate===!0&&this.updateMatrix(),(this.matrixWorldNeedsUpdate===!0||i===!0)&&(this.parent?this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix):this.matrixWorld.copy(this.matrix),this.matrixWorldNeedsUpdate=!1,i=!0)}hideDescendants(i){const t=[];for(s(i);t.length>0;){const n=t.shift();n.visible=!1,s(n)}function s(n){for(const r of n.children)r.visible&&t.push(r)}}moveToOrigin(){this.position.set(0,0,0),this.position.set(0,0,0).sub(this.getBoundingBoxWorld().getCenter(new H))}moveToGroundPlane(){this.position.y+=-this.getBoundingBoxWorld().min.y}getBoundingBoxWorld(i){return this.updateMatrixWorld(!0),Sd(i||this.boundingBox,this.matrixWorld)}getVisibleExtent(){return this.visibleBounds.applyMatrix4(this.matrixWorld)}pick(i,t,s,n={}){return this.picker=this.picker||new nu,this.picker.pick(i,t,s,[this],n)}get progress(){return this.visibleGeometry.length===0?0:this.visibleNodes.length/this.visibleGeometry.length}}const Lb=document.createElement("canvas"),Ms=Lb.getContext("webgl")||Lb.getContext("experimental-webgl"),CK={SHADER_INTERPOLATION:vd("EXT_frag_depth")&&Z0(8),SHADER_SPLATS:vd("EXT_frag_depth")&&vd("OES_texture_float")&&Z0(8),SHADER_EDL:vd("OES_texture_float")&&Z0(8),precision:RK()};function vd(e){return Ms!==null&&Boolean(Ms.getExtension(e))}function Z0(e){return Ms!==null&&Ms.getParameter(Ms.MAX_VARYING_VECTORS)>=e}function RK(){if(Ms===null)return"";const e=Ms.getShaderPrecisionFormat(Ms.VERTEX_SHADER,Ms.HIGH_FLOAT),i=Ms.getShaderPrecisionFormat(Ms.VERTEX_SHADER,Ms.MEDIUM_FLOAT),t=Ms.getShaderPrecisionFormat(Ms.FRAGMENT_SHADER,Ms.HIGH_FLOAT),s=Ms.getShaderPrecisionFormat(Ms.FRAGMENT_SHADER,Ms.MEDIUM_FLOAT),n=e&&t&&e.precision>0&&t.precision>0,r=i&&s&&i.precision>0&&s.precision>0;return n?"highp":r?"mediump":"lowp"}class Eh{constructor(i){this.versionMinor=0,this.version=i;const t=i.indexOf(".")===-1?i.length:i.indexOf(".");this.versionMajor=parseInt(i.substr(0,t),10),this.versionMinor=parseInt(i.substr(t+1),10),isNaN(this.versionMinor)&&(this.versionMinor=0)}newerThan(i){const t=new Eh(i);return this.versionMajor>t.versionMajor?!0:this.versionMajor===t.versionMajor&&this.versionMinor>t.versionMinor}equalOrHigher(i){const t=new Eh(i);return this.versionMajor>t.versionMajor?!0:this.versionMajor===t.versionMajor&&this.versionMinor>=t.versionMinor}upTo(i){return!this.newerThan(i)}}var Sb=null;try{var NK=typeof module<"u"&&typeof module.require=="function"&&module.require("worker_threads")||typeof __non_webpack_require__=="function"&&__non_webpack_require__("worker_threads")||typeof require=="function"&&require("worker_threads");Sb=NK.Worker}catch{}function FK(e,i){return Buffer.from(e,"base64").toString(i?"utf16":"utf8")}function PK(e,i,t){var s=i===void 0?null:i,n=t===void 0?!1:t,r=FK(e,n),o=r.indexOf(`
`,10)+1,a=r.substring(o)+(s?"//# sourceMappingURL="+s:"");return function(h){return new Sb(a,Object.assign({},h,{eval:!0}))}}function wK(e,i){var t=atob(e);if(i){for(var s=new Uint8Array(t.length),n=0,r=t.length;n<r;++n)s[n]=t.charCodeAt(n);return String.fromCharCode.apply(null,new Uint16Array(s.buffer))}return t}function XK(e,i,t){var s=i===void 0?null:i,n=t===void 0?!1:t,r=wK(e,n),o=r.indexOf(`
`,10)+1,a=r.substring(o)+(s?"//# sourceMappingURL="+s:""),l=new Blob([a],{type:"application/javascript"});return URL.createObjectURL(l)}function DK(e,i,t){var s;return function(r){return s=s||XK(e,i,t),new Worker(s,r)}}var OK=Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]";function zK(){return OK}function ru(e,i,t){return zK()?PK(e,i,t):DK(e,i,t)}ru("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwp2YXIgd29ya2VyX2NvZGU9ZnVuY3Rpb24oUCl7InVzZSBzdHJpY3QiO3ZhciBUPShlPT4oZVtlLlBPU0lUSU9OX0NBUlRFU0lBTj0wXT0iUE9TSVRJT05fQ0FSVEVTSUFOIixlW2UuQ09MT1JfUEFDS0VEPTFdPSJDT0xPUl9QQUNLRUQiLGVbZS5DT0xPUl9GTE9BVFNfMT0yXT0iQ09MT1JfRkxPQVRTXzEiLGVbZS5DT0xPUl9GTE9BVFNfMjU1PTNdPSJDT0xPUl9GTE9BVFNfMjU1IixlW2UuTk9STUFMX0ZMT0FUUz00XT0iTk9STUFMX0ZMT0FUUyIsZVtlLkZJTExFUj01XT0iRklMTEVSIixlW2UuSU5URU5TSVRZPTZdPSJJTlRFTlNJVFkiLGVbZS5DTEFTU0lGSUNBVElPTj03XT0iQ0xBU1NJRklDQVRJT04iLGVbZS5OT1JNQUxfU1BIRVJFTUFQUEVEPThdPSJOT1JNQUxfU1BIRVJFTUFQUEVEIixlW2UuTk9STUFMX09DVDE2PTldPSJOT1JNQUxfT0NUMTYiLGVbZS5OT1JNQUw9MTBdPSJOT1JNQUwiLGUpKShUfHx7fSk7Y29uc3QgTz17REFUQV9UWVBFX0RPVUJMRTp7b3JkaW5hbDowLHNpemU6OH0sREFUQV9UWVBFX0ZMT0FUOntvcmRpbmFsOjEsc2l6ZTo0fSxEQVRBX1RZUEVfSU5UODp7b3JkaW5hbDoyLHNpemU6MX0sREFUQV9UWVBFX1VJTlQ4OntvcmRpbmFsOjMsc2l6ZToxfSxEQVRBX1RZUEVfSU5UMTY6e29yZGluYWw6NCxzaXplOjJ9LERBVEFfVFlQRV9VSU5UMTY6e29yZGluYWw6NSxzaXplOjJ9LERBVEFfVFlQRV9JTlQzMjp7b3JkaW5hbDo2LHNpemU6NH0sREFUQV9UWVBFX1VJTlQzMjp7b3JkaW5hbDo3LHNpemU6NH0sREFUQV9UWVBFX0lOVDY0OntvcmRpbmFsOjgsc2l6ZTo4fSxEQVRBX1RZUEVfVUlOVDY0OntvcmRpbmFsOjksc2l6ZTo4fX07ZnVuY3Rpb24gSShlLHQsaSl7cmV0dXJue25hbWU6ZSx0eXBlOnQsbnVtRWxlbWVudHM6aSxieXRlU2l6ZTppKnQuc2l6ZX19Y29uc3QgTT1JKDEsTy5EQVRBX1RZUEVfSU5UOCw0KSxTPXtQT1NJVElPTl9DQVJURVNJQU46SSgwLE8uREFUQV9UWVBFX0ZMT0FULDMpLFJHQkFfUEFDS0VEOk0sQ09MT1JfUEFDS0VEOk0sUkdCX1BBQ0tFRDpJKDEsTy5EQVRBX1RZUEVfSU5UOCwzKSxOT1JNQUxfRkxPQVRTOkkoNCxPLkRBVEFfVFlQRV9GTE9BVCwzKSxGSUxMRVJfMUI6SSg1LE8uREFUQV9UWVBFX1VJTlQ4LDEpLElOVEVOU0lUWTpJKDYsTy5EQVRBX1RZUEVfVUlOVDE2LDEpLENMQVNTSUZJQ0FUSU9OOkkoNyxPLkRBVEFfVFlQRV9VSU5UOCwxKSxOT1JNQUxfU1BIRVJFTUFQUEVEOkkoOCxPLkRBVEFfVFlQRV9VSU5UOCwyKSxOT1JNQUxfT0NUMTY6SSg5LE8uREFUQV9UWVBFX1VJTlQ4LDIpLE5PUk1BTDpJKDEwLE8uREFUQV9UWVBFX0ZMT0FULDMpfTtjbGFzcyBOe2NvbnN0cnVjdG9yKHQpe3RoaXMudmVyc2lvbk1pbm9yPTAsdGhpcy52ZXJzaW9uPXQ7Y29uc3QgaT10LmluZGV4T2YoIi4iKT09PS0xP3QubGVuZ3RoOnQuaW5kZXhPZigiLiIpO3RoaXMudmVyc2lvbk1ham9yPXBhcnNlSW50KHQuc3Vic3RyKDAsaSksMTApLHRoaXMudmVyc2lvbk1pbm9yPXBhcnNlSW50KHQuc3Vic3RyKGkrMSksMTApLGlzTmFOKHRoaXMudmVyc2lvbk1pbm9yKSYmKHRoaXMudmVyc2lvbk1pbm9yPTApfW5ld2VyVGhhbih0KXtjb25zdCBpPW5ldyBOKHQpO3JldHVybiB0aGlzLnZlcnNpb25NYWpvcj5pLnZlcnNpb25NYWpvcj8hMDp0aGlzLnZlcnNpb25NYWpvcj09PWkudmVyc2lvbk1ham9yJiZ0aGlzLnZlcnNpb25NaW5vcj5pLnZlcnNpb25NaW5vcn1lcXVhbE9ySGlnaGVyKHQpe2NvbnN0IGk9bmV3IE4odCk7cmV0dXJuIHRoaXMudmVyc2lvbk1ham9yPmkudmVyc2lvbk1ham9yPyEwOnRoaXMudmVyc2lvbk1ham9yPT09aS52ZXJzaW9uTWFqb3ImJnRoaXMudmVyc2lvbk1pbm9yPj1pLnZlcnNpb25NaW5vcn11cFRvKHQpe3JldHVybiF0aGlzLm5ld2VyVGhhbih0KX19Y2xhc3MgRXtjb25zdHJ1Y3Rvcih0KXt0aGlzLnRtcD1uZXcgQXJyYXlCdWZmZXIoNCksdGhpcy50bXBmPW5ldyBGbG9hdDMyQXJyYXkodGhpcy50bXApLHRoaXMudG1wdTg9bmV3IFVpbnQ4QXJyYXkodGhpcy50bXApLHRoaXMudTg9bmV3IFVpbnQ4QXJyYXkodCl9Z2V0VWludDMyKHQpe3JldHVybiB0aGlzLnU4W3QrM108PDI0fHRoaXMudThbdCsyXTw8MTZ8dGhpcy51OFt0KzFdPDw4fHRoaXMudThbdF19Z2V0VWludDE2KHQpe3JldHVybiB0aGlzLnU4W3QrMV08PDh8dGhpcy51OFt0XX1nZXRGbG9hdDMyKHQpe2NvbnN0IGk9dGhpcy50bXB1OCxuPXRoaXMudTgscj10aGlzLnRtcGY7cmV0dXJuIGlbMF09blt0KzBdLGlbMV09blt0KzFdLGlbMl09blt0KzJdLGlbM109blt0KzNdLHJbMF19Z2V0VWludDgodCl7cmV0dXJuIHRoaXMudThbdF19fWNvbnN0IF89TWF0aC5zaWdufHxmdW5jdGlvbihlKXtyZXR1cm4oZT0rZSk9PTB8fGUhPWU/ZTplPDA/LTE6MX07ZnVuY3Rpb24gbShlKXtjb25zdCB0PWUuZGF0YS5idWZmZXIsaT1lLmRhdGEucG9pbnRBdHRyaWJ1dGVzLG49e2F0dHJpYnV0ZUJ1ZmZlcnM6e30sY3VycmVudE9mZnNldDowLGRhdGE6bmV3IEUodCksbWVhbjpbMCwwLDBdLG5vZGVPZmZzZXQ6ZS5kYXRhLm9mZnNldCxudW1Qb2ludHM6ZS5kYXRhLmJ1ZmZlci5ieXRlTGVuZ3RoL2kuYnl0ZVNpemUscG9pbnRBdHRyaWJ1dGVzOmksc2NhbGU6ZS5kYXRhLnNjYWxlLHRpZ2h0Qm94TWF4OltOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLE51bWJlci5ORUdBVElWRV9JTkZJTklUWV0sdGlnaHRCb3hNaW46W051bWJlci5QT1NJVElWRV9JTkZJTklUWSxOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZXSx0cmFuc2ZlcmFibGVzOltdLHZlcnNpb246bmV3IE4oZS5kYXRhLnZlcnNpb24pfTtmb3IoY29uc3QgcyBvZiBuLnBvaW50QXR0cmlidXRlcy5hdHRyaWJ1dGVzKWQocyxuKSxuLmN1cnJlbnRPZmZzZXQrPXMuYnl0ZVNpemU7Y29uc3Qgcj1uZXcgQXJyYXlCdWZmZXIobi5udW1Qb2ludHMqNCksbz1uZXcgVWludDMyQXJyYXkocik7Zm9yKGxldCBzPTA7czxuLm51bVBvaW50cztzKyspb1tzXT1zO24uYXR0cmlidXRlQnVmZmVyc1tULkNMQVNTSUZJQ0FUSU9OXXx8bChuKTtjb25zdCB1PXtidWZmZXI6dCxtZWFuOm4ubWVhbixhdHRyaWJ1dGVCdWZmZXJzOm4uYXR0cmlidXRlQnVmZmVycyx0aWdodEJvdW5kaW5nQm94OnttaW46bi50aWdodEJveE1pbixtYXg6bi50aWdodEJveE1heH0saW5kaWNlczpyfTtwb3N0TWVzc2FnZSh1LG4udHJhbnNmZXJhYmxlcyl9ZnVuY3Rpb24gbChlKXtjb25zdCB0PW5ldyBBcnJheUJ1ZmZlcihlLm51bVBvaW50cyo0KSxpPW5ldyBGbG9hdDMyQXJyYXkodCk7Zm9yKGxldCBuPTA7bjxlLm51bVBvaW50cztuKyspaVtuXT0wO2UuYXR0cmlidXRlQnVmZmVyc1tULkNMQVNTSUZJQ0FUSU9OXT17YnVmZmVyOnQsYXR0cmlidXRlOlMuQ0xBU1NJRklDQVRJT059fWZ1bmN0aW9uIGQoZSx0KXtjb25zdCBpPUwoZSx0KTtpIT09dm9pZCAwJiYodC5hdHRyaWJ1dGVCdWZmZXJzW2kuYXR0cmlidXRlLm5hbWVdPWksdC50cmFuc2ZlcmFibGVzLnB1c2goaS5idWZmZXIpKX1mdW5jdGlvbiBMKGUsdCl7c3dpdGNoKGUubmFtZSl7Y2FzZSBULlBPU0lUSU9OX0NBUlRFU0lBTjpyZXR1cm4gZyhlLHQpO2Nhc2UgVC5DT0xPUl9QQUNLRUQ6cmV0dXJuIHkoZSx0KTtjYXNlIFQuSU5URU5TSVRZOnJldHVybiBGKGUsdCk7Y2FzZSBULkNMQVNTSUZJQ0FUSU9OOnJldHVybiBCKGUsdCk7Y2FzZSBULk5PUk1BTF9TUEhFUkVNQVBQRUQ6cmV0dXJuIEMoZSx0KTtjYXNlIFQuTk9STUFMX09DVDE2OnJldHVybiBSKGUsdCk7Y2FzZSBULk5PUk1BTDpyZXR1cm4gcChlLHQpO2RlZmF1bHQ6cmV0dXJufX1mdW5jdGlvbiBnKGUsdCl7Y29uc3QgaT1uZXcgQXJyYXlCdWZmZXIodC5udW1Qb2ludHMqNCozKSxuPW5ldyBGbG9hdDMyQXJyYXkoaSk7Zm9yKGxldCByPTA7cjx0Lm51bVBvaW50cztyKyspe2xldCBvLHUsczt0LnZlcnNpb24ubmV3ZXJUaGFuKCIxLjMiKT8obz10LmRhdGEuZ2V0VWludDMyKHQuY3VycmVudE9mZnNldCtyKnQucG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplKzApKnQuc2NhbGUsdT10LmRhdGEuZ2V0VWludDMyKHQuY3VycmVudE9mZnNldCtyKnQucG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplKzQpKnQuc2NhbGUscz10LmRhdGEuZ2V0VWludDMyKHQuY3VycmVudE9mZnNldCtyKnQucG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplKzgpKnQuc2NhbGUpOihvPXQuZGF0YS5nZXRGbG9hdDMyKHIqdC5wb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUrMCkrdC5ub2RlT2Zmc2V0WzBdLHU9dC5kYXRhLmdldEZsb2F0MzIocip0LnBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSs0KSt0Lm5vZGVPZmZzZXRbMV0scz10LmRhdGEuZ2V0RmxvYXQzMihyKnQucG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplKzgpK3Qubm9kZU9mZnNldFsyXSksblszKnIrMF09byxuWzMqcisxXT11LG5bMypyKzJdPXMsdC5tZWFuWzBdKz1vL3QubnVtUG9pbnRzLHQubWVhblsxXSs9dS90Lm51bVBvaW50cyx0Lm1lYW5bMl0rPXMvdC5udW1Qb2ludHMsdC50aWdodEJveE1pblswXT1NYXRoLm1pbih0LnRpZ2h0Qm94TWluWzBdLG8pLHQudGlnaHRCb3hNaW5bMV09TWF0aC5taW4odC50aWdodEJveE1pblsxXSx1KSx0LnRpZ2h0Qm94TWluWzJdPU1hdGgubWluKHQudGlnaHRCb3hNaW5bMl0scyksdC50aWdodEJveE1heFswXT1NYXRoLm1heCh0LnRpZ2h0Qm94TWF4WzBdLG8pLHQudGlnaHRCb3hNYXhbMV09TWF0aC5tYXgodC50aWdodEJveE1heFsxXSx1KSx0LnRpZ2h0Qm94TWF4WzJdPU1hdGgubWF4KHQudGlnaHRCb3hNYXhbMl0scyl9cmV0dXJue2J1ZmZlcjppLGF0dHJpYnV0ZTplfX1mdW5jdGlvbiB5KGUsdCl7Y29uc3QgaT1uZXcgQXJyYXlCdWZmZXIodC5udW1Qb2ludHMqMyksbj1uZXcgVWludDhBcnJheShpKTtmb3IobGV0IHI9MDtyPHQubnVtUG9pbnRzO3IrKyluWzMqciswXT10LmRhdGEuZ2V0VWludDgodC5jdXJyZW50T2Zmc2V0K3IqdC5wb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUrMCksblszKnIrMV09dC5kYXRhLmdldFVpbnQ4KHQuY3VycmVudE9mZnNldCtyKnQucG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplKzEpLG5bMypyKzJdPXQuZGF0YS5nZXRVaW50OCh0LmN1cnJlbnRPZmZzZXQrcip0LnBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSsyKTtyZXR1cm57YnVmZmVyOmksYXR0cmlidXRlOmV9fWZ1bmN0aW9uIEYoZSx0KXtjb25zdCBpPW5ldyBBcnJheUJ1ZmZlcih0Lm51bVBvaW50cyo0KSxuPW5ldyBGbG9hdDMyQXJyYXkoaSk7Zm9yKGxldCByPTA7cjx0Lm51bVBvaW50cztyKyspbltyXT10LmRhdGEuZ2V0VWludDE2KHQuY3VycmVudE9mZnNldCtyKnQucG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplKTtyZXR1cm57YnVmZmVyOmksYXR0cmlidXRlOmV9fWZ1bmN0aW9uIEIoZSx0KXtjb25zdCBpPW5ldyBBcnJheUJ1ZmZlcih0Lm51bVBvaW50cyksbj1uZXcgVWludDhBcnJheShpKTtmb3IobGV0IHI9MDtyPHQubnVtUG9pbnRzO3IrKyluW3JdPXQuZGF0YS5nZXRVaW50OCh0LmN1cnJlbnRPZmZzZXQrcip0LnBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSk7cmV0dXJue2J1ZmZlcjppLGF0dHJpYnV0ZTplfX1mdW5jdGlvbiBDKGUsdCl7Y29uc3QgaT1uZXcgQXJyYXlCdWZmZXIodC5udW1Qb2ludHMqNCozKSxuPW5ldyBGbG9hdDMyQXJyYXkoaSk7Zm9yKGxldCByPTA7cjx0Lm51bVBvaW50cztyKyspe2NvbnN0IG89dC5kYXRhLmdldFVpbnQ4KHQuY3VycmVudE9mZnNldCtyKnQucG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplKzApLHU9dC5kYXRhLmdldFVpbnQ4KHQuY3VycmVudE9mZnNldCtyKnQucG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplKzEpLHM9by8yNTUsYj11LzI1NTtsZXQgQT1zKjItMSxhPWIqMi0xLGY9MTtjb25zdCBjPS0xLGg9QSotQSthKi1hK2YqLWM7Zj1oLEE9QSpNYXRoLnNxcnQoaCksYT1hKk1hdGguc3FydChoKSxBPUEqMixhPWEqMixmPWYqMi0xLG5bMypyKzBdPUEsblszKnIrMV09YSxuWzMqcisyXT1mfXJldHVybntidWZmZXI6aSxhdHRyaWJ1dGU6ZX19ZnVuY3Rpb24gUihlLHQpe2NvbnN0IGk9bmV3IEFycmF5QnVmZmVyKHQubnVtUG9pbnRzKjQqMyksbj1uZXcgRmxvYXQzMkFycmF5KGkpO2ZvcihsZXQgcj0wO3I8dC5udW1Qb2ludHM7cisrKXtjb25zdCBvPXQuZGF0YS5nZXRVaW50OCh0LmN1cnJlbnRPZmZzZXQrcip0LnBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSswKSx1PXQuZGF0YS5nZXRVaW50OCh0LmN1cnJlbnRPZmZzZXQrcip0LnBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSsxKSxzPW8vMjU1KjItMSxiPXUvMjU1KjItMTtsZXQgQT0xLU1hdGguYWJzKHMpLU1hdGguYWJzKGIpLGE9MCxmPTA7QT49MD8oYT1zLGY9Yik6KGE9LShiL18oYiktMSkvXyhzKSxmPS0ocy9fKHMpLTEpL18oYikpO2NvbnN0IGM9TWF0aC5zcXJ0KGEqYStmKmYrQSpBKTthPWEvYyxmPWYvYyxBPUEvYyxuWzMqciswXT1hLG5bMypyKzFdPWYsblszKnIrMl09QX1yZXR1cm57YnVmZmVyOmksYXR0cmlidXRlOmV9fWZ1bmN0aW9uIHAoZSx0KXtjb25zdCBpPW5ldyBBcnJheUJ1ZmZlcih0Lm51bVBvaW50cyo0KjMpLG49bmV3IEZsb2F0MzJBcnJheShpKTtmb3IobGV0IHI9MDtyPHQubnVtUG9pbnRzO3IrKyl7Y29uc3Qgbz10LmRhdGEuZ2V0RmxvYXQzMih0LmN1cnJlbnRPZmZzZXQrcip0LnBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSswKSx1PXQuZGF0YS5nZXRGbG9hdDMyKHQuY3VycmVudE9mZnNldCtyKnQucG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplKzQpLHM9dC5kYXRhLmdldEZsb2F0MzIodC5jdXJyZW50T2Zmc2V0K3IqdC5wb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUrOCk7blszKnIrMF09byxuWzMqcisxXT11LG5bMypyKzJdPXN9cmV0dXJue2J1ZmZlcjppLGF0dHJpYnV0ZTplfX1yZXR1cm4gUC5oYW5kbGVNZXNzYWdlPW0sT2JqZWN0LmRlZmluZVByb3BlcnR5KFAsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLFB9KHt9KTsKCg==",null,!1);var WK=ru("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbChpKXtjb25zdCBFPWkuZGF0YS5idWZmZXIsdD1pLmRhdGEubnVtUG9pbnRzLHI9aS5kYXRhLnBvaW50U2l6ZSxGPWkuZGF0YS5wb2ludEZvcm1hdElELGM9aS5kYXRhLnNjYWxlLE49aS5kYXRhLm9mZnNldCxhPW5ldyBEYXRhVmlldyhFKSxlPXttaW46W051bWJlci5QT1NJVElWRV9JTkZJTklUWSxOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZXSxtYXg6W051bWJlci5ORUdBVElWRV9JTkZJTklUWSxOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZXX0sbT1bMCwwLDBdLHc9bmV3IEFycmF5QnVmZmVyKHQqMyo0KSx5PW5ldyBBcnJheUJ1ZmZlcih0KjQpLGc9bmV3IEFycmF5QnVmZmVyKHQqNCksVT1uZXcgQXJyYXlCdWZmZXIodCksZD1uZXcgQXJyYXlCdWZmZXIodCksVD1uZXcgQXJyYXlCdWZmZXIodCksYj1uZXcgQXJyYXlCdWZmZXIodCoyKSxBPW5ldyBGbG9hdDMyQXJyYXkodykscz1uZXcgVWludDhBcnJheSh5KSxoPW5ldyBGbG9hdDMyQXJyYXkoZykscD1uZXcgVWludDhBcnJheShVKSxNPW5ldyBVaW50OEFycmF5KGQpLFY9bmV3IFVpbnQ4QXJyYXkoVCksUz1uZXcgVWludDE2QXJyYXkoYik7Zm9yKGxldCBuPTA7bjx0O24rKyl7Y29uc3QgTz1hLmdldEludDMyKG4qciswLCEwKSxEPWEuZ2V0SW50MzIobipyKzQsITApLFA9YS5nZXRJbnQzMihuKnIrOCwhMCksST1PKmNbMF0rTlswXS1pLmRhdGEubWluc1swXSx1PUQqY1sxXStOWzFdLWkuZGF0YS5taW5zWzFdLGY9UCpjWzJdK05bMl0taS5kYXRhLm1pbnNbMl07QVszKm4rMF09SSxBWzMqbisxXT11LEFbMypuKzJdPWYsbVswXSs9SS90LG1bMV0rPXUvdCxtWzJdKz1mL3QsZS5taW5bMF09TWF0aC5taW4oZS5taW5bMF0sSSksZS5taW5bMV09TWF0aC5taW4oZS5taW5bMV0sdSksZS5taW5bMl09TWF0aC5taW4oZS5taW5bMl0sZiksZS5tYXhbMF09TWF0aC5tYXgoZS5tYXhbMF0sSSksZS5tYXhbMV09TWF0aC5tYXgoZS5tYXhbMV0sdSksZS5tYXhbMl09TWF0aC5tYXgoZS5tYXhbMl0sZik7Y29uc3QgRz1hLmdldFVpbnQxNihuKnIrMTIsITApO2hbbl09Rztjb25zdCBCPWEuZ2V0VWludDgobipyKzE0KSxSPUImNyx6PShCJjU2KT4+MztNW25dPVIsVltuXT16O2NvbnN0IGo9YS5nZXRVaW50OChuKnIrMTUpO3Bbbl09ajtjb25zdCBrPWEuZ2V0VWludDE2KG4qcisxOCwhMCk7aWYoU1tuXT1rLEY9PT0yKXtjb25zdCBxPWEuZ2V0VWludDE2KG4qcisyMCwhMCkvMjU2LHY9YS5nZXRVaW50MTYobipyKzIyLCEwKS8yNTYsQz1hLmdldFVpbnQxNihuKnIrMjQsITApLzI1NjtzWzQqbiswXT1xLHNbNCpuKzFdPXYsc1s0Km4rMl09QyxzWzQqbiszXT0yNTV9fWNvbnN0IHg9bmV3IEFycmF5QnVmZmVyKHQqNCksWT1uZXcgVWludDMyQXJyYXkoeCk7Zm9yKGxldCBuPTA7bjx0O24rKylZW25dPW47Y29uc3Qgbz17bWVhbjptLHBvc2l0aW9uOncsY29sb3I6eSxpbnRlbnNpdHk6ZyxjbGFzc2lmaWNhdGlvbjpVLHJldHVybk51bWJlcjpkLG51bWJlck9mUmV0dXJuczpULHBvaW50U291cmNlSUQ6Yix0aWdodEJvdW5kaW5nQm94OmUsaW5kaWNlczp4fSxfPVtvLnBvc2l0aW9uLG8uY29sb3Isby5pbnRlbnNpdHksby5jbGFzc2lmaWNhdGlvbixvLnJldHVybk51bWJlcixvLm51bWJlck9mUmV0dXJucyxvLnBvaW50U291cmNlSUQsby5pbmRpY2VzXTtwb3N0TWVzc2FnZShvLF8pfW9ubWVzc2FnZT1sfSkoKTsKCg==",null,!1);const Mb={0:e=>({position:[e.getInt32(0,!0),e.getInt32(4,!0),e.getInt32(8,!0)],intensity:e.getUint16(12,!0),classification:e.getUint8(16)}),1:e=>({position:[e.getInt32(0,!0),e.getInt32(4,!0),e.getInt32(8,!0)],intensity:e.getUint16(12,!0),classification:e.getUint8(16)}),2:e=>({position:[e.getInt32(0,!0),e.getInt32(4,!0),e.getInt32(8,!0)],intensity:e.getUint16(12,!0),classification:e.getUint8(16),color:[e.getUint16(20,!0),e.getUint16(22,!0),e.getUint16(24,!0)]}),3:e=>({position:[e.getInt32(0,!0),e.getInt32(4,!0),e.getInt32(8,!0)],intensity:e.getUint16(12,!0),classification:e.getUint8(16),color:[e.getUint16(28,!0),e.getUint16(30,!0),e.getUint16(32,!0)]})},oa=(e,i,t,s)=>{s=s===void 0||s===0?1:s;const n=e.slice(t,t+i.BYTES_PER_ELEMENT*s),r=new i(n);if(s===void 0||s===1)return r[0];const o=[];for(let a=0;a<s;a++)o.push(r[a]);return o},YK=e=>{const i={pointsOffset:0,pointsFormatId:0,pointsStructSize:0,pointsCount:0,scale:[],offset:[],maxs:[],mins:[]};i.pointsOffset=oa(e,Uint32Array,32*3),i.pointsFormatId=oa(e,Uint8Array,32*3+8),i.pointsStructSize=oa(e,Uint16Array,32*3+8+1),i.pointsCount=oa(e,Uint32Array,32*3+11);let t=32*3+35;i.scale=oa(e,Float64Array,t,3),t+=24,i.offset=oa(e,Float64Array,t,3),t+=24;const s=oa(e,Float64Array,t,6);return t+=48,i.maxs=[s[0],s[2],s[4]],i.mins=[s[1],s[3],s[5]],i};class kK{constructor(i){this.arrayBuffer=i,this.readOffset=0}open(){return new Promise(function(i){setTimeout(i,0)})}getHeader(){return new Promise(i=>{setTimeout(()=>{this.header=YK(this.arrayBuffer),i(this.header)},0)})}readData(i,t,s){return new Promise((n,r)=>{setTimeout(()=>{if(!this.header)return r(new Error("Cannot start reading data till a header request is issued"));let o;if(s<=1){i=Math.min(i,this.header.pointsCount-this.readOffset),o=this.header.pointsOffset+this.readOffset*this.header.pointsStructSize;const a=o+i*this.header.pointsStructSize;return this.readOffset+=i,n({buffer:this.arrayBuffer.slice(o,a),count:i,hasMoreData:this.readOffset+i<this.header.pointsCount})}else{const a=Math.min(i*s,this.header.pointsCount-this.readOffset),l=Math.ceil(a/s);let h=0;const c=new Uint8Array(l*this.header.pointsStructSize);for(let u=0;u<a;u++){if(u%s===0){o=this.header.pointsOffset+this.readOffset*this.header.pointsStructSize;const p=new Uint8Array(this.arrayBuffer,o,this.header.pointsStructSize);c.set(p,h*this.header.pointsStructSize),h++}this.readOffset++}return n({buffer:c.buffer,count:h,hasMoreData:this.readOffset<this.header.pointsCount})}},0)})}close(){return new Promise(i=>{setTimeout(i,0)})}}class AK{constructor(i){if(this.arrayBuffer=i,this.version=-1,this.formatId=-1,this.isCompressed=!1,this.versionAsString="-1",this.determineVersion(),this.version>12)throw new Error("Only file versions <= 1.2 are supported at this time");if(this.determineFormat(),!Mb[this.formatId])throw new Error("The point format ID is not supported: "+this.formatId);if(this.isCompressed)throw new Error("LAZ not supported");this.loader=new kK(this.arrayBuffer)}determineFormat(){const i=oa(this.arrayBuffer,Uint8Array,104),t=(i&128)>>7,s=(i&64)>>6;if(t===1&&s===1)throw new Error("Old style compression not supported");this.formatId=i&63,this.isCompressed=t===1||s===1}determineVersion(){const i=new Int8Array(this.arrayBuffer,24,2);this.version=i[0]*10+i[1],this.versionAsString=i[0]+"."+i[1]}open(){return this.loader.open()}getHeader(){return this.loader.getHeader()}readData(i,t,s){return this.loader.readData(i,t,s)}close(){return this.loader.close()}}class KK{constructor(i,t,s,n,r,o,a,l){this.arrayb=i,this.decoder=Mb[t],this.pointsCount=n,this.pointSize=s,this.scale=r,this.offset=o,this.mins=a,this.maxs=l}getPoint(i){if(i<0||i>=this.pointsCount)throw new Error("Point index out of range");const t=new DataView(this.arrayb,i*this.pointSize,this.pointSize);return this.decoder(t)}}var ZK=(e,i,t)=>new Promise((s,n)=>{var r=l=>{try{a(t.next(l))}catch(h){n(h)}},o=l=>{try{a(t.throw(l))}catch(h){n(h)}},a=l=>l.done?s(l.value):Promise.resolve(l.value).then(r,o);a((t=t.apply(e,i)).next())});class HK{constructor({getUrl:i=a=>Promise.resolve(a),version:t,boundingBox:s,scale:n,xhrRequest:r,xhrInit:o}){this.disposed=!1,this.workers=[],typeof t=="string"?this.version=new Eh(t):this.version=t,this.xhrRequest=r,this.xhrInit=o||{},this.getUrl=i,this.boundingBox=s,this.scale=n,this.callbacks=[]}dispose(){this.workers.forEach(i=>i.terminate()),this.workers=[],this.disposed=!0}load(i){return i.loaded||this.disposed?Promise.resolve():Promise.resolve(this.getUrl(this.getNodeUrl(i))).then(t=>this.xhrRequest(t,this.xhrInit)).then(t=>t.arrayBuffer()).then(t=>new Promise(s=>this.parse(i,t,s)))}getNodeUrl(i){let t=i.getUrl();return this.version.equalOrHigher("1.4")&&(t+=".las"),t}parse(i,t,s){return ZK(this,null,function*(){if(this.disposed){s();return}const n=new AK(t),r=yield n.getHeader(),o=1,a=r.pointsCount;yield n.readData(a,0,o).then(l=>{const h=new KK(l.buffer,r.pointsFormatId,r.pointsStructSize,l.count,r.scale,r.offset,r.mins,r.maxs),c=this.getWorker();c.onmessage=p=>{const d=i.geometry=i.geometry||new Yt,T=h.pointsCount,g=new Float32Array(p.data.position),I=new Uint8Array(p.data.color),v=new Float32Array(p.data.intensity),C=new Uint8Array(p.data.classification),N=new Uint8Array(p.data.returnNumber),F=new Uint8Array(p.data.numberOfReturns),P=new Uint16Array(p.data.pointSourceID),w=new Uint8Array(p.data.indices);d.setAttribute("position",new Gt(g,3)),d.setAttribute("color",new Gt(I,4,!0)),d.setAttribute("intensity",new Gt(v,1)),d.setAttribute("classification",new Gt(C,1)),d.setAttribute("returnNumber",new Gt(N,1)),d.setAttribute("numberOfReturns",new Gt(F,1)),d.setAttribute("pointSourceID",new Gt(P,1)),d.setAttribute("indices",new Gt(w,4)),d.attributes.indices.normalized=!0;const O=new Pi(new H().fromArray(p.data.tightBoundingBox.min),new H().fromArray(p.data.tightBoundingBox.max));d.boundingBox=i.boundingBox,i.tightBoundingBox=O,i.loaded=!0,i.loading=!1,i.failed=!1,i.pcoGeometry.numNodesLoading--,i.pcoGeometry.needsUpdate=!0,i.geometry=d,i.numPoints=T,i.mean=new H(...p.data.mean),this.releaseWorker(c),this.callbacks.forEach(X=>X(i)),s()};const u={buffer:h.arrayb,numPoints:h.pointsCount,pointSize:h.pointSize,pointFormatID:2,scale:h.scale,offset:h.offset,mins:h.mins,maxs:h.maxs};c.postMessage(u,[u.buffer])}).catch(l=>{throw new Error(l)})})}getWorker(){return this.workers.pop()||new WK}releaseWorker(i){this.workers.push(i)}}function UK(e,i,t,s){return Promise.resolve(i(e)).then(n=>t(n,s).then(r=>r.json()).then(_K(n,i,t,s)))}function _K(e,i,t,s){return n=>{const{offset:r,boundingBox:o,tightBoundingBox:a}=VK(n);let l,h;if(!Array.isArray(n.pointAttributes)&&n.pointAttributes==="LAS")l=new HK({getUrl:i,version:n.version,boundingBox:o,scale:n.scale,xhrRequest:t,xhrInit:s}),h=["POSITION_CARTESIAN","RGB_PACKED","INTENSITY","CLASSIFICATION"];else throw new Error("Unsupported format "+n.pointAttributes);const c=new fb(l,o,a,r,t,s);c.url=e,c.octreeDir=n.octreeDir,c.needsUpdate=!0,c.spacing=n.spacing,c.hierarchyStepSize=n.hierarchyStepSize,c.projection=n.projection,c.offset=r,c.pointAttributes=new A0(h);const u={},p=new Eh(n.version);return jK(c,n,u,p,s).then(()=>(p.upTo("1.4")&&BK(c,n,u,s),c.nodes=u,c))}}function VK(e){const i=new H(e.boundingBox.lx,e.boundingBox.ly,e.boundingBox.lz),t=new H(e.boundingBox.ux,e.boundingBox.uy,e.boundingBox.uz),s=new Pi(i,t),n=s.clone(),r=i.clone();if(e.tightBoundingBox){const{lx:o,ly:a,lz:l,ux:h,uy:c,uz:u}=e.tightBoundingBox;n.min.set(o,a,l),n.max.set(h,c,u)}return s.min.sub(r),s.max.sub(r),n.min.sub(r),n.max.sub(r),{offset:r,boundingBox:s,tightBoundingBox:n}}function jK(e,i,t,s,n){const r="r",o=new xd(r,e,e.boundingBox,n);return o.hasChildren=!0,o.spacing=e.spacing,s.upTo("1.5")?o.numPoints=i.hierarchy[0][1]:o.numPoints=0,e.root=o,t[r]=o,e.root.load()}function BK(e,i,t,s){for(let n=1;n<i.hierarchy.length;n++){const[r,o]=i.hierarchy[n],{index:a,parentName:l,level:h}=JK(r),c=t[l],u=eb(c.boundingBox,a),p=new xd(r,e,u,s);p.level=h,p.numPoints=o,p.spacing=e.spacing/Math.pow(2,p.level),t[r]=p,c.addChild(p)}}function JK(e){return{index:W0(e),parentName:e.substring(0,e.length-1),level:e.length-1}}function QK(e){return e!=null&&e.isGeometryNode}function H0(e){return e!=null&&e.isTreeNode}function U0(e){this.content=[],this.scoreFunction=e}U0.prototype={push:function(e){this.content.push(e),this.bubbleUp(this.content.length-1)},pop:function(){var e=this.content[0],i=this.content.pop();return this.content.length>0&&(this.content[0]=i,this.sinkDown(0)),e},remove:function(e){for(var i=this.content.length,t=0;t<i;t++)if(this.content[t]==e){var s=this.content.pop();if(t==i-1)break;this.content[t]=s,this.bubbleUp(t),this.sinkDown(t);break}},size:function(){return this.content.length},bubbleUp:function(e){for(var i=this.content[e],t=this.scoreFunction(i);e>0;){var s=Math.floor((e+1)/2)-1,n=this.content[s];if(t>=this.scoreFunction(n))break;this.content[s]=i,this.content[e]=n,e=s}},sinkDown:function(e){for(var i=this.content.length,t=this.content[e],s=this.scoreFunction(t);;){var n=(e+1)*2,r=n-1,o=null;if(r<i){var a=this.content[r],l=this.scoreFunction(a);l<s&&(o=r)}if(n<i){var h=this.content[n],c=this.scoreFunction(h);c<(o==null?s:l)&&(o=n)}if(o==null)break;this.content[e]=this.content[o],this.content[o]=t,e=o}}};class qK extends v0{constructor(i,t=new ge(16776960)){const s=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new Float32Array([i.min.x,i.min.y,i.min.z,i.max.x,i.min.y,i.min.z,i.max.x,i.min.y,i.max.z,i.min.x,i.min.y,i.max.z,i.min.x,i.max.y,i.min.z,i.max.x,i.max.y,i.min.z,i.max.x,i.max.y,i.max.z,i.min.x,i.max.y,i.max.z]),r=new Yt;r.setIndex(new Gt(s,1)),r.setAttribute("position",new Gt(n,3));const o=new yd({color:t});super(r,o)}}class $K{constructor(i){this.node=i,this.next=null,this.previous=null}}class eZ{constructor(i=1e6){this.pointBudget=i,this.first=null,this.last=null,this.numPoints=0,this.items=new Map}get size(){return this.items.size}has(i){return this.items.has(i.id)}touch(i){if(!i.loaded)return;const t=this.items.get(i.id);t?this.touchExisting(t):this.addNew(i)}addNew(i){const t=new $K(i);t.previous=this.last,this.last=t,t.previous&&(t.previous.next=t),this.first||(this.first=t),this.items.set(i.id,t),this.numPoints+=i.numPoints}touchExisting(i){i.previous?i.next&&(i.previous.next=i.next,i.next.previous=i.previous,i.previous=this.last,i.next=null,this.last=i,i.previous&&(i.previous.next=i)):i.next&&(this.first=i.next,this.first.previous=null,i.previous=this.last,i.next=null,this.last=i,i.previous&&(i.previous.next=i))}remove(i){const t=this.items.get(i.id);!t||(this.items.size===1?(this.first=null,this.last=null):(t.previous||(this.first=t.next,this.first.previous=null),t.next||(this.last=t.previous,this.last.next=null),t.previous&&t.next&&(t.previous.next=t.next,t.next.previous=t.previous)),this.items.delete(i.id),this.numPoints-=i.numPoints)}getLRUItem(){return this.first?this.first.node:void 0}freeMemory(){if(!(this.items.size<=1))for(;this.numPoints>this.pointBudget*2;){const i=this.getLRUItem();i&&this.disposeSubtree(i)}}dispose(){let i=this.getLRUItem();for(;i!==void 0;)this.disposeSubtree(i),i=this.getLRUItem()}disposeSubtree(i){const t=[i];i.traverse(s=>{s.loaded&&t.push(s)});for(const s of t)s.dispose(),this.remove(s)}}class _0{constructor(i,t,s,n){this.pointCloudIndex=i,this.weight=t,this.node=s,this.parent=n}}class Ch{constructor(){this._pointBudget=rK,this._rendererSize=new ht,this.maxNumNodesLoading=oK,this.features=CK,this.lru=new eZ(this._pointBudget),this.updateVisibilityStructures=(()=>{const i=new pt,t=new pt,s=new pt;return(n,r)=>{const o=[],a=[],l=new U0(h=>1/h.weight);for(let h=0;h<n.length;h++){const c=n[h];if(!c.initialized())continue;c.numVisiblePoints=0,c.visibleNodes=[],c.visibleGeometry=[],r.updateMatrixWorld(!1);const u=r.matrixWorldInverse,p=c.matrixWorld;if(i.identity().multiply(r.projectionMatrix).multiply(u).multiply(p),o.push(new Vc().setFromProjectionMatrix(i)),t.copy(p).invert(),s.identity().multiply(t).multiply(r.matrixWorld),a.push(new H().setFromMatrixPosition(s)),c.visible&&c.root!==null){const d=Number.MAX_VALUE;l.push(new _0(h,d,c.root))}H0(c.root)&&c.hideDescendants(c.root.sceneNode);for(const d of c.boundingBoxNodes)d.visible=!1}return{frustums:o,cameraPositions:a,priorityQueue:l}}})()}loadPointCloud(i,t,s=(r,o)=>fetch(r,o),n){return UK(i,t,s,n).then(r=>new Ib(this,r))}updatePointClouds(i,t,s){const n=this.updateVisibility(i,t,s);for(let r=0;r<i.length;r++){const o=i[r];o.disposed||(o.material.updateMaterial(o,o.visibleNodes,t,s),o.updateVisibleBounds(),o.updateBoundingBoxes())}return this.lru.freeMemory(),n}static pick(i,t,s,n,r={}){return Ch.picker=Ch.picker||new nu,Ch.picker.pick(t,s,n,i,r)}dispose(){this.lru.dispose()}get pointBudget(){return this._pointBudget}set pointBudget(i){i!==this._pointBudget&&(this._pointBudget=i,this.lru.pointBudget=i,this.lru.freeMemory())}updateVisibility(i,t,s){let n=0;const r=[],o=[],{frustums:a,cameraPositions:l,priorityQueue:h}=this.updateVisibilityStructures(i,t);let c=0,u=!1,p=!1,d;for(;(d=h.pop())!==void 0;){let I=d.node;if(n+I.numPoints>this.pointBudget)break;const v=d.pointCloudIndex,C=i[v],N=C.maxLevel!==void 0?C.maxLevel:1/0;if(I.level>N||!a[v].intersectsBox(I.boundingBox)||this.shouldClip(C,I.boundingBox))continue;n+=I.numPoints,C.numVisiblePoints+=I.numPoints;const F=d.parent;if(QK(I)&&(!F||H0(F)))if(I.loaded&&c<ob)I=C.toTreeNode(I,F),c++;else if(!I.failed)I.loaded&&c>=ob&&(u=!0),o.push(I),C.visibleGeometry.push(I);else{p=!0;continue}H0(I)&&(this.updateTreeNodeVisibility(C,I,r),C.visibleGeometry.push(I.geometryNode));const P=.5*s.getSize(this._rendererSize).height*s.getPixelRatio();this.updateChildVisibility(d,h,C,I,l[v],t,P)}const T=Math.min(this.maxNumNodesLoading,o.length),g=[];for(let I=0;I<T;I++)g.push(o[I].load());return{visibleNodes:r,numVisiblePoints:n,exceededMaxLoadsToGPU:u,nodeLoadFailed:p,nodeLoadPromises:g}}updateTreeNodeVisibility(i,t,s){this.lru.touch(t.geometryNode);const n=t.sceneNode;n.visible=!0,n.material=i.material,n.updateMatrix(),n.matrixWorld.multiplyMatrices(i.matrixWorld,n.matrix),s.push(t),i.visibleNodes.push(t),this.updateBoundingBoxVisibility(i,t)}updateChildVisibility(i,t,s,n,r,o,a){const l=n.children;for(let h=0;h<l.length;h++){const c=l[h];if(c===null)continue;const u=c.boundingSphere,p=u.center.distanceTo(r),d=u.radius;let T=0;if(o.type===ab){const v=o.fov*Math.PI/180,C=Math.tan(v/2);T=a/(C*p)}else{const v=o;T=2*a/(v.top-v.bottom)}const g=d*T;if(g<s.minNodePixelSize)continue;const I=p<d?Number.MAX_VALUE:g+1/p;t.push(new _0(i.pointCloudIndex,I,c,n))}}updateBoundingBoxVisibility(i,t){if(i.showBoundingBox&&!t.boundingBoxNode){const s=new qK(t.boundingBox);s.matrixAutoUpdate=!1,i.boundingBoxNodes.push(s),t.boundingBoxNode=s,t.boundingBoxNode.matrix.copy(i.matrixWorld)}else i.showBoundingBox&&t.boundingBoxNode?(t.boundingBoxNode.visible=!0,t.boundingBoxNode.matrix.copy(i.matrixWorld)):!i.showBoundingBox&&t.boundingBoxNode&&(t.boundingBoxNode.visible=!1)}shouldClip(i,t){const s=i.material;if(s.numClipBoxes===0||s.clipMode!==fo.CLIP_OUTSIDE)return!1;const n=t.clone();i.updateMatrixWorld(!0),n.applyMatrix4(i.matrixWorld);const r=s.clipBoxes;for(let o=0;o<r.length;o++){const a=r[o].matrix,l=new Pi(new H(-.5,-.5,-.5),new H(.5,.5,.5)).applyMatrix4(a);if(n.intersectsBox(l))return!1}return!0}}var tZ=Object.freeze({__proto__:null,BlurMaterial:eK,ClipMode:fo,PointSizeType:pr,PointShape:To,TreeType:Gh,PointOpacityType:su,PointColorType:qi,PointCloudMaterial:It,generateDataTexture:cb,generateGradientTexture:Y0,generateClassificationTexture:k0,GRAYSCALE:cK,INFERNO:uK,PLASMA:pK,RAINBOW:dK,SPECTRAL:hb,VIRIDIS:mK,YELLOW_GREEN:yK,PointAttributeName:pb,POINT_ATTRIBUTE_TYPES:mr,POINT_ATTRIBUTES:mb,PointAttributes:A0,PointCloudOctreeGeometryNode:xd,PointCloudOctreeGeometry:fb,PointCloudOctreeNode:Tb,PointCloudOctree:Ib,PointCloudTree:bb,QueueItem:_0,Potree:Ch,Version:Eh}),xb=`// 
// adapted from the EDL shader code from Christian Boucheny in cloud compare:
// https://github.com/cloudcompare/trunk/tree/master/plugins/qEDL/shaders/EDL
//
#ifndef IS_WEBGL_2
	#extension GL_EXT_frag_depth : enable
#endif

uniform float screenWidth;
uniform float screenHeight;
uniform vec2 neighbours[NEIGHBOUR_COUNT];
uniform float edlStrength;
uniform float radius;
uniform float opacity;

uniform float uNear;
uniform float uFar;

uniform mat4 uProj;

uniform sampler2D uEDLColor;
uniform sampler2D uEDLDepth;

varying vec2 vUv;

float response(float depth){
	vec2 uvRadius = radius / vec2(screenWidth, screenHeight);
	
	float sum = 0.0;
	
	for(int i = 0; i < NEIGHBOUR_COUNT; i++){
		vec2 uvNeighbor = vUv + uvRadius * neighbours[i];
		
		float neighbourDepth = texture2D(uEDLColor, uvNeighbor).a;
		neighbourDepth = (neighbourDepth == 1.0) ? 0.0 : neighbourDepth;

		if(neighbourDepth != 0.0){
			if(depth == 0.0){
				sum += 100.0;
			}else{
				sum += max(0.0, depth - neighbourDepth);
			}
		}
	}
	
	return sum / float(NEIGHBOUR_COUNT);
}

void main(){
	vec4 cEDL = texture2D(uEDLColor, vUv);
	
	float depth = cEDL.a;
	depth = (depth == 1.0) ? 0.0 : depth;
	float res = response(depth);
	float shade = exp(-res * 300.0 * edlStrength);

	gl_FragColor = vec4(cEDL.rgb * shade, opacity);

	float dl = pow(2.0, depth);

	vec4 dp = uProj * vec4(0.0, 0.0, -dl, 1.0);
	float pz = dp.z / dp.w;
	float fragDepth = (pz + 1.0) / 2.0;

	gl_FragDepthEXT = fragDepth;

	if(depth == 0.0){
		discard;
	}
}`,vb=`varying vec2 vUv;

void main() {
	vUv = uv;
	vec4 mvPosition = modelViewMatrix * vec4(position,1.0);
	gl_Position = projectionMatrix * mvPosition;
}`;class iZ extends fs{constructor(){super();this.neighbourCnt=0,this.isWebGL2=!1;const i={screenWidth:{type:"f",value:1024},screenHeight:{type:"f",value:768},edlStrength:{type:"f",value:1},uNear:{type:"f",value:1},uFar:{type:"f",value:1},radius:{type:"f",value:1},neighbours:{type:"2fv",value:[]},uEDLColor:{type:"t",value:null},uEDLDepth:{type:"t",value:null},opacity:{type:"f",value:1},uProj:{type:"Matrix4fv",value:[]}};this.setValues({uniforms:i,vertexShader:this.getDefines()+vb,fragmentShader:this.getDefines()+xb,lights:!1}),this.neighbourCount=8}getDefines(){let i="";return i+="#define NEIGHBOUR_COUNT "+this.neighbourCnt+`
`,this.isWebGL2&&(i+=`#define IS_WEBGL_2
`),i}setIsWebGL2(i){this.isWebGL2=i,this.updateShaderSource()}updateShaderSource(){const i=this.getDefines()+vb,t=this.getDefines()+xb;this.setValues({vertexShader:i,fragmentShader:t}),this.uniforms.neighbours.value=this.neighbours,this.needsUpdate=!0}get neighbourCount(){return this.neighbourCnt}set neighbourCount(i){if(this.neighbourCnt!==i){this.neighbourCnt=i,this.neighbours=new Float32Array(this.neighbourCnt*2);for(let t=0;t<this.neighbourCount;t++)this.neighbours[2*t+0]=Math.cos(2*t*Math.PI/this.neighbourCnt),this.neighbours[2*t+1]=Math.sin(2*t*Math.PI/this.neighbourCnt);this.updateShaderSource()}}}class Gb{constructor(i,t,s){this.screenScene=new ur,this.camera=new d0,this.edlMaterial=new iZ,this.edlMaterial.depthTest=!0,this.edlMaterial.depthWrite=!0,this.edlMaterial.transparent=!0,this.edlMaterial.uniforms.edlStrength.value=.4,this.edlMaterial.uniforms.radius.value=1.6,this.edlMaterial.uniforms.opacity.value=1,this.rtEDL=new Pr(1024,1024,{minFilter:Ui,magFilter:Ui,format:Xs,type:Qo,depthTexture:new mg(1024,1024,Jo)}),this.screenQuad=new fi(new jc(2,2,1,1),this.edlMaterial),this.screenQuad.frustumCulled=!1,this.screenScene.add(this.screenQuad),i&&t&&s&&this.resize(i,t,s)}resize(i,t,s){const n=t.getPixelRatio(),r=i.clientWidth,o=i.clientHeight,a=Math.floor(r*n),l=Math.floor(o*n);this.rtEDL.setSize(a,l),this.edlMaterial.uniforms.screenWidth.value=r,this.edlMaterial.uniforms.screenHeight.value=o,this.edlMaterial.uniforms.uNear.value=s.near,this.edlMaterial.uniforms.uFar.value=s.far}dispose(){this.edlMaterial.dispose(),this.rtEDL.dispose(),this.screenQuad.material.dispose(),this.screenQuad.geometry.dispose(),this.screenScene.remove(this.screenQuad)}render(i,t,s){i.setRenderTarget(this.rtEDL),i.clear(!0,!0,!0),i.render(t,s),i.setRenderTarget(null);const n=s.projectionMatrix,r=new Float32Array(16);r.set(n.elements),this.edlMaterial.uniforms.uEDLColor.value=this.rtEDL.texture,this.edlMaterial.uniforms.uEDLDepth.value=this.rtEDL.depthTexture,this.edlMaterial.uniforms.uProj.value=r,i.render(this.screenScene,this.camera)}}var sZ=Object.defineProperty,nZ=Object.defineProperties,rZ=Object.getOwnPropertyDescriptors,Eb=Object.getOwnPropertySymbols,oZ=Object.prototype.hasOwnProperty,aZ=Object.prototype.propertyIsEnumerable,Cb=(e,i,t)=>i in e?sZ(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,lZ=(e,i)=>{for(var t in i||(i={}))oZ.call(i,t)&&Cb(e,t,i[t]);if(Eb)for(var t of Eb(i))aZ.call(i,t)&&Cb(e,t,i[t]);return e},hZ=(e,i)=>nZ(e,rZ(i)),V0=(e,i,t)=>new Promise((s,n)=>{var r=l=>{try{a(t.next(l))}catch(h){n(h)}},o=l=>{try{a(t.throw(l))}catch(h){n(h)}},a=l=>l.done?s(l.value):Promise.resolve(l.value).then(r,o);a((t=t.apply(e,i)).next())}),cZ=(e=>(e.GroupName="pointclouds-group",e))(cZ||{});class Rb{constructor(i={}){if(this.pointclouds=[],this.pointBudgetLow=2e5,this.pointBudgetMed=15e5,this.pointBudgetHigh=3e6,this.events=new as,this.potree=new Ch,this.useEDL=!1,this.edlRenderer=new Gb,this.scene=i.scene,this.camera=i.camera,this.renderer=i.renderer,this.domEl=i.domEl,this.referenceFrame=i.referenceFrame,this.referenceFrame&&i.referenceFramePosition)throw new Error("PointClouds: ReferenceFrame and ReferenceFramePosition both provider. Use only one.");!this.referenceFrame&&i.referenceFramePosition&&(this.referenceFrame=new ib,this.referenceFrame.position=i.referenceFramePosition),this.renderer&&this.initGLExtensions(this.renderer),this.binds(),this.addListeners(),this.setPointBudget("Med"),this.camera&&this.domEl&&this.renderer&&this.resize(this.renderer,this.camera,this.domEl)}initGLExtensions(i){const t=i.capabilities.isWebGL2,s=i.getContext(),n=s.getExtension("EXT_frag_depth"),r=s.getExtension("WEBGL_depth_texture");if(!t&&!n&&!r&&console.error("Device/browser not supported. Capabilities",i.capabilities),!t){const o=s.getExtension("OES_vertex_array_object");o&&(s.createVertexArray=o.createVertexArrayOES.bind(o),s.bindVertexArray=o.bindVertexArrayOES.bind(o))}this.edlRenderer.edlMaterial.setIsWebGL2(t)}dispose(){for(const i of this.pointclouds)i.dispose();this.pointclouds=[],this.potree&&(this.potree.dispose(),this.potree=void 0),this.edlRenderer.dispose(),this.removeListeners()}pick(i){const t=i.screenPos,s=i.renderer||this.renderer,n=i.pickClipped||!1,r=i.camera||this.camera,o=i.pointclouds||this.pointclouds,a=i.pickWindowSize||17;if(!r)throw new Error("PointClouds.pick: camera required");if(!s)throw new Error("PointClouds.pick: renderer required");let l=i.raycaster;if(!l){if(!t)throw new Error('Missing "screenPos" or "raycaster"');const d={x:t.x/s.domElement.clientWidth*2-1,y:-(t.y/s.domElement.clientHeight)*2+1};l=new iu,l.setFromCamera(d,r)}const h=l.ray;let c,u=1/0,p;for(const d of o){if(!d.visible)continue;const T=d.pick(s,r,h,{pickOutsideClipRegion:n,pickWindowSize:a});if(!T||!T.position)continue;const g=r.position.distanceTo(T.position);g<u&&(u=g,c=d,p=T.position)}return c&&p?{distance:u,point:p,object:c,objectType:"pointcloud"}:null}getBoundingBox(i){i=i||this.pointclouds;const t=new Pi;for(let s=0;s<i.length;s++){const n=i[s],r=n.getBoundingBoxWorld(n.pcoGeometry.tightBoundingBox);t.union(r)}return t}getHeightRange(){if(this.pointclouds.length===0||!this.referenceFrame)return[0,100];const i=this.referenceFrame.toGeo({x:0,y:0,z:this.pointclouds[0].material.elevationRange[0]}),t=this.referenceFrame.toGeo({x:0,y:0,z:this.pointclouds[0].material.elevationRange[1]});return[i.z,t.z]}setReferenceFrame(i){this.referenceFrame=i}fitHeightRange(){const i=this.getBoundingBox();this.setHeightRange([i.min.z,i.max.z])}fitIntensityRange(){let i=!1,t=[Number.MAX_VALUE,Number.MIN_VALUE];const s=.65,n=.95;for(let r=0;r<this.pointclouds.length;r++){const o=this.pointclouds[r].pcoGeometry.root;if(o!==void 0){if(!o.loaded)return!1;const a=o.geometry.attributes;if(a.intensity!==void 0){const l=a.intensity.array,h=[];for(let p=0;p<l.length;p++)h.push(l[p]);h.sort();const c=Math.floor((h.length-1)*n),u=Math.floor((h.length-1)*(1-s));t[0]=t[0]>h[u]?h[u]:t[0],t[1]=t[1]<h[c]?h[c]:t[1],i=!0}}}return i&&this.setIntensityRange(t),!0}setDefaults(i){const t=new H;for(const s of i){s.material.shape=ou.pointShape,s.material.gradient=ou.heightGradient,s.material.classification=ou.classificationColors,s.material.pointColorType=ou.pointColorType,s.material.pointSizeType=ou.pointSizeType,s.pcoGeometry.boundingBox.getSize(t),s.material.opacity=1;const n=t.x;s.material.uniforms.octreeSize.value=n,s.material.spacing=s.pcoGeometry.spacing*s.scale.x}}load(i){return V0(this,arguments,function*(t,s={}){const n=Array.isArray(t)?t:[t],r=[];if(!this.potree)throw new Error("Potree needs to be initialized first");let o="";s.queryString&&(o=s.queryString.startsWith("?")?s.queryString:"?"+s.queryString);const a=s.xhrInit||{};for(const l of n){const h=l.endsWith("/")?l:l+"/",c=yield this.potree.loadPointCloud("cloud.js",u=>h+u+o,(u,p)=>fetch(u,p),hZ(lZ({},a),{mode:"cors"})).catch(u=>{throw new Error(u)});r.push(c)}return this.setDefaults(r),this.pointclouds.push(...r),r})}addPointcloud(i){return V0(this,null,function*(){var t;const s=(t=this.scene)==null?void 0:t.getObjectByName("pointclouds-group");if(s){const n=yield this.load(i).catch(r=>{throw new Error(r)});return s.add(n[0]),n}else return yield this.loadInternal(i)})}getObjectByName(i){var t;const s=(t=this.scene)==null?void 0:t.getObjectByName("pointclouds-group"),n=s==null?void 0:s.getObjectByName(i);if(n)return n}loadInternal(i){return V0(this,arguments,function*(t,s={}){const n=yield this.load(t,s).catch(o=>{throw new Error(o)});if(n.forEach((o,a)=>o.name=t[a]),!this.referenceFrame)throw new Error("PointClouds.loadInternal: ReferenceFrame not initialized");const r=this.addToReferenceFrame(n,this.referenceFrame);if(r.name="pointclouds-group",!this.scene)throw new Error("PointClouds.loadInternal: scene required");return this.scene.add(r),n})}addToReferenceFrame(i,t){if(i.length<1)throw new Error("PointClouds.addToReferenceFrame: at least one POC required");return t.isSet()||t.setPosition(i[0].position,!0),t.getSceneGroup(i)}render(i,t,s){const n=i||this.renderer,r=t||this.scene,o=s||this.camera;if(!n||!r||!o)throw new Error("PointClouds.render: renderer, scene and camera required");this.useEDL?this.edlRenderer.render(n,r,o):n.render(r,o)}update(i,t,s){const n=i||this.pointclouds,r=s||this.camera,o=t||this.renderer;if(!n||!r||!o)throw new Error("PointClouds.update: pointclouds, camera and renderer required");this.pointclouds.forEach(a=>{a.material.clippingPlanes=o.clippingPlanes}),this.potree&&this.potree.updatePointClouds(n,r,o)}setClipBoxes(i){this.pointclouds.forEach(function(t){t.material.setClipBoxes(i)}),i&&i.length>0?this.pointclouds.forEach(function(t){t.material.useClipBox=!0}):this.pointclouds.forEach(function(t){t.material.useClipBox=!1})}setEDLEnabled(i){this.useEDL=i;for(const t of this.pointclouds)t.material.useEDL=i;this.events.dispatch("pointscene_pointclouds_edl_changed",{value:i},this.domEl)}isEDLEnabled(){return this.useEDL}setOpacity(i){this.pointclouds.forEach(function(t){t.material.opacity=i}),this.events.dispatch("pointscene_pointclouds_opacity_changed",{value:i},this.domEl)}setPointBudget(i){if(!this.potree)throw new Error("Potree needs to be initialized first");if(i==="Low")this.potree.pointBudget=this.pointBudgetLow;else if(i==="Med")this.potree.pointBudget=this.pointBudgetMed;else if(i==="High")this.potree.pointBudget=this.pointBudgetHigh;else{console.warn("Pointclouds.setPointBudget: unknown value",i);return}this.events.dispatch("pointscene_pointclouds_lod_changed",{value:i},this.domEl)}translatePosition(i){this.pointclouds.forEach(t=>{t.position.add(i),t.updateMatrix()})}setColorType(i){this.events.dispatch("pointscene_pointclouds_color_type_changed",{value:i},this.domEl),this.pointclouds.forEach(function(t){t.material.pointColorType=i})}setMaterialWeights(i){i=i||{};const t=i.rgb||0,s=i.int||0,n=i.z||0,r=i.cls||0;this.pointclouds.forEach(o=>{o.material.uniforms.wRGB.value=t,o.material.uniforms.wIntensity.value=s,o.material.uniforms.wElevation.value=n,o.material.uniforms.wClassification.value=r}),this.events.dispatch("pointscene_pointclouds_material_weights_changed",{weights:i},this.domEl)}setColorWeight(i){this.pointclouds.forEach(t=>{t.material.uniforms.wRGB.value=i}),this.events.dispatch("pointscene_pointclouds_rgb_weight_changed",{value:i},this.domEl)}setElevationWeight(i){this.pointclouds.forEach(t=>{t.material.uniforms.wElevation.value=i}),this.events.dispatch("pointscene_pointclouds_elevation_weight_changed",{value:i},this.domEl)}setIntensityWeight(i){this.pointclouds.forEach(t=>{t.material.uniforms.wIntensity.value=i}),this.events.dispatch("pointscene_pointclouds_intensity_weight_changed",{value:i},this.domEl)}setClassificationWeight(i){this.pointclouds.forEach(t=>{t.material.uniforms.wClassification.value=i}),this.events.dispatch("pointscene_pointclouds_classification_weight_changed",{value:i},this.domEl)}setClassVisibility(i,t){let s=!1;for(let n=0;n<this.pointclouds.length;n++){const r=this.pointclouds[n],o=r.material.classification,a=o[i].w;o[i].w=t?1:0,a!==o[i].w&&(s=!0),r.material.classification=o}s&&this.events.dispatch("pointscene_pointclouds_class_visibility_changed",{key:i,value:t},this.domEl)}setClipMode(i){this.events.dispatch("pointscene_pointclouds_clip_mode_changed",{value:i},this.domEl),this.pointclouds.forEach(t=>{t.material.clipMode=i})}setPointShape(i){let t=To.SQUARE;typeof i=="string"?i.toLowerCase()==="circle"&&(t=To.CIRCLE):t=i,this.events.dispatch("pointscene_pointclouds_point_shape_changed",{value:t},this.domEl),this.pointclouds.forEach(function(s){s.material.shape=t})}getPointsize(){return this.pointclouds.length===0?1:this.pointclouds[0].material.size}setPointSize(i){i<0&&(i=0),this.pointclouds.forEach(function(t){t.material.size=i})}setPointSizeType(i){let t;typeof i=="string"?i==="Adaptive"?t=pr.ADAPTIVE:i==="Attenuated"?t=pr.ATTENUATED:t=pr.FIXED:t=i,this.events.dispatch("pointscene_pointclouds_point_size_type_changed",{value:t},this.domEl),this.pointclouds.forEach(function(s){s.material.pointSizeType=t})}setHeightRange(i){let t={x:0,y:0,z:i[0]},s={x:0,y:0,z:i[1]};if(!this.referenceFrame||!this.referenceFrame.isSet())throw new Error("Reference frame has not been set");t=this.referenceFrame.toScene(t),s=this.referenceFrame.toScene(s),this.events.dispatch("pointscene_pointclouds_height_range_changed",{range:[i[0],i[1]]},this.domEl),this.pointclouds.forEach(function(n){n.material.elevationRange=[t.z,s.z]})}setUseUnscaledElevation(i){this.pointclouds.forEach(function(t){})}setIntensityRange(i){this.events.dispatch("pointscene_pointclouds_intensity_range_changed",{range:i},this.domEl),this.pointclouds.forEach(function(t){t.material.uniforms.intensityRange.value=i})}setVisibility(i){this.pointclouds.forEach(function(t){t.visible=i}),this.events.dispatch("pointscene_pointclouds_visibility_changed",{value:i},this.domEl)}resize(i,t,s){const n=t||this.camera,r=s||this.domEl,o=i||this.renderer;if(!n||!r||!o)throw new Error("PointClouds.onWindowResize: camera, domEl and renderer required");this.edlRenderer.resize(r,o,n);for(let a=0;a<this.pointclouds.length;a++){const l=this.pointclouds[a];l.material.screenWidth=r.clientWidth,l.material.screenHeight=r.clientHeight,typeof n.fov<"u"&&(l.material.fov=n.fov*(Math.PI/180))}}removeByName(i){const t=this.pointclouds.findIndex(s=>s.name===i);this.remove(t)}remove(i){var t;const s=this.pointclouds[i],n=(t=this.scene)==null?void 0:t.getObjectByName("pointclouds-group");n==null||n.remove(s),s.dispose(),this.pointclouds.splice(i,1)}handleWindowResize(){!this.camera&&!this.domEl||this.resize()}handleLoadPointcloud(i){this.load(i.detail.path)}handleSetClipBoxes(i){this.setClipBoxes(i.detail.clipBoxes)}handleSetClipMode(i){this.setClipMode(i.detail.clipMode)}handleSetLOD(i){this.setPointBudget(i.detail.value)}handleSetMaterialWeights(i){this.setMaterialWeights(i.detail.weights)}handleSetClassVisibility(i){this.setClassVisibility(i.detail.key,i.detail.value)}handleUpdateClassRange(i){throw new Error("Update class range not implemented "+i)}handleSetPointShape(i){this.setPointShape(i.detail.value)}handleSetPointSize(i){this.setPointSize(i.detail.value)}handleSetPointSizeType(i){this.setPointSizeType(i.detail.value)}handleSetHeightRange(i){this.setHeightRange(i.detail.range)}handleSetIntensityRange(i){this.setIntensityRange(i.detail.range)}handleSetEDL(i){this.setEDLEnabled(i.detail.value)}handleSetVisibility(i){this.setVisibility(i.detail.value)}binds(){this.handleLoadPointcloud=this.handleLoadPointcloud.bind(this),this.handleSetClassVisibility=this.handleSetClassVisibility.bind(this),this.handleSetClipBoxes=this.handleSetClipBoxes.bind(this),this.handleSetClipMode=this.handleSetClipMode.bind(this),this.handleSetEDL=this.handleSetEDL.bind(this),this.handleSetHeightRange=this.handleSetHeightRange.bind(this),this.handleSetIntensityRange=this.handleSetIntensityRange.bind(this),this.handleSetLOD=this.handleSetLOD.bind(this),this.handleSetMaterialWeights=this.handleSetMaterialWeights.bind(this),this.handleSetPointShape=this.handleSetPointShape.bind(this),this.handleSetPointSize=this.handleSetPointSize.bind(this),this.handleSetPointSizeType=this.handleSetPointSizeType.bind(this),this.handleSetVisibility=this.handleSetVisibility.bind(this),this.handleUpdateClassRange=this.handleUpdateClassRange.bind(this),this.handleWindowResize=this.handleWindowResize.bind(this)}addListeners(i){const t=i||this.domEl;!t||(t.addEventListener("pointscene_load_pointcloud",this.handleLoadPointcloud,!1),t.addEventListener("pointscene_set_clipboxes",this.handleSetClipBoxes,!1),t.addEventListener("pointscene_set_clip_mode",this.handleSetClipMode,!1),t.addEventListener("pointscene_set_pointclouds_lod",this.handleSetLOD,!1),t.addEventListener("pointscene_set_pointclouds_material_weights",this.handleSetMaterialWeights,!1),t.addEventListener("pointscene_set_pointclouds_class_visibility",this.handleSetClassVisibility,!1),t.addEventListener("pointscene_pointclouds_update_class_range",this.handleUpdateClassRange,!1),t.addEventListener("pointscene_set_pointclouds_shape",this.handleSetPointShape,!1),t.addEventListener("pointscene_set_pointclouds_point_size",this.handleSetPointSize,!1),t.addEventListener("pointscene_set_pointclouds_size_type",this.handleSetPointSizeType,!1),t.addEventListener("pointscene_set_pointclouds_height_range",this.handleSetHeightRange,!1),t.addEventListener("pointscene_set_pointclouds_intensity_range",this.handleSetIntensityRange,!1),t.addEventListener("pointscene_set_pointclouds_edl",this.handleSetEDL,!1),t.addEventListener("pointscene_set_pointclouds_visibility",this.handleSetVisibility,!1),window.addEventListener("resize",this.handleWindowResize,!1))}removeListeners(i){const t=i||this.domEl;!t||(t.removeEventListener("pointscene_load_pointcloud",this.handleLoadPointcloud,!1),t.removeEventListener("pointscene_set_clipboxes",this.handleSetClipBoxes,!1),t.removeEventListener("pointscene_set_clip_mode",this.handleSetClipMode,!1),t.removeEventListener("pointscene_set_pointclouds_lod",this.handleSetLOD,!1),t.removeEventListener("pointscene_set_pointclouds_material_weights",this.handleSetMaterialWeights,!1),t.removeEventListener("pointscene_set_pointclouds_class_visibility",this.handleSetClassVisibility,!1),t.removeEventListener("pointscene_pointclouds_update_class_range",this.handleUpdateClassRange,!1),t.removeEventListener("pointscene_set_pointclouds_shape",this.handleSetPointShape,!1),t.removeEventListener("pointscene_set_pointclouds_point_size",this.handleSetPointSize,!1),t.removeEventListener("pointscene_set_pointclouds_size_type",this.handleSetPointSizeType,!1),t.removeEventListener("pointscene_set_pointclouds_height_range",this.handleSetHeightRange,!1),t.removeEventListener("pointscene_set_pointclouds_intensity_range",this.handleSetIntensityRange,!1),t.removeEventListener("pointscene_set_pointclouds_edl",this.handleSetEDL,!1),t.removeEventListener("pointscene_set_pointclouds_visibility",this.handleSetVisibility,!1),window.removeEventListener("resize",this.handleWindowResize,!1))}}const ou={pointShape:To.CIRCLE,pointSize:1,minPointSize:1,maxPointSize:50,opacity:1,sizeType:"Adaptive",pointSizeType:pr.ADAPTIVE,pointColorType:qi.RGB,minNodeSize:1,edlStrength:1,edlRadius:1.4,useEDL:!1,useHqSplat:!1,heightMin:0,heightMax:100,useUnscaledElevation:!1,materialTransition:.5,weightRGB:.4,weightIntensity:0,weightElevation:.6,weightClassification:0,weightReturnNumber:0,weightSourceID:0,intensityRange:[0,65536],intensityGamma:1,intensityContrast:0,intensityBrightness:0,rgbGamma:1,rgbContrast:0,rgbBrightness:0,heightGradient:[[0/36,new ge(54/255,83/255,121/255)],[1/36,new ge(54/255,94/255,123/255)],[2/36,new ge(53/255,106/255,124/255)],[3/36,new ge(53/255,119/255,126/255)],[4/36,new ge(52/255,128/255,124/255)],[5/36,new ge(52/255,129/255,113/255)],[6/36,new ge(51/255,131/255,102/255)],[7/36,new ge(50/255,133/255,90/255)],[8/36,new ge(50/255,134/255,77/255)],[9/36,new ge(49/255,136/255,64/255)],[10/36,new ge(48/255,138/255,50/255)],[11/36,new ge(61/255,139/255,48/255)],[12/36,new ge(75/255,141/255,47/255)],[13/36,new ge(89/255,149/255,47/255)],[14/36,new ge(104/255,158/255,46/255)],[15/36,new ge(121/255,166/255,45/255)],[16/36,new ge(140/255,175/255,43/255)],[17/36,new ge(161/255,183/255,41/255)],[18/36,new ge(185/255,192/255,39/255)],[19/36,new ge(200/255,189/255,36/255)],[20/36,new ge(208/255,177/255,33/255)],[21/36,new ge(217/255,163/255,30/255)],[22/36,new ge(225/255,146/255,26/255)],[23/36,new ge(234/255,127/255,22/255)],[24/36,new ge(242/255,104/255,18/255)],[25/36,new ge(237/255,94/255,16/255)],[26/36,new ge(233/255,84/255,14/255)],[27/36,new ge(228/255,75/255,13/255)],[28/36,new ge(224/255,66/255,11/255)],[29/36,new ge(219/255,57/255,10/255)],[30/36,new ge(215/255,48/255,8/255)],[31/36,new ge(211/255,39/255,7/255)],[32/36,new ge(206/255,31/255,5/255)],[33/36,new ge(202/255,23/255,4/255)],[34/36,new ge(197/255,15/255,2/255)],[35/36,new ge(193/255,7/255,1/255)],[36/36,new ge(188/255,0/255,0/255)]],classificationColors:{0:new nt(.5,.5,.5,1),1:new nt(1,1,1,1),2:new nt(177/255,110/255,13/255,1),3:new nt(43/255,143/255,81/255,1),4:new nt(39/255,149/255,48/255,1),5:new nt(60/255,155/255,34/255,1),6:new nt(188/255,0/255,0/255,1),7:new nt(158/255,30/255,160/255,1),8:new nt(166/255,25/255,139/255,1),9:new nt(52/255,106/255,127/255,1),10:new nt(49/255,132/255,130/255,1),11:new nt(182/255,59/255,7/255,1),12:new nt(171/255,155/255,19/255,1),13:new nt(166/255,25/255,139/255,1),14:new nt(129/255,34/255,155/255,1),15:new nt(182/255,7/255,42/255,1),16:new nt(158/255,30/255,160/255,1),17:new nt(46/255,138/255,108/255,1),18:new nt(158/255,30/255,160/255,1),19:new nt(188/255,10/255,10/255,1),20:new nt(188/255,20/255,20/255,1),21:new nt(188/255,30/255,30/255,1),22:new nt(188/255,40/255,40/255,1),23:new nt(188/255,50/255,50/255,1),24:new nt(188/255,60/255,60/255,1),25:new nt(188/255,70/255,70/255,1),26:new nt(188/255,80/255,80/255,1),27:new nt(188/255,90/255,90/255,1),28:new nt(188/255,100/255,100/255,1),29:new nt(188/255,110/255,110/255,1),30:new nt(188/255,120/255,120/255,1),31:new nt(188/255,130/255,130/255,1),DEFAULT:new nt(.5,.5,.5,1)}};var uZ=Object.defineProperty,pZ=Object.defineProperties,dZ=Object.getOwnPropertyDescriptors,Nb=Object.getOwnPropertySymbols,mZ=Object.prototype.hasOwnProperty,yZ=Object.prototype.propertyIsEnumerable,Fb=(e,i,t)=>i in e?uZ(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,fZ=(e,i)=>{for(var t in i||(i={}))mZ.call(i,t)&&Fb(e,t,i[t]);if(Nb)for(var t of Nb(i))yZ.call(i,t)&&Fb(e,t,i[t]);return e},TZ=(e,i)=>pZ(e,dZ(i));class Pb{constructor(i){this.raycaster=new iu,this.pickPointclouds=!0,this.pickModels=!0,this.pickDepth=!0,this.pickInteractive=!1,this.mouse=i.mouse,this.domEl=i.domEl,this.camera=i.camera,this.scenePickable=i.scenePickable,this.sceneStatic=i.sceneStatic,this.scenePointcloud=i.scenePointcloud,this.modules=i.modules}getFaceNormal(i){const t=new pt;i.object.updateWorldMatrix(!0,!1),t.extractRotation(i.object.matrixWorld);const s=i.face;if(!s)return null;const n=s.normal.clone();return n.applyMatrix4(t),n}pick(i,t=!1){const s=i||new ht(this.mouse.x/this.domEl.clientWidth*2-1,-(this.mouse.y/this.domEl.clientHeight)*2+1);this.raycaster.setFromCamera(s,this.camera);let n=[];if(this.pickModels){const r=this.raycaster.intersectObjects(this.scenePickable.children,!0).filter(o=>{const a=o.object.visible,l=typeof o.object.userData.isPickable<"u"&&o.object.userData.isPickable,h=typeof o.object.userData.isInteractive<"u"&&o.object.userData.isInteractive;return a&&l&&!h});if(r.length>0){const o=r.map(a=>TZ(fZ({},a),{objectType:"mesh",normal:this.getFaceNormal(a)}));n.push(...o)}}if(this.pickDepth&&this.modules.photoSpheres&&this.modules.photoSpheres.hasDepthData()){const r=this.modules.photoSpheres.pick(this.raycaster);r&&n.push(r)}if(this.pickPointclouds&&this.modules.pointclouds){const r=this.modules.pointclouds.pick({raycaster:this.raycaster});r&&n.push(r)}return n.length>0?(n.sort((r,o)=>r.distance-o.distance),t?n:n[0]):null}intersectPlane(i){let t=new H;const s=new ht(this.mouse.x/this.domEl.clientWidth*2-1,-(this.mouse.y/this.domEl.clientHeight)*2+1);return this.raycaster.setFromCamera(s,this.camera),this.raycaster.ray.intersectPlane(i,t)?{point:t,distance:this.camera.position.distanceTo(t),objectType:"plane",object:new _i,normal:i.normal.clone()}:null}intersectObject(i){const t=new ht(this.mouse.x/this.domEl.clientWidth*2-1,-(this.mouse.y/this.domEl.clientHeight)*2+1);this.raycaster.setFromCamera(t,this.camera);const s=this.raycaster.intersectObject(i);return s?s[0]:null}}function Gd(e,i,t){t===void 0&&(t={});var s={type:"Feature"};return(t.id===0||t.id)&&(s.id=t.id),t.bbox&&(s.bbox=t.bbox),s.properties=i||{},s.geometry=e,s}function gZ(e,i,t){if(t===void 0&&(t={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!wb(e[0])||!wb(e[1]))throw new Error("coordinates must contain numbers");var s={type:"Point",coordinates:e};return Gd(s,i,t)}function j0(e,i,t){t===void 0&&(t={});for(var s=0,n=e;s<n.length;s++){var r=n[s];if(r.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var o=0;o<r[r.length-1].length;o++)if(r[r.length-1][o]!==r[0][o])throw new Error("First and last Position are not equivalent.")}var a={type:"Polygon",coordinates:e};return Gd(a,i,t)}function bZ(e,i,t){if(t===void 0&&(t={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");var s={type:"LineString",coordinates:e};return Gd(s,i,t)}function IZ(e,i,t){t===void 0&&(t={});var s={type:"MultiPolygon",coordinates:e};return Gd(s,i,t)}function wb(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function Xb(e){return e.type==="Feature"?e.geometry:e}function LZ(e){var i,t,s={type:"FeatureCollection",features:[]};if(e.type==="Feature"?t=e.geometry:t=e,t.type==="LineString")i=[t.coordinates];else if(t.type==="MultiLineString")i=t.coordinates;else if(t.type==="MultiPolygon")i=[].concat.apply([],t.coordinates);else if(t.type==="Polygon")i=t.coordinates;else throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");return i.forEach(function(n){i.forEach(function(r){for(var o=0;o<n.length-1;o++)for(var a=o;a<r.length-1;a++)if(!(n===r&&(Math.abs(o-a)===1||o===0&&a===n.length-2&&n[o][0]===n[n.length-1][0]&&n[o][1]===n[n.length-1][1]))){var l=SZ(n[o][0],n[o][1],n[o+1][0],n[o+1][1],r[a][0],r[a][1],r[a+1][0],r[a+1][1]);l&&s.features.push(gZ([l[0],l[1]]))}})}),s}function SZ(e,i,t,s,n,r,o,a){var l,h,c,u,p,d={x:null,y:null,onLine1:!1,onLine2:!1};return l=(a-r)*(t-e)-(o-n)*(s-i),l===0?d.x!==null&&d.y!==null?d:!1:(h=i-r,c=e-n,u=(o-n)*h-(a-r)*c,p=(t-e)*h-(s-i)*c,h=u/l,c=p/l,d.x=e+h*(t-e),d.y=i+h*(s-i),h>=0&&h<=1&&(d.onLine1=!0),c>=0&&c<=1&&(d.onLine2=!0),d.onLine1&&d.onLine2?[d.x,d.y]:!1)}function MZ(e,i){var t={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},s,n,r,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(h){return function(c){return l([h,c])}}function l(h){if(s)throw new TypeError("Generator is already executing.");for(;t;)try{if(s=1,n&&(r=h[0]&2?n.return:h[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,h[1])).done)return r;switch(n=0,r&&(h=[h[0]&2,r.value]),h[0]){case 0:case 1:r=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,n=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(r=t.trys,!(r=r.length>0&&r[r.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!r||h[1]>r[0]&&h[1]<r[3])){t.label=h[1];break}if(h[0]===6&&t.label<r[1]){t.label=r[1],r=h;break}if(r&&t.label<r[2]){t.label=r[2],t.ops.push(h);break}r[2]&&t.ops.pop(),t.trys.pop();continue}h=i.call(e,t)}catch(c){h=[6,c],n=0}finally{s=r=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var aa=function(){function e(i,t){this.next=null,this.key=i,this.data=t,this.left=null,this.right=null}return e}();function xZ(e,i){return e>i?1:e<i?-1:0}function la(e,i,t){for(var s=new aa(null,null),n=s,r=s;;){var o=t(e,i.key);if(o<0){if(i.left===null)break;if(t(e,i.left.key)<0){var a=i.left;if(i.left=a.right,a.right=i,i=a,i.left===null)break}r.left=i,r=i,i=i.left}else if(o>0){if(i.right===null)break;if(t(e,i.right.key)>0){var a=i.right;if(i.right=a.left,a.left=i,i=a,i.right===null)break}n.right=i,n=i,i=i.right}else break}return n.right=i.left,r.left=i.right,i.left=s.right,i.right=s.left,i}function B0(e,i,t,s){var n=new aa(e,i);if(t===null)return n.left=n.right=null,n;t=la(e,t,s);var r=s(e,t.key);return r<0?(n.left=t.left,n.right=t,t.left=null):r>=0&&(n.right=t.right,n.left=t,t.right=null),n}function Db(e,i,t){var s=null,n=null;if(i){i=la(e,i,t);var r=t(i.key,e);r===0?(s=i.left,n=i.right):r<0?(n=i.right,i.right=null,s=i):(s=i.left,i.left=null,n=i)}return{left:s,right:n}}function vZ(e,i,t){return i===null?e:(e===null||(i=la(e.key,i,t),i.left=e),i)}function J0(e,i,t,s,n){if(e){s(""+i+(t?"\u2514\u2500\u2500 ":"\u251C\u2500\u2500 ")+n(e)+`
`);var r=i+(t?"    ":"\u2502   ");e.left&&J0(e.left,r,!1,s,n),e.right&&J0(e.right,r,!0,s,n)}}var Q0=function(){function e(i){i===void 0&&(i=xZ),this._root=null,this._size=0,this._comparator=i}return e.prototype.insert=function(i,t){return this._size++,this._root=B0(i,t,this._root,this._comparator)},e.prototype.add=function(i,t){var s=new aa(i,t);this._root===null&&(s.left=s.right=null,this._size++,this._root=s);var n=this._comparator,r=la(i,this._root,n),o=n(i,r.key);return o===0?this._root=r:(o<0?(s.left=r.left,s.right=r,r.left=null):o>0&&(s.right=r.right,s.left=r,r.right=null),this._size++,this._root=s),this._root},e.prototype.remove=function(i){this._root=this._remove(i,this._root,this._comparator)},e.prototype._remove=function(i,t,s){var n;if(t===null)return null;t=la(i,t,s);var r=s(i,t.key);return r===0?(t.left===null?n=t.right:(n=la(i,t.left,s),n.right=t.right),this._size--,n):t},e.prototype.pop=function(){var i=this._root;if(i){for(;i.left;)i=i.left;return this._root=la(i.key,this._root,this._comparator),this._root=this._remove(i.key,this._root,this._comparator),{key:i.key,data:i.data}}return null},e.prototype.findStatic=function(i){for(var t=this._root,s=this._comparator;t;){var n=s(i,t.key);if(n===0)return t;n<0?t=t.left:t=t.right}return null},e.prototype.find=function(i){return this._root&&(this._root=la(i,this._root,this._comparator),this._comparator(i,this._root.key)!==0)?null:this._root},e.prototype.contains=function(i){for(var t=this._root,s=this._comparator;t;){var n=s(i,t.key);if(n===0)return!0;n<0?t=t.left:t=t.right}return!1},e.prototype.forEach=function(i,t){for(var s=this._root,n=[],r=!1;!r;)s!==null?(n.push(s),s=s.left):n.length!==0?(s=n.pop(),i.call(t,s),s=s.right):r=!0;return this},e.prototype.range=function(i,t,s,n){for(var r=[],o=this._comparator,a=this._root,l;r.length!==0||a;)if(a)r.push(a),a=a.left;else{if(a=r.pop(),l=o(a.key,t),l>0)break;if(o(a.key,i)>=0&&s.call(n,a))return this;a=a.right}return this},e.prototype.keys=function(){var i=[];return this.forEach(function(t){var s=t.key;return i.push(s)}),i},e.prototype.values=function(){var i=[];return this.forEach(function(t){var s=t.data;return i.push(s)}),i},e.prototype.min=function(){return this._root?this.minNode(this._root).key:null},e.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},e.prototype.minNode=function(i){if(i===void 0&&(i=this._root),i)for(;i.left;)i=i.left;return i},e.prototype.maxNode=function(i){if(i===void 0&&(i=this._root),i)for(;i.right;)i=i.right;return i},e.prototype.at=function(i){for(var t=this._root,s=!1,n=0,r=[];!s;)if(t)r.push(t),t=t.left;else if(r.length>0){if(t=r.pop(),n===i)return t;n++,t=t.right}else s=!0;return null},e.prototype.next=function(i){var t=this._root,s=null;if(i.right){for(s=i.right;s.left;)s=s.left;return s}for(var n=this._comparator;t;){var r=n(i.key,t.key);if(r===0)break;r<0?(s=t,t=t.left):t=t.right}return s},e.prototype.prev=function(i){var t=this._root,s=null;if(i.left!==null){for(s=i.left;s.right;)s=s.right;return s}for(var n=this._comparator;t;){var r=n(i.key,t.key);if(r===0)break;r<0?t=t.left:(s=t,t=t.right)}return s},e.prototype.clear=function(){return this._root=null,this._size=0,this},e.prototype.toList=function(){return EZ(this._root)},e.prototype.load=function(i,t,s){t===void 0&&(t=[]),s===void 0&&(s=!1);var n=i.length,r=this._comparator;if(s&&ey(i,t,0,n-1,r),this._root===null)this._root=q0(i,t,0,n),this._size=n;else{var o=CZ(this.toList(),GZ(i,t),r);n=this._size+n,this._root=$0({head:o},0,n)}return this},e.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),e.prototype.toString=function(i){i===void 0&&(i=function(s){return String(s.key)});var t=[];return J0(this._root,"",!0,function(s){return t.push(s)},i),t.join("")},e.prototype.update=function(i,t,s){var n=this._comparator,r=Db(i,this._root,n),o=r.left,a=r.right;n(i,t)<0?a=B0(t,s,a,n):o=B0(t,s,o,n),this._root=vZ(o,a,n)},e.prototype.split=function(i){return Db(i,this._root,this._comparator)},e.prototype[Symbol.iterator]=function(){var i;return MZ(this,function(t){switch(t.label){case 0:i=this.minNode(),t.label=1;case 1:return i?[4,i]:[3,3];case 2:return t.sent(),i=this.next(i),[3,1];case 3:return[2]}})},e}();function q0(e,i,t,s){var n=s-t;if(n>0){var r=t+Math.floor(n/2),o=e[r],a=i[r],l=new aa(o,a);return l.left=q0(e,i,t,r),l.right=q0(e,i,r+1,s),l}return null}function GZ(e,i){for(var t=new aa(null,null),s=t,n=0;n<e.length;n++)s=s.next=new aa(e[n],i[n]);return s.next=null,t.next}function EZ(e){for(var i=e,t=[],s=!1,n=new aa(null,null),r=n;!s;)i?(t.push(i),i=i.left):t.length>0?(i=r=r.next=t.pop(),i=i.right):s=!0;return r.next=null,n.next}function $0(e,i,t){var s=t-i;if(s>0){var n=i+Math.floor(s/2),r=$0(e,i,n),o=e.head;return o.left=r,e.head=e.head.next,o.right=$0(e,n+1,t),o}return null}function CZ(e,i,t){for(var s=new aa(null,null),n=s,r=e,o=i;r!==null&&o!==null;)t(r.key,o.key)<0?(n.next=r,r=r.next):(n.next=o,o=o.next),n=n.next;return r!==null?n.next=r:o!==null&&(n.next=o),s.next}function ey(e,i,t,s,n){if(!(t>=s)){for(var r=e[t+s>>1],o=t-1,a=s+1;;){do o++;while(n(e[o],r)<0);do a--;while(n(e[a],r)>0);if(o>=a)break;var l=e[o];e[o]=e[a],e[a]=l,l=i[o],i[o]=i[a],i[a]=l}ey(e,i,t,a,n),ey(e,i,a+1,s,n)}}function jn(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function Ob(e,i){for(var t=0;t<i.length;t++){var s=i[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function ln(e,i,t){return i&&Ob(e.prototype,i),t&&Ob(e,t),e}var au=function(i,t){return i.ll.x<=t.x&&t.x<=i.ur.x&&i.ll.y<=t.y&&t.y<=i.ur.y},ty=function(i,t){if(t.ur.x<i.ll.x||i.ur.x<t.ll.x||t.ur.y<i.ll.y||i.ur.y<t.ll.y)return null;var s=i.ll.x<t.ll.x?t.ll.x:i.ll.x,n=i.ur.x<t.ur.x?i.ur.x:t.ur.x,r=i.ll.y<t.ll.y?t.ll.y:i.ll.y,o=i.ur.y<t.ur.y?i.ur.y:t.ur.y;return{ll:{x:s,y:r},ur:{x:n,y:o}}},ha=Number.EPSILON;ha===void 0&&(ha=Math.pow(2,-52));var RZ=ha*ha,iy=function(i,t){if(-ha<i&&i<ha&&-ha<t&&t<ha)return 0;var s=i-t;return s*s<RZ*i*t?0:i<t?-1:1},NZ=function(){function e(){jn(this,e),this.reset()}return ln(e,[{key:"reset",value:function(){this.xRounder=new zb,this.yRounder=new zb}},{key:"round",value:function(t,s){return{x:this.xRounder.round(t),y:this.yRounder.round(s)}}}]),e}(),zb=function(){function e(){jn(this,e),this.tree=new Q0,this.round(0)}return ln(e,[{key:"round",value:function(t){var s=this.tree.add(t),n=this.tree.prev(s);if(n!==null&&iy(s.key,n.key)===0)return this.tree.remove(t),n.key;var r=this.tree.next(s);return r!==null&&iy(s.key,r.key)===0?(this.tree.remove(t),r.key):t}}]),e}(),lu=new NZ,hu=function(i,t){return i.x*t.y-i.y*t.x},Wb=function(i,t){return i.x*t.x+i.y*t.y},Yb=function(i,t,s){var n={x:t.x-i.x,y:t.y-i.y},r={x:s.x-i.x,y:s.y-i.y},o=hu(n,r);return iy(o,0)},Ed=function(i){return Math.sqrt(Wb(i,i))},FZ=function(i,t,s){var n={x:t.x-i.x,y:t.y-i.y},r={x:s.x-i.x,y:s.y-i.y};return hu(r,n)/Ed(r)/Ed(n)},PZ=function(i,t,s){var n={x:t.x-i.x,y:t.y-i.y},r={x:s.x-i.x,y:s.y-i.y};return Wb(r,n)/Ed(r)/Ed(n)},kb=function(i,t,s){return t.y===0?null:{x:i.x+t.x/t.y*(s-i.y),y:s}},Ab=function(i,t,s){return t.x===0?null:{x:s,y:i.y+t.y/t.x*(s-i.x)}},wZ=function(i,t,s,n){if(t.x===0)return Ab(s,n,i.x);if(n.x===0)return Ab(i,t,s.x);if(t.y===0)return kb(s,n,i.y);if(n.y===0)return kb(i,t,s.y);var r=hu(t,n);if(r==0)return null;var o={x:s.x-i.x,y:s.y-i.y},a=hu(o,t)/r,l=hu(o,n)/r,h=i.x+l*t.x,c=s.x+a*n.x,u=i.y+l*t.y,p=s.y+a*n.y,d=(h+c)/2,T=(u+p)/2;return{x:d,y:T}},Dr=function(){ln(e,null,[{key:"compare",value:function(t,s){var n=e.comparePoints(t.point,s.point);return n!==0?n:(t.point!==s.point&&t.link(s),t.isLeft!==s.isLeft?t.isLeft?1:-1:Cd.compare(t.segment,s.segment))}},{key:"comparePoints",value:function(t,s){return t.x<s.x?-1:t.x>s.x?1:t.y<s.y?-1:t.y>s.y?1:0}}]);function e(i,t){jn(this,e),i.events===void 0?i.events=[this]:i.events.push(this),this.point=i,this.isLeft=t}return ln(e,[{key:"link",value:function(t){if(t.point===this.point)throw new Error("Tried to link already linked events");for(var s=t.point.events,n=0,r=s.length;n<r;n++){var o=s[n];this.point.events.push(o),o.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var t=this.point.events.length,s=0;s<t;s++){var n=this.point.events[s];if(n.segment.consumedBy===void 0)for(var r=s+1;r<t;r++){var o=this.point.events[r];o.consumedBy===void 0&&n.otherSE.point.events===o.otherSE.point.events&&n.segment.consume(o.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var t=[],s=0,n=this.point.events.length;s<n;s++){var r=this.point.events[s];r!==this&&!r.segment.ringOut&&r.segment.isInResult()&&t.push(r)}return t}},{key:"getLeftmostComparator",value:function(t){var s=this,n=new Map,r=function(a){var l=a.otherSE;n.set(a,{sine:FZ(s.point,t.point,l.point),cosine:PZ(s.point,t.point,l.point)})};return function(o,a){n.has(o)||r(o),n.has(a)||r(a);var l=n.get(o),h=l.sine,c=l.cosine,u=n.get(a),p=u.sine,d=u.cosine;return h>=0&&p>=0?c<d?1:c>d?-1:0:h<0&&p<0?c<d?-1:c>d?1:0:p<h?-1:p>h?1:0}}}]),e}(),XZ=0,Cd=function(){ln(e,null,[{key:"compare",value:function(t,s){var n=t.leftSE.point.x,r=s.leftSE.point.x,o=t.rightSE.point.x,a=s.rightSE.point.x;if(a<n)return 1;if(o<r)return-1;var l=t.leftSE.point.y,h=s.leftSE.point.y,c=t.rightSE.point.y,u=s.rightSE.point.y;if(n<r){if(h<l&&h<c)return 1;if(h>l&&h>c)return-1;var p=t.comparePoint(s.leftSE.point);if(p<0)return 1;if(p>0)return-1;var d=s.comparePoint(t.rightSE.point);return d!==0?d:-1}if(n>r){if(l<h&&l<u)return-1;if(l>h&&l>u)return 1;var T=s.comparePoint(t.leftSE.point);if(T!==0)return T;var g=t.comparePoint(s.rightSE.point);return g<0?1:g>0?-1:1}if(l<h)return-1;if(l>h)return 1;if(o<a){var I=s.comparePoint(t.rightSE.point);if(I!==0)return I}if(o>a){var v=t.comparePoint(s.rightSE.point);if(v<0)return 1;if(v>0)return-1}if(o!==a){var C=c-l,N=o-n,F=u-h,P=a-r;if(C>N&&F<P)return 1;if(C<N&&F>P)return-1}return o>a?1:o<a||c<u?-1:c>u?1:t.id<s.id?-1:t.id>s.id?1:0}}]);function e(i,t,s,n){jn(this,e),this.id=++XZ,this.leftSE=i,i.segment=this,i.otherSE=t,this.rightSE=t,t.segment=this,t.otherSE=i,this.rings=s,this.windings=n}return ln(e,[{key:"replaceRightSE",value:function(t){this.rightSE=t,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var t=this.leftSE.point.y,s=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:t<s?t:s},ur:{x:this.rightSE.point.x,y:t>s?t:s}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(t){return t.x===this.leftSE.point.x&&t.y===this.leftSE.point.y||t.x===this.rightSE.point.x&&t.y===this.rightSE.point.y}},{key:"comparePoint",value:function(t){if(this.isAnEndpoint(t))return 0;var s=this.leftSE.point,n=this.rightSE.point,r=this.vector();if(s.x===n.x)return t.x===s.x?0:t.x<s.x?1:-1;var o=(t.y-s.y)/r.y,a=s.x+o*r.x;if(t.x===a)return 0;var l=(t.x-s.x)/r.x,h=s.y+l*r.y;return t.y===h?0:t.y<h?-1:1}},{key:"getIntersection",value:function(t){var s=this.bbox(),n=t.bbox(),r=ty(s,n);if(r===null)return null;var o=this.leftSE.point,a=this.rightSE.point,l=t.leftSE.point,h=t.rightSE.point,c=au(s,l)&&this.comparePoint(l)===0,u=au(n,o)&&t.comparePoint(o)===0,p=au(s,h)&&this.comparePoint(h)===0,d=au(n,a)&&t.comparePoint(a)===0;if(u&&c)return d&&!p?a:!d&&p?h:null;if(u)return p&&o.x===h.x&&o.y===h.y?null:o;if(c)return d&&a.x===l.x&&a.y===l.y?null:l;if(d&&p)return null;if(d)return a;if(p)return h;var T=wZ(o,this.vector(),l,t.vector());return T===null||!au(r,T)?null:lu.round(T.x,T.y)}},{key:"split",value:function(t){var s=[],n=t.events!==void 0,r=new Dr(t,!0),o=new Dr(t,!1),a=this.rightSE;this.replaceRightSE(o),s.push(o),s.push(r);var l=new e(r,a,this.rings.slice(),this.windings.slice());return Dr.comparePoints(l.leftSE.point,l.rightSE.point)>0&&l.swapEvents(),Dr.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),n&&(r.checkForConsuming(),o.checkForConsuming()),s}},{key:"swapEvents",value:function(){var t=this.rightSE;this.rightSE=this.leftSE,this.leftSE=t,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var s=0,n=this.windings.length;s<n;s++)this.windings[s]*=-1}},{key:"consume",value:function(t){for(var s=this,n=t;s.consumedBy;)s=s.consumedBy;for(;n.consumedBy;)n=n.consumedBy;var r=e.compare(s,n);if(r!==0){if(r>0){var o=s;s=n,n=o}if(s.prev===n){var a=s;s=n,n=a}for(var l=0,h=n.rings.length;l<h;l++){var c=n.rings[l],u=n.windings[l],p=s.rings.indexOf(c);p===-1?(s.rings.push(c),s.windings.push(u)):s.windings[p]+=u}n.rings=null,n.windings=null,n.consumedBy=s,n.leftSE.consumedBy=s.leftSE,n.rightSE.consumedBy=s.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{var t=this.prev.consumedBy||this.prev;this._beforeState=t.afterState()}return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var t=this.beforeState();this._afterState={rings:t.rings.slice(0),windings:t.windings.slice(0),multiPolys:[]};for(var s=this._afterState.rings,n=this._afterState.windings,r=this._afterState.multiPolys,o=0,a=this.rings.length;o<a;o++){var l=this.rings[o],h=this.windings[o],c=s.indexOf(l);c===-1?(s.push(l),n.push(h)):n[c]+=h}for(var u=[],p=[],d=0,T=s.length;d<T;d++)if(n[d]!==0){var g=s[d],I=g.poly;if(p.indexOf(I)===-1)if(g.isExterior)u.push(I);else{p.indexOf(I)===-1&&p.push(I);var v=u.indexOf(g.poly);v!==-1&&u.splice(v,1)}}for(var C=0,N=u.length;C<N;C++){var F=u[C].multiPoly;r.indexOf(F)===-1&&r.push(F)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var t=this.beforeState().multiPolys,s=this.afterState().multiPolys;switch(yr.type){case"union":{var n=t.length===0,r=s.length===0;this._isInResult=n!==r;break}case"intersection":{var o,a;t.length<s.length?(o=t.length,a=s.length):(o=s.length,a=t.length),this._isInResult=a===yr.numMultiPolys&&o<a;break}case"xor":{var l=Math.abs(t.length-s.length);this._isInResult=l%2===1;break}case"difference":{var h=function(u){return u.length===1&&u[0].isSubject};this._isInResult=h(t)!==h(s);break}default:throw new Error("Unrecognized operation type found ".concat(yr.type))}return this._isInResult}}],[{key:"fromRing",value:function(t,s,n){var r,o,a,l=Dr.comparePoints(t,s);if(l<0)r=t,o=s,a=1;else if(l>0)r=s,o=t,a=-1;else throw new Error("Tried to create degenerate segment at [".concat(t.x,", ").concat(t.y,"]"));var h=new Dr(r,!0),c=new Dr(o,!1);return new e(h,c,[n],[a])}}]),e}(),Kb=function(){function e(i,t,s){if(jn(this,e),!Array.isArray(i)||i.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=t,this.isExterior=s,this.segments=[],typeof i[0][0]!="number"||typeof i[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var n=lu.round(i[0][0],i[0][1]);this.bbox={ll:{x:n.x,y:n.y},ur:{x:n.x,y:n.y}};for(var r=n,o=1,a=i.length;o<a;o++){if(typeof i[o][0]!="number"||typeof i[o][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var l=lu.round(i[o][0],i[o][1]);l.x===r.x&&l.y===r.y||(this.segments.push(Cd.fromRing(r,l,this)),l.x<this.bbox.ll.x&&(this.bbox.ll.x=l.x),l.y<this.bbox.ll.y&&(this.bbox.ll.y=l.y),l.x>this.bbox.ur.x&&(this.bbox.ur.x=l.x),l.y>this.bbox.ur.y&&(this.bbox.ur.y=l.y),r=l)}(n.x!==r.x||n.y!==r.y)&&this.segments.push(Cd.fromRing(r,n,this))}return ln(e,[{key:"getSweepEvents",value:function(){for(var t=[],s=0,n=this.segments.length;s<n;s++){var r=this.segments[s];t.push(r.leftSE),t.push(r.rightSE)}return t}}]),e}(),DZ=function(){function e(i,t){if(jn(this,e),!Array.isArray(i))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Kb(i[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var s=1,n=i.length;s<n;s++){var r=new Kb(i[s],this,!1);r.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=r.bbox.ll.x),r.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=r.bbox.ll.y),r.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=r.bbox.ur.x),r.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=r.bbox.ur.y),this.interiorRings.push(r)}this.multiPoly=t}return ln(e,[{key:"getSweepEvents",value:function(){for(var t=this.exteriorRing.getSweepEvents(),s=0,n=this.interiorRings.length;s<n;s++)for(var r=this.interiorRings[s].getSweepEvents(),o=0,a=r.length;o<a;o++)t.push(r[o]);return t}}]),e}(),Zb=function(){function e(i,t){if(jn(this,e),!Array.isArray(i))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof i[0][0][0]=="number"&&(i=[i])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var s=0,n=i.length;s<n;s++){var r=new DZ(i[s],this);r.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=r.bbox.ll.x),r.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=r.bbox.ll.y),r.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=r.bbox.ur.x),r.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=r.bbox.ur.y),this.polys.push(r)}this.isSubject=t}return ln(e,[{key:"getSweepEvents",value:function(){for(var t=[],s=0,n=this.polys.length;s<n;s++)for(var r=this.polys[s].getSweepEvents(),o=0,a=r.length;o<a;o++)t.push(r[o]);return t}}]),e}(),OZ=function(){ln(e,null,[{key:"factory",value:function(t){for(var s=[],n=0,r=t.length;n<r;n++){var o=t[n];if(!(!o.isInResult()||o.ringOut)){for(var a=null,l=o.leftSE,h=o.rightSE,c=[l],u=l.point,p=[];a=l,l=h,c.push(l),l.point!==u;)for(;;){var d=l.getAvailableLinkedEvents();if(d.length===0){var T=c[0].point,g=c[c.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(T.x,",")+" ".concat(T.y,"]. Last matching segment found ends at")+" [".concat(g.x,", ").concat(g.y,"]."))}if(d.length===1){h=d[0].otherSE;break}for(var I=null,v=0,C=p.length;v<C;v++)if(p[v].point===l.point){I=v;break}if(I!==null){var N=p.splice(I)[0],F=c.splice(N.index);F.unshift(F[0].otherSE),s.push(new e(F.reverse()));continue}p.push({index:c.length,point:l.point});var P=l.getLeftmostComparator(a);h=d.sort(P)[0].otherSE;break}s.push(new e(c))}}return s}}]);function e(i){jn(this,e),this.events=i;for(var t=0,s=i.length;t<s;t++)i[t].segment.ringOut=this;this.poly=null}return ln(e,[{key:"getGeom",value:function(){for(var t=this.events[0].point,s=[t],n=1,r=this.events.length-1;n<r;n++){var o=this.events[n].point,a=this.events[n+1].point;Yb(o,t,a)!==0&&(s.push(o),t=o)}if(s.length===1)return null;var l=s[0],h=s[1];Yb(l,t,h)===0&&s.shift(),s.push(s[0]);for(var c=this.isExteriorRing()?1:-1,u=this.isExteriorRing()?0:s.length-1,p=this.isExteriorRing()?s.length:-1,d=[],T=u;T!=p;T+=c)d.push([s[T].x,s[T].y]);return d}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var t=this.enclosingRing();this._isExteriorRing=t?!t.isExteriorRing():!0}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var t=this.events[0],s=1,n=this.events.length;s<n;s++){var r=this.events[s];Dr.compare(t,r)>0&&(t=r)}for(var o=t.segment.prevInResult(),a=o?o.prevInResult():null;;){if(!o)return null;if(!a)return o.ringOut;if(a.ringOut!==o.ringOut)return a.ringOut.enclosingRing()!==o.ringOut?o.ringOut:o.ringOut.enclosingRing();o=a.prevInResult(),a=o?o.prevInResult():null}}}]),e}(),Hb=function(){function e(i){jn(this,e),this.exteriorRing=i,i.poly=this,this.interiorRings=[]}return ln(e,[{key:"addInterior",value:function(t){this.interiorRings.push(t),t.poly=this}},{key:"getGeom",value:function(){var t=[this.exteriorRing.getGeom()];if(t[0]===null)return null;for(var s=0,n=this.interiorRings.length;s<n;s++){var r=this.interiorRings[s].getGeom();r!==null&&t.push(r)}return t}}]),e}(),zZ=function(){function e(i){jn(this,e),this.rings=i,this.polys=this._composePolys(i)}return ln(e,[{key:"getGeom",value:function(){for(var t=[],s=0,n=this.polys.length;s<n;s++){var r=this.polys[s].getGeom();r!==null&&t.push(r)}return t}},{key:"_composePolys",value:function(t){for(var s=[],n=0,r=t.length;n<r;n++){var o=t[n];if(!o.poly)if(o.isExteriorRing())s.push(new Hb(o));else{var a=o.enclosingRing();a.poly||s.push(new Hb(a)),a.poly.addInterior(o)}}return s}}]),e}(),WZ=function(){function e(i){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cd.compare;jn(this,e),this.queue=i,this.tree=new Q0(t),this.segments=[]}return ln(e,[{key:"process",value:function(t){var s=t.segment,n=[];if(t.consumedBy)return t.isLeft?this.queue.remove(t.otherSE):this.tree.remove(s),n;var r=t.isLeft?this.tree.insert(s):this.tree.find(s);if(!r)throw new Error("Unable to find segment #".concat(s.id," ")+"[".concat(s.leftSE.point.x,", ").concat(s.leftSE.point.y,"] -> ")+"[".concat(s.rightSE.point.x,", ").concat(s.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var o=r,a=r,l=void 0,h=void 0;l===void 0;)o=this.tree.prev(o),o===null?l=null:o.key.consumedBy===void 0&&(l=o.key);for(;h===void 0;)a=this.tree.next(a),a===null?h=null:a.key.consumedBy===void 0&&(h=a.key);if(t.isLeft){var c=null;if(l){var u=l.getIntersection(s);if(u!==null&&(s.isAnEndpoint(u)||(c=u),!l.isAnEndpoint(u)))for(var p=this._splitSafely(l,u),d=0,T=p.length;d<T;d++)n.push(p[d])}var g=null;if(h){var I=h.getIntersection(s);if(I!==null&&(s.isAnEndpoint(I)||(g=I),!h.isAnEndpoint(I)))for(var v=this._splitSafely(h,I),C=0,N=v.length;C<N;C++)n.push(v[C])}if(c!==null||g!==null){var F=null;if(c===null)F=g;else if(g===null)F=c;else{var P=Dr.comparePoints(c,g);F=P<=0?c:g}this.queue.remove(s.rightSE),n.push(s.rightSE);for(var w=s.split(F),O=0,X=w.length;O<X;O++)n.push(w[O])}n.length>0?(this.tree.remove(s),n.push(t)):(this.segments.push(s),s.prev=l)}else{if(l&&h){var K=l.getIntersection(h);if(K!==null){if(!l.isAnEndpoint(K))for(var ee=this._splitSafely(l,K),ce=0,me=ee.length;ce<me;ce++)n.push(ee[ce]);if(!h.isAnEndpoint(K))for(var ae=this._splitSafely(h,K),oe=0,Se=ae.length;oe<Se;oe++)n.push(ae[oe])}}this.tree.remove(s)}return n}},{key:"_splitSafely",value:function(t,s){this.tree.remove(t);var n=t.rightSE;this.queue.remove(n);var r=t.split(s);return r.push(n),t.consumedBy===void 0&&this.tree.insert(t),r}}]),e}(),Ub=typeof process<"u"&&process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,YZ=typeof process<"u"&&process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,kZ=function(){function e(){jn(this,e)}return ln(e,[{key:"run",value:function(t,s,n){yr.type=t,lu.reset();for(var r=[new Zb(s,!0)],o=0,a=n.length;o<a;o++)r.push(new Zb(n[o],!1));if(yr.numMultiPolys=r.length,yr.type==="difference")for(var l=r[0],h=1;h<r.length;)ty(r[h].bbox,l.bbox)!==null?h++:r.splice(h,1);if(yr.type==="intersection"){for(var c=0,u=r.length;c<u;c++)for(var p=r[c],d=c+1,T=r.length;d<T;d++)if(ty(p.bbox,r[d].bbox)===null)return[]}for(var g=new Q0(Dr.compare),I=0,v=r.length;I<v;I++)for(var C=r[I].getSweepEvents(),N=0,F=C.length;N<F;N++)if(g.insert(C[N]),g.size>Ub)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var P=new WZ(g),w=g.size,O=g.pop();O;){var X=O.key;if(g.size===w){var K=X.segment;throw new Error("Unable to pop() ".concat(X.isLeft?"left":"right"," SweepEvent ")+"[".concat(X.point.x,", ").concat(X.point.y,"] from segment #").concat(K.id," ")+"[".concat(K.leftSE.point.x,", ").concat(K.leftSE.point.y,"] -> ")+"[".concat(K.rightSE.point.x,", ").concat(K.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(g.size>Ub)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(P.segments.length>YZ)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var ee=P.process(X),ce=0,me=ee.length;ce<me;ce++){var ae=ee[ce];ae.consumedBy===void 0&&g.insert(ae)}w=g.size,O=g.pop()}lu.reset();var oe=OZ.factory(P.segments),Se=new zZ(oe);return Se.getGeom()}}]),e}(),yr=new kZ,AZ=function(i){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];return yr.run("union",i,s)},KZ=function(i){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];return yr.run("intersection",i,s)},ZZ=function(i){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];return yr.run("xor",i,s)},HZ=function(i){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];return yr.run("difference",i,s)},UZ={union:AZ,intersection:KZ,xor:ZZ,difference:HZ},_Z=UZ;function VZ(e,i,t){t===void 0&&(t={});var s=Xb(e),n=Xb(i),r=_Z.intersection(s.coordinates,n.coordinates);return r.length===0?null:r.length===1?j0(r[0],t.properties):IZ(r,t.properties)}var jZ=Object.defineProperty,_b=Object.getOwnPropertySymbols,BZ=Object.prototype.hasOwnProperty,JZ=Object.prototype.propertyIsEnumerable,Vb=(e,i,t)=>i in e?jZ(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,QZ=(e,i)=>{for(var t in i||(i={}))BZ.call(i,t)&&Vb(e,t,i[t]);if(_b)for(var t of _b(i))JZ.call(i,t)&&Vb(e,t,i[t]);return e},Bn=(e,i,t)=>new Promise((s,n)=>{var r=l=>{try{a(t.next(l))}catch(h){n(h)}},o=l=>{try{a(t.throw(l))}catch(h){n(h)}},a=l=>l.done?s(l.value):Promise.resolve(l.value).then(r,o);a((t=t.apply(e,i)).next())});class qZ{constructor(i){this.earthRadius=6378137,this.earthCircumference=Math.PI*2*this.earthRadius,this.tileSize={x:256,y:256},this.gridSize={x:9,y:9},this.gridCenter={x:0,y:0,z:0},this.minZoom=14,this.maxZoom=19,this.tiles={},this.cache={},this.cacheSize=150,this.layers=[],this.group=new Vs,this.updateCounter=0,this.updateInProgress=!1,this.lastCameraPosition=new H,this.pickPlane=new us,this.maxRecursionDepth=2,this.firstUpdate=!0,this.referenceFrame=i.referenceFrame,this.scene=i.scene,this.scene.add(this.group),this.wgs84="+proj=longlat +datum=WGS84 +no_defs",this.proj4="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +no_defs",this.pickPlane.setFromNormalAndCoplanarPoint(new H(0,0,1),new H(0,0,0))}init(i){return Bn(this,null,function*(){this.proj4=i.proj4?i.proj4:"+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +no_defs",this.gridSize=i.gridSize?i.gridSize:this.gridSize,this.gridCenter=i.gridCenter,this.minZoom=i.minZoom?i.minZoom:this.minZoom,this.maxZoom=i.maxZoom?i.maxZoom:this.maxZoom})}isVisible(i){const t=this.layers.find(s=>s.url===i);return t?t.visible:!1}setVisibility(i,t){this.layers=this.layers.map(s=>(s.url===i&&(s.visible=t),s)),this.refresh()}hasVisibleLayers(){return this.layers.filter(i=>i.visible).length>0}setOffset(i){this.group.position.copy(i),this.pickPlane.setFromNormalAndCoplanarPoint(new H(0,0,1),new H(i.x,i.y,i.z))}addLayer(i,t){this.layers.find(s=>i===s.url)||(this.layers.unshift(QZ({url:i,visible:!0},t)),this.refresh())}removeLayer(i){this.layers=this.layers.filter(t=>i!==t.url),this.refresh()}setLayerIndex(i,t){const s=this.layers.map(r=>r.url).indexOf(i);if(!s){console.warn("setUrlIndex: url not found:",i);return}const n=this.layers.splice(s,1)[0];this.layers.splice(t,0,n),this.refresh()}updateMeshTexture(i){return Bn(this,null,function*(){const t=this.tileCoordsToKey(i),s=this.tiles[t];if(!s||!s.mesh)return;s.isLoading=!0;const n=yield this.getTexture(i);if(!s.mesh){n&&n.dispose(),s.isLoading=!1;return}s.mesh.material.map&&s.mesh.material.map.dispose(),s.mesh.material.map=n,s.mesh.material.needsUpdate=!0,s.mesh.visible=!0,s.isLoading=!1})}refresh(i){return Bn(this,null,function*(){this.hasVisibleLayers()?this.group.visible=!0:this.group.visible=!1;let t;i?t=i:(t=Object.keys(this.tiles),t.sort((n,r)=>this.tiles[n].lastDistance-this.tiles[r].lastDistance));const s=[];for(const n of t){const r=this.tiles[n];if(!r||!r.inView)continue;const o=this.keyToTileCoords(n);s.push(this.updateMeshTexture(o))}yield Promise.all(s)})}getFromCache(i){return this.cache[this.tileCoordsToKey(i)]}putToCache(i){var t;const s=this.tileCoordsToKey(i),n=this.tiles[s];if(!(!n||!n.mesh)){if(this.cache[s]){this.cache[s].touched=Date.now();return}this.cache[s]={bounds:n.bounds,projBounds:n.projBounds,touched:Date.now(),needsUpdate:!1,isLoading:!1,isRemoving:!1,lastDistance:Number.MAX_SAFE_INTEGER,inView:!1,mesh:(t=n.mesh)==null?void 0:t.clone()},this.purgeCache(this.cacheSize)}}purgeCache(i){const t=Object.keys(this.cache),s=t.length-i;if(!(s<=0)){console.log("purging",s),t.sort((n,r)=>this.cache[n].touched-this.cache[r].touched);for(let n=0;n<s;n++){const r=t[n],o=this.cache[r];if(!o)continue;const a=o.mesh;a&&(a.geometry.dispose(),a.material.dispose()),delete this.cache[r]}}}removeTile(i){if(i.z<=this.minZoom&&!this.hasChildren(i)){console.warn("Tried to remove root tile without children",i);return}const t=this.tileCoordsToKey(i);if(!this.tiles[t])return;let s=this.group.getObjectByName(`tms-tile-${t}`);s&&(this.group.remove(s),s.geometry.dispose(),s.material.dispose(),s=void 0),delete this.tiles[t]}getParentCoords(i){const t=i.x%2===0?i.x:i.x-1,s=i.y%2===0?i.y:i.y-1,n=i.z-1;return{x:t/2,y:s/2,z:n}}hasChildren(i){const t=this.getChildCoords(i);for(const s of t){const n=this.tileCoordsToKey(s);if(this.tiles[n])return!0}return!1}getChildCoords(i){const t=[],s=i.x*2,n=i.y*2,r=i.z+1;for(let o=0;o<2;o++)for(let a=0;a<2;a++){const l={x:s+o,y:n+a,z:r};t.push(l)}return t}replaceWithChildren(i,t){return Bn(this,null,function*(){const s=this.getChildCoords(i);yield this.createTiles(s,t),this.removeTile(i)})}getSiblings(i){const t=this.getParentCoords(i);return this.getChildCoords(t)}recursiveMerge(i,t){return Bn(this,null,function*(){let s=!1;(i.z<=this.minZoom||t===0)&&(s=!0);const n=this.getSiblings(i);if(!s){for(const o of n)if(this.hasChildren(o)){s=!0;break}}if(s){yield this.createTiles([i],!1);return}for(const o of n)this.removeTile(o);const r=this.getParentCoords(i);yield this.recursiveMerge(r,t-1)})}recursiveSplit(i,t){return Bn(this,null,function*(){if(!(i.z>this.maxZoom)&&(yield this.replaceWithChildren(i,t>1),t>1)){const s=this.getChildCoords(i);for(const n of s)yield this.recursiveSplit(n,t-1)}})}update(i,t){return Bn(this,null,function*(){if(!this.referenceFrame)return;const s=this.lastCameraPosition.distanceTo(t.position);if(this.updateCounter+=i,!this.firstUpdate&&(this.updateCounter<5||this.updateInProgress||s<1))return;this.firstUpdate=!1,this.lastCameraPosition.copy(t.position);const n=new iu(t.getWorldPosition(new H),t.getWorldDirection(new H)).ray.intersectPlane(this.pickPlane,new H);this.updateCounter=0,this.updateInProgress=!0;const r=Object.keys(this.tiles);r.length===0&&this.layers.length>0&&(yield this.createBaseGrid()),t.updateProjectionMatrix();const o=new Vc,a=new pt().multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse);o.setFromProjectionMatrix(a);const l=this.referenceFrame.toGeo(t.position),h=yield Qs.projectPoints([[l.x,l.y,l.z]],this.proj4,this.wgs84);r.sort((d,T)=>this.keyToTileCoords(T).z-this.keyToTileCoords(d).z);const c=[];for(const d of r){const T=this.tiles[d];if(!T||!T.mesh)continue;const g=T.mesh,I=t.position.distanceTo(g.geometry.boundingSphere.center);if(T.lastDistance=I,o.intersectsObject(g)||this.bboxInFrustum(o,g.geometry.boundingBox)){const v=this.keyToTileCoords(d);let C=I-g.geometry.boundingSphere.radius;const N=this.zoom(h[0][1],C>0?C:0)-v.z;N>0&&(yield this.recursiveSplit(v,N<this.maxRecursionDepth?N:this.maxRecursionDepth)),T.inView=!0}else c.push(d),T.inView=!1}for(const d of c){if(!this.tiles[d])continue;const T=this.keyToTileCoords(d);yield this.recursiveMerge(T,this.maxRecursionDepth)}let u=Object.keys(this.tiles);n?u.sort((d,T)=>{const g=this.tiles[d].mesh,I=this.tiles[T].mesh;return!g||!I?-1:g.position.distanceToSquared(n)-I.position.distanceToSquared(n)}):u.sort((d,T)=>this.keyToTileCoords(d).z-this.keyToTileCoords(T).z);let p=this.cleanParentTiles(u);yield this.refresh(p),this.updateInProgress=!1})}cleanParentTiles(i){let t=[];for(const s of i){const n=this.keyToTileCoords(s);this.hasChildren(n)?this.removeTile(n):t.push(s)}return t}createBaseGrid(){return Bn(this,null,function*(){const i=yield Qs.projectPoints([[this.gridCenter.x,this.gridCenter.y,this.gridCenter.z]],this.proj4,this.wgs84),t=this.minZoom,s=this.coordToTile(i[0][0],i[0][1],t),n=[];for(let r=-this.gridSize.x;r<this.gridSize.x;r++)for(let o=-this.gridSize.y;o<this.gridSize.y;o++){const a={x:s.x+r,y:s.y+o,z:s.z};n.push(a)}n.sort((r,o)=>this.tileDistanceSquared(r,s)-this.tileDistanceSquared(o,s)),yield this.createTiles(n,!1),yield this.refresh(n.map(r=>this.tileCoordsToKey(r)))})}createTiles(i,t){return Bn(this,null,function*(){for(const s of i){const n=this.tileCoordsToKey(s);if(this.tiles[n]&&this.tiles[n].isLoading)continue;if(this.tiles[n]){this.tiles[n].touched=Date.now();continue}const r=this.tileToBounds(s);let o=this.group.getObjectByName(`tms-tile-${n}`);if(o){this.group.remove(o),o.material.dispose(),o.geometry.dispose(),o=void 0;continue}const a=r[0],l=r[1],h=[[a[0],a[1]],[l[0],a[1]],[l[0],l[1]],[a[0],l[1]]],c=yield Qs.projectPoints(h,this.wgs84,this.proj4);if(this.tiles[n]={bounds:h,projBounds:c,needsUpdate:!0,isLoading:!0,isRemoving:!1,touched:Date.now(),lastDistance:0,inView:!0},!t){let u=yield this.createTileMesh(s,this.tiles[n]);this.tiles[n]&&u?(this.tiles[n].mesh=u,this.group.add(u)):(u.geometry.dispose(),u.material.dispose(),u=void 0)}this.tiles[n]&&(this.tiles[n].isLoading=!1)}})}bboxInFrustum(i,t){const s=t.min,n=t.max,r=new H(s.x,n.y,this.group.position.z),o=new H(n.x,s.y,this.group.position.z);return!!(i.containsPoint(s)||i.containsPoint(n)||i.containsPoint(r)||i.containsPoint(o))}tileDistanceSquared(i,t){return(t.x-i.x)*(t.x-i.x)+(t.y-i.y)*(t.y-i.y)}createTileMesh(i,t){return Bn(this,null,function*(){if(!this.referenceFrame)return;let s=[];for(const p of t.projBounds){const d=this.referenceFrame.toScene({x:p[0],y:p[1],z:0});s.push(d.x),s.push(d.y),s.push(d.z)}const n=[0,1,1,1,1,0,0,0],r=[0,2,1,0,3,2],o=new Float32Array(s),a=new Float32Array(n),l=new Uint32Array(r),h=new Yt;h.setAttribute("position",new Gt(o,3)),h.setAttribute("uv",new Gt(a,2)),h.setIndex(new Gt(l,1)),h.computeBoundingBox(),h.computeBoundingSphere(),h.computeVertexNormals();const c=new Uc({wireframe:!1,transparent:!0}),u=new fi(h,c);return u.visible=!1,u.up.set(0,0,1),u.userData.coords=i,u.userData.key=this.tileCoordsToKey(i),u.name=`tms-tile-${this.tileCoordsToKey(i)}`,u})}loadImage(i){return Bn(this,null,function*(){return new Promise(t=>{const s=new Image;s.crossOrigin="Anonymous",s.onload=()=>t(s),s.onerror=()=>t(void 0),s.src=i})})}isTileInsideBounds(i,t){const s=h=>{const c=h[0],u=h[1];return[[c[0],c[1]],[u[0],c[1]],[u[0],u[1]],[c[0],u[1]],[c[0],c[1]]]},n=this.tileToBounds(i),r=s(n),o=s(t),a=j0([r]),l=j0([o]);return VZ(l,a)!==null}getTexture(i){return Bn(this,null,function*(){const t=document.createElement("canvas");t.width=this.tileSize.x,t.height=this.tileSize.y;const s=t.getContext("2d");if(!s)throw new Error("Failed to get context");const n=new wg(t),r=[];for(const a of this.layers){if(!a.visible||a.bounds&&!this.isTileInsideBounds(i,a.bounds))continue;let l=a.url.includes("${z}")?"$":"",h=i.y.toString();a.isTms||(h=Math.floor(Math.pow(2,i.z)-i.y-1).toString());const c=a.url.replace(`${l}{z}`,i.z.toString()).replace(`${l}{x}`,i.x.toString()).replace(`${l}{y}`,h);r.push(this.loadImage(c))}let o;try{o=yield Promise.all(r)}catch{}if(o)for(const a of o)!a||s.drawImage(a,0,0);return n.needsUpdate=!0,n})}dispose(){for(const i in this.tiles){let t=this.group.getObjectByName(`tms-tile-${i}`);t&&(this.group.remove(t),t.geometry.dispose(),t.material.dispose(),t=void 0),delete this.tiles[i]}this.scene.remove(this.group)}tileCoordsToKey(i){return`${i.x}:${i.y}:${i.z}`}keyToTileCoords(i){const t=i.split(":").map(s=>parseInt(s,10));return{x:t[0],y:t[1],z:t[2]}}zoom(i,t){const s=this.earthCircumference*Math.cos(i*Math.PI/180)/t,n=Math.ceil(Math.log2(s));return n<this.minZoom?this.minZoom:n>this.maxZoom?this.maxZoom:n}coordToTile(i,t,s){const n=Math.pow(2,s),r=t*Math.PI/180,o=Math.floor(n*((i+180)/360)),a=Math.floor(n*(1-Math.log(Math.tan(r)+1/Math.cos(r))/Math.PI)/2);return{x:o,y:Math.floor(Math.pow(2,s)-a-1),z:s}}tileToLng(i,t){return i/Math.pow(2,t)*360-180}tileToLat(i,t,s=!0){let n=i;s&&(n=Math.floor(Math.pow(2,t)-n-1));const r=Math.PI-2*Math.PI*n/Math.pow(2,t);return 180/Math.PI*Math.atan(.5*(Math.exp(r)-Math.exp(-r)))}tileToBounds(i){const t=Math.floor(Math.pow(2,i.z)-i.y-1),s=this.tileToLng(i.x,i.z),n=this.tileToLng(i.x+1,i.z),r=this.tileToLat(t,i.z,!1),o=this.tileToLat(t+1,i.z,!1);return[[s,r],[n,o]]}}var $Z=Object.defineProperty,jb=Object.getOwnPropertySymbols,eH=Object.prototype.hasOwnProperty,tH=Object.prototype.propertyIsEnumerable,Bb=(e,i,t)=>i in e?$Z(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,iH=(e,i)=>{for(var t in i||(i={}))eH.call(i,t)&&Bb(e,t,i[t]);if(jb)for(var t of jb(i))tH.call(i,t)&&Bb(e,t,i[t]);return e};class sH{constructor(i){this.events=new as,this.height=2,this.scene=i.scene,this.domEl=i.domEl,this.picker=i.picker;const t=new N0(1.25,this.height,24),s=this.getMaterial();this.mesh=new fi(t,s),this.mesh.rotation.set(-Math.PI/2,0,0),this.mesh.up.set(0,0,1),this.handleOrbitPointUpdate=this.handleOrbitPointUpdate.bind(this),this.domEl.addEventListener(Ye.UpdateOrbitPoint,this.handleOrbitPointUpdate,!1),this.events.dispatch(Ye.RegisterUpdateHook,{fn:this.update.bind(this)},this.domEl)}getMaterial(){const i={vertexShader:`
        void main() {
          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
        }
      `,fragmentShader:`
        uniform float opacity;
        uniform vec3 color;

        void main() {
          gl_FragColor.rgb = color;
          gl_FragColor.a = opacity;
        }
      `,uniforms:{opacity:{type:"f",value:.6},color:new ll(new ge(15886354))}};return new fs(iH({side:ds,transparent:!0,depthWrite:!1,depthTest:!1,clipping:!1},i))}calculateScale(i,t,s,n){const r=this.domEl.clientHeight,o=this.picker.camera.position.distanceTo(i),a=this.picker.camera.fov*Math.PI/180,l=2*Math.tan(a/2)*o,h=t/l*r;return h<s?s/h:h>=n?n/h:1}getPosition(){return this.mesh.position.clone()}update(i){if(!this.timeoutId)return;const t=this.calculateScale(this.mesh.position,this.height,25,30);this.mesh.scale.set(t,t,t)}handleOrbitPointUpdate(i){this.timeoutId?(clearTimeout(this.timeoutId),this.timeoutId=void 0):this.scene.add(this.mesh),this.mesh.position.copy(i.detail.point);const t=this.calculateScale(this.mesh.position,this.height,25,30);this.mesh.scale.set(t,t,t),this.mesh.position.z+=t*this.height/2,this.timeoutId=setTimeout(()=>{this.scene.remove(this.mesh),this.timeoutId=void 0},1500)}dispose(){this.domEl.removeEventListener(Ye.UpdateOrbitPoint,this.handleOrbitPointUpdate,!1),this.scene.remove(this.mesh),this.mesh.material.dispose(),this.mesh.geometry.dispose()}}var Rd=(e,i,t)=>new Promise((s,n)=>{var r=l=>{try{a(t.next(l))}catch(h){n(h)}},o=l=>{try{a(t.throw(l))}catch(h){n(h)}},a=l=>l.done?s(l.value):Promise.resolve(l.value).then(r,o);a((t=t.apply(e,i)).next())});class Jb{constructor(i){this.raycastDelta=0,this.updateHooks=[],this.fog=new S0(3953270,1e4,14e3),this.scene=i.scene,this.camera=i.camera,this.renderer=i.renderer,this.domEl=i.domEl,this.queryParams=i.queryParams,this.sceneStatic=new ur,this.sceneStatic.fog=this.fog,this.scenePointCloud=new ur,this.scenePickable=new ur,this.sceneLabels=new ur,this.referenceFrame=typeof i.referenceFrame<"u"?i.referenceFrame:new ib({domEl:this.domEl}),this.mouse=new ht,this.events=new as,this.raycastActive=!0,this.raycaster=new iu,this.raycaster.near=.01,this.raycaster.far=15e3,this.raycaster.params={Mesh:{},Line:{threshold:10},Line2:{threshold:10},LOD:{},Points:{threshold:1},Sprite:{}},this.dragActive=!1,this.mouseDownActive=!1,this.touchDownActive=!1,this.picker=new Pb({mouse:this.mouse,domEl:this.domEl,camera:this.camera,scenePointcloud:this.scenePointCloud,scenePickable:this.scenePickable,sceneStatic:this.sceneLabels,modules:this}),this.binds(),this.addListeners(),this.mouseDownRightStarted=Date.now(),this.mouseDownLeftStarted=Date.now(),this.disposeCount={geometry:0,material:0,pcoGeometry:0,points:0,nodes:0},this.orbitPoint=new sH({scene:this.sceneLabels,domEl:this.domEl,picker:this.picker})}setupLights(i,t=.8){const s=new kg(16772863,t);s.position.set(1,1,1),i.add(s);const n=new kg(16777215,t);n.position.set(-1,.5,-1),i.add(n);const r=new MA(16777198,.25);i.add(r)}render(i){if(!this.freezeRenderAndUpdate){this.renderer.clear();for(const t of i){const{camera:s,x:n,y:r,width:o,height:a}=t;this.renderer.setScissor(n,r,o,a),this.renderer.render(this.scene,s),this.renderer.render(this.sceneStatic,s),this.pointclouds&&this.pointclouds.render(this.renderer,this.scenePointCloud,s),this.renderer.render(this.scenePickable,s),this.renderer.render(this.sceneLabels,s)}}}raycast(){const i=new ht(this.mouse.x/this.domEl.clientWidth*2-1,-(this.mouse.y/this.domEl.clientHeight)*2+1);return this.raycaster.setFromCamera(i,this.camera),this.raycaster.intersectObjects(this.scenePickable.children,!0)}disposeMaterial(i){!i||(i.map&&i.map.dispose&&i.map.dispose(),i.lightMap&&i.lightMap.dispose&&i.lightMap.dispose(),i.bumpMap&&i.bumpMap.dispose&&i.bumpMap.dispose(),i.normalMap&&i.normalMap.dispose&&i.normalMap.dispose(),i.specularMap&&i.specularMap.dispose&&i.specularMap.dispose(),i.envMap&&i.envMap.dispose&&i.envMap.dispose(),i&&i.dispose&&(i==null||i.dispose()))}recursiveRemove(i){if(Array.isArray(i))for(const t of i)for(;t.children.length>0;)t.children[0].children.length>0&&this.recursiveRemove(t.children[0].children),t.remove(t.children[0]),this.disposeCount.nodes++;else for(;i.children.length>0;)i.children[0].children.length>0&&this.recursiveRemove(i.children[0].children),i.remove(i.children[0]),this.disposeCount.nodes++}disposeScene(i){if(!i)return;let t=[];i.traverse(s=>{var n;let r=!1;s.ifcManager&&(t.push(s),r=!0),r||(s.geometry&&s.geometry.dispose&&(s.geometry.dispose(),s.geometry=void 0,this.disposeCount.geometry++),s.pcoGeometry&&this.disposeCount.pcoGeometry++,s.type==="Points"&&this.disposeCount.points++,s.material&&(this.disposeMaterial(s.material),s.material=void 0,this.disposeCount.material++),s.texture&&s.texture.dispose&&((n=s.texture)==null||n.dispose(),s.texture=void 0))}),i&&this.recursiveRemove(i);for(const s of t)s.ifcManager.dispose()}dispose(){this.freezeRenderAndUpdate=!0,this.disposeCount={geometry:0,material:0,pcoGeometry:0,points:0,nodes:0},this.hoveredElement&&(this.hoveredElement.material.dispose(),this.hoveredElement.geometry.dispose(),this.hoveredElement=void 0),this.orbitPoint.dispose(),this.pointclouds&&(this.pointclouds.dispose(),this.pointclouds=void 0),this.photoSpheres&&(this.photoSpheres.dispose(),this.photoSpheres=void 0),this.disposeScene(this.scene),this.disposeScene(this.scenePointCloud),this.disposeScene(this.scenePickable),this.disposeScene(this.sceneLabels),this.disposeScene(this.sceneStatic),this.renderer.dispose(),this.renderer.forceContextLoss(),this.removeListeners()}handleRegisterUpdateHook(i){this.registerUpdateHook(i.detail.fn)}registerUpdateHook(i){this.updateHooks.push(i)}update(i){if(!this.freezeRenderAndUpdate){this.pointclouds&&this.pointclouds.update(),this.photoSpheres&&this.photoSpheres.update(),this.tmsProvider&&this.tmsProvider.update(i,this.camera);for(let t of this.updateHooks)t(i);if(this.raycastActive&&!this.disableRaycast&&!this.mouseDownActive&&!this.touchDownActive){if(this.raycastDelta+=i,this.raycastDelta<.1)return;this.raycastDelta=0;const t=this.raycast(),s=t?t.filter(n=>n.object.userData.isInteractive||n.object.userData.isMetaDataEnabled):[];if(s.length>0){const n=s[0].object;this.hoveredElement!==void 0&&this.hoveredElement.uuid!==n.uuid&&(this.hoveredElement.dispatchEvent({type:"hover_out"}),this.hoveredElement=void 0),!n.userData.hoverActive&&n.visible&&(n.parent&&n.parent.visible||!n.parent)&&(n.dispatchEvent({type:"hover_in"}),this.hoveredElement=n)}else this.hoveredElement!==void 0&&(this.hoveredElement.dispatchEvent({type:"hover_out"}),this.hoveredElement=void 0);this.picker.hoveredObject=this.hoveredElement}}}loadPhotoSpheres(i,t){return Rd(this,null,function*(){return typeof this.photoSpheres>"u"&&(this.photoSpheres=new $g({scene:this.scenePickable,sceneLabels:this.sceneLabels,domEl:this.domEl,mouse:this.mouse,camera:this.camera,referenceFrame:this.referenceFrame,disablePhotoNavigation:t==null?void 0:t.disablePhotoNavigation,navigationFootprintOffsetZ:t==null?void 0:t.navigationFootprintOffsetZ})),yield this.photoSpheres.load(i,t)})}addPointcloud(i){return Rd(this,null,function*(){return typeof this.pointclouds>"u"&&this.createPointcloudModule(),yield this.pointclouds.addPointcloud(i)})}createPointcloudModule(){this.pointclouds=new Rb({scene:this.scenePointCloud,camera:this.camera,renderer:this.renderer,domEl:this.domEl,referenceFrame:this.referenceFrame})}loadPointcloud(i){return Rd(this,arguments,function*(t,s={}){return typeof this.pointclouds>"u"&&this.createPointcloudModule(),yield this.pointclouds.loadInternal(t,{xhrInit:s.xhrInit,queryString:s.queryString})})}initTMSProvider(i,t){return Rd(this,null,function*(){if(!this.referenceFrame)throw new Error("Tried to initialize TMS provider before Reference Frame");return this.tmsProvider||(this.tmsProvider=new qZ({referenceFrame:this.referenceFrame,scene:this.sceneStatic})),yield this.tmsProvider.init({gridCenter:i,proj4:t.proj4}),this.tmsProvider})}updateMouseFromTouch(i){const t=this.domEl.getBoundingClientRect();this.mouse.x=i.touches[0].clientX-t.left,this.mouse.y=i.touches[0].clientY-t.top}handleMouseMove(i){const t=this.domEl.getBoundingClientRect();this.mouse.x=i.clientX-t.left,this.mouse.y=i.clientY-t.top,this.events.dispatch("pointscene_on_mousemove",{mouse:this.mouse},this.domEl),this.mouseDownActive&&this.hoveredElement&&(this.dragActive?this.hoveredElement.dispatchEvent({type:"drag"}):(this.hoveredElement.dispatchEvent({type:"drag_start",intersects:this.raycast()}),this.dragActive=!0))}handleTouchMove(i){this.updateMouseFromTouch(i),i.preventDefault(),this.touchDownActive&&this.hoveredElement&&(this.dragActive?this.hoveredElement.dispatchEvent({type:"drag"}):(this.hoveredElement.dispatchEvent({type:"drag_start",intersects:this.raycast()}),this.dragActive=!0))}handleTouchStart(i){var t;const s=i.target;!(s.matches("CANVAS")&&((t=s.parentElement)==null?void 0:t.id)===this.domEl.id)||(this.events.dispatch(Ye.EnableControls,{},this.domEl),this.updateMouseFromTouch(i),i.touches.length===1&&(this.touchDownActive=!0))}handleTouchEnd(){this.touchDownActive=!1,this.dragActive&&this.hoveredElement&&(this.hoveredElement.dispatchEvent({type:"drag_end"}),this.dragActive=!1)}isHoveredInteractive(){return this.hoveredElement?!!this.hoveredElement.userData.isInteractive:!1}hoveredAllowsOrbitUpdate(){return this.hoveredElement?!!this.hoveredElement.userData.supportsProfile||!!this.hoveredElement.userData.isMetaDataEnabled:!0}hoveredHasMetaData(){return this.hoveredElement?!!this.hoveredElement.userData.isMetaDataEnabled:!1}handleMouseDown(i){var t;const s=i.target;if(!(s.matches("CANVAS")&&((t=s.parentElement)==null?void 0:t.id)===this.domEl.id)){this.events.dispatch(Ye.DisableControls,{},this.domEl);return}switch(i.button){case 0:this.mouseDownActive=!0,this.mouseDownLeftStarted=Date.now();const n=this.picker.pick();n&&!this.isHoveredInteractive()?this.events.dispatch(Ye.UpdateOrbitPoint,{point:n.point},this.domEl):n&&this.isHoveredInteractive()&&this.hoveredAllowsOrbitUpdate()&&this.events.dispatch(Ye.UpdateOrbitPoint,{point:n.point},this.domEl);break;case 2:this.mouseDownRightStarted=Date.now();break}}handleMouseUp(i){var t;const s=i.target;if(!!(s.matches("CANVAS")&&((t=s.parentElement)==null?void 0:t.id)===this.domEl.id)&&(this.events.dispatch(Ye.EnableControls,{},this.domEl),!!this.mouseDownActive)){if(this.queryParams){const n=this.referenceFrame.toGeo(this.camera.position),r=this.referenceFrame.toGeo(this.orbitPoint.getPosition());this.queryParams.set("camera",n.toArray(),"float[]"),this.queryParams.set("look",r.toArray(),"float[]"),this.queryParams.update()}switch(i.button){case 0:const n=Date.now()-this.mouseDownLeftStarted;n<300&&(this.dragActive=!1),this.mouseDownActive=!1,this.dragActive&&this.hoveredElement?(this.hoveredElement.dispatchEvent({type:"drag_end"}),this.dragActive=!1):n<150&&this.raycastActive&&this.events.dispatch("pointscene_on_leftclick",{},this.domEl);break;case 2:this.mouseDownActive||Date.now()-this.mouseDownRightStarted<300&&this.events.dispatch("pointscene_on_rightclick",{},this.domEl);break}}}binds(){this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleTouchEnd=this.handleTouchEnd.bind(this),this.handleTouchMove=this.handleTouchMove.bind(this),this.handleTouchStart=this.handleTouchStart.bind(this),this.handleRegisterUpdateHook=this.handleRegisterUpdateHook.bind(this)}addListeners(){this.domEl.addEventListener("mousemove",this.handleMouseMove,!1),this.domEl.addEventListener("touchmove",this.handleTouchMove,!1),this.domEl.addEventListener("touchstart",this.handleTouchStart,!1),this.domEl.addEventListener("touchend",this.handleTouchEnd,!1),this.domEl.addEventListener("mousedown",this.handleMouseDown,!1),this.domEl.addEventListener("mouseup",this.handleMouseUp,!1),this.domEl.addEventListener(Ye.RegisterUpdateHook,this.handleRegisterUpdateHook,!1)}removeListeners(){this.domEl.removeEventListener("mousemove",this.handleMouseMove,!1),this.domEl.removeEventListener("touchmove",this.handleTouchMove,!1),this.domEl.removeEventListener("touchstart",this.handleTouchStart,!1),this.domEl.removeEventListener("touchend",this.handleTouchEnd,!1),this.domEl.removeEventListener("mousedown",this.handleMouseDown,!1),this.domEl.removeEventListener("mouseup",this.handleMouseUp,!1),this.domEl.removeEventListener(Ye.RegisterUpdateHook,this.handleRegisterUpdateHook,!1)}}const Nd=window,sy=Nd.ShadowRoot&&(Nd.ShadyCSS===void 0||Nd.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,ny=Symbol(),Qb=new WeakMap;class qb{constructor(i,t,s){if(this._$cssResult$=!0,s!==ny)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=i,this.t=t}get styleSheet(){let i=this.o;const t=this.t;if(sy&&i===void 0){const s=t!==void 0&&t.length===1;s&&(i=Qb.get(t)),i===void 0&&((this.o=i=new CSSStyleSheet).replaceSync(this.cssText),s&&Qb.set(t,i))}return i}toString(){return this.cssText}}const $b=e=>new qb(typeof e=="string"?e:e+"",void 0,ny),ls=(e,...i)=>{const t=e.length===1?e[0]:i.reduce((s,n,r)=>s+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+e[r+1],e[0]);return new qb(t,e,ny)},nH=(e,i)=>{sy?e.adoptedStyleSheets=i.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet):i.forEach(t=>{const s=document.createElement("style"),n=Nd.litNonce;n!==void 0&&s.setAttribute("nonce",n),s.textContent=t.cssText,e.appendChild(s)})},eI=sy?e=>e:e=>e instanceof CSSStyleSheet?(i=>{let t="";for(const s of i.cssRules)t+=s.cssText;return $b(t)})(e):e;var ry;const Fd=window,tI=Fd.trustedTypes,rH=tI?tI.emptyScript:"",iI=Fd.reactiveElementPolyfillSupport,oy={toAttribute(e,i){switch(i){case Boolean:e=e?rH:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,i){let t=e;switch(i){case Boolean:t=e!==null;break;case Number:t=e===null?null:Number(e);break;case Object:case Array:try{t=JSON.parse(e)}catch{t=null}}return t}},sI=(e,i)=>i!==e&&(i==i||e==e),ay={attribute:!0,type:String,converter:oy,reflect:!1,hasChanged:sI};class Rh extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(i){var t;this.finalize(),((t=this.h)!==null&&t!==void 0?t:this.h=[]).push(i)}static get observedAttributes(){this.finalize();const i=[];return this.elementProperties.forEach((t,s)=>{const n=this._$Ep(s,t);n!==void 0&&(this._$Ev.set(n,s),i.push(n))}),i}static createProperty(i,t=ay){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(i,t),!t.noAccessor&&!this.prototype.hasOwnProperty(i)){const s=typeof i=="symbol"?Symbol():"__"+i,n=this.getPropertyDescriptor(i,s,t);n!==void 0&&Object.defineProperty(this.prototype,i,n)}}static getPropertyDescriptor(i,t,s){return{get(){return this[t]},set(n){const r=this[i];this[t]=n,this.requestUpdate(i,r,s)},configurable:!0,enumerable:!0}}static getPropertyOptions(i){return this.elementProperties.get(i)||ay}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const i=Object.getPrototypeOf(this);if(i.finalize(),i.h!==void 0&&(this.h=[...i.h]),this.elementProperties=new Map(i.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const t=this.properties,s=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const n of s)this.createProperty(n,t[n])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(i){const t=[];if(Array.isArray(i)){const s=new Set(i.flat(1/0).reverse());for(const n of s)t.unshift(eI(n))}else i!==void 0&&t.push(eI(i));return t}static _$Ep(i,t){const s=t.attribute;return s===!1?void 0:typeof s=="string"?s:typeof i=="string"?i.toLowerCase():void 0}u(){var i;this._$E_=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(i=this.constructor.h)===null||i===void 0||i.forEach(t=>t(this))}addController(i){var t,s;((t=this._$ES)!==null&&t!==void 0?t:this._$ES=[]).push(i),this.renderRoot!==void 0&&this.isConnected&&((s=i.hostConnected)===null||s===void 0||s.call(i))}removeController(i){var t;(t=this._$ES)===null||t===void 0||t.splice(this._$ES.indexOf(i)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((i,t)=>{this.hasOwnProperty(t)&&(this._$Ei.set(t,this[t]),delete this[t])})}createRenderRoot(){var i;const t=(i=this.shadowRoot)!==null&&i!==void 0?i:this.attachShadow(this.constructor.shadowRootOptions);return nH(t,this.constructor.elementStyles),t}connectedCallback(){var i;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(i=this._$ES)===null||i===void 0||i.forEach(t=>{var s;return(s=t.hostConnected)===null||s===void 0?void 0:s.call(t)})}enableUpdating(i){}disconnectedCallback(){var i;(i=this._$ES)===null||i===void 0||i.forEach(t=>{var s;return(s=t.hostDisconnected)===null||s===void 0?void 0:s.call(t)})}attributeChangedCallback(i,t,s){this._$AK(i,s)}_$EO(i,t,s=ay){var n;const r=this.constructor._$Ep(i,s);if(r!==void 0&&s.reflect===!0){const o=(((n=s.converter)===null||n===void 0?void 0:n.toAttribute)!==void 0?s.converter:oy).toAttribute(t,s.type);this._$El=i,o==null?this.removeAttribute(r):this.setAttribute(r,o),this._$El=null}}_$AK(i,t){var s;const n=this.constructor,r=n._$Ev.get(i);if(r!==void 0&&this._$El!==r){const o=n.getPropertyOptions(r),a=typeof o.converter=="function"?{fromAttribute:o.converter}:((s=o.converter)===null||s===void 0?void 0:s.fromAttribute)!==void 0?o.converter:oy;this._$El=r,this[r]=a.fromAttribute(t,o.type),this._$El=null}}requestUpdate(i,t,s){let n=!0;i!==void 0&&(((s=s||this.constructor.getPropertyOptions(i)).hasChanged||sI)(this[i],t)?(this._$AL.has(i)||this._$AL.set(i,t),s.reflect===!0&&this._$El!==i&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(i,s))):n=!1),!this.isUpdatePending&&n&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(t){Promise.reject(t)}const i=this.scheduleUpdate();return i!=null&&await i,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var i;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((n,r)=>this[r]=n),this._$Ei=void 0);let t=!1;const s=this._$AL;try{t=this.shouldUpdate(s),t?(this.willUpdate(s),(i=this._$ES)===null||i===void 0||i.forEach(n=>{var r;return(r=n.hostUpdate)===null||r===void 0?void 0:r.call(n)}),this.update(s)):this._$Ek()}catch(n){throw t=!1,this._$Ek(),n}t&&this._$AE(s)}willUpdate(i){}_$AE(i){var t;(t=this._$ES)===null||t===void 0||t.forEach(s=>{var n;return(n=s.hostUpdated)===null||n===void 0?void 0:n.call(s)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(i)),this.updated(i)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(i){return!0}update(i){this._$EC!==void 0&&(this._$EC.forEach((t,s)=>this._$EO(s,this[s],t)),this._$EC=void 0),this._$Ek()}updated(i){}firstUpdated(i){}}Rh.finalized=!0,Rh.elementProperties=new Map,Rh.elementStyles=[],Rh.shadowRootOptions={mode:"open"},iI==null||iI({ReactiveElement:Rh}),((ry=Fd.reactiveElementVersions)!==null&&ry!==void 0?ry:Fd.reactiveElementVersions=[]).push("1.6.1");var ly;const Pd=window,Nh=Pd.trustedTypes,nI=Nh?Nh.createPolicy("lit-html",{createHTML:e=>e}):void 0,ca=`lit$${(Math.random()+"").slice(9)}$`,rI="?"+ca,oH=`<${rI}>`,Fh=document,cu=(e="")=>Fh.createComment(e),uu=e=>e===null||typeof e!="object"&&typeof e!="function",oI=Array.isArray,aH=e=>oI(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",pu=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,aI=/-->/g,lI=/>/g,hl=RegExp(`>|[ 	
\f\r](?:([^\\s"'>=/]+)([ 	
\f\r]*=[ 	
\f\r]*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),hI=/'/g,cI=/"/g,uI=/^(?:script|style|textarea|title)$/i,lH=e=>(i,...t)=>({_$litType$:e,strings:i,values:t}),Mi=lH(1),Ph=Symbol.for("lit-noChange"),xs=Symbol.for("lit-nothing"),pI=new WeakMap,wh=Fh.createTreeWalker(Fh,129,null,!1),hH=(e,i)=>{const t=e.length-1,s=[];let n,r=i===2?"<svg>":"",o=pu;for(let l=0;l<t;l++){const h=e[l];let c,u,p=-1,d=0;for(;d<h.length&&(o.lastIndex=d,u=o.exec(h),u!==null);)d=o.lastIndex,o===pu?u[1]==="!--"?o=aI:u[1]!==void 0?o=lI:u[2]!==void 0?(uI.test(u[2])&&(n=RegExp("</"+u[2],"g")),o=hl):u[3]!==void 0&&(o=hl):o===hl?u[0]===">"?(o=n??pu,p=-1):u[1]===void 0?p=-2:(p=o.lastIndex-u[2].length,c=u[1],o=u[3]===void 0?hl:u[3]==='"'?cI:hI):o===cI||o===hI?o=hl:o===aI||o===lI?o=pu:(o=hl,n=void 0);const T=o===hl&&e[l+1].startsWith("/>")?" ":"";r+=o===pu?h+oH:p>=0?(s.push(c),h.slice(0,p)+"$lit$"+h.slice(p)+ca+T):h+ca+(p===-2?(s.push(void 0),l):T)}const a=r+(e[t]||"<?>")+(i===2?"</svg>":"");if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return[nI!==void 0?nI.createHTML(a):a,s]};class du{constructor({strings:i,_$litType$:t},s){let n;this.parts=[];let r=0,o=0;const a=i.length-1,l=this.parts,[h,c]=hH(i,t);if(this.el=du.createElement(h,s),wh.currentNode=this.el.content,t===2){const u=this.el.content,p=u.firstChild;p.remove(),u.append(...p.childNodes)}for(;(n=wh.nextNode())!==null&&l.length<a;){if(n.nodeType===1){if(n.hasAttributes()){const u=[];for(const p of n.getAttributeNames())if(p.endsWith("$lit$")||p.startsWith(ca)){const d=c[o++];if(u.push(p),d!==void 0){const T=n.getAttribute(d.toLowerCase()+"$lit$").split(ca),g=/([.?@])?(.*)/.exec(d);l.push({type:1,index:r,name:g[2],strings:T,ctor:g[1]==="."?uH:g[1]==="?"?dH:g[1]==="@"?mH:wd})}else l.push({type:6,index:r})}for(const p of u)n.removeAttribute(p)}if(uI.test(n.tagName)){const u=n.textContent.split(ca),p=u.length-1;if(p>0){n.textContent=Nh?Nh.emptyScript:"";for(let d=0;d<p;d++)n.append(u[d],cu()),wh.nextNode(),l.push({type:2,index:++r});n.append(u[p],cu())}}}else if(n.nodeType===8)if(n.data===rI)l.push({type:2,index:r});else{let u=-1;for(;(u=n.data.indexOf(ca,u+1))!==-1;)l.push({type:7,index:r}),u+=ca.length-1}r++}}static createElement(i,t){const s=Fh.createElement("template");return s.innerHTML=i,s}}function Xh(e,i,t=e,s){var n,r,o,a;if(i===Ph)return i;let l=s!==void 0?(n=t._$Co)===null||n===void 0?void 0:n[s]:t._$Cl;const h=uu(i)?void 0:i._$litDirective$;return(l==null?void 0:l.constructor)!==h&&((r=l==null?void 0:l._$AO)===null||r===void 0||r.call(l,!1),h===void 0?l=void 0:(l=new h(e),l._$AT(e,t,s)),s!==void 0?((o=(a=t)._$Co)!==null&&o!==void 0?o:a._$Co=[])[s]=l:t._$Cl=l),l!==void 0&&(i=Xh(e,l._$AS(e,i.values),l,s)),i}class cH{constructor(i,t){this.u=[],this._$AN=void 0,this._$AD=i,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}v(i){var t;const{el:{content:s},parts:n}=this._$AD,r=((t=i==null?void 0:i.creationScope)!==null&&t!==void 0?t:Fh).importNode(s,!0);wh.currentNode=r;let o=wh.nextNode(),a=0,l=0,h=n[0];for(;h!==void 0;){if(a===h.index){let c;h.type===2?c=new mu(o,o.nextSibling,this,i):h.type===1?c=new h.ctor(o,h.name,h.strings,this,i):h.type===6&&(c=new yH(o,this,i)),this.u.push(c),h=n[++l]}a!==(h==null?void 0:h.index)&&(o=wh.nextNode(),a++)}return r}p(i){let t=0;for(const s of this.u)s!==void 0&&(s.strings!==void 0?(s._$AI(i,s,t),t+=s.strings.length-2):s._$AI(i[t])),t++}}class mu{constructor(i,t,s,n){var r;this.type=2,this._$AH=xs,this._$AN=void 0,this._$AA=i,this._$AB=t,this._$AM=s,this.options=n,this._$Cm=(r=n==null?void 0:n.isConnected)===null||r===void 0||r}get _$AU(){var i,t;return(t=(i=this._$AM)===null||i===void 0?void 0:i._$AU)!==null&&t!==void 0?t:this._$Cm}get parentNode(){let i=this._$AA.parentNode;const t=this._$AM;return t!==void 0&&i.nodeType===11&&(i=t.parentNode),i}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(i,t=this){i=Xh(this,i,t),uu(i)?i===xs||i==null||i===""?(this._$AH!==xs&&this._$AR(),this._$AH=xs):i!==this._$AH&&i!==Ph&&this.g(i):i._$litType$!==void 0?this.$(i):i.nodeType!==void 0?this.T(i):aH(i)?this.k(i):this.g(i)}O(i,t=this._$AB){return this._$AA.parentNode.insertBefore(i,t)}T(i){this._$AH!==i&&(this._$AR(),this._$AH=this.O(i))}g(i){this._$AH!==xs&&uu(this._$AH)?this._$AA.nextSibling.data=i:this.T(Fh.createTextNode(i)),this._$AH=i}$(i){var t;const{values:s,_$litType$:n}=i,r=typeof n=="number"?this._$AC(i):(n.el===void 0&&(n.el=du.createElement(n.h,this.options)),n);if(((t=this._$AH)===null||t===void 0?void 0:t._$AD)===r)this._$AH.p(s);else{const o=new cH(r,this),a=o.v(this.options);o.p(s),this.T(a),this._$AH=o}}_$AC(i){let t=pI.get(i.strings);return t===void 0&&pI.set(i.strings,t=new du(i)),t}k(i){oI(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let s,n=0;for(const r of i)n===t.length?t.push(s=new mu(this.O(cu()),this.O(cu()),this,this.options)):s=t[n],s._$AI(r),n++;n<t.length&&(this._$AR(s&&s._$AB.nextSibling,n),t.length=n)}_$AR(i=this._$AA.nextSibling,t){var s;for((s=this._$AP)===null||s===void 0||s.call(this,!1,!0,t);i&&i!==this._$AB;){const n=i.nextSibling;i.remove(),i=n}}setConnected(i){var t;this._$AM===void 0&&(this._$Cm=i,(t=this._$AP)===null||t===void 0||t.call(this,i))}}class wd{constructor(i,t,s,n,r){this.type=1,this._$AH=xs,this._$AN=void 0,this.element=i,this.name=t,this._$AM=n,this.options=r,s.length>2||s[0]!==""||s[1]!==""?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=xs}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(i,t=this,s,n){const r=this.strings;let o=!1;if(r===void 0)i=Xh(this,i,t,0),o=!uu(i)||i!==this._$AH&&i!==Ph,o&&(this._$AH=i);else{const a=i;let l,h;for(i=r[0],l=0;l<r.length-1;l++)h=Xh(this,a[s+l],t,l),h===Ph&&(h=this._$AH[l]),o||(o=!uu(h)||h!==this._$AH[l]),h===xs?i=xs:i!==xs&&(i+=(h??"")+r[l+1]),this._$AH[l]=h}o&&!n&&this.j(i)}j(i){i===xs?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,i??"")}}class uH extends wd{constructor(){super(...arguments),this.type=3}j(i){this.element[this.name]=i===xs?void 0:i}}const pH=Nh?Nh.emptyScript:"";class dH extends wd{constructor(){super(...arguments),this.type=4}j(i){i&&i!==xs?this.element.setAttribute(this.name,pH):this.element.removeAttribute(this.name)}}class mH extends wd{constructor(i,t,s,n,r){super(i,t,s,n,r),this.type=5}_$AI(i,t=this){var s;if((i=(s=Xh(this,i,t,0))!==null&&s!==void 0?s:xs)===Ph)return;const n=this._$AH,r=i===xs&&n!==xs||i.capture!==n.capture||i.once!==n.once||i.passive!==n.passive,o=i!==xs&&(n===xs||r);r&&this.element.removeEventListener(this.name,this,n),o&&this.element.addEventListener(this.name,this,i),this._$AH=i}handleEvent(i){var t,s;typeof this._$AH=="function"?this._$AH.call((s=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&s!==void 0?s:this.element,i):this._$AH.handleEvent(i)}}class yH{constructor(i,t,s){this.element=i,this.type=6,this._$AN=void 0,this._$AM=t,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(i){Xh(this,i)}}const dI=Pd.litHtmlPolyfillSupport;dI==null||dI(du,mu),((ly=Pd.litHtmlVersions)!==null&&ly!==void 0?ly:Pd.litHtmlVersions=[]).push("2.6.1");const fH=(e,i,t)=>{var s,n;const r=(s=t==null?void 0:t.renderBefore)!==null&&s!==void 0?s:i;let o=r._$litPart$;if(o===void 0){const a=(n=t==null?void 0:t.renderBefore)!==null&&n!==void 0?n:null;r._$litPart$=o=new mu(i.insertBefore(cu(),a),a,void 0,t??{})}return o._$AI(e),o};var hy,cy;class js extends Rh{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var i,t;const s=super.createRenderRoot();return(i=(t=this.renderOptions).renderBefore)!==null&&i!==void 0||(t.renderBefore=s.firstChild),s}update(i){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(i),this._$Dt=fH(t,this.renderRoot,this.renderOptions)}connectedCallback(){var i;super.connectedCallback(),(i=this._$Dt)===null||i===void 0||i.setConnected(!0)}disconnectedCallback(){var i;super.disconnectedCallback(),(i=this._$Dt)===null||i===void 0||i.setConnected(!1)}render(){return Ph}}js.finalized=!0,js._$litElement$=!0,(hy=globalThis.litElementHydrateSupport)===null||hy===void 0||hy.call(globalThis,{LitElement:js});const mI=globalThis.litElementPolyfillSupport;mI==null||mI({LitElement:js}),((cy=globalThis.litElementVersions)!==null&&cy!==void 0?cy:globalThis.litElementVersions=[]).push("3.2.0");const Jn=e=>i=>typeof i=="function"?((t,s)=>(customElements.define(t,s),s))(e,i):((t,s)=>{const{kind:n,elements:r}=s;return{kind:n,elements:r,finisher(o){customElements.define(t,o)}}})(e,i);const TH=(e,i)=>i.kind==="method"&&i.descriptor&&!("value"in i.descriptor)?{...i,finisher(t){t.createProperty(i.key,e)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:i.key,initializer(){typeof i.initializer=="function"&&(this[i.key]=i.initializer.call(this))},finisher(t){t.createProperty(i.key,e)}};function Ot(e){return(i,t)=>t!==void 0?((s,n,r)=>{n.constructor.createProperty(r,s)})(e,i,t):TH(e,i)}function ki(e){return Ot({...e,state:!0})}var uy;((uy=window.HTMLSlotElement)===null||uy===void 0?void 0:uy.prototype.assignedElements)!=null;const yI={UiContainerId:"pointscene-js-ui"},Xd=Object.assign({},...Object.entries(yI).map(([e,i])=>({[e]:$b(i)}))),py=16,Dd=4,Ie={small:{minWidth:0,maxWidth:640,baseSize:py,containerWidth:-1,expandedContainerWidth:-1,menuButtonWidth:-1},medium:{minWidth:640,maxWidth:1290,baseSize:py*1.5,containerWidth:360,expandedContainerWidth:480,menuButtonWidth:120},large:{minWidth:1290,maxWidth:-1,baseSize:py*2,containerWidth:480,expandedContainerWidth:960,menuButtonWidth:180}},gH=ls`
  body, html {
    margin: 0;
    position: fixed;
  }

  :host(#${Xd.UiContainerId}) {
    display: flex;
    flex-direction: column;
    z-index: 100;
    position: fixed;
    top: 10px;
    right: 10px;
    width: ${Ie.medium.containerWidth}px;
    max-height: 80vh;
    transition: all 0.2s ease-in;
    font-size: ${Ie.small.baseSize}px;
    font-family: 'Open Sans';
    margin: 0px;
    padding: 0px;
    /*padding-top: 4px;*/
    padding-bottom: 4px;
    opacity: 0.90;
    background-color: white;
    color: #365379;
    border-radius: 5px;
    border-color: white;
    overflow-x: hidden;
    overflow-y: scroll;
    -webkit-overflow-scrolling: auto;
  }
`,fr=ls`
@media only screen and (min-width: ${Ie.small.minWidth}px) and (max-width: ${Ie.small.maxWidth}px) {

  /* Small, non-retina */

  :host(#${Xd.UiContainerId}) {
    top: 0px;
    left: 0px;
    width: 100vw;
    max-height: 50vh;
    border-radius: 0px;
    padding-top: 0px;
    padding-bottom: 0px; 
  }

  #hide-ui-container {
    position: sticky;
    width: 100vw;
    height: ${Ie.large.baseSize*2.5}px;
    left: 0px;
    border-radius: 0px;
    padding: 0px;
  }

  #exit-photo {
    width: 100vw;
    height: ${Ie.large.baseSize*2.5}px;
    top: ${Ie.large.baseSize*2.5}px;
    border-radius: 0px;
    padding: 0px;
  }
/*
  @media
  screen and (-webkit-min-device-pixel-ratio: 2),
  screen and (   min--moz-device-pixel-ratio: 2),
  screen and (     -o-min-device-pixel-ratio: 2/1),
  screen and (        min-device-pixel-ratio: 2),
  screen and (                min-resolution: 192dpi),
  screen and (                min-resolution: 2dppx) { 
  */
    /* Small, retina 2x */

    hr {
      width: ${Ie.large.baseSize*10}px;
      margin-top: ${Ie.large.baseSize/2}px;
    }

    :host(#${Xd.UiContainerId}) {
      font-size: ${Ie.large.baseSize}px;
    }

    .pointscene-header {
      height: ${Ie.large.baseSize*2+Dd}px;
    }
    .pointscene-header-icon {
      width: ${Ie.large.baseSize}px;
      height: ${Ie.large.baseSize}px;
      top: ${Ie.large.baseSize/2-Ie.large.baseSize/8}px;
    }
    .pointscene-header-title {
      left: ${Ie.large.baseSize*3}px;
      top: ${Ie.large.baseSize/4}px;
    }
    .pointscene-header-toggle {
      top: ${Ie.large.baseSize/4}px;
      right: ${Ie.large.baseSize}px;
    }

    .pointscene-dropdown {
      font-size: ${Ie.large.baseSize}px;
      border-radius: ${Ie.large.baseSize}px;
    }

    .pointscene-basic-button {
      height: ${Ie.large.baseSize*2}px;
      font-size: ${Ie.large.baseSize}px;
    }

    .pointscene-cancel-button {
      height: ${Ie.large.baseSize*2}px;
      font-size: ${Ie.large.baseSize}px;
    }

    .pointscene-collapsible-button {
      height: ${Ie.large.baseSize*2}px;
      font-size: ${Ie.large.baseSize}px;
    }

    .multitool-container {
      height: ${Ie.large.baseSize*2.5}px;
      font-size: ${Ie.large.baseSize}px;
    }
    .multitool-primary {
      width: 58vw;
      height: ${Ie.large.baseSize*2}px;
    }
    .multitool-toggle {
      left: 60vw;
      height: ${Ie.large.baseSize*2}px;
      width: ${Ie.large.baseSize*2}px;
    }
    .multitool-secondary {
      right: ${Ie.large.baseSize}px;
      height: ${Ie.large.baseSize*2}px;
      width: ${Ie.large.baseSize*2}px;
      top: ${Ie.large.baseSize/4}px;
    }

    .pointscene-slider-container {
      height: ${Ie.large.baseSize*2}px;
    }
    .pointscene-slider-label {
      font-size: ${Ie.large.baseSize}px;
    }
    .pointscene-slider {
      height: ${Ie.large.baseSize}px;
      border-radius: ${Ie.large.baseSize/2}px;
    }
    .pointscene-slider::-webkit-slider-thumb {
      width: ${Ie.large.baseSize-2}px;
      height: ${Ie.large.baseSize-2}px;
    }
    .pointscene-slider::-moz-range-thumb {
      width: ${Ie.large.baseSize-2}px;
      height: ${Ie.large.baseSize-2}px;
    }

    .pointscene-set-elevation-button {
      width: ${Ie.large.baseSize*5}px;
      height: ${Ie.large.baseSize*2.5}px;
      font-size: ${Ie.large.baseSize}px;
    }
    #elevation-range {
      font-size: ${Ie.large.baseSize}px;
    }

    .share-field {
      height: ${Ie.large.baseSize*2}px;
    }
    .share-icon {
      width: ${Ie.large.baseSize*2}px;
      height: ${Ie.large.baseSize*2}px;
    }
    .share-link {
      font-size: ${Ie.large.baseSize}px;
      width: 40vw;
      height: ${Ie.large.baseSize*1.5}px;
    }
    #pointscene-share-field {
      font-size: ${Ie.large.baseSize}px;
      top: ${Ie.large.baseSize/2}px;
      position: relative;
    }

    button {
      height: ${Ie.large.baseSize*2.5}px;
      top: ${Ie.large.baseSize/4}px;
    }
    .pointscene-button-icon {
      width: ${Ie.large.baseSize*1.5}px;
      height: ${Ie.large.baseSize*1.5}px;
      left: ${Ie.large.baseSize/4}px;
      top: ${Ie.large.baseSize/2}px;
    }
    .pointscene-button-label {
      font-size: ${Ie.large.baseSize}px;
      left: ${Ie.large.baseSize*2.5}px;
      top: ${Ie.large.baseSize/2+Ie.large.baseSize/8}px;
    }

    .pointscene-switch-label {
      width: 80vw;
      left: ${Ie.large.baseSize*2.5}px;
      top: -${Ie.large.baseSize/4}px;
    }
    .pointscene-switch {
      width: ${Ie.large.baseSize*2}px;
      height: ${Ie.large.baseSize*1.5}px;
      top: ${Ie.large.baseSize/2}px;
    }
    .pointscene-switch-container {
      height: ${Ie.large.baseSize*2}px;
    }

    .pointscene-switch-slider {
      height: ${Ie.large.baseSize}px;
      border-radius: ${Ie.large.baseSize/2}px;
    }
    .pointscene-switch-slider::-webkit-slider-thumb {
      width: ${Ie.large.baseSize-2}px;
      height: ${Ie.large.baseSize-2}px;
    }
    .pointscene-switch-slider::-moz-range-thumb {
      width: ${Ie.large.baseSize-2}px;
      height: ${Ie.large.baseSize-2}px;
    }

    .pointscene-switch-slider:before {
      height: ${Ie.large.baseSize-8}px;
      width: ${Ie.large.baseSize-8}px;
      left: 4px;
      bottom: 4px;
    }
    .pointscene-switch-slider.round {
      border-radius: ${Ie.large.baseSize}px;
    }
    input:checked + .pointscene-switch-slider:before {
      -webkit-transform: translateX(${Ie.large.baseSize-4}px);
      -ms-transform: translateX(${Ie.large.baseSize-4}px);
      transform: translateX(${Ie.large.baseSize-4}px);
    }

  /*}*/
}

@media only screen and (min-width: ${Ie.medium.minWidth}px) and (max-width: ${Ie.medium.maxWidth}px) {

  /* Medium, non-retina */

  :host(#${Xd.UiContainerId}) {
    width: ${Ie.medium.containerWidth}px;
  }

  @media
  only screen and (-webkit-min-device-pixel-ratio: 2),
  only screen and (   min--moz-device-pixel-ratio: 2),
  only screen and (     -o-min-device-pixel-ratio: 2/1),
  only screen and (        min-device-pixel-ratio: 2),
  only screen and (                min-resolution: 192dpi),
  only screen and (                min-resolution: 2dppx) { 
  
    /* Medium, retina 2x */

  }
}


@media only screen and (min-width: ${Ie.large.minWidth}px) {

  /* Large, non-retina */

  @media
  only screen and (-webkit-min-device-pixel-ratio: 2),
  only screen and (   min--moz-device-pixel-ratio: 2),
  only screen and (     -o-min-device-pixel-ratio: 2/1),
  only screen and (        min-device-pixel-ratio: 2),
  only screen and (                min-resolution: 192dpi),
  only screen and (                min-resolution: 2dppx) { 

    /* Large, retina 2x */

  }
}
`,bH=ls`
#exit-photo {
  position: sticky;
  top: ${Ie.small.baseSize*2}px;
  left: 0px;
  background-color: #eee;
  opacity: 0.9;
  height: ${Ie.small.baseSize*2}px;
  width: ${Ie.small.containerWidth}px;
  border-radius-top: 0px;
  border-radius-bottom: 0px;
  overflow: visible;
  z-index: 1001;
  background-color: #eee;
}
`,IH=ls`
#hide-ui-container {
  position: sticky;
  top: 0px;
  left: 0px;
  background-color: #eee;
  opacity: 0.9;
  height: ${Ie.small.baseSize*2}px;
  width: ${Ie.small.containerWidth}px;
  border-radius-top: 5px;
  border-radius-bottom: 0px;
  overflow: visible;
  z-index: 1001;
  background-color: #eee;
}
`,LH=ls`
#show-ui-container {
  
}
`,Dh=ls`
  :host {
    position: relative;
    margin-top: ${Dd/2}px;
    margin-bottom: ${Dd/2}px;
  }
`,Oh=ls`
  .pointscene-header {
    position: relative;
    height: ${Ie.small.baseSize*1.5+Dd}px;
    cursor: pointer;
    text-transform: uppercase;
  }
  .pointscene-header:hover {
    background-color: #eee;
  }
  .pointscene-header-expanded {
    background-color: #eee;
  }
  .pointscene-header-icon {
    position: absolute;
    left: 10px;
    top: 4px;
    width: ${Ie.small.baseSize}px;
    height: ${Ie.small.baseSize}px;
  }
  .pointscene-header-title {
    position: absolute;
    left: ${Ie.small.baseSize*3}px;
    top: 2px;
  }
  .pointscene-header-toggle {
    position: absolute;
    right: 10px;
    top: 2px;
  }
`,yu=ls`
hr {
  border-top: 1px solid #ccc;
  width: ${Ie.small.baseSize*10}px;
  opacity: 0.9;
  margin-top: ${Ie.small.baseSize/2}px;
}
`,fI=ls`
  .pointscene-expanded-content {
    padding-top: 4px;
    padding-bottom: 4px;
    animation: append-animate 0.2s linear;
  }
  @keyframes append-animate {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
`,SH=ls`
.pointscene-dropdown {
  border-radius: 10px;
  border-width: 0px;
  color: #365379;
  width: 97%;
  margin-left: 8px;
  margin-bottom: 8px;
  font-size: ${Ie.small.baseSize}px;
}
.pointscene-dropdown:hover {
  cursor: pointer;
  background-color: #eee;
}
`,TI=ls`
.pointscene-basic-button {
  border-width: 0px;
  border-radius: 0px;
  width: 100%;
  height: ${Ie.small.baseSize*2}px;
  font-size: ${Ie.small.baseSize*1}px;
  background-color: white;
  color: #365379;
}
.pointscene-basic-button:hover {
  cursor: pointer;
  background-color: #eee;
}
`,MH=ls`
.pointscene-cancel-button {
  border-width: 0px;
  border-radius: 0px;
  width: 100%;
  height: ${Ie.small.baseSize*2}px;
  font-size: ${Ie.small.baseSize*1}px;
  text-align: center;
  background-color: white;
  color: #bc0000;
}
.pointscene-cancel-button:hover {
  cursor: pointer;
  background-color: #eee;
}
`,xH=ls`
.pointscene-collapsible-button {
  border-width: 0px;
  border-radius: 0px;
  width: 100%;
  height: ${Ie.small.baseSize*2}px;
  font-size: ${Ie.small.baseSize*1}px;
  background-color: white;
  color: #f26812;
}
.pointscene-collapsible-button:hover {
  cursor: pointer;
  background-color: #eee;
}
`,vH=ls`
.multitool-container {
  position: relative;
  width: 100%;
  height: ${Ie.small.baseSize*2}px;
  font-size: ${Ie.small.baseSize*1.5}px;
  top: -${Ie.small.baseSize/2}px;
}
.multitool-primary {
  position: absolute;
  left: 0px;
  top: 0px;
  width: ${Ie.small.baseSize*12}px;
  height: ${Ie.small.baseSize*2}px;
}
.multitool-toggle {
  position: absolute;
  left: ${Ie.small.baseSize*14}px;
  width: ${Ie.small.baseSize*2.5}px;
  height: ${Ie.small.baseSize*2}px;
  top: 0px;
}
.multitool-secondary {
  position: absolute;
  right: ${Ie.small.baseSize*2}px;
  height: ${Ie.small.baseSize*1.5}px;
  width: ${Ie.small.baseSize*1.5}px;
  top: ${Ie.small.baseSize/2+Ie.small.baseSize/4}px;
}
`,GH=ls`
.pointscene-slider-container {
  width: 98%;
  position: relative;
  height: 25px;
}

.pointscene-slider-label {
  width: 30%;
  left: 10px;
  top: 0px;
  font-size: ${Ie.small.baseSize}px;
  position: absolute;
}

.pointscene-slider-bar {
  width: 60%;
  right: 8px;
  top: 0px;
  position: absolute;
}

.pointscene-slider {
  -webkit-appearance: none;
  appearance: none;
  width: 100%;
  height: 15px;
  border-radius: 5px;
  background: #eee;
  outline: none;
  opacity: 0.7;
  -webkit-transition: .2s;
  transition: opacity .2s;
}

.pointscene-slider:hover {
  opacity: 1;
}

.pointscene-slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 15px;
  height: 15px;
  border-radius: 50%;
  background: #365379;
  cursor: pointer;
}

.pointscene-slider::-moz-range-thumb {
  width: 15px;
  height: 15px;
  background: #365379;
  cursor: pointer;
}
`,EH=ls`
.pointscene-elevation-range {
  width: 92%;
  padding-bottom: 8px;
}
.pointscene-set-elevation-button {
  border-width: 0px;
  border-radius: 10px;
  border-color: #365379;
  width: ${Ie.small.baseSize*2.5}px;
  height: ${Ie.small.baseSize*1.5}px;;
  font-size: ${Ie.small.baseSize}px;
  background-color: #f26812;
  color: white;
  transition: all 0.3s ease 0s;
  position: relative;
  top: -2px;
  left: 8px;
}
.pointscene-set-elevation-button:hover {
  cursor: pointer;
  background-color: #365379;
}
#elevation-range {
  font-size: ${Ie.small.baseSize}px;
  position: relative;
  top: -2px;
  left: 8px;
}
`,CH=ls`
.share-field {
  position: relative;
  width: 93%;
  height: ${Ie.small.baseSize*2}px;
  padding-left: 10px;
  padding-right: 10px;
}
#pointscene-share-field {
  font-size: ${Ie.small.baseSize}px;
}
.share-icon {
  position: absolute;
  width: ${Ie.small.baseSize}px;
  height: ${Ie.small.baseSize}px;
  top: 4px;
  right: 10px;
}
.share-icon:hover {
  cursor: pointer;
}
.share-link {
  font-size: ${Ie.small.baseSize}px;
  width: ${Ie.small.baseSize*6}px;
  heigth: ${Ie.small.baseSize*2}px;
  padding: 2px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  border-radius: 4px;
}
.share-link:hover {
  cursor: pointer;
}
.whatsapp-share-link {
  background-color: #4b8d2f;
  color: white;
}
.email-share-link {
  background-color: #eee;
  color: #365379;
}
`,RH=ls`
button {
  position: relative;
  padding-left: 4px;
  padding-right: 4px;
  background-color: white;
  border-radius: 5px;
  border-color: #365379;
  border-width: 0px;
  color: #365379;
  width: 100%;
  height: ${Ie.small.baseSize*2}px;
  box-shadow: none;
  top: 0px;
}
button:active {
  background-color: #eee;
}
button:hover {
  cursor: pointer;
  background-color: #eee;
}
button:disabled {
  border-color: transparent;
  background-color: #fff;
  cursor: not-allowed;
}
.button-active {
  background-color: #eee;
}
.pointscene-button-icon {
  position: absolute;
  left: ${Ie.small.baseSize/2}px;
  top: 4px;
  color: ##365379;
  width: ${Ie.small.baseSize*1.5}px;
  height: ${Ie.small.baseSize*1.5}px;
}
.pointscene-button-label {
  position: absolute;
  left: ${Ie.small.baseSize*3}px;
  top: ${Ie.small.baseSize/2}px;
}
.pointscene-button-badge {
  position: absolute;
  right: 8px;
  top: 0px;
  color: #f26812;
}
`,dy=ls`
.pointscene-switch-container {
  width: 100%;
  height: ${Ie.small.baseSize*1.5}px;
  padding-top: 6px;
}
.pointscene-switch-container:hover {
  cursor: pointer;
  background-color: #eee;
}

.pointscene-switch {
  position: relative;
  display: inline-block;
  width: ${Ie.small.baseSize*2}px;
  height: ${Ie.small.baseSize}px;
  left: 4px;
}

.pointscene-switch input {
  opacity: 0;
  width: 0px;
  height: 0px;
}

.pointscene-switch-label {
  position: absolute;
  top: -4px;
  left: 42px;
  width: ${Ie.medium.containerWidth-45}px;
  cursor: pointer;
  text-overflow: ellipsis;
  white-space: nowrap;
  overflow: hidden;
}

.pointscene-switch-slider {
  position: absolute;
  cursor: pointer;
  top: 0px;
  left: 4px;
  right: 0px;
  bottom: 0px;
  background-color: #ccc;
  -webkit-transition: .4s;
  transition: .4s;
}

.pointscene-switch-slider:before {
  position: absolute;
  content: "";
  height: ${Ie.small.baseSize-2}px;
  width: ${Ie.small.baseSize-2}px;
  left: 1px;
  bottom: 1px;
  background-color: white;
  -webkit-transition: .4s;
  transition: .4s;
}

input:checked + .pointscene-switch-slider {
  background-color: #365379;
}

input:disabled + .pointscene-switch-slider {
  background-color: #eee;
}

input:focus + .pointscene-switch-slider {
  box-shadow: 0 0 1px #365379;
}

input:checked + .pointscene-switch-slider:before {
  -webkit-transform: translateX(12px);
  -ms-transform: translateX(12px);
  transform: translateX(12px);
}

.pointscene-switch-slider.round {
  border-radius: 10px;
}

.pointscene-switch-slider.round:before {
  border-radius: 50%;
}
`,my=ls`
.pointscene-slider {
  position: absolute;
  cursor: pointer;
  top: 0px;
  left: 4px;
  right: 0px;
  bottom: 0px;
  background-color: #ccc;
  -webkit-transition: .4s;
  transition: .4s;
}

.pointscene-slider:before {
  position: absolute;
  content: "";
  height: ${Ie.small.baseSize-2}px;
  width: ${Ie.small.baseSize-2}px;
  left: 1px;
  bottom: 1px;
  background-color: white;
  -webkit-transition: .4s;
  transition: .4s;
}

input:checked + .pointscene-slider {
  background-color: #365379;
}

input:disabled + .pointscene-slider {
  background-color: #eee;
}

input:focus + .pointscene-slider {
  box-shadow: 0 0 1px #365379;
}

input:checked + .pointscene-slider:before {
  -webkit-transform: translateX(12px);
  -ms-transform: translateX(12px);
  transform: translateX(12px);
}

.pointscene-slider.round {
  border-radius: 10px;
}

.pointscene-slider.round:before {
  border-radius: 50%;
}
`;const vs={LEFT:1,RIGHT:2,MIDDLE:4},Qe=Object.freeze({NONE:0,ROTATE:1,TRUCK:2,OFFSET:4,DOLLY:8,ZOOM:16,TOUCH_ROTATE:32,TOUCH_TRUCK:64,TOUCH_OFFSET:128,TOUCH_DOLLY:256,TOUCH_ZOOM:512,TOUCH_DOLLY_TRUCK:1024,TOUCH_DOLLY_OFFSET:2048,TOUCH_DOLLY_ROTATE:4096,TOUCH_ZOOM_TRUCK:8192,TOUCH_ZOOM_OFFSET:16384,TOUCH_ZOOM_ROTATE:32768});function cl(e){return e.isPerspectiveCamera}function ua(e){return e.isOrthographicCamera}const zh=Math.PI*2,gI=Math.PI/2,bI=1e-5;function es(e,i=bI){return Math.abs(e)<i}function ts(e,i,t=bI){return es(e-i,t)}function II(e,i){return Math.round(e/i)*i}function fu(e){return isFinite(e)?e:e<0?-Number.MAX_VALUE:Number.MAX_VALUE}function Tu(e){return Math.abs(e)<Number.MAX_VALUE?e:e*(1/0)}function yy(e,i){i.set(0,0),e.forEach(t=>{i.x+=t.clientX,i.y+=t.clientY}),i.x/=e.length,i.y/=e.length}function fy(e,i){return ua(e)?(console.warn(`${i} is not supported in OrthographicCamera`),!0):!1}function LI(e){return e.invert?e.invert():e.inverse(),e}class NH{constructor(){this._listeners={}}addEventListener(i,t){const s=this._listeners;s[i]===void 0&&(s[i]=[]),s[i].indexOf(t)===-1&&s[i].push(t)}hasEventListener(i,t){const s=this._listeners;return s[i]!==void 0&&s[i].indexOf(t)!==-1}removeEventListener(i,t){const n=this._listeners[i];if(n!==void 0){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}}removeAllEventListeners(i){if(!i){this._listeners={};return}Array.isArray(this._listeners[i])&&(this._listeners[i].length=0)}dispatchEvent(i){const s=this._listeners[i.type];if(s!==void 0){i.target=this;const n=s.slice(0);for(let r=0,o=n.length;r<o;r++)n[r].call(this,i)}}}const FH="1.38.1",Od=1/8,SI=typeof window<"u",PH=SI&&/Mac/.test(navigator.platform),MI=!(SI&&"PointerEvent"in window);let bt,xI,zd,Ty,Mn,ei,Oi,Wh,Or,zr,ul,vI,GI,Tr,gu,Yh,EI,gy,CI,by,Iy,Wd;class Ai extends NH{static install(i){bt=i.THREE,xI=Object.freeze(new bt.Vector3(0,0,0)),zd=Object.freeze(new bt.Vector3(0,1,0)),Ty=Object.freeze(new bt.Vector3(0,0,1)),Mn=new bt.Vector2,ei=new bt.Vector3,Oi=new bt.Vector3,Wh=new bt.Vector3,Or=new bt.Vector3,zr=new bt.Vector3,ul=new bt.Vector3,vI=new bt.Vector3,GI=new bt.Vector3,Tr=new bt.Spherical,gu=new bt.Spherical,Yh=new bt.Box3,EI=new bt.Box3,gy=new bt.Sphere,CI=new bt.Quaternion,by=new bt.Quaternion,Iy=new bt.Matrix4,Wd=new bt.Raycaster}static get ACTION(){return Qe}constructor(i,t){super();this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.minDistance=0,this.maxDistance=1/0,this.infinityDolly=!1,this.minZoom=.01,this.maxZoom=1/0,this.dampingFactor=.05,this.draggingDampingFactor=.25,this.azimuthRotateSpeed=1,this.polarRotateSpeed=1,this.dollySpeed=1,this.truckSpeed=2,this.dollyToCursor=!1,this.dragToOffset=!1,this.verticalDragToForward=!1,this.boundaryFriction=0,this.restThreshold=.01,this.colliderMeshes=[],this.cancel=()=>{},this._enabled=!0,this._state=Qe.NONE,this._viewport=null,this._affectOffset=!1,this._dollyControlAmount=0,this._hasRested=!0,this._boundaryEnclosesCamera=!1,this._needsUpdate=!0,this._updatedLastTime=!1,this._elementRect=new DOMRect,this._activePointers=[],this._truckInternal=(P,w,O)=>{if(cl(this._camera)){const X=ei.copy(this._camera.position).sub(this._target),K=this._camera.getEffectiveFOV()*bt.MathUtils.DEG2RAD,ee=X.length()*Math.tan(K*.5),ce=this.truckSpeed*P*ee/this._elementRect.height,me=this.truckSpeed*w*ee/this._elementRect.height;this.verticalDragToForward?(O?this.setFocalOffset(this._focalOffsetEnd.x+ce,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(ce,0,!0),this.forward(-me,!0)):O?this.setFocalOffset(this._focalOffsetEnd.x+ce,this._focalOffsetEnd.y+me,this._focalOffsetEnd.z,!0):this.truck(ce,me,!0)}else if(ua(this._camera)){const X=this._camera,K=P*(X.right-X.left)/X.zoom/this._elementRect.width,ee=w*(X.top-X.bottom)/X.zoom/this._elementRect.height;O?this.setFocalOffset(this._focalOffsetEnd.x+K,this._focalOffsetEnd.y+ee,this._focalOffsetEnd.z,!0):this.truck(K,ee,!0)}},this._rotateInternal=(P,w)=>{const O=zh*this.azimuthRotateSpeed*P/this._elementRect.height,X=zh*this.polarRotateSpeed*w/this._elementRect.height;this.rotate(O,X,!0)},this._dollyInternal=(P,w,O)=>{const X=Math.pow(.95,-P*this.dollySpeed),K=this._sphericalEnd.radius*X,ee=this._sphericalEnd.radius,ce=ee*(P>=0?-1:1);this.dollyTo(K),this.infinityDolly&&(K<this.minDistance||this.maxDistance===this.minDistance)&&(this._camera.getWorldDirection(ei),this._targetEnd.add(ei.normalize().multiplyScalar(ce)),this._target.add(ei.normalize().multiplyScalar(ce))),this.dollyToCursor&&(this._dollyControlAmount+=this._sphericalEnd.radius-ee,this.infinityDolly&&(K<this.minDistance||this.maxDistance===this.minDistance)&&(this._dollyControlAmount-=ce),this._dollyControlCoord.set(w,O))},this._zoomInternal=(P,w,O)=>{const X=Math.pow(.95,P*this.dollySpeed),K=this._zoomEnd;this.zoomTo(this._zoom*X),this.dollyToCursor&&(this._dollyControlAmount+=this._zoomEnd-K,this._dollyControlCoord.set(w,O))},typeof bt>"u"&&console.error("camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information."),this._camera=i,this._yAxisUpSpace=new bt.Quaternion().setFromUnitVectors(this._camera.up,zd),this._yAxisUpSpaceInverse=LI(this._yAxisUpSpace.clone()),this._state=Qe.NONE,this._target=new bt.Vector3,this._targetEnd=this._target.clone(),this._focalOffset=new bt.Vector3,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=new bt.Spherical().setFromVector3(ei.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._nearPlaneCorners=[new bt.Vector3,new bt.Vector3,new bt.Vector3,new bt.Vector3],this._updateNearPlaneCorners(),this._boundary=new bt.Box3(new bt.Vector3(-1/0,-1/0,-1/0),new bt.Vector3(1/0,1/0,1/0)),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlAmount=0,this._dollyControlCoord=new bt.Vector2,this.mouseButtons={left:Qe.ROTATE,middle:Qe.DOLLY,right:Qe.TRUCK,wheel:cl(this._camera)?Qe.DOLLY:ua(this._camera)?Qe.ZOOM:Qe.NONE},this.touches={one:Qe.TOUCH_ROTATE,two:cl(this._camera)?Qe.TOUCH_DOLLY_TRUCK:ua(this._camera)?Qe.TOUCH_ZOOM_TRUCK:Qe.NONE,three:Qe.TOUCH_TRUCK};const s=new bt.Vector2,n=new bt.Vector2,r=new bt.Vector2,o=P=>{if(!this._enabled||!this._domElement)return;const w={pointerId:P.pointerId,clientX:P.clientX,clientY:P.clientY,deltaX:0,deltaY:0};this._activePointers.push(w),this._domElement.ownerDocument.removeEventListener("pointermove",h,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",p),this._domElement.ownerDocument.addEventListener("pointermove",h,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",p),C(P)},a=P=>{if(!this._enabled||!this._domElement)return;const w={pointerId:0,clientX:P.clientX,clientY:P.clientY,deltaX:0,deltaY:0};this._activePointers.push(w),this._domElement.ownerDocument.removeEventListener("mousemove",c),this._domElement.ownerDocument.removeEventListener("mouseup",d),this._domElement.ownerDocument.addEventListener("mousemove",c),this._domElement.ownerDocument.addEventListener("mouseup",d),C(P)},l=P=>{!this._enabled||!this._domElement||(P.preventDefault(),Array.prototype.forEach.call(P.changedTouches,w=>{const O={pointerId:w.identifier,clientX:w.clientX,clientY:w.clientY,deltaX:0,deltaY:0};this._activePointers.push(O)}),this._domElement.ownerDocument.removeEventListener("touchmove",u,{passive:!1}),this._domElement.ownerDocument.removeEventListener("touchend",T),this._domElement.ownerDocument.addEventListener("touchmove",u,{passive:!1}),this._domElement.ownerDocument.addEventListener("touchend",T),C(P))},h=P=>{P.cancelable&&P.preventDefault();const w=P.pointerId,O=this._findPointerById(w);if(!!O){if(O.clientX=P.clientX,O.clientY=P.clientY,O.deltaX=P.movementX,O.deltaY=P.movementY,P.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=0,(P.buttons&vs.LEFT)===vs.LEFT&&(this._state=this._state|this.mouseButtons.left),(P.buttons&vs.MIDDLE)===vs.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(P.buttons&vs.RIGHT)===vs.RIGHT&&(this._state=this._state|this.mouseButtons.right);N()}},c=P=>{const w=this._findPointerById(0);!w||(w.clientX=P.clientX,w.clientY=P.clientY,w.deltaX=P.movementX,w.deltaY=P.movementY,this._state=0,(P.buttons&vs.LEFT)===vs.LEFT&&(this._state=this._state|this.mouseButtons.left),(P.buttons&vs.MIDDLE)===vs.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(P.buttons&vs.RIGHT)===vs.RIGHT&&(this._state=this._state|this.mouseButtons.right),N())},u=P=>{P.cancelable&&P.preventDefault(),Array.prototype.forEach.call(P.changedTouches,w=>{const O=w.identifier,X=this._findPointerById(O);!X||(X.clientX=w.clientX,X.clientY=w.clientY)}),N()},p=P=>{const w=P.pointerId,O=this._findPointerById(w);if(O&&this._activePointers.splice(this._activePointers.indexOf(O),1),P.pointerType==="touch")switch(this._activePointers.length){case 0:this._state=Qe.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=Qe.NONE;F()},d=()=>{const P=this._findPointerById(0);P&&this._activePointers.splice(this._activePointers.indexOf(P),1),this._state=Qe.NONE,F()},T=P=>{switch(Array.prototype.forEach.call(P.changedTouches,w=>{const O=w.identifier,X=this._findPointerById(O);X&&this._activePointers.splice(this._activePointers.indexOf(X),1)}),this._activePointers.length){case 0:this._state=Qe.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}F()};let g=-1;const I=P=>{if(!this._enabled||this.mouseButtons.wheel===Qe.NONE)return;if(P.preventDefault(),this.dollyToCursor||this.mouseButtons.wheel===Qe.ROTATE||this.mouseButtons.wheel===Qe.TRUCK){const ee=performance.now();g-ee<1e3&&this._getClientRect(this._elementRect),g=ee}const w=PH?-1:-3,O=P.deltaMode===1?P.deltaY/w:P.deltaY/(w*10),X=this.dollyToCursor?(P.clientX-this._elementRect.x)/this._elementRect.width*2-1:0,K=this.dollyToCursor?(P.clientY-this._elementRect.y)/this._elementRect.height*-2+1:0;switch(this.mouseButtons.wheel){case Qe.ROTATE:{this._rotateInternal(P.deltaX,P.deltaY);break}case Qe.TRUCK:{this._truckInternal(P.deltaX,P.deltaY,!1);break}case Qe.OFFSET:{this._truckInternal(P.deltaX,P.deltaY,!0);break}case Qe.DOLLY:{this._dollyInternal(-O,X,K);break}case Qe.ZOOM:{this._zoomInternal(-O,X,K);break}}this.dispatchEvent({type:"control"})},v=P=>{!this._enabled||P.preventDefault()},C=P=>{if(!this._enabled)return;if(yy(this._activePointers,Mn),this._getClientRect(this._elementRect),s.copy(Mn),n.copy(Mn),this._activePointers.length>=2){const O=Mn.x-this._activePointers[1].clientX,X=Mn.y-this._activePointers[1].clientY,K=Math.sqrt(O*O+X*X);r.set(0,K);const ee=(this._activePointers[0].clientX+this._activePointers[1].clientX)*.5,ce=(this._activePointers[0].clientY+this._activePointers[1].clientY)*.5;n.set(ee,ce)}if("touches"in P||"pointerType"in P&&P.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=0,(P.buttons&vs.LEFT)===vs.LEFT&&(this._state=this._state|this.mouseButtons.left),(P.buttons&vs.MIDDLE)===vs.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(P.buttons&vs.RIGHT)===vs.RIGHT&&(this._state=this._state|this.mouseButtons.right);this.dispatchEvent({type:"controlstart"})},N=()=>{if(!this._enabled)return;yy(this._activePointers,Mn);const P=this._domElement&&document.pointerLockElement===this._domElement,w=P?-this._activePointers[0].deltaX:n.x-Mn.x,O=P?-this._activePointers[0].deltaY:n.y-Mn.y;if(n.copy(Mn),((this._state&Qe.ROTATE)===Qe.ROTATE||(this._state&Qe.TOUCH_ROTATE)===Qe.TOUCH_ROTATE||(this._state&Qe.TOUCH_DOLLY_ROTATE)===Qe.TOUCH_DOLLY_ROTATE||(this._state&Qe.TOUCH_ZOOM_ROTATE)===Qe.TOUCH_ZOOM_ROTATE)&&this._rotateInternal(w,O),(this._state&Qe.DOLLY)===Qe.DOLLY||(this._state&Qe.ZOOM)===Qe.ZOOM){const X=this.dollyToCursor?(s.x-this._elementRect.x)/this._elementRect.width*2-1:0,K=this.dollyToCursor?(s.y-this._elementRect.y)/this._elementRect.height*-2+1:0;(this._state&Qe.DOLLY)===Qe.DOLLY?this._dollyInternal(O*Od,X,K):this._zoomInternal(O*Od,X,K)}if((this._state&Qe.TOUCH_DOLLY)===Qe.TOUCH_DOLLY||(this._state&Qe.TOUCH_ZOOM)===Qe.TOUCH_ZOOM||(this._state&Qe.TOUCH_DOLLY_TRUCK)===Qe.TOUCH_DOLLY_TRUCK||(this._state&Qe.TOUCH_ZOOM_TRUCK)===Qe.TOUCH_ZOOM_TRUCK||(this._state&Qe.TOUCH_DOLLY_OFFSET)===Qe.TOUCH_DOLLY_OFFSET||(this._state&Qe.TOUCH_ZOOM_OFFSET)===Qe.TOUCH_ZOOM_OFFSET||(this._state&Qe.TOUCH_DOLLY_ROTATE)===Qe.TOUCH_DOLLY_ROTATE||(this._state&Qe.TOUCH_ZOOM_ROTATE)===Qe.TOUCH_ZOOM_ROTATE){const X=Mn.x-this._activePointers[1].clientX,K=Mn.y-this._activePointers[1].clientY,ee=Math.sqrt(X*X+K*K),ce=r.y-ee;r.set(0,ee);const me=this.dollyToCursor?(n.x-this._elementRect.x)/this._elementRect.width*2-1:0,ae=this.dollyToCursor?(n.y-this._elementRect.y)/this._elementRect.height*-2+1:0;(this._state&Qe.TOUCH_DOLLY)===Qe.TOUCH_DOLLY||(this._state&Qe.TOUCH_DOLLY_ROTATE)===Qe.TOUCH_DOLLY_ROTATE||(this._state&Qe.TOUCH_DOLLY_TRUCK)===Qe.TOUCH_DOLLY_TRUCK||(this._state&Qe.TOUCH_DOLLY_OFFSET)===Qe.TOUCH_DOLLY_OFFSET?this._dollyInternal(ce*Od,me,ae):this._zoomInternal(ce*Od,me,ae)}((this._state&Qe.TRUCK)===Qe.TRUCK||(this._state&Qe.TOUCH_TRUCK)===Qe.TOUCH_TRUCK||(this._state&Qe.TOUCH_DOLLY_TRUCK)===Qe.TOUCH_DOLLY_TRUCK||(this._state&Qe.TOUCH_ZOOM_TRUCK)===Qe.TOUCH_ZOOM_TRUCK)&&this._truckInternal(w,O,!1),((this._state&Qe.OFFSET)===Qe.OFFSET||(this._state&Qe.TOUCH_OFFSET)===Qe.TOUCH_OFFSET||(this._state&Qe.TOUCH_DOLLY_OFFSET)===Qe.TOUCH_DOLLY_OFFSET||(this._state&Qe.TOUCH_ZOOM_OFFSET)===Qe.TOUCH_ZOOM_OFFSET)&&this._truckInternal(w,O,!0),this.dispatchEvent({type:"control"})},F=()=>{yy(this._activePointers,Mn),n.copy(Mn),this._activePointers.length===0&&this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointermove",h,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",p),this._domElement.ownerDocument.removeEventListener("touchmove",u,{passive:!1}),this._domElement.ownerDocument.removeEventListener("touchend",T),this.dispatchEvent({type:"controlend"}))};this._addAllEventListeners=P=>{this._domElement=P,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._domElement.addEventListener("pointerdown",o),MI&&this._domElement.addEventListener("mousedown",a),MI&&this._domElement.addEventListener("touchstart",l),this._domElement.addEventListener("pointercancel",p),this._domElement.addEventListener("wheel",I,{passive:!1}),this._domElement.addEventListener("contextmenu",v)},this._removeAllEventListeners=()=>{!this._domElement||(this._domElement.removeEventListener("pointerdown",o),this._domElement.removeEventListener("mousedown",a),this._domElement.removeEventListener("touchstart",l),this._domElement.removeEventListener("pointercancel",p),this._domElement.removeEventListener("wheel",I,{passive:!1}),this._domElement.removeEventListener("contextmenu",v),this._domElement.ownerDocument.removeEventListener("pointermove",h,{passive:!1}),this._domElement.ownerDocument.removeEventListener("mousemove",c),this._domElement.ownerDocument.removeEventListener("touchmove",u,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",p),this._domElement.ownerDocument.removeEventListener("mouseup",d),this._domElement.ownerDocument.removeEventListener("touchend",T))},this.cancel=()=>{this._state!==Qe.NONE&&(this._state=Qe.NONE,this._activePointers.length=0,F())},t&&this.connect(t),this.update(0)}get camera(){return this._camera}set camera(i){this._camera=i,this.updateCameraUp(),this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(i){!this._domElement||(this._enabled=i,i?(this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none"):(this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect=""))}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(i){this._spherical.radius===i&&this._sphericalEnd.radius===i||(this._spherical.radius=i,this._sphericalEnd.radius=i,this._needsUpdate=!0)}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(i){this._spherical.theta===i&&this._sphericalEnd.theta===i||(this._spherical.theta=i,this._sphericalEnd.theta=i,this._needsUpdate=!0)}get polarAngle(){return this._spherical.phi}set polarAngle(i){this._spherical.phi===i&&this._sphericalEnd.phi===i||(this._spherical.phi=i,this._sphericalEnd.phi=i,this._needsUpdate=!0)}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(i){this._boundaryEnclosesCamera=i,this._needsUpdate=!0}addEventListener(i,t){super.addEventListener(i,t)}removeEventListener(i,t){super.removeEventListener(i,t)}rotate(i,t,s=!1){return this.rotateTo(this._sphericalEnd.theta+i,this._sphericalEnd.phi+t,s)}rotateAzimuthTo(i,t=!1){return this.rotateTo(i,this._sphericalEnd.phi,t)}rotatePolarTo(i,t=!1){return this.rotateTo(this._sphericalEnd.theta,i,t)}rotateTo(i,t,s=!1){const n=bt.MathUtils.clamp(i,this.minAzimuthAngle,this.maxAzimuthAngle),r=bt.MathUtils.clamp(t,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=n,this._sphericalEnd.phi=r,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,s||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi);const o=!s||ts(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&ts(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(o)}dolly(i,t=!1){return this.dollyTo(this._sphericalEnd.radius-i,t)}dollyTo(i,t=!1){const s=this._sphericalEnd.radius,n=bt.MathUtils.clamp(i,this.minDistance,this.maxDistance);if(this.colliderMeshes.length>=1){const a=this._collisionTest(),l=ts(a,this._spherical.radius);if(!(s>n)&&l)return Promise.resolve();this._sphericalEnd.radius=Math.min(n,a)}else this._sphericalEnd.radius=n;this._needsUpdate=!0,t||(this._spherical.radius=this._sphericalEnd.radius);const o=!t||ts(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(o)}zoom(i,t=!1){return this.zoomTo(this._zoomEnd+i,t)}zoomTo(i,t=!1){this._zoomEnd=bt.MathUtils.clamp(i,this.minZoom,this.maxZoom),this._needsUpdate=!0,t||(this._zoom=this._zoomEnd);const s=!t||ts(this._zoom,this._zoomEnd,this.restThreshold);return this._createOnRestPromise(s)}pan(i,t,s=!1){return console.warn("`pan` has been renamed to `truck`"),this.truck(i,t,s)}truck(i,t,s=!1){this._camera.updateMatrix(),Or.setFromMatrixColumn(this._camera.matrix,0),zr.setFromMatrixColumn(this._camera.matrix,1),Or.multiplyScalar(i),zr.multiplyScalar(-t);const n=ei.copy(Or).add(zr),r=Oi.copy(this._targetEnd).add(n);return this.moveTo(r.x,r.y,r.z,s)}forward(i,t=!1){ei.setFromMatrixColumn(this._camera.matrix,0),ei.crossVectors(this._camera.up,ei),ei.multiplyScalar(i);const s=Oi.copy(this._targetEnd).add(ei);return this.moveTo(s.x,s.y,s.z,t)}moveTo(i,t,s,n=!1){const r=ei.set(i,t,s).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,r,this.boundaryFriction),this._needsUpdate=!0,n||this._target.copy(this._targetEnd);const o=!n||ts(this._target.x,this._targetEnd.x,this.restThreshold)&&ts(this._target.y,this._targetEnd.y,this.restThreshold)&&ts(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(o)}fitToBox(i,t,{cover:s=!1,paddingLeft:n=0,paddingRight:r=0,paddingBottom:o=0,paddingTop:a=0}={}){const l=[],h=i.isBox3?Yh.copy(i):Yh.setFromObject(i);h.isEmpty()&&(console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve());const c=II(this._sphericalEnd.theta,gI),u=II(this._sphericalEnd.phi,gI);l.push(this.rotateTo(c,u,t));const p=ei.setFromSpherical(this._sphericalEnd).normalize(),d=CI.setFromUnitVectors(p,Ty),T=ts(Math.abs(p.y),1);T&&d.multiply(by.setFromAxisAngle(zd,c)),d.multiply(this._yAxisUpSpaceInverse);const g=EI.makeEmpty();Oi.copy(h.min).applyQuaternion(d),g.expandByPoint(Oi),Oi.copy(h.min).setX(h.max.x).applyQuaternion(d),g.expandByPoint(Oi),Oi.copy(h.min).setY(h.max.y).applyQuaternion(d),g.expandByPoint(Oi),Oi.copy(h.max).setZ(h.min.z).applyQuaternion(d),g.expandByPoint(Oi),Oi.copy(h.min).setZ(h.max.z).applyQuaternion(d),g.expandByPoint(Oi),Oi.copy(h.max).setY(h.min.y).applyQuaternion(d),g.expandByPoint(Oi),Oi.copy(h.max).setX(h.min.x).applyQuaternion(d),g.expandByPoint(Oi),Oi.copy(h.max).applyQuaternion(d),g.expandByPoint(Oi),g.min.x-=n,g.min.y-=o,g.max.x+=r,g.max.y+=a,d.setFromUnitVectors(Ty,p),T&&d.premultiply(by.invert()),d.premultiply(this._yAxisUpSpace);const I=g.getSize(ei),v=g.getCenter(Oi).applyQuaternion(d);if(cl(this._camera)){const C=this.getDistanceToFitBox(I.x,I.y,I.z,s);l.push(this.moveTo(v.x,v.y,v.z,t)),l.push(this.dollyTo(C,t)),l.push(this.setFocalOffset(0,0,0,t))}else if(ua(this._camera)){const C=this._camera,N=C.right-C.left,F=C.top-C.bottom,P=s?Math.max(N/I.x,F/I.y):Math.min(N/I.x,F/I.y);l.push(this.moveTo(v.x,v.y,v.z,t)),l.push(this.zoomTo(P,t)),l.push(this.setFocalOffset(0,0,0,t))}return Promise.all(l)}fitToSphere(i,t){const s=[],r=i instanceof bt.Sphere?gy.copy(i):wH(i,gy);if(s.push(this.moveTo(r.center.x,r.center.y,r.center.z,t)),cl(this._camera)){const o=this.getDistanceToFitSphere(r.radius);s.push(this.dollyTo(o,t))}else if(ua(this._camera)){const o=this._camera.right-this._camera.left,a=this._camera.top-this._camera.bottom,l=2*r.radius,h=Math.min(o/l,a/l);s.push(this.zoomTo(h,t))}return s.push(this.setFocalOffset(0,0,0,t)),Promise.all(s)}setLookAt(i,t,s,n,r,o,a=!1){const l=Oi.set(n,r,o),h=ei.set(i,t,s);this._targetEnd.copy(l),this._sphericalEnd.setFromVector3(h.sub(l).applyQuaternion(this._yAxisUpSpace)),this.normalizeRotations(),this._needsUpdate=!0,a||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const c=!a||ts(this._target.x,this._targetEnd.x,this.restThreshold)&&ts(this._target.y,this._targetEnd.y,this.restThreshold)&&ts(this._target.z,this._targetEnd.z,this.restThreshold)&&ts(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&ts(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&ts(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(c)}lerpLookAt(i,t,s,n,r,o,a,l,h,c,u,p,d,T=!1){const g=ei.set(n,r,o),I=Oi.set(i,t,s);Tr.setFromVector3(I.sub(g).applyQuaternion(this._yAxisUpSpace));const v=Wh.set(c,u,p),C=Oi.set(a,l,h);gu.setFromVector3(C.sub(v).applyQuaternion(this._yAxisUpSpace)),this._targetEnd.copy(g.lerp(v,d));const N=gu.theta-Tr.theta,F=gu.phi-Tr.phi,P=gu.radius-Tr.radius;this._sphericalEnd.set(Tr.radius+P*d,Tr.phi+F*d,Tr.theta+N*d),this.normalizeRotations(),this._needsUpdate=!0,T||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const w=!T||ts(this._target.x,this._targetEnd.x,this.restThreshold)&&ts(this._target.y,this._targetEnd.y,this.restThreshold)&&ts(this._target.z,this._targetEnd.z,this.restThreshold)&&ts(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&ts(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&ts(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(w)}setPosition(i,t,s,n=!1){return this.setLookAt(i,t,s,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,n)}setTarget(i,t,s,n=!1){const r=this.getPosition(ei),o=this.setLookAt(r.x,r.y,r.z,i,t,s,n);return this._sphericalEnd.phi=bt.MathUtils.clamp(this.polarAngle,this.minPolarAngle,this.maxPolarAngle),o}setFocalOffset(i,t,s,n=!1){this._focalOffsetEnd.set(i,t,s),this._needsUpdate=!0,n||this._focalOffset.copy(this._focalOffsetEnd),this._affectOffset=!es(i)||!es(t)||!es(s);const r=!n||ts(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&ts(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&ts(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(r)}setOrbitPoint(i,t,s){this._camera.updateMatrixWorld(),Or.setFromMatrixColumn(this._camera.matrixWorldInverse,0),zr.setFromMatrixColumn(this._camera.matrixWorldInverse,1),ul.setFromMatrixColumn(this._camera.matrixWorldInverse,2);const n=ei.set(i,t,s),r=n.distanceTo(this._camera.position),o=n.sub(this._camera.position);Or.multiplyScalar(o.x),zr.multiplyScalar(o.y),ul.multiplyScalar(o.z),ei.copy(Or).add(zr).add(ul),ei.z=ei.z+r,this.dollyTo(r,!1),this.setFocalOffset(-ei.x,ei.y,-ei.z,!1),this.moveTo(i,t,s,!1)}setBoundary(i){if(!i){this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),this._needsUpdate=!0;return}this._boundary.copy(i),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(i,t,s,n){if(i===null){this._viewport=null;return}this._viewport=this._viewport||new bt.Vector4,typeof i=="number"?this._viewport.set(i,t,s,n):this._viewport.copy(i)}getDistanceToFitBox(i,t,s,n=!1){if(fy(this._camera,"getDistanceToFitBox"))return this._spherical.radius;const r=i/t,o=this._camera.getEffectiveFOV()*bt.MathUtils.DEG2RAD,a=this._camera.aspect;return((n?r>a:r<a)?t:i/a)*.5/Math.tan(o*.5)+s*.5}getDistanceToFitSphere(i){if(fy(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;const t=this._camera.getEffectiveFOV()*bt.MathUtils.DEG2RAD,s=Math.atan(Math.tan(t*.5)*this._camera.aspect)*2,n=1<this._camera.aspect?t:s;return i/Math.sin(n*.5)}getTarget(i){return(!!i&&i.isVector3?i:new bt.Vector3).copy(this._targetEnd)}getPosition(i){return(!!i&&i.isVector3?i:new bt.Vector3).setFromSpherical(this._sphericalEnd).applyQuaternion(this._yAxisUpSpaceInverse).add(this._targetEnd)}getFocalOffset(i){return(!!i&&i.isVector3?i:new bt.Vector3).copy(this._focalOffsetEnd)}normalizeRotations(){this._sphericalEnd.theta=this._sphericalEnd.theta%zh,this._sphericalEnd.theta<0&&(this._sphericalEnd.theta+=zh),this._spherical.theta+=zh*Math.round((this._sphericalEnd.theta-this._spherical.theta)/zh)}reset(i=!1){const t=[this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,i),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,i),this.zoomTo(this._zoom0,i)];return Promise.all(t)}saveState(){this.getTarget(this._target0),this.getPosition(this._position0),this._zoom0=this._zoom,this._focalOffset0.copy(this._focalOffset)}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,zd),LI(this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace))}update(i){const t=this._state===Qe.NONE?this.dampingFactor:this.draggingDampingFactor,s=Math.min(t*i*60,1),n=this._sphericalEnd.theta-this._spherical.theta,r=this._sphericalEnd.phi-this._spherical.phi,o=this._sphericalEnd.radius-this._spherical.radius,a=vI.subVectors(this._targetEnd,this._target),l=GI.subVectors(this._focalOffsetEnd,this._focalOffset);if(!es(n)||!es(r)||!es(o)||!es(a.x)||!es(a.y)||!es(a.z)||!es(l.x)||!es(l.y)||!es(l.z)?(this._spherical.set(this._spherical.radius+o*s,this._spherical.phi+r*s,this._spherical.theta+n*s),this._target.add(a.multiplyScalar(s)),this._focalOffset.add(l.multiplyScalar(s)),this._needsUpdate=!0):(this._spherical.copy(this._sphericalEnd),this._target.copy(this._targetEnd),this._focalOffset.copy(this._focalOffsetEnd)),this._dollyControlAmount!==0){if(cl(this._camera)){const p=this._camera,d=ei.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).normalize().negate(),T=Oi.copy(d).cross(p.up).normalize();T.lengthSq()===0&&(T.x=1);const g=Wh.crossVectors(T,d),I=this._sphericalEnd.radius*Math.tan(p.getEffectiveFOV()*bt.MathUtils.DEG2RAD*.5),C=(this._sphericalEnd.radius-this._dollyControlAmount-this._sphericalEnd.radius)/this._sphericalEnd.radius,N=ei.copy(this._targetEnd).add(T.multiplyScalar(this._dollyControlCoord.x*I*p.aspect)).add(g.multiplyScalar(this._dollyControlCoord.y*I));this._targetEnd.lerp(N,C)}else if(ua(this._camera)){const p=this._camera,d=ei.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(p.near+p.far)/(p.near-p.far)).unproject(p),T=Oi.set(0,0,-1).applyQuaternion(p.quaternion),g=Wh.copy(d).add(T.multiplyScalar(-d.dot(p.up))),v=-(this._zoom-this._dollyControlAmount-this._zoomEnd)/this._zoom,C=ei.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).normalize().negate(),N=this._targetEnd.dot(C);this._targetEnd.lerp(g,v);const F=this._targetEnd.dot(C),P=C.multiplyScalar(F-N);this._targetEnd.sub(P)}this._target.copy(this._targetEnd),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._dollyControlAmount=0}const h=this._zoomEnd-this._zoom;this._zoom+=h*s,this._camera.zoom!==this._zoom&&(es(h)&&(this._zoom=this._zoomEnd),this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0);const c=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,c),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),this._affectOffset&&(this._camera.updateMatrixWorld(),Or.setFromMatrixColumn(this._camera.matrix,0),zr.setFromMatrixColumn(this._camera.matrix,1),ul.setFromMatrixColumn(this._camera.matrix,2),Or.multiplyScalar(this._focalOffset.x),zr.multiplyScalar(-this._focalOffset.y),ul.multiplyScalar(this._focalOffset.z),ei.copy(Or).add(zr).add(ul),this._camera.position.add(ei)),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),ei.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);const u=this._needsUpdate;return u&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):u?(this.dispatchEvent({type:"update"}),es(n,this.restThreshold)&&es(r,this.restThreshold)&&es(o,this.restThreshold)&&es(a.x,this.restThreshold)&&es(a.y,this.restThreshold)&&es(a.z,this.restThreshold)&&es(l.x,this.restThreshold)&&es(l.y,this.restThreshold)&&es(l.z,this.restThreshold)&&es(h,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:"rest"}))):!u&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._updatedLastTime=u,this._needsUpdate=!1,u}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:fu(this.maxDistance),minZoom:this.minZoom,maxZoom:fu(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:fu(this.maxPolarAngle),minAzimuthAngle:fu(this.minAzimuthAngle),maxAzimuthAngle:fu(this.maxAzimuthAngle),dampingFactor:this.dampingFactor,draggingDampingFactor:this.draggingDampingFactor,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,verticalDragToForward:this.verticalDragToForward,target:this._targetEnd.toArray(),position:ei.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(i,t=!1){const s=JSON.parse(i),n=ei.fromArray(s.position);this.enabled=s.enabled,this.minDistance=s.minDistance,this.maxDistance=Tu(s.maxDistance),this.minZoom=s.minZoom,this.maxZoom=Tu(s.maxZoom),this.minPolarAngle=s.minPolarAngle,this.maxPolarAngle=Tu(s.maxPolarAngle),this.minAzimuthAngle=Tu(s.minAzimuthAngle),this.maxAzimuthAngle=Tu(s.maxAzimuthAngle),this.dampingFactor=s.dampingFactor,this.draggingDampingFactor=s.draggingDampingFactor,this.dollySpeed=s.dollySpeed,this.truckSpeed=s.truckSpeed,this.dollyToCursor=s.dollyToCursor,this.verticalDragToForward=s.verticalDragToForward,this._target0.fromArray(s.target0),this._position0.fromArray(s.position0),this._zoom0=s.zoom0,this._focalOffset0.fromArray(s.focalOffset0),this.moveTo(s.target[0],s.target[1],s.target[2],t),Tr.setFromVector3(n.sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(Tr.theta,Tr.phi,t),this.zoomTo(s.zoom,t),this.setFocalOffset(s.focalOffset[0],s.focalOffset[1],s.focalOffset[2],t),this._needsUpdate=!0}connect(i){if(this._domElement){console.warn("camera-controls is already connected.");return}i.setAttribute("data-camera-controls-version",FH),this._addAllEventListeners(i)}disconnect(){this._removeAllEventListeners(),this._domElement=void 0}dispose(){this.disconnect(),this._domElement&&"setAttribute"in this._domElement&&this._domElement.removeAttribute("data-camera-controls-version")}_findPointerById(i){let t=null;return this._activePointers.some(s=>s.pointerId===i?(t=s,!0):!1),t}_encloseToBoundary(i,t,s){const n=t.lengthSq();if(n===0)return i;const r=Oi.copy(t).add(i),a=this._boundary.clampPoint(r,Wh).sub(r),l=a.lengthSq();if(l===0)return i.add(t);if(l===n)return i;if(s===0)return i.add(t).add(a);{const h=1+s*l/t.dot(a);return i.add(Oi.copy(t).multiplyScalar(h)).add(a.multiplyScalar(1-s))}}_updateNearPlaneCorners(){if(cl(this._camera)){const i=this._camera,t=i.near,s=i.getEffectiveFOV()*bt.MathUtils.DEG2RAD,n=Math.tan(s*.5)*t,r=n*i.aspect;this._nearPlaneCorners[0].set(-r,-n,0),this._nearPlaneCorners[1].set(r,-n,0),this._nearPlaneCorners[2].set(r,n,0),this._nearPlaneCorners[3].set(-r,n,0)}else if(ua(this._camera)){const i=this._camera,t=1/i.zoom,s=i.left*t,n=i.right*t,r=i.top*t,o=i.bottom*t;this._nearPlaneCorners[0].set(s,r,0),this._nearPlaneCorners[1].set(n,r,0),this._nearPlaneCorners[2].set(n,o,0),this._nearPlaneCorners[3].set(s,o,0)}}_collisionTest(){let i=1/0;if(!(this.colliderMeshes.length>=1)||fy(this._camera,"_collisionTest"))return i;const s=ei.setFromSpherical(this._spherical).divideScalar(this._spherical.radius);Iy.lookAt(xI,s,this._camera.up);for(let n=0;n<4;n++){const r=Oi.copy(this._nearPlaneCorners[n]);r.applyMatrix4(Iy);const o=Wh.addVectors(this._target,r);Wd.set(o,s),Wd.far=this._spherical.radius+1;const a=Wd.intersectObjects(this.colliderMeshes);a.length!==0&&a[0].distance<i&&(i=a[0].distance)}return i}_getClientRect(i){if(!this._domElement)return;const t=this._domElement.getBoundingClientRect();return i.x=t.left,i.y=t.top,this._viewport?(i.x+=this._viewport.x,i.y+=t.height-this._viewport.w-this._viewport.y,i.width=this._viewport.z,i.height=this._viewport.w):(i.width=t.width,i.height=t.height),i}_createOnRestPromise(i){return i?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise(t=>{const s=()=>{this.removeEventListener("rest",s),t()};this.addEventListener("rest",s)}))}_addAllEventListeners(i){}_removeAllEventListeners(){}}function wH(e,i){const t=i,s=t.center;Yh.makeEmpty(),e.traverseVisible(r=>{!r.isMesh||Yh.expandByObject(r)}),Yh.getCenter(s);let n=0;return e.traverseVisible(r=>{if(!r.isMesh)return;const o=r,a=o.geometry.clone();if(a.applyMatrix4(o.matrixWorld),a.isBufferGeometry){const h=a.attributes.position;for(let c=0,u=h.count;c<u;c++)ei.fromBufferAttribute(h,c),n=Math.max(n,s.distanceToSquared(ei))}else{const l=a.attributes.position,h=new bt.Vector3;for(let c=0,u=l.count;c<u;c++)h.fromBufferAttribute(l,c),n=Math.max(n,s.distanceToSquared(h))}}),t.radius=Math.sqrt(n),t}var Ly=(e,i,t)=>new Promise((s,n)=>{var r=l=>{try{a(t.next(l))}catch(h){n(h)}},o=l=>{try{a(t.throw(l))}catch(h){n(h)}},a=l=>l.done?s(l.value):Promise.resolve(l.value).then(r,o);a((t=t.apply(e,i)).next())});const XH={MOUSE:W3,Vector2:ht,Vector3:H,Vector4:nt,Quaternion:bn,Matrix4:pt,Spherical:DA,Box3:Pi,Sphere:In,Raycaster:iu,MathUtils:{DEG2RAD:Ap.DEG2RAD,clamp:Ap.clamp}};Ai.install({THREE:XH});var zn=(e=>(e.FirstPerson="walk",e.Orbit="orbit",e.Spherical="360",e))(zn||{});class RI{constructor(i){this.mode="orbit",this.allowOrbitWalkAutoChange=!1,this.orbitMinDistance=.5,this.orbitMaxDistance=1e4,this.events=new as,this.orbitTruckSpeed=5,this.orbitDollySpeed=.25,this.fpsMinDistance=.1,this.fpsMaxDistance=.5,this.fpsTruckSpeed=20,this.fpsDollySpeed=5,this.sphereMinDistance=1e-5,this.sphereMaxDistance=11e-6,this.updateTimeout=void 0,this.domEl=i.domEl,this.referenceFrame=i.referenceFrame,this.controls=new Ai(i.camera,i.domEl),this.controls.minDistance=this.orbitMinDistance,this.controls.maxDistance=this.orbitMaxDistance,this.controls.infinityDolly=!0,this.controls.dollyToCursor=!0,this.controls.mouseButtons.wheel=Ai.ACTION.DOLLY,this.controls.mouseButtons.right=Ai.ACTION.TRUCK,this.controls.mouseButtons.middle=Ai.ACTION.NONE,this.controls.touches.two=Ai.ACTION.TOUCH_DOLLY_TRUCK,this.controls.truckSpeed=this.orbitTruckSpeed,this.controls.dollySpeed=this.orbitDollySpeed,this.controls.minZoom=.35,this.controls.maxZoom=3,this.handleDisableControls=this.handleDisableControls.bind(this),this.handleEnableControls=this.handleEnableControls.bind(this),this.domEl.addEventListener(Ye.DisableControls,this.handleDisableControls),this.domEl.addEventListener(Ye.EnableControls,this.handleEnableControls),this.handleOnRest=this.handleOnRest.bind(this),this.controls.addEventListener("rest",this.handleOnRest),this.handleOnSleep=this.handleOnSleep.bind(this),this.controls.addEventListener("sleep",this.handleOnSleep),this.handleOnUpdate=this.handleOnUpdate.bind(this),this.controls.addEventListener("update",this.handleOnUpdate)}triggerCameraUpdate(){let i=new H;this.controls.getTarget(i);let t=new H;this.controls.camera.getWorldDirection(t);const s=this.controls.camera.position;t.setLength(s.distanceTo(i)),t=s.clone().add(t);const n={param:"camera",value:this.referenceFrame.toGeo(s).toArray(),paramType:"float[]"},r={param:"look",value:this.referenceFrame.toGeo(t).toArray(),paramType:"float[]"};this.events.dispatch(Ye.UpdateQueryParam,n,this.domEl),this.events.dispatch(Ye.UpdateQueryParam,r,this.domEl)}handleOnUpdate(){this.updateTimeout&&clearTimeout(this.updateTimeout),this.updateTimeout=setTimeout(()=>{this.triggerCameraUpdate(),this.updateTimeout=void 0},250)}handleOnSleep(){return Ly(this,null,function*(){yield this.resetFocalOffset()})}handleOnRest(){return Ly(this,null,function*(){yield this.resetFocalOffset()})}handleDisableControls(){this.disable()}handleEnableControls(){this.enable()}getMode(){return this.mode}updateOrbitPoint(i){this.mode==="orbit"&&this.controls.setOrbitPoint(i.x,i.y,i.z)}setFirstPersonMode(i=!1,t=!1){i&&this.controls.saveState(),t&&this.controls.reset(!0),this.controls.mouseButtons.wheel=Ai.ACTION.DOLLY,this.controls.mouseButtons.left=Ai.ACTION.ROTATE,this.controls.mouseButtons.middle=Ai.ACTION.DOLLY,this.controls.mouseButtons.right=Ai.ACTION.TRUCK,this.controls.touches.one=Ai.ACTION.TOUCH_ROTATE,this.controls.touches.two=Ai.ACTION.TOUCH_DOLLY_TRUCK,this.controls.touches.three=Ai.ACTION.TOUCH_DOLLY_TRUCK,this.controls.minDistance=this.fpsMinDistance,this.controls.maxDistance=this.fpsMaxDistance,this.controls.dollySpeed=this.fpsDollySpeed,this.controls.truckSpeed=this.fpsTruckSpeed,this.controls.infinityDolly=!0,this.controls.dollyToCursor=!0;let s=new H;this.controls.camera.getWorldDirection(s),s.setLength(this.fpsMinDistance);const n=this.controls.camera.position;s=n.clone().add(s),this.controls.setFocalOffset(0,0,0,!1),this.controls.setLookAt(n.x,n.y,n.z,s.x,s.y,s.z,!1),this.mode="walk",this.events.dispatch(Ye.ControlModeChanged,{value:this.mode},this.domEl)}setSphericalMode(i,t,s=!1,n=!1){s&&this.controls.saveState(),n&&this.controls.reset(!0),this.controls.mouseButtons.wheel=Ai.ACTION.ZOOM,this.controls.mouseButtons.left=Ai.ACTION.ROTATE,this.controls.mouseButtons.middle=Ai.ACTION.DOLLY,this.controls.mouseButtons.right=Ai.ACTION.NONE,this.controls.touches.one=Ai.ACTION.TOUCH_ROTATE,this.controls.touches.two=Ai.ACTION.TOUCH_ZOOM,this.controls.touches.three=Ai.ACTION.TOUCH_DOLLY_TRUCK,this.controls.minDistance=this.sphereMinDistance,this.controls.maxDistance=this.sphereMaxDistance,this.controls.infinityDolly=!1,this.controls.dollyToCursor=!1;const r=i.clone().add(t.setLength(this.sphereMinDistance));this.controls.setFocalOffset(0,0,0,!1),this.controls.setLookAt(i.x,i.y,i.z,r.x,r.y,r.z,!1),this.mode="360",this.events.dispatch(Ye.ControlModeChanged,{value:this.mode},this.domEl)}setOrbitMode(i=!1,t=!1){i&&this.controls.saveState(),t&&this.controls.reset(!0),this.controls.mouseButtons.wheel=Ai.ACTION.DOLLY,this.controls.mouseButtons.left=Ai.ACTION.ROTATE,this.controls.mouseButtons.middle=Ai.ACTION.DOLLY,this.controls.mouseButtons.right=Ai.ACTION.TRUCK,this.controls.touches.one=Ai.ACTION.TOUCH_ROTATE,this.controls.touches.two=Ai.ACTION.TOUCH_DOLLY_TRUCK,this.controls.touches.three=Ai.ACTION.TOUCH_DOLLY_TRUCK,this.controls.minDistance=this.orbitMinDistance,this.controls.maxDistance=this.orbitMaxDistance,this.controls.truckSpeed=this.orbitTruckSpeed,this.controls.dollySpeed=this.orbitDollySpeed,this.controls.infinityDolly=!0,this.controls.dollyToCursor=!0,this.mode="orbit",this.events.dispatch(Ye.ControlModeChanged,{value:this.mode},this.domEl)}disable(){this.controls.enabled=!1}enable(){this.controls.enabled=!0}update(i){this.controls.update(i)}resetFocalOffset(){return Ly(this,null,function*(){let i=new H;this.controls.getTarget(i);let t=new H;this.controls.camera.getWorldDirection(t);const s=this.controls.camera.position;t.setLength(s.distanceTo(i)),t=s.clone().add(t),this.controls.setFocalOffset(0,0,0,!1),yield this.controls.setLookAt(s.x,s.y,s.z,t.x,t.y,t.z,!1)})}dispose(){this.controls.removeEventListener("rest",this.handleOnRest),this.controls.removeEventListener("sleep",this.handleOnSleep),this.controls.dispose(),this.domEl.removeEventListener(Ye.DisableControls,this.handleDisableControls),this.domEl.removeEventListener(Ye.EnableControls,this.handleEnableControls)}}var DH=Object.defineProperty,OH=Object.getOwnPropertyDescriptor,Sy=(e,i,t,s)=>{for(var n=s>1?void 0:s?OH(i,t):i,r=e.length-1,o;r>=0;r--)(o=e[r])&&(n=(s?o(i,t,n):o(n))||n);return s&&n&&DH(i,t,n),n};let bu=class extends js{constructor(){super(...arguments);this.options=[],this.disabled=!1,this.divId=`pointscene-dropdown-${Date.now()}`}render(){return Mi`
      <label>
        <select id="${this.divId}" class="pointscene-dropdown" @change=${this.handleChange}>
          ${this.options.map(e=>Mi`
            <option value="${e.value}" .disabled=${e.disabled} .selected=${e.selected}>${e.label}</option>
          `)}
        </select>
      </label>
    `}handleChange(e){var i;const t=(i=this.shadowRoot)==null?void 0:i.querySelector(`#${this.divId}`);this.dispatchEvent(new CustomEvent("change",{detail:{value:t.value}}))}};bu.styles=[SH,fr],Sy([Ot({type:Array})],bu.prototype,"options",2),Sy([Ot({type:Boolean})],bu.prototype,"disabled",2),bu=Sy([Jn("pointscene-dropdown")],bu);function zH(e,i,t){const s=/^localhost$|^127(?:\.[0-9]+){0,2}\.[0-9]+$|^(?:0*:)*?:?0*1$/.test(location.hostname)||location.protocol==="file:";if(!i.trackLocalhost&&s)return console.warn("[Plausible] Ignoring event because website is running locally");try{if(window.localStorage.plausible_ignore==="true")return console.warn('[Plausible] Ignoring event because "plausible_ignore" is set to "true" in localStorage')}catch{}const n={n:e,u:i.url,d:i.domain,r:i.referrer,w:i.deviceWidth,h:i.hashMode?1:0,p:t&&t.props?JSON.stringify(t.props):void 0},r=new XMLHttpRequest;r.open("POST",`${i.apiHost}/api/event`,!0),r.setRequestHeader("Content-Type","text/plain"),r.send(JSON.stringify(n)),r.onreadystatechange=()=>{r.readyState===4&&t&&t.callback&&t.callback()}}function WH(e){const i=()=>({hashMode:!1,trackLocalhost:!1,url:location.href,domain:location.hostname,referrer:document.referrer||null,deviceWidth:window.innerWidth,apiHost:"https://plausible.io",...e}),t=(o,a,l)=>{zH(o,{...i(),...l},a)},s=(o,a)=>{t("pageview",a,o)};return{trackEvent:t,trackPageview:s,enableAutoPageviews:()=>{const o=()=>s(),a=history.pushState;return a&&(history.pushState=function(l,h,c){a.apply(this,[l,h,c]),o()},addEventListener("popstate",o)),e&&e.hashMode&&addEventListener("hashchange",o),s(),function(){a&&(history.pushState=a,removeEventListener("popstate",o)),e&&e.hashMode&&removeEventListener("hashchange",o)}},enableAutoOutboundTracking:(o=document,a={subtree:!0,childList:!0,attributes:!0,attributeFilter:["href"]})=>{function l(d){t("Outbound Link: Click",{props:{url:this.href}}),typeof process<"u"&&process&&process.env.NODE_ENV==="test"||setTimeout(()=>{location.href=this.href},150),d.preventDefault()}const h=new Set;function c(d){d instanceof HTMLAnchorElement?d.host!==location.host&&(d.addEventListener("click",l),h.add(d)):"querySelectorAll"in d&&d.querySelectorAll("a").forEach(c)}function u(d){d instanceof HTMLAnchorElement?(d.removeEventListener("click",l),h.delete(d)):"querySelectorAll"in d&&d.querySelectorAll("a").forEach(u)}const p=new MutationObserver(d=>{d.forEach(T=>{T.type==="attributes"?(u(T.target),c(T.target)):T.type==="childList"&&(T.addedNodes.forEach(c),T.removedNodes.forEach(u))})});return o.querySelectorAll("a").forEach(c),p.observe(o,a),function(){h.forEach(T=>{T.removeEventListener("click",l)}),h.clear(),p.disconnect()}}}}var ji=(e=>(e.ChangeControlAutoMode="[JS] Change control auto mode",e.ChangeControlMode="[JS] Change control mode",e.ToggleExpand="[JS] Toggle expand",e.EnterSphereMode="[JS] Enter sphere mode",e.FitTopView="[JS] Fit top view",e.PointCloudElevationRange="[JS] Set point cloud elevation range",e.PointCloudColor="[JS] Set point cloud color",e.PointCloudEdl="[JS] Set EDL",e.ShareEmail="[JS] Share link via Email",e.ShareWhatsApp="[JS] Share link via WhatsApp",e.ShareCopy="[JS] Copy share link to clipboard",e.ClearMeasurements="[JS] Clear measurements",e.ExportDXF="[JS] Export DXF",e.ExportProfileDXF="[JS] Export profile DXF",e.StartTool="[JS] Start tool",e.ToggleSnap="[JS] Toggle snap",e.ProfileStepForward="[JS] Profile step forward",e.ProfileStepBack="[JS] Profile step back",e.ProfileZoomIn="[JS] Profile zoom in",e.ProfileZoomOut="[JS] Profile zoom out",e.ProfileStepChange="[JS] Profile step change",e))(ji||{});const{trackEvent:YH}=WH();class Ki{static trackEvent(i,t){this.disabled||YH(i,t)}}Ki.disabled=!1;var kH=Object.defineProperty,AH=Object.getOwnPropertyDescriptor,kh=(e,i,t,s)=>{for(var n=s>1?void 0:s?AH(i,t):i,r=e.length-1,o;r>=0;r--)(o=e[r])&&(n=(s?o(i,t,n):o(n))||n);return s&&n&&kH(i,t,n),n},KH=(e,i,t)=>new Promise((s,n)=>{var r=l=>{try{a(t.next(l))}catch(h){n(h)}},o=l=>{try{a(t.throw(l))}catch(h){n(h)}},a=l=>l.done?s(l.value):Promise.resolve(l.value).then(r,o);a((t=t.apply(e,i)).next())});let pa=class extends js{constructor(){super();this.isCollapsed=!0,this.autoEnabled=!1,this.domEl="",this.spherical=!1,this.mode=zn.Orbit,this.events=new as,this.registerControls=this.registerControls.bind(this),this.handleExternalModeChange=this.handleExternalModeChange.bind(this)}connectedCallback(){super.connectedCallback();const e=document.querySelector(`#${this.domEl}`);e==null||e.addEventListener(Ye.RegisterControls,this.registerControls),e==null||e.addEventListener(Ye.ControlModeChanged,this.handleExternalModeChange),this.events.dispatch(Ye.ControlsUICreated,{},e)}disconnectedCallback(){const e=document.querySelector(`#${this.domEl}`);e==null||e.removeEventListener(Ye.RegisterControls,this.registerControls),e==null||e.removeEventListener(Ye.ControlModeChanged,this.handleExternalModeChange),super.disconnectedCallback()}willUpdate(){KH(this,null,function*(){yield this.updateComplete,this.dispatchEvent(new CustomEvent("resize"))})}render(){return Mi`
    <div class="pointscene-header${this.isCollapsed?"":" pointscene-header-expanded"}" @click=${this.toggleCollapsed}>
        <div class="pointscene-header-icon">
          <pointscene-icon icon="controls" width="100%" height="100%"></pointscene-icon>
        </div>
        <div class="pointscene-header-title">
          Control
        </div>
        <div class="pointscene-header-toggle">
          ${this.isCollapsed?"+":"-"}
        </div>
      </div>
      ${this.isCollapsed?"":Mi`
      <div class="pointscene-expanded-content">
        <div>
          <pointscene-switch
            .disabled=${this.spherical}
            .checked=${this.autoEnabled}
            label="Auto orbit/walk"
            @change=${this.handleAutoChange}
          ></pointscene-switch>
        </div>
        <div>
          <pointscene-dropdown
            @change=${this.handleInternalModeChange}
            options=${JSON.stringify([{value:zn.Orbit,label:"Orbit",selected:this.mode===zn.Orbit,disabled:this.autoEnabled||this.spherical},{value:zn.FirstPerson,label:"Walk",selected:this.mode===zn.FirstPerson,disabled:this.autoEnabled||this.spherical},{value:zn.Spherical,label:"360",selected:this.mode===zn.Spherical,disabled:!0}])}
          ></pointscene-dropdown>
        </div>
      </div>
      <hr />
      `}
    `}handleAutoChange(){!this.controls||(this.controls.allowOrbitWalkAutoChange=!this.controls.allowOrbitWalkAutoChange,this.autoEnabled=this.controls.allowOrbitWalkAutoChange,Ki.trackEvent(ji.ChangeControlAutoMode,{value:this.autoEnabled}))}handleExternalModeChange(e){this.mode=e.detail.value}handleInternalModeChange(e){var i,t;if(!this.spherical){switch(e.detail.value){case"walk":(i=this.controls)==null||i.setFirstPersonMode(!1,!1),this.mode=zn.FirstPerson;break;case"orbit":(t=this.controls)==null||t.setOrbitMode(!1,!1),this.mode=zn.Orbit;break}Ki.trackEvent(ji.ChangeControlMode,{type:this.mode})}}toggleCollapsed(){this.isCollapsed=!this.isCollapsed}registerControls(e){this.controls=e.detail.controls}};pa.styles=[yu,Dh,Oh,dy,my,fr],kh([ki()],pa.prototype,"isCollapsed",2),kh([ki()],pa.prototype,"autoEnabled",2),kh([Ot({type:String})],pa.prototype,"domEl",2),kh([Ot({type:Boolean})],pa.prototype,"spherical",2),kh([Ot({type:String})],pa.prototype,"mode",2),pa=kh([Jn("pointscene-controls")],pa);class NI extends _i{constructor(i=document.createElement("div")){super();this.isCSS2DObject=!0,this.element=i,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",function(){this.traverse(function(t){t.element instanceof Element&&t.element.parentNode!==null&&t.element.parentNode.removeChild(t.element)})})}copy(i,t){return super.copy(i,t),this.element=i.element.cloneNode(!0),this}}const Ah=new H,FI=new pt,PI=new pt,wI=new H,XI=new H;class DI{constructor(i={}){const t=this;let s,n,r,o;const a={objects:new WeakMap},l=i.element!==void 0?i.element:document.createElement("div");l.style.overflow="hidden",this.domElement=l,this.getSize=function(){return{width:s,height:n}},this.render=function(d,T){d.matrixWorldAutoUpdate===!0&&d.updateMatrixWorld(),T.parent===null&&T.matrixWorldAutoUpdate===!0&&T.updateMatrixWorld(),FI.copy(T.matrixWorldInverse),PI.multiplyMatrices(T.projectionMatrix,FI),h(d,d,T),p(d)},this.setSize=function(d,T){s=d,n=T,r=s/2,o=n/2,l.style.width=d+"px",l.style.height=T+"px"};function h(d,T,g){if(d.isCSS2DObject){Ah.setFromMatrixPosition(d.matrixWorld),Ah.applyMatrix4(PI);const I=d.visible===!0&&Ah.z>=-1&&Ah.z<=1&&d.layers.test(g.layers)===!0;if(d.element.style.display=I===!0?"":"none",I===!0){d.onBeforeRender(t,T,g);const C=d.element;C.style.transform="translate(-50%,-50%) translate("+(Ah.x*r+r)+"px,"+(-Ah.y*o+o)+"px)",C.parentNode!==l&&l.appendChild(C),d.onAfterRender(t,T,g)}const v={distanceToCameraSquared:c(g,d)};a.objects.set(d,v)}for(let I=0,v=d.children.length;I<v;I++)h(d.children[I],T,g)}function c(d,T){return wI.setFromMatrixPosition(d.matrixWorld),XI.setFromMatrixPosition(T.matrixWorld),wI.distanceToSquared(XI)}function u(d){const T=[];return d.traverse(function(g){g.isCSS2DObject&&T.push(g)}),T}function p(d){const T=u(d).sort(function(I,v){if(I.renderOrder!==v.renderOrder)return v.renderOrder-I.renderOrder;const C=a.objects.get(I).distanceToCameraSquared,N=a.objects.get(v).distanceToCameraSquared;return C-N}),g=T.length;for(let I=0,v=T.length;I<v;I++)T[I].element.style.zIndex=g-I}}}je.nonClipLine={worldUnits:{value:1},linewidth:{value:1},resolution:{value:new ht(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}},Ss.nonClipLine={uniforms:yh.merge([je.common,je.fog,je.nonClipLine]),vertexShader:`
		#include <common>
		#include <color_pars_vertex>
		#include <fog_pars_vertex>
		#include <logdepthbuf_pars_vertex>

		uniform float linewidth;
		uniform vec2 resolution;

		attribute vec3 instanceStart;
		attribute vec3 instanceEnd;

		attribute vec3 instanceColorStart;
		attribute vec3 instanceColorEnd;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#ifdef USE_DASH

			uniform float dashScale;
			attribute float instanceDistanceStart;
			attribute float instanceDistanceEnd;
			varying float vLineDistance;

		#endif

		void trimSegment( const in vec4 start, inout vec4 end ) {

			// trim end segment so it terminates between the camera plane and the near plane

			// conservative estimate of the near plane
			float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
			float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
			float nearEstimate = - 0.5 * b / a;

			float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

			end.xyz = mix( start.xyz, end.xyz, alpha );

		}

		void main() {

			#ifdef USE_COLOR

				vColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

			#endif

			#ifdef USE_DASH

				vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
				vUv = uv;

			#endif

			float aspect = resolution.x / resolution.y;

			// camera space
			vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
			vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

			#ifdef WORLD_UNITS

				worldStart = start.xyz;
				worldEnd = end.xyz;

			#else

				vUv = uv;

			#endif

			// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
			// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
			// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
			// perhaps there is a more elegant solution -- WestLangley

			bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

			if ( perspective ) {

				if ( start.z < 0.0 && end.z >= 0.0 ) {

					trimSegment( start, end );

				} else if ( end.z < 0.0 && start.z >= 0.0 ) {

					trimSegment( end, start );

				}

			}

			// clip space
			vec4 clipStart = projectionMatrix * start;
			vec4 clipEnd = projectionMatrix * end;

			// ndc space
			vec3 ndcStart = clipStart.xyz / clipStart.w;
			vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

			// direction
			vec2 dir = ndcEnd.xy - ndcStart.xy;

			// account for clip-space aspect ratio
			dir.x *= aspect;
			dir = normalize( dir );

			#ifdef WORLD_UNITS

				// get the offset direction as perpendicular to the view vector
				vec3 worldDir = normalize( end.xyz - start.xyz );
				vec3 offset;
				if ( position.y < 0.5 ) {

					offset = normalize( cross( start.xyz, worldDir ) );

				} else {

					offset = normalize( cross( end.xyz, worldDir ) );

				}

				// sign flip
				if ( position.x < 0.0 ) offset *= - 1.0;

				float forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );

				// don't extend the line if we're rendering dashes because we
				// won't be rendering the endcaps
				#ifndef USE_DASH

					// extend the line bounds to encompass  endcaps
					start.xyz += - worldDir * linewidth * 0.5;
					end.xyz += worldDir * linewidth * 0.5;

					// shift the position of the quad so it hugs the forward edge of the line
					offset.xy -= dir * forwardOffset;
					offset.z += 0.5;

				#endif

				// endcaps
				if ( position.y > 1.0 || position.y < 0.0 ) {

					offset.xy += dir * 2.0 * forwardOffset;

				}

				// adjust for linewidth
				offset *= linewidth * 0.5;

				// set the world position
				worldPos = ( position.y < 0.5 ) ? start : end;
				worldPos.xyz += offset;

				// project the worldpos
				vec4 clip = projectionMatrix * worldPos;

				// shift the depth of the projected points so the line
				// segments overlap neatly
				vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
				clip.z = clipPose.z * clip.w;

			#else

				vec2 offset = vec2( dir.y, - dir.x );
				// undo aspect ratio adjustment
				dir.x /= aspect;
				offset.x /= aspect;

				// sign flip
				if ( position.x < 0.0 ) offset *= - 1.0;

				// endcaps
				if ( position.y < 0.0 ) {

					offset += - dir;

				} else if ( position.y > 1.0 ) {

					offset += dir;

				}

				// adjust for linewidth
				offset *= linewidth;

				// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
				offset /= resolution.y;

				// select end
				vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

				// back to clip space
				offset *= clip.w;

				clip.xy += offset;

			#endif

			gl_Position = clip;

			vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

			#include <logdepthbuf_vertex>

			#include <fog_vertex>

		}
		`,fragmentShader:`
		uniform vec3 diffuse;
		uniform float opacity;
		uniform float linewidth;

		#ifdef USE_DASH

			uniform float dashOffset;
			uniform float dashSize;
			uniform float gapSize;

		#endif

		varying float vLineDistance;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#include <common>
		#include <color_pars_fragment>
		#include <fog_pars_fragment>
		#include <logdepthbuf_pars_fragment>

		vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

			float mua;
			float mub;

			vec3 p13 = p1 - p3;
			vec3 p43 = p4 - p3;

			vec3 p21 = p2 - p1;

			float d1343 = dot( p13, p43 );
			float d4321 = dot( p43, p21 );
			float d1321 = dot( p13, p21 );
			float d4343 = dot( p43, p43 );
			float d2121 = dot( p21, p21 );

			float denom = d2121 * d4343 - d4321 * d4321;

			float numer = d1343 * d4321 - d1321 * d4343;

			mua = numer / denom;
			mua = clamp( mua, 0.0, 1.0 );
			mub = ( d1343 + d4321 * ( mua ) ) / d4343;
			mub = clamp( mub, 0.0, 1.0 );

			return vec2( mua, mub );

		}

		void main() {

			#ifdef USE_DASH

				if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

				if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

			#endif

			float alpha = opacity;

			#ifdef WORLD_UNITS

				// Find the closest points on the view ray and the line segment
				vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
				vec3 lineDir = worldEnd - worldStart;
				vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

				vec3 p1 = worldStart + lineDir * params.x;
				vec3 p2 = rayEnd * params.y;
				vec3 delta = p1 - p2;
				float len = length( delta );
				float norm = len / linewidth;

				#ifndef USE_DASH

					#ifdef USE_ALPHA_TO_COVERAGE

						float dnorm = fwidth( norm );
						alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

					#else

						if ( norm > 0.5 ) {

							discard;

						}

					#endif

				#endif

			#else

				#ifdef USE_ALPHA_TO_COVERAGE

					// artifacts appear on some hardware if a derivative is taken within a conditional
					float a = vUv.x;
					float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
					float len2 = a * a + b * b;
					float dlen = fwidth( len2 );

					if ( abs( vUv.y ) > 1.0 ) {

						alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

					}

				#else

					if ( abs( vUv.y ) > 1.0 ) {

						float a = vUv.x;
						float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
						float len2 = a * a + b * b;

						if ( len2 > 1.0 ) discard;

					}

				#endif

			#endif

			vec4 diffuseColor = vec4( diffuse, alpha );

			#include <logdepthbuf_fragment>
			#include <color_fragment>

			gl_FragColor = vec4( diffuseColor.rgb, alpha );

			#include <tonemapping_fragment>
			#include <encodings_fragment>
			#include <fog_fragment>
			#include <premultiplied_alpha_fragment>

		}
		`};class OI extends fs{constructor(i){super({type:"NonClipLineMaterial",uniforms:yh.clone(Ss.nonClipLine.uniforms),vertexShader:Ss.nonClipLine.vertexShader,fragmentShader:Ss.nonClipLine.fragmentShader,clipping:!!i.clipping});this.color=new ge,this.dashed=!1,this.dashScale=1,this.dashSize=0,this.dashOffset=0,this.gapSize=0,this.opacity=1,this.isLineMaterial=!0,this.linewidth=1,this.resolution=new ht,this.alphaToCoverage=!1,this.worldUnits=!1,this.isLineMaterial=!0,Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(t){this.uniforms.diffuse.value=t}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(t){t===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(t){this.uniforms.linewidth.value=t}},dashed:{enumerable:!0,get:function(){return Boolean("USE_DASH"in this.defines)},set(t){Boolean(t)!==Boolean("USE_DASH"in this.defines)&&(this.needsUpdate=!0),t===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(t){this.uniforms.dashScale.value=t}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(t){this.uniforms.dashSize.value=t}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(t){this.uniforms.dashOffset.value=t}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(t){this.uniforms.gapSize.value=t}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(t){this.uniforms.opacity.value=t}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(t){this.uniforms.resolution.value.copy(t)}},alphaToCoverage:{enumerable:!0,get:function(){return Boolean("USE_ALPHA_TO_COVERAGE"in this.defines)},set:function(t){Boolean(t)!==Boolean("USE_ALPHA_TO_COVERAGE"in this.defines)&&(this.needsUpdate=!0),t===!0?(this.defines.USE_ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(i)}}const zI=new Pi,Yd=new H;class WI extends xA{constructor(){super();this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const i=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],t=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],s=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(s),this.setAttribute("position",new Vi(i,3)),this.setAttribute("uv",new Vi(t,2))}applyMatrix4(i){const t=this.attributes.instanceStart,s=this.attributes.instanceEnd;return t!==void 0&&(t.applyMatrix4(i),s.applyMatrix4(i),t.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(i){let t;i instanceof Float32Array?t=i:Array.isArray(i)&&(t=new Float32Array(i));const s=new D0(t,6,1);return this.setAttribute("instanceStart",new wr(s,3,0)),this.setAttribute("instanceEnd",new wr(s,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(i){let t;i instanceof Float32Array?t=i:Array.isArray(i)&&(t=new Float32Array(i));const s=new D0(t,6,1);return this.setAttribute("instanceColorStart",new wr(s,3,0)),this.setAttribute("instanceColorEnd",new wr(s,3,3)),this}fromWireframeGeometry(i){return this.setPositions(i.attributes.position.array),this}fromEdgesGeometry(i){return this.setPositions(i.attributes.position.array),this}fromMesh(i){return this.fromWireframeGeometry(new dA(i.geometry)),this}fromLineSegments(i){const t=i.geometry;return this.setPositions(t.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Pi);const i=this.attributes.instanceStart,t=this.attributes.instanceEnd;i!==void 0&&t!==void 0&&(this.boundingBox.setFromBufferAttribute(i),zI.setFromBufferAttribute(t),this.boundingBox.union(zI))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new In),this.boundingBox===null&&this.computeBoundingBox();const i=this.attributes.instanceStart,t=this.attributes.instanceEnd;if(i!==void 0&&t!==void 0){const s=this.boundingSphere.center;this.boundingBox.getCenter(s);let n=0;for(let r=0,o=i.count;r<o;r++)Yd.fromBufferAttribute(i,r),n=Math.max(n,s.distanceToSquared(Yd)),Yd.fromBufferAttribute(t,r),n=Math.max(n,s.distanceToSquared(Yd));this.boundingSphere.radius=Math.sqrt(n),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(i){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(i)}}class Iu extends WI{constructor(){super();this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(i){const t=i.length-3,s=new Float32Array(2*t);for(let n=0;n<t;n+=3)s[2*n]=i[n],s[2*n+1]=i[n+1],s[2*n+2]=i[n+2],s[2*n+3]=i[n+3],s[2*n+4]=i[n+4],s[2*n+5]=i[n+5];return super.setPositions(s),this}setColors(i){const t=i.length-3,s=new Float32Array(2*t);for(let n=0;n<t;n+=3)s[2*n]=i[n],s[2*n+1]=i[n+1],s[2*n+2]=i[n+2],s[2*n+3]=i[n+3],s[2*n+4]=i[n+4],s[2*n+5]=i[n+5];return super.setColors(s),this}fromLine(i){const t=i.geometry;return this.setPositions(t.attributes.position.array),this}}je.line={worldUnits:{value:1},linewidth:{value:1},resolution:{value:new ht(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}},Ss.line={uniforms:yh.merge([je.common,je.fog,je.line]),vertexShader:`
		#include <common>
		#include <color_pars_vertex>
		#include <fog_pars_vertex>
		#include <logdepthbuf_pars_vertex>
		#include <clipping_planes_pars_vertex>

		uniform float linewidth;
		uniform vec2 resolution;

		attribute vec3 instanceStart;
		attribute vec3 instanceEnd;

		attribute vec3 instanceColorStart;
		attribute vec3 instanceColorEnd;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#ifdef USE_DASH

			uniform float dashScale;
			attribute float instanceDistanceStart;
			attribute float instanceDistanceEnd;
			varying float vLineDistance;

		#endif

		void trimSegment( const in vec4 start, inout vec4 end ) {

			// trim end segment so it terminates between the camera plane and the near plane

			// conservative estimate of the near plane
			float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
			float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
			float nearEstimate = - 0.5 * b / a;

			float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

			end.xyz = mix( start.xyz, end.xyz, alpha );

		}

		void main() {

			#ifdef USE_COLOR

				vColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

			#endif

			#ifdef USE_DASH

				vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
				vUv = uv;

			#endif

			float aspect = resolution.x / resolution.y;

			// camera space
			vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
			vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

			#ifdef WORLD_UNITS

				worldStart = start.xyz;
				worldEnd = end.xyz;

			#else

				vUv = uv;

			#endif

			// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
			// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
			// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
			// perhaps there is a more elegant solution -- WestLangley

			bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

			if ( perspective ) {

				if ( start.z < 0.0 && end.z >= 0.0 ) {

					trimSegment( start, end );

				} else if ( end.z < 0.0 && start.z >= 0.0 ) {

					trimSegment( end, start );

				}

			}

			// clip space
			vec4 clipStart = projectionMatrix * start;
			vec4 clipEnd = projectionMatrix * end;

			// ndc space
			vec3 ndcStart = clipStart.xyz / clipStart.w;
			vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

			// direction
			vec2 dir = ndcEnd.xy - ndcStart.xy;

			// account for clip-space aspect ratio
			dir.x *= aspect;
			dir = normalize( dir );

			#ifdef WORLD_UNITS

				// get the offset direction as perpendicular to the view vector
				vec3 worldDir = normalize( end.xyz - start.xyz );
				vec3 offset;
				if ( position.y < 0.5 ) {

					offset = normalize( cross( start.xyz, worldDir ) );

				} else {

					offset = normalize( cross( end.xyz, worldDir ) );

				}

				// sign flip
				if ( position.x < 0.0 ) offset *= - 1.0;

				float forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );

				// don't extend the line if we're rendering dashes because we
				// won't be rendering the endcaps
				#ifndef USE_DASH

					// extend the line bounds to encompass  endcaps
					start.xyz += - worldDir * linewidth * 0.5;
					end.xyz += worldDir * linewidth * 0.5;

					// shift the position of the quad so it hugs the forward edge of the line
					offset.xy -= dir * forwardOffset;
					offset.z += 0.5;

				#endif

				// endcaps
				if ( position.y > 1.0 || position.y < 0.0 ) {

					offset.xy += dir * 2.0 * forwardOffset;

				}

				// adjust for linewidth
				offset *= linewidth * 0.5;

				// set the world position
				worldPos = ( position.y < 0.5 ) ? start : end;
				worldPos.xyz += offset;

				// project the worldpos
				vec4 clip = projectionMatrix * worldPos;

				// shift the depth of the projected points so the line
				// segments overlap neatly
				vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
				clip.z = clipPose.z * clip.w;

			#else

				vec2 offset = vec2( dir.y, - dir.x );
				// undo aspect ratio adjustment
				dir.x /= aspect;
				offset.x /= aspect;

				// sign flip
				if ( position.x < 0.0 ) offset *= - 1.0;

				// endcaps
				if ( position.y < 0.0 ) {

					offset += - dir;

				} else if ( position.y > 1.0 ) {

					offset += dir;

				}

				// adjust for linewidth
				offset *= linewidth;

				// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
				offset /= resolution.y;

				// select end
				vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

				// back to clip space
				offset *= clip.w;

				clip.xy += offset;

			#endif

			gl_Position = clip;

			vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

			#include <logdepthbuf_vertex>
			#include <clipping_planes_vertex>
			#include <fog_vertex>

		}
		`,fragmentShader:`
		uniform vec3 diffuse;
		uniform float opacity;
		uniform float linewidth;

		#ifdef USE_DASH

			uniform float dashOffset;
			uniform float dashSize;
			uniform float gapSize;

		#endif

		varying float vLineDistance;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#include <common>
		#include <color_pars_fragment>
		#include <fog_pars_fragment>
		#include <logdepthbuf_pars_fragment>
		#include <clipping_planes_pars_fragment>

		vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

			float mua;
			float mub;

			vec3 p13 = p1 - p3;
			vec3 p43 = p4 - p3;

			vec3 p21 = p2 - p1;

			float d1343 = dot( p13, p43 );
			float d4321 = dot( p43, p21 );
			float d1321 = dot( p13, p21 );
			float d4343 = dot( p43, p43 );
			float d2121 = dot( p21, p21 );

			float denom = d2121 * d4343 - d4321 * d4321;

			float numer = d1343 * d4321 - d1321 * d4343;

			mua = numer / denom;
			mua = clamp( mua, 0.0, 1.0 );
			mub = ( d1343 + d4321 * ( mua ) ) / d4343;
			mub = clamp( mub, 0.0, 1.0 );

			return vec2( mua, mub );

		}

		void main() {

			#include <clipping_planes_fragment>

			#ifdef USE_DASH

				if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

				if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

			#endif

			float alpha = opacity;

			#ifdef WORLD_UNITS

				// Find the closest points on the view ray and the line segment
				vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
				vec3 lineDir = worldEnd - worldStart;
				vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

				vec3 p1 = worldStart + lineDir * params.x;
				vec3 p2 = rayEnd * params.y;
				vec3 delta = p1 - p2;
				float len = length( delta );
				float norm = len / linewidth;

				#ifndef USE_DASH

					#ifdef USE_ALPHA_TO_COVERAGE

						float dnorm = fwidth( norm );
						alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

					#else

						if ( norm > 0.5 ) {

							discard;

						}

					#endif

				#endif

			#else

				#ifdef USE_ALPHA_TO_COVERAGE

					// artifacts appear on some hardware if a derivative is taken within a conditional
					float a = vUv.x;
					float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
					float len2 = a * a + b * b;
					float dlen = fwidth( len2 );

					if ( abs( vUv.y ) > 1.0 ) {

						alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

					}

				#else

					if ( abs( vUv.y ) > 1.0 ) {

						float a = vUv.x;
						float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
						float len2 = a * a + b * b;

						if ( len2 > 1.0 ) discard;

					}

				#endif

			#endif

			vec4 diffuseColor = vec4( diffuse, alpha );

			#include <logdepthbuf_fragment>
			#include <color_fragment>

			gl_FragColor = vec4( diffuseColor.rgb, alpha );

			#include <tonemapping_fragment>
			#include <encodings_fragment>
			#include <fog_fragment>
			#include <premultiplied_alpha_fragment>

		}
		`};class My extends fs{constructor(i){super({type:"LineMaterial",uniforms:yh.clone(Ss.line.uniforms),vertexShader:Ss.line.vertexShader,fragmentShader:Ss.line.fragmentShader,clipping:!0});this.isLineMaterial=!0,Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(t){this.uniforms.diffuse.value=t}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(t){t===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(t){this.uniforms.linewidth.value=t}},dashed:{enumerable:!0,get:function(){return Boolean("USE_DASH"in this.defines)},set(t){Boolean(t)!==Boolean("USE_DASH"in this.defines)&&(this.needsUpdate=!0),t===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(t){this.uniforms.dashScale.value=t}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(t){this.uniforms.dashSize.value=t}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(t){this.uniforms.dashOffset.value=t}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(t){this.uniforms.gapSize.value=t}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(t){this.uniforms.opacity.value=t}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(t){this.uniforms.resolution.value.copy(t)}},alphaToCoverage:{enumerable:!0,get:function(){return Boolean("USE_ALPHA_TO_COVERAGE"in this.defines)},set:function(t){Boolean(t)!==Boolean("USE_ALPHA_TO_COVERAGE"in this.defines)&&(this.needsUpdate=!0),t===!0?(this.defines.USE_ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(i)}}const YI=new H,kI=new H,Os=new nt,zs=new nt,Wr=new nt,xy=new H,vy=new pt,Bs=new Sn,AI=new H,kd=new Pi,Ad=new In,Yr=new nt;let kr,Gy,KI,pl;function ZI(e,i,t){return Yr.set(0,0,-i,1).applyMatrix4(e.projectionMatrix),Yr.multiplyScalar(1/Yr.w),Yr.x=pl/t.width,Yr.y=pl/t.height,Yr.applyMatrix4(e.projectionMatrixInverse),Yr.multiplyScalar(1/Yr.w),Math.abs(Math.max(Yr.x,Yr.y))}function ZH(e,i){for(let t=0,s=Gy.count;t<s;t++){Bs.start.fromBufferAttribute(Gy,t),Bs.end.fromBufferAttribute(KI,t);const n=new H,r=new H;kr.distanceSqToSegment(Bs.start,Bs.end,r,n),r.distanceTo(n)<pl*.5&&i.push({point:r,pointOnLine:n,distance:kr.origin.distanceTo(r),object:e,face:null,faceIndex:t,uv:null,uv2:null})}}function HH(e,i,t){const s=i.projectionMatrix,r=e.material.resolution,o=e.matrixWorld,a=e.geometry,l=a.attributes.instanceStart,h=a.attributes.instanceEnd,c=-i.near;kr.at(1,Wr),Wr.w=1,Wr.applyMatrix4(i.matrixWorldInverse),Wr.applyMatrix4(s),Wr.multiplyScalar(1/Wr.w),Wr.x*=r.x/2,Wr.y*=r.y/2,Wr.z=0,xy.copy(Wr),vy.multiplyMatrices(i.matrixWorldInverse,o);for(let u=0,p=l.count;u<p;u++){if(Os.fromBufferAttribute(l,u),zs.fromBufferAttribute(h,u),Os.w=1,zs.w=1,Os.applyMatrix4(vy),zs.applyMatrix4(vy),Os.z>c&&zs.z>c)continue;if(Os.z>c){const C=Os.z-zs.z,N=(Os.z-c)/C;Os.lerp(zs,N)}else if(zs.z>c){const C=zs.z-Os.z,N=(zs.z-c)/C;zs.lerp(Os,N)}Os.applyMatrix4(s),zs.applyMatrix4(s),Os.multiplyScalar(1/Os.w),zs.multiplyScalar(1/zs.w),Os.x*=r.x/2,Os.y*=r.y/2,zs.x*=r.x/2,zs.y*=r.y/2,Bs.start.copy(Os),Bs.start.z=0,Bs.end.copy(zs),Bs.end.z=0;const T=Bs.closestPointToPointParameter(xy,!0);Bs.at(T,AI);const g=Ap.lerp(Os.z,zs.z,T),I=g>=-1&&g<=1,v=xy.distanceTo(AI)<pl*.5;if(I&&v){Bs.start.fromBufferAttribute(l,u),Bs.end.fromBufferAttribute(h,u),Bs.start.applyMatrix4(o),Bs.end.applyMatrix4(o);const C=new H,N=new H;kr.distanceSqToSegment(Bs.start,Bs.end,N,C),t.push({point:N,pointOnLine:C,distance:kr.origin.distanceTo(N),object:e,face:null,faceIndex:u,uv:null,uv2:null})}}}class UH extends fi{constructor(i=new WI,t=new My({color:Math.random()*16777215})){super(i,t);this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const i=this.geometry,t=i.attributes.instanceStart,s=i.attributes.instanceEnd,n=new Float32Array(2*t.count);for(let o=0,a=0,l=t.count;o<l;o++,a+=2)YI.fromBufferAttribute(t,o),kI.fromBufferAttribute(s,o),n[a]=a===0?0:n[a-1],n[a+1]=n[a]+YI.distanceTo(kI);const r=new D0(n,2,1);return i.setAttribute("instanceDistanceStart",new wr(r,1,0)),i.setAttribute("instanceDistanceEnd",new wr(r,1,1)),this}raycast(i,t){const s=this.material.worldUnits,n=i.camera;n===null&&!s&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const r=i.params.Line2!==void 0&&i.params.Line2.threshold||0;kr=i.ray;const o=this.matrixWorld,a=this.geometry,l=this.material;pl=l.linewidth+r,Gy=a.attributes.instanceStart,KI=a.attributes.instanceEnd,a.boundingSphere===null&&a.computeBoundingSphere(),Ad.copy(a.boundingSphere).applyMatrix4(o);let h;if(s)h=pl*.5;else{const u=Math.max(n.near,Ad.distanceToPoint(kr.origin));h=ZI(n,u,l.resolution)}if(Ad.radius+=h,kr.intersectsSphere(Ad)===!1)return;a.boundingBox===null&&a.computeBoundingBox(),kd.copy(a.boundingBox).applyMatrix4(o);let c;if(s)c=pl*.5;else{const u=Math.max(n.near,kd.distanceToPoint(kr.origin));c=ZI(n,u,l.resolution)}kd.expandByScalar(c),kr.intersectsBox(kd)!==!1&&(s?ZH(this,t):HH(this,n,t))}}class Lu extends UH{constructor(i=new Iu,t=new My({color:Math.random()*16777215})){super(i,t);this.isLine2=!0,this.type="Line2"}}const _H={triangulate:function(e,i,t=2){const s=i&&i.length,n=s?i[0]*t:e.length;let r=HI(e,0,n,t,!0);const o=[];if(!r||r.next===r.prev)return o;let a,l,h,c,u,p,d;if(s&&(r=QH(e,i,r,t)),e.length>80*t){a=h=e[0],l=c=e[1];for(let T=t;T<n;T+=t)u=e[T],p=e[T+1],u<a&&(a=u),p<l&&(l=p),u>h&&(h=u),p>c&&(c=p);d=Math.max(h-a,c-l),d=d!==0?1/d:0}return Su(r,o,t,a,l,d),o}};function HI(e,i,t,s,n){let r,o;if(n===l4(e,i,t,s)>0)for(r=i;r<t;r+=s)o=VI(r,e[r],e[r+1],o);else for(r=t-s;r>=i;r-=s)o=VI(r,e[r],e[r+1],o);return o&&Kd(o,o.next)&&(xu(o),o=o.next),o}function da(e,i){if(!e)return e;i||(i=e);let t=e,s;do if(s=!1,!t.steiner&&(Kd(t,t.next)||ss(t.prev,t,t.next)===0)){if(xu(t),t=i=t.prev,t===t.next)break;s=!0}else t=t.next;while(s||t!==i);return i}function Su(e,i,t,s,n,r,o){if(!e)return;!o&&r&&i4(e,s,n,r);let a=e,l,h;for(;e.prev!==e.next;){if(l=e.prev,h=e.next,r?jH(e,s,n,r):VH(e)){i.push(l.i/t),i.push(e.i/t),i.push(h.i/t),xu(e),e=h.next,a=h.next;continue}if(e=h,e===a){o?o===1?(e=BH(da(e),i,t),Su(e,i,t,s,n,r,2)):o===2&&JH(e,i,t,s,n,r):Su(da(e),i,t,s,n,r,1);break}}}function VH(e){const i=e.prev,t=e,s=e.next;if(ss(i,t,s)>=0)return!1;let n=e.next.next;for(;n!==e.prev;){if(Kh(i.x,i.y,t.x,t.y,s.x,s.y,n.x,n.y)&&ss(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function jH(e,i,t,s){const n=e.prev,r=e,o=e.next;if(ss(n,r,o)>=0)return!1;const a=n.x<r.x?n.x<o.x?n.x:o.x:r.x<o.x?r.x:o.x,l=n.y<r.y?n.y<o.y?n.y:o.y:r.y<o.y?r.y:o.y,h=n.x>r.x?n.x>o.x?n.x:o.x:r.x>o.x?r.x:o.x,c=n.y>r.y?n.y>o.y?n.y:o.y:r.y>o.y?r.y:o.y,u=Ey(a,l,i,t,s),p=Ey(h,c,i,t,s);let d=e.prevZ,T=e.nextZ;for(;d&&d.z>=u&&T&&T.z<=p;){if(d!==e.prev&&d!==e.next&&Kh(n.x,n.y,r.x,r.y,o.x,o.y,d.x,d.y)&&ss(d.prev,d,d.next)>=0||(d=d.prevZ,T!==e.prev&&T!==e.next&&Kh(n.x,n.y,r.x,r.y,o.x,o.y,T.x,T.y)&&ss(T.prev,T,T.next)>=0))return!1;T=T.nextZ}for(;d&&d.z>=u;){if(d!==e.prev&&d!==e.next&&Kh(n.x,n.y,r.x,r.y,o.x,o.y,d.x,d.y)&&ss(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;T&&T.z<=p;){if(T!==e.prev&&T!==e.next&&Kh(n.x,n.y,r.x,r.y,o.x,o.y,T.x,T.y)&&ss(T.prev,T,T.next)>=0)return!1;T=T.nextZ}return!0}function BH(e,i,t){let s=e;do{const n=s.prev,r=s.next.next;!Kd(n,r)&&UI(n,s,s.next,r)&&Mu(n,r)&&Mu(r,n)&&(i.push(n.i/t),i.push(s.i/t),i.push(r.i/t),xu(s),xu(s.next),s=e=r),s=s.next}while(s!==e);return da(s)}function JH(e,i,t,s,n,r){let o=e;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&r4(o,a)){let l=_I(o,a);o=da(o,o.next),l=da(l,l.next),Su(o,i,t,s,n,r),Su(l,i,t,s,n,r);return}a=a.next}o=o.next}while(o!==e)}function QH(e,i,t,s){const n=[];let r,o,a,l,h;for(r=0,o=i.length;r<o;r++)a=i[r]*s,l=r<o-1?i[r+1]*s:e.length,h=HI(e,a,l,s,!1),h===h.next&&(h.steiner=!0),n.push(n4(h));for(n.sort(qH),r=0;r<n.length;r++)$H(n[r],t),t=da(t,t.next);return t}function qH(e,i){return e.x-i.x}function $H(e,i){if(i=e4(e,i),i){const t=_I(i,e);da(i,i.next),da(t,t.next)}}function e4(e,i){let t=i;const s=e.x,n=e.y;let r=-1/0,o;do{if(n<=t.y&&n>=t.next.y&&t.next.y!==t.y){const p=t.x+(n-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>r){if(r=p,p===s){if(n===t.y)return t;if(n===t.next.y)return t.next}o=t.x<t.next.x?t:t.next}}t=t.next}while(t!==i);if(!o)return null;if(s===r)return o;const a=o,l=o.x,h=o.y;let c=1/0,u;t=o;do s>=t.x&&t.x>=l&&s!==t.x&&Kh(n<h?s:r,n,l,h,n<h?r:s,n,t.x,t.y)&&(u=Math.abs(n-t.y)/(s-t.x),Mu(t,e)&&(u<c||u===c&&(t.x>o.x||t.x===o.x&&t4(o,t)))&&(o=t,c=u)),t=t.next;while(t!==a);return o}function t4(e,i){return ss(e.prev,e,i.prev)<0&&ss(i.next,e,e.next)<0}function i4(e,i,t,s){let n=e;do n.z===null&&(n.z=Ey(n.x,n.y,i,t,s)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next;while(n!==e);n.prevZ.nextZ=null,n.prevZ=null,s4(n)}function s4(e){let i,t,s,n,r,o,a,l,h=1;do{for(t=e,e=null,r=null,o=0;t;){for(o++,s=t,a=0,i=0;i<h&&(a++,s=s.nextZ,!!s);i++);for(l=h;a>0||l>0&&s;)a!==0&&(l===0||!s||t.z<=s.z)?(n=t,t=t.nextZ,a--):(n=s,s=s.nextZ,l--),r?r.nextZ=n:e=n,n.prevZ=r,r=n;t=s}r.nextZ=null,h*=2}while(o>1);return e}function Ey(e,i,t,s,n){return e=32767*(e-t)*n,i=32767*(i-s)*n,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,e|i<<1}function n4(e){let i=e,t=e;do(i.x<t.x||i.x===t.x&&i.y<t.y)&&(t=i),i=i.next;while(i!==e);return t}function Kh(e,i,t,s,n,r,o,a){return(n-o)*(i-a)-(e-o)*(r-a)>=0&&(e-o)*(s-a)-(t-o)*(i-a)>=0&&(t-o)*(r-a)-(n-o)*(s-a)>=0}function r4(e,i){return e.next.i!==i.i&&e.prev.i!==i.i&&!o4(e,i)&&(Mu(e,i)&&Mu(i,e)&&a4(e,i)&&(ss(e.prev,e,i.prev)||ss(e,i.prev,i))||Kd(e,i)&&ss(e.prev,e,e.next)>0&&ss(i.prev,i,i.next)>0)}function ss(e,i,t){return(i.y-e.y)*(t.x-i.x)-(i.x-e.x)*(t.y-i.y)}function Kd(e,i){return e.x===i.x&&e.y===i.y}function UI(e,i,t,s){const n=Hd(ss(e,i,t)),r=Hd(ss(e,i,s)),o=Hd(ss(t,s,e)),a=Hd(ss(t,s,i));return!!(n!==r&&o!==a||n===0&&Zd(e,t,i)||r===0&&Zd(e,s,i)||o===0&&Zd(t,e,s)||a===0&&Zd(t,i,s))}function Zd(e,i,t){return i.x<=Math.max(e.x,t.x)&&i.x>=Math.min(e.x,t.x)&&i.y<=Math.max(e.y,t.y)&&i.y>=Math.min(e.y,t.y)}function Hd(e){return e>0?1:e<0?-1:0}function o4(e,i){let t=e;do{if(t.i!==e.i&&t.next.i!==e.i&&t.i!==i.i&&t.next.i!==i.i&&UI(t,t.next,e,i))return!0;t=t.next}while(t!==e);return!1}function Mu(e,i){return ss(e.prev,e,e.next)<0?ss(e,i,e.next)>=0&&ss(e,e.prev,i)>=0:ss(e,i,e.prev)<0||ss(e,e.next,i)<0}function a4(e,i){let t=e,s=!1;const n=(e.x+i.x)/2,r=(e.y+i.y)/2;do t.y>r!=t.next.y>r&&t.next.y!==t.y&&n<(t.next.x-t.x)*(r-t.y)/(t.next.y-t.y)+t.x&&(s=!s),t=t.next;while(t!==e);return s}function _I(e,i){const t=new Cy(e.i,e.x,e.y),s=new Cy(i.i,i.x,i.y),n=e.next,r=i.prev;return e.next=i,i.prev=e,t.next=n,n.prev=t,s.next=t,t.prev=s,r.next=s,s.prev=r,s}function VI(e,i,t,s){const n=new Cy(e,i,t);return s?(n.next=s.next,n.prev=s,s.next.prev=n,s.next=n):(n.prev=n,n.next=n),n}function xu(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Cy(e,i,t){this.i=e,this.x=i,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function l4(e,i,t,s){let n=0;for(let r=i,o=t-s;r<t;r+=s)n+=(e[o]-e[r])*(e[r+1]+e[o+1]),o=r;return n}var xn=(e=>(e[e.DEFAULT=0]="DEFAULT",e[e.PROFILE=1]="PROFILE",e[e.MEASUREMENTS=2]="MEASUREMENTS",e[e.LABELS=3]="LABELS",e))(xn||{});class h4{constructor(i){this.data={},this.order=[],this.onUpdateFn=[],this.onVisibilityUpdateFn=[],this.events=new as,this.domEl=i}add(i){if(this.data[i.id])throw new Error(`Layer id ${i.id} already exists`);this.data[i.id]=i,this.order.push(i.id),this.triggerUpdate()}get(i){return this.data[i]}dispose(){for(const i of Object.keys(this.data))delete this.data[i];this.order=[]}getAll(){return this.order.map(i=>this.data[i])}exists(i){return!!this.data[i]}remove(i){this.data[i.id]&&(delete this.data[i.id],this.order=this.order.filter(t=>t!==i.id)),this.triggerUpdate()}registerOnUpdateCallback(i){this.onUpdateFn.push(i)}registerOnVisibilityUpdateCallback(i){this.onVisibilityUpdateFn.push(i)}triggerUpdate(){for(const i of this.onUpdateFn)i()}triggerVisibilityUpdate(){for(const i of this.onVisibilityUpdateFn)i();this.events.dispatch(Ye.LayerVisibilityChanged,{},this.domEl)}count(){return Object.keys(this.data).length}isVisible(i){return this.data[i]?this.data[i].object?this.data[i].object.visible:this.data[i].provider?this.data[i].provider.isVisible(i):!1:!1}setVisibility(i,t){const s=this.data[i];if(!s)throw new Error("Tried to set visibility for non-existing layer id:"+i);s.object?s.object.visible=t:s.provider&&s.provider.setVisibility(i,t),this.triggerVisibilityUpdate()}toggleVisibility(i){const t=this.data[i];!t||(t.object?t.object.visible=!t.object.visible:t.provider&&(t.provider.isVisible(i)?t.provider.setVisibility(i,!1):t.provider.setVisibility(i,!0)),this.triggerVisibilityUpdate())}}var c4=Object.defineProperty,u4=Object.defineProperties,p4=Object.getOwnPropertyDescriptors,jI=Object.getOwnPropertySymbols,d4=Object.prototype.hasOwnProperty,m4=Object.prototype.propertyIsEnumerable,BI=(e,i,t)=>i in e?c4(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,Ry=(e,i)=>{for(var t in i||(i={}))d4.call(i,t)&&BI(e,t,i[t]);if(jI)for(var t of jI(i))m4.call(i,t)&&BI(e,t,i[t]);return e},y4=(e,i)=>u4(e,p4(i)),Ny=(e,i,t)=>new Promise((s,n)=>{var r=l=>{try{a(t.next(l))}catch(h){n(h)}},o=l=>{try{a(t.throw(l))}catch(h){n(h)}},a=l=>l.done?s(l.value):Promise.resolve(l.value).then(r,o);a((t=t.apply(e,i)).next())});const JI=["terrainCoding","terrainCodingDesc","infraCoding","infraCodingDesc","surfaceCoding","surfaceCodingDesc","name"],f4=["Name","Description","ObjectType","Tag"],T4=["Name","Description","Category"];class QI{constructor(){this._isUpdating=!1,this.events=new as,this.updateCounter=0,this.existingIfcTypes={}}camelCaseToText(i){const t=i.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}pascalCaseToText(i){return i.replace(/([A-Z])/g," $1").slice(1)}propsToReadableFormat(i,t,s){let n={};for(const r of Object.keys(i)){if(s&&!s.includes(r))continue;let o;if(t==="camel")o=this.camelCaseToText(r);else if(t==="pascal")o=this.pascalCaseToText(r);else throw new Error(`Invalid string case: ${t}`);n[o]=i[r]}return n}getObjectProps(i,t,s){return Ny(this,null,function*(){this._isUpdating=!0;let n;if(this.isLandXml(i))n=this.getLandXmlProperties(i);else if(this.isIfc(i)){const r=t.faceIndex;if(!r)return{isIfc:!0,itemProps:{}};n=yield this.getIfcProperties(i,r,s)}return this._isUpdating=!1,n})}isUpdating(){return this._isUpdating}deduceAvailableIfcTypes(i){return Ny(this,null,function*(){const t=i.ifcManager;if(!t)throw new Error("IFCManager not available");const s=t.typesMap;let n={};for(const r of Object.keys(s))(yield t.getAllItemsOfType(i.modelID,r,!1)).length>0&&(n[r]=s[r]);this.existingIfcTypes=Ry(Ry({},this.existingIfcTypes),n)})}isLandXml(i){return!!i.userData.isLandXml}isIfc(i){return!!i.ifcManager}getLandXmlProperties(i){return y4(Ry({},i.userData.properties),{isLandXml:!0})}formatIfcProps(i,t){if(!i)return{};const s={};for(const n of t)!i[n]||!i[n].value||(s[n]=i[n].value);return s}findValueKey(i){const t=i.filter(s=>s.endsWith("Value"));if(t.length===1)return t[0]}formatIfcPropertySets(i){if(!i)return[];const t=[];for(const s of i){const n=s.Name.value;let r={};if(r[n]={},s.HasProperties)for(const o of s.HasProperties){const a=o.Name.value,l=o.NominalValue?o.NominalValue.value:void 0;!l||(r[n][a]=l)}else if(s.Quantities)for(const o of s.Quantities){const a=o.Name.value,l=this.findValueKey(Object.keys(o));if(!l)continue;const h=o[l].value;r[n][a]=h}Object.keys(r[n]).length>0&&t.push(r)}return t}getIfcProperties(i,t,s){return Ny(this,null,function*(){if(!i||!i.ifcManager)return;const n=i.ifcManager;if(!n)return;const r=n.getExpressId(i.geometry,t),o=i.modelID,a=[];a.push(n.getItemProperties(o,r,s)),s&&(a.push(n.getPropertySets(o,r,!0)),a.push(n.getTypeProperties(o,r,!0)),a.push(n.getMaterialsProperties(o,r,!0)));try{const l=yield Promise.all(a),h=l[0];let c,u,p;return s&&(c=l[1],u=l[2],p=l[3]),{itemProps:h,propSets:c,typeProps:u,matProps:p,isIfc:!0}}catch{return{isIfc:!0,itemProps:{}}}})}}var g4=Object.defineProperty,qI=Object.getOwnPropertySymbols,b4=Object.prototype.hasOwnProperty,I4=Object.prototype.propertyIsEnumerable,$I=(e,i,t)=>i in e?g4(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,L4=(e,i)=>{for(var t in i||(i={}))b4.call(i,t)&&$I(e,t,i[t]);if(qI)for(var t of qI(i))I4.call(i,t)&&$I(e,t,i[t]);return e};const e1=1e3,S4=200/Math.PI;class Zh{constructor(i){this.points=[],this.activeType="none",this.orientMarkersTowardsCamera=!0,this.activeDimensions="all",this.markerRadius=.25,this.activeMarkerMeta="",this.metaTool=new QI,this.showSlope=!1,this.hasKinks=!1,this.labelRenderer=new DI,this.activeLabelDivs=[],this.activeLabels=[],this.events=new as,this.updateCounter=0,this.markerMinPixelSize=10,this.markerMaxPixelSize=40,this.hideLabels=!1,this.labelTooltipMarginTop=-60,this.picker=i.picker,this.referenceFrame=i.referenceFrame,this.getPositionFn=i.getPositionFn,this.getDistanceFn=i.getDistanceFn,this.getAreaFn=i.getAreaFn,i.hideLabels&&(this.hideLabels=i.hideLabels),this.markers=[],this.markerGeometry=new F0(this.markerRadius-.1,this.markerRadius,32),this.domEl=i.picker.domEl,this.camera=i.picker.camera,this.labelRenderer.setSize(this.domEl.clientWidth,this.domEl.clientHeight),this.labelRenderer.domElement.style.position="absolute",this.labelRenderer.domElement.style.top="0px",this.labelRenderer.domElement.style.pointerEvents="none",this.labelRenderer.domElement.style.zIndex="99",this.labelRenderer.domElement.style.overflow="visible",this.domEl.appendChild(this.labelRenderer.domElement),this.activeMarker=this.createMarker(),this.activeMarker.userData.isPickable=!1,this.activeLine=this.createLine(new Array(e1).fill(new H)),this.activeAreaMesh=this.createMesh(new Array(e1*3).fill(new H),this.getMaterial()),this.activeAreaMesh.material.opacity=.4,this.activeLabelDivs=[this.getLabelDiv(),this.getLabelDiv(),this.getLabelDiv()],this.activeLabels=[this.getLabel(this.activeLabelDivs[0]),this.getLabel(this.activeLabelDivs[1]),this.getLabel(this.activeLabelDivs[2])],this.handleLeftClick=this.handleLeftClick.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.domEl.addEventListener("pointscene_on_leftclick",this.handleLeftClick),this.domEl.addEventListener("pointscene_on_mousemove",this.handleMouseMove),this.events.dispatch(Ye.RegisterUpdateHook,{fn:this.update.bind(this)},this.domEl)}toggleShowSlope(){this.showSlope=!this.showSlope,this.showSlopeCallback&&this.showSlopeCallback(this.showSlope)}getLabelDiv(){const i=document.createElement("div");return i.className="label",i.textContent="",this.setLabelStyle(i),i}getLabel(i){const t=new NI(i);return t.layers.set(xn.LABELS),t.position.set(0,0,0),t}setLabelStyle(i){i.style.color="#365379",i.style.backgroundColor="#eee",i.style.opacity="0.95",i.style.borderRadius="10px",i.style.borderWidth="1px",i.style.borderColor="#f26812",i.style.borderStyle="solid",i.style.fontFamily="Open Sans",i.style.fontWeight="bolder",i.style.fontSize="12px",i.style.pointerEvents="none",i.style.minWidth="90px",i.style.padding="5px",i.style.paddingLeft="10px",i.style.paddingRight="10px",i.style.visibility="hidden",i.style.transition="all 0.1s ease-out"}start(i,t){this.points=[],this.activeType=i,this.hasKinks=!1,this.activeLabelDivs.forEach(a=>a.style.visibility="hidden"),this.picker.sceneStatic.add(this.activeLabels[0]),i==="distance"&&(this.picker.sceneStatic.add(this.activeLabels[1]),this.picker.sceneStatic.add(this.activeLabels[2])),this.picker.sceneStatic.add(this.activeMarker),this.picker.sceneStatic.add(this.activeLine),this.picker.sceneStatic.add(this.activeAreaMesh);const s=new Vs;s.userData.isPickable=!1,s.userData.measureType=i,s.userData.labelNeedsUpdate=!1,s.userData.isMarkerGroup=!0;const n=[],r=[];i==="distance"?(n.push(this.getLabelDiv()),n.push(this.getLabelDiv()),n.push(this.getLabelDiv())):n.push(this.getLabelDiv()),n.forEach(a=>r.push(this.getLabel(a))),r.forEach(a=>this.picker.sceneStatic.add(a)),s.userData.labelDivs=n,s.userData.labels=r;const o={group:s};this.markers.push(o),this.picker.sceneStatic.add(this.markers[this.markers.length-1].group),this.activeLine.geometry.instanceCount=0,this.activeAreaMesh.geometry.setDrawRange(0,0),this.onFinish=t.onFinish,this.onUpdate=t.onUpdate}getNormal(i){switch(this.activeDimensions){case"all":return i;case"xy":return new H(0,0,1);case"z":return new H(0,0,1)}}getArea(i){const t=(i.drawRange.count-1)/3;let s=0,n=[];for(let r=0;r<t;r++){const o=r*3,a=i.attributes.position.getX(o+0),l=i.attributes.position.getY(o+0),h=i.attributes.position.getZ(o+0),c=i.attributes.position.getX(o+1),u=i.attributes.position.getY(o+1),p=i.attributes.position.getZ(o+1),d=i.attributes.position.getX(o+2),T=i.attributes.position.getY(o+2),g=i.attributes.position.getZ(o+2),I=new H(a,l,h),v=new H(c,u,p),C=new H(d,T,g);this.getAreaFn?n.push([this.referenceFrame.toGeo(I),this.referenceFrame.toGeo(v),this.referenceFrame.toGeo(v)]):s+=new Ln(I,v,C).getArea()}return this.getAreaFn?this.getAreaFn(n):s}isWaitingToPickFirstPoint(){return this.activeType==="point"||this.activeType==="distance"&&this.points.length===0?!0:this.activeType==="area"&&this.points.length===0}update(i){if(this.markers.length!==0&&(this.updateCounter+=i,!(this.updateCounter<.05)&&(this.updateCounter=0,this.hideLabels||(this.labelRenderer.setSize(this.domEl.clientWidth,this.domEl.clientHeight),this.updateLabels(),this.labelRenderer.render(this.picker.sceneStatic,this.camera)),this.updateMarkers(),this.onUpdate))){const t=this.activeMarker.position.clone();this.onUpdate(this.referenceFrame.toGeo(t))}}findGeometryObject(i,t){return i.children.filter(s=>(s instanceof Eg||s instanceof fi)&&s.userData.measureType===t)[0]}findMarkerGroup(i){return i.children.filter(t=>t instanceof Vs&&t.userData.isMarkerGroup)}calculateScale(i,t,s,n){let r=1;const o=this.domEl.clientHeight;if(this.picker.camera instanceof On){const l=this.picker.camera.position.distanceTo(i),h=this.picker.camera.fov*Math.PI/180;r=2*Math.tan(h/2)*l}else if(this.picker.camera instanceof Bc)r=this.picker.camera.top-this.picker.camera.bottom;else throw new Error("Unknown camera type");r===0&&(r=1);const a=t/r*o;return a<s?s/a:a>=n?n/a:1}updateMarkers(){for(const i of this.markers){const t=this.findMarkerGroup(i.group);for(const s of t){if(!s)continue;const n=this.calculateScale(s.position,this.markerRadius,this.markerMinPixelSize,this.markerMaxPixelSize);s.scale.set(n,n,n),this.orientMarkersTowardsCamera&&s.lookAt(this.picker.camera.position)}}}populateMarkersFromScene(i){this.markers=[];for(const t of i.children)t instanceof Vs&&t.userData.isMarkerGroup&&(t.userData.labelNeedsUpdate=!0,this.markers.push({group:t}))}updateLabels(){for(const i of this.markers){const t=this.findMarkerGroup(i.group);if(t.length===0)continue;const s=t[0],n=i.group.userData;if(n.labelNeedsUpdate){if(n.measureType==="point"){const r=new fi(new Yt().setFromPoints([s.position]),this.getMaterial());this.setLabelText(n.measureType,n.labelDivs,r,n.labels),r.geometry.dispose(),r.material.dispose(),i.group.userData.labelNeedsUpdate=!1}else if(n.measureType==="distance"){const r=this.findGeometryObject(i.group,"distance");r&&this.setLabelText(n.measureType,n.labelDivs,r,n.labels)}else if(n.measureType==="area"){const r=this.findGeometryObject(i.group,"area");r&&this.setLabelText(n.measureType,n.labelDivs,r,n.labels),i.group.userData.labelNeedsUpdate=!1}}}}clear(){for(;this.markers.length>0;){let i=this.markers.pop();if(i){if(i.group.userData.labels)for(const t of i.group.userData.labels)i.group.remove(t),this.picker.sceneStatic.remove(t);this.picker.sceneStatic.remove(i.group),i.group.children.forEach(t=>{t.material&&t.material.dispose(),t.geometry&&t.geometry.dispose()}),i=void 0}}this.onFinish=void 0,this.onUpdate=void 0}getLerpCenter(i,t,s,n){const r=new H(i.attributes.instanceStart.getX(s),i.attributes.instanceStart.getY(s),i.attributes.instanceStart.getZ(s)),o=new H(i.attributes.instanceEnd.getX(n),i.attributes.instanceEnd.getY(n),i.attributes.instanceEnd.getZ(n));return new H().lerpVectors(r,o,t)}angleToPercentageStr(i){const t=i*S4;return`${Math.round((t+Number.EPSILON)*100)/100} %`}getRatioStr(i,t,s){const n=new H(i.attributes.instanceStart.getX(t),i.attributes.instanceStart.getY(t),i.attributes.instanceStart.getZ(t)),r=new H(i.attributes.instanceEnd.getX(s),i.attributes.instanceEnd.getY(s),i.attributes.instanceEnd.getZ(s)).clone().sub(n),o=r.clone().setZ(0).length();let a=Math.abs(r.z)/o;if(a<Number.EPSILON)return"N/A";const l=1/a,h=Math.round((l+Number.EPSILON)*10)/10;return h>=1?`1:${h}`:`${Math.round((a+Number.EPSILON)*10)/10}:1`}getAngle(i,t,s,n){const r=new H(i.attributes.instanceStart.getX(t),i.attributes.instanceStart.getY(t),i.attributes.instanceStart.getZ(t)),o=new H(i.attributes.instanceEnd.getX(s),i.attributes.instanceEnd.getY(s),i.attributes.instanceEnd.getZ(s)),a=o.clone().sub(r),l=new H;return new us().setFromNormalAndCoplanarPoint(n,new H).projectPoint(a,l),r.z<o.z?a.angleTo(l):-a.angleTo(l)}getDistance(i,t,s){if(this.getDistanceFn){const n=this.referenceFrame.toGeo({x:i.attributes.instanceStart.getX(t),y:i.attributes.instanceStart.getY(t),z:i.attributes.instanceStart.getZ(t)}),r=this.referenceFrame.toGeo({x:i.attributes.instanceEnd.getX(s),y:i.attributes.instanceEnd.getY(s),z:i.attributes.instanceEnd.getZ(s)});return this.getDistanceFn(n,r)}else{const n=new H(i.attributes.instanceStart.getX(t),i.attributes.instanceStart.getY(t),i.attributes.instanceStart.getZ(t)),r=new H(i.attributes.instanceEnd.getX(s),i.attributes.instanceEnd.getY(s),i.attributes.instanceEnd.getZ(s));return n.distanceTo(r)}}setLabelText(i,t,s,n,r=!1){if(this.setLabelTextFn)return this.setLabelTextFn(i,t,s,n,r);let o=0;const a=s.geometry;a instanceof Iu?o=a.instanceCount-1:o=a.drawRange.count-1;const l=r?this.activeMarkerMeta:"";switch(i){case"point":let h=a.attributes.position.getX(0),c=a.attributes.position.getY(0),u=a.attributes.position.getZ(0);this.points.length===0&&(h=this.activeMarker.position.x,c=this.activeMarker.position.y,u=this.activeMarker.position.z);let p=this.referenceFrame.toGeo({x:h,y:c,z:u});this.getPositionFn&&(p=this.getPositionFn(p)),t[0].innerHTML=`${l}X: ${Math.round(p.x*1e3)/1e3}<br />Y: ${Math.round(p.y*1e3)/1e3}<br />Z: ${Math.round(p.z*1e3)/1e3}`,n[0].position.set(h,c,u),t[0].style.marginTop=`${this.labelTooltipMarginTop}px`,t[0].style.visibility="visible";break;case"distance":if(o<1||this.hideLabels){t[0].innerHTML=`${l}Add point`,t[0].style.marginTop=`${this.labelTooltipMarginTop}px`,t[0].style.visibility="visible",n[0].position.copy(this.activeMarker.position);return}const d="0.95",T="0.00";if(t[0].style.marginTop="0px",this.showSlope){const w=this.getAngle(a,0,0,new H(0,0,1)),O=this.getLerpCenter(a,.5,0,0),X=this.getRatioStr(a,0,0),K=this.angleToPercentageStr(w);t[0].style.marginTop=`${this.labelTooltipMarginTop}px`,t[0].style.visibility="visible",t[0].innerHTML=`${l}Ratio: ${X}`,t[0].innerHTML+=`<br />Percentage: ${K}`,t[0].style.opacity=d,t[1].style.opacity=T,t[2].style.opacity=T,n[0].position.copy(O),n[1].position.copy(O),n[2].position.copy(O);return}const g=this.getDistance(a,0,0),I=this.getLerpCenter(a,.62,0,0),v=this.getDistance(a,1,1),C=this.getLerpCenter(a,.62,1,1),N=this.getDistance(a,2,2),F=this.getLerpCenter(a,.5,2,2);t[0].innerHTML=`${l}3D: ${Math.round(g*1e3)/1e3} m`,t[0].style.opacity=d,t[1].innerHTML=`Z: ${Math.round(N*1e3)/1e3} m`,t[1].style.opacity=d,t[2].innerHTML=`XY: ${Math.round(v*1e3)/1e3} m`,t[2].style.opacity=d,n[0].position.copy(I),n[1].position.copy(F),n[2].position.copy(C),this.calculateScale(I,g,100,100)>.4&&(t[0].innerHTML=`${l}3D: ${Math.round(g*1e3)/1e3} m`,t[0].innerHTML+=`<br />XY: ${Math.round(v*1e3)/1e3} m`,t[0].innerHTML+=`<br />Z: ${Math.round(N*1e3)/1e3} m`,t[1].style.opacity=T,t[2].style.opacity=T,t[0].style.marginTop=`${this.labelTooltipMarginTop}px`,r?(n[0].position.copy(this.activeMarker.position),n[1].position.copy(this.activeMarker.position),n[2].position.copy(this.activeMarker.position)):(n[1].position.copy(I),n[2].position.copy(I))),t.forEach(w=>w.style.visibility="visible");break;case"area":if(o<2){t[0].innerHTML=`${l}Add point`,t[0].style.marginTop=`${this.labelTooltipMarginTop}px`,t[0].style.visibility="visible",n[0].position.copy(this.activeMarker.position);return}t[0].style.marginTop="0px",t[0].style.visibility="visible";const P=this.getArea(a);this.activeType==="area"?(t[0].style.marginTop=`${this.labelTooltipMarginTop}px`,n[0].position.copy(this.activeMarker.position)):a.boundingSphere&&n[0].position.copy(a.boundingSphere.center),t[0].innerHTML=`${l}3D area: ${Math.round(P*1e3)/1e3} m<sup>2</sup>`;break}}updateActiveMarkerMeta(i){i.objectType==="plane"?this.activeMarkerMeta="":i.objectType==="pointcloud"?this.activeMarkerMeta='<div style="width: 100%; text-align: center; color: #aaa;">Pointcloud</div>':i.objectType==="mesh"&&this.metaTool.isIfc(i.object)?this.activeMarkerMeta='<div style="width: 100%; text-align: center; color: #aaa;">IFC</div>':i.objectType==="mesh"&&this.metaTool.isLandXml(i.object)&&(this.activeMarkerMeta='<div style="width: 100%; text-align: center; color: #aaa;">LandXML</div>')}updateActiveMarker(){let i;if(this.pickingPlane?i=this.picker.intersectPlane(this.pickingPlane):i=this.picker.pick(),!i)return;this.updateActiveMarkerMeta(i);const t=i.point;this.activeMarker.position.copy(t),this.activeMarker.children.forEach(o=>{o instanceof Lu&&o.material.resolution.set(this.domEl.clientWidth,this.domEl.clientHeight)});const s=this.activeMarker.userData.scaleFactor,n=this.calculateScale(t,this.markerRadius,this.markerMinPixelSize,this.markerMaxPixelSize)*s;if(this.activeMarker.scale.set(n,n,n),i.normal){const o=this.getNormal(i.normal);this.activeMarker.lookAt(t.clone().add(o))}else{const o=this.getNormal(this.picker.camera.position.clone().sub(t).normalize());this.activeMarker.lookAt(t.clone().add(o))}const r=this.activeLine.geometry.instanceCount;if(this.points.length===0){this.setLabelText(this.activeType,this.activeLabelDivs,this.activeLine,this.activeLabels,!0);return}if(r===0&&this.points.length===1)this.activeLine.geometry.instanceCount=1;else if(this.activeType==="distance"&&r>0)this.activeLine.material.resolution.set(this.domEl.clientWidth,this.domEl.clientHeight),this.activeLine.geometry.attributes.instanceStart.setXYZ(0,this.points[0].x,this.points[0].y,this.points[0].z),this.activeLine.geometry.attributes.instanceEnd.setXYZ(0,t.x,t.y,t.z),this.activeLine.geometry.attributes.instanceStart.setXYZ(1,t.x,t.y,t.z),this.activeLine.geometry.attributes.instanceEnd.setXYZ(1,this.points[0].x,this.points[0].y,t.z),this.activeLine.geometry.attributes.instanceStart.setXYZ(2,this.points[0].x,this.points[0].y,this.points[0].z),this.activeLine.geometry.attributes.instanceEnd.setXYZ(2,this.points[0].x,this.points[0].y,t.z),this.activeLine.geometry.attributes.instanceStart.needsUpdate=!0,this.activeLine.geometry.attributes.instanceEnd.needsUpdate=!0,this.activeLine.geometry.instanceCount=3,this.activeLine.geometry.computeBoundingBox(),this.activeLine.geometry.computeBoundingSphere(),this.activeLine.computeLineDistances(),this.setLabelText(this.activeType,this.activeLabelDivs,this.activeLine,this.activeLabels,!0);else if(this.activeType==="area"&&this.points.length>0){const o=this.points[this.points.length-1];this.activeLine.geometry.attributes.instanceStart.setXYZ(this.points.length-1,o.x,o.y,o.z),this.activeLine.geometry.attributes.instanceEnd.setXYZ(this.points.length-1,i.point.x,i.point.y,i.point.z),this.activeLine.geometry.attributes.instanceStart.needsUpdate=!0,this.activeLine.geometry.attributes.instanceEnd.needsUpdate=!0,this.activeLine.geometry.instanceCount=this.points.length,this.activeLine.geometry.computeBoundingBox(),this.activeLine.geometry.computeBoundingSphere(),this.activeLine.computeLineDistances(),this.updateActiveArea(t),this.setLabelText(this.activeType,this.activeLabelDivs,this.activeAreaMesh,this.activeLabels,!0)}}triangulatePolygon(i,t){if(i.instanceCount<2)throw new Error("Not enough points to triangulate");const s=[];for(let o=0;o<i.instanceCount;o++){const a=i.attributes.instanceStart.getX(o),l=i.attributes.instanceStart.getY(o),h=i.attributes.instanceStart.getZ(o);s.push(a,l,h)}s.push(i.attributes.instanceEnd.getX(i.instanceCount-1),i.attributes.instanceEnd.getY(i.instanceCount-1),i.attributes.instanceEnd.getZ(i.instanceCount-1));const n=_H.triangulate(s,[],3),r=t||new Yt().setFromPoints(Array(n.length).fill(new H));for(let o=0;o<n.length;o+=3){const a=n[o+0],l=n[o+1],h=n[o+2],c=s[a*3+0],u=s[a*3+1],p=s[a*3+2],d=s[l*3+0],T=s[l*3+1],g=s[l*3+2],I=s[h*3+0],v=s[h*3+1],C=s[h*3+2];r.attributes.position.setXYZ(o+0,c,u,p),r.attributes.position.setXYZ(o+1,d,T,g),r.attributes.position.setXYZ(o+2,I,v,C)}return r.setDrawRange(0,n.length),r.attributes.position.needsUpdate=!0,r.computeBoundingBox(),r.computeBoundingSphere(),r}updateActiveArea(i){const t=this.points.map(n=>[n.x,n.y]);t.push([i.x,i.y]);const s=bZ(t);LZ(s).features.length>0?(this.activeLine.material.color.setHex(12320768),this.hasKinks=!0,this.activeAreaMesh.geometry.setDrawRange(0,0),this.activeAreaMesh.geometry.attributes.position.needsUpdate=!0):(this.activeLine.material.color.setHex(15886354),this.activeLine.geometry.instanceCount>1&&this.triangulatePolygon(this.activeLine.geometry,this.activeAreaMesh.geometry),this.hasKinks=!1)}addPoint(){if(this.activeType==="area"&&this.hasKinks)return;let i;if(this.pickingPlane?i=this.picker.intersectPlane(this.pickingPlane):i=this.picker.pick(),!i)return;const t=i.point;this.points.push(t);const s=this.createMarker();if(s.position.copy(t),s.userData.isPickable=!1,s.userData.measureType=this.activeType,s.userData.isMarkerGroup=!0,!!this.markers[this.markers.length-1]){if(this.markers[this.markers.length-1].group.add(s),i.normal){const n=this.getNormal(i.normal);s.lookAt(t.clone().add(n))}else{const n=this.getNormal(this.picker.camera.position.clone().sub(t).normalize());s.lookAt(this.picker.camera.position.clone().add(n))}if(this.activeType==="point")return this.end(i);if(this.activeType==="distance"&&this.points.length===2)return this.end(i)}}setActiveMarkerColor(i){this.activeMarker.children.forEach(t=>{t&&t.material&&t.material.color.setHex(i)})}setActiveMarkerScale(i){this.activeMarker.userData.scaleFactor=i}handleLeftClick(){this.activeType!=="none"&&this.addPoint()}handleMouseMove(){this.activeType!=="none"&&this.updateActiveMarker()}snapToLineIntersection(i){const t=i.faceIndex,s=i.pointOnLine;!t||!s||this.activeMarker.position.copy(s)}cancel(){this.activeType="none";const i=this.markers.pop();if(i){this.picker.sceneStatic.remove(i.group);for(const t of this.activeLabels)this.picker.sceneStatic.remove(t);this.picker.sceneStatic.remove(this.activeMarker),this.picker.sceneStatic.remove(this.activeLine),this.picker.sceneStatic.remove(this.activeAreaMesh)}}dispose(){this.domEl.removeChild(this.labelRenderer.domElement),this.domEl.removeEventListener("pointscene_on_leftclick",this.handleLeftClick),this.domEl.removeEventListener("pointscene_on_mousemove",this.handleMouseMove)}end(i){for(const t of this.activeLabels)this.picker.sceneStatic.remove(t);if(this.picker.sceneStatic.remove(this.activeMarker),this.picker.sceneStatic.remove(this.activeLine),this.picker.sceneStatic.remove(this.activeAreaMesh),this.activeType==="point"&&this.markers[this.markers.length-1])this.markers[this.markers.length-1].group.userData.labelNeedsUpdate=!0;else if(this.activeType==="distance"&&this.markers[this.markers.length-1]){if(this.points.length<2)return this.cancel();const t=this.points[0],s=this.points[1],n=new H(t.x,t.y,s.z),r=[t.clone(),s.clone(),n.clone(),t.clone()],o=this.createLine(r);o.userData.measureType="distance",o.geometry.computeBoundingBox(),o.geometry.computeBoundingSphere(),this.markers[this.markers.length-1].group.add(o),this.markers[this.markers.length-1].group.userData.labelNeedsUpdate=!0}else if(this.activeType==="area"&&this.markers[this.markers.length-1]){if(this.points.length<3)return this.cancel();this.points.push(this.points[0].clone());const t=this.createLine(this.points);t.userData.measureType="area-line",this.markers[this.markers.length-1].group.add(t),this.activeLine.geometry.instanceCount=this.activeLine.geometry.instanceCount-1;const s=this.triangulatePolygon(this.activeLine.geometry),n=new fi(s,this.getMaterial());n.userData.measureType="area",this.markers[this.markers.length-1].group.add(n),this.markers[this.markers.length-1].group.userData.labelNeedsUpdate=!0}this.activeType="none",typeof this.onFinish<"u"&&this.onFinish(this.points.map(t=>this.referenceFrame.toGeo(t)),i)}createMarker(i=15886354){const t=new Vs;t.userData.measureType=this.activeType,t.userData.scaleFactor=1;const s=new fi(this.markerGeometry,this.getMaterial(14540253,.6)),n=[new H(-this.markerRadius,0,0),new H(this.markerRadius,0,0)],r=[new H(0,-this.markerRadius,0),new H(0,this.markerRadius,0)],o=this.createLine(n,12303291,.6),a=this.createLine(r,12303291,.6);return s.userData.isPickable=!1,o.userData.isPickable=!1,a.userData.isPickable=!1,s.layers.set(xn.MEASUREMENTS),o.layers.set(xn.MEASUREMENTS),a.layers.set(xn.MEASUREMENTS),t.add(s),t.add(o),t.add(a),t.up.set(0,0,1),t}createMesh(i,t){const s=new Yt().setFromPoints(i),n=new fi(s,t);return n.layers.set(xn.MEASUREMENTS),n}createLine(i,t=15886354,s=1){const n=[];for(const l of i)n.push(l.x,l.y,l.z);const r=new Iu;r.setPositions(n),r.computeBoundingBox(),r.computeBoundingSphere();const o=new OI({color:t,linewidth:3,worldUnits:!1,resolution:new ht(this.domEl.clientWidth,this.domEl.clientHeight),depthTest:!1,depthWrite:!1,opacity:s,clipping:!1}),a=new Lu(r,o);return a.computeLineDistances(),a.layers.set(xn.MEASUREMENTS),a}getMaterial(i=15886354,t=.6){const s={vertexShader:`
        attribute vec3 center;
  
        void main() {
          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
        }
      `,fragmentShader:`
        uniform float opacity;
        uniform vec3 color;
  
        void main() {
          gl_FragColor.rgb = color;
          gl_FragColor.a = opacity;
        }
      `,uniforms:{opacity:{type:"f",value:t},color:new ll(new ge(i))}};return new fs(L4({side:ds,transparent:!0,depthWrite:!1,depthTest:!1,clipping:!1},s))}getGeometryArray(i){const t=i.attributes.instanceStart.count,s=i.attributes.instanceStart;i.attributes.instanceEnd;const n=[];for(let r=0;r<t;r++){const o=s.getX(r),a=s.getY(r),l=s.getZ(r);n.push(this.referenceFrame.toGeo({x:o,y:a,z:l}))}return n}getGeometry(){let i=[],t=[],s=[];for(let n of this.markers){const r=this.findMarkerGroup(n.group);if(r.length===0)continue;const o=r[0];switch(n.group.userData.measureType){case"point":i.push(this.referenceFrame.toGeo(o.position.clone()));break;case"distance":const a=this.findGeometryObject(n.group,"distance");t.push(this.getGeometryArray(a.geometry));break;case"area":const l=this.findGeometryObject(n.group,"area-line");s.push(this.getGeometryArray(l.geometry));break}}return{points:i,lines:t,polygons:s}}}var M4="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='48' width='48'%3e%3cpath d='M9 43.95q-1.2 0-2.1-.9-.9-.9-.9-2.1V10.8h3v30.15h23.7v3Zm6-6q-1.2 0-2.1-.9-.9-.9-.9-2.1v-28q0-1.2.9-2.1.9-.9 2.1-.9h22q1.2 0 2.1.9.9.9.9 2.1v28q0 1.2-.9 2.1-.9.9-2.1.9Zm0-3h22v-28H15v28Zm0 0v-28 28Z'/%3e%3c/svg%3e",x4="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='48' width='48' fill='%23f26812'%3e%3cpath d='M11 46q-1.2 0-2.1-.9Q8 44.2 8 43V17.55q0-1.2.9-2.1.9-.9 2.1-.9h8.45v3H11V43h26V17.55h-8.55v-3H37q1.2 0 2.1.9.9.9.9 2.1V43q0 1.2-.9 2.1-.9.9-2.1.9Zm11.45-15.35V7.8l-4.4 4.4-2.15-2.15L23.95 2 32 10.05l-2.15 2.15-4.4-4.4v22.85Z'/%3e%3c/svg%3e",t1="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='24px' viewBox='0 0 24 24' width='24px' fill='%23365379'%3e%3cpath d='M0 0h24v24H0V0z' fill='none'/%3e%3cpath d='M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3-8c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3z'/%3e%3c/svg%3e",v4="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='48' width='48' fill='%23365379'%3e%3cpath d='M7 36q-1.2 0-2.1-.9Q4 34.2 4 33V15q0-1.15.9-2.075Q5.8 12 7 12h34q1.2 0 2.1.925.9.925.9 2.075v18q0 1.2-.9 2.1-.9.9-2.1.9Zm0-3h34V15h-6.5v9h-3v-9h-6v9h-3v-9h-6v9h-3v-9H7v18Zm6.5-9h3Zm9 0h3Zm9 0h3ZM24 24Z'/%3e%3c/svg%3e",G4="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='48' width='48' fill='%23f26812'%3e%3cpath d='M7 36q-1.2 0-2.1-.9Q4 34.2 4 33V15q0-1.15.9-2.075Q5.8 12 7 12h34q1.2 0 2.1.925.9.925.9 2.075v18q0 1.2-.9 2.1-.9.9-2.1.9Zm0-3h34V15h-6.5v9h-3v-9h-6v9h-3v-9h-6v9h-3v-9H7v18Zm6.5-9h3Zm9 0h3Zm9 0h3ZM24 24Z'/%3e%3c/svg%3e",E4="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='24px' viewBox='0 0 24 24' width='24px' fill='%23365379'%3e%3cpath d='M0 0h24v24H0V0z' fill='none'/%3e%3cpath d='M23 7V1h-6v2H7V1H1v6h2v10H1v6h6v-2h10v2h6v-6h-2V7h2zM3 3h2v2H3V3zm2 18H3v-2h2v2zm12-2H7v-2H5V7h2V5h10v2h2v10h-2v2zm4 2h-2v-2h2v2zM19 5V3h2v2h-2zm-5.27 9h-3.49l-.73 2H7.89l3.4-9h1.4l3.41 9h-1.63l-.74-2zm-3.04-1.26h2.61L12 8.91l-1.31 3.83z'/%3e%3c/svg%3e",Fy="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='24px' viewBox='0 0 24 24' width='24px' fill='%23bc0000'%3e%3cpath d='M0 0h24v24H0V0z' fill='none' opacity='.87'/%3e%3cpath d='M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z'/%3e%3c/svg%3e",C4="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='24px' viewBox='0 0 24 24' width='24px' fill='%23f26812'%3e%3cpath d='M0 0h24v24H0V0z' fill='none'/%3e%3cpath d='M12 7C6.48 7 2 9.24 2 12c0 2.24 2.94 4.13 7 4.77V20l4-4-4-4v2.73c-3.15-.56-5-1.9-5-2.73 0-1.06 3.04-3 8-3s8 1.94 8 3c0 .73-1.46 1.89-4 2.53v2.05c3.53-.77 6-2.53 6-4.58 0-2.76-4.48-5-10-5z'/%3e%3c/svg%3e",R4="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='24px' viewBox='0 0 24 24' width='24px' fill='%23f26812'%3e%3cpath d='M0 0h24v24H0V0z' fill='none'/%3e%3cpath d='M11.99 18.54l-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16zm0-11.47L17.74 9 12 13.47 6.26 9 12 4.53z'/%3e%3c/svg%3e",N4="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='24px' viewBox='0 0 24 24' width='24px' fill='%23f26812'%3e%3cpath d='M0 0h24v24H0V0z' fill='none'/%3e%3cpath d='M21 6H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 10H3V8h2v4h2V8h2v4h2V8h2v4h2V8h2v4h2V8h2v8z'/%3e%3c/svg%3e",F4="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='24px' viewBox='0 0 24 24' width='24px' fill='%23f26812'%3e%3cpath d='M0 0h24v24H0V0z' fill='none'/%3e%3cpath d='M10 12c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM6 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12-8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm-4 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm4-4c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-4-4c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-4-4c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z'/%3e%3c/svg%3e",P4="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='24px' viewBox='0 0 24 24' width='24px' fill='%23f26812'%3e%3cpath d='M0 0h24v24H0V0z' fill='none'/%3e%3cpath d='M20 9c-.04-4.39-3.6-7.93-8-7.93S4.04 4.61 4 9v6c0 4.42 3.58 8 8 8s8-3.58 8-8V9zm-2 0h-5V3.16c2.81.47 4.96 2.9 5 5.84zm-7-5.84V9H6c.04-2.94 2.19-5.37 5-5.84zM18 15c0 3.31-2.69 6-6 6s-6-2.69-6-6v-4h12v4z'/%3e%3c/svg%3e",w4="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='48' width='48' fill='%23f26812'%3e%3cpath d='M17.2 17.4 15 15.2 24 6.2 33 15.2 30.8 17.4 24 10.6ZM24 42 15 33 17.2 30.8 24 37.6 30.8 30.8 33 33Z'/%3e%3c/svg%3e",X4="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='48' width='48' fill='%23f26812'%3e%3cpath d='M24 19.15 15 10.15 17.15 8 24 14.85 30.85 8 33 10.15ZM17.15 40 15 37.85 24 28.85 33 37.85 30.85 40 24 33.15Z'/%3e%3c/svg%3e",D4="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='48' width='48' fill='%23f26812'%3e%3cpath d='M7 40Q5.85 40 4.925 39.075Q4 38.15 4 37V11Q4 9.85 4.925 8.925Q5.85 8 7 8H21.05L24.05 11H41Q42.15 11 43.075 11.925Q44 12.85 44 14H22.75L19.75 11H7Q7 11 7 11Q7 11 7 11V37Q7 37 7 37Q7 37 7 37L12.1 17H47L41.65 37.7Q41.35 38.9 40.55 39.45Q39.75 40 38.5 40ZM10.15 37H38.75L42.95 20H14.35ZM10.15 37 14.35 20 10.15 37ZM7 14V11Q7 11 7 11Q7 11 7 11V14Z'/%3e%3c/svg%3e",O4="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='48' width='48' fill='%23f26812'%3e%3cpath d='M7.05 40Q5.85 40 4.95 39.075Q4.05 38.15 4.05 37V11Q4.05 9.85 4.95 8.925Q5.85 8 7.05 8H21.05L24.05 11H41.05Q42.2 11 43.125 11.925Q44.05 12.85 44.05 14V37Q44.05 38.15 43.125 39.075Q42.2 40 41.05 40ZM7.05 11V37Q7.05 37 7.05 37Q7.05 37 7.05 37H41.05Q41.05 37 41.05 37Q41.05 37 41.05 37V14Q41.05 14 41.05 14Q41.05 14 41.05 14H22.8L19.8 11H7.05Q7.05 11 7.05 11Q7.05 11 7.05 11ZM7.05 11Q7.05 11 7.05 11Q7.05 11 7.05 11V14Q7.05 14 7.05 14Q7.05 14 7.05 14V37Q7.05 37 7.05 37Q7.05 37 7.05 37Q7.05 37 7.05 37Q7.05 37 7.05 37Z'/%3e%3c/svg%3e",z4="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='48' width='48' fill='%23365379'%3e%3cpath d='M19.6 42H9Q7.8 42 6.9 41.1Q6 40.2 6 39V9Q6 7.8 6.9 6.9Q7.8 6 9 6H19.6V9H9Q9 9 9 9Q9 9 9 9V39Q9 39 9 39Q9 39 9 39H19.6ZM22.6 46V2H25.6V46ZM39 9H38.3V6H39Q40.2 6 41.1 6.9Q42 7.8 42 9V9.7H39ZM39 26.75V21.25H42V26.75ZM39 42H38.3V39H39V38.3H42V39Q42 40.2 41.1 41.1Q40.2 42 39 42ZM39 18.25V12.7H42V18.25ZM39 35.3V29.75H42V35.3ZM28.6 42V39H35.3V42ZM28.6 9V6H35.3V9Z'/%3e%3c/svg%3e",W4="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='48' width='48' fill='%23365379'%3e%3cpath d='M6 42V30.5h3v6.35l7.4-7.4 2.15 2.15-7.4 7.4h6.35v3Zm24.5 0v-3h6.35l-7.35-7.35 2.15-2.15L39 36.85V30.5h3V42ZM16.35 18.5 9 11.15v6.35H6V6h11.5v3h-6.35l7.35 7.35Zm15.3 0-2.15-2.15L36.85 9H30.5V6H42v11.5h-3v-6.35Z'/%3e%3c/svg%3e",Y4="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='48' width='48' fill='%23365379'%3e%3cpath d='M22.65 34h3V22h-3ZM24 18.3q.7 0 1.175-.45.475-.45.475-1.15t-.475-1.2Q24.7 15 24 15q-.7 0-1.175.5-.475.5-.475 1.2t.475 1.15q.475.45 1.175.45ZM24 44q-4.1 0-7.75-1.575-3.65-1.575-6.375-4.3-2.725-2.725-4.3-6.375Q4 28.1 4 23.95q0-4.1 1.575-7.75 1.575-3.65 4.3-6.35 2.725-2.7 6.375-4.275Q19.9 4 24.05 4q4.1 0 7.75 1.575 3.65 1.575 6.35 4.275 2.7 2.7 4.275 6.35Q44 19.85 44 24q0 4.1-1.575 7.75-1.575 3.65-4.275 6.375t-6.35 4.3Q28.15 44 24 44Zm.05-3q7.05 0 12-4.975T41 23.95q0-7.05-4.95-12T24 7q-7.05 0-12.025 4.95Q7 16.9 7 24q0 7.05 4.975 12.025Q16.95 41 24.05 41ZM24 24Z'/%3e%3c/svg%3e",k4="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='48' width='48' fill='%23f26812'%3e%3cpath d='m37.55 18.2-7.75-7.75 3.5-3.5q.85-.85 2.1-.85t2.1.85l3.55 3.55q.85.85.85 2.1t-.85 2.1ZM6 42v-7.8l9.7-9.7L4.65 13.4l8.7-8.8L24.5 15.75l5.3-5.3 7.75 7.75-5.3 5.3L43.4 34.65l-8.75 8.65-11.1-11.05L13.8 42Zm11.85-19.65 4.5-4.5-3.65-3.65-2.4 2.4-2.1-2.1 2.4-2.4-3.2-3.2-4.5 4.5Zm16.7 16.75 4.5-4.5-3.2-3.2-2.4 2.4-2.1-2.1 2.4-2.4-3.65-3.65-4.5 4.5ZM9 39h3.5l20.75-20.75-3.5-3.5L9 35.5Z'/%3e%3c/svg%3e",A4="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='48' width='48' fill='%23f26812'%3e%3cpath d='M10 42q-1.65 0-2.825-1.175Q6 39.65 6 38V11.05Q6 9.2 7.725 8.5q1.725-.7 3.075.65l2.25 2.25-2.1 2.1 1.35 1.35 2.1-2.1 5.85 5.85-2.1 2.1 1.35 1.35 2.1-2.1 5.9 5.9-2.1 2.1 1.35 1.35 2.1-2.1 5.85 5.85-2.1 2.1 1.35 1.35 2.1-2.1 2.25 2.25q1.5 1.5.75 3.425Q38.3 42 36.3 42Zm0-4h23.15L10 14.85V38Z'/%3e%3c/svg%3e",K4="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='48' width='48' fill='%23365379'%3e%3cpath d='M10 42q-1.65 0-2.825-1.175Q6 39.65 6 38V11.05Q6 9.2 7.725 8.5q1.725-.7 3.075.65l2.25 2.25-2.1 2.1 1.35 1.35 2.1-2.1 5.85 5.85-2.1 2.1 1.35 1.35 2.1-2.1 5.9 5.9-2.1 2.1 1.35 1.35 2.1-2.1 5.85 5.85-2.1 2.1 1.35 1.35 2.1-2.1 2.25 2.25q1.5 1.5.75 3.425Q38.3 42 36.3 42Zm0-4h23.15L10 14.85V38Z'/%3e%3c/svg%3e",Z4="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='48' width='48' fill='%23365379'%3e%3cpath d='M20 38 6 24l14-14Zm8 0V10l14 14Zm2.75-6.65L38.1 24l-7.35-7.35Z'/%3e%3c/svg%3e",H4="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='48' width='48' fill='%23f26812'%3e%3cpath d='m14.1 36.75-2.1-2.1 12-12 12 12-2.1 2.1-9.9-9.9Zm0-12.65L12 22l12-12 12 12-2.1 2.1-9.9-9.9Z'/%3e%3c/svg%3e",U4="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='48' width='48' fill='%23f26812'%3e%3cpath d='M6 36v-3h36v3Zm0-10.5v-3h36v3ZM6 15v-3h36v3Z'/%3e%3c/svg%3e",_4=Object.defineProperty,V4=Object.getOwnPropertyDescriptor,Hh=(e,i,t,s)=>{for(var n=s>1?void 0:s?V4(i,t):i,r=e.length-1,o;r>=0;r--)(o=e[r])&&(n=(s?o(i,t,n):o(n))||n);return s&&n&&_4(i,t,n),n};let dl=class extends js{constructor(){super(...arguments);this.icon="point",this.width="22px",this.height="22px",this.class=""}render(){return Mi`
      <img ?style=${this.iconStyle} class=${this.class} width="100%" height="100%" src=${this.getImage(this.icon)} />
    `}getImage(e){switch(e){case"point":return t1;case"distance":return v4;case"distance_alt":return G4;case"area":return E4;case"cancel":return Fy;case"360":return C4;case"layers":return R4;case"ruler":return N4;case"pointcloud":return F4;case"controls":return P4;case"unfold_more":return w4;case"unfold_less":return X4;case"folder_open":return D4;case"folder_closed":return O4;case"clip":return z4;case"fit_view":return W4;case"share":return x4;case"copy":return M4;case"info":return Y4;case"tools":return k4;case"slope_alt":return A4;case"slope":return K4;case"switch":return Z4;case"minimize_up":return H4;case"menu":return U4;default:return t1}}};Hh([Ot({type:String})],dl.prototype,"icon",2),Hh([Ot({type:String})],dl.prototype,"width",2),Hh([Ot({type:String})],dl.prototype,"height",2),Hh([Ot({type:String})],dl.prototype,"class",2),Hh([Ot({type:String})],dl.prototype,"iconStyle",2),dl=Hh([Jn("pointscene-icon")],dl);var j4=Object.defineProperty,B4=Object.getOwnPropertyDescriptor,go=(e,i,t,s)=>{for(var n=s>1?void 0:s?B4(i,t):i,r=e.length-1,o;r>=0;r--)(o=e[r])&&(n=(s?o(i,t,n):o(n))||n);return s&&n&&j4(i,t,n),n};let gr=class extends js{constructor(){super(...arguments);this.disabled=!1,this.active=!1,this.hideLabel=!1,this.label="",this.badge=""}render(){return Mi`
      <button .style=${this.buttonStyle} ?disabled=${this.disabled} ?class="${this.active?"button-active":""}">
        <span class="pointscene-button-icon">
          <pointscene-icon icon=${this.active===!0?this.iconCancel:this.icon}></pointscene-icon>
        </span>
        ${this.hideLabel?"":Mi`
        <span class="pointscene-button-label">
          ${this.label}
        </span>
        ${this.badge?Mi`
          <span class="pointscene-button-badge">
            ${this.badge}
          </span>
        `:""}        
        `}
      </button>
    `}};gr.styles=[RH,fr],go([Ot({type:Boolean})],gr.prototype,"disabled",2),go([Ot({type:Boolean})],gr.prototype,"active",2),go([Ot({type:Boolean})],gr.prototype,"hideLabel",2),go([Ot({type:String})],gr.prototype,"label",2),go([Ot({type:String})],gr.prototype,"badge",2),go([Ot({type:String})],gr.prototype,"icon",2),go([Ot({type:String})],gr.prototype,"iconCancel",2),go([Ot({type:String})],gr.prototype,"buttonStyle",2),gr=go([Jn("pointscene-button")],gr);var J4=Object.defineProperty,Q4=Object.getOwnPropertyDescriptor,vu=(e,i,t,s)=>{for(var n=s>1?void 0:s?Q4(i,t):i,r=e.length-1,o;r>=0;r--)(o=e[r])&&(n=(s?o(i,t,n):o(n))||n);return s&&n&&J4(i,t,n),n};let ml=class extends js{constructor(){super(...arguments);this.label="",this.checked=!1,this.disabled=!1,this.expanded=!1}render(){return Mi`
      <div class="pointscene-switch-container">
        <label class="pointscene-switch">
            <input type="checkbox"
                .disabled=${this.disabled}
                @change=${this.handleChange}
                .checked=${this.checked}

            >
            <span class="pointscene-switch-slider round"></span>
            <span class="pointscene-switch-label" style="${this.expanded?"width: 36vw;":""}">
                ${this.label}
            </span>
        </label>
      </div>
    `}handleChange(e){this.dispatchEvent(new CustomEvent("change",{}))}};ml.styles=[dy,my,fr],vu([Ot({type:String})],ml.prototype,"label",2),vu([Ot({type:Boolean})],ml.prototype,"checked",2),vu([Ot({type:Boolean})],ml.prototype,"disabled",2),vu([Ot({type:Boolean})],ml.prototype,"expanded",2),ml=vu([Jn("pointscene-switch")],ml);class i1{constructor(){this.header=`999
DXF downloaded from Pointscene.com
0
SECTION
2
HEADER
9
$ACADVER
1
AC1006
9
$INSBASE
10
0.0
20
0.0
30
0.0
9
$EXTMIN
10
{xmin}
20
{ymin}
30
{zmin}
9
$EXTMAX
10
{xmax}
20
{ymax}
30
{zmax}
0
ENDSEC
`,this.header+=`0
SECTION
2
TABLES
0
TABLE
2
LTYPE
70
1
0
LTYPE
2
CONTINUOUS
70
64
3
Solid line
72
65
73
0
40
0.000000
0
ENDTAB
`,this.header+=`0
TABLE
2
LAYER
70
6
0
LAYER
2
1
70
64
62
7
6
CONTINUOUS
0
LAYER
2
2
70
64
62
7
6
CONTINUOUS
0
ENDTAB
0
TABLE
2
STYLE
70
0
0
ENDTAB
0
ENDSEC
`,this.header+=`0
SECTION
2
BLOCKS
0
ENDSEC
`,this.footer=`0
EOF`,this.entitiesBegin=`0
SECTION
2
ENTITIES
`,this.entityEnd=`0
ENDSEC
`,this.pointEnt=`0
POINT
5
{id}
8
{layer}
6
CONTINUOUS
62
150
10
{x}
20
{y}
30
{z}
`,this.vertexBegin=`0
POLYLINE
8
{layer}
62
0
66
1
10
0.0
20
0.0
30
0.0
70
8
`,this.vertex=`0
VERTEX
8
{layer}
10
{x}
20
{y}
30
{z}
70
32
`,this.vertexEnd=`0
SEQEND
`,this.points=[],this.lines=[],this.polygons=[],this.xmin=9999999999e-2,this.ymin=9999999999e-2,this.zmin=9999999999e-2,this.xmax=-9999999999e-2,this.ymax=-9999999999e-2,this.zmax=-9999999999e-2}dispose(){this.points=[],this.lines=[],this.polygons=[]}addPoints(i,t){i.length!==0&&this.points.push({data:i,layer:t})}addLines(i,t){i.length!==0&&this.lines.push({data:i,layer:t})}addPolygons(i,t){i.length!==0&&this.polygons.push({data:i,layer:t})}updateExtremes(i){this.xmin=Math.min(this.xmin,i.x),this.ymin=Math.min(this.ymin,i.y),this.zmin=Math.min(this.zmin,i.z),this.xmax=Math.max(this.xmax,i.x),this.ymax=Math.max(this.ymax,i.y),this.zmax=Math.max(this.zmax,i.z)}getData(){if(this.lines.length===0&&this.polygons.length===0&&this.points.length===0)return;let i="";i+=this.entitiesBegin,this.points.forEach(s=>{for(let n=0;n<s.data.length;n++){const r=s.data[n];this.updateExtremes(r),i+=this.pointEnt.replace("{id}",n.toString()).replace("{x}",r.x.toString()).replace("{y}",r.y.toString()).replace("{z}",r.z.toString()).replace("{layer}",s.layer)}}),this.lines.forEach(s=>{for(let n=0;n<s.data.length;n++){const r=s.data[n];i+=this.vertexBegin.replace("{layer}",s.layer);for(let o=0;o<r.length;o++){const a=r[o];this.updateExtremes(a);let l=this.vertex.slice(0);l=l.replace("{x}",a.x.toString()).replace("{y}",a.y.toString()).replace("{z}",a.z.toString()).replace("{layer}",s.layer),i+=l}i+=this.vertexEnd.slice(0)}}),this.polygons.forEach(s=>{for(let n=0;n<s.data.length;n++){const r=s.data[n];i+=this.vertexBegin.replace("{layer}",s.layer);for(let o=0;o<r.length;o++){const a=r[o];this.updateExtremes(a);let l=this.vertex.slice(0);l=l.replace("{x}",a.x.toString()).replace("{y}",a.y.toString()).replace("{z}",a.z.toString()).replace("{layer}",s.layer),i+=l}i+=this.vertexEnd.slice(0)}}),i+=this.entityEnd;let t=this.header;return t=t.replace("{xmin}",this.xmin.toString()).replace("{ymin}",this.ymin.toString()).replace("{zmin}",this.zmin.toString()),t=t.replace("{xmax}",this.xmax.toString()).replace("{ymax}",this.ymax.toString()).replace("{zmax}",this.zmax.toString()),t+i+this.footer}reset(){this.points=[],this.lines=[],this.polygons=[]}saveFile(){const i=this.getData();if(!i)return;const t=new Blob([i],{type:"text/plain;charset=utf-8"}),s=document.createElement("a");s.href=window.URL.createObjectURL(t),s.download="pointscene_export_"+Date.now()+".dxf",s.style.display="none",document.body.appendChild(s),s.click(),setTimeout(function(){document.body.removeChild(s)},1e3)}}class Py{constructor(){this.boundingBox=new Pi,this.numPoints=0,this.data={}}add(i){let t=this.numPoints,s=i.numPoints,n=t+s,r=Object.keys(this.data),o=Object.keys(i.data),a=new Set([...r,...o]);for(let l of a)if(r.includes(l)&&o.includes(l)){let h=this.data[l].constructor,c=new h(this.data[l].length+i.data[l].length);c.set(this.data[l],0),c.set(i.data[l],this.data[l].length),this.data[l]=c}else if(r.includes(l)&&!o.includes(l)){let h=this.data[l].length/this.numPoints,c=this.data[l].constructor,u=new c(h*n);u.set(this.data[l],0),this.data[l]=u}else if(!r.includes(l)&&o.includes(l)){let h=i.data[l].length/i.numPoints,c=i.data[l].constructor,u=new c(h*n);u.set(i.data[l],h*t),this.data[l]=u}this.numPoints=n,this.boundingBox.union(i.boundingBox)}}class Ud{constructor(i){this.boundingBox=new Pi,this.segments=[],this.profile=i;for(let t=0;t<i.points.length-1;t++){let s=i.points[t],n=i.points[t+1],r=new H(s.x,s.y,0),o=new H(n.x,n.y,0),a=new H().addVectors(o,r).multiplyScalar(.5),l=r.distanceTo(o),h=new H().subVectors(o,r).normalize(),c=new H(0,0,1),u=new H().crossVectors(h,c).normalize(),p=new us().setFromNormalAndCoplanarPoint(u,r),d=new us().setFromNormalAndCoplanarPoint(h,a),T={start:s,end:n,cutPlane:p,halfPlane:d,length:l,points:new Py};this.segments.push(T)}}size(){let i=0;for(let t of this.segments)i+=t.points.numPoints;return i}}class s1{constructor(i){this.isFinished=!1,this.profileRequests=[],this.cancelRequested=!1,this.pointcloud=i.pointcloud,this.profile=i.profile,this.maxDepth=i.maxDepth||Number.MAX_VALUE,this.onProgress=i.onProgress,this.onFinish=i.onFinish,this.onCancel=i.onCancel,this.temporaryResult=new Ud(this.profile),this.pointsServed=0,this.highestLevelServed=0,this.priorityQueue=new U0(t=>1/t.weight),this.initialize()}initialize(){this.priorityQueue.push({node:this.pointcloud.pcoGeometry.root,weight:1/0})}nodeIntersectsProfile(i,t){let s=i.boundingBox.clone().applyMatrix4(this.pointcloud.matrixWorld).getBoundingSphere(new In),n=!1;for(let r=0;r<t.points.length-1;r++){let o=new H(t.points[r+0].x,t.points[r+0].y,s.center.z),a=new H(t.points[r+1].x,t.points[r+1].y,s.center.z),l=new Sn(o,a).closestPointToPoint(s.center,!0,new H).distanceTo(s.center);n=n||l<s.radius+t.width}return n}traverse(i){let t=[];for(let s=0;s<8;s++){let n=i.children[s];n&&this.nodeIntersectsProfile(n,this.profile)&&t.push(n)}for(;t.length>0;){let s=t.pop();if(!s)break;let n=s.boundingSphere.radius;if(this.priorityQueue.push({node:s,weight:n}),s.level<this.maxDepth)for(let r=0;r<8;r++){let o=s.children[r];o&&this.nodeIntersectsProfile(o,this.profile)&&t.push(o)}}}update(){this.updateGeneratorInstance||(this.updateGeneratorInstance=this.updateGenerator());try{this.updateGeneratorInstance.next().done&&(this.updateGeneratorInstance=void 0)}catch{}}*updateGenerator(){let i=1,t=[];for(let o=0;o<Math.min(i,this.priorityQueue.size());o++){let a=this.priorityQueue.pop();if(!a)continue;let l=a.node;if(!(l.level>this.maxDepth))if(l.loaded){t.push(l),this.highestLevelServed=Math.max(l.level,this.highestLevelServed);var s=l.pcoGeometry,n=s?s.hierarchyStepSize:1,r=l.level===0||l.level%n===0&&l.hasChildren;r&&this.traverse(l)}else l.load(),this.priorityQueue.push(a)}if(t.length>0){for(let o of this.getPointsInsideProfile(t,this.temporaryResult))o||(yield!1);this.temporaryResult.size()>100&&(this.pointsServed+=this.temporaryResult.size(),this.onProgress({request:this,data:this.temporaryResult}),this.temporaryResult=new Ud(this.profile))}if(this.priorityQueue.size()===0){this.temporaryResult.size()>0&&(this.pointsServed+=this.temporaryResult.size(),this.onProgress({request:this,data:this.temporaryResult}),this.temporaryResult=new Ud(this.profile)),this.isFinished=!0,this.onFinish({request:this,data:this.temporaryResult});let o=this.profileRequests.indexOf(this);o>=0&&this.profileRequests.splice(o,1)}yield!0}*getAccepted(i,t,s,n,r,o,a){let l=performance.now(),h=new Uint32Array(i),c=new Float64Array(i),u=new Float32Array(i*3),p=0,d=new H,T=new H,g=new Float32Array(t.geometry.attributes.position.array);for(let I=0;I<i;I++){d.set(g[I*3+0],g[I*3+1],g[I*3+2]),d.applyMatrix4(s);let v=Math.abs(n.cutPlane.distanceToPoint(d)),C=Math.abs(n.halfPlane.distanceToPoint(d));if(v<this.profile.width/2&&C<n.length/2){T.subVectors(d,n.start);let N=r.dot(T);h[p]=I,c[p]=N+a,o.boundingBox.expandByPoint(d),u[3*p+0]=d.x,u[3*p+1]=d.y,u[3*p+2]=d.z,p++}I%1e3===0&&performance.now()-l>4&&(yield!1,l=performance.now())}h=h.subarray(0,p),c=c.subarray(0,p),u=u.subarray(0,p*3),yield[h,c,u]}*getPointsInsideProfile(i,t){let s=performance.now(),n=0;for(let r of t.segments){for(let o of i){let a=o.numPoints,l=o.geometry;if(!a)continue;{let v=o.boundingBox.clone().applyMatrix4(this.pointcloud.matrixWorld).getBoundingSphere(new In),C=new H(r.start.x,r.start.y,v.center.z),N=new H(r.end.x,r.end.y,v.center.z);if(!(new Sn(C,N).closestPointToPoint(v.center,!0,new H).distanceTo(v.center)<v.radius+t.profile.width))continue}let h=new H().subVectors(r.end,r.start).setZ(0).clone().normalize(),c=new Py,u=new pt().makeTranslation(...o.boundingBox.min.toArray()),p=new pt().multiplyMatrices(this.pointcloud.matrixWorld,u),d=null,T=null,g=null;for(let v of this.getAccepted(a,o,p,r,h,c,n))v?[d,T,g]=v:(yield!1,s=performance.now());performance.now()-s>4&&(yield!1,s=performance.now()),c.data.position=g;let I=Object.keys(l.attributes).filter(v=>!["position","indices"].includes(v));for(let v of I){if(!d)continue;let C=l.attributes[v],N=C.array.length/a,F=C.array.constructor,P=new F(N*d.length),w=C.array,O=P;for(let X=0;X<d.length;X++){let K=d[X]*N,ee=K+N,ce=w.subarray(K,ee);O.set(ce,X*N)}c.data[v]=P}c.data.mileage=T,c.numPoints=d?d.length:0,r.points.add(c)}n+=r.length}for(let r of t.segments)t.boundingBox.union(r.points.boundingBox);yield!0}requestCancel(){this.cancelRequested||(this.maxDepth=this.highestLevelServed,this.cancelRequested=!0,this.onCancel())}}var q4=(e=>(e.y="label-y-axis",e.x="label-x-axis",e))(q4||{});class n1{constructor(i){this.renderer=new DI,this.scene=new ur,this.targetLabelCount=6,this.minLabelDistance=1,this.referenceFrame=i,this.renderer.domElement.style.position="absolute",this.renderer.domElement.style.top="0px",this.renderer.domElement.style.pointerEvents="none",this.renderer.domElement.style.userSelect="none"}update({width:i,height:t,viewWidth:s,viewHeight:n,center:r,profilePoints:o}){if(o.length!==2)throw new Error("Invalid profile points");this.renderer.setSize(i,t),this.removeLabels();const a=(O,X)=>Math.round(O/X)*X,l=i/t,h=a(this.targetLabelCount*l,2),c=a(this.targetLabelCount,2);let u=a(s/h,1),p=a(n/c,1);u<this.minLabelDistance&&(u=this.minLabelDistance),p<this.minLabelDistance&&(p=this.minLabelDistance);const d=o[0],T=o[1],g=r.distanceTo(d);for(let O=-h/2+1;O<h/2;O++){const X=O*u,K=d.clone().sub(r).normalize().multiplyScalar(X),ee=r.clone().add(K);if(ee.distanceTo(r)>g)continue;const ce=this.createLabel({text:`${Math.round(Math.abs(X))}.0 m`,position:ee,transform:"rotate(-45deg)",marginLeft:"1.3em",marginTop:"-1.4em",className:"label-x-axis"});this.scene.add(ce)}const I=d.clone().sub(r).normalize(),v=new us().setFromNormalAndCoplanarPoint(I,r),C=new nt(v.normal.x,v.normal.y,v.normal.z,v.constant),N=new nt(d.x,d.y,d.z,1),F=C.dot(N);let P=d;F<0&&(P=T);const w=this.referenceFrame.toGeo(P);for(let O=-c/2+1;O<c/2;O++){const X=O*p,K=new H(0,0,1).multiplyScalar(X),ee=P.clone().add(K),ce=this.createLabel({text:`${(w.z+X).toFixed(3)} m`,position:ee,transform:"rotate(0deg)",marginLeft:"3em",marginTop:"-0.5em",className:"label-y-axis"});this.scene.add(ce)}}render(i){this.renderer.render(this.scene,i)}createLabel({text:i,position:t,transform:s,marginLeft:n,marginTop:r,className:o}){const a=document.createElement("div");a.textContent=i,a.style.fontFamily="Open Sans",a.style.color="#888888",a.style.fontSize="1em",a.style.transform=s,a.style.opacity="0.95",a.style.zIndex="100";const l=document.createElement("div");l.style.marginLeft=n,l.style.marginTop=r,l.className=o,l.appendChild(a);const h=new NI(l);return h.position.copy(t),h.layers.set(xn.LABELS),h}removeLabels(){for(;this.scene.children.length>0;){const i=this.scene.children[0];this.scene.remove(i)}}dispose(){this.removeLabels()}}class r1{constructor(i){this.points=[],this.measureTool=new Zh({picker:i.picker,referenceFrame:i.referenceFrame})}start(i){this.onUpdate=i.onUpdate,this.onFinish=i.onFinish,this.add()}add(){this.measureTool.start("point",{onFinish:i=>{this.points.push(i[0]),this.points.length===2?this.end():this.add()},onUpdate:i=>{if(this.onUpdate){if(this.points.length===0)return;this.points[0].z<i.z?this.onUpdate([this.points[0].z,i.z]):this.onUpdate([i.z,this.points[0].z])}}})}end(){this.onFinish&&(this.points[0].z>this.points[1].z&&this.points.reverse(),this.onFinish([this.points[0].z,this.points[1].z])),this.points=[],this.measureTool.clear(),this.onUpdate=void 0,this.onFinish=void 0}}var $4=Object.defineProperty,o1=Object.getOwnPropertySymbols,eU=Object.prototype.hasOwnProperty,tU=Object.prototype.propertyIsEnumerable,a1=(e,i,t)=>i in e?$4(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,iU=(e,i)=>{for(var t in i||(i={}))eU.call(i,t)&&a1(e,t,i[t]);if(o1)for(var t of o1(i))tU.call(i,t)&&a1(e,t,i[t]);return e},sU=(e,i,t)=>new Promise((s,n)=>{var r=l=>{try{a(t.next(l))}catch(h){n(h)}},o=l=>{try{a(t.throw(l))}catch(h){n(h)}},a=l=>l.done?s(l.value):Promise.resolve(l.value).then(r,o);a((t=t.apply(e,i)).next())});class l1{constructor(i){if(this.profileGrid=new OA(100,100,16777215,14540253),this.profileScene=new ur,this.pointCloudProfileRequests=[],this.maxPointCount=1e5,this.mouse=new ht,this.loadProgressCallback=i.loadProgressCallback,this.loadFinishCallback=i.loadFinishCallback,this.labels=new n1(i.referenceFrame),this.profileRenderer=new L0({alpha:!0,antialias:!0}),this.profileRenderer.setClearColor(16777215,0),this.profileRenderer.localClippingEnabled=!1,this.profileRenderer.clippingPlanes=[],this.profileRenderer.setSize(i.width,i.height),this.profileRenderer.domElement.id="pointscene-profile-view",this.profileRenderer.autoClear=!1,i.domEl.appendChild(this.profileRenderer.domElement),i.domEl.appendChild(this.labels.renderer.domElement),this.orthoCamera=new Bc(-1,1,1,-1,0,.5),this.orthoCamera.up.set(0,0,1),this.orthoCamera.layers.disableAll(),this.orthoCamera.layers.enable(xn.MEASUREMENTS),this.orthoCamera.layers.enable(xn.PROFILE),this.orthoCamera.layers.enable(xn.LABELS),this.measureToolRef=i.measureTool,this.measureToolRef){const a=new Pb({modules:this.measureToolRef.picker.modules,mouse:this.mouse,domEl:i.domEl,camera:this.orthoCamera,scenePickable:this.profileScene,scenePointcloud:this.measureToolRef.picker.scenePointcloud,sceneStatic:this.measureToolRef.picker.sceneStatic});this.measureTool=new Zh({picker:a,referenceFrame:this.measureToolRef.referenceFrame}),this.measureTool.orientMarkersTowardsCamera=!1,this.measureTool.showSlope=this.measureToolRef.showSlope,this.measureToolRef.showSlopeCallback=l=>{if(!this.measureTool)return;this.measureTool.showSlope=l;const h=this.measureTool.hideLabels;this.measureTool.hideLabels=!1,this.render(),this.measureTool.hideLabels=h}}const t=new Yt,s=new Gt(new Float32Array(3e5),3,!1);s.setUsage(bT),t.setAttribute("position",s),t.setDrawRange(0,0),this.profileLines=new v0(t,new yd({color:11085})),this.profileLines.layers.set(xn.PROFILE);const n=new Yt,r=new Gt(new Float32Array(3e5),3,!1);n.setDrawRange(0,0),r.setUsage(bT),n.setAttribute("position",r),this.profilePoints=new E0(n,new Ng({color:7829367,size:3,side:ds,sizeAttenuation:!1,fog:!1})),this.profilePoints.layers.set(xn.PROFILE),this.profileGrid.layers.set(xn.PROFILE),this.profileScene.add(this.profilePoints),this.profileScene.add(this.profileLines),this.profileScene.add(this.profileGrid),this.handlePointerMove=this.handlePointerMove.bind(this),this.handlePointerDown=this.handlePointerDown.bind(this),this.handlePointerEnter=this.handlePointerEnter.bind(this),this.handlePointerLeave=this.handlePointerLeave.bind(this);const o=this.profileRenderer.domElement;o.addEventListener("pointermove",this.handlePointerMove),o.addEventListener("pointerdown",this.handlePointerDown),o.addEventListener("pointerenter",this.handlePointerEnter),o.addEventListener("pointerleave",this.handlePointerLeave)}clearMeasurements(){var i;(i=this.measureTool)==null||i.clear()}handlePointerMove(i){if(!this.measureTool)return;const t=this.profileRenderer.domElement.getBoundingClientRect();this.mouse.x=i.clientX-t.left,this.mouse.y=i.clientY-t.top,this.measureTool.handleMouseMove(),this.render()}handlePointerDown(i){!this.measureTool||(this.measureTool.handleLeftClick(),this.render())}handlePointerEnter(i){!this.measureToolRef||!this.measureTool||(this.measureToolRef.hideLabels=!0,this.measureTool.hideLabels=!1,!!this.measureToolRef.isWaitingToPickFirstPoint()&&(this.measureToolRef.activeType==="point"||this.measureToolRef.activeType==="distance")&&(this.measureTool.start(this.measureToolRef.activeType,{onFinish:this.measureToolRef.onFinish,onUpdate:this.measureToolRef.onUpdate}),this.measureTool.pickingPlane=this.clipPlane,this.measureToolRef.cancel()))}handlePointerLeave(i){!this.measureTool||!this.measureToolRef||(this.measureToolRef.hideLabels=!1,this.measureTool.hideLabels=!0,!!this.measureTool.isWaitingToPickFirstPoint()&&(this.measureToolRef.start(this.measureTool.activeType,{onFinish:this.measureToolRef.onFinish,onUpdate:this.measureToolRef.onUpdate}),this.measureToolRef.hideLabels=!1,this.measureTool.cancel(),this.render()))}updatePointCloudProfileData(i){const t=i.segments[0].points.data.position;if(!t)return;const s=t.length/3,n=this.profilePoints.geometry.attributes.position,r=n.array,{count:o}=this.profilePoints.geometry.drawRange,a=o+s;if(a>this.maxPointCount){this.loadProgressCallback&&this.loadProgressCallback(`Max points reached ${this.maxPointCount}`);return}for(let l=0;l<s-1;l++){const h=l*3,c=l*3+o*3,u=t[h+0],p=t[h+1],d=t[h+2];r[c+0]=u,r[c+1]=p,r[c+2]=d}this.profilePoints.geometry.setDrawRange(0,a),n.needsUpdate=!0,this.profilePoints.geometry.computeBoundingBox(),this.profilePoints.geometry.computeBoundingSphere(),this.loadProgressCallback&&this.loadProgressCallback(`Loading points... ${a}`),this.render()}updatePointCloudProfileRequests({scenePointcloud:i,depth:t,profilePoints:s}){if(i.children.length<1)return;this.pointCloudProfileRequests.length>0&&(this.pointCloudProfileRequests.forEach(h=>h.requestCancel()),this.pointCloudProfileRequests=[],this.profilePoints.geometry.setDrawRange(0,0));const n=({data:h})=>{this.pointCloudProfileRequests.length!==0&&this.updatePointCloudProfileData(h)},r=()=>{this.pointCloudProfileRequests.filter(h=>h.isFinished).length===this.pointCloudProfileRequests.length&&this.loadFinishCallback&&(this.loadFinishCallback(),this.pointCloudProfileRequests=[])},o=()=>{},a=i.children;for(const h of a){if(h.children.length<1)continue;const c=h.children[0];if(!c.visible)continue;const u=new s1({pointcloud:c,onProgress:n,onFinish:r,onCancel:o,profile:{points:s,width:t}});this.pointCloudProfileRequests.push(u)}if(this.pointCloudProfileRequests.length===0)return;this.loadProgressCallback&&this.loadProgressCallback("Loading points... 0");const l=()=>sU(this,null,function*(){setTimeout(()=>{if(this.pointCloudProfileRequests.length!==0){for(const h of this.pointCloudProfileRequests)h.update();l()}},5)});l()}update(i){const t=i.clipPlane;this.clipPlane=t;const s=t.normal,n=i.center,r=i.profilePoints;if(r.length!==2)throw new Error("Invalid profile points");this.profileCaps=r,i.scenePointcloud&&this.updatePointCloudProfileRequests({scenePointcloud:i.scenePointcloud,profilePoints:i.profilePoints,depth:i.depth}),this.profileRenderer.setSize(i.width>=0?i.width:0,i.height>=0?i.height:0);const o=r[0].distanceTo(r[1]),a=i.depth/2,l=10,h=l-a,c=l+a,u=new H().addVectors(n,s.clone().multiplyScalar(l)),p=new H().addVectors(n,s.clone().negate().multiplyScalar(l));this.orthoCamera.position.copy(p),this.orthoCamera.lookAt(u),this.profileGrid.position.copy(n.clone().add(s.clone().multiplyScalar(.001))),this.profileGrid.lookAt(p.clone()),this.profileGrid.rotateX(Math.PI/2);const d=i.zoom*(o/2),T=d*(i.height/i.width);this.orthoCamera.left=-d,this.orthoCamera.top=T,this.orthoCamera.right=d,this.orthoCamera.bottom=-T,this.orthoCamera.near=h,this.orthoCamera.far=c,this.orthoCamera.updateMatrix(),this.orthoCamera.updateMatrixWorld(),this.orthoCamera.updateProjectionMatrix();const g=new us().setFromNormalAndCoplanarPoint(s.clone().negate(),n.clone().add(s.clone().multiplyScalar(a))),I=new us().setFromNormalAndCoplanarPoint(s.clone(),n.clone().add(s.clone().negate().multiplyScalar(a)));this.profileRenderer.clippingPlanes=[g,I],this.profileRenderer.localClippingEnabled=!1,this.extractLines({scene:i.scene,clipPlane:t}),this.labels.update({width:i.width,height:i.height,viewWidth:d*2,viewHeight:T*2,profilePoints:r,center:n})}extractLinesFromMesh(i,t,s){const n=s.geometry.attributes.position,r=new Sn,o=new H,a=new H,l=new H,h=new H;let c=s.geometry.drawRange.count;const u=i.matrixWorld.clone(),p=u.clone().invert(),d=t.clone().applyMatrix4(p);i.geometry.boundsTree.shapecast({intersectsBounds:T=>d.intersectsBox(T),intersectsTriangle:T=>{let g=0;r.start.copy(T.a),r.end.copy(T.b),d.intersectLine(r,o)&&(o.applyMatrix4(u),n.setXYZ(c,o.x,o.y,o.z),c++,g++),r.start.copy(T.b),r.end.copy(T.c),d.intersectLine(r,o)&&(o.applyMatrix4(u),n.setXYZ(c,o.x,o.y,o.z),c++,g++),r.start.copy(T.c),r.end.copy(T.a),d.intersectLine(r,o)&&(o.applyMatrix4(u),n.setXYZ(c,o.x,o.y,o.z),c++,g++),g===3&&(a.fromBufferAttribute(n,c-3),l.fromBufferAttribute(n,c-2),h.fromBufferAttribute(n,c-1),h.equals(a)||h.equals(l)?(g--,c--):a.equals(l)&&(n.setXYZ(c-2,h.x,h.y,h.z),g--,c--)),g!==2&&(c-=g)}}),s.geometry.setDrawRange(0,c),n.needsUpdate=!0}extractLinesFromScene(i,t,s){for(const n of i.children)n instanceof Vs&&this.extractLinesFromScene(n,t,s),n instanceof fi&&n.geometry.boundsTree&&n.visible&&this.extractLinesFromMesh(n,t,s)}indexLines(){if(!this.profileCaps||this.profileCaps.length===0)throw new Error("Profile cap undefined");const i=this.profileLines.geometry.drawRange.count,t=this.profileLines.geometry.attributes.position,s=this.profileCaps[0],n=(d,T,g)=>`${Math.round((d+Number.EPSILON)*1e5)/1e5}-${Math.round((T+Number.EPSILON)*1e5)/1e5}-${Math.round((g+Number.EPSILON)*1e5)/1e5}`,r=(d,T)=>{const g=T.clone().sub(d),I=new H;return new us().setFromNormalAndCoplanarPoint(new H(0,0,1),new H).projectPoint(g,I),d.z<T.z?g.angleTo(I):-g.angleTo(I)},o={},a={},l=[];for(let d=0;d<i;d+=2){let T=o,g=a;const I=t.getX(d+0),v=t.getY(d+0),C=t.getZ(d+0),N=t.getX(d+1),F=t.getY(d+1),P=t.getZ(d+1),w=new H(I,v,C),O=new H(N,F,P),X=s.clone().setZ(0).distanceTo(w.clone().setZ(0)),K=s.clone().setZ(0).distanceTo(O.clone().setZ(0)),ee=s.z-w.z,ce=s.z-O.z,me=Math.round((r(w,O)+Number.EPSILON)*1e4)/1e4,ae=`${n(I,v,C)}-${me}`,oe=`${n(N,F,P)}-${me}`;X>K&&(T=a,g=o),T[ae]&&console.log("duplicate keyA",ae,Object.assign(T[ae])),g[ae]&&console.log("duplicate keyB",ae,Object.assign(g[ae])),T[ae]={position:w,distanceXy:X,distanceZ:ee,touched:!1,key:ae,angle:me},g[ae]={position:O,distanceXy:K,distanceZ:ce,touched:!1,key:oe,angle:me},l.push(iU({},T[ae]))}l.sort((d,T)=>d.angle>T.angle?1:d.angle<T.angle?-1:d.distanceXy>T.distanceXy?1:d.distanceXy<T.distanceXy?-1:d.distanceZ>T.distanceZ?1:d.distanceZ<T.distanceZ?-1:0);let h=Number.MAX_VALUE,c,u,p=0;for(const d of l)console.log("angle",d.angle,h),h!==d.angle&&p>0&&(u=d.key,p=0,console.log("end segment",u)),p===0&&(c=d.key,console.log("start segment",c)),p++,h=d.angle}extractLines(i){const t=i.scene,s=i.clipPlane;this.profileLines.geometry.setDrawRange(0,0),this.extractLinesFromScene(t,s,this.profileLines)}render(){this.profileRenderer.clear(),this.profileRenderer.render(this.profileScene,this.orthoCamera),this.labels.render(this.orthoCamera),this.measureTool&&(this.measureTool.update(.05),this.profileRenderer.render(this.measureTool.picker.sceneStatic,this.orthoCamera))}getGeometry(){const i=[],t=[],s=[],n=this.profilePoints.geometry.drawRange.count,r=this.profileLines.geometry.drawRange.count,o=this.profilePoints.geometry.attributes.position,a=this.profileLines.geometry.attributes.position;for(let l=0;l<n;l++){const h=new H(o.getX(l),o.getY(l),o.getZ(l));this.measureTool&&i.push(this.measureTool.referenceFrame.toGeo(h))}for(let l=0;l<r;l+=2){const h=new H(a.getX(l+0),a.getY(l+0),a.getZ(l+0)),c=new H(a.getX(l+1),a.getY(l+1),a.getZ(l+1));this.measureTool&&t.push([this.measureTool.referenceFrame.toGeo(h),this.measureTool.referenceFrame.toGeo(c)])}return{points:i,lines:t,polygons:s}}dispose(){this.profileLines.geometry.dispose(),this.profileLines.material.dispose(),this.profileGrid.geometry.dispose(),this.profileGrid.material.dispose(),this.labels.dispose();const i=this.profileRenderer.domElement;i.removeEventListener("pointermove",this.handlePointerMove),i.removeEventListener("pointerdown",this.handlePointerDown),i.removeEventListener("pointerenter",this.handlePointerEnter),i.removeEventListener("pointerleave",this.handlePointerLeave),this.measureTool&&this.measureToolRef&&(this.measureToolRef.populateMarkersFromScene(this.measureTool.picker.sceneStatic),this.measureToolRef.hideLabels=!1,this.measureToolRef.showSlopeCallback=void 0)}}var nU="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='48' width='48' fill='%23365379'%3e%3cpath d='M8 28.5v-3h32v3Zm0-6v-3h32v3Z'/%3e%3c/svg%3e",rU="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='48' width='48' fill='%23365379'%3e%3cpath d='m24 31.3 7.3-7.3-7.3-7.3-2.1 2.1 3.7 3.7h-9.1v3h9.1l-3.7 3.7ZM24 44q-4.1 0-7.75-1.575-3.65-1.575-6.375-4.3-2.725-2.725-4.3-6.375Q4 28.1 4 24q0-4.15 1.575-7.8 1.575-3.65 4.3-6.35 2.725-2.7 6.375-4.275Q19.9 4 24 4q4.15 0 7.8 1.575 3.65 1.575 6.35 4.275 2.7 2.7 4.275 6.35Q44 19.85 44 24q0 4.1-1.575 7.75-1.575 3.65-4.275 6.375t-6.35 4.3Q28.15 44 24 44Zm0-3q7.1 0 12.05-4.975Q41 31.05 41 24q0-7.1-4.95-12.05Q31.1 7 24 7q-7.05 0-12.025 4.95Q7 16.9 7 24q0 7.05 4.975 12.025Q16.95 41 24 41Zm0-17Z'/%3e%3c/svg%3e",oU="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='48' width='48' fill='%23365379'%3e%3cpath d='m24 31.3 2.1-2.1-3.7-3.7h9.1v-3h-9.1l3.7-3.7-2.1-2.1-7.3 7.3ZM24 44q-4.1 0-7.75-1.575-3.65-1.575-6.375-4.3-2.725-2.725-4.3-6.375Q4 28.1 4 24q0-4.15 1.575-7.8 1.575-3.65 4.3-6.35 2.725-2.7 6.375-4.275Q19.9 4 24 4q4.15 0 7.8 1.575 3.65 1.575 6.35 4.275 2.7 2.7 4.275 6.35Q44 19.85 44 24q0 4.1-1.575 7.75-1.575 3.65-4.275 6.375t-6.35 4.3Q28.15 44 24 44Zm0-3q7.1 0 12.05-4.975Q41 31.05 41 24q0-7.1-4.95-12.05Q31.1 7 24 7q-7.05 0-12.025 4.95Q7 16.9 7 24q0 7.05 4.975 12.025Q16.95 41 24 41Zm0-17Z'/%3e%3c/svg%3e",aU="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='48' width='48' fill='%23365379'%3e%3cpath d='M22.65 34h3v-8.3H34v-3h-8.35V14h-3v8.7H14v3h8.65ZM24 44q-4.1 0-7.75-1.575-3.65-1.575-6.375-4.3-2.725-2.725-4.3-6.375Q4 28.1 4 23.95q0-4.1 1.575-7.75 1.575-3.65 4.3-6.35 2.725-2.7 6.375-4.275Q19.9 4 24.05 4q4.1 0 7.75 1.575 3.65 1.575 6.35 4.275 2.7 2.7 4.275 6.35Q44 19.85 44 24q0 4.1-1.575 7.75-1.575 3.65-4.275 6.375t-6.35 4.3Q28.15 44 24 44Zm.05-3q7.05 0 12-4.975T41 23.95q0-7.05-4.95-12T24 7q-7.05 0-12.025 4.95Q7 16.9 7 24q0 7.05 4.975 12.025Q16.95 41 24.05 41ZM24 24Z'/%3e%3c/svg%3e",lU="data:image/svg+xml,%3csvg width='48' height='48' xmlns='http://www.w3.org/2000/svg' fill='%23365379'%3e %3cg%3e %3ctitle%3eLayer 1%3c/title%3e %3cpath id='svg_1' d='m25.65%2c25.7l8.35%2c0l0%2c-3l-8.35%2c0l-3%2c0l-8.65%2c0l0%2c3l8.65%2c0l3%2c0zm-1.65%2c18.3q-4.1%2c0 -7.75%2c-1.575q-3.65%2c-1.575 -6.375%2c-4.3q-2.725%2c-2.725 -4.3%2c-6.375q-1.575%2c-3.65 -1.575%2c-7.8q0%2c-4.1 1.575%2c-7.75q1.575%2c-3.65 4.3%2c-6.35q2.725%2c-2.7 6.375%2c-4.275q3.65%2c-1.575 7.8%2c-1.575q4.1%2c0 7.75%2c1.575q3.65%2c1.575 6.35%2c4.275q2.7%2c2.7 4.275%2c6.35q1.575%2c3.65 1.575%2c7.8q0%2c4.1 -1.575%2c7.75q-1.575%2c3.65 -4.275%2c6.375t-6.35%2c4.3q-3.65%2c1.575 -7.8%2c1.575zm0.05%2c-3q7.05%2c0 12%2c-4.975t4.95%2c-12.075q0%2c-7.05 -4.95%2c-12t-12.05%2c-4.95q-7.05%2c0 -12.025%2c4.95q-4.975%2c4.95 -4.975%2c12.05q0%2c7.05 4.975%2c12.025q4.975%2c4.975 12.075%2c4.975z'/%3e %3c/g%3e%3c/svg%3e",hU="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='48' width='48' fill='%23365379'%3e%3cpath d='M14 34h20v-3H14Zm9.85-6.3 7.9-7.85-2.1-2.1-4.25 4.2V12h-3v9.95l-4.25-4.2-2.1 2.1ZM24 44q-4.1 0-7.75-1.575-3.65-1.575-6.375-4.3-2.725-2.725-4.3-6.375Q4 28.1 4 24q0-4.15 1.575-7.8 1.575-3.65 4.3-6.35 2.725-2.7 6.375-4.275Q19.9 4 24 4q4.15 0 7.8 1.575 3.65 1.575 6.35 4.275 2.7 2.7 4.275 6.35Q44 19.85 44 24q0 4.1-1.575 7.75-1.575 3.65-4.275 6.375t-6.35 4.3Q28.15 44 24 44Zm0-3q7.1 0 12.05-4.975Q41 31.05 41 24q0-7.1-4.95-12.05Q31.1 7 24 7q-7.05 0-12.025 4.95Q7 16.9 7 24q0 7.05 4.975 12.025Q16.95 41 24 41Zm0-17Z'/%3e%3c/svg%3e",cU=(e=>(e.SLIDER="pointscene-slider-slider",e.CLOSE_BUTTON="pointscene-slider-close-button",e.DRAG_BUTTON="pointscene-slider-drag-button",e.CONTAINER="pointscene-slider-container",e.COMING_SOON="pointscene-slider-coming-soon",e.STYLE="pointscene-split-view-style",e.LOAD_INDICATOR="pointscene-split-view-loading",e.ZOOM_IN="pointscene-split-view-zoom-in",e.ZOOM_OUT="pointscene-split-view-zoom-out",e.STEP_FORWARD="pointscene-split-view-step-forward",e.STEP_BACK="pointscene-split-view-step-back",e.STEP_DROPDOWN="pointscene-split-view-step-dropdown",e.STEP_DROPDOWN_SELECT="pointscene-split-view-step-dropdown-select",e.EXPORT_DXF="pointscene-split-view-export-dxf",e))(cU||{});class h1{constructor(i){if(this.isDisposed=!1,this.sliderHeight=6,this.buttonSize=32,this.events=new as,this.backgroundColor="#ccc",this.sliderColor="#fff",this.domEl=i.domEl,this.splitRatio=i.splitRatio,this.totalHeight=this.domEl.getBoundingClientRect().height,this.splitPosition=Math.floor(this.totalHeight*this.splitRatio),this.domEl.querySelector("#pointscene-slider-container"))throw new Error("Split view slider already exists");if(this.container=document.createElement("div"),this.container.style.position="relative",this.container.style.left="0px",this.container.style.bottom="0px",this.container.style.backgroundColor=this.backgroundColor,this.container.style.height=`${this.splitPosition}px`,this.container.style.width=`${this.domEl.clientWidth}px`,!this.domEl.parentElement)throw new Error("Provided domEl has no parent");this.domEl.parentElement.appendChild(this.container),this.createSlider(),this.createCloseButton(),this.update(),this.handleResize=this.handleResize.bind(this),window.addEventListener("resize",this.handleResize)}setUpdateCallback(i){this.updateCallback=i}setCloseCallback(i){this.closeCallback=i}createProfileToolPanel(i){let t=62;const s=42;this.createButton({id:"pointscene-split-view-zoom-in",width:this.buttonSize,height:this.buttonSize,iconSrc:aU,domEl:this.container,top:`${-Math.floor(this.buttonSize/2)+2}px`,left:`${t}px`,onPointerDown:()=>i("zoom_in")}),t+=s,this.createButton({id:"pointscene-split-view-zoom-out",width:this.buttonSize,height:this.buttonSize,iconSrc:lU,domEl:this.container,top:`${-Math.floor(this.buttonSize/2)+2}px`,left:`${t}px`,onPointerDown:()=>i("zoom_out")}),t+=s,this.createButton({id:"pointscene-split-view-step-back",width:this.buttonSize,height:this.buttonSize,iconSrc:oU,domEl:this.container,top:`${-Math.floor(this.buttonSize/2)+2}px`,left:`${t}px`,onPointerDown:()=>i("step_back")}),t+=s,this.createButton({id:"pointscene-split-view-step-forward",width:this.buttonSize,height:this.buttonSize,iconSrc:rU,domEl:this.container,top:`${-Math.floor(this.buttonSize/2)+2}px`,left:`${t}px`,onPointerDown:()=>i("step_forward")}),t+=s,this.createButton({id:"pointscene-split-view-export-dxf",width:this.buttonSize,height:this.buttonSize,iconSrc:hU,domEl:this.container,top:`${-Math.floor(this.buttonSize/2)+2}px`,left:`${t}px`,onPointerDown:()=>i("export_dxf")});const n=document.createElement("div");n.id="pointscene-split-view-step-dropdown",n.style.left="15px",n.style.top="30px",n.style.position="absolute",n.style.height="32px",n.style.width="125px",this.container.appendChild(n);const r=document.createElement("label");r.style.color="#365379",r.style.fontFamily="Open Sans",r.style.marginRight="6px",r.setAttribute("for","pointscene-split-view-step-dropdown-select"),r.innerHTML="Step:",n.appendChild(r);const o=document.createElement("select");o.id="pointscene-split-view-step-dropdown-select",o.style.borderRadius="10px",o.style.borderWidth="0px",o.style.color="#365379",o.style.width="65%",o.style.padding="4px",o.style.fontFamily="Open Sans",o.appendChild(new Option("0.1 m","0.1",!1,!1)),o.appendChild(new Option("0.5 m","0.5",!1,!1)),o.appendChild(new Option("1.0 m","1.0",!0,!0)),o.appendChild(new Option("10.0 m","10.0",!1,!1)),o.appendChild(new Option("20.0 m","20.0",!1,!1)),o.addEventListener("change",a=>{if(!a.target)return;const l=parseFloat(a.target.value);i("step_change",{value:l})}),o.addEventListener("pointerenter",a=>{!a.target||(a.target.style.cursor="pointer")}),o.addEventListener("pointerenter",a=>{!a.target||(a.target.style.pointer="auto")}),n.appendChild(o)}handleResize(){this.update(!1)}update(i=!0){if(this.isDisposed)return;this.container.style.height=`${this.splitPosition}px`,this.container.style.width=`${this.domEl.clientWidth}px`;const t=this.container.querySelector("#pointscene-slider-slider");if(!t)throw new Error("Failed to get slider");t.style.width=`${this.domEl.clientWidth}px`;const s=this.container.querySelector("#pointscene-slider-drag-button");if(!s)throw new Error("Failed to get button");s.style.left=`${Math.floor(this.domEl.clientWidth/2-this.buttonSize/2)}px`;const n=this.totalHeight-this.splitPosition;this.domEl.style.height=`${n}px`,this.updateCallback&&this.updateCallback({up:{width:this.domEl.clientWidth,height:n},down:{width:this.domEl.clientWidth,height:this.splitPosition},allowPropagation:i})}createSlider(){const i=document.createElement("div");i.id="pointscene-slider-slider",i.style.position="absolute",i.style.left="0px",i.style.zIndex="101",i.style.backgroundColor=this.sliderColor,i.style.opacity="1.0",i.style.height=`${this.sliderHeight}px`,this.container.appendChild(i);const t=document.createElement("div");t.id="pointscene-slider-drag-button",t.style.position="absolute",t.style.width=`${this.buttonSize}px`,t.style.height=`${this.buttonSize}px`,t.style.borderRadius=`${this.buttonSize/2}px`,t.style.zIndex="102",t.style.backgroundColor=this.sliderColor,t.style.opacity="1.0",t.style.top=`${-this.buttonSize/2+2}px`;let s=!1,n=0,r=0;const o=()=>{s||document.body.style.removeProperty("cursor")},a=()=>{s||(document.body.style.cursor="grab")},l=()=>{!s||(s=!1,document.body.style.removeProperty("cursor"),this.events.dispatch(Ye.EnableControls,{},this.domEl))},h=T=>{!T.isPrimary||s||(s=!0,n=T.clientY,r=this.container.getBoundingClientRect().height,this.events.dispatch(Ye.DisableControls,{},this.domEl))},c=T=>{if(!s)return;const g=T.clientY-n;this.splitPosition=r-g,this.update()},u=T=>{!s||(this.container.style.userSelect="none",this.container.style.pointerEvents="none",this.domEl.style.userSelect="none",this.domEl.style.pointerEvents="none",c(T))},p=T=>{!s||(this.container.style.removeProperty("user-select"),this.container.style.removeProperty("pointer-events"),this.domEl.style.removeProperty("user-select"),this.domEl.style.removeProperty("pointer-events"),l(),s=!1)};document.addEventListener("pointermove",u),document.addEventListener("pointerup",p),t.addEventListener("pointermove",c),t.addEventListener("pointerenter",a),t.addEventListener("pointerleave",o),t.addEventListener("pointerdown",h),t.addEventListener("pointerup",l);const d=document.createElement("img");d.src=nU,d.style.width=`${this.buttonSize}px`,d.style.height=`${this.buttonSize}px`,d.addEventListener("pointerdown",T=>T.preventDefault()),t.appendChild(d),this.container.appendChild(t)}createButton({id:i,width:t,height:s,iconSrc:n,onPointerDown:r,domEl:o,top:a,left:l}){const h=document.createElement("div");h.id=i,h.style.position="absolute",h.style.width=`${t}px`,h.style.height=`${s}px`,h.style.borderRadius=`${t/2}px`,h.style.zIndex="101",h.style.backgroundColor=this.sliderColor,h.style.opacity="1.0",h.style.top=a,h.style.left=l;const c=document.createElement("img");c.src=n,c.style.width=`${this.buttonSize}px`,c.style.height=`${this.buttonSize}px`,c.addEventListener("pointerdown",d=>{d.preventDefault(),r()});const u=()=>{h.addEventListener("pointerenter",p),h.removeEventListener("pointerleave",p),h.style.cursor="auto"},p=()=>{h.addEventListener("pointerleave",u),h.removeEventListener("pointerenter",p),h.style.cursor="pointer"};h.addEventListener("pointerenter",p),h.appendChild(c),o.appendChild(h)}createCloseButton(){this.createButton({id:"pointscene-slider-close-button",width:this.buttonSize,height:this.buttonSize,domEl:this.container,iconSrc:Fy,top:`${-Math.floor(this.buttonSize/2)+2}px`,left:"15px",onPointerDown:()=>this.dispose()})}updateLoadIndicator(i){let t=document.querySelector("#pointscene-split-view-loading");t||(t=this.createLoadIndicator()),t.innerHTML=i,t.style.visibility="visible",t.style.opacity="1"}hideLoadIndicator(){const i=document.querySelector("#pointscene-split-view-loading");!i||(i.style.visibility="hidden",i.style.opacity="0")}createLoadIndicator(){const i=document.createElement("div");return i.id="pointscene-split-view-loading",i.style.position="absolute",i.style.left="10px",i.style.bottom="20px",i.style.zIndex="101",i.style.color="#f26812",i.style.fontSize="16px",i.style.fontWeight="bold",i.style.fontFamily="Open Sans",i.style.opacity="1.0",i.style.pointerEvents="none",i.style.userSelect="none",i.style.visibility="hidden",i.style.transition="opacity .3s",i.style.opacity="0",this.container.appendChild(i),i}dispose(){var i;this.isDisposed||(this.isDisposed=!0,(i=this.domEl.parentElement)==null||i.removeChild(this.container),this.domEl.style.height=`${this.totalHeight}px`,this.closeCallback&&this.closeCallback({width:this.domEl.clientWidth,height:this.totalHeight}),window.removeEventListener("resize",this.handleResize))}}var uU=Object.defineProperty,pU=Object.defineProperties,dU=Object.getOwnPropertyDescriptors,c1=Object.getOwnPropertySymbols,mU=Object.prototype.hasOwnProperty,yU=Object.prototype.propertyIsEnumerable,u1=(e,i,t)=>i in e?uU(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,p1=(e,i)=>{for(var t in i||(i={}))mU.call(i,t)&&u1(e,t,i[t]);if(c1)for(var t of c1(i))yU.call(i,t)&&u1(e,t,i[t]);return e},fU=(e,i)=>pU(e,dU(i)),TU=(e=>(e.FREE="free",e.CROSS_ON_LINE="cross_on_line",e))(TU||{});class d1{constructor(i){this.minCrossSectionWidth=20,this.clipPlane=new us,this.pickPlane=new us,this.axis=new H(0,0,1),this.meshVisible=!1,this.needsUpdate=!1,this.events=new as,this.isDragging=!1,this.mode="free",this.stepSize=1,this.zoomMultiplier=1.1,this.clipTool=new Zh({picker:i.picker,referenceFrame:i.referenceFrame,hideLabels:!0}),this.measureTool=i.measureTool,this.renderer=i.renderer,this.model=new Vs;const t=[];t.push(-.5,-.5,0),t.push(-.5,.5,0),t.push(.5,.5,0),t.push(.5,-.5,0),t.push(-.5,-.5,0);const s=new Iu;s.setPositions(t);const n=new OI({color:15886354,linewidth:3,worldUnits:!1,resolution:new ht(Qs.screenWidth,Qs.screenHeight),clipping:!1}),r=new Lu(s,n);r.computeLineDistances(),this.model.add(r);const o=new jc(1,1,1,1),a=new Uc({color:15886354,side:ds,transparent:!0,opacity:.05});this.model.add(new fi(o,a)),this.handleSliderDragStart=this.handleSliderDragStart.bind(this),this.handleSliderDragEnd=this.handleSliderDragEnd.bind(this),this.handleSliderHoverIn=this.handleSliderHoverIn.bind(this),this.handleSliderHoverOut=this.handleSliderHoverOut.bind(this),this.handleVisibilityUpdate=this.handleVisibilityUpdate.bind(this),this.clipTool.picker.domEl.addEventListener(Ye.LayerVisibilityChanged,this.handleVisibilityUpdate),this.slider=this.getSlider(),this.events.dispatch(Ye.RegisterUpdateHook,{fn:this.update.bind(this)},this.clipTool.picker.domEl)}profileViewIsVisible(){return!!this.profileView}isActive(){return this.clipTool.activeType!=="none"}update(){!this.needsUpdate||this.clipTool.points.length!==2||(this.updatePlane(),this.isDragging&&this.translatePlane())}start(i){this.mode="free",this.onUpdate=i.onUpdate,this.onFinish=i.onFinish,this.needsUpdate=!0,this.add()}flipNormal(i,t,s){return t=t||new H(0,0,0),s=s||new H(0,0,Number.MAX_VALUE),new H(s.x-t.x,s.y-t.y,s.z-t.z).clone().dot(i)<0&&i.multiplyScalar(-1),i}getNonClipMaterial(){const i={vertexShader:`
        attribute vec3 center;
        varying vec3 vCenter;

        void main() {
          vCenter = center;
          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
        }
      `,fragmentShader:`
        varying vec3 vCenter;
        uniform float thickness;
        uniform float opacity;
        uniform vec3 color;

        void main() {
          vec3 afwidth = fwidth(vCenter.xyz);
          vec3 edge3 = smoothstep((thickness - 1.0) * afwidth, thickness * afwidth, vCenter.xyz);

          float edge = 1.0 - min(min(edge3.x, edge3.y), edge3.z);
  
          gl_FragColor.rgb = color;
          gl_FragColor.a = edge > opacity ? edge : opacity;
        }
      `,uniforms:{opacity:{type:"f",value:.4},color:new ll(new ge(16777215)),thickness:{type:"f",value:1.5}}};return new fs(p1({side:ds,transparent:!0,depthWrite:!1,depthTest:!1,clipping:!1},i))}getSlider(){const i=l=>{const h=[new H(1,0,0),new H(0,1,0),new H(0,0,1)],c=l.attributes.position,u=new Float32Array(c.count*3);for(let p=0,d=c.count;p<d;p++)h[p%3].toArray(u,p*3);l.setAttribute("center",new Gt(u,3))},t=new Float32Array([0,0,.25,0,-.25,0,0,.25,0]),s=new Yt;s.setAttribute("position",new Gt(t,3)),i(s),s.computeBoundingBox(),s.computeBoundingSphere(),s.computeVertexNormals();const n=this.getNonClipMaterial(),r=new fi(s,n);r.position.z=.5;const o=new fi(s,n);o.position.z=-.5,o.rotateY(Math.PI);const a=new Vs;return a.add(r),a.add(o),a.userData.isInteractive=!0,a.userData.isPickable=!0,r.userData.isInteractive=!0,r.userData.isPickable=!0,r.userData.side="forward",o.userData.isInteractive=!0,o.userData.isPickable=!0,o.userData.side="back",r.addEventListener("hover_in",this.handleSliderHoverIn),r.addEventListener("hover_out",this.handleSliderHoverOut),r.addEventListener("drag_start",this.handleSliderDragStart),r.addEventListener("drag_end",this.handleSliderDragEnd),o.addEventListener("hover_in",this.handleSliderHoverIn),o.addEventListener("hover_out",this.handleSliderHoverOut),o.addEventListener("drag_start",this.handleSliderDragStart),o.addEventListener("drag_end",this.handleSliderDragEnd),a}handleVisibilityUpdate(){this.updateProfileView(!0)}handleSliderHoverIn(i){i.target.material.uniforms.opacity.value=.8,i.target.material.uniforms.thickness.value=2.5,i.target.material.uniforms.color.value=new ge(15886354),i.target.userData.hoverActive=!0,this.clipTool.picker.domEl.style.cursor="grab"}handleSliderHoverOut(i){i.target.material.uniforms.opacity.value=.2,i.target.material.uniforms.thickness.value=1.5,i.target.material.uniforms.color.value=new ge(16777215),i.target.userData.hoverActive=!1,this.clipTool.picker.domEl.style.cursor="auto"}handleSliderDragStart(){const i=this.clipTool.picker.domEl;this.events.dispatch(Ye.DisableControls,{},i),this.isDragging=!0}handleSliderDragEnd(){const i=this.clipTool.picker.domEl;this.events.dispatch(Ye.EnableControls,{},i),this.isDragging=!1,this.dragStartOffset=void 0,this.updateProfileView(!0)}findNextStepOnLine(i,t,s){const{pointOnLine:n,faceIndex:r,start:o,end:a}=this.findNearestSegmentOnLine(i,t),l=i.geometry.attributes.instanceDistanceStart.count,h=i.geometry.attributes.instanceDistanceStart,c=i.geometry.attributes.instanceDistanceEnd,u=h.getX(r),p=(O,X)=>Math.round(O/X)*X,d=o.distanceTo(t),T=p(u+d,s)+s;let g,I,v;if(s>=0){for(let O=r;O<l;O++)if(I=h.getX(O),v=c.getX(O),I<=T&&v>T){g=O;break}}else for(let O=r;O>=0;O--)if(I=h.getX(O),v=c.getX(O),I<=T&&v>T){g=O;break}(!g||!I)&&(s>=0?(g=l-1,I=h.getX(g)):(g=0,I=0));const C=new H(i.geometry.attributes.instanceStart.getX(g),i.geometry.attributes.instanceStart.getY(g),i.geometry.attributes.instanceStart.getZ(g)).applyMatrix4(i.matrixWorld),N=new H(i.geometry.attributes.instanceEnd.getX(g),i.geometry.attributes.instanceEnd.getY(g),i.geometry.attributes.instanceEnd.getZ(g)).applyMatrix4(i.matrixWorld),F=T-I,P=C.distanceTo(N),w=F/P;return{pointOnLine:new H().lerpVectors(C,N,w),distance:0,faceIndex:g,start:C.clone(),end:N.clone()}}findNearestSegmentOnLine(i,t){const s=i.geometry.attributes.instanceStart.count,n=new H,r=new H,o=new Sn(n,r);let a=new H;const l={pointOnLine:new H,distance:Number.MAX_SAFE_INTEGER,start:n,end:r,faceIndex:-1},h=i.matrixWorld.clone();for(let c=0;c<s;c++){const u=i.geometry.attributes.instanceStart.getX(c),p=i.geometry.attributes.instanceStart.getY(c),d=i.geometry.attributes.instanceStart.getZ(c),T=i.geometry.attributes.instanceEnd.getX(c),g=i.geometry.attributes.instanceEnd.getY(c),I=i.geometry.attributes.instanceEnd.getZ(c);n.set(u,p,d),r.set(T,g,I),n.applyMatrix4(h),r.applyMatrix4(h),o.set(n,r),o.closestPointToPoint(t,!0,a);const v=t.distanceTo(a);v<l.distance&&(l.pointOnLine=a.clone(),l.distance=v,l.faceIndex=c,l.start=n.clone(),l.end=r.clone())}return l}translatePlane(){const i=this.clipTool.picker.intersectPlane(this.pickPlane);if(!i)return;const t=this.model.position.clone();this.dragStartOffset||(this.dragStartOffset=t.sub(i.point));const s=i.point.clone().add(this.dragStartOffset);if(this.mode==="cross_on_line"&&this.activeProfileLine){const n=this.findNearestSegmentOnLine(this.activeProfileLine,s);let r=n.end.clone().sub(n.start);r.setZ(0).normalize(),r=this.flipNormal(r,this.clipTool.picker.camera.position,n.pointOnLine),this.clipPlane.setFromNormalAndCoplanarPoint(r,n.pointOnLine),this.pickPlane.setFromNormalAndCoplanarPoint(this.axis,n.pointOnLine),this.model.position.copy(n.pointOnLine),this.slider.position.copy(n.pointOnLine);const o=new H().addVectors(n.pointOnLine,r);this.model.lookAt(o),this.slider.lookAt(o)}else{let n=this.clipPlane.normal.clone();n=this.flipNormal(n,this.clipTool.picker.camera.position,s),this.clipPlane.setFromNormalAndCoplanarPoint(n,s),this.pickPlane.setFromNormalAndCoplanarPoint(this.axis,s);const r=i.point.clone().add(this.dragStartOffset).add(n.clone().setLength(.01));this.model.position.copy(r),this.slider.position.copy(r)}this.updateProfilePointsFromModel(),this.updateProfileView(!1)}updateProfilePointsFromModel(){if(!this.profilePoints||this.profilePoints.length!==2)throw new Error("Invalid profile points");const i=this.profilePoints[0],t=this.profilePoints[1],s=i.distanceTo(t)/2,n=this.clipPlane.normal.clone().cross(this.axis).normalize();this.profilePoints[0]=this.model.position.clone().add(n.clone().multiplyScalar(s)),this.profilePoints[1]=this.model.position.clone().add(n.clone().negate().multiplyScalar(s))}updateProfileView(i=!0){this.profileView&&this.splitViewSlider&&this.profilePoints&&(this.profileView.update({width:this.clipTool.picker.domEl.clientWidth,height:this.splitViewSlider.splitPosition,center:this.model.position,clipPlane:this.clipPlane,profilePoints:this.profilePoints,depth:.1,zoom:1.2,scene:this.clipTool.picker.scenePickable,scenePointcloud:i?this.clipTool.picker.scenePointcloud:void 0}),this.profileView.render())}updatePlane(){let i=this.clipPlane.normal.clone();const t=this.model.position.clone();i=this.flipNormal(i,this.clipTool.picker.camera.position,t),this.clipPlane.setFromNormalAndCoplanarPoint(i,t),this.pickPlane.setFromNormalAndCoplanarPoint(this.axis,t)}updatePlaneFromPoints(i){if(i.length!==2)return;const t=i,s=new H().lerpVectors(t[0],t[1],.5),n=i[1].clone().sub(t[0]),r=n.length();let o=n.cross(this.axis).normalize();o=this.flipNormal(o,this.clipTool.picker.camera.position,s);const a=o.clone().setLength(.01);this.clipPlane.setFromNormalAndCoplanarPoint(o,s),this.pickPlane.setFromNormalAndCoplanarPoint(this.axis,s),this.model.position.copy(s.clone().add(a)),this.model.scale.set(r,r,r),this.model.lookAt(s.clone().add(o)),this.slider.position.copy(s.clone().add(a)),this.slider.scale.set(r,r,r),this.slider.lookAt(s.clone().add(o))}updateProfileOnLine(i,t){i.material.color.setHex(16777215),this.clipTool.setActiveMarkerScale(1.5),i.material.linewidth=5;const s=t.faceIndex,n=t.pointOnLine;if(s){const r=i.geometry.attributes.instanceStart.getX(s),o=i.geometry.attributes.instanceStart.getY(s),a=i.geometry.attributes.instanceStart.getZ(s),l=i.geometry.attributes.instanceEnd.getX(s),h=i.geometry.attributes.instanceEnd.getY(s),c=i.geometry.attributes.instanceEnd.getZ(s),u=new H(r,o,a),p=new H(l,h,c).clone().sub(u).normalize();let d=t.distance/2;d<this.minCrossSectionWidth&&(d=this.minCrossSectionWidth);const T=p.clone().cross(new H(0,0,1)).multiplyScalar(d/2),g=p.clone().cross(new H(0,0,-1)).multiplyScalar(d/2),I=n.clone().add(T),v=n.clone().add(g);return this.meshVisible||(this.clipTool.picker.sceneStatic.add(this.model),this.clipTool.pickingPlane=this.pickPlane,this.meshVisible=!0),this.updatePlaneFromPoints([v,I]),this.renderer&&this.meshVisible&&(this.renderer.clippingPlanes=[this.clipPlane],this.renderer.localClippingEnabled=!1),[v,I]}}add(){this.clipTool.start("distance",{onFinish:()=>{this.updatePlaneFromPoints(this.clipTool.points),this.profilePoints=this.clipTool.points.map(i=>i.clone()),this.end()},onUpdate:i=>{if(!this.needsUpdate)return;const t=this.clipTool.picker.hoveredObject;if(this.hoveredLine&&t&&this.hoveredLine.id!==t.id&&(this.hoveredLine=void 0,this.clipTool.picker.lastIntersection=void 0),this.clipTool.points.length===0&&t&&t.userData.supportsProfile){const s=this.clipTool.picker.intersectObject(t);t instanceof Lu&&s?(this.clipTool.snapToLineIntersection(s),this.updateProfileOnLine(t,s),this.hoveredLine=t,this.mode="cross_on_line",this.clipTool.picker.lastIntersection=s):typeof this.clipTool.picker.lastIntersection>"u"&&(this.hoveredLine=void 0,this.mode="free",this.clipTool.picker.lastIntersection=void 0);return}else if(this.clipTool.points.length===1&&this.mode==="cross_on_line"&&t&&t.userData.supportsProfile){const s=this.clipTool.picker.lastIntersection;if(s){this.clipTool.snapToLineIntersection(s);const n=this.updateProfileOnLine(t,s);this.clipTool.picker.scenePickable.add(this.slider),n&&(this.activeProfileLine=t.clone(!0),this.activeProfileLine.material=t.material.clone(),this.activeProfileLine.material.color.setHex(16777215),this.activeProfileLine.material.linewidth=5,this.activeProfileLine.matrix.copy(t.matrixWorld),this.activeProfileLine.matrixAutoUpdate=!1,this.clipTool.picker.sceneStatic.add(this.activeProfileLine),this.clipTool.points=n,this.clipTool.setActiveMarkerScale(1),this.clipTool.end());return}}this.mode="free",this.clipTool.points.length===0&&this.meshVisible&&this.clear(!0),this.clipTool.points.length!==0&&(this.meshVisible||(this.clipTool.picker.sceneStatic.add(this.model),this.clipTool.picker.scenePickable.add(this.slider),this.clipTool.pickingPlane=this.pickPlane,this.meshVisible=!0),this.updatePlaneFromPoints([this.clipTool.points[0],this.clipTool.referenceFrame.toScene(i)]),this.renderer&&this.meshVisible&&(this.renderer.clippingPlanes=[this.clipPlane],this.renderer.localClippingEnabled=!1),this.onUpdate&&this.onUpdate([]))}})}handleProfileAction(i,t){let s=this.stepSize,n=this.zoomMultiplier;switch(i){case"step_change":if(!t||!t.value)break;this.stepSize=t.value,Ki.trackEvent(ji.ProfileStepChange,{stepSize:this.stepSize,mode:this.mode});break;case"step_back":s*=-1,Ki.trackEvent(ji.ProfileStepBack,{stepSize:s,mode:this.mode});case"step_forward":if(this.mode==="cross_on_line"&&this.activeProfileLine){const T=this.findNextStepOnLine(this.activeProfileLine,this.model.position,s);if(!this.profilePoints||this.profilePoints.length!==2)throw new Error("Invalid profile points");this.updateProfileOnLine(this.activeProfileLine,fU(p1({},T),{distance:this.profilePoints[0].distanceTo(this.profilePoints[1])*2})),this.updateProfilePointsFromModel(),this.updateProfileView(!0)}else{if(!this.clipPlaneOnStart)throw new Error("Start clip plane undefined");const T=this.clipPlaneOnStart.normal.clone().multiplyScalar(s);this.model.position.add(T),this.slider.position.add(T),this.updatePlane(),this.updateProfilePointsFromModel(),this.updateProfileView(!0)}s>=0&&Ki.trackEvent(ji.ProfileStepForward,{stepSize:s,mode:this.mode});break;case"zoom_in":Ki.trackEvent(ji.ProfileZoomIn);case"zoom_out":if(!this.profilePoints||this.profilePoints.length!==2)throw new Error("Invalid profile points");let r=this.profilePoints[0],o=this.profilePoints[1];const a=r.distanceTo(o)/2;let l=a;i==="zoom_in"?l/=n:l*=n;const h=this.model.position,c=r.clone().sub(h).normalize().multiplyScalar(l),u=o.clone().sub(h).normalize().multiplyScalar(l);r=h.clone().add(c),o=h.clone().add(u),this.updatePlaneFromPoints([r,o]),this.profilePoints=[r,o],this.updateProfileView(!0),l>=a&&Ki.trackEvent(ji.ProfileZoomOut);break;case"export_dxf":const p=new i1,d=this.getProfileGeometries();p.addPoints(d.points,"PROFILE_POINTS"),p.addLines(d.lines,"PROFILE_LINES"),p.saveFile(),Ki.trackEvent(ji.ExportProfileDXF,{pointCount:d.points.length,lineCount:d.lines.length,polygonCount:0})}}createProfileView(){const i=this.clipTool.picker.domEl,t=o=>{var a;(a=this.splitViewSlider)==null||a.updateLoadIndicator(o)},s=()=>{var o;(o=this.splitViewSlider)==null||o.hideLoadIndicator()};this.splitViewSlider=new h1({domEl:i,splitRatio:.5}),this.splitViewSlider.createProfileToolPanel(this.handleProfileAction.bind(this)),this.profileView=new l1({width:i.clientWidth,height:this.splitViewSlider.splitPosition,referenceFrame:this.clipTool.referenceFrame,domEl:this.splitViewSlider.container,measureTool:this.measureTool,loadProgressCallback:t,loadFinishCallback:s});const n=(o,a)=>{var l,h;!this.profilePoints||((l=this.profileView)==null||l.update({center:this.model.position,clipPlane:this.clipPlane,profilePoints:this.profilePoints,depth:.1,zoom:1.2,width:o,height:a,scene:this.clipTool.picker.scenePickable,scenePointcloud:this.clipTool.picker.scenePointcloud}),(h=this.profileView)==null||h.render())},r=(o,a)=>{var l;const h=o/a;(l=this.renderer)==null||l.setSize(o,a),this.clipTool.picker.camera.aspect=h,this.clipTool.picker.camera.updateProjectionMatrix()};this.splitViewSlider.setUpdateCallback(o=>{r(o.up.width,o.up.height),n(o.down.width,o.down.height),o.allowPropagation&&window.dispatchEvent(new Event("resize"))}),this.splitViewSlider.setCloseCallback(({width:o,height:a})=>{r(o,a),this.clear(),window.dispatchEvent(new Event("resize"))}),r(i.clientWidth,i.clientHeight),n(i.clientWidth,this.splitViewSlider.splitPosition),window.dispatchEvent(new Event("resize")),this.clipPlaneOnStart=this.clipPlane.clone(),this.profileView.render()}getProfileGeometries(){if(!this.profileView)throw new Error("No profile view");return this.profileView.getGeometry()}disposeProfileView(){var i,t;(i=this.splitViewSlider)==null||i.dispose(),this.splitViewSlider=void 0,(t=this.profileView)==null||t.dispose(),this.profileView=void 0}end(){this.onFinish&&this.onFinish(this.clipTool.points),this.clipTool.clear(),this.onUpdate=void 0,this.onFinish=void 0,this.createProfileView(),this.update()}clearMeasurements(){var i,t;(i=this.profileView)==null||i.clearMeasurements(),(t=this.profileView)==null||t.render()}cancel(){this.clear(),this.clipTool.cancel()}clear(i=!1){this.clipTool.picker.sceneStatic.remove(this.model),this.clipTool.picker.scenePickable.remove(this.slider),this.meshVisible=!1,this.needsUpdate=i,this.mode="free",this.renderer&&(this.renderer.clippingPlanes=[],this.renderer.localClippingEnabled=!0),this.activeProfileLine&&(this.clipTool.picker.sceneStatic.remove(this.activeProfileLine),this.activeProfileLine.material.dispose(),this.activeProfileLine.geometry.dispose(),this.activeProfileLine=void 0),this.splitViewSlider&&(this.splitViewSlider.dispose(),this.splitViewSlider=void 0),this.profileView&&(this.profileView.dispose(),this.profileView=void 0)}dispose(){this.clipTool.picker.domEl.removeEventListener(Ye.LayerVisibilityChanged,this.handleVisibilityUpdate),this.slider&&(this.slider.children.forEach(i=>{i.removeEventListener("drag_start",this.handleSliderDragStart),i.removeEventListener("drag_end",this.handleSliderDragEnd),i.removeEventListener("hover_in",this.handleSliderHoverIn),i.removeEventListener("hover_out",this.handleSliderHoverOut),i.material.dispose(),i.geometry.dispose()}),this.clipTool.picker.sceneStatic.remove(this.slider)),this.model&&(this.model.children.forEach(i=>{i.material.dispose(),i.geometry.dispose()}),this.clipTool.picker.sceneStatic.remove(this.model)),this.activeProfileLine&&(this.clipTool.picker.sceneStatic.remove(this.activeProfileLine),this.activeProfileLine.material.dispose(),this.activeProfileLine.geometry.dispose(),this.activeProfileLine=void 0),this.disposeProfileView(),this.meshVisible=!1,this.clipPlaneOnStart=void 0}}const gU=({id:e,width:i,height:t,iconSrc:s,onPointerDown:n,top:r,left:o,backgroundColor:a,buttonSize:l})=>{const h=document.createElement("div");h.id=e,h.style.position="absolute",h.style.width=`${i}px`,h.style.height=`${t}px`,h.style.borderRadius=`${i/2}px`,h.style.zIndex="101",h.style.backgroundColor=a,h.style.opacity="1.0",h.style.top=r,h.style.left=o;const c=document.createElement("img");c.src=s,c.style.width=`${l}px`,c.style.height=`${l}px`,c.addEventListener("pointerdown",d=>{d.preventDefault(),n()});const u=()=>{h.addEventListener("pointerenter",p),h.removeEventListener("pointerleave",p),h.style.cursor="auto"},p=()=>{h.addEventListener("pointerleave",u),h.removeEventListener("pointerenter",p),h.style.cursor="pointer"};return h.addEventListener("pointerenter",p),h.appendChild(c),h};var bU=Object.defineProperty,m1=Object.getOwnPropertySymbols,IU=Object.prototype.hasOwnProperty,LU=Object.prototype.propertyIsEnumerable,y1=(e,i,t)=>i in e?bU(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,SU=(e,i)=>{for(var t in i||(i={}))IU.call(i,t)&&y1(e,t,i[t]);if(m1)for(var t of m1(i))LU.call(i,t)&&y1(e,t,i[t]);return e},MU=(e,i,t)=>new Promise((s,n)=>{var r=l=>{try{a(t.next(l))}catch(h){n(h)}},o=l=>{try{a(t.throw(l))}catch(h){n(h)}},a=l=>l.done?s(l.value):Promise.resolve(l.value).then(r,o);a((t=t.apply(e,i)).next())}),xU=(e=>(e.MetaData="pointscene-meta-data",e.CloseButton="pointscene-meta-data-close",e))(xU||{});class vU{constructor(i){this.labelTooltipMarginTop=-115,this.position=new H,this.metaTool=new QI,this.measureTool=new Zh(SU({},i)),this.measureTool.setLabelTextFn=this.setLabelText.bind(this),this.createDiv(),this.handleResize=this.handleResize.bind(this),window.addEventListener("resize",this.handleResize)}handleResize(){!this.detailDiv||(this.detailDiv.style.height=`${this.measureTool.domEl.clientHeight*.85}px`)}close(){!this.detailDiv||(this.detailDiv.style.maxHeight="0px",this.detailDiv.style.opacity="20",this.detailDiv.style.visibility="hidden",this.measureTool.clear(),setTimeout(()=>{if(!this.detailDiv)return;const i=this.detailDiv.querySelector("#pointscene-meta-data");i&&this.detailDiv.removeChild(i)},400))}isVisible(){return this.detailDiv?this.detailDiv.style.visibility==="visible":!1}dispose(){!this.detailDiv||(this.measureTool.domEl.removeChild(this.detailDiv),window.removeEventListener("resize",this.handleResize))}createDiv(){const i=document.createElement("div"),t=this.measureTool.domEl;if(!t)return;this.detailDiv=i,this.applyDetailStyle(this.detailDiv);const s=gU({id:"pointscene-meta-data-close",width:32,height:32,iconSrc:Fy,onPointerDown:()=>this.close(),top:"10px",left:"10px",backgroundColor:"#fff",buttonSize:32});s.style.position="fixed",this.detailDiv.appendChild(s),t.appendChild(this.detailDiv),this.detailDiv.addEventListener("wheel",n=>{!this.detailDiv||(n.preventDefault(),n.stopImmediatePropagation(),n.stopPropagation(),this.detailDiv.scrollTop=this.detailDiv.scrollTop+n.deltaY)})}applyDetailStyle(i){i.style.position="absolute",i.style.maxHeight="0px",i.style.left="20px",i.style.top="20px",i.style.color="#365379",i.style.backgroundColor="#eee",i.style.opacity="0.4",i.style.borderRadius="10px",i.style.borderWidth="1px",i.style.borderColor="#f26812",i.style.borderStyle="solid",i.style.fontFamily="Open Sans",i.style.fontWeight="bolder",i.style.fontSize="14px",i.style.pointerEvents="all",i.style.userSelect="text",i.style.overflow="scroll",i.style.minWidth="90px",i.style.padding="5px",i.style.paddingLeft="10px",i.style.paddingRight="10px",i.style.visibility="hidden",i.style.transition="all 0.3s ease-in",i.style.zIndex="100"}start(i){this.measureTool.start("point",{onFinish:(t,s)=>{this.lastIntersection=s,i.onFinish(t)},onUpdate:t=>{this.position.copy(this.measureTool.referenceFrame.toScene(t))}})}clear(){this.measureTool.clear()}cancel(){this.measureTool.cancel()}isActive(){return this.measureTool.activeType!=="none"}updateMetaProps(i,t,s){return MU(this,null,function*(){let n="";if(i.objectType==="mesh"){if(!i.faceIndex)return;const r=yield this.metaTool.getObjectProps(i.object,i,!s);if(r.isIfc){const o=this.metaTool.formatIfcProps(r.itemProps,f4),a=i.object.ifcManager;if(!a)return;const l=r.itemProps.type?a.typesMap[r.itemProps.type]:"Not found";n+='<p style="width: 100%; text-align: center; color: #666;"><b>IfcItemProperties</b></p>',n+=`<div style="width: 100%;"><span style="color: #666;">Type:</span> <span>${l}</span></div>`;for(const[h,c]of Object.entries(o))n+=`<div style="width: 100%;"><span style="color: #666;">${h}:</span> <span>${c}</span></div>`;if(s)n+='<p style="color: #999;">Click to load more info...</p>';else{n+='<p style="width: 100%; text-align: center; color: #666;"><b>IfcPropertySets</b></p>';const h=this.metaTool.formatIfcPropertySets(r.propSets);h.length===0&&(n+='<div style="width: 100%;"><span style="color: #999;">Not found</span></div>');for(const c of h){const u=Object.keys(c)[0];n+=`<p style="width: 100%; text-align: left; color: #999;">${u}</p>`;for(const[p,d]of Object.entries(c[u]))n+=`<div style="width: 100%;"><span style="color: #666;">${p}:</span> <span>${d}</span></div>`}if(n+='<p style="width: 100%; text-align: center; color: #666;"><b>IfcMaterial</b></p>',r.matProps&&r.matProps.length&&r.matProps.length>0){const c=this.metaTool.formatIfcProps(r.matProps[0],T4);for(const[u,p]of Object.entries(c))n+=`<div style="width: 100%;"><span style="color: #666;">${u}:</span> <span>${p}</span></div>`}else n+='<div style="width: 100%;"><span style="color: #999;">Not found</span></div>'}}else if(r.isLandXml){const o=this.metaTool.propsToReadableFormat(r,"camel",JI);n='<div style="width: 100%; text-align: center; color: #aaa;">LandXML</div>';for(const a of JI){const l=this.metaTool.camelCaseToText(a);!o[l]||(n+=`<div>${l}: ${o[l]}</div>`)}}}else i.objectType==="pointcloud"&&(n='<div style="width: 100%; text-align: center; color: #aaa;">Pointcloud</div>');if(this.detailDiv&&!s){const r=document.createElement("div");r.id="pointscene-meta-data",r.innerHTML=n,this.detailDiv.appendChild(r),this.detailDiv.style.opacity="0.95",this.detailDiv.style.visibility="visible",this.detailDiv.style.maxHeight=`${this.measureTool.domEl.clientHeight*.85}px`,this.detailDiv.style.left="20px"}else t[0].innerHTML=n})}setLabelText(i,t,s,n,r=!1){let o,a,l;if(r){o=this.position.x,a=this.position.y,l=this.position.z;const h=this.measureTool.picker.pick();if(!h)return;this.updateMetaProps(h,t,!0),n[0].position.set(o,a,l),t[0].style.opacity="0.95",t[0].style.visibility="visible"}else o=s.geometry.attributes.position.getX(0),a=s.geometry.attributes.position.getY(0),l=s.geometry.attributes.position.getZ(0),this.lastIntersection&&(this.updateMetaProps(this.lastIntersection,t,!1),t[0].style.opacity="0",t[0].style.visibility="hidden");n[0].position.set(o,a,l),t[0].style.marginTop=`${this.labelTooltipMarginTop}px`}}var GU=Object.defineProperty,EU=Object.getOwnPropertyDescriptor,bo=(e,i,t,s)=>{for(var n=s>1?void 0:s?EU(i,t):i,r=e.length-1,o;r>=0;r--)(o=e[r])&&(n=(s?o(i,t,n):o(n))||n);return s&&n&&GU(i,t,n),n},CU=(e,i,t)=>new Promise((s,n)=>{var r=l=>{try{a(t.next(l))}catch(h){n(h)}},o=l=>{try{a(t.throw(l))}catch(h){n(h)}},a=l=>l.done?s(l.value):Promise.resolve(l.value).then(r,o);a((t=t.apply(e,i)).next())});let br=class extends js{constructor(){super();this.expanded=!1,this._activeTool="none",this._snapDepth=!1,this._snapPointcloud=!0,this._snapModel=!0,this.isCollapsed=!0,this.showSlope=!1,this.domEl="",this.events=new as,this.registerPicker=this.registerPicker.bind(this)}connectedCallback(){super.connectedCallback();const e=document.querySelector(`#${this.domEl}`);e==null||e.addEventListener(Ye.RegisterPicker,this.registerPicker),this.events.dispatch(Ye.MeasureUICreated,{},e)}disconnectedCallback(){var e,i,t;const s=document.querySelector(`#${this.domEl}`);s==null||s.removeEventListener(Ye.RegisterPicker,this.registerPicker),(e=this.measureTool)==null||e.dispose(),(i=this.clippingTool)==null||i.dispose(),(t=this.infoTool)==null||t.dispose(),super.disconnectedCallback()}willUpdate(){CU(this,null,function*(){yield this.updateComplete,this.dispatchEvent(new CustomEvent("resize"))})}registerPicker(e){this.picker=e.detail.picker,this.referenceFrame=e.detail.referenceFrame;const i=e.detail.renderer;if(!this.picker||!this.referenceFrame||!i)throw new Error("Missing picker or reference frame: "+this.picker+" "+this.referenceFrame);this.measureTool=new Zh({picker:this.picker,referenceFrame:this.referenceFrame}),this.clippingTool=new d1({picker:this.picker,referenceFrame:this.referenceFrame,renderer:i,measureTool:this.measureTool}),this.infoTool=new vU({picker:this.picker,referenceFrame:this.referenceFrame})}render(){return Mi`
    <div class="pointscene-header${this.isCollapsed?"":" pointscene-header-expanded"}" @click=${this.toggleCollapsed}>
        <div class="pointscene-header-icon">
          <pointscene-icon icon="tools"></pointscene-icon>
        </div>
        <div class="pointscene-header-title">
          TOOLS
        </div>
        <div class="pointscene-header-toggle">
          ${this.isCollapsed?"+":"-"}
        </div>
      </div>
      ${this.isCollapsed?"":Mi`
      <div class="pointscene-expanded-content">
        <div>
          <pointscene-button
            ?disabled=${this.isDisabled("info")}
            ?active=${this._activeTool==="info"}
            @click=${()=>this.toggleActiveTool("info")}
            icon="info"
            iconCancel="cancel"
            label="Info"
          ></pointscene-button>
        </div>
        <div>
          <pointscene-button
            ?disabled=${this.isDisabled("point")}
            ?active=${this._activeTool==="point"}
            @click=${()=>this.toggleActiveTool("point")}
            icon="point"
            iconCancel="cancel"
            label="Point"
          ></pointscene-button>
        </div>

        <div class="multitool-container">
          <div class="multitool-primary">
            <pointscene-button
              ?disabled=${this.isDisabled("distance")}
              ?active=${this._activeTool==="distance"}
              @click=${()=>this.toggleActiveTool("distance")}
              icon=${this.showSlope?"slope":"distance"}
              iconCancel="cancel"
              label=${this.showSlope?"Slope":"Distance"}
            ></pointscene-button>
          </div>

          <div class="multitool-toggle">
            <pointscene-button
              ?disabled=${!1}
              ?active=${!1}
              @click=${()=>this.handleSlopeToggle()}
              icon="switch"
              iconCancel="cancel"
              label=""
              hideLabel=${!0}
            ></pointscene-button>
          </div>

          <div class="multitool-secondary">
            <pointscene-icon
              icon=${this.showSlope?"distance_alt":"slope_alt"}
            >
            </pointscene-icon>
          </div>
        </div>

        <div>
          <pointscene-button
            ?disabled=${this.isDisabled("area")}
            ?active=${this._activeTool==="area"}
            @click=${()=>this.toggleActiveTool("area")}
            icon="area"
            iconCancel="cancel"
            label="Area"
          ></pointscene-button>
        </div>
        <div>
          <pointscene-button
            ?disabled=${this.isDisabled("clip")}
            ?active=${this._activeTool==="clip"}
            @click=${()=>this.toggleActiveTool("clip")}
            icon="clip"
            iconCancel="cancel"
            label="Clip"
          ></pointscene-button>
        </div>

        <button
          class="pointscene-cancel-button"
          @click=${this.clearMeasurements}
        >
            Clear measurements
        </button>

        <button
          style="width: 100%;"
          class="pointscene-basic-button"
          @click=${this.exportMeasurements}
        >
            Export DXF
        </button>

        <button
          class="pointscene-collapsible-button"
          @click=${this.toggleExpanded}
        >
            Advanced ${this.expanded?"-":"+"}
        </button>

        ${this.expanded?Mi`
          <hr />
          <div style="width: 100%; text-align: center; padding-bottom: 10px;">Snap settings</div>
          <div>
            <pointscene-switch
              .checked=${this._snapDepth}
              label="360 depth"
              @change=${this.toggleSnapDepth}
            ></pointscene-switch>
          </div>
          <div>
            <pointscene-switch
              .checked=${this._snapModel}
              label="Model"
              @change=${this.toggleSnapModel}
            ></pointscene-switch>
          </div>
          <div>
            <pointscene-switch
              .checked=${this._snapPointcloud}
              label="Point cloud"
              @change=${this.toggleSnapPointcloud}
            ></pointscene-switch>
          </div>
        </div>
        `:""}
      </div>
      <hr />
      `}
    `}clearMeasurements(){var e,i,t;(e=this.measureTool)==null||e.clear(),(i=this.clippingTool)==null||i.clearMeasurements(),(t=this.infoTool)==null||t.clear(),Ki.trackEvent(ji.ClearMeasurements)}isDisabled(e){return this._activeTool==="none"?!1:e!==this._activeTool}exportMeasurements(){if(!this.measureTool||!this.clippingTool||!this.referenceFrame)return;const e=new i1,i=this.measureTool.getGeometry();e.addPoints(i.points,"POINTS"),e.addLines(i.lines,"MEASUREMENT_DISTANCES"),e.addPolygons(i.polygons,"MEASUREMENT_AREAS"),e.saveFile(),Ki.trackEvent(ji.ExportDXF,{pointCount:i.points.length,lineCount:i.lines.length,polygonCount:i.polygons.length})}toggleActiveTool(e){var i,t,s,n,r,o,a,l,h;if(!(this._activeTool!=="none"&&e!==this._activeTool))switch(this._activeTool=e===this._activeTool?"none":e,this._activeTool){case"point":case"distance":case"area":(i=this.measureTool)==null||i.start(this._activeTool,{onFinish:c=>this._activeTool="none"}),Ki.trackEvent(ji.StartTool,{type:this._activeTool});return;case"clip":((t=this.clippingTool)==null?void 0:t.profileViewIsVisible())&&this.clippingTool.dispose(),(s=this.clippingTool)==null||s.start({onUpdate:c=>{},onFinish:c=>{this._activeTool="none"}}),Ki.trackEvent(ji.StartTool,{type:this._activeTool});return;case"info":((n=this.infoTool)==null?void 0:n.isVisible())&&this.infoTool.close(),(r=this.infoTool)==null||r.start({onUpdate:c=>{},onFinish:c=>{this._activeTool="none"}}),Ki.trackEvent(ji.StartTool,{type:this._activeTool});return;case"none":((o=this.measureTool)==null?void 0:o.activeType)!=="none"&&((a=this.measureTool)==null||a.end()),((l=this.clippingTool)==null?void 0:l.isActive())&&this.clippingTool.cancel(),((h=this.infoTool)==null?void 0:h.isActive())&&this.infoTool.cancel();default:return}}handleSlopeToggle(){var e;this.showSlope=!this.showSlope,(e=this.measureTool)==null||e.toggleShowSlope()}toggleCollapsed(){this.isCollapsed=!this.isCollapsed}toggleExpanded(){this.expanded=!this.expanded}toggleSnapDepth(){this._snapDepth=!this._snapDepth,this.measureTool&&(this.measureTool.picker.pickDepth=this._snapDepth),Ki.trackEvent(ji.ToggleSnap,{type:"depth"})}toggleSnapPointcloud(){this._snapPointcloud=!this._snapPointcloud,this.measureTool&&(this.measureTool.picker.pickPointclouds=this._snapPointcloud),Ki.trackEvent(ji.ToggleSnap,{type:"point cloud"})}toggleSnapModel(){this._snapModel=!this._snapModel,this.measureTool&&(this.measureTool.picker.pickModels=this._snapModel),Ki.trackEvent(ji.ToggleSnap,{type:"model"})}};br.styles=[yu,Oh,Dh,TI,MH,xH,vH,fr],bo([ki()],br.prototype,"expanded",2),bo([ki()],br.prototype,"_activeTool",2),bo([ki()],br.prototype,"_snapDepth",2),bo([ki()],br.prototype,"_snapPointcloud",2),bo([ki()],br.prototype,"_snapModel",2),bo([ki()],br.prototype,"isCollapsed",2),bo([ki()],br.prototype,"showSlope",2),bo([Ot({type:String})],br.prototype,"domEl",2),br=bo([Jn("pointscene-tools")],br);var RU=Object.defineProperty,NU=Object.getOwnPropertyDescriptor,Uh=(e,i,t,s)=>{for(var n=s>1?void 0:s?NU(i,t):i,r=e.length-1,o;r>=0;r--)(o=e[r])&&(n=(s?o(i,t,n):o(n))||n);return s&&n&&RU(i,t,n),n},FU=(e,i,t)=>new Promise((s,n)=>{var r=l=>{try{a(t.next(l))}catch(h){n(h)}},o=l=>{try{a(t.throw(l))}catch(h){n(h)}},a=l=>l.done?s(l.value):Promise.resolve(l.value).then(r,o);a((t=t.apply(e,i)).next())});let ma=class extends js{constructor(){super(...arguments);this.domEl="",this.depthEnabled=!1,this.peekMode=!1,this.backgroundMode=!1,this.isCollapsed=!0,this.events=new as}willUpdate(){FU(this,null,function*(){yield this.updateComplete,this.dispatchEvent(new CustomEvent("resize"))})}render(){return Mi`
    <div class="pointscene-header${this.isCollapsed?"":" pointscene-header-expanded"}" @click=${this.toggleCollapsed}>
        <div class="pointscene-header-icon">
          <pointscene-icon icon="360" width="18px" height="18px"></pointscene-icon>
        </div>
        <div class="pointscene-header-title">
          PHOTO
        </div>
        <div class="pointscene-header-toggle">
          ${this.isCollapsed?"+":"-"}
        </div>
      </div>
      ${this.isCollapsed?"":Mi`
      <div class="pointscene-expanded-content">
        <div>
          <pointscene-switch
            .checked=${this.peekMode}
            label="Peek mode"
            @change=${this.togglePeekMode}
          ></pointscene-switch>
        </div>
        <div>
          <pointscene-switch
            .checked=${this.backgroundMode}
            label="Background"
            @change=${this.toggleBackgroundMode}
          ></pointscene-switch>
        </div>
        ${this.depthEnabled?Mi`
        <div class="pointscene-depth-enabled">
          Depth enabled
        </div>
        `:""}
      </div>
      <hr />
      `}
    `}dispatch(e,i){const t=document.querySelector(`#${this.domEl}`);!t||this.events.dispatch(e,i,t)}toggleCollapsed(){this.isCollapsed=!this.isCollapsed}togglePeekMode(){this.peekMode=!this.peekMode,this.peekMode&&this.backgroundMode&&this.toggleBackgroundMode(),this.dispatch(Ye.SetPhotoPeekMode,{value:this.peekMode})}toggleBackgroundMode(){this.backgroundMode=!this.backgroundMode,this.backgroundMode&&this.peekMode&&this.togglePeekMode(),this.dispatch(Ye.SetPhotoBackgroundMode,{value:this.backgroundMode})}};ma.styles=[yu,Oh,Dh,ls`
      .pointscene-depth-enabled {
        color: #4b8d2f;
        font-size: 12px;
        padding: 4px;
        text-align: center;
      }
    `,fr],Uh([Ot({type:String})],ma.prototype,"domEl",2),Uh([Ot({type:Boolean})],ma.prototype,"depthEnabled",2),Uh([ki()],ma.prototype,"peekMode",2),Uh([ki()],ma.prototype,"backgroundMode",2),Uh([ki()],ma.prototype,"isCollapsed",2),ma=Uh([Jn("pointscene-spherical")],ma);var PU=Object.defineProperty,wU=Object.getOwnPropertyDescriptor,Gu=(e,i,t,s)=>{for(var n=s>1?void 0:s?wU(i,t):i,r=e.length-1,o;r>=0;r--)(o=e[r])&&(n=(s?o(i,t,n):o(n))||n);return s&&n&&PU(i,t,n),n},XU=(e,i,t)=>new Promise((s,n)=>{var r=l=>{try{a(t.next(l))}catch(h){n(h)}},o=l=>{try{a(t.throw(l))}catch(h){n(h)}},a=l=>l.done?s(l.value):Promise.resolve(l.value).then(r,o);a((t=t.apply(e,i)).next())});let yl=class extends js{constructor(){super();this.domEl="",this.expanded=!1,this.isCollapsed=!0,this.data=[],this.events=new as,this.registerLayers=this.registerLayers.bind(this)}connectedCallback(){super.connectedCallback();const e=document.querySelector(`#${this.domEl}`);e==null||e.addEventListener(Ye.RegisterLayers,this.registerLayers),this.events.dispatch(Ye.LayerUICreated,{},e)}disconnectedCallback(){var e;const i=document.querySelector(`#${this.domEl}`);i==null||i.removeEventListener(Ye.RegisterLayers,this.registerLayers),(e=this.layers)==null||e.dispose(),super.disconnectedCallback()}willUpdate(){XU(this,null,function*(){yield this.updateComplete,this.dispatchEvent(new CustomEvent("resize"))})}registerLayers(e){this.layers=e.detail.layers,!!this.layers&&(this.layers.registerOnUpdateCallback(this.layerUpdateCallback.bind(this)),this.data=this.layers.getAll())}layerUpdateCallback(){!this.layers||(this.data=this.layers.getAll())}render(){return Mi`
      <div class="pointscene-header${this.isCollapsed?"":" pointscene-header-expanded"}" @click=${this.toggleCollapsed}>
        <div class="pointscene-header-icon">
          <pointscene-icon icon="layers" width="100%" height="100%"></pointscene-icon>
        </div>
        <div class="pointscene-header-title">
          Layers
        </div>
        <div class="pointscene-header-toggle">
          ${this.isCollapsed?"+":"-"}
        </div>
      </div>
      ${this.isCollapsed?"":Mi`
          <div class="pointscene-expanded-content">
          ${this.data.map(e=>{var i;return Mi`
            <pointscene-switch
              ?expanded=${this.expanded}
              ?checked=${(i=this.layers)==null?void 0:i.isVisible(e.id)}
              label="${e.name}"
              @change=${()=>{var t;return(t=this.layers)==null?void 0:t.toggleVisibility(e.id)}}
            ></pointscene-switch>
            `})}
            <div>
              <pointscene-button
                icon="fit_view"
                label="Fit top view"
                @click=${this.fitTopView}
              >
              </pointscene-button>
            </div>
          </div>
          <hr />
        `}
    `}fitTopView(){const e=document.querySelector(`#${this.domEl}`);!e||(this.events.dispatch(Ye.FitTopView,{},e),Ki.trackEvent(ji.FitTopView))}toggleCollapsed(){this.isCollapsed=!this.isCollapsed}};yl.styles=[yu,Dh,Oh,fI,dy,my,fr],Gu([Ot({type:String})],yl.prototype,"domEl",2),Gu([Ot({type:Boolean})],yl.prototype,"expanded",2),Gu([ki()],yl.prototype,"isCollapsed",2),Gu([ki()],yl.prototype,"data",2),yl=Gu([Jn("pointscene-layers")],yl);var DU=Object.defineProperty,OU=Object.getOwnPropertyDescriptor,ya=(e,i,t,s)=>{for(var n=s>1?void 0:s?OU(i,t):i,r=e.length-1,o;r>=0;r--)(o=e[r])&&(n=(s?o(i,t,n):o(n))||n);return s&&n&&DU(i,t,n),n};let Ar=class extends js{constructor(){super(...arguments);this.label="",this.checked=!1,this.disabled=!1,this.min=0,this.max=10,this.step=1,this.value=10}render(){return Mi`
      <div class="pointscene-slider-container"
      >
        <div class="pointscene-slider-label">${this.label}</div>
        <div class="pointscene-slider-bar">
          <input
            @input=${this.handleChange}
            step=${this.step}
            type="range"
            min="${this.min}"
            max="${this.max}"
            value="${this.value}"
            class="pointscene-slider">
        </div>
      </div>
    `}handleChange(e){const i={value:e.target.value};this.dispatchEvent(new CustomEvent("change",{detail:i}))}};Ar.styles=[GH,fr],ya([Ot({type:String})],Ar.prototype,"label",2),ya([Ot({type:Boolean})],Ar.prototype,"checked",2),ya([Ot({type:Boolean})],Ar.prototype,"disabled",2),ya([Ot({type:Number})],Ar.prototype,"min",2),ya([Ot({type:Number})],Ar.prototype,"max",2),ya([Ot({type:Number})],Ar.prototype,"step",2),ya([Ot({type:Number})],Ar.prototype,"value",2),Ar=ya([Jn("pointscene-slider")],Ar);var zU=Object.defineProperty,WU=Object.getOwnPropertyDescriptor,Io=(e,i,t,s)=>{for(var n=s>1?void 0:s?WU(i,t):i,r=e.length-1,o;r>=0;r--)(o=e[r])&&(n=(s?o(i,t,n):o(n))||n);return s&&n&&zU(i,t,n),n},YU=(e,i,t)=>new Promise((s,n)=>{var r=l=>{try{a(t.next(l))}catch(h){n(h)}},o=l=>{try{a(t.throw(l))}catch(h){n(h)}},a=l=>l.done?s(l.value):Promise.resolve(l.value).then(r,o);a((t=t.apply(e,i)).next())});let Ir=class extends js{constructor(){super();this.isCollapsed=!0,this.pointColorType="rgb",this.rangeToolActive=!1,this.minSize=.1,this.maxSize=2,this.sizeStep=.1,this.pointSize=1,this.domEl="",this.events=new as,this.registerPointclouds=this.registerPointclouds.bind(this)}connectedCallback(){super.connectedCallback();const e=document.querySelector(`#${this.domEl}`);e==null||e.addEventListener(Ye.RegisterPointclouds,this.registerPointclouds),this.events.dispatch(Ye.PointcloudUICreated,{},e)}disconnectedCallback(){const e=document.querySelector(`#${this.domEl}`);e==null||e.removeEventListener(Ye.RegisterPointclouds,this.registerPointclouds),super.disconnectedCallback()}willUpdate(){YU(this,null,function*(){yield this.updateComplete,this.dispatchEvent(new CustomEvent("resize"))})}render(){var e;return Mi`
    <div class="pointscene-header${this.isCollapsed?"":" pointscene-header-expanded"}" @click=${this.toggleCollapsed}>
        <div class="pointscene-header-icon">
          <pointscene-icon icon="pointcloud" width="18px" height="18px"></pointscene-icon>
        </div>
        <div class="pointscene-header-title">
          POINTS
        </div>
        <div class="pointscene-header-toggle">
          ${this.isCollapsed?"+":"-"}
        </div>
      </div>
      ${this.isCollapsed?"":Mi`
      <div class="pointscene-expanded-content">
        <div>
          <pointscene-dropdown
            @change=${this.handleColorChange}
            options=${JSON.stringify([{value:"rgb",label:"Color",selected:!1},{value:"z",label:"Height",selected:!1},{value:"intensity",label:"Intensity",selected:!1},{value:"classification",label:"Classification",selected:!1}])}
          ></pointscene-dropdown>
        </div>
        ${this.pointColorType==="z"?Mi`
        <div class="pointscene-elevation-range">
          <button
            class="pointscene-set-elevation-button"
            @click=${()=>this.setElevationStart()}
          >
              Set
          </button>
          <span id="elevation-range">0 - 100</span>
        </div>
        `:""}
        <div>
          <pointscene-switch
            .checked=${(e=this.pointclouds)==null?void 0:e.isEDLEnabled()}
            label="Edge"
            @change=${this.handleEdlChange}
          ></pointscene-switch>
        </div>
        <div>
          <pointscene-slider
            label="Size"
            @change=${this.handleSizeChange}
            min=${this.minSize}
            max=${this.maxSize}
            step=${this.sizeStep}
            value=${this.pointSize}
          ></pointscene-slider>
        </div>
      </div>
      <hr />
      `}
    `}setElevationStart(){var e;if(!this.rangeTool||!this.pointclouds)return;const i=(e=this.shadowRoot)==null?void 0:e.querySelector("#elevation-range");this.rangeToolActive=!0;const t=s=>{s.length<2||!this.rangeToolActive||(i&&(i.innerHTML=`${s[0].toFixed(3)} - ${s[1].toFixed(3)}`),this.pointclouds.setHeightRange(s))};this.rangeTool.start({onUpdate:s=>t(s),onFinish:s=>{t(s),this.rangeToolActive=!1}}),Ki.trackEvent(ji.PointCloudElevationRange)}cancelElevationRange(){var e;(e=this.rangeTool)==null||e.end(),this.rangeToolActive=!1}registerPointclouds(e){this.pointclouds=e.detail.pointclouds;const i=e.detail.picker,t=e.detail.referenceFrame;this.rangeTool=new r1({picker:i,referenceFrame:t})}handleColorChange(e){var i,t,s,n,r;const o=e.detail.value;switch(this.pointColorType=o,o){case"rgb":(i=this.pointclouds)==null||i.setColorType(qi.RGB);break;case"z":(t=this.pointclouds)==null||t.setColorType(qi.ELEVATION);break;case"intensity":(s=this.pointclouds)==null||s.setColorType(qi.INTENSITY),(n=this.pointclouds)==null||n.fitIntensityRange();break;case"classification":(r=this.pointclouds)==null||r.setColorType(qi.CLASSIFICATION);break}Ki.trackEvent(ji.PointCloudColor,{type:o})}handleEdlChange(){var e,i;(e=this.pointclouds)==null||e.setEDLEnabled(!this.pointclouds.isEDLEnabled()),Ki.trackEvent(ji.PointCloudEdl,{value:!((i=this.pointclouds)==null?void 0:i.isEDLEnabled())})}handleSizeChange(e){var i;const t=e.detail.value;(i=this.pointclouds)==null||i.setPointSize(t),this.pointSize=t}toggleCollapsed(){this.isCollapsed=!this.isCollapsed}};Ir.styles=[yu,Oh,Dh,fI,EH,fr],Io([ki()],Ir.prototype,"isCollapsed",2),Io([ki()],Ir.prototype,"pointColorType",2),Io([ki()],Ir.prototype,"rangeToolActive",2),Io([ki()],Ir.prototype,"minSize",2),Io([ki()],Ir.prototype,"maxSize",2),Io([ki()],Ir.prototype,"sizeStep",2),Io([ki()],Ir.prototype,"pointSize",2),Io([Ot({type:String})],Ir.prototype,"domEl",2),Ir=Io([Jn("pointscene-pointcloud")],Ir);var kU=Object.defineProperty,AU=Object.getOwnPropertyDescriptor,Eu=(e,i,t,s)=>{for(var n=s>1?void 0:s?AU(i,t):i,r=e.length-1,o;r>=0;r--)(o=e[r])&&(n=(s?o(i,t,n):o(n))||n);return s&&n&&kU(i,t,n),n},KU=(e,i,t)=>new Promise((s,n)=>{var r=l=>{try{a(t.next(l))}catch(h){n(h)}},o=l=>{try{a(t.throw(l))}catch(h){n(h)}},a=l=>l.done?s(l.value):Promise.resolve(l.value).then(r,o);a((t=t.apply(e,i)).next())});let fl=class extends js{constructor(){super(...arguments);this.isCollapsed=!0,this.shareUrl="",this.expanded=!1,this.domEl=""}connectedCallback(){super.connectedCallback(),this.updateUrl=this.updateUrl.bind(this);const e=document.querySelector(`#${this.domEl}`);if(!e)throw new Error("ShareUI: Failed to get domEl");e.addEventListener(Ye.QueryParamUpdated,this.updateUrl)}disconnectedCallback(){const e=document.querySelector(`#${this.domEl}`);e==null||e.removeEventListener(Ye.QueryParamUpdated,this.updateUrl),super.disconnectedCallback()}updateUrl(){this.shareUrl=window.location.href}willUpdate(){KU(this,null,function*(){yield this.updateComplete,this.dispatchEvent(new CustomEvent("resize"))})}render(){return Mi`
    <div class="pointscene-header${this.isCollapsed?"":" pointscene-header-expanded"}" @click=${this.toggleCollapsed}>
        <div class="pointscene-header-icon">
          <pointscene-icon icon="share" width="18px" height="18px"></pointscene-icon>
        </div>
        <div class="pointscene-header-title">
          Share
        </div>
        <div class="pointscene-header-toggle">
          ${this.isCollapsed?"+":"-"}
        </div>
      </div>
      ${this.isCollapsed?"":Mi`
      <div class="pointscene-expanded-content">
        <div class="share-field">
          <input class="share-input" value="${this.shareUrl}" type="text" id="pointscene-share-field" style="border-radius: 4px; border: 1px solid #365379; width: 80%;">
          <div @click=${this.handleCopy} class="share-icon" style="${this.expanded?"left: 75%;":""}">
            <pointscene-icon icon="copy"></pointscene-icon>${this.expanded?Mi`<span style="position: relative; top: -4px;">COPY</span>`:""}
          </div>
        </div>
        <div style="padding-left: 10px; padding-top: 10px;">
          <a href="https://api.whatsapp.com/send/?text=${encodeURIComponent(this.shareUrl)}&type=custom_url&app_absent=0" target="_blank" class="share-link whatsapp-share-link" @click=${this.whatsAppShare}>WhatsApp</a>
          <a href="mailto:?subject=New Pointscene viewer link&amp;body=${encodeURIComponent(this.shareUrl)}" target="_blank" class="share-link email-share-link" @click=${this.emailShare}>Email</a>
        </div>
      </div>
      `}
      `}emailShare(){Ki.trackEvent(ji.ShareEmail)}whatsAppShare(){Ki.trackEvent(ji.ShareWhatsApp)}handleCopy(){navigator.clipboard||alert("Failed to copy to clipboard. Please copy the URL from the address bar."),navigator.clipboard.writeText(this.shareUrl).then(()=>alert("Copied to clipboard")),Ki.trackEvent(ji.ShareCopy)}toggleCollapsed(){this.isCollapsed=!this.isCollapsed}};fl.styles=[Oh,Dh,CH,fr],Eu([ki()],fl.prototype,"isCollapsed",2),Eu([ki()],fl.prototype,"shareUrl",2),Eu([Ot({type:Boolean})],fl.prototype,"expanded",2),Eu([Ot({type:String})],fl.prototype,"domEl",2),fl=Eu([Jn("pointscene-share")],fl);var ZU=Object.defineProperty,HU=Object.getOwnPropertyDescriptor,Qn=(e,i,t,s)=>{for(var n=s>1?void 0:s?HU(i,t):i,r=e.length-1,o;r>=0;r--)(o=e[r])&&(n=(s?o(i,t,n):o(n))||n);return s&&n&&ZU(i,t,n),n};let vn=class extends js{constructor(){super();this.controls=!1,this.measure=!1,this.spherical=!1,this.layers=!1,this.pointcloud=!1,this.share=!1,this.domEl="",this.sphericalViewIsActive=!1,this.depthEnabled=!1,this.expanded=!1,this.menuIsOpen=!1,this.lastTouchTimestamp=Date.now(),this.events=new as,this.handleEnterSphereMode=this.handleEnterSphereMode.bind(this),this.handleExitSphereMode=this.handleExitSphereMode.bind(this),this.handleDepthEnabled=this.handleDepthEnabled.bind(this),this.handlePointerEnter=this.handlePointerEnter.bind(this),this.handlePointerExit=this.handlePointerExit.bind(this),this.handleResize=this.handleResize.bind(this),this.handleTouchMove=this.handleTouchMove.bind(this)}connectedCallback(){super.connectedCallback();const e=document.querySelector(`#${this.domEl}`);e==null||e.addEventListener(Ye.EnterSphereMode,this.handleEnterSphereMode),e==null||e.addEventListener(Ye.ExitSphereMode,this.handleExitSphereMode),e==null||e.addEventListener(Ye.DepthEnabled,this.handleDepthEnabled);const i=document.querySelector(`#${this.domEl}`);this.offsetWidth===i.offsetWidth||(this.menuIsOpen=!0),this.addEventListener("pointerenter",this.handlePointerEnter),this.addEventListener("pointerleave",this.handlePointerExit),window.addEventListener("resize",this.handleResize),this.className=yI.UiContainerId}disconnectedCallback(){const e=document.querySelector(`#${this.domEl}`);e==null||e.removeEventListener(Ye.EnterSphereMode,this.handleEnterSphereMode),e==null||e.removeEventListener(Ye.ExitSphereMode,this.handleExitSphereMode),e==null||e.removeEventListener(Ye.DepthEnabled,this.handleDepthEnabled),window.removeEventListener("resize",this.handleResize),this.removeEventListener("pointerenter",this.handlePointerEnter),this.removeEventListener("pointerleave",this.handlePointerExit),super.disconnectedCallback()}updated(){this.handleResize()}render(){const e=document.querySelector(`#${this.domEl}`),i=this.offsetWidth===e.offsetWidth;return this.menuIsOpen?(i?this.style.maxHeight="50vh":this.style.maxHeight="80vh",this.style.overflowY="scroll"):(i?this.style.maxHeight=`${Ie.large.baseSize*3}px`:this.style.maxHeight=`${Ie.small.baseSize*3}px`,this.style.overflowY="hidden",this.scrollTop=0),Mi`
        <div id="show-ui-container"
          style="${this.menuIsOpen?"visibility: hidden; opacity: 0; height: 0px;":`overflow: hidden; visibility: visible; opacity 0.9; height: ${i?Ie.large.baseSize*2.5:Ie.small.baseSize*2}px`}">
          <pointscene-button
            ?disabled=${!1}
            ?active=${!1}
            @click=${this.handleMaximize}
            icon="menu"
            iconCancel="cancel"
            label="Menu"
            buttonStyle="top: 0px;"
          ></pointscene-button>
        </div>

        <div id="hide-ui-container" style="${this.menuIsOpen?"visibility: visible; opacity 0.9;":"visibility: hidden; opacity: 0; height: 0px;"}">
          <pointscene-button
            ?disabled=${!1}
            ?active=${!1}
            @click=${this.handleMinimize}
            icon="minimize_up"
            iconCancel="cancel"
            label="Hide menu"
            buttonStyle="background-color: #dadada; border-radius: 0px; top: 0px;"
          ></pointscene-button>
        </div>

        ${this.sphericalViewIsActive&&this.menuIsOpen?Mi`
        <div id="exit-photo">
          <pointscene-button
            ?disabled=${!1}
            ?active=${!0}
            @click=${this.exitPhotoMode}
            icon="menu"
            iconCancel="cancel"
            label="Exit 360"
            buttonStyle="background-color: #dadada; top: 0px;"
          ></pointscene-button>
        </div>
        `:""}

        <div @touchmove=${this.handleTouchMove} style="${this.menuIsOpen?"visibility: visible; opacity 0.9;":"visibility: hidden; opacity: 0; height: 0px;"}">
          ${this.layers?Mi`<pointscene-layers @resize=${this.handleResize} domel=${this.domEl} ?expanded=${this.expanded}></pointscene-layers>`:""}
          ${this.controls?Mi`<pointscene-controls @resize=${this.handleResize} ?spherical=${this.sphericalViewIsActive} domel=${this.domEl}></pointscene-controls>`:""}
          ${this.measure?Mi`<pointscene-tools @resize=${this.handleResize} domel=${this.domEl}></pointscene-measure>`:""}
          ${this.pointcloud?Mi`<pointscene-pointcloud @resize=${this.handleResize} domel=${this.domEl}></pointscene-pointcloud>`:""}
          ${this.spherical?Mi`<pointscene-spherical @resize=${this.handleResize} domel=${this.domEl} ?depthenabled=${this.depthEnabled}></pointscene-spherical`:""}
          ${this.share?Mi`<pointscene-share @resize=${this.handleResize} domel=${this.domEl} ?expanded=${this.expanded}></pointscene-share>`:""}
        </div>
    `}handleTouchMove(e){Date.now()-this.lastTouchTimestamp>100&&(this.lastTouch=void 0);const i=e.changedTouches[0];this.lastTouch&&e.target&&(this.scrollTop-=i.clientY-this.lastTouch.clientY),this.lastTouch=i,this.lastTouchTimestamp=Date.now()}handleResize(){const e=this.renderRoot.querySelector("#hide-ui-container"),i=document.querySelector(`#${this.domEl}`);if(!e||!i)return;let s=this.offsetWidth===i.offsetWidth?-6:10-4;this.offsetHeight+s,setTimeout(()=>{},210)}handleMinimize(){this.menuIsOpen=!1}handleMaximize(){this.menuIsOpen=!0}handlePointerEnter(){const e=document.querySelector(`#${this.domEl}`);!e||new as().dispatch(Ye.DisableControls,{},e)}handlePointerExit(){const e=document.querySelector(`#${this.domEl}`);!e||new as().dispatch(Ye.EnableControls,{},e)}handleExpandToggle(){this.expanded=!this.expanded,this.style.width=this.expanded?"38vw":"19vw",Ki.trackEvent(ji.ToggleExpand,{value:this.expanded})}handleDepthEnabled(e){this.depthEnabled=e.detail.value}dispatch(e,i){const t=document.querySelector(`#${this.domEl}`);!t||this.events.dispatch(e,i,t)}exitPhotoMode(){this.dispatch(Ye.ExitSphereMode,{}),this.dispatch(Ye.SetPhotoPeekMode,{value:!1}),this.dispatch(Ye.SetPhotoBackgroundMode,{value:!1})}handleEnterSphereMode(){this.sphericalViewIsActive=!0,Ki.trackEvent(ji.EnterSphereMode)}handleExitSphereMode(){this.sphericalViewIsActive=!1}};vn.styles=[gH,IH,LH,bH,TI,fr],Qn([Ot({type:Boolean})],vn.prototype,"controls",2),Qn([Ot({type:Boolean})],vn.prototype,"measure",2),Qn([Ot({type:Boolean})],vn.prototype,"spherical",2),Qn([Ot({type:Boolean})],vn.prototype,"layers",2),Qn([Ot({type:Boolean})],vn.prototype,"pointcloud",2),Qn([Ot({type:Boolean})],vn.prototype,"share",2),Qn([Ot({type:String})],vn.prototype,"domEl",2),Qn([ki()],vn.prototype,"sphericalViewIsActive",2),Qn([ki()],vn.prototype,"depthEnabled",2),Qn([ki()],vn.prototype,"expanded",2),Qn([ki()],vn.prototype,"menuIsOpen",2),vn=Qn([Jn("pointscene-js-ui")],vn);var f1=ru("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwp2YXIgd29ya2VyX2NvZGU9ZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIEdzPShGcyxpdCk9PigpPT4oaXR8fEZzKChpdD17ZXhwb3J0czp7fX0pLmV4cG9ydHMsaXQpLGl0LmV4cG9ydHMpLEJzPUdzKEk9PntmdW5jdGlvbiBpdCh0KXt0KCJFUFNHOjQzMjYiLCIrdGl0bGU9V0dTIDg0IChsb25nL2xhdCkgK3Byb2o9bG9uZ2xhdCArZWxscHM9V0dTODQgK2RhdHVtPVdHUzg0ICt1bml0cz1kZWdyZWVzIiksdCgiRVBTRzo0MjY5IiwiK3RpdGxlPU5BRDgzIChsb25nL2xhdCkgK3Byb2o9bG9uZ2xhdCArYT02Mzc4MTM3LjAgK2I9NjM1Njc1Mi4zMTQxNDAzNiArZWxscHM9R1JTODAgK2RhdHVtPU5BRDgzICt1bml0cz1kZWdyZWVzIiksdCgiRVBTRzozODU3IiwiK3RpdGxlPVdHUyA4NCAvIFBzZXVkby1NZXJjYXRvciArcHJvaj1tZXJjICthPTYzNzgxMzcgK2I9NjM3ODEzNyArbGF0X3RzPTAuMCArbG9uXzA9MC4wICt4XzA9MC4wICt5XzA9MCAraz0xLjAgK3VuaXRzPW0gK25hZGdyaWRzPUBudWxsICtub19kZWZzIiksdC5XR1M4ND10WyJFUFNHOjQzMjYiXSx0WyJFUFNHOjM3ODUiXT10WyJFUFNHOjM4NTciXSx0LkdPT0dMRT10WyJFUFNHOjM4NTciXSx0WyJFUFNHOjkwMDkxMyJdPXRbIkVQU0c6Mzg1NyJdLHRbIkVQU0c6MTAyMTEzIl09dFsiRVBTRzozODU3Il19dmFyICQ9MSx0dD0yLEV0PTMsRHM9NCx6dD01LFp0PTYzNzgxMzcsVXM9NjM1Njc1MjMxNGUtMyxZdD0uMDA2Njk0Mzc5OTkwMTQxMzE2NSxmdD00ODQ4MTM2ODExMDk1MzZlLTIwLHA9TWF0aC5QSS8yLFFzPS4xNjY2NjY2NjY2NjY2NjY2NixXcz0uMDQ3MjIyMjIyMjIyMjIyMjIsSHM9LjAyMjE1NjA4NDY1NjA4NDY1NSxfPTFlLTEwLHE9LjAxNzQ1MzI5MjUxOTk0MzI5NSxRPTU3LjI5NTc3OTUxMzA4MjMyLEE9TWF0aC5QSS80LGR0PU1hdGguUEkqMixrPTMuMTQxNTkyNjUzNTksRz17fTtHLmdyZWVud2ljaD0wLEcubGlzYm9uPS05LjEzMTkwNjExMTExMSxHLnBhcmlzPTIuMzM3MjI5MTY2NjY3LEcuYm9nb3RhPS03NC4wODA5MTY2NjY2NjcsRy5tYWRyaWQ9LTMuNjg3OTM4ODg4ODg5LEcucm9tZT0xMi40NTIzMzMzMzMzMzMsRy5iZXJuPTcuNDM5NTgzMzMzMzMzLEcuamFrYXJ0YT0xMDYuODA3NzE5NDQ0NDQ0LEcuZmVycm89LTE3LjY2NjY2NjY2NjY2NyxHLmJydXNzZWxzPTQuMzY3OTc1LEcuc3RvY2tob2xtPTE4LjA1ODI3Nzc3Nzc3OCxHLmF0aGVucz0yMy43MTYzMzc1LEcub3Nsbz0xMC43MjI5MTY2NjY2Njc7dmFyIFhzPXtmdDp7dG9fbWV0ZXI6LjMwNDh9LCJ1cy1mdCI6e3RvX21ldGVyOjEyMDAvMzkzN319LCR0PS9bXHNfXC1cL1woXCldL2c7ZnVuY3Rpb24gVih0LHMpe2lmKHRbc10pcmV0dXJuIHRbc107Zm9yKHZhciBhPU9iamVjdC5rZXlzKHQpLGg9cy50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJHQsIiIpLGk9LTEscixuOysraTxhLmxlbmd0aDspaWYocj1hW2ldLG49ci50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJHQsIiIpLG49PT1oKXJldHVybiB0W3JdfWZ1bmN0aW9uIEZ0KHQpe3ZhciBzPXt9LGE9dC5zcGxpdCgiKyIpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmltKCl9KS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KS5yZWR1Y2UoZnVuY3Rpb24oZSxvKXt2YXIgbD1vLnNwbGl0KCI9Iik7cmV0dXJuIGwucHVzaCghMCksZVtsWzBdLnRvTG93ZXJDYXNlKCldPWxbMV0sZX0se30pLGgsaSxyLG49e3Byb2o6InByb2pOYW1lIixkYXR1bToiZGF0dW1Db2RlIixyZjpmdW5jdGlvbihlKXtzLnJmPXBhcnNlRmxvYXQoZSl9LGxhdF8wOmZ1bmN0aW9uKGUpe3MubGF0MD1lKnF9LGxhdF8xOmZ1bmN0aW9uKGUpe3MubGF0MT1lKnF9LGxhdF8yOmZ1bmN0aW9uKGUpe3MubGF0Mj1lKnF9LGxhdF90czpmdW5jdGlvbihlKXtzLmxhdF90cz1lKnF9LGxvbl8wOmZ1bmN0aW9uKGUpe3MubG9uZzA9ZSpxfSxsb25fMTpmdW5jdGlvbihlKXtzLmxvbmcxPWUqcX0sbG9uXzI6ZnVuY3Rpb24oZSl7cy5sb25nMj1lKnF9LGFscGhhOmZ1bmN0aW9uKGUpe3MuYWxwaGE9cGFyc2VGbG9hdChlKSpxfSxnYW1tYTpmdW5jdGlvbihlKXtzLnJlY3RpZmllZF9ncmlkX2FuZ2xlPXBhcnNlRmxvYXQoZSl9LGxvbmM6ZnVuY3Rpb24oZSl7cy5sb25nYz1lKnF9LHhfMDpmdW5jdGlvbihlKXtzLngwPXBhcnNlRmxvYXQoZSl9LHlfMDpmdW5jdGlvbihlKXtzLnkwPXBhcnNlRmxvYXQoZSl9LGtfMDpmdW5jdGlvbihlKXtzLmswPXBhcnNlRmxvYXQoZSl9LGs6ZnVuY3Rpb24oZSl7cy5rMD1wYXJzZUZsb2F0KGUpfSxhOmZ1bmN0aW9uKGUpe3MuYT1wYXJzZUZsb2F0KGUpfSxiOmZ1bmN0aW9uKGUpe3MuYj1wYXJzZUZsb2F0KGUpfSxyX2E6ZnVuY3Rpb24oKXtzLlJfQT0hMH0sem9uZTpmdW5jdGlvbihlKXtzLnpvbmU9cGFyc2VJbnQoZSwxMCl9LHNvdXRoOmZ1bmN0aW9uKCl7cy51dG1Tb3V0aD0hMH0sdG93Z3M4NDpmdW5jdGlvbihlKXtzLmRhdHVtX3BhcmFtcz1lLnNwbGl0KCIsIikubWFwKGZ1bmN0aW9uKG8pe3JldHVybiBwYXJzZUZsb2F0KG8pfSl9LHRvX21ldGVyOmZ1bmN0aW9uKGUpe3MudG9fbWV0ZXI9cGFyc2VGbG9hdChlKX0sdW5pdHM6ZnVuY3Rpb24oZSl7cy51bml0cz1lO3ZhciBvPVYoWHMsZSk7byYmKHMudG9fbWV0ZXI9by50b19tZXRlcil9LGZyb21fZ3JlZW53aWNoOmZ1bmN0aW9uKGUpe3MuZnJvbV9ncmVlbndpY2g9ZSpxfSxwbTpmdW5jdGlvbihlKXt2YXIgbz1WKEcsZSk7cy5mcm9tX2dyZWVud2ljaD0ob3x8cGFyc2VGbG9hdChlKSkqcX0sbmFkZ3JpZHM6ZnVuY3Rpb24oZSl7ZT09PSJAbnVsbCI/cy5kYXR1bUNvZGU9Im5vbmUiOnMubmFkZ3JpZHM9ZX0sYXhpczpmdW5jdGlvbihlKXt2YXIgbz0iZXduc3VkIjtlLmxlbmd0aD09PTMmJm8uaW5kZXhPZihlLnN1YnN0cigwLDEpKSE9PS0xJiZvLmluZGV4T2YoZS5zdWJzdHIoMSwxKSkhPT0tMSYmby5pbmRleE9mKGUuc3Vic3RyKDIsMSkpIT09LTEmJihzLmF4aXM9ZSl9LGFwcHJveDpmdW5jdGlvbigpe3MuYXBwcm94PSEwfX07Zm9yKGggaW4gYSlpPWFbaF0saCBpbiBuPyhyPW5baF0sdHlwZW9mIHI9PSJmdW5jdGlvbiI/cihpKTpzW3JdPWkpOnNbaF09aTtyZXR1cm4gdHlwZW9mIHMuZGF0dW1Db2RlPT0ic3RyaW5nIiYmcy5kYXR1bUNvZGUhPT0iV0dTODQiJiYocy5kYXR1bUNvZGU9cy5kYXR1bUNvZGUudG9Mb3dlckNhc2UoKSksc312YXIgcHQ9MSx0cz0yLHNzPTMsQ3Q9NCxhcz01LER0PS0xLEpzPS9ccy8sS3M9L1tBLVphLXpdLyxWcz0vW0EtWmEtejg0X10vLFB0PS9bLFxdXS8saXM9L1tcZFwuRVwtXCtdLztmdW5jdGlvbiBKKHQpe2lmKHR5cGVvZiB0IT0ic3RyaW5nIil0aHJvdyBuZXcgRXJyb3IoIm5vdCBhIHN0cmluZyIpO3RoaXMudGV4dD10LnRyaW0oKSx0aGlzLmxldmVsPTAsdGhpcy5wbGFjZT0wLHRoaXMucm9vdD1udWxsLHRoaXMuc3RhY2s9W10sdGhpcy5jdXJyZW50T2JqZWN0PW51bGwsdGhpcy5zdGF0ZT1wdH1KLnByb3RvdHlwZS5yZWFkQ2hhcmljdGVyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy50ZXh0W3RoaXMucGxhY2UrK107aWYodGhpcy5zdGF0ZSE9PUN0KWZvcig7SnMudGVzdCh0KTspe2lmKHRoaXMucGxhY2U+PXRoaXMudGV4dC5sZW5ndGgpcmV0dXJuO3Q9dGhpcy50ZXh0W3RoaXMucGxhY2UrK119c3dpdGNoKHRoaXMuc3RhdGUpe2Nhc2UgcHQ6cmV0dXJuIHRoaXMubmV1dHJhbCh0KTtjYXNlIHRzOnJldHVybiB0aGlzLmtleXdvcmQodCk7Y2FzZSBDdDpyZXR1cm4gdGhpcy5xdW90ZWQodCk7Y2FzZSBhczpyZXR1cm4gdGhpcy5hZnRlcnF1b3RlKHQpO2Nhc2Ugc3M6cmV0dXJuIHRoaXMubnVtYmVyKHQpO2Nhc2UgRHQ6cmV0dXJufX0sSi5wcm90b3R5cGUuYWZ0ZXJxdW90ZT1mdW5jdGlvbih0KXtpZih0PT09JyInKXt0aGlzLndvcmQrPSciJyx0aGlzLnN0YXRlPUN0O3JldHVybn1pZihQdC50ZXN0KHQpKXt0aGlzLndvcmQ9dGhpcy53b3JkLnRyaW0oKSx0aGlzLmFmdGVySXRlbSh0KTtyZXR1cm59dGhyb3cgbmV3IEVycm9yKGBoYXZuJ3QgaGFuZGxlZCAiYCt0KyciIGluIGFmdGVycXVvdGUgeWV0LCBpbmRleCAnK3RoaXMucGxhY2UpfSxKLnByb3RvdHlwZS5hZnRlckl0ZW09ZnVuY3Rpb24odCl7aWYodD09PSIsIil7dGhpcy53b3JkIT09bnVsbCYmdGhpcy5jdXJyZW50T2JqZWN0LnB1c2godGhpcy53b3JkKSx0aGlzLndvcmQ9bnVsbCx0aGlzLnN0YXRlPXB0O3JldHVybn1pZih0PT09Il0iKXt0aGlzLmxldmVsLS0sdGhpcy53b3JkIT09bnVsbCYmKHRoaXMuY3VycmVudE9iamVjdC5wdXNoKHRoaXMud29yZCksdGhpcy53b3JkPW51bGwpLHRoaXMuc3RhdGU9cHQsdGhpcy5jdXJyZW50T2JqZWN0PXRoaXMuc3RhY2sucG9wKCksdGhpcy5jdXJyZW50T2JqZWN0fHwodGhpcy5zdGF0ZT1EdCk7cmV0dXJufX0sSi5wcm90b3R5cGUubnVtYmVyPWZ1bmN0aW9uKHQpe2lmKGlzLnRlc3QodCkpe3RoaXMud29yZCs9dDtyZXR1cm59aWYoUHQudGVzdCh0KSl7dGhpcy53b3JkPXBhcnNlRmxvYXQodGhpcy53b3JkKSx0aGlzLmFmdGVySXRlbSh0KTtyZXR1cm59dGhyb3cgbmV3IEVycm9yKGBoYXZuJ3QgaGFuZGxlZCAiYCt0KyciIGluIG51bWJlciB5ZXQsIGluZGV4ICcrdGhpcy5wbGFjZSl9LEoucHJvdG90eXBlLnF1b3RlZD1mdW5jdGlvbih0KXtpZih0PT09JyInKXt0aGlzLnN0YXRlPWFzO3JldHVybn10aGlzLndvcmQrPXR9LEoucHJvdG90eXBlLmtleXdvcmQ9ZnVuY3Rpb24odCl7aWYoVnMudGVzdCh0KSl7dGhpcy53b3JkKz10O3JldHVybn1pZih0PT09IlsiKXt2YXIgcz1bXTtzLnB1c2godGhpcy53b3JkKSx0aGlzLmxldmVsKyssdGhpcy5yb290PT09bnVsbD90aGlzLnJvb3Q9czp0aGlzLmN1cnJlbnRPYmplY3QucHVzaChzKSx0aGlzLnN0YWNrLnB1c2godGhpcy5jdXJyZW50T2JqZWN0KSx0aGlzLmN1cnJlbnRPYmplY3Q9cyx0aGlzLnN0YXRlPXB0O3JldHVybn1pZihQdC50ZXN0KHQpKXt0aGlzLmFmdGVySXRlbSh0KTtyZXR1cm59dGhyb3cgbmV3IEVycm9yKGBoYXZuJ3QgaGFuZGxlZCAiYCt0KyciIGluIGtleXdvcmQgeWV0LCBpbmRleCAnK3RoaXMucGxhY2UpfSxKLnByb3RvdHlwZS5uZXV0cmFsPWZ1bmN0aW9uKHQpe2lmKEtzLnRlc3QodCkpe3RoaXMud29yZD10LHRoaXMuc3RhdGU9dHM7cmV0dXJufWlmKHQ9PT0nIicpe3RoaXMud29yZD0iIix0aGlzLnN0YXRlPUN0O3JldHVybn1pZihpcy50ZXN0KHQpKXt0aGlzLndvcmQ9dCx0aGlzLnN0YXRlPXNzO3JldHVybn1pZihQdC50ZXN0KHQpKXt0aGlzLmFmdGVySXRlbSh0KTtyZXR1cm59dGhyb3cgbmV3IEVycm9yKGBoYXZuJ3QgaGFuZGxlZCAiYCt0KyciIGluIG5ldXRyYWwgeWV0LCBpbmRleCAnK3RoaXMucGxhY2UpfSxKLnByb3RvdHlwZS5vdXRwdXQ9ZnVuY3Rpb24oKXtmb3IoO3RoaXMucGxhY2U8dGhpcy50ZXh0Lmxlbmd0aDspdGhpcy5yZWFkQ2hhcmljdGVyKCk7aWYodGhpcy5zdGF0ZT09PUR0KXJldHVybiB0aGlzLnJvb3Q7dGhyb3cgbmV3IEVycm9yKCd1bmFibGUgdG8gcGFyc2Ugc3RyaW5nICInK3RoaXMudGV4dCsnIi4gU3RhdGUgaXMgJyt0aGlzLnN0YXRlKX07ZnVuY3Rpb24gWnModCl7dmFyIHM9bmV3IEoodCk7cmV0dXJuIHMub3V0cHV0KCl9ZnVuY3Rpb24gaHModCxzLGEpe0FycmF5LmlzQXJyYXkocykmJihhLnVuc2hpZnQocykscz1udWxsKTt2YXIgaD1zP3t9OnQsaT1hLnJlZHVjZShmdW5jdGlvbihyLG4pe3JldHVybiBodChuLHIpLHJ9LGgpO3MmJih0W3NdPWkpfWZ1bmN0aW9uIGh0KHQscyl7aWYoIUFycmF5LmlzQXJyYXkodCkpe3NbdF09ITA7cmV0dXJufXZhciBhPXQuc2hpZnQoKTtpZihhPT09IlBBUkFNRVRFUiImJihhPXQuc2hpZnQoKSksdC5sZW5ndGg9PT0xKXtpZihBcnJheS5pc0FycmF5KHRbMF0pKXtzW2FdPXt9LGh0KHRbMF0sc1thXSk7cmV0dXJufXNbYV09dFswXTtyZXR1cm59aWYoIXQubGVuZ3RoKXtzW2FdPSEwO3JldHVybn1pZihhPT09IlRPV0dTODQiKXtzW2FdPXQ7cmV0dXJufWlmKGE9PT0iQVhJUyIpe2EgaW4gc3x8KHNbYV09W10pLHNbYV0ucHVzaCh0KTtyZXR1cm59QXJyYXkuaXNBcnJheShhKXx8KHNbYV09e30pO3ZhciBoO3N3aXRjaChhKXtjYXNlIlVOSVQiOmNhc2UiUFJJTUVNIjpjYXNlIlZFUlRfREFUVU0iOnNbYV09e25hbWU6dFswXS50b0xvd2VyQ2FzZSgpLGNvbnZlcnQ6dFsxXX0sdC5sZW5ndGg9PT0zJiZodCh0WzJdLHNbYV0pO3JldHVybjtjYXNlIlNQSEVST0lEIjpjYXNlIkVMTElQU09JRCI6c1thXT17bmFtZTp0WzBdLGE6dFsxXSxyZjp0WzJdfSx0Lmxlbmd0aD09PTQmJmh0KHRbM10sc1thXSk7cmV0dXJuO2Nhc2UiUFJPSkVDVEVEQ1JTIjpjYXNlIlBST0pDUlMiOmNhc2UiR0VPR0NTIjpjYXNlIkdFT0NDUyI6Y2FzZSJQUk9KQ1MiOmNhc2UiTE9DQUxfQ1MiOmNhc2UiR0VPRENSUyI6Y2FzZSJHRU9ERVRJQ0NSUyI6Y2FzZSJHRU9ERVRJQ0RBVFVNIjpjYXNlIkVEQVRVTSI6Y2FzZSJFTkdJTkVFUklOR0RBVFVNIjpjYXNlIlZFUlRfQ1MiOmNhc2UiVkVSVENSUyI6Y2FzZSJWRVJUSUNBTENSUyI6Y2FzZSJDT01QRF9DUyI6Y2FzZSJDT01QT1VORENSUyI6Y2FzZSJFTkdJTkVFUklOR0NSUyI6Y2FzZSJFTkdDUlMiOmNhc2UiRklUVEVEX0NTIjpjYXNlIkxPQ0FMX0RBVFVNIjpjYXNlIkRBVFVNIjp0WzBdPVsibmFtZSIsdFswXV0saHMocyxhLHQpO3JldHVybjtkZWZhdWx0OmZvcihoPS0xOysraDx0Lmxlbmd0aDspaWYoIUFycmF5LmlzQXJyYXkodFtoXSkpcmV0dXJuIGh0KHQsc1thXSk7cmV0dXJuIGhzKHMsYSx0KX19dmFyIFlzPS4wMTc0NTMyOTI1MTk5NDMyOTU7ZnVuY3Rpb24gJHModCxzKXt2YXIgYT1zWzBdLGg9c1sxXTshKGEgaW4gdCkmJmggaW4gdCYmKHRbYV09dFtoXSxzLmxlbmd0aD09PTMmJih0W2FdPXNbMl0odFthXSkpKX1mdW5jdGlvbiBLKHQpe3JldHVybiB0KllzfWZ1bmN0aW9uIHRhKHQpe2lmKHQudHlwZT09PSJHRU9HQ1MiP3QucHJvak5hbWU9ImxvbmdsYXQiOnQudHlwZT09PSJMT0NBTF9DUyI/KHQucHJvak5hbWU9ImlkZW50aXR5Iix0LmxvY2FsPSEwKTp0eXBlb2YgdC5QUk9KRUNUSU9OPT0ib2JqZWN0Ij90LnByb2pOYW1lPU9iamVjdC5rZXlzKHQuUFJPSkVDVElPTilbMF06dC5wcm9qTmFtZT10LlBST0pFQ1RJT04sdC5BWElTKXtmb3IodmFyIHM9IiIsYT0wLGg9dC5BWElTLmxlbmd0aDthPGg7KythKXt2YXIgaT1bdC5BWElTW2FdWzBdLnRvTG93ZXJDYXNlKCksdC5BWElTW2FdWzFdLnRvTG93ZXJDYXNlKCldO2lbMF0uaW5kZXhPZigibm9ydGgiKSE9PS0xfHwoaVswXT09PSJ5Inx8aVswXT09PSJsYXQiKSYmaVsxXT09PSJub3J0aCI/cys9Im4iOmlbMF0uaW5kZXhPZigic291dGgiKSE9PS0xfHwoaVswXT09PSJ5Inx8aVswXT09PSJsYXQiKSYmaVsxXT09PSJzb3V0aCI/cys9InMiOmlbMF0uaW5kZXhPZigiZWFzdCIpIT09LTF8fChpWzBdPT09IngifHxpWzBdPT09ImxvbiIpJiZpWzFdPT09ImVhc3QiP3MrPSJlIjooaVswXS5pbmRleE9mKCJ3ZXN0IikhPT0tMXx8KGlbMF09PT0ieCJ8fGlbMF09PT0ibG9uIikmJmlbMV09PT0id2VzdCIpJiYocys9InciKX1zLmxlbmd0aD09PTImJihzKz0idSIpLHMubGVuZ3RoPT09MyYmKHQuYXhpcz1zKX10LlVOSVQmJih0LnVuaXRzPXQuVU5JVC5uYW1lLnRvTG93ZXJDYXNlKCksdC51bml0cz09PSJtZXRyZSImJih0LnVuaXRzPSJtZXRlciIpLHQuVU5JVC5jb252ZXJ0JiYodC50eXBlPT09IkdFT0dDUyI/dC5EQVRVTSYmdC5EQVRVTS5TUEhFUk9JRCYmKHQudG9fbWV0ZXI9dC5VTklULmNvbnZlcnQqdC5EQVRVTS5TUEhFUk9JRC5hKTp0LnRvX21ldGVyPXQuVU5JVC5jb252ZXJ0KSk7dmFyIHI9dC5HRU9HQ1M7dC50eXBlPT09IkdFT0dDUyImJihyPXQpLHImJihyLkRBVFVNP3QuZGF0dW1Db2RlPXIuREFUVU0ubmFtZS50b0xvd2VyQ2FzZSgpOnQuZGF0dW1Db2RlPXIubmFtZS50b0xvd2VyQ2FzZSgpLHQuZGF0dW1Db2RlLnNsaWNlKDAsMik9PT0iZF8iJiYodC5kYXR1bUNvZGU9dC5kYXR1bUNvZGUuc2xpY2UoMikpLCh0LmRhdHVtQ29kZT09PSJuZXdfemVhbGFuZF9nZW9kZXRpY19kYXR1bV8xOTQ5Inx8dC5kYXR1bUNvZGU9PT0ibmV3X3plYWxhbmRfMTk0OSIpJiYodC5kYXR1bUNvZGU9Im56Z2Q0OSIpLCh0LmRhdHVtQ29kZT09PSJ3Z3NfMTk4NCJ8fHQuZGF0dW1Db2RlPT09IndvcmxkX2dlb2RldGljX3N5c3RlbV8xOTg0IikmJih0LlBST0pFQ1RJT049PT0iTWVyY2F0b3JfQXV4aWxpYXJ5X1NwaGVyZSImJih0LnNwaGVyZT0hMCksdC5kYXR1bUNvZGU9Indnczg0IiksdC5kYXR1bUNvZGUuc2xpY2UoLTYpPT09Il9mZXJybyImJih0LmRhdHVtQ29kZT10LmRhdHVtQ29kZS5zbGljZSgwLC02KSksdC5kYXR1bUNvZGUuc2xpY2UoLTgpPT09Il9qYWthcnRhIiYmKHQuZGF0dW1Db2RlPXQuZGF0dW1Db2RlLnNsaWNlKDAsLTgpKSx+dC5kYXR1bUNvZGUuaW5kZXhPZigiYmVsZ2UiKSYmKHQuZGF0dW1Db2RlPSJybmI3MiIpLHIuREFUVU0mJnIuREFUVU0uU1BIRVJPSUQmJih0LmVsbHBzPXIuREFUVU0uU1BIRVJPSUQubmFtZS5yZXBsYWNlKCJfMTkiLCIiKS5yZXBsYWNlKC9bQ2NdbGFya2VcXzE4LywiY2xyayIpLHQuZWxscHMudG9Mb3dlckNhc2UoKS5zbGljZSgwLDEzKT09PSJpbnRlcm5hdGlvbmFsIiYmKHQuZWxscHM9ImludGwiKSx0LmE9ci5EQVRVTS5TUEhFUk9JRC5hLHQucmY9cGFyc2VGbG9hdChyLkRBVFVNLlNQSEVST0lELnJmLDEwKSksci5EQVRVTSYmci5EQVRVTS5UT1dHUzg0JiYodC5kYXR1bV9wYXJhbXM9ci5EQVRVTS5UT1dHUzg0KSx+dC5kYXR1bUNvZGUuaW5kZXhPZigib3NnYl8xOTM2IikmJih0LmRhdHVtQ29kZT0ib3NnYjM2IiksfnQuZGF0dW1Db2RlLmluZGV4T2YoIm9zbmlfMTk1MiIpJiYodC5kYXR1bUNvZGU9Im9zbmk1MiIpLCh+dC5kYXR1bUNvZGUuaW5kZXhPZigidG02NSIpfHx+dC5kYXR1bUNvZGUuaW5kZXhPZigiZ2VvZGV0aWNfZGF0dW1fb2ZfMTk2NSIpKSYmKHQuZGF0dW1Db2RlPSJpcmU2NSIpLHQuZGF0dW1Db2RlPT09ImNoMTkwMysiJiYodC5kYXR1bUNvZGU9ImNoMTkwMyIpLH50LmRhdHVtQ29kZS5pbmRleE9mKCJpc3JhZWwiKSYmKHQuZGF0dW1Db2RlPSJpc3I5MyIpKSx0LmImJiFpc0Zpbml0ZSh0LmIpJiYodC5iPXQuYSk7ZnVuY3Rpb24gbihsKXt2YXIgYz10LnRvX21ldGVyfHwxO3JldHVybiBsKmN9dmFyIGU9ZnVuY3Rpb24obCl7cmV0dXJuICRzKHQsbCl9LG89W1sic3RhbmRhcmRfcGFyYWxsZWxfMSIsIlN0YW5kYXJkX1BhcmFsbGVsXzEiXSxbInN0YW5kYXJkX3BhcmFsbGVsXzEiLCJMYXRpdHVkZSBvZiAxc3Qgc3RhbmRhcmQgcGFyYWxsZWwiXSxbInN0YW5kYXJkX3BhcmFsbGVsXzIiLCJTdGFuZGFyZF9QYXJhbGxlbF8yIl0sWyJzdGFuZGFyZF9wYXJhbGxlbF8yIiwiTGF0aXR1ZGUgb2YgMm5kIHN0YW5kYXJkIHBhcmFsbGVsIl0sWyJmYWxzZV9lYXN0aW5nIiwiRmFsc2VfRWFzdGluZyJdLFsiZmFsc2VfZWFzdGluZyIsIkZhbHNlIGVhc3RpbmciXSxbImZhbHNlLWVhc3RpbmciLCJFYXN0aW5nIGF0IGZhbHNlIG9yaWdpbiJdLFsiZmFsc2Vfbm9ydGhpbmciLCJGYWxzZV9Ob3J0aGluZyJdLFsiZmFsc2Vfbm9ydGhpbmciLCJGYWxzZSBub3J0aGluZyJdLFsiZmFsc2Vfbm9ydGhpbmciLCJOb3J0aGluZyBhdCBmYWxzZSBvcmlnaW4iXSxbImNlbnRyYWxfbWVyaWRpYW4iLCJDZW50cmFsX01lcmlkaWFuIl0sWyJjZW50cmFsX21lcmlkaWFuIiwiTG9uZ2l0dWRlIG9mIG5hdHVyYWwgb3JpZ2luIl0sWyJjZW50cmFsX21lcmlkaWFuIiwiTG9uZ2l0dWRlIG9mIGZhbHNlIG9yaWdpbiJdLFsibGF0aXR1ZGVfb2Zfb3JpZ2luIiwiTGF0aXR1ZGVfT2ZfT3JpZ2luIl0sWyJsYXRpdHVkZV9vZl9vcmlnaW4iLCJDZW50cmFsX1BhcmFsbGVsIl0sWyJsYXRpdHVkZV9vZl9vcmlnaW4iLCJMYXRpdHVkZSBvZiBuYXR1cmFsIG9yaWdpbiJdLFsibGF0aXR1ZGVfb2Zfb3JpZ2luIiwiTGF0aXR1ZGUgb2YgZmFsc2Ugb3JpZ2luIl0sWyJzY2FsZV9mYWN0b3IiLCJTY2FsZV9GYWN0b3IiXSxbImswIiwic2NhbGVfZmFjdG9yIl0sWyJsYXRpdHVkZV9vZl9jZW50ZXIiLCJMYXRpdHVkZV9PZl9DZW50ZXIiXSxbImxhdGl0dWRlX29mX2NlbnRlciIsIkxhdGl0dWRlX29mX2NlbnRlciJdLFsibGF0MCIsImxhdGl0dWRlX29mX2NlbnRlciIsS10sWyJsb25naXR1ZGVfb2ZfY2VudGVyIiwiTG9uZ2l0dWRlX09mX0NlbnRlciJdLFsibG9uZ2l0dWRlX29mX2NlbnRlciIsIkxvbmdpdHVkZV9vZl9jZW50ZXIiXSxbImxvbmdjIiwibG9uZ2l0dWRlX29mX2NlbnRlciIsS10sWyJ4MCIsImZhbHNlX2Vhc3RpbmciLG5dLFsieTAiLCJmYWxzZV9ub3J0aGluZyIsbl0sWyJsb25nMCIsImNlbnRyYWxfbWVyaWRpYW4iLEtdLFsibGF0MCIsImxhdGl0dWRlX29mX29yaWdpbiIsS10sWyJsYXQwIiwic3RhbmRhcmRfcGFyYWxsZWxfMSIsS10sWyJsYXQxIiwic3RhbmRhcmRfcGFyYWxsZWxfMSIsS10sWyJsYXQyIiwic3RhbmRhcmRfcGFyYWxsZWxfMiIsS10sWyJhemltdXRoIiwiQXppbXV0aCJdLFsiYWxwaGEiLCJhemltdXRoIixLXSxbInNyc0NvZGUiLCJuYW1lIl1dO28uZm9yRWFjaChlKSwhdC5sb25nMCYmdC5sb25nYyYmKHQucHJvak5hbWU9PT0iQWxiZXJzX0NvbmljX0VxdWFsX0FyZWEifHx0LnByb2pOYW1lPT09IkxhbWJlcnRfQXppbXV0aGFsX0VxdWFsX0FyZWEiKSYmKHQubG9uZzA9dC5sb25nYyksIXQubGF0X3RzJiZ0LmxhdDEmJih0LnByb2pOYW1lPT09IlN0ZXJlb2dyYXBoaWNfU291dGhfUG9sZSJ8fHQucHJvak5hbWU9PT0iUG9sYXIgU3RlcmVvZ3JhcGhpYyAodmFyaWFudCBCKSIpJiYodC5sYXQwPUsodC5sYXQxPjA/OTA6LTkwKSx0LmxhdF90cz10LmxhdDEpfWZ1bmN0aW9uIGVzKHQpe3ZhciBzPVpzKHQpLGE9cy5zaGlmdCgpLGg9cy5zaGlmdCgpO3MudW5zaGlmdChbIm5hbWUiLGhdKSxzLnVuc2hpZnQoWyJ0eXBlIixhXSk7dmFyIGk9e307cmV0dXJuIGh0KHMsaSksdGEoaSksaX1mdW5jdGlvbiBUKHQpe3ZhciBzPXRoaXM7aWYoYXJndW1lbnRzLmxlbmd0aD09PTIpe3ZhciBhPWFyZ3VtZW50c1sxXTt0eXBlb2YgYT09InN0cmluZyI/YS5jaGFyQXQoMCk9PT0iKyI/VFt0XT1GdChhcmd1bWVudHNbMV0pOlRbdF09ZXMoYXJndW1lbnRzWzFdKTpUW3RdPWF9ZWxzZSBpZihhcmd1bWVudHMubGVuZ3RoPT09MSl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdC5tYXAoZnVuY3Rpb24oaCl7QXJyYXkuaXNBcnJheShoKT9ULmFwcGx5KHMsaCk6VChoKX0pO2lmKHR5cGVvZiB0PT0ic3RyaW5nIil7aWYodCBpbiBUKXJldHVybiBUW3RdfWVsc2UiRVBTRyJpbiB0P1RbIkVQU0c6Iit0LkVQU0ddPXQ6IkVTUkkiaW4gdD9UWyJFU1JJOiIrdC5FU1JJXT10OiJJQVUyMDAwImluIHQ/VFsiSUFVMjAwMDoiK3QuSUFVMjAwMF09dDpjb25zb2xlLmxvZyh0KTtyZXR1cm59fWl0KFQpO2Z1bmN0aW9uIHNhKHQpe3JldHVybiB0eXBlb2YgdD09InN0cmluZyJ9ZnVuY3Rpb24gYWEodCl7cmV0dXJuIHQgaW4gVH12YXIgaWE9WyJQUk9KRUNURURDUlMiLCJQUk9KQ1JTIiwiR0VPR0NTIiwiR0VPQ0NTIiwiUFJPSkNTIiwiTE9DQUxfQ1MiLCJHRU9EQ1JTIiwiR0VPREVUSUNDUlMiLCJHRU9ERVRJQ0RBVFVNIiwiRU5HQ1JTIiwiRU5HSU5FRVJJTkdDUlMiXTtmdW5jdGlvbiBoYSh0KXtyZXR1cm4gaWEuc29tZShmdW5jdGlvbihzKXtyZXR1cm4gdC5pbmRleE9mKHMpPi0xfSl9dmFyIGVhPVsiMzg1NyIsIjkwMDkxMyIsIjM3ODUiLCIxMDIxMTMiXTtmdW5jdGlvbiByYSh0KXt2YXIgcz1WKHQsImF1dGhvcml0eSIpO2lmKHMpe3ZhciBhPVYocywiZXBzZyIpO3JldHVybiBhJiZlYS5pbmRleE9mKGEpPi0xfX1mdW5jdGlvbiBuYSh0KXt2YXIgcz1WKHQsImV4dGVuc2lvbiIpO2lmKHMpcmV0dXJuIFYocywicHJvajQiKX1mdW5jdGlvbiBvYSh0KXtyZXR1cm4gdFswXT09PSIrIn1mdW5jdGlvbiBsYSh0KXtpZihzYSh0KSl7aWYoYWEodCkpcmV0dXJuIFRbdF07aWYoaGEodCkpe3ZhciBzPWVzKHQpO2lmKHJhKHMpKXJldHVybiBUWyJFUFNHOjM4NTciXTt2YXIgYT1uYShzKTtyZXR1cm4gYT9GdChhKTpzfWlmKG9hKHQpKXJldHVybiBGdCh0KX1lbHNlIHJldHVybiB0fWZ1bmN0aW9uIHJzKHQscyl7dD10fHx7fTt2YXIgYSxoO2lmKCFzKXJldHVybiB0O2ZvcihoIGluIHMpYT1zW2hdLGEhPT12b2lkIDAmJih0W2hdPWEpO3JldHVybiB0fWZ1bmN0aW9uIFcodCxzLGEpe3ZhciBoPXQqcztyZXR1cm4gYS9NYXRoLnNxcnQoMS1oKmgpfWZ1bmN0aW9uIG10KHQpe3JldHVybiB0PDA/LTE6MX1mdW5jdGlvbiB5KHQpe3JldHVybiBNYXRoLmFicyh0KTw9az90OnQtbXQodCkqZHR9ZnVuY3Rpb24gRCh0LHMsYSl7dmFyIGg9dCphLGk9LjUqdDtyZXR1cm4gaD1NYXRoLnBvdygoMS1oKS8oMStoKSxpKSxNYXRoLnRhbiguNSoocC1zKSkvaH1mdW5jdGlvbiBfdCh0LHMpe2Zvcih2YXIgYT0uNSp0LGgsaSxyPXAtMipNYXRoLmF0YW4ocyksbj0wO248PTE1O24rKylpZihoPXQqTWF0aC5zaW4ociksaT1wLTIqTWF0aC5hdGFuKHMqTWF0aC5wb3coKDEtaCkvKDEraCksYSkpLXIscis9aSxNYXRoLmFicyhpKTw9MWUtMTApcmV0dXJuIHI7cmV0dXJuLTk5OTl9ZnVuY3Rpb24gdWEoKXt2YXIgdD10aGlzLmIvdGhpcy5hO3RoaXMuZXM9MS10KnQsIngwImluIHRoaXN8fCh0aGlzLngwPTApLCJ5MCJpbiB0aGlzfHwodGhpcy55MD0wKSx0aGlzLmU9TWF0aC5zcXJ0KHRoaXMuZXMpLHRoaXMubGF0X3RzP3RoaXMuc3BoZXJlP3RoaXMuazA9TWF0aC5jb3ModGhpcy5sYXRfdHMpOnRoaXMuazA9Vyh0aGlzLmUsTWF0aC5zaW4odGhpcy5sYXRfdHMpLE1hdGguY29zKHRoaXMubGF0X3RzKSk6dGhpcy5rMHx8KHRoaXMuaz90aGlzLmswPXRoaXMuazp0aGlzLmswPTEpfWZ1bmN0aW9uIGNhKHQpe3ZhciBzPXQueCxhPXQueTtpZihhKlE+OTAmJmEqUTwtOTAmJnMqUT4xODAmJnMqUTwtMTgwKXJldHVybiBudWxsO3ZhciBoLGk7aWYoTWF0aC5hYnMoTWF0aC5hYnMoYSktcCk8PV8pcmV0dXJuIG51bGw7aWYodGhpcy5zcGhlcmUpaD10aGlzLngwK3RoaXMuYSp0aGlzLmswKnkocy10aGlzLmxvbmcwKSxpPXRoaXMueTArdGhpcy5hKnRoaXMuazAqTWF0aC5sb2coTWF0aC50YW4oQSsuNSphKSk7ZWxzZXt2YXIgcj1NYXRoLnNpbihhKSxuPUQodGhpcy5lLGEscik7aD10aGlzLngwK3RoaXMuYSp0aGlzLmswKnkocy10aGlzLmxvbmcwKSxpPXRoaXMueTAtdGhpcy5hKnRoaXMuazAqTWF0aC5sb2cobil9cmV0dXJuIHQueD1oLHQueT1pLHR9ZnVuY3Rpb24gTWEodCl7dmFyIHM9dC54LXRoaXMueDAsYT10LnktdGhpcy55MCxoLGk7aWYodGhpcy5zcGhlcmUpaT1wLTIqTWF0aC5hdGFuKE1hdGguZXhwKC1hLyh0aGlzLmEqdGhpcy5rMCkpKTtlbHNle3ZhciByPU1hdGguZXhwKC1hLyh0aGlzLmEqdGhpcy5rMCkpO2lmKGk9X3QodGhpcy5lLHIpLGk9PT0tOTk5OSlyZXR1cm4gbnVsbH1yZXR1cm4gaD15KHRoaXMubG9uZzArcy8odGhpcy5hKnRoaXMuazApKSx0Lng9aCx0Lnk9aSx0fXZhciBmYT1bIk1lcmNhdG9yIiwiUG9wdWxhciBWaXN1YWxpc2F0aW9uIFBzZXVkbyBNZXJjYXRvciIsIk1lcmNhdG9yXzFTUCIsIk1lcmNhdG9yX0F1eGlsaWFyeV9TcGhlcmUiLCJtZXJjIl0sZGE9e2luaXQ6dWEsZm9yd2FyZDpjYSxpbnZlcnNlOk1hLG5hbWVzOmZhfTtmdW5jdGlvbiBwYSgpe31mdW5jdGlvbiBucyh0KXtyZXR1cm4gdH12YXIgbWE9WyJsb25nbGF0IiwiaWRlbnRpdHkiXSxfYT17aW5pdDpwYSxmb3J3YXJkOm5zLGludmVyc2U6bnMsbmFtZXM6bWF9LHlhPVtkYSxfYV0sU3Q9e30sT3Q9W107ZnVuY3Rpb24gb3ModCxzKXt2YXIgYT1PdC5sZW5ndGg7cmV0dXJuIHQubmFtZXM/KE90W2FdPXQsdC5uYW1lcy5mb3JFYWNoKGZ1bmN0aW9uKGgpe1N0W2gudG9Mb3dlckNhc2UoKV09YX0pLHRoaXMpOihjb25zb2xlLmxvZyhzKSwhMCl9ZnVuY3Rpb24geGEodCl7aWYoIXQpcmV0dXJuITE7dmFyIHM9dC50b0xvd2VyQ2FzZSgpO2lmKHR5cGVvZiBTdFtzXTwidSImJk90W1N0W3NdXSlyZXR1cm4gT3RbU3Rbc11dfWZ1bmN0aW9uIGdhKCl7eWEuZm9yRWFjaChvcyl9dmFyIHZhPXtzdGFydDpnYSxhZGQ6b3MsZ2V0OnhhfSx2PXt9O3YuTUVSSVQ9e2E6NjM3ODEzNyxyZjoyOTguMjU3LGVsbGlwc2VOYW1lOiJNRVJJVCAxOTgzIn0sdi5TR1M4NT17YTo2Mzc4MTM2LHJmOjI5OC4yNTcsZWxsaXBzZU5hbWU6IlNvdmlldCBHZW9kZXRpYyBTeXN0ZW0gODUifSx2LkdSUzgwPXthOjYzNzgxMzcscmY6Mjk4LjI1NzIyMjEwMSxlbGxpcHNlTmFtZToiR1JTIDE5ODAoSVVHRywgMTk4MCkifSx2LklBVTc2PXthOjYzNzgxNDAscmY6Mjk4LjI1NyxlbGxpcHNlTmFtZToiSUFVIDE5NzYifSx2LmFpcnk9e2E6NjM3NzU2MzM5NmUtMyxiOjYzNTYyNTY5MWUtMixlbGxpcHNlTmFtZToiQWlyeSAxODMwIn0sdi5BUEw0PXthOjYzNzgxMzcscmY6Mjk4LjI1LGVsbGlwc2VOYW1lOiJBcHBsLiBQaHlzaWNzLiAxOTY1In0sdi5OV0w5RD17YTo2Mzc4MTQ1LHJmOjI5OC4yNSxlbGxpcHNlTmFtZToiTmF2YWwgV2VhcG9ucyBMYWIuLCAxOTY1In0sdi5tb2RfYWlyeT17YTo2Mzc3MzQwMTg5ZS0zLGI6NjM1NjAzNDQ0NmUtMyxlbGxpcHNlTmFtZToiTW9kaWZpZWQgQWlyeSJ9LHYuYW5kcmFlPXthOjYzNzcxMDQ0M2UtMixyZjozMDAsZWxsaXBzZU5hbWU6IkFuZHJhZSAxODc2IChEZW4uLCBJY2xuZC4pIn0sdi5hdXN0X1NBPXthOjYzNzgxNjAscmY6Mjk4LjI1LGVsbGlwc2VOYW1lOiJBdXN0cmFsaWFuIE5hdGwgJiBTLiBBbWVyLiAxOTY5In0sdi5HUlM2Nz17YTo2Mzc4MTYwLHJmOjI5OC4yNDcxNjc0MjcsZWxsaXBzZU5hbWU6IkdSUyA2NyhJVUdHIDE5NjcpIn0sdi5iZXNzZWw9e2E6NjM3NzM5NzE1NWUtMyxyZjoyOTkuMTUyODEyOCxlbGxpcHNlTmFtZToiQmVzc2VsIDE4NDEifSx2LmJlc3NfbmFtPXthOjYzNzc0ODM4NjVlLTMscmY6Mjk5LjE1MjgxMjgsZWxsaXBzZU5hbWU6IkJlc3NlbCAxODQxIChOYW1pYmlhKSJ9LHYuY2xyazY2PXthOjYzNzgyMDY0ZS0xLGI6NjM1NjU4MzhlLTEsZWxsaXBzZU5hbWU6IkNsYXJrZSAxODY2In0sdi5jbHJrODA9e2E6NjM3ODI0OTE0NWUtMyxyZjoyOTMuNDY2MyxlbGxpcHNlTmFtZToiQ2xhcmtlIDE4ODAgbW9kLiJ9LHYuY2xyazU4PXthOjYzNzgyOTM2NDUyMDg3NTllLTkscmY6Mjk0LjI2MDY3NjM2OTI2NTQsZWxsaXBzZU5hbWU6IkNsYXJrZSAxODU4In0sdi5DUE09e2E6NjM3NTczODdlLTEscmY6MzM0LjI5LGVsbGlwc2VOYW1lOiJDb21tLiBkZXMgUG9pZHMgZXQgTWVzdXJlcyAxNzk5In0sdi5kZWxtYnI9e2E6NjM3NjQyOCxyZjozMTEuNSxlbGxpcHNlTmFtZToiRGVsYW1icmUgMTgxMCAoQmVsZ2l1bSkifSx2LmVuZ2VsaXM9e2E6NjM3ODEzNjA1ZS0yLHJmOjI5OC4yNTY2LGVsbGlwc2VOYW1lOiJFbmdlbGlzIDE5ODUifSx2LmV2cnN0MzA9e2E6NjM3NzI3NjM0NWUtMyxyZjozMDAuODAxNyxlbGxpcHNlTmFtZToiRXZlcmVzdCAxODMwIn0sdi5ldnJzdDQ4PXthOjYzNzczMDQwNjNlLTMscmY6MzAwLjgwMTcsZWxsaXBzZU5hbWU6IkV2ZXJlc3QgMTk0OCJ9LHYuZXZyc3Q1Nj17YTo2Mzc3MzAxMjQzZS0zLHJmOjMwMC44MDE3LGVsbGlwc2VOYW1lOiJFdmVyZXN0IDE5NTYifSx2LmV2cnN0Njk9e2E6NjM3NzI5NTY2NGUtMyxyZjozMDAuODAxNyxlbGxpcHNlTmFtZToiRXZlcmVzdCAxOTY5In0sdi5ldnJzdFNTPXthOjYzNzcyOTg1NTZlLTMscmY6MzAwLjgwMTcsZWxsaXBzZU5hbWU6IkV2ZXJlc3QgKFNhYmFoICYgU2FyYXdhaykifSx2LmZzY2hyNjA9e2E6NjM3ODE2NixyZjoyOTguMyxlbGxpcHNlTmFtZToiRmlzY2hlciAoTWVyY3VyeSBEYXR1bSkgMTk2MCJ9LHYuZnNjaHI2MG09e2E6NjM3ODE1NSxyZjoyOTguMyxlbGxpcHNlTmFtZToiRmlzY2hlciAxOTYwIn0sdi5mc2NocjY4PXthOjYzNzgxNTAscmY6Mjk4LjMsZWxsaXBzZU5hbWU6IkZpc2NoZXIgMTk2OCJ9LHYuaGVsbWVydD17YTo2Mzc4MjAwLHJmOjI5OC4zLGVsbGlwc2VOYW1lOiJIZWxtZXJ0IDE5MDYifSx2LmhvdWdoPXthOjYzNzgyNzAscmY6Mjk3LGVsbGlwc2VOYW1lOiJIb3VnaCJ9LHYuaW50bD17YTo2Mzc4Mzg4LHJmOjI5NyxlbGxpcHNlTmFtZToiSW50ZXJuYXRpb25hbCAxOTA5IChIYXlmb3JkKSJ9LHYua2F1bGE9e2E6NjM3ODE2MyxyZjoyOTguMjQsZWxsaXBzZU5hbWU6IkthdWxhIDE5NjEifSx2LmxlcmNoPXthOjYzNzgxMzkscmY6Mjk4LjI1NyxlbGxpcHNlTmFtZToiTGVyY2ggMTk3OSJ9LHYubXBydHM9e2E6NjM5NzMwMCxyZjoxOTEsZWxsaXBzZU5hbWU6Ik1hdXBlcnRpdXMgMTczOCJ9LHYubmV3X2ludGw9e2E6NjM3ODE1NzVlLTEsYjo2MzU2NzcyMmUtMSxlbGxpcHNlTmFtZToiTmV3IEludGVybmF0aW9uYWwgMTk2NyJ9LHYucGxlc3Npcz17YTo2Mzc2NTIzLHJmOjYzNTU4NjMsZWxsaXBzZU5hbWU6IlBsZXNzaXMgMTgxNyAoRnJhbmNlKSJ9LHYua3Jhc3M9e2E6NjM3ODI0NSxyZjoyOTguMyxlbGxpcHNlTmFtZToiS3Jhc3NvdnNreSwgMTk0MiJ9LHYuU0Vhc2lhPXthOjYzNzgxNTUsYjo2MzU2NzczMzIwNWUtNCxlbGxpcHNlTmFtZToiU291dGhlYXN0IEFzaWEifSx2LndhbGJlY2s9e2E6NjM3Njg5NixiOjYzNTU4MzQ4NDY3ZS00LGVsbGlwc2VOYW1lOiJXYWxiZWNrIn0sdi5XR1M2MD17YTo2Mzc4MTY1LHJmOjI5OC4zLGVsbGlwc2VOYW1lOiJXR1MgNjAifSx2LldHUzY2PXthOjYzNzgxNDUscmY6Mjk4LjI1LGVsbGlwc2VOYW1lOiJXR1MgNjYifSx2LldHUzc9e2E6NjM3ODEzNSxyZjoyOTguMjYsZWxsaXBzZU5hbWU6IldHUyA3MiJ9O3ZhciBiYT12LldHUzg0PXthOjYzNzgxMzcscmY6Mjk4LjI1NzIyMzU2MyxlbGxpcHNlTmFtZToiV0dTIDg0In07di5zcGhlcmU9e2E6NjM3MDk5NyxiOjYzNzA5OTcsZWxsaXBzZU5hbWU6Ik5vcm1hbCBTcGhlcmUgKHI9NjM3MDk5NykifTtmdW5jdGlvbiB3YSh0LHMsYSxoKXt2YXIgaT10KnQscj1zKnMsbj0oaS1yKS9pLGU9MDtoPyh0Kj0xLW4qKFFzK24qKFdzK24qSHMpKSxpPXQqdCxuPTApOmU9TWF0aC5zcXJ0KG4pO3ZhciBvPShpLXIpL3I7cmV0dXJue2VzOm4sZSxlcDI6b319ZnVuY3Rpb24gTmEodCxzLGEsaCxpKXtpZighdCl7dmFyIHI9Vih2LGgpO3J8fChyPWJhKSx0PXIuYSxzPXIuYixhPXIucmZ9cmV0dXJuIGEmJiFzJiYocz0oMS0xL2EpKnQpLChhPT09MHx8TWF0aC5hYnModC1zKTxfKSYmKGk9ITAscz10KSx7YTp0LGI6cyxyZjphLHNwaGVyZTppfX12YXIgST17fTtJLndnczg0PXt0b3dnczg0OiIwLDAsMCIsZWxsaXBzZToiV0dTODQiLGRhdHVtTmFtZToiV0dTODQifSxJLmNoMTkwMz17dG93Z3M4NDoiNjc0LjM3NCwxNS4wNTYsNDA1LjM0NiIsZWxsaXBzZToiYmVzc2VsIixkYXR1bU5hbWU6InN3aXNzIn0sSS5nZ3JzODc9e3Rvd2dzODQ6Ii0xOTkuODcsNzQuNzksMjQ2LjYyIixlbGxpcHNlOiJHUlM4MCIsZGF0dW1OYW1lOiJHcmVla19HZW9kZXRpY19SZWZlcmVuY2VfU3lzdGVtXzE5ODcifSxJLm5hZDgzPXt0b3dnczg0OiIwLDAsMCIsZWxsaXBzZToiR1JTODAiLGRhdHVtTmFtZToiTm9ydGhfQW1lcmljYW5fRGF0dW1fMTk4MyJ9LEkubmFkMjc9e25hZGdyaWRzOiJAY29udXMsQGFsYXNrYSxAbnR2Ml8wLmdzYixAbnR2MV9jYW4uZGF0IixlbGxpcHNlOiJjbHJrNjYiLGRhdHVtTmFtZToiTm9ydGhfQW1lcmljYW5fRGF0dW1fMTkyNyJ9LEkucG90c2RhbT17dG93Z3M4NDoiNTk4LjEsNzMuNyw0MTguMiwwLjIwMiwwLjA0NSwtMi40NTUsNi43IixlbGxpcHNlOiJiZXNzZWwiLGRhdHVtTmFtZToiUG90c2RhbSBSYXVlbmJlcmcgMTk1MCBESEROIn0sSS5jYXJ0aGFnZT17dG93Z3M4NDoiLTI2My4wLDYuMCw0MzEuMCIsZWxsaXBzZToiY2xhcms4MCIsZGF0dW1OYW1lOiJDYXJ0aGFnZSAxOTM0IFR1bmlzaWEifSxJLmhlcm1hbm5za29nZWw9e3Rvd2dzODQ6IjU3Ny4zMjYsOTAuMTI5LDQ2My45MTksNS4xMzcsMS40NzQsNS4yOTcsMi40MjMyIixlbGxpcHNlOiJiZXNzZWwiLGRhdHVtTmFtZToiSGVybWFubnNrb2dlbCJ9LEkub3NuaTUyPXt0b3dnczg0OiI0ODIuNTMwLC0xMzAuNTk2LDU2NC41NTcsLTEuMDQyLC0wLjIxNCwtMC42MzEsOC4xNSIsZWxsaXBzZToiYWlyeSIsZGF0dW1OYW1lOiJJcmlzaCBOYXRpb25hbCJ9LEkuaXJlNjU9e3Rvd2dzODQ6IjQ4Mi41MzAsLTEzMC41OTYsNTY0LjU1NywtMS4wNDIsLTAuMjE0LC0wLjYzMSw4LjE1IixlbGxpcHNlOiJtb2RfYWlyeSIsZGF0dW1OYW1lOiJJcmVsYW5kIDE5NjUifSxJLnJhc3NhZGlyYW49e3Rvd2dzODQ6Ii0xMzMuNjMsLTE1Ny41LC0xNTguNjIiLGVsbGlwc2U6ImludGwiLGRhdHVtTmFtZToiUmFzc2FkaXJhbiJ9LEkubnpnZDQ5PXt0b3dnczg0OiI1OS40NywtNS4wNCwxODcuNDQsMC40NywtMC4xLDEuMDI0LC00LjU5OTMiLGVsbGlwc2U6ImludGwiLGRhdHVtTmFtZToiTmV3IFplYWxhbmQgR2VvZGV0aWMgRGF0dW0gMTk0OSJ9LEkub3NnYjM2PXt0b3dnczg0OiI0NDYuNDQ4LC0xMjUuMTU3LDU0Mi4wNjAsMC4xNTAyLDAuMjQ3MCwwLjg0MjEsLTIwLjQ4OTQiLGVsbGlwc2U6ImFpcnkiLGRhdHVtTmFtZToiQWlyeSAxODMwIn0sSS5zX2p0c2s9e3Rvd2dzODQ6IjU4OSw3Niw0ODAiLGVsbGlwc2U6ImJlc3NlbCIsZGF0dW1OYW1lOiJTLUpUU0sgKEZlcnJvKSJ9LEkuYmVkdWFyYW09e3Rvd2dzODQ6Ii0xMDYsLTg3LDE4OCIsZWxsaXBzZToiY2xyazgwIixkYXR1bU5hbWU6IkJlZHVhcmFtIn0sSS5ndW51bmdfc2VnYXJhPXt0b3dnczg0OiItNDAzLDY4NCw0MSIsZWxsaXBzZToiYmVzc2VsIixkYXR1bU5hbWU6Ikd1bnVuZyBTZWdhcmEgSmFrYXJ0YSJ9LEkucm5iNzI9e3Rvd2dzODQ6IjEwNi44NjksLTUyLjI5NzgsMTAzLjcyNCwtMC4zMzY1NywwLjQ1Njk1NSwtMS44NDIxOCwxIixlbGxpcHNlOiJpbnRsIixkYXR1bU5hbWU6IlJlc2VhdSBOYXRpb25hbCBCZWxnZSAxOTcyIn07ZnVuY3Rpb24gQWEodCxzLGEsaCxpLHIsbil7dmFyIGU9e307cmV0dXJuIHQ9PT12b2lkIDB8fHQ9PT0ibm9uZSI/ZS5kYXR1bV90eXBlPXp0OmUuZGF0dW1fdHlwZT1EcyxzJiYoZS5kYXR1bV9wYXJhbXM9cy5tYXAocGFyc2VGbG9hdCksKGUuZGF0dW1fcGFyYW1zWzBdIT09MHx8ZS5kYXR1bV9wYXJhbXNbMV0hPT0wfHxlLmRhdHVtX3BhcmFtc1syXSE9PTApJiYoZS5kYXR1bV90eXBlPSQpLGUuZGF0dW1fcGFyYW1zLmxlbmd0aD4zJiYoZS5kYXR1bV9wYXJhbXNbM10hPT0wfHxlLmRhdHVtX3BhcmFtc1s0XSE9PTB8fGUuZGF0dW1fcGFyYW1zWzVdIT09MHx8ZS5kYXR1bV9wYXJhbXNbNl0hPT0wKSYmKGUuZGF0dW1fdHlwZT10dCxlLmRhdHVtX3BhcmFtc1szXSo9ZnQsZS5kYXR1bV9wYXJhbXNbNF0qPWZ0LGUuZGF0dW1fcGFyYW1zWzVdKj1mdCxlLmRhdHVtX3BhcmFtc1s2XT1lLmRhdHVtX3BhcmFtc1s2XS8xZTYrMSkpLG4mJihlLmRhdHVtX3R5cGU9RXQsZS5ncmlkcz1uKSxlLmE9YSxlLmI9aCxlLmVzPWksZS5lcDI9cixlfXZhciBscz17fTtmdW5jdGlvbiBFYSh0LHMpe3ZhciBhPW5ldyBEYXRhVmlldyhzKSxoPVNhKGEpLGk9T2EoYSxoKTtpLm5TdWJncmlkcz4xJiZjb25zb2xlLmxvZygiT25seSBzaW5nbGUgTlR2MiBzdWJncmlkcyBhcmUgY3VycmVudGx5IHN1cHBvcnRlZCwgc3Vic2VxdWVudCBzdWIgZ3JpZHMgYXJlIGlnbm9yZWQiKTt2YXIgcj1rYShhLGksaCksbj17aGVhZGVyOmksc3ViZ3JpZHM6cn07cmV0dXJuIGxzW3RdPW4sbn1mdW5jdGlvbiBDYSh0KXtpZih0PT09dm9pZCAwKXJldHVybiBudWxsO3ZhciBzPXQuc3BsaXQoIiwiKTtyZXR1cm4gcy5tYXAoUGEpfWZ1bmN0aW9uIFBhKHQpe2lmKHQubGVuZ3RoPT09MClyZXR1cm4gbnVsbDt2YXIgcz10WzBdPT09IkAiO3JldHVybiBzJiYodD10LnNsaWNlKDEpKSx0PT09Im51bGwiP3tuYW1lOiJudWxsIixtYW5kYXRvcnk6IXMsZ3JpZDpudWxsLGlzTnVsbDohMH06e25hbWU6dCxtYW5kYXRvcnk6IXMsZ3JpZDpsc1t0XXx8bnVsbCxpc051bGw6ITF9fWZ1bmN0aW9uIGV0KHQpe3JldHVybiB0LzM2MDAqTWF0aC5QSS8xODB9ZnVuY3Rpb24gU2EodCl7dmFyIHM9dC5nZXRJbnQzMig4LCExKTtyZXR1cm4gcz09PTExPyExOihzPXQuZ2V0SW50MzIoOCwhMCkscyE9PTExJiZjb25zb2xlLndhcm4oIkZhaWxlZCB0byBkZXRlY3QgbmFkZ3JpZCBlbmRpYW4tbmVzcywgZGVmYXVsdGluZyB0byBsaXR0bGUtZW5kaWFuIiksITApfWZ1bmN0aW9uIE9hKHQscyl7cmV0dXJue25GaWVsZHM6dC5nZXRJbnQzMig4LHMpLG5TdWJncmlkRmllbGRzOnQuZ2V0SW50MzIoMjQscyksblN1YmdyaWRzOnQuZ2V0SW50MzIoNDAscyksc2hpZnRUeXBlOlV0KHQsNTYsNjQpLnRyaW0oKSxmcm9tU2VtaU1ham9yQXhpczp0LmdldEZsb2F0NjQoMTIwLHMpLGZyb21TZW1pTWlub3JBeGlzOnQuZ2V0RmxvYXQ2NCgxMzYscyksdG9TZW1pTWFqb3JBeGlzOnQuZ2V0RmxvYXQ2NCgxNTIscyksdG9TZW1pTWlub3JBeGlzOnQuZ2V0RmxvYXQ2NCgxNjgscyl9fWZ1bmN0aW9uIFV0KHQscyxhKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KHQuYnVmZmVyLnNsaWNlKHMsYSkpKX1mdW5jdGlvbiBrYSh0LHMsYSl7Zm9yKHZhciBoPTE3NixpPVtdLHI9MDtyPHMublN1YmdyaWRzO3IrKyl7dmFyIG49cWEodCxoLGEpLGU9UmEodCxoLG4sYSksbz1NYXRoLnJvdW5kKDErKG4udXBwZXJMb25naXR1ZGUtbi5sb3dlckxvbmdpdHVkZSkvbi5sb25naXR1ZGVJbnRlcnZhbCksbD1NYXRoLnJvdW5kKDErKG4udXBwZXJMYXRpdHVkZS1uLmxvd2VyTGF0aXR1ZGUpL24ubGF0aXR1ZGVJbnRlcnZhbCk7aS5wdXNoKHtsbDpbZXQobi5sb3dlckxvbmdpdHVkZSksZXQobi5sb3dlckxhdGl0dWRlKV0sZGVsOltldChuLmxvbmdpdHVkZUludGVydmFsKSxldChuLmxhdGl0dWRlSW50ZXJ2YWwpXSxsaW06W28sbF0sY291bnQ6bi5ncmlkTm9kZUNvdW50LGN2czpJYShlKX0pfXJldHVybiBpfWZ1bmN0aW9uIElhKHQpe3JldHVybiB0Lm1hcChmdW5jdGlvbihzKXtyZXR1cm5bZXQocy5sb25naXR1ZGVTaGlmdCksZXQocy5sYXRpdHVkZVNoaWZ0KV19KX1mdW5jdGlvbiBxYSh0LHMsYSl7cmV0dXJue25hbWU6VXQodCxzKzgscysxNikudHJpbSgpLHBhcmVudDpVdCh0LHMrMjQscysyNCs4KS50cmltKCksbG93ZXJMYXRpdHVkZTp0LmdldEZsb2F0NjQocys3MixhKSx1cHBlckxhdGl0dWRlOnQuZ2V0RmxvYXQ2NChzKzg4LGEpLGxvd2VyTG9uZ2l0dWRlOnQuZ2V0RmxvYXQ2NChzKzEwNCxhKSx1cHBlckxvbmdpdHVkZTp0LmdldEZsb2F0NjQocysxMjAsYSksbGF0aXR1ZGVJbnRlcnZhbDp0LmdldEZsb2F0NjQocysxMzYsYSksbG9uZ2l0dWRlSW50ZXJ2YWw6dC5nZXRGbG9hdDY0KHMrMTUyLGEpLGdyaWROb2RlQ291bnQ6dC5nZXRJbnQzMihzKzE2OCxhKX19ZnVuY3Rpb24gUmEodCxzLGEsaCl7Zm9yKHZhciBpPXMrMTc2LHI9MTYsbj1bXSxlPTA7ZTxhLmdyaWROb2RlQ291bnQ7ZSsrKXt2YXIgbz17bGF0aXR1ZGVTaGlmdDp0LmdldEZsb2F0MzIoaStlKnIsaCksbG9uZ2l0dWRlU2hpZnQ6dC5nZXRGbG9hdDMyKGkrZSpyKzQsaCksbGF0aXR1ZGVBY2N1cmFjeTp0LmdldEZsb2F0MzIoaStlKnIrOCxoKSxsb25naXR1ZGVBY2N1cmFjeTp0LmdldEZsb2F0MzIoaStlKnIrMTIsaCl9O24ucHVzaChvKX1yZXR1cm4gbn1mdW5jdGlvbiBIKHQscyl7aWYoISh0aGlzIGluc3RhbmNlb2YgSCkpcmV0dXJuIG5ldyBIKHQpO3M9c3x8ZnVuY3Rpb24obCl7aWYobCl0aHJvdyBsfTt2YXIgYT1sYSh0KTtpZih0eXBlb2YgYSE9Im9iamVjdCIpe3ModCk7cmV0dXJufXZhciBoPUgucHJvamVjdGlvbnMuZ2V0KGEucHJvak5hbWUpO2lmKCFoKXtzKHQpO3JldHVybn1pZihhLmRhdHVtQ29kZSYmYS5kYXR1bUNvZGUhPT0ibm9uZSIpe3ZhciBpPVYoSSxhLmRhdHVtQ29kZSk7aSYmKGEuZGF0dW1fcGFyYW1zPWEuZGF0dW1fcGFyYW1zfHwoaS50b3dnczg0P2kudG93Z3M4NC5zcGxpdCgiLCIpOm51bGwpLGEuZWxscHM9aS5lbGxpcHNlLGEuZGF0dW1OYW1lPWkuZGF0dW1OYW1lP2kuZGF0dW1OYW1lOmEuZGF0dW1Db2RlKX1hLmswPWEuazB8fDEsYS5heGlzPWEuYXhpc3x8ImVudSIsYS5lbGxwcz1hLmVsbHBzfHwid2dzODQiLGEubGF0MT1hLmxhdDF8fGEubGF0MDt2YXIgcj1OYShhLmEsYS5iLGEucmYsYS5lbGxwcyxhLnNwaGVyZSksbj13YShyLmEsci5iLHIucmYsYS5SX0EpLGU9Q2EoYS5uYWRncmlkcyksbz1hLmRhdHVtfHxBYShhLmRhdHVtQ29kZSxhLmRhdHVtX3BhcmFtcyxyLmEsci5iLG4uZXMsbi5lcDIsZSk7cnModGhpcyxhKSxycyh0aGlzLGgpLHRoaXMuYT1yLmEsdGhpcy5iPXIuYix0aGlzLnJmPXIucmYsdGhpcy5zcGhlcmU9ci5zcGhlcmUsdGhpcy5lcz1uLmVzLHRoaXMuZT1uLmUsdGhpcy5lcDI9bi5lcDIsdGhpcy5kYXR1bT1vLHRoaXMuaW5pdCgpLHMobnVsbCx0aGlzKX1ILnByb2plY3Rpb25zPXZhLEgucHJvamVjdGlvbnMuc3RhcnQoKTtmdW5jdGlvbiBMYSh0LHMpe3JldHVybiB0LmRhdHVtX3R5cGUhPT1zLmRhdHVtX3R5cGV8fHQuYSE9PXMuYXx8TWF0aC5hYnModC5lcy1zLmVzKT41ZS0xMT8hMTp0LmRhdHVtX3R5cGU9PT0kP3QuZGF0dW1fcGFyYW1zWzBdPT09cy5kYXR1bV9wYXJhbXNbMF0mJnQuZGF0dW1fcGFyYW1zWzFdPT09cy5kYXR1bV9wYXJhbXNbMV0mJnQuZGF0dW1fcGFyYW1zWzJdPT09cy5kYXR1bV9wYXJhbXNbMl06dC5kYXR1bV90eXBlPT09dHQ/dC5kYXR1bV9wYXJhbXNbMF09PT1zLmRhdHVtX3BhcmFtc1swXSYmdC5kYXR1bV9wYXJhbXNbMV09PT1zLmRhdHVtX3BhcmFtc1sxXSYmdC5kYXR1bV9wYXJhbXNbMl09PT1zLmRhdHVtX3BhcmFtc1syXSYmdC5kYXR1bV9wYXJhbXNbM109PT1zLmRhdHVtX3BhcmFtc1szXSYmdC5kYXR1bV9wYXJhbXNbNF09PT1zLmRhdHVtX3BhcmFtc1s0XSYmdC5kYXR1bV9wYXJhbXNbNV09PT1zLmRhdHVtX3BhcmFtc1s1XSYmdC5kYXR1bV9wYXJhbXNbNl09PT1zLmRhdHVtX3BhcmFtc1s2XTohMH1mdW5jdGlvbiB1cyh0LHMsYSl7dmFyIGg9dC54LGk9dC55LHI9dC56P3QuejowLG4sZSxvLGw7aWYoaTwtcCYmaT4tMS4wMDEqcClpPS1wO2Vsc2UgaWYoaT5wJiZpPDEuMDAxKnApaT1wO2Vsc2V7aWYoaTwtcClyZXR1cm57eDotMS8wLHk6LTEvMCx6OnQuen07aWYoaT5wKXJldHVybnt4OjEvMCx5OjEvMCx6OnQuen19cmV0dXJuIGg+TWF0aC5QSSYmKGgtPTIqTWF0aC5QSSksZT1NYXRoLnNpbihpKSxsPU1hdGguY29zKGkpLG89ZSplLG49YS9NYXRoLnNxcnQoMS1zKm8pLHt4OihuK3IpKmwqTWF0aC5jb3MoaCkseToobityKSpsKk1hdGguc2luKGgpLHo6KG4qKDEtcykrcikqZX19ZnVuY3Rpb24gY3ModCxzLGEsaCl7dmFyIGk9MWUtMTIscj1pKmksbj0zMCxlLG8sbCxjLHUsTSxkLGYsbSx4LGcsYix3LFA9dC54LE49dC55LEM9dC56P3QuejowLEwsTyxYO2lmKGU9TWF0aC5zcXJ0KFAqUCtOKk4pLG89TWF0aC5zcXJ0KFAqUCtOKk4rQypDKSxlL2E8aSl7aWYoTD0wLG8vYTxpKXJldHVybiBPPXAsWD0taCx7eDp0LngseTp0Lnksejp0Lnp9fWVsc2UgTD1NYXRoLmF0YW4yKE4sUCk7bD1DL28sYz1lL28sdT0xL01hdGguc3FydCgxLXMqKDItcykqYypjKSxmPWMqKDEtcykqdSxtPWwqdSx3PTA7ZG8gdysrLGQ9YS9NYXRoLnNxcnQoMS1zKm0qbSksWD1lKmYrQyptLWQqKDEtcyptKm0pLE09cypkLyhkK1gpLHU9MS9NYXRoLnNxcnQoMS1NKigyLU0pKmMqYykseD1jKigxLU0pKnUsZz1sKnUsYj1nKmYteCptLGY9eCxtPWc7d2hpbGUoYipiPnImJnc8bik7cmV0dXJuIE89TWF0aC5hdGFuKGcvTWF0aC5hYnMoeCkpLHt4OkwseTpPLHo6WH19ZnVuY3Rpb24gVGEodCxzLGEpe2lmKHM9PT0kKXJldHVybnt4OnQueCthWzBdLHk6dC55K2FbMV0sejp0LnorYVsyXX07aWYocz09PXR0KXt2YXIgaD1hWzBdLGk9YVsxXSxyPWFbMl0sbj1hWzNdLGU9YVs0XSxvPWFbNV0sbD1hWzZdO3JldHVybnt4OmwqKHQueC1vKnQueStlKnQueikraCx5OmwqKG8qdC54K3QueS1uKnQueikraSx6OmwqKC1lKnQueCtuKnQueSt0LnopK3J9fX1mdW5jdGlvbiBqYSh0LHMsYSl7aWYocz09PSQpcmV0dXJue3g6dC54LWFbMF0seTp0LnktYVsxXSx6OnQuei1hWzJdfTtpZihzPT09dHQpe3ZhciBoPWFbMF0saT1hWzFdLHI9YVsyXSxuPWFbM10sZT1hWzRdLG89YVs1XSxsPWFbNl0sYz0odC54LWgpL2wsdT0odC55LWkpL2wsTT0odC56LXIpL2w7cmV0dXJue3g6YytvKnUtZSpNLHk6LW8qYyt1K24qTSx6OmUqYy1uKnUrTX19fWZ1bmN0aW9uIGt0KHQpe3JldHVybiB0PT09JHx8dD09PXR0fWZ1bmN0aW9uIEdhKHQscyxhKXtpZihMYSh0LHMpfHx0LmRhdHVtX3R5cGU9PT16dHx8cy5kYXR1bV90eXBlPT09enQpcmV0dXJuIGE7dmFyIGg9dC5hLGk9dC5lcztpZih0LmRhdHVtX3R5cGU9PT1FdCl7dmFyIHI9TXModCwhMSxhKTtpZihyIT09MClyZXR1cm47aD1adCxpPVl0fXZhciBuPXMuYSxlPXMuYixvPXMuZXM7aWYocy5kYXR1bV90eXBlPT09RXQmJihuPVp0LGU9VXMsbz1ZdCksaT09PW8mJmg9PT1uJiYha3QodC5kYXR1bV90eXBlKSYmIWt0KHMuZGF0dW1fdHlwZSkpcmV0dXJuIGE7aWYoYT11cyhhLGksaCksa3QodC5kYXR1bV90eXBlKSYmKGE9VGEoYSx0LmRhdHVtX3R5cGUsdC5kYXR1bV9wYXJhbXMpKSxrdChzLmRhdHVtX3R5cGUpJiYoYT1qYShhLHMuZGF0dW1fdHlwZSxzLmRhdHVtX3BhcmFtcykpLGE9Y3MoYSxvLG4sZSkscy5kYXR1bV90eXBlPT09RXQpe3ZhciBsPU1zKHMsITAsYSk7aWYobCE9PTApcmV0dXJufXJldHVybiBhfWZ1bmN0aW9uIE1zKHQscyxhKXtpZih0LmdyaWRzPT09bnVsbHx8dC5ncmlkcy5sZW5ndGg9PT0wKXJldHVybiBjb25zb2xlLmxvZygiR3JpZCBzaGlmdCBncmlkcyBub3QgZm91bmQiKSwtMTtmb3IodmFyIGg9e3g6LWEueCx5OmEueX0saT17eDpOdW1iZXIuTmFOLHk6TnVtYmVyLk5hTn0scj1bXSxuPTA7bjx0LmdyaWRzLmxlbmd0aDtuKyspe3ZhciBlPXQuZ3JpZHNbbl07aWYoci5wdXNoKGUubmFtZSksZS5pc051bGwpe2k9aDticmVha31pZihlLm1hbmRhdG9yeSxlLmdyaWQ9PT1udWxsKXtpZihlLm1hbmRhdG9yeSlyZXR1cm4gY29uc29sZS5sb2coIlVuYWJsZSB0byBmaW5kIG1hbmRhdG9yeSBncmlkICciK2UubmFtZSsiJyIpLC0xO2NvbnRpbnVlfXZhciBvPWUuZ3JpZC5zdWJncmlkc1swXSxsPShNYXRoLmFicyhvLmRlbFsxXSkrTWF0aC5hYnMoby5kZWxbMF0pKS8xZTQsYz1vLmxsWzBdLWwsdT1vLmxsWzFdLWwsTT1vLmxsWzBdKyhvLmxpbVswXS0xKSpvLmRlbFswXStsLGQ9by5sbFsxXSsoby5saW1bMV0tMSkqby5kZWxbMV0rbDtpZighKHU+aC55fHxjPmgueHx8ZDxoLnl8fE08aC54KSYmKGk9QmEoaCxzLG8pLCFpc05hTihpLngpKSlicmVha31yZXR1cm4gaXNOYU4oaS54KT8oY29uc29sZS5sb2coIkZhaWxlZCB0byBmaW5kIGEgZ3JpZCBzaGlmdCB0YWJsZSBmb3IgbG9jYXRpb24gJyIrLWgueCpRKyIgIitoLnkqUSsiIHRyaWVkOiAnIityKyInIiksLTEpOihhLng9LWkueCxhLnk9aS55LDApfWZ1bmN0aW9uIEJhKHQscyxhKXt2YXIgaD17eDpOdW1iZXIuTmFOLHk6TnVtYmVyLk5hTn07aWYoaXNOYU4odC54KSlyZXR1cm4gaDt2YXIgaT17eDp0LngseTp0Lnl9O2kueC09YS5sbFswXSxpLnktPWEubGxbMV0saS54PXkoaS54LU1hdGguUEkpK01hdGguUEk7dmFyIHI9ZnMoaSxhKTtpZihzKXtpZihpc05hTihyLngpKXJldHVybiBoO3IueD1pLngtci54LHIueT1pLnktci55O3ZhciBuPTksZT0xZS0xMixvLGw7ZG97aWYobD1mcyhyLGEpLGlzTmFOKGwueCkpe2NvbnNvbGUubG9nKCJJbnZlcnNlIGdyaWQgc2hpZnQgaXRlcmF0aW9uIGZhaWxlZCwgcHJlc3VtYWJseSBhdCBncmlkIGVkZ2UuICBVc2luZyBmaXJzdCBhcHByb3hpbWF0aW9uLiIpO2JyZWFrfW89e3g6aS54LShsLngrci54KSx5OmkueS0obC55K3IueSl9LHIueCs9by54LHIueSs9by55fXdoaWxlKG4tLSYmTWF0aC5hYnMoby54KT5lJiZNYXRoLmFicyhvLnkpPmUpO2lmKG48MClyZXR1cm4gY29uc29sZS5sb2coIkludmVyc2UgZ3JpZCBzaGlmdCBpdGVyYXRvciBmYWlsZWQgdG8gY29udmVyZ2UuIiksaDtoLng9eShyLngrYS5sbFswXSksaC55PXIueSthLmxsWzFdfWVsc2UgaXNOYU4oci54KXx8KGgueD10Lngrci54LGgueT10Lnkrci55KTtyZXR1cm4gaH1mdW5jdGlvbiBmcyh0LHMpe3ZhciBhPXt4OnQueC9zLmRlbFswXSx5OnQueS9zLmRlbFsxXX0saD17eDpNYXRoLmZsb29yKGEueCkseTpNYXRoLmZsb29yKGEueSl9LGk9e3g6YS54LTEqaC54LHk6YS55LTEqaC55fSxyPXt4Ok51bWJlci5OYU4seTpOdW1iZXIuTmFOfSxuO2lmKGgueDwwfHxoLng+PXMubGltWzBdfHxoLnk8MHx8aC55Pj1zLmxpbVsxXSlyZXR1cm4gcjtuPWgueSpzLmxpbVswXStoLng7dmFyIGU9e3g6cy5jdnNbbl1bMF0seTpzLmN2c1tuXVsxXX07bisrO3ZhciBvPXt4OnMuY3ZzW25dWzBdLHk6cy5jdnNbbl1bMV19O24rPXMubGltWzBdO3ZhciBsPXt4OnMuY3ZzW25dWzBdLHk6cy5jdnNbbl1bMV19O24tLTt2YXIgYz17eDpzLmN2c1tuXVswXSx5OnMuY3ZzW25dWzFdfSx1PWkueCppLnksTT1pLngqKDEtaS55KSxkPSgxLWkueCkqKDEtaS55KSxmPSgxLWkueCkqaS55O3JldHVybiByLng9ZCplLngrTSpvLngrZipjLngrdSpsLngsci55PWQqZS55K00qby55K2YqYy55K3UqbC55LHJ9ZnVuY3Rpb24gZHModCxzLGEpe3ZhciBoPWEueCxpPWEueSxyPWEuenx8MCxuLGUsbyxsPXt9O2ZvcihvPTA7bzwzO28rKylpZighKHMmJm89PT0yJiZhLno9PT12b2lkIDApKXN3aXRjaChvPT09MD8obj1oLCJldyIuaW5kZXhPZih0LmF4aXNbb10pIT09LTE/ZT0ieCI6ZT0ieSIpOm89PT0xPyhuPWksIm5zIi5pbmRleE9mKHQuYXhpc1tvXSkhPT0tMT9lPSJ5IjplPSJ4Iik6KG49cixlPSJ6IiksdC5heGlzW29dKXtjYXNlImUiOmxbZV09bjticmVhaztjYXNlInciOmxbZV09LW47YnJlYWs7Y2FzZSJuIjpsW2VdPW47YnJlYWs7Y2FzZSJzIjpsW2VdPS1uO2JyZWFrO2Nhc2UidSI6YVtlXSE9PXZvaWQgMCYmKGwuej1uKTticmVhaztjYXNlImQiOmFbZV0hPT12b2lkIDAmJihsLno9LW4pO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIG51bGx9cmV0dXJuIGx9ZnVuY3Rpb24gcHModCl7dmFyIHM9e3g6dFswXSx5OnRbMV19O3JldHVybiB0Lmxlbmd0aD4yJiYocy56PXRbMl0pLHQubGVuZ3RoPjMmJihzLm09dFszXSksc31mdW5jdGlvbiB6YSh0KXttcyh0LngpLG1zKHQueSl9ZnVuY3Rpb24gbXModCl7aWYodHlwZW9mIE51bWJlci5pc0Zpbml0ZT09ImZ1bmN0aW9uIil7aWYoTnVtYmVyLmlzRmluaXRlKHQpKXJldHVybjt0aHJvdyBuZXcgVHlwZUVycm9yKCJjb29yZGluYXRlcyBtdXN0IGJlIGZpbml0ZSBudW1iZXJzIil9aWYodHlwZW9mIHQhPSJudW1iZXIifHx0IT09dHx8IWlzRmluaXRlKHQpKXRocm93IG5ldyBUeXBlRXJyb3IoImNvb3JkaW5hdGVzIG11c3QgYmUgZmluaXRlIG51bWJlcnMiKX1mdW5jdGlvbiBGYSh0LHMpe3JldHVybih0LmRhdHVtLmRhdHVtX3R5cGU9PT0kfHx0LmRhdHVtLmRhdHVtX3R5cGU9PT10dCkmJnMuZGF0dW1Db2RlIT09IldHUzg0Inx8KHMuZGF0dW0uZGF0dW1fdHlwZT09PSR8fHMuZGF0dW0uZGF0dW1fdHlwZT09PXR0KSYmdC5kYXR1bUNvZGUhPT0iV0dTODQifWZ1bmN0aW9uIEl0KHQscyxhLGgpe3ZhciBpO2lmKEFycmF5LmlzQXJyYXkoYSkmJihhPXBzKGEpKSx6YShhKSx0LmRhdHVtJiZzLmRhdHVtJiZGYSh0LHMpJiYoaT1uZXcgSCgiV0dTODQiKSxhPUl0KHQsaSxhLGgpLHQ9aSksaCYmdC5heGlzIT09ImVudSImJihhPWRzKHQsITEsYSkpLHQucHJvak5hbWU9PT0ibG9uZ2xhdCIpYT17eDphLngqcSx5OmEueSpxLHo6YS56fHwwfTtlbHNlIGlmKHQudG9fbWV0ZXImJihhPXt4OmEueCp0LnRvX21ldGVyLHk6YS55KnQudG9fbWV0ZXIsejphLnp8fDB9KSxhPXQuaW52ZXJzZShhKSwhYSlyZXR1cm47aWYodC5mcm9tX2dyZWVud2ljaCYmKGEueCs9dC5mcm9tX2dyZWVud2ljaCksYT1HYSh0LmRhdHVtLHMuZGF0dW0sYSksISFhKXJldHVybiBzLmZyb21fZ3JlZW53aWNoJiYoYT17eDphLngtcy5mcm9tX2dyZWVud2ljaCx5OmEueSx6OmEuenx8MH0pLHMucHJvak5hbWU9PT0ibG9uZ2xhdCI/YT17eDphLngqUSx5OmEueSpRLHo6YS56fHwwfTooYT1zLmZvcndhcmQoYSkscy50b19tZXRlciYmKGE9e3g6YS54L3MudG9fbWV0ZXIseTphLnkvcy50b19tZXRlcix6OmEuenx8MH0pKSxoJiZzLmF4aXMhPT0iZW51Ij9kcyhzLCEwLGEpOmF9dmFyIF9zPUgoIldHUzg0Iik7ZnVuY3Rpb24gUXQodCxzLGEsaCl7dmFyIGkscixuO3JldHVybiBBcnJheS5pc0FycmF5KGEpPyhpPUl0KHQscyxhLGgpfHx7eDpOYU4seTpOYU59LGEubGVuZ3RoPjI/dHlwZW9mIHQubmFtZTwidSImJnQubmFtZT09PSJnZW9jZW50Inx8dHlwZW9mIHMubmFtZTwidSImJnMubmFtZT09PSJnZW9jZW50Ij90eXBlb2YgaS56PT0ibnVtYmVyIj9baS54LGkueSxpLnpdLmNvbmNhdChhLnNwbGljZSgzKSk6W2kueCxpLnksYVsyXV0uY29uY2F0KGEuc3BsaWNlKDMpKTpbaS54LGkueV0uY29uY2F0KGEuc3BsaWNlKDIpKTpbaS54LGkueV0pOihyPUl0KHQscyxhLGgpLG49T2JqZWN0LmtleXMoYSksbi5sZW5ndGg9PT0yfHxuLmZvckVhY2goZnVuY3Rpb24oZSl7aWYodHlwZW9mIHQubmFtZTwidSImJnQubmFtZT09PSJnZW9jZW50Inx8dHlwZW9mIHMubmFtZTwidSImJnMubmFtZT09PSJnZW9jZW50Iil7aWYoZT09PSJ4Inx8ZT09PSJ5Inx8ZT09PSJ6IilyZXR1cm59ZWxzZSBpZihlPT09IngifHxlPT09InkiKXJldHVybjtyW2VdPWFbZV19KSxyKX1mdW5jdGlvbiB5cyh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEg/dDp0Lm9Qcm9qP3Qub1Byb2o6SCh0KX1mdW5jdGlvbiB6KHQscyxhKXt0PXlzKHQpO3ZhciBoPSExLGk7cmV0dXJuIHR5cGVvZiBzPiJ1Ij8ocz10LHQ9X3MsaD0hMCk6KHR5cGVvZiBzLng8InUifHxBcnJheS5pc0FycmF5KHMpKSYmKGE9cyxzPXQsdD1fcyxoPSEwKSxzPXlzKHMpLGE/UXQodCxzLGEpOihpPXtmb3J3YXJkOmZ1bmN0aW9uKHIsbil7cmV0dXJuIFF0KHQscyxyLG4pfSxpbnZlcnNlOmZ1bmN0aW9uKHIsbil7cmV0dXJuIFF0KHMsdCxyLG4pfX0saCYmKGkub1Byb2o9cyksaSl9dmFyIHhzPTYsZ3M9IkFKU0FKUyIsdnM9IkFGQUZBRiIscnQ9NjUsQj03MyxGPTc5LHl0PTg2LHh0PTkwLERhPXtmb3J3YXJkOmJzLGludmVyc2U6VWEsdG9Qb2ludDp3c307ZnVuY3Rpb24gYnModCxzKXtyZXR1cm4gcz1zfHw1LEhhKFFhKHtsYXQ6dFsxXSxsb246dFswXX0pLHMpfWZ1bmN0aW9uIFVhKHQpe3ZhciBzPUh0KEVzKHQudG9VcHBlckNhc2UoKSkpO3JldHVybiBzLmxhdCYmcy5sb24/W3MubG9uLHMubGF0LHMubG9uLHMubGF0XTpbcy5sZWZ0LHMuYm90dG9tLHMucmlnaHQscy50b3BdfWZ1bmN0aW9uIHdzKHQpe3ZhciBzPUh0KEVzKHQudG9VcHBlckNhc2UoKSkpO3JldHVybiBzLmxhdCYmcy5sb24/W3MubG9uLHMubGF0XTpbKHMubGVmdCtzLnJpZ2h0KS8yLChzLnRvcCtzLmJvdHRvbSkvMl19ZnVuY3Rpb24gV3QodCl7cmV0dXJuIHQqKE1hdGguUEkvMTgwKX1mdW5jdGlvbiBOcyh0KXtyZXR1cm4gMTgwKih0L01hdGguUEkpfWZ1bmN0aW9uIFFhKHQpe3ZhciBzPXQubGF0LGE9dC5sb24saD02Mzc4MTM3LGk9LjAwNjY5NDM4LHI9Ljk5OTYsbixlLG8sbCxjLHUsTSxkPVd0KHMpLGY9V3QoYSksbSx4O3g9TWF0aC5mbG9vcigoYSsxODApLzYpKzEsYT09PTE4MCYmKHg9NjApLHM+PTU2JiZzPDY0JiZhPj0zJiZhPDEyJiYoeD0zMikscz49NzImJnM8ODQmJihhPj0wJiZhPDk/eD0zMTphPj05JiZhPDIxP3g9MzM6YT49MjEmJmE8MzM/eD0zNTphPj0zMyYmYTw0MiYmKHg9MzcpKSxuPSh4LTEpKjYtMTgwKzMsbT1XdChuKSxlPWkvKDEtaSksbz1oL01hdGguc3FydCgxLWkqTWF0aC5zaW4oZCkqTWF0aC5zaW4oZCkpLGw9TWF0aC50YW4oZCkqTWF0aC50YW4oZCksYz1lKk1hdGguY29zKGQpKk1hdGguY29zKGQpLHU9TWF0aC5jb3MoZCkqKGYtbSksTT1oKigoMS1pLzQtMyppKmkvNjQtNSppKmkqaS8yNTYpKmQtKDMqaS84KzMqaSppLzMyKzQ1KmkqaSppLzEwMjQpKk1hdGguc2luKDIqZCkrKDE1KmkqaS8yNTYrNDUqaSppKmkvMTAyNCkqTWF0aC5zaW4oNCpkKS0zNSppKmkqaS8zMDcyKk1hdGguc2luKDYqZCkpO3ZhciBnPXIqbyoodSsoMS1sK2MpKnUqdSp1LzYrKDUtMTgqbCtsKmwrNzIqYy01OCplKSp1KnUqdSp1KnUvMTIwKSs1ZTUsYj1yKihNK28qTWF0aC50YW4oZCkqKHUqdS8yKyg1LWwrOSpjKzQqYypjKSp1KnUqdSp1LzI0Kyg2MS01OCpsK2wqbCs2MDAqYy0zMzAqZSkqdSp1KnUqdSp1KnUvNzIwKSk7cmV0dXJuIHM8MCYmKGIrPTFlNykse25vcnRoaW5nOk1hdGgucm91bmQoYiksZWFzdGluZzpNYXRoLnJvdW5kKGcpLHpvbmVOdW1iZXI6eCx6b25lTGV0dGVyOldhKHMpfX1mdW5jdGlvbiBIdCh0KXt2YXIgcz10Lm5vcnRoaW5nLGE9dC5lYXN0aW5nLGg9dC56b25lTGV0dGVyLGk9dC56b25lTnVtYmVyO2lmKGk8MHx8aT42MClyZXR1cm4gbnVsbDt2YXIgcj0uOTk5NixuPTYzNzgxMzcsZT0uMDA2Njk0MzgsbyxsPSgxLU1hdGguc3FydCgxLWUpKS8oMStNYXRoLnNxcnQoMS1lKSksYyx1LE0sZCxmLG0seCxnLGIsdz1hLTVlNSxQPXM7aDwiTiImJihQLT0xZTcpLHg9KGktMSkqNi0xODArMyxvPWUvKDEtZSksbT1QL3IsZz1tLyhuKigxLWUvNC0zKmUqZS82NC01KmUqZSplLzI1NikpLGI9ZysoMypsLzItMjcqbCpsKmwvMzIpKk1hdGguc2luKDIqZykrKDIxKmwqbC8xNi01NSpsKmwqbCpsLzMyKSpNYXRoLnNpbig0KmcpKzE1MSpsKmwqbC85NipNYXRoLnNpbig2KmcpLGM9bi9NYXRoLnNxcnQoMS1lKk1hdGguc2luKGIpKk1hdGguc2luKGIpKSx1PU1hdGgudGFuKGIpKk1hdGgudGFuKGIpLE09bypNYXRoLmNvcyhiKSpNYXRoLmNvcyhiKSxkPW4qKDEtZSkvTWF0aC5wb3coMS1lKk1hdGguc2luKGIpKk1hdGguc2luKGIpLDEuNSksZj13LyhjKnIpO3ZhciBOPWItYypNYXRoLnRhbihiKS9kKihmKmYvMi0oNSszKnUrMTAqTS00Kk0qTS05Km8pKmYqZipmKmYvMjQrKDYxKzkwKnUrMjk4Kk0rNDUqdSp1LTI1MipvLTMqTSpNKSpmKmYqZipmKmYqZi83MjApO049TnMoTik7dmFyIEM9KGYtKDErMip1K00pKmYqZipmLzYrKDUtMipNKzI4KnUtMypNKk0rOCpvKzI0KnUqdSkqZipmKmYqZipmLzEyMCkvTWF0aC5jb3MoYik7Qz14K05zKEMpO3ZhciBMO2lmKHQuYWNjdXJhY3kpe3ZhciBPPUh0KHtub3J0aGluZzp0Lm5vcnRoaW5nK3QuYWNjdXJhY3ksZWFzdGluZzp0LmVhc3RpbmcrdC5hY2N1cmFjeSx6b25lTGV0dGVyOnQuem9uZUxldHRlcix6b25lTnVtYmVyOnQuem9uZU51bWJlcn0pO0w9e3RvcDpPLmxhdCxyaWdodDpPLmxvbixib3R0b206TixsZWZ0OkN9fWVsc2UgTD17bGF0Ok4sbG9uOkN9O3JldHVybiBMfWZ1bmN0aW9uIFdhKHQpe3ZhciBzPSJaIjtyZXR1cm4gODQ+PXQmJnQ+PTcyP3M9IlgiOjcyPnQmJnQ+PTY0P3M9IlciOjY0PnQmJnQ+PTU2P3M9IlYiOjU2PnQmJnQ+PTQ4P3M9IlUiOjQ4PnQmJnQ+PTQwP3M9IlQiOjQwPnQmJnQ+PTMyP3M9IlMiOjMyPnQmJnQ+PTI0P3M9IlIiOjI0PnQmJnQ+PTE2P3M9IlEiOjE2PnQmJnQ+PTg/cz0iUCI6OD50JiZ0Pj0wP3M9Ik4iOjA+dCYmdD49LTg/cz0iTSI6LTg+dCYmdD49LTE2P3M9IkwiOi0xNj50JiZ0Pj0tMjQ/cz0iSyI6LTI0PnQmJnQ+PS0zMj9zPSJKIjotMzI+dCYmdD49LTQwP3M9IkgiOi00MD50JiZ0Pj0tNDg/cz0iRyI6LTQ4PnQmJnQ+PS01Nj9zPSJGIjotNTY+dCYmdD49LTY0P3M9IkUiOi02ND50JiZ0Pj0tNzI/cz0iRCI6LTcyPnQmJnQ+PS04MCYmKHM9IkMiKSxzfWZ1bmN0aW9uIEhhKHQscyl7dmFyIGE9IjAwMDAwIit0LmVhc3RpbmcsaD0iMDAwMDAiK3Qubm9ydGhpbmc7cmV0dXJuIHQuem9uZU51bWJlcit0LnpvbmVMZXR0ZXIrWGEodC5lYXN0aW5nLHQubm9ydGhpbmcsdC56b25lTnVtYmVyKSthLnN1YnN0cihhLmxlbmd0aC01LHMpK2guc3Vic3RyKGgubGVuZ3RoLTUscyl9ZnVuY3Rpb24gWGEodCxzLGEpe3ZhciBoPUFzKGEpLGk9TWF0aC5mbG9vcih0LzFlNSkscj1NYXRoLmZsb29yKHMvMWU1KSUyMDtyZXR1cm4gSmEoaSxyLGgpfWZ1bmN0aW9uIEFzKHQpe3ZhciBzPXQleHM7cmV0dXJuIHM9PT0wJiYocz14cyksc31mdW5jdGlvbiBKYSh0LHMsYSl7dmFyIGg9YS0xLGk9Z3MuY2hhckNvZGVBdChoKSxyPXZzLmNoYXJDb2RlQXQoaCksbj1pK3QtMSxlPXIrcyxvPSExO24+eHQmJihuPW4teHQrcnQtMSxvPSEwKSwobj09PUJ8fGk8QiYmbj5CfHwobj5CfHxpPEIpJiZvKSYmbisrLChuPT09Rnx8aTxGJiZuPkZ8fChuPkZ8fGk8RikmJm8pJiYobisrLG49PT1CJiZuKyspLG4+eHQmJihuPW4teHQrcnQtMSksZT55dD8oZT1lLXl0K3J0LTEsbz0hMCk6bz0hMSwoZT09PUJ8fHI8QiYmZT5CfHwoZT5CfHxyPEIpJiZvKSYmZSsrLChlPT09Rnx8cjxGJiZlPkZ8fChlPkZ8fHI8RikmJm8pJiYoZSsrLGU9PT1CJiZlKyspLGU+eXQmJihlPWUteXQrcnQtMSk7dmFyIGw9U3RyaW5nLmZyb21DaGFyQ29kZShuKStTdHJpbmcuZnJvbUNoYXJDb2RlKGUpO3JldHVybiBsfWZ1bmN0aW9uIEVzKHQpe2lmKHQmJnQubGVuZ3RoPT09MCl0aHJvdyJNR1JTUG9pbnQgY292ZXJ0aW5nIGZyb20gbm90aGluZyI7Zm9yKHZhciBzPXQubGVuZ3RoLGE9bnVsbCxoPSIiLGkscj0wOyEvW0EtWl0vLnRlc3QoaT10LmNoYXJBdChyKSk7KXtpZihyPj0yKXRocm93Ik1HUlNQb2ludCBiYWQgY29udmVyc2lvbiBmcm9tOiAiK3Q7aCs9aSxyKyt9dmFyIG49cGFyc2VJbnQoaCwxMCk7aWYocj09PTB8fHIrMz5zKXRocm93Ik1HUlNQb2ludCBiYWQgY29udmVyc2lvbiBmcm9tOiAiK3Q7dmFyIGU9dC5jaGFyQXQocisrKTtpZihlPD0iQSJ8fGU9PT0iQiJ8fGU9PT0iWSJ8fGU+PSJaInx8ZT09PSJJInx8ZT09PSJPIil0aHJvdyJNR1JTUG9pbnQgem9uZSBsZXR0ZXIgIitlKyIgbm90IGhhbmRsZWQ6ICIrdDthPXQuc3Vic3RyaW5nKHIscis9Mik7Zm9yKHZhciBvPUFzKG4pLGw9S2EoYS5jaGFyQXQoMCksbyksYz1WYShhLmNoYXJBdCgxKSxvKTtjPFphKGUpOyljKz0yZTY7dmFyIHU9cy1yO2lmKHUlMiE9PTApdGhyb3dgTUdSU1BvaW50IGhhcyB0byBoYXZlIGFuIGV2ZW4gbnVtYmVyIApvZiBkaWdpdHMgYWZ0ZXIgdGhlIHpvbmUgbGV0dGVyIGFuZCB0d28gMTAwa20gbGV0dGVycyAtIGZyb250IApoYWxmIGZvciBlYXN0aW5nIG1ldGVycywgc2Vjb25kIGhhbGYgZm9yIApub3J0aGluZyBtZXRlcnNgK3Q7dmFyIE09dS8yLGQ9MCxmPTAsbSx4LGcsYix3O3JldHVybiBNPjAmJihtPTFlNS9NYXRoLnBvdygxMCxNKSx4PXQuc3Vic3RyaW5nKHIscitNKSxkPXBhcnNlRmxvYXQoeCkqbSxnPXQuc3Vic3RyaW5nKHIrTSksZj1wYXJzZUZsb2F0KGcpKm0pLGI9ZCtsLHc9ZitjLHtlYXN0aW5nOmIsbm9ydGhpbmc6dyx6b25lTGV0dGVyOmUsem9uZU51bWJlcjpuLGFjY3VyYWN5Om19fWZ1bmN0aW9uIEthKHQscyl7Zm9yKHZhciBhPWdzLmNoYXJDb2RlQXQocy0xKSxoPTFlNSxpPSExO2EhPT10LmNoYXJDb2RlQXQoMCk7KXtpZihhKyssYT09PUImJmErKyxhPT09RiYmYSsrLGE+eHQpe2lmKGkpdGhyb3ciQmFkIGNoYXJhY3RlcjogIit0O2E9cnQsaT0hMH1oKz0xZTV9cmV0dXJuIGh9ZnVuY3Rpb24gVmEodCxzKXtpZih0PiJWIil0aHJvdyJNR1JTUG9pbnQgZ2l2ZW4gaW52YWxpZCBOb3J0aGluZyAiK3Q7Zm9yKHZhciBhPXZzLmNoYXJDb2RlQXQocy0xKSxoPTAsaT0hMTthIT09dC5jaGFyQ29kZUF0KDApOyl7aWYoYSsrLGE9PT1CJiZhKyssYT09PUYmJmErKyxhPnl0KXtpZihpKXRocm93IkJhZCBjaGFyYWN0ZXI6ICIrdDthPXJ0LGk9ITB9aCs9MWU1fXJldHVybiBofWZ1bmN0aW9uIFphKHQpe3ZhciBzO3N3aXRjaCh0KXtjYXNlIkMiOnM9MTFlNTticmVhaztjYXNlIkQiOnM9MmU2O2JyZWFrO2Nhc2UiRSI6cz0yOGU1O2JyZWFrO2Nhc2UiRiI6cz0zN2U1O2JyZWFrO2Nhc2UiRyI6cz00NmU1O2JyZWFrO2Nhc2UiSCI6cz01NWU1O2JyZWFrO2Nhc2UiSiI6cz02NGU1O2JyZWFrO2Nhc2UiSyI6cz03M2U1O2JyZWFrO2Nhc2UiTCI6cz04MmU1O2JyZWFrO2Nhc2UiTSI6cz05MWU1O2JyZWFrO2Nhc2UiTiI6cz0wO2JyZWFrO2Nhc2UiUCI6cz04ZTU7YnJlYWs7Y2FzZSJRIjpzPTE3ZTU7YnJlYWs7Y2FzZSJSIjpzPTI2ZTU7YnJlYWs7Y2FzZSJTIjpzPTM1ZTU7YnJlYWs7Y2FzZSJUIjpzPTQ0ZTU7YnJlYWs7Y2FzZSJVIjpzPTUzZTU7YnJlYWs7Y2FzZSJWIjpzPTYyZTU7YnJlYWs7Y2FzZSJXIjpzPTdlNjticmVhaztjYXNlIlgiOnM9NzllNTticmVhaztkZWZhdWx0OnM9LTF9aWYocz49MClyZXR1cm4gczt0aHJvdyJJbnZhbGlkIHpvbmUgbGV0dGVyOiAiK3R9ZnVuY3Rpb24gbnQodCxzLGEpe2lmKCEodGhpcyBpbnN0YW5jZW9mIG50KSlyZXR1cm4gbmV3IG50KHQscyxhKTtpZihBcnJheS5pc0FycmF5KHQpKXRoaXMueD10WzBdLHRoaXMueT10WzFdLHRoaXMuej10WzJdfHwwO2Vsc2UgaWYodHlwZW9mIHQ9PSJvYmplY3QiKXRoaXMueD10LngsdGhpcy55PXQueSx0aGlzLno9dC56fHwwO2Vsc2UgaWYodHlwZW9mIHQ9PSJzdHJpbmciJiZ0eXBlb2Ygcz4idSIpe3ZhciBoPXQuc3BsaXQoIiwiKTt0aGlzLng9cGFyc2VGbG9hdChoWzBdLDEwKSx0aGlzLnk9cGFyc2VGbG9hdChoWzFdLDEwKSx0aGlzLno9cGFyc2VGbG9hdChoWzJdLDEwKXx8MH1lbHNlIHRoaXMueD10LHRoaXMueT1zLHRoaXMuej1hfHwwO2NvbnNvbGUud2FybigicHJvajQuUG9pbnQgd2lsbCBiZSByZW1vdmVkIGluIHZlcnNpb24gMywgdXNlIHByb2o0LnRvUG9pbnQiKX1udC5mcm9tTUdSUz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IG50KHdzKHQpKX0sbnQucHJvdG90eXBlLnRvTUdSUz1mdW5jdGlvbih0KXtyZXR1cm4gYnMoW3RoaXMueCx0aGlzLnldLHQpfTt2YXIgWWE9MSwkYT0uMjUsQ3M9LjA0Njg3NSxQcz0uMDE5NTMxMjUsU3M9LjAxMDY4MTE1MjM0Mzc1LHRpPS43NSxzaT0uNDY4NzUsYWk9LjAxMzAyMDgzMzMzMzMzMzMzNCxpaT0uMDA3MTIwNzY4MjI5MTY2NjY3LGhpPS4zNjQ1ODMzMzMzMzMzMzMzLGVpPS4wMDU2OTY2MTQ1ODMzMzMzMzMscmk9LjMwNzYxNzE4NzU7ZnVuY3Rpb24gT3ModCl7dmFyIHM9W107c1swXT1ZYS10KigkYSt0KihDcyt0KihQcyt0KlNzKSkpLHNbMV09dCoodGktdCooQ3MrdCooUHMrdCpTcykpKTt2YXIgYT10KnQ7cmV0dXJuIHNbMl09YSooc2ktdCooYWkrdCppaSkpLGEqPXQsc1szXT1hKihoaS10KmVpKSxzWzRdPWEqdCpyaSxzfWZ1bmN0aW9uIHF0KHQscyxhLGgpe3JldHVybiBhKj1zLHMqPXMsaFswXSp0LWEqKGhbMV0rcyooaFsyXStzKihoWzNdK3MqaFs0XSkpKX12YXIgbmk9MjA7ZnVuY3Rpb24ga3ModCxzLGEpe2Zvcih2YXIgaD0xLygxLXMpLGk9dCxyPW5pO3I7LS1yKXt2YXIgbj1NYXRoLnNpbihpKSxlPTEtcypuKm47aWYoZT0ocXQoaSxuLE1hdGguY29zKGkpLGEpLXQpKihlKk1hdGguc3FydChlKSkqaCxpLT1lLE1hdGguYWJzKGUpPF8pcmV0dXJuIGl9cmV0dXJuIGl9ZnVuY3Rpb24gb2koKXt0aGlzLngwPXRoaXMueDAhPT12b2lkIDA/dGhpcy54MDowLHRoaXMueTA9dGhpcy55MCE9PXZvaWQgMD90aGlzLnkwOjAsdGhpcy5sb25nMD10aGlzLmxvbmcwIT09dm9pZCAwP3RoaXMubG9uZzA6MCx0aGlzLmxhdDA9dGhpcy5sYXQwIT09dm9pZCAwP3RoaXMubGF0MDowLHRoaXMuZXMmJih0aGlzLmVuPU9zKHRoaXMuZXMpLHRoaXMubWwwPXF0KHRoaXMubGF0MCxNYXRoLnNpbih0aGlzLmxhdDApLE1hdGguY29zKHRoaXMubGF0MCksdGhpcy5lbikpfWZ1bmN0aW9uIGxpKHQpe3ZhciBzPXQueCxhPXQueSxoPXkocy10aGlzLmxvbmcwKSxpLHIsbixlPU1hdGguc2luKGEpLG89TWF0aC5jb3MoYSk7aWYodGhpcy5lcyl7dmFyIGw9bypoLGM9TWF0aC5wb3cobCwyKSx1PXRoaXMuZXAyKk1hdGgucG93KG8sMiksTT1NYXRoLnBvdyh1LDIpLGQ9TWF0aC5hYnMobyk+Xz9NYXRoLnRhbihhKTowLGY9TWF0aC5wb3coZCwyKSxtPU1hdGgucG93KGYsMik7aT0xLXRoaXMuZXMqTWF0aC5wb3coZSwyKSxsPWwvTWF0aC5zcXJ0KGkpO3ZhciB4PXF0KGEsZSxvLHRoaXMuZW4pO3I9dGhpcy5hKih0aGlzLmswKmwqKDErYy82KigxLWYrdStjLzIwKig1LTE4KmYrbSsxNCp1LTU4KmYqdStjLzQyKig2MSsxNzkqbS1tKmYtNDc5KmYpKSkpKSt0aGlzLngwLG49dGhpcy5hKih0aGlzLmswKih4LXRoaXMubWwwK2UqaCpsLzIqKDErYy8xMiooNS1mKzkqdSs0Kk0rYy8zMCooNjErbS01OCpmKzI3MCp1LTMzMCpmKnUrYy81NiooMTM4NSs1NDMqbS1tKmYtMzExMSpmKSkpKSkpK3RoaXMueTB9ZWxzZXt2YXIgZz1vKk1hdGguc2luKGgpO2lmKE1hdGguYWJzKE1hdGguYWJzKGcpLTEpPF8pcmV0dXJuIDkzO2lmKHI9LjUqdGhpcy5hKnRoaXMuazAqTWF0aC5sb2coKDErZykvKDEtZykpK3RoaXMueDAsbj1vKk1hdGguY29zKGgpL01hdGguc3FydCgxLU1hdGgucG93KGcsMikpLGc9TWF0aC5hYnMobiksZz49MSl7aWYoZy0xPl8pcmV0dXJuIDkzO249MH1lbHNlIG49TWF0aC5hY29zKG4pO2E8MCYmKG49LW4pLG49dGhpcy5hKnRoaXMuazAqKG4tdGhpcy5sYXQwKSt0aGlzLnkwfXJldHVybiB0Lng9cix0Lnk9bix0fWZ1bmN0aW9uIHVpKHQpe3ZhciBzLGEsaCxpLHI9KHQueC10aGlzLngwKSooMS90aGlzLmEpLG49KHQueS10aGlzLnkwKSooMS90aGlzLmEpO2lmKHRoaXMuZXMpaWYocz10aGlzLm1sMCtuL3RoaXMuazAsYT1rcyhzLHRoaXMuZXMsdGhpcy5lbiksTWF0aC5hYnMoYSk8cCl7dmFyIGU9TWF0aC5zaW4oYSksbz1NYXRoLmNvcyhhKSxsPU1hdGguYWJzKG8pPl8/TWF0aC50YW4oYSk6MCxjPXRoaXMuZXAyKk1hdGgucG93KG8sMiksdT1NYXRoLnBvdyhjLDIpLE09TWF0aC5wb3cobCwyKSxkPU1hdGgucG93KE0sMik7cz0xLXRoaXMuZXMqTWF0aC5wb3coZSwyKTt2YXIgZj1yKk1hdGguc3FydChzKS90aGlzLmswLG09TWF0aC5wb3coZiwyKTtzPXMqbCxoPWEtcyptLygxLXRoaXMuZXMpKi41KigxLW0vMTIqKDUrMypNLTkqYypNK2MtNCp1LW0vMzAqKDYxKzkwKk0tMjUyKmMqTSs0NSpkKzQ2KmMtbS81NiooMTM4NSszNjMzKk0rNDA5NSpkKzE1NzQqZCpNKSkpKSxpPXkodGhpcy5sb25nMCtmKigxLW0vNiooMSsyKk0rYy1tLzIwKig1KzI4Kk0rMjQqZCs4KmMqTSs2KmMtbS80MiooNjErNjYyKk0rMTMyMCpkKzcyMCpkKk0pKSkpL28pfWVsc2UgaD1wKm10KG4pLGk9MDtlbHNle3ZhciB4PU1hdGguZXhwKHIvdGhpcy5rMCksZz0uNSooeC0xL3gpLGI9dGhpcy5sYXQwK24vdGhpcy5rMCx3PU1hdGguY29zKGIpO3M9TWF0aC5zcXJ0KCgxLU1hdGgucG93KHcsMikpLygxK01hdGgucG93KGcsMikpKSxoPU1hdGguYXNpbihzKSxuPDAmJihoPS1oKSxnPT09MCYmdz09PTA/aT0wOmk9eShNYXRoLmF0YW4yKGcsdykrdGhpcy5sb25nMCl9cmV0dXJuIHQueD1pLHQueT1oLHR9dmFyIGNpPVsiRmFzdF9UcmFuc3ZlcnNlX01lcmNhdG9yIiwiRmFzdCBUcmFuc3ZlcnNlIE1lcmNhdG9yIl0sUnQ9e2luaXQ6b2ksZm9yd2FyZDpsaSxpbnZlcnNlOnVpLG5hbWVzOmNpfTtmdW5jdGlvbiBJcyh0KXt2YXIgcz1NYXRoLmV4cCh0KTtyZXR1cm4gcz0ocy0xL3MpLzIsc31mdW5jdGlvbiBVKHQscyl7dD1NYXRoLmFicyh0KSxzPU1hdGguYWJzKHMpO3ZhciBhPU1hdGgubWF4KHQscyksaD1NYXRoLm1pbih0LHMpLyhhfHwxKTtyZXR1cm4gYSpNYXRoLnNxcnQoMStNYXRoLnBvdyhoLDIpKX1mdW5jdGlvbiBNaSh0KXt2YXIgcz0xK3QsYT1zLTE7cmV0dXJuIGE9PT0wP3Q6dCpNYXRoLmxvZyhzKS9hfWZ1bmN0aW9uIGZpKHQpe3ZhciBzPU1hdGguYWJzKHQpO3JldHVybiBzPU1pKHMqKDErcy8oVSgxLHMpKzEpKSksdDwwPy1zOnN9ZnVuY3Rpb24gWHQodCxzKXtmb3IodmFyIGE9MipNYXRoLmNvcygyKnMpLGg9dC5sZW5ndGgtMSxpPXRbaF0scj0wLG47LS1oPj0wOyluPS1yK2EqaSt0W2hdLHI9aSxpPW47cmV0dXJuIHMrbipNYXRoLnNpbigyKnMpfWZ1bmN0aW9uIGRpKHQscyl7Zm9yKHZhciBhPTIqTWF0aC5jb3MocyksaD10Lmxlbmd0aC0xLGk9dFtoXSxyPTAsbjstLWg+PTA7KW49LXIrYSppK3RbaF0scj1pLGk9bjtyZXR1cm4gTWF0aC5zaW4ocykqbn1mdW5jdGlvbiBwaSh0KXt2YXIgcz1NYXRoLmV4cCh0KTtyZXR1cm4gcz0ocysxL3MpLzIsc31mdW5jdGlvbiBxcyh0LHMsYSl7Zm9yKHZhciBoPU1hdGguc2luKHMpLGk9TWF0aC5jb3Mocykscj1JcyhhKSxuPXBpKGEpLGU9MippKm4sbz0tMipoKnIsbD10Lmxlbmd0aC0xLGM9dFtsXSx1PTAsTT0wLGQ9MCxmLG07LS1sPj0wOylmPU0sbT11LE09Yyx1PWQsYz0tZitlKk0tbyp1K3RbbF0sZD0tbStvKk0rZSp1O3JldHVybiBlPWgqbixvPWkqcixbZSpjLW8qZCxlKmQrbypjXX1mdW5jdGlvbiBtaSgpe2lmKCF0aGlzLmFwcHJveCYmKGlzTmFOKHRoaXMuZXMpfHx0aGlzLmVzPD0wKSl0aHJvdyBuZXcgRXJyb3IoJ0luY29ycmVjdCBlbGxpcHRpY2FsIHVzYWdlLiBUcnkgdXNpbmcgdGhlICthcHByb3ggb3B0aW9uIGluIHRoZSBwcm9qIHN0cmluZywgb3IgUFJPSkVDVElPTlsiRmFzdF9UcmFuc3ZlcnNlX01lcmNhdG9yIl0gaW4gdGhlIFdLVC4nKTt0aGlzLmFwcHJveCYmKFJ0LmluaXQuYXBwbHkodGhpcyksdGhpcy5mb3J3YXJkPVJ0LmZvcndhcmQsdGhpcy5pbnZlcnNlPVJ0LmludmVyc2UpLHRoaXMueDA9dGhpcy54MCE9PXZvaWQgMD90aGlzLngwOjAsdGhpcy55MD10aGlzLnkwIT09dm9pZCAwP3RoaXMueTA6MCx0aGlzLmxvbmcwPXRoaXMubG9uZzAhPT12b2lkIDA/dGhpcy5sb25nMDowLHRoaXMubGF0MD10aGlzLmxhdDAhPT12b2lkIDA/dGhpcy5sYXQwOjAsdGhpcy5jZ2I9W10sdGhpcy5jYmc9W10sdGhpcy51dGc9W10sdGhpcy5ndHU9W107dmFyIHQ9dGhpcy5lcy8oMStNYXRoLnNxcnQoMS10aGlzLmVzKSkscz10LygyLXQpLGE9czt0aGlzLmNnYlswXT1zKigyK3MqKC0uNjY2NjY2NjY2NjY2NjY2NitzKigtMitzKigyLjU3Nzc3Nzc3Nzc3Nzc3OCtzKiguNTc3Nzc3Nzc3Nzc3Nzc3NytzKi00LjIyODE0ODE0ODE0ODE0OCkpKSkpLHRoaXMuY2JnWzBdPXMqKC0yK3MqKC42NjY2NjY2NjY2NjY2NjY2K3MqKDEuMzMzMzMzMzMzMzMzMzMzMytzKigtMS44MjIyMjIyMjIyMjIyMjIyK3MqKC43MTExMTExMTExMTExMTExK3MqLjk4MjQzMzg2MjQzMzg2MjQpKSkpKSxhPWEqcyx0aGlzLmNnYlsxXT1hKigyLjMzMzMzMzMzMzMzMzMzMzUrcyooLTEuNitzKigtNS4wNDQ0NDQ0NDQ0NDQ0NDQrcyooOC41ODQxMjY5ODQxMjY5ODQrcyoyLjQ1ODIwMTA1ODIwMTA1OCkpKSksdGhpcy5jYmdbMV09YSooMS42NjY2NjY2NjY2NjY2NjY3K3MqKC0xLjA2NjY2NjY2NjY2NjY2NjcrcyooLTEuNDQ0NDQ0NDQ0NDQ0NDQ0NCtzKigyLjg2OTg0MTI2OTg0MTI3K3MqLTEuNjEwNTgyMDEwNTgyMDEwNikpKSksYT1hKnMsdGhpcy5jZ2JbMl09YSooMy43MzMzMzMzMzMzMzMzMzM0K3MqKC0zLjg4NTcxNDI4NTcxNDI4NTcrcyooLTEyLjAxOTA0NzYxOTA0NzYxOStzKjI2LjAzNjY4NDMwMzM1MDk3KSkpLHRoaXMuY2JnWzJdPWEqKC0xLjczMzMzMzMzMzMzMzMzMzQrcyooMS42MTkwNDc2MTkwNDc2MTkrcyooMS42K3MqLTQuNDc0Nzc5NTQxNDQ2MjA4KSkpLGE9YSpzLHRoaXMuY2diWzNdPWEqKDYuNzkyMDYzNDkyMDYzNDkyK3MqKC05LjQ4NTcxNDI4NTcxNDI4NitzKi0yOC4xODg1MDA4ODE4MzQyMTYpKSx0aGlzLmNiZ1szXT1hKigxLjk2MzQ5MjA2MzQ5MjA2MzQrcyooLTIuNCtzKi0xLjc1MTgxNjU3ODQ4MzI0NTEpKSxhPWEqcyx0aGlzLmNnYls0XT1hKigxMy4yNTA3OTM2NTA3OTM2NTIrcyotMjMuMjIyMzgyNTU1NzE1ODkpLHRoaXMuY2JnWzRdPWEqKC0yLjMzMDE1ODczMDE1ODczMDMrcyozLjUxNDQ0NjA0Nzc3OTM4MTMpLGE9YSpzLHRoaXMuY2diWzVdPWEqMjcuMDExMjY4MjM3OTM0OTAzLHRoaXMuY2JnWzVdPWEqMi44NDk2ODQxNDMwMTc0NzY0LGE9TWF0aC5wb3cocywyKSx0aGlzLlFuPXRoaXMuazAvKDErcykqKDErYSooLjI1K2EqKC4wMTU2MjUrYS8yNTYpKSksdGhpcy51dGdbMF09cyooLS41K3MqKC42NjY2NjY2NjY2NjY2NjY2K3MqKC0uMzg1NDE2NjY2NjY2NjY2NytzKiguMDAyNzc3Nzc3Nzc3Nzc3Nzc4K3MqKC4xNTgyMDMxMjUrcyotLjE1OTA1OTE5MzEyMTY5MzEyKSkpKSksdGhpcy5ndHVbMF09cyooLjUrcyooLS42NjY2NjY2NjY2NjY2NjY2K3MqKC4zMTI1K3MqKC4yMjc3Nzc3Nzc3Nzc3Nzc3NytzKigtLjQ0MDk3MjIyMjIyMjIyMjIrcyouMjA4NzU2NjEzNzU2NjEzNzUpKSkpKSx0aGlzLnV0Z1sxXT1hKigtLjAyMDgzMzMzMzMzMzMzMzMzMitzKigtLjA2NjY2NjY2NjY2NjY2NjY3K3MqKC4zMDM0NzIyMjIyMjIyMjIyK3MqKC0uNDM4MDk1MjM4MDk1MjM4MStzKi4yODkwMTg4Mzg4NzIzNTQ1KSkpKSx0aGlzLmd0dVsxXT1hKiguMjcwODMzMzMzMzMzMzMzMytzKigtLjYrcyooLjM4NjgwNTU1NTU1NTU1NTU3K3MqKC40NDYwMzE3NDYwMzE3NDYwNitzKi0xLjAyNDgzOTMwNjM4MjI3NTIpKSkpLGE9YSpzLHRoaXMudXRnWzJdPWEqKC0uMDM1NDE2NjY2NjY2NjY2NjY2K3MqKC4wNDQwNDc2MTkwNDc2MTkwNStzKiguMDQ2NjUxNzg1NzE0Mjg1NzE1K3MqLS4wNjEzODY2ODQzMDMzNTA5NykpKSx0aGlzLmd0dVsyXT1hKiguMjU0MTY2NjY2NjY2NjY2NjUrcyooLS43MzU3MTQyODU3MTQyODU4K3MqKC41NjAzMDUwNTk1MjM4MDk1K3MqLjkyMzczNzg3NDc3OTU0MTUpKSksYT1hKnMsdGhpcy51dGdbM109YSooLS4wMjcyNjMxNDQ4NDEyNjk4NCtzKiguMDIxODI1Mzk2ODI1Mzk2ODI0K3MqLjExNDM5NzQ1OTIxNTE2NzU0KSksdGhpcy5ndHVbM109YSooLjMwNzI5Nzg2NzA2MzQ5MjA1K3MqKC0xLjA2NTQ3NjE5MDQ3NjE5MDUrcyouOTA5NjIwMzk3OTI3Njg5NikpLGE9YSpzLHRoaXMudXRnWzRdPWEqKC0uMDI4NDE2NDE4NjUwNzkzNjUrcyouMDI3MjY4NDY4NDE0MzAxNzQ2KSx0aGlzLmd0dVs0XT1hKiguNDMwNjY3MTYyNjk4NDEyNytzKi0xLjcxMzAwNzU1NTcxNTg4OSksYT1hKnMsdGhpcy51dGdbNV09YSotLjAzMjMzMDgzMDk0MDg1Njk4LHRoaXMuZ3R1WzVdPWEqLjY2NTA2NzUzMTA4OTY2NjU7dmFyIGg9WHQodGhpcy5jYmcsdGhpcy5sYXQwKTt0aGlzLlpiPS10aGlzLlFuKihoK2RpKHRoaXMuZ3R1LDIqaCkpfWZ1bmN0aW9uIF9pKHQpe3ZhciBzPXkodC54LXRoaXMubG9uZzApLGE9dC55O2E9WHQodGhpcy5jYmcsYSk7dmFyIGg9TWF0aC5zaW4oYSksaT1NYXRoLmNvcyhhKSxyPU1hdGguc2luKHMpLG49TWF0aC5jb3Mocyk7YT1NYXRoLmF0YW4yKGgsbippKSxzPU1hdGguYXRhbjIocippLFUoaCxpKm4pKSxzPWZpKE1hdGgudGFuKHMpKTt2YXIgZT1xcyh0aGlzLmd0dSwyKmEsMipzKTthPWErZVswXSxzPXMrZVsxXTt2YXIgbyxsO3JldHVybiBNYXRoLmFicyhzKTw9Mi42MjMzOTUxNjI3Nzg/KG89dGhpcy5hKih0aGlzLlFuKnMpK3RoaXMueDAsbD10aGlzLmEqKHRoaXMuUW4qYSt0aGlzLlpiKSt0aGlzLnkwKToobz0xLzAsbD0xLzApLHQueD1vLHQueT1sLHR9ZnVuY3Rpb24geWkodCl7dmFyIHM9KHQueC10aGlzLngwKSooMS90aGlzLmEpLGE9KHQueS10aGlzLnkwKSooMS90aGlzLmEpO2E9KGEtdGhpcy5aYikvdGhpcy5RbixzPXMvdGhpcy5Rbjt2YXIgaCxpO2lmKE1hdGguYWJzKHMpPD0yLjYyMzM5NTE2Mjc3OCl7dmFyIHI9cXModGhpcy51dGcsMiphLDIqcyk7YT1hK3JbMF0scz1zK3JbMV0scz1NYXRoLmF0YW4oSXMocykpO3ZhciBuPU1hdGguc2luKGEpLGU9TWF0aC5jb3MoYSksbz1NYXRoLnNpbihzKSxsPU1hdGguY29zKHMpO2E9TWF0aC5hdGFuMihuKmwsVShvLGwqZSkpLHM9TWF0aC5hdGFuMihvLGwqZSksaD15KHMrdGhpcy5sb25nMCksaT1YdCh0aGlzLmNnYixhKX1lbHNlIGg9MS8wLGk9MS8wO3JldHVybiB0Lng9aCx0Lnk9aSx0fXZhciB4aT1bIkV4dGVuZGVkX1RyYW5zdmVyc2VfTWVyY2F0b3IiLCJFeHRlbmRlZCBUcmFuc3ZlcnNlIE1lcmNhdG9yIiwiZXRtZXJjIiwiVHJhbnN2ZXJzZV9NZXJjYXRvciIsIlRyYW5zdmVyc2UgTWVyY2F0b3IiLCJ0bWVyYyJdLEx0PXtpbml0Om1pLGZvcndhcmQ6X2ksaW52ZXJzZTp5aSxuYW1lczp4aX07ZnVuY3Rpb24gZ2kodCxzKXtpZih0PT09dm9pZCAwKXtpZih0PU1hdGguZmxvb3IoKHkocykrTWF0aC5QSSkqMzAvTWF0aC5QSSkrMSx0PDApcmV0dXJuIDA7aWYodD42MClyZXR1cm4gNjB9cmV0dXJuIHR9dmFyIHZpPSJldG1lcmMiO2Z1bmN0aW9uIGJpKCl7dmFyIHQ9Z2kodGhpcy56b25lLHRoaXMubG9uZzApO2lmKHQ9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKCJ1bmtub3duIHV0bSB6b25lIik7dGhpcy5sYXQwPTAsdGhpcy5sb25nMD0oNipNYXRoLmFicyh0KS0xODMpKnEsdGhpcy54MD01ZTUsdGhpcy55MD10aGlzLnV0bVNvdXRoPzFlNzowLHRoaXMuazA9Ljk5OTYsTHQuaW5pdC5hcHBseSh0aGlzKSx0aGlzLmZvcndhcmQ9THQuZm9yd2FyZCx0aGlzLmludmVyc2U9THQuaW52ZXJzZX12YXIgd2k9WyJVbml2ZXJzYWwgVHJhbnN2ZXJzZSBNZXJjYXRvciBTeXN0ZW0iLCJ1dG0iXSxOaT17aW5pdDpiaSxuYW1lczp3aSxkZXBlbmRzT246dml9O2Z1bmN0aW9uIEp0KHQscyl7cmV0dXJuIE1hdGgucG93KCgxLXQpLygxK3QpLHMpfXZhciBBaT0yMDtmdW5jdGlvbiBFaSgpe3ZhciB0PU1hdGguc2luKHRoaXMubGF0MCkscz1NYXRoLmNvcyh0aGlzLmxhdDApO3MqPXMsdGhpcy5yYz1NYXRoLnNxcnQoMS10aGlzLmVzKS8oMS10aGlzLmVzKnQqdCksdGhpcy5DPU1hdGguc3FydCgxK3RoaXMuZXMqcypzLygxLXRoaXMuZXMpKSx0aGlzLnBoaWMwPU1hdGguYXNpbih0L3RoaXMuQyksdGhpcy5yYXRleHA9LjUqdGhpcy5DKnRoaXMuZSx0aGlzLks9TWF0aC50YW4oLjUqdGhpcy5waGljMCtBKS8oTWF0aC5wb3coTWF0aC50YW4oLjUqdGhpcy5sYXQwK0EpLHRoaXMuQykqSnQodGhpcy5lKnQsdGhpcy5yYXRleHApKX1mdW5jdGlvbiBDaSh0KXt2YXIgcz10LngsYT10Lnk7cmV0dXJuIHQueT0yKk1hdGguYXRhbih0aGlzLksqTWF0aC5wb3coTWF0aC50YW4oLjUqYStBKSx0aGlzLkMpKkp0KHRoaXMuZSpNYXRoLnNpbihhKSx0aGlzLnJhdGV4cCkpLXAsdC54PXRoaXMuQypzLHR9ZnVuY3Rpb24gUGkodCl7Zm9yKHZhciBzPTFlLTE0LGE9dC54L3RoaXMuQyxoPXQueSxpPU1hdGgucG93KE1hdGgudGFuKC41KmgrQSkvdGhpcy5LLDEvdGhpcy5DKSxyPUFpO3I+MCYmKGg9MipNYXRoLmF0YW4oaSpKdCh0aGlzLmUqTWF0aC5zaW4odC55KSwtLjUqdGhpcy5lKSktcCwhKE1hdGguYWJzKGgtdC55KTxzKSk7LS1yKXQueT1oO3JldHVybiByPyh0Lng9YSx0Lnk9aCx0KTpudWxsfXZhciBTaT1bImdhdXNzIl0sS3Q9e2luaXQ6RWksZm9yd2FyZDpDaSxpbnZlcnNlOlBpLG5hbWVzOlNpfTtmdW5jdGlvbiBPaSgpe0t0LmluaXQuYXBwbHkodGhpcyksISF0aGlzLnJjJiYodGhpcy5zaW5jMD1NYXRoLnNpbih0aGlzLnBoaWMwKSx0aGlzLmNvc2MwPU1hdGguY29zKHRoaXMucGhpYzApLHRoaXMuUjI9Mip0aGlzLnJjLHRoaXMudGl0bGV8fCh0aGlzLnRpdGxlPSJPYmxpcXVlIFN0ZXJlb2dyYXBoaWMgQWx0ZXJuYXRpdmUiKSl9ZnVuY3Rpb24ga2kodCl7dmFyIHMsYSxoLGk7cmV0dXJuIHQueD15KHQueC10aGlzLmxvbmcwKSxLdC5mb3J3YXJkLmFwcGx5KHRoaXMsW3RdKSxzPU1hdGguc2luKHQueSksYT1NYXRoLmNvcyh0LnkpLGg9TWF0aC5jb3ModC54KSxpPXRoaXMuazAqdGhpcy5SMi8oMSt0aGlzLnNpbmMwKnMrdGhpcy5jb3NjMCphKmgpLHQueD1pKmEqTWF0aC5zaW4odC54KSx0Lnk9aSoodGhpcy5jb3NjMCpzLXRoaXMuc2luYzAqYSpoKSx0Lng9dGhpcy5hKnQueCt0aGlzLngwLHQueT10aGlzLmEqdC55K3RoaXMueTAsdH1mdW5jdGlvbiBJaSh0KXt2YXIgcyxhLGgsaSxyO2lmKHQueD0odC54LXRoaXMueDApL3RoaXMuYSx0Lnk9KHQueS10aGlzLnkwKS90aGlzLmEsdC54Lz10aGlzLmswLHQueS89dGhpcy5rMCxyPU1hdGguc3FydCh0LngqdC54K3QueSp0LnkpKXt2YXIgbj0yKk1hdGguYXRhbjIocix0aGlzLlIyKTtzPU1hdGguc2luKG4pLGE9TWF0aC5jb3MobiksaT1NYXRoLmFzaW4oYSp0aGlzLnNpbmMwK3QueSpzKnRoaXMuY29zYzAvciksaD1NYXRoLmF0YW4yKHQueCpzLHIqdGhpcy5jb3NjMCphLXQueSp0aGlzLnNpbmMwKnMpfWVsc2UgaT10aGlzLnBoaWMwLGg9MDtyZXR1cm4gdC54PWgsdC55PWksS3QuaW52ZXJzZS5hcHBseSh0aGlzLFt0XSksdC54PXkodC54K3RoaXMubG9uZzApLHR9dmFyIHFpPVsiU3RlcmVvZ3JhcGhpY19Ob3J0aF9Qb2xlIiwiT2JsaXF1ZV9TdGVyZW9ncmFwaGljIiwiUG9sYXJfU3RlcmVvZ3JhcGhpYyIsInN0ZXJlYSIsIk9ibGlxdWUgU3RlcmVvZ3JhcGhpYyBBbHRlcm5hdGl2ZSIsIkRvdWJsZV9TdGVyZW9ncmFwaGljIl0sUmk9e2luaXQ6T2ksZm9yd2FyZDpraSxpbnZlcnNlOklpLG5hbWVzOnFpfTtmdW5jdGlvbiBMaSh0LHMsYSl7cmV0dXJuIHMqPWEsTWF0aC50YW4oLjUqKHArdCkpKk1hdGgucG93KCgxLXMpLygxK3MpLC41KmEpfWZ1bmN0aW9uIFRpKCl7dGhpcy5jb3NsYXQwPU1hdGguY29zKHRoaXMubGF0MCksdGhpcy5zaW5sYXQwPU1hdGguc2luKHRoaXMubGF0MCksdGhpcy5zcGhlcmU/dGhpcy5rMD09PTEmJiFpc05hTih0aGlzLmxhdF90cykmJk1hdGguYWJzKHRoaXMuY29zbGF0MCk8PV8mJih0aGlzLmswPS41KigxK210KHRoaXMubGF0MCkqTWF0aC5zaW4odGhpcy5sYXRfdHMpKSk6KE1hdGguYWJzKHRoaXMuY29zbGF0MCk8PV8mJih0aGlzLmxhdDA+MD90aGlzLmNvbj0xOnRoaXMuY29uPS0xKSx0aGlzLmNvbnM9TWF0aC5zcXJ0KE1hdGgucG93KDErdGhpcy5lLDErdGhpcy5lKSpNYXRoLnBvdygxLXRoaXMuZSwxLXRoaXMuZSkpLHRoaXMuazA9PT0xJiYhaXNOYU4odGhpcy5sYXRfdHMpJiZNYXRoLmFicyh0aGlzLmNvc2xhdDApPD1fJiYodGhpcy5rMD0uNSp0aGlzLmNvbnMqVyh0aGlzLmUsTWF0aC5zaW4odGhpcy5sYXRfdHMpLE1hdGguY29zKHRoaXMubGF0X3RzKSkvRCh0aGlzLmUsdGhpcy5jb24qdGhpcy5sYXRfdHMsdGhpcy5jb24qTWF0aC5zaW4odGhpcy5sYXRfdHMpKSksdGhpcy5tczE9Vyh0aGlzLmUsdGhpcy5zaW5sYXQwLHRoaXMuY29zbGF0MCksdGhpcy5YMD0yKk1hdGguYXRhbih0aGlzLnNzZm5fKHRoaXMubGF0MCx0aGlzLnNpbmxhdDAsdGhpcy5lKSktcCx0aGlzLmNvc1gwPU1hdGguY29zKHRoaXMuWDApLHRoaXMuc2luWDA9TWF0aC5zaW4odGhpcy5YMCkpfWZ1bmN0aW9uIGppKHQpe3ZhciBzPXQueCxhPXQueSxoPU1hdGguc2luKGEpLGk9TWF0aC5jb3MoYSkscixuLGUsbyxsLGMsdT15KHMtdGhpcy5sb25nMCk7cmV0dXJuIE1hdGguYWJzKE1hdGguYWJzKHMtdGhpcy5sb25nMCktTWF0aC5QSSk8PV8mJk1hdGguYWJzKGErdGhpcy5sYXQwKTw9Xz8odC54PU5hTix0Lnk9TmFOLHQpOnRoaXMuc3BoZXJlPyhyPTIqdGhpcy5rMC8oMSt0aGlzLnNpbmxhdDAqaCt0aGlzLmNvc2xhdDAqaSpNYXRoLmNvcyh1KSksdC54PXRoaXMuYSpyKmkqTWF0aC5zaW4odSkrdGhpcy54MCx0Lnk9dGhpcy5hKnIqKHRoaXMuY29zbGF0MCpoLXRoaXMuc2lubGF0MCppKk1hdGguY29zKHUpKSt0aGlzLnkwLHQpOihuPTIqTWF0aC5hdGFuKHRoaXMuc3Nmbl8oYSxoLHRoaXMuZSkpLXAsbz1NYXRoLmNvcyhuKSxlPU1hdGguc2luKG4pLE1hdGguYWJzKHRoaXMuY29zbGF0MCk8PV8/KGw9RCh0aGlzLmUsYSp0aGlzLmNvbix0aGlzLmNvbipoKSxjPTIqdGhpcy5hKnRoaXMuazAqbC90aGlzLmNvbnMsdC54PXRoaXMueDArYypNYXRoLnNpbihzLXRoaXMubG9uZzApLHQueT10aGlzLnkwLXRoaXMuY29uKmMqTWF0aC5jb3Mocy10aGlzLmxvbmcwKSx0KTooTWF0aC5hYnModGhpcy5zaW5sYXQwKTxfPyhyPTIqdGhpcy5hKnRoaXMuazAvKDErbypNYXRoLmNvcyh1KSksdC55PXIqZSk6KHI9Mip0aGlzLmEqdGhpcy5rMCp0aGlzLm1zMS8odGhpcy5jb3NYMCooMSt0aGlzLnNpblgwKmUrdGhpcy5jb3NYMCpvKk1hdGguY29zKHUpKSksdC55PXIqKHRoaXMuY29zWDAqZS10aGlzLnNpblgwKm8qTWF0aC5jb3ModSkpK3RoaXMueTApLHQueD1yKm8qTWF0aC5zaW4odSkrdGhpcy54MCx0KSl9ZnVuY3Rpb24gR2kodCl7dC54LT10aGlzLngwLHQueS09dGhpcy55MDt2YXIgcyxhLGgsaSxyLG49TWF0aC5zcXJ0KHQueCp0LngrdC55KnQueSk7aWYodGhpcy5zcGhlcmUpe3ZhciBlPTIqTWF0aC5hdGFuKG4vKDIqdGhpcy5hKnRoaXMuazApKTtyZXR1cm4gcz10aGlzLmxvbmcwLGE9dGhpcy5sYXQwLG48PV8/KHQueD1zLHQueT1hLHQpOihhPU1hdGguYXNpbihNYXRoLmNvcyhlKSp0aGlzLnNpbmxhdDArdC55Kk1hdGguc2luKGUpKnRoaXMuY29zbGF0MC9uKSxNYXRoLmFicyh0aGlzLmNvc2xhdDApPF8/dGhpcy5sYXQwPjA/cz15KHRoaXMubG9uZzArTWF0aC5hdGFuMih0LngsLTEqdC55KSk6cz15KHRoaXMubG9uZzArTWF0aC5hdGFuMih0LngsdC55KSk6cz15KHRoaXMubG9uZzArTWF0aC5hdGFuMih0LngqTWF0aC5zaW4oZSksbip0aGlzLmNvc2xhdDAqTWF0aC5jb3MoZSktdC55KnRoaXMuc2lubGF0MCpNYXRoLnNpbihlKSkpLHQueD1zLHQueT1hLHQpfWVsc2UgaWYoTWF0aC5hYnModGhpcy5jb3NsYXQwKTw9Xyl7aWYobjw9XylyZXR1cm4gYT10aGlzLmxhdDAscz10aGlzLmxvbmcwLHQueD1zLHQueT1hLHQ7dC54Kj10aGlzLmNvbix0LnkqPXRoaXMuY29uLGg9bip0aGlzLmNvbnMvKDIqdGhpcy5hKnRoaXMuazApLGE9dGhpcy5jb24qX3QodGhpcy5lLGgpLHM9dGhpcy5jb24qeSh0aGlzLmNvbip0aGlzLmxvbmcwK01hdGguYXRhbjIodC54LC0xKnQueSkpfWVsc2UgaT0yKk1hdGguYXRhbihuKnRoaXMuY29zWDAvKDIqdGhpcy5hKnRoaXMuazAqdGhpcy5tczEpKSxzPXRoaXMubG9uZzAsbjw9Xz9yPXRoaXMuWDA6KHI9TWF0aC5hc2luKE1hdGguY29zKGkpKnRoaXMuc2luWDArdC55Kk1hdGguc2luKGkpKnRoaXMuY29zWDAvbikscz15KHRoaXMubG9uZzArTWF0aC5hdGFuMih0LngqTWF0aC5zaW4oaSksbip0aGlzLmNvc1gwKk1hdGguY29zKGkpLXQueSp0aGlzLnNpblgwKk1hdGguc2luKGkpKSkpLGE9LTEqX3QodGhpcy5lLE1hdGgudGFuKC41KihwK3IpKSk7cmV0dXJuIHQueD1zLHQueT1hLHR9dmFyIEJpPVsic3RlcmUiLCJTdGVyZW9ncmFwaGljX1NvdXRoX1BvbGUiLCJQb2xhciBTdGVyZW9ncmFwaGljICh2YXJpYW50IEIpIl0semk9e2luaXQ6VGksZm9yd2FyZDpqaSxpbnZlcnNlOkdpLG5hbWVzOkJpLHNzZm5fOkxpfTtmdW5jdGlvbiBGaSgpe3ZhciB0PXRoaXMubGF0MDt0aGlzLmxhbWJkYTA9dGhpcy5sb25nMDt2YXIgcz1NYXRoLnNpbih0KSxhPXRoaXMuYSxoPXRoaXMucmYsaT0xL2gscj0yKmktTWF0aC5wb3coaSwyKSxuPXRoaXMuZT1NYXRoLnNxcnQocik7dGhpcy5SPXRoaXMuazAqYSpNYXRoLnNxcnQoMS1yKS8oMS1yKk1hdGgucG93KHMsMikpLHRoaXMuYWxwaGE9TWF0aC5zcXJ0KDErci8oMS1yKSpNYXRoLnBvdyhNYXRoLmNvcyh0KSw0KSksdGhpcy5iMD1NYXRoLmFzaW4ocy90aGlzLmFscGhhKTt2YXIgZT1NYXRoLmxvZyhNYXRoLnRhbihNYXRoLlBJLzQrdGhpcy5iMC8yKSksbz1NYXRoLmxvZyhNYXRoLnRhbihNYXRoLlBJLzQrdC8yKSksbD1NYXRoLmxvZygoMStuKnMpLygxLW4qcykpO3RoaXMuSz1lLXRoaXMuYWxwaGEqbyt0aGlzLmFscGhhKm4vMipsfWZ1bmN0aW9uIERpKHQpe3ZhciBzPU1hdGgubG9nKE1hdGgudGFuKE1hdGguUEkvNC10LnkvMikpLGE9dGhpcy5lLzIqTWF0aC5sb2coKDErdGhpcy5lKk1hdGguc2luKHQueSkpLygxLXRoaXMuZSpNYXRoLnNpbih0LnkpKSksaD0tdGhpcy5hbHBoYSoocythKSt0aGlzLkssaT0yKihNYXRoLmF0YW4oTWF0aC5leHAoaCkpLU1hdGguUEkvNCkscj10aGlzLmFscGhhKih0LngtdGhpcy5sYW1iZGEwKSxuPU1hdGguYXRhbihNYXRoLnNpbihyKS8oTWF0aC5zaW4odGhpcy5iMCkqTWF0aC50YW4oaSkrTWF0aC5jb3ModGhpcy5iMCkqTWF0aC5jb3MocikpKSxlPU1hdGguYXNpbihNYXRoLmNvcyh0aGlzLmIwKSpNYXRoLnNpbihpKS1NYXRoLnNpbih0aGlzLmIwKSpNYXRoLmNvcyhpKSpNYXRoLmNvcyhyKSk7cmV0dXJuIHQueT10aGlzLlIvMipNYXRoLmxvZygoMStNYXRoLnNpbihlKSkvKDEtTWF0aC5zaW4oZSkpKSt0aGlzLnkwLHQueD10aGlzLlIqbit0aGlzLngwLHR9ZnVuY3Rpb24gVWkodCl7Zm9yKHZhciBzPXQueC10aGlzLngwLGE9dC55LXRoaXMueTAsaD1zL3RoaXMuUixpPTIqKE1hdGguYXRhbihNYXRoLmV4cChhL3RoaXMuUikpLU1hdGguUEkvNCkscj1NYXRoLmFzaW4oTWF0aC5jb3ModGhpcy5iMCkqTWF0aC5zaW4oaSkrTWF0aC5zaW4odGhpcy5iMCkqTWF0aC5jb3MoaSkqTWF0aC5jb3MoaCkpLG49TWF0aC5hdGFuKE1hdGguc2luKGgpLyhNYXRoLmNvcyh0aGlzLmIwKSpNYXRoLmNvcyhoKS1NYXRoLnNpbih0aGlzLmIwKSpNYXRoLnRhbihpKSkpLGU9dGhpcy5sYW1iZGEwK24vdGhpcy5hbHBoYSxvPTAsbD1yLGM9LTFlMyx1PTA7TWF0aC5hYnMobC1jKT4xZS03Oyl7aWYoKyt1PjIwKXJldHVybjtvPTEvdGhpcy5hbHBoYSooTWF0aC5sb2coTWF0aC50YW4oTWF0aC5QSS80K3IvMikpLXRoaXMuSykrdGhpcy5lKk1hdGgubG9nKE1hdGgudGFuKE1hdGguUEkvNCtNYXRoLmFzaW4odGhpcy5lKk1hdGguc2luKGwpKS8yKSksYz1sLGw9MipNYXRoLmF0YW4oTWF0aC5leHAobykpLU1hdGguUEkvMn1yZXR1cm4gdC54PWUsdC55PWwsdH12YXIgUWk9WyJzb21lcmMiXSxXaT17aW5pdDpGaSxmb3J3YXJkOkRpLGludmVyc2U6VWksbmFtZXM6UWl9LG90PTFlLTc7ZnVuY3Rpb24gSGkodCl7dmFyIHM9WyJIb3RpbmVfT2JsaXF1ZV9NZXJjYXRvciIsIkhvdGluZV9PYmxpcXVlX01lcmNhdG9yX0F6aW11dGhfTmF0dXJhbF9PcmlnaW4iXSxhPXR5cGVvZiB0LlBST0pFQ1RJT049PSJvYmplY3QiP09iamVjdC5rZXlzKHQuUFJPSkVDVElPTilbMF06dC5QUk9KRUNUSU9OO3JldHVybiJub191b2ZmImluIHR8fCJub19vZmYiaW4gdHx8cy5pbmRleE9mKGEpIT09LTF9ZnVuY3Rpb24gWGkoKXt2YXIgdCxzLGEsaCxpLHIsbixlLG8sbCxjPTAsdSxNPTAsZD0wLGY9MCxtPTAseD0wLGc9MDt0aGlzLm5vX29mZj1IaSh0aGlzKSx0aGlzLm5vX3JvdD0ibm9fcm90ImluIHRoaXM7dmFyIGI9ITE7ImFscGhhImluIHRoaXMmJihiPSEwKTt2YXIgdz0hMTtpZigicmVjdGlmaWVkX2dyaWRfYW5nbGUiaW4gdGhpcyYmKHc9ITApLGImJihnPXRoaXMuYWxwaGEpLHcmJihjPXRoaXMucmVjdGlmaWVkX2dyaWRfYW5nbGUqcSksYnx8dylNPXRoaXMubG9uZ2M7ZWxzZSBpZihkPXRoaXMubG9uZzEsbT10aGlzLmxhdDEsZj10aGlzLmxvbmcyLHg9dGhpcy5sYXQyLE1hdGguYWJzKG0teCk8PW90fHwodD1NYXRoLmFicyhtKSk8PW90fHxNYXRoLmFicyh0LXApPD1vdHx8TWF0aC5hYnMoTWF0aC5hYnModGhpcy5sYXQwKS1wKTw9b3R8fE1hdGguYWJzKE1hdGguYWJzKHgpLXApPD1vdCl0aHJvdyBuZXcgRXJyb3I7dmFyIFA9MS10aGlzLmVzO3M9TWF0aC5zcXJ0KFApLE1hdGguYWJzKHRoaXMubGF0MCk+Xz8oZT1NYXRoLnNpbih0aGlzLmxhdDApLGE9TWF0aC5jb3ModGhpcy5sYXQwKSx0PTEtdGhpcy5lcyplKmUsdGhpcy5CPWEqYSx0aGlzLkI9TWF0aC5zcXJ0KDErdGhpcy5lcyp0aGlzLkIqdGhpcy5CL1ApLHRoaXMuQT10aGlzLkIqdGhpcy5rMCpzL3QsaD10aGlzLkIqcy8oYSpNYXRoLnNxcnQodCkpLGk9aCpoLTEsaTw9MD9pPTA6KGk9TWF0aC5zcXJ0KGkpLHRoaXMubGF0MDwwJiYoaT0taSkpLHRoaXMuRT1pKz1oLHRoaXMuRSo9TWF0aC5wb3coRCh0aGlzLmUsdGhpcy5sYXQwLGUpLHRoaXMuQikpOih0aGlzLkI9MS9zLHRoaXMuQT10aGlzLmswLHRoaXMuRT1oPWk9MSksYnx8dz8oYj8odT1NYXRoLmFzaW4oTWF0aC5zaW4oZykvaCksd3x8KGM9ZykpOih1PWMsZz1NYXRoLmFzaW4oaCpNYXRoLnNpbih1KSkpLHRoaXMubGFtMD1NLU1hdGguYXNpbiguNSooaS0xL2kpKk1hdGgudGFuKHUpKS90aGlzLkIpOihyPU1hdGgucG93KEQodGhpcy5lLG0sTWF0aC5zaW4obSkpLHRoaXMuQiksbj1NYXRoLnBvdyhEKHRoaXMuZSx4LE1hdGguc2luKHgpKSx0aGlzLkIpLGk9dGhpcy5FL3Isbz0obi1yKS8obityKSxsPXRoaXMuRSp0aGlzLkUsbD0obC1uKnIpLyhsK24qciksdD1kLWYsdDwtTWF0aC5waT9mLT1kdDp0Pk1hdGgucGkmJihmKz1kdCksdGhpcy5sYW0wPXkoLjUqKGQrZiktTWF0aC5hdGFuKGwqTWF0aC50YW4oLjUqdGhpcy5CKihkLWYpKS9vKS90aGlzLkIpLHU9TWF0aC5hdGFuKDIqTWF0aC5zaW4odGhpcy5CKnkoZC10aGlzLmxhbTApKS8oaS0xL2kpKSxjPWc9TWF0aC5hc2luKGgqTWF0aC5zaW4odSkpKSx0aGlzLnNpbmdhbT1NYXRoLnNpbih1KSx0aGlzLmNvc2dhbT1NYXRoLmNvcyh1KSx0aGlzLnNpbnJvdD1NYXRoLnNpbihjKSx0aGlzLmNvc3JvdD1NYXRoLmNvcyhjKSx0aGlzLnJCPTEvdGhpcy5CLHRoaXMuQXJCPXRoaXMuQSp0aGlzLnJCLHRoaXMuQnJBPTEvdGhpcy5BckIsdGhpcy5BKnRoaXMuQix0aGlzLm5vX29mZj90aGlzLnVfMD0wOih0aGlzLnVfMD1NYXRoLmFicyh0aGlzLkFyQipNYXRoLmF0YW4oTWF0aC5zcXJ0KGgqaC0xKS9NYXRoLmNvcyhnKSkpLHRoaXMubGF0MDwwJiYodGhpcy51XzA9LXRoaXMudV8wKSksaT0uNSp1LHRoaXMudl9wb2xlX249dGhpcy5BckIqTWF0aC5sb2coTWF0aC50YW4oQS1pKSksdGhpcy52X3BvbGVfcz10aGlzLkFyQipNYXRoLmxvZyhNYXRoLnRhbihBK2kpKX1mdW5jdGlvbiBKaSh0KXt2YXIgcz17fSxhLGgsaSxyLG4sZSxvLGw7aWYodC54PXQueC10aGlzLmxhbTAsTWF0aC5hYnMoTWF0aC5hYnModC55KS1wKT5fKXtpZihuPXRoaXMuRS9NYXRoLnBvdyhEKHRoaXMuZSx0LnksTWF0aC5zaW4odC55KSksdGhpcy5CKSxlPTEvbixhPS41KihuLWUpLGg9LjUqKG4rZSkscj1NYXRoLnNpbih0aGlzLkIqdC54KSxpPShhKnRoaXMuc2luZ2FtLXIqdGhpcy5jb3NnYW0pL2gsTWF0aC5hYnMoTWF0aC5hYnMoaSktMSk8Xyl0aHJvdyBuZXcgRXJyb3I7bD0uNSp0aGlzLkFyQipNYXRoLmxvZygoMS1pKS8oMStpKSksZT1NYXRoLmNvcyh0aGlzLkIqdC54KSxNYXRoLmFicyhlKTxvdD9vPXRoaXMuQSp0Lng6bz10aGlzLkFyQipNYXRoLmF0YW4yKGEqdGhpcy5jb3NnYW0rcip0aGlzLnNpbmdhbSxlKX1lbHNlIGw9dC55PjA/dGhpcy52X3BvbGVfbjp0aGlzLnZfcG9sZV9zLG89dGhpcy5BckIqdC55O3JldHVybiB0aGlzLm5vX3JvdD8ocy54PW8scy55PWwpOihvLT10aGlzLnVfMCxzLng9bCp0aGlzLmNvc3JvdCtvKnRoaXMuc2lucm90LHMueT1vKnRoaXMuY29zcm90LWwqdGhpcy5zaW5yb3QpLHMueD10aGlzLmEqcy54K3RoaXMueDAscy55PXRoaXMuYSpzLnkrdGhpcy55MCxzfWZ1bmN0aW9uIEtpKHQpe3ZhciBzLGEsaCxpLHIsbixlLG89e307aWYodC54PSh0LngtdGhpcy54MCkqKDEvdGhpcy5hKSx0Lnk9KHQueS10aGlzLnkwKSooMS90aGlzLmEpLHRoaXMubm9fcm90PyhhPXQueSxzPXQueCk6KGE9dC54KnRoaXMuY29zcm90LXQueSp0aGlzLnNpbnJvdCxzPXQueSp0aGlzLmNvc3JvdCt0LngqdGhpcy5zaW5yb3QrdGhpcy51XzApLGg9TWF0aC5leHAoLXRoaXMuQnJBKmEpLGk9LjUqKGgtMS9oKSxyPS41KihoKzEvaCksbj1NYXRoLnNpbih0aGlzLkJyQSpzKSxlPShuKnRoaXMuY29zZ2FtK2kqdGhpcy5zaW5nYW0pL3IsTWF0aC5hYnMoTWF0aC5hYnMoZSktMSk8XylvLng9MCxvLnk9ZTwwPy1wOnA7ZWxzZXtpZihvLnk9dGhpcy5FL01hdGguc3FydCgoMStlKS8oMS1lKSksby55PV90KHRoaXMuZSxNYXRoLnBvdyhvLnksMS90aGlzLkIpKSxvLnk9PT0xLzApdGhyb3cgbmV3IEVycm9yO28ueD0tdGhpcy5yQipNYXRoLmF0YW4yKGkqdGhpcy5jb3NnYW0tbip0aGlzLnNpbmdhbSxNYXRoLmNvcyh0aGlzLkJyQSpzKSl9cmV0dXJuIG8ueCs9dGhpcy5sYW0wLG99dmFyIFZpPVsiSG90aW5lX09ibGlxdWVfTWVyY2F0b3IiLCJIb3RpbmUgT2JsaXF1ZSBNZXJjYXRvciIsIkhvdGluZV9PYmxpcXVlX01lcmNhdG9yX0F6aW11dGhfTmF0dXJhbF9PcmlnaW4iLCJIb3RpbmVfT2JsaXF1ZV9NZXJjYXRvcl9Ud29fUG9pbnRfTmF0dXJhbF9PcmlnaW4iLCJIb3RpbmVfT2JsaXF1ZV9NZXJjYXRvcl9BemltdXRoX0NlbnRlciIsIk9ibGlxdWVfTWVyY2F0b3IiLCJvbWVyYyJdLFppPXtpbml0OlhpLGZvcndhcmQ6SmksaW52ZXJzZTpLaSxuYW1lczpWaX07ZnVuY3Rpb24gWWkoKXtpZih0aGlzLmxhdDJ8fCh0aGlzLmxhdDI9dGhpcy5sYXQxKSx0aGlzLmswfHwodGhpcy5rMD0xKSx0aGlzLngwPXRoaXMueDB8fDAsdGhpcy55MD10aGlzLnkwfHwwLCEoTWF0aC5hYnModGhpcy5sYXQxK3RoaXMubGF0Mik8Xykpe3ZhciB0PXRoaXMuYi90aGlzLmE7dGhpcy5lPU1hdGguc3FydCgxLXQqdCk7dmFyIHM9TWF0aC5zaW4odGhpcy5sYXQxKSxhPU1hdGguY29zKHRoaXMubGF0MSksaD1XKHRoaXMuZSxzLGEpLGk9RCh0aGlzLmUsdGhpcy5sYXQxLHMpLHI9TWF0aC5zaW4odGhpcy5sYXQyKSxuPU1hdGguY29zKHRoaXMubGF0MiksZT1XKHRoaXMuZSxyLG4pLG89RCh0aGlzLmUsdGhpcy5sYXQyLHIpLGw9RCh0aGlzLmUsdGhpcy5sYXQwLE1hdGguc2luKHRoaXMubGF0MCkpO01hdGguYWJzKHRoaXMubGF0MS10aGlzLmxhdDIpPl8/dGhpcy5ucz1NYXRoLmxvZyhoL2UpL01hdGgubG9nKGkvbyk6dGhpcy5ucz1zLGlzTmFOKHRoaXMubnMpJiYodGhpcy5ucz1zKSx0aGlzLmYwPWgvKHRoaXMubnMqTWF0aC5wb3coaSx0aGlzLm5zKSksdGhpcy5yaD10aGlzLmEqdGhpcy5mMCpNYXRoLnBvdyhsLHRoaXMubnMpLHRoaXMudGl0bGV8fCh0aGlzLnRpdGxlPSJMYW1iZXJ0IENvbmZvcm1hbCBDb25pYyIpfX1mdW5jdGlvbiAkaSh0KXt2YXIgcz10LngsYT10Lnk7TWF0aC5hYnMoMipNYXRoLmFicyhhKS1NYXRoLlBJKTw9XyYmKGE9bXQoYSkqKHAtMipfKSk7dmFyIGg9TWF0aC5hYnMoTWF0aC5hYnMoYSktcCksaSxyO2lmKGg+XylpPUQodGhpcy5lLGEsTWF0aC5zaW4oYSkpLHI9dGhpcy5hKnRoaXMuZjAqTWF0aC5wb3coaSx0aGlzLm5zKTtlbHNle2lmKGg9YSp0aGlzLm5zLGg8PTApcmV0dXJuIG51bGw7cj0wfXZhciBuPXRoaXMubnMqeShzLXRoaXMubG9uZzApO3JldHVybiB0Lng9dGhpcy5rMCoocipNYXRoLnNpbihuKSkrdGhpcy54MCx0Lnk9dGhpcy5rMCoodGhpcy5yaC1yKk1hdGguY29zKG4pKSt0aGlzLnkwLHR9ZnVuY3Rpb24gdGgodCl7dmFyIHMsYSxoLGkscixuPSh0LngtdGhpcy54MCkvdGhpcy5rMCxlPXRoaXMucmgtKHQueS10aGlzLnkwKS90aGlzLmswO3RoaXMubnM+MD8ocz1NYXRoLnNxcnQobipuK2UqZSksYT0xKToocz0tTWF0aC5zcXJ0KG4qbitlKmUpLGE9LTEpO3ZhciBvPTA7aWYocyE9PTAmJihvPU1hdGguYXRhbjIoYSpuLGEqZSkpLHMhPT0wfHx0aGlzLm5zPjApe2lmKGE9MS90aGlzLm5zLGg9TWF0aC5wb3cocy8odGhpcy5hKnRoaXMuZjApLGEpLGk9X3QodGhpcy5lLGgpLGk9PT0tOTk5OSlyZXR1cm4gbnVsbH1lbHNlIGk9LXA7cmV0dXJuIHI9eShvL3RoaXMubnMrdGhpcy5sb25nMCksdC54PXIsdC55PWksdH12YXIgc2g9WyJMYW1iZXJ0IFRhbmdlbnRpYWwgQ29uZm9ybWFsIENvbmljIFByb2plY3Rpb24iLCJMYW1iZXJ0X0NvbmZvcm1hbF9Db25pYyIsIkxhbWJlcnRfQ29uZm9ybWFsX0NvbmljXzFTUCIsIkxhbWJlcnRfQ29uZm9ybWFsX0NvbmljXzJTUCIsImxjYyIsIkxhbWJlcnQgQ29uaWMgQ29uZm9ybWFsICgxU1ApIiwiTGFtYmVydCBDb25pYyBDb25mb3JtYWwgKDJTUCkiXSxhaD17aW5pdDpZaSxmb3J3YXJkOiRpLGludmVyc2U6dGgsbmFtZXM6c2h9O2Z1bmN0aW9uIGloKCl7dGhpcy5hPTYzNzczOTcxNTVlLTMsdGhpcy5lcz0uMDA2Njc0MzcyMjMwNjE0LHRoaXMuZT1NYXRoLnNxcnQodGhpcy5lcyksdGhpcy5sYXQwfHwodGhpcy5sYXQwPS44NjM5Mzc5Nzk3MzcxOTMpLHRoaXMubG9uZzB8fCh0aGlzLmxvbmcwPS40MzM0MjM0MzA5MTE5MjUxKSx0aGlzLmswfHwodGhpcy5rMD0uOTk5OSksdGhpcy5zNDU9Ljc4NTM5ODE2MzM5NzQ0OCx0aGlzLnM5MD0yKnRoaXMuczQ1LHRoaXMuZmkwPXRoaXMubGF0MCx0aGlzLmUyPXRoaXMuZXMsdGhpcy5lPU1hdGguc3FydCh0aGlzLmUyKSx0aGlzLmFsZmE9TWF0aC5zcXJ0KDErdGhpcy5lMipNYXRoLnBvdyhNYXRoLmNvcyh0aGlzLmZpMCksNCkvKDEtdGhpcy5lMikpLHRoaXMudXE9MS4wNDIxNjg1NjM4MDQ3NCx0aGlzLnUwPU1hdGguYXNpbihNYXRoLnNpbih0aGlzLmZpMCkvdGhpcy5hbGZhKSx0aGlzLmc9TWF0aC5wb3coKDErdGhpcy5lKk1hdGguc2luKHRoaXMuZmkwKSkvKDEtdGhpcy5lKk1hdGguc2luKHRoaXMuZmkwKSksdGhpcy5hbGZhKnRoaXMuZS8yKSx0aGlzLms9TWF0aC50YW4odGhpcy51MC8yK3RoaXMuczQ1KS9NYXRoLnBvdyhNYXRoLnRhbih0aGlzLmZpMC8yK3RoaXMuczQ1KSx0aGlzLmFsZmEpKnRoaXMuZyx0aGlzLmsxPXRoaXMuazAsdGhpcy5uMD10aGlzLmEqTWF0aC5zcXJ0KDEtdGhpcy5lMikvKDEtdGhpcy5lMipNYXRoLnBvdyhNYXRoLnNpbih0aGlzLmZpMCksMikpLHRoaXMuczA9MS4zNzAwODM0NjI4MTU1NSx0aGlzLm49TWF0aC5zaW4odGhpcy5zMCksdGhpcy5ybzA9dGhpcy5rMSp0aGlzLm4wL01hdGgudGFuKHRoaXMuczApLHRoaXMuYWQ9dGhpcy5zOTAtdGhpcy51cX1mdW5jdGlvbiBoaCh0KXt2YXIgcyxhLGgsaSxyLG4sZSxvPXQueCxsPXQueSxjPXkoby10aGlzLmxvbmcwKTtyZXR1cm4gcz1NYXRoLnBvdygoMSt0aGlzLmUqTWF0aC5zaW4obCkpLygxLXRoaXMuZSpNYXRoLnNpbihsKSksdGhpcy5hbGZhKnRoaXMuZS8yKSxhPTIqKE1hdGguYXRhbih0aGlzLmsqTWF0aC5wb3coTWF0aC50YW4obC8yK3RoaXMuczQ1KSx0aGlzLmFsZmEpL3MpLXRoaXMuczQ1KSxoPS1jKnRoaXMuYWxmYSxpPU1hdGguYXNpbihNYXRoLmNvcyh0aGlzLmFkKSpNYXRoLnNpbihhKStNYXRoLnNpbih0aGlzLmFkKSpNYXRoLmNvcyhhKSpNYXRoLmNvcyhoKSkscj1NYXRoLmFzaW4oTWF0aC5jb3MoYSkqTWF0aC5zaW4oaCkvTWF0aC5jb3MoaSkpLG49dGhpcy5uKnIsZT10aGlzLnJvMCpNYXRoLnBvdyhNYXRoLnRhbih0aGlzLnMwLzIrdGhpcy5zNDUpLHRoaXMubikvTWF0aC5wb3coTWF0aC50YW4oaS8yK3RoaXMuczQ1KSx0aGlzLm4pLHQueT1lKk1hdGguY29zKG4pLzEsdC54PWUqTWF0aC5zaW4obikvMSx0aGlzLmN6ZWNofHwodC55Kj0tMSx0LngqPS0xKSx0fWZ1bmN0aW9uIGVoKHQpe3ZhciBzLGEsaCxpLHIsbixlLG8sbD10Lng7dC54PXQueSx0Lnk9bCx0aGlzLmN6ZWNofHwodC55Kj0tMSx0LngqPS0xKSxuPU1hdGguc3FydCh0LngqdC54K3QueSp0LnkpLHI9TWF0aC5hdGFuMih0LnksdC54KSxpPXIvTWF0aC5zaW4odGhpcy5zMCksaD0yKihNYXRoLmF0YW4oTWF0aC5wb3codGhpcy5ybzAvbiwxL3RoaXMubikqTWF0aC50YW4odGhpcy5zMC8yK3RoaXMuczQ1KSktdGhpcy5zNDUpLHM9TWF0aC5hc2luKE1hdGguY29zKHRoaXMuYWQpKk1hdGguc2luKGgpLU1hdGguc2luKHRoaXMuYWQpKk1hdGguY29zKGgpKk1hdGguY29zKGkpKSxhPU1hdGguYXNpbihNYXRoLmNvcyhoKSpNYXRoLnNpbihpKS9NYXRoLmNvcyhzKSksdC54PXRoaXMubG9uZzAtYS90aGlzLmFsZmEsZT1zLG89MDt2YXIgYz0wO2RvIHQueT0yKihNYXRoLmF0YW4oTWF0aC5wb3codGhpcy5rLC0xL3RoaXMuYWxmYSkqTWF0aC5wb3coTWF0aC50YW4ocy8yK3RoaXMuczQ1KSwxL3RoaXMuYWxmYSkqTWF0aC5wb3coKDErdGhpcy5lKk1hdGguc2luKGUpKS8oMS10aGlzLmUqTWF0aC5zaW4oZSkpLHRoaXMuZS8yKSktdGhpcy5zNDUpLE1hdGguYWJzKGUtdC55KTwxZS0xMCYmKG89MSksZT10LnksYys9MTt3aGlsZShvPT09MCYmYzwxNSk7cmV0dXJuIGM+PTE1P251bGw6dH12YXIgcmg9WyJLcm92YWsiLCJrcm92YWsiXSxuaD17aW5pdDppaCxmb3J3YXJkOmhoLGludmVyc2U6ZWgsbmFtZXM6cmh9O2Z1bmN0aW9uIGoodCxzLGEsaCxpKXtyZXR1cm4gdCppLXMqTWF0aC5zaW4oMippKSthKk1hdGguc2luKDQqaSktaCpNYXRoLnNpbig2KmkpfWZ1bmN0aW9uIGd0KHQpe3JldHVybiAxLS4yNSp0KigxK3QvMTYqKDMrMS4yNSp0KSl9ZnVuY3Rpb24gdnQodCl7cmV0dXJuIC4zNzUqdCooMSsuMjUqdCooMSsuNDY4NzUqdCkpfWZ1bmN0aW9uIGJ0KHQpe3JldHVybiAuMDU4NTkzNzUqdCp0KigxKy43NSp0KX1mdW5jdGlvbiB3dCh0KXtyZXR1cm4gdCp0KnQqLjAxMTM5MzIyOTE2NjY2NjY2Nn1mdW5jdGlvbiBsdCh0LHMsYSl7dmFyIGg9cyphO3JldHVybiB0L01hdGguc3FydCgxLWgqaCl9ZnVuY3Rpb24gdXQodCl7cmV0dXJuIE1hdGguYWJzKHQpPHA/dDp0LW10KHQpKk1hdGguUEl9ZnVuY3Rpb24gVHQodCxzLGEsaCxpKXt2YXIgcixuO3I9dC9zO2Zvcih2YXIgZT0wO2U8MTU7ZSsrKWlmKG49KHQtKHMqci1hKk1hdGguc2luKDIqcikraCpNYXRoLnNpbig0KnIpLWkqTWF0aC5zaW4oNipyKSkpLyhzLTIqYSpNYXRoLmNvcygyKnIpKzQqaCpNYXRoLmNvcyg0KnIpLTYqaSpNYXRoLmNvcyg2KnIpKSxyKz1uLE1hdGguYWJzKG4pPD0xZS0xMClyZXR1cm4gcjtyZXR1cm4gTmFOfWZ1bmN0aW9uIG9oKCl7dGhpcy5zcGhlcmV8fCh0aGlzLmUwPWd0KHRoaXMuZXMpLHRoaXMuZTE9dnQodGhpcy5lcyksdGhpcy5lMj1idCh0aGlzLmVzKSx0aGlzLmUzPXd0KHRoaXMuZXMpLHRoaXMubWwwPXRoaXMuYSpqKHRoaXMuZTAsdGhpcy5lMSx0aGlzLmUyLHRoaXMuZTMsdGhpcy5sYXQwKSl9ZnVuY3Rpb24gbGgodCl7dmFyIHMsYSxoPXQueCxpPXQueTtpZihoPXkoaC10aGlzLmxvbmcwKSx0aGlzLnNwaGVyZSlzPXRoaXMuYSpNYXRoLmFzaW4oTWF0aC5jb3MoaSkqTWF0aC5zaW4oaCkpLGE9dGhpcy5hKihNYXRoLmF0YW4yKE1hdGgudGFuKGkpLE1hdGguY29zKGgpKS10aGlzLmxhdDApO2Vsc2V7dmFyIHI9TWF0aC5zaW4oaSksbj1NYXRoLmNvcyhpKSxlPWx0KHRoaXMuYSx0aGlzLmUsciksbz1NYXRoLnRhbihpKSpNYXRoLnRhbihpKSxsPWgqTWF0aC5jb3MoaSksYz1sKmwsdT10aGlzLmVzKm4qbi8oMS10aGlzLmVzKSxNPXRoaXMuYSpqKHRoaXMuZTAsdGhpcy5lMSx0aGlzLmUyLHRoaXMuZTMsaSk7cz1lKmwqKDEtYypvKiguMTY2NjY2NjY2NjY2NjY2NjYtKDgtbys4KnUpKmMvMTIwKSksYT1NLXRoaXMubWwwK2Uqci9uKmMqKC41Kyg1LW8rNip1KSpjLzI0KX1yZXR1cm4gdC54PXMrdGhpcy54MCx0Lnk9YSt0aGlzLnkwLHR9ZnVuY3Rpb24gdWgodCl7dC54LT10aGlzLngwLHQueS09dGhpcy55MDt2YXIgcz10LngvdGhpcy5hLGE9dC55L3RoaXMuYSxoLGk7aWYodGhpcy5zcGhlcmUpe3ZhciByPWErdGhpcy5sYXQwO2g9TWF0aC5hc2luKE1hdGguc2luKHIpKk1hdGguY29zKHMpKSxpPU1hdGguYXRhbjIoTWF0aC50YW4ocyksTWF0aC5jb3MocikpfWVsc2V7dmFyIG49dGhpcy5tbDAvdGhpcy5hK2EsZT1UdChuLHRoaXMuZTAsdGhpcy5lMSx0aGlzLmUyLHRoaXMuZTMpO2lmKE1hdGguYWJzKE1hdGguYWJzKGUpLXApPD1fKXJldHVybiB0Lng9dGhpcy5sb25nMCx0Lnk9cCxhPDAmJih0LnkqPS0xKSx0O3ZhciBvPWx0KHRoaXMuYSx0aGlzLmUsTWF0aC5zaW4oZSkpLGw9bypvKm8vdGhpcy5hL3RoaXMuYSooMS10aGlzLmVzKSxjPU1hdGgucG93KE1hdGgudGFuKGUpLDIpLHU9cyp0aGlzLmEvbyxNPXUqdTtoPWUtbypNYXRoLnRhbihlKS9sKnUqdSooLjUtKDErMypjKSp1KnUvMjQpLGk9dSooMS1NKihjLzMrKDErMypjKSpjKk0vMTUpKS9NYXRoLmNvcyhlKX1yZXR1cm4gdC54PXkoaSt0aGlzLmxvbmcwKSx0Lnk9dXQoaCksdH12YXIgY2g9WyJDYXNzaW5pIiwiQ2Fzc2luaV9Tb2xkbmVyIiwiY2FzcyJdLE1oPXtpbml0Om9oLGZvcndhcmQ6bGgsaW52ZXJzZTp1aCxuYW1lczpjaH07ZnVuY3Rpb24gWih0LHMpe3ZhciBhO3JldHVybiB0PjFlLTc/KGE9dCpzLCgxLXQqdCkqKHMvKDEtYSphKS0uNS90Kk1hdGgubG9nKCgxLWEpLygxK2EpKSkpOjIqc312YXIgZmg9MSxkaD0yLHBoPTMsbWg9NDtmdW5jdGlvbiBfaCgpe3ZhciB0PU1hdGguYWJzKHRoaXMubGF0MCk7aWYoTWF0aC5hYnModC1wKTxfP3RoaXMubW9kZT10aGlzLmxhdDA8MD90aGlzLlNfUE9MRTp0aGlzLk5fUE9MRTpNYXRoLmFicyh0KTxfP3RoaXMubW9kZT10aGlzLkVRVUlUOnRoaXMubW9kZT10aGlzLk9CTElRLHRoaXMuZXM+MCl7dmFyIHM7c3dpdGNoKHRoaXMucXA9Wih0aGlzLmUsMSksdGhpcy5tbWY9LjUvKDEtdGhpcy5lcyksdGhpcy5hcGE9RWgodGhpcy5lcyksdGhpcy5tb2RlKXtjYXNlIHRoaXMuTl9QT0xFOnRoaXMuZGQ9MTticmVhaztjYXNlIHRoaXMuU19QT0xFOnRoaXMuZGQ9MTticmVhaztjYXNlIHRoaXMuRVFVSVQ6dGhpcy5ycT1NYXRoLnNxcnQoLjUqdGhpcy5xcCksdGhpcy5kZD0xL3RoaXMucnEsdGhpcy54bWY9MSx0aGlzLnltZj0uNSp0aGlzLnFwO2JyZWFrO2Nhc2UgdGhpcy5PQkxJUTp0aGlzLnJxPU1hdGguc3FydCguNSp0aGlzLnFwKSxzPU1hdGguc2luKHRoaXMubGF0MCksdGhpcy5zaW5iMT1aKHRoaXMuZSxzKS90aGlzLnFwLHRoaXMuY29zYjE9TWF0aC5zcXJ0KDEtdGhpcy5zaW5iMSp0aGlzLnNpbmIxKSx0aGlzLmRkPU1hdGguY29zKHRoaXMubGF0MCkvKE1hdGguc3FydCgxLXRoaXMuZXMqcypzKSp0aGlzLnJxKnRoaXMuY29zYjEpLHRoaXMueW1mPSh0aGlzLnhtZj10aGlzLnJxKS90aGlzLmRkLHRoaXMueG1mKj10aGlzLmRkO2JyZWFrfX1lbHNlIHRoaXMubW9kZT09PXRoaXMuT0JMSVEmJih0aGlzLnNpbnBoMD1NYXRoLnNpbih0aGlzLmxhdDApLHRoaXMuY29zcGgwPU1hdGguY29zKHRoaXMubGF0MCkpfWZ1bmN0aW9uIHloKHQpe3ZhciBzLGEsaCxpLHIsbixlLG8sbCxjLHU9dC54LE09dC55O2lmKHU9eSh1LXRoaXMubG9uZzApLHRoaXMuc3BoZXJlKXtpZihyPU1hdGguc2luKE0pLGM9TWF0aC5jb3MoTSksaD1NYXRoLmNvcyh1KSx0aGlzLm1vZGU9PT10aGlzLk9CTElRfHx0aGlzLm1vZGU9PT10aGlzLkVRVUlUKXtpZihhPXRoaXMubW9kZT09PXRoaXMuRVFVSVQ/MStjKmg6MSt0aGlzLnNpbnBoMCpyK3RoaXMuY29zcGgwKmMqaCxhPD1fKXJldHVybiBudWxsO2E9TWF0aC5zcXJ0KDIvYSkscz1hKmMqTWF0aC5zaW4odSksYSo9dGhpcy5tb2RlPT09dGhpcy5FUVVJVD9yOnRoaXMuY29zcGgwKnItdGhpcy5zaW5waDAqYypofWVsc2UgaWYodGhpcy5tb2RlPT09dGhpcy5OX1BPTEV8fHRoaXMubW9kZT09PXRoaXMuU19QT0xFKXtpZih0aGlzLm1vZGU9PT10aGlzLk5fUE9MRSYmKGg9LWgpLE1hdGguYWJzKE0rdGhpcy5sYXQwKTxfKXJldHVybiBudWxsO2E9QS1NKi41LGE9MioodGhpcy5tb2RlPT09dGhpcy5TX1BPTEU/TWF0aC5jb3MoYSk6TWF0aC5zaW4oYSkpLHM9YSpNYXRoLnNpbih1KSxhKj1ofX1lbHNle3N3aXRjaChlPTAsbz0wLGw9MCxoPU1hdGguY29zKHUpLGk9TWF0aC5zaW4odSkscj1NYXRoLnNpbihNKSxuPVoodGhpcy5lLHIpLCh0aGlzLm1vZGU9PT10aGlzLk9CTElRfHx0aGlzLm1vZGU9PT10aGlzLkVRVUlUKSYmKGU9bi90aGlzLnFwLG89TWF0aC5zcXJ0KDEtZSplKSksdGhpcy5tb2RlKXtjYXNlIHRoaXMuT0JMSVE6bD0xK3RoaXMuc2luYjEqZSt0aGlzLmNvc2IxKm8qaDticmVhaztjYXNlIHRoaXMuRVFVSVQ6bD0xK28qaDticmVhaztjYXNlIHRoaXMuTl9QT0xFOmw9cCtNLG49dGhpcy5xcC1uO2JyZWFrO2Nhc2UgdGhpcy5TX1BPTEU6bD1NLXAsbj10aGlzLnFwK247YnJlYWt9aWYoTWF0aC5hYnMobCk8XylyZXR1cm4gbnVsbDtzd2l0Y2godGhpcy5tb2RlKXtjYXNlIHRoaXMuT0JMSVE6Y2FzZSB0aGlzLkVRVUlUOmw9TWF0aC5zcXJ0KDIvbCksdGhpcy5tb2RlPT09dGhpcy5PQkxJUT9hPXRoaXMueW1mKmwqKHRoaXMuY29zYjEqZS10aGlzLnNpbmIxKm8qaCk6YT0obD1NYXRoLnNxcnQoMi8oMStvKmgpKSkqZSp0aGlzLnltZixzPXRoaXMueG1mKmwqbyppO2JyZWFrO2Nhc2UgdGhpcy5OX1BPTEU6Y2FzZSB0aGlzLlNfUE9MRTpuPj0wPyhzPShsPU1hdGguc3FydChuKSkqaSxhPWgqKHRoaXMubW9kZT09PXRoaXMuU19QT0xFP2w6LWwpKTpzPWE9MDticmVha319cmV0dXJuIHQueD10aGlzLmEqcyt0aGlzLngwLHQueT10aGlzLmEqYSt0aGlzLnkwLHR9ZnVuY3Rpb24geGgodCl7dC54LT10aGlzLngwLHQueS09dGhpcy55MDt2YXIgcz10LngvdGhpcy5hLGE9dC55L3RoaXMuYSxoLGkscixuLGUsbyxsO2lmKHRoaXMuc3BoZXJlKXt2YXIgYz0wLHUsTT0wO2lmKHU9TWF0aC5zcXJ0KHMqcythKmEpLGk9dSouNSxpPjEpcmV0dXJuIG51bGw7c3dpdGNoKGk9MipNYXRoLmFzaW4oaSksKHRoaXMubW9kZT09PXRoaXMuT0JMSVF8fHRoaXMubW9kZT09PXRoaXMuRVFVSVQpJiYoTT1NYXRoLnNpbihpKSxjPU1hdGguY29zKGkpKSx0aGlzLm1vZGUpe2Nhc2UgdGhpcy5FUVVJVDppPU1hdGguYWJzKHUpPD1fPzA6TWF0aC5hc2luKGEqTS91KSxzKj1NLGE9Yyp1O2JyZWFrO2Nhc2UgdGhpcy5PQkxJUTppPU1hdGguYWJzKHUpPD1fP3RoaXMubGF0MDpNYXRoLmFzaW4oYyp0aGlzLnNpbnBoMCthKk0qdGhpcy5jb3NwaDAvdSkscyo9TSp0aGlzLmNvc3BoMCxhPShjLU1hdGguc2luKGkpKnRoaXMuc2lucGgwKSp1O2JyZWFrO2Nhc2UgdGhpcy5OX1BPTEU6YT0tYSxpPXAtaTticmVhaztjYXNlIHRoaXMuU19QT0xFOmktPXA7YnJlYWt9aD1hPT09MCYmKHRoaXMubW9kZT09PXRoaXMuRVFVSVR8fHRoaXMubW9kZT09PXRoaXMuT0JMSVEpPzA6TWF0aC5hdGFuMihzLGEpfWVsc2V7aWYobD0wLHRoaXMubW9kZT09PXRoaXMuT0JMSVF8fHRoaXMubW9kZT09PXRoaXMuRVFVSVQpe2lmKHMvPXRoaXMuZGQsYSo9dGhpcy5kZCxvPU1hdGguc3FydChzKnMrYSphKSxvPF8pcmV0dXJuIHQueD10aGlzLmxvbmcwLHQueT10aGlzLmxhdDAsdDtuPTIqTWF0aC5hc2luKC41Km8vdGhpcy5ycSkscj1NYXRoLmNvcyhuKSxzKj1uPU1hdGguc2luKG4pLHRoaXMubW9kZT09PXRoaXMuT0JMSVE/KGw9cip0aGlzLnNpbmIxK2Eqbip0aGlzLmNvc2IxL28sZT10aGlzLnFwKmwsYT1vKnRoaXMuY29zYjEqci1hKnRoaXMuc2luYjEqbik6KGw9YSpuL28sZT10aGlzLnFwKmwsYT1vKnIpfWVsc2UgaWYodGhpcy5tb2RlPT09dGhpcy5OX1BPTEV8fHRoaXMubW9kZT09PXRoaXMuU19QT0xFKXtpZih0aGlzLm1vZGU9PT10aGlzLk5fUE9MRSYmKGE9LWEpLGU9cypzK2EqYSwhZSlyZXR1cm4gdC54PXRoaXMubG9uZzAsdC55PXRoaXMubGF0MCx0O2w9MS1lL3RoaXMucXAsdGhpcy5tb2RlPT09dGhpcy5TX1BPTEUmJihsPS1sKX1oPU1hdGguYXRhbjIocyxhKSxpPUNoKE1hdGguYXNpbihsKSx0aGlzLmFwYSl9cmV0dXJuIHQueD15KHRoaXMubG9uZzAraCksdC55PWksdH12YXIgZ2g9LjMzMzMzMzMzMzMzMzMzMzMsdmg9LjE3MjIyMjIyMjIyMjIyMjIyLGJoPS4xMDI1NzkzNjUwNzkzNjUwOCx3aD0uMDYzODg4ODg4ODg4ODg4ODgsTmg9LjA2NjQwMjExNjQwMjExNjQsQWg9LjAxNjQxNTAxMjk0MjE5MTU0MztmdW5jdGlvbiBFaCh0KXt2YXIgcyxhPVtdO3JldHVybiBhWzBdPXQqZ2gscz10KnQsYVswXSs9cyp2aCxhWzFdPXMqd2gscyo9dCxhWzBdKz1zKmJoLGFbMV0rPXMqTmgsYVsyXT1zKkFoLGF9ZnVuY3Rpb24gQ2godCxzKXt2YXIgYT10K3Q7cmV0dXJuIHQrc1swXSpNYXRoLnNpbihhKStzWzFdKk1hdGguc2luKGErYSkrc1syXSpNYXRoLnNpbihhK2ErYSl9dmFyIFBoPVsiTGFtYmVydCBBemltdXRoYWwgRXF1YWwgQXJlYSIsIkxhbWJlcnRfQXppbXV0aGFsX0VxdWFsX0FyZWEiLCJsYWVhIl0sU2g9e2luaXQ6X2gsZm9yd2FyZDp5aCxpbnZlcnNlOnhoLG5hbWVzOlBoLFNfUE9MRTpmaCxOX1BPTEU6ZGgsRVFVSVQ6cGgsT0JMSVE6bWh9O2Z1bmN0aW9uIFkodCl7cmV0dXJuIE1hdGguYWJzKHQpPjEmJih0PXQ+MT8xOi0xKSxNYXRoLmFzaW4odCl9ZnVuY3Rpb24gT2goKXtNYXRoLmFicyh0aGlzLmxhdDErdGhpcy5sYXQyKTxffHwodGhpcy50ZW1wPXRoaXMuYi90aGlzLmEsdGhpcy5lcz0xLU1hdGgucG93KHRoaXMudGVtcCwyKSx0aGlzLmUzPU1hdGguc3FydCh0aGlzLmVzKSx0aGlzLnNpbl9wbz1NYXRoLnNpbih0aGlzLmxhdDEpLHRoaXMuY29zX3BvPU1hdGguY29zKHRoaXMubGF0MSksdGhpcy50MT10aGlzLnNpbl9wbyx0aGlzLmNvbj10aGlzLnNpbl9wbyx0aGlzLm1zMT1XKHRoaXMuZTMsdGhpcy5zaW5fcG8sdGhpcy5jb3NfcG8pLHRoaXMucXMxPVoodGhpcy5lMyx0aGlzLnNpbl9wbyx0aGlzLmNvc19wbyksdGhpcy5zaW5fcG89TWF0aC5zaW4odGhpcy5sYXQyKSx0aGlzLmNvc19wbz1NYXRoLmNvcyh0aGlzLmxhdDIpLHRoaXMudDI9dGhpcy5zaW5fcG8sdGhpcy5tczI9Vyh0aGlzLmUzLHRoaXMuc2luX3BvLHRoaXMuY29zX3BvKSx0aGlzLnFzMj1aKHRoaXMuZTMsdGhpcy5zaW5fcG8sdGhpcy5jb3NfcG8pLHRoaXMuc2luX3BvPU1hdGguc2luKHRoaXMubGF0MCksdGhpcy5jb3NfcG89TWF0aC5jb3ModGhpcy5sYXQwKSx0aGlzLnQzPXRoaXMuc2luX3BvLHRoaXMucXMwPVoodGhpcy5lMyx0aGlzLnNpbl9wbyx0aGlzLmNvc19wbyksTWF0aC5hYnModGhpcy5sYXQxLXRoaXMubGF0Mik+Xz90aGlzLm5zMD0odGhpcy5tczEqdGhpcy5tczEtdGhpcy5tczIqdGhpcy5tczIpLyh0aGlzLnFzMi10aGlzLnFzMSk6dGhpcy5uczA9dGhpcy5jb24sdGhpcy5jPXRoaXMubXMxKnRoaXMubXMxK3RoaXMubnMwKnRoaXMucXMxLHRoaXMucmg9dGhpcy5hKk1hdGguc3FydCh0aGlzLmMtdGhpcy5uczAqdGhpcy5xczApL3RoaXMubnMwKX1mdW5jdGlvbiBraCh0KXt2YXIgcz10LngsYT10Lnk7dGhpcy5zaW5fcGhpPU1hdGguc2luKGEpLHRoaXMuY29zX3BoaT1NYXRoLmNvcyhhKTt2YXIgaD1aKHRoaXMuZTMsdGhpcy5zaW5fcGhpLHRoaXMuY29zX3BoaSksaT10aGlzLmEqTWF0aC5zcXJ0KHRoaXMuYy10aGlzLm5zMCpoKS90aGlzLm5zMCxyPXRoaXMubnMwKnkocy10aGlzLmxvbmcwKSxuPWkqTWF0aC5zaW4ocikrdGhpcy54MCxlPXRoaXMucmgtaSpNYXRoLmNvcyhyKSt0aGlzLnkwO3JldHVybiB0Lng9bix0Lnk9ZSx0fWZ1bmN0aW9uIEloKHQpe3ZhciBzLGEsaCxpLHIsbjtyZXR1cm4gdC54LT10aGlzLngwLHQueT10aGlzLnJoLXQueSt0aGlzLnkwLHRoaXMubnMwPj0wPyhzPU1hdGguc3FydCh0LngqdC54K3QueSp0LnkpLGg9MSk6KHM9LU1hdGguc3FydCh0LngqdC54K3QueSp0LnkpLGg9LTEpLGk9MCxzIT09MCYmKGk9TWF0aC5hdGFuMihoKnQueCxoKnQueSkpLGg9cyp0aGlzLm5zMC90aGlzLmEsdGhpcy5zcGhlcmU/bj1NYXRoLmFzaW4oKHRoaXMuYy1oKmgpLygyKnRoaXMubnMwKSk6KGE9KHRoaXMuYy1oKmgpL3RoaXMubnMwLG49dGhpcy5waGkxeih0aGlzLmUzLGEpKSxyPXkoaS90aGlzLm5zMCt0aGlzLmxvbmcwKSx0Lng9cix0Lnk9bix0fWZ1bmN0aW9uIHFoKHQscyl7dmFyIGEsaCxpLHIsbixlPVkoLjUqcyk7aWYodDxfKXJldHVybiBlO2Zvcih2YXIgbz10KnQsbD0xO2w8PTI1O2wrKylpZihhPU1hdGguc2luKGUpLGg9TWF0aC5jb3MoZSksaT10KmEscj0xLWkqaSxuPS41KnIqci9oKihzLygxLW8pLWEvcisuNS90Kk1hdGgubG9nKCgxLWkpLygxK2kpKSksZT1lK24sTWF0aC5hYnMobik8PTFlLTcpcmV0dXJuIGU7cmV0dXJuIG51bGx9dmFyIFJoPVsiQWxiZXJzX0NvbmljX0VxdWFsX0FyZWEiLCJBbGJlcnMiLCJhZWEiXSxMaD17aW5pdDpPaCxmb3J3YXJkOmtoLGludmVyc2U6SWgsbmFtZXM6UmgscGhpMXo6cWh9O2Z1bmN0aW9uIFRoKCl7dGhpcy5zaW5fcDE0PU1hdGguc2luKHRoaXMubGF0MCksdGhpcy5jb3NfcDE0PU1hdGguY29zKHRoaXMubGF0MCksdGhpcy5pbmZpbml0eV9kaXN0PTFlMyp0aGlzLmEsdGhpcy5yYz0xfWZ1bmN0aW9uIGpoKHQpe3ZhciBzLGEsaCxpLHIsbixlLG8sbD10LngsYz10Lnk7cmV0dXJuIGg9eShsLXRoaXMubG9uZzApLHM9TWF0aC5zaW4oYyksYT1NYXRoLmNvcyhjKSxpPU1hdGguY29zKGgpLG49dGhpcy5zaW5fcDE0KnMrdGhpcy5jb3NfcDE0KmEqaSxyPTEsbj4wfHxNYXRoLmFicyhuKTw9Xz8oZT10aGlzLngwK3RoaXMuYSpyKmEqTWF0aC5zaW4oaCkvbixvPXRoaXMueTArdGhpcy5hKnIqKHRoaXMuY29zX3AxNCpzLXRoaXMuc2luX3AxNCphKmkpL24pOihlPXRoaXMueDArdGhpcy5pbmZpbml0eV9kaXN0KmEqTWF0aC5zaW4oaCksbz10aGlzLnkwK3RoaXMuaW5maW5pdHlfZGlzdCoodGhpcy5jb3NfcDE0KnMtdGhpcy5zaW5fcDE0KmEqaSkpLHQueD1lLHQueT1vLHR9ZnVuY3Rpb24gR2godCl7dmFyIHMsYSxoLGkscixuO3JldHVybiB0Lng9KHQueC10aGlzLngwKS90aGlzLmEsdC55PSh0LnktdGhpcy55MCkvdGhpcy5hLHQueC89dGhpcy5rMCx0LnkvPXRoaXMuazAsKHM9TWF0aC5zcXJ0KHQueCp0LngrdC55KnQueSkpPyhpPU1hdGguYXRhbjIocyx0aGlzLnJjKSxhPU1hdGguc2luKGkpLGg9TWF0aC5jb3MoaSksbj1ZKGgqdGhpcy5zaW5fcDE0K3QueSphKnRoaXMuY29zX3AxNC9zKSxyPU1hdGguYXRhbjIodC54KmEscyp0aGlzLmNvc19wMTQqaC10LnkqdGhpcy5zaW5fcDE0KmEpLHI9eSh0aGlzLmxvbmcwK3IpKToobj10aGlzLnBoaWMwLHI9MCksdC54PXIsdC55PW4sdH12YXIgQmg9WyJnbm9tIl0semg9e2luaXQ6VGgsZm9yd2FyZDpqaCxpbnZlcnNlOkdoLG5hbWVzOkJofTtmdW5jdGlvbiBGaCh0LHMpe3ZhciBhPTEtKDEtdCp0KS8oMip0KSpNYXRoLmxvZygoMS10KS8oMSt0KSk7aWYoTWF0aC5hYnMoTWF0aC5hYnMocyktYSk8MWUtNilyZXR1cm4gczwwPy0xKnA6cDtmb3IodmFyIGg9TWF0aC5hc2luKC41KnMpLGkscixuLGUsbz0wO288MzA7bysrKWlmKHI9TWF0aC5zaW4oaCksbj1NYXRoLmNvcyhoKSxlPXQqcixpPU1hdGgucG93KDEtZSplLDIpLygyKm4pKihzLygxLXQqdCktci8oMS1lKmUpKy41L3QqTWF0aC5sb2coKDEtZSkvKDErZSkpKSxoKz1pLE1hdGguYWJzKGkpPD0xZS0xMClyZXR1cm4gaDtyZXR1cm4gTmFOfWZ1bmN0aW9uIERoKCl7dGhpcy5zcGhlcmV8fCh0aGlzLmswPVcodGhpcy5lLE1hdGguc2luKHRoaXMubGF0X3RzKSxNYXRoLmNvcyh0aGlzLmxhdF90cykpKX1mdW5jdGlvbiBVaCh0KXt2YXIgcz10LngsYT10LnksaCxpLHI9eShzLXRoaXMubG9uZzApO2lmKHRoaXMuc3BoZXJlKWg9dGhpcy54MCt0aGlzLmEqcipNYXRoLmNvcyh0aGlzLmxhdF90cyksaT10aGlzLnkwK3RoaXMuYSpNYXRoLnNpbihhKS9NYXRoLmNvcyh0aGlzLmxhdF90cyk7ZWxzZXt2YXIgbj1aKHRoaXMuZSxNYXRoLnNpbihhKSk7aD10aGlzLngwK3RoaXMuYSp0aGlzLmswKnIsaT10aGlzLnkwK3RoaXMuYSpuKi41L3RoaXMuazB9cmV0dXJuIHQueD1oLHQueT1pLHR9ZnVuY3Rpb24gUWgodCl7dC54LT10aGlzLngwLHQueS09dGhpcy55MDt2YXIgcyxhO3JldHVybiB0aGlzLnNwaGVyZT8ocz15KHRoaXMubG9uZzArdC54L3RoaXMuYS9NYXRoLmNvcyh0aGlzLmxhdF90cykpLGE9TWF0aC5hc2luKHQueS90aGlzLmEqTWF0aC5jb3ModGhpcy5sYXRfdHMpKSk6KGE9RmgodGhpcy5lLDIqdC55KnRoaXMuazAvdGhpcy5hKSxzPXkodGhpcy5sb25nMCt0LngvKHRoaXMuYSp0aGlzLmswKSkpLHQueD1zLHQueT1hLHR9dmFyIFdoPVsiY2VhIl0sSGg9e2luaXQ6RGgsZm9yd2FyZDpVaCxpbnZlcnNlOlFoLG5hbWVzOldofTtmdW5jdGlvbiBYaCgpe3RoaXMueDA9dGhpcy54MHx8MCx0aGlzLnkwPXRoaXMueTB8fDAsdGhpcy5sYXQwPXRoaXMubGF0MHx8MCx0aGlzLmxvbmcwPXRoaXMubG9uZzB8fDAsdGhpcy5sYXRfdHM9dGhpcy5sYXRfdHN8fDAsdGhpcy50aXRsZT10aGlzLnRpdGxlfHwiRXF1aWRpc3RhbnQgQ3lsaW5kcmljYWwgKFBsYXRlIENhcnJlKSIsdGhpcy5yYz1NYXRoLmNvcyh0aGlzLmxhdF90cyl9ZnVuY3Rpb24gSmgodCl7dmFyIHM9dC54LGE9dC55LGg9eShzLXRoaXMubG9uZzApLGk9dXQoYS10aGlzLmxhdDApO3JldHVybiB0Lng9dGhpcy54MCt0aGlzLmEqaCp0aGlzLnJjLHQueT10aGlzLnkwK3RoaXMuYSppLHR9ZnVuY3Rpb24gS2godCl7dmFyIHM9dC54LGE9dC55O3JldHVybiB0Lng9eSh0aGlzLmxvbmcwKyhzLXRoaXMueDApLyh0aGlzLmEqdGhpcy5yYykpLHQueT11dCh0aGlzLmxhdDArKGEtdGhpcy55MCkvdGhpcy5hKSx0fXZhciBWaD1bIkVxdWlyZWN0YW5ndWxhciIsIkVxdWlkaXN0YW50X0N5bGluZHJpY2FsIiwiZXFjIl0sWmg9e2luaXQ6WGgsZm9yd2FyZDpKaCxpbnZlcnNlOktoLG5hbWVzOlZofSxScz0yMDtmdW5jdGlvbiBZaCgpe3RoaXMudGVtcD10aGlzLmIvdGhpcy5hLHRoaXMuZXM9MS1NYXRoLnBvdyh0aGlzLnRlbXAsMiksdGhpcy5lPU1hdGguc3FydCh0aGlzLmVzKSx0aGlzLmUwPWd0KHRoaXMuZXMpLHRoaXMuZTE9dnQodGhpcy5lcyksdGhpcy5lMj1idCh0aGlzLmVzKSx0aGlzLmUzPXd0KHRoaXMuZXMpLHRoaXMubWwwPXRoaXMuYSpqKHRoaXMuZTAsdGhpcy5lMSx0aGlzLmUyLHRoaXMuZTMsdGhpcy5sYXQwKX1mdW5jdGlvbiAkaCh0KXt2YXIgcz10LngsYT10LnksaCxpLHIsbj15KHMtdGhpcy5sb25nMCk7aWYocj1uKk1hdGguc2luKGEpLHRoaXMuc3BoZXJlKU1hdGguYWJzKGEpPD1fPyhoPXRoaXMuYSpuLGk9LTEqdGhpcy5hKnRoaXMubGF0MCk6KGg9dGhpcy5hKk1hdGguc2luKHIpL01hdGgudGFuKGEpLGk9dGhpcy5hKih1dChhLXRoaXMubGF0MCkrKDEtTWF0aC5jb3MocikpL01hdGgudGFuKGEpKSk7ZWxzZSBpZihNYXRoLmFicyhhKTw9XyloPXRoaXMuYSpuLGk9LTEqdGhpcy5tbDA7ZWxzZXt2YXIgZT1sdCh0aGlzLmEsdGhpcy5lLE1hdGguc2luKGEpKS9NYXRoLnRhbihhKTtoPWUqTWF0aC5zaW4ociksaT10aGlzLmEqaih0aGlzLmUwLHRoaXMuZTEsdGhpcy5lMix0aGlzLmUzLGEpLXRoaXMubWwwK2UqKDEtTWF0aC5jb3MocikpfXJldHVybiB0Lng9aCt0aGlzLngwLHQueT1pK3RoaXMueTAsdH1mdW5jdGlvbiB0ZSh0KXt2YXIgcyxhLGgsaSxyLG4sZSxvLGw7aWYoaD10LngtdGhpcy54MCxpPXQueS10aGlzLnkwLHRoaXMuc3BoZXJlKWlmKE1hdGguYWJzKGkrdGhpcy5hKnRoaXMubGF0MCk8PV8pcz15KGgvdGhpcy5hK3RoaXMubG9uZzApLGE9MDtlbHNle249dGhpcy5sYXQwK2kvdGhpcy5hLGU9aCpoL3RoaXMuYS90aGlzLmErbipuLG89bjt2YXIgYztmb3Iocj1ScztyOy0tcilpZihjPU1hdGgudGFuKG8pLGw9LTEqKG4qKG8qYysxKS1vLS41KihvKm8rZSkqYykvKChvLW4pL2MtMSksbys9bCxNYXRoLmFicyhsKTw9Xyl7YT1vO2JyZWFrfXM9eSh0aGlzLmxvbmcwK01hdGguYXNpbihoKk1hdGgudGFuKG8pL3RoaXMuYSkvTWF0aC5zaW4oYSkpfWVsc2UgaWYoTWF0aC5hYnMoaSt0aGlzLm1sMCk8PV8pYT0wLHM9eSh0aGlzLmxvbmcwK2gvdGhpcy5hKTtlbHNle249KHRoaXMubWwwK2kpL3RoaXMuYSxlPWgqaC90aGlzLmEvdGhpcy5hK24qbixvPW47dmFyIHUsTSxkLGYsbTtmb3Iocj1ScztyOy0tcilpZihtPXRoaXMuZSpNYXRoLnNpbihvKSx1PU1hdGguc3FydCgxLW0qbSkqTWF0aC50YW4obyksTT10aGlzLmEqaih0aGlzLmUwLHRoaXMuZTEsdGhpcy5lMix0aGlzLmUzLG8pLGQ9dGhpcy5lMC0yKnRoaXMuZTEqTWF0aC5jb3MoMipvKSs0KnRoaXMuZTIqTWF0aC5jb3MoNCpvKS02KnRoaXMuZTMqTWF0aC5jb3MoNipvKSxmPU0vdGhpcy5hLGw9KG4qKHUqZisxKS1mLS41KnUqKGYqZitlKSkvKHRoaXMuZXMqTWF0aC5zaW4oMipvKSooZipmK2UtMipuKmYpLyg0KnUpKyhuLWYpKih1KmQtMi9NYXRoLnNpbigyKm8pKS1kKSxvLT1sLE1hdGguYWJzKGwpPD1fKXthPW87YnJlYWt9dT1NYXRoLnNxcnQoMS10aGlzLmVzKk1hdGgucG93KE1hdGguc2luKGEpLDIpKSpNYXRoLnRhbihhKSxzPXkodGhpcy5sb25nMCtNYXRoLmFzaW4oaCp1L3RoaXMuYSkvTWF0aC5zaW4oYSkpfXJldHVybiB0Lng9cyx0Lnk9YSx0fXZhciBzZT1bIlBvbHljb25pYyIsInBvbHkiXSxhZT17aW5pdDpZaCxmb3J3YXJkOiRoLGludmVyc2U6dGUsbmFtZXM6c2V9O2Z1bmN0aW9uIGllKCl7dGhpcy5BPVtdLHRoaXMuQVsxXT0uNjM5OTE3NTA3Myx0aGlzLkFbMl09LS4xMzU4Nzk3NjEzLHRoaXMuQVszXT0uMDYzMjk0NDA5LHRoaXMuQVs0XT0tLjAyNTI2ODUzLHRoaXMuQVs1XT0uMDExNzg3OSx0aGlzLkFbNl09LS4wMDU1MTYxLHRoaXMuQVs3XT0uMDAyNjkwNix0aGlzLkFbOF09LS4wMDEzMzMsdGhpcy5BWzldPTY3ZS01LHRoaXMuQVsxMF09LTM0ZS01LHRoaXMuQl9yZT1bXSx0aGlzLkJfaW09W10sdGhpcy5CX3JlWzFdPS43NTU3ODUzMjI4LHRoaXMuQl9pbVsxXT0wLHRoaXMuQl9yZVsyXT0uMjQ5MjA0NjQ2LHRoaXMuQl9pbVsyXT0uMDAzMzcxNTA3LHRoaXMuQl9yZVszXT0tLjAwMTU0MTczOSx0aGlzLkJfaW1bM109LjA0MTA1ODU2LHRoaXMuQl9yZVs0XT0tLjEwMTYyOTA3LHRoaXMuQl9pbVs0XT0uMDE3Mjc2MDksdGhpcy5CX3JlWzVdPS0uMjY2MjM0ODksdGhpcy5CX2ltWzVdPS0uMzYyNDkyMTgsdGhpcy5CX3JlWzZdPS0uNjg3MDk4Myx0aGlzLkJfaW1bNl09LTEuMTY1MTk2Nyx0aGlzLkNfcmU9W10sdGhpcy5DX2ltPVtdLHRoaXMuQ19yZVsxXT0xLjMyMzEyNzA0MzksdGhpcy5DX2ltWzFdPTAsdGhpcy5DX3JlWzJdPS0uNTc3MjQ1Nzg5LHRoaXMuQ19pbVsyXT0tLjAwNzgwOTU5OCx0aGlzLkNfcmVbM109LjUwODMwNzUxMyx0aGlzLkNfaW1bM109LS4xMTIyMDg5NTIsdGhpcy5DX3JlWzRdPS0uMTUwOTQ3NjIsdGhpcy5DX2ltWzRdPS4xODIwMDYwMix0aGlzLkNfcmVbNV09MS4wMTQxODE3OSx0aGlzLkNfaW1bNV09MS42NDQ5NzY5Nix0aGlzLkNfcmVbNl09MS45NjYwNTQ5LHRoaXMuQ19pbVs2XT0yLjUxMjc2NDUsdGhpcy5EPVtdLHRoaXMuRFsxXT0xLjU2MjcwMTQyNDMsdGhpcy5EWzJdPS41MTg1NDA2Mzk4LHRoaXMuRFszXT0tLjAzMzMzMDk4LHRoaXMuRFs0XT0tLjEwNTI5MDYsdGhpcy5EWzVdPS0uMDM2ODU5NCx0aGlzLkRbNl09LjAwNzMxNyx0aGlzLkRbN109LjAxMjIsdGhpcy5EWzhdPS4wMDM5NCx0aGlzLkRbOV09LS4wMDEzfWZ1bmN0aW9uIGhlKHQpe3ZhciBzLGE9dC54LGg9dC55LGk9aC10aGlzLmxhdDAscj1hLXRoaXMubG9uZzAsbj1pL2Z0KjFlLTUsZT1yLG89MSxsPTA7Zm9yKHM9MTtzPD0xMDtzKyspbz1vKm4sbD1sK3RoaXMuQVtzXSpvO3ZhciBjPWwsdT1lLE09MSxkPTAsZixtLHg9MCxnPTA7Zm9yKHM9MTtzPD02O3MrKylmPU0qYy1kKnUsbT1kKmMrTSp1LE09ZixkPW0seD14K3RoaXMuQl9yZVtzXSpNLXRoaXMuQl9pbVtzXSpkLGc9Zyt0aGlzLkJfaW1bc10qTSt0aGlzLkJfcmVbc10qZDtyZXR1cm4gdC54PWcqdGhpcy5hK3RoaXMueDAsdC55PXgqdGhpcy5hK3RoaXMueTAsdH1mdW5jdGlvbiBlZSh0KXt2YXIgcyxhPXQueCxoPXQueSxpPWEtdGhpcy54MCxyPWgtdGhpcy55MCxuPXIvdGhpcy5hLGU9aS90aGlzLmEsbz0xLGw9MCxjLHUsTT0wLGQ9MDtmb3Iocz0xO3M8PTY7cysrKWM9bypuLWwqZSx1PWwqbitvKmUsbz1jLGw9dSxNPU0rdGhpcy5DX3JlW3NdKm8tdGhpcy5DX2ltW3NdKmwsZD1kK3RoaXMuQ19pbVtzXSpvK3RoaXMuQ19yZVtzXSpsO2Zvcih2YXIgZj0wO2Y8dGhpcy5pdGVyYXRpb25zO2YrKyl7dmFyIG09TSx4PWQsZyxiLHc9bixQPWU7Zm9yKHM9MjtzPD02O3MrKylnPW0qTS14KmQsYj14Kk0rbSpkLG09Zyx4PWIsdz13KyhzLTEpKih0aGlzLkJfcmVbc10qbS10aGlzLkJfaW1bc10qeCksUD1QKyhzLTEpKih0aGlzLkJfaW1bc10qbSt0aGlzLkJfcmVbc10qeCk7bT0xLHg9MDt2YXIgTj10aGlzLkJfcmVbMV0sQz10aGlzLkJfaW1bMV07Zm9yKHM9MjtzPD02O3MrKylnPW0qTS14KmQsYj14Kk0rbSpkLG09Zyx4PWIsTj1OK3MqKHRoaXMuQl9yZVtzXSptLXRoaXMuQl9pbVtzXSp4KSxDPUMrcyoodGhpcy5CX2ltW3NdKm0rdGhpcy5CX3JlW3NdKngpO3ZhciBMPU4qTitDKkM7TT0odypOK1AqQykvTCxkPShQKk4tdypDKS9MfXZhciBPPU0sWD1kLHN0PTEsYXQ9MDtmb3Iocz0xO3M8PTk7cysrKXN0PXN0Kk8sYXQ9YXQrdGhpcy5EW3NdKnN0O3ZhciBCdD10aGlzLmxhdDArYXQqZnQqMWU1LGdyPXRoaXMubG9uZzArWDtyZXR1cm4gdC54PWdyLHQueT1CdCx0fXZhciByZT1bIk5ld19aZWFsYW5kX01hcF9HcmlkIiwibnptZyJdLG5lPXtpbml0OmllLGZvcndhcmQ6aGUsaW52ZXJzZTplZSxuYW1lczpyZX07ZnVuY3Rpb24gb2UoKXt9ZnVuY3Rpb24gbGUodCl7dmFyIHM9dC54LGE9dC55LGg9eShzLXRoaXMubG9uZzApLGk9dGhpcy54MCt0aGlzLmEqaCxyPXRoaXMueTArdGhpcy5hKk1hdGgubG9nKE1hdGgudGFuKE1hdGguUEkvNCthLzIuNSkpKjEuMjU7cmV0dXJuIHQueD1pLHQueT1yLHR9ZnVuY3Rpb24gdWUodCl7dC54LT10aGlzLngwLHQueS09dGhpcy55MDt2YXIgcz15KHRoaXMubG9uZzArdC54L3RoaXMuYSksYT0yLjUqKE1hdGguYXRhbihNYXRoLmV4cCguOCp0LnkvdGhpcy5hKSktTWF0aC5QSS80KTtyZXR1cm4gdC54PXMsdC55PWEsdH12YXIgY2U9WyJNaWxsZXJfQ3lsaW5kcmljYWwiLCJtaWxsIl0sTWU9e2luaXQ6b2UsZm9yd2FyZDpsZSxpbnZlcnNlOnVlLG5hbWVzOmNlfSxmZT0yMDtmdW5jdGlvbiBkZSgpe3RoaXMuc3BoZXJlPyh0aGlzLm49MSx0aGlzLm09MCx0aGlzLmVzPTAsdGhpcy5DX3k9TWF0aC5zcXJ0KCh0aGlzLm0rMSkvdGhpcy5uKSx0aGlzLkNfeD10aGlzLkNfeS8odGhpcy5tKzEpKTp0aGlzLmVuPU9zKHRoaXMuZXMpfWZ1bmN0aW9uIHBlKHQpe3ZhciBzLGEsaD10LngsaT10Lnk7aWYoaD15KGgtdGhpcy5sb25nMCksdGhpcy5zcGhlcmUpe2lmKCF0aGlzLm0paT10aGlzLm4hPT0xP01hdGguYXNpbih0aGlzLm4qTWF0aC5zaW4oaSkpOmk7ZWxzZSBmb3IodmFyIHI9dGhpcy5uKk1hdGguc2luKGkpLG49ZmU7bjstLW4pe3ZhciBlPSh0aGlzLm0qaStNYXRoLnNpbihpKS1yKS8odGhpcy5tK01hdGguY29zKGkpKTtpZihpLT1lLE1hdGguYWJzKGUpPF8pYnJlYWt9cz10aGlzLmEqdGhpcy5DX3gqaCoodGhpcy5tK01hdGguY29zKGkpKSxhPXRoaXMuYSp0aGlzLkNfeSppfWVsc2V7dmFyIG89TWF0aC5zaW4oaSksbD1NYXRoLmNvcyhpKTthPXRoaXMuYSpxdChpLG8sbCx0aGlzLmVuKSxzPXRoaXMuYSpoKmwvTWF0aC5zcXJ0KDEtdGhpcy5lcypvKm8pfXJldHVybiB0Lng9cyx0Lnk9YSx0fWZ1bmN0aW9uIG1lKHQpe3ZhciBzLGEsaCxpO3JldHVybiB0LngtPXRoaXMueDAsaD10LngvdGhpcy5hLHQueS09dGhpcy55MCxzPXQueS90aGlzLmEsdGhpcy5zcGhlcmU/KHMvPXRoaXMuQ195LGg9aC8odGhpcy5DX3gqKHRoaXMubStNYXRoLmNvcyhzKSkpLHRoaXMubT9zPVkoKHRoaXMubSpzK01hdGguc2luKHMpKS90aGlzLm4pOnRoaXMubiE9PTEmJihzPVkoTWF0aC5zaW4ocykvdGhpcy5uKSksaD15KGgrdGhpcy5sb25nMCkscz11dChzKSk6KHM9a3ModC55L3RoaXMuYSx0aGlzLmVzLHRoaXMuZW4pLGk9TWF0aC5hYnMocyksaTxwPyhpPU1hdGguc2luKHMpLGE9dGhpcy5sb25nMCt0LngqTWF0aC5zcXJ0KDEtdGhpcy5lcyppKmkpLyh0aGlzLmEqTWF0aC5jb3MocykpLGg9eShhKSk6aS1fPHAmJihoPXRoaXMubG9uZzApKSx0Lng9aCx0Lnk9cyx0fXZhciBfZT1bIlNpbnVzb2lkYWwiLCJzaW51Il0seWU9e2luaXQ6ZGUsZm9yd2FyZDpwZSxpbnZlcnNlOm1lLG5hbWVzOl9lfTtmdW5jdGlvbiB4ZSgpe31mdW5jdGlvbiBnZSh0KXtmb3IodmFyIHM9dC54LGE9dC55LGg9eShzLXRoaXMubG9uZzApLGk9YSxyPU1hdGguUEkqTWF0aC5zaW4oYSk7Oyl7dmFyIG49LShpK01hdGguc2luKGkpLXIpLygxK01hdGguY29zKGkpKTtpZihpKz1uLE1hdGguYWJzKG4pPF8pYnJlYWt9aS89MixNYXRoLlBJLzItTWF0aC5hYnMoYSk8XyYmKGg9MCk7dmFyIGU9LjkwMDMxNjMxNjE1OCp0aGlzLmEqaCpNYXRoLmNvcyhpKSt0aGlzLngwLG89MS40MTQyMTM1NjIzNzMxKnRoaXMuYSpNYXRoLnNpbihpKSt0aGlzLnkwO3JldHVybiB0Lng9ZSx0Lnk9byx0fWZ1bmN0aW9uIHZlKHQpe3ZhciBzLGE7dC54LT10aGlzLngwLHQueS09dGhpcy55MCxhPXQueS8oMS40MTQyMTM1NjIzNzMxKnRoaXMuYSksTWF0aC5hYnMoYSk+Ljk5OTk5OTk5OTk5OSYmKGE9Ljk5OTk5OTk5OTk5OSkscz1NYXRoLmFzaW4oYSk7dmFyIGg9eSh0aGlzLmxvbmcwK3QueC8oLjkwMDMxNjMxNjE1OCp0aGlzLmEqTWF0aC5jb3MocykpKTtoPC1NYXRoLlBJJiYoaD0tTWF0aC5QSSksaD5NYXRoLlBJJiYoaD1NYXRoLlBJKSxhPSgyKnMrTWF0aC5zaW4oMipzKSkvTWF0aC5QSSxNYXRoLmFicyhhKT4xJiYoYT0xKTt2YXIgaT1NYXRoLmFzaW4oYSk7cmV0dXJuIHQueD1oLHQueT1pLHR9dmFyIGJlPVsiTW9sbHdlaWRlIiwibW9sbCJdLHdlPXtpbml0OnhlLGZvcndhcmQ6Z2UsaW52ZXJzZTp2ZSxuYW1lczpiZX07ZnVuY3Rpb24gTmUoKXtNYXRoLmFicyh0aGlzLmxhdDErdGhpcy5sYXQyKTxffHwodGhpcy5sYXQyPXRoaXMubGF0Mnx8dGhpcy5sYXQxLHRoaXMudGVtcD10aGlzLmIvdGhpcy5hLHRoaXMuZXM9MS1NYXRoLnBvdyh0aGlzLnRlbXAsMiksdGhpcy5lPU1hdGguc3FydCh0aGlzLmVzKSx0aGlzLmUwPWd0KHRoaXMuZXMpLHRoaXMuZTE9dnQodGhpcy5lcyksdGhpcy5lMj1idCh0aGlzLmVzKSx0aGlzLmUzPXd0KHRoaXMuZXMpLHRoaXMuc2lucGhpPU1hdGguc2luKHRoaXMubGF0MSksdGhpcy5jb3NwaGk9TWF0aC5jb3ModGhpcy5sYXQxKSx0aGlzLm1zMT1XKHRoaXMuZSx0aGlzLnNpbnBoaSx0aGlzLmNvc3BoaSksdGhpcy5tbDE9aih0aGlzLmUwLHRoaXMuZTEsdGhpcy5lMix0aGlzLmUzLHRoaXMubGF0MSksTWF0aC5hYnModGhpcy5sYXQxLXRoaXMubGF0Mik8Xz90aGlzLm5zPXRoaXMuc2lucGhpOih0aGlzLnNpbnBoaT1NYXRoLnNpbih0aGlzLmxhdDIpLHRoaXMuY29zcGhpPU1hdGguY29zKHRoaXMubGF0MiksdGhpcy5tczI9Vyh0aGlzLmUsdGhpcy5zaW5waGksdGhpcy5jb3NwaGkpLHRoaXMubWwyPWoodGhpcy5lMCx0aGlzLmUxLHRoaXMuZTIsdGhpcy5lMyx0aGlzLmxhdDIpLHRoaXMubnM9KHRoaXMubXMxLXRoaXMubXMyKS8odGhpcy5tbDItdGhpcy5tbDEpKSx0aGlzLmc9dGhpcy5tbDErdGhpcy5tczEvdGhpcy5ucyx0aGlzLm1sMD1qKHRoaXMuZTAsdGhpcy5lMSx0aGlzLmUyLHRoaXMuZTMsdGhpcy5sYXQwKSx0aGlzLnJoPXRoaXMuYSoodGhpcy5nLXRoaXMubWwwKSl9ZnVuY3Rpb24gQWUodCl7dmFyIHM9dC54LGE9dC55LGg7aWYodGhpcy5zcGhlcmUpaD10aGlzLmEqKHRoaXMuZy1hKTtlbHNle3ZhciBpPWoodGhpcy5lMCx0aGlzLmUxLHRoaXMuZTIsdGhpcy5lMyxhKTtoPXRoaXMuYSoodGhpcy5nLWkpfXZhciByPXRoaXMubnMqeShzLXRoaXMubG9uZzApLG49dGhpcy54MCtoKk1hdGguc2luKHIpLGU9dGhpcy55MCt0aGlzLnJoLWgqTWF0aC5jb3Mocik7cmV0dXJuIHQueD1uLHQueT1lLHR9ZnVuY3Rpb24gRWUodCl7dC54LT10aGlzLngwLHQueT10aGlzLnJoLXQueSt0aGlzLnkwO3ZhciBzLGEsaCxpO3RoaXMubnM+PTA/KGE9TWF0aC5zcXJ0KHQueCp0LngrdC55KnQueSkscz0xKTooYT0tTWF0aC5zcXJ0KHQueCp0LngrdC55KnQueSkscz0tMSk7dmFyIHI9MDtpZihhIT09MCYmKHI9TWF0aC5hdGFuMihzKnQueCxzKnQueSkpLHRoaXMuc3BoZXJlKXJldHVybiBpPXkodGhpcy5sb25nMCtyL3RoaXMubnMpLGg9dXQodGhpcy5nLWEvdGhpcy5hKSx0Lng9aSx0Lnk9aCx0O3ZhciBuPXRoaXMuZy1hL3RoaXMuYTtyZXR1cm4gaD1UdChuLHRoaXMuZTAsdGhpcy5lMSx0aGlzLmUyLHRoaXMuZTMpLGk9eSh0aGlzLmxvbmcwK3IvdGhpcy5ucyksdC54PWksdC55PWgsdH12YXIgQ2U9WyJFcXVpZGlzdGFudF9Db25pYyIsImVxZGMiXSxQZT17aW5pdDpOZSxmb3J3YXJkOkFlLGludmVyc2U6RWUsbmFtZXM6Q2V9O2Z1bmN0aW9uIFNlKCl7dGhpcy5SPXRoaXMuYX1mdW5jdGlvbiBPZSh0KXt2YXIgcz10LngsYT10LnksaD15KHMtdGhpcy5sb25nMCksaSxyO01hdGguYWJzKGEpPD1fJiYoaT10aGlzLngwK3RoaXMuUipoLHI9dGhpcy55MCk7dmFyIG49WSgyKk1hdGguYWJzKGEvTWF0aC5QSSkpOyhNYXRoLmFicyhoKTw9X3x8TWF0aC5hYnMoTWF0aC5hYnMoYSktcCk8PV8pJiYoaT10aGlzLngwLGE+PTA/cj10aGlzLnkwK01hdGguUEkqdGhpcy5SKk1hdGgudGFuKC41Km4pOnI9dGhpcy55MCtNYXRoLlBJKnRoaXMuUiotTWF0aC50YW4oLjUqbikpO3ZhciBlPS41Kk1hdGguYWJzKE1hdGguUEkvaC1oL01hdGguUEkpLG89ZSplLGw9TWF0aC5zaW4obiksYz1NYXRoLmNvcyhuKSx1PWMvKGwrYy0xKSxNPXUqdSxkPXUqKDIvbC0xKSxmPWQqZCxtPU1hdGguUEkqdGhpcy5SKihlKih1LWYpK01hdGguc3FydChvKih1LWYpKih1LWYpLShmK28pKihNLWYpKSkvKGYrbyk7aDwwJiYobT0tbSksaT10aGlzLngwK207dmFyIHg9byt1O3JldHVybiBtPU1hdGguUEkqdGhpcy5SKihkKngtZSpNYXRoLnNxcnQoKGYrbykqKG8rMSkteCp4KSkvKGYrbyksYT49MD9yPXRoaXMueTArbTpyPXRoaXMueTAtbSx0Lng9aSx0Lnk9cix0fWZ1bmN0aW9uIGtlKHQpe3ZhciBzLGEsaCxpLHIsbixlLG8sbCxjLHUsTSxkO3JldHVybiB0LngtPXRoaXMueDAsdC55LT10aGlzLnkwLHU9TWF0aC5QSSp0aGlzLlIsaD10LngvdSxpPXQueS91LHI9aCpoK2kqaSxuPS1NYXRoLmFicyhpKSooMStyKSxlPW4tMippKmkraCpoLG89LTIqbisxKzIqaSppK3IqcixkPWkqaS9vKygyKmUqZSplL28vby9vLTkqbiplL28vbykvMjcsbD0obi1lKmUvMy9vKS9vLGM9MipNYXRoLnNxcnQoLWwvMyksdT0zKmQvbC9jLE1hdGguYWJzKHUpPjEmJih1Pj0wP3U9MTp1PS0xKSxNPU1hdGguYWNvcyh1KS8zLHQueT49MD9hPSgtYypNYXRoLmNvcyhNK01hdGguUEkvMyktZS8zL28pKk1hdGguUEk6YT0tKC1jKk1hdGguY29zKE0rTWF0aC5QSS8zKS1lLzMvbykqTWF0aC5QSSxNYXRoLmFicyhoKTxfP3M9dGhpcy5sb25nMDpzPXkodGhpcy5sb25nMCtNYXRoLlBJKihyLTErTWF0aC5zcXJ0KDErMiooaCpoLWkqaSkrcipyKSkvMi9oKSx0Lng9cyx0Lnk9YSx0fXZhciBJZT1bIlZhbl9kZXJfR3JpbnRlbl9JIiwiVmFuRGVyR3JpbnRlbiIsInZhbmRnIl0scWU9e2luaXQ6U2UsZm9yd2FyZDpPZSxpbnZlcnNlOmtlLG5hbWVzOkllfTtmdW5jdGlvbiBSZSgpe3RoaXMuc2luX3AxMj1NYXRoLnNpbih0aGlzLmxhdDApLHRoaXMuY29zX3AxMj1NYXRoLmNvcyh0aGlzLmxhdDApfWZ1bmN0aW9uIExlKHQpe3ZhciBzPXQueCxhPXQueSxoPU1hdGguc2luKHQueSksaT1NYXRoLmNvcyh0LnkpLHI9eShzLXRoaXMubG9uZzApLG4sZSxvLGwsYyx1LE0sZCxmLG0seCxnLGIsdyxQLE4sQyxMLE8sWCxzdCxhdCxCdDtyZXR1cm4gdGhpcy5zcGhlcmU/TWF0aC5hYnModGhpcy5zaW5fcDEyLTEpPD1fPyh0Lng9dGhpcy54MCt0aGlzLmEqKHAtYSkqTWF0aC5zaW4ociksdC55PXRoaXMueTAtdGhpcy5hKihwLWEpKk1hdGguY29zKHIpLHQpOk1hdGguYWJzKHRoaXMuc2luX3AxMisxKTw9Xz8odC54PXRoaXMueDArdGhpcy5hKihwK2EpKk1hdGguc2luKHIpLHQueT10aGlzLnkwK3RoaXMuYSoocCthKSpNYXRoLmNvcyhyKSx0KTooTD10aGlzLnNpbl9wMTIqaCt0aGlzLmNvc19wMTIqaSpNYXRoLmNvcyhyKSxOPU1hdGguYWNvcyhMKSxDPU4/Ti9NYXRoLnNpbihOKToxLHQueD10aGlzLngwK3RoaXMuYSpDKmkqTWF0aC5zaW4ociksdC55PXRoaXMueTArdGhpcy5hKkMqKHRoaXMuY29zX3AxMipoLXRoaXMuc2luX3AxMippKk1hdGguY29zKHIpKSx0KToobj1ndCh0aGlzLmVzKSxlPXZ0KHRoaXMuZXMpLG89YnQodGhpcy5lcyksbD13dCh0aGlzLmVzKSxNYXRoLmFicyh0aGlzLnNpbl9wMTItMSk8PV8/KGM9dGhpcy5hKmoobixlLG8sbCxwKSx1PXRoaXMuYSpqKG4sZSxvLGwsYSksdC54PXRoaXMueDArKGMtdSkqTWF0aC5zaW4ociksdC55PXRoaXMueTAtKGMtdSkqTWF0aC5jb3MociksdCk6TWF0aC5hYnModGhpcy5zaW5fcDEyKzEpPD1fPyhjPXRoaXMuYSpqKG4sZSxvLGwscCksdT10aGlzLmEqaihuLGUsbyxsLGEpLHQueD10aGlzLngwKyhjK3UpKk1hdGguc2luKHIpLHQueT10aGlzLnkwKyhjK3UpKk1hdGguY29zKHIpLHQpOihNPWgvaSxkPWx0KHRoaXMuYSx0aGlzLmUsdGhpcy5zaW5fcDEyKSxmPWx0KHRoaXMuYSx0aGlzLmUsaCksbT1NYXRoLmF0YW4oKDEtdGhpcy5lcykqTSt0aGlzLmVzKmQqdGhpcy5zaW5fcDEyLyhmKmkpKSx4PU1hdGguYXRhbjIoTWF0aC5zaW4ociksdGhpcy5jb3NfcDEyKk1hdGgudGFuKG0pLXRoaXMuc2luX3AxMipNYXRoLmNvcyhyKSkseD09PTA/Tz1NYXRoLmFzaW4odGhpcy5jb3NfcDEyKk1hdGguc2luKG0pLXRoaXMuc2luX3AxMipNYXRoLmNvcyhtKSk6TWF0aC5hYnMoTWF0aC5hYnMoeCktTWF0aC5QSSk8PV8/Tz0tTWF0aC5hc2luKHRoaXMuY29zX3AxMipNYXRoLnNpbihtKS10aGlzLnNpbl9wMTIqTWF0aC5jb3MobSkpOk89TWF0aC5hc2luKE1hdGguc2luKHIpKk1hdGguY29zKG0pL01hdGguc2luKHgpKSxnPXRoaXMuZSp0aGlzLnNpbl9wMTIvTWF0aC5zcXJ0KDEtdGhpcy5lcyksYj10aGlzLmUqdGhpcy5jb3NfcDEyKk1hdGguY29zKHgpL01hdGguc3FydCgxLXRoaXMuZXMpLHc9ZypiLFA9YipiLFg9TypPLHN0PVgqTyxhdD1zdCpPLEJ0PWF0Kk8sTj1kKk8qKDEtWCpQKigxLVApLzYrc3QvOCp3KigxLTIqUCkrYXQvMTIwKihQKig0LTcqUCktMypnKmcqKDEtNypQKSktQnQvNDgqdyksdC54PXRoaXMueDArTipNYXRoLnNpbih4KSx0Lnk9dGhpcy55MCtOKk1hdGguY29zKHgpLHQpKX1mdW5jdGlvbiBUZSh0KXt0LngtPXRoaXMueDAsdC55LT10aGlzLnkwO3ZhciBzLGEsaCxpLHIsbixlLG8sbCxjLHUsTSxkLGYsbSx4LGcsYix3LFAsTixDLEwsTztyZXR1cm4gdGhpcy5zcGhlcmU/KHM9TWF0aC5zcXJ0KHQueCp0LngrdC55KnQueSkscz4yKnAqdGhpcy5hP3ZvaWQgMDooYT1zL3RoaXMuYSxoPU1hdGguc2luKGEpLGk9TWF0aC5jb3MoYSkscj10aGlzLmxvbmcwLE1hdGguYWJzKHMpPD1fP249dGhpcy5sYXQwOihuPVkoaSp0aGlzLnNpbl9wMTIrdC55KmgqdGhpcy5jb3NfcDEyL3MpLGU9TWF0aC5hYnModGhpcy5sYXQwKS1wLE1hdGguYWJzKGUpPD1fP3RoaXMubGF0MD49MD9yPXkodGhpcy5sb25nMCtNYXRoLmF0YW4yKHQueCwtdC55KSk6cj15KHRoaXMubG9uZzAtTWF0aC5hdGFuMigtdC54LHQueSkpOnI9eSh0aGlzLmxvbmcwK01hdGguYXRhbjIodC54Kmgscyp0aGlzLmNvc19wMTIqaS10LnkqdGhpcy5zaW5fcDEyKmgpKSksdC54PXIsdC55PW4sdCkpOihvPWd0KHRoaXMuZXMpLGw9dnQodGhpcy5lcyksYz1idCh0aGlzLmVzKSx1PXd0KHRoaXMuZXMpLE1hdGguYWJzKHRoaXMuc2luX3AxMi0xKTw9Xz8oTT10aGlzLmEqaihvLGwsYyx1LHApLHM9TWF0aC5zcXJ0KHQueCp0LngrdC55KnQueSksZD1NLXMsbj1UdChkL3RoaXMuYSxvLGwsYyx1KSxyPXkodGhpcy5sb25nMCtNYXRoLmF0YW4yKHQueCwtMSp0LnkpKSx0Lng9cix0Lnk9bix0KTpNYXRoLmFicyh0aGlzLnNpbl9wMTIrMSk8PV8/KE09dGhpcy5hKmoobyxsLGMsdSxwKSxzPU1hdGguc3FydCh0LngqdC54K3QueSp0LnkpLGQ9cy1NLG49VHQoZC90aGlzLmEsbyxsLGMsdSkscj15KHRoaXMubG9uZzArTWF0aC5hdGFuMih0LngsdC55KSksdC54PXIsdC55PW4sdCk6KHM9TWF0aC5zcXJ0KHQueCp0LngrdC55KnQueSkseD1NYXRoLmF0YW4yKHQueCx0LnkpLGY9bHQodGhpcy5hLHRoaXMuZSx0aGlzLnNpbl9wMTIpLGc9TWF0aC5jb3MoeCksYj10aGlzLmUqdGhpcy5jb3NfcDEyKmcsdz0tYipiLygxLXRoaXMuZXMpLFA9Myp0aGlzLmVzKigxLXcpKnRoaXMuc2luX3AxMip0aGlzLmNvc19wMTIqZy8oMS10aGlzLmVzKSxOPXMvZixDPU4tdyooMSt3KSpNYXRoLnBvdyhOLDMpLzYtUCooMSszKncpKk1hdGgucG93KE4sNCkvMjQsTD0xLXcqQypDLzItTipDKkMqQy82LG09TWF0aC5hc2luKHRoaXMuc2luX3AxMipNYXRoLmNvcyhDKSt0aGlzLmNvc19wMTIqTWF0aC5zaW4oQykqZykscj15KHRoaXMubG9uZzArTWF0aC5hc2luKE1hdGguc2luKHgpKk1hdGguc2luKEMpL01hdGguY29zKG0pKSksTz1NYXRoLnNpbihtKSxuPU1hdGguYXRhbjIoKE8tdGhpcy5lcypMKnRoaXMuc2luX3AxMikqTWF0aC50YW4obSksTyooMS10aGlzLmVzKSksdC54PXIsdC55PW4sdCkpfXZhciBqZT1bIkF6aW11dGhhbF9FcXVpZGlzdGFudCIsImFlcWQiXSxHZT17aW5pdDpSZSxmb3J3YXJkOkxlLGludmVyc2U6VGUsbmFtZXM6amV9O2Z1bmN0aW9uIEJlKCl7dGhpcy5zaW5fcDE0PU1hdGguc2luKHRoaXMubGF0MCksdGhpcy5jb3NfcDE0PU1hdGguY29zKHRoaXMubGF0MCl9ZnVuY3Rpb24gemUodCl7dmFyIHMsYSxoLGkscixuLGUsbyxsPXQueCxjPXQueTtyZXR1cm4gaD15KGwtdGhpcy5sb25nMCkscz1NYXRoLnNpbihjKSxhPU1hdGguY29zKGMpLGk9TWF0aC5jb3MoaCksbj10aGlzLnNpbl9wMTQqcyt0aGlzLmNvc19wMTQqYSppLHI9MSwobj4wfHxNYXRoLmFicyhuKTw9XykmJihlPXRoaXMuYSpyKmEqTWF0aC5zaW4oaCksbz10aGlzLnkwK3RoaXMuYSpyKih0aGlzLmNvc19wMTQqcy10aGlzLnNpbl9wMTQqYSppKSksdC54PWUsdC55PW8sdH1mdW5jdGlvbiBGZSh0KXt2YXIgcyxhLGgsaSxyLG4sZTtyZXR1cm4gdC54LT10aGlzLngwLHQueS09dGhpcy55MCxzPU1hdGguc3FydCh0LngqdC54K3QueSp0LnkpLGE9WShzL3RoaXMuYSksaD1NYXRoLnNpbihhKSxpPU1hdGguY29zKGEpLG49dGhpcy5sb25nMCxNYXRoLmFicyhzKTw9Xz8oZT10aGlzLmxhdDAsdC54PW4sdC55PWUsdCk6KGU9WShpKnRoaXMuc2luX3AxNCt0LnkqaCp0aGlzLmNvc19wMTQvcykscj1NYXRoLmFicyh0aGlzLmxhdDApLXAsTWF0aC5hYnMocik8PV8/KHRoaXMubGF0MD49MD9uPXkodGhpcy5sb25nMCtNYXRoLmF0YW4yKHQueCwtdC55KSk6bj15KHRoaXMubG9uZzAtTWF0aC5hdGFuMigtdC54LHQueSkpLHQueD1uLHQueT1lLHQpOihuPXkodGhpcy5sb25nMCtNYXRoLmF0YW4yKHQueCpoLHMqdGhpcy5jb3NfcDE0KmktdC55KnRoaXMuc2luX3AxNCpoKSksdC54PW4sdC55PWUsdCkpfXZhciBEZT1bIm9ydGhvIl0sVWU9e2luaXQ6QmUsZm9yd2FyZDp6ZSxpbnZlcnNlOkZlLG5hbWVzOkRlfSxTPXtGUk9OVDoxLFJJR0hUOjIsQkFDSzozLExFRlQ6NCxUT1A6NSxCT1RUT006Nn0sRT17QVJFQV8wOjEsQVJFQV8xOjIsQVJFQV8yOjMsQVJFQV8zOjR9O2Z1bmN0aW9uIFFlKCl7dGhpcy54MD10aGlzLngwfHwwLHRoaXMueTA9dGhpcy55MHx8MCx0aGlzLmxhdDA9dGhpcy5sYXQwfHwwLHRoaXMubG9uZzA9dGhpcy5sb25nMHx8MCx0aGlzLmxhdF90cz10aGlzLmxhdF90c3x8MCx0aGlzLnRpdGxlPXRoaXMudGl0bGV8fCJRdWFkcmlsYXRlcmFsaXplZCBTcGhlcmljYWwgQ3ViZSIsdGhpcy5sYXQwPj1wLUEvMj90aGlzLmZhY2U9Uy5UT1A6dGhpcy5sYXQwPD0tKHAtQS8yKT90aGlzLmZhY2U9Uy5CT1RUT006TWF0aC5hYnModGhpcy5sb25nMCk8PUE/dGhpcy5mYWNlPVMuRlJPTlQ6TWF0aC5hYnModGhpcy5sb25nMCk8PXArQT90aGlzLmZhY2U9dGhpcy5sb25nMD4wP1MuUklHSFQ6Uy5MRUZUOnRoaXMuZmFjZT1TLkJBQ0ssdGhpcy5lcyE9PTAmJih0aGlzLm9uZV9taW51c19mPTEtKHRoaXMuYS10aGlzLmIpL3RoaXMuYSx0aGlzLm9uZV9taW51c19mX3NxdWFyZWQ9dGhpcy5vbmVfbWludXNfZip0aGlzLm9uZV9taW51c19mKX1mdW5jdGlvbiBXZSh0KXt2YXIgcz17eDowLHk6MH0sYSxoLGkscixuLGUsbz17dmFsdWU6MH07aWYodC54LT10aGlzLmxvbmcwLHRoaXMuZXMhPT0wP2E9TWF0aC5hdGFuKHRoaXMub25lX21pbnVzX2Zfc3F1YXJlZCpNYXRoLnRhbih0LnkpKTphPXQueSxoPXQueCx0aGlzLmZhY2U9PT1TLlRPUClyPXAtYSxoPj1BJiZoPD1wK0E/KG8udmFsdWU9RS5BUkVBXzAsaT1oLXApOmg+cCtBfHxoPD0tKHArQSk/KG8udmFsdWU9RS5BUkVBXzEsaT1oPjA/aC1rOmgrayk6aD4tKHArQSkmJmg8PS1BPyhvLnZhbHVlPUUuQVJFQV8yLGk9aCtwKTooby52YWx1ZT1FLkFSRUFfMyxpPWgpO2Vsc2UgaWYodGhpcy5mYWNlPT09Uy5CT1RUT00pcj1wK2EsaD49QSYmaDw9cCtBPyhvLnZhbHVlPUUuQVJFQV8wLGk9LWgrcCk6aDxBJiZoPj0tQT8oby52YWx1ZT1FLkFSRUFfMSxpPS1oKTpoPC1BJiZoPj0tKHArQSk/KG8udmFsdWU9RS5BUkVBXzIsaT0taC1wKTooby52YWx1ZT1FLkFSRUFfMyxpPWg+MD8taCtrOi1oLWspO2Vsc2V7dmFyIGwsYyx1LE0sZCxmLG07dGhpcy5mYWNlPT09Uy5SSUdIVD9oPWN0KGgsK3ApOnRoaXMuZmFjZT09PVMuQkFDSz9oPWN0KGgsK2spOnRoaXMuZmFjZT09PVMuTEVGVCYmKGg9Y3QoaCwtcCkpLE09TWF0aC5zaW4oYSksZD1NYXRoLmNvcyhhKSxmPU1hdGguc2luKGgpLG09TWF0aC5jb3MoaCksbD1kKm0sYz1kKmYsdT1NLHRoaXMuZmFjZT09PVMuRlJPTlQ/KHI9TWF0aC5hY29zKGwpLGk9anQocix1LGMsbykpOnRoaXMuZmFjZT09PVMuUklHSFQ/KHI9TWF0aC5hY29zKGMpLGk9anQocix1LC1sLG8pKTp0aGlzLmZhY2U9PT1TLkJBQ0s/KHI9TWF0aC5hY29zKC1sKSxpPWp0KHIsdSwtYyxvKSk6dGhpcy5mYWNlPT09Uy5MRUZUPyhyPU1hdGguYWNvcygtYyksaT1qdChyLHUsbCxvKSk6KHI9aT0wLG8udmFsdWU9RS5BUkVBXzApfXJldHVybiBlPU1hdGguYXRhbigxMi9rKihpK01hdGguYWNvcyhNYXRoLnNpbihpKSpNYXRoLmNvcyhBKSktcCkpLG49TWF0aC5zcXJ0KCgxLU1hdGguY29zKHIpKS8oTWF0aC5jb3MoZSkqTWF0aC5jb3MoZSkpLygxLU1hdGguY29zKE1hdGguYXRhbigxL01hdGguY29zKGkpKSkpKSxvLnZhbHVlPT09RS5BUkVBXzE/ZSs9cDpvLnZhbHVlPT09RS5BUkVBXzI/ZSs9azpvLnZhbHVlPT09RS5BUkVBXzMmJihlKz0xLjUqaykscy54PW4qTWF0aC5jb3MoZSkscy55PW4qTWF0aC5zaW4oZSkscy54PXMueCp0aGlzLmErdGhpcy54MCxzLnk9cy55KnRoaXMuYSt0aGlzLnkwLHQueD1zLngsdC55PXMueSx0fWZ1bmN0aW9uIEhlKHQpe3ZhciBzPXtsYW06MCxwaGk6MH0sYSxoLGkscixuLGUsbyxsLGMsdT17dmFsdWU6MH07aWYodC54PSh0LngtdGhpcy54MCkvdGhpcy5hLHQueT0odC55LXRoaXMueTApL3RoaXMuYSxoPU1hdGguYXRhbihNYXRoLnNxcnQodC54KnQueCt0LnkqdC55KSksYT1NYXRoLmF0YW4yKHQueSx0LngpLHQueD49MCYmdC54Pj1NYXRoLmFicyh0LnkpP3UudmFsdWU9RS5BUkVBXzA6dC55Pj0wJiZ0Lnk+PU1hdGguYWJzKHQueCk/KHUudmFsdWU9RS5BUkVBXzEsYS09cCk6dC54PDAmJi10Lng+PU1hdGguYWJzKHQueSk/KHUudmFsdWU9RS5BUkVBXzIsYT1hPDA/YStrOmEtayk6KHUudmFsdWU9RS5BUkVBXzMsYSs9cCksYz1rLzEyKk1hdGgudGFuKGEpLG49TWF0aC5zaW4oYykvKE1hdGguY29zKGMpLTEvTWF0aC5zcXJ0KDIpKSxlPU1hdGguYXRhbihuKSxpPU1hdGguY29zKGEpLHI9TWF0aC50YW4oaCksbz0xLWkqaSpyKnIqKDEtTWF0aC5jb3MoTWF0aC5hdGFuKDEvTWF0aC5jb3MoZSkpKSksbzwtMT9vPS0xOm8+MSYmKG89MSksdGhpcy5mYWNlPT09Uy5UT1ApbD1NYXRoLmFjb3Mobykscy5waGk9cC1sLHUudmFsdWU9PT1FLkFSRUFfMD9zLmxhbT1lK3A6dS52YWx1ZT09PUUuQVJFQV8xP3MubGFtPWU8MD9lK2s6ZS1rOnUudmFsdWU9PT1FLkFSRUFfMj9zLmxhbT1lLXA6cy5sYW09ZTtlbHNlIGlmKHRoaXMuZmFjZT09PVMuQk9UVE9NKWw9TWF0aC5hY29zKG8pLHMucGhpPWwtcCx1LnZhbHVlPT09RS5BUkVBXzA/cy5sYW09LWUrcDp1LnZhbHVlPT09RS5BUkVBXzE/cy5sYW09LWU6dS52YWx1ZT09PUUuQVJFQV8yP3MubGFtPS1lLXA6cy5sYW09ZTwwPy1lLWs6LWUraztlbHNle3ZhciBNLGQsZjtNPW8sYz1NKk0sYz49MT9mPTA6Zj1NYXRoLnNxcnQoMS1jKSpNYXRoLnNpbihlKSxjKz1mKmYsYz49MT9kPTA6ZD1NYXRoLnNxcnQoMS1jKSx1LnZhbHVlPT09RS5BUkVBXzE/KGM9ZCxkPS1mLGY9Yyk6dS52YWx1ZT09PUUuQVJFQV8yPyhkPS1kLGY9LWYpOnUudmFsdWU9PT1FLkFSRUFfMyYmKGM9ZCxkPWYsZj0tYyksdGhpcy5mYWNlPT09Uy5SSUdIVD8oYz1NLE09LWQsZD1jKTp0aGlzLmZhY2U9PT1TLkJBQ0s/KE09LU0sZD0tZCk6dGhpcy5mYWNlPT09Uy5MRUZUJiYoYz1NLE09ZCxkPS1jKSxzLnBoaT1NYXRoLmFjb3MoLWYpLXAscy5sYW09TWF0aC5hdGFuMihkLE0pLHRoaXMuZmFjZT09PVMuUklHSFQ/cy5sYW09Y3Qocy5sYW0sLXApOnRoaXMuZmFjZT09PVMuQkFDSz9zLmxhbT1jdChzLmxhbSwtayk6dGhpcy5mYWNlPT09Uy5MRUZUJiYocy5sYW09Y3Qocy5sYW0sK3ApKX1pZih0aGlzLmVzIT09MCl7dmFyIG0seCxnO209cy5waGk8MD8xOjAseD1NYXRoLnRhbihzLnBoaSksZz10aGlzLmIvTWF0aC5zcXJ0KHgqeCt0aGlzLm9uZV9taW51c19mX3NxdWFyZWQpLHMucGhpPU1hdGguYXRhbihNYXRoLnNxcnQodGhpcy5hKnRoaXMuYS1nKmcpLyh0aGlzLm9uZV9taW51c19mKmcpKSxtJiYocy5waGk9LXMucGhpKX1yZXR1cm4gcy5sYW0rPXRoaXMubG9uZzAsdC54PXMubGFtLHQueT1zLnBoaSx0fWZ1bmN0aW9uIGp0KHQscyxhLGgpe3ZhciBpO3JldHVybiB0PF8/KGgudmFsdWU9RS5BUkVBXzAsaT0wKTooaT1NYXRoLmF0YW4yKHMsYSksTWF0aC5hYnMoaSk8PUE/aC52YWx1ZT1FLkFSRUFfMDppPkEmJmk8PXArQT8oaC52YWx1ZT1FLkFSRUFfMSxpLT1wKTppPnArQXx8aTw9LShwK0EpPyhoLnZhbHVlPUUuQVJFQV8yLGk9aT49MD9pLWs6aStrKTooaC52YWx1ZT1FLkFSRUFfMyxpKz1wKSksaX1mdW5jdGlvbiBjdCh0LHMpe3ZhciBhPXQrcztyZXR1cm4gYTwtaz9hKz1kdDphPitrJiYoYS09ZHQpLGF9dmFyIFhlPVsiUXVhZHJpbGF0ZXJhbGl6ZWQgU3BoZXJpY2FsIEN1YmUiLCJRdWFkcmlsYXRlcmFsaXplZF9TcGhlcmljYWxfQ3ViZSIsInFzYyJdLEplPXtpbml0OlFlLGZvcndhcmQ6V2UsaW52ZXJzZTpIZSxuYW1lczpYZX0sVnQ9W1sxLDIyMTk5ZS0yMSwtNzE1NTE1ZS0xMCwzMTEwM2UtMTBdLFsuOTk4NiwtNDgyMjQzZS05LC0yNDg5N2UtOSwtMTMzMDllLTEwXSxbLjk5NTQsLTgzMTAzZS04LC00NDg2MDVlLTEwLC05ODY3MDFlLTEyXSxbLjk5LC0uMDAxMzUzNjQsLTU5NjYxZS05LDM2Nzc3ZS0xMF0sWy45ODIyLC0uMDAxNjc0NDIsLTQ0OTU0N2UtMTEsLTU3MjQxMWUtMTFdLFsuOTczLC0uMDAyMTQ4NjgsLTkwMzU3MWUtMTAsMTg3MzZlLTEyXSxbLjk2LC0uMDAzMDUwODUsLTkwMDc2MWUtMTAsMTY0OTE3ZS0xMV0sWy45NDI3LC0uMDAzODI3OTIsLTY1MzM4NmUtMTAsLTI2MTU0ZS0xMF0sWy45MjE2LC0uMDA0Njc3NDYsLTEwNDU3ZS04LDQ4MTI0M2UtMTFdLFsuODk2MiwtLjAwNTM2MjIzLC0zMjM4MzFlLTEwLC01NDM0MzJlLTExXSxbLjg2NzksLS4wMDYwOTM2MywtMTEzODk4ZS05LDMzMjQ4NGUtMTFdLFsuODM1LC0uMDA2OTgzMjUsLTY0MDI1M2UtMTAsOTM0OTU5ZS0xMl0sWy43OTg2LC0uMDA3NTUzMzgsLTUwMDAwOWUtMTAsOTM1MzI0ZS0xMl0sWy43NTk3LC0uMDA3OTgzMjQsLTM1OTcxZS05LC0yMjc2MjZlLTExXSxbLjcxODYsLS4wMDg1MTM2NywtNzAxMTQ5ZS0xMCwtODYzMDNlLTEwXSxbLjY3MzIsLS4wMDk4NjIwOSwtMTk5NTY5ZS05LDE5MTk3NGUtMTBdLFsuNjIxMywtLjAxMDQxOCw4ODM5MjNlLTEwLDYyNDA1MWUtMTFdLFsuNTcyMiwtLjAwOTA2NjAxLDE4MmUtNiw2MjQwNTFlLTExXSxbLjUzMjIsLS4wMDY3Nzc5NywyNzU2MDhlLTksNjI0MDUxZS0xMV1dLE50PVtbLTUyMDQxN2UtMjMsLjAxMjQsMTIxNDMxZS0yMywtODQ1Mjg0ZS0xNl0sWy4wNjIsLjAxMjQsLTEyNjc5M2UtMTQsNDIyNjQyZS0xNV0sWy4xMjQsLjAxMjQsNTA3MTcxZS0xNCwtMTYwNjA0ZS0xNF0sWy4xODYsLjAxMjM5OTksLTE5MDE4OWUtMTMsNjAwMTUyZS0xNF0sWy4yNDgsLjAxMjQwMDIsNzEwMDM5ZS0xMywtMjI0ZS0xMF0sWy4zMSwuMDEyMzk5MiwtMjY0OTk3ZS0xMiw4MzU5ODZlLTEzXSxbLjM3MiwuMDEyNDAyOSw5ODg5ODNlLTEyLC0zMTE5OTRlLTEyXSxbLjQzNCwuMDEyMzg5MywtMzY5MDkzZS0xMSwtNDM1NjIxZS0xMl0sWy40OTU4LC4wMTIzMTk4LC0xMDIyNTJlLTEwLC0zNDU1MjNlLTEyXSxbLjU1NzEsLjAxMjE5MTYsLTE1NDA4MWUtMTAsLTU4MjI4OGUtMTJdLFsuNjE3NiwuMDExOTkzOCwtMjQxNDI0ZS0xMCwtNTI1MzI3ZS0xMl0sWy42NzY5LC4wMTE3MTMsLTMyMDIyM2UtMTAsLTUxNjQwNWUtMTJdLFsuNzM0NiwuMDExMzU0MSwtMzk3Njg0ZS0xMCwtNjA5MDUyZS0xMl0sWy43OTAzLC4wMTA5MTA3LC00ODkwNDJlLTEwLC0xMDQ3MzllLTExXSxbLjg0MzUsLjAxMDM0MzEsLTY0NjE1ZS05LC0xNDAzNzRlLTE0XSxbLjg5MzYsLjAwOTY5Njg2LC02NDYzNmUtOSwtODU0N2UtOV0sWy45Mzk0LC4wMDg0MDk0NywtMTkyODQxZS05LC00MjEwNmUtMTBdLFsuOTc2MSwuMDA2MTY1MjcsLTI1NmUtNiwtNDIxMDZlLTEwXSxbMSwuMDAzMjg5NDcsLTMxOTE1OWUtOSwtNDIxMDZlLTEwXV0sTHM9Ljg0ODcsVHM9MS4zNTIzLGpzPVEvNSxLZT0xL2pzLE10PTE4LEd0PWZ1bmN0aW9uKHQscyl7cmV0dXJuIHRbMF0rcyoodFsxXStzKih0WzJdK3MqdFszXSkpfSxWZT1mdW5jdGlvbih0LHMpe3JldHVybiB0WzFdK3MqKDIqdFsyXStzKjMqdFszXSl9O2Z1bmN0aW9uIFplKHQscyxhLGgpe2Zvcih2YXIgaT1zO2g7LS1oKXt2YXIgcj10KGkpO2lmKGktPXIsTWF0aC5hYnMocik8YSlicmVha31yZXR1cm4gaX1mdW5jdGlvbiBZZSgpe3RoaXMueDA9dGhpcy54MHx8MCx0aGlzLnkwPXRoaXMueTB8fDAsdGhpcy5sb25nMD10aGlzLmxvbmcwfHwwLHRoaXMuZXM9MCx0aGlzLnRpdGxlPXRoaXMudGl0bGV8fCJSb2JpbnNvbiJ9ZnVuY3Rpb24gJGUodCl7dmFyIHM9eSh0LngtdGhpcy5sb25nMCksYT1NYXRoLmFicyh0LnkpLGg9TWF0aC5mbG9vcihhKmpzKTtoPDA/aD0wOmg+PU10JiYoaD1NdC0xKSxhPVEqKGEtS2UqaCk7dmFyIGk9e3g6R3QoVnRbaF0sYSkqcyx5Okd0KE50W2hdLGEpfTtyZXR1cm4gdC55PDAmJihpLnk9LWkueSksaS54PWkueCp0aGlzLmEqTHMrdGhpcy54MCxpLnk9aS55KnRoaXMuYSpUcyt0aGlzLnkwLGl9ZnVuY3Rpb24gdHIodCl7dmFyIHM9e3g6KHQueC10aGlzLngwKS8odGhpcy5hKkxzKSx5Ok1hdGguYWJzKHQueS10aGlzLnkwKS8odGhpcy5hKlRzKX07aWYocy55Pj0xKXMueC89VnRbTXRdWzBdLHMueT10Lnk8MD8tcDpwO2Vsc2V7dmFyIGE9TWF0aC5mbG9vcihzLnkqTXQpO2ZvcihhPDA/YT0wOmE+PU10JiYoYT1NdC0xKTs7KWlmKE50W2FdWzBdPnMueSktLWE7ZWxzZSBpZihOdFthKzFdWzBdPD1zLnkpKythO2Vsc2UgYnJlYWs7dmFyIGg9TnRbYV0saT01KihzLnktaFswXSkvKE50W2ErMV1bMF0taFswXSk7aT1aZShmdW5jdGlvbihyKXtyZXR1cm4oR3QoaCxyKS1zLnkpL1ZlKGgscil9LGksXywxMDApLHMueC89R3QoVnRbYV0saSkscy55PSg1KmEraSkqcSx0Lnk8MCYmKHMueT0tcy55KX1yZXR1cm4gcy54PXkocy54K3RoaXMubG9uZzApLHN9dmFyIHNyPVsiUm9iaW5zb24iLCJyb2JpbiJdLGFyPXtpbml0OlllLGZvcndhcmQ6JGUsaW52ZXJzZTp0cixuYW1lczpzcn07ZnVuY3Rpb24gaXIoKXt0aGlzLm5hbWU9Imdlb2NlbnQifWZ1bmN0aW9uIGhyKHQpe3ZhciBzPXVzKHQsdGhpcy5lcyx0aGlzLmEpO3JldHVybiBzfWZ1bmN0aW9uIGVyKHQpe3ZhciBzPWNzKHQsdGhpcy5lcyx0aGlzLmEsdGhpcy5iKTtyZXR1cm4gc312YXIgcnI9WyJHZW9jZW50cmljIiwiZ2VvY2VudHJpYyIsImdlb2NlbnQiLCJHZW9jZW50Il0sbnI9e2luaXQ6aXIsZm9yd2FyZDpocixpbnZlcnNlOmVyLG5hbWVzOnJyfSxSPXtOX1BPTEU6MCxTX1BPTEU6MSxFUVVJVDoyLE9CTElROjN9LEF0PXtoOntkZWY6MWU1LG51bTohMH0sYXppOntkZWY6MCxudW06ITAsZGVncmVlczohMH0sdGlsdDp7ZGVmOjAsbnVtOiEwLGRlZ3JlZXM6ITB9LGxvbmcwOntkZWY6MCxudW06ITB9LGxhdDA6e2RlZjowLG51bTohMH19O2Z1bmN0aW9uIG9yKCl7aWYoT2JqZWN0LmtleXMoQXQpLmZvckVhY2goZnVuY3Rpb24oYSl7aWYodHlwZW9mIHRoaXNbYV0+InUiKXRoaXNbYV09QXRbYV0uZGVmO2Vsc2V7aWYoQXRbYV0ubnVtJiZpc05hTih0aGlzW2FdKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgcGFyYW1ldGVyIHZhbHVlLCBtdXN0IGJlIG51bWVyaWMgIithKyIgPSAiK3RoaXNbYV0pO0F0W2FdLm51bSYmKHRoaXNbYV09cGFyc2VGbG9hdCh0aGlzW2FdKSl9QXRbYV0uZGVncmVlcyYmKHRoaXNbYV09dGhpc1thXSpxKX0uYmluZCh0aGlzKSksTWF0aC5hYnMoTWF0aC5hYnModGhpcy5sYXQwKS1wKTxfP3RoaXMubW9kZT10aGlzLmxhdDA8MD9SLlNfUE9MRTpSLk5fUE9MRTpNYXRoLmFicyh0aGlzLmxhdDApPF8/dGhpcy5tb2RlPVIuRVFVSVQ6KHRoaXMubW9kZT1SLk9CTElRLHRoaXMuc2lucGgwPU1hdGguc2luKHRoaXMubGF0MCksdGhpcy5jb3NwaDA9TWF0aC5jb3ModGhpcy5sYXQwKSksdGhpcy5wbjE9dGhpcy5oL3RoaXMuYSx0aGlzLnBuMTw9MHx8dGhpcy5wbjE+MWUxMCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgaGVpZ2h0Iik7dGhpcy5wPTErdGhpcy5wbjEsdGhpcy5ycD0xL3RoaXMucCx0aGlzLmgxPTEvdGhpcy5wbjEsdGhpcy5wZmFjdD0odGhpcy5wKzEpKnRoaXMuaDEsdGhpcy5lcz0wO3ZhciB0PXRoaXMudGlsdCxzPXRoaXMuYXppO3RoaXMuY2c9TWF0aC5jb3MocyksdGhpcy5zZz1NYXRoLnNpbihzKSx0aGlzLmN3PU1hdGguY29zKHQpLHRoaXMuc3c9TWF0aC5zaW4odCl9ZnVuY3Rpb24gbHIodCl7dC54LT10aGlzLmxvbmcwO3ZhciBzPU1hdGguc2luKHQueSksYT1NYXRoLmNvcyh0LnkpLGg9TWF0aC5jb3ModC54KSxpLHI7c3dpdGNoKHRoaXMubW9kZSl7Y2FzZSBSLk9CTElROnI9dGhpcy5zaW5waDAqcyt0aGlzLmNvc3BoMCphKmg7YnJlYWs7Y2FzZSBSLkVRVUlUOnI9YSpoO2JyZWFrO2Nhc2UgUi5TX1BPTEU6cj0tczticmVhaztjYXNlIFIuTl9QT0xFOnI9czticmVha31zd2l0Y2gocj10aGlzLnBuMS8odGhpcy5wLXIpLGk9ciphKk1hdGguc2luKHQueCksdGhpcy5tb2RlKXtjYXNlIFIuT0JMSVE6cio9dGhpcy5jb3NwaDAqcy10aGlzLnNpbnBoMCphKmg7YnJlYWs7Y2FzZSBSLkVRVUlUOnIqPXM7YnJlYWs7Y2FzZSBSLk5fUE9MRTpyKj0tKGEqaCk7YnJlYWs7Y2FzZSBSLlNfUE9MRTpyKj1hKmg7YnJlYWt9dmFyIG4sZTtyZXR1cm4gbj1yKnRoaXMuY2craSp0aGlzLnNnLGU9MS8obip0aGlzLnN3KnRoaXMuaDErdGhpcy5jdyksaT0oaSp0aGlzLmNnLXIqdGhpcy5zZykqdGhpcy5jdyplLHI9biplLHQueD1pKnRoaXMuYSx0Lnk9cip0aGlzLmEsdH1mdW5jdGlvbiB1cih0KXt0LngvPXRoaXMuYSx0LnkvPXRoaXMuYTt2YXIgcz17eDp0LngseTp0Lnl9LGEsaCxpO2k9MS8odGhpcy5wbjEtdC55KnRoaXMuc3cpLGE9dGhpcy5wbjEqdC54KmksaD10aGlzLnBuMSp0LnkqdGhpcy5jdyppLHQueD1hKnRoaXMuY2craCp0aGlzLnNnLHQueT1oKnRoaXMuY2ctYSp0aGlzLnNnO3ZhciByPVUodC54LHQueSk7aWYoTWF0aC5hYnMocik8XylzLng9MCxzLnk9dC55O2Vsc2V7dmFyIG4sZTtzd2l0Y2goZT0xLXIqcip0aGlzLnBmYWN0LGU9KHRoaXMucC1NYXRoLnNxcnQoZSkpLyh0aGlzLnBuMS9yK3IvdGhpcy5wbjEpLG49TWF0aC5zcXJ0KDEtZSplKSx0aGlzLm1vZGUpe2Nhc2UgUi5PQkxJUTpzLnk9TWF0aC5hc2luKG4qdGhpcy5zaW5waDArdC55KmUqdGhpcy5jb3NwaDAvciksdC55PShuLXRoaXMuc2lucGgwKk1hdGguc2luKHMueSkpKnIsdC54Kj1lKnRoaXMuY29zcGgwO2JyZWFrO2Nhc2UgUi5FUVVJVDpzLnk9TWF0aC5hc2luKHQueSplL3IpLHQueT1uKnIsdC54Kj1lO2JyZWFrO2Nhc2UgUi5OX1BPTEU6cy55PU1hdGguYXNpbihuKSx0Lnk9LXQueTticmVhaztjYXNlIFIuU19QT0xFOnMueT0tTWF0aC5hc2luKG4pO2JyZWFrfXMueD1NYXRoLmF0YW4yKHQueCx0LnkpfXJldHVybiB0Lng9cy54K3RoaXMubG9uZzAsdC55PXMueSx0fXZhciBjcj1bIlRpbHRlZF9QZXJzcGVjdGl2ZSIsInRwZXJzIl0sTXI9e2luaXQ6b3IsZm9yd2FyZDpscixpbnZlcnNlOnVyLG5hbWVzOmNyfTtmdW5jdGlvbiBmcigpe2lmKHRoaXMuZmxpcF9heGlzPXRoaXMuc3dlZXA9PT0ieCI/MTowLHRoaXMuaD1OdW1iZXIodGhpcy5oKSx0aGlzLnJhZGl1c19nXzE9dGhpcy5oL3RoaXMuYSx0aGlzLnJhZGl1c19nXzE8PTB8fHRoaXMucmFkaXVzX2dfMT4xZTEwKXRocm93IG5ldyBFcnJvcjtpZih0aGlzLnJhZGl1c19nPTErdGhpcy5yYWRpdXNfZ18xLHRoaXMuQz10aGlzLnJhZGl1c19nKnRoaXMucmFkaXVzX2ctMSx0aGlzLmVzIT09MCl7dmFyIHQ9MS10aGlzLmVzLHM9MS90O3RoaXMucmFkaXVzX3A9TWF0aC5zcXJ0KHQpLHRoaXMucmFkaXVzX3AyPXQsdGhpcy5yYWRpdXNfcF9pbnYyPXMsdGhpcy5zaGFwZT0iZWxsaXBzZSJ9ZWxzZSB0aGlzLnJhZGl1c19wPTEsdGhpcy5yYWRpdXNfcDI9MSx0aGlzLnJhZGl1c19wX2ludjI9MSx0aGlzLnNoYXBlPSJzcGhlcmUiO3RoaXMudGl0bGV8fCh0aGlzLnRpdGxlPSJHZW9zdGF0aW9uYXJ5IFNhdGVsbGl0ZSBWaWV3Iil9ZnVuY3Rpb24gZHIodCl7dmFyIHM9dC54LGE9dC55LGgsaSxyLG47aWYocz1zLXRoaXMubG9uZzAsdGhpcy5zaGFwZT09PSJlbGxpcHNlIil7YT1NYXRoLmF0YW4odGhpcy5yYWRpdXNfcDIqTWF0aC50YW4oYSkpO3ZhciBlPXRoaXMucmFkaXVzX3AvVSh0aGlzLnJhZGl1c19wKk1hdGguY29zKGEpLE1hdGguc2luKGEpKTtpZihpPWUqTWF0aC5jb3MocykqTWF0aC5jb3MoYSkscj1lKk1hdGguc2luKHMpKk1hdGguY29zKGEpLG49ZSpNYXRoLnNpbihhKSwodGhpcy5yYWRpdXNfZy1pKSppLXIqci1uKm4qdGhpcy5yYWRpdXNfcF9pbnYyPDApcmV0dXJuIHQueD1OdW1iZXIuTmFOLHQueT1OdW1iZXIuTmFOLHQ7aD10aGlzLnJhZGl1c19nLWksdGhpcy5mbGlwX2F4aXM/KHQueD10aGlzLnJhZGl1c19nXzEqTWF0aC5hdGFuKHIvVShuLGgpKSx0Lnk9dGhpcy5yYWRpdXNfZ18xKk1hdGguYXRhbihuL2gpKToodC54PXRoaXMucmFkaXVzX2dfMSpNYXRoLmF0YW4oci9oKSx0Lnk9dGhpcy5yYWRpdXNfZ18xKk1hdGguYXRhbihuL1UocixoKSkpfWVsc2UgdGhpcy5zaGFwZT09PSJzcGhlcmUiJiYoaD1NYXRoLmNvcyhhKSxpPU1hdGguY29zKHMpKmgscj1NYXRoLnNpbihzKSpoLG49TWF0aC5zaW4oYSksaD10aGlzLnJhZGl1c19nLWksdGhpcy5mbGlwX2F4aXM/KHQueD10aGlzLnJhZGl1c19nXzEqTWF0aC5hdGFuKHIvVShuLGgpKSx0Lnk9dGhpcy5yYWRpdXNfZ18xKk1hdGguYXRhbihuL2gpKToodC54PXRoaXMucmFkaXVzX2dfMSpNYXRoLmF0YW4oci9oKSx0Lnk9dGhpcy5yYWRpdXNfZ18xKk1hdGguYXRhbihuL1UocixoKSkpKTtyZXR1cm4gdC54PXQueCp0aGlzLmEsdC55PXQueSp0aGlzLmEsdH1mdW5jdGlvbiBwcih0KXt2YXIgcz0tMSxhPTAsaD0wLGkscixuLGU7aWYodC54PXQueC90aGlzLmEsdC55PXQueS90aGlzLmEsdGhpcy5zaGFwZT09PSJlbGxpcHNlIil7dGhpcy5mbGlwX2F4aXM/KGg9TWF0aC50YW4odC55L3RoaXMucmFkaXVzX2dfMSksYT1NYXRoLnRhbih0LngvdGhpcy5yYWRpdXNfZ18xKSpVKDEsaCkpOihhPU1hdGgudGFuKHQueC90aGlzLnJhZGl1c19nXzEpLGg9TWF0aC50YW4odC55L3RoaXMucmFkaXVzX2dfMSkqVSgxLGEpKTt2YXIgbz1oL3RoaXMucmFkaXVzX3A7aWYoaT1hKmErbypvK3MqcyxyPTIqdGhpcy5yYWRpdXNfZypzLG49cipyLTQqaSp0aGlzLkMsbjwwKXJldHVybiB0Lng9TnVtYmVyLk5hTix0Lnk9TnVtYmVyLk5hTix0O2U9KC1yLU1hdGguc3FydChuKSkvKDIqaSkscz10aGlzLnJhZGl1c19nK2UqcyxhKj1lLGgqPWUsdC54PU1hdGguYXRhbjIoYSxzKSx0Lnk9TWF0aC5hdGFuKGgqTWF0aC5jb3ModC54KS9zKSx0Lnk9TWF0aC5hdGFuKHRoaXMucmFkaXVzX3BfaW52MipNYXRoLnRhbih0LnkpKX1lbHNlIGlmKHRoaXMuc2hhcGU9PT0ic3BoZXJlIil7aWYodGhpcy5mbGlwX2F4aXM/KGg9TWF0aC50YW4odC55L3RoaXMucmFkaXVzX2dfMSksYT1NYXRoLnRhbih0LngvdGhpcy5yYWRpdXNfZ18xKSpNYXRoLnNxcnQoMStoKmgpKTooYT1NYXRoLnRhbih0LngvdGhpcy5yYWRpdXNfZ18xKSxoPU1hdGgudGFuKHQueS90aGlzLnJhZGl1c19nXzEpKk1hdGguc3FydCgxK2EqYSkpLGk9YSphK2gqaCtzKnMscj0yKnRoaXMucmFkaXVzX2cqcyxuPXIqci00KmkqdGhpcy5DLG48MClyZXR1cm4gdC54PU51bWJlci5OYU4sdC55PU51bWJlci5OYU4sdDtlPSgtci1NYXRoLnNxcnQobikpLygyKmkpLHM9dGhpcy5yYWRpdXNfZytlKnMsYSo9ZSxoKj1lLHQueD1NYXRoLmF0YW4yKGEscyksdC55PU1hdGguYXRhbihoKk1hdGguY29zKHQueCkvcyl9cmV0dXJuIHQueD10LngrdGhpcy5sb25nMCx0fXZhciBtcj1bIkdlb3N0YXRpb25hcnkgU2F0ZWxsaXRlIFZpZXciLCJHZW9zdGF0aW9uYXJ5X1NhdGVsbGl0ZSIsImdlb3MiXSxfcj17aW5pdDpmcixmb3J3YXJkOmRyLGludmVyc2U6cHIsbmFtZXM6bXJ9O2Z1bmN0aW9uIHlyKHQpe3QuUHJvai5wcm9qZWN0aW9ucy5hZGQoUnQpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoTHQpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoTmkpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoUmkpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoemkpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoV2kpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoWmkpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoYWgpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQobmgpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoTWgpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoU2gpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoTGgpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoemgpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoSGgpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoWmgpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoYWUpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQobmUpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoTWUpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoeWUpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQod2UpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoUGUpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQocWUpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoR2UpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoVWUpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoSmUpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoYXIpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQobnIpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoTXIpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoX3IpfXouZGVmYXVsdERhdHVtPSJXR1M4NCIsei5Qcm9qPUgsei5XR1M4ND1uZXcgei5Qcm9qKCJXR1M4NCIpLHouUG9pbnQ9bnQsei50b1BvaW50PXBzLHouZGVmcz1ULHoubmFkZ3JpZD1FYSx6LnRyYW5zZm9ybT1JdCx6Lm1ncnM9RGEsei52ZXJzaW9uPSJfX1ZFUlNJT05fXyIseXIoeik7ZnVuY3Rpb24geHIodCl7Y29uc3Qgcz10LmRhdGEucHJvakluLGE9dC5kYXRhLnByb2pPdXQsaD16KHMsYSksaT10LmRhdGEucG9pbnRzLHI9W107Zm9yKGNvbnN0IG4gb2YgaSl7Y29uc3QgZT1oLmZvcndhcmQobik7ci5wdXNoKGUpfXBvc3RNZXNzYWdlKHtwb2ludHM6cn0pfW9ubWVzc2FnZT14cn0pLHpzPUJzKCk7cmV0dXJuIHpzfSgpOwoK",null,!1);const T1=0,UU=1,_U=2,g1=2,wy=1.25,b1=1,_d=6*4+4+4,Xy=65535,VU=Math.pow(2,-24);class Vd{constructor(){}}function Kr(e,i,t){return t.min.x=i[e],t.min.y=i[e+1],t.min.z=i[e+2],t.max.x=i[e+3],t.max.y=i[e+4],t.max.z=i[e+5],t}function I1(e){let i=-1,t=-1/0;for(let s=0;s<3;s++){const n=e[s+3]-e[s];n>t&&(t=n,i=s)}return i}function L1(e,i){i.set(e)}function S1(e,i,t){let s,n;for(let r=0;r<3;r++){const o=r+3;s=e[r],n=i[r],t[r]=s<n?s:n,s=e[o],n=i[o],t[o]=s>n?s:n}}function jd(e,i,t){for(let s=0;s<3;s++){const n=i[e+2*s],r=i[e+2*s+1],o=n-r,a=n+r;o<t[s]&&(t[s]=o),a>t[s+3]&&(t[s+3]=a)}}function Cu(e){const i=e[3]-e[0],t=e[4]-e[1],s=e[5]-e[2];return 2*(i*t+t*s+s*i)}function jU(e,i){if(!e.index){const t=e.attributes.position.count,s=i.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;let n;t>65535?n=new Uint32Array(new s(4*t)):n=new Uint16Array(new s(2*t)),e.setIndex(new Gt(n,1));for(let r=0;r<t;r++)n[r]=r}}function BU(e){if(!e.groups||!e.groups.length)return[{offset:0,count:e.index.count/3}];const i=[],t=new Set;for(const n of e.groups)t.add(n.start),t.add(n.start+n.count);const s=Array.from(t.values()).sort((n,r)=>n-r);for(let n=0;n<s.length-1;n++){const r=s[n],o=s[n+1];i.push({offset:r/3,count:(o-r)/3})}return i}function Dy(e,i,t,s,n=null){let r=1/0,o=1/0,a=1/0,l=-1/0,h=-1/0,c=-1/0,u=1/0,p=1/0,d=1/0,T=-1/0,g=-1/0,I=-1/0;const v=n!==null;for(let C=i*6,N=(i+t)*6;C<N;C+=6){const F=e[C+0],P=e[C+1],w=F-P,O=F+P;w<r&&(r=w),O>l&&(l=O),v&&F<u&&(u=F),v&&F>T&&(T=F);const X=e[C+2],K=e[C+3],ee=X-K,ce=X+K;ee<o&&(o=ee),ce>h&&(h=ce),v&&X<p&&(p=X),v&&X>g&&(g=X);const me=e[C+4],ae=e[C+5],oe=me-ae,Se=me+ae;oe<a&&(a=oe),Se>c&&(c=Se),v&&me<d&&(d=me),v&&me>I&&(I=me)}s[0]=r,s[1]=o,s[2]=a,s[3]=l,s[4]=h,s[5]=c,v&&(n[0]=u,n[1]=p,n[2]=d,n[3]=T,n[4]=g,n[5]=I)}function JU(e,i,t,s){let n=1/0,r=1/0,o=1/0,a=-1/0,l=-1/0,h=-1/0;for(let c=i*6,u=(i+t)*6;c<u;c+=6){const p=e[c+0];p<n&&(n=p),p>a&&(a=p);const d=e[c+2];d<r&&(r=d),d>l&&(l=d);const T=e[c+4];T<o&&(o=T),T>h&&(h=T)}s[0]=n,s[1]=r,s[2]=o,s[3]=a,s[4]=l,s[5]=h}function QU(e,i,t,s,n){let r=t,o=t+s-1;const a=n.pos,l=n.axis*2;for(;;){for(;r<=o&&i[r*6+l]<a;)r++;for(;r<=o&&i[o*6+l]>=a;)o--;if(r<o){for(let h=0;h<3;h++){let c=e[r*3+h];e[r*3+h]=e[o*3+h],e[o*3+h]=c;let u=i[r*6+h*2+0];i[r*6+h*2+0]=i[o*6+h*2+0],i[o*6+h*2+0]=u;let p=i[r*6+h*2+1];i[r*6+h*2+1]=i[o*6+h*2+1],i[o*6+h*2+1]=p}r++,o--}else return r}}const Lo=32,qU=(e,i)=>e.candidate-i.candidate,fa=new Array(Lo).fill().map(()=>({count:0,bounds:new Float32Array(6),rightCacheBounds:new Float32Array(6),leftCacheBounds:new Float32Array(6),candidate:0})),Bd=new Float32Array(6);function $U(e,i,t,s,n,r){let o=-1,a=0;if(r===T1)o=I1(i),o!==-1&&(a=(i[o]+i[o+3])/2);else if(r===UU)o=I1(e),o!==-1&&(a=e_(t,s,n,o));else if(r===_U){const l=Cu(e);let h=wy*n;const c=s*6,u=(s+n)*6;for(let p=0;p<3;p++){const d=i[p],I=(i[p+3]-d)/Lo;if(n<Lo/4){const v=[...fa];v.length=n;let C=0;for(let F=c;F<u;F+=6,C++){const P=v[C];P.candidate=t[F+2*p],P.count=0;const{bounds:w,leftCacheBounds:O,rightCacheBounds:X}=P;for(let K=0;K<3;K++)X[K]=1/0,X[K+3]=-1/0,O[K]=1/0,O[K+3]=-1/0,w[K]=1/0,w[K+3]=-1/0;jd(F,t,w)}v.sort(qU);let N=n;for(let F=0;F<N;F++){const P=v[F];for(;F+1<N&&v[F+1].candidate===P.candidate;)v.splice(F+1,1),N--}for(let F=c;F<u;F+=6){const P=t[F+2*p];for(let w=0;w<N;w++){const O=v[w];P>=O.candidate?jd(F,t,O.rightCacheBounds):(jd(F,t,O.leftCacheBounds),O.count++)}}for(let F=0;F<N;F++){const P=v[F],w=P.count,O=n-P.count,X=P.leftCacheBounds,K=P.rightCacheBounds;let ee=0;w!==0&&(ee=Cu(X)/l);let ce=0;O!==0&&(ce=Cu(K)/l);const me=b1+wy*(ee*w+ce*O);me<h&&(o=p,h=me,a=P.candidate)}}else{for(let N=0;N<Lo;N++){const F=fa[N];F.count=0,F.candidate=d+I+N*I;const P=F.bounds;for(let w=0;w<3;w++)P[w]=1/0,P[w+3]=-1/0}for(let N=c;N<u;N+=6){let w=~~((t[N+2*p]-d)/I);w>=Lo&&(w=Lo-1);const O=fa[w];O.count++,jd(N,t,O.bounds)}const v=fa[Lo-1];L1(v.bounds,v.rightCacheBounds);for(let N=Lo-2;N>=0;N--){const F=fa[N],P=fa[N+1];S1(F.bounds,P.rightCacheBounds,F.rightCacheBounds)}let C=0;for(let N=0;N<Lo-1;N++){const F=fa[N],P=F.count,w=F.bounds,X=fa[N+1].rightCacheBounds;P!==0&&(C===0?L1(w,Bd):S1(w,Bd,Bd)),C+=P;let K=0,ee=0;C!==0&&(K=Cu(Bd)/l);const ce=n-C;ce!==0&&(ee=Cu(X)/l);const me=b1+wy*(K*C+ee*ce);me<h&&(o=p,h=me,a=F.candidate)}}}}else console.warn(`MeshBVH: Invalid build strategy value ${r} used.`);return{axis:o,pos:a}}function e_(e,i,t,s){let n=0;for(let r=i,o=i+t;r<o;r++)n+=e[r*6+s*2];return n/t}function t_(e,i){const t=e.attributes.position,s=e.index.array,n=s.length/3,r=new Float32Array(n*6),o=t.normalized,a=t.array,l=t.offset||0;let h=3;t.isInterleavedBufferAttribute&&(h=t.data.stride);const c=["getX","getY","getZ"];for(let u=0;u<n;u++){const p=u*3,d=u*6;let T,g,I;o?(T=s[p+0],g=s[p+1],I=s[p+2]):(T=s[p+0]*h+l,g=s[p+1]*h+l,I=s[p+2]*h+l);for(let v=0;v<3;v++){let C,N,F;o?(C=t[c[v]](T),N=t[c[v]](g),F=t[c[v]](I)):(C=a[T+v],N=a[g+v],F=a[I+v]);let P=C;N<P&&(P=N),F<P&&(P=F);let w=C;N>w&&(w=N),F>w&&(w=F);const O=(w-P)/2,X=v*2;r[d+X+0]=P+O,r[d+X+1]=O+(Math.abs(P)+O)*VU,P<i[v]&&(i[v]=P),w>i[v+3]&&(i[v+3]=w)}}return r}function i_(e,i){function t(v){p&&p(v/d)}function s(v,C,N,F=null,P=0){if(!T&&P>=l&&(T=!0,h&&(console.warn(`MeshBVH: Max depth of ${l} reached when generating BVH. Consider increasing maxDepth.`),console.warn(e))),N<=c||P>=l)return t(C+N),v.offset=C,v.count=N,v;const w=$U(v.boundingData,F,o,C,N,u);if(w.axis===-1)return t(C+N),v.offset=C,v.count=N,v;const O=QU(a,o,C,N,w);if(O===C||O===C+N)t(C+N),v.offset=C,v.count=N;else{v.splitAxis=w.axis;const X=new Vd,K=C,ee=O-C;v.left=X,X.boundingData=new Float32Array(6),Dy(o,K,ee,X.boundingData,r),s(X,K,ee,r,P+1);const ce=new Vd,me=O,ae=N-ee;v.right=ce,ce.boundingData=new Float32Array(6),Dy(o,me,ae,ce.boundingData,r),s(ce,me,ae,r,P+1)}return v}jU(e,i);const n=new Float32Array(6),r=new Float32Array(6),o=t_(e,n),a=e.index.array,l=i.maxDepth,h=i.verbose,c=i.maxLeafTris,u=i.strategy,p=i.onProgress,d=e.index.count/3;let T=!1;const g=[],I=BU(e);if(I.length===1){const v=I[0],C=new Vd;C.boundingData=n,JU(o,v.offset,v.count,r),s(C,v.offset,v.count,r),g.push(C)}else for(let v of I){const C=new Vd;C.boundingData=new Float32Array(6),Dy(o,v.offset,v.count,C.boundingData,r),s(C,v.offset,v.count,r),g.push(C)}return g}function s_(e,i){const t=i_(e,i);let s,n,r;const o=[],a=i.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;for(let c=0;c<t.length;c++){const u=t[c];let p=l(u);const d=new a(_d*p);s=new Float32Array(d),n=new Uint32Array(d),r=new Uint16Array(d),h(0,u),o.push(d)}return o;function l(c){return c.count?1:1+l(c.left)+l(c.right)}function h(c,u){const p=c/4,d=c/2,T=!!u.count,g=u.boundingData;for(let I=0;I<6;I++)s[p+I]=g[I];if(T){const I=u.offset,v=u.count;return n[p+6]=I,r[d+14]=v,r[d+15]=Xy,c+_d}else{const I=u.left,v=u.right,C=u.splitAxis;let N;if(N=h(c+_d,I),N/4>Math.pow(2,32))throw new Error("MeshBVH: Cannot store child pointer greater than 32 bits.");return n[p+6]=N/4,N=h(N,v),n[p+7]=C,N}}}class Zr{constructor(){this.min=1/0,this.max=-1/0}setFromPointsField(i,t){let s=1/0,n=-1/0;for(let r=0,o=i.length;r<o;r++){const l=i[r][t];s=l<s?l:s,n=l>n?l:n}this.min=s,this.max=n}setFromPoints(i,t){let s=1/0,n=-1/0;for(let r=0,o=t.length;r<o;r++){const a=t[r],l=i.dot(a);s=l<s?l:s,n=l>n?l:n}this.min=s,this.max=n}isSeparated(i){return this.min>i.max||i.min>this.max}}Zr.prototype.setFromBox=function(){const e=new H;return function(t,s){const n=s.min,r=s.max;let o=1/0,a=-1/0;for(let l=0;l<=1;l++)for(let h=0;h<=1;h++)for(let c=0;c<=1;c++){e.x=n.x*l+r.x*(1-l),e.y=n.y*h+r.y*(1-h),e.z=n.z*c+r.z*(1-c);const u=t.dot(e);o=Math.min(u,o),a=Math.max(u,a)}this.min=o,this.max=a}}(),function(){const e=new Zr;return function(t,s){const n=t.points,r=t.satAxes,o=t.satBounds,a=s.points,l=s.satAxes,h=s.satBounds;for(let c=0;c<3;c++){const u=o[c],p=r[c];if(e.setFromPoints(p,a),u.isSeparated(e))return!1}for(let c=0;c<3;c++){const u=h[c],p=l[c];if(e.setFromPoints(p,n),u.isSeparated(e))return!1}}}();const n_=function(){const e=new H,i=new H,t=new H;return function(n,r,o){const a=n.start,l=e,h=r.start,c=i;t.subVectors(a,h),e.subVectors(n.end,n.start),i.subVectors(r.end,r.start);const u=t.dot(c),p=c.dot(l),d=c.dot(c),T=t.dot(l),I=l.dot(l)*d-p*p;let v,C;I!==0?v=(u*p-T*d)/I:v=0,C=(u+v*p)/d,o.x=v,o.y=C}}(),Oy=function(){const e=new ht,i=new H,t=new H;return function(n,r,o,a){n_(n,r,e);let l=e.x,h=e.y;if(l>=0&&l<=1&&h>=0&&h<=1){n.at(l,o),r.at(h,a);return}else if(l>=0&&l<=1){h<0?r.at(0,a):r.at(1,a),n.closestPointToPoint(a,!0,o);return}else if(h>=0&&h<=1){l<0?n.at(0,o):n.at(1,o),r.closestPointToPoint(o,!0,a);return}else{let c;l<0?c=n.start:c=n.end;let u;h<0?u=r.start:u=r.end;const p=i,d=t;if(n.closestPointToPoint(u,!0,i),r.closestPointToPoint(c,!0,t),p.distanceToSquared(u)<=d.distanceToSquared(c)){o.copy(p),a.copy(u);return}else{o.copy(c),a.copy(d);return}}}}(),r_=function(){const e=new H,i=new H,t=new us,s=new Sn;return function(r,o){const{radius:a,center:l}=r,{a:h,b:c,c:u}=o;if(s.start=h,s.end=c,s.closestPointToPoint(l,!0,e).distanceTo(l)<=a||(s.start=h,s.end=u,s.closestPointToPoint(l,!0,e).distanceTo(l)<=a)||(s.start=c,s.end=u,s.closestPointToPoint(l,!0,e).distanceTo(l)<=a))return!0;const g=o.getPlane(t);if(Math.abs(g.distanceToPoint(l))<=a){const v=g.projectPoint(l,i);if(o.containsPoint(v))return!0}return!1}}(),o_=1e-15;function _h(e){return Math.abs(e)<o_}class So extends Ln{constructor(...i){super(...i);this.isExtendedTriangle=!0,this.satAxes=new Array(4).fill().map(()=>new H),this.satBounds=new Array(4).fill().map(()=>new Zr),this.points=[this.a,this.b,this.c],this.sphere=new In,this.plane=new us,this.needsUpdate=!0}intersectsSphere(i){return r_(i,this)}update(){const i=this.a,t=this.b,s=this.c,n=this.points,r=this.satAxes,o=this.satBounds,a=r[0],l=o[0];this.getNormal(a),l.setFromPoints(a,n);const h=r[1],c=o[1];h.subVectors(i,t),c.setFromPoints(h,n);const u=r[2],p=o[2];u.subVectors(t,s),p.setFromPoints(u,n);const d=r[3],T=o[3];d.subVectors(s,i),T.setFromPoints(d,n),this.sphere.setFromPoints(this.points),this.plane.setFromNormalAndCoplanarPoint(a,i),this.needsUpdate=!1}}So.prototype.closestPointToSegment=function(){const e=new H,i=new H,t=new Sn;return function(n,r=null,o=null){const{start:a,end:l}=n,h=this.points;let c,u=1/0;for(let p=0;p<3;p++){const d=(p+1)%3;t.start.copy(h[p]),t.end.copy(h[d]),Oy(t,n,e,i),c=e.distanceToSquared(i),c<u&&(u=c,r&&r.copy(e),o&&o.copy(i))}return this.closestPointToPoint(a,e),c=a.distanceToSquared(e),c<u&&(u=c,r&&r.copy(e),o&&o.copy(a)),this.closestPointToPoint(l,e),c=l.distanceToSquared(e),c<u&&(u=c,r&&r.copy(e),o&&o.copy(l)),Math.sqrt(u)}}(),So.prototype.intersectsTriangle=function(){const e=new So,i=new Array(3),t=new Array(3),s=new Zr,n=new Zr,r=new H,o=new H,a=new H,l=new H,h=new Sn,c=new Sn,u=new Sn;return function(d,T=null){this.needsUpdate&&this.update(),d.isExtendedTriangle?d.needsUpdate&&d.update():(e.copy(d),e.update(),d=e);const g=this.plane,I=d.plane;if(Math.abs(g.normal.dot(I.normal))>1-1e-10){const v=this.satBounds,C=this.satAxes;t[0]=d.a,t[1]=d.b,t[2]=d.c;for(let P=0;P<4;P++){const w=v[P],O=C[P];if(s.setFromPoints(O,t),w.isSeparated(s))return!1}const N=d.satBounds,F=d.satAxes;i[0]=this.a,i[1]=this.b,i[2]=this.c;for(let P=0;P<4;P++){const w=N[P],O=F[P];if(s.setFromPoints(O,i),w.isSeparated(s))return!1}for(let P=0;P<4;P++){const w=C[P];for(let O=0;O<4;O++){const X=F[O];if(r.crossVectors(w,X),s.setFromPoints(r,i),n.setFromPoints(r,t),s.isSeparated(n))return!1}}return T&&(console.warn("ExtendedTriangle.intersectsTriangle: Triangles are coplanar which does not support an output edge. Setting edge to 0, 0, 0."),T.start.set(0,0,0),T.end.set(0,0,0)),!0}else{const v=this.points;let C=!1,N=0;for(let ae=0;ae<3;ae++){const oe=v[ae],Se=v[(ae+1)%3];h.start.copy(oe),h.end.copy(Se),h.delta(o);const Pe=C?c.start:c.end,xe=_h(I.distanceToPoint(oe));if(_h(I.normal.dot(o))&&xe){c.copy(h),N=2;break}if((I.intersectLine(h,Pe)||xe)&&!_h(Pe.distanceTo(Se))){if(N++,C)break;C=!0}}if(N===1&&this.containsPoint(c.end))return T&&(T.start.copy(c.end),T.end.copy(c.end)),!0;if(N!==2)return!1;const F=d.points;let P=!1,w=0;for(let ae=0;ae<3;ae++){const oe=F[ae],Se=F[(ae+1)%3];h.start.copy(oe),h.end.copy(Se),h.delta(a);const Pe=P?u.start:u.end,xe=_h(g.distanceToPoint(oe));if(_h(g.normal.dot(a))&&xe){u.copy(h),w=2;break}if((g.intersectLine(h,Pe)||xe)&&!_h(Pe.distanceTo(Se))){if(w++,P)break;P=!0}}if(w===1&&this.containsPoint(u.end))return T&&(T.start.copy(u.end),T.end.copy(u.end)),!0;if(w!==2)return!1;if(c.delta(o),u.delta(a),o.dot(a)<0){let ae=u.start;u.start=u.end,u.end=ae}const O=c.start.dot(o),X=c.end.dot(o),K=u.start.dot(o),ee=u.end.dot(o),ce=X<K,me=O<ee;return O!==ee&&K!==X&&ce===me?!1:(T&&(l.subVectors(c.start,u.start),l.dot(o)>0?T.start.copy(c.start):T.start.copy(u.start),l.subVectors(c.end,u.end),l.dot(o)<0?T.end.copy(c.end):T.end.copy(u.end)),!0)}}}(),So.prototype.distanceToPoint=function(){const e=new H;return function(t){return this.closestPointToPoint(t,e),t.distanceTo(e)}}(),So.prototype.distanceToTriangle=function(){const e=new H,i=new H,t=["a","b","c"],s=new Sn,n=new Sn;return function(o,a=null,l=null){const h=a||l?s:null;if(this.intersectsTriangle(o,h))return(a||l)&&(a&&h.getCenter(a),l&&h.getCenter(l)),0;let c=1/0;for(let u=0;u<3;u++){let p;const d=t[u],T=o[d];this.closestPointToPoint(T,e),p=T.distanceToSquared(e),p<c&&(c=p,a&&a.copy(e),l&&l.copy(T));const g=this[d];o.closestPointToPoint(g,e),p=g.distanceToSquared(e),p<c&&(c=p,a&&a.copy(g),l&&l.copy(e))}for(let u=0;u<3;u++){const p=t[u],d=t[(u+1)%3];s.set(this[p],this[d]);for(let T=0;T<3;T++){const g=t[T],I=t[(T+1)%3];n.set(o[g],o[I]),Oy(s,n,e,i);const v=e.distanceToSquared(i);v<c&&(c=v,a&&a.copy(e),l&&l.copy(i))}}return Math.sqrt(c)}}();class Hr extends Pi{constructor(...i){super(...i);this.isOrientedBox=!0,this.matrix=new pt,this.invMatrix=new pt,this.points=new Array(8).fill().map(()=>new H),this.satAxes=new Array(3).fill().map(()=>new H),this.satBounds=new Array(3).fill().map(()=>new Zr),this.alignedSatBounds=new Array(3).fill().map(()=>new Zr),this.needsUpdate=!1}set(i,t,s){super.set(i,t),this.matrix.copy(s),this.needsUpdate=!0}copy(i){super.copy(i),this.matrix.copy(i.matrix),this.needsUpdate=!0}}Hr.prototype.update=function(){return function(){const i=this.matrix,t=this.min,s=this.max,n=this.points;for(let h=0;h<=1;h++)for(let c=0;c<=1;c++)for(let u=0;u<=1;u++){const p=1*h|2*c|4*u,d=n[p];d.x=h?s.x:t.x,d.y=c?s.y:t.y,d.z=u?s.z:t.z,d.applyMatrix4(i)}const r=this.satBounds,o=this.satAxes,a=n[0];for(let h=0;h<3;h++){const c=o[h],u=r[h],p=1<<h,d=n[p];c.subVectors(a,d),u.setFromPoints(c,n)}const l=this.alignedSatBounds;l[0].setFromPointsField(n,"x"),l[1].setFromPointsField(n,"y"),l[2].setFromPointsField(n,"z"),this.invMatrix.copy(this.matrix).invert(),this.needsUpdate=!1}}(),Hr.prototype.intersectsBox=function(){const e=new Zr;return function(t){this.needsUpdate&&this.update();const s=t.min,n=t.max,r=this.satBounds,o=this.satAxes,a=this.alignedSatBounds;if(e.min=s.x,e.max=n.x,a[0].isSeparated(e)||(e.min=s.y,e.max=n.y,a[1].isSeparated(e))||(e.min=s.z,e.max=n.z,a[2].isSeparated(e)))return!1;for(let l=0;l<3;l++){const h=o[l],c=r[l];if(e.setFromBox(h,t),c.isSeparated(e))return!1}return!0}}(),Hr.prototype.intersectsTriangle=function(){const e=new So,i=new Array(3),t=new Zr,s=new Zr,n=new H;return function(o){this.needsUpdate&&this.update(),o.isExtendedTriangle?o.needsUpdate&&o.update():(e.copy(o),e.update(),o=e);const a=this.satBounds,l=this.satAxes;i[0]=o.a,i[1]=o.b,i[2]=o.c;for(let p=0;p<3;p++){const d=a[p],T=l[p];if(t.setFromPoints(T,i),d.isSeparated(t))return!1}const h=o.satBounds,c=o.satAxes,u=this.points;for(let p=0;p<3;p++){const d=h[p],T=c[p];if(t.setFromPoints(T,u),d.isSeparated(t))return!1}for(let p=0;p<3;p++){const d=l[p];for(let T=0;T<4;T++){const g=c[T];if(n.crossVectors(d,g),t.setFromPoints(n,i),s.setFromPoints(n,u),t.isSeparated(s))return!1}}return!0}}(),Hr.prototype.closestPointToPoint=function(){return function(i,t){return this.needsUpdate&&this.update(),t.copy(i).applyMatrix4(this.invMatrix).clamp(this.min,this.max).applyMatrix4(this.matrix),t}}(),Hr.prototype.distanceToPoint=function(){const e=new H;return function(t){return this.closestPointToPoint(t,e),t.distanceTo(e)}}(),Hr.prototype.distanceToBox=function(){const e=["x","y","z"],i=new Array(12).fill().map(()=>new Sn),t=new Array(12).fill().map(()=>new Sn),s=new H,n=new H;return function(o,a=0,l=null,h=null){if(this.needsUpdate&&this.update(),this.intersectsBox(o))return(l||h)&&(o.getCenter(n),this.closestPointToPoint(n,s),o.closestPointToPoint(s,n),l&&l.copy(s),h&&h.copy(n)),0;const c=a*a,u=o.min,p=o.max,d=this.points;let T=1/0;for(let I=0;I<8;I++){const v=d[I];n.copy(v).clamp(u,p);const C=v.distanceToSquared(n);if(C<T&&(T=C,l&&l.copy(v),h&&h.copy(n),C<c))return Math.sqrt(C)}let g=0;for(let I=0;I<3;I++)for(let v=0;v<=1;v++)for(let C=0;C<=1;C++){const N=(I+1)%3,F=(I+2)%3,P=v<<N|C<<F,w=1<<I|v<<N|C<<F,O=d[P],X=d[w];i[g].set(O,X);const ee=e[I],ce=e[N],me=e[F],ae=t[g],oe=ae.start,Se=ae.end;oe[ee]=u[ee],oe[ce]=v?u[ce]:p[ce],oe[me]=C?u[me]:p[ce],Se[ee]=p[ee],Se[ce]=v?u[ce]:p[ce],Se[me]=C?u[me]:p[ce],g++}for(let I=0;I<=1;I++)for(let v=0;v<=1;v++)for(let C=0;C<=1;C++){n.x=I?p.x:u.x,n.y=v?p.y:u.y,n.z=C?p.z:u.z,this.closestPointToPoint(n,s);const N=n.distanceToSquared(s);if(N<T&&(T=N,l&&l.copy(s),h&&h.copy(n),N<c))return Math.sqrt(N)}for(let I=0;I<12;I++){const v=i[I];for(let C=0;C<12;C++){const N=t[C];Oy(v,N,s,n);const F=s.distanceToSquared(n);if(F<T&&(T=F,l&&l.copy(s),h&&h.copy(n),F<c))return Math.sqrt(F)}}return Math.sqrt(T)}}();const Jd=new H,Qd=new H,qd=new H,M1=new ht,x1=new ht,v1=new ht,G1=new H;function a_(e,i,t,s,n,r){let o;return r===gn?o=e.intersectTriangle(s,t,i,!0,n):o=e.intersectTriangle(i,t,s,r!==ds,n),o===null?null:{distance:e.origin.distanceTo(n),point:n.clone()}}function l_(e,i,t,s,n,r,o){Jd.fromBufferAttribute(i,s),Qd.fromBufferAttribute(i,n),qd.fromBufferAttribute(i,r);const a=a_(e,Jd,Qd,qd,G1,o);if(a){t&&(M1.fromBufferAttribute(t,s),x1.fromBufferAttribute(t,n),v1.fromBufferAttribute(t,r),a.uv=Ln.getUV(G1,Jd,Qd,qd,M1,x1,v1,new ht));const l={a:s,b:n,c:r,normal:new H,materialIndex:0};Ln.getNormal(Jd,Qd,qd,l.normal),a.face=l,a.faceIndex=s}return a}function E1(e,i,t,s,n){const r=s*3,o=e.index.getX(r),a=e.index.getX(r+1),l=e.index.getX(r+2),h=l_(t,e.attributes.position,e.attributes.uv,o,a,l,i);return h?(h.faceIndex=s,n&&n.push(h),h):null}function h_(e,i,t,s,n,r){for(let o=s,a=s+n;o<a;o++)E1(e,i,t,o,r)}function c_(e,i,t,s,n){let r=1/0,o=null;for(let a=s,l=s+n;a<l;a++){const h=E1(e,i,t,a);h&&h.distance<r&&(o=h,r=h.distance)}return o}function C1(e,i,t){return e===null||(e.point.applyMatrix4(i.matrixWorld),e.distance=e.point.distanceTo(t.ray.origin),e.object=i,e.distance<t.near||e.distance>t.far)?null:e}function Ur(e,i,t,s){const n=e.a,r=e.b,o=e.c;let a=i,l=i+1,h=i+2;t&&(a=t.getX(i),l=t.getX(i+1),h=t.getX(i+2)),n.x=s.getX(a),n.y=s.getY(a),n.z=s.getZ(a),r.x=s.getX(l),r.y=s.getY(l),r.z=s.getZ(l),o.x=s.getX(h),o.y=s.getY(h),o.z=s.getZ(h)}function R1(e,i,t,s,n,r,o){const a=t.index,l=t.attributes.position;for(let h=e,c=i+e;h<c;h++)if(Ur(o,h*3,a,l),o.needsUpdate=!0,s(o,h,n,r))return!0;return!1}class N1{constructor(i){this._getNewPrimitive=i,this._primitives=[]}getPrimitive(){const i=this._primitives;return i.length===0?this._getNewPrimitive():i.pop()}releasePrimitive(i){this._primitives.push(i)}}function Ta(e,i){return i[e+15]===65535}function Vh(e,i){return i[e+6]}function Ru(e,i){return i[e+14]}function Nu(e){return e+8}function Fu(e,i){return i[e+6]}function u_(e,i){return i[e+7]}function Mne(e){return e}const jh=new Pi,$d=new H,p_=["x","y","z"];function zy(e,i,t,s,n){let r=e*2,o=Bh,a=ga,l=ba;if(Ta(r,a)){const c=Vh(e,l),u=Ru(r,a);h_(i,t,s,c,u,n)}else{const c=Nu(e);em(c,o,s,$d)&&zy(c,i,t,s,n);const u=Fu(e,l);em(u,o,s,$d)&&zy(u,i,t,s,n)}}function Wy(e,i,t,s){let n=e*2,r=Bh,o=ga,a=ba;if(Ta(n,o)){const h=Vh(e,a),c=Ru(n,o);return c_(i,t,s,h,c)}else{const h=u_(e,a),c=p_[h],p=s.direction[c]>=0;let d,T;p?(d=Nu(e),T=Fu(e,a)):(d=Fu(e,a),T=Nu(e));const I=em(d,r,s,$d)?Wy(d,i,t,s):null;if(I){const N=I.point[c];if(p?N<=r[T+h]:N>=r[T+h+3])return I}const C=em(T,r,s,$d)?Wy(T,i,t,s):null;return I&&C?I.distance<=C.distance?I:C:I||C||null}}const d_=function(){let e,i;const t=[],s=new N1(()=>new Pi);return function(...o){e=s.getPrimitive(),i=s.getPrimitive(),t.push(e,i);const a=n(...o);s.releasePrimitive(e),s.releasePrimitive(i),t.pop(),t.pop();const l=t.length;return l>0&&(i=t[l-1],e=t[l-2]),a};function n(r,o,a,l,h=null,c=0,u=0){function p(N){let F=N*2,P=ga,w=ba;for(;!Ta(F,P);)N=Nu(N),F=N*2;return Vh(N,w)}function d(N){let F=N*2,P=ga,w=ba;for(;!Ta(F,P);)N=Fu(N,w),F=N*2;return Vh(N,w)+Ru(F,P)}let T=r*2,g=Bh,I=ga,v=ba;if(Ta(T,I)){const N=Vh(r,v),F=Ru(T,I);return Kr(r,g,e),l(N,F,!1,u,c+r,e)}else{const N=Nu(r),F=Fu(r,v);let P=N,w=F,O,X,K,ee;if(h&&(K=e,ee=i,Kr(P,g,K),Kr(w,g,ee),O=h(K),X=h(ee),X<O)){P=F,w=N;const xe=O;O=X,X=xe,K=ee}K||(K=e,Kr(P,g,K));const ce=Ta(P*2,I),me=a(K,ce,O,u+1,c+P);let ae;if(me===g1){const xe=p(P),fe=d(P)-xe;ae=l(xe,fe,!0,u+1,c+P,K)}else ae=me&&n(P,o,a,l,h,c,u+1);if(ae)return!0;ee=i,Kr(w,g,ee);const oe=Ta(w*2,I),Se=a(ee,oe,X,u+1,c+w);let Pe;if(Se===g1){const xe=p(w),fe=d(w)-xe;Pe=l(xe,fe,!0,u+1,c+w,ee)}else Pe=Se&&n(w,o,a,l,h,c,u+1);return!!Pe}}}(),m_=function(){const e=new So,i=new So,t=new pt,s=new Hr,n=new Hr;return function r(o,a,l,h,c=null){let u=o*2,p=Bh,d=ga,T=ba;if(c===null&&(l.boundingBox||l.computeBoundingBox(),s.set(l.boundingBox.min,l.boundingBox.max,h),c=s),Ta(u,d)){const I=a,v=I.index,C=I.attributes.position,N=l.index,F=l.attributes.position,P=Vh(o,T),w=Ru(u,d);if(t.copy(h).invert(),l.boundsTree)return Kr(o,p,n),n.matrix.copy(t),n.needsUpdate=!0,l.boundsTree.shapecast({intersectsBounds:X=>n.intersectsBox(X),intersectsTriangle:X=>{X.a.applyMatrix4(h),X.b.applyMatrix4(h),X.c.applyMatrix4(h),X.needsUpdate=!0;for(let K=P*3,ee=(w+P)*3;K<ee;K+=3)if(Ur(i,K,v,C),i.needsUpdate=!0,X.intersectsTriangle(i))return!0;return!1}});for(let O=P*3,X=w+P*3;O<X;O+=3){Ur(e,O,v,C),e.a.applyMatrix4(t),e.b.applyMatrix4(t),e.c.applyMatrix4(t),e.needsUpdate=!0;for(let K=0,ee=N.count;K<ee;K+=3)if(Ur(i,K,N,F),i.needsUpdate=!0,e.intersectsTriangle(i))return!0}}else{const I=o+8,v=T[o+6];return Kr(I,p,jh),!!(c.intersectsBox(jh)&&r(I,a,l,h,c)||(Kr(v,p,jh),c.intersectsBox(jh)&&r(v,a,l,h,c)))}}}();function em(e,i,t,s){return Kr(e,i,jh),t.intersectBox(jh,s)}const Yy=[];let tm,Bh,ga,ba;function Pu(e){tm&&Yy.push(tm),tm=e,Bh=new Float32Array(e),ga=new Uint16Array(e),ba=new Uint32Array(e)}function im(){tm=null,Bh=null,ga=null,ba=null,Yy.length&&Pu(Yy.pop())}const ky=Symbol("skip tree generation"),Ay=new Pi,Ky=new Pi,Jh=new pt,Tl=new Hr,wu=new Hr,Xu=new H,sm=new H,y_=new H,f_=new H,T_=new H,F1=new Pi,_r=new N1(()=>new So);class Qh{static serialize(i,t={}){if(t.isBufferGeometry)return console.warn("MeshBVH.serialize: The arguments for the function have changed. See documentation for new signature."),Qh.serialize(arguments[0],{cloneBuffers:arguments[2]===void 0?!0:arguments[2]});t={cloneBuffers:!0,...t};const s=i.geometry,n=i._roots,r=s.getIndex();let o;return t.cloneBuffers?o={roots:n.map(a=>a.slice()),index:r.array.slice()}:o={roots:n,index:r.array},o}static deserialize(i,t,s={}){if(typeof s=="boolean")return console.warn("MeshBVH.deserialize: The arguments for the function have changed. See documentation for new signature."),Qh.deserialize(arguments[0],arguments[1],{setIndex:arguments[2]===void 0?!0:arguments[2]});s={setIndex:!0,...s};const{index:n,roots:r}=i,o=new Qh(t,{...s,[ky]:!0});if(o._roots=r,s.setIndex){const a=t.getIndex();if(a===null){const l=new Gt(i.index,1,!1);t.setIndex(l)}else a.array!==n&&(a.array.set(n),a.needsUpdate=!0)}return o}constructor(i,t={}){if(i.isBufferGeometry){if(i.index&&i.index.isInterleavedBufferAttribute)throw new Error("MeshBVH: InterleavedBufferAttribute is not supported for the index attribute.")}else throw new Error("MeshBVH: Only BufferGeometries are supported.");if(t=Object.assign({strategy:T1,maxDepth:40,maxLeafTris:10,verbose:!0,useSharedArrayBuffer:!1,setBoundingBox:!0,onProgress:null,[ky]:!1},t),t.useSharedArrayBuffer&&typeof SharedArrayBuffer>"u")throw new Error("MeshBVH: SharedArrayBuffer is not available.");this._roots=null,t[ky]||(this._roots=s_(i,t),!i.boundingBox&&t.setBoundingBox&&(i.boundingBox=this.getBoundingBox(new Pi))),this.geometry=i}refit(i=null){i&&Array.isArray(i)&&(i=new Set(i));const t=this.geometry,s=t.index.array,n=t.attributes.position;let r,o,a,l,h=0;const c=this._roots;for(let p=0,d=c.length;p<d;p++)r=c[p],o=new Uint32Array(r),a=new Uint16Array(r),l=new Float32Array(r),u(0,h),h+=r.byteLength;function u(p,d,T=!1){const g=p*2;if(a[g+15]===Xy){const v=o[p+6],C=a[g+14];let N=1/0,F=1/0,P=1/0,w=-1/0,O=-1/0,X=-1/0;for(let K=3*v,ee=3*(v+C);K<ee;K++){const ce=s[K],me=n.getX(ce),ae=n.getY(ce),oe=n.getZ(ce);me<N&&(N=me),me>w&&(w=me),ae<F&&(F=ae),ae>O&&(O=ae),oe<P&&(P=oe),oe>X&&(X=oe)}return l[p+0]!==N||l[p+1]!==F||l[p+2]!==P||l[p+3]!==w||l[p+4]!==O||l[p+5]!==X?(l[p+0]=N,l[p+1]=F,l[p+2]=P,l[p+3]=w,l[p+4]=O,l[p+5]=X,!0):!1}else{const v=p+8,C=o[p+6],N=v+d,F=C+d;let P=T,w=!1,O=!1;i?P||(w=i.has(N),O=i.has(F),P=!w&&!O):(w=!0,O=!0);const X=P||w,K=P||O;let ee=!1;X&&(ee=u(v,d,P));let ce=!1;K&&(ce=u(C,d,P));const me=ee||ce;if(me)for(let ae=0;ae<3;ae++){const oe=v+ae,Se=C+ae,Pe=l[oe],xe=l[oe+3],Re=l[Se],fe=l[Se+3];l[p+ae]=Pe<Re?Pe:Re,l[p+ae+3]=xe>fe?xe:fe}return me}}}traverse(i,t=0){const s=this._roots[t],n=new Uint32Array(s),r=new Uint16Array(s);o(0);function o(a,l=0){const h=a*2,c=r[h+15]===Xy;if(c){const u=n[a+6],p=r[h+14];i(l,c,new Float32Array(s,a*4,6),u,p)}else{const u=a+_d/4,p=n[a+6],d=n[a+7];i(l,c,new Float32Array(s,a*4,6),d)||(o(u,l+1),o(p,l+1))}}}raycast(i,t=Nr){const s=this._roots,n=this.geometry,r=[],o=t.isMaterial,a=Array.isArray(t),l=n.groups,h=o?t.side:t;for(let c=0,u=s.length;c<u;c++){const p=a?t[l[c].materialIndex].side:h,d=r.length;if(Pu(s[c]),zy(0,n,p,i,r),im(),a){const T=l[c].materialIndex;for(let g=d,I=r.length;g<I;g++)r[g].face.materialIndex=T}}return r}raycastFirst(i,t=Nr){const s=this._roots,n=this.geometry,r=t.isMaterial,o=Array.isArray(t);let a=null;const l=n.groups,h=r?t.side:t;for(let c=0,u=s.length;c<u;c++){const p=o?t[l[c].materialIndex].side:h;Pu(s[c]);const d=Wy(0,n,p,i);im(),d!=null&&(a==null||d.distance<a.distance)&&(a=d,o&&(d.face.materialIndex=l[c].materialIndex))}return a}intersectsGeometry(i,t){const s=this.geometry;let n=!1;for(const r of this._roots)if(Pu(r),n=m_(0,s,i,t),im(),n)break;return n}shapecast(i,t,s){const n=this.geometry;if(i instanceof Function){if(t){const p=t;t=(d,T,g,I)=>{const v=T*3;return p(d,v,v+1,v+2,g,I)}}i={boundsTraverseOrder:s,intersectsBounds:i,intersectsTriangle:t,intersectsRange:null},console.warn("MeshBVH: Shapecast function signature has changed and now takes an object of callbacks as a second argument. See docs for new signature.")}const r=_r.getPrimitive();let{boundsTraverseOrder:o,intersectsBounds:a,intersectsRange:l,intersectsTriangle:h}=i;if(l&&h){const p=l;l=(d,T,g,I,v)=>p(d,T,g,I,v)?!0:R1(d,T,n,h,g,I,r)}else l||(h?l=(p,d,T,g)=>R1(p,d,n,h,T,g,r):l=(p,d,T)=>T);let c=!1,u=0;for(const p of this._roots){if(Pu(p),c=d_(0,n,a,l,o,u),im(),c)break;u+=p.byteLength}return _r.releasePrimitive(r),c}bvhcast(i,t,s){let{intersectsRanges:n,intersectsTriangles:r}=s;const o=this.geometry.index,a=this.geometry.attributes.position,l=i.geometry.index,h=i.geometry.attributes.position;Jh.copy(t).invert();const c=_r.getPrimitive(),u=_r.getPrimitive();if(r){let d=function(T,g,I,v,C,N,F,P){for(let w=I,O=I+v;w<O;w++){Ur(u,w*3,l,h),u.a.applyMatrix4(t),u.b.applyMatrix4(t),u.c.applyMatrix4(t),u.needsUpdate=!0;for(let X=T,K=T+g;X<K;X++)if(Ur(c,X*3,o,a),c.needsUpdate=!0,r(c,u,X,w,C,N,F,P))return!0}return!1};if(n){const T=n;n=function(g,I,v,C,N,F,P,w){return T(g,I,v,C,N,F,P,w)?!0:d(g,I,v,C,N,F,P,w)}}else n=d}i.getBoundingBox(Ky),Ky.applyMatrix4(t);const p=this.shapecast({intersectsBounds:d=>Ky.intersectsBox(d),intersectsRange:(d,T,g,I,v,C)=>(Ay.copy(C),Ay.applyMatrix4(Jh),i.shapecast({intersectsBounds:N=>Ay.intersectsBox(N),intersectsRange:(N,F,P,w,O)=>n(d,T,N,F,I,v,w,O)}))});return _r.releasePrimitive(c),_r.releasePrimitive(u),p}intersectsBox(i,t){return Tl.set(i.min,i.max,t),Tl.needsUpdate=!0,this.shapecast({intersectsBounds:s=>Tl.intersectsBox(s),intersectsTriangle:s=>Tl.intersectsTriangle(s)})}intersectsSphere(i){return this.shapecast({intersectsBounds:t=>i.intersectsBox(t),intersectsTriangle:t=>t.intersectsSphere(i)})}closestPointToGeometry(i,t,s={},n={},r=0,o=1/0){i.boundingBox||i.computeBoundingBox(),Tl.set(i.boundingBox.min,i.boundingBox.max,t),Tl.needsUpdate=!0;const a=this.geometry,l=a.attributes.position,h=a.index,c=i.attributes.position,u=i.index,p=_r.getPrimitive(),d=_r.getPrimitive();let T=sm,g=y_,I=null,v=null;n&&(I=f_,v=T_);let C=1/0,N=null,F=null;return Jh.copy(t).invert(),wu.matrix.copy(Jh),this.shapecast({boundsTraverseOrder:P=>Tl.distanceToBox(P),intersectsBounds:(P,w,O)=>O<C&&O<o?(w&&(wu.min.copy(P.min),wu.max.copy(P.max),wu.needsUpdate=!0),!0):!1,intersectsRange:(P,w)=>{if(i.boundsTree)return i.boundsTree.shapecast({boundsTraverseOrder:O=>wu.distanceToBox(O),intersectsBounds:(O,X,K)=>K<C&&K<o,intersectsRange:(O,X)=>{for(let K=O*3,ee=(O+X)*3;K<ee;K+=3){Ur(d,K,u,c),d.a.applyMatrix4(t),d.b.applyMatrix4(t),d.c.applyMatrix4(t),d.needsUpdate=!0;for(let ce=P*3,me=(P+w)*3;ce<me;ce+=3){Ur(p,ce,h,l),p.needsUpdate=!0;const ae=p.distanceToTriangle(d,T,I);if(ae<C&&(g.copy(T),v&&v.copy(I),C=ae,N=ce/3,F=K/3),ae<r)return!0}}}});{const O=u?u.count:c.count;for(let X=0,K=O;X<K;X+=3){Ur(d,X,u,c),d.a.applyMatrix4(t),d.b.applyMatrix4(t),d.c.applyMatrix4(t),d.needsUpdate=!0;for(let ee=P*3,ce=(P+w)*3;ee<ce;ee+=3){Ur(p,ee,h,l),p.needsUpdate=!0;const me=p.distanceToTriangle(d,T,I);if(me<C&&(g.copy(T),v&&v.copy(I),C=me,N=ee/3,F=X/3),me<r)return!0}}}}}),_r.releasePrimitive(p),_r.releasePrimitive(d),C===1/0?null:(s.point?s.point.copy(g):s.point=g.clone(),s.distance=C,s.faceIndex=N,n&&(n.point?n.point.copy(v):n.point=v.clone(),n.point.applyMatrix4(Jh),g.applyMatrix4(Jh),n.distance=g.sub(n.point).length(),n.faceIndex=F),s)}closestPointToPoint(i,t={},s=0,n=1/0){const r=s*s,o=n*n;let a=1/0,l=null;if(this.shapecast({boundsTraverseOrder:c=>(Xu.copy(i).clamp(c.min,c.max),Xu.distanceToSquared(i)),intersectsBounds:(c,u,p)=>p<a&&p<o,intersectsTriangle:(c,u)=>{c.closestPointToPoint(i,Xu);const p=i.distanceToSquared(Xu);return p<a&&(sm.copy(Xu),a=p,l=u),p<r}}),a===1/0)return null;const h=Math.sqrt(a);return t.point?t.point.copy(sm):t.point=sm.clone(),t.distance=h,t.faceIndex=l,t}getBoundingBox(i){return i.makeEmpty(),this._roots.forEach(s=>{Kr(0,new Float32Array(s),F1),i.union(F1)}),i}}const Zy=new Zc,P1=new pt,g_=fi.prototype.raycast;function Hy(e,i){if(this.geometry.boundsTree){if(this.material===void 0)return;P1.copy(this.matrixWorld).invert(),Zy.copy(e.ray).applyMatrix4(P1);const t=this.geometry.boundsTree;if(e.firstHitOnly===!0){const s=C1(t.raycastFirst(Zy,this.material),this,e);s&&i.push(s)}else{const s=t.raycast(Zy,this.material);for(let n=0,r=s.length;n<r;n++){const o=C1(s[n],this,e);o&&i.push(o)}}}else g_.call(this,e,i)}function w1(e){return this.boundsTree=new Qh(this,e),this.boundsTree}function X1(){this.boundsTree=null}function D1(e,i){const t=[];for(const o of e)t.push(o[0],o[1],o[2]);const s=new Iu;s.setPositions(t);const n=new My({color:i.getHex(),linewidth:3,worldUnits:!1,resolution:new ht(Qs.screenWidth,Qs.screenHeight)}),r=new Lu(s,n);return r.computeLineDistances(),r}function O1(e,i,t=new ge("#eeeeee"),s,n,r={}){const o=(d,T,g,I=[0,0,0])=>{d[T+0]=g[0]-I[0],d[T+1]=g[1]-I[1],d[T+2]=g[2]-I[2]},a=new Float32Array(i.length*3*3),l=new Float32Array(i.length*3*3),h=new Float32Array(i.length*3*3);for(let d=0;d<i.length;d++){const T=d*3*3,g=i[d],I=e[g[0]],v=e[g[1]],C=e[g[2]];if(o(a,T+0,I,r.verticeOffset),o(a,T+3,v,r.verticeOffset),o(a,T+6,C,r.verticeOffset),typeof s<"u"){const N=s[g[0]],F=s[g[1]],P=s[g[2]];o(h,T+0,N),o(h,T+3,F),o(h,T+6,P)}}const c=new Yt;c.setAttribute("position",new Gt(a,3)),c.setAttribute("normal",new Gt(l,3)),typeof s<"u"&&c.setAttribute("color",new Gt(h,3)),c.computeBoundingBox(),c.computeBoundingSphere(),c.computeVertexNormals(),r.useBVH&&(c.boundsTree=new Qh(c,{maxLeafTris:3}));const u=typeof n<"u"?n:new yA({color:t,flatShading:!0,side:ds}),p=new fi(c,u);return p.raycast=Hy,p.userData.isPickable=!!r.isPickable,p.userData.isInteractive=!!r.isInteractive,p.updateMatrixWorld(),p}var b_=Object.defineProperty,z1=Object.getOwnPropertySymbols,I_=Object.prototype.hasOwnProperty,L_=Object.prototype.propertyIsEnumerable,W1=(e,i,t)=>i in e?b_(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,nm=(e,i)=>{for(var t in i||(i={}))I_.call(i,t)&&W1(e,t,i[t]);if(z1)for(var t of z1(i))L_.call(i,t)&&W1(e,t,i[t]);return e},Js=e=>{if(typeof require<"u")return require(e);throw new Error('Dynamic require of "'+e+'" is not supported')},Uy=(e,i)=>function(){return i||(0,e[Object.keys(e)[0]])((i={exports:{}}).exports,i),i.exports},Gn=(e,i,t)=>new Promise((s,n)=>{var r=l=>{try{a(t.next(l))}catch(h){n(h)}},o=l=>{try{a(t.throw(l))}catch(h){n(h)}},a=l=>l.done?s(l.value):Promise.resolve(l.value).then(r,o);a((t=t.apply(e,i)).next())}),Y1=Uy({"(disabled):crypto"(){}}),S_=Uy({"dist/web-ifc-mt.js"(e,i){var t=function(){var s=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(s=s||__filename),function(n){n=n||{};function r(){return Me.buffer!=Ue&&Kt(Me.buffer),xt}function o(){return Me.buffer!=Ue&&Kt(Me.buffer),ve}function a(){return Me.buffer!=Ue&&Kt(Me.buffer),dt}function l(){return Me.buffer!=Ue&&Kt(Me.buffer),ot}function h(){return Me.buffer!=Ue&&Kt(Me.buffer),mt}function c(){return Me.buffer!=Ue&&Kt(Me.buffer),at}function u(){return Me.buffer!=Ue&&Kt(Me.buffer),Pt}function p(){return Me.buffer!=Ue&&Kt(Me.buffer),ti}var d=typeof n<"u"?n:{},T,g;d.ready=new Promise(function(m,y){T=m,g=y});var I={},v;for(v in d)d.hasOwnProperty(v)&&(I[v]=d[v]);var C="./this.program",N=function(m,y){throw y},F=typeof window=="object",P=typeof importScripts=="function",w=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",O=d.ENVIRONMENT_IS_PTHREAD||!1,X="";function K(m){return d.locateFile?d.locateFile(m,X):X+m}var ee,ce,me,ae,oe;if(w){P?X=Js("path").dirname(X)+"/":X=__dirname+"/",ee=function(y,L){return ae||(ae=Js("fs")),oe||(oe=Js("path")),y=oe.normalize(y),ae.readFileSync(y,L?null:"utf8")},me=function(y){var L=ee(y,!0);return L.buffer||(L=new Uint8Array(L)),Lt(L.buffer),L},ce=function(y,L,G){ae||(ae=Js("fs")),oe||(oe=Js("path")),y=oe.normalize(y),ae.readFile(y,function(D,A){D?G(D):L(A.buffer)})},process.argv.length>1&&(C=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(m){if(!(m instanceof jo))throw m}),process.on("unhandledRejection",Le),N=function(m,y){if(Ei())throw process.exitCode=m,y;process.exit(m)},d.inspect=function(){return"[Emscripten Module object]"};var Se;try{Se=Js("worker_threads")}catch(m){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),m}global.Worker=Se.Worker}else(F||P)&&(P?X=self.location.href:typeof document<"u"&&document.currentScript&&(X=document.currentScript.src),s&&(X=s),X.indexOf("blob:")!==0?X=X.substr(0,X.lastIndexOf("/")+1):X="",w?(ee=function(y,L){return ae||(ae=Js("fs")),oe||(oe=Js("path")),y=oe.normalize(y),ae.readFileSync(y,L?null:"utf8")},me=function(y){var L=ee(y,!0);return L.buffer||(L=new Uint8Array(L)),Lt(L.buffer),L},ce=function(y,L,G){ae||(ae=Js("fs")),oe||(oe=Js("path")),y=oe.normalize(y),ae.readFile(y,function(D,A){D?G(D):L(A.buffer)})}):(ee=function(m){var y=new XMLHttpRequest;return y.open("GET",m,!1),y.send(null),y.responseText},P&&(me=function(m){var y=new XMLHttpRequest;return y.open("GET",m,!1),y.responseType="arraybuffer",y.send(null),new Uint8Array(y.response)}),ce=function(m,y,L){var G=new XMLHttpRequest;G.open("GET",m,!0),G.responseType="arraybuffer",G.onload=function(){if(G.status==200||G.status==0&&G.response){y(G.response);return}L()},G.onerror=L,G.send(null)}));w&&typeof performance>"u"&&(global.performance=Js("perf_hooks").performance);var Pe=d.print||console.log.bind(console),xe=d.printErr||console.warn.bind(console);for(v in I)I.hasOwnProperty(v)&&(d[v]=I[v]);I=null,d.arguments&&d.arguments,d.thisProgram&&(C=d.thisProgram),d.quit&&(N=d.quit);var Re=16;function fe(m,y){return y||(y=Re),Math.ceil(m/y)*y}function be(m){be.shown||(be.shown={}),be.shown[m]||(be.shown[m]=1,xe(m))}var Be=0,Xe=function(m){Be=m},$e=function(){return Be},rt;d.wasmBinary&&(rt=d.wasmBinary);var Ct=d.noExitRuntime||!0;typeof WebAssembly!="object"&&Le("no native wasm support detected");var Me,pi,St=!1;function Lt(m,y){m||Le("Assertion failed: "+y)}function lt(m){var y=new TextDecoder(m);this.decode=function(L){return L.buffer instanceof SharedArrayBuffer&&(L=new Uint8Array(L)),y.decode.call(y,L)}}var xi=typeof TextDecoder<"u"?new lt("utf8"):void 0;function Mt(m,y,L){y>>>=0;for(var G=y+L,D=y;m[D>>>0]&&!(D>=G);)++D;if(D-y>16&&m.subarray&&xi)return xi.decode(m.subarray(y>>>0,D>>>0));for(var A="";y<D;){var Z=m[y++>>>0];if(!(Z&128)){A+=String.fromCharCode(Z);continue}var j=m[y++>>>0]&63;if((Z&224)==192){A+=String.fromCharCode((Z&31)<<6|j);continue}var se=m[y++>>>0]&63;if((Z&240)==224?Z=(Z&15)<<12|j<<6|se:Z=(Z&7)<<18|j<<12|se<<6|m[y++>>>0]&63,Z<65536)A+=String.fromCharCode(Z);else{var x=Z-65536;A+=String.fromCharCode(55296|x>>10,56320|x&1023)}}return A}function et(m,y){return m>>>=0,m?Mt(o(),m,y):""}function Ut(m,y,L,G){if(L>>>=0,!(G>0))return 0;for(var D=L,A=L+G-1,Z=0;Z<m.length;++Z){var j=m.charCodeAt(Z);if(j>=55296&&j<=57343){var se=m.charCodeAt(++Z);j=65536+((j&1023)<<10)|se&1023}if(j<=127){if(L>=A)break;y[L++>>>0]=j}else if(j<=2047){if(L+1>=A)break;y[L++>>>0]=192|j>>6,y[L++>>>0]=128|j&63}else if(j<=65535){if(L+2>=A)break;y[L++>>>0]=224|j>>12,y[L++>>>0]=128|j>>6&63,y[L++>>>0]=128|j&63}else{if(L+3>=A)break;y[L++>>>0]=240|j>>18,y[L++>>>0]=128|j>>12&63,y[L++>>>0]=128|j>>6&63,y[L++>>>0]=128|j&63}}return y[L>>>0]=0,L-D}function Wi(m,y,L){return Ut(m,o(),y,L)}function wi(m){for(var y=0,L=0;L<m.length;++L){var G=m.charCodeAt(L);G>=55296&&G<=57343&&(G=65536+((G&1023)<<10)|m.charCodeAt(++L)&1023),G<=127?++y:G<=2047?y+=2:G<=65535?y+=3:y+=4}return y}var Ve=typeof TextDecoder<"u"?new lt("utf-16le"):void 0;function Ti(m,y){for(var L=m,G=L>>1,D=G+y/2;!(G>=D)&&l()[G>>>0];)++G;if(L=G<<1,L-m>32&&Ve)return Ve.decode(o().subarray(m>>>0,L>>>0));for(var A="",Z=0;!(Z>=y/2);++Z){var j=a()[m+Z*2>>>1];if(j==0)break;A+=String.fromCharCode(j)}return A}function gi(m,y,L){if(L===void 0&&(L=2147483647),L<2)return 0;L-=2;for(var G=y,D=L<m.length*2?L/2:m.length,A=0;A<D;++A){var Z=m.charCodeAt(A);a()[y>>>1]=Z,y+=2}return a()[y>>>1]=0,y-G}function Ws(m){return m.length*2}function Es(m,y){for(var L=0,G="";!(L>=y/4);){var D=h()[m+L*4>>>2];if(D==0)break;if(++L,D>=65536){var A=D-65536;G+=String.fromCharCode(55296|A>>10,56320|A&1023)}else G+=String.fromCharCode(D)}return G}function $(m,y,L){if(y>>>=0,L===void 0&&(L=2147483647),L<4)return 0;for(var G=y,D=G+L-4,A=0;A<m.length;++A){var Z=m.charCodeAt(A);if(Z>=55296&&Z<=57343){var j=m.charCodeAt(++A);Z=65536+((Z&1023)<<10)|j&1023}if(h()[y>>>2]=Z,y+=4,y+4>D)break}return h()[y>>>2]=0,y-G}function J(m){for(var y=0,L=0;L<m.length;++L){var G=m.charCodeAt(L);G>=55296&&G<=57343&&++L,y+=4}return y}function Ne(m,y){r().set(m,y>>>0)}function Ze(m,y,L){for(var G=0;G<m.length;++G)r()[y++>>>0]=m.charCodeAt(G);L||(r()[y>>>0]=0)}function Je(m,y){return m%y>0&&(m+=y-m%y),m}var Ue,xt,ve,dt,ot,mt,at,Pt,ti;O&&(Ue=d.buffer);function Kt(m){Ue=m,d.HEAP8=xt=new Int8Array(m),d.HEAP16=dt=new Int16Array(m),d.HEAP32=mt=new Int32Array(m),d.HEAPU8=ve=new Uint8Array(m),d.HEAPU16=ot=new Uint16Array(m),d.HEAPU32=at=new Uint32Array(m),d.HEAPF32=Pt=new Float32Array(m),d.HEAPF64=ti=new Float64Array(m)}var ue=d.INITIAL_MEMORY||16777216;if(O)Me=d.wasmMemory,Ue=d.buffer;else if(d.wasmMemory)Me=d.wasmMemory;else if(Me=new WebAssembly.Memory({initial:ue/65536,maximum:65536,shared:!0}),!(Me.buffer instanceof SharedArrayBuffer))throw xe("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),w&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");Me&&(Ue=Me.buffer),ue=Ue.byteLength,Kt(Ue);var we,Ee=[],tt=[],Ae=[],jt=[],$i=0;function Ei(){return Ct||$i>0}function Zi(){if(!O){if(d.preRun)for(typeof d.preRun=="function"&&(d.preRun=[d.preRun]);d.preRun.length;)is(d.preRun.shift());cn(Ee)}}function Ci(){O||(!d.noFSInit&&!k.init.initialized&&k.init(),k.ignorePermissions=!1,cn(tt))}function hn(){O||cn(Ae)}function Cs(){if(!O){if(d.postRun)for(typeof d.postRun=="function"&&(d.postRun=[d.postRun]);d.postRun.length;)Sr(d.postRun.shift());cn(jt)}}function is(m){Ee.unshift(m)}function Rs(m){tt.unshift(m)}function Sr(m){jt.unshift(m)}var En=0,$n=null;function jr(m){return m}function q(m){En++,d.monitorRunDependencies&&d.monitorRunDependencies(En)}function Te(m){if(En--,d.monitorRunDependencies&&d.monitorRunDependencies(En),En==0&&$n){var y=$n;$n=null,y()}}d.preloadedImages={},d.preloadedAudios={};function Le(m){d.onAbort&&d.onAbort(m),O&&console.error("Pthread aborting at "+new Error().stack),m+="",xe(m),St=!0,m="abort("+m+"). Build with -s ASSERTIONS=1 for more info.";var y=new WebAssembly.RuntimeError(m);throw g(y),y}var de="data:application/octet-stream;base64,";function Fe(m){return m.startsWith(de)}function ct(m){return m.startsWith("file://")}var ut;ut="web-ifc-mt.wasm",Fe(ut)||(ut=K(ut));function zt(m){try{if(m==ut&&rt)return new Uint8Array(rt);if(me)return me(m);throw"both async and sync fetching of the wasm failed"}catch(y){Le(y)}}function Rt(){if(!rt&&(F||P)){if(typeof fetch=="function"&&!ct(ut))return fetch(ut,{credentials:"same-origin"}).then(function(m){if(!m.ok)throw"failed to load wasm binary file at '"+ut+"'";return m.arrayBuffer()}).catch(function(){return zt(ut)});if(ce)return new Promise(function(m,y){ce(ut,function(L){m(new Uint8Array(L))},y)})}return Promise.resolve().then(function(){return zt(ut)})}function di(){var m={a:Wt};function y(Z,j){var se=Z.exports;if(d.asm=se,we=d.asm.db,Rs(d.asm.ab),He.tlsInitFunctions.push(d.asm.fb),pi=j,!O){var x=He.unusedWorkers.length;He.unusedWorkers.forEach(function(E){He.loadWasmModuleToWorker(E,function(){--x||Te()})})}}O||q();function L(Z){y(Z.instance,Z.module)}function G(Z){return Rt().then(function(j){var se=WebAssembly.instantiate(j,m);return se}).then(Z,function(j){xe("failed to asynchronously prepare wasm: "+j),Le(j)})}function D(){return!rt&&typeof WebAssembly.instantiateStreaming=="function"&&!Fe(ut)&&!ct(ut)&&typeof fetch=="function"?fetch(ut,{credentials:"same-origin"}).then(function(Z){var j=WebAssembly.instantiateStreaming(Z,m);return j.then(L,function(se){return xe("wasm streaming compile failed: "+se),xe("falling back to ArrayBuffer instantiation"),G(L)})}):G(L)}if(d.instantiateWasm)try{var A=d.instantiateWasm(m,y);return A}catch(Z){return xe("Module.instantiateWasm callback failed with error: "+Z),!1}return D().catch(g),{}}var yt,wt,Ri={56684:function(){throw"Canceled!"},56702:function(m,y){setTimeout(function(){si(m,y)},0)}};function Yn(){He.initRuntime()}function cn(m){for(;m.length>0;){var y=m.shift();if(typeof y=="function"){y(d);continue}var L=y.func;typeof L=="number"?y.arg===void 0?we.get(L)():we.get(L)(y.arg):L(y.arg===void 0?null:y.arg)}}function qs(m,y){if(m<=0||m>r().length||m&!0||y<0)return-28;if(y==0)return 0;y>=2147483647&&(y=1/0);var L=Atomics.load(h(),Ba>>2),G=0;if(L==m){var D=Atomics.compareExchange(h(),Ba>>2,L,0);if(D==L&&(--y,G=1,y<=0))return 1}var A=Atomics.notify(h(),m>>2,y);if(A>=0)return A+G;throw"Atomics.notify returned an unexpected value "+A}d._emscripten_futex_wake=qs;function Dt(m){if(O)throw"Internal Error! killThread() can only ever be called from main application thread!";if(!m)throw"Internal Error! Null pthread_ptr in killThread!";h()[m+12>>>2]=0;var y=He.pthreads[m];y.worker.terminate(),He.freeThreadData(y),He.runningWorkers.splice(He.runningWorkers.indexOf(y.worker),1),y.worker.pthread=void 0}function li(m){if(O)throw"Internal Error! cancelThread() can only ever be called from main application thread!";if(!m)throw"Internal Error! Null pthread_ptr in cancelThread!";var y=He.pthreads[m];y.worker.postMessage({cmd:"cancel"})}function ps(m){if(O)throw"Internal Error! cleanupThread() can only ever be called from main application thread!";if(!m)throw"Internal Error! Null pthread_ptr in cleanupThread!";var y=He.pthreads[m];if(y){h()[m+12>>>2]=0;var L=y.worker;He.returnWorkerToPool(L)}}var He={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],initMainThreadBlock:function(){for(var m=navigator.hardwareConcurrency,y=0;y<m;++y)He.allocateUnusedWorker()},initRuntime:function(){for(var m=Ht(228),y=0;y<228/4;++y)c()[m/4+y>>>0]=0;h()[m+12>>>2]=m;var L=m+152;h()[L>>>2]=L;for(var G=Ht(512),y=0;y<128;++y)c()[G/4+y>>>0]=0;Atomics.store(c(),m+100>>2,G),Atomics.store(c(),m+40>>2,m),Tn(m,!P,1),qe(m)},initWorker:function(){},pthreads:{},threadExitHandlers:[],runExitHandlers:function(){for(;He.threadExitHandlers.length>0;)He.threadExitHandlers.pop()();ym()},runExitHandlersAndDeinitThread:function(m,y){Atomics.store(c(),m+56>>2,1),Atomics.store(c(),m+60>>2,0),He.runExitHandlers(),Atomics.store(c(),m+4>>2,y),Atomics.store(c(),m+0>>2,1),qs(m+0,2147483647),Tn(0,0,0)},setExitStatus:function(m){},threadExit:function(m){var y=Vl();y&&(He.runExitHandlersAndDeinitThread(y,m),O&&postMessage({cmd:"exit"}))},threadCancel:function(){He.runExitHandlersAndDeinitThread(Vl(),-1),postMessage({cmd:"cancelDone"})},terminateAllThreads:function(){for(var m in He.pthreads){var y=He.pthreads[m];y&&y.worker&&He.returnWorkerToPool(y.worker)}He.pthreads={};for(var L=0;L<He.unusedWorkers.length;++L){var G=He.unusedWorkers[L];G.terminate()}He.unusedWorkers=[];for(var L=0;L<He.runningWorkers.length;++L){var G=He.runningWorkers[L],y=G.pthread;He.freeThreadData(y),G.terminate()}He.runningWorkers=[]},freeThreadData:function(m){if(!!m){if(m.threadInfoStruct){var y=h()[m.threadInfoStruct+100>>>2];h()[m.threadInfoStruct+100>>>2]=0,gt(y),gt(m.threadInfoStruct)}m.threadInfoStruct=0,m.allocatedOwnStack&&m.stackBase&&gt(m.stackBase),m.stackBase=0,m.worker&&(m.worker.pthread=null)}},returnWorkerToPool:function(m){He.runWithoutMainThreadQueuedCalls(function(){delete He.pthreads[m.pthread.threadInfoStruct],He.unusedWorkers.push(m),He.runningWorkers.splice(He.runningWorkers.indexOf(m),1),He.freeThreadData(m.pthread),m.pthread=void 0})},runWithoutMainThreadQueuedCalls:function(m){h()[bm>>>2]=0;try{m()}finally{h()[bm>>>2]=1}},receiveObjectTransfer:function(m){},threadInit:function(){for(var m in He.tlsInitFunctions)He.tlsInitFunctions[m]()},loadWasmModuleToWorker:function(m,y){m.onmessage=function(L){var G=L.data,D=G.cmd;if(m.pthread&&(He.currentProxiedOperationCallerThread=m.pthread.threadInfoStruct),G.targetThread&&G.targetThread!=Vl()){var A=He.pthreads[G.targetThread];A?A.worker.postMessage(L.data,G.transferList):console.error('Internal error! Worker sent a message "'+D+'" to target pthread '+G.targetThread+", but that thread no longer exists!"),He.currentProxiedOperationCallerThread=void 0;return}if(D==="processQueuedMainThreadWork")ni();else if(D==="spawnThread")_l(L.data);else if(D==="cleanupThread")ps(G.thread);else if(D==="killThread")Dt(G.thread);else if(D==="cancelThread")li(G.thread);else if(D==="loaded")m.loaded=!0,y&&y(m),m.runPthread&&(m.runPthread(),delete m.runPthread);else if(D==="print")Pe("Thread "+G.threadId+": "+G.text);else if(D==="printErr")xe("Thread "+G.threadId+": "+G.text);else if(D==="alert")alert("Thread "+G.threadId+": "+G.text);else if(D==="exit"){var Z=m.pthread&&Atomics.load(c(),m.pthread.threadInfoStruct+64>>2);Z&&He.returnWorkerToPool(m)}else if(D==="exitProcess")try{Fm(G.returnCode)}catch(j){if(j instanceof jo)return;throw j}else D==="cancelDone"?He.returnWorkerToPool(m):D==="objectTransfer"?He.receiveObjectTransfer(L.data):L.data.target==="setimmediate"?m.postMessage(L.data):xe("worker sent an unknown command "+D);He.currentProxiedOperationCallerThread=void 0},m.onerror=function(L){xe("pthread sent an error! "+L.filename+":"+L.lineno+": "+L.message)},w&&(m.on("message",function(L){m.onmessage({data:L})}),m.on("error",function(L){m.onerror(L)}),m.on("exit",function(L){})),m.postMessage({cmd:"load",urlOrBlob:d.mainScriptUrlOrBlob||s,wasmMemory:Me,wasmModule:pi})},allocateUnusedWorker:function(){var m=K("web-ifc-mt.worker.js");He.unusedWorkers.push(new Worker(m))},getNewWorker:function(){return He.unusedWorkers.length==0&&(He.allocateUnusedWorker(),He.loadWasmModuleToWorker(He.unusedWorkers[0])),He.unusedWorkers.pop()},busySpinWait:function(m){for(var y=performance.now()+m;performance.now()<y;);}};function Ns(m,y){fm(m,y),ri(m)}d.establishStackSpace=Ns;function Tt(m,y){return we.get(m)(y)}d.invokeEntryPoint=Tt;function kn(m,y,L,G){Le("Assertion failed: "+et(m)+", at: "+[y?et(y):"unknown filename",L,G?et(G):"unknown function"])}var W;w?W=function(){var m=process.hrtime();return m[0]*1e3+m[1]/1e6}:O?W=function(){return performance.now()-d.__performance_now_clock_drift}:W=function(){return performance.now()};var Zt=!0;function Ts(m){return h()[Er()>>>2]=m,m}function xo(m,y){var L;if(m===0)L=Date.now();else if((m===1||m===4)&&Zt)L=W();else return Ts(28),-1;return h()[y>>>2]=L/1e3|0,h()[y+4>>>2]=L%1e3*1e3*1e3|0,0}function gs(m){return Ht(m+16)+16}function er(m,y){if(O)return tn(1,1,m,y)}function un(m){this.excPtr=m,this.ptr=m-16,this.set_type=function(y){h()[this.ptr+4>>>2]=y},this.get_type=function(){return h()[this.ptr+4>>>2]},this.set_destructor=function(y){h()[this.ptr+8>>>2]=y},this.get_destructor=function(){return h()[this.ptr+8>>>2]},this.set_refcount=function(y){h()[this.ptr>>>2]=y},this.set_caught=function(y){y=y?1:0,r()[this.ptr+12>>>0]=y},this.get_caught=function(){return r()[this.ptr+12>>>0]!=0},this.set_rethrown=function(y){y=y?1:0,r()[this.ptr+13>>>0]=y},this.get_rethrown=function(){return r()[this.ptr+13>>>0]!=0},this.init=function(y,L){this.set_type(y),this.set_destructor(L),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){Atomics.add(h(),this.ptr+0>>2,1)},this.release_ref=function(){var y=Atomics.sub(h(),this.ptr+0>>2,1);return y===1}}function $s(m){this.free=function(){gt(this.ptr),this.ptr=0},this.set_base_ptr=function(y){h()[this.ptr>>>2]=y},this.get_base_ptr=function(){return h()[this.ptr>>>2]},this.set_adjusted_ptr=function(y){h()[this.ptr+4>>>2]=y},this.get_adjusted_ptr_addr=function(){return this.ptr+4},this.get_adjusted_ptr=function(){return h()[this.ptr+4>>>2]},this.get_exception_ptr=function(){var y=Tm(this.get_exception_info().get_type());if(y)return h()[this.get_base_ptr()>>>2];var L=this.get_adjusted_ptr();return L!==0?L:this.get_base_ptr()},this.get_exception_info=function(){return new un(this.get_base_ptr())},m===void 0?(this.ptr=Ht(8),this.set_adjusted_ptr(0)):this.ptr=m}var Cn=[];function tr(m){m.add_ref()}var Mr=0;function Wu(m){var y=new $s(m),L=y.get_exception_info();return L.get_caught()||(L.set_caught(!0),Mr--),L.set_rethrown(!1),Cn.push(y),tr(L),y.get_exception_ptr()}var xr=0;function Ma(m){return gt(new un(m).ptr)}function vo(m){if(m.release_ref()&&!m.get_rethrown()){var y=m.get_destructor();y&&we.get(y)(m.excPtr),Ma(m.excPtr)}}function xa(){bi(0);var m=Cn.pop();vo(m.get_exception_info()),m.free(),xr=0}function ic(m){var y=new $s(m),L=y.get_base_ptr();throw xr||(xr=L),y.free(),L}function va(){var m=xr;if(!m)return Xe(0),0;var y=new un(m),L=y.get_type(),G=new $s;if(G.set_base_ptr(m),G.set_adjusted_ptr(m),!L)return Xe(0),G.ptr|0;for(var D=Array.prototype.slice.call(arguments),A=0;A<D.length;A++){var Z=D[A];if(Z===0||Z===L)break;if(Rp(Z,L,G.get_adjusted_ptr_addr()))return Xe(Z),G.ptr|0}return Xe(L),G.ptr|0}function ir(){var m=xr;if(!m)return Xe(0),0;var y=new un(m),L=y.get_type(),G=new $s;if(G.set_base_ptr(m),G.set_adjusted_ptr(m),!L)return Xe(0),G.ptr|0;for(var D=Array.prototype.slice.call(arguments),A=0;A<D.length;A++){var Z=D[A];if(Z===0||Z===L)break;if(Rp(Z,L,G.get_adjusted_ptr_addr()))return Xe(Z),G.ptr|0}return Xe(L),G.ptr|0}function Yu(){var m=Cn.pop();m||Le("no exception to throw");var y=m.get_exception_info(),L=m.get_base_ptr();throw y.get_rethrown()?m.free():(Cn.push(m),y.set_rethrown(!0),y.set_caught(!1),Mr++),xr=L,L}function Ga(m,y){He.threadExitHandlers.push(function(){we.get(m)(y)})}function ku(m,y,L){var G=new un(m);throw G.init(y,L),xr=m,Mr++,m}function Au(){return Mr}var Jt={splitPath:function(m){var y=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return y.exec(m).slice(1)},normalizeArray:function(m,y){for(var L=0,G=m.length-1;G>=0;G--){var D=m[G];D==="."?m.splice(G,1):D===".."?(m.splice(G,1),L++):L&&(m.splice(G,1),L--)}if(y)for(;L;L--)m.unshift("..");return m},normalize:function(m){var y=m.charAt(0)==="/",L=m.substr(-1)==="/";return m=Jt.normalizeArray(m.split("/").filter(function(G){return!!G}),!y).join("/"),!m&&!y&&(m="."),m&&L&&(m+="/"),(y?"/":"")+m},dirname:function(m){var y=Jt.splitPath(m),L=y[0],G=y[1];return!L&&!G?".":(G&&(G=G.substr(0,G.length-1)),L+G)},basename:function(m){if(m==="/")return"/";m=Jt.normalize(m),m=m.replace(/\/$/,"");var y=m.lastIndexOf("/");return y===-1?m:m.substr(y+1)},extname:function(m){return Jt.splitPath(m)[3]},join:function(){var m=Array.prototype.slice.call(arguments,0);return Jt.normalize(m.join("/"))},join2:function(m,y){return Jt.normalize(m+"/"+y)}};function Ku(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var m=new Uint8Array(1);return function(){return crypto.getRandomValues(m),m[0]}}else if(w)try{var y=Y1();return function(){return y.randomBytes(1)[0]}}catch{}return function(){Le("randomDevice")}}var Rn={resolve:function(){for(var m="",y=!1,L=arguments.length-1;L>=-1&&!y;L--){var G=L>=0?arguments[L]:k.cwd();if(typeof G!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!G)return"";m=G+"/"+m,y=G.charAt(0)==="/"}return m=Jt.normalizeArray(m.split("/").filter(function(D){return!!D}),!y).join("/"),(y?"/":"")+m||"."},relative:function(m,y){m=Rn.resolve(m).substr(1),y=Rn.resolve(y).substr(1);function L(x){for(var E=0;E<x.length&&x[E]==="";E++);for(var z=x.length-1;z>=0&&x[z]==="";z--);return E>z?[]:x.slice(E,z-E+1)}for(var G=L(m.split("/")),D=L(y.split("/")),A=Math.min(G.length,D.length),Z=A,j=0;j<A;j++)if(G[j]!==D[j]){Z=j;break}for(var se=[],j=Z;j<G.length;j++)se.push("..");return se=se.concat(D.slice(Z)),se.join("/")}},Xi={ttys:[],init:function(){},shutdown:function(){},register:function(m,y){Xi.ttys[m]={input:[],output:[],ops:y},k.registerDevice(m,Xi.stream_ops)},stream_ops:{open:function(m){var y=Xi.ttys[m.node.rdev];if(!y)throw new k.ErrnoError(43);m.tty=y,m.seekable=!1},close:function(m){m.tty.ops.flush(m.tty)},flush:function(m){m.tty.ops.flush(m.tty)},read:function(m,y,L,G,D){if(!m.tty||!m.tty.ops.get_char)throw new k.ErrnoError(60);for(var A=0,Z=0;Z<G;Z++){var j;try{j=m.tty.ops.get_char(m.tty)}catch{throw new k.ErrnoError(29)}if(j===void 0&&A===0)throw new k.ErrnoError(6);if(j==null)break;A++,y[L+Z]=j}return A&&(m.node.timestamp=Date.now()),A},write:function(m,y,L,G,D){if(!m.tty||!m.tty.ops.put_char)throw new k.ErrnoError(60);try{for(var A=0;A<G;A++)m.tty.ops.put_char(m.tty,y[L+A])}catch{throw new k.ErrnoError(29)}return G&&(m.node.timestamp=Date.now()),A}},default_tty_ops:{get_char:function(m){if(!m.input.length){var y=null;if(w){var L=256,G=Buffer.alloc(L),D=0;try{D=ae.readSync(process.stdin.fd,G,0,L,null)}catch(A){if(A.toString().includes("EOF"))D=0;else throw A}D>0?y=G.slice(0,D).toString("utf-8"):y=null}else typeof window<"u"&&typeof window.prompt=="function"?(y=window.prompt("Input: "),y!==null&&(y+=`
`)):typeof readline=="function"&&(y=readline(),y!==null&&(y+=`
`));if(!y)return null;m.input=it(y,!0)}return m.input.shift()},put_char:function(m,y){y===null||y===10?(Pe(Mt(m.output,0)),m.output=[]):y!=0&&m.output.push(y)},flush:function(m){m.output&&m.output.length>0&&(Pe(Mt(m.output,0)),m.output=[])}},default_tty1_ops:{put_char:function(m,y){y===null||y===10?(xe(Mt(m.output,0)),m.output=[]):y!=0&&m.output.push(y)},flush:function(m){m.output&&m.output.length>0&&(xe(Mt(m.output,0)),m.output=[])}}};function Br(m,y){o().fill(0,m,m+y)}function ii(m){m=fe(m,65536);var y=jl(65536,m);return y?(Br(y,m),y):0}var ft={ops_table:null,mount:function(m){return ft.createNode(null,"/",16895,0)},createNode:function(m,y,L,G){if(k.isBlkdev(L)||k.isFIFO(L))throw new k.ErrnoError(63);ft.ops_table||(ft.ops_table={dir:{node:{getattr:ft.node_ops.getattr,setattr:ft.node_ops.setattr,lookup:ft.node_ops.lookup,mknod:ft.node_ops.mknod,rename:ft.node_ops.rename,unlink:ft.node_ops.unlink,rmdir:ft.node_ops.rmdir,readdir:ft.node_ops.readdir,symlink:ft.node_ops.symlink},stream:{llseek:ft.stream_ops.llseek}},file:{node:{getattr:ft.node_ops.getattr,setattr:ft.node_ops.setattr},stream:{llseek:ft.stream_ops.llseek,read:ft.stream_ops.read,write:ft.stream_ops.write,allocate:ft.stream_ops.allocate,mmap:ft.stream_ops.mmap,msync:ft.stream_ops.msync}},link:{node:{getattr:ft.node_ops.getattr,setattr:ft.node_ops.setattr,readlink:ft.node_ops.readlink},stream:{}},chrdev:{node:{getattr:ft.node_ops.getattr,setattr:ft.node_ops.setattr},stream:k.chrdev_stream_ops}});var D=k.createNode(m,y,L,G);return k.isDir(D.mode)?(D.node_ops=ft.ops_table.dir.node,D.stream_ops=ft.ops_table.dir.stream,D.contents={}):k.isFile(D.mode)?(D.node_ops=ft.ops_table.file.node,D.stream_ops=ft.ops_table.file.stream,D.usedBytes=0,D.contents=null):k.isLink(D.mode)?(D.node_ops=ft.ops_table.link.node,D.stream_ops=ft.ops_table.link.stream):k.isChrdev(D.mode)&&(D.node_ops=ft.ops_table.chrdev.node,D.stream_ops=ft.ops_table.chrdev.stream),D.timestamp=Date.now(),m&&(m.contents[y]=D,m.timestamp=D.timestamp),D},getFileDataAsTypedArray:function(m){return m.contents?m.contents.subarray?m.contents.subarray(0,m.usedBytes):new Uint8Array(m.contents):new Uint8Array(0)},expandFileStorage:function(m,y){y>>>=0;var L=m.contents?m.contents.length:0;if(!(L>=y)){var G=1024*1024;y=Math.max(y,L*(L<G?2:1.125)>>>0),L!=0&&(y=Math.max(y,256));var D=m.contents;m.contents=new Uint8Array(y),m.usedBytes>0&&m.contents.set(D.subarray(0,m.usedBytes),0)}},resizeFileStorage:function(m,y){if(y>>>=0,m.usedBytes!=y)if(y==0)m.contents=null,m.usedBytes=0;else{var L=m.contents;m.contents=new Uint8Array(y),L&&m.contents.set(L.subarray(0,Math.min(y,m.usedBytes))),m.usedBytes=y}},node_ops:{getattr:function(m){var y={};return y.dev=k.isChrdev(m.mode)?m.id:1,y.ino=m.id,y.mode=m.mode,y.nlink=1,y.uid=0,y.gid=0,y.rdev=m.rdev,k.isDir(m.mode)?y.size=4096:k.isFile(m.mode)?y.size=m.usedBytes:k.isLink(m.mode)?y.size=m.link.length:y.size=0,y.atime=new Date(m.timestamp),y.mtime=new Date(m.timestamp),y.ctime=new Date(m.timestamp),y.blksize=4096,y.blocks=Math.ceil(y.size/y.blksize),y},setattr:function(m,y){y.mode!==void 0&&(m.mode=y.mode),y.timestamp!==void 0&&(m.timestamp=y.timestamp),y.size!==void 0&&ft.resizeFileStorage(m,y.size)},lookup:function(m,y){throw k.genericErrors[44]},mknod:function(m,y,L,G){return ft.createNode(m,y,L,G)},rename:function(m,y,L){if(k.isDir(m.mode)){var G;try{G=k.lookupNode(y,L)}catch{}if(G)for(var D in G.contents)throw new k.ErrnoError(55)}delete m.parent.contents[m.name],m.parent.timestamp=Date.now(),m.name=L,y.contents[L]=m,y.timestamp=m.parent.timestamp,m.parent=y},unlink:function(m,y){delete m.contents[y],m.timestamp=Date.now()},rmdir:function(m,y){var L=k.lookupNode(m,y);for(var G in L.contents)throw new k.ErrnoError(55);delete m.contents[y],m.timestamp=Date.now()},readdir:function(m){var y=[".",".."];for(var L in m.contents)!m.contents.hasOwnProperty(L)||y.push(L);return y},symlink:function(m,y,L){var G=ft.createNode(m,y,41471,0);return G.link=L,G},readlink:function(m){if(!k.isLink(m.mode))throw new k.ErrnoError(28);return m.link}},stream_ops:{read:function(m,y,L,G,D){var A=m.node.contents;if(D>=m.node.usedBytes)return 0;var Z=Math.min(m.node.usedBytes-D,G);if(Z>8&&A.subarray)y.set(A.subarray(D,D+Z),L);else for(var j=0;j<Z;j++)y[L+j]=A[D+j];return Z},write:function(m,y,L,G,D,A){if(y.buffer===r().buffer&&(A=!1),!G)return 0;var Z=m.node;if(Z.timestamp=Date.now(),y.subarray&&(!Z.contents||Z.contents.subarray)){if(A)return Z.contents=y.subarray(L,L+G),Z.usedBytes=G,G;if(Z.usedBytes===0&&D===0)return Z.contents=y.slice(L,L+G),Z.usedBytes=G,G;if(D+G<=Z.usedBytes)return Z.contents.set(y.subarray(L,L+G),D),G}if(ft.expandFileStorage(Z,D+G),Z.contents.subarray&&y.subarray)Z.contents.set(y.subarray(L,L+G),D);else for(var j=0;j<G;j++)Z.contents[D+j]=y[L+j];return Z.usedBytes=Math.max(Z.usedBytes,D+G),G},llseek:function(m,y,L){var G=y;if(L===1?G+=m.position:L===2&&k.isFile(m.node.mode)&&(G+=m.node.usedBytes),G<0)throw new k.ErrnoError(28);return G},allocate:function(m,y,L){ft.expandFileStorage(m.node,y+L),m.node.usedBytes=Math.max(m.node.usedBytes,y+L)},mmap:function(m,y,L,G,D,A){if(y!==0)throw new k.ErrnoError(28);if(!k.isFile(m.node.mode))throw new k.ErrnoError(43);var Z,j,se=m.node.contents;if(!(A&2)&&se.buffer===Ue)j=!1,Z=se.byteOffset;else{if((G>0||G+L<se.length)&&(se.subarray?se=se.subarray(G,G+L):se=Array.prototype.slice.call(se,G,G+L)),j=!0,Z=ii(L),!Z)throw new k.ErrnoError(48);Z>>>=0,r().set(se,Z>>>0)}return{ptr:Z,allocated:j}},msync:function(m,y,L,G,D){if(!k.isFile(m.node.mode))throw new k.ErrnoError(43);return D&2||ft.stream_ops.write(m,y,0,G,L,!1),0}}};function sc(m,y,L,G){var D=G?"":"al "+m;ce(m,function(A){Lt(A,'Loading data file "'+m+'" failed (no arrayBuffer).'),y(new Uint8Array(A)),D&&Te()},function(A){if(L)L();else throw'Loading data file "'+m+'" failed.'}),D&&q()}var k={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(m,y){if(m=Rn.resolve(k.cwd(),m),y=y||{},!m)return{path:"",node:null};var L={follow_mount:!0,recurse_count:0};for(var G in L)y[G]===void 0&&(y[G]=L[G]);if(y.recurse_count>8)throw new k.ErrnoError(32);for(var D=Jt.normalizeArray(m.split("/").filter(function(U){return!!U}),!1),A=k.root,Z="/",j=0;j<D.length;j++){var se=j===D.length-1;if(se&&y.parent)break;if(A=k.lookupNode(A,D[j]),Z=Jt.join2(Z,D[j]),k.isMountpoint(A)&&(!se||se&&y.follow_mount)&&(A=A.mounted.root),!se||y.follow)for(var x=0;k.isLink(A.mode);){var E=k.readlink(Z);Z=Rn.resolve(Jt.dirname(Z),E);var z=k.lookupPath(Z,{recurse_count:y.recurse_count});if(A=z.node,x++>40)throw new k.ErrnoError(32)}}return{path:Z,node:A}},getPath:function(m){for(var y;;){if(k.isRoot(m)){var L=m.mount.mountpoint;return y?L[L.length-1]!=="/"?L+"/"+y:L+y:L}y=y?m.name+"/"+y:m.name,m=m.parent}},hashName:function(m,y){for(var L=0,G=0;G<y.length;G++)L=(L<<5)-L+y.charCodeAt(G)|0;return(m+L>>>0)%k.nameTable.length},hashAddNode:function(m){var y=k.hashName(m.parent.id,m.name);m.name_next=k.nameTable[y],k.nameTable[y]=m},hashRemoveNode:function(m){var y=k.hashName(m.parent.id,m.name);if(k.nameTable[y]===m)k.nameTable[y]=m.name_next;else for(var L=k.nameTable[y];L;){if(L.name_next===m){L.name_next=m.name_next;break}L=L.name_next}},lookupNode:function(m,y){var L=k.mayLookup(m);if(L)throw new k.ErrnoError(L,m);for(var G=k.hashName(m.id,y),D=k.nameTable[G];D;D=D.name_next){var A=D.name;if(D.parent.id===m.id&&A===y)return D}return k.lookup(m,y)},createNode:function(m,y,L,G){var D=new k.FSNode(m,y,L,G);return k.hashAddNode(D),D},destroyNode:function(m){k.hashRemoveNode(m)},isRoot:function(m){return m===m.parent},isMountpoint:function(m){return!!m.mounted},isFile:function(m){return(m&61440)===32768},isDir:function(m){return(m&61440)===16384},isLink:function(m){return(m&61440)===40960},isChrdev:function(m){return(m&61440)===8192},isBlkdev:function(m){return(m&61440)===24576},isFIFO:function(m){return(m&61440)===4096},isSocket:function(m){return(m&49152)===49152},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(m){var y=k.flagModes[m];if(typeof y>"u")throw new Error("Unknown file open mode: "+m);return y},flagsToPermissionString:function(m){var y=["r","w","rw"][m&3];return m&512&&(y+="w"),y},nodePermissions:function(m,y){return k.ignorePermissions?0:y.includes("r")&&!(m.mode&292)||y.includes("w")&&!(m.mode&146)||y.includes("x")&&!(m.mode&73)?2:0},mayLookup:function(m){var y=k.nodePermissions(m,"x");return y||(m.node_ops.lookup?0:2)},mayCreate:function(m,y){try{var L=k.lookupNode(m,y);return 20}catch{}return k.nodePermissions(m,"wx")},mayDelete:function(m,y,L){var G;try{G=k.lookupNode(m,y)}catch(A){return A.errno}var D=k.nodePermissions(m,"wx");if(D)return D;if(L){if(!k.isDir(G.mode))return 54;if(k.isRoot(G)||k.getPath(G)===k.cwd())return 10}else if(k.isDir(G.mode))return 31;return 0},mayOpen:function(m,y){return m?k.isLink(m.mode)?32:k.isDir(m.mode)&&(k.flagsToPermissionString(y)!=="r"||y&512)?31:k.nodePermissions(m,k.flagsToPermissionString(y)):44},MAX_OPEN_FDS:4096,nextfd:function(m,y){m=m||0,y=y||k.MAX_OPEN_FDS;for(var L=m;L<=y;L++)if(!k.streams[L])return L;throw new k.ErrnoError(33)},getStream:function(m){return k.streams[m]},createStream:function(m,y,L){k.FSStream||(k.FSStream=function(){},k.FSStream.prototype={object:{get:function(){return this.node},set:function(Z){this.node=Z}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}}});var G=new k.FSStream;for(var D in m)G[D]=m[D];m=G;var A=k.nextfd(y,L);return m.fd=A,k.streams[A]=m,m},closeStream:function(m){k.streams[m]=null},chrdev_stream_ops:{open:function(m){var y=k.getDevice(m.node.rdev);m.stream_ops=y.stream_ops,m.stream_ops.open&&m.stream_ops.open(m)},llseek:function(){throw new k.ErrnoError(70)}},major:function(m){return m>>8},minor:function(m){return m&255},makedev:function(m,y){return m<<8|y},registerDevice:function(m,y){k.devices[m]={stream_ops:y}},getDevice:function(m){return k.devices[m]},getMounts:function(m){for(var y=[],L=[m];L.length;){var G=L.pop();y.push(G),L.push.apply(L,G.mounts)}return y},syncfs:function(m,y){typeof m=="function"&&(y=m,m=!1),k.syncFSRequests++,k.syncFSRequests>1&&xe("warning: "+k.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var L=k.getMounts(k.root.mount),G=0;function D(Z){return k.syncFSRequests--,y(Z)}function A(Z){if(Z)return A.errored?void 0:(A.errored=!0,D(Z));++G>=L.length&&D(null)}L.forEach(function(Z){if(!Z.type.syncfs)return A(null);Z.type.syncfs(Z,m,A)})},mount:function(m,y,L){var G=L==="/",D=!L,A;if(G&&k.root)throw new k.ErrnoError(10);if(!G&&!D){var Z=k.lookupPath(L,{follow_mount:!1});if(L=Z.path,A=Z.node,k.isMountpoint(A))throw new k.ErrnoError(10);if(!k.isDir(A.mode))throw new k.ErrnoError(54)}var j={type:m,opts:y,mountpoint:L,mounts:[]},se=m.mount(j);return se.mount=j,j.root=se,G?k.root=se:A&&(A.mounted=j,A.mount&&A.mount.mounts.push(j)),se},unmount:function(m){var y=k.lookupPath(m,{follow_mount:!1});if(!k.isMountpoint(y.node))throw new k.ErrnoError(28);var L=y.node,G=L.mounted,D=k.getMounts(G);Object.keys(k.nameTable).forEach(function(Z){for(var j=k.nameTable[Z];j;){var se=j.name_next;D.includes(j.mount)&&k.destroyNode(j),j=se}}),L.mounted=null;var A=L.mount.mounts.indexOf(G);L.mount.mounts.splice(A,1)},lookup:function(m,y){return m.node_ops.lookup(m,y)},mknod:function(m,y,L){var G=k.lookupPath(m,{parent:!0}),D=G.node,A=Jt.basename(m);if(!A||A==="."||A==="..")throw new k.ErrnoError(28);var Z=k.mayCreate(D,A);if(Z)throw new k.ErrnoError(Z);if(!D.node_ops.mknod)throw new k.ErrnoError(63);return D.node_ops.mknod(D,A,y,L)},create:function(m,y){return y=y!==void 0?y:438,y&=4095,y|=32768,k.mknod(m,y,0)},mkdir:function(m,y){return y=y!==void 0?y:511,y&=1023,y|=16384,k.mknod(m,y,0)},mkdirTree:function(m,y){for(var L=m.split("/"),G="",D=0;D<L.length;++D)if(!!L[D]){G+="/"+L[D];try{k.mkdir(G,y)}catch(A){if(A.errno!=20)throw A}}},mkdev:function(m,y,L){return typeof L>"u"&&(L=y,y=438),y|=8192,k.mknod(m,y,L)},symlink:function(m,y){if(!Rn.resolve(m))throw new k.ErrnoError(44);var L=k.lookupPath(y,{parent:!0}),G=L.node;if(!G)throw new k.ErrnoError(44);var D=Jt.basename(y),A=k.mayCreate(G,D);if(A)throw new k.ErrnoError(A);if(!G.node_ops.symlink)throw new k.ErrnoError(63);return G.node_ops.symlink(G,D,m)},rename:function(m,y){var L=Jt.dirname(m),G=Jt.dirname(y),D=Jt.basename(m),A=Jt.basename(y),Z,j,se;if(Z=k.lookupPath(m,{parent:!0}),j=Z.node,Z=k.lookupPath(y,{parent:!0}),se=Z.node,!j||!se)throw new k.ErrnoError(44);if(j.mount!==se.mount)throw new k.ErrnoError(75);var x=k.lookupNode(j,D),E=Rn.relative(m,G);if(E.charAt(0)!==".")throw new k.ErrnoError(28);if(E=Rn.relative(y,L),E.charAt(0)!==".")throw new k.ErrnoError(55);var z;try{z=k.lookupNode(se,A)}catch{}if(x!==z){var U=k.isDir(x.mode),B=k.mayDelete(j,D,U);if(B)throw new k.ErrnoError(B);if(B=z?k.mayDelete(se,A,U):k.mayCreate(se,A),B)throw new k.ErrnoError(B);if(!j.node_ops.rename)throw new k.ErrnoError(63);if(k.isMountpoint(x)||z&&k.isMountpoint(z))throw new k.ErrnoError(10);if(se!==j&&(B=k.nodePermissions(j,"w"),B))throw new k.ErrnoError(B);try{k.trackingDelegate.willMovePath&&k.trackingDelegate.willMovePath(m,y)}catch(ie){xe("FS.trackingDelegate['willMovePath']('"+m+"', '"+y+"') threw an exception: "+ie.message)}k.hashRemoveNode(x);try{j.node_ops.rename(x,se,A)}catch(ie){throw ie}finally{k.hashAddNode(x)}try{k.trackingDelegate.onMovePath&&k.trackingDelegate.onMovePath(m,y)}catch(ie){xe("FS.trackingDelegate['onMovePath']('"+m+"', '"+y+"') threw an exception: "+ie.message)}}},rmdir:function(m){var y=k.lookupPath(m,{parent:!0}),L=y.node,G=Jt.basename(m),D=k.lookupNode(L,G),A=k.mayDelete(L,G,!0);if(A)throw new k.ErrnoError(A);if(!L.node_ops.rmdir)throw new k.ErrnoError(63);if(k.isMountpoint(D))throw new k.ErrnoError(10);try{k.trackingDelegate.willDeletePath&&k.trackingDelegate.willDeletePath(m)}catch(Z){xe("FS.trackingDelegate['willDeletePath']('"+m+"') threw an exception: "+Z.message)}L.node_ops.rmdir(L,G),k.destroyNode(D);try{k.trackingDelegate.onDeletePath&&k.trackingDelegate.onDeletePath(m)}catch(Z){xe("FS.trackingDelegate['onDeletePath']('"+m+"') threw an exception: "+Z.message)}},readdir:function(m){var y=k.lookupPath(m,{follow:!0}),L=y.node;if(!L.node_ops.readdir)throw new k.ErrnoError(54);return L.node_ops.readdir(L)},unlink:function(m){var y=k.lookupPath(m,{parent:!0}),L=y.node,G=Jt.basename(m),D=k.lookupNode(L,G),A=k.mayDelete(L,G,!1);if(A)throw new k.ErrnoError(A);if(!L.node_ops.unlink)throw new k.ErrnoError(63);if(k.isMountpoint(D))throw new k.ErrnoError(10);try{k.trackingDelegate.willDeletePath&&k.trackingDelegate.willDeletePath(m)}catch(Z){xe("FS.trackingDelegate['willDeletePath']('"+m+"') threw an exception: "+Z.message)}L.node_ops.unlink(L,G),k.destroyNode(D);try{k.trackingDelegate.onDeletePath&&k.trackingDelegate.onDeletePath(m)}catch(Z){xe("FS.trackingDelegate['onDeletePath']('"+m+"') threw an exception: "+Z.message)}},readlink:function(m){var y=k.lookupPath(m),L=y.node;if(!L)throw new k.ErrnoError(44);if(!L.node_ops.readlink)throw new k.ErrnoError(28);return Rn.resolve(k.getPath(L.parent),L.node_ops.readlink(L))},stat:function(m,y){var L=k.lookupPath(m,{follow:!y}),G=L.node;if(!G)throw new k.ErrnoError(44);if(!G.node_ops.getattr)throw new k.ErrnoError(63);return G.node_ops.getattr(G)},lstat:function(m){return k.stat(m,!0)},chmod:function(m,y,L){var G;if(typeof m=="string"){var D=k.lookupPath(m,{follow:!L});G=D.node}else G=m;if(!G.node_ops.setattr)throw new k.ErrnoError(63);G.node_ops.setattr(G,{mode:y&4095|G.mode&-4096,timestamp:Date.now()})},lchmod:function(m,y){k.chmod(m,y,!0)},fchmod:function(m,y){var L=k.getStream(m);if(!L)throw new k.ErrnoError(8);k.chmod(L.node,y)},chown:function(m,y,L,G){var D;if(typeof m=="string"){var A=k.lookupPath(m,{follow:!G});D=A.node}else D=m;if(!D.node_ops.setattr)throw new k.ErrnoError(63);D.node_ops.setattr(D,{timestamp:Date.now()})},lchown:function(m,y,L){k.chown(m,y,L,!0)},fchown:function(m,y,L){var G=k.getStream(m);if(!G)throw new k.ErrnoError(8);k.chown(G.node,y,L)},truncate:function(m,y){if(y<0)throw new k.ErrnoError(28);var L;if(typeof m=="string"){var G=k.lookupPath(m,{follow:!0});L=G.node}else L=m;if(!L.node_ops.setattr)throw new k.ErrnoError(63);if(k.isDir(L.mode))throw new k.ErrnoError(31);if(!k.isFile(L.mode))throw new k.ErrnoError(28);var D=k.nodePermissions(L,"w");if(D)throw new k.ErrnoError(D);L.node_ops.setattr(L,{size:y,timestamp:Date.now()})},ftruncate:function(m,y){var L=k.getStream(m);if(!L)throw new k.ErrnoError(8);if((L.flags&2097155)===0)throw new k.ErrnoError(28);k.truncate(L.node,y)},utime:function(m,y,L){var G=k.lookupPath(m,{follow:!0}),D=G.node;D.node_ops.setattr(D,{timestamp:Math.max(y,L)})},open:function(m,y,L,G,D){if(m==="")throw new k.ErrnoError(44);y=typeof y=="string"?k.modeStringToFlags(y):y,L=typeof L>"u"?438:L,y&64?L=L&4095|32768:L=0;var A;if(typeof m=="object")A=m;else{m=Jt.normalize(m);try{var Z=k.lookupPath(m,{follow:!(y&131072)});A=Z.node}catch{}}var j=!1;if(y&64)if(A){if(y&128)throw new k.ErrnoError(20)}else A=k.mknod(m,L,0),j=!0;if(!A)throw new k.ErrnoError(44);if(k.isChrdev(A.mode)&&(y&=-513),y&65536&&!k.isDir(A.mode))throw new k.ErrnoError(54);if(!j){var se=k.mayOpen(A,y);if(se)throw new k.ErrnoError(se)}y&512&&k.truncate(A,0),y&=-131713;var x=k.createStream({node:A,path:k.getPath(A),flags:y,seekable:!0,position:0,stream_ops:A.stream_ops,ungotten:[],error:!1},G,D);x.stream_ops.open&&x.stream_ops.open(x),d.logReadFiles&&!(y&1)&&(k.readFiles||(k.readFiles={}),m in k.readFiles||(k.readFiles[m]=1,xe("FS.trackingDelegate error on read file: "+m)));try{if(k.trackingDelegate.onOpenFile){var E=0;(y&2097155)!==1&&(E|=k.tracking.openFlags.READ),(y&2097155)!==0&&(E|=k.tracking.openFlags.WRITE),k.trackingDelegate.onOpenFile(m,E)}}catch(z){xe("FS.trackingDelegate['onOpenFile']('"+m+"', flags) threw an exception: "+z.message)}return x},close:function(m){if(k.isClosed(m))throw new k.ErrnoError(8);m.getdents&&(m.getdents=null);try{m.stream_ops.close&&m.stream_ops.close(m)}catch(y){throw y}finally{k.closeStream(m.fd)}m.fd=null},isClosed:function(m){return m.fd===null},llseek:function(m,y,L){if(k.isClosed(m))throw new k.ErrnoError(8);if(!m.seekable||!m.stream_ops.llseek)throw new k.ErrnoError(70);if(L!=0&&L!=1&&L!=2)throw new k.ErrnoError(28);return m.position=m.stream_ops.llseek(m,y,L),m.ungotten=[],m.position},read:function(m,y,L,G,D){if(L>>>=0,G<0||D<0)throw new k.ErrnoError(28);if(k.isClosed(m))throw new k.ErrnoError(8);if((m.flags&2097155)===1)throw new k.ErrnoError(8);if(k.isDir(m.node.mode))throw new k.ErrnoError(31);if(!m.stream_ops.read)throw new k.ErrnoError(28);var A=typeof D<"u";if(!A)D=m.position;else if(!m.seekable)throw new k.ErrnoError(70);var Z=m.stream_ops.read(m,y,L,G,D);return A||(m.position+=Z),Z},write:function(m,y,L,G,D,A){if(L>>>=0,G<0||D<0)throw new k.ErrnoError(28);if(k.isClosed(m))throw new k.ErrnoError(8);if((m.flags&2097155)===0)throw new k.ErrnoError(8);if(k.isDir(m.node.mode))throw new k.ErrnoError(31);if(!m.stream_ops.write)throw new k.ErrnoError(28);m.seekable&&m.flags&1024&&k.llseek(m,0,2);var Z=typeof D<"u";if(!Z)D=m.position;else if(!m.seekable)throw new k.ErrnoError(70);var j=m.stream_ops.write(m,y,L,G,D,A);Z||(m.position+=j);try{m.path&&k.trackingDelegate.onWriteToFile&&k.trackingDelegate.onWriteToFile(m.path)}catch(se){xe("FS.trackingDelegate['onWriteToFile']('"+m.path+"') threw an exception: "+se.message)}return j},allocate:function(m,y,L){if(k.isClosed(m))throw new k.ErrnoError(8);if(y<0||L<=0)throw new k.ErrnoError(28);if((m.flags&2097155)===0)throw new k.ErrnoError(8);if(!k.isFile(m.node.mode)&&!k.isDir(m.node.mode))throw new k.ErrnoError(43);if(!m.stream_ops.allocate)throw new k.ErrnoError(138);m.stream_ops.allocate(m,y,L)},mmap:function(m,y,L,G,D,A){if(y>>>=0,(D&2)!==0&&(A&2)===0&&(m.flags&2097155)!==2)throw new k.ErrnoError(2);if((m.flags&2097155)===1)throw new k.ErrnoError(2);if(!m.stream_ops.mmap)throw new k.ErrnoError(43);return m.stream_ops.mmap(m,y,L,G,D,A)},msync:function(m,y,L,G,D){return L>>>=0,!m||!m.stream_ops.msync?0:m.stream_ops.msync(m,y,L,G,D)},munmap:function(m){return 0},ioctl:function(m,y,L){if(!m.stream_ops.ioctl)throw new k.ErrnoError(59);return m.stream_ops.ioctl(m,y,L)},readFile:function(m,y){if(y=y||{},y.flags=y.flags||0,y.encoding=y.encoding||"binary",y.encoding!=="utf8"&&y.encoding!=="binary")throw new Error('Invalid encoding type "'+y.encoding+'"');var L,G=k.open(m,y.flags),D=k.stat(m),A=D.size,Z=new Uint8Array(A);return k.read(G,Z,0,A,0),y.encoding==="utf8"?L=Mt(Z,0):y.encoding==="binary"&&(L=Z),k.close(G),L},writeFile:function(m,y,L){L=L||{},L.flags=L.flags||577;var G=k.open(m,L.flags,L.mode);if(typeof y=="string"){var D=new Uint8Array(wi(y)+1),A=Ut(y,D,0,D.length);k.write(G,D,0,A,void 0,L.canOwn)}else if(ArrayBuffer.isView(y))k.write(G,y,0,y.byteLength,void 0,L.canOwn);else throw new Error("Unsupported data type");k.close(G)},cwd:function(){return k.currentPath},chdir:function(m){var y=k.lookupPath(m,{follow:!0});if(y.node===null)throw new k.ErrnoError(44);if(!k.isDir(y.node.mode))throw new k.ErrnoError(54);var L=k.nodePermissions(y.node,"x");if(L)throw new k.ErrnoError(L);k.currentPath=y.path},createDefaultDirectories:function(){k.mkdir("/tmp"),k.mkdir("/home"),k.mkdir("/home/web_user")},createDefaultDevices:function(){k.mkdir("/dev"),k.registerDevice(k.makedev(1,3),{read:function(){return 0},write:function(y,L,G,D,A){return D}}),k.mkdev("/dev/null",k.makedev(1,3)),Xi.register(k.makedev(5,0),Xi.default_tty_ops),Xi.register(k.makedev(6,0),Xi.default_tty1_ops),k.mkdev("/dev/tty",k.makedev(5,0)),k.mkdev("/dev/tty1",k.makedev(6,0));var m=Ku();k.createDevice("/dev","random",m),k.createDevice("/dev","urandom",m),k.mkdir("/dev/shm"),k.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){k.mkdir("/proc");var m=k.mkdir("/proc/self");k.mkdir("/proc/self/fd"),k.mount({mount:function(){var y=k.createNode(m,"fd",16895,73);return y.node_ops={lookup:function(L,G){var D=+G,A=k.getStream(D);if(!A)throw new k.ErrnoError(8);var Z={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return A.path}}};return Z.parent=Z,Z}},y}},{},"/proc/self/fd")},createStandardStreams:function(){d.stdin?k.createDevice("/dev","stdin",d.stdin):k.symlink("/dev/tty","/dev/stdin"),d.stdout?k.createDevice("/dev","stdout",null,d.stdout):k.symlink("/dev/tty","/dev/stdout"),d.stderr?k.createDevice("/dev","stderr",null,d.stderr):k.symlink("/dev/tty1","/dev/stderr"),k.open("/dev/stdin",0),k.open("/dev/stdout",1),k.open("/dev/stderr",1)},ensureErrnoError:function(){k.ErrnoError||(k.ErrnoError=function(y,L){this.node=L,this.setErrno=function(G){this.errno=G},this.setErrno(y),this.message="FS error"},k.ErrnoError.prototype=new Error,k.ErrnoError.prototype.constructor=k.ErrnoError,[44].forEach(function(m){k.genericErrors[m]=new k.ErrnoError(m),k.genericErrors[m].stack="<generic error, no stack>"}))},staticInit:function(){k.ensureErrnoError(),k.nameTable=new Array(4096),k.mount(ft,{},"/"),k.createDefaultDirectories(),k.createDefaultDevices(),k.createSpecialDirectories(),k.filesystems={MEMFS:ft}},init:function(m,y,L){k.init.initialized=!0,k.ensureErrnoError(),d.stdin=m||d.stdin,d.stdout=y||d.stdout,d.stderr=L||d.stderr,k.createStandardStreams()},quit:function(){k.init.initialized=!1;var m=d._fflush;m&&m(0);for(var y=0;y<k.streams.length;y++){var L=k.streams[y];!L||k.close(L)}},getMode:function(m,y){var L=0;return m&&(L|=365),y&&(L|=146),L},findObject:function(m,y){var L=k.analyzePath(m,y);return L.exists?L.object:null},analyzePath:function(m,y){try{var L=k.lookupPath(m,{follow:!y});m=L.path}catch{}var G={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var L=k.lookupPath(m,{parent:!0});G.parentExists=!0,G.parentPath=L.path,G.parentObject=L.node,G.name=Jt.basename(m),L=k.lookupPath(m,{follow:!y}),G.exists=!0,G.path=L.path,G.object=L.node,G.name=L.node.name,G.isRoot=L.path==="/"}catch(D){G.error=D.errno}return G},createPath:function(m,y,L,G){m=typeof m=="string"?m:k.getPath(m);for(var D=y.split("/").reverse();D.length;){var A=D.pop();if(!!A){var Z=Jt.join2(m,A);try{k.mkdir(Z)}catch{}m=Z}}return Z},createFile:function(m,y,L,G,D){var A=Jt.join2(typeof m=="string"?m:k.getPath(m),y),Z=k.getMode(G,D);return k.create(A,Z)},createDataFile:function(m,y,L,G,D,A){var Z=y?Jt.join2(typeof m=="string"?m:k.getPath(m),y):m,j=k.getMode(G,D),se=k.create(Z,j);if(L){if(typeof L=="string"){for(var x=new Array(L.length),E=0,z=L.length;E<z;++E)x[E]=L.charCodeAt(E);L=x}k.chmod(se,j|146);var U=k.open(se,577);k.write(U,L,0,L.length,0,A),k.close(U),k.chmod(se,j)}return se},createDevice:function(m,y,L,G){var D=Jt.join2(typeof m=="string"?m:k.getPath(m),y),A=k.getMode(!!L,!!G);k.createDevice.major||(k.createDevice.major=64);var Z=k.makedev(k.createDevice.major++,0);return k.registerDevice(Z,{open:function(j){j.seekable=!1},close:function(j){G&&G.buffer&&G.buffer.length&&G(10)},read:function(j,se,x,E,z){for(var U=0,B=0;B<E;B++){var ie;try{ie=L()}catch{throw new k.ErrnoError(29)}if(ie===void 0&&U===0)throw new k.ErrnoError(6);if(ie==null)break;U++,se[x+B]=ie}return U&&(j.node.timestamp=Date.now()),U},write:function(j,se,x,E,z){for(var U=0;U<E;U++)try{G(se[x+U])}catch{throw new k.ErrnoError(29)}return E&&(j.node.timestamp=Date.now()),U}}),k.mkdev(D,A,Z)},forceLoadFile:function(m){if(m.isDevice||m.isFolder||m.link||m.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(ee)try{m.contents=it(ee(m.url),!0),m.usedBytes=m.contents.length}catch{throw new k.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:function(m,y,L,G,D){function A(){this.lengthKnown=!1,this.chunks=[]}if(A.prototype.get=function(U){if(!(U>this.length-1||U<0)){var B=U%this.chunkSize,ie=U/this.chunkSize|0;return this.getter(ie)[B]}},A.prototype.setDataGetter=function(U){this.getter=U},A.prototype.cacheLength=function(){var U=new XMLHttpRequest;if(U.open("HEAD",L,!1),U.send(null),!(U.status>=200&&U.status<300||U.status===304))throw new Error("Couldn't load "+L+". Status: "+U.status);var B=Number(U.getResponseHeader("Content-length")),ie,te=(ie=U.getResponseHeader("Accept-Ranges"))&&ie==="bytes",he=(ie=U.getResponseHeader("Content-Encoding"))&&ie==="gzip",le=1024*1024;te||(le=B);var re=function(ze,Ge){if(ze>Ge)throw new Error("invalid range ("+ze+", "+Ge+") or no bytes requested!");if(Ge>B-1)throw new Error("only "+B+" bytes available! programmer error!");var ke=new XMLHttpRequest;if(ke.open("GET",L,!1),B!==le&&ke.setRequestHeader("Range","bytes="+ze+"-"+Ge),typeof Uint8Array<"u"&&(ke.responseType="arraybuffer"),ke.overrideMimeType&&ke.overrideMimeType("text/plain; charset=x-user-defined"),ke.send(null),!(ke.status>=200&&ke.status<300||ke.status===304))throw new Error("Couldn't load "+L+". Status: "+ke.status);return ke.response!==void 0?new Uint8Array(ke.response||[]):it(ke.responseText||"",!0)},pe=this;pe.setDataGetter(function(ze){var Ge=ze*le,ke=(ze+1)*le-1;if(ke=Math.min(ke,B-1),typeof pe.chunks[ze]>"u"&&(pe.chunks[ze]=re(Ge,ke)),typeof pe.chunks[ze]>"u")throw new Error("doXHR failed!");return pe.chunks[ze]}),(he||!B)&&(le=B=1,B=this.getter(0).length,le=B,Pe("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=B,this._chunkSize=le,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!P)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var Z=new A;Object.defineProperties(Z,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var j={isDevice:!1,contents:Z}}else var j={isDevice:!1,url:L};var se=k.createFile(m,y,j,G,D);j.contents?se.contents=j.contents:j.url&&(se.contents=null,se.url=j.url),Object.defineProperties(se,{usedBytes:{get:function(){return this.contents.length}}});var x={},E=Object.keys(se.stream_ops);return E.forEach(function(z){var U=se.stream_ops[z];x[z]=function(){return k.forceLoadFile(se),U.apply(null,arguments)}}),x.read=function(U,B,ie,te,he){k.forceLoadFile(se);var le=U.node.contents;if(he>=le.length)return 0;var re=Math.min(le.length-he,te);if(le.slice)for(var pe=0;pe<re;pe++)B[ie+pe]=le[he+pe];else for(var pe=0;pe<re;pe++)B[ie+pe]=le.get(he+pe);return re},se.stream_ops=x,se},createPreloadedFile:function(m,y,L,G,D,A,Z,j,se,x){Browser.init();var E=y?Rn.resolve(Jt.join2(m,y)):m;function z(U){function B(te){x&&x(),j||k.createDataFile(m,y,te,G,D,se),A&&A(),Te()}var ie=!1;d.preloadPlugins.forEach(function(te){ie||te.canHandle(E)&&(te.handle(U,E,B,function(){Z&&Z(),Te()}),ie=!0)}),ie||B(U)}q(),typeof L=="string"?sc(L,function(U){z(U)},Z):z(L)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(m,y,L){y=y||function(){},L=L||function(){};var G=k.indexedDB();try{var D=G.open(k.DB_NAME(),k.DB_VERSION)}catch(A){return L(A)}D.onupgradeneeded=function(){Pe("creating db");var Z=D.result;Z.createObjectStore(k.DB_STORE_NAME)},D.onsuccess=function(){var Z=D.result,j=Z.transaction([k.DB_STORE_NAME],"readwrite"),se=j.objectStore(k.DB_STORE_NAME),x=0,E=0,z=m.length;function U(){E==0?y():L()}m.forEach(function(B){var ie=se.put(k.analyzePath(B).object.contents,B);ie.onsuccess=function(){x++,x+E==z&&U()},ie.onerror=function(){E++,x+E==z&&U()}}),j.onerror=L},D.onerror=L},loadFilesFromDB:function(m,y,L){y=y||function(){},L=L||function(){};var G=k.indexedDB();try{var D=G.open(k.DB_NAME(),k.DB_VERSION)}catch(A){return L(A)}D.onupgradeneeded=L,D.onsuccess=function(){var Z=D.result;try{var j=Z.transaction([k.DB_STORE_NAME],"readonly")}catch(B){L(B);return}var se=j.objectStore(k.DB_STORE_NAME),x=0,E=0,z=m.length;function U(){E==0?y():L()}m.forEach(function(B){var ie=se.get(B);ie.onsuccess=function(){k.analyzePath(B).exists&&k.unlink(B),k.createDataFile(Jt.dirname(B),Jt.basename(B),ie.result,!0,!0,!0),x++,x+E==z&&U()},ie.onerror=function(){E++,x+E==z&&U()}}),j.onerror=L},D.onerror=L}},Hi={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(m,y,L){if(y[0]==="/")return y;var G;if(m===-100)G=k.cwd();else{var D=k.getStream(m);if(!D)throw new k.ErrnoError(8);G=D.path}if(y.length==0){if(!L)throw new k.ErrnoError(44);return G}return Jt.join2(G,y)},doStat:function(m,y,L){try{var G=m(y)}catch(D){if(D&&D.node&&Jt.normalize(y)!==Jt.normalize(k.getPath(D.node)))return-54;throw D}return h()[L>>>2]=G.dev,h()[L+4>>>2]=0,h()[L+8>>>2]=G.ino,h()[L+12>>>2]=G.mode,h()[L+16>>>2]=G.nlink,h()[L+20>>>2]=G.uid,h()[L+24>>>2]=G.gid,h()[L+28>>>2]=G.rdev,h()[L+32>>>2]=0,wt=[G.size>>>0,(yt=G.size,+Math.abs(yt)>=1?yt>0?(Math.min(+Math.floor(yt/4294967296),4294967295)|0)>>>0:~~+Math.ceil((yt-+(~~yt>>>0))/4294967296)>>>0:0)],h()[L+40>>>2]=wt[0],h()[L+44>>>2]=wt[1],h()[L+48>>>2]=4096,h()[L+52>>>2]=G.blocks,h()[L+56>>>2]=G.atime.getTime()/1e3|0,h()[L+60>>>2]=0,h()[L+64>>>2]=G.mtime.getTime()/1e3|0,h()[L+68>>>2]=0,h()[L+72>>>2]=G.ctime.getTime()/1e3|0,h()[L+76>>>2]=0,wt=[G.ino>>>0,(yt=G.ino,+Math.abs(yt)>=1?yt>0?(Math.min(+Math.floor(yt/4294967296),4294967295)|0)>>>0:~~+Math.ceil((yt-+(~~yt>>>0))/4294967296)>>>0:0)],h()[L+80>>>2]=wt[0],h()[L+84>>>2]=wt[1],0},doMsync:function(m,y,L,G,D){var A=o().slice(m,m+L);k.msync(y,A,D,L,G)},doMkdir:function(m,y){return m=Jt.normalize(m),m[m.length-1]==="/"&&(m=m.substr(0,m.length-1)),k.mkdir(m,y,0),0},doMknod:function(m,y,L){switch(y&61440){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return k.mknod(m,y,L),0},doReadlink:function(m,y,L){if(L<=0)return-28;var G=k.readlink(m),D=Math.min(L,wi(G)),A=r()[y+D>>>0];return Wi(G,y,L+1),r()[y+D>>>0]=A,D},doAccess:function(m,y){if(y&-8)return-28;var L,G=k.lookupPath(m,{follow:!0});if(L=G.node,!L)return-44;var D="";return y&4&&(D+="r"),y&2&&(D+="w"),y&1&&(D+="x"),D&&k.nodePermissions(L,D)?-2:0},doDup:function(m,y,L){var G=k.getStream(L);return G&&k.close(G),k.open(m,y,0,L,L).fd},doReadv:function(m,y,L,G){for(var D=0,A=0;A<L;A++){var Z=h()[y+A*8>>>2],j=h()[y+(A*8+4)>>>2],se=k.read(m,r(),Z,j,G);if(se<0)return-1;if(D+=se,se<j)break}return D},doWritev:function(m,y,L,G){for(var D=0,A=0;A<L;A++){var Z=h()[y+A*8>>>2],j=h()[y+(A*8+4)>>>2],se=k.write(m,r(),Z,j,G);if(se<0)return-1;D+=se}return D},varargs:void 0,get:function(){Hi.varargs+=4;var m=h()[Hi.varargs-4>>>2];return m},getStr:function(m){var y=et(m);return y},getStreamFromFD:function(m){var y=k.getStream(m);if(!y)throw new k.ErrnoError(8);return y},get64:function(m,y){return m}};function An(m,y,L){if(O)return tn(2,1,m,y,L);Hi.varargs=L;try{var G=Hi.getStreamFromFD(m);switch(y){case 0:{var D=Hi.get();if(D<0)return-28;var A;return A=k.open(G.path,G.flags,0,D),A.fd}case 1:case 2:return 0;case 3:return G.flags;case 4:{var D=Hi.get();return G.flags|=D,0}case 12:{var D=Hi.get(),Z=0;return a()[D+Z>>>1]=2,0}case 13:case 14:return 0;case 16:case 8:return-28;case 9:return Ts(28),-1;default:return-28}}catch(j){return(typeof k>"u"||!(j instanceof k.ErrnoError))&&Le(j),-j.errno}}function Ea(m,y,L){if(O)return tn(3,1,m,y,L);Hi.varargs=L;try{var G=Hi.getStreamFromFD(m);switch(y){case 21509:case 21505:return G.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return G.tty?0:-59;case 21519:{if(!G.tty)return-59;var D=Hi.get();return h()[D>>>2]=0,0}case 21520:return G.tty?-28:-59;case 21531:{var D=Hi.get();return k.ioctl(G,y,D)}case 21523:return G.tty?0:-59;case 21524:return G.tty?0:-59;default:Le("bad ioctl syscall "+y)}}catch(A){return(typeof k>"u"||!(A instanceof k.ErrnoError))&&Le(A),-A.errno}}function Ca(m,y,L){if(O)return tn(4,1,m,y,L);Hi.varargs=L;try{var G=Hi.getStr(m),D=L?Hi.get():0,A=k.open(G,y,D);return A.fd}catch(Z){return(typeof k>"u"||!(Z instanceof k.ErrnoError))&&Le(Z),-Z.errno}}var Ra={};function sr(m){for(;m.length;){var y=m.pop(),L=m.pop();L(y)}}function en(m){return this.fromWireType(c()[m>>>2])}var Jr={},nr={},Kn={},Go=48,Eo=57;function Co(m){if(m===void 0)return"_unknown";m=m.replace(/[^a-zA-Z0-9_]/g,"$");var y=m.charCodeAt(0);return y>=Go&&y<=Eo?"_"+m:m}function Qr(m,y){return m=Co(m),new Function("body","return function "+m+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(y)}function Ro(m,y){var L=Qr(y,function(G){this.name=y,this.message=G;var D=new Error(G).stack;D!==void 0&&(this.stack=this.toString()+`
`+D.replace(/^Error(:[^\n]*)?\n/,""))});return L.prototype=Object.create(m.prototype),L.prototype.constructor=L,L.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},L}var Nn=void 0;function No(m){throw new Nn(m)}function Zn(m,y,L){m.forEach(function(j){Kn[j]=y});function G(j){var se=L(j);se.length!==m.length&&No("Mismatched type converter count");for(var x=0;x<m.length;++x)pn(m[x],se[x])}var D=new Array(y.length),A=[],Z=0;y.forEach(function(j,se){nr.hasOwnProperty(j)?D[se]=nr[j]:(A.push(j),Jr.hasOwnProperty(j)||(Jr[j]=[]),Jr[j].push(function(){D[se]=nr[j],++Z,Z===A.length&&G(D)}))}),A.length===0&&G(D)}function Ml(m){var y=Ra[m];delete Ra[m];var L=y.elements,G=L.length,D=L.map(function(j){return j.getterReturnType}).concat(L.map(function(j){return j.setterArgumentType})),A=y.rawConstructor,Z=y.rawDestructor;Zn([m],D,function(j){return L.forEach(function(se,x){var E=j[x],z=se.getter,U=se.getterContext,B=j[x+G],ie=se.setter,te=se.setterContext;se.read=function(he){return E.fromWireType(z(U,he))},se.write=function(he,le){var re=[];ie(te,he,B.toWireType(re,le)),sr(re)}}),[{name:y.name,fromWireType:function(se){for(var x=new Array(G),E=0;E<G;++E)x[E]=L[E].read(se);return Z(se),x},toWireType:function(se,x){if(G!==x.length)throw new TypeError("Incorrect number of tuple elements for "+y.name+": expected="+G+", actual="+x.length);for(var E=A(),z=0;z<G;++z)L[z].write(E,x[z]);return se!==null&&se.push(Z,E),E},argPackAdvance:8,readValueFromPointer:en,destructorFunction:Z}]})}var Fo={};function Na(m){var y=Fo[m];delete Fo[m];var L=y.rawConstructor,G=y.rawDestructor,D=y.fields,A=D.map(function(Z){return Z.getterReturnType}).concat(D.map(function(Z){return Z.setterArgumentType}));Zn([m],A,function(Z){var j={};return D.forEach(function(se,x){var E=se.fieldName,z=Z[x],U=se.getter,B=se.getterContext,ie=Z[x+D.length],te=se.setter,he=se.setterContext;j[E]={read:function(le){return z.fromWireType(U(B,le))},write:function(le,re){var pe=[];te(he,le,ie.toWireType(pe,re)),sr(pe)}}}),[{name:y.name,fromWireType:function(se){var x={};for(var E in j)x[E]=j[E].read(se);return G(se),x},toWireType:function(se,x){for(var E in j)if(!(E in x))throw new TypeError('Missing field:  "'+E+'"');var z=L();for(E in j)j[E].write(z,x[E]);return se!==null&&se.push(G,z),z},argPackAdvance:8,readValueFromPointer:en,destructorFunction:G}]})}function Zu(m,y,L,G,D){}function Fa(m){switch(m){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+m)}}function Hu(){for(var m=new Array(256),y=0;y<256;++y)m[y]=String.fromCharCode(y);nc=m}var nc=void 0;function ns(m){for(var y="",L=m;o()[L>>>0];)y+=nc[o()[L++>>>0]];return y}var qr=void 0;function Qt(m){throw new qr(m)}function pn(m,y,L){if(L=L||{},!("argPackAdvance"in y))throw new TypeError("registerType registeredInstance requires argPackAdvance");var G=y.name;if(m||Qt('type "'+G+'" must have a positive integer typeid pointer'),nr.hasOwnProperty(m)){if(L.ignoreDuplicateRegistrations)return;Qt("Cannot register type '"+G+"' twice")}if(nr[m]=y,delete Kn[m],Jr.hasOwnProperty(m)){var D=Jr[m];delete Jr[m],D.forEach(function(A){A()})}}function Uu(m,y,L,G,D){var A=Fa(L);y=ns(y),pn(m,{name:y,fromWireType:function(Z){return!!Z},toWireType:function(Z,j){return j?G:D},argPackAdvance:8,readValueFromPointer:function(Z){var j;if(L===1)j=r();else if(L===2)j=a();else if(L===4)j=h();else throw new TypeError("Unknown boolean type size: "+y);return this.fromWireType(j[Z>>>A])},destructorFunction:null})}function _u(m){if(!(this instanceof dn)||!(m instanceof dn))return!1;for(var y=this.$$.ptrType.registeredClass,L=this.$$.ptr,G=m.$$.ptrType.registeredClass,D=m.$$.ptr;y.baseClass;)L=y.upcast(L),y=y.baseClass;for(;G.baseClass;)D=G.upcast(D),G=G.baseClass;return y===G&&L===D}function Vu(m){return{count:m.count,deleteScheduled:m.deleteScheduled,preservePointerOnDelete:m.preservePointerOnDelete,ptr:m.ptr,ptrType:m.ptrType,smartPtr:m.smartPtr,smartPtrType:m.smartPtrType}}function vr(m){function y(L){return L.$$.ptrType.registeredClass.name}Qt(y(m)+" instance already deleted")}var xl=!1;function rc(m){}function Pa(m){m.smartPtr?m.smartPtrType.rawDestructor(m.smartPtr):m.ptrType.registeredClass.rawDestructor(m.ptr)}function oc(m){m.count.value-=1;var y=m.count.value===0;y&&Pa(m)}function Po(m){return typeof FinalizationGroup>"u"?(Po=function(y){return y},m):(xl=new FinalizationGroup(function(y){for(var L=y.next();!L.done;L=y.next()){var G=L.value;G.ptr?oc(G):console.warn("object already deleted: "+G.ptr)}}),Po=function(y){return xl.register(y,y.$$,y.$$),y},rc=function(y){xl.unregister(y.$$)},Po(m))}function Hn(){if(this.$$.ptr||vr(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var m=Po(Object.create(Object.getPrototypeOf(this),{$$:{value:Vu(this.$$)}}));return m.$$.count.value+=1,m.$$.deleteScheduled=!1,m}function vl(){this.$$.ptr||vr(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Qt("Object already scheduled for deletion"),rc(this),oc(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function ju(){return!this.$$.ptr}var wo=void 0,Xo=[];function hs(){for(;Xo.length;){var m=Xo.pop();m.$$.deleteScheduled=!1,m.delete()}}function Gl(){return this.$$.ptr||vr(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Qt("Object already scheduled for deletion"),Xo.push(this),Xo.length===1&&wo&&wo(hs),this.$$.deleteScheduled=!0,this}function ac(){dn.prototype.isAliasOf=_u,dn.prototype.clone=Hn,dn.prototype.delete=vl,dn.prototype.isDeleted=ju,dn.prototype.deleteLater=Gl}function dn(){}var lc={};function wa(m,y,L){if(m[y].overloadTable===void 0){var G=m[y];m[y]=function(){return m[y].overloadTable.hasOwnProperty(arguments.length)||Qt("Function '"+L+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+m[y].overloadTable+")!"),m[y].overloadTable[arguments.length].apply(this,arguments)},m[y].overloadTable=[],m[y].overloadTable[G.argCount]=G}}function El(m,y,L){d.hasOwnProperty(m)?((L===void 0||d[m].overloadTable!==void 0&&d[m].overloadTable[L]!==void 0)&&Qt("Cannot register public name '"+m+"' twice"),wa(d,m,m),d.hasOwnProperty(L)&&Qt("Cannot register multiple overloads of a function with the same number of arguments ("+L+")!"),d[m].overloadTable[L]=y):(d[m]=y,L!==void 0&&(d[m].numArguments=L))}function Bu(m,y,L,G,D,A,Z,j){this.name=m,this.constructor=y,this.instancePrototype=L,this.rawDestructor=G,this.baseClass=D,this.getActualType=A,this.upcast=Z,this.downcast=j,this.pureVirtualFunctions=[]}function Do(m,y,L){for(;y!==L;)y.upcast||Qt("Expected null or instance of "+L.name+", got an instance of "+y.name),m=y.upcast(m),y=y.baseClass;return m}function Xa(m,y){if(y===null)return this.isReference&&Qt("null is not a valid "+this.name),0;y.$$||Qt('Cannot pass "'+eo(y)+'" as a '+this.name),y.$$.ptr||Qt("Cannot pass deleted object as a pointer of type "+this.name);var L=y.$$.ptrType.registeredClass,G=Do(y.$$.ptr,L,this.registeredClass);return G}function Oo(m,y){var L;if(y===null)return this.isReference&&Qt("null is not a valid "+this.name),this.isSmartPointer?(L=this.rawConstructor(),m!==null&&m.push(this.rawDestructor,L),L):0;y.$$||Qt('Cannot pass "'+eo(y)+'" as a '+this.name),y.$$.ptr||Qt("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&y.$$.ptrType.isConst&&Qt("Cannot convert argument of type "+(y.$$.smartPtrType?y.$$.smartPtrType.name:y.$$.ptrType.name)+" to parameter type "+this.name);var G=y.$$.ptrType.registeredClass;if(L=Do(y.$$.ptr,G,this.registeredClass),this.isSmartPointer)switch(y.$$.smartPtr===void 0&&Qt("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:y.$$.smartPtrType===this?L=y.$$.smartPtr:Qt("Cannot convert argument of type "+(y.$$.smartPtrType?y.$$.smartPtrType.name:y.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:L=y.$$.smartPtr;break;case 2:if(y.$$.smartPtrType===this)L=y.$$.smartPtr;else{var D=y.clone();L=this.rawShare(L,ks(function(){D.delete()})),m!==null&&m.push(this.rawDestructor,L)}break;default:Qt("Unsupporting sharing policy")}return L}function Fs(m,y){if(y===null)return this.isReference&&Qt("null is not a valid "+this.name),0;y.$$||Qt('Cannot pass "'+eo(y)+'" as a '+this.name),y.$$.ptr||Qt("Cannot pass deleted object as a pointer of type "+this.name),y.$$.ptrType.isConst&&Qt("Cannot convert argument of type "+y.$$.ptrType.name+" to parameter type "+this.name);var L=y.$$.ptrType.registeredClass,G=Do(y.$$.ptr,L,this.registeredClass);return G}function Cl(m){return this.rawGetPointee&&(m=this.rawGetPointee(m)),m}function hc(m){this.rawDestructor&&this.rawDestructor(m)}function Ju(m){m!==null&&m.delete()}function Rl(m,y,L){if(y===L)return m;if(L.baseClass===void 0)return null;var G=Rl(m,y,L.baseClass);return G===null?null:L.downcast(G)}function mn(){return Object.keys(rr).length}function zo(){var m=[];for(var y in rr)rr.hasOwnProperty(y)&&m.push(rr[y]);return m}function Qu(m){wo=m,Xo.length&&wo&&wo(hs)}function qu(){d.getInheritedInstanceCount=mn,d.getLiveInheritedInstances=zo,d.flushPendingDeletes=hs,d.setDelayFunction=Qu}var rr={};function $u(m,y){for(y===void 0&&Qt("ptr should not be undefined");m.baseClass;)y=m.upcast(y),m=m.baseClass;return y}function $r(m,y){return y=$u(m,y),rr[y]}function Da(m,y){(!y.ptrType||!y.ptr)&&No("makeClassHandle requires ptr and ptrType");var L=!!y.smartPtrType,G=!!y.smartPtr;return L!==G&&No("Both smartPtrType and smartPtr must be specified"),y.count={value:1},Po(Object.create(m,{$$:{value:y}}))}function ep(m){var y=this.getPointee(m);if(!y)return this.destructor(m),null;var L=$r(this.registeredClass,y);if(L!==void 0){if(L.$$.count.value===0)return L.$$.ptr=y,L.$$.smartPtr=m,L.clone();var G=L.clone();return this.destructor(m),G}function D(){return this.isSmartPointer?Da(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:y,smartPtrType:this,smartPtr:m}):Da(this.registeredClass.instancePrototype,{ptrType:this,ptr:m})}var A=this.registeredClass.getActualType(y),Z=lc[A];if(!Z)return D.call(this);var j;this.isConst?j=Z.constPointerType:j=Z.pointerType;var se=Rl(y,this.registeredClass,j.registeredClass);return se===null?D.call(this):this.isSmartPointer?Da(j.registeredClass.instancePrototype,{ptrType:j,ptr:se,smartPtrType:this,smartPtr:m}):Da(j.registeredClass.instancePrototype,{ptrType:j,ptr:se})}function tp(){Un.prototype.getPointee=Cl,Un.prototype.destructor=hc,Un.prototype.argPackAdvance=8,Un.prototype.readValueFromPointer=en,Un.prototype.deleteObject=Ju,Un.prototype.fromWireType=ep}function Un(m,y,L,G,D,A,Z,j,se,x,E){this.name=m,this.registeredClass=y,this.isReference=L,this.isConst=G,this.isSmartPointer=D,this.pointeeType=A,this.sharingPolicy=Z,this.rawGetPointee=j,this.rawConstructor=se,this.rawShare=x,this.rawDestructor=E,!D&&y.baseClass===void 0?G?(this.toWireType=Xa,this.destructorFunction=null):(this.toWireType=Fs,this.destructorFunction=null):this.toWireType=Oo}function Nl(m,y,L){d.hasOwnProperty(m)||No("Replacing nonexistant public symbol"),d[m].overloadTable!==void 0&&L!==void 0?d[m].overloadTable[L]=y:(d[m]=y,d[m].argCount=L)}function cc(m,y,L){var G=d["dynCall_"+m];return L&&L.length?G.apply(null,[y].concat(L)):G.call(null,y)}function ip(m,y,L){return m.includes("j")?cc(m,y,L):we.get(y).apply(null,L)}function sp(m,y){var L=[];return function(){L.length=arguments.length;for(var G=0;G<arguments.length;G++)L[G]=arguments[G];return ip(m,y,L)}}function bs(m,y){m=ns(m);function L(){return m.includes("j")?sp(m,y):we.get(y)}var G=L();return typeof G!="function"&&Qt("unknown function pointer with signature "+m+": "+y),G}var Oa=void 0;function Fl(m){var y=Oe(m),L=ns(y);return gt(y),L}function Wo(m,y){var L=[],G={};function D(A){if(!G[A]&&!nr[A]){if(Kn[A]){Kn[A].forEach(D);return}L.push(A),G[A]=!0}}throw y.forEach(D),new Oa(m+": "+L.map(Fl).join([", "]))}function uc(m,y,L,G,D,A,Z,j,se,x,E,z,U){E=ns(E),A=bs(D,A),j&&(j=bs(Z,j)),x&&(x=bs(se,x)),U=bs(z,U);var B=Co(E);El(B,function(){Wo("Cannot construct "+E+" due to unbound types",[G])}),Zn([m,y,L],G?[G]:[],function(ie){ie=ie[0];var te,he;G?(te=ie.registeredClass,he=te.instancePrototype):he=dn.prototype;var le=Qr(B,function(){if(Object.getPrototypeOf(this)!==re)throw new qr("Use 'new' to construct "+E);if(pe.constructor_body===void 0)throw new qr(E+" has no accessible constructor");var st=pe.constructor_body[arguments.length];if(st===void 0)throw new qr("Tried to invoke ctor of "+E+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(pe.constructor_body).toString()+") parameters instead!");return st.apply(this,arguments)}),re=Object.create(he,{constructor:{value:le}});le.prototype=re;var pe=new Bu(E,le,re,U,te,A,j,x),ze=new Un(E,pe,!0,!1,!1),Ge=new Un(E+"*",pe,!1,!1,!1),ke=new Un(E+" const*",pe,!1,!0,!1);return lc[m]={pointerType:Ge,constPointerType:ke},Nl(B,le),[ze,Ge,ke]})}function Ys(m,y){for(var L=[],G=0;G<m;G++)L.push(h()[(y>>2)+G>>>0]);return L}function za(m,y,L,G,D,A){Lt(y>0);var Z=Ys(y,L);D=bs(G,D);var j=[A],se=[];Zn([],[m],function(x){x=x[0];var E="constructor "+x.name;if(x.registeredClass.constructor_body===void 0&&(x.registeredClass.constructor_body=[]),x.registeredClass.constructor_body[y-1]!==void 0)throw new qr("Cannot register multiple constructors with identical number of parameters ("+(y-1)+") for class '"+x.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return x.registeredClass.constructor_body[y-1]=function(){Wo("Cannot construct "+x.name+" due to unbound types",Z)},Zn([],Z,function(z){return x.registeredClass.constructor_body[y-1]=function(){arguments.length!==y-1&&Qt(E+" called with "+arguments.length+" arguments, expected "+(y-1)),se.length=0,j.length=y;for(var B=1;B<y;++B)j[B]=z[B].toWireType(se,arguments[B-1]);var ie=D.apply(null,j);return sr(se),z[0].fromWireType(ie)},[]}),[]})}function np(m,y){if(!(m instanceof Function))throw new TypeError("new_ called with constructor type "+typeof m+" which is not a function");var L=Qr(m.name||"unknownFunctionName",function(){});L.prototype=m.prototype;var G=new L,D=m.apply(G,y);return D instanceof Object?D:G}function Pl(m,y,L,G,D){var A=y.length;A<2&&Qt("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var Z=y[1]!==null&&L!==null,j=!1,se=1;se<y.length;++se)if(y[se]!==null&&y[se].destructorFunction===void 0){j=!0;break}for(var x=y[0].name!=="void",E="",z="",se=0;se<A-2;++se)E+=(se!==0?", ":"")+"arg"+se,z+=(se!==0?", ":"")+"arg"+se+"Wired";var U="return function "+Co(m)+"("+E+`) {
if (arguments.length !== `+(A-2)+`) {
throwBindingError('function `+m+" called with ' + arguments.length + ' arguments, expected "+(A-2)+` args!');
}
`;j&&(U+=`var destructors = [];
`);var B=j?"destructors":"null",ie=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],te=[Qt,G,D,sr,y[0],y[1]];Z&&(U+="var thisWired = classParam.toWireType("+B+`, this);
`);for(var se=0;se<A-2;++se)U+="var arg"+se+"Wired = argType"+se+".toWireType("+B+", arg"+se+"); // "+y[se+2].name+`
`,ie.push("argType"+se),te.push(y[se+2]);if(Z&&(z="thisWired"+(z.length>0?", ":"")+z),U+=(x?"var rv = ":"")+"invoker(fn"+(z.length>0?", ":"")+z+`);
`,j)U+=`runDestructors(destructors);
`;else for(var se=Z?1:2;se<y.length;++se){var he=se===1?"thisWired":"arg"+(se-2)+"Wired";y[se].destructorFunction!==null&&(U+=he+"_dtor("+he+"); // "+y[se].name+`
`,ie.push(he+"_dtor"),te.push(y[se].destructorFunction))}x&&(U+=`var ret = retType.fromWireType(rv);
return ret;
`),U+=`}
`,ie.push(U);var le=np(Function,ie).apply(null,te);return le}function rp(m,y,L,G,D,A,Z,j){var se=Ys(L,G);y=ns(y),A=bs(D,A),Zn([],[m],function(x){x=x[0];var E=x.name+"."+y;y.startsWith("@@")&&(y=Symbol[y.substring(2)]),j&&x.registeredClass.pureVirtualFunctions.push(y);function z(){Wo("Cannot call "+E+" due to unbound types",se)}var U=x.registeredClass.instancePrototype,B=U[y];return B===void 0||B.overloadTable===void 0&&B.className!==x.name&&B.argCount===L-2?(z.argCount=L-2,z.className=x.name,U[y]=z):(wa(U,y,E),U[y].overloadTable[L-2]=z),Zn([],se,function(ie){var te=Pl(E,ie,x,A,Z);return U[y].overloadTable===void 0?(te.argCount=L-2,U[y]=te):U[y].overloadTable[L-2]=te,[]}),[]})}var Wa=[],Ps=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function wl(m){m>4&&--Ps[m].refcount===0&&(Ps[m]=void 0,Wa.push(m))}function op(){for(var m=0,y=5;y<Ps.length;++y)Ps[y]!==void 0&&++m;return m}function Xl(){for(var m=5;m<Ps.length;++m)if(Ps[m]!==void 0)return Ps[m];return null}function Ya(){d.count_emval_handles=op,d.get_first_emval=Xl}function ks(m){switch(m){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var y=Wa.length?Wa.pop():Ps.length;return Ps[y]={refcount:1,value:m},y}}}function ap(m,y){y=ns(y),pn(m,{name:y,fromWireType:function(L){var G=Ps[L].value;return wl(L),G},toWireType:function(L,G){return ks(G)},argPackAdvance:8,readValueFromPointer:en,destructorFunction:null})}function lp(m,y,L){switch(y){case 0:return function(G){var D=L?r():o();return this.fromWireType(D[G>>>0])};case 1:return function(G){var D=L?a():l();return this.fromWireType(D[G>>>1])};case 2:return function(G){var D=L?h():c();return this.fromWireType(D[G>>>2])};default:throw new TypeError("Unknown integer type: "+m)}}function Dl(m,y,L,G){var D=Fa(L);y=ns(y);function A(){}A.values={},pn(m,{name:y,constructor:A,fromWireType:function(Z){return this.constructor.values[Z]},toWireType:function(Z,j){return j.value},argPackAdvance:8,readValueFromPointer:lp(y,D,G),destructorFunction:null}),El(y,A)}function ka(m,y){var L=nr[m];return L===void 0&&Qt(y+" has unknown type "+Fl(m)),L}function hp(m,y,L){var G=ka(m,"enum");y=ns(y);var D=G.constructor,A=Object.create(G.constructor.prototype,{value:{value:L},constructor:{value:Qr(G.name+"_"+y,function(){})}});D.values[L]=A,D[y]=A}function eo(m){if(m===null)return"null";var y=typeof m;return y==="object"||y==="array"||y==="function"?m.toString():""+m}function pc(m,y){switch(y){case 2:return function(L){return this.fromWireType(u()[L>>>2])};case 3:return function(L){return this.fromWireType(p()[L>>>3])};default:throw new TypeError("Unknown float type: "+m)}}function Yo(m,y,L){var G=Fa(L);y=ns(y),pn(m,{name:y,fromWireType:function(D){return D},toWireType:function(D,A){if(typeof A!="number"&&typeof A!="boolean")throw new TypeError('Cannot convert "'+eo(A)+'" to '+this.name);return A},argPackAdvance:8,readValueFromPointer:pc(y,G),destructorFunction:null})}function cp(m,y,L,G,D,A){var Z=Ys(y,L);m=ns(m),D=bs(G,D),El(m,function(){Wo("Cannot call "+m+" due to unbound types",Z)},y-1),Zn([],Z,function(j){var se=[j[0],null].concat(j.slice(1));return Nl(m,Pl(m,se,null,D,A),y-1),[]})}function Aa(m,y,L){switch(y){case 0:return L?function(D){return r()[D>>>0]}:function(D){return o()[D>>>0]};case 1:return L?function(D){return a()[D>>>1]}:function(D){return l()[D>>>1]};case 2:return L?function(D){return h()[D>>>2]}:function(D){return c()[D>>>2]};default:throw new TypeError("Unknown integer type: "+m)}}function up(m,y,L,G,D){y=ns(y),D===-1&&(D=4294967295);var A=Fa(L),Z=function(x){return x};if(G===0){var j=32-8*L;Z=function(x){return x<<j>>>j}}var se=y.includes("unsigned");pn(m,{name:y,fromWireType:Z,toWireType:function(x,E){if(typeof E!="number"&&typeof E!="boolean")throw new TypeError('Cannot convert "'+eo(E)+'" to '+this.name);if(E<G||E>D)throw new TypeError('Passing a number "'+eo(E)+'" from JS side to C/C++ side to an argument of type "'+y+'", which is outside the valid range ['+G+", "+D+"]!");return se?E>>>0:E|0},argPackAdvance:8,readValueFromPointer:Aa(y,A,G!==0),destructorFunction:null})}function pp(m,y,L){var G=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],D=G[y];function A(Z){Z=Z>>2;var j=c(),se=j[Z>>>0],x=j[Z+1>>>0];return new D(Ue,x,se)}L=ns(L),pn(m,{name:L,fromWireType:A,argPackAdvance:8,readValueFromPointer:A},{ignoreDuplicateRegistrations:!0})}function dc(m,y){y=ns(y);var L=y==="std::string";pn(m,{name:y,fromWireType:function(G){var D=c()[G>>>2],A;if(L)for(var Z=G+4,j=0;j<=D;++j){var se=G+4+j;if(j==D||o()[se>>>0]==0){var x=se-Z,E=et(Z,x);A===void 0?A=E:(A+=String.fromCharCode(0),A+=E),Z=se+1}}else{for(var z=new Array(D),j=0;j<D;++j)z[j]=String.fromCharCode(o()[G+4+j>>>0]);A=z.join("")}return gt(G),A},toWireType:function(G,D){D instanceof ArrayBuffer&&(D=new Uint8Array(D));var A,Z=typeof D=="string";Z||D instanceof Uint8Array||D instanceof Uint8ClampedArray||D instanceof Int8Array||Qt("Cannot pass non-string to std::string"),L&&Z?A=function(){return wi(D)}:A=function(){return D.length};var j=A(),se=Ht(4+j+1);if(se>>>=0,c()[se>>>2]=j,L&&Z)Wi(D,se+4,j+1);else if(Z)for(var x=0;x<j;++x){var E=D.charCodeAt(x);E>255&&(gt(se),Qt("String has UTF-16 code units that do not fit in 8 bits")),o()[se+4+x>>>0]=E}else for(var x=0;x<j;++x)o()[se+4+x>>>0]=D[x];return G!==null&&G.push(gt,se),se},argPackAdvance:8,readValueFromPointer:en,destructorFunction:function(G){gt(G)}})}function ko(m,y,L){L=ns(L);var G,D,A,Z,j;y===2?(G=Ti,D=gi,Z=Ws,A=function(){return l()},j=1):y===4&&(G=Es,D=$,Z=J,A=function(){return c()},j=2),pn(m,{name:L,fromWireType:function(se){for(var x=c()[se>>>2],E=A(),z,U=se+4,B=0;B<=x;++B){var ie=se+4+B*y;if(B==x||E[ie>>>j]==0){var te=ie-U,he=G(U,te);z===void 0?z=he:(z+=String.fromCharCode(0),z+=he),U=ie+y}}return gt(se),z},toWireType:function(se,x){typeof x!="string"&&Qt("Cannot pass non-string to C++ string type "+L);var E=Z(x),z=Ht(4+E+y);return z>>>=0,c()[z>>>2]=E>>j,D(x,z+4,E+y),se!==null&&se.push(gt,z),z},argPackAdvance:8,readValueFromPointer:en,destructorFunction:function(se){gt(se)}})}function dp(m,y,L,G,D,A){Ra[m]={name:ns(y),rawConstructor:bs(L,G),rawDestructor:bs(D,A),elements:[]}}function Ao(m,y,L,G,D,A,Z,j,se){Ra[m].elements.push({getterReturnType:y,getter:bs(L,G),getterContext:D,setterArgumentType:A,setter:bs(Z,j),setterContext:se})}function mp(m,y,L,G,D,A){Fo[m]={name:ns(y),rawConstructor:bs(L,G),rawDestructor:bs(D,A),fields:[]}}function mc(m,y,L,G,D,A,Z,j,se,x){Fo[m].fields.push({fieldName:ns(y),getterReturnType:L,getter:bs(G,D),getterContext:A,setterArgumentType:Z,setter:bs(j,se),setterContext:x})}function yc(m,y){y=ns(y),pn(m,{isVoid:!0,name:y,argPackAdvance:0,fromWireType:function(){},toWireType:function(L,G){}})}function yp(m,y){if(m==y)postMessage({cmd:"processQueuedMainThreadWork"});else if(O)postMessage({targetThread:m,cmd:"processThreadQueue"});else{var L=He.pthreads[m],G=L&&L.worker;if(!G)return;G.postMessage({cmd:"processThreadQueue"})}return 1}function Fn(m){return m||Qt("Cannot use deleted val. handle = "+m),Ps[m].value}function fp(m,y,L){m=Fn(m),y=ka(y,"emval::as");var G=[],D=ks(G);return h()[L>>>2]=D,y.toWireType(G,m)}function Tp(m,y){for(var L=new Array(m),G=0;G<m;++G)L[G]=ka(h()[(y>>2)+G>>>0],"parameter "+G);return L}function gp(m,y,L,G){m=Fn(m);for(var D=Tp(y,L),A=new Array(y),Z=0;Z<y;++Z){var j=D[Z];A[Z]=j.readValueFromPointer(G),G+=j.argPackAdvance}var se=m.apply(void 0,A);return ks(se)}var bp={};function Ko(m){var y=bp[m];return y===void 0?ns(m):y}function Ka(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function Za(m){return m===0?ks(Ka()):(m=Ko(m),ks(Ka()[m]))}function Ha(m,y){return m=Fn(m),y=Fn(y),ks(m[y])}function Ua(m){m>4&&(Ps[m].refcount+=1)}function Ip(m,y){return m=Fn(m),y=Fn(y),m instanceof y}function Lp(m){return m=Fn(m),typeof m=="number"}function fc(){return ks([])}function Zo(m){return ks(Ko(m))}function Ho(){return ks({})}function _a(m){var y=Ps[m].value;sr(y),wl(m)}function Tc(m,y,L){m=Fn(m),y=Fn(y),L=Fn(L),m[y]=L}function Uo(m,y){m=ka(m,"_emval_take_value");var L=m.readValueFromPointer(y);return ks(L)}function yn(){Le()}var Pn=[];function gc(m,y){Pn.length=0;var L;for(y>>=2;L=o()[m++>>>0];){var G=L<105;G&&y&1&&y++,Pn.push(G?p()[y++>>>1]:h()[y>>>0]),++y}return Pn}function mi(m,y,L){var G=gc(y,L);return Ri[m].apply(null,G)}function Vt(){w||P||be("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")}function hi(m,y){}function Ol(m,y,L){if(m<=0||m>r().length||m&!0)return-28;if(F){if(Atomics.load(h(),m>>2)!=y)return-6;for(var D=performance.now(),A=D+L,Z=Atomics.exchange(h(),Ba>>2,m);;){if(D=performance.now(),D>A)return Z=Atomics.exchange(h(),Ba>>2,0),-73;if(Z=Atomics.exchange(h(),Ba>>2,0),Z==0)break;if(ni(),Atomics.load(h(),m>>2)!=y)return-6;Z=Atomics.exchange(h(),Ba>>2,m)}return 0}else{var G=Atomics.wait(h(),m>>2,y,L);if(G==="timed-out")return-73;if(G==="not-equal")return-6;if(G==="ok")return 0;throw"Atomics.wait returned an unexpected value "+G}}function bc(m,y,L){o().copyWithin(m>>>0,y>>>0,y+L>>>0)}function tn(m,y){for(var L=arguments.length-2,G=ci(),D=L,A=Nc(D*8),Z=A>>3,j=0;j<L;j++){var se=arguments[2+j];p()[Z+j>>>0]=se}var x=sn(m,D,A,y);return ri(G),x}var zl=[];function Wl(m,y,L){zl.length=y;for(var G=L>>3,D=0;D<y;D++)zl[D]=p()[G+D>>>0];var A=m<0,Z=A?Ri[-m-1]:_e[m];return Z.apply(null,zl)}function As(m){try{return Me.grow(m-Ue.byteLength+65535>>>16),Kt(Me.buffer),1}catch{}}function Ic(m){var y=o().length;if(m=m>>>0,m<=y)return!1;var L=4294901760;if(m>L)return!1;for(var G=1;G<=4;G*=2){var D=y*(1+.2/G);D=Math.min(D,m+100663296);var A=Math.min(L,Je(Math.max(m,D),65536)),Z=As(A);if(Z)return!0}return!1}var At={inEventHandler:0,removeAllEventListeners:function(){for(var m=At.eventHandlers.length-1;m>=0;--m)At._removeHandler(m);At.eventHandlers=[],At.deferredCalls=[]},registerRemoveEventListeners:function(){At.removeEventListenersRegistered||(At.removeEventListenersRegistered=!0)},deferredCalls:[],deferCall:function(m,y,L){function G(Z,j){if(Z.length!=j.length)return!1;for(var se in Z)if(Z[se]!=j[se])return!1;return!0}for(var D in At.deferredCalls){var A=At.deferredCalls[D];if(A.targetFunction==m&&G(A.argsList,L))return}At.deferredCalls.push({targetFunction:m,precedence:y,argsList:L}),At.deferredCalls.sort(function(Z,j){return Z.precedence<j.precedence})},removeDeferredCalls:function(m){for(var y=0;y<At.deferredCalls.length;++y)At.deferredCalls[y].targetFunction==m&&(At.deferredCalls.splice(y,1),--y)},canPerformEventHandlerRequests:function(){return At.inEventHandler&&At.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(!!At.canPerformEventHandlerRequests())for(var m=0;m<At.deferredCalls.length;++m){var y=At.deferredCalls[m];At.deferredCalls.splice(m,1),--m,y.targetFunction.apply(null,y.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:function(m,y){for(var L=0;L<At.eventHandlers.length;++L)At.eventHandlers[L].target==m&&(!y||y==At.eventHandlers[L].eventTypeString)&&At._removeHandler(L--)},_removeHandler:function(m){var y=At.eventHandlers[m];y.target.removeEventListener(y.eventTypeString,y.eventListenerFunc,y.useCapture),At.eventHandlers.splice(m,1)},registerOrRemoveHandler:function(m){var y=function(D){++At.inEventHandler,At.currentEventHandler=m,At.runDeferredCalls(),m.handlerFunc(D),At.runDeferredCalls(),--At.inEventHandler};if(m.callbackfunc)m.eventListenerFunc=y,m.target.addEventListener(m.eventTypeString,y,m.useCapture),At.eventHandlers.push(m),At.registerRemoveEventListeners();else for(var L=0;L<At.eventHandlers.length;++L)At.eventHandlers[L].target==m.target&&At.eventHandlers[L].eventTypeString==m.eventTypeString&&At._removeHandler(L--)},queueEventHandlerOnThread_iiii:function(m,y,L,G,D){var A=ci(),Z=Nc(12);h()[Z>>>2]=L,h()[Z+4>>>2]=G,h()[Z+8>>>2]=D,fn(0,m,637534208,y,G,Z),ri(A)},getTargetThreadForEventCallback:function(m){switch(m){case 1:return 0;case 2:return He.currentProxiedOperationCallerThread;default:return m}},getNodeNameForTarget:function(m){return m?m==window?"#window":m==screen?"#screen":m&&m.nodeName?m.nodeName:"":""},fullscreenEnabled:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}};function Va(m){var y=wi(m)+1,L=Ht(y);return Wi(m,L,y),L}function Lc(m,y,L,G){var D=ci(),A=Nc(12),Z=0;y&&(Z=Va(y)),h()[A>>>2]=Z,h()[A+4>>>2]=L,h()[A+8>>>2]=G,fn(0,m,657457152,0,Z,A),ri(D)}function Sc(m,y,L,G){y=y?et(y):"",Lc(m,y,L,G)}function Sp(m){return m>2?et(m):m}var Mc=[0,typeof document<"u"?document:0,typeof window<"u"?window:0];function Yl(m){m=Sp(m);var y=Mc[m]||(typeof document<"u"?document.querySelector(m):void 0);return y}function kl(m){return Yl(m)}function Al(m,y,L){var G=kl(m);if(!G)return-4;if(G.canvasSharedPtr&&(h()[G.canvasSharedPtr>>>2]=y,h()[G.canvasSharedPtr+4>>>2]=L),G.offscreenCanvas||!G.controlTransferredOffscreen){G.offscreenCanvas&&(G=G.offscreenCanvas);var D=!1;if(G.GLctxObject&&G.GLctxObject.GLctx){var A=G.GLctxObject.GLctx.getParameter(2978);D=A[0]===0&&A[1]===0&&A[2]===G.width&&A[3]===G.height}G.width=y,G.height=L,D&&G.GLctxObject.GLctx.viewport(0,0,y,L)}else if(G.canvasSharedPtr){var Z=h()[G.canvasSharedPtr+8>>>2];return Sc(Z,m,y,L),1}else return-4;return 0}function Kl(m,y,L){return O?tn(5,1,m,y,L):Al(m,y,L)}function Mp(m,y,L){var G=kl(m);return G?Al(m,y,L):Kl(m,y,L)}function xp(m){}function vp(m){var y=m.getExtension("ANGLE_instanced_arrays");if(y)return m.vertexAttribDivisor=function(L,G){y.vertexAttribDivisorANGLE(L,G)},m.drawArraysInstanced=function(L,G,D,A){y.drawArraysInstancedANGLE(L,G,D,A)},m.drawElementsInstanced=function(L,G,D,A,Z){y.drawElementsInstancedANGLE(L,G,D,A,Z)},1}function Zl(m){var y=m.getExtension("OES_vertex_array_object");if(y)return m.createVertexArray=function(){return y.createVertexArrayOES()},m.deleteVertexArray=function(L){y.deleteVertexArrayOES(L)},m.bindVertexArray=function(L){y.bindVertexArrayOES(L)},m.isVertexArray=function(L){return y.isVertexArrayOES(L)},1}function to(m){var y=m.getExtension("WEBGL_draw_buffers");if(y)return m.drawBuffers=function(L,G){y.drawBuffersWEBGL(L,G)},1}function Gp(m){return!!(m.multiDrawWebgl=m.getExtension("WEBGL_multi_draw"))}var Ji={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],shaders:[],vaos:[],contexts:{},offscreenCanvases:{},queries:[],stringCache:{},unpackAlignment:4,recordError:function(y){Ji.lastError||(Ji.lastError=y)},getNewId:function(m){for(var y=Ji.counter++,L=m.length;L<y;L++)m[L]=null;return y},getSource:function(m,y,L,G){for(var D="",A=0;A<y;++A){var Z=G?h()[G+A*4>>>2]:-1;D+=et(h()[L+A*4>>>2],Z<0?void 0:Z)}return D},createContext:function(m,y){m.getContextSafariWebGL2Fixed||(m.getContextSafariWebGL2Fixed=m.getContext,m.getContext=function(D,A){var Z=m.getContextSafariWebGL2Fixed(D,A);return D=="webgl"==Z instanceof WebGLRenderingContext?Z:null});var L=m.getContext("webgl",y);if(!L)return 0;var G=Ji.registerContext(L,y);return G},registerContext:function(m,y){var L=Ht(8);h()[L+4>>>2]=Vl();var G={handle:L,attributes:y,version:y.majorVersion,GLctx:m};return m.canvas&&(m.canvas.GLctxObject=G),Ji.contexts[L]=G,(typeof y.enableExtensionsByDefault>"u"||y.enableExtensionsByDefault)&&Ji.initExtensions(G),L},makeContextCurrent:function(m){return Ji.currentContext=Ji.contexts[m],d.ctx=De=Ji.currentContext&&Ji.currentContext.GLctx,!(m&&!De)},getContext:function(m){return Ji.contexts[m]},deleteContext:function(m){Ji.currentContext===Ji.contexts[m]&&(Ji.currentContext=null),typeof At=="object"&&At.removeAllHandlersOnTarget(Ji.contexts[m].GLctx.canvas),Ji.contexts[m]&&Ji.contexts[m].GLctx.canvas&&(Ji.contexts[m].GLctx.canvas.GLctxObject=void 0),gt(Ji.contexts[m].handle),Ji.contexts[m]=null},initExtensions:function(m){if(m||(m=Ji.currentContext),!m.initExtensionsDone){m.initExtensionsDone=!0;var y=m.GLctx;vp(y),Zl(y),to(y),y.disjointTimerQueryExt=y.getExtension("EXT_disjoint_timer_query"),Gp(y);var L=y.getSupportedExtensions()||[];L.forEach(function(G){!G.includes("lose_context")&&!G.includes("debug")&&y.getExtension(G)})}}},Ep=["default","low-power","high-performance"];function xc(m,y){var L=y>>2,G=h()[L+6>>>0],D={alpha:!!h()[L+0>>>0],depth:!!h()[L+1>>>0],stencil:!!h()[L+2>>>0],antialias:!!h()[L+3>>>0],premultipliedAlpha:!!h()[L+4>>>0],preserveDrawingBuffer:!!h()[L+5>>>0],powerPreference:Ep[G],failIfMajorPerformanceCaveat:!!h()[L+7>>>0],majorVersion:h()[L+8>>>0],minorVersion:h()[L+9>>>0],enableExtensionsByDefault:h()[L+10>>>0],explicitSwapControl:h()[L+11>>>0],proxyContextToMainThread:h()[L+12>>>0],renderViaOffscreenBackBuffer:h()[L+13>>>0]},A=kl(m);if(!A||D.explicitSwapControl)return 0;var Z=Ji.createContext(A,D);return Z}function io(m,y){return xc(m,y)}var Hl={};function vc(){return C||"./this.program"}function _o(){if(!_o.strings){var m=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",y={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:m,_:vc()};for(var L in Hl)Hl[L]===void 0?delete y[L]:y[L]=Hl[L];var G=[];for(var L in y)G.push(L+"="+y[L]);_o.strings=G}return _o.strings}function Gc(m,y){if(O)return tn(6,1,m,y);try{var L=0;return _o().forEach(function(G,D){var A=y+L;h()[m+D*4>>>2]=A,Ze(G,A),L+=G.length+1}),0}catch(G){return(typeof k>"u"||!(G instanceof k.ErrnoError))&&Le(G),G.errno}}function Ec(m,y){if(O)return tn(7,1,m,y);try{var L=_o();h()[m>>>2]=L.length;var G=0;return L.forEach(function(D){G+=D.length+1}),h()[y>>>2]=G,0}catch(D){return(typeof k>"u"||!(D instanceof k.ErrnoError))&&Le(D),D.errno}}function Cc(m){if(O)return tn(8,1,m);try{var y=Hi.getStreamFromFD(m);return k.close(y),0}catch(L){return(typeof k>"u"||!(L instanceof k.ErrnoError))&&Le(L),L.errno}}function Vo(m,y,L,G){if(O)return tn(9,1,m,y,L,G);try{var D=Hi.getStreamFromFD(m),A=Hi.doReadv(D,y,L);return h()[G>>>2]=A,0}catch(Z){return(typeof k>"u"||!(Z instanceof k.ErrnoError))&&Le(Z),Z.errno}}function ja(m,y,L,G,D){if(O)return tn(10,1,m,y,L,G,D);try{var A=Hi.getStreamFromFD(m),Z=4294967296,j=L*Z+(y>>>0),se=9007199254740992;return j<=-se||j>=se?-61:(k.llseek(A,j,G),wt=[A.position>>>0,(yt=A.position,+Math.abs(yt)>=1?yt>0?(Math.min(+Math.floor(yt/4294967296),4294967295)|0)>>>0:~~+Math.ceil((yt-+(~~yt>>>0))/4294967296)>>>0:0)],h()[D>>>2]=wt[0],h()[D+4>>>2]=wt[1],A.getdents&&j===0&&G===0&&(A.getdents=null),0)}catch(x){return(typeof k>"u"||!(x instanceof k.ErrnoError))&&Le(x),x.errno}}function Rc(m,y,L,G){if(O)return tn(11,1,m,y,L,G);try{var D=Hi.getStreamFromFD(m),A=Hi.doWritev(D,y,L);return h()[G>>>2]=A,0}catch(Z){return(typeof k>"u"||!(Z instanceof k.ErrnoError))&&Le(Z),Z.errno}}function Ul(){return $e()}function Cp(m){return m}function _l(m){if(O)throw"Internal Error! spawnThread() can only ever be called from main application thread!";var y=He.getNewWorker();if(!y)return 6;if(y.pthread!==void 0)throw"Internal error!";if(!m.pthread_ptr)throw"Internal error, no pthread ptr!";He.runningWorkers.push(y);for(var L=Ht(128*4),G=0;G<128;++G)h()[L+G*4>>>2]=0;var D=m.stackBase+m.stackSize,A=He.pthreads[m.pthread_ptr]={worker:y,stackBase:m.stackBase,stackSize:m.stackSize,allocatedOwnStack:m.allocatedOwnStack,threadInfoStruct:m.pthread_ptr},Z=A.threadInfoStruct>>2;Atomics.store(c(),Z+16,m.detached),Atomics.store(c(),Z+25,L),Atomics.store(c(),Z+10,A.threadInfoStruct),Atomics.store(c(),Z+20,m.stackSize),Atomics.store(c(),Z+19,D),Atomics.store(c(),Z+26,m.stackSize),Atomics.store(c(),Z+28,D),Atomics.store(c(),Z+29,m.detached);var j=Gr(),se=j+40;Atomics.store(c(),Z+43,se),y.pthread=A;var x={cmd:"run",start_routine:m.startRoutine,arg:m.arg,threadInfoStruct:m.pthread_ptr,stackBase:m.stackBase,stackSize:m.stackSize};return y.runPthread=function(){x.time=performance.now(),y.postMessage(x,m.transferList)},y.loaded&&(y.runPthread(),delete y.runPthread),0}function f(m,y,L,G){if(typeof SharedArrayBuffer>"u")return xe("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;if(!m)return xe("pthread_create called with a null thread pointer!"),28;var D=[],A=0;if(O&&(D.length===0||A))return _t(687865856,m,y,L,G);var Z=0,j=0,se=0;y&&y!=-1?(Z=h()[y>>>2],Z+=81920,j=h()[y+8>>>2],se=h()[y+12>>>2]!==0):Z=2097152;var x=j==0;x?j=jl(16,Z):(j-=Z,Lt(j>0));for(var E=Ht(228),z=0;z<57;++z)c()[(E>>2)+z>>>0]=0;h()[m>>>2]=E,h()[E+12>>>2]=E;var U=E+152;h()[U>>>2]=U;var B={stackBase:j,stackSize:Z,allocatedOwnStack:x,detached:se,startRoutine:L,pthread_ptr:E,arg:G,transferList:D};return O?(B.cmd="spawnThread",postMessage(B,D),0):_l(B)}function b(m){Xe(m)}function M(m){return m%4===0&&(m%100!==0||m%400===0)}function R(m,y){for(var L=0,G=0;G<=y;L+=m[G++]);return L}var Y=[31,29,31,30,31,30,31,31,30,31,30,31],_=[31,28,31,30,31,30,31,31,30,31,30,31];function V(m,y){for(var L=new Date(m.getTime());y>0;){var G=M(L.getFullYear()),D=L.getMonth(),A=(G?Y:_)[D];if(y>A-L.getDate())y-=A-L.getDate()+1,L.setDate(1),D<11?L.setMonth(D+1):(L.setMonth(0),L.setFullYear(L.getFullYear()+1));else return L.setDate(L.getDate()+y),L}return L}function Q(m,y,L,G){var D=h()[G+40>>>2],A={tm_sec:h()[G>>>2],tm_min:h()[G+4>>>2],tm_hour:h()[G+8>>>2],tm_mday:h()[G+12>>>2],tm_mon:h()[G+16>>>2],tm_year:h()[G+20>>>2],tm_wday:h()[G+24>>>2],tm_yday:h()[G+28>>>2],tm_isdst:h()[G+32>>>2],tm_gmtoff:h()[G+36>>>2],tm_zone:D?et(D):""},Z=et(L),j={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var se in j)Z=Z.replace(new RegExp(se,"g"),j[se]);var x=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],E=["January","February","March","April","May","June","July","August","September","October","November","December"];function z(re,pe,ze){for(var Ge=typeof re=="number"?re.toString():re||"";Ge.length<pe;)Ge=ze[0]+Ge;return Ge}function U(re,pe){return z(re,pe,"0")}function B(re,pe){function ze(ke){return ke<0?-1:ke>0?1:0}var Ge;return(Ge=ze(re.getFullYear()-pe.getFullYear()))===0&&(Ge=ze(re.getMonth()-pe.getMonth()))===0&&(Ge=ze(re.getDate()-pe.getDate())),Ge}function ie(re){switch(re.getDay()){case 0:return new Date(re.getFullYear()-1,11,29);case 1:return re;case 2:return new Date(re.getFullYear(),0,3);case 3:return new Date(re.getFullYear(),0,2);case 4:return new Date(re.getFullYear(),0,1);case 5:return new Date(re.getFullYear()-1,11,31);case 6:return new Date(re.getFullYear()-1,11,30)}}function te(re){var pe=V(new Date(re.tm_year+1900,0,1),re.tm_yday),ze=new Date(pe.getFullYear(),0,4),Ge=new Date(pe.getFullYear()+1,0,4),ke=ie(ze),st=ie(Ge);return B(ke,pe)<=0?B(st,pe)<=0?pe.getFullYear()+1:pe.getFullYear():pe.getFullYear()-1}var he={"%a":function(re){return x[re.tm_wday].substring(0,3)},"%A":function(re){return x[re.tm_wday]},"%b":function(re){return E[re.tm_mon].substring(0,3)},"%B":function(re){return E[re.tm_mon]},"%C":function(re){var pe=re.tm_year+1900;return U(pe/100|0,2)},"%d":function(re){return U(re.tm_mday,2)},"%e":function(re){return z(re.tm_mday,2," ")},"%g":function(re){return te(re).toString().substring(2)},"%G":function(re){return te(re)},"%H":function(re){return U(re.tm_hour,2)},"%I":function(re){var pe=re.tm_hour;return pe==0?pe=12:pe>12&&(pe-=12),U(pe,2)},"%j":function(re){return U(re.tm_mday+R(M(re.tm_year+1900)?Y:_,re.tm_mon-1),3)},"%m":function(re){return U(re.tm_mon+1,2)},"%M":function(re){return U(re.tm_min,2)},"%n":function(){return`
`},"%p":function(re){return re.tm_hour>=0&&re.tm_hour<12?"AM":"PM"},"%S":function(re){return U(re.tm_sec,2)},"%t":function(){return"	"},"%u":function(re){return re.tm_wday||7},"%U":function(re){var pe=new Date(re.tm_year+1900,0,1),ze=pe.getDay()===0?pe:V(pe,7-pe.getDay()),Ge=new Date(re.tm_year+1900,re.tm_mon,re.tm_mday);if(B(ze,Ge)<0){var ke=R(M(Ge.getFullYear())?Y:_,Ge.getMonth()-1)-31,st=31-ze.getDate(),Xt=st+ke+Ge.getDate();return U(Math.ceil(Xt/7),2)}return B(ze,pe)===0?"01":"00"},"%V":function(re){var pe=new Date(re.tm_year+1900,0,4),ze=new Date(re.tm_year+1901,0,4),Ge=ie(pe),ke=ie(ze),st=V(new Date(re.tm_year+1900,0,1),re.tm_yday);if(B(st,Ge)<0)return"53";if(B(ke,st)<=0)return"01";var Xt;return Ge.getFullYear()<re.tm_year+1900?Xt=re.tm_yday+32-Ge.getDate():Xt=re.tm_yday+1-Ge.getDate(),U(Math.ceil(Xt/7),2)},"%w":function(re){return re.tm_wday},"%W":function(re){var pe=new Date(re.tm_year,0,1),ze=pe.getDay()===1?pe:V(pe,pe.getDay()===0?1:7-pe.getDay()+1),Ge=new Date(re.tm_year+1900,re.tm_mon,re.tm_mday);if(B(ze,Ge)<0){var ke=R(M(Ge.getFullYear())?Y:_,Ge.getMonth()-1)-31,st=31-ze.getDate(),Xt=st+ke+Ge.getDate();return U(Math.ceil(Xt/7),2)}return B(ze,pe)===0?"01":"00"},"%y":function(re){return(re.tm_year+1900).toString().substring(2)},"%Y":function(re){return re.tm_year+1900},"%z":function(re){var pe=re.tm_gmtoff,ze=pe>=0;return pe=Math.abs(pe)/60,pe=pe/60*100+pe%60,(ze?"+":"-")+String("0000"+pe).slice(-4)},"%Z":function(re){return re.tm_zone},"%%":function(){return"%"}};for(var se in he)Z.includes(se)&&(Z=Z.replace(new RegExp(se,"g"),he[se](A)));var le=it(Z,!1);return le.length>y?0:(Ne(le,m),le.length-1)}function ne(m,y,L,G){return Q(m,y,L,G)}O||He.initMainThreadBlock();var ye=function(m,y,L,G){m||(m=this),this.parent=m,this.mount=m.mount,this.mounted=null,this.id=k.nextInode++,this.name=y,this.mode=L,this.node_ops={},this.stream_ops={},this.rdev=G},Ce=365,We=146;Object.defineProperties(ye.prototype,{read:{get:function(){return(this.mode&Ce)===Ce},set:function(m){m?this.mode|=Ce:this.mode&=~Ce}},write:{get:function(){return(this.mode&We)===We},set:function(m){m?this.mode|=We:this.mode&=~We}},isFolder:{get:function(){return k.isDir(this.mode)}},isDevice:{get:function(){return k.isChrdev(this.mode)}}}),k.FSNode=ye,k.staticInit(),d.FS_createPath=k.createPath,d.FS_createDataFile=k.createDataFile,d.FS_createPreloadedFile=k.createPreloadedFile,d.FS_createLazyFile=k.createLazyFile,d.FS_createDevice=k.createDevice,d.FS_unlink=k.unlink,Nn=d.InternalError=Ro(Error,"InternalError"),Hu(),qr=d.BindingError=Ro(Error,"BindingError"),ac(),tp(),qu(),Oa=d.UnboundTypeError=Ro(Error,"UnboundTypeError"),Ya();var De,_e=[null,er,An,Ea,Ca,Kl,Gc,Ec,Cc,Vo,ja,Rc];function it(m,y,L){var G=L>0?L:wi(m)+1,D=new Array(G),A=Ut(m,D,0,D.length);return y&&(D.length=A),D}var Wt={z:kn,n:gs,v:Wu,y:xa,c:va,m:ir,C:Ma,ba:Yu,La:Ga,o:ku,ta:Au,i:ic,da:An,ua:Ea,va:Ca,Oa:Ml,Ra:Na,_a:Zu,Ja:Uu,O:uc,N:za,q:rp,Ia:ap,Ma:Dl,T:hp,ja:Yo,t:cp,B:up,x:pp,ka:dc,Y:ko,Pa:dp,Na:Ao,M:mp,Qa:mc,Ka:yc,Ca:yp,U:fp,la:gp,xa:wl,$a:Za,Ua:Ha,aa:Ua,pa:Ip,Xa:Lp,Wa:fc,Z:Zo,Va:Ho,Ta:_a,Sa:Tc,D:Uo,ia:yn,ca:xo,ga:mi,wa:Vt,fa:hi,K:Ol,J:qs,S:W,ra:bc,ya:Wl,sa:Ic,za:Mp,ea:xp,Aa:io,Ea:Gc,Fa:Ec,ha:Cc,Ha:Vo,Za:ja,Ga:Rc,b:Ul,qa:Yn,I:Lm,E:Nf,d:Sf,Q:Pf,j:Cf,k:Ff,R:Np,na:Of,G:Cr,A:Sm,_:Cm,P:Em,W:Fc,Ya:Nm,g:vf,f:Im,L:Gm,H:wf,h:Rf,s:Xf,e:Gf,l:Ef,$:Df,X:xm,F:os,w:Mm,r:vm,u:xf,p:Mf,V:Rm,oa:Cp,a:Me||d.wasmMemory,Ba:f,ma:b,Da:ne};di(),d.___wasm_call_ctors=function(){return(d.___wasm_call_ctors=d.asm.ab).apply(null,arguments)},d._main=function(){return(d._main=d.asm.bb).apply(null,arguments)};var Ht=d._malloc=function(){return(Ht=d._malloc=d.asm.cb).apply(null,arguments)},gt=d._free=function(){return(gt=d._free=d.asm.eb).apply(null,arguments)};d._emscripten_tls_init=function(){return(d._emscripten_tls_init=d.asm.fb).apply(null,arguments)};var Oe=d.___getTypeName=function(){return(Oe=d.___getTypeName=d.asm.gb).apply(null,arguments)};d.___embind_register_native_and_builtin_types=function(){return(d.___embind_register_native_and_builtin_types=d.asm.hb).apply(null,arguments)},d._emscripten_current_thread_process_queued_calls=function(){return(d._emscripten_current_thread_process_queued_calls=d.asm.ib).apply(null,arguments)};var qe=d._emscripten_register_main_browser_thread_id=function(){return(qe=d._emscripten_register_main_browser_thread_id=d.asm.jb).apply(null,arguments)},si=d.__emscripten_do_dispatch_to_thread=function(){return(si=d.__emscripten_do_dispatch_to_thread=d.asm.kb).apply(null,arguments)},_t=d._emscripten_sync_run_in_main_thread_4=function(){return(_t=d._emscripten_sync_run_in_main_thread_4=d.asm.lb).apply(null,arguments)},ni=d._emscripten_main_thread_process_queued_calls=function(){return(ni=d._emscripten_main_thread_process_queued_calls=d.asm.mb).apply(null,arguments)},sn=d._emscripten_run_in_main_runtime_thread_js=function(){return(sn=d._emscripten_run_in_main_runtime_thread_js=d.asm.nb).apply(null,arguments)},fn=d.__emscripten_call_on_thread=function(){return(fn=d.__emscripten_call_on_thread=d.asm.ob).apply(null,arguments)},Tn=d.__emscripten_thread_init=function(){return(Tn=d.__emscripten_thread_init=d.asm.pb).apply(null,arguments)},Gr=d._emscripten_get_global_libc=function(){return(Gr=d._emscripten_get_global_libc=d.asm.qb).apply(null,arguments)},Er=d.___errno_location=function(){return(Er=d.___errno_location=d.asm.rb).apply(null,arguments)},Vl=d._pthread_self=function(){return(Vl=d._pthread_self=d.asm.sb).apply(null,arguments)},ym=d.___pthread_tsd_run_dtors=function(){return(ym=d.___pthread_tsd_run_dtors=d.asm.tb).apply(null,arguments)},ci=d.stackSave=function(){return(ci=d.stackSave=d.asm.ub).apply(null,arguments)},ri=d.stackRestore=function(){return(ri=d.stackRestore=d.asm.vb).apply(null,arguments)},Nc=d.stackAlloc=function(){return(Nc=d.stackAlloc=d.asm.wb).apply(null,arguments)},fm=d._emscripten_stack_set_limits=function(){return(fm=d._emscripten_stack_set_limits=d.asm.xb).apply(null,arguments)},bi=d._setThrew=function(){return(bi=d._setThrew=d.asm.yb).apply(null,arguments)},Rp=d.___cxa_can_catch=function(){return(Rp=d.___cxa_can_catch=d.asm.zb).apply(null,arguments)},Tm=d.___cxa_is_pointer_type=function(){return(Tm=d.___cxa_is_pointer_type=d.asm.Ab).apply(null,arguments)},jl=d._memalign=function(){return(jl=d._memalign=d.asm.Bb).apply(null,arguments)};d.dynCall_jiji=function(){return(d.dynCall_jiji=d.asm.Cb).apply(null,arguments)};var gm=d.dynCall_j=function(){return(gm=d.dynCall_j=d.asm.Db).apply(null,arguments)};d.dynCall_viijii=function(){return(d.dynCall_viijii=d.asm.Eb).apply(null,arguments)},d.dynCall_iiiiij=function(){return(d.dynCall_iiiiij=d.asm.Fb).apply(null,arguments)},d.dynCall_iiiiijj=function(){return(d.dynCall_iiiiijj=d.asm.Gb).apply(null,arguments)},d.dynCall_iiiiiijj=function(){return(d.dynCall_iiiiiijj=d.asm.Hb).apply(null,arguments)};var bm=d.__emscripten_allow_main_runtime_queued_calls=56672,Ba=d.__emscripten_main_thread_futex=60132;function Sf(m,y){var L=ci();try{return we.get(m)(y)}catch(G){if(ri(L),G!==G+0&&G!=="longjmp")throw G;bi(1,0)}}function Mf(m,y,L,G,D,A,Z,j,se,x,E){var z=ci();try{we.get(m)(y,L,G,D,A,Z,j,se,x,E)}catch(U){if(ri(z),U!==U+0&&U!=="longjmp")throw U;bi(1,0)}}function Im(m,y){var L=ci();try{we.get(m)(y)}catch(G){if(ri(L),G!==G+0&&G!=="longjmp")throw G;bi(1,0)}}function xf(m,y,L,G,D,A,Z,j,se,x){var E=ci();try{we.get(m)(y,L,G,D,A,Z,j,se,x)}catch(z){if(ri(E),z!==z+0&&z!=="longjmp")throw z;bi(1,0)}}function vf(m){var y=ci();try{we.get(m)()}catch(L){if(ri(y),L!==L+0&&L!=="longjmp")throw L;bi(1,0)}}function Gf(m,y,L,G){var D=ci();try{we.get(m)(y,L,G)}catch(A){if(ri(D),A!==A+0&&A!=="longjmp")throw A;bi(1,0)}}function Ef(m,y,L,G,D){var A=ci();try{we.get(m)(y,L,G,D)}catch(Z){if(ri(A),Z!==Z+0&&Z!=="longjmp")throw Z;bi(1,0)}}function Cf(m,y,L){var G=ci();try{return we.get(m)(y,L)}catch(D){if(ri(G),D!==D+0&&D!=="longjmp")throw D;bi(1,0)}}function Rf(m,y,L){var G=ci();try{we.get(m)(y,L)}catch(D){if(ri(G),D!==D+0&&D!=="longjmp")throw D;bi(1,0)}}function Np(m,y,L,G,D){var A=ci();try{return we.get(m)(y,L,G,D)}catch(Z){if(ri(A),Z!==Z+0&&Z!=="longjmp")throw Z;bi(1,0)}}function Lm(m,y,L,G){var D=ci();try{return we.get(m)(y,L,G)}catch(A){if(ri(D),A!==A+0&&A!=="longjmp")throw A;bi(1,0)}}function Nf(m){var y=ci();try{return we.get(m)()}catch(L){if(ri(y),L!==L+0&&L!=="longjmp")throw L;bi(1,0)}}function Ff(m,y,L,G){var D=ci();try{return we.get(m)(y,L,G)}catch(A){if(ri(D),A!==A+0&&A!=="longjmp")throw A;bi(1,0)}}function Pf(m,y,L){var G=ci();try{return we.get(m)(y,L)}catch(D){if(ri(G),D!==D+0&&D!=="longjmp")throw D;bi(1,0)}}function Sm(m,y,L,G,D,A,Z){var j=ci();try{return we.get(m)(y,L,G,D,A,Z)}catch(se){if(ri(j),se!==se+0&&se!=="longjmp")throw se;bi(1,0)}}function Mm(m,y,L,G,D,A,Z){var j=ci();try{we.get(m)(y,L,G,D,A,Z)}catch(se){if(ri(j),se!==se+0&&se!=="longjmp")throw se;bi(1,0)}}function xm(m,y,L,G,D,A,Z,j){var se=ci();try{we.get(m)(y,L,G,D,A,Z,j)}catch(x){if(ri(se),x!==x+0&&x!=="longjmp")throw x;bi(1,0)}}function vm(m,y,L,G,D,A,Z,j){var se=ci();try{we.get(m)(y,L,G,D,A,Z,j)}catch(x){if(ri(se),x!==x+0&&x!=="longjmp")throw x;bi(1,0)}}function wf(m,y,L,G,D,A,Z){var j=ci();try{we.get(m)(y,L,G,D,A,Z)}catch(se){if(ri(j),se!==se+0&&se!=="longjmp")throw se;bi(1,0)}}function Gm(m,y,L,G,D){var A=ci();try{we.get(m)(y,L,G,D)}catch(Z){if(ri(A),Z!==Z+0&&Z!=="longjmp")throw Z;bi(1,0)}}function Cr(m,y,L,G,D,A){var Z=ci();try{return we.get(m)(y,L,G,D,A)}catch(j){if(ri(Z),j!==j+0&&j!=="longjmp")throw j;bi(1,0)}}function os(m,y,L,G,D,A){var Z=ci();try{we.get(m)(y,L,G,D,A)}catch(j){if(ri(Z),j!==j+0&&j!=="longjmp")throw j;bi(1,0)}}function Xf(m,y,L,G,D){var A=ci();try{we.get(m)(y,L,G,D)}catch(Z){if(ri(A),Z!==Z+0&&Z!=="longjmp")throw Z;bi(1,0)}}function Df(m,y,L,G,D,A){var Z=ci();try{we.get(m)(y,L,G,D,A)}catch(j){if(ri(Z),j!==j+0&&j!=="longjmp")throw j;bi(1,0)}}function Em(m,y,L,G,D,A,Z,j,se){var x=ci();try{return we.get(m)(y,L,G,D,A,Z,j,se)}catch(E){if(ri(x),E!==E+0&&E!=="longjmp")throw E;bi(1,0)}}function Cm(m,y,L,G,D,A,Z,j){var se=ci();try{return we.get(m)(y,L,G,D,A,Z,j)}catch(x){if(ri(se),x!==x+0&&x!=="longjmp")throw x;bi(1,0)}}function Fc(m,y,L,G,D,A,Z,j,se,x,E,z){var U=ci();try{return we.get(m)(y,L,G,D,A,Z,j,se,x,E,z)}catch(B){if(ri(U),B!==B+0&&B!=="longjmp")throw B;bi(1,0)}}function Rm(m,y,L,G,D,A,Z,j,se,x,E,z,U,B,ie,te){var he=ci();try{we.get(m)(y,L,G,D,A,Z,j,se,x,E,z,U,B,ie,te)}catch(le){if(ri(he),le!==le+0&&le!=="longjmp")throw le;bi(1,0)}}function Of(m,y,L,G,D,A){var Z=ci();try{return we.get(m)(y,L,G,D,A)}catch(j){if(ri(Z),j!==j+0&&j!=="longjmp")throw j;bi(1,0)}}function Nm(m){var y=ci();try{return gm(m)}catch(L){if(ri(y),L!==L+0&&L!=="longjmp")throw L;bi(1,0)}}d.addRunDependency=q,d.removeRunDependency=Te,d.FS_createPath=k.createPath,d.FS_createDataFile=k.createDataFile,d.FS_createPreloadedFile=k.createPreloadedFile,d.FS_createLazyFile=k.createLazyFile,d.FS_createDevice=k.createDevice,d.FS_unlink=k.unlink,d.keepRuntimeAlive=Ei,d.FS=k,d.PThread=He,d.PThread=He,d.wasmMemory=Me,d.ExitStatus=jo;var Pc;function jo(m){this.name="ExitStatus",this.message="Program terminated with exit("+m+")",this.status=m}$n=function m(){Pc||Fp(),Pc||($n=m)};function zf(m){var y=d._main,L=0,G=0;try{var D=y(L,G);Fm(D,!0)}catch(Z){if(Z instanceof jo||Z=="unwind")return;var A=Z;Z&&typeof Z=="object"&&Z.stack&&(A=[Z,Z.stack]),xe("exception thrown: "+A),N(1,Z)}finally{}}function Fp(m){if(En>0)return;if(O){T(d),Ci(),postMessage({cmd:"loaded"});return}if(Zi(),En>0)return;function y(){Pc||(Pc=!0,d.calledRun=!0,!St&&(Ci(),hn(),T(d),d.onRuntimeInitialized&&d.onRuntimeInitialized(),Pp&&zf(),Cs()))}d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),y()},1)):y()}d.run=Fp;function Fm(m,y){if(!y&&O)throw postMessage({cmd:"exitProcess",returnCode:m}),new jo(m);Ei()||(He.terminateAllThreads(),d.onExit&&d.onExit(m),St=!0),N(m,new jo(m))}if(d.preInit)for(typeof d.preInit=="function"&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();var Pp=!0;return d.noInitialRun&&(Pp=!1),O&&(Ct=!1,He.initWorker()),Fp(),n.ready}}();typeof e=="object"&&typeof i=="object"?i.exports=t:typeof define=="function"&&define.amd?define([],function(){return t}):typeof e=="object"&&(e.WebIFCWasm=t)}}),M_=Uy({"dist/web-ifc.js"(e,i){var t=function(){var s=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(s=s||__filename),function(n){n=n||{};var r=typeof n<"u"?n:{},o,a;r.ready=new Promise(function(f,b){o=f,a=b});var l={},h;for(h in r)r.hasOwnProperty(h)&&(l[h]=r[h]);var c="./this.program",u=function(f,b){throw b},p=typeof window=="object",d=typeof importScripts=="function",T=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",g="";function I(f){return r.locateFile?r.locateFile(f,g):g+f}var v,C,N,F,P;T?(d?g=Js("path").dirname(g)+"/":g=__dirname+"/",v=function(b,M){return F||(F=Js("fs")),P||(P=Js("path")),b=P.normalize(b),F.readFileSync(b,M?null:"utf8")},N=function(b){var M=v(b,!0);return M.buffer||(M=new Uint8Array(M)),Se(M.buffer),M},C=function(b,M,R){F||(F=Js("fs")),P||(P=Js("path")),b=P.normalize(b),F.readFile(b,function(Y,_){Y?R(Y):M(_.buffer)})},process.argv.length>1&&(c=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(f){if(!(f instanceof ja))throw f}),process.on("unhandledRejection",Ae),u=function(f,b){if(xt())throw process.exitCode=f,b;process.exit(f)},r.inspect=function(){return"[Emscripten Module object]"}):(p||d)&&(d?g=self.location.href:typeof document<"u"&&document.currentScript&&(g=document.currentScript.src),s&&(g=s),g.indexOf("blob:")!==0?g=g.substr(0,g.lastIndexOf("/")+1):g="",v=function(f){var b=new XMLHttpRequest;return b.open("GET",f,!1),b.send(null),b.responseText},d&&(N=function(f){var b=new XMLHttpRequest;return b.open("GET",f,!1),b.responseType="arraybuffer",b.send(null),new Uint8Array(b.response)}),C=function(f,b,M){var R=new XMLHttpRequest;R.open("GET",f,!0),R.responseType="arraybuffer",R.onload=function(){if(R.status==200||R.status==0&&R.response){b(R.response);return}M()},R.onerror=M,R.send(null)});var w=r.print||console.log.bind(console),O=r.printErr||console.warn.bind(console);for(h in l)l.hasOwnProperty(h)&&(r[h]=l[h]);l=null,r.arguments&&r.arguments,r.thisProgram&&(c=r.thisProgram),r.quit&&(u=r.quit);var X=0,K=function(f){X=f},ee=function(){return X},ce;r.wasmBinary&&(ce=r.wasmBinary);var me=r.noExitRuntime||!0;typeof WebAssembly!="object"&&Ae("no native wasm support detected");var ae,oe=!1;function Se(f,b){f||Ae("Assertion failed: "+b)}var Pe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function xe(f,b,M){b>>>=0;for(var R=b+M,Y=b;f[Y>>>0]&&!(Y>=R);)++Y;if(Y-b>16&&f.subarray&&Pe)return Pe.decode(f.subarray(b>>>0,Y>>>0));for(var _="";b<Y;){var V=f[b++>>>0];if(!(V&128)){_+=String.fromCharCode(V);continue}var Q=f[b++>>>0]&63;if((V&224)==192){_+=String.fromCharCode((V&31)<<6|Q);continue}var ne=f[b++>>>0]&63;if((V&240)==224?V=(V&15)<<12|Q<<6|ne:V=(V&7)<<18|Q<<12|ne<<6|f[b++>>>0]&63,V<65536)_+=String.fromCharCode(V);else{var ye=V-65536;_+=String.fromCharCode(55296|ye>>10,56320|ye&1023)}}return _}function Re(f,b){return f>>>=0,f?xe(Ut,f,b):""}function fe(f,b,M,R){if(M>>>=0,!(R>0))return 0;for(var Y=M,_=M+R-1,V=0;V<f.length;++V){var Q=f.charCodeAt(V);if(Q>=55296&&Q<=57343){var ne=f.charCodeAt(++V);Q=65536+((Q&1023)<<10)|ne&1023}if(Q<=127){if(M>=_)break;b[M++>>>0]=Q}else if(Q<=2047){if(M+1>=_)break;b[M++>>>0]=192|Q>>6,b[M++>>>0]=128|Q&63}else if(Q<=65535){if(M+2>=_)break;b[M++>>>0]=224|Q>>12,b[M++>>>0]=128|Q>>6&63,b[M++>>>0]=128|Q&63}else{if(M+3>=_)break;b[M++>>>0]=240|Q>>18,b[M++>>>0]=128|Q>>12&63,b[M++>>>0]=128|Q>>6&63,b[M++>>>0]=128|Q&63}}return b[M>>>0]=0,M-Y}function be(f,b,M){return fe(f,Ut,b,M)}function Be(f){for(var b=0,M=0;M<f.length;++M){var R=f.charCodeAt(M);R>=55296&&R<=57343&&(R=65536+((R&1023)<<10)|f.charCodeAt(++M)&1023),R<=127?++b:R<=2047?b+=2:R<=65535?b+=3:b+=4}return b}var Xe=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;function $e(f,b){for(var M=f,R=M>>1,Y=R+b/2;!(R>=Y)&&wi[R>>>0];)++R;if(M=R<<1,M-f>32&&Xe)return Xe.decode(Ut.subarray(f>>>0,M>>>0));for(var _="",V=0;!(V>=b/2);++V){var Q=Wi[f+V*2>>>1];if(Q==0)break;_+=String.fromCharCode(Q)}return _}function rt(f,b,M){if(M===void 0&&(M=2147483647),M<2)return 0;M-=2;for(var R=b,Y=M<f.length*2?M/2:f.length,_=0;_<Y;++_){var V=f.charCodeAt(_);Wi[b>>>1]=V,b+=2}return Wi[b>>>1]=0,b-R}function Ct(f){return f.length*2}function Me(f,b){for(var M=0,R="";!(M>=b/4);){var Y=Ve[f+M*4>>>2];if(Y==0)break;if(++M,Y>=65536){var _=Y-65536;R+=String.fromCharCode(55296|_>>10,56320|_&1023)}else R+=String.fromCharCode(Y)}return R}function pi(f,b,M){if(b>>>=0,M===void 0&&(M=2147483647),M<4)return 0;for(var R=b,Y=R+M-4,_=0;_<f.length;++_){var V=f.charCodeAt(_);if(V>=55296&&V<=57343){var Q=f.charCodeAt(++_);V=65536+((V&1023)<<10)|Q&1023}if(Ve[b>>>2]=V,b+=4,b+4>Y)break}return Ve[b>>>2]=0,b-R}function St(f){for(var b=0,M=0;M<f.length;++M){var R=f.charCodeAt(M);R>=55296&&R<=57343&&++M,b+=4}return b}function Lt(f,b){et.set(f,b>>>0)}function lt(f,b,M){for(var R=0;R<f.length;++R)et[b++>>>0]=f.charCodeAt(R);M||(et[b>>>0]=0)}function xi(f,b){return f%b>0&&(f+=b-f%b),f}var Mt,et,Ut,Wi,wi,Ve,Ti,gi,Ws;function Es(f){Mt=f,r.HEAP8=et=new Int8Array(f),r.HEAP16=Wi=new Int16Array(f),r.HEAP32=Ve=new Int32Array(f),r.HEAPU8=Ut=new Uint8Array(f),r.HEAPU16=wi=new Uint16Array(f),r.HEAPU32=Ti=new Uint32Array(f),r.HEAPF32=gi=new Float32Array(f),r.HEAPF64=Ws=new Float64Array(f)}r.INITIAL_MEMORY;var $,J=[],Ne=[],Ze=[],Je=[],Ue=0;function xt(){return me||Ue>0}function ve(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)at(r.preRun.shift());Sr(J)}function dt(){!r.noFSInit&&!W.init.initialized&&W.init(),W.ignorePermissions=!1,Sr(Ne)}function ot(){Sr(Ze)}function mt(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)ti(r.postRun.shift());Sr(Je)}function at(f){J.unshift(f)}function Pt(f){Ne.unshift(f)}function ti(f){Je.unshift(f)}var Kt=0,ue=null;function we(f){return f}function Ee(f){Kt++,r.monitorRunDependencies&&r.monitorRunDependencies(Kt)}function tt(f){if(Kt--,r.monitorRunDependencies&&r.monitorRunDependencies(Kt),Kt==0&&ue){var b=ue;ue=null,b()}}r.preloadedImages={},r.preloadedAudios={};function Ae(f){r.onAbort&&r.onAbort(f),f+="",O(f),oe=!0,f="abort("+f+"). Build with -s ASSERTIONS=1 for more info.";var b=new WebAssembly.RuntimeError(f);throw a(b),b}var jt="data:application/octet-stream;base64,";function $i(f){return f.startsWith(jt)}function Ei(f){return f.startsWith("file://")}var Zi;Zi="web-ifc.wasm",$i(Zi)||(Zi=I(Zi));function Ci(f){try{if(f==Zi&&ce)return new Uint8Array(ce);if(N)return N(f);throw"both async and sync fetching of the wasm failed"}catch(b){Ae(b)}}function hn(){if(!ce&&(p||d)){if(typeof fetch=="function"&&!Ei(Zi))return fetch(Zi,{credentials:"same-origin"}).then(function(f){if(!f.ok)throw"failed to load wasm binary file at '"+Zi+"'";return f.arrayBuffer()}).catch(function(){return Ci(Zi)});if(C)return new Promise(function(f,b){C(Zi,function(M){f(new Uint8Array(M))},b)})}return Promise.resolve().then(function(){return Ci(Zi)})}function Cs(){var f={a:Tc};function b(V,Q){var ne=V.exports;r.asm=ne,ae=r.asm.Na,Es(ae.buffer),$=r.asm.Ra,Pt(r.asm.Oa),tt()}Ee();function M(V){b(V.instance)}function R(V){return hn().then(function(Q){var ne=WebAssembly.instantiate(Q,f);return ne}).then(V,function(Q){O("failed to asynchronously prepare wasm: "+Q),Ae(Q)})}function Y(){return!ce&&typeof WebAssembly.instantiateStreaming=="function"&&!$i(Zi)&&!Ei(Zi)&&typeof fetch=="function"?fetch(Zi,{credentials:"same-origin"}).then(function(V){var Q=WebAssembly.instantiateStreaming(V,f);return Q.then(M,function(ne){return O("wasm streaming compile failed: "+ne),O("falling back to ArrayBuffer instantiation"),R(M)})}):R(M)}if(r.instantiateWasm)try{var _=r.instantiateWasm(f,b);return _}catch(V){return O("Module.instantiateWasm callback failed with error: "+V),!1}return Y().catch(a),{}}var is,Rs;function Sr(f){for(;f.length>0;){var b=f.shift();if(typeof b=="function"){b(r);continue}var M=b.func;typeof M=="number"?b.arg===void 0?$.get(M)():$.get(M)(b.arg):M(b.arg===void 0?null:b.arg)}}function En(f,b,M,R){Ae("Assertion failed: "+Re(f)+", at: "+[b?Re(b):"unknown filename",M,R?Re(R):"unknown function"])}function $n(f){return Uo(f+16)+16}function jr(f){this.excPtr=f,this.ptr=f-16,this.set_type=function(b){Ve[this.ptr+4>>>2]=b},this.get_type=function(){return Ve[this.ptr+4>>>2]},this.set_destructor=function(b){Ve[this.ptr+8>>>2]=b},this.get_destructor=function(){return Ve[this.ptr+8>>>2]},this.set_refcount=function(b){Ve[this.ptr>>>2]=b},this.set_caught=function(b){b=b?1:0,et[this.ptr+12>>>0]=b},this.get_caught=function(){return et[this.ptr+12>>>0]!=0},this.set_rethrown=function(b){b=b?1:0,et[this.ptr+13>>>0]=b},this.get_rethrown=function(){return et[this.ptr+13>>>0]!=0},this.init=function(b,M){this.set_type(b),this.set_destructor(M),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var b=Ve[this.ptr>>>2];Ve[this.ptr>>>2]=b+1},this.release_ref=function(){var b=Ve[this.ptr>>>2];return Ve[this.ptr>>>2]=b-1,b===1}}function q(f){this.free=function(){yn(this.ptr),this.ptr=0},this.set_base_ptr=function(b){Ve[this.ptr>>>2]=b},this.get_base_ptr=function(){return Ve[this.ptr>>>2]},this.set_adjusted_ptr=function(b){Ve[this.ptr+4>>>2]=b},this.get_adjusted_ptr_addr=function(){return this.ptr+4},this.get_adjusted_ptr=function(){return Ve[this.ptr+4>>>2]},this.get_exception_ptr=function(){var b=bc(this.get_exception_info().get_type());if(b)return Ve[this.get_base_ptr()>>>2];var M=this.get_adjusted_ptr();return M!==0?M:this.get_base_ptr()},this.get_exception_info=function(){return new jr(this.get_base_ptr())},f===void 0?(this.ptr=Uo(8),this.set_adjusted_ptr(0)):this.ptr=f}var Te=[];function Le(f){f.add_ref()}var de=0;function Fe(f){var b=new q(f),M=b.get_exception_info();return M.get_caught()||(M.set_caught(!0),de--),M.set_rethrown(!1),Te.push(b),Le(M),b.get_exception_ptr()}var ct=0;function ut(f){return yn(new jr(f).ptr)}function zt(f){if(f.release_ref()&&!f.get_rethrown()){var b=f.get_destructor();b&&$.get(b)(f.excPtr),ut(f.excPtr)}}function Rt(){hi(0);var f=Te.pop();zt(f.get_exception_info()),f.free(),ct=0}function di(f){var b=new q(f),M=b.get_base_ptr();throw ct||(ct=M),b.free(),M}function yt(){var f=ct;if(!f)return K(0),0;var b=new jr(f),M=b.get_type(),R=new q;if(R.set_base_ptr(f),R.set_adjusted_ptr(f),!M)return K(0),R.ptr|0;for(var Y=Array.prototype.slice.call(arguments),_=0;_<Y.length;_++){var V=Y[_];if(V===0||V===M)break;if(Ol(V,M,R.get_adjusted_ptr_addr()))return K(V),R.ptr|0}return K(M),R.ptr|0}function wt(){var f=ct;if(!f)return K(0),0;var b=new jr(f),M=b.get_type(),R=new q;if(R.set_base_ptr(f),R.set_adjusted_ptr(f),!M)return K(0),R.ptr|0;for(var Y=Array.prototype.slice.call(arguments),_=0;_<Y.length;_++){var V=Y[_];if(V===0||V===M)break;if(Ol(V,M,R.get_adjusted_ptr_addr()))return K(V),R.ptr|0}return K(M),R.ptr|0}function Ri(){var f=Te.pop();f||Ae("no exception to throw");var b=f.get_exception_info(),M=f.get_base_ptr();throw b.get_rethrown()?f.free():(Te.push(f),b.set_rethrown(!0),b.set_caught(!1),de++),ct=M,M}function Yn(f,b,M){var R=new jr(f);throw R.init(b,M),ct=f,de++,f}function cn(){return de}function qs(f){return Ve[gc()>>>2]=f,f}var Dt={splitPath:function(f){var b=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return b.exec(f).slice(1)},normalizeArray:function(f,b){for(var M=0,R=f.length-1;R>=0;R--){var Y=f[R];Y==="."?f.splice(R,1):Y===".."?(f.splice(R,1),M++):M&&(f.splice(R,1),M--)}if(b)for(;M;M--)f.unshift("..");return f},normalize:function(f){var b=f.charAt(0)==="/",M=f.substr(-1)==="/";return f=Dt.normalizeArray(f.split("/").filter(function(R){return!!R}),!b).join("/"),!f&&!b&&(f="."),f&&M&&(f+="/"),(b?"/":"")+f},dirname:function(f){var b=Dt.splitPath(f),M=b[0],R=b[1];return!M&&!R?".":(R&&(R=R.substr(0,R.length-1)),M+R)},basename:function(f){if(f==="/")return"/";f=Dt.normalize(f),f=f.replace(/\/$/,"");var b=f.lastIndexOf("/");return b===-1?f:f.substr(b+1)},extname:function(f){return Dt.splitPath(f)[3]},join:function(){var f=Array.prototype.slice.call(arguments,0);return Dt.normalize(f.join("/"))},join2:function(f,b){return Dt.normalize(f+"/"+b)}};function li(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var f=new Uint8Array(1);return function(){return crypto.getRandomValues(f),f[0]}}else if(T)try{var b=Y1();return function(){return b.randomBytes(1)[0]}}catch{}return function(){Ae("randomDevice")}}var ps={resolve:function(){for(var f="",b=!1,M=arguments.length-1;M>=-1&&!b;M--){var R=M>=0?arguments[M]:W.cwd();if(typeof R!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!R)return"";f=R+"/"+f,b=R.charAt(0)==="/"}return f=Dt.normalizeArray(f.split("/").filter(function(Y){return!!Y}),!b).join("/"),(b?"/":"")+f||"."},relative:function(f,b){f=ps.resolve(f).substr(1),b=ps.resolve(b).substr(1);function M(ye){for(var Ce=0;Ce<ye.length&&ye[Ce]==="";Ce++);for(var We=ye.length-1;We>=0&&ye[We]==="";We--);return Ce>We?[]:ye.slice(Ce,We-Ce+1)}for(var R=M(f.split("/")),Y=M(b.split("/")),_=Math.min(R.length,Y.length),V=_,Q=0;Q<_;Q++)if(R[Q]!==Y[Q]){V=Q;break}for(var ne=[],Q=V;Q<R.length;Q++)ne.push("..");return ne=ne.concat(Y.slice(V)),ne.join("/")}},He={ttys:[],init:function(){},shutdown:function(){},register:function(f,b){He.ttys[f]={input:[],output:[],ops:b},W.registerDevice(f,He.stream_ops)},stream_ops:{open:function(f){var b=He.ttys[f.node.rdev];if(!b)throw new W.ErrnoError(43);f.tty=b,f.seekable=!1},close:function(f){f.tty.ops.flush(f.tty)},flush:function(f){f.tty.ops.flush(f.tty)},read:function(f,b,M,R,Y){if(!f.tty||!f.tty.ops.get_char)throw new W.ErrnoError(60);for(var _=0,V=0;V<R;V++){var Q;try{Q=f.tty.ops.get_char(f.tty)}catch{throw new W.ErrnoError(29)}if(Q===void 0&&_===0)throw new W.ErrnoError(6);if(Q==null)break;_++,b[M+V]=Q}return _&&(f.node.timestamp=Date.now()),_},write:function(f,b,M,R,Y){if(!f.tty||!f.tty.ops.put_char)throw new W.ErrnoError(60);try{for(var _=0;_<R;_++)f.tty.ops.put_char(f.tty,b[M+_])}catch{throw new W.ErrnoError(29)}return R&&(f.node.timestamp=Date.now()),_}},default_tty_ops:{get_char:function(f){if(!f.input.length){var b=null;if(T){var M=256,R=Buffer.alloc(M),Y=0;try{Y=F.readSync(process.stdin.fd,R,0,M,null)}catch(_){if(_.toString().includes("EOF"))Y=0;else throw _}Y>0?b=R.slice(0,Y).toString("utf-8"):b=null}else typeof window<"u"&&typeof window.prompt=="function"?(b=window.prompt("Input: "),b!==null&&(b+=`
`)):typeof readline=="function"&&(b=readline(),b!==null&&(b+=`
`));if(!b)return null;f.input=_a(b,!0)}return f.input.shift()},put_char:function(f,b){b===null||b===10?(w(xe(f.output,0)),f.output=[]):b!=0&&f.output.push(b)},flush:function(f){f.output&&f.output.length>0&&(w(xe(f.output,0)),f.output=[])}},default_tty1_ops:{put_char:function(f,b){b===null||b===10?(O(xe(f.output,0)),f.output=[]):b!=0&&f.output.push(b)},flush:function(f){f.output&&f.output.length>0&&(O(xe(f.output,0)),f.output=[])}}};function Ns(f){Ae()}var Tt={ops_table:null,mount:function(f){return Tt.createNode(null,"/",16895,0)},createNode:function(f,b,M,R){if(W.isBlkdev(M)||W.isFIFO(M))throw new W.ErrnoError(63);Tt.ops_table||(Tt.ops_table={dir:{node:{getattr:Tt.node_ops.getattr,setattr:Tt.node_ops.setattr,lookup:Tt.node_ops.lookup,mknod:Tt.node_ops.mknod,rename:Tt.node_ops.rename,unlink:Tt.node_ops.unlink,rmdir:Tt.node_ops.rmdir,readdir:Tt.node_ops.readdir,symlink:Tt.node_ops.symlink},stream:{llseek:Tt.stream_ops.llseek}},file:{node:{getattr:Tt.node_ops.getattr,setattr:Tt.node_ops.setattr},stream:{llseek:Tt.stream_ops.llseek,read:Tt.stream_ops.read,write:Tt.stream_ops.write,allocate:Tt.stream_ops.allocate,mmap:Tt.stream_ops.mmap,msync:Tt.stream_ops.msync}},link:{node:{getattr:Tt.node_ops.getattr,setattr:Tt.node_ops.setattr,readlink:Tt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Tt.node_ops.getattr,setattr:Tt.node_ops.setattr},stream:W.chrdev_stream_ops}});var Y=W.createNode(f,b,M,R);return W.isDir(Y.mode)?(Y.node_ops=Tt.ops_table.dir.node,Y.stream_ops=Tt.ops_table.dir.stream,Y.contents={}):W.isFile(Y.mode)?(Y.node_ops=Tt.ops_table.file.node,Y.stream_ops=Tt.ops_table.file.stream,Y.usedBytes=0,Y.contents=null):W.isLink(Y.mode)?(Y.node_ops=Tt.ops_table.link.node,Y.stream_ops=Tt.ops_table.link.stream):W.isChrdev(Y.mode)&&(Y.node_ops=Tt.ops_table.chrdev.node,Y.stream_ops=Tt.ops_table.chrdev.stream),Y.timestamp=Date.now(),f&&(f.contents[b]=Y,f.timestamp=Y.timestamp),Y},getFileDataAsTypedArray:function(f){return f.contents?f.contents.subarray?f.contents.subarray(0,f.usedBytes):new Uint8Array(f.contents):new Uint8Array(0)},expandFileStorage:function(f,b){b>>>=0;var M=f.contents?f.contents.length:0;if(!(M>=b)){var R=1024*1024;b=Math.max(b,M*(M<R?2:1.125)>>>0),M!=0&&(b=Math.max(b,256));var Y=f.contents;f.contents=new Uint8Array(b),f.usedBytes>0&&f.contents.set(Y.subarray(0,f.usedBytes),0)}},resizeFileStorage:function(f,b){if(b>>>=0,f.usedBytes!=b)if(b==0)f.contents=null,f.usedBytes=0;else{var M=f.contents;f.contents=new Uint8Array(b),M&&f.contents.set(M.subarray(0,Math.min(b,f.usedBytes))),f.usedBytes=b}},node_ops:{getattr:function(f){var b={};return b.dev=W.isChrdev(f.mode)?f.id:1,b.ino=f.id,b.mode=f.mode,b.nlink=1,b.uid=0,b.gid=0,b.rdev=f.rdev,W.isDir(f.mode)?b.size=4096:W.isFile(f.mode)?b.size=f.usedBytes:W.isLink(f.mode)?b.size=f.link.length:b.size=0,b.atime=new Date(f.timestamp),b.mtime=new Date(f.timestamp),b.ctime=new Date(f.timestamp),b.blksize=4096,b.blocks=Math.ceil(b.size/b.blksize),b},setattr:function(f,b){b.mode!==void 0&&(f.mode=b.mode),b.timestamp!==void 0&&(f.timestamp=b.timestamp),b.size!==void 0&&Tt.resizeFileStorage(f,b.size)},lookup:function(f,b){throw W.genericErrors[44]},mknod:function(f,b,M,R){return Tt.createNode(f,b,M,R)},rename:function(f,b,M){if(W.isDir(f.mode)){var R;try{R=W.lookupNode(b,M)}catch{}if(R)for(var Y in R.contents)throw new W.ErrnoError(55)}delete f.parent.contents[f.name],f.parent.timestamp=Date.now(),f.name=M,b.contents[M]=f,b.timestamp=f.parent.timestamp,f.parent=b},unlink:function(f,b){delete f.contents[b],f.timestamp=Date.now()},rmdir:function(f,b){var M=W.lookupNode(f,b);for(var R in M.contents)throw new W.ErrnoError(55);delete f.contents[b],f.timestamp=Date.now()},readdir:function(f){var b=[".",".."];for(var M in f.contents)!f.contents.hasOwnProperty(M)||b.push(M);return b},symlink:function(f,b,M){var R=Tt.createNode(f,b,41471,0);return R.link=M,R},readlink:function(f){if(!W.isLink(f.mode))throw new W.ErrnoError(28);return f.link}},stream_ops:{read:function(f,b,M,R,Y){var _=f.node.contents;if(Y>=f.node.usedBytes)return 0;var V=Math.min(f.node.usedBytes-Y,R);if(V>8&&_.subarray)b.set(_.subarray(Y,Y+V),M);else for(var Q=0;Q<V;Q++)b[M+Q]=_[Y+Q];return V},write:function(f,b,M,R,Y,_){if(b.buffer===et.buffer&&(_=!1),!R)return 0;var V=f.node;if(V.timestamp=Date.now(),b.subarray&&(!V.contents||V.contents.subarray)){if(_)return V.contents=b.subarray(M,M+R),V.usedBytes=R,R;if(V.usedBytes===0&&Y===0)return V.contents=b.slice(M,M+R),V.usedBytes=R,R;if(Y+R<=V.usedBytes)return V.contents.set(b.subarray(M,M+R),Y),R}if(Tt.expandFileStorage(V,Y+R),V.contents.subarray&&b.subarray)V.contents.set(b.subarray(M,M+R),Y);else for(var Q=0;Q<R;Q++)V.contents[Y+Q]=b[M+Q];return V.usedBytes=Math.max(V.usedBytes,Y+R),R},llseek:function(f,b,M){var R=b;if(M===1?R+=f.position:M===2&&W.isFile(f.node.mode)&&(R+=f.node.usedBytes),R<0)throw new W.ErrnoError(28);return R},allocate:function(f,b,M){Tt.expandFileStorage(f.node,b+M),f.node.usedBytes=Math.max(f.node.usedBytes,b+M)},mmap:function(f,b,M,R,Y,_){if(b!==0)throw new W.ErrnoError(28);if(!W.isFile(f.node.mode))throw new W.ErrnoError(43);var V,Q,ne=f.node.contents;if(!(_&2)&&ne.buffer===Mt)Q=!1,V=ne.byteOffset;else{if((R>0||R+M<ne.length)&&(ne.subarray?ne=ne.subarray(R,R+M):ne=Array.prototype.slice.call(ne,R,R+M)),Q=!0,V=Ns(),!V)throw new W.ErrnoError(48);V>>>=0,et.set(ne,V>>>0)}return{ptr:V,allocated:Q}},msync:function(f,b,M,R,Y){if(!W.isFile(f.node.mode))throw new W.ErrnoError(43);return Y&2||Tt.stream_ops.write(f,b,0,R,M,!1),0}}};function kn(f,b,M,R){var Y=R?"":"al "+f;C(f,function(_){Se(_,'Loading data file "'+f+'" failed (no arrayBuffer).'),b(new Uint8Array(_)),Y&&tt()},function(_){if(M)M();else throw'Loading data file "'+f+'" failed.'}),Y&&Ee()}var W={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(f,b){if(f=ps.resolve(W.cwd(),f),b=b||{},!f)return{path:"",node:null};var M={follow_mount:!0,recurse_count:0};for(var R in M)b[R]===void 0&&(b[R]=M[R]);if(b.recurse_count>8)throw new W.ErrnoError(32);for(var Y=Dt.normalizeArray(f.split("/").filter(function(De){return!!De}),!1),_=W.root,V="/",Q=0;Q<Y.length;Q++){var ne=Q===Y.length-1;if(ne&&b.parent)break;if(_=W.lookupNode(_,Y[Q]),V=Dt.join2(V,Y[Q]),W.isMountpoint(_)&&(!ne||ne&&b.follow_mount)&&(_=_.mounted.root),!ne||b.follow)for(var ye=0;W.isLink(_.mode);){var Ce=W.readlink(V);V=ps.resolve(Dt.dirname(V),Ce);var We=W.lookupPath(V,{recurse_count:b.recurse_count});if(_=We.node,ye++>40)throw new W.ErrnoError(32)}}return{path:V,node:_}},getPath:function(f){for(var b;;){if(W.isRoot(f)){var M=f.mount.mountpoint;return b?M[M.length-1]!=="/"?M+"/"+b:M+b:M}b=b?f.name+"/"+b:f.name,f=f.parent}},hashName:function(f,b){for(var M=0,R=0;R<b.length;R++)M=(M<<5)-M+b.charCodeAt(R)|0;return(f+M>>>0)%W.nameTable.length},hashAddNode:function(f){var b=W.hashName(f.parent.id,f.name);f.name_next=W.nameTable[b],W.nameTable[b]=f},hashRemoveNode:function(f){var b=W.hashName(f.parent.id,f.name);if(W.nameTable[b]===f)W.nameTable[b]=f.name_next;else for(var M=W.nameTable[b];M;){if(M.name_next===f){M.name_next=f.name_next;break}M=M.name_next}},lookupNode:function(f,b){var M=W.mayLookup(f);if(M)throw new W.ErrnoError(M,f);for(var R=W.hashName(f.id,b),Y=W.nameTable[R];Y;Y=Y.name_next){var _=Y.name;if(Y.parent.id===f.id&&_===b)return Y}return W.lookup(f,b)},createNode:function(f,b,M,R){var Y=new W.FSNode(f,b,M,R);return W.hashAddNode(Y),Y},destroyNode:function(f){W.hashRemoveNode(f)},isRoot:function(f){return f===f.parent},isMountpoint:function(f){return!!f.mounted},isFile:function(f){return(f&61440)===32768},isDir:function(f){return(f&61440)===16384},isLink:function(f){return(f&61440)===40960},isChrdev:function(f){return(f&61440)===8192},isBlkdev:function(f){return(f&61440)===24576},isFIFO:function(f){return(f&61440)===4096},isSocket:function(f){return(f&49152)===49152},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(f){var b=W.flagModes[f];if(typeof b>"u")throw new Error("Unknown file open mode: "+f);return b},flagsToPermissionString:function(f){var b=["r","w","rw"][f&3];return f&512&&(b+="w"),b},nodePermissions:function(f,b){return W.ignorePermissions?0:b.includes("r")&&!(f.mode&292)||b.includes("w")&&!(f.mode&146)||b.includes("x")&&!(f.mode&73)?2:0},mayLookup:function(f){var b=W.nodePermissions(f,"x");return b||(f.node_ops.lookup?0:2)},mayCreate:function(f,b){try{var M=W.lookupNode(f,b);return 20}catch{}return W.nodePermissions(f,"wx")},mayDelete:function(f,b,M){var R;try{R=W.lookupNode(f,b)}catch(_){return _.errno}var Y=W.nodePermissions(f,"wx");if(Y)return Y;if(M){if(!W.isDir(R.mode))return 54;if(W.isRoot(R)||W.getPath(R)===W.cwd())return 10}else if(W.isDir(R.mode))return 31;return 0},mayOpen:function(f,b){return f?W.isLink(f.mode)?32:W.isDir(f.mode)&&(W.flagsToPermissionString(b)!=="r"||b&512)?31:W.nodePermissions(f,W.flagsToPermissionString(b)):44},MAX_OPEN_FDS:4096,nextfd:function(f,b){f=f||0,b=b||W.MAX_OPEN_FDS;for(var M=f;M<=b;M++)if(!W.streams[M])return M;throw new W.ErrnoError(33)},getStream:function(f){return W.streams[f]},createStream:function(f,b,M){W.FSStream||(W.FSStream=function(){},W.FSStream.prototype={object:{get:function(){return this.node},set:function(V){this.node=V}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}}});var R=new W.FSStream;for(var Y in f)R[Y]=f[Y];f=R;var _=W.nextfd(b,M);return f.fd=_,W.streams[_]=f,f},closeStream:function(f){W.streams[f]=null},chrdev_stream_ops:{open:function(f){var b=W.getDevice(f.node.rdev);f.stream_ops=b.stream_ops,f.stream_ops.open&&f.stream_ops.open(f)},llseek:function(){throw new W.ErrnoError(70)}},major:function(f){return f>>8},minor:function(f){return f&255},makedev:function(f,b){return f<<8|b},registerDevice:function(f,b){W.devices[f]={stream_ops:b}},getDevice:function(f){return W.devices[f]},getMounts:function(f){for(var b=[],M=[f];M.length;){var R=M.pop();b.push(R),M.push.apply(M,R.mounts)}return b},syncfs:function(f,b){typeof f=="function"&&(b=f,f=!1),W.syncFSRequests++,W.syncFSRequests>1&&O("warning: "+W.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var M=W.getMounts(W.root.mount),R=0;function Y(V){return W.syncFSRequests--,b(V)}function _(V){if(V)return _.errored?void 0:(_.errored=!0,Y(V));++R>=M.length&&Y(null)}M.forEach(function(V){if(!V.type.syncfs)return _(null);V.type.syncfs(V,f,_)})},mount:function(f,b,M){var R=M==="/",Y=!M,_;if(R&&W.root)throw new W.ErrnoError(10);if(!R&&!Y){var V=W.lookupPath(M,{follow_mount:!1});if(M=V.path,_=V.node,W.isMountpoint(_))throw new W.ErrnoError(10);if(!W.isDir(_.mode))throw new W.ErrnoError(54)}var Q={type:f,opts:b,mountpoint:M,mounts:[]},ne=f.mount(Q);return ne.mount=Q,Q.root=ne,R?W.root=ne:_&&(_.mounted=Q,_.mount&&_.mount.mounts.push(Q)),ne},unmount:function(f){var b=W.lookupPath(f,{follow_mount:!1});if(!W.isMountpoint(b.node))throw new W.ErrnoError(28);var M=b.node,R=M.mounted,Y=W.getMounts(R);Object.keys(W.nameTable).forEach(function(V){for(var Q=W.nameTable[V];Q;){var ne=Q.name_next;Y.includes(Q.mount)&&W.destroyNode(Q),Q=ne}}),M.mounted=null;var _=M.mount.mounts.indexOf(R);M.mount.mounts.splice(_,1)},lookup:function(f,b){return f.node_ops.lookup(f,b)},mknod:function(f,b,M){var R=W.lookupPath(f,{parent:!0}),Y=R.node,_=Dt.basename(f);if(!_||_==="."||_==="..")throw new W.ErrnoError(28);var V=W.mayCreate(Y,_);if(V)throw new W.ErrnoError(V);if(!Y.node_ops.mknod)throw new W.ErrnoError(63);return Y.node_ops.mknod(Y,_,b,M)},create:function(f,b){return b=b!==void 0?b:438,b&=4095,b|=32768,W.mknod(f,b,0)},mkdir:function(f,b){return b=b!==void 0?b:511,b&=1023,b|=16384,W.mknod(f,b,0)},mkdirTree:function(f,b){for(var M=f.split("/"),R="",Y=0;Y<M.length;++Y)if(!!M[Y]){R+="/"+M[Y];try{W.mkdir(R,b)}catch(_){if(_.errno!=20)throw _}}},mkdev:function(f,b,M){return typeof M>"u"&&(M=b,b=438),b|=8192,W.mknod(f,b,M)},symlink:function(f,b){if(!ps.resolve(f))throw new W.ErrnoError(44);var M=W.lookupPath(b,{parent:!0}),R=M.node;if(!R)throw new W.ErrnoError(44);var Y=Dt.basename(b),_=W.mayCreate(R,Y);if(_)throw new W.ErrnoError(_);if(!R.node_ops.symlink)throw new W.ErrnoError(63);return R.node_ops.symlink(R,Y,f)},rename:function(f,b){var M=Dt.dirname(f),R=Dt.dirname(b),Y=Dt.basename(f),_=Dt.basename(b),V,Q,ne;if(V=W.lookupPath(f,{parent:!0}),Q=V.node,V=W.lookupPath(b,{parent:!0}),ne=V.node,!Q||!ne)throw new W.ErrnoError(44);if(Q.mount!==ne.mount)throw new W.ErrnoError(75);var ye=W.lookupNode(Q,Y),Ce=ps.relative(f,R);if(Ce.charAt(0)!==".")throw new W.ErrnoError(28);if(Ce=ps.relative(b,M),Ce.charAt(0)!==".")throw new W.ErrnoError(55);var We;try{We=W.lookupNode(ne,_)}catch{}if(ye!==We){var De=W.isDir(ye.mode),_e=W.mayDelete(Q,Y,De);if(_e)throw new W.ErrnoError(_e);if(_e=We?W.mayDelete(ne,_,De):W.mayCreate(ne,_),_e)throw new W.ErrnoError(_e);if(!Q.node_ops.rename)throw new W.ErrnoError(63);if(W.isMountpoint(ye)||We&&W.isMountpoint(We))throw new W.ErrnoError(10);if(ne!==Q&&(_e=W.nodePermissions(Q,"w"),_e))throw new W.ErrnoError(_e);try{W.trackingDelegate.willMovePath&&W.trackingDelegate.willMovePath(f,b)}catch(it){O("FS.trackingDelegate['willMovePath']('"+f+"', '"+b+"') threw an exception: "+it.message)}W.hashRemoveNode(ye);try{Q.node_ops.rename(ye,ne,_)}catch(it){throw it}finally{W.hashAddNode(ye)}try{W.trackingDelegate.onMovePath&&W.trackingDelegate.onMovePath(f,b)}catch(it){O("FS.trackingDelegate['onMovePath']('"+f+"', '"+b+"') threw an exception: "+it.message)}}},rmdir:function(f){var b=W.lookupPath(f,{parent:!0}),M=b.node,R=Dt.basename(f),Y=W.lookupNode(M,R),_=W.mayDelete(M,R,!0);if(_)throw new W.ErrnoError(_);if(!M.node_ops.rmdir)throw new W.ErrnoError(63);if(W.isMountpoint(Y))throw new W.ErrnoError(10);try{W.trackingDelegate.willDeletePath&&W.trackingDelegate.willDeletePath(f)}catch(V){O("FS.trackingDelegate['willDeletePath']('"+f+"') threw an exception: "+V.message)}M.node_ops.rmdir(M,R),W.destroyNode(Y);try{W.trackingDelegate.onDeletePath&&W.trackingDelegate.onDeletePath(f)}catch(V){O("FS.trackingDelegate['onDeletePath']('"+f+"') threw an exception: "+V.message)}},readdir:function(f){var b=W.lookupPath(f,{follow:!0}),M=b.node;if(!M.node_ops.readdir)throw new W.ErrnoError(54);return M.node_ops.readdir(M)},unlink:function(f){var b=W.lookupPath(f,{parent:!0}),M=b.node,R=Dt.basename(f),Y=W.lookupNode(M,R),_=W.mayDelete(M,R,!1);if(_)throw new W.ErrnoError(_);if(!M.node_ops.unlink)throw new W.ErrnoError(63);if(W.isMountpoint(Y))throw new W.ErrnoError(10);try{W.trackingDelegate.willDeletePath&&W.trackingDelegate.willDeletePath(f)}catch(V){O("FS.trackingDelegate['willDeletePath']('"+f+"') threw an exception: "+V.message)}M.node_ops.unlink(M,R),W.destroyNode(Y);try{W.trackingDelegate.onDeletePath&&W.trackingDelegate.onDeletePath(f)}catch(V){O("FS.trackingDelegate['onDeletePath']('"+f+"') threw an exception: "+V.message)}},readlink:function(f){var b=W.lookupPath(f),M=b.node;if(!M)throw new W.ErrnoError(44);if(!M.node_ops.readlink)throw new W.ErrnoError(28);return ps.resolve(W.getPath(M.parent),M.node_ops.readlink(M))},stat:function(f,b){var M=W.lookupPath(f,{follow:!b}),R=M.node;if(!R)throw new W.ErrnoError(44);if(!R.node_ops.getattr)throw new W.ErrnoError(63);return R.node_ops.getattr(R)},lstat:function(f){return W.stat(f,!0)},chmod:function(f,b,M){var R;if(typeof f=="string"){var Y=W.lookupPath(f,{follow:!M});R=Y.node}else R=f;if(!R.node_ops.setattr)throw new W.ErrnoError(63);R.node_ops.setattr(R,{mode:b&4095|R.mode&-4096,timestamp:Date.now()})},lchmod:function(f,b){W.chmod(f,b,!0)},fchmod:function(f,b){var M=W.getStream(f);if(!M)throw new W.ErrnoError(8);W.chmod(M.node,b)},chown:function(f,b,M,R){var Y;if(typeof f=="string"){var _=W.lookupPath(f,{follow:!R});Y=_.node}else Y=f;if(!Y.node_ops.setattr)throw new W.ErrnoError(63);Y.node_ops.setattr(Y,{timestamp:Date.now()})},lchown:function(f,b,M){W.chown(f,b,M,!0)},fchown:function(f,b,M){var R=W.getStream(f);if(!R)throw new W.ErrnoError(8);W.chown(R.node,b,M)},truncate:function(f,b){if(b<0)throw new W.ErrnoError(28);var M;if(typeof f=="string"){var R=W.lookupPath(f,{follow:!0});M=R.node}else M=f;if(!M.node_ops.setattr)throw new W.ErrnoError(63);if(W.isDir(M.mode))throw new W.ErrnoError(31);if(!W.isFile(M.mode))throw new W.ErrnoError(28);var Y=W.nodePermissions(M,"w");if(Y)throw new W.ErrnoError(Y);M.node_ops.setattr(M,{size:b,timestamp:Date.now()})},ftruncate:function(f,b){var M=W.getStream(f);if(!M)throw new W.ErrnoError(8);if((M.flags&2097155)===0)throw new W.ErrnoError(28);W.truncate(M.node,b)},utime:function(f,b,M){var R=W.lookupPath(f,{follow:!0}),Y=R.node;Y.node_ops.setattr(Y,{timestamp:Math.max(b,M)})},open:function(f,b,M,R,Y){if(f==="")throw new W.ErrnoError(44);b=typeof b=="string"?W.modeStringToFlags(b):b,M=typeof M>"u"?438:M,b&64?M=M&4095|32768:M=0;var _;if(typeof f=="object")_=f;else{f=Dt.normalize(f);try{var V=W.lookupPath(f,{follow:!(b&131072)});_=V.node}catch{}}var Q=!1;if(b&64)if(_){if(b&128)throw new W.ErrnoError(20)}else _=W.mknod(f,M,0),Q=!0;if(!_)throw new W.ErrnoError(44);if(W.isChrdev(_.mode)&&(b&=-513),b&65536&&!W.isDir(_.mode))throw new W.ErrnoError(54);if(!Q){var ne=W.mayOpen(_,b);if(ne)throw new W.ErrnoError(ne)}b&512&&W.truncate(_,0),b&=-131713;var ye=W.createStream({node:_,path:W.getPath(_),flags:b,seekable:!0,position:0,stream_ops:_.stream_ops,ungotten:[],error:!1},R,Y);ye.stream_ops.open&&ye.stream_ops.open(ye),r.logReadFiles&&!(b&1)&&(W.readFiles||(W.readFiles={}),f in W.readFiles||(W.readFiles[f]=1,O("FS.trackingDelegate error on read file: "+f)));try{if(W.trackingDelegate.onOpenFile){var Ce=0;(b&2097155)!==1&&(Ce|=W.tracking.openFlags.READ),(b&2097155)!==0&&(Ce|=W.tracking.openFlags.WRITE),W.trackingDelegate.onOpenFile(f,Ce)}}catch(We){O("FS.trackingDelegate['onOpenFile']('"+f+"', flags) threw an exception: "+We.message)}return ye},close:function(f){if(W.isClosed(f))throw new W.ErrnoError(8);f.getdents&&(f.getdents=null);try{f.stream_ops.close&&f.stream_ops.close(f)}catch(b){throw b}finally{W.closeStream(f.fd)}f.fd=null},isClosed:function(f){return f.fd===null},llseek:function(f,b,M){if(W.isClosed(f))throw new W.ErrnoError(8);if(!f.seekable||!f.stream_ops.llseek)throw new W.ErrnoError(70);if(M!=0&&M!=1&&M!=2)throw new W.ErrnoError(28);return f.position=f.stream_ops.llseek(f,b,M),f.ungotten=[],f.position},read:function(f,b,M,R,Y){if(M>>>=0,R<0||Y<0)throw new W.ErrnoError(28);if(W.isClosed(f))throw new W.ErrnoError(8);if((f.flags&2097155)===1)throw new W.ErrnoError(8);if(W.isDir(f.node.mode))throw new W.ErrnoError(31);if(!f.stream_ops.read)throw new W.ErrnoError(28);var _=typeof Y<"u";if(!_)Y=f.position;else if(!f.seekable)throw new W.ErrnoError(70);var V=f.stream_ops.read(f,b,M,R,Y);return _||(f.position+=V),V},write:function(f,b,M,R,Y,_){if(M>>>=0,R<0||Y<0)throw new W.ErrnoError(28);if(W.isClosed(f))throw new W.ErrnoError(8);if((f.flags&2097155)===0)throw new W.ErrnoError(8);if(W.isDir(f.node.mode))throw new W.ErrnoError(31);if(!f.stream_ops.write)throw new W.ErrnoError(28);f.seekable&&f.flags&1024&&W.llseek(f,0,2);var V=typeof Y<"u";if(!V)Y=f.position;else if(!f.seekable)throw new W.ErrnoError(70);var Q=f.stream_ops.write(f,b,M,R,Y,_);V||(f.position+=Q);try{f.path&&W.trackingDelegate.onWriteToFile&&W.trackingDelegate.onWriteToFile(f.path)}catch(ne){O("FS.trackingDelegate['onWriteToFile']('"+f.path+"') threw an exception: "+ne.message)}return Q},allocate:function(f,b,M){if(W.isClosed(f))throw new W.ErrnoError(8);if(b<0||M<=0)throw new W.ErrnoError(28);if((f.flags&2097155)===0)throw new W.ErrnoError(8);if(!W.isFile(f.node.mode)&&!W.isDir(f.node.mode))throw new W.ErrnoError(43);if(!f.stream_ops.allocate)throw new W.ErrnoError(138);f.stream_ops.allocate(f,b,M)},mmap:function(f,b,M,R,Y,_){if(b>>>=0,(Y&2)!==0&&(_&2)===0&&(f.flags&2097155)!==2)throw new W.ErrnoError(2);if((f.flags&2097155)===1)throw new W.ErrnoError(2);if(!f.stream_ops.mmap)throw new W.ErrnoError(43);return f.stream_ops.mmap(f,b,M,R,Y,_)},msync:function(f,b,M,R,Y){return M>>>=0,!f||!f.stream_ops.msync?0:f.stream_ops.msync(f,b,M,R,Y)},munmap:function(f){return 0},ioctl:function(f,b,M){if(!f.stream_ops.ioctl)throw new W.ErrnoError(59);return f.stream_ops.ioctl(f,b,M)},readFile:function(f,b){if(b=b||{},b.flags=b.flags||0,b.encoding=b.encoding||"binary",b.encoding!=="utf8"&&b.encoding!=="binary")throw new Error('Invalid encoding type "'+b.encoding+'"');var M,R=W.open(f,b.flags),Y=W.stat(f),_=Y.size,V=new Uint8Array(_);return W.read(R,V,0,_,0),b.encoding==="utf8"?M=xe(V,0):b.encoding==="binary"&&(M=V),W.close(R),M},writeFile:function(f,b,M){M=M||{},M.flags=M.flags||577;var R=W.open(f,M.flags,M.mode);if(typeof b=="string"){var Y=new Uint8Array(Be(b)+1),_=fe(b,Y,0,Y.length);W.write(R,Y,0,_,void 0,M.canOwn)}else if(ArrayBuffer.isView(b))W.write(R,b,0,b.byteLength,void 0,M.canOwn);else throw new Error("Unsupported data type");W.close(R)},cwd:function(){return W.currentPath},chdir:function(f){var b=W.lookupPath(f,{follow:!0});if(b.node===null)throw new W.ErrnoError(44);if(!W.isDir(b.node.mode))throw new W.ErrnoError(54);var M=W.nodePermissions(b.node,"x");if(M)throw new W.ErrnoError(M);W.currentPath=b.path},createDefaultDirectories:function(){W.mkdir("/tmp"),W.mkdir("/home"),W.mkdir("/home/web_user")},createDefaultDevices:function(){W.mkdir("/dev"),W.registerDevice(W.makedev(1,3),{read:function(){return 0},write:function(b,M,R,Y,_){return Y}}),W.mkdev("/dev/null",W.makedev(1,3)),He.register(W.makedev(5,0),He.default_tty_ops),He.register(W.makedev(6,0),He.default_tty1_ops),W.mkdev("/dev/tty",W.makedev(5,0)),W.mkdev("/dev/tty1",W.makedev(6,0));var f=li();W.createDevice("/dev","random",f),W.createDevice("/dev","urandom",f),W.mkdir("/dev/shm"),W.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){W.mkdir("/proc");var f=W.mkdir("/proc/self");W.mkdir("/proc/self/fd"),W.mount({mount:function(){var b=W.createNode(f,"fd",16895,73);return b.node_ops={lookup:function(M,R){var Y=+R,_=W.getStream(Y);if(!_)throw new W.ErrnoError(8);var V={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return _.path}}};return V.parent=V,V}},b}},{},"/proc/self/fd")},createStandardStreams:function(){r.stdin?W.createDevice("/dev","stdin",r.stdin):W.symlink("/dev/tty","/dev/stdin"),r.stdout?W.createDevice("/dev","stdout",null,r.stdout):W.symlink("/dev/tty","/dev/stdout"),r.stderr?W.createDevice("/dev","stderr",null,r.stderr):W.symlink("/dev/tty1","/dev/stderr"),W.open("/dev/stdin",0),W.open("/dev/stdout",1),W.open("/dev/stderr",1)},ensureErrnoError:function(){W.ErrnoError||(W.ErrnoError=function(b,M){this.node=M,this.setErrno=function(R){this.errno=R},this.setErrno(b),this.message="FS error"},W.ErrnoError.prototype=new Error,W.ErrnoError.prototype.constructor=W.ErrnoError,[44].forEach(function(f){W.genericErrors[f]=new W.ErrnoError(f),W.genericErrors[f].stack="<generic error, no stack>"}))},staticInit:function(){W.ensureErrnoError(),W.nameTable=new Array(4096),W.mount(Tt,{},"/"),W.createDefaultDirectories(),W.createDefaultDevices(),W.createSpecialDirectories(),W.filesystems={MEMFS:Tt}},init:function(f,b,M){W.init.initialized=!0,W.ensureErrnoError(),r.stdin=f||r.stdin,r.stdout=b||r.stdout,r.stderr=M||r.stderr,W.createStandardStreams()},quit:function(){W.init.initialized=!1;var f=r._fflush;f&&f(0);for(var b=0;b<W.streams.length;b++){var M=W.streams[b];!M||W.close(M)}},getMode:function(f,b){var M=0;return f&&(M|=365),b&&(M|=146),M},findObject:function(f,b){var M=W.analyzePath(f,b);return M.exists?M.object:null},analyzePath:function(f,b){try{var M=W.lookupPath(f,{follow:!b});f=M.path}catch{}var R={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var M=W.lookupPath(f,{parent:!0});R.parentExists=!0,R.parentPath=M.path,R.parentObject=M.node,R.name=Dt.basename(f),M=W.lookupPath(f,{follow:!b}),R.exists=!0,R.path=M.path,R.object=M.node,R.name=M.node.name,R.isRoot=M.path==="/"}catch(Y){R.error=Y.errno}return R},createPath:function(f,b,M,R){f=typeof f=="string"?f:W.getPath(f);for(var Y=b.split("/").reverse();Y.length;){var _=Y.pop();if(!!_){var V=Dt.join2(f,_);try{W.mkdir(V)}catch{}f=V}}return V},createFile:function(f,b,M,R,Y){var _=Dt.join2(typeof f=="string"?f:W.getPath(f),b),V=W.getMode(R,Y);return W.create(_,V)},createDataFile:function(f,b,M,R,Y,_){var V=b?Dt.join2(typeof f=="string"?f:W.getPath(f),b):f,Q=W.getMode(R,Y),ne=W.create(V,Q);if(M){if(typeof M=="string"){for(var ye=new Array(M.length),Ce=0,We=M.length;Ce<We;++Ce)ye[Ce]=M.charCodeAt(Ce);M=ye}W.chmod(ne,Q|146);var De=W.open(ne,577);W.write(De,M,0,M.length,0,_),W.close(De),W.chmod(ne,Q)}return ne},createDevice:function(f,b,M,R){var Y=Dt.join2(typeof f=="string"?f:W.getPath(f),b),_=W.getMode(!!M,!!R);W.createDevice.major||(W.createDevice.major=64);var V=W.makedev(W.createDevice.major++,0);return W.registerDevice(V,{open:function(Q){Q.seekable=!1},close:function(Q){R&&R.buffer&&R.buffer.length&&R(10)},read:function(Q,ne,ye,Ce,We){for(var De=0,_e=0;_e<Ce;_e++){var it;try{it=M()}catch{throw new W.ErrnoError(29)}if(it===void 0&&De===0)throw new W.ErrnoError(6);if(it==null)break;De++,ne[ye+_e]=it}return De&&(Q.node.timestamp=Date.now()),De},write:function(Q,ne,ye,Ce,We){for(var De=0;De<Ce;De++)try{R(ne[ye+De])}catch{throw new W.ErrnoError(29)}return Ce&&(Q.node.timestamp=Date.now()),De}}),W.mkdev(Y,_,V)},forceLoadFile:function(f){if(f.isDevice||f.isFolder||f.link||f.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(v)try{f.contents=_a(v(f.url),!0),f.usedBytes=f.contents.length}catch{throw new W.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:function(f,b,M,R,Y){function _(){this.lengthKnown=!1,this.chunks=[]}if(_.prototype.get=function(De){if(!(De>this.length-1||De<0)){var _e=De%this.chunkSize,it=De/this.chunkSize|0;return this.getter(it)[_e]}},_.prototype.setDataGetter=function(De){this.getter=De},_.prototype.cacheLength=function(){var De=new XMLHttpRequest;if(De.open("HEAD",M,!1),De.send(null),!(De.status>=200&&De.status<300||De.status===304))throw new Error("Couldn't load "+M+". Status: "+De.status);var _e=Number(De.getResponseHeader("Content-length")),it,Wt=(it=De.getResponseHeader("Accept-Ranges"))&&it==="bytes",Ht=(it=De.getResponseHeader("Content-Encoding"))&&it==="gzip",gt=1024*1024;Wt||(gt=_e);var Oe=function(si,_t){if(si>_t)throw new Error("invalid range ("+si+", "+_t+") or no bytes requested!");if(_t>_e-1)throw new Error("only "+_e+" bytes available! programmer error!");var ni=new XMLHttpRequest;if(ni.open("GET",M,!1),_e!==gt&&ni.setRequestHeader("Range","bytes="+si+"-"+_t),typeof Uint8Array<"u"&&(ni.responseType="arraybuffer"),ni.overrideMimeType&&ni.overrideMimeType("text/plain; charset=x-user-defined"),ni.send(null),!(ni.status>=200&&ni.status<300||ni.status===304))throw new Error("Couldn't load "+M+". Status: "+ni.status);return ni.response!==void 0?new Uint8Array(ni.response||[]):_a(ni.responseText||"",!0)},qe=this;qe.setDataGetter(function(si){var _t=si*gt,ni=(si+1)*gt-1;if(ni=Math.min(ni,_e-1),typeof qe.chunks[si]>"u"&&(qe.chunks[si]=Oe(_t,ni)),typeof qe.chunks[si]>"u")throw new Error("doXHR failed!");return qe.chunks[si]}),(Ht||!_e)&&(gt=_e=1,_e=this.getter(0).length,gt=_e,w("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=_e,this._chunkSize=gt,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!d)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var V=new _;Object.defineProperties(V,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var Q={isDevice:!1,contents:V}}else var Q={isDevice:!1,url:M};var ne=W.createFile(f,b,Q,R,Y);Q.contents?ne.contents=Q.contents:Q.url&&(ne.contents=null,ne.url=Q.url),Object.defineProperties(ne,{usedBytes:{get:function(){return this.contents.length}}});var ye={},Ce=Object.keys(ne.stream_ops);return Ce.forEach(function(We){var De=ne.stream_ops[We];ye[We]=function(){return W.forceLoadFile(ne),De.apply(null,arguments)}}),ye.read=function(De,_e,it,Wt,Ht){W.forceLoadFile(ne);var gt=De.node.contents;if(Ht>=gt.length)return 0;var Oe=Math.min(gt.length-Ht,Wt);if(gt.slice)for(var qe=0;qe<Oe;qe++)_e[it+qe]=gt[Ht+qe];else for(var qe=0;qe<Oe;qe++)_e[it+qe]=gt.get(Ht+qe);return Oe},ne.stream_ops=ye,ne},createPreloadedFile:function(f,b,M,R,Y,_,V,Q,ne,ye){Browser.init();var Ce=b?ps.resolve(Dt.join2(f,b)):f;function We(De){function _e(Wt){ye&&ye(),Q||W.createDataFile(f,b,Wt,R,Y,ne),_&&_(),tt()}var it=!1;r.preloadPlugins.forEach(function(Wt){it||Wt.canHandle(Ce)&&(Wt.handle(De,Ce,_e,function(){V&&V(),tt()}),it=!0)}),it||_e(De)}Ee(),typeof M=="string"?kn(M,function(De){We(De)},V):We(M)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(f,b,M){b=b||function(){},M=M||function(){};var R=W.indexedDB();try{var Y=R.open(W.DB_NAME(),W.DB_VERSION)}catch(_){return M(_)}Y.onupgradeneeded=function(){w("creating db");var V=Y.result;V.createObjectStore(W.DB_STORE_NAME)},Y.onsuccess=function(){var V=Y.result,Q=V.transaction([W.DB_STORE_NAME],"readwrite"),ne=Q.objectStore(W.DB_STORE_NAME),ye=0,Ce=0,We=f.length;function De(){Ce==0?b():M()}f.forEach(function(_e){var it=ne.put(W.analyzePath(_e).object.contents,_e);it.onsuccess=function(){ye++,ye+Ce==We&&De()},it.onerror=function(){Ce++,ye+Ce==We&&De()}}),Q.onerror=M},Y.onerror=M},loadFilesFromDB:function(f,b,M){b=b||function(){},M=M||function(){};var R=W.indexedDB();try{var Y=R.open(W.DB_NAME(),W.DB_VERSION)}catch(_){return M(_)}Y.onupgradeneeded=M,Y.onsuccess=function(){var V=Y.result;try{var Q=V.transaction([W.DB_STORE_NAME],"readonly")}catch(_e){M(_e);return}var ne=Q.objectStore(W.DB_STORE_NAME),ye=0,Ce=0,We=f.length;function De(){Ce==0?b():M()}f.forEach(function(_e){var it=ne.get(_e);it.onsuccess=function(){W.analyzePath(_e).exists&&W.unlink(_e),W.createDataFile(Dt.dirname(_e),Dt.basename(_e),it.result,!0,!0,!0),ye++,ye+Ce==We&&De()},it.onerror=function(){Ce++,ye+Ce==We&&De()}}),Q.onerror=M},Y.onerror=M}},Zt={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(f,b,M){if(b[0]==="/")return b;var R;if(f===-100)R=W.cwd();else{var Y=W.getStream(f);if(!Y)throw new W.ErrnoError(8);R=Y.path}if(b.length==0){if(!M)throw new W.ErrnoError(44);return R}return Dt.join2(R,b)},doStat:function(f,b,M){try{var R=f(b)}catch(Y){if(Y&&Y.node&&Dt.normalize(b)!==Dt.normalize(W.getPath(Y.node)))return-54;throw Y}return Ve[M>>>2]=R.dev,Ve[M+4>>>2]=0,Ve[M+8>>>2]=R.ino,Ve[M+12>>>2]=R.mode,Ve[M+16>>>2]=R.nlink,Ve[M+20>>>2]=R.uid,Ve[M+24>>>2]=R.gid,Ve[M+28>>>2]=R.rdev,Ve[M+32>>>2]=0,Rs=[R.size>>>0,(is=R.size,+Math.abs(is)>=1?is>0?(Math.min(+Math.floor(is/4294967296),4294967295)|0)>>>0:~~+Math.ceil((is-+(~~is>>>0))/4294967296)>>>0:0)],Ve[M+40>>>2]=Rs[0],Ve[M+44>>>2]=Rs[1],Ve[M+48>>>2]=4096,Ve[M+52>>>2]=R.blocks,Ve[M+56>>>2]=R.atime.getTime()/1e3|0,Ve[M+60>>>2]=0,Ve[M+64>>>2]=R.mtime.getTime()/1e3|0,Ve[M+68>>>2]=0,Ve[M+72>>>2]=R.ctime.getTime()/1e3|0,Ve[M+76>>>2]=0,Rs=[R.ino>>>0,(is=R.ino,+Math.abs(is)>=1?is>0?(Math.min(+Math.floor(is/4294967296),4294967295)|0)>>>0:~~+Math.ceil((is-+(~~is>>>0))/4294967296)>>>0:0)],Ve[M+80>>>2]=Rs[0],Ve[M+84>>>2]=Rs[1],0},doMsync:function(f,b,M,R,Y){var _=Ut.slice(f,f+M);W.msync(b,_,Y,M,R)},doMkdir:function(f,b){return f=Dt.normalize(f),f[f.length-1]==="/"&&(f=f.substr(0,f.length-1)),W.mkdir(f,b,0),0},doMknod:function(f,b,M){switch(b&61440){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return W.mknod(f,b,M),0},doReadlink:function(f,b,M){if(M<=0)return-28;var R=W.readlink(f),Y=Math.min(M,Be(R)),_=et[b+Y>>>0];return be(R,b,M+1),et[b+Y>>>0]=_,Y},doAccess:function(f,b){if(b&-8)return-28;var M,R=W.lookupPath(f,{follow:!0});if(M=R.node,!M)return-44;var Y="";return b&4&&(Y+="r"),b&2&&(Y+="w"),b&1&&(Y+="x"),Y&&W.nodePermissions(M,Y)?-2:0},doDup:function(f,b,M){var R=W.getStream(M);return R&&W.close(R),W.open(f,b,0,M,M).fd},doReadv:function(f,b,M,R){for(var Y=0,_=0;_<M;_++){var V=Ve[b+_*8>>>2],Q=Ve[b+(_*8+4)>>>2],ne=W.read(f,et,V,Q,R);if(ne<0)return-1;if(Y+=ne,ne<Q)break}return Y},doWritev:function(f,b,M,R){for(var Y=0,_=0;_<M;_++){var V=Ve[b+_*8>>>2],Q=Ve[b+(_*8+4)>>>2],ne=W.write(f,et,V,Q,R);if(ne<0)return-1;Y+=ne}return Y},varargs:void 0,get:function(){Zt.varargs+=4;var f=Ve[Zt.varargs-4>>>2];return f},getStr:function(f){var b=Re(f);return b},getStreamFromFD:function(f){var b=W.getStream(f);if(!b)throw new W.ErrnoError(8);return b},get64:function(f,b){return f}};function Ts(f,b,M){Zt.varargs=M;try{var R=Zt.getStreamFromFD(f);switch(b){case 0:{var Y=Zt.get();if(Y<0)return-28;var _;return _=W.open(R.path,R.flags,0,Y),_.fd}case 1:case 2:return 0;case 3:return R.flags;case 4:{var Y=Zt.get();return R.flags|=Y,0}case 12:{var Y=Zt.get(),V=0;return Wi[Y+V>>>1]=2,0}case 13:case 14:return 0;case 16:case 8:return-28;case 9:return qs(28),-1;default:return-28}}catch(Q){return(typeof W>"u"||!(Q instanceof W.ErrnoError))&&Ae(Q),-Q.errno}}function xo(f,b,M){Zt.varargs=M;try{var R=Zt.getStreamFromFD(f);switch(b){case 21509:case 21505:return R.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return R.tty?0:-59;case 21519:{if(!R.tty)return-59;var Y=Zt.get();return Ve[Y>>>2]=0,0}case 21520:return R.tty?-28:-59;case 21531:{var Y=Zt.get();return W.ioctl(R,b,Y)}case 21523:return R.tty?0:-59;case 21524:return R.tty?0:-59;default:Ae("bad ioctl syscall "+b)}}catch(_){return(typeof W>"u"||!(_ instanceof W.ErrnoError))&&Ae(_),-_.errno}}function gs(f,b,M){Zt.varargs=M;try{var R=Zt.getStr(f),Y=M?Zt.get():0,_=W.open(R,b,Y);return _.fd}catch(V){return(typeof W>"u"||!(V instanceof W.ErrnoError))&&Ae(V),-V.errno}}var er={};function un(f){for(;f.length;){var b=f.pop(),M=f.pop();M(b)}}function $s(f){return this.fromWireType(Ti[f>>>2])}var Cn={},tr={},Mr={},Wu=48,xr=57;function Ma(f){if(f===void 0)return"_unknown";f=f.replace(/[^a-zA-Z0-9_]/g,"$");var b=f.charCodeAt(0);return b>=Wu&&b<=xr?"_"+f:f}function vo(f,b){return f=Ma(f),new Function("body","return function "+f+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(b)}function xa(f,b){var M=vo(b,function(R){this.name=b,this.message=R;var Y=new Error(R).stack;Y!==void 0&&(this.stack=this.toString()+`
`+Y.replace(/^Error(:[^\n]*)?\n/,""))});return M.prototype=Object.create(f.prototype),M.prototype.constructor=M,M.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},M}var ic=void 0;function va(f){throw new ic(f)}function ir(f,b,M){f.forEach(function(Q){Mr[Q]=b});function R(Q){var ne=M(Q);ne.length!==f.length&&va("Mismatched type converter count");for(var ye=0;ye<f.length;++ye)ft(f[ye],ne[ye])}var Y=new Array(b.length),_=[],V=0;b.forEach(function(Q,ne){tr.hasOwnProperty(Q)?Y[ne]=tr[Q]:(_.push(Q),Cn.hasOwnProperty(Q)||(Cn[Q]=[]),Cn[Q].push(function(){Y[ne]=tr[Q],++V,V===_.length&&R(Y)}))}),_.length===0&&R(Y)}function Yu(f){var b=er[f];delete er[f];var M=b.elements,R=M.length,Y=M.map(function(Q){return Q.getterReturnType}).concat(M.map(function(Q){return Q.setterArgumentType})),_=b.rawConstructor,V=b.rawDestructor;ir([f],Y,function(Q){return M.forEach(function(ne,ye){var Ce=Q[ye],We=ne.getter,De=ne.getterContext,_e=Q[ye+R],it=ne.setter,Wt=ne.setterContext;ne.read=function(Ht){return Ce.fromWireType(We(De,Ht))},ne.write=function(Ht,gt){var Oe=[];it(Wt,Ht,_e.toWireType(Oe,gt)),un(Oe)}}),[{name:b.name,fromWireType:function(ne){for(var ye=new Array(R),Ce=0;Ce<R;++Ce)ye[Ce]=M[Ce].read(ne);return V(ne),ye},toWireType:function(ne,ye){if(R!==ye.length)throw new TypeError("Incorrect number of tuple elements for "+b.name+": expected="+R+", actual="+ye.length);for(var Ce=_(),We=0;We<R;++We)M[We].write(Ce,ye[We]);return ne!==null&&ne.push(V,Ce),Ce},argPackAdvance:8,readValueFromPointer:$s,destructorFunction:V}]})}var Ga={};function ku(f){var b=Ga[f];delete Ga[f];var M=b.rawConstructor,R=b.rawDestructor,Y=b.fields,_=Y.map(function(V){return V.getterReturnType}).concat(Y.map(function(V){return V.setterArgumentType}));ir([f],_,function(V){var Q={};return Y.forEach(function(ne,ye){var Ce=ne.fieldName,We=V[ye],De=ne.getter,_e=ne.getterContext,it=V[ye+Y.length],Wt=ne.setter,Ht=ne.setterContext;Q[Ce]={read:function(gt){return We.fromWireType(De(_e,gt))},write:function(gt,Oe){var qe=[];Wt(Ht,gt,it.toWireType(qe,Oe)),un(qe)}}}),[{name:b.name,fromWireType:function(ne){var ye={};for(var Ce in Q)ye[Ce]=Q[Ce].read(ne);return R(ne),ye},toWireType:function(ne,ye){for(var Ce in Q)if(!(Ce in ye))throw new TypeError('Missing field:  "'+Ce+'"');var We=M();for(Ce in Q)Q[Ce].write(We,ye[Ce]);return ne!==null&&ne.push(R,We),We},argPackAdvance:8,readValueFromPointer:$s,destructorFunction:R}]})}function Au(f,b,M,R,Y){}function Jt(f){switch(f){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+f)}}function Ku(){for(var f=new Array(256),b=0;b<256;++b)f[b]=String.fromCharCode(b);Rn=f}var Rn=void 0;function Xi(f){for(var b="",M=f;Ut[M>>>0];)b+=Rn[Ut[M++>>>0]];return b}var Br=void 0;function ii(f){throw new Br(f)}function ft(f,b,M){if(M=M||{},!("argPackAdvance"in b))throw new TypeError("registerType registeredInstance requires argPackAdvance");var R=b.name;if(f||ii('type "'+R+'" must have a positive integer typeid pointer'),tr.hasOwnProperty(f)){if(M.ignoreDuplicateRegistrations)return;ii("Cannot register type '"+R+"' twice")}if(tr[f]=b,delete Mr[f],Cn.hasOwnProperty(f)){var Y=Cn[f];delete Cn[f],Y.forEach(function(_){_()})}}function sc(f,b,M,R,Y){var _=Jt(M);b=Xi(b),ft(f,{name:b,fromWireType:function(V){return!!V},toWireType:function(V,Q){return Q?R:Y},argPackAdvance:8,readValueFromPointer:function(V){var Q;if(M===1)Q=et;else if(M===2)Q=Wi;else if(M===4)Q=Ve;else throw new TypeError("Unknown boolean type size: "+b);return this.fromWireType(Q[V>>>_])},destructorFunction:null})}function k(f){if(!(this instanceof Nn)||!(f instanceof Nn))return!1;for(var b=this.$$.ptrType.registeredClass,M=this.$$.ptr,R=f.$$.ptrType.registeredClass,Y=f.$$.ptr;b.baseClass;)M=b.upcast(M),b=b.baseClass;for(;R.baseClass;)Y=R.upcast(Y),R=R.baseClass;return b===R&&M===Y}function Hi(f){return{count:f.count,deleteScheduled:f.deleteScheduled,preservePointerOnDelete:f.preservePointerOnDelete,ptr:f.ptr,ptrType:f.ptrType,smartPtr:f.smartPtr,smartPtrType:f.smartPtrType}}function An(f){function b(M){return M.$$.ptrType.registeredClass.name}ii(b(f)+" instance already deleted")}var Ea=!1;function Ca(f){}function Ra(f){f.smartPtr?f.smartPtrType.rawDestructor(f.smartPtr):f.ptrType.registeredClass.rawDestructor(f.ptr)}function sr(f){f.count.value-=1;var b=f.count.value===0;b&&Ra(f)}function en(f){return typeof FinalizationGroup>"u"?(en=function(b){return b},f):(Ea=new FinalizationGroup(function(b){for(var M=b.next();!M.done;M=b.next()){var R=M.value;R.ptr?sr(R):console.warn("object already deleted: "+R.ptr)}}),en=function(b){return Ea.register(b,b.$$,b.$$),b},Ca=function(b){Ea.unregister(b.$$)},en(f))}function Jr(){if(this.$$.ptr||An(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var f=en(Object.create(Object.getPrototypeOf(this),{$$:{value:Hi(this.$$)}}));return f.$$.count.value+=1,f.$$.deleteScheduled=!1,f}function nr(){this.$$.ptr||An(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&ii("Object already scheduled for deletion"),Ca(this),sr(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function Kn(){return!this.$$.ptr}var Go=void 0,Eo=[];function Co(){for(;Eo.length;){var f=Eo.pop();f.$$.deleteScheduled=!1,f.delete()}}function Qr(){return this.$$.ptr||An(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&ii("Object already scheduled for deletion"),Eo.push(this),Eo.length===1&&Go&&Go(Co),this.$$.deleteScheduled=!0,this}function Ro(){Nn.prototype.isAliasOf=k,Nn.prototype.clone=Jr,Nn.prototype.delete=nr,Nn.prototype.isDeleted=Kn,Nn.prototype.deleteLater=Qr}function Nn(){}var No={};function Zn(f,b,M){if(f[b].overloadTable===void 0){var R=f[b];f[b]=function(){return f[b].overloadTable.hasOwnProperty(arguments.length)||ii("Function '"+M+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+f[b].overloadTable+")!"),f[b].overloadTable[arguments.length].apply(this,arguments)},f[b].overloadTable=[],f[b].overloadTable[R.argCount]=R}}function Ml(f,b,M){r.hasOwnProperty(f)?((M===void 0||r[f].overloadTable!==void 0&&r[f].overloadTable[M]!==void 0)&&ii("Cannot register public name '"+f+"' twice"),Zn(r,f,f),r.hasOwnProperty(M)&&ii("Cannot register multiple overloads of a function with the same number of arguments ("+M+")!"),r[f].overloadTable[M]=b):(r[f]=b,M!==void 0&&(r[f].numArguments=M))}function Fo(f,b,M,R,Y,_,V,Q){this.name=f,this.constructor=b,this.instancePrototype=M,this.rawDestructor=R,this.baseClass=Y,this.getActualType=_,this.upcast=V,this.downcast=Q,this.pureVirtualFunctions=[]}function Na(f,b,M){for(;b!==M;)b.upcast||ii("Expected null or instance of "+M.name+", got an instance of "+b.name),f=b.upcast(f),b=b.baseClass;return f}function Zu(f,b){if(b===null)return this.isReference&&ii("null is not a valid "+this.name),0;b.$$||ii('Cannot pass "'+$r(b)+'" as a '+this.name),b.$$.ptr||ii("Cannot pass deleted object as a pointer of type "+this.name);var M=b.$$.ptrType.registeredClass,R=Na(b.$$.ptr,M,this.registeredClass);return R}function Fa(f,b){var M;if(b===null)return this.isReference&&ii("null is not a valid "+this.name),this.isSmartPointer?(M=this.rawConstructor(),f!==null&&f.push(this.rawDestructor,M),M):0;b.$$||ii('Cannot pass "'+$r(b)+'" as a '+this.name),b.$$.ptr||ii("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&b.$$.ptrType.isConst&&ii("Cannot convert argument of type "+(b.$$.smartPtrType?b.$$.smartPtrType.name:b.$$.ptrType.name)+" to parameter type "+this.name);var R=b.$$.ptrType.registeredClass;if(M=Na(b.$$.ptr,R,this.registeredClass),this.isSmartPointer)switch(b.$$.smartPtr===void 0&&ii("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:b.$$.smartPtrType===this?M=b.$$.smartPtr:ii("Cannot convert argument of type "+(b.$$.smartPtrType?b.$$.smartPtrType.name:b.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:M=b.$$.smartPtr;break;case 2:if(b.$$.smartPtrType===this)M=b.$$.smartPtr;else{var Y=b.clone();M=this.rawShare(M,mn(function(){Y.delete()})),f!==null&&f.push(this.rawDestructor,M)}break;default:ii("Unsupporting sharing policy")}return M}function Hu(f,b){if(b===null)return this.isReference&&ii("null is not a valid "+this.name),0;b.$$||ii('Cannot pass "'+$r(b)+'" as a '+this.name),b.$$.ptr||ii("Cannot pass deleted object as a pointer of type "+this.name),b.$$.ptrType.isConst&&ii("Cannot convert argument of type "+b.$$.ptrType.name+" to parameter type "+this.name);var M=b.$$.ptrType.registeredClass,R=Na(b.$$.ptr,M,this.registeredClass);return R}function nc(f){return this.rawGetPointee&&(f=this.rawGetPointee(f)),f}function ns(f){this.rawDestructor&&this.rawDestructor(f)}function qr(f){f!==null&&f.delete()}function Qt(f,b,M){if(b===M)return f;if(M.baseClass===void 0)return null;var R=Qt(f,b,M.baseClass);return R===null?null:M.downcast(R)}function pn(){return Object.keys(vr).length}function Uu(){var f=[];for(var b in vr)vr.hasOwnProperty(b)&&f.push(vr[b]);return f}function _u(f){Go=f,Eo.length&&Go&&Go(Co)}function Vu(){r.getInheritedInstanceCount=pn,r.getLiveInheritedInstances=Uu,r.flushPendingDeletes=Co,r.setDelayFunction=_u}var vr={};function xl(f,b){for(b===void 0&&ii("ptr should not be undefined");f.baseClass;)b=f.upcast(b),f=f.baseClass;return b}function rc(f,b){return b=xl(f,b),vr[b]}function Pa(f,b){(!b.ptrType||!b.ptr)&&va("makeClassHandle requires ptr and ptrType");var M=!!b.smartPtrType,R=!!b.smartPtr;return M!==R&&va("Both smartPtrType and smartPtr must be specified"),b.count={value:1},en(Object.create(f,{$$:{value:b}}))}function oc(f){var b=this.getPointee(f);if(!b)return this.destructor(f),null;var M=rc(this.registeredClass,b);if(M!==void 0){if(M.$$.count.value===0)return M.$$.ptr=b,M.$$.smartPtr=f,M.clone();var R=M.clone();return this.destructor(f),R}function Y(){return this.isSmartPointer?Pa(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:b,smartPtrType:this,smartPtr:f}):Pa(this.registeredClass.instancePrototype,{ptrType:this,ptr:f})}var _=this.registeredClass.getActualType(b),V=No[_];if(!V)return Y.call(this);var Q;this.isConst?Q=V.constPointerType:Q=V.pointerType;var ne=Qt(b,this.registeredClass,Q.registeredClass);return ne===null?Y.call(this):this.isSmartPointer?Pa(Q.registeredClass.instancePrototype,{ptrType:Q,ptr:ne,smartPtrType:this,smartPtr:f}):Pa(Q.registeredClass.instancePrototype,{ptrType:Q,ptr:ne})}function Po(){Hn.prototype.getPointee=nc,Hn.prototype.destructor=ns,Hn.prototype.argPackAdvance=8,Hn.prototype.readValueFromPointer=$s,Hn.prototype.deleteObject=qr,Hn.prototype.fromWireType=oc}function Hn(f,b,M,R,Y,_,V,Q,ne,ye,Ce){this.name=f,this.registeredClass=b,this.isReference=M,this.isConst=R,this.isSmartPointer=Y,this.pointeeType=_,this.sharingPolicy=V,this.rawGetPointee=Q,this.rawConstructor=ne,this.rawShare=ye,this.rawDestructor=Ce,!Y&&b.baseClass===void 0?R?(this.toWireType=Zu,this.destructorFunction=null):(this.toWireType=Hu,this.destructorFunction=null):this.toWireType=Fa}function vl(f,b,M){r.hasOwnProperty(f)||va("Replacing nonexistant public symbol"),r[f].overloadTable!==void 0&&M!==void 0?r[f].overloadTable[M]=b:(r[f]=b,r[f].argCount=M)}function ju(f,b,M){var R=r["dynCall_"+f];return M&&M.length?R.apply(null,[b].concat(M)):R.call(null,b)}function wo(f,b,M){return f.includes("j")?ju(f,b,M):$.get(b).apply(null,M)}function Xo(f,b){var M=[];return function(){M.length=arguments.length;for(var R=0;R<arguments.length;R++)M[R]=arguments[R];return wo(f,b,M)}}function hs(f,b){f=Xi(f);function M(){return f.includes("j")?Xo(f,b):$.get(b)}var R=M();return typeof R!="function"&&ii("unknown function pointer with signature "+f+": "+b),R}var Gl=void 0;function ac(f){var b=Pn(f),M=Xi(b);return yn(b),M}function dn(f,b){var M=[],R={};function Y(_){if(!R[_]&&!tr[_]){if(Mr[_]){Mr[_].forEach(Y);return}M.push(_),R[_]=!0}}throw b.forEach(Y),new Gl(f+": "+M.map(ac).join([", "]))}function lc(f,b,M,R,Y,_,V,Q,ne,ye,Ce,We,De){Ce=Xi(Ce),_=hs(Y,_),Q&&(Q=hs(V,Q)),ye&&(ye=hs(ne,ye)),De=hs(We,De);var _e=Ma(Ce);Ml(_e,function(){dn("Cannot construct "+Ce+" due to unbound types",[R])}),ir([f,b,M],R?[R]:[],function(it){it=it[0];var Wt,Ht;R?(Wt=it.registeredClass,Ht=Wt.instancePrototype):Ht=Nn.prototype;var gt=vo(_e,function(){if(Object.getPrototypeOf(this)!==Oe)throw new Br("Use 'new' to construct "+Ce);if(qe.constructor_body===void 0)throw new Br(Ce+" has no accessible constructor");var sn=qe.constructor_body[arguments.length];if(sn===void 0)throw new Br("Tried to invoke ctor of "+Ce+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(qe.constructor_body).toString()+") parameters instead!");return sn.apply(this,arguments)}),Oe=Object.create(Ht,{constructor:{value:gt}});gt.prototype=Oe;var qe=new Fo(Ce,gt,Oe,De,Wt,_,Q,ye),si=new Hn(Ce,qe,!0,!1,!1),_t=new Hn(Ce+"*",qe,!1,!1,!1),ni=new Hn(Ce+" const*",qe,!1,!0,!1);return No[f]={pointerType:_t,constPointerType:ni},vl(_e,gt),[si,_t,ni]})}function wa(f,b){for(var M=[],R=0;R<f;R++)M.push(Ve[(b>>2)+R>>>0]);return M}function El(f,b,M,R,Y,_){Se(b>0);var V=wa(b,M);Y=hs(R,Y);var Q=[_],ne=[];ir([],[f],function(ye){ye=ye[0];var Ce="constructor "+ye.name;if(ye.registeredClass.constructor_body===void 0&&(ye.registeredClass.constructor_body=[]),ye.registeredClass.constructor_body[b-1]!==void 0)throw new Br("Cannot register multiple constructors with identical number of parameters ("+(b-1)+") for class '"+ye.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return ye.registeredClass.constructor_body[b-1]=function(){dn("Cannot construct "+ye.name+" due to unbound types",V)},ir([],V,function(We){return ye.registeredClass.constructor_body[b-1]=function(){arguments.length!==b-1&&ii(Ce+" called with "+arguments.length+" arguments, expected "+(b-1)),ne.length=0,Q.length=b;for(var _e=1;_e<b;++_e)Q[_e]=We[_e].toWireType(ne,arguments[_e-1]);var it=Y.apply(null,Q);return un(ne),We[0].fromWireType(it)},[]}),[]})}function Bu(f,b){if(!(f instanceof Function))throw new TypeError("new_ called with constructor type "+typeof f+" which is not a function");var M=vo(f.name||"unknownFunctionName",function(){});M.prototype=f.prototype;var R=new M,Y=f.apply(R,b);return Y instanceof Object?Y:R}function Do(f,b,M,R,Y){var _=b.length;_<2&&ii("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var V=b[1]!==null&&M!==null,Q=!1,ne=1;ne<b.length;++ne)if(b[ne]!==null&&b[ne].destructorFunction===void 0){Q=!0;break}for(var ye=b[0].name!=="void",Ce="",We="",ne=0;ne<_-2;++ne)Ce+=(ne!==0?", ":"")+"arg"+ne,We+=(ne!==0?", ":"")+"arg"+ne+"Wired";var De="return function "+Ma(f)+"("+Ce+`) {
if (arguments.length !== `+(_-2)+`) {
throwBindingError('function `+f+" called with ' + arguments.length + ' arguments, expected "+(_-2)+` args!');
}
`;Q&&(De+=`var destructors = [];
`);var _e=Q?"destructors":"null",it=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],Wt=[ii,R,Y,un,b[0],b[1]];V&&(De+="var thisWired = classParam.toWireType("+_e+`, this);
`);for(var ne=0;ne<_-2;++ne)De+="var arg"+ne+"Wired = argType"+ne+".toWireType("+_e+", arg"+ne+"); // "+b[ne+2].name+`
`,it.push("argType"+ne),Wt.push(b[ne+2]);if(V&&(We="thisWired"+(We.length>0?", ":"")+We),De+=(ye?"var rv = ":"")+"invoker(fn"+(We.length>0?", ":"")+We+`);
`,Q)De+=`runDestructors(destructors);
`;else for(var ne=V?1:2;ne<b.length;++ne){var Ht=ne===1?"thisWired":"arg"+(ne-2)+"Wired";b[ne].destructorFunction!==null&&(De+=Ht+"_dtor("+Ht+"); // "+b[ne].name+`
`,it.push(Ht+"_dtor"),Wt.push(b[ne].destructorFunction))}ye&&(De+=`var ret = retType.fromWireType(rv);
return ret;
`),De+=`}
`,it.push(De);var gt=Bu(Function,it).apply(null,Wt);return gt}function Xa(f,b,M,R,Y,_,V,Q){var ne=wa(M,R);b=Xi(b),_=hs(Y,_),ir([],[f],function(ye){ye=ye[0];var Ce=ye.name+"."+b;b.startsWith("@@")&&(b=Symbol[b.substring(2)]),Q&&ye.registeredClass.pureVirtualFunctions.push(b);function We(){dn("Cannot call "+Ce+" due to unbound types",ne)}var De=ye.registeredClass.instancePrototype,_e=De[b];return _e===void 0||_e.overloadTable===void 0&&_e.className!==ye.name&&_e.argCount===M-2?(We.argCount=M-2,We.className=ye.name,De[b]=We):(Zn(De,b,Ce),De[b].overloadTable[M-2]=We),ir([],ne,function(it){var Wt=Do(Ce,it,ye,_,V);return De[b].overloadTable===void 0?(Wt.argCount=M-2,De[b]=Wt):De[b].overloadTable[M-2]=Wt,[]}),[]})}var Oo=[],Fs=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Cl(f){f>4&&--Fs[f].refcount===0&&(Fs[f]=void 0,Oo.push(f))}function hc(){for(var f=0,b=5;b<Fs.length;++b)Fs[b]!==void 0&&++f;return f}function Ju(){for(var f=5;f<Fs.length;++f)if(Fs[f]!==void 0)return Fs[f];return null}function Rl(){r.count_emval_handles=hc,r.get_first_emval=Ju}function mn(f){switch(f){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var b=Oo.length?Oo.pop():Fs.length;return Fs[b]={refcount:1,value:f},b}}}function zo(f,b){b=Xi(b),ft(f,{name:b,fromWireType:function(M){var R=Fs[M].value;return Cl(M),R},toWireType:function(M,R){return mn(R)},argPackAdvance:8,readValueFromPointer:$s,destructorFunction:null})}function Qu(f,b,M){switch(b){case 0:return function(R){var Y=M?et:Ut;return this.fromWireType(Y[R>>>0])};case 1:return function(R){var Y=M?Wi:wi;return this.fromWireType(Y[R>>>1])};case 2:return function(R){var Y=M?Ve:Ti;return this.fromWireType(Y[R>>>2])};default:throw new TypeError("Unknown integer type: "+f)}}function qu(f,b,M,R){var Y=Jt(M);b=Xi(b);function _(){}_.values={},ft(f,{name:b,constructor:_,fromWireType:function(V){return this.constructor.values[V]},toWireType:function(V,Q){return Q.value},argPackAdvance:8,readValueFromPointer:Qu(b,Y,R),destructorFunction:null}),Ml(b,_)}function rr(f,b){var M=tr[f];return M===void 0&&ii(b+" has unknown type "+ac(f)),M}function $u(f,b,M){var R=rr(f,"enum");b=Xi(b);var Y=R.constructor,_=Object.create(R.constructor.prototype,{value:{value:M},constructor:{value:vo(R.name+"_"+b,function(){})}});Y.values[M]=_,Y[b]=_}function $r(f){if(f===null)return"null";var b=typeof f;return b==="object"||b==="array"||b==="function"?f.toString():""+f}function Da(f,b){switch(b){case 2:return function(M){return this.fromWireType(gi[M>>>2])};case 3:return function(M){return this.fromWireType(Ws[M>>>3])};default:throw new TypeError("Unknown float type: "+f)}}function ep(f,b,M){var R=Jt(M);b=Xi(b),ft(f,{name:b,fromWireType:function(Y){return Y},toWireType:function(Y,_){if(typeof _!="number"&&typeof _!="boolean")throw new TypeError('Cannot convert "'+$r(_)+'" to '+this.name);return _},argPackAdvance:8,readValueFromPointer:Da(b,R),destructorFunction:null})}function tp(f,b,M,R,Y,_){var V=wa(b,M);f=Xi(f),Y=hs(R,Y),Ml(f,function(){dn("Cannot call "+f+" due to unbound types",V)},b-1),ir([],V,function(Q){var ne=[Q[0],null].concat(Q.slice(1));return vl(f,Do(f,ne,null,Y,_),b-1),[]})}function Un(f,b,M){switch(b){case 0:return M?function(Y){return et[Y>>>0]}:function(Y){return Ut[Y>>>0]};case 1:return M?function(Y){return Wi[Y>>>1]}:function(Y){return wi[Y>>>1]};case 2:return M?function(Y){return Ve[Y>>>2]}:function(Y){return Ti[Y>>>2]};default:throw new TypeError("Unknown integer type: "+f)}}function Nl(f,b,M,R,Y){b=Xi(b),Y===-1&&(Y=4294967295);var _=Jt(M),V=function(ye){return ye};if(R===0){var Q=32-8*M;V=function(ye){return ye<<Q>>>Q}}var ne=b.includes("unsigned");ft(f,{name:b,fromWireType:V,toWireType:function(ye,Ce){if(typeof Ce!="number"&&typeof Ce!="boolean")throw new TypeError('Cannot convert "'+$r(Ce)+'" to '+this.name);if(Ce<R||Ce>Y)throw new TypeError('Passing a number "'+$r(Ce)+'" from JS side to C/C++ side to an argument of type "'+b+'", which is outside the valid range ['+R+", "+Y+"]!");return ne?Ce>>>0:Ce|0},argPackAdvance:8,readValueFromPointer:Un(b,_,R!==0),destructorFunction:null})}function cc(f,b,M){var R=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Y=R[b];function _(V){V=V>>2;var Q=Ti,ne=Q[V>>>0],ye=Q[V+1>>>0];return new Y(Mt,ye,ne)}M=Xi(M),ft(f,{name:M,fromWireType:_,argPackAdvance:8,readValueFromPointer:_},{ignoreDuplicateRegistrations:!0})}function ip(f,b){b=Xi(b);var M=b==="std::string";ft(f,{name:b,fromWireType:function(R){var Y=Ti[R>>>2],_;if(M)for(var V=R+4,Q=0;Q<=Y;++Q){var ne=R+4+Q;if(Q==Y||Ut[ne>>>0]==0){var ye=ne-V,Ce=Re(V,ye);_===void 0?_=Ce:(_+=String.fromCharCode(0),_+=Ce),V=ne+1}}else{for(var We=new Array(Y),Q=0;Q<Y;++Q)We[Q]=String.fromCharCode(Ut[R+4+Q>>>0]);_=We.join("")}return yn(R),_},toWireType:function(R,Y){Y instanceof ArrayBuffer&&(Y=new Uint8Array(Y));var _,V=typeof Y=="string";V||Y instanceof Uint8Array||Y instanceof Uint8ClampedArray||Y instanceof Int8Array||ii("Cannot pass non-string to std::string"),M&&V?_=function(){return Be(Y)}:_=function(){return Y.length};var Q=_(),ne=Uo(4+Q+1);if(ne>>>=0,Ti[ne>>>2]=Q,M&&V)be(Y,ne+4,Q+1);else if(V)for(var ye=0;ye<Q;++ye){var Ce=Y.charCodeAt(ye);Ce>255&&(yn(ne),ii("String has UTF-16 code units that do not fit in 8 bits")),Ut[ne+4+ye>>>0]=Ce}else for(var ye=0;ye<Q;++ye)Ut[ne+4+ye>>>0]=Y[ye];return R!==null&&R.push(yn,ne),ne},argPackAdvance:8,readValueFromPointer:$s,destructorFunction:function(R){yn(R)}})}function sp(f,b,M){M=Xi(M);var R,Y,_,V,Q;b===2?(R=$e,Y=rt,V=Ct,_=function(){return wi},Q=1):b===4&&(R=Me,Y=pi,V=St,_=function(){return Ti},Q=2),ft(f,{name:M,fromWireType:function(ne){for(var ye=Ti[ne>>>2],Ce=_(),We,De=ne+4,_e=0;_e<=ye;++_e){var it=ne+4+_e*b;if(_e==ye||Ce[it>>>Q]==0){var Wt=it-De,Ht=R(De,Wt);We===void 0?We=Ht:(We+=String.fromCharCode(0),We+=Ht),De=it+b}}return yn(ne),We},toWireType:function(ne,ye){typeof ye!="string"&&ii("Cannot pass non-string to C++ string type "+M);var Ce=V(ye),We=Uo(4+Ce+b);return We>>>=0,Ti[We>>>2]=Ce>>Q,Y(ye,We+4,Ce+b),ne!==null&&ne.push(yn,We),We},argPackAdvance:8,readValueFromPointer:$s,destructorFunction:function(ne){yn(ne)}})}function bs(f,b,M,R,Y,_){er[f]={name:Xi(b),rawConstructor:hs(M,R),rawDestructor:hs(Y,_),elements:[]}}function Oa(f,b,M,R,Y,_,V,Q,ne){er[f].elements.push({getterReturnType:b,getter:hs(M,R),getterContext:Y,setterArgumentType:_,setter:hs(V,Q),setterContext:ne})}function Fl(f,b,M,R,Y,_){Ga[f]={name:Xi(b),rawConstructor:hs(M,R),rawDestructor:hs(Y,_),fields:[]}}function Wo(f,b,M,R,Y,_,V,Q,ne,ye){Ga[f].fields.push({fieldName:Xi(b),getterReturnType:M,getter:hs(R,Y),getterContext:_,setterArgumentType:V,setter:hs(Q,ne),setterContext:ye})}function uc(f,b){b=Xi(b),ft(f,{isVoid:!0,name:b,argPackAdvance:0,fromWireType:function(){},toWireType:function(M,R){}})}function Ys(f){return f||ii("Cannot use deleted val. handle = "+f),Fs[f].value}function za(f,b,M){f=Ys(f),b=rr(b,"emval::as");var R=[],Y=mn(R);return Ve[M>>>2]=Y,b.toWireType(R,f)}function np(f,b){for(var M=new Array(f),R=0;R<f;++R)M[R]=rr(Ve[(b>>2)+R>>>0],"parameter "+R);return M}function Pl(f,b,M,R){f=Ys(f);for(var Y=np(b,M),_=new Array(b),V=0;V<b;++V){var Q=Y[V];_[V]=Q.readValueFromPointer(R),R+=Q.argPackAdvance}var ne=f.apply(void 0,_);return mn(ne)}var rp={};function Wa(f){var b=rp[f];return b===void 0?Xi(f):b}function Ps(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function wl(f){return f===0?mn(Ps()):(f=Wa(f),mn(Ps()[f]))}function op(f,b){return f=Ys(f),b=Ys(b),mn(f[b])}function Xl(f){f>4&&(Fs[f].refcount+=1)}function Ya(f,b){return f=Ys(f),b=Ys(b),f instanceof b}function ks(f){return f=Ys(f),typeof f=="number"}function ap(){return mn([])}function lp(f){return mn(Wa(f))}function Dl(){return mn({})}function ka(f){var b=Fs[f].value;un(b),Cl(f)}function hp(f,b,M){f=Ys(f),b=Ys(b),M=Ys(M),f[b]=M}function eo(f,b){f=rr(f,"_emval_take_value");var M=f.readValueFromPointer(b);return mn(M)}function pc(){Ae()}var Yo;T?Yo=function(){var f=process.hrtime();return f[0]*1e3+f[1]/1e6}:Yo=function(){return performance.now()};var cp=!0;function Aa(f,b){var M;if(f===0)M=Date.now();else if((f===1||f===4)&&cp)M=Yo();else return qs(28),-1;return Ve[b>>>2]=M/1e3|0,Ve[b+4>>>2]=M%1e3*1e3*1e3|0,0}function up(f,b,M){Ut.copyWithin(f>>>0,b>>>0,b+M>>>0)}function pp(f){try{return ae.grow(f-Mt.byteLength+65535>>>16),Es(ae.buffer),1}catch{}}function dc(f){var b=Ut.length;f=f>>>0;var M=4294901760;if(f>M)return!1;for(var R=1;R<=4;R*=2){var Y=b*(1+.2/R);Y=Math.min(Y,f+100663296);var _=Math.min(M,xi(Math.max(f,Y),65536)),V=pp(_);if(V)return!0}return!1}var ko={};function dp(){return c||"./this.program"}function Ao(){if(!Ao.strings){var f=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",b={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:f,_:dp()};for(var M in ko)ko[M]===void 0?delete b[M]:b[M]=ko[M];var R=[];for(var M in b)R.push(M+"="+b[M]);Ao.strings=R}return Ao.strings}function mp(f,b){try{var M=0;return Ao().forEach(function(R,Y){var _=b+M;Ve[f+Y*4>>>2]=_,lt(R,_),M+=R.length+1}),0}catch(R){return(typeof W>"u"||!(R instanceof W.ErrnoError))&&Ae(R),R.errno}}function mc(f,b){try{var M=Ao();Ve[f>>>2]=M.length;var R=0;return M.forEach(function(Y){R+=Y.length+1}),Ve[b>>>2]=R,0}catch(Y){return(typeof W>"u"||!(Y instanceof W.ErrnoError))&&Ae(Y),Y.errno}}function yc(f){try{var b=Zt.getStreamFromFD(f);return W.close(b),0}catch(M){return(typeof W>"u"||!(M instanceof W.ErrnoError))&&Ae(M),M.errno}}function yp(f,b,M,R){try{var Y=Zt.getStreamFromFD(f),_=Zt.doReadv(Y,b,M);return Ve[R>>>2]=_,0}catch(V){return(typeof W>"u"||!(V instanceof W.ErrnoError))&&Ae(V),V.errno}}function Fn(f,b,M,R,Y){try{var _=Zt.getStreamFromFD(f),V=4294967296,Q=M*V+(b>>>0),ne=9007199254740992;return Q<=-ne||Q>=ne?-61:(W.llseek(_,Q,R),Rs=[_.position>>>0,(is=_.position,+Math.abs(is)>=1?is>0?(Math.min(+Math.floor(is/4294967296),4294967295)|0)>>>0:~~+Math.ceil((is-+(~~is>>>0))/4294967296)>>>0:0)],Ve[Y>>>2]=Rs[0],Ve[Y+4>>>2]=Rs[1],_.getdents&&Q===0&&R===0&&(_.getdents=null),0)}catch(ye){return(typeof W>"u"||!(ye instanceof W.ErrnoError))&&Ae(ye),ye.errno}}function fp(f,b,M,R){try{var Y=Zt.getStreamFromFD(f),_=Zt.doWritev(Y,b,M);return Ve[R>>>2]=_,0}catch(V){return(typeof W>"u"||!(V instanceof W.ErrnoError))&&Ae(V),V.errno}}function Tp(){return ee()}function gp(f){return f}function bp(f){K(f)}function Ko(f){return f%4===0&&(f%100!==0||f%400===0)}function Ka(f,b){for(var M=0,R=0;R<=b;M+=f[R++]);return M}var Za=[31,29,31,30,31,30,31,31,30,31,30,31],Ha=[31,28,31,30,31,30,31,31,30,31,30,31];function Ua(f,b){for(var M=new Date(f.getTime());b>0;){var R=Ko(M.getFullYear()),Y=M.getMonth(),_=(R?Za:Ha)[Y];if(b>_-M.getDate())b-=_-M.getDate()+1,M.setDate(1),Y<11?M.setMonth(Y+1):(M.setMonth(0),M.setFullYear(M.getFullYear()+1));else return M.setDate(M.getDate()+b),M}return M}function Ip(f,b,M,R){var Y=Ve[R+40>>>2],_={tm_sec:Ve[R>>>2],tm_min:Ve[R+4>>>2],tm_hour:Ve[R+8>>>2],tm_mday:Ve[R+12>>>2],tm_mon:Ve[R+16>>>2],tm_year:Ve[R+20>>>2],tm_wday:Ve[R+24>>>2],tm_yday:Ve[R+28>>>2],tm_isdst:Ve[R+32>>>2],tm_gmtoff:Ve[R+36>>>2],tm_zone:Y?Re(Y):""},V=Re(M),Q={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ne in Q)V=V.replace(new RegExp(ne,"g"),Q[ne]);var ye=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Ce=["January","February","March","April","May","June","July","August","September","October","November","December"];function We(Oe,qe,si){for(var _t=typeof Oe=="number"?Oe.toString():Oe||"";_t.length<qe;)_t=si[0]+_t;return _t}function De(Oe,qe){return We(Oe,qe,"0")}function _e(Oe,qe){function si(ni){return ni<0?-1:ni>0?1:0}var _t;return(_t=si(Oe.getFullYear()-qe.getFullYear()))===0&&(_t=si(Oe.getMonth()-qe.getMonth()))===0&&(_t=si(Oe.getDate()-qe.getDate())),_t}function it(Oe){switch(Oe.getDay()){case 0:return new Date(Oe.getFullYear()-1,11,29);case 1:return Oe;case 2:return new Date(Oe.getFullYear(),0,3);case 3:return new Date(Oe.getFullYear(),0,2);case 4:return new Date(Oe.getFullYear(),0,1);case 5:return new Date(Oe.getFullYear()-1,11,31);case 6:return new Date(Oe.getFullYear()-1,11,30)}}function Wt(Oe){var qe=Ua(new Date(Oe.tm_year+1900,0,1),Oe.tm_yday),si=new Date(qe.getFullYear(),0,4),_t=new Date(qe.getFullYear()+1,0,4),ni=it(si),sn=it(_t);return _e(ni,qe)<=0?_e(sn,qe)<=0?qe.getFullYear()+1:qe.getFullYear():qe.getFullYear()-1}var Ht={"%a":function(Oe){return ye[Oe.tm_wday].substring(0,3)},"%A":function(Oe){return ye[Oe.tm_wday]},"%b":function(Oe){return Ce[Oe.tm_mon].substring(0,3)},"%B":function(Oe){return Ce[Oe.tm_mon]},"%C":function(Oe){var qe=Oe.tm_year+1900;return De(qe/100|0,2)},"%d":function(Oe){return De(Oe.tm_mday,2)},"%e":function(Oe){return We(Oe.tm_mday,2," ")},"%g":function(Oe){return Wt(Oe).toString().substring(2)},"%G":function(Oe){return Wt(Oe)},"%H":function(Oe){return De(Oe.tm_hour,2)},"%I":function(Oe){var qe=Oe.tm_hour;return qe==0?qe=12:qe>12&&(qe-=12),De(qe,2)},"%j":function(Oe){return De(Oe.tm_mday+Ka(Ko(Oe.tm_year+1900)?Za:Ha,Oe.tm_mon-1),3)},"%m":function(Oe){return De(Oe.tm_mon+1,2)},"%M":function(Oe){return De(Oe.tm_min,2)},"%n":function(){return`
`},"%p":function(Oe){return Oe.tm_hour>=0&&Oe.tm_hour<12?"AM":"PM"},"%S":function(Oe){return De(Oe.tm_sec,2)},"%t":function(){return"	"},"%u":function(Oe){return Oe.tm_wday||7},"%U":function(Oe){var qe=new Date(Oe.tm_year+1900,0,1),si=qe.getDay()===0?qe:Ua(qe,7-qe.getDay()),_t=new Date(Oe.tm_year+1900,Oe.tm_mon,Oe.tm_mday);if(_e(si,_t)<0){var ni=Ka(Ko(_t.getFullYear())?Za:Ha,_t.getMonth()-1)-31,sn=31-si.getDate(),fn=sn+ni+_t.getDate();return De(Math.ceil(fn/7),2)}return _e(si,qe)===0?"01":"00"},"%V":function(Oe){var qe=new Date(Oe.tm_year+1900,0,4),si=new Date(Oe.tm_year+1901,0,4),_t=it(qe),ni=it(si),sn=Ua(new Date(Oe.tm_year+1900,0,1),Oe.tm_yday);if(_e(sn,_t)<0)return"53";if(_e(ni,sn)<=0)return"01";var fn;return _t.getFullYear()<Oe.tm_year+1900?fn=Oe.tm_yday+32-_t.getDate():fn=Oe.tm_yday+1-_t.getDate(),De(Math.ceil(fn/7),2)},"%w":function(Oe){return Oe.tm_wday},"%W":function(Oe){var qe=new Date(Oe.tm_year,0,1),si=qe.getDay()===1?qe:Ua(qe,qe.getDay()===0?1:7-qe.getDay()+1),_t=new Date(Oe.tm_year+1900,Oe.tm_mon,Oe.tm_mday);if(_e(si,_t)<0){var ni=Ka(Ko(_t.getFullYear())?Za:Ha,_t.getMonth()-1)-31,sn=31-si.getDate(),fn=sn+ni+_t.getDate();return De(Math.ceil(fn/7),2)}return _e(si,qe)===0?"01":"00"},"%y":function(Oe){return(Oe.tm_year+1900).toString().substring(2)},"%Y":function(Oe){return Oe.tm_year+1900},"%z":function(Oe){var qe=Oe.tm_gmtoff,si=qe>=0;return qe=Math.abs(qe)/60,qe=qe/60*100+qe%60,(si?"+":"-")+String("0000"+qe).slice(-4)},"%Z":function(Oe){return Oe.tm_zone},"%%":function(){return"%"}};for(var ne in Ht)V.includes(ne)&&(V=V.replace(new RegExp(ne,"g"),Ht[ne](_)));var gt=_a(V,!1);return gt.length>b?0:(Lt(gt,f),gt.length-1)}function Lp(f,b,M,R){return Ip(f,b,M,R)}var fc=function(f,b,M,R){f||(f=this),this.parent=f,this.mount=f.mount,this.mounted=null,this.id=W.nextInode++,this.name=b,this.mode=M,this.node_ops={},this.stream_ops={},this.rdev=R},Zo=365,Ho=146;Object.defineProperties(fc.prototype,{read:{get:function(){return(this.mode&Zo)===Zo},set:function(f){f?this.mode|=Zo:this.mode&=~Zo}},write:{get:function(){return(this.mode&Ho)===Ho},set:function(f){f?this.mode|=Ho:this.mode&=~Ho}},isFolder:{get:function(){return W.isDir(this.mode)}},isDevice:{get:function(){return W.isChrdev(this.mode)}}}),W.FSNode=fc,W.staticInit(),r.FS_createPath=W.createPath,r.FS_createDataFile=W.createDataFile,r.FS_createPreloadedFile=W.createPreloadedFile,r.FS_createLazyFile=W.createLazyFile,r.FS_createDevice=W.createDevice,r.FS_unlink=W.unlink,ic=r.InternalError=xa(Error,"InternalError"),Ku(),Br=r.BindingError=xa(Error,"BindingError"),Ro(),Po(),Vu(),Gl=r.UnboundTypeError=xa(Error,"UnboundTypeError"),Rl();function _a(f,b,M){var R=M>0?M:Be(f)+1,Y=new Array(R),_=fe(f,Y,0,Y.length);return b&&(Y.length=_),Y}var Tc={ga:En,m:$n,u:Fe,x:Rt,b:yt,l:wt,A:ut,$:Ri,n:Yn,pa:cn,h:di,ba:Ts,qa:xo,ra:gs,Ca:Yu,Fa:ku,ka:Au,ya:sc,K:lc,J:El,p:Xa,xa:zo,Aa:qu,Q:$u,ea:ep,s:tp,z:Nl,w:cc,fa:ip,U:sp,Da:bs,Ba:Oa,I:Fl,Ea:Wo,za:uc,R:za,ha:Pl,na:Cl,Ma:wl,Ia:op,_:Xl,la:Ya,La:ks,Ka:ap,V:lp,Ja:Dl,Ha:ka,Ga:hp,B:eo,da:pc,aa:Aa,oa:up,T:dc,ta:mp,ua:mc,ca:yc,wa:yp,ja:Fn,va:fp,a:Tp,G:Yl,C:kl,c:zl,O:Kl,i:Sc,j:Al,P:Mc,X:Ec,E:Ji,y:Mp,Y:vc,N:Hl,M:_o,ia:Cc,f:At,e:As,H:Gp,F:to,g:Sp,r:xc,d:Va,k:Lc,Z:io,S:vp,D:Ep,v:xp,q:Zl,t:Ic,o:Wl,L:Gc,ma:gp,W:bp,sa:Lp};Cs(),r.___wasm_call_ctors=function(){return(r.___wasm_call_ctors=r.asm.Oa).apply(null,arguments)},r._main=function(){return(r._main=r.asm.Pa).apply(null,arguments)};var Uo=r._malloc=function(){return(Uo=r._malloc=r.asm.Qa).apply(null,arguments)},yn=r._free=function(){return(yn=r._free=r.asm.Sa).apply(null,arguments)},Pn=r.___getTypeName=function(){return(Pn=r.___getTypeName=r.asm.Ta).apply(null,arguments)};r.___embind_register_native_and_builtin_types=function(){return(r.___embind_register_native_and_builtin_types=r.asm.Ua).apply(null,arguments)};var gc=r.___errno_location=function(){return(gc=r.___errno_location=r.asm.Va).apply(null,arguments)},mi=r.stackSave=function(){return(mi=r.stackSave=r.asm.Wa).apply(null,arguments)},Vt=r.stackRestore=function(){return(Vt=r.stackRestore=r.asm.Xa).apply(null,arguments)},hi=r._setThrew=function(){return(hi=r._setThrew=r.asm.Ya).apply(null,arguments)},Ol=r.___cxa_can_catch=function(){return(Ol=r.___cxa_can_catch=r.asm.Za).apply(null,arguments)},bc=r.___cxa_is_pointer_type=function(){return(bc=r.___cxa_is_pointer_type=r.asm._a).apply(null,arguments)};r.dynCall_jiji=function(){return(r.dynCall_jiji=r.asm.$a).apply(null,arguments)};var tn=r.dynCall_j=function(){return(tn=r.dynCall_j=r.asm.ab).apply(null,arguments)};r.dynCall_viijii=function(){return(r.dynCall_viijii=r.asm.bb).apply(null,arguments)},r.dynCall_iiiiij=function(){return(r.dynCall_iiiiij=r.asm.cb).apply(null,arguments)},r.dynCall_iiiiijj=function(){return(r.dynCall_iiiiijj=r.asm.db).apply(null,arguments)},r.dynCall_iiiiiijj=function(){return(r.dynCall_iiiiiijj=r.asm.eb).apply(null,arguments)};function zl(f,b){var M=mi();try{return $.get(f)(b)}catch(R){if(Vt(M),R!==R+0&&R!=="longjmp")throw R;hi(1,0)}}function Wl(f,b,M,R,Y,_,V,Q,ne,ye,Ce){var We=mi();try{$.get(f)(b,M,R,Y,_,V,Q,ne,ye,Ce)}catch(De){if(Vt(We),De!==De+0&&De!=="longjmp")throw De;hi(1,0)}}function As(f,b){var M=mi();try{$.get(f)(b)}catch(R){if(Vt(M),R!==R+0&&R!=="longjmp")throw R;hi(1,0)}}function Ic(f,b,M,R,Y,_,V,Q,ne,ye){var Ce=mi();try{$.get(f)(b,M,R,Y,_,V,Q,ne,ye)}catch(We){if(Vt(Ce),We!==We+0&&We!=="longjmp")throw We;hi(1,0)}}function At(f){var b=mi();try{$.get(f)()}catch(M){if(Vt(b),M!==M+0&&M!=="longjmp")throw M;hi(1,0)}}function Va(f,b,M,R){var Y=mi();try{$.get(f)(b,M,R)}catch(_){if(Vt(Y),_!==_+0&&_!=="longjmp")throw _;hi(1,0)}}function Lc(f,b,M,R,Y){var _=mi();try{$.get(f)(b,M,R,Y)}catch(V){if(Vt(_),V!==V+0&&V!=="longjmp")throw V;hi(1,0)}}function Sc(f,b,M){var R=mi();try{return $.get(f)(b,M)}catch(Y){if(Vt(R),Y!==Y+0&&Y!=="longjmp")throw Y;hi(1,0)}}function Sp(f,b,M){var R=mi();try{$.get(f)(b,M)}catch(Y){if(Vt(R),Y!==Y+0&&Y!=="longjmp")throw Y;hi(1,0)}}function Mc(f,b,M,R,Y){var _=mi();try{return $.get(f)(b,M,R,Y)}catch(V){if(Vt(_),V!==V+0&&V!=="longjmp")throw V;hi(1,0)}}function Yl(f,b,M,R){var Y=mi();try{return $.get(f)(b,M,R)}catch(_){if(Vt(Y),_!==_+0&&_!=="longjmp")throw _;hi(1,0)}}function kl(f){var b=mi();try{return $.get(f)()}catch(M){if(Vt(b),M!==M+0&&M!=="longjmp")throw M;hi(1,0)}}function Al(f,b,M,R){var Y=mi();try{return $.get(f)(b,M,R)}catch(_){if(Vt(Y),_!==_+0&&_!=="longjmp")throw _;hi(1,0)}}function Kl(f,b,M){var R=mi();try{return $.get(f)(b,M)}catch(Y){if(Vt(R),Y!==Y+0&&Y!=="longjmp")throw Y;hi(1,0)}}function Mp(f,b,M,R,Y,_,V){var Q=mi();try{return $.get(f)(b,M,R,Y,_,V)}catch(ne){if(Vt(Q),ne!==ne+0&&ne!=="longjmp")throw ne;hi(1,0)}}function xp(f,b,M,R,Y,_,V){var Q=mi();try{$.get(f)(b,M,R,Y,_,V)}catch(ne){if(Vt(Q),ne!==ne+0&&ne!=="longjmp")throw ne;hi(1,0)}}function vp(f,b,M,R,Y,_,V,Q){var ne=mi();try{$.get(f)(b,M,R,Y,_,V,Q)}catch(ye){if(Vt(ne),ye!==ye+0&&ye!=="longjmp")throw ye;hi(1,0)}}function Zl(f,b,M,R,Y,_,V,Q){var ne=mi();try{$.get(f)(b,M,R,Y,_,V,Q)}catch(ye){if(Vt(ne),ye!==ye+0&&ye!=="longjmp")throw ye;hi(1,0)}}function to(f,b,M,R,Y,_,V){var Q=mi();try{$.get(f)(b,M,R,Y,_,V)}catch(ne){if(Vt(Q),ne!==ne+0&&ne!=="longjmp")throw ne;hi(1,0)}}function Gp(f,b,M,R,Y){var _=mi();try{$.get(f)(b,M,R,Y)}catch(V){if(Vt(_),V!==V+0&&V!=="longjmp")throw V;hi(1,0)}}function Ji(f,b,M,R,Y,_){var V=mi();try{return $.get(f)(b,M,R,Y,_)}catch(Q){if(Vt(V),Q!==Q+0&&Q!=="longjmp")throw Q;hi(1,0)}}function Ep(f,b,M,R,Y,_){var V=mi();try{$.get(f)(b,M,R,Y,_)}catch(Q){if(Vt(V),Q!==Q+0&&Q!=="longjmp")throw Q;hi(1,0)}}function xc(f,b,M,R,Y){var _=mi();try{$.get(f)(b,M,R,Y)}catch(V){if(Vt(_),V!==V+0&&V!=="longjmp")throw V;hi(1,0)}}function io(f,b,M,R,Y,_){var V=mi();try{$.get(f)(b,M,R,Y,_)}catch(Q){if(Vt(V),Q!==Q+0&&Q!=="longjmp")throw Q;hi(1,0)}}function Hl(f,b,M,R,Y,_,V,Q,ne){var ye=mi();try{return $.get(f)(b,M,R,Y,_,V,Q,ne)}catch(Ce){if(Vt(ye),Ce!==Ce+0&&Ce!=="longjmp")throw Ce;hi(1,0)}}function vc(f,b,M,R,Y,_,V,Q){var ne=mi();try{return $.get(f)(b,M,R,Y,_,V,Q)}catch(ye){if(Vt(ne),ye!==ye+0&&ye!=="longjmp")throw ye;hi(1,0)}}function _o(f,b,M,R,Y,_,V,Q,ne,ye,Ce,We){var De=mi();try{return $.get(f)(b,M,R,Y,_,V,Q,ne,ye,Ce,We)}catch(_e){if(Vt(De),_e!==_e+0&&_e!=="longjmp")throw _e;hi(1,0)}}function Gc(f,b,M,R,Y,_,V,Q,ne,ye,Ce,We,De,_e,it,Wt){var Ht=mi();try{$.get(f)(b,M,R,Y,_,V,Q,ne,ye,Ce,We,De,_e,it,Wt)}catch(gt){if(Vt(Ht),gt!==gt+0&&gt!=="longjmp")throw gt;hi(1,0)}}function Ec(f,b,M,R,Y,_){var V=mi();try{return $.get(f)(b,M,R,Y,_)}catch(Q){if(Vt(V),Q!==Q+0&&Q!=="longjmp")throw Q;hi(1,0)}}function Cc(f){var b=mi();try{return tn(f)}catch(M){if(Vt(b),M!==M+0&&M!=="longjmp")throw M;hi(1,0)}}r.addRunDependency=Ee,r.removeRunDependency=tt,r.FS_createPath=W.createPath,r.FS_createDataFile=W.createDataFile,r.FS_createPreloadedFile=W.createPreloadedFile,r.FS_createLazyFile=W.createLazyFile,r.FS_createDevice=W.createDevice,r.FS_unlink=W.unlink,r.FS=W;var Vo;function ja(f){this.name="ExitStatus",this.message="Program terminated with exit("+f+")",this.status=f}ue=function f(){Vo||Ul(),Vo||(ue=f)};function Rc(f){var b=r._main,M=0,R=0;try{var Y=b(M,R);Cp(Y,!0)}catch(V){if(V instanceof ja||V=="unwind")return;var _=V;V&&typeof V=="object"&&V.stack&&(_=[V,V.stack]),O("exception thrown: "+_),u(1,V)}finally{}}function Ul(f){if(Kt>0||(ve(),Kt>0))return;function b(){Vo||(Vo=!0,r.calledRun=!0,!oe&&(dt(),ot(),o(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),_l&&Rc(),mt()))}r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),b()},1)):b()}r.run=Ul;function Cp(f,b){xt()||(r.onExit&&r.onExit(f),oe=!0),u(f,new ja(f))}if(r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();var _l=!0;return r.noInitialRun&&(_l=!1),Ul(),n.ready}}();typeof e=="object"&&typeof i=="object"?i.exports=t:typeof define=="function"&&define.amd?define([],function(){return t}):typeof e=="object"&&(e.WebIFCWasm=t)}}),x_=3821786052,v_=2296667514,G_=3630933823,k1=4288193352,E_=2874132201,C_=618182010,R_=1635779807,N_=2603310189,F_=3406155212,A1=1634111441,K1=177149247,P_=1411407467,w_=3352864051,Z1=2056796094,X_=1871374353,H1=3087945054,D_=3001207471,U1=325726236,O_=749761778,z_=3199563722,W_=2483840362,Y_=3379348081,k_=3239324667,A_=4263986512,K_=53199957,Z_=2029264950,H_=3512275521,_1=1674181508,U_=669184980,__=639542469,V_=411424972,j_=130549933,B_=3869604511,J_=3798115385,Q_=1310608509,q_=2705031697,$_=3460190687,eV=3207858831,V1=277319702,tV=1532957894,iV=4261334040,sV=3125803723,nV=2740243338,rV=1967976161,oV=2461110595,aV=2887950389,lV=167062518,j1=753842376,B1=2906023776,hV=819618141,J1=4196446775,cV=3649138523,uV=616511568,pV=1334484129,Q1=32344328,dV=231477066,mV=3649129432,yV=2736907675,fV=4037036970,TV=1136057603,gV=1560379544,bV=3367102660,IV=1387855156,LV=2069777674,SV=1260505505,MV=4182860854,xV=2581212453,vV=2713105998,q1=644574406,$1=963979645,_y=4031249490,eL=3299480353,tL=2979338954,GV=39481116,iL=1095909175,EV=1909888760,CV=1950629157,sL=3124254112,RV=1177604601,nL=2938176219,NV=2188180465,FV=2898889636,rL=635142910,PV=395041908,oL=3758799889,wV=3293546465,aL=1051757585,XV=2674252688,lL=4217484030,DV=1285652485,hL=3999819293,OV=3203706013,zV=1123145078,WV=574549367,YV=1675464909,kV=2059837836,AV=59481748,KV=3749851601,ZV=3486308946,HV=3331915920,UV=1416205885,_V=3150382593,cL=3902619387,VV=2951183804,uL=3296154744,jV=2197970202,BV=2611217952,JV=2937912522,QV=1383045692,qV=1062206242,pL=1677625105,$V=3893394355,ej=747523909,tj=647927063,ij=2205249479,dL=639361253,sj=2301859152,nj=776857604,rj=3285139300,oj=3264961684,mL=843113511,yL=905975707,aj=300633059,fL=3221913625,lj=400855858,hj=2542286263,cj=3875453745,uj=3732776249,pj=15328376,dj=2485617015,mj=1485152156,TL=3571504051,yj=3850581409,gL=2272882330,fj=2816379211,Tj=2510884976,gj=370225590,bj=1981873012,Ij=2859738748,Lj=45288368,Sj=2614616156,Mj=2732653382,xj=775493141,vj=1959218052,Gj=3898045240,Ej=2185764099,Cj=1060000209,Rj=4105962743,Nj=488727124,Fj=1525564444,Pj=2559216714,wj=2574617495,Xj=3419103109,Dj=3050246964,Oj=3293443760,bL=25142252,zj=578613899,Wj=2889183280,Yj=2713554722,IL=4136498852,kj=335055490,LL=3640358203,Aj=2954562838,Kj=1785450214,Zj=1466758467,Hj=3895139033,Uj=1419761937,_j=602808272,SL=1973544240,Vj=1916426348,jj=3295246426,Bj=1815067380,Jj=2506170314,Qj=2147822146,qj=539742890,ML=3495092785,$j=1457835157,eB=2601014836,tB=2827736869,iB=2629017746,sB=1186437898,nB=3800577675,rB=1105321065,oB=2367409068,aB=3510044353,lB=1213902940,xL=4074379575,hB=3961806047,vL=3426335179,cB=1306400036,uB=3632507154,pB=1765591967,dB=1045800335,mB=2949456006,yB=32440307,GL=1335981549,fB=2635815018,TB=1945343521,EL=1052013943,gB=1599208980,bB=562808652,CL=1062813311,IB=2063403501,RL=1945004755,LB=3256556792,NL=3040386961,SB=3849074793,FL=3041715199,MB=3205830791,xB=1154170062,vB=770865208,GB=3732053477,Vy=395920057,EB=2963535650,CB=1714330368,PL=3242481149,RB=526551008,NB=2323601079,FB=445594917,PB=4006246654,wL=342316401,wB=869906466,XL=3518393246,XB=3760055223,DL=1360408905,DB=2030761528,OB=3900360178,zB=476780140,WB=1472233963,OL=1904799276,YB=663422040,zL=862014818,kB=2417008758,WL=3310460725,AB=3277789161,YL=264262732,KB=1534661035,kL=402227799,ZB=1217240411,AL=1003880860,HB=712377611,KL=1758889154,ZL=4123344466,UB=2397081782,HL=1623761950,_B=2590856083,VB=1883228015,jB=339256511,BB=2777663545,JB=1704287377,QB=2835456948,UL=1658829314,qB=2107101300,_L=2814081492,$B=132023988,VL=3747195512,e6=3174744832,jL=484807127,t6=3390157468,i6=4148101412,s6=211053100,n6=4024345920,r6=297599258,o6=4294318154,a6=3200245327,l6=1437805879,BL=1209101575,JL=2853485674,h6=2242383968,c6=1040185647,u6=3548104201,p6=477187591,d6=2804161546,m6=2556980723,y6=2047409740,f6=1809719519,T6=803316827,g6=3008276851,b6=807026263,I6=3737207727,QL=24185140,qL=1310830890,L6=4219587988,$L=3415622556,S6=346874300,eS=647756555,M6=2489546625,tS=2827207264,iS=2143335405,sS=1287392070,x6=738692330,v6=374418227,G6=315944413,nS=819412036,E6=1810631287,rS=1426591983,C6=4222183408,R6=2652556860,oS=2058353004,N6=3907093117,aS=4278956645,F6=3198132628,lS=182646315,P6=4037862832,hS=2188021234,w6=3815607619,cS=3132237377,X6=1482959167,uS=987401354,D6=1834744321,pS=707683696,O6=1339347760,dS=2223149337,z6=2297155007,mS=3508470533,W6=3009222698,yS=900683007,Y6=1893162501,jy=263784265,k6=4238390223,fS=1509553395,A6=1268542332,TS=3493046030,K6=4095422895,Z6=987898635,H6=3448662350,U6=2453401579,_6=4142052618,V6=3590301190,gS=3009204131,j6=852622518,B6=178086475,J6=2706460486,Q6=812098782,bS=3319311131,q6=1251058090,IS=2068733104,$6=1806887404,e8=1484403080,t8=3905492369,i8=3570813810,s8=2571569899,n8=178912537,r8=2294589976,o8=1437953363,a8=2133299955,LS=4175244083,l8=3946677679,h8=3113134337,c8=2391368822,u8=3741457305,p8=3020489413,SS=2176052936,d8=4288270099,m8=572779678,y8=3827777499,f8=428585644,T8=1585845231,MS=76236018,g8=1051575348,b8=2655187982,I8=3452421091,L8=4162380809,xS=629592764,S8=1161773419,M8=1566485204,x8=1402838566,v8=125510826,G8=2604431987,E8=4266656042,C8=1520743889,R8=3422422726,N8=1281925730,F8=3092502836,P8=388784114,vS=1154579445,w8=2624227202,X8=1008929658,D8=1425443689,O8=3057273783,z8=2347385850,W8=1838606355,Y8=1847130766,k8=3708119e3,A8=2852063980,K8=760658860,Z8=2022407955,H8=248100487,U8=3303938423,_8=1303795690,V8=1847252529,j8=2199411900,B8=2235152071,J8=164193824,Q8=3079605661,q8=3404854881,$8=552965576,e7=3265635763,t7=853536259,i7=1507914824,s7=2597039031,GS=377706215,n7=2108223431,ES=1437502449,r7=1114901282,CS=1073191201,RS=1911478936,o7=3181161470,a7=3368373690,l7=2998442950,h7=2706619895,NS=2474470126,c7=977012517,u7=1918398963,p7=3888040117,d7=219451334,m7=3701648758,y7=2251480897,f7=4143007308,T7=590820931,g7=3388369263,b7=3505215534,I7=2485787929,L7=2665983363,qh=3588315303,FS=3079942009,S7=4251960020,M7=1411181986,x7=643959842,v7=1029017970,G7=144952367,PS=3694346114,E7=2837617999,C7=1207048766,R7=2529465313,N7=2519244187,F7=1682466193,P7=2382730787,w7=3566463478,X7=3327091369,D7=2077209135,O7=101040310,z7=3021840470,W7=2483315170,Y7=2226359599,wS=1687234759,k7=1158309216,XS=310824031,A7=804291784,DS=3612865200,K7=4231323485,Z7=597895409,H7=2004835150,U7=603570806,_7=1663979128,V7=220341763,OS=3171933400,zS=1156407060,j7=4017108033,B7=2067069095,J7=4022376103,Q7=1423911732,q7=2924175390,$7=2775532180,eJ=2839578677,tJ=3724593414,WS=3740093272,YS=1946335990,iJ=3355820592,sJ=759155922,nJ=2559016684,rJ=3727388367,oJ=3778827333,aJ=3967405729,lJ=1775413392,hJ=677532197,cJ=2022622350,uJ=1304840413,pJ=3119450353,dJ=2417041796,mJ=2744685151,yJ=569719735,fJ=2945172077,TJ=4208778838,By=673634403,gJ=2095639259,bJ=3958567839,IJ=2802850158,rm=103090709,LJ=653396225,SJ=2904328755,MJ=3843373140,kS=3651124850,xJ=2598011224,vJ=986844984,GJ=871118103,EJ=1680319473,CJ=148025276,RJ=4166981789,NJ=3710013099,FJ=2752243245,PJ=941946838,wJ=1451395588,XJ=3357820518,DJ=492091185,OJ=3650150729,zJ=110355661,WJ=3521284610,YJ=1482703590,AS=738039164,KS=2295281155,kJ=655969474,AJ=1842657554,ZS=3219374653,HS=90941305,KJ=2250791053,ZJ=2044713172,HJ=2093928680,UJ=931644368,_J=2090586900,VJ=3252649465,jJ=2405470396,BJ=825690147,US=2262370178,JJ=2893384427,_S=3024970846,VS=3283111854,QJ=2324767716,qJ=1469900589,$J=1232101972,eQ=683857671,tQ=2770003689,iQ=3615266464,sQ=2798486643,nQ=3454111270,rQ=3915482550,oQ=2433181523,jS=4021432810,aQ=3413951693,lQ=1580146022,hQ=3765753017,BS=979691226,cQ=2572171363,JS=3027567501,uQ=964333572,QS=2320036040,pQ=2310774935,Jy=160246688,dQ=3939117080,mQ=1683148259,yQ=2495723537,fQ=1307041759,TQ=1027710054,gQ=4278684876,bQ=2857406711,IQ=205026976,LQ=1865459582,SQ=4095574036,MQ=919958153,xQ=2728634034,vQ=982818633,GQ=3840914261,Qy=2655215786,EQ=826625072,CQ=1204542856,RQ=3945020480,NQ=4201705270,FQ=3190031847,PQ=2127690289,wQ=1638771189,XQ=504942748,DQ=3678494232,qy=3242617779,OQ=886880790,zQ=2802773753,WQ=2565941209,YQ=2551354335,kQ=693640335,AQ=1462361463,$y=4186316022,KQ=307848117,ef=781010003,ZQ=3940055652,HQ=279856033,UQ=427948657,_Q=3268803585,VQ=1441486842,jQ=750771296,BQ=1245217292,JQ=4122056220,QQ=366585022,qQ=3451746338,$Q=3523091289,eq=1521410863,tq=1401173127,iq=478536968,sq=816062949,nq=1076942058,rq=3377609919,oq=3008791417,aq=1660063152,lq=2914609552,hq=2943643501,cq=1608871552,uq=2439245199,pq=1042787934,dq=1856042241,mq=3243963512,yq=4158566097,fq=3626867408,qS=2016517767,Tq=2781568857,gq=2341007311,bq=2778083089,Iq=448429030,$S=3053780830,Lq=1768891740,Sq=1054537805,Mq=2157484638,xq=2042790032,vq=4165799628,Gq=1862484736,Eq=1290935644,Cq=1509187699,eM=4086658281,Rq=1783015770,tM=1329646415,Nq=4074543187,Fq=867548509,Pq=3982875396,wq=4240577450,Xq=4124623270,Dq=3692461612,Oq=3663146110,iM=4097777520,sM=1529196076,nM=3127900445,rM=3027962421,zq=2533589738,Wq=2609359061,oM=3420628829,Yq=1072016465,kq=723233188,$h=3856911033,aM=1999602285,Aq=1305183839,Kq=3812236995,lM=1412071761,Zq=710998568,hM=2706606064,Hq=3893378262,cM=463610769,Uq=2481509218,_q=451544542,Vq=4015995234,uM=1404847402,jq=3112655638,pM=331165859,dM=4252922144,Bq=1039846685,Jq=338393293,mM=682877961,yM=3544373492,Qq=2515109513,fM=1179482911,qq=2273995522,TM=1004757350,gM=4243806635,bM=214636428,IM=2445595289,LM=2757150158,SM=3136571912,MM=1807405624,$q=2162789131,e$=385403989,t$=3478079324,i$=1252848954,s$=1595516126,n$=609421318,r$=2668620305,o$=2473145415,a$=1973038258,l$=1597423693,h$=1190533807,c$=2525727697,u$=3408363356,xM=530289379,vM=1621171031,GM=2082059205,EM=734778138,CM=1235345126,RM=3689010777,p$=2986769608,NM=3657597509,FM=1975003073,PM=3979015343,wM=2218152070,XM=603775116,d$=2830218821,m$=3958052878,y$=3049322572,f$=148013059,T$=4095615324,g$=2233826070,b$=2513912981,I$=699246055,L$=2028607225,DM=3101698114,S$=2809605785,M$=4124788165,x$=2934153892,v$=1300840506,G$=3303107099,E$=1607154358,C$=1878645084,R$=846575682,N$=1351298697,F$=626085974,P$=2247615214,w$=1260650574,X$=1096409881,D$=230924584,OM=1162798199,O$=2315554128,z$=2254336722,zM=413509423,W$=1580310250,Y$=3071757647,k$=985171141,A$=2043862942,K$=531007025,WM=812556717,Z$=5716631,H$=3473067441,U$=1549132990,_$=2771591690,V$=3206491090,j$=912023232,YM=3824725483,kM=2347447852,B$=3081323446,AM=3663046924,J$=2281632017,Q$=2415094496,q$=2387106220,$$=901063453,eee=4282788508,tee=3124975700,iee=1447204868,see=1983826977,nee=2636378356,ree=1640371178,oee=280115917,aee=1742049831,lee=2552916305,hee=1210645708,cee=3611470254,uee=1199560280,pee=3101149627,dee=581633288,mee=1377556343,yee=1735638870,fee=1935646853,KM=3825984169,Tee=1692211062,gee=2595432518,ZM=1620046519,bee=2097647324,Iee=2715220739,Lee=2916149573,See=1229763772,Mee=3593883385,HM=3026737570,xee=1600972822,vee=1628702193,Gee=3736923433,Eee=2347495698,Cee=3698973494,Ree=427810014,Nee=180925521,UM=630975310,Fee=3179687236,_M=4292641817,Pee=1911125066,VM=4207607924,wee=728799441,Xee=1417489154,Dee=2799835756,Oee=2759199220,zee=1907098498,jM=1530820697,Wee=3956297820,BM=2391383451,Yee=3313531582,JM=2769231204,kee=891718957,QM=926996030,qM=2391406946,$M=4156078855,ex=3512223829,Aee=1898987631,tx=4237592921,Kee=1133259667,tf=3304561284,Zee=336235671,Hee=512836454,ix=486154966,Uee=1299126871,_ee=4009809668,Vee=4088093105,jee=1028945134,Bee=4218914973,Jee=3342526732,Qee=1236880293,qee=2543172580,$ee=1033361043,sx=[k1,A1,K1,Z1,H1,U1,_1,V1,j1,B1,J1,Q1,q1,$1,_y,eL,tL,iL,sL,nL,rL,oL,aL,lL,hL,cL,uL,pL,dL,mL,yL,fL,TL,gL,bL,IL,LL,SL,ML,xL,vL,GL,EL,CL,RL,NL,FL,Vy,PL,wL,XL,DL,OL,zL,WL,YL,kL,AL,KL,ZL,HL,UL,_L,VL,jL,BL,JL,QL,qL,$L,eS,tS,iS,sS,nS,rS,oS,aS,lS,hS,cS,uS,pS,dS,mS,yS,jy,fS,TS,gS,bS,IS,LS,SS,MS,xS,vS,GS,ES,CS,RS,NS,qh,FS,PS,wS,XS,DS,OS,zS,WS,YS,kS,AS,KS,ZS,HS,US,_S,VS,jS,BS,JS,QS,qS,$S,eM,tM,iM,sM,nM,rM,oM,$h,aM,lM,hM,cM,uM,pM,dM,mM,yM,fM,TM,gM,bM,IM,LM,SM,MM,xM,vM,GM,EM,CM,RM,NM,FM,PM,wM,XM,DM,OM,zM,WM,YM,kM,AM,KM,ZM,HM,UM,_M,VM,jM,BM,JM,QM,qM,$M,ex,tx,tf,ix],S={};S[x_]=e=>nx.FromTape(e.ID,e.type,e.arguments),S[v_]=e=>rx.FromTape(e.ID,e.type,e.arguments),S[G_]=e=>ox.FromTape(e.ID,e.type,e.arguments),S[k1]=e=>ax.FromTape(e.ID,e.type,e.arguments),S[E_]=e=>lx.FromTape(e.ID,e.type,e.arguments),S[C_]=e=>hx.FromTape(e.ID,e.type,e.arguments),S[R_]=e=>cx.FromTape(e.ID,e.type,e.arguments),S[N_]=e=>ux.FromTape(e.ID,e.type,e.arguments),S[F_]=e=>px.FromTape(e.ID,e.type,e.arguments),S[A1]=e=>dx.FromTape(e.ID,e.type,e.arguments),S[K1]=e=>mx.FromTape(e.ID,e.type,e.arguments),S[P_]=e=>yx.FromTape(e.ID,e.type,e.arguments),S[w_]=e=>fx.FromTape(e.ID,e.type,e.arguments),S[Z1]=e=>Tx.FromTape(e.ID,e.type,e.arguments),S[X_]=e=>gx.FromTape(e.ID,e.type,e.arguments),S[H1]=e=>bx.FromTape(e.ID,e.type,e.arguments),S[D_]=e=>Ix.FromTape(e.ID,e.type,e.arguments),S[U1]=e=>Lx.FromTape(e.ID,e.type,e.arguments),S[O_]=e=>Sx.FromTape(e.ID,e.type,e.arguments),S[z_]=e=>Mx.FromTape(e.ID,e.type,e.arguments),S[W_]=e=>xx.FromTape(e.ID,e.type,e.arguments),S[Y_]=e=>vx.FromTape(e.ID,e.type,e.arguments),S[k_]=e=>Gx.FromTape(e.ID,e.type,e.arguments),S[A_]=e=>Ex.FromTape(e.ID,e.type,e.arguments),S[K_]=e=>Cx.FromTape(e.ID,e.type,e.arguments),S[Z_]=e=>Rx.FromTape(e.ID,e.type,e.arguments),S[H_]=e=>Nx.FromTape(e.ID,e.type,e.arguments),S[_1]=e=>Fx.FromTape(e.ID,e.type,e.arguments),S[U_]=e=>Px.FromTape(e.ID,e.type,e.arguments),S[__]=e=>wx.FromTape(e.ID,e.type,e.arguments),S[V_]=e=>Xx.FromTape(e.ID,e.type,e.arguments),S[j_]=e=>Dx.FromTape(e.ID,e.type,e.arguments),S[B_]=e=>Ox.FromTape(e.ID,e.type,e.arguments),S[J_]=e=>zx.FromTape(e.ID,e.type,e.arguments),S[Q_]=e=>Wx.FromTape(e.ID,e.type,e.arguments),S[q_]=e=>Yx.FromTape(e.ID,e.type,e.arguments),S[$_]=e=>kx.FromTape(e.ID,e.type,e.arguments),S[eV]=e=>Ax.FromTape(e.ID,e.type,e.arguments),S[V1]=e=>Kx.FromTape(e.ID,e.type,e.arguments),S[tV]=e=>Zx.FromTape(e.ID,e.type,e.arguments),S[iV]=e=>Hx.FromTape(e.ID,e.type,e.arguments),S[sV]=e=>Ux.FromTape(e.ID,e.type,e.arguments),S[nV]=e=>_x.FromTape(e.ID,e.type,e.arguments),S[rV]=e=>Vx.FromTape(e.ID,e.type,e.arguments),S[oV]=e=>jx.FromTape(e.ID,e.type,e.arguments),S[aV]=e=>Bx.FromTape(e.ID,e.type,e.arguments),S[lV]=e=>Jx.FromTape(e.ID,e.type,e.arguments),S[j1]=e=>Qx.FromTape(e.ID,e.type,e.arguments),S[B1]=e=>qx.FromTape(e.ID,e.type,e.arguments),S[hV]=e=>$x.FromTape(e.ID,e.type,e.arguments),S[J1]=e=>ev.FromTape(e.ID,e.type,e.arguments),S[cV]=e=>tv.FromTape(e.ID,e.type,e.arguments),S[uV]=e=>iv.FromTape(e.ID,e.type,e.arguments),S[pV]=e=>sv.FromTape(e.ID,e.type,e.arguments),S[Q1]=e=>nv.FromTape(e.ID,e.type,e.arguments),S[dV]=e=>rv.FromTape(e.ID,e.type,e.arguments),S[mV]=e=>ov.FromTape(e.ID,e.type,e.arguments),S[yV]=e=>av.FromTape(e.ID,e.type,e.arguments),S[fV]=e=>lv.FromTape(e.ID,e.type,e.arguments),S[TV]=e=>hv.FromTape(e.ID,e.type,e.arguments),S[gV]=e=>cv.FromTape(e.ID,e.type,e.arguments),S[bV]=e=>uv.FromTape(e.ID,e.type,e.arguments),S[IV]=e=>pv.FromTape(e.ID,e.type,e.arguments),S[LV]=e=>dv.FromTape(e.ID,e.type,e.arguments),S[SV]=e=>mv.FromTape(e.ID,e.type,e.arguments),S[MV]=e=>yv.FromTape(e.ID,e.type,e.arguments),S[xV]=e=>fv.FromTape(e.ID,e.type,e.arguments),S[vV]=e=>Tv.FromTape(e.ID,e.type,e.arguments),S[q1]=e=>gv.FromTape(e.ID,e.type,e.arguments),S[$1]=e=>bv.FromTape(e.ID,e.type,e.arguments),S[_y]=e=>Iv.FromTape(e.ID,e.type,e.arguments),S[eL]=e=>Lv.FromTape(e.ID,e.type,e.arguments),S[tL]=e=>Sv.FromTape(e.ID,e.type,e.arguments),S[GV]=e=>Mv.FromTape(e.ID,e.type,e.arguments),S[iL]=e=>xv.FromTape(e.ID,e.type,e.arguments),S[EV]=e=>vv.FromTape(e.ID,e.type,e.arguments),S[CV]=e=>Gv.FromTape(e.ID,e.type,e.arguments),S[sL]=e=>Ev.FromTape(e.ID,e.type,e.arguments),S[RV]=e=>Cv.FromTape(e.ID,e.type,e.arguments),S[nL]=e=>Rv.FromTape(e.ID,e.type,e.arguments),S[NV]=e=>Nv.FromTape(e.ID,e.type,e.arguments),S[FV]=e=>Fv.FromTape(e.ID,e.type,e.arguments),S[rL]=e=>Pv.FromTape(e.ID,e.type,e.arguments),S[PV]=e=>wv.FromTape(e.ID,e.type,e.arguments),S[oL]=e=>Xv.FromTape(e.ID,e.type,e.arguments),S[wV]=e=>Dv.FromTape(e.ID,e.type,e.arguments),S[aL]=e=>Ov.FromTape(e.ID,e.type,e.arguments),S[XV]=e=>zv.FromTape(e.ID,e.type,e.arguments),S[lL]=e=>Wv.FromTape(e.ID,e.type,e.arguments),S[DV]=e=>Yv.FromTape(e.ID,e.type,e.arguments),S[hL]=e=>kv.FromTape(e.ID,e.type,e.arguments),S[OV]=e=>Av.FromTape(e.ID,e.type,e.arguments),S[zV]=e=>Kv.FromTape(e.ID,e.type,e.arguments),S[WV]=e=>Zv.FromTape(e.ID,e.type,e.arguments),S[YV]=e=>Hv.FromTape(e.ID,e.type,e.arguments),S[kV]=e=>Uv.FromTape(e.ID,e.type,e.arguments),S[AV]=e=>_v.FromTape(e.ID,e.type,e.arguments),S[KV]=e=>Vv.FromTape(e.ID,e.type,e.arguments),S[ZV]=e=>jv.FromTape(e.ID,e.type,e.arguments),S[HV]=e=>Bv.FromTape(e.ID,e.type,e.arguments),S[UV]=e=>Jv.FromTape(e.ID,e.type,e.arguments),S[_V]=e=>Qv.FromTape(e.ID,e.type,e.arguments),S[cL]=e=>qv.FromTape(e.ID,e.type,e.arguments),S[VV]=e=>$v.FromTape(e.ID,e.type,e.arguments),S[uL]=e=>eG.FromTape(e.ID,e.type,e.arguments),S[jV]=e=>tG.FromTape(e.ID,e.type,e.arguments),S[BV]=e=>iG.FromTape(e.ID,e.type,e.arguments),S[JV]=e=>sG.FromTape(e.ID,e.type,e.arguments),S[QV]=e=>nG.FromTape(e.ID,e.type,e.arguments),S[qV]=e=>rG.FromTape(e.ID,e.type,e.arguments),S[pL]=e=>oG.FromTape(e.ID,e.type,e.arguments),S[$V]=e=>aG.FromTape(e.ID,e.type,e.arguments),S[ej]=e=>lG.FromTape(e.ID,e.type,e.arguments),S[tj]=e=>hG.FromTape(e.ID,e.type,e.arguments),S[ij]=e=>cG.FromTape(e.ID,e.type,e.arguments),S[dL]=e=>uG.FromTape(e.ID,e.type,e.arguments),S[sj]=e=>pG.FromTape(e.ID,e.type,e.arguments),S[nj]=e=>dG.FromTape(e.ID,e.type,e.arguments),S[rj]=e=>mG.FromTape(e.ID,e.type,e.arguments),S[oj]=e=>yG.FromTape(e.ID,e.type,e.arguments),S[mL]=e=>fG.FromTape(e.ID,e.type,e.arguments),S[yL]=e=>TG.FromTape(e.ID,e.type,e.arguments),S[aj]=e=>gG.FromTape(e.ID,e.type,e.arguments),S[fL]=e=>bG.FromTape(e.ID,e.type,e.arguments),S[lj]=e=>IG.FromTape(e.ID,e.type,e.arguments),S[hj]=e=>LG.FromTape(e.ID,e.type,e.arguments),S[cj]=e=>SG.FromTape(e.ID,e.type,e.arguments),S[uj]=e=>MG.FromTape(e.ID,e.type,e.arguments),S[pj]=e=>xG.FromTape(e.ID,e.type,e.arguments),S[dj]=e=>vG.FromTape(e.ID,e.type,e.arguments),S[mj]=e=>GG.FromTape(e.ID,e.type,e.arguments),S[TL]=e=>EG.FromTape(e.ID,e.type,e.arguments),S[yj]=e=>CG.FromTape(e.ID,e.type,e.arguments),S[gL]=e=>RG.FromTape(e.ID,e.type,e.arguments),S[fj]=e=>NG.FromTape(e.ID,e.type,e.arguments),S[Tj]=e=>FG.FromTape(e.ID,e.type,e.arguments),S[gj]=e=>PG.FromTape(e.ID,e.type,e.arguments),S[bj]=e=>wG.FromTape(e.ID,e.type,e.arguments),S[Ij]=e=>XG.FromTape(e.ID,e.type,e.arguments),S[Lj]=e=>DG.FromTape(e.ID,e.type,e.arguments),S[Sj]=e=>OG.FromTape(e.ID,e.type,e.arguments),S[Mj]=e=>zG.FromTape(e.ID,e.type,e.arguments),S[xj]=e=>WG.FromTape(e.ID,e.type,e.arguments),S[vj]=e=>YG.FromTape(e.ID,e.type,e.arguments),S[Gj]=e=>kG.FromTape(e.ID,e.type,e.arguments),S[Ej]=e=>AG.FromTape(e.ID,e.type,e.arguments),S[Cj]=e=>KG.FromTape(e.ID,e.type,e.arguments),S[Rj]=e=>ZG.FromTape(e.ID,e.type,e.arguments),S[Nj]=e=>HG.FromTape(e.ID,e.type,e.arguments),S[Fj]=e=>UG.FromTape(e.ID,e.type,e.arguments),S[Pj]=e=>_G.FromTape(e.ID,e.type,e.arguments),S[wj]=e=>VG.FromTape(e.ID,e.type,e.arguments),S[Xj]=e=>jG.FromTape(e.ID,e.type,e.arguments),S[Dj]=e=>BG.FromTape(e.ID,e.type,e.arguments),S[Oj]=e=>JG.FromTape(e.ID,e.type,e.arguments),S[bL]=e=>QG.FromTape(e.ID,e.type,e.arguments),S[zj]=e=>qG.FromTape(e.ID,e.type,e.arguments),S[Wj]=e=>$G.FromTape(e.ID,e.type,e.arguments),S[Yj]=e=>eE.FromTape(e.ID,e.type,e.arguments),S[IL]=e=>tE.FromTape(e.ID,e.type,e.arguments),S[kj]=e=>iE.FromTape(e.ID,e.type,e.arguments),S[LL]=e=>sE.FromTape(e.ID,e.type,e.arguments),S[Aj]=e=>nE.FromTape(e.ID,e.type,e.arguments),S[Kj]=e=>rE.FromTape(e.ID,e.type,e.arguments),S[Zj]=e=>oE.FromTape(e.ID,e.type,e.arguments),S[Hj]=e=>aE.FromTape(e.ID,e.type,e.arguments),S[Uj]=e=>lE.FromTape(e.ID,e.type,e.arguments),S[_j]=e=>hE.FromTape(e.ID,e.type,e.arguments),S[SL]=e=>cE.FromTape(e.ID,e.type,e.arguments),S[Vj]=e=>uE.FromTape(e.ID,e.type,e.arguments),S[jj]=e=>pE.FromTape(e.ID,e.type,e.arguments),S[Bj]=e=>dE.FromTape(e.ID,e.type,e.arguments),S[Jj]=e=>mE.FromTape(e.ID,e.type,e.arguments),S[Qj]=e=>yE.FromTape(e.ID,e.type,e.arguments),S[qj]=e=>fE.FromTape(e.ID,e.type,e.arguments),S[ML]=e=>TE.FromTape(e.ID,e.type,e.arguments),S[$j]=e=>gE.FromTape(e.ID,e.type,e.arguments),S[eB]=e=>bE.FromTape(e.ID,e.type,e.arguments),S[tB]=e=>IE.FromTape(e.ID,e.type,e.arguments),S[iB]=e=>LE.FromTape(e.ID,e.type,e.arguments),S[sB]=e=>SE.FromTape(e.ID,e.type,e.arguments),S[nB]=e=>ME.FromTape(e.ID,e.type,e.arguments),S[rB]=e=>xE.FromTape(e.ID,e.type,e.arguments),S[oB]=e=>vE.FromTape(e.ID,e.type,e.arguments),S[aB]=e=>GE.FromTape(e.ID,e.type,e.arguments),S[lB]=e=>EE.FromTape(e.ID,e.type,e.arguments),S[xL]=e=>CE.FromTape(e.ID,e.type,e.arguments),S[hB]=e=>RE.FromTape(e.ID,e.type,e.arguments),S[vL]=e=>NE.FromTape(e.ID,e.type,e.arguments),S[cB]=e=>FE.FromTape(e.ID,e.type,e.arguments),S[uB]=e=>PE.FromTape(e.ID,e.type,e.arguments),S[pB]=e=>wE.FromTape(e.ID,e.type,e.arguments),S[dB]=e=>XE.FromTape(e.ID,e.type,e.arguments),S[mB]=e=>DE.FromTape(e.ID,e.type,e.arguments),S[yB]=e=>OE.FromTape(e.ID,e.type,e.arguments),S[GL]=e=>zE.FromTape(e.ID,e.type,e.arguments),S[fB]=e=>WE.FromTape(e.ID,e.type,e.arguments),S[TB]=e=>YE.FromTape(e.ID,e.type,e.arguments),S[EL]=e=>kE.FromTape(e.ID,e.type,e.arguments),S[gB]=e=>AE.FromTape(e.ID,e.type,e.arguments),S[bB]=e=>KE.FromTape(e.ID,e.type,e.arguments),S[CL]=e=>ZE.FromTape(e.ID,e.type,e.arguments),S[IB]=e=>HE.FromTape(e.ID,e.type,e.arguments),S[RL]=e=>UE.FromTape(e.ID,e.type,e.arguments),S[LB]=e=>_E.FromTape(e.ID,e.type,e.arguments),S[NL]=e=>VE.FromTape(e.ID,e.type,e.arguments),S[SB]=e=>jE.FromTape(e.ID,e.type,e.arguments),S[FL]=e=>BE.FromTape(e.ID,e.type,e.arguments),S[MB]=e=>JE.FromTape(e.ID,e.type,e.arguments),S[xB]=e=>QE.FromTape(e.ID,e.type,e.arguments),S[vB]=e=>qE.FromTape(e.ID,e.type,e.arguments),S[GB]=e=>$E.FromTape(e.ID,e.type,e.arguments),S[Vy]=e=>eC.FromTape(e.ID,e.type,e.arguments),S[EB]=e=>tC.FromTape(e.ID,e.type,e.arguments),S[CB]=e=>iC.FromTape(e.ID,e.type,e.arguments),S[PL]=e=>sC.FromTape(e.ID,e.type,e.arguments),S[RB]=e=>nC.FromTape(e.ID,e.type,e.arguments),S[NB]=e=>rC.FromTape(e.ID,e.type,e.arguments),S[FB]=e=>oC.FromTape(e.ID,e.type,e.arguments),S[PB]=e=>aC.FromTape(e.ID,e.type,e.arguments),S[wL]=e=>lC.FromTape(e.ID,e.type,e.arguments),S[wB]=e=>hC.FromTape(e.ID,e.type,e.arguments),S[XL]=e=>cC.FromTape(e.ID,e.type,e.arguments),S[XB]=e=>uC.FromTape(e.ID,e.type,e.arguments),S[DL]=e=>pC.FromTape(e.ID,e.type,e.arguments),S[DB]=e=>dC.FromTape(e.ID,e.type,e.arguments),S[OB]=e=>mC.FromTape(e.ID,e.type,e.arguments),S[zB]=e=>yC.FromTape(e.ID,e.type,e.arguments),S[WB]=e=>fC.FromTape(e.ID,e.type,e.arguments),S[OL]=e=>TC.FromTape(e.ID,e.type,e.arguments),S[YB]=e=>gC.FromTape(e.ID,e.type,e.arguments),S[zL]=e=>bC.FromTape(e.ID,e.type,e.arguments),S[kB]=e=>IC.FromTape(e.ID,e.type,e.arguments),S[WL]=e=>LC.FromTape(e.ID,e.type,e.arguments),S[AB]=e=>SC.FromTape(e.ID,e.type,e.arguments),S[YL]=e=>MC.FromTape(e.ID,e.type,e.arguments),S[KB]=e=>xC.FromTape(e.ID,e.type,e.arguments),S[kL]=e=>vC.FromTape(e.ID,e.type,e.arguments),S[ZB]=e=>GC.FromTape(e.ID,e.type,e.arguments),S[AL]=e=>EC.FromTape(e.ID,e.type,e.arguments),S[HB]=e=>CC.FromTape(e.ID,e.type,e.arguments),S[KL]=e=>RC.FromTape(e.ID,e.type,e.arguments),S[ZL]=e=>NC.FromTape(e.ID,e.type,e.arguments),S[UB]=e=>FC.FromTape(e.ID,e.type,e.arguments),S[HL]=e=>PC.FromTape(e.ID,e.type,e.arguments),S[_B]=e=>wC.FromTape(e.ID,e.type,e.arguments),S[VB]=e=>XC.FromTape(e.ID,e.type,e.arguments),S[jB]=e=>DC.FromTape(e.ID,e.type,e.arguments),S[BB]=e=>OC.FromTape(e.ID,e.type,e.arguments),S[JB]=e=>zC.FromTape(e.ID,e.type,e.arguments),S[QB]=e=>WC.FromTape(e.ID,e.type,e.arguments),S[UL]=e=>YC.FromTape(e.ID,e.type,e.arguments),S[qB]=e=>kC.FromTape(e.ID,e.type,e.arguments),S[_L]=e=>AC.FromTape(e.ID,e.type,e.arguments),S[$B]=e=>KC.FromTape(e.ID,e.type,e.arguments),S[VL]=e=>ZC.FromTape(e.ID,e.type,e.arguments),S[e6]=e=>HC.FromTape(e.ID,e.type,e.arguments),S[jL]=e=>UC.FromTape(e.ID,e.type,e.arguments),S[t6]=e=>_C.FromTape(e.ID,e.type,e.arguments),S[i6]=e=>VC.FromTape(e.ID,e.type,e.arguments),S[s6]=e=>jC.FromTape(e.ID,e.type,e.arguments),S[n6]=e=>BC.FromTape(e.ID,e.type,e.arguments),S[r6]=e=>JC.FromTape(e.ID,e.type,e.arguments),S[o6]=e=>QC.FromTape(e.ID,e.type,e.arguments),S[a6]=e=>qC.FromTape(e.ID,e.type,e.arguments),S[l6]=e=>$C.FromTape(e.ID,e.type,e.arguments),S[BL]=e=>eR.FromTape(e.ID,e.type,e.arguments),S[JL]=e=>tR.FromTape(e.ID,e.type,e.arguments),S[h6]=e=>iR.FromTape(e.ID,e.type,e.arguments),S[c6]=e=>sR.FromTape(e.ID,e.type,e.arguments),S[u6]=e=>nR.FromTape(e.ID,e.type,e.arguments),S[p6]=e=>rR.FromTape(e.ID,e.type,e.arguments),S[d6]=e=>oR.FromTape(e.ID,e.type,e.arguments),S[m6]=e=>aR.FromTape(e.ID,e.type,e.arguments),S[y6]=e=>lR.FromTape(e.ID,e.type,e.arguments),S[f6]=e=>hR.FromTape(e.ID,e.type,e.arguments),S[T6]=e=>cR.FromTape(e.ID,e.type,e.arguments),S[g6]=e=>uR.FromTape(e.ID,e.type,e.arguments),S[b6]=e=>pR.FromTape(e.ID,e.type,e.arguments),S[I6]=e=>dR.FromTape(e.ID,e.type,e.arguments),S[QL]=e=>mR.FromTape(e.ID,e.type,e.arguments),S[qL]=e=>yR.FromTape(e.ID,e.type,e.arguments),S[L6]=e=>fR.FromTape(e.ID,e.type,e.arguments),S[$L]=e=>TR.FromTape(e.ID,e.type,e.arguments),S[S6]=e=>gR.FromTape(e.ID,e.type,e.arguments),S[eS]=e=>bR.FromTape(e.ID,e.type,e.arguments),S[M6]=e=>IR.FromTape(e.ID,e.type,e.arguments),S[tS]=e=>LR.FromTape(e.ID,e.type,e.arguments),S[iS]=e=>SR.FromTape(e.ID,e.type,e.arguments),S[sS]=e=>MR.FromTape(e.ID,e.type,e.arguments),S[x6]=e=>xR.FromTape(e.ID,e.type,e.arguments),S[v6]=e=>vR.FromTape(e.ID,e.type,e.arguments),S[G6]=e=>GR.FromTape(e.ID,e.type,e.arguments),S[nS]=e=>ER.FromTape(e.ID,e.type,e.arguments),S[E6]=e=>CR.FromTape(e.ID,e.type,e.arguments),S[rS]=e=>RR.FromTape(e.ID,e.type,e.arguments),S[C6]=e=>NR.FromTape(e.ID,e.type,e.arguments),S[R6]=e=>FR.FromTape(e.ID,e.type,e.arguments),S[oS]=e=>PR.FromTape(e.ID,e.type,e.arguments),S[N6]=e=>wR.FromTape(e.ID,e.type,e.arguments),S[aS]=e=>XR.FromTape(e.ID,e.type,e.arguments),S[F6]=e=>DR.FromTape(e.ID,e.type,e.arguments),S[lS]=e=>OR.FromTape(e.ID,e.type,e.arguments),S[P6]=e=>zR.FromTape(e.ID,e.type,e.arguments),S[hS]=e=>WR.FromTape(e.ID,e.type,e.arguments),S[w6]=e=>YR.FromTape(e.ID,e.type,e.arguments),S[cS]=e=>kR.FromTape(e.ID,e.type,e.arguments),S[X6]=e=>AR.FromTape(e.ID,e.type,e.arguments),S[uS]=e=>KR.FromTape(e.ID,e.type,e.arguments),S[D6]=e=>ZR.FromTape(e.ID,e.type,e.arguments),S[pS]=e=>HR.FromTape(e.ID,e.type,e.arguments),S[O6]=e=>UR.FromTape(e.ID,e.type,e.arguments),S[dS]=e=>_R.FromTape(e.ID,e.type,e.arguments),S[z6]=e=>VR.FromTape(e.ID,e.type,e.arguments),S[mS]=e=>jR.FromTape(e.ID,e.type,e.arguments),S[W6]=e=>BR.FromTape(e.ID,e.type,e.arguments),S[yS]=e=>JR.FromTape(e.ID,e.type,e.arguments),S[Y6]=e=>QR.FromTape(e.ID,e.type,e.arguments),S[jy]=e=>qR.FromTape(e.ID,e.type,e.arguments),S[k6]=e=>$R.FromTape(e.ID,e.type,e.arguments),S[fS]=e=>e2.FromTape(e.ID,e.type,e.arguments),S[A6]=e=>t2.FromTape(e.ID,e.type,e.arguments),S[TS]=e=>i2.FromTape(e.ID,e.type,e.arguments),S[K6]=e=>s2.FromTape(e.ID,e.type,e.arguments),S[Z6]=e=>n2.FromTape(e.ID,e.type,e.arguments),S[H6]=e=>r2.FromTape(e.ID,e.type,e.arguments),S[U6]=e=>o2.FromTape(e.ID,e.type,e.arguments),S[_6]=e=>a2.FromTape(e.ID,e.type,e.arguments),S[V6]=e=>l2.FromTape(e.ID,e.type,e.arguments),S[gS]=e=>h2.FromTape(e.ID,e.type,e.arguments),S[j6]=e=>c2.FromTape(e.ID,e.type,e.arguments),S[B6]=e=>u2.FromTape(e.ID,e.type,e.arguments),S[J6]=e=>p2.FromTape(e.ID,e.type,e.arguments),S[Q6]=e=>d2.FromTape(e.ID,e.type,e.arguments),S[bS]=e=>m2.FromTape(e.ID,e.type,e.arguments),S[q6]=e=>y2.FromTape(e.ID,e.type,e.arguments),S[IS]=e=>f2.FromTape(e.ID,e.type,e.arguments),S[$6]=e=>T2.FromTape(e.ID,e.type,e.arguments),S[e8]=e=>g2.FromTape(e.ID,e.type,e.arguments),S[t8]=e=>b2.FromTape(e.ID,e.type,e.arguments),S[i8]=e=>I2.FromTape(e.ID,e.type,e.arguments),S[s8]=e=>L2.FromTape(e.ID,e.type,e.arguments),S[n8]=e=>S2.FromTape(e.ID,e.type,e.arguments),S[r8]=e=>M2.FromTape(e.ID,e.type,e.arguments),S[o8]=e=>x2.FromTape(e.ID,e.type,e.arguments),S[a8]=e=>v2.FromTape(e.ID,e.type,e.arguments),S[LS]=e=>G2.FromTape(e.ID,e.type,e.arguments),S[l8]=e=>E2.FromTape(e.ID,e.type,e.arguments),S[h8]=e=>C2.FromTape(e.ID,e.type,e.arguments),S[c8]=e=>R2.FromTape(e.ID,e.type,e.arguments),S[u8]=e=>N2.FromTape(e.ID,e.type,e.arguments),S[p8]=e=>F2.FromTape(e.ID,e.type,e.arguments),S[SS]=e=>P2.FromTape(e.ID,e.type,e.arguments),S[d8]=e=>w2.FromTape(e.ID,e.type,e.arguments),S[m8]=e=>X2.FromTape(e.ID,e.type,e.arguments),S[y8]=e=>D2.FromTape(e.ID,e.type,e.arguments),S[f8]=e=>O2.FromTape(e.ID,e.type,e.arguments),S[T8]=e=>z2.FromTape(e.ID,e.type,e.arguments),S[MS]=e=>W2.FromTape(e.ID,e.type,e.arguments),S[g8]=e=>Y2.FromTape(e.ID,e.type,e.arguments),S[b8]=e=>k2.FromTape(e.ID,e.type,e.arguments),S[I8]=e=>A2.FromTape(e.ID,e.type,e.arguments),S[L8]=e=>K2.FromTape(e.ID,e.type,e.arguments),S[xS]=e=>Z2.FromTape(e.ID,e.type,e.arguments),S[S8]=e=>H2.FromTape(e.ID,e.type,e.arguments),S[M8]=e=>U2.FromTape(e.ID,e.type,e.arguments),S[x8]=e=>_2.FromTape(e.ID,e.type,e.arguments),S[v8]=e=>V2.FromTape(e.ID,e.type,e.arguments),S[G8]=e=>j2.FromTape(e.ID,e.type,e.arguments),S[E8]=e=>B2.FromTape(e.ID,e.type,e.arguments),S[C8]=e=>J2.FromTape(e.ID,e.type,e.arguments),S[R8]=e=>Q2.FromTape(e.ID,e.type,e.arguments),S[N8]=e=>q2.FromTape(e.ID,e.type,e.arguments),S[F8]=e=>$2.FromTape(e.ID,e.type,e.arguments),S[P8]=e=>e5.FromTape(e.ID,e.type,e.arguments),S[vS]=e=>t5.FromTape(e.ID,e.type,e.arguments),S[w8]=e=>i5.FromTape(e.ID,e.type,e.arguments),S[X8]=e=>s5.FromTape(e.ID,e.type,e.arguments),S[D8]=e=>n5.FromTape(e.ID,e.type,e.arguments),S[O8]=e=>r5.FromTape(e.ID,e.type,e.arguments),S[z8]=e=>o5.FromTape(e.ID,e.type,e.arguments),S[W8]=e=>a5.FromTape(e.ID,e.type,e.arguments),S[Y8]=e=>l5.FromTape(e.ID,e.type,e.arguments),S[k8]=e=>h5.FromTape(e.ID,e.type,e.arguments),S[A8]=e=>c5.FromTape(e.ID,e.type,e.arguments),S[K8]=e=>u5.FromTape(e.ID,e.type,e.arguments),S[Z8]=e=>p5.FromTape(e.ID,e.type,e.arguments),S[H8]=e=>d5.FromTape(e.ID,e.type,e.arguments),S[U8]=e=>m5.FromTape(e.ID,e.type,e.arguments),S[_8]=e=>y5.FromTape(e.ID,e.type,e.arguments),S[V8]=e=>f5.FromTape(e.ID,e.type,e.arguments),S[j8]=e=>T5.FromTape(e.ID,e.type,e.arguments),S[B8]=e=>g5.FromTape(e.ID,e.type,e.arguments),S[J8]=e=>b5.FromTape(e.ID,e.type,e.arguments),S[Q8]=e=>I5.FromTape(e.ID,e.type,e.arguments),S[q8]=e=>L5.FromTape(e.ID,e.type,e.arguments),S[$8]=e=>S5.FromTape(e.ID,e.type,e.arguments),S[e7]=e=>M5.FromTape(e.ID,e.type,e.arguments),S[t7]=e=>x5.FromTape(e.ID,e.type,e.arguments),S[i7]=e=>v5.FromTape(e.ID,e.type,e.arguments),S[s7]=e=>G5.FromTape(e.ID,e.type,e.arguments),S[GS]=e=>E5.FromTape(e.ID,e.type,e.arguments),S[n7]=e=>C5.FromTape(e.ID,e.type,e.arguments),S[ES]=e=>R5.FromTape(e.ID,e.type,e.arguments),S[r7]=e=>N5.FromTape(e.ID,e.type,e.arguments),S[CS]=e=>F5.FromTape(e.ID,e.type,e.arguments),S[RS]=e=>P5.FromTape(e.ID,e.type,e.arguments),S[o7]=e=>w5.FromTape(e.ID,e.type,e.arguments),S[a7]=e=>X5.FromTape(e.ID,e.type,e.arguments),S[l7]=e=>D5.FromTape(e.ID,e.type,e.arguments),S[h7]=e=>O5.FromTape(e.ID,e.type,e.arguments),S[NS]=e=>z5.FromTape(e.ID,e.type,e.arguments),S[c7]=e=>W5.FromTape(e.ID,e.type,e.arguments),S[u7]=e=>Y5.FromTape(e.ID,e.type,e.arguments),S[p7]=e=>k5.FromTape(e.ID,e.type,e.arguments),S[d7]=e=>A5.FromTape(e.ID,e.type,e.arguments),S[m7]=e=>K5.FromTape(e.ID,e.type,e.arguments),S[y7]=e=>Z5.FromTape(e.ID,e.type,e.arguments),S[f7]=e=>H5.FromTape(e.ID,e.type,e.arguments),S[T7]=e=>U5.FromTape(e.ID,e.type,e.arguments),S[g7]=e=>_5.FromTape(e.ID,e.type,e.arguments),S[b7]=e=>V5.FromTape(e.ID,e.type,e.arguments),S[I7]=e=>j5.FromTape(e.ID,e.type,e.arguments),S[L7]=e=>B5.FromTape(e.ID,e.type,e.arguments),S[qh]=e=>J5.FromTape(e.ID,e.type,e.arguments),S[FS]=e=>Q5.FromTape(e.ID,e.type,e.arguments),S[S7]=e=>q5.FromTape(e.ID,e.type,e.arguments),S[M7]=e=>$5.FromTape(e.ID,e.type,e.arguments),S[x7]=e=>eN.FromTape(e.ID,e.type,e.arguments),S[v7]=e=>tN.FromTape(e.ID,e.type,e.arguments),S[G7]=e=>iN.FromTape(e.ID,e.type,e.arguments),S[PS]=e=>sN.FromTape(e.ID,e.type,e.arguments),S[E7]=e=>nN.FromTape(e.ID,e.type,e.arguments),S[C7]=e=>rN.FromTape(e.ID,e.type,e.arguments),S[R7]=e=>oN.FromTape(e.ID,e.type,e.arguments),S[N7]=e=>aN.FromTape(e.ID,e.type,e.arguments),S[F7]=e=>lN.FromTape(e.ID,e.type,e.arguments),S[P7]=e=>hN.FromTape(e.ID,e.type,e.arguments),S[w7]=e=>cN.FromTape(e.ID,e.type,e.arguments),S[X7]=e=>uN.FromTape(e.ID,e.type,e.arguments),S[D7]=e=>pN.FromTape(e.ID,e.type,e.arguments),S[O7]=e=>dN.FromTape(e.ID,e.type,e.arguments),S[z7]=e=>mN.FromTape(e.ID,e.type,e.arguments),S[W7]=e=>yN.FromTape(e.ID,e.type,e.arguments),S[Y7]=e=>fN.FromTape(e.ID,e.type,e.arguments),S[wS]=e=>TN.FromTape(e.ID,e.type,e.arguments),S[k7]=e=>gN.FromTape(e.ID,e.type,e.arguments),S[XS]=e=>bN.FromTape(e.ID,e.type,e.arguments),S[A7]=e=>IN.FromTape(e.ID,e.type,e.arguments),S[DS]=e=>LN.FromTape(e.ID,e.type,e.arguments),S[K7]=e=>SN.FromTape(e.ID,e.type,e.arguments),S[Z7]=e=>MN.FromTape(e.ID,e.type,e.arguments),S[H7]=e=>xN.FromTape(e.ID,e.type,e.arguments),S[U7]=e=>vN.FromTape(e.ID,e.type,e.arguments),S[_7]=e=>GN.FromTape(e.ID,e.type,e.arguments),S[V7]=e=>EN.FromTape(e.ID,e.type,e.arguments),S[OS]=e=>CN.FromTape(e.ID,e.type,e.arguments),S[zS]=e=>RN.FromTape(e.ID,e.type,e.arguments),S[j7]=e=>NN.FromTape(e.ID,e.type,e.arguments),S[B7]=e=>FN.FromTape(e.ID,e.type,e.arguments),S[J7]=e=>PN.FromTape(e.ID,e.type,e.arguments),S[Q7]=e=>wN.FromTape(e.ID,e.type,e.arguments),S[q7]=e=>XN.FromTape(e.ID,e.type,e.arguments),S[$7]=e=>DN.FromTape(e.ID,e.type,e.arguments),S[eJ]=e=>ON.FromTape(e.ID,e.type,e.arguments),S[tJ]=e=>zN.FromTape(e.ID,e.type,e.arguments),S[WS]=e=>WN.FromTape(e.ID,e.type,e.arguments),S[YS]=e=>YN.FromTape(e.ID,e.type,e.arguments),S[iJ]=e=>kN.FromTape(e.ID,e.type,e.arguments),S[sJ]=e=>AN.FromTape(e.ID,e.type,e.arguments),S[nJ]=e=>KN.FromTape(e.ID,e.type,e.arguments),S[rJ]=e=>ZN.FromTape(e.ID,e.type,e.arguments),S[oJ]=e=>HN.FromTape(e.ID,e.type,e.arguments),S[aJ]=e=>UN.FromTape(e.ID,e.type,e.arguments),S[lJ]=e=>_N.FromTape(e.ID,e.type,e.arguments),S[hJ]=e=>VN.FromTape(e.ID,e.type,e.arguments),S[cJ]=e=>jN.FromTape(e.ID,e.type,e.arguments),S[uJ]=e=>BN.FromTape(e.ID,e.type,e.arguments),S[pJ]=e=>JN.FromTape(e.ID,e.type,e.arguments),S[dJ]=e=>QN.FromTape(e.ID,e.type,e.arguments),S[mJ]=e=>qN.FromTape(e.ID,e.type,e.arguments),S[yJ]=e=>$N.FromTape(e.ID,e.type,e.arguments),S[fJ]=e=>eF.FromTape(e.ID,e.type,e.arguments),S[TJ]=e=>tF.FromTape(e.ID,e.type,e.arguments),S[By]=e=>iF.FromTape(e.ID,e.type,e.arguments),S[gJ]=e=>sF.FromTape(e.ID,e.type,e.arguments),S[bJ]=e=>nF.FromTape(e.ID,e.type,e.arguments),S[IJ]=e=>rF.FromTape(e.ID,e.type,e.arguments),S[rm]=e=>oF.FromTape(e.ID,e.type,e.arguments),S[LJ]=e=>aF.FromTape(e.ID,e.type,e.arguments),S[SJ]=e=>lF.FromTape(e.ID,e.type,e.arguments),S[MJ]=e=>hF.FromTape(e.ID,e.type,e.arguments),S[kS]=e=>cF.FromTape(e.ID,e.type,e.arguments),S[xJ]=e=>uF.FromTape(e.ID,e.type,e.arguments),S[vJ]=e=>pF.FromTape(e.ID,e.type,e.arguments),S[GJ]=e=>dF.FromTape(e.ID,e.type,e.arguments),S[EJ]=e=>mF.FromTape(e.ID,e.type,e.arguments),S[CJ]=e=>yF.FromTape(e.ID,e.type,e.arguments),S[RJ]=e=>fF.FromTape(e.ID,e.type,e.arguments),S[NJ]=e=>TF.FromTape(e.ID,e.type,e.arguments),S[FJ]=e=>gF.FromTape(e.ID,e.type,e.arguments),S[PJ]=e=>bF.FromTape(e.ID,e.type,e.arguments),S[wJ]=e=>IF.FromTape(e.ID,e.type,e.arguments),S[XJ]=e=>LF.FromTape(e.ID,e.type,e.arguments),S[DJ]=e=>SF.FromTape(e.ID,e.type,e.arguments),S[OJ]=e=>MF.FromTape(e.ID,e.type,e.arguments),S[zJ]=e=>xF.FromTape(e.ID,e.type,e.arguments),S[WJ]=e=>vF.FromTape(e.ID,e.type,e.arguments),S[YJ]=e=>GF.FromTape(e.ID,e.type,e.arguments),S[AS]=e=>EF.FromTape(e.ID,e.type,e.arguments),S[KS]=e=>CF.FromTape(e.ID,e.type,e.arguments),S[kJ]=e=>RF.FromTape(e.ID,e.type,e.arguments),S[AJ]=e=>NF.FromTape(e.ID,e.type,e.arguments),S[ZS]=e=>FF.FromTape(e.ID,e.type,e.arguments),S[HS]=e=>PF.FromTape(e.ID,e.type,e.arguments),S[KJ]=e=>wF.FromTape(e.ID,e.type,e.arguments),S[ZJ]=e=>XF.FromTape(e.ID,e.type,e.arguments),S[HJ]=e=>DF.FromTape(e.ID,e.type,e.arguments),S[UJ]=e=>OF.FromTape(e.ID,e.type,e.arguments),S[_J]=e=>zF.FromTape(e.ID,e.type,e.arguments),S[VJ]=e=>WF.FromTape(e.ID,e.type,e.arguments),S[jJ]=e=>YF.FromTape(e.ID,e.type,e.arguments),S[BJ]=e=>kF.FromTape(e.ID,e.type,e.arguments),S[US]=e=>AF.FromTape(e.ID,e.type,e.arguments),S[JJ]=e=>KF.FromTape(e.ID,e.type,e.arguments),S[_S]=e=>ZF.FromTape(e.ID,e.type,e.arguments),S[VS]=e=>HF.FromTape(e.ID,e.type,e.arguments),S[QJ]=e=>UF.FromTape(e.ID,e.type,e.arguments),S[qJ]=e=>_F.FromTape(e.ID,e.type,e.arguments),S[$J]=e=>VF.FromTape(e.ID,e.type,e.arguments),S[eQ]=e=>jF.FromTape(e.ID,e.type,e.arguments),S[tQ]=e=>BF.FromTape(e.ID,e.type,e.arguments),S[iQ]=e=>JF.FromTape(e.ID,e.type,e.arguments),S[sQ]=e=>QF.FromTape(e.ID,e.type,e.arguments),S[nQ]=e=>qF.FromTape(e.ID,e.type,e.arguments),S[rQ]=e=>$F.FromTape(e.ID,e.type,e.arguments),S[oQ]=e=>eP.FromTape(e.ID,e.type,e.arguments),S[jS]=e=>tP.FromTape(e.ID,e.type,e.arguments),S[aQ]=e=>iP.FromTape(e.ID,e.type,e.arguments),S[lQ]=e=>sP.FromTape(e.ID,e.type,e.arguments),S[hQ]=e=>nP.FromTape(e.ID,e.type,e.arguments),S[BS]=e=>rP.FromTape(e.ID,e.type,e.arguments),S[cQ]=e=>oP.FromTape(e.ID,e.type,e.arguments),S[JS]=e=>aP.FromTape(e.ID,e.type,e.arguments),S[uQ]=e=>lP.FromTape(e.ID,e.type,e.arguments),S[QS]=e=>hP.FromTape(e.ID,e.type,e.arguments),S[pQ]=e=>cP.FromTape(e.ID,e.type,e.arguments),S[Jy]=e=>uP.FromTape(e.ID,e.type,e.arguments),S[dQ]=e=>pP.FromTape(e.ID,e.type,e.arguments),S[mQ]=e=>dP.FromTape(e.ID,e.type,e.arguments),S[yQ]=e=>mP.FromTape(e.ID,e.type,e.arguments),S[fQ]=e=>yP.FromTape(e.ID,e.type,e.arguments),S[TQ]=e=>fP.FromTape(e.ID,e.type,e.arguments),S[gQ]=e=>TP.FromTape(e.ID,e.type,e.arguments),S[bQ]=e=>gP.FromTape(e.ID,e.type,e.arguments),S[IQ]=e=>bP.FromTape(e.ID,e.type,e.arguments),S[LQ]=e=>IP.FromTape(e.ID,e.type,e.arguments),S[SQ]=e=>LP.FromTape(e.ID,e.type,e.arguments),S[MQ]=e=>SP.FromTape(e.ID,e.type,e.arguments),S[xQ]=e=>MP.FromTape(e.ID,e.type,e.arguments),S[vQ]=e=>xP.FromTape(e.ID,e.type,e.arguments),S[GQ]=e=>vP.FromTape(e.ID,e.type,e.arguments),S[Qy]=e=>GP.FromTape(e.ID,e.type,e.arguments),S[EQ]=e=>EP.FromTape(e.ID,e.type,e.arguments),S[CQ]=e=>CP.FromTape(e.ID,e.type,e.arguments),S[RQ]=e=>RP.FromTape(e.ID,e.type,e.arguments),S[NQ]=e=>NP.FromTape(e.ID,e.type,e.arguments),S[FQ]=e=>FP.FromTape(e.ID,e.type,e.arguments),S[PQ]=e=>PP.FromTape(e.ID,e.type,e.arguments),S[wQ]=e=>wP.FromTape(e.ID,e.type,e.arguments),S[XQ]=e=>XP.FromTape(e.ID,e.type,e.arguments),S[DQ]=e=>DP.FromTape(e.ID,e.type,e.arguments),S[qy]=e=>OP.FromTape(e.ID,e.type,e.arguments),S[OQ]=e=>zP.FromTape(e.ID,e.type,e.arguments),S[zQ]=e=>WP.FromTape(e.ID,e.type,e.arguments),S[WQ]=e=>YP.FromTape(e.ID,e.type,e.arguments),S[YQ]=e=>kP.FromTape(e.ID,e.type,e.arguments),S[kQ]=e=>AP.FromTape(e.ID,e.type,e.arguments),S[AQ]=e=>KP.FromTape(e.ID,e.type,e.arguments),S[$y]=e=>ZP.FromTape(e.ID,e.type,e.arguments),S[KQ]=e=>HP.FromTape(e.ID,e.type,e.arguments),S[ef]=e=>UP.FromTape(e.ID,e.type,e.arguments),S[ZQ]=e=>_P.FromTape(e.ID,e.type,e.arguments),S[HQ]=e=>VP.FromTape(e.ID,e.type,e.arguments),S[UQ]=e=>jP.FromTape(e.ID,e.type,e.arguments),S[_Q]=e=>BP.FromTape(e.ID,e.type,e.arguments),S[VQ]=e=>JP.FromTape(e.ID,e.type,e.arguments),S[jQ]=e=>QP.FromTape(e.ID,e.type,e.arguments),S[BQ]=e=>qP.FromTape(e.ID,e.type,e.arguments),S[JQ]=e=>$P.FromTape(e.ID,e.type,e.arguments),S[QQ]=e=>ew.FromTape(e.ID,e.type,e.arguments),S[qQ]=e=>tw.FromTape(e.ID,e.type,e.arguments),S[$Q]=e=>iw.FromTape(e.ID,e.type,e.arguments),S[eq]=e=>sw.FromTape(e.ID,e.type,e.arguments),S[tq]=e=>nw.FromTape(e.ID,e.type,e.arguments),S[iq]=e=>rw.FromTape(e.ID,e.type,e.arguments),S[sq]=e=>ow.FromTape(e.ID,e.type,e.arguments),S[nq]=e=>aw.FromTape(e.ID,e.type,e.arguments),S[rq]=e=>lw.FromTape(e.ID,e.type,e.arguments),S[oq]=e=>hw.FromTape(e.ID,e.type,e.arguments),S[aq]=e=>cw.FromTape(e.ID,e.type,e.arguments),S[lq]=e=>uw.FromTape(e.ID,e.type,e.arguments),S[hq]=e=>pw.FromTape(e.ID,e.type,e.arguments),S[cq]=e=>dw.FromTape(e.ID,e.type,e.arguments),S[uq]=e=>mw.FromTape(e.ID,e.type,e.arguments),S[pq]=e=>yw.FromTape(e.ID,e.type,e.arguments),S[dq]=e=>fw.FromTape(e.ID,e.type,e.arguments),S[mq]=e=>Tw.FromTape(e.ID,e.type,e.arguments),S[yq]=e=>gw.FromTape(e.ID,e.type,e.arguments),S[fq]=e=>bw.FromTape(e.ID,e.type,e.arguments),S[qS]=e=>Iw.FromTape(e.ID,e.type,e.arguments),S[Tq]=e=>Lw.FromTape(e.ID,e.type,e.arguments),S[gq]=e=>Sw.FromTape(e.ID,e.type,e.arguments),S[bq]=e=>Mw.FromTape(e.ID,e.type,e.arguments),S[Iq]=e=>xw.FromTape(e.ID,e.type,e.arguments),S[$S]=e=>vw.FromTape(e.ID,e.type,e.arguments),S[Lq]=e=>Gw.FromTape(e.ID,e.type,e.arguments),S[Sq]=e=>Ew.FromTape(e.ID,e.type,e.arguments),S[Mq]=e=>Cw.FromTape(e.ID,e.type,e.arguments),S[xq]=e=>Rw.FromTape(e.ID,e.type,e.arguments),S[vq]=e=>Nw.FromTape(e.ID,e.type,e.arguments),S[Gq]=e=>Fw.FromTape(e.ID,e.type,e.arguments),S[Eq]=e=>Pw.FromTape(e.ID,e.type,e.arguments),S[Cq]=e=>ww.FromTape(e.ID,e.type,e.arguments),S[eM]=e=>Xw.FromTape(e.ID,e.type,e.arguments),S[Rq]=e=>Dw.FromTape(e.ID,e.type,e.arguments),S[tM]=e=>Ow.FromTape(e.ID,e.type,e.arguments),S[Nq]=e=>zw.FromTape(e.ID,e.type,e.arguments),S[Fq]=e=>Ww.FromTape(e.ID,e.type,e.arguments),S[Pq]=e=>Yw.FromTape(e.ID,e.type,e.arguments),S[wq]=e=>kw.FromTape(e.ID,e.type,e.arguments),S[Xq]=e=>Aw.FromTape(e.ID,e.type,e.arguments),S[Dq]=e=>Kw.FromTape(e.ID,e.type,e.arguments),S[Oq]=e=>Zw.FromTape(e.ID,e.type,e.arguments),S[iM]=e=>Hw.FromTape(e.ID,e.type,e.arguments),S[sM]=e=>Uw.FromTape(e.ID,e.type,e.arguments),S[nM]=e=>_w.FromTape(e.ID,e.type,e.arguments),S[rM]=e=>Vw.FromTape(e.ID,e.type,e.arguments),S[zq]=e=>jw.FromTape(e.ID,e.type,e.arguments),S[Wq]=e=>Bw.FromTape(e.ID,e.type,e.arguments),S[oM]=e=>Jw.FromTape(e.ID,e.type,e.arguments),S[Yq]=e=>Qw.FromTape(e.ID,e.type,e.arguments),S[kq]=e=>qw.FromTape(e.ID,e.type,e.arguments),S[$h]=e=>$w.FromTape(e.ID,e.type,e.arguments),S[aM]=e=>eX.FromTape(e.ID,e.type,e.arguments),S[Aq]=e=>tX.FromTape(e.ID,e.type,e.arguments),S[Kq]=e=>iX.FromTape(e.ID,e.type,e.arguments),S[lM]=e=>sX.FromTape(e.ID,e.type,e.arguments),S[Zq]=e=>nX.FromTape(e.ID,e.type,e.arguments),S[hM]=e=>rX.FromTape(e.ID,e.type,e.arguments),S[Hq]=e=>oX.FromTape(e.ID,e.type,e.arguments),S[cM]=e=>aX.FromTape(e.ID,e.type,e.arguments),S[Uq]=e=>lX.FromTape(e.ID,e.type,e.arguments),S[_q]=e=>hX.FromTape(e.ID,e.type,e.arguments),S[Vq]=e=>cX.FromTape(e.ID,e.type,e.arguments),S[uM]=e=>uX.FromTape(e.ID,e.type,e.arguments),S[jq]=e=>pX.FromTape(e.ID,e.type,e.arguments),S[pM]=e=>dX.FromTape(e.ID,e.type,e.arguments),S[dM]=e=>mX.FromTape(e.ID,e.type,e.arguments),S[Bq]=e=>yX.FromTape(e.ID,e.type,e.arguments),S[Jq]=e=>fX.FromTape(e.ID,e.type,e.arguments),S[mM]=e=>TX.FromTape(e.ID,e.type,e.arguments),S[yM]=e=>gX.FromTape(e.ID,e.type,e.arguments),S[Qq]=e=>bX.FromTape(e.ID,e.type,e.arguments),S[fM]=e=>IX.FromTape(e.ID,e.type,e.arguments),S[qq]=e=>LX.FromTape(e.ID,e.type,e.arguments),S[TM]=e=>SX.FromTape(e.ID,e.type,e.arguments),S[gM]=e=>MX.FromTape(e.ID,e.type,e.arguments),S[bM]=e=>xX.FromTape(e.ID,e.type,e.arguments),S[IM]=e=>vX.FromTape(e.ID,e.type,e.arguments),S[LM]=e=>GX.FromTape(e.ID,e.type,e.arguments),S[SM]=e=>EX.FromTape(e.ID,e.type,e.arguments),S[MM]=e=>CX.FromTape(e.ID,e.type,e.arguments),S[$q]=e=>RX.FromTape(e.ID,e.type,e.arguments),S[e$]=e=>NX.FromTape(e.ID,e.type,e.arguments),S[t$]=e=>FX.FromTape(e.ID,e.type,e.arguments),S[i$]=e=>PX.FromTape(e.ID,e.type,e.arguments),S[s$]=e=>wX.FromTape(e.ID,e.type,e.arguments),S[n$]=e=>XX.FromTape(e.ID,e.type,e.arguments),S[r$]=e=>DX.FromTape(e.ID,e.type,e.arguments),S[o$]=e=>OX.FromTape(e.ID,e.type,e.arguments),S[a$]=e=>zX.FromTape(e.ID,e.type,e.arguments),S[l$]=e=>WX.FromTape(e.ID,e.type,e.arguments),S[h$]=e=>YX.FromTape(e.ID,e.type,e.arguments),S[c$]=e=>kX.FromTape(e.ID,e.type,e.arguments),S[u$]=e=>AX.FromTape(e.ID,e.type,e.arguments),S[xM]=e=>KX.FromTape(e.ID,e.type,e.arguments),S[vM]=e=>ZX.FromTape(e.ID,e.type,e.arguments),S[GM]=e=>HX.FromTape(e.ID,e.type,e.arguments),S[EM]=e=>UX.FromTape(e.ID,e.type,e.arguments),S[CM]=e=>_X.FromTape(e.ID,e.type,e.arguments),S[RM]=e=>VX.FromTape(e.ID,e.type,e.arguments),S[p$]=e=>jX.FromTape(e.ID,e.type,e.arguments),S[NM]=e=>BX.FromTape(e.ID,e.type,e.arguments),S[FM]=e=>JX.FromTape(e.ID,e.type,e.arguments),S[PM]=e=>QX.FromTape(e.ID,e.type,e.arguments),S[wM]=e=>qX.FromTape(e.ID,e.type,e.arguments),S[XM]=e=>$X.FromTape(e.ID,e.type,e.arguments),S[d$]=e=>eD.FromTape(e.ID,e.type,e.arguments),S[m$]=e=>tD.FromTape(e.ID,e.type,e.arguments),S[y$]=e=>iD.FromTape(e.ID,e.type,e.arguments),S[f$]=e=>sD.FromTape(e.ID,e.type,e.arguments),S[T$]=e=>nD.FromTape(e.ID,e.type,e.arguments),S[g$]=e=>rD.FromTape(e.ID,e.type,e.arguments),S[b$]=e=>oD.FromTape(e.ID,e.type,e.arguments),S[I$]=e=>aD.FromTape(e.ID,e.type,e.arguments),S[L$]=e=>lD.FromTape(e.ID,e.type,e.arguments),S[DM]=e=>hD.FromTape(e.ID,e.type,e.arguments),S[S$]=e=>cD.FromTape(e.ID,e.type,e.arguments),S[M$]=e=>uD.FromTape(e.ID,e.type,e.arguments),S[x$]=e=>pD.FromTape(e.ID,e.type,e.arguments),S[v$]=e=>dD.FromTape(e.ID,e.type,e.arguments),S[G$]=e=>mD.FromTape(e.ID,e.type,e.arguments),S[E$]=e=>yD.FromTape(e.ID,e.type,e.arguments),S[C$]=e=>fD.FromTape(e.ID,e.type,e.arguments),S[R$]=e=>TD.FromTape(e.ID,e.type,e.arguments),S[N$]=e=>gD.FromTape(e.ID,e.type,e.arguments),S[F$]=e=>bD.FromTape(e.ID,e.type,e.arguments),S[P$]=e=>ID.FromTape(e.ID,e.type,e.arguments),S[w$]=e=>LD.FromTape(e.ID,e.type,e.arguments),S[X$]=e=>SD.FromTape(e.ID,e.type,e.arguments),S[D$]=e=>MD.FromTape(e.ID,e.type,e.arguments),S[OM]=e=>xD.FromTape(e.ID,e.type,e.arguments),S[O$]=e=>vD.FromTape(e.ID,e.type,e.arguments),S[z$]=e=>GD.FromTape(e.ID,e.type,e.arguments),S[zM]=e=>ED.FromTape(e.ID,e.type,e.arguments),S[W$]=e=>CD.FromTape(e.ID,e.type,e.arguments),S[Y$]=e=>RD.FromTape(e.ID,e.type,e.arguments),S[k$]=e=>ND.FromTape(e.ID,e.type,e.arguments),S[A$]=e=>FD.FromTape(e.ID,e.type,e.arguments),S[K$]=e=>PD.FromTape(e.ID,e.type,e.arguments),S[WM]=e=>wD.FromTape(e.ID,e.type,e.arguments),S[Z$]=e=>XD.FromTape(e.ID,e.type,e.arguments),S[H$]=e=>DD.FromTape(e.ID,e.type,e.arguments),S[U$]=e=>OD.FromTape(e.ID,e.type,e.arguments),S[_$]=e=>zD.FromTape(e.ID,e.type,e.arguments),S[V$]=e=>WD.FromTape(e.ID,e.type,e.arguments),S[j$]=e=>YD.FromTape(e.ID,e.type,e.arguments),S[YM]=e=>kD.FromTape(e.ID,e.type,e.arguments),S[kM]=e=>AD.FromTape(e.ID,e.type,e.arguments),S[B$]=e=>KD.FromTape(e.ID,e.type,e.arguments),S[AM]=e=>ZD.FromTape(e.ID,e.type,e.arguments),S[J$]=e=>HD.FromTape(e.ID,e.type,e.arguments),S[Q$]=e=>UD.FromTape(e.ID,e.type,e.arguments),S[q$]=e=>_D.FromTape(e.ID,e.type,e.arguments),S[$$]=e=>VD.FromTape(e.ID,e.type,e.arguments),S[eee]=e=>jD.FromTape(e.ID,e.type,e.arguments),S[tee]=e=>BD.FromTape(e.ID,e.type,e.arguments),S[iee]=e=>JD.FromTape(e.ID,e.type,e.arguments),S[see]=e=>QD.FromTape(e.ID,e.type,e.arguments),S[nee]=e=>qD.FromTape(e.ID,e.type,e.arguments),S[ree]=e=>$D.FromTape(e.ID,e.type,e.arguments),S[oee]=e=>e9.FromTape(e.ID,e.type,e.arguments),S[aee]=e=>t9.FromTape(e.ID,e.type,e.arguments),S[lee]=e=>i9.FromTape(e.ID,e.type,e.arguments),S[hee]=e=>s9.FromTape(e.ID,e.type,e.arguments),S[cee]=e=>n9.FromTape(e.ID,e.type,e.arguments),S[uee]=e=>r9.FromTape(e.ID,e.type,e.arguments),S[pee]=e=>o9.FromTape(e.ID,e.type,e.arguments),S[dee]=e=>a9.FromTape(e.ID,e.type,e.arguments),S[mee]=e=>l9.FromTape(e.ID,e.type,e.arguments),S[yee]=e=>h9.FromTape(e.ID,e.type,e.arguments),S[fee]=e=>c9.FromTape(e.ID,e.type,e.arguments),S[KM]=e=>u9.FromTape(e.ID,e.type,e.arguments),S[Tee]=e=>p9.FromTape(e.ID,e.type,e.arguments),S[gee]=e=>d9.FromTape(e.ID,e.type,e.arguments),S[ZM]=e=>m9.FromTape(e.ID,e.type,e.arguments),S[bee]=e=>y9.FromTape(e.ID,e.type,e.arguments),S[Iee]=e=>f9.FromTape(e.ID,e.type,e.arguments),S[Lee]=e=>T9.FromTape(e.ID,e.type,e.arguments),S[See]=e=>g9.FromTape(e.ID,e.type,e.arguments),S[Mee]=e=>b9.FromTape(e.ID,e.type,e.arguments),S[HM]=e=>I9.FromTape(e.ID,e.type,e.arguments),S[xee]=e=>L9.FromTape(e.ID,e.type,e.arguments),S[vee]=e=>S9.FromTape(e.ID,e.type,e.arguments),S[Gee]=e=>M9.FromTape(e.ID,e.type,e.arguments),S[Eee]=e=>x9.FromTape(e.ID,e.type,e.arguments),S[Cee]=e=>v9.FromTape(e.ID,e.type,e.arguments),S[Ree]=e=>G9.FromTape(e.ID,e.type,e.arguments),S[Nee]=e=>E9.FromTape(e.ID,e.type,e.arguments),S[UM]=e=>C9.FromTape(e.ID,e.type,e.arguments),S[Fee]=e=>R9.FromTape(e.ID,e.type,e.arguments),S[_M]=e=>N9.FromTape(e.ID,e.type,e.arguments),S[Pee]=e=>F9.FromTape(e.ID,e.type,e.arguments),S[VM]=e=>P9.FromTape(e.ID,e.type,e.arguments),S[wee]=e=>w9.FromTape(e.ID,e.type,e.arguments),S[Xee]=e=>X9.FromTape(e.ID,e.type,e.arguments),S[Dee]=e=>D9.FromTape(e.ID,e.type,e.arguments),S[Oee]=e=>O9.FromTape(e.ID,e.type,e.arguments),S[zee]=e=>z9.FromTape(e.ID,e.type,e.arguments),S[jM]=e=>W9.FromTape(e.ID,e.type,e.arguments),S[Wee]=e=>Y9.FromTape(e.ID,e.type,e.arguments),S[BM]=e=>k9.FromTape(e.ID,e.type,e.arguments),S[Yee]=e=>A9.FromTape(e.ID,e.type,e.arguments),S[JM]=e=>K9.FromTape(e.ID,e.type,e.arguments),S[kee]=e=>Z9.FromTape(e.ID,e.type,e.arguments),S[QM]=e=>H9.FromTape(e.ID,e.type,e.arguments),S[qM]=e=>U9.FromTape(e.ID,e.type,e.arguments),S[$M]=e=>_9.FromTape(e.ID,e.type,e.arguments),S[ex]=e=>V9.FromTape(e.ID,e.type,e.arguments),S[Aee]=e=>j9.FromTape(e.ID,e.type,e.arguments),S[tx]=e=>B9.FromTape(e.ID,e.type,e.arguments),S[Kee]=e=>J9.FromTape(e.ID,e.type,e.arguments),S[tf]=e=>Q9.FromTape(e.ID,e.type,e.arguments),S[Zee]=e=>q9.FromTape(e.ID,e.type,e.arguments),S[Hee]=e=>$9.FromTape(e.ID,e.type,e.arguments),S[ix]=e=>e3.FromTape(e.ID,e.type,e.arguments),S[Uee]=e=>t3.FromTape(e.ID,e.type,e.arguments),S[_ee]=e=>i3.FromTape(e.ID,e.type,e.arguments),S[Vee]=e=>s3.FromTape(e.ID,e.type,e.arguments),S[jee]=e=>n3.FromTape(e.ID,e.type,e.arguments),S[Bee]=e=>r3.FromTape(e.ID,e.type,e.arguments),S[Jee]=e=>o3.FromTape(e.ID,e.type,e.arguments),S[Qee]=e=>a3.FromTape(e.ID,e.type,e.arguments),S[qee]=e=>l3.FromTape(e.ID,e.type,e.arguments),S[$ee]=e=>h3.FromTape(e.ID,e.type,e.arguments);var nx=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.Identification=a,this.PredefinedType=l,this.Status=h,this.LongDescription=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new nx(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.PredefinedType),e.push(this.Status),e.push(this.LongDescription),e}},rx=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.TheActor=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new rx(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.TheActor),e}},ox=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Role=t,this.UserDefinedRole=s,this.Description=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new ox(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.Role),e.push(this.UserDefinedRole),e.push(this.Description),e}},ax=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new ax(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},lx=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new lx(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},hx=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Purpose=t,this.Description=s,this.UserDefinedPurpose=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new hx(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.Purpose),e.push(this.Description),e.push(this.UserDefinedPurpose),e}},cx=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Outer=t}static FromTape(e,i,t){let s=0,n=t[s++];return new cx(e,i,n)}ToTape(){let e=[];return e.push(this.Outer),e}},ux=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Outer=t,this.Voids=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new ux(e,i,n,r)}ToTape(){let e=[];return e.push(this.Outer),e.push(this.Voids),e}},px=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Bounds=t,this.FaceSurface=s,this.SameSense=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new px(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.Bounds),e.push(this.FaceSurface),e.push(this.SameSense),e}},dx=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new dx(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},mx=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new mx(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},yx=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new yx(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},fx=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new fx(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},Tx=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new Tx(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},gx=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new gx(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},bx=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new bx(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},Ix=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new Ix(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},Lx=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Axis=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new Lx(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Axis),e.push(this.PredefinedType),e}},Sx=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.StartDistAlong=t,this.Segments=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new Sx(e,i,n,r)}ToTape(){let e=[];return e.push(this.StartDistAlong),e.push(this.Segments),e}},Mx=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.TangentialContinuity=t,this.StartTag=s,this.EndTag=n,this.CurveGeometry=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new Mx(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.TangentialContinuity),e.push(this.StartTag),e.push(this.EndTag),e.push(this.CurveGeometry),e}},xx=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.TangentialContinuity=t,this.StartTag=s,this.EndTag=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new xx(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.TangentialContinuity),e.push(this.StartTag),e.push(this.EndTag),e}},vx=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.TangentialContinuity=t,this.StartTag=s,this.EndTag=n,this.StartDistAlong=r,this.HorizontalLength=o,this.StartHeight=a,this.StartGradient=l,this.Radius=h,this.IsConvex=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new vx(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.TangentialContinuity),e.push(this.StartTag),e.push(this.EndTag),e.push(this.StartDistAlong),e.push(this.HorizontalLength),e.push(this.StartHeight),e.push(this.StartGradient),e.push(this.Radius),e.push(this.IsConvex),e}},Gx=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.TangentialContinuity=t,this.StartTag=s,this.EndTag=n,this.StartDistAlong=r,this.HorizontalLength=o,this.StartHeight=a,this.StartGradient=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new Gx(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.TangentialContinuity),e.push(this.StartTag),e.push(this.EndTag),e.push(this.StartDistAlong),e.push(this.HorizontalLength),e.push(this.StartHeight),e.push(this.StartGradient),e}},Ex=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.TangentialContinuity=t,this.StartTag=s,this.EndTag=n,this.StartDistAlong=r,this.HorizontalLength=o,this.StartHeight=a,this.StartGradient=l,this.ParabolaConstant=h,this.IsConvex=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new Ex(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.TangentialContinuity),e.push(this.StartTag),e.push(this.EndTag),e.push(this.StartDistAlong),e.push(this.HorizontalLength),e.push(this.StartHeight),e.push(this.StartGradient),e.push(this.ParabolaConstant),e.push(this.IsConvex),e}},Cx=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Segments=t}static FromTape(e,i,t){let s=0,n=t[s++];return new Cx(e,i,n)}ToTape(){let e=[];return e.push(this.Segments),e}},Rx=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.TangentialContinuity=t,this.StartTag=s,this.EndTag=n,this.StartDistAlong=r,this.HorizontalLength=o,this.StartHeight=a,this.StartGradient=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new Rx(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.TangentialContinuity),e.push(this.StartTag),e.push(this.EndTag),e.push(this.StartDistAlong),e.push(this.HorizontalLength),e.push(this.StartHeight),e.push(this.StartGradient),e}},Nx=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Horizontal=t,this.Vertical=s,this.Tag=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new Nx(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.Horizontal),e.push(this.Vertical),e.push(this.Tag),e}},Fx=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new Fx(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e}},Px=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.OuterBoundary=t,this.InnerBoundaries=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new Px(e,i,n,r)}ToTape(){let e=[];return e.push(this.OuterBoundary),e.push(this.InnerBoundaries),e}},wx=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.ApplicationDeveloper=t,this.Version=s,this.ApplicationFullName=n,this.ApplicationIdentifier=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new wx(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.ApplicationDeveloper),e.push(this.Version),e.push(this.ApplicationFullName),e.push(this.ApplicationIdentifier),e}},Xx=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.AppliedValue=n,this.UnitBasis=r,this.ApplicableDate=o,this.FixedUntilDate=a,this.Category=l,this.Condition=h,this.ArithmeticOperator=c,this.Components=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new Xx(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.AppliedValue),e.push(this.UnitBasis),e.push(this.ApplicableDate),e.push(this.FixedUntilDate),e.push(this.Category),e.push(this.Condition),e.push(this.ArithmeticOperator),e.push(this.Components),e}},Dx=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.Identifier=t,this.Name=s,this.Description=n,this.TimeOfApproval=r,this.Status=o,this.Level=a,this.Qualifier=l,this.RequestingApproval=h,this.GivingApproval=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new Dx(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.Identifier),e.push(this.Name),e.push(this.Description),e.push(this.TimeOfApproval),e.push(this.Status),e.push(this.Level),e.push(this.Qualifier),e.push(this.RequestingApproval),e.push(this.GivingApproval),e}},Ox=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.RelatingApproval=n,this.RelatedApprovals=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new Ox(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.RelatingApproval),e.push(this.RelatedApprovals),e}},zx=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.OuterCurve=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new zx(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.OuterCurve),e}},Wx=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.Curve=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new Wx(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Curve),e}},Yx=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.OuterCurve=n,this.InnerCurves=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new Yx(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.OuterCurve),e.push(this.InnerCurves),e}},kx=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d,T,g){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.Identification=a,this.OriginalValue=l,this.CurrentValue=h,this.TotalReplacementCost=c,this.Owner=u,this.User=p,this.ResponsiblePerson=d,this.IncorporationDate=T,this.DepreciatedValue=g}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++],I=t[s++],v=t[s++];return new kx(e,i,n,r,o,a,l,h,c,u,p,d,T,g,I,v)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.OriginalValue),e.push(this.CurrentValue),e.push(this.TotalReplacementCost),e.push(this.Owner),e.push(this.User),e.push(this.ResponsiblePerson),e.push(this.IncorporationDate),e.push(this.DepreciatedValue),e}},Ax=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d,T,g,I){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.Position=n,this.BottomFlangeWidth=r,this.OverallDepth=o,this.WebThickness=a,this.BottomFlangeThickness=l,this.BottomFlangeFilletRadius=h,this.TopFlangeWidth=c,this.TopFlangeThickness=u,this.TopFlangeFilletRadius=p,this.BottomFlangeEdgeRadius=d,this.BottomFlangeSlope=T,this.TopFlangeEdgeRadius=g,this.TopFlangeSlope=I}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++],I=t[s++],v=t[s++],C=t[s++];return new Ax(e,i,n,r,o,a,l,h,c,u,p,d,T,g,I,v,C)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.BottomFlangeWidth),e.push(this.OverallDepth),e.push(this.WebThickness),e.push(this.BottomFlangeThickness),e.push(this.BottomFlangeFilletRadius),e.push(this.TopFlangeWidth),e.push(this.TopFlangeThickness),e.push(this.TopFlangeFilletRadius),e.push(this.BottomFlangeEdgeRadius),e.push(this.BottomFlangeSlope),e.push(this.TopFlangeEdgeRadius),e.push(this.TopFlangeSlope),e}},Kx=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new Kx(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},Zx=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new Zx(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},Hx=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Location=t,this.Axis=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new Hx(e,i,n,r)}ToTape(){let e=[];return e.push(this.Location),e.push(this.Axis),e}},Ux=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Location=t,this.RefDirection=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new Ux(e,i,n,r)}ToTape(){let e=[];return e.push(this.Location),e.push(this.RefDirection),e}},_x=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Location=t,this.Axis=s,this.RefDirection=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new _x(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.Location),e.push(this.Axis),e.push(this.RefDirection),e}},Vx=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.Degree=t,this.ControlPointsList=s,this.CurveForm=n,this.ClosedCurve=r,this.SelfIntersect=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new Vx(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.Degree),e.push(this.ControlPointsList),e.push(this.CurveForm),e.push(this.ClosedCurve),e.push(this.SelfIntersect),e}},jx=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.Degree=t,this.ControlPointsList=s,this.CurveForm=n,this.ClosedCurve=r,this.SelfIntersect=o,this.KnotMultiplicities=a,this.Knots=l,this.KnotSpec=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new jx(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.Degree),e.push(this.ControlPointsList),e.push(this.CurveForm),e.push(this.ClosedCurve),e.push(this.SelfIntersect),e.push(this.KnotMultiplicities),e.push(this.Knots),e.push(this.KnotSpec),e}},Bx=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.UDegree=t,this.VDegree=s,this.ControlPointsList=n,this.SurfaceForm=r,this.UClosed=o,this.VClosed=a,this.SelfIntersect=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new Bx(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.UDegree),e.push(this.VDegree),e.push(this.ControlPointsList),e.push(this.SurfaceForm),e.push(this.UClosed),e.push(this.VClosed),e.push(this.SelfIntersect),e}},Jx=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d){this.expressID=e,this.type=i,this.UDegree=t,this.VDegree=s,this.ControlPointsList=n,this.SurfaceForm=r,this.UClosed=o,this.VClosed=a,this.SelfIntersect=l,this.UMultiplicities=h,this.VMultiplicities=c,this.UKnots=u,this.VKnots=p,this.KnotSpec=d}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++];return new Jx(e,i,n,r,o,a,l,h,c,u,p,d,T,g)}ToTape(){let e=[];return e.push(this.UDegree),e.push(this.VDegree),e.push(this.ControlPointsList),e.push(this.SurfaceForm),e.push(this.UClosed),e.push(this.VClosed),e.push(this.SelfIntersect),e.push(this.UMultiplicities),e.push(this.VMultiplicities),e.push(this.UKnots),e.push(this.VKnots),e.push(this.KnotSpec),e}},Qx=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new Qx(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},qx=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new qx(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},$x=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new $x(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},ev=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new ev(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},tv=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new tv(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},iv=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.RepeatS=t,this.RepeatT=s,this.Mode=n,this.TextureTransform=r,this.Parameter=o,this.RasterFormat=a,this.RasterCode=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new iv(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.RepeatS),e.push(this.RepeatT),e.push(this.Mode),e.push(this.TextureTransform),e.push(this.Parameter),e.push(this.RasterFormat),e.push(this.RasterCode),e}},sv=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Position=t,this.XLength=s,this.YLength=n,this.ZLength=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new sv(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.Position),e.push(this.XLength),e.push(this.YLength),e.push(this.ZLength),e}},nv=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new nv(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},rv=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new rv(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},ov=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Operator=t,this.FirstOperand=s,this.SecondOperand=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new ov(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.Operator),e.push(this.FirstOperand),e.push(this.SecondOperand),e}},av=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Operator=t,this.FirstOperand=s,this.SecondOperand=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new av(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.Operator),e.push(this.FirstOperand),e.push(this.SecondOperand),e}},lv=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Name=t}static FromTape(e,i,t){let s=0,n=t[s++];return new lv(e,i,n)}ToTape(){let e=[];return e.push(this.Name),e}},hv=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Segments=t,this.SelfIntersect=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new hv(e,i,n,r)}ToTape(){let e=[];return e.push(this.Segments),e.push(this.SelfIntersect),e}},cv=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.Name=t,this.TranslationalStiffnessByLengthX=s,this.TranslationalStiffnessByLengthY=n,this.TranslationalStiffnessByLengthZ=r,this.RotationalStiffnessByLengthX=o,this.RotationalStiffnessByLengthY=a,this.RotationalStiffnessByLengthZ=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new cv(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.Name),e.push(this.TranslationalStiffnessByLengthX),e.push(this.TranslationalStiffnessByLengthY),e.push(this.TranslationalStiffnessByLengthZ),e.push(this.RotationalStiffnessByLengthX),e.push(this.RotationalStiffnessByLengthY),e.push(this.RotationalStiffnessByLengthZ),e}},uv=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.TranslationalStiffnessByAreaX=s,this.TranslationalStiffnessByAreaY=n,this.TranslationalStiffnessByAreaZ=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new uv(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.TranslationalStiffnessByAreaX),e.push(this.TranslationalStiffnessByAreaY),e.push(this.TranslationalStiffnessByAreaZ),e}},pv=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.Name=t,this.TranslationalStiffnessX=s,this.TranslationalStiffnessY=n,this.TranslationalStiffnessZ=r,this.RotationalStiffnessX=o,this.RotationalStiffnessY=a,this.RotationalStiffnessZ=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new pv(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.Name),e.push(this.TranslationalStiffnessX),e.push(this.TranslationalStiffnessY),e.push(this.TranslationalStiffnessZ),e.push(this.RotationalStiffnessX),e.push(this.RotationalStiffnessY),e.push(this.RotationalStiffnessZ),e}},dv=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.Name=t,this.TranslationalStiffnessX=s,this.TranslationalStiffnessY=n,this.TranslationalStiffnessZ=r,this.RotationalStiffnessX=o,this.RotationalStiffnessY=a,this.RotationalStiffnessZ=l,this.WarpingStiffness=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new dv(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.Name),e.push(this.TranslationalStiffnessX),e.push(this.TranslationalStiffnessY),e.push(this.TranslationalStiffnessZ),e.push(this.RotationalStiffnessX),e.push(this.RotationalStiffnessY),e.push(this.RotationalStiffnessZ),e.push(this.WarpingStiffness),e}},mv=class{constructor(e,i){this.expressID=e,this.type=i}static FromTape(e,i,t){return new mv(e,i)}ToTape(){return[]}},yv=class{constructor(e,i){this.expressID=e,this.type=i}static FromTape(e,i,t){return new yv(e,i)}ToTape(){return[]}},fv=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Corner=t,this.XDim=s,this.YDim=n,this.ZDim=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new fv(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.Corner),e.push(this.XDim),e.push(this.YDim),e.push(this.ZDim),e}},Tv=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.BaseSurface=t,this.AgreementFlag=s,this.Enclosure=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new Tv(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.BaseSurface),e.push(this.AgreementFlag),e.push(this.Enclosure),e}},gv=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.LongName=h,this.CompositionType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new gv(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.LongName),e.push(this.CompositionType),e.push(this.PredefinedType),e}},bv=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.LongName=h,this.CompositionType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new bv(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.LongName),e.push(this.CompositionType),e.push(this.PredefinedType),e}},Iv=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.LongName=h,this.CompositionType=c,this.ElevationOfRefHeight=u,this.ElevationOfTerrain=p,this.BuildingAddress=d}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++];return new Iv(e,i,n,r,o,a,l,h,c,u,p,d,T,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.LongName),e.push(this.CompositionType),e.push(this.ElevationOfRefHeight),e.push(this.ElevationOfTerrain),e.push(this.BuildingAddress),e}},Lv=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new Lv(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},Sv=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new Sv(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},Mv=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new Mv(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},xv=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new xv(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},vv=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new vv(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},Gv=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new Gv(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},Ev=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.LongName=h,this.CompositionType=c,this.Elevation=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new Ev(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.LongName),e.push(this.CompositionType),e.push(this.Elevation),e}},Cv=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.PredefinedType=a,this.LongName=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new Cv(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.PredefinedType),e.push(this.LongName),e}},Rv=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new Rv(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},Nv=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new Nv(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},Fv=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.Position=n,this.Depth=r,this.Width=o,this.WallThickness=a,this.Girth=l,this.InternalFilletRadius=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new Fv(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.Depth),e.push(this.Width),e.push(this.WallThickness),e.push(this.Girth),e.push(this.InternalFilletRadius),e}},Pv=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new Pv(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},wv=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new wv(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},Xv=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new Xv(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},Dv=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new Dv(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},Ov=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new Ov(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},zv=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new zv(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},Wv=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new Wv(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},Yv=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new Yv(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},kv=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new kv(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},Av=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new Av(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},Kv=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Coordinates=t}static FromTape(e,i,t){let s=0,n=t[s++];return new Kv(e,i,n)}ToTape(){let e=[];return e.push(this.Coordinates),e}},Zv=class{constructor(e,i){this.expressID=e,this.type=i}static FromTape(e,i,t){return new Zv(e,i)}ToTape(){return[]}},Hv=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.CoordList=t,this.TagList=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new Hv(e,i,n,r)}ToTape(){let e=[];return e.push(this.CoordList),e.push(this.TagList),e}},Uv=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.CoordList=t,this.TagList=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new Uv(e,i,n,r)}ToTape(){let e=[];return e.push(this.CoordList),e.push(this.TagList),e}},_v=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Axis1=t,this.Axis2=s,this.LocalOrigin=n,this.Scale=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new _v(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.Axis1),e.push(this.Axis2),e.push(this.LocalOrigin),e.push(this.Scale),e}},Vv=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Axis1=t,this.Axis2=s,this.LocalOrigin=n,this.Scale=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new Vv(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.Axis1),e.push(this.Axis2),e.push(this.LocalOrigin),e.push(this.Scale),e}},jv=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.Axis1=t,this.Axis2=s,this.LocalOrigin=n,this.Scale=r,this.Scale2=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new jv(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.Axis1),e.push(this.Axis2),e.push(this.LocalOrigin),e.push(this.Scale),e.push(this.Scale2),e}},Bv=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.Axis1=t,this.Axis2=s,this.LocalOrigin=n,this.Scale=r,this.Axis3=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new Bv(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.Axis1),e.push(this.Axis2),e.push(this.LocalOrigin),e.push(this.Scale),e.push(this.Axis3),e}},Jv=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.Axis1=t,this.Axis2=s,this.LocalOrigin=n,this.Scale=r,this.Axis3=o,this.Scale2=a,this.Scale3=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new Jv(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.Axis1),e.push(this.Axis2),e.push(this.LocalOrigin),e.push(this.Scale),e.push(this.Axis3),e.push(this.Scale2),e.push(this.Scale3),e}},Qv=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.Curve=n,this.Thickness=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new Qv(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Curve),e.push(this.Thickness),e}},qv=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new qv(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},$v=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new $v(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},eG=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new eG(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},tG=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new tG(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},iG=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Position=t,this.Radius=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new iG(e,i,n,r)}ToTape(){let e=[];return e.push(this.Position),e.push(this.Radius),e}},sG=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.Position=n,this.Radius=r,this.WallThickness=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new sG(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.Radius),e.push(this.WallThickness),e}},nG=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.Position=n,this.Radius=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new nG(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.Radius),e}},rG=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.StartPoint=t,this.StartDirection=s,this.SegmentLength=n,this.Radius=r,this.IsCCW=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new rG(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.StartPoint),e.push(this.StartDirection),e.push(this.SegmentLength),e.push(this.Radius),e.push(this.IsCCW),e}},oG=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new oG(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},aG=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new aG(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},lG=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.Source=t,this.Edition=s,this.EditionDate=n,this.Name=r,this.Description=o,this.Location=a,this.ReferenceTokens=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new lG(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.Source),e.push(this.Edition),e.push(this.EditionDate),e.push(this.Name),e.push(this.Description),e.push(this.Location),e.push(this.ReferenceTokens),e}},hG=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.Location=t,this.Identification=s,this.Name=n,this.ReferencedSource=r,this.Description=o,this.Sort=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new hG(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.Location),e.push(this.Identification),e.push(this.Name),e.push(this.ReferencedSource),e.push(this.Description),e.push(this.Sort),e}},cG=class{constructor(e,i,t){this.expressID=e,this.type=i,this.CfsFaces=t}static FromTape(e,i,t){let s=0,n=t[s++];return new cG(e,i,n)}ToTape(){let e=[];return e.push(this.CfsFaces),e}},uG=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new uG(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},pG=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new pG(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},dG=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.Red=s,this.Green=n,this.Blue=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new dG(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Red),e.push(this.Green),e.push(this.Blue),e}},mG=class{constructor(e,i,t){this.expressID=e,this.type=i,this.ColourList=t}static FromTape(e,i,t){let s=0,n=t[s++];return new mG(e,i,n)}ToTape(){let e=[];return e.push(this.ColourList),e}},yG=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Name=t}static FromTape(e,i,t){let s=0,n=t[s++];return new yG(e,i,n)}ToTape(){let e=[];return e.push(this.Name),e}},fG=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new fG(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},TG=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new TG(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},gG=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new gG(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},bG=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new bG(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},IG=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new IG(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},LG=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.UsageName=n,this.HasProperties=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new LG(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.UsageName),e.push(this.HasProperties),e}},SG=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.UsageName=o,this.TemplateType=a,this.HasPropertyTemplates=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new SG(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.UsageName),e.push(this.TemplateType),e.push(this.HasPropertyTemplates),e}},MG=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Segments=t,this.SelfIntersect=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new MG(e,i,n,r)}ToTape(){let e=[];return e.push(this.Segments),e.push(this.SelfIntersect),e}},xG=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Segments=t,this.SelfIntersect=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new xG(e,i,n,r)}ToTape(){let e=[];return e.push(this.Segments),e.push(this.SelfIntersect),e}},vG=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Transition=t,this.SameSense=s,this.ParentCurve=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new vG(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.Transition),e.push(this.SameSense),e.push(this.ParentCurve),e}},GG=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.Profiles=n,this.Label=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new GG(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Profiles),e.push(this.Label),e}},EG=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new EG(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},CG=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new CG(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},RG=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new RG(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},NG=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new NG(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},FG=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Position=t}static FromTape(e,i,t){let s=0,n=t[s++];return new FG(e,i,n)}ToTape(){let e=[];return e.push(this.Position),e}},PG=class{constructor(e,i,t){this.expressID=e,this.type=i,this.CfsFaces=t}static FromTape(e,i,t){let s=0,n=t[s++];return new PG(e,i,n)}ToTape(){let e=[];return e.push(this.CfsFaces),e}},wG=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.CurveOnRelatingElement=t,this.CurveOnRelatedElement=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new wG(e,i,n,r)}ToTape(){let e=[];return e.push(this.CurveOnRelatingElement),e.push(this.CurveOnRelatedElement),e}},XG=class{constructor(e,i){this.expressID=e,this.type=i}static FromTape(e,i,t){return new XG(e,i)}ToTape(){return[]}},DG=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.PointOnRelatingElement=t,this.PointOnRelatedElement=s,this.EccentricityInX=n,this.EccentricityInY=r,this.EccentricityInZ=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new DG(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.PointOnRelatingElement),e.push(this.PointOnRelatedElement),e.push(this.EccentricityInX),e.push(this.EccentricityInY),e.push(this.EccentricityInZ),e}},OG=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.PointOnRelatingElement=t,this.PointOnRelatedElement=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new OG(e,i,n,r)}ToTape(){let e=[];return e.push(this.PointOnRelatingElement),e.push(this.PointOnRelatedElement),e}},zG=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.SurfaceOnRelatingElement=t,this.SurfaceOnRelatedElement=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new zG(e,i,n,r)}ToTape(){let e=[];return e.push(this.SurfaceOnRelatingElement),e.push(this.SurfaceOnRelatedElement),e}},WG=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.VolumeOnRelatingElement=t,this.VolumeOnRelatedElement=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new WG(e,i,n,r)}ToTape(){let e=[];return e.push(this.VolumeOnRelatingElement),e.push(this.VolumeOnRelatedElement),e}},YG=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.ConstraintGrade=n,this.ConstraintSource=r,this.CreatingActor=o,this.CreationTime=a,this.UserDefinedGrade=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new YG(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.ConstraintGrade),e.push(this.ConstraintSource),e.push(this.CreatingActor),e.push(this.CreationTime),e.push(this.UserDefinedGrade),e}},kG=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.Identification=a,this.LongDescription=l,this.Usage=h,this.BaseCosts=c,this.BaseQuantity=u,this.PredefinedType=p}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++];return new kG(e,i,n,r,o,a,l,h,c,u,p,d,T)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.LongDescription),e.push(this.Usage),e.push(this.BaseCosts),e.push(this.BaseQuantity),e.push(this.PredefinedType),e}},AG=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.Identification=l,this.LongDescription=h,this.ResourceType=c,this.BaseCosts=u,this.BaseQuantity=p,this.PredefinedType=d}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++];return new AG(e,i,n,r,o,a,l,h,c,u,p,d,T,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.Identification),e.push(this.LongDescription),e.push(this.ResourceType),e.push(this.BaseCosts),e.push(this.BaseQuantity),e.push(this.PredefinedType),e}},KG=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.Identification=a,this.LongDescription=l,this.Usage=h,this.BaseCosts=c,this.BaseQuantity=u,this.PredefinedType=p}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++];return new KG(e,i,n,r,o,a,l,h,c,u,p,d,T)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.LongDescription),e.push(this.Usage),e.push(this.BaseCosts),e.push(this.BaseQuantity),e.push(this.PredefinedType),e}},ZG=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.Identification=l,this.LongDescription=h,this.ResourceType=c,this.BaseCosts=u,this.BaseQuantity=p,this.PredefinedType=d}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++];return new ZG(e,i,n,r,o,a,l,h,c,u,p,d,T,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.Identification),e.push(this.LongDescription),e.push(this.ResourceType),e.push(this.BaseCosts),e.push(this.BaseQuantity),e.push(this.PredefinedType),e}},HG=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.Identification=a,this.LongDescription=l,this.Usage=h,this.BaseCosts=c,this.BaseQuantity=u,this.PredefinedType=p}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++];return new HG(e,i,n,r,o,a,l,h,c,u,p,d,T)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.LongDescription),e.push(this.Usage),e.push(this.BaseCosts),e.push(this.BaseQuantity),e.push(this.PredefinedType),e}},UG=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.Identification=l,this.LongDescription=h,this.ResourceType=c,this.BaseCosts=u,this.BaseQuantity=p,this.PredefinedType=d}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++];return new UG(e,i,n,r,o,a,l,h,c,u,p,d,T,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.Identification),e.push(this.LongDescription),e.push(this.ResourceType),e.push(this.BaseCosts),e.push(this.BaseQuantity),e.push(this.PredefinedType),e}},_G=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.Identification=a,this.LongDescription=l,this.Usage=h,this.BaseCosts=c,this.BaseQuantity=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new _G(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.LongDescription),e.push(this.Usage),e.push(this.BaseCosts),e.push(this.BaseQuantity),e}},VG=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.Identification=l,this.LongDescription=h,this.ResourceType=c,this.BaseCosts=u,this.BaseQuantity=p}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++];return new VG(e,i,n,r,o,a,l,h,c,u,p,d,T)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.Identification),e.push(this.LongDescription),e.push(this.ResourceType),e.push(this.BaseCosts),e.push(this.BaseQuantity),e}},jG=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.LongName=a,this.Phase=l,this.RepresentationContexts=h,this.UnitsInContext=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new jG(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.LongName),e.push(this.Phase),e.push(this.RepresentationContexts),e.push(this.UnitsInContext),e}},BG=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Dimensions=t,this.UnitType=s,this.Name=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new BG(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.Dimensions),e.push(this.UnitType),e.push(this.Name),e}},JG=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.Identification=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new JG(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e}},QG=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new QG(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},qG=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new qG(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},$G=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Dimensions=t,this.UnitType=s,this.Name=n,this.ConversionFactor=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new $G(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.Dimensions),e.push(this.UnitType),e.push(this.Name),e.push(this.ConversionFactor),e}},eE=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.Dimensions=t,this.UnitType=s,this.Name=n,this.ConversionFactor=r,this.ConversionOffset=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new eE(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.Dimensions),e.push(this.UnitType),e.push(this.Name),e.push(this.ConversionFactor),e.push(this.ConversionOffset),e}},tE=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new tE(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},iE=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new iE(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},sE=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new sE(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},nE=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new nE(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},rE=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.SourceCRS=t,this.TargetCRS=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new rE(e,i,n,r)}ToTape(){let e=[];return e.push(this.SourceCRS),e.push(this.TargetCRS),e}},oE=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.GeodeticDatum=n,this.VerticalDatum=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new oE(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.GeodeticDatum),e.push(this.VerticalDatum),e}},aE=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.Identification=a,this.PredefinedType=l,this.CostValues=h,this.CostQuantities=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new aE(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.PredefinedType),e.push(this.CostValues),e.push(this.CostQuantities),e}},lE=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.Identification=a,this.PredefinedType=l,this.Status=h,this.SubmittedOn=c,this.UpdateDate=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new lE(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.PredefinedType),e.push(this.Status),e.push(this.SubmittedOn),e.push(this.UpdateDate),e}},hE=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.AppliedValue=n,this.UnitBasis=r,this.ApplicableDate=o,this.FixedUntilDate=a,this.Category=l,this.Condition=h,this.ArithmeticOperator=c,this.Components=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new hE(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.AppliedValue),e.push(this.UnitBasis),e.push(this.ApplicableDate),e.push(this.FixedUntilDate),e.push(this.Category),e.push(this.Condition),e.push(this.ArithmeticOperator),e.push(this.Components),e}},cE=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new cE(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},uE=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new uE(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},pE=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.Identification=a,this.LongDescription=l,this.Usage=h,this.BaseCosts=c,this.BaseQuantity=u,this.PredefinedType=p}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++];return new pE(e,i,n,r,o,a,l,h,c,u,p,d,T)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.LongDescription),e.push(this.Usage),e.push(this.BaseCosts),e.push(this.BaseQuantity),e.push(this.PredefinedType),e}},dE=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.Identification=l,this.LongDescription=h,this.ResourceType=c,this.BaseCosts=u,this.BaseQuantity=p,this.PredefinedType=d}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++];return new dE(e,i,n,r,o,a,l,h,c,u,p,d,T,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.Identification),e.push(this.LongDescription),e.push(this.ResourceType),e.push(this.BaseCosts),e.push(this.BaseQuantity),e.push(this.PredefinedType),e}},mE=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Position=t}static FromTape(e,i,t){let s=0,n=t[s++];return new mE(e,i,n)}ToTape(){let e=[];return e.push(this.Position),e}},yE=class{constructor(e,i,t){this.expressID=e,this.type=i,this.TreeRootExpression=t}static FromTape(e,i,t){let s=0,n=t[s++];return new yE(e,i,n)}ToTape(){let e=[];return e.push(this.TreeRootExpression),e}},fE=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.RelatingMonetaryUnit=n,this.RelatedMonetaryUnit=r,this.ExchangeRate=o,this.RateDateTime=a,this.RateSource=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new fE(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.RelatingMonetaryUnit),e.push(this.RelatedMonetaryUnit),e.push(this.ExchangeRate),e.push(this.RateDateTime),e.push(this.RateSource),e}},TE=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new TE(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},gE=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new gE(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},bE=class{constructor(e,i){this.expressID=e,this.type=i}static FromTape(e,i,t){return new bE(e,i)}ToTape(){return[]}},IE=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.BasisSurface=t,this.OuterBoundary=s,this.InnerBoundaries=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new IE(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.BasisSurface),e.push(this.OuterBoundary),e.push(this.InnerBoundaries),e}},LE=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.BasisSurface=t,this.Boundaries=s,this.ImplicitOuter=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new LE(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.BasisSurface),e.push(this.Boundaries),e.push(this.ImplicitOuter),e}},SE=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.StartPoint=t,this.StartDirection=s,this.SegmentLength=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new SE(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.StartPoint),e.push(this.StartDirection),e.push(this.SegmentLength),e}},ME=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.Name=t,this.CurveFont=s,this.CurveWidth=n,this.CurveColour=r,this.ModelOrDraughting=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new ME(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.Name),e.push(this.CurveFont),e.push(this.CurveWidth),e.push(this.CurveColour),e.push(this.ModelOrDraughting),e}},xE=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Name=t,this.PatternList=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new xE(e,i,n,r)}ToTape(){let e=[];return e.push(this.Name),e.push(this.PatternList),e}},vE=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Name=t,this.CurveFont=s,this.CurveFontScaling=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new vE(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.Name),e.push(this.CurveFont),e.push(this.CurveFontScaling),e}},GE=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.VisibleSegmentLength=t,this.InvisibleSegmentLength=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new GE(e,i,n,r)}ToTape(){let e=[];return e.push(this.VisibleSegmentLength),e.push(this.InvisibleSegmentLength),e}},EE=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Position=t,this.Radius=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new EE(e,i,n,r)}ToTape(){let e=[];return e.push(this.Position),e.push(this.Radius),e}},CE=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new CE(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},RE=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new RE(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},NE=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new NE(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},FE=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new FE(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},PE=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.ParentProfile=n,this.Operator=r,this.Label=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new PE(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.ParentProfile),e.push(this.Operator),e.push(this.Label),e}},wE=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Elements=t,this.UnitType=s,this.UserDefinedType=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new wE(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.Elements),e.push(this.UnitType),e.push(this.UserDefinedType),e}},XE=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Unit=t,this.Exponent=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new XE(e,i,n,r)}ToTape(){let e=[];return e.push(this.Unit),e.push(this.Exponent),e}},DE=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.LengthExponent=t,this.MassExponent=s,this.TimeExponent=n,this.ElectricCurrentExponent=r,this.ThermodynamicTemperatureExponent=o,this.AmountOfSubstanceExponent=a,this.LuminousIntensityExponent=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new DE(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.LengthExponent),e.push(this.MassExponent),e.push(this.TimeExponent),e.push(this.ElectricCurrentExponent),e.push(this.ThermodynamicTemperatureExponent),e.push(this.AmountOfSubstanceExponent),e.push(this.LuminousIntensityExponent),e}},OE=class{constructor(e,i,t){this.expressID=e,this.type=i,this.DirectionRatios=t}static FromTape(e,i,t){let s=0,n=t[s++];return new OE(e,i,n)}ToTape(){let e=[];return e.push(this.DirectionRatios),e}},zE=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new zE(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},WE=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new WE(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},YE=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.DistanceAlong=t,this.OffsetLateral=s,this.OffsetVertical=n,this.OffsetLongitudinal=r,this.AlongHorizontal=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new YE(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.DistanceAlong),e.push(this.OffsetLateral),e.push(this.OffsetVertical),e.push(this.OffsetLongitudinal),e.push(this.AlongHorizontal),e}},kE=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new kE(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},AE=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new AE(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},KE=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.LongName=a,this.PredefinedType=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new KE(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.LongName),e.push(this.PredefinedType),e}},ZE=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new ZE(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},HE=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new HE(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},UE=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new UE(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},_E=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new _E(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},VE=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new VE(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},jE=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new jE(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},BE=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.FlowDirection=h,this.PredefinedType=c,this.SystemType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new BE(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.FlowDirection),e.push(this.PredefinedType),e.push(this.SystemType),e}},JE=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.LongName=a,this.PredefinedType=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new JE(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.LongName),e.push(this.PredefinedType),e}},QE=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d,T,g,I,v,C){this.expressID=e,this.type=i,this.Identification=t,this.Name=s,this.Description=n,this.Location=r,this.Purpose=o,this.IntendedUse=a,this.Scope=l,this.Revision=h,this.DocumentOwner=c,this.Editors=u,this.CreationTime=p,this.LastRevisionTime=d,this.ElectronicFormat=T,this.ValidFrom=g,this.ValidUntil=I,this.Confidentiality=v,this.Status=C}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++],I=t[s++],v=t[s++],C=t[s++],N=t[s++],F=t[s++];return new QE(e,i,n,r,o,a,l,h,c,u,p,d,T,g,I,v,C,N,F)}ToTape(){let e=[];return e.push(this.Identification),e.push(this.Name),e.push(this.Description),e.push(this.Location),e.push(this.Purpose),e.push(this.IntendedUse),e.push(this.Scope),e.push(this.Revision),e.push(this.DocumentOwner),e.push(this.Editors),e.push(this.CreationTime),e.push(this.LastRevisionTime),e.push(this.ElectronicFormat),e.push(this.ValidFrom),e.push(this.ValidUntil),e.push(this.Confidentiality),e.push(this.Status),e}},qE=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.RelatingDocument=n,this.RelatedDocuments=r,this.RelationshipType=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new qE(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.RelatingDocument),e.push(this.RelatedDocuments),e.push(this.RelationshipType),e}},$E=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.Location=t,this.Identification=s,this.Name=n,this.Description=r,this.ReferencedDocument=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new $E(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.Location),e.push(this.Identification),e.push(this.Name),e.push(this.Description),e.push(this.ReferencedDocument),e}},eC=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d,T){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.OverallHeight=c,this.OverallWidth=u,this.PredefinedType=p,this.OperationType=d,this.UserDefinedOperationType=T}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++],I=t[s++];return new eC(e,i,n,r,o,a,l,h,c,u,p,d,T,g,I)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.OverallHeight),e.push(this.OverallWidth),e.push(this.PredefinedType),e.push(this.OperationType),e.push(this.UserDefinedOperationType),e}},tC=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d,T,g,I,v,C){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.LiningDepth=o,this.LiningThickness=a,this.ThresholdDepth=l,this.ThresholdThickness=h,this.TransomThickness=c,this.TransomOffset=u,this.LiningOffset=p,this.ThresholdOffset=d,this.CasingThickness=T,this.CasingDepth=g,this.ShapeAspectStyle=I,this.LiningToPanelOffsetX=v,this.LiningToPanelOffsetY=C}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++],I=t[s++],v=t[s++],C=t[s++],N=t[s++],F=t[s++];return new tC(e,i,n,r,o,a,l,h,c,u,p,d,T,g,I,v,C,N,F)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.LiningDepth),e.push(this.LiningThickness),e.push(this.ThresholdDepth),e.push(this.ThresholdThickness),e.push(this.TransomThickness),e.push(this.TransomOffset),e.push(this.LiningOffset),e.push(this.ThresholdOffset),e.push(this.CasingThickness),e.push(this.CasingDepth),e.push(this.ShapeAspectStyle),e.push(this.LiningToPanelOffsetX),e.push(this.LiningToPanelOffsetY),e}},iC=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.PanelDepth=o,this.PanelOperation=a,this.PanelWidth=l,this.PanelPosition=h,this.ShapeAspectStyle=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new iC(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.PanelDepth),e.push(this.PanelOperation),e.push(this.PanelWidth),e.push(this.PanelPosition),e.push(this.ShapeAspectStyle),e}},sC=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d,T){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.OverallHeight=c,this.OverallWidth=u,this.PredefinedType=p,this.OperationType=d,this.UserDefinedOperationType=T}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++],I=t[s++];return new sC(e,i,n,r,o,a,l,h,c,u,p,d,T,g,I)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.OverallHeight),e.push(this.OverallWidth),e.push(this.PredefinedType),e.push(this.OperationType),e.push(this.UserDefinedOperationType),e}},nC=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.OperationType=c,this.ConstructionType=u,this.ParameterTakesPrecedence=p,this.Sizeable=d}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++];return new nC(e,i,n,r,o,a,l,h,c,u,p,d,T,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.OperationType),e.push(this.ConstructionType),e.push(this.ParameterTakesPrecedence),e.push(this.Sizeable),e}},rC=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d,T){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u,this.OperationType=p,this.ParameterTakesPrecedence=d,this.UserDefinedOperationType=T}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++],I=t[s++];return new rC(e,i,n,r,o,a,l,h,c,u,p,d,T,g,I)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e.push(this.OperationType),e.push(this.ParameterTakesPrecedence),e.push(this.UserDefinedOperationType),e}},oC=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Name=t}static FromTape(e,i,t){let s=0,n=t[s++];return new oC(e,i,n)}ToTape(){let e=[];return e.push(this.Name),e}},aC=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Name=t}static FromTape(e,i,t){let s=0,n=t[s++];return new aC(e,i,n)}ToTape(){let e=[];return e.push(this.Name),e}},lC=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new lC(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},hC=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new hC(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},cC=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new cC(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},uC=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new uC(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},pC=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new pC(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},dC=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new dC(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},mC=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.EdgeStart=t,this.EdgeEnd=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new mC(e,i,n,r)}ToTape(){let e=[];return e.push(this.EdgeStart),e.push(this.EdgeEnd),e}},yC=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.EdgeStart=t,this.EdgeEnd=s,this.EdgeGeometry=n,this.SameSense=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new yC(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.EdgeStart),e.push(this.EdgeEnd),e.push(this.EdgeGeometry),e.push(this.SameSense),e}},fC=class{constructor(e,i,t){this.expressID=e,this.type=i,this.EdgeList=t}static FromTape(e,i,t){let s=0,n=t[s++];return new fC(e,i,n)}ToTape(){let e=[];return e.push(this.EdgeList),e}},TC=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new TC(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},gC=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new gC(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},bC=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new bC(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},IC=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new IC(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},LC=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new LC(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},SC=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new SC(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},MC=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new MC(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},xC=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new xC(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},vC=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new vC(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},GC=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new GC(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},EC=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new EC(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},CC=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new CC(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},RC=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new RC(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},NC=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.AssemblyPlace=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new NC(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.AssemblyPlace),e.push(this.PredefinedType),e}},FC=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new FC(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},PC=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new PC(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},wC=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new wC(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},XC=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.MethodOfMeasurement=o,this.Quantities=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new XC(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.MethodOfMeasurement),e.push(this.Quantities),e}},DC=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new DC(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},OC=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Position=t}static FromTape(e,i,t){let s=0,n=t[s++];return new OC(e,i,n)}ToTape(){let e=[];return e.push(this.Position),e}},zC=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Position=t,this.SemiAxis1=s,this.SemiAxis2=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new zC(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.Position),e.push(this.SemiAxis1),e.push(this.SemiAxis2),e}},WC=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.Position=n,this.SemiAxis1=r,this.SemiAxis2=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new WC(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.SemiAxis1),e.push(this.SemiAxis2),e}},YC=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new YC(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},kC=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new kC(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},AC=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new AC(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},KC=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new KC(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},ZC=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new ZC(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},HC=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new HC(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},UC=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new UC(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},_C=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new _C(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},VC=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.Identification=a,this.LongDescription=l,this.PredefinedType=h,this.EventTriggerType=c,this.UserDefinedEventTriggerType=u,this.EventOccurenceTime=p}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++];return new VC(e,i,n,r,o,a,l,h,c,u,p,d,T)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.LongDescription),e.push(this.PredefinedType),e.push(this.EventTriggerType),e.push(this.UserDefinedEventTriggerType),e.push(this.EventOccurenceTime),e}},jC=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.Name=t,this.DataOrigin=s,this.UserDefinedDataOrigin=n,this.ActualDate=r,this.EarlyDate=o,this.LateDate=a,this.ScheduleDate=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new jC(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.Name),e.push(this.DataOrigin),e.push(this.UserDefinedDataOrigin),e.push(this.ActualDate),e.push(this.EarlyDate),e.push(this.LateDate),e.push(this.ScheduleDate),e}},BC=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.Identification=l,this.LongDescription=h,this.ProcessType=c,this.PredefinedType=u,this.EventTriggerType=p,this.UserDefinedEventTriggerType=d}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++];return new BC(e,i,n,r,o,a,l,h,c,u,p,d,T,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.Identification),e.push(this.LongDescription),e.push(this.ProcessType),e.push(this.PredefinedType),e.push(this.EventTriggerType),e.push(this.UserDefinedEventTriggerType),e}},JC=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.Properties=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new JC(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Properties),e}},QC=class{constructor(e,i){this.expressID=e,this.type=i}static FromTape(e,i,t){return new QC(e,i)}ToTape(){return[]}},qC=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Location=t,this.Identification=s,this.Name=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new qC(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.Location),e.push(this.Identification),e.push(this.Name),e}},$C=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.RelatingReference=n,this.RelatedResourceObjects=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new $C(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.RelatingReference),e.push(this.RelatedResourceObjects),e}},eR=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.LongName=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new eR(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.LongName),e.push(this.PredefinedType),e}},tR=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.LongName=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new tR(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.LongName),e}},iR=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Location=t,this.Identification=s,this.Name=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new iR(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.Location),e.push(this.Identification),e.push(this.Name),e}},sR=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Location=t,this.Identification=s,this.Name=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new sR(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.Location),e.push(this.Identification),e.push(this.Name),e}},nR=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Location=t,this.Identification=s,this.Name=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new nR(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.Location),e.push(this.Identification),e.push(this.Name),e}},rR=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.SweptArea=t,this.Position=s,this.ExtrudedDirection=n,this.Depth=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new rR(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.SweptArea),e.push(this.Position),e.push(this.ExtrudedDirection),e.push(this.Depth),e}},oR=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.SweptArea=t,this.Position=s,this.ExtrudedDirection=n,this.Depth=r,this.EndSweptArea=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new oR(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.SweptArea),e.push(this.Position),e.push(this.ExtrudedDirection),e.push(this.Depth),e.push(this.EndSweptArea),e}},aR=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Bounds=t}static FromTape(e,i,t){let s=0,n=t[s++];return new aR(e,i,n)}ToTape(){let e=[];return e.push(this.Bounds),e}},lR=class{constructor(e,i,t){this.expressID=e,this.type=i,this.FbsmFaces=t}static FromTape(e,i,t){let s=0,n=t[s++];return new lR(e,i,n)}ToTape(){let e=[];return e.push(this.FbsmFaces),e}},hR=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Bound=t,this.Orientation=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new hR(e,i,n,r)}ToTape(){let e=[];return e.push(this.Bound),e.push(this.Orientation),e}},cR=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Bound=t,this.Orientation=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new cR(e,i,n,r)}ToTape(){let e=[];return e.push(this.Bound),e.push(this.Orientation),e}},uR=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Bounds=t,this.FaceSurface=s,this.SameSense=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new uR(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.Bounds),e.push(this.FaceSurface),e.push(this.SameSense),e}},pR=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Outer=t}static FromTape(e,i,t){let s=0,n=t[s++];return new pR(e,i,n)}ToTape(){let e=[];return e.push(this.Outer),e}},dR=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Outer=t,this.Voids=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new dR(e,i,n,r)}ToTape(){let e=[];return e.push(this.Outer),e.push(this.Voids),e}},mR=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.LongName=h,this.CompositionType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new mR(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.LongName),e.push(this.CompositionType),e}},yR=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.LongName=h,this.CompositionType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new yR(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.LongName),e.push(this.CompositionType),e}},fR=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.Name=t,this.TensionFailureX=s,this.TensionFailureY=n,this.TensionFailureZ=r,this.CompressionFailureX=o,this.CompressionFailureY=a,this.CompressionFailureZ=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new fR(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.Name),e.push(this.TensionFailureX),e.push(this.TensionFailureY),e.push(this.TensionFailureZ),e.push(this.CompressionFailureX),e.push(this.CompressionFailureY),e.push(this.CompressionFailureZ),e}},TR=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new TR(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},gR=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new gR(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},bR=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new bR(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},IR=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new IR(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},LR=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new LR(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},SR=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new SR(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},MR=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new MR(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},xR=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Name=t,this.FillStyles=s,this.ModelorDraughting=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new xR(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.Name),e.push(this.FillStyles),e.push(this.ModelorDraughting),e}},vR=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.HatchLineAppearance=t,this.StartOfNextHatchLine=s,this.PointOfReferenceHatchLine=n,this.PatternStart=r,this.HatchLineAngle=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new vR(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.HatchLineAppearance),e.push(this.StartOfNextHatchLine),e.push(this.PointOfReferenceHatchLine),e.push(this.PatternStart),e.push(this.HatchLineAngle),e}},GR=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.TilingPattern=t,this.Tiles=s,this.TilingScale=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new GR(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.TilingPattern),e.push(this.Tiles),e.push(this.TilingScale),e}},ER=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new ER(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},CR=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new CR(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},RR=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new RR(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},NR=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new NR(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},FR=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.SweptArea=t,this.Position=s,this.Directrix=n,this.StartParam=r,this.EndParam=o,this.FixedReference=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new FR(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.SweptArea),e.push(this.Position),e.push(this.Directrix),e.push(this.StartParam),e.push(this.EndParam),e.push(this.FixedReference),e}},PR=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new PR(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},wR=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new wR(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},XR=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new XR(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},DR=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new DR(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},OR=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new OR(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},zR=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new zR(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},WR=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new WR(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},YR=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new YR(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},kR=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new kR(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},AR=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new AR(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},KR=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new KR(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},ZR=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new ZR(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},HR=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new HR(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},UR=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new UR(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},_R=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new _R(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},VR=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new VR(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},jR=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new jR(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},BR=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new BR(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},JR=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new JR(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},QR=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new QR(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},qR=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new qR(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},$R=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new $R(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},e2=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new e2(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},t2=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.AssemblyPlace=u,this.PredefinedType=p}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++];return new t2(e,i,n,r,o,a,l,h,c,u,p,d,T)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.AssemblyPlace),e.push(this.PredefinedType),e}},i2=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new i2(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},s2=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new s2(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},n2=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Elements=t}static FromTape(e,i,t){let s=0,n=t[s++];return new n2(e,i,n)}ToTape(){let e=[];return e.push(this.Elements),e}},r2=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.ContextIdentifier=t,this.ContextType=s,this.CoordinateSpaceDimension=n,this.Precision=r,this.WorldCoordinateSystem=o,this.TrueNorth=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new r2(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.ContextIdentifier),e.push(this.ContextType),e.push(this.CoordinateSpaceDimension),e.push(this.Precision),e.push(this.WorldCoordinateSystem),e.push(this.TrueNorth),e}},o2=class{constructor(e,i){this.expressID=e,this.type=i}static FromTape(e,i,t){return new o2(e,i)}ToTape(){return[]}},a2=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.ContextIdentifier=t,this.ContextType=s,this.CoordinateSpaceDimension=n,this.Precision=r,this.WorldCoordinateSystem=o,this.TrueNorth=a,this.ParentContext=l,this.TargetScale=h,this.TargetView=c,this.UserDefinedTargetView=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new a2(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.ContextIdentifier),e.push(this.ContextType),e.push(this.CoordinateSpaceDimension),e.push(this.Precision),e.push(this.WorldCoordinateSystem),e.push(this.TrueNorth),e.push(this.ParentContext),e.push(this.TargetScale),e.push(this.TargetView),e.push(this.UserDefinedTargetView),e}},l2=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Elements=t}static FromTape(e,i,t){let s=0,n=t[s++];return new l2(e,i,n)}ToTape(){let e=[];return e.push(this.Elements),e}},h2=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.UAxes=h,this.VAxes=c,this.WAxes=u,this.PredefinedType=p}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++];return new h2(e,i,n,r,o,a,l,h,c,u,p,d,T)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.UAxes),e.push(this.VAxes),e.push(this.WAxes),e.push(this.PredefinedType),e}},c2=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.AxisTag=t,this.AxisCurve=s,this.SameSense=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new c2(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.AxisTag),e.push(this.AxisCurve),e.push(this.SameSense),e}},u2=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.PlacementRelTo=t,this.PlacementLocation=s,this.PlacementRefDirection=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new u2(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.PlacementRelTo),e.push(this.PlacementLocation),e.push(this.PlacementRefDirection),e}},p2=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new p2(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e}},d2=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.BaseSurface=t,this.AgreementFlag=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new d2(e,i,n,r)}ToTape(){let e=[];return e.push(this.BaseSurface),e.push(this.AgreementFlag),e}},m2=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new m2(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},y2=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new y2(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},f2=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new f2(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},T2=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new T2(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},g2=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.Position=n,this.OverallWidth=r,this.OverallDepth=o,this.WebThickness=a,this.FlangeThickness=l,this.FilletRadius=h,this.FlangeEdgeRadius=c,this.FlangeSlope=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new g2(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.OverallWidth),e.push(this.OverallDepth),e.push(this.WebThickness),e.push(this.FlangeThickness),e.push(this.FilletRadius),e.push(this.FlangeEdgeRadius),e.push(this.FlangeSlope),e}},b2=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.RepeatS=t,this.RepeatT=s,this.Mode=n,this.TextureTransform=r,this.Parameter=o,this.URLReference=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new b2(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.RepeatS),e.push(this.RepeatT),e.push(this.Mode),e.push(this.TextureTransform),e.push(this.Parameter),e.push(this.URLReference),e}},I2=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.MappedTo=t,this.Opacity=s,this.Colours=n,this.ColourIndex=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new I2(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.MappedTo),e.push(this.Opacity),e.push(this.Colours),e.push(this.ColourIndex),e}},L2=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Points=t,this.Segments=s,this.SelfIntersect=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new L2(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.Points),e.push(this.Segments),e.push(this.SelfIntersect),e}},S2=class{constructor(e,i,t){this.expressID=e,this.type=i,this.CoordIndex=t}static FromTape(e,i,t){let s=0,n=t[s++];return new S2(e,i,n)}ToTape(){let e=[];return e.push(this.CoordIndex),e}},M2=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.CoordIndex=t,this.InnerCoordIndices=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new M2(e,i,n,r)}ToTape(){let e=[];return e.push(this.CoordIndex),e.push(this.InnerCoordIndices),e}},x2=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Maps=t,this.MappedTo=s,this.TexCoords=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new x2(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.Maps),e.push(this.MappedTo),e.push(this.TexCoords),e}},v2=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Maps=t,this.MappedTo=s,this.TexCoords=n,this.TexCoordIndex=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new v2(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.Maps),e.push(this.MappedTo),e.push(this.TexCoords),e.push(this.TexCoordIndex),e}},G2=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new G2(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},E2=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new E2(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},C2=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Curve3D=t,this.AssociatedGeometry=s,this.MasterRepresentation=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new C2(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.Curve3D),e.push(this.AssociatedGeometry),e.push(this.MasterRepresentation),e}},R2=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.PredefinedType=a,this.Jurisdiction=l,this.ResponsiblePersons=h,this.LastUpdateDate=c,this.CurrentValue=u,this.OriginalValue=p}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++];return new R2(e,i,n,r,o,a,l,h,c,u,p,d,T)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.PredefinedType),e.push(this.Jurisdiction),e.push(this.ResponsiblePersons),e.push(this.LastUpdateDate),e.push(this.CurrentValue),e.push(this.OriginalValue),e}},N2=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.StartTime=n,this.EndTime=r,this.TimeSeriesDataType=o,this.DataOrigin=a,this.UserDefinedDataOrigin=l,this.Unit=h,this.Values=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new N2(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.StartTime),e.push(this.EndTime),e.push(this.TimeSeriesDataType),e.push(this.DataOrigin),e.push(this.UserDefinedDataOrigin),e.push(this.Unit),e.push(this.Values),e}},F2=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.TimeStamp=t,this.ListValues=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new F2(e,i,n,r)}ToTape(){let e=[];return e.push(this.TimeStamp),e.push(this.ListValues),e}},P2=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new P2(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},w2=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new w2(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},X2=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.Position=n,this.Depth=r,this.Width=o,this.Thickness=a,this.FilletRadius=l,this.EdgeRadius=h,this.LegSlope=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new X2(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.Depth),e.push(this.Width),e.push(this.Thickness),e.push(this.FilletRadius),e.push(this.EdgeRadius),e.push(this.LegSlope),e}},D2=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.Identification=a,this.LongDescription=l,this.Usage=h,this.BaseCosts=c,this.BaseQuantity=u,this.PredefinedType=p}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++];return new D2(e,i,n,r,o,a,l,h,c,u,p,d,T)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.LongDescription),e.push(this.Usage),e.push(this.BaseCosts),e.push(this.BaseQuantity),e.push(this.PredefinedType),e}},O2=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.Identification=l,this.LongDescription=h,this.ResourceType=c,this.BaseCosts=u,this.BaseQuantity=p,this.PredefinedType=d}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++];return new O2(e,i,n,r,o,a,l,h,c,u,p,d,T,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.Identification),e.push(this.LongDescription),e.push(this.ResourceType),e.push(this.BaseCosts),e.push(this.BaseQuantity),e.push(this.PredefinedType),e}},z2=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.Name=t,this.DataOrigin=s,this.UserDefinedDataOrigin=n,this.LagValue=r,this.DurationType=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new z2(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.Name),e.push(this.DataOrigin),e.push(this.UserDefinedDataOrigin),e.push(this.LagValue),e.push(this.DurationType),e}},W2=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new W2(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},Y2=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new Y2(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},k2=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.Name=t,this.Version=s,this.Publisher=n,this.VersionDate=r,this.Location=o,this.Description=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new k2(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Version),e.push(this.Publisher),e.push(this.VersionDate),e.push(this.Location),e.push(this.Description),e}},A2=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.Location=t,this.Identification=s,this.Name=n,this.Description=r,this.Language=o,this.ReferencedLibrary=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new A2(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.Location),e.push(this.Identification),e.push(this.Name),e.push(this.Description),e.push(this.Language),e.push(this.ReferencedLibrary),e}},K2=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.MainPlaneAngle=t,this.SecondaryPlaneAngle=s,this.LuminousIntensity=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new K2(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.MainPlaneAngle),e.push(this.SecondaryPlaneAngle),e.push(this.LuminousIntensity),e}},Z2=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new Z2(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},H2=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new H2(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},U2=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.LightDistributionCurve=t,this.DistributionData=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new U2(e,i,n,r)}ToTape(){let e=[];return e.push(this.LightDistributionCurve),e.push(this.DistributionData),e}},_2=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.LightColour=s,this.AmbientIntensity=n,this.Intensity=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new _2(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.LightColour),e.push(this.AmbientIntensity),e.push(this.Intensity),e}},V2=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.LightColour=s,this.AmbientIntensity=n,this.Intensity=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new V2(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.LightColour),e.push(this.AmbientIntensity),e.push(this.Intensity),e}},j2=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.Name=t,this.LightColour=s,this.AmbientIntensity=n,this.Intensity=r,this.Orientation=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new j2(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.Name),e.push(this.LightColour),e.push(this.AmbientIntensity),e.push(this.Intensity),e.push(this.Orientation),e}},B2=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.Name=t,this.LightColour=s,this.AmbientIntensity=n,this.Intensity=r,this.Position=o,this.ColourAppearance=a,this.ColourTemperature=l,this.LuminousFlux=h,this.LightEmissionSource=c,this.LightDistributionDataSource=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new B2(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.Name),e.push(this.LightColour),e.push(this.AmbientIntensity),e.push(this.Intensity),e.push(this.Position),e.push(this.ColourAppearance),e.push(this.ColourTemperature),e.push(this.LuminousFlux),e.push(this.LightEmissionSource),e.push(this.LightDistributionDataSource),e}},J2=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.Name=t,this.LightColour=s,this.AmbientIntensity=n,this.Intensity=r,this.Position=o,this.Radius=a,this.ConstantAttenuation=l,this.DistanceAttenuation=h,this.QuadricAttenuation=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new J2(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.Name),e.push(this.LightColour),e.push(this.AmbientIntensity),e.push(this.Intensity),e.push(this.Position),e.push(this.Radius),e.push(this.ConstantAttenuation),e.push(this.DistanceAttenuation),e.push(this.QuadricAttenuation),e}},Q2=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d,T){this.expressID=e,this.type=i,this.Name=t,this.LightColour=s,this.AmbientIntensity=n,this.Intensity=r,this.Position=o,this.Radius=a,this.ConstantAttenuation=l,this.DistanceAttenuation=h,this.QuadricAttenuation=c,this.Orientation=u,this.ConcentrationExponent=p,this.SpreadAngle=d,this.BeamWidthAngle=T}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++],I=t[s++];return new Q2(e,i,n,r,o,a,l,h,c,u,p,d,T,g,I)}ToTape(){let e=[];return e.push(this.Name),e.push(this.LightColour),e.push(this.AmbientIntensity),e.push(this.Intensity),e.push(this.Position),e.push(this.Radius),e.push(this.ConstantAttenuation),e.push(this.DistanceAttenuation),e.push(this.QuadricAttenuation),e.push(this.Orientation),e.push(this.ConcentrationExponent),e.push(this.SpreadAngle),e.push(this.BeamWidthAngle),e}},q2=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Pnt=t,this.Dir=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new q2(e,i,n,r)}ToTape(){let e=[];return e.push(this.Pnt),e.push(this.Dir),e}},$2=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.StartPoint=t,this.StartDirection=s,this.SegmentLength=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new $2(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.StartPoint),e.push(this.StartDirection),e.push(this.SegmentLength),e}},e5=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.PlacementRelTo=t,this.PlacementMeasuredAlong=s,this.Distance=n,this.Orientation=r,this.CartesianPosition=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new e5(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.PlacementRelTo),e.push(this.PlacementMeasuredAlong),e.push(this.Distance),e.push(this.Orientation),e.push(this.CartesianPosition),e}},t5=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Axis=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new t5(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Axis),e}},i5=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.PlacementRelTo=t,this.RelativePlacement=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new i5(e,i,n,r)}ToTape(){let e=[];return e.push(this.PlacementRelTo),e.push(this.RelativePlacement),e}},s5=class{constructor(e,i){this.expressID=e,this.type=i}static FromTape(e,i,t){return new s5(e,i)}ToTape(){return[]}},n5=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Outer=t}static FromTape(e,i,t){let s=0,n=t[s++];return new n5(e,i,n)}ToTape(){let e=[];return e.push(this.Outer),e}},r5=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.SourceCRS=t,this.TargetCRS=s,this.Eastings=n,this.Northings=r,this.OrthogonalHeight=o,this.XAxisAbscissa=a,this.XAxisOrdinate=l,this.Scale=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new r5(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.SourceCRS),e.push(this.TargetCRS),e.push(this.Eastings),e.push(this.Northings),e.push(this.OrthogonalHeight),e.push(this.XAxisAbscissa),e.push(this.XAxisOrdinate),e.push(this.Scale),e}},o5=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.MappingSource=t,this.MappingTarget=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new o5(e,i,n,r)}ToTape(){let e=[];return e.push(this.MappingSource),e.push(this.MappingTarget),e}},a5=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.Category=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new a5(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Category),e}},l5=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.MaterialClassifications=t,this.ClassifiedMaterial=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new l5(e,i,n,r)}ToTape(){let e=[];return e.push(this.MaterialClassifications),e.push(this.ClassifiedMaterial),e}},h5=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.Material=n,this.Fraction=r,this.Category=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new h5(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Material),e.push(this.Fraction),e.push(this.Category),e}},c5=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.MaterialConstituents=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new c5(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.MaterialConstituents),e}},u5=class{constructor(e,i){this.expressID=e,this.type=i}static FromTape(e,i,t){return new u5(e,i)}ToTape(){return[]}},p5=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.Representations=n,this.RepresentedMaterial=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new p5(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Representations),e.push(this.RepresentedMaterial),e}},d5=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.Material=t,this.LayerThickness=s,this.IsVentilated=n,this.Name=r,this.Description=o,this.Category=a,this.Priority=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new d5(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.Material),e.push(this.LayerThickness),e.push(this.IsVentilated),e.push(this.Name),e.push(this.Description),e.push(this.Category),e.push(this.Priority),e}},m5=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.MaterialLayers=t,this.LayerSetName=s,this.Description=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new m5(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.MaterialLayers),e.push(this.LayerSetName),e.push(this.Description),e}},y5=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.ForLayerSet=t,this.LayerSetDirection=s,this.DirectionSense=n,this.OffsetFromReferenceLine=r,this.ReferenceExtent=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new y5(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.ForLayerSet),e.push(this.LayerSetDirection),e.push(this.DirectionSense),e.push(this.OffsetFromReferenceLine),e.push(this.ReferenceExtent),e}},f5=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.Material=t,this.LayerThickness=s,this.IsVentilated=n,this.Name=r,this.Description=o,this.Category=a,this.Priority=l,this.OffsetDirection=h,this.OffsetValues=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new f5(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.Material),e.push(this.LayerThickness),e.push(this.IsVentilated),e.push(this.Name),e.push(this.Description),e.push(this.Category),e.push(this.Priority),e.push(this.OffsetDirection),e.push(this.OffsetValues),e}},T5=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Materials=t}static FromTape(e,i,t){let s=0,n=t[s++];return new T5(e,i,n)}ToTape(){let e=[];return e.push(this.Materials),e}},g5=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.Material=n,this.Profile=r,this.Priority=o,this.Category=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new g5(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Material),e.push(this.Profile),e.push(this.Priority),e.push(this.Category),e}},b5=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.MaterialProfiles=n,this.CompositeProfile=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new b5(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.MaterialProfiles),e.push(this.CompositeProfile),e}},I5=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.ForProfileSet=t,this.CardinalPoint=s,this.ReferenceExtent=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new I5(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.ForProfileSet),e.push(this.CardinalPoint),e.push(this.ReferenceExtent),e}},L5=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.ForProfileSet=t,this.CardinalPoint=s,this.ReferenceExtent=n,this.ForProfileEndSet=r,this.CardinalEndPoint=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new L5(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.ForProfileSet),e.push(this.CardinalPoint),e.push(this.ReferenceExtent),e.push(this.ForProfileEndSet),e.push(this.CardinalEndPoint),e}},S5=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.Material=n,this.Profile=r,this.Priority=o,this.Category=a,this.OffsetValues=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new S5(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Material),e.push(this.Profile),e.push(this.Priority),e.push(this.Category),e.push(this.OffsetValues),e}},M5=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.Properties=n,this.Material=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new M5(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Properties),e.push(this.Material),e}},x5=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.RelatingMaterial=n,this.RelatedMaterials=r,this.Expression=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new x5(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.RelatingMaterial),e.push(this.RelatedMaterials),e.push(this.Expression),e}},v5=class{constructor(e,i){this.expressID=e,this.type=i}static FromTape(e,i,t){return new v5(e,i)}ToTape(){return[]}},G5=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.ValueComponent=t,this.UnitComponent=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new G5(e,i,n,r)}ToTape(){let e=[];return e.push(this.ValueComponent),e.push(this.UnitComponent),e}},E5=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.NominalDiameter=c,this.NominalLength=u,this.PredefinedType=p}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++];return new E5(e,i,n,r,o,a,l,h,c,u,p,d,T)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.NominalDiameter),e.push(this.NominalLength),e.push(this.PredefinedType),e}},C5=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u,this.NominalDiameter=p,this.NominalLength=d}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++];return new C5(e,i,n,r,o,a,l,h,c,u,p,d,T,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e.push(this.NominalDiameter),e.push(this.NominalLength),e}},R5=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new R5(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},N5=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new N5(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},F5=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new F5(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},P5=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new P5(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},w5=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new w5(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},X5=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.ConstraintGrade=n,this.ConstraintSource=r,this.CreatingActor=o,this.CreationTime=a,this.UserDefinedGrade=l,this.Benchmark=h,this.ValueSource=c,this.DataValue=u,this.ReferencePath=p}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++];return new X5(e,i,n,r,o,a,l,h,c,u,p,d,T)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.ConstraintGrade),e.push(this.ConstraintSource),e.push(this.CreatingActor),e.push(this.CreationTime),e.push(this.UserDefinedGrade),e.push(this.Benchmark),e.push(this.ValueSource),e.push(this.DataValue),e.push(this.ReferencePath),e}},D5=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.ParentProfile=n,this.Operator=r,this.Label=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new D5(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.ParentProfile),e.push(this.Operator),e.push(this.Label),e}},O5=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Currency=t}static FromTape(e,i,t){let s=0,n=t[s++];return new O5(e,i,n)}ToTape(){let e=[];return e.push(this.Currency),e}},z5=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new z5(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},W5=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new W5(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},Y5=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Dimensions=t,this.UnitType=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new Y5(e,i,n,r)}ToTape(){let e=[];return e.push(this.Dimensions),e.push(this.UnitType),e}},k5=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new k5(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e}},A5=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new A5(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e}},K5=class{constructor(e,i,t){this.expressID=e,this.type=i,this.PlacementRelTo=t}static FromTape(e,i,t){let s=0,n=t[s++];return new K5(e,i,n)}ToTape(){let e=[];return e.push(this.PlacementRelTo),e}},Z5=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.ConstraintGrade=n,this.ConstraintSource=r,this.CreatingActor=o,this.CreationTime=a,this.UserDefinedGrade=l,this.BenchmarkValues=h,this.LogicalAggregator=c,this.ObjectiveQualifier=u,this.UserDefinedQualifier=p}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++];return new Z5(e,i,n,r,o,a,l,h,c,u,p,d,T)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.ConstraintGrade),e.push(this.ConstraintSource),e.push(this.CreatingActor),e.push(this.CreationTime),e.push(this.UserDefinedGrade),e.push(this.BenchmarkValues),e.push(this.LogicalAggregator),e.push(this.ObjectiveQualifier),e.push(this.UserDefinedQualifier),e}},H5=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.TheActor=a,this.PredefinedType=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new H5(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.TheActor),e.push(this.PredefinedType),e}},U5=class{constructor(e,i,t){this.expressID=e,this.type=i,this.BasisCurve=t}static FromTape(e,i,t){let s=0,n=t[s++];return new U5(e,i,n)}ToTape(){let e=[];return e.push(this.BasisCurve),e}},_5=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.BasisCurve=t,this.Distance=s,this.SelfIntersect=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new _5(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.BasisCurve),e.push(this.Distance),e.push(this.SelfIntersect),e}},V5=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.BasisCurve=t,this.Distance=s,this.SelfIntersect=n,this.RefDirection=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new V5(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.BasisCurve),e.push(this.Distance),e.push(this.SelfIntersect),e.push(this.RefDirection),e}},j5=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.BasisCurve=t,this.OffsetValues=s,this.Tag=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new j5(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.BasisCurve),e.push(this.OffsetValues),e.push(this.Tag),e}},B5=class{constructor(e,i,t){this.expressID=e,this.type=i,this.CfsFaces=t}static FromTape(e,i,t){let s=0,n=t[s++];return new B5(e,i,n)}ToTape(){let e=[];return e.push(this.CfsFaces),e}},J5=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new J5(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},Q5=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new Q5(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},q5=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.Identification=t,this.Name=s,this.Description=n,this.Roles=r,this.Addresses=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new q5(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.Identification),e.push(this.Name),e.push(this.Description),e.push(this.Roles),e.push(this.Addresses),e}},$5=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.RelatingOrganization=n,this.RelatedOrganizations=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new $5(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.RelatingOrganization),e.push(this.RelatedOrganizations),e}},eN=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.LateralAxisDirection=t,this.VerticalAxisDirection=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new eN(e,i,n,r)}ToTape(){let e=[];return e.push(this.LateralAxisDirection),e.push(this.VerticalAxisDirection),e}},tN=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.EdgeStart=t,this.EdgeEnd=s,this.EdgeElement=n,this.Orientation=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new tN(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.EdgeStart),e.push(this.EdgeEnd),e.push(this.EdgeElement),e.push(this.Orientation),e}},iN=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Segments=t,this.SelfIntersect=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new iN(e,i,n,r)}ToTape(){let e=[];return e.push(this.Segments),e.push(this.SelfIntersect),e}},sN=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new sN(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},nN=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new nN(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},rN=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.OwningUser=t,this.OwningApplication=s,this.State=n,this.ChangeAction=r,this.LastModifiedDate=o,this.LastModifyingUser=a,this.LastModifyingApplication=l,this.CreationDate=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new rN(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.OwningUser),e.push(this.OwningApplication),e.push(this.State),e.push(this.ChangeAction),e.push(this.LastModifiedDate),e.push(this.LastModifyingUser),e.push(this.LastModifyingApplication),e.push(this.CreationDate),e}},oN=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.Position=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new oN(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e}},aN=class{constructor(e,i,t){this.expressID=e,this.type=i,this.EdgeList=t}static FromTape(e,i,t){let s=0,n=t[s++];return new aN(e,i,n)}ToTape(){let e=[];return e.push(this.EdgeList),e}},lN=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.BasisSurface=t,this.ReferenceCurve=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new lN(e,i,n,r)}ToTape(){let e=[];return e.push(this.BasisSurface),e.push(this.ReferenceCurve),e}},hN=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.Identification=a,this.LifeCyclePhase=l,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new hN(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.LifeCyclePhase),e.push(this.PredefinedType),e}},cN=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.OperationType=o,this.PanelPosition=a,this.FrameDepth=l,this.FrameThickness=h,this.ShapeAspectStyle=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new cN(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.OperationType),e.push(this.PanelPosition),e.push(this.FrameDepth),e.push(this.FrameThickness),e.push(this.ShapeAspectStyle),e}},uN=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.Identification=a,this.PredefinedType=l,this.Status=h,this.LongDescription=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new uN(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.PredefinedType),e.push(this.Status),e.push(this.LongDescription),e}},pN=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.Identification=t,this.FamilyName=s,this.GivenName=n,this.MiddleNames=r,this.PrefixTitles=o,this.SuffixTitles=a,this.Roles=l,this.Addresses=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new pN(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.Identification),e.push(this.FamilyName),e.push(this.GivenName),e.push(this.MiddleNames),e.push(this.PrefixTitles),e.push(this.SuffixTitles),e.push(this.Roles),e.push(this.Addresses),e}},dN=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.ThePerson=t,this.TheOrganization=s,this.Roles=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new dN(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.ThePerson),e.push(this.TheOrganization),e.push(this.Roles),e}},mN=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.HasQuantities=n,this.Discrimination=r,this.Quality=o,this.Usage=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new mN(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.HasQuantities),e.push(this.Discrimination),e.push(this.Quality),e.push(this.Usage),e}},yN=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Name=t,this.Description=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new yN(e,i,n,r)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e}},fN=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.Unit=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new fN(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Unit),e}},TN=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c,this.ConstructionType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new TN(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e.push(this.ConstructionType),e}},gN=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new gN(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},bN=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new bN(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},IN=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new IN(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},LN=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new LN(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},SN=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new SN(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},MN=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.RepeatS=t,this.RepeatT=s,this.Mode=n,this.TextureTransform=r,this.Parameter=o,this.Width=a,this.Height=l,this.ColourComponents=h,this.Pixel=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new MN(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.RepeatS),e.push(this.RepeatT),e.push(this.Mode),e.push(this.TextureTransform),e.push(this.Parameter),e.push(this.Width),e.push(this.Height),e.push(this.ColourComponents),e.push(this.Pixel),e}},xN=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Location=t}static FromTape(e,i,t){let s=0,n=t[s++];return new xN(e,i,n)}ToTape(){let e=[];return e.push(this.Location),e}},vN=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.SizeInX=t,this.SizeInY=s,this.Placement=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new vN(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.SizeInX),e.push(this.SizeInY),e.push(this.Placement),e}},GN=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.SizeInX=t,this.SizeInY=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new GN(e,i,n,r)}ToTape(){let e=[];return e.push(this.SizeInX),e.push(this.SizeInY),e}},EN=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Position=t}static FromTape(e,i,t){let s=0,n=t[s++];return new EN(e,i,n)}ToTape(){let e=[];return e.push(this.Position),e}},CN=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new CN(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},RN=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new RN(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},NN=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new NN(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},FN=class{constructor(e,i){this.expressID=e,this.type=i}static FromTape(e,i,t){return new FN(e,i)}ToTape(){return[]}},PN=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.BasisCurve=t,this.PointParameter=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new PN(e,i,n,r)}ToTape(){let e=[];return e.push(this.BasisCurve),e.push(this.PointParameter),e}},wN=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.BasisSurface=t,this.PointParameterU=s,this.PointParameterV=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new wN(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.BasisSurface),e.push(this.PointParameterU),e.push(this.PointParameterV),e}},XN=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Polygon=t}static FromTape(e,i,t){let s=0,n=t[s++];return new XN(e,i,n)}ToTape(){let e=[];return e.push(this.Polygon),e}},DN=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.BaseSurface=t,this.AgreementFlag=s,this.Position=n,this.PolygonalBoundary=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new DN(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.BaseSurface),e.push(this.AgreementFlag),e.push(this.Position),e.push(this.PolygonalBoundary),e}},ON=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Coordinates=t,this.Closed=s,this.Faces=n,this.PnIndex=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new ON(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.Coordinates),e.push(this.Closed),e.push(this.Faces),e.push(this.PnIndex),e}},zN=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Points=t}static FromTape(e,i,t){let s=0,n=t[s++];return new zN(e,i,n)}ToTape(){let e=[];return e.push(this.Points),e}},WN=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new WN(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e}},YN=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new YN(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e}},kN=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.Purpose=t,this.Description=s,this.UserDefinedPurpose=n,this.InternalLocation=r,this.AddressLines=o,this.PostalBox=a,this.Town=l,this.Region=h,this.PostalCode=c,this.Country=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new kN(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.Purpose),e.push(this.Description),e.push(this.UserDefinedPurpose),e.push(this.InternalLocation),e.push(this.AddressLines),e.push(this.PostalBox),e.push(this.Town),e.push(this.Region),e.push(this.PostalCode),e.push(this.Country),e}},AN=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Name=t}static FromTape(e,i,t){let s=0,n=t[s++];return new AN(e,i,n)}ToTape(){let e=[];return e.push(this.Name),e}},KN=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Name=t}static FromTape(e,i,t){let s=0,n=t[s++];return new KN(e,i,n)}ToTape(){let e=[];return e.push(this.Name),e}},ZN=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Name=t}static FromTape(e,i,t){let s=0,n=t[s++];return new ZN(e,i,n)}ToTape(){let e=[];return e.push(this.Name),e}},HN=class{constructor(e,i){this.expressID=e,this.type=i}static FromTape(e,i,t){return new HN(e,i)}ToTape(){return[]}},UN=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new UN(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e}},_N=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Name=t}static FromTape(e,i,t){let s=0,n=t[s++];return new _N(e,i,n)}ToTape(){let e=[];return e.push(this.Name),e}},VN=class{constructor(e,i){this.expressID=e,this.type=i}static FromTape(e,i,t){return new VN(e,i)}ToTape(){return[]}},jN=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.AssignedItems=n,this.Identifier=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new jN(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.AssignedItems),e.push(this.Identifier),e}},BN=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.AssignedItems=n,this.Identifier=r,this.LayerOn=o,this.LayerFrozen=a,this.LayerBlocked=l,this.LayerStyles=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new BN(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.AssignedItems),e.push(this.Identifier),e.push(this.LayerOn),e.push(this.LayerFrozen),e.push(this.LayerBlocked),e.push(this.LayerStyles),e}},JN=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Name=t}static FromTape(e,i,t){let s=0,n=t[s++];return new JN(e,i,n)}ToTape(){let e=[];return e.push(this.Name),e}},QN=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Styles=t}static FromTape(e,i,t){let s=0,n=t[s++];return new QN(e,i,n)}ToTape(){let e=[];return e.push(this.Styles),e}},qN=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.Identification=a,this.LongDescription=l,this.PredefinedType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new qN(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.LongDescription),e.push(this.PredefinedType),e}},$N=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.Identification=l,this.LongDescription=h,this.ProcessType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new $N(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.Identification),e.push(this.LongDescription),e.push(this.ProcessType),e.push(this.PredefinedType),e}},eF=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.Identification=a,this.LongDescription=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new eF(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.LongDescription),e}},tF=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new tF(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e}},iF=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.Representations=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new iF(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Representations),e}},sF=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.Representations=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new sF(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Representations),e}},nF=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new nF(e,i,n,r)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e}},rF=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.Properties=n,this.ProfileDefinition=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new rF(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Properties),e.push(this.ProfileDefinition),e}},oF=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.LongName=a,this.Phase=l,this.RepresentationContexts=h,this.UnitsInContext=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new oF(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.LongName),e.push(this.Phase),e.push(this.RepresentationContexts),e.push(this.UnitsInContext),e}},aF=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.LongName=a,this.Phase=l,this.RepresentationContexts=h,this.UnitsInContext=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new aF(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.LongName),e.push(this.Phase),e.push(this.RepresentationContexts),e.push(this.UnitsInContext),e}},lF=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.Identification=a,this.PredefinedType=l,this.Status=h,this.LongDescription=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new lF(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.PredefinedType),e.push(this.Status),e.push(this.LongDescription),e}},hF=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.GeodeticDatum=n,this.VerticalDatum=r,this.MapProjection=o,this.MapZone=a,this.MapUnit=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new hF(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.GeodeticDatum),e.push(this.VerticalDatum),e.push(this.MapProjection),e.push(this.MapZone),e.push(this.MapUnit),e}},cF=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new cF(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},uF=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Name=t,this.Description=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new uF(e,i,n,r)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e}},pF=class{constructor(e,i){this.expressID=e,this.type=i}static FromTape(e,i,t){return new pF(e,i)}ToTape(){return[]}},dF=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.UpperBoundValue=n,this.LowerBoundValue=r,this.Unit=o,this.SetPointValue=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new dF(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.UpperBoundValue),e.push(this.LowerBoundValue),e.push(this.Unit),e.push(this.SetPointValue),e}},mF=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new mF(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e}},yF=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.DependingProperty=n,this.DependantProperty=r,this.Expression=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new yF(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.DependingProperty),e.push(this.DependantProperty),e.push(this.Expression),e}},fF=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.EnumerationValues=n,this.EnumerationReference=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new fF(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.EnumerationValues),e.push(this.EnumerationReference),e}},TF=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Name=t,this.EnumerationValues=s,this.Unit=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new TF(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.Name),e.push(this.EnumerationValues),e.push(this.Unit),e}},gF=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.ListValues=n,this.Unit=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new gF(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.ListValues),e.push(this.Unit),e}},bF=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.UsageName=n,this.PropertyReference=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new bF(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.UsageName),e.push(this.PropertyReference),e}},IF=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.HasProperties=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new IF(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.HasProperties),e}},LF=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new LF(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e}},SF=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.TemplateType=o,this.ApplicableEntity=a,this.HasPropertyTemplates=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new SF(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.TemplateType),e.push(this.ApplicableEntity),e.push(this.HasPropertyTemplates),e}},MF=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.NominalValue=n,this.Unit=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new MF(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.NominalValue),e.push(this.Unit),e}},xF=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.DefiningValues=n,this.DefinedValues=r,this.Expression=o,this.DefiningUnit=a,this.DefinedUnit=l,this.CurveInterpolation=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new xF(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.DefiningValues),e.push(this.DefinedValues),e.push(this.Expression),e.push(this.DefiningUnit),e.push(this.DefinedUnit),e.push(this.CurveInterpolation),e}},vF=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new vF(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e}},GF=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new GF(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e}},EF=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new EF(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},CF=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new CF(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},RF=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new RF(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},NF=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new NF(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},FF=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.ProxyType=h,this.Tag=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new FF(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.ProxyType),e.push(this.Tag),e}},PF=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new PF(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},wF=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new wF(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},XF=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.Unit=n,this.AreaValue=r,this.Formula=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new XF(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Unit),e.push(this.AreaValue),e.push(this.Formula),e}},DF=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.Unit=n,this.CountValue=r,this.Formula=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new DF(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Unit),e.push(this.CountValue),e.push(this.Formula),e}},OF=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.Unit=n,this.LengthValue=r,this.Formula=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new OF(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Unit),e.push(this.LengthValue),e.push(this.Formula),e}},zF=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new zF(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e}},WF=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.Unit=n,this.TimeValue=r,this.Formula=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new WF(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Unit),e.push(this.TimeValue),e.push(this.Formula),e}},YF=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.Unit=n,this.VolumeValue=r,this.Formula=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new YF(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Unit),e.push(this.VolumeValue),e.push(this.Formula),e}},kF=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.Unit=n,this.WeightValue=r,this.Formula=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new kF(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.Unit),e.push(this.WeightValue),e.push(this.Formula),e}},AF=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new AF(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},KF=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new KF(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},ZF=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new ZF(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},HF=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new HF(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},UF=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new UF(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},_F=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new _F(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},VF=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.Degree=t,this.ControlPointsList=s,this.CurveForm=n,this.ClosedCurve=r,this.SelfIntersect=o,this.KnotMultiplicities=a,this.Knots=l,this.KnotSpec=h,this.WeightsData=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new VF(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.Degree),e.push(this.ControlPointsList),e.push(this.CurveForm),e.push(this.ClosedCurve),e.push(this.SelfIntersect),e.push(this.KnotMultiplicities),e.push(this.Knots),e.push(this.KnotSpec),e.push(this.WeightsData),e}},jF=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d,T){this.expressID=e,this.type=i,this.UDegree=t,this.VDegree=s,this.ControlPointsList=n,this.SurfaceForm=r,this.UClosed=o,this.VClosed=a,this.SelfIntersect=l,this.UMultiplicities=h,this.VMultiplicities=c,this.UKnots=u,this.VKnots=p,this.KnotSpec=d,this.WeightsData=T}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++],I=t[s++];return new jF(e,i,n,r,o,a,l,h,c,u,p,d,T,g,I)}ToTape(){let e=[];return e.push(this.UDegree),e.push(this.VDegree),e.push(this.ControlPointsList),e.push(this.SurfaceForm),e.push(this.UClosed),e.push(this.VClosed),e.push(this.SelfIntersect),e.push(this.UMultiplicities),e.push(this.VMultiplicities),e.push(this.UKnots),e.push(this.VKnots),e.push(this.KnotSpec),e.push(this.WeightsData),e}},BF=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.Position=n,this.XDim=r,this.YDim=o,this.WallThickness=a,this.InnerFilletRadius=l,this.OuterFilletRadius=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new BF(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.XDim),e.push(this.YDim),e.push(this.WallThickness),e.push(this.InnerFilletRadius),e.push(this.OuterFilletRadius),e}},JF=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.Position=n,this.XDim=r,this.YDim=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new JF(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.XDim),e.push(this.YDim),e}},QF=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Position=t,this.XLength=s,this.YLength=n,this.Height=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new QF(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.Position),e.push(this.XLength),e.push(this.YLength),e.push(this.Height),e}},qF=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.BasisSurface=t,this.U1=s,this.V1=n,this.U2=r,this.V2=o,this.Usense=a,this.Vsense=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new qF(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.BasisSurface),e.push(this.U1),e.push(this.V1),e.push(this.U2),e.push(this.V2),e.push(this.Usense),e.push(this.Vsense),e}},$F=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.RecurrenceType=t,this.DayComponent=s,this.WeekdayComponent=n,this.MonthComponent=r,this.Position=o,this.Interval=a,this.Occurrences=l,this.TimePeriods=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new $F(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.RecurrenceType),e.push(this.DayComponent),e.push(this.WeekdayComponent),e.push(this.MonthComponent),e.push(this.Position),e.push(this.Interval),e.push(this.Occurrences),e.push(this.TimePeriods),e}},eP=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.TypeIdentifier=t,this.AttributeIdentifier=s,this.InstanceName=n,this.ListPositions=r,this.InnerReference=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new eP(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.TypeIdentifier),e.push(this.AttributeIdentifier),e.push(this.InstanceName),e.push(this.ListPositions),e.push(this.InnerReference),e}},tP=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.PredefinedType=h,this.RestartDistance=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new tP(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.PredefinedType),e.push(this.RestartDistance),e}},iP=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.StartTime=n,this.EndTime=r,this.TimeSeriesDataType=o,this.DataOrigin=a,this.UserDefinedDataOrigin=l,this.Unit=h,this.TimeStep=c,this.Values=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new iP(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.StartTime),e.push(this.EndTime),e.push(this.TimeSeriesDataType),e.push(this.DataOrigin),e.push(this.UserDefinedDataOrigin),e.push(this.Unit),e.push(this.TimeStep),e.push(this.Values),e}},sP=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.TotalCrossSectionArea=t,this.SteelGrade=s,this.BarSurface=n,this.EffectiveDepth=r,this.NominalBarDiameter=o,this.BarCount=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new sP(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.TotalCrossSectionArea),e.push(this.SteelGrade),e.push(this.BarSurface),e.push(this.EffectiveDepth),e.push(this.NominalBarDiameter),e.push(this.BarCount),e}},nP=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.DefinitionType=o,this.ReinforcementSectionDefinitions=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new nP(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.DefinitionType),e.push(this.ReinforcementSectionDefinitions),e}},rP=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d,T,g){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.SteelGrade=c,this.NominalDiameter=u,this.CrossSectionArea=p,this.BarLength=d,this.PredefinedType=T,this.BarSurface=g}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++],I=t[s++],v=t[s++];return new rP(e,i,n,r,o,a,l,h,c,u,p,d,T,g,I,v)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.SteelGrade),e.push(this.NominalDiameter),e.push(this.CrossSectionArea),e.push(this.BarLength),e.push(this.PredefinedType),e.push(this.BarSurface),e}},oP=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d,T,g,I,v){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u,this.NominalDiameter=p,this.CrossSectionArea=d,this.BarLength=T,this.BarSurface=g,this.BendingShapeCode=I,this.BendingParameters=v}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++],I=t[s++],v=t[s++],C=t[s++],N=t[s++];return new oP(e,i,n,r,o,a,l,h,c,u,p,d,T,g,I,v,C,N)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e.push(this.NominalDiameter),e.push(this.CrossSectionArea),e.push(this.BarLength),e.push(this.BarSurface),e.push(this.BendingShapeCode),e.push(this.BendingParameters),e}},aP=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.SteelGrade=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new aP(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.SteelGrade),e}},lP=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new lP(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},hP=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d,T,g,I,v,C,N){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.SteelGrade=c,this.MeshLength=u,this.MeshWidth=p,this.LongitudinalBarNominalDiameter=d,this.TransverseBarNominalDiameter=T,this.LongitudinalBarCrossSectionArea=g,this.TransverseBarCrossSectionArea=I,this.LongitudinalBarSpacing=v,this.TransverseBarSpacing=C,this.PredefinedType=N}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++],I=t[s++],v=t[s++],C=t[s++],N=t[s++],F=t[s++],P=t[s++];return new hP(e,i,n,r,o,a,l,h,c,u,p,d,T,g,I,v,C,N,F,P)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.SteelGrade),e.push(this.MeshLength),e.push(this.MeshWidth),e.push(this.LongitudinalBarNominalDiameter),e.push(this.TransverseBarNominalDiameter),e.push(this.LongitudinalBarCrossSectionArea),e.push(this.TransverseBarCrossSectionArea),e.push(this.LongitudinalBarSpacing),e.push(this.TransverseBarSpacing),e.push(this.PredefinedType),e}},cP=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d,T,g,I,v,C,N,F,P){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u,this.MeshLength=p,this.MeshWidth=d,this.LongitudinalBarNominalDiameter=T,this.TransverseBarNominalDiameter=g,this.LongitudinalBarCrossSectionArea=I,this.TransverseBarCrossSectionArea=v,this.LongitudinalBarSpacing=C,this.TransverseBarSpacing=N,this.BendingShapeCode=F,this.BendingParameters=P}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++],I=t[s++],v=t[s++],C=t[s++],N=t[s++],F=t[s++],P=t[s++],w=t[s++],O=t[s++];return new cP(e,i,n,r,o,a,l,h,c,u,p,d,T,g,I,v,C,N,F,P,w,O)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e.push(this.MeshLength),e.push(this.MeshWidth),e.push(this.LongitudinalBarNominalDiameter),e.push(this.TransverseBarNominalDiameter),e.push(this.LongitudinalBarCrossSectionArea),e.push(this.TransverseBarCrossSectionArea),e.push(this.LongitudinalBarSpacing),e.push(this.TransverseBarSpacing),e.push(this.BendingShapeCode),e.push(this.BendingParameters),e}},uP=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatingObject=o,this.RelatedObjects=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new uP(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingObject),e.push(this.RelatedObjects),e}},pP=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedObjects=o,this.RelatedObjectsType=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new pP(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatedObjectsType),e}},dP=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedObjects=o,this.RelatedObjectsType=a,this.RelatingActor=l,this.ActingRole=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new dP(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatedObjectsType),e.push(this.RelatingActor),e.push(this.ActingRole),e}},mP=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedObjects=o,this.RelatedObjectsType=a,this.RelatingControl=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new mP(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatedObjectsType),e.push(this.RelatingControl),e}},yP=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedObjects=o,this.RelatedObjectsType=a,this.RelatingGroup=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new yP(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatedObjectsType),e.push(this.RelatingGroup),e}},fP=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedObjects=o,this.RelatedObjectsType=a,this.RelatingGroup=l,this.Factor=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new fP(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatedObjectsType),e.push(this.RelatingGroup),e.push(this.Factor),e}},TP=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedObjects=o,this.RelatedObjectsType=a,this.RelatingProcess=l,this.QuantityInProcess=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new TP(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatedObjectsType),e.push(this.RelatingProcess),e.push(this.QuantityInProcess),e}},gP=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedObjects=o,this.RelatedObjectsType=a,this.RelatingProduct=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new gP(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatedObjectsType),e.push(this.RelatingProduct),e}},bP=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedObjects=o,this.RelatedObjectsType=a,this.RelatingResource=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new bP(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatedObjectsType),e.push(this.RelatingResource),e}},IP=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedObjects=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new IP(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e}},LP=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedObjects=o,this.RelatingApproval=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new LP(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatingApproval),e}},SP=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedObjects=o,this.RelatingClassification=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new SP(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatingClassification),e}},MP=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedObjects=o,this.Intent=a,this.RelatingConstraint=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new MP(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.Intent),e.push(this.RelatingConstraint),e}},xP=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedObjects=o,this.RelatingDocument=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new xP(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatingDocument),e}},vP=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedObjects=o,this.RelatingLibrary=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new vP(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatingLibrary),e}},GP=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedObjects=o,this.RelatingMaterial=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new GP(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatingMaterial),e}},EP=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new EP(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e}},CP=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ConnectionGeometry=o,this.RelatingElement=a,this.RelatedElement=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new CP(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ConnectionGeometry),e.push(this.RelatingElement),e.push(this.RelatedElement),e}},RP=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ConnectionGeometry=o,this.RelatingElement=a,this.RelatedElement=l,this.RelatingPriorities=h,this.RelatedPriorities=c,this.RelatedConnectionType=u,this.RelatingConnectionType=p}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++];return new RP(e,i,n,r,o,a,l,h,c,u,p,d,T)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ConnectionGeometry),e.push(this.RelatingElement),e.push(this.RelatedElement),e.push(this.RelatingPriorities),e.push(this.RelatedPriorities),e.push(this.RelatedConnectionType),e.push(this.RelatingConnectionType),e}},NP=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatingPort=o,this.RelatedElement=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new NP(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingPort),e.push(this.RelatedElement),e}},FP=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatingPort=o,this.RelatedPort=a,this.RealizingElement=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new FP(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingPort),e.push(this.RelatedPort),e.push(this.RealizingElement),e}},PP=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatingElement=o,this.RelatedStructuralActivity=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new PP(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingElement),e.push(this.RelatedStructuralActivity),e}},wP=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatingStructuralMember=o,this.RelatedStructuralConnection=a,this.AppliedCondition=l,this.AdditionalConditions=h,this.SupportedLength=c,this.ConditionCoordinateSystem=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new wP(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingStructuralMember),e.push(this.RelatedStructuralConnection),e.push(this.AppliedCondition),e.push(this.AdditionalConditions),e.push(this.SupportedLength),e.push(this.ConditionCoordinateSystem),e}},XP=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatingStructuralMember=o,this.RelatedStructuralConnection=a,this.AppliedCondition=l,this.AdditionalConditions=h,this.SupportedLength=c,this.ConditionCoordinateSystem=u,this.ConnectionConstraint=p}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++];return new XP(e,i,n,r,o,a,l,h,c,u,p,d,T)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingStructuralMember),e.push(this.RelatedStructuralConnection),e.push(this.AppliedCondition),e.push(this.AdditionalConditions),e.push(this.SupportedLength),e.push(this.ConditionCoordinateSystem),e.push(this.ConnectionConstraint),e}},DP=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ConnectionGeometry=o,this.RelatingElement=a,this.RelatedElement=l,this.RealizingElements=h,this.ConnectionType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new DP(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ConnectionGeometry),e.push(this.RelatingElement),e.push(this.RelatedElement),e.push(this.RealizingElements),e.push(this.ConnectionType),e}},OP=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedElements=o,this.RelatingStructure=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new OP(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedElements),e.push(this.RelatingStructure),e}},zP=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatingBuildingElement=o,this.RelatedCoverings=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new zP(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingBuildingElement),e.push(this.RelatedCoverings),e}},WP=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatingSpace=o,this.RelatedCoverings=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new WP(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingSpace),e.push(this.RelatedCoverings),e}},YP=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatingContext=o,this.RelatedDefinitions=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new YP(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingContext),e.push(this.RelatedDefinitions),e}},kP=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new kP(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e}},AP=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new AP(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e}},KP=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedObjects=o,this.RelatingObject=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new KP(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatingObject),e}},ZP=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedObjects=o,this.RelatingPropertyDefinition=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new ZP(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatingPropertyDefinition),e}},HP=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedPropertySets=o,this.RelatingTemplate=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new HP(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedPropertySets),e.push(this.RelatingTemplate),e}},UP=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedObjects=o,this.RelatingType=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new UP(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedObjects),e.push(this.RelatingType),e}},_P=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatingOpeningElement=o,this.RelatedBuildingElement=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new _P(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingOpeningElement),e.push(this.RelatedBuildingElement),e}},VP=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedControlElements=o,this.RelatingFlowElement=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new VP(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedControlElements),e.push(this.RelatingFlowElement),e}},jP=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatingElement=o,this.RelatedElement=a,this.InterferenceGeometry=l,this.InterferenceType=h,this.ImpliedOrder=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new jP(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingElement),e.push(this.RelatedElement),e.push(this.InterferenceGeometry),e.push(this.InterferenceType),e.push(this.ImpliedOrder),e}},BP=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatingObject=o,this.RelatedObjects=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new BP(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingObject),e.push(this.RelatedObjects),e}},JP=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatingPositioningElement=o,this.RelatedProducts=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new JP(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingPositioningElement),e.push(this.RelatedProducts),e}},QP=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatingElement=o,this.RelatedFeatureElement=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new QP(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingElement),e.push(this.RelatedFeatureElement),e}},qP=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatedElements=o,this.RelatingStructure=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new qP(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatedElements),e.push(this.RelatingStructure),e}},$P=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatingProcess=o,this.RelatedProcess=a,this.TimeLag=l,this.SequenceType=h,this.UserDefinedSequenceType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new $P(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingProcess),e.push(this.RelatedProcess),e.push(this.TimeLag),e.push(this.SequenceType),e.push(this.UserDefinedSequenceType),e}},ew=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatingSystem=o,this.RelatedBuildings=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new ew(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingSystem),e.push(this.RelatedBuildings),e}},tw=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatingSpace=o,this.RelatedBuildingElement=a,this.ConnectionGeometry=l,this.PhysicalOrVirtualBoundary=h,this.InternalOrExternalBoundary=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new tw(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingSpace),e.push(this.RelatedBuildingElement),e.push(this.ConnectionGeometry),e.push(this.PhysicalOrVirtualBoundary),e.push(this.InternalOrExternalBoundary),e}},iw=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatingSpace=o,this.RelatedBuildingElement=a,this.ConnectionGeometry=l,this.PhysicalOrVirtualBoundary=h,this.InternalOrExternalBoundary=c,this.ParentBoundary=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new iw(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingSpace),e.push(this.RelatedBuildingElement),e.push(this.ConnectionGeometry),e.push(this.PhysicalOrVirtualBoundary),e.push(this.InternalOrExternalBoundary),e.push(this.ParentBoundary),e}},sw=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatingSpace=o,this.RelatedBuildingElement=a,this.ConnectionGeometry=l,this.PhysicalOrVirtualBoundary=h,this.InternalOrExternalBoundary=c,this.ParentBoundary=u,this.CorrespondingBoundary=p}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++];return new sw(e,i,n,r,o,a,l,h,c,u,p,d,T)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingSpace),e.push(this.RelatedBuildingElement),e.push(this.ConnectionGeometry),e.push(this.PhysicalOrVirtualBoundary),e.push(this.InternalOrExternalBoundary),e.push(this.ParentBoundary),e.push(this.CorrespondingBoundary),e}},nw=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.RelatingBuildingElement=o,this.RelatedOpeningElement=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new nw(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.RelatingBuildingElement),e.push(this.RelatedOpeningElement),e}},rw=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new rw(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e}},ow=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Transition=t,this.SameSense=s,this.ParentCurve=n,this.ParamLength=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new ow(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.Transition),e.push(this.SameSense),e.push(this.ParentCurve),e.push(this.ParamLength),e}},aw=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.ContextOfItems=t,this.RepresentationIdentifier=s,this.RepresentationType=n,this.Items=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new aw(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.ContextOfItems),e.push(this.RepresentationIdentifier),e.push(this.RepresentationType),e.push(this.Items),e}},lw=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.ContextIdentifier=t,this.ContextType=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new lw(e,i,n,r)}ToTape(){let e=[];return e.push(this.ContextIdentifier),e.push(this.ContextType),e}},hw=class{constructor(e,i){this.expressID=e,this.type=i}static FromTape(e,i,t){return new hw(e,i)}ToTape(){return[]}},cw=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.MappingOrigin=t,this.MappedRepresentation=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new cw(e,i,n,r)}ToTape(){let e=[];return e.push(this.MappingOrigin),e.push(this.MappedRepresentation),e}},uw=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.Identification=a,this.LongDescription=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new uw(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.LongDescription),e}},pw=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.RelatedResourceObjects=n,this.RelatingApproval=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new pw(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.RelatedResourceObjects),e.push(this.RelatingApproval),e}},dw=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.RelatingConstraint=n,this.RelatedResourceObjects=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new dw(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.RelatingConstraint),e.push(this.RelatedResourceObjects),e}},mw=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Name=t,this.Description=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new mw(e,i,n,r)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e}},yw=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d,T,g,I,v,C,N){this.expressID=e,this.type=i,this.Name=t,this.DataOrigin=s,this.UserDefinedDataOrigin=n,this.ScheduleWork=r,this.ScheduleUsage=o,this.ScheduleStart=a,this.ScheduleFinish=l,this.ScheduleContour=h,this.LevelingDelay=c,this.IsOverAllocated=u,this.StatusTime=p,this.ActualWork=d,this.ActualUsage=T,this.ActualStart=g,this.ActualFinish=I,this.RemainingWork=v,this.RemainingUsage=C,this.Completion=N}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++],I=t[s++],v=t[s++],C=t[s++],N=t[s++],F=t[s++],P=t[s++];return new yw(e,i,n,r,o,a,l,h,c,u,p,d,T,g,I,v,C,N,F,P)}ToTape(){let e=[];return e.push(this.Name),e.push(this.DataOrigin),e.push(this.UserDefinedDataOrigin),e.push(this.ScheduleWork),e.push(this.ScheduleUsage),e.push(this.ScheduleStart),e.push(this.ScheduleFinish),e.push(this.ScheduleContour),e.push(this.LevelingDelay),e.push(this.IsOverAllocated),e.push(this.StatusTime),e.push(this.ActualWork),e.push(this.ActualUsage),e.push(this.ActualStart),e.push(this.ActualFinish),e.push(this.RemainingWork),e.push(this.RemainingUsage),e.push(this.Completion),e}},fw=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.SweptArea=t,this.Position=s,this.Axis=n,this.Angle=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new fw(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.SweptArea),e.push(this.Position),e.push(this.Axis),e.push(this.Angle),e}},Tw=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.SweptArea=t,this.Position=s,this.Axis=n,this.Angle=r,this.EndSweptArea=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new Tw(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.SweptArea),e.push(this.Position),e.push(this.Axis),e.push(this.Angle),e.push(this.EndSweptArea),e}},gw=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Position=t,this.Height=s,this.BottomRadius=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new gw(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.Position),e.push(this.Height),e.push(this.BottomRadius),e}},bw=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Position=t,this.Height=s,this.Radius=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new bw(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.Position),e.push(this.Height),e.push(this.Radius),e}},Iw=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new Iw(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},Lw=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new Lw(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},Sw=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new Sw(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e}},Mw=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.Position=n,this.XDim=r,this.YDim=o,this.RoundingRadius=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new Mw(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.XDim),e.push(this.YDim),e.push(this.RoundingRadius),e}},xw=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Dimensions=t,this.UnitType=s,this.Prefix=n,this.Name=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new xw(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.Dimensions),e.push(this.UnitType),e.push(this.Prefix),e.push(this.Name),e}},vw=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new vw(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},Gw=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new Gw(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},Ew=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Name=t,this.DataOrigin=s,this.UserDefinedDataOrigin=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new Ew(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.Name),e.push(this.DataOrigin),e.push(this.UserDefinedDataOrigin),e}},Cw=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Curve3D=t,this.AssociatedGeometry=s,this.MasterRepresentation=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new Cw(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.Curve3D),e.push(this.AssociatedGeometry),e.push(this.MasterRepresentation),e}},Rw=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.SectionType=t,this.StartProfile=s,this.EndProfile=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new Rw(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.SectionType),e.push(this.StartProfile),e.push(this.EndProfile),e}},Nw=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.LongitudinalStartPosition=t,this.LongitudinalEndPosition=s,this.TransversePosition=n,this.ReinforcementRole=r,this.SectionDefinition=o,this.CrossSectionReinforcementDefinitions=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new Nw(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.LongitudinalStartPosition),e.push(this.LongitudinalEndPosition),e.push(this.TransversePosition),e.push(this.ReinforcementRole),e.push(this.SectionDefinition),e.push(this.CrossSectionReinforcementDefinitions),e}},Fw=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Directrix=t,this.CrossSections=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new Fw(e,i,n,r)}ToTape(){let e=[];return e.push(this.Directrix),e.push(this.CrossSections),e}},Pw=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Directrix=t,this.CrossSections=s,this.CrossSectionPositions=n,this.FixedAxisVertical=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new Pw(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.Directrix),e.push(this.CrossSections),e.push(this.CrossSectionPositions),e.push(this.FixedAxisVertical),e}},ww=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.SpineCurve=t,this.CrossSections=s,this.CrossSectionPositions=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new ww(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.SpineCurve),e.push(this.CrossSections),e.push(this.CrossSectionPositions),e}},Xw=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new Xw(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},Dw=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new Dw(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},Ow=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new Ow(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},zw=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new zw(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},Ww=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.ShapeRepresentations=t,this.Name=s,this.Description=n,this.ProductDefinitional=r,this.PartOfProductDefinitionShape=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new Ww(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.ShapeRepresentations),e.push(this.Name),e.push(this.Description),e.push(this.ProductDefinitional),e.push(this.PartOfProductDefinitionShape),e}},Yw=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.ContextOfItems=t,this.RepresentationIdentifier=s,this.RepresentationType=n,this.Items=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new Yw(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.ContextOfItems),e.push(this.RepresentationIdentifier),e.push(this.RepresentationType),e.push(this.Items),e}},kw=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.ContextOfItems=t,this.RepresentationIdentifier=s,this.RepresentationType=n,this.Items=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new kw(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.ContextOfItems),e.push(this.RepresentationIdentifier),e.push(this.RepresentationType),e.push(this.Items),e}},Aw=class{constructor(e,i,t){this.expressID=e,this.type=i,this.SbsmBoundary=t}static FromTape(e,i,t){let s=0,n=t[s++];return new Aw(e,i,n)}ToTape(){let e=[];return e.push(this.SbsmBoundary),e}},Kw=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Name=t,this.Description=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new Kw(e,i,n,r)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e}},Zw=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.TemplateType=o,this.PrimaryMeasureType=a,this.SecondaryMeasureType=l,this.Enumerators=h,this.PrimaryUnit=c,this.SecondaryUnit=u,this.Expression=p,this.AccessState=d}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++];return new Zw(e,i,n,r,o,a,l,h,c,u,p,d,T,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.TemplateType),e.push(this.PrimaryMeasureType),e.push(this.SecondaryMeasureType),e.push(this.Enumerators),e.push(this.PrimaryUnit),e.push(this.SecondaryUnit),e.push(this.Expression),e.push(this.AccessState),e}},Hw=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d,T,g){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.LongName=h,this.CompositionType=c,this.RefLatitude=u,this.RefLongitude=p,this.RefElevation=d,this.LandTitleNumber=T,this.SiteAddress=g}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++],I=t[s++],v=t[s++];return new Hw(e,i,n,r,o,a,l,h,c,u,p,d,T,g,I,v)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.LongName),e.push(this.CompositionType),e.push(this.RefLatitude),e.push(this.RefLongitude),e.push(this.RefElevation),e.push(this.LandTitleNumber),e.push(this.SiteAddress),e}},Uw=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new Uw(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},_w=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new _w(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},Vw=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new Vw(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},jw=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new jw(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},Bw=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.SlippageX=s,this.SlippageY=n,this.SlippageZ=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new Bw(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.SlippageX),e.push(this.SlippageY),e.push(this.SlippageZ),e}},Jw=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new Jw(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},Qw=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new Qw(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},qw=class{constructor(e,i){this.expressID=e,this.type=i}static FromTape(e,i,t){return new qw(e,i)}ToTape(){return[]}},$w=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.LongName=h,this.CompositionType=c,this.PredefinedType=u,this.ElevationWithFlooring=p}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++];return new $w(e,i,n,r,o,a,l,h,c,u,p,d,T)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.LongName),e.push(this.CompositionType),e.push(this.PredefinedType),e.push(this.ElevationWithFlooring),e}},eX=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new eX(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},tX=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new tX(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},iX=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u,this.LongName=p}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++];return new iX(e,i,n,r,o,a,l,h,c,u,p,d,T)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e.push(this.LongName),e}},sX=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.LongName=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new sX(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.LongName),e}},nX=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new nX(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},rX=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.LongName=h,this.CompositionType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new rX(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.LongName),e.push(this.CompositionType),e}},oX=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new oX(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e}},aX=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.LongName=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new aX(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.LongName),e.push(this.PredefinedType),e}},lX=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u,this.LongName=p}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++];return new lX(e,i,n,r,o,a,l,h,c,u,p,d,T)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e.push(this.LongName),e}},hX=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Position=t,this.Radius=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new hX(e,i,n,r)}ToTape(){let e=[];return e.push(this.Position),e.push(this.Radius),e}},cX=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Position=t,this.Radius=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new cX(e,i,n,r)}ToTape(){let e=[];return e.push(this.Position),e.push(this.Radius),e}},uX=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new uX(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},pX=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new pX(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},dX=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new dX(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},mX=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d,T){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.NumberOfRisers=c,this.NumberOfTreads=u,this.RiserHeight=p,this.TreadLength=d,this.PredefinedType=T}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++],I=t[s++];return new mX(e,i,n,r,o,a,l,h,c,u,p,d,T,g,I)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.NumberOfRisers),e.push(this.NumberOfTreads),e.push(this.RiserHeight),e.push(this.TreadLength),e.push(this.PredefinedType),e}},yX=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new yX(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},fX=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new fX(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},TX=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.AppliedLoad=h,this.GlobalOrLocal=c,this.DestabilizingLoad=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new TX(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedLoad),e.push(this.GlobalOrLocal),e.push(this.DestabilizingLoad),e}},gX=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.AppliedLoad=h,this.GlobalOrLocal=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new gX(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedLoad),e.push(this.GlobalOrLocal),e}},bX=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.PredefinedType=a,this.OrientationOf2DPlane=l,this.LoadedBy=h,this.HasResults=c,this.SharedPlacement=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new bX(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.PredefinedType),e.push(this.OrientationOf2DPlane),e.push(this.LoadedBy),e.push(this.HasResults),e.push(this.SharedPlacement),e}},IX=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.AppliedCondition=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new IX(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedCondition),e}},LX=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Name=t}static FromTape(e,i,t){let s=0,n=t[s++];return new LX(e,i,n)}ToTape(){let e=[];return e.push(this.Name),e}},SX=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.AppliedLoad=h,this.GlobalOrLocal=c,this.DestabilizingLoad=u,this.ProjectedOrTrue=p,this.PredefinedType=d}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++];return new SX(e,i,n,r,o,a,l,h,c,u,p,d,T,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedLoad),e.push(this.GlobalOrLocal),e.push(this.DestabilizingLoad),e.push(this.ProjectedOrTrue),e.push(this.PredefinedType),e}},MX=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.AppliedCondition=h,this.Axis=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new MX(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedCondition),e.push(this.Axis),e}},xX=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.PredefinedType=h,this.Axis=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new xX(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.PredefinedType),e.push(this.Axis),e}},vX=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.PredefinedType=h,this.Axis=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new vX(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.PredefinedType),e.push(this.Axis),e}},GX=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.AppliedLoad=h,this.GlobalOrLocal=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new GX(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedLoad),e.push(this.GlobalOrLocal),e.push(this.PredefinedType),e}},EX=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new EX(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e}},CX=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.AppliedLoad=h,this.GlobalOrLocal=c,this.DestabilizingLoad=u,this.ProjectedOrTrue=p,this.PredefinedType=d}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++];return new CX(e,i,n,r,o,a,l,h,c,u,p,d,T,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedLoad),e.push(this.GlobalOrLocal),e.push(this.DestabilizingLoad),e.push(this.ProjectedOrTrue),e.push(this.PredefinedType),e}},RX=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Name=t}static FromTape(e,i,t){let s=0,n=t[s++];return new RX(e,i,n)}ToTape(){let e=[];return e.push(this.Name),e}},NX=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.PredefinedType=a,this.ActionType=l,this.ActionSource=h,this.Coefficient=c,this.Purpose=u,this.SelfWeightCoefficients=p}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++];return new NX(e,i,n,r,o,a,l,h,c,u,p,d,T)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.PredefinedType),e.push(this.ActionType),e.push(this.ActionSource),e.push(this.Coefficient),e.push(this.Purpose),e.push(this.SelfWeightCoefficients),e}},FX=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Name=t,this.Values=s,this.Locations=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new FX(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Values),e.push(this.Locations),e}},PX=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.PredefinedType=a,this.ActionType=l,this.ActionSource=h,this.Coefficient=c,this.Purpose=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new PX(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.PredefinedType),e.push(this.ActionType),e.push(this.ActionSource),e.push(this.Coefficient),e.push(this.Purpose),e}},wX=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.Name=t,this.LinearForceX=s,this.LinearForceY=n,this.LinearForceZ=r,this.LinearMomentX=o,this.LinearMomentY=a,this.LinearMomentZ=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new wX(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.Name),e.push(this.LinearForceX),e.push(this.LinearForceY),e.push(this.LinearForceZ),e.push(this.LinearMomentX),e.push(this.LinearMomentY),e.push(this.LinearMomentZ),e}},XX=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Name=t}static FromTape(e,i,t){let s=0,n=t[s++];return new XX(e,i,n)}ToTape(){let e=[];return e.push(this.Name),e}},DX=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.PlanarForceX=s,this.PlanarForceY=n,this.PlanarForceZ=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new DX(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.PlanarForceX),e.push(this.PlanarForceY),e.push(this.PlanarForceZ),e}},OX=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.Name=t,this.DisplacementX=s,this.DisplacementY=n,this.DisplacementZ=r,this.RotationalDisplacementRX=o,this.RotationalDisplacementRY=a,this.RotationalDisplacementRZ=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new OX(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.Name),e.push(this.DisplacementX),e.push(this.DisplacementY),e.push(this.DisplacementZ),e.push(this.RotationalDisplacementRX),e.push(this.RotationalDisplacementRY),e.push(this.RotationalDisplacementRZ),e}},zX=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.Name=t,this.DisplacementX=s,this.DisplacementY=n,this.DisplacementZ=r,this.RotationalDisplacementRX=o,this.RotationalDisplacementRY=a,this.RotationalDisplacementRZ=l,this.Distortion=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new zX(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.Name),e.push(this.DisplacementX),e.push(this.DisplacementY),e.push(this.DisplacementZ),e.push(this.RotationalDisplacementRX),e.push(this.RotationalDisplacementRY),e.push(this.RotationalDisplacementRZ),e.push(this.Distortion),e}},WX=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.Name=t,this.ForceX=s,this.ForceY=n,this.ForceZ=r,this.MomentX=o,this.MomentY=a,this.MomentZ=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new WX(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.Name),e.push(this.ForceX),e.push(this.ForceY),e.push(this.ForceZ),e.push(this.MomentX),e.push(this.MomentY),e.push(this.MomentZ),e}},YX=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.Name=t,this.ForceX=s,this.ForceY=n,this.ForceZ=r,this.MomentX=o,this.MomentY=a,this.MomentZ=l,this.WarpingMoment=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new YX(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.Name),e.push(this.ForceX),e.push(this.ForceY),e.push(this.ForceZ),e.push(this.MomentX),e.push(this.MomentY),e.push(this.MomentZ),e.push(this.WarpingMoment),e}},kX=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Name=t}static FromTape(e,i,t){let s=0,n=t[s++];return new kX(e,i,n)}ToTape(){let e=[];return e.push(this.Name),e}},AX=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.DeltaTConstant=s,this.DeltaTY=n,this.DeltaTZ=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new AX(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.DeltaTConstant),e.push(this.DeltaTY),e.push(this.DeltaTZ),e}},KX=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new KX(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e}},ZX=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.AppliedLoad=h,this.GlobalOrLocal=c,this.DestabilizingLoad=u,this.ProjectedOrTrue=p,this.PredefinedType=d}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++];return new ZX(e,i,n,r,o,a,l,h,c,u,p,d,T,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedLoad),e.push(this.GlobalOrLocal),e.push(this.DestabilizingLoad),e.push(this.ProjectedOrTrue),e.push(this.PredefinedType),e}},HX=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.AppliedLoad=h,this.GlobalOrLocal=c,this.DestabilizingLoad=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new HX(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedLoad),e.push(this.GlobalOrLocal),e.push(this.DestabilizingLoad),e}},UX=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.AppliedCondition=h,this.ConditionCoordinateSystem=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new UX(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedCondition),e.push(this.ConditionCoordinateSystem),e}},_X=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.AppliedLoad=h,this.GlobalOrLocal=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new _X(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedLoad),e.push(this.GlobalOrLocal),e}},VX=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.AppliedLoad=h,this.GlobalOrLocal=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new VX(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedLoad),e.push(this.GlobalOrLocal),e}},jX=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.TheoryType=a,this.ResultForLoadGroup=l,this.IsLinear=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new jX(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.TheoryType),e.push(this.ResultForLoadGroup),e.push(this.IsLinear),e}},BX=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.AppliedLoad=h,this.GlobalOrLocal=c,this.DestabilizingLoad=u,this.ProjectedOrTrue=p,this.PredefinedType=d}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++];return new BX(e,i,n,r,o,a,l,h,c,u,p,d,T,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedLoad),e.push(this.GlobalOrLocal),e.push(this.DestabilizingLoad),e.push(this.ProjectedOrTrue),e.push(this.PredefinedType),e}},JX=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.AppliedCondition=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new JX(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedCondition),e}},QX=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.PredefinedType=h,this.Thickness=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new QX(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.PredefinedType),e.push(this.Thickness),e}},qX=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.PredefinedType=h,this.Thickness=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new qX(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.PredefinedType),e.push(this.Thickness),e}},$X=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.AppliedLoad=h,this.GlobalOrLocal=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new $X(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.AppliedLoad),e.push(this.GlobalOrLocal),e.push(this.PredefinedType),e}},eD=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.ContextOfItems=t,this.RepresentationIdentifier=s,this.RepresentationType=n,this.Items=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new eD(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.ContextOfItems),e.push(this.RepresentationIdentifier),e.push(this.RepresentationType),e.push(this.Items),e}},tD=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Item=t,this.Styles=s,this.Name=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new tD(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.Item),e.push(this.Styles),e.push(this.Name),e}},iD=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.ContextOfItems=t,this.RepresentationIdentifier=s,this.RepresentationType=n,this.Items=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new iD(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.ContextOfItems),e.push(this.RepresentationIdentifier),e.push(this.RepresentationType),e.push(this.Items),e}},sD=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.Identification=a,this.LongDescription=l,this.Usage=h,this.BaseCosts=c,this.BaseQuantity=u,this.PredefinedType=p}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++];return new sD(e,i,n,r,o,a,l,h,c,u,p,d,T)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.LongDescription),e.push(this.Usage),e.push(this.BaseCosts),e.push(this.BaseQuantity),e.push(this.PredefinedType),e}},nD=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.Identification=l,this.LongDescription=h,this.ResourceType=c,this.BaseCosts=u,this.BaseQuantity=p,this.PredefinedType=d}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++];return new nD(e,i,n,r,o,a,l,h,c,u,p,d,T,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.Identification),e.push(this.LongDescription),e.push(this.ResourceType),e.push(this.BaseCosts),e.push(this.BaseQuantity),e.push(this.PredefinedType),e}},rD=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.EdgeStart=t,this.EdgeEnd=s,this.ParentEdge=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new rD(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.EdgeStart),e.push(this.EdgeEnd),e.push(this.ParentEdge),e}},oD=class{constructor(e,i){this.expressID=e,this.type=i}static FromTape(e,i,t){return new oD(e,i)}ToTape(){return[]}},aD=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Curve3D=t,this.AssociatedGeometry=s,this.MasterRepresentation=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new aD(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.Curve3D),e.push(this.AssociatedGeometry),e.push(this.MasterRepresentation),e}},lD=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.SweptArea=t,this.Position=s,this.Directrix=n,this.StartParam=r,this.EndParam=o,this.ReferenceSurface=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new lD(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.SweptArea),e.push(this.Position),e.push(this.Directrix),e.push(this.StartParam),e.push(this.EndParam),e.push(this.ReferenceSurface),e}},hD=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new hD(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},cD=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.SweptCurve=t,this.Position=s,this.ExtrudedDirection=n,this.Depth=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new cD(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.SweptCurve),e.push(this.Position),e.push(this.ExtrudedDirection),e.push(this.Depth),e}},uD=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.SweptCurve=t,this.Position=s,this.AxisPosition=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new uD(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.SweptCurve),e.push(this.Position),e.push(this.AxisPosition),e}},pD=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.Name=t,this.SurfaceReinforcement1=s,this.SurfaceReinforcement2=n,this.ShearReinforcement=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new pD(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.Name),e.push(this.SurfaceReinforcement1),e.push(this.SurfaceReinforcement2),e.push(this.ShearReinforcement),e}},dD=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Name=t,this.Side=s,this.Styles=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new dD(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Side),e.push(this.Styles),e}},mD=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.DiffuseTransmissionColour=t,this.DiffuseReflectionColour=s,this.TransmissionColour=n,this.ReflectanceColour=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new mD(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.DiffuseTransmissionColour),e.push(this.DiffuseReflectionColour),e.push(this.TransmissionColour),e.push(this.ReflectanceColour),e}},yD=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.RefractionIndex=t,this.DispersionFactor=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new yD(e,i,n,r)}ToTape(){let e=[];return e.push(this.RefractionIndex),e.push(this.DispersionFactor),e}},fD=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.SurfaceColour=t,this.Transparency=s,this.DiffuseColour=n,this.TransmissionColour=r,this.DiffuseTransmissionColour=o,this.ReflectionColour=a,this.SpecularColour=l,this.SpecularHighlight=h,this.ReflectanceMethod=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new fD(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.SurfaceColour),e.push(this.Transparency),e.push(this.DiffuseColour),e.push(this.TransmissionColour),e.push(this.DiffuseTransmissionColour),e.push(this.ReflectionColour),e.push(this.SpecularColour),e.push(this.SpecularHighlight),e.push(this.ReflectanceMethod),e}},TD=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.SurfaceColour=t,this.Transparency=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new TD(e,i,n,r)}ToTape(){let e=[];return e.push(this.SurfaceColour),e.push(this.Transparency),e}},gD=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Textures=t}static FromTape(e,i,t){let s=0,n=t[s++];return new gD(e,i,n)}ToTape(){let e=[];return e.push(this.Textures),e}},bD=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.RepeatS=t,this.RepeatT=s,this.Mode=n,this.TextureTransform=r,this.Parameter=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new bD(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.RepeatS),e.push(this.RepeatT),e.push(this.Mode),e.push(this.TextureTransform),e.push(this.Parameter),e}},ID=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.SweptArea=t,this.Position=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new ID(e,i,n,r)}ToTape(){let e=[];return e.push(this.SweptArea),e.push(this.Position),e}},LD=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.Directrix=t,this.Radius=s,this.InnerRadius=n,this.StartParam=r,this.EndParam=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new LD(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.Directrix),e.push(this.Radius),e.push(this.InnerRadius),e.push(this.StartParam),e.push(this.EndParam),e}},SD=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.Directrix=t,this.Radius=s,this.InnerRadius=n,this.StartParam=r,this.EndParam=o,this.FilletRadius=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new SD(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.Directrix),e.push(this.Radius),e.push(this.InnerRadius),e.push(this.StartParam),e.push(this.EndParam),e.push(this.FilletRadius),e}},MD=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.SweptCurve=t,this.Position=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new MD(e,i,n,r)}ToTape(){let e=[];return e.push(this.SweptCurve),e.push(this.Position),e}},xD=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new xD(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},vD=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new vD(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},GD=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new GD(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e}},ED=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new ED(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},CD=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new CD(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},RD=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.Position=n,this.Depth=r,this.FlangeWidth=o,this.WebThickness=a,this.FlangeThickness=l,this.FilletRadius=h,this.FlangeEdgeRadius=c,this.WebEdgeRadius=u,this.WebSlope=p,this.FlangeSlope=d}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++];return new RD(e,i,n,r,o,a,l,h,c,u,p,d,T,g)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.Depth),e.push(this.FlangeWidth),e.push(this.WebThickness),e.push(this.FlangeThickness),e.push(this.FilletRadius),e.push(this.FlangeEdgeRadius),e.push(this.WebEdgeRadius),e.push(this.WebSlope),e.push(this.FlangeSlope),e}},ND=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Name=t,this.Rows=s,this.Columns=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new ND(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Rows),e.push(this.Columns),e}},FD=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.Identifier=t,this.Name=s,this.Description=n,this.Unit=r,this.ReferencePath=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new FD(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.Identifier),e.push(this.Name),e.push(this.Description),e.push(this.Unit),e.push(this.ReferencePath),e}},PD=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.RowCells=t,this.IsHeading=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new PD(e,i,n,r)}ToTape(){let e=[];return e.push(this.RowCells),e.push(this.IsHeading),e}},wD=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new wD(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},XD=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new XD(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},DD=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d,T){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.Identification=a,this.LongDescription=l,this.Status=h,this.WorkMethod=c,this.IsMilestone=u,this.Priority=p,this.TaskTime=d,this.PredefinedType=T}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++],I=t[s++];return new DD(e,i,n,r,o,a,l,h,c,u,p,d,T,g,I)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.LongDescription),e.push(this.Status),e.push(this.WorkMethod),e.push(this.IsMilestone),e.push(this.Priority),e.push(this.TaskTime),e.push(this.PredefinedType),e}},OD=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d,T,g,I,v,C,N,F,P){this.expressID=e,this.type=i,this.Name=t,this.DataOrigin=s,this.UserDefinedDataOrigin=n,this.DurationType=r,this.ScheduleDuration=o,this.ScheduleStart=a,this.ScheduleFinish=l,this.EarlyStart=h,this.EarlyFinish=c,this.LateStart=u,this.LateFinish=p,this.FreeFloat=d,this.TotalFloat=T,this.IsCritical=g,this.StatusTime=I,this.ActualDuration=v,this.ActualStart=C,this.ActualFinish=N,this.RemainingTime=F,this.Completion=P}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++],I=t[s++],v=t[s++],C=t[s++],N=t[s++],F=t[s++],P=t[s++],w=t[s++],O=t[s++];return new OD(e,i,n,r,o,a,l,h,c,u,p,d,T,g,I,v,C,N,F,P,w,O)}ToTape(){let e=[];return e.push(this.Name),e.push(this.DataOrigin),e.push(this.UserDefinedDataOrigin),e.push(this.DurationType),e.push(this.ScheduleDuration),e.push(this.ScheduleStart),e.push(this.ScheduleFinish),e.push(this.EarlyStart),e.push(this.EarlyFinish),e.push(this.LateStart),e.push(this.LateFinish),e.push(this.FreeFloat),e.push(this.TotalFloat),e.push(this.IsCritical),e.push(this.StatusTime),e.push(this.ActualDuration),e.push(this.ActualStart),e.push(this.ActualFinish),e.push(this.RemainingTime),e.push(this.Completion),e}},zD=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d,T,g,I,v,C,N,F,P,w){this.expressID=e,this.type=i,this.Name=t,this.DataOrigin=s,this.UserDefinedDataOrigin=n,this.DurationType=r,this.ScheduleDuration=o,this.ScheduleStart=a,this.ScheduleFinish=l,this.EarlyStart=h,this.EarlyFinish=c,this.LateStart=u,this.LateFinish=p,this.FreeFloat=d,this.TotalFloat=T,this.IsCritical=g,this.StatusTime=I,this.ActualDuration=v,this.ActualStart=C,this.ActualFinish=N,this.RemainingTime=F,this.Completion=P,this.Recurrence=w}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++],I=t[s++],v=t[s++],C=t[s++],N=t[s++],F=t[s++],P=t[s++],w=t[s++],O=t[s++],X=t[s++];return new zD(e,i,n,r,o,a,l,h,c,u,p,d,T,g,I,v,C,N,F,P,w,O,X)}ToTape(){let e=[];return e.push(this.Name),e.push(this.DataOrigin),e.push(this.UserDefinedDataOrigin),e.push(this.DurationType),e.push(this.ScheduleDuration),e.push(this.ScheduleStart),e.push(this.ScheduleFinish),e.push(this.EarlyStart),e.push(this.EarlyFinish),e.push(this.LateStart),e.push(this.LateFinish),e.push(this.FreeFloat),e.push(this.TotalFloat),e.push(this.IsCritical),e.push(this.StatusTime),e.push(this.ActualDuration),e.push(this.ActualStart),e.push(this.ActualFinish),e.push(this.RemainingTime),e.push(this.Completion),e.push(this.Recurrence),e}},WD=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.Identification=l,this.LongDescription=h,this.ProcessType=c,this.PredefinedType=u,this.WorkMethod=p}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++];return new WD(e,i,n,r,o,a,l,h,c,u,p,d,T)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.Identification),e.push(this.LongDescription),e.push(this.ProcessType),e.push(this.PredefinedType),e.push(this.WorkMethod),e}},YD=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.Purpose=t,this.Description=s,this.UserDefinedPurpose=n,this.TelephoneNumbers=r,this.FacsimileNumbers=o,this.PagerNumber=a,this.ElectronicMailAddresses=l,this.WWWHomePageURL=h,this.MessagingIDs=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new YD(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.Purpose),e.push(this.Description),e.push(this.UserDefinedPurpose),e.push(this.TelephoneNumbers),e.push(this.FacsimileNumbers),e.push(this.PagerNumber),e.push(this.ElectronicMailAddresses),e.push(this.WWWHomePageURL),e.push(this.MessagingIDs),e}},kD=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d,T,g,I,v,C){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.SteelGrade=c,this.PredefinedType=u,this.NominalDiameter=p,this.CrossSectionArea=d,this.TensionForce=T,this.PreStress=g,this.FrictionCoefficient=I,this.AnchorageSlip=v,this.MinCurvatureRadius=C}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++],I=t[s++],v=t[s++],C=t[s++],N=t[s++],F=t[s++];return new kD(e,i,n,r,o,a,l,h,c,u,p,d,T,g,I,v,C,N,F)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.SteelGrade),e.push(this.PredefinedType),e.push(this.NominalDiameter),e.push(this.CrossSectionArea),e.push(this.TensionForce),e.push(this.PreStress),e.push(this.FrictionCoefficient),e.push(this.AnchorageSlip),e.push(this.MinCurvatureRadius),e}},AD=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.SteelGrade=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new AD(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.SteelGrade),e.push(this.PredefinedType),e}},KD=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new KD(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},ZD=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.SteelGrade=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new ZD(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.SteelGrade),e.push(this.PredefinedType),e}},HD=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new HD(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},UD=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d,T){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u,this.NominalDiameter=p,this.CrossSectionArea=d,this.SheathDiameter=T}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++],I=t[s++];return new UD(e,i,n,r,o,a,l,h,c,u,p,d,T,g,I)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e.push(this.NominalDiameter),e.push(this.CrossSectionArea),e.push(this.SheathDiameter),e}},_D=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Coordinates=t}static FromTape(e,i,t){let s=0,n=t[s++];return new _D(e,i,n)}ToTape(){let e=[];return e.push(this.Coordinates),e}},VD=class{constructor(e,i){this.expressID=e,this.type=i}static FromTape(e,i,t){return new VD(e,i)}ToTape(){return[]}},jD=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Literal=t,this.Placement=s,this.Path=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new jD(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.Literal),e.push(this.Placement),e.push(this.Path),e}},BD=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.Literal=t,this.Placement=s,this.Path=n,this.Extent=r,this.BoxAlignment=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new BD(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.Literal),e.push(this.Placement),e.push(this.Path),e.push(this.Extent),e.push(this.BoxAlignment),e}},JD=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.Name=t,this.TextCharacterAppearance=s,this.TextStyle=n,this.TextFontStyle=r,this.ModelOrDraughting=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new JD(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.Name),e.push(this.TextCharacterAppearance),e.push(this.TextStyle),e.push(this.TextFontStyle),e.push(this.ModelOrDraughting),e}},QD=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.Name=t,this.FontFamily=s,this.FontStyle=n,this.FontVariant=r,this.FontWeight=o,this.FontSize=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new QD(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.Name),e.push(this.FontFamily),e.push(this.FontStyle),e.push(this.FontVariant),e.push(this.FontWeight),e.push(this.FontSize),e}},qD=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Colour=t,this.BackgroundColour=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new qD(e,i,n,r)}ToTape(){let e=[];return e.push(this.Colour),e.push(this.BackgroundColour),e}},$D=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.TextIndent=t,this.TextAlign=s,this.TextDecoration=n,this.LetterSpacing=r,this.WordSpacing=o,this.TextTransform=a,this.LineHeight=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new $D(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.TextIndent),e.push(this.TextAlign),e.push(this.TextDecoration),e.push(this.LetterSpacing),e.push(this.WordSpacing),e.push(this.TextTransform),e.push(this.LineHeight),e}},e9=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Maps=t}static FromTape(e,i,t){let s=0,n=t[s++];return new e9(e,i,n)}ToTape(){let e=[];return e.push(this.Maps),e}},t9=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Maps=t,this.Mode=s,this.Parameter=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new t9(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.Maps),e.push(this.Mode),e.push(this.Parameter),e}},i9=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Maps=t,this.Vertices=s,this.MappedTo=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new i9(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.Maps),e.push(this.Vertices),e.push(this.MappedTo),e}},s9=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Coordinates=t}static FromTape(e,i,t){let s=0,n=t[s++];return new s9(e,i,n)}ToTape(){let e=[];return e.push(this.Coordinates),e}},n9=class{constructor(e,i,t){this.expressID=e,this.type=i,this.TexCoordsList=t}static FromTape(e,i,t){let s=0,n=t[s++];return new n9(e,i,n)}ToTape(){let e=[];return e.push(this.TexCoordsList),e}},r9=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.StartTime=t,this.EndTime=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new r9(e,i,n,r)}ToTape(){let e=[];return e.push(this.StartTime),e.push(this.EndTime),e}},o9=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.Name=t,this.Description=s,this.StartTime=n,this.EndTime=r,this.TimeSeriesDataType=o,this.DataOrigin=a,this.UserDefinedDataOrigin=l,this.Unit=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new o9(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.Name),e.push(this.Description),e.push(this.StartTime),e.push(this.EndTime),e.push(this.TimeSeriesDataType),e.push(this.DataOrigin),e.push(this.UserDefinedDataOrigin),e.push(this.Unit),e}},a9=class{constructor(e,i,t){this.expressID=e,this.type=i,this.ListValues=t}static FromTape(e,i,t){let s=0,n=t[s++];return new a9(e,i,n)}ToTape(){let e=[];return e.push(this.ListValues),e}},l9=class{constructor(e,i){this.expressID=e,this.type=i}static FromTape(e,i,t){return new l9(e,i)}ToTape(){return[]}},h9=class{constructor(e,i,t,s,n,r){this.expressID=e,this.type=i,this.ContextOfItems=t,this.RepresentationIdentifier=s,this.RepresentationType=n,this.Items=r}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++];return new h9(e,i,n,r,o,a)}ToTape(){let e=[];return e.push(this.ContextOfItems),e.push(this.RepresentationIdentifier),e.push(this.RepresentationType),e.push(this.Items),e}},c9=class{constructor(e,i,t,s,n){this.expressID=e,this.type=i,this.Position=t,this.MajorRadius=s,this.MinorRadius=n}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++];return new c9(e,i,n,r,o)}ToTape(){let e=[];return e.push(this.Position),e.push(this.MajorRadius),e.push(this.MinorRadius),e}},u9=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new u9(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},p9=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new p9(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},d9=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.StartPoint=t,this.StartDirection=s,this.SegmentLength=n,this.StartRadius=r,this.EndRadius=o,this.IsStartRadiusCCW=a,this.IsEndRadiusCCW=l,this.TransitionCurveType=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new d9(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.StartPoint),e.push(this.StartDirection),e.push(this.SegmentLength),e.push(this.StartRadius),e.push(this.EndRadius),e.push(this.IsStartRadiusCCW),e.push(this.IsEndRadiusCCW),e.push(this.TransitionCurveType),e}},m9=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new m9(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},y9=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new y9(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},f9=class{constructor(e,i,t,s,n,r,o,a,l){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.Position=n,this.BottomXDim=r,this.TopXDim=o,this.YDim=a,this.TopXOffset=l}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++];return new f9(e,i,n,r,o,a,l,h,c)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.BottomXDim),e.push(this.TopXDim),e.push(this.YDim),e.push(this.TopXOffset),e}},T9=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.Coordinates=t,this.Normals=s,this.Closed=n,this.CoordIndex=r,this.PnIndex=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new T9(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.Coordinates),e.push(this.Normals),e.push(this.Closed),e.push(this.CoordIndex),e.push(this.PnIndex),e}},g9=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.Coordinates=t,this.Normals=s,this.Closed=n,this.CoordIndex=r,this.PnIndex=o,this.Flags=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new g9(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.Coordinates),e.push(this.Normals),e.push(this.Closed),e.push(this.CoordIndex),e.push(this.PnIndex),e.push(this.Flags),e}},b9=class{constructor(e,i,t,s,n,r,o){this.expressID=e,this.type=i,this.BasisCurve=t,this.Trim1=s,this.Trim2=n,this.SenseAgreement=r,this.MasterRepresentation=o}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++];return new b9(e,i,n,r,o,a,l)}ToTape(){let e=[];return e.push(this.BasisCurve),e.push(this.Trim1),e.push(this.Trim2),e.push(this.SenseAgreement),e.push(this.MasterRepresentation),e}},I9=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new I9(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},L9=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new L9(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},S9=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new S9(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e}},M9=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.Identification=l,this.LongDescription=h,this.ProcessType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new M9(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.Identification),e.push(this.LongDescription),e.push(this.ProcessType),e}},x9=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new x9(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e}},v9=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.Identification=l,this.LongDescription=h,this.ResourceType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new v9(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.Identification),e.push(this.LongDescription),e.push(this.ResourceType),e}},G9=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.Position=n,this.Depth=r,this.FlangeWidth=o,this.WebThickness=a,this.FlangeThickness=l,this.FilletRadius=h,this.EdgeRadius=c,this.FlangeSlope=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new G9(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.Depth),e.push(this.FlangeWidth),e.push(this.WebThickness),e.push(this.FlangeThickness),e.push(this.FilletRadius),e.push(this.EdgeRadius),e.push(this.FlangeSlope),e}},E9=class{constructor(e,i,t){this.expressID=e,this.type=i,this.Units=t}static FromTape(e,i,t){let s=0,n=t[s++];return new E9(e,i,n)}ToTape(){let e=[];return e.push(this.Units),e}},C9=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new C9(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},R9=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new R9(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},N9=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new N9(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},F9=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new F9(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},P9=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new P9(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},w9=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new w9(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},X9=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.Orientation=t,this.Magnitude=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new X9(e,i,n,r)}ToTape(){let e=[];return e.push(this.Orientation),e.push(this.Magnitude),e}},D9=class{constructor(e,i){this.expressID=e,this.type=i}static FromTape(e,i,t){return new D9(e,i)}ToTape(){return[]}},O9=class{constructor(e,i,t){this.expressID=e,this.type=i,this.LoopVertex=t}static FromTape(e,i,t){let s=0,n=t[s++];return new O9(e,i,n)}ToTape(){let e=[];return e.push(this.LoopVertex),e}},z9=class{constructor(e,i,t){this.expressID=e,this.type=i,this.VertexGeometry=t}static FromTape(e,i,t){let s=0,n=t[s++];return new z9(e,i,n)}ToTape(){let e=[];return e.push(this.VertexGeometry),e}},W9=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new W9(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},Y9=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new Y9(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},k9=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new k9(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},A9=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new A9(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},K9=class{constructor(e,i,t,s,n,r,o,a,l,h){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++];return new K9(e,i,n,r,o,a,l,h,c,u)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e}},Z9=class{constructor(e,i,t,s){this.expressID=e,this.type=i,this.IntersectingAxes=t,this.OffsetDistances=s}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++];return new Z9(e,i,n,r)}ToTape(){let e=[];return e.push(this.IntersectingAxes),e.push(this.OffsetDistances),e}},H9=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new H9(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},U9=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new U9(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},_9=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new _9(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},V9=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new V9(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},j9=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new j9(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},B9=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new B9(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.PredefinedType),e}},J9=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++];return new J9(e,i,n,r,o,a,l,h,c,u,p,d)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e}},Q9=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d,T){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.OverallHeight=c,this.OverallWidth=u,this.PredefinedType=p,this.PartitioningType=d,this.UserDefinedPartitioningType=T}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++],I=t[s++];return new Q9(e,i,n,r,o,a,l,h,c,u,p,d,T,g,I)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.OverallHeight),e.push(this.OverallWidth),e.push(this.PredefinedType),e.push(this.PartitioningType),e.push(this.UserDefinedPartitioningType),e}},q9=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d,T,g,I,v){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.LiningDepth=o,this.LiningThickness=a,this.TransomThickness=l,this.MullionThickness=h,this.FirstTransomOffset=c,this.SecondTransomOffset=u,this.FirstMullionOffset=p,this.SecondMullionOffset=d,this.ShapeAspectStyle=T,this.LiningOffset=g,this.LiningToPanelOffsetX=I,this.LiningToPanelOffsetY=v}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++],I=t[s++],v=t[s++],C=t[s++],N=t[s++];return new q9(e,i,n,r,o,a,l,h,c,u,p,d,T,g,I,v,C,N)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.LiningDepth),e.push(this.LiningThickness),e.push(this.TransomThickness),e.push(this.MullionThickness),e.push(this.FirstTransomOffset),e.push(this.SecondTransomOffset),e.push(this.FirstMullionOffset),e.push(this.SecondMullionOffset),e.push(this.ShapeAspectStyle),e.push(this.LiningOffset),e.push(this.LiningToPanelOffsetX),e.push(this.LiningToPanelOffsetY),e}},$9=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.OperationType=o,this.PanelPosition=a,this.FrameDepth=l,this.FrameThickness=h,this.ShapeAspectStyle=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new $9(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.OperationType),e.push(this.PanelPosition),e.push(this.FrameDepth),e.push(this.FrameThickness),e.push(this.ShapeAspectStyle),e}},e3=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d,T){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.ObjectPlacement=a,this.Representation=l,this.Tag=h,this.OverallHeight=c,this.OverallWidth=u,this.PredefinedType=p,this.PartitioningType=d,this.UserDefinedPartitioningType=T}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++],I=t[s++];return new e3(e,i,n,r,o,a,l,h,c,u,p,d,T,g,I)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.ObjectPlacement),e.push(this.Representation),e.push(this.Tag),e.push(this.OverallHeight),e.push(this.OverallWidth),e.push(this.PredefinedType),e.push(this.PartitioningType),e.push(this.UserDefinedPartitioningType),e}},t3=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ConstructionType=c,this.OperationType=u,this.ParameterTakesPrecedence=p,this.Sizeable=d}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++];return new t3(e,i,n,r,o,a,l,h,c,u,p,d,T,g)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ConstructionType),e.push(this.OperationType),e.push(this.ParameterTakesPrecedence),e.push(this.Sizeable),e}},i3=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d,T){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ApplicableOccurrence=o,this.HasPropertySets=a,this.RepresentationMaps=l,this.Tag=h,this.ElementType=c,this.PredefinedType=u,this.PartitioningType=p,this.ParameterTakesPrecedence=d,this.UserDefinedPartitioningType=T}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++],I=t[s++];return new i3(e,i,n,r,o,a,l,h,c,u,p,d,T,g,I)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ApplicableOccurrence),e.push(this.HasPropertySets),e.push(this.RepresentationMaps),e.push(this.Tag),e.push(this.ElementType),e.push(this.PredefinedType),e.push(this.PartitioningType),e.push(this.ParameterTakesPrecedence),e.push(this.UserDefinedPartitioningType),e}},s3=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.Identification=a,this.WorkingTimes=l,this.ExceptionTimes=h,this.PredefinedType=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new s3(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.WorkingTimes),e.push(this.ExceptionTimes),e.push(this.PredefinedType),e}},n3=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d,T){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.Identification=a,this.CreationDate=l,this.Creators=h,this.Purpose=c,this.Duration=u,this.TotalFloat=p,this.StartTime=d,this.FinishTime=T}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++],I=t[s++];return new n3(e,i,n,r,o,a,l,h,c,u,p,d,T,g,I)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.CreationDate),e.push(this.Creators),e.push(this.Purpose),e.push(this.Duration),e.push(this.TotalFloat),e.push(this.StartTime),e.push(this.FinishTime),e}},r3=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d,T,g){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.Identification=a,this.CreationDate=l,this.Creators=h,this.Purpose=c,this.Duration=u,this.TotalFloat=p,this.StartTime=d,this.FinishTime=T,this.PredefinedType=g}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++],I=t[s++],v=t[s++];return new r3(e,i,n,r,o,a,l,h,c,u,p,d,T,g,I,v)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.CreationDate),e.push(this.Creators),e.push(this.Purpose),e.push(this.Duration),e.push(this.TotalFloat),e.push(this.StartTime),e.push(this.FinishTime),e.push(this.PredefinedType),e}},o3=class{constructor(e,i,t,s,n,r,o,a,l,h,c,u,p,d,T,g){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.Identification=a,this.CreationDate=l,this.Creators=h,this.Purpose=c,this.Duration=u,this.TotalFloat=p,this.StartTime=d,this.FinishTime=T,this.PredefinedType=g}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++],d=t[s++],T=t[s++],g=t[s++],I=t[s++],v=t[s++];return new o3(e,i,n,r,o,a,l,h,c,u,p,d,T,g,I,v)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.Identification),e.push(this.CreationDate),e.push(this.Creators),e.push(this.Purpose),e.push(this.Duration),e.push(this.TotalFloat),e.push(this.StartTime),e.push(this.FinishTime),e.push(this.PredefinedType),e}},a3=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.Name=t,this.DataOrigin=s,this.UserDefinedDataOrigin=n,this.RecurrencePattern=r,this.Start=o,this.Finish=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new a3(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.Name),e.push(this.DataOrigin),e.push(this.UserDefinedDataOrigin),e.push(this.RecurrencePattern),e.push(this.Start),e.push(this.Finish),e}},l3=class{constructor(e,i,t,s,n,r,o,a,l,h,c){this.expressID=e,this.type=i,this.ProfileType=t,this.ProfileName=s,this.Position=n,this.Depth=r,this.FlangeWidth=o,this.WebThickness=a,this.FlangeThickness=l,this.FilletRadius=h,this.EdgeRadius=c}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++],c=t[s++],u=t[s++],p=t[s++];return new l3(e,i,n,r,o,a,l,h,c,u,p)}ToTape(){let e=[];return e.push(this.ProfileType),e.push(this.ProfileName),e.push(this.Position),e.push(this.Depth),e.push(this.FlangeWidth),e.push(this.WebThickness),e.push(this.FlangeThickness),e.push(this.FilletRadius),e.push(this.EdgeRadius),e}},h3=class{constructor(e,i,t,s,n,r,o,a){this.expressID=e,this.type=i,this.GlobalId=t,this.OwnerHistory=s,this.Name=n,this.Description=r,this.ObjectType=o,this.LongName=a}static FromTape(e,i,t){let s=0,n=t[s++],r=t[s++],o=t[s++],a=t[s++],l=t[s++],h=t[s++];return new h3(e,i,n,r,o,a,l,h)}ToTape(){let e=[];return e.push(this.GlobalId),e.push(this.OwnerHistory),e.push(this.Name),e.push(this.Description),e.push(this.ObjectType),e.push(this.LongName),e}},c3={103090709:"IFCPROJECT",4097777520:"IFCSITE",4031249490:"IFCBUILDING",3124254112:"IFCBUILDINGSTOREY",3856911033:"IFCSPACE",1674181508:"IFCANNOTATION",25142252:"IFCCONTROLLER",32344328:"IFCBOILER",76236018:"IFCLAMP",90941305:"IFCPUMP",177149247:"IFCAIRTERMINALBOX",182646315:"IFCFLOWINSTRUMENT",263784265:"IFCFURNISHINGELEMENT",264262732:"IFCELECTRICGENERATOR",277319702:"IFCAUDIOVISUALAPPLIANCE",310824031:"IFCPIPEFITTING",331165859:"IFCSTAIR",342316401:"IFCDUCTFITTING",377706215:"IFCMECHANICALFASTENER",395920057:"IFCDOOR",402227799:"IFCELECTRICMOTOR",413509423:"IFCSYSTEMFURNITUREELEMENT",484807127:"IFCEVAPORATOR",486154966:"IFCWINDOWSTANDARDCASE",629592764:"IFCLIGHTFIXTURE",630975310:"IFCUNITARYCONTROLELEMENT",635142910:"IFCCABLECARRIERFITTING",639361253:"IFCCOIL",647756555:"IFCFASTENER",707683696:"IFCFLOWSTORAGEDEVICE",738039164:"IFCPROTECTIVEDEVICE",753842376:"IFCBEAM",812556717:"IFCTANK",819412036:"IFCFILTER",843113511:"IFCCOLUMN",862014818:"IFCELECTRICDISTRIBUTIONBOARD",900683007:"IFCFOOTING",905975707:"IFCCOLUMNSTANDARDCASE",926996030:"IFCVOIDINGFEATURE",979691226:"IFCREINFORCINGBAR",987401354:"IFCFLOWSEGMENT",1003880860:"IFCELECTRICTIMECONTROL",1051757585:"IFCCABLEFITTING",1052013943:"IFCDISTRIBUTIONCHAMBERELEMENT",1062813311:"IFCDISTRIBUTIONCONTROLELEMENT",1073191201:"IFCMEMBER",1095909175:"IFCBUILDINGELEMENTPROXY",1156407060:"IFCPLATESTANDARDCASE",1162798199:"IFCSWITCHINGDEVICE",1329646415:"IFCSHADINGDEVICE",1335981549:"IFCDISCRETEACCESSORY",1360408905:"IFCDUCTSILENCER",1404847402:"IFCSTACKTERMINAL",1426591983:"IFCFIRESUPPRESSIONTERMINAL",1437502449:"IFCMEDICALDEVICE",1509553395:"IFCFURNITURE",1529196076:"IFCSLAB",1620046519:"IFCTRANSPORTELEMENT",1634111441:"IFCAIRTERMINAL",1658829314:"IFCENERGYCONVERSIONDEVICE",1677625105:"IFCCIVILELEMENT",1687234759:"IFCPILE",1904799276:"IFCELECTRICAPPLIANCE",1911478936:"IFCMEMBERSTANDARDCASE",1945004755:"IFCDISTRIBUTIONELEMENT",1973544240:"IFCCOVERING",1999602285:"IFCSPACEHEATER",2016517767:"IFCROOF",2056796094:"IFCAIRTOAIRHEATRECOVERY",2058353004:"IFCFLOWCONTROLLER",2068733104:"IFCHUMIDIFIER",2176052936:"IFCJUNCTIONBOX",2188021234:"IFCFLOWMETER",2223149337:"IFCFLOWTERMINAL",2262370178:"IFCRAILING",2272882330:"IFCCONDENSER",2295281155:"IFCPROTECTIVEDEVICETRIPPINGUNIT",2320036040:"IFCREINFORCINGMESH",2347447852:"IFCTENDONANCHOR",2391383451:"IFCVIBRATIONISOLATOR",2391406946:"IFCWALL",2474470126:"IFCMOTORCONNECTION",2769231204:"IFCVIRTUALELEMENT",2814081492:"IFCENGINE",2906023776:"IFCBEAMSTANDARDCASE",2938176219:"IFCBURNER",2979338954:"IFCBUILDINGELEMENTPART",3024970846:"IFCRAMP",3026737570:"IFCTUBEBUNDLE",3027962421:"IFCSLABSTANDARDCASE",3040386961:"IFCDISTRIBUTIONFLOWELEMENT",3053780830:"IFCSANITARYTERMINAL",3079942009:"IFCOPENINGSTANDARDCASE",3087945054:"IFCALARM",3101698114:"IFCSURFACEFEATURE",3127900445:"IFCSLABELEMENTEDCASE",3132237377:"IFCFLOWMOVINGDEVICE",3171933400:"IFCPLATE",3221913625:"IFCCOMMUNICATIONSAPPLIANCE",3242481149:"IFCDOORSTANDARDCASE",3283111854:"IFCRAMPFLIGHT",3296154744:"IFCCHIMNEY",3304561284:"IFCWINDOW",3310460725:"IFCELECTRICFLOWSTORAGEDEVICE",3319311131:"IFCHEATEXCHANGER",3415622556:"IFCFAN",3420628829:"IFCSOLARDEVICE",3493046030:"IFCGEOGRAPHICELEMENT",3495092785:"IFCCURTAINWALL",3508470533:"IFCFLOWTREATMENTDEVICE",3512223829:"IFCWALLSTANDARDCASE",3518393246:"IFCDUCTSEGMENT",3571504051:"IFCCOMPRESSOR",3588315303:"IFCOPENINGELEMENT",3612865200:"IFCPIPESEGMENT",3640358203:"IFCCOOLINGTOWER",3651124850:"IFCPROJECTIONELEMENT",3694346114:"IFCOUTLET",3747195512:"IFCEVAPORATIVECOOLER",3758799889:"IFCCABLECARRIERSEGMENT",3824725483:"IFCTENDON",3825984169:"IFCTRANSFORMER",3902619387:"IFCCHILLER",4074379575:"IFCDAMPER",4086658281:"IFCSENSOR",4123344466:"IFCELEMENTASSEMBLY",4136498852:"IFCCOOLEDBEAM",4156078855:"IFCWALLELEMENTEDCASE",4175244083:"IFCINTERCEPTOR",4207607924:"IFCVALVE",4217484030:"IFCCABLESEGMENT",4237592921:"IFCWASTETERMINAL",4252922144:"IFCSTAIRFLIGHT",4278956645:"IFCFLOWFITTING",4288193352:"IFCACTUATOR",4292641817:"IFCUNITARYEQUIPMENT",3009204131:"IFCGRID"},ete={3821786052:"IFCACTIONREQUEST",2296667514:"IFCACTOR",3630933823:"IFCACTORROLE",4288193352:"IFCACTUATOR",2874132201:"IFCACTUATORTYPE",618182010:"IFCADDRESS",1635779807:"IFCADVANCEDBREP",2603310189:"IFCADVANCEDBREPWITHVOIDS",3406155212:"IFCADVANCEDFACE",1634111441:"IFCAIRTERMINAL",177149247:"IFCAIRTERMINALBOX",1411407467:"IFCAIRTERMINALBOXTYPE",3352864051:"IFCAIRTERMINALTYPE",2056796094:"IFCAIRTOAIRHEATRECOVERY",1871374353:"IFCAIRTOAIRHEATRECOVERYTYPE",3087945054:"IFCALARM",3001207471:"IFCALARMTYPE",325726236:"IFCALIGNMENT",749761778:"IFCALIGNMENT2DHORIZONTAL",3199563722:"IFCALIGNMENT2DHORIZONTALSEGMENT",2483840362:"IFCALIGNMENT2DSEGMENT",3379348081:"IFCALIGNMENT2DVERSEGCIRCULARARC",3239324667:"IFCALIGNMENT2DVERSEGLINE",4263986512:"IFCALIGNMENT2DVERSEGPARABOLICARC",53199957:"IFCALIGNMENT2DVERTICAL",2029264950:"IFCALIGNMENT2DVERTICALSEGMENT",3512275521:"IFCALIGNMENTCURVE",1674181508:"IFCANNOTATION",669184980:"IFCANNOTATIONFILLAREA",639542469:"IFCAPPLICATION",411424972:"IFCAPPLIEDVALUE",130549933:"IFCAPPROVAL",3869604511:"IFCAPPROVALRELATIONSHIP",3798115385:"IFCARBITRARYCLOSEDPROFILEDEF",1310608509:"IFCARBITRARYOPENPROFILEDEF",2705031697:"IFCARBITRARYPROFILEDEFWITHVOIDS",3460190687:"IFCASSET",3207858831:"IFCASYMMETRICISHAPEPROFILEDEF",277319702:"IFCAUDIOVISUALAPPLIANCE",1532957894:"IFCAUDIOVISUALAPPLIANCETYPE",4261334040:"IFCAXIS1PLACEMENT",3125803723:"IFCAXIS2PLACEMENT2D",2740243338:"IFCAXIS2PLACEMENT3D",1967976161:"IFCBSPLINECURVE",2461110595:"IFCBSPLINECURVEWITHKNOTS",2887950389:"IFCBSPLINESURFACE",167062518:"IFCBSPLINESURFACEWITHKNOTS",753842376:"IFCBEAM",2906023776:"IFCBEAMSTANDARDCASE",819618141:"IFCBEAMTYPE",4196446775:"IFCBEARING",3649138523:"IFCBEARINGTYPE",616511568:"IFCBLOBTEXTURE",1334484129:"IFCBLOCK",32344328:"IFCBOILER",231477066:"IFCBOILERTYPE",3649129432:"IFCBOOLEANCLIPPINGRESULT",2736907675:"IFCBOOLEANRESULT",4037036970:"IFCBOUNDARYCONDITION",1136057603:"IFCBOUNDARYCURVE",1560379544:"IFCBOUNDARYEDGECONDITION",3367102660:"IFCBOUNDARYFACECONDITION",1387855156:"IFCBOUNDARYNODECONDITION",2069777674:"IFCBOUNDARYNODECONDITIONWARPING",1260505505:"IFCBOUNDEDCURVE",4182860854:"IFCBOUNDEDSURFACE",2581212453:"IFCBOUNDINGBOX",2713105998:"IFCBOXEDHALFSPACE",644574406:"IFCBRIDGE",963979645:"IFCBRIDGEPART",4031249490:"IFCBUILDING",3299480353:"IFCBUILDINGELEMENT",2979338954:"IFCBUILDINGELEMENTPART",39481116:"IFCBUILDINGELEMENTPARTTYPE",1095909175:"IFCBUILDINGELEMENTPROXY",1909888760:"IFCBUILDINGELEMENTPROXYTYPE",1950629157:"IFCBUILDINGELEMENTTYPE",3124254112:"IFCBUILDINGSTOREY",1177604601:"IFCBUILDINGSYSTEM",2938176219:"IFCBURNER",2188180465:"IFCBURNERTYPE",2898889636:"IFCCSHAPEPROFILEDEF",635142910:"IFCCABLECARRIERFITTING",395041908:"IFCCABLECARRIERFITTINGTYPE",3758799889:"IFCCABLECARRIERSEGMENT",3293546465:"IFCCABLECARRIERSEGMENTTYPE",1051757585:"IFCCABLEFITTING",2674252688:"IFCCABLEFITTINGTYPE",4217484030:"IFCCABLESEGMENT",1285652485:"IFCCABLESEGMENTTYPE",3999819293:"IFCCAISSONFOUNDATION",3203706013:"IFCCAISSONFOUNDATIONTYPE",1123145078:"IFCCARTESIANPOINT",574549367:"IFCCARTESIANPOINTLIST",1675464909:"IFCCARTESIANPOINTLIST2D",2059837836:"IFCCARTESIANPOINTLIST3D",59481748:"IFCCARTESIANTRANSFORMATIONOPERATOR",3749851601:"IFCCARTESIANTRANSFORMATIONOPERATOR2D",3486308946:"IFCCARTESIANTRANSFORMATIONOPERATOR2DNONUNIFORM",3331915920:"IFCCARTESIANTRANSFORMATIONOPERATOR3D",1416205885:"IFCCARTESIANTRANSFORMATIONOPERATOR3DNONUNIFORM",3150382593:"IFCCENTERLINEPROFILEDEF",3902619387:"IFCCHILLER",2951183804:"IFCCHILLERTYPE",3296154744:"IFCCHIMNEY",2197970202:"IFCCHIMNEYTYPE",2611217952:"IFCCIRCLE",2937912522:"IFCCIRCLEHOLLOWPROFILEDEF",1383045692:"IFCCIRCLEPROFILEDEF",1062206242:"IFCCIRCULARARCSEGMENT2D",1677625105:"IFCCIVILELEMENT",3893394355:"IFCCIVILELEMENTTYPE",747523909:"IFCCLASSIFICATION",647927063:"IFCCLASSIFICATIONREFERENCE",2205249479:"IFCCLOSEDSHELL",639361253:"IFCCOIL",2301859152:"IFCCOILTYPE",776857604:"IFCCOLOURRGB",3285139300:"IFCCOLOURRGBLIST",3264961684:"IFCCOLOURSPECIFICATION",843113511:"IFCCOLUMN",905975707:"IFCCOLUMNSTANDARDCASE",300633059:"IFCCOLUMNTYPE",3221913625:"IFCCOMMUNICATIONSAPPLIANCE",400855858:"IFCCOMMUNICATIONSAPPLIANCETYPE",2542286263:"IFCCOMPLEXPROPERTY",3875453745:"IFCCOMPLEXPROPERTYTEMPLATE",3732776249:"IFCCOMPOSITECURVE",15328376:"IFCCOMPOSITECURVEONSURFACE",2485617015:"IFCCOMPOSITECURVESEGMENT",1485152156:"IFCCOMPOSITEPROFILEDEF",3571504051:"IFCCOMPRESSOR",3850581409:"IFCCOMPRESSORTYPE",2272882330:"IFCCONDENSER",2816379211:"IFCCONDENSERTYPE",2510884976:"IFCCONIC",370225590:"IFCCONNECTEDFACESET",1981873012:"IFCCONNECTIONCURVEGEOMETRY",2859738748:"IFCCONNECTIONGEOMETRY",45288368:"IFCCONNECTIONPOINTECCENTRICITY",2614616156:"IFCCONNECTIONPOINTGEOMETRY",2732653382:"IFCCONNECTIONSURFACEGEOMETRY",775493141:"IFCCONNECTIONVOLUMEGEOMETRY",1959218052:"IFCCONSTRAINT",3898045240:"IFCCONSTRUCTIONEQUIPMENTRESOURCE",2185764099:"IFCCONSTRUCTIONEQUIPMENTRESOURCETYPE",1060000209:"IFCCONSTRUCTIONMATERIALRESOURCE",4105962743:"IFCCONSTRUCTIONMATERIALRESOURCETYPE",488727124:"IFCCONSTRUCTIONPRODUCTRESOURCE",1525564444:"IFCCONSTRUCTIONPRODUCTRESOURCETYPE",2559216714:"IFCCONSTRUCTIONRESOURCE",2574617495:"IFCCONSTRUCTIONRESOURCETYPE",3419103109:"IFCCONTEXT",3050246964:"IFCCONTEXTDEPENDENTUNIT",3293443760:"IFCCONTROL",25142252:"IFCCONTROLLER",578613899:"IFCCONTROLLERTYPE",2889183280:"IFCCONVERSIONBASEDUNIT",2713554722:"IFCCONVERSIONBASEDUNITWITHOFFSET",4136498852:"IFCCOOLEDBEAM",335055490:"IFCCOOLEDBEAMTYPE",3640358203:"IFCCOOLINGTOWER",2954562838:"IFCCOOLINGTOWERTYPE",1785450214:"IFCCOORDINATEOPERATION",1466758467:"IFCCOORDINATEREFERENCESYSTEM",3895139033:"IFCCOSTITEM",1419761937:"IFCCOSTSCHEDULE",602808272:"IFCCOSTVALUE",1973544240:"IFCCOVERING",1916426348:"IFCCOVERINGTYPE",3295246426:"IFCCREWRESOURCE",1815067380:"IFCCREWRESOURCETYPE",2506170314:"IFCCSGPRIMITIVE3D",2147822146:"IFCCSGSOLID",539742890:"IFCCURRENCYRELATIONSHIP",3495092785:"IFCCURTAINWALL",1457835157:"IFCCURTAINWALLTYPE",2601014836:"IFCCURVE",2827736869:"IFCCURVEBOUNDEDPLANE",2629017746:"IFCCURVEBOUNDEDSURFACE",1186437898:"IFCCURVESEGMENT2D",3800577675:"IFCCURVESTYLE",1105321065:"IFCCURVESTYLEFONT",2367409068:"IFCCURVESTYLEFONTANDSCALING",3510044353:"IFCCURVESTYLEFONTPATTERN",1213902940:"IFCCYLINDRICALSURFACE",4074379575:"IFCDAMPER",3961806047:"IFCDAMPERTYPE",3426335179:"IFCDEEPFOUNDATION",1306400036:"IFCDEEPFOUNDATIONTYPE",3632507154:"IFCDERIVEDPROFILEDEF",1765591967:"IFCDERIVEDUNIT",1045800335:"IFCDERIVEDUNITELEMENT",2949456006:"IFCDIMENSIONALEXPONENTS",32440307:"IFCDIRECTION",1335981549:"IFCDISCRETEACCESSORY",2635815018:"IFCDISCRETEACCESSORYTYPE",1945343521:"IFCDISTANCEEXPRESSION",1052013943:"IFCDISTRIBUTIONCHAMBERELEMENT",1599208980:"IFCDISTRIBUTIONCHAMBERELEMENTTYPE",562808652:"IFCDISTRIBUTIONCIRCUIT",1062813311:"IFCDISTRIBUTIONCONTROLELEMENT",2063403501:"IFCDISTRIBUTIONCONTROLELEMENTTYPE",1945004755:"IFCDISTRIBUTIONELEMENT",3256556792:"IFCDISTRIBUTIONELEMENTTYPE",3040386961:"IFCDISTRIBUTIONFLOWELEMENT",3849074793:"IFCDISTRIBUTIONFLOWELEMENTTYPE",3041715199:"IFCDISTRIBUTIONPORT",3205830791:"IFCDISTRIBUTIONSYSTEM",1154170062:"IFCDOCUMENTINFORMATION",770865208:"IFCDOCUMENTINFORMATIONRELATIONSHIP",3732053477:"IFCDOCUMENTREFERENCE",395920057:"IFCDOOR",2963535650:"IFCDOORLININGPROPERTIES",1714330368:"IFCDOORPANELPROPERTIES",3242481149:"IFCDOORSTANDARDCASE",526551008:"IFCDOORSTYLE",2323601079:"IFCDOORTYPE",445594917:"IFCDRAUGHTINGPREDEFINEDCOLOUR",4006246654:"IFCDRAUGHTINGPREDEFINEDCURVEFONT",342316401:"IFCDUCTFITTING",869906466:"IFCDUCTFITTINGTYPE",3518393246:"IFCDUCTSEGMENT",3760055223:"IFCDUCTSEGMENTTYPE",1360408905:"IFCDUCTSILENCER",2030761528:"IFCDUCTSILENCERTYPE",3900360178:"IFCEDGE",476780140:"IFCEDGECURVE",1472233963:"IFCEDGELOOP",1904799276:"IFCELECTRICAPPLIANCE",663422040:"IFCELECTRICAPPLIANCETYPE",862014818:"IFCELECTRICDISTRIBUTIONBOARD",2417008758:"IFCELECTRICDISTRIBUTIONBOARDTYPE",3310460725:"IFCELECTRICFLOWSTORAGEDEVICE",3277789161:"IFCELECTRICFLOWSTORAGEDEVICETYPE",264262732:"IFCELECTRICGENERATOR",1534661035:"IFCELECTRICGENERATORTYPE",402227799:"IFCELECTRICMOTOR",1217240411:"IFCELECTRICMOTORTYPE",1003880860:"IFCELECTRICTIMECONTROL",712377611:"IFCELECTRICTIMECONTROLTYPE",1758889154:"IFCELEMENT",4123344466:"IFCELEMENTASSEMBLY",2397081782:"IFCELEMENTASSEMBLYTYPE",1623761950:"IFCELEMENTCOMPONENT",2590856083:"IFCELEMENTCOMPONENTTYPE",1883228015:"IFCELEMENTQUANTITY",339256511:"IFCELEMENTTYPE",2777663545:"IFCELEMENTARYSURFACE",1704287377:"IFCELLIPSE",2835456948:"IFCELLIPSEPROFILEDEF",1658829314:"IFCENERGYCONVERSIONDEVICE",2107101300:"IFCENERGYCONVERSIONDEVICETYPE",2814081492:"IFCENGINE",132023988:"IFCENGINETYPE",3747195512:"IFCEVAPORATIVECOOLER",3174744832:"IFCEVAPORATIVECOOLERTYPE",484807127:"IFCEVAPORATOR",3390157468:"IFCEVAPORATORTYPE",4148101412:"IFCEVENT",211053100:"IFCEVENTTIME",4024345920:"IFCEVENTTYPE",297599258:"IFCEXTENDEDPROPERTIES",4294318154:"IFCEXTERNALINFORMATION",3200245327:"IFCEXTERNALREFERENCE",1437805879:"IFCEXTERNALREFERENCERELATIONSHIP",1209101575:"IFCEXTERNALSPATIALELEMENT",2853485674:"IFCEXTERNALSPATIALSTRUCTUREELEMENT",2242383968:"IFCEXTERNALLYDEFINEDHATCHSTYLE",1040185647:"IFCEXTERNALLYDEFINEDSURFACESTYLE",3548104201:"IFCEXTERNALLYDEFINEDTEXTFONT",477187591:"IFCEXTRUDEDAREASOLID",2804161546:"IFCEXTRUDEDAREASOLIDTAPERED",2556980723:"IFCFACE",2047409740:"IFCFACEBASEDSURFACEMODEL",1809719519:"IFCFACEBOUND",803316827:"IFCFACEOUTERBOUND",3008276851:"IFCFACESURFACE",807026263:"IFCFACETEDBREP",3737207727:"IFCFACETEDBREPWITHVOIDS",24185140:"IFCFACILITY",1310830890:"IFCFACILITYPART",4219587988:"IFCFAILURECONNECTIONCONDITION",3415622556:"IFCFAN",346874300:"IFCFANTYPE",647756555:"IFCFASTENER",2489546625:"IFCFASTENERTYPE",2827207264:"IFCFEATUREELEMENT",2143335405:"IFCFEATUREELEMENTADDITION",1287392070:"IFCFEATUREELEMENTSUBTRACTION",738692330:"IFCFILLAREASTYLE",374418227:"IFCFILLAREASTYLEHATCHING",315944413:"IFCFILLAREASTYLETILES",819412036:"IFCFILTER",1810631287:"IFCFILTERTYPE",1426591983:"IFCFIRESUPPRESSIONTERMINAL",4222183408:"IFCFIRESUPPRESSIONTERMINALTYPE",2652556860:"IFCFIXEDREFERENCESWEPTAREASOLID",2058353004:"IFCFLOWCONTROLLER",3907093117:"IFCFLOWCONTROLLERTYPE",4278956645:"IFCFLOWFITTING",3198132628:"IFCFLOWFITTINGTYPE",182646315:"IFCFLOWINSTRUMENT",4037862832:"IFCFLOWINSTRUMENTTYPE",2188021234:"IFCFLOWMETER",3815607619:"IFCFLOWMETERTYPE",3132237377:"IFCFLOWMOVINGDEVICE",1482959167:"IFCFLOWMOVINGDEVICETYPE",987401354:"IFCFLOWSEGMENT",1834744321:"IFCFLOWSEGMENTTYPE",707683696:"IFCFLOWSTORAGEDEVICE",1339347760:"IFCFLOWSTORAGEDEVICETYPE",2223149337:"IFCFLOWTERMINAL",2297155007:"IFCFLOWTERMINALTYPE",3508470533:"IFCFLOWTREATMENTDEVICE",3009222698:"IFCFLOWTREATMENTDEVICETYPE",900683007:"IFCFOOTING",1893162501:"IFCFOOTINGTYPE",263784265:"IFCFURNISHINGELEMENT",4238390223:"IFCFURNISHINGELEMENTTYPE",1509553395:"IFCFURNITURE",1268542332:"IFCFURNITURETYPE",3493046030:"IFCGEOGRAPHICELEMENT",4095422895:"IFCGEOGRAPHICELEMENTTYPE",987898635:"IFCGEOMETRICCURVESET",3448662350:"IFCGEOMETRICREPRESENTATIONCONTEXT",2453401579:"IFCGEOMETRICREPRESENTATIONITEM",4142052618:"IFCGEOMETRICREPRESENTATIONSUBCONTEXT",3590301190:"IFCGEOMETRICSET",3009204131:"IFCGRID",852622518:"IFCGRIDAXIS",178086475:"IFCGRIDPLACEMENT",2706460486:"IFCGROUP",812098782:"IFCHALFSPACESOLID",3319311131:"IFCHEATEXCHANGER",1251058090:"IFCHEATEXCHANGERTYPE",2068733104:"IFCHUMIDIFIER",1806887404:"IFCHUMIDIFIERTYPE",1484403080:"IFCISHAPEPROFILEDEF",3905492369:"IFCIMAGETEXTURE",3570813810:"IFCINDEXEDCOLOURMAP",2571569899:"IFCINDEXEDPOLYCURVE",178912537:"IFCINDEXEDPOLYGONALFACE",2294589976:"IFCINDEXEDPOLYGONALFACEWITHVOIDS",1437953363:"IFCINDEXEDTEXTUREMAP",2133299955:"IFCINDEXEDTRIANGLETEXTUREMAP",4175244083:"IFCINTERCEPTOR",3946677679:"IFCINTERCEPTORTYPE",3113134337:"IFCINTERSECTIONCURVE",2391368822:"IFCINVENTORY",3741457305:"IFCIRREGULARTIMESERIES",3020489413:"IFCIRREGULARTIMESERIESVALUE",2176052936:"IFCJUNCTIONBOX",4288270099:"IFCJUNCTIONBOXTYPE",572779678:"IFCLSHAPEPROFILEDEF",3827777499:"IFCLABORRESOURCE",428585644:"IFCLABORRESOURCETYPE",1585845231:"IFCLAGTIME",76236018:"IFCLAMP",1051575348:"IFCLAMPTYPE",2655187982:"IFCLIBRARYINFORMATION",3452421091:"IFCLIBRARYREFERENCE",4162380809:"IFCLIGHTDISTRIBUTIONDATA",629592764:"IFCLIGHTFIXTURE",1161773419:"IFCLIGHTFIXTURETYPE",1566485204:"IFCLIGHTINTENSITYDISTRIBUTION",1402838566:"IFCLIGHTSOURCE",125510826:"IFCLIGHTSOURCEAMBIENT",2604431987:"IFCLIGHTSOURCEDIRECTIONAL",4266656042:"IFCLIGHTSOURCEGONIOMETRIC",1520743889:"IFCLIGHTSOURCEPOSITIONAL",3422422726:"IFCLIGHTSOURCESPOT",1281925730:"IFCLINE",3092502836:"IFCLINESEGMENT2D",388784114:"IFCLINEARPLACEMENT",1154579445:"IFCLINEARPOSITIONINGELEMENT",2624227202:"IFCLOCALPLACEMENT",1008929658:"IFCLOOP",1425443689:"IFCMANIFOLDSOLIDBREP",3057273783:"IFCMAPCONVERSION",2347385850:"IFCMAPPEDITEM",1838606355:"IFCMATERIAL",1847130766:"IFCMATERIALCLASSIFICATIONRELATIONSHIP",3708119e3:"IFCMATERIALCONSTITUENT",2852063980:"IFCMATERIALCONSTITUENTSET",760658860:"IFCMATERIALDEFINITION",2022407955:"IFCMATERIALDEFINITIONREPRESENTATION",248100487:"IFCMATERIALLAYER",3303938423:"IFCMATERIALLAYERSET",1303795690:"IFCMATERIALLAYERSETUSAGE",1847252529:"IFCMATERIALLAYERWITHOFFSETS",2199411900:"IFCMATERIALLIST",2235152071:"IFCMATERIALPROFILE",164193824:"IFCMATERIALPROFILESET",3079605661:"IFCMATERIALPROFILESETUSAGE",3404854881:"IFCMATERIALPROFILESETUSAGETAPERING",552965576:"IFCMATERIALPROFILEWITHOFFSETS",3265635763:"IFCMATERIALPROPERTIES",853536259:"IFCMATERIALRELATIONSHIP",1507914824:"IFCMATERIALUSAGEDEFINITION",2597039031:"IFCMEASUREWITHUNIT",377706215:"IFCMECHANICALFASTENER",2108223431:"IFCMECHANICALFASTENERTYPE",1437502449:"IFCMEDICALDEVICE",1114901282:"IFCMEDICALDEVICETYPE",1073191201:"IFCMEMBER",1911478936:"IFCMEMBERSTANDARDCASE",3181161470:"IFCMEMBERTYPE",3368373690:"IFCMETRIC",2998442950:"IFCMIRROREDPROFILEDEF",2706619895:"IFCMONETARYUNIT",2474470126:"IFCMOTORCONNECTION",977012517:"IFCMOTORCONNECTIONTYPE",1918398963:"IFCNAMEDUNIT",3888040117:"IFCOBJECT",219451334:"IFCOBJECTDEFINITION",3701648758:"IFCOBJECTPLACEMENT",2251480897:"IFCOBJECTIVE",4143007308:"IFCOCCUPANT",590820931:"IFCOFFSETCURVE",3388369263:"IFCOFFSETCURVE2D",3505215534:"IFCOFFSETCURVE3D",2485787929:"IFCOFFSETCURVEBYDISTANCES",2665983363:"IFCOPENSHELL",3588315303:"IFCOPENINGELEMENT",3079942009:"IFCOPENINGSTANDARDCASE",4251960020:"IFCORGANIZATION",1411181986:"IFCORGANIZATIONRELATIONSHIP",643959842:"IFCORIENTATIONEXPRESSION",1029017970:"IFCORIENTEDEDGE",144952367:"IFCOUTERBOUNDARYCURVE",3694346114:"IFCOUTLET",2837617999:"IFCOUTLETTYPE",1207048766:"IFCOWNERHISTORY",2529465313:"IFCPARAMETERIZEDPROFILEDEF",2519244187:"IFCPATH",1682466193:"IFCPCURVE",2382730787:"IFCPERFORMANCEHISTORY",3566463478:"IFCPERMEABLECOVERINGPROPERTIES",3327091369:"IFCPERMIT",2077209135:"IFCPERSON",101040310:"IFCPERSONANDORGANIZATION",3021840470:"IFCPHYSICALCOMPLEXQUANTITY",2483315170:"IFCPHYSICALQUANTITY",2226359599:"IFCPHYSICALSIMPLEQUANTITY",1687234759:"IFCPILE",1158309216:"IFCPILETYPE",310824031:"IFCPIPEFITTING",804291784:"IFCPIPEFITTINGTYPE",3612865200:"IFCPIPESEGMENT",4231323485:"IFCPIPESEGMENTTYPE",597895409:"IFCPIXELTEXTURE",2004835150:"IFCPLACEMENT",603570806:"IFCPLANARBOX",1663979128:"IFCPLANAREXTENT",220341763:"IFCPLANE",3171933400:"IFCPLATE",1156407060:"IFCPLATESTANDARDCASE",4017108033:"IFCPLATETYPE",2067069095:"IFCPOINT",4022376103:"IFCPOINTONCURVE",1423911732:"IFCPOINTONSURFACE",2924175390:"IFCPOLYLOOP",2775532180:"IFCPOLYGONALBOUNDEDHALFSPACE",2839578677:"IFCPOLYGONALFACESET",3724593414:"IFCPOLYLINE",3740093272:"IFCPORT",1946335990:"IFCPOSITIONINGELEMENT",3355820592:"IFCPOSTALADDRESS",759155922:"IFCPREDEFINEDCOLOUR",2559016684:"IFCPREDEFINEDCURVEFONT",3727388367:"IFCPREDEFINEDITEM",3778827333:"IFCPREDEFINEDPROPERTIES",3967405729:"IFCPREDEFINEDPROPERTYSET",1775413392:"IFCPREDEFINEDTEXTFONT",677532197:"IFCPRESENTATIONITEM",2022622350:"IFCPRESENTATIONLAYERASSIGNMENT",1304840413:"IFCPRESENTATIONLAYERWITHSTYLE",3119450353:"IFCPRESENTATIONSTYLE",2417041796:"IFCPRESENTATIONSTYLEASSIGNMENT",2744685151:"IFCPROCEDURE",569719735:"IFCPROCEDURETYPE",2945172077:"IFCPROCESS",4208778838:"IFCPRODUCT",673634403:"IFCPRODUCTDEFINITIONSHAPE",2095639259:"IFCPRODUCTREPRESENTATION",3958567839:"IFCPROFILEDEF",2802850158:"IFCPROFILEPROPERTIES",103090709:"IFCPROJECT",653396225:"IFCPROJECTLIBRARY",2904328755:"IFCPROJECTORDER",3843373140:"IFCPROJECTEDCRS",3651124850:"IFCPROJECTIONELEMENT",2598011224:"IFCPROPERTY",986844984:"IFCPROPERTYABSTRACTION",871118103:"IFCPROPERTYBOUNDEDVALUE",1680319473:"IFCPROPERTYDEFINITION",148025276:"IFCPROPERTYDEPENDENCYRELATIONSHIP",4166981789:"IFCPROPERTYENUMERATEDVALUE",3710013099:"IFCPROPERTYENUMERATION",2752243245:"IFCPROPERTYLISTVALUE",941946838:"IFCPROPERTYREFERENCEVALUE",1451395588:"IFCPROPERTYSET",3357820518:"IFCPROPERTYSETDEFINITION",492091185:"IFCPROPERTYSETTEMPLATE",3650150729:"IFCPROPERTYSINGLEVALUE",110355661:"IFCPROPERTYTABLEVALUE",3521284610:"IFCPROPERTYTEMPLATE",1482703590:"IFCPROPERTYTEMPLATEDEFINITION",738039164:"IFCPROTECTIVEDEVICE",2295281155:"IFCPROTECTIVEDEVICETRIPPINGUNIT",655969474:"IFCPROTECTIVEDEVICETRIPPINGUNITTYPE",1842657554:"IFCPROTECTIVEDEVICETYPE",3219374653:"IFCPROXY",90941305:"IFCPUMP",2250791053:"IFCPUMPTYPE",2044713172:"IFCQUANTITYAREA",2093928680:"IFCQUANTITYCOUNT",931644368:"IFCQUANTITYLENGTH",2090586900:"IFCQUANTITYSET",3252649465:"IFCQUANTITYTIME",2405470396:"IFCQUANTITYVOLUME",825690147:"IFCQUANTITYWEIGHT",2262370178:"IFCRAILING",2893384427:"IFCRAILINGTYPE",3024970846:"IFCRAMP",3283111854:"IFCRAMPFLIGHT",2324767716:"IFCRAMPFLIGHTTYPE",1469900589:"IFCRAMPTYPE",1232101972:"IFCRATIONALBSPLINECURVEWITHKNOTS",683857671:"IFCRATIONALBSPLINESURFACEWITHKNOTS",2770003689:"IFCRECTANGLEHOLLOWPROFILEDEF",3615266464:"IFCRECTANGLEPROFILEDEF",2798486643:"IFCRECTANGULARPYRAMID",3454111270:"IFCRECTANGULARTRIMMEDSURFACE",3915482550:"IFCRECURRENCEPATTERN",2433181523:"IFCREFERENCE",4021432810:"IFCREFERENT",3413951693:"IFCREGULARTIMESERIES",1580146022:"IFCREINFORCEMENTBARPROPERTIES",3765753017:"IFCREINFORCEMENTDEFINITIONPROPERTIES",979691226:"IFCREINFORCINGBAR",2572171363:"IFCREINFORCINGBARTYPE",3027567501:"IFCREINFORCINGELEMENT",964333572:"IFCREINFORCINGELEMENTTYPE",2320036040:"IFCREINFORCINGMESH",2310774935:"IFCREINFORCINGMESHTYPE",160246688:"IFCRELAGGREGATES",3939117080:"IFCRELASSIGNS",1683148259:"IFCRELASSIGNSTOACTOR",2495723537:"IFCRELASSIGNSTOCONTROL",1307041759:"IFCRELASSIGNSTOGROUP",1027710054:"IFCRELASSIGNSTOGROUPBYFACTOR",4278684876:"IFCRELASSIGNSTOPROCESS",2857406711:"IFCRELASSIGNSTOPRODUCT",205026976:"IFCRELASSIGNSTORESOURCE",1865459582:"IFCRELASSOCIATES",4095574036:"IFCRELASSOCIATESAPPROVAL",919958153:"IFCRELASSOCIATESCLASSIFICATION",2728634034:"IFCRELASSOCIATESCONSTRAINT",982818633:"IFCRELASSOCIATESDOCUMENT",3840914261:"IFCRELASSOCIATESLIBRARY",2655215786:"IFCRELASSOCIATESMATERIAL",826625072:"IFCRELCONNECTS",1204542856:"IFCRELCONNECTSELEMENTS",3945020480:"IFCRELCONNECTSPATHELEMENTS",4201705270:"IFCRELCONNECTSPORTTOELEMENT",3190031847:"IFCRELCONNECTSPORTS",2127690289:"IFCRELCONNECTSSTRUCTURALACTIVITY",1638771189:"IFCRELCONNECTSSTRUCTURALMEMBER",504942748:"IFCRELCONNECTSWITHECCENTRICITY",3678494232:"IFCRELCONNECTSWITHREALIZINGELEMENTS",3242617779:"IFCRELCONTAINEDINSPATIALSTRUCTURE",886880790:"IFCRELCOVERSBLDGELEMENTS",2802773753:"IFCRELCOVERSSPACES",2565941209:"IFCRELDECLARES",2551354335:"IFCRELDECOMPOSES",693640335:"IFCRELDEFINES",1462361463:"IFCRELDEFINESBYOBJECT",4186316022:"IFCRELDEFINESBYPROPERTIES",307848117:"IFCRELDEFINESBYTEMPLATE",781010003:"IFCRELDEFINESBYTYPE",3940055652:"IFCRELFILLSELEMENT",279856033:"IFCRELFLOWCONTROLELEMENTS",427948657:"IFCRELINTERFERESELEMENTS",3268803585:"IFCRELNESTS",1441486842:"IFCRELPOSITIONS",750771296:"IFCRELPROJECTSELEMENT",1245217292:"IFCRELREFERENCEDINSPATIALSTRUCTURE",4122056220:"IFCRELSEQUENCE",366585022:"IFCRELSERVICESBUILDINGS",3451746338:"IFCRELSPACEBOUNDARY",3523091289:"IFCRELSPACEBOUNDARY1STLEVEL",1521410863:"IFCRELSPACEBOUNDARY2NDLEVEL",1401173127:"IFCRELVOIDSELEMENT",478536968:"IFCRELATIONSHIP",816062949:"IFCREPARAMETRISEDCOMPOSITECURVESEGMENT",1076942058:"IFCREPRESENTATION",3377609919:"IFCREPRESENTATIONCONTEXT",3008791417:"IFCREPRESENTATIONITEM",1660063152:"IFCREPRESENTATIONMAP",2914609552:"IFCRESOURCE",2943643501:"IFCRESOURCEAPPROVALRELATIONSHIP",1608871552:"IFCRESOURCECONSTRAINTRELATIONSHIP",2439245199:"IFCRESOURCELEVELRELATIONSHIP",1042787934:"IFCRESOURCETIME",1856042241:"IFCREVOLVEDAREASOLID",3243963512:"IFCREVOLVEDAREASOLIDTAPERED",4158566097:"IFCRIGHTCIRCULARCONE",3626867408:"IFCRIGHTCIRCULARCYLINDER",2016517767:"IFCROOF",2781568857:"IFCROOFTYPE",2341007311:"IFCROOT",2778083089:"IFCROUNDEDRECTANGLEPROFILEDEF",448429030:"IFCSIUNIT",3053780830:"IFCSANITARYTERMINAL",1768891740:"IFCSANITARYTERMINALTYPE",1054537805:"IFCSCHEDULINGTIME",2157484638:"IFCSEAMCURVE",2042790032:"IFCSECTIONPROPERTIES",4165799628:"IFCSECTIONREINFORCEMENTPROPERTIES",1862484736:"IFCSECTIONEDSOLID",1290935644:"IFCSECTIONEDSOLIDHORIZONTAL",1509187699:"IFCSECTIONEDSPINE",4086658281:"IFCSENSOR",1783015770:"IFCSENSORTYPE",1329646415:"IFCSHADINGDEVICE",4074543187:"IFCSHADINGDEVICETYPE",867548509:"IFCSHAPEASPECT",3982875396:"IFCSHAPEMODEL",4240577450:"IFCSHAPEREPRESENTATION",4124623270:"IFCSHELLBASEDSURFACEMODEL",3692461612:"IFCSIMPLEPROPERTY",3663146110:"IFCSIMPLEPROPERTYTEMPLATE",4097777520:"IFCSITE",1529196076:"IFCSLAB",3127900445:"IFCSLABELEMENTEDCASE",3027962421:"IFCSLABSTANDARDCASE",2533589738:"IFCSLABTYPE",2609359061:"IFCSLIPPAGECONNECTIONCONDITION",3420628829:"IFCSOLARDEVICE",1072016465:"IFCSOLARDEVICETYPE",723233188:"IFCSOLIDMODEL",3856911033:"IFCSPACE",1999602285:"IFCSPACEHEATER",1305183839:"IFCSPACEHEATERTYPE",3812236995:"IFCSPACETYPE",1412071761:"IFCSPATIALELEMENT",710998568:"IFCSPATIALELEMENTTYPE",2706606064:"IFCSPATIALSTRUCTUREELEMENT",3893378262:"IFCSPATIALSTRUCTUREELEMENTTYPE",463610769:"IFCSPATIALZONE",2481509218:"IFCSPATIALZONETYPE",451544542:"IFCSPHERE",4015995234:"IFCSPHERICALSURFACE",1404847402:"IFCSTACKTERMINAL",3112655638:"IFCSTACKTERMINALTYPE",331165859:"IFCSTAIR",4252922144:"IFCSTAIRFLIGHT",1039846685:"IFCSTAIRFLIGHTTYPE",338393293:"IFCSTAIRTYPE",682877961:"IFCSTRUCTURALACTION",3544373492:"IFCSTRUCTURALACTIVITY",2515109513:"IFCSTRUCTURALANALYSISMODEL",1179482911:"IFCSTRUCTURALCONNECTION",2273995522:"IFCSTRUCTURALCONNECTIONCONDITION",1004757350:"IFCSTRUCTURALCURVEACTION",4243806635:"IFCSTRUCTURALCURVECONNECTION",214636428:"IFCSTRUCTURALCURVEMEMBER",2445595289:"IFCSTRUCTURALCURVEMEMBERVARYING",2757150158:"IFCSTRUCTURALCURVEREACTION",3136571912:"IFCSTRUCTURALITEM",1807405624:"IFCSTRUCTURALLINEARACTION",2162789131:"IFCSTRUCTURALLOAD",385403989:"IFCSTRUCTURALLOADCASE",3478079324:"IFCSTRUCTURALLOADCONFIGURATION",1252848954:"IFCSTRUCTURALLOADGROUP",1595516126:"IFCSTRUCTURALLOADLINEARFORCE",609421318:"IFCSTRUCTURALLOADORRESULT",2668620305:"IFCSTRUCTURALLOADPLANARFORCE",2473145415:"IFCSTRUCTURALLOADSINGLEDISPLACEMENT",1973038258:"IFCSTRUCTURALLOADSINGLEDISPLACEMENTDISTORTION",1597423693:"IFCSTRUCTURALLOADSINGLEFORCE",1190533807:"IFCSTRUCTURALLOADSINGLEFORCEWARPING",2525727697:"IFCSTRUCTURALLOADSTATIC",3408363356:"IFCSTRUCTURALLOADTEMPERATURE",530289379:"IFCSTRUCTURALMEMBER",1621171031:"IFCSTRUCTURALPLANARACTION",2082059205:"IFCSTRUCTURALPOINTACTION",734778138:"IFCSTRUCTURALPOINTCONNECTION",1235345126:"IFCSTRUCTURALPOINTREACTION",3689010777:"IFCSTRUCTURALREACTION",2986769608:"IFCSTRUCTURALRESULTGROUP",3657597509:"IFCSTRUCTURALSURFACEACTION",1975003073:"IFCSTRUCTURALSURFACECONNECTION",3979015343:"IFCSTRUCTURALSURFACEMEMBER",2218152070:"IFCSTRUCTURALSURFACEMEMBERVARYING",603775116:"IFCSTRUCTURALSURFACEREACTION",2830218821:"IFCSTYLEMODEL",3958052878:"IFCSTYLEDITEM",3049322572:"IFCSTYLEDREPRESENTATION",148013059:"IFCSUBCONTRACTRESOURCE",4095615324:"IFCSUBCONTRACTRESOURCETYPE",2233826070:"IFCSUBEDGE",2513912981:"IFCSURFACE",699246055:"IFCSURFACECURVE",2028607225:"IFCSURFACECURVESWEPTAREASOLID",3101698114:"IFCSURFACEFEATURE",2809605785:"IFCSURFACEOFLINEAREXTRUSION",4124788165:"IFCSURFACEOFREVOLUTION",2934153892:"IFCSURFACEREINFORCEMENTAREA",1300840506:"IFCSURFACESTYLE",3303107099:"IFCSURFACESTYLELIGHTING",1607154358:"IFCSURFACESTYLEREFRACTION",1878645084:"IFCSURFACESTYLERENDERING",846575682:"IFCSURFACESTYLESHADING",1351298697:"IFCSURFACESTYLEWITHTEXTURES",626085974:"IFCSURFACETEXTURE",2247615214:"IFCSWEPTAREASOLID",1260650574:"IFCSWEPTDISKSOLID",1096409881:"IFCSWEPTDISKSOLIDPOLYGONAL",230924584:"IFCSWEPTSURFACE",1162798199:"IFCSWITCHINGDEVICE",2315554128:"IFCSWITCHINGDEVICETYPE",2254336722:"IFCSYSTEM",413509423:"IFCSYSTEMFURNITUREELEMENT",1580310250:"IFCSYSTEMFURNITUREELEMENTTYPE",3071757647:"IFCTSHAPEPROFILEDEF",985171141:"IFCTABLE",2043862942:"IFCTABLECOLUMN",531007025:"IFCTABLEROW",812556717:"IFCTANK",5716631:"IFCTANKTYPE",3473067441:"IFCTASK",1549132990:"IFCTASKTIME",2771591690:"IFCTASKTIMERECURRING",3206491090:"IFCTASKTYPE",912023232:"IFCTELECOMADDRESS",3824725483:"IFCTENDON",2347447852:"IFCTENDONANCHOR",3081323446:"IFCTENDONANCHORTYPE",3663046924:"IFCTENDONCONDUIT",2281632017:"IFCTENDONCONDUITTYPE",2415094496:"IFCTENDONTYPE",2387106220:"IFCTESSELLATEDFACESET",901063453:"IFCTESSELLATEDITEM",4282788508:"IFCTEXTLITERAL",3124975700:"IFCTEXTLITERALWITHEXTENT",1447204868:"IFCTEXTSTYLE",1983826977:"IFCTEXTSTYLEFONTMODEL",2636378356:"IFCTEXTSTYLEFORDEFINEDFONT",1640371178:"IFCTEXTSTYLETEXTMODEL",280115917:"IFCTEXTURECOORDINATE",1742049831:"IFCTEXTURECOORDINATEGENERATOR",2552916305:"IFCTEXTUREMAP",1210645708:"IFCTEXTUREVERTEX",3611470254:"IFCTEXTUREVERTEXLIST",1199560280:"IFCTIMEPERIOD",3101149627:"IFCTIMESERIES",581633288:"IFCTIMESERIESVALUE",1377556343:"IFCTOPOLOGICALREPRESENTATIONITEM",1735638870:"IFCTOPOLOGYREPRESENTATION",1935646853:"IFCTOROIDALSURFACE",3825984169:"IFCTRANSFORMER",1692211062:"IFCTRANSFORMERTYPE",2595432518:"IFCTRANSITIONCURVESEGMENT2D",1620046519:"IFCTRANSPORTELEMENT",2097647324:"IFCTRANSPORTELEMENTTYPE",2715220739:"IFCTRAPEZIUMPROFILEDEF",2916149573:"IFCTRIANGULATEDFACESET",1229763772:"IFCTRIANGULATEDIRREGULARNETWORK",3593883385:"IFCTRIMMEDCURVE",3026737570:"IFCTUBEBUNDLE",1600972822:"IFCTUBEBUNDLETYPE",1628702193:"IFCTYPEOBJECT",3736923433:"IFCTYPEPROCESS",2347495698:"IFCTYPEPRODUCT",3698973494:"IFCTYPERESOURCE",427810014:"IFCUSHAPEPROFILEDEF",180925521:"IFCUNITASSIGNMENT",630975310:"IFCUNITARYCONTROLELEMENT",3179687236:"IFCUNITARYCONTROLELEMENTTYPE",4292641817:"IFCUNITARYEQUIPMENT",1911125066:"IFCUNITARYEQUIPMENTTYPE",4207607924:"IFCVALVE",728799441:"IFCVALVETYPE",1417489154:"IFCVECTOR",2799835756:"IFCVERTEX",2759199220:"IFCVERTEXLOOP",1907098498:"IFCVERTEXPOINT",1530820697:"IFCVIBRATIONDAMPER",3956297820:"IFCVIBRATIONDAMPERTYPE",2391383451:"IFCVIBRATIONISOLATOR",3313531582:"IFCVIBRATIONISOLATORTYPE",2769231204:"IFCVIRTUALELEMENT",891718957:"IFCVIRTUALGRIDINTERSECTION",926996030:"IFCVOIDINGFEATURE",2391406946:"IFCWALL",4156078855:"IFCWALLELEMENTEDCASE",3512223829:"IFCWALLSTANDARDCASE",1898987631:"IFCWALLTYPE",4237592921:"IFCWASTETERMINAL",1133259667:"IFCWASTETERMINALTYPE",3304561284:"IFCWINDOW",336235671:"IFCWINDOWLININGPROPERTIES",512836454:"IFCWINDOWPANELPROPERTIES",486154966:"IFCWINDOWSTANDARDCASE",1299126871:"IFCWINDOWSTYLE",4009809668:"IFCWINDOWTYPE",4088093105:"IFCWORKCALENDAR",1028945134:"IFCWORKCONTROL",4218914973:"IFCWORKPLAN",3342526732:"IFCWORKSCHEDULE",1236880293:"IFCWORKTIME",2543172580:"IFCZSHAPEPROFILEDEF",1033361043:"IFCZONE"},gl={aggregates:{name:Jy,relating:"RelatingObject",related:"RelatedObjects",key:"children"},spatial:{name:qy,relating:"RelatingStructure",related:"RelatedElements",key:"children"},psets:{name:$y,relating:"RelatingPropertyDefinition",related:"RelatedObjects",key:"hasPsets"},materials:{name:Qy,relating:"RelatingMaterial",related:"RelatedObjects",key:"hasMaterial"},type:{name:ef,relating:"RelatingType",related:"RelatedObjects",key:"hasType"}},sf=class{constructor(e){this.api=e}getIfcType(e){return ete[e]}getItemProperties(e,i,t=!1){return Gn(this,null,function*(){return this.api.GetLine(e,i,t)})}getPropertySets(e,i,t=!1){return Gn(this,null,function*(){return yield this.getProperty(e,i,t,gl.psets)})}getTypeProperties(e,i,t=!1){return Gn(this,null,function*(){return yield this.getProperty(e,i,t,gl.type)})}getMaterialsProperties(e,i,t=!1){return Gn(this,null,function*(){return yield this.getProperty(e,i,t,gl.materials)})}getSpatialStructure(e,i){return Gn(this,null,function*(){yield this.getAllTypesOfModel(e);const t=yield this.getSpatialTreeChunks(e),n=(yield this.api.GetLineIDsWithType(e,rm)).get(0),r=sf.newIfcProject(n);return yield this.getSpatialNode(e,r,t,i),this.cleanupTypes(),r})}getAllItemsOfType(e,i,t){return Gn(this,null,function*(){let s=[];const n=yield this.api.GetLineIDsWithType(e,i);for(let o=0;o<n.size();o++)s.push(n.get(o));if(!t)return s;const r=[];for(let o=0;o<s.length;o++)r.push(yield this.api.GetLine(e,s[o]));return r})}getProperty(e,i,t=!1,s){return Gn(this,null,function*(){const n=yield this.getAllRelatedItemsOfType(e,i,s),r=[];for(let o=0;o<n.length;o++)r.push(yield this.api.GetLine(e,n[o],t));return r})}getChunks(e,i,t){return Gn(this,null,function*(){const s=yield this.api.GetLineIDsWithType(e,t.name);for(let n=0;n<s.size();n++){const r=yield this.api.GetLine(e,s.get(n),!1);this.saveChunk(i,t,r)}})}static isRelated(e,i,t){const s=i[t.related];return Array.isArray(s)?s.map(r=>r.value).includes(e):s.value===e}static newIfcProject(e){return{expressID:e,type:"IFCPROJECT",children:[]}}getSpatialNode(e,i,t,s){return Gn(this,null,function*(){yield this.getChildren(e,i,t,gl.aggregates,s),yield this.getChildren(e,i,t,gl.spatial,s)})}getChildren(e,i,t,s,n){return Gn(this,null,function*(){const r=t[i.expressID];if(r==null)return;const o=s.key,a=[];for(let l=0;l<r.length;l++){const h=r[l];let c=this.newNode(h);if(n){const u=yield this.getItemProperties(e,c.expressID);c=nm(nm({},u),c)}yield this.getSpatialNode(e,c,t,n),a.push(c)}i[o]=a})}newNode(e){const i=this.getNodeType(e);return{expressID:e,type:i,children:[]}}getNodeType(e){const i=this.types[e];return c3[i]}getSpatialTreeChunks(e){return Gn(this,null,function*(){const i={};return yield this.getChunks(e,i,gl.aggregates),yield this.getChunks(e,i,gl.spatial),i})}saveChunk(e,i,t){const s=t[i.relating].value,n=t[i.related].map(r=>r.value);e[s]==null?e[s]=n:e[s]=e[s].concat(n)}getRelated(e,i,t){const s=e[i.relating];Array.isArray(s)?s.forEach(n=>t.push(n.value)):t.push(s.value)}getAllRelatedItemsOfType(e,i,t){return Gn(this,null,function*(){const s=yield this.api.GetLineIDsWithType(e,t.name),n=[];for(let r=0;r<s.size();r++){const o=yield this.api.GetLine(e,s.get(r));sf.isRelated(i,o,t)&&this.getRelated(o,t,n)}return n})}cleanupTypes(){this.types={}}getAllTypesOfModel(e){return Gn(this,null,function*(){const i={},t=Object.keys(c3).map(s=>parseInt(s));for(let s=0;s<t.length;s++){const n=t[s],r=yield this.api.GetLineIDsWithType(e,n),o=r.size();for(let a=0;a<o;a++)i[r.get(a)]=n}this.types=i})}},om;typeof self<"u"&&self.crossOriginIsolated?om=S_():om=M_();var nf=class{constructor(){this.wasmModule=void 0,this.fs=void 0,this.wasmPath="",this.isWasmPathAbsolute=!1,this.ifcGuidMap=new Map,this.properties=new sf(this)}Init(e){return Gn(this,null,function*(){if(om){let i=(t,s)=>t.endsWith(".wasm")?this.isWasmPathAbsolute?this.wasmPath+t:s+this.wasmPath+t:s+t;this.wasmModule=yield om({noInitialRun:!0,locateFile:e||i}),this.fs=this.wasmModule.FS}else console.error("Could not find wasm module at './web-ifc' from web-ifc-api.ts")})}OpenModel(e,i){let t=nm({COORDINATE_TO_ORIGIN:!1,USE_FAST_BOOLS:!1,CIRCLE_SEGMENTS_LOW:5,CIRCLE_SEGMENTS_MEDIUM:8,CIRCLE_SEGMENTS_HIGH:12,BOOL_ABORT_THRESHOLD:1e4},i),s=0;return this.wasmModule.OpenModel(t,(r,o)=>{let a=Math.min(e.byteLength-s,o),l=this.wasmModule.HEAPU8.subarray(r,r+o),h=e.subarray(s,s+a);return l.set(h),s+=a,a})}CreateModel(e){let i=nm({COORDINATE_TO_ORIGIN:!1,USE_FAST_BOOLS:!1,CIRCLE_SEGMENTS_LOW:5,CIRCLE_SEGMENTS_MEDIUM:8,CIRCLE_SEGMENTS_HIGH:12,BOOL_ABORT_THRESHOLD:1e4},e);return this.wasmModule.CreateModel(i)}ExportFileAsIFC(e){this.wasmModule.ExportFileAsIFC(e);let i=this.fs.readFile("/export.ifc");return this.wasmModule.FS_unlink("/export.ifc"),i}GetGeometry(e,i){return this.wasmModule.GetGeometry(e,i)}GetLine(e,i,t=!1){let s=this.GetRawLineData(e,i),n=S[s.type](s);return t&&this.FlattenLine(e,n),n}GetAndClearErrors(e){return this.wasmModule.GetAndClearErrors(e)}WriteLine(e,i){if(Object.keys(i).forEach(s=>{let n=i[s];if(n&&n.expressID!==void 0)this.WriteLine(e,n),i[s]={type:5,value:n.expressID};else if(Array.isArray(n)&&n.length>0)for(let r=0;r<n.length;r++)n[r].expressID!==void 0&&(this.WriteLine(e,n[r]),i[s][r]={type:5,value:n[r].expressID})}),i.expressID==null||i.type==null||i.ToType===void 0){console.warn("Line object cannot be serialized: ",i);return}let t={ID:i.expressID,type:i.type,arguments:i.ToTape()};this.WriteRawLineData(e,t)}FlattenLine(e,i){Object.keys(i).forEach(t=>{let s=i[t];if(s&&s.type===5)i[t]=this.GetLine(e,s.value,!0);else if(Array.isArray(s)&&s.length>0&&s[0].type===5)for(let n=0;n<s.length;n++)i[t][n]=this.GetLine(e,s[n].value,!0)})}GetRawLineData(e,i){return this.wasmModule.GetLine(e,i)}WriteRawLineData(e,i){return this.wasmModule.WriteLine(e,i.ID,i.type,i.arguments)}GetLineIDsWithType(e,i){return this.wasmModule.GetLineIDsWithType(e,i)}GetAllLines(e){return this.wasmModule.GetAllLines(e)}SetGeometryTransformation(e,i){if(i.length!=16){console.log(`Bad transformation matrix size: ${i.length}`);return}this.wasmModule.SetGeometryTransformation(e,i)}GetCoordinationMatrix(e){return this.wasmModule.GetCoordinationMatrix(e)}GetVertexArray(e,i){return this.getSubArray(this.wasmModule.HEAPF32,e,i)}GetIndexArray(e,i){return this.getSubArray(this.wasmModule.HEAPU32,e,i)}getSubArray(e,i,t){return e.subarray(i/4,i/4+t).slice(0)}CloseModel(e){this.ifcGuidMap.delete(e),this.wasmModule.CloseModel(e)}StreamAllMeshes(e,i){this.wasmModule.StreamAllMeshes(e,i)}StreamAllMeshesWithTypes(e,i,t){this.wasmModule.StreamAllMeshesWithTypes(e,i,t)}IsModelOpen(e){return this.wasmModule.IsModelOpen(e)}LoadAllGeometry(e){return this.wasmModule.LoadAllGeometry(e)}GetFlatMesh(e,i){return this.wasmModule.GetFlatMesh(e,i)}CreateIfcGuidToExpressIdMapping(e){const i=new Map;for(let t=0;t<sx.length;t++){const s=sx[t],n=this.GetLineIDsWithType(e,s),r=n.size();for(let o=0;o<r;o++){const a=n.get(o),h=this.GetLine(e,a).GlobalId.value;i.set(a,h),i.set(h,a)}}this.ifcGuidMap.set(e,i)}SetWasmPath(e,i=!1){this.wasmPath=e,this.isWasmPathAbsolute=i}};function am(e,i=!1){const t=e[0].index!==null,s=new Set(Object.keys(e[0].attributes)),n=new Set(Object.keys(e[0].morphAttributes)),r={},o={},a=e[0].morphTargetsRelative,l=new Yt;let h=0;for(let c=0;c<e.length;++c){const u=e[c];let p=0;if(t!==(u.index!==null))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+c+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(const d in u.attributes){if(!s.has(d))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+c+'. All geometries must have compatible attributes; make sure "'+d+'" attribute exists among all geometries, or in none of them.'),null;r[d]===void 0&&(r[d]=[]),r[d].push(u.attributes[d]),p++}if(p!==s.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+c+". Make sure all geometries have the same number of attributes."),null;if(a!==u.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+c+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(const d in u.morphAttributes){if(!n.has(d))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+c+".  .morphAttributes must be consistent throughout all geometries."),null;o[d]===void 0&&(o[d]=[]),o[d].push(u.morphAttributes[d])}if(l.userData.mergedUserData=l.userData.mergedUserData||[],l.userData.mergedUserData.push(u.userData),i){let d;if(t)d=u.index.count;else if(u.attributes.position!==void 0)d=u.attributes.position.count;else return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+c+". The geometry must have either an index or a position attribute"),null;l.addGroup(h,d,c),h+=d}}if(t){let c=0;const u=[];for(let p=0;p<e.length;++p){const d=e[p].index;for(let T=0;T<d.count;++T)u.push(d.getX(T)+c);c+=e[p].attributes.position.count}l.setIndex(u)}for(const c in r){const u=u3(r[c]);if(!u)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+c+" attribute."),null;l.setAttribute(c,u)}for(const c in o){const u=o[c][0].length;if(u===0)break;l.morphAttributes=l.morphAttributes||{},l.morphAttributes[c]=[];for(let p=0;p<u;++p){const d=[];for(let g=0;g<o[c].length;++g)d.push(o[c][g][p]);const T=u3(d);if(!T)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+c+" morphAttribute."),null;l.morphAttributes[c].push(T)}}return l}function u3(e){let i,t,s,n=0;for(let a=0;a<e.length;++a){const l=e[a];if(l.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported."),null;if(i===void 0&&(i=l.array.constructor),i!==l.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(t===void 0&&(t=l.itemSize),t!==l.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(s===void 0&&(s=l.normalized),s!==l.normalized)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;n+=l.array.length}const r=new i(n);let o=0;for(let a=0;a<e.length;++a)r.set(e[a].array,o),o+=e[a].array.length;return new Gt(r,t,s)}const qn="IfcManager is null!";class Ia extends fi{constructor(){super(...arguments);this.modelID=Ia.modelIdCounter++,this.ifcManager=null,this.mesh=this}static dispose(){Ia.modelIdCounter=0}setIFCManager(i){this.ifcManager=i}setWasmPath(i){if(this.ifcManager===null)throw new Error(qn);this.ifcManager.setWasmPath(i)}close(i){if(this.ifcManager===null)throw new Error(qn);this.ifcManager.close(this.modelID,i)}getExpressId(i,t){if(this.ifcManager===null)throw new Error(qn);return this.ifcManager.getExpressId(i,t)}getAllItemsOfType(i,t){if(this.ifcManager===null)throw new Error(qn);return this.ifcManager.getAllItemsOfType(this.modelID,i,t)}getItemProperties(i,t=!1){if(this.ifcManager===null)throw new Error(qn);return this.ifcManager.getItemProperties(this.modelID,i,t)}getPropertySets(i,t=!1){if(this.ifcManager===null)throw new Error(qn);return this.ifcManager.getPropertySets(this.modelID,i,t)}getTypeProperties(i,t=!1){if(this.ifcManager===null)throw new Error(qn);return this.ifcManager.getTypeProperties(this.modelID,i,t)}getIfcType(i){if(this.ifcManager===null)throw new Error(qn);return this.ifcManager.getIfcType(this.modelID,i)}getSpatialStructure(){if(this.ifcManager===null)throw new Error(qn);return this.ifcManager.getSpatialStructure(this.modelID)}getSubset(i){if(this.ifcManager===null)throw new Error(qn);return this.ifcManager.getSubset(this.modelID,i)}removeSubset(i,t){if(this.ifcManager===null)throw new Error(qn);this.ifcManager.removeSubset(this.modelID,i,t)}createSubset(i){if(this.ifcManager===null)throw new Error(qn);const t={...i,modelID:this.modelID};return this.ifcManager.createSubset(t)}}Ia.modelIdCounter=0;class tte{constructor(i,t){this.state=i,this.BVH=t,this.loadedModels=0,this.optionalCategories={[$h]:!0,[qh]:!1},this.geometriesByMaterials={},this.loadingState={total:0,current:0,step:.1},this.currentWebIfcID=-1,this.currentModelID=-1}async setupOptionalCategories(i){this.optionalCategories=i}async parse(i,t){return this.state.api.wasmModule===void 0&&await this.state.api.Init(),await this.newIfcModel(i),this.loadedModels++,t&&await this.state.api.SetGeometryTransformation(this.currentWebIfcID,t),this.loadAllGeometry(this.currentWebIfcID)}getAndClearErrors(i){}notifyProgress(i,t){this.state.onProgress&&this.state.onProgress({loaded:i,total:t})}async newIfcModel(i){const t=new Uint8Array(i);this.currentWebIfcID=await this.state.api.OpenModel(t,this.state.webIfcSettings),this.currentModelID=this.state.useJSON?this.loadedModels:this.currentWebIfcID,this.state.models[this.currentModelID]={modelID:this.currentModelID,mesh:{},types:{},jsonData:{}}}async loadAllGeometry(i){this.addOptionalCategories(i),await this.initializeLoadingState(i),this.state.api.StreamAllMeshes(i,o=>{this.updateLoadingState(),this.streamMesh(i,o)}),this.notifyLoadingEnded();const t=[],s=[];Object.keys(this.geometriesByMaterials).forEach(o=>{const a=this.geometriesByMaterials[o].geometries,l=am(a);s.push(this.geometriesByMaterials[o].material),t.push(l)});const n=am(t,!0);this.cleanUpGeometryMemory(t),this.BVH&&this.BVH.applyThreeMeshBVH(n);const r=new Ia(n,s);return this.state.models[this.currentModelID].mesh=r,r}async initializeLoadingState(i){const t=await this.state.api.GetLineIDsWithType(i,By);this.loadingState.total=t.size(),this.loadingState.current=0,this.loadingState.step=.1}notifyLoadingEnded(){this.notifyProgress(this.loadingState.total,this.loadingState.total)}updateLoadingState(){if(Math.min(this.loadingState.current++,this.loadingState.total)/this.loadingState.total>=this.loadingState.step){const t=Math.ceil(this.loadingState.total*this.loadingState.step);this.notifyProgress(t,this.loadingState.total),this.loadingState.step+=.1}}addOptionalCategories(i){const t=[];for(let s in this.optionalCategories)if(this.optionalCategories.hasOwnProperty(s)){const n=parseInt(s);this.optionalCategories[n]&&t.push(n)}this.state.api.StreamAllMeshesWithTypes(this.currentWebIfcID,t,s=>{this.streamMesh(i,s)})}streamMesh(i,t){const s=t.geometries,n=s.size();for(let r=0;r<n;r++){const o=s.get(r);let a=this.getPlacedGeometry(i,t.expressID,o),l=a.geometry.applyMatrix4(a.matrix);this.storeGeometryByMaterial(o.color,l)}}getPlacedGeometry(i,t,s){const n=this.getBufferGeometry(i,t,s),r=new fi(n);return r.matrix=this.getMeshMatrix(s.flatTransformation),r.matrixAutoUpdate=!1,r}getBufferGeometry(i,t,s){const n=this.state.api.GetGeometry(i,s.geometryExpressID),r=this.state.api.GetVertexArray(n.GetVertexData(),n.GetVertexDataSize()),o=this.state.api.GetIndexArray(n.GetIndexData(),n.GetIndexDataSize()),a=this.ifcGeometryToBuffer(t,r,o);return n.delete(),a}storeGeometryByMaterial(i,t){let s=`${i.x}${i.y}${i.z}${i.w}`;if(this.geometriesByMaterials[s]){this.geometriesByMaterials[s].geometries.push(t);return}const n=new ge(i.x,i.y,i.z),r=new P0({color:n,side:ds});r.transparent=i.w!==1,r.transparent&&(r.opacity=i.w),this.geometriesByMaterials[s]={material:r,geometries:[t]}}getMeshMatrix(i){const t=new pt;return t.fromArray(i),t}ifcGeometryToBuffer(i,t,s){const n=new Yt,r=new Float32Array(t.length/2),o=new Float32Array(t.length/2),a=new Uint32Array(t.length/6);for(let l=0;l<t.length;l+=6)r[l/2]=t[l],r[l/2+1]=t[l+1],r[l/2+2]=t[l+2],o[l/2]=t[l+3],o[l/2+1]=t[l+4],o[l/2+2]=t[l+5],a[l/6]=i;return n.setAttribute("position",new Gt(r,3)),n.setAttribute("normal",new Gt(o,3)),n.setAttribute("expressID",new Gt(a,1)),n.setIndex(new Gt(s,1)),n}cleanUpGeometryMemory(i){i.forEach(t=>t.dispose()),Object.keys(this.geometriesByMaterials).forEach(t=>{const s=this.geometriesByMaterials[t];s.geometries.forEach(n=>n.dispose()),s.geometries=[],s.material=null}),this.geometriesByMaterials={}}}class ite{constructor(i){this.state=i,this.map={}}generateGeometryIndexMap(i){if(this.map[i])return;const t=this.getGeometry(i),s=this.newItemsMap(i,t);for(const n of t.groups)this.fillItemsWithGroupInfo(n,t,s)}getSubsetID(i,t,s="DEFAULT"){const n=i,r=t?t.uuid:"DEFAULT";return`${n} - ${r} - ${s}`}dispose(){Object.values(this.map).forEach(i=>{i.indexCache=null,i.map=null}),this.map=null}getGeometry(i){const t=this.state.models[i].mesh.geometry;if(!t)throw new Error("Model without geometry.");if(!t.index)throw new Error("Geometry must be indexed");return t}newItemsMap(i,t){const s=t.index.array;return this.map[i]={indexCache:s.slice(0,t.index.array.length),map:new Map},this.map[i]}fillItemsWithGroupInfo(i,t,s){let n=-1;const r=i.materialIndex,o=i.start,a=o+i.count-1;let l=-1,h=-1;for(let c=o;c<=a;c++){const u=t.index.array[c],p=t.attributes.expressID.array[u];if(n===-1&&(n=p,l=c),c===a){this.getMaterialStore(s.map,p,r).push(l,a);break}if(n===p)continue;const T=this.getMaterialStore(s.map,n,r);h=c-1,T.push(l,h),n=p,l=c}}getMaterialStore(i,t,s){i.get(t)===void 0&&i.set(t,{});const n=i.get(t);if(n===void 0)throw new Error("Geometry map generation error");return n[s]===void 0&&(n[s]=[]),n[s]}}class rf{static getAllIndicesOfGroup(i,t,s,n,r=!0){const o=[];for(const a of t){const l=n.map.get(a);if(!l)continue;const h=l[s];!h||rf.getIndexChunk(h,o,s,n,r)}return o}static getIndexChunk(i,t,s,n,r){const o=i.length/2;for(let a=0;a<o;a++){const l=a*2,h=i[l],c=i[l+1];for(let u=h;u<=c;u++)r?t.push(n.indexCache[u]):(t[s]||(t[s]=[]),t[s].push(n.indexCache[u]))}}}class ste{constructor(i,t,s,n){this.state=i,this.items=t,this.subsets=s,this.BVH=n,this.tempIndex=[]}createSubset(i,t){this.items.map[i.modelID]||this.items.generateGeometryIndexMap(i.modelID),this.subsets[t]||this.initializeSubset(i,t),this.filterIndices(i,t),this.constructSubsetByMaterial(i,t),i.ids.forEach(n=>this.subsets[t].ids.add(n)),this.subsets[t].mesh.geometry.setIndex(this.tempIndex),this.tempIndex.length=0;const s=this.subsets[t].mesh;return i.applyBVH&&this.BVH.applyThreeMeshBVH(s.geometry),i.scene&&i.scene.add(s),this.subsets[t].mesh}dispose(){this.tempIndex=[]}initializeSubset(i,t){const s=this.state.models[i.modelID].mesh,n=new Yt;this.initializeSubsetAttributes(n,s),i.material||this.initializeSubsetGroups(n,s);const r=new fi(n,i.material||s.material);r.modelID=i.modelID;const o=Boolean(i.applyBVH);this.subsets[t]={ids:new Set,mesh:r,bvh:o},s.add(r)}initializeSubsetAttributes(i,t){i.setAttribute("position",t.geometry.attributes.position),i.setAttribute("normal",t.geometry.attributes.normal),i.setAttribute("expressID",t.geometry.attributes.expressID),i.setIndex([])}initializeSubsetGroups(i,t){i.groups=JSON.parse(JSON.stringify(t.geometry.groups)),this.resetGroups(i)}filterIndices(i,t){const s=this.subsets[t].mesh.geometry;if(i.removePrevious){s.setIndex([]),this.resetGroups(s);return}const n=s.index.array,r=this.subsets[t].ids;i.ids=i.ids.filter(o=>!r.has(o)),this.tempIndex=Array.from(n)}constructSubsetByMaterial(i,t){const s=this.state.models[i.modelID].mesh,n={count:0};for(let r=0;r<s.geometry.groups.length;r++)this.insertNewIndices(i,t,r,n)}insertNewIndices(i,t,s,n){const r=this.items.map[i.modelID],o=rf.getAllIndicesOfGroup(i.modelID,i.ids,s,r);i.material?o.forEach(a=>this.tempIndex.push(a)):this.insertIndicesAtGroup(t,o,s,n)}insertIndicesAtGroup(i,t,s,n){const r=this.getCurrentGroup(i,s);r.start+=n.count;let o=r.start+r.count;if(n.count+=t.length,t.length>0){let a=o;const l=this.tempIndex.slice(0,a),h=this.tempIndex.slice(a);this.tempIndex=Array.prototype.concat.apply([],[l,t,h]),r.count+=t.length}}getCurrentGroup(i,t){return this.subsets[i].mesh.geometry.groups[t]}resetGroups(i){i.groups.forEach(t=>{t.start=0,t.count=0})}}class nte{constructor(i,t){this.subsets={},this.state=i,this.items=new ite(i),this.BVH=t,this.subsetCreator=new ste(i,this.items,this.subsets,this.BVH)}getAllSubsets(){return this.subsets}getSubset(i,t,s){const n=this.getSubsetID(i,t,s);return this.subsets[n].mesh}removeSubset(i,t,s){const n=this.getSubsetID(i,t,s),r=this.subsets[n];!r||(r.mesh.parent&&r.mesh.removeFromParent(),r.mesh.geometry.attributes={},r.mesh.geometry.index=null,r.mesh.geometry.dispose(),r.mesh.geometry=null,delete this.subsets[n])}createSubset(i){const t=this.getSubsetID(i.modelID,i.material,i.customID);return this.subsetCreator.createSubset(i,t)}removeFromSubset(i,t,s,n){const r=this.getSubsetID(i,n,s);if(!this.subsets[r])return;const o=this.subsets[r].ids;return t.forEach(a=>{o.has(a)&&o.delete(a)}),this.createSubset({modelID:i,removePrevious:!0,material:n,customID:s,applyBVH:this.subsets[r].bvh,ids:Array.from(o),scene:this.subsets[r].mesh.parent})}clearSubset(i,t,s){const n=this.getSubsetID(i,s,t);if(!this.subsets[n])return;this.subsets[n].ids.clear(),this.getSubset(i,s,t).geometry.setIndex([])}dispose(){this.items.dispose(),this.subsetCreator.dispose(),Object.values(this.subsets).forEach(i=>{i.ids=null,i.mesh.removeFromParent();const t=i.mesh.material;Array.isArray(t)?t.forEach(n=>n.dispose()):t.dispose(),i.mesh.geometry.index=null,i.mesh.geometry.dispose();const s=i.mesh.geometry;s.disposeBoundsTree&&s.disposeBoundsTree(),i.mesh=null}),this.subsets=null}getSubsetID(i,t,s="DEFAULT"){const n=i,r=t?t.uuid:"DEFAULT";return`${n} - ${r} - ${s}`}}const p3="expressID",bl={aggregates:{name:Jy,relating:"RelatingObject",related:"RelatedObjects",key:"children"},spatial:{name:qy,relating:"RelatingStructure",related:"RelatedElements",key:"children"},psets:{name:$y,relating:"RelatingPropertyDefinition",related:"RelatedObjects",key:"hasPsets"},materials:{name:Qy,relating:"RelatingMaterial",related:"RelatedObjects",key:"hasMaterial"},type:{name:ef,relating:"RelatingType",related:"RelatedObjects",key:"hasType"}};class of{constructor(i){this.state=i}async getPropertySets(i,t,s=!1){return await this.getProperty(i,t,s,bl.psets)}async getTypeProperties(i,t,s=!1){return await this.getProperty(i,t,s,bl.type)}async getMaterialsProperties(i,t,s=!1){return await this.getProperty(i,t,s,bl.materials)}async getSpatialNode(i,t,s,n){await this.getChildren(i,t,s,bl.aggregates,n),await this.getChildren(i,t,s,bl.spatial,n)}async getChildren(i,t,s,n,r){const o=s[t.expressID];if(o==null)return;const a=n.key,l=[];for(let h=0;h<o.length;h++){const c=o[h];let u=this.newNode(i,c);r&&(u={...await this.getItemProperties(i,u.expressID),...u}),await this.getSpatialNode(i,u,s,r),l.push(u)}t[a]=l}newNode(i,t){const s=this.getNodeType(i,t);return{expressID:t,type:s,children:[]}}async getSpatialTreeChunks(i){const t={};return await this.getChunks(i,t,bl.aggregates),await this.getChunks(i,t,bl.spatial),t}saveChunk(i,t,s){const n=s[t.relating].value,r=s[t.related].map(o=>o.value);i[n]==null?i[n]=r:i[n]=i[n].concat(r)}getRelated(i,t,s){const n=i[t.relating];if(!n)return console.warn(`The object with ID ${i.expressID} has a broken reference.`);Array.isArray(n)?n.forEach(r=>s.push(r.value)):s.push(n.value)}static isRelated(i,t,s){const n=t[s.related];return Array.isArray(n)?n.map(o=>o.value).includes(i):n.value===i}static newIfcProject(i){return{expressID:i,type:"IFCPROJECT",children:[]}}async getProperty(i,t,s=!1,n){}async getChunks(i,t,s){}async getItemProperties(i,t,s=!1){}getNodeType(i,t){}}let af={103090709:"IFCPROJECT",4097777520:"IFCSITE",4031249490:"IFCBUILDING",3124254112:"IFCBUILDINGSTOREY",3856911033:"IFCSPACE",1674181508:"IFCANNOTATION",25142252:"IFCCONTROLLER",32344328:"IFCBOILER",76236018:"IFCLAMP",90941305:"IFCPUMP",177149247:"IFCAIRTERMINALBOX",182646315:"IFCFLOWINSTRUMENT",263784265:"IFCFURNISHINGELEMENT",264262732:"IFCELECTRICGENERATOR",277319702:"IFCAUDIOVISUALAPPLIANCE",310824031:"IFCPIPEFITTING",331165859:"IFCSTAIR",342316401:"IFCDUCTFITTING",377706215:"IFCMECHANICALFASTENER",395920057:"IFCDOOR",402227799:"IFCELECTRICMOTOR",413509423:"IFCSYSTEMFURNITUREELEMENT",484807127:"IFCEVAPORATOR",486154966:"IFCWINDOWSTANDARDCASE",629592764:"IFCLIGHTFIXTURE",630975310:"IFCUNITARYCONTROLELEMENT",635142910:"IFCCABLECARRIERFITTING",639361253:"IFCCOIL",647756555:"IFCFASTENER",707683696:"IFCFLOWSTORAGEDEVICE",738039164:"IFCPROTECTIVEDEVICE",753842376:"IFCBEAM",812556717:"IFCTANK",819412036:"IFCFILTER",843113511:"IFCCOLUMN",862014818:"IFCELECTRICDISTRIBUTIONBOARD",900683007:"IFCFOOTING",905975707:"IFCCOLUMNSTANDARDCASE",926996030:"IFCVOIDINGFEATURE",979691226:"IFCREINFORCINGBAR",987401354:"IFCFLOWSEGMENT",1003880860:"IFCELECTRICTIMECONTROL",1051757585:"IFCCABLEFITTING",1052013943:"IFCDISTRIBUTIONCHAMBERELEMENT",1062813311:"IFCDISTRIBUTIONCONTROLELEMENT",1073191201:"IFCMEMBER",1095909175:"IFCBUILDINGELEMENTPROXY",1156407060:"IFCPLATESTANDARDCASE",1162798199:"IFCSWITCHINGDEVICE",1329646415:"IFCSHADINGDEVICE",1335981549:"IFCDISCRETEACCESSORY",1360408905:"IFCDUCTSILENCER",1404847402:"IFCSTACKTERMINAL",1426591983:"IFCFIRESUPPRESSIONTERMINAL",1437502449:"IFCMEDICALDEVICE",1509553395:"IFCFURNITURE",1529196076:"IFCSLAB",1620046519:"IFCTRANSPORTELEMENT",1634111441:"IFCAIRTERMINAL",1658829314:"IFCENERGYCONVERSIONDEVICE",1677625105:"IFCCIVILELEMENT",1687234759:"IFCPILE",1904799276:"IFCELECTRICAPPLIANCE",1911478936:"IFCMEMBERSTANDARDCASE",1945004755:"IFCDISTRIBUTIONELEMENT",1973544240:"IFCCOVERING",1999602285:"IFCSPACEHEATER",2016517767:"IFCROOF",2056796094:"IFCAIRTOAIRHEATRECOVERY",2058353004:"IFCFLOWCONTROLLER",2068733104:"IFCHUMIDIFIER",2176052936:"IFCJUNCTIONBOX",2188021234:"IFCFLOWMETER",2223149337:"IFCFLOWTERMINAL",2262370178:"IFCRAILING",2272882330:"IFCCONDENSER",2295281155:"IFCPROTECTIVEDEVICETRIPPINGUNIT",2320036040:"IFCREINFORCINGMESH",2347447852:"IFCTENDONANCHOR",2391383451:"IFCVIBRATIONISOLATOR",2391406946:"IFCWALL",2474470126:"IFCMOTORCONNECTION",2769231204:"IFCVIRTUALELEMENT",2814081492:"IFCENGINE",2906023776:"IFCBEAMSTANDARDCASE",2938176219:"IFCBURNER",2979338954:"IFCBUILDINGELEMENTPART",3024970846:"IFCRAMP",3026737570:"IFCTUBEBUNDLE",3027962421:"IFCSLABSTANDARDCASE",3040386961:"IFCDISTRIBUTIONFLOWELEMENT",3053780830:"IFCSANITARYTERMINAL",3079942009:"IFCOPENINGSTANDARDCASE",3087945054:"IFCALARM",3101698114:"IFCSURFACEFEATURE",3127900445:"IFCSLABELEMENTEDCASE",3132237377:"IFCFLOWMOVINGDEVICE",3171933400:"IFCPLATE",3221913625:"IFCCOMMUNICATIONSAPPLIANCE",3242481149:"IFCDOORSTANDARDCASE",3283111854:"IFCRAMPFLIGHT",3296154744:"IFCCHIMNEY",3304561284:"IFCWINDOW",3310460725:"IFCELECTRICFLOWSTORAGEDEVICE",3319311131:"IFCHEATEXCHANGER",3415622556:"IFCFAN",3420628829:"IFCSOLARDEVICE",3493046030:"IFCGEOGRAPHICELEMENT",3495092785:"IFCCURTAINWALL",3508470533:"IFCFLOWTREATMENTDEVICE",3512223829:"IFCWALLSTANDARDCASE",3518393246:"IFCDUCTSEGMENT",3571504051:"IFCCOMPRESSOR",3588315303:"IFCOPENINGELEMENT",3612865200:"IFCPIPESEGMENT",3640358203:"IFCCOOLINGTOWER",3651124850:"IFCPROJECTIONELEMENT",3694346114:"IFCOUTLET",3747195512:"IFCEVAPORATIVECOOLER",3758799889:"IFCCABLECARRIERSEGMENT",3824725483:"IFCTENDON",3825984169:"IFCTRANSFORMER",3902619387:"IFCCHILLER",4074379575:"IFCDAMPER",4086658281:"IFCSENSOR",4123344466:"IFCELEMENTASSEMBLY",4136498852:"IFCCOOLEDBEAM",4156078855:"IFCWALLELEMENTEDCASE",4175244083:"IFCINTERCEPTOR",4207607924:"IFCVALVE",4217484030:"IFCCABLESEGMENT",4237592921:"IFCWASTETERMINAL",4252922144:"IFCSTAIRFLIGHT",4278956645:"IFCFLOWFITTING",4288193352:"IFCACTUATOR",4292641817:"IFCUNITARYEQUIPMENT",3009204131:"IFCGRID"};class lf extends of{async getItemProperties(i,t,s=!1){return this.state.api.GetLine(i,t,s)}async getSpatialStructure(i,t){const s=await this.getSpatialTreeChunks(i),r=(await this.state.api.GetLineIDsWithType(i,rm)).get(0),o=lf.newIfcProject(r);return await this.getSpatialNode(i,o,s,t),o}async getAllItemsOfType(i,t,s){let n=[];const r=await this.state.api.GetLineIDsWithType(i,t);for(let a=0;a<r.size();a++)n.push(r.get(a));if(!s)return n;const o=[];for(let a=0;a<n.length;a++)o.push(await this.state.api.GetLine(i,n[a]));return o}async getProperty(i,t,s=!1,n){const r=await this.getAllRelatedItemsOfType(i,t,n),o=[];for(let a=0;a<r.length;a++)o.push(await this.state.api.GetLine(i,r[a],s));return o}getNodeType(i,t){const s=this.state.models[i].types[t];return af[s]}async getChunks(i,t,s){const n=await this.state.api.GetLineIDsWithType(i,s.name);for(let r=0;r<n.size();r++){const o=await this.state.api.GetLine(i,n.get(r),!1);this.saveChunk(t,s,o)}}async getAllRelatedItemsOfType(i,t,s){const n=await this.state.api.GetLineIDsWithType(i,s.name),r=[];for(let o=0;o<n.size();o++){const a=await this.state.api.GetLine(i,n.get(o));of.isRelated(t,a,s)&&this.getRelated(a,s,r)}return r}}let Il={3821786052:"IFCACTIONREQUEST",2296667514:"IFCACTOR",3630933823:"IFCACTORROLE",4288193352:"IFCACTUATOR",2874132201:"IFCACTUATORTYPE",618182010:"IFCADDRESS",1635779807:"IFCADVANCEDBREP",2603310189:"IFCADVANCEDBREPWITHVOIDS",3406155212:"IFCADVANCEDFACE",1634111441:"IFCAIRTERMINAL",177149247:"IFCAIRTERMINALBOX",1411407467:"IFCAIRTERMINALBOXTYPE",3352864051:"IFCAIRTERMINALTYPE",2056796094:"IFCAIRTOAIRHEATRECOVERY",1871374353:"IFCAIRTOAIRHEATRECOVERYTYPE",3087945054:"IFCALARM",3001207471:"IFCALARMTYPE",325726236:"IFCALIGNMENT",749761778:"IFCALIGNMENT2DHORIZONTAL",3199563722:"IFCALIGNMENT2DHORIZONTALSEGMENT",2483840362:"IFCALIGNMENT2DSEGMENT",3379348081:"IFCALIGNMENT2DVERSEGCIRCULARARC",3239324667:"IFCALIGNMENT2DVERSEGLINE",4263986512:"IFCALIGNMENT2DVERSEGPARABOLICARC",53199957:"IFCALIGNMENT2DVERTICAL",2029264950:"IFCALIGNMENT2DVERTICALSEGMENT",3512275521:"IFCALIGNMENTCURVE",1674181508:"IFCANNOTATION",669184980:"IFCANNOTATIONFILLAREA",639542469:"IFCAPPLICATION",411424972:"IFCAPPLIEDVALUE",130549933:"IFCAPPROVAL",3869604511:"IFCAPPROVALRELATIONSHIP",3798115385:"IFCARBITRARYCLOSEDPROFILEDEF",1310608509:"IFCARBITRARYOPENPROFILEDEF",2705031697:"IFCARBITRARYPROFILEDEFWITHVOIDS",3460190687:"IFCASSET",3207858831:"IFCASYMMETRICISHAPEPROFILEDEF",277319702:"IFCAUDIOVISUALAPPLIANCE",1532957894:"IFCAUDIOVISUALAPPLIANCETYPE",4261334040:"IFCAXIS1PLACEMENT",3125803723:"IFCAXIS2PLACEMENT2D",2740243338:"IFCAXIS2PLACEMENT3D",1967976161:"IFCBSPLINECURVE",2461110595:"IFCBSPLINECURVEWITHKNOTS",2887950389:"IFCBSPLINESURFACE",167062518:"IFCBSPLINESURFACEWITHKNOTS",753842376:"IFCBEAM",2906023776:"IFCBEAMSTANDARDCASE",819618141:"IFCBEAMTYPE",4196446775:"IFCBEARING",3649138523:"IFCBEARINGTYPE",616511568:"IFCBLOBTEXTURE",1334484129:"IFCBLOCK",32344328:"IFCBOILER",231477066:"IFCBOILERTYPE",3649129432:"IFCBOOLEANCLIPPINGRESULT",2736907675:"IFCBOOLEANRESULT",4037036970:"IFCBOUNDARYCONDITION",1136057603:"IFCBOUNDARYCURVE",1560379544:"IFCBOUNDARYEDGECONDITION",3367102660:"IFCBOUNDARYFACECONDITION",1387855156:"IFCBOUNDARYNODECONDITION",2069777674:"IFCBOUNDARYNODECONDITIONWARPING",1260505505:"IFCBOUNDEDCURVE",4182860854:"IFCBOUNDEDSURFACE",2581212453:"IFCBOUNDINGBOX",2713105998:"IFCBOXEDHALFSPACE",644574406:"IFCBRIDGE",963979645:"IFCBRIDGEPART",4031249490:"IFCBUILDING",3299480353:"IFCBUILDINGELEMENT",2979338954:"IFCBUILDINGELEMENTPART",39481116:"IFCBUILDINGELEMENTPARTTYPE",1095909175:"IFCBUILDINGELEMENTPROXY",1909888760:"IFCBUILDINGELEMENTPROXYTYPE",1950629157:"IFCBUILDINGELEMENTTYPE",3124254112:"IFCBUILDINGSTOREY",1177604601:"IFCBUILDINGSYSTEM",2938176219:"IFCBURNER",2188180465:"IFCBURNERTYPE",2898889636:"IFCCSHAPEPROFILEDEF",635142910:"IFCCABLECARRIERFITTING",395041908:"IFCCABLECARRIERFITTINGTYPE",3758799889:"IFCCABLECARRIERSEGMENT",3293546465:"IFCCABLECARRIERSEGMENTTYPE",1051757585:"IFCCABLEFITTING",2674252688:"IFCCABLEFITTINGTYPE",4217484030:"IFCCABLESEGMENT",1285652485:"IFCCABLESEGMENTTYPE",3999819293:"IFCCAISSONFOUNDATION",3203706013:"IFCCAISSONFOUNDATIONTYPE",1123145078:"IFCCARTESIANPOINT",574549367:"IFCCARTESIANPOINTLIST",1675464909:"IFCCARTESIANPOINTLIST2D",2059837836:"IFCCARTESIANPOINTLIST3D",59481748:"IFCCARTESIANTRANSFORMATIONOPERATOR",3749851601:"IFCCARTESIANTRANSFORMATIONOPERATOR2D",3486308946:"IFCCARTESIANTRANSFORMATIONOPERATOR2DNONUNIFORM",3331915920:"IFCCARTESIANTRANSFORMATIONOPERATOR3D",1416205885:"IFCCARTESIANTRANSFORMATIONOPERATOR3DNONUNIFORM",3150382593:"IFCCENTERLINEPROFILEDEF",3902619387:"IFCCHILLER",2951183804:"IFCCHILLERTYPE",3296154744:"IFCCHIMNEY",2197970202:"IFCCHIMNEYTYPE",2611217952:"IFCCIRCLE",2937912522:"IFCCIRCLEHOLLOWPROFILEDEF",1383045692:"IFCCIRCLEPROFILEDEF",1062206242:"IFCCIRCULARARCSEGMENT2D",1677625105:"IFCCIVILELEMENT",3893394355:"IFCCIVILELEMENTTYPE",747523909:"IFCCLASSIFICATION",647927063:"IFCCLASSIFICATIONREFERENCE",2205249479:"IFCCLOSEDSHELL",639361253:"IFCCOIL",2301859152:"IFCCOILTYPE",776857604:"IFCCOLOURRGB",3285139300:"IFCCOLOURRGBLIST",3264961684:"IFCCOLOURSPECIFICATION",843113511:"IFCCOLUMN",905975707:"IFCCOLUMNSTANDARDCASE",300633059:"IFCCOLUMNTYPE",3221913625:"IFCCOMMUNICATIONSAPPLIANCE",400855858:"IFCCOMMUNICATIONSAPPLIANCETYPE",2542286263:"IFCCOMPLEXPROPERTY",3875453745:"IFCCOMPLEXPROPERTYTEMPLATE",3732776249:"IFCCOMPOSITECURVE",15328376:"IFCCOMPOSITECURVEONSURFACE",2485617015:"IFCCOMPOSITECURVESEGMENT",1485152156:"IFCCOMPOSITEPROFILEDEF",3571504051:"IFCCOMPRESSOR",3850581409:"IFCCOMPRESSORTYPE",2272882330:"IFCCONDENSER",2816379211:"IFCCONDENSERTYPE",2510884976:"IFCCONIC",370225590:"IFCCONNECTEDFACESET",1981873012:"IFCCONNECTIONCURVEGEOMETRY",2859738748:"IFCCONNECTIONGEOMETRY",45288368:"IFCCONNECTIONPOINTECCENTRICITY",2614616156:"IFCCONNECTIONPOINTGEOMETRY",2732653382:"IFCCONNECTIONSURFACEGEOMETRY",775493141:"IFCCONNECTIONVOLUMEGEOMETRY",1959218052:"IFCCONSTRAINT",3898045240:"IFCCONSTRUCTIONEQUIPMENTRESOURCE",2185764099:"IFCCONSTRUCTIONEQUIPMENTRESOURCETYPE",1060000209:"IFCCONSTRUCTIONMATERIALRESOURCE",4105962743:"IFCCONSTRUCTIONMATERIALRESOURCETYPE",488727124:"IFCCONSTRUCTIONPRODUCTRESOURCE",1525564444:"IFCCONSTRUCTIONPRODUCTRESOURCETYPE",2559216714:"IFCCONSTRUCTIONRESOURCE",2574617495:"IFCCONSTRUCTIONRESOURCETYPE",3419103109:"IFCCONTEXT",3050246964:"IFCCONTEXTDEPENDENTUNIT",3293443760:"IFCCONTROL",25142252:"IFCCONTROLLER",578613899:"IFCCONTROLLERTYPE",2889183280:"IFCCONVERSIONBASEDUNIT",2713554722:"IFCCONVERSIONBASEDUNITWITHOFFSET",4136498852:"IFCCOOLEDBEAM",335055490:"IFCCOOLEDBEAMTYPE",3640358203:"IFCCOOLINGTOWER",2954562838:"IFCCOOLINGTOWERTYPE",1785450214:"IFCCOORDINATEOPERATION",1466758467:"IFCCOORDINATEREFERENCESYSTEM",3895139033:"IFCCOSTITEM",1419761937:"IFCCOSTSCHEDULE",602808272:"IFCCOSTVALUE",1973544240:"IFCCOVERING",1916426348:"IFCCOVERINGTYPE",3295246426:"IFCCREWRESOURCE",1815067380:"IFCCREWRESOURCETYPE",2506170314:"IFCCSGPRIMITIVE3D",2147822146:"IFCCSGSOLID",539742890:"IFCCURRENCYRELATIONSHIP",3495092785:"IFCCURTAINWALL",1457835157:"IFCCURTAINWALLTYPE",2601014836:"IFCCURVE",2827736869:"IFCCURVEBOUNDEDPLANE",2629017746:"IFCCURVEBOUNDEDSURFACE",1186437898:"IFCCURVESEGMENT2D",3800577675:"IFCCURVESTYLE",1105321065:"IFCCURVESTYLEFONT",2367409068:"IFCCURVESTYLEFONTANDSCALING",3510044353:"IFCCURVESTYLEFONTPATTERN",1213902940:"IFCCYLINDRICALSURFACE",4074379575:"IFCDAMPER",3961806047:"IFCDAMPERTYPE",3426335179:"IFCDEEPFOUNDATION",1306400036:"IFCDEEPFOUNDATIONTYPE",3632507154:"IFCDERIVEDPROFILEDEF",1765591967:"IFCDERIVEDUNIT",1045800335:"IFCDERIVEDUNITELEMENT",2949456006:"IFCDIMENSIONALEXPONENTS",32440307:"IFCDIRECTION",1335981549:"IFCDISCRETEACCESSORY",2635815018:"IFCDISCRETEACCESSORYTYPE",1945343521:"IFCDISTANCEEXPRESSION",1052013943:"IFCDISTRIBUTIONCHAMBERELEMENT",1599208980:"IFCDISTRIBUTIONCHAMBERELEMENTTYPE",562808652:"IFCDISTRIBUTIONCIRCUIT",1062813311:"IFCDISTRIBUTIONCONTROLELEMENT",2063403501:"IFCDISTRIBUTIONCONTROLELEMENTTYPE",1945004755:"IFCDISTRIBUTIONELEMENT",3256556792:"IFCDISTRIBUTIONELEMENTTYPE",3040386961:"IFCDISTRIBUTIONFLOWELEMENT",3849074793:"IFCDISTRIBUTIONFLOWELEMENTTYPE",3041715199:"IFCDISTRIBUTIONPORT",3205830791:"IFCDISTRIBUTIONSYSTEM",1154170062:"IFCDOCUMENTINFORMATION",770865208:"IFCDOCUMENTINFORMATIONRELATIONSHIP",3732053477:"IFCDOCUMENTREFERENCE",395920057:"IFCDOOR",2963535650:"IFCDOORLININGPROPERTIES",1714330368:"IFCDOORPANELPROPERTIES",3242481149:"IFCDOORSTANDARDCASE",526551008:"IFCDOORSTYLE",2323601079:"IFCDOORTYPE",445594917:"IFCDRAUGHTINGPREDEFINEDCOLOUR",4006246654:"IFCDRAUGHTINGPREDEFINEDCURVEFONT",342316401:"IFCDUCTFITTING",869906466:"IFCDUCTFITTINGTYPE",3518393246:"IFCDUCTSEGMENT",3760055223:"IFCDUCTSEGMENTTYPE",1360408905:"IFCDUCTSILENCER",2030761528:"IFCDUCTSILENCERTYPE",3900360178:"IFCEDGE",476780140:"IFCEDGECURVE",1472233963:"IFCEDGELOOP",1904799276:"IFCELECTRICAPPLIANCE",663422040:"IFCELECTRICAPPLIANCETYPE",862014818:"IFCELECTRICDISTRIBUTIONBOARD",2417008758:"IFCELECTRICDISTRIBUTIONBOARDTYPE",3310460725:"IFCELECTRICFLOWSTORAGEDEVICE",3277789161:"IFCELECTRICFLOWSTORAGEDEVICETYPE",264262732:"IFCELECTRICGENERATOR",1534661035:"IFCELECTRICGENERATORTYPE",402227799:"IFCELECTRICMOTOR",1217240411:"IFCELECTRICMOTORTYPE",1003880860:"IFCELECTRICTIMECONTROL",712377611:"IFCELECTRICTIMECONTROLTYPE",1758889154:"IFCELEMENT",4123344466:"IFCELEMENTASSEMBLY",2397081782:"IFCELEMENTASSEMBLYTYPE",1623761950:"IFCELEMENTCOMPONENT",2590856083:"IFCELEMENTCOMPONENTTYPE",1883228015:"IFCELEMENTQUANTITY",339256511:"IFCELEMENTTYPE",2777663545:"IFCELEMENTARYSURFACE",1704287377:"IFCELLIPSE",2835456948:"IFCELLIPSEPROFILEDEF",1658829314:"IFCENERGYCONVERSIONDEVICE",2107101300:"IFCENERGYCONVERSIONDEVICETYPE",2814081492:"IFCENGINE",132023988:"IFCENGINETYPE",3747195512:"IFCEVAPORATIVECOOLER",3174744832:"IFCEVAPORATIVECOOLERTYPE",484807127:"IFCEVAPORATOR",3390157468:"IFCEVAPORATORTYPE",4148101412:"IFCEVENT",211053100:"IFCEVENTTIME",4024345920:"IFCEVENTTYPE",297599258:"IFCEXTENDEDPROPERTIES",4294318154:"IFCEXTERNALINFORMATION",3200245327:"IFCEXTERNALREFERENCE",1437805879:"IFCEXTERNALREFERENCERELATIONSHIP",1209101575:"IFCEXTERNALSPATIALELEMENT",2853485674:"IFCEXTERNALSPATIALSTRUCTUREELEMENT",2242383968:"IFCEXTERNALLYDEFINEDHATCHSTYLE",1040185647:"IFCEXTERNALLYDEFINEDSURFACESTYLE",3548104201:"IFCEXTERNALLYDEFINEDTEXTFONT",477187591:"IFCEXTRUDEDAREASOLID",2804161546:"IFCEXTRUDEDAREASOLIDTAPERED",2556980723:"IFCFACE",2047409740:"IFCFACEBASEDSURFACEMODEL",1809719519:"IFCFACEBOUND",803316827:"IFCFACEOUTERBOUND",3008276851:"IFCFACESURFACE",807026263:"IFCFACETEDBREP",3737207727:"IFCFACETEDBREPWITHVOIDS",24185140:"IFCFACILITY",1310830890:"IFCFACILITYPART",4219587988:"IFCFAILURECONNECTIONCONDITION",3415622556:"IFCFAN",346874300:"IFCFANTYPE",647756555:"IFCFASTENER",2489546625:"IFCFASTENERTYPE",2827207264:"IFCFEATUREELEMENT",2143335405:"IFCFEATUREELEMENTADDITION",1287392070:"IFCFEATUREELEMENTSUBTRACTION",738692330:"IFCFILLAREASTYLE",374418227:"IFCFILLAREASTYLEHATCHING",315944413:"IFCFILLAREASTYLETILES",819412036:"IFCFILTER",1810631287:"IFCFILTERTYPE",1426591983:"IFCFIRESUPPRESSIONTERMINAL",4222183408:"IFCFIRESUPPRESSIONTERMINALTYPE",2652556860:"IFCFIXEDREFERENCESWEPTAREASOLID",2058353004:"IFCFLOWCONTROLLER",3907093117:"IFCFLOWCONTROLLERTYPE",4278956645:"IFCFLOWFITTING",3198132628:"IFCFLOWFITTINGTYPE",182646315:"IFCFLOWINSTRUMENT",4037862832:"IFCFLOWINSTRUMENTTYPE",2188021234:"IFCFLOWMETER",3815607619:"IFCFLOWMETERTYPE",3132237377:"IFCFLOWMOVINGDEVICE",1482959167:"IFCFLOWMOVINGDEVICETYPE",987401354:"IFCFLOWSEGMENT",1834744321:"IFCFLOWSEGMENTTYPE",707683696:"IFCFLOWSTORAGEDEVICE",1339347760:"IFCFLOWSTORAGEDEVICETYPE",2223149337:"IFCFLOWTERMINAL",2297155007:"IFCFLOWTERMINALTYPE",3508470533:"IFCFLOWTREATMENTDEVICE",3009222698:"IFCFLOWTREATMENTDEVICETYPE",900683007:"IFCFOOTING",1893162501:"IFCFOOTINGTYPE",263784265:"IFCFURNISHINGELEMENT",4238390223:"IFCFURNISHINGELEMENTTYPE",1509553395:"IFCFURNITURE",1268542332:"IFCFURNITURETYPE",3493046030:"IFCGEOGRAPHICELEMENT",4095422895:"IFCGEOGRAPHICELEMENTTYPE",987898635:"IFCGEOMETRICCURVESET",3448662350:"IFCGEOMETRICREPRESENTATIONCONTEXT",2453401579:"IFCGEOMETRICREPRESENTATIONITEM",4142052618:"IFCGEOMETRICREPRESENTATIONSUBCONTEXT",3590301190:"IFCGEOMETRICSET",3009204131:"IFCGRID",852622518:"IFCGRIDAXIS",178086475:"IFCGRIDPLACEMENT",2706460486:"IFCGROUP",812098782:"IFCHALFSPACESOLID",3319311131:"IFCHEATEXCHANGER",1251058090:"IFCHEATEXCHANGERTYPE",2068733104:"IFCHUMIDIFIER",1806887404:"IFCHUMIDIFIERTYPE",1484403080:"IFCISHAPEPROFILEDEF",3905492369:"IFCIMAGETEXTURE",3570813810:"IFCINDEXEDCOLOURMAP",2571569899:"IFCINDEXEDPOLYCURVE",178912537:"IFCINDEXEDPOLYGONALFACE",2294589976:"IFCINDEXEDPOLYGONALFACEWITHVOIDS",1437953363:"IFCINDEXEDTEXTUREMAP",2133299955:"IFCINDEXEDTRIANGLETEXTUREMAP",4175244083:"IFCINTERCEPTOR",3946677679:"IFCINTERCEPTORTYPE",3113134337:"IFCINTERSECTIONCURVE",2391368822:"IFCINVENTORY",3741457305:"IFCIRREGULARTIMESERIES",3020489413:"IFCIRREGULARTIMESERIESVALUE",2176052936:"IFCJUNCTIONBOX",4288270099:"IFCJUNCTIONBOXTYPE",572779678:"IFCLSHAPEPROFILEDEF",3827777499:"IFCLABORRESOURCE",428585644:"IFCLABORRESOURCETYPE",1585845231:"IFCLAGTIME",76236018:"IFCLAMP",1051575348:"IFCLAMPTYPE",2655187982:"IFCLIBRARYINFORMATION",3452421091:"IFCLIBRARYREFERENCE",4162380809:"IFCLIGHTDISTRIBUTIONDATA",629592764:"IFCLIGHTFIXTURE",1161773419:"IFCLIGHTFIXTURETYPE",1566485204:"IFCLIGHTINTENSITYDISTRIBUTION",1402838566:"IFCLIGHTSOURCE",125510826:"IFCLIGHTSOURCEAMBIENT",2604431987:"IFCLIGHTSOURCEDIRECTIONAL",4266656042:"IFCLIGHTSOURCEGONIOMETRIC",1520743889:"IFCLIGHTSOURCEPOSITIONAL",3422422726:"IFCLIGHTSOURCESPOT",1281925730:"IFCLINE",3092502836:"IFCLINESEGMENT2D",388784114:"IFCLINEARPLACEMENT",1154579445:"IFCLINEARPOSITIONINGELEMENT",2624227202:"IFCLOCALPLACEMENT",1008929658:"IFCLOOP",1425443689:"IFCMANIFOLDSOLIDBREP",3057273783:"IFCMAPCONVERSION",2347385850:"IFCMAPPEDITEM",1838606355:"IFCMATERIAL",1847130766:"IFCMATERIALCLASSIFICATIONRELATIONSHIP",3708119e3:"IFCMATERIALCONSTITUENT",2852063980:"IFCMATERIALCONSTITUENTSET",760658860:"IFCMATERIALDEFINITION",2022407955:"IFCMATERIALDEFINITIONREPRESENTATION",248100487:"IFCMATERIALLAYER",3303938423:"IFCMATERIALLAYERSET",1303795690:"IFCMATERIALLAYERSETUSAGE",1847252529:"IFCMATERIALLAYERWITHOFFSETS",2199411900:"IFCMATERIALLIST",2235152071:"IFCMATERIALPROFILE",164193824:"IFCMATERIALPROFILESET",3079605661:"IFCMATERIALPROFILESETUSAGE",3404854881:"IFCMATERIALPROFILESETUSAGETAPERING",552965576:"IFCMATERIALPROFILEWITHOFFSETS",3265635763:"IFCMATERIALPROPERTIES",853536259:"IFCMATERIALRELATIONSHIP",1507914824:"IFCMATERIALUSAGEDEFINITION",2597039031:"IFCMEASUREWITHUNIT",377706215:"IFCMECHANICALFASTENER",2108223431:"IFCMECHANICALFASTENERTYPE",1437502449:"IFCMEDICALDEVICE",1114901282:"IFCMEDICALDEVICETYPE",1073191201:"IFCMEMBER",1911478936:"IFCMEMBERSTANDARDCASE",3181161470:"IFCMEMBERTYPE",3368373690:"IFCMETRIC",2998442950:"IFCMIRROREDPROFILEDEF",2706619895:"IFCMONETARYUNIT",2474470126:"IFCMOTORCONNECTION",977012517:"IFCMOTORCONNECTIONTYPE",1918398963:"IFCNAMEDUNIT",3888040117:"IFCOBJECT",219451334:"IFCOBJECTDEFINITION",3701648758:"IFCOBJECTPLACEMENT",2251480897:"IFCOBJECTIVE",4143007308:"IFCOCCUPANT",590820931:"IFCOFFSETCURVE",3388369263:"IFCOFFSETCURVE2D",3505215534:"IFCOFFSETCURVE3D",2485787929:"IFCOFFSETCURVEBYDISTANCES",2665983363:"IFCOPENSHELL",3588315303:"IFCOPENINGELEMENT",3079942009:"IFCOPENINGSTANDARDCASE",4251960020:"IFCORGANIZATION",1411181986:"IFCORGANIZATIONRELATIONSHIP",643959842:"IFCORIENTATIONEXPRESSION",1029017970:"IFCORIENTEDEDGE",144952367:"IFCOUTERBOUNDARYCURVE",3694346114:"IFCOUTLET",2837617999:"IFCOUTLETTYPE",1207048766:"IFCOWNERHISTORY",2529465313:"IFCPARAMETERIZEDPROFILEDEF",2519244187:"IFCPATH",1682466193:"IFCPCURVE",2382730787:"IFCPERFORMANCEHISTORY",3566463478:"IFCPERMEABLECOVERINGPROPERTIES",3327091369:"IFCPERMIT",2077209135:"IFCPERSON",101040310:"IFCPERSONANDORGANIZATION",3021840470:"IFCPHYSICALCOMPLEXQUANTITY",2483315170:"IFCPHYSICALQUANTITY",2226359599:"IFCPHYSICALSIMPLEQUANTITY",1687234759:"IFCPILE",1158309216:"IFCPILETYPE",310824031:"IFCPIPEFITTING",804291784:"IFCPIPEFITTINGTYPE",3612865200:"IFCPIPESEGMENT",4231323485:"IFCPIPESEGMENTTYPE",597895409:"IFCPIXELTEXTURE",2004835150:"IFCPLACEMENT",603570806:"IFCPLANARBOX",1663979128:"IFCPLANAREXTENT",220341763:"IFCPLANE",3171933400:"IFCPLATE",1156407060:"IFCPLATESTANDARDCASE",4017108033:"IFCPLATETYPE",2067069095:"IFCPOINT",4022376103:"IFCPOINTONCURVE",1423911732:"IFCPOINTONSURFACE",2924175390:"IFCPOLYLOOP",2775532180:"IFCPOLYGONALBOUNDEDHALFSPACE",2839578677:"IFCPOLYGONALFACESET",3724593414:"IFCPOLYLINE",3740093272:"IFCPORT",1946335990:"IFCPOSITIONINGELEMENT",3355820592:"IFCPOSTALADDRESS",759155922:"IFCPREDEFINEDCOLOUR",2559016684:"IFCPREDEFINEDCURVEFONT",3727388367:"IFCPREDEFINEDITEM",3778827333:"IFCPREDEFINEDPROPERTIES",3967405729:"IFCPREDEFINEDPROPERTYSET",1775413392:"IFCPREDEFINEDTEXTFONT",677532197:"IFCPRESENTATIONITEM",2022622350:"IFCPRESENTATIONLAYERASSIGNMENT",1304840413:"IFCPRESENTATIONLAYERWITHSTYLE",3119450353:"IFCPRESENTATIONSTYLE",2417041796:"IFCPRESENTATIONSTYLEASSIGNMENT",2744685151:"IFCPROCEDURE",569719735:"IFCPROCEDURETYPE",2945172077:"IFCPROCESS",4208778838:"IFCPRODUCT",673634403:"IFCPRODUCTDEFINITIONSHAPE",2095639259:"IFCPRODUCTREPRESENTATION",3958567839:"IFCPROFILEDEF",2802850158:"IFCPROFILEPROPERTIES",103090709:"IFCPROJECT",653396225:"IFCPROJECTLIBRARY",2904328755:"IFCPROJECTORDER",3843373140:"IFCPROJECTEDCRS",3651124850:"IFCPROJECTIONELEMENT",2598011224:"IFCPROPERTY",986844984:"IFCPROPERTYABSTRACTION",871118103:"IFCPROPERTYBOUNDEDVALUE",1680319473:"IFCPROPERTYDEFINITION",148025276:"IFCPROPERTYDEPENDENCYRELATIONSHIP",4166981789:"IFCPROPERTYENUMERATEDVALUE",3710013099:"IFCPROPERTYENUMERATION",2752243245:"IFCPROPERTYLISTVALUE",941946838:"IFCPROPERTYREFERENCEVALUE",1451395588:"IFCPROPERTYSET",3357820518:"IFCPROPERTYSETDEFINITION",492091185:"IFCPROPERTYSETTEMPLATE",3650150729:"IFCPROPERTYSINGLEVALUE",110355661:"IFCPROPERTYTABLEVALUE",3521284610:"IFCPROPERTYTEMPLATE",1482703590:"IFCPROPERTYTEMPLATEDEFINITION",738039164:"IFCPROTECTIVEDEVICE",2295281155:"IFCPROTECTIVEDEVICETRIPPINGUNIT",655969474:"IFCPROTECTIVEDEVICETRIPPINGUNITTYPE",1842657554:"IFCPROTECTIVEDEVICETYPE",3219374653:"IFCPROXY",90941305:"IFCPUMP",2250791053:"IFCPUMPTYPE",2044713172:"IFCQUANTITYAREA",2093928680:"IFCQUANTITYCOUNT",931644368:"IFCQUANTITYLENGTH",2090586900:"IFCQUANTITYSET",3252649465:"IFCQUANTITYTIME",2405470396:"IFCQUANTITYVOLUME",825690147:"IFCQUANTITYWEIGHT",2262370178:"IFCRAILING",2893384427:"IFCRAILINGTYPE",3024970846:"IFCRAMP",3283111854:"IFCRAMPFLIGHT",2324767716:"IFCRAMPFLIGHTTYPE",1469900589:"IFCRAMPTYPE",1232101972:"IFCRATIONALBSPLINECURVEWITHKNOTS",683857671:"IFCRATIONALBSPLINESURFACEWITHKNOTS",2770003689:"IFCRECTANGLEHOLLOWPROFILEDEF",3615266464:"IFCRECTANGLEPROFILEDEF",2798486643:"IFCRECTANGULARPYRAMID",3454111270:"IFCRECTANGULARTRIMMEDSURFACE",3915482550:"IFCRECURRENCEPATTERN",2433181523:"IFCREFERENCE",4021432810:"IFCREFERENT",3413951693:"IFCREGULARTIMESERIES",1580146022:"IFCREINFORCEMENTBARPROPERTIES",3765753017:"IFCREINFORCEMENTDEFINITIONPROPERTIES",979691226:"IFCREINFORCINGBAR",2572171363:"IFCREINFORCINGBARTYPE",3027567501:"IFCREINFORCINGELEMENT",964333572:"IFCREINFORCINGELEMENTTYPE",2320036040:"IFCREINFORCINGMESH",2310774935:"IFCREINFORCINGMESHTYPE",160246688:"IFCRELAGGREGATES",3939117080:"IFCRELASSIGNS",1683148259:"IFCRELASSIGNSTOACTOR",2495723537:"IFCRELASSIGNSTOCONTROL",1307041759:"IFCRELASSIGNSTOGROUP",1027710054:"IFCRELASSIGNSTOGROUPBYFACTOR",4278684876:"IFCRELASSIGNSTOPROCESS",2857406711:"IFCRELASSIGNSTOPRODUCT",205026976:"IFCRELASSIGNSTORESOURCE",1865459582:"IFCRELASSOCIATES",4095574036:"IFCRELASSOCIATESAPPROVAL",919958153:"IFCRELASSOCIATESCLASSIFICATION",2728634034:"IFCRELASSOCIATESCONSTRAINT",982818633:"IFCRELASSOCIATESDOCUMENT",3840914261:"IFCRELASSOCIATESLIBRARY",2655215786:"IFCRELASSOCIATESMATERIAL",826625072:"IFCRELCONNECTS",1204542856:"IFCRELCONNECTSELEMENTS",3945020480:"IFCRELCONNECTSPATHELEMENTS",4201705270:"IFCRELCONNECTSPORTTOELEMENT",3190031847:"IFCRELCONNECTSPORTS",2127690289:"IFCRELCONNECTSSTRUCTURALACTIVITY",1638771189:"IFCRELCONNECTSSTRUCTURALMEMBER",504942748:"IFCRELCONNECTSWITHECCENTRICITY",3678494232:"IFCRELCONNECTSWITHREALIZINGELEMENTS",3242617779:"IFCRELCONTAINEDINSPATIALSTRUCTURE",886880790:"IFCRELCOVERSBLDGELEMENTS",2802773753:"IFCRELCOVERSSPACES",2565941209:"IFCRELDECLARES",2551354335:"IFCRELDECOMPOSES",693640335:"IFCRELDEFINES",1462361463:"IFCRELDEFINESBYOBJECT",4186316022:"IFCRELDEFINESBYPROPERTIES",307848117:"IFCRELDEFINESBYTEMPLATE",781010003:"IFCRELDEFINESBYTYPE",3940055652:"IFCRELFILLSELEMENT",279856033:"IFCRELFLOWCONTROLELEMENTS",427948657:"IFCRELINTERFERESELEMENTS",3268803585:"IFCRELNESTS",1441486842:"IFCRELPOSITIONS",750771296:"IFCRELPROJECTSELEMENT",1245217292:"IFCRELREFERENCEDINSPATIALSTRUCTURE",4122056220:"IFCRELSEQUENCE",366585022:"IFCRELSERVICESBUILDINGS",3451746338:"IFCRELSPACEBOUNDARY",3523091289:"IFCRELSPACEBOUNDARY1STLEVEL",1521410863:"IFCRELSPACEBOUNDARY2NDLEVEL",1401173127:"IFCRELVOIDSELEMENT",478536968:"IFCRELATIONSHIP",816062949:"IFCREPARAMETRISEDCOMPOSITECURVESEGMENT",1076942058:"IFCREPRESENTATION",3377609919:"IFCREPRESENTATIONCONTEXT",3008791417:"IFCREPRESENTATIONITEM",1660063152:"IFCREPRESENTATIONMAP",2914609552:"IFCRESOURCE",2943643501:"IFCRESOURCEAPPROVALRELATIONSHIP",1608871552:"IFCRESOURCECONSTRAINTRELATIONSHIP",2439245199:"IFCRESOURCELEVELRELATIONSHIP",1042787934:"IFCRESOURCETIME",1856042241:"IFCREVOLVEDAREASOLID",3243963512:"IFCREVOLVEDAREASOLIDTAPERED",4158566097:"IFCRIGHTCIRCULARCONE",3626867408:"IFCRIGHTCIRCULARCYLINDER",2016517767:"IFCROOF",2781568857:"IFCROOFTYPE",2341007311:"IFCROOT",2778083089:"IFCROUNDEDRECTANGLEPROFILEDEF",448429030:"IFCSIUNIT",3053780830:"IFCSANITARYTERMINAL",1768891740:"IFCSANITARYTERMINALTYPE",1054537805:"IFCSCHEDULINGTIME",2157484638:"IFCSEAMCURVE",2042790032:"IFCSECTIONPROPERTIES",4165799628:"IFCSECTIONREINFORCEMENTPROPERTIES",1862484736:"IFCSECTIONEDSOLID",1290935644:"IFCSECTIONEDSOLIDHORIZONTAL",1509187699:"IFCSECTIONEDSPINE",4086658281:"IFCSENSOR",1783015770:"IFCSENSORTYPE",1329646415:"IFCSHADINGDEVICE",4074543187:"IFCSHADINGDEVICETYPE",867548509:"IFCSHAPEASPECT",3982875396:"IFCSHAPEMODEL",4240577450:"IFCSHAPEREPRESENTATION",4124623270:"IFCSHELLBASEDSURFACEMODEL",3692461612:"IFCSIMPLEPROPERTY",3663146110:"IFCSIMPLEPROPERTYTEMPLATE",4097777520:"IFCSITE",1529196076:"IFCSLAB",3127900445:"IFCSLABELEMENTEDCASE",3027962421:"IFCSLABSTANDARDCASE",2533589738:"IFCSLABTYPE",2609359061:"IFCSLIPPAGECONNECTIONCONDITION",3420628829:"IFCSOLARDEVICE",1072016465:"IFCSOLARDEVICETYPE",723233188:"IFCSOLIDMODEL",3856911033:"IFCSPACE",1999602285:"IFCSPACEHEATER",1305183839:"IFCSPACEHEATERTYPE",3812236995:"IFCSPACETYPE",1412071761:"IFCSPATIALELEMENT",710998568:"IFCSPATIALELEMENTTYPE",2706606064:"IFCSPATIALSTRUCTUREELEMENT",3893378262:"IFCSPATIALSTRUCTUREELEMENTTYPE",463610769:"IFCSPATIALZONE",2481509218:"IFCSPATIALZONETYPE",451544542:"IFCSPHERE",4015995234:"IFCSPHERICALSURFACE",1404847402:"IFCSTACKTERMINAL",3112655638:"IFCSTACKTERMINALTYPE",331165859:"IFCSTAIR",4252922144:"IFCSTAIRFLIGHT",1039846685:"IFCSTAIRFLIGHTTYPE",338393293:"IFCSTAIRTYPE",682877961:"IFCSTRUCTURALACTION",3544373492:"IFCSTRUCTURALACTIVITY",2515109513:"IFCSTRUCTURALANALYSISMODEL",1179482911:"IFCSTRUCTURALCONNECTION",2273995522:"IFCSTRUCTURALCONNECTIONCONDITION",1004757350:"IFCSTRUCTURALCURVEACTION",4243806635:"IFCSTRUCTURALCURVECONNECTION",214636428:"IFCSTRUCTURALCURVEMEMBER",2445595289:"IFCSTRUCTURALCURVEMEMBERVARYING",2757150158:"IFCSTRUCTURALCURVEREACTION",3136571912:"IFCSTRUCTURALITEM",1807405624:"IFCSTRUCTURALLINEARACTION",2162789131:"IFCSTRUCTURALLOAD",385403989:"IFCSTRUCTURALLOADCASE",3478079324:"IFCSTRUCTURALLOADCONFIGURATION",1252848954:"IFCSTRUCTURALLOADGROUP",1595516126:"IFCSTRUCTURALLOADLINEARFORCE",609421318:"IFCSTRUCTURALLOADORRESULT",2668620305:"IFCSTRUCTURALLOADPLANARFORCE",2473145415:"IFCSTRUCTURALLOADSINGLEDISPLACEMENT",1973038258:"IFCSTRUCTURALLOADSINGLEDISPLACEMENTDISTORTION",1597423693:"IFCSTRUCTURALLOADSINGLEFORCE",1190533807:"IFCSTRUCTURALLOADSINGLEFORCEWARPING",2525727697:"IFCSTRUCTURALLOADSTATIC",3408363356:"IFCSTRUCTURALLOADTEMPERATURE",530289379:"IFCSTRUCTURALMEMBER",1621171031:"IFCSTRUCTURALPLANARACTION",2082059205:"IFCSTRUCTURALPOINTACTION",734778138:"IFCSTRUCTURALPOINTCONNECTION",1235345126:"IFCSTRUCTURALPOINTREACTION",3689010777:"IFCSTRUCTURALREACTION",2986769608:"IFCSTRUCTURALRESULTGROUP",3657597509:"IFCSTRUCTURALSURFACEACTION",1975003073:"IFCSTRUCTURALSURFACECONNECTION",3979015343:"IFCSTRUCTURALSURFACEMEMBER",2218152070:"IFCSTRUCTURALSURFACEMEMBERVARYING",603775116:"IFCSTRUCTURALSURFACEREACTION",2830218821:"IFCSTYLEMODEL",3958052878:"IFCSTYLEDITEM",3049322572:"IFCSTYLEDREPRESENTATION",148013059:"IFCSUBCONTRACTRESOURCE",4095615324:"IFCSUBCONTRACTRESOURCETYPE",2233826070:"IFCSUBEDGE",2513912981:"IFCSURFACE",699246055:"IFCSURFACECURVE",2028607225:"IFCSURFACECURVESWEPTAREASOLID",3101698114:"IFCSURFACEFEATURE",2809605785:"IFCSURFACEOFLINEAREXTRUSION",4124788165:"IFCSURFACEOFREVOLUTION",2934153892:"IFCSURFACEREINFORCEMENTAREA",1300840506:"IFCSURFACESTYLE",3303107099:"IFCSURFACESTYLELIGHTING",1607154358:"IFCSURFACESTYLEREFRACTION",1878645084:"IFCSURFACESTYLERENDERING",846575682:"IFCSURFACESTYLESHADING",1351298697:"IFCSURFACESTYLEWITHTEXTURES",626085974:"IFCSURFACETEXTURE",2247615214:"IFCSWEPTAREASOLID",1260650574:"IFCSWEPTDISKSOLID",1096409881:"IFCSWEPTDISKSOLIDPOLYGONAL",230924584:"IFCSWEPTSURFACE",1162798199:"IFCSWITCHINGDEVICE",2315554128:"IFCSWITCHINGDEVICETYPE",2254336722:"IFCSYSTEM",413509423:"IFCSYSTEMFURNITUREELEMENT",1580310250:"IFCSYSTEMFURNITUREELEMENTTYPE",3071757647:"IFCTSHAPEPROFILEDEF",985171141:"IFCTABLE",2043862942:"IFCTABLECOLUMN",531007025:"IFCTABLEROW",812556717:"IFCTANK",5716631:"IFCTANKTYPE",3473067441:"IFCTASK",1549132990:"IFCTASKTIME",2771591690:"IFCTASKTIMERECURRING",3206491090:"IFCTASKTYPE",912023232:"IFCTELECOMADDRESS",3824725483:"IFCTENDON",2347447852:"IFCTENDONANCHOR",3081323446:"IFCTENDONANCHORTYPE",3663046924:"IFCTENDONCONDUIT",2281632017:"IFCTENDONCONDUITTYPE",2415094496:"IFCTENDONTYPE",2387106220:"IFCTESSELLATEDFACESET",901063453:"IFCTESSELLATEDITEM",4282788508:"IFCTEXTLITERAL",3124975700:"IFCTEXTLITERALWITHEXTENT",1447204868:"IFCTEXTSTYLE",1983826977:"IFCTEXTSTYLEFONTMODEL",2636378356:"IFCTEXTSTYLEFORDEFINEDFONT",1640371178:"IFCTEXTSTYLETEXTMODEL",280115917:"IFCTEXTURECOORDINATE",1742049831:"IFCTEXTURECOORDINATEGENERATOR",2552916305:"IFCTEXTUREMAP",1210645708:"IFCTEXTUREVERTEX",3611470254:"IFCTEXTUREVERTEXLIST",1199560280:"IFCTIMEPERIOD",3101149627:"IFCTIMESERIES",581633288:"IFCTIMESERIESVALUE",1377556343:"IFCTOPOLOGICALREPRESENTATIONITEM",1735638870:"IFCTOPOLOGYREPRESENTATION",1935646853:"IFCTOROIDALSURFACE",3825984169:"IFCTRANSFORMER",1692211062:"IFCTRANSFORMERTYPE",2595432518:"IFCTRANSITIONCURVESEGMENT2D",1620046519:"IFCTRANSPORTELEMENT",2097647324:"IFCTRANSPORTELEMENTTYPE",2715220739:"IFCTRAPEZIUMPROFILEDEF",2916149573:"IFCTRIANGULATEDFACESET",1229763772:"IFCTRIANGULATEDIRREGULARNETWORK",3593883385:"IFCTRIMMEDCURVE",3026737570:"IFCTUBEBUNDLE",1600972822:"IFCTUBEBUNDLETYPE",1628702193:"IFCTYPEOBJECT",3736923433:"IFCTYPEPROCESS",2347495698:"IFCTYPEPRODUCT",3698973494:"IFCTYPERESOURCE",427810014:"IFCUSHAPEPROFILEDEF",180925521:"IFCUNITASSIGNMENT",630975310:"IFCUNITARYCONTROLELEMENT",3179687236:"IFCUNITARYCONTROLELEMENTTYPE",4292641817:"IFCUNITARYEQUIPMENT",1911125066:"IFCUNITARYEQUIPMENTTYPE",4207607924:"IFCVALVE",728799441:"IFCVALVETYPE",1417489154:"IFCVECTOR",2799835756:"IFCVERTEX",2759199220:"IFCVERTEXLOOP",1907098498:"IFCVERTEXPOINT",1530820697:"IFCVIBRATIONDAMPER",3956297820:"IFCVIBRATIONDAMPERTYPE",2391383451:"IFCVIBRATIONISOLATOR",3313531582:"IFCVIBRATIONISOLATORTYPE",2769231204:"IFCVIRTUALELEMENT",891718957:"IFCVIRTUALGRIDINTERSECTION",926996030:"IFCVOIDINGFEATURE",2391406946:"IFCWALL",4156078855:"IFCWALLELEMENTEDCASE",3512223829:"IFCWALLSTANDARDCASE",1898987631:"IFCWALLTYPE",4237592921:"IFCWASTETERMINAL",1133259667:"IFCWASTETERMINALTYPE",3304561284:"IFCWINDOW",336235671:"IFCWINDOWLININGPROPERTIES",512836454:"IFCWINDOWPANELPROPERTIES",486154966:"IFCWINDOWSTANDARDCASE",1299126871:"IFCWINDOWSTYLE",4009809668:"IFCWINDOWTYPE",4088093105:"IFCWORKCALENDAR",1028945134:"IFCWORKCONTROL",4218914973:"IFCWORKPLAN",3342526732:"IFCWORKSCHEDULE",1236880293:"IFCWORKTIME",2543172580:"IFCZSHAPEPROFILEDEF",1033361043:"IFCZONE"};class lm extends of{async getItemProperties(i,t,s=!1){return{...this.state.models[i].jsonData[t]}}async getSpatialStructure(i,t){const s=await this.getSpatialTreeChunks(i),r=(await this.getAllItemsOfType(i,rm,!1))[0],o=lm.newIfcProject(r);return await this.getSpatialNode(i,o,s,t),{...o}}async getAllItemsOfType(i,t,s){const n=this.state.models[i].jsonData,r=Il[t];if(!r)throw new Error(`Type not found: ${t}`);return this.filterItemsByType(n,r,s)}async getProperty(i,t,s=!1,n){const r=await this.getAllRelatedItemsOfType(i,t,n),o=this.getItemsByID(i,r);return s&&o.forEach(a=>this.getReferencesRecursively(i,a)),o}getNodeType(i,t){return this.state.models[i].jsonData[t].type}async getChunks(i,t,s){(await this.getAllItemsOfType(i,s.name,!0)).forEach(r=>{this.saveChunk(t,s,r)})}filterItemsByType(i,t,s){const n=[];return Object.keys(i).forEach(r=>{const o=parseInt(r);i[o].type.toUpperCase()===t&&n.push(s?{...i[o]}:o)}),n}async getAllRelatedItemsOfType(i,t,s){const n=await this.getAllItemsOfType(i,s.name,!0),r=[];return n.forEach(o=>{lm.isRelated(t,o,s)&&this.getRelated(o,s,r)}),r}getItemsByID(i,t){const s=this.state.models[i].jsonData,n=[];return t.forEach(r=>n.push({...s[r]})),n}getReferencesRecursively(i,t){if(t==null)return;const s=Object.keys(t);for(let n=0;n<s.length;n++){const r=s[n];this.getJSONItem(i,t,r)}}getJSONItem(i,t,s){if(Array.isArray(t[s]))return this.getMultipleJSONItems(i,t,s);t[s]&&t[s].type===5&&(t[s]=this.getItemsByID(i,[t[s].value])[0],this.getReferencesRecursively(i,t[s]))}getMultipleJSONItems(i,t,s){t[s]=t[s].map(n=>(n.type===5&&(n=this.getItemsByID(i,[n.value])[0],this.getReferencesRecursively(i,n)),n))}}const rte=new Set([1123145078,574549367,1675464909,2059837836,3798115385,32440307,3125803723,3207858831,2740243338,2624227202,4240577450,3615266464,3724593414,220341763,477187591,1878645084,1300840506,3303107099,1607154358,1878645084,846575682,1351298697,2417041796,3049322572,3331915920,1416205885,776857604,3285139300,3958052878,2827736869,2732653382,673634403,3448662350,4142052618,2924175390,803316827,2556980723,1809719519,2205249479,807026263,3737207727,1660063152,2347385850,3940055652,2705031697,3732776249,2485617015,2611217952,1704287377,2937912522,2770003689,1281925730,1484403080,3448662350,4142052618,3800577675,4006246654,3590301190,1383045692,2775532180,2047409740,370225590,3593883385,2665983363,4124623270,812098782,3649129432,987898635,1105321065,3510044353,1635779807,2603310189,3406155212,1310608509,4261334040,2736907675,3649129432,1136057603,1260505505,4182860854,2713105998,2898889636,59481748,3749851601,3486308946,3150382593,1062206242,3264961684,15328376,1485152156,370225590,1981873012,2859738748,45288368,2614616156,2732653382,775493141,2147822146,2601014836,2629017746,1186437898,2367409068,1213902940,3632507154,3900360178,476780140,1472233963,2804161546,3008276851,738692330,374418227,315944413,3905492369,3570813810,2571569899,178912537,2294589976,1437953363,2133299955,572779678,3092502836,388784114,2624227202,1425443689,3057273783,2347385850,1682466193,2519244187,2839578677,3958567839,2513912981,2830218821,427810014]);class ote{constructor(i){this.webIfc=i}dispose(){this.webIfc=null}async serializeAllProperties(i,t,s){const n=[];return await this.getPropertiesAsBlobs(i,n,t,s),n}async getPropertiesAsBlobs(i,t,s,n){const r=await this.getAllGeometriesIDs(i);let o=await this.initializePropertiesObject(i);const a=await this.webIfc.GetAllLines(i),l=a.size();let h=.1,c=0;for(let u=0;u<l;u++){const p=a.get(u);r.has(p)||(await this.getItemProperty(i,p,o),c++),s&&c>s&&(t.push(new Blob([JSON.stringify(o)],{type:"application/json"})),o={},c=0),n&&u/l>h&&(n(u,l),h+=.1)}t.push(new Blob([JSON.stringify(o)],{type:"application/json"}))}async getItemProperty(i,t,s){try{const n=await this.webIfc.GetLine(i,t);n.type&&(n.type=Il[n.type]),this.formatItemProperties(n),s[t]=n}catch{console.log(`There was a problem getting the properties of the item with ID ${t}`)}}formatItemProperties(i){Object.keys(i).forEach(t=>{const s=i[t];s&&s.value!==void 0?i[t]=s.value:Array.isArray(s)&&(i[t]=s.map(n=>n&&n.value?n.value:n))})}async initializePropertiesObject(i){return{coordinationMatrix:await this.webIfc.GetCoordinationMatrix(i),globalHeight:await this.getBuildingHeight(i)}}async getBuildingHeight(i){const t=await this.getBuilding(i);let s;const n=t.ObjectPlacement.PlacementRelTo;return n?s=n.RelativePlacement.Location:s=t.ObjectPlacement.RelativePlacement.Location,s.Coordinates.map(o=>o.value)[2]}async getBuilding(i){const s=(await this.webIfc.GetLineIDsWithType(i,_y)).get(0);return this.webIfc.GetLine(i,s,!0)}async getAllGeometriesIDs(i){const t=new Set,s=Array.from(rte);for(let n=0;n<s.length;n++){const r=s[n],o=await this.webIfc.GetLineIDsWithType(i,r),a=o.size();for(let l=0;l<a;l++)t.add(o.get(l))}return t}}class ate{constructor(i){this.state=i,this.webIfcProps=new lf(i),this.jsonProps=new lm(i),this.currentProps=this.webIfcProps,this.serializer=new ote(this.state.api)}getExpressId(i,t){if(!i.index)throw new Error("Geometry does not have index information.");const s=i.index.array;return i.attributes[p3].getX(s[3*t])}async getItemProperties(i,t,s=!1){return this.updateCurrentProps(),this.currentProps.getItemProperties(i,t,s)}async getAllItemsOfType(i,t,s){return this.updateCurrentProps(),this.currentProps.getAllItemsOfType(i,t,s)}async getPropertySets(i,t,s=!1){return this.updateCurrentProps(),this.currentProps.getPropertySets(i,t,s)}async getTypeProperties(i,t,s=!1){return this.updateCurrentProps(),this.currentProps.getTypeProperties(i,t,s)}async getMaterialsProperties(i,t,s=!1){return this.updateCurrentProps(),this.currentProps.getMaterialsProperties(i,t,s)}async getSpatialStructure(i,t){return this.updateCurrentProps(),!this.state.useJSON&&t&&console.warn("Including properties in getSpatialStructure with the JSON workflow disabled can lead to poor performance."),await this.currentProps.getSpatialStructure(i,t)}updateCurrentProps(){this.currentProps=this.state.useJSON?this.jsonProps:this.webIfcProps}}class lte{constructor(i){this.state=i,this.state=i}async getAllTypes(i){for(let t in this.state.models)if(this.state.models.hasOwnProperty(t)){const s=this.state.models[t].types;Object.keys(s).length==0&&await this.getAllTypesOfModel(parseInt(t),i)}}async getAllTypesOfModel(i,t){const s={},n=Object.keys(af).map(r=>parseInt(r));for(let r=0;r<n.length;r++){const o=n[r],a=await this.state.api.GetLineIDsWithType(i,o),l=a.size();for(let h=0;h<l;h++)s[a.get(h)]=o}this.state.worker.active&&t&&await t.workerState.updateModelStateTypes(i,s),this.state.models[i].types=s}}class hte{initializeMeshBVH(i,t,s){this.computeBoundsTree=i,this.disposeBoundsTree=t,this.acceleratedRaycast=s,this.setupThreeMeshBVH()}applyThreeMeshBVH(i){this.computeBoundsTree&&i.computeBoundsTree()}setupThreeMeshBVH(){!this.computeBoundsTree||!this.disposeBoundsTree||!this.acceleratedRaycast||(Yt.prototype.computeBoundsTree=this.computeBoundsTree,Yt.prototype.disposeBoundsTree=this.disposeBoundsTree,fi.prototype.raycast=this.acceleratedRaycast)}}var kt;(function(e){e.updateStateUseJson="updateStateUseJson",e.updateStateWebIfcSettings="updateStateWebIfcSettings",e.updateModelStateTypes="updateModelStateTypes",e.updateModelStateJsonData="updateModelStateJsonData",e.loadJsonDataFromWorker="loadJsonDataFromWorker",e.dispose="dispose",e.Close="Close",e.DisposeWebIfc="DisposeWebIfc",e.Init="Init",e.OpenModel="OpenModel",e.CreateModel="CreateModel",e.ExportFileAsIFC="ExportFileAsIFC",e.GetGeometry="GetGeometry",e.GetLine="GetLine",e.GetAndClearErrors="GetAndClearErrors",e.WriteLine="WriteLine",e.FlattenLine="FlattenLine",e.GetRawLineData="GetRawLineData",e.WriteRawLineData="WriteRawLineData",e.GetLineIDsWithType="GetLineIDsWithType",e.GetAllLines="GetAllLines",e.SetGeometryTransformation="SetGeometryTransformation",e.GetCoordinationMatrix="GetCoordinationMatrix",e.GetVertexArray="GetVertexArray",e.GetIndexArray="GetIndexArray",e.getSubArray="getSubArray",e.CloseModel="CloseModel",e.StreamAllMeshes="StreamAllMeshes",e.StreamAllMeshesWithTypes="StreamAllMeshesWithTypes",e.IsModelOpen="IsModelOpen",e.LoadAllGeometry="LoadAllGeometry",e.GetFlatMesh="GetFlatMesh",e.SetWasmPath="SetWasmPath",e.parse="parse",e.setupOptionalCategories="setupOptionalCategories",e.getExpressId="getExpressId",e.initializeProperties="initializeProperties",e.getAllItemsOfType="getAllItemsOfType",e.getItemProperties="getItemProperties",e.getMaterialsProperties="getMaterialsProperties",e.getPropertySets="getPropertySets",e.getSpatialStructure="getSpatialStructure",e.getTypeProperties="getTypeProperties"})(kt||(kt={}));var Mo;(function(e){e.workerState="workerState",e.webIfc="webIfc",e.properties="properties",e.parser="parser"})(Mo||(Mo={}));class cte{constructor(i){this._data={},this._size=i.size,Object.keys(i).filter(s=>s.indexOf("size")===-1).map(s=>parseInt(s)).forEach(s=>this._data[s]=i[s])}size(){return this._size}get(i){return this._data[i]}}class ute{constructor(i){this._GetVertexData=i.GetVertexData,this._GetVertexDataSize=i.GetVertexDataSize,this._GetIndexData=i.GetIndexData,this._GetIndexDataSize=i.GetIndexDataSize}GetVertexData(){return this._GetVertexData}GetVertexDataSize(){return this._GetVertexDataSize}GetIndexData(){return this._GetIndexData}GetIndexDataSize(){return this._GetIndexDataSize}}class pte{constructor(i,t){this.expressID=t.expressID,this.geometries=i.reconstructVector(t.geometries)}}class dte{constructor(i,t){this._data={},this._size=t.size,Object.keys(t).filter(n=>n.indexOf("size")===-1).map(n=>parseInt(n)).forEach(n=>this._data[n]=i.reconstructFlatMesh(t[n]))}size(){return this._size}get(i){return this._data[i]}}class d3{constructor(i){this.color=[i.color.r,i.color.g,i.color.b],this.opacity=i.opacity,this.transparent=i.transparent}}class mte{static new(i){return new P0({color:new ge(i.color[0],i.color[1],i.color[2]),opacity:i.opacity,transparent:i.transparent,side:ds})}}class yte{constructor(i){var t,s,n,r;this.position=((t=i.attributes.position)===null||t===void 0?void 0:t.array)||[],this.normal=((s=i.attributes.normal)===null||s===void 0?void 0:s.array)||[],this.expressID=((n=i.attributes.expressID)===null||n===void 0?void 0:n.array)||[],this.index=((r=i.index)===null||r===void 0?void 0:r.array)||[],this.groups=i.groups}}class Du{static new(i){const t=new Yt;return Du.set(t,"expressID",new Uint32Array(i.expressID),1),Du.set(t,"position",new Float32Array(i.position),3),Du.set(t,"normal",new Float32Array(i.normal),3),t.setIndex(Array.from(i.index)),t.groups=i.groups,t}static set(i,t,s,n){s.length>0&&i.setAttribute(t,new Gt(s,n))}}class fte{constructor(i){this.materials=[],this.modelID=i.modelID,this.geometry=new yte(i.geometry),Array.isArray(i.material)?i.material.forEach(t=>{this.materials.push(new d3(t))}):this.materials.push(new d3(i.material))}}class hf{static new(i){const t=new Ia;return t.modelID=i.modelID,t.geometry=Du.new(i.geometry),hf.getMaterials(i,t),t}static getMaterials(i,t){t.material=[];const s=t.material;i.materials.forEach(n=>{s.push(mte.new(n))})}}class Tte{serializeVector(i){const t=i.size(),s={size:t};for(let n=0;n<t;n++)s[n]=i.get(n);return s}reconstructVector(i){return new cte(i)}serializeIfcGeometry(i){const t=i.GetVertexData(),s=i.GetVertexDataSize(),n=i.GetIndexData(),r=i.GetIndexDataSize();return{GetVertexData:t,GetVertexDataSize:s,GetIndexData:n,GetIndexDataSize:r}}reconstructIfcGeometry(i){return new ute(i)}serializeFlatMesh(i){return{expressID:i.expressID,geometries:this.serializeVector(i.geometries)}}reconstructFlatMesh(i){return new pte(this,i)}serializeFlatMeshVector(i){const t=i.size(),s={size:t};for(let n=0;n<t;n++){const r=i.get(n);s[n]=this.serializeFlatMesh(r)}return s}reconstructFlatMeshVector(i){return new dte(this,i)}serializeIfcModel(i){return new fte(i)}reconstructIfcModel(i){return hf.new(i)}}class gte{constructor(i){this.handler=i,this.API=Mo.properties}getExpressId(i,t){if(!i.index)throw new Error("Geometry does not have index information.");const s=i.index.array;return i.attributes[p3].getX(s[3*t])}getAllItemsOfType(i,t,s){return this.handler.request(this.API,kt.getAllItemsOfType,{modelID:i,type:t,verbose:s})}getItemProperties(i,t,s){return this.handler.request(this.API,kt.getItemProperties,{modelID:i,elementID:t,recursive:s})}getMaterialsProperties(i,t,s){return this.handler.request(this.API,kt.getMaterialsProperties,{modelID:i,elementID:t,recursive:s})}getPropertySets(i,t,s){return this.handler.request(this.API,kt.getPropertySets,{modelID:i,elementID:t,recursive:s})}getTypeProperties(i,t,s){return this.handler.request(this.API,kt.getTypeProperties,{modelID:i,elementID:t,recursive:s})}getSpatialStructure(i,t){return this.handler.request(this.API,kt.getSpatialStructure,{modelID:i,includeProperties:t})}}class bte{constructor(i,t){this.handler=i,this.serializer=t,this.API=Mo.webIfc}async Init(){return this.wasmModule=!0,this.handler.request(this.API,kt.Init)}async OpenModel(i,t){return this.handler.request(this.API,kt.OpenModel,{data:i,settings:t})}async CreateModel(i){return this.handler.request(this.API,kt.CreateModel,{settings:i})}async ExportFileAsIFC(i){return this.handler.request(this.API,kt.ExportFileAsIFC,{modelID:i})}async GetGeometry(i,t){return this.handler.serializeHandlers[this.handler.requestID]=s=>this.serializer.reconstructIfcGeometry(s),this.handler.request(this.API,kt.GetGeometry,{modelID:i,geometryExpressID:t})}async GetLine(i,t,s){return this.handler.request(this.API,kt.GetLine,{modelID:i,expressID:t,flatten:s})}async GetAndClearErrors(i){return this.handler.serializeHandlers[this.handler.requestID]=t=>this.serializer.reconstructVector(t),this.handler.request(this.API,kt.GetAndClearErrors,{modelID:i})}async WriteLine(i,t){return this.handler.request(this.API,kt.WriteLine,{modelID:i,lineObject:t})}async FlattenLine(i,t){return this.handler.request(this.API,kt.FlattenLine,{modelID:i,line:t})}async GetRawLineData(i,t){return this.handler.request(this.API,kt.GetRawLineData,{modelID:i,expressID:t})}async WriteRawLineData(i,t){return this.handler.request(this.API,kt.WriteRawLineData,{modelID:i,data:t})}async GetLineIDsWithType(i,t){return this.handler.serializeHandlers[this.handler.requestID]=s=>this.serializer.reconstructVector(s),this.handler.request(this.API,kt.GetLineIDsWithType,{modelID:i,type:t})}async GetAllLines(i){return this.handler.serializeHandlers[this.handler.requestID]=t=>this.serializer.reconstructVector(t),this.handler.request(this.API,kt.GetAllLines,{modelID:i})}async SetGeometryTransformation(i,t){return this.handler.request(this.API,kt.SetGeometryTransformation,{modelID:i,transformationMatrix:t})}async GetCoordinationMatrix(i){return this.handler.request(this.API,kt.GetCoordinationMatrix,{modelID:i})}async GetVertexArray(i,t){return this.handler.request(this.API,kt.GetVertexArray,{ptr:i,size:t})}async GetIndexArray(i,t){return this.handler.request(this.API,kt.GetIndexArray,{ptr:i,size:t})}async getSubArray(i,t,s){return this.handler.request(this.API,kt.getSubArray,{heap:i,startPtr:t,sizeBytes:s})}async CloseModel(i){return this.handler.request(this.API,kt.CloseModel,{modelID:i})}async StreamAllMeshes(i,t){return this.handler.callbackHandlers[this.handler.requestID]={action:t,serializer:this.serializer.reconstructFlatMesh},this.handler.request(this.API,kt.StreamAllMeshes,{modelID:i})}async StreamAllMeshesWithTypes(i,t,s){return this.handler.callbackHandlers[this.handler.requestID]={action:s,serializer:this.serializer.reconstructFlatMesh},this.handler.request(this.API,kt.StreamAllMeshesWithTypes,{modelID:i,types:t})}async IsModelOpen(i){return this.handler.request(this.API,kt.IsModelOpen,{modelID:i})}async LoadAllGeometry(i){return this.handler.serializeHandlers[this.handler.requestID]=t=>this.serializer.reconstructFlatMeshVector(t),this.handler.request(this.API,kt.LoadAllGeometry,{modelID:i})}async GetFlatMesh(i,t){return this.handler.serializeHandlers[this.handler.requestID]=s=>this.serializer.reconstructFlatMesh(s),this.handler.request(this.API,kt.GetFlatMesh,{modelID:i,expressID:t})}async SetWasmPath(i){return this.handler.request(this.API,kt.SetWasmPath,{path:i})}}class Ite{constructor(i){this.handler=i,this.API=Mo.workerState,this.state=this.handler.state}async updateStateUseJson(){const i=this.state.useJSON;return this.handler.request(this.API,kt.updateStateUseJson,{useJson:i})}async updateStateWebIfcSettings(){const i=this.state.webIfcSettings;return this.handler.request(this.API,kt.updateStateWebIfcSettings,{webIfcSettings:i})}async updateModelStateTypes(i,t){return this.handler.request(this.API,kt.updateModelStateTypes,{modelID:i,types:t})}async updateModelStateJsonData(i,t){return this.handler.request(this.API,kt.updateModelStateJsonData,{modelID:i,jsonData:t})}async loadJsonDataFromWorker(i,t){return this.handler.request(this.API,kt.loadJsonDataFromWorker,{modelID:i,path:t})}}var cf;(function(e){e[e.transferIfcModel=0]="transferIfcModel",e[e.transferIndividualItems=1]="transferIndividualItems"})(cf||(cf={}));class La{async save(i,t){const s=La.openOrCreateDB(t);return this.createSchema(s,t),new Promise((n,r)=>{s.onsuccess=()=>this.saveItem(i,s,t,n)})}async load(i){const t=La.openOrCreateDB(i);return new Promise((s,n)=>{t.onsuccess=()=>this.loadItem(t,i,s)})}createSchema(i,t){i.onupgradeneeded=function(){i.result.createObjectStore(t.toString(),{keyPath:"id"})}}saveItem(i,t,s,n){const{db:r,tx:o,store:a}=La.getDBItems(t,s);i.id=s,a.put(i),o.oncomplete=()=>La.closeDB(r,o,n)}loadItem(i,t,s){const{db:n,tx:r,store:o}=La.getDBItems(i,t),a=o.get(t),l=()=>{delete a.result.id,s(a.result)};r.oncomplete=()=>La.closeDB(n,r,l)}static getDBItems(i,t){const s=i.result,n=s.transaction(t.toString(),"readwrite"),r=n.objectStore(t.toString());return{db:s,tx:n,store:r}}static openOrCreateDB(i){return indexedDB.open(i.toString(),1)}static closeDB(i,t,s){i.close(),s("success")}}class Lte{constructor(i,t,s,n){this.handler=i,this.serializer=t,this.BVH=s,this.IDB=n,this.optionalCategories={[$h]:!0,[qh]:!1},this.API=Mo.parser}async setupOptionalCategories(i){return this.optionalCategories=i,this.handler.request(this.API,kt.setupOptionalCategories,{config:i})}async parse(i,t){return this.handler.onprogressHandlers[this.handler.requestID]=s=>{this.handler.state.onProgress&&this.handler.state.onProgress(s)},this.handler.serializeHandlers[this.handler.requestID]=async s=>(this.updateState(s.modelID),this.getModel()),this.handler.request(this.API,kt.parse,{buffer:i,coordinationMatrix:t})}getAndClearErrors(i){}updateState(i){this.handler.state.models[i]={modelID:i,mesh:{},types:{},jsonData:{}}}async getModel(){const i=await this.IDB.load(cf.transferIfcModel),t=this.serializer.reconstructIfcModel(i);return this.BVH.applyThreeMeshBVH(t.geometry),this.handler.state.models[t.modelID].mesh=t,t}}class Ste{constructor(i,t){this.state=i,this.BVH=t,this.requestID=0,this.rejectHandlers={},this.resolveHandlers={},this.serializeHandlers={},this.callbackHandlers={},this.onprogressHandlers={},this.serializer=new Tte,this.IDB=new La,this.workerPath=this.state.worker.path,this.ifcWorker=new Worker(this.workerPath),this.ifcWorker.onmessage=s=>this.handleResponse(s),this.properties=new gte(this),this.parser=new Lte(this,this.serializer,this.BVH,this.IDB),this.webIfc=new bte(this,this.serializer),this.workerState=new Ite(this)}request(i,t,s){const n={worker:i,action:t,args:s,id:this.requestID,result:void 0,onProgress:!1};return new Promise((r,o)=>{this.resolveHandlers[this.requestID]=r,this.rejectHandlers[this.requestID]=o,this.requestID++,this.ifcWorker.postMessage(n)})}async terminate(){await this.request(Mo.workerState,kt.dispose),await this.request(Mo.webIfc,kt.DisposeWebIfc),this.ifcWorker.terminate()}async Close(){await this.request(Mo.webIfc,kt.Close)}handleResponse(i){const t=i.data;if(t.onProgress){this.resolveOnProgress(t);return}this.callHandlers(t),delete this.resolveHandlers[t.id],delete this.rejectHandlers[t.id],delete this.onprogressHandlers[t.id]}callHandlers(i){try{this.resolveSerializations(i),this.resolveCallbacks(i),this.resolveHandlers[i.id](i.result)}catch(t){this.rejectHandlers[i.id](t)}}resolveOnProgress(i){this.onprogressHandlers[i.id]&&(i.result=this.onprogressHandlers[i.id](i.result))}resolveSerializations(i){this.serializeHandlers[i.id]&&(i.result=this.serializeHandlers[i.id](i.result),delete this.serializeHandlers[i.id])}resolveCallbacks(i){if(this.callbackHandlers[i.id]){let t=i.result;this.callbackHandlers[i.id].serializer&&(t=this.callbackHandlers[i.id].serializer(i.result)),this.callbackHandlers[i.id].action(t)}}}class Mte{constructor(i){this.state=i}async dispose(){Object.keys(this.state.models).forEach(i=>{const t=this.state.models[parseInt(i,10)];t.mesh.removeFromParent();const s=t.mesh.geometry;s.disposeBoundsTree&&s.disposeBoundsTree(),s.dispose(),Array.isArray(t.mesh.material)?t.mesh.material.forEach(n=>n.dispose()):t.mesh.material.dispose(),t.mesh=null,t.types=null,t.jsonData=null}),this.state.api=null,this.state.models=null}}class m3{constructor(i){this.state=i,this.map={}}getMapping(){this.map=this.reverseElementMapping(Il)}releaseMapping(){this.map={}}reverseElementMapping(i){let t={};return Object.keys(i).forEach(s=>{t[i[s]]=s}),t}isA(i,t){var s=!1;return t?(Il[i.type]===t.toUpperCase()&&(s=!0),s):Il[i.type]}async byId(i,t){return this.state.api.GetLine(i,t)}async idsByType(i,t){this.getMapping();let s=await this.state.api.GetLineIDsWithType(i,Number(this.map[t.toUpperCase()]));return this.releaseMapping(),s}async byType(i,t){let s=await this.idsByType(i,t);if(s!==null){this.getMapping();let n=[];for(let r=0;r<s.size();r++){let o=await this.byId(i,s.get(r));n.push(o)}return this.releaseMapping(),n}}}class xte{constructor(i){this.state=i,this.isLoaded=!1,this.workPlans={},this.workSchedules={},this.workCalendars={},this.workTimes={},this.recurrencePatterns={},this.timePeriods={},this.tasks={},this.taskTimes={},this.lagTimes={},this.sequences={},this.utils=new m3(this.state)}async load(i){await this.loadTasks(i),await this.loadWorkSchedules(i),await this.loadWorkCalendars(i),await this.loadWorkTimes(i),await this.loadTimePeriods(i),this.isLoaded=!0}async loadWorkSchedules(i){let t=await this.utils.byType(i,"IfcWorkSchedule");for(let s=0;s<t.length;s++){let n=t[s];this.workSchedules[n.expressID]={Id:n.expressID,Name:n.Name.value,Description:n.Description?n.Description.value:"",Creators:[],CreationDate:n.CreationDate?n.CreationDate.value:"",StartTime:n.StartTime?n.StartTime.value:"",FinishTime:n.FinishTime?n.FinishTime.value:"",TotalFloat:n.TotalFloat?n.TotalFloat.value:"",RelatedObjects:[]}}this.loadWorkScheduleRelatedObjects(i)}async loadWorkScheduleRelatedObjects(i){let t=await this.utils.byType(i,"IfcRelAssignsToControl");for(let n=0;n<t.length;n++){let r=t[n],o=await this.utils.byId(i,r.RelatingControl.value),a=r.RelatedObjects;if(this.utils.isA(o,"IfcWorkSchedule"))for(var s=0;s<a.length;s++)this.workSchedules[o.expressID].RelatedObjects.push(a[s].value)}}async loadTasks(i){let t=await this.utils.byType(i,"IfcTask");for(let s=0;s<t.length;s++){let n=t[s];this.tasks[n.expressID]={Id:n.expressID,Name:n.Name?n.Name.value:"",PredefinedType:n.PredefinedType?n.PredefinedType.value:"",TaskTime:n.TaskTime?await this.utils.byId(i,n.TaskTime.value):"",Identification:n.Identification?n.Identification.value:"",IsMilestone:n.IsMilestone?n.IsMilestone.value:"",IsPredecessorTo:[],IsSucessorFrom:[],Inputs:[],Resources:[],Outputs:[],Controls:[],Nests:[],IsNestedBy:[],OperatesOn:[],HasAssignmentsWorkCalendars:[]}}await this.loadTaskSequence(i),await this.loadTaskOutputs(i),await this.loadTaskNesting(i),await this.loadTaskOperations(i),await this.loadAssignementsWorkCalendar(i)}async loadTaskSequence(i){let t=await this.utils.idsByType(i,"IfcRelSequence");for(let s=0;s<t.size();s++){let n=t.get(s);if(n!==0){let r=await this.utils.byId(i,n),o=r.RelatedProcess.value,a=r.RelatingProcess.value;this.tasks[a].IsPredecessorTo.push(r.expressID),this.tasks[o].IsSucessorFrom.push(r.expressID)}}}async loadTaskOutputs(i){let t=await this.utils.byType(i,"IfcRelAssignsToProduct");for(let s=0;s<t.length;s++){let n=t[s],r=await this.utils.byId(i,n.RelatedObjects[0].value);if(this.utils.isA(r,"IfcTask")){let o=await this.utils.byId(i,n.RelatingProduct.value);this.tasks[r.expressID].Outputs.push(o.expressID)}}}async loadTaskNesting(i){let t=await this.utils.byType(i,"IfcRelNests");for(let n=0;n<t.length;n++){let r=t[n],o=await this.utils.byId(i,r.RelatingObject.value);if(this.utils.isA(o,"IfcTask")){let a=r.RelatedObjects;for(var s=0;s<a.length;s++)this.tasks[o.expressID].IsNestedBy.push(a[s].value),this.tasks[a[s].value].Nests.push(o.expressID)}}}async loadTaskOperations(i){let t=await this.utils.byType(i,"IfcRelAssignsToProcess");for(let n=0;n<t.length;n++){let r=t[n],o=await this.utils.byId(i,r.RelatingProcess.value);if(this.utils.isA(o,"IfcTask")){let a=r.RelatedObjects;for(var s=0;s<a.length;s++)this.tasks[o.expressID].OperatesOn.push(a[s].value)}}}async loadAssignementsWorkCalendar(i){let t=await this.utils.byType(i,"IfcRelAssignsToControl");for(let n=0;n<t.length;n++){let r=t[n],o=await this.utils.byId(i,r.RelatingControl.value);if(this.utils.isA(o,"IfcWorkCalendar")){let a=r.RelatedObjects;for(var s=0;s<a.length;s++)this.tasks[a[s].value].HasAssignmentsWorkCalendars.push(o.expressID)}}}async loadWorkCalendars(i){let t=await this.utils.byType(i,"IfcWorkCalendar");for(let s=0;s<t.length;s++){let n=t[s],r={Id:n.expressID,Name:n.Name?n.Name.value:"",Description:n.Description?n.Description.value:"",WorkingTimes:n.WorkingTimes?n.WorkingTimes:[],ExceptionTimes:n.ExceptionTimes?n.ExceptionTimes:[]};this.workCalendars[n.expressID]=r}}async loadWorkTimes(i){let t=await this.utils.byType(i,"IfcWorkTime");for(let s=0;s<t.length;s++){let n=t[s],r={Name:n.Name?n.Name.value:"",RecurrencePattern:n.RecurrencePattern?await this.utils.byId(i,n.RecurrencePattern.value):"",Start:n.Start?new Date(n.Start.value):"",Finish:n.Finish?new Date(n.Finish.value):""};this.workTimes[n.expressID]=r}}async loadTimePeriods(i){let t=await this.utils.byType(i,"IfcTimePeriod");for(let s=0;s<t.length;s++){let n=t[s],r={StartTime:n.StartTime?new Date(n.StartTime.value):"",EndTime:n.EndTime?new Date(n.EndTime.value):""};this.timePeriods[n.expressID]=r}}}class y3{static merge(i,t=!1){const s=[],n=[];for(const o of i){const a=this.mergeGeomsOfSameMaterial(o,t);s.push(a),n.push(a.index.count)}const r=am(s);return this.setupMaterialGroups(n,r),this.cleanUp(s),r}static async mergeGltfMeshes(i){const t=new Yt,s=i[0].geometry.attributes;return this.getMeshesAttributes(t,s),this.getMeshesIndices(t,i),t}static getMeshesAttributes(i,t){i.setAttribute("blockID",t._blockid),i.setAttribute("position",t.position),i.setAttribute("normal",t.normal),i.groups=[]}static getMeshesIndices(i,t){const s={index:0,material:0},n=[];for(const r of t){const o=r.geometry.index;this.getIndicesOfMesh(o,n),this.getMeshGroup(i,s,o),this.cleanUpMesh(r)}i.setIndex(n)}static getMeshGroup(i,t,s){i.groups.push({start:t.index,count:s.count,materialIndex:t.material++}),t.index+=s.count}static cleanUpMesh(i){i.geometry.setIndex([]),i.geometry.attributes={},i.geometry.dispose()}static getIndicesOfMesh(i,t){for(const s of i.array)t.push(s)}static cleanUp(i){i.forEach(t=>t.dispose()),i.length=0}static setupMaterialGroups(i,t){let s=0,n=0;for(const r of i){const o={start:s,count:r,materialIndex:n++};t.groups.push(o),s+=r}}static mergeGeomsOfSameMaterial(i,t){this.checkAllGeometriesAreIndexed(i),t&&this.splitByBlocks(i);const s=am(i);return this.cleanUp(i),s}static splitByBlocks(i){let t=0;for(const s of i){const n=s.attributes.position.count,r=new Uint8Array(n).fill(t++);s.setAttribute("blockID",new Gt(r,1))}}static checkAllGeometriesAreIndexed(i){for(const t of i)if(!t.index)throw new Error("All geometries must be indexed!")}}class f3{constructor(i=0,t=0,s=0,n=1){this.x=i,this.y=t,this.z=s,this.w=n}get width(){return this.z}set width(i){this.z=i}get height(){return this.w}set height(i){this.w=i}set(i,t,s,n){return this.x=i,this.y=t,this.z=s,this.w=n,this}setScalar(i){return this.x=i,this.y=i,this.z=i,this.w=i,this}setX(i){return this.x=i,this}setY(i){return this.y=i,this}setZ(i){return this.z=i,this}setW(i){return this.w=i,this}setComponent(i,t){switch(i){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+i)}return this}getComponent(i){switch(i){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+i)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(i){return this.x=i.x,this.y=i.y,this.z=i.z,this.w=i.w!==void 0?i.w:1,this}add(i,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(i,t)):(this.x+=i.x,this.y+=i.y,this.z+=i.z,this.w+=i.w,this)}addScalar(i){return this.x+=i,this.y+=i,this.z+=i,this.w+=i,this}addVectors(i,t){return this.x=i.x+t.x,this.y=i.y+t.y,this.z=i.z+t.z,this.w=i.w+t.w,this}addScaledVector(i,t){return this.x+=i.x*t,this.y+=i.y*t,this.z+=i.z*t,this.w+=i.w*t,this}sub(i,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(i,t)):(this.x-=i.x,this.y-=i.y,this.z-=i.z,this.w-=i.w,this)}subScalar(i){return this.x-=i,this.y-=i,this.z-=i,this.w-=i,this}subVectors(i,t){return this.x=i.x-t.x,this.y=i.y-t.y,this.z=i.z-t.z,this.w=i.w-t.w,this}multiply(i){return this.x*=i.x,this.y*=i.y,this.z*=i.z,this.w*=i.w,this}multiplyScalar(i){return this.x*=i,this.y*=i,this.z*=i,this.w*=i,this}applyMatrix4(i){const t=this.x,s=this.y,n=this.z,r=this.w,o=i.elements;return this.x=o[0]*t+o[4]*s+o[8]*n+o[12]*r,this.y=o[1]*t+o[5]*s+o[9]*n+o[13]*r,this.z=o[2]*t+o[6]*s+o[10]*n+o[14]*r,this.w=o[3]*t+o[7]*s+o[11]*n+o[15]*r,this}divideScalar(i){return this.multiplyScalar(1/i)}setAxisAngleFromQuaternion(i){this.w=2*Math.acos(i.w);const t=Math.sqrt(1-i.w*i.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=i.x/t,this.y=i.y/t,this.z=i.z/t),this}setAxisAngleFromRotationMatrix(i){let t,s,n,r;const l=i.elements,h=l[0],c=l[4],u=l[8],p=l[1],d=l[5],T=l[9],g=l[2],I=l[6],v=l[10];if(Math.abs(c-p)<.01&&Math.abs(u-g)<.01&&Math.abs(T-I)<.01){if(Math.abs(c+p)<.1&&Math.abs(u+g)<.1&&Math.abs(T+I)<.1&&Math.abs(h+d+v-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const N=(h+1)/2,F=(d+1)/2,P=(v+1)/2,w=(c+p)/4,O=(u+g)/4,X=(T+I)/4;return N>F&&N>P?N<.01?(s=0,n=.707106781,r=.707106781):(s=Math.sqrt(N),n=w/s,r=O/s):F>P?F<.01?(s=.707106781,n=0,r=.707106781):(n=Math.sqrt(F),s=w/n,r=X/n):P<.01?(s=.707106781,n=.707106781,r=0):(r=Math.sqrt(P),s=O/r,n=X/r),this.set(s,n,r,t),this}let C=Math.sqrt((I-T)*(I-T)+(u-g)*(u-g)+(p-c)*(p-c));return Math.abs(C)<.001&&(C=1),this.x=(I-T)/C,this.y=(u-g)/C,this.z=(p-c)/C,this.w=Math.acos((h+d+v-1)/2),this}min(i){return this.x=Math.min(this.x,i.x),this.y=Math.min(this.y,i.y),this.z=Math.min(this.z,i.z),this.w=Math.min(this.w,i.w),this}max(i){return this.x=Math.max(this.x,i.x),this.y=Math.max(this.y,i.y),this.z=Math.max(this.z,i.z),this.w=Math.max(this.w,i.w),this}clamp(i,t){return this.x=Math.max(i.x,Math.min(t.x,this.x)),this.y=Math.max(i.y,Math.min(t.y,this.y)),this.z=Math.max(i.z,Math.min(t.z,this.z)),this.w=Math.max(i.w,Math.min(t.w,this.w)),this}clampScalar(i,t){return this.x=Math.max(i,Math.min(t,this.x)),this.y=Math.max(i,Math.min(t,this.y)),this.z=Math.max(i,Math.min(t,this.z)),this.w=Math.max(i,Math.min(t,this.w)),this}clampLength(i,t){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(i,Math.min(t,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(i){return this.x*i.x+this.y*i.y+this.z*i.z+this.w*i.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(i){return this.normalize().multiplyScalar(i)}lerp(i,t){return this.x+=(i.x-this.x)*t,this.y+=(i.y-this.y)*t,this.z+=(i.z-this.z)*t,this.w+=(i.w-this.w)*t,this}lerpVectors(i,t,s){return this.x=i.x+(t.x-i.x)*s,this.y=i.y+(t.y-i.y)*s,this.z=i.z+(t.z-i.z)*s,this.w=i.w+(t.w-i.w)*s,this}equals(i){return i.x===this.x&&i.y===this.y&&i.z===this.z&&i.w===this.w}fromArray(i,t=0){return this.x=i[t],this.y=i[t+1],this.z=i[t+2],this.w=i[t+3],this}toArray(i=[],t=0){return i[t]=this.x,i[t+1]=this.y,i[t+2]=this.z,i[t+3]=this.w,i}fromBufferAttribute(i,t,s){return s!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=i.getX(t),this.y=i.getY(t),this.z=i.getZ(t),this.w=i.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}f3.prototype.isVector4=!0;for(let e=0;e<256;e++)(e<16?"0":"")+e.toString(16);function hm(e,i,t){return Math.max(i,Math.min(t,e))}function vte(e,i){return(e%i+i)%i}function uf(e,i,t){return(1-t)*e+t*i}class T3{constructor(i=0,t=0,s=0,n=1){this._x=i,this._y=t,this._z=s,this._w=n}static slerp(i,t,s,n){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),s.slerpQuaternions(i,t,n)}static slerpFlat(i,t,s,n,r,o,a){let l=s[n+0],h=s[n+1],c=s[n+2],u=s[n+3];const p=r[o+0],d=r[o+1],T=r[o+2],g=r[o+3];if(a===0){i[t+0]=l,i[t+1]=h,i[t+2]=c,i[t+3]=u;return}if(a===1){i[t+0]=p,i[t+1]=d,i[t+2]=T,i[t+3]=g;return}if(u!==g||l!==p||h!==d||c!==T){let I=1-a;const v=l*p+h*d+c*T+u*g,C=v>=0?1:-1,N=1-v*v;if(N>Number.EPSILON){const P=Math.sqrt(N),w=Math.atan2(P,v*C);I=Math.sin(I*w)/P,a=Math.sin(a*w)/P}const F=a*C;if(l=l*I+p*F,h=h*I+d*F,c=c*I+T*F,u=u*I+g*F,I===1-a){const P=1/Math.sqrt(l*l+h*h+c*c+u*u);l*=P,h*=P,c*=P,u*=P}}i[t]=l,i[t+1]=h,i[t+2]=c,i[t+3]=u}static multiplyQuaternionsFlat(i,t,s,n,r,o){const a=s[n],l=s[n+1],h=s[n+2],c=s[n+3],u=r[o],p=r[o+1],d=r[o+2],T=r[o+3];return i[t]=a*T+c*u+l*d-h*p,i[t+1]=l*T+c*p+h*u-a*d,i[t+2]=h*T+c*d+a*p-l*u,i[t+3]=c*T-a*u-l*p-h*d,i}get x(){return this._x}set x(i){this._x=i,this._onChangeCallback()}get y(){return this._y}set y(i){this._y=i,this._onChangeCallback()}get z(){return this._z}set z(i){this._z=i,this._onChangeCallback()}get w(){return this._w}set w(i){this._w=i,this._onChangeCallback()}set(i,t,s,n){return this._x=i,this._y=t,this._z=s,this._w=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(i){return this._x=i.x,this._y=i.y,this._z=i.z,this._w=i.w,this._onChangeCallback(),this}setFromEuler(i,t){if(!(i&&i.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const s=i._x,n=i._y,r=i._z,o=i._order,a=Math.cos,l=Math.sin,h=a(s/2),c=a(n/2),u=a(r/2),p=l(s/2),d=l(n/2),T=l(r/2);switch(o){case"XYZ":this._x=p*c*u+h*d*T,this._y=h*d*u-p*c*T,this._z=h*c*T+p*d*u,this._w=h*c*u-p*d*T;break;case"YXZ":this._x=p*c*u+h*d*T,this._y=h*d*u-p*c*T,this._z=h*c*T-p*d*u,this._w=h*c*u+p*d*T;break;case"ZXY":this._x=p*c*u-h*d*T,this._y=h*d*u+p*c*T,this._z=h*c*T+p*d*u,this._w=h*c*u-p*d*T;break;case"ZYX":this._x=p*c*u-h*d*T,this._y=h*d*u+p*c*T,this._z=h*c*T-p*d*u,this._w=h*c*u+p*d*T;break;case"YZX":this._x=p*c*u+h*d*T,this._y=h*d*u+p*c*T,this._z=h*c*T-p*d*u,this._w=h*c*u-p*d*T;break;case"XZY":this._x=p*c*u-h*d*T,this._y=h*d*u-p*c*T,this._z=h*c*T+p*d*u,this._w=h*c*u+p*d*T;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(i,t){const s=t/2,n=Math.sin(s);return this._x=i.x*n,this._y=i.y*n,this._z=i.z*n,this._w=Math.cos(s),this._onChangeCallback(),this}setFromRotationMatrix(i){const t=i.elements,s=t[0],n=t[4],r=t[8],o=t[1],a=t[5],l=t[9],h=t[2],c=t[6],u=t[10],p=s+a+u;if(p>0){const d=.5/Math.sqrt(p+1);this._w=.25/d,this._x=(c-l)*d,this._y=(r-h)*d,this._z=(o-n)*d}else if(s>a&&s>u){const d=2*Math.sqrt(1+s-a-u);this._w=(c-l)/d,this._x=.25*d,this._y=(n+o)/d,this._z=(r+h)/d}else if(a>u){const d=2*Math.sqrt(1+a-s-u);this._w=(r-h)/d,this._x=(n+o)/d,this._y=.25*d,this._z=(l+c)/d}else{const d=2*Math.sqrt(1+u-s-a);this._w=(o-n)/d,this._x=(r+h)/d,this._y=(l+c)/d,this._z=.25*d}return this._onChangeCallback(),this}setFromUnitVectors(i,t){let s=i.dot(t)+1;return s<Number.EPSILON?(s=0,Math.abs(i.x)>Math.abs(i.z)?(this._x=-i.y,this._y=i.x,this._z=0,this._w=s):(this._x=0,this._y=-i.z,this._z=i.y,this._w=s)):(this._x=i.y*t.z-i.z*t.y,this._y=i.z*t.x-i.x*t.z,this._z=i.x*t.y-i.y*t.x,this._w=s),this.normalize()}angleTo(i){return 2*Math.acos(Math.abs(hm(this.dot(i),-1,1)))}rotateTowards(i,t){const s=this.angleTo(i);if(s===0)return this;const n=Math.min(1,t/s);return this.slerp(i,n),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(i){return this._x*i._x+this._y*i._y+this._z*i._z+this._w*i._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let i=this.length();return i===0?(this._x=0,this._y=0,this._z=0,this._w=1):(i=1/i,this._x=this._x*i,this._y=this._y*i,this._z=this._z*i,this._w=this._w*i),this._onChangeCallback(),this}multiply(i,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(i,t)):this.multiplyQuaternions(this,i)}premultiply(i){return this.multiplyQuaternions(i,this)}multiplyQuaternions(i,t){const s=i._x,n=i._y,r=i._z,o=i._w,a=t._x,l=t._y,h=t._z,c=t._w;return this._x=s*c+o*a+n*h-r*l,this._y=n*c+o*l+r*a-s*h,this._z=r*c+o*h+s*l-n*a,this._w=o*c-s*a-n*l-r*h,this._onChangeCallback(),this}slerp(i,t){if(t===0)return this;if(t===1)return this.copy(i);const s=this._x,n=this._y,r=this._z,o=this._w;let a=o*i._w+s*i._x+n*i._y+r*i._z;if(a<0?(this._w=-i._w,this._x=-i._x,this._y=-i._y,this._z=-i._z,a=-a):this.copy(i),a>=1)return this._w=o,this._x=s,this._y=n,this._z=r,this;const l=1-a*a;if(l<=Number.EPSILON){const d=1-t;return this._w=d*o+t*this._w,this._x=d*s+t*this._x,this._y=d*n+t*this._y,this._z=d*r+t*this._z,this.normalize(),this._onChangeCallback(),this}const h=Math.sqrt(l),c=Math.atan2(h,a),u=Math.sin((1-t)*c)/h,p=Math.sin(t*c)/h;return this._w=o*u+this._w*p,this._x=s*u+this._x*p,this._y=n*u+this._y*p,this._z=r*u+this._z*p,this._onChangeCallback(),this}slerpQuaternions(i,t,s){this.copy(i).slerp(t,s)}random(){const i=Math.random(),t=Math.sqrt(1-i),s=Math.sqrt(i),n=2*Math.PI*Math.random(),r=2*Math.PI*Math.random();return this.set(t*Math.cos(n),s*Math.sin(r),s*Math.cos(r),t*Math.sin(n))}equals(i){return i._x===this._x&&i._y===this._y&&i._z===this._z&&i._w===this._w}fromArray(i,t=0){return this._x=i[t],this._y=i[t+1],this._z=i[t+2],this._w=i[t+3],this._onChangeCallback(),this}toArray(i=[],t=0){return i[t]=this._x,i[t+1]=this._y,i[t+2]=this._z,i[t+3]=this._w,i}fromBufferAttribute(i,t){return this._x=i.getX(t),this._y=i.getY(t),this._z=i.getZ(t),this._w=i.getW(t),this}_onChange(i){return this._onChangeCallback=i,this}_onChangeCallback(){}}T3.prototype.isQuaternion=!0;class cm{constructor(i=0,t=0,s=0){this.x=i,this.y=t,this.z=s}set(i,t,s){return s===void 0&&(s=this.z),this.x=i,this.y=t,this.z=s,this}setScalar(i){return this.x=i,this.y=i,this.z=i,this}setX(i){return this.x=i,this}setY(i){return this.y=i,this}setZ(i){return this.z=i,this}setComponent(i,t){switch(i){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+i)}return this}getComponent(i){switch(i){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+i)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(i){return this.x=i.x,this.y=i.y,this.z=i.z,this}add(i,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(i,t)):(this.x+=i.x,this.y+=i.y,this.z+=i.z,this)}addScalar(i){return this.x+=i,this.y+=i,this.z+=i,this}addVectors(i,t){return this.x=i.x+t.x,this.y=i.y+t.y,this.z=i.z+t.z,this}addScaledVector(i,t){return this.x+=i.x*t,this.y+=i.y*t,this.z+=i.z*t,this}sub(i,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(i,t)):(this.x-=i.x,this.y-=i.y,this.z-=i.z,this)}subScalar(i){return this.x-=i,this.y-=i,this.z-=i,this}subVectors(i,t){return this.x=i.x-t.x,this.y=i.y-t.y,this.z=i.z-t.z,this}multiply(i,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(i,t)):(this.x*=i.x,this.y*=i.y,this.z*=i.z,this)}multiplyScalar(i){return this.x*=i,this.y*=i,this.z*=i,this}multiplyVectors(i,t){return this.x=i.x*t.x,this.y=i.y*t.y,this.z=i.z*t.z,this}applyEuler(i){return i&&i.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(g3.setFromEuler(i))}applyAxisAngle(i,t){return this.applyQuaternion(g3.setFromAxisAngle(i,t))}applyMatrix3(i){const t=this.x,s=this.y,n=this.z,r=i.elements;return this.x=r[0]*t+r[3]*s+r[6]*n,this.y=r[1]*t+r[4]*s+r[7]*n,this.z=r[2]*t+r[5]*s+r[8]*n,this}applyNormalMatrix(i){return this.applyMatrix3(i).normalize()}applyMatrix4(i){const t=this.x,s=this.y,n=this.z,r=i.elements,o=1/(r[3]*t+r[7]*s+r[11]*n+r[15]);return this.x=(r[0]*t+r[4]*s+r[8]*n+r[12])*o,this.y=(r[1]*t+r[5]*s+r[9]*n+r[13])*o,this.z=(r[2]*t+r[6]*s+r[10]*n+r[14])*o,this}applyQuaternion(i){const t=this.x,s=this.y,n=this.z,r=i.x,o=i.y,a=i.z,l=i.w,h=l*t+o*n-a*s,c=l*s+a*t-r*n,u=l*n+r*s-o*t,p=-r*t-o*s-a*n;return this.x=h*l+p*-r+c*-a-u*-o,this.y=c*l+p*-o+u*-r-h*-a,this.z=u*l+p*-a+h*-o-c*-r,this}project(i){return this.applyMatrix4(i.matrixWorldInverse).applyMatrix4(i.projectionMatrix)}unproject(i){return this.applyMatrix4(i.projectionMatrixInverse).applyMatrix4(i.matrixWorld)}transformDirection(i){const t=this.x,s=this.y,n=this.z,r=i.elements;return this.x=r[0]*t+r[4]*s+r[8]*n,this.y=r[1]*t+r[5]*s+r[9]*n,this.z=r[2]*t+r[6]*s+r[10]*n,this.normalize()}divide(i){return this.x/=i.x,this.y/=i.y,this.z/=i.z,this}divideScalar(i){return this.multiplyScalar(1/i)}min(i){return this.x=Math.min(this.x,i.x),this.y=Math.min(this.y,i.y),this.z=Math.min(this.z,i.z),this}max(i){return this.x=Math.max(this.x,i.x),this.y=Math.max(this.y,i.y),this.z=Math.max(this.z,i.z),this}clamp(i,t){return this.x=Math.max(i.x,Math.min(t.x,this.x)),this.y=Math.max(i.y,Math.min(t.y,this.y)),this.z=Math.max(i.z,Math.min(t.z,this.z)),this}clampScalar(i,t){return this.x=Math.max(i,Math.min(t,this.x)),this.y=Math.max(i,Math.min(t,this.y)),this.z=Math.max(i,Math.min(t,this.z)),this}clampLength(i,t){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(i,Math.min(t,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(i){return this.x*i.x+this.y*i.y+this.z*i.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(i){return this.normalize().multiplyScalar(i)}lerp(i,t){return this.x+=(i.x-this.x)*t,this.y+=(i.y-this.y)*t,this.z+=(i.z-this.z)*t,this}lerpVectors(i,t,s){return this.x=i.x+(t.x-i.x)*s,this.y=i.y+(t.y-i.y)*s,this.z=i.z+(t.z-i.z)*s,this}cross(i,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(i,t)):this.crossVectors(this,i)}crossVectors(i,t){const s=i.x,n=i.y,r=i.z,o=t.x,a=t.y,l=t.z;return this.x=n*l-r*a,this.y=r*o-s*l,this.z=s*a-n*o,this}projectOnVector(i){const t=i.lengthSq();if(t===0)return this.set(0,0,0);const s=i.dot(this)/t;return this.copy(i).multiplyScalar(s)}projectOnPlane(i){return pf.copy(this).projectOnVector(i),this.sub(pf)}reflect(i){return this.sub(pf.copy(i).multiplyScalar(2*this.dot(i)))}angleTo(i){const t=Math.sqrt(this.lengthSq()*i.lengthSq());if(t===0)return Math.PI/2;const s=this.dot(i)/t;return Math.acos(hm(s,-1,1))}distanceTo(i){return Math.sqrt(this.distanceToSquared(i))}distanceToSquared(i){const t=this.x-i.x,s=this.y-i.y,n=this.z-i.z;return t*t+s*s+n*n}manhattanDistanceTo(i){return Math.abs(this.x-i.x)+Math.abs(this.y-i.y)+Math.abs(this.z-i.z)}setFromSpherical(i){return this.setFromSphericalCoords(i.radius,i.phi,i.theta)}setFromSphericalCoords(i,t,s){const n=Math.sin(t)*i;return this.x=n*Math.sin(s),this.y=Math.cos(t)*i,this.z=n*Math.cos(s),this}setFromCylindrical(i){return this.setFromCylindricalCoords(i.radius,i.theta,i.y)}setFromCylindricalCoords(i,t,s){return this.x=i*Math.sin(t),this.y=s,this.z=i*Math.cos(t),this}setFromMatrixPosition(i){const t=i.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(i){const t=this.setFromMatrixColumn(i,0).length(),s=this.setFromMatrixColumn(i,1).length(),n=this.setFromMatrixColumn(i,2).length();return this.x=t,this.y=s,this.z=n,this}setFromMatrixColumn(i,t){return this.fromArray(i.elements,t*4)}setFromMatrix3Column(i,t){return this.fromArray(i.elements,t*3)}equals(i){return i.x===this.x&&i.y===this.y&&i.z===this.z}fromArray(i,t=0){return this.x=i[t],this.y=i[t+1],this.z=i[t+2],this}toArray(i=[],t=0){return i[t]=this.x,i[t+1]=this.y,i[t+2]=this.z,i}fromBufferAttribute(i,t,s){return s!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=i.getX(t),this.y=i.getY(t),this.z=i.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const i=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,s=Math.sqrt(1-i**2);return this.x=s*Math.cos(t),this.y=s*Math.sin(t),this.z=i,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}cm.prototype.isVector3=!0;const pf=new cm,g3=new T3;class df{constructor(i=0,t=0){this.x=i,this.y=t}get width(){return this.x}set width(i){this.x=i}get height(){return this.y}set height(i){this.y=i}set(i,t){return this.x=i,this.y=t,this}setScalar(i){return this.x=i,this.y=i,this}setX(i){return this.x=i,this}setY(i){return this.y=i,this}setComponent(i,t){switch(i){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+i)}return this}getComponent(i){switch(i){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+i)}}clone(){return new this.constructor(this.x,this.y)}copy(i){return this.x=i.x,this.y=i.y,this}add(i,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(i,t)):(this.x+=i.x,this.y+=i.y,this)}addScalar(i){return this.x+=i,this.y+=i,this}addVectors(i,t){return this.x=i.x+t.x,this.y=i.y+t.y,this}addScaledVector(i,t){return this.x+=i.x*t,this.y+=i.y*t,this}sub(i,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(i,t)):(this.x-=i.x,this.y-=i.y,this)}subScalar(i){return this.x-=i,this.y-=i,this}subVectors(i,t){return this.x=i.x-t.x,this.y=i.y-t.y,this}multiply(i){return this.x*=i.x,this.y*=i.y,this}multiplyScalar(i){return this.x*=i,this.y*=i,this}divide(i){return this.x/=i.x,this.y/=i.y,this}divideScalar(i){return this.multiplyScalar(1/i)}applyMatrix3(i){const t=this.x,s=this.y,n=i.elements;return this.x=n[0]*t+n[3]*s+n[6],this.y=n[1]*t+n[4]*s+n[7],this}min(i){return this.x=Math.min(this.x,i.x),this.y=Math.min(this.y,i.y),this}max(i){return this.x=Math.max(this.x,i.x),this.y=Math.max(this.y,i.y),this}clamp(i,t){return this.x=Math.max(i.x,Math.min(t.x,this.x)),this.y=Math.max(i.y,Math.min(t.y,this.y)),this}clampScalar(i,t){return this.x=Math.max(i,Math.min(t,this.x)),this.y=Math.max(i,Math.min(t,this.y)),this}clampLength(i,t){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(i,Math.min(t,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(i){return this.x*i.x+this.y*i.y}cross(i){return this.x*i.y-this.y*i.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(i){return Math.sqrt(this.distanceToSquared(i))}distanceToSquared(i){const t=this.x-i.x,s=this.y-i.y;return t*t+s*s}manhattanDistanceTo(i){return Math.abs(this.x-i.x)+Math.abs(this.y-i.y)}setLength(i){return this.normalize().multiplyScalar(i)}lerp(i,t){return this.x+=(i.x-this.x)*t,this.y+=(i.y-this.y)*t,this}lerpVectors(i,t,s){return this.x=i.x+(t.x-i.x)*s,this.y=i.y+(t.y-i.y)*s,this}equals(i){return i.x===this.x&&i.y===this.y}fromArray(i,t=0){return this.x=i[t],this.y=i[t+1],this}toArray(i=[],t=0){return i[t]=this.x,i[t+1]=this.y,i}fromBufferAttribute(i,t,s){return s!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=i.getX(t),this.y=i.getY(t),this}rotateAround(i,t){const s=Math.cos(t),n=Math.sin(t),r=this.x-i.x,o=this.y-i.y;return this.x=r*s-o*n+i.x,this.y=r*n+o*s+i.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}df.prototype.isVector2=!0;const b3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Lr={h:0,s:0,l:0},um={h:0,s:0,l:0};function mf(e,i,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?e+(i-e)*6*t:t<1/2?i:t<2/3?e+(i-e)*6*(2/3-t):e}function yf(e){return e<.04045?e*.0773993808:Math.pow(e*.9478672986+.0521327014,2.4)}function ff(e){return e<.0031308?e*12.92:1.055*Math.pow(e,.41666)-.055}class ec{constructor(i,t,s){return t===void 0&&s===void 0?this.set(i):this.setRGB(i,t,s)}set(i){return i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i),this}setScalar(i){return this.r=i,this.g=i,this.b=i,this}setHex(i){return i=Math.floor(i),this.r=(i>>16&255)/255,this.g=(i>>8&255)/255,this.b=(i&255)/255,this}setRGB(i,t,s){return this.r=i,this.g=t,this.b=s,this}setHSL(i,t,s){if(i=vte(i,1),t=hm(t,0,1),s=hm(s,0,1),t===0)this.r=this.g=this.b=s;else{const n=s<=.5?s*(1+t):s+t-s*t,r=2*s-n;this.r=mf(r,n,i+1/3),this.g=mf(r,n,i),this.b=mf(r,n,i-1/3)}return this}setStyle(i){function t(n){n!==void 0&&parseFloat(n)<1&&console.warn("THREE.Color: Alpha component of "+i+" will be ignored.")}let s;if(s=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(i)){let n;const r=s[1],o=s[2];switch(r){case"rgb":case"rgba":if(n=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,t(n[4]),this;if(n=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,t(n[4]),this;break;case"hsl":case"hsla":if(n=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o)){const a=parseFloat(n[1])/360,l=parseInt(n[2],10)/100,h=parseInt(n[3],10)/100;return t(n[4]),this.setHSL(a,l,h)}break}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(i)){const n=s[1],r=n.length;if(r===3)return this.r=parseInt(n.charAt(0)+n.charAt(0),16)/255,this.g=parseInt(n.charAt(1)+n.charAt(1),16)/255,this.b=parseInt(n.charAt(2)+n.charAt(2),16)/255,this;if(r===6)return this.r=parseInt(n.charAt(0)+n.charAt(1),16)/255,this.g=parseInt(n.charAt(2)+n.charAt(3),16)/255,this.b=parseInt(n.charAt(4)+n.charAt(5),16)/255,this}return i&&i.length>0?this.setColorName(i):this}setColorName(i){const t=b3[i.toLowerCase()];return t!==void 0?this.setHex(t):console.warn("THREE.Color: Unknown color "+i),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(i){return this.r=i.r,this.g=i.g,this.b=i.b,this}copyGammaToLinear(i,t=2){return this.r=Math.pow(i.r,t),this.g=Math.pow(i.g,t),this.b=Math.pow(i.b,t),this}copyLinearToGamma(i,t=2){const s=t>0?1/t:1;return this.r=Math.pow(i.r,s),this.g=Math.pow(i.g,s),this.b=Math.pow(i.b,s),this}convertGammaToLinear(i){return this.copyGammaToLinear(this,i),this}convertLinearToGamma(i){return this.copyLinearToGamma(this,i),this}copySRGBToLinear(i){return this.r=yf(i.r),this.g=yf(i.g),this.b=yf(i.b),this}copyLinearToSRGB(i){return this.r=ff(i.r),this.g=ff(i.g),this.b=ff(i.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return this.r*255<<16^this.g*255<<8^this.b*255<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(i){const t=this.r,s=this.g,n=this.b,r=Math.max(t,s,n),o=Math.min(t,s,n);let a,l;const h=(o+r)/2;if(o===r)a=0,l=0;else{const c=r-o;switch(l=h<=.5?c/(r+o):c/(2-r-o),r){case t:a=(s-n)/c+(s<n?6:0);break;case s:a=(n-t)/c+2;break;case n:a=(t-s)/c+4;break}a/=6}return i.h=a,i.s=l,i.l=h,i}getStyle(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"}offsetHSL(i,t,s){return this.getHSL(Lr),Lr.h+=i,Lr.s+=t,Lr.l+=s,this.setHSL(Lr.h,Lr.s,Lr.l),this}add(i){return this.r+=i.r,this.g+=i.g,this.b+=i.b,this}addColors(i,t){return this.r=i.r+t.r,this.g=i.g+t.g,this.b=i.b+t.b,this}addScalar(i){return this.r+=i,this.g+=i,this.b+=i,this}sub(i){return this.r=Math.max(0,this.r-i.r),this.g=Math.max(0,this.g-i.g),this.b=Math.max(0,this.b-i.b),this}multiply(i){return this.r*=i.r,this.g*=i.g,this.b*=i.b,this}multiplyScalar(i){return this.r*=i,this.g*=i,this.b*=i,this}lerp(i,t){return this.r+=(i.r-this.r)*t,this.g+=(i.g-this.g)*t,this.b+=(i.b-this.b)*t,this}lerpColors(i,t,s){return this.r=i.r+(t.r-i.r)*s,this.g=i.g+(t.g-i.g)*s,this.b=i.b+(t.b-i.b)*s,this}lerpHSL(i,t){this.getHSL(Lr),i.getHSL(um);const s=uf(Lr.h,um.h,t),n=uf(Lr.s,um.s,t),r=uf(Lr.l,um.l,t);return this.setHSL(s,n,r),this}equals(i){return i.r===this.r&&i.g===this.g&&i.b===this.b}fromArray(i,t=0){return this.r=i[t],this.g=i[t+1],this.b=i[t+2],this}toArray(i=[],t=0){return i[t]=this.r,i[t+1]=this.g,i[t+2]=this.b,i}fromBufferAttribute(i,t){return this.r=i.getX(t),this.g=i.getY(t),this.b=i.getZ(t),i.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}ec.NAMES=b3,ec.prototype.isColor=!0,ec.prototype.r=1,ec.prototype.g=1,ec.prototype.b=1;const I3=35044,Bi=new cm,pm=new df;class Tf{constructor(i,t,s){if(Array.isArray(i))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=i,this.itemSize=t,this.count=i!==void 0?i.length/t:0,this.normalized=s===!0,this.usage=I3,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(i){i===!0&&this.version++}setUsage(i){return this.usage=i,this}copy(i){return this.name=i.name,this.array=new i.array.constructor(i.array),this.itemSize=i.itemSize,this.count=i.count,this.normalized=i.normalized,this.usage=i.usage,this}copyAt(i,t,s){i*=this.itemSize,s*=t.itemSize;for(let n=0,r=this.itemSize;n<r;n++)this.array[i+n]=t.array[s+n];return this}copyArray(i){return this.array.set(i),this}copyColorsArray(i){const t=this.array;let s=0;for(let n=0,r=i.length;n<r;n++){let o=i[n];o===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",n),o=new ec),t[s++]=o.r,t[s++]=o.g,t[s++]=o.b}return this}copyVector2sArray(i){const t=this.array;let s=0;for(let n=0,r=i.length;n<r;n++){let o=i[n];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",n),o=new df),t[s++]=o.x,t[s++]=o.y}return this}copyVector3sArray(i){const t=this.array;let s=0;for(let n=0,r=i.length;n<r;n++){let o=i[n];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",n),o=new cm),t[s++]=o.x,t[s++]=o.y,t[s++]=o.z}return this}copyVector4sArray(i){const t=this.array;let s=0;for(let n=0,r=i.length;n<r;n++){let o=i[n];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",n),o=new f3),t[s++]=o.x,t[s++]=o.y,t[s++]=o.z,t[s++]=o.w}return this}applyMatrix3(i){if(this.itemSize===2)for(let t=0,s=this.count;t<s;t++)pm.fromBufferAttribute(this,t),pm.applyMatrix3(i),this.setXY(t,pm.x,pm.y);else if(this.itemSize===3)for(let t=0,s=this.count;t<s;t++)Bi.fromBufferAttribute(this,t),Bi.applyMatrix3(i),this.setXYZ(t,Bi.x,Bi.y,Bi.z);return this}applyMatrix4(i){for(let t=0,s=this.count;t<s;t++)Bi.x=this.getX(t),Bi.y=this.getY(t),Bi.z=this.getZ(t),Bi.applyMatrix4(i),this.setXYZ(t,Bi.x,Bi.y,Bi.z);return this}applyNormalMatrix(i){for(let t=0,s=this.count;t<s;t++)Bi.x=this.getX(t),Bi.y=this.getY(t),Bi.z=this.getZ(t),Bi.applyNormalMatrix(i),this.setXYZ(t,Bi.x,Bi.y,Bi.z);return this}transformDirection(i){for(let t=0,s=this.count;t<s;t++)Bi.x=this.getX(t),Bi.y=this.getY(t),Bi.z=this.getZ(t),Bi.transformDirection(i),this.setXYZ(t,Bi.x,Bi.y,Bi.z);return this}set(i,t=0){return this.array.set(i,t),this}getX(i){return this.array[i*this.itemSize]}setX(i,t){return this.array[i*this.itemSize]=t,this}getY(i){return this.array[i*this.itemSize+1]}setY(i,t){return this.array[i*this.itemSize+1]=t,this}getZ(i){return this.array[i*this.itemSize+2]}setZ(i,t){return this.array[i*this.itemSize+2]=t,this}getW(i){return this.array[i*this.itemSize+3]}setW(i,t){return this.array[i*this.itemSize+3]=t,this}setXY(i,t,s){return i*=this.itemSize,this.array[i+0]=t,this.array[i+1]=s,this}setXYZ(i,t,s,n){return i*=this.itemSize,this.array[i+0]=t,this.array[i+1]=s,this.array[i+2]=n,this}setXYZW(i,t,s,n,r){return i*=this.itemSize,this.array[i+0]=t,this.array[i+1]=s,this.array[i+2]=n,this.array[i+3]=r,this}onUpload(i){return this.onUploadCallback=i,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const i={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(i.name=this.name),this.usage!==I3&&(i.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(i.updateRange=this.updateRange),i}}Tf.prototype.isBufferAttribute=!0;class Gte extends Tf{constructor(i,t,s){super(new Uint16Array(i),t,s)}}Gte.prototype.isFloat16BufferAttribute=!0;class gf{constructor(){this.pluginCallbacks=[],this.register(function(i){return new Dte(i)}),this.register(function(i){return new Ote(i)}),this.register(function(i){return new zte(i)}),this.register(function(i){return new Yte(i)}),this.register(function(i){return new kte(i)}),this.register(function(i){return new Wte(i)})}register(i){return this.pluginCallbacks.indexOf(i)===-1&&this.pluginCallbacks.push(i),this}unregister(i){return this.pluginCallbacks.indexOf(i)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(i),1),this}parse(i,t,s,n){typeof s=="object"&&(console.warn("THREE.GLTFExporter: parse() expects options as the fourth argument now."),n=s);const r=new Xte,o=[];for(let a=0,l=this.pluginCallbacks.length;a<l;a++)o.push(this.pluginCallbacks[a](r));r.setPlugins(o),r.write(i,t,n).catch(s)}parseAsync(i,t){const s=this;return new Promise(function(n,r){s.parse(i,n,r,t)})}}const zi={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,FLOAT:5126,UNSIGNED_INT:5125,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,REPEAT:10497},Wn={};Wn[Ui]=zi.NEAREST,Wn[Xm]=zi.NEAREST_MIPMAP_NEAREST,Wn[Dm]=zi.NEAREST_MIPMAP_LINEAR,Wn[Is]=zi.LINEAR,Wn[Bf]=zi.LINEAR_MIPMAP_NEAREST,Wn[zc]=zi.LINEAR_MIPMAP_LINEAR,Wn[_n]=zi.CLAMP_TO_EDGE,Wn[zp]=zi.REPEAT,Wn[Wp]=zi.MIRRORED_REPEAT;const L3={scale:"scale",position:"translation",quaternion:"rotation",morphTargetInfluences:"weights"},S3=12,Ete=1179937895,Cte=2,M3=8,Rte=1313821514,Nte=5130562;function Ou(e,i){return e.length===i.length&&e.every(function(t,s){return t===i[s]})}function Fte(e){if(window.TextEncoder!==void 0)return new TextEncoder().encode(e).buffer;const i=new Uint8Array(new ArrayBuffer(e.length));for(let t=0,s=e.length;t<s;t++){const n=e.charCodeAt(t);i[t]=n>255?32:n}return i.buffer}function Pte(e){return Ou(e.elements,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}function wte(e,i,t){const s={min:new Array(e.itemSize).fill(Number.POSITIVE_INFINITY),max:new Array(e.itemSize).fill(Number.NEGATIVE_INFINITY)};for(let n=i;n<i+t;n++)for(let r=0;r<e.itemSize;r++){let o;e.itemSize>4?o=e.array[n*e.itemSize+r]:r===0?o=e.getX(n):r===1?o=e.getY(n):r===2?o=e.getZ(n):r===3&&(o=e.getW(n)),s.min[r]=Math.min(s.min[r],o),s.max[r]=Math.max(s.max[r],o)}return s}function x3(e){return Math.ceil(e/4)*4}function bf(e,i=0){const t=x3(e.byteLength);if(t!==e.byteLength){const s=new Uint8Array(t);if(s.set(new Uint8Array(e)),i!==0)for(let n=e.byteLength;n<t;n++)s[n]=i;return s.buffer}return e}let v3=null;class Xte{constructor(){this.plugins=[],this.options={},this.pending=[],this.buffers=[],this.byteOffset=0,this.buffers=[],this.nodeMap=new Map,this.skins=[],this.extensionsUsed={},this.uids=new Map,this.uid=0,this.json={asset:{version:"2.0",generator:"THREE.GLTFExporter"}},this.cache={meshes:new Map,attributes:new Map,attributesNormalized:new Map,materials:new Map,textures:new Map,images:new Map}}setPlugins(i){this.plugins=i}async write(i,t,s){this.options=Object.assign({},{binary:!1,trs:!1,onlyVisible:!0,truncateDrawRange:!0,embedImages:!0,maxTextureSize:1/0,animations:[],includeCustomExtensions:!1},s),this.options.animations.length>0&&(this.options.trs=!0),this.processInput(i),await Promise.all(this.pending);const n=this,r=n.buffers,o=n.json;s=n.options;const a=n.extensionsUsed,l=new Blob(r,{type:"application/octet-stream"}),h=Object.keys(a);if(h.length>0&&(o.extensionsUsed=h),o.buffers&&o.buffers.length>0&&(o.buffers[0].byteLength=l.size),s.binary===!0){const c=new window.FileReader;c.readAsArrayBuffer(l),c.onloadend=function(){const u=bf(c.result),p=new DataView(new ArrayBuffer(M3));p.setUint32(0,u.byteLength,!0),p.setUint32(4,Nte,!0);const d=bf(Fte(JSON.stringify(o)),32),T=new DataView(new ArrayBuffer(M3));T.setUint32(0,d.byteLength,!0),T.setUint32(4,Rte,!0);const g=new ArrayBuffer(S3),I=new DataView(g);I.setUint32(0,Ete,!0),I.setUint32(4,Cte,!0);const v=S3+T.byteLength+d.byteLength+p.byteLength+u.byteLength;I.setUint32(8,v,!0);const C=new Blob([g,T,d,p,u],{type:"application/octet-stream"}),N=new window.FileReader;N.readAsArrayBuffer(C),N.onloadend=function(){t(N.result)}}}else if(o.buffers&&o.buffers.length>0){const c=new window.FileReader;c.readAsDataURL(l),c.onloadend=function(){const u=c.result;o.buffers[0].uri=u,t(o)}}else t(o)}serializeUserData(i,t){if(Object.keys(i.userData).length===0)return;const s=this.options,n=this.extensionsUsed;try{const r=JSON.parse(JSON.stringify(i.userData));if(s.includeCustomExtensions&&r.gltfExtensions){t.extensions===void 0&&(t.extensions={});for(const o in r.gltfExtensions)t.extensions[o]=r.gltfExtensions[o],n[o]=!0;delete r.gltfExtensions}Object.keys(r).length>0&&(t.extras=r)}catch(r){console.warn("THREE.GLTFExporter: userData of '"+i.name+"' won't be serialized because of JSON.stringify error - "+r.message)}}getUID(i){return this.uids.has(i)||this.uids.set(i,this.uid++),this.uids.get(i)}isNormalizedNormalAttribute(i){if(this.cache.attributesNormalized.has(i))return!1;const s=new H;for(let n=0,r=i.count;n<r;n++)if(Math.abs(s.fromBufferAttribute(i,n).length()-1)>5e-4)return!1;return!0}createNormalizedNormalAttribute(i){const t=this.cache;if(t.attributesNormalized.has(i))return t.attributesNormalized.get(i);const s=i.clone(),n=new H;for(let r=0,o=s.count;r<o;r++)n.fromBufferAttribute(s,r),n.x===0&&n.y===0&&n.z===0?n.setX(1):n.normalize(),s.setXYZ(r,n.x,n.y,n.z);return t.attributesNormalized.set(i,s),s}applyTextureTransform(i,t){let s=!1;const n={};(t.offset.x!==0||t.offset.y!==0)&&(n.offset=t.offset.toArray(),s=!0),t.rotation!==0&&(n.rotation=t.rotation,s=!0),(t.repeat.x!==1||t.repeat.y!==1)&&(n.scale=t.repeat.toArray(),s=!0),s&&(i.extensions=i.extensions||{},i.extensions.KHR_texture_transform=n,this.extensionsUsed.KHR_texture_transform=!0)}processBuffer(i){const t=this.json,s=this.buffers;return t.buffers||(t.buffers=[{byteLength:0}]),s.push(i),0}processBufferView(i,t,s,n,r){const o=this.json;o.bufferViews||(o.bufferViews=[]);let a;t===zi.UNSIGNED_BYTE?a=1:t===zi.UNSIGNED_SHORT?a=2:a=4;const l=x3(n*i.itemSize*a),h=new DataView(new ArrayBuffer(l));let c=0;for(let d=s;d<s+n;d++)for(let T=0;T<i.itemSize;T++){let g;i.itemSize>4?g=i.array[d*i.itemSize+T]:T===0?g=i.getX(d):T===1?g=i.getY(d):T===2?g=i.getZ(d):T===3&&(g=i.getW(d)),t===zi.FLOAT?h.setFloat32(c,g,!0):t===zi.UNSIGNED_INT?h.setUint32(c,g,!0):t===zi.UNSIGNED_SHORT?h.setUint16(c,g,!0):t===zi.UNSIGNED_BYTE&&h.setUint8(c,g),c+=a}const u={buffer:this.processBuffer(h.buffer),byteOffset:this.byteOffset,byteLength:l};return r!==void 0&&(u.target=r),r===zi.ARRAY_BUFFER&&(u.byteStride=i.itemSize*a),this.byteOffset+=l,o.bufferViews.push(u),{id:o.bufferViews.length-1,byteLength:0}}processBufferViewImage(i){const t=this,s=t.json;return s.bufferViews||(s.bufferViews=[]),new Promise(function(n){const r=new window.FileReader;r.readAsArrayBuffer(i),r.onloadend=function(){const o=bf(r.result),a={buffer:t.processBuffer(o),byteOffset:t.byteOffset,byteLength:o.byteLength};t.byteOffset+=o.byteLength,n(s.bufferViews.push(a)-1)}})}processAccessor(i,t,s,n){const r=this.options,o=this.json,a={1:"SCALAR",2:"VEC2",3:"VEC3",4:"VEC4",16:"MAT4"};let l;if(i.array.constructor===Float32Array)l=zi.FLOAT;else if(i.array.constructor===Uint32Array)l=zi.UNSIGNED_INT;else if(i.array.constructor===Uint16Array)l=zi.UNSIGNED_SHORT;else if(i.array.constructor===Uint8Array)l=zi.UNSIGNED_BYTE;else throw new Error("THREE.GLTFExporter: Unsupported bufferAttribute component type.");if(s===void 0&&(s=0),n===void 0&&(n=i.count),r.truncateDrawRange&&t!==void 0&&t.index===null){const d=s+n,T=t.drawRange.count===1/0?i.count:t.drawRange.start+t.drawRange.count;s=Math.max(s,t.drawRange.start),n=Math.min(d,T)-s,n<0&&(n=0)}if(n===0)return null;const h=wte(i,s,n);let c;t!==void 0&&(c=i===t.index?zi.ELEMENT_ARRAY_BUFFER:zi.ARRAY_BUFFER);const u=this.processBufferView(i,l,s,n,c),p={bufferView:u.id,byteOffset:u.byteOffset,componentType:l,count:n,max:h.max,min:h.min,type:a[i.itemSize]};return i.normalized===!0&&(p.normalized=!0),o.accessors||(o.accessors=[]),o.accessors.push(p)-1}processImage(i,t,s){const n=this,r=n.cache,o=n.json,a=n.options,l=n.pending;r.images.has(i)||r.images.set(i,{});const h=r.images.get(i),c=t===Xs?"image/png":"image/jpeg",u=c+":flipY/"+s.toString();if(h[u]!==void 0)return h[u];o.images||(o.images=[]);const p={mimeType:c};if(a.embedImages){const T=v3=v3||document.createElement("canvas");T.width=Math.min(i.width,a.maxTextureSize),T.height=Math.min(i.height,a.maxTextureSize);const g=T.getContext("2d");if(s===!0&&(g.translate(0,T.height),g.scale(1,-1)),typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas||typeof ImageBitmap<"u"&&i instanceof ImageBitmap)g.drawImage(i,0,0,T.width,T.height);else{t!==Xs&&t!==Qf&&console.error("GLTFExporter: Only RGB and RGBA formats are supported."),(i.width>a.maxTextureSize||i.height>a.maxTextureSize)&&console.warn("GLTFExporter: Image size is bigger than maxTextureSize",i);const I=new Uint8ClampedArray(i.height*i.width*4);if(t===Xs)for(let v=0;v<I.length;v+=4)I[v+0]=i.data[v+0],I[v+1]=i.data[v+1],I[v+2]=i.data[v+2],I[v+3]=i.data[v+3];else for(let v=0,C=0;v<I.length;v+=4,C+=3)I[v+0]=i.data[C+0],I[v+1]=i.data[C+1],I[v+2]=i.data[C+2],I[v+3]=255;g.putImageData(new ImageData(I,i.width,i.height),0,0)}a.binary===!0?l.push(new Promise(function(I){T.toBlob(function(v){n.processBufferViewImage(v).then(function(C){p.bufferView=C,I()})},c)})):p.uri=T.toDataURL(c)}else p.uri=i.src;const d=o.images.push(p)-1;return h[u]=d,d}processSampler(i){const t=this.json;t.samplers||(t.samplers=[]);const s={magFilter:Wn[i.magFilter],minFilter:Wn[i.minFilter],wrapS:Wn[i.wrapS],wrapT:Wn[i.wrapT]};return t.samplers.push(s)-1}processTexture(i){const t=this.cache,s=this.json;if(t.textures.has(i))return t.textures.get(i);s.textures||(s.textures=[]);const n={sampler:this.processSampler(i),source:this.processImage(i.image,i.format,i.flipY)};i.name&&(n.name=i.name),this._invokeAll(function(o){o.writeTexture&&o.writeTexture(i,n)});const r=s.textures.push(n)-1;return t.textures.set(i,r),r}processMaterial(i){const t=this.cache,s=this.json;if(t.materials.has(i))return t.materials.get(i);if(i.isShaderMaterial)return console.warn("GLTFExporter: THREE.ShaderMaterial not supported."),null;s.materials||(s.materials=[]);const n={pbrMetallicRoughness:{}};i.isMeshStandardMaterial!==!0&&i.isMeshBasicMaterial!==!0&&console.warn("GLTFExporter: Use MeshStandardMaterial or MeshBasicMaterial for best results.");const r=i.color.toArray().concat([i.opacity]);if(Ou(r,[1,1,1,1])||(n.pbrMetallicRoughness.baseColorFactor=r),i.isMeshStandardMaterial?(n.pbrMetallicRoughness.metallicFactor=i.metalness,n.pbrMetallicRoughness.roughnessFactor=i.roughness):(n.pbrMetallicRoughness.metallicFactor=.5,n.pbrMetallicRoughness.roughnessFactor=.5),i.metalnessMap||i.roughnessMap)if(i.metalnessMap===i.roughnessMap){const a={index:this.processTexture(i.metalnessMap)};this.applyTextureTransform(a,i.metalnessMap),n.pbrMetallicRoughness.metallicRoughnessTexture=a}else console.warn("THREE.GLTFExporter: Ignoring metalnessMap and roughnessMap because they are not the same Texture.");if(i.map){const a={index:this.processTexture(i.map)};this.applyTextureTransform(a,i.map),n.pbrMetallicRoughness.baseColorTexture=a}if(i.emissive){const a=i.emissive.clone().multiplyScalar(i.emissiveIntensity),l=Math.max(a.r,a.g,a.b);if(l>1&&(a.multiplyScalar(1/l),console.warn("THREE.GLTFExporter: Some emissive components exceed 1; emissive has been limited")),l>0&&(n.emissiveFactor=a.toArray()),i.emissiveMap){const h={index:this.processTexture(i.emissiveMap)};this.applyTextureTransform(h,i.emissiveMap),n.emissiveTexture=h}}if(i.normalMap){const a={index:this.processTexture(i.normalMap)};i.normalScale&&i.normalScale.x!==1&&(a.scale=i.normalScale.x),this.applyTextureTransform(a,i.normalMap),n.normalTexture=a}if(i.aoMap){const a={index:this.processTexture(i.aoMap),texCoord:1};i.aoMapIntensity!==1&&(a.strength=i.aoMapIntensity),this.applyTextureTransform(a,i.aoMap),n.occlusionTexture=a}i.transparent?n.alphaMode="BLEND":i.alphaTest>0&&(n.alphaMode="MASK",n.alphaCutoff=i.alphaTest),i.side===ds&&(n.doubleSided=!0),i.name!==""&&(n.name=i.name),this.serializeUserData(i,n),this._invokeAll(function(a){a.writeMaterial&&a.writeMaterial(i,n)});const o=s.materials.push(n)-1;return t.materials.set(i,o),o}processMesh(i){const t=this.cache,s=this.json,n=[i.geometry.uuid];if(Array.isArray(i.material))for(let N=0,F=i.material.length;N<F;N++)n.push(i.material[N].uuid);else n.push(i.material.uuid);const r=n.join(":");if(t.meshes.has(r))return t.meshes.get(r);const o=i.geometry;let a;if(i.isLineSegments?a=zi.LINES:i.isLineLoop?a=zi.LINE_LOOP:i.isLine?a=zi.LINE_STRIP:i.isPoints?a=zi.POINTS:a=i.material.wireframe?zi.LINES:zi.TRIANGLES,o.isBufferGeometry!==!0)throw new Error("THREE.GLTFExporter: Geometry is not of type THREE.BufferGeometry.");const l={},h={},c=[],u=[],p={uv:"TEXCOORD_0",uv2:"TEXCOORD_1",color:"COLOR_0",skinWeight:"WEIGHTS_0",skinIndex:"JOINTS_0"},d=o.getAttribute("normal");d!==void 0&&!this.isNormalizedNormalAttribute(d)&&(console.warn("THREE.GLTFExporter: Creating normalized normal attribute from the non-normalized one."),o.setAttribute("normal",this.createNormalizedNormalAttribute(d)));let T=null;for(let N in o.attributes){if(N.substr(0,5)==="morph")continue;const F=o.attributes[N];if(N=p[N]||N.toUpperCase(),/^(POSITION|NORMAL|TANGENT|TEXCOORD_\d+|COLOR_\d+|JOINTS_\d+|WEIGHTS_\d+)$/.test(N)||(N="_"+N),t.attributes.has(this.getUID(F))){h[N]=t.attributes.get(this.getUID(F));continue}T=null;const w=F.array;N==="JOINTS_0"&&!(w instanceof Uint16Array)&&!(w instanceof Uint8Array)&&(console.warn('GLTFExporter: Attribute "skinIndex" converted to type UNSIGNED_SHORT.'),T=new Gt(new Uint16Array(w),F.itemSize,F.normalized));const O=this.processAccessor(T||F,o);O!==null&&(h[N]=O,t.attributes.set(this.getUID(F),O))}if(d!==void 0&&o.setAttribute("normal",d),Object.keys(h).length===0)return null;if(i.morphTargetInfluences!==void 0&&i.morphTargetInfluences.length>0){const N=[],F=[],P={};if(i.morphTargetDictionary!==void 0)for(const w in i.morphTargetDictionary)P[i.morphTargetDictionary[w]]=w;for(let w=0;w<i.morphTargetInfluences.length;++w){const O={};let X=!1;for(const K in o.morphAttributes){if(K!=="position"&&K!=="normal"){X||(console.warn("GLTFExporter: Only POSITION and NORMAL morph are supported."),X=!0);continue}const ee=o.morphAttributes[K][w],ce=K.toUpperCase(),me=o.attributes[K];if(t.attributes.has(this.getUID(ee))){O[ce]=t.attributes.get(this.getUID(ee));continue}const ae=ee.clone();if(!o.morphTargetsRelative)for(let oe=0,Se=ee.count;oe<Se;oe++)ae.setXYZ(oe,ee.getX(oe)-me.getX(oe),ee.getY(oe)-me.getY(oe),ee.getZ(oe)-me.getZ(oe));O[ce]=this.processAccessor(ae,o),t.attributes.set(this.getUID(me),O[ce])}u.push(O),N.push(i.morphTargetInfluences[w]),i.morphTargetDictionary!==void 0&&F.push(P[w])}l.weights=N,F.length>0&&(l.extras={},l.extras.targetNames=F)}const g=Array.isArray(i.material);if(g&&o.groups.length===0)return null;const I=g?i.material:[i.material],v=g?o.groups:[{materialIndex:0,start:void 0,count:void 0}];for(let N=0,F=v.length;N<F;N++){const P={mode:a,attributes:h};if(this.serializeUserData(o,P),u.length>0&&(P.targets=u),o.index!==null){let O=this.getUID(o.index);(v[N].start!==void 0||v[N].count!==void 0)&&(O+=":"+v[N].start+":"+v[N].count),t.attributes.has(O)?P.indices=t.attributes.get(O):(P.indices=this.processAccessor(o.index,o,v[N].start,v[N].count),t.attributes.set(O,P.indices)),P.indices===null&&delete P.indices}const w=this.processMaterial(I[v[N].materialIndex]);w!==null&&(P.material=w),c.push(P)}l.primitives=c,s.meshes||(s.meshes=[]),this._invokeAll(function(N){N.writeMesh&&N.writeMesh(i,l)});const C=s.meshes.push(l)-1;return t.meshes.set(r,C),C}processCamera(i){const t=this.json;t.cameras||(t.cameras=[]);const s=i.isOrthographicCamera,n={type:s?"orthographic":"perspective"};return s?n.orthographic={xmag:i.right*2,ymag:i.top*2,zfar:i.far<=0?.001:i.far,znear:i.near<0?0:i.near}:n.perspective={aspectRatio:i.aspect,yfov:Ap.degToRad(i.fov),zfar:i.far<=0?.001:i.far,znear:i.near<0?0:i.near},i.name!==""&&(n.name=i.type),t.cameras.push(n)-1}processAnimation(i,t){const s=this.json,n=this.nodeMap;s.animations||(s.animations=[]),i=gf.Utils.mergeMorphTargetTracks(i.clone(),t);const r=i.tracks,o=[],a=[];for(let l=0;l<r.length;++l){const h=r[l],c=vi.parseTrackName(h.name);let u=vi.findNode(t,c.nodeName);const p=L3[c.propertyName];if(c.objectName==="bones"&&(u.isSkinnedMesh===!0?u=u.skeleton.getBoneByName(c.objectIndex):u=void 0),!u||!p)return console.warn('THREE.GLTFExporter: Could not export animation track "%s".',h.name),null;const d=1;let T=h.values.length/h.times.length;p===L3.morphTargetInfluences&&(T/=u.morphTargetInfluences.length);let g;h.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline===!0?(g="CUBICSPLINE",T/=3):h.getInterpolation()===CO?g="STEP":g="LINEAR",a.push({input:this.processAccessor(new Gt(h.times,d)),output:this.processAccessor(new Gt(h.values,T)),interpolation:g}),o.push({sampler:a.length-1,target:{node:n.get(u),path:p}})}return s.animations.push({name:i.name||"clip_"+s.animations.length,samplers:a,channels:o}),s.animations.length-1}processSkin(i){const t=this.json,s=this.nodeMap,n=t.nodes[s.get(i)],r=i.skeleton;if(r===void 0)return null;const o=i.skeleton.bones[0];if(o===void 0)return null;const a=[],l=new Float32Array(r.bones.length*16),h=new pt;for(let u=0;u<r.bones.length;++u)a.push(s.get(r.bones[u])),h.copy(r.boneInverses[u]),h.multiply(i.bindMatrix).toArray(l,u*16);return t.skins===void 0&&(t.skins=[]),t.skins.push({inverseBindMatrices:this.processAccessor(new Gt(l,16)),joints:a,skeleton:s.get(o)}),n.skin=t.skins.length-1}processNode(i){const t=this.json,s=this.options,n=this.nodeMap;t.nodes||(t.nodes=[]);const r={};if(s.trs){const a=i.quaternion.toArray(),l=i.position.toArray(),h=i.scale.toArray();Ou(a,[0,0,0,1])||(r.rotation=a),Ou(l,[0,0,0])||(r.translation=l),Ou(h,[1,1,1])||(r.scale=h)}else i.matrixAutoUpdate&&i.updateMatrix(),Pte(i.matrix)===!1&&(r.matrix=i.matrix.elements);if(i.name!==""&&(r.name=String(i.name)),this.serializeUserData(i,r),i.isMesh||i.isLine||i.isPoints){const a=this.processMesh(i);a!==null&&(r.mesh=a)}else i.isCamera&&(r.camera=this.processCamera(i));if(i.isSkinnedMesh&&this.skins.push(i),i.children.length>0){const a=[];for(let l=0,h=i.children.length;l<h;l++){const c=i.children[l];if(c.visible||s.onlyVisible===!1){const u=this.processNode(c);u!==null&&a.push(u)}}a.length>0&&(r.children=a)}this._invokeAll(function(a){a.writeNode&&a.writeNode(i,r)});const o=t.nodes.push(r)-1;return n.set(i,o),o}processScene(i){const t=this.json,s=this.options;t.scenes||(t.scenes=[],t.scene=0);const n={};i.name!==""&&(n.name=i.name),t.scenes.push(n);const r=[];for(let o=0,a=i.children.length;o<a;o++){const l=i.children[o];if(l.visible||s.onlyVisible===!1){const h=this.processNode(l);h!==null&&r.push(h)}}r.length>0&&(n.nodes=r),this.serializeUserData(i,n)}processObjects(i){const t=new ur;t.name="AuxScene";for(let s=0;s<i.length;s++)t.children.push(i[s]);this.processScene(t)}processInput(i){const t=this.options;i=i instanceof Array?i:[i],this._invokeAll(function(n){n.beforeParse&&n.beforeParse(i)});const s=[];for(let n=0;n<i.length;n++)i[n]instanceof ur?this.processScene(i[n]):s.push(i[n]);s.length>0&&this.processObjects(s);for(let n=0;n<this.skins.length;++n)this.processSkin(this.skins[n]);for(let n=0;n<t.animations.length;++n)this.processAnimation(t.animations[n],i[0]);this._invokeAll(function(n){n.afterParse&&n.afterParse(i)})}_invokeAll(i){for(let t=0,s=this.plugins.length;t<s;t++)i(this.plugins[t])}}class Dte{constructor(i){this.writer=i,this.name="KHR_lights_punctual"}writeNode(i,t){if(!i.isLight)return;if(!i.isDirectionalLight&&!i.isPointLight&&!i.isSpotLight){console.warn("THREE.GLTFExporter: Only directional, point, and spot lights are supported.",i);return}const s=this.writer,n=s.json,r=s.extensionsUsed,o={};i.name&&(o.name=i.name),o.color=i.color.toArray(),o.intensity=i.intensity,i.isDirectionalLight?o.type="directional":i.isPointLight?(o.type="point",i.distance>0&&(o.range=i.distance)):i.isSpotLight&&(o.type="spot",i.distance>0&&(o.range=i.distance),o.spot={},o.spot.innerConeAngle=(i.penumbra-1)*i.angle*-1,o.spot.outerConeAngle=i.angle),i.decay!==void 0&&i.decay!==2&&console.warn("THREE.GLTFExporter: Light decay may be lost. glTF is physically-based, and expects light.decay=2."),i.target&&(i.target.parent!==i||i.target.position.x!==0||i.target.position.y!==0||i.target.position.z!==-1)&&console.warn("THREE.GLTFExporter: Light direction may be lost. For best results, make light.target a child of the light with position 0,0,-1."),r[this.name]||(n.extensions=n.extensions||{},n.extensions[this.name]={lights:[]},r[this.name]=!0);const a=n.extensions[this.name].lights;a.push(o),t.extensions=t.extensions||{},t.extensions[this.name]={light:a.length-1}}}class Ote{constructor(i){this.writer=i,this.name="KHR_materials_unlit"}writeMaterial(i,t){if(!i.isMeshBasicMaterial)return;const n=this.writer.extensionsUsed;t.extensions=t.extensions||{},t.extensions[this.name]={},n[this.name]=!0,t.pbrMetallicRoughness.metallicFactor=0,t.pbrMetallicRoughness.roughnessFactor=.9}}class zte{constructor(i){this.writer=i,this.name="KHR_materials_pbrSpecularGlossiness"}writeMaterial(i,t){if(!i.isGLTFSpecularGlossinessMaterial)return;const s=this.writer,n=s.extensionsUsed,r={};t.pbrMetallicRoughness.baseColorFactor&&(r.diffuseFactor=t.pbrMetallicRoughness.baseColorFactor);const o=[1,1,1];if(i.specular.toArray(o,0),r.specularFactor=o,r.glossinessFactor=i.glossiness,t.pbrMetallicRoughness.baseColorTexture&&(r.diffuseTexture=t.pbrMetallicRoughness.baseColorTexture),i.specularMap){const a={index:s.processTexture(i.specularMap)};s.applyTextureTransform(a,i.specularMap),r.specularGlossinessTexture=a}t.extensions=t.extensions||{},t.extensions[this.name]=r,n[this.name]=!0}}class Wte{constructor(i){this.writer=i,this.name="KHR_materials_clearcoat"}writeMaterial(i,t){if(!i.isMeshPhysicalMaterial)return;const s=this.writer,n=s.extensionsUsed,r={};if(r.clearcoatFactor=i.clearcoat,i.clearcoatMap){const o={index:s.processTexture(i.clearcoatMap)};s.applyTextureTransform(o,i.clearcoatMap),r.clearcoatTexture=o}if(r.clearcoatRoughnessFactor=i.clearcoatRoughness,i.clearcoatRoughnessMap){const o={index:s.processTexture(i.clearcoatRoughnessMap)};s.applyTextureTransform(o,i.clearcoatRoughnessMap),r.clearcoatRoughnessTexture=o}if(i.clearcoatNormalMap){const o={index:s.processTexture(i.clearcoatNormalMap)};s.applyTextureTransform(o,i.clearcoatNormalMap),r.clearcoatNormalTexture=o}t.extensions=t.extensions||{},t.extensions[this.name]=r,n[this.name]=!0}}class Yte{constructor(i){this.writer=i,this.name="KHR_materials_transmission"}writeMaterial(i,t){if(!i.isMeshPhysicalMaterial||i.transmission===0)return;const s=this.writer,n=s.extensionsUsed,r={};if(r.transmissionFactor=i.transmission,i.transmissionMap){const o={index:s.processTexture(i.transmissionMap)};s.applyTextureTransform(o,i.transmissionMap),r.transmissionTexture=o}t.extensions=t.extensions||{},t.extensions[this.name]=r,n[this.name]=!0}}class kte{constructor(i){this.writer=i,this.name="KHR_materials_volume"}writeMaterial(i,t){if(!i.isMeshPhysicalMaterial||i.transmission===0)return;const s=this.writer,n=s.extensionsUsed,r={};if(r.thicknessFactor=i.thickness,i.thicknessMap){const o={index:s.processTexture(i.thicknessMap)};s.applyTextureTransform(o,i.thicknessMap),r.thicknessTexture=o}r.attenuationDistance=i.attenuationDistance,r.attenuationColor=i.attenuationColor.toArray(),t.extensions=t.extensions||{},t.extensions[this.name]=r,n[this.name]=!0}}gf.Utils={insertKeyframe:function(e,i){const s=e.getValueSize(),n=new e.TimeBufferType(e.times.length+1),r=new e.ValueBufferType(e.values.length+s),o=e.createInterpolant(new e.ValueBufferType(s));let a;if(e.times.length===0){n[0]=i;for(let l=0;l<s;l++)r[l]=0;a=0}else if(i<e.times[0]){if(Math.abs(e.times[0]-i)<.001)return 0;n[0]=i,n.set(e.times,1),r.set(o.evaluate(i),0),r.set(e.values,s),a=0}else if(i>e.times[e.times.length-1]){if(Math.abs(e.times[e.times.length-1]-i)<.001)return e.times.length-1;n[n.length-1]=i,n.set(e.times,0),r.set(e.values,0),r.set(o.evaluate(i),e.values.length),a=n.length-1}else for(let l=0;l<e.times.length;l++){if(Math.abs(e.times[l]-i)<.001)return l;if(e.times[l]<i&&e.times[l+1]>i){n.set(e.times.slice(0,l+1),0),n[l+1]=i,n.set(e.times.slice(l+1),l+2),r.set(e.values.slice(0,(l+1)*s),0),r.set(o.evaluate(i),(l+1)*s),r.set(e.values.slice((l+1)*s),(l+2)*s),a=l+1;break}}return e.times=n,e.values=r,a},mergeMorphTargetTracks:function(e,i){const t=[],s={},n=e.tracks;for(let r=0;r<n.length;++r){let o=n[r];const a=vi.parseTrackName(o.name),l=vi.findNode(i,a.nodeName);if(a.propertyName!=="morphTargetInfluences"||a.propertyIndex===void 0){t.push(o);continue}if(o.createInterpolant!==o.InterpolantFactoryMethodDiscrete&&o.createInterpolant!==o.InterpolantFactoryMethodLinear){if(o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline)throw new Error("THREE.GLTFExporter: Cannot merge tracks with glTF CUBICSPLINE interpolation.");console.warn("THREE.GLTFExporter: Morph target interpolation mode not yet supported. Using LINEAR instead."),o=o.clone(),o.setInterpolation(RO)}const h=l.morphTargetInfluences.length,c=l.morphTargetDictionary[a.propertyIndex];if(c===void 0)throw new Error("THREE.GLTFExporter: Morph target name not found: "+a.propertyIndex);let u;if(s[l.uuid]===void 0){u=o.clone();const d=new u.ValueBufferType(h*u.times.length);for(let T=0;T<u.times.length;T++)d[T*h+c]=u.values[T];u.name=(a.nodeName||"")+".morphTargetInfluences",u.values=d,s[l.uuid]=u,t.push(u);continue}const p=o.createInterpolant(new o.ValueBufferType(1));u=s[l.uuid];for(let d=0;d<u.times.length;d++)u.values[d*h+c]=p.evaluate(u.times[d]);for(let d=0;d<o.times.length;d++){const T=this.insertKeyframe(u,o.times[d]);u.values[T*h+c]=o.values[d]}}return e.tracks=t,e}};class zu extends pA{constructor(i,t,s){super(i,t,s);this.elementCount=0,this.exportOptions={trs:!1,onlyVisible:!1,truncateDrawRange:!0,binary:!0,maxTextureSize:0},this.exporter=new gf,this.material=zu.newMaterialArray(t),this.geometry=this.newFragmentGeometry(i)}export(){const i=this;return new Promise(t=>{this.exporter.parse(i,s=>t(s),this.exportOptions)})}newFragmentGeometry(i){if(!i.index)throw new Error("The geometry must be indexed!");if(!i.attributes.blockID){const s=i.attributes.position.count,n=new Uint16Array(s);n.fill(this.elementCount++),i.attributes.blockID=new Tf(n,1)}const t=i.index.count;return zu.initializeGroups(i,t),i}static initializeGroups(i,t){i.groups.length||i.groups.push({start:0,count:t,materialIndex:0})}static newMaterialArray(i){return Array.isArray(i)||(i=[i]),i}}class If{constructor(i){this.indices=If.initializeBlocks(i),this.generateGeometryIndexMap(i)}generateGeometryIndexMap(i){const t=i.mesh.geometry;for(const s of t.groups)this.fillBlocksMapWithGroupInfo(s,t)}getSubsetID(i,t,s="DEFAULT"){const n=i,r=t?t.uuid:"DEFAULT";return`${n} - ${r} - ${s}`}dispose(){this.indices=null}static initializeBlocks(i){const t=i.mesh.geometry;return{indexCache:t.index.array.slice(0,t.index.array.length),map:new Map}}fillBlocksMapWithGroupInfo(i,t){let s=-1;const n=i.materialIndex,r=i.start,o=r+i.count-1;let a=-1,l=-1;for(let h=r;h<=o;h++){const c=t.index.array[h],u=t.attributes.blockID.array[c];if(s===-1&&(s=u,a=h),h===o){this.getMaterialStore(u,n).push(a,o);break}if(s===u)continue;const d=this.getMaterialStore(s,n);l=h-1,d.push(a,l),s=u,a=h}}getMaterialStore(i,t){this.indices.map.get(i)===void 0&&this.indices.map.set(i,{});const s=this.indices.map.get(i);if(s===void 0)throw new Error("Geometry map generation error");return s[t]===void 0&&(s[t]=[]),s[t]}}class Ate{constructor(i){this.fragment=i,this.tempIndex=[],this.blocksMap=new If(i),this.initializeSubsetGroups(i);const t=i.mesh.geometry.attributes.blockID.array;this.visibleIds=new Set(t),this.ids=new Set(t),this.add(Array.from(this.ids),!0)}get count(){return this.ids.size}reset(){this.add(Array.from(this.ids),!0)}add(i,t=!0){this.filterIndices(t);const s=i.filter(n=>!this.visibleIds.has(n));this.constructSubsetByMaterial(i),s.forEach(n=>this.visibleIds.add(n)),this.fragment.mesh.geometry.setIndex(this.tempIndex),this.tempIndex.length=0}remove(i){i.forEach(s=>this.visibleIds.has(s)&&this.visibleIds.delete(s));const t=Array.from(this.visibleIds);this.add(t,!0)}dispose(){this.blocksMap.dispose(),this.tempIndex=[],this.visibleIds.clear(),this.visibleIds=null,this.ids.clear(),this.ids=null}initializeSubsetGroups(i){const t=i.mesh.geometry;t.groups=JSON.parse(JSON.stringify(t.groups)),this.resetGroups(t)}filterIndices(i){const t=this.fragment.mesh.geometry;if(!i){this.tempIndex=Array.from(t.index.array);return}t.setIndex([]),this.resetGroups(t)}constructSubsetByMaterial(i){const t=this.fragment.mesh.geometry.groups.length,s={count:0};for(let n=0;n<t;n++)this.insertNewIndices(i,n,s)}insertNewIndices(i,t,s){const n=this.getAllIndicesOfGroup(i,t);this.insertIndicesAtGroup(n,t,s)}insertIndicesAtGroup(i,t,s){const n=this.getCurrentGroup(t);n.start+=s.count;const r=n.start+n.count;if(s.count+=i.length,i.length>0){const o=r,a=this.tempIndex.slice(0,o),l=this.tempIndex.slice(o);this.tempIndex=Array.prototype.concat.apply([],[a,i,l]),n.count+=i.length}}getCurrentGroup(i){return this.fragment.mesh.geometry.groups[i]}resetGroups(i){i.groups.forEach(t=>{t.start=0,t.count=0})}getAllIndicesOfGroup(i,t,s=!0){const n=[];for(const r of i){const o=this.blocksMap.indices.map.get(r);if(!o)continue;const a=o[t];!a||this.getIndexChunk(a,n,t,s)}return n}getIndexChunk(i,t,s,n){const r=i.length/2;for(let o=0;o<r;o++){const a=o*2,l=i[a],h=i[a+1];for(let c=l;c<=h;c++)n?t.push(this.blocksMap.indices.indexCache[c]):(t[s]||(t[s]=[]),t[s].push(this.blocksMap.indices.indexCache[c]))}}}class Ll{static apply(i){Ll.initialized||(Yt.prototype.computeBoundsTree=w1,Yt.prototype.disposeBoundsTree=X1,fi.prototype.raycast=Hy,Ll.initialized=!0),i.boundsTree||i.computeBoundsTree()}static dispose(i){i.disposeBoundsTree()}}Ll.initialized=!1;class dm{constructor(i,t,s){this.fragments={},this.items=[],this.hiddenInstances={},this.mesh=new zu(i,t,s),this.id=this.mesh.uuid,this.capacity=s,this.blocks=new Ate(this),Ll.apply(i)}dispose(i=!0){this.items=null,i&&(this.mesh.material.forEach(t=>t.dispose()),Ll.dispose(this.mesh.geometry),this.mesh.geometry.dispose()),this.mesh.dispose(),this.mesh=null,this.disposeNestedFragments()}getItemID(i,t){const s=this.getItemIndex(i,t);return this.items[s]}getInstanceAndBlockID(i){const t=this.items.indexOf(i),s=this.getInstanceIDFromIndex(t),n=t%this.blocks.count;return{instanceID:s,blockID:n}}getVertexBlockID(i,t){return i.attributes.blockID.array[t]}getItemData(i){const t=this.items.indexOf(i),s=Math.ceil(t/this.blocks.count),n=t%this.blocks.count;return{instanceID:s,blockID:n}}getInstance(i,t){return this.mesh.getMatrixAt(i,t)}setInstance(i,t){this.checkIfInstanceExist(i),this.mesh.setMatrixAt(i,t.transform),this.mesh.instanceMatrix.needsUpdate=!0,t.ids&&this.saveItemsInMap(t.ids,i)}addInstances(i){this.resizeCapacityIfNeeded(i.length);const t=this.mesh.count;this.mesh.count+=i.length;for(let s=0;s<i.length;s++)this.setInstance(t+s,i[s])}removeInstances(i){if(this.mesh.count<=1){this.clear();return}this.deleteAndRearrangeInstances(i),this.mesh.count-=i.length,this.mesh.instanceMatrix.needsUpdate=!0}clear(){this.mesh.clear(),this.mesh.count=0,this.items=[]}addFragment(i,t=this.mesh.material){const s=this.initializeGeometry();t===this.mesh.material&&this.copyGroups(s);const n=new dm(s,t,this.capacity);return n.mesh.applyMatrix4(this.mesh.matrix),n.mesh.updateMatrix(),this.fragments[i]=n,this.fragments[i]}removeFragment(i){const t=this.fragments[i];t&&(t.dispose(!1),delete this.fragments[i])}resetVisibility(){if(this.blocks.count>1)this.blocks.reset();else{const i=Object.keys(this.hiddenInstances);this.makeInstancesVisible(i),this.hiddenInstances={}}}setVisibility(i,t){this.blocks.count>1?(this.toggleBlockVisibility(t,i),this.mesh.geometry.disposeBoundsTree(),Ll.apply(this.mesh.geometry)):this.toggleInstanceVisibility(t,i)}resize(i){var t;const s=this.createFragmentMeshWithNewSize(i);this.capacity=i;const n=this.mesh;(t=n.parent)===null||t===void 0||t.add(s),n.removeFromParent(),this.mesh=s,n.dispose()}async export(){const i=await this.mesh.export(),t=new File([new Blob([i])],`${this.id}.glb`),s={matrices:Array.from(this.mesh.instanceMatrix.array),ids:this.items},n=JSON.stringify(s),r=new File([new Blob([n])],`${this.id}.json`);return{geometry:t,data:r}}copyGroups(i){i.groups=[];for(const t of this.mesh.geometry.groups)i.groups.push({...t})}initializeGeometry(){const i=new Yt;return i.setAttribute("position",this.mesh.geometry.attributes.position),i.setAttribute("normal",this.mesh.geometry.attributes.normal),i.setAttribute("blockID",this.mesh.geometry.attributes.blockID),i.setIndex(Array.from(this.mesh.geometry.index.array)),i}saveItemsInMap(i,t){this.checkBlockNumberValid(i);let s=0;for(const n of i){const r=this.getItemIndex(t,s);this.items[r]=n,s++}}resizeCapacityIfNeeded(i){const t=i+this.mesh.count;t>this.capacity&&this.resize(t)}createFragmentMeshWithNewSize(i){const t=new zu(this.mesh.geometry,this.mesh.material,i);return t.count=this.mesh.count,t}disposeNestedFragments(){const i=Object.values(this.fragments);for(let t=0;t<i.length;t++)i[t].dispose();this.fragments={}}checkBlockNumberValid(i){if(i.length>this.blocks.count)throw new Error(`You passed more items (${i.length}) than blocks in this instance (${this.blocks.count})`)}checkIfInstanceExist(i){if(i>this.mesh.count)throw new Error(`The given index (${i}) exceeds the instances in this fragment (${this.mesh.count})`)}deleteAndRearrangeInstances(i){const t=[];for(const s of i){const n=this.deleteAndRearrange(s);n&&t.push(n)}for(const s of i)delete this.hiddenInstances[s];return t}deleteAndRearrange(i){const t=this.items.indexOf(i);if(t===-1)return null;this.mesh.count--;const s=t===this.mesh.count,n=this.getInstanceIDFromIndex(t),r=new pt,o=new pt;if(this.mesh.getMatrixAt(n,o),s)return this.items.pop(),{ids:[i],transform:o};const a=this.mesh.count;return this.items[t]=this.items[a],this.items.pop(),this.mesh.getMatrixAt(a,r),this.mesh.setMatrixAt(n,r),this.mesh.instanceMatrix.needsUpdate=!0,{ids:[i],transform:o}}getItemIndex(i,t){return i*this.blocks.count+t}getInstanceIDFromIndex(i){return Math.trunc(i/this.blocks.count)}toggleInstanceVisibility(i,t){i?this.makeInstancesVisible(t):this.makeInstancesInvisible(t)}makeInstancesInvisible(i){i=this.filterHiddenItems(i,!1);const t=this.deleteAndRearrangeInstances(i);for(const s of t)s.ids&&(this.hiddenInstances[s.ids[0]]=s)}makeInstancesVisible(i){const t=[];i=this.filterHiddenItems(i,!0);for(const s of i)t.push(this.hiddenInstances[s]),delete this.hiddenInstances[s];this.addInstances(t)}filterHiddenItems(i,t){const s=Object.keys(this.hiddenInstances);return i.filter(n=>t?s.includes(n):!s.includes(n))}toggleBlockVisibility(i,t){const s=t.map(n=>this.getInstanceAndBlockID(n).blockID);i?this.blocks.add(s,!1):this.blocks.remove(s)}}class Kte extends Ia{constructor(){super(...arguments);this.fragments=[]}}class Zte{constructor(i,t,s,n){this.state=i,this.properties=t,this.types=s,this.BVH=n,this.instancedCategories=new Set,this.splitByFloors=!0,this.splitByCategory=!0,this.loadedModels=0,this.optionalCategories={[$h]:!0,[qh]:!1},this.items={},this.materials={},this.loadingState={total:0,current:0,step:.1},this.currentWebIfcID=-1,this.currentModelID=-1}async setupOptionalCategories(i){this.optionalCategories=i}async parse(i,t){return this.state.api.wasmModule===void 0&&await this.state.api.Init(),await this.newIfcModel(i),this.loadedModels++,t&&await this.state.api.SetGeometryTransformation(this.currentWebIfcID,t),await this.loadAllGeometry(this.currentWebIfcID)}getAndClearErrors(i){}notifyProgress(i,t){this.state.onProgress&&this.state.onProgress({loaded:i,total:t})}async newIfcModel(i){const t=new Uint8Array(i);this.currentWebIfcID=await this.state.api.OpenModel(t,this.state.webIfcSettings),this.currentModelID=this.state.useJSON?this.loadedModels:this.currentWebIfcID,this.state.models[this.currentModelID]={modelID:this.currentModelID,mesh:{},types:{},jsonData:{}}}async loadAllGeometry(i){this.addOptionalCategories(i),await this.initializeLoadingState(i),this.instancedCategories.add(jy),this.instancedCategories.add(tf),this.instancedCategories.add(Vy),this.state.api.StreamAllMeshes(i,a=>{this.updateLoadingState(),this.streamMesh(i,a)}),this.splitByCategory&&this.types&&await this.types.getAllTypes();const t=[];let s={};if(this.splitByFloors&&this.properties){const l=(await this.properties.getSpatialStructure(i)).children[0].children[0].children;for(const h of l){const c=await this.properties.getItemProperties(i,h.expressID,!1);t.push(c);for(const u of h.children)if(s[u.expressID]=h.expressID,u.children.length)for(const p of u.children)s[p.expressID]=h.expressID}}const n=new Kte,r=Object.values(this.items),o={};for(const a of r){const l=a.instances.length,h=a.instances[0].id,c=this.state.models[0].types[h];if(!(l===1)||this.instancedCategories.has(c)){const p=Object.keys(a.geometriesByMaterial).map(I=>this.materials[I]),d=Object.values(a.geometriesByMaterial),T=y3.merge(d),g=new dm(T,p,l);for(let I=0;I<l;I++){const v=a.instances[I];g.setInstance(I,{ids:[v.id.toString()],transform:v.matrix})}n.fragments.push(g),n.add(g.mesh)}else for(const p in a.geometriesByMaterial){const d=a.instances[0].id,T=this.splitByCategory?this.state.models[i].types[d]:-1;o[T]||(o[T]={});const g=this.splitByFloors?s[d]:-1;o[T][g]||(o[T][g]={}),o[T][g][p]||(o[T][g][p]=[]);const I=a.geometriesByMaterial[p],v=a.instances[0];for(const C of I)C.userData.id=d,o[T][g][p].push(C),C.applyMatrix4(v.matrix)}}for(const a in o)for(const l in o[a]){const h=parseInt(a),c=parseInt(l);if(!c||!h)continue;const u=Object.keys(o[h][c]).map(w=>this.materials[w]),p=Object.values(o[h][c]);let d=0;const T=new Set;for(const w of p)for(const O of w)d+=O.attributes.position.count,T.add(O.userData.id);const g=new Uint32Array(d),I=new Map;let v=0,C=0;for(const w of p)for(const O of w){I.has(O.userData.id)||I.set(O.userData.id,C++);const X=O.attributes.position.count,K=I.get(O.userData.id);g.fill(K,v,v+X),v+=X}const N=y3.merge(p);N.setAttribute("blockID",new Gt(g,1));const F=new dm(N,u,1),P=Array.from(T).map(w=>w.toString());F.setInstance(0,{ids:P,transform:new pt}),n.fragments.push(F),n.add(F.mesh)}n.levelRelationships=s,n.allTypes=Il,n.itemTypes=this.state.models[i].types,n.floorsProperties=t;for(let a of r)a.geometriesByMaterial=null,a.instances=null,a.referenceMatrix=null;return this.items={},this.materials={},this.notifyLoadingEnded(),this.state.models[this.currentModelID].mesh=n,n}async initializeLoadingState(i){const t=await this.state.api.GetLineIDsWithType(i,By);this.loadingState.total=t.size(),this.loadingState.current=0,this.loadingState.step=.1}notifyLoadingEnded(){this.notifyProgress(this.loadingState.total,this.loadingState.total)}updateLoadingState(){if(Math.min(this.loadingState.current++,this.loadingState.total)/this.loadingState.total>=this.loadingState.step){const t=Math.ceil(this.loadingState.total*this.loadingState.step);this.notifyProgress(t,this.loadingState.total),this.loadingState.step+=.1}}addOptionalCategories(i){const t=[];for(let s in this.optionalCategories)if(this.optionalCategories.hasOwnProperty(s)){const n=parseInt(s);this.optionalCategories[n]&&t.push(n)}this.state.api.StreamAllMeshesWithTypes(this.currentWebIfcID,t,s=>{this.streamMesh(i,s)})}streamMesh(i,t){const s=t.geometries,n=s.size();let r="",o=new pt,a=!0;const l={};for(let h=0;h<n;h++)r+=s.get(h).geometryExpressID;if(this.items[r]){const h=this.items[r].referenceMatrix,c=s.get(0),u=this.getMeshMatrix(c.flatTransformation);u.multiply(h),this.items[r].instances.push({id:t.expressID,matrix:u})}else{for(let h=0;h<n;h++){const c=s.get(h),u=this.getBufferGeometry(i,c);if(!u)return;const p=this.getMeshMatrix(c.flatTransformation);u.applyMatrix4(p),a&&(o=new pt().copy(p).invert(),a=!1);const d=c.color,T=`${d.x}${d.y}${d.z}${d.w}`;this.materials[T]||(this.materials[T]=new P0({color:new ge(d.x,d.y,d.z),transparent:d.w!==1,opacity:d.w})),l[T]?l[T].push(u):l[T]=[u]}this.items[r]={instances:[{id:t.expressID,matrix:new pt}],geometriesByMaterial:l,referenceMatrix:o}}}getBufferGeometry(i,t){const s=this.state.api.GetGeometry(i,t.geometryExpressID),n=this.state.api.GetVertexArray(s.GetVertexData(),s.GetVertexDataSize());if(!n.length)return null;const r=this.state.api.GetIndexArray(s.GetIndexData(),s.GetIndexDataSize());if(!r.length)return null;const o=this.ifcGeometryToBuffer(n,r);return s.delete(),o}getMeshMatrix(i){const t=new pt;return t.fromArray(i),t}ifcGeometryToBuffer(i,t){const s=new Yt,n=new Float32Array(i.length/2),r=new Float32Array(i.length/2);for(let o=0;o<i.length;o+=6)n[o/2]=i[o],n[o/2+1]=i[o+1],n[o/2+2]=i[o+2],r[o/2]=i[o+3],r[o/2+1]=i[o+4],r[o/2+2]=i[o+5];return s.setAttribute("position",new Gt(n,3)),s.setAttribute("normal",new Gt(r,3)),s.setIndex(new Gt(t,1)),s}}class Hte{constructor(){this.state={models:[],api:new nf,useJSON:!1,worker:{active:!1,path:""}},this.BVH=new hte,this.typesMap=Il,this.parser=new tte(this.state,this.BVH),this.subsets=new nte(this.state,this.BVH),this.utils=new m3(this.state),this.sequenceData=new xte(this.state),this.properties=new ate(this.state),this.types=new lte(this.state),this.fragments=new Zte(this.state,this.properties,this.types,this.BVH),this.useFragments=!1,this.cleaner=new Mte(this.state)}get ifcAPI(){return this.state.api}async parse(i){var t,s;let n;return this.useFragments?n=await this.fragments.parse(i,(t=this.state.coordinationMatrix)===null||t===void 0?void 0:t.toArray()):n=await this.parser.parse(i,(s=this.state.coordinationMatrix)===null||s===void 0?void 0:s.toArray()),n.setIFCManager(this),await this.types.getAllTypes(this.worker),n}async setWasmPath(i){this.state.api.SetWasmPath(i),this.state.wasmPath=i}setupThreeMeshBVH(i,t,s){this.BVH.initializeMeshBVH(i,t,s)}setOnProgress(i){this.state.onProgress=i}setupCoordinationMatrix(i){this.state.coordinationMatrix=i}clearCoordinationMatrix(){delete this.state.coordinationMatrix}async applyWebIfcConfig(i){this.state.webIfcSettings=i,this.state.worker.active&&this.worker&&await this.worker.workerState.updateStateWebIfcSettings()}async useWebWorkers(i,t){if(this.state.worker.active!==i)if(this.state.api=null,i){if(!t)throw new Error("You must provide a path to the web worker.");this.state.worker.active=i,this.state.worker.path=t,await this.initializeWorkers();const s=this.state.wasmPath;s&&await this.setWasmPath(s)}else this.state.api=new nf}async useJSONData(i=!0){var t;this.state.useJSON=i,i&&await((t=this.worker)===null||t===void 0?void 0:t.workerState.updateStateUseJson())}async addModelJSONData(i,t){var s;const n=this.state.models[i];if(!n)throw new Error("The specified model for the JSON data does not exist");this.state.worker.active?await((s=this.worker)===null||s===void 0?void 0:s.workerState.updateModelStateJsonData(i,t)):n.jsonData=t}async loadJsonDataFromWorker(i,t){var s;this.state.worker.active&&await((s=this.worker)===null||s===void 0?void 0:s.workerState.loadJsonDataFromWorker(i,t))}close(i,t){this.state.api.CloseModel(i),t&&t.remove(this.state.models[i].mesh),delete this.state.models[i]}getExpressId(i,t){return this.properties.getExpressId(i,t)}getAllItemsOfType(i,t,s){return this.properties.getAllItemsOfType(i,t,s)}getItemProperties(i,t,s=!1){return this.properties.getItemProperties(i,t,s)}getPropertySets(i,t,s=!1){return this.properties.getPropertySets(i,t,s)}getTypeProperties(i,t,s=!1){return this.properties.getTypeProperties(i,t,s)}getMaterialsProperties(i,t,s=!1){return this.properties.getMaterialsProperties(i,t,s)}getIfcType(i,t){const s=this.state.models[i].types[t];return af[s]}getSpatialStructure(i,t){return this.properties.getSpatialStructure(i,t)}getSubset(i,t,s){return this.subsets.getSubset(i,t,s)}removeSubset(i,t,s){this.subsets.removeSubset(i,t,s)}createSubset(i){return this.subsets.createSubset(i)}removeFromSubset(i,t,s,n){return this.subsets.removeFromSubset(i,t,s,n)}clearSubset(i,t,s){return this.subsets.clearSubset(i,t,s)}async isA(i,t){return this.utils.isA(i,t)}async getSequenceData(i){return await this.sequenceData.load(i),this.sequenceData}async byType(i,t){return this.utils.byType(i,t)}async byId(i,t){return this.utils.byId(i,t)}async idsByType(i,t){return this.utils.idsByType(i,t)}async dispose(){Ia.dispose(),await this.cleaner.dispose(),this.subsets.dispose(),this.worker&&this.state.worker.active&&await this.worker.terminate(),this.state=null}async disposeMemory(){var i;this.state.worker.active?await((i=this.worker)===null||i===void 0?void 0:i.Close()):(this.state.api.Close(),this.state.api=null,this.state.api=new nf)}getAndClearErrors(i){return this.parser.getAndClearErrors(i)}async initializeWorkers(){this.worker=new Ste(this.state,this.BVH),this.state.api=this.worker.webIfc,this.properties=this.worker.properties,await this.worker.parser.setupOptionalCategories(this.parser.optionalCategories),this.parser=this.worker.parser,await this.worker.workerState.updateStateUseJson(),await this.worker.workerState.updateStateWebIfcSettings()}}class Ute extends Id{constructor(i){super(i);this.ifcManager=new Hte}load(i,t,s,n){const r=this,o=new gA(r.manager);this.onProgress=s,o.setPath(r.path),o.setResponseType("arraybuffer"),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(i,async function(a){try{if(typeof a=="string")throw new Error("IFC files must be given as a buffer!");t(await r.parse(a))}catch(l){n?n(l):console.error(l),r.manager.itemError(i)}},s,n)}parse(i){return this.ifcManager.parse(i)}}var _te=ru("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwp2YXIgd29ya2VyX2NvZGU9ZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIGVoPU1hdGgucG93LHJoPShsaCxvdCk9PigpPT4ob3R8fGxoKChvdD17ZXhwb3J0czp7fX0pLmV4cG9ydHMsb3QpLG90LmV4cG9ydHMpLG5oPXJoKEk9PntmdW5jdGlvbiBvdChzKXtzKCJFUFNHOjQzMjYiLCIrdGl0bGU9V0dTIDg0IChsb25nL2xhdCkgK3Byb2o9bG9uZ2xhdCArZWxscHM9V0dTODQgK2RhdHVtPVdHUzg0ICt1bml0cz1kZWdyZWVzIikscygiRVBTRzo0MjY5IiwiK3RpdGxlPU5BRDgzIChsb25nL2xhdCkgK3Byb2o9bG9uZ2xhdCArYT02Mzc4MTM3LjAgK2I9NjM1Njc1Mi4zMTQxNDAzNiArZWxscHM9R1JTODAgK2RhdHVtPU5BRDgzICt1bml0cz1kZWdyZWVzIikscygiRVBTRzozODU3IiwiK3RpdGxlPVdHUyA4NCAvIFBzZXVkby1NZXJjYXRvciArcHJvaj1tZXJjICthPTYzNzgxMzcgK2I9NjM3ODEzNyArbGF0X3RzPTAuMCArbG9uXzA9MC4wICt4XzA9MC4wICt5XzA9MCAraz0xLjAgK3VuaXRzPW0gK25hZGdyaWRzPUBudWxsICtub19kZWZzIikscy5XR1M4ND1zWyJFUFNHOjQzMjYiXSxzWyJFUFNHOjM3ODUiXT1zWyJFUFNHOjM4NTciXSxzLkdPT0dMRT1zWyJFUFNHOjM4NTciXSxzWyJFUFNHOjkwMDkxMyJdPXNbIkVQU0c6Mzg1NyJdLHNbIkVQU0c6MTAyMTEzIl09c1siRVBTRzozODU3Il19dmFyIHJ0PTEsbnQ9MixxdD0zLHVoPTQsaHM9NSx5cz02Mzc4MTM3LGNoPTYzNTY3NTIzMTRlLTMsbXM9LjAwNjY5NDM3OTk5MDE0MTMxNjUsZ3Q9NDg0ODEzNjgxMTA5NTM2ZS0yMCxwPU1hdGguUEkvMixNaD0uMTY2NjY2NjY2NjY2NjY2NjYsZmg9LjA0NzIyMjIyMjIyMjIyMjIyLHloPS4wMjIxNTYwODQ2NTYwODQ2NTUseD0xZS0xMCxxPS4wMTc0NTMyOTI1MTk5NDMyOTUsSj01Ny4yOTU3Nzk1MTMwODIzMixOPU1hdGguUEkvNCx2dD1NYXRoLlBJKjIsTz0zLjE0MTU5MjY1MzU5LEc9e307Ry5ncmVlbndpY2g9MCxHLmxpc2Jvbj0tOS4xMzE5MDYxMTExMTEsRy5wYXJpcz0yLjMzNzIyOTE2NjY2NyxHLmJvZ290YT0tNzQuMDgwOTE2NjY2NjY3LEcubWFkcmlkPS0zLjY4NzkzODg4ODg4OSxHLnJvbWU9MTIuNDUyMzMzMzMzMzMzLEcuYmVybj03LjQzOTU4MzMzMzMzMyxHLmpha2FydGE9MTA2LjgwNzcxOTQ0NDQ0NCxHLmZlcnJvPS0xNy42NjY2NjY2NjY2NjcsRy5icnVzc2Vscz00LjM2Nzk3NSxHLnN0b2NraG9sbT0xOC4wNTgyNzc3Nzc3NzgsRy5hdGhlbnM9MjMuNzE2MzM3NSxHLm9zbG89MTAuNzIyOTE2NjY2NjY3O3ZhciBtaD17ZnQ6e3RvX21ldGVyOi4zMDQ4fSwidXMtZnQiOnt0b19tZXRlcjoxMjAwLzM5Mzd9fSxfcz0vW1xzX1wtXC9cKFwpXS9nO2Z1bmN0aW9uIGh0KHMsdCl7aWYoc1t0XSlyZXR1cm4gc1t0XTtmb3IodmFyIGg9T2JqZWN0LmtleXMocyksYT10LnRvTG93ZXJDYXNlKCkucmVwbGFjZShfcywiIiksaT0tMSxlLG47KytpPGgubGVuZ3RoOylpZihlPWhbaV0sbj1lLnRvTG93ZXJDYXNlKCkucmVwbGFjZShfcywiIiksbj09PWEpcmV0dXJuIHNbZV19ZnVuY3Rpb24gYXMocyl7dmFyIHQ9e30saD1zLnNwbGl0KCIrIikubWFwKGZ1bmN0aW9uKHIpe3JldHVybiByLnRyaW0oKX0pLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4gcn0pLnJlZHVjZShmdW5jdGlvbihyLG8pe3ZhciBsPW8uc3BsaXQoIj0iKTtyZXR1cm4gbC5wdXNoKCEwKSxyW2xbMF0udG9Mb3dlckNhc2UoKV09bFsxXSxyfSx7fSksYSxpLGUsbj17cHJvajoicHJvak5hbWUiLGRhdHVtOiJkYXR1bUNvZGUiLHJmOmZ1bmN0aW9uKHIpe3QucmY9cGFyc2VGbG9hdChyKX0sbGF0XzA6ZnVuY3Rpb24ocil7dC5sYXQwPXIqcX0sbGF0XzE6ZnVuY3Rpb24ocil7dC5sYXQxPXIqcX0sbGF0XzI6ZnVuY3Rpb24ocil7dC5sYXQyPXIqcX0sbGF0X3RzOmZ1bmN0aW9uKHIpe3QubGF0X3RzPXIqcX0sbG9uXzA6ZnVuY3Rpb24ocil7dC5sb25nMD1yKnF9LGxvbl8xOmZ1bmN0aW9uKHIpe3QubG9uZzE9cipxfSxsb25fMjpmdW5jdGlvbihyKXt0LmxvbmcyPXIqcX0sYWxwaGE6ZnVuY3Rpb24ocil7dC5hbHBoYT1wYXJzZUZsb2F0KHIpKnF9LGdhbW1hOmZ1bmN0aW9uKHIpe3QucmVjdGlmaWVkX2dyaWRfYW5nbGU9cGFyc2VGbG9hdChyKX0sbG9uYzpmdW5jdGlvbihyKXt0LmxvbmdjPXIqcX0seF8wOmZ1bmN0aW9uKHIpe3QueDA9cGFyc2VGbG9hdChyKX0seV8wOmZ1bmN0aW9uKHIpe3QueTA9cGFyc2VGbG9hdChyKX0sa18wOmZ1bmN0aW9uKHIpe3QuazA9cGFyc2VGbG9hdChyKX0sazpmdW5jdGlvbihyKXt0LmswPXBhcnNlRmxvYXQocil9LGE6ZnVuY3Rpb24ocil7dC5hPXBhcnNlRmxvYXQocil9LGI6ZnVuY3Rpb24ocil7dC5iPXBhcnNlRmxvYXQocil9LHJfYTpmdW5jdGlvbigpe3QuUl9BPSEwfSx6b25lOmZ1bmN0aW9uKHIpe3Quem9uZT1wYXJzZUludChyLDEwKX0sc291dGg6ZnVuY3Rpb24oKXt0LnV0bVNvdXRoPSEwfSx0b3dnczg0OmZ1bmN0aW9uKHIpe3QuZGF0dW1fcGFyYW1zPXIuc3BsaXQoIiwiKS5tYXAoZnVuY3Rpb24obyl7cmV0dXJuIHBhcnNlRmxvYXQobyl9KX0sdG9fbWV0ZXI6ZnVuY3Rpb24ocil7dC50b19tZXRlcj1wYXJzZUZsb2F0KHIpfSx1bml0czpmdW5jdGlvbihyKXt0LnVuaXRzPXI7dmFyIG89aHQobWgscik7byYmKHQudG9fbWV0ZXI9by50b19tZXRlcil9LGZyb21fZ3JlZW53aWNoOmZ1bmN0aW9uKHIpe3QuZnJvbV9ncmVlbndpY2g9cipxfSxwbTpmdW5jdGlvbihyKXt2YXIgbz1odChHLHIpO3QuZnJvbV9ncmVlbndpY2g9KG98fHBhcnNlRmxvYXQocikpKnF9LG5hZGdyaWRzOmZ1bmN0aW9uKHIpe3I9PT0iQG51bGwiP3QuZGF0dW1Db2RlPSJub25lIjp0Lm5hZGdyaWRzPXJ9LGF4aXM6ZnVuY3Rpb24ocil7dmFyIG89ImV3bnN1ZCI7ci5sZW5ndGg9PT0zJiZvLmluZGV4T2Yoci5zdWJzdHIoMCwxKSkhPT0tMSYmby5pbmRleE9mKHIuc3Vic3RyKDEsMSkpIT09LTEmJm8uaW5kZXhPZihyLnN1YnN0cigyLDEpKSE9PS0xJiYodC5heGlzPXIpfSxhcHByb3g6ZnVuY3Rpb24oKXt0LmFwcHJveD0hMH19O2ZvcihhIGluIGgpaT1oW2FdLGEgaW4gbj8oZT1uW2FdLHR5cGVvZiBlPT0iZnVuY3Rpb24iP2UoaSk6dFtlXT1pKTp0W2FdPWk7cmV0dXJuIHR5cGVvZiB0LmRhdHVtQ29kZT09InN0cmluZyImJnQuZGF0dW1Db2RlIT09IldHUzg0IiYmKHQuZGF0dW1Db2RlPXQuZGF0dW1Db2RlLnRvTG93ZXJDYXNlKCkpLHR9dmFyIGJ0PTEsZHM9Mixwcz0zLFJ0PTQseHM9NSxpcz0tMSxfaD0vXHMvLGRoPS9bQS1aYS16XS8scGg9L1tBLVphLXo4NF9dLyxUdD0vWyxcXV0vLGdzPS9bXGRcLkVcLVwrXS87ZnVuY3Rpb24gJChzKXtpZih0eXBlb2YgcyE9InN0cmluZyIpdGhyb3cgbmV3IEVycm9yKCJub3QgYSBzdHJpbmciKTt0aGlzLnRleHQ9cy50cmltKCksdGhpcy5sZXZlbD0wLHRoaXMucGxhY2U9MCx0aGlzLnJvb3Q9bnVsbCx0aGlzLnN0YWNrPVtdLHRoaXMuY3VycmVudE9iamVjdD1udWxsLHRoaXMuc3RhdGU9YnR9JC5wcm90b3R5cGUucmVhZENoYXJpY3Rlcj1mdW5jdGlvbigpe3ZhciBzPXRoaXMudGV4dFt0aGlzLnBsYWNlKytdO2lmKHRoaXMuc3RhdGUhPT1SdClmb3IoO19oLnRlc3Qocyk7KXtpZih0aGlzLnBsYWNlPj10aGlzLnRleHQubGVuZ3RoKXJldHVybjtzPXRoaXMudGV4dFt0aGlzLnBsYWNlKytdfXN3aXRjaCh0aGlzLnN0YXRlKXtjYXNlIGJ0OnJldHVybiB0aGlzLm5ldXRyYWwocyk7Y2FzZSBkczpyZXR1cm4gdGhpcy5rZXl3b3JkKHMpO2Nhc2UgUnQ6cmV0dXJuIHRoaXMucXVvdGVkKHMpO2Nhc2UgeHM6cmV0dXJuIHRoaXMuYWZ0ZXJxdW90ZShzKTtjYXNlIHBzOnJldHVybiB0aGlzLm51bWJlcihzKTtjYXNlIGlzOnJldHVybn19LCQucHJvdG90eXBlLmFmdGVycXVvdGU9ZnVuY3Rpb24ocyl7aWYocz09PSciJyl7dGhpcy53b3JkKz0nIicsdGhpcy5zdGF0ZT1SdDtyZXR1cm59aWYoVHQudGVzdChzKSl7dGhpcy53b3JkPXRoaXMud29yZC50cmltKCksdGhpcy5hZnRlckl0ZW0ocyk7cmV0dXJufXRocm93IG5ldyBFcnJvcihgaGF2bid0IGhhbmRsZWQgImArcysnIiBpbiBhZnRlcnF1b3RlIHlldCwgaW5kZXggJyt0aGlzLnBsYWNlKX0sJC5wcm90b3R5cGUuYWZ0ZXJJdGVtPWZ1bmN0aW9uKHMpe2lmKHM9PT0iLCIpe3RoaXMud29yZCE9PW51bGwmJnRoaXMuY3VycmVudE9iamVjdC5wdXNoKHRoaXMud29yZCksdGhpcy53b3JkPW51bGwsdGhpcy5zdGF0ZT1idDtyZXR1cm59aWYocz09PSJdIil7dGhpcy5sZXZlbC0tLHRoaXMud29yZCE9PW51bGwmJih0aGlzLmN1cnJlbnRPYmplY3QucHVzaCh0aGlzLndvcmQpLHRoaXMud29yZD1udWxsKSx0aGlzLnN0YXRlPWJ0LHRoaXMuY3VycmVudE9iamVjdD10aGlzLnN0YWNrLnBvcCgpLHRoaXMuY3VycmVudE9iamVjdHx8KHRoaXMuc3RhdGU9aXMpO3JldHVybn19LCQucHJvdG90eXBlLm51bWJlcj1mdW5jdGlvbihzKXtpZihncy50ZXN0KHMpKXt0aGlzLndvcmQrPXM7cmV0dXJufWlmKFR0LnRlc3Qocykpe3RoaXMud29yZD1wYXJzZUZsb2F0KHRoaXMud29yZCksdGhpcy5hZnRlckl0ZW0ocyk7cmV0dXJufXRocm93IG5ldyBFcnJvcihgaGF2bid0IGhhbmRsZWQgImArcysnIiBpbiBudW1iZXIgeWV0LCBpbmRleCAnK3RoaXMucGxhY2UpfSwkLnByb3RvdHlwZS5xdW90ZWQ9ZnVuY3Rpb24ocyl7aWYocz09PSciJyl7dGhpcy5zdGF0ZT14cztyZXR1cm59dGhpcy53b3JkKz1zfSwkLnByb3RvdHlwZS5rZXl3b3JkPWZ1bmN0aW9uKHMpe2lmKHBoLnRlc3Qocykpe3RoaXMud29yZCs9cztyZXR1cm59aWYocz09PSJbIil7dmFyIHQ9W107dC5wdXNoKHRoaXMud29yZCksdGhpcy5sZXZlbCsrLHRoaXMucm9vdD09PW51bGw/dGhpcy5yb290PXQ6dGhpcy5jdXJyZW50T2JqZWN0LnB1c2godCksdGhpcy5zdGFjay5wdXNoKHRoaXMuY3VycmVudE9iamVjdCksdGhpcy5jdXJyZW50T2JqZWN0PXQsdGhpcy5zdGF0ZT1idDtyZXR1cm59aWYoVHQudGVzdChzKSl7dGhpcy5hZnRlckl0ZW0ocyk7cmV0dXJufXRocm93IG5ldyBFcnJvcihgaGF2bid0IGhhbmRsZWQgImArcysnIiBpbiBrZXl3b3JkIHlldCwgaW5kZXggJyt0aGlzLnBsYWNlKX0sJC5wcm90b3R5cGUubmV1dHJhbD1mdW5jdGlvbihzKXtpZihkaC50ZXN0KHMpKXt0aGlzLndvcmQ9cyx0aGlzLnN0YXRlPWRzO3JldHVybn1pZihzPT09JyInKXt0aGlzLndvcmQ9IiIsdGhpcy5zdGF0ZT1SdDtyZXR1cm59aWYoZ3MudGVzdChzKSl7dGhpcy53b3JkPXMsdGhpcy5zdGF0ZT1wcztyZXR1cm59aWYoVHQudGVzdChzKSl7dGhpcy5hZnRlckl0ZW0ocyk7cmV0dXJufXRocm93IG5ldyBFcnJvcihgaGF2bid0IGhhbmRsZWQgImArcysnIiBpbiBuZXV0cmFsIHlldCwgaW5kZXggJyt0aGlzLnBsYWNlKX0sJC5wcm90b3R5cGUub3V0cHV0PWZ1bmN0aW9uKCl7Zm9yKDt0aGlzLnBsYWNlPHRoaXMudGV4dC5sZW5ndGg7KXRoaXMucmVhZENoYXJpY3RlcigpO2lmKHRoaXMuc3RhdGU9PT1pcylyZXR1cm4gdGhpcy5yb290O3Rocm93IG5ldyBFcnJvcigndW5hYmxlIHRvIHBhcnNlIHN0cmluZyAiJyt0aGlzLnRleHQrJyIuIFN0YXRlIGlzICcrdGhpcy5zdGF0ZSl9O2Z1bmN0aW9uIHhoKHMpe3ZhciB0PW5ldyAkKHMpO3JldHVybiB0Lm91dHB1dCgpfWZ1bmN0aW9uIHZzKHMsdCxoKXtBcnJheS5pc0FycmF5KHQpJiYoaC51bnNoaWZ0KHQpLHQ9bnVsbCk7dmFyIGE9dD97fTpzLGk9aC5yZWR1Y2UoZnVuY3Rpb24oZSxuKXtyZXR1cm4gbHQobixlKSxlfSxhKTt0JiYoc1t0XT1pKX1mdW5jdGlvbiBsdChzLHQpe2lmKCFBcnJheS5pc0FycmF5KHMpKXt0W3NdPSEwO3JldHVybn12YXIgaD1zLnNoaWZ0KCk7aWYoaD09PSJQQVJBTUVURVIiJiYoaD1zLnNoaWZ0KCkpLHMubGVuZ3RoPT09MSl7aWYoQXJyYXkuaXNBcnJheShzWzBdKSl7dFtoXT17fSxsdChzWzBdLHRbaF0pO3JldHVybn10W2hdPXNbMF07cmV0dXJufWlmKCFzLmxlbmd0aCl7dFtoXT0hMDtyZXR1cm59aWYoaD09PSJUT1dHUzg0Iil7dFtoXT1zO3JldHVybn1pZihoPT09IkFYSVMiKXtoIGluIHR8fCh0W2hdPVtdKSx0W2hdLnB1c2gocyk7cmV0dXJufUFycmF5LmlzQXJyYXkoaCl8fCh0W2hdPXt9KTt2YXIgYTtzd2l0Y2goaCl7Y2FzZSJVTklUIjpjYXNlIlBSSU1FTSI6Y2FzZSJWRVJUX0RBVFVNIjp0W2hdPXtuYW1lOnNbMF0udG9Mb3dlckNhc2UoKSxjb252ZXJ0OnNbMV19LHMubGVuZ3RoPT09MyYmbHQoc1syXSx0W2hdKTtyZXR1cm47Y2FzZSJTUEhFUk9JRCI6Y2FzZSJFTExJUFNPSUQiOnRbaF09e25hbWU6c1swXSxhOnNbMV0scmY6c1syXX0scy5sZW5ndGg9PT00JiZsdChzWzNdLHRbaF0pO3JldHVybjtjYXNlIlBST0pFQ1RFRENSUyI6Y2FzZSJQUk9KQ1JTIjpjYXNlIkdFT0dDUyI6Y2FzZSJHRU9DQ1MiOmNhc2UiUFJPSkNTIjpjYXNlIkxPQ0FMX0NTIjpjYXNlIkdFT0RDUlMiOmNhc2UiR0VPREVUSUNDUlMiOmNhc2UiR0VPREVUSUNEQVRVTSI6Y2FzZSJFREFUVU0iOmNhc2UiRU5HSU5FRVJJTkdEQVRVTSI6Y2FzZSJWRVJUX0NTIjpjYXNlIlZFUlRDUlMiOmNhc2UiVkVSVElDQUxDUlMiOmNhc2UiQ09NUERfQ1MiOmNhc2UiQ09NUE9VTkRDUlMiOmNhc2UiRU5HSU5FRVJJTkdDUlMiOmNhc2UiRU5HQ1JTIjpjYXNlIkZJVFRFRF9DUyI6Y2FzZSJMT0NBTF9EQVRVTSI6Y2FzZSJEQVRVTSI6c1swXT1bIm5hbWUiLHNbMF1dLHZzKHQsaCxzKTtyZXR1cm47ZGVmYXVsdDpmb3IoYT0tMTsrK2E8cy5sZW5ndGg7KWlmKCFBcnJheS5pc0FycmF5KHNbYV0pKXJldHVybiBsdChzLHRbaF0pO3JldHVybiB2cyh0LGgscyl9fXZhciBnaD0uMDE3NDUzMjkyNTE5OTQzMjk1O2Z1bmN0aW9uIHZoKHMsdCl7dmFyIGg9dFswXSxhPXRbMV07IShoIGluIHMpJiZhIGluIHMmJihzW2hdPXNbYV0sdC5sZW5ndGg9PT0zJiYoc1toXT10WzJdKHNbaF0pKSl9ZnVuY3Rpb24gdHQocyl7cmV0dXJuIHMqZ2h9ZnVuY3Rpb24gYmgocyl7aWYocy50eXBlPT09IkdFT0dDUyI/cy5wcm9qTmFtZT0ibG9uZ2xhdCI6cy50eXBlPT09IkxPQ0FMX0NTIj8ocy5wcm9qTmFtZT0iaWRlbnRpdHkiLHMubG9jYWw9ITApOnR5cGVvZiBzLlBST0pFQ1RJT049PSJvYmplY3QiP3MucHJvak5hbWU9T2JqZWN0LmtleXMocy5QUk9KRUNUSU9OKVswXTpzLnByb2pOYW1lPXMuUFJPSkVDVElPTixzLkFYSVMpe2Zvcih2YXIgdD0iIixoPTAsYT1zLkFYSVMubGVuZ3RoO2g8YTsrK2gpe3ZhciBpPVtzLkFYSVNbaF1bMF0udG9Mb3dlckNhc2UoKSxzLkFYSVNbaF1bMV0udG9Mb3dlckNhc2UoKV07aVswXS5pbmRleE9mKCJub3J0aCIpIT09LTF8fChpWzBdPT09InkifHxpWzBdPT09ImxhdCIpJiZpWzFdPT09Im5vcnRoIj90Kz0ibiI6aVswXS5pbmRleE9mKCJzb3V0aCIpIT09LTF8fChpWzBdPT09InkifHxpWzBdPT09ImxhdCIpJiZpWzFdPT09InNvdXRoIj90Kz0icyI6aVswXS5pbmRleE9mKCJlYXN0IikhPT0tMXx8KGlbMF09PT0ieCJ8fGlbMF09PT0ibG9uIikmJmlbMV09PT0iZWFzdCI/dCs9ImUiOihpWzBdLmluZGV4T2YoIndlc3QiKSE9PS0xfHwoaVswXT09PSJ4Inx8aVswXT09PSJsb24iKSYmaVsxXT09PSJ3ZXN0IikmJih0Kz0idyIpfXQubGVuZ3RoPT09MiYmKHQrPSJ1IiksdC5sZW5ndGg9PT0zJiYocy5heGlzPXQpfXMuVU5JVCYmKHMudW5pdHM9cy5VTklULm5hbWUudG9Mb3dlckNhc2UoKSxzLnVuaXRzPT09Im1ldHJlIiYmKHMudW5pdHM9Im1ldGVyIikscy5VTklULmNvbnZlcnQmJihzLnR5cGU9PT0iR0VPR0NTIj9zLkRBVFVNJiZzLkRBVFVNLlNQSEVST0lEJiYocy50b19tZXRlcj1zLlVOSVQuY29udmVydCpzLkRBVFVNLlNQSEVST0lELmEpOnMudG9fbWV0ZXI9cy5VTklULmNvbnZlcnQpKTt2YXIgZT1zLkdFT0dDUztzLnR5cGU9PT0iR0VPR0NTIiYmKGU9cyksZSYmKGUuREFUVU0/cy5kYXR1bUNvZGU9ZS5EQVRVTS5uYW1lLnRvTG93ZXJDYXNlKCk6cy5kYXR1bUNvZGU9ZS5uYW1lLnRvTG93ZXJDYXNlKCkscy5kYXR1bUNvZGUuc2xpY2UoMCwyKT09PSJkXyImJihzLmRhdHVtQ29kZT1zLmRhdHVtQ29kZS5zbGljZSgyKSksKHMuZGF0dW1Db2RlPT09Im5ld196ZWFsYW5kX2dlb2RldGljX2RhdHVtXzE5NDkifHxzLmRhdHVtQ29kZT09PSJuZXdfemVhbGFuZF8xOTQ5IikmJihzLmRhdHVtQ29kZT0ibnpnZDQ5IiksKHMuZGF0dW1Db2RlPT09Indnc18xOTg0Inx8cy5kYXR1bUNvZGU9PT0id29ybGRfZ2VvZGV0aWNfc3lzdGVtXzE5ODQiKSYmKHMuUFJPSkVDVElPTj09PSJNZXJjYXRvcl9BdXhpbGlhcnlfU3BoZXJlIiYmKHMuc3BoZXJlPSEwKSxzLmRhdHVtQ29kZT0id2dzODQiKSxzLmRhdHVtQ29kZS5zbGljZSgtNik9PT0iX2ZlcnJvIiYmKHMuZGF0dW1Db2RlPXMuZGF0dW1Db2RlLnNsaWNlKDAsLTYpKSxzLmRhdHVtQ29kZS5zbGljZSgtOCk9PT0iX2pha2FydGEiJiYocy5kYXR1bUNvZGU9cy5kYXR1bUNvZGUuc2xpY2UoMCwtOCkpLH5zLmRhdHVtQ29kZS5pbmRleE9mKCJiZWxnZSIpJiYocy5kYXR1bUNvZGU9InJuYjcyIiksZS5EQVRVTSYmZS5EQVRVTS5TUEhFUk9JRCYmKHMuZWxscHM9ZS5EQVRVTS5TUEhFUk9JRC5uYW1lLnJlcGxhY2UoIl8xOSIsIiIpLnJlcGxhY2UoL1tDY11sYXJrZVxfMTgvLCJjbHJrIikscy5lbGxwcy50b0xvd2VyQ2FzZSgpLnNsaWNlKDAsMTMpPT09ImludGVybmF0aW9uYWwiJiYocy5lbGxwcz0iaW50bCIpLHMuYT1lLkRBVFVNLlNQSEVST0lELmEscy5yZj1wYXJzZUZsb2F0KGUuREFUVU0uU1BIRVJPSUQucmYsMTApKSxlLkRBVFVNJiZlLkRBVFVNLlRPV0dTODQmJihzLmRhdHVtX3BhcmFtcz1lLkRBVFVNLlRPV0dTODQpLH5zLmRhdHVtQ29kZS5pbmRleE9mKCJvc2diXzE5MzYiKSYmKHMuZGF0dW1Db2RlPSJvc2diMzYiKSx+cy5kYXR1bUNvZGUuaW5kZXhPZigib3NuaV8xOTUyIikmJihzLmRhdHVtQ29kZT0ib3NuaTUyIiksKH5zLmRhdHVtQ29kZS5pbmRleE9mKCJ0bTY1Iil8fH5zLmRhdHVtQ29kZS5pbmRleE9mKCJnZW9kZXRpY19kYXR1bV9vZl8xOTY1IikpJiYocy5kYXR1bUNvZGU9ImlyZTY1Iikscy5kYXR1bUNvZGU9PT0iY2gxOTAzKyImJihzLmRhdHVtQ29kZT0iY2gxOTAzIiksfnMuZGF0dW1Db2RlLmluZGV4T2YoImlzcmFlbCIpJiYocy5kYXR1bUNvZGU9ImlzcjkzIikpLHMuYiYmIWlzRmluaXRlKHMuYikmJihzLmI9cy5hKTtmdW5jdGlvbiBuKGwpe3ZhciBjPXMudG9fbWV0ZXJ8fDE7cmV0dXJuIGwqY312YXIgcj1mdW5jdGlvbihsKXtyZXR1cm4gdmgocyxsKX0sbz1bWyJzdGFuZGFyZF9wYXJhbGxlbF8xIiwiU3RhbmRhcmRfUGFyYWxsZWxfMSJdLFsic3RhbmRhcmRfcGFyYWxsZWxfMSIsIkxhdGl0dWRlIG9mIDFzdCBzdGFuZGFyZCBwYXJhbGxlbCJdLFsic3RhbmRhcmRfcGFyYWxsZWxfMiIsIlN0YW5kYXJkX1BhcmFsbGVsXzIiXSxbInN0YW5kYXJkX3BhcmFsbGVsXzIiLCJMYXRpdHVkZSBvZiAybmQgc3RhbmRhcmQgcGFyYWxsZWwiXSxbImZhbHNlX2Vhc3RpbmciLCJGYWxzZV9FYXN0aW5nIl0sWyJmYWxzZV9lYXN0aW5nIiwiRmFsc2UgZWFzdGluZyJdLFsiZmFsc2UtZWFzdGluZyIsIkVhc3RpbmcgYXQgZmFsc2Ugb3JpZ2luIl0sWyJmYWxzZV9ub3J0aGluZyIsIkZhbHNlX05vcnRoaW5nIl0sWyJmYWxzZV9ub3J0aGluZyIsIkZhbHNlIG5vcnRoaW5nIl0sWyJmYWxzZV9ub3J0aGluZyIsIk5vcnRoaW5nIGF0IGZhbHNlIG9yaWdpbiJdLFsiY2VudHJhbF9tZXJpZGlhbiIsIkNlbnRyYWxfTWVyaWRpYW4iXSxbImNlbnRyYWxfbWVyaWRpYW4iLCJMb25naXR1ZGUgb2YgbmF0dXJhbCBvcmlnaW4iXSxbImNlbnRyYWxfbWVyaWRpYW4iLCJMb25naXR1ZGUgb2YgZmFsc2Ugb3JpZ2luIl0sWyJsYXRpdHVkZV9vZl9vcmlnaW4iLCJMYXRpdHVkZV9PZl9PcmlnaW4iXSxbImxhdGl0dWRlX29mX29yaWdpbiIsIkNlbnRyYWxfUGFyYWxsZWwiXSxbImxhdGl0dWRlX29mX29yaWdpbiIsIkxhdGl0dWRlIG9mIG5hdHVyYWwgb3JpZ2luIl0sWyJsYXRpdHVkZV9vZl9vcmlnaW4iLCJMYXRpdHVkZSBvZiBmYWxzZSBvcmlnaW4iXSxbInNjYWxlX2ZhY3RvciIsIlNjYWxlX0ZhY3RvciJdLFsiazAiLCJzY2FsZV9mYWN0b3IiXSxbImxhdGl0dWRlX29mX2NlbnRlciIsIkxhdGl0dWRlX09mX0NlbnRlciJdLFsibGF0aXR1ZGVfb2ZfY2VudGVyIiwiTGF0aXR1ZGVfb2ZfY2VudGVyIl0sWyJsYXQwIiwibGF0aXR1ZGVfb2ZfY2VudGVyIix0dF0sWyJsb25naXR1ZGVfb2ZfY2VudGVyIiwiTG9uZ2l0dWRlX09mX0NlbnRlciJdLFsibG9uZ2l0dWRlX29mX2NlbnRlciIsIkxvbmdpdHVkZV9vZl9jZW50ZXIiXSxbImxvbmdjIiwibG9uZ2l0dWRlX29mX2NlbnRlciIsdHRdLFsieDAiLCJmYWxzZV9lYXN0aW5nIixuXSxbInkwIiwiZmFsc2Vfbm9ydGhpbmciLG5dLFsibG9uZzAiLCJjZW50cmFsX21lcmlkaWFuIix0dF0sWyJsYXQwIiwibGF0aXR1ZGVfb2Zfb3JpZ2luIix0dF0sWyJsYXQwIiwic3RhbmRhcmRfcGFyYWxsZWxfMSIsdHRdLFsibGF0MSIsInN0YW5kYXJkX3BhcmFsbGVsXzEiLHR0XSxbImxhdDIiLCJzdGFuZGFyZF9wYXJhbGxlbF8yIix0dF0sWyJhemltdXRoIiwiQXppbXV0aCJdLFsiYWxwaGEiLCJhemltdXRoIix0dF0sWyJzcnNDb2RlIiwibmFtZSJdXTtvLmZvckVhY2gociksIXMubG9uZzAmJnMubG9uZ2MmJihzLnByb2pOYW1lPT09IkFsYmVyc19Db25pY19FcXVhbF9BcmVhInx8cy5wcm9qTmFtZT09PSJMYW1iZXJ0X0F6aW11dGhhbF9FcXVhbF9BcmVhIikmJihzLmxvbmcwPXMubG9uZ2MpLCFzLmxhdF90cyYmcy5sYXQxJiYocy5wcm9qTmFtZT09PSJTdGVyZW9ncmFwaGljX1NvdXRoX1BvbGUifHxzLnByb2pOYW1lPT09IlBvbGFyIFN0ZXJlb2dyYXBoaWMgKHZhcmlhbnQgQikiKSYmKHMubGF0MD10dChzLmxhdDE+MD85MDotOTApLHMubGF0X3RzPXMubGF0MSl9ZnVuY3Rpb24gYnMocyl7dmFyIHQ9eGgocyksaD10LnNoaWZ0KCksYT10LnNoaWZ0KCk7dC51bnNoaWZ0KFsibmFtZSIsYV0pLHQudW5zaGlmdChbInR5cGUiLGhdKTt2YXIgaT17fTtyZXR1cm4gbHQodCxpKSxiaChpKSxpfWZ1bmN0aW9uIFQocyl7dmFyIHQ9dGhpcztpZihhcmd1bWVudHMubGVuZ3RoPT09Mil7dmFyIGg9YXJndW1lbnRzWzFdO3R5cGVvZiBoPT0ic3RyaW5nIj9oLmNoYXJBdCgwKT09PSIrIj9UW3NdPWFzKGFyZ3VtZW50c1sxXSk6VFtzXT1icyhhcmd1bWVudHNbMV0pOlRbc109aH1lbHNlIGlmKGFyZ3VtZW50cy5sZW5ndGg9PT0xKXtpZihBcnJheS5pc0FycmF5KHMpKXJldHVybiBzLm1hcChmdW5jdGlvbihhKXtBcnJheS5pc0FycmF5KGEpP1QuYXBwbHkodCxhKTpUKGEpfSk7aWYodHlwZW9mIHM9PSJzdHJpbmciKXtpZihzIGluIFQpcmV0dXJuIFRbc119ZWxzZSJFUFNHImluIHM/VFsiRVBTRzoiK3MuRVBTR109czoiRVNSSSJpbiBzP1RbIkVTUkk6IitzLkVTUkldPXM6IklBVTIwMDAiaW4gcz9UWyJJQVUyMDAwOiIrcy5JQVUyMDAwXT1zOmNvbnNvbGUubG9nKHMpO3JldHVybn19b3QoVCk7ZnVuY3Rpb24gd2gocyl7cmV0dXJuIHR5cGVvZiBzPT0ic3RyaW5nIn1mdW5jdGlvbiB6aChzKXtyZXR1cm4gcyBpbiBUfXZhciBDaD1bIlBST0pFQ1RFRENSUyIsIlBST0pDUlMiLCJHRU9HQ1MiLCJHRU9DQ1MiLCJQUk9KQ1MiLCJMT0NBTF9DUyIsIkdFT0RDUlMiLCJHRU9ERVRJQ0NSUyIsIkdFT0RFVElDREFUVU0iLCJFTkdDUlMiLCJFTkdJTkVFUklOR0NSUyJdO2Z1bmN0aW9uIEFoKHMpe3JldHVybiBDaC5zb21lKGZ1bmN0aW9uKHQpe3JldHVybiBzLmluZGV4T2YodCk+LTF9KX12YXIgRWg9WyIzODU3IiwiOTAwOTEzIiwiMzc4NSIsIjEwMjExMyJdO2Z1bmN0aW9uIE5oKHMpe3ZhciB0PWh0KHMsImF1dGhvcml0eSIpO2lmKHQpe3ZhciBoPWh0KHQsImVwc2ciKTtyZXR1cm4gaCYmRWguaW5kZXhPZihoKT4tMX19ZnVuY3Rpb24gU2gocyl7dmFyIHQ9aHQocywiZXh0ZW5zaW9uIik7aWYodClyZXR1cm4gaHQodCwicHJvajQiKX1mdW5jdGlvbiBraChzKXtyZXR1cm4gc1swXT09PSIrIn1mdW5jdGlvbiBQaChzKXtpZih3aChzKSl7aWYoemgocykpcmV0dXJuIFRbc107aWYoQWgocykpe3ZhciB0PWJzKHMpO2lmKE5oKHQpKXJldHVybiBUWyJFUFNHOjM4NTciXTt2YXIgaD1TaCh0KTtyZXR1cm4gaD9hcyhoKTp0fWlmKGtoKHMpKXJldHVybiBhcyhzKX1lbHNlIHJldHVybiBzfWZ1bmN0aW9uIHdzKHMsdCl7cz1zfHx7fTt2YXIgaCxhO2lmKCF0KXJldHVybiBzO2ZvcihhIGluIHQpaD10W2FdLGghPT12b2lkIDAmJihzW2FdPWgpO3JldHVybiBzfWZ1bmN0aW9uIEsocyx0LGgpe3ZhciBhPXMqdDtyZXR1cm4gaC9NYXRoLnNxcnQoMS1hKmEpfWZ1bmN0aW9uIHd0KHMpe3JldHVybiBzPDA/LTE6MX1mdW5jdGlvbiBnKHMpe3JldHVybiBNYXRoLmFicyhzKTw9Tz9zOnMtd3QocykqdnR9ZnVuY3Rpb24gSChzLHQsaCl7dmFyIGE9cypoLGk9LjUqcztyZXR1cm4gYT1NYXRoLnBvdygoMS1hKS8oMSthKSxpKSxNYXRoLnRhbiguNSoocC10KSkvYX1mdW5jdGlvbiB6dChzLHQpe2Zvcih2YXIgaD0uNSpzLGEsaSxlPXAtMipNYXRoLmF0YW4odCksbj0wO248PTE1O24rKylpZihhPXMqTWF0aC5zaW4oZSksaT1wLTIqTWF0aC5hdGFuKHQqTWF0aC5wb3coKDEtYSkvKDErYSksaCkpLWUsZSs9aSxNYXRoLmFicyhpKTw9MWUtMTApcmV0dXJuIGU7cmV0dXJuLTk5OTl9ZnVuY3Rpb24gT2goKXt2YXIgcz10aGlzLmIvdGhpcy5hO3RoaXMuZXM9MS1zKnMsIngwImluIHRoaXN8fCh0aGlzLngwPTApLCJ5MCJpbiB0aGlzfHwodGhpcy55MD0wKSx0aGlzLmU9TWF0aC5zcXJ0KHRoaXMuZXMpLHRoaXMubGF0X3RzP3RoaXMuc3BoZXJlP3RoaXMuazA9TWF0aC5jb3ModGhpcy5sYXRfdHMpOnRoaXMuazA9Syh0aGlzLmUsTWF0aC5zaW4odGhpcy5sYXRfdHMpLE1hdGguY29zKHRoaXMubGF0X3RzKSk6dGhpcy5rMHx8KHRoaXMuaz90aGlzLmswPXRoaXMuazp0aGlzLmswPTEpfWZ1bmN0aW9uIEloKHMpe3ZhciB0PXMueCxoPXMueTtpZihoKko+OTAmJmgqSjwtOTAmJnQqSj4xODAmJnQqSjwtMTgwKXJldHVybiBudWxsO3ZhciBhLGk7aWYoTWF0aC5hYnMoTWF0aC5hYnMoaCktcCk8PXgpcmV0dXJuIG51bGw7aWYodGhpcy5zcGhlcmUpYT10aGlzLngwK3RoaXMuYSp0aGlzLmswKmcodC10aGlzLmxvbmcwKSxpPXRoaXMueTArdGhpcy5hKnRoaXMuazAqTWF0aC5sb2coTWF0aC50YW4oTisuNSpoKSk7ZWxzZXt2YXIgZT1NYXRoLnNpbihoKSxuPUgodGhpcy5lLGgsZSk7YT10aGlzLngwK3RoaXMuYSp0aGlzLmswKmcodC10aGlzLmxvbmcwKSxpPXRoaXMueTAtdGhpcy5hKnRoaXMuazAqTWF0aC5sb2cobil9cmV0dXJuIHMueD1hLHMueT1pLHN9ZnVuY3Rpb24gcWgocyl7dmFyIHQ9cy54LXRoaXMueDAsaD1zLnktdGhpcy55MCxhLGk7aWYodGhpcy5zcGhlcmUpaT1wLTIqTWF0aC5hdGFuKE1hdGguZXhwKC1oLyh0aGlzLmEqdGhpcy5rMCkpKTtlbHNle3ZhciBlPU1hdGguZXhwKC1oLyh0aGlzLmEqdGhpcy5rMCkpO2lmKGk9enQodGhpcy5lLGUpLGk9PT0tOTk5OSlyZXR1cm4gbnVsbH1yZXR1cm4gYT1nKHRoaXMubG9uZzArdC8odGhpcy5hKnRoaXMuazApKSxzLng9YSxzLnk9aSxzfXZhciBSaD1bIk1lcmNhdG9yIiwiUG9wdWxhciBWaXN1YWxpc2F0aW9uIFBzZXVkbyBNZXJjYXRvciIsIk1lcmNhdG9yXzFTUCIsIk1lcmNhdG9yX0F1eGlsaWFyeV9TcGhlcmUiLCJtZXJjIl0sVGg9e2luaXQ6T2gsZm9yd2FyZDpJaCxpbnZlcnNlOnFoLG5hbWVzOlJofTtmdW5jdGlvbiBMaCgpe31mdW5jdGlvbiB6cyhzKXtyZXR1cm4gc312YXIgamg9WyJsb25nbGF0IiwiaWRlbnRpdHkiXSxHaD17aW5pdDpMaCxmb3J3YXJkOnpzLGludmVyc2U6enMsbmFtZXM6amh9LEJoPVtUaCxHaF0sTHQ9e30sanQ9W107ZnVuY3Rpb24gQ3Mocyx0KXt2YXIgaD1qdC5sZW5ndGg7cmV0dXJuIHMubmFtZXM/KGp0W2hdPXMscy5uYW1lcy5mb3JFYWNoKGZ1bmN0aW9uKGEpe0x0W2EudG9Mb3dlckNhc2UoKV09aH0pLHRoaXMpOihjb25zb2xlLmxvZyh0KSwhMCl9ZnVuY3Rpb24gRmgocyl7aWYoIXMpcmV0dXJuITE7dmFyIHQ9cy50b0xvd2VyQ2FzZSgpO2lmKHR5cGVvZiBMdFt0XTwidSImJmp0W0x0W3RdXSlyZXR1cm4ganRbTHRbdF1dfWZ1bmN0aW9uIERoKCl7QmguZm9yRWFjaChDcyl9dmFyIFVoPXtzdGFydDpEaCxhZGQ6Q3MsZ2V0OkZofSxDPXt9O0MuTUVSSVQ9e2E6NjM3ODEzNyxyZjoyOTguMjU3LGVsbGlwc2VOYW1lOiJNRVJJVCAxOTgzIn0sQy5TR1M4NT17YTo2Mzc4MTM2LHJmOjI5OC4yNTcsZWxsaXBzZU5hbWU6IlNvdmlldCBHZW9kZXRpYyBTeXN0ZW0gODUifSxDLkdSUzgwPXthOjYzNzgxMzcscmY6Mjk4LjI1NzIyMjEwMSxlbGxpcHNlTmFtZToiR1JTIDE5ODAoSVVHRywgMTk4MCkifSxDLklBVTc2PXthOjYzNzgxNDAscmY6Mjk4LjI1NyxlbGxpcHNlTmFtZToiSUFVIDE5NzYifSxDLmFpcnk9e2E6NjM3NzU2MzM5NmUtMyxiOjYzNTYyNTY5MWUtMixlbGxpcHNlTmFtZToiQWlyeSAxODMwIn0sQy5BUEw0PXthOjYzNzgxMzcscmY6Mjk4LjI1LGVsbGlwc2VOYW1lOiJBcHBsLiBQaHlzaWNzLiAxOTY1In0sQy5OV0w5RD17YTo2Mzc4MTQ1LHJmOjI5OC4yNSxlbGxpcHNlTmFtZToiTmF2YWwgV2VhcG9ucyBMYWIuLCAxOTY1In0sQy5tb2RfYWlyeT17YTo2Mzc3MzQwMTg5ZS0zLGI6NjM1NjAzNDQ0NmUtMyxlbGxpcHNlTmFtZToiTW9kaWZpZWQgQWlyeSJ9LEMuYW5kcmFlPXthOjYzNzcxMDQ0M2UtMixyZjozMDAsZWxsaXBzZU5hbWU6IkFuZHJhZSAxODc2IChEZW4uLCBJY2xuZC4pIn0sQy5hdXN0X1NBPXthOjYzNzgxNjAscmY6Mjk4LjI1LGVsbGlwc2VOYW1lOiJBdXN0cmFsaWFuIE5hdGwgJiBTLiBBbWVyLiAxOTY5In0sQy5HUlM2Nz17YTo2Mzc4MTYwLHJmOjI5OC4yNDcxNjc0MjcsZWxsaXBzZU5hbWU6IkdSUyA2NyhJVUdHIDE5NjcpIn0sQy5iZXNzZWw9e2E6NjM3NzM5NzE1NWUtMyxyZjoyOTkuMTUyODEyOCxlbGxpcHNlTmFtZToiQmVzc2VsIDE4NDEifSxDLmJlc3NfbmFtPXthOjYzNzc0ODM4NjVlLTMscmY6Mjk5LjE1MjgxMjgsZWxsaXBzZU5hbWU6IkJlc3NlbCAxODQxIChOYW1pYmlhKSJ9LEMuY2xyazY2PXthOjYzNzgyMDY0ZS0xLGI6NjM1NjU4MzhlLTEsZWxsaXBzZU5hbWU6IkNsYXJrZSAxODY2In0sQy5jbHJrODA9e2E6NjM3ODI0OTE0NWUtMyxyZjoyOTMuNDY2MyxlbGxpcHNlTmFtZToiQ2xhcmtlIDE4ODAgbW9kLiJ9LEMuY2xyazU4PXthOjYzNzgyOTM2NDUyMDg3NTllLTkscmY6Mjk0LjI2MDY3NjM2OTI2NTQsZWxsaXBzZU5hbWU6IkNsYXJrZSAxODU4In0sQy5DUE09e2E6NjM3NTczODdlLTEscmY6MzM0LjI5LGVsbGlwc2VOYW1lOiJDb21tLiBkZXMgUG9pZHMgZXQgTWVzdXJlcyAxNzk5In0sQy5kZWxtYnI9e2E6NjM3NjQyOCxyZjozMTEuNSxlbGxpcHNlTmFtZToiRGVsYW1icmUgMTgxMCAoQmVsZ2l1bSkifSxDLmVuZ2VsaXM9e2E6NjM3ODEzNjA1ZS0yLHJmOjI5OC4yNTY2LGVsbGlwc2VOYW1lOiJFbmdlbGlzIDE5ODUifSxDLmV2cnN0MzA9e2E6NjM3NzI3NjM0NWUtMyxyZjozMDAuODAxNyxlbGxpcHNlTmFtZToiRXZlcmVzdCAxODMwIn0sQy5ldnJzdDQ4PXthOjYzNzczMDQwNjNlLTMscmY6MzAwLjgwMTcsZWxsaXBzZU5hbWU6IkV2ZXJlc3QgMTk0OCJ9LEMuZXZyc3Q1Nj17YTo2Mzc3MzAxMjQzZS0zLHJmOjMwMC44MDE3LGVsbGlwc2VOYW1lOiJFdmVyZXN0IDE5NTYifSxDLmV2cnN0Njk9e2E6NjM3NzI5NTY2NGUtMyxyZjozMDAuODAxNyxlbGxpcHNlTmFtZToiRXZlcmVzdCAxOTY5In0sQy5ldnJzdFNTPXthOjYzNzcyOTg1NTZlLTMscmY6MzAwLjgwMTcsZWxsaXBzZU5hbWU6IkV2ZXJlc3QgKFNhYmFoICYgU2FyYXdhaykifSxDLmZzY2hyNjA9e2E6NjM3ODE2NixyZjoyOTguMyxlbGxpcHNlTmFtZToiRmlzY2hlciAoTWVyY3VyeSBEYXR1bSkgMTk2MCJ9LEMuZnNjaHI2MG09e2E6NjM3ODE1NSxyZjoyOTguMyxlbGxpcHNlTmFtZToiRmlzY2hlciAxOTYwIn0sQy5mc2NocjY4PXthOjYzNzgxNTAscmY6Mjk4LjMsZWxsaXBzZU5hbWU6IkZpc2NoZXIgMTk2OCJ9LEMuaGVsbWVydD17YTo2Mzc4MjAwLHJmOjI5OC4zLGVsbGlwc2VOYW1lOiJIZWxtZXJ0IDE5MDYifSxDLmhvdWdoPXthOjYzNzgyNzAscmY6Mjk3LGVsbGlwc2VOYW1lOiJIb3VnaCJ9LEMuaW50bD17YTo2Mzc4Mzg4LHJmOjI5NyxlbGxpcHNlTmFtZToiSW50ZXJuYXRpb25hbCAxOTA5IChIYXlmb3JkKSJ9LEMua2F1bGE9e2E6NjM3ODE2MyxyZjoyOTguMjQsZWxsaXBzZU5hbWU6IkthdWxhIDE5NjEifSxDLmxlcmNoPXthOjYzNzgxMzkscmY6Mjk4LjI1NyxlbGxpcHNlTmFtZToiTGVyY2ggMTk3OSJ9LEMubXBydHM9e2E6NjM5NzMwMCxyZjoxOTEsZWxsaXBzZU5hbWU6Ik1hdXBlcnRpdXMgMTczOCJ9LEMubmV3X2ludGw9e2E6NjM3ODE1NzVlLTEsYjo2MzU2NzcyMmUtMSxlbGxpcHNlTmFtZToiTmV3IEludGVybmF0aW9uYWwgMTk2NyJ9LEMucGxlc3Npcz17YTo2Mzc2NTIzLHJmOjYzNTU4NjMsZWxsaXBzZU5hbWU6IlBsZXNzaXMgMTgxNyAoRnJhbmNlKSJ9LEMua3Jhc3M9e2E6NjM3ODI0NSxyZjoyOTguMyxlbGxpcHNlTmFtZToiS3Jhc3NvdnNreSwgMTk0MiJ9LEMuU0Vhc2lhPXthOjYzNzgxNTUsYjo2MzU2NzczMzIwNWUtNCxlbGxpcHNlTmFtZToiU291dGhlYXN0IEFzaWEifSxDLndhbGJlY2s9e2E6NjM3Njg5NixiOjYzNTU4MzQ4NDY3ZS00LGVsbGlwc2VOYW1lOiJXYWxiZWNrIn0sQy5XR1M2MD17YTo2Mzc4MTY1LHJmOjI5OC4zLGVsbGlwc2VOYW1lOiJXR1MgNjAifSxDLldHUzY2PXthOjYzNzgxNDUscmY6Mjk4LjI1LGVsbGlwc2VOYW1lOiJXR1MgNjYifSxDLldHUzc9e2E6NjM3ODEzNSxyZjoyOTguMjYsZWxsaXBzZU5hbWU6IldHUyA3MiJ9O3ZhciBRaD1DLldHUzg0PXthOjYzNzgxMzcscmY6Mjk4LjI1NzIyMzU2MyxlbGxpcHNlTmFtZToiV0dTIDg0In07Qy5zcGhlcmU9e2E6NjM3MDk5NyxiOjYzNzA5OTcsZWxsaXBzZU5hbWU6Ik5vcm1hbCBTcGhlcmUgKHI9NjM3MDk5NykifTtmdW5jdGlvbiBYaChzLHQsaCxhKXt2YXIgaT1zKnMsZT10KnQsbj0oaS1lKS9pLHI9MDthPyhzKj0xLW4qKE1oK24qKGZoK24qeWgpKSxpPXMqcyxuPTApOnI9TWF0aC5zcXJ0KG4pO3ZhciBvPShpLWUpL2U7cmV0dXJue2VzOm4sZTpyLGVwMjpvfX1mdW5jdGlvbiBXaChzLHQsaCxhLGkpe2lmKCFzKXt2YXIgZT1odChDLGEpO2V8fChlPVFoKSxzPWUuYSx0PWUuYixoPWUucmZ9cmV0dXJuIGgmJiF0JiYodD0oMS0xL2gpKnMpLChoPT09MHx8TWF0aC5hYnMocy10KTx4KSYmKGk9ITAsdD1zKSx7YTpzLGI6dCxyZjpoLHNwaGVyZTppfX12YXIgST17fTtJLndnczg0PXt0b3dnczg0OiIwLDAsMCIsZWxsaXBzZToiV0dTODQiLGRhdHVtTmFtZToiV0dTODQifSxJLmNoMTkwMz17dG93Z3M4NDoiNjc0LjM3NCwxNS4wNTYsNDA1LjM0NiIsZWxsaXBzZToiYmVzc2VsIixkYXR1bU5hbWU6InN3aXNzIn0sSS5nZ3JzODc9e3Rvd2dzODQ6Ii0xOTkuODcsNzQuNzksMjQ2LjYyIixlbGxpcHNlOiJHUlM4MCIsZGF0dW1OYW1lOiJHcmVla19HZW9kZXRpY19SZWZlcmVuY2VfU3lzdGVtXzE5ODcifSxJLm5hZDgzPXt0b3dnczg0OiIwLDAsMCIsZWxsaXBzZToiR1JTODAiLGRhdHVtTmFtZToiTm9ydGhfQW1lcmljYW5fRGF0dW1fMTk4MyJ9LEkubmFkMjc9e25hZGdyaWRzOiJAY29udXMsQGFsYXNrYSxAbnR2Ml8wLmdzYixAbnR2MV9jYW4uZGF0IixlbGxpcHNlOiJjbHJrNjYiLGRhdHVtTmFtZToiTm9ydGhfQW1lcmljYW5fRGF0dW1fMTkyNyJ9LEkucG90c2RhbT17dG93Z3M4NDoiNTk4LjEsNzMuNyw0MTguMiwwLjIwMiwwLjA0NSwtMi40NTUsNi43IixlbGxpcHNlOiJiZXNzZWwiLGRhdHVtTmFtZToiUG90c2RhbSBSYXVlbmJlcmcgMTk1MCBESEROIn0sSS5jYXJ0aGFnZT17dG93Z3M4NDoiLTI2My4wLDYuMCw0MzEuMCIsZWxsaXBzZToiY2xhcms4MCIsZGF0dW1OYW1lOiJDYXJ0aGFnZSAxOTM0IFR1bmlzaWEifSxJLmhlcm1hbm5za29nZWw9e3Rvd2dzODQ6IjU3Ny4zMjYsOTAuMTI5LDQ2My45MTksNS4xMzcsMS40NzQsNS4yOTcsMi40MjMyIixlbGxpcHNlOiJiZXNzZWwiLGRhdHVtTmFtZToiSGVybWFubnNrb2dlbCJ9LEkub3NuaTUyPXt0b3dnczg0OiI0ODIuNTMwLC0xMzAuNTk2LDU2NC41NTcsLTEuMDQyLC0wLjIxNCwtMC42MzEsOC4xNSIsZWxsaXBzZToiYWlyeSIsZGF0dW1OYW1lOiJJcmlzaCBOYXRpb25hbCJ9LEkuaXJlNjU9e3Rvd2dzODQ6IjQ4Mi41MzAsLTEzMC41OTYsNTY0LjU1NywtMS4wNDIsLTAuMjE0LC0wLjYzMSw4LjE1IixlbGxpcHNlOiJtb2RfYWlyeSIsZGF0dW1OYW1lOiJJcmVsYW5kIDE5NjUifSxJLnJhc3NhZGlyYW49e3Rvd2dzODQ6Ii0xMzMuNjMsLTE1Ny41LC0xNTguNjIiLGVsbGlwc2U6ImludGwiLGRhdHVtTmFtZToiUmFzc2FkaXJhbiJ9LEkubnpnZDQ5PXt0b3dnczg0OiI1OS40NywtNS4wNCwxODcuNDQsMC40NywtMC4xLDEuMDI0LC00LjU5OTMiLGVsbGlwc2U6ImludGwiLGRhdHVtTmFtZToiTmV3IFplYWxhbmQgR2VvZGV0aWMgRGF0dW0gMTk0OSJ9LEkub3NnYjM2PXt0b3dnczg0OiI0NDYuNDQ4LC0xMjUuMTU3LDU0Mi4wNjAsMC4xNTAyLDAuMjQ3MCwwLjg0MjEsLTIwLjQ4OTQiLGVsbGlwc2U6ImFpcnkiLGRhdHVtTmFtZToiQWlyeSAxODMwIn0sSS5zX2p0c2s9e3Rvd2dzODQ6IjU4OSw3Niw0ODAiLGVsbGlwc2U6ImJlc3NlbCIsZGF0dW1OYW1lOiJTLUpUU0sgKEZlcnJvKSJ9LEkuYmVkdWFyYW09e3Rvd2dzODQ6Ii0xMDYsLTg3LDE4OCIsZWxsaXBzZToiY2xyazgwIixkYXR1bU5hbWU6IkJlZHVhcmFtIn0sSS5ndW51bmdfc2VnYXJhPXt0b3dnczg0OiItNDAzLDY4NCw0MSIsZWxsaXBzZToiYmVzc2VsIixkYXR1bU5hbWU6Ikd1bnVuZyBTZWdhcmEgSmFrYXJ0YSJ9LEkucm5iNzI9e3Rvd2dzODQ6IjEwNi44NjksLTUyLjI5NzgsMTAzLjcyNCwtMC4zMzY1NywwLjQ1Njk1NSwtMS44NDIxOCwxIixlbGxpcHNlOiJpbnRsIixkYXR1bU5hbWU6IlJlc2VhdSBOYXRpb25hbCBCZWxnZSAxOTcyIn07ZnVuY3Rpb24gSGgocyx0LGgsYSxpLGUsbil7dmFyIHI9e307cmV0dXJuIHM9PT12b2lkIDB8fHM9PT0ibm9uZSI/ci5kYXR1bV90eXBlPWhzOnIuZGF0dW1fdHlwZT11aCx0JiYoci5kYXR1bV9wYXJhbXM9dC5tYXAocGFyc2VGbG9hdCksKHIuZGF0dW1fcGFyYW1zWzBdIT09MHx8ci5kYXR1bV9wYXJhbXNbMV0hPT0wfHxyLmRhdHVtX3BhcmFtc1syXSE9PTApJiYoci5kYXR1bV90eXBlPXJ0KSxyLmRhdHVtX3BhcmFtcy5sZW5ndGg+MyYmKHIuZGF0dW1fcGFyYW1zWzNdIT09MHx8ci5kYXR1bV9wYXJhbXNbNF0hPT0wfHxyLmRhdHVtX3BhcmFtc1s1XSE9PTB8fHIuZGF0dW1fcGFyYW1zWzZdIT09MCkmJihyLmRhdHVtX3R5cGU9bnQsci5kYXR1bV9wYXJhbXNbM10qPWd0LHIuZGF0dW1fcGFyYW1zWzRdKj1ndCxyLmRhdHVtX3BhcmFtc1s1XSo9Z3Qsci5kYXR1bV9wYXJhbXNbNl09ci5kYXR1bV9wYXJhbXNbNl0vMWU2KzEpKSxuJiYoci5kYXR1bV90eXBlPXF0LHIuZ3JpZHM9biksci5hPWgsci5iPWEsci5lcz1pLHIuZXAyPWUscn12YXIgQXM9e307ZnVuY3Rpb24gVmgocyx0KXt2YXIgaD1uZXcgRGF0YVZpZXcodCksYT1LaChoKSxpPVloKGgsYSk7aS5uU3ViZ3JpZHM+MSYmY29uc29sZS5sb2coIk9ubHkgc2luZ2xlIE5UdjIgc3ViZ3JpZHMgYXJlIGN1cnJlbnRseSBzdXBwb3J0ZWQsIHN1YnNlcXVlbnQgc3ViIGdyaWRzIGFyZSBpZ25vcmVkIik7dmFyIGU9JGgoaCxpLGEpLG49e2hlYWRlcjppLHN1YmdyaWRzOmV9O3JldHVybiBBc1tzXT1uLG59ZnVuY3Rpb24gWmgocyl7aWYocz09PXZvaWQgMClyZXR1cm4gbnVsbDt2YXIgdD1zLnNwbGl0KCIsIik7cmV0dXJuIHQubWFwKEpoKX1mdW5jdGlvbiBKaChzKXtpZihzLmxlbmd0aD09PTApcmV0dXJuIG51bGw7dmFyIHQ9c1swXT09PSJAIjtyZXR1cm4gdCYmKHM9cy5zbGljZSgxKSkscz09PSJudWxsIj97bmFtZToibnVsbCIsbWFuZGF0b3J5OiF0LGdyaWQ6bnVsbCxpc051bGw6ITB9OntuYW1lOnMsbWFuZGF0b3J5OiF0LGdyaWQ6QXNbc118fG51bGwsaXNOdWxsOiExfX1mdW5jdGlvbiB1dChzKXtyZXR1cm4gcy8zNjAwKk1hdGguUEkvMTgwfWZ1bmN0aW9uIEtoKHMpe3ZhciB0PXMuZ2V0SW50MzIoOCwhMSk7cmV0dXJuIHQ9PT0xMT8hMToodD1zLmdldEludDMyKDgsITApLHQhPT0xMSYmY29uc29sZS53YXJuKCJGYWlsZWQgdG8gZGV0ZWN0IG5hZGdyaWQgZW5kaWFuLW5lc3MsIGRlZmF1bHRpbmcgdG8gbGl0dGxlLWVuZGlhbiIpLCEwKX1mdW5jdGlvbiBZaChzLHQpe3JldHVybntuRmllbGRzOnMuZ2V0SW50MzIoOCx0KSxuU3ViZ3JpZEZpZWxkczpzLmdldEludDMyKDI0LHQpLG5TdWJncmlkczpzLmdldEludDMyKDQwLHQpLHNoaWZ0VHlwZTplcyhzLDU2LDY0KS50cmltKCksZnJvbVNlbWlNYWpvckF4aXM6cy5nZXRGbG9hdDY0KDEyMCx0KSxmcm9tU2VtaU1pbm9yQXhpczpzLmdldEZsb2F0NjQoMTM2LHQpLHRvU2VtaU1ham9yQXhpczpzLmdldEZsb2F0NjQoMTUyLHQpLHRvU2VtaU1pbm9yQXhpczpzLmdldEZsb2F0NjQoMTY4LHQpfX1mdW5jdGlvbiBlcyhzLHQsaCl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheShzLmJ1ZmZlci5zbGljZSh0LGgpKSl9ZnVuY3Rpb24gJGgocyx0LGgpe2Zvcih2YXIgYT0xNzYsaT1bXSxlPTA7ZTx0Lm5TdWJncmlkcztlKyspe3ZhciBuPXNhKHMsYSxoKSxyPWhhKHMsYSxuLGgpLG89TWF0aC5yb3VuZCgxKyhuLnVwcGVyTG9uZ2l0dWRlLW4ubG93ZXJMb25naXR1ZGUpL24ubG9uZ2l0dWRlSW50ZXJ2YWwpLGw9TWF0aC5yb3VuZCgxKyhuLnVwcGVyTGF0aXR1ZGUtbi5sb3dlckxhdGl0dWRlKS9uLmxhdGl0dWRlSW50ZXJ2YWwpO2kucHVzaCh7bGw6W3V0KG4ubG93ZXJMb25naXR1ZGUpLHV0KG4ubG93ZXJMYXRpdHVkZSldLGRlbDpbdXQobi5sb25naXR1ZGVJbnRlcnZhbCksdXQobi5sYXRpdHVkZUludGVydmFsKV0sbGltOltvLGxdLGNvdW50Om4uZ3JpZE5vZGVDb3VudCxjdnM6dGEocil9KX1yZXR1cm4gaX1mdW5jdGlvbiB0YShzKXtyZXR1cm4gcy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuW3V0KHQubG9uZ2l0dWRlU2hpZnQpLHV0KHQubGF0aXR1ZGVTaGlmdCldfSl9ZnVuY3Rpb24gc2Eocyx0LGgpe3JldHVybntuYW1lOmVzKHMsdCs4LHQrMTYpLnRyaW0oKSxwYXJlbnQ6ZXMocyx0KzI0LHQrMjQrOCkudHJpbSgpLGxvd2VyTGF0aXR1ZGU6cy5nZXRGbG9hdDY0KHQrNzIsaCksdXBwZXJMYXRpdHVkZTpzLmdldEZsb2F0NjQodCs4OCxoKSxsb3dlckxvbmdpdHVkZTpzLmdldEZsb2F0NjQodCsxMDQsaCksdXBwZXJMb25naXR1ZGU6cy5nZXRGbG9hdDY0KHQrMTIwLGgpLGxhdGl0dWRlSW50ZXJ2YWw6cy5nZXRGbG9hdDY0KHQrMTM2LGgpLGxvbmdpdHVkZUludGVydmFsOnMuZ2V0RmxvYXQ2NCh0KzE1MixoKSxncmlkTm9kZUNvdW50OnMuZ2V0SW50MzIodCsxNjgsaCl9fWZ1bmN0aW9uIGhhKHMsdCxoLGEpe2Zvcih2YXIgaT10KzE3NixlPTE2LG49W10scj0wO3I8aC5ncmlkTm9kZUNvdW50O3IrKyl7dmFyIG89e2xhdGl0dWRlU2hpZnQ6cy5nZXRGbG9hdDMyKGkrciplLGEpLGxvbmdpdHVkZVNoaWZ0OnMuZ2V0RmxvYXQzMihpK3IqZSs0LGEpLGxhdGl0dWRlQWNjdXJhY3k6cy5nZXRGbG9hdDMyKGkrciplKzgsYSksbG9uZ2l0dWRlQWNjdXJhY3k6cy5nZXRGbG9hdDMyKGkrciplKzEyLGEpfTtuLnB1c2gobyl9cmV0dXJuIG59ZnVuY3Rpb24gWShzLHQpe2lmKCEodGhpcyBpbnN0YW5jZW9mIFkpKXJldHVybiBuZXcgWShzKTt0PXR8fGZ1bmN0aW9uKGwpe2lmKGwpdGhyb3cgbH07dmFyIGg9UGgocyk7aWYodHlwZW9mIGghPSJvYmplY3QiKXt0KHMpO3JldHVybn12YXIgYT1ZLnByb2plY3Rpb25zLmdldChoLnByb2pOYW1lKTtpZighYSl7dChzKTtyZXR1cm59aWYoaC5kYXR1bUNvZGUmJmguZGF0dW1Db2RlIT09Im5vbmUiKXt2YXIgaT1odChJLGguZGF0dW1Db2RlKTtpJiYoaC5kYXR1bV9wYXJhbXM9aC5kYXR1bV9wYXJhbXN8fChpLnRvd2dzODQ/aS50b3dnczg0LnNwbGl0KCIsIik6bnVsbCksaC5lbGxwcz1pLmVsbGlwc2UsaC5kYXR1bU5hbWU9aS5kYXR1bU5hbWU/aS5kYXR1bU5hbWU6aC5kYXR1bUNvZGUpfWguazA9aC5rMHx8MSxoLmF4aXM9aC5heGlzfHwiZW51IixoLmVsbHBzPWguZWxscHN8fCJ3Z3M4NCIsaC5sYXQxPWgubGF0MXx8aC5sYXQwO3ZhciBlPVdoKGguYSxoLmIsaC5yZixoLmVsbHBzLGguc3BoZXJlKSxuPVhoKGUuYSxlLmIsZS5yZixoLlJfQSkscj1aaChoLm5hZGdyaWRzKSxvPWguZGF0dW18fEhoKGguZGF0dW1Db2RlLGguZGF0dW1fcGFyYW1zLGUuYSxlLmIsbi5lcyxuLmVwMixyKTt3cyh0aGlzLGgpLHdzKHRoaXMsYSksdGhpcy5hPWUuYSx0aGlzLmI9ZS5iLHRoaXMucmY9ZS5yZix0aGlzLnNwaGVyZT1lLnNwaGVyZSx0aGlzLmVzPW4uZXMsdGhpcy5lPW4uZSx0aGlzLmVwMj1uLmVwMix0aGlzLmRhdHVtPW8sdGhpcy5pbml0KCksdChudWxsLHRoaXMpfVkucHJvamVjdGlvbnM9VWgsWS5wcm9qZWN0aW9ucy5zdGFydCgpO2Z1bmN0aW9uIGFhKHMsdCl7cmV0dXJuIHMuZGF0dW1fdHlwZSE9PXQuZGF0dW1fdHlwZXx8cy5hIT09dC5hfHxNYXRoLmFicyhzLmVzLXQuZXMpPjVlLTExPyExOnMuZGF0dW1fdHlwZT09PXJ0P3MuZGF0dW1fcGFyYW1zWzBdPT09dC5kYXR1bV9wYXJhbXNbMF0mJnMuZGF0dW1fcGFyYW1zWzFdPT09dC5kYXR1bV9wYXJhbXNbMV0mJnMuZGF0dW1fcGFyYW1zWzJdPT09dC5kYXR1bV9wYXJhbXNbMl06cy5kYXR1bV90eXBlPT09bnQ/cy5kYXR1bV9wYXJhbXNbMF09PT10LmRhdHVtX3BhcmFtc1swXSYmcy5kYXR1bV9wYXJhbXNbMV09PT10LmRhdHVtX3BhcmFtc1sxXSYmcy5kYXR1bV9wYXJhbXNbMl09PT10LmRhdHVtX3BhcmFtc1syXSYmcy5kYXR1bV9wYXJhbXNbM109PT10LmRhdHVtX3BhcmFtc1szXSYmcy5kYXR1bV9wYXJhbXNbNF09PT10LmRhdHVtX3BhcmFtc1s0XSYmcy5kYXR1bV9wYXJhbXNbNV09PT10LmRhdHVtX3BhcmFtc1s1XSYmcy5kYXR1bV9wYXJhbXNbNl09PT10LmRhdHVtX3BhcmFtc1s2XTohMH1mdW5jdGlvbiBFcyhzLHQsaCl7dmFyIGE9cy54LGk9cy55LGU9cy56P3MuejowLG4scixvLGw7aWYoaTwtcCYmaT4tMS4wMDEqcClpPS1wO2Vsc2UgaWYoaT5wJiZpPDEuMDAxKnApaT1wO2Vsc2V7aWYoaTwtcClyZXR1cm57eDotMS8wLHk6LTEvMCx6OnMuen07aWYoaT5wKXJldHVybnt4OjEvMCx5OjEvMCx6OnMuen19cmV0dXJuIGE+TWF0aC5QSSYmKGEtPTIqTWF0aC5QSSkscj1NYXRoLnNpbihpKSxsPU1hdGguY29zKGkpLG89cipyLG49aC9NYXRoLnNxcnQoMS10Km8pLHt4OihuK2UpKmwqTWF0aC5jb3MoYSkseToobitlKSpsKk1hdGguc2luKGEpLHo6KG4qKDEtdCkrZSkqcn19ZnVuY3Rpb24gTnMocyx0LGgsYSl7dmFyIGk9MWUtMTIsZT1pKmksbj0zMCxyLG8sbCxjLHUsTSxmLHksbSxkLF8sdix3LEE9cy54LGI9cy55LHo9cy56P3MuejowLEUsayxqO2lmKHI9TWF0aC5zcXJ0KEEqQStiKmIpLG89TWF0aC5zcXJ0KEEqQStiKmIreip6KSxyL2g8aSl7aWYoRT0wLG8vaDxpKXJldHVybiBrPXAsaj0tYSx7eDpzLngseTpzLnksejpzLnp9fWVsc2UgRT1NYXRoLmF0YW4yKGIsQSk7bD16L28sYz1yL28sdT0xL01hdGguc3FydCgxLXQqKDItdCkqYypjKSx5PWMqKDEtdCkqdSxtPWwqdSx3PTA7ZG8gdysrLGY9aC9NYXRoLnNxcnQoMS10Km0qbSksaj1yKnkreiptLWYqKDEtdCptKm0pLE09dCpmLyhmK2opLHU9MS9NYXRoLnNxcnQoMS1NKigyLU0pKmMqYyksZD1jKigxLU0pKnUsXz1sKnUsdj1fKnktZCptLHk9ZCxtPV87d2hpbGUodip2PmUmJnc8bik7cmV0dXJuIGs9TWF0aC5hdGFuKF8vTWF0aC5hYnMoZCkpLHt4OkUseTprLHo6an19ZnVuY3Rpb24gaWEocyx0LGgpe2lmKHQ9PT1ydClyZXR1cm57eDpzLngraFswXSx5OnMueStoWzFdLHo6cy56K2hbMl19O2lmKHQ9PT1udCl7dmFyIGE9aFswXSxpPWhbMV0sZT1oWzJdLG49aFszXSxyPWhbNF0sbz1oWzVdLGw9aFs2XTtyZXR1cm57eDpsKihzLngtbypzLnkrcipzLnopK2EseTpsKihvKnMueCtzLnktbipzLnopK2ksejpsKigtcipzLngrbipzLnkrcy56KStlfX19ZnVuY3Rpb24gZWEocyx0LGgpe2lmKHQ9PT1ydClyZXR1cm57eDpzLngtaFswXSx5OnMueS1oWzFdLHo6cy56LWhbMl19O2lmKHQ9PT1udCl7dmFyIGE9aFswXSxpPWhbMV0sZT1oWzJdLG49aFszXSxyPWhbNF0sbz1oWzVdLGw9aFs2XSxjPShzLngtYSkvbCx1PShzLnktaSkvbCxNPShzLnotZSkvbDtyZXR1cm57eDpjK28qdS1yKk0seTotbypjK3UrbipNLHo6cipjLW4qdStNfX19ZnVuY3Rpb24gR3Qocyl7cmV0dXJuIHM9PT1ydHx8cz09PW50fWZ1bmN0aW9uIHJhKHMsdCxoKXtpZihhYShzLHQpfHxzLmRhdHVtX3R5cGU9PT1oc3x8dC5kYXR1bV90eXBlPT09aHMpcmV0dXJuIGg7dmFyIGE9cy5hLGk9cy5lcztpZihzLmRhdHVtX3R5cGU9PT1xdCl7dmFyIGU9U3MocywhMSxoKTtpZihlIT09MClyZXR1cm47YT15cyxpPW1zfXZhciBuPXQuYSxyPXQuYixvPXQuZXM7aWYodC5kYXR1bV90eXBlPT09cXQmJihuPXlzLHI9Y2gsbz1tcyksaT09PW8mJmE9PT1uJiYhR3Qocy5kYXR1bV90eXBlKSYmIUd0KHQuZGF0dW1fdHlwZSkpcmV0dXJuIGg7aWYoaD1FcyhoLGksYSksR3Qocy5kYXR1bV90eXBlKSYmKGg9aWEoaCxzLmRhdHVtX3R5cGUscy5kYXR1bV9wYXJhbXMpKSxHdCh0LmRhdHVtX3R5cGUpJiYoaD1lYShoLHQuZGF0dW1fdHlwZSx0LmRhdHVtX3BhcmFtcykpLGg9TnMoaCxvLG4sciksdC5kYXR1bV90eXBlPT09cXQpe3ZhciBsPVNzKHQsITAsaCk7aWYobCE9PTApcmV0dXJufXJldHVybiBofWZ1bmN0aW9uIFNzKHMsdCxoKXtpZihzLmdyaWRzPT09bnVsbHx8cy5ncmlkcy5sZW5ndGg9PT0wKXJldHVybiBjb25zb2xlLmxvZygiR3JpZCBzaGlmdCBncmlkcyBub3QgZm91bmQiKSwtMTtmb3IodmFyIGE9e3g6LWgueCx5OmgueX0saT17eDpOdW1iZXIuTmFOLHk6TnVtYmVyLk5hTn0sZT1bXSxuPTA7bjxzLmdyaWRzLmxlbmd0aDtuKyspe3ZhciByPXMuZ3JpZHNbbl07aWYoZS5wdXNoKHIubmFtZSksci5pc051bGwpe2k9YTticmVha31pZihyLm1hbmRhdG9yeSxyLmdyaWQ9PT1udWxsKXtpZihyLm1hbmRhdG9yeSlyZXR1cm4gY29uc29sZS5sb2coIlVuYWJsZSB0byBmaW5kIG1hbmRhdG9yeSBncmlkICciK3IubmFtZSsiJyIpLC0xO2NvbnRpbnVlfXZhciBvPXIuZ3JpZC5zdWJncmlkc1swXSxsPShNYXRoLmFicyhvLmRlbFsxXSkrTWF0aC5hYnMoby5kZWxbMF0pKS8xZTQsYz1vLmxsWzBdLWwsdT1vLmxsWzFdLWwsTT1vLmxsWzBdKyhvLmxpbVswXS0xKSpvLmRlbFswXStsLGY9by5sbFsxXSsoby5saW1bMV0tMSkqby5kZWxbMV0rbDtpZighKHU+YS55fHxjPmEueHx8ZjxhLnl8fE08YS54KSYmKGk9bmEoYSx0LG8pLCFpc05hTihpLngpKSlicmVha31yZXR1cm4gaXNOYU4oaS54KT8oY29uc29sZS5sb2coIkZhaWxlZCB0byBmaW5kIGEgZ3JpZCBzaGlmdCB0YWJsZSBmb3IgbG9jYXRpb24gJyIrLWEueCpKKyIgIithLnkqSisiIHRyaWVkOiAnIitlKyInIiksLTEpOihoLng9LWkueCxoLnk9aS55LDApfWZ1bmN0aW9uIG5hKHMsdCxoKXt2YXIgYT17eDpOdW1iZXIuTmFOLHk6TnVtYmVyLk5hTn07aWYoaXNOYU4ocy54KSlyZXR1cm4gYTt2YXIgaT17eDpzLngseTpzLnl9O2kueC09aC5sbFswXSxpLnktPWgubGxbMV0saS54PWcoaS54LU1hdGguUEkpK01hdGguUEk7dmFyIGU9a3MoaSxoKTtpZih0KXtpZihpc05hTihlLngpKXJldHVybiBhO2UueD1pLngtZS54LGUueT1pLnktZS55O3ZhciBuPTkscj0xZS0xMixvLGw7ZG97aWYobD1rcyhlLGgpLGlzTmFOKGwueCkpe2NvbnNvbGUubG9nKCJJbnZlcnNlIGdyaWQgc2hpZnQgaXRlcmF0aW9uIGZhaWxlZCwgcHJlc3VtYWJseSBhdCBncmlkIGVkZ2UuICBVc2luZyBmaXJzdCBhcHByb3hpbWF0aW9uLiIpO2JyZWFrfW89e3g6aS54LShsLngrZS54KSx5OmkueS0obC55K2UueSl9LGUueCs9by54LGUueSs9by55fXdoaWxlKG4tLSYmTWF0aC5hYnMoby54KT5yJiZNYXRoLmFicyhvLnkpPnIpO2lmKG48MClyZXR1cm4gY29uc29sZS5sb2coIkludmVyc2UgZ3JpZCBzaGlmdCBpdGVyYXRvciBmYWlsZWQgdG8gY29udmVyZ2UuIiksYTthLng9ZyhlLngraC5sbFswXSksYS55PWUueStoLmxsWzFdfWVsc2UgaXNOYU4oZS54KXx8KGEueD1zLngrZS54LGEueT1zLnkrZS55KTtyZXR1cm4gYX1mdW5jdGlvbiBrcyhzLHQpe3ZhciBoPXt4OnMueC90LmRlbFswXSx5OnMueS90LmRlbFsxXX0sYT17eDpNYXRoLmZsb29yKGgueCkseTpNYXRoLmZsb29yKGgueSl9LGk9e3g6aC54LTEqYS54LHk6aC55LTEqYS55fSxlPXt4Ok51bWJlci5OYU4seTpOdW1iZXIuTmFOfSxuO2lmKGEueDwwfHxhLng+PXQubGltWzBdfHxhLnk8MHx8YS55Pj10LmxpbVsxXSlyZXR1cm4gZTtuPWEueSp0LmxpbVswXSthLng7dmFyIHI9e3g6dC5jdnNbbl1bMF0seTp0LmN2c1tuXVsxXX07bisrO3ZhciBvPXt4OnQuY3ZzW25dWzBdLHk6dC5jdnNbbl1bMV19O24rPXQubGltWzBdO3ZhciBsPXt4OnQuY3ZzW25dWzBdLHk6dC5jdnNbbl1bMV19O24tLTt2YXIgYz17eDp0LmN2c1tuXVswXSx5OnQuY3ZzW25dWzFdfSx1PWkueCppLnksTT1pLngqKDEtaS55KSxmPSgxLWkueCkqKDEtaS55KSx5PSgxLWkueCkqaS55O3JldHVybiBlLng9ZipyLngrTSpvLngreSpjLngrdSpsLngsZS55PWYqci55K00qby55K3kqYy55K3UqbC55LGV9ZnVuY3Rpb24gUHMocyx0LGgpe3ZhciBhPWgueCxpPWgueSxlPWguenx8MCxuLHIsbyxsPXt9O2ZvcihvPTA7bzwzO28rKylpZighKHQmJm89PT0yJiZoLno9PT12b2lkIDApKXN3aXRjaChvPT09MD8obj1hLCJldyIuaW5kZXhPZihzLmF4aXNbb10pIT09LTE/cj0ieCI6cj0ieSIpOm89PT0xPyhuPWksIm5zIi5pbmRleE9mKHMuYXhpc1tvXSkhPT0tMT9yPSJ5IjpyPSJ4Iik6KG49ZSxyPSJ6Iikscy5heGlzW29dKXtjYXNlImUiOmxbcl09bjticmVhaztjYXNlInciOmxbcl09LW47YnJlYWs7Y2FzZSJuIjpsW3JdPW47YnJlYWs7Y2FzZSJzIjpsW3JdPS1uO2JyZWFrO2Nhc2UidSI6aFtyXSE9PXZvaWQgMCYmKGwuej1uKTticmVhaztjYXNlImQiOmhbcl0hPT12b2lkIDAmJihsLno9LW4pO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIG51bGx9cmV0dXJuIGx9ZnVuY3Rpb24gT3Mocyl7dmFyIHQ9e3g6c1swXSx5OnNbMV19O3JldHVybiBzLmxlbmd0aD4yJiYodC56PXNbMl0pLHMubGVuZ3RoPjMmJih0Lm09c1szXSksdH1mdW5jdGlvbiBvYShzKXtJcyhzLngpLElzKHMueSl9ZnVuY3Rpb24gSXMocyl7aWYodHlwZW9mIE51bWJlci5pc0Zpbml0ZT09ImZ1bmN0aW9uIil7aWYoTnVtYmVyLmlzRmluaXRlKHMpKXJldHVybjt0aHJvdyBuZXcgVHlwZUVycm9yKCJjb29yZGluYXRlcyBtdXN0IGJlIGZpbml0ZSBudW1iZXJzIil9aWYodHlwZW9mIHMhPSJudW1iZXIifHxzIT09c3x8IWlzRmluaXRlKHMpKXRocm93IG5ldyBUeXBlRXJyb3IoImNvb3JkaW5hdGVzIG11c3QgYmUgZmluaXRlIG51bWJlcnMiKX1mdW5jdGlvbiBsYShzLHQpe3JldHVybihzLmRhdHVtLmRhdHVtX3R5cGU9PT1ydHx8cy5kYXR1bS5kYXR1bV90eXBlPT09bnQpJiZ0LmRhdHVtQ29kZSE9PSJXR1M4NCJ8fCh0LmRhdHVtLmRhdHVtX3R5cGU9PT1ydHx8dC5kYXR1bS5kYXR1bV90eXBlPT09bnQpJiZzLmRhdHVtQ29kZSE9PSJXR1M4NCJ9ZnVuY3Rpb24gQnQocyx0LGgsYSl7dmFyIGk7aWYoQXJyYXkuaXNBcnJheShoKSYmKGg9T3MoaCkpLG9hKGgpLHMuZGF0dW0mJnQuZGF0dW0mJmxhKHMsdCkmJihpPW5ldyBZKCJXR1M4NCIpLGg9QnQocyxpLGgsYSkscz1pKSxhJiZzLmF4aXMhPT0iZW51IiYmKGg9UHMocywhMSxoKSkscy5wcm9qTmFtZT09PSJsb25nbGF0IiloPXt4OmgueCpxLHk6aC55KnEsejpoLnp8fDB9O2Vsc2UgaWYocy50b19tZXRlciYmKGg9e3g6aC54KnMudG9fbWV0ZXIseTpoLnkqcy50b19tZXRlcix6Omguenx8MH0pLGg9cy5pbnZlcnNlKGgpLCFoKXJldHVybjtpZihzLmZyb21fZ3JlZW53aWNoJiYoaC54Kz1zLmZyb21fZ3JlZW53aWNoKSxoPXJhKHMuZGF0dW0sdC5kYXR1bSxoKSwhIWgpcmV0dXJuIHQuZnJvbV9ncmVlbndpY2gmJihoPXt4OmgueC10LmZyb21fZ3JlZW53aWNoLHk6aC55LHo6aC56fHwwfSksdC5wcm9qTmFtZT09PSJsb25nbGF0Ij9oPXt4OmgueCpKLHk6aC55KkosejpoLnp8fDB9OihoPXQuZm9yd2FyZChoKSx0LnRvX21ldGVyJiYoaD17eDpoLngvdC50b19tZXRlcix5OmgueS90LnRvX21ldGVyLHo6aC56fHwwfSkpLGEmJnQuYXhpcyE9PSJlbnUiP1BzKHQsITAsaCk6aH12YXIgcXM9WSgiV0dTODQiKTtmdW5jdGlvbiBycyhzLHQsaCxhKXt2YXIgaSxlLG47cmV0dXJuIEFycmF5LmlzQXJyYXkoaCk/KGk9QnQocyx0LGgsYSl8fHt4Ok5hTix5Ok5hTn0saC5sZW5ndGg+Mj90eXBlb2Ygcy5uYW1lPCJ1IiYmcy5uYW1lPT09Imdlb2NlbnQifHx0eXBlb2YgdC5uYW1lPCJ1IiYmdC5uYW1lPT09Imdlb2NlbnQiP3R5cGVvZiBpLno9PSJudW1iZXIiP1tpLngsaS55LGkuel0uY29uY2F0KGguc3BsaWNlKDMpKTpbaS54LGkueSxoWzJdXS5jb25jYXQoaC5zcGxpY2UoMykpOltpLngsaS55XS5jb25jYXQoaC5zcGxpY2UoMikpOltpLngsaS55XSk6KGU9QnQocyx0LGgsYSksbj1PYmplY3Qua2V5cyhoKSxuLmxlbmd0aD09PTJ8fG4uZm9yRWFjaChmdW5jdGlvbihyKXtpZih0eXBlb2Ygcy5uYW1lPCJ1IiYmcy5uYW1lPT09Imdlb2NlbnQifHx0eXBlb2YgdC5uYW1lPCJ1IiYmdC5uYW1lPT09Imdlb2NlbnQiKXtpZihyPT09IngifHxyPT09InkifHxyPT09InoiKXJldHVybn1lbHNlIGlmKHI9PT0ieCJ8fHI9PT0ieSIpcmV0dXJuO2Vbcl09aFtyXX0pLGUpfWZ1bmN0aW9uIFJzKHMpe3JldHVybiBzIGluc3RhbmNlb2YgWT9zOnMub1Byb2o/cy5vUHJvajpZKHMpfWZ1bmN0aW9uIEQocyx0LGgpe3M9UnMocyk7dmFyIGE9ITEsaTtyZXR1cm4gdHlwZW9mIHQ+InUiPyh0PXMscz1xcyxhPSEwKToodHlwZW9mIHQueDwidSJ8fEFycmF5LmlzQXJyYXkodCkpJiYoaD10LHQ9cyxzPXFzLGE9ITApLHQ9UnModCksaD9ycyhzLHQsaCk6KGk9e2ZvcndhcmQ6ZnVuY3Rpb24oZSxuKXtyZXR1cm4gcnMocyx0LGUsbil9LGludmVyc2U6ZnVuY3Rpb24oZSxuKXtyZXR1cm4gcnModCxzLGUsbil9fSxhJiYoaS5vUHJvaj10KSxpKX12YXIgVHM9NixMcz0iQUpTQUpTIixqcz0iQUZBRkFGIixjdD02NSxCPTczLFE9NzksQ3Q9ODYsQXQ9OTAsdWE9e2ZvcndhcmQ6R3MsaW52ZXJzZTpjYSx0b1BvaW50OkJzfTtmdW5jdGlvbiBHcyhzLHQpe3JldHVybiB0PXR8fDUseWEoTWEoe2xhdDpzWzFdLGxvbjpzWzBdfSksdCl9ZnVuY3Rpb24gY2Eocyl7dmFyIHQ9b3MoVXMocy50b1VwcGVyQ2FzZSgpKSk7cmV0dXJuIHQubGF0JiZ0Lmxvbj9bdC5sb24sdC5sYXQsdC5sb24sdC5sYXRdOlt0LmxlZnQsdC5ib3R0b20sdC5yaWdodCx0LnRvcF19ZnVuY3Rpb24gQnMocyl7dmFyIHQ9b3MoVXMocy50b1VwcGVyQ2FzZSgpKSk7cmV0dXJuIHQubGF0JiZ0Lmxvbj9bdC5sb24sdC5sYXRdOlsodC5sZWZ0K3QucmlnaHQpLzIsKHQudG9wK3QuYm90dG9tKS8yXX1mdW5jdGlvbiBucyhzKXtyZXR1cm4gcyooTWF0aC5QSS8xODApfWZ1bmN0aW9uIEZzKHMpe3JldHVybiAxODAqKHMvTWF0aC5QSSl9ZnVuY3Rpb24gTWEocyl7dmFyIHQ9cy5sYXQsaD1zLmxvbixhPTYzNzgxMzcsaT0uMDA2Njk0MzgsZT0uOTk5NixuLHIsbyxsLGMsdSxNLGY9bnModCkseT1ucyhoKSxtLGQ7ZD1NYXRoLmZsb29yKChoKzE4MCkvNikrMSxoPT09MTgwJiYoZD02MCksdD49NTYmJnQ8NjQmJmg+PTMmJmg8MTImJihkPTMyKSx0Pj03MiYmdDw4NCYmKGg+PTAmJmg8OT9kPTMxOmg+PTkmJmg8MjE/ZD0zMzpoPj0yMSYmaDwzMz9kPTM1Omg+PTMzJiZoPDQyJiYoZD0zNykpLG49KGQtMSkqNi0xODArMyxtPW5zKG4pLHI9aS8oMS1pKSxvPWEvTWF0aC5zcXJ0KDEtaSpNYXRoLnNpbihmKSpNYXRoLnNpbihmKSksbD1NYXRoLnRhbihmKSpNYXRoLnRhbihmKSxjPXIqTWF0aC5jb3MoZikqTWF0aC5jb3MoZiksdT1NYXRoLmNvcyhmKSooeS1tKSxNPWEqKCgxLWkvNC0zKmkqaS82NC01KmkqaSppLzI1NikqZi0oMyppLzgrMyppKmkvMzIrNDUqaSppKmkvMTAyNCkqTWF0aC5zaW4oMipmKSsoMTUqaSppLzI1Nis0NSppKmkqaS8xMDI0KSpNYXRoLnNpbig0KmYpLTM1KmkqaSppLzMwNzIqTWF0aC5zaW4oNipmKSk7dmFyIF89ZSpvKih1KygxLWwrYykqdSp1KnUvNisoNS0xOCpsK2wqbCs3MipjLTU4KnIpKnUqdSp1KnUqdS8xMjApKzVlNSx2PWUqKE0rbypNYXRoLnRhbihmKSoodSp1LzIrKDUtbCs5KmMrNCpjKmMpKnUqdSp1KnUvMjQrKDYxLTU4KmwrbCpsKzYwMCpjLTMzMCpyKSp1KnUqdSp1KnUqdS83MjApKTtyZXR1cm4gdDwwJiYodis9MWU3KSx7bm9ydGhpbmc6TWF0aC5yb3VuZCh2KSxlYXN0aW5nOk1hdGgucm91bmQoXyksem9uZU51bWJlcjpkLHpvbmVMZXR0ZXI6ZmEodCl9fWZ1bmN0aW9uIG9zKHMpe3ZhciB0PXMubm9ydGhpbmcsaD1zLmVhc3RpbmcsYT1zLnpvbmVMZXR0ZXIsaT1zLnpvbmVOdW1iZXI7aWYoaTwwfHxpPjYwKXJldHVybiBudWxsO3ZhciBlPS45OTk2LG49NjM3ODEzNyxyPS4wMDY2OTQzOCxvLGw9KDEtTWF0aC5zcXJ0KDEtcikpLygxK01hdGguc3FydCgxLXIpKSxjLHUsTSxmLHksbSxkLF8sdix3PWgtNWU1LEE9dDthPCJOIiYmKEEtPTFlNyksZD0oaS0xKSo2LTE4MCszLG89ci8oMS1yKSxtPUEvZSxfPW0vKG4qKDEtci80LTMqcipyLzY0LTUqcipyKnIvMjU2KSksdj1fKygzKmwvMi0yNypsKmwqbC8zMikqTWF0aC5zaW4oMipfKSsoMjEqbCpsLzE2LTU1KmwqbCpsKmwvMzIpKk1hdGguc2luKDQqXykrMTUxKmwqbCpsLzk2Kk1hdGguc2luKDYqXyksYz1uL01hdGguc3FydCgxLXIqTWF0aC5zaW4odikqTWF0aC5zaW4odikpLHU9TWF0aC50YW4odikqTWF0aC50YW4odiksTT1vKk1hdGguY29zKHYpKk1hdGguY29zKHYpLGY9biooMS1yKS9NYXRoLnBvdygxLXIqTWF0aC5zaW4odikqTWF0aC5zaW4odiksMS41KSx5PXcvKGMqZSk7dmFyIGI9di1jKk1hdGgudGFuKHYpL2YqKHkqeS8yLSg1KzMqdSsxMCpNLTQqTSpNLTkqbykqeSp5KnkqeS8yNCsoNjErOTAqdSsyOTgqTSs0NSp1KnUtMjUyKm8tMypNKk0pKnkqeSp5KnkqeSp5LzcyMCk7Yj1GcyhiKTt2YXIgej0oeS0oMSsyKnUrTSkqeSp5KnkvNisoNS0yKk0rMjgqdS0zKk0qTSs4Km8rMjQqdSp1KSp5KnkqeSp5KnkvMTIwKS9NYXRoLmNvcyh2KTt6PWQrRnMoeik7dmFyIEU7aWYocy5hY2N1cmFjeSl7dmFyIGs9b3Moe25vcnRoaW5nOnMubm9ydGhpbmcrcy5hY2N1cmFjeSxlYXN0aW5nOnMuZWFzdGluZytzLmFjY3VyYWN5LHpvbmVMZXR0ZXI6cy56b25lTGV0dGVyLHpvbmVOdW1iZXI6cy56b25lTnVtYmVyfSk7RT17dG9wOmsubGF0LHJpZ2h0OmsubG9uLGJvdHRvbTpiLGxlZnQ6en19ZWxzZSBFPXtsYXQ6Yixsb246en07cmV0dXJuIEV9ZnVuY3Rpb24gZmEocyl7dmFyIHQ9IloiO3JldHVybiA4ND49cyYmcz49NzI/dD0iWCI6NzI+cyYmcz49NjQ/dD0iVyI6NjQ+cyYmcz49NTY/dD0iViI6NTY+cyYmcz49NDg/dD0iVSI6NDg+cyYmcz49NDA/dD0iVCI6NDA+cyYmcz49MzI/dD0iUyI6MzI+cyYmcz49MjQ/dD0iUiI6MjQ+cyYmcz49MTY/dD0iUSI6MTY+cyYmcz49OD90PSJQIjo4PnMmJnM+PTA/dD0iTiI6MD5zJiZzPj0tOD90PSJNIjotOD5zJiZzPj0tMTY/dD0iTCI6LTE2PnMmJnM+PS0yND90PSJLIjotMjQ+cyYmcz49LTMyP3Q9IkoiOi0zMj5zJiZzPj0tNDA/dD0iSCI6LTQwPnMmJnM+PS00OD90PSJHIjotNDg+cyYmcz49LTU2P3Q9IkYiOi01Nj5zJiZzPj0tNjQ/dD0iRSI6LTY0PnMmJnM+PS03Mj90PSJEIjotNzI+cyYmcz49LTgwJiYodD0iQyIpLHR9ZnVuY3Rpb24geWEocyx0KXt2YXIgaD0iMDAwMDAiK3MuZWFzdGluZyxhPSIwMDAwMCIrcy5ub3J0aGluZztyZXR1cm4gcy56b25lTnVtYmVyK3Muem9uZUxldHRlcittYShzLmVhc3Rpbmcscy5ub3J0aGluZyxzLnpvbmVOdW1iZXIpK2guc3Vic3RyKGgubGVuZ3RoLTUsdCkrYS5zdWJzdHIoYS5sZW5ndGgtNSx0KX1mdW5jdGlvbiBtYShzLHQsaCl7dmFyIGE9RHMoaCksaT1NYXRoLmZsb29yKHMvMWU1KSxlPU1hdGguZmxvb3IodC8xZTUpJTIwO3JldHVybiBfYShpLGUsYSl9ZnVuY3Rpb24gRHMocyl7dmFyIHQ9cyVUcztyZXR1cm4gdD09PTAmJih0PVRzKSx0fWZ1bmN0aW9uIF9hKHMsdCxoKXt2YXIgYT1oLTEsaT1Mcy5jaGFyQ29kZUF0KGEpLGU9anMuY2hhckNvZGVBdChhKSxuPWkrcy0xLHI9ZSt0LG89ITE7bj5BdCYmKG49bi1BdCtjdC0xLG89ITApLChuPT09Qnx8aTxCJiZuPkJ8fChuPkJ8fGk8QikmJm8pJiZuKyssKG49PT1RfHxpPFEmJm4+UXx8KG4+UXx8aTxRKSYmbykmJihuKyssbj09PUImJm4rKyksbj5BdCYmKG49bi1BdCtjdC0xKSxyPkN0PyhyPXItQ3QrY3QtMSxvPSEwKTpvPSExLChyPT09Qnx8ZTxCJiZyPkJ8fChyPkJ8fGU8QikmJm8pJiZyKyssKHI9PT1RfHxlPFEmJnI+UXx8KHI+UXx8ZTxRKSYmbykmJihyKysscj09PUImJnIrKykscj5DdCYmKHI9ci1DdCtjdC0xKTt2YXIgbD1TdHJpbmcuZnJvbUNoYXJDb2RlKG4pK1N0cmluZy5mcm9tQ2hhckNvZGUocik7cmV0dXJuIGx9ZnVuY3Rpb24gVXMocyl7aWYocyYmcy5sZW5ndGg9PT0wKXRocm93Ik1HUlNQb2ludCBjb3ZlcnRpbmcgZnJvbSBub3RoaW5nIjtmb3IodmFyIHQ9cy5sZW5ndGgsaD1udWxsLGE9IiIsaSxlPTA7IS9bQS1aXS8udGVzdChpPXMuY2hhckF0KGUpKTspe2lmKGU+PTIpdGhyb3ciTUdSU1BvaW50IGJhZCBjb252ZXJzaW9uIGZyb206ICIrczthKz1pLGUrK312YXIgbj1wYXJzZUludChhLDEwKTtpZihlPT09MHx8ZSszPnQpdGhyb3ciTUdSU1BvaW50IGJhZCBjb252ZXJzaW9uIGZyb206ICIrczt2YXIgcj1zLmNoYXJBdChlKyspO2lmKHI8PSJBInx8cj09PSJCInx8cj09PSJZInx8cj49IloifHxyPT09IkkifHxyPT09Ik8iKXRocm93Ik1HUlNQb2ludCB6b25lIGxldHRlciAiK3IrIiBub3QgaGFuZGxlZDogIitzO2g9cy5zdWJzdHJpbmcoZSxlKz0yKTtmb3IodmFyIG89RHMobiksbD1kYShoLmNoYXJBdCgwKSxvKSxjPXBhKGguY2hhckF0KDEpLG8pO2M8eGEocik7KWMrPTJlNjt2YXIgdT10LWU7aWYodSUyIT09MCl0aHJvd2BNR1JTUG9pbnQgaGFzIHRvIGhhdmUgYW4gZXZlbiBudW1iZXIgCm9mIGRpZ2l0cyBhZnRlciB0aGUgem9uZSBsZXR0ZXIgYW5kIHR3byAxMDBrbSBsZXR0ZXJzIC0gZnJvbnQgCmhhbGYgZm9yIGVhc3RpbmcgbWV0ZXJzLCBzZWNvbmQgaGFsZiBmb3IgCm5vcnRoaW5nIG1ldGVyc2Arczt2YXIgTT11LzIsZj0wLHk9MCxtLGQsXyx2LHc7cmV0dXJuIE0+MCYmKG09MWU1L01hdGgucG93KDEwLE0pLGQ9cy5zdWJzdHJpbmcoZSxlK00pLGY9cGFyc2VGbG9hdChkKSptLF89cy5zdWJzdHJpbmcoZStNKSx5PXBhcnNlRmxvYXQoXykqbSksdj1mK2wsdz15K2Mse2Vhc3Rpbmc6dixub3J0aGluZzp3LHpvbmVMZXR0ZXI6cix6b25lTnVtYmVyOm4sYWNjdXJhY3k6bX19ZnVuY3Rpb24gZGEocyx0KXtmb3IodmFyIGg9THMuY2hhckNvZGVBdCh0LTEpLGE9MWU1LGk9ITE7aCE9PXMuY2hhckNvZGVBdCgwKTspe2lmKGgrKyxoPT09QiYmaCsrLGg9PT1RJiZoKyssaD5BdCl7aWYoaSl0aHJvdyJCYWQgY2hhcmFjdGVyOiAiK3M7aD1jdCxpPSEwfWErPTFlNX1yZXR1cm4gYX1mdW5jdGlvbiBwYShzLHQpe2lmKHM+IlYiKXRocm93Ik1HUlNQb2ludCBnaXZlbiBpbnZhbGlkIE5vcnRoaW5nICIrcztmb3IodmFyIGg9anMuY2hhckNvZGVBdCh0LTEpLGE9MCxpPSExO2ghPT1zLmNoYXJDb2RlQXQoMCk7KXtpZihoKyssaD09PUImJmgrKyxoPT09USYmaCsrLGg+Q3Qpe2lmKGkpdGhyb3ciQmFkIGNoYXJhY3RlcjogIitzO2g9Y3QsaT0hMH1hKz0xZTV9cmV0dXJuIGF9ZnVuY3Rpb24geGEocyl7dmFyIHQ7c3dpdGNoKHMpe2Nhc2UiQyI6dD0xMWU1O2JyZWFrO2Nhc2UiRCI6dD0yZTY7YnJlYWs7Y2FzZSJFIjp0PTI4ZTU7YnJlYWs7Y2FzZSJGIjp0PTM3ZTU7YnJlYWs7Y2FzZSJHIjp0PTQ2ZTU7YnJlYWs7Y2FzZSJIIjp0PTU1ZTU7YnJlYWs7Y2FzZSJKIjp0PTY0ZTU7YnJlYWs7Y2FzZSJLIjp0PTczZTU7YnJlYWs7Y2FzZSJMIjp0PTgyZTU7YnJlYWs7Y2FzZSJNIjp0PTkxZTU7YnJlYWs7Y2FzZSJOIjp0PTA7YnJlYWs7Y2FzZSJQIjp0PThlNTticmVhaztjYXNlIlEiOnQ9MTdlNTticmVhaztjYXNlIlIiOnQ9MjZlNTticmVhaztjYXNlIlMiOnQ9MzVlNTticmVhaztjYXNlIlQiOnQ9NDRlNTticmVhaztjYXNlIlUiOnQ9NTNlNTticmVhaztjYXNlIlYiOnQ9NjJlNTticmVhaztjYXNlIlciOnQ9N2U2O2JyZWFrO2Nhc2UiWCI6dD03OWU1O2JyZWFrO2RlZmF1bHQ6dD0tMX1pZih0Pj0wKXJldHVybiB0O3Rocm93IkludmFsaWQgem9uZSBsZXR0ZXI6ICIrc31mdW5jdGlvbiBNdChzLHQsaCl7aWYoISh0aGlzIGluc3RhbmNlb2YgTXQpKXJldHVybiBuZXcgTXQocyx0LGgpO2lmKEFycmF5LmlzQXJyYXkocykpdGhpcy54PXNbMF0sdGhpcy55PXNbMV0sdGhpcy56PXNbMl18fDA7ZWxzZSBpZih0eXBlb2Ygcz09Im9iamVjdCIpdGhpcy54PXMueCx0aGlzLnk9cy55LHRoaXMuej1zLnp8fDA7ZWxzZSBpZih0eXBlb2Ygcz09InN0cmluZyImJnR5cGVvZiB0PiJ1Iil7dmFyIGE9cy5zcGxpdCgiLCIpO3RoaXMueD1wYXJzZUZsb2F0KGFbMF0sMTApLHRoaXMueT1wYXJzZUZsb2F0KGFbMV0sMTApLHRoaXMuej1wYXJzZUZsb2F0KGFbMl0sMTApfHwwfWVsc2UgdGhpcy54PXMsdGhpcy55PXQsdGhpcy56PWh8fDA7Y29uc29sZS53YXJuKCJwcm9qNC5Qb2ludCB3aWxsIGJlIHJlbW92ZWQgaW4gdmVyc2lvbiAzLCB1c2UgcHJvajQudG9Qb2ludCIpfU10LmZyb21NR1JTPWZ1bmN0aW9uKHMpe3JldHVybiBuZXcgTXQoQnMocykpfSxNdC5wcm90b3R5cGUudG9NR1JTPWZ1bmN0aW9uKHMpe3JldHVybiBHcyhbdGhpcy54LHRoaXMueV0scyl9O3ZhciBnYT0xLHZhPS4yNSxRcz0uMDQ2ODc1LFhzPS4wMTk1MzEyNSxXcz0uMDEwNjgxMTUyMzQzNzUsYmE9Ljc1LHdhPS40Njg3NSx6YT0uMDEzMDIwODMzMzMzMzMzMzM0LENhPS4wMDcxMjA3NjgyMjkxNjY2NjcsQWE9LjM2NDU4MzMzMzMzMzMzMzMsRWE9LjAwNTY5NjYxNDU4MzMzMzMzMyxOYT0uMzA3NjE3MTg3NTtmdW5jdGlvbiBIcyhzKXt2YXIgdD1bXTt0WzBdPWdhLXMqKHZhK3MqKFFzK3MqKFhzK3MqV3MpKSksdFsxXT1zKihiYS1zKihRcytzKihYcytzKldzKSkpO3ZhciBoPXMqcztyZXR1cm4gdFsyXT1oKih3YS1zKih6YStzKkNhKSksaCo9cyx0WzNdPWgqKEFhLXMqRWEpLHRbNF09aCpzKk5hLHR9ZnVuY3Rpb24gRnQocyx0LGgsYSl7cmV0dXJuIGgqPXQsdCo9dCxhWzBdKnMtaCooYVsxXSt0KihhWzJdK3QqKGFbM10rdCphWzRdKSkpfXZhciBTYT0yMDtmdW5jdGlvbiBWcyhzLHQsaCl7Zm9yKHZhciBhPTEvKDEtdCksaT1zLGU9U2E7ZTstLWUpe3ZhciBuPU1hdGguc2luKGkpLHI9MS10Km4qbjtpZihyPShGdChpLG4sTWF0aC5jb3MoaSksaCktcykqKHIqTWF0aC5zcXJ0KHIpKSphLGktPXIsTWF0aC5hYnMocik8eClyZXR1cm4gaX1yZXR1cm4gaX1mdW5jdGlvbiBrYSgpe3RoaXMueDA9dGhpcy54MCE9PXZvaWQgMD90aGlzLngwOjAsdGhpcy55MD10aGlzLnkwIT09dm9pZCAwP3RoaXMueTA6MCx0aGlzLmxvbmcwPXRoaXMubG9uZzAhPT12b2lkIDA/dGhpcy5sb25nMDowLHRoaXMubGF0MD10aGlzLmxhdDAhPT12b2lkIDA/dGhpcy5sYXQwOjAsdGhpcy5lcyYmKHRoaXMuZW49SHModGhpcy5lcyksdGhpcy5tbDA9RnQodGhpcy5sYXQwLE1hdGguc2luKHRoaXMubGF0MCksTWF0aC5jb3ModGhpcy5sYXQwKSx0aGlzLmVuKSl9ZnVuY3Rpb24gUGEocyl7dmFyIHQ9cy54LGg9cy55LGE9Zyh0LXRoaXMubG9uZzApLGksZSxuLHI9TWF0aC5zaW4oaCksbz1NYXRoLmNvcyhoKTtpZih0aGlzLmVzKXt2YXIgbD1vKmEsYz1NYXRoLnBvdyhsLDIpLHU9dGhpcy5lcDIqTWF0aC5wb3cobywyKSxNPU1hdGgucG93KHUsMiksZj1NYXRoLmFicyhvKT54P01hdGgudGFuKGgpOjAseT1NYXRoLnBvdyhmLDIpLG09TWF0aC5wb3coeSwyKTtpPTEtdGhpcy5lcypNYXRoLnBvdyhyLDIpLGw9bC9NYXRoLnNxcnQoaSk7dmFyIGQ9RnQoaCxyLG8sdGhpcy5lbik7ZT10aGlzLmEqKHRoaXMuazAqbCooMStjLzYqKDEteSt1K2MvMjAqKDUtMTgqeSttKzE0KnUtNTgqeSp1K2MvNDIqKDYxKzE3OSptLW0qeS00NzkqeSkpKSkpK3RoaXMueDAsbj10aGlzLmEqKHRoaXMuazAqKGQtdGhpcy5tbDArciphKmwvMiooMStjLzEyKig1LXkrOSp1KzQqTStjLzMwKig2MSttLTU4KnkrMjcwKnUtMzMwKnkqdStjLzU2KigxMzg1KzU0MyptLW0qeS0zMTExKnkpKSkpKSkrdGhpcy55MH1lbHNle3ZhciBfPW8qTWF0aC5zaW4oYSk7aWYoTWF0aC5hYnMoTWF0aC5hYnMoXyktMSk8eClyZXR1cm4gOTM7aWYoZT0uNSp0aGlzLmEqdGhpcy5rMCpNYXRoLmxvZygoMStfKS8oMS1fKSkrdGhpcy54MCxuPW8qTWF0aC5jb3MoYSkvTWF0aC5zcXJ0KDEtTWF0aC5wb3coXywyKSksXz1NYXRoLmFicyhuKSxfPj0xKXtpZihfLTE+eClyZXR1cm4gOTM7bj0wfWVsc2Ugbj1NYXRoLmFjb3Mobik7aDwwJiYobj0tbiksbj10aGlzLmEqdGhpcy5rMCoobi10aGlzLmxhdDApK3RoaXMueTB9cmV0dXJuIHMueD1lLHMueT1uLHN9ZnVuY3Rpb24gT2Eocyl7dmFyIHQsaCxhLGksZT0ocy54LXRoaXMueDApKigxL3RoaXMuYSksbj0ocy55LXRoaXMueTApKigxL3RoaXMuYSk7aWYodGhpcy5lcylpZih0PXRoaXMubWwwK24vdGhpcy5rMCxoPVZzKHQsdGhpcy5lcyx0aGlzLmVuKSxNYXRoLmFicyhoKTxwKXt2YXIgcj1NYXRoLnNpbihoKSxvPU1hdGguY29zKGgpLGw9TWF0aC5hYnMobyk+eD9NYXRoLnRhbihoKTowLGM9dGhpcy5lcDIqTWF0aC5wb3cobywyKSx1PU1hdGgucG93KGMsMiksTT1NYXRoLnBvdyhsLDIpLGY9TWF0aC5wb3coTSwyKTt0PTEtdGhpcy5lcypNYXRoLnBvdyhyLDIpO3ZhciB5PWUqTWF0aC5zcXJ0KHQpL3RoaXMuazAsbT1NYXRoLnBvdyh5LDIpO3Q9dCpsLGE9aC10Km0vKDEtdGhpcy5lcykqLjUqKDEtbS8xMiooNSszKk0tOSpjKk0rYy00KnUtbS8zMCooNjErOTAqTS0yNTIqYypNKzQ1KmYrNDYqYy1tLzU2KigxMzg1KzM2MzMqTSs0MDk1KmYrMTU3NCpmKk0pKSkpLGk9Zyh0aGlzLmxvbmcwK3kqKDEtbS82KigxKzIqTStjLW0vMjAqKDUrMjgqTSsyNCpmKzgqYypNKzYqYy1tLzQyKig2MSs2NjIqTSsxMzIwKmYrNzIwKmYqTSkpKSkvbyl9ZWxzZSBhPXAqd3QobiksaT0wO2Vsc2V7dmFyIGQ9TWF0aC5leHAoZS90aGlzLmswKSxfPS41KihkLTEvZCksdj10aGlzLmxhdDArbi90aGlzLmswLHc9TWF0aC5jb3Modik7dD1NYXRoLnNxcnQoKDEtTWF0aC5wb3codywyKSkvKDErTWF0aC5wb3coXywyKSkpLGE9TWF0aC5hc2luKHQpLG48MCYmKGE9LWEpLF89PT0wJiZ3PT09MD9pPTA6aT1nKE1hdGguYXRhbjIoXyx3KSt0aGlzLmxvbmcwKX1yZXR1cm4gcy54PWkscy55PWEsc312YXIgSWE9WyJGYXN0X1RyYW5zdmVyc2VfTWVyY2F0b3IiLCJGYXN0IFRyYW5zdmVyc2UgTWVyY2F0b3IiXSxEdD17aW5pdDprYSxmb3J3YXJkOlBhLGludmVyc2U6T2EsbmFtZXM6SWF9O2Z1bmN0aW9uIFpzKHMpe3ZhciB0PU1hdGguZXhwKHMpO3JldHVybiB0PSh0LTEvdCkvMix0fWZ1bmN0aW9uIFYocyx0KXtzPU1hdGguYWJzKHMpLHQ9TWF0aC5hYnModCk7dmFyIGg9TWF0aC5tYXgocyx0KSxhPU1hdGgubWluKHMsdCkvKGh8fDEpO3JldHVybiBoKk1hdGguc3FydCgxK01hdGgucG93KGEsMikpfWZ1bmN0aW9uIHFhKHMpe3ZhciB0PTErcyxoPXQtMTtyZXR1cm4gaD09PTA/czpzKk1hdGgubG9nKHQpL2h9ZnVuY3Rpb24gUmEocyl7dmFyIHQ9TWF0aC5hYnMocyk7cmV0dXJuIHQ9cWEodCooMSt0LyhWKDEsdCkrMSkpKSxzPDA/LXQ6dH1mdW5jdGlvbiBscyhzLHQpe2Zvcih2YXIgaD0yKk1hdGguY29zKDIqdCksYT1zLmxlbmd0aC0xLGk9c1thXSxlPTAsbjstLWE+PTA7KW49LWUraCppK3NbYV0sZT1pLGk9bjtyZXR1cm4gdCtuKk1hdGguc2luKDIqdCl9ZnVuY3Rpb24gVGEocyx0KXtmb3IodmFyIGg9MipNYXRoLmNvcyh0KSxhPXMubGVuZ3RoLTEsaT1zW2FdLGU9MCxuOy0tYT49MDspbj0tZStoKmkrc1thXSxlPWksaT1uO3JldHVybiBNYXRoLnNpbih0KSpufWZ1bmN0aW9uIExhKHMpe3ZhciB0PU1hdGguZXhwKHMpO3JldHVybiB0PSh0KzEvdCkvMix0fWZ1bmN0aW9uIEpzKHMsdCxoKXtmb3IodmFyIGE9TWF0aC5zaW4odCksaT1NYXRoLmNvcyh0KSxlPVpzKGgpLG49TGEoaCkscj0yKmkqbixvPS0yKmEqZSxsPXMubGVuZ3RoLTEsYz1zW2xdLHU9MCxNPTAsZj0wLHksbTstLWw+PTA7KXk9TSxtPXUsTT1jLHU9ZixjPS15K3IqTS1vKnUrc1tsXSxmPS1tK28qTStyKnU7cmV0dXJuIHI9YSpuLG89aSplLFtyKmMtbypmLHIqZitvKmNdfWZ1bmN0aW9uIGphKCl7aWYoIXRoaXMuYXBwcm94JiYoaXNOYU4odGhpcy5lcyl8fHRoaXMuZXM8PTApKXRocm93IG5ldyBFcnJvcignSW5jb3JyZWN0IGVsbGlwdGljYWwgdXNhZ2UuIFRyeSB1c2luZyB0aGUgK2FwcHJveCBvcHRpb24gaW4gdGhlIHByb2ogc3RyaW5nLCBvciBQUk9KRUNUSU9OWyJGYXN0X1RyYW5zdmVyc2VfTWVyY2F0b3IiXSBpbiB0aGUgV0tULicpO3RoaXMuYXBwcm94JiYoRHQuaW5pdC5hcHBseSh0aGlzKSx0aGlzLmZvcndhcmQ9RHQuZm9yd2FyZCx0aGlzLmludmVyc2U9RHQuaW52ZXJzZSksdGhpcy54MD10aGlzLngwIT09dm9pZCAwP3RoaXMueDA6MCx0aGlzLnkwPXRoaXMueTAhPT12b2lkIDA/dGhpcy55MDowLHRoaXMubG9uZzA9dGhpcy5sb25nMCE9PXZvaWQgMD90aGlzLmxvbmcwOjAsdGhpcy5sYXQwPXRoaXMubGF0MCE9PXZvaWQgMD90aGlzLmxhdDA6MCx0aGlzLmNnYj1bXSx0aGlzLmNiZz1bXSx0aGlzLnV0Zz1bXSx0aGlzLmd0dT1bXTt2YXIgcz10aGlzLmVzLygxK01hdGguc3FydCgxLXRoaXMuZXMpKSx0PXMvKDItcyksaD10O3RoaXMuY2diWzBdPXQqKDIrdCooLS42NjY2NjY2NjY2NjY2NjY2K3QqKC0yK3QqKDIuNTc3Nzc3Nzc3Nzc3Nzc4K3QqKC41Nzc3Nzc3Nzc3Nzc3Nzc3K3QqLTQuMjI4MTQ4MTQ4MTQ4MTQ4KSkpKSksdGhpcy5jYmdbMF09dCooLTIrdCooLjY2NjY2NjY2NjY2NjY2NjYrdCooMS4zMzMzMzMzMzMzMzMzMzMzK3QqKC0xLjgyMjIyMjIyMjIyMjIyMjIrdCooLjcxMTExMTExMTExMTExMTErdCouOTgyNDMzODYyNDMzODYyNCkpKSkpLGg9aCp0LHRoaXMuY2diWzFdPWgqKDIuMzMzMzMzMzMzMzMzMzMzNSt0KigtMS42K3QqKC01LjA0NDQ0NDQ0NDQ0NDQ0NCt0Kig4LjU4NDEyNjk4NDEyNjk4NCt0KjIuNDU4MjAxMDU4MjAxMDU4KSkpKSx0aGlzLmNiZ1sxXT1oKigxLjY2NjY2NjY2NjY2NjY2NjcrdCooLTEuMDY2NjY2NjY2NjY2NjY2Nyt0KigtMS40NDQ0NDQ0NDQ0NDQ0NDQ0K3QqKDIuODY5ODQxMjY5ODQxMjcrdCotMS42MTA1ODIwMTA1ODIwMTA2KSkpKSxoPWgqdCx0aGlzLmNnYlsyXT1oKigzLjczMzMzMzMzMzMzMzMzMzQrdCooLTMuODg1NzE0Mjg1NzE0Mjg1Nyt0KigtMTIuMDE5MDQ3NjE5MDQ3NjE5K3QqMjYuMDM2Njg0MzAzMzUwOTcpKSksdGhpcy5jYmdbMl09aCooLTEuNzMzMzMzMzMzMzMzMzMzNCt0KigxLjYxOTA0NzYxOTA0NzYxOSt0KigxLjYrdCotNC40NzQ3Nzk1NDE0NDYyMDgpKSksaD1oKnQsdGhpcy5jZ2JbM109aCooNi43OTIwNjM0OTIwNjM0OTIrdCooLTkuNDg1NzE0Mjg1NzE0Mjg2K3QqLTI4LjE4ODUwMDg4MTgzNDIxNikpLHRoaXMuY2JnWzNdPWgqKDEuOTYzNDkyMDYzNDkyMDYzNCt0KigtMi40K3QqLTEuNzUxODE2NTc4NDgzMjQ1MSkpLGg9aCp0LHRoaXMuY2diWzRdPWgqKDEzLjI1MDc5MzY1MDc5MzY1Mit0Ki0yMy4yMjIzODI1NTU3MTU4OSksdGhpcy5jYmdbNF09aCooLTIuMzMwMTU4NzMwMTU4NzMwMyt0KjMuNTE0NDQ2MDQ3Nzc5MzgxMyksaD1oKnQsdGhpcy5jZ2JbNV09aCoyNy4wMTEyNjgyMzc5MzQ5MDMsdGhpcy5jYmdbNV09aCoyLjg0OTY4NDE0MzAxNzQ3NjQsaD1NYXRoLnBvdyh0LDIpLHRoaXMuUW49dGhpcy5rMC8oMSt0KSooMStoKiguMjUraCooLjAxNTYyNStoLzI1NikpKSx0aGlzLnV0Z1swXT10KigtLjUrdCooLjY2NjY2NjY2NjY2NjY2NjYrdCooLS4zODU0MTY2NjY2NjY2NjY3K3QqKC4wMDI3Nzc3Nzc3Nzc3Nzc3NzgrdCooLjE1ODIwMzEyNSt0Ki0uMTU5MDU5MTkzMTIxNjkzMTIpKSkpKSx0aGlzLmd0dVswXT10KiguNSt0KigtLjY2NjY2NjY2NjY2NjY2NjYrdCooLjMxMjUrdCooLjIyNzc3Nzc3Nzc3Nzc3Nzc3K3QqKC0uNDQwOTcyMjIyMjIyMjIyMit0Ki4yMDg3NTY2MTM3NTY2MTM3NSkpKSkpLHRoaXMudXRnWzFdPWgqKC0uMDIwODMzMzMzMzMzMzMzMzMyK3QqKC0uMDY2NjY2NjY2NjY2NjY2NjcrdCooLjMwMzQ3MjIyMjIyMjIyMjIrdCooLS40MzgwOTUyMzgwOTUyMzgxK3QqLjI4OTAxODgzODg3MjM1NDUpKSkpLHRoaXMuZ3R1WzFdPWgqKC4yNzA4MzMzMzMzMzMzMzMzK3QqKC0uNit0KiguMzg2ODA1NTU1NTU1NTU1NTcrdCooLjQ0NjAzMTc0NjAzMTc0NjA2K3QqLTEuMDI0ODM5MzA2MzgyMjc1MikpKSksaD1oKnQsdGhpcy51dGdbMl09aCooLS4wMzU0MTY2NjY2NjY2NjY2NjYrdCooLjA0NDA0NzYxOTA0NzYxOTA1K3QqKC4wNDY2NTE3ODU3MTQyODU3MTUrdCotLjA2MTM4NjY4NDMwMzM1MDk3KSkpLHRoaXMuZ3R1WzJdPWgqKC4yNTQxNjY2NjY2NjY2NjY2NSt0KigtLjczNTcxNDI4NTcxNDI4NTgrdCooLjU2MDMwNTA1OTUyMzgwOTUrdCouOTIzNzM3ODc0Nzc5NTQxNSkpKSxoPWgqdCx0aGlzLnV0Z1szXT1oKigtLjAyNzI2MzE0NDg0MTI2OTg0K3QqKC4wMjE4MjUzOTY4MjUzOTY4MjQrdCouMTE0Mzk3NDU5MjE1MTY3NTQpKSx0aGlzLmd0dVszXT1oKiguMzA3Mjk3ODY3MDYzNDkyMDUrdCooLTEuMDY1NDc2MTkwNDc2MTkwNSt0Ki45MDk2MjAzOTc5Mjc2ODk2KSksaD1oKnQsdGhpcy51dGdbNF09aCooLS4wMjg0MTY0MTg2NTA3OTM2NSt0Ki4wMjcyNjg0Njg0MTQzMDE3NDYpLHRoaXMuZ3R1WzRdPWgqKC40MzA2NjcxNjI2OTg0MTI3K3QqLTEuNzEzMDA3NTU1NzE1ODg5KSxoPWgqdCx0aGlzLnV0Z1s1XT1oKi0uMDMyMzMwODMwOTQwODU2OTgsdGhpcy5ndHVbNV09aCouNjY1MDY3NTMxMDg5NjY2NTt2YXIgYT1scyh0aGlzLmNiZyx0aGlzLmxhdDApO3RoaXMuWmI9LXRoaXMuUW4qKGErVGEodGhpcy5ndHUsMiphKSl9ZnVuY3Rpb24gR2Eocyl7dmFyIHQ9ZyhzLngtdGhpcy5sb25nMCksaD1zLnk7aD1scyh0aGlzLmNiZyxoKTt2YXIgYT1NYXRoLnNpbihoKSxpPU1hdGguY29zKGgpLGU9TWF0aC5zaW4odCksbj1NYXRoLmNvcyh0KTtoPU1hdGguYXRhbjIoYSxuKmkpLHQ9TWF0aC5hdGFuMihlKmksVihhLGkqbikpLHQ9UmEoTWF0aC50YW4odCkpO3ZhciByPUpzKHRoaXMuZ3R1LDIqaCwyKnQpO2g9aCtyWzBdLHQ9dCtyWzFdO3ZhciBvLGw7cmV0dXJuIE1hdGguYWJzKHQpPD0yLjYyMzM5NTE2Mjc3OD8obz10aGlzLmEqKHRoaXMuUW4qdCkrdGhpcy54MCxsPXRoaXMuYSoodGhpcy5RbipoK3RoaXMuWmIpK3RoaXMueTApOihvPTEvMCxsPTEvMCkscy54PW8scy55PWwsc31mdW5jdGlvbiBCYShzKXt2YXIgdD0ocy54LXRoaXMueDApKigxL3RoaXMuYSksaD0ocy55LXRoaXMueTApKigxL3RoaXMuYSk7aD0oaC10aGlzLlpiKS90aGlzLlFuLHQ9dC90aGlzLlFuO3ZhciBhLGk7aWYoTWF0aC5hYnModCk8PTIuNjIzMzk1MTYyNzc4KXt2YXIgZT1Kcyh0aGlzLnV0ZywyKmgsMip0KTtoPWgrZVswXSx0PXQrZVsxXSx0PU1hdGguYXRhbihacyh0KSk7dmFyIG49TWF0aC5zaW4oaCkscj1NYXRoLmNvcyhoKSxvPU1hdGguc2luKHQpLGw9TWF0aC5jb3ModCk7aD1NYXRoLmF0YW4yKG4qbCxWKG8sbCpyKSksdD1NYXRoLmF0YW4yKG8sbCpyKSxhPWcodCt0aGlzLmxvbmcwKSxpPWxzKHRoaXMuY2diLGgpfWVsc2UgYT0xLzAsaT0xLzA7cmV0dXJuIHMueD1hLHMueT1pLHN9dmFyIEZhPVsiRXh0ZW5kZWRfVHJhbnN2ZXJzZV9NZXJjYXRvciIsIkV4dGVuZGVkIFRyYW5zdmVyc2UgTWVyY2F0b3IiLCJldG1lcmMiLCJUcmFuc3ZlcnNlX01lcmNhdG9yIiwiVHJhbnN2ZXJzZSBNZXJjYXRvciIsInRtZXJjIl0sVXQ9e2luaXQ6amEsZm9yd2FyZDpHYSxpbnZlcnNlOkJhLG5hbWVzOkZhfTtmdW5jdGlvbiBEYShzLHQpe2lmKHM9PT12b2lkIDApe2lmKHM9TWF0aC5mbG9vcigoZyh0KStNYXRoLlBJKSozMC9NYXRoLlBJKSsxLHM8MClyZXR1cm4gMDtpZihzPjYwKXJldHVybiA2MH1yZXR1cm4gc312YXIgVWE9ImV0bWVyYyI7ZnVuY3Rpb24gUWEoKXt2YXIgcz1EYSh0aGlzLnpvbmUsdGhpcy5sb25nMCk7aWYocz09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoInVua25vd24gdXRtIHpvbmUiKTt0aGlzLmxhdDA9MCx0aGlzLmxvbmcwPSg2Kk1hdGguYWJzKHMpLTE4MykqcSx0aGlzLngwPTVlNSx0aGlzLnkwPXRoaXMudXRtU291dGg/MWU3OjAsdGhpcy5rMD0uOTk5NixVdC5pbml0LmFwcGx5KHRoaXMpLHRoaXMuZm9yd2FyZD1VdC5mb3J3YXJkLHRoaXMuaW52ZXJzZT1VdC5pbnZlcnNlfXZhciBYYT1bIlVuaXZlcnNhbCBUcmFuc3ZlcnNlIE1lcmNhdG9yIFN5c3RlbSIsInV0bSJdLFdhPXtpbml0OlFhLG5hbWVzOlhhLGRlcGVuZHNPbjpVYX07ZnVuY3Rpb24gdXMocyx0KXtyZXR1cm4gTWF0aC5wb3coKDEtcykvKDErcyksdCl9dmFyIEhhPTIwO2Z1bmN0aW9uIFZhKCl7dmFyIHM9TWF0aC5zaW4odGhpcy5sYXQwKSx0PU1hdGguY29zKHRoaXMubGF0MCk7dCo9dCx0aGlzLnJjPU1hdGguc3FydCgxLXRoaXMuZXMpLygxLXRoaXMuZXMqcypzKSx0aGlzLkM9TWF0aC5zcXJ0KDErdGhpcy5lcyp0KnQvKDEtdGhpcy5lcykpLHRoaXMucGhpYzA9TWF0aC5hc2luKHMvdGhpcy5DKSx0aGlzLnJhdGV4cD0uNSp0aGlzLkMqdGhpcy5lLHRoaXMuSz1NYXRoLnRhbiguNSp0aGlzLnBoaWMwK04pLyhNYXRoLnBvdyhNYXRoLnRhbiguNSp0aGlzLmxhdDArTiksdGhpcy5DKSp1cyh0aGlzLmUqcyx0aGlzLnJhdGV4cCkpfWZ1bmN0aW9uIFphKHMpe3ZhciB0PXMueCxoPXMueTtyZXR1cm4gcy55PTIqTWF0aC5hdGFuKHRoaXMuSypNYXRoLnBvdyhNYXRoLnRhbiguNSpoK04pLHRoaXMuQykqdXModGhpcy5lKk1hdGguc2luKGgpLHRoaXMucmF0ZXhwKSktcCxzLng9dGhpcy5DKnQsc31mdW5jdGlvbiBKYShzKXtmb3IodmFyIHQ9MWUtMTQsaD1zLngvdGhpcy5DLGE9cy55LGk9TWF0aC5wb3coTWF0aC50YW4oLjUqYStOKS90aGlzLkssMS90aGlzLkMpLGU9SGE7ZT4wJiYoYT0yKk1hdGguYXRhbihpKnVzKHRoaXMuZSpNYXRoLnNpbihzLnkpLC0uNSp0aGlzLmUpKS1wLCEoTWF0aC5hYnMoYS1zLnkpPHQpKTstLWUpcy55PWE7cmV0dXJuIGU/KHMueD1oLHMueT1hLHMpOm51bGx9dmFyIEthPVsiZ2F1c3MiXSxjcz17aW5pdDpWYSxmb3J3YXJkOlphLGludmVyc2U6SmEsbmFtZXM6S2F9O2Z1bmN0aW9uIFlhKCl7Y3MuaW5pdC5hcHBseSh0aGlzKSwhIXRoaXMucmMmJih0aGlzLnNpbmMwPU1hdGguc2luKHRoaXMucGhpYzApLHRoaXMuY29zYzA9TWF0aC5jb3ModGhpcy5waGljMCksdGhpcy5SMj0yKnRoaXMucmMsdGhpcy50aXRsZXx8KHRoaXMudGl0bGU9Ik9ibGlxdWUgU3RlcmVvZ3JhcGhpYyBBbHRlcm5hdGl2ZSIpKX1mdW5jdGlvbiAkYShzKXt2YXIgdCxoLGEsaTtyZXR1cm4gcy54PWcocy54LXRoaXMubG9uZzApLGNzLmZvcndhcmQuYXBwbHkodGhpcyxbc10pLHQ9TWF0aC5zaW4ocy55KSxoPU1hdGguY29zKHMueSksYT1NYXRoLmNvcyhzLngpLGk9dGhpcy5rMCp0aGlzLlIyLygxK3RoaXMuc2luYzAqdCt0aGlzLmNvc2MwKmgqYSkscy54PWkqaCpNYXRoLnNpbihzLngpLHMueT1pKih0aGlzLmNvc2MwKnQtdGhpcy5zaW5jMCpoKmEpLHMueD10aGlzLmEqcy54K3RoaXMueDAscy55PXRoaXMuYSpzLnkrdGhpcy55MCxzfWZ1bmN0aW9uIHRpKHMpe3ZhciB0LGgsYSxpLGU7aWYocy54PShzLngtdGhpcy54MCkvdGhpcy5hLHMueT0ocy55LXRoaXMueTApL3RoaXMuYSxzLngvPXRoaXMuazAscy55Lz10aGlzLmswLGU9TWF0aC5zcXJ0KHMueCpzLngrcy55KnMueSkpe3ZhciBuPTIqTWF0aC5hdGFuMihlLHRoaXMuUjIpO3Q9TWF0aC5zaW4obiksaD1NYXRoLmNvcyhuKSxpPU1hdGguYXNpbihoKnRoaXMuc2luYzArcy55KnQqdGhpcy5jb3NjMC9lKSxhPU1hdGguYXRhbjIocy54KnQsZSp0aGlzLmNvc2MwKmgtcy55KnRoaXMuc2luYzAqdCl9ZWxzZSBpPXRoaXMucGhpYzAsYT0wO3JldHVybiBzLng9YSxzLnk9aSxjcy5pbnZlcnNlLmFwcGx5KHRoaXMsW3NdKSxzLng9ZyhzLngrdGhpcy5sb25nMCksc312YXIgc2k9WyJTdGVyZW9ncmFwaGljX05vcnRoX1BvbGUiLCJPYmxpcXVlX1N0ZXJlb2dyYXBoaWMiLCJQb2xhcl9TdGVyZW9ncmFwaGljIiwic3RlcmVhIiwiT2JsaXF1ZSBTdGVyZW9ncmFwaGljIEFsdGVybmF0aXZlIiwiRG91YmxlX1N0ZXJlb2dyYXBoaWMiXSxoaT17aW5pdDpZYSxmb3J3YXJkOiRhLGludmVyc2U6dGksbmFtZXM6c2l9O2Z1bmN0aW9uIGFpKHMsdCxoKXtyZXR1cm4gdCo9aCxNYXRoLnRhbiguNSoocCtzKSkqTWF0aC5wb3coKDEtdCkvKDErdCksLjUqaCl9ZnVuY3Rpb24gaWkoKXt0aGlzLmNvc2xhdDA9TWF0aC5jb3ModGhpcy5sYXQwKSx0aGlzLnNpbmxhdDA9TWF0aC5zaW4odGhpcy5sYXQwKSx0aGlzLnNwaGVyZT90aGlzLmswPT09MSYmIWlzTmFOKHRoaXMubGF0X3RzKSYmTWF0aC5hYnModGhpcy5jb3NsYXQwKTw9eCYmKHRoaXMuazA9LjUqKDErd3QodGhpcy5sYXQwKSpNYXRoLnNpbih0aGlzLmxhdF90cykpKTooTWF0aC5hYnModGhpcy5jb3NsYXQwKTw9eCYmKHRoaXMubGF0MD4wP3RoaXMuY29uPTE6dGhpcy5jb249LTEpLHRoaXMuY29ucz1NYXRoLnNxcnQoTWF0aC5wb3coMSt0aGlzLmUsMSt0aGlzLmUpKk1hdGgucG93KDEtdGhpcy5lLDEtdGhpcy5lKSksdGhpcy5rMD09PTEmJiFpc05hTih0aGlzLmxhdF90cykmJk1hdGguYWJzKHRoaXMuY29zbGF0MCk8PXgmJih0aGlzLmswPS41KnRoaXMuY29ucypLKHRoaXMuZSxNYXRoLnNpbih0aGlzLmxhdF90cyksTWF0aC5jb3ModGhpcy5sYXRfdHMpKS9IKHRoaXMuZSx0aGlzLmNvbip0aGlzLmxhdF90cyx0aGlzLmNvbipNYXRoLnNpbih0aGlzLmxhdF90cykpKSx0aGlzLm1zMT1LKHRoaXMuZSx0aGlzLnNpbmxhdDAsdGhpcy5jb3NsYXQwKSx0aGlzLlgwPTIqTWF0aC5hdGFuKHRoaXMuc3Nmbl8odGhpcy5sYXQwLHRoaXMuc2lubGF0MCx0aGlzLmUpKS1wLHRoaXMuY29zWDA9TWF0aC5jb3ModGhpcy5YMCksdGhpcy5zaW5YMD1NYXRoLnNpbih0aGlzLlgwKSl9ZnVuY3Rpb24gZWkocyl7dmFyIHQ9cy54LGg9cy55LGE9TWF0aC5zaW4oaCksaT1NYXRoLmNvcyhoKSxlLG4scixvLGwsYyx1PWcodC10aGlzLmxvbmcwKTtyZXR1cm4gTWF0aC5hYnMoTWF0aC5hYnModC10aGlzLmxvbmcwKS1NYXRoLlBJKTw9eCYmTWF0aC5hYnMoaCt0aGlzLmxhdDApPD14PyhzLng9TmFOLHMueT1OYU4scyk6dGhpcy5zcGhlcmU/KGU9Mip0aGlzLmswLygxK3RoaXMuc2lubGF0MCphK3RoaXMuY29zbGF0MCppKk1hdGguY29zKHUpKSxzLng9dGhpcy5hKmUqaSpNYXRoLnNpbih1KSt0aGlzLngwLHMueT10aGlzLmEqZSoodGhpcy5jb3NsYXQwKmEtdGhpcy5zaW5sYXQwKmkqTWF0aC5jb3ModSkpK3RoaXMueTAscyk6KG49MipNYXRoLmF0YW4odGhpcy5zc2ZuXyhoLGEsdGhpcy5lKSktcCxvPU1hdGguY29zKG4pLHI9TWF0aC5zaW4obiksTWF0aC5hYnModGhpcy5jb3NsYXQwKTw9eD8obD1IKHRoaXMuZSxoKnRoaXMuY29uLHRoaXMuY29uKmEpLGM9Mip0aGlzLmEqdGhpcy5rMCpsL3RoaXMuY29ucyxzLng9dGhpcy54MCtjKk1hdGguc2luKHQtdGhpcy5sb25nMCkscy55PXRoaXMueTAtdGhpcy5jb24qYypNYXRoLmNvcyh0LXRoaXMubG9uZzApLHMpOihNYXRoLmFicyh0aGlzLnNpbmxhdDApPHg/KGU9Mip0aGlzLmEqdGhpcy5rMC8oMStvKk1hdGguY29zKHUpKSxzLnk9ZSpyKTooZT0yKnRoaXMuYSp0aGlzLmswKnRoaXMubXMxLyh0aGlzLmNvc1gwKigxK3RoaXMuc2luWDAqcit0aGlzLmNvc1gwKm8qTWF0aC5jb3ModSkpKSxzLnk9ZSoodGhpcy5jb3NYMCpyLXRoaXMuc2luWDAqbypNYXRoLmNvcyh1KSkrdGhpcy55MCkscy54PWUqbypNYXRoLnNpbih1KSt0aGlzLngwLHMpKX1mdW5jdGlvbiByaShzKXtzLngtPXRoaXMueDAscy55LT10aGlzLnkwO3ZhciB0LGgsYSxpLGUsbj1NYXRoLnNxcnQocy54KnMueCtzLnkqcy55KTtpZih0aGlzLnNwaGVyZSl7dmFyIHI9MipNYXRoLmF0YW4obi8oMip0aGlzLmEqdGhpcy5rMCkpO3JldHVybiB0PXRoaXMubG9uZzAsaD10aGlzLmxhdDAsbjw9eD8ocy54PXQscy55PWgscyk6KGg9TWF0aC5hc2luKE1hdGguY29zKHIpKnRoaXMuc2lubGF0MCtzLnkqTWF0aC5zaW4ocikqdGhpcy5jb3NsYXQwL24pLE1hdGguYWJzKHRoaXMuY29zbGF0MCk8eD90aGlzLmxhdDA+MD90PWcodGhpcy5sb25nMCtNYXRoLmF0YW4yKHMueCwtMSpzLnkpKTp0PWcodGhpcy5sb25nMCtNYXRoLmF0YW4yKHMueCxzLnkpKTp0PWcodGhpcy5sb25nMCtNYXRoLmF0YW4yKHMueCpNYXRoLnNpbihyKSxuKnRoaXMuY29zbGF0MCpNYXRoLmNvcyhyKS1zLnkqdGhpcy5zaW5sYXQwKk1hdGguc2luKHIpKSkscy54PXQscy55PWgscyl9ZWxzZSBpZihNYXRoLmFicyh0aGlzLmNvc2xhdDApPD14KXtpZihuPD14KXJldHVybiBoPXRoaXMubGF0MCx0PXRoaXMubG9uZzAscy54PXQscy55PWgscztzLngqPXRoaXMuY29uLHMueSo9dGhpcy5jb24sYT1uKnRoaXMuY29ucy8oMip0aGlzLmEqdGhpcy5rMCksaD10aGlzLmNvbip6dCh0aGlzLmUsYSksdD10aGlzLmNvbipnKHRoaXMuY29uKnRoaXMubG9uZzArTWF0aC5hdGFuMihzLngsLTEqcy55KSl9ZWxzZSBpPTIqTWF0aC5hdGFuKG4qdGhpcy5jb3NYMC8oMip0aGlzLmEqdGhpcy5rMCp0aGlzLm1zMSkpLHQ9dGhpcy5sb25nMCxuPD14P2U9dGhpcy5YMDooZT1NYXRoLmFzaW4oTWF0aC5jb3MoaSkqdGhpcy5zaW5YMCtzLnkqTWF0aC5zaW4oaSkqdGhpcy5jb3NYMC9uKSx0PWcodGhpcy5sb25nMCtNYXRoLmF0YW4yKHMueCpNYXRoLnNpbihpKSxuKnRoaXMuY29zWDAqTWF0aC5jb3MoaSktcy55KnRoaXMuc2luWDAqTWF0aC5zaW4oaSkpKSksaD0tMSp6dCh0aGlzLmUsTWF0aC50YW4oLjUqKHArZSkpKTtyZXR1cm4gcy54PXQscy55PWgsc312YXIgbmk9WyJzdGVyZSIsIlN0ZXJlb2dyYXBoaWNfU291dGhfUG9sZSIsIlBvbGFyIFN0ZXJlb2dyYXBoaWMgKHZhcmlhbnQgQikiXSxvaT17aW5pdDppaSxmb3J3YXJkOmVpLGludmVyc2U6cmksbmFtZXM6bmksc3Nmbl86YWl9O2Z1bmN0aW9uIGxpKCl7dmFyIHM9dGhpcy5sYXQwO3RoaXMubGFtYmRhMD10aGlzLmxvbmcwO3ZhciB0PU1hdGguc2luKHMpLGg9dGhpcy5hLGE9dGhpcy5yZixpPTEvYSxlPTIqaS1NYXRoLnBvdyhpLDIpLG49dGhpcy5lPU1hdGguc3FydChlKTt0aGlzLlI9dGhpcy5rMCpoKk1hdGguc3FydCgxLWUpLygxLWUqTWF0aC5wb3codCwyKSksdGhpcy5hbHBoYT1NYXRoLnNxcnQoMStlLygxLWUpKk1hdGgucG93KE1hdGguY29zKHMpLDQpKSx0aGlzLmIwPU1hdGguYXNpbih0L3RoaXMuYWxwaGEpO3ZhciByPU1hdGgubG9nKE1hdGgudGFuKE1hdGguUEkvNCt0aGlzLmIwLzIpKSxvPU1hdGgubG9nKE1hdGgudGFuKE1hdGguUEkvNCtzLzIpKSxsPU1hdGgubG9nKCgxK24qdCkvKDEtbip0KSk7dGhpcy5LPXItdGhpcy5hbHBoYSpvK3RoaXMuYWxwaGEqbi8yKmx9ZnVuY3Rpb24gdWkocyl7dmFyIHQ9TWF0aC5sb2coTWF0aC50YW4oTWF0aC5QSS80LXMueS8yKSksaD10aGlzLmUvMipNYXRoLmxvZygoMSt0aGlzLmUqTWF0aC5zaW4ocy55KSkvKDEtdGhpcy5lKk1hdGguc2luKHMueSkpKSxhPS10aGlzLmFscGhhKih0K2gpK3RoaXMuSyxpPTIqKE1hdGguYXRhbihNYXRoLmV4cChhKSktTWF0aC5QSS80KSxlPXRoaXMuYWxwaGEqKHMueC10aGlzLmxhbWJkYTApLG49TWF0aC5hdGFuKE1hdGguc2luKGUpLyhNYXRoLnNpbih0aGlzLmIwKSpNYXRoLnRhbihpKStNYXRoLmNvcyh0aGlzLmIwKSpNYXRoLmNvcyhlKSkpLHI9TWF0aC5hc2luKE1hdGguY29zKHRoaXMuYjApKk1hdGguc2luKGkpLU1hdGguc2luKHRoaXMuYjApKk1hdGguY29zKGkpKk1hdGguY29zKGUpKTtyZXR1cm4gcy55PXRoaXMuUi8yKk1hdGgubG9nKCgxK01hdGguc2luKHIpKS8oMS1NYXRoLnNpbihyKSkpK3RoaXMueTAscy54PXRoaXMuUipuK3RoaXMueDAsc31mdW5jdGlvbiBjaShzKXtmb3IodmFyIHQ9cy54LXRoaXMueDAsaD1zLnktdGhpcy55MCxhPXQvdGhpcy5SLGk9MiooTWF0aC5hdGFuKE1hdGguZXhwKGgvdGhpcy5SKSktTWF0aC5QSS80KSxlPU1hdGguYXNpbihNYXRoLmNvcyh0aGlzLmIwKSpNYXRoLnNpbihpKStNYXRoLnNpbih0aGlzLmIwKSpNYXRoLmNvcyhpKSpNYXRoLmNvcyhhKSksbj1NYXRoLmF0YW4oTWF0aC5zaW4oYSkvKE1hdGguY29zKHRoaXMuYjApKk1hdGguY29zKGEpLU1hdGguc2luKHRoaXMuYjApKk1hdGgudGFuKGkpKSkscj10aGlzLmxhbWJkYTArbi90aGlzLmFscGhhLG89MCxsPWUsYz0tMWUzLHU9MDtNYXRoLmFicyhsLWMpPjFlLTc7KXtpZigrK3U+MjApcmV0dXJuO289MS90aGlzLmFscGhhKihNYXRoLmxvZyhNYXRoLnRhbihNYXRoLlBJLzQrZS8yKSktdGhpcy5LKSt0aGlzLmUqTWF0aC5sb2coTWF0aC50YW4oTWF0aC5QSS80K01hdGguYXNpbih0aGlzLmUqTWF0aC5zaW4obCkpLzIpKSxjPWwsbD0yKk1hdGguYXRhbihNYXRoLmV4cChvKSktTWF0aC5QSS8yfXJldHVybiBzLng9cixzLnk9bCxzfXZhciBNaT1bInNvbWVyYyJdLGZpPXtpbml0OmxpLGZvcndhcmQ6dWksaW52ZXJzZTpjaSxuYW1lczpNaX0sZnQ9MWUtNztmdW5jdGlvbiB5aShzKXt2YXIgdD1bIkhvdGluZV9PYmxpcXVlX01lcmNhdG9yIiwiSG90aW5lX09ibGlxdWVfTWVyY2F0b3JfQXppbXV0aF9OYXR1cmFsX09yaWdpbiJdLGg9dHlwZW9mIHMuUFJPSkVDVElPTj09Im9iamVjdCI/T2JqZWN0LmtleXMocy5QUk9KRUNUSU9OKVswXTpzLlBST0pFQ1RJT047cmV0dXJuIm5vX3VvZmYiaW4gc3x8Im5vX29mZiJpbiBzfHx0LmluZGV4T2YoaCkhPT0tMX1mdW5jdGlvbiBtaSgpe3ZhciBzLHQsaCxhLGksZSxuLHIsbyxsLGM9MCx1LE09MCxmPTAseT0wLG09MCxkPTAsXz0wO3RoaXMubm9fb2ZmPXlpKHRoaXMpLHRoaXMubm9fcm90PSJub19yb3QiaW4gdGhpczt2YXIgdj0hMTsiYWxwaGEiaW4gdGhpcyYmKHY9ITApO3ZhciB3PSExO2lmKCJyZWN0aWZpZWRfZ3JpZF9hbmdsZSJpbiB0aGlzJiYodz0hMCksdiYmKF89dGhpcy5hbHBoYSksdyYmKGM9dGhpcy5yZWN0aWZpZWRfZ3JpZF9hbmdsZSpxKSx2fHx3KU09dGhpcy5sb25nYztlbHNlIGlmKGY9dGhpcy5sb25nMSxtPXRoaXMubGF0MSx5PXRoaXMubG9uZzIsZD10aGlzLmxhdDIsTWF0aC5hYnMobS1kKTw9ZnR8fChzPU1hdGguYWJzKG0pKTw9ZnR8fE1hdGguYWJzKHMtcCk8PWZ0fHxNYXRoLmFicyhNYXRoLmFicyh0aGlzLmxhdDApLXApPD1mdHx8TWF0aC5hYnMoTWF0aC5hYnMoZCktcCk8PWZ0KXRocm93IG5ldyBFcnJvcjt2YXIgQT0xLXRoaXMuZXM7dD1NYXRoLnNxcnQoQSksTWF0aC5hYnModGhpcy5sYXQwKT54PyhyPU1hdGguc2luKHRoaXMubGF0MCksaD1NYXRoLmNvcyh0aGlzLmxhdDApLHM9MS10aGlzLmVzKnIqcix0aGlzLkI9aCpoLHRoaXMuQj1NYXRoLnNxcnQoMSt0aGlzLmVzKnRoaXMuQip0aGlzLkIvQSksdGhpcy5BPXRoaXMuQip0aGlzLmswKnQvcyxhPXRoaXMuQip0LyhoKk1hdGguc3FydChzKSksaT1hKmEtMSxpPD0wP2k9MDooaT1NYXRoLnNxcnQoaSksdGhpcy5sYXQwPDAmJihpPS1pKSksdGhpcy5FPWkrPWEsdGhpcy5FKj1NYXRoLnBvdyhIKHRoaXMuZSx0aGlzLmxhdDAsciksdGhpcy5CKSk6KHRoaXMuQj0xL3QsdGhpcy5BPXRoaXMuazAsdGhpcy5FPWE9aT0xKSx2fHx3Pyh2Pyh1PU1hdGguYXNpbihNYXRoLnNpbihfKS9hKSx3fHwoYz1fKSk6KHU9YyxfPU1hdGguYXNpbihhKk1hdGguc2luKHUpKSksdGhpcy5sYW0wPU0tTWF0aC5hc2luKC41KihpLTEvaSkqTWF0aC50YW4odSkpL3RoaXMuQik6KGU9TWF0aC5wb3coSCh0aGlzLmUsbSxNYXRoLnNpbihtKSksdGhpcy5CKSxuPU1hdGgucG93KEgodGhpcy5lLGQsTWF0aC5zaW4oZCkpLHRoaXMuQiksaT10aGlzLkUvZSxvPShuLWUpLyhuK2UpLGw9dGhpcy5FKnRoaXMuRSxsPShsLW4qZSkvKGwrbiplKSxzPWYteSxzPC1NYXRoLnBpP3ktPXZ0OnM+TWF0aC5waSYmKHkrPXZ0KSx0aGlzLmxhbTA9ZyguNSooZit5KS1NYXRoLmF0YW4obCpNYXRoLnRhbiguNSp0aGlzLkIqKGYteSkpL28pL3RoaXMuQiksdT1NYXRoLmF0YW4oMipNYXRoLnNpbih0aGlzLkIqZyhmLXRoaXMubGFtMCkpLyhpLTEvaSkpLGM9Xz1NYXRoLmFzaW4oYSpNYXRoLnNpbih1KSkpLHRoaXMuc2luZ2FtPU1hdGguc2luKHUpLHRoaXMuY29zZ2FtPU1hdGguY29zKHUpLHRoaXMuc2lucm90PU1hdGguc2luKGMpLHRoaXMuY29zcm90PU1hdGguY29zKGMpLHRoaXMuckI9MS90aGlzLkIsdGhpcy5BckI9dGhpcy5BKnRoaXMuckIsdGhpcy5CckE9MS90aGlzLkFyQix0aGlzLkEqdGhpcy5CLHRoaXMubm9fb2ZmP3RoaXMudV8wPTA6KHRoaXMudV8wPU1hdGguYWJzKHRoaXMuQXJCKk1hdGguYXRhbihNYXRoLnNxcnQoYSphLTEpL01hdGguY29zKF8pKSksdGhpcy5sYXQwPDAmJih0aGlzLnVfMD0tdGhpcy51XzApKSxpPS41KnUsdGhpcy52X3BvbGVfbj10aGlzLkFyQipNYXRoLmxvZyhNYXRoLnRhbihOLWkpKSx0aGlzLnZfcG9sZV9zPXRoaXMuQXJCKk1hdGgubG9nKE1hdGgudGFuKE4raSkpfWZ1bmN0aW9uIF9pKHMpe3ZhciB0PXt9LGgsYSxpLGUsbixyLG8sbDtpZihzLng9cy54LXRoaXMubGFtMCxNYXRoLmFicyhNYXRoLmFicyhzLnkpLXApPngpe2lmKG49dGhpcy5FL01hdGgucG93KEgodGhpcy5lLHMueSxNYXRoLnNpbihzLnkpKSx0aGlzLkIpLHI9MS9uLGg9LjUqKG4tciksYT0uNSoobityKSxlPU1hdGguc2luKHRoaXMuQipzLngpLGk9KGgqdGhpcy5zaW5nYW0tZSp0aGlzLmNvc2dhbSkvYSxNYXRoLmFicyhNYXRoLmFicyhpKS0xKTx4KXRocm93IG5ldyBFcnJvcjtsPS41KnRoaXMuQXJCKk1hdGgubG9nKCgxLWkpLygxK2kpKSxyPU1hdGguY29zKHRoaXMuQipzLngpLE1hdGguYWJzKHIpPGZ0P289dGhpcy5BKnMueDpvPXRoaXMuQXJCKk1hdGguYXRhbjIoaCp0aGlzLmNvc2dhbStlKnRoaXMuc2luZ2FtLHIpfWVsc2UgbD1zLnk+MD90aGlzLnZfcG9sZV9uOnRoaXMudl9wb2xlX3Msbz10aGlzLkFyQipzLnk7cmV0dXJuIHRoaXMubm9fcm90Pyh0Lng9byx0Lnk9bCk6KG8tPXRoaXMudV8wLHQueD1sKnRoaXMuY29zcm90K28qdGhpcy5zaW5yb3QsdC55PW8qdGhpcy5jb3Nyb3QtbCp0aGlzLnNpbnJvdCksdC54PXRoaXMuYSp0LngrdGhpcy54MCx0Lnk9dGhpcy5hKnQueSt0aGlzLnkwLHR9ZnVuY3Rpb24gZGkocyl7dmFyIHQsaCxhLGksZSxuLHIsbz17fTtpZihzLng9KHMueC10aGlzLngwKSooMS90aGlzLmEpLHMueT0ocy55LXRoaXMueTApKigxL3RoaXMuYSksdGhpcy5ub19yb3Q/KGg9cy55LHQ9cy54KTooaD1zLngqdGhpcy5jb3Nyb3Qtcy55KnRoaXMuc2lucm90LHQ9cy55KnRoaXMuY29zcm90K3MueCp0aGlzLnNpbnJvdCt0aGlzLnVfMCksYT1NYXRoLmV4cCgtdGhpcy5CckEqaCksaT0uNSooYS0xL2EpLGU9LjUqKGErMS9hKSxuPU1hdGguc2luKHRoaXMuQnJBKnQpLHI9KG4qdGhpcy5jb3NnYW0raSp0aGlzLnNpbmdhbSkvZSxNYXRoLmFicyhNYXRoLmFicyhyKS0xKTx4KW8ueD0wLG8ueT1yPDA/LXA6cDtlbHNle2lmKG8ueT10aGlzLkUvTWF0aC5zcXJ0KCgxK3IpLygxLXIpKSxvLnk9enQodGhpcy5lLE1hdGgucG93KG8ueSwxL3RoaXMuQikpLG8ueT09PTEvMCl0aHJvdyBuZXcgRXJyb3I7by54PS10aGlzLnJCKk1hdGguYXRhbjIoaSp0aGlzLmNvc2dhbS1uKnRoaXMuc2luZ2FtLE1hdGguY29zKHRoaXMuQnJBKnQpKX1yZXR1cm4gby54Kz10aGlzLmxhbTAsb312YXIgcGk9WyJIb3RpbmVfT2JsaXF1ZV9NZXJjYXRvciIsIkhvdGluZSBPYmxpcXVlIE1lcmNhdG9yIiwiSG90aW5lX09ibGlxdWVfTWVyY2F0b3JfQXppbXV0aF9OYXR1cmFsX09yaWdpbiIsIkhvdGluZV9PYmxpcXVlX01lcmNhdG9yX1R3b19Qb2ludF9OYXR1cmFsX09yaWdpbiIsIkhvdGluZV9PYmxpcXVlX01lcmNhdG9yX0F6aW11dGhfQ2VudGVyIiwiT2JsaXF1ZV9NZXJjYXRvciIsIm9tZXJjIl0seGk9e2luaXQ6bWksZm9yd2FyZDpfaSxpbnZlcnNlOmRpLG5hbWVzOnBpfTtmdW5jdGlvbiBnaSgpe2lmKHRoaXMubGF0Mnx8KHRoaXMubGF0Mj10aGlzLmxhdDEpLHRoaXMuazB8fCh0aGlzLmswPTEpLHRoaXMueDA9dGhpcy54MHx8MCx0aGlzLnkwPXRoaXMueTB8fDAsIShNYXRoLmFicyh0aGlzLmxhdDErdGhpcy5sYXQyKTx4KSl7dmFyIHM9dGhpcy5iL3RoaXMuYTt0aGlzLmU9TWF0aC5zcXJ0KDEtcypzKTt2YXIgdD1NYXRoLnNpbih0aGlzLmxhdDEpLGg9TWF0aC5jb3ModGhpcy5sYXQxKSxhPUsodGhpcy5lLHQsaCksaT1IKHRoaXMuZSx0aGlzLmxhdDEsdCksZT1NYXRoLnNpbih0aGlzLmxhdDIpLG49TWF0aC5jb3ModGhpcy5sYXQyKSxyPUsodGhpcy5lLGUsbiksbz1IKHRoaXMuZSx0aGlzLmxhdDIsZSksbD1IKHRoaXMuZSx0aGlzLmxhdDAsTWF0aC5zaW4odGhpcy5sYXQwKSk7TWF0aC5hYnModGhpcy5sYXQxLXRoaXMubGF0Mik+eD90aGlzLm5zPU1hdGgubG9nKGEvcikvTWF0aC5sb2coaS9vKTp0aGlzLm5zPXQsaXNOYU4odGhpcy5ucykmJih0aGlzLm5zPXQpLHRoaXMuZjA9YS8odGhpcy5ucypNYXRoLnBvdyhpLHRoaXMubnMpKSx0aGlzLnJoPXRoaXMuYSp0aGlzLmYwKk1hdGgucG93KGwsdGhpcy5ucyksdGhpcy50aXRsZXx8KHRoaXMudGl0bGU9IkxhbWJlcnQgQ29uZm9ybWFsIENvbmljIil9fWZ1bmN0aW9uIHZpKHMpe3ZhciB0PXMueCxoPXMueTtNYXRoLmFicygyKk1hdGguYWJzKGgpLU1hdGguUEkpPD14JiYoaD13dChoKSoocC0yKngpKTt2YXIgYT1NYXRoLmFicyhNYXRoLmFicyhoKS1wKSxpLGU7aWYoYT54KWk9SCh0aGlzLmUsaCxNYXRoLnNpbihoKSksZT10aGlzLmEqdGhpcy5mMCpNYXRoLnBvdyhpLHRoaXMubnMpO2Vsc2V7aWYoYT1oKnRoaXMubnMsYTw9MClyZXR1cm4gbnVsbDtlPTB9dmFyIG49dGhpcy5ucypnKHQtdGhpcy5sb25nMCk7cmV0dXJuIHMueD10aGlzLmswKihlKk1hdGguc2luKG4pKSt0aGlzLngwLHMueT10aGlzLmswKih0aGlzLnJoLWUqTWF0aC5jb3MobikpK3RoaXMueTAsc31mdW5jdGlvbiBiaShzKXt2YXIgdCxoLGEsaSxlLG49KHMueC10aGlzLngwKS90aGlzLmswLHI9dGhpcy5yaC0ocy55LXRoaXMueTApL3RoaXMuazA7dGhpcy5ucz4wPyh0PU1hdGguc3FydChuKm4rcipyKSxoPTEpOih0PS1NYXRoLnNxcnQobipuK3IqciksaD0tMSk7dmFyIG89MDtpZih0IT09MCYmKG89TWF0aC5hdGFuMihoKm4saCpyKSksdCE9PTB8fHRoaXMubnM+MCl7aWYoaD0xL3RoaXMubnMsYT1NYXRoLnBvdyh0Lyh0aGlzLmEqdGhpcy5mMCksaCksaT16dCh0aGlzLmUsYSksaT09PS05OTk5KXJldHVybiBudWxsfWVsc2UgaT0tcDtyZXR1cm4gZT1nKG8vdGhpcy5ucyt0aGlzLmxvbmcwKSxzLng9ZSxzLnk9aSxzfXZhciB3aT1bIkxhbWJlcnQgVGFuZ2VudGlhbCBDb25mb3JtYWwgQ29uaWMgUHJvamVjdGlvbiIsIkxhbWJlcnRfQ29uZm9ybWFsX0NvbmljIiwiTGFtYmVydF9Db25mb3JtYWxfQ29uaWNfMVNQIiwiTGFtYmVydF9Db25mb3JtYWxfQ29uaWNfMlNQIiwibGNjIiwiTGFtYmVydCBDb25pYyBDb25mb3JtYWwgKDFTUCkiLCJMYW1iZXJ0IENvbmljIENvbmZvcm1hbCAoMlNQKSJdLHppPXtpbml0OmdpLGZvcndhcmQ6dmksaW52ZXJzZTpiaSxuYW1lczp3aX07ZnVuY3Rpb24gQ2koKXt0aGlzLmE9NjM3NzM5NzE1NWUtMyx0aGlzLmVzPS4wMDY2NzQzNzIyMzA2MTQsdGhpcy5lPU1hdGguc3FydCh0aGlzLmVzKSx0aGlzLmxhdDB8fCh0aGlzLmxhdDA9Ljg2MzkzNzk3OTczNzE5MyksdGhpcy5sb25nMHx8KHRoaXMubG9uZzA9LjQzMzQyMzQzMDkxMTkyNTEpLHRoaXMuazB8fCh0aGlzLmswPS45OTk5KSx0aGlzLnM0NT0uNzg1Mzk4MTYzMzk3NDQ4LHRoaXMuczkwPTIqdGhpcy5zNDUsdGhpcy5maTA9dGhpcy5sYXQwLHRoaXMuZTI9dGhpcy5lcyx0aGlzLmU9TWF0aC5zcXJ0KHRoaXMuZTIpLHRoaXMuYWxmYT1NYXRoLnNxcnQoMSt0aGlzLmUyKk1hdGgucG93KE1hdGguY29zKHRoaXMuZmkwKSw0KS8oMS10aGlzLmUyKSksdGhpcy51cT0xLjA0MjE2ODU2MzgwNDc0LHRoaXMudTA9TWF0aC5hc2luKE1hdGguc2luKHRoaXMuZmkwKS90aGlzLmFsZmEpLHRoaXMuZz1NYXRoLnBvdygoMSt0aGlzLmUqTWF0aC5zaW4odGhpcy5maTApKS8oMS10aGlzLmUqTWF0aC5zaW4odGhpcy5maTApKSx0aGlzLmFsZmEqdGhpcy5lLzIpLHRoaXMuaz1NYXRoLnRhbih0aGlzLnUwLzIrdGhpcy5zNDUpL01hdGgucG93KE1hdGgudGFuKHRoaXMuZmkwLzIrdGhpcy5zNDUpLHRoaXMuYWxmYSkqdGhpcy5nLHRoaXMuazE9dGhpcy5rMCx0aGlzLm4wPXRoaXMuYSpNYXRoLnNxcnQoMS10aGlzLmUyKS8oMS10aGlzLmUyKk1hdGgucG93KE1hdGguc2luKHRoaXMuZmkwKSwyKSksdGhpcy5zMD0xLjM3MDA4MzQ2MjgxNTU1LHRoaXMubj1NYXRoLnNpbih0aGlzLnMwKSx0aGlzLnJvMD10aGlzLmsxKnRoaXMubjAvTWF0aC50YW4odGhpcy5zMCksdGhpcy5hZD10aGlzLnM5MC10aGlzLnVxfWZ1bmN0aW9uIEFpKHMpe3ZhciB0LGgsYSxpLGUsbixyLG89cy54LGw9cy55LGM9ZyhvLXRoaXMubG9uZzApO3JldHVybiB0PU1hdGgucG93KCgxK3RoaXMuZSpNYXRoLnNpbihsKSkvKDEtdGhpcy5lKk1hdGguc2luKGwpKSx0aGlzLmFsZmEqdGhpcy5lLzIpLGg9MiooTWF0aC5hdGFuKHRoaXMuaypNYXRoLnBvdyhNYXRoLnRhbihsLzIrdGhpcy5zNDUpLHRoaXMuYWxmYSkvdCktdGhpcy5zNDUpLGE9LWMqdGhpcy5hbGZhLGk9TWF0aC5hc2luKE1hdGguY29zKHRoaXMuYWQpKk1hdGguc2luKGgpK01hdGguc2luKHRoaXMuYWQpKk1hdGguY29zKGgpKk1hdGguY29zKGEpKSxlPU1hdGguYXNpbihNYXRoLmNvcyhoKSpNYXRoLnNpbihhKS9NYXRoLmNvcyhpKSksbj10aGlzLm4qZSxyPXRoaXMucm8wKk1hdGgucG93KE1hdGgudGFuKHRoaXMuczAvMit0aGlzLnM0NSksdGhpcy5uKS9NYXRoLnBvdyhNYXRoLnRhbihpLzIrdGhpcy5zNDUpLHRoaXMubikscy55PXIqTWF0aC5jb3MobikvMSxzLng9cipNYXRoLnNpbihuKS8xLHRoaXMuY3plY2h8fChzLnkqPS0xLHMueCo9LTEpLHN9ZnVuY3Rpb24gRWkocyl7dmFyIHQsaCxhLGksZSxuLHIsbyxsPXMueDtzLng9cy55LHMueT1sLHRoaXMuY3plY2h8fChzLnkqPS0xLHMueCo9LTEpLG49TWF0aC5zcXJ0KHMueCpzLngrcy55KnMueSksZT1NYXRoLmF0YW4yKHMueSxzLngpLGk9ZS9NYXRoLnNpbih0aGlzLnMwKSxhPTIqKE1hdGguYXRhbihNYXRoLnBvdyh0aGlzLnJvMC9uLDEvdGhpcy5uKSpNYXRoLnRhbih0aGlzLnMwLzIrdGhpcy5zNDUpKS10aGlzLnM0NSksdD1NYXRoLmFzaW4oTWF0aC5jb3ModGhpcy5hZCkqTWF0aC5zaW4oYSktTWF0aC5zaW4odGhpcy5hZCkqTWF0aC5jb3MoYSkqTWF0aC5jb3MoaSkpLGg9TWF0aC5hc2luKE1hdGguY29zKGEpKk1hdGguc2luKGkpL01hdGguY29zKHQpKSxzLng9dGhpcy5sb25nMC1oL3RoaXMuYWxmYSxyPXQsbz0wO3ZhciBjPTA7ZG8gcy55PTIqKE1hdGguYXRhbihNYXRoLnBvdyh0aGlzLmssLTEvdGhpcy5hbGZhKSpNYXRoLnBvdyhNYXRoLnRhbih0LzIrdGhpcy5zNDUpLDEvdGhpcy5hbGZhKSpNYXRoLnBvdygoMSt0aGlzLmUqTWF0aC5zaW4ocikpLygxLXRoaXMuZSpNYXRoLnNpbihyKSksdGhpcy5lLzIpKS10aGlzLnM0NSksTWF0aC5hYnMoci1zLnkpPDFlLTEwJiYobz0xKSxyPXMueSxjKz0xO3doaWxlKG89PT0wJiZjPDE1KTtyZXR1cm4gYz49MTU/bnVsbDpzfXZhciBOaT1bIktyb3ZhayIsImtyb3ZhayJdLFNpPXtpbml0OkNpLGZvcndhcmQ6QWksaW52ZXJzZTpFaSxuYW1lczpOaX07ZnVuY3Rpb24gTChzLHQsaCxhLGkpe3JldHVybiBzKmktdCpNYXRoLnNpbigyKmkpK2gqTWF0aC5zaW4oNCppKS1hKk1hdGguc2luKDYqaSl9ZnVuY3Rpb24gRXQocyl7cmV0dXJuIDEtLjI1KnMqKDErcy8xNiooMysxLjI1KnMpKX1mdW5jdGlvbiBOdChzKXtyZXR1cm4gLjM3NSpzKigxKy4yNSpzKigxKy40Njg3NSpzKSl9ZnVuY3Rpb24gU3Qocyl7cmV0dXJuIC4wNTg1OTM3NSpzKnMqKDErLjc1KnMpfWZ1bmN0aW9uIGt0KHMpe3JldHVybiBzKnMqcyouMDExMzkzMjI5MTY2NjY2NjY2fWZ1bmN0aW9uIHl0KHMsdCxoKXt2YXIgYT10Kmg7cmV0dXJuIHMvTWF0aC5zcXJ0KDEtYSphKX1mdW5jdGlvbiBtdChzKXtyZXR1cm4gTWF0aC5hYnMocyk8cD9zOnMtd3QocykqTWF0aC5QSX1mdW5jdGlvbiBRdChzLHQsaCxhLGkpe3ZhciBlLG47ZT1zL3Q7Zm9yKHZhciByPTA7cjwxNTtyKyspaWYobj0ocy0odCplLWgqTWF0aC5zaW4oMiplKSthKk1hdGguc2luKDQqZSktaSpNYXRoLnNpbig2KmUpKSkvKHQtMipoKk1hdGguY29zKDIqZSkrNCphKk1hdGguY29zKDQqZSktNippKk1hdGguY29zKDYqZSkpLGUrPW4sTWF0aC5hYnMobik8PTFlLTEwKXJldHVybiBlO3JldHVybiBOYU59ZnVuY3Rpb24ga2koKXt0aGlzLnNwaGVyZXx8KHRoaXMuZTA9RXQodGhpcy5lcyksdGhpcy5lMT1OdCh0aGlzLmVzKSx0aGlzLmUyPVN0KHRoaXMuZXMpLHRoaXMuZTM9a3QodGhpcy5lcyksdGhpcy5tbDA9dGhpcy5hKkwodGhpcy5lMCx0aGlzLmUxLHRoaXMuZTIsdGhpcy5lMyx0aGlzLmxhdDApKX1mdW5jdGlvbiBQaShzKXt2YXIgdCxoLGE9cy54LGk9cy55O2lmKGE9ZyhhLXRoaXMubG9uZzApLHRoaXMuc3BoZXJlKXQ9dGhpcy5hKk1hdGguYXNpbihNYXRoLmNvcyhpKSpNYXRoLnNpbihhKSksaD10aGlzLmEqKE1hdGguYXRhbjIoTWF0aC50YW4oaSksTWF0aC5jb3MoYSkpLXRoaXMubGF0MCk7ZWxzZXt2YXIgZT1NYXRoLnNpbihpKSxuPU1hdGguY29zKGkpLHI9eXQodGhpcy5hLHRoaXMuZSxlKSxvPU1hdGgudGFuKGkpKk1hdGgudGFuKGkpLGw9YSpNYXRoLmNvcyhpKSxjPWwqbCx1PXRoaXMuZXMqbipuLygxLXRoaXMuZXMpLE09dGhpcy5hKkwodGhpcy5lMCx0aGlzLmUxLHRoaXMuZTIsdGhpcy5lMyxpKTt0PXIqbCooMS1jKm8qKC4xNjY2NjY2NjY2NjY2NjY2Ni0oOC1vKzgqdSkqYy8xMjApKSxoPU0tdGhpcy5tbDArciplL24qYyooLjUrKDUtbys2KnUpKmMvMjQpfXJldHVybiBzLng9dCt0aGlzLngwLHMueT1oK3RoaXMueTAsc31mdW5jdGlvbiBPaShzKXtzLngtPXRoaXMueDAscy55LT10aGlzLnkwO3ZhciB0PXMueC90aGlzLmEsaD1zLnkvdGhpcy5hLGEsaTtpZih0aGlzLnNwaGVyZSl7dmFyIGU9aCt0aGlzLmxhdDA7YT1NYXRoLmFzaW4oTWF0aC5zaW4oZSkqTWF0aC5jb3ModCkpLGk9TWF0aC5hdGFuMihNYXRoLnRhbih0KSxNYXRoLmNvcyhlKSl9ZWxzZXt2YXIgbj10aGlzLm1sMC90aGlzLmEraCxyPVF0KG4sdGhpcy5lMCx0aGlzLmUxLHRoaXMuZTIsdGhpcy5lMyk7aWYoTWF0aC5hYnMoTWF0aC5hYnMociktcCk8PXgpcmV0dXJuIHMueD10aGlzLmxvbmcwLHMueT1wLGg8MCYmKHMueSo9LTEpLHM7dmFyIG89eXQodGhpcy5hLHRoaXMuZSxNYXRoLnNpbihyKSksbD1vKm8qby90aGlzLmEvdGhpcy5hKigxLXRoaXMuZXMpLGM9TWF0aC5wb3coTWF0aC50YW4ociksMiksdT10KnRoaXMuYS9vLE09dSp1O2E9ci1vKk1hdGgudGFuKHIpL2wqdSp1KiguNS0oMSszKmMpKnUqdS8yNCksaT11KigxLU0qKGMvMysoMSszKmMpKmMqTS8xNSkpL01hdGguY29zKHIpfXJldHVybiBzLng9ZyhpK3RoaXMubG9uZzApLHMueT1tdChhKSxzfXZhciBJaT1bIkNhc3NpbmkiLCJDYXNzaW5pX1NvbGRuZXIiLCJjYXNzIl0scWk9e2luaXQ6a2ksZm9yd2FyZDpQaSxpbnZlcnNlOk9pLG5hbWVzOklpfTtmdW5jdGlvbiBhdChzLHQpe3ZhciBoO3JldHVybiBzPjFlLTc/KGg9cyp0LCgxLXMqcykqKHQvKDEtaCpoKS0uNS9zKk1hdGgubG9nKCgxLWgpLygxK2gpKSkpOjIqdH12YXIgUmk9MSxUaT0yLExpPTMsamk9NDtmdW5jdGlvbiBHaSgpe3ZhciBzPU1hdGguYWJzKHRoaXMubGF0MCk7aWYoTWF0aC5hYnMocy1wKTx4P3RoaXMubW9kZT10aGlzLmxhdDA8MD90aGlzLlNfUE9MRTp0aGlzLk5fUE9MRTpNYXRoLmFicyhzKTx4P3RoaXMubW9kZT10aGlzLkVRVUlUOnRoaXMubW9kZT10aGlzLk9CTElRLHRoaXMuZXM+MCl7dmFyIHQ7c3dpdGNoKHRoaXMucXA9YXQodGhpcy5lLDEpLHRoaXMubW1mPS41LygxLXRoaXMuZXMpLHRoaXMuYXBhPVZpKHRoaXMuZXMpLHRoaXMubW9kZSl7Y2FzZSB0aGlzLk5fUE9MRTp0aGlzLmRkPTE7YnJlYWs7Y2FzZSB0aGlzLlNfUE9MRTp0aGlzLmRkPTE7YnJlYWs7Y2FzZSB0aGlzLkVRVUlUOnRoaXMucnE9TWF0aC5zcXJ0KC41KnRoaXMucXApLHRoaXMuZGQ9MS90aGlzLnJxLHRoaXMueG1mPTEsdGhpcy55bWY9LjUqdGhpcy5xcDticmVhaztjYXNlIHRoaXMuT0JMSVE6dGhpcy5ycT1NYXRoLnNxcnQoLjUqdGhpcy5xcCksdD1NYXRoLnNpbih0aGlzLmxhdDApLHRoaXMuc2luYjE9YXQodGhpcy5lLHQpL3RoaXMucXAsdGhpcy5jb3NiMT1NYXRoLnNxcnQoMS10aGlzLnNpbmIxKnRoaXMuc2luYjEpLHRoaXMuZGQ9TWF0aC5jb3ModGhpcy5sYXQwKS8oTWF0aC5zcXJ0KDEtdGhpcy5lcyp0KnQpKnRoaXMucnEqdGhpcy5jb3NiMSksdGhpcy55bWY9KHRoaXMueG1mPXRoaXMucnEpL3RoaXMuZGQsdGhpcy54bWYqPXRoaXMuZGQ7YnJlYWt9fWVsc2UgdGhpcy5tb2RlPT09dGhpcy5PQkxJUSYmKHRoaXMuc2lucGgwPU1hdGguc2luKHRoaXMubGF0MCksdGhpcy5jb3NwaDA9TWF0aC5jb3ModGhpcy5sYXQwKSl9ZnVuY3Rpb24gQmkocyl7dmFyIHQsaCxhLGksZSxuLHIsbyxsLGMsdT1zLngsTT1zLnk7aWYodT1nKHUtdGhpcy5sb25nMCksdGhpcy5zcGhlcmUpe2lmKGU9TWF0aC5zaW4oTSksYz1NYXRoLmNvcyhNKSxhPU1hdGguY29zKHUpLHRoaXMubW9kZT09PXRoaXMuT0JMSVF8fHRoaXMubW9kZT09PXRoaXMuRVFVSVQpe2lmKGg9dGhpcy5tb2RlPT09dGhpcy5FUVVJVD8xK2MqYToxK3RoaXMuc2lucGgwKmUrdGhpcy5jb3NwaDAqYyphLGg8PXgpcmV0dXJuIG51bGw7aD1NYXRoLnNxcnQoMi9oKSx0PWgqYypNYXRoLnNpbih1KSxoKj10aGlzLm1vZGU9PT10aGlzLkVRVUlUP2U6dGhpcy5jb3NwaDAqZS10aGlzLnNpbnBoMCpjKmF9ZWxzZSBpZih0aGlzLm1vZGU9PT10aGlzLk5fUE9MRXx8dGhpcy5tb2RlPT09dGhpcy5TX1BPTEUpe2lmKHRoaXMubW9kZT09PXRoaXMuTl9QT0xFJiYoYT0tYSksTWF0aC5hYnMoTSt0aGlzLmxhdDApPHgpcmV0dXJuIG51bGw7aD1OLU0qLjUsaD0yKih0aGlzLm1vZGU9PT10aGlzLlNfUE9MRT9NYXRoLmNvcyhoKTpNYXRoLnNpbihoKSksdD1oKk1hdGguc2luKHUpLGgqPWF9fWVsc2V7c3dpdGNoKHI9MCxvPTAsbD0wLGE9TWF0aC5jb3ModSksaT1NYXRoLnNpbih1KSxlPU1hdGguc2luKE0pLG49YXQodGhpcy5lLGUpLCh0aGlzLm1vZGU9PT10aGlzLk9CTElRfHx0aGlzLm1vZGU9PT10aGlzLkVRVUlUKSYmKHI9bi90aGlzLnFwLG89TWF0aC5zcXJ0KDEtcipyKSksdGhpcy5tb2RlKXtjYXNlIHRoaXMuT0JMSVE6bD0xK3RoaXMuc2luYjEqcit0aGlzLmNvc2IxKm8qYTticmVhaztjYXNlIHRoaXMuRVFVSVQ6bD0xK28qYTticmVhaztjYXNlIHRoaXMuTl9QT0xFOmw9cCtNLG49dGhpcy5xcC1uO2JyZWFrO2Nhc2UgdGhpcy5TX1BPTEU6bD1NLXAsbj10aGlzLnFwK247YnJlYWt9aWYoTWF0aC5hYnMobCk8eClyZXR1cm4gbnVsbDtzd2l0Y2godGhpcy5tb2RlKXtjYXNlIHRoaXMuT0JMSVE6Y2FzZSB0aGlzLkVRVUlUOmw9TWF0aC5zcXJ0KDIvbCksdGhpcy5tb2RlPT09dGhpcy5PQkxJUT9oPXRoaXMueW1mKmwqKHRoaXMuY29zYjEqci10aGlzLnNpbmIxKm8qYSk6aD0obD1NYXRoLnNxcnQoMi8oMStvKmEpKSkqcip0aGlzLnltZix0PXRoaXMueG1mKmwqbyppO2JyZWFrO2Nhc2UgdGhpcy5OX1BPTEU6Y2FzZSB0aGlzLlNfUE9MRTpuPj0wPyh0PShsPU1hdGguc3FydChuKSkqaSxoPWEqKHRoaXMubW9kZT09PXRoaXMuU19QT0xFP2w6LWwpKTp0PWg9MDticmVha319cmV0dXJuIHMueD10aGlzLmEqdCt0aGlzLngwLHMueT10aGlzLmEqaCt0aGlzLnkwLHN9ZnVuY3Rpb24gRmkocyl7cy54LT10aGlzLngwLHMueS09dGhpcy55MDt2YXIgdD1zLngvdGhpcy5hLGg9cy55L3RoaXMuYSxhLGksZSxuLHIsbyxsO2lmKHRoaXMuc3BoZXJlKXt2YXIgYz0wLHUsTT0wO2lmKHU9TWF0aC5zcXJ0KHQqdCtoKmgpLGk9dSouNSxpPjEpcmV0dXJuIG51bGw7c3dpdGNoKGk9MipNYXRoLmFzaW4oaSksKHRoaXMubW9kZT09PXRoaXMuT0JMSVF8fHRoaXMubW9kZT09PXRoaXMuRVFVSVQpJiYoTT1NYXRoLnNpbihpKSxjPU1hdGguY29zKGkpKSx0aGlzLm1vZGUpe2Nhc2UgdGhpcy5FUVVJVDppPU1hdGguYWJzKHUpPD14PzA6TWF0aC5hc2luKGgqTS91KSx0Kj1NLGg9Yyp1O2JyZWFrO2Nhc2UgdGhpcy5PQkxJUTppPU1hdGguYWJzKHUpPD14P3RoaXMubGF0MDpNYXRoLmFzaW4oYyp0aGlzLnNpbnBoMCtoKk0qdGhpcy5jb3NwaDAvdSksdCo9TSp0aGlzLmNvc3BoMCxoPShjLU1hdGguc2luKGkpKnRoaXMuc2lucGgwKSp1O2JyZWFrO2Nhc2UgdGhpcy5OX1BPTEU6aD0taCxpPXAtaTticmVhaztjYXNlIHRoaXMuU19QT0xFOmktPXA7YnJlYWt9YT1oPT09MCYmKHRoaXMubW9kZT09PXRoaXMuRVFVSVR8fHRoaXMubW9kZT09PXRoaXMuT0JMSVEpPzA6TWF0aC5hdGFuMih0LGgpfWVsc2V7aWYobD0wLHRoaXMubW9kZT09PXRoaXMuT0JMSVF8fHRoaXMubW9kZT09PXRoaXMuRVFVSVQpe2lmKHQvPXRoaXMuZGQsaCo9dGhpcy5kZCxvPU1hdGguc3FydCh0KnQraCpoKSxvPHgpcmV0dXJuIHMueD10aGlzLmxvbmcwLHMueT10aGlzLmxhdDAscztuPTIqTWF0aC5hc2luKC41Km8vdGhpcy5ycSksZT1NYXRoLmNvcyhuKSx0Kj1uPU1hdGguc2luKG4pLHRoaXMubW9kZT09PXRoaXMuT0JMSVE/KGw9ZSp0aGlzLnNpbmIxK2gqbip0aGlzLmNvc2IxL28scj10aGlzLnFwKmwsaD1vKnRoaXMuY29zYjEqZS1oKnRoaXMuc2luYjEqbik6KGw9aCpuL28scj10aGlzLnFwKmwsaD1vKmUpfWVsc2UgaWYodGhpcy5tb2RlPT09dGhpcy5OX1BPTEV8fHRoaXMubW9kZT09PXRoaXMuU19QT0xFKXtpZih0aGlzLm1vZGU9PT10aGlzLk5fUE9MRSYmKGg9LWgpLHI9dCp0K2gqaCwhcilyZXR1cm4gcy54PXRoaXMubG9uZzAscy55PXRoaXMubGF0MCxzO2w9MS1yL3RoaXMucXAsdGhpcy5tb2RlPT09dGhpcy5TX1BPTEUmJihsPS1sKX1hPU1hdGguYXRhbjIodCxoKSxpPVppKE1hdGguYXNpbihsKSx0aGlzLmFwYSl9cmV0dXJuIHMueD1nKHRoaXMubG9uZzArYSkscy55PWksc312YXIgRGk9LjMzMzMzMzMzMzMzMzMzMzMsVWk9LjE3MjIyMjIyMjIyMjIyMjIyLFFpPS4xMDI1NzkzNjUwNzkzNjUwOCxYaT0uMDYzODg4ODg4ODg4ODg4ODgsV2k9LjA2NjQwMjExNjQwMjExNjQsSGk9LjAxNjQxNTAxMjk0MjE5MTU0MztmdW5jdGlvbiBWaShzKXt2YXIgdCxoPVtdO3JldHVybiBoWzBdPXMqRGksdD1zKnMsaFswXSs9dCpVaSxoWzFdPXQqWGksdCo9cyxoWzBdKz10KlFpLGhbMV0rPXQqV2ksaFsyXT10KkhpLGh9ZnVuY3Rpb24gWmkocyx0KXt2YXIgaD1zK3M7cmV0dXJuIHMrdFswXSpNYXRoLnNpbihoKSt0WzFdKk1hdGguc2luKGgraCkrdFsyXSpNYXRoLnNpbihoK2graCl9dmFyIEppPVsiTGFtYmVydCBBemltdXRoYWwgRXF1YWwgQXJlYSIsIkxhbWJlcnRfQXppbXV0aGFsX0VxdWFsX0FyZWEiLCJsYWVhIl0sS2k9e2luaXQ6R2ksZm9yd2FyZDpCaSxpbnZlcnNlOkZpLG5hbWVzOkppLFNfUE9MRTpSaSxOX1BPTEU6VGksRVFVSVQ6TGksT0JMSVE6aml9O2Z1bmN0aW9uIGl0KHMpe3JldHVybiBNYXRoLmFicyhzKT4xJiYocz1zPjE/MTotMSksTWF0aC5hc2luKHMpfWZ1bmN0aW9uIFlpKCl7TWF0aC5hYnModGhpcy5sYXQxK3RoaXMubGF0Mik8eHx8KHRoaXMudGVtcD10aGlzLmIvdGhpcy5hLHRoaXMuZXM9MS1NYXRoLnBvdyh0aGlzLnRlbXAsMiksdGhpcy5lMz1NYXRoLnNxcnQodGhpcy5lcyksdGhpcy5zaW5fcG89TWF0aC5zaW4odGhpcy5sYXQxKSx0aGlzLmNvc19wbz1NYXRoLmNvcyh0aGlzLmxhdDEpLHRoaXMudDE9dGhpcy5zaW5fcG8sdGhpcy5jb249dGhpcy5zaW5fcG8sdGhpcy5tczE9Syh0aGlzLmUzLHRoaXMuc2luX3BvLHRoaXMuY29zX3BvKSx0aGlzLnFzMT1hdCh0aGlzLmUzLHRoaXMuc2luX3BvLHRoaXMuY29zX3BvKSx0aGlzLnNpbl9wbz1NYXRoLnNpbih0aGlzLmxhdDIpLHRoaXMuY29zX3BvPU1hdGguY29zKHRoaXMubGF0MiksdGhpcy50Mj10aGlzLnNpbl9wbyx0aGlzLm1zMj1LKHRoaXMuZTMsdGhpcy5zaW5fcG8sdGhpcy5jb3NfcG8pLHRoaXMucXMyPWF0KHRoaXMuZTMsdGhpcy5zaW5fcG8sdGhpcy5jb3NfcG8pLHRoaXMuc2luX3BvPU1hdGguc2luKHRoaXMubGF0MCksdGhpcy5jb3NfcG89TWF0aC5jb3ModGhpcy5sYXQwKSx0aGlzLnQzPXRoaXMuc2luX3BvLHRoaXMucXMwPWF0KHRoaXMuZTMsdGhpcy5zaW5fcG8sdGhpcy5jb3NfcG8pLE1hdGguYWJzKHRoaXMubGF0MS10aGlzLmxhdDIpPng/dGhpcy5uczA9KHRoaXMubXMxKnRoaXMubXMxLXRoaXMubXMyKnRoaXMubXMyKS8odGhpcy5xczItdGhpcy5xczEpOnRoaXMubnMwPXRoaXMuY29uLHRoaXMuYz10aGlzLm1zMSp0aGlzLm1zMSt0aGlzLm5zMCp0aGlzLnFzMSx0aGlzLnJoPXRoaXMuYSpNYXRoLnNxcnQodGhpcy5jLXRoaXMubnMwKnRoaXMucXMwKS90aGlzLm5zMCl9ZnVuY3Rpb24gJGkocyl7dmFyIHQ9cy54LGg9cy55O3RoaXMuc2luX3BoaT1NYXRoLnNpbihoKSx0aGlzLmNvc19waGk9TWF0aC5jb3MoaCk7dmFyIGE9YXQodGhpcy5lMyx0aGlzLnNpbl9waGksdGhpcy5jb3NfcGhpKSxpPXRoaXMuYSpNYXRoLnNxcnQodGhpcy5jLXRoaXMubnMwKmEpL3RoaXMubnMwLGU9dGhpcy5uczAqZyh0LXRoaXMubG9uZzApLG49aSpNYXRoLnNpbihlKSt0aGlzLngwLHI9dGhpcy5yaC1pKk1hdGguY29zKGUpK3RoaXMueTA7cmV0dXJuIHMueD1uLHMueT1yLHN9ZnVuY3Rpb24gdGUocyl7dmFyIHQsaCxhLGksZSxuO3JldHVybiBzLngtPXRoaXMueDAscy55PXRoaXMucmgtcy55K3RoaXMueTAsdGhpcy5uczA+PTA/KHQ9TWF0aC5zcXJ0KHMueCpzLngrcy55KnMueSksYT0xKToodD0tTWF0aC5zcXJ0KHMueCpzLngrcy55KnMueSksYT0tMSksaT0wLHQhPT0wJiYoaT1NYXRoLmF0YW4yKGEqcy54LGEqcy55KSksYT10KnRoaXMubnMwL3RoaXMuYSx0aGlzLnNwaGVyZT9uPU1hdGguYXNpbigodGhpcy5jLWEqYSkvKDIqdGhpcy5uczApKTooaD0odGhpcy5jLWEqYSkvdGhpcy5uczAsbj10aGlzLnBoaTF6KHRoaXMuZTMsaCkpLGU9ZyhpL3RoaXMubnMwK3RoaXMubG9uZzApLHMueD1lLHMueT1uLHN9ZnVuY3Rpb24gc2Uocyx0KXt2YXIgaCxhLGksZSxuLHI9aXQoLjUqdCk7aWYoczx4KXJldHVybiByO2Zvcih2YXIgbz1zKnMsbD0xO2w8PTI1O2wrKylpZihoPU1hdGguc2luKHIpLGE9TWF0aC5jb3MociksaT1zKmgsZT0xLWkqaSxuPS41KmUqZS9hKih0LygxLW8pLWgvZSsuNS9zKk1hdGgubG9nKCgxLWkpLygxK2kpKSkscj1yK24sTWF0aC5hYnMobik8PTFlLTcpcmV0dXJuIHI7cmV0dXJuIG51bGx9dmFyIGhlPVsiQWxiZXJzX0NvbmljX0VxdWFsX0FyZWEiLCJBbGJlcnMiLCJhZWEiXSxhZT17aW5pdDpZaSxmb3J3YXJkOiRpLGludmVyc2U6dGUsbmFtZXM6aGUscGhpMXo6c2V9O2Z1bmN0aW9uIGllKCl7dGhpcy5zaW5fcDE0PU1hdGguc2luKHRoaXMubGF0MCksdGhpcy5jb3NfcDE0PU1hdGguY29zKHRoaXMubGF0MCksdGhpcy5pbmZpbml0eV9kaXN0PTFlMyp0aGlzLmEsdGhpcy5yYz0xfWZ1bmN0aW9uIGVlKHMpe3ZhciB0LGgsYSxpLGUsbixyLG8sbD1zLngsYz1zLnk7cmV0dXJuIGE9ZyhsLXRoaXMubG9uZzApLHQ9TWF0aC5zaW4oYyksaD1NYXRoLmNvcyhjKSxpPU1hdGguY29zKGEpLG49dGhpcy5zaW5fcDE0KnQrdGhpcy5jb3NfcDE0KmgqaSxlPTEsbj4wfHxNYXRoLmFicyhuKTw9eD8ocj10aGlzLngwK3RoaXMuYSplKmgqTWF0aC5zaW4oYSkvbixvPXRoaXMueTArdGhpcy5hKmUqKHRoaXMuY29zX3AxNCp0LXRoaXMuc2luX3AxNCpoKmkpL24pOihyPXRoaXMueDArdGhpcy5pbmZpbml0eV9kaXN0KmgqTWF0aC5zaW4oYSksbz10aGlzLnkwK3RoaXMuaW5maW5pdHlfZGlzdCoodGhpcy5jb3NfcDE0KnQtdGhpcy5zaW5fcDE0KmgqaSkpLHMueD1yLHMueT1vLHN9ZnVuY3Rpb24gcmUocyl7dmFyIHQsaCxhLGksZSxuO3JldHVybiBzLng9KHMueC10aGlzLngwKS90aGlzLmEscy55PShzLnktdGhpcy55MCkvdGhpcy5hLHMueC89dGhpcy5rMCxzLnkvPXRoaXMuazAsKHQ9TWF0aC5zcXJ0KHMueCpzLngrcy55KnMueSkpPyhpPU1hdGguYXRhbjIodCx0aGlzLnJjKSxoPU1hdGguc2luKGkpLGE9TWF0aC5jb3MoaSksbj1pdChhKnRoaXMuc2luX3AxNCtzLnkqaCp0aGlzLmNvc19wMTQvdCksZT1NYXRoLmF0YW4yKHMueCpoLHQqdGhpcy5jb3NfcDE0KmEtcy55KnRoaXMuc2luX3AxNCpoKSxlPWcodGhpcy5sb25nMCtlKSk6KG49dGhpcy5waGljMCxlPTApLHMueD1lLHMueT1uLHN9dmFyIG5lPVsiZ25vbSJdLG9lPXtpbml0OmllLGZvcndhcmQ6ZWUsaW52ZXJzZTpyZSxuYW1lczpuZX07ZnVuY3Rpb24gbGUocyx0KXt2YXIgaD0xLSgxLXMqcykvKDIqcykqTWF0aC5sb2coKDEtcykvKDErcykpO2lmKE1hdGguYWJzKE1hdGguYWJzKHQpLWgpPDFlLTYpcmV0dXJuIHQ8MD8tMSpwOnA7Zm9yKHZhciBhPU1hdGguYXNpbiguNSp0KSxpLGUsbixyLG89MDtvPDMwO28rKylpZihlPU1hdGguc2luKGEpLG49TWF0aC5jb3MoYSkscj1zKmUsaT1NYXRoLnBvdygxLXIqciwyKS8oMipuKSoodC8oMS1zKnMpLWUvKDEtcipyKSsuNS9zKk1hdGgubG9nKCgxLXIpLygxK3IpKSksYSs9aSxNYXRoLmFicyhpKTw9MWUtMTApcmV0dXJuIGE7cmV0dXJuIE5hTn1mdW5jdGlvbiB1ZSgpe3RoaXMuc3BoZXJlfHwodGhpcy5rMD1LKHRoaXMuZSxNYXRoLnNpbih0aGlzLmxhdF90cyksTWF0aC5jb3ModGhpcy5sYXRfdHMpKSl9ZnVuY3Rpb24gY2Uocyl7dmFyIHQ9cy54LGg9cy55LGEsaSxlPWcodC10aGlzLmxvbmcwKTtpZih0aGlzLnNwaGVyZSlhPXRoaXMueDArdGhpcy5hKmUqTWF0aC5jb3ModGhpcy5sYXRfdHMpLGk9dGhpcy55MCt0aGlzLmEqTWF0aC5zaW4oaCkvTWF0aC5jb3ModGhpcy5sYXRfdHMpO2Vsc2V7dmFyIG49YXQodGhpcy5lLE1hdGguc2luKGgpKTthPXRoaXMueDArdGhpcy5hKnRoaXMuazAqZSxpPXRoaXMueTArdGhpcy5hKm4qLjUvdGhpcy5rMH1yZXR1cm4gcy54PWEscy55PWksc31mdW5jdGlvbiBNZShzKXtzLngtPXRoaXMueDAscy55LT10aGlzLnkwO3ZhciB0LGg7cmV0dXJuIHRoaXMuc3BoZXJlPyh0PWcodGhpcy5sb25nMCtzLngvdGhpcy5hL01hdGguY29zKHRoaXMubGF0X3RzKSksaD1NYXRoLmFzaW4ocy55L3RoaXMuYSpNYXRoLmNvcyh0aGlzLmxhdF90cykpKTooaD1sZSh0aGlzLmUsMipzLnkqdGhpcy5rMC90aGlzLmEpLHQ9Zyh0aGlzLmxvbmcwK3MueC8odGhpcy5hKnRoaXMuazApKSkscy54PXQscy55PWgsc312YXIgZmU9WyJjZWEiXSx5ZT17aW5pdDp1ZSxmb3J3YXJkOmNlLGludmVyc2U6TWUsbmFtZXM6ZmV9O2Z1bmN0aW9uIG1lKCl7dGhpcy54MD10aGlzLngwfHwwLHRoaXMueTA9dGhpcy55MHx8MCx0aGlzLmxhdDA9dGhpcy5sYXQwfHwwLHRoaXMubG9uZzA9dGhpcy5sb25nMHx8MCx0aGlzLmxhdF90cz10aGlzLmxhdF90c3x8MCx0aGlzLnRpdGxlPXRoaXMudGl0bGV8fCJFcXVpZGlzdGFudCBDeWxpbmRyaWNhbCAoUGxhdGUgQ2FycmUpIix0aGlzLnJjPU1hdGguY29zKHRoaXMubGF0X3RzKX1mdW5jdGlvbiBfZShzKXt2YXIgdD1zLngsaD1zLnksYT1nKHQtdGhpcy5sb25nMCksaT1tdChoLXRoaXMubGF0MCk7cmV0dXJuIHMueD10aGlzLngwK3RoaXMuYSphKnRoaXMucmMscy55PXRoaXMueTArdGhpcy5hKmksc31mdW5jdGlvbiBkZShzKXt2YXIgdD1zLngsaD1zLnk7cmV0dXJuIHMueD1nKHRoaXMubG9uZzArKHQtdGhpcy54MCkvKHRoaXMuYSp0aGlzLnJjKSkscy55PW10KHRoaXMubGF0MCsoaC10aGlzLnkwKS90aGlzLmEpLHN9dmFyIHBlPVsiRXF1aXJlY3Rhbmd1bGFyIiwiRXF1aWRpc3RhbnRfQ3lsaW5kcmljYWwiLCJlcWMiXSx4ZT17aW5pdDptZSxmb3J3YXJkOl9lLGludmVyc2U6ZGUsbmFtZXM6cGV9LEtzPTIwO2Z1bmN0aW9uIGdlKCl7dGhpcy50ZW1wPXRoaXMuYi90aGlzLmEsdGhpcy5lcz0xLU1hdGgucG93KHRoaXMudGVtcCwyKSx0aGlzLmU9TWF0aC5zcXJ0KHRoaXMuZXMpLHRoaXMuZTA9RXQodGhpcy5lcyksdGhpcy5lMT1OdCh0aGlzLmVzKSx0aGlzLmUyPVN0KHRoaXMuZXMpLHRoaXMuZTM9a3QodGhpcy5lcyksdGhpcy5tbDA9dGhpcy5hKkwodGhpcy5lMCx0aGlzLmUxLHRoaXMuZTIsdGhpcy5lMyx0aGlzLmxhdDApfWZ1bmN0aW9uIHZlKHMpe3ZhciB0PXMueCxoPXMueSxhLGksZSxuPWcodC10aGlzLmxvbmcwKTtpZihlPW4qTWF0aC5zaW4oaCksdGhpcy5zcGhlcmUpTWF0aC5hYnMoaCk8PXg/KGE9dGhpcy5hKm4saT0tMSp0aGlzLmEqdGhpcy5sYXQwKTooYT10aGlzLmEqTWF0aC5zaW4oZSkvTWF0aC50YW4oaCksaT10aGlzLmEqKG10KGgtdGhpcy5sYXQwKSsoMS1NYXRoLmNvcyhlKSkvTWF0aC50YW4oaCkpKTtlbHNlIGlmKE1hdGguYWJzKGgpPD14KWE9dGhpcy5hKm4saT0tMSp0aGlzLm1sMDtlbHNle3ZhciByPXl0KHRoaXMuYSx0aGlzLmUsTWF0aC5zaW4oaCkpL01hdGgudGFuKGgpO2E9cipNYXRoLnNpbihlKSxpPXRoaXMuYSpMKHRoaXMuZTAsdGhpcy5lMSx0aGlzLmUyLHRoaXMuZTMsaCktdGhpcy5tbDArciooMS1NYXRoLmNvcyhlKSl9cmV0dXJuIHMueD1hK3RoaXMueDAscy55PWkrdGhpcy55MCxzfWZ1bmN0aW9uIGJlKHMpe3ZhciB0LGgsYSxpLGUsbixyLG8sbDtpZihhPXMueC10aGlzLngwLGk9cy55LXRoaXMueTAsdGhpcy5zcGhlcmUpaWYoTWF0aC5hYnMoaSt0aGlzLmEqdGhpcy5sYXQwKTw9eCl0PWcoYS90aGlzLmErdGhpcy5sb25nMCksaD0wO2Vsc2V7bj10aGlzLmxhdDAraS90aGlzLmEscj1hKmEvdGhpcy5hL3RoaXMuYStuKm4sbz1uO3ZhciBjO2ZvcihlPUtzO2U7LS1lKWlmKGM9TWF0aC50YW4obyksbD0tMSoobioobypjKzEpLW8tLjUqKG8qbytyKSpjKS8oKG8tbikvYy0xKSxvKz1sLE1hdGguYWJzKGwpPD14KXtoPW87YnJlYWt9dD1nKHRoaXMubG9uZzArTWF0aC5hc2luKGEqTWF0aC50YW4obykvdGhpcy5hKS9NYXRoLnNpbihoKSl9ZWxzZSBpZihNYXRoLmFicyhpK3RoaXMubWwwKTw9eCloPTAsdD1nKHRoaXMubG9uZzArYS90aGlzLmEpO2Vsc2V7bj0odGhpcy5tbDAraSkvdGhpcy5hLHI9YSphL3RoaXMuYS90aGlzLmErbipuLG89bjt2YXIgdSxNLGYseSxtO2ZvcihlPUtzO2U7LS1lKWlmKG09dGhpcy5lKk1hdGguc2luKG8pLHU9TWF0aC5zcXJ0KDEtbSptKSpNYXRoLnRhbihvKSxNPXRoaXMuYSpMKHRoaXMuZTAsdGhpcy5lMSx0aGlzLmUyLHRoaXMuZTMsbyksZj10aGlzLmUwLTIqdGhpcy5lMSpNYXRoLmNvcygyKm8pKzQqdGhpcy5lMipNYXRoLmNvcyg0Km8pLTYqdGhpcy5lMypNYXRoLmNvcyg2Km8pLHk9TS90aGlzLmEsbD0obioodSp5KzEpLXktLjUqdSooeSp5K3IpKS8odGhpcy5lcypNYXRoLnNpbigyKm8pKih5Knkrci0yKm4qeSkvKDQqdSkrKG4teSkqKHUqZi0yL01hdGguc2luKDIqbykpLWYpLG8tPWwsTWF0aC5hYnMobCk8PXgpe2g9bzticmVha311PU1hdGguc3FydCgxLXRoaXMuZXMqTWF0aC5wb3coTWF0aC5zaW4oaCksMikpKk1hdGgudGFuKGgpLHQ9Zyh0aGlzLmxvbmcwK01hdGguYXNpbihhKnUvdGhpcy5hKS9NYXRoLnNpbihoKSl9cmV0dXJuIHMueD10LHMueT1oLHN9dmFyIHdlPVsiUG9seWNvbmljIiwicG9seSJdLHplPXtpbml0OmdlLGZvcndhcmQ6dmUsaW52ZXJzZTpiZSxuYW1lczp3ZX07ZnVuY3Rpb24gQ2UoKXt0aGlzLkE9W10sdGhpcy5BWzFdPS42Mzk5MTc1MDczLHRoaXMuQVsyXT0tLjEzNTg3OTc2MTMsdGhpcy5BWzNdPS4wNjMyOTQ0MDksdGhpcy5BWzRdPS0uMDI1MjY4NTMsdGhpcy5BWzVdPS4wMTE3ODc5LHRoaXMuQVs2XT0tLjAwNTUxNjEsdGhpcy5BWzddPS4wMDI2OTA2LHRoaXMuQVs4XT0tLjAwMTMzMyx0aGlzLkFbOV09NjdlLTUsdGhpcy5BWzEwXT0tMzRlLTUsdGhpcy5CX3JlPVtdLHRoaXMuQl9pbT1bXSx0aGlzLkJfcmVbMV09Ljc1NTc4NTMyMjgsdGhpcy5CX2ltWzFdPTAsdGhpcy5CX3JlWzJdPS4yNDkyMDQ2NDYsdGhpcy5CX2ltWzJdPS4wMDMzNzE1MDcsdGhpcy5CX3JlWzNdPS0uMDAxNTQxNzM5LHRoaXMuQl9pbVszXT0uMDQxMDU4NTYsdGhpcy5CX3JlWzRdPS0uMTAxNjI5MDcsdGhpcy5CX2ltWzRdPS4wMTcyNzYwOSx0aGlzLkJfcmVbNV09LS4yNjYyMzQ4OSx0aGlzLkJfaW1bNV09LS4zNjI0OTIxOCx0aGlzLkJfcmVbNl09LS42ODcwOTgzLHRoaXMuQl9pbVs2XT0tMS4xNjUxOTY3LHRoaXMuQ19yZT1bXSx0aGlzLkNfaW09W10sdGhpcy5DX3JlWzFdPTEuMzIzMTI3MDQzOSx0aGlzLkNfaW1bMV09MCx0aGlzLkNfcmVbMl09LS41NzcyNDU3ODksdGhpcy5DX2ltWzJdPS0uMDA3ODA5NTk4LHRoaXMuQ19yZVszXT0uNTA4MzA3NTEzLHRoaXMuQ19pbVszXT0tLjExMjIwODk1Mix0aGlzLkNfcmVbNF09LS4xNTA5NDc2Mix0aGlzLkNfaW1bNF09LjE4MjAwNjAyLHRoaXMuQ19yZVs1XT0xLjAxNDE4MTc5LHRoaXMuQ19pbVs1XT0xLjY0NDk3Njk2LHRoaXMuQ19yZVs2XT0xLjk2NjA1NDksdGhpcy5DX2ltWzZdPTIuNTEyNzY0NSx0aGlzLkQ9W10sdGhpcy5EWzFdPTEuNTYyNzAxNDI0Myx0aGlzLkRbMl09LjUxODU0MDYzOTgsdGhpcy5EWzNdPS0uMDMzMzMwOTgsdGhpcy5EWzRdPS0uMTA1MjkwNix0aGlzLkRbNV09LS4wMzY4NTk0LHRoaXMuRFs2XT0uMDA3MzE3LHRoaXMuRFs3XT0uMDEyMix0aGlzLkRbOF09LjAwMzk0LHRoaXMuRFs5XT0tLjAwMTN9ZnVuY3Rpb24gQWUocyl7dmFyIHQsaD1zLngsYT1zLnksaT1hLXRoaXMubGF0MCxlPWgtdGhpcy5sb25nMCxuPWkvZ3QqMWUtNSxyPWUsbz0xLGw9MDtmb3IodD0xO3Q8PTEwO3QrKylvPW8qbixsPWwrdGhpcy5BW3RdKm87dmFyIGM9bCx1PXIsTT0xLGY9MCx5LG0sZD0wLF89MDtmb3IodD0xO3Q8PTY7dCsrKXk9TSpjLWYqdSxtPWYqYytNKnUsTT15LGY9bSxkPWQrdGhpcy5CX3JlW3RdKk0tdGhpcy5CX2ltW3RdKmYsXz1fK3RoaXMuQl9pbVt0XSpNK3RoaXMuQl9yZVt0XSpmO3JldHVybiBzLng9Xyp0aGlzLmErdGhpcy54MCxzLnk9ZCp0aGlzLmErdGhpcy55MCxzfWZ1bmN0aW9uIEVlKHMpe3ZhciB0LGg9cy54LGE9cy55LGk9aC10aGlzLngwLGU9YS10aGlzLnkwLG49ZS90aGlzLmEscj1pL3RoaXMuYSxvPTEsbD0wLGMsdSxNPTAsZj0wO2Zvcih0PTE7dDw9Njt0KyspYz1vKm4tbCpyLHU9bCpuK28qcixvPWMsbD11LE09TSt0aGlzLkNfcmVbdF0qby10aGlzLkNfaW1bdF0qbCxmPWYrdGhpcy5DX2ltW3RdKm8rdGhpcy5DX3JlW3RdKmw7Zm9yKHZhciB5PTA7eTx0aGlzLml0ZXJhdGlvbnM7eSsrKXt2YXIgbT1NLGQ9ZixfLHYsdz1uLEE9cjtmb3IodD0yO3Q8PTY7dCsrKV89bSpNLWQqZix2PWQqTSttKmYsbT1fLGQ9dix3PXcrKHQtMSkqKHRoaXMuQl9yZVt0XSptLXRoaXMuQl9pbVt0XSpkKSxBPUErKHQtMSkqKHRoaXMuQl9pbVt0XSptK3RoaXMuQl9yZVt0XSpkKTttPTEsZD0wO3ZhciBiPXRoaXMuQl9yZVsxXSx6PXRoaXMuQl9pbVsxXTtmb3IodD0yO3Q8PTY7dCsrKV89bSpNLWQqZix2PWQqTSttKmYsbT1fLGQ9dixiPWIrdCoodGhpcy5CX3JlW3RdKm0tdGhpcy5CX2ltW3RdKmQpLHo9eit0Kih0aGlzLkJfaW1bdF0qbSt0aGlzLkJfcmVbdF0qZCk7dmFyIEU9YipiK3oqejtNPSh3KmIrQSp6KS9FLGY9KEEqYi13KnopL0V9dmFyIGs9TSxqPWYsWD0xLFc9MDtmb3IodD0xO3Q8PTk7dCsrKVg9WCprLFc9Vyt0aGlzLkRbdF0qWDt2YXIgc3Q9dGhpcy5sYXQwK1cqZ3QqMWU1LHh0PXRoaXMubG9uZzArajtyZXR1cm4gcy54PXh0LHMueT1zdCxzfXZhciBOZT1bIk5ld19aZWFsYW5kX01hcF9HcmlkIiwibnptZyJdLFNlPXtpbml0OkNlLGZvcndhcmQ6QWUsaW52ZXJzZTpFZSxuYW1lczpOZX07ZnVuY3Rpb24ga2UoKXt9ZnVuY3Rpb24gUGUocyl7dmFyIHQ9cy54LGg9cy55LGE9Zyh0LXRoaXMubG9uZzApLGk9dGhpcy54MCt0aGlzLmEqYSxlPXRoaXMueTArdGhpcy5hKk1hdGgubG9nKE1hdGgudGFuKE1hdGguUEkvNCtoLzIuNSkpKjEuMjU7cmV0dXJuIHMueD1pLHMueT1lLHN9ZnVuY3Rpb24gT2Uocyl7cy54LT10aGlzLngwLHMueS09dGhpcy55MDt2YXIgdD1nKHRoaXMubG9uZzArcy54L3RoaXMuYSksaD0yLjUqKE1hdGguYXRhbihNYXRoLmV4cCguOCpzLnkvdGhpcy5hKSktTWF0aC5QSS80KTtyZXR1cm4gcy54PXQscy55PWgsc312YXIgSWU9WyJNaWxsZXJfQ3lsaW5kcmljYWwiLCJtaWxsIl0scWU9e2luaXQ6a2UsZm9yd2FyZDpQZSxpbnZlcnNlOk9lLG5hbWVzOkllfSxSZT0yMDtmdW5jdGlvbiBUZSgpe3RoaXMuc3BoZXJlPyh0aGlzLm49MSx0aGlzLm09MCx0aGlzLmVzPTAsdGhpcy5DX3k9TWF0aC5zcXJ0KCh0aGlzLm0rMSkvdGhpcy5uKSx0aGlzLkNfeD10aGlzLkNfeS8odGhpcy5tKzEpKTp0aGlzLmVuPUhzKHRoaXMuZXMpfWZ1bmN0aW9uIExlKHMpe3ZhciB0LGgsYT1zLngsaT1zLnk7aWYoYT1nKGEtdGhpcy5sb25nMCksdGhpcy5zcGhlcmUpe2lmKCF0aGlzLm0paT10aGlzLm4hPT0xP01hdGguYXNpbih0aGlzLm4qTWF0aC5zaW4oaSkpOmk7ZWxzZSBmb3IodmFyIGU9dGhpcy5uKk1hdGguc2luKGkpLG49UmU7bjstLW4pe3ZhciByPSh0aGlzLm0qaStNYXRoLnNpbihpKS1lKS8odGhpcy5tK01hdGguY29zKGkpKTtpZihpLT1yLE1hdGguYWJzKHIpPHgpYnJlYWt9dD10aGlzLmEqdGhpcy5DX3gqYSoodGhpcy5tK01hdGguY29zKGkpKSxoPXRoaXMuYSp0aGlzLkNfeSppfWVsc2V7dmFyIG89TWF0aC5zaW4oaSksbD1NYXRoLmNvcyhpKTtoPXRoaXMuYSpGdChpLG8sbCx0aGlzLmVuKSx0PXRoaXMuYSphKmwvTWF0aC5zcXJ0KDEtdGhpcy5lcypvKm8pfXJldHVybiBzLng9dCxzLnk9aCxzfWZ1bmN0aW9uIGplKHMpe3ZhciB0LGgsYSxpO3JldHVybiBzLngtPXRoaXMueDAsYT1zLngvdGhpcy5hLHMueS09dGhpcy55MCx0PXMueS90aGlzLmEsdGhpcy5zcGhlcmU/KHQvPXRoaXMuQ195LGE9YS8odGhpcy5DX3gqKHRoaXMubStNYXRoLmNvcyh0KSkpLHRoaXMubT90PWl0KCh0aGlzLm0qdCtNYXRoLnNpbih0KSkvdGhpcy5uKTp0aGlzLm4hPT0xJiYodD1pdChNYXRoLnNpbih0KS90aGlzLm4pKSxhPWcoYSt0aGlzLmxvbmcwKSx0PW10KHQpKToodD1WcyhzLnkvdGhpcy5hLHRoaXMuZXMsdGhpcy5lbiksaT1NYXRoLmFicyh0KSxpPHA/KGk9TWF0aC5zaW4odCksaD10aGlzLmxvbmcwK3MueCpNYXRoLnNxcnQoMS10aGlzLmVzKmkqaSkvKHRoaXMuYSpNYXRoLmNvcyh0KSksYT1nKGgpKTppLXg8cCYmKGE9dGhpcy5sb25nMCkpLHMueD1hLHMueT10LHN9dmFyIEdlPVsiU2ludXNvaWRhbCIsInNpbnUiXSxCZT17aW5pdDpUZSxmb3J3YXJkOkxlLGludmVyc2U6amUsbmFtZXM6R2V9O2Z1bmN0aW9uIEZlKCl7fWZ1bmN0aW9uIERlKHMpe2Zvcih2YXIgdD1zLngsaD1zLnksYT1nKHQtdGhpcy5sb25nMCksaT1oLGU9TWF0aC5QSSpNYXRoLnNpbihoKTs7KXt2YXIgbj0tKGkrTWF0aC5zaW4oaSktZSkvKDErTWF0aC5jb3MoaSkpO2lmKGkrPW4sTWF0aC5hYnMobik8eClicmVha31pLz0yLE1hdGguUEkvMi1NYXRoLmFicyhoKTx4JiYoYT0wKTt2YXIgcj0uOTAwMzE2MzE2MTU4KnRoaXMuYSphKk1hdGguY29zKGkpK3RoaXMueDAsbz0xLjQxNDIxMzU2MjM3MzEqdGhpcy5hKk1hdGguc2luKGkpK3RoaXMueTA7cmV0dXJuIHMueD1yLHMueT1vLHN9ZnVuY3Rpb24gVWUocyl7dmFyIHQsaDtzLngtPXRoaXMueDAscy55LT10aGlzLnkwLGg9cy55LygxLjQxNDIxMzU2MjM3MzEqdGhpcy5hKSxNYXRoLmFicyhoKT4uOTk5OTk5OTk5OTk5JiYoaD0uOTk5OTk5OTk5OTk5KSx0PU1hdGguYXNpbihoKTt2YXIgYT1nKHRoaXMubG9uZzArcy54LyguOTAwMzE2MzE2MTU4KnRoaXMuYSpNYXRoLmNvcyh0KSkpO2E8LU1hdGguUEkmJihhPS1NYXRoLlBJKSxhPk1hdGguUEkmJihhPU1hdGguUEkpLGg9KDIqdCtNYXRoLnNpbigyKnQpKS9NYXRoLlBJLE1hdGguYWJzKGgpPjEmJihoPTEpO3ZhciBpPU1hdGguYXNpbihoKTtyZXR1cm4gcy54PWEscy55PWksc312YXIgUWU9WyJNb2xsd2VpZGUiLCJtb2xsIl0sWGU9e2luaXQ6RmUsZm9yd2FyZDpEZSxpbnZlcnNlOlVlLG5hbWVzOlFlfTtmdW5jdGlvbiBXZSgpe01hdGguYWJzKHRoaXMubGF0MSt0aGlzLmxhdDIpPHh8fCh0aGlzLmxhdDI9dGhpcy5sYXQyfHx0aGlzLmxhdDEsdGhpcy50ZW1wPXRoaXMuYi90aGlzLmEsdGhpcy5lcz0xLU1hdGgucG93KHRoaXMudGVtcCwyKSx0aGlzLmU9TWF0aC5zcXJ0KHRoaXMuZXMpLHRoaXMuZTA9RXQodGhpcy5lcyksdGhpcy5lMT1OdCh0aGlzLmVzKSx0aGlzLmUyPVN0KHRoaXMuZXMpLHRoaXMuZTM9a3QodGhpcy5lcyksdGhpcy5zaW5waGk9TWF0aC5zaW4odGhpcy5sYXQxKSx0aGlzLmNvc3BoaT1NYXRoLmNvcyh0aGlzLmxhdDEpLHRoaXMubXMxPUsodGhpcy5lLHRoaXMuc2lucGhpLHRoaXMuY29zcGhpKSx0aGlzLm1sMT1MKHRoaXMuZTAsdGhpcy5lMSx0aGlzLmUyLHRoaXMuZTMsdGhpcy5sYXQxKSxNYXRoLmFicyh0aGlzLmxhdDEtdGhpcy5sYXQyKTx4P3RoaXMubnM9dGhpcy5zaW5waGk6KHRoaXMuc2lucGhpPU1hdGguc2luKHRoaXMubGF0MiksdGhpcy5jb3NwaGk9TWF0aC5jb3ModGhpcy5sYXQyKSx0aGlzLm1zMj1LKHRoaXMuZSx0aGlzLnNpbnBoaSx0aGlzLmNvc3BoaSksdGhpcy5tbDI9TCh0aGlzLmUwLHRoaXMuZTEsdGhpcy5lMix0aGlzLmUzLHRoaXMubGF0MiksdGhpcy5ucz0odGhpcy5tczEtdGhpcy5tczIpLyh0aGlzLm1sMi10aGlzLm1sMSkpLHRoaXMuZz10aGlzLm1sMSt0aGlzLm1zMS90aGlzLm5zLHRoaXMubWwwPUwodGhpcy5lMCx0aGlzLmUxLHRoaXMuZTIsdGhpcy5lMyx0aGlzLmxhdDApLHRoaXMucmg9dGhpcy5hKih0aGlzLmctdGhpcy5tbDApKX1mdW5jdGlvbiBIZShzKXt2YXIgdD1zLngsaD1zLnksYTtpZih0aGlzLnNwaGVyZSlhPXRoaXMuYSoodGhpcy5nLWgpO2Vsc2V7dmFyIGk9TCh0aGlzLmUwLHRoaXMuZTEsdGhpcy5lMix0aGlzLmUzLGgpO2E9dGhpcy5hKih0aGlzLmctaSl9dmFyIGU9dGhpcy5ucypnKHQtdGhpcy5sb25nMCksbj10aGlzLngwK2EqTWF0aC5zaW4oZSkscj10aGlzLnkwK3RoaXMucmgtYSpNYXRoLmNvcyhlKTtyZXR1cm4gcy54PW4scy55PXIsc31mdW5jdGlvbiBWZShzKXtzLngtPXRoaXMueDAscy55PXRoaXMucmgtcy55K3RoaXMueTA7dmFyIHQsaCxhLGk7dGhpcy5ucz49MD8oaD1NYXRoLnNxcnQocy54KnMueCtzLnkqcy55KSx0PTEpOihoPS1NYXRoLnNxcnQocy54KnMueCtzLnkqcy55KSx0PS0xKTt2YXIgZT0wO2lmKGghPT0wJiYoZT1NYXRoLmF0YW4yKHQqcy54LHQqcy55KSksdGhpcy5zcGhlcmUpcmV0dXJuIGk9Zyh0aGlzLmxvbmcwK2UvdGhpcy5ucyksYT1tdCh0aGlzLmctaC90aGlzLmEpLHMueD1pLHMueT1hLHM7dmFyIG49dGhpcy5nLWgvdGhpcy5hO3JldHVybiBhPVF0KG4sdGhpcy5lMCx0aGlzLmUxLHRoaXMuZTIsdGhpcy5lMyksaT1nKHRoaXMubG9uZzArZS90aGlzLm5zKSxzLng9aSxzLnk9YSxzfXZhciBaZT1bIkVxdWlkaXN0YW50X0NvbmljIiwiZXFkYyJdLEplPXtpbml0OldlLGZvcndhcmQ6SGUsaW52ZXJzZTpWZSxuYW1lczpaZX07ZnVuY3Rpb24gS2UoKXt0aGlzLlI9dGhpcy5hfWZ1bmN0aW9uIFllKHMpe3ZhciB0PXMueCxoPXMueSxhPWcodC10aGlzLmxvbmcwKSxpLGU7TWF0aC5hYnMoaCk8PXgmJihpPXRoaXMueDArdGhpcy5SKmEsZT10aGlzLnkwKTt2YXIgbj1pdCgyKk1hdGguYWJzKGgvTWF0aC5QSSkpOyhNYXRoLmFicyhhKTw9eHx8TWF0aC5hYnMoTWF0aC5hYnMoaCktcCk8PXgpJiYoaT10aGlzLngwLGg+PTA/ZT10aGlzLnkwK01hdGguUEkqdGhpcy5SKk1hdGgudGFuKC41Km4pOmU9dGhpcy55MCtNYXRoLlBJKnRoaXMuUiotTWF0aC50YW4oLjUqbikpO3ZhciByPS41Kk1hdGguYWJzKE1hdGguUEkvYS1hL01hdGguUEkpLG89cipyLGw9TWF0aC5zaW4obiksYz1NYXRoLmNvcyhuKSx1PWMvKGwrYy0xKSxNPXUqdSxmPXUqKDIvbC0xKSx5PWYqZixtPU1hdGguUEkqdGhpcy5SKihyKih1LXkpK01hdGguc3FydChvKih1LXkpKih1LXkpLSh5K28pKihNLXkpKSkvKHkrbyk7YTwwJiYobT0tbSksaT10aGlzLngwK207dmFyIGQ9byt1O3JldHVybiBtPU1hdGguUEkqdGhpcy5SKihmKmQtcipNYXRoLnNxcnQoKHkrbykqKG8rMSktZCpkKSkvKHkrbyksaD49MD9lPXRoaXMueTArbTplPXRoaXMueTAtbSxzLng9aSxzLnk9ZSxzfWZ1bmN0aW9uICRlKHMpe3ZhciB0LGgsYSxpLGUsbixyLG8sbCxjLHUsTSxmO3JldHVybiBzLngtPXRoaXMueDAscy55LT10aGlzLnkwLHU9TWF0aC5QSSp0aGlzLlIsYT1zLngvdSxpPXMueS91LGU9YSphK2kqaSxuPS1NYXRoLmFicyhpKSooMStlKSxyPW4tMippKmkrYSphLG89LTIqbisxKzIqaSppK2UqZSxmPWkqaS9vKygyKnIqcipyL28vby9vLTkqbipyL28vbykvMjcsbD0obi1yKnIvMy9vKS9vLGM9MipNYXRoLnNxcnQoLWwvMyksdT0zKmYvbC9jLE1hdGguYWJzKHUpPjEmJih1Pj0wP3U9MTp1PS0xKSxNPU1hdGguYWNvcyh1KS8zLHMueT49MD9oPSgtYypNYXRoLmNvcyhNK01hdGguUEkvMyktci8zL28pKk1hdGguUEk6aD0tKC1jKk1hdGguY29zKE0rTWF0aC5QSS8zKS1yLzMvbykqTWF0aC5QSSxNYXRoLmFicyhhKTx4P3Q9dGhpcy5sb25nMDp0PWcodGhpcy5sb25nMCtNYXRoLlBJKihlLTErTWF0aC5zcXJ0KDErMiooYSphLWkqaSkrZSplKSkvMi9hKSxzLng9dCxzLnk9aCxzfXZhciB0cj1bIlZhbl9kZXJfR3JpbnRlbl9JIiwiVmFuRGVyR3JpbnRlbiIsInZhbmRnIl0sc3I9e2luaXQ6S2UsZm9yd2FyZDpZZSxpbnZlcnNlOiRlLG5hbWVzOnRyfTtmdW5jdGlvbiBocigpe3RoaXMuc2luX3AxMj1NYXRoLnNpbih0aGlzLmxhdDApLHRoaXMuY29zX3AxMj1NYXRoLmNvcyh0aGlzLmxhdDApfWZ1bmN0aW9uIGFyKHMpe3ZhciB0PXMueCxoPXMueSxhPU1hdGguc2luKHMueSksaT1NYXRoLmNvcyhzLnkpLGU9Zyh0LXRoaXMubG9uZzApLG4scixvLGwsYyx1LE0sZix5LG0sZCxfLHYsdyxBLGIseixFLGssaixYLFcsc3Q7cmV0dXJuIHRoaXMuc3BoZXJlP01hdGguYWJzKHRoaXMuc2luX3AxMi0xKTw9eD8ocy54PXRoaXMueDArdGhpcy5hKihwLWgpKk1hdGguc2luKGUpLHMueT10aGlzLnkwLXRoaXMuYSoocC1oKSpNYXRoLmNvcyhlKSxzKTpNYXRoLmFicyh0aGlzLnNpbl9wMTIrMSk8PXg/KHMueD10aGlzLngwK3RoaXMuYSoocCtoKSpNYXRoLnNpbihlKSxzLnk9dGhpcy55MCt0aGlzLmEqKHAraCkqTWF0aC5jb3MoZSkscyk6KEU9dGhpcy5zaW5fcDEyKmErdGhpcy5jb3NfcDEyKmkqTWF0aC5jb3MoZSksYj1NYXRoLmFjb3MoRSksej1iP2IvTWF0aC5zaW4oYik6MSxzLng9dGhpcy54MCt0aGlzLmEqeippKk1hdGguc2luKGUpLHMueT10aGlzLnkwK3RoaXMuYSp6Kih0aGlzLmNvc19wMTIqYS10aGlzLnNpbl9wMTIqaSpNYXRoLmNvcyhlKSkscyk6KG49RXQodGhpcy5lcykscj1OdCh0aGlzLmVzKSxvPVN0KHRoaXMuZXMpLGw9a3QodGhpcy5lcyksTWF0aC5hYnModGhpcy5zaW5fcDEyLTEpPD14PyhjPXRoaXMuYSpMKG4scixvLGwscCksdT10aGlzLmEqTChuLHIsbyxsLGgpLHMueD10aGlzLngwKyhjLXUpKk1hdGguc2luKGUpLHMueT10aGlzLnkwLShjLXUpKk1hdGguY29zKGUpLHMpOk1hdGguYWJzKHRoaXMuc2luX3AxMisxKTw9eD8oYz10aGlzLmEqTChuLHIsbyxsLHApLHU9dGhpcy5hKkwobixyLG8sbCxoKSxzLng9dGhpcy54MCsoYyt1KSpNYXRoLnNpbihlKSxzLnk9dGhpcy55MCsoYyt1KSpNYXRoLmNvcyhlKSxzKTooTT1hL2ksZj15dCh0aGlzLmEsdGhpcy5lLHRoaXMuc2luX3AxMikseT15dCh0aGlzLmEsdGhpcy5lLGEpLG09TWF0aC5hdGFuKCgxLXRoaXMuZXMpKk0rdGhpcy5lcypmKnRoaXMuc2luX3AxMi8oeSppKSksZD1NYXRoLmF0YW4yKE1hdGguc2luKGUpLHRoaXMuY29zX3AxMipNYXRoLnRhbihtKS10aGlzLnNpbl9wMTIqTWF0aC5jb3MoZSkpLGQ9PT0wP2s9TWF0aC5hc2luKHRoaXMuY29zX3AxMipNYXRoLnNpbihtKS10aGlzLnNpbl9wMTIqTWF0aC5jb3MobSkpOk1hdGguYWJzKE1hdGguYWJzKGQpLU1hdGguUEkpPD14P2s9LU1hdGguYXNpbih0aGlzLmNvc19wMTIqTWF0aC5zaW4obSktdGhpcy5zaW5fcDEyKk1hdGguY29zKG0pKTprPU1hdGguYXNpbihNYXRoLnNpbihlKSpNYXRoLmNvcyhtKS9NYXRoLnNpbihkKSksXz10aGlzLmUqdGhpcy5zaW5fcDEyL01hdGguc3FydCgxLXRoaXMuZXMpLHY9dGhpcy5lKnRoaXMuY29zX3AxMipNYXRoLmNvcyhkKS9NYXRoLnNxcnQoMS10aGlzLmVzKSx3PV8qdixBPXYqdixqPWsqayxYPWoqayxXPVgqayxzdD1XKmssYj1mKmsqKDEtaipBKigxLUEpLzYrWC84KncqKDEtMipBKStXLzEyMCooQSooNC03KkEpLTMqXypfKigxLTcqQSkpLXN0LzQ4KncpLHMueD10aGlzLngwK2IqTWF0aC5zaW4oZCkscy55PXRoaXMueTArYipNYXRoLmNvcyhkKSxzKSl9ZnVuY3Rpb24gaXIocyl7cy54LT10aGlzLngwLHMueS09dGhpcy55MDt2YXIgdCxoLGEsaSxlLG4scixvLGwsYyx1LE0sZix5LG0sZCxfLHYsdyxBLGIseixFLGs7cmV0dXJuIHRoaXMuc3BoZXJlPyh0PU1hdGguc3FydChzLngqcy54K3MueSpzLnkpLHQ+MipwKnRoaXMuYT92b2lkIDA6KGg9dC90aGlzLmEsYT1NYXRoLnNpbihoKSxpPU1hdGguY29zKGgpLGU9dGhpcy5sb25nMCxNYXRoLmFicyh0KTw9eD9uPXRoaXMubGF0MDoobj1pdChpKnRoaXMuc2luX3AxMitzLnkqYSp0aGlzLmNvc19wMTIvdCkscj1NYXRoLmFicyh0aGlzLmxhdDApLXAsTWF0aC5hYnMocik8PXg/dGhpcy5sYXQwPj0wP2U9Zyh0aGlzLmxvbmcwK01hdGguYXRhbjIocy54LC1zLnkpKTplPWcodGhpcy5sb25nMC1NYXRoLmF0YW4yKC1zLngscy55KSk6ZT1nKHRoaXMubG9uZzArTWF0aC5hdGFuMihzLngqYSx0KnRoaXMuY29zX3AxMippLXMueSp0aGlzLnNpbl9wMTIqYSkpKSxzLng9ZSxzLnk9bixzKSk6KG89RXQodGhpcy5lcyksbD1OdCh0aGlzLmVzKSxjPVN0KHRoaXMuZXMpLHU9a3QodGhpcy5lcyksTWF0aC5hYnModGhpcy5zaW5fcDEyLTEpPD14PyhNPXRoaXMuYSpMKG8sbCxjLHUscCksdD1NYXRoLnNxcnQocy54KnMueCtzLnkqcy55KSxmPU0tdCxuPVF0KGYvdGhpcy5hLG8sbCxjLHUpLGU9Zyh0aGlzLmxvbmcwK01hdGguYXRhbjIocy54LC0xKnMueSkpLHMueD1lLHMueT1uLHMpOk1hdGguYWJzKHRoaXMuc2luX3AxMisxKTw9eD8oTT10aGlzLmEqTChvLGwsYyx1LHApLHQ9TWF0aC5zcXJ0KHMueCpzLngrcy55KnMueSksZj10LU0sbj1RdChmL3RoaXMuYSxvLGwsYyx1KSxlPWcodGhpcy5sb25nMCtNYXRoLmF0YW4yKHMueCxzLnkpKSxzLng9ZSxzLnk9bixzKToodD1NYXRoLnNxcnQocy54KnMueCtzLnkqcy55KSxkPU1hdGguYXRhbjIocy54LHMueSkseT15dCh0aGlzLmEsdGhpcy5lLHRoaXMuc2luX3AxMiksXz1NYXRoLmNvcyhkKSx2PXRoaXMuZSp0aGlzLmNvc19wMTIqXyx3PS12KnYvKDEtdGhpcy5lcyksQT0zKnRoaXMuZXMqKDEtdykqdGhpcy5zaW5fcDEyKnRoaXMuY29zX3AxMipfLygxLXRoaXMuZXMpLGI9dC95LHo9Yi13KigxK3cpKk1hdGgucG93KGIsMykvNi1BKigxKzMqdykqTWF0aC5wb3coYiw0KS8yNCxFPTEtdyp6KnovMi1iKnoqeip6LzYsbT1NYXRoLmFzaW4odGhpcy5zaW5fcDEyKk1hdGguY29zKHopK3RoaXMuY29zX3AxMipNYXRoLnNpbih6KSpfKSxlPWcodGhpcy5sb25nMCtNYXRoLmFzaW4oTWF0aC5zaW4oZCkqTWF0aC5zaW4oeikvTWF0aC5jb3MobSkpKSxrPU1hdGguc2luKG0pLG49TWF0aC5hdGFuMigoay10aGlzLmVzKkUqdGhpcy5zaW5fcDEyKSpNYXRoLnRhbihtKSxrKigxLXRoaXMuZXMpKSxzLng9ZSxzLnk9bixzKSl9dmFyIGVyPVsiQXppbXV0aGFsX0VxdWlkaXN0YW50IiwiYWVxZCJdLHJyPXtpbml0OmhyLGZvcndhcmQ6YXIsaW52ZXJzZTppcixuYW1lczplcn07ZnVuY3Rpb24gbnIoKXt0aGlzLnNpbl9wMTQ9TWF0aC5zaW4odGhpcy5sYXQwKSx0aGlzLmNvc19wMTQ9TWF0aC5jb3ModGhpcy5sYXQwKX1mdW5jdGlvbiBvcihzKXt2YXIgdCxoLGEsaSxlLG4scixvLGw9cy54LGM9cy55O3JldHVybiBhPWcobC10aGlzLmxvbmcwKSx0PU1hdGguc2luKGMpLGg9TWF0aC5jb3MoYyksaT1NYXRoLmNvcyhhKSxuPXRoaXMuc2luX3AxNCp0K3RoaXMuY29zX3AxNCpoKmksZT0xLChuPjB8fE1hdGguYWJzKG4pPD14KSYmKHI9dGhpcy5hKmUqaCpNYXRoLnNpbihhKSxvPXRoaXMueTArdGhpcy5hKmUqKHRoaXMuY29zX3AxNCp0LXRoaXMuc2luX3AxNCpoKmkpKSxzLng9cixzLnk9byxzfWZ1bmN0aW9uIGxyKHMpe3ZhciB0LGgsYSxpLGUsbixyO3JldHVybiBzLngtPXRoaXMueDAscy55LT10aGlzLnkwLHQ9TWF0aC5zcXJ0KHMueCpzLngrcy55KnMueSksaD1pdCh0L3RoaXMuYSksYT1NYXRoLnNpbihoKSxpPU1hdGguY29zKGgpLG49dGhpcy5sb25nMCxNYXRoLmFicyh0KTw9eD8ocj10aGlzLmxhdDAscy54PW4scy55PXIscyk6KHI9aXQoaSp0aGlzLnNpbl9wMTQrcy55KmEqdGhpcy5jb3NfcDE0L3QpLGU9TWF0aC5hYnModGhpcy5sYXQwKS1wLE1hdGguYWJzKGUpPD14Pyh0aGlzLmxhdDA+PTA/bj1nKHRoaXMubG9uZzArTWF0aC5hdGFuMihzLngsLXMueSkpOm49Zyh0aGlzLmxvbmcwLU1hdGguYXRhbjIoLXMueCxzLnkpKSxzLng9bixzLnk9cixzKToobj1nKHRoaXMubG9uZzArTWF0aC5hdGFuMihzLngqYSx0KnRoaXMuY29zX3AxNCppLXMueSp0aGlzLnNpbl9wMTQqYSkpLHMueD1uLHMueT1yLHMpKX12YXIgdXI9WyJvcnRobyJdLGNyPXtpbml0Om5yLGZvcndhcmQ6b3IsaW52ZXJzZTpscixuYW1lczp1cn0sUD17RlJPTlQ6MSxSSUdIVDoyLEJBQ0s6MyxMRUZUOjQsVE9QOjUsQk9UVE9NOjZ9LFM9e0FSRUFfMDoxLEFSRUFfMToyLEFSRUFfMjozLEFSRUFfMzo0fTtmdW5jdGlvbiBNcigpe3RoaXMueDA9dGhpcy54MHx8MCx0aGlzLnkwPXRoaXMueTB8fDAsdGhpcy5sYXQwPXRoaXMubGF0MHx8MCx0aGlzLmxvbmcwPXRoaXMubG9uZzB8fDAsdGhpcy5sYXRfdHM9dGhpcy5sYXRfdHN8fDAsdGhpcy50aXRsZT10aGlzLnRpdGxlfHwiUXVhZHJpbGF0ZXJhbGl6ZWQgU3BoZXJpY2FsIEN1YmUiLHRoaXMubGF0MD49cC1OLzI/dGhpcy5mYWNlPVAuVE9QOnRoaXMubGF0MDw9LShwLU4vMik/dGhpcy5mYWNlPVAuQk9UVE9NOk1hdGguYWJzKHRoaXMubG9uZzApPD1OP3RoaXMuZmFjZT1QLkZST05UOk1hdGguYWJzKHRoaXMubG9uZzApPD1wK04/dGhpcy5mYWNlPXRoaXMubG9uZzA+MD9QLlJJR0hUOlAuTEVGVDp0aGlzLmZhY2U9UC5CQUNLLHRoaXMuZXMhPT0wJiYodGhpcy5vbmVfbWludXNfZj0xLSh0aGlzLmEtdGhpcy5iKS90aGlzLmEsdGhpcy5vbmVfbWludXNfZl9zcXVhcmVkPXRoaXMub25lX21pbnVzX2YqdGhpcy5vbmVfbWludXNfZil9ZnVuY3Rpb24gZnIocyl7dmFyIHQ9e3g6MCx5OjB9LGgsYSxpLGUsbixyLG89e3ZhbHVlOjB9O2lmKHMueC09dGhpcy5sb25nMCx0aGlzLmVzIT09MD9oPU1hdGguYXRhbih0aGlzLm9uZV9taW51c19mX3NxdWFyZWQqTWF0aC50YW4ocy55KSk6aD1zLnksYT1zLngsdGhpcy5mYWNlPT09UC5UT1ApZT1wLWgsYT49TiYmYTw9cCtOPyhvLnZhbHVlPVMuQVJFQV8wLGk9YS1wKTphPnArTnx8YTw9LShwK04pPyhvLnZhbHVlPVMuQVJFQV8xLGk9YT4wP2EtTzphK08pOmE+LShwK04pJiZhPD0tTj8oby52YWx1ZT1TLkFSRUFfMixpPWErcCk6KG8udmFsdWU9Uy5BUkVBXzMsaT1hKTtlbHNlIGlmKHRoaXMuZmFjZT09PVAuQk9UVE9NKWU9cCtoLGE+PU4mJmE8PXArTj8oby52YWx1ZT1TLkFSRUFfMCxpPS1hK3ApOmE8TiYmYT49LU4/KG8udmFsdWU9Uy5BUkVBXzEsaT0tYSk6YTwtTiYmYT49LShwK04pPyhvLnZhbHVlPVMuQVJFQV8yLGk9LWEtcCk6KG8udmFsdWU9Uy5BUkVBXzMsaT1hPjA/LWErTzotYS1PKTtlbHNle3ZhciBsLGMsdSxNLGYseSxtO3RoaXMuZmFjZT09PVAuUklHSFQ/YT1fdChhLCtwKTp0aGlzLmZhY2U9PT1QLkJBQ0s/YT1fdChhLCtPKTp0aGlzLmZhY2U9PT1QLkxFRlQmJihhPV90KGEsLXApKSxNPU1hdGguc2luKGgpLGY9TWF0aC5jb3MoaCkseT1NYXRoLnNpbihhKSxtPU1hdGguY29zKGEpLGw9ZiptLGM9Zip5LHU9TSx0aGlzLmZhY2U9PT1QLkZST05UPyhlPU1hdGguYWNvcyhsKSxpPVh0KGUsdSxjLG8pKTp0aGlzLmZhY2U9PT1QLlJJR0hUPyhlPU1hdGguYWNvcyhjKSxpPVh0KGUsdSwtbCxvKSk6dGhpcy5mYWNlPT09UC5CQUNLPyhlPU1hdGguYWNvcygtbCksaT1YdChlLHUsLWMsbykpOnRoaXMuZmFjZT09PVAuTEVGVD8oZT1NYXRoLmFjb3MoLWMpLGk9WHQoZSx1LGwsbykpOihlPWk9MCxvLnZhbHVlPVMuQVJFQV8wKX1yZXR1cm4gcj1NYXRoLmF0YW4oMTIvTyooaStNYXRoLmFjb3MoTWF0aC5zaW4oaSkqTWF0aC5jb3MoTikpLXApKSxuPU1hdGguc3FydCgoMS1NYXRoLmNvcyhlKSkvKE1hdGguY29zKHIpKk1hdGguY29zKHIpKS8oMS1NYXRoLmNvcyhNYXRoLmF0YW4oMS9NYXRoLmNvcyhpKSkpKSksby52YWx1ZT09PVMuQVJFQV8xP3IrPXA6by52YWx1ZT09PVMuQVJFQV8yP3IrPU86by52YWx1ZT09PVMuQVJFQV8zJiYocis9MS41Kk8pLHQueD1uKk1hdGguY29zKHIpLHQueT1uKk1hdGguc2luKHIpLHQueD10LngqdGhpcy5hK3RoaXMueDAsdC55PXQueSp0aGlzLmErdGhpcy55MCxzLng9dC54LHMueT10Lnksc31mdW5jdGlvbiB5cihzKXt2YXIgdD17bGFtOjAscGhpOjB9LGgsYSxpLGUsbixyLG8sbCxjLHU9e3ZhbHVlOjB9O2lmKHMueD0ocy54LXRoaXMueDApL3RoaXMuYSxzLnk9KHMueS10aGlzLnkwKS90aGlzLmEsYT1NYXRoLmF0YW4oTWF0aC5zcXJ0KHMueCpzLngrcy55KnMueSkpLGg9TWF0aC5hdGFuMihzLnkscy54KSxzLng+PTAmJnMueD49TWF0aC5hYnMocy55KT91LnZhbHVlPVMuQVJFQV8wOnMueT49MCYmcy55Pj1NYXRoLmFicyhzLngpPyh1LnZhbHVlPVMuQVJFQV8xLGgtPXApOnMueDwwJiYtcy54Pj1NYXRoLmFicyhzLnkpPyh1LnZhbHVlPVMuQVJFQV8yLGg9aDwwP2grTzpoLU8pOih1LnZhbHVlPVMuQVJFQV8zLGgrPXApLGM9Ty8xMipNYXRoLnRhbihoKSxuPU1hdGguc2luKGMpLyhNYXRoLmNvcyhjKS0xL01hdGguc3FydCgyKSkscj1NYXRoLmF0YW4obiksaT1NYXRoLmNvcyhoKSxlPU1hdGgudGFuKGEpLG89MS1pKmkqZSplKigxLU1hdGguY29zKE1hdGguYXRhbigxL01hdGguY29zKHIpKSkpLG88LTE/bz0tMTpvPjEmJihvPTEpLHRoaXMuZmFjZT09PVAuVE9QKWw9TWF0aC5hY29zKG8pLHQucGhpPXAtbCx1LnZhbHVlPT09Uy5BUkVBXzA/dC5sYW09citwOnUudmFsdWU9PT1TLkFSRUFfMT90LmxhbT1yPDA/citPOnItTzp1LnZhbHVlPT09Uy5BUkVBXzI/dC5sYW09ci1wOnQubGFtPXI7ZWxzZSBpZih0aGlzLmZhY2U9PT1QLkJPVFRPTSlsPU1hdGguYWNvcyhvKSx0LnBoaT1sLXAsdS52YWx1ZT09PVMuQVJFQV8wP3QubGFtPS1yK3A6dS52YWx1ZT09PVMuQVJFQV8xP3QubGFtPS1yOnUudmFsdWU9PT1TLkFSRUFfMj90LmxhbT0tci1wOnQubGFtPXI8MD8tci1POi1yK087ZWxzZXt2YXIgTSxmLHk7TT1vLGM9TSpNLGM+PTE/eT0wOnk9TWF0aC5zcXJ0KDEtYykqTWF0aC5zaW4ociksYys9eSp5LGM+PTE/Zj0wOmY9TWF0aC5zcXJ0KDEtYyksdS52YWx1ZT09PVMuQVJFQV8xPyhjPWYsZj0teSx5PWMpOnUudmFsdWU9PT1TLkFSRUFfMj8oZj0tZix5PS15KTp1LnZhbHVlPT09Uy5BUkVBXzMmJihjPWYsZj15LHk9LWMpLHRoaXMuZmFjZT09PVAuUklHSFQ/KGM9TSxNPS1mLGY9Yyk6dGhpcy5mYWNlPT09UC5CQUNLPyhNPS1NLGY9LWYpOnRoaXMuZmFjZT09PVAuTEVGVCYmKGM9TSxNPWYsZj0tYyksdC5waGk9TWF0aC5hY29zKC15KS1wLHQubGFtPU1hdGguYXRhbjIoZixNKSx0aGlzLmZhY2U9PT1QLlJJR0hUP3QubGFtPV90KHQubGFtLC1wKTp0aGlzLmZhY2U9PT1QLkJBQ0s/dC5sYW09X3QodC5sYW0sLU8pOnRoaXMuZmFjZT09PVAuTEVGVCYmKHQubGFtPV90KHQubGFtLCtwKSl9aWYodGhpcy5lcyE9PTApe3ZhciBtLGQsXzttPXQucGhpPDA/MTowLGQ9TWF0aC50YW4odC5waGkpLF89dGhpcy5iL01hdGguc3FydChkKmQrdGhpcy5vbmVfbWludXNfZl9zcXVhcmVkKSx0LnBoaT1NYXRoLmF0YW4oTWF0aC5zcXJ0KHRoaXMuYSp0aGlzLmEtXypfKS8odGhpcy5vbmVfbWludXNfZipfKSksbSYmKHQucGhpPS10LnBoaSl9cmV0dXJuIHQubGFtKz10aGlzLmxvbmcwLHMueD10LmxhbSxzLnk9dC5waGksc31mdW5jdGlvbiBYdChzLHQsaCxhKXt2YXIgaTtyZXR1cm4gczx4PyhhLnZhbHVlPVMuQVJFQV8wLGk9MCk6KGk9TWF0aC5hdGFuMih0LGgpLE1hdGguYWJzKGkpPD1OP2EudmFsdWU9Uy5BUkVBXzA6aT5OJiZpPD1wK04/KGEudmFsdWU9Uy5BUkVBXzEsaS09cCk6aT5wK058fGk8PS0ocCtOKT8oYS52YWx1ZT1TLkFSRUFfMixpPWk+PTA/aS1POmkrTyk6KGEudmFsdWU9Uy5BUkVBXzMsaSs9cCkpLGl9ZnVuY3Rpb24gX3Qocyx0KXt2YXIgaD1zK3Q7cmV0dXJuIGg8LU8/aCs9dnQ6aD4rTyYmKGgtPXZ0KSxofXZhciBtcj1bIlF1YWRyaWxhdGVyYWxpemVkIFNwaGVyaWNhbCBDdWJlIiwiUXVhZHJpbGF0ZXJhbGl6ZWRfU3BoZXJpY2FsX0N1YmUiLCJxc2MiXSxfcj17aW5pdDpNcixmb3J3YXJkOmZyLGludmVyc2U6eXIsbmFtZXM6bXJ9LE1zPVtbMSwyMjE5OWUtMjEsLTcxNTUxNWUtMTAsMzExMDNlLTEwXSxbLjk5ODYsLTQ4MjI0M2UtOSwtMjQ4OTdlLTksLTEzMzA5ZS0xMF0sWy45OTU0LC04MzEwM2UtOCwtNDQ4NjA1ZS0xMCwtOTg2NzAxZS0xMl0sWy45OSwtLjAwMTM1MzY0LC01OTY2MWUtOSwzNjc3N2UtMTBdLFsuOTgyMiwtLjAwMTY3NDQyLC00NDk1NDdlLTExLC01NzI0MTFlLTExXSxbLjk3MywtLjAwMjE0ODY4LC05MDM1NzFlLTEwLDE4NzM2ZS0xMl0sWy45NiwtLjAwMzA1MDg1LC05MDA3NjFlLTEwLDE2NDkxN2UtMTFdLFsuOTQyNywtLjAwMzgyNzkyLC02NTMzODZlLTEwLC0yNjE1NGUtMTBdLFsuOTIxNiwtLjAwNDY3NzQ2LC0xMDQ1N2UtOCw0ODEyNDNlLTExXSxbLjg5NjIsLS4wMDUzNjIyMywtMzIzODMxZS0xMCwtNTQzNDMyZS0xMV0sWy44Njc5LC0uMDA2MDkzNjMsLTExMzg5OGUtOSwzMzI0ODRlLTExXSxbLjgzNSwtLjAwNjk4MzI1LC02NDAyNTNlLTEwLDkzNDk1OWUtMTJdLFsuNzk4NiwtLjAwNzU1MzM4LC01MDAwMDllLTEwLDkzNTMyNGUtMTJdLFsuNzU5NywtLjAwNzk4MzI0LC0zNTk3MWUtOSwtMjI3NjI2ZS0xMV0sWy43MTg2LC0uMDA4NTEzNjcsLTcwMTE0OWUtMTAsLTg2MzAzZS0xMF0sWy42NzMyLC0uMDA5ODYyMDksLTE5OTU2OWUtOSwxOTE5NzRlLTEwXSxbLjYyMTMsLS4wMTA0MTgsODgzOTIzZS0xMCw2MjQwNTFlLTExXSxbLjU3MjIsLS4wMDkwNjYwMSwxODJlLTYsNjI0MDUxZS0xMV0sWy41MzIyLC0uMDA2Nzc3OTcsMjc1NjA4ZS05LDYyNDA1MWUtMTFdXSxQdD1bWy01MjA0MTdlLTIzLC4wMTI0LDEyMTQzMWUtMjMsLTg0NTI4NGUtMTZdLFsuMDYyLC4wMTI0LC0xMjY3OTNlLTE0LDQyMjY0MmUtMTVdLFsuMTI0LC4wMTI0LDUwNzE3MWUtMTQsLTE2MDYwNGUtMTRdLFsuMTg2LC4wMTIzOTk5LC0xOTAxODllLTEzLDYwMDE1MmUtMTRdLFsuMjQ4LC4wMTI0MDAyLDcxMDAzOWUtMTMsLTIyNGUtMTBdLFsuMzEsLjAxMjM5OTIsLTI2NDk5N2UtMTIsODM1OTg2ZS0xM10sWy4zNzIsLjAxMjQwMjksOTg4OTgzZS0xMiwtMzExOTk0ZS0xMl0sWy40MzQsLjAxMjM4OTMsLTM2OTA5M2UtMTEsLTQzNTYyMWUtMTJdLFsuNDk1OCwuMDEyMzE5OCwtMTAyMjUyZS0xMCwtMzQ1NTIzZS0xMl0sWy41NTcxLC4wMTIxOTE2LC0xNTQwODFlLTEwLC01ODIyODhlLTEyXSxbLjYxNzYsLjAxMTk5MzgsLTI0MTQyNGUtMTAsLTUyNTMyN2UtMTJdLFsuNjc2OSwuMDExNzEzLC0zMjAyMjNlLTEwLC01MTY0MDVlLTEyXSxbLjczNDYsLjAxMTM1NDEsLTM5NzY4NGUtMTAsLTYwOTA1MmUtMTJdLFsuNzkwMywuMDEwOTEwNywtNDg5MDQyZS0xMCwtMTA0NzM5ZS0xMV0sWy44NDM1LC4wMTAzNDMxLC02NDYxNWUtOSwtMTQwMzc0ZS0xNF0sWy44OTM2LC4wMDk2OTY4NiwtNjQ2MzZlLTksLTg1NDdlLTldLFsuOTM5NCwuMDA4NDA5NDcsLTE5Mjg0MWUtOSwtNDIxMDZlLTEwXSxbLjk3NjEsLjAwNjE2NTI3LC0yNTZlLTYsLTQyMTA2ZS0xMF0sWzEsLjAwMzI4OTQ3LC0zMTkxNTllLTksLTQyMTA2ZS0xMF1dLFlzPS44NDg3LCRzPTEuMzUyMyx0aD1KLzUsZHI9MS90aCxkdD0xOCxXdD1mdW5jdGlvbihzLHQpe3JldHVybiBzWzBdK3QqKHNbMV0rdCooc1syXSt0KnNbM10pKX0scHI9ZnVuY3Rpb24ocyx0KXtyZXR1cm4gc1sxXSt0KigyKnNbMl0rdCozKnNbM10pfTtmdW5jdGlvbiB4cihzLHQsaCxhKXtmb3IodmFyIGk9dDthOy0tYSl7dmFyIGU9cyhpKTtpZihpLT1lLE1hdGguYWJzKGUpPGgpYnJlYWt9cmV0dXJuIGl9ZnVuY3Rpb24gZ3IoKXt0aGlzLngwPXRoaXMueDB8fDAsdGhpcy55MD10aGlzLnkwfHwwLHRoaXMubG9uZzA9dGhpcy5sb25nMHx8MCx0aGlzLmVzPTAsdGhpcy50aXRsZT10aGlzLnRpdGxlfHwiUm9iaW5zb24ifWZ1bmN0aW9uIHZyKHMpe3ZhciB0PWcocy54LXRoaXMubG9uZzApLGg9TWF0aC5hYnMocy55KSxhPU1hdGguZmxvb3IoaCp0aCk7YTwwP2E9MDphPj1kdCYmKGE9ZHQtMSksaD1KKihoLWRyKmEpO3ZhciBpPXt4Old0KE1zW2FdLGgpKnQseTpXdChQdFthXSxoKX07cmV0dXJuIHMueTwwJiYoaS55PS1pLnkpLGkueD1pLngqdGhpcy5hKllzK3RoaXMueDAsaS55PWkueSp0aGlzLmEqJHMrdGhpcy55MCxpfWZ1bmN0aW9uIGJyKHMpe3ZhciB0PXt4OihzLngtdGhpcy54MCkvKHRoaXMuYSpZcykseTpNYXRoLmFicyhzLnktdGhpcy55MCkvKHRoaXMuYSokcyl9O2lmKHQueT49MSl0LngvPU1zW2R0XVswXSx0Lnk9cy55PDA/LXA6cDtlbHNle3ZhciBoPU1hdGguZmxvb3IodC55KmR0KTtmb3IoaDwwP2g9MDpoPj1kdCYmKGg9ZHQtMSk7OylpZihQdFtoXVswXT50LnkpLS1oO2Vsc2UgaWYoUHRbaCsxXVswXTw9dC55KSsraDtlbHNlIGJyZWFrO3ZhciBhPVB0W2hdLGk9NSoodC55LWFbMF0pLyhQdFtoKzFdWzBdLWFbMF0pO2k9eHIoZnVuY3Rpb24oZSl7cmV0dXJuKFd0KGEsZSktdC55KS9wcihhLGUpfSxpLHgsMTAwKSx0LngvPVd0KE1zW2hdLGkpLHQueT0oNSpoK2kpKnEscy55PDAmJih0Lnk9LXQueSl9cmV0dXJuIHQueD1nKHQueCt0aGlzLmxvbmcwKSx0fXZhciB3cj1bIlJvYmluc29uIiwicm9iaW4iXSx6cj17aW5pdDpncixmb3J3YXJkOnZyLGludmVyc2U6YnIsbmFtZXM6d3J9O2Z1bmN0aW9uIENyKCl7dGhpcy5uYW1lPSJnZW9jZW50In1mdW5jdGlvbiBBcihzKXt2YXIgdD1FcyhzLHRoaXMuZXMsdGhpcy5hKTtyZXR1cm4gdH1mdW5jdGlvbiBFcihzKXt2YXIgdD1OcyhzLHRoaXMuZXMsdGhpcy5hLHRoaXMuYik7cmV0dXJuIHR9dmFyIE5yPVsiR2VvY2VudHJpYyIsImdlb2NlbnRyaWMiLCJnZW9jZW50IiwiR2VvY2VudCJdLFNyPXtpbml0OkNyLGZvcndhcmQ6QXIsaW52ZXJzZTpFcixuYW1lczpOcn0sUj17Tl9QT0xFOjAsU19QT0xFOjEsRVFVSVQ6MixPQkxJUTozfSxPdD17aDp7ZGVmOjFlNSxudW06ITB9LGF6aTp7ZGVmOjAsbnVtOiEwLGRlZ3JlZXM6ITB9LHRpbHQ6e2RlZjowLG51bTohMCxkZWdyZWVzOiEwfSxsb25nMDp7ZGVmOjAsbnVtOiEwfSxsYXQwOntkZWY6MCxudW06ITB9fTtmdW5jdGlvbiBrcigpe2lmKE9iamVjdC5rZXlzKE90KS5mb3JFYWNoKGZ1bmN0aW9uKGgpe2lmKHR5cGVvZiB0aGlzW2hdPiJ1Iil0aGlzW2hdPU90W2hdLmRlZjtlbHNle2lmKE90W2hdLm51bSYmaXNOYU4odGhpc1toXSkpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHBhcmFtZXRlciB2YWx1ZSwgbXVzdCBiZSBudW1lcmljICIraCsiID0gIit0aGlzW2hdKTtPdFtoXS5udW0mJih0aGlzW2hdPXBhcnNlRmxvYXQodGhpc1toXSkpfU90W2hdLmRlZ3JlZXMmJih0aGlzW2hdPXRoaXNbaF0qcSl9LmJpbmQodGhpcykpLE1hdGguYWJzKE1hdGguYWJzKHRoaXMubGF0MCktcCk8eD90aGlzLm1vZGU9dGhpcy5sYXQwPDA/Ui5TX1BPTEU6Ui5OX1BPTEU6TWF0aC5hYnModGhpcy5sYXQwKTx4P3RoaXMubW9kZT1SLkVRVUlUOih0aGlzLm1vZGU9Ui5PQkxJUSx0aGlzLnNpbnBoMD1NYXRoLnNpbih0aGlzLmxhdDApLHRoaXMuY29zcGgwPU1hdGguY29zKHRoaXMubGF0MCkpLHRoaXMucG4xPXRoaXMuaC90aGlzLmEsdGhpcy5wbjE8PTB8fHRoaXMucG4xPjFlMTApdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGhlaWdodCIpO3RoaXMucD0xK3RoaXMucG4xLHRoaXMucnA9MS90aGlzLnAsdGhpcy5oMT0xL3RoaXMucG4xLHRoaXMucGZhY3Q9KHRoaXMucCsxKSp0aGlzLmgxLHRoaXMuZXM9MDt2YXIgcz10aGlzLnRpbHQsdD10aGlzLmF6aTt0aGlzLmNnPU1hdGguY29zKHQpLHRoaXMuc2c9TWF0aC5zaW4odCksdGhpcy5jdz1NYXRoLmNvcyhzKSx0aGlzLnN3PU1hdGguc2luKHMpfWZ1bmN0aW9uIFByKHMpe3MueC09dGhpcy5sb25nMDt2YXIgdD1NYXRoLnNpbihzLnkpLGg9TWF0aC5jb3Mocy55KSxhPU1hdGguY29zKHMueCksaSxlO3N3aXRjaCh0aGlzLm1vZGUpe2Nhc2UgUi5PQkxJUTplPXRoaXMuc2lucGgwKnQrdGhpcy5jb3NwaDAqaCphO2JyZWFrO2Nhc2UgUi5FUVVJVDplPWgqYTticmVhaztjYXNlIFIuU19QT0xFOmU9LXQ7YnJlYWs7Y2FzZSBSLk5fUE9MRTplPXQ7YnJlYWt9c3dpdGNoKGU9dGhpcy5wbjEvKHRoaXMucC1lKSxpPWUqaCpNYXRoLnNpbihzLngpLHRoaXMubW9kZSl7Y2FzZSBSLk9CTElROmUqPXRoaXMuY29zcGgwKnQtdGhpcy5zaW5waDAqaCphO2JyZWFrO2Nhc2UgUi5FUVVJVDplKj10O2JyZWFrO2Nhc2UgUi5OX1BPTEU6ZSo9LShoKmEpO2JyZWFrO2Nhc2UgUi5TX1BPTEU6ZSo9aCphO2JyZWFrfXZhciBuLHI7cmV0dXJuIG49ZSp0aGlzLmNnK2kqdGhpcy5zZyxyPTEvKG4qdGhpcy5zdyp0aGlzLmgxK3RoaXMuY3cpLGk9KGkqdGhpcy5jZy1lKnRoaXMuc2cpKnRoaXMuY3cqcixlPW4qcixzLng9aSp0aGlzLmEscy55PWUqdGhpcy5hLHN9ZnVuY3Rpb24gT3Iocyl7cy54Lz10aGlzLmEscy55Lz10aGlzLmE7dmFyIHQ9e3g6cy54LHk6cy55fSxoLGEsaTtpPTEvKHRoaXMucG4xLXMueSp0aGlzLnN3KSxoPXRoaXMucG4xKnMueCppLGE9dGhpcy5wbjEqcy55KnRoaXMuY3cqaSxzLng9aCp0aGlzLmNnK2EqdGhpcy5zZyxzLnk9YSp0aGlzLmNnLWgqdGhpcy5zZzt2YXIgZT1WKHMueCxzLnkpO2lmKE1hdGguYWJzKGUpPHgpdC54PTAsdC55PXMueTtlbHNle3ZhciBuLHI7c3dpdGNoKHI9MS1lKmUqdGhpcy5wZmFjdCxyPSh0aGlzLnAtTWF0aC5zcXJ0KHIpKS8odGhpcy5wbjEvZStlL3RoaXMucG4xKSxuPU1hdGguc3FydCgxLXIqciksdGhpcy5tb2RlKXtjYXNlIFIuT0JMSVE6dC55PU1hdGguYXNpbihuKnRoaXMuc2lucGgwK3MueSpyKnRoaXMuY29zcGgwL2UpLHMueT0obi10aGlzLnNpbnBoMCpNYXRoLnNpbih0LnkpKSplLHMueCo9cip0aGlzLmNvc3BoMDticmVhaztjYXNlIFIuRVFVSVQ6dC55PU1hdGguYXNpbihzLnkqci9lKSxzLnk9biplLHMueCo9cjticmVhaztjYXNlIFIuTl9QT0xFOnQueT1NYXRoLmFzaW4obikscy55PS1zLnk7YnJlYWs7Y2FzZSBSLlNfUE9MRTp0Lnk9LU1hdGguYXNpbihuKTticmVha310Lng9TWF0aC5hdGFuMihzLngscy55KX1yZXR1cm4gcy54PXQueCt0aGlzLmxvbmcwLHMueT10Lnksc312YXIgSXI9WyJUaWx0ZWRfUGVyc3BlY3RpdmUiLCJ0cGVycyJdLHFyPXtpbml0OmtyLGZvcndhcmQ6UHIsaW52ZXJzZTpPcixuYW1lczpJcn07ZnVuY3Rpb24gUnIoKXtpZih0aGlzLmZsaXBfYXhpcz10aGlzLnN3ZWVwPT09IngiPzE6MCx0aGlzLmg9TnVtYmVyKHRoaXMuaCksdGhpcy5yYWRpdXNfZ18xPXRoaXMuaC90aGlzLmEsdGhpcy5yYWRpdXNfZ18xPD0wfHx0aGlzLnJhZGl1c19nXzE+MWUxMCl0aHJvdyBuZXcgRXJyb3I7aWYodGhpcy5yYWRpdXNfZz0xK3RoaXMucmFkaXVzX2dfMSx0aGlzLkM9dGhpcy5yYWRpdXNfZyp0aGlzLnJhZGl1c19nLTEsdGhpcy5lcyE9PTApe3ZhciBzPTEtdGhpcy5lcyx0PTEvczt0aGlzLnJhZGl1c19wPU1hdGguc3FydChzKSx0aGlzLnJhZGl1c19wMj1zLHRoaXMucmFkaXVzX3BfaW52Mj10LHRoaXMuc2hhcGU9ImVsbGlwc2UifWVsc2UgdGhpcy5yYWRpdXNfcD0xLHRoaXMucmFkaXVzX3AyPTEsdGhpcy5yYWRpdXNfcF9pbnYyPTEsdGhpcy5zaGFwZT0ic3BoZXJlIjt0aGlzLnRpdGxlfHwodGhpcy50aXRsZT0iR2Vvc3RhdGlvbmFyeSBTYXRlbGxpdGUgVmlldyIpfWZ1bmN0aW9uIFRyKHMpe3ZhciB0PXMueCxoPXMueSxhLGksZSxuO2lmKHQ9dC10aGlzLmxvbmcwLHRoaXMuc2hhcGU9PT0iZWxsaXBzZSIpe2g9TWF0aC5hdGFuKHRoaXMucmFkaXVzX3AyKk1hdGgudGFuKGgpKTt2YXIgcj10aGlzLnJhZGl1c19wL1YodGhpcy5yYWRpdXNfcCpNYXRoLmNvcyhoKSxNYXRoLnNpbihoKSk7aWYoaT1yKk1hdGguY29zKHQpKk1hdGguY29zKGgpLGU9cipNYXRoLnNpbih0KSpNYXRoLmNvcyhoKSxuPXIqTWF0aC5zaW4oaCksKHRoaXMucmFkaXVzX2ctaSkqaS1lKmUtbipuKnRoaXMucmFkaXVzX3BfaW52MjwwKXJldHVybiBzLng9TnVtYmVyLk5hTixzLnk9TnVtYmVyLk5hTixzO2E9dGhpcy5yYWRpdXNfZy1pLHRoaXMuZmxpcF9heGlzPyhzLng9dGhpcy5yYWRpdXNfZ18xKk1hdGguYXRhbihlL1YobixhKSkscy55PXRoaXMucmFkaXVzX2dfMSpNYXRoLmF0YW4obi9hKSk6KHMueD10aGlzLnJhZGl1c19nXzEqTWF0aC5hdGFuKGUvYSkscy55PXRoaXMucmFkaXVzX2dfMSpNYXRoLmF0YW4obi9WKGUsYSkpKX1lbHNlIHRoaXMuc2hhcGU9PT0ic3BoZXJlIiYmKGE9TWF0aC5jb3MoaCksaT1NYXRoLmNvcyh0KSphLGU9TWF0aC5zaW4odCkqYSxuPU1hdGguc2luKGgpLGE9dGhpcy5yYWRpdXNfZy1pLHRoaXMuZmxpcF9heGlzPyhzLng9dGhpcy5yYWRpdXNfZ18xKk1hdGguYXRhbihlL1YobixhKSkscy55PXRoaXMucmFkaXVzX2dfMSpNYXRoLmF0YW4obi9hKSk6KHMueD10aGlzLnJhZGl1c19nXzEqTWF0aC5hdGFuKGUvYSkscy55PXRoaXMucmFkaXVzX2dfMSpNYXRoLmF0YW4obi9WKGUsYSkpKSk7cmV0dXJuIHMueD1zLngqdGhpcy5hLHMueT1zLnkqdGhpcy5hLHN9ZnVuY3Rpb24gTHIocyl7dmFyIHQ9LTEsaD0wLGE9MCxpLGUsbixyO2lmKHMueD1zLngvdGhpcy5hLHMueT1zLnkvdGhpcy5hLHRoaXMuc2hhcGU9PT0iZWxsaXBzZSIpe3RoaXMuZmxpcF9heGlzPyhhPU1hdGgudGFuKHMueS90aGlzLnJhZGl1c19nXzEpLGg9TWF0aC50YW4ocy54L3RoaXMucmFkaXVzX2dfMSkqVigxLGEpKTooaD1NYXRoLnRhbihzLngvdGhpcy5yYWRpdXNfZ18xKSxhPU1hdGgudGFuKHMueS90aGlzLnJhZGl1c19nXzEpKlYoMSxoKSk7dmFyIG89YS90aGlzLnJhZGl1c19wO2lmKGk9aCpoK28qbyt0KnQsZT0yKnRoaXMucmFkaXVzX2cqdCxuPWUqZS00KmkqdGhpcy5DLG48MClyZXR1cm4gcy54PU51bWJlci5OYU4scy55PU51bWJlci5OYU4scztyPSgtZS1NYXRoLnNxcnQobikpLygyKmkpLHQ9dGhpcy5yYWRpdXNfZytyKnQsaCo9cixhKj1yLHMueD1NYXRoLmF0YW4yKGgsdCkscy55PU1hdGguYXRhbihhKk1hdGguY29zKHMueCkvdCkscy55PU1hdGguYXRhbih0aGlzLnJhZGl1c19wX2ludjIqTWF0aC50YW4ocy55KSl9ZWxzZSBpZih0aGlzLnNoYXBlPT09InNwaGVyZSIpe2lmKHRoaXMuZmxpcF9heGlzPyhhPU1hdGgudGFuKHMueS90aGlzLnJhZGl1c19nXzEpLGg9TWF0aC50YW4ocy54L3RoaXMucmFkaXVzX2dfMSkqTWF0aC5zcXJ0KDErYSphKSk6KGg9TWF0aC50YW4ocy54L3RoaXMucmFkaXVzX2dfMSksYT1NYXRoLnRhbihzLnkvdGhpcy5yYWRpdXNfZ18xKSpNYXRoLnNxcnQoMStoKmgpKSxpPWgqaCthKmErdCp0LGU9Mip0aGlzLnJhZGl1c19nKnQsbj1lKmUtNCppKnRoaXMuQyxuPDApcmV0dXJuIHMueD1OdW1iZXIuTmFOLHMueT1OdW1iZXIuTmFOLHM7cj0oLWUtTWF0aC5zcXJ0KG4pKS8oMippKSx0PXRoaXMucmFkaXVzX2crcip0LGgqPXIsYSo9cixzLng9TWF0aC5hdGFuMihoLHQpLHMueT1NYXRoLmF0YW4oYSpNYXRoLmNvcyhzLngpL3QpfXJldHVybiBzLng9cy54K3RoaXMubG9uZzAsc312YXIganI9WyJHZW9zdGF0aW9uYXJ5IFNhdGVsbGl0ZSBWaWV3IiwiR2Vvc3RhdGlvbmFyeV9TYXRlbGxpdGUiLCJnZW9zIl0sR3I9e2luaXQ6UnIsZm9yd2FyZDpUcixpbnZlcnNlOkxyLG5hbWVzOmpyfTtmdW5jdGlvbiBCcihzKXtzLlByb2oucHJvamVjdGlvbnMuYWRkKER0KSxzLlByb2oucHJvamVjdGlvbnMuYWRkKFV0KSxzLlByb2oucHJvamVjdGlvbnMuYWRkKFdhKSxzLlByb2oucHJvamVjdGlvbnMuYWRkKGhpKSxzLlByb2oucHJvamVjdGlvbnMuYWRkKG9pKSxzLlByb2oucHJvamVjdGlvbnMuYWRkKGZpKSxzLlByb2oucHJvamVjdGlvbnMuYWRkKHhpKSxzLlByb2oucHJvamVjdGlvbnMuYWRkKHppKSxzLlByb2oucHJvamVjdGlvbnMuYWRkKFNpKSxzLlByb2oucHJvamVjdGlvbnMuYWRkKHFpKSxzLlByb2oucHJvamVjdGlvbnMuYWRkKEtpKSxzLlByb2oucHJvamVjdGlvbnMuYWRkKGFlKSxzLlByb2oucHJvamVjdGlvbnMuYWRkKG9lKSxzLlByb2oucHJvamVjdGlvbnMuYWRkKHllKSxzLlByb2oucHJvamVjdGlvbnMuYWRkKHhlKSxzLlByb2oucHJvamVjdGlvbnMuYWRkKHplKSxzLlByb2oucHJvamVjdGlvbnMuYWRkKFNlKSxzLlByb2oucHJvamVjdGlvbnMuYWRkKHFlKSxzLlByb2oucHJvamVjdGlvbnMuYWRkKEJlKSxzLlByb2oucHJvamVjdGlvbnMuYWRkKFhlKSxzLlByb2oucHJvamVjdGlvbnMuYWRkKEplKSxzLlByb2oucHJvamVjdGlvbnMuYWRkKHNyKSxzLlByb2oucHJvamVjdGlvbnMuYWRkKHJyKSxzLlByb2oucHJvamVjdGlvbnMuYWRkKGNyKSxzLlByb2oucHJvamVjdGlvbnMuYWRkKF9yKSxzLlByb2oucHJvamVjdGlvbnMuYWRkKHpyKSxzLlByb2oucHJvamVjdGlvbnMuYWRkKFNyKSxzLlByb2oucHJvamVjdGlvbnMuYWRkKHFyKSxzLlByb2oucHJvamVjdGlvbnMuYWRkKEdyKX1ELmRlZmF1bHREYXR1bT0iV0dTODQiLEQuUHJvaj1ZLEQuV0dTODQ9bmV3IEQuUHJvaigiV0dTODQiKSxELlBvaW50PU10LEQudG9Qb2ludD1PcyxELmRlZnM9VCxELm5hZGdyaWQ9VmgsRC50cmFuc2Zvcm09QnQsRC5tZ3JzPXVhLEQudmVyc2lvbj0iX19WRVJTSU9OX18iLEJyKEQpO2NvbnN0IHNoPSIxNDQiO2Z1bmN0aW9uIGhoKHMsdCxoKXtyZXR1cm4gTWF0aC5tYXgodCxNYXRoLm1pbihoLHMpKX1jbGFzcyBhaHtjb25zdHJ1Y3Rvcih0PTAsaD0wLGE9MCxpPTEpe3RoaXMuaXNRdWF0ZXJuaW9uPSEwLHRoaXMuX3g9dCx0aGlzLl95PWgsdGhpcy5fej1hLHRoaXMuX3c9aX1zdGF0aWMgc2xlcnBGbGF0KHQsaCxhLGksZSxuLHIpe2xldCBvPWFbaSswXSxsPWFbaSsxXSxjPWFbaSsyXSx1PWFbaSszXTtjb25zdCBNPWVbbiswXSxmPWVbbisxXSx5PWVbbisyXSxtPWVbbiszXTtpZihyPT09MCl7dFtoKzBdPW8sdFtoKzFdPWwsdFtoKzJdPWMsdFtoKzNdPXU7cmV0dXJufWlmKHI9PT0xKXt0W2grMF09TSx0W2grMV09Zix0W2grMl09eSx0W2grM109bTtyZXR1cm59aWYodSE9PW18fG8hPT1NfHxsIT09Znx8YyE9PXkpe2xldCBkPTEtcjtjb25zdCBfPW8qTStsKmYrYyp5K3UqbSx2PV8+PTA/MTotMSx3PTEtXypfO2lmKHc+TnVtYmVyLkVQU0lMT04pe2NvbnN0IGI9TWF0aC5zcXJ0KHcpLHo9TWF0aC5hdGFuMihiLF8qdik7ZD1NYXRoLnNpbihkKnopL2Iscj1NYXRoLnNpbihyKnopL2J9Y29uc3QgQT1yKnY7aWYobz1vKmQrTSpBLGw9bCpkK2YqQSxjPWMqZCt5KkEsdT11KmQrbSpBLGQ9PT0xLXIpe2NvbnN0IGI9MS9NYXRoLnNxcnQobypvK2wqbCtjKmMrdSp1KTtvKj1iLGwqPWIsYyo9Yix1Kj1ifX10W2hdPW8sdFtoKzFdPWwsdFtoKzJdPWMsdFtoKzNdPXV9c3RhdGljIG11bHRpcGx5UXVhdGVybmlvbnNGbGF0KHQsaCxhLGksZSxuKXtjb25zdCByPWFbaV0sbz1hW2krMV0sbD1hW2krMl0sYz1hW2krM10sdT1lW25dLE09ZVtuKzFdLGY9ZVtuKzJdLHk9ZVtuKzNdO3JldHVybiB0W2hdPXIqeStjKnUrbypmLWwqTSx0W2grMV09byp5K2MqTStsKnUtcipmLHRbaCsyXT1sKnkrYypmK3IqTS1vKnUsdFtoKzNdPWMqeS1yKnUtbypNLWwqZix0fWdldCB4KCl7cmV0dXJuIHRoaXMuX3h9c2V0IHgodCl7dGhpcy5feD10LHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKX1nZXQgeSgpe3JldHVybiB0aGlzLl95fXNldCB5KHQpe3RoaXMuX3k9dCx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCl9Z2V0IHooKXtyZXR1cm4gdGhpcy5fen1zZXQgeih0KXt0aGlzLl96PXQsdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpfWdldCB3KCl7cmV0dXJuIHRoaXMuX3d9c2V0IHcodCl7dGhpcy5fdz10LHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKX1zZXQodCxoLGEsaSl7cmV0dXJuIHRoaXMuX3g9dCx0aGlzLl95PWgsdGhpcy5fej1hLHRoaXMuX3c9aSx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc31jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLl94LHRoaXMuX3ksdGhpcy5feix0aGlzLl93KX1jb3B5KHQpe3JldHVybiB0aGlzLl94PXQueCx0aGlzLl95PXQueSx0aGlzLl96PXQueix0aGlzLl93PXQudyx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc31zZXRGcm9tRXVsZXIodCxoKXtjb25zdCBhPXQuX3gsaT10Ll95LGU9dC5feixuPXQuX29yZGVyLHI9TWF0aC5jb3Msbz1NYXRoLnNpbixsPXIoYS8yKSxjPXIoaS8yKSx1PXIoZS8yKSxNPW8oYS8yKSxmPW8oaS8yKSx5PW8oZS8yKTtzd2l0Y2gobil7Y2FzZSJYWVoiOnRoaXMuX3g9TSpjKnUrbCpmKnksdGhpcy5feT1sKmYqdS1NKmMqeSx0aGlzLl96PWwqYyp5K00qZip1LHRoaXMuX3c9bCpjKnUtTSpmKnk7YnJlYWs7Y2FzZSJZWFoiOnRoaXMuX3g9TSpjKnUrbCpmKnksdGhpcy5feT1sKmYqdS1NKmMqeSx0aGlzLl96PWwqYyp5LU0qZip1LHRoaXMuX3c9bCpjKnUrTSpmKnk7YnJlYWs7Y2FzZSJaWFkiOnRoaXMuX3g9TSpjKnUtbCpmKnksdGhpcy5feT1sKmYqdStNKmMqeSx0aGlzLl96PWwqYyp5K00qZip1LHRoaXMuX3c9bCpjKnUtTSpmKnk7YnJlYWs7Y2FzZSJaWVgiOnRoaXMuX3g9TSpjKnUtbCpmKnksdGhpcy5feT1sKmYqdStNKmMqeSx0aGlzLl96PWwqYyp5LU0qZip1LHRoaXMuX3c9bCpjKnUrTSpmKnk7YnJlYWs7Y2FzZSJZWlgiOnRoaXMuX3g9TSpjKnUrbCpmKnksdGhpcy5feT1sKmYqdStNKmMqeSx0aGlzLl96PWwqYyp5LU0qZip1LHRoaXMuX3c9bCpjKnUtTSpmKnk7YnJlYWs7Y2FzZSJYWlkiOnRoaXMuX3g9TSpjKnUtbCpmKnksdGhpcy5feT1sKmYqdS1NKmMqeSx0aGlzLl96PWwqYyp5K00qZip1LHRoaXMuX3c9bCpjKnUrTSpmKnk7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLndhcm4oIlRIUkVFLlF1YXRlcm5pb246IC5zZXRGcm9tRXVsZXIoKSBlbmNvdW50ZXJlZCBhbiB1bmtub3duIG9yZGVyOiAiK24pfXJldHVybiBoIT09ITEmJnRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfXNldEZyb21BeGlzQW5nbGUodCxoKXtjb25zdCBhPWgvMixpPU1hdGguc2luKGEpO3JldHVybiB0aGlzLl94PXQueCppLHRoaXMuX3k9dC55KmksdGhpcy5fej10LnoqaSx0aGlzLl93PU1hdGguY29zKGEpLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfXNldEZyb21Sb3RhdGlvbk1hdHJpeCh0KXtjb25zdCBoPXQuZWxlbWVudHMsYT1oWzBdLGk9aFs0XSxlPWhbOF0sbj1oWzFdLHI9aFs1XSxvPWhbOV0sbD1oWzJdLGM9aFs2XSx1PWhbMTBdLE09YStyK3U7aWYoTT4wKXtjb25zdCBmPS41L01hdGguc3FydChNKzEpO3RoaXMuX3c9LjI1L2YsdGhpcy5feD0oYy1vKSpmLHRoaXMuX3k9KGUtbCkqZix0aGlzLl96PShuLWkpKmZ9ZWxzZSBpZihhPnImJmE+dSl7Y29uc3QgZj0yKk1hdGguc3FydCgxK2Etci11KTt0aGlzLl93PShjLW8pL2YsdGhpcy5feD0uMjUqZix0aGlzLl95PShpK24pL2YsdGhpcy5fej0oZStsKS9mfWVsc2UgaWYocj51KXtjb25zdCBmPTIqTWF0aC5zcXJ0KDErci1hLXUpO3RoaXMuX3c9KGUtbCkvZix0aGlzLl94PShpK24pL2YsdGhpcy5feT0uMjUqZix0aGlzLl96PShvK2MpL2Z9ZWxzZXtjb25zdCBmPTIqTWF0aC5zcXJ0KDErdS1hLXIpO3RoaXMuX3c9KG4taSkvZix0aGlzLl94PShlK2wpL2YsdGhpcy5feT0obytjKS9mLHRoaXMuX3o9LjI1KmZ9cmV0dXJuIHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfXNldEZyb21Vbml0VmVjdG9ycyh0LGgpe2xldCBhPXQuZG90KGgpKzE7cmV0dXJuIGE8TnVtYmVyLkVQU0lMT04/KGE9MCxNYXRoLmFicyh0LngpPk1hdGguYWJzKHQueik/KHRoaXMuX3g9LXQueSx0aGlzLl95PXQueCx0aGlzLl96PTAsdGhpcy5fdz1hKToodGhpcy5feD0wLHRoaXMuX3k9LXQueix0aGlzLl96PXQueSx0aGlzLl93PWEpKToodGhpcy5feD10LnkqaC56LXQueipoLnksdGhpcy5feT10LnoqaC54LXQueCpoLnosdGhpcy5fej10LngqaC55LXQueSpoLngsdGhpcy5fdz1hKSx0aGlzLm5vcm1hbGl6ZSgpfWFuZ2xlVG8odCl7cmV0dXJuIDIqTWF0aC5hY29zKE1hdGguYWJzKGhoKHRoaXMuZG90KHQpLC0xLDEpKSl9cm90YXRlVG93YXJkcyh0LGgpe2NvbnN0IGE9dGhpcy5hbmdsZVRvKHQpO2lmKGE9PT0wKXJldHVybiB0aGlzO2NvbnN0IGk9TWF0aC5taW4oMSxoL2EpO3JldHVybiB0aGlzLnNsZXJwKHQsaSksdGhpc31pZGVudGl0eSgpe3JldHVybiB0aGlzLnNldCgwLDAsMCwxKX1pbnZlcnQoKXtyZXR1cm4gdGhpcy5jb25qdWdhdGUoKX1jb25qdWdhdGUoKXtyZXR1cm4gdGhpcy5feCo9LTEsdGhpcy5feSo9LTEsdGhpcy5feio9LTEsdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpLHRoaXN9ZG90KHQpe3JldHVybiB0aGlzLl94KnQuX3grdGhpcy5feSp0Ll95K3RoaXMuX3oqdC5feit0aGlzLl93KnQuX3d9bGVuZ3RoU3EoKXtyZXR1cm4gdGhpcy5feCp0aGlzLl94K3RoaXMuX3kqdGhpcy5feSt0aGlzLl96KnRoaXMuX3ordGhpcy5fdyp0aGlzLl93fWxlbmd0aCgpe3JldHVybiBNYXRoLnNxcnQodGhpcy5feCp0aGlzLl94K3RoaXMuX3kqdGhpcy5feSt0aGlzLl96KnRoaXMuX3ordGhpcy5fdyp0aGlzLl93KX1ub3JtYWxpemUoKXtsZXQgdD10aGlzLmxlbmd0aCgpO3JldHVybiB0PT09MD8odGhpcy5feD0wLHRoaXMuX3k9MCx0aGlzLl96PTAsdGhpcy5fdz0xKToodD0xL3QsdGhpcy5feD10aGlzLl94KnQsdGhpcy5feT10aGlzLl95KnQsdGhpcy5fej10aGlzLl96KnQsdGhpcy5fdz10aGlzLl93KnQpLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfW11bHRpcGx5KHQpe3JldHVybiB0aGlzLm11bHRpcGx5UXVhdGVybmlvbnModGhpcyx0KX1wcmVtdWx0aXBseSh0KXtyZXR1cm4gdGhpcy5tdWx0aXBseVF1YXRlcm5pb25zKHQsdGhpcyl9bXVsdGlwbHlRdWF0ZXJuaW9ucyh0LGgpe2NvbnN0IGE9dC5feCxpPXQuX3ksZT10Ll96LG49dC5fdyxyPWguX3gsbz1oLl95LGw9aC5feixjPWguX3c7cmV0dXJuIHRoaXMuX3g9YSpjK24qcitpKmwtZSpvLHRoaXMuX3k9aSpjK24qbytlKnItYSpsLHRoaXMuX3o9ZSpjK24qbCthKm8taSpyLHRoaXMuX3c9bipjLWEqci1pKm8tZSpsLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfXNsZXJwKHQsaCl7aWYoaD09PTApcmV0dXJuIHRoaXM7aWYoaD09PTEpcmV0dXJuIHRoaXMuY29weSh0KTtjb25zdCBhPXRoaXMuX3gsaT10aGlzLl95LGU9dGhpcy5feixuPXRoaXMuX3c7bGV0IHI9bip0Ll93K2EqdC5feCtpKnQuX3krZSp0Ll96O2lmKHI8MD8odGhpcy5fdz0tdC5fdyx0aGlzLl94PS10Ll94LHRoaXMuX3k9LXQuX3ksdGhpcy5fej0tdC5feixyPS1yKTp0aGlzLmNvcHkodCkscj49MSlyZXR1cm4gdGhpcy5fdz1uLHRoaXMuX3g9YSx0aGlzLl95PWksdGhpcy5fej1lLHRoaXM7Y29uc3Qgbz0xLXIqcjtpZihvPD1OdW1iZXIuRVBTSUxPTil7Y29uc3QgZj0xLWg7cmV0dXJuIHRoaXMuX3c9ZipuK2gqdGhpcy5fdyx0aGlzLl94PWYqYStoKnRoaXMuX3gsdGhpcy5feT1mKmkraCp0aGlzLl95LHRoaXMuX3o9ZiplK2gqdGhpcy5feix0aGlzLm5vcm1hbGl6ZSgpLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfWNvbnN0IGw9TWF0aC5zcXJ0KG8pLGM9TWF0aC5hdGFuMihsLHIpLHU9TWF0aC5zaW4oKDEtaCkqYykvbCxNPU1hdGguc2luKGgqYykvbDtyZXR1cm4gdGhpcy5fdz1uKnUrdGhpcy5fdypNLHRoaXMuX3g9YSp1K3RoaXMuX3gqTSx0aGlzLl95PWkqdSt0aGlzLl95Kk0sdGhpcy5fej1lKnUrdGhpcy5feipNLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfXNsZXJwUXVhdGVybmlvbnModCxoLGEpe3JldHVybiB0aGlzLmNvcHkodCkuc2xlcnAoaCxhKX1yYW5kb20oKXtjb25zdCB0PU1hdGgucmFuZG9tKCksaD1NYXRoLnNxcnQoMS10KSxhPU1hdGguc3FydCh0KSxpPTIqTWF0aC5QSSpNYXRoLnJhbmRvbSgpLGU9MipNYXRoLlBJKk1hdGgucmFuZG9tKCk7cmV0dXJuIHRoaXMuc2V0KGgqTWF0aC5jb3MoaSksYSpNYXRoLnNpbihlKSxhKk1hdGguY29zKGUpLGgqTWF0aC5zaW4oaSkpfWVxdWFscyh0KXtyZXR1cm4gdC5feD09PXRoaXMuX3gmJnQuX3k9PT10aGlzLl95JiZ0Ll96PT09dGhpcy5feiYmdC5fdz09PXRoaXMuX3d9ZnJvbUFycmF5KHQsaD0wKXtyZXR1cm4gdGhpcy5feD10W2hdLHRoaXMuX3k9dFtoKzFdLHRoaXMuX3o9dFtoKzJdLHRoaXMuX3c9dFtoKzNdLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfXRvQXJyYXkodD1bXSxoPTApe3JldHVybiB0W2hdPXRoaXMuX3gsdFtoKzFdPXRoaXMuX3ksdFtoKzJdPXRoaXMuX3osdFtoKzNdPXRoaXMuX3csdH1mcm9tQnVmZmVyQXR0cmlidXRlKHQsaCl7cmV0dXJuIHRoaXMuX3g9dC5nZXRYKGgpLHRoaXMuX3k9dC5nZXRZKGgpLHRoaXMuX3o9dC5nZXRaKGgpLHRoaXMuX3c9dC5nZXRXKGgpLHRoaXN9X29uQ2hhbmdlKHQpe3JldHVybiB0aGlzLl9vbkNoYW5nZUNhbGxiYWNrPXQsdGhpc31fb25DaGFuZ2VDYWxsYmFjaygpe30qW1N5bWJvbC5pdGVyYXRvcl0oKXt5aWVsZCB0aGlzLl94LHlpZWxkIHRoaXMuX3kseWllbGQgdGhpcy5feix5aWVsZCB0aGlzLl93fX1jbGFzcyBGe2NvbnN0cnVjdG9yKHQ9MCxoPTAsYT0wKXtGLnByb3RvdHlwZS5pc1ZlY3RvcjM9ITAsdGhpcy54PXQsdGhpcy55PWgsdGhpcy56PWF9c2V0KHQsaCxhKXtyZXR1cm4gYT09PXZvaWQgMCYmKGE9dGhpcy56KSx0aGlzLng9dCx0aGlzLnk9aCx0aGlzLno9YSx0aGlzfXNldFNjYWxhcih0KXtyZXR1cm4gdGhpcy54PXQsdGhpcy55PXQsdGhpcy56PXQsdGhpc31zZXRYKHQpe3JldHVybiB0aGlzLng9dCx0aGlzfXNldFkodCl7cmV0dXJuIHRoaXMueT10LHRoaXN9c2V0Wih0KXtyZXR1cm4gdGhpcy56PXQsdGhpc31zZXRDb21wb25lbnQodCxoKXtzd2l0Y2godCl7Y2FzZSAwOnRoaXMueD1oO2JyZWFrO2Nhc2UgMTp0aGlzLnk9aDticmVhaztjYXNlIDI6dGhpcy56PWg7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoImluZGV4IGlzIG91dCBvZiByYW5nZTogIit0KX1yZXR1cm4gdGhpc31nZXRDb21wb25lbnQodCl7c3dpdGNoKHQpe2Nhc2UgMDpyZXR1cm4gdGhpcy54O2Nhc2UgMTpyZXR1cm4gdGhpcy55O2Nhc2UgMjpyZXR1cm4gdGhpcy56O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJpbmRleCBpcyBvdXQgb2YgcmFuZ2U6ICIrdCl9fWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueCx0aGlzLnksdGhpcy56KX1jb3B5KHQpe3JldHVybiB0aGlzLng9dC54LHRoaXMueT10LnksdGhpcy56PXQueix0aGlzfWFkZCh0KXtyZXR1cm4gdGhpcy54Kz10LngsdGhpcy55Kz10LnksdGhpcy56Kz10LnosdGhpc31hZGRTY2FsYXIodCl7cmV0dXJuIHRoaXMueCs9dCx0aGlzLnkrPXQsdGhpcy56Kz10LHRoaXN9YWRkVmVjdG9ycyh0LGgpe3JldHVybiB0aGlzLng9dC54K2gueCx0aGlzLnk9dC55K2gueSx0aGlzLno9dC56K2gueix0aGlzfWFkZFNjYWxlZFZlY3Rvcih0LGgpe3JldHVybiB0aGlzLngrPXQueCpoLHRoaXMueSs9dC55KmgsdGhpcy56Kz10LnoqaCx0aGlzfXN1Yih0KXtyZXR1cm4gdGhpcy54LT10LngsdGhpcy55LT10LnksdGhpcy56LT10LnosdGhpc31zdWJTY2FsYXIodCl7cmV0dXJuIHRoaXMueC09dCx0aGlzLnktPXQsdGhpcy56LT10LHRoaXN9c3ViVmVjdG9ycyh0LGgpe3JldHVybiB0aGlzLng9dC54LWgueCx0aGlzLnk9dC55LWgueSx0aGlzLno9dC56LWgueix0aGlzfW11bHRpcGx5KHQpe3JldHVybiB0aGlzLngqPXQueCx0aGlzLnkqPXQueSx0aGlzLnoqPXQueix0aGlzfW11bHRpcGx5U2NhbGFyKHQpe3JldHVybiB0aGlzLngqPXQsdGhpcy55Kj10LHRoaXMueio9dCx0aGlzfW11bHRpcGx5VmVjdG9ycyh0LGgpe3JldHVybiB0aGlzLng9dC54KmgueCx0aGlzLnk9dC55KmgueSx0aGlzLno9dC56Kmgueix0aGlzfWFwcGx5RXVsZXIodCl7cmV0dXJuIHRoaXMuYXBwbHlRdWF0ZXJuaW9uKGloLnNldEZyb21FdWxlcih0KSl9YXBwbHlBeGlzQW5nbGUodCxoKXtyZXR1cm4gdGhpcy5hcHBseVF1YXRlcm5pb24oaWguc2V0RnJvbUF4aXNBbmdsZSh0LGgpKX1hcHBseU1hdHJpeDModCl7Y29uc3QgaD10aGlzLngsYT10aGlzLnksaT10aGlzLnosZT10LmVsZW1lbnRzO3JldHVybiB0aGlzLng9ZVswXSpoK2VbM10qYStlWzZdKmksdGhpcy55PWVbMV0qaCtlWzRdKmErZVs3XSppLHRoaXMuej1lWzJdKmgrZVs1XSphK2VbOF0qaSx0aGlzfWFwcGx5Tm9ybWFsTWF0cml4KHQpe3JldHVybiB0aGlzLmFwcGx5TWF0cml4Myh0KS5ub3JtYWxpemUoKX1hcHBseU1hdHJpeDQodCl7Y29uc3QgaD10aGlzLngsYT10aGlzLnksaT10aGlzLnosZT10LmVsZW1lbnRzLG49MS8oZVszXSpoK2VbN10qYStlWzExXSppK2VbMTVdKTtyZXR1cm4gdGhpcy54PShlWzBdKmgrZVs0XSphK2VbOF0qaStlWzEyXSkqbix0aGlzLnk9KGVbMV0qaCtlWzVdKmErZVs5XSppK2VbMTNdKSpuLHRoaXMuej0oZVsyXSpoK2VbNl0qYStlWzEwXSppK2VbMTRdKSpuLHRoaXN9YXBwbHlRdWF0ZXJuaW9uKHQpe2NvbnN0IGg9dGhpcy54LGE9dGhpcy55LGk9dGhpcy56LGU9dC54LG49dC55LHI9dC56LG89dC53LGw9bypoK24qaS1yKmEsYz1vKmErcipoLWUqaSx1PW8qaStlKmEtbipoLE09LWUqaC1uKmEtcippO3JldHVybiB0aGlzLng9bCpvK00qLWUrYyotci11Ki1uLHRoaXMueT1jKm8rTSotbit1Ki1lLWwqLXIsdGhpcy56PXUqbytNKi1yK2wqLW4tYyotZSx0aGlzfXByb2plY3QodCl7cmV0dXJuIHRoaXMuYXBwbHlNYXRyaXg0KHQubWF0cml4V29ybGRJbnZlcnNlKS5hcHBseU1hdHJpeDQodC5wcm9qZWN0aW9uTWF0cml4KX11bnByb2plY3QodCl7cmV0dXJuIHRoaXMuYXBwbHlNYXRyaXg0KHQucHJvamVjdGlvbk1hdHJpeEludmVyc2UpLmFwcGx5TWF0cml4NCh0Lm1hdHJpeFdvcmxkKX10cmFuc2Zvcm1EaXJlY3Rpb24odCl7Y29uc3QgaD10aGlzLngsYT10aGlzLnksaT10aGlzLnosZT10LmVsZW1lbnRzO3JldHVybiB0aGlzLng9ZVswXSpoK2VbNF0qYStlWzhdKmksdGhpcy55PWVbMV0qaCtlWzVdKmErZVs5XSppLHRoaXMuej1lWzJdKmgrZVs2XSphK2VbMTBdKmksdGhpcy5ub3JtYWxpemUoKX1kaXZpZGUodCl7cmV0dXJuIHRoaXMueC89dC54LHRoaXMueS89dC55LHRoaXMuei89dC56LHRoaXN9ZGl2aWRlU2NhbGFyKHQpe3JldHVybiB0aGlzLm11bHRpcGx5U2NhbGFyKDEvdCl9bWluKHQpe3JldHVybiB0aGlzLng9TWF0aC5taW4odGhpcy54LHQueCksdGhpcy55PU1hdGgubWluKHRoaXMueSx0LnkpLHRoaXMuej1NYXRoLm1pbih0aGlzLnosdC56KSx0aGlzfW1heCh0KXtyZXR1cm4gdGhpcy54PU1hdGgubWF4KHRoaXMueCx0LngpLHRoaXMueT1NYXRoLm1heCh0aGlzLnksdC55KSx0aGlzLno9TWF0aC5tYXgodGhpcy56LHQueiksdGhpc31jbGFtcCh0LGgpe3JldHVybiB0aGlzLng9TWF0aC5tYXgodC54LE1hdGgubWluKGgueCx0aGlzLngpKSx0aGlzLnk9TWF0aC5tYXgodC55LE1hdGgubWluKGgueSx0aGlzLnkpKSx0aGlzLno9TWF0aC5tYXgodC56LE1hdGgubWluKGgueix0aGlzLnopKSx0aGlzfWNsYW1wU2NhbGFyKHQsaCl7cmV0dXJuIHRoaXMueD1NYXRoLm1heCh0LE1hdGgubWluKGgsdGhpcy54KSksdGhpcy55PU1hdGgubWF4KHQsTWF0aC5taW4oaCx0aGlzLnkpKSx0aGlzLno9TWF0aC5tYXgodCxNYXRoLm1pbihoLHRoaXMueikpLHRoaXN9Y2xhbXBMZW5ndGgodCxoKXtjb25zdCBhPXRoaXMubGVuZ3RoKCk7cmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKGF8fDEpLm11bHRpcGx5U2NhbGFyKE1hdGgubWF4KHQsTWF0aC5taW4oaCxhKSkpfWZsb29yKCl7cmV0dXJuIHRoaXMueD1NYXRoLmZsb29yKHRoaXMueCksdGhpcy55PU1hdGguZmxvb3IodGhpcy55KSx0aGlzLno9TWF0aC5mbG9vcih0aGlzLnopLHRoaXN9Y2VpbCgpe3JldHVybiB0aGlzLng9TWF0aC5jZWlsKHRoaXMueCksdGhpcy55PU1hdGguY2VpbCh0aGlzLnkpLHRoaXMuej1NYXRoLmNlaWwodGhpcy56KSx0aGlzfXJvdW5kKCl7cmV0dXJuIHRoaXMueD1NYXRoLnJvdW5kKHRoaXMueCksdGhpcy55PU1hdGgucm91bmQodGhpcy55KSx0aGlzLno9TWF0aC5yb3VuZCh0aGlzLnopLHRoaXN9cm91bmRUb1plcm8oKXtyZXR1cm4gdGhpcy54PXRoaXMueDwwP01hdGguY2VpbCh0aGlzLngpOk1hdGguZmxvb3IodGhpcy54KSx0aGlzLnk9dGhpcy55PDA/TWF0aC5jZWlsKHRoaXMueSk6TWF0aC5mbG9vcih0aGlzLnkpLHRoaXMuej10aGlzLno8MD9NYXRoLmNlaWwodGhpcy56KTpNYXRoLmZsb29yKHRoaXMueiksdGhpc31uZWdhdGUoKXtyZXR1cm4gdGhpcy54PS10aGlzLngsdGhpcy55PS10aGlzLnksdGhpcy56PS10aGlzLnosdGhpc31kb3QodCl7cmV0dXJuIHRoaXMueCp0LngrdGhpcy55KnQueSt0aGlzLnoqdC56fWxlbmd0aFNxKCl7cmV0dXJuIHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueSt0aGlzLnoqdGhpcy56fWxlbmd0aCgpe3JldHVybiBNYXRoLnNxcnQodGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55K3RoaXMueip0aGlzLnopfW1hbmhhdHRhbkxlbmd0aCgpe3JldHVybiBNYXRoLmFicyh0aGlzLngpK01hdGguYWJzKHRoaXMueSkrTWF0aC5hYnModGhpcy56KX1ub3JtYWxpemUoKXtyZXR1cm4gdGhpcy5kaXZpZGVTY2FsYXIodGhpcy5sZW5ndGgoKXx8MSl9c2V0TGVuZ3RoKHQpe3JldHVybiB0aGlzLm5vcm1hbGl6ZSgpLm11bHRpcGx5U2NhbGFyKHQpfWxlcnAodCxoKXtyZXR1cm4gdGhpcy54Kz0odC54LXRoaXMueCkqaCx0aGlzLnkrPSh0LnktdGhpcy55KSpoLHRoaXMueis9KHQuei10aGlzLnopKmgsdGhpc31sZXJwVmVjdG9ycyh0LGgsYSl7cmV0dXJuIHRoaXMueD10LngrKGgueC10LngpKmEsdGhpcy55PXQueSsoaC55LXQueSkqYSx0aGlzLno9dC56KyhoLnotdC56KSphLHRoaXN9Y3Jvc3ModCl7cmV0dXJuIHRoaXMuY3Jvc3NWZWN0b3JzKHRoaXMsdCl9Y3Jvc3NWZWN0b3JzKHQsaCl7Y29uc3QgYT10LngsaT10LnksZT10Lnosbj1oLngscj1oLnksbz1oLno7cmV0dXJuIHRoaXMueD1pKm8tZSpyLHRoaXMueT1lKm4tYSpvLHRoaXMuej1hKnItaSpuLHRoaXN9cHJvamVjdE9uVmVjdG9yKHQpe2NvbnN0IGg9dC5sZW5ndGhTcSgpO2lmKGg9PT0wKXJldHVybiB0aGlzLnNldCgwLDAsMCk7Y29uc3QgYT10LmRvdCh0aGlzKS9oO3JldHVybiB0aGlzLmNvcHkodCkubXVsdGlwbHlTY2FsYXIoYSl9cHJvamVjdE9uUGxhbmUodCl7cmV0dXJuIGZzLmNvcHkodGhpcykucHJvamVjdE9uVmVjdG9yKHQpLHRoaXMuc3ViKGZzKX1yZWZsZWN0KHQpe3JldHVybiB0aGlzLnN1Yihmcy5jb3B5KHQpLm11bHRpcGx5U2NhbGFyKDIqdGhpcy5kb3QodCkpKX1hbmdsZVRvKHQpe2NvbnN0IGg9TWF0aC5zcXJ0KHRoaXMubGVuZ3RoU3EoKSp0Lmxlbmd0aFNxKCkpO2lmKGg9PT0wKXJldHVybiBNYXRoLlBJLzI7Y29uc3QgYT10aGlzLmRvdCh0KS9oO3JldHVybiBNYXRoLmFjb3MoaGgoYSwtMSwxKSl9ZGlzdGFuY2VUbyh0KXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuZGlzdGFuY2VUb1NxdWFyZWQodCkpfWRpc3RhbmNlVG9TcXVhcmVkKHQpe2NvbnN0IGg9dGhpcy54LXQueCxhPXRoaXMueS10LnksaT10aGlzLnotdC56O3JldHVybiBoKmgrYSphK2kqaX1tYW5oYXR0YW5EaXN0YW5jZVRvKHQpe3JldHVybiBNYXRoLmFicyh0aGlzLngtdC54KStNYXRoLmFicyh0aGlzLnktdC55KStNYXRoLmFicyh0aGlzLnotdC56KX1zZXRGcm9tU3BoZXJpY2FsKHQpe3JldHVybiB0aGlzLnNldEZyb21TcGhlcmljYWxDb29yZHModC5yYWRpdXMsdC5waGksdC50aGV0YSl9c2V0RnJvbVNwaGVyaWNhbENvb3Jkcyh0LGgsYSl7Y29uc3QgaT1NYXRoLnNpbihoKSp0O3JldHVybiB0aGlzLng9aSpNYXRoLnNpbihhKSx0aGlzLnk9TWF0aC5jb3MoaCkqdCx0aGlzLno9aSpNYXRoLmNvcyhhKSx0aGlzfXNldEZyb21DeWxpbmRyaWNhbCh0KXtyZXR1cm4gdGhpcy5zZXRGcm9tQ3lsaW5kcmljYWxDb29yZHModC5yYWRpdXMsdC50aGV0YSx0LnkpfXNldEZyb21DeWxpbmRyaWNhbENvb3Jkcyh0LGgsYSl7cmV0dXJuIHRoaXMueD10Kk1hdGguc2luKGgpLHRoaXMueT1hLHRoaXMuej10Kk1hdGguY29zKGgpLHRoaXN9c2V0RnJvbU1hdHJpeFBvc2l0aW9uKHQpe2NvbnN0IGg9dC5lbGVtZW50cztyZXR1cm4gdGhpcy54PWhbMTJdLHRoaXMueT1oWzEzXSx0aGlzLno9aFsxNF0sdGhpc31zZXRGcm9tTWF0cml4U2NhbGUodCl7Y29uc3QgaD10aGlzLnNldEZyb21NYXRyaXhDb2x1bW4odCwwKS5sZW5ndGgoKSxhPXRoaXMuc2V0RnJvbU1hdHJpeENvbHVtbih0LDEpLmxlbmd0aCgpLGk9dGhpcy5zZXRGcm9tTWF0cml4Q29sdW1uKHQsMikubGVuZ3RoKCk7cmV0dXJuIHRoaXMueD1oLHRoaXMueT1hLHRoaXMuej1pLHRoaXN9c2V0RnJvbU1hdHJpeENvbHVtbih0LGgpe3JldHVybiB0aGlzLmZyb21BcnJheSh0LmVsZW1lbnRzLGgqNCl9c2V0RnJvbU1hdHJpeDNDb2x1bW4odCxoKXtyZXR1cm4gdGhpcy5mcm9tQXJyYXkodC5lbGVtZW50cyxoKjMpfXNldEZyb21FdWxlcih0KXtyZXR1cm4gdGhpcy54PXQuX3gsdGhpcy55PXQuX3ksdGhpcy56PXQuX3osdGhpc31lcXVhbHModCl7cmV0dXJuIHQueD09PXRoaXMueCYmdC55PT09dGhpcy55JiZ0Lno9PT10aGlzLnp9ZnJvbUFycmF5KHQsaD0wKXtyZXR1cm4gdGhpcy54PXRbaF0sdGhpcy55PXRbaCsxXSx0aGlzLno9dFtoKzJdLHRoaXN9dG9BcnJheSh0PVtdLGg9MCl7cmV0dXJuIHRbaF09dGhpcy54LHRbaCsxXT10aGlzLnksdFtoKzJdPXRoaXMueix0fWZyb21CdWZmZXJBdHRyaWJ1dGUodCxoKXtyZXR1cm4gdGhpcy54PXQuZ2V0WChoKSx0aGlzLnk9dC5nZXRZKGgpLHRoaXMuej10LmdldFooaCksdGhpc31yYW5kb20oKXtyZXR1cm4gdGhpcy54PU1hdGgucmFuZG9tKCksdGhpcy55PU1hdGgucmFuZG9tKCksdGhpcy56PU1hdGgucmFuZG9tKCksdGhpc31yYW5kb21EaXJlY3Rpb24oKXtjb25zdCB0PShNYXRoLnJhbmRvbSgpLS41KSoyLGg9TWF0aC5yYW5kb20oKSpNYXRoLlBJKjIsYT1NYXRoLnNxcnQoMS1laCh0LDIpKTtyZXR1cm4gdGhpcy54PWEqTWF0aC5jb3MoaCksdGhpcy55PWEqTWF0aC5zaW4oaCksdGhpcy56PXQsdGhpc30qW1N5bWJvbC5pdGVyYXRvcl0oKXt5aWVsZCB0aGlzLngseWllbGQgdGhpcy55LHlpZWxkIHRoaXMuen19Y29uc3QgZnM9bmV3IEYsaWg9bmV3IGFoO2NsYXNzIEl0e2NvbnN0cnVjdG9yKCl7SXQucHJvdG90eXBlLmlzTWF0cml4ND0hMCx0aGlzLmVsZW1lbnRzPVsxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCwwLDAsMCwxXX1zZXQodCxoLGEsaSxlLG4scixvLGwsYyx1LE0sZix5LG0sZCl7Y29uc3QgXz10aGlzLmVsZW1lbnRzO3JldHVybiBfWzBdPXQsX1s0XT1oLF9bOF09YSxfWzEyXT1pLF9bMV09ZSxfWzVdPW4sX1s5XT1yLF9bMTNdPW8sX1syXT1sLF9bNl09YyxfWzEwXT11LF9bMTRdPU0sX1szXT1mLF9bN109eSxfWzExXT1tLF9bMTVdPWQsdGhpc31pZGVudGl0eSgpe3JldHVybiB0aGlzLnNldCgxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCwwLDAsMCwxKSx0aGlzfWNsb25lKCl7cmV0dXJuIG5ldyBJdCgpLmZyb21BcnJheSh0aGlzLmVsZW1lbnRzKX1jb3B5KHQpe2NvbnN0IGg9dGhpcy5lbGVtZW50cyxhPXQuZWxlbWVudHM7cmV0dXJuIGhbMF09YVswXSxoWzFdPWFbMV0saFsyXT1hWzJdLGhbM109YVszXSxoWzRdPWFbNF0saFs1XT1hWzVdLGhbNl09YVs2XSxoWzddPWFbN10saFs4XT1hWzhdLGhbOV09YVs5XSxoWzEwXT1hWzEwXSxoWzExXT1hWzExXSxoWzEyXT1hWzEyXSxoWzEzXT1hWzEzXSxoWzE0XT1hWzE0XSxoWzE1XT1hWzE1XSx0aGlzfWNvcHlQb3NpdGlvbih0KXtjb25zdCBoPXRoaXMuZWxlbWVudHMsYT10LmVsZW1lbnRzO3JldHVybiBoWzEyXT1hWzEyXSxoWzEzXT1hWzEzXSxoWzE0XT1hWzE0XSx0aGlzfXNldEZyb21NYXRyaXgzKHQpe2NvbnN0IGg9dC5lbGVtZW50cztyZXR1cm4gdGhpcy5zZXQoaFswXSxoWzNdLGhbNl0sMCxoWzFdLGhbNF0saFs3XSwwLGhbMl0saFs1XSxoWzhdLDAsMCwwLDAsMSksdGhpc31leHRyYWN0QmFzaXModCxoLGEpe3JldHVybiB0LnNldEZyb21NYXRyaXhDb2x1bW4odGhpcywwKSxoLnNldEZyb21NYXRyaXhDb2x1bW4odGhpcywxKSxhLnNldEZyb21NYXRyaXhDb2x1bW4odGhpcywyKSx0aGlzfW1ha2VCYXNpcyh0LGgsYSl7cmV0dXJuIHRoaXMuc2V0KHQueCxoLngsYS54LDAsdC55LGgueSxhLnksMCx0LnosaC56LGEueiwwLDAsMCwwLDEpLHRoaXN9ZXh0cmFjdFJvdGF0aW9uKHQpe2NvbnN0IGg9dGhpcy5lbGVtZW50cyxhPXQuZWxlbWVudHMsaT0xL3B0LnNldEZyb21NYXRyaXhDb2x1bW4odCwwKS5sZW5ndGgoKSxlPTEvcHQuc2V0RnJvbU1hdHJpeENvbHVtbih0LDEpLmxlbmd0aCgpLG49MS9wdC5zZXRGcm9tTWF0cml4Q29sdW1uKHQsMikubGVuZ3RoKCk7cmV0dXJuIGhbMF09YVswXSppLGhbMV09YVsxXSppLGhbMl09YVsyXSppLGhbM109MCxoWzRdPWFbNF0qZSxoWzVdPWFbNV0qZSxoWzZdPWFbNl0qZSxoWzddPTAsaFs4XT1hWzhdKm4saFs5XT1hWzldKm4saFsxMF09YVsxMF0qbixoWzExXT0wLGhbMTJdPTAsaFsxM109MCxoWzE0XT0wLGhbMTVdPTEsdGhpc31tYWtlUm90YXRpb25Gcm9tRXVsZXIodCl7Y29uc3QgaD10aGlzLmVsZW1lbnRzLGE9dC54LGk9dC55LGU9dC56LG49TWF0aC5jb3MoYSkscj1NYXRoLnNpbihhKSxvPU1hdGguY29zKGkpLGw9TWF0aC5zaW4oaSksYz1NYXRoLmNvcyhlKSx1PU1hdGguc2luKGUpO2lmKHQub3JkZXI9PT0iWFlaIil7Y29uc3QgTT1uKmMsZj1uKnUseT1yKmMsbT1yKnU7aFswXT1vKmMsaFs0XT0tbyp1LGhbOF09bCxoWzFdPWYreSpsLGhbNV09TS1tKmwsaFs5XT0tcipvLGhbMl09bS1NKmwsaFs2XT15K2YqbCxoWzEwXT1uKm99ZWxzZSBpZih0Lm9yZGVyPT09IllYWiIpe2NvbnN0IE09bypjLGY9byp1LHk9bCpjLG09bCp1O2hbMF09TSttKnIsaFs0XT15KnItZixoWzhdPW4qbCxoWzFdPW4qdSxoWzVdPW4qYyxoWzldPS1yLGhbMl09ZipyLXksaFs2XT1tK00qcixoWzEwXT1uKm99ZWxzZSBpZih0Lm9yZGVyPT09IlpYWSIpe2NvbnN0IE09bypjLGY9byp1LHk9bCpjLG09bCp1O2hbMF09TS1tKnIsaFs0XT0tbip1LGhbOF09eStmKnIsaFsxXT1mK3kqcixoWzVdPW4qYyxoWzldPW0tTSpyLGhbMl09LW4qbCxoWzZdPXIsaFsxMF09bipvfWVsc2UgaWYodC5vcmRlcj09PSJaWVgiKXtjb25zdCBNPW4qYyxmPW4qdSx5PXIqYyxtPXIqdTtoWzBdPW8qYyxoWzRdPXkqbC1mLGhbOF09TSpsK20saFsxXT1vKnUsaFs1XT1tKmwrTSxoWzldPWYqbC15LGhbMl09LWwsaFs2XT1yKm8saFsxMF09bipvfWVsc2UgaWYodC5vcmRlcj09PSJZWlgiKXtjb25zdCBNPW4qbyxmPW4qbCx5PXIqbyxtPXIqbDtoWzBdPW8qYyxoWzRdPW0tTSp1LGhbOF09eSp1K2YsaFsxXT11LGhbNV09bipjLGhbOV09LXIqYyxoWzJdPS1sKmMsaFs2XT1mKnUreSxoWzEwXT1NLW0qdX1lbHNlIGlmKHQub3JkZXI9PT0iWFpZIil7Y29uc3QgTT1uKm8sZj1uKmwseT1yKm8sbT1yKmw7aFswXT1vKmMsaFs0XT0tdSxoWzhdPWwqYyxoWzFdPU0qdSttLGhbNV09bipjLGhbOV09Zip1LXksaFsyXT15KnUtZixoWzZdPXIqYyxoWzEwXT1tKnUrTX1yZXR1cm4gaFszXT0wLGhbN109MCxoWzExXT0wLGhbMTJdPTAsaFsxM109MCxoWzE0XT0wLGhbMTVdPTEsdGhpc31tYWtlUm90YXRpb25Gcm9tUXVhdGVybmlvbih0KXtyZXR1cm4gdGhpcy5jb21wb3NlKEZyLHQsRHIpfWxvb2tBdCh0LGgsYSl7Y29uc3QgaT10aGlzLmVsZW1lbnRzO3JldHVybiBVLnN1YlZlY3RvcnModCxoKSxVLmxlbmd0aFNxKCk9PT0wJiYoVS56PTEpLFUubm9ybWFsaXplKCksZXQuY3Jvc3NWZWN0b3JzKGEsVSksZXQubGVuZ3RoU3EoKT09PTAmJihNYXRoLmFicyhhLnopPT09MT9VLngrPTFlLTQ6VS56Kz0xZS00LFUubm9ybWFsaXplKCksZXQuY3Jvc3NWZWN0b3JzKGEsVSkpLGV0Lm5vcm1hbGl6ZSgpLEh0LmNyb3NzVmVjdG9ycyhVLGV0KSxpWzBdPWV0LngsaVs0XT1IdC54LGlbOF09VS54LGlbMV09ZXQueSxpWzVdPUh0LnksaVs5XT1VLnksaVsyXT1ldC56LGlbNl09SHQueixpWzEwXT1VLnosdGhpc31tdWx0aXBseSh0KXtyZXR1cm4gdGhpcy5tdWx0aXBseU1hdHJpY2VzKHRoaXMsdCl9cHJlbXVsdGlwbHkodCl7cmV0dXJuIHRoaXMubXVsdGlwbHlNYXRyaWNlcyh0LHRoaXMpfW11bHRpcGx5TWF0cmljZXModCxoKXtjb25zdCBhPXQuZWxlbWVudHMsaT1oLmVsZW1lbnRzLGU9dGhpcy5lbGVtZW50cyxuPWFbMF0scj1hWzRdLG89YVs4XSxsPWFbMTJdLGM9YVsxXSx1PWFbNV0sTT1hWzldLGY9YVsxM10seT1hWzJdLG09YVs2XSxkPWFbMTBdLF89YVsxNF0sdj1hWzNdLHc9YVs3XSxBPWFbMTFdLGI9YVsxNV0sej1pWzBdLEU9aVs0XSxrPWlbOF0saj1pWzEyXSxYPWlbMV0sVz1pWzVdLHN0PWlbOV0seHQ9aVsxM10sVnQ9aVsyXSxadD1pWzZdLEp0PWlbMTBdLEt0PWlbMTRdLFl0PWlbM10sJHQ9aVs3XSx0cz1pWzExXSxzcz1pWzE1XTtyZXR1cm4gZVswXT1uKnorcipYK28qVnQrbCpZdCxlWzRdPW4qRStyKlcrbypadCtsKiR0LGVbOF09biprK3Iqc3QrbypKdCtsKnRzLGVbMTJdPW4qaityKnh0K28qS3QrbCpzcyxlWzFdPWMqeit1KlgrTSpWdCtmKll0LGVbNV09YypFK3UqVytNKlp0K2YqJHQsZVs5XT1jKmsrdSpzdCtNKkp0K2YqdHMsZVsxM109YypqK3UqeHQrTSpLdCtmKnNzLGVbMl09eSp6K20qWCtkKlZ0K18qWXQsZVs2XT15KkUrbSpXK2QqWnQrXyokdCxlWzEwXT15KmsrbSpzdCtkKkp0K18qdHMsZVsxNF09eSpqK20qeHQrZCpLdCtfKnNzLGVbM109dip6K3cqWCtBKlZ0K2IqWXQsZVs3XT12KkUrdypXK0EqWnQrYiokdCxlWzExXT12KmsrdypzdCtBKkp0K2IqdHMsZVsxNV09dipqK3cqeHQrQSpLdCtiKnNzLHRoaXN9bXVsdGlwbHlTY2FsYXIodCl7Y29uc3QgaD10aGlzLmVsZW1lbnRzO3JldHVybiBoWzBdKj10LGhbNF0qPXQsaFs4XSo9dCxoWzEyXSo9dCxoWzFdKj10LGhbNV0qPXQsaFs5XSo9dCxoWzEzXSo9dCxoWzJdKj10LGhbNl0qPXQsaFsxMF0qPXQsaFsxNF0qPXQsaFszXSo9dCxoWzddKj10LGhbMTFdKj10LGhbMTVdKj10LHRoaXN9ZGV0ZXJtaW5hbnQoKXtjb25zdCB0PXRoaXMuZWxlbWVudHMsaD10WzBdLGE9dFs0XSxpPXRbOF0sZT10WzEyXSxuPXRbMV0scj10WzVdLG89dFs5XSxsPXRbMTNdLGM9dFsyXSx1PXRbNl0sTT10WzEwXSxmPXRbMTRdLHk9dFszXSxtPXRbN10sZD10WzExXSxfPXRbMTVdO3JldHVybiB5KigrZSpvKnUtaSpsKnUtZSpyKk0rYSpsKk0raSpyKmYtYSpvKmYpK20qKCtoKm8qZi1oKmwqTStlKm4qTS1pKm4qZitpKmwqYy1lKm8qYykrZCooK2gqbCp1LWgqcipmLWUqbip1K2EqbipmK2UqcipjLWEqbCpjKStfKigtaSpyKmMtaCpvKnUraCpyKk0raSpuKnUtYSpuKk0rYSpvKmMpfXRyYW5zcG9zZSgpe2NvbnN0IHQ9dGhpcy5lbGVtZW50cztsZXQgaDtyZXR1cm4gaD10WzFdLHRbMV09dFs0XSx0WzRdPWgsaD10WzJdLHRbMl09dFs4XSx0WzhdPWgsaD10WzZdLHRbNl09dFs5XSx0WzldPWgsaD10WzNdLHRbM109dFsxMl0sdFsxMl09aCxoPXRbN10sdFs3XT10WzEzXSx0WzEzXT1oLGg9dFsxMV0sdFsxMV09dFsxNF0sdFsxNF09aCx0aGlzfXNldFBvc2l0aW9uKHQsaCxhKXtjb25zdCBpPXRoaXMuZWxlbWVudHM7cmV0dXJuIHQuaXNWZWN0b3IzPyhpWzEyXT10LngsaVsxM109dC55LGlbMTRdPXQueik6KGlbMTJdPXQsaVsxM109aCxpWzE0XT1hKSx0aGlzfWludmVydCgpe2NvbnN0IHQ9dGhpcy5lbGVtZW50cyxoPXRbMF0sYT10WzFdLGk9dFsyXSxlPXRbM10sbj10WzRdLHI9dFs1XSxvPXRbNl0sbD10WzddLGM9dFs4XSx1PXRbOV0sTT10WzEwXSxmPXRbMTFdLHk9dFsxMl0sbT10WzEzXSxkPXRbMTRdLF89dFsxNV0sdj11KmQqbC1tKk0qbCttKm8qZi1yKmQqZi11Km8qXytyKk0qXyx3PXkqTSpsLWMqZCpsLXkqbypmK24qZCpmK2MqbypfLW4qTSpfLEE9YyptKmwteSp1KmwreSpyKmYtbiptKmYtYypyKl8rbip1Kl8sYj15KnUqby1jKm0qby15KnIqTStuKm0qTStjKnIqZC1uKnUqZCx6PWgqdithKncraSpBK2UqYjtpZih6PT09MClyZXR1cm4gdGhpcy5zZXQoMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCk7Y29uc3QgRT0xL3o7cmV0dXJuIHRbMF09dipFLHRbMV09KG0qTSplLXUqZCplLW0qaSpmK2EqZCpmK3UqaSpfLWEqTSpfKSpFLHRbMl09KHIqZCplLW0qbyplK20qaSpsLWEqZCpsLXIqaSpfK2EqbypfKSpFLHRbM109KHUqbyplLXIqTSplLXUqaSpsK2EqTSpsK3IqaSpmLWEqbypmKSpFLHRbNF09dypFLHRbNV09KGMqZCplLXkqTSplK3kqaSpmLWgqZCpmLWMqaSpfK2gqTSpfKSpFLHRbNl09KHkqbyplLW4qZCplLXkqaSpsK2gqZCpsK24qaSpfLWgqbypfKSpFLHRbN109KG4qTSplLWMqbyplK2MqaSpsLWgqTSpsLW4qaSpmK2gqbypmKSpFLHRbOF09QSpFLHRbOV09KHkqdSplLWMqbSplLXkqYSpmK2gqbSpmK2MqYSpfLWgqdSpfKSpFLHRbMTBdPShuKm0qZS15KnIqZSt5KmEqbC1oKm0qbC1uKmEqXytoKnIqXykqRSx0WzExXT0oYypyKmUtbip1KmUtYyphKmwraCp1KmwrbiphKmYtaCpyKmYpKkUsdFsxMl09YipFLHRbMTNdPShjKm0qaS15KnUqaSt5KmEqTS1oKm0qTS1jKmEqZCtoKnUqZCkqRSx0WzE0XT0oeSpyKmktbiptKmkteSphKm8raCptKm8rbiphKmQtaCpyKmQpKkUsdFsxNV09KG4qdSppLWMqcippK2MqYSpvLWgqdSpvLW4qYSpNK2gqcipNKSpFLHRoaXN9c2NhbGUodCl7Y29uc3QgaD10aGlzLmVsZW1lbnRzLGE9dC54LGk9dC55LGU9dC56O3JldHVybiBoWzBdKj1hLGhbNF0qPWksaFs4XSo9ZSxoWzFdKj1hLGhbNV0qPWksaFs5XSo9ZSxoWzJdKj1hLGhbNl0qPWksaFsxMF0qPWUsaFszXSo9YSxoWzddKj1pLGhbMTFdKj1lLHRoaXN9Z2V0TWF4U2NhbGVPbkF4aXMoKXtjb25zdCB0PXRoaXMuZWxlbWVudHMsaD10WzBdKnRbMF0rdFsxXSp0WzFdK3RbMl0qdFsyXSxhPXRbNF0qdFs0XSt0WzVdKnRbNV0rdFs2XSp0WzZdLGk9dFs4XSp0WzhdK3RbOV0qdFs5XSt0WzEwXSp0WzEwXTtyZXR1cm4gTWF0aC5zcXJ0KE1hdGgubWF4KGgsYSxpKSl9bWFrZVRyYW5zbGF0aW9uKHQsaCxhKXtyZXR1cm4gdGhpcy5zZXQoMSwwLDAsdCwwLDEsMCxoLDAsMCwxLGEsMCwwLDAsMSksdGhpc31tYWtlUm90YXRpb25YKHQpe2NvbnN0IGg9TWF0aC5jb3ModCksYT1NYXRoLnNpbih0KTtyZXR1cm4gdGhpcy5zZXQoMSwwLDAsMCwwLGgsLWEsMCwwLGEsaCwwLDAsMCwwLDEpLHRoaXN9bWFrZVJvdGF0aW9uWSh0KXtjb25zdCBoPU1hdGguY29zKHQpLGE9TWF0aC5zaW4odCk7cmV0dXJuIHRoaXMuc2V0KGgsMCxhLDAsMCwxLDAsMCwtYSwwLGgsMCwwLDAsMCwxKSx0aGlzfW1ha2VSb3RhdGlvbloodCl7Y29uc3QgaD1NYXRoLmNvcyh0KSxhPU1hdGguc2luKHQpO3JldHVybiB0aGlzLnNldChoLC1hLDAsMCxhLGgsMCwwLDAsMCwxLDAsMCwwLDAsMSksdGhpc31tYWtlUm90YXRpb25BeGlzKHQsaCl7Y29uc3QgYT1NYXRoLmNvcyhoKSxpPU1hdGguc2luKGgpLGU9MS1hLG49dC54LHI9dC55LG89dC56LGw9ZSpuLGM9ZSpyO3JldHVybiB0aGlzLnNldChsKm4rYSxsKnItaSpvLGwqbytpKnIsMCxsKnIraSpvLGMqcithLGMqby1pKm4sMCxsKm8taSpyLGMqbytpKm4sZSpvKm8rYSwwLDAsMCwwLDEpLHRoaXN9bWFrZVNjYWxlKHQsaCxhKXtyZXR1cm4gdGhpcy5zZXQodCwwLDAsMCwwLGgsMCwwLDAsMCxhLDAsMCwwLDAsMSksdGhpc31tYWtlU2hlYXIodCxoLGEsaSxlLG4pe3JldHVybiB0aGlzLnNldCgxLGEsZSwwLHQsMSxuLDAsaCxpLDEsMCwwLDAsMCwxKSx0aGlzfWNvbXBvc2UodCxoLGEpe2NvbnN0IGk9dGhpcy5lbGVtZW50cyxlPWguX3gsbj1oLl95LHI9aC5feixvPWguX3csbD1lK2UsYz1uK24sdT1yK3IsTT1lKmwsZj1lKmMseT1lKnUsbT1uKmMsZD1uKnUsXz1yKnUsdj1vKmwsdz1vKmMsQT1vKnUsYj1hLngsej1hLnksRT1hLno7cmV0dXJuIGlbMF09KDEtKG0rXykpKmIsaVsxXT0oZitBKSpiLGlbMl09KHktdykqYixpWzNdPTAsaVs0XT0oZi1BKSp6LGlbNV09KDEtKE0rXykpKnosaVs2XT0oZCt2KSp6LGlbN109MCxpWzhdPSh5K3cpKkUsaVs5XT0oZC12KSpFLGlbMTBdPSgxLShNK20pKSpFLGlbMTFdPTAsaVsxMl09dC54LGlbMTNdPXQueSxpWzE0XT10LnosaVsxNV09MSx0aGlzfWRlY29tcG9zZSh0LGgsYSl7Y29uc3QgaT10aGlzLmVsZW1lbnRzO2xldCBlPXB0LnNldChpWzBdLGlbMV0saVsyXSkubGVuZ3RoKCk7Y29uc3Qgbj1wdC5zZXQoaVs0XSxpWzVdLGlbNl0pLmxlbmd0aCgpLHI9cHQuc2V0KGlbOF0saVs5XSxpWzEwXSkubGVuZ3RoKCk7dGhpcy5kZXRlcm1pbmFudCgpPDAmJihlPS1lKSx0Lng9aVsxMl0sdC55PWlbMTNdLHQuej1pWzE0XSxaLmNvcHkodGhpcyk7Y29uc3Qgbz0xL2UsbD0xL24sYz0xL3I7cmV0dXJuIFouZWxlbWVudHNbMF0qPW8sWi5lbGVtZW50c1sxXSo9byxaLmVsZW1lbnRzWzJdKj1vLFouZWxlbWVudHNbNF0qPWwsWi5lbGVtZW50c1s1XSo9bCxaLmVsZW1lbnRzWzZdKj1sLFouZWxlbWVudHNbOF0qPWMsWi5lbGVtZW50c1s5XSo9YyxaLmVsZW1lbnRzWzEwXSo9YyxoLnNldEZyb21Sb3RhdGlvbk1hdHJpeChaKSxhLng9ZSxhLnk9bixhLno9cix0aGlzfW1ha2VQZXJzcGVjdGl2ZSh0LGgsYSxpLGUsbil7Y29uc3Qgcj10aGlzLmVsZW1lbnRzLG89MiplLyhoLXQpLGw9MiplLyhhLWkpLGM9KGgrdCkvKGgtdCksdT0oYStpKS8oYS1pKSxNPS0obitlKS8obi1lKSxmPS0yKm4qZS8obi1lKTtyZXR1cm4gclswXT1vLHJbNF09MCxyWzhdPWMsclsxMl09MCxyWzFdPTAscls1XT1sLHJbOV09dSxyWzEzXT0wLHJbMl09MCxyWzZdPTAsclsxMF09TSxyWzE0XT1mLHJbM109MCxyWzddPTAsclsxMV09LTEsclsxNV09MCx0aGlzfW1ha2VPcnRob2dyYXBoaWModCxoLGEsaSxlLG4pe2NvbnN0IHI9dGhpcy5lbGVtZW50cyxvPTEvKGgtdCksbD0xLyhhLWkpLGM9MS8obi1lKSx1PShoK3QpKm8sTT0oYStpKSpsLGY9KG4rZSkqYztyZXR1cm4gclswXT0yKm8scls0XT0wLHJbOF09MCxyWzEyXT0tdSxyWzFdPTAscls1XT0yKmwscls5XT0wLHJbMTNdPS1NLHJbMl09MCxyWzZdPTAsclsxMF09LTIqYyxyWzE0XT0tZixyWzNdPTAscls3XT0wLHJbMTFdPTAsclsxNV09MSx0aGlzfWVxdWFscyh0KXtjb25zdCBoPXRoaXMuZWxlbWVudHMsYT10LmVsZW1lbnRzO2ZvcihsZXQgaT0wO2k8MTY7aSsrKWlmKGhbaV0hPT1hW2ldKXJldHVybiExO3JldHVybiEwfWZyb21BcnJheSh0LGg9MCl7Zm9yKGxldCBhPTA7YTwxNjthKyspdGhpcy5lbGVtZW50c1thXT10W2EraF07cmV0dXJuIHRoaXN9dG9BcnJheSh0PVtdLGg9MCl7Y29uc3QgYT10aGlzLmVsZW1lbnRzO3JldHVybiB0W2hdPWFbMF0sdFtoKzFdPWFbMV0sdFtoKzJdPWFbMl0sdFtoKzNdPWFbM10sdFtoKzRdPWFbNF0sdFtoKzVdPWFbNV0sdFtoKzZdPWFbNl0sdFtoKzddPWFbN10sdFtoKzhdPWFbOF0sdFtoKzldPWFbOV0sdFtoKzEwXT1hWzEwXSx0W2grMTFdPWFbMTFdLHRbaCsxMl09YVsxMl0sdFtoKzEzXT1hWzEzXSx0W2grMTRdPWFbMTRdLHRbaCsxNV09YVsxNV0sdH19Y29uc3QgcHQ9bmV3IEYsWj1uZXcgSXQsRnI9bmV3IEYoMCwwLDApLERyPW5ldyBGKDEsMSwxKSxldD1uZXcgRixIdD1uZXcgRixVPW5ldyBGO3R5cGVvZiBfX1RIUkVFX0RFVlRPT0xTX188InUiJiZfX1RIUkVFX0RFVlRPT0xTX18uZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoInJlZ2lzdGVyIix7ZGV0YWlsOntyZXZpc2lvbjpzaH19KSksdHlwZW9mIHdpbmRvdzwidSImJih3aW5kb3cuX19USFJFRV9fP2NvbnNvbGUud2FybigiV0FSTklORzogTXVsdGlwbGUgaW5zdGFuY2VzIG9mIFRocmVlLmpzIGJlaW5nIGltcG9ydGVkLiIpOndpbmRvdy5fX1RIUkVFX189c2gpO2Z1bmN0aW9uIFVyKHMsdCxoLGEpe2NvbnN0IGk9bmV3IEZsb2F0MzJBcnJheShoLmxlbmd0aCksZT1hLmNsb25lKCkuaW52ZXJ0KCk7Zm9yKGxldCBuPTA7bjxoLmxlbmd0aDtuKz0zKXtjb25zdCByPWguYXQobiswKSxvPWguYXQobisyKSxsPWguYXQobisxKSxjPW5ldyBGKHIsbyxsKS5hcHBseU1hdHJpeDQodCksdT1zLmZvcndhcmQoW2MueCxjLnksYy56XSksTT1uZXcgRih1WzBdLHVbMV0sdVsyXSkuYXBwbHlNYXRyaXg0KGUpO2lbbiswXT1NLngsaVtuKzFdPU0ueixpW24rMl09TS55fXJldHVybiBpfWZ1bmN0aW9uIFFyKHMsdCl7Y29uc3QgaD1uZXcgRixhPW5ldyBhaCxpPW5ldyBGO3QuZGVjb21wb3NlKGgsYSxpKTtjb25zdCBlPXMuZm9yd2FyZChbaC54LGgueSxoLnpdKTtyZXR1cm4gdC5jbG9uZSgpLnNldFBvc2l0aW9uKG5ldyBGKGVbMF0sZVsxXSxlWzJdKSl9ZnVuY3Rpb24gWHIocyl7Y29uc3QgdD1zLmRhdGEucHJvakluLGg9cy5kYXRhLnByb2pPdXQsYT1EKHQsaCksaT1uZXcgSXQoKS5mcm9tQXJyYXkocy5kYXRhLm1hdHJpeCksZT1zLmRhdGEuYnVmZmVyLG49UXIoYSxpKSxyPVVyKGEsaSxlLG4pLG89e21hdHJpeDpuLnRvQXJyYXkoKSxidWZmZXI6cn0sbD1bby5idWZmZXIuYnVmZmVyXTtwb3N0TWVzc2FnZShvLGwpfW9ubWVzc2FnZT1Ycn0pLG9oPW5oKCk7cmV0dXJuIG9ofSgpOwoK",null,!1),G3=(e,i,t)=>new Promise((s,n)=>{var r=l=>{try{a(t.next(l))}catch(h){n(h)}},o=l=>{try{a(t.throw(l))}catch(h){n(h)}},a=l=>l.done?s(l.value):Promise.resolve(l.value).then(r,o);a((t=t.apply(e,i)).next())});function Vte(e,i,t,s){return G3(this,null,function*(){return new Promise(n=>{performance.now();const r=new _te;r.onmessage=a=>{r.terminate(),n({matrix:new pt().fromArray(a.data.matrix),buffer:a.data.buffer})};const o={matrix:e.toArray(),buffer:i,projIn:t,projOut:s};r.postMessage(o,[o.buffer.buffer])})})}function jte(e,i){return G3(this,null,function*(){const t=new Ute;t.ifcManager.setWasmPath(typeof i.wasmPath<"u"?i.wasmPath:"/wasm/"),i.workerPath&&t.ifcManager.useWebWorkers(!0,i.workerPath+"IFCWorker.js"),t.ifcManager.parser.setupOptionalCategories({[$h]:!1,[qh]:!1}),t.ifcManager.setupThreeMeshBVH(w1,X1,Hy),yield t.ifcManager.applyWebIfcConfig({COORDINATE_TO_ORIGIN:!1,USE_FAST_BOOLS:!0});const s=yield t.loadAsync(e);if(i.projIn&&i.projOut){const n=s.geometry.attributes.position.array,r=i.offset?new H(i.offset.x,i.offset.y,i.offset.z):new H,o=new pt().setPosition(r),a=yield Vte(o,n,i.projIn,i.projOut);s.geometry.attributes.position.array=a.buffer,s.geometry.computeBoundsTree(),s.geometry.computeBoundingBox(),s.geometry.computeBoundingSphere()}return s.userData.isPickable=typeof i.isPickable<"u"?i.isPickable:!0,s.userData.isInteractive=typeof i.isInteractive<"u"?i.isInteractive:!1,s.userData.isMetaDataEnabled=!0,s.material.forEach(n=>{n.transparent=!0,n.needsUpdate=!0}),s})}var Bte=ru("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwp2YXIgd29ya2VyX2NvZGU9ZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIEJlPShGZSxOdCk9PigpPT4oTnR8fEZlKChOdD17ZXhwb3J0czp7fX0pLmV4cG9ydHMsTnQpLE50LmV4cG9ydHMpLHFlPUJlKHE9PntmdW5jdGlvbiBOdCh0KXt0KCJFUFNHOjQzMjYiLCIrdGl0bGU9V0dTIDg0IChsb25nL2xhdCkgK3Byb2o9bG9uZ2xhdCArZWxscHM9V0dTODQgK2RhdHVtPVdHUzg0ICt1bml0cz1kZWdyZWVzIiksdCgiRVBTRzo0MjY5IiwiK3RpdGxlPU5BRDgzIChsb25nL2xhdCkgK3Byb2o9bG9uZ2xhdCArYT02Mzc4MTM3LjAgK2I9NjM1Njc1Mi4zMTQxNDAzNiArZWxscHM9R1JTODAgK2RhdHVtPU5BRDgzICt1bml0cz1kZWdyZWVzIiksdCgiRVBTRzozODU3IiwiK3RpdGxlPVdHUyA4NCAvIFBzZXVkby1NZXJjYXRvciArcHJvaj1tZXJjICthPTYzNzgxMzcgK2I9NjM3ODEzNyArbGF0X3RzPTAuMCArbG9uXzA9MC4wICt4XzA9MC4wICt5XzA9MCAraz0xLjAgK3VuaXRzPW0gK25hZGdyaWRzPUBudWxsICtub19kZWZzIiksdC5XR1M4ND10WyJFUFNHOjQzMjYiXSx0WyJFUFNHOjM3ODUiXT10WyJFUFNHOjM4NTciXSx0LkdPT0dMRT10WyJFUFNHOjM4NTciXSx0WyJFUFNHOjkwMDkxMyJdPXRbIkVQU0c6Mzg1NyJdLHRbIkVQU0c6MTAyMTEzIl09dFsiRVBTRzozODU3Il19dmFyIHh0PTEsX3Q9MixsaT0zLGplPTQsRGk9NSxuYT02Mzc4MTM3LEdlPTYzNTY3NTIzMTRlLTMscmE9LjAwNjY5NDM3OTk5MDE0MTMxNjUsR3Q9NDg0ODEzNjgxMTA5NTM2ZS0yMCx5PU1hdGguUEkvMix6ZT0uMTY2NjY2NjY2NjY2NjY2NjYsVWU9LjA0NzIyMjIyMjIyMjIyMjIyLEhlPS4wMjIxNTYwODQ2NTYwODQ2NTUseD0xZS0xMCxqPS4wMTc0NTMyOTI1MTk5NDMyOTUsZXQ9NTcuMjk1Nzc5NTEzMDgyMzIsQz1NYXRoLlBJLzQsenQ9TWF0aC5QSSoyLFI9My4xNDE1OTI2NTM1OSxRPXt9O1EuZ3JlZW53aWNoPTAsUS5saXNib249LTkuMTMxOTA2MTExMTExLFEucGFyaXM9Mi4zMzcyMjkxNjY2NjcsUS5ib2dvdGE9LTc0LjA4MDkxNjY2NjY2NyxRLm1hZHJpZD0tMy42ODc5Mzg4ODg4ODksUS5yb21lPTEyLjQ1MjMzMzMzMzMzMyxRLmJlcm49Ny40Mzk1ODMzMzMzMzMsUS5qYWthcnRhPTEwNi44MDc3MTk0NDQ0NDQsUS5mZXJybz0tMTcuNjY2NjY2NjY2NjY3LFEuYnJ1c3NlbHM9NC4zNjc5NzUsUS5zdG9ja2hvbG09MTguMDU4Mjc3Nzc3Nzc4LFEuYXRoZW5zPTIzLjcxNjMzNzUsUS5vc2xvPTEwLjcyMjkxNjY2NjY2Nzt2YXIgUWU9e2Z0Ont0b19tZXRlcjouMzA0OH0sInVzLWZ0Ijp7dG9fbWV0ZXI6MTIwMC8zOTM3fX0saGE9L1tcc19cLVwvXChcKV0vZztmdW5jdGlvbiBwdCh0LGkpe2lmKHRbaV0pcmV0dXJuIHRbaV07Zm9yKHZhciBhPU9iamVjdC5rZXlzKHQpLGU9aS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoaGEsIiIpLHM9LTEsbixoOysrczxhLmxlbmd0aDspaWYobj1hW3NdLGg9bi50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoaGEsIiIpLGg9PT1lKXJldHVybiB0W25dfWZ1bmN0aW9uIFBpKHQpe3ZhciBpPXt9LGE9dC5zcGxpdCgiKyIpLm1hcChmdW5jdGlvbihyKXtyZXR1cm4gci50cmltKCl9KS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIHJ9KS5yZWR1Y2UoZnVuY3Rpb24ocixvKXt2YXIgdT1vLnNwbGl0KCI9Iik7cmV0dXJuIHUucHVzaCghMCksclt1WzBdLnRvTG93ZXJDYXNlKCldPXVbMV0scn0se30pLGUscyxuLGg9e3Byb2o6InByb2pOYW1lIixkYXR1bToiZGF0dW1Db2RlIixyZjpmdW5jdGlvbihyKXtpLnJmPXBhcnNlRmxvYXQocil9LGxhdF8wOmZ1bmN0aW9uKHIpe2kubGF0MD1yKmp9LGxhdF8xOmZ1bmN0aW9uKHIpe2kubGF0MT1yKmp9LGxhdF8yOmZ1bmN0aW9uKHIpe2kubGF0Mj1yKmp9LGxhdF90czpmdW5jdGlvbihyKXtpLmxhdF90cz1yKmp9LGxvbl8wOmZ1bmN0aW9uKHIpe2kubG9uZzA9cipqfSxsb25fMTpmdW5jdGlvbihyKXtpLmxvbmcxPXIqan0sbG9uXzI6ZnVuY3Rpb24ocil7aS5sb25nMj1yKmp9LGFscGhhOmZ1bmN0aW9uKHIpe2kuYWxwaGE9cGFyc2VGbG9hdChyKSpqfSxnYW1tYTpmdW5jdGlvbihyKXtpLnJlY3RpZmllZF9ncmlkX2FuZ2xlPXBhcnNlRmxvYXQocil9LGxvbmM6ZnVuY3Rpb24ocil7aS5sb25nYz1yKmp9LHhfMDpmdW5jdGlvbihyKXtpLngwPXBhcnNlRmxvYXQocil9LHlfMDpmdW5jdGlvbihyKXtpLnkwPXBhcnNlRmxvYXQocil9LGtfMDpmdW5jdGlvbihyKXtpLmswPXBhcnNlRmxvYXQocil9LGs6ZnVuY3Rpb24ocil7aS5rMD1wYXJzZUZsb2F0KHIpfSxhOmZ1bmN0aW9uKHIpe2kuYT1wYXJzZUZsb2F0KHIpfSxiOmZ1bmN0aW9uKHIpe2kuYj1wYXJzZUZsb2F0KHIpfSxyX2E6ZnVuY3Rpb24oKXtpLlJfQT0hMH0sem9uZTpmdW5jdGlvbihyKXtpLnpvbmU9cGFyc2VJbnQociwxMCl9LHNvdXRoOmZ1bmN0aW9uKCl7aS51dG1Tb3V0aD0hMH0sdG93Z3M4NDpmdW5jdGlvbihyKXtpLmRhdHVtX3BhcmFtcz1yLnNwbGl0KCIsIikubWFwKGZ1bmN0aW9uKG8pe3JldHVybiBwYXJzZUZsb2F0KG8pfSl9LHRvX21ldGVyOmZ1bmN0aW9uKHIpe2kudG9fbWV0ZXI9cGFyc2VGbG9hdChyKX0sdW5pdHM6ZnVuY3Rpb24ocil7aS51bml0cz1yO3ZhciBvPXB0KFFlLHIpO28mJihpLnRvX21ldGVyPW8udG9fbWV0ZXIpfSxmcm9tX2dyZWVud2ljaDpmdW5jdGlvbihyKXtpLmZyb21fZ3JlZW53aWNoPXIqan0scG06ZnVuY3Rpb24ocil7dmFyIG89cHQoUSxyKTtpLmZyb21fZ3JlZW53aWNoPShvfHxwYXJzZUZsb2F0KHIpKSpqfSxuYWRncmlkczpmdW5jdGlvbihyKXtyPT09IkBudWxsIj9pLmRhdHVtQ29kZT0ibm9uZSI6aS5uYWRncmlkcz1yfSxheGlzOmZ1bmN0aW9uKHIpe3ZhciBvPSJld25zdWQiO3IubGVuZ3RoPT09MyYmby5pbmRleE9mKHIuc3Vic3RyKDAsMSkpIT09LTEmJm8uaW5kZXhPZihyLnN1YnN0cigxLDEpKSE9PS0xJiZvLmluZGV4T2Yoci5zdWJzdHIoMiwxKSkhPT0tMSYmKGkuYXhpcz1yKX0sYXBwcm94OmZ1bmN0aW9uKCl7aS5hcHByb3g9ITB9fTtmb3IoZSBpbiBhKXM9YVtlXSxlIGluIGg/KG49aFtlXSx0eXBlb2Ygbj09ImZ1bmN0aW9uIj9uKHMpOmlbbl09cyk6aVtlXT1zO3JldHVybiB0eXBlb2YgaS5kYXR1bUNvZGU9PSJzdHJpbmciJiZpLmRhdHVtQ29kZSE9PSJXR1M4NCImJihpLmRhdHVtQ29kZT1pLmRhdHVtQ29kZS50b0xvd2VyQ2FzZSgpKSxpfXZhciBVdD0xLG9hPTIsdWE9MyxjaT00LGxhPTUsUmk9LTEsWGU9L1xzLyxXZT0vW0EtWmEtel0vLFZlPS9bQS1aYS16ODRfXS8sZmk9L1ssXF1dLyxjYT0vW1xkXC5FXC1cK10vO2Z1bmN0aW9uIG90KHQpe2lmKHR5cGVvZiB0IT0ic3RyaW5nIil0aHJvdyBuZXcgRXJyb3IoIm5vdCBhIHN0cmluZyIpO3RoaXMudGV4dD10LnRyaW0oKSx0aGlzLmxldmVsPTAsdGhpcy5wbGFjZT0wLHRoaXMucm9vdD1udWxsLHRoaXMuc3RhY2s9W10sdGhpcy5jdXJyZW50T2JqZWN0PW51bGwsdGhpcy5zdGF0ZT1VdH1vdC5wcm90b3R5cGUucmVhZENoYXJpY3Rlcj1mdW5jdGlvbigpe3ZhciB0PXRoaXMudGV4dFt0aGlzLnBsYWNlKytdO2lmKHRoaXMuc3RhdGUhPT1jaSlmb3IoO1hlLnRlc3QodCk7KXtpZih0aGlzLnBsYWNlPj10aGlzLnRleHQubGVuZ3RoKXJldHVybjt0PXRoaXMudGV4dFt0aGlzLnBsYWNlKytdfXN3aXRjaCh0aGlzLnN0YXRlKXtjYXNlIFV0OnJldHVybiB0aGlzLm5ldXRyYWwodCk7Y2FzZSBvYTpyZXR1cm4gdGhpcy5rZXl3b3JkKHQpO2Nhc2UgY2k6cmV0dXJuIHRoaXMucXVvdGVkKHQpO2Nhc2UgbGE6cmV0dXJuIHRoaXMuYWZ0ZXJxdW90ZSh0KTtjYXNlIHVhOnJldHVybiB0aGlzLm51bWJlcih0KTtjYXNlIFJpOnJldHVybn19LG90LnByb3RvdHlwZS5hZnRlcnF1b3RlPWZ1bmN0aW9uKHQpe2lmKHQ9PT0nIicpe3RoaXMud29yZCs9JyInLHRoaXMuc3RhdGU9Y2k7cmV0dXJufWlmKGZpLnRlc3QodCkpe3RoaXMud29yZD10aGlzLndvcmQudHJpbSgpLHRoaXMuYWZ0ZXJJdGVtKHQpO3JldHVybn10aHJvdyBuZXcgRXJyb3IoYGhhdm4ndCBoYW5kbGVkICJgK3QrJyIgaW4gYWZ0ZXJxdW90ZSB5ZXQsIGluZGV4ICcrdGhpcy5wbGFjZSl9LG90LnByb3RvdHlwZS5hZnRlckl0ZW09ZnVuY3Rpb24odCl7aWYodD09PSIsIil7dGhpcy53b3JkIT09bnVsbCYmdGhpcy5jdXJyZW50T2JqZWN0LnB1c2godGhpcy53b3JkKSx0aGlzLndvcmQ9bnVsbCx0aGlzLnN0YXRlPVV0O3JldHVybn1pZih0PT09Il0iKXt0aGlzLmxldmVsLS0sdGhpcy53b3JkIT09bnVsbCYmKHRoaXMuY3VycmVudE9iamVjdC5wdXNoKHRoaXMud29yZCksdGhpcy53b3JkPW51bGwpLHRoaXMuc3RhdGU9VXQsdGhpcy5jdXJyZW50T2JqZWN0PXRoaXMuc3RhY2sucG9wKCksdGhpcy5jdXJyZW50T2JqZWN0fHwodGhpcy5zdGF0ZT1SaSk7cmV0dXJufX0sb3QucHJvdG90eXBlLm51bWJlcj1mdW5jdGlvbih0KXtpZihjYS50ZXN0KHQpKXt0aGlzLndvcmQrPXQ7cmV0dXJufWlmKGZpLnRlc3QodCkpe3RoaXMud29yZD1wYXJzZUZsb2F0KHRoaXMud29yZCksdGhpcy5hZnRlckl0ZW0odCk7cmV0dXJufXRocm93IG5ldyBFcnJvcihgaGF2bid0IGhhbmRsZWQgImArdCsnIiBpbiBudW1iZXIgeWV0LCBpbmRleCAnK3RoaXMucGxhY2UpfSxvdC5wcm90b3R5cGUucXVvdGVkPWZ1bmN0aW9uKHQpe2lmKHQ9PT0nIicpe3RoaXMuc3RhdGU9bGE7cmV0dXJufXRoaXMud29yZCs9dH0sb3QucHJvdG90eXBlLmtleXdvcmQ9ZnVuY3Rpb24odCl7aWYoVmUudGVzdCh0KSl7dGhpcy53b3JkKz10O3JldHVybn1pZih0PT09IlsiKXt2YXIgaT1bXTtpLnB1c2godGhpcy53b3JkKSx0aGlzLmxldmVsKyssdGhpcy5yb290PT09bnVsbD90aGlzLnJvb3Q9aTp0aGlzLmN1cnJlbnRPYmplY3QucHVzaChpKSx0aGlzLnN0YWNrLnB1c2godGhpcy5jdXJyZW50T2JqZWN0KSx0aGlzLmN1cnJlbnRPYmplY3Q9aSx0aGlzLnN0YXRlPVV0O3JldHVybn1pZihmaS50ZXN0KHQpKXt0aGlzLmFmdGVySXRlbSh0KTtyZXR1cm59dGhyb3cgbmV3IEVycm9yKGBoYXZuJ3QgaGFuZGxlZCAiYCt0KyciIGluIGtleXdvcmQgeWV0LCBpbmRleCAnK3RoaXMucGxhY2UpfSxvdC5wcm90b3R5cGUubmV1dHJhbD1mdW5jdGlvbih0KXtpZihXZS50ZXN0KHQpKXt0aGlzLndvcmQ9dCx0aGlzLnN0YXRlPW9hO3JldHVybn1pZih0PT09JyInKXt0aGlzLndvcmQ9IiIsdGhpcy5zdGF0ZT1jaTtyZXR1cm59aWYoY2EudGVzdCh0KSl7dGhpcy53b3JkPXQsdGhpcy5zdGF0ZT11YTtyZXR1cm59aWYoZmkudGVzdCh0KSl7dGhpcy5hZnRlckl0ZW0odCk7cmV0dXJufXRocm93IG5ldyBFcnJvcihgaGF2bid0IGhhbmRsZWQgImArdCsnIiBpbiBuZXV0cmFsIHlldCwgaW5kZXggJyt0aGlzLnBsYWNlKX0sb3QucHJvdG90eXBlLm91dHB1dD1mdW5jdGlvbigpe2Zvcig7dGhpcy5wbGFjZTx0aGlzLnRleHQubGVuZ3RoOyl0aGlzLnJlYWRDaGFyaWN0ZXIoKTtpZih0aGlzLnN0YXRlPT09UmkpcmV0dXJuIHRoaXMucm9vdDt0aHJvdyBuZXcgRXJyb3IoJ3VuYWJsZSB0byBwYXJzZSBzdHJpbmcgIicrdGhpcy50ZXh0KyciLiBTdGF0ZSBpcyAnK3RoaXMuc3RhdGUpfTtmdW5jdGlvbiBKZSh0KXt2YXIgaT1uZXcgb3QodCk7cmV0dXJuIGkub3V0cHV0KCl9ZnVuY3Rpb24gZmEodCxpLGEpe0FycmF5LmlzQXJyYXkoaSkmJihhLnVuc2hpZnQoaSksaT1udWxsKTt2YXIgZT1pP3t9OnQscz1hLnJlZHVjZShmdW5jdGlvbihuLGgpe3JldHVybiBFdChoLG4pLG59LGUpO2kmJih0W2ldPXMpfWZ1bmN0aW9uIEV0KHQsaSl7aWYoIUFycmF5LmlzQXJyYXkodCkpe2lbdF09ITA7cmV0dXJufXZhciBhPXQuc2hpZnQoKTtpZihhPT09IlBBUkFNRVRFUiImJihhPXQuc2hpZnQoKSksdC5sZW5ndGg9PT0xKXtpZihBcnJheS5pc0FycmF5KHRbMF0pKXtpW2FdPXt9LEV0KHRbMF0saVthXSk7cmV0dXJufWlbYV09dFswXTtyZXR1cm59aWYoIXQubGVuZ3RoKXtpW2FdPSEwO3JldHVybn1pZihhPT09IlRPV0dTODQiKXtpW2FdPXQ7cmV0dXJufWlmKGE9PT0iQVhJUyIpe2EgaW4gaXx8KGlbYV09W10pLGlbYV0ucHVzaCh0KTtyZXR1cm59QXJyYXkuaXNBcnJheShhKXx8KGlbYV09e30pO3ZhciBlO3N3aXRjaChhKXtjYXNlIlVOSVQiOmNhc2UiUFJJTUVNIjpjYXNlIlZFUlRfREFUVU0iOmlbYV09e25hbWU6dFswXS50b0xvd2VyQ2FzZSgpLGNvbnZlcnQ6dFsxXX0sdC5sZW5ndGg9PT0zJiZFdCh0WzJdLGlbYV0pO3JldHVybjtjYXNlIlNQSEVST0lEIjpjYXNlIkVMTElQU09JRCI6aVthXT17bmFtZTp0WzBdLGE6dFsxXSxyZjp0WzJdfSx0Lmxlbmd0aD09PTQmJkV0KHRbM10saVthXSk7cmV0dXJuO2Nhc2UiUFJPSkVDVEVEQ1JTIjpjYXNlIlBST0pDUlMiOmNhc2UiR0VPR0NTIjpjYXNlIkdFT0NDUyI6Y2FzZSJQUk9KQ1MiOmNhc2UiTE9DQUxfQ1MiOmNhc2UiR0VPRENSUyI6Y2FzZSJHRU9ERVRJQ0NSUyI6Y2FzZSJHRU9ERVRJQ0RBVFVNIjpjYXNlIkVEQVRVTSI6Y2FzZSJFTkdJTkVFUklOR0RBVFVNIjpjYXNlIlZFUlRfQ1MiOmNhc2UiVkVSVENSUyI6Y2FzZSJWRVJUSUNBTENSUyI6Y2FzZSJDT01QRF9DUyI6Y2FzZSJDT01QT1VORENSUyI6Y2FzZSJFTkdJTkVFUklOR0NSUyI6Y2FzZSJFTkdDUlMiOmNhc2UiRklUVEVEX0NTIjpjYXNlIkxPQ0FMX0RBVFVNIjpjYXNlIkRBVFVNIjp0WzBdPVsibmFtZSIsdFswXV0sZmEoaSxhLHQpO3JldHVybjtkZWZhdWx0OmZvcihlPS0xOysrZTx0Lmxlbmd0aDspaWYoIUFycmF5LmlzQXJyYXkodFtlXSkpcmV0dXJuIEV0KHQsaVthXSk7cmV0dXJuIGZhKGksYSx0KX19dmFyIEtlPS4wMTc0NTMyOTI1MTk5NDMyOTU7ZnVuY3Rpb24gJGUodCxpKXt2YXIgYT1pWzBdLGU9aVsxXTshKGEgaW4gdCkmJmUgaW4gdCYmKHRbYV09dFtlXSxpLmxlbmd0aD09PTMmJih0W2FdPWlbMl0odFthXSkpKX1mdW5jdGlvbiB1dCh0KXtyZXR1cm4gdCpLZX1mdW5jdGlvbiBZZSh0KXtpZih0LnR5cGU9PT0iR0VPR0NTIj90LnByb2pOYW1lPSJsb25nbGF0Ijp0LnR5cGU9PT0iTE9DQUxfQ1MiPyh0LnByb2pOYW1lPSJpZGVudGl0eSIsdC5sb2NhbD0hMCk6dHlwZW9mIHQuUFJPSkVDVElPTj09Im9iamVjdCI/dC5wcm9qTmFtZT1PYmplY3Qua2V5cyh0LlBST0pFQ1RJT04pWzBdOnQucHJvak5hbWU9dC5QUk9KRUNUSU9OLHQuQVhJUyl7Zm9yKHZhciBpPSIiLGE9MCxlPXQuQVhJUy5sZW5ndGg7YTxlOysrYSl7dmFyIHM9W3QuQVhJU1thXVswXS50b0xvd2VyQ2FzZSgpLHQuQVhJU1thXVsxXS50b0xvd2VyQ2FzZSgpXTtzWzBdLmluZGV4T2YoIm5vcnRoIikhPT0tMXx8KHNbMF09PT0ieSJ8fHNbMF09PT0ibGF0IikmJnNbMV09PT0ibm9ydGgiP2krPSJuIjpzWzBdLmluZGV4T2YoInNvdXRoIikhPT0tMXx8KHNbMF09PT0ieSJ8fHNbMF09PT0ibGF0IikmJnNbMV09PT0ic291dGgiP2krPSJzIjpzWzBdLmluZGV4T2YoImVhc3QiKSE9PS0xfHwoc1swXT09PSJ4Inx8c1swXT09PSJsb24iKSYmc1sxXT09PSJlYXN0Ij9pKz0iZSI6KHNbMF0uaW5kZXhPZigid2VzdCIpIT09LTF8fChzWzBdPT09IngifHxzWzBdPT09ImxvbiIpJiZzWzFdPT09Indlc3QiKSYmKGkrPSJ3Iil9aS5sZW5ndGg9PT0yJiYoaSs9InUiKSxpLmxlbmd0aD09PTMmJih0LmF4aXM9aSl9dC5VTklUJiYodC51bml0cz10LlVOSVQubmFtZS50b0xvd2VyQ2FzZSgpLHQudW5pdHM9PT0ibWV0cmUiJiYodC51bml0cz0ibWV0ZXIiKSx0LlVOSVQuY29udmVydCYmKHQudHlwZT09PSJHRU9HQ1MiP3QuREFUVU0mJnQuREFUVU0uU1BIRVJPSUQmJih0LnRvX21ldGVyPXQuVU5JVC5jb252ZXJ0KnQuREFUVU0uU1BIRVJPSUQuYSk6dC50b19tZXRlcj10LlVOSVQuY29udmVydCkpO3ZhciBuPXQuR0VPR0NTO3QudHlwZT09PSJHRU9HQ1MiJiYobj10KSxuJiYobi5EQVRVTT90LmRhdHVtQ29kZT1uLkRBVFVNLm5hbWUudG9Mb3dlckNhc2UoKTp0LmRhdHVtQ29kZT1uLm5hbWUudG9Mb3dlckNhc2UoKSx0LmRhdHVtQ29kZS5zbGljZSgwLDIpPT09ImRfIiYmKHQuZGF0dW1Db2RlPXQuZGF0dW1Db2RlLnNsaWNlKDIpKSwodC5kYXR1bUNvZGU9PT0ibmV3X3plYWxhbmRfZ2VvZGV0aWNfZGF0dW1fMTk0OSJ8fHQuZGF0dW1Db2RlPT09Im5ld196ZWFsYW5kXzE5NDkiKSYmKHQuZGF0dW1Db2RlPSJuemdkNDkiKSwodC5kYXR1bUNvZGU9PT0id2dzXzE5ODQifHx0LmRhdHVtQ29kZT09PSJ3b3JsZF9nZW9kZXRpY19zeXN0ZW1fMTk4NCIpJiYodC5QUk9KRUNUSU9OPT09Ik1lcmNhdG9yX0F1eGlsaWFyeV9TcGhlcmUiJiYodC5zcGhlcmU9ITApLHQuZGF0dW1Db2RlPSJ3Z3M4NCIpLHQuZGF0dW1Db2RlLnNsaWNlKC02KT09PSJfZmVycm8iJiYodC5kYXR1bUNvZGU9dC5kYXR1bUNvZGUuc2xpY2UoMCwtNikpLHQuZGF0dW1Db2RlLnNsaWNlKC04KT09PSJfamFrYXJ0YSImJih0LmRhdHVtQ29kZT10LmRhdHVtQ29kZS5zbGljZSgwLC04KSksfnQuZGF0dW1Db2RlLmluZGV4T2YoImJlbGdlIikmJih0LmRhdHVtQ29kZT0icm5iNzIiKSxuLkRBVFVNJiZuLkRBVFVNLlNQSEVST0lEJiYodC5lbGxwcz1uLkRBVFVNLlNQSEVST0lELm5hbWUucmVwbGFjZSgiXzE5IiwiIikucmVwbGFjZSgvW0NjXWxhcmtlXF8xOC8sImNscmsiKSx0LmVsbHBzLnRvTG93ZXJDYXNlKCkuc2xpY2UoMCwxMyk9PT0iaW50ZXJuYXRpb25hbCImJih0LmVsbHBzPSJpbnRsIiksdC5hPW4uREFUVU0uU1BIRVJPSUQuYSx0LnJmPXBhcnNlRmxvYXQobi5EQVRVTS5TUEhFUk9JRC5yZiwxMCkpLG4uREFUVU0mJm4uREFUVU0uVE9XR1M4NCYmKHQuZGF0dW1fcGFyYW1zPW4uREFUVU0uVE9XR1M4NCksfnQuZGF0dW1Db2RlLmluZGV4T2YoIm9zZ2JfMTkzNiIpJiYodC5kYXR1bUNvZGU9Im9zZ2IzNiIpLH50LmRhdHVtQ29kZS5pbmRleE9mKCJvc25pXzE5NTIiKSYmKHQuZGF0dW1Db2RlPSJvc25pNTIiKSwofnQuZGF0dW1Db2RlLmluZGV4T2YoInRtNjUiKXx8fnQuZGF0dW1Db2RlLmluZGV4T2YoImdlb2RldGljX2RhdHVtX29mXzE5NjUiKSkmJih0LmRhdHVtQ29kZT0iaXJlNjUiKSx0LmRhdHVtQ29kZT09PSJjaDE5MDMrIiYmKHQuZGF0dW1Db2RlPSJjaDE5MDMiKSx+dC5kYXR1bUNvZGUuaW5kZXhPZigiaXNyYWVsIikmJih0LmRhdHVtQ29kZT0iaXNyOTMiKSksdC5iJiYhaXNGaW5pdGUodC5iKSYmKHQuYj10LmEpO2Z1bmN0aW9uIGgodSl7dmFyIGw9dC50b19tZXRlcnx8MTtyZXR1cm4gdSpsfXZhciByPWZ1bmN0aW9uKHUpe3JldHVybiAkZSh0LHUpfSxvPVtbInN0YW5kYXJkX3BhcmFsbGVsXzEiLCJTdGFuZGFyZF9QYXJhbGxlbF8xIl0sWyJzdGFuZGFyZF9wYXJhbGxlbF8xIiwiTGF0aXR1ZGUgb2YgMXN0IHN0YW5kYXJkIHBhcmFsbGVsIl0sWyJzdGFuZGFyZF9wYXJhbGxlbF8yIiwiU3RhbmRhcmRfUGFyYWxsZWxfMiJdLFsic3RhbmRhcmRfcGFyYWxsZWxfMiIsIkxhdGl0dWRlIG9mIDJuZCBzdGFuZGFyZCBwYXJhbGxlbCJdLFsiZmFsc2VfZWFzdGluZyIsIkZhbHNlX0Vhc3RpbmciXSxbImZhbHNlX2Vhc3RpbmciLCJGYWxzZSBlYXN0aW5nIl0sWyJmYWxzZS1lYXN0aW5nIiwiRWFzdGluZyBhdCBmYWxzZSBvcmlnaW4iXSxbImZhbHNlX25vcnRoaW5nIiwiRmFsc2VfTm9ydGhpbmciXSxbImZhbHNlX25vcnRoaW5nIiwiRmFsc2Ugbm9ydGhpbmciXSxbImZhbHNlX25vcnRoaW5nIiwiTm9ydGhpbmcgYXQgZmFsc2Ugb3JpZ2luIl0sWyJjZW50cmFsX21lcmlkaWFuIiwiQ2VudHJhbF9NZXJpZGlhbiJdLFsiY2VudHJhbF9tZXJpZGlhbiIsIkxvbmdpdHVkZSBvZiBuYXR1cmFsIG9yaWdpbiJdLFsiY2VudHJhbF9tZXJpZGlhbiIsIkxvbmdpdHVkZSBvZiBmYWxzZSBvcmlnaW4iXSxbImxhdGl0dWRlX29mX29yaWdpbiIsIkxhdGl0dWRlX09mX09yaWdpbiJdLFsibGF0aXR1ZGVfb2Zfb3JpZ2luIiwiQ2VudHJhbF9QYXJhbGxlbCJdLFsibGF0aXR1ZGVfb2Zfb3JpZ2luIiwiTGF0aXR1ZGUgb2YgbmF0dXJhbCBvcmlnaW4iXSxbImxhdGl0dWRlX29mX29yaWdpbiIsIkxhdGl0dWRlIG9mIGZhbHNlIG9yaWdpbiJdLFsic2NhbGVfZmFjdG9yIiwiU2NhbGVfRmFjdG9yIl0sWyJrMCIsInNjYWxlX2ZhY3RvciJdLFsibGF0aXR1ZGVfb2ZfY2VudGVyIiwiTGF0aXR1ZGVfT2ZfQ2VudGVyIl0sWyJsYXRpdHVkZV9vZl9jZW50ZXIiLCJMYXRpdHVkZV9vZl9jZW50ZXIiXSxbImxhdDAiLCJsYXRpdHVkZV9vZl9jZW50ZXIiLHV0XSxbImxvbmdpdHVkZV9vZl9jZW50ZXIiLCJMb25naXR1ZGVfT2ZfQ2VudGVyIl0sWyJsb25naXR1ZGVfb2ZfY2VudGVyIiwiTG9uZ2l0dWRlX29mX2NlbnRlciJdLFsibG9uZ2MiLCJsb25naXR1ZGVfb2ZfY2VudGVyIix1dF0sWyJ4MCIsImZhbHNlX2Vhc3RpbmciLGhdLFsieTAiLCJmYWxzZV9ub3J0aGluZyIsaF0sWyJsb25nMCIsImNlbnRyYWxfbWVyaWRpYW4iLHV0XSxbImxhdDAiLCJsYXRpdHVkZV9vZl9vcmlnaW4iLHV0XSxbImxhdDAiLCJzdGFuZGFyZF9wYXJhbGxlbF8xIix1dF0sWyJsYXQxIiwic3RhbmRhcmRfcGFyYWxsZWxfMSIsdXRdLFsibGF0MiIsInN0YW5kYXJkX3BhcmFsbGVsXzIiLHV0XSxbImF6aW11dGgiLCJBemltdXRoIl0sWyJhbHBoYSIsImF6aW11dGgiLHV0XSxbInNyc0NvZGUiLCJuYW1lIl1dO28uZm9yRWFjaChyKSwhdC5sb25nMCYmdC5sb25nYyYmKHQucHJvak5hbWU9PT0iQWxiZXJzX0NvbmljX0VxdWFsX0FyZWEifHx0LnByb2pOYW1lPT09IkxhbWJlcnRfQXppbXV0aGFsX0VxdWFsX0FyZWEiKSYmKHQubG9uZzA9dC5sb25nYyksIXQubGF0X3RzJiZ0LmxhdDEmJih0LnByb2pOYW1lPT09IlN0ZXJlb2dyYXBoaWNfU291dGhfUG9sZSJ8fHQucHJvak5hbWU9PT0iUG9sYXIgU3RlcmVvZ3JhcGhpYyAodmFyaWFudCBCKSIpJiYodC5sYXQwPXV0KHQubGF0MT4wPzkwOi05MCksdC5sYXRfdHM9dC5sYXQxKX1mdW5jdGlvbiBkYSh0KXt2YXIgaT1KZSh0KSxhPWkuc2hpZnQoKSxlPWkuc2hpZnQoKTtpLnVuc2hpZnQoWyJuYW1lIixlXSksaS51bnNoaWZ0KFsidHlwZSIsYV0pO3ZhciBzPXt9O3JldHVybiBFdChpLHMpLFllKHMpLHN9ZnVuY3Rpb24gVSh0KXt2YXIgaT10aGlzO2lmKGFyZ3VtZW50cy5sZW5ndGg9PT0yKXt2YXIgYT1hcmd1bWVudHNbMV07dHlwZW9mIGE9PSJzdHJpbmciP2EuY2hhckF0KDApPT09IisiP1VbdF09UGkoYXJndW1lbnRzWzFdKTpVW3RdPWRhKGFyZ3VtZW50c1sxXSk6VVt0XT1hfWVsc2UgaWYoYXJndW1lbnRzLmxlbmd0aD09PTEpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHQubWFwKGZ1bmN0aW9uKGUpe0FycmF5LmlzQXJyYXkoZSk/VS5hcHBseShpLGUpOlUoZSl9KTtpZih0eXBlb2YgdD09InN0cmluZyIpe2lmKHQgaW4gVSlyZXR1cm4gVVt0XX1lbHNlIkVQU0ciaW4gdD9VWyJFUFNHOiIrdC5FUFNHXT10OiJFU1JJImluIHQ/VVsiRVNSSToiK3QuRVNSSV09dDoiSUFVMjAwMCJpbiB0P1VbIklBVTIwMDA6Iit0LklBVTIwMDBdPXQ6Y29uc29sZS5sb2codCk7cmV0dXJufX1OdChVKTtmdW5jdGlvbiBaZSh0KXtyZXR1cm4gdHlwZW9mIHQ9PSJzdHJpbmcifWZ1bmN0aW9uIHRzKHQpe3JldHVybiB0IGluIFV9dmFyIGlzPVsiUFJPSkVDVEVEQ1JTIiwiUFJPSkNSUyIsIkdFT0dDUyIsIkdFT0NDUyIsIlBST0pDUyIsIkxPQ0FMX0NTIiwiR0VPRENSUyIsIkdFT0RFVElDQ1JTIiwiR0VPREVUSUNEQVRVTSIsIkVOR0NSUyIsIkVOR0lORUVSSU5HQ1JTIl07ZnVuY3Rpb24gYXModCl7cmV0dXJuIGlzLnNvbWUoZnVuY3Rpb24oaSl7cmV0dXJuIHQuaW5kZXhPZihpKT4tMX0pfXZhciBlcz1bIjM4NTciLCI5MDA5MTMiLCIzNzg1IiwiMTAyMTEzIl07ZnVuY3Rpb24gc3ModCl7dmFyIGk9cHQodCwiYXV0aG9yaXR5Iik7aWYoaSl7dmFyIGE9cHQoaSwiZXBzZyIpO3JldHVybiBhJiZlcy5pbmRleE9mKGEpPi0xfX1mdW5jdGlvbiBucyh0KXt2YXIgaT1wdCh0LCJleHRlbnNpb24iKTtpZihpKXJldHVybiBwdChpLCJwcm9qNCIpfWZ1bmN0aW9uIHJzKHQpe3JldHVybiB0WzBdPT09IisifWZ1bmN0aW9uIGhzKHQpe2lmKFplKHQpKXtpZih0cyh0KSlyZXR1cm4gVVt0XTtpZihhcyh0KSl7dmFyIGk9ZGEodCk7aWYoc3MoaSkpcmV0dXJuIFVbIkVQU0c6Mzg1NyJdO3ZhciBhPW5zKGkpO3JldHVybiBhP1BpKGEpOml9aWYocnModCkpcmV0dXJuIFBpKHQpfWVsc2UgcmV0dXJuIHR9ZnVuY3Rpb24gcGEodCxpKXt0PXR8fHt9O3ZhciBhLGU7aWYoIWkpcmV0dXJuIHQ7Zm9yKGUgaW4gaSlhPWlbZV0sYSE9PXZvaWQgMCYmKHRbZV09YSk7cmV0dXJuIHR9ZnVuY3Rpb24gc3QodCxpLGEpe3ZhciBlPXQqaTtyZXR1cm4gYS9NYXRoLnNxcnQoMS1lKmUpfWZ1bmN0aW9uIEh0KHQpe3JldHVybiB0PDA/LTE6MX1mdW5jdGlvbiB2KHQpe3JldHVybiBNYXRoLmFicyh0KTw9Uj90OnQtSHQodCkqenR9ZnVuY3Rpb24gWih0LGksYSl7dmFyIGU9dCphLHM9LjUqdDtyZXR1cm4gZT1NYXRoLnBvdygoMS1lKS8oMStlKSxzKSxNYXRoLnRhbiguNSooeS1pKSkvZX1mdW5jdGlvbiBRdCh0LGkpe2Zvcih2YXIgYT0uNSp0LGUscyxuPXktMipNYXRoLmF0YW4oaSksaD0wO2g8PTE1O2grKylpZihlPXQqTWF0aC5zaW4obikscz15LTIqTWF0aC5hdGFuKGkqTWF0aC5wb3coKDEtZSkvKDErZSksYSkpLW4sbis9cyxNYXRoLmFicyhzKTw9MWUtMTApcmV0dXJuIG47cmV0dXJuLTk5OTl9ZnVuY3Rpb24gb3MoKXt2YXIgdD10aGlzLmIvdGhpcy5hO3RoaXMuZXM9MS10KnQsIngwImluIHRoaXN8fCh0aGlzLngwPTApLCJ5MCJpbiB0aGlzfHwodGhpcy55MD0wKSx0aGlzLmU9TWF0aC5zcXJ0KHRoaXMuZXMpLHRoaXMubGF0X3RzP3RoaXMuc3BoZXJlP3RoaXMuazA9TWF0aC5jb3ModGhpcy5sYXRfdHMpOnRoaXMuazA9c3QodGhpcy5lLE1hdGguc2luKHRoaXMubGF0X3RzKSxNYXRoLmNvcyh0aGlzLmxhdF90cykpOnRoaXMuazB8fCh0aGlzLms/dGhpcy5rMD10aGlzLms6dGhpcy5rMD0xKX1mdW5jdGlvbiB1cyh0KXt2YXIgaT10LngsYT10Lnk7aWYoYSpldD45MCYmYSpldDwtOTAmJmkqZXQ+MTgwJiZpKmV0PC0xODApcmV0dXJuIG51bGw7dmFyIGUscztpZihNYXRoLmFicyhNYXRoLmFicyhhKS15KTw9eClyZXR1cm4gbnVsbDtpZih0aGlzLnNwaGVyZSllPXRoaXMueDArdGhpcy5hKnRoaXMuazAqdihpLXRoaXMubG9uZzApLHM9dGhpcy55MCt0aGlzLmEqdGhpcy5rMCpNYXRoLmxvZyhNYXRoLnRhbihDKy41KmEpKTtlbHNle3ZhciBuPU1hdGguc2luKGEpLGg9Wih0aGlzLmUsYSxuKTtlPXRoaXMueDArdGhpcy5hKnRoaXMuazAqdihpLXRoaXMubG9uZzApLHM9dGhpcy55MC10aGlzLmEqdGhpcy5rMCpNYXRoLmxvZyhoKX1yZXR1cm4gdC54PWUsdC55PXMsdH1mdW5jdGlvbiBscyh0KXt2YXIgaT10LngtdGhpcy54MCxhPXQueS10aGlzLnkwLGUscztpZih0aGlzLnNwaGVyZSlzPXktMipNYXRoLmF0YW4oTWF0aC5leHAoLWEvKHRoaXMuYSp0aGlzLmswKSkpO2Vsc2V7dmFyIG49TWF0aC5leHAoLWEvKHRoaXMuYSp0aGlzLmswKSk7aWYocz1RdCh0aGlzLmUsbikscz09PS05OTk5KXJldHVybiBudWxsfXJldHVybiBlPXYodGhpcy5sb25nMCtpLyh0aGlzLmEqdGhpcy5rMCkpLHQueD1lLHQueT1zLHR9dmFyIGNzPVsiTWVyY2F0b3IiLCJQb3B1bGFyIFZpc3VhbGlzYXRpb24gUHNldWRvIE1lcmNhdG9yIiwiTWVyY2F0b3JfMVNQIiwiTWVyY2F0b3JfQXV4aWxpYXJ5X1NwaGVyZSIsIm1lcmMiXSxmcz17aW5pdDpvcyxmb3J3YXJkOnVzLGludmVyc2U6bHMsbmFtZXM6Y3N9O2Z1bmN0aW9uIGRzKCl7fWZ1bmN0aW9uIG1hKHQpe3JldHVybiB0fXZhciBwcz1bImxvbmdsYXQiLCJpZGVudGl0eSJdLG1zPXtpbml0OmRzLGZvcndhcmQ6bWEsaW52ZXJzZTptYSxuYW1lczpwc30sTXM9W2ZzLG1zXSxkaT17fSxwaT1bXTtmdW5jdGlvbiBNYSh0LGkpe3ZhciBhPXBpLmxlbmd0aDtyZXR1cm4gdC5uYW1lcz8ocGlbYV09dCx0Lm5hbWVzLmZvckVhY2goZnVuY3Rpb24oZSl7ZGlbZS50b0xvd2VyQ2FzZSgpXT1hfSksdGhpcyk6KGNvbnNvbGUubG9nKGkpLCEwKX1mdW5jdGlvbiB5cyh0KXtpZighdClyZXR1cm4hMTt2YXIgaT10LnRvTG93ZXJDYXNlKCk7aWYodHlwZW9mIGRpW2ldPCJ1IiYmcGlbZGlbaV1dKXJldHVybiBwaVtkaVtpXV19ZnVuY3Rpb24gZ3MoKXtNcy5mb3JFYWNoKE1hKX12YXIgeHM9e3N0YXJ0OmdzLGFkZDpNYSxnZXQ6eXN9LE49e307Ti5NRVJJVD17YTo2Mzc4MTM3LHJmOjI5OC4yNTcsZWxsaXBzZU5hbWU6Ik1FUklUIDE5ODMifSxOLlNHUzg1PXthOjYzNzgxMzYscmY6Mjk4LjI1NyxlbGxpcHNlTmFtZToiU292aWV0IEdlb2RldGljIFN5c3RlbSA4NSJ9LE4uR1JTODA9e2E6NjM3ODEzNyxyZjoyOTguMjU3MjIyMTAxLGVsbGlwc2VOYW1lOiJHUlMgMTk4MChJVUdHLCAxOTgwKSJ9LE4uSUFVNzY9e2E6NjM3ODE0MCxyZjoyOTguMjU3LGVsbGlwc2VOYW1lOiJJQVUgMTk3NiJ9LE4uYWlyeT17YTo2Mzc3NTYzMzk2ZS0zLGI6NjM1NjI1NjkxZS0yLGVsbGlwc2VOYW1lOiJBaXJ5IDE4MzAifSxOLkFQTDQ9e2E6NjM3ODEzNyxyZjoyOTguMjUsZWxsaXBzZU5hbWU6IkFwcGwuIFBoeXNpY3MuIDE5NjUifSxOLk5XTDlEPXthOjYzNzgxNDUscmY6Mjk4LjI1LGVsbGlwc2VOYW1lOiJOYXZhbCBXZWFwb25zIExhYi4sIDE5NjUifSxOLm1vZF9haXJ5PXthOjYzNzczNDAxODllLTMsYjo2MzU2MDM0NDQ2ZS0zLGVsbGlwc2VOYW1lOiJNb2RpZmllZCBBaXJ5In0sTi5hbmRyYWU9e2E6NjM3NzEwNDQzZS0yLHJmOjMwMCxlbGxpcHNlTmFtZToiQW5kcmFlIDE4NzYgKERlbi4sIEljbG5kLikifSxOLmF1c3RfU0E9e2E6NjM3ODE2MCxyZjoyOTguMjUsZWxsaXBzZU5hbWU6IkF1c3RyYWxpYW4gTmF0bCAmIFMuIEFtZXIuIDE5NjkifSxOLkdSUzY3PXthOjYzNzgxNjAscmY6Mjk4LjI0NzE2NzQyNyxlbGxpcHNlTmFtZToiR1JTIDY3KElVR0cgMTk2NykifSxOLmJlc3NlbD17YTo2Mzc3Mzk3MTU1ZS0zLHJmOjI5OS4xNTI4MTI4LGVsbGlwc2VOYW1lOiJCZXNzZWwgMTg0MSJ9LE4uYmVzc19uYW09e2E6NjM3NzQ4Mzg2NWUtMyxyZjoyOTkuMTUyODEyOCxlbGxpcHNlTmFtZToiQmVzc2VsIDE4NDEgKE5hbWliaWEpIn0sTi5jbHJrNjY9e2E6NjM3ODIwNjRlLTEsYjo2MzU2NTgzOGUtMSxlbGxpcHNlTmFtZToiQ2xhcmtlIDE4NjYifSxOLmNscms4MD17YTo2Mzc4MjQ5MTQ1ZS0zLHJmOjI5My40NjYzLGVsbGlwc2VOYW1lOiJDbGFya2UgMTg4MCBtb2QuIn0sTi5jbHJrNTg9e2E6NjM3ODI5MzY0NTIwODc1OWUtOSxyZjoyOTQuMjYwNjc2MzY5MjY1NCxlbGxpcHNlTmFtZToiQ2xhcmtlIDE4NTgifSxOLkNQTT17YTo2Mzc1NzM4N2UtMSxyZjozMzQuMjksZWxsaXBzZU5hbWU6IkNvbW0uIGRlcyBQb2lkcyBldCBNZXN1cmVzIDE3OTkifSxOLmRlbG1icj17YTo2Mzc2NDI4LHJmOjMxMS41LGVsbGlwc2VOYW1lOiJEZWxhbWJyZSAxODEwIChCZWxnaXVtKSJ9LE4uZW5nZWxpcz17YTo2Mzc4MTM2MDVlLTIscmY6Mjk4LjI1NjYsZWxsaXBzZU5hbWU6IkVuZ2VsaXMgMTk4NSJ9LE4uZXZyc3QzMD17YTo2Mzc3Mjc2MzQ1ZS0zLHJmOjMwMC44MDE3LGVsbGlwc2VOYW1lOiJFdmVyZXN0IDE4MzAifSxOLmV2cnN0NDg9e2E6NjM3NzMwNDA2M2UtMyxyZjozMDAuODAxNyxlbGxpcHNlTmFtZToiRXZlcmVzdCAxOTQ4In0sTi5ldnJzdDU2PXthOjYzNzczMDEyNDNlLTMscmY6MzAwLjgwMTcsZWxsaXBzZU5hbWU6IkV2ZXJlc3QgMTk1NiJ9LE4uZXZyc3Q2OT17YTo2Mzc3Mjk1NjY0ZS0zLHJmOjMwMC44MDE3LGVsbGlwc2VOYW1lOiJFdmVyZXN0IDE5NjkifSxOLmV2cnN0U1M9e2E6NjM3NzI5ODU1NmUtMyxyZjozMDAuODAxNyxlbGxpcHNlTmFtZToiRXZlcmVzdCAoU2FiYWggJiBTYXJhd2FrKSJ9LE4uZnNjaHI2MD17YTo2Mzc4MTY2LHJmOjI5OC4zLGVsbGlwc2VOYW1lOiJGaXNjaGVyIChNZXJjdXJ5IERhdHVtKSAxOTYwIn0sTi5mc2NocjYwbT17YTo2Mzc4MTU1LHJmOjI5OC4zLGVsbGlwc2VOYW1lOiJGaXNjaGVyIDE5NjAifSxOLmZzY2hyNjg9e2E6NjM3ODE1MCxyZjoyOTguMyxlbGxpcHNlTmFtZToiRmlzY2hlciAxOTY4In0sTi5oZWxtZXJ0PXthOjYzNzgyMDAscmY6Mjk4LjMsZWxsaXBzZU5hbWU6IkhlbG1lcnQgMTkwNiJ9LE4uaG91Z2g9e2E6NjM3ODI3MCxyZjoyOTcsZWxsaXBzZU5hbWU6IkhvdWdoIn0sTi5pbnRsPXthOjYzNzgzODgscmY6Mjk3LGVsbGlwc2VOYW1lOiJJbnRlcm5hdGlvbmFsIDE5MDkgKEhheWZvcmQpIn0sTi5rYXVsYT17YTo2Mzc4MTYzLHJmOjI5OC4yNCxlbGxpcHNlTmFtZToiS2F1bGEgMTk2MSJ9LE4ubGVyY2g9e2E6NjM3ODEzOSxyZjoyOTguMjU3LGVsbGlwc2VOYW1lOiJMZXJjaCAxOTc5In0sTi5tcHJ0cz17YTo2Mzk3MzAwLHJmOjE5MSxlbGxpcHNlTmFtZToiTWF1cGVydGl1cyAxNzM4In0sTi5uZXdfaW50bD17YTo2Mzc4MTU3NWUtMSxiOjYzNTY3NzIyZS0xLGVsbGlwc2VOYW1lOiJOZXcgSW50ZXJuYXRpb25hbCAxOTY3In0sTi5wbGVzc2lzPXthOjYzNzY1MjMscmY6NjM1NTg2MyxlbGxpcHNlTmFtZToiUGxlc3NpcyAxODE3IChGcmFuY2UpIn0sTi5rcmFzcz17YTo2Mzc4MjQ1LHJmOjI5OC4zLGVsbGlwc2VOYW1lOiJLcmFzc292c2t5LCAxOTQyIn0sTi5TRWFzaWE9e2E6NjM3ODE1NSxiOjYzNTY3NzMzMjA1ZS00LGVsbGlwc2VOYW1lOiJTb3V0aGVhc3QgQXNpYSJ9LE4ud2FsYmVjaz17YTo2Mzc2ODk2LGI6NjM1NTgzNDg0NjdlLTQsZWxsaXBzZU5hbWU6IldhbGJlY2sifSxOLldHUzYwPXthOjYzNzgxNjUscmY6Mjk4LjMsZWxsaXBzZU5hbWU6IldHUyA2MCJ9LE4uV0dTNjY9e2E6NjM3ODE0NSxyZjoyOTguMjUsZWxsaXBzZU5hbWU6IldHUyA2NiJ9LE4uV0dTNz17YTo2Mzc4MTM1LHJmOjI5OC4yNixlbGxpcHNlTmFtZToiV0dTIDcyIn07dmFyIF9zPU4uV0dTODQ9e2E6NjM3ODEzNyxyZjoyOTguMjU3MjIzNTYzLGVsbGlwc2VOYW1lOiJXR1MgODQifTtOLnNwaGVyZT17YTo2MzcwOTk3LGI6NjM3MDk5NyxlbGxpcHNlTmFtZToiTm9ybWFsIFNwaGVyZSAocj02MzcwOTk3KSJ9O2Z1bmN0aW9uIHZzKHQsaSxhLGUpe3ZhciBzPXQqdCxuPWkqaSxoPShzLW4pL3Mscj0wO2U/KHQqPTEtaCooemUraCooVWUraCpIZSkpLHM9dCp0LGg9MCk6cj1NYXRoLnNxcnQoaCk7dmFyIG89KHMtbikvbjtyZXR1cm57ZXM6aCxlOnIsZXAyOm99fWZ1bmN0aW9uIGJzKHQsaSxhLGUscyl7aWYoIXQpe3ZhciBuPXB0KE4sZSk7bnx8KG49X3MpLHQ9bi5hLGk9bi5iLGE9bi5yZn1yZXR1cm4gYSYmIWkmJihpPSgxLTEvYSkqdCksKGE9PT0wfHxNYXRoLmFicyh0LWkpPHgpJiYocz0hMCxpPXQpLHthOnQsYjppLHJmOmEsc3BoZXJlOnN9fXZhciBxPXt9O3Eud2dzODQ9e3Rvd2dzODQ6IjAsMCwwIixlbGxpcHNlOiJXR1M4NCIsZGF0dW1OYW1lOiJXR1M4NCJ9LHEuY2gxOTAzPXt0b3dnczg0OiI2NzQuMzc0LDE1LjA1Niw0MDUuMzQ2IixlbGxpcHNlOiJiZXNzZWwiLGRhdHVtTmFtZToic3dpc3MifSxxLmdncnM4Nz17dG93Z3M4NDoiLTE5OS44Nyw3NC43OSwyNDYuNjIiLGVsbGlwc2U6IkdSUzgwIixkYXR1bU5hbWU6IkdyZWVrX0dlb2RldGljX1JlZmVyZW5jZV9TeXN0ZW1fMTk4NyJ9LHEubmFkODM9e3Rvd2dzODQ6IjAsMCwwIixlbGxpcHNlOiJHUlM4MCIsZGF0dW1OYW1lOiJOb3J0aF9BbWVyaWNhbl9EYXR1bV8xOTgzIn0scS5uYWQyNz17bmFkZ3JpZHM6IkBjb251cyxAYWxhc2thLEBudHYyXzAuZ3NiLEBudHYxX2Nhbi5kYXQiLGVsbGlwc2U6ImNscms2NiIsZGF0dW1OYW1lOiJOb3J0aF9BbWVyaWNhbl9EYXR1bV8xOTI3In0scS5wb3RzZGFtPXt0b3dnczg0OiI1OTguMSw3My43LDQxOC4yLDAuMjAyLDAuMDQ1LC0yLjQ1NSw2LjciLGVsbGlwc2U6ImJlc3NlbCIsZGF0dW1OYW1lOiJQb3RzZGFtIFJhdWVuYmVyZyAxOTUwIERIRE4ifSxxLmNhcnRoYWdlPXt0b3dnczg0OiItMjYzLjAsNi4wLDQzMS4wIixlbGxpcHNlOiJjbGFyazgwIixkYXR1bU5hbWU6IkNhcnRoYWdlIDE5MzQgVHVuaXNpYSJ9LHEuaGVybWFubnNrb2dlbD17dG93Z3M4NDoiNTc3LjMyNiw5MC4xMjksNDYzLjkxOSw1LjEzNywxLjQ3NCw1LjI5NywyLjQyMzIiLGVsbGlwc2U6ImJlc3NlbCIsZGF0dW1OYW1lOiJIZXJtYW5uc2tvZ2VsIn0scS5vc25pNTI9e3Rvd2dzODQ6IjQ4Mi41MzAsLTEzMC41OTYsNTY0LjU1NywtMS4wNDIsLTAuMjE0LC0wLjYzMSw4LjE1IixlbGxpcHNlOiJhaXJ5IixkYXR1bU5hbWU6IklyaXNoIE5hdGlvbmFsIn0scS5pcmU2NT17dG93Z3M4NDoiNDgyLjUzMCwtMTMwLjU5Niw1NjQuNTU3LC0xLjA0MiwtMC4yMTQsLTAuNjMxLDguMTUiLGVsbGlwc2U6Im1vZF9haXJ5IixkYXR1bU5hbWU6IklyZWxhbmQgMTk2NSJ9LHEucmFzc2FkaXJhbj17dG93Z3M4NDoiLTEzMy42MywtMTU3LjUsLTE1OC42MiIsZWxsaXBzZToiaW50bCIsZGF0dW1OYW1lOiJSYXNzYWRpcmFuIn0scS5uemdkNDk9e3Rvd2dzODQ6IjU5LjQ3LC01LjA0LDE4Ny40NCwwLjQ3LC0wLjEsMS4wMjQsLTQuNTk5MyIsZWxsaXBzZToiaW50bCIsZGF0dW1OYW1lOiJOZXcgWmVhbGFuZCBHZW9kZXRpYyBEYXR1bSAxOTQ5In0scS5vc2diMzY9e3Rvd2dzODQ6IjQ0Ni40NDgsLTEyNS4xNTcsNTQyLjA2MCwwLjE1MDIsMC4yNDcwLDAuODQyMSwtMjAuNDg5NCIsZWxsaXBzZToiYWlyeSIsZGF0dW1OYW1lOiJBaXJ5IDE4MzAifSxxLnNfanRzaz17dG93Z3M4NDoiNTg5LDc2LDQ4MCIsZWxsaXBzZToiYmVzc2VsIixkYXR1bU5hbWU6IlMtSlRTSyAoRmVycm8pIn0scS5iZWR1YXJhbT17dG93Z3M4NDoiLTEwNiwtODcsMTg4IixlbGxpcHNlOiJjbHJrODAiLGRhdHVtTmFtZToiQmVkdWFyYW0ifSxxLmd1bnVuZ19zZWdhcmE9e3Rvd2dzODQ6Ii00MDMsNjg0LDQxIixlbGxpcHNlOiJiZXNzZWwiLGRhdHVtTmFtZToiR3VudW5nIFNlZ2FyYSBKYWthcnRhIn0scS5ybmI3Mj17dG93Z3M4NDoiMTA2Ljg2OSwtNTIuMjk3OCwxMDMuNzI0LC0wLjMzNjU3LDAuNDU2OTU1LC0xLjg0MjE4LDEiLGVsbGlwc2U6ImludGwiLGRhdHVtTmFtZToiUmVzZWF1IE5hdGlvbmFsIEJlbGdlIDE5NzIifTtmdW5jdGlvbiBOcyh0LGksYSxlLHMsbixoKXt2YXIgcj17fTtyZXR1cm4gdD09PXZvaWQgMHx8dD09PSJub25lIj9yLmRhdHVtX3R5cGU9RGk6ci5kYXR1bV90eXBlPWplLGkmJihyLmRhdHVtX3BhcmFtcz1pLm1hcChwYXJzZUZsb2F0KSwoci5kYXR1bV9wYXJhbXNbMF0hPT0wfHxyLmRhdHVtX3BhcmFtc1sxXSE9PTB8fHIuZGF0dW1fcGFyYW1zWzJdIT09MCkmJihyLmRhdHVtX3R5cGU9eHQpLHIuZGF0dW1fcGFyYW1zLmxlbmd0aD4zJiYoci5kYXR1bV9wYXJhbXNbM10hPT0wfHxyLmRhdHVtX3BhcmFtc1s0XSE9PTB8fHIuZGF0dW1fcGFyYW1zWzVdIT09MHx8ci5kYXR1bV9wYXJhbXNbNl0hPT0wKSYmKHIuZGF0dW1fdHlwZT1fdCxyLmRhdHVtX3BhcmFtc1szXSo9R3Qsci5kYXR1bV9wYXJhbXNbNF0qPUd0LHIuZGF0dW1fcGFyYW1zWzVdKj1HdCxyLmRhdHVtX3BhcmFtc1s2XT1yLmRhdHVtX3BhcmFtc1s2XS8xZTYrMSkpLGgmJihyLmRhdHVtX3R5cGU9bGksci5ncmlkcz1oKSxyLmE9YSxyLmI9ZSxyLmVzPXMsci5lcDI9bixyfXZhciB5YT17fTtmdW5jdGlvbiBFcyh0LGkpe3ZhciBhPW5ldyBEYXRhVmlldyhpKSxlPUNzKGEpLHM9U3MoYSxlKTtzLm5TdWJncmlkcz4xJiZjb25zb2xlLmxvZygiT25seSBzaW5nbGUgTlR2MiBzdWJncmlkcyBhcmUgY3VycmVudGx5IHN1cHBvcnRlZCwgc3Vic2VxdWVudCBzdWIgZ3JpZHMgYXJlIGlnbm9yZWQiKTt2YXIgbj1UcyhhLHMsZSksaD17aGVhZGVyOnMsc3ViZ3JpZHM6bn07cmV0dXJuIHlhW3RdPWgsaH1mdW5jdGlvbiB3cyh0KXtpZih0PT09dm9pZCAwKXJldHVybiBudWxsO3ZhciBpPXQuc3BsaXQoIiwiKTtyZXR1cm4gaS5tYXAoQXMpfWZ1bmN0aW9uIEFzKHQpe2lmKHQubGVuZ3RoPT09MClyZXR1cm4gbnVsbDt2YXIgaT10WzBdPT09IkAiO3JldHVybiBpJiYodD10LnNsaWNlKDEpKSx0PT09Im51bGwiP3tuYW1lOiJudWxsIixtYW5kYXRvcnk6IWksZ3JpZDpudWxsLGlzTnVsbDohMH06e25hbWU6dCxtYW5kYXRvcnk6IWksZ3JpZDp5YVt0XXx8bnVsbCxpc051bGw6ITF9fWZ1bmN0aW9uIHd0KHQpe3JldHVybiB0LzM2MDAqTWF0aC5QSS8xODB9ZnVuY3Rpb24gQ3ModCl7dmFyIGk9dC5nZXRJbnQzMig4LCExKTtyZXR1cm4gaT09PTExPyExOihpPXQuZ2V0SW50MzIoOCwhMCksaSE9PTExJiZjb25zb2xlLndhcm4oIkZhaWxlZCB0byBkZXRlY3QgbmFkZ3JpZCBlbmRpYW4tbmVzcywgZGVmYXVsdGluZyB0byBsaXR0bGUtZW5kaWFuIiksITApfWZ1bmN0aW9uIFNzKHQsaSl7cmV0dXJue25GaWVsZHM6dC5nZXRJbnQzMig4LGkpLG5TdWJncmlkRmllbGRzOnQuZ2V0SW50MzIoMjQsaSksblN1YmdyaWRzOnQuZ2V0SW50MzIoNDAsaSksc2hpZnRUeXBlOmtpKHQsNTYsNjQpLnRyaW0oKSxmcm9tU2VtaU1ham9yQXhpczp0LmdldEZsb2F0NjQoMTIwLGkpLGZyb21TZW1pTWlub3JBeGlzOnQuZ2V0RmxvYXQ2NCgxMzYsaSksdG9TZW1pTWFqb3JBeGlzOnQuZ2V0RmxvYXQ2NCgxNTIsaSksdG9TZW1pTWlub3JBeGlzOnQuZ2V0RmxvYXQ2NCgxNjgsaSl9fWZ1bmN0aW9uIGtpKHQsaSxhKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KHQuYnVmZmVyLnNsaWNlKGksYSkpKX1mdW5jdGlvbiBUcyh0LGksYSl7Zm9yKHZhciBlPTE3NixzPVtdLG49MDtuPGkublN1YmdyaWRzO24rKyl7dmFyIGg9SXModCxlLGEpLHI9RHModCxlLGgsYSksbz1NYXRoLnJvdW5kKDErKGgudXBwZXJMb25naXR1ZGUtaC5sb3dlckxvbmdpdHVkZSkvaC5sb25naXR1ZGVJbnRlcnZhbCksdT1NYXRoLnJvdW5kKDErKGgudXBwZXJMYXRpdHVkZS1oLmxvd2VyTGF0aXR1ZGUpL2gubGF0aXR1ZGVJbnRlcnZhbCk7cy5wdXNoKHtsbDpbd3QoaC5sb3dlckxvbmdpdHVkZSksd3QoaC5sb3dlckxhdGl0dWRlKV0sZGVsOlt3dChoLmxvbmdpdHVkZUludGVydmFsKSx3dChoLmxhdGl0dWRlSW50ZXJ2YWwpXSxsaW06W28sdV0sY291bnQ6aC5ncmlkTm9kZUNvdW50LGN2czpPcyhyKX0pfXJldHVybiBzfWZ1bmN0aW9uIE9zKHQpe3JldHVybiB0Lm1hcChmdW5jdGlvbihpKXtyZXR1cm5bd3QoaS5sb25naXR1ZGVTaGlmdCksd3QoaS5sYXRpdHVkZVNoaWZ0KV19KX1mdW5jdGlvbiBJcyh0LGksYSl7cmV0dXJue25hbWU6a2kodCxpKzgsaSsxNikudHJpbSgpLHBhcmVudDpraSh0LGkrMjQsaSsyNCs4KS50cmltKCksbG93ZXJMYXRpdHVkZTp0LmdldEZsb2F0NjQoaSs3MixhKSx1cHBlckxhdGl0dWRlOnQuZ2V0RmxvYXQ2NChpKzg4LGEpLGxvd2VyTG9uZ2l0dWRlOnQuZ2V0RmxvYXQ2NChpKzEwNCxhKSx1cHBlckxvbmdpdHVkZTp0LmdldEZsb2F0NjQoaSsxMjAsYSksbGF0aXR1ZGVJbnRlcnZhbDp0LmdldEZsb2F0NjQoaSsxMzYsYSksbG9uZ2l0dWRlSW50ZXJ2YWw6dC5nZXRGbG9hdDY0KGkrMTUyLGEpLGdyaWROb2RlQ291bnQ6dC5nZXRJbnQzMihpKzE2OCxhKX19ZnVuY3Rpb24gRHModCxpLGEsZSl7Zm9yKHZhciBzPWkrMTc2LG49MTYsaD1bXSxyPTA7cjxhLmdyaWROb2RlQ291bnQ7cisrKXt2YXIgbz17bGF0aXR1ZGVTaGlmdDp0LmdldEZsb2F0MzIocytyKm4sZSksbG9uZ2l0dWRlU2hpZnQ6dC5nZXRGbG9hdDMyKHMrcipuKzQsZSksbGF0aXR1ZGVBY2N1cmFjeTp0LmdldEZsb2F0MzIocytyKm4rOCxlKSxsb25naXR1ZGVBY2N1cmFjeTp0LmdldEZsb2F0MzIocytyKm4rMTIsZSl9O2gucHVzaChvKX1yZXR1cm4gaH1mdW5jdGlvbiBudCh0LGkpe2lmKCEodGhpcyBpbnN0YW5jZW9mIG50KSlyZXR1cm4gbmV3IG50KHQpO2k9aXx8ZnVuY3Rpb24odSl7aWYodSl0aHJvdyB1fTt2YXIgYT1ocyh0KTtpZih0eXBlb2YgYSE9Im9iamVjdCIpe2kodCk7cmV0dXJufXZhciBlPW50LnByb2plY3Rpb25zLmdldChhLnByb2pOYW1lKTtpZighZSl7aSh0KTtyZXR1cm59aWYoYS5kYXR1bUNvZGUmJmEuZGF0dW1Db2RlIT09Im5vbmUiKXt2YXIgcz1wdChxLGEuZGF0dW1Db2RlKTtzJiYoYS5kYXR1bV9wYXJhbXM9YS5kYXR1bV9wYXJhbXN8fChzLnRvd2dzODQ/cy50b3dnczg0LnNwbGl0KCIsIik6bnVsbCksYS5lbGxwcz1zLmVsbGlwc2UsYS5kYXR1bU5hbWU9cy5kYXR1bU5hbWU/cy5kYXR1bU5hbWU6YS5kYXR1bUNvZGUpfWEuazA9YS5rMHx8MSxhLmF4aXM9YS5heGlzfHwiZW51IixhLmVsbHBzPWEuZWxscHN8fCJ3Z3M4NCIsYS5sYXQxPWEubGF0MXx8YS5sYXQwO3ZhciBuPWJzKGEuYSxhLmIsYS5yZixhLmVsbHBzLGEuc3BoZXJlKSxoPXZzKG4uYSxuLmIsbi5yZixhLlJfQSkscj13cyhhLm5hZGdyaWRzKSxvPWEuZGF0dW18fE5zKGEuZGF0dW1Db2RlLGEuZGF0dW1fcGFyYW1zLG4uYSxuLmIsaC5lcyxoLmVwMixyKTtwYSh0aGlzLGEpLHBhKHRoaXMsZSksdGhpcy5hPW4uYSx0aGlzLmI9bi5iLHRoaXMucmY9bi5yZix0aGlzLnNwaGVyZT1uLnNwaGVyZSx0aGlzLmVzPWguZXMsdGhpcy5lPWguZSx0aGlzLmVwMj1oLmVwMix0aGlzLmRhdHVtPW8sdGhpcy5pbml0KCksaShudWxsLHRoaXMpfW50LnByb2plY3Rpb25zPXhzLG50LnByb2plY3Rpb25zLnN0YXJ0KCk7ZnVuY3Rpb24gUHModCxpKXtyZXR1cm4gdC5kYXR1bV90eXBlIT09aS5kYXR1bV90eXBlfHx0LmEhPT1pLmF8fE1hdGguYWJzKHQuZXMtaS5lcyk+NWUtMTE/ITE6dC5kYXR1bV90eXBlPT09eHQ/dC5kYXR1bV9wYXJhbXNbMF09PT1pLmRhdHVtX3BhcmFtc1swXSYmdC5kYXR1bV9wYXJhbXNbMV09PT1pLmRhdHVtX3BhcmFtc1sxXSYmdC5kYXR1bV9wYXJhbXNbMl09PT1pLmRhdHVtX3BhcmFtc1syXTp0LmRhdHVtX3R5cGU9PT1fdD90LmRhdHVtX3BhcmFtc1swXT09PWkuZGF0dW1fcGFyYW1zWzBdJiZ0LmRhdHVtX3BhcmFtc1sxXT09PWkuZGF0dW1fcGFyYW1zWzFdJiZ0LmRhdHVtX3BhcmFtc1syXT09PWkuZGF0dW1fcGFyYW1zWzJdJiZ0LmRhdHVtX3BhcmFtc1szXT09PWkuZGF0dW1fcGFyYW1zWzNdJiZ0LmRhdHVtX3BhcmFtc1s0XT09PWkuZGF0dW1fcGFyYW1zWzRdJiZ0LmRhdHVtX3BhcmFtc1s1XT09PWkuZGF0dW1fcGFyYW1zWzVdJiZ0LmRhdHVtX3BhcmFtc1s2XT09PWkuZGF0dW1fcGFyYW1zWzZdOiEwfWZ1bmN0aW9uIGdhKHQsaSxhKXt2YXIgZT10Lngscz10Lnksbj10Lno/dC56OjAsaCxyLG8sdTtpZihzPC15JiZzPi0xLjAwMSp5KXM9LXk7ZWxzZSBpZihzPnkmJnM8MS4wMDEqeSlzPXk7ZWxzZXtpZihzPC15KXJldHVybnt4Oi0xLzAseTotMS8wLHo6dC56fTtpZihzPnkpcmV0dXJue3g6MS8wLHk6MS8wLHo6dC56fX1yZXR1cm4gZT5NYXRoLlBJJiYoZS09MipNYXRoLlBJKSxyPU1hdGguc2luKHMpLHU9TWF0aC5jb3Mocyksbz1yKnIsaD1hL01hdGguc3FydCgxLWkqbykse3g6KGgrbikqdSpNYXRoLmNvcyhlKSx5OihoK24pKnUqTWF0aC5zaW4oZSksejooaCooMS1pKStuKSpyfX1mdW5jdGlvbiB4YSh0LGksYSxlKXt2YXIgcz0xZS0xMixuPXMqcyxoPTMwLHIsbyx1LGwsYyxmLHAsbSxkLE0sZyxfLGIsRT10Lngsdz10LnksQT10Lno/dC56OjAsRixPLEk7aWYocj1NYXRoLnNxcnQoRSpFK3cqdyksbz1NYXRoLnNxcnQoRSpFK3cqdytBKkEpLHIvYTxzKXtpZihGPTAsby9hPHMpcmV0dXJuIE89eSxJPS1lLHt4OnQueCx5OnQueSx6OnQuen19ZWxzZSBGPU1hdGguYXRhbjIodyxFKTt1PUEvbyxsPXIvbyxjPTEvTWF0aC5zcXJ0KDEtaSooMi1pKSpsKmwpLG09bCooMS1pKSpjLGQ9dSpjLGI9MDtkbyBiKysscD1hL01hdGguc3FydCgxLWkqZCpkKSxJPXIqbStBKmQtcCooMS1pKmQqZCksZj1pKnAvKHArSSksYz0xL01hdGguc3FydCgxLWYqKDItZikqbCpsKSxNPWwqKDEtZikqYyxnPXUqYyxfPWcqbS1NKmQsbT1NLGQ9Zzt3aGlsZShfKl8+biYmYjxoKTtyZXR1cm4gTz1NYXRoLmF0YW4oZy9NYXRoLmFicyhNKSkse3g6Rix5Ok8sejpJfX1mdW5jdGlvbiBScyh0LGksYSl7aWYoaT09PXh0KXJldHVybnt4OnQueCthWzBdLHk6dC55K2FbMV0sejp0LnorYVsyXX07aWYoaT09PV90KXt2YXIgZT1hWzBdLHM9YVsxXSxuPWFbMl0saD1hWzNdLHI9YVs0XSxvPWFbNV0sdT1hWzZdO3JldHVybnt4OnUqKHQueC1vKnQueStyKnQueikrZSx5OnUqKG8qdC54K3QueS1oKnQueikrcyx6OnUqKC1yKnQueCtoKnQueSt0LnopK259fX1mdW5jdGlvbiBrcyh0LGksYSl7aWYoaT09PXh0KXJldHVybnt4OnQueC1hWzBdLHk6dC55LWFbMV0sejp0LnotYVsyXX07aWYoaT09PV90KXt2YXIgZT1hWzBdLHM9YVsxXSxuPWFbMl0saD1hWzNdLHI9YVs0XSxvPWFbNV0sdT1hWzZdLGw9KHQueC1lKS91LGM9KHQueS1zKS91LGY9KHQuei1uKS91O3JldHVybnt4OmwrbypjLXIqZix5Oi1vKmwrYytoKmYsejpyKmwtaCpjK2Z9fX1mdW5jdGlvbiBtaSh0KXtyZXR1cm4gdD09PXh0fHx0PT09X3R9ZnVuY3Rpb24gQnModCxpLGEpe2lmKFBzKHQsaSl8fHQuZGF0dW1fdHlwZT09PURpfHxpLmRhdHVtX3R5cGU9PT1EaSlyZXR1cm4gYTt2YXIgZT10LmEscz10LmVzO2lmKHQuZGF0dW1fdHlwZT09PWxpKXt2YXIgbj1fYSh0LCExLGEpO2lmKG4hPT0wKXJldHVybjtlPW5hLHM9cmF9dmFyIGg9aS5hLHI9aS5iLG89aS5lcztpZihpLmRhdHVtX3R5cGU9PT1saSYmKGg9bmEscj1HZSxvPXJhKSxzPT09byYmZT09PWgmJiFtaSh0LmRhdHVtX3R5cGUpJiYhbWkoaS5kYXR1bV90eXBlKSlyZXR1cm4gYTtpZihhPWdhKGEscyxlKSxtaSh0LmRhdHVtX3R5cGUpJiYoYT1ScyhhLHQuZGF0dW1fdHlwZSx0LmRhdHVtX3BhcmFtcykpLG1pKGkuZGF0dW1fdHlwZSkmJihhPWtzKGEsaS5kYXR1bV90eXBlLGkuZGF0dW1fcGFyYW1zKSksYT14YShhLG8saCxyKSxpLmRhdHVtX3R5cGU9PT1saSl7dmFyIHU9X2EoaSwhMCxhKTtpZih1IT09MClyZXR1cm59cmV0dXJuIGF9ZnVuY3Rpb24gX2EodCxpLGEpe2lmKHQuZ3JpZHM9PT1udWxsfHx0LmdyaWRzLmxlbmd0aD09PTApcmV0dXJuIGNvbnNvbGUubG9nKCJHcmlkIHNoaWZ0IGdyaWRzIG5vdCBmb3VuZCIpLC0xO2Zvcih2YXIgZT17eDotYS54LHk6YS55fSxzPXt4Ok51bWJlci5OYU4seTpOdW1iZXIuTmFOfSxuPVtdLGg9MDtoPHQuZ3JpZHMubGVuZ3RoO2grKyl7dmFyIHI9dC5ncmlkc1toXTtpZihuLnB1c2goci5uYW1lKSxyLmlzTnVsbCl7cz1lO2JyZWFrfWlmKHIubWFuZGF0b3J5LHIuZ3JpZD09PW51bGwpe2lmKHIubWFuZGF0b3J5KXJldHVybiBjb25zb2xlLmxvZygiVW5hYmxlIHRvIGZpbmQgbWFuZGF0b3J5IGdyaWQgJyIrci5uYW1lKyInIiksLTE7Y29udGludWV9dmFyIG89ci5ncmlkLnN1YmdyaWRzWzBdLHU9KE1hdGguYWJzKG8uZGVsWzFdKStNYXRoLmFicyhvLmRlbFswXSkpLzFlNCxsPW8ubGxbMF0tdSxjPW8ubGxbMV0tdSxmPW8ubGxbMF0rKG8ubGltWzBdLTEpKm8uZGVsWzBdK3UscD1vLmxsWzFdKyhvLmxpbVsxXS0xKSpvLmRlbFsxXSt1O2lmKCEoYz5lLnl8fGw+ZS54fHxwPGUueXx8ZjxlLngpJiYocz1xcyhlLGksbyksIWlzTmFOKHMueCkpKWJyZWFrfXJldHVybiBpc05hTihzLngpPyhjb25zb2xlLmxvZygiRmFpbGVkIHRvIGZpbmQgYSBncmlkIHNoaWZ0IHRhYmxlIGZvciBsb2NhdGlvbiAnIistZS54KmV0KyIgIitlLnkqZXQrIiB0cmllZDogJyIrbisiJyIpLC0xKTooYS54PS1zLngsYS55PXMueSwwKX1mdW5jdGlvbiBxcyh0LGksYSl7dmFyIGU9e3g6TnVtYmVyLk5hTix5Ok51bWJlci5OYU59O2lmKGlzTmFOKHQueCkpcmV0dXJuIGU7dmFyIHM9e3g6dC54LHk6dC55fTtzLngtPWEubGxbMF0scy55LT1hLmxsWzFdLHMueD12KHMueC1NYXRoLlBJKStNYXRoLlBJO3ZhciBuPXZhKHMsYSk7aWYoaSl7aWYoaXNOYU4obi54KSlyZXR1cm4gZTtuLng9cy54LW4ueCxuLnk9cy55LW4ueTt2YXIgaD05LHI9MWUtMTIsbyx1O2Rve2lmKHU9dmEobixhKSxpc05hTih1LngpKXtjb25zb2xlLmxvZygiSW52ZXJzZSBncmlkIHNoaWZ0IGl0ZXJhdGlvbiBmYWlsZWQsIHByZXN1bWFibHkgYXQgZ3JpZCBlZGdlLiAgVXNpbmcgZmlyc3QgYXBwcm94aW1hdGlvbi4iKTticmVha31vPXt4OnMueC0odS54K24ueCkseTpzLnktKHUueStuLnkpfSxuLngrPW8ueCxuLnkrPW8ueX13aGlsZShoLS0mJk1hdGguYWJzKG8ueCk+ciYmTWF0aC5hYnMoby55KT5yKTtpZihoPDApcmV0dXJuIGNvbnNvbGUubG9nKCJJbnZlcnNlIGdyaWQgc2hpZnQgaXRlcmF0b3IgZmFpbGVkIHRvIGNvbnZlcmdlLiIpLGU7ZS54PXYobi54K2EubGxbMF0pLGUueT1uLnkrYS5sbFsxXX1lbHNlIGlzTmFOKG4ueCl8fChlLng9dC54K24ueCxlLnk9dC55K24ueSk7cmV0dXJuIGV9ZnVuY3Rpb24gdmEodCxpKXt2YXIgYT17eDp0LngvaS5kZWxbMF0seTp0LnkvaS5kZWxbMV19LGU9e3g6TWF0aC5mbG9vcihhLngpLHk6TWF0aC5mbG9vcihhLnkpfSxzPXt4OmEueC0xKmUueCx5OmEueS0xKmUueX0sbj17eDpOdW1iZXIuTmFOLHk6TnVtYmVyLk5hTn0saDtpZihlLng8MHx8ZS54Pj1pLmxpbVswXXx8ZS55PDB8fGUueT49aS5saW1bMV0pcmV0dXJuIG47aD1lLnkqaS5saW1bMF0rZS54O3ZhciByPXt4OmkuY3ZzW2hdWzBdLHk6aS5jdnNbaF1bMV19O2grKzt2YXIgbz17eDppLmN2c1toXVswXSx5OmkuY3ZzW2hdWzFdfTtoKz1pLmxpbVswXTt2YXIgdT17eDppLmN2c1toXVswXSx5OmkuY3ZzW2hdWzFdfTtoLS07dmFyIGw9e3g6aS5jdnNbaF1bMF0seTppLmN2c1toXVsxXX0sYz1zLngqcy55LGY9cy54KigxLXMueSkscD0oMS1zLngpKigxLXMueSksbT0oMS1zLngpKnMueTtyZXR1cm4gbi54PXAqci54K2Yqby54K20qbC54K2MqdS54LG4ueT1wKnIueStmKm8ueSttKmwueStjKnUueSxufWZ1bmN0aW9uIGJhKHQsaSxhKXt2YXIgZT1hLngscz1hLnksbj1hLnp8fDAsaCxyLG8sdT17fTtmb3Iobz0wO288MztvKyspaWYoIShpJiZvPT09MiYmYS56PT09dm9pZCAwKSlzd2l0Y2gobz09PTA/KGg9ZSwiZXciLmluZGV4T2YodC5heGlzW29dKSE9PS0xP3I9IngiOnI9InkiKTpvPT09MT8oaD1zLCJucyIuaW5kZXhPZih0LmF4aXNbb10pIT09LTE/cj0ieSI6cj0ieCIpOihoPW4scj0ieiIpLHQuYXhpc1tvXSl7Y2FzZSJlIjp1W3JdPWg7YnJlYWs7Y2FzZSJ3Ijp1W3JdPS1oO2JyZWFrO2Nhc2UibiI6dVtyXT1oO2JyZWFrO2Nhc2UicyI6dVtyXT0taDticmVhaztjYXNlInUiOmFbcl0hPT12b2lkIDAmJih1Lno9aCk7YnJlYWs7Y2FzZSJkIjphW3JdIT09dm9pZCAwJiYodS56PS1oKTticmVhaztkZWZhdWx0OnJldHVybiBudWxsfXJldHVybiB1fWZ1bmN0aW9uIE5hKHQpe3ZhciBpPXt4OnRbMF0seTp0WzFdfTtyZXR1cm4gdC5sZW5ndGg+MiYmKGkuej10WzJdKSx0Lmxlbmd0aD4zJiYoaS5tPXRbM10pLGl9ZnVuY3Rpb24gTHModCl7RWEodC54KSxFYSh0LnkpfWZ1bmN0aW9uIEVhKHQpe2lmKHR5cGVvZiBOdW1iZXIuaXNGaW5pdGU9PSJmdW5jdGlvbiIpe2lmKE51bWJlci5pc0Zpbml0ZSh0KSlyZXR1cm47dGhyb3cgbmV3IFR5cGVFcnJvcigiY29vcmRpbmF0ZXMgbXVzdCBiZSBmaW5pdGUgbnVtYmVycyIpfWlmKHR5cGVvZiB0IT0ibnVtYmVyInx8dCE9PXR8fCFpc0Zpbml0ZSh0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJjb29yZGluYXRlcyBtdXN0IGJlIGZpbml0ZSBudW1iZXJzIil9ZnVuY3Rpb24gRnModCxpKXtyZXR1cm4odC5kYXR1bS5kYXR1bV90eXBlPT09eHR8fHQuZGF0dW0uZGF0dW1fdHlwZT09PV90KSYmaS5kYXR1bUNvZGUhPT0iV0dTODQifHwoaS5kYXR1bS5kYXR1bV90eXBlPT09eHR8fGkuZGF0dW0uZGF0dW1fdHlwZT09PV90KSYmdC5kYXR1bUNvZGUhPT0iV0dTODQifWZ1bmN0aW9uIE1pKHQsaSxhLGUpe3ZhciBzO2lmKEFycmF5LmlzQXJyYXkoYSkmJihhPU5hKGEpKSxMcyhhKSx0LmRhdHVtJiZpLmRhdHVtJiZGcyh0LGkpJiYocz1uZXcgbnQoIldHUzg0IiksYT1NaSh0LHMsYSxlKSx0PXMpLGUmJnQuYXhpcyE9PSJlbnUiJiYoYT1iYSh0LCExLGEpKSx0LnByb2pOYW1lPT09ImxvbmdsYXQiKWE9e3g6YS54KmoseTphLnkqaix6OmEuenx8MH07ZWxzZSBpZih0LnRvX21ldGVyJiYoYT17eDphLngqdC50b19tZXRlcix5OmEueSp0LnRvX21ldGVyLHo6YS56fHwwfSksYT10LmludmVyc2UoYSksIWEpcmV0dXJuO2lmKHQuZnJvbV9ncmVlbndpY2gmJihhLngrPXQuZnJvbV9ncmVlbndpY2gpLGE9QnModC5kYXR1bSxpLmRhdHVtLGEpLCEhYSlyZXR1cm4gaS5mcm9tX2dyZWVud2ljaCYmKGE9e3g6YS54LWkuZnJvbV9ncmVlbndpY2gseTphLnksejphLnp8fDB9KSxpLnByb2pOYW1lPT09ImxvbmdsYXQiP2E9e3g6YS54KmV0LHk6YS55KmV0LHo6YS56fHwwfTooYT1pLmZvcndhcmQoYSksaS50b19tZXRlciYmKGE9e3g6YS54L2kudG9fbWV0ZXIseTphLnkvaS50b19tZXRlcix6OmEuenx8MH0pKSxlJiZpLmF4aXMhPT0iZW51Ij9iYShpLCEwLGEpOmF9dmFyIHdhPW50KCJXR1M4NCIpO2Z1bmN0aW9uIEJpKHQsaSxhLGUpe3ZhciBzLG4saDtyZXR1cm4gQXJyYXkuaXNBcnJheShhKT8ocz1NaSh0LGksYSxlKXx8e3g6TmFOLHk6TmFOfSxhLmxlbmd0aD4yP3R5cGVvZiB0Lm5hbWU8InUiJiZ0Lm5hbWU9PT0iZ2VvY2VudCJ8fHR5cGVvZiBpLm5hbWU8InUiJiZpLm5hbWU9PT0iZ2VvY2VudCI/dHlwZW9mIHMuej09Im51bWJlciI/W3MueCxzLnkscy56XS5jb25jYXQoYS5zcGxpY2UoMykpOltzLngscy55LGFbMl1dLmNvbmNhdChhLnNwbGljZSgzKSk6W3MueCxzLnldLmNvbmNhdChhLnNwbGljZSgyKSk6W3MueCxzLnldKToobj1NaSh0LGksYSxlKSxoPU9iamVjdC5rZXlzKGEpLGgubGVuZ3RoPT09Mnx8aC5mb3JFYWNoKGZ1bmN0aW9uKHIpe2lmKHR5cGVvZiB0Lm5hbWU8InUiJiZ0Lm5hbWU9PT0iZ2VvY2VudCJ8fHR5cGVvZiBpLm5hbWU8InUiJiZpLm5hbWU9PT0iZ2VvY2VudCIpe2lmKHI9PT0ieCJ8fHI9PT0ieSJ8fHI9PT0ieiIpcmV0dXJufWVsc2UgaWYocj09PSJ4Inx8cj09PSJ5IilyZXR1cm47bltyXT1hW3JdfSksbil9ZnVuY3Rpb24gQWEodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBudD90OnQub1Byb2o/dC5vUHJvajpudCh0KX1mdW5jdGlvbiBLKHQsaSxhKXt0PUFhKHQpO3ZhciBlPSExLHM7cmV0dXJuIHR5cGVvZiBpPiJ1Ij8oaT10LHQ9d2EsZT0hMCk6KHR5cGVvZiBpLng8InUifHxBcnJheS5pc0FycmF5KGkpKSYmKGE9aSxpPXQsdD13YSxlPSEwKSxpPUFhKGkpLGE/QmkodCxpLGEpOihzPXtmb3J3YXJkOmZ1bmN0aW9uKG4saCl7cmV0dXJuIEJpKHQsaSxuLGgpfSxpbnZlcnNlOmZ1bmN0aW9uKG4saCl7cmV0dXJuIEJpKGksdCxuLGgpfX0sZSYmKHMub1Byb2o9aSkscyl9dmFyIENhPTYsU2E9IkFKU0FKUyIsVGE9IkFGQUZBRiIsQXQ9NjUsWD03MywkPTc5LFh0PTg2LFd0PTkwLGpzPXtmb3J3YXJkOk9hLGludmVyc2U6R3MsdG9Qb2ludDpJYX07ZnVuY3Rpb24gT2EodCxpKXtyZXR1cm4gaT1pfHw1LEhzKHpzKHtsYXQ6dFsxXSxsb246dFswXX0pLGkpfWZ1bmN0aW9uIEdzKHQpe3ZhciBpPUxpKFJhKHQudG9VcHBlckNhc2UoKSkpO3JldHVybiBpLmxhdCYmaS5sb24/W2kubG9uLGkubGF0LGkubG9uLGkubGF0XTpbaS5sZWZ0LGkuYm90dG9tLGkucmlnaHQsaS50b3BdfWZ1bmN0aW9uIElhKHQpe3ZhciBpPUxpKFJhKHQudG9VcHBlckNhc2UoKSkpO3JldHVybiBpLmxhdCYmaS5sb24/W2kubG9uLGkubGF0XTpbKGkubGVmdCtpLnJpZ2h0KS8yLChpLnRvcCtpLmJvdHRvbSkvMl19ZnVuY3Rpb24gcWkodCl7cmV0dXJuIHQqKE1hdGguUEkvMTgwKX1mdW5jdGlvbiBEYSh0KXtyZXR1cm4gMTgwKih0L01hdGguUEkpfWZ1bmN0aW9uIHpzKHQpe3ZhciBpPXQubGF0LGE9dC5sb24sZT02Mzc4MTM3LHM9LjAwNjY5NDM4LG49Ljk5OTYsaCxyLG8sdSxsLGMsZixwPXFpKGkpLG09cWkoYSksZCxNO009TWF0aC5mbG9vcigoYSsxODApLzYpKzEsYT09PTE4MCYmKE09NjApLGk+PTU2JiZpPDY0JiZhPj0zJiZhPDEyJiYoTT0zMiksaT49NzImJmk8ODQmJihhPj0wJiZhPDk/TT0zMTphPj05JiZhPDIxP009MzM6YT49MjEmJmE8MzM/TT0zNTphPj0zMyYmYTw0MiYmKE09MzcpKSxoPShNLTEpKjYtMTgwKzMsZD1xaShoKSxyPXMvKDEtcyksbz1lL01hdGguc3FydCgxLXMqTWF0aC5zaW4ocCkqTWF0aC5zaW4ocCkpLHU9TWF0aC50YW4ocCkqTWF0aC50YW4ocCksbD1yKk1hdGguY29zKHApKk1hdGguY29zKHApLGM9TWF0aC5jb3MocCkqKG0tZCksZj1lKigoMS1zLzQtMypzKnMvNjQtNSpzKnMqcy8yNTYpKnAtKDMqcy84KzMqcypzLzMyKzQ1KnMqcypzLzEwMjQpKk1hdGguc2luKDIqcCkrKDE1KnMqcy8yNTYrNDUqcypzKnMvMTAyNCkqTWF0aC5zaW4oNCpwKS0zNSpzKnMqcy8zMDcyKk1hdGguc2luKDYqcCkpO3ZhciBnPW4qbyooYysoMS11K2wpKmMqYypjLzYrKDUtMTgqdSt1KnUrNzIqbC01OCpyKSpjKmMqYypjKmMvMTIwKSs1ZTUsXz1uKihmK28qTWF0aC50YW4ocCkqKGMqYy8yKyg1LXUrOSpsKzQqbCpsKSpjKmMqYypjLzI0Kyg2MS01OCp1K3UqdSs2MDAqbC0zMzAqcikqYypjKmMqYypjKmMvNzIwKSk7cmV0dXJuIGk8MCYmKF8rPTFlNykse25vcnRoaW5nOk1hdGgucm91bmQoXyksZWFzdGluZzpNYXRoLnJvdW5kKGcpLHpvbmVOdW1iZXI6TSx6b25lTGV0dGVyOlVzKGkpfX1mdW5jdGlvbiBMaSh0KXt2YXIgaT10Lm5vcnRoaW5nLGE9dC5lYXN0aW5nLGU9dC56b25lTGV0dGVyLHM9dC56b25lTnVtYmVyO2lmKHM8MHx8cz42MClyZXR1cm4gbnVsbDt2YXIgbj0uOTk5NixoPTYzNzgxMzcscj0uMDA2Njk0Mzgsbyx1PSgxLU1hdGguc3FydCgxLXIpKS8oMStNYXRoLnNxcnQoMS1yKSksbCxjLGYscCxtLGQsTSxnLF8sYj1hLTVlNSxFPWk7ZTwiTiImJihFLT0xZTcpLE09KHMtMSkqNi0xODArMyxvPXIvKDEtciksZD1FL24sZz1kLyhoKigxLXIvNC0zKnIqci82NC01KnIqcipyLzI1NikpLF89ZysoMyp1LzItMjcqdSp1KnUvMzIpKk1hdGguc2luKDIqZykrKDIxKnUqdS8xNi01NSp1KnUqdSp1LzMyKSpNYXRoLnNpbig0KmcpKzE1MSp1KnUqdS85NipNYXRoLnNpbig2KmcpLGw9aC9NYXRoLnNxcnQoMS1yKk1hdGguc2luKF8pKk1hdGguc2luKF8pKSxjPU1hdGgudGFuKF8pKk1hdGgudGFuKF8pLGY9bypNYXRoLmNvcyhfKSpNYXRoLmNvcyhfKSxwPWgqKDEtcikvTWF0aC5wb3coMS1yKk1hdGguc2luKF8pKk1hdGguc2luKF8pLDEuNSksbT1iLyhsKm4pO3ZhciB3PV8tbCpNYXRoLnRhbihfKS9wKihtKm0vMi0oNSszKmMrMTAqZi00KmYqZi05Km8pKm0qbSptKm0vMjQrKDYxKzkwKmMrMjk4KmYrNDUqYypjLTI1MipvLTMqZipmKSptKm0qbSptKm0qbS83MjApO3c9RGEodyk7dmFyIEE9KG0tKDErMipjK2YpKm0qbSptLzYrKDUtMipmKzI4KmMtMypmKmYrOCpvKzI0KmMqYykqbSptKm0qbSptLzEyMCkvTWF0aC5jb3MoXyk7QT1NK0RhKEEpO3ZhciBGO2lmKHQuYWNjdXJhY3kpe3ZhciBPPUxpKHtub3J0aGluZzp0Lm5vcnRoaW5nK3QuYWNjdXJhY3ksZWFzdGluZzp0LmVhc3RpbmcrdC5hY2N1cmFjeSx6b25lTGV0dGVyOnQuem9uZUxldHRlcix6b25lTnVtYmVyOnQuem9uZU51bWJlcn0pO0Y9e3RvcDpPLmxhdCxyaWdodDpPLmxvbixib3R0b206dyxsZWZ0OkF9fWVsc2UgRj17bGF0OncsbG9uOkF9O3JldHVybiBGfWZ1bmN0aW9uIFVzKHQpe3ZhciBpPSJaIjtyZXR1cm4gODQ+PXQmJnQ+PTcyP2k9IlgiOjcyPnQmJnQ+PTY0P2k9IlciOjY0PnQmJnQ+PTU2P2k9IlYiOjU2PnQmJnQ+PTQ4P2k9IlUiOjQ4PnQmJnQ+PTQwP2k9IlQiOjQwPnQmJnQ+PTMyP2k9IlMiOjMyPnQmJnQ+PTI0P2k9IlIiOjI0PnQmJnQ+PTE2P2k9IlEiOjE2PnQmJnQ+PTg/aT0iUCI6OD50JiZ0Pj0wP2k9Ik4iOjA+dCYmdD49LTg/aT0iTSI6LTg+dCYmdD49LTE2P2k9IkwiOi0xNj50JiZ0Pj0tMjQ/aT0iSyI6LTI0PnQmJnQ+PS0zMj9pPSJKIjotMzI+dCYmdD49LTQwP2k9IkgiOi00MD50JiZ0Pj0tNDg/aT0iRyI6LTQ4PnQmJnQ+PS01Nj9pPSJGIjotNTY+dCYmdD49LTY0P2k9IkUiOi02ND50JiZ0Pj0tNzI/aT0iRCI6LTcyPnQmJnQ+PS04MCYmKGk9IkMiKSxpfWZ1bmN0aW9uIEhzKHQsaSl7dmFyIGE9IjAwMDAwIit0LmVhc3RpbmcsZT0iMDAwMDAiK3Qubm9ydGhpbmc7cmV0dXJuIHQuem9uZU51bWJlcit0LnpvbmVMZXR0ZXIrUXModC5lYXN0aW5nLHQubm9ydGhpbmcsdC56b25lTnVtYmVyKSthLnN1YnN0cihhLmxlbmd0aC01LGkpK2Uuc3Vic3RyKGUubGVuZ3RoLTUsaSl9ZnVuY3Rpb24gUXModCxpLGEpe3ZhciBlPVBhKGEpLHM9TWF0aC5mbG9vcih0LzFlNSksbj1NYXRoLmZsb29yKGkvMWU1KSUyMDtyZXR1cm4gWHMocyxuLGUpfWZ1bmN0aW9uIFBhKHQpe3ZhciBpPXQlQ2E7cmV0dXJuIGk9PT0wJiYoaT1DYSksaX1mdW5jdGlvbiBYcyh0LGksYSl7dmFyIGU9YS0xLHM9U2EuY2hhckNvZGVBdChlKSxuPVRhLmNoYXJDb2RlQXQoZSksaD1zK3QtMSxyPW4raSxvPSExO2g+V3QmJihoPWgtV3QrQXQtMSxvPSEwKSwoaD09PVh8fHM8WCYmaD5YfHwoaD5YfHxzPFgpJiZvKSYmaCsrLChoPT09JHx8czwkJiZoPiR8fChoPiR8fHM8JCkmJm8pJiYoaCsrLGg9PT1YJiZoKyspLGg+V3QmJihoPWgtV3QrQXQtMSkscj5YdD8ocj1yLVh0K0F0LTEsbz0hMCk6bz0hMSwocj09PVh8fG48WCYmcj5YfHwocj5YfHxuPFgpJiZvKSYmcisrLChyPT09JHx8bjwkJiZyPiR8fChyPiR8fG48JCkmJm8pJiYocisrLHI9PT1YJiZyKyspLHI+WHQmJihyPXItWHQrQXQtMSk7dmFyIHU9U3RyaW5nLmZyb21DaGFyQ29kZShoKStTdHJpbmcuZnJvbUNoYXJDb2RlKHIpO3JldHVybiB1fWZ1bmN0aW9uIFJhKHQpe2lmKHQmJnQubGVuZ3RoPT09MCl0aHJvdyJNR1JTUG9pbnQgY292ZXJ0aW5nIGZyb20gbm90aGluZyI7Zm9yKHZhciBpPXQubGVuZ3RoLGE9bnVsbCxlPSIiLHMsbj0wOyEvW0EtWl0vLnRlc3Qocz10LmNoYXJBdChuKSk7KXtpZihuPj0yKXRocm93Ik1HUlNQb2ludCBiYWQgY29udmVyc2lvbiBmcm9tOiAiK3Q7ZSs9cyxuKyt9dmFyIGg9cGFyc2VJbnQoZSwxMCk7aWYobj09PTB8fG4rMz5pKXRocm93Ik1HUlNQb2ludCBiYWQgY29udmVyc2lvbiBmcm9tOiAiK3Q7dmFyIHI9dC5jaGFyQXQobisrKTtpZihyPD0iQSJ8fHI9PT0iQiJ8fHI9PT0iWSJ8fHI+PSJaInx8cj09PSJJInx8cj09PSJPIil0aHJvdyJNR1JTUG9pbnQgem9uZSBsZXR0ZXIgIityKyIgbm90IGhhbmRsZWQ6ICIrdDthPXQuc3Vic3RyaW5nKG4sbis9Mik7Zm9yKHZhciBvPVBhKGgpLHU9V3MoYS5jaGFyQXQoMCksbyksbD1WcyhhLmNoYXJBdCgxKSxvKTtsPEpzKHIpOylsKz0yZTY7dmFyIGM9aS1uO2lmKGMlMiE9PTApdGhyb3dgTUdSU1BvaW50IGhhcyB0byBoYXZlIGFuIGV2ZW4gbnVtYmVyIApvZiBkaWdpdHMgYWZ0ZXIgdGhlIHpvbmUgbGV0dGVyIGFuZCB0d28gMTAwa20gbGV0dGVycyAtIGZyb250IApoYWxmIGZvciBlYXN0aW5nIG1ldGVycywgc2Vjb25kIGhhbGYgZm9yIApub3J0aGluZyBtZXRlcnNgK3Q7dmFyIGY9Yy8yLHA9MCxtPTAsZCxNLGcsXyxiO3JldHVybiBmPjAmJihkPTFlNS9NYXRoLnBvdygxMCxmKSxNPXQuc3Vic3RyaW5nKG4sbitmKSxwPXBhcnNlRmxvYXQoTSkqZCxnPXQuc3Vic3RyaW5nKG4rZiksbT1wYXJzZUZsb2F0KGcpKmQpLF89cCt1LGI9bStsLHtlYXN0aW5nOl8sbm9ydGhpbmc6Yix6b25lTGV0dGVyOnIsem9uZU51bWJlcjpoLGFjY3VyYWN5OmR9fWZ1bmN0aW9uIFdzKHQsaSl7Zm9yKHZhciBhPVNhLmNoYXJDb2RlQXQoaS0xKSxlPTFlNSxzPSExO2EhPT10LmNoYXJDb2RlQXQoMCk7KXtpZihhKyssYT09PVgmJmErKyxhPT09JCYmYSsrLGE+V3Qpe2lmKHMpdGhyb3ciQmFkIGNoYXJhY3RlcjogIit0O2E9QXQscz0hMH1lKz0xZTV9cmV0dXJuIGV9ZnVuY3Rpb24gVnModCxpKXtpZih0PiJWIil0aHJvdyJNR1JTUG9pbnQgZ2l2ZW4gaW52YWxpZCBOb3J0aGluZyAiK3Q7Zm9yKHZhciBhPVRhLmNoYXJDb2RlQXQoaS0xKSxlPTAscz0hMTthIT09dC5jaGFyQ29kZUF0KDApOyl7aWYoYSsrLGE9PT1YJiZhKyssYT09PSQmJmErKyxhPlh0KXtpZihzKXRocm93IkJhZCBjaGFyYWN0ZXI6ICIrdDthPUF0LHM9ITB9ZSs9MWU1fXJldHVybiBlfWZ1bmN0aW9uIEpzKHQpe3ZhciBpO3N3aXRjaCh0KXtjYXNlIkMiOmk9MTFlNTticmVhaztjYXNlIkQiOmk9MmU2O2JyZWFrO2Nhc2UiRSI6aT0yOGU1O2JyZWFrO2Nhc2UiRiI6aT0zN2U1O2JyZWFrO2Nhc2UiRyI6aT00NmU1O2JyZWFrO2Nhc2UiSCI6aT01NWU1O2JyZWFrO2Nhc2UiSiI6aT02NGU1O2JyZWFrO2Nhc2UiSyI6aT03M2U1O2JyZWFrO2Nhc2UiTCI6aT04MmU1O2JyZWFrO2Nhc2UiTSI6aT05MWU1O2JyZWFrO2Nhc2UiTiI6aT0wO2JyZWFrO2Nhc2UiUCI6aT04ZTU7YnJlYWs7Y2FzZSJRIjppPTE3ZTU7YnJlYWs7Y2FzZSJSIjppPTI2ZTU7YnJlYWs7Y2FzZSJTIjppPTM1ZTU7YnJlYWs7Y2FzZSJUIjppPTQ0ZTU7YnJlYWs7Y2FzZSJVIjppPTUzZTU7YnJlYWs7Y2FzZSJWIjppPTYyZTU7YnJlYWs7Y2FzZSJXIjppPTdlNjticmVhaztjYXNlIlgiOmk9NzllNTticmVhaztkZWZhdWx0Omk9LTF9aWYoaT49MClyZXR1cm4gaTt0aHJvdyJJbnZhbGlkIHpvbmUgbGV0dGVyOiAiK3R9ZnVuY3Rpb24gQ3QodCxpLGEpe2lmKCEodGhpcyBpbnN0YW5jZW9mIEN0KSlyZXR1cm4gbmV3IEN0KHQsaSxhKTtpZihBcnJheS5pc0FycmF5KHQpKXRoaXMueD10WzBdLHRoaXMueT10WzFdLHRoaXMuej10WzJdfHwwO2Vsc2UgaWYodHlwZW9mIHQ9PSJvYmplY3QiKXRoaXMueD10LngsdGhpcy55PXQueSx0aGlzLno9dC56fHwwO2Vsc2UgaWYodHlwZW9mIHQ9PSJzdHJpbmciJiZ0eXBlb2YgaT4idSIpe3ZhciBlPXQuc3BsaXQoIiwiKTt0aGlzLng9cGFyc2VGbG9hdChlWzBdLDEwKSx0aGlzLnk9cGFyc2VGbG9hdChlWzFdLDEwKSx0aGlzLno9cGFyc2VGbG9hdChlWzJdLDEwKXx8MH1lbHNlIHRoaXMueD10LHRoaXMueT1pLHRoaXMuej1hfHwwO2NvbnNvbGUud2FybigicHJvajQuUG9pbnQgd2lsbCBiZSByZW1vdmVkIGluIHZlcnNpb24gMywgdXNlIHByb2o0LnRvUG9pbnQiKX1DdC5mcm9tTUdSUz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IEN0KElhKHQpKX0sQ3QucHJvdG90eXBlLnRvTUdSUz1mdW5jdGlvbih0KXtyZXR1cm4gT2EoW3RoaXMueCx0aGlzLnldLHQpfTt2YXIgS3M9MSwkcz0uMjUsa2E9LjA0Njg3NSxCYT0uMDE5NTMxMjUscWE9LjAxMDY4MTE1MjM0Mzc1LFlzPS43NSxacz0uNDY4NzUsdG49LjAxMzAyMDgzMzMzMzMzMzMzNCxhbj0uMDA3MTIwNzY4MjI5MTY2NjY3LGVuPS4zNjQ1ODMzMzMzMzMzMzMzLHNuPS4wMDU2OTY2MTQ1ODMzMzMzMzMsbm49LjMwNzYxNzE4NzU7ZnVuY3Rpb24gTGEodCl7dmFyIGk9W107aVswXT1Lcy10Kigkcyt0KihrYSt0KihCYSt0KnFhKSkpLGlbMV09dCooWXMtdCooa2ErdCooQmErdCpxYSkpKTt2YXIgYT10KnQ7cmV0dXJuIGlbMl09YSooWnMtdCoodG4rdCphbikpLGEqPXQsaVszXT1hKihlbi10KnNuKSxpWzRdPWEqdCpubixpfWZ1bmN0aW9uIHlpKHQsaSxhLGUpe3JldHVybiBhKj1pLGkqPWksZVswXSp0LWEqKGVbMV0raSooZVsyXStpKihlWzNdK2kqZVs0XSkpKX12YXIgcm49MjA7ZnVuY3Rpb24gRmEodCxpLGEpe2Zvcih2YXIgZT0xLygxLWkpLHM9dCxuPXJuO247LS1uKXt2YXIgaD1NYXRoLnNpbihzKSxyPTEtaSpoKmg7aWYocj0oeWkocyxoLE1hdGguY29zKHMpLGEpLXQpKihyKk1hdGguc3FydChyKSkqZSxzLT1yLE1hdGguYWJzKHIpPHgpcmV0dXJuIHN9cmV0dXJuIHN9ZnVuY3Rpb24gaG4oKXt0aGlzLngwPXRoaXMueDAhPT12b2lkIDA/dGhpcy54MDowLHRoaXMueTA9dGhpcy55MCE9PXZvaWQgMD90aGlzLnkwOjAsdGhpcy5sb25nMD10aGlzLmxvbmcwIT09dm9pZCAwP3RoaXMubG9uZzA6MCx0aGlzLmxhdDA9dGhpcy5sYXQwIT09dm9pZCAwP3RoaXMubGF0MDowLHRoaXMuZXMmJih0aGlzLmVuPUxhKHRoaXMuZXMpLHRoaXMubWwwPXlpKHRoaXMubGF0MCxNYXRoLnNpbih0aGlzLmxhdDApLE1hdGguY29zKHRoaXMubGF0MCksdGhpcy5lbikpfWZ1bmN0aW9uIG9uKHQpe3ZhciBpPXQueCxhPXQueSxlPXYoaS10aGlzLmxvbmcwKSxzLG4saCxyPU1hdGguc2luKGEpLG89TWF0aC5jb3MoYSk7aWYodGhpcy5lcyl7dmFyIHU9byplLGw9TWF0aC5wb3codSwyKSxjPXRoaXMuZXAyKk1hdGgucG93KG8sMiksZj1NYXRoLnBvdyhjLDIpLHA9TWF0aC5hYnMobyk+eD9NYXRoLnRhbihhKTowLG09TWF0aC5wb3cocCwyKSxkPU1hdGgucG93KG0sMik7cz0xLXRoaXMuZXMqTWF0aC5wb3cociwyKSx1PXUvTWF0aC5zcXJ0KHMpO3ZhciBNPXlpKGEscixvLHRoaXMuZW4pO249dGhpcy5hKih0aGlzLmswKnUqKDErbC82KigxLW0rYytsLzIwKig1LTE4Km0rZCsxNCpjLTU4Km0qYytsLzQyKig2MSsxNzkqZC1kKm0tNDc5Km0pKSkpKSt0aGlzLngwLGg9dGhpcy5hKih0aGlzLmswKihNLXRoaXMubWwwK3IqZSp1LzIqKDErbC8xMiooNS1tKzkqYys0KmYrbC8zMCooNjErZC01OCptKzI3MCpjLTMzMCptKmMrbC81NiooMTM4NSs1NDMqZC1kKm0tMzExMSptKSkpKSkpK3RoaXMueTB9ZWxzZXt2YXIgZz1vKk1hdGguc2luKGUpO2lmKE1hdGguYWJzKE1hdGguYWJzKGcpLTEpPHgpcmV0dXJuIDkzO2lmKG49LjUqdGhpcy5hKnRoaXMuazAqTWF0aC5sb2coKDErZykvKDEtZykpK3RoaXMueDAsaD1vKk1hdGguY29zKGUpL01hdGguc3FydCgxLU1hdGgucG93KGcsMikpLGc9TWF0aC5hYnMoaCksZz49MSl7aWYoZy0xPngpcmV0dXJuIDkzO2g9MH1lbHNlIGg9TWF0aC5hY29zKGgpO2E8MCYmKGg9LWgpLGg9dGhpcy5hKnRoaXMuazAqKGgtdGhpcy5sYXQwKSt0aGlzLnkwfXJldHVybiB0Lng9bix0Lnk9aCx0fWZ1bmN0aW9uIHVuKHQpe3ZhciBpLGEsZSxzLG49KHQueC10aGlzLngwKSooMS90aGlzLmEpLGg9KHQueS10aGlzLnkwKSooMS90aGlzLmEpO2lmKHRoaXMuZXMpaWYoaT10aGlzLm1sMCtoL3RoaXMuazAsYT1GYShpLHRoaXMuZXMsdGhpcy5lbiksTWF0aC5hYnMoYSk8eSl7dmFyIHI9TWF0aC5zaW4oYSksbz1NYXRoLmNvcyhhKSx1PU1hdGguYWJzKG8pPng/TWF0aC50YW4oYSk6MCxsPXRoaXMuZXAyKk1hdGgucG93KG8sMiksYz1NYXRoLnBvdyhsLDIpLGY9TWF0aC5wb3codSwyKSxwPU1hdGgucG93KGYsMik7aT0xLXRoaXMuZXMqTWF0aC5wb3cociwyKTt2YXIgbT1uKk1hdGguc3FydChpKS90aGlzLmswLGQ9TWF0aC5wb3cobSwyKTtpPWkqdSxlPWEtaSpkLygxLXRoaXMuZXMpKi41KigxLWQvMTIqKDUrMypmLTkqbCpmK2wtNCpjLWQvMzAqKDYxKzkwKmYtMjUyKmwqZis0NSpwKzQ2KmwtZC81NiooMTM4NSszNjMzKmYrNDA5NSpwKzE1NzQqcCpmKSkpKSxzPXYodGhpcy5sb25nMCttKigxLWQvNiooMSsyKmYrbC1kLzIwKig1KzI4KmYrMjQqcCs4KmwqZis2KmwtZC80MiooNjErNjYyKmYrMTMyMCpwKzcyMCpwKmYpKSkpL28pfWVsc2UgZT15Kkh0KGgpLHM9MDtlbHNle3ZhciBNPU1hdGguZXhwKG4vdGhpcy5rMCksZz0uNSooTS0xL00pLF89dGhpcy5sYXQwK2gvdGhpcy5rMCxiPU1hdGguY29zKF8pO2k9TWF0aC5zcXJ0KCgxLU1hdGgucG93KGIsMikpLygxK01hdGgucG93KGcsMikpKSxlPU1hdGguYXNpbihpKSxoPDAmJihlPS1lKSxnPT09MCYmYj09PTA/cz0wOnM9dihNYXRoLmF0YW4yKGcsYikrdGhpcy5sb25nMCl9cmV0dXJuIHQueD1zLHQueT1lLHR9dmFyIGxuPVsiRmFzdF9UcmFuc3ZlcnNlX01lcmNhdG9yIiwiRmFzdCBUcmFuc3ZlcnNlIE1lcmNhdG9yIl0sZ2k9e2luaXQ6aG4sZm9yd2FyZDpvbixpbnZlcnNlOnVuLG5hbWVzOmxufTtmdW5jdGlvbiBqYSh0KXt2YXIgaT1NYXRoLmV4cCh0KTtyZXR1cm4gaT0oaS0xL2kpLzIsaX1mdW5jdGlvbiB0dCh0LGkpe3Q9TWF0aC5hYnModCksaT1NYXRoLmFicyhpKTt2YXIgYT1NYXRoLm1heCh0LGkpLGU9TWF0aC5taW4odCxpKS8oYXx8MSk7cmV0dXJuIGEqTWF0aC5zcXJ0KDErTWF0aC5wb3coZSwyKSl9ZnVuY3Rpb24gY24odCl7dmFyIGk9MSt0LGE9aS0xO3JldHVybiBhPT09MD90OnQqTWF0aC5sb2coaSkvYX1mdW5jdGlvbiBmbih0KXt2YXIgaT1NYXRoLmFicyh0KTtyZXR1cm4gaT1jbihpKigxK2kvKHR0KDEsaSkrMSkpKSx0PDA/LWk6aX1mdW5jdGlvbiBGaSh0LGkpe2Zvcih2YXIgYT0yKk1hdGguY29zKDIqaSksZT10Lmxlbmd0aC0xLHM9dFtlXSxuPTAsaDstLWU+PTA7KWg9LW4rYSpzK3RbZV0sbj1zLHM9aDtyZXR1cm4gaStoKk1hdGguc2luKDIqaSl9ZnVuY3Rpb24gZG4odCxpKXtmb3IodmFyIGE9MipNYXRoLmNvcyhpKSxlPXQubGVuZ3RoLTEscz10W2VdLG49MCxoOy0tZT49MDspaD0tbithKnMrdFtlXSxuPXMscz1oO3JldHVybiBNYXRoLnNpbihpKSpofWZ1bmN0aW9uIHBuKHQpe3ZhciBpPU1hdGguZXhwKHQpO3JldHVybiBpPShpKzEvaSkvMixpfWZ1bmN0aW9uIEdhKHQsaSxhKXtmb3IodmFyIGU9TWF0aC5zaW4oaSkscz1NYXRoLmNvcyhpKSxuPWphKGEpLGg9cG4oYSkscj0yKnMqaCxvPS0yKmUqbix1PXQubGVuZ3RoLTEsbD10W3VdLGM9MCxmPTAscD0wLG0sZDstLXU+PTA7KW09ZixkPWMsZj1sLGM9cCxsPS1tK3IqZi1vKmMrdFt1XSxwPS1kK28qZityKmM7cmV0dXJuIHI9ZSpoLG89cypuLFtyKmwtbypwLHIqcCtvKmxdfWZ1bmN0aW9uIG1uKCl7aWYoIXRoaXMuYXBwcm94JiYoaXNOYU4odGhpcy5lcyl8fHRoaXMuZXM8PTApKXRocm93IG5ldyBFcnJvcignSW5jb3JyZWN0IGVsbGlwdGljYWwgdXNhZ2UuIFRyeSB1c2luZyB0aGUgK2FwcHJveCBvcHRpb24gaW4gdGhlIHByb2ogc3RyaW5nLCBvciBQUk9KRUNUSU9OWyJGYXN0X1RyYW5zdmVyc2VfTWVyY2F0b3IiXSBpbiB0aGUgV0tULicpO3RoaXMuYXBwcm94JiYoZ2kuaW5pdC5hcHBseSh0aGlzKSx0aGlzLmZvcndhcmQ9Z2kuZm9yd2FyZCx0aGlzLmludmVyc2U9Z2kuaW52ZXJzZSksdGhpcy54MD10aGlzLngwIT09dm9pZCAwP3RoaXMueDA6MCx0aGlzLnkwPXRoaXMueTAhPT12b2lkIDA/dGhpcy55MDowLHRoaXMubG9uZzA9dGhpcy5sb25nMCE9PXZvaWQgMD90aGlzLmxvbmcwOjAsdGhpcy5sYXQwPXRoaXMubGF0MCE9PXZvaWQgMD90aGlzLmxhdDA6MCx0aGlzLmNnYj1bXSx0aGlzLmNiZz1bXSx0aGlzLnV0Zz1bXSx0aGlzLmd0dT1bXTt2YXIgdD10aGlzLmVzLygxK01hdGguc3FydCgxLXRoaXMuZXMpKSxpPXQvKDItdCksYT1pO3RoaXMuY2diWzBdPWkqKDIraSooLS42NjY2NjY2NjY2NjY2NjY2K2kqKC0yK2kqKDIuNTc3Nzc3Nzc3Nzc3Nzc4K2kqKC41Nzc3Nzc3Nzc3Nzc3Nzc3K2kqLTQuMjI4MTQ4MTQ4MTQ4MTQ4KSkpKSksdGhpcy5jYmdbMF09aSooLTIraSooLjY2NjY2NjY2NjY2NjY2NjYraSooMS4zMzMzMzMzMzMzMzMzMzMzK2kqKC0xLjgyMjIyMjIyMjIyMjIyMjIraSooLjcxMTExMTExMTExMTExMTEraSouOTgyNDMzODYyNDMzODYyNCkpKSkpLGE9YSppLHRoaXMuY2diWzFdPWEqKDIuMzMzMzMzMzMzMzMzMzMzNStpKigtMS42K2kqKC01LjA0NDQ0NDQ0NDQ0NDQ0NCtpKig4LjU4NDEyNjk4NDEyNjk4NCtpKjIuNDU4MjAxMDU4MjAxMDU4KSkpKSx0aGlzLmNiZ1sxXT1hKigxLjY2NjY2NjY2NjY2NjY2NjcraSooLTEuMDY2NjY2NjY2NjY2NjY2NytpKigtMS40NDQ0NDQ0NDQ0NDQ0NDQ0K2kqKDIuODY5ODQxMjY5ODQxMjcraSotMS42MTA1ODIwMTA1ODIwMTA2KSkpKSxhPWEqaSx0aGlzLmNnYlsyXT1hKigzLjczMzMzMzMzMzMzMzMzMzQraSooLTMuODg1NzE0Mjg1NzE0Mjg1NytpKigtMTIuMDE5MDQ3NjE5MDQ3NjE5K2kqMjYuMDM2Njg0MzAzMzUwOTcpKSksdGhpcy5jYmdbMl09YSooLTEuNzMzMzMzMzMzMzMzMzMzNCtpKigxLjYxOTA0NzYxOTA0NzYxOStpKigxLjYraSotNC40NzQ3Nzk1NDE0NDYyMDgpKSksYT1hKmksdGhpcy5jZ2JbM109YSooNi43OTIwNjM0OTIwNjM0OTIraSooLTkuNDg1NzE0Mjg1NzE0Mjg2K2kqLTI4LjE4ODUwMDg4MTgzNDIxNikpLHRoaXMuY2JnWzNdPWEqKDEuOTYzNDkyMDYzNDkyMDYzNCtpKigtMi40K2kqLTEuNzUxODE2NTc4NDgzMjQ1MSkpLGE9YSppLHRoaXMuY2diWzRdPWEqKDEzLjI1MDc5MzY1MDc5MzY1MitpKi0yMy4yMjIzODI1NTU3MTU4OSksdGhpcy5jYmdbNF09YSooLTIuMzMwMTU4NzMwMTU4NzMwMytpKjMuNTE0NDQ2MDQ3Nzc5MzgxMyksYT1hKmksdGhpcy5jZ2JbNV09YSoyNy4wMTEyNjgyMzc5MzQ5MDMsdGhpcy5jYmdbNV09YSoyLjg0OTY4NDE0MzAxNzQ3NjQsYT1NYXRoLnBvdyhpLDIpLHRoaXMuUW49dGhpcy5rMC8oMStpKSooMSthKiguMjUrYSooLjAxNTYyNSthLzI1NikpKSx0aGlzLnV0Z1swXT1pKigtLjUraSooLjY2NjY2NjY2NjY2NjY2NjYraSooLS4zODU0MTY2NjY2NjY2NjY3K2kqKC4wMDI3Nzc3Nzc3Nzc3Nzc3NzgraSooLjE1ODIwMzEyNStpKi0uMTU5MDU5MTkzMTIxNjkzMTIpKSkpKSx0aGlzLmd0dVswXT1pKiguNStpKigtLjY2NjY2NjY2NjY2NjY2NjYraSooLjMxMjUraSooLjIyNzc3Nzc3Nzc3Nzc3Nzc3K2kqKC0uNDQwOTcyMjIyMjIyMjIyMitpKi4yMDg3NTY2MTM3NTY2MTM3NSkpKSkpLHRoaXMudXRnWzFdPWEqKC0uMDIwODMzMzMzMzMzMzMzMzMyK2kqKC0uMDY2NjY2NjY2NjY2NjY2NjcraSooLjMwMzQ3MjIyMjIyMjIyMjIraSooLS40MzgwOTUyMzgwOTUyMzgxK2kqLjI4OTAxODgzODg3MjM1NDUpKSkpLHRoaXMuZ3R1WzFdPWEqKC4yNzA4MzMzMzMzMzMzMzMzK2kqKC0uNitpKiguMzg2ODA1NTU1NTU1NTU1NTcraSooLjQ0NjAzMTc0NjAzMTc0NjA2K2kqLTEuMDI0ODM5MzA2MzgyMjc1MikpKSksYT1hKmksdGhpcy51dGdbMl09YSooLS4wMzU0MTY2NjY2NjY2NjY2NjYraSooLjA0NDA0NzYxOTA0NzYxOTA1K2kqKC4wNDY2NTE3ODU3MTQyODU3MTUraSotLjA2MTM4NjY4NDMwMzM1MDk3KSkpLHRoaXMuZ3R1WzJdPWEqKC4yNTQxNjY2NjY2NjY2NjY2NStpKigtLjczNTcxNDI4NTcxNDI4NTgraSooLjU2MDMwNTA1OTUyMzgwOTUraSouOTIzNzM3ODc0Nzc5NTQxNSkpKSxhPWEqaSx0aGlzLnV0Z1szXT1hKigtLjAyNzI2MzE0NDg0MTI2OTg0K2kqKC4wMjE4MjUzOTY4MjUzOTY4MjQraSouMTE0Mzk3NDU5MjE1MTY3NTQpKSx0aGlzLmd0dVszXT1hKiguMzA3Mjk3ODY3MDYzNDkyMDUraSooLTEuMDY1NDc2MTkwNDc2MTkwNStpKi45MDk2MjAzOTc5Mjc2ODk2KSksYT1hKmksdGhpcy51dGdbNF09YSooLS4wMjg0MTY0MTg2NTA3OTM2NStpKi4wMjcyNjg0Njg0MTQzMDE3NDYpLHRoaXMuZ3R1WzRdPWEqKC40MzA2NjcxNjI2OTg0MTI3K2kqLTEuNzEzMDA3NTU1NzE1ODg5KSxhPWEqaSx0aGlzLnV0Z1s1XT1hKi0uMDMyMzMwODMwOTQwODU2OTgsdGhpcy5ndHVbNV09YSouNjY1MDY3NTMxMDg5NjY2NTt2YXIgZT1GaSh0aGlzLmNiZyx0aGlzLmxhdDApO3RoaXMuWmI9LXRoaXMuUW4qKGUrZG4odGhpcy5ndHUsMiplKSl9ZnVuY3Rpb24gTW4odCl7dmFyIGk9dih0LngtdGhpcy5sb25nMCksYT10Lnk7YT1GaSh0aGlzLmNiZyxhKTt2YXIgZT1NYXRoLnNpbihhKSxzPU1hdGguY29zKGEpLG49TWF0aC5zaW4oaSksaD1NYXRoLmNvcyhpKTthPU1hdGguYXRhbjIoZSxoKnMpLGk9TWF0aC5hdGFuMihuKnMsdHQoZSxzKmgpKSxpPWZuKE1hdGgudGFuKGkpKTt2YXIgcj1HYSh0aGlzLmd0dSwyKmEsMippKTthPWErclswXSxpPWkrclsxXTt2YXIgbyx1O3JldHVybiBNYXRoLmFicyhpKTw9Mi42MjMzOTUxNjI3Nzg/KG89dGhpcy5hKih0aGlzLlFuKmkpK3RoaXMueDAsdT10aGlzLmEqKHRoaXMuUW4qYSt0aGlzLlpiKSt0aGlzLnkwKToobz0xLzAsdT0xLzApLHQueD1vLHQueT11LHR9ZnVuY3Rpb24geW4odCl7dmFyIGk9KHQueC10aGlzLngwKSooMS90aGlzLmEpLGE9KHQueS10aGlzLnkwKSooMS90aGlzLmEpO2E9KGEtdGhpcy5aYikvdGhpcy5RbixpPWkvdGhpcy5Rbjt2YXIgZSxzO2lmKE1hdGguYWJzKGkpPD0yLjYyMzM5NTE2Mjc3OCl7dmFyIG49R2EodGhpcy51dGcsMiphLDIqaSk7YT1hK25bMF0saT1pK25bMV0saT1NYXRoLmF0YW4oamEoaSkpO3ZhciBoPU1hdGguc2luKGEpLHI9TWF0aC5jb3MoYSksbz1NYXRoLnNpbihpKSx1PU1hdGguY29zKGkpO2E9TWF0aC5hdGFuMihoKnUsdHQobyx1KnIpKSxpPU1hdGguYXRhbjIobyx1KnIpLGU9dihpK3RoaXMubG9uZzApLHM9RmkodGhpcy5jZ2IsYSl9ZWxzZSBlPTEvMCxzPTEvMDtyZXR1cm4gdC54PWUsdC55PXMsdH12YXIgZ249WyJFeHRlbmRlZF9UcmFuc3ZlcnNlX01lcmNhdG9yIiwiRXh0ZW5kZWQgVHJhbnN2ZXJzZSBNZXJjYXRvciIsImV0bWVyYyIsIlRyYW5zdmVyc2VfTWVyY2F0b3IiLCJUcmFuc3ZlcnNlIE1lcmNhdG9yIiwidG1lcmMiXSx4aT17aW5pdDptbixmb3J3YXJkOk1uLGludmVyc2U6eW4sbmFtZXM6Z259O2Z1bmN0aW9uIHhuKHQsaSl7aWYodD09PXZvaWQgMCl7aWYodD1NYXRoLmZsb29yKCh2KGkpK01hdGguUEkpKjMwL01hdGguUEkpKzEsdDwwKXJldHVybiAwO2lmKHQ+NjApcmV0dXJuIDYwfXJldHVybiB0fXZhciBfbj0iZXRtZXJjIjtmdW5jdGlvbiB2bigpe3ZhciB0PXhuKHRoaXMuem9uZSx0aGlzLmxvbmcwKTtpZih0PT09dm9pZCAwKXRocm93IG5ldyBFcnJvcigidW5rbm93biB1dG0gem9uZSIpO3RoaXMubGF0MD0wLHRoaXMubG9uZzA9KDYqTWF0aC5hYnModCktMTgzKSpqLHRoaXMueDA9NWU1LHRoaXMueTA9dGhpcy51dG1Tb3V0aD8xZTc6MCx0aGlzLmswPS45OTk2LHhpLmluaXQuYXBwbHkodGhpcyksdGhpcy5mb3J3YXJkPXhpLmZvcndhcmQsdGhpcy5pbnZlcnNlPXhpLmludmVyc2V9dmFyIGJuPVsiVW5pdmVyc2FsIFRyYW5zdmVyc2UgTWVyY2F0b3IgU3lzdGVtIiwidXRtIl0sTm49e2luaXQ6dm4sbmFtZXM6Ym4sZGVwZW5kc09uOl9ufTtmdW5jdGlvbiBqaSh0LGkpe3JldHVybiBNYXRoLnBvdygoMS10KS8oMSt0KSxpKX12YXIgRW49MjA7ZnVuY3Rpb24gd24oKXt2YXIgdD1NYXRoLnNpbih0aGlzLmxhdDApLGk9TWF0aC5jb3ModGhpcy5sYXQwKTtpKj1pLHRoaXMucmM9TWF0aC5zcXJ0KDEtdGhpcy5lcykvKDEtdGhpcy5lcyp0KnQpLHRoaXMuQz1NYXRoLnNxcnQoMSt0aGlzLmVzKmkqaS8oMS10aGlzLmVzKSksdGhpcy5waGljMD1NYXRoLmFzaW4odC90aGlzLkMpLHRoaXMucmF0ZXhwPS41KnRoaXMuQyp0aGlzLmUsdGhpcy5LPU1hdGgudGFuKC41KnRoaXMucGhpYzArQykvKE1hdGgucG93KE1hdGgudGFuKC41KnRoaXMubGF0MCtDKSx0aGlzLkMpKmppKHRoaXMuZSp0LHRoaXMucmF0ZXhwKSl9ZnVuY3Rpb24gQW4odCl7dmFyIGk9dC54LGE9dC55O3JldHVybiB0Lnk9MipNYXRoLmF0YW4odGhpcy5LKk1hdGgucG93KE1hdGgudGFuKC41KmErQyksdGhpcy5DKSpqaSh0aGlzLmUqTWF0aC5zaW4oYSksdGhpcy5yYXRleHApKS15LHQueD10aGlzLkMqaSx0fWZ1bmN0aW9uIENuKHQpe2Zvcih2YXIgaT0xZS0xNCxhPXQueC90aGlzLkMsZT10Lnkscz1NYXRoLnBvdyhNYXRoLnRhbiguNSplK0MpL3RoaXMuSywxL3RoaXMuQyksbj1FbjtuPjAmJihlPTIqTWF0aC5hdGFuKHMqamkodGhpcy5lKk1hdGguc2luKHQueSksLS41KnRoaXMuZSkpLXksIShNYXRoLmFicyhlLXQueSk8aSkpOy0tbil0Lnk9ZTtyZXR1cm4gbj8odC54PWEsdC55PWUsdCk6bnVsbH12YXIgU249WyJnYXVzcyJdLEdpPXtpbml0OnduLGZvcndhcmQ6QW4saW52ZXJzZTpDbixuYW1lczpTbn07ZnVuY3Rpb24gVG4oKXtHaS5pbml0LmFwcGx5KHRoaXMpLCEhdGhpcy5yYyYmKHRoaXMuc2luYzA9TWF0aC5zaW4odGhpcy5waGljMCksdGhpcy5jb3NjMD1NYXRoLmNvcyh0aGlzLnBoaWMwKSx0aGlzLlIyPTIqdGhpcy5yYyx0aGlzLnRpdGxlfHwodGhpcy50aXRsZT0iT2JsaXF1ZSBTdGVyZW9ncmFwaGljIEFsdGVybmF0aXZlIikpfWZ1bmN0aW9uIE9uKHQpe3ZhciBpLGEsZSxzO3JldHVybiB0Lng9dih0LngtdGhpcy5sb25nMCksR2kuZm9yd2FyZC5hcHBseSh0aGlzLFt0XSksaT1NYXRoLnNpbih0LnkpLGE9TWF0aC5jb3ModC55KSxlPU1hdGguY29zKHQueCkscz10aGlzLmswKnRoaXMuUjIvKDErdGhpcy5zaW5jMCppK3RoaXMuY29zYzAqYSplKSx0Lng9cyphKk1hdGguc2luKHQueCksdC55PXMqKHRoaXMuY29zYzAqaS10aGlzLnNpbmMwKmEqZSksdC54PXRoaXMuYSp0LngrdGhpcy54MCx0Lnk9dGhpcy5hKnQueSt0aGlzLnkwLHR9ZnVuY3Rpb24gSW4odCl7dmFyIGksYSxlLHMsbjtpZih0Lng9KHQueC10aGlzLngwKS90aGlzLmEsdC55PSh0LnktdGhpcy55MCkvdGhpcy5hLHQueC89dGhpcy5rMCx0LnkvPXRoaXMuazAsbj1NYXRoLnNxcnQodC54KnQueCt0LnkqdC55KSl7dmFyIGg9MipNYXRoLmF0YW4yKG4sdGhpcy5SMik7aT1NYXRoLnNpbihoKSxhPU1hdGguY29zKGgpLHM9TWF0aC5hc2luKGEqdGhpcy5zaW5jMCt0LnkqaSp0aGlzLmNvc2MwL24pLGU9TWF0aC5hdGFuMih0LngqaSxuKnRoaXMuY29zYzAqYS10LnkqdGhpcy5zaW5jMCppKX1lbHNlIHM9dGhpcy5waGljMCxlPTA7cmV0dXJuIHQueD1lLHQueT1zLEdpLmludmVyc2UuYXBwbHkodGhpcyxbdF0pLHQueD12KHQueCt0aGlzLmxvbmcwKSx0fXZhciBEbj1bIlN0ZXJlb2dyYXBoaWNfTm9ydGhfUG9sZSIsIk9ibGlxdWVfU3RlcmVvZ3JhcGhpYyIsIlBvbGFyX1N0ZXJlb2dyYXBoaWMiLCJzdGVyZWEiLCJPYmxpcXVlIFN0ZXJlb2dyYXBoaWMgQWx0ZXJuYXRpdmUiLCJEb3VibGVfU3RlcmVvZ3JhcGhpYyJdLFBuPXtpbml0OlRuLGZvcndhcmQ6T24saW52ZXJzZTpJbixuYW1lczpEbn07ZnVuY3Rpb24gUm4odCxpLGEpe3JldHVybiBpKj1hLE1hdGgudGFuKC41Kih5K3QpKSpNYXRoLnBvdygoMS1pKS8oMStpKSwuNSphKX1mdW5jdGlvbiBrbigpe3RoaXMuY29zbGF0MD1NYXRoLmNvcyh0aGlzLmxhdDApLHRoaXMuc2lubGF0MD1NYXRoLnNpbih0aGlzLmxhdDApLHRoaXMuc3BoZXJlP3RoaXMuazA9PT0xJiYhaXNOYU4odGhpcy5sYXRfdHMpJiZNYXRoLmFicyh0aGlzLmNvc2xhdDApPD14JiYodGhpcy5rMD0uNSooMStIdCh0aGlzLmxhdDApKk1hdGguc2luKHRoaXMubGF0X3RzKSkpOihNYXRoLmFicyh0aGlzLmNvc2xhdDApPD14JiYodGhpcy5sYXQwPjA/dGhpcy5jb249MTp0aGlzLmNvbj0tMSksdGhpcy5jb25zPU1hdGguc3FydChNYXRoLnBvdygxK3RoaXMuZSwxK3RoaXMuZSkqTWF0aC5wb3coMS10aGlzLmUsMS10aGlzLmUpKSx0aGlzLmswPT09MSYmIWlzTmFOKHRoaXMubGF0X3RzKSYmTWF0aC5hYnModGhpcy5jb3NsYXQwKTw9eCYmKHRoaXMuazA9LjUqdGhpcy5jb25zKnN0KHRoaXMuZSxNYXRoLnNpbih0aGlzLmxhdF90cyksTWF0aC5jb3ModGhpcy5sYXRfdHMpKS9aKHRoaXMuZSx0aGlzLmNvbip0aGlzLmxhdF90cyx0aGlzLmNvbipNYXRoLnNpbih0aGlzLmxhdF90cykpKSx0aGlzLm1zMT1zdCh0aGlzLmUsdGhpcy5zaW5sYXQwLHRoaXMuY29zbGF0MCksdGhpcy5YMD0yKk1hdGguYXRhbih0aGlzLnNzZm5fKHRoaXMubGF0MCx0aGlzLnNpbmxhdDAsdGhpcy5lKSkteSx0aGlzLmNvc1gwPU1hdGguY29zKHRoaXMuWDApLHRoaXMuc2luWDA9TWF0aC5zaW4odGhpcy5YMCkpfWZ1bmN0aW9uIEJuKHQpe3ZhciBpPXQueCxhPXQueSxlPU1hdGguc2luKGEpLHM9TWF0aC5jb3MoYSksbixoLHIsbyx1LGwsYz12KGktdGhpcy5sb25nMCk7cmV0dXJuIE1hdGguYWJzKE1hdGguYWJzKGktdGhpcy5sb25nMCktTWF0aC5QSSk8PXgmJk1hdGguYWJzKGErdGhpcy5sYXQwKTw9eD8odC54PU5hTix0Lnk9TmFOLHQpOnRoaXMuc3BoZXJlPyhuPTIqdGhpcy5rMC8oMSt0aGlzLnNpbmxhdDAqZSt0aGlzLmNvc2xhdDAqcypNYXRoLmNvcyhjKSksdC54PXRoaXMuYSpuKnMqTWF0aC5zaW4oYykrdGhpcy54MCx0Lnk9dGhpcy5hKm4qKHRoaXMuY29zbGF0MCplLXRoaXMuc2lubGF0MCpzKk1hdGguY29zKGMpKSt0aGlzLnkwLHQpOihoPTIqTWF0aC5hdGFuKHRoaXMuc3Nmbl8oYSxlLHRoaXMuZSkpLXksbz1NYXRoLmNvcyhoKSxyPU1hdGguc2luKGgpLE1hdGguYWJzKHRoaXMuY29zbGF0MCk8PXg/KHU9Wih0aGlzLmUsYSp0aGlzLmNvbix0aGlzLmNvbiplKSxsPTIqdGhpcy5hKnRoaXMuazAqdS90aGlzLmNvbnMsdC54PXRoaXMueDArbCpNYXRoLnNpbihpLXRoaXMubG9uZzApLHQueT10aGlzLnkwLXRoaXMuY29uKmwqTWF0aC5jb3MoaS10aGlzLmxvbmcwKSx0KTooTWF0aC5hYnModGhpcy5zaW5sYXQwKTx4PyhuPTIqdGhpcy5hKnRoaXMuazAvKDErbypNYXRoLmNvcyhjKSksdC55PW4qcik6KG49Mip0aGlzLmEqdGhpcy5rMCp0aGlzLm1zMS8odGhpcy5jb3NYMCooMSt0aGlzLnNpblgwKnIrdGhpcy5jb3NYMCpvKk1hdGguY29zKGMpKSksdC55PW4qKHRoaXMuY29zWDAqci10aGlzLnNpblgwKm8qTWF0aC5jb3MoYykpK3RoaXMueTApLHQueD1uKm8qTWF0aC5zaW4oYykrdGhpcy54MCx0KSl9ZnVuY3Rpb24gcW4odCl7dC54LT10aGlzLngwLHQueS09dGhpcy55MDt2YXIgaSxhLGUscyxuLGg9TWF0aC5zcXJ0KHQueCp0LngrdC55KnQueSk7aWYodGhpcy5zcGhlcmUpe3ZhciByPTIqTWF0aC5hdGFuKGgvKDIqdGhpcy5hKnRoaXMuazApKTtyZXR1cm4gaT10aGlzLmxvbmcwLGE9dGhpcy5sYXQwLGg8PXg/KHQueD1pLHQueT1hLHQpOihhPU1hdGguYXNpbihNYXRoLmNvcyhyKSp0aGlzLnNpbmxhdDArdC55Kk1hdGguc2luKHIpKnRoaXMuY29zbGF0MC9oKSxNYXRoLmFicyh0aGlzLmNvc2xhdDApPHg/dGhpcy5sYXQwPjA/aT12KHRoaXMubG9uZzArTWF0aC5hdGFuMih0LngsLTEqdC55KSk6aT12KHRoaXMubG9uZzArTWF0aC5hdGFuMih0LngsdC55KSk6aT12KHRoaXMubG9uZzArTWF0aC5hdGFuMih0LngqTWF0aC5zaW4ociksaCp0aGlzLmNvc2xhdDAqTWF0aC5jb3MociktdC55KnRoaXMuc2lubGF0MCpNYXRoLnNpbihyKSkpLHQueD1pLHQueT1hLHQpfWVsc2UgaWYoTWF0aC5hYnModGhpcy5jb3NsYXQwKTw9eCl7aWYoaDw9eClyZXR1cm4gYT10aGlzLmxhdDAsaT10aGlzLmxvbmcwLHQueD1pLHQueT1hLHQ7dC54Kj10aGlzLmNvbix0LnkqPXRoaXMuY29uLGU9aCp0aGlzLmNvbnMvKDIqdGhpcy5hKnRoaXMuazApLGE9dGhpcy5jb24qUXQodGhpcy5lLGUpLGk9dGhpcy5jb24qdih0aGlzLmNvbip0aGlzLmxvbmcwK01hdGguYXRhbjIodC54LC0xKnQueSkpfWVsc2Ugcz0yKk1hdGguYXRhbihoKnRoaXMuY29zWDAvKDIqdGhpcy5hKnRoaXMuazAqdGhpcy5tczEpKSxpPXRoaXMubG9uZzAsaDw9eD9uPXRoaXMuWDA6KG49TWF0aC5hc2luKE1hdGguY29zKHMpKnRoaXMuc2luWDArdC55Kk1hdGguc2luKHMpKnRoaXMuY29zWDAvaCksaT12KHRoaXMubG9uZzArTWF0aC5hdGFuMih0LngqTWF0aC5zaW4ocyksaCp0aGlzLmNvc1gwKk1hdGguY29zKHMpLXQueSp0aGlzLnNpblgwKk1hdGguc2luKHMpKSkpLGE9LTEqUXQodGhpcy5lLE1hdGgudGFuKC41Kih5K24pKSk7cmV0dXJuIHQueD1pLHQueT1hLHR9dmFyIExuPVsic3RlcmUiLCJTdGVyZW9ncmFwaGljX1NvdXRoX1BvbGUiLCJQb2xhciBTdGVyZW9ncmFwaGljICh2YXJpYW50IEIpIl0sRm49e2luaXQ6a24sZm9yd2FyZDpCbixpbnZlcnNlOnFuLG5hbWVzOkxuLHNzZm5fOlJufTtmdW5jdGlvbiBqbigpe3ZhciB0PXRoaXMubGF0MDt0aGlzLmxhbWJkYTA9dGhpcy5sb25nMDt2YXIgaT1NYXRoLnNpbih0KSxhPXRoaXMuYSxlPXRoaXMucmYscz0xL2Usbj0yKnMtTWF0aC5wb3cocywyKSxoPXRoaXMuZT1NYXRoLnNxcnQobik7dGhpcy5SPXRoaXMuazAqYSpNYXRoLnNxcnQoMS1uKS8oMS1uKk1hdGgucG93KGksMikpLHRoaXMuYWxwaGE9TWF0aC5zcXJ0KDErbi8oMS1uKSpNYXRoLnBvdyhNYXRoLmNvcyh0KSw0KSksdGhpcy5iMD1NYXRoLmFzaW4oaS90aGlzLmFscGhhKTt2YXIgcj1NYXRoLmxvZyhNYXRoLnRhbihNYXRoLlBJLzQrdGhpcy5iMC8yKSksbz1NYXRoLmxvZyhNYXRoLnRhbihNYXRoLlBJLzQrdC8yKSksdT1NYXRoLmxvZygoMStoKmkpLygxLWgqaSkpO3RoaXMuSz1yLXRoaXMuYWxwaGEqbyt0aGlzLmFscGhhKmgvMip1fWZ1bmN0aW9uIEduKHQpe3ZhciBpPU1hdGgubG9nKE1hdGgudGFuKE1hdGguUEkvNC10LnkvMikpLGE9dGhpcy5lLzIqTWF0aC5sb2coKDErdGhpcy5lKk1hdGguc2luKHQueSkpLygxLXRoaXMuZSpNYXRoLnNpbih0LnkpKSksZT0tdGhpcy5hbHBoYSooaSthKSt0aGlzLksscz0yKihNYXRoLmF0YW4oTWF0aC5leHAoZSkpLU1hdGguUEkvNCksbj10aGlzLmFscGhhKih0LngtdGhpcy5sYW1iZGEwKSxoPU1hdGguYXRhbihNYXRoLnNpbihuKS8oTWF0aC5zaW4odGhpcy5iMCkqTWF0aC50YW4ocykrTWF0aC5jb3ModGhpcy5iMCkqTWF0aC5jb3MobikpKSxyPU1hdGguYXNpbihNYXRoLmNvcyh0aGlzLmIwKSpNYXRoLnNpbihzKS1NYXRoLnNpbih0aGlzLmIwKSpNYXRoLmNvcyhzKSpNYXRoLmNvcyhuKSk7cmV0dXJuIHQueT10aGlzLlIvMipNYXRoLmxvZygoMStNYXRoLnNpbihyKSkvKDEtTWF0aC5zaW4ocikpKSt0aGlzLnkwLHQueD10aGlzLlIqaCt0aGlzLngwLHR9ZnVuY3Rpb24gem4odCl7Zm9yKHZhciBpPXQueC10aGlzLngwLGE9dC55LXRoaXMueTAsZT1pL3RoaXMuUixzPTIqKE1hdGguYXRhbihNYXRoLmV4cChhL3RoaXMuUikpLU1hdGguUEkvNCksbj1NYXRoLmFzaW4oTWF0aC5jb3ModGhpcy5iMCkqTWF0aC5zaW4ocykrTWF0aC5zaW4odGhpcy5iMCkqTWF0aC5jb3MocykqTWF0aC5jb3MoZSkpLGg9TWF0aC5hdGFuKE1hdGguc2luKGUpLyhNYXRoLmNvcyh0aGlzLmIwKSpNYXRoLmNvcyhlKS1NYXRoLnNpbih0aGlzLmIwKSpNYXRoLnRhbihzKSkpLHI9dGhpcy5sYW1iZGEwK2gvdGhpcy5hbHBoYSxvPTAsdT1uLGw9LTFlMyxjPTA7TWF0aC5hYnModS1sKT4xZS03Oyl7aWYoKytjPjIwKXJldHVybjtvPTEvdGhpcy5hbHBoYSooTWF0aC5sb2coTWF0aC50YW4oTWF0aC5QSS80K24vMikpLXRoaXMuSykrdGhpcy5lKk1hdGgubG9nKE1hdGgudGFuKE1hdGguUEkvNCtNYXRoLmFzaW4odGhpcy5lKk1hdGguc2luKHUpKS8yKSksbD11LHU9MipNYXRoLmF0YW4oTWF0aC5leHAobykpLU1hdGguUEkvMn1yZXR1cm4gdC54PXIsdC55PXUsdH12YXIgVW49WyJzb21lcmMiXSxIbj17aW5pdDpqbixmb3J3YXJkOkduLGludmVyc2U6em4sbmFtZXM6VW59LFN0PTFlLTc7ZnVuY3Rpb24gUW4odCl7dmFyIGk9WyJIb3RpbmVfT2JsaXF1ZV9NZXJjYXRvciIsIkhvdGluZV9PYmxpcXVlX01lcmNhdG9yX0F6aW11dGhfTmF0dXJhbF9PcmlnaW4iXSxhPXR5cGVvZiB0LlBST0pFQ1RJT049PSJvYmplY3QiP09iamVjdC5rZXlzKHQuUFJPSkVDVElPTilbMF06dC5QUk9KRUNUSU9OO3JldHVybiJub191b2ZmImluIHR8fCJub19vZmYiaW4gdHx8aS5pbmRleE9mKGEpIT09LTF9ZnVuY3Rpb24gWG4oKXt2YXIgdCxpLGEsZSxzLG4saCxyLG8sdSxsPTAsYyxmPTAscD0wLG09MCxkPTAsTT0wLGc9MDt0aGlzLm5vX29mZj1Rbih0aGlzKSx0aGlzLm5vX3JvdD0ibm9fcm90ImluIHRoaXM7dmFyIF89ITE7ImFscGhhImluIHRoaXMmJihfPSEwKTt2YXIgYj0hMTtpZigicmVjdGlmaWVkX2dyaWRfYW5nbGUiaW4gdGhpcyYmKGI9ITApLF8mJihnPXRoaXMuYWxwaGEpLGImJihsPXRoaXMucmVjdGlmaWVkX2dyaWRfYW5nbGUqaiksX3x8YilmPXRoaXMubG9uZ2M7ZWxzZSBpZihwPXRoaXMubG9uZzEsZD10aGlzLmxhdDEsbT10aGlzLmxvbmcyLE09dGhpcy5sYXQyLE1hdGguYWJzKGQtTSk8PVN0fHwodD1NYXRoLmFicyhkKSk8PVN0fHxNYXRoLmFicyh0LXkpPD1TdHx8TWF0aC5hYnMoTWF0aC5hYnModGhpcy5sYXQwKS15KTw9U3R8fE1hdGguYWJzKE1hdGguYWJzKE0pLXkpPD1TdCl0aHJvdyBuZXcgRXJyb3I7dmFyIEU9MS10aGlzLmVzO2k9TWF0aC5zcXJ0KEUpLE1hdGguYWJzKHRoaXMubGF0MCk+eD8ocj1NYXRoLnNpbih0aGlzLmxhdDApLGE9TWF0aC5jb3ModGhpcy5sYXQwKSx0PTEtdGhpcy5lcypyKnIsdGhpcy5CPWEqYSx0aGlzLkI9TWF0aC5zcXJ0KDErdGhpcy5lcyp0aGlzLkIqdGhpcy5CL0UpLHRoaXMuQT10aGlzLkIqdGhpcy5rMCppL3QsZT10aGlzLkIqaS8oYSpNYXRoLnNxcnQodCkpLHM9ZSplLTEsczw9MD9zPTA6KHM9TWF0aC5zcXJ0KHMpLHRoaXMubGF0MDwwJiYocz0tcykpLHRoaXMuRT1zKz1lLHRoaXMuRSo9TWF0aC5wb3coWih0aGlzLmUsdGhpcy5sYXQwLHIpLHRoaXMuQikpOih0aGlzLkI9MS9pLHRoaXMuQT10aGlzLmswLHRoaXMuRT1lPXM9MSksX3x8Yj8oXz8oYz1NYXRoLmFzaW4oTWF0aC5zaW4oZykvZSksYnx8KGw9ZykpOihjPWwsZz1NYXRoLmFzaW4oZSpNYXRoLnNpbihjKSkpLHRoaXMubGFtMD1mLU1hdGguYXNpbiguNSoocy0xL3MpKk1hdGgudGFuKGMpKS90aGlzLkIpOihuPU1hdGgucG93KFoodGhpcy5lLGQsTWF0aC5zaW4oZCkpLHRoaXMuQiksaD1NYXRoLnBvdyhaKHRoaXMuZSxNLE1hdGguc2luKE0pKSx0aGlzLkIpLHM9dGhpcy5FL24sbz0oaC1uKS8oaCtuKSx1PXRoaXMuRSp0aGlzLkUsdT0odS1oKm4pLyh1K2gqbiksdD1wLW0sdDwtTWF0aC5waT9tLT16dDp0Pk1hdGgucGkmJihtKz16dCksdGhpcy5sYW0wPXYoLjUqKHArbSktTWF0aC5hdGFuKHUqTWF0aC50YW4oLjUqdGhpcy5CKihwLW0pKS9vKS90aGlzLkIpLGM9TWF0aC5hdGFuKDIqTWF0aC5zaW4odGhpcy5CKnYocC10aGlzLmxhbTApKS8ocy0xL3MpKSxsPWc9TWF0aC5hc2luKGUqTWF0aC5zaW4oYykpKSx0aGlzLnNpbmdhbT1NYXRoLnNpbihjKSx0aGlzLmNvc2dhbT1NYXRoLmNvcyhjKSx0aGlzLnNpbnJvdD1NYXRoLnNpbihsKSx0aGlzLmNvc3JvdD1NYXRoLmNvcyhsKSx0aGlzLnJCPTEvdGhpcy5CLHRoaXMuQXJCPXRoaXMuQSp0aGlzLnJCLHRoaXMuQnJBPTEvdGhpcy5BckIsdGhpcy5BKnRoaXMuQix0aGlzLm5vX29mZj90aGlzLnVfMD0wOih0aGlzLnVfMD1NYXRoLmFicyh0aGlzLkFyQipNYXRoLmF0YW4oTWF0aC5zcXJ0KGUqZS0xKS9NYXRoLmNvcyhnKSkpLHRoaXMubGF0MDwwJiYodGhpcy51XzA9LXRoaXMudV8wKSkscz0uNSpjLHRoaXMudl9wb2xlX249dGhpcy5BckIqTWF0aC5sb2coTWF0aC50YW4oQy1zKSksdGhpcy52X3BvbGVfcz10aGlzLkFyQipNYXRoLmxvZyhNYXRoLnRhbihDK3MpKX1mdW5jdGlvbiBXbih0KXt2YXIgaT17fSxhLGUscyxuLGgscixvLHU7aWYodC54PXQueC10aGlzLmxhbTAsTWF0aC5hYnMoTWF0aC5hYnModC55KS15KT54KXtpZihoPXRoaXMuRS9NYXRoLnBvdyhaKHRoaXMuZSx0LnksTWF0aC5zaW4odC55KSksdGhpcy5CKSxyPTEvaCxhPS41KihoLXIpLGU9LjUqKGgrciksbj1NYXRoLnNpbih0aGlzLkIqdC54KSxzPShhKnRoaXMuc2luZ2FtLW4qdGhpcy5jb3NnYW0pL2UsTWF0aC5hYnMoTWF0aC5hYnMocyktMSk8eCl0aHJvdyBuZXcgRXJyb3I7dT0uNSp0aGlzLkFyQipNYXRoLmxvZygoMS1zKS8oMStzKSkscj1NYXRoLmNvcyh0aGlzLkIqdC54KSxNYXRoLmFicyhyKTxTdD9vPXRoaXMuQSp0Lng6bz10aGlzLkFyQipNYXRoLmF0YW4yKGEqdGhpcy5jb3NnYW0rbip0aGlzLnNpbmdhbSxyKX1lbHNlIHU9dC55PjA/dGhpcy52X3BvbGVfbjp0aGlzLnZfcG9sZV9zLG89dGhpcy5BckIqdC55O3JldHVybiB0aGlzLm5vX3JvdD8oaS54PW8saS55PXUpOihvLT10aGlzLnVfMCxpLng9dSp0aGlzLmNvc3JvdCtvKnRoaXMuc2lucm90LGkueT1vKnRoaXMuY29zcm90LXUqdGhpcy5zaW5yb3QpLGkueD10aGlzLmEqaS54K3RoaXMueDAsaS55PXRoaXMuYSppLnkrdGhpcy55MCxpfWZ1bmN0aW9uIFZuKHQpe3ZhciBpLGEsZSxzLG4saCxyLG89e307aWYodC54PSh0LngtdGhpcy54MCkqKDEvdGhpcy5hKSx0Lnk9KHQueS10aGlzLnkwKSooMS90aGlzLmEpLHRoaXMubm9fcm90PyhhPXQueSxpPXQueCk6KGE9dC54KnRoaXMuY29zcm90LXQueSp0aGlzLnNpbnJvdCxpPXQueSp0aGlzLmNvc3JvdCt0LngqdGhpcy5zaW5yb3QrdGhpcy51XzApLGU9TWF0aC5leHAoLXRoaXMuQnJBKmEpLHM9LjUqKGUtMS9lKSxuPS41KihlKzEvZSksaD1NYXRoLnNpbih0aGlzLkJyQSppKSxyPShoKnRoaXMuY29zZ2FtK3MqdGhpcy5zaW5nYW0pL24sTWF0aC5hYnMoTWF0aC5hYnMociktMSk8eClvLng9MCxvLnk9cjwwPy15Onk7ZWxzZXtpZihvLnk9dGhpcy5FL01hdGguc3FydCgoMStyKS8oMS1yKSksby55PVF0KHRoaXMuZSxNYXRoLnBvdyhvLnksMS90aGlzLkIpKSxvLnk9PT0xLzApdGhyb3cgbmV3IEVycm9yO28ueD0tdGhpcy5yQipNYXRoLmF0YW4yKHMqdGhpcy5jb3NnYW0taCp0aGlzLnNpbmdhbSxNYXRoLmNvcyh0aGlzLkJyQSppKSl9cmV0dXJuIG8ueCs9dGhpcy5sYW0wLG99dmFyIEpuPVsiSG90aW5lX09ibGlxdWVfTWVyY2F0b3IiLCJIb3RpbmUgT2JsaXF1ZSBNZXJjYXRvciIsIkhvdGluZV9PYmxpcXVlX01lcmNhdG9yX0F6aW11dGhfTmF0dXJhbF9PcmlnaW4iLCJIb3RpbmVfT2JsaXF1ZV9NZXJjYXRvcl9Ud29fUG9pbnRfTmF0dXJhbF9PcmlnaW4iLCJIb3RpbmVfT2JsaXF1ZV9NZXJjYXRvcl9BemltdXRoX0NlbnRlciIsIk9ibGlxdWVfTWVyY2F0b3IiLCJvbWVyYyJdLEtuPXtpbml0OlhuLGZvcndhcmQ6V24saW52ZXJzZTpWbixuYW1lczpKbn07ZnVuY3Rpb24gJG4oKXtpZih0aGlzLmxhdDJ8fCh0aGlzLmxhdDI9dGhpcy5sYXQxKSx0aGlzLmswfHwodGhpcy5rMD0xKSx0aGlzLngwPXRoaXMueDB8fDAsdGhpcy55MD10aGlzLnkwfHwwLCEoTWF0aC5hYnModGhpcy5sYXQxK3RoaXMubGF0Mik8eCkpe3ZhciB0PXRoaXMuYi90aGlzLmE7dGhpcy5lPU1hdGguc3FydCgxLXQqdCk7dmFyIGk9TWF0aC5zaW4odGhpcy5sYXQxKSxhPU1hdGguY29zKHRoaXMubGF0MSksZT1zdCh0aGlzLmUsaSxhKSxzPVoodGhpcy5lLHRoaXMubGF0MSxpKSxuPU1hdGguc2luKHRoaXMubGF0MiksaD1NYXRoLmNvcyh0aGlzLmxhdDIpLHI9c3QodGhpcy5lLG4saCksbz1aKHRoaXMuZSx0aGlzLmxhdDIsbiksdT1aKHRoaXMuZSx0aGlzLmxhdDAsTWF0aC5zaW4odGhpcy5sYXQwKSk7TWF0aC5hYnModGhpcy5sYXQxLXRoaXMubGF0Mik+eD90aGlzLm5zPU1hdGgubG9nKGUvcikvTWF0aC5sb2cocy9vKTp0aGlzLm5zPWksaXNOYU4odGhpcy5ucykmJih0aGlzLm5zPWkpLHRoaXMuZjA9ZS8odGhpcy5ucypNYXRoLnBvdyhzLHRoaXMubnMpKSx0aGlzLnJoPXRoaXMuYSp0aGlzLmYwKk1hdGgucG93KHUsdGhpcy5ucyksdGhpcy50aXRsZXx8KHRoaXMudGl0bGU9IkxhbWJlcnQgQ29uZm9ybWFsIENvbmljIil9fWZ1bmN0aW9uIFluKHQpe3ZhciBpPXQueCxhPXQueTtNYXRoLmFicygyKk1hdGguYWJzKGEpLU1hdGguUEkpPD14JiYoYT1IdChhKSooeS0yKngpKTt2YXIgZT1NYXRoLmFicyhNYXRoLmFicyhhKS15KSxzLG47aWYoZT54KXM9Wih0aGlzLmUsYSxNYXRoLnNpbihhKSksbj10aGlzLmEqdGhpcy5mMCpNYXRoLnBvdyhzLHRoaXMubnMpO2Vsc2V7aWYoZT1hKnRoaXMubnMsZTw9MClyZXR1cm4gbnVsbDtuPTB9dmFyIGg9dGhpcy5ucyp2KGktdGhpcy5sb25nMCk7cmV0dXJuIHQueD10aGlzLmswKihuKk1hdGguc2luKGgpKSt0aGlzLngwLHQueT10aGlzLmswKih0aGlzLnJoLW4qTWF0aC5jb3MoaCkpK3RoaXMueTAsdH1mdW5jdGlvbiBabih0KXt2YXIgaSxhLGUscyxuLGg9KHQueC10aGlzLngwKS90aGlzLmswLHI9dGhpcy5yaC0odC55LXRoaXMueTApL3RoaXMuazA7dGhpcy5ucz4wPyhpPU1hdGguc3FydChoKmgrcipyKSxhPTEpOihpPS1NYXRoLnNxcnQoaCpoK3IqciksYT0tMSk7dmFyIG89MDtpZihpIT09MCYmKG89TWF0aC5hdGFuMihhKmgsYSpyKSksaSE9PTB8fHRoaXMubnM+MCl7aWYoYT0xL3RoaXMubnMsZT1NYXRoLnBvdyhpLyh0aGlzLmEqdGhpcy5mMCksYSkscz1RdCh0aGlzLmUsZSkscz09PS05OTk5KXJldHVybiBudWxsfWVsc2Ugcz0teTtyZXR1cm4gbj12KG8vdGhpcy5ucyt0aGlzLmxvbmcwKSx0Lng9bix0Lnk9cyx0fXZhciB0cj1bIkxhbWJlcnQgVGFuZ2VudGlhbCBDb25mb3JtYWwgQ29uaWMgUHJvamVjdGlvbiIsIkxhbWJlcnRfQ29uZm9ybWFsX0NvbmljIiwiTGFtYmVydF9Db25mb3JtYWxfQ29uaWNfMVNQIiwiTGFtYmVydF9Db25mb3JtYWxfQ29uaWNfMlNQIiwibGNjIiwiTGFtYmVydCBDb25pYyBDb25mb3JtYWwgKDFTUCkiLCJMYW1iZXJ0IENvbmljIENvbmZvcm1hbCAoMlNQKSJdLGlyPXtpbml0OiRuLGZvcndhcmQ6WW4saW52ZXJzZTpabixuYW1lczp0cn07ZnVuY3Rpb24gYXIoKXt0aGlzLmE9NjM3NzM5NzE1NWUtMyx0aGlzLmVzPS4wMDY2NzQzNzIyMzA2MTQsdGhpcy5lPU1hdGguc3FydCh0aGlzLmVzKSx0aGlzLmxhdDB8fCh0aGlzLmxhdDA9Ljg2MzkzNzk3OTczNzE5MyksdGhpcy5sb25nMHx8KHRoaXMubG9uZzA9LjQzMzQyMzQzMDkxMTkyNTEpLHRoaXMuazB8fCh0aGlzLmswPS45OTk5KSx0aGlzLnM0NT0uNzg1Mzk4MTYzMzk3NDQ4LHRoaXMuczkwPTIqdGhpcy5zNDUsdGhpcy5maTA9dGhpcy5sYXQwLHRoaXMuZTI9dGhpcy5lcyx0aGlzLmU9TWF0aC5zcXJ0KHRoaXMuZTIpLHRoaXMuYWxmYT1NYXRoLnNxcnQoMSt0aGlzLmUyKk1hdGgucG93KE1hdGguY29zKHRoaXMuZmkwKSw0KS8oMS10aGlzLmUyKSksdGhpcy51cT0xLjA0MjE2ODU2MzgwNDc0LHRoaXMudTA9TWF0aC5hc2luKE1hdGguc2luKHRoaXMuZmkwKS90aGlzLmFsZmEpLHRoaXMuZz1NYXRoLnBvdygoMSt0aGlzLmUqTWF0aC5zaW4odGhpcy5maTApKS8oMS10aGlzLmUqTWF0aC5zaW4odGhpcy5maTApKSx0aGlzLmFsZmEqdGhpcy5lLzIpLHRoaXMuaz1NYXRoLnRhbih0aGlzLnUwLzIrdGhpcy5zNDUpL01hdGgucG93KE1hdGgudGFuKHRoaXMuZmkwLzIrdGhpcy5zNDUpLHRoaXMuYWxmYSkqdGhpcy5nLHRoaXMuazE9dGhpcy5rMCx0aGlzLm4wPXRoaXMuYSpNYXRoLnNxcnQoMS10aGlzLmUyKS8oMS10aGlzLmUyKk1hdGgucG93KE1hdGguc2luKHRoaXMuZmkwKSwyKSksdGhpcy5zMD0xLjM3MDA4MzQ2MjgxNTU1LHRoaXMubj1NYXRoLnNpbih0aGlzLnMwKSx0aGlzLnJvMD10aGlzLmsxKnRoaXMubjAvTWF0aC50YW4odGhpcy5zMCksdGhpcy5hZD10aGlzLnM5MC10aGlzLnVxfWZ1bmN0aW9uIGVyKHQpe3ZhciBpLGEsZSxzLG4saCxyLG89dC54LHU9dC55LGw9dihvLXRoaXMubG9uZzApO3JldHVybiBpPU1hdGgucG93KCgxK3RoaXMuZSpNYXRoLnNpbih1KSkvKDEtdGhpcy5lKk1hdGguc2luKHUpKSx0aGlzLmFsZmEqdGhpcy5lLzIpLGE9MiooTWF0aC5hdGFuKHRoaXMuaypNYXRoLnBvdyhNYXRoLnRhbih1LzIrdGhpcy5zNDUpLHRoaXMuYWxmYSkvaSktdGhpcy5zNDUpLGU9LWwqdGhpcy5hbGZhLHM9TWF0aC5hc2luKE1hdGguY29zKHRoaXMuYWQpKk1hdGguc2luKGEpK01hdGguc2luKHRoaXMuYWQpKk1hdGguY29zKGEpKk1hdGguY29zKGUpKSxuPU1hdGguYXNpbihNYXRoLmNvcyhhKSpNYXRoLnNpbihlKS9NYXRoLmNvcyhzKSksaD10aGlzLm4qbixyPXRoaXMucm8wKk1hdGgucG93KE1hdGgudGFuKHRoaXMuczAvMit0aGlzLnM0NSksdGhpcy5uKS9NYXRoLnBvdyhNYXRoLnRhbihzLzIrdGhpcy5zNDUpLHRoaXMubiksdC55PXIqTWF0aC5jb3MoaCkvMSx0Lng9cipNYXRoLnNpbihoKS8xLHRoaXMuY3plY2h8fCh0LnkqPS0xLHQueCo9LTEpLHR9ZnVuY3Rpb24gc3IodCl7dmFyIGksYSxlLHMsbixoLHIsbyx1PXQueDt0Lng9dC55LHQueT11LHRoaXMuY3plY2h8fCh0LnkqPS0xLHQueCo9LTEpLGg9TWF0aC5zcXJ0KHQueCp0LngrdC55KnQueSksbj1NYXRoLmF0YW4yKHQueSx0LngpLHM9bi9NYXRoLnNpbih0aGlzLnMwKSxlPTIqKE1hdGguYXRhbihNYXRoLnBvdyh0aGlzLnJvMC9oLDEvdGhpcy5uKSpNYXRoLnRhbih0aGlzLnMwLzIrdGhpcy5zNDUpKS10aGlzLnM0NSksaT1NYXRoLmFzaW4oTWF0aC5jb3ModGhpcy5hZCkqTWF0aC5zaW4oZSktTWF0aC5zaW4odGhpcy5hZCkqTWF0aC5jb3MoZSkqTWF0aC5jb3MocykpLGE9TWF0aC5hc2luKE1hdGguY29zKGUpKk1hdGguc2luKHMpL01hdGguY29zKGkpKSx0Lng9dGhpcy5sb25nMC1hL3RoaXMuYWxmYSxyPWksbz0wO3ZhciBsPTA7ZG8gdC55PTIqKE1hdGguYXRhbihNYXRoLnBvdyh0aGlzLmssLTEvdGhpcy5hbGZhKSpNYXRoLnBvdyhNYXRoLnRhbihpLzIrdGhpcy5zNDUpLDEvdGhpcy5hbGZhKSpNYXRoLnBvdygoMSt0aGlzLmUqTWF0aC5zaW4ocikpLygxLXRoaXMuZSpNYXRoLnNpbihyKSksdGhpcy5lLzIpKS10aGlzLnM0NSksTWF0aC5hYnMoci10LnkpPDFlLTEwJiYobz0xKSxyPXQueSxsKz0xO3doaWxlKG89PT0wJiZsPDE1KTtyZXR1cm4gbD49MTU/bnVsbDp0fXZhciBucj1bIktyb3ZhayIsImtyb3ZhayJdLHJyPXtpbml0OmFyLGZvcndhcmQ6ZXIsaW52ZXJzZTpzcixuYW1lczpucn07ZnVuY3Rpb24gSCh0LGksYSxlLHMpe3JldHVybiB0KnMtaSpNYXRoLnNpbigyKnMpK2EqTWF0aC5zaW4oNCpzKS1lKk1hdGguc2luKDYqcyl9ZnVuY3Rpb24gVnQodCl7cmV0dXJuIDEtLjI1KnQqKDErdC8xNiooMysxLjI1KnQpKX1mdW5jdGlvbiBKdCh0KXtyZXR1cm4gLjM3NSp0KigxKy4yNSp0KigxKy40Njg3NSp0KSl9ZnVuY3Rpb24gS3QodCl7cmV0dXJuIC4wNTg1OTM3NSp0KnQqKDErLjc1KnQpfWZ1bmN0aW9uICR0KHQpe3JldHVybiB0KnQqdCouMDExMzkzMjI5MTY2NjY2NjY2fWZ1bmN0aW9uIFR0KHQsaSxhKXt2YXIgZT1pKmE7cmV0dXJuIHQvTWF0aC5zcXJ0KDEtZSplKX1mdW5jdGlvbiBPdCh0KXtyZXR1cm4gTWF0aC5hYnModCk8eT90OnQtSHQodCkqTWF0aC5QSX1mdW5jdGlvbiBfaSh0LGksYSxlLHMpe3ZhciBuLGg7bj10L2k7Zm9yKHZhciByPTA7cjwxNTtyKyspaWYoaD0odC0oaSpuLWEqTWF0aC5zaW4oMipuKStlKk1hdGguc2luKDQqbiktcypNYXRoLnNpbig2Km4pKSkvKGktMiphKk1hdGguY29zKDIqbikrNCplKk1hdGguY29zKDQqbiktNipzKk1hdGguY29zKDYqbikpLG4rPWgsTWF0aC5hYnMoaCk8PTFlLTEwKXJldHVybiBuO3JldHVybiBOYU59ZnVuY3Rpb24gaHIoKXt0aGlzLnNwaGVyZXx8KHRoaXMuZTA9VnQodGhpcy5lcyksdGhpcy5lMT1KdCh0aGlzLmVzKSx0aGlzLmUyPUt0KHRoaXMuZXMpLHRoaXMuZTM9JHQodGhpcy5lcyksdGhpcy5tbDA9dGhpcy5hKkgodGhpcy5lMCx0aGlzLmUxLHRoaXMuZTIsdGhpcy5lMyx0aGlzLmxhdDApKX1mdW5jdGlvbiBvcih0KXt2YXIgaSxhLGU9dC54LHM9dC55O2lmKGU9dihlLXRoaXMubG9uZzApLHRoaXMuc3BoZXJlKWk9dGhpcy5hKk1hdGguYXNpbihNYXRoLmNvcyhzKSpNYXRoLnNpbihlKSksYT10aGlzLmEqKE1hdGguYXRhbjIoTWF0aC50YW4ocyksTWF0aC5jb3MoZSkpLXRoaXMubGF0MCk7ZWxzZXt2YXIgbj1NYXRoLnNpbihzKSxoPU1hdGguY29zKHMpLHI9VHQodGhpcy5hLHRoaXMuZSxuKSxvPU1hdGgudGFuKHMpKk1hdGgudGFuKHMpLHU9ZSpNYXRoLmNvcyhzKSxsPXUqdSxjPXRoaXMuZXMqaCpoLygxLXRoaXMuZXMpLGY9dGhpcy5hKkgodGhpcy5lMCx0aGlzLmUxLHRoaXMuZTIsdGhpcy5lMyxzKTtpPXIqdSooMS1sKm8qKC4xNjY2NjY2NjY2NjY2NjY2Ni0oOC1vKzgqYykqbC8xMjApKSxhPWYtdGhpcy5tbDArcipuL2gqbCooLjUrKDUtbys2KmMpKmwvMjQpfXJldHVybiB0Lng9aSt0aGlzLngwLHQueT1hK3RoaXMueTAsdH1mdW5jdGlvbiB1cih0KXt0LngtPXRoaXMueDAsdC55LT10aGlzLnkwO3ZhciBpPXQueC90aGlzLmEsYT10LnkvdGhpcy5hLGUscztpZih0aGlzLnNwaGVyZSl7dmFyIG49YSt0aGlzLmxhdDA7ZT1NYXRoLmFzaW4oTWF0aC5zaW4obikqTWF0aC5jb3MoaSkpLHM9TWF0aC5hdGFuMihNYXRoLnRhbihpKSxNYXRoLmNvcyhuKSl9ZWxzZXt2YXIgaD10aGlzLm1sMC90aGlzLmErYSxyPV9pKGgsdGhpcy5lMCx0aGlzLmUxLHRoaXMuZTIsdGhpcy5lMyk7aWYoTWF0aC5hYnMoTWF0aC5hYnMocikteSk8PXgpcmV0dXJuIHQueD10aGlzLmxvbmcwLHQueT15LGE8MCYmKHQueSo9LTEpLHQ7dmFyIG89VHQodGhpcy5hLHRoaXMuZSxNYXRoLnNpbihyKSksdT1vKm8qby90aGlzLmEvdGhpcy5hKigxLXRoaXMuZXMpLGw9TWF0aC5wb3coTWF0aC50YW4ociksMiksYz1pKnRoaXMuYS9vLGY9YypjO2U9ci1vKk1hdGgudGFuKHIpL3UqYypjKiguNS0oMSszKmwpKmMqYy8yNCkscz1jKigxLWYqKGwvMysoMSszKmwpKmwqZi8xNSkpL01hdGguY29zKHIpfXJldHVybiB0Lng9dihzK3RoaXMubG9uZzApLHQueT1PdChlKSx0fXZhciBscj1bIkNhc3NpbmkiLCJDYXNzaW5pX1NvbGRuZXIiLCJjYXNzIl0sY3I9e2luaXQ6aHIsZm9yd2FyZDpvcixpbnZlcnNlOnVyLG5hbWVzOmxyfTtmdW5jdGlvbiBtdCh0LGkpe3ZhciBhO3JldHVybiB0PjFlLTc/KGE9dCppLCgxLXQqdCkqKGkvKDEtYSphKS0uNS90Kk1hdGgubG9nKCgxLWEpLygxK2EpKSkpOjIqaX12YXIgZnI9MSxkcj0yLHByPTMsbXI9NDtmdW5jdGlvbiBNcigpe3ZhciB0PU1hdGguYWJzKHRoaXMubGF0MCk7aWYoTWF0aC5hYnModC15KTx4P3RoaXMubW9kZT10aGlzLmxhdDA8MD90aGlzLlNfUE9MRTp0aGlzLk5fUE9MRTpNYXRoLmFicyh0KTx4P3RoaXMubW9kZT10aGlzLkVRVUlUOnRoaXMubW9kZT10aGlzLk9CTElRLHRoaXMuZXM+MCl7dmFyIGk7c3dpdGNoKHRoaXMucXA9bXQodGhpcy5lLDEpLHRoaXMubW1mPS41LygxLXRoaXMuZXMpLHRoaXMuYXBhPXdyKHRoaXMuZXMpLHRoaXMubW9kZSl7Y2FzZSB0aGlzLk5fUE9MRTp0aGlzLmRkPTE7YnJlYWs7Y2FzZSB0aGlzLlNfUE9MRTp0aGlzLmRkPTE7YnJlYWs7Y2FzZSB0aGlzLkVRVUlUOnRoaXMucnE9TWF0aC5zcXJ0KC41KnRoaXMucXApLHRoaXMuZGQ9MS90aGlzLnJxLHRoaXMueG1mPTEsdGhpcy55bWY9LjUqdGhpcy5xcDticmVhaztjYXNlIHRoaXMuT0JMSVE6dGhpcy5ycT1NYXRoLnNxcnQoLjUqdGhpcy5xcCksaT1NYXRoLnNpbih0aGlzLmxhdDApLHRoaXMuc2luYjE9bXQodGhpcy5lLGkpL3RoaXMucXAsdGhpcy5jb3NiMT1NYXRoLnNxcnQoMS10aGlzLnNpbmIxKnRoaXMuc2luYjEpLHRoaXMuZGQ9TWF0aC5jb3ModGhpcy5sYXQwKS8oTWF0aC5zcXJ0KDEtdGhpcy5lcyppKmkpKnRoaXMucnEqdGhpcy5jb3NiMSksdGhpcy55bWY9KHRoaXMueG1mPXRoaXMucnEpL3RoaXMuZGQsdGhpcy54bWYqPXRoaXMuZGQ7YnJlYWt9fWVsc2UgdGhpcy5tb2RlPT09dGhpcy5PQkxJUSYmKHRoaXMuc2lucGgwPU1hdGguc2luKHRoaXMubGF0MCksdGhpcy5jb3NwaDA9TWF0aC5jb3ModGhpcy5sYXQwKSl9ZnVuY3Rpb24geXIodCl7dmFyIGksYSxlLHMsbixoLHIsbyx1LGwsYz10LngsZj10Lnk7aWYoYz12KGMtdGhpcy5sb25nMCksdGhpcy5zcGhlcmUpe2lmKG49TWF0aC5zaW4oZiksbD1NYXRoLmNvcyhmKSxlPU1hdGguY29zKGMpLHRoaXMubW9kZT09PXRoaXMuT0JMSVF8fHRoaXMubW9kZT09PXRoaXMuRVFVSVQpe2lmKGE9dGhpcy5tb2RlPT09dGhpcy5FUVVJVD8xK2wqZToxK3RoaXMuc2lucGgwKm4rdGhpcy5jb3NwaDAqbCplLGE8PXgpcmV0dXJuIG51bGw7YT1NYXRoLnNxcnQoMi9hKSxpPWEqbCpNYXRoLnNpbihjKSxhKj10aGlzLm1vZGU9PT10aGlzLkVRVUlUP246dGhpcy5jb3NwaDAqbi10aGlzLnNpbnBoMCpsKmV9ZWxzZSBpZih0aGlzLm1vZGU9PT10aGlzLk5fUE9MRXx8dGhpcy5tb2RlPT09dGhpcy5TX1BPTEUpe2lmKHRoaXMubW9kZT09PXRoaXMuTl9QT0xFJiYoZT0tZSksTWF0aC5hYnMoZit0aGlzLmxhdDApPHgpcmV0dXJuIG51bGw7YT1DLWYqLjUsYT0yKih0aGlzLm1vZGU9PT10aGlzLlNfUE9MRT9NYXRoLmNvcyhhKTpNYXRoLnNpbihhKSksaT1hKk1hdGguc2luKGMpLGEqPWV9fWVsc2V7c3dpdGNoKHI9MCxvPTAsdT0wLGU9TWF0aC5jb3MoYykscz1NYXRoLnNpbihjKSxuPU1hdGguc2luKGYpLGg9bXQodGhpcy5lLG4pLCh0aGlzLm1vZGU9PT10aGlzLk9CTElRfHx0aGlzLm1vZGU9PT10aGlzLkVRVUlUKSYmKHI9aC90aGlzLnFwLG89TWF0aC5zcXJ0KDEtcipyKSksdGhpcy5tb2RlKXtjYXNlIHRoaXMuT0JMSVE6dT0xK3RoaXMuc2luYjEqcit0aGlzLmNvc2IxKm8qZTticmVhaztjYXNlIHRoaXMuRVFVSVQ6dT0xK28qZTticmVhaztjYXNlIHRoaXMuTl9QT0xFOnU9eStmLGg9dGhpcy5xcC1oO2JyZWFrO2Nhc2UgdGhpcy5TX1BPTEU6dT1mLXksaD10aGlzLnFwK2g7YnJlYWt9aWYoTWF0aC5hYnModSk8eClyZXR1cm4gbnVsbDtzd2l0Y2godGhpcy5tb2RlKXtjYXNlIHRoaXMuT0JMSVE6Y2FzZSB0aGlzLkVRVUlUOnU9TWF0aC5zcXJ0KDIvdSksdGhpcy5tb2RlPT09dGhpcy5PQkxJUT9hPXRoaXMueW1mKnUqKHRoaXMuY29zYjEqci10aGlzLnNpbmIxKm8qZSk6YT0odT1NYXRoLnNxcnQoMi8oMStvKmUpKSkqcip0aGlzLnltZixpPXRoaXMueG1mKnUqbypzO2JyZWFrO2Nhc2UgdGhpcy5OX1BPTEU6Y2FzZSB0aGlzLlNfUE9MRTpoPj0wPyhpPSh1PU1hdGguc3FydChoKSkqcyxhPWUqKHRoaXMubW9kZT09PXRoaXMuU19QT0xFP3U6LXUpKTppPWE9MDticmVha319cmV0dXJuIHQueD10aGlzLmEqaSt0aGlzLngwLHQueT10aGlzLmEqYSt0aGlzLnkwLHR9ZnVuY3Rpb24gZ3IodCl7dC54LT10aGlzLngwLHQueS09dGhpcy55MDt2YXIgaT10LngvdGhpcy5hLGE9dC55L3RoaXMuYSxlLHMsbixoLHIsbyx1O2lmKHRoaXMuc3BoZXJlKXt2YXIgbD0wLGMsZj0wO2lmKGM9TWF0aC5zcXJ0KGkqaSthKmEpLHM9YyouNSxzPjEpcmV0dXJuIG51bGw7c3dpdGNoKHM9MipNYXRoLmFzaW4ocyksKHRoaXMubW9kZT09PXRoaXMuT0JMSVF8fHRoaXMubW9kZT09PXRoaXMuRVFVSVQpJiYoZj1NYXRoLnNpbihzKSxsPU1hdGguY29zKHMpKSx0aGlzLm1vZGUpe2Nhc2UgdGhpcy5FUVVJVDpzPU1hdGguYWJzKGMpPD14PzA6TWF0aC5hc2luKGEqZi9jKSxpKj1mLGE9bCpjO2JyZWFrO2Nhc2UgdGhpcy5PQkxJUTpzPU1hdGguYWJzKGMpPD14P3RoaXMubGF0MDpNYXRoLmFzaW4obCp0aGlzLnNpbnBoMCthKmYqdGhpcy5jb3NwaDAvYyksaSo9Zip0aGlzLmNvc3BoMCxhPShsLU1hdGguc2luKHMpKnRoaXMuc2lucGgwKSpjO2JyZWFrO2Nhc2UgdGhpcy5OX1BPTEU6YT0tYSxzPXktczticmVhaztjYXNlIHRoaXMuU19QT0xFOnMtPXk7YnJlYWt9ZT1hPT09MCYmKHRoaXMubW9kZT09PXRoaXMuRVFVSVR8fHRoaXMubW9kZT09PXRoaXMuT0JMSVEpPzA6TWF0aC5hdGFuMihpLGEpfWVsc2V7aWYodT0wLHRoaXMubW9kZT09PXRoaXMuT0JMSVF8fHRoaXMubW9kZT09PXRoaXMuRVFVSVQpe2lmKGkvPXRoaXMuZGQsYSo9dGhpcy5kZCxvPU1hdGguc3FydChpKmkrYSphKSxvPHgpcmV0dXJuIHQueD10aGlzLmxvbmcwLHQueT10aGlzLmxhdDAsdDtoPTIqTWF0aC5hc2luKC41Km8vdGhpcy5ycSksbj1NYXRoLmNvcyhoKSxpKj1oPU1hdGguc2luKGgpLHRoaXMubW9kZT09PXRoaXMuT0JMSVE/KHU9bip0aGlzLnNpbmIxK2EqaCp0aGlzLmNvc2IxL28scj10aGlzLnFwKnUsYT1vKnRoaXMuY29zYjEqbi1hKnRoaXMuc2luYjEqaCk6KHU9YSpoL28scj10aGlzLnFwKnUsYT1vKm4pfWVsc2UgaWYodGhpcy5tb2RlPT09dGhpcy5OX1BPTEV8fHRoaXMubW9kZT09PXRoaXMuU19QT0xFKXtpZih0aGlzLm1vZGU9PT10aGlzLk5fUE9MRSYmKGE9LWEpLHI9aSppK2EqYSwhcilyZXR1cm4gdC54PXRoaXMubG9uZzAsdC55PXRoaXMubGF0MCx0O3U9MS1yL3RoaXMucXAsdGhpcy5tb2RlPT09dGhpcy5TX1BPTEUmJih1PS11KX1lPU1hdGguYXRhbjIoaSxhKSxzPUFyKE1hdGguYXNpbih1KSx0aGlzLmFwYSl9cmV0dXJuIHQueD12KHRoaXMubG9uZzArZSksdC55PXMsdH12YXIgeHI9LjMzMzMzMzMzMzMzMzMzMzMsX3I9LjE3MjIyMjIyMjIyMjIyMjIyLHZyPS4xMDI1NzkzNjUwNzkzNjUwOCxicj0uMDYzODg4ODg4ODg4ODg4ODgsTnI9LjA2NjQwMjExNjQwMjExNjQsRXI9LjAxNjQxNTAxMjk0MjE5MTU0MztmdW5jdGlvbiB3cih0KXt2YXIgaSxhPVtdO3JldHVybiBhWzBdPXQqeHIsaT10KnQsYVswXSs9aSpfcixhWzFdPWkqYnIsaSo9dCxhWzBdKz1pKnZyLGFbMV0rPWkqTnIsYVsyXT1pKkVyLGF9ZnVuY3Rpb24gQXIodCxpKXt2YXIgYT10K3Q7cmV0dXJuIHQraVswXSpNYXRoLnNpbihhKStpWzFdKk1hdGguc2luKGErYSkraVsyXSpNYXRoLnNpbihhK2ErYSl9dmFyIENyPVsiTGFtYmVydCBBemltdXRoYWwgRXF1YWwgQXJlYSIsIkxhbWJlcnRfQXppbXV0aGFsX0VxdWFsX0FyZWEiLCJsYWVhIl0sU3I9e2luaXQ6TXIsZm9yd2FyZDp5cixpbnZlcnNlOmdyLG5hbWVzOkNyLFNfUE9MRTpmcixOX1BPTEU6ZHIsRVFVSVQ6cHIsT0JMSVE6bXJ9O2Z1bmN0aW9uIE10KHQpe3JldHVybiBNYXRoLmFicyh0KT4xJiYodD10PjE/MTotMSksTWF0aC5hc2luKHQpfWZ1bmN0aW9uIFRyKCl7TWF0aC5hYnModGhpcy5sYXQxK3RoaXMubGF0Mik8eHx8KHRoaXMudGVtcD10aGlzLmIvdGhpcy5hLHRoaXMuZXM9MS1NYXRoLnBvdyh0aGlzLnRlbXAsMiksdGhpcy5lMz1NYXRoLnNxcnQodGhpcy5lcyksdGhpcy5zaW5fcG89TWF0aC5zaW4odGhpcy5sYXQxKSx0aGlzLmNvc19wbz1NYXRoLmNvcyh0aGlzLmxhdDEpLHRoaXMudDE9dGhpcy5zaW5fcG8sdGhpcy5jb249dGhpcy5zaW5fcG8sdGhpcy5tczE9c3QodGhpcy5lMyx0aGlzLnNpbl9wbyx0aGlzLmNvc19wbyksdGhpcy5xczE9bXQodGhpcy5lMyx0aGlzLnNpbl9wbyx0aGlzLmNvc19wbyksdGhpcy5zaW5fcG89TWF0aC5zaW4odGhpcy5sYXQyKSx0aGlzLmNvc19wbz1NYXRoLmNvcyh0aGlzLmxhdDIpLHRoaXMudDI9dGhpcy5zaW5fcG8sdGhpcy5tczI9c3QodGhpcy5lMyx0aGlzLnNpbl9wbyx0aGlzLmNvc19wbyksdGhpcy5xczI9bXQodGhpcy5lMyx0aGlzLnNpbl9wbyx0aGlzLmNvc19wbyksdGhpcy5zaW5fcG89TWF0aC5zaW4odGhpcy5sYXQwKSx0aGlzLmNvc19wbz1NYXRoLmNvcyh0aGlzLmxhdDApLHRoaXMudDM9dGhpcy5zaW5fcG8sdGhpcy5xczA9bXQodGhpcy5lMyx0aGlzLnNpbl9wbyx0aGlzLmNvc19wbyksTWF0aC5hYnModGhpcy5sYXQxLXRoaXMubGF0Mik+eD90aGlzLm5zMD0odGhpcy5tczEqdGhpcy5tczEtdGhpcy5tczIqdGhpcy5tczIpLyh0aGlzLnFzMi10aGlzLnFzMSk6dGhpcy5uczA9dGhpcy5jb24sdGhpcy5jPXRoaXMubXMxKnRoaXMubXMxK3RoaXMubnMwKnRoaXMucXMxLHRoaXMucmg9dGhpcy5hKk1hdGguc3FydCh0aGlzLmMtdGhpcy5uczAqdGhpcy5xczApL3RoaXMubnMwKX1mdW5jdGlvbiBPcih0KXt2YXIgaT10LngsYT10Lnk7dGhpcy5zaW5fcGhpPU1hdGguc2luKGEpLHRoaXMuY29zX3BoaT1NYXRoLmNvcyhhKTt2YXIgZT1tdCh0aGlzLmUzLHRoaXMuc2luX3BoaSx0aGlzLmNvc19waGkpLHM9dGhpcy5hKk1hdGguc3FydCh0aGlzLmMtdGhpcy5uczAqZSkvdGhpcy5uczAsbj10aGlzLm5zMCp2KGktdGhpcy5sb25nMCksaD1zKk1hdGguc2luKG4pK3RoaXMueDAscj10aGlzLnJoLXMqTWF0aC5jb3MobikrdGhpcy55MDtyZXR1cm4gdC54PWgsdC55PXIsdH1mdW5jdGlvbiBJcih0KXt2YXIgaSxhLGUscyxuLGg7cmV0dXJuIHQueC09dGhpcy54MCx0Lnk9dGhpcy5yaC10LnkrdGhpcy55MCx0aGlzLm5zMD49MD8oaT1NYXRoLnNxcnQodC54KnQueCt0LnkqdC55KSxlPTEpOihpPS1NYXRoLnNxcnQodC54KnQueCt0LnkqdC55KSxlPS0xKSxzPTAsaSE9PTAmJihzPU1hdGguYXRhbjIoZSp0LngsZSp0LnkpKSxlPWkqdGhpcy5uczAvdGhpcy5hLHRoaXMuc3BoZXJlP2g9TWF0aC5hc2luKCh0aGlzLmMtZSplKS8oMip0aGlzLm5zMCkpOihhPSh0aGlzLmMtZSplKS90aGlzLm5zMCxoPXRoaXMucGhpMXoodGhpcy5lMyxhKSksbj12KHMvdGhpcy5uczArdGhpcy5sb25nMCksdC54PW4sdC55PWgsdH1mdW5jdGlvbiBEcih0LGkpe3ZhciBhLGUscyxuLGgscj1NdCguNSppKTtpZih0PHgpcmV0dXJuIHI7Zm9yKHZhciBvPXQqdCx1PTE7dTw9MjU7dSsrKWlmKGE9TWF0aC5zaW4ociksZT1NYXRoLmNvcyhyKSxzPXQqYSxuPTEtcypzLGg9LjUqbipuL2UqKGkvKDEtbyktYS9uKy41L3QqTWF0aC5sb2coKDEtcykvKDErcykpKSxyPXIraCxNYXRoLmFicyhoKTw9MWUtNylyZXR1cm4gcjtyZXR1cm4gbnVsbH12YXIgUHI9WyJBbGJlcnNfQ29uaWNfRXF1YWxfQXJlYSIsIkFsYmVycyIsImFlYSJdLFJyPXtpbml0OlRyLGZvcndhcmQ6T3IsaW52ZXJzZTpJcixuYW1lczpQcixwaGkxejpEcn07ZnVuY3Rpb24ga3IoKXt0aGlzLnNpbl9wMTQ9TWF0aC5zaW4odGhpcy5sYXQwKSx0aGlzLmNvc19wMTQ9TWF0aC5jb3ModGhpcy5sYXQwKSx0aGlzLmluZmluaXR5X2Rpc3Q9MWUzKnRoaXMuYSx0aGlzLnJjPTF9ZnVuY3Rpb24gQnIodCl7dmFyIGksYSxlLHMsbixoLHIsbyx1PXQueCxsPXQueTtyZXR1cm4gZT12KHUtdGhpcy5sb25nMCksaT1NYXRoLnNpbihsKSxhPU1hdGguY29zKGwpLHM9TWF0aC5jb3MoZSksaD10aGlzLnNpbl9wMTQqaSt0aGlzLmNvc19wMTQqYSpzLG49MSxoPjB8fE1hdGguYWJzKGgpPD14PyhyPXRoaXMueDArdGhpcy5hKm4qYSpNYXRoLnNpbihlKS9oLG89dGhpcy55MCt0aGlzLmEqbioodGhpcy5jb3NfcDE0KmktdGhpcy5zaW5fcDE0KmEqcykvaCk6KHI9dGhpcy54MCt0aGlzLmluZmluaXR5X2Rpc3QqYSpNYXRoLnNpbihlKSxvPXRoaXMueTArdGhpcy5pbmZpbml0eV9kaXN0Kih0aGlzLmNvc19wMTQqaS10aGlzLnNpbl9wMTQqYSpzKSksdC54PXIsdC55PW8sdH1mdW5jdGlvbiBxcih0KXt2YXIgaSxhLGUscyxuLGg7cmV0dXJuIHQueD0odC54LXRoaXMueDApL3RoaXMuYSx0Lnk9KHQueS10aGlzLnkwKS90aGlzLmEsdC54Lz10aGlzLmswLHQueS89dGhpcy5rMCwoaT1NYXRoLnNxcnQodC54KnQueCt0LnkqdC55KSk/KHM9TWF0aC5hdGFuMihpLHRoaXMucmMpLGE9TWF0aC5zaW4ocyksZT1NYXRoLmNvcyhzKSxoPU10KGUqdGhpcy5zaW5fcDE0K3QueSphKnRoaXMuY29zX3AxNC9pKSxuPU1hdGguYXRhbjIodC54KmEsaSp0aGlzLmNvc19wMTQqZS10LnkqdGhpcy5zaW5fcDE0KmEpLG49dih0aGlzLmxvbmcwK24pKTooaD10aGlzLnBoaWMwLG49MCksdC54PW4sdC55PWgsdH12YXIgTHI9WyJnbm9tIl0sRnI9e2luaXQ6a3IsZm9yd2FyZDpCcixpbnZlcnNlOnFyLG5hbWVzOkxyfTtmdW5jdGlvbiBqcih0LGkpe3ZhciBhPTEtKDEtdCp0KS8oMip0KSpNYXRoLmxvZygoMS10KS8oMSt0KSk7aWYoTWF0aC5hYnMoTWF0aC5hYnMoaSktYSk8MWUtNilyZXR1cm4gaTwwPy0xKnk6eTtmb3IodmFyIGU9TWF0aC5hc2luKC41KmkpLHMsbixoLHIsbz0wO288MzA7bysrKWlmKG49TWF0aC5zaW4oZSksaD1NYXRoLmNvcyhlKSxyPXQqbixzPU1hdGgucG93KDEtcipyLDIpLygyKmgpKihpLygxLXQqdCktbi8oMS1yKnIpKy41L3QqTWF0aC5sb2coKDEtcikvKDErcikpKSxlKz1zLE1hdGguYWJzKHMpPD0xZS0xMClyZXR1cm4gZTtyZXR1cm4gTmFOfWZ1bmN0aW9uIEdyKCl7dGhpcy5zcGhlcmV8fCh0aGlzLmswPXN0KHRoaXMuZSxNYXRoLnNpbih0aGlzLmxhdF90cyksTWF0aC5jb3ModGhpcy5sYXRfdHMpKSl9ZnVuY3Rpb24genIodCl7dmFyIGk9dC54LGE9dC55LGUscyxuPXYoaS10aGlzLmxvbmcwKTtpZih0aGlzLnNwaGVyZSllPXRoaXMueDArdGhpcy5hKm4qTWF0aC5jb3ModGhpcy5sYXRfdHMpLHM9dGhpcy55MCt0aGlzLmEqTWF0aC5zaW4oYSkvTWF0aC5jb3ModGhpcy5sYXRfdHMpO2Vsc2V7dmFyIGg9bXQodGhpcy5lLE1hdGguc2luKGEpKTtlPXRoaXMueDArdGhpcy5hKnRoaXMuazAqbixzPXRoaXMueTArdGhpcy5hKmgqLjUvdGhpcy5rMH1yZXR1cm4gdC54PWUsdC55PXMsdH1mdW5jdGlvbiBVcih0KXt0LngtPXRoaXMueDAsdC55LT10aGlzLnkwO3ZhciBpLGE7cmV0dXJuIHRoaXMuc3BoZXJlPyhpPXYodGhpcy5sb25nMCt0LngvdGhpcy5hL01hdGguY29zKHRoaXMubGF0X3RzKSksYT1NYXRoLmFzaW4odC55L3RoaXMuYSpNYXRoLmNvcyh0aGlzLmxhdF90cykpKTooYT1qcih0aGlzLmUsMip0LnkqdGhpcy5rMC90aGlzLmEpLGk9dih0aGlzLmxvbmcwK3QueC8odGhpcy5hKnRoaXMuazApKSksdC54PWksdC55PWEsdH12YXIgSHI9WyJjZWEiXSxRcj17aW5pdDpHcixmb3J3YXJkOnpyLGludmVyc2U6VXIsbmFtZXM6SHJ9O2Z1bmN0aW9uIFhyKCl7dGhpcy54MD10aGlzLngwfHwwLHRoaXMueTA9dGhpcy55MHx8MCx0aGlzLmxhdDA9dGhpcy5sYXQwfHwwLHRoaXMubG9uZzA9dGhpcy5sb25nMHx8MCx0aGlzLmxhdF90cz10aGlzLmxhdF90c3x8MCx0aGlzLnRpdGxlPXRoaXMudGl0bGV8fCJFcXVpZGlzdGFudCBDeWxpbmRyaWNhbCAoUGxhdGUgQ2FycmUpIix0aGlzLnJjPU1hdGguY29zKHRoaXMubGF0X3RzKX1mdW5jdGlvbiBXcih0KXt2YXIgaT10LngsYT10LnksZT12KGktdGhpcy5sb25nMCkscz1PdChhLXRoaXMubGF0MCk7cmV0dXJuIHQueD10aGlzLngwK3RoaXMuYSplKnRoaXMucmMsdC55PXRoaXMueTArdGhpcy5hKnMsdH1mdW5jdGlvbiBWcih0KXt2YXIgaT10LngsYT10Lnk7cmV0dXJuIHQueD12KHRoaXMubG9uZzArKGktdGhpcy54MCkvKHRoaXMuYSp0aGlzLnJjKSksdC55PU90KHRoaXMubGF0MCsoYS10aGlzLnkwKS90aGlzLmEpLHR9dmFyIEpyPVsiRXF1aXJlY3Rhbmd1bGFyIiwiRXF1aWRpc3RhbnRfQ3lsaW5kcmljYWwiLCJlcWMiXSxLcj17aW5pdDpYcixmb3J3YXJkOldyLGludmVyc2U6VnIsbmFtZXM6SnJ9LHphPTIwO2Z1bmN0aW9uICRyKCl7dGhpcy50ZW1wPXRoaXMuYi90aGlzLmEsdGhpcy5lcz0xLU1hdGgucG93KHRoaXMudGVtcCwyKSx0aGlzLmU9TWF0aC5zcXJ0KHRoaXMuZXMpLHRoaXMuZTA9VnQodGhpcy5lcyksdGhpcy5lMT1KdCh0aGlzLmVzKSx0aGlzLmUyPUt0KHRoaXMuZXMpLHRoaXMuZTM9JHQodGhpcy5lcyksdGhpcy5tbDA9dGhpcy5hKkgodGhpcy5lMCx0aGlzLmUxLHRoaXMuZTIsdGhpcy5lMyx0aGlzLmxhdDApfWZ1bmN0aW9uIFlyKHQpe3ZhciBpPXQueCxhPXQueSxlLHMsbixoPXYoaS10aGlzLmxvbmcwKTtpZihuPWgqTWF0aC5zaW4oYSksdGhpcy5zcGhlcmUpTWF0aC5hYnMoYSk8PXg/KGU9dGhpcy5hKmgscz0tMSp0aGlzLmEqdGhpcy5sYXQwKTooZT10aGlzLmEqTWF0aC5zaW4obikvTWF0aC50YW4oYSkscz10aGlzLmEqKE90KGEtdGhpcy5sYXQwKSsoMS1NYXRoLmNvcyhuKSkvTWF0aC50YW4oYSkpKTtlbHNlIGlmKE1hdGguYWJzKGEpPD14KWU9dGhpcy5hKmgscz0tMSp0aGlzLm1sMDtlbHNle3ZhciByPVR0KHRoaXMuYSx0aGlzLmUsTWF0aC5zaW4oYSkpL01hdGgudGFuKGEpO2U9cipNYXRoLnNpbihuKSxzPXRoaXMuYSpIKHRoaXMuZTAsdGhpcy5lMSx0aGlzLmUyLHRoaXMuZTMsYSktdGhpcy5tbDArciooMS1NYXRoLmNvcyhuKSl9cmV0dXJuIHQueD1lK3RoaXMueDAsdC55PXMrdGhpcy55MCx0fWZ1bmN0aW9uIFpyKHQpe3ZhciBpLGEsZSxzLG4saCxyLG8sdTtpZihlPXQueC10aGlzLngwLHM9dC55LXRoaXMueTAsdGhpcy5zcGhlcmUpaWYoTWF0aC5hYnMocyt0aGlzLmEqdGhpcy5sYXQwKTw9eClpPXYoZS90aGlzLmErdGhpcy5sb25nMCksYT0wO2Vsc2V7aD10aGlzLmxhdDArcy90aGlzLmEscj1lKmUvdGhpcy5hL3RoaXMuYStoKmgsbz1oO3ZhciBsO2ZvcihuPXphO247LS1uKWlmKGw9TWF0aC50YW4obyksdT0tMSooaCoobypsKzEpLW8tLjUqKG8qbytyKSpsKS8oKG8taCkvbC0xKSxvKz11LE1hdGguYWJzKHUpPD14KXthPW87YnJlYWt9aT12KHRoaXMubG9uZzArTWF0aC5hc2luKGUqTWF0aC50YW4obykvdGhpcy5hKS9NYXRoLnNpbihhKSl9ZWxzZSBpZihNYXRoLmFicyhzK3RoaXMubWwwKTw9eClhPTAsaT12KHRoaXMubG9uZzArZS90aGlzLmEpO2Vsc2V7aD0odGhpcy5tbDArcykvdGhpcy5hLHI9ZSplL3RoaXMuYS90aGlzLmEraCpoLG89aDt2YXIgYyxmLHAsbSxkO2ZvcihuPXphO247LS1uKWlmKGQ9dGhpcy5lKk1hdGguc2luKG8pLGM9TWF0aC5zcXJ0KDEtZCpkKSpNYXRoLnRhbihvKSxmPXRoaXMuYSpIKHRoaXMuZTAsdGhpcy5lMSx0aGlzLmUyLHRoaXMuZTMsbykscD10aGlzLmUwLTIqdGhpcy5lMSpNYXRoLmNvcygyKm8pKzQqdGhpcy5lMipNYXRoLmNvcyg0Km8pLTYqdGhpcy5lMypNYXRoLmNvcyg2Km8pLG09Zi90aGlzLmEsdT0oaCooYyptKzEpLW0tLjUqYyoobSptK3IpKS8odGhpcy5lcypNYXRoLnNpbigyKm8pKihtKm0rci0yKmgqbSkvKDQqYykrKGgtbSkqKGMqcC0yL01hdGguc2luKDIqbykpLXApLG8tPXUsTWF0aC5hYnModSk8PXgpe2E9bzticmVha31jPU1hdGguc3FydCgxLXRoaXMuZXMqTWF0aC5wb3coTWF0aC5zaW4oYSksMikpKk1hdGgudGFuKGEpLGk9dih0aGlzLmxvbmcwK01hdGguYXNpbihlKmMvdGhpcy5hKS9NYXRoLnNpbihhKSl9cmV0dXJuIHQueD1pLHQueT1hLHR9dmFyIHRoPVsiUG9seWNvbmljIiwicG9seSJdLGloPXtpbml0OiRyLGZvcndhcmQ6WXIsaW52ZXJzZTpacixuYW1lczp0aH07ZnVuY3Rpb24gYWgoKXt0aGlzLkE9W10sdGhpcy5BWzFdPS42Mzk5MTc1MDczLHRoaXMuQVsyXT0tLjEzNTg3OTc2MTMsdGhpcy5BWzNdPS4wNjMyOTQ0MDksdGhpcy5BWzRdPS0uMDI1MjY4NTMsdGhpcy5BWzVdPS4wMTE3ODc5LHRoaXMuQVs2XT0tLjAwNTUxNjEsdGhpcy5BWzddPS4wMDI2OTA2LHRoaXMuQVs4XT0tLjAwMTMzMyx0aGlzLkFbOV09NjdlLTUsdGhpcy5BWzEwXT0tMzRlLTUsdGhpcy5CX3JlPVtdLHRoaXMuQl9pbT1bXSx0aGlzLkJfcmVbMV09Ljc1NTc4NTMyMjgsdGhpcy5CX2ltWzFdPTAsdGhpcy5CX3JlWzJdPS4yNDkyMDQ2NDYsdGhpcy5CX2ltWzJdPS4wMDMzNzE1MDcsdGhpcy5CX3JlWzNdPS0uMDAxNTQxNzM5LHRoaXMuQl9pbVszXT0uMDQxMDU4NTYsdGhpcy5CX3JlWzRdPS0uMTAxNjI5MDcsdGhpcy5CX2ltWzRdPS4wMTcyNzYwOSx0aGlzLkJfcmVbNV09LS4yNjYyMzQ4OSx0aGlzLkJfaW1bNV09LS4zNjI0OTIxOCx0aGlzLkJfcmVbNl09LS42ODcwOTgzLHRoaXMuQl9pbVs2XT0tMS4xNjUxOTY3LHRoaXMuQ19yZT1bXSx0aGlzLkNfaW09W10sdGhpcy5DX3JlWzFdPTEuMzIzMTI3MDQzOSx0aGlzLkNfaW1bMV09MCx0aGlzLkNfcmVbMl09LS41NzcyNDU3ODksdGhpcy5DX2ltWzJdPS0uMDA3ODA5NTk4LHRoaXMuQ19yZVszXT0uNTA4MzA3NTEzLHRoaXMuQ19pbVszXT0tLjExMjIwODk1Mix0aGlzLkNfcmVbNF09LS4xNTA5NDc2Mix0aGlzLkNfaW1bNF09LjE4MjAwNjAyLHRoaXMuQ19yZVs1XT0xLjAxNDE4MTc5LHRoaXMuQ19pbVs1XT0xLjY0NDk3Njk2LHRoaXMuQ19yZVs2XT0xLjk2NjA1NDksdGhpcy5DX2ltWzZdPTIuNTEyNzY0NSx0aGlzLkQ9W10sdGhpcy5EWzFdPTEuNTYyNzAxNDI0Myx0aGlzLkRbMl09LjUxODU0MDYzOTgsdGhpcy5EWzNdPS0uMDMzMzMwOTgsdGhpcy5EWzRdPS0uMTA1MjkwNix0aGlzLkRbNV09LS4wMzY4NTk0LHRoaXMuRFs2XT0uMDA3MzE3LHRoaXMuRFs3XT0uMDEyMix0aGlzLkRbOF09LjAwMzk0LHRoaXMuRFs5XT0tLjAwMTN9ZnVuY3Rpb24gZWgodCl7dmFyIGksYT10LngsZT10Lnkscz1lLXRoaXMubGF0MCxuPWEtdGhpcy5sb25nMCxoPXMvR3QqMWUtNSxyPW4sbz0xLHU9MDtmb3IoaT0xO2k8PTEwO2krKylvPW8qaCx1PXUrdGhpcy5BW2ldKm87dmFyIGw9dSxjPXIsZj0xLHA9MCxtLGQsTT0wLGc9MDtmb3IoaT0xO2k8PTY7aSsrKW09ZipsLXAqYyxkPXAqbCtmKmMsZj1tLHA9ZCxNPU0rdGhpcy5CX3JlW2ldKmYtdGhpcy5CX2ltW2ldKnAsZz1nK3RoaXMuQl9pbVtpXSpmK3RoaXMuQl9yZVtpXSpwO3JldHVybiB0Lng9Zyp0aGlzLmErdGhpcy54MCx0Lnk9TSp0aGlzLmErdGhpcy55MCx0fWZ1bmN0aW9uIHNoKHQpe3ZhciBpLGE9dC54LGU9dC55LHM9YS10aGlzLngwLG49ZS10aGlzLnkwLGg9bi90aGlzLmEscj1zL3RoaXMuYSxvPTEsdT0wLGwsYyxmPTAscD0wO2ZvcihpPTE7aTw9NjtpKyspbD1vKmgtdSpyLGM9dSpoK28qcixvPWwsdT1jLGY9Zit0aGlzLkNfcmVbaV0qby10aGlzLkNfaW1baV0qdSxwPXArdGhpcy5DX2ltW2ldKm8rdGhpcy5DX3JlW2ldKnU7Zm9yKHZhciBtPTA7bTx0aGlzLml0ZXJhdGlvbnM7bSsrKXt2YXIgZD1mLE09cCxnLF8sYj1oLEU9cjtmb3IoaT0yO2k8PTY7aSsrKWc9ZCpmLU0qcCxfPU0qZitkKnAsZD1nLE09XyxiPWIrKGktMSkqKHRoaXMuQl9yZVtpXSpkLXRoaXMuQl9pbVtpXSpNKSxFPUUrKGktMSkqKHRoaXMuQl9pbVtpXSpkK3RoaXMuQl9yZVtpXSpNKTtkPTEsTT0wO3ZhciB3PXRoaXMuQl9yZVsxXSxBPXRoaXMuQl9pbVsxXTtmb3IoaT0yO2k8PTY7aSsrKWc9ZCpmLU0qcCxfPU0qZitkKnAsZD1nLE09Xyx3PXcraSoodGhpcy5CX3JlW2ldKmQtdGhpcy5CX2ltW2ldKk0pLEE9QStpKih0aGlzLkJfaW1baV0qZCt0aGlzLkJfcmVbaV0qTSk7dmFyIEY9dyp3K0EqQTtmPShiKncrRSpBKS9GLHA9KEUqdy1iKkEpL0Z9dmFyIE89ZixJPXAsYXQ9MSxQPTA7Zm9yKGk9MTtpPD05O2krKylhdD1hdCpPLFA9UCt0aGlzLkRbaV0qYXQ7dmFyIGJ0PXRoaXMubGF0MCtQKkd0KjFlNSxlYT10aGlzLmxvbmcwK0k7cmV0dXJuIHQueD1lYSx0Lnk9YnQsdH12YXIgbmg9WyJOZXdfWmVhbGFuZF9NYXBfR3JpZCIsIm56bWciXSxyaD17aW5pdDphaCxmb3J3YXJkOmVoLGludmVyc2U6c2gsbmFtZXM6bmh9O2Z1bmN0aW9uIGhoKCl7fWZ1bmN0aW9uIG9oKHQpe3ZhciBpPXQueCxhPXQueSxlPXYoaS10aGlzLmxvbmcwKSxzPXRoaXMueDArdGhpcy5hKmUsbj10aGlzLnkwK3RoaXMuYSpNYXRoLmxvZyhNYXRoLnRhbihNYXRoLlBJLzQrYS8yLjUpKSoxLjI1O3JldHVybiB0Lng9cyx0Lnk9bix0fWZ1bmN0aW9uIHVoKHQpe3QueC09dGhpcy54MCx0LnktPXRoaXMueTA7dmFyIGk9dih0aGlzLmxvbmcwK3QueC90aGlzLmEpLGE9Mi41KihNYXRoLmF0YW4oTWF0aC5leHAoLjgqdC55L3RoaXMuYSkpLU1hdGguUEkvNCk7cmV0dXJuIHQueD1pLHQueT1hLHR9dmFyIGxoPVsiTWlsbGVyX0N5bGluZHJpY2FsIiwibWlsbCJdLGNoPXtpbml0OmhoLGZvcndhcmQ6b2gsaW52ZXJzZTp1aCxuYW1lczpsaH0sZmg9MjA7ZnVuY3Rpb24gZGgoKXt0aGlzLnNwaGVyZT8odGhpcy5uPTEsdGhpcy5tPTAsdGhpcy5lcz0wLHRoaXMuQ195PU1hdGguc3FydCgodGhpcy5tKzEpL3RoaXMubiksdGhpcy5DX3g9dGhpcy5DX3kvKHRoaXMubSsxKSk6dGhpcy5lbj1MYSh0aGlzLmVzKX1mdW5jdGlvbiBwaCh0KXt2YXIgaSxhLGU9dC54LHM9dC55O2lmKGU9dihlLXRoaXMubG9uZzApLHRoaXMuc3BoZXJlKXtpZighdGhpcy5tKXM9dGhpcy5uIT09MT9NYXRoLmFzaW4odGhpcy5uKk1hdGguc2luKHMpKTpzO2Vsc2UgZm9yKHZhciBuPXRoaXMubipNYXRoLnNpbihzKSxoPWZoO2g7LS1oKXt2YXIgcj0odGhpcy5tKnMrTWF0aC5zaW4ocyktbikvKHRoaXMubStNYXRoLmNvcyhzKSk7aWYocy09cixNYXRoLmFicyhyKTx4KWJyZWFrfWk9dGhpcy5hKnRoaXMuQ194KmUqKHRoaXMubStNYXRoLmNvcyhzKSksYT10aGlzLmEqdGhpcy5DX3kqc31lbHNle3ZhciBvPU1hdGguc2luKHMpLHU9TWF0aC5jb3Mocyk7YT10aGlzLmEqeWkocyxvLHUsdGhpcy5lbiksaT10aGlzLmEqZSp1L01hdGguc3FydCgxLXRoaXMuZXMqbypvKX1yZXR1cm4gdC54PWksdC55PWEsdH1mdW5jdGlvbiBtaCh0KXt2YXIgaSxhLGUscztyZXR1cm4gdC54LT10aGlzLngwLGU9dC54L3RoaXMuYSx0LnktPXRoaXMueTAsaT10LnkvdGhpcy5hLHRoaXMuc3BoZXJlPyhpLz10aGlzLkNfeSxlPWUvKHRoaXMuQ194Kih0aGlzLm0rTWF0aC5jb3MoaSkpKSx0aGlzLm0/aT1NdCgodGhpcy5tKmkrTWF0aC5zaW4oaSkpL3RoaXMubik6dGhpcy5uIT09MSYmKGk9TXQoTWF0aC5zaW4oaSkvdGhpcy5uKSksZT12KGUrdGhpcy5sb25nMCksaT1PdChpKSk6KGk9RmEodC55L3RoaXMuYSx0aGlzLmVzLHRoaXMuZW4pLHM9TWF0aC5hYnMoaSksczx5PyhzPU1hdGguc2luKGkpLGE9dGhpcy5sb25nMCt0LngqTWF0aC5zcXJ0KDEtdGhpcy5lcypzKnMpLyh0aGlzLmEqTWF0aC5jb3MoaSkpLGU9dihhKSk6cy14PHkmJihlPXRoaXMubG9uZzApKSx0Lng9ZSx0Lnk9aSx0fXZhciBNaD1bIlNpbnVzb2lkYWwiLCJzaW51Il0seWg9e2luaXQ6ZGgsZm9yd2FyZDpwaCxpbnZlcnNlOm1oLG5hbWVzOk1ofTtmdW5jdGlvbiBnaCgpe31mdW5jdGlvbiB4aCh0KXtmb3IodmFyIGk9dC54LGE9dC55LGU9dihpLXRoaXMubG9uZzApLHM9YSxuPU1hdGguUEkqTWF0aC5zaW4oYSk7Oyl7dmFyIGg9LShzK01hdGguc2luKHMpLW4pLygxK01hdGguY29zKHMpKTtpZihzKz1oLE1hdGguYWJzKGgpPHgpYnJlYWt9cy89MixNYXRoLlBJLzItTWF0aC5hYnMoYSk8eCYmKGU9MCk7dmFyIHI9LjkwMDMxNjMxNjE1OCp0aGlzLmEqZSpNYXRoLmNvcyhzKSt0aGlzLngwLG89MS40MTQyMTM1NjIzNzMxKnRoaXMuYSpNYXRoLnNpbihzKSt0aGlzLnkwO3JldHVybiB0Lng9cix0Lnk9byx0fWZ1bmN0aW9uIF9oKHQpe3ZhciBpLGE7dC54LT10aGlzLngwLHQueS09dGhpcy55MCxhPXQueS8oMS40MTQyMTM1NjIzNzMxKnRoaXMuYSksTWF0aC5hYnMoYSk+Ljk5OTk5OTk5OTk5OSYmKGE9Ljk5OTk5OTk5OTk5OSksaT1NYXRoLmFzaW4oYSk7dmFyIGU9dih0aGlzLmxvbmcwK3QueC8oLjkwMDMxNjMxNjE1OCp0aGlzLmEqTWF0aC5jb3MoaSkpKTtlPC1NYXRoLlBJJiYoZT0tTWF0aC5QSSksZT5NYXRoLlBJJiYoZT1NYXRoLlBJKSxhPSgyKmkrTWF0aC5zaW4oMippKSkvTWF0aC5QSSxNYXRoLmFicyhhKT4xJiYoYT0xKTt2YXIgcz1NYXRoLmFzaW4oYSk7cmV0dXJuIHQueD1lLHQueT1zLHR9dmFyIHZoPVsiTW9sbHdlaWRlIiwibW9sbCJdLGJoPXtpbml0OmdoLGZvcndhcmQ6eGgsaW52ZXJzZTpfaCxuYW1lczp2aH07ZnVuY3Rpb24gTmgoKXtNYXRoLmFicyh0aGlzLmxhdDErdGhpcy5sYXQyKTx4fHwodGhpcy5sYXQyPXRoaXMubGF0Mnx8dGhpcy5sYXQxLHRoaXMudGVtcD10aGlzLmIvdGhpcy5hLHRoaXMuZXM9MS1NYXRoLnBvdyh0aGlzLnRlbXAsMiksdGhpcy5lPU1hdGguc3FydCh0aGlzLmVzKSx0aGlzLmUwPVZ0KHRoaXMuZXMpLHRoaXMuZTE9SnQodGhpcy5lcyksdGhpcy5lMj1LdCh0aGlzLmVzKSx0aGlzLmUzPSR0KHRoaXMuZXMpLHRoaXMuc2lucGhpPU1hdGguc2luKHRoaXMubGF0MSksdGhpcy5jb3NwaGk9TWF0aC5jb3ModGhpcy5sYXQxKSx0aGlzLm1zMT1zdCh0aGlzLmUsdGhpcy5zaW5waGksdGhpcy5jb3NwaGkpLHRoaXMubWwxPUgodGhpcy5lMCx0aGlzLmUxLHRoaXMuZTIsdGhpcy5lMyx0aGlzLmxhdDEpLE1hdGguYWJzKHRoaXMubGF0MS10aGlzLmxhdDIpPHg/dGhpcy5ucz10aGlzLnNpbnBoaToodGhpcy5zaW5waGk9TWF0aC5zaW4odGhpcy5sYXQyKSx0aGlzLmNvc3BoaT1NYXRoLmNvcyh0aGlzLmxhdDIpLHRoaXMubXMyPXN0KHRoaXMuZSx0aGlzLnNpbnBoaSx0aGlzLmNvc3BoaSksdGhpcy5tbDI9SCh0aGlzLmUwLHRoaXMuZTEsdGhpcy5lMix0aGlzLmUzLHRoaXMubGF0MiksdGhpcy5ucz0odGhpcy5tczEtdGhpcy5tczIpLyh0aGlzLm1sMi10aGlzLm1sMSkpLHRoaXMuZz10aGlzLm1sMSt0aGlzLm1zMS90aGlzLm5zLHRoaXMubWwwPUgodGhpcy5lMCx0aGlzLmUxLHRoaXMuZTIsdGhpcy5lMyx0aGlzLmxhdDApLHRoaXMucmg9dGhpcy5hKih0aGlzLmctdGhpcy5tbDApKX1mdW5jdGlvbiBFaCh0KXt2YXIgaT10LngsYT10LnksZTtpZih0aGlzLnNwaGVyZSllPXRoaXMuYSoodGhpcy5nLWEpO2Vsc2V7dmFyIHM9SCh0aGlzLmUwLHRoaXMuZTEsdGhpcy5lMix0aGlzLmUzLGEpO2U9dGhpcy5hKih0aGlzLmctcyl9dmFyIG49dGhpcy5ucyp2KGktdGhpcy5sb25nMCksaD10aGlzLngwK2UqTWF0aC5zaW4obikscj10aGlzLnkwK3RoaXMucmgtZSpNYXRoLmNvcyhuKTtyZXR1cm4gdC54PWgsdC55PXIsdH1mdW5jdGlvbiB3aCh0KXt0LngtPXRoaXMueDAsdC55PXRoaXMucmgtdC55K3RoaXMueTA7dmFyIGksYSxlLHM7dGhpcy5ucz49MD8oYT1NYXRoLnNxcnQodC54KnQueCt0LnkqdC55KSxpPTEpOihhPS1NYXRoLnNxcnQodC54KnQueCt0LnkqdC55KSxpPS0xKTt2YXIgbj0wO2lmKGEhPT0wJiYobj1NYXRoLmF0YW4yKGkqdC54LGkqdC55KSksdGhpcy5zcGhlcmUpcmV0dXJuIHM9dih0aGlzLmxvbmcwK24vdGhpcy5ucyksZT1PdCh0aGlzLmctYS90aGlzLmEpLHQueD1zLHQueT1lLHQ7dmFyIGg9dGhpcy5nLWEvdGhpcy5hO3JldHVybiBlPV9pKGgsdGhpcy5lMCx0aGlzLmUxLHRoaXMuZTIsdGhpcy5lMykscz12KHRoaXMubG9uZzArbi90aGlzLm5zKSx0Lng9cyx0Lnk9ZSx0fXZhciBBaD1bIkVxdWlkaXN0YW50X0NvbmljIiwiZXFkYyJdLENoPXtpbml0Ok5oLGZvcndhcmQ6RWgsaW52ZXJzZTp3aCxuYW1lczpBaH07ZnVuY3Rpb24gU2goKXt0aGlzLlI9dGhpcy5hfWZ1bmN0aW9uIFRoKHQpe3ZhciBpPXQueCxhPXQueSxlPXYoaS10aGlzLmxvbmcwKSxzLG47TWF0aC5hYnMoYSk8PXgmJihzPXRoaXMueDArdGhpcy5SKmUsbj10aGlzLnkwKTt2YXIgaD1NdCgyKk1hdGguYWJzKGEvTWF0aC5QSSkpOyhNYXRoLmFicyhlKTw9eHx8TWF0aC5hYnMoTWF0aC5hYnMoYSkteSk8PXgpJiYocz10aGlzLngwLGE+PTA/bj10aGlzLnkwK01hdGguUEkqdGhpcy5SKk1hdGgudGFuKC41KmgpOm49dGhpcy55MCtNYXRoLlBJKnRoaXMuUiotTWF0aC50YW4oLjUqaCkpO3ZhciByPS41Kk1hdGguYWJzKE1hdGguUEkvZS1lL01hdGguUEkpLG89cipyLHU9TWF0aC5zaW4oaCksbD1NYXRoLmNvcyhoKSxjPWwvKHUrbC0xKSxmPWMqYyxwPWMqKDIvdS0xKSxtPXAqcCxkPU1hdGguUEkqdGhpcy5SKihyKihjLW0pK01hdGguc3FydChvKihjLW0pKihjLW0pLShtK28pKihmLW0pKSkvKG0rbyk7ZTwwJiYoZD0tZCkscz10aGlzLngwK2Q7dmFyIE09bytjO3JldHVybiBkPU1hdGguUEkqdGhpcy5SKihwKk0tcipNYXRoLnNxcnQoKG0rbykqKG8rMSktTSpNKSkvKG0rbyksYT49MD9uPXRoaXMueTArZDpuPXRoaXMueTAtZCx0Lng9cyx0Lnk9bix0fWZ1bmN0aW9uIE9oKHQpe3ZhciBpLGEsZSxzLG4saCxyLG8sdSxsLGMsZixwO3JldHVybiB0LngtPXRoaXMueDAsdC55LT10aGlzLnkwLGM9TWF0aC5QSSp0aGlzLlIsZT10LngvYyxzPXQueS9jLG49ZSplK3MqcyxoPS1NYXRoLmFicyhzKSooMStuKSxyPWgtMipzKnMrZSplLG89LTIqaCsxKzIqcypzK24qbixwPXMqcy9vKygyKnIqcipyL28vby9vLTkqaCpyL28vbykvMjcsdT0oaC1yKnIvMy9vKS9vLGw9MipNYXRoLnNxcnQoLXUvMyksYz0zKnAvdS9sLE1hdGguYWJzKGMpPjEmJihjPj0wP2M9MTpjPS0xKSxmPU1hdGguYWNvcyhjKS8zLHQueT49MD9hPSgtbCpNYXRoLmNvcyhmK01hdGguUEkvMyktci8zL28pKk1hdGguUEk6YT0tKC1sKk1hdGguY29zKGYrTWF0aC5QSS8zKS1yLzMvbykqTWF0aC5QSSxNYXRoLmFicyhlKTx4P2k9dGhpcy5sb25nMDppPXYodGhpcy5sb25nMCtNYXRoLlBJKihuLTErTWF0aC5zcXJ0KDErMiooZSplLXMqcykrbipuKSkvMi9lKSx0Lng9aSx0Lnk9YSx0fXZhciBJaD1bIlZhbl9kZXJfR3JpbnRlbl9JIiwiVmFuRGVyR3JpbnRlbiIsInZhbmRnIl0sRGg9e2luaXQ6U2gsZm9yd2FyZDpUaCxpbnZlcnNlOk9oLG5hbWVzOklofTtmdW5jdGlvbiBQaCgpe3RoaXMuc2luX3AxMj1NYXRoLnNpbih0aGlzLmxhdDApLHRoaXMuY29zX3AxMj1NYXRoLmNvcyh0aGlzLmxhdDApfWZ1bmN0aW9uIFJoKHQpe3ZhciBpPXQueCxhPXQueSxlPU1hdGguc2luKHQueSkscz1NYXRoLmNvcyh0LnkpLG49dihpLXRoaXMubG9uZzApLGgscixvLHUsbCxjLGYscCxtLGQsTSxnLF8sYixFLHcsQSxGLE8sSSxhdCxQLGJ0O3JldHVybiB0aGlzLnNwaGVyZT9NYXRoLmFicyh0aGlzLnNpbl9wMTItMSk8PXg/KHQueD10aGlzLngwK3RoaXMuYSooeS1hKSpNYXRoLnNpbihuKSx0Lnk9dGhpcy55MC10aGlzLmEqKHktYSkqTWF0aC5jb3MobiksdCk6TWF0aC5hYnModGhpcy5zaW5fcDEyKzEpPD14Pyh0Lng9dGhpcy54MCt0aGlzLmEqKHkrYSkqTWF0aC5zaW4obiksdC55PXRoaXMueTArdGhpcy5hKih5K2EpKk1hdGguY29zKG4pLHQpOihGPXRoaXMuc2luX3AxMiplK3RoaXMuY29zX3AxMipzKk1hdGguY29zKG4pLHc9TWF0aC5hY29zKEYpLEE9dz93L01hdGguc2luKHcpOjEsdC54PXRoaXMueDArdGhpcy5hKkEqcypNYXRoLnNpbihuKSx0Lnk9dGhpcy55MCt0aGlzLmEqQSoodGhpcy5jb3NfcDEyKmUtdGhpcy5zaW5fcDEyKnMqTWF0aC5jb3MobikpLHQpOihoPVZ0KHRoaXMuZXMpLHI9SnQodGhpcy5lcyksbz1LdCh0aGlzLmVzKSx1PSR0KHRoaXMuZXMpLE1hdGguYWJzKHRoaXMuc2luX3AxMi0xKTw9eD8obD10aGlzLmEqSChoLHIsbyx1LHkpLGM9dGhpcy5hKkgoaCxyLG8sdSxhKSx0Lng9dGhpcy54MCsobC1jKSpNYXRoLnNpbihuKSx0Lnk9dGhpcy55MC0obC1jKSpNYXRoLmNvcyhuKSx0KTpNYXRoLmFicyh0aGlzLnNpbl9wMTIrMSk8PXg/KGw9dGhpcy5hKkgoaCxyLG8sdSx5KSxjPXRoaXMuYSpIKGgscixvLHUsYSksdC54PXRoaXMueDArKGwrYykqTWF0aC5zaW4obiksdC55PXRoaXMueTArKGwrYykqTWF0aC5jb3MobiksdCk6KGY9ZS9zLHA9VHQodGhpcy5hLHRoaXMuZSx0aGlzLnNpbl9wMTIpLG09VHQodGhpcy5hLHRoaXMuZSxlKSxkPU1hdGguYXRhbigoMS10aGlzLmVzKSpmK3RoaXMuZXMqcCp0aGlzLnNpbl9wMTIvKG0qcykpLE09TWF0aC5hdGFuMihNYXRoLnNpbihuKSx0aGlzLmNvc19wMTIqTWF0aC50YW4oZCktdGhpcy5zaW5fcDEyKk1hdGguY29zKG4pKSxNPT09MD9PPU1hdGguYXNpbih0aGlzLmNvc19wMTIqTWF0aC5zaW4oZCktdGhpcy5zaW5fcDEyKk1hdGguY29zKGQpKTpNYXRoLmFicyhNYXRoLmFicyhNKS1NYXRoLlBJKTw9eD9PPS1NYXRoLmFzaW4odGhpcy5jb3NfcDEyKk1hdGguc2luKGQpLXRoaXMuc2luX3AxMipNYXRoLmNvcyhkKSk6Tz1NYXRoLmFzaW4oTWF0aC5zaW4obikqTWF0aC5jb3MoZCkvTWF0aC5zaW4oTSkpLGc9dGhpcy5lKnRoaXMuc2luX3AxMi9NYXRoLnNxcnQoMS10aGlzLmVzKSxfPXRoaXMuZSp0aGlzLmNvc19wMTIqTWF0aC5jb3MoTSkvTWF0aC5zcXJ0KDEtdGhpcy5lcyksYj1nKl8sRT1fKl8sST1PKk8sYXQ9SSpPLFA9YXQqTyxidD1QKk8sdz1wKk8qKDEtSSpFKigxLUUpLzYrYXQvOCpiKigxLTIqRSkrUC8xMjAqKEUqKDQtNypFKS0zKmcqZyooMS03KkUpKS1idC80OCpiKSx0Lng9dGhpcy54MCt3Kk1hdGguc2luKE0pLHQueT10aGlzLnkwK3cqTWF0aC5jb3MoTSksdCkpfWZ1bmN0aW9uIGtoKHQpe3QueC09dGhpcy54MCx0LnktPXRoaXMueTA7dmFyIGksYSxlLHMsbixoLHIsbyx1LGwsYyxmLHAsbSxkLE0sZyxfLGIsRSx3LEEsRixPO3JldHVybiB0aGlzLnNwaGVyZT8oaT1NYXRoLnNxcnQodC54KnQueCt0LnkqdC55KSxpPjIqeSp0aGlzLmE/dm9pZCAwOihhPWkvdGhpcy5hLGU9TWF0aC5zaW4oYSkscz1NYXRoLmNvcyhhKSxuPXRoaXMubG9uZzAsTWF0aC5hYnMoaSk8PXg/aD10aGlzLmxhdDA6KGg9TXQocyp0aGlzLnNpbl9wMTIrdC55KmUqdGhpcy5jb3NfcDEyL2kpLHI9TWF0aC5hYnModGhpcy5sYXQwKS15LE1hdGguYWJzKHIpPD14P3RoaXMubGF0MD49MD9uPXYodGhpcy5sb25nMCtNYXRoLmF0YW4yKHQueCwtdC55KSk6bj12KHRoaXMubG9uZzAtTWF0aC5hdGFuMigtdC54LHQueSkpOm49dih0aGlzLmxvbmcwK01hdGguYXRhbjIodC54KmUsaSp0aGlzLmNvc19wMTIqcy10LnkqdGhpcy5zaW5fcDEyKmUpKSksdC54PW4sdC55PWgsdCkpOihvPVZ0KHRoaXMuZXMpLHU9SnQodGhpcy5lcyksbD1LdCh0aGlzLmVzKSxjPSR0KHRoaXMuZXMpLE1hdGguYWJzKHRoaXMuc2luX3AxMi0xKTw9eD8oZj10aGlzLmEqSChvLHUsbCxjLHkpLGk9TWF0aC5zcXJ0KHQueCp0LngrdC55KnQueSkscD1mLWksaD1faShwL3RoaXMuYSxvLHUsbCxjKSxuPXYodGhpcy5sb25nMCtNYXRoLmF0YW4yKHQueCwtMSp0LnkpKSx0Lng9bix0Lnk9aCx0KTpNYXRoLmFicyh0aGlzLnNpbl9wMTIrMSk8PXg/KGY9dGhpcy5hKkgobyx1LGwsYyx5KSxpPU1hdGguc3FydCh0LngqdC54K3QueSp0LnkpLHA9aS1mLGg9X2kocC90aGlzLmEsbyx1LGwsYyksbj12KHRoaXMubG9uZzArTWF0aC5hdGFuMih0LngsdC55KSksdC54PW4sdC55PWgsdCk6KGk9TWF0aC5zcXJ0KHQueCp0LngrdC55KnQueSksTT1NYXRoLmF0YW4yKHQueCx0LnkpLG09VHQodGhpcy5hLHRoaXMuZSx0aGlzLnNpbl9wMTIpLGc9TWF0aC5jb3MoTSksXz10aGlzLmUqdGhpcy5jb3NfcDEyKmcsYj0tXypfLygxLXRoaXMuZXMpLEU9Myp0aGlzLmVzKigxLWIpKnRoaXMuc2luX3AxMip0aGlzLmNvc19wMTIqZy8oMS10aGlzLmVzKSx3PWkvbSxBPXctYiooMStiKSpNYXRoLnBvdyh3LDMpLzYtRSooMSszKmIpKk1hdGgucG93KHcsNCkvMjQsRj0xLWIqQSpBLzItdypBKkEqQS82LGQ9TWF0aC5hc2luKHRoaXMuc2luX3AxMipNYXRoLmNvcyhBKSt0aGlzLmNvc19wMTIqTWF0aC5zaW4oQSkqZyksbj12KHRoaXMubG9uZzArTWF0aC5hc2luKE1hdGguc2luKE0pKk1hdGguc2luKEEpL01hdGguY29zKGQpKSksTz1NYXRoLnNpbihkKSxoPU1hdGguYXRhbjIoKE8tdGhpcy5lcypGKnRoaXMuc2luX3AxMikqTWF0aC50YW4oZCksTyooMS10aGlzLmVzKSksdC54PW4sdC55PWgsdCkpfXZhciBCaD1bIkF6aW11dGhhbF9FcXVpZGlzdGFudCIsImFlcWQiXSxxaD17aW5pdDpQaCxmb3J3YXJkOlJoLGludmVyc2U6a2gsbmFtZXM6Qmh9O2Z1bmN0aW9uIExoKCl7dGhpcy5zaW5fcDE0PU1hdGguc2luKHRoaXMubGF0MCksdGhpcy5jb3NfcDE0PU1hdGguY29zKHRoaXMubGF0MCl9ZnVuY3Rpb24gRmgodCl7dmFyIGksYSxlLHMsbixoLHIsbyx1PXQueCxsPXQueTtyZXR1cm4gZT12KHUtdGhpcy5sb25nMCksaT1NYXRoLnNpbihsKSxhPU1hdGguY29zKGwpLHM9TWF0aC5jb3MoZSksaD10aGlzLnNpbl9wMTQqaSt0aGlzLmNvc19wMTQqYSpzLG49MSwoaD4wfHxNYXRoLmFicyhoKTw9eCkmJihyPXRoaXMuYSpuKmEqTWF0aC5zaW4oZSksbz10aGlzLnkwK3RoaXMuYSpuKih0aGlzLmNvc19wMTQqaS10aGlzLnNpbl9wMTQqYSpzKSksdC54PXIsdC55PW8sdH1mdW5jdGlvbiBqaCh0KXt2YXIgaSxhLGUscyxuLGgscjtyZXR1cm4gdC54LT10aGlzLngwLHQueS09dGhpcy55MCxpPU1hdGguc3FydCh0LngqdC54K3QueSp0LnkpLGE9TXQoaS90aGlzLmEpLGU9TWF0aC5zaW4oYSkscz1NYXRoLmNvcyhhKSxoPXRoaXMubG9uZzAsTWF0aC5hYnMoaSk8PXg/KHI9dGhpcy5sYXQwLHQueD1oLHQueT1yLHQpOihyPU10KHMqdGhpcy5zaW5fcDE0K3QueSplKnRoaXMuY29zX3AxNC9pKSxuPU1hdGguYWJzKHRoaXMubGF0MCkteSxNYXRoLmFicyhuKTw9eD8odGhpcy5sYXQwPj0wP2g9dih0aGlzLmxvbmcwK01hdGguYXRhbjIodC54LC10LnkpKTpoPXYodGhpcy5sb25nMC1NYXRoLmF0YW4yKC10LngsdC55KSksdC54PWgsdC55PXIsdCk6KGg9dih0aGlzLmxvbmcwK01hdGguYXRhbjIodC54KmUsaSp0aGlzLmNvc19wMTQqcy10LnkqdGhpcy5zaW5fcDE0KmUpKSx0Lng9aCx0Lnk9cix0KSl9dmFyIEdoPVsib3J0aG8iXSx6aD17aW5pdDpMaCxmb3J3YXJkOkZoLGludmVyc2U6amgsbmFtZXM6R2h9LEQ9e0ZST05UOjEsUklHSFQ6MixCQUNLOjMsTEVGVDo0LFRPUDo1LEJPVFRPTTo2fSxTPXtBUkVBXzA6MSxBUkVBXzE6MixBUkVBXzI6MyxBUkVBXzM6NH07ZnVuY3Rpb24gVWgoKXt0aGlzLngwPXRoaXMueDB8fDAsdGhpcy55MD10aGlzLnkwfHwwLHRoaXMubGF0MD10aGlzLmxhdDB8fDAsdGhpcy5sb25nMD10aGlzLmxvbmcwfHwwLHRoaXMubGF0X3RzPXRoaXMubGF0X3RzfHwwLHRoaXMudGl0bGU9dGhpcy50aXRsZXx8IlF1YWRyaWxhdGVyYWxpemVkIFNwaGVyaWNhbCBDdWJlIix0aGlzLmxhdDA+PXktQy8yP3RoaXMuZmFjZT1ELlRPUDp0aGlzLmxhdDA8PS0oeS1DLzIpP3RoaXMuZmFjZT1ELkJPVFRPTTpNYXRoLmFicyh0aGlzLmxvbmcwKTw9Qz90aGlzLmZhY2U9RC5GUk9OVDpNYXRoLmFicyh0aGlzLmxvbmcwKTw9eStDP3RoaXMuZmFjZT10aGlzLmxvbmcwPjA/RC5SSUdIVDpELkxFRlQ6dGhpcy5mYWNlPUQuQkFDSyx0aGlzLmVzIT09MCYmKHRoaXMub25lX21pbnVzX2Y9MS0odGhpcy5hLXRoaXMuYikvdGhpcy5hLHRoaXMub25lX21pbnVzX2Zfc3F1YXJlZD10aGlzLm9uZV9taW51c19mKnRoaXMub25lX21pbnVzX2YpfWZ1bmN0aW9uIEhoKHQpe3ZhciBpPXt4OjAseTowfSxhLGUscyxuLGgscixvPXt2YWx1ZTowfTtpZih0LngtPXRoaXMubG9uZzAsdGhpcy5lcyE9PTA/YT1NYXRoLmF0YW4odGhpcy5vbmVfbWludXNfZl9zcXVhcmVkKk1hdGgudGFuKHQueSkpOmE9dC55LGU9dC54LHRoaXMuZmFjZT09PUQuVE9QKW49eS1hLGU+PUMmJmU8PXkrQz8oby52YWx1ZT1TLkFSRUFfMCxzPWUteSk6ZT55K0N8fGU8PS0oeStDKT8oby52YWx1ZT1TLkFSRUFfMSxzPWU+MD9lLVI6ZStSKTplPi0oeStDKSYmZTw9LUM/KG8udmFsdWU9Uy5BUkVBXzIscz1lK3kpOihvLnZhbHVlPVMuQVJFQV8zLHM9ZSk7ZWxzZSBpZih0aGlzLmZhY2U9PT1ELkJPVFRPTSluPXkrYSxlPj1DJiZlPD15K0M/KG8udmFsdWU9Uy5BUkVBXzAscz0tZSt5KTplPEMmJmU+PS1DPyhvLnZhbHVlPVMuQVJFQV8xLHM9LWUpOmU8LUMmJmU+PS0oeStDKT8oby52YWx1ZT1TLkFSRUFfMixzPS1lLXkpOihvLnZhbHVlPVMuQVJFQV8zLHM9ZT4wPy1lK1I6LWUtUik7ZWxzZXt2YXIgdSxsLGMsZixwLG0sZDt0aGlzLmZhY2U9PT1ELlJJR0hUP2U9SXQoZSwreSk6dGhpcy5mYWNlPT09RC5CQUNLP2U9SXQoZSwrUik6dGhpcy5mYWNlPT09RC5MRUZUJiYoZT1JdChlLC15KSksZj1NYXRoLnNpbihhKSxwPU1hdGguY29zKGEpLG09TWF0aC5zaW4oZSksZD1NYXRoLmNvcyhlKSx1PXAqZCxsPXAqbSxjPWYsdGhpcy5mYWNlPT09RC5GUk9OVD8obj1NYXRoLmFjb3ModSkscz12aShuLGMsbCxvKSk6dGhpcy5mYWNlPT09RC5SSUdIVD8obj1NYXRoLmFjb3MobCkscz12aShuLGMsLXUsbykpOnRoaXMuZmFjZT09PUQuQkFDSz8obj1NYXRoLmFjb3MoLXUpLHM9dmkobixjLC1sLG8pKTp0aGlzLmZhY2U9PT1ELkxFRlQ/KG49TWF0aC5hY29zKC1sKSxzPXZpKG4sYyx1LG8pKToobj1zPTAsby52YWx1ZT1TLkFSRUFfMCl9cmV0dXJuIHI9TWF0aC5hdGFuKDEyL1IqKHMrTWF0aC5hY29zKE1hdGguc2luKHMpKk1hdGguY29zKEMpKS15KSksaD1NYXRoLnNxcnQoKDEtTWF0aC5jb3MobikpLyhNYXRoLmNvcyhyKSpNYXRoLmNvcyhyKSkvKDEtTWF0aC5jb3MoTWF0aC5hdGFuKDEvTWF0aC5jb3MocykpKSkpLG8udmFsdWU9PT1TLkFSRUFfMT9yKz15Om8udmFsdWU9PT1TLkFSRUFfMj9yKz1SOm8udmFsdWU9PT1TLkFSRUFfMyYmKHIrPTEuNSpSKSxpLng9aCpNYXRoLmNvcyhyKSxpLnk9aCpNYXRoLnNpbihyKSxpLng9aS54KnRoaXMuYSt0aGlzLngwLGkueT1pLnkqdGhpcy5hK3RoaXMueTAsdC54PWkueCx0Lnk9aS55LHR9ZnVuY3Rpb24gUWgodCl7dmFyIGk9e2xhbTowLHBoaTowfSxhLGUscyxuLGgscixvLHUsbCxjPXt2YWx1ZTowfTtpZih0Lng9KHQueC10aGlzLngwKS90aGlzLmEsdC55PSh0LnktdGhpcy55MCkvdGhpcy5hLGU9TWF0aC5hdGFuKE1hdGguc3FydCh0LngqdC54K3QueSp0LnkpKSxhPU1hdGguYXRhbjIodC55LHQueCksdC54Pj0wJiZ0Lng+PU1hdGguYWJzKHQueSk/Yy52YWx1ZT1TLkFSRUFfMDp0Lnk+PTAmJnQueT49TWF0aC5hYnModC54KT8oYy52YWx1ZT1TLkFSRUFfMSxhLT15KTp0Lng8MCYmLXQueD49TWF0aC5hYnModC55KT8oYy52YWx1ZT1TLkFSRUFfMixhPWE8MD9hK1I6YS1SKTooYy52YWx1ZT1TLkFSRUFfMyxhKz15KSxsPVIvMTIqTWF0aC50YW4oYSksaD1NYXRoLnNpbihsKS8oTWF0aC5jb3MobCktMS9NYXRoLnNxcnQoMikpLHI9TWF0aC5hdGFuKGgpLHM9TWF0aC5jb3MoYSksbj1NYXRoLnRhbihlKSxvPTEtcypzKm4qbiooMS1NYXRoLmNvcyhNYXRoLmF0YW4oMS9NYXRoLmNvcyhyKSkpKSxvPC0xP289LTE6bz4xJiYobz0xKSx0aGlzLmZhY2U9PT1ELlRPUCl1PU1hdGguYWNvcyhvKSxpLnBoaT15LXUsYy52YWx1ZT09PVMuQVJFQV8wP2kubGFtPXIreTpjLnZhbHVlPT09Uy5BUkVBXzE/aS5sYW09cjwwP3IrUjpyLVI6Yy52YWx1ZT09PVMuQVJFQV8yP2kubGFtPXIteTppLmxhbT1yO2Vsc2UgaWYodGhpcy5mYWNlPT09RC5CT1RUT00pdT1NYXRoLmFjb3MobyksaS5waGk9dS15LGMudmFsdWU9PT1TLkFSRUFfMD9pLmxhbT0tcit5OmMudmFsdWU9PT1TLkFSRUFfMT9pLmxhbT0tcjpjLnZhbHVlPT09Uy5BUkVBXzI/aS5sYW09LXIteTppLmxhbT1yPDA/LXItUjotcitSO2Vsc2V7dmFyIGYscCxtO2Y9byxsPWYqZixsPj0xP209MDptPU1hdGguc3FydCgxLWwpKk1hdGguc2luKHIpLGwrPW0qbSxsPj0xP3A9MDpwPU1hdGguc3FydCgxLWwpLGMudmFsdWU9PT1TLkFSRUFfMT8obD1wLHA9LW0sbT1sKTpjLnZhbHVlPT09Uy5BUkVBXzI/KHA9LXAsbT0tbSk6Yy52YWx1ZT09PVMuQVJFQV8zJiYobD1wLHA9bSxtPS1sKSx0aGlzLmZhY2U9PT1ELlJJR0hUPyhsPWYsZj0tcCxwPWwpOnRoaXMuZmFjZT09PUQuQkFDSz8oZj0tZixwPS1wKTp0aGlzLmZhY2U9PT1ELkxFRlQmJihsPWYsZj1wLHA9LWwpLGkucGhpPU1hdGguYWNvcygtbSkteSxpLmxhbT1NYXRoLmF0YW4yKHAsZiksdGhpcy5mYWNlPT09RC5SSUdIVD9pLmxhbT1JdChpLmxhbSwteSk6dGhpcy5mYWNlPT09RC5CQUNLP2kubGFtPUl0KGkubGFtLC1SKTp0aGlzLmZhY2U9PT1ELkxFRlQmJihpLmxhbT1JdChpLmxhbSwreSkpfWlmKHRoaXMuZXMhPT0wKXt2YXIgZCxNLGc7ZD1pLnBoaTwwPzE6MCxNPU1hdGgudGFuKGkucGhpKSxnPXRoaXMuYi9NYXRoLnNxcnQoTSpNK3RoaXMub25lX21pbnVzX2Zfc3F1YXJlZCksaS5waGk9TWF0aC5hdGFuKE1hdGguc3FydCh0aGlzLmEqdGhpcy5hLWcqZykvKHRoaXMub25lX21pbnVzX2YqZykpLGQmJihpLnBoaT0taS5waGkpfXJldHVybiBpLmxhbSs9dGhpcy5sb25nMCx0Lng9aS5sYW0sdC55PWkucGhpLHR9ZnVuY3Rpb24gdmkodCxpLGEsZSl7dmFyIHM7cmV0dXJuIHQ8eD8oZS52YWx1ZT1TLkFSRUFfMCxzPTApOihzPU1hdGguYXRhbjIoaSxhKSxNYXRoLmFicyhzKTw9Qz9lLnZhbHVlPVMuQVJFQV8wOnM+QyYmczw9eStDPyhlLnZhbHVlPVMuQVJFQV8xLHMtPXkpOnM+eStDfHxzPD0tKHkrQyk/KGUudmFsdWU9Uy5BUkVBXzIscz1zPj0wP3MtUjpzK1IpOihlLnZhbHVlPVMuQVJFQV8zLHMrPXkpKSxzfWZ1bmN0aW9uIEl0KHQsaSl7dmFyIGE9dCtpO3JldHVybiBhPC1SP2ErPXp0OmE+K1ImJihhLT16dCksYX12YXIgWGg9WyJRdWFkcmlsYXRlcmFsaXplZCBTcGhlcmljYWwgQ3ViZSIsIlF1YWRyaWxhdGVyYWxpemVkX1NwaGVyaWNhbF9DdWJlIiwicXNjIl0sV2g9e2luaXQ6VWgsZm9yd2FyZDpIaCxpbnZlcnNlOlFoLG5hbWVzOlhofSx6aT1bWzEsMjIxOTllLTIxLC03MTU1MTVlLTEwLDMxMTAzZS0xMF0sWy45OTg2LC00ODIyNDNlLTksLTI0ODk3ZS05LC0xMzMwOWUtMTBdLFsuOTk1NCwtODMxMDNlLTgsLTQ0ODYwNWUtMTAsLTk4NjcwMWUtMTJdLFsuOTksLS4wMDEzNTM2NCwtNTk2NjFlLTksMzY3NzdlLTEwXSxbLjk4MjIsLS4wMDE2NzQ0MiwtNDQ5NTQ3ZS0xMSwtNTcyNDExZS0xMV0sWy45NzMsLS4wMDIxNDg2OCwtOTAzNTcxZS0xMCwxODczNmUtMTJdLFsuOTYsLS4wMDMwNTA4NSwtOTAwNzYxZS0xMCwxNjQ5MTdlLTExXSxbLjk0MjcsLS4wMDM4Mjc5MiwtNjUzMzg2ZS0xMCwtMjYxNTRlLTEwXSxbLjkyMTYsLS4wMDQ2Nzc0NiwtMTA0NTdlLTgsNDgxMjQzZS0xMV0sWy44OTYyLC0uMDA1MzYyMjMsLTMyMzgzMWUtMTAsLTU0MzQzMmUtMTFdLFsuODY3OSwtLjAwNjA5MzYzLC0xMTM4OThlLTksMzMyNDg0ZS0xMV0sWy44MzUsLS4wMDY5ODMyNSwtNjQwMjUzZS0xMCw5MzQ5NTllLTEyXSxbLjc5ODYsLS4wMDc1NTMzOCwtNTAwMDA5ZS0xMCw5MzUzMjRlLTEyXSxbLjc1OTcsLS4wMDc5ODMyNCwtMzU5NzFlLTksLTIyNzYyNmUtMTFdLFsuNzE4NiwtLjAwODUxMzY3LC03MDExNDllLTEwLC04NjMwM2UtMTBdLFsuNjczMiwtLjAwOTg2MjA5LC0xOTk1NjllLTksMTkxOTc0ZS0xMF0sWy42MjEzLC0uMDEwNDE4LDg4MzkyM2UtMTAsNjI0MDUxZS0xMV0sWy41NzIyLC0uMDA5MDY2MDEsMTgyZS02LDYyNDA1MWUtMTFdLFsuNTMyMiwtLjAwNjc3Nzk3LDI3NTYwOGUtOSw2MjQwNTFlLTExXV0sWXQ9W1stNTIwNDE3ZS0yMywuMDEyNCwxMjE0MzFlLTIzLC04NDUyODRlLTE2XSxbLjA2MiwuMDEyNCwtMTI2NzkzZS0xNCw0MjI2NDJlLTE1XSxbLjEyNCwuMDEyNCw1MDcxNzFlLTE0LC0xNjA2MDRlLTE0XSxbLjE4NiwuMDEyMzk5OSwtMTkwMTg5ZS0xMyw2MDAxNTJlLTE0XSxbLjI0OCwuMDEyNDAwMiw3MTAwMzllLTEzLC0yMjRlLTEwXSxbLjMxLC4wMTIzOTkyLC0yNjQ5OTdlLTEyLDgzNTk4NmUtMTNdLFsuMzcyLC4wMTI0MDI5LDk4ODk4M2UtMTIsLTMxMTk5NGUtMTJdLFsuNDM0LC4wMTIzODkzLC0zNjkwOTNlLTExLC00MzU2MjFlLTEyXSxbLjQ5NTgsLjAxMjMxOTgsLTEwMjI1MmUtMTAsLTM0NTUyM2UtMTJdLFsuNTU3MSwuMDEyMTkxNiwtMTU0MDgxZS0xMCwtNTgyMjg4ZS0xMl0sWy42MTc2LC4wMTE5OTM4LC0yNDE0MjRlLTEwLC01MjUzMjdlLTEyXSxbLjY3NjksLjAxMTcxMywtMzIwMjIzZS0xMCwtNTE2NDA1ZS0xMl0sWy43MzQ2LC4wMTEzNTQxLC0zOTc2ODRlLTEwLC02MDkwNTJlLTEyXSxbLjc5MDMsLjAxMDkxMDcsLTQ4OTA0MmUtMTAsLTEwNDczOWUtMTFdLFsuODQzNSwuMDEwMzQzMSwtNjQ2MTVlLTksLTE0MDM3NGUtMTRdLFsuODkzNiwuMDA5Njk2ODYsLTY0NjM2ZS05LC04NTQ3ZS05XSxbLjkzOTQsLjAwODQwOTQ3LC0xOTI4NDFlLTksLTQyMTA2ZS0xMF0sWy45NzYxLC4wMDYxNjUyNywtMjU2ZS02LC00MjEwNmUtMTBdLFsxLC4wMDMyODk0NywtMzE5MTU5ZS05LC00MjEwNmUtMTBdXSxVYT0uODQ4NyxIYT0xLjM1MjMsUWE9ZXQvNSxWaD0xL1FhLER0PTE4LGJpPWZ1bmN0aW9uKHQsaSl7cmV0dXJuIHRbMF0raSoodFsxXStpKih0WzJdK2kqdFszXSkpfSxKaD1mdW5jdGlvbih0LGkpe3JldHVybiB0WzFdK2kqKDIqdFsyXStpKjMqdFszXSl9O2Z1bmN0aW9uIEtoKHQsaSxhLGUpe2Zvcih2YXIgcz1pO2U7LS1lKXt2YXIgbj10KHMpO2lmKHMtPW4sTWF0aC5hYnMobik8YSlicmVha31yZXR1cm4gc31mdW5jdGlvbiAkaCgpe3RoaXMueDA9dGhpcy54MHx8MCx0aGlzLnkwPXRoaXMueTB8fDAsdGhpcy5sb25nMD10aGlzLmxvbmcwfHwwLHRoaXMuZXM9MCx0aGlzLnRpdGxlPXRoaXMudGl0bGV8fCJSb2JpbnNvbiJ9ZnVuY3Rpb24gWWgodCl7dmFyIGk9dih0LngtdGhpcy5sb25nMCksYT1NYXRoLmFicyh0LnkpLGU9TWF0aC5mbG9vcihhKlFhKTtlPDA/ZT0wOmU+PUR0JiYoZT1EdC0xKSxhPWV0KihhLVZoKmUpO3ZhciBzPXt4OmJpKHppW2VdLGEpKmkseTpiaShZdFtlXSxhKX07cmV0dXJuIHQueTwwJiYocy55PS1zLnkpLHMueD1zLngqdGhpcy5hKlVhK3RoaXMueDAscy55PXMueSp0aGlzLmEqSGErdGhpcy55MCxzfWZ1bmN0aW9uIFpoKHQpe3ZhciBpPXt4Oih0LngtdGhpcy54MCkvKHRoaXMuYSpVYSkseTpNYXRoLmFicyh0LnktdGhpcy55MCkvKHRoaXMuYSpIYSl9O2lmKGkueT49MSlpLngvPXppW0R0XVswXSxpLnk9dC55PDA/LXk6eTtlbHNle3ZhciBhPU1hdGguZmxvb3IoaS55KkR0KTtmb3IoYTwwP2E9MDphPj1EdCYmKGE9RHQtMSk7OylpZihZdFthXVswXT5pLnkpLS1hO2Vsc2UgaWYoWXRbYSsxXVswXTw9aS55KSsrYTtlbHNlIGJyZWFrO3ZhciBlPVl0W2FdLHM9NSooaS55LWVbMF0pLyhZdFthKzFdWzBdLWVbMF0pO3M9S2goZnVuY3Rpb24obil7cmV0dXJuKGJpKGUsbiktaS55KS9KaChlLG4pfSxzLHgsMTAwKSxpLngvPWJpKHppW2FdLHMpLGkueT0oNSphK3MpKmosdC55PDAmJihpLnk9LWkueSl9cmV0dXJuIGkueD12KGkueCt0aGlzLmxvbmcwKSxpfXZhciB0bz1bIlJvYmluc29uIiwicm9iaW4iXSxpbz17aW5pdDokaCxmb3J3YXJkOlloLGludmVyc2U6WmgsbmFtZXM6dG99O2Z1bmN0aW9uIGFvKCl7dGhpcy5uYW1lPSJnZW9jZW50In1mdW5jdGlvbiBlbyh0KXt2YXIgaT1nYSh0LHRoaXMuZXMsdGhpcy5hKTtyZXR1cm4gaX1mdW5jdGlvbiBzbyh0KXt2YXIgaT14YSh0LHRoaXMuZXMsdGhpcy5hLHRoaXMuYik7cmV0dXJuIGl9dmFyIG5vPVsiR2VvY2VudHJpYyIsImdlb2NlbnRyaWMiLCJnZW9jZW50IiwiR2VvY2VudCJdLHJvPXtpbml0OmFvLGZvcndhcmQ6ZW8saW52ZXJzZTpzbyxuYW1lczpub30sRz17Tl9QT0xFOjAsU19QT0xFOjEsRVFVSVQ6MixPQkxJUTozfSxadD17aDp7ZGVmOjFlNSxudW06ITB9LGF6aTp7ZGVmOjAsbnVtOiEwLGRlZ3JlZXM6ITB9LHRpbHQ6e2RlZjowLG51bTohMCxkZWdyZWVzOiEwfSxsb25nMDp7ZGVmOjAsbnVtOiEwfSxsYXQwOntkZWY6MCxudW06ITB9fTtmdW5jdGlvbiBobygpe2lmKE9iamVjdC5rZXlzKFp0KS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2lmKHR5cGVvZiB0aGlzW2FdPiJ1Iil0aGlzW2FdPVp0W2FdLmRlZjtlbHNle2lmKFp0W2FdLm51bSYmaXNOYU4odGhpc1thXSkpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHBhcmFtZXRlciB2YWx1ZSwgbXVzdCBiZSBudW1lcmljICIrYSsiID0gIit0aGlzW2FdKTtadFthXS5udW0mJih0aGlzW2FdPXBhcnNlRmxvYXQodGhpc1thXSkpfVp0W2FdLmRlZ3JlZXMmJih0aGlzW2FdPXRoaXNbYV0qail9LmJpbmQodGhpcykpLE1hdGguYWJzKE1hdGguYWJzKHRoaXMubGF0MCkteSk8eD90aGlzLm1vZGU9dGhpcy5sYXQwPDA/Ry5TX1BPTEU6Ry5OX1BPTEU6TWF0aC5hYnModGhpcy5sYXQwKTx4P3RoaXMubW9kZT1HLkVRVUlUOih0aGlzLm1vZGU9Ry5PQkxJUSx0aGlzLnNpbnBoMD1NYXRoLnNpbih0aGlzLmxhdDApLHRoaXMuY29zcGgwPU1hdGguY29zKHRoaXMubGF0MCkpLHRoaXMucG4xPXRoaXMuaC90aGlzLmEsdGhpcy5wbjE8PTB8fHRoaXMucG4xPjFlMTApdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGhlaWdodCIpO3RoaXMucD0xK3RoaXMucG4xLHRoaXMucnA9MS90aGlzLnAsdGhpcy5oMT0xL3RoaXMucG4xLHRoaXMucGZhY3Q9KHRoaXMucCsxKSp0aGlzLmgxLHRoaXMuZXM9MDt2YXIgdD10aGlzLnRpbHQsaT10aGlzLmF6aTt0aGlzLmNnPU1hdGguY29zKGkpLHRoaXMuc2c9TWF0aC5zaW4oaSksdGhpcy5jdz1NYXRoLmNvcyh0KSx0aGlzLnN3PU1hdGguc2luKHQpfWZ1bmN0aW9uIG9vKHQpe3QueC09dGhpcy5sb25nMDt2YXIgaT1NYXRoLnNpbih0LnkpLGE9TWF0aC5jb3ModC55KSxlPU1hdGguY29zKHQueCkscyxuO3N3aXRjaCh0aGlzLm1vZGUpe2Nhc2UgRy5PQkxJUTpuPXRoaXMuc2lucGgwKmkrdGhpcy5jb3NwaDAqYSplO2JyZWFrO2Nhc2UgRy5FUVVJVDpuPWEqZTticmVhaztjYXNlIEcuU19QT0xFOm49LWk7YnJlYWs7Y2FzZSBHLk5fUE9MRTpuPWk7YnJlYWt9c3dpdGNoKG49dGhpcy5wbjEvKHRoaXMucC1uKSxzPW4qYSpNYXRoLnNpbih0LngpLHRoaXMubW9kZSl7Y2FzZSBHLk9CTElROm4qPXRoaXMuY29zcGgwKmktdGhpcy5zaW5waDAqYSplO2JyZWFrO2Nhc2UgRy5FUVVJVDpuKj1pO2JyZWFrO2Nhc2UgRy5OX1BPTEU6bio9LShhKmUpO2JyZWFrO2Nhc2UgRy5TX1BPTEU6bio9YSplO2JyZWFrfXZhciBoLHI7cmV0dXJuIGg9bip0aGlzLmNnK3MqdGhpcy5zZyxyPTEvKGgqdGhpcy5zdyp0aGlzLmgxK3RoaXMuY3cpLHM9KHMqdGhpcy5jZy1uKnRoaXMuc2cpKnRoaXMuY3cqcixuPWgqcix0Lng9cyp0aGlzLmEsdC55PW4qdGhpcy5hLHR9ZnVuY3Rpb24gdW8odCl7dC54Lz10aGlzLmEsdC55Lz10aGlzLmE7dmFyIGk9e3g6dC54LHk6dC55fSxhLGUscztzPTEvKHRoaXMucG4xLXQueSp0aGlzLnN3KSxhPXRoaXMucG4xKnQueCpzLGU9dGhpcy5wbjEqdC55KnRoaXMuY3cqcyx0Lng9YSp0aGlzLmNnK2UqdGhpcy5zZyx0Lnk9ZSp0aGlzLmNnLWEqdGhpcy5zZzt2YXIgbj10dCh0LngsdC55KTtpZihNYXRoLmFicyhuKTx4KWkueD0wLGkueT10Lnk7ZWxzZXt2YXIgaCxyO3N3aXRjaChyPTEtbipuKnRoaXMucGZhY3Qscj0odGhpcy5wLU1hdGguc3FydChyKSkvKHRoaXMucG4xL24rbi90aGlzLnBuMSksaD1NYXRoLnNxcnQoMS1yKnIpLHRoaXMubW9kZSl7Y2FzZSBHLk9CTElROmkueT1NYXRoLmFzaW4oaCp0aGlzLnNpbnBoMCt0Lnkqcip0aGlzLmNvc3BoMC9uKSx0Lnk9KGgtdGhpcy5zaW5waDAqTWF0aC5zaW4oaS55KSkqbix0LngqPXIqdGhpcy5jb3NwaDA7YnJlYWs7Y2FzZSBHLkVRVUlUOmkueT1NYXRoLmFzaW4odC55KnIvbiksdC55PWgqbix0LngqPXI7YnJlYWs7Y2FzZSBHLk5fUE9MRTppLnk9TWF0aC5hc2luKGgpLHQueT0tdC55O2JyZWFrO2Nhc2UgRy5TX1BPTEU6aS55PS1NYXRoLmFzaW4oaCk7YnJlYWt9aS54PU1hdGguYXRhbjIodC54LHQueSl9cmV0dXJuIHQueD1pLngrdGhpcy5sb25nMCx0Lnk9aS55LHR9dmFyIGxvPVsiVGlsdGVkX1BlcnNwZWN0aXZlIiwidHBlcnMiXSxjbz17aW5pdDpobyxmb3J3YXJkOm9vLGludmVyc2U6dW8sbmFtZXM6bG99O2Z1bmN0aW9uIGZvKCl7aWYodGhpcy5mbGlwX2F4aXM9dGhpcy5zd2VlcD09PSJ4Ij8xOjAsdGhpcy5oPU51bWJlcih0aGlzLmgpLHRoaXMucmFkaXVzX2dfMT10aGlzLmgvdGhpcy5hLHRoaXMucmFkaXVzX2dfMTw9MHx8dGhpcy5yYWRpdXNfZ18xPjFlMTApdGhyb3cgbmV3IEVycm9yO2lmKHRoaXMucmFkaXVzX2c9MSt0aGlzLnJhZGl1c19nXzEsdGhpcy5DPXRoaXMucmFkaXVzX2cqdGhpcy5yYWRpdXNfZy0xLHRoaXMuZXMhPT0wKXt2YXIgdD0xLXRoaXMuZXMsaT0xL3Q7dGhpcy5yYWRpdXNfcD1NYXRoLnNxcnQodCksdGhpcy5yYWRpdXNfcDI9dCx0aGlzLnJhZGl1c19wX2ludjI9aSx0aGlzLnNoYXBlPSJlbGxpcHNlIn1lbHNlIHRoaXMucmFkaXVzX3A9MSx0aGlzLnJhZGl1c19wMj0xLHRoaXMucmFkaXVzX3BfaW52Mj0xLHRoaXMuc2hhcGU9InNwaGVyZSI7dGhpcy50aXRsZXx8KHRoaXMudGl0bGU9Ikdlb3N0YXRpb25hcnkgU2F0ZWxsaXRlIFZpZXciKX1mdW5jdGlvbiBwbyh0KXt2YXIgaT10LngsYT10LnksZSxzLG4saDtpZihpPWktdGhpcy5sb25nMCx0aGlzLnNoYXBlPT09ImVsbGlwc2UiKXthPU1hdGguYXRhbih0aGlzLnJhZGl1c19wMipNYXRoLnRhbihhKSk7dmFyIHI9dGhpcy5yYWRpdXNfcC90dCh0aGlzLnJhZGl1c19wKk1hdGguY29zKGEpLE1hdGguc2luKGEpKTtpZihzPXIqTWF0aC5jb3MoaSkqTWF0aC5jb3MoYSksbj1yKk1hdGguc2luKGkpKk1hdGguY29zKGEpLGg9cipNYXRoLnNpbihhKSwodGhpcy5yYWRpdXNfZy1zKSpzLW4qbi1oKmgqdGhpcy5yYWRpdXNfcF9pbnYyPDApcmV0dXJuIHQueD1OdW1iZXIuTmFOLHQueT1OdW1iZXIuTmFOLHQ7ZT10aGlzLnJhZGl1c19nLXMsdGhpcy5mbGlwX2F4aXM/KHQueD10aGlzLnJhZGl1c19nXzEqTWF0aC5hdGFuKG4vdHQoaCxlKSksdC55PXRoaXMucmFkaXVzX2dfMSpNYXRoLmF0YW4oaC9lKSk6KHQueD10aGlzLnJhZGl1c19nXzEqTWF0aC5hdGFuKG4vZSksdC55PXRoaXMucmFkaXVzX2dfMSpNYXRoLmF0YW4oaC90dChuLGUpKSl9ZWxzZSB0aGlzLnNoYXBlPT09InNwaGVyZSImJihlPU1hdGguY29zKGEpLHM9TWF0aC5jb3MoaSkqZSxuPU1hdGguc2luKGkpKmUsaD1NYXRoLnNpbihhKSxlPXRoaXMucmFkaXVzX2ctcyx0aGlzLmZsaXBfYXhpcz8odC54PXRoaXMucmFkaXVzX2dfMSpNYXRoLmF0YW4obi90dChoLGUpKSx0Lnk9dGhpcy5yYWRpdXNfZ18xKk1hdGguYXRhbihoL2UpKToodC54PXRoaXMucmFkaXVzX2dfMSpNYXRoLmF0YW4obi9lKSx0Lnk9dGhpcy5yYWRpdXNfZ18xKk1hdGguYXRhbihoL3R0KG4sZSkpKSk7cmV0dXJuIHQueD10LngqdGhpcy5hLHQueT10LnkqdGhpcy5hLHR9ZnVuY3Rpb24gbW8odCl7dmFyIGk9LTEsYT0wLGU9MCxzLG4saCxyO2lmKHQueD10LngvdGhpcy5hLHQueT10LnkvdGhpcy5hLHRoaXMuc2hhcGU9PT0iZWxsaXBzZSIpe3RoaXMuZmxpcF9heGlzPyhlPU1hdGgudGFuKHQueS90aGlzLnJhZGl1c19nXzEpLGE9TWF0aC50YW4odC54L3RoaXMucmFkaXVzX2dfMSkqdHQoMSxlKSk6KGE9TWF0aC50YW4odC54L3RoaXMucmFkaXVzX2dfMSksZT1NYXRoLnRhbih0LnkvdGhpcy5yYWRpdXNfZ18xKSp0dCgxLGEpKTt2YXIgbz1lL3RoaXMucmFkaXVzX3A7aWYocz1hKmErbypvK2kqaSxuPTIqdGhpcy5yYWRpdXNfZyppLGg9bipuLTQqcyp0aGlzLkMsaDwwKXJldHVybiB0Lng9TnVtYmVyLk5hTix0Lnk9TnVtYmVyLk5hTix0O3I9KC1uLU1hdGguc3FydChoKSkvKDIqcyksaT10aGlzLnJhZGl1c19nK3IqaSxhKj1yLGUqPXIsdC54PU1hdGguYXRhbjIoYSxpKSx0Lnk9TWF0aC5hdGFuKGUqTWF0aC5jb3ModC54KS9pKSx0Lnk9TWF0aC5hdGFuKHRoaXMucmFkaXVzX3BfaW52MipNYXRoLnRhbih0LnkpKX1lbHNlIGlmKHRoaXMuc2hhcGU9PT0ic3BoZXJlIil7aWYodGhpcy5mbGlwX2F4aXM/KGU9TWF0aC50YW4odC55L3RoaXMucmFkaXVzX2dfMSksYT1NYXRoLnRhbih0LngvdGhpcy5yYWRpdXNfZ18xKSpNYXRoLnNxcnQoMStlKmUpKTooYT1NYXRoLnRhbih0LngvdGhpcy5yYWRpdXNfZ18xKSxlPU1hdGgudGFuKHQueS90aGlzLnJhZGl1c19nXzEpKk1hdGguc3FydCgxK2EqYSkpLHM9YSphK2UqZStpKmksbj0yKnRoaXMucmFkaXVzX2cqaSxoPW4qbi00KnMqdGhpcy5DLGg8MClyZXR1cm4gdC54PU51bWJlci5OYU4sdC55PU51bWJlci5OYU4sdDtyPSgtbi1NYXRoLnNxcnQoaCkpLygyKnMpLGk9dGhpcy5yYWRpdXNfZytyKmksYSo9cixlKj1yLHQueD1NYXRoLmF0YW4yKGEsaSksdC55PU1hdGguYXRhbihlKk1hdGguY29zKHQueCkvaSl9cmV0dXJuIHQueD10LngrdGhpcy5sb25nMCx0fXZhciBNbz1bIkdlb3N0YXRpb25hcnkgU2F0ZWxsaXRlIFZpZXciLCJHZW9zdGF0aW9uYXJ5X1NhdGVsbGl0ZSIsImdlb3MiXSx5bz17aW5pdDpmbyxmb3J3YXJkOnBvLGludmVyc2U6bW8sbmFtZXM6TW99O2Z1bmN0aW9uIGdvKHQpe3QuUHJvai5wcm9qZWN0aW9ucy5hZGQoZ2kpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoeGkpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoTm4pLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoUG4pLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoRm4pLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoSG4pLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoS24pLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoaXIpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQocnIpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoY3IpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoU3IpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoUnIpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoRnIpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoUXIpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoS3IpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoaWgpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQocmgpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoY2gpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoeWgpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoYmgpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoQ2gpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoRGgpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQocWgpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoemgpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoV2gpLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoaW8pLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQocm8pLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoY28pLHQuUHJvai5wcm9qZWN0aW9ucy5hZGQoeW8pfUsuZGVmYXVsdERhdHVtPSJXR1M4NCIsSy5Qcm9qPW50LEsuV0dTODQ9bmV3IEsuUHJvaigiV0dTODQiKSxLLlBvaW50PUN0LEsudG9Qb2ludD1OYSxLLmRlZnM9VSxLLm5hZGdyaWQ9RXMsSy50cmFuc2Zvcm09TWksSy5tZ3JzPWpzLEsudmVyc2lvbj0iX19WRVJTSU9OX18iLGdvKEspO3ZhciB5dD17fSxsdD17fTtmdW5jdGlvbiB4byh0LGksYSl7aWYoYT09PXZvaWQgMCYmKGE9QXJyYXkucHJvdG90eXBlKSx0JiZ0eXBlb2YgYS5maW5kPT0iZnVuY3Rpb24iKXJldHVybiBhLmZpbmQuY2FsbCh0LGkpO2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpKXt2YXIgcz10W2VdO2lmKGkuY2FsbCh2b2lkIDAscyxlLHQpKXJldHVybiBzfX1mdW5jdGlvbiBVaSh0LGkpe3JldHVybiBpPT09dm9pZCAwJiYoaT1PYmplY3QpLGkmJnR5cGVvZiBpLmZyZWV6ZT09ImZ1bmN0aW9uIj9pLmZyZWV6ZSh0KTp0fWZ1bmN0aW9uIF9vKHQsaSl7aWYodD09PW51bGx8fHR5cGVvZiB0IT0ib2JqZWN0Iil0aHJvdyBuZXcgVHlwZUVycm9yKCJ0YXJnZXQgaXMgbm90IGFuIG9iamVjdCIpO2Zvcih2YXIgYSBpbiBpKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpLGEpJiYodFthXT1pW2FdKTtyZXR1cm4gdH12YXIgWGE9VWkoe0hUTUw6InRleHQvaHRtbCIsaXNIVE1MOmZ1bmN0aW9uKHQpe3JldHVybiB0PT09WGEuSFRNTH0sWE1MX0FQUExJQ0FUSU9OOiJhcHBsaWNhdGlvbi94bWwiLFhNTF9URVhUOiJ0ZXh0L3htbCIsWE1MX1hIVE1MX0FQUExJQ0FUSU9OOiJhcHBsaWNhdGlvbi94aHRtbCt4bWwiLFhNTF9TVkdfSU1BR0U6ImltYWdlL3N2Zyt4bWwifSksV2E9VWkoe0hUTUw6Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiLGlzSFRNTDpmdW5jdGlvbih0KXtyZXR1cm4gdD09PVdhLkhUTUx9LFNWRzoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLFhNTDoiaHR0cDovL3d3dy53My5vcmcvWE1MLzE5OTgvbmFtZXNwYWNlIixYTUxOUzoiaHR0cDovL3d3dy53My5vcmcvMjAwMC94bWxucy8ifSk7bHQuYXNzaWduPV9vLGx0LmZpbmQ9eG8sbHQuZnJlZXplPVVpLGx0Lk1JTUVfVFlQRT1YYSxsdC5OQU1FU1BBQ0U9V2E7dmFyIFZhPWx0LHJ0PVZhLmZpbmQsdGk9VmEuTkFNRVNQQUNFO2Z1bmN0aW9uIHZvKHQpe3JldHVybiB0IT09IiJ9ZnVuY3Rpb24gYm8odCl7cmV0dXJuIHQ/dC5zcGxpdCgvW1x0XG5cZlxyIF0rLykuZmlsdGVyKHZvKTpbXX1mdW5jdGlvbiBObyh0LGkpe3JldHVybiB0Lmhhc093blByb3BlcnR5KGkpfHwodFtpXT0hMCksdH1mdW5jdGlvbiBKYSh0KXtpZighdClyZXR1cm5bXTt2YXIgaT1ibyh0KTtyZXR1cm4gT2JqZWN0LmtleXMoaS5yZWR1Y2UoTm8se30pKX1mdW5jdGlvbiBFbyh0KXtyZXR1cm4gZnVuY3Rpb24oaSl7cmV0dXJuIHQmJnQuaW5kZXhPZihpKSE9PS0xfX1mdW5jdGlvbiBpaSh0LGkpe2Zvcih2YXIgYSBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGEpJiYoaVthXT10W2FdKX1mdW5jdGlvbiBXKHQsaSl7dmFyIGE9dC5wcm90b3R5cGU7aWYoIShhIGluc3RhbmNlb2YgaSkpe2xldCBlPWZ1bmN0aW9uKCl7fTtlLnByb3RvdHlwZT1pLnByb3RvdHlwZSxlPW5ldyBlLGlpKGEsZSksdC5wcm90b3R5cGU9YT1lfWEuY29uc3RydWN0b3IhPXQmJih0eXBlb2YgdCE9ImZ1bmN0aW9uIiYmY29uc29sZS5lcnJvcigidW5rbm93biBDbGFzczoiK3QpLGEuY29uc3RydWN0b3I9dCl9dmFyIFY9e30saXQ9Vi5FTEVNRU5UX05PREU9MSxQdD1WLkFUVFJJQlVURV9OT0RFPTIsTmk9Vi5URVhUX05PREU9MyxLYT1WLkNEQVRBX1NFQ1RJT05fTk9ERT00LCRhPVYuRU5USVRZX1JFRkVSRU5DRV9OT0RFPTUsd289Vi5FTlRJVFlfTk9ERT02LFlhPVYuUFJPQ0VTU0lOR19JTlNUUlVDVElPTl9OT0RFPTcsWmE9Vi5DT01NRU5UX05PREU9OCx0ZT1WLkRPQ1VNRU5UX05PREU9OSxpZT1WLkRPQ1VNRU5UX1RZUEVfTk9ERT0xMCxjdD1WLkRPQ1VNRU5UX0ZSQUdNRU5UX05PREU9MTEsQW89Vi5OT1RBVElPTl9OT0RFPTEyLHo9e30sTD17fTt6LklOREVYX1NJWkVfRVJSPShMWzFdPSJJbmRleCBzaXplIGVycm9yIiwxKSx6LkRPTVNUUklOR19TSVpFX0VSUj0oTFsyXT0iRE9NU3RyaW5nIHNpemUgZXJyb3IiLDIpO3ZhciBKPXouSElFUkFSQ0hZX1JFUVVFU1RfRVJSPShMWzNdPSJIaWVyYXJjaHkgcmVxdWVzdCBlcnJvciIsMyk7ei5XUk9OR19ET0NVTUVOVF9FUlI9KExbNF09Ildyb25nIGRvY3VtZW50Iiw0KSx6LklOVkFMSURfQ0hBUkFDVEVSX0VSUj0oTFs1XT0iSW52YWxpZCBjaGFyYWN0ZXIiLDUpLHouTk9fREFUQV9BTExPV0VEX0VSUj0oTFs2XT0iTm8gZGF0YSBhbGxvd2VkIiw2KSx6Lk5PX01PRElGSUNBVElPTl9BTExPV0VEX0VSUj0oTFs3XT0iTm8gbW9kaWZpY2F0aW9uIGFsbG93ZWQiLDcpO3ZhciBhZT16Lk5PVF9GT1VORF9FUlI9KExbOF09Ik5vdCBmb3VuZCIsOCk7ei5OT1RfU1VQUE9SVEVEX0VSUj0oTFs5XT0iTm90IHN1cHBvcnRlZCIsOSk7dmFyIGVlPXouSU5VU0VfQVRUUklCVVRFX0VSUj0oTFsxMF09IkF0dHJpYnV0ZSBpbiB1c2UiLDEwKTt6LklOVkFMSURfU1RBVEVfRVJSPShMWzExXT0iSW52YWxpZCBzdGF0ZSIsMTEpLHouU1lOVEFYX0VSUj0oTFsxMl09IlN5bnRheCBlcnJvciIsMTIpLHouSU5WQUxJRF9NT0RJRklDQVRJT05fRVJSPShMWzEzXT0iSW52YWxpZCBtb2RpZmljYXRpb24iLDEzKSx6Lk5BTUVTUEFDRV9FUlI9KExbMTRdPSJJbnZhbGlkIG5hbWVzcGFjZSIsMTQpLHouSU5WQUxJRF9BQ0NFU1NfRVJSPShMWzE1XT0iSW52YWxpZCBhY2Nlc3MiLDE1KTtmdW5jdGlvbiBrKHQsaSl7aWYoaSBpbnN0YW5jZW9mIEVycm9yKXZhciBhPWk7ZWxzZSBhPXRoaXMsRXJyb3IuY2FsbCh0aGlzLExbdF0pLHRoaXMubWVzc2FnZT1MW3RdLEVycm9yLmNhcHR1cmVTdGFja1RyYWNlJiZFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLGspO3JldHVybiBhLmNvZGU9dCxpJiYodGhpcy5tZXNzYWdlPXRoaXMubWVzc2FnZSsiOiAiK2kpLGF9ay5wcm90b3R5cGU9RXJyb3IucHJvdG90eXBlLGlpKHosayk7ZnVuY3Rpb24gZnQoKXt9ZnQucHJvdG90eXBlPXtsZW5ndGg6MCxpdGVtOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzW3RdfHxudWxsfSx0b1N0cmluZzpmdW5jdGlvbih0LGkpe2Zvcih2YXIgYT1bXSxlPTA7ZTx0aGlzLmxlbmd0aDtlKyspa3QodGhpc1tlXSxhLHQsaSk7cmV0dXJuIGEuam9pbigiIil9LGZpbHRlcjpmdW5jdGlvbih0KXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKHRoaXMsdCl9LGluZGV4T2Y6ZnVuY3Rpb24odCl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwodGhpcyx0KX19O2Z1bmN0aW9uIFJ0KHQsaSl7dGhpcy5fbm9kZT10LHRoaXMuX3JlZnJlc2g9aSxIaSh0aGlzKX1mdW5jdGlvbiBIaSh0KXt2YXIgaT10Ll9ub2RlLl9pbmN8fHQuX25vZGUub3duZXJEb2N1bWVudC5faW5jO2lmKHQuX2luYyE9aSl7dmFyIGE9dC5fcmVmcmVzaCh0Ll9ub2RlKTtfZSh0LCJsZW5ndGgiLGEubGVuZ3RoKSxpaShhLHQpLHQuX2luYz1pfX1SdC5wcm90b3R5cGUuaXRlbT1mdW5jdGlvbih0KXtyZXR1cm4gSGkodGhpcyksdGhpc1t0XX0sVyhSdCxmdCk7ZnVuY3Rpb24gRWkoKXt9ZnVuY3Rpb24gc2UodCxpKXtmb3IodmFyIGE9dC5sZW5ndGg7YS0tOylpZih0W2FdPT09aSlyZXR1cm4gYX1mdW5jdGlvbiBuZSh0LGksYSxlKXtpZihlP2lbc2UoaSxlKV09YTppW2kubGVuZ3RoKytdPWEsdCl7YS5vd25lckVsZW1lbnQ9dDt2YXIgcz10Lm93bmVyRG9jdW1lbnQ7cyYmKGUmJnVlKHMsdCxlKSxDbyhzLHQsYSkpfX1mdW5jdGlvbiByZSh0LGksYSl7dmFyIGU9c2UoaSxhKTtpZihlPj0wKXtmb3IodmFyIHM9aS5sZW5ndGgtMTtlPHM7KWlbZV09aVsrK2VdO2lmKGkubGVuZ3RoPXMsdCl7dmFyIG49dC5vd25lckRvY3VtZW50O24mJih1ZShuLHQsYSksYS5vd25lckVsZW1lbnQ9bnVsbCl9fWVsc2UgdGhyb3cgbmV3IGsoYWUsbmV3IEVycm9yKHQudGFnTmFtZSsiQCIrYSkpfUVpLnByb3RvdHlwZT17bGVuZ3RoOjAsaXRlbTpmdC5wcm90b3R5cGUuaXRlbSxnZXROYW1lZEl0ZW06ZnVuY3Rpb24odCl7Zm9yKHZhciBpPXRoaXMubGVuZ3RoO2ktLTspe3ZhciBhPXRoaXNbaV07aWYoYS5ub2RlTmFtZT09dClyZXR1cm4gYX19LHNldE5hbWVkSXRlbTpmdW5jdGlvbih0KXt2YXIgaT10Lm93bmVyRWxlbWVudDtpZihpJiZpIT10aGlzLl9vd25lckVsZW1lbnQpdGhyb3cgbmV3IGsoZWUpO3ZhciBhPXRoaXMuZ2V0TmFtZWRJdGVtKHQubm9kZU5hbWUpO3JldHVybiBuZSh0aGlzLl9vd25lckVsZW1lbnQsdGhpcyx0LGEpLGF9LHNldE5hbWVkSXRlbU5TOmZ1bmN0aW9uKHQpe3ZhciBpPXQub3duZXJFbGVtZW50LGE7aWYoaSYmaSE9dGhpcy5fb3duZXJFbGVtZW50KXRocm93IG5ldyBrKGVlKTtyZXR1cm4gYT10aGlzLmdldE5hbWVkSXRlbU5TKHQubmFtZXNwYWNlVVJJLHQubG9jYWxOYW1lKSxuZSh0aGlzLl9vd25lckVsZW1lbnQsdGhpcyx0LGEpLGF9LHJlbW92ZU5hbWVkSXRlbTpmdW5jdGlvbih0KXt2YXIgaT10aGlzLmdldE5hbWVkSXRlbSh0KTtyZXR1cm4gcmUodGhpcy5fb3duZXJFbGVtZW50LHRoaXMsaSksaX0scmVtb3ZlTmFtZWRJdGVtTlM6ZnVuY3Rpb24odCxpKXt2YXIgYT10aGlzLmdldE5hbWVkSXRlbU5TKHQsaSk7cmV0dXJuIHJlKHRoaXMuX293bmVyRWxlbWVudCx0aGlzLGEpLGF9LGdldE5hbWVkSXRlbU5TOmZ1bmN0aW9uKHQsaSl7Zm9yKHZhciBhPXRoaXMubGVuZ3RoO2EtLTspe3ZhciBlPXRoaXNbYV07aWYoZS5sb2NhbE5hbWU9PWkmJmUubmFtZXNwYWNlVVJJPT10KXJldHVybiBlfXJldHVybiBudWxsfX07ZnVuY3Rpb24gaGUoKXt9aGUucHJvdG90eXBlPXtoYXNGZWF0dXJlOmZ1bmN0aW9uKHQsaSl7cmV0dXJuITB9LGNyZWF0ZURvY3VtZW50OmZ1bmN0aW9uKHQsaSxhKXt2YXIgZT1uZXcgZWk7aWYoZS5pbXBsZW1lbnRhdGlvbj10aGlzLGUuY2hpbGROb2Rlcz1uZXcgZnQsZS5kb2N0eXBlPWF8fG51bGwsYSYmZS5hcHBlbmRDaGlsZChhKSxpKXt2YXIgcz1lLmNyZWF0ZUVsZW1lbnROUyh0LGkpO2UuYXBwZW5kQ2hpbGQocyl9cmV0dXJuIGV9LGNyZWF0ZURvY3VtZW50VHlwZTpmdW5jdGlvbih0LGksYSl7dmFyIGU9bmV3IENpO3JldHVybiBlLm5hbWU9dCxlLm5vZGVOYW1lPXQsZS5wdWJsaWNJZD1pfHwiIixlLnN5c3RlbUlkPWF8fCIiLGV9fTtmdW5jdGlvbiBUKCl7fVQucHJvdG90eXBlPXtmaXJzdENoaWxkOm51bGwsbGFzdENoaWxkOm51bGwscHJldmlvdXNTaWJsaW5nOm51bGwsbmV4dFNpYmxpbmc6bnVsbCxhdHRyaWJ1dGVzOm51bGwscGFyZW50Tm9kZTpudWxsLGNoaWxkTm9kZXM6bnVsbCxvd25lckRvY3VtZW50Om51bGwsbm9kZVZhbHVlOm51bGwsbmFtZXNwYWNlVVJJOm51bGwscHJlZml4Om51bGwsbG9jYWxOYW1lOm51bGwsaW5zZXJ0QmVmb3JlOmZ1bmN0aW9uKHQsaSl7cmV0dXJuIHdpKHRoaXMsdCxpKX0scmVwbGFjZUNoaWxkOmZ1bmN0aW9uKHQsaSl7d2kodGhpcyx0LGksZGUpLGkmJnRoaXMucmVtb3ZlQ2hpbGQoaSl9LHJlbW92ZUNoaWxkOmZ1bmN0aW9uKHQpe3JldHVybiBsZSh0aGlzLHQpfSxhcHBlbmRDaGlsZDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pbnNlcnRCZWZvcmUodCxudWxsKX0saGFzQ2hpbGROb2RlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZpcnN0Q2hpbGQhPW51bGx9LGNsb25lTm9kZTpmdW5jdGlvbih0KXtyZXR1cm4gWmkodGhpcy5vd25lckRvY3VtZW50fHx0aGlzLHRoaXMsdCl9LG5vcm1hbGl6ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmZpcnN0Q2hpbGQ7dDspe3ZhciBpPXQubmV4dFNpYmxpbmc7aSYmaS5ub2RlVHlwZT09TmkmJnQubm9kZVR5cGU9PU5pPyh0aGlzLnJlbW92ZUNoaWxkKGkpLHQuYXBwZW5kRGF0YShpLmRhdGEpKToodC5ub3JtYWxpemUoKSx0PWkpfX0saXNTdXBwb3J0ZWQ6ZnVuY3Rpb24odCxpKXtyZXR1cm4gdGhpcy5vd25lckRvY3VtZW50LmltcGxlbWVudGF0aW9uLmhhc0ZlYXR1cmUodCxpKX0saGFzQXR0cmlidXRlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXMubGVuZ3RoPjB9LGxvb2t1cFByZWZpeDpmdW5jdGlvbih0KXtmb3IodmFyIGk9dGhpcztpOyl7dmFyIGE9aS5fbnNNYXA7aWYoYSl7Zm9yKHZhciBlIGluIGEpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsZSkmJmFbZV09PT10KXJldHVybiBlfWk9aS5ub2RlVHlwZT09UHQ/aS5vd25lckRvY3VtZW50OmkucGFyZW50Tm9kZX1yZXR1cm4gbnVsbH0sbG9va3VwTmFtZXNwYWNlVVJJOmZ1bmN0aW9uKHQpe2Zvcih2YXIgaT10aGlzO2k7KXt2YXIgYT1pLl9uc01hcDtpZihhJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSx0KSlyZXR1cm4gYVt0XTtpPWkubm9kZVR5cGU9PVB0P2kub3duZXJEb2N1bWVudDppLnBhcmVudE5vZGV9cmV0dXJuIG51bGx9LGlzRGVmYXVsdE5hbWVzcGFjZTpmdW5jdGlvbih0KXt2YXIgaT10aGlzLmxvb2t1cFByZWZpeCh0KTtyZXR1cm4gaT09bnVsbH19O2Z1bmN0aW9uIG9lKHQpe3JldHVybiB0PT0iPCImJiImbHQ7Inx8dD09Ij4iJiYiJmd0OyJ8fHQ9PSImIiYmIiZhbXA7Inx8dD09JyInJiYiJnF1b3Q7Inx8IiYjIit0LmNoYXJDb2RlQXQoKSsiOyJ9aWkoVixUKSxpaShWLFQucHJvdG90eXBlKTtmdW5jdGlvbiBhaSh0LGkpe2lmKGkodCkpcmV0dXJuITA7aWYodD10LmZpcnN0Q2hpbGQpZG8gaWYoYWkodCxpKSlyZXR1cm4hMDt3aGlsZSh0PXQubmV4dFNpYmxpbmcpfWZ1bmN0aW9uIGVpKCl7dGhpcy5vd25lckRvY3VtZW50PXRoaXN9ZnVuY3Rpb24gQ28odCxpLGEpe3QmJnQuX2luYysrO3ZhciBlPWEubmFtZXNwYWNlVVJJO2U9PT10aS5YTUxOUyYmKGkuX25zTWFwW2EucHJlZml4P2EubG9jYWxOYW1lOiIiXT1hLnZhbHVlKX1mdW5jdGlvbiB1ZSh0LGksYSxlKXt0JiZ0Ll9pbmMrKzt2YXIgcz1hLm5hbWVzcGFjZVVSSTtzPT09dGkuWE1MTlMmJmRlbGV0ZSBpLl9uc01hcFthLnByZWZpeD9hLmxvY2FsTmFtZToiIl19ZnVuY3Rpb24gUWkodCxpLGEpe2lmKHQmJnQuX2luYyl7dC5faW5jKys7dmFyIGU9aS5jaGlsZE5vZGVzO2lmKGEpZVtlLmxlbmd0aCsrXT1hO2Vsc2V7Zm9yKHZhciBzPWkuZmlyc3RDaGlsZCxuPTA7czspZVtuKytdPXMscz1zLm5leHRTaWJsaW5nO2UubGVuZ3RoPW4sZGVsZXRlIGVbZS5sZW5ndGhdfX19ZnVuY3Rpb24gbGUodCxpKXt2YXIgYT1pLnByZXZpb3VzU2libGluZyxlPWkubmV4dFNpYmxpbmc7cmV0dXJuIGE/YS5uZXh0U2libGluZz1lOnQuZmlyc3RDaGlsZD1lLGU/ZS5wcmV2aW91c1NpYmxpbmc9YTp0Lmxhc3RDaGlsZD1hLGkucGFyZW50Tm9kZT1udWxsLGkucHJldmlvdXNTaWJsaW5nPW51bGwsaS5uZXh0U2libGluZz1udWxsLFFpKHQub3duZXJEb2N1bWVudCx0KSxpfWZ1bmN0aW9uIFNvKHQpe3JldHVybiB0JiYodC5ub2RlVHlwZT09PVQuRE9DVU1FTlRfTk9ERXx8dC5ub2RlVHlwZT09PVQuRE9DVU1FTlRfRlJBR01FTlRfTk9ERXx8dC5ub2RlVHlwZT09PVQuRUxFTUVOVF9OT0RFKX1mdW5jdGlvbiBUbyh0KXtyZXR1cm4gdCYmKGh0KHQpfHxYaSh0KXx8ZHQodCl8fHQubm9kZVR5cGU9PT1ULkRPQ1VNRU5UX0ZSQUdNRU5UX05PREV8fHQubm9kZVR5cGU9PT1ULkNPTU1FTlRfTk9ERXx8dC5ub2RlVHlwZT09PVQuUFJPQ0VTU0lOR19JTlNUUlVDVElPTl9OT0RFKX1mdW5jdGlvbiBkdCh0KXtyZXR1cm4gdCYmdC5ub2RlVHlwZT09PVQuRE9DVU1FTlRfVFlQRV9OT0RFfWZ1bmN0aW9uIGh0KHQpe3JldHVybiB0JiZ0Lm5vZGVUeXBlPT09VC5FTEVNRU5UX05PREV9ZnVuY3Rpb24gWGkodCl7cmV0dXJuIHQmJnQubm9kZVR5cGU9PT1ULlRFWFRfTk9ERX1mdW5jdGlvbiBjZSh0LGkpe3ZhciBhPXQuY2hpbGROb2Rlc3x8W107aWYocnQoYSxodCl8fGR0KGkpKXJldHVybiExO3ZhciBlPXJ0KGEsZHQpO3JldHVybiEoaSYmZSYmYS5pbmRleE9mKGUpPmEuaW5kZXhPZihpKSl9ZnVuY3Rpb24gZmUodCxpKXt2YXIgYT10LmNoaWxkTm9kZXN8fFtdO2Z1bmN0aW9uIGUobil7cmV0dXJuIGh0KG4pJiZuIT09aX1pZihydChhLGUpKXJldHVybiExO3ZhciBzPXJ0KGEsZHQpO3JldHVybiEoaSYmcyYmYS5pbmRleE9mKHMpPmEuaW5kZXhPZihpKSl9ZnVuY3Rpb24gT28odCxpLGEpe2lmKCFTbyh0KSl0aHJvdyBuZXcgayhKLCJVbmV4cGVjdGVkIHBhcmVudCBub2RlIHR5cGUgIit0Lm5vZGVUeXBlKTtpZihhJiZhLnBhcmVudE5vZGUhPT10KXRocm93IG5ldyBrKGFlLCJjaGlsZCBub3QgaW4gcGFyZW50Iik7aWYoIVRvKGkpfHxkdChpKSYmdC5ub2RlVHlwZSE9PVQuRE9DVU1FTlRfTk9ERSl0aHJvdyBuZXcgayhKLCJVbmV4cGVjdGVkIG5vZGUgdHlwZSAiK2kubm9kZVR5cGUrIiBmb3IgcGFyZW50IG5vZGUgdHlwZSAiK3Qubm9kZVR5cGUpfWZ1bmN0aW9uIElvKHQsaSxhKXt2YXIgZT10LmNoaWxkTm9kZXN8fFtdLHM9aS5jaGlsZE5vZGVzfHxbXTtpZihpLm5vZGVUeXBlPT09VC5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFKXt2YXIgbj1zLmZpbHRlcihodCk7aWYobi5sZW5ndGg+MXx8cnQocyxYaSkpdGhyb3cgbmV3IGsoSiwiTW9yZSB0aGFuIG9uZSBlbGVtZW50IG9yIHRleHQgaW4gZnJhZ21lbnQiKTtpZihuLmxlbmd0aD09PTEmJiFjZSh0LGEpKXRocm93IG5ldyBrKEosIkVsZW1lbnQgaW4gZnJhZ21lbnQgY2FuIG5vdCBiZSBpbnNlcnRlZCBiZWZvcmUgZG9jdHlwZSIpfWlmKGh0KGkpJiYhY2UodCxhKSl0aHJvdyBuZXcgayhKLCJPbmx5IG9uZSBlbGVtZW50IGNhbiBiZSBhZGRlZCBhbmQgb25seSBhZnRlciBkb2N0eXBlIik7aWYoZHQoaSkpe2lmKHJ0KGUsZHQpKXRocm93IG5ldyBrKEosIk9ubHkgb25lIGRvY3R5cGUgaXMgYWxsb3dlZCIpO3ZhciBoPXJ0KGUsaHQpO2lmKGEmJmUuaW5kZXhPZihoKTxlLmluZGV4T2YoYSkpdGhyb3cgbmV3IGsoSiwiRG9jdHlwZSBjYW4gb25seSBiZSBpbnNlcnRlZCBiZWZvcmUgYW4gZWxlbWVudCIpO2lmKCFhJiZoKXRocm93IG5ldyBrKEosIkRvY3R5cGUgY2FuIG5vdCBiZSBhcHBlbmRlZCBzaW5jZSBlbGVtZW50IGlzIHByZXNlbnQiKX19ZnVuY3Rpb24gZGUodCxpLGEpe3ZhciBlPXQuY2hpbGROb2Rlc3x8W10scz1pLmNoaWxkTm9kZXN8fFtdO2lmKGkubm9kZVR5cGU9PT1ULkRPQ1VNRU5UX0ZSQUdNRU5UX05PREUpe3ZhciBuPXMuZmlsdGVyKGh0KTtpZihuLmxlbmd0aD4xfHxydChzLFhpKSl0aHJvdyBuZXcgayhKLCJNb3JlIHRoYW4gb25lIGVsZW1lbnQgb3IgdGV4dCBpbiBmcmFnbWVudCIpO2lmKG4ubGVuZ3RoPT09MSYmIWZlKHQsYSkpdGhyb3cgbmV3IGsoSiwiRWxlbWVudCBpbiBmcmFnbWVudCBjYW4gbm90IGJlIGluc2VydGVkIGJlZm9yZSBkb2N0eXBlIil9aWYoaHQoaSkmJiFmZSh0LGEpKXRocm93IG5ldyBrKEosIk9ubHkgb25lIGVsZW1lbnQgY2FuIGJlIGFkZGVkIGFuZCBvbmx5IGFmdGVyIGRvY3R5cGUiKTtpZihkdChpKSl7aWYocnQoZSxmdW5jdGlvbihvKXtyZXR1cm4gZHQobykmJm8hPT1hfSkpdGhyb3cgbmV3IGsoSiwiT25seSBvbmUgZG9jdHlwZSBpcyBhbGxvd2VkIik7dmFyIGg9cnQoZSxodCk7aWYoYSYmZS5pbmRleE9mKGgpPGUuaW5kZXhPZihhKSl0aHJvdyBuZXcgayhKLCJEb2N0eXBlIGNhbiBvbmx5IGJlIGluc2VydGVkIGJlZm9yZSBhbiBlbGVtZW50Iil9fWZ1bmN0aW9uIHdpKHQsaSxhLGUpe09vKHQsaSxhKSx0Lm5vZGVUeXBlPT09VC5ET0NVTUVOVF9OT0RFJiYoZXx8SW8pKHQsaSxhKTt2YXIgcz1pLnBhcmVudE5vZGU7aWYocyYmcy5yZW1vdmVDaGlsZChpKSxpLm5vZGVUeXBlPT09Y3Qpe3ZhciBuPWkuZmlyc3RDaGlsZDtpZihuPT1udWxsKXJldHVybiBpO3ZhciBoPWkubGFzdENoaWxkfWVsc2Ugbj1oPWk7dmFyIHI9YT9hLnByZXZpb3VzU2libGluZzp0Lmxhc3RDaGlsZDtuLnByZXZpb3VzU2libGluZz1yLGgubmV4dFNpYmxpbmc9YSxyP3IubmV4dFNpYmxpbmc9bjp0LmZpcnN0Q2hpbGQ9bixhPT1udWxsP3QubGFzdENoaWxkPWg6YS5wcmV2aW91c1NpYmxpbmc9aDtkbyBuLnBhcmVudE5vZGU9dDt3aGlsZShuIT09aCYmKG49bi5uZXh0U2libGluZykpO3JldHVybiBRaSh0Lm93bmVyRG9jdW1lbnR8fHQsdCksaS5ub2RlVHlwZT09Y3QmJihpLmZpcnN0Q2hpbGQ9aS5sYXN0Q2hpbGQ9bnVsbCksaX1mdW5jdGlvbiBEbyh0LGkpe3JldHVybiBpLnBhcmVudE5vZGUmJmkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpKSxpLnBhcmVudE5vZGU9dCxpLnByZXZpb3VzU2libGluZz10Lmxhc3RDaGlsZCxpLm5leHRTaWJsaW5nPW51bGwsaS5wcmV2aW91c1NpYmxpbmc/aS5wcmV2aW91c1NpYmxpbmcubmV4dFNpYmxpbmc9aTp0LmZpcnN0Q2hpbGQ9aSx0Lmxhc3RDaGlsZD1pLFFpKHQub3duZXJEb2N1bWVudCx0LGkpLGl9ZWkucHJvdG90eXBlPXtub2RlTmFtZToiI2RvY3VtZW50Iixub2RlVHlwZTp0ZSxkb2N0eXBlOm51bGwsZG9jdW1lbnRFbGVtZW50Om51bGwsX2luYzoxLGluc2VydEJlZm9yZTpmdW5jdGlvbih0LGkpe2lmKHQubm9kZVR5cGU9PWN0KXtmb3IodmFyIGE9dC5maXJzdENoaWxkO2E7KXt2YXIgZT1hLm5leHRTaWJsaW5nO3RoaXMuaW5zZXJ0QmVmb3JlKGEsaSksYT1lfXJldHVybiB0fXJldHVybiB3aSh0aGlzLHQsaSksdC5vd25lckRvY3VtZW50PXRoaXMsdGhpcy5kb2N1bWVudEVsZW1lbnQ9PT1udWxsJiZ0Lm5vZGVUeXBlPT09aXQmJih0aGlzLmRvY3VtZW50RWxlbWVudD10KSx0fSxyZW1vdmVDaGlsZDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kb2N1bWVudEVsZW1lbnQ9PXQmJih0aGlzLmRvY3VtZW50RWxlbWVudD1udWxsKSxsZSh0aGlzLHQpfSxyZXBsYWNlQ2hpbGQ6ZnVuY3Rpb24odCxpKXt3aSh0aGlzLHQsaSxkZSksdC5vd25lckRvY3VtZW50PXRoaXMsaSYmdGhpcy5yZW1vdmVDaGlsZChpKSxodCh0KSYmKHRoaXMuZG9jdW1lbnRFbGVtZW50PXQpfSxpbXBvcnROb2RlOmZ1bmN0aW9uKHQsaSl7cmV0dXJuIHhlKHRoaXMsdCxpKX0sZ2V0RWxlbWVudEJ5SWQ6ZnVuY3Rpb24odCl7dmFyIGk9bnVsbDtyZXR1cm4gYWkodGhpcy5kb2N1bWVudEVsZW1lbnQsZnVuY3Rpb24oYSl7aWYoYS5ub2RlVHlwZT09aXQmJmEuZ2V0QXR0cmlidXRlKCJpZCIpPT10KXJldHVybiBpPWEsITB9KSxpfSxnZXRFbGVtZW50c0J5Q2xhc3NOYW1lOmZ1bmN0aW9uKHQpe3ZhciBpPUphKHQpO3JldHVybiBuZXcgUnQodGhpcyxmdW5jdGlvbihhKXt2YXIgZT1bXTtyZXR1cm4gaS5sZW5ndGg+MCYmYWkoYS5kb2N1bWVudEVsZW1lbnQsZnVuY3Rpb24ocyl7aWYocyE9PWEmJnMubm9kZVR5cGU9PT1pdCl7dmFyIG49cy5nZXRBdHRyaWJ1dGUoImNsYXNzIik7aWYobil7dmFyIGg9dD09PW47aWYoIWgpe3ZhciByPUphKG4pO2g9aS5ldmVyeShFbyhyKSl9aCYmZS5wdXNoKHMpfX19KSxlfSl9LGNyZWF0ZUVsZW1lbnQ6ZnVuY3Rpb24odCl7dmFyIGk9bmV3IHZ0O2kub3duZXJEb2N1bWVudD10aGlzLGkubm9kZU5hbWU9dCxpLnRhZ05hbWU9dCxpLmxvY2FsTmFtZT10LGkuY2hpbGROb2Rlcz1uZXcgZnQ7dmFyIGE9aS5hdHRyaWJ1dGVzPW5ldyBFaTtyZXR1cm4gYS5fb3duZXJFbGVtZW50PWksaX0sY3JlYXRlRG9jdW1lbnRGcmFnbWVudDpmdW5jdGlvbigpe3ZhciB0PW5ldyBTaTtyZXR1cm4gdC5vd25lckRvY3VtZW50PXRoaXMsdC5jaGlsZE5vZGVzPW5ldyBmdCx0fSxjcmVhdGVUZXh0Tm9kZTpmdW5jdGlvbih0KXt2YXIgaT1uZXcgV2k7cmV0dXJuIGkub3duZXJEb2N1bWVudD10aGlzLGkuYXBwZW5kRGF0YSh0KSxpfSxjcmVhdGVDb21tZW50OmZ1bmN0aW9uKHQpe3ZhciBpPW5ldyBWaTtyZXR1cm4gaS5vd25lckRvY3VtZW50PXRoaXMsaS5hcHBlbmREYXRhKHQpLGl9LGNyZWF0ZUNEQVRBU2VjdGlvbjpmdW5jdGlvbih0KXt2YXIgaT1uZXcgSmk7cmV0dXJuIGkub3duZXJEb2N1bWVudD10aGlzLGkuYXBwZW5kRGF0YSh0KSxpfSxjcmVhdGVQcm9jZXNzaW5nSW5zdHJ1Y3Rpb246ZnVuY3Rpb24odCxpKXt2YXIgYT1uZXcgJGk7cmV0dXJuIGEub3duZXJEb2N1bWVudD10aGlzLGEudGFnTmFtZT1hLnRhcmdldD10LGEubm9kZVZhbHVlPWEuZGF0YT1pLGF9LGNyZWF0ZUF0dHJpYnV0ZTpmdW5jdGlvbih0KXt2YXIgaT1uZXcgQWk7cmV0dXJuIGkub3duZXJEb2N1bWVudD10aGlzLGkubmFtZT10LGkubm9kZU5hbWU9dCxpLmxvY2FsTmFtZT10LGkuc3BlY2lmaWVkPSEwLGl9LGNyZWF0ZUVudGl0eVJlZmVyZW5jZTpmdW5jdGlvbih0KXt2YXIgaT1uZXcgS2k7cmV0dXJuIGkub3duZXJEb2N1bWVudD10aGlzLGkubm9kZU5hbWU9dCxpfSxjcmVhdGVFbGVtZW50TlM6ZnVuY3Rpb24odCxpKXt2YXIgYT1uZXcgdnQsZT1pLnNwbGl0KCI6Iikscz1hLmF0dHJpYnV0ZXM9bmV3IEVpO3JldHVybiBhLmNoaWxkTm9kZXM9bmV3IGZ0LGEub3duZXJEb2N1bWVudD10aGlzLGEubm9kZU5hbWU9aSxhLnRhZ05hbWU9aSxhLm5hbWVzcGFjZVVSST10LGUubGVuZ3RoPT0yPyhhLnByZWZpeD1lWzBdLGEubG9jYWxOYW1lPWVbMV0pOmEubG9jYWxOYW1lPWkscy5fb3duZXJFbGVtZW50PWEsYX0sY3JlYXRlQXR0cmlidXRlTlM6ZnVuY3Rpb24odCxpKXt2YXIgYT1uZXcgQWksZT1pLnNwbGl0KCI6Iik7cmV0dXJuIGEub3duZXJEb2N1bWVudD10aGlzLGEubm9kZU5hbWU9aSxhLm5hbWU9aSxhLm5hbWVzcGFjZVVSST10LGEuc3BlY2lmaWVkPSEwLGUubGVuZ3RoPT0yPyhhLnByZWZpeD1lWzBdLGEubG9jYWxOYW1lPWVbMV0pOmEubG9jYWxOYW1lPWksYX19LFcoZWksVCk7ZnVuY3Rpb24gdnQoKXt0aGlzLl9uc01hcD17fX12dC5wcm90b3R5cGU9e25vZGVUeXBlOml0LGhhc0F0dHJpYnV0ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGVOb2RlKHQpIT1udWxsfSxnZXRBdHRyaWJ1dGU6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5nZXRBdHRyaWJ1dGVOb2RlKHQpO3JldHVybiBpJiZpLnZhbHVlfHwiIn0sZ2V0QXR0cmlidXRlTm9kZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbSh0KX0sc2V0QXR0cmlidXRlOmZ1bmN0aW9uKHQsaSl7dmFyIGE9dGhpcy5vd25lckRvY3VtZW50LmNyZWF0ZUF0dHJpYnV0ZSh0KTthLnZhbHVlPWEubm9kZVZhbHVlPSIiK2ksdGhpcy5zZXRBdHRyaWJ1dGVOb2RlKGEpfSxyZW1vdmVBdHRyaWJ1dGU6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5nZXRBdHRyaWJ1dGVOb2RlKHQpO2kmJnRoaXMucmVtb3ZlQXR0cmlidXRlTm9kZShpKX0sYXBwZW5kQ2hpbGQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQubm9kZVR5cGU9PT1jdD90aGlzLmluc2VydEJlZm9yZSh0LG51bGwpOkRvKHRoaXMsdCl9LHNldEF0dHJpYnV0ZU5vZGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYXR0cmlidXRlcy5zZXROYW1lZEl0ZW0odCl9LHNldEF0dHJpYnV0ZU5vZGVOUzpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzLnNldE5hbWVkSXRlbU5TKHQpfSxyZW1vdmVBdHRyaWJ1dGVOb2RlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXMucmVtb3ZlTmFtZWRJdGVtKHQubm9kZU5hbWUpfSxyZW1vdmVBdHRyaWJ1dGVOUzpmdW5jdGlvbih0LGkpe3ZhciBhPXRoaXMuZ2V0QXR0cmlidXRlTm9kZU5TKHQsaSk7YSYmdGhpcy5yZW1vdmVBdHRyaWJ1dGVOb2RlKGEpfSxoYXNBdHRyaWJ1dGVOUzpmdW5jdGlvbih0LGkpe3JldHVybiB0aGlzLmdldEF0dHJpYnV0ZU5vZGVOUyh0LGkpIT1udWxsfSxnZXRBdHRyaWJ1dGVOUzpmdW5jdGlvbih0LGkpe3ZhciBhPXRoaXMuZ2V0QXR0cmlidXRlTm9kZU5TKHQsaSk7cmV0dXJuIGEmJmEudmFsdWV8fCIifSxzZXRBdHRyaWJ1dGVOUzpmdW5jdGlvbih0LGksYSl7dmFyIGU9dGhpcy5vd25lckRvY3VtZW50LmNyZWF0ZUF0dHJpYnV0ZU5TKHQsaSk7ZS52YWx1ZT1lLm5vZGVWYWx1ZT0iIithLHRoaXMuc2V0QXR0cmlidXRlTm9kZShlKX0sZ2V0QXR0cmlidXRlTm9kZU5TOmZ1bmN0aW9uKHQsaSl7cmV0dXJuIHRoaXMuYXR0cmlidXRlcy5nZXROYW1lZEl0ZW1OUyh0LGkpfSxnZXRFbGVtZW50c0J5VGFnTmFtZTpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IFJ0KHRoaXMsZnVuY3Rpb24oaSl7dmFyIGE9W107cmV0dXJuIGFpKGksZnVuY3Rpb24oZSl7ZSE9PWkmJmUubm9kZVR5cGU9PWl0JiYodD09PSIqInx8ZS50YWdOYW1lPT10KSYmYS5wdXNoKGUpfSksYX0pfSxnZXRFbGVtZW50c0J5VGFnTmFtZU5TOmZ1bmN0aW9uKHQsaSl7cmV0dXJuIG5ldyBSdCh0aGlzLGZ1bmN0aW9uKGEpe3ZhciBlPVtdO3JldHVybiBhaShhLGZ1bmN0aW9uKHMpe3MhPT1hJiZzLm5vZGVUeXBlPT09aXQmJih0PT09IioifHxzLm5hbWVzcGFjZVVSST09PXQpJiYoaT09PSIqInx8cy5sb2NhbE5hbWU9PWkpJiZlLnB1c2gocyl9KSxlfSl9fSxlaS5wcm90b3R5cGUuZ2V0RWxlbWVudHNCeVRhZ05hbWU9dnQucHJvdG90eXBlLmdldEVsZW1lbnRzQnlUYWdOYW1lLGVpLnByb3RvdHlwZS5nZXRFbGVtZW50c0J5VGFnTmFtZU5TPXZ0LnByb3RvdHlwZS5nZXRFbGVtZW50c0J5VGFnTmFtZU5TLFcodnQsVCk7ZnVuY3Rpb24gQWkoKXt9QWkucHJvdG90eXBlLm5vZGVUeXBlPVB0LFcoQWksVCk7ZnVuY3Rpb24gc2koKXt9c2kucHJvdG90eXBlPXtkYXRhOiIiLHN1YnN0cmluZ0RhdGE6ZnVuY3Rpb24odCxpKXtyZXR1cm4gdGhpcy5kYXRhLnN1YnN0cmluZyh0LHQraSl9LGFwcGVuZERhdGE6ZnVuY3Rpb24odCl7dD10aGlzLmRhdGErdCx0aGlzLm5vZGVWYWx1ZT10aGlzLmRhdGE9dCx0aGlzLmxlbmd0aD10Lmxlbmd0aH0saW5zZXJ0RGF0YTpmdW5jdGlvbih0LGkpe3RoaXMucmVwbGFjZURhdGEodCwwLGkpfSxhcHBlbmRDaGlsZDpmdW5jdGlvbih0KXt0aHJvdyBuZXcgRXJyb3IoTFtKXSl9LGRlbGV0ZURhdGE6ZnVuY3Rpb24odCxpKXt0aGlzLnJlcGxhY2VEYXRhKHQsaSwiIil9LHJlcGxhY2VEYXRhOmZ1bmN0aW9uKHQsaSxhKXt2YXIgZT10aGlzLmRhdGEuc3Vic3RyaW5nKDAsdCkscz10aGlzLmRhdGEuc3Vic3RyaW5nKHQraSk7YT1lK2Ercyx0aGlzLm5vZGVWYWx1ZT10aGlzLmRhdGE9YSx0aGlzLmxlbmd0aD1hLmxlbmd0aH19LFcoc2ksVCk7ZnVuY3Rpb24gV2koKXt9V2kucHJvdG90eXBlPXtub2RlTmFtZToiI3RleHQiLG5vZGVUeXBlOk5pLHNwbGl0VGV4dDpmdW5jdGlvbih0KXt2YXIgaT10aGlzLmRhdGEsYT1pLnN1YnN0cmluZyh0KTtpPWkuc3Vic3RyaW5nKDAsdCksdGhpcy5kYXRhPXRoaXMubm9kZVZhbHVlPWksdGhpcy5sZW5ndGg9aS5sZW5ndGg7dmFyIGU9dGhpcy5vd25lckRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGEpO3JldHVybiB0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzLm5leHRTaWJsaW5nKSxlfX0sVyhXaSxzaSk7ZnVuY3Rpb24gVmkoKXt9VmkucHJvdG90eXBlPXtub2RlTmFtZToiI2NvbW1lbnQiLG5vZGVUeXBlOlphfSxXKFZpLHNpKTtmdW5jdGlvbiBKaSgpe31KaS5wcm90b3R5cGU9e25vZGVOYW1lOiIjY2RhdGEtc2VjdGlvbiIsbm9kZVR5cGU6S2F9LFcoSmksc2kpO2Z1bmN0aW9uIENpKCl7fUNpLnByb3RvdHlwZS5ub2RlVHlwZT1pZSxXKENpLFQpO2Z1bmN0aW9uIHBlKCl7fXBlLnByb3RvdHlwZS5ub2RlVHlwZT1BbyxXKHBlLFQpO2Z1bmN0aW9uIG1lKCl7fW1lLnByb3RvdHlwZS5ub2RlVHlwZT13byxXKG1lLFQpO2Z1bmN0aW9uIEtpKCl7fUtpLnByb3RvdHlwZS5ub2RlVHlwZT0kYSxXKEtpLFQpO2Z1bmN0aW9uIFNpKCl7fVNpLnByb3RvdHlwZS5ub2RlTmFtZT0iI2RvY3VtZW50LWZyYWdtZW50IixTaS5wcm90b3R5cGUubm9kZVR5cGU9Y3QsVyhTaSxUKTtmdW5jdGlvbiAkaSgpe30kaS5wcm90b3R5cGUubm9kZVR5cGU9WWEsVygkaSxUKTtmdW5jdGlvbiBNZSgpe31NZS5wcm90b3R5cGUuc2VyaWFsaXplVG9TdHJpbmc9ZnVuY3Rpb24odCxpLGEpe3JldHVybiB5ZS5jYWxsKHQsaSxhKX0sVC5wcm90b3R5cGUudG9TdHJpbmc9eWU7ZnVuY3Rpb24geWUodCxpKXt2YXIgYT1bXSxlPXRoaXMubm9kZVR5cGU9PTkmJnRoaXMuZG9jdW1lbnRFbGVtZW50fHx0aGlzLHM9ZS5wcmVmaXgsbj1lLm5hbWVzcGFjZVVSSTtpZihuJiZzPT1udWxsKXt2YXIgcz1lLmxvb2t1cFByZWZpeChuKTtpZihzPT1udWxsKXZhciBoPVt7bmFtZXNwYWNlOm4scHJlZml4Om51bGx9XX1yZXR1cm4ga3QodGhpcyxhLHQsaSxoKSxhLmpvaW4oIiIpfWZ1bmN0aW9uIGdlKHQsaSxhKXt2YXIgZT10LnByZWZpeHx8IiIscz10Lm5hbWVzcGFjZVVSSTtpZighc3x8ZT09PSJ4bWwiJiZzPT09dGkuWE1MfHxzPT09dGkuWE1MTlMpcmV0dXJuITE7Zm9yKHZhciBuPWEubGVuZ3RoO24tLTspe3ZhciBoPWFbbl07aWYoaC5wcmVmaXg9PT1lKXJldHVybiBoLm5hbWVzcGFjZSE9PXN9cmV0dXJuITB9ZnVuY3Rpb24gWWkodCxpLGEpe3QucHVzaCgiICIsaSwnPSInLGEucmVwbGFjZSgvWzw+JiJcdFxuXHJdL2csb2UpLCciJyl9ZnVuY3Rpb24ga3QodCxpLGEsZSxzKXtpZihzfHwocz1bXSksZSlpZih0PWUodCksdCl7aWYodHlwZW9mIHQ9PSJzdHJpbmciKXtpLnB1c2godCk7cmV0dXJufX1lbHNlIHJldHVybjtzd2l0Y2godC5ub2RlVHlwZSl7Y2FzZSBpdDp2YXIgbj10LmF0dHJpYnV0ZXMsaD1uLmxlbmd0aCxyPXQuZmlyc3RDaGlsZCxvPXQudGFnTmFtZTthPXRpLmlzSFRNTCh0Lm5hbWVzcGFjZVVSSSl8fGE7dmFyIHU9bztpZighYSYmIXQucHJlZml4JiZ0Lm5hbWVzcGFjZVVSSSl7Zm9yKHZhciBsLGM9MDtjPG4ubGVuZ3RoO2MrKylpZihuLml0ZW0oYykubmFtZT09PSJ4bWxucyIpe2w9bi5pdGVtKGMpLnZhbHVlO2JyZWFrfWlmKCFsKWZvcih2YXIgZj1zLmxlbmd0aC0xO2Y+PTA7Zi0tKXt2YXIgcD1zW2ZdO2lmKHAucHJlZml4PT09IiImJnAubmFtZXNwYWNlPT09dC5uYW1lc3BhY2VVUkkpe2w9cC5uYW1lc3BhY2U7YnJlYWt9fWlmKGwhPT10Lm5hbWVzcGFjZVVSSSlmb3IodmFyIGY9cy5sZW5ndGgtMTtmPj0wO2YtLSl7dmFyIHA9c1tmXTtpZihwLm5hbWVzcGFjZT09PXQubmFtZXNwYWNlVVJJKXtwLnByZWZpeCYmKHU9cC5wcmVmaXgrIjoiK28pO2JyZWFrfX19aS5wdXNoKCI8Iix1KTtmb3IodmFyIG09MDttPGg7bSsrKXt2YXIgZD1uLml0ZW0obSk7ZC5wcmVmaXg9PSJ4bWxucyI/cy5wdXNoKHtwcmVmaXg6ZC5sb2NhbE5hbWUsbmFtZXNwYWNlOmQudmFsdWV9KTpkLm5vZGVOYW1lPT0ieG1sbnMiJiZzLnB1c2goe3ByZWZpeDoiIixuYW1lc3BhY2U6ZC52YWx1ZX0pfWZvcih2YXIgbT0wO208aDttKyspe3ZhciBkPW4uaXRlbShtKTtpZihnZShkLGEscykpe3ZhciBNPWQucHJlZml4fHwiIixnPWQubmFtZXNwYWNlVVJJO1lpKGksTT8ieG1sbnM6IitNOiJ4bWxucyIsZykscy5wdXNoKHtwcmVmaXg6TSxuYW1lc3BhY2U6Z30pfWt0KGQsaSxhLGUscyl9aWYobz09PXUmJmdlKHQsYSxzKSl7dmFyIE09dC5wcmVmaXh8fCIiLGc9dC5uYW1lc3BhY2VVUkk7WWkoaSxNPyJ4bWxuczoiK006InhtbG5zIixnKSxzLnB1c2goe3ByZWZpeDpNLG5hbWVzcGFjZTpnfSl9aWYocnx8YSYmIS9eKD86bWV0YXxsaW5rfGltZ3xicnxocnxpbnB1dCkkL2kudGVzdChvKSl7aWYoaS5wdXNoKCI+IiksYSYmL15zY3JpcHQkL2kudGVzdChvKSlmb3IoO3I7KXIuZGF0YT9pLnB1c2goci5kYXRhKTprdChyLGksYSxlLHMuc2xpY2UoKSkscj1yLm5leHRTaWJsaW5nO2Vsc2UgZm9yKDtyOylrdChyLGksYSxlLHMuc2xpY2UoKSkscj1yLm5leHRTaWJsaW5nO2kucHVzaCgiPC8iLHUsIj4iKX1lbHNlIGkucHVzaCgiLz4iKTtyZXR1cm47Y2FzZSB0ZTpjYXNlIGN0OmZvcih2YXIgcj10LmZpcnN0Q2hpbGQ7cjspa3QocixpLGEsZSxzLnNsaWNlKCkpLHI9ci5uZXh0U2libGluZztyZXR1cm47Y2FzZSBQdDpyZXR1cm4gWWkoaSx0Lm5hbWUsdC52YWx1ZSk7Y2FzZSBOaTpyZXR1cm4gaS5wdXNoKHQuZGF0YS5yZXBsYWNlKC9bPCY+XS9nLG9lKSk7Y2FzZSBLYTpyZXR1cm4gaS5wdXNoKCI8IVtDREFUQVsiLHQuZGF0YSwiXV0+Iik7Y2FzZSBaYTpyZXR1cm4gaS5wdXNoKCI8IS0tIix0LmRhdGEsIi0tPiIpO2Nhc2UgaWU6dmFyIF89dC5wdWJsaWNJZCxiPXQuc3lzdGVtSWQ7aWYoaS5wdXNoKCI8IURPQ1RZUEUgIix0Lm5hbWUpLF8paS5wdXNoKCIgUFVCTElDICIsXyksYiYmYiE9Ii4iJiZpLnB1c2goIiAiLGIpLGkucHVzaCgiPiIpO2Vsc2UgaWYoYiYmYiE9Ii4iKWkucHVzaCgiIFNZU1RFTSAiLGIsIj4iKTtlbHNle3ZhciBFPXQuaW50ZXJuYWxTdWJzZXQ7RSYmaS5wdXNoKCIgWyIsRSwiXSIpLGkucHVzaCgiPiIpfXJldHVybjtjYXNlIFlhOnJldHVybiBpLnB1c2goIjw/Iix0LnRhcmdldCwiICIsdC5kYXRhLCI/PiIpO2Nhc2UgJGE6cmV0dXJuIGkucHVzaCgiJiIsdC5ub2RlTmFtZSwiOyIpO2RlZmF1bHQ6aS5wdXNoKCI/PyIsdC5ub2RlTmFtZSl9fWZ1bmN0aW9uIHhlKHQsaSxhKXt2YXIgZTtzd2l0Y2goaS5ub2RlVHlwZSl7Y2FzZSBpdDplPWkuY2xvbmVOb2RlKCExKSxlLm93bmVyRG9jdW1lbnQ9dDtjYXNlIGN0OmJyZWFrO2Nhc2UgUHQ6YT0hMDticmVha31pZihlfHwoZT1pLmNsb25lTm9kZSghMSkpLGUub3duZXJEb2N1bWVudD10LGUucGFyZW50Tm9kZT1udWxsLGEpZm9yKHZhciBzPWkuZmlyc3RDaGlsZDtzOyllLmFwcGVuZENoaWxkKHhlKHQscyxhKSkscz1zLm5leHRTaWJsaW5nO3JldHVybiBlfWZ1bmN0aW9uIFppKHQsaSxhKXt2YXIgZT1uZXcgaS5jb25zdHJ1Y3Rvcjtmb3IodmFyIHMgaW4gaSlpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaSxzKSl7dmFyIG49aVtzXTt0eXBlb2YgbiE9Im9iamVjdCImJm4hPWVbc10mJihlW3NdPW4pfXN3aXRjaChpLmNoaWxkTm9kZXMmJihlLmNoaWxkTm9kZXM9bmV3IGZ0KSxlLm93bmVyRG9jdW1lbnQ9dCxlLm5vZGVUeXBlKXtjYXNlIGl0OnZhciBoPWkuYXR0cmlidXRlcyxyPWUuYXR0cmlidXRlcz1uZXcgRWksbz1oLmxlbmd0aDtyLl9vd25lckVsZW1lbnQ9ZTtmb3IodmFyIHU9MDt1PG87dSsrKWUuc2V0QXR0cmlidXRlTm9kZShaaSh0LGguaXRlbSh1KSwhMCkpO2JyZWFrO2Nhc2UgUHQ6YT0hMH1pZihhKWZvcih2YXIgbD1pLmZpcnN0Q2hpbGQ7bDspZS5hcHBlbmRDaGlsZChaaSh0LGwsYSkpLGw9bC5uZXh0U2libGluZztyZXR1cm4gZX1mdW5jdGlvbiBfZSh0LGksYSl7dFtpXT1hfXRyeXtpZihPYmplY3QuZGVmaW5lUHJvcGVydHkpe2xldCB0PWZ1bmN0aW9uKGkpe3N3aXRjaChpLm5vZGVUeXBlKXtjYXNlIGl0OmNhc2UgY3Q6dmFyIGE9W107Zm9yKGk9aS5maXJzdENoaWxkO2k7KWkubm9kZVR5cGUhPT03JiZpLm5vZGVUeXBlIT09OCYmYS5wdXNoKHQoaSkpLGk9aS5uZXh0U2libGluZztyZXR1cm4gYS5qb2luKCIiKTtkZWZhdWx0OnJldHVybiBpLm5vZGVWYWx1ZX19O3ZhciBZbz10O09iamVjdC5kZWZpbmVQcm9wZXJ0eShSdC5wcm90b3R5cGUsImxlbmd0aCIse2dldDpmdW5jdGlvbigpe3JldHVybiBIaSh0aGlzKSx0aGlzLiQkbGVuZ3RofX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShULnByb3RvdHlwZSwidGV4dENvbnRlbnQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdCh0aGlzKX0sc2V0OmZ1bmN0aW9uKGkpe3N3aXRjaCh0aGlzLm5vZGVUeXBlKXtjYXNlIGl0OmNhc2UgY3Q6Zm9yKDt0aGlzLmZpcnN0Q2hpbGQ7KXRoaXMucmVtb3ZlQ2hpbGQodGhpcy5maXJzdENoaWxkKTsoaXx8U3RyaW5nKGkpKSYmdGhpcy5hcHBlbmRDaGlsZCh0aGlzLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoaSkpO2JyZWFrO2RlZmF1bHQ6dGhpcy5kYXRhPWksdGhpcy52YWx1ZT1pLHRoaXMubm9kZVZhbHVlPWl9fX0pLF9lPWZ1bmN0aW9uKGksYSxlKXtpWyIkJCIrYV09ZX19fWNhdGNoe315dC5Eb2N1bWVudFR5cGU9Q2kseXQuRE9NRXhjZXB0aW9uPWsseXQuRE9NSW1wbGVtZW50YXRpb249aGUseXQuRWxlbWVudD12dCx5dC5Ob2RlPVQseXQuTm9kZUxpc3Q9ZnQseXQuWE1MU2VyaWFsaXplcj1NZTt2YXIgVGk9e30sdmU9e307KGZ1bmN0aW9uKHQpe3ZhciBpPWx0LmZyZWV6ZTt0LlhNTF9FTlRJVElFUz1pKHthbXA6IiYiLGFwb3M6IiciLGd0OiI+IixsdDoiPCIscXVvdDonIid9KSx0LkhUTUxfRU5USVRJRVM9aSh7bHQ6IjwiLGd0OiI+IixhbXA6IiYiLHF1b3Q6JyInLGFwb3M6IiciLEFncmF2ZToiXHhDMCIsQWFjdXRlOiJceEMxIixBY2lyYzoiXHhDMiIsQXRpbGRlOiJceEMzIixBdW1sOiJceEM0IixBcmluZzoiXHhDNSIsQUVsaWc6Ilx4QzYiLENjZWRpbDoiXHhDNyIsRWdyYXZlOiJceEM4IixFYWN1dGU6Ilx4QzkiLEVjaXJjOiJceENBIixFdW1sOiJceENCIixJZ3JhdmU6Ilx4Q0MiLElhY3V0ZToiXHhDRCIsSWNpcmM6Ilx4Q0UiLEl1bWw6Ilx4Q0YiLEVUSDoiXHhEMCIsTnRpbGRlOiJceEQxIixPZ3JhdmU6Ilx4RDIiLE9hY3V0ZToiXHhEMyIsT2NpcmM6Ilx4RDQiLE90aWxkZToiXHhENSIsT3VtbDoiXHhENiIsT3NsYXNoOiJceEQ4IixVZ3JhdmU6Ilx4RDkiLFVhY3V0ZToiXHhEQSIsVWNpcmM6Ilx4REIiLFV1bWw6Ilx4REMiLFlhY3V0ZToiXHhERCIsVEhPUk46Ilx4REUiLHN6bGlnOiJceERGIixhZ3JhdmU6Ilx4RTAiLGFhY3V0ZToiXHhFMSIsYWNpcmM6Ilx4RTIiLGF0aWxkZToiXHhFMyIsYXVtbDoiXHhFNCIsYXJpbmc6Ilx4RTUiLGFlbGlnOiJceEU2IixjY2VkaWw6Ilx4RTciLGVncmF2ZToiXHhFOCIsZWFjdXRlOiJceEU5IixlY2lyYzoiXHhFQSIsZXVtbDoiXHhFQiIsaWdyYXZlOiJceEVDIixpYWN1dGU6Ilx4RUQiLGljaXJjOiJceEVFIixpdW1sOiJceEVGIixldGg6Ilx4RjAiLG50aWxkZToiXHhGMSIsb2dyYXZlOiJceEYyIixvYWN1dGU6Ilx4RjMiLG9jaXJjOiJceEY0IixvdGlsZGU6Ilx4RjUiLG91bWw6Ilx4RjYiLG9zbGFzaDoiXHhGOCIsdWdyYXZlOiJceEY5Iix1YWN1dGU6Ilx4RkEiLHVjaXJjOiJceEZCIix1dW1sOiJceEZDIix5YWN1dGU6Ilx4RkQiLHRob3JuOiJceEZFIix5dW1sOiJceEZGIixuYnNwOiJceEEwIixpZXhjbDoiXHhBMSIsY2VudDoiXHhBMiIscG91bmQ6Ilx4QTMiLGN1cnJlbjoiXHhBNCIseWVuOiJceEE1IixicnZiYXI6Ilx4QTYiLHNlY3Q6Ilx4QTciLHVtbDoiXHhBOCIsY29weToiXHhBOSIsb3JkZjoiXHhBQSIsbGFxdW86Ilx4QUIiLG5vdDoiXHhBQyIsc2h5OiJceEFEXHhBRCIscmVnOiJceEFFIixtYWNyOiJceEFGIixkZWc6Ilx4QjAiLHBsdXNtbjoiXHhCMSIsc3VwMjoiXHhCMiIsc3VwMzoiXHhCMyIsYWN1dGU6Ilx4QjQiLG1pY3JvOiJceEI1IixwYXJhOiJceEI2IixtaWRkb3Q6Ilx4QjciLGNlZGlsOiJceEI4IixzdXAxOiJceEI5IixvcmRtOiJceEJBIixyYXF1bzoiXHhCQiIsZnJhYzE0OiJceEJDIixmcmFjMTI6Ilx4QkQiLGZyYWMzNDoiXHhCRSIsaXF1ZXN0OiJceEJGIix0aW1lczoiXHhENyIsZGl2aWRlOiJceEY3Iixmb3JhbGw6Ilx1MjIwMCIscGFydDoiXHUyMjAyIixleGlzdDoiXHUyMjAzIixlbXB0eToiXHUyMjA1IixuYWJsYToiXHUyMjA3Iixpc2luOiJcdTIyMDgiLG5vdGluOiJcdTIyMDkiLG5pOiJcdTIyMEIiLHByb2Q6Ilx1MjIwRiIsc3VtOiJcdTIyMTEiLG1pbnVzOiJcdTIyMTIiLGxvd2FzdDoiXHUyMjE3IixyYWRpYzoiXHUyMjFBIixwcm9wOiJcdTIyMUQiLGluZmluOiJcdTIyMUUiLGFuZzoiXHUyMjIwIixhbmQ6Ilx1MjIyNyIsb3I6Ilx1MjIyOCIsY2FwOiJcdTIyMjkiLGN1cDoiXHUyMjJBIixpbnQ6Ilx1MjIyQiIsdGhlcmU0OiJcdTIyMzQiLHNpbToiXHUyMjNDIixjb25nOiJcdTIyNDUiLGFzeW1wOiJcdTIyNDgiLG5lOiJcdTIyNjAiLGVxdWl2OiJcdTIyNjEiLGxlOiJcdTIyNjQiLGdlOiJcdTIyNjUiLHN1YjoiXHUyMjgyIixzdXA6Ilx1MjI4MyIsbnN1YjoiXHUyMjg0IixzdWJlOiJcdTIyODYiLHN1cGU6Ilx1MjI4NyIsb3BsdXM6Ilx1MjI5NSIsb3RpbWVzOiJcdTIyOTciLHBlcnA6Ilx1MjJBNSIsc2RvdDoiXHUyMkM1IixBbHBoYToiXHUwMzkxIixCZXRhOiJcdTAzOTIiLEdhbW1hOiJcdTAzOTMiLERlbHRhOiJcdTAzOTQiLEVwc2lsb246Ilx1MDM5NSIsWmV0YToiXHUwMzk2IixFdGE6Ilx1MDM5NyIsVGhldGE6Ilx1MDM5OCIsSW90YToiXHUwMzk5IixLYXBwYToiXHUwMzlBIixMYW1iZGE6Ilx1MDM5QiIsTXU6Ilx1MDM5QyIsTnU6Ilx1MDM5RCIsWGk6Ilx1MDM5RSIsT21pY3JvbjoiXHUwMzlGIixQaToiXHUwM0EwIixSaG86Ilx1MDNBMSIsU2lnbWE6Ilx1MDNBMyIsVGF1OiJcdTAzQTQiLFVwc2lsb246Ilx1MDNBNSIsUGhpOiJcdTAzQTYiLENoaToiXHUwM0E3IixQc2k6Ilx1MDNBOCIsT21lZ2E6Ilx1MDNBOSIsYWxwaGE6Ilx1MDNCMSIsYmV0YToiXHUwM0IyIixnYW1tYToiXHUwM0IzIixkZWx0YToiXHUwM0I0IixlcHNpbG9uOiJcdTAzQjUiLHpldGE6Ilx1MDNCNiIsZXRhOiJcdTAzQjciLHRoZXRhOiJcdTAzQjgiLGlvdGE6Ilx1MDNCOSIsa2FwcGE6Ilx1MDNCQSIsbGFtYmRhOiJcdTAzQkIiLG11OiJcdTAzQkMiLG51OiJcdTAzQkQiLHhpOiJcdTAzQkUiLG9taWNyb246Ilx1MDNCRiIscGk6Ilx1MDNDMCIscmhvOiJcdTAzQzEiLHNpZ21hZjoiXHUwM0MyIixzaWdtYToiXHUwM0MzIix0YXU6Ilx1MDNDNCIsdXBzaWxvbjoiXHUwM0M1IixwaGk6Ilx1MDNDNiIsY2hpOiJcdTAzQzciLHBzaToiXHUwM0M4IixvbWVnYToiXHUwM0M5Iix0aGV0YXN5bToiXHUwM0QxIix1cHNpaDoiXHUwM0QyIixwaXY6Ilx1MDNENiIsT0VsaWc6Ilx1MDE1MiIsb2VsaWc6Ilx1MDE1MyIsU2Nhcm9uOiJcdTAxNjAiLHNjYXJvbjoiXHUwMTYxIixZdW1sOiJcdTAxNzgiLGZub2Y6Ilx1MDE5MiIsY2lyYzoiXHUwMkM2Iix0aWxkZToiXHUwMkRDIixlbnNwOiJcdTIwMDIiLGVtc3A6Ilx1MjAwMyIsdGhpbnNwOiJcdTIwMDkiLHp3bmo6Ilx1MjAwQyIsendqOiJcdTIwMEQiLGxybToiXHUyMDBFIixybG06Ilx1MjAwRiIsbmRhc2g6Ilx1MjAxMyIsbWRhc2g6Ilx1MjAxNCIsbHNxdW86Ilx1MjAxOCIscnNxdW86Ilx1MjAxOSIsc2JxdW86Ilx1MjAxQSIsbGRxdW86Ilx1MjAxQyIscmRxdW86Ilx1MjAxRCIsYmRxdW86Ilx1MjAxRSIsZGFnZ2VyOiJcdTIwMjAiLERhZ2dlcjoiXHUyMDIxIixidWxsOiJcdTIwMjIiLGhlbGxpcDoiXHUyMDI2IixwZXJtaWw6Ilx1MjAzMCIscHJpbWU6Ilx1MjAzMiIsUHJpbWU6Ilx1MjAzMyIsbHNhcXVvOiJcdTIwMzkiLHJzYXF1bzoiXHUyMDNBIixvbGluZToiXHUyMDNFIixldXJvOiJcdTIwQUMiLHRyYWRlOiJcdTIxMjIiLGxhcnI6Ilx1MjE5MCIsdWFycjoiXHUyMTkxIixyYXJyOiJcdTIxOTIiLGRhcnI6Ilx1MjE5MyIsaGFycjoiXHUyMTk0IixjcmFycjoiXHUyMUI1IixsY2VpbDoiXHUyMzA4IixyY2VpbDoiXHUyMzA5IixsZmxvb3I6Ilx1MjMwQSIscmZsb29yOiJcdTIzMEIiLGxvejoiXHUyNUNBIixzcGFkZXM6Ilx1MjY2MCIsY2x1YnM6Ilx1MjY2MyIsaGVhcnRzOiJcdTI2NjUiLGRpYW1zOiJcdTI2NjYifSksdC5lbnRpdHlNYXA9dC5IVE1MX0VOVElUSUVTfSkodmUpO3ZhciB0YT17fSxuaT1sdC5OQU1FU1BBQ0UsaWE9L1tBLVpfYS16XHhDMC1ceEQ2XHhEOC1ceEY2XHUwMEY4LVx1MDJGRlx1MDM3MC1cdTAzN0RcdTAzN0YtXHUxRkZGXHUyMDBDLVx1MjAwRFx1MjA3MC1cdTIxOEZcdTJDMDAtXHUyRkVGXHUzMDAxLVx1RDdGRlx1RjkwMC1cdUZEQ0ZcdUZERjAtXHVGRkZEXS8sYmU9bmV3IFJlZ0V4cCgiW1xcLVxcLjAtOSIraWEuc291cmNlLnNsaWNlKDEsLTEpKyJcXHUwMEI3XFx1MDMwMC1cXHUwMzZGXFx1MjAzRi1cXHUyMDQwXSIpLE5lPW5ldyBSZWdFeHAoIl4iK2lhLnNvdXJjZStiZS5zb3VyY2UrIiooPzo6IitpYS5zb3VyY2UrYmUuc291cmNlKyIqKT8kIikscmk9MCxndD0xLEJ0PTIsaGk9MyxxdD00LEx0PTUsb2k9NixPaT03O2Z1bmN0aW9uIEZ0KHQsaSl7dGhpcy5tZXNzYWdlPXQsdGhpcy5sb2NhdG9yPWksRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UmJkVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsRnQpfUZ0LnByb3RvdHlwZT1uZXcgRXJyb3IsRnQucHJvdG90eXBlLm5hbWU9RnQubmFtZTtmdW5jdGlvbiBFZSgpe31FZS5wcm90b3R5cGU9e3BhcnNlOmZ1bmN0aW9uKHQsaSxhKXt2YXIgZT10aGlzLmRvbUJ1aWxkZXI7ZS5zdGFydERvY3VtZW50KCksQ2UoaSxpPXt9KSxQbyh0LGksYSxlLHRoaXMuZXJyb3JIYW5kbGVyKSxlLmVuZERvY3VtZW50KCl9fTtmdW5jdGlvbiBQbyh0LGksYSxlLHMpe2Z1bmN0aW9uIG4oQil7aWYoQj42NTUzNSl7Qi09NjU1MzY7dmFyIFk9NTUyOTYrKEI+PjEwKSwkbz01NjMyMCsoQiYxMDIzKTtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShZLCRvKX1lbHNlIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKEIpfWZ1bmN0aW9uIGgoQil7dmFyIFk9Qi5zbGljZSgxLC0xKTtyZXR1cm4gT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSxZKT9hW1ldOlkuY2hhckF0KDApPT09IiMiP24ocGFyc2VJbnQoWS5zdWJzdHIoMSkucmVwbGFjZSgieCIsIjB4IikpKToocy5lcnJvcigiZW50aXR5IG5vdCBmb3VuZDoiK0IpLEIpfWZ1bmN0aW9uIHIoQil7aWYoQj5kKXt2YXIgWT10LnN1YnN0cmluZyhkLEIpLnJlcGxhY2UoLyYjP1x3KzsvZyxoKTtmJiZvKGQpLGUuY2hhcmFjdGVycyhZLDAsQi1kKSxkPUJ9fWZ1bmN0aW9uIG8oQixZKXtmb3IoO0I+PWwmJihZPWMuZXhlYyh0KSk7KXU9WS5pbmRleCxsPXUrWVswXS5sZW5ndGgsZi5saW5lTnVtYmVyKys7Zi5jb2x1bW5OdW1iZXI9Qi11KzF9Zm9yKHZhciB1PTAsbD0wLGM9Ly4qKD86XHJcbj98XG4pfC4qJC9nLGY9ZS5sb2NhdG9yLHA9W3tjdXJyZW50TlNNYXA6aX1dLG09e30sZD0wOzspe3RyeXt2YXIgTT10LmluZGV4T2YoIjwiLGQpO2lmKE08MCl7aWYoIXQuc3Vic3RyKGQpLm1hdGNoKC9eXHMqJC8pKXt2YXIgZz1lLmRvYyxfPWcuY3JlYXRlVGV4dE5vZGUodC5zdWJzdHIoZCkpO2cuYXBwZW5kQ2hpbGQoXyksZS5jdXJyZW50RWxlbWVudD1ffXJldHVybn1zd2l0Y2goTT5kJiZyKE0pLHQuY2hhckF0KE0rMSkpe2Nhc2UiLyI6dmFyIFA9dC5pbmRleE9mKCI+IixNKzMpLGI9dC5zdWJzdHJpbmcoTSsyLFApLnJlcGxhY2UoL1sgXHRcblxyXSskL2csIiIpLEU9cC5wb3AoKTtQPDA/KGI9dC5zdWJzdHJpbmcoTSsyKS5yZXBsYWNlKC9bXHM8XS4qLywiIikscy5lcnJvcigiZW5kIHRhZyBuYW1lOiAiK2IrIiBpcyBub3QgY29tcGxldGU6IitFLnRhZ05hbWUpLFA9TSsxK2IubGVuZ3RoKTpiLm1hdGNoKC9cczwvKSYmKGI9Yi5yZXBsYWNlKC9bXHM8XS4qLywiIikscy5lcnJvcigiZW5kIHRhZyBuYW1lOiAiK2IrIiBtYXliZSBub3QgY29tcGxldGUiKSxQPU0rMStiLmxlbmd0aCk7dmFyIHc9RS5sb2NhbE5TTWFwLEE9RS50YWdOYW1lPT1iLEY9QXx8RS50YWdOYW1lJiZFLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09Yi50b0xvd2VyQ2FzZSgpO2lmKEYpe2lmKGUuZW5kRWxlbWVudChFLnVyaSxFLmxvY2FsTmFtZSxiKSx3KWZvcih2YXIgTyBpbiB3KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh3LE8pJiZlLmVuZFByZWZpeE1hcHBpbmcoTyk7QXx8cy5mYXRhbEVycm9yKCJlbmQgdGFnIG5hbWU6ICIrYisiIGlzIG5vdCBtYXRjaCB0aGUgY3VycmVudCBzdGFydCB0YWdOYW1lOiIrRS50YWdOYW1lKX1lbHNlIHAucHVzaChFKTtQKys7YnJlYWs7Y2FzZSI/IjpmJiZvKE0pLFA9TG8odCxNLGUpO2JyZWFrO2Nhc2UiISI6ZiYmbyhNKSxQPXFvKHQsTSxlLHMpO2JyZWFrO2RlZmF1bHQ6ZiYmbyhNKTt2YXIgST1uZXcgU2UsYXQ9cFtwLmxlbmd0aC0xXS5jdXJyZW50TlNNYXAsUD1Sbyh0LE0sSSxhdCxoLHMpLGJ0PUkubGVuZ3RoO2lmKCFJLmNsb3NlZCYmQm8odCxQLEkudGFnTmFtZSxtKSYmKEkuY2xvc2VkPSEwLGEubmJzcHx8cy53YXJuaW5nKCJ1bmNsb3NlZCB4bWwgYXR0cmlidXRlIikpLGYmJmJ0KXtmb3IodmFyIGVhPXdlKGYse30pLHNhPTA7c2E8YnQ7c2ErKyl7dmFyIGtlPUlbc2FdO28oa2Uub2Zmc2V0KSxrZS5sb2NhdG9yPXdlKGYse30pfWUubG9jYXRvcj1lYSxBZShJLGUsYXQpJiZwLnB1c2goSSksZS5sb2NhdG9yPWZ9ZWxzZSBBZShJLGUsYXQpJiZwLnB1c2goSSk7bmkuaXNIVE1MKEkudXJpKSYmIUkuY2xvc2VkP1A9a28odCxQLEkudGFnTmFtZSxoLGUpOlArK319Y2F0Y2goQil7aWYoQiBpbnN0YW5jZW9mIEZ0KXRocm93IEI7cy5lcnJvcigiZWxlbWVudCBwYXJzZSBlcnJvcjogIitCKSxQPS0xfVA+ZD9kPVA6cihNYXRoLm1heChNLGQpKzEpfX1mdW5jdGlvbiB3ZSh0LGkpe3JldHVybiBpLmxpbmVOdW1iZXI9dC5saW5lTnVtYmVyLGkuY29sdW1uTnVtYmVyPXQuY29sdW1uTnVtYmVyLGl9ZnVuY3Rpb24gUm8odCxpLGEsZSxzLG4pe2Z1bmN0aW9uIGgoZixwLG0pe2EuYXR0cmlidXRlTmFtZXMuaGFzT3duUHJvcGVydHkoZikmJm4uZmF0YWxFcnJvcigiQXR0cmlidXRlICIrZisiIHJlZGVmaW5lZCIpLGEuYWRkVmFsdWUoZixwLnJlcGxhY2UoL1tcdFxuXHJdL2csIiAiKS5yZXBsYWNlKC8mIz9cdys7L2cscyksbSl9Zm9yKHZhciByLG8sdT0rK2ksbD1yaTs7KXt2YXIgYz10LmNoYXJBdCh1KTtzd2l0Y2goYyl7Y2FzZSI9IjppZihsPT09Z3Qpcj10LnNsaWNlKGksdSksbD1oaTtlbHNlIGlmKGw9PT1CdClsPWhpO2Vsc2UgdGhyb3cgbmV3IEVycm9yKCJhdHRyaWJ1dGUgZXF1YWwgbXVzdCBhZnRlciBhdHRyTmFtZSIpO2JyZWFrO2Nhc2UiJyI6Y2FzZSciJzppZihsPT09aGl8fGw9PT1ndClpZihsPT09Z3QmJihuLndhcm5pbmcoJ2F0dHJpYnV0ZSB2YWx1ZSBtdXN0IGFmdGVyICI9IicpLHI9dC5zbGljZShpLHUpKSxpPXUrMSx1PXQuaW5kZXhPZihjLGkpLHU+MClvPXQuc2xpY2UoaSx1KSxoKHIsbyxpLTEpLGw9THQ7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoImF0dHJpYnV0ZSB2YWx1ZSBubyBlbmQgJyIrYysiJyBtYXRjaCIpO2Vsc2UgaWYobD09cXQpbz10LnNsaWNlKGksdSksaChyLG8saSksbi53YXJuaW5nKCdhdHRyaWJ1dGUgIicrcisnIiBtaXNzZWQgc3RhcnQgcXVvdCgnK2MrIikhISIpLGk9dSsxLGw9THQ7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ2F0dHJpYnV0ZSB2YWx1ZSBtdXN0IGFmdGVyICI9IicpO2JyZWFrO2Nhc2UiLyI6c3dpdGNoKGwpe2Nhc2Ugcmk6YS5zZXRUYWdOYW1lKHQuc2xpY2UoaSx1KSk7Y2FzZSBMdDpjYXNlIG9pOmNhc2UgT2k6bD1PaSxhLmNsb3NlZD0hMDtjYXNlIHF0OmNhc2UgZ3Q6Y2FzZSBCdDpicmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiYXR0cmlidXRlIGludmFsaWQgY2xvc2UgY2hhcignLycpIil9YnJlYWs7Y2FzZSIiOnJldHVybiBuLmVycm9yKCJ1bmV4cGVjdGVkIGVuZCBvZiBpbnB1dCIpLGw9PXJpJiZhLnNldFRhZ05hbWUodC5zbGljZShpLHUpKSx1O2Nhc2UiPiI6c3dpdGNoKGwpe2Nhc2Ugcmk6YS5zZXRUYWdOYW1lKHQuc2xpY2UoaSx1KSk7Y2FzZSBMdDpjYXNlIG9pOmNhc2UgT2k6YnJlYWs7Y2FzZSBxdDpjYXNlIGd0Om89dC5zbGljZShpLHUpLG8uc2xpY2UoLTEpPT09Ii8iJiYoYS5jbG9zZWQ9ITAsbz1vLnNsaWNlKDAsLTEpKTtjYXNlIEJ0Omw9PT1CdCYmKG89ciksbD09cXQ/KG4ud2FybmluZygnYXR0cmlidXRlICInK28rJyIgbWlzc2VkIHF1b3QoIikhJyksaChyLG8saSkpOigoIW5pLmlzSFRNTChlWyIiXSl8fCFvLm1hdGNoKC9eKD86ZGlzYWJsZWR8Y2hlY2tlZHxzZWxlY3RlZCkkL2kpKSYmbi53YXJuaW5nKCdhdHRyaWJ1dGUgIicrbysnIiBtaXNzZWQgdmFsdWUhISAiJytvKyciIGluc3RlYWQhIScpLGgobyxvLGkpKTticmVhaztjYXNlIGhpOnRocm93IG5ldyBFcnJvcigiYXR0cmlidXRlIHZhbHVlIG1pc3NlZCEhIil9cmV0dXJuIHU7Y2FzZSJceDgwIjpjPSIgIjtkZWZhdWx0OmlmKGM8PSIgIilzd2l0Y2gobCl7Y2FzZSByaTphLnNldFRhZ05hbWUodC5zbGljZShpLHUpKSxsPW9pO2JyZWFrO2Nhc2UgZ3Q6cj10LnNsaWNlKGksdSksbD1CdDticmVhaztjYXNlIHF0OnZhciBvPXQuc2xpY2UoaSx1KTtuLndhcm5pbmcoJ2F0dHJpYnV0ZSAiJytvKyciIG1pc3NlZCBxdW90KCIpISEnKSxoKHIsbyxpKTtjYXNlIEx0Omw9b2k7YnJlYWt9ZWxzZSBzd2l0Y2gobCl7Y2FzZSBCdDphLnRhZ05hbWUsKCFuaS5pc0hUTUwoZVsiIl0pfHwhci5tYXRjaCgvXig/OmRpc2FibGVkfGNoZWNrZWR8c2VsZWN0ZWQpJC9pKSkmJm4ud2FybmluZygnYXR0cmlidXRlICInK3IrJyIgbWlzc2VkIHZhbHVlISEgIicrcisnIiBpbnN0ZWFkMiEhJyksaChyLHIsaSksaT11LGw9Z3Q7YnJlYWs7Y2FzZSBMdDpuLndhcm5pbmcoJ2F0dHJpYnV0ZSBzcGFjZSBpcyByZXF1aXJlZCInK3IrJyIhIScpO2Nhc2Ugb2k6bD1ndCxpPXU7YnJlYWs7Y2FzZSBoaTpsPXF0LGk9dTticmVhaztjYXNlIE9pOnRocm93IG5ldyBFcnJvcigiZWxlbWVudHMgY2xvc2VkIGNoYXJhY3RlciAnLycgYW5kICc+JyBtdXN0IGJlIGNvbm5lY3RlZCB0byIpfX11Kyt9fWZ1bmN0aW9uIEFlKHQsaSxhKXtmb3IodmFyIGU9dC50YWdOYW1lLHM9bnVsbCxuPXQubGVuZ3RoO24tLTspe3ZhciBoPXRbbl0scj1oLnFOYW1lLG89aC52YWx1ZSxmPXIuaW5kZXhPZigiOiIpO2lmKGY+MCl2YXIgdT1oLnByZWZpeD1yLnNsaWNlKDAsZiksbD1yLnNsaWNlKGYrMSksYz11PT09InhtbG5zIiYmbDtlbHNlIGw9cix1PW51bGwsYz1yPT09InhtbG5zIiYmIiI7aC5sb2NhbE5hbWU9bCxjIT09ITEmJihzPT1udWxsJiYocz17fSxDZShhLGE9e30pKSxhW2NdPXNbY109byxoLnVyaT1uaS5YTUxOUyxpLnN0YXJ0UHJlZml4TWFwcGluZyhjLG8pKX1mb3IodmFyIG49dC5sZW5ndGg7bi0tOyl7aD10W25dO3ZhciB1PWgucHJlZml4O3UmJih1PT09InhtbCImJihoLnVyaT1uaS5YTUwpLHUhPT0ieG1sbnMiJiYoaC51cmk9YVt1fHwiIl0pKX12YXIgZj1lLmluZGV4T2YoIjoiKTtmPjA/KHU9dC5wcmVmaXg9ZS5zbGljZSgwLGYpLGw9dC5sb2NhbE5hbWU9ZS5zbGljZShmKzEpKToodT1udWxsLGw9dC5sb2NhbE5hbWU9ZSk7dmFyIHA9dC51cmk9YVt1fHwiIl07aWYoaS5zdGFydEVsZW1lbnQocCxsLGUsdCksdC5jbG9zZWQpe2lmKGkuZW5kRWxlbWVudChwLGwsZSkscylmb3IodSBpbiBzKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLHUpJiZpLmVuZFByZWZpeE1hcHBpbmcodSl9ZWxzZSByZXR1cm4gdC5jdXJyZW50TlNNYXA9YSx0LmxvY2FsTlNNYXA9cywhMH1mdW5jdGlvbiBrbyh0LGksYSxlLHMpe2lmKC9eKD86c2NyaXB0fHRleHRhcmVhKSQvaS50ZXN0KGEpKXt2YXIgbj10LmluZGV4T2YoIjwvIithKyI+IixpKSxoPXQuc3Vic3RyaW5nKGkrMSxuKTtpZigvWyY8XS8udGVzdChoKSlyZXR1cm4vXnNjcmlwdCQvaS50ZXN0KGEpPyhzLmNoYXJhY3RlcnMoaCwwLGgubGVuZ3RoKSxuKTooaD1oLnJlcGxhY2UoLyYjP1x3KzsvZyxlKSxzLmNoYXJhY3RlcnMoaCwwLGgubGVuZ3RoKSxuKX1yZXR1cm4gaSsxfWZ1bmN0aW9uIEJvKHQsaSxhLGUpe3ZhciBzPWVbYV07cmV0dXJuIHM9PW51bGwmJihzPXQubGFzdEluZGV4T2YoIjwvIithKyI+IiksczxpJiYocz10Lmxhc3RJbmRleE9mKCI8LyIrYSkpLGVbYV09cyksczxpfWZ1bmN0aW9uIENlKHQsaSl7Zm9yKHZhciBhIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsYSkmJihpW2FdPXRbYV0pfWZ1bmN0aW9uIHFvKHQsaSxhLGUpe3ZhciBzPXQuY2hhckF0KGkrMik7c3dpdGNoKHMpe2Nhc2UiLSI6aWYodC5jaGFyQXQoaSszKT09PSItIil7dmFyIG49dC5pbmRleE9mKCItLT4iLGkrNCk7cmV0dXJuIG4+aT8oYS5jb21tZW50KHQsaSs0LG4taS00KSxuKzMpOihlLmVycm9yKCJVbmNsb3NlZCBjb21tZW50IiksLTEpfWVsc2UgcmV0dXJuLTE7ZGVmYXVsdDppZih0LnN1YnN0cihpKzMsNik9PSJDREFUQVsiKXt2YXIgbj10LmluZGV4T2YoIl1dPiIsaSs5KTtyZXR1cm4gYS5zdGFydENEQVRBKCksYS5jaGFyYWN0ZXJzKHQsaSs5LG4taS05KSxhLmVuZENEQVRBKCksbiszfXZhciBoPUZvKHQsaSkscj1oLmxlbmd0aDtpZihyPjEmJi8hZG9jdHlwZS9pLnRlc3QoaFswXVswXSkpe3ZhciBvPWhbMV1bMF0sdT0hMSxsPSExO3I+MyYmKC9ecHVibGljJC9pLnRlc3QoaFsyXVswXSk/KHU9aFszXVswXSxsPXI+NCYmaFs0XVswXSk6L15zeXN0ZW0kL2kudGVzdChoWzJdWzBdKSYmKGw9aFszXVswXSkpO3ZhciBjPWhbci0xXTtyZXR1cm4gYS5zdGFydERURChvLHUsbCksYS5lbmREVEQoKSxjLmluZGV4K2NbMF0ubGVuZ3RofX1yZXR1cm4tMX1mdW5jdGlvbiBMbyh0LGksYSl7dmFyIGU9dC5pbmRleE9mKCI/PiIsaSk7aWYoZSl7dmFyIHM9dC5zdWJzdHJpbmcoaSxlKS5tYXRjaCgvXjxcPyhcUyopXHMqKFtcc1xTXSo/KVxzKiQvKTtyZXR1cm4gcz8oc1swXS5sZW5ndGgsYS5wcm9jZXNzaW5nSW5zdHJ1Y3Rpb24oc1sxXSxzWzJdKSxlKzIpOi0xfXJldHVybi0xfWZ1bmN0aW9uIFNlKCl7dGhpcy5hdHRyaWJ1dGVOYW1lcz17fX1TZS5wcm90b3R5cGU9e3NldFRhZ05hbWU6ZnVuY3Rpb24odCl7aWYoIU5lLnRlc3QodCkpdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIHRhZ05hbWU6Iit0KTt0aGlzLnRhZ05hbWU9dH0sYWRkVmFsdWU6ZnVuY3Rpb24odCxpLGEpe2lmKCFOZS50ZXN0KHQpKXRocm93IG5ldyBFcnJvcigiaW52YWxpZCBhdHRyaWJ1dGU6Iit0KTt0aGlzLmF0dHJpYnV0ZU5hbWVzW3RdPXRoaXMubGVuZ3RoLHRoaXNbdGhpcy5sZW5ndGgrK109e3FOYW1lOnQsdmFsdWU6aSxvZmZzZXQ6YX19LGxlbmd0aDowLGdldExvY2FsTmFtZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpc1t0XS5sb2NhbE5hbWV9LGdldExvY2F0b3I6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXNbdF0ubG9jYXRvcn0sZ2V0UU5hbWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXNbdF0ucU5hbWV9LGdldFVSSTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpc1t0XS51cml9LGdldFZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzW3RdLnZhbHVlfX07ZnVuY3Rpb24gRm8odCxpKXt2YXIgYSxlPVtdLHM9LydbXiddKyd8IlteIl0rInxbXlxzPD5cLz1dKz0/fChcLz9ccyo+fDwpL2c7Zm9yKHMubGFzdEluZGV4PWkscy5leGVjKHQpO2E9cy5leGVjKHQpOylpZihlLnB1c2goYSksYVsxXSlyZXR1cm4gZX10YS5YTUxSZWFkZXI9RWUsdGEuUGFyc2VFcnJvcj1GdDt2YXIgam89bHQsR289eXQsVGU9dmUsT2U9dGEsem89R28uRE9NSW1wbGVtZW50YXRpb24sSWU9am8uTkFNRVNQQUNFLFVvPU9lLlBhcnNlRXJyb3IsSG89T2UuWE1MUmVhZGVyO2Z1bmN0aW9uIERlKHQpe3JldHVybiB0LnJlcGxhY2UoL1xyW1xuXHUwMDg1XS9nLGAKYCkucmVwbGFjZSgvW1xyXHUwMDg1XHUyMDI4XS9nLGAKYCl9ZnVuY3Rpb24gUGUodCl7dGhpcy5vcHRpb25zPXR8fHtsb2NhdG9yOnt9fX1QZS5wcm90b3R5cGUucGFyc2VGcm9tU3RyaW5nPWZ1bmN0aW9uKHQsaSl7dmFyIGE9dGhpcy5vcHRpb25zLGU9bmV3IEhvLHM9YS5kb21CdWlsZGVyfHxuZXcgdWksbj1hLmVycm9ySGFuZGxlcixoPWEubG9jYXRvcixyPWEueG1sbnN8fHt9LG89L1wveD9odG1sPyQvLnRlc3QoaSksdT1vP1RlLkhUTUxfRU5USVRJRVM6VGUuWE1MX0VOVElUSUVTO2gmJnMuc2V0RG9jdW1lbnRMb2NhdG9yKGgpLGUuZXJyb3JIYW5kbGVyPVFvKG4scyxoKSxlLmRvbUJ1aWxkZXI9YS5kb21CdWlsZGVyfHxzLG8mJihyWyIiXT1JZS5IVE1MKSxyLnhtbD1yLnhtbHx8SWUuWE1MO3ZhciBsPWEubm9ybWFsaXplTGluZUVuZGluZ3N8fERlO3JldHVybiB0JiZ0eXBlb2YgdD09InN0cmluZyI/ZS5wYXJzZShsKHQpLHIsdSk6ZS5lcnJvckhhbmRsZXIuZXJyb3IoImludmFsaWQgZG9jIHNvdXJjZSIpLHMuZG9jfTtmdW5jdGlvbiBRbyh0LGksYSl7aWYoIXQpe2lmKGkgaW5zdGFuY2VvZiB1aSlyZXR1cm4gaTt0PWl9dmFyIGU9e30scz10IGluc3RhbmNlb2YgRnVuY3Rpb247YT1hfHx7fTtmdW5jdGlvbiBuKGgpe3ZhciByPXRbaF07IXImJnMmJihyPXQubGVuZ3RoPT0yP2Z1bmN0aW9uKG8pe3QoaCxvKX06dCksZVtoXT1yJiZmdW5jdGlvbihvKXtyKCJbeG1sZG9tICIraCsiXQkiK28rYWEoYSkpfXx8ZnVuY3Rpb24oKXt9fXJldHVybiBuKCJ3YXJuaW5nIiksbigiZXJyb3IiKSxuKCJmYXRhbEVycm9yIiksZX1mdW5jdGlvbiB1aSgpe3RoaXMuY2RhdGE9ITF9ZnVuY3Rpb24ganQodCxpKXtpLmxpbmVOdW1iZXI9dC5saW5lTnVtYmVyLGkuY29sdW1uTnVtYmVyPXQuY29sdW1uTnVtYmVyfXVpLnByb3RvdHlwZT17c3RhcnREb2N1bWVudDpmdW5jdGlvbigpe3RoaXMuZG9jPW5ldyB6bygpLmNyZWF0ZURvY3VtZW50KG51bGwsbnVsbCxudWxsKSx0aGlzLmxvY2F0b3ImJih0aGlzLmRvYy5kb2N1bWVudFVSST10aGlzLmxvY2F0b3Iuc3lzdGVtSWQpfSxzdGFydEVsZW1lbnQ6ZnVuY3Rpb24odCxpLGEsZSl7dmFyIHM9dGhpcy5kb2Msbj1zLmNyZWF0ZUVsZW1lbnROUyh0LGF8fGkpLGg9ZS5sZW5ndGg7SWkodGhpcyxuKSx0aGlzLmN1cnJlbnRFbGVtZW50PW4sdGhpcy5sb2NhdG9yJiZqdCh0aGlzLmxvY2F0b3Isbik7Zm9yKHZhciByPTA7cjxoO3IrKyl7dmFyIHQ9ZS5nZXRVUkkociksbz1lLmdldFZhbHVlKHIpLGE9ZS5nZXRRTmFtZShyKSx1PXMuY3JlYXRlQXR0cmlidXRlTlModCxhKTt0aGlzLmxvY2F0b3ImJmp0KGUuZ2V0TG9jYXRvcihyKSx1KSx1LnZhbHVlPXUubm9kZVZhbHVlPW8sbi5zZXRBdHRyaWJ1dGVOb2RlKHUpfX0sZW5kRWxlbWVudDpmdW5jdGlvbih0LGksYSl7dmFyIGU9dGhpcy5jdXJyZW50RWxlbWVudDtlLnRhZ05hbWUsdGhpcy5jdXJyZW50RWxlbWVudD1lLnBhcmVudE5vZGV9LHN0YXJ0UHJlZml4TWFwcGluZzpmdW5jdGlvbih0LGkpe30sZW5kUHJlZml4TWFwcGluZzpmdW5jdGlvbih0KXt9LHByb2Nlc3NpbmdJbnN0cnVjdGlvbjpmdW5jdGlvbih0LGkpe3ZhciBhPXRoaXMuZG9jLmNyZWF0ZVByb2Nlc3NpbmdJbnN0cnVjdGlvbih0LGkpO3RoaXMubG9jYXRvciYmanQodGhpcy5sb2NhdG9yLGEpLElpKHRoaXMsYSl9LGlnbm9yYWJsZVdoaXRlc3BhY2U6ZnVuY3Rpb24odCxpLGEpe30sY2hhcmFjdGVyczpmdW5jdGlvbih0LGksYSl7aWYodD1SZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksdCl7aWYodGhpcy5jZGF0YSl2YXIgZT10aGlzLmRvYy5jcmVhdGVDREFUQVNlY3Rpb24odCk7ZWxzZSB2YXIgZT10aGlzLmRvYy5jcmVhdGVUZXh0Tm9kZSh0KTt0aGlzLmN1cnJlbnRFbGVtZW50P3RoaXMuY3VycmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoZSk6L15ccyokLy50ZXN0KHQpJiZ0aGlzLmRvYy5hcHBlbmRDaGlsZChlKSx0aGlzLmxvY2F0b3ImJmp0KHRoaXMubG9jYXRvcixlKX19LHNraXBwZWRFbnRpdHk6ZnVuY3Rpb24odCl7fSxlbmREb2N1bWVudDpmdW5jdGlvbigpe3RoaXMuZG9jLm5vcm1hbGl6ZSgpfSxzZXREb2N1bWVudExvY2F0b3I6ZnVuY3Rpb24odCl7KHRoaXMubG9jYXRvcj10KSYmKHQubGluZU51bWJlcj0wKX0sY29tbWVudDpmdW5jdGlvbih0LGksYSl7dD1SZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGU9dGhpcy5kb2MuY3JlYXRlQ29tbWVudCh0KTt0aGlzLmxvY2F0b3ImJmp0KHRoaXMubG9jYXRvcixlKSxJaSh0aGlzLGUpfSxzdGFydENEQVRBOmZ1bmN0aW9uKCl7dGhpcy5jZGF0YT0hMH0sZW5kQ0RBVEE6ZnVuY3Rpb24oKXt0aGlzLmNkYXRhPSExfSxzdGFydERURDpmdW5jdGlvbih0LGksYSl7dmFyIGU9dGhpcy5kb2MuaW1wbGVtZW50YXRpb247aWYoZSYmZS5jcmVhdGVEb2N1bWVudFR5cGUpe3ZhciBzPWUuY3JlYXRlRG9jdW1lbnRUeXBlKHQsaSxhKTt0aGlzLmxvY2F0b3ImJmp0KHRoaXMubG9jYXRvcixzKSxJaSh0aGlzLHMpLHRoaXMuZG9jLmRvY3R5cGU9c319LHdhcm5pbmc6ZnVuY3Rpb24odCl7Y29uc29sZS53YXJuKCJbeG1sZG9tIHdhcm5pbmddCSIrdCxhYSh0aGlzLmxvY2F0b3IpKX0sZXJyb3I6ZnVuY3Rpb24odCl7Y29uc29sZS5lcnJvcigiW3htbGRvbSBlcnJvcl0JIit0LGFhKHRoaXMubG9jYXRvcikpfSxmYXRhbEVycm9yOmZ1bmN0aW9uKHQpe3Rocm93IG5ldyBVbyh0LHRoaXMubG9jYXRvcil9fTtmdW5jdGlvbiBhYSh0KXtpZih0KXJldHVybmAKQGArKHQuc3lzdGVtSWR8fCIiKSsiI1tsaW5lOiIrdC5saW5lTnVtYmVyKyIsY29sOiIrdC5jb2x1bW5OdW1iZXIrIl0ifWZ1bmN0aW9uIFJlKHQsaSxhKXtyZXR1cm4gdHlwZW9mIHQ9PSJzdHJpbmciP3Quc3Vic3RyKGksYSk6dC5sZW5ndGg+PWkrYXx8aT9uZXcgamF2YS5sYW5nLlN0cmluZyh0LGksYSkrIiI6dH0iZW5kRFRELHN0YXJ0RW50aXR5LGVuZEVudGl0eSxhdHRyaWJ1dGVEZWNsLGVsZW1lbnREZWNsLGV4dGVybmFsRW50aXR5RGVjbCxpbnRlcm5hbEVudGl0eURlY2wscmVzb2x2ZUVudGl0eSxnZXRFeHRlcm5hbFN1YnNldCxub3RhdGlvbkRlY2wsdW5wYXJzZWRFbnRpdHlEZWNsIi5yZXBsYWNlKC9cdysvZyxmdW5jdGlvbih0KXt1aS5wcm90b3R5cGVbdF09ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19KTtmdW5jdGlvbiBJaSh0LGkpe3QuY3VycmVudEVsZW1lbnQ/dC5jdXJyZW50RWxlbWVudC5hcHBlbmRDaGlsZChpKTp0LmRvYy5hcHBlbmRDaGlsZChpKX1UaS5fX0RPTUhhbmRsZXI9dWksVGkubm9ybWFsaXplTGluZUVuZGluZ3M9RGUsVGkuRE9NUGFyc2VyPVBlO3ZhciBYbz1UaS5ET01QYXJzZXI7ZnVuY3Rpb24gV28odCxpLGEsZSl7aWYoIXQpcmV0dXJuO2NvbnN0IHM9W10sbj10LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJCcmVha2xpbmUiKTtmb3IobGV0IGg9MDtoPG4ubGVuZ3RoO2grKyl7Y29uc3Qgcj1uLml0ZW0oaCk7aWYoIXIpY29udGludWU7Y29uc3Qgbz1yLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJGZWF0dXJlIiksdT1vPT1udWxsP3ZvaWQgMDpvLml0ZW0oMCk7bGV0IGw9e307aWYodSYmdS5nZXRBdHRyaWJ1dGUoInNvdXJjZSIpPT09ImluZnJhbW9kZWwiKXtjb25zdCBkPXUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIlByb3BlcnR5Iik7aWYoIWQpY29udGludWU7Zm9yKGxldCBNPTA7TTxkLmxlbmd0aDtNKyspe2NvbnN0IGc9ZC5pdGVtKE0pO2lmKCFnKWNvbnRpbnVlO2NvbnN0IF89Zy5nZXRBdHRyaWJ1dGUoImxhYmVsIiksYj1nLmdldEF0dHJpYnV0ZSgidmFsdWUiKTtfJiZiJiYobFtfXT1iKX19Y29uc3QgYz1yLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJQbnRMaXN0M0QiKTtpZighYyljb250aW51ZTtjb25zdCBmPWMuaXRlbSgwKTtpZighZnx8IWYudGV4dENvbnRlbnQpY29udGludWU7Y29uc3QgcD1mLnRleHRDb250ZW50LnRyaW0oKS5zcGxpdCgiICIpLm1hcChkPT5wYXJzZUZsb2F0KGQudHJpbSgpKSksbT1bXTtmb3IobGV0IGQ9MDtkPHAubGVuZ3RoO2QrPTMpe2xldCBNO2k/KE09aS5mb3J3YXJkKFtwW2QrMV0scFtkKzBdLHBbZCsyXV0pLE09W01bMF0tZVswXSxNWzFdLWVbMV0sTVsyXS1lWzJdXSk6TT1bcFtkKzFdLWEueCxwW2QrMF0tYS55LHBbZCsyXS1hLnpdLG0ucHVzaChNKX1tLmxlbmd0aD4wJiZzLnB1c2goe2Nvb3JkaW5hdGVzOm0scHJvcGVydGllczpsfSl9aWYocy5sZW5ndGghPT0wKXJldHVybiBzfWZ1bmN0aW9uIFZvKHQsaSxhLGUpe2lmKCF0KXJldHVybjtjb25zdCBzPVtdLG49W10saD10LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJQbnRzIik7aWYoIWgpcmV0dXJuO2NvbnN0IHI9aC5pdGVtKDApO2lmKCFyKXJldHVybjtjb25zdCBvPXIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIlAiKTtpZighbylyZXR1cm47bGV0IHU9e307Zm9yKGxldCBkPTA7ZDxvLmxlbmd0aDtkKyspe2NvbnN0IE09by5pdGVtKGQpO2lmKCFNKWNvbnRpbnVlO2NvbnN0IGc9TS5nZXRBdHRyaWJ1dGUoImlkIik7aWYoIWd8fCFNLnRleHRDb250ZW50KWNvbnRpbnVlO3VbZ109ZDtsZXQgXz1NLnRleHRDb250ZW50LnNwbGl0KCIgIikubWFwKGI9PnBhcnNlRmxvYXQoYikpO2k/KF89aS5mb3J3YXJkKFtfWzFdLF9bMF0sX1syXV0pLF89W19bMF0tZVswXSxfWzFdLWVbMV0sX1syXS1lWzJdXSk6Xz1bX1sxXS1hLngsX1swXS1hLnksX1syXS1hLnpdLHMucHVzaChfKX1jb25zdCBsPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIkZhY2VzIik7aWYoIWwpcmV0dXJuO2NvbnN0IGM9bC5pdGVtKDApO2lmKCFjKXJldHVybjtjb25zdCBmPWMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIkYiKTtpZighZilyZXR1cm47Zm9yKGxldCBkPTA7ZDxmLmxlbmd0aDtkKyspe2NvbnN0IE09Zi5pdGVtKGQpOyFNfHwhTS50ZXh0Q29udGVudHx8TS5nZXRBdHRyaWJ1dGUoImkiKSE9PSIxIiYmbi5wdXNoKFsuLi5NLnRleHRDb250ZW50LnNwbGl0KCIgIikubWFwKGc9PnVbZ10pXSl9bGV0IHA9e307Y29uc3QgbT10LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJGZWF0dXJlIikuaXRlbSgwKTtpZihtJiZtLmdldEF0dHJpYnV0ZSgic291cmNlIik9PT0iaW5mcmFtb2RlbCIpe2NvbnN0IGQ9bS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiUHJvcGVydHkiKTtpZihkKWZvcihsZXQgTT0wO008ZC5sZW5ndGg7TSsrKXtjb25zdCBnPWQuaXRlbShNKTtpZighZyljb250aW51ZTtjb25zdCBfPWcuZ2V0QXR0cmlidXRlKCJsYWJlbCIpLGI9Zy5nZXRBdHRyaWJ1dGUoInZhbHVlIik7XyYmYiYmKHBbX109Yil9fXJldHVybntwcm9wZXJ0aWVzOnAsdmVydGljZXM6cyxmYWNlczpufX1mdW5jdGlvbiBKbyh0LGk9e3g6MCx5OjAsejowfSxhLGUpe2xldCBzLG47YSYmZSYmKHM9SyhhLGUpLG49cy5mb3J3YXJkKFtpLngsaS55LGkuel0pKTtjb25zdCBoPW5ldyBYbygpLnBhcnNlRnJvbVN0cmluZyh0LCJ0ZXh0L3htbCIpLHI9aC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiU3VyZmFjZXMiKSxvPVtdO2ZvcihsZXQgdT0wO3U8ci5sZW5ndGg7dSsrKXtpZighci5pdGVtKHUpKWNvbnRpbnVlO2NvbnN0IGw9aC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiU3VyZmFjZSIpO2ZvcihsZXQgYz0wO2M8bC5sZW5ndGg7YysrKXtjb25zdCBmPWwuaXRlbShjKTtpZighZiljb250aW51ZTtjb25zdCBwPWYuZ2V0QXR0cmlidXRlKCJuYW1lIiksbT1XbyhmLHMsaSxuKSxkPVZvKGYscyxpLG4pO20mJnAmJm0uZm9yRWFjaChNPT5NLnByb3BlcnRpZXMubmFtZT1wKSxkJiZwJiYoZC5wcm9wZXJ0aWVzLm5hbWU9cCksby5wdXNoKHt0aW46ZCxsaW5lczptfSl9fXJldHVybiBvfWZ1bmN0aW9uIEtvKHQpe2NvbnN0IGk9dC5kYXRhLnhtbFN0cixhPXQuZGF0YS5vZmZzZXQsZT10LmRhdGEucHJvakluLHM9dC5kYXRhLnByb2pPdXQsbj17c3VyZmFjZXM6Sm8oaSxhLGUscyl9O3Bvc3RNZXNzYWdlKG4pfW9ubWVzc2FnZT1Lb30pLExlPXFlKCk7cmV0dXJuIExlfSgpOwoK",null,!1),E3=(e,i,t)=>new Promise((s,n)=>{var r=l=>{try{a(t.next(l))}catch(h){n(h)}},o=l=>{try{a(t.throw(l))}catch(h){n(h)}},a=l=>l.done?s(l.value):Promise.resolve(l.value).then(r,o);a((t=t.apply(e,i)).next())});const Sa=e=>{let i=0;for(let s=0;s<e.length;s++)i=e.charCodeAt(s)+((i<<5)-i);let t="#";for(let s=0;s<3;s++){const n=i>>s*8&255;t+=("00"+n.toString(16)).slice(-2)}return new ge(t)};function Jte(e,i){return E3(this,null,function*(){return new Promise(t=>{const s=new Bte;s.onmessage=r=>{s.terminate(),t(r.data.surfaces)};const n={xmlStr:e,offset:i.offset,projIn:i.projIn,projOut:i.projOut};s.postMessage(n)})})}function Qte(e,i){return E3(this,null,function*(){const t=yield fetch(e);if(!t.ok){console.error(`Failed to load LandXML url: ${e}`);return}const s=yield t.text(),n=yield Jte(s,i);let r=new Vs;const o=a=>{a.target.material.color.setHex(a.target.userData.color),a.target.material.linewidth=a.target.userData.linewidth};for(let a of n){const l=new Vs;if(a.lines&&a.lines.forEach(h=>{let c=Sa(h.coordinates.length.toString());h.properties&&h.properties.terrainCoding?c=Sa(h.properties.terrainCoding):h.properties&&h.properties.infraCoding&&(c=Sa(h.properties.infraCoding)),c.multiplyScalar(1.1);const u=D1(h.coordinates,c);u.userData.properties=h.properties,u.userData.isInteractive=!0,u.userData.isPickable=!0,u.userData.color=c.getHex(),u.userData.linewidth=3,u.userData.supportsProfile=!0,u.userData.isMetaDataEnabled=!0,u.userData.isLandXml=!0,u.addEventListener("hover_out",o),l.add(u)}),a.tin){let h=Sa(a.tin.vertices.length.toString());a.tin.properties&&a.tin.properties.terrainCoding?h=Sa(a.tin.properties.terrainCoding):a.tin.properties&&a.tin.properties.surfaceCoding?h=Sa(a.tin.properties.surfaceCoding):a.tin.properties&&a.tin.properties.infraCoding&&(h=Sa(a.tin.properties.infraCoding));const c=O1(a.tin.vertices,a.tin.faces,h,void 0,void 0,{isInteractive:!1,isPickable:!0,useBVH:!0});c.userData.properties=a.tin.properties,c.userData.isLandXml=!0,c.userData.isPickable=!0,c.userData.isInteractive=!1,c.userData.isMetaDataEnabled=!0,l.add(c)}l.children.length>0&&r.add(l)}return r})}var qte=Object.defineProperty,$te=(e,i,t)=>i in e?qte(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,mm=(e,i,t)=>($te(e,typeof i!="symbol"?i+"":i,t),t);class eie{constructor(i){mm(this,"_pointer",0),mm(this,"_eof",!1),mm(this,"lastReadGroup"),mm(this,"_data"),this._data=i}next(){if(!this.hasNext())throw this._eof?new Error("Cannot call 'next' after EOF group has been read"):new Error("Unexpected end of input: EOF group not read before end of file. Ended on code "+this._data[this._pointer]);const i={code:parseInt(this._data[this._pointer])};return this._pointer++,i.value=C3(i.code,this._data[this._pointer].trim()),this._pointer++,i.code===0&&i.value==="EOF"&&(this._eof=!0),this.lastReadGroup=i,i}peek(){if(!this.hasNext())throw this._eof?new Error("Cannot call 'next' after EOF group has been read"):new Error("Unexpected end of input: EOF group not read before end of file. Ended on code "+this._data[this._pointer]);const i={code:parseInt(this._data[this._pointer])};return i.value=C3(i.code,this._data[this._pointer+1].trim()),i}rewind(i=1){this._pointer=this._pointer-i*2}hasNext(){return!(this._eof||this._pointer>this._data.length-2)}isEOF(){return this._eof}}function C3(e,i){return e<=9?i:e>=10&&e<=59?parseFloat(i):e>=60&&e<=99?parseInt(i):e>=100&&e<=109?i:e>=110&&e<=149?parseFloat(i):e>=160&&e<=179?parseInt(i):e>=210&&e<=239?parseFloat(i):e>=270&&e<=289?parseInt(i):e>=290&&e<=299?tie(i):e>=300&&e<=369?i:e>=370&&e<=389?parseInt(i):e>=390&&e<=399?i:e>=400&&e<=409?parseInt(i):e>=410&&e<=419?i:e>=420&&e<=429?parseInt(i):e>=430&&e<=439?i:e>=440&&e<=459?parseInt(i):e>=460&&e<=469?parseFloat(i):e>=470&&e<=481||e===999||e>=1e3&&e<=1009?i:e>=1010&&e<=1059?parseFloat(i):e>=1060&&e<=1071?parseInt(i):(console.log("WARNING: Group code does not have a defined type: %j",{code:e,value:i}),i)}function tie(e){if(e==="0")return!1;if(e==="1")return!0;throw TypeError("String '"+e+"' cannot be cast to Boolean type")}var R3=[0,16711680,16776960,65280,65535,255,16711935,16777215,8421504,12632256,16711680,16744319,13369344,13395558,10027008,10046540,8323072,8339263,4980736,4990502,16727808,16752511,13382400,13401958,10036736,10051404,8331008,8343359,4985600,4992806,16744192,16760703,13395456,13408614,10046464,10056268,8339200,8347455,4990464,4995366,16760576,16768895,13408512,13415014,10056192,10061132,8347392,8351551,4995328,4997670,16776960,16777087,13421568,13421670,10000384,10000460,8355584,8355647,5000192,5000230,12582656,14679935,10079232,11717734,7510016,8755276,6258432,7307071,3755008,4344870,8388352,12582783,6736896,10079334,5019648,7510092,4161280,6258495,2509824,3755046,4194048,10485631,3394560,8375398,2529280,6264908,2064128,5209919,1264640,3099686,65280,8388479,52224,6736998,38912,5019724,32512,4161343,19456,2509862,65343,8388511,52275,6737023,38950,5019743,32543,4161359,19475,2509871,65407,8388543,52326,6737049,38988,5019762,32575,4161375,19494,2509881,65471,8388575,52377,6737074,39026,5019781,32607,4161391,19513,2509890,65535,8388607,52428,6737100,39064,5019800,32639,4161407,19532,2509900,49151,8380415,39372,6730444,29336,5014936,24447,4157311,14668,2507340,32767,8372223,26316,6724044,19608,5010072,16255,4153215,9804,2505036,16383,8364031,13260,6717388,9880,5005208,8063,4149119,4940,2502476,255,8355839,204,6710988,152,5000344,127,4145023,76,2500172,4129023,10452991,3342540,8349388,2490520,6245528,2031743,5193599,1245260,3089996,8323327,12550143,6684876,10053324,4980888,7490712,4128895,6242175,2490444,3745356,12517631,14647295,10027212,11691724,7471256,8735896,6226047,7290751,3735628,4335180,16711935,16744447,13369548,13395660,9961624,9981080,8323199,8339327,4980812,4990540,16711871,16744415,13369497,13395634,9961586,9981061,8323167,8339311,4980793,4990530,16711807,16744383,13369446,13395609,9961548,9981042,8323135,8339295,4980774,4990521,16711743,16744351,13369395,13395583,9961510,9981023,8323103,8339279,4980755,4990511,3355443,5987163,8684676,11382189,14079702,16777215];function iie(e){return R3[e]}function Nt(e){const i={};e.rewind();let t=e.next(),s=t.code;if(i.x=t.value,s+=10,t=e.next(),t.code!=s)throw new Error("Expected code for point value to be "+s+" but got "+t.code+".");return i.y=t.value,s+=10,t=e.next(),t.code!=s?(e.rewind(),i):(i.z=t.value,i)}function sie(e,i){e.rewind();const t=[];for(let s=0;s<16;s++){const n=e.next();if(n.code!==i)throw new Error("Expected code for matrix value to be "+i+" but got "+n.code+".");t.push(n.value)}return t}function Gs(e,i,t){switch(i.code){case 0:e.type=i.value;break;case 5:e.handle=i.value;break;case 6:e.lineType=i.value;break;case 8:e.layer=i.value;break;case 48:e.lineTypeScale=i.value;break;case 60:e.visible=i.value===0;break;case 62:e.colorIndex=i.value,e.color=iie(Math.abs(i.value));break;case 67:e.inPaperSpace=i.value!==0;break;case 100:break;case 101:for(;i.code!=0;)i=t.next();t.rewind();break;case 330:e.ownerHandle=i.value;break;case 347:e.materialObjectHandle=i.value;break;case 370:e.lineweight=i.value;break;case 420:e.color=i.value;break;case 1e3:e.extendedData=e.extendedData||{},e.extendedData.customStrings=e.extendedData.customStrings||[],e.extendedData.customStrings.push(i.value);break;case 1001:e.extendedData=e.extendedData||{},e.extendedData.applicationName=i.value;break;default:return!1}return!0}var nie=Object.defineProperty,rie=(e,i,t)=>i in e?nie(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,oie=(e,i,t)=>(rie(e,typeof i!="symbol"?i+"":i,t),t);class aie{constructor(){oie(this,"ForEntityName","3DFACE")}parseEntity(i,t){const s={type:t.value,vertices:[]};for(t=i.next();!i.isEOF()&&t.code!==0;){switch(t.code){case 70:s.shape=(t.value&1)===1,s.hasContinuousLinetypePattern=(t.value&128)===128;break;case 10:s.vertices=lie(i,t),t=i.lastReadGroup;break;default:Gs(s,t,i);break}t=i.next()}return s}}function lie(e,i){var t=[],s=!1,n=!1,r=4;for(let a=0;a<=r;a++){for(var o={};!e.isEOF()&&!(i.code===0||n);){switch(i.code){case 10:case 11:case 12:case 13:if(s){n=!0;continue}o.x=i.value,s=!0;break;case 20:case 21:case 22:case 23:o.y=i.value;break;case 30:case 31:case 32:case 33:o.z=i.value;break;default:return t}i=e.next()}t.push(o),s=!1,n=!1}return e.rewind(),t}var hie=Object.defineProperty,cie=(e,i,t)=>i in e?hie(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,uie=(e,i,t)=>(cie(e,typeof i!="symbol"?i+"":i,t),t);class pie{constructor(){uie(this,"ForEntityName","ARC")}parseEntity(i,t){const s={type:t.value};for(t=i.next();!i.isEOF()&&t.code!==0;){switch(t.code){case 10:s.center=Nt(i);break;case 40:s.radius=t.value;break;case 50:s.startAngle=Math.PI/180*t.value;break;case 51:s.endAngle=Math.PI/180*t.value,s.angleLength=s.endAngle-s.startAngle;break;case 210:s.extrusionDirectionX=t.value;break;case 220:s.extrusionDirectionY=t.value;break;case 230:s.extrusionDirectionZ=t.value;break;default:Gs(s,t,i);break}t=i.next()}return s}}var die=Object.defineProperty,mie=(e,i,t)=>i in e?die(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,yie=(e,i,t)=>(mie(e,typeof i!="symbol"?i+"":i,t),t);class fie{constructor(){yie(this,"ForEntityName","ATTDEF")}parseEntity(i,t){var s={type:t.value,scale:1,textStyle:"STANDARD"};for(t=i.next();!i.isEOF()&&t.code!==0;){switch(t.code){case 1:s.text=t.value;break;case 2:s.tag=t.value;break;case 3:s.prompt=t.value;break;case 7:s.textStyle=t.value;break;case 10:s.startPoint=Nt(i);break;case 11:s.endPoint=Nt(i);break;case 39:s.thickness=t.value;break;case 40:s.textHeight=t.value;break;case 41:s.scale=t.value;break;case 50:s.rotation=t.value;break;case 51:s.obliqueAngle=t.value;break;case 70:s.invisible=!!(t.value&1),s.constant=!!(t.value&2),s.verificationRequired=!!(t.value&4),s.preset=!!(t.value&8);break;case 71:s.backwards=!!(t.value&2),s.mirrored=!!(t.value&4);break;case 72:s.horizontalJustification=t.value;break;case 73:s.fieldLength=t.value;break;case 74:s.verticalJustification=t.value;break;case 100:break;case 210:s.extrusionDirectionX=t.value;break;case 220:s.extrusionDirectionY=t.value;break;case 230:s.extrusionDirectionZ=t.value;break;default:Gs(s,t,i);break}t=i.next()}return s}}var Tie=Object.defineProperty,gie=(e,i,t)=>i in e?Tie(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,bie=(e,i,t)=>(gie(e,typeof i!="symbol"?i+"":i,t),t);class Iie{constructor(){bie(this,"ForEntityName","CIRCLE")}parseEntity(i,t){const s={type:t.value};for(t=i.next();!i.isEOF()&&t.code!==0;){switch(t.code){case 10:s.center=Nt(i);break;case 40:s.radius=t.value;break;case 50:s.startAngle=Math.PI/180*t.value;break;case 51:const n=Math.PI/180*t.value;n<s.startAngle?s.angleLength=n+2*Math.PI-s.startAngle:s.angleLength=n-s.startAngle,s.endAngle=n;break;default:Gs(s,t,i);break}t=i.next()}return s}}var Lie=Object.defineProperty,Sie=(e,i,t)=>i in e?Lie(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,Mie=(e,i,t)=>(Sie(e,typeof i!="symbol"?i+"":i,t),t);class xie{constructor(){Mie(this,"ForEntityName","DIMENSION")}parseEntity(i,t){const s={type:t.value};for(t=i.next();!i.isEOF()&&t.code!==0;){switch(t.code){case 2:s.block=t.value;break;case 10:s.anchorPoint=Nt(i);break;case 11:s.middleOfText=Nt(i);break;case 12:s.insertionPoint=Nt(i);break;case 13:s.linearOrAngularPoint1=Nt(i);break;case 14:s.linearOrAngularPoint2=Nt(i);break;case 15:s.diameterOrRadiusPoint=Nt(i);break;case 16:s.arcPoint=Nt(i);break;case 70:s.dimensionType=t.value;break;case 71:s.attachmentPoint=t.value;break;case 42:s.actualMeasurement=t.value;break;case 1:s.text=t.value;break;case 50:s.angle=t.value;break;default:Gs(s,t,i);break}t=i.next()}return s}}var vie=Object.defineProperty,Gie=(e,i,t)=>i in e?vie(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,Eie=(e,i,t)=>(Gie(e,typeof i!="symbol"?i+"":i,t),t);class Cie{constructor(){Eie(this,"ForEntityName","MULTILEADER")}parseEntity(i,t){const s={type:t.value};s.contextData={leaders:[]},t=i.next();function n(){for(;!i.isEOF();){switch(t.code){case 0:return;case 340:s.leaderStyleId=t.value;break;case 170:s.leaderLineType=t.value;break;case 91:s.leaderLineColor=t.value;break;case 341:s.leaderLineTypeId=t.value;break;case 171:s.leaderLineWeight=t.value;break;case 41:s.doglegLength=t.value;break;case 290:s.enableLanding=t.value;break;case 291:s.enableDogLeg=t.value;break;case 342:s.arrowHeadId=t.value;break;case 42:s.arrowHeadSize=t.value;break;case 172:s.contentType=t.value;break;case 173:s.textLeftAttachmentType=t.value;break;case 95:s.textLeftAttachmentType=t.value;break;case 174:s.textAngleType=t.value;break;case 175:s.textAlignmentType=t.value;break;case 343:s.textStyleId=t.value;break;case 92:s.textColor=t.value;break;case 292:s.enableFrameText=t.value;break;case 344:s.blockContentId=t.value;break;case 93:s.blockContentColor=t.value;break;case 10:s.blockContentScale=Nt(i);break;case 43:s.blockContentRotation=t.value;break;case 176:s.blockContentConnectionType=t.value;break;case 293:s.enableAnotationScale=t.value;break;case 94:s.arrowHeadIndex=t.value;break;case 330:s.blockAttributeId=t.value;break;case 177:s.blockAttributeIndex=t.value;break;case 44:s.blockAttributeWidth=t.value;break;case 302:s.blockAttributeTextString=t.value;break;case 294:s.textDirectionNegative=t.value;break;case 178:s.textAlignInIPE=t.value;break;case 179:s.textAttachmentPoint=t.value;break;case 271:s.textAttachmentDirectionMText=t.value;break;case 272:s.textAttachmentDirectionBottom=t.value;break;case 273:s.textAttachmentDirectionTop=t.value;break;case 300:r();break;default:Gs(s,t,i);break}t=i.next()}}function r(){for(;!i.isEOF();){switch(t.code){case 40:s.contextData.contentScale=t.value;break;case 10:s.contextData.contentBasePosition=Nt(i);break;case 145:s.contextData.landingGap=t.value;break;case 290:s.contextData.hasMText=t.value;break;case 304:s.contextData.defaultTextContents=t.value;break;case 11:s.contextData.textNormalDirection=Nt(i);break;case 12:s.contextData.textLocation=Nt(i);break;case 13:s.contextData.textDirection=Nt(i);break;case 140:s.contextData.arrowHeadSize=t.value;break;case 41:s.contextData.textHeight=t.value;break;case 42:s.contextData.textRotation=t.value;break;case 43:s.contextData.textWidth=t.value;break;case 44:s.contextData.textHeight=t.value;break;case 45:s.contextData.textLineSpacingFactor=t.value;break;case 90:s.contextData.textColor=t.value;break;case 170:s.contextData.textLineSpacingStyle=t.value;break;case 171:s.contextData.textAttachment=t.value;break;case 172:s.contextData.textFlowDirection=t.value;break;case 141:s.contextData.textBackgroundScaleFactor=t.value;break;case 92:s.contextData.textBackgroundTransparency=t.value;break;case 291:s.contextData.textBackgroundColorOn=t.value;break;case 292:s.contextData.textBackgroundFillOn=t.value;break;case 293:s.contextData.textUseAutoHeight=t.value;break;case 173:s.contextData.textColumnType=t.value;break;case 142:s.contextData.textColumnWidth=t.value;break;case 143:s.contextData.textColumnGutterWidth=t.value;break;case 144:s.contextData.textColumnHeight=t.value;break;case 295:s.contextData.textUseWordBreak=t.value;break;case 296:s.contextData.hasBlock=t.value;break;case 341:s.contextData.blockContentId=t.value;break;case 14:s.contextData.blockContentNormalDirection=Nt(i);break;case 15:s.contextData.blockContentPosition=Nt(i);break;case 16:s.contextData.blockContentScale=t.value;break;case 46:s.contextData.blockContentRotation=t.value;break;case 93:s.contextData.blockContentColor=t.value;break;case 47:s.contextData.blockTransformationMatrix=sie(i,47);break;case 110:s.contextData.planeOriginPoint=Nt(i);break;case 111:s.contextData.planeXAxisDirection=Nt(i);break;case 112:s.contextData.planeYAxisDirection=Nt(i);break;case 297:s.contextData.planeNormalReversed=t.value;break;case 301:return;case 302:o();break}t=i.next()}}function o(){const l={leaderLines:[]};for(s.contextData.leaders.push(l);!i.isEOF();){switch(t.code){case 290:l.hasSetLastLeaderLinePoint=t.value;break;case 291:l.hasSetDoglegVector=t.value;break;case 10:l.lastLeaderLinePoint=Nt(i);break;case 11:l.doglegVector=Nt(i);break;case 90:l.leaderBranchIndex=t.value;break;case 40:l.doglegLength=t.value;break;case 303:return;case 304:a();break}t=i.next()}}function a(){const l=s.contextData.leaders[s.contextData.leaders.length-1],h={vertices:[[]]};for(l.leaderLines.push(h);!i.isEOF();){switch(t.code){case 10:h.vertices[0].push(Nt(i));break;case 305:return}t=i.next()}}return n(),s}}var Rie=Object.defineProperty,Nie=(e,i,t)=>i in e?Rie(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,Fie=(e,i,t)=>(Nie(e,typeof i!="symbol"?i+"":i,t),t);class Pie{constructor(){Fie(this,"ForEntityName","ELLIPSE")}parseEntity(i,t){const s={type:t.value};for(t=i.next();!i.isEOF()&&t.code!==0;){switch(t.code){case 10:s.center=Nt(i);break;case 11:s.majorAxisEndPoint=Nt(i);break;case 40:s.axisRatio=t.value;break;case 41:s.startAngle=t.value;break;case 42:s.endAngle=t.value;break;case 2:s.name=t.value;break;default:Gs(s,t,i);break}t=i.next()}return s}}var wie=Object.defineProperty,Xie=(e,i,t)=>i in e?wie(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,Die=(e,i,t)=>(Xie(e,typeof i!="symbol"?i+"":i,t),t);class Oie{constructor(){Die(this,"ForEntityName","INSERT")}parseEntity(i,t){const s={type:t.value};for(t=i.next();!i.isEOF()&&t.code!==0;){switch(t.code){case 2:s.name=t.value;break;case 41:s.xScale=t.value;break;case 42:s.yScale=t.value;break;case 43:s.zScale=t.value;break;case 10:s.position=Nt(i);break;case 50:s.rotation=t.value;break;case 70:s.columnCount=t.value;break;case 71:s.rowCount=t.value;break;case 44:s.columnSpacing=t.value;break;case 45:s.rowSpacing=t.value;break;case 210:s.extrusionDirection=Nt(i);break;default:Gs(s,t,i);break}t=i.next()}return s}}var zie=Object.defineProperty,Wie=(e,i,t)=>i in e?zie(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,Yie=(e,i,t)=>(Wie(e,typeof i!="symbol"?i+"":i,t),t);class kie{constructor(){Yie(this,"ForEntityName","LINE")}parseEntity(i,t){const s={type:t.value,vertices:[]};for(t=i.next();!i.isEOF()&&t.code!==0;){switch(t.code){case 10:s.vertices.unshift(Nt(i));break;case 11:s.vertices.push(Nt(i));break;case 210:s.extrusionDirection=Nt(i);break;case 100:break;default:Gs(s,t,i);break}t=i.next()}return s}}var Aie=Object.defineProperty,Kie=(e,i,t)=>i in e?Aie(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,Zie=(e,i,t)=>(Kie(e,typeof i!="symbol"?i+"":i,t),t);class Hie{constructor(){Zie(this,"ForEntityName","LWPOLYLINE")}parseEntity(i,t){const s={type:t.value,vertices:[]};let n=0;for(t=i.next();!i.isEOF()&&t.code!==0;){switch(t.code){case 38:s.elevation=t.value;break;case 39:s.depth=t.value;break;case 70:s.shape=(t.value&1)===1,s.hasContinuousLinetypePattern=(t.value&128)===128;break;case 90:n=t.value;break;case 10:s.vertices=Uie(n,i);break;case 43:t.value!==0&&(s.width=t.value);break;case 210:s.extrusionDirectionX=t.value;break;case 220:s.extrusionDirectionY=t.value;break;case 230:s.extrusionDirectionZ=t.value;break;default:Gs(s,t,i);break}t=i.next()}return s}}function Uie(e,i){if(!e||e<=0)throw Error("n must be greater than 0 verticies");const t=[];let s=!1,n=!1,r=i.lastReadGroup;for(let o=0;o<e;o++){const a={};for(;!i.isEOF()&&!(r.code===0||n);){switch(r.code){case 10:if(s){n=!0;continue}a.x=r.value,s=!0;break;case 20:a.y=r.value;break;case 30:a.z=r.value;break;case 40:a.startWidth=r.value;break;case 41:a.endWidth=r.value;break;case 42:r.value!=0&&(a.bulge=r.value);break;default:return i.rewind(),s&&t.push(a),i.rewind(),t}r=i.next()}t.push(a),s=!1,n=!1}return i.rewind(),t}var _ie=Object.defineProperty,Vie=(e,i,t)=>i in e?_ie(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,jie=(e,i,t)=>(Vie(e,typeof i!="symbol"?i+"":i,t),t);class Bie{constructor(){jie(this,"ForEntityName","MTEXT")}parseEntity(i,t){const s={type:t.value};for(t=i.next();!i.isEOF()&&t.code!==0;){switch(t.code){case 3:s.text?s.text+=t.value:s.text=t.value;break;case 1:s.text?s.text+=t.value:s.text=t.value;break;case 10:s.position=Nt(i);break;case 11:s.directionVector=Nt(i);break;case 40:s.height=t.value;break;case 41:s.width=t.value;break;case 50:s.rotation=t.value;break;case 71:s.attachmentPoint=t.value;break;case 72:s.drawingDirection=t.value;break;default:Gs(s,t,i);break}t=i.next()}return s}}var Jie=Object.defineProperty,Qie=(e,i,t)=>i in e?Jie(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,qie=(e,i,t)=>(Qie(e,typeof i!="symbol"?i+"":i,t),t);class $ie{constructor(){qie(this,"ForEntityName","POINT")}parseEntity(i,t){const s={type:t.value};for(t=i.next();!i.isEOF()&&t.code!==0;){switch(t.code){case 10:s.position=Nt(i);break;case 39:s.thickness=t.value;break;case 210:s.extrusionDirection=Nt(i);break;case 100:break;default:Gs(s,t,i);break}t=i.next()}return s}}var ese=Object.defineProperty,tse=(e,i,t)=>i in e?ese(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,ise=(e,i,t)=>(tse(e,typeof i!="symbol"?i+"":i,t),t);class sse{constructor(){ise(this,"ForEntityName","VERTEX")}parseEntity(i,t){var s={type:t.value};for(t=i.next();!i.isEOF()&&t.code!==0;){switch(t.code){case 10:s.x=t.value;break;case 20:s.y=t.value;break;case 30:s.z=t.value;break;case 40:break;case 41:break;case 42:t.value!=0&&(s.bulge=t.value);break;case 70:s.curveFittingVertex=(t.value&1)!==0,s.curveFitTangent=(t.value&2)!==0,s.splineVertex=(t.value&8)!==0,s.splineControlPoint=(t.value&16)!==0,s.threeDPolylineVertex=(t.value&32)!==0,s.threeDPolylineMesh=(t.value&64)!==0,s.polyfaceMeshVertex=(t.value&128)!==0;break;case 50:break;case 71:s.faceA=t.value;break;case 72:s.faceB=t.value;break;case 73:s.faceC=t.value;break;case 74:s.faceD=t.value;break;default:Gs(s,t,i);break}t=i.next()}return s}}var nse=Object.defineProperty,rse=(e,i,t)=>i in e?nse(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,ose=(e,i,t)=>(rse(e,typeof i!="symbol"?i+"":i,t),t);class ase{constructor(){ose(this,"ForEntityName","POLYLINE")}parseEntity(i,t){var s={type:t.value,vertices:[]};for(t=i.next();!i.isEOF()&&t.code!==0;){switch(t.code){case 10:break;case 20:break;case 30:break;case 39:s.thickness=t.value;break;case 40:break;case 41:break;case 70:s.shape=(t.value&1)!==0,s.includesCurveFitVertices=(t.value&2)!==0,s.includesSplineFitVertices=(t.value&4)!==0,s.is3dPolyline=(t.value&8)!==0,s.is3dPolygonMesh=(t.value&16)!==0,s.is3dPolygonMeshClosed=(t.value&32)!==0,s.isPolyfaceMesh=(t.value&64)!==0,s.hasContinuousLinetypePattern=(t.value&128)!==0;break;case 71:break;case 72:break;case 73:break;case 74:break;case 75:break;case 210:s.extrusionDirection=Nt(i);break;default:Gs(s,t,i);break}t=i.next()}return s.vertices=lse(i,t),s}}function lse(e,i){const t=new sse,s=[];for(;!e.isEOF();)if(i.code===0){if(i.value==="VERTEX")s.push(t.parseEntity(e,i)),i=e.lastReadGroup;else if(i.value==="SEQEND"){hse(e,i);break}}return s}function hse(e,i){const t={type:i.value};for(i=e.next();!e.isEOF()&&i.code!=0;)Gs(t,i,e),i=e.next();return t}var cse=Object.defineProperty,use=(e,i,t)=>i in e?cse(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,pse=(e,i,t)=>(use(e,typeof i!="symbol"?i+"":i,t),t);class dse{constructor(){pse(this,"ForEntityName","SOLID")}parseEntity(i,t){const s={type:t.value,points:[]};for(t=i.next();!i.isEOF()&&t.code!==0;){switch(t.code){case 10:s.points[0]=Nt(i);break;case 11:s.points[1]=Nt(i);break;case 12:s.points[2]=Nt(i);break;case 13:s.points[3]=Nt(i);break;case 210:s.extrusionDirection=Nt(i);break;default:Gs(s,t,i);break}t=i.next()}return s}}var mse=Object.defineProperty,yse=(e,i,t)=>i in e?mse(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,fse=(e,i,t)=>(yse(e,typeof i!="symbol"?i+"":i,t),t);class Tse{constructor(){fse(this,"ForEntityName","SPLINE")}parseEntity(i,t){const s={type:t.value};for(t=i.next();!i.isEOF()&&t.code!==0;){switch(t.code){case 10:s.controlPoints||(s.controlPoints=[]),s.controlPoints.push(Nt(i));break;case 11:s.fitPoints||(s.fitPoints=[]),s.fitPoints.push(Nt(i));break;case 12:s.startTangent=Nt(i);break;case 13:s.endTangent=Nt(i);break;case 40:s.knotValues||(s.knotValues=[]),s.knotValues.push(t.value);break;case 70:(t.value&1)!=0&&(s.closed=!0),(t.value&2)!=0&&(s.periodic=!0),(t.value&4)!=0&&(s.rational=!0),(t.value&8)!=0&&(s.planar=!0),(t.value&16)!=0&&(s.planar=!0,s.linear=!0);break;case 71:s.degreeOfSplineCurve=t.value;break;case 72:s.numberOfKnots=t.value;break;case 73:s.numberOfControlPoints=t.value;break;case 74:s.numberOfFitPoints=t.value;break;case 210:s.normalVector=Nt(i);break;default:Gs(s,t,i);break}t=i.next()}return s}}var gse=Object.defineProperty,bse=(e,i,t)=>i in e?gse(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,Ise=(e,i,t)=>(bse(e,typeof i!="symbol"?i+"":i,t),t);class Lse{constructor(){Ise(this,"ForEntityName","TEXT")}parseEntity(i,t){const s={type:t.value};for(t=i.next();!i.isEOF()&&t.code!==0;){switch(t.code){case 10:s.startPoint=Nt(i);break;case 11:s.endPoint=Nt(i);break;case 40:s.textHeight=t.value;break;case 41:s.xScale=t.value;break;case 50:s.rotation=t.value;break;case 1:s.text=t.value;break;case 72:s.halign=t.value;break;case 73:s.valign=t.value;break;default:Gs(s,t,i);break}t=i.next()}return s}}var N3={exports:{}};(function(e){(function(i,t){e.exports?e.exports=t():i.log=t()})(z0,function(){var i=function(){},t="undefined",s=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"];function r(g,I){var v=g[I];if(typeof v.bind=="function")return v.bind(g);try{return Function.prototype.bind.call(v,g)}catch{return function(){return Function.prototype.apply.apply(v,[g,arguments])}}}function o(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function a(g){return g==="debug"&&(g="log"),typeof console===t?!1:g==="trace"&&s?o:console[g]!==void 0?r(console,g):console.log!==void 0?r(console,"log"):i}function l(g,I){for(var v=0;v<n.length;v++){var C=n[v];this[C]=v<g?i:this.methodFactory(C,g,I)}this.log=this.debug}function h(g,I,v){return function(){typeof console!==t&&(l.call(this,I,v),this[g].apply(this,arguments))}}function c(g,I,v){return a(g)||h.apply(this,arguments)}function u(g,I,v){var C=this,N;I=I??"WARN";var F="loglevel";typeof g=="string"?F+=":"+g:typeof g=="symbol"&&(F=void 0);function P(K){var ee=(n[K]||"silent").toUpperCase();if(!(typeof window===t||!F)){try{window.localStorage[F]=ee;return}catch{}try{window.document.cookie=encodeURIComponent(F)+"="+ee+";"}catch{}}}function w(){var K;if(!(typeof window===t||!F)){try{K=window.localStorage[F]}catch{}if(typeof K===t)try{var ee=window.document.cookie,ce=ee.indexOf(encodeURIComponent(F)+"=");ce!==-1&&(K=/^([^;]+)/.exec(ee.slice(ce))[1])}catch{}return C.levels[K]===void 0&&(K=void 0),K}}function O(){if(!(typeof window===t||!F)){try{window.localStorage.removeItem(F);return}catch{}try{window.document.cookie=encodeURIComponent(F)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}C.name=g,C.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},C.methodFactory=v||c,C.getLevel=function(){return N},C.setLevel=function(K,ee){if(typeof K=="string"&&C.levels[K.toUpperCase()]!==void 0&&(K=C.levels[K.toUpperCase()]),typeof K=="number"&&K>=0&&K<=C.levels.SILENT){if(N=K,ee!==!1&&P(K),l.call(C,K,g),typeof console===t&&K<C.levels.SILENT)return"No console available for logging"}else throw"log.setLevel() called with invalid level: "+K},C.setDefaultLevel=function(K){I=K,w()||C.setLevel(K,!1)},C.resetLevel=function(){C.setLevel(I,!1),O()},C.enableAll=function(K){C.setLevel(C.levels.TRACE,K)},C.disableAll=function(K){C.setLevel(C.levels.SILENT,K)};var X=w();X==null&&(X=I),C.setLevel(X,!1)}var p=new u,d={};p.getLogger=function(I){if(typeof I!="symbol"&&typeof I!="string"||I==="")throw new TypeError("You must supply a name when creating a logger.");var v=d[I];return v||(v=d[I]=new u(I,p.getLevel(),p.methodFactory)),v};var T=typeof window!==t?window.log:void 0;return p.noConflict=function(){return typeof window!==t&&window.log===p&&(window.log=T),p},p.getLoggers=function(){return d},p.default=p,p})})(N3);var ui=N3.exports,Sse=Object.defineProperty,Mse=(e,i,t)=>i in e?Sse(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,xse=(e,i,t)=>(Mse(e,typeof i!="symbol"?i+"":i,t),t);ui.setLevel("error");function vse(e){e.registerEntityHandler(aie),e.registerEntityHandler(pie),e.registerEntityHandler(fie),e.registerEntityHandler(Iie),e.registerEntityHandler(xie),e.registerEntityHandler(Cie),e.registerEntityHandler(Pie),e.registerEntityHandler(Oie),e.registerEntityHandler(kie),e.registerEntityHandler(Hie),e.registerEntityHandler(Bie),e.registerEntityHandler($ie),e.registerEntityHandler(ase),e.registerEntityHandler(dse),e.registerEntityHandler(Tse),e.registerEntityHandler(Lse)}class Gse{constructor(){xse(this,"_entityHandlers",{}),vse(this)}parse(i){return typeof i=="string"?this._parse(i):(console.error("Cannot read dxf source of type `"+typeof i),null)}registerEntityHandler(i){const t=new i;this._entityHandlers[t.ForEntityName]=t}parseSync(i){return this.parse(i)}parseStream(i){let t="";const s=this;return new Promise((n,r)=>{i.on("data",o=>{t+=o}),i.on("end",()=>{try{n(s._parse(t))}catch(o){r(o)}}),i.on("error",o=>{r(o)})})}_parse(i){const t={};let s=0;const n=i.split(/\r\n|\r|\n/g),r=new eie(n);if(!r.hasNext())throw Error("Empty file");const o=this;let a;function l(){for(a=r.next();!r.isEOF();)if(a.code===0&&a.value==="SECTION"){if(a=r.next(),a.code!==2){console.error("Unexpected code %s after 0:SECTION",F3(a)),a=r.next();continue}a.value==="HEADER"?(ui.debug("> HEADER"),t.header=h(),ui.debug("<")):a.value==="BLOCKS"?(ui.debug("> BLOCKS"),t.blocks=c(),ui.debug("<")):a.value==="ENTITIES"?(ui.debug("> ENTITIES"),t.entities=N(!1),ui.debug("<")):a.value==="TABLES"?(ui.debug("> TABLES"),t.tables=p(),ui.debug("<")):a.value==="EOF"?ui.debug("EOF"):ui.warn("Skipping section '%s'",a.value)}else a=r.next()}function h(){let w=null,O=null;const X={};for(a=r.next();;){if(Vr(a,0,"ENDSEC")){w&&(X[w]=O);break}else a.code===9?(w&&(X[w]=O),w=a.value):a.code===10?O={x:a.value}:a.code===20?O.y=a.value:a.code===30?O.z=a.value:O=a.value;a=r.next()}return a=r.next(),X}function c(){const w={};for(a=r.next();a.value!=="EOF"&&!Vr(a,0,"ENDSEC");)if(Vr(a,0,"BLOCK")){ui.debug("block {");const O=u();ui.debug("}"),P(O),O.name?w[O.name]=O:ui.error('block with handle "'+O.handle+'" is missing a name.')}else Sl(a),a=r.next();return w}function u(){const w={};for(a=r.next();a.value!=="EOF";){switch(a.code){case 1:w.xrefPath=a.value,a=r.next();break;case 2:w.name=a.value,a=r.next();break;case 3:w.name2=a.value,a=r.next();break;case 5:w.handle=a.value,a=r.next();break;case 8:w.layer=a.value,a=r.next();break;case 10:w.position=F(a),a=r.next();break;case 67:w.paperSpace=!!(a.value&&a.value==1),a=r.next();break;case 70:a.value!=0&&(w.type=a.value),a=r.next();break;case 100:a=r.next();break;case 330:w.ownerHandle=a.value,a=r.next();break;case 0:if(a.value=="ENDBLK")break;w.entities=N(!0);break;default:Sl(a),a=r.next()}if(Vr(a,0,"ENDBLK")){a=r.next();break}}return w}function p(){const w={};for(a=r.next();a.value!=="EOF"&&!Vr(a,0,"ENDSEC");)Vr(a,0,"TABLE")?(a=r.next(),C[a.value]?(ui.debug(a.value+" Table {"),w[C[a.value].tableName]=T(a),ui.debug("}")):ui.debug("Unhandled Table "+a.value)):a=r.next();return a=r.next(),w}const d="ENDTAB";function T(w){const O=C[w.value],X={};let K=0;for(a=r.next();!Vr(a,0,d);)switch(a.code){case 5:X.handle=a.value,a=r.next();break;case 330:X.ownerHandle=a.value,a=r.next();break;case 100:a.value==="AcDbSymbolTable"||Sl(a),a=r.next();break;case 70:K=a.value,a=r.next();break;case 0:a.value===O.dxfSymbolName?X[O.tableRecordsProperty]=O.parseTableRecords():(Sl(a),a=r.next());break;default:Sl(a),a=r.next()}const ee=X[O.tableRecordsProperty];if(ee){let ce=(()=>{if(ee.constructor===Array)return ee.length;if(typeof ee=="object")return Object.keys(ee).length})();K!==ce&&ui.warn("Parsed "+ce+" "+O.dxfSymbolName+"'s but expected "+K)}return a=r.next(),X}function g(){const w=[];let O={};for(ui.debug("ViewPort {"),a=r.next();!Vr(a,0,d);)switch(a.code){case 2:O.name=a.value,a=r.next();break;case 10:O.lowerLeftCorner=F(a),a=r.next();break;case 11:O.upperRightCorner=F(a),a=r.next();break;case 12:O.center=F(a),a=r.next();break;case 13:O.snapBasePoint=F(a),a=r.next();break;case 14:O.snapSpacing=F(a),a=r.next();break;case 15:O.gridSpacing=F(a),a=r.next();break;case 16:O.viewDirectionFromTarget=F(a),a=r.next();break;case 17:O.viewTarget=F(a),a=r.next();break;case 42:O.lensLength=a.value,a=r.next();break;case 43:O.frontClippingPlane=a.value,a=r.next();break;case 44:O.backClippingPlane=a.value,a=r.next();break;case 45:O.viewHeight=a.value,a=r.next();break;case 50:O.snapRotationAngle=a.value,a=r.next();break;case 51:O.viewTwistAngle=a.value,a=r.next();break;case 79:O.orthographicType=a.value,a=r.next();break;case 110:O.ucsOrigin=F(a),a=r.next();break;case 111:O.ucsXAxis=F(a),a=r.next();break;case 112:O.ucsYAxis=F(a),a=r.next();break;case 110:O.ucsOrigin=F(a),a=r.next();break;case 281:O.renderMode=a.value,a=r.next();break;case 281:O.defaultLightingType=a.value,a=r.next();break;case 292:O.defaultLightingOn=a.value,a=r.next();break;case 330:O.ownerHandle=a.value,a=r.next();break;case 63:case 421:case 431:O.ambientColor=a.value,a=r.next();break;case 0:a.value==="VPORT"&&(ui.debug("}"),w.push(O),ui.debug("ViewPort {"),O={},a=r.next());break;default:Sl(a),a=r.next();break}return ui.debug("}"),w.push(O),w}function I(){const w={};let O={},X=0,K;for(ui.debug("LType {"),a=r.next();!Vr(a,0,"ENDTAB");)switch(a.code){case 2:O.name=a.value,K=a.value,a=r.next();break;case 3:O.description=a.value,a=r.next();break;case 73:X=a.value,X>0&&(O.pattern=[]),a=r.next();break;case 40:O.patternLength=a.value,a=r.next();break;case 49:O.pattern.push(a.value),a=r.next();break;case 0:ui.debug("}"),X>0&&X!==O.pattern.length&&ui.warn("lengths do not match on LTYPE pattern"),w[K]=O,O={},ui.debug("LType {"),a=r.next();break;default:a=r.next()}return ui.debug("}"),w[K]=O,w}function v(){const w={};let O={},X;for(ui.debug("Layer {"),a=r.next();!Vr(a,0,"ENDTAB");)switch(a.code){case 2:O.name=a.value,X=a.value,a=r.next();break;case 62:O.visible=a.value>=0,O.colorIndex=Math.abs(a.value),O.color=Ese(O.colorIndex),a=r.next();break;case 70:O.frozen=(a.value&1)!=0||(a.value&2)!=0,a=r.next();break;case 420:O.color=Math.abs(a.value),a=r.next();break;case 0:a.value==="LAYER"&&(ui.debug("}"),w[X]=O,ui.debug("Layer {"),O={},X=void 0,a=r.next());break;default:Sl(a),a=r.next();break}return ui.debug("}"),w[X]=O,w}const C={VPORT:{tableRecordsProperty:"viewPorts",tableName:"viewPort",dxfSymbolName:"VPORT",parseTableRecords:g},LTYPE:{tableRecordsProperty:"lineTypes",tableName:"lineType",dxfSymbolName:"LTYPE",parseTableRecords:I},LAYER:{tableRecordsProperty:"layers",tableName:"layer",dxfSymbolName:"LAYER",parseTableRecords:v}};function N(w){const O=[],X=w?"ENDBLK":"ENDSEC";for(w||(a=r.next());;)if(a.code===0){if(a.value===X)break;const K=o._entityHandlers[a.value];if(K!=null){ui.debug(a.value+" {");const ee=K.parseEntity(r,a);a=r.lastReadGroup,ui.debug("}"),P(ee),O.push(ee)}else{ui.warn("Unhandled entity "+a.value),a=r.next();continue}}else a=r.next();return X=="ENDSEC"&&(a=r.next()),O}function F(w){const O={};let X=w.code;if(O.x=w.value,X+=10,w=r.next(),w.code!=X)throw new Error("Expected code for point value to be "+X+" but got "+w.code+".");return O.y=w.value,X+=10,w=r.next(),w.code!=X?(r.rewind(),O):(O.z=w.value,O)}function P(w){if(!w)throw new TypeError("entity cannot be undefined or null");w.handle||(w.handle=s++)}return l(),t}}function Vr(e,i,t){return e.code===i&&e.value===t}function Sl(e){ui.debug("unhandled group "+F3(e))}function F3(e){return e.code+":"+e.value}function Ese(e){return R3[e]}var P3=(e,i,t)=>new Promise((s,n)=>{var r=l=>{try{a(t.next(l))}catch(h){n(h)}},o=l=>{try{a(t.throw(l))}catch(h){n(h)}},a=l=>l.done?s(l.value):Promise.resolve(l.value).then(r,o);a((t=t.apply(e,i)).next())});function Cse(e){return P3(this,null,function*(){try{return(yield fetch(e)).text()}catch{throw new Error("Failed to download file")}})}function Rse(e){return P3(this,null,function*(){const i=new Gse;try{const t=yield Cse(e),s=i.parse(t);console.log("dxf",s)}catch(t){console.error(t.stack)}})}var w3=Object.freeze({__proto__:null,loadLine:D1,loadMesh:O1,loadIFC:jte,stringToHex:Sa,loadLandXML:Qte,loadDXF:Rse}),Lf={exports:{}};(function(e,i){(function(t,s){e.exports=s()})(z0,function(){for(var t=function(x,E,z){return E===void 0&&(E=0),z===void 0&&(z=1),x<E?E:x>z?z:x},s=t,n=function(x){x._clipped=!1,x._unclipped=x.slice(0);for(var E=0;E<=3;E++)E<3?((x[E]<0||x[E]>255)&&(x._clipped=!0),x[E]=s(x[E],0,255)):E===3&&(x[E]=s(x[E],0,1));return x},r={},o=0,a=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];o<a.length;o+=1){var l=a[o];r["[object "+l+"]"]=l.toLowerCase()}var h=function(x){return r[Object.prototype.toString.call(x)]||"object"},c=h,u=function(x,E){return E===void 0&&(E=null),x.length>=3?Array.prototype.slice.call(x):c(x[0])=="object"&&E?E.split("").filter(function(z){return x[0][z]!==void 0}).map(function(z){return x[0][z]}):x[0]},p=h,d=function(x){if(x.length<2)return null;var E=x.length-1;return p(x[E])=="string"?x[E].toLowerCase():null},T=Math.PI,g={clip_rgb:n,limit:t,type:h,unpack:u,last:d,PI:T,TWOPI:T*2,PITHIRD:T/3,DEG2RAD:T/180,RAD2DEG:180/T},I={format:{},autodetect:[]},v=g.last,C=g.clip_rgb,N=g.type,F=I,P=function(){for(var E=[],z=arguments.length;z--;)E[z]=arguments[z];var U=this;if(N(E[0])==="object"&&E[0].constructor&&E[0].constructor===this.constructor)return E[0];var B=v(E),ie=!1;if(!B){ie=!0,F.sorted||(F.autodetect=F.autodetect.sort(function(pe,ze){return ze.p-pe.p}),F.sorted=!0);for(var te=0,he=F.autodetect;te<he.length;te+=1){var le=he[te];if(B=le.test.apply(le,E),B)break}}if(F.format[B]){var re=F.format[B].apply(null,ie?E:E.slice(0,-1));U._rgb=C(re)}else throw new Error("unknown format: "+E);U._rgb.length===3&&U._rgb.push(1)};P.prototype.toString=function(){return N(this.hex)=="function"?this.hex():"["+this._rgb.join(",")+"]"};var w=P,O=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];return new(Function.prototype.bind.apply(O.Color,[null].concat(x)))};O.Color=w,O.version="2.4.2";var X=O,K=g.unpack,ee=Math.max,ce=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];var z=K(x,"rgb"),U=z[0],B=z[1],ie=z[2];U=U/255,B=B/255,ie=ie/255;var te=1-ee(U,ee(B,ie)),he=te<1?1/(1-te):0,le=(1-U-te)*he,re=(1-B-te)*he,pe=(1-ie-te)*he;return[le,re,pe,te]},me=ce,ae=g.unpack,oe=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];x=ae(x,"cmyk");var z=x[0],U=x[1],B=x[2],ie=x[3],te=x.length>4?x[4]:1;return ie===1?[0,0,0,te]:[z>=1?0:255*(1-z)*(1-ie),U>=1?0:255*(1-U)*(1-ie),B>=1?0:255*(1-B)*(1-ie),te]},Se=oe,Pe=X,xe=w,Re=I,fe=g.unpack,be=g.type,Be=me;xe.prototype.cmyk=function(){return Be(this._rgb)},Pe.cmyk=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];return new(Function.prototype.bind.apply(xe,[null].concat(x,["cmyk"])))},Re.format.cmyk=Se,Re.autodetect.push({p:2,test:function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];if(x=fe(x,"cmyk"),be(x)==="array"&&x.length===4)return"cmyk"}});var Xe=g.unpack,$e=g.last,rt=function(x){return Math.round(x*100)/100},Ct=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];var z=Xe(x,"hsla"),U=$e(x)||"lsa";return z[0]=rt(z[0]||0),z[1]=rt(z[1]*100)+"%",z[2]=rt(z[2]*100)+"%",U==="hsla"||z.length>3&&z[3]<1?(z[3]=z.length>3?z[3]:1,U="hsla"):z.length=3,U+"("+z.join(",")+")"},Me=Ct,pi=g.unpack,St=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];x=pi(x,"rgba");var z=x[0],U=x[1],B=x[2];z/=255,U/=255,B/=255;var ie=Math.min(z,U,B),te=Math.max(z,U,B),he=(te+ie)/2,le,re;return te===ie?(le=0,re=Number.NaN):le=he<.5?(te-ie)/(te+ie):(te-ie)/(2-te-ie),z==te?re=(U-B)/(te-ie):U==te?re=2+(B-z)/(te-ie):B==te&&(re=4+(z-U)/(te-ie)),re*=60,re<0&&(re+=360),x.length>3&&x[3]!==void 0?[re,le,he,x[3]]:[re,le,he]},Lt=St,lt=g.unpack,xi=g.last,Mt=Me,et=Lt,Ut=Math.round,Wi=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];var z=lt(x,"rgba"),U=xi(x)||"rgb";return U.substr(0,3)=="hsl"?Mt(et(z),U):(z[0]=Ut(z[0]),z[1]=Ut(z[1]),z[2]=Ut(z[2]),(U==="rgba"||z.length>3&&z[3]<1)&&(z[3]=z.length>3?z[3]:1,U="rgba"),U+"("+z.slice(0,U==="rgb"?3:4).join(",")+")")},wi=Wi,Ve=g.unpack,Ti=Math.round,gi=function(){for(var x,E=[],z=arguments.length;z--;)E[z]=arguments[z];E=Ve(E,"hsl");var U=E[0],B=E[1],ie=E[2],te,he,le;if(B===0)te=he=le=ie*255;else{var re=[0,0,0],pe=[0,0,0],ze=ie<.5?ie*(1+B):ie+B-ie*B,Ge=2*ie-ze,ke=U/360;re[0]=ke+1/3,re[1]=ke,re[2]=ke-1/3;for(var st=0;st<3;st++)re[st]<0&&(re[st]+=1),re[st]>1&&(re[st]-=1),6*re[st]<1?pe[st]=Ge+(ze-Ge)*6*re[st]:2*re[st]<1?pe[st]=ze:3*re[st]<2?pe[st]=Ge+(ze-Ge)*(2/3-re[st])*6:pe[st]=Ge;x=[Ti(pe[0]*255),Ti(pe[1]*255),Ti(pe[2]*255)],te=x[0],he=x[1],le=x[2]}return E.length>3?[te,he,le,E[3]]:[te,he,le,1]},Ws=gi,Es=Ws,$=I,J=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,Ne=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,Ze=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Je=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Ue=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,xt=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,ve=Math.round,dt=function(x){x=x.toLowerCase().trim();var E;if($.format.named)try{return $.format.named(x)}catch{}if(E=x.match(J)){for(var z=E.slice(1,4),U=0;U<3;U++)z[U]=+z[U];return z[3]=1,z}if(E=x.match(Ne)){for(var B=E.slice(1,5),ie=0;ie<4;ie++)B[ie]=+B[ie];return B}if(E=x.match(Ze)){for(var te=E.slice(1,4),he=0;he<3;he++)te[he]=ve(te[he]*2.55);return te[3]=1,te}if(E=x.match(Je)){for(var le=E.slice(1,5),re=0;re<3;re++)le[re]=ve(le[re]*2.55);return le[3]=+le[3],le}if(E=x.match(Ue)){var pe=E.slice(1,4);pe[1]*=.01,pe[2]*=.01;var ze=Es(pe);return ze[3]=1,ze}if(E=x.match(xt)){var Ge=E.slice(1,4);Ge[1]*=.01,Ge[2]*=.01;var ke=Es(Ge);return ke[3]=+E[4],ke}};dt.test=function(x){return J.test(x)||Ne.test(x)||Ze.test(x)||Je.test(x)||Ue.test(x)||xt.test(x)};var ot=dt,mt=X,at=w,Pt=I,ti=g.type,Kt=wi,ue=ot;at.prototype.css=function(x){return Kt(this._rgb,x)},mt.css=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];return new(Function.prototype.bind.apply(at,[null].concat(x,["css"])))},Pt.format.css=ue,Pt.autodetect.push({p:5,test:function(x){for(var E=[],z=arguments.length-1;z-- >0;)E[z]=arguments[z+1];if(!E.length&&ti(x)==="string"&&ue.test(x))return"css"}});var we=w,Ee=X,tt=I,Ae=g.unpack;tt.format.gl=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];var z=Ae(x,"rgba");return z[0]*=255,z[1]*=255,z[2]*=255,z},Ee.gl=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];return new(Function.prototype.bind.apply(we,[null].concat(x,["gl"])))},we.prototype.gl=function(){var x=this._rgb;return[x[0]/255,x[1]/255,x[2]/255,x[3]]};var jt=g.unpack,$i=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];var z=jt(x,"rgb"),U=z[0],B=z[1],ie=z[2],te=Math.min(U,B,ie),he=Math.max(U,B,ie),le=he-te,re=le*100/255,pe=te/(255-le)*100,ze;return le===0?ze=Number.NaN:(U===he&&(ze=(B-ie)/le),B===he&&(ze=2+(ie-U)/le),ie===he&&(ze=4+(U-B)/le),ze*=60,ze<0&&(ze+=360)),[ze,re,pe]},Ei=$i,Zi=g.unpack,Ci=Math.floor,hn=function(){for(var x,E,z,U,B,ie,te=[],he=arguments.length;he--;)te[he]=arguments[he];te=Zi(te,"hcg");var le=te[0],re=te[1],pe=te[2],ze,Ge,ke;pe=pe*255;var st=re*255;if(re===0)ze=Ge=ke=pe;else{le===360&&(le=0),le>360&&(le-=360),le<0&&(le+=360),le/=60;var Xt=Ci(le),oi=le-Xt,Ii=pe*(1-re),Gi=Ii+st*(1-oi),Ks=Ii+st*oi,ws=Ii+st;switch(Xt){case 0:x=[ws,Ks,Ii],ze=x[0],Ge=x[1],ke=x[2];break;case 1:E=[Gi,ws,Ii],ze=E[0],Ge=E[1],ke=E[2];break;case 2:z=[Ii,ws,Ks],ze=z[0],Ge=z[1],ke=z[2];break;case 3:U=[Ii,Gi,ws],ze=U[0],Ge=U[1],ke=U[2];break;case 4:B=[Ks,Ii,ws],ze=B[0],Ge=B[1],ke=B[2];break;case 5:ie=[ws,Ii,Gi],ze=ie[0],Ge=ie[1],ke=ie[2];break}}return[ze,Ge,ke,te.length>3?te[3]:1]},Cs=hn,is=g.unpack,Rs=g.type,Sr=X,En=w,$n=I,jr=Ei;En.prototype.hcg=function(){return jr(this._rgb)},Sr.hcg=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];return new(Function.prototype.bind.apply(En,[null].concat(x,["hcg"])))},$n.format.hcg=Cs,$n.autodetect.push({p:1,test:function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];if(x=is(x,"hcg"),Rs(x)==="array"&&x.length===3)return"hcg"}});var q=g.unpack,Te=g.last,Le=Math.round,de=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];var z=q(x,"rgba"),U=z[0],B=z[1],ie=z[2],te=z[3],he=Te(x)||"auto";te===void 0&&(te=1),he==="auto"&&(he=te<1?"rgba":"rgb"),U=Le(U),B=Le(B),ie=Le(ie);var le=U<<16|B<<8|ie,re="000000"+le.toString(16);re=re.substr(re.length-6);var pe="0"+Le(te*255).toString(16);switch(pe=pe.substr(pe.length-2),he.toLowerCase()){case"rgba":return"#"+re+pe;case"argb":return"#"+pe+re;default:return"#"+re}},Fe=de,ct=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,ut=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,zt=function(x){if(x.match(ct)){(x.length===4||x.length===7)&&(x=x.substr(1)),x.length===3&&(x=x.split(""),x=x[0]+x[0]+x[1]+x[1]+x[2]+x[2]);var E=parseInt(x,16),z=E>>16,U=E>>8&255,B=E&255;return[z,U,B,1]}if(x.match(ut)){(x.length===5||x.length===9)&&(x=x.substr(1)),x.length===4&&(x=x.split(""),x=x[0]+x[0]+x[1]+x[1]+x[2]+x[2]+x[3]+x[3]);var ie=parseInt(x,16),te=ie>>24&255,he=ie>>16&255,le=ie>>8&255,re=Math.round((ie&255)/255*100)/100;return[te,he,le,re]}throw new Error("unknown hex color: "+x)},Rt=zt,di=X,yt=w,wt=g.type,Ri=I,Yn=Fe;yt.prototype.hex=function(x){return Yn(this._rgb,x)},di.hex=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];return new(Function.prototype.bind.apply(yt,[null].concat(x,["hex"])))},Ri.format.hex=Rt,Ri.autodetect.push({p:4,test:function(x){for(var E=[],z=arguments.length-1;z-- >0;)E[z]=arguments[z+1];if(!E.length&&wt(x)==="string"&&[3,4,5,6,7,8,9].indexOf(x.length)>=0)return"hex"}});var cn=g.unpack,qs=g.TWOPI,Dt=Math.min,li=Math.sqrt,ps=Math.acos,He=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];var z=cn(x,"rgb"),U=z[0],B=z[1],ie=z[2];U/=255,B/=255,ie/=255;var te,he=Dt(U,B,ie),le=(U+B+ie)/3,re=le>0?1-he/le:0;return re===0?te=NaN:(te=(U-B+(U-ie))/2,te/=li((U-B)*(U-B)+(U-ie)*(B-ie)),te=ps(te),ie>B&&(te=qs-te),te/=qs),[te*360,re,le]},Ns=He,Tt=g.unpack,kn=g.limit,W=g.TWOPI,Zt=g.PITHIRD,Ts=Math.cos,xo=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];x=Tt(x,"hsi");var z=x[0],U=x[1],B=x[2],ie,te,he;return isNaN(z)&&(z=0),isNaN(U)&&(U=0),z>360&&(z-=360),z<0&&(z+=360),z/=360,z<1/3?(he=(1-U)/3,ie=(1+U*Ts(W*z)/Ts(Zt-W*z))/3,te=1-(he+ie)):z<2/3?(z-=1/3,ie=(1-U)/3,te=(1+U*Ts(W*z)/Ts(Zt-W*z))/3,he=1-(ie+te)):(z-=2/3,te=(1-U)/3,he=(1+U*Ts(W*z)/Ts(Zt-W*z))/3,ie=1-(te+he)),ie=kn(B*ie*3),te=kn(B*te*3),he=kn(B*he*3),[ie*255,te*255,he*255,x.length>3?x[3]:1]},gs=xo,er=g.unpack,un=g.type,$s=X,Cn=w,tr=I,Mr=Ns;Cn.prototype.hsi=function(){return Mr(this._rgb)},$s.hsi=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];return new(Function.prototype.bind.apply(Cn,[null].concat(x,["hsi"])))},tr.format.hsi=gs,tr.autodetect.push({p:2,test:function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];if(x=er(x,"hsi"),un(x)==="array"&&x.length===3)return"hsi"}});var Wu=g.unpack,xr=g.type,Ma=X,vo=w,xa=I,ic=Lt;vo.prototype.hsl=function(){return ic(this._rgb)},Ma.hsl=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];return new(Function.prototype.bind.apply(vo,[null].concat(x,["hsl"])))},xa.format.hsl=Ws,xa.autodetect.push({p:2,test:function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];if(x=Wu(x,"hsl"),xr(x)==="array"&&x.length===3)return"hsl"}});var va=g.unpack,ir=Math.min,Yu=Math.max,Ga=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];x=va(x,"rgb");var z=x[0],U=x[1],B=x[2],ie=ir(z,U,B),te=Yu(z,U,B),he=te-ie,le,re,pe;return pe=te/255,te===0?(le=Number.NaN,re=0):(re=he/te,z===te&&(le=(U-B)/he),U===te&&(le=2+(B-z)/he),B===te&&(le=4+(z-U)/he),le*=60,le<0&&(le+=360)),[le,re,pe]},ku=Ga,Au=g.unpack,Jt=Math.floor,Ku=function(){for(var x,E,z,U,B,ie,te=[],he=arguments.length;he--;)te[he]=arguments[he];te=Au(te,"hsv");var le=te[0],re=te[1],pe=te[2],ze,Ge,ke;if(pe*=255,re===0)ze=Ge=ke=pe;else{le===360&&(le=0),le>360&&(le-=360),le<0&&(le+=360),le/=60;var st=Jt(le),Xt=le-st,oi=pe*(1-re),Ii=pe*(1-re*Xt),Gi=pe*(1-re*(1-Xt));switch(st){case 0:x=[pe,Gi,oi],ze=x[0],Ge=x[1],ke=x[2];break;case 1:E=[Ii,pe,oi],ze=E[0],Ge=E[1],ke=E[2];break;case 2:z=[oi,pe,Gi],ze=z[0],Ge=z[1],ke=z[2];break;case 3:U=[oi,Ii,pe],ze=U[0],Ge=U[1],ke=U[2];break;case 4:B=[Gi,oi,pe],ze=B[0],Ge=B[1],ke=B[2];break;case 5:ie=[pe,oi,Ii],ze=ie[0],Ge=ie[1],ke=ie[2];break}}return[ze,Ge,ke,te.length>3?te[3]:1]},Rn=Ku,Xi=g.unpack,Br=g.type,ii=X,ft=w,sc=I,k=ku;ft.prototype.hsv=function(){return k(this._rgb)},ii.hsv=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];return new(Function.prototype.bind.apply(ft,[null].concat(x,["hsv"])))},sc.format.hsv=Rn,sc.autodetect.push({p:2,test:function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];if(x=Xi(x,"hsv"),Br(x)==="array"&&x.length===3)return"hsv"}});var Hi={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},An=Hi,Ea=g.unpack,Ca=Math.pow,Ra=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];var z=Ea(x,"rgb"),U=z[0],B=z[1],ie=z[2],te=Jr(U,B,ie),he=te[0],le=te[1],re=te[2],pe=116*le-16;return[pe<0?0:pe,500*(he-le),200*(le-re)]},sr=function(x){return(x/=255)<=.04045?x/12.92:Ca((x+.055)/1.055,2.4)},en=function(x){return x>An.t3?Ca(x,1/3):x/An.t2+An.t0},Jr=function(x,E,z){x=sr(x),E=sr(E),z=sr(z);var U=en((.4124564*x+.3575761*E+.1804375*z)/An.Xn),B=en((.2126729*x+.7151522*E+.072175*z)/An.Yn),ie=en((.0193339*x+.119192*E+.9503041*z)/An.Zn);return[U,B,ie]},nr=Ra,Kn=Hi,Go=g.unpack,Eo=Math.pow,Co=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];x=Go(x,"lab");var z=x[0],U=x[1],B=x[2],ie,te,he,le,re,pe;return te=(z+16)/116,ie=isNaN(U)?te:te+U/500,he=isNaN(B)?te:te-B/200,te=Kn.Yn*Ro(te),ie=Kn.Xn*Ro(ie),he=Kn.Zn*Ro(he),le=Qr(3.2404542*ie-1.5371385*te-.4985314*he),re=Qr(-.969266*ie+1.8760108*te+.041556*he),pe=Qr(.0556434*ie-.2040259*te+1.0572252*he),[le,re,pe,x.length>3?x[3]:1]},Qr=function(x){return 255*(x<=.00304?12.92*x:1.055*Eo(x,1/2.4)-.055)},Ro=function(x){return x>Kn.t1?x*x*x:Kn.t2*(x-Kn.t0)},Nn=Co,No=g.unpack,Zn=g.type,Ml=X,Fo=w,Na=I,Zu=nr;Fo.prototype.lab=function(){return Zu(this._rgb)},Ml.lab=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];return new(Function.prototype.bind.apply(Fo,[null].concat(x,["lab"])))},Na.format.lab=Nn,Na.autodetect.push({p:2,test:function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];if(x=No(x,"lab"),Zn(x)==="array"&&x.length===3)return"lab"}});var Fa=g.unpack,Hu=g.RAD2DEG,nc=Math.sqrt,ns=Math.atan2,qr=Math.round,Qt=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];var z=Fa(x,"lab"),U=z[0],B=z[1],ie=z[2],te=nc(B*B+ie*ie),he=(ns(ie,B)*Hu+360)%360;return qr(te*1e4)===0&&(he=Number.NaN),[U,te,he]},pn=Qt,Uu=g.unpack,_u=nr,Vu=pn,vr=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];var z=Uu(x,"rgb"),U=z[0],B=z[1],ie=z[2],te=_u(U,B,ie),he=te[0],le=te[1],re=te[2];return Vu(he,le,re)},xl=vr,rc=g.unpack,Pa=g.DEG2RAD,oc=Math.sin,Po=Math.cos,Hn=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];var z=rc(x,"lch"),U=z[0],B=z[1],ie=z[2];return isNaN(ie)&&(ie=0),ie=ie*Pa,[U,Po(ie)*B,oc(ie)*B]},vl=Hn,ju=g.unpack,wo=vl,Xo=Nn,hs=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];x=ju(x,"lch");var z=x[0],U=x[1],B=x[2],ie=wo(z,U,B),te=ie[0],he=ie[1],le=ie[2],re=Xo(te,he,le),pe=re[0],ze=re[1],Ge=re[2];return[pe,ze,Ge,x.length>3?x[3]:1]},Gl=hs,ac=g.unpack,dn=Gl,lc=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];var z=ac(x,"hcl").reverse();return dn.apply(void 0,z)},wa=lc,El=g.unpack,Bu=g.type,Do=X,Xa=w,Oo=I,Fs=xl;Xa.prototype.lch=function(){return Fs(this._rgb)},Xa.prototype.hcl=function(){return Fs(this._rgb).reverse()},Do.lch=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];return new(Function.prototype.bind.apply(Xa,[null].concat(x,["lch"])))},Do.hcl=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];return new(Function.prototype.bind.apply(Xa,[null].concat(x,["hcl"])))},Oo.format.lch=Gl,Oo.format.hcl=wa,["lch","hcl"].forEach(function(x){return Oo.autodetect.push({p:2,test:function(){for(var E=[],z=arguments.length;z--;)E[z]=arguments[z];if(E=El(E,x),Bu(E)==="array"&&E.length===3)return x}})});var Cl={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},hc=Cl,Ju=w,Rl=I,mn=g.type,zo=hc,Qu=Rt,qu=Fe;Ju.prototype.name=function(){for(var x=qu(this._rgb,"rgb"),E=0,z=Object.keys(zo);E<z.length;E+=1){var U=z[E];if(zo[U]===x)return U.toLowerCase()}return x},Rl.format.named=function(x){if(x=x.toLowerCase(),zo[x])return Qu(zo[x]);throw new Error("unknown color name: "+x)},Rl.autodetect.push({p:5,test:function(x){for(var E=[],z=arguments.length-1;z-- >0;)E[z]=arguments[z+1];if(!E.length&&mn(x)==="string"&&zo[x.toLowerCase()])return"named"}});var rr=g.unpack,$u=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];var z=rr(x,"rgb"),U=z[0],B=z[1],ie=z[2];return(U<<16)+(B<<8)+ie},$r=$u,Da=g.type,ep=function(x){if(Da(x)=="number"&&x>=0&&x<=16777215){var E=x>>16,z=x>>8&255,U=x&255;return[E,z,U,1]}throw new Error("unknown num color: "+x)},tp=ep,Un=X,Nl=w,cc=I,ip=g.type,sp=$r;Nl.prototype.num=function(){return sp(this._rgb)},Un.num=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];return new(Function.prototype.bind.apply(Nl,[null].concat(x,["num"])))},cc.format.num=tp,cc.autodetect.push({p:5,test:function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];if(x.length===1&&ip(x[0])==="number"&&x[0]>=0&&x[0]<=16777215)return"num"}});var bs=X,Oa=w,Fl=I,Wo=g.unpack,uc=g.type,Ys=Math.round;Oa.prototype.rgb=function(x){return x===void 0&&(x=!0),x===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Ys)},Oa.prototype.rgba=function(x){return x===void 0&&(x=!0),this._rgb.slice(0,4).map(function(E,z){return z<3?x===!1?E:Ys(E):E})},bs.rgb=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];return new(Function.prototype.bind.apply(Oa,[null].concat(x,["rgb"])))},Fl.format.rgb=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];var z=Wo(x,"rgba");return z[3]===void 0&&(z[3]=1),z},Fl.autodetect.push({p:3,test:function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];if(x=Wo(x,"rgba"),uc(x)==="array"&&(x.length===3||x.length===4&&uc(x[3])=="number"&&x[3]>=0&&x[3]<=1))return"rgb"}});var za=Math.log,np=function(x){var E=x/100,z,U,B;return E<66?(z=255,U=E<6?0:-155.25485562709179-.44596950469579133*(U=E-2)+104.49216199393888*za(U),B=E<20?0:-254.76935184120902+.8274096064007395*(B=E-10)+115.67994401066147*za(B)):(z=351.97690566805693+.114206453784165*(z=E-55)-40.25366309332127*za(z),U=325.4494125711974+.07943456536662342*(U=E-50)-28.0852963507957*za(U),B=255),[z,U,B,1]},Pl=np,rp=Pl,Wa=g.unpack,Ps=Math.round,wl=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];for(var z=Wa(x,"rgb"),U=z[0],B=z[2],ie=1e3,te=4e4,he=.4,le;te-ie>he;){le=(te+ie)*.5;var re=rp(le);re[2]/re[0]>=B/U?te=le:ie=le}return Ps(le)},op=wl,Xl=X,Ya=w,ks=I,ap=op;Ya.prototype.temp=Ya.prototype.kelvin=Ya.prototype.temperature=function(){return ap(this._rgb)},Xl.temp=Xl.kelvin=Xl.temperature=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];return new(Function.prototype.bind.apply(Ya,[null].concat(x,["temp"])))},ks.format.temp=ks.format.kelvin=ks.format.temperature=Pl;var lp=g.unpack,Dl=Math.cbrt,ka=Math.pow,hp=Math.sign,eo=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];var z=lp(x,"rgb"),U=z[0],B=z[1],ie=z[2],te=[Yo(U/255),Yo(B/255),Yo(ie/255)],he=te[0],le=te[1],re=te[2],pe=Dl(.4122214708*he+.5363325363*le+.0514459929*re),ze=Dl(.2119034982*he+.6806995451*le+.1073969566*re),Ge=Dl(.0883024619*he+.2817188376*le+.6299787005*re);return[.2104542553*pe+.793617785*ze-.0040720468*Ge,1.9779984951*pe-2.428592205*ze+.4505937099*Ge,.0259040371*pe+.7827717662*ze-.808675766*Ge]},pc=eo;function Yo(x){var E=Math.abs(x);return E<.04045?x/12.92:(hp(x)||1)*ka((E+.055)/1.055,2.4)}var cp=g.unpack,Aa=Math.pow,up=Math.sign,pp=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];x=cp(x,"lab");var z=x[0],U=x[1],B=x[2],ie=Aa(z+.3963377774*U+.2158037573*B,3),te=Aa(z-.1055613458*U-.0638541728*B,3),he=Aa(z-.0894841775*U-1.291485548*B,3);return[255*ko(4.0767416621*ie-3.3077115913*te+.2309699292*he),255*ko(-1.2684380046*ie+2.6097574011*te-.3413193965*he),255*ko(-.0041960863*ie-.7034186147*te+1.707614701*he),x.length>3?x[3]:1]},dc=pp;function ko(x){var E=Math.abs(x);return E>.0031308?(up(x)||1)*(1.055*Aa(E,1/2.4)-.055):x*12.92}var dp=g.unpack,Ao=g.type,mp=X,mc=w,yc=I,yp=pc;mc.prototype.oklab=function(){return yp(this._rgb)},mp.oklab=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];return new(Function.prototype.bind.apply(mc,[null].concat(x,["oklab"])))},yc.format.oklab=dc,yc.autodetect.push({p:3,test:function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];if(x=dp(x,"oklab"),Ao(x)==="array"&&x.length===3)return"oklab"}});var Fn=g.unpack,fp=pc,Tp=pn,gp=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];var z=Fn(x,"rgb"),U=z[0],B=z[1],ie=z[2],te=fp(U,B,ie),he=te[0],le=te[1],re=te[2];return Tp(he,le,re)},bp=gp,Ko=g.unpack,Ka=vl,Za=dc,Ha=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];x=Ko(x,"lch");var z=x[0],U=x[1],B=x[2],ie=Ka(z,U,B),te=ie[0],he=ie[1],le=ie[2],re=Za(te,he,le),pe=re[0],ze=re[1],Ge=re[2];return[pe,ze,Ge,x.length>3?x[3]:1]},Ua=Ha,Ip=g.unpack,Lp=g.type,fc=X,Zo=w,Ho=I,_a=bp;Zo.prototype.oklch=function(){return _a(this._rgb)},fc.oklch=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];return new(Function.prototype.bind.apply(Zo,[null].concat(x,["oklch"])))},Ho.format.oklch=Ua,Ho.autodetect.push({p:3,test:function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];if(x=Ip(x,"oklch"),Lp(x)==="array"&&x.length===3)return"oklch"}});var Tc=w,Uo=g.type;Tc.prototype.alpha=function(x,E){return E===void 0&&(E=!1),x!==void 0&&Uo(x)==="number"?E?(this._rgb[3]=x,this):new Tc([this._rgb[0],this._rgb[1],this._rgb[2],x],"rgb"):this._rgb[3]};var yn=w;yn.prototype.clipped=function(){return this._rgb._clipped||!1};var Pn=w,gc=Hi;Pn.prototype.darken=function(x){x===void 0&&(x=1);var E=this,z=E.lab();return z[0]-=gc.Kn*x,new Pn(z,"lab").alpha(E.alpha(),!0)},Pn.prototype.brighten=function(x){return x===void 0&&(x=1),this.darken(-x)},Pn.prototype.darker=Pn.prototype.darken,Pn.prototype.brighter=Pn.prototype.brighten;var mi=w;mi.prototype.get=function(x){var E=x.split("."),z=E[0],U=E[1],B=this[z]();if(U){var ie=z.indexOf(U)-(z.substr(0,2)==="ok"?2:0);if(ie>-1)return B[ie];throw new Error("unknown channel "+U+" in mode "+z)}else return B};var Vt=w,hi=g.type,Ol=Math.pow,bc=1e-7,tn=20;Vt.prototype.luminance=function(x){if(x!==void 0&&hi(x)==="number"){if(x===0)return new Vt([0,0,0,this._rgb[3]],"rgb");if(x===1)return new Vt([255,255,255,this._rgb[3]],"rgb");var E=this.luminance(),z="rgb",U=tn,B=function(te,he){var le=te.interpolate(he,.5,z),re=le.luminance();return Math.abs(x-re)<bc||!U--?le:re>x?B(te,le):B(le,he)},ie=(E>x?B(new Vt([0,0,0]),this):B(this,new Vt([255,255,255]))).rgb();return new Vt(ie.concat([this._rgb[3]]))}return zl.apply(void 0,this._rgb.slice(0,3))};var zl=function(x,E,z){return x=Wl(x),E=Wl(E),z=Wl(z),.2126*x+.7152*E+.0722*z},Wl=function(x){return x/=255,x<=.03928?x/12.92:Ol((x+.055)/1.055,2.4)},As={},Ic=w,At=g.type,Va=As,Lc=function(x,E,z){z===void 0&&(z=.5);for(var U=[],B=arguments.length-3;B-- >0;)U[B]=arguments[B+3];var ie=U[0]||"lrgb";if(!Va[ie]&&!U.length&&(ie=Object.keys(Va)[0]),!Va[ie])throw new Error("interpolation mode "+ie+" is not defined");return At(x)!=="object"&&(x=new Ic(x)),At(E)!=="object"&&(E=new Ic(E)),Va[ie](x,E,z).alpha(x.alpha()+z*(E.alpha()-x.alpha()))},Sc=w,Sp=Lc;Sc.prototype.mix=Sc.prototype.interpolate=function(x,E){E===void 0&&(E=.5);for(var z=[],U=arguments.length-2;U-- >0;)z[U]=arguments[U+2];return Sp.apply(void 0,[this,x,E].concat(z))};var Mc=w;Mc.prototype.premultiply=function(x){x===void 0&&(x=!1);var E=this._rgb,z=E[3];return x?(this._rgb=[E[0]*z,E[1]*z,E[2]*z,z],this):new Mc([E[0]*z,E[1]*z,E[2]*z,z],"rgb")};var Yl=w,kl=Hi;Yl.prototype.saturate=function(x){x===void 0&&(x=1);var E=this,z=E.lch();return z[1]+=kl.Kn*x,z[1]<0&&(z[1]=0),new Yl(z,"lch").alpha(E.alpha(),!0)},Yl.prototype.desaturate=function(x){return x===void 0&&(x=1),this.saturate(-x)};var Al=w,Kl=g.type;Al.prototype.set=function(x,E,z){z===void 0&&(z=!1);var U=x.split("."),B=U[0],ie=U[1],te=this[B]();if(ie){var he=B.indexOf(ie)-(B.substr(0,2)==="ok"?2:0);if(he>-1){if(Kl(E)=="string")switch(E.charAt(0)){case"+":te[he]+=+E;break;case"-":te[he]+=+E;break;case"*":te[he]*=+E.substr(1);break;case"/":te[he]/=+E.substr(1);break;default:te[he]=+E}else if(Kl(E)==="number")te[he]=E;else throw new Error("unsupported value for Color.set");var le=new Al(te,B);return z?(this._rgb=le._rgb,this):le}throw new Error("unknown channel "+ie+" in mode "+B)}else return te};var Mp=w,xp=function(x,E,z){var U=x._rgb,B=E._rgb;return new Mp(U[0]+z*(B[0]-U[0]),U[1]+z*(B[1]-U[1]),U[2]+z*(B[2]-U[2]),"rgb")};As.rgb=xp;var vp=w,Zl=Math.sqrt,to=Math.pow,Gp=function(x,E,z){var U=x._rgb,B=U[0],ie=U[1],te=U[2],he=E._rgb,le=he[0],re=he[1],pe=he[2];return new vp(Zl(to(B,2)*(1-z)+to(le,2)*z),Zl(to(ie,2)*(1-z)+to(re,2)*z),Zl(to(te,2)*(1-z)+to(pe,2)*z),"rgb")};As.lrgb=Gp;var Ji=w,Ep=function(x,E,z){var U=x.lab(),B=E.lab();return new Ji(U[0]+z*(B[0]-U[0]),U[1]+z*(B[1]-U[1]),U[2]+z*(B[2]-U[2]),"lab")};As.lab=Ep;var xc=w,io=function(x,E,z,U){var B,ie,te,he;U==="hsl"?(te=x.hsl(),he=E.hsl()):U==="hsv"?(te=x.hsv(),he=E.hsv()):U==="hcg"?(te=x.hcg(),he=E.hcg()):U==="hsi"?(te=x.hsi(),he=E.hsi()):U==="lch"||U==="hcl"?(U="hcl",te=x.hcl(),he=E.hcl()):U==="oklch"&&(te=x.oklch().reverse(),he=E.oklch().reverse());var le,re,pe,ze,Ge,ke;(U.substr(0,1)==="h"||U==="oklch")&&(B=te,le=B[0],pe=B[1],Ge=B[2],ie=he,re=ie[0],ze=ie[1],ke=ie[2]);var st,Xt,oi,Ii;return!isNaN(le)&&!isNaN(re)?(re>le&&re-le>180?Ii=re-(le+360):re<le&&le-re>180?Ii=re+360-le:Ii=re-le,Xt=le+z*Ii):isNaN(le)?isNaN(re)?Xt=Number.NaN:(Xt=re,(Ge==1||Ge==0)&&U!="hsv"&&(st=ze)):(Xt=le,(ke==1||ke==0)&&U!="hsv"&&(st=pe)),st===void 0&&(st=pe+z*(ze-pe)),oi=Ge+z*(ke-Ge),U==="oklch"?new xc([oi,st,Xt],U):new xc([Xt,st,oi],U)},Hl=io,vc=function(x,E,z){return Hl(x,E,z,"lch")};As.lch=vc,As.hcl=vc;var _o=w,Gc=function(x,E,z){var U=x.num(),B=E.num();return new _o(U+z*(B-U),"num")};As.num=Gc;var Ec=io,Cc=function(x,E,z){return Ec(x,E,z,"hcg")};As.hcg=Cc;var Vo=io,ja=function(x,E,z){return Vo(x,E,z,"hsi")};As.hsi=ja;var Rc=io,Ul=function(x,E,z){return Rc(x,E,z,"hsl")};As.hsl=Ul;var Cp=io,_l=function(x,E,z){return Cp(x,E,z,"hsv")};As.hsv=_l;var f=w,b=function(x,E,z){var U=x.oklab(),B=E.oklab();return new f(U[0]+z*(B[0]-U[0]),U[1]+z*(B[1]-U[1]),U[2]+z*(B[2]-U[2]),"oklab")};As.oklab=b;var M=io,R=function(x,E,z){return M(x,E,z,"oklch")};As.oklch=R;var Y=w,_=g.clip_rgb,V=Math.pow,Q=Math.sqrt,ne=Math.PI,ye=Math.cos,Ce=Math.sin,We=Math.atan2,De=function(x,E,z){E===void 0&&(E="lrgb"),z===void 0&&(z=null);var U=x.length;z||(z=Array.from(new Array(U)).map(function(){return 1}));var B=U/z.reduce(function(Xt,oi){return Xt+oi});if(z.forEach(function(Xt,oi){z[oi]*=B}),x=x.map(function(Xt){return new Y(Xt)}),E==="lrgb")return _e(x,z);for(var ie=x.shift(),te=ie.get(E),he=[],le=0,re=0,pe=0;pe<te.length;pe++)if(te[pe]=(te[pe]||0)*z[0],he.push(isNaN(te[pe])?0:z[0]),E.charAt(pe)==="h"&&!isNaN(te[pe])){var ze=te[pe]/180*ne;le+=ye(ze)*z[0],re+=Ce(ze)*z[0]}var Ge=ie.alpha()*z[0];x.forEach(function(Xt,oi){var Ii=Xt.get(E);Ge+=Xt.alpha()*z[oi+1];for(var Gi=0;Gi<te.length;Gi++)if(!isNaN(Ii[Gi]))if(he[Gi]+=z[oi+1],E.charAt(Gi)==="h"){var Ks=Ii[Gi]/180*ne;le+=ye(Ks)*z[oi+1],re+=Ce(Ks)*z[oi+1]}else te[Gi]+=Ii[Gi]*z[oi+1]});for(var ke=0;ke<te.length;ke++)if(E.charAt(ke)==="h"){for(var st=We(re/he[ke],le/he[ke])/ne*180;st<0;)st+=360;for(;st>=360;)st-=360;te[ke]=st}else te[ke]=te[ke]/he[ke];return Ge/=U,new Y(te,E).alpha(Ge>.99999?1:Ge,!0)},_e=function(x,E){for(var z=x.length,U=[0,0,0,0],B=0;B<x.length;B++){var ie=x[B],te=E[B]/z,he=ie._rgb;U[0]+=V(he[0],2)*te,U[1]+=V(he[1],2)*te,U[2]+=V(he[2],2)*te,U[3]+=he[3]*te}return U[0]=Q(U[0]),U[1]=Q(U[1]),U[2]=Q(U[2]),U[3]>.9999999&&(U[3]=1),new Y(_(U))},it=X,Wt=g.type,Ht=Math.pow,gt=function(x){var E="rgb",z=it("#ccc"),U=0,B=[0,1],ie=[],te=[0,0],he=!1,le=[],re=!1,pe=0,ze=1,Ge=!1,ke={},st=!0,Xt=1,oi=function(Ke){if(Ke=Ke||["#fff","#000"],Ke&&Wt(Ke)==="string"&&it.brewer&&it.brewer[Ke.toLowerCase()]&&(Ke=it.brewer[Ke.toLowerCase()]),Wt(Ke)==="array"){Ke.length===1&&(Ke=[Ke[0],Ke[0]]),Ke=Ke.slice(0);for(var vt=0;vt<Ke.length;vt++)Ke[vt]=it(Ke[vt]);ie.length=0;for(var qt=0;qt<Ke.length;qt++)ie.push(qt/(Ke.length-1))}return wn(),le=Ke},Ii=function(Ke){if(he!=null){for(var vt=he.length-1,qt=0;qt<vt&&Ke>=he[qt];)qt++;return qt-1}return 0},Gi=function(Ke){return Ke},Ks=function(Ke){return Ke},ws=function(Ke,vt){var qt,Bt;if(vt==null&&(vt=!1),isNaN(Ke)||Ke===null)return z;if(vt)Bt=Ke;else if(he&&he.length>2){var Zs=Ii(Ke);Bt=Zs/(he.length-2)}else ze!==pe?Bt=(Ke-pe)/(ze-pe):Bt=1;Bt=Ks(Bt),vt||(Bt=Gi(Bt)),Xt!==1&&(Bt=Ht(Bt,Xt)),Bt=te[0]+Bt*(1-te[0]-te[1]),Bt=Math.min(1,Math.max(0,Bt));var Qi=Math.floor(Bt*1e4);if(st&&ke[Qi])qt=ke[Qi];else{if(Wt(le)==="array")for(var Li=0;Li<ie.length;Li++){var Ni=ie[Li];if(Bt<=Ni){qt=le[Li];break}if(Bt>=Ni&&Li===ie.length-1){qt=le[Li];break}if(Bt>Ni&&Bt<ie[Li+1]){Bt=(Bt-Ni)/(ie[Li+1]-Ni),qt=it.interpolate(le[Li],le[Li+1],Bt,E);break}}else Wt(le)==="function"&&(qt=le(Bt));st&&(ke[Qi]=qt)}return qt},wn=function(){return ke={}};oi(x);var yi=function(Ke){var vt=it(ws(Ke));return re&&vt[re]?vt[re]():vt};return yi.classes=function(Ke){if(Ke!=null){if(Wt(Ke)==="array")he=Ke,B=[Ke[0],Ke[Ke.length-1]];else{var vt=it.analyze(B);Ke===0?he=[vt.min,vt.max]:he=it.limits(vt,"e",Ke)}return yi}return he},yi.domain=function(Ke){if(!arguments.length)return B;pe=Ke[0],ze=Ke[Ke.length-1],ie=[];var vt=le.length;if(Ke.length===vt&&pe!==ze)for(var qt=0,Bt=Array.from(Ke);qt<Bt.length;qt+=1){var Zs=Bt[qt];ie.push((Zs-pe)/(ze-pe))}else{for(var Qi=0;Qi<vt;Qi++)ie.push(Qi/(vt-1));if(Ke.length>2){var Li=Ke.map(function(Fi,Di){return Di/(Ke.length-1)}),Ni=Ke.map(function(Fi){return(Fi-pe)/(ze-pe)});Ni.every(function(Fi,Di){return Li[Di]===Fi})||(Ks=function(Fi){if(Fi<=0||Fi>=1)return Fi;for(var Di=0;Fi>=Ni[Di+1];)Di++;var Rr=(Fi-Ni[Di])/(Ni[Di+1]-Ni[Di]),Ja=Li[Di]+Rr*(Li[Di+1]-Li[Di]);return Ja})}}return B=[pe,ze],yi},yi.mode=function(Ke){return arguments.length?(E=Ke,wn(),yi):E},yi.range=function(Ke,vt){return oi(Ke),yi},yi.out=function(Ke){return re=Ke,yi},yi.spread=function(Ke){return arguments.length?(U=Ke,yi):U},yi.correctLightness=function(Ke){return Ke==null&&(Ke=!0),Ge=Ke,wn(),Ge?Gi=function(vt){for(var qt=ws(0,!0).lab()[0],Bt=ws(1,!0).lab()[0],Zs=qt>Bt,Qi=ws(vt,!0).lab()[0],Li=qt+(Bt-qt)*vt,Ni=Qi-Li,Fi=0,Di=1,Rr=20;Math.abs(Ni)>.01&&Rr-- >0;)(function(){return Zs&&(Ni*=-1),Ni<0?(Fi=vt,vt+=(Di-vt)*.5):(Di=vt,vt+=(Fi-vt)*.5),Qi=ws(vt,!0).lab()[0],Ni=Qi-Li})();return vt}:Gi=function(vt){return vt},yi},yi.padding=function(Ke){return Ke!=null?(Wt(Ke)==="number"&&(Ke=[Ke,Ke]),te=Ke,yi):te},yi.colors=function(Ke,vt){arguments.length<2&&(vt="hex");var qt=[];if(arguments.length===0)qt=le.slice(0);else if(Ke===1)qt=[yi(.5)];else if(Ke>1){var Bt=B[0],Zs=B[1]-Bt;qt=Oe(0,Ke,!1).map(function(Di){return yi(Bt+Di/(Ke-1)*Zs)})}else{x=[];var Qi=[];if(he&&he.length>2)for(var Li=1,Ni=he.length,Fi=1<=Ni;Fi?Li<Ni:Li>Ni;Fi?Li++:Li--)Qi.push((he[Li-1]+he[Li])*.5);else Qi=B;qt=Qi.map(function(Di){return yi(Di)})}return it[vt]&&(qt=qt.map(function(Di){return Di[vt]()})),qt},yi.cache=function(Ke){return Ke!=null?(st=Ke,yi):st},yi.gamma=function(Ke){return Ke!=null?(Xt=Ke,yi):Xt},yi.nodata=function(Ke){return Ke!=null?(z=it(Ke),yi):z},yi};function Oe(x,E,z){for(var U=[],B=x<E,ie=z?B?E+1:E-1:E,te=x;B?te<ie:te>ie;B?te++:te--)U.push(te);return U}var qe=w,si=gt,_t=function(x){for(var E=[1,1],z=1;z<x;z++){for(var U=[1],B=1;B<=E.length;B++)U[B]=(E[B]||0)+E[B-1];E=U}return E},ni=function(x){var E,z,U,B,ie,te,he;if(x=x.map(function(Ge){return new qe(Ge)}),x.length===2)E=x.map(function(Ge){return Ge.lab()}),ie=E[0],te=E[1],B=function(Ge){var ke=[0,1,2].map(function(st){return ie[st]+Ge*(te[st]-ie[st])});return new qe(ke,"lab")};else if(x.length===3)z=x.map(function(Ge){return Ge.lab()}),ie=z[0],te=z[1],he=z[2],B=function(Ge){var ke=[0,1,2].map(function(st){return(1-Ge)*(1-Ge)*ie[st]+2*(1-Ge)*Ge*te[st]+Ge*Ge*he[st]});return new qe(ke,"lab")};else if(x.length===4){var le;U=x.map(function(Ge){return Ge.lab()}),ie=U[0],te=U[1],he=U[2],le=U[3],B=function(Ge){var ke=[0,1,2].map(function(st){return(1-Ge)*(1-Ge)*(1-Ge)*ie[st]+3*(1-Ge)*(1-Ge)*Ge*te[st]+3*(1-Ge)*Ge*Ge*he[st]+Ge*Ge*Ge*le[st]});return new qe(ke,"lab")}}else if(x.length>=5){var re,pe,ze;re=x.map(function(Ge){return Ge.lab()}),ze=x.length-1,pe=_t(ze),B=function(Ge){var ke=1-Ge,st=[0,1,2].map(function(Xt){return re.reduce(function(oi,Ii,Gi){return oi+pe[Gi]*Math.pow(ke,ze-Gi)*Math.pow(Ge,Gi)*Ii[Xt]},0)});return new qe(st,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return B},sn=function(x){var E=ni(x);return E.scale=function(){return si(E)},E},fn=X,Tn=function(x,E,z){if(!Tn[z])throw new Error("unknown blend mode "+z);return Tn[z](x,E)},Gr=function(x){return function(E,z){var U=fn(z).rgb(),B=fn(E).rgb();return fn.rgb(x(U,B))}},Er=function(x){return function(E,z){var U=[];return U[0]=x(E[0],z[0]),U[1]=x(E[1],z[1]),U[2]=x(E[2],z[2]),U}},Vl=function(x){return x},ym=function(x,E){return x*E/255},ci=function(x,E){return x>E?E:x},ri=function(x,E){return x>E?x:E},Nc=function(x,E){return 255*(1-(1-x/255)*(1-E/255))},fm=function(x,E){return E<128?2*x*E/255:255*(1-2*(1-x/255)*(1-E/255))},bi=function(x,E){return 255*(1-(1-E/255)/(x/255))},Rp=function(x,E){return x===255?255:(x=255*(E/255)/(1-x/255),x>255?255:x)};Tn.normal=Gr(Er(Vl)),Tn.multiply=Gr(Er(ym)),Tn.screen=Gr(Er(Nc)),Tn.overlay=Gr(Er(fm)),Tn.darken=Gr(Er(ci)),Tn.lighten=Gr(Er(ri)),Tn.dodge=Gr(Er(Rp)),Tn.burn=Gr(Er(bi));for(var Tm=Tn,jl=g.type,gm=g.clip_rgb,bm=g.TWOPI,Ba=Math.pow,Sf=Math.sin,Mf=Math.cos,Im=X,xf=function(x,E,z,U,B){x===void 0&&(x=300),E===void 0&&(E=-1.5),z===void 0&&(z=1),U===void 0&&(U=1),B===void 0&&(B=[0,1]);var ie=0,te;jl(B)==="array"?te=B[1]-B[0]:(te=0,B=[B,B]);var he=function(le){var re=bm*((x+120)/360+E*le),pe=Ba(B[0]+te*le,U),ze=ie!==0?z[0]+le*ie:z,Ge=ze*pe*(1-pe)/2,ke=Mf(re),st=Sf(re),Xt=pe+Ge*(-.14861*ke+1.78277*st),oi=pe+Ge*(-.29227*ke-.90649*st),Ii=pe+Ge*(1.97294*ke);return Im(gm([Xt*255,oi*255,Ii*255,1]))};return he.start=function(le){return le==null?x:(x=le,he)},he.rotations=function(le){return le==null?E:(E=le,he)},he.gamma=function(le){return le==null?U:(U=le,he)},he.hue=function(le){return le==null?z:(z=le,jl(z)==="array"?(ie=z[1]-z[0],ie===0&&(z=z[1])):ie=0,he)},he.lightness=function(le){return le==null?B:(jl(le)==="array"?(B=le,te=le[1]-le[0]):(B=[le,le],te=0),he)},he.scale=function(){return Im.scale(he)},he.hue(z),he},vf=w,Gf="0123456789abcdef",Ef=Math.floor,Cf=Math.random,Rf=function(){for(var x="#",E=0;E<6;E++)x+=Gf.charAt(Ef(Cf()*16));return new vf(x,"hex")},Np=h,Lm=Math.log,Nf=Math.pow,Ff=Math.floor,Pf=Math.abs,Sm=function(x,E){E===void 0&&(E=null);var z={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return Np(x)==="object"&&(x=Object.values(x)),x.forEach(function(U){E&&Np(U)==="object"&&(U=U[E]),U!=null&&!isNaN(U)&&(z.values.push(U),z.sum+=U,U<z.min&&(z.min=U),U>z.max&&(z.max=U),z.count+=1)}),z.domain=[z.min,z.max],z.limits=function(U,B){return Mm(z,U,B)},z},Mm=function(x,E,z){E===void 0&&(E="equal"),z===void 0&&(z=7),Np(x)=="array"&&(x=Sm(x));var U=x.min,B=x.max,ie=x.values.sort(function(Wf,Yf){return Wf-Yf});if(z===1)return[U,B];var te=[];if(E.substr(0,1)==="c"&&(te.push(U),te.push(B)),E.substr(0,1)==="e"){te.push(U);for(var he=1;he<z;he++)te.push(U+he/z*(B-U));te.push(B)}else if(E.substr(0,1)==="l"){if(U<=0)throw new Error("Logarithmic scales are only possible for values > 0");var le=Math.LOG10E*Lm(U),re=Math.LOG10E*Lm(B);te.push(U);for(var pe=1;pe<z;pe++)te.push(Nf(10,le+pe/z*(re-le)));te.push(B)}else if(E.substr(0,1)==="q"){te.push(U);for(var ze=1;ze<z;ze++){var Ge=(ie.length-1)*ze/z,ke=Ff(Ge);if(ke===Ge)te.push(ie[ke]);else{var st=Ge-ke;te.push(ie[ke]*(1-st)+ie[ke+1]*st)}}te.push(B)}else if(E.substr(0,1)==="k"){var Xt,oi=ie.length,Ii=new Array(oi),Gi=new Array(z),Ks=!0,ws=0,wn=null;wn=[],wn.push(U);for(var yi=1;yi<z;yi++)wn.push(U+yi/z*(B-U));for(wn.push(B);Ks;){for(var Ke=0;Ke<z;Ke++)Gi[Ke]=0;for(var vt=0;vt<oi;vt++)for(var qt=ie[vt],Bt=Number.MAX_VALUE,Zs=void 0,Qi=0;Qi<z;Qi++){var Li=Pf(wn[Qi]-qt);Li<Bt&&(Bt=Li,Zs=Qi),Gi[Zs]++,Ii[vt]=Zs}for(var Ni=new Array(z),Fi=0;Fi<z;Fi++)Ni[Fi]=null;for(var Di=0;Di<oi;Di++)Xt=Ii[Di],Ni[Xt]===null?Ni[Xt]=ie[Di]:Ni[Xt]+=ie[Di];for(var Rr=0;Rr<z;Rr++)Ni[Rr]*=1/Gi[Rr];Ks=!1;for(var Ja=0;Ja<z;Ja++)if(Ni[Ja]!==wn[Ja]){Ks=!0;break}wn=Ni,ws++,ws>200&&(Ks=!1)}for(var Qa={},wc=0;wc<z;wc++)Qa[wc]=[];for(var Xc=0;Xc<oi;Xc++)Xt=Ii[Xc],Qa[Xt].push(ie[Xc]);for(var Bo=[],Bl=0;Bl<z;Bl++)Bo.push(Qa[Bl][0]),Bo.push(Qa[Bl][Qa[Bl].length-1]);Bo=Bo.sort(function(Wf,Yf){return Wf-Yf}),te.push(Bo[0]);for(var wp=1;wp<Bo.length;wp+=2){var Jl=Bo[wp];!isNaN(Jl)&&te.indexOf(Jl)===-1&&te.push(Jl)}}return te},xm={analyze:Sm,limits:Mm},vm=w,wf=function(x,E){x=new vm(x),E=new vm(E);var z=x.luminance(),U=E.luminance();return z>U?(z+.05)/(U+.05):(U+.05)/(z+.05)},Gm=w,Cr=Math.sqrt,os=Math.pow,Xf=Math.min,Df=Math.max,Em=Math.atan2,Cm=Math.abs,Fc=Math.cos,Rm=Math.sin,Of=Math.exp,Nm=Math.PI,Pc=function(x,E,z,U,B){z===void 0&&(z=1),U===void 0&&(U=1),B===void 0&&(B=1);var ie=function(Jl){return 360*Jl/(2*Nm)},te=function(Jl){return 2*Nm*Jl/360};x=new Gm(x),E=new Gm(E);var he=Array.from(x.lab()),le=he[0],re=he[1],pe=he[2],ze=Array.from(E.lab()),Ge=ze[0],ke=ze[1],st=ze[2],Xt=(le+Ge)/2,oi=Cr(os(re,2)+os(pe,2)),Ii=Cr(os(ke,2)+os(st,2)),Gi=(oi+Ii)/2,Ks=.5*(1-Cr(os(Gi,7)/(os(Gi,7)+os(25,7)))),ws=re*(1+Ks),wn=ke*(1+Ks),yi=Cr(os(ws,2)+os(pe,2)),Ke=Cr(os(wn,2)+os(st,2)),vt=(yi+Ke)/2,qt=ie(Em(pe,ws)),Bt=ie(Em(st,wn)),Zs=qt>=0?qt:qt+360,Qi=Bt>=0?Bt:Bt+360,Li=Cm(Zs-Qi)>180?(Zs+Qi+360)/2:(Zs+Qi)/2,Ni=1-.17*Fc(te(Li-30))+.24*Fc(te(2*Li))+.32*Fc(te(3*Li+6))-.2*Fc(te(4*Li-63)),Fi=Qi-Zs;Fi=Cm(Fi)<=180?Fi:Qi<=Zs?Fi+360:Fi-360,Fi=2*Cr(yi*Ke)*Rm(te(Fi)/2);var Di=Ge-le,Rr=Ke-yi,Ja=1+.015*os(Xt-50,2)/Cr(20+os(Xt-50,2)),Qa=1+.045*vt,wc=1+.015*vt*Ni,Xc=30*Of(-os((Li-275)/25,2)),Bo=2*Cr(os(vt,7)/(os(vt,7)+os(25,7))),Bl=-Bo*Rm(2*te(Xc)),wp=Cr(os(Di/(z*Ja),2)+os(Rr/(U*Qa),2)+os(Fi/(B*wc),2)+Bl*(Rr/(U*Qa))*(Fi/(B*wc)));return Df(0,Xf(100,wp))},jo=w,zf=function(x,E,z){z===void 0&&(z="lab"),x=new jo(x),E=new jo(E);var U=x.get(z),B=E.get(z),ie=0;for(var te in U){var he=(U[te]||0)-(B[te]||0);ie+=he*he}return Math.sqrt(ie)},Fp=w,Fm=function(){for(var x=[],E=arguments.length;E--;)x[E]=arguments[E];try{return new(Function.prototype.bind.apply(Fp,[null].concat(x))),!0}catch{return!1}},Pp=X,m=gt,y={cool:function(){return m([Pp.hsl(180,1,.9),Pp.hsl(250,.7,.4)])},hot:function(){return m(["#000","#f00","#ff0","#fff"]).mode("rgb")}},L={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},G=0,D=Object.keys(L);G<D.length;G+=1){var A=D[G];L[A.toLowerCase()]=L[A]}var Z=L,j=X;j.average=De,j.bezier=sn,j.blend=Tm,j.cubehelix=xf,j.mix=j.interpolate=Lc,j.random=Rf,j.scale=gt,j.analyze=xm.analyze,j.contrast=wf,j.deltaE=Pc,j.distance=zf,j.limits=xm.limits,j.valid=Fm,j.scales=y,j.colors=hc,j.brewer=Z;var se=j;return se})})(Lf);var Nse=Object.defineProperty,X3=Object.getOwnPropertySymbols,Fse=Object.prototype.hasOwnProperty,Pse=Object.prototype.propertyIsEnumerable,D3=(e,i,t)=>i in e?Nse(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,wse=(e,i)=>{for(var t in i||(i={}))Fse.call(i,t)&&D3(e,t,i[t]);if(X3)for(var t of X3(i))Pse.call(i,t)&&D3(e,t,i[t]);return e};const Xse=Lf.exports.scale(["#365370","#FFFFFF","#BC0000"]).colors(256).map(e=>{const i=new Lf.exports.Color(e).rgb();return new nt(i[0]/255,i[1]/255,i[2]/255,1)}),Dse={uniforms:yh.merge([je.lights,{uLut:{value:Xse},minZ:{value:0},maxZ:{value:100},numSteps:{value:10}}]),vertexShader:`
      #include <common>

      varying vec3 vNormal;
      varying vec4 worldCoord;

      void main() {
        #include <beginnormal_vertex>
        #include <defaultnormal_vertex>
        #include <worldpos_vertex>

        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);

        worldCoord = modelMatrix * vec4(position, 1.0);
        vec4 viewPosition = viewMatrix * worldCoord;
        vNormal = normalize(normalMatrix * normal);
      }
    `,fragmentShader:`
    #include <common>
    #include <lights_pars_begin>

    uniform vec4 uLut[256];
    uniform float minZ;
    uniform float maxZ;
    uniform int numSteps;

    varying vec3 vNormal;
    varying vec4 worldCoord;

    void main() {
      vec3 directionalLight = vec3(0, 0, 0);
      float normalDotLight;
      float lightIntensity;
      vec3 colorIntensity;
      float normalizedZ;

      #if NUM_DIR_LIGHTS > 0
        #pragma unroll_loop_start
        for (int i = 0; i < NUM_DIR_LIGHTS; i++) {
          normalDotLight = dot(vNormal, directionalLights[i].direction);
          lightIntensity = smoothstep(0.0, 2.9, normalDotLight);
          colorIntensity = directionalLights[i].color * lightIntensity;
          directionalLight += colorIntensity;
        }
        #pragma unroll_loop_end
      #endif

      normalizedZ = clamp((worldCoord.z - minZ) / (maxZ - minZ), 0.0, 1.0);
      normalizedZ = floor(normalizedZ * float(numSteps)) / float(numSteps);
      int idx = int(floor(normalizedZ * 255.0));

      gl_FragColor = vec4(uLut[idx].xyz * (ambientLightColor + directionalLight), 1.0);
    }`},Ose=(e,i)=>{const t=Math.pow(10,i);return Math.round(e*t)/t};var O3=Object.freeze({__proto__:null,fitElevationRange:(e,i,t,s)=>{if(e>i)throw new Error("minZ > maxZ: "+e+" "+i);if(s>=255)throw new Error("Step count must be under 256");let n=-.1,r=.1;if(e>=t&&i>=t)n=-i,r=i;else if(e<=t&&i>=t){const u=Math.abs(e)>i?e:-i;n=u,r=-u}else if(e<=t&&i<=t)n=e,r=-e;else throw new Error("Failed to fit elevation range: "+e+" "+i);const o=r-n,a=-Math.abs(Math.round(o)).toString().length+1,l=Ose(o,a)/s,h=l/2,c=l*s/2;return[-c-h,c-h]},getElevationMaterial:()=>new fs(wse({defines:{FLAT_SHADED:""},lights:!0,wireframe:!1,side:ds,vertexColors:!1,transparent:!0},Dse)).clone()});const zse=["exp","proj4","camera","look","visible","layersUrl","potreeUrl","ifcUrl","landxmlUrl","photoUrl","photoPosition","photoQuaternion","photosUrl","openNearestPhoto","disablePhotoNavigation"];class Wse{constructor(i){this.queryParams={},this.disabled=!1,this.events=new as,this.domEl=i,this.parse(),this.handleQueryParamUpdate=this.handleQueryParamUpdate.bind(this),this.handleEnterSphere=this.handleEnterSphere.bind(this),this.handleExitSphere=this.handleExitSphere.bind(this),this.domEl.addEventListener(Ye.UpdateQueryParam,this.handleQueryParamUpdate,!1),this.domEl.addEventListener(Ye.EnterSphereMode,this.handleEnterSphere,!1),this.domEl.addEventListener(Ye.ExitSphereMode,this.handleExitSphere,!1)}update(){if(this.disabled)return;const i=new URLSearchParams;for(const t in this.queryParams)i.set(t,this.queryParams[t]);history.replaceState(null,"",`?${i.toString()}`),this.events.dispatch(Ye.QueryParamUpdated,{},this.domEl)}dispose(){this.domEl.removeEventListener(Ye.UpdateQueryParam,this.handleQueryParamUpdate,!1),this.domEl.removeEventListener(Ye.EnterSphereMode,this.handleEnterSphere,!1),this.domEl.removeEventListener(Ye.ExitSphereMode,this.handleExitSphere,!1)}isSet(i){return!!this.queryParams[i]}parse(){for(const i of zse){const t=this.getQueryParam(i);t?this.queryParams[i]=t:typeof this.queryParams[i]<"u"&&delete this.queryParams[i]}}set(i,t,s){switch(s){case"float":this.queryParams[i]=t.toFixed(3);break;case"float[]":this.queryParams[i]=t.map(n=>n.toFixed(3)).join(",");break;case"xyz[]":this.queryParams[i]=`${t.x.toFixed(3)},${t.y.toFixed(3)},${t.z.toFixed(3)}`;break;case"xyzw[]":this.queryParams[i]=`${t.x.toFixed(3)},${t.y.toFixed(3)},${t.z.toFixed(3)},${t.w.toFixed(3)}`;break;case"int":this.queryParams[i]=t.toString();break;case"int[]":this.queryParams[i]=t.map(n=>n.toString()).join(",");break;case"string":this.queryParams[i]=t;break}this.update()}remove(i){this.queryParams[i]&&(delete this.queryParams[i],this.update())}get(i,t){if(this.queryParams[i])switch(t){case"float":return parseFloat(this.queryParams[i]);case"float[]":return this.queryParams[i].split(",").map(r=>parseFloat(r));case"xyz[]":const s=this.get(i,"float[]");return s?{x:s[0],y:s[1],z:s[2]}:void 0;case"xyzw[]":const n=this.get(i,"float[]");return n?{x:n[0],y:n[1],z:n[2],w:n[3]}:void 0;case"int":return parseInt(this.queryParams[i]);case"int[]":return this.queryParams[i].split(",").map(r=>parseInt(r));case"string":return this.queryParams[i];default:return}}getQueryParam(i){const t=new URLSearchParams(document.location.search).get(i);if(t)return decodeURIComponent(t)}handleQueryParamUpdate(i){const{param:t,value:s,paramType:n}=i.detail;this.set(t,s,n)}handleEnterSphere(){this.set("openNearestPhoto","1","string")}handleExitSphere(){this.remove("openNearestPhoto")}}var tc=(e,i,t)=>new Promise((s,n)=>{var r=l=>{try{a(t.next(l))}catch(h){n(h)}},o=l=>{try{a(t.throw(l))}catch(h){n(h)}},a=l=>l.done?s(l.value):Promise.resolve(l.value).then(r,o);a((t=t.apply(e,i)).next())}),Yse=(e=>(e.id="pointscene-js-ui",e))(Yse||{});class Qs{constructor(i){this.showStats=!1,this.loaders=w3,this.materials=O3,this.prevControlDistance=0,this.domEl=i.domEl,this.showStats=i.showStats||!1,this.layers=new h4(this.domEl),this.scene=new ur,this.queryParams=new Wse(this.domEl),this.queryParams.disabled=!!i.disableQueryParams,i.disableTelemetry&&(Ki.disabled=!0);let t=i.renderWidth?i.renderWidth:this.domEl.clientWidth,s=i.renderHeight?i.renderHeight:this.domEl.clientHeight;this.rangeNear=.1,this.rangeFar=15e3,this.fov=60,this.aspectRatio=t/s,this.perspectiveCamera=new On(this.fov,this.aspectRatio,this.rangeNear,this.rangeFar),this.perspectiveCamera.up.set(0,0,1),this.perspectiveCamera.layers.enableAll(),this.orthoCamera=new Bc(-t/2,t/2,s/2,-s/2,this.rangeNear,this.rangeFar),this.orthoCamera.up.set(0,0,1),this.orthoCamera.layers.enableAll(),this.camera=i.cameraMode?i.cameraMode=="perspective"?this.perspectiveCamera:this.orthoCamera:this.perspectiveCamera,this.splitViews=[{camera:this.camera,x:0,y:0,width:t,height:s}],Qs.splitViews=this.splitViews,this.screenWidth=t,this.screenHeight=s,Qs.screenWidth=this.screenWidth,Qs.screenHeight=this.screenHeight,this.renderer=new L0({alpha:!0,antialias:!1}),this.renderer.setClearColor(16777215,0),this.renderer.setSize(t,s),this.renderer.localClippingEnabled=!1,this.renderer.clippingPlanes=[],this.renderer.autoClear=!1,this.renderer.autoClearDepth=!1,this.renderer.setScissorTest(!0),this.renderer.setScissor(0,0,this.screenWidth,this.screenHeight),this.domEl.appendChild(this.renderer.domElement),this.clock=new vA,this.freezeAnimate=!1,this.binds(),this.addListeners(),this.events=new as,this.showStats&&(this.stats=new zA,this.stats.showPanel(0),document.body.appendChild(this.stats.dom)),this.modules=new Jb({domEl:this.domEl,scene:this.scene,camera:this.camera,renderer:this.renderer,referenceFrame:i.referenceFrame,queryParams:this.queryParams}),i.disableControls||(this.camControls=new RI({camera:this.camera,domEl:this.domEl,referenceFrame:this.modules.referenceFrame}),this.controls=this.camControls.controls),i.preventAutoStart||this.start()}dispose(){var i;this.freezeAnimate=!0,this.modules&&(this.modules.dispose(),this.modules=void 0),this.renderer.dispose(),(i=this.camControls)==null||i.dispose(),this.queryParams&&this.queryParams.dispose(),this.removeListeners();for(let t=0;t<this.domEl.childElementCount;t++){const s=this.domEl.children[t];s&&this.domEl.removeChild(s)}}onWindowResize(){const i=this.domEl.clientWidth,t=this.domEl.clientHeight;this.screenWidth=i,this.screenHeight=t,this.renderer.setSize(i,t),this.aspectRatio=this.screenWidth/this.screenHeight,this.camera.aspect=this.aspectRatio,this.camera.updateProjectionMatrix()}handleRendererFocus(){this.renderer.domElement.focus()}handleFitTopView(){this.fitTopView()}binds(){this.handleFitTopView=this.handleFitTopView.bind(this),this.handleRendererFocus=this.handleRendererFocus.bind(this),this.handleControlUICreated=this.handleControlUICreated.bind(this),this.handleMeasureUICreated=this.handleMeasureUICreated.bind(this),this.handleLayerUICreated=this.handleLayerUICreated.bind(this),this.handlePointcloudUICreated=this.handlePointcloudUICreated.bind(this),this.handleSetOrbitMode=this.handleSetOrbitMode.bind(this),this.handleSetSphericalMode=this.handleSetSphericalMode.bind(this),this.handleUpdateOrbitPoint=this.handleUpdateOrbitPoint.bind(this),this.onWindowResize=this.onWindowResize.bind(this)}addListeners(){window.addEventListener("resize",this.onWindowResize,!1),this.renderer.domElement.addEventListener("mousedown",this.handleRendererFocus,!1),this.domEl.addEventListener(Ye.EnterSphereMode,this.handleSetSphericalMode),this.domEl.addEventListener(Ye.ExitSphereMode,this.handleSetOrbitMode),this.domEl.addEventListener(Ye.ControlsUICreated,this.handleControlUICreated,!1),this.domEl.addEventListener(Ye.MeasureUICreated,this.handleMeasureUICreated,!1),this.domEl.addEventListener(Ye.LayerUICreated,this.handleLayerUICreated,!1),this.domEl.addEventListener(Ye.PointcloudUICreated,this.handlePointcloudUICreated,!1),this.domEl.addEventListener(Ye.UpdateOrbitPoint,this.handleUpdateOrbitPoint),this.domEl.addEventListener(Ye.FitTopView,this.handleFitTopView,!1)}handleUpdateOrbitPoint(i){var t;const s=i.detail.point;(t=this.camControls)==null||t.updateOrbitPoint(s)}handleControlUICreated(){this.events.dispatch(Ye.RegisterControls,{controls:this.camControls},this.domEl)}handleLayerUICreated(){this.events.dispatch(Ye.RegisterLayers,{layers:this.layers},this.domEl)}handleSetSphericalMode(i){var t;const s=i.detail.target,n=i.detail.normal,r=i.detail.saveState;(t=this.camControls)==null||t.setSphericalMode(s.position,n,!!r)}handleSetOrbitMode(){var i;(i=this.camControls)==null||i.setOrbitMode()}removeListeners(){window.removeEventListener("resize",this.onWindowResize,!1),this.renderer.domElement.removeEventListener("mousedown",this.handleRendererFocus,!1),this.domEl.removeEventListener(Ye.EnterSphereMode,this.handleSetSphericalMode),this.domEl.removeEventListener(Ye.ExitSphereMode,this.handleSetOrbitMode),this.domEl.removeEventListener(Ye.MeasureUICreated,this.handleMeasureUICreated),this.domEl.removeEventListener(Ye.LayerUICreated,this.handleLayerUICreated),this.domEl.removeEventListener(Ye.PointcloudUICreated,this.handlePointcloudUICreated),this.domEl.removeEventListener(Ye.UpdateOrbitPoint,this.handleUpdateOrbitPoint),this.domEl.removeEventListener(Ye.FitTopView,this.handleFitTopView),this.modules&&this.modules.removeListeners()}handleMeasureUICreated(){if(!this.modules)throw new Error("Missing modules");this.events.dispatch(Ye.RegisterPicker,{picker:this.modules.picker,referenceFrame:this.modules.referenceFrame,renderer:this.renderer},this.domEl)}handlePointcloudUICreated(){if(!this.modules)throw new Error("Missing modules");this.modules.pointclouds||this.modules.createPointcloudModule(),this.events.dispatch(Ye.RegisterPointclouds,{pointclouds:this.modules.pointclouds,picker:this.modules.picker,referenceFrame:this.modules.referenceFrame},this.domEl)}initUI(i={}){const t=document.createElement("pointscene-js-ui");t.id="pointscene-js-ui",t.setAttribute("spherical",""),i.disableControls||t.setAttribute("controls",""),i.disableMeasure||t.setAttribute("measure",""),i.disableLayers||t.setAttribute("layers",""),i.disablePointclouds||t.setAttribute("pointcloud",""),i.disableShare||t.setAttribute("share",""),typeof i.domElId<"u"?t.setAttribute("domel",i.domElId):t.setAttribute("domel",this.domEl.id),this.domEl.append(t)}disposeUI(){const i=document.querySelector("#pointscene-js-ui");if(i)try{this.domEl.removeChild(i)}catch{console.warn("disposeUI: Failed to remove UI el",i)}}getWorldBoundingBox(i=!1){if(!this.modules)return;const t=this.getSceneBoundingBox(i);if(!t)return;const s=this.modules.referenceFrame.toGeo(t.min),n=this.modules.referenceFrame.toGeo(t.max),r=new Pi;return r.expandByPoint(s),r.expandByPoint(n),r}getSceneBoundingBox(i=!1){if(!this.modules)return;const t=[];if(typeof this.modules.pointclouds<"u"){const r=this.modules.pointclouds.getBoundingBox();isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.min.z)&&isFinite(r.max.x)&&isFinite(r.max.y)&&isFinite(r.max.z)&&t.push(new H(r.min.x,r.min.y,r.min.z),new H(r.max.x,r.max.y,r.max.z))}const s=new Pi;this.modules.scenePickable.children.forEach(r=>{s.expandByObject(r)}),this.modules.sceneLabels.children.forEach(r=>{s.expandByObject(r)}),i&&this.modules.sceneStatic.children.forEach(r=>{s.expandByObject(r)}),isFinite(s.min.x)&&isFinite(s.min.y)&&isFinite(s.min.z)&&isFinite(s.max.x)&&isFinite(s.max.y)&&isFinite(s.max.z)&&t.push(new H(s.min.x,s.min.y,s.min.z),new H(s.max.x,s.max.y,s.max.z));const n=new Yt().setFromPoints(t);return n.computeBoundingSphere(),n.computeBoundingBox(),n.boundingBox}getCameraPosition(){var i;let t=new H;return(i=this.controls)==null||i.getPosition(t),t}getControlTarget(){var i;let t=new H;return(i=this.controls)==null||i.getTarget(t),t}fitTopView(i=!1){return tc(this,null,function*(){var t,s,n,r;const o=this.getSceneBoundingBox();if(!o)return;yield(t=this.controls)==null?void 0:t.rotateTo(0,-Math.PI,!1),yield(s=this.controls)==null?void 0:s.fitToBox(o,i);const a=new H;(n=this.controls)==null||n.getPosition(a);const l=new H;(r=this.controls)==null||r.getTarget(l),l.z=o.min.z,yield this.setCameraView(this.modules.referenceFrame.toGeo(a),this.modules.referenceFrame.toGeo(l),!1)})}fitBoundingBox(i){return tc(this,null,function*(){var t,s,n,r;yield(t=this.controls)==null?void 0:t.rotateTo(0,-Math.PI,!1),yield(s=this.controls)==null?void 0:s.fitToBox(i,!1);const o=new H;(n=this.controls)==null||n.getPosition(o);const a=new H;(r=this.controls)==null||r.getTarget(a),a.z=i.min.z,yield this.setCameraView(this.modules.referenceFrame.toGeo(o),this.modules.referenceFrame.toGeo(a),!1)})}fitLayer(i){return tc(this,null,function*(){const t=this.layers.get(i),s=t==null?void 0:t.object;if(!s)return;const n=s.boundingBox?s.boundingBox:s.geometry.boundingBox;!n||this.fitBoundingBox(n)})}setCameraView(i,t,s=!1){return tc(this,null,function*(){if(!this.controls&&!this.modules)return;const n=this.modules.referenceFrame.toScene(i),r=this.modules.referenceFrame.toScene(t);yield this.controls.setFocalOffset(0,0,0,!1),yield this.controls.setLookAt(n.x,n.y,n.z,r.x,r.y,r.z,s)})}getScreenShot(i){let t=!0;i!==void 0&&(t=i);try{this.render();const s=this.renderer.domElement.toDataURL("image/png");if(t){const n=document.createElement("a");return n.href=s,n.download="pointscene_"+Date.now()+".png",n.style.display="none",document.body.appendChild(n),n.click(),setTimeout(function(){document.body.removeChild(n)},1e3),!0}else return s}catch(s){return console.warn("Error saving screenshot",s),!1}}setCameraMode(i){switch(i){case"orthographic":console.log("set orthographic"),this.camera=this.orthoCamera;break;case"perspective":console.log("set perspective"),this.camera=this.perspectiveCamera;break}this.controls&&(this.controls.camera=this.camera)}setClippingPlanes(i){this.renderer.clippingPlanes=i,this.renderer.localClippingEnabled=!1}render(){this.freezeAnimate||!this.modules||(Qs.splitViews.length>1&&this.renderer.setScissorTest(!0),this.modules.render(Qs.splitViews))}update(){var i,t,s;if(this.freezeAnimate)return;const n=this.clock.getDelta();(i=this.camControls)==null||i.update(n);let r;((t=this.controls)==null?void 0:t.distance)&&((s=this.camControls)==null?void 0:s.allowOrbitWalkAutoChange)&&(this.controls.distance>this.prevControlDistance?r="out":r="in",this.prevControlDistance=this.controls.distance),r&&r==="in"&&this.controls&&this.camControls&&this.controls.distance<this.camControls.fpsMaxDistance+.2&&this.camControls.mode===zn.Orbit?this.camControls.setFirstPersonMode(!1,!1):r&&this.controls&&this.camControls&&this.controls.distance>this.camControls.fpsMaxDistance-.2&&this.camControls.mode===zn.FirstPerson&&this.camControls.setOrbitMode(!1,!1),this.modules&&this.modules.update(n)}animate(){this.stats&&this.stats.begin(),requestAnimationFrame(this.animate.bind(this)),this.update(),this.render(),this.stats&&this.stats.end()}static projectPoints(i,t,s){return tc(this,null,function*(){return new Promise(n=>{const r=new f1;r.onmessage=a=>{r.terminate(),n(a.data.points)};const o={projIn:t,projOut:s,points:i};r.postMessage(o)})})}projectPoints(i,t,s){return tc(this,null,function*(){return new Promise(n=>{const r=new f1;r.onmessage=a=>{r.terminate(),n(a.data.points)};const o={projIn:t,projOut:s,points:i};r.postMessage(o)})})}start(){console.log("Pointscene.js",WA,"(c) Pointscene Ltd"),this.animate()}}const z3=e=>new Qs({domEl:e.domEl,showStats:e.showStats||!1,preserveDrawingBuffer:e.preserveDrawingBuffer||!1,referenceFrame:e.referenceFrame}),kse=(e,i,t,s="XYZ",n=[1,0,0,0,1,0,0,0,1])=>{if(n.length!==9)throw new Error("Transformation must be an column-major array defining a 3x3 matrix");const r=new ho(e,i,t,s),o=new pt().makeRotationFromEuler(r),a=new nn().setFromMatrix4(o),l=new nn().fromArray(n);a.multiply(l);const h=new pt().setFromMatrix3(a),c=new bn().setFromRotationMatrix(h);return{x:c.x,y:c.y,z:c.z,w:c.w}},Ase=(e,i,t,s)=>new us(new H(e,i,t),s);class Kse{projectedRadius(i,t,s,n){let r=1/Math.tan(t/2)/s;return r=r*n/2,i*r}lineSegmentIntersection2D(i,t,s,n){function r(a,l,h){return a-1e-7<=l&&l<=h+1e-7}function o(a,l,h,c,u,p,d,T){const g=((a*c-l*h)*(u-d)-(a-h)*(u*T-p*d))/((a-h)*(p-T)-(l-c)*(u-d)),I=((a*c-l*h)*(p-T)-(l-c)*(u*T-p*d))/((a-h)*(p-T)-(l-c)*(u-d));if(isNaN(g)||isNaN(I))return!1;if(a>=h){if(!r(h,g,a))return!1}else if(!r(a,g,h))return!1;if(l>=c){if(!r(c,I,l))return!1}else if(!r(l,I,c))return!1;if(u>=d){if(!r(d,g,u))return!1}else if(!r(u,g,d))return!1;if(p>=T){if(!r(T,I,p))return!1}else if(!r(p,I,T))return!1;return{x:g,y:I}}return o(i.x,i.y,t.x,t.y,s.x,s.y,n.x,n.y)!==!1}lineLineIntersection2D(i,t,s,n){const r=function(o,a,l){return(l.y-o.y)*(a.x-o.x)>(a.y-o.y)*(l.x-o.x)};return r(i,s,n)!==r(t,s,n)&&r(i,t,s)!==r(i,t,n)}pointInPolygon2D(i,t){let s,n,r=!1;for(s=0,n=i.length-1;s<i.length;n=s++)i[s].y>t.y!=i[n].y>t.y&&t.x<(i[n].x-i[s].x)*(t.y-i[s].y)/(i[n].y-i[s].y)+i[s].x&&(r=!r);return r}almostEquals(i,t,s,n){return n=n||!1,n&&i<0&&(i*=-1),s=s||Number.EPSILON,i>t-s&&i<=t+s}getMiddlePoint(i,t){return i.clone().lerp(t,.5)}getLineIntersectionXY(i,t,s,n){const r=Number.EPSILON,o=(i.x-t.x)*(s.y-n.y)-(i.y-t.y)*(s.x-n.x);if(o<r&&o>=-r)return;const a=i.x*t.y-i.y*t.x,l=s.x*n.y-s.y*n.x;let h=a*(s.x-n.x)-(i.x-t.x)*l;h/=o;let c=a*(s.y-n.y)-(i.y-t.y)*l;return c/=o,new H(h,c,0)}arrayToMatrix(i,t){t=t||3;const s=i.length/t,n=[];for(let r=0;r<s;r++){const o=r*t;n.push([i[o+0],i[o+1],i[o+2]])}return n}typedToArray(i,t){t=t||3;const s=i.length/t,n=[];for(const r=0;r<s;r+t)n.push(i[r+0]),n.push(i[r+1]),n.push(i[r+2]);return n}arrayToTyped(i){const t=i[0].length,s=i.length,n=new Float32Array(t*s);for(let r=0;r<s;r++)n[r*t+0]=i[r][0],n[r*t+1]=i[r][1],n[r*t+2]=i[r][2];return n}flipNormal(i,t,s){return t=t||new H(0,0,0),s=s||new H(0,0,Number.MAX_VALUE),new H(s.x-t.x,s.y-t.y,s.z-t.z).clone().dot(i)<0&&i.multiplyScalar(-1),i}getPlaneNormal(i){const t=this.getCentroid(i);for(let n=0;n<i.length;n++)i[n][0]-=t[0],i[n][1]-=t[1],i[n][2]-=t[2];const s=this.getSVD(i);return new H(s.V[2][0],s.V[2][1],s.V[2][2])}getCentroid(i){let t=0,s=0,n=0;const r=i.length;for(let o=0;o<r;o++){const a=i[o];t+=a[0],s+=a[1],n+=a[2]}return[t/r,s/r,n/r]}rep(i,t,s){typeof s>"u"&&(s=0);const n=i[s],r=Array(n);let o;if(s===i.length-1){for(o=n-2;o>=0;o-=2)r[o+1]=t,r[o]=t;return o===-1&&(r[0]=t),r}for(o=n-1;o>=0;o--)r[o]=this.rep(i,t,s+1);return r}getSVD(i){let t=2220446049250313e-31;const s=1e-64/t,n=50;let r=0,o=0,a=0,l=0,h=0;const c=i,u=c.length,p=c[0].length;if(u<p)throw new Error("Need more rows than columns");const d=new Array(p),T=new Array(p);for(o=0;o<p;o++)d[o]=T[o]=0;const g=this.rep([p,p],0);function I(X,K){return X=Math.abs(X),K=Math.abs(K),X>K?X*Math.sqrt(1+K*K/X/X):K===0?X:K*Math.sqrt(1+X*X/K/K)}let v=0,C=0,N=0,F=0,P=0,w=0,O=0;for(o=0;o<p;o++){for(d[o]=C,O=0,h=o+1,a=o;a<u;a++)O+=c[a][o]*c[a][o];if(O<=s)C=0;else for(v=c[o][o],C=Math.sqrt(O),v>=0&&(C=-C),N=v*C-O,c[o][o]=v-C,a=h;a<p;a++){for(O=0,l=o;l<u;l++)O+=c[l][o]*c[l][a];for(v=O/N,l=o;l<u;l++)c[l][a]+=v*c[l][o]}for(T[o]=C,O=0,a=h;a<p;a++)O+=c[o][a]*c[o][a];if(O<=s)C=0;else{for(v=c[o][o+1],C=Math.sqrt(O),v>=0&&(C=-C),N=v*C-O,c[o][o+1]=v-C,a=h;a<p;a++)d[a]=c[o][a]/N;for(a=h;a<u;a++){for(O=0,l=h;l<p;l++)O+=c[a][l]*c[o][l];for(l=h;l<p;l++)c[a][l]+=O*d[l]}}P=Math.abs(T[o])+Math.abs(d[o]),P>F&&(F=P)}for(o=p-1;o!==-1;o+=-1){if(C!==0){for(N=C*c[o][o+1],a=h;a<p;a++)g[a][o]=c[o][a]/N;for(a=h;a<p;a++){for(O=0,l=h;l<p;l++)O+=c[o][l]*g[l][a];for(l=h;l<p;l++)g[l][a]+=O*g[l][o]}}for(a=h;a<p;a++)g[o][a]=0,g[a][o]=0;g[o][o]=1,C=d[o],h=o}for(o=p-1;o!==-1;o+=-1){for(h=o+1,C=T[o],a=h;a<p;a++)c[o][a]=0;if(C!==0){for(N=c[o][o]*C,a=h;a<p;a++){for(O=0,l=h;l<u;l++)O+=c[l][o]*c[l][a];for(v=O/N,l=o;l<u;l++)c[l][a]+=v*c[l][o]}for(a=o;a<u;a++)c[a][o]/=C}else for(a=o;a<u;a++)c[a][o]=0;c[o][o]+=1}for(t*=F,l=p-1;l!==-1;l+=-1)for(let X=0;X<n;X++){let K=!1;for(h=l;h!==-1;h+=-1){if(Math.abs(d[h])<=t){K=!0;break}if(Math.abs(T[h-1])<=t)break}if(!K){r=0,O=1;const ee=h-1;for(o=h;o<l+1&&(v=O*d[o],d[o]*=r,!(Math.abs(v)<=t));o++)for(C=T[o],N=I(v,C),T[o]=N,r=C/N,O=-v/N,a=0;a<u;a++)P=c[a][ee],w=c[a][o],c[a][ee]=P*r+w*O,c[a][o]=-P*O+w*r}if(w=T[l],h===l){if(w<0)for(T[l]=-w,a=0;a<p;a++)g[a][l]=-g[a][l];break}if(X>=n-1)throw new Error("Error: no convergence.");for(F=T[h],P=T[l-1],C=d[l-1],N=d[l],v=((P-w)*(P+w)+(C-N)*(C+N))/(2*N*P),C=I(v,1),v<0?v=((F-w)*(F+w)+N*(P/(v-C)-N))/F:v=((F-w)*(F+w)+N*(P/(v+C)-N))/F,r=1,O=1,o=h+1;o<l+1;o++){for(C=d[o],P=T[o],N=O*C,C*=r,w=I(v,N),d[o-1]=w,r=v/w,O=N/w,v=F*r+C*O,C=-F*O+C*r,N=P*O,P*=r,a=0;a<p;a++)F=g[a][o-1],w=g[a][o],g[a][o-1]=F*r+w*O,g[a][o]=-F*O+w*r;for(w=I(v,N),T[o-1]=w,r=v/w,O=N/w,v=r*C+O*P,F=-O*C+r*P,a=0;a<u;a++)P=c[a][o-1],w=c[a][o],c[a][o-1]=P*r+w*O,c[a][o]=-P*O+w*r}d[h]=0,d[l]=v,T[l]=F}for(o=0;o<T.length;o++)T[o]<t&&(T[o]=0);for(o=0;o<p;o++)for(a=o-1;a>=0;a--)if(T[a]<T[o]){for(r=T[a],T[a]=T[o],T[o]=r,l=0;l<c.length;l++){const X=c[l][o];c[l][o]=c[l][a],c[l][a]=X}for(l=0;l<g.length;l++){const X=g[l][o];g[l][o]=g[l][a],g[l][a]=X}o=a}return{U:c,S:T,V:g}}}class Zse extends _i{constructor(){super();const i=new ys;i.minFilter=Ui,i.magFilter=Ui;const t=new fg({map:i,depthTest:!0,depthWrite:!0});this.material=t,this.sprite=new uA(t),this.add(this.sprite),this.borderThickness=0,this.fontface="Open Sans",this.fontsize=24,this.borderColor={r:255,g:255,b:255,a:1},this.backgroundColor={r:255,g:255,b:255,a:1},this.textColor={r:255,g:255,b:255,a:1},this.text=""}setText(i){this.text!==i&&(this.text=i,this.update())}setTextColor(i){this.textColor=i,this.update()}setBorderColor(i){this.borderColor=i,this.update()}setBackgroundColor(i){this.backgroundColor=i,this.update()}update(){let i=document.createElement("canvas"),t=i.getContext("2d");if(!t)return;t.font=this.fontsize+"px "+this.fontface;const s=t.measureText(this.text).width,n=4,r=2*n+s+2*this.borderThickness,o=this.fontsize*1.4+2*this.borderThickness;if(i=document.createElement("canvas"),t=i.getContext("2d"),!t)return;t.canvas.width=r,t.canvas.height=o,t.font=this.fontsize+"px "+this.fontface,t.fillStyle="rgba("+this.backgroundColor.r+","+this.backgroundColor.g+","+this.backgroundColor.b+","+this.backgroundColor.a+")",t.strokeStyle="rgba("+this.borderColor.r+","+this.borderColor.g+","+this.borderColor.b+","+this.borderColor.a+")",t.lineWidth=this.borderThickness,this.roundRect(t,this.borderThickness/2,this.borderThickness/2,s+this.borderThickness+2*n,this.fontsize*1.4+this.borderThickness,0),t.strokeStyle="rgba(255, 255, 255, 1.0)",t.strokeText(this.text,this.borderThickness+n,this.fontsize+this.borderThickness),t.fillStyle="rgba("+this.textColor.r+","+this.textColor.g+","+this.textColor.b+","+this.textColor.a+")",t.fillText(this.text,this.borderThickness+n,this.fontsize+this.borderThickness);const a=new ys(i);a.minFilter=Is,a.magFilter=Is,a.needsUpdate=!0,this.sprite.material.map=a,this.sprite.scale.set(r*.01,o*.01,1)}roundRect(i,t,s,n,r,o){i.beginPath(),i.moveTo(t+o,s),i.lineTo(t+n-o,s),i.quadraticCurveTo(t+n,s,t+n,s+o),i.lineTo(t+n,s+r-o),i.quadraticCurveTo(t+n,s+r,t+n-o,s+r),i.lineTo(t+o,s+r),i.quadraticCurveTo(t,s+r,t,s+r-o),i.lineTo(t,s+o),i.quadraticCurveTo(t,s,t+o,s),i.closePath(),i.fill(),i.stroke()}}class Hse{getPotreeProfileFromBBox(i){let t;if(i instanceof Pi){let I;parseInt(or,10)<102?I=i.getSize():(I=new H,i.getSize(I));const v=new dh(I.x,I.y,I.z),C=new Uc;t=new fi(v,C);let N;parseInt(or,10)<102?N=i.getCenter():(N=new H,i.getCenter(N)),t.position.set(N.x,N.y,N.z)}else t=i;const s={};s.points=[],s.width=1;const n=t.quaternion.clone();t.rotation.set(0,0,0);const r=i instanceof _i?new Pi().setFromObject(t):i;let o;parseInt(or,10)<102?o=r.getSize():(o=new H,r.getSize(o));const a=o.x,l=o.z;let h;parseInt(or,10)<102?h=r.getCenter():(h=new H,r.getCenter(h));const c=new H(0,0,l/2),u=new H(0,0,-l/2),p=new H(0,o.y/2,0),d=new H(0,-o.y/2,0);c.applyQuaternion(n),u.applyQuaternion(n),c.add(h),u.add(h),p.add(h),d.add(h);const T=c,g=u;return s.points.push(T),s.points.push(g),s.start=T,s.end=g,s.width=a,s.top=p,s.bottom=d,s}}Si.CameraControls=RI,Si.ClippingPlaneTool=d1,Si.ControlMode=zn,Si.CustomMath=Kse,Si.EDLRenderer=Gb,Si.ElevationRangeTool=r1,Si.MeasureTool=Zh,Si.Modules=Jb,Si.PhotoSpheres=$g,Si.Photos=_g,Si.PointCloudProfileRequest=s1,Si.PointClouds=Rb,Si.PointsceneEvents=Ye,Si.Potree=tZ,Si.ProfileData=Ud,Si.ProfilePoints=Py,Si.ProfileView=l1,Si.ProfileViewLabels=n1,Si.SplitViewSlider=h1,Si.TextSprite=Zse,Si.Transformations=Hse,Si.World=Qs,Si.default=z3,Si.eulerToQuaternion=kse,Si.getPlane=Ase,Si.init=z3,Si.loaders=w3,Si.materials=O3,Object.defineProperty(Si,"__esModule",{value:!0})});
